[{"tags": ["mysql", "json", "perl"], "answers": [{"comments": [{"owner": {"reputation": 53041, "user_id": 4653379, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/b3953dbedd0dabff5cbc3db9b0835b14?s=128&d=identicon&r=PG&f=1", "display_name": "zdim", "link": "https://stackoverflow.com/users/4653379/zdim"}, "edited": false, "score": 2, "creation_date": 1500502238, "post_id": 45201519, "comment_id": 77370899, "body": "Re: &quot;<i>As your json is a hash reference</i>&quot; -- those assignments <code>= ...</code> just overwrite, regardless of what it is"}, {"owner": {"reputation": 4191, "user_id": 1466640, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/c0630f2d5ac5fb844675c58d3d2dfa57?s=128&d=identicon&r=PG&f=1", "display_name": "AKHolland", "link": "https://stackoverflow.com/users/1466640/akholland"}, "edited": false, "score": 0, "creation_date": 1500561172, "post_id": 45201519, "comment_id": 77401846, "body": "Or just do <code>$json = $sth-&gt;fetchall_arrayref({})</code>"}], "tags": [], "owner": {"reputation": 7980, "user_id": 1213907, "user_type": "registered", "accept_rate": 55, "profile_image": "https://i.stack.imgur.com/ksAFh.png?s=128&g=1", "display_name": "KeepCalmAndCarryOn", "link": "https://stackoverflow.com/users/1213907/keepcalmandcarryon"}, "is_accepted": true, "score": 1, "last_activity_date": 1500500494, "creation_date": 1500500494, "answer_id": 45201519, "question_id": 45201418, "link": "https://stackoverflow.com/questions/45201418/json-prints-just-one-line/45201519#45201519", "title": "JSON prints just one line", "body": "<p>As your json is a hash reference, you keep over writing your element every time. do something like (untested)</p>\n\n<pre><code>my $json=[];\nwhile(my @customer = $sth-&gt;fetchrow_array()) {\n    push @{$json}, {value =&gt; $customer[0], id =&gt; $customer[1]};\n}\nprint JSON::to_json($json);\n</code></pre>\n"}], "owner": {"reputation": 21, "user_id": 7123346, "user_type": "registered", "profile_image": "https://graph.facebook.com/1084608684906892/picture?type=large", "display_name": "dzb", "link": "https://stackoverflow.com/users/7123346/dzb"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 59, "favorite_count": 0, "accepted_answer_id": 45201519, "answer_count": 1, "score": -1, "last_activity_date": 1500500494, "creation_date": 1500500013, "question_id": 45201418, "link": "https://stackoverflow.com/questions/45201418/json-prints-just-one-line", "title": "JSON prints just one line", "body": "<p>I am trying to recieve data from database in JSON format as you see from following code.</p>\n\n<pre><code>use strict;\nuse warnings;\nuse DBI;\nuse CGI;\nuse JSON;\n\nmy $dbh = DBI-&gt;connect('dbi:mysql:hostname=localhost:3306;database=dbname','dbuser','dbpass') or die $DBI::errstr;\n$dbh-&gt;do(\"set names utf8\");\nmy $sth = $dbh-&gt;prepare(qq{select NAME, ID from CUSTOMER;}) or die;\n$dbh-&gt;errstr;\n$sth-&gt;execute() or die $sth-&gt;errstr;    \n\nmy$json={};\n    while(my@customer = $sth-&gt;fetchrow_array()) {\n        $json-&gt;{\"value\"} = $customer[0];\n        $json-&gt;{\"id\"} = \"$customer[1]\";\n    }\nprint JSON::to_json($json);\n</code></pre>\n\n<p>Printed output is just one customer: {\"value\":\"customer_name\",\"id\":\"666\"}. I need to get all the customers, not just the only one. How do I do that? Where is my mistake?</p>\n"}, {"tags": ["python", "linux", "shell", "perl", "mime"], "comments": [{"owner": {"reputation": 320771, "user_id": 589924, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/b2cf53d5a3d25f95c0db4e025aed4153?s=128&d=identicon&r=PG", "display_name": "ikegami", "link": "https://stackoverflow.com/users/589924/ikegami"}, "edited": false, "score": 0, "creation_date": 1500606159, "post_id": 45201225, "comment_id": 77422569, "body": "Equivalent would be <code>perl -MMIME::Base64 -0777pe&#39;print encode_base64($_)&#39;</code>"}], "answers": [{"tags": [], "owner": {"reputation": 45741, "user_id": 744178, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/a3193139ea494c45e63752504f5ff1f2?s=128&d=identicon&r=PG", "display_name": "jwodder", "link": "https://stackoverflow.com/users/744178/jwodder"}, "is_accepted": true, "score": 12, "last_activity_date": 1500499660, "creation_date": 1500499660, "answer_id": 45201330, "question_id": 45201225, "link": "https://stackoverflow.com/questions/45201225/what-is-the-difference-between-base64-and-mime-base-64/45201330#45201330", "title": "What is the difference between base64 and MIME base 64?", "body": "<p>This is not a Perl vs. everyone else thing; this is a \"using Bash's <code>&lt;&lt;&lt;</code> construct\" vs. \"not doing that\" thing.  Though not explicitly documented (at least not in the manpage on Ubuntu Xenial), <a href=\"https://unix.stackexchange.com/q/20157/11006\">Bash appends a newline to herestrings (the <code>&lt;&lt;&lt;</code> thing) when passing them to commands</a>.  As a result, all of the commands you're invoking with <code>&lt;&lt;&lt;</code> are actually encoding <code>'ASDF1234asdf\\n'</code>, while Perl (which isn't invoked with a herestring) is encoding just <code>'ASDF1234asdf'</code>.  Different input, different output.</p>\n\n<p>In order to pass a string without a trailing newline to a command's standard input, use the <code>printf</code> command, e.g.:</p>\n\n<pre><code>$ printf %s ASDF1234asdf | base64\nQVNERjEyMzRhc2Rm\n</code></pre>\n"}, {"comments": [{"owner": {"reputation": 53647, "user_id": 117471, "user_type": "registered", "accept_rate": 31, "profile_image": "https://www.gravatar.com/avatar/959ccd33301cb3c15953c1a632a36763?s=128&d=identicon&r=PG", "display_name": "Bruno Bronosky", "link": "https://stackoverflow.com/users/117471/bruno-bronosky"}, "edited": false, "score": 0, "creation_date": 1516236701, "post_id": 45201359, "comment_id": 83610339, "body": "This is a very concise demo. I added newline suppression and escape character interpretation to the echo command to produce results identical to the OP. (and upvoted)"}], "tags": [], "owner": {"reputation": 38371, "user_id": 3555845, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/6e06f616d9a53b1ca18287d1049a28ee?s=128&d=identicon&r=PG", "display_name": "Daniel", "link": "https://stackoverflow.com/users/3555845/daniel"}, "is_accepted": false, "score": 5, "last_activity_date": 1516236626, "last_edit_date": 1516236626, "creation_date": 1500499772, "answer_id": 45201359, "question_id": 45201225, "link": "https://stackoverflow.com/questions/45201225/what-is-the-difference-between-base64-and-mime-base-64/45201359#45201359", "title": "What is the difference between base64 and MIME base 64?", "body": "<p>There are no different base64 encodings, but encoding a newline character at the end, or not:</p>\n\n<pre><code>$ perl -MMIME::Base64 -e 'print encode_base64(\"ASDF1234asdf\")'\nQVNERjEyMzRhc2Rm\n$ perl -MMIME::Base64 -e 'print encode_base64(\"ASDF1234asdf\\n\")'\nQVNERjEyMzRhc2RmCg==\n$ echo -ne \"my_user_name@my_domain.com\" | base64\nbXlfdXNlcl9uYW1lQG15X2RvbWFpbi5jb20=\n$ echo -ne \"my_user_name@my_domain.com\\n\" | base64\nbXlfdXNlcl9uYW1lQG15X2RvbWFpbi5jb20K\n</code></pre>\n"}], "owner": {"reputation": 53647, "user_id": 117471, "user_type": "registered", "accept_rate": 31, "profile_image": "https://www.gravatar.com/avatar/959ccd33301cb3c15953c1a632a36763?s=128&d=identicon&r=PG", "display_name": "Bruno Bronosky", "link": "https://stackoverflow.com/users/117471/bruno-bronosky"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 1530, "favorite_count": 1, "closed_date": 1500552107, "accepted_answer_id": 45201330, "answer_count": 2, "score": 7, "last_activity_date": 1516236626, "creation_date": 1500499207, "question_id": 45201225, "link": "https://stackoverflow.com/questions/45201225/what-is-the-difference-between-base64-and-mime-base-64", "closed_reason": "Not suitable for this site", "title": "What is the difference between base64 and MIME base 64?", "body": "<p>I just spent way too much time banging my head against an SMTP server because it didn't like the base64 encoded credentials I was using. Turns out that when I chose NOT to use <code>perl</code> like so many instructions on the internet say to use, I was making a big mistake. Why is this? I thought base64 was a single standard.</p>\n\n<p>Consider:</p>\n\n<pre><code>$ perl -MMIME::Base64 -e 'print encode_base64(\"ASDF1234asdf\")'\nQVNERjEyMzRhc2Rm\n\n$ base64 &lt;&lt;&lt;\"ASDF1234asdf\"\nQVNERjEyMzRhc2RmCg==\n\n$ python3.6 -m base64 &lt;&lt;&lt;\"ASDF1234asdf\"\nQVNERjEyMzRhc2RmCg==\n\n$ python2.7 -m base64 &lt;&lt;&lt;\"ASDF1234asdf\"\nQVNERjEyMzRhc2RmCg==\n\n$ perl -MMIME::Base64 -e \"print encode_base64('my_user_name@my_domain.com')\"\nbXlfdXNlcl9uYW1lQG15X2RvbWFpbi5jb20=\n\n$ base64 &lt;&lt;&lt;\"my_user_name@my_domain.com\"\nbXlfdXNlcl9uYW1lQG15X2RvbWFpbi5jb20K\n</code></pre>\n\n<p>So, <code>perl</code> is unique in its output and my server requires it that way.</p>\n\n<p>Why am I getting different results?</p>\n\n<p>How do you get the MIME/SMTP friendly output with something other than perl?</p>\n"}, {"tags": ["bash", "shell", "perl", "sqlplus", "ksh"], "comments": [{"owner": {"reputation": 10884, "user_id": 7840440, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/8YBUl.png?s=128&g=1", "display_name": "Raman Sailopal", "link": "https://stackoverflow.com/users/7840440/raman-sailopal"}, "edited": false, "score": 0, "creation_date": 1500493480, "post_id": 45199130, "comment_id": 77366563, "body": "You will need to ask the question and then have an if statement processing the response."}], "answers": [{"comments": [{"owner": {"reputation": 551, "user_id": 6142154, "user_type": "registered", "profile_image": "https://graph.facebook.com/580882669/picture?type=large", "display_name": "Ulises Andr&#233; Fierro", "link": "https://stackoverflow.com/users/6142154/ulises-andr%c3%a9-fierro"}, "edited": false, "score": 0, "creation_date": 1500500354, "post_id": 45201456, "comment_id": 77370165, "body": "That&#39;s not really what he&#39;s asking. He can&#39;t figure out how to make a Shell Script ask for confirmation before continuing to execute statements."}, {"owner": {"reputation": 1654, "user_id": 3652920, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/qKRou.jpg?s=128&g=1", "display_name": "CDahn", "link": "https://stackoverflow.com/users/3652920/cdahn"}, "reply_to_user": {"reputation": 551, "user_id": 6142154, "user_type": "registered", "profile_image": "https://graph.facebook.com/580882669/picture?type=large", "display_name": "Ulises Andr&#233; Fierro", "link": "https://stackoverflow.com/users/6142154/ulises-andr%c3%a9-fierro"}, "edited": false, "score": 1, "creation_date": 1500500524, "post_id": 45201456, "comment_id": 77370257, "body": "@UlisesAndr&#233;Fierro, he&#39;s got way more problems than that. He&#39;s not even querying the database to make a decision in the first place. I figured I&#39;d at least try to get him in the area rather than flag it as either duplicate or unsalvageable. But I agree, he&#39;s <i>asking</i> for help with conditionals and prompting the user, but he <i>needs</i> help with everything else too."}, {"owner": {"reputation": 551, "user_id": 6142154, "user_type": "registered", "profile_image": "https://graph.facebook.com/580882669/picture?type=large", "display_name": "Ulises Andr&#233; Fierro", "link": "https://stackoverflow.com/users/6142154/ulises-andr%c3%a9-fierro"}, "edited": false, "score": 0, "creation_date": 1500500797, "post_id": 45201456, "comment_id": 77370371, "body": "I assumed he was showing the portion of the code he was having issues with and that he somehow was executing the statements, but you&#39;re right, if that&#39;s the whole script then he&#39;s definitely asking the wrong question."}, {"owner": {"reputation": 145, "user_id": 6292987, "user_type": "registered", "accept_rate": 43, "profile_image": "https://www.gravatar.com/avatar/cf408d91ad5f6adb872fb56220c1b85b?s=128&d=identicon&r=PG&f=1", "display_name": "connollyc4", "link": "https://stackoverflow.com/users/6292987/connollyc4"}, "edited": false, "score": 0, "creation_date": 1500502552, "post_id": 45201456, "comment_id": 77370999, "body": "@CDahn I&#39;m trying to make the script ask for confirmation before executing statement2. Sorry for the confusing post."}, {"owner": {"reputation": 1654, "user_id": 3652920, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/qKRou.jpg?s=128&g=1", "display_name": "CDahn", "link": "https://stackoverflow.com/users/3652920/cdahn"}, "reply_to_user": {"reputation": 145, "user_id": 6292987, "user_type": "registered", "accept_rate": 43, "profile_image": "https://www.gravatar.com/avatar/cf408d91ad5f6adb872fb56220c1b85b?s=128&d=identicon&r=PG&f=1", "display_name": "connollyc4", "link": "https://stackoverflow.com/users/6292987/connollyc4"}, "edited": false, "score": 0, "creation_date": 1500517412, "post_id": 45201456, "comment_id": 77374786, "body": "@connollyc4, yep, but you can&#39;t ask for confirmation until you have the result of the first statement. Your script is currently not talking to sqlplus. If you forgot to include that in your sample code, it would be helpful if you did that. If that&#39;s literally your whole script, you need to add calls to sqlplus to get the count from the database first."}, {"owner": {"reputation": 145, "user_id": 6292987, "user_type": "registered", "accept_rate": 43, "profile_image": "https://www.gravatar.com/avatar/cf408d91ad5f6adb872fb56220c1b85b?s=128&d=identicon&r=PG&f=1", "display_name": "connollyc4", "link": "https://stackoverflow.com/users/6292987/connollyc4"}, "edited": false, "score": 0, "creation_date": 1500518751, "post_id": 45201456, "comment_id": 77375118, "body": "@CDahn I really only want statement1 to run and a prompt to ask if statement2 should run regardless of the output of statement1 the end user can see the result of statement1 to make the  decision to run statement2"}, {"owner": {"reputation": 1654, "user_id": 3652920, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/qKRou.jpg?s=128&g=1", "display_name": "CDahn", "link": "https://stackoverflow.com/users/3652920/cdahn"}, "reply_to_user": {"reputation": 145, "user_id": 6292987, "user_type": "registered", "accept_rate": 43, "profile_image": "https://www.gravatar.com/avatar/cf408d91ad5f6adb872fb56220c1b85b?s=128&d=identicon&r=PG&f=1", "display_name": "connollyc4", "link": "https://stackoverflow.com/users/6292987/connollyc4"}, "edited": false, "score": 0, "creation_date": 1500518926, "post_id": 45201456, "comment_id": 77375159, "body": "@connollyc4, okay, then I agree that this is a duplicate question. See <a href=\"https://stackoverflow.com/questions/226703/how-do-i-prompt-for-yes-no-cancel-input-in-a-linux-shell-script\">question noted above</a> for how to prompt the user for additional input. It&#39;s just odd, since you already have code in your script to ask the user for input, so I thought you really meant something else."}, {"owner": {"reputation": 145, "user_id": 6292987, "user_type": "registered", "accept_rate": 43, "profile_image": "https://www.gravatar.com/avatar/cf408d91ad5f6adb872fb56220c1b85b?s=128&d=identicon&r=PG&f=1", "display_name": "connollyc4", "link": "https://stackoverflow.com/users/6292987/connollyc4"}, "edited": false, "score": 0, "creation_date": 1500521036, "post_id": 45201456, "comment_id": 77375701, "body": "@CDahn the issue I am running into is prompting for a question after the script establishes a connection with Sqlplus and after the end user can see the result of statement1. If the SQL aspect was not part of it then it would be easy for me ask the end user multiple questions via prompt"}, {"owner": {"reputation": 1654, "user_id": 3652920, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/qKRou.jpg?s=128&g=1", "display_name": "CDahn", "link": "https://stackoverflow.com/users/3652920/cdahn"}, "reply_to_user": {"reputation": 145, "user_id": 6292987, "user_type": "registered", "accept_rate": 43, "profile_image": "https://www.gravatar.com/avatar/cf408d91ad5f6adb872fb56220c1b85b?s=128&d=identicon&r=PG&f=1", "display_name": "connollyc4", "link": "https://stackoverflow.com/users/6292987/connollyc4"}, "edited": false, "score": 0, "creation_date": 1500553560, "post_id": 45201456, "comment_id": 77395261, "body": "@connollyc4, I thought I showed you how to do that in my answer, above. But, since you&#39;re still having difficulties, I&#39;m afraid we just don&#39;t fully understand what you&#39;re asking. You might try editing your question to be more in line with <a href=\"https://stackoverflow.com/help/minimal-reproducible-example\">minimal reproducible example</a>, or possibly asking a different question. Good luck!"}, {"owner": {"reputation": 145, "user_id": 6292987, "user_type": "registered", "accept_rate": 43, "profile_image": "https://www.gravatar.com/avatar/cf408d91ad5f6adb872fb56220c1b85b?s=128&d=identicon&r=PG&f=1", "display_name": "connollyc4", "link": "https://stackoverflow.com/users/6292987/connollyc4"}, "edited": false, "score": 0, "creation_date": 1500683685, "post_id": 45201456, "comment_id": 77463926, "body": "@CDahn Thanks for your suggestion. For some reason I thought It did something differently initially. I updated the code with your suggestion. Do you know if there is a cleaner way to do this then what I did? Thanks again for all your help!"}, {"owner": {"reputation": 1654, "user_id": 3652920, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/qKRou.jpg?s=128&g=1", "display_name": "CDahn", "link": "https://stackoverflow.com/users/3652920/cdahn"}, "reply_to_user": {"reputation": 145, "user_id": 6292987, "user_type": "registered", "accept_rate": 43, "profile_image": "https://www.gravatar.com/avatar/cf408d91ad5f6adb872fb56220c1b85b?s=128&d=identicon&r=PG&f=1", "display_name": "connollyc4", "link": "https://stackoverflow.com/users/6292987/connollyc4"}, "edited": false, "score": 0, "creation_date": 1500689492, "post_id": 45201456, "comment_id": 77464788, "body": "@connollyc4, not as far as I know in a shell script. You&#39;re stuck with connecting twice."}], "tags": [], "owner": {"reputation": 1654, "user_id": 3652920, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/qKRou.jpg?s=128&g=1", "display_name": "CDahn", "link": "https://stackoverflow.com/users/3652920/cdahn"}, "is_accepted": false, "score": 2, "last_activity_date": 1500553632, "last_edit_date": 1500553632, "creation_date": 1500500209, "answer_id": 45201456, "question_id": 45199130, "link": "https://stackoverflow.com/questions/45199130/how-to-use-output-of-sqlplus-query-to-prompt-user-for-more-input/45201456#45201456", "title": "How to use output of SqlPlus query to prompt user for more input", "body": "<p>You need to add calls to <code>sqlplus</code> to get the output of the queries you've written. See <a href=\"https://stackoverflow.com/questions/1639704/sqlplus-statement-from-command-line\">this SO question</a> for assistance with that.</p>\n\n<p>Once you have the output, you can use a conditional, as Raman Sailopal suggested. Something like:</p>\n\n<pre><code>output1=\"`sqlplus $statement1`\"\n\nread -p \"User $input appears $output1 times. Create user? [Y/n]\" answer\nif [ -z \"$answer\" -o \"$answer\" == \"y\" -o \"$answer\" == \"Y\" ]\nthen\n    sqlplus $statement2\nelse\n    echo \"Not creating user.\"\nfi\n</code></pre>\n"}], "owner": {"reputation": 145, "user_id": 6292987, "user_type": "registered", "accept_rate": 43, "profile_image": "https://www.gravatar.com/avatar/cf408d91ad5f6adb872fb56220c1b85b?s=128&d=identicon&r=PG&f=1", "display_name": "connollyc4", "link": "https://stackoverflow.com/users/6292987/connollyc4"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 717, "favorite_count": 0, "closed_date": 1500526517, "answer_count": 1, "score": 0, "last_activity_date": 1500683594, "creation_date": 1500491342, "last_edit_date": 1500683594, "question_id": 45199130, "link": "https://stackoverflow.com/questions/45199130/how-to-use-output-of-sqlplus-query-to-prompt-user-for-more-input", "closed_reason": "Duplicate", "title": "How to use output of SqlPlus query to prompt user for more input", "body": "<p>I'm trying to write a script that:</p>\n\n<ol>\n<li>Prompts you for a name</li>\n<li>Does a <code>select count</code> in the sqlplus database to see if it exists</li>\n<li>End user looks at query results and prompt asks user if they would like to run statement2</li>\n<li>If you say yes then a statement2 runs. If no script is killed</li>\n</ol>\n\n<p>The issue I am having is after the first query runs to check if it exists, I'm not sure how to add a prompt asking if you want to insert into the database</p>\n\n<p>Here is my code so far:</p>\n\n<pre><code>echo \"Please enter last name: 'input;\"\nread input\n\nstatement1=\"select count(*) as count from users\nwhere fname = '\"$input\"'\"\n\nstatement2=\"INSERT INTO users VALUES ('\"$input\"');\n$ORACLE_HOME********************************\n    $statement1\n    /\n    quit;\nEossql\n</code></pre>\n\n<p>The part I can't figure out is after statement 1 is executed I want the system to ask if statement 2 should be executed. Any suggestions?</p>\n\n<p>Thanks!</p>\n\n<p>EDIT:\nHere is my edited code thanks to CDahn suggestion. This solution works but I was wondering if there is a cleaner way to do this instead of connecting to sqlplus twice. </p>\n\n<pre><code>echo \"Please enter last name: 'input;\"\nread input\nStatement2=\"INSERT INTO users VALUES ('\"$input\"');\"\noutput1=$($sqlplus -s User/Pass@connection &lt;&lt;EOF\nset head off\nselect count (*) from users\nwhere fname = '$input';\nEXIT;\nEOF\n)\n\nread -p \"User $input appears $output1 times. Create user? [Y/n]\" answer\nif [ -z \"$answer\" -o \"$answer\" == \"y\" -o \"$answer\" == \"Y\" ]\nthen\n\n$sqlplus -s User/Pass@connection &lt;&lt; Eossql\nset autocommit on\nset head off\n$Statement2\n    quit;\nEossql\n\nelse\n    echo \"Not creating user\"\nfi\n</code></pre>\n"}, {"tags": ["perl", "file", "logging", "hash", "big-o"], "comments": [{"owner": {"reputation": 53041, "user_id": 4653379, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/b3953dbedd0dabff5cbc3db9b0835b14?s=128&d=identicon&r=PG&f=1", "display_name": "zdim", "link": "https://stackoverflow.com/users/4653379/zdim"}, "edited": false, "score": 1, "creation_date": 1500490319, "post_id": 45198582, "comment_id": 77364689, "body": "The overlapping <code>BEGIN</code> and <code>END</code> markers ... does it mean that they mark a &quot;section&quot; but the sections can be nested? If those are indeed sections, any info on how large any one section can get?"}], "answers": [{"comments": [{"owner": {"reputation": 195, "user_id": 7793940, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/fWApj.png?s=128&g=1", "display_name": "Vanderdecken", "link": "https://stackoverflow.com/users/7793940/vanderdecken"}, "edited": false, "score": 0, "creation_date": 1500491145, "post_id": 45198669, "comment_id": 77365211, "body": "That is true that using a hash would speed things up. But their solution was to not use a %hash.  I specifically remarked several times that using hashes would speed up the process. They countered that it would not be needed. That reading the files one line at a time and not saving lines would be okay. My guess is they were trying to do  perl1 &gt; perl2 &gt; perl3 stuff. Or want something they can run in a micro service that would not need hashes."}, {"owner": {"reputation": 113221, "user_id": 100754, "user_type": "registered", "accept_rate": 90, "profile_image": "https://www.gravatar.com/avatar/7804ebae32fbadef38537d74a915c22f?s=128&d=identicon&r=PG", "display_name": "Sinan &#220;n&#252;r", "link": "https://stackoverflow.com/users/100754/sinan-%c3%9cn%c3%bcr"}, "reply_to_user": {"reputation": 195, "user_id": 7793940, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/fWApj.png?s=128&g=1", "display_name": "Vanderdecken", "link": "https://stackoverflow.com/users/7793940/vanderdecken"}, "edited": false, "score": 0, "creation_date": 1500491410, "post_id": 45198669, "comment_id": 77365367, "body": "Then you need to update your question to clear things up. You say &quot;<i>Their solution: ... Rescan the log file matching index numbers in the log file to keys in the key file.</i>&quot; ... Then you describe how you implemented that rescan: &quot;Where <b>I</b> am stuck and need help is how to do their solution most efficiently. <b>I</b> read the first log file in one line at a time to get a log entry index. <b>I</b> then read the key file one line at a time to get a key. <b>I</b> then did an &#39;eq&#39; on the index and the key&quot; ... Nothing is preventing you from reading back just the identifiers into a hash."}, {"owner": {"reputation": 113221, "user_id": 100754, "user_type": "registered", "accept_rate": 90, "profile_image": "https://www.gravatar.com/avatar/7804ebae32fbadef38537d74a915c22f?s=128&d=identicon&r=PG", "display_name": "Sinan &#220;n&#252;r", "link": "https://stackoverflow.com/users/100754/sinan-%c3%9cn%c3%bcr"}, "reply_to_user": {"reputation": 195, "user_id": 7793940, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/fWApj.png?s=128&g=1", "display_name": "Vanderdecken", "link": "https://stackoverflow.com/users/7793940/vanderdecken"}, "edited": false, "score": 0, "creation_date": 1500491553, "post_id": 45198669, "comment_id": 77365442, "body": "But if there is a constraint of not even keeping that in memory, you can use Berkeley DB or similar for an on disk key-value lookup table, memcache whatever. You don&#39;t have to scan the file <i>N</i> times, just 2."}, {"owner": {"reputation": 195, "user_id": 7793940, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/fWApj.png?s=128&g=1", "display_name": "Vanderdecken", "link": "https://stackoverflow.com/users/7793940/vanderdecken"}, "edited": false, "score": 0, "creation_date": 1500491663, "post_id": 45198669, "comment_id": 77365504, "body": "I guess my question then is how to do the matching the keys with one read at a time faster. If I read the larger file in one pass then I read the key file multiple times. If I read the keys file first then match to each line of the larger file the time should be the same? What if I read a line from the log file and then grepped the index against the key file?"}, {"owner": {"reputation": 195, "user_id": 7793940, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/fWApj.png?s=128&g=1", "display_name": "Vanderdecken", "link": "https://stackoverflow.com/users/7793940/vanderdecken"}, "edited": false, "score": 0, "creation_date": 1500492485, "post_id": 45198669, "comment_id": 77365962, "body": "I asked, even suggested that the output goes in a DB. Nope, they wanted just reads. Could I use an index into the key file to exclude keys to records that have been completed?  Could I have duplicated the keys file, then used the duplicate while deleting keys once the record was done so as to decrease the number of keys each time? Could I have run through a duplicate of the original log file and deleted entries that were not in they key file, if the key file had been sorted first? Trying to think of a way to their side with only file manipulation as they suggested."}, {"owner": {"reputation": 195, "user_id": 7793940, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/fWApj.png?s=128&g=1", "display_name": "Vanderdecken", "link": "https://stackoverflow.com/users/7793940/vanderdecken"}, "edited": false, "score": 0, "creation_date": 1500492923, "post_id": 45198669, "comment_id": 77366243, "body": "My overall goal is to improve my own skills. I could have just claimed victory, but there must be of using duplicate files to delete rows to decrease the sequential re-reads. Any tips on Perl file operations that I don&#39;t know?"}, {"owner": {"reputation": 113221, "user_id": 100754, "user_type": "registered", "accept_rate": 90, "profile_image": "https://www.gravatar.com/avatar/7804ebae32fbadef38537d74a915c22f?s=128&d=identicon&r=PG", "display_name": "Sinan &#220;n&#252;r", "link": "https://stackoverflow.com/users/100754/sinan-%c3%9cn%c3%bcr"}, "reply_to_user": {"reputation": 195, "user_id": 7793940, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/fWApj.png?s=128&g=1", "display_name": "Vanderdecken", "link": "https://stackoverflow.com/users/7793940/vanderdecken"}, "edited": false, "score": 1, "creation_date": 1500494654, "post_id": 45198669, "comment_id": 77367192, "body": "At this point, we have a vague problem description, and no real constraint specification, so I feel further speculation is not useful. To top it all, you have wasteful constructs in your code, e.g. <code>$queues{ $index } = [@logLines];</code> which make me suspect you may have misunderstood what they said and/or what I am saying and/or I am not understanding what you are saying."}, {"owner": {"reputation": 195, "user_id": 7793940, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/fWApj.png?s=128&g=1", "display_name": "Vanderdecken", "link": "https://stackoverflow.com/users/7793940/vanderdecken"}, "edited": false, "score": 0, "creation_date": 1500494873, "post_id": 45198669, "comment_id": 77367311, "body": "That&#39;s fine Sinan. I am not a Perl guy, I just learned it in a few days to do this. I may have answered my own question in the end. I would still like to look at Perl file manipulation. Being judgemental does not really help though does it?"}, {"owner": {"reputation": 113221, "user_id": 100754, "user_type": "registered", "accept_rate": 90, "profile_image": "https://www.gravatar.com/avatar/7804ebae32fbadef38537d74a915c22f?s=128&d=identicon&r=PG", "display_name": "Sinan &#220;n&#252;r", "link": "https://stackoverflow.com/users/100754/sinan-%c3%9cn%c3%bcr"}, "reply_to_user": {"reputation": 195, "user_id": 7793940, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/fWApj.png?s=128&g=1", "display_name": "Vanderdecken", "link": "https://stackoverflow.com/users/7793940/vanderdecken"}, "edited": false, "score": 1, "creation_date": 1500495994, "post_id": 45198669, "comment_id": 77367928, "body": "I am not being judgemental. I am explaining why your question should be closed as &quot;<b>Too broad:</b> Please edit the question to limit it to a specific problem with enough detail to identify an adequate answer. Avoid asking multiple distinct questions at once. See the <a href=\"https://stackoverflow.com/help/how-to-ask\">How to Ask</a> page for help clarifying this question.&quot;"}, {"owner": {"reputation": 113221, "user_id": 100754, "user_type": "registered", "accept_rate": 90, "profile_image": "https://www.gravatar.com/avatar/7804ebae32fbadef38537d74a915c22f?s=128&d=identicon&r=PG", "display_name": "Sinan &#220;n&#252;r", "link": "https://stackoverflow.com/users/100754/sinan-%c3%9cn%c3%bcr"}, "reply_to_user": {"reputation": 195, "user_id": 7793940, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/fWApj.png?s=128&g=1", "display_name": "Vanderdecken", "link": "https://stackoverflow.com/users/7793940/vanderdecken"}, "edited": false, "score": 1, "creation_date": 1500496079, "post_id": 45198669, "comment_id": 77367982, "body": "You can choose to improve the presentation of your question, or you can criticize my comments. I am indifferent as to which one you choose, but one of those actions is bound to be more helpful to you."}, {"owner": {"reputation": 53041, "user_id": 4653379, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/b3953dbedd0dabff5cbc3db9b0835b14?s=128&d=identicon&r=PG&f=1", "display_name": "zdim", "link": "https://stackoverflow.com/users/4653379/zdim"}, "reply_to_user": {"reputation": 195, "user_id": 7793940, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/fWApj.png?s=128&g=1", "display_name": "Vanderdecken", "link": "https://stackoverflow.com/users/7793940/vanderdecken"}, "edited": false, "score": 1, "creation_date": 1500499007, "post_id": 45198669, "comment_id": 77369489, "body": "@Vanderdecken  I didn&#39;t fully understand the problem as posted.  As I read through comments it became <i>less</i> clear what the requirements (and constraints) were.  The comment you reacted at exactly summarized how I felt about the whole thing. It never crossed my mind that it would be &quot;judgemental.&quot;  No need to get sensitive.  Please appreciate that Sinan offered a full and detailed answer (and the right one in my opinion), and engaged in a discussion with you.  I appreciate your effort in posting a detailed question but it ended up unclear to me what exactly you need."}], "tags": [], "owner": {"reputation": 113221, "user_id": 100754, "user_type": "registered", "accept_rate": 90, "profile_image": "https://www.gravatar.com/avatar/7804ebae32fbadef38537d74a915c22f?s=128&d=identicon&r=PG", "display_name": "Sinan &#220;n&#252;r", "link": "https://stackoverflow.com/users/100754/sinan-%c3%9cn%c3%bcr"}, "is_accepted": false, "score": 1, "last_activity_date": 1500492466, "last_edit_date": 1500492466, "creation_date": 1500489862, "answer_id": 45198669, "question_id": 45198582, "link": "https://stackoverflow.com/questions/45198582/parse-a-file-for-error-write-index-of-found-record-to-a-new-file-as-a-key-us/45198669#45198669", "title": "Parse a File for &quot;ERROR&quot;, write index of found record to a new file as a key. Use file of keys to search first file for records", "body": "<blockquote>\n  <p>This reads the key file X times for every line in the log file As the number of keys increases, due to error rate, the time it takes to match one log line against more keys grows fast.</p>\n</blockquote>\n\n<p>No, it actually requires only two passes. Once to identify error blocks. Save those in a hash. Then, during the second pass, check the existence of the key in the hash to decide whether to keep the block.</p>\n\n<p>I am guessing that the concern is that the number of lines you need to preserve may be unbounded.</p>\n\n<p>The following assumes you can keep the a lookup table of tasks with <code>ERROR</code> status codes in memory. If the number of tasks with errors is also potentially huge, you can replace the simple hash lookup table with an on disk key-value store (e.g. Berkeley DB, <code>memcache</code>, <a href=\"https://metacpan.org/pod/CHI\" rel=\"nofollow noreferrer\">CHI</a>, <a href=\"https://metacpan.org/pod/NDBM_File\" rel=\"nofollow noreferrer\">NDBM</a> etc):</p>\n\n<pre><code>#!/usr/bin/env perl\n\nuse strict;\nuse warnings;\n\nuse autouse Carp =&gt; 'croak';\n\nrun($ARGV[0]);\n\nsub run {\n    my $logfile = shift;\n\n    my $failed_tasks = identify_failed_tasks($logfile);\n    print_failed_tasks($logfile, $failed_tasks);\n}\n\nsub identify_failed_tasks {\n    my $logfile = shift;\n\n    open my $in, '&lt;', $logfile\n        or croak \"Failed to open '$logfile' for reading: $!\";\n\n    my %failed_tasks;\n\n    while (my $line = &lt;$in&gt;) {\n        last unless $line =~ /\\S/;\n        my ($id, $status) = split ' ', $line, 3;\n        next unless $status eq 'ERROR';\n        $failed_tasks{$id} = undef;\n    }\n\n    close $in\n        or croak \"Failed to close '$logfile': $!\";\n\n    return \\%failed_tasks;\n}\n\nsub print_failed_tasks {\n    my $logfile = shift;\n    my $failed_tasks = shift;\n\n    open my $in, '&lt;', $logfile\n        or croak \"Failed to open '$logfile' for reading: $!\";\n\n    while (my $line = &lt;$in&gt;) {\n        last unless $line =~ /\\S/;\n        my ($id) = ($line =~ /^(\\S+)/);\n        next unless exists $failed_tasks-&gt;{$id};\n        print $line;\n    }\n\n    close $in\n        or croak \"Failed to close '$logfile': $!\";\n\n    return;\n}\n</code></pre>\n\n<p>Note that the code above assumes you do not have a log file like:</p>\n\n<pre class=\"lang-none prettyprint-override\"><code>04 BEGIN\n04 foo\n04 bar\n04 baz\n03 BEGIN\n03 even more text\n03 ERROR\n04 ERROR\n</code></pre>\n\n<p>If that is a possibility, I would consider inserting lines to be printed in an SQLite database, and printing them out with the appropriate <code>GROUP BY</code> and <code>ORDER BY</code>.</p>\n"}], "owner": {"reputation": 195, "user_id": 7793940, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/fWApj.png?s=128&g=1", "display_name": "Vanderdecken", "link": "https://stackoverflow.com/users/7793940/vanderdecken"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 38, "favorite_count": 0, "answer_count": 1, "score": -2, "last_activity_date": 1500493147, "creation_date": 1500489508, "last_edit_date": 1500493147, "question_id": 45198582, "link": "https://stackoverflow.com/questions/45198582/parse-a-file-for-error-write-index-of-found-record-to-a-new-file-as-a-key-us", "title": "Parse a File for &quot;ERROR&quot;, write index of found record to a new file as a key. Use file of keys to search first file for records", "body": "<p>[upate: Are there Perl file manipulation functions/methods that I am not seeing here?]</p>\n\n<p>I was given a Perl problem for an interview. I believe I gave an answer to the problem, but not the \"brain teaser\" answer they wanted. So, I relearned Perl to code up and test my answer compared to theirs. My Perl is not strong so I am not sure if I coded their solution the best way. I want to be fair to them (I still think my solution is exponentially faster.)</p>\n\n<p>Problem: Scan a log file that contains log entries that are multi lined.</p>\n\n<pre><code>01 BEGIN \n01 some text \n02 BEGIN \n01 more Text \n01 END \n02 other text \n02 END \n03 BEGIN \n03 even more text \n03 ERROR\n...\n</code></pre>\n\n<p>Find the error records and write the entire record to a new file. Above example would produce: </p>\n\n<pre><code>03 BEGIN \n03 even more text \n03 ERROR\n</code></pre>\n\n<p>in the new file. The log entries/records that end with \"END\" are not in the new file. </p>\n\n<p>Constraints: You can't read the entire file in at one go. You have to read one line at a time due to file sizes and memory constraints.</p>\n\n<p>Their solution:</p>\n\n<p>They specifically did not want to read the key file fully into memory as a constraint. \nScan the log file for every occurrence of \"ERROR\". If found then write the \"index\" number, 03, to a new file as a key. This file of keys will be used next.</p>\n\n<pre><code>03\n</code></pre>\n\n<p>Rescan the log file matching index numbers in the log file to keys in the key file.</p>\n\n<p>Where I am stuck and need help is how to do their solution more efficiently.</p>\n\n<p>I read the first log file in one line at a time to get a log entry index.\n  I then read the key file one line at a time to get a key.\n    I then did an 'eq' on the index and the key</p>\n\n<pre><code>    if ( $_[0] eq $key )\n    {\n        return 1;\n    }\n</code></pre>\n\n<p>It seems to me this is inefficient. This reads the entire original log file two times.</p>\n\n<ol>\n<li>to find the keys   </li>\n<li>to match each log line against each key in the key file</li>\n</ol>\n\n<p>This reads the key file X times for every line in the log file As the number of keys increases, due to error rate, the time it takes to match one log line against more keys grows fast.</p>\n\n<p>if there are 10 keys and 100 lines to read then that is 10*100 key file reads.\nif there are 100 keys and 100 lines to read (100% ERROR) then 100*100 key file reads</p>\n\n<p>So, without reading the key file into memory (such as storing keys in a hash), is there a more efficient way to do matching of a log file line to a key?</p>\n\n<p>Is there a way to 'grep' the key file for each line in the key file?\nIs there a better way?\nIf the key file is sorted does that help?\nWould there be a file manipulation method I could use to delete/ignore the keys for the records I have already found in END for the log file, so as to continually decrease the size of the key file to only keys I have not found?</p>\n\n<p>Could I duplicate the error log file and key file? Then delete lines from both files that I know are not needed. I could sort the key file. The error log file could be sorted, but the errors are nested/overlapping.</p>\n\n<p>Am I not seeing old school file manipulations with perl?</p>\n\n<p>=====\nMy solution was to read the log file one line at a time. Then create a queue each time I saw a \"BEGIN\", to store each set of lines with the same index. The queue would then be put in a hash. A hash of queues of log entry lines. </p>\n\n<pre><code>my %queues;\nmy @logLines; # queue to hold lines in order for later write if needed\npush @logLines, $line;\n\n$queues{ $index } = [@logLines];\n</code></pre>\n\n<p>If \"END\" was read, then I deleted the queue as I would not need to write it out.</p>\n\n<p>if \"ERROR\" was read, then I wrote out the contents of the queue, deleted the queue</p>\n\n<p>Then deleted the hash entry for the queue. </p>\n\n<p>The result was the \"ERROR\" blocks being written to a file in proper order. \nNo having to write or rematch a key file.\nNo having to sort the final file.</p>\n\n<p>Against a 10,000 log record file (about 80,000 lines) </p>\n\n<pre><code>#error rate     Their       Mine\n1:1000          2 secs       2 secs\n1:100           4            2\n1:10            20           2\n1:5             38           2\n1:2             79           2\n</code></pre>\n\n<p>that seems wrong to me that my code would:</p>\n\n<pre><code>A. Be so much faster\nB. Be the same no matter the error rate.\n</code></pre>\n\n<p>Any adults here want to compute O(n) for these?</p>\n\n<p>Thanks everyone.</p>\n"}, {"tags": ["perl", "dancer"], "comments": [{"owner": {"reputation": 62184, "user_id": 7231, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/81b76985f3985e35492e25880493d045?s=128&d=identicon&r=PG", "display_name": "Dave Cross", "link": "https://stackoverflow.com/users/7231/dave-cross"}, "edited": false, "score": 0, "creation_date": 1500539663, "post_id": 45197265, "comment_id": 77384936, "body": "Dancer doesn&#39;t have a <code>quick_select</code> function. I assume you&#39;re using a Dancer plugin to add that to your program. It would be helpful if you could tell us where it comes from."}], "answers": [{"comments": [{"owner": {"reputation": 3856, "user_id": 2408332, "user_type": "registered", "accept_rate": 83, "profile_image": "https://i.stack.imgur.com/wG3ow.jpg?s=128&g=1", "display_name": "Chip Dean", "link": "https://stackoverflow.com/users/2408332/chip-dean"}, "edited": false, "score": 1, "creation_date": 1500485853, "post_id": 45197412, "comment_id": 77362106, "body": "Nice that worked! Thanks! I usually don&#39;t use Perl, all these symbols can be confusing."}, {"owner": {"reputation": 123805, "user_id": 622310, "user_type": "registered", "accept_rate": 33, "profile_image": "https://www.gravatar.com/avatar/8b6d35219e1808520bc238b28161e2e6?s=128&d=identicon&r=PG", "display_name": "Borodin", "link": "https://stackoverflow.com/users/622310/borodin"}, "edited": false, "score": 2, "creation_date": 1500486087, "post_id": 45197412, "comment_id": 77362250, "body": "<i>&quot;An array is a list&quot;</i> No, it is not. Arrays and lists are <a href=\"https://perldoc.perl.org/perlfaq4.html#What-is-the-difference-between-a-list-and-an-array%3f\" rel=\"nofollow noreferrer\">very different things</a>."}, {"owner": {"reputation": 8273, "user_id": 1334695, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/431ae6e9f7610b9d6a6a6cdebd0244d5?s=128&d=identicon&r=PG", "display_name": "stevieb", "link": "https://stackoverflow.com/users/1334695/stevieb"}, "reply_to_user": {"reputation": 123805, "user_id": 622310, "user_type": "registered", "accept_rate": 33, "profile_image": "https://www.gravatar.com/avatar/8b6d35219e1808520bc238b28161e2e6?s=128&d=identicon&r=PG", "display_name": "Borodin", "link": "https://stackoverflow.com/users/622310/borodin"}, "edited": false, "score": 0, "creation_date": 1500486139, "post_id": 45197412, "comment_id": 77362275, "body": "@Borodin I was updating to say &quot;a type of list&quot; while you were typing that."}, {"owner": {"reputation": 123805, "user_id": 622310, "user_type": "registered", "accept_rate": 33, "profile_image": "https://www.gravatar.com/avatar/8b6d35219e1808520bc238b28161e2e6?s=128&d=identicon&r=PG", "display_name": "Borodin", "link": "https://stackoverflow.com/users/622310/borodin"}, "edited": false, "score": 1, "creation_date": 1500486319, "post_id": 45197412, "comment_id": 77362388, "body": "@stevieb: I don&#39;t agree with that either."}, {"owner": {"reputation": 8273, "user_id": 1334695, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/431ae6e9f7610b9d6a6a6cdebd0244d5?s=128&d=identicon&r=PG", "display_name": "stevieb", "link": "https://stackoverflow.com/users/1334695/stevieb"}, "reply_to_user": {"reputation": 123805, "user_id": 622310, "user_type": "registered", "accept_rate": 33, "profile_image": "https://www.gravatar.com/avatar/8b6d35219e1808520bc238b28161e2e6?s=128&d=identicon&r=PG", "display_name": "Borodin", "link": "https://stackoverflow.com/users/622310/borodin"}, "edited": false, "score": 0, "creation_date": 1500486478, "post_id": 45197412, "comment_id": 77362491, "body": "@Borodin How&#39;s &quot;an array is a variable that can hold a list of values&quot;?"}, {"owner": {"reputation": 113221, "user_id": 100754, "user_type": "registered", "accept_rate": 90, "profile_image": "https://www.gravatar.com/avatar/7804ebae32fbadef38537d74a915c22f?s=128&d=identicon&r=PG", "display_name": "Sinan &#220;n&#252;r", "link": "https://stackoverflow.com/users/100754/sinan-%c3%9cn%c3%bcr"}, "edited": false, "score": 2, "creation_date": 1500487359, "post_id": 45197412, "comment_id": 77362994, "body": "See <code>perldoc perldata</code>: &quot;<i>arrays are ordered lists of scalars indexed by number</i>&quot;."}, {"owner": {"reputation": 8273, "user_id": 1334695, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/431ae6e9f7610b9d6a6a6cdebd0244d5?s=128&d=identicon&r=PG", "display_name": "stevieb", "link": "https://stackoverflow.com/users/1334695/stevieb"}, "edited": false, "score": 2, "creation_date": 1500487726, "post_id": 45197412, "comment_id": 77363187, "body": "Updated to reflect the quote from <code>perldata</code>."}, {"owner": {"reputation": 53041, "user_id": 4653379, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/b3953dbedd0dabff5cbc3db9b0835b14?s=128&d=identicon&r=PG&f=1", "display_name": "zdim", "link": "https://stackoverflow.com/users/4653379/zdim"}, "reply_to_user": {"reputation": 3856, "user_id": 2408332, "user_type": "registered", "accept_rate": 83, "profile_image": "https://i.stack.imgur.com/wG3ow.jpg?s=128&g=1", "display_name": "Chip Dean", "link": "https://stackoverflow.com/users/2408332/chip-dean"}, "edited": false, "score": 0, "creation_date": 1500790755, "post_id": 45197412, "comment_id": 77487513, "body": "@ChipDean  Since the answer worked for you see <a href=\"http://stackoverflow.com/help/someone-answers\">What should I do when someone answers my question?</a>"}], "tags": [], "owner": {"reputation": 8273, "user_id": 1334695, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/431ae6e9f7610b9d6a6a6cdebd0244d5?s=128&d=identicon&r=PG", "display_name": "stevieb", "link": "https://stackoverflow.com/users/1334695/stevieb"}, "is_accepted": false, "score": 3, "last_activity_date": 1500762849, "last_edit_date": 1500762849, "creation_date": 1500485741, "answer_id": 45197412, "question_id": 45197265, "link": "https://stackoverflow.com/questions/45197265/how-do-i-pass-mutiple-column-names-to-perl-dancers-quick-select-method/45197412#45197412", "title": "How do I pass mutiple column names to Perl Dancer&#39;s quick_select method?", "body": "<blockquote>\n  <p>Apparently <code>[]</code> denotes a list but <code>@arr</code> is an array in Perl? So I've tried converting it to a list but this also does not work.</p>\n</blockquote>\n\n<p>That's not correct. <code>[]</code> denotes an array reference in Perl. An array is an ordered list of scalars indexed by number, and an array reference is a scalar that \"points to\" an array.</p>\n\n<p>You can take the array you scoop up from <code>$input</code>, take a reference to it with the <code>\\@array</code> syntax, and send it in that way:</p>\n\n<pre><code>my @rows = $connect-&gt;quick_select('table', { column =&gt; \\@arr});\n</code></pre>\n\n<p>You can take that one step further (at possibly some cost to clarity) by forcing the call to <code>split</code> into an array reference inline:</p>\n\n<pre><code>my @rows = $connect-&gt;quick_select('table', { column =&gt; [split(/,/, $inline)] });\n</code></pre>\n"}], "owner": {"reputation": 3856, "user_id": 2408332, "user_type": "registered", "accept_rate": 83, "profile_image": "https://i.stack.imgur.com/wG3ow.jpg?s=128&g=1", "display_name": "Chip Dean", "link": "https://stackoverflow.com/users/2408332/chip-dean"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 174, "favorite_count": 0, "answer_count": 1, "score": -4, "last_activity_date": 1500762849, "creation_date": 1500485269, "last_edit_date": 1500498821, "question_id": 45197265, "link": "https://stackoverflow.com/questions/45197265/how-do-i-pass-mutiple-column-names-to-perl-dancers-quick-select-method", "title": "How do I pass mutiple column names to Perl Dancer&#39;s quick_select method?", "body": "<p>I'm trying to use Perl Dancer <code>quick_select</code> to quickly fetch rows from the database. I'm using a list of items from the user that I got like this: <code>my @arr=split(/,/, $inline);</code></p>\n\n<p>I keep getting this error when using the items from the user:</p>\n\n<blockquote>\n  <p><code>DBD::mysql::db selectall_arrayref failed: Unknown column 'val2' in 'where clause'</code></p>\n</blockquote>\n\n<p>This does not work:</p>\n\n<pre><code>my @rows = $connect-&gt;quick_select('table', { column =&gt; @arr});\n</code></pre>\n\n<p>But this does work:</p>\n\n<pre><code>my @rows = $connect-&gt;quick_select('table', { column =&gt; ['val1', 'val2']});`\n</code></pre>\n\n<p>Apparently <code>[]</code> denotes a list but <code>@arr</code> is an array in Perl? So I've tried converting it to a list but this also does not work:</p>\n\n<pre><code>my @rows = $connect-&gt;quick_select('table', { column =&gt; @arr[0..$#arr]});\n</code></pre>\n\n<p>The table and column names have been changed to protect the data. How can I fix this so <code>quick_select</code> will work with dynamic data from the user?</p>\n"}, {"tags": ["json", "perl"], "comments": [{"owner": {"reputation": 113221, "user_id": 100754, "user_type": "registered", "accept_rate": 90, "profile_image": "https://www.gravatar.com/avatar/7804ebae32fbadef38537d74a915c22f?s=128&d=identicon&r=PG", "display_name": "Sinan &#220;n&#252;r", "link": "https://stackoverflow.com/users/100754/sinan-%c3%9cn%c3%bcr"}, "edited": false, "score": 0, "creation_date": 1500483875, "post_id": 45196646, "comment_id": 77360995, "body": "Once you decode your JSON document, you now have a <a href=\"http://perldoc.perl.org/perldsc.html\" rel=\"nofollow noreferrer\">Perl data structure</a>. The fact that the contents of that structure were constructed by parsing a JSON document are completely irrelevant to what you do with it."}, {"owner": {"reputation": 320771, "user_id": 589924, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/b2cf53d5a3d25f95c0db4e025aed4153?s=128&d=identicon&r=PG", "display_name": "ikegami", "link": "https://stackoverflow.com/users/589924/ikegami"}, "edited": false, "score": 2, "creation_date": 1500483932, "post_id": 45196646, "comment_id": 77361033, "body": "There&#39;s an array in your JSON, but no array dereference in your code..."}, {"owner": {"reputation": 8219, "user_id": 135605, "user_type": "registered", "accept_rate": 64, "profile_image": "https://www.gravatar.com/avatar/7c56ff86a79852b167d84b3838756fba?s=128&d=identicon&r=PG", "display_name": "somejkuser", "link": "https://stackoverflow.com/users/135605/somejkuser"}, "reply_to_user": {"reputation": 320771, "user_id": 589924, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/b2cf53d5a3d25f95c0db4e025aed4153?s=128&d=identicon&r=PG", "display_name": "ikegami", "link": "https://stackoverflow.com/users/589924/ikegami"}, "edited": false, "score": 0, "creation_date": 1500483969, "post_id": 45196646, "comment_id": 77361058, "body": "@ikegami i dont know anything about perl datastructures. im fairly new. can you modify my access code to perform correctly?"}, {"owner": {"reputation": 320771, "user_id": 589924, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/b2cf53d5a3d25f95c0db4e025aed4153?s=128&d=identicon&r=PG", "display_name": "ikegami", "link": "https://stackoverflow.com/users/589924/ikegami"}, "edited": false, "score": 0, "creation_date": 1500484011, "post_id": 45196646, "comment_id": 77361089, "body": "<code>$ref-&gt;[$idx]</code>. See the list of references found <a href=\"https://stackoverflow.com/a/31685348/589924\">here</a>."}, {"owner": {"reputation": 8219, "user_id": 135605, "user_type": "registered", "accept_rate": 64, "profile_image": "https://www.gravatar.com/avatar/7c56ff86a79852b167d84b3838756fba?s=128&d=identicon&r=PG", "display_name": "somejkuser", "link": "https://stackoverflow.com/users/135605/somejkuser"}, "reply_to_user": {"reputation": 320771, "user_id": 589924, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/b2cf53d5a3d25f95c0db4e025aed4153?s=128&d=identicon&r=PG", "display_name": "ikegami", "link": "https://stackoverflow.com/users/589924/ikegami"}, "edited": false, "score": 0, "creation_date": 1500484065, "post_id": 45196646, "comment_id": 77361117, "body": "@ikegami can you make an answer showing me the correct code to use. like i said im fairly new"}, {"owner": {"reputation": 8219, "user_id": 135605, "user_type": "registered", "accept_rate": 64, "profile_image": "https://www.gravatar.com/avatar/7c56ff86a79852b167d84b3838756fba?s=128&d=identicon&r=PG", "display_name": "somejkuser", "link": "https://stackoverflow.com/users/135605/somejkuser"}, "reply_to_user": {"reputation": 113221, "user_id": 100754, "user_type": "registered", "accept_rate": 90, "profile_image": "https://www.gravatar.com/avatar/7804ebae32fbadef38537d74a915c22f?s=128&d=identicon&r=PG", "display_name": "Sinan &#220;n&#252;r", "link": "https://stackoverflow.com/users/100754/sinan-%c3%9cn%c3%bcr"}, "edited": false, "score": 0, "creation_date": 1500484469, "post_id": 45196646, "comment_id": 77361362, "body": "@Sinan&#220;n&#252;r I understand that already. My issue is I dont have experience with perl data structures. can you help me by fixing my code that uses the datastructure to perform correctly."}, {"owner": {"reputation": 8219, "user_id": 135605, "user_type": "registered", "accept_rate": 64, "profile_image": "https://www.gravatar.com/avatar/7c56ff86a79852b167d84b3838756fba?s=128&d=identicon&r=PG", "display_name": "somejkuser", "link": "https://stackoverflow.com/users/135605/somejkuser"}, "reply_to_user": {"reputation": 113221, "user_id": 100754, "user_type": "registered", "accept_rate": 90, "profile_image": "https://www.gravatar.com/avatar/7804ebae32fbadef38537d74a915c22f?s=128&d=identicon&r=PG", "display_name": "Sinan &#220;n&#252;r", "link": "https://stackoverflow.com/users/100754/sinan-%c3%9cn%c3%bcr"}, "edited": false, "score": 0, "creation_date": 1500484579, "post_id": 45196646, "comment_id": 77361419, "body": "@Sinan&#220;n&#252;r Id appreciate some help on this. Im having difficulty figuring this out. I looked on the sites and i am lost as to how to resolve this."}, {"owner": {"reputation": 8219, "user_id": 135605, "user_type": "registered", "accept_rate": 64, "profile_image": "https://www.gravatar.com/avatar/7c56ff86a79852b167d84b3838756fba?s=128&d=identicon&r=PG", "display_name": "somejkuser", "link": "https://stackoverflow.com/users/135605/somejkuser"}, "reply_to_user": {"reputation": 320771, "user_id": 589924, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/b2cf53d5a3d25f95c0db4e025aed4153?s=128&d=identicon&r=PG", "display_name": "ikegami", "link": "https://stackoverflow.com/users/589924/ikegami"}, "edited": false, "score": 0, "creation_date": 1500484970, "post_id": 45196646, "comment_id": 77361611, "body": "@ikegami I am completely lost as to how to resolve this. I dont really understand anything about perl datastructures and trying to understand has got me nowhere from your link. can you please assist with a code sample so i can look at understand"}, {"owner": {"reputation": 8219, "user_id": 135605, "user_type": "registered", "accept_rate": 64, "profile_image": "https://www.gravatar.com/avatar/7c56ff86a79852b167d84b3838756fba?s=128&d=identicon&r=PG", "display_name": "somejkuser", "link": "https://stackoverflow.com/users/135605/somejkuser"}, "reply_to_user": {"reputation": 320771, "user_id": 589924, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/b2cf53d5a3d25f95c0db4e025aed4153?s=128&d=identicon&r=PG", "display_name": "ikegami", "link": "https://stackoverflow.com/users/589924/ikegami"}, "edited": false, "score": 0, "creation_date": 1500485399, "post_id": 45196646, "comment_id": 77361851, "body": "@ikegami I tried now unsuccessfully:  <code>my $lat = $decoded_json-&gt;[results]-&gt;{geometry}-&gt;{location}-&gt;{lat};</code>"}, {"owner": {"reputation": 320771, "user_id": 589924, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/b2cf53d5a3d25f95c0db4e025aed4153?s=128&d=identicon&r=PG", "display_name": "ikegami", "link": "https://stackoverflow.com/users/589924/ikegami"}, "edited": false, "score": 0, "creation_date": 1500485902, "post_id": 45196646, "comment_id": 77362139, "body": "<code>$decoded_json</code> was produced from <code>{ &quot;results&quot;: ... }</code>, so it&#39;s a reference to a hash, not a reference to an array."}, {"owner": {"reputation": 8219, "user_id": 135605, "user_type": "registered", "accept_rate": 64, "profile_image": "https://www.gravatar.com/avatar/7c56ff86a79852b167d84b3838756fba?s=128&d=identicon&r=PG", "display_name": "somejkuser", "link": "https://stackoverflow.com/users/135605/somejkuser"}, "reply_to_user": {"reputation": 320771, "user_id": 589924, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/b2cf53d5a3d25f95c0db4e025aed4153?s=128&d=identicon&r=PG", "display_name": "ikegami", "link": "https://stackoverflow.com/users/589924/ikegami"}, "edited": false, "score": 0, "creation_date": 1500485936, "post_id": 45196646, "comment_id": 77362159, "body": "@ikegami if you could modify my code from the last comment to show me how to access the latitude value inside the data i gave you i would be very appreciative. im trying to understand perl datastructures and its becoming very difficult. can you please just show me how to access this data?"}, {"owner": {"reputation": 320771, "user_id": 589924, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/b2cf53d5a3d25f95c0db4e025aed4153?s=128&d=identicon&r=PG", "display_name": "ikegami", "link": "https://stackoverflow.com/users/589924/ikegami"}, "edited": false, "score": 0, "creation_date": 1500486054, "post_id": 45196646, "comment_id": 77362232, "body": "What does <code>$decoded_json-&gt;{results}</code> return?"}, {"owner": {"reputation": 8219, "user_id": 135605, "user_type": "registered", "accept_rate": 64, "profile_image": "https://www.gravatar.com/avatar/7c56ff86a79852b167d84b3838756fba?s=128&d=identicon&r=PG", "display_name": "somejkuser", "link": "https://stackoverflow.com/users/135605/somejkuser"}, "reply_to_user": {"reputation": 320771, "user_id": 589924, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/b2cf53d5a3d25f95c0db4e025aed4153?s=128&d=identicon&r=PG", "display_name": "ikegami", "link": "https://stackoverflow.com/users/589924/ikegami"}, "edited": false, "score": 0, "creation_date": 1500486185, "post_id": 45196646, "comment_id": 77362296, "body": "@ikegami  cannot see the contents but it says array when i debug print"}, {"owner": {"reputation": 320771, "user_id": 589924, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/b2cf53d5a3d25f95c0db4e025aed4153?s=128&d=identicon&r=PG", "display_name": "ikegami", "link": "https://stackoverflow.com/users/589924/ikegami"}, "edited": false, "score": 0, "creation_date": 1500486231, "post_id": 45196646, "comment_id": 77362323, "body": "Right. It&#39;s a reference to array produced from <code>[ ... ]</code> in the JSON. How many elements are in that array (from looking at the JSON, for example)?"}, {"owner": {"reputation": 8219, "user_id": 135605, "user_type": "registered", "accept_rate": 64, "profile_image": "https://www.gravatar.com/avatar/7c56ff86a79852b167d84b3838756fba?s=128&d=identicon&r=PG", "display_name": "somejkuser", "link": "https://stackoverflow.com/users/135605/somejkuser"}, "edited": false, "score": 0, "creation_date": 1500486287, "post_id": 45196646, "comment_id": 77362368, "body": "Here&#39;s an example of a full response: <a href=\"https://maps.googleapis.com/maps/api/geocode/json?address=1600+Amphitheatre+Parkway,+Mountain+View,+CA\" rel=\"nofollow noreferrer\">maps.googleapis.com/maps/api/geocode/&hellip;</a>    im looking specifically for the geometry section"}, {"owner": {"reputation": 320771, "user_id": 589924, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/b2cf53d5a3d25f95c0db4e025aed4153?s=128&d=identicon&r=PG", "display_name": "ikegami", "link": "https://stackoverflow.com/users/589924/ikegami"}, "edited": false, "score": 0, "creation_date": 1500486291, "post_id": 45196646, "comment_id": 77362372, "body": "(Hashes and arrays can only contain scalars, so we can&#39;t store hashes and arrays in hashes and arrays. We can, however, store <i>references</i> to then.)"}, {"owner": {"reputation": 320771, "user_id": 589924, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/b2cf53d5a3d25f95c0db4e025aed4153?s=128&d=identicon&r=PG", "display_name": "ikegami", "link": "https://stackoverflow.com/users/589924/ikegami"}, "edited": false, "score": 0, "creation_date": 1500486333, "post_id": 45196646, "comment_id": 77362400, "body": "That won&#39;t do. I&#39;m not asking these questions for the answer. I know the answer. I want you to find the answer. How many elements in the array in your question? Just look at the JSON at count."}, {"owner": {"reputation": 8219, "user_id": 135605, "user_type": "registered", "accept_rate": 64, "profile_image": "https://www.gravatar.com/avatar/7c56ff86a79852b167d84b3838756fba?s=128&d=identicon&r=PG", "display_name": "somejkuser", "link": "https://stackoverflow.com/users/135605/somejkuser"}, "reply_to_user": {"reputation": 320771, "user_id": 589924, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/b2cf53d5a3d25f95c0db4e025aed4153?s=128&d=identicon&r=PG", "display_name": "ikegami", "link": "https://stackoverflow.com/users/589924/ikegami"}, "edited": false, "score": 0, "creation_date": 1500486410, "post_id": 45196646, "comment_id": 77362444, "body": "@ikegami i see 5 elements inside the results array - address_components, formatted_address, geometry,place_id,types"}, {"owner": {"reputation": 320771, "user_id": 589924, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/b2cf53d5a3d25f95c0db4e025aed4153?s=128&d=identicon&r=PG", "display_name": "ikegami", "link": "https://stackoverflow.com/users/589924/ikegami"}, "edited": false, "score": 0, "creation_date": 1500486473, "post_id": 45196646, "comment_id": 77362486, "body": "No, Those are keys of various hashes (or &quot;objects&quot;, as they called in JSON). <code>[ ... ]</code> is an array in JSON. How many things are (directly) in <code>[ ... ]</code>?"}, {"owner": {"reputation": 8219, "user_id": 135605, "user_type": "registered", "accept_rate": 64, "profile_image": "https://www.gravatar.com/avatar/7c56ff86a79852b167d84b3838756fba?s=128&d=identicon&r=PG", "display_name": "somejkuser", "link": "https://stackoverflow.com/users/135605/somejkuser"}, "reply_to_user": {"reputation": 320771, "user_id": 589924, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/b2cf53d5a3d25f95c0db4e025aed4153?s=128&d=identicon&r=PG", "display_name": "ikegami", "link": "https://stackoverflow.com/users/589924/ikegami"}, "edited": false, "score": 0, "creation_date": 1500486544, "post_id": 45196646, "comment_id": 77362529, "body": "@ikegami i see one hash inside the [ ], and then inside that hash are the various hashes"}, {"owner": {"reputation": 320771, "user_id": 589924, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/b2cf53d5a3d25f95c0db4e025aed4153?s=128&d=identicon&r=PG", "display_name": "ikegami", "link": "https://stackoverflow.com/users/589924/ikegami"}, "edited": false, "score": 0, "creation_date": 1500486590, "post_id": 45196646, "comment_id": 77362562, "body": "Correct. So you want the first element of the array. Since arrays use 0-based indexes in Perl, that means index <code>0</code>. I shall answer now."}], "answers": [{"comments": [{"owner": {"reputation": 8219, "user_id": 135605, "user_type": "registered", "accept_rate": 64, "profile_image": "https://www.gravatar.com/avatar/7c56ff86a79852b167d84b3838756fba?s=128&d=identicon&r=PG", "display_name": "somejkuser", "link": "https://stackoverflow.com/users/135605/somejkuser"}, "edited": false, "score": 0, "creation_date": 1500486938, "post_id": 45197748, "comment_id": 77362762, "body": "ok so i needed to define the 0 index placement. i see. i got real confused by the syntax and it troubled me. thanks for the help"}, {"owner": {"reputation": 320771, "user_id": 589924, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/b2cf53d5a3d25f95c0db4e025aed4153?s=128&d=identicon&r=PG", "display_name": "ikegami", "link": "https://stackoverflow.com/users/589924/ikegami"}, "reply_to_user": {"reputation": 8219, "user_id": 135605, "user_type": "registered", "accept_rate": 64, "profile_image": "https://www.gravatar.com/avatar/7c56ff86a79852b167d84b3838756fba?s=128&d=identicon&r=PG", "display_name": "somejkuser", "link": "https://stackoverflow.com/users/135605/somejkuser"}, "edited": false, "score": 0, "creation_date": 1500487175, "post_id": 45197748, "comment_id": 77362895, "body": "You have <code>{[{{{</code> in the JSON, so you basically have to have that in Perl too."}], "tags": [], "owner": {"reputation": 320771, "user_id": 589924, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/b2cf53d5a3d25f95c0db4e025aed4153?s=128&d=identicon&r=PG", "display_name": "ikegami", "link": "https://stackoverflow.com/users/589924/ikegami"}, "is_accepted": true, "score": 2, "last_activity_date": 1500496651, "last_edit_date": 1500496651, "creation_date": 1500486841, "answer_id": 45197748, "question_id": 45196646, "link": "https://stackoverflow.com/questions/45196646/accessing-parsed-json-data-in-perl/45197748#45197748", "title": "accessing parsed json data in perl", "body": "<p>There's an array in your JSON, but no array dereference in your code. In other words, you completely overlooked the <code>[ ... ]</code> in the JSON. You need to specify which of the results you want. In the example in question, there is only one, so you could use the following:</p>\n\n<pre><code>my $loc = $decoded_json-&gt;{results}[0]{geometry}{location};\nmy $lat = $loc-&gt;{lat}; \nmy $lng = $loc-&gt;{lng}; \n</code></pre>\n\n<p>Of course, the whole point of using an array of results is that the number of results might vary. You will probably need a loop.</p>\n\n<pre><code>for my $result (@{ $decoded_json-&gt;{results} }){\n   my $loc = $result-&gt;{geometry}{location};\n   my $lat = $loc-&gt;{lat}; \n   my $lng = $loc-&gt;{lng}; \n   ...\n}\n</code></pre>\n\n<hr>\n\n<p>About the arrows...</p>\n\n<pre><code>my $lat = $decoded_json-&gt;{results}[0]{geometry}{location}{lat}; \n</code></pre>\n\n<p>is short for</p>\n\n<pre><code>my $lat = $decoded_json-&gt;{results}-&gt;[0]-&gt;{geometry}-&gt;{location}-&gt;{lat}; \n</code></pre>\n\n<p>When the <code>-&gt;</code> is between <code>{...}</code> or <code>[...]</code>, and <code>{...}</code> or <code>[...]</code>, it can be omitted.</p>\n\n<p>That's why there's no difference between</p>\n\n<pre><code>$result-&gt;{geometry}{location}{lat};\n</code></pre>\n\n<p>&#x20;</p>\n\n<pre><code>$result-&gt;{geometry}{location}-&gt;{lat};\n</code></pre>\n\n<p>&#x20;</p>\n\n<pre><code>( $result-&gt;{geometry}{location} )-&gt;{lat};   # Can't be omitted here.\n</code></pre>\n\n<p>&#x20;</p>\n\n<pre><code>my $loc = $result-&gt;{geometry}{location};\nmy $lat = $loc-&gt;{lat};                      # Can't be omitted here.\n</code></pre>\n"}, {"tags": [], "owner": {"reputation": 113221, "user_id": 100754, "user_type": "registered", "accept_rate": 90, "profile_image": "https://www.gravatar.com/avatar/7804ebae32fbadef38537d74a915c22f?s=128&d=identicon&r=PG", "display_name": "Sinan &#220;n&#252;r", "link": "https://stackoverflow.com/users/100754/sinan-%c3%9cn%c3%bcr"}, "is_accepted": false, "score": 1, "last_activity_date": 1500488579, "last_edit_date": 1500488579, "creation_date": 1500487847, "answer_id": 45198045, "question_id": 45196646, "link": "https://stackoverflow.com/questions/45196646/accessing-parsed-json-data-in-perl/45198045#45198045", "title": "accessing parsed json data in perl", "body": "<p>Given the name of the key, \"result<strong>s</strong>\", it is natural to expect there might be times where you get more than one result. The following will give you the coordinates for all results returned:</p>\n\n<pre><code>for my $r (@{ $decoded_json-&gt;{results} }) {\n    my ($lat, $lng) = @{ $r-&gt;{geometry}{location} }{qw(lat lng)}\n    # do something with coordinates\n}\n</code></pre>\n\n<p>With recent Perl versions, you can re-write that as:</p>\n\n<pre><code>for my $r ($decoded_json-&gt;{results}-&gt;@*) {\n    my ($lat, $lng) = $r-&gt;{geometry}{location}-&gt;@{qw(lat lng)};\n    # do something with coordinates\n}\n</code></pre>\n\n<p>Once again, <code>decode_json</code> gives you a <a href=\"http://perldoc.perl.org/perldsc.html\" rel=\"nofollow noreferrer\">Perl data structure</a>. The fact that the contents of that structure were constructed by parsing a JSON document are completely irrelevant to what you do with it.</p>\n\n<p>Working example (<a href=\"https://metacpan.org/pod/Cpanel::JSON::XS\" rel=\"nofollow noreferrer\">Cpanel::JSON::XS</a> chokes on your JSON):</p>\n\n<pre><code>#!/usr/bin/env perl\n\nuse utf8;\nuse strict;\nuse warnings;\nuse JSON::MaybeXS qw( decode_json );\n\nmy $json_string = &lt;&lt;EO_JSON;\n{\n    \"results\": [{\n        \"geometry\": {\n            \"location\": {\n                \"lat\": 37.4224764,\n                \"lng\": -122.0842499\n                }\n         }\n    }]\n}\nEO_JSON\n\nmy $data = decode_json($json_string);\n\nfor my $r (@{ $data-&gt;{results} }) {\n    my ($lat, $lng) = @{ $r-&gt;{geometry}{location} }{qw(lat lng)};\n    print \"($lat,$lng)\\n\";\n}\n\nfor my $r ($data-&gt;{results}-&gt;@*) {\n    my ($lat, $lng) = $r-&gt;{geometry}{location}-&gt;@{qw(lat lng)};\n    print \"($lat,$lng)\\n\";\n}\n</code></pre>\n"}], "owner": {"reputation": 8219, "user_id": 135605, "user_type": "registered", "accept_rate": 64, "profile_image": "https://www.gravatar.com/avatar/7c56ff86a79852b167d84b3838756fba?s=128&d=identicon&r=PG", "display_name": "somejkuser", "link": "https://stackoverflow.com/users/135605/somejkuser"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 35, "favorite_count": 0, "accepted_answer_id": 45197748, "answer_count": 2, "score": -2, "last_activity_date": 1500496651, "creation_date": 1500483337, "last_edit_date": 1500483511, "question_id": 45196646, "link": "https://stackoverflow.com/questions/45196646/accessing-parsed-json-data-in-perl", "title": "accessing parsed json data in perl", "body": "<p>I have the following json data in a string <code>$json</code>:</p>\n\n<pre><code>{\n    \"results\": [{\n        \"geometry\": {\n            \"location\": {\n                \"lat\": 37.4224764,\n                \"lng\": -122.0842499\n            },\n        },\n    }]\n}\n</code></pre>\n\n<p>I use the following to decode my JSON data.</p>\n\n<pre><code>my $decoded_json = decode_json( $json );\n</code></pre>\n\n<p>And I'm attempting at retrieving the latitude here:</p>\n\n<pre><code>my $lat=$decoded_json-&gt;{results}-&gt;{geometry}{location}{lat}; \n</code></pre>\n\n<p>And Here:</p>\n\n<pre><code>my $lat=$decoded_json-&gt;{results}-&gt;{geometry}-&gt;{location}-&gt;{lat}; \n</code></pre>\n\n<p>I'd like to know how to retrieve the <code>lat</code> and <code>lng</code> from this decoded data.</p>\n"}, {"tags": ["bash", "perl"], "comments": [{"owner": {"reputation": 28247, "user_id": 7998591, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/2d596f1872edb66dc5bcbf7e7b07098b?s=128&d=identicon&r=PG&f=1", "display_name": "Kaushik Nayak", "link": "https://stackoverflow.com/users/7998591/kaushik-nayak"}, "edited": false, "score": 1, "creation_date": 1500471944, "post_id": 45192445, "comment_id": 77352242, "body": "&lt;STDIN&gt; in perl is a file descriptor and can be read only once for each standard input."}, {"owner": {"reputation": 4629, "user_id": 3474146, "user_type": "registered", "accept_rate": 88, "profile_image": "https://i.stack.imgur.com/rb7ih.jpg?s=128&g=1", "display_name": "alex", "link": "https://stackoverflow.com/users/3474146/alex"}, "reply_to_user": {"reputation": 28247, "user_id": 7998591, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/2d596f1872edb66dc5bcbf7e7b07098b?s=128&d=identicon&r=PG&f=1", "display_name": "Kaushik Nayak", "link": "https://stackoverflow.com/users/7998591/kaushik-nayak"}, "edited": false, "score": 0, "creation_date": 1500472033, "post_id": 45192445, "comment_id": 77352317, "body": "Hmmm... I guess it would make more sense to assign <code>&lt;STDIN&gt;</code> to a scalar variable then.  How come I can&#39;t read this more than once?"}, {"owner": {"user_type": "does_not_exist", "display_name": "user2404501"}, "edited": false, "score": 6, "creation_date": 1500472382, "post_id": 45192445, "comment_id": 77352608, "body": "That&#39;s how pipes work. After you read it, it&#39;s not there any more. Actually that&#39;s how files in general work - they have an end, and when you hit the end, repeating the read operation doesn&#39;t jump back to the beginning, even on files that do have the ability to go back. What language do you know of where you can read the same input repeatedly just by saying &quot;read&quot; again?"}, {"owner": {"reputation": 4629, "user_id": 3474146, "user_type": "registered", "accept_rate": 88, "profile_image": "https://i.stack.imgur.com/rb7ih.jpg?s=128&g=1", "display_name": "alex", "link": "https://stackoverflow.com/users/3474146/alex"}, "edited": false, "score": 0, "creation_date": 1500473336, "post_id": 45192445, "comment_id": 77353437, "body": "It&#39;s more intuitive <i>to me</i> that the value represented by <code>&lt;STDIN&gt;</code> is held somewhere in memory once it&#39;s piped into the script - it&#39;s not like once I read a file it disappears forever.  In any case, please post this as the answer so I can mark it as accepted.  Thanks!"}, {"owner": {"reputation": 113221, "user_id": 100754, "user_type": "registered", "accept_rate": 90, "profile_image": "https://www.gravatar.com/avatar/7804ebae32fbadef38537d74a915c22f?s=128&d=identicon&r=PG", "display_name": "Sinan &#220;n&#252;r", "link": "https://stackoverflow.com/users/100754/sinan-%c3%9cn%c3%bcr"}, "reply_to_user": {"reputation": 28247, "user_id": 7998591, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/2d596f1872edb66dc5bcbf7e7b07098b?s=128&d=identicon&r=PG&f=1", "display_name": "Kaushik Nayak", "link": "https://stackoverflow.com/users/7998591/kaushik-nayak"}, "edited": false, "score": 1, "creation_date": 1500476222, "post_id": 45192445, "comment_id": 77355850, "body": "@KaushikNayak <code>STDIN</code> refers is a bareword filehandle, not a descriptor. <code>&lt;STDIN&gt;</code> is <code>readline(STDIN)</code>, and that is not a descriptor either."}, {"owner": {"reputation": 28247, "user_id": 7998591, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/2d596f1872edb66dc5bcbf7e7b07098b?s=128&d=identicon&r=PG&f=1", "display_name": "Kaushik Nayak", "link": "https://stackoverflow.com/users/7998591/kaushik-nayak"}, "reply_to_user": {"reputation": 113221, "user_id": 100754, "user_type": "registered", "accept_rate": 90, "profile_image": "https://www.gravatar.com/avatar/7804ebae32fbadef38537d74a915c22f?s=128&d=identicon&r=PG", "display_name": "Sinan &#220;n&#252;r", "link": "https://stackoverflow.com/users/100754/sinan-%c3%9cn%c3%bcr"}, "edited": false, "score": 1, "creation_date": 1500478422, "post_id": 45192445, "comment_id": 77357605, "body": "@Sinan. Thanks !. It was good learning great Perl stuff from you"}], "answers": [{"comments": [{"owner": {"reputation": 4629, "user_id": 3474146, "user_type": "registered", "accept_rate": 88, "profile_image": "https://i.stack.imgur.com/rb7ih.jpg?s=128&g=1", "display_name": "alex", "link": "https://stackoverflow.com/users/3474146/alex"}, "edited": false, "score": 0, "creation_date": 1500473815, "post_id": 45193126, "comment_id": 77353859, "body": "This makes a lot more sense - I wasn&#39;t aware that <code>&lt;STDIN&gt;</code> was an alias for <code>readline(STDIN)</code>.  Thanks!"}], "tags": [], "owner": {"reputation": 113221, "user_id": 100754, "user_type": "registered", "accept_rate": 90, "profile_image": "https://www.gravatar.com/avatar/7804ebae32fbadef38537d74a915c22f?s=128&d=identicon&r=PG", "display_name": "Sinan &#220;n&#252;r", "link": "https://stackoverflow.com/users/100754/sinan-%c3%9cn%c3%bcr"}, "is_accepted": true, "score": 5, "last_activity_date": 1500473841, "last_edit_date": 1500473841, "creation_date": 1500473383, "answer_id": 45193126, "question_id": 45192445, "link": "https://stackoverflow.com/questions/45192445/perl-script-does-not-print-stdin-multiple-times/45193126#45193126", "title": "Perl script does not print &lt;STDIN&gt; multiple times", "body": "<blockquote>\n<pre><code>print &lt;STDIN&gt;, \"\\n\";\n</code></pre>\n</blockquote>\n\n<p><code>&lt;STDIN&gt;</code> (i.e. <a href=\"http://perldoc.perl.org/functions/readline.html\" rel=\"nofollow noreferrer\"><code>readline(STDIN)</code></a>) \"in list context reads until end-of-file is reached and returns a list of lines.\"</p>\n\n<p>In your program, the first <code>print</code> therefore prints <strong><em>all</em></strong> the lines read from <code>STDIN</code>.</p>\n\n<p>By definition, there are no more lines coming from <code>STDIN</code>, because <code>&lt;STDIN&gt;</code> in list context read everything there was to read.</p>\n\n<p>If you want to read five consecutive lines from <code>STDIN</code> and print them, you need:</p>\n\n<pre><code>print scalar &lt;STDIN&gt;;\nprint scalar &lt;STDIN&gt;;\nprint scalar &lt;STDIN&gt;;\nprint scalar &lt;STDIN&gt;;\nprint scalar &lt;STDIN&gt;;\n</code></pre>\n\n<p>By definition, a line ends with a newline. If you do not remove it, there is no need to tack on another.</p>\n\n<blockquote>\n  <p>It's more intuitive to <em>me</em> that the value represented by <code>&lt;STDIN&gt;</code> is held somewhere in memory once it's piped into the script</p>\n</blockquote>\n\n<p>Your program contains no instructions to store the input read from <code>STDIN</code>. All it does is to read everything available on <code>STDIN</code>, print all of it, and discard it.</p>\n\n<p>If you wanted to store everything you read from <code>STDIN</code>, you have to explicitly do so. That's how computer programs work: They do exactly as they are told. Imagine what a disaster it would be if computer programs did different things depending on the intuition of the person writing or running them.</p>\n\n<p>Of course, the data coming from <code>STDIN</code> might be unbounded. In that case, storing all of it somewhere is not going to be practical.</p>\n"}, {"comments": [{"owner": {"reputation": 4629, "user_id": 3474146, "user_type": "registered", "accept_rate": 88, "profile_image": "https://i.stack.imgur.com/rb7ih.jpg?s=128&g=1", "display_name": "alex", "link": "https://stackoverflow.com/users/3474146/alex"}, "edited": false, "score": 0, "creation_date": 1509626917, "post_id": 45248038, "comment_id": 81099748, "body": "This doesn&#39;t address my question - I wasn&#39;t asking for an alternative, I was asking why the code I wrote doesn&#39;t work."}], "tags": [], "owner": {"reputation": 611, "user_id": 7024991, "user_type": "registered", "accept_rate": 75, "profile_image": "https://www.gravatar.com/avatar/515eb7cb8df03bf0475a7edf3b066492?s=128&d=identicon&r=PG&f=1", "display_name": "xyz123", "link": "https://stackoverflow.com/users/7024991/xyz123"}, "is_accepted": false, "score": -1, "last_activity_date": 1500679193, "creation_date": 1500679193, "answer_id": 45248038, "question_id": 45192445, "link": "https://stackoverflow.com/questions/45192445/perl-script-does-not-print-stdin-multiple-times/45248038#45248038", "title": "Perl script does not print &lt;STDIN&gt; multiple times", "body": "<p>If you want to loop printing your text an user defined number of times,\nyou can use a do while loop like this: </p>\n\n<pre><code>#!/usr/bin/env perl\n#Program: stdin.pl\nuse strict;\nuse warnings;\nuse feature 'say'; # like print but automatic ending newline.\n\nmy $i = 1; # Our incrementer.\nmy $input; # Our text from standard input that we want to loop.\nmy $total; # How many times we want to print the text on a loop.\n\nsay \"Please provide the desired text of your standard input.\";\nchomp($input = &lt;STDIN&gt;); # chomp removes a newline from the standard input. \nsay \"Please provide the amount of times that you want to print your standard input to the screen.\";\nchomp($total = &lt;STDIN&gt;);\nsay \"&gt;&gt;&gt; I'm in your loop! &lt;&lt;&lt;\"; \ndo # A do while loop iterates at least once and up to the total number of iterations provided by user. \n{\nsay \"Iteration $i of text: $input\";\n$i++;\n}while($i &lt;= $total);\nsay \"&gt;&gt;&gt; I'm out of your loop! &lt;&lt;&lt;\";\n</code></pre>\n\n<p>This is what I get when I execute the code with \"Hello\", and \"8\" from standard input: </p>\n\n<pre><code>&gt; perl .\\stdin.pl\nPlease provide the desired text of your standard input.\nHello!\nPlease provide the amount of times that you want to print your standard input to the screen.\n8\n&gt;&gt;&gt; I'm in your loop! &lt;&lt;&lt;\nIteration 1 of text: Hello!\nIteration 2 of text: Hello!\nIteration 3 of text: Hello!\nIteration 4 of text: Hello!\nIteration 5 of text: Hello!\nIteration 6 of text: Hello!\nIteration 7 of text: Hello!\nIteration 8 of text: Hello!\n&gt;&gt;&gt; I'm out of your loop! &lt;&lt;&lt;\n</code></pre>\n"}], "owner": {"reputation": 4629, "user_id": 3474146, "user_type": "registered", "accept_rate": 88, "profile_image": "https://i.stack.imgur.com/rb7ih.jpg?s=128&g=1", "display_name": "alex", "link": "https://stackoverflow.com/users/3474146/alex"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 451, "favorite_count": 0, "accepted_answer_id": 45193126, "answer_count": 2, "score": -3, "last_activity_date": 1500679193, "creation_date": 1500471770, "question_id": 45192445, "link": "https://stackoverflow.com/questions/45192445/perl-script-does-not-print-stdin-multiple-times", "title": "Perl script does not print &lt;STDIN&gt; multiple times", "body": "<p>I've got this Perl script:</p>\n\n<pre><code>#!/usr/bin/perl\nuse strict;\nuse warnings;\n\nprint &lt;STDIN&gt;, \"\\n\";\nprint &lt;STDIN&gt;, \"\\n\";\nprint &lt;STDIN&gt;, \"\\n\";\nprint &lt;STDIN&gt;, \"\\n\";\nprint &lt;STDIN&gt;, \"\\n\";\n</code></pre>\n\n<p>And I'm passing \"Hello\" to the script's standard input:</p>\n\n<pre><code>echo \"Hello\" | perl test.pl\n</code></pre>\n\n<p>I'm expecting it to print \"Hello\" five times, but it just prints \"Hello\" followed by five newline characters.  Can anyone explain why this wouldn't work as intended?</p>\n"}, {"tags": ["perl", "post", "request", "get-method"], "comments": [{"owner": {"reputation": 123805, "user_id": 622310, "user_type": "registered", "accept_rate": 33, "profile_image": "https://www.gravatar.com/avatar/8b6d35219e1808520bc238b28161e2e6?s=128&d=identicon&r=PG", "display_name": "Borodin", "link": "https://stackoverflow.com/users/622310/borodin"}, "edited": false, "score": 2, "creation_date": 1500467325, "post_id": 45190431, "comment_id": 77348231, "body": "Is this your own code?"}, {"owner": {"reputation": 123805, "user_id": 622310, "user_type": "registered", "accept_rate": 33, "profile_image": "https://www.gravatar.com/avatar/8b6d35219e1808520bc238b28161e2e6?s=128&d=identicon&r=PG", "display_name": "Borodin", "link": "https://stackoverflow.com/users/622310/borodin"}, "edited": false, "score": 3, "creation_date": 1500467385, "post_id": 45190431, "comment_id": 77348271, "body": "<code>GET</code> request messages don&#39;t have a <code>Content-Type</code> header."}, {"owner": {"reputation": 123805, "user_id": 622310, "user_type": "registered", "accept_rate": 33, "profile_image": "https://www.gravatar.com/avatar/8b6d35219e1808520bc238b28161e2e6?s=128&d=identicon&r=PG", "display_name": "Borodin", "link": "https://stackoverflow.com/users/622310/borodin"}, "edited": false, "score": 3, "creation_date": 1500467441, "post_id": 45190431, "comment_id": 77348316, "body": "Please make your code compile and re-post it."}, {"owner": {"reputation": 21, "user_id": 6703935, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/842f39015c97b584d3833647d827bde7?s=128&d=identicon&r=PG&f=1", "display_name": "Kumar", "link": "https://stackoverflow.com/users/6703935/kumar"}, "reply_to_user": {"reputation": 123805, "user_id": 622310, "user_type": "registered", "accept_rate": 33, "profile_image": "https://www.gravatar.com/avatar/8b6d35219e1808520bc238b28161e2e6?s=128&d=identicon&r=PG", "display_name": "Borodin", "link": "https://stackoverflow.com/users/622310/borodin"}, "edited": false, "score": 0, "creation_date": 1500470283, "post_id": 45190431, "comment_id": 77350769, "body": "ok thanks for your solution.but i&#39;m getting output as BUt i want in Json output Received POST ID : {&quot;id&quot;:&quot;something&quot;} ##################successfully posted Json############### Received GET Response : [{&quot;pI&quot;:&quot;somthing&quot;,&quot;state&quot;:&quot;DRAFT&quot;,&quot;rootApplicationId&quot;:&quot;ca985&zwnj;&#8203;299-41b3-449d-aa51-4&zwnj;&#8203;284866eb762&quot;,&quot;proper&zwnj;&#8203;ties&quot;:{&quot;title&quot;:&quot;SET Forms&quot;},&quot;createdDate&quot;:1500372075286,&quot;createdBy&quot;:null,&quot;update&zwnj;&#8203;dDate&quot;:null,&quot;updated&zwnj;&#8203;By&quot;:null,&quot;applicatio&zwnj;&#8203;ns&quot;:[{&quot;applicationId&zwnj;&#8203;&quot;:&quot;7ba762cf-91bb-4c8&zwnj;&#8203;6-b759-c9245c81826d&quot;&zwnj;&#8203;,&quot;state&quot;:&quot;DRAFT&quot;"}, {"owner": {"reputation": 123805, "user_id": 622310, "user_type": "registered", "accept_rate": 33, "profile_image": "https://www.gravatar.com/avatar/8b6d35219e1808520bc238b28161e2e6?s=128&d=identicon&r=PG", "display_name": "Borodin", "link": "https://stackoverflow.com/users/622310/borodin"}, "edited": false, "score": 2, "creation_date": 1500472681, "post_id": 45190431, "comment_id": 77352867, "body": "You&#39;re not getting any output from that code. Fix the errors so that it compiles and re-post it."}, {"owner": {"reputation": 320771, "user_id": 589924, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/b2cf53d5a3d25f95c0db4e025aed4153?s=128&d=identicon&r=PG", "display_name": "ikegami", "link": "https://stackoverflow.com/users/589924/ikegami"}, "edited": false, "score": 2, "creation_date": 1500476316, "post_id": 45190431, "comment_id": 77355946, "body": "Your question doesn&#39;t clearly identify your problem. What output are you getting? What about are you expecting? Why are you expecting that? Honestly, though, there&#39;s not much we can do if you get the wrong output from a script we haven&#39;t seen!"}, {"owner": {"reputation": 320771, "user_id": 589924, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/b2cf53d5a3d25f95c0db4e025aed4153?s=128&d=identicon&r=PG", "display_name": "ikegami", "link": "https://stackoverflow.com/users/589924/ikegami"}, "edited": false, "score": 1, "creation_date": 1500476360, "post_id": 45190431, "comment_id": 77355975, "body": "By the way, it&#39;s not kosher to put a Content-Type header in a GET request seeing as GET request can&#39;t have content!"}, {"owner": {"reputation": 62184, "user_id": 7231, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/81b76985f3985e35492e25880493d045?s=128&d=identicon&r=PG", "display_name": "Dave Cross", "link": "https://stackoverflow.com/users/7231/dave-cross"}, "edited": false, "score": 0, "creation_date": 1500539329, "post_id": 45190431, "comment_id": 77384660, "body": "@Kumar: Your question is getting close to being closed. I suggest you carefully read the suggestions in these comments and then <a href=\"https://stackoverflow.com/posts/45190431/edit\">edit your question</a> to add the missing information."}, {"owner": {"reputation": 21, "user_id": 6703935, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/842f39015c97b584d3833647d827bde7?s=128&d=identicon&r=PG&f=1", "display_name": "Kumar", "link": "https://stackoverflow.com/users/6703935/kumar"}, "edited": false, "score": 0, "creation_date": 1500545241, "post_id": 45190431, "comment_id": 77389201, "body": "ok thanks tat code i changed some modifications and is working fine."}, {"owner": {"reputation": 62184, "user_id": 7231, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/81b76985f3985e35492e25880493d045?s=128&d=identicon&r=PG", "display_name": "Dave Cross", "link": "https://stackoverflow.com/users/7231/dave-cross"}, "edited": false, "score": 1, "creation_date": 1500563614, "post_id": 45190431, "comment_id": 77403782, "body": "@Kumar: If you have solved your own problem, please consider writing an answer (and even accepting it). That way, your question is useful for someone with a similar problem who is searching the site in the future."}], "answers": [{"tags": [], "owner": {"reputation": 99, "user_id": 6260300, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/McxEU.png?s=128&g=1", "display_name": "KSRKSR", "link": "https://stackoverflow.com/users/6260300/ksrksr"}, "is_accepted": false, "score": 0, "last_activity_date": 1581496275, "last_edit_date": 1581496275, "creation_date": 1581407251, "answer_id": 60164128, "question_id": 45190431, "link": "https://stackoverflow.com/questions/45190431/print-http-request-response-in-json-format/60164128#60164128", "title": "Print http request response in JSON format", "body": "<pre><code># Here is the successfully compiled code\n\n\n!/usr/bin/perl\n\nuse strict;\nuse LWP::UserAgent; \n\nmy $token=\"\";\n\nmy $uri = 'http://xxx.xxx.xxx.xxx:8000/a/b'; \nmy $json =&gt; '{\"username\":\"user\",\"password\":\"pwd\"}'; \nmy $req = HTTP::Request-&gt;new('POST', $uri ); \n$request-&gt;header( 'Content-Type' =&gt; 'application/json'); \n$request-&gt;content( $json );\n\nmy $lwp = LWP::UserAgent-&gt;new;\n\nmy $message = $lwp-&gt;request( $request ); \n\nif ( $message-&gt;is_success ) {\n    my $token= $message-&gt;content;\n    print \"\\n Received POST Response:\\n$token\\n\";\n} else {\n    print \"error code:\",    $message-&gt;code,\"\\n\";\n    print \"error message:\", $message-&gt;as_string(), \"\\n\"; \n}\n</code></pre>\n"}], "owner": {"reputation": 21, "user_id": 6703935, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/842f39015c97b584d3833647d827bde7?s=128&d=identicon&r=PG&f=1", "display_name": "Kumar", "link": "https://stackoverflow.com/users/6703935/kumar"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 658, "favorite_count": 0, "answer_count": 1, "score": 1, "last_activity_date": 1581496275, "creation_date": 1500466852, "last_edit_date": 1500495124, "question_id": 45190431, "link": "https://stackoverflow.com/questions/45190431/print-http-request-response-in-json-format", "title": "Print http request response in JSON format", "body": "<pre><code>#!/usr/bin/perl\n\nuse strict;\nuse warnings;\n\nuse JSON qw(decode_json);\nuse JSON;\nuse LWP::UserAgent;\nuse HTTP::Request;\n\n#GET_METHOD\nmy $usagnt_get           = LWP::UserAgent-&gt;new;\nmy $server_end_point_get = \"http://192.168.201.1:8000/c/r\";\nmy $reqst_get            = HTTP::Request-&gt;new( GET =&gt; $server_endpoint_get );\n$reqst_get-&gt;header( 'content-type' =&gt; 'application/json' );\n\n#Request User Agent\nmy $respnse_get = $usagnt-&gt;request( $reqst_get );\n\nif ( $resp_get-&gt;is_success ) {\n    my $message = $respnse_get-&gt;decoded_content;\n    print \"\\n Received GET Response:\\n$res_message\\n\";\n    print \"\\n****** GET operations SUCCESS..!\\n\";\n}\nelse {\n    print \"HTTP_GET error code:\",    $respnse_get-&gt;code,        \"\\n\";\n    print \"HTTP_GET error message:\", $respnse_get-&gt;res_message, \"\\n\";\n}\n</code></pre>\n\n<p>Please help me to get output with JSON format of ie requesting method with HTTP req and get method is capturing with all the projects list in getting method. </p>\n"}, {"tags": ["perl", "command-line-interface", "snmp"], "answers": [{"comments": [{"owner": {"reputation": 384453, "user_id": 1126841, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/fa05233b2357f8d11c22ef4cfc7bb85c?s=128&d=identicon&r=PG", "display_name": "chepner", "link": "https://stackoverflow.com/users/1126841/chepner"}, "edited": false, "score": 1, "creation_date": 1500468043, "post_id": 45190483, "comment_id": 77348808, "body": "I think the OP wants to actually <i>execute</i> the <code>snmpget</code> command, interpolating the <i>result</i> into the variable."}, {"owner": {"reputation": 12075, "user_id": 1137055, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/59d7b43b9eb7d01bd8f7e51febe6053c?s=128&d=identicon&r=PG", "display_name": "dgw", "link": "https://stackoverflow.com/users/1137055/dgw"}, "edited": false, "score": 1, "creation_date": 1500469175, "post_id": 45190483, "comment_id": 77349826, "body": "To execute the interpolated string change the double quotes to <code>qx(...)</code>."}, {"owner": {"reputation": 4404, "user_id": 1125972, "user_type": "registered", "accept_rate": 96, "profile_image": "https://i.stack.imgur.com/KXnkt.jpg?s=128&g=1", "display_name": "BugShotGG", "link": "https://stackoverflow.com/users/1125972/bugshotgg"}, "edited": false, "score": 0, "creation_date": 1500480613, "post_id": 45190483, "comment_id": 77359044, "body": "@stevieb Ok I did not notice that the actual mistake was using <code>&#39;</code> instead of <code>`</code>. Details..."}], "tags": [], "owner": {"reputation": 8273, "user_id": 1334695, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/431ae6e9f7610b9d6a6a6cdebd0244d5?s=128&d=identicon&r=PG", "display_name": "stevieb", "link": "https://stackoverflow.com/users/1334695/stevieb"}, "is_accepted": true, "score": 1, "last_activity_date": 1500470499, "last_edit_date": 1500470499, "creation_date": 1500466952, "answer_id": 45190483, "question_id": 45190075, "link": "https://stackoverflow.com/questions/45190075/how-to-combine-cli-arguments-as-variables-within-a-perl-script/45190483#45190483", "title": "How to combine CLI arguments as variables within a perl script", "body": "<p>In Perl, use double-quotes to interpolate another variable into a string. When you define <code>$sysORLastChange</code> using other variables within a single-quoted string like this:</p>\n\n<pre><code>my $sysORLastChange = '${SNMP_GET_CMD} ${SNMP_TARGET} .1.3.6.1.2.1.1.8.0';\n</code></pre>\n\n<p>...the string is being assigned verbatim (ie. the inner variables aren't being expanded).</p>\n\n<p>To correct this, assign to the variable using double-quotes, which will interpolate the inner variables into their values:</p>\n\n<pre><code>my $sysORLastChange = \"${SNMP_GET_CMD} ${SNMP_TARGET} .1.3.6.1.2.1.1.8.0\";\n</code></pre>\n\n<p>If you want to actually execute the string, you can use the <code>qx()</code> operator, aka the \"backtick\" style quotes:</p>\n\n<pre><code>my $sysORLastChange = qx(${SNMP_GET_CMD} ${SNMP_TARGET} .1.3.6.1.2.1.1.8.0);\n\n# or...\n\nmy $sysORLastChange = `${SNMP_GET_CMD} ${SNMP_TARGET} .1.3.6.1.2.1.1.8.0`;\n</code></pre>\n\n<p>See <a href=\"http://perldoc.perl.org/perlop.html#Quote-and-Quote-like-Operators\" rel=\"nofollow noreferrer\">Perl Quote and Quote-like Operators</a> in <a href=\"http://perldoc.perl.org/perlop.html\" rel=\"nofollow noreferrer\">perlop</a>.</p>\n"}], "owner": {"reputation": 4404, "user_id": 1125972, "user_type": "registered", "accept_rate": 96, "profile_image": "https://i.stack.imgur.com/KXnkt.jpg?s=128&g=1", "display_name": "BugShotGG", "link": "https://stackoverflow.com/users/1125972/bugshotgg"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 62, "favorite_count": 0, "accepted_answer_id": 45190483, "answer_count": 1, "score": 1, "last_activity_date": 1500470499, "creation_date": 1500466022, "last_edit_date": 1500467220, "question_id": 45190075, "link": "https://stackoverflow.com/questions/45190075/how-to-combine-cli-arguments-as-variables-within-a-perl-script", "title": "How to combine CLI arguments as variables within a perl script", "body": "<p>I am trying to write a script that basically executes a cli command like:</p>\n\n<p><code>snmpget -v 1 -c xxxxxx-Ovq xx.xx.xx.xxx .1.3.6.1.2.1.1.8.0</code></p>\n\n<p>where xxxxx is a password and xx.xx.xx.xxx and IP that normally returns:</p>\n\n<p><code>49:22:12:15.00</code></p>\n\n<p>My script is:</p>\n\n<pre><code>#!/usr/local/bin/perl\n\n#snmpget -v 1 -c xxxxx -Ovq xx.xx.xx.xxx .1.3.6.1.2.1.1.8.0\n\n$SNMP_GET_CMD = \"snmpget -v1 -c xxxxx-Ovq\";\n$SNMP_TARGET = \"xx.xx.xx.xxx\";\n\nmy $sysORLastChange = '${SNMP_GET_CMD} ${SNMP_TARGET} .1.3.6.1.2.1.1.8.0';\nchomp($sysORLastChange);\nprint(\"${SNMP_TARGET} as an Input Line Reading of ${sysORLastChange}\\n\");\n</code></pre>\n\n<p>and the output is:</p>\n\n<p><code>xx.xx.xx.xxx as an Input Line Reading of ${SNMP_GET_CMD} ${SNMP_TARGET} .1.3.6.1.2.1.1.8.0</code></p>\n\n<p>It should return the following:</p>\n\n<p><code>xx.xx.xx.xxx as an Input Line Reading of 49:22:12:15.00</code></p>\n\n<p>Is there any problem with the syntax i used in the script?</p>\n"}, {"tags": ["arrays", "perl", "loops"], "comments": [{"owner": {"reputation": 50468, "user_id": 1331451, "user_type": "registered", "accept_rate": 96, "profile_image": "https://i.stack.imgur.com/4ZPmj.png?s=128&g=1", "display_name": "simbabque", "link": "https://stackoverflow.com/users/1331451/simbabque"}, "edited": false, "score": 0, "creation_date": 1500462154, "post_id": 45188457, "comment_id": 77344257, "body": "Please <a href=\"https://stackoverflow.com/posts/45188457/edit\">edit</a> your question and include an example of the target data structure. I think what you want is <code>@domains = qw( domain1.com domain2.com domain3.com main-domain.com parked1.com parked2.com parked3.com)</code>"}, {"owner": {"reputation": 1419, "user_id": 203856, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/67f1108eabf701ed53b05a875e3d8203?s=128&d=identicon&r=PG", "display_name": "larsen", "link": "https://stackoverflow.com/users/203856/larsen"}, "edited": false, "score": 0, "creation_date": 1500462193, "post_id": 45188457, "comment_id": 77344279, "body": "What did you try so far? Also, is it ok that the type of values is not uniform? I see both scalar values as for <code>main_domain</code>, and array references (<code>addon_domains</code>, <code>parked_domains</code> and <code>sub_domains</code>)"}, {"owner": {"reputation": 50468, "user_id": 1331451, "user_type": "registered", "accept_rate": 96, "profile_image": "https://i.stack.imgur.com/4ZPmj.png?s=128&g=1", "display_name": "simbabque", "link": "https://stackoverflow.com/users/1331451/simbabque"}, "reply_to_user": {"reputation": 1419, "user_id": 203856, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/67f1108eabf701ed53b05a875e3d8203?s=128&d=identicon&r=PG", "display_name": "larsen", "link": "https://stackoverflow.com/users/203856/larsen"}, "edited": false, "score": 0, "creation_date": 1500462339, "post_id": 45188457, "comment_id": 77344376, "body": "In addition to that, your <code>@user_domains</code> is an array that has one element. That element is a hash reference. As @larsen says, one of those elements has a scalar value, the other three have array references. That might be one of the reasons you have so far failed to get stuff to work."}, {"owner": {"reputation": 107, "user_id": 3162579, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/ecd713243ecea45b57cca7670d7ec65c?s=128&d=identicon&r=PG&f=1", "display_name": "SomeCode", "link": "https://stackoverflow.com/users/3162579/somecode"}, "reply_to_user": {"reputation": 1419, "user_id": 203856, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/67f1108eabf701ed53b05a875e3d8203?s=128&d=identicon&r=PG", "display_name": "larsen", "link": "https://stackoverflow.com/users/203856/larsen"}, "edited": false, "score": 0, "creation_date": 1500463291, "post_id": 45188457, "comment_id": 77345060, "body": "@larsen so far I&#39;ve tried using <code>for</code> loops like this: <code>for my $key (keys %$hashref) { }</code> and then use <code>Dumper</code> to see what <code>$key</code> holds. The target data should consist of a list with only scalar values, no arrays."}, {"owner": {"reputation": 123805, "user_id": 622310, "user_type": "registered", "accept_rate": 33, "profile_image": "https://www.gravatar.com/avatar/8b6d35219e1808520bc238b28161e2e6?s=128&d=identicon&r=PG", "display_name": "Borodin", "link": "https://stackoverflow.com/users/622310/borodin"}, "edited": false, "score": 0, "creation_date": 1500464648, "post_id": 45188457, "comment_id": 77346016, "body": "It&#39;s far from clear what the data you get from cPanel looks like."}, {"owner": {"reputation": 107, "user_id": 3162579, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/ecd713243ecea45b57cca7670d7ec65c?s=128&d=identicon&r=PG&f=1", "display_name": "SomeCode", "link": "https://stackoverflow.com/users/3162579/somecode"}, "reply_to_user": {"reputation": 123805, "user_id": 622310, "user_type": "registered", "accept_rate": 33, "profile_image": "https://www.gravatar.com/avatar/8b6d35219e1808520bc238b28161e2e6?s=128&d=identicon&r=PG", "display_name": "Borodin", "link": "https://stackoverflow.com/users/622310/borodin"}, "edited": false, "score": 0, "creation_date": 1500464868, "post_id": 45188457, "comment_id": 77346201, "body": "@Borodin I understand, updated my question to clear things out."}], "answers": [{"comments": [{"owner": {"reputation": 107, "user_id": 3162579, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/ecd713243ecea45b57cca7670d7ec65c?s=128&d=identicon&r=PG&f=1", "display_name": "SomeCode", "link": "https://stackoverflow.com/users/3162579/somecode"}, "edited": false, "score": 0, "creation_date": 1500463773, "post_id": 45188698, "comment_id": 77345367, "body": "Thanks! The problem is that when I get the domains from cPanel, it has the <code>{ }</code> around the data by default. See my updated answer for how I get the data from cPanel."}], "tags": [], "owner": {"reputation": 51521, "user_id": 2566198, "user_type": "registered", "accept_rate": 67, "profile_image": "https://i.stack.imgur.com/Y34ZA.jpg?s=128&g=1", "display_name": "Sobrique", "link": "https://stackoverflow.com/users/2566198/sobrique"}, "is_accepted": false, "score": 1, "last_activity_date": 1500462334, "creation_date": 1500462334, "answer_id": 45188698, "question_id": 45188457, "link": "https://stackoverflow.com/questions/45188457/merge-perl-hashes-into-one-array-and-loop-through-it/45188698#45188698", "title": "Merge Perl hashes into one array and loop through it", "body": "<p>That isn't doing what you think it' doing. <code>{}</code> is the anonymous hash constructor, so you're making a 1 element array, with a hash in it. </p>\n\n<p>You probably want:</p>\n\n<pre><code>use Data::Dumper;\n\nmy %user_domains = (\n    'addon_domains' =&gt; ['domain1.com', 'domain2.com', 'domain3.com'],\n    'parked_domains' =&gt; ['parked1.com', 'parked2.com', 'parked3.com'],\n    'main_domain' =&gt; 'main-domain.com',\n    'sub_domains' =&gt; ['sub1.main-domain.com', 'sub2.main-domain.com'],\n);\n\nprint Dumper \\%user_domains;\n</code></pre>\n\n<p>And at which point the 'other' array elements you can iterate through either a double loop:</p>\n\n<pre><code>foreach my $key ( keys %user_domains ) { \n    if ( not ref $user_domains{$key} ) { \n        print $user_domains{$key},\"\\n\";\n        next;\n    }\n    foreach my $domain (  @{$user_domains{$key}} ) {\n        print $domain,\"\\n\";\n    }\n}\n</code></pre>\n\n<p>Or if you really want to 'flatten' your hash:</p>\n\n<pre><code>my @flatten = map { ref $_ : @$_ ? $_ } values %user_domains;\nprint Dumper \\@flatten;\n</code></pre>\n\n<p>(You need the <code>ref</code> test, because without it, the non-array <code>main-domain</code> won't work properly)</p>\n\n<p>So for the sake of consistency, you might be better off with:</p>\n\n<pre><code>my %user_domains = (\n    'addon_domains' =&gt; ['domain1.com', 'domain2.com', 'domain3.com'],\n    'parked_domains' =&gt; ['parked1.com', 'parked2.com', 'parked3.com'],\n    'main_domain' =&gt; ['main-domain.com'],\n    'sub_domains' =&gt; ['sub1.main-domain.com', 'sub2.main-domain.com'],\n);\n</code></pre>\n"}, {"comments": [{"owner": {"reputation": 107, "user_id": 3162579, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/ecd713243ecea45b57cca7670d7ec65c?s=128&d=identicon&r=PG&f=1", "display_name": "SomeCode", "link": "https://stackoverflow.com/users/3162579/somecode"}, "edited": false, "score": 0, "creation_date": 1500465968, "post_id": 45189908, "comment_id": 77347111, "body": "Damn dude, that instantly did the trick, although it should exclude the <code>sub_domains</code>. Can you explain what on earth is happening?"}, {"owner": {"reputation": 123805, "user_id": 622310, "user_type": "registered", "accept_rate": 33, "profile_image": "https://www.gravatar.com/avatar/8b6d35219e1808520bc238b28161e2e6?s=128&d=identicon&r=PG", "display_name": "Borodin", "link": "https://stackoverflow.com/users/622310/borodin"}, "reply_to_user": {"reputation": 107, "user_id": 3162579, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/ecd713243ecea45b57cca7670d7ec65c?s=128&d=identicon&r=PG&f=1", "display_name": "SomeCode", "link": "https://stackoverflow.com/users/3162579/somecode"}, "edited": false, "score": 0, "creation_date": 1500467098, "post_id": 45189908, "comment_id": 77348068, "body": "@SomeCode: I&#39;ve added an explanation and removed the subdomain data from the result"}], "tags": [], "owner": {"reputation": 123805, "user_id": 622310, "user_type": "registered", "accept_rate": 33, "profile_image": "https://www.gravatar.com/avatar/8b6d35219e1808520bc238b28161e2e6?s=128&d=identicon&r=PG", "display_name": "Borodin", "link": "https://stackoverflow.com/users/622310/borodin"}, "is_accepted": true, "score": 1, "last_activity_date": 1500466866, "last_edit_date": 1500466866, "creation_date": 1500465620, "answer_id": 45189908, "question_id": 45188457, "link": "https://stackoverflow.com/questions/45188457/merge-perl-hashes-into-one-array-and-loop-through-it/45189908#45189908", "title": "Merge Perl hashes into one array and loop through it", "body": "<p>You need something like this</p>\n\n<p>If you find you have a copy of <code>List::Util</code> that doesn't include <code>uniq</code> then you can either upgrade the module or use this definition</p>\n\n<pre><code>sub uniq {\n    my %seen;\n    grep { not $seen{$_}++ } @_;\n}\n</code></pre>\n\n<p>From your dump, the <code>uapi</code> call is returning a <em>reference to a hash</em>. That goes into <code>$cp_response</code> and then drilling down into the structure fetches the <code>data</code> hash reference into <code>$data</code></p>\n\n<p><code>delete</code> removes the subdomain information from the hash. </p>\n\n<p>The lists you want are the <em>values</em> of the hash to which <code>$data</code> refers, so I extract those. Those values are <em>references to arrays</em> of strings if there is more than one domain in the list, or simple strings if there is only one</p>\n\n<p>The <code>map</code> converts all the domain names to a single list by dereferencing array references, or passing strings straight through. That is what the <code>ref() ? @$_ : $_</code> is doing. FInally <code>uniq</code> removes multiple occurrences of the same name</p>\n\n<pre><code>use List::Util 'uniq';\n\nmy $cp_response = $cpliveapi-&gt;uapi('DomainInfo', 'list_domains');\nmy $data        = $cp_response-&gt;{cpanelresult}{result}{data};\n\ndelete $data-&gt;{sub_domains};\n\nmy @domains = uniq map { ref() ? @$_ : $_ } values %$data;\n</code></pre>\n\n<h3>output</h3>\n\n<pre><code>parked1.com\nparked2.com\nparked3.com\ndomain1.com\ndomain2.com\ndomain3.com\nmain-domain.com\n</code></pre>\n"}], "owner": {"reputation": 107, "user_id": 3162579, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/ecd713243ecea45b57cca7670d7ec65c?s=128&d=identicon&r=PG&f=1", "display_name": "SomeCode", "link": "https://stackoverflow.com/users/3162579/somecode"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 51, "favorite_count": 0, "accepted_answer_id": 45189908, "answer_count": 2, "score": -1, "last_activity_date": 1500466866, "creation_date": 1500461642, "last_edit_date": 1500464836, "question_id": 45188457, "link": "https://stackoverflow.com/questions/45188457/merge-perl-hashes-into-one-array-and-loop-through-it", "title": "Merge Perl hashes into one array and loop through it", "body": "<p>I'm creating a Perl plugin for cPanel which has to get all domains in the account of a user and display it in a HTML <code>select</code> field. Originally, I'm a PHP developer, so I'm having a hard time understanding some of the logic of Perl. I do know that cPanel plugins can also be written in PHP, but for this plugin I'm limited to Perl.</p>\n\n<p>This is how I get the data from cPanel:</p>\n\n<pre><code>my @user_domains = $cpliveapi-&gt;uapi('DomainInfo', 'list_domains');\n@user_domains = $user_domains[0]{cpanelresult}{result}{data};\n</code></pre>\n\n<p>This is what it looks like using <code>print Dumper @user_domains</code>:</p>\n\n<pre><code>$VAR1 = {\n    'addon_domains' =&gt; ['domain1.com', 'domain2.com', 'domain3.com'],\n    'parked_domains' =&gt; ['parked1.com', 'parked2.com', 'parked3.com'],\n    'main_domain' =&gt; 'main-domain.com',\n    'sub_domains' =&gt; ['sub1.main-domain.com', 'sub2.main-domain.com']\n};\n</code></pre>\n\n<p>I want the data to look like this (thanks @simbabque):</p>\n\n<p><code>@domains = qw(domain1.com domain2.com domain3.com main-domain.com parked1.com parked2.com parked3.com);</code></p>\n\n<p>So, I want to exclude <code>sub_domains</code> and merge the others in 1 single-dimensional array so I can loop through them with a single loop. I've struggled the past few days with what sounds like an extremely simple task, but I just can't wrap my head around it.</p>\n"}, {"tags": ["html", "perl"], "comments": [{"owner": {"reputation": 50468, "user_id": 1331451, "user_type": "registered", "accept_rate": 96, "profile_image": "https://i.stack.imgur.com/4ZPmj.png?s=128&g=1", "display_name": "simbabque", "link": "https://stackoverflow.com/users/1331451/simbabque"}, "edited": false, "score": 0, "creation_date": 1500450698, "post_id": 45184174, "comment_id": 77336233, "body": "It&#39;s not clear what the <code>$body</code> and <code>$html_body</code> variables are supposed to start out with. You are assigning the first argument to a function to both of them. But it doesn&#39;t look like you are in a function."}, {"owner": {"reputation": 3, "user_id": 8181168, "user_type": "registered", "profile_image": "https://lh5.googleusercontent.com/-ziaAWs9bUt8/AAAAAAAAAAI/AAAAAAAAAgw/yF2J4td64dE/photo.jpg?sz=128", "display_name": "Sharmila Subramaniam", "link": "https://stackoverflow.com/users/8181168/sharmila-subramaniam"}, "reply_to_user": {"reputation": 50468, "user_id": 1331451, "user_type": "registered", "accept_rate": 96, "profile_image": "https://i.stack.imgur.com/4ZPmj.png?s=128&g=1", "display_name": "simbabque", "link": "https://stackoverflow.com/users/1331451/simbabque"}, "edited": false, "score": 0, "creation_date": 1500450930, "post_id": 45184174, "comment_id": 77336406, "body": "$body and $htnl_body assigned to list in which will develop the email."}, {"owner": {"reputation": 50468, "user_id": 1331451, "user_type": "registered", "accept_rate": 96, "profile_image": "https://i.stack.imgur.com/4ZPmj.png?s=128&g=1", "display_name": "simbabque", "link": "https://stackoverflow.com/users/1331451/simbabque"}, "edited": false, "score": 1, "creation_date": 1500451039, "post_id": 45184174, "comment_id": 77336471, "body": "No. Your code is full of mistakes. What do you think <code>@_</code> is for? In <code>push(@$html_body, &quot;@row&quot;);</code> you are stringifying <code>@row</code>. That&#39;s essentially the same as <code>push @$html_body, join( $, , @row)</code>. I don&#39;t think that is what you mean."}], "answers": [{"comments": [{"owner": {"reputation": 123805, "user_id": 622310, "user_type": "registered", "accept_rate": 33, "profile_image": "https://www.gravatar.com/avatar/8b6d35219e1808520bc238b28161e2e6?s=128&d=identicon&r=PG", "display_name": "Borodin", "link": "https://stackoverflow.com/users/622310/borodin"}, "edited": false, "score": 0, "creation_date": 1500456231, "post_id": 45185274, "comment_id": 77340018, "body": "Except that there is nothing in <code>@_</code> because there is no subroutine."}, {"owner": {"reputation": 378, "user_id": 4804966, "user_type": "registered", "accept_rate": 40, "profile_image": "https://graph.facebook.com/932116023475957/picture?type=large", "display_name": "Apoorv Joshi", "link": "https://stackoverflow.com/users/4804966/apoorv-joshi"}, "reply_to_user": {"reputation": 123805, "user_id": 622310, "user_type": "registered", "accept_rate": 33, "profile_image": "https://www.gravatar.com/avatar/8b6d35219e1808520bc238b28161e2e6?s=128&d=identicon&r=PG", "display_name": "Borodin", "link": "https://stackoverflow.com/users/622310/borodin"}, "edited": false, "score": 0, "creation_date": 1500456601, "post_id": 45185274, "comment_id": 77340261, "body": "Oops, Thanks for pointing out. Will update the answer accordingly."}], "tags": [], "owner": {"reputation": 378, "user_id": 4804966, "user_type": "registered", "accept_rate": 40, "profile_image": "https://graph.facebook.com/932116023475957/picture?type=large", "display_name": "Apoorv Joshi", "link": "https://stackoverflow.com/users/4804966/apoorv-joshi"}, "is_accepted": false, "score": -1, "last_activity_date": 1500464106, "last_edit_date": 1500464106, "creation_date": 1500453632, "answer_id": 45185274, "question_id": 45184174, "link": "https://stackoverflow.com/questions/45184174/perl-to-read-each-lines-and-print-the-output-in-email-html/45185274#45185274", "title": "Perl to read each lines and print the output in email (html)", "body": "<p>First of all <code>@_</code> is an arrayof arguments passed to subroutines, and it looks like you're not in one. So, doing:</p>\n\n<pre><code>my ($body) = @_;\nmy ($html_body) = @_;\n</code></pre>\n\n<p>is setting <code>$body</code> &amp; <code>$html_body</code> to <code>$_[0]</code>, which is <code>undef</code>.</p>\n\n<p>How to fix?</p>\n\n<hr>\n\n<p>There are two ways if you wrap it in a subroutine:</p>\n\n<p>Use <code>shift</code> -> Which will make the above code look like:  </p>\n\n<pre><code>my ($body) = shift;\nmy ($html_body)= shift;\n</code></pre>\n\n<p>Or,</p>\n\n<pre><code>my ($body, $html_body) = @_;\n</code></pre>\n\n<p>I would recommend the last one because it is less code and is more readable than the first one.</p>\n"}, {"comments": [{"owner": {"reputation": 3, "user_id": 8181168, "user_type": "registered", "profile_image": "https://lh5.googleusercontent.com/-ziaAWs9bUt8/AAAAAAAAAAI/AAAAAAAAAgw/yF2J4td64dE/photo.jpg?sz=128", "display_name": "Sharmila Subramaniam", "link": "https://stackoverflow.com/users/8181168/sharmila-subramaniam"}, "edited": false, "score": 0, "creation_date": 1500511211, "post_id": 45188778, "comment_id": 77373362, "body": "Works great... Thanks a lot @Chris Turner"}, {"owner": {"reputation": 7829, "user_id": 4950584, "user_type": "registered", "profile_image": "https://lh3.googleusercontent.com/-xTMYK-wVa7U/AAAAAAAAAAI/AAAAAAAAAGA/x2vE5BBF-hM/photo.jpg?sz=128", "display_name": "Chris Turner", "link": "https://stackoverflow.com/users/4950584/chris-turner"}, "reply_to_user": {"reputation": 3, "user_id": 8181168, "user_type": "registered", "profile_image": "https://lh5.googleusercontent.com/-ziaAWs9bUt8/AAAAAAAAAAI/AAAAAAAAAgw/yF2J4td64dE/photo.jpg?sz=128", "display_name": "Sharmila Subramaniam", "link": "https://stackoverflow.com/users/8181168/sharmila-subramaniam"}, "edited": false, "score": 0, "creation_date": 1500542558, "post_id": 45188778, "comment_id": 77387195, "body": "@SharmilaSubramaniam If you&#39;re accepting this answer, a tick would be appreciated :)"}], "tags": [], "owner": {"reputation": 7829, "user_id": 4950584, "user_type": "registered", "profile_image": "https://lh3.googleusercontent.com/-xTMYK-wVa7U/AAAAAAAAAAI/AAAAAAAAAGA/x2vE5BBF-hM/photo.jpg?sz=128", "display_name": "Chris Turner", "link": "https://stackoverflow.com/users/4950584/chris-turner"}, "is_accepted": true, "score": -1, "last_activity_date": 1500462522, "creation_date": 1500462522, "answer_id": 45188778, "question_id": 45184174, "link": "https://stackoverflow.com/questions/45184174/perl-to-read-each-lines-and-print-the-output-in-email-html/45188778#45188778", "title": "Perl to read each lines and print the output in email (html)", "body": "<p>The problem you're facing is that plain text contains no formatting information when placed inside a HTML document. End of line characters are ignored and treated just like ordinary white space. You need to add HTML tags to the text to convey the formatting you want or you could wrap it up in a pre tag as that will display it \"as is\".</p>\n\n<p>As mentioned by others in the comments above, your use of <code>@_</code> doesn't make sense. And it doesn't really make sense for <code>$html_body</code> to be treated like an array either when all you're doing is appending HTML to it. So I've rewritten that chunk of code to use it as a scalar and append the HTML to it instead. And also fixed some mistakes in the HTML as you need to close tags in the same order as you open them.</p>\n\n<pre><code>print MAIL \"Subject: Important Announcement \\n\";\nprint MAIL \"\\n\"; # Need a blank line after the header to show it's finished\nmy $html_body = \"&lt;html&gt;&lt;body&gt;\";\n$html_body .=  \"&lt;h1&gt;&lt;b&gt;&lt;font color=\"red\"&gt;&lt;u&gt;ATTENTION!&lt;/u&gt;&lt;/font&gt;&lt;/b&gt;&lt;/h1&gt;\";\n$html_body .= \"&lt;pre&gt;\";\n$html_body .= join(\"\", @row);\n$html_body .= \"&lt;/pre&gt;\";\n$html_body .= \"&lt;/body&gt;&lt;/html&gt;\";\nprint MAIL $html_body;\nclose(MAIL);\n</code></pre>\n"}], "owner": {"reputation": 3, "user_id": 8181168, "user_type": "registered", "profile_image": "https://lh5.googleusercontent.com/-ziaAWs9bUt8/AAAAAAAAAAI/AAAAAAAAAgw/yF2J4td64dE/photo.jpg?sz=128", "display_name": "Sharmila Subramaniam", "link": "https://stackoverflow.com/users/8181168/sharmila-subramaniam"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 99, "favorite_count": 0, "accepted_answer_id": 45188778, "answer_count": 2, "score": -3, "last_activity_date": 1500464106, "creation_date": 1500450570, "question_id": 45184174, "link": "https://stackoverflow.com/questions/45184174/perl-to-read-each-lines-and-print-the-output-in-email-html", "title": "Perl to read each lines and print the output in email (html)", "body": "<p>The below code able to read the content of file and print the content of body with the file's content.   </p>\n\n<pre><code>use strict;     \nmy $filename = '.../text.txt';\nopen (my $ifh, '&lt;', $filename)\nor die \"Could not open file '$filename' $!\";\nlocal $/ = undef;\nmy @row = (&lt;$ifh&gt;)[0..9];\nclose ($ifh);\nprint  \"@row\\n\";\n\nmy ($body) = @_;\nmy ($html_body)= @_;\n.\n.\n.\nprint(MAIL \"Subject: Important Announcement \\n\");\n.\n.\n.\npush(@$html_body, \"&lt;h1&gt;&lt;b&gt;&lt;font color= red &gt;&lt;u&gt;ATTENTION!&lt;/u&gt;&lt;/b&gt;&lt;/h1&gt;&lt;/font&gt;&lt;br&gt;\");\n push(@$html_body, \"@row\");\n.\n.\n.\n print(MAIL \"$body\", \"@$html_body\");\n close(MAIL);\n</code></pre>\n\n<p>But unfortunately, i am having problem to produce the email body with same format of the text.txt file. The output email produced only having single line instead of paragraphs of 3.</p>\n"}, {"tags": ["perl", "perl-hash"], "comments": [{"owner": {"reputation": 15, "user_id": 8225723, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/0b155fb38e807e2ae718197e176db446?s=128&d=identicon&r=PG&f=1", "display_name": "Ajatasatru", "link": "https://stackoverflow.com/users/8225723/ajatasatru"}, "edited": false, "score": 0, "creation_date": 1500982554, "post_id": 45183744, "comment_id": 77565463, "body": "Thank you larsen &amp; Apoorv Joshi. The resolution that you provided helped me to implement the code the way I wanted."}], "answers": [{"tags": [], "owner": {"reputation": 1419, "user_id": 203856, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/67f1108eabf701ed53b05a875e3d8203?s=128&d=identicon&r=PG", "display_name": "larsen", "link": "https://stackoverflow.com/users/203856/larsen"}, "is_accepted": true, "score": 2, "last_activity_date": 1500492224, "last_edit_date": 1500492224, "creation_date": 1500455049, "answer_id": 45185805, "question_id": 45183744, "link": "https://stackoverflow.com/questions/45183744/perl-hash-references-to-the-hash-values-inside-same-hash/45185805#45185805", "title": "Perl Hash references to the hash values inside same hash", "body": "<p>The semantics of the code you wrote is not what you imagined. In particular:</p>\n\n<pre><code>$test{map}{b} = $test{map}{a}+10;\n$test{ref}{r} = $test{map}{b};\n</code></pre>\n\n<p>These <strong>are not</strong> -as I think you imagined- \"rules\" to obtain the value of <code>$test{map}{b}</code> and <code>$test{map}{b}</code> every time someone reads them, but instructions that when executed modify the value associated with the keys <code>b</code> and <code>r</code>. And that's it.</p>\n\n<p>If you want the elements in your hash to be dynamic, one possible approach could be to use references to subroutines, plus a mechanism to evaluate these rules when the user asks for the values. But be advised that could get complicated: for example, what about circular references? Or rules that reference other rules, as the key <code>r</code> in your example?</p>\n\n<p>Anyway, here some code as a proof of concept:</p>\n\n<pre><code>use strict;\nuse warnings;\nuse v5.10;\n\nmy %test;\n\n$test{map}{a} = 32;\n$test{map}{b} = sub { evaluate( $test{map}{a} ) + 10 };\n$test{ref}{r} = sub { evaluate( $test{map}{b} ) };\n\nsub evaluate {\n  my $expr = shift;\n  if ( ref $expr eq 'CODE' ) {\n    # We need to execute the procedure indicated \n    # to obtain a value\n    return $expr-&gt;();\n  }\n  else {\n    # Otherwise, we just return what we found associated to the key\n    return $expr;\n  }\n}\n\nsay evaluate( $test{ map }{ a } ); # 32\nsay evaluate( $test{ map }{ b } ); # 42\nsay evaluate( $test{ ref }{ r } ); # 42\n\n$test{map}{a} = 42;\n\nsay evaluate( $test{ map }{ a } ); # 42\nsay evaluate( $test{ map }{ b } ); # 52\nsay evaluate( $test{ ref }{ r } ); # 52\n</code></pre>\n\n<p>Again, developing a general and solid solution is by no means a trivial project. If you're interested in these techniques from a Perl point of view a very good book is <a href=\"http://hop.perl.plover.com/\" rel=\"nofollow noreferrer\">Higher Order Perl</a>, also available online for free.</p>\n"}, {"tags": [], "owner": {"reputation": 378, "user_id": 4804966, "user_type": "registered", "accept_rate": 40, "profile_image": "https://graph.facebook.com/932116023475957/picture?type=large", "display_name": "Apoorv Joshi", "link": "https://stackoverflow.com/users/4804966/apoorv-joshi"}, "is_accepted": false, "score": 0, "last_activity_date": 1500455277, "creation_date": 1500455277, "answer_id": 45185900, "question_id": 45183744, "link": "https://stackoverflow.com/questions/45183744/perl-hash-references-to-the-hash-values-inside-same-hash/45185900#45185900", "title": "Perl Hash references to the hash values inside same hash", "body": "<p>What you can do is instead of assigning the value, assign a subroutine. For eg:</p>\n\n<pre><code>my %test;\n\n$test{map}{a} = 32;\n$test{map}{b} = sub { return $test{map}{a}+10; };\n$test{ref}{r} = sub { return $test{map}{b}(); };\n\nprint $test{ref}{r}() . \"\\n\";\n\n$test{map}{a} = 42;\n\nprint $test{ref}{r}() . \"\\n\";\n</code></pre>\n"}], "owner": {"reputation": 15, "user_id": 8225723, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/0b155fb38e807e2ae718197e176db446?s=128&d=identicon&r=PG&f=1", "display_name": "Ajatasatru", "link": "https://stackoverflow.com/users/8225723/ajatasatru"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 93, "favorite_count": 0, "accepted_answer_id": 45185805, "answer_count": 2, "score": 1, "last_activity_date": 1500492224, "creation_date": 1500449429, "last_edit_date": 1500453337, "question_id": 45183744, "link": "https://stackoverflow.com/questions/45183744/perl-hash-references-to-the-hash-values-inside-same-hash", "title": "Perl Hash references to the hash values inside same hash", "body": "<p>My requirement is as below. Inside the same hash the values of keys are dependent on other key value as shown below</p>\n\n<pre><code>my %test;\n\n$test{map}{a} = 32;\n$test{map}{b} = $test{map}{a}+10;\n$test{ref}{r} = $test{map}{b};\n</code></pre>\n\n<p>So, when I do \n    print Dumper(\\%test);\nI get</p>\n\n<pre><code>$VAR1 = {\n          'ref' =&gt; {\n                     'r' =&gt; 42\n                   },\n          'map' =&gt; {\n                     'a' =&gt; 32,\n                     'b' =&gt; 42\n                   }\n        };\n</code></pre>\n\n<p>If I change the hash value</p>\n\n<pre><code>$test{map}{a} = 42\n</code></pre>\n\n<p>I get </p>\n\n<pre><code>$VAR1 = {\n          'ref' =&gt; {\n                     'r' =&gt; 42\n                   },\n          'map' =&gt; {\n                     'a' =&gt; 42,\n                     'b' =&gt; 42\n                   }\n        };\n</code></pre>\n\n<p>Instead, I should have the updated hash %test as shown below</p>\n\n<pre><code>$VAR1 = {\n          'ref' =&gt; {\n                     'r' =&gt; 52\n                   },\n          'map' =&gt; {\n                     'a' =&gt; 42,\n                     'b' =&gt; 52\n                   }\n        };\n</code></pre>\n\n<p>How to achieve the above result? Any help is much appreciated</p>\n"}, {"tags": ["regex", "perl"], "comments": [{"owner": {"reputation": 53041, "user_id": 4653379, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/b3953dbedd0dabff5cbc3db9b0835b14?s=128&d=identicon&r=PG&f=1", "display_name": "zdim", "link": "https://stackoverflow.com/users/4653379/zdim"}, "edited": false, "score": 2, "creation_date": 1500448743, "post_id": 45183418, "comment_id": 77334846, "body": "What parts do you need to extract from it?"}], "answers": [{"tags": [], "owner": {"reputation": 2415, "user_id": 4251338, "user_type": "registered", "accept_rate": 90, "profile_image": "https://i.stack.imgur.com/UNbCO.png?s=128&g=1", "display_name": "ssr1012", "link": "https://stackoverflow.com/users/4251338/ssr1012"}, "is_accepted": false, "score": 0, "last_activity_date": 1500449471, "creation_date": 1500449471, "answer_id": 45183763, "question_id": 45183418, "link": "https://stackoverflow.com/questions/45183418/matching-different-patterns-by-regexp/45183763#45183763", "title": "Matching different patterns by regexp", "body": "<pre><code> my $str = 'Tab[0]hash/0-786541/value : 12';\n\n if($str=~m{^(\\w)*\\[.*?\\]([^\\/]*)/([^\\/]*)/([^\\:]*)\\s*\\:\\s*([^\\d\\w]*)\\n?})\n {\n      print \"Matches...\\n\" \n }\n</code></pre>\n\n<p>Just try this:</p>\n"}, {"tags": [], "owner": {"reputation": 53041, "user_id": 4653379, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/b3953dbedd0dabff5cbc3db9b0835b14?s=128&d=identicon&r=PG&f=1", "display_name": "zdim", "link": "https://stackoverflow.com/users/4653379/zdim"}, "is_accepted": false, "score": 1, "last_activity_date": 1520275578, "last_edit_date": 1520275578, "creation_date": 1500453658, "answer_id": 45185284, "question_id": 45183418, "link": "https://stackoverflow.com/questions/45183418/matching-different-patterns-by-regexp/45185284#45185284", "title": "Matching different patterns by regexp", "body": "<p>Assuming that the string need be parsed by <code>/</code> and <code>:</code> here are some basic ways to parse</p>\n\n<pre><code>my $str = 'Tab[0]hash/0-786541/value : 12';\n</code></pre>\n\n<p>Using <a href=\"https://perldoc.perl.org/functions/split.html\" rel=\"nofollow noreferrer\">split</a></p>\n\n<pre><code>my @parts = split /\\/|:/, $str;\n</code></pre>\n\n<p>the string is split on either <code>/</code> or <code>:</code>, as <code>split</code> takes a full regex for its pattern specification inside <code>/.../</code>.  We can also clean out most spaces while matching</p>\n\n<pre><code>my @parts = split /\\s*(?:\\/|:)\\s*/, $str;\n</code></pre>\n\n<p>what returns the list with elements without surrounding spaces (except for trailing spaces, at the end of the string). The <a href=\"https://perldoc.perl.org/perlretut.html#Non-capturing-groupings\" rel=\"nofollow noreferrer\">non-capturing group</a> <code>(?:...)</code> is used since with <code>()</code> the delimiters are captured and returned as well.</p>\n\n<p>Using regex</p>\n\n<pre><code>my @parts = $str =~ m{ \\s* ([^/:]+) \\s* }gx;\n</code></pre>\n\n<p>matching anything that is not <code>/</code> or <code>:</code>, one or more times. The <code>/g</code> modifier makes it continue until the string is exhausted, matching all occurrences of the pattern and returning the list of matches that are captured by <code>()</code>.</p>\n\n<p>I use <code>{}</code> delimiters to not have to escape <code>/</code>, and then <code>m{}</code> is needed. With the <code>/x</code> modifier we may freely use spaces, newlines, and comments inside (they are not matched), for readability.</p>\n\n<p>Then we can separate the number</p>\n\n<pre><code>my @num = pop @parts;\n</code></pre>\n\n<p>in both cases.</p>\n\n<p>This can be parsed by more specific patterns but for that we really should know what needs to be extracted. One normally makes use of \"landmark\" patterns in a string, to be able to form precise match targets, and of knowledge of <em>what</em> is needed from it, rather than specifying <em>every</em> element.</p>\n\n<hr>\n\n<p>If the shown string represents typical lines in a file</p>\n\n<pre><code>use warnings;\nuse strict;\n\nmy $file = '...';\nopen my $fh, '&lt;', $file or die \"Can't open $file: $!\";\n\nwhile (&lt;$fh&gt;) \n{\n    my @parts = m{\\s*([^/:]+)\\s*}g;    #/\n    my $num = pop @parts;\n    print \"@parts -- $num\\n\";\n\n    # Reassemble (up to extra spaces), perhaps for a check\n    # my $orig_str = join('/', @parts) . \" : $num\";\n}\n</code></pre>\n\n<p>(that <code>#/</code> is there only to turn off the wrong syntax highlight by the markup) </p>\n"}, {"comments": [{"owner": {"reputation": 82895, "user_id": 372239, "user_type": "registered", "accept_rate": 80, "profile_image": "https://i.stack.imgur.com/2twLb.jpg?s=128&g=1", "display_name": "Toto", "link": "https://stackoverflow.com/users/372239/toto"}, "edited": false, "score": 1, "creation_date": 1500975803, "post_id": 45196354, "comment_id": 77560532, "body": "<code>\\w</code> is NOT equivalent to <code>[a-zA-Z]</code>, it means <code>[a-zA-Z0-9_]</code>"}], "tags": [], "owner": {"reputation": 68, "user_id": 6164487, "user_type": "registered", "accept_rate": 38, "profile_image": "https://www.gravatar.com/avatar/c14618116ef81fd1e1ccf70d8eb9c522?s=128&d=identicon&r=PG&f=1", "display_name": "k189", "link": "https://stackoverflow.com/users/6164487/k189"}, "is_accepted": true, "score": 0, "last_activity_date": 1501087315, "last_edit_date": 1501087315, "creation_date": 1500482435, "answer_id": 45196354, "question_id": 45183418, "link": "https://stackoverflow.com/questions/45183418/matching-different-patterns-by-regexp/45196354#45196354", "title": "Matching different patterns by regexp", "body": "<p>you can use below code.</p>\n\n<pre><code>#!/usr/bin/perl\n\n$str=\"Tab[0]hash/0-786541/value : 12\";\n\n        if ($str =~ /(\\w)*\\[(\\d)\\](\\w)*\\/(\\d)-([0-8])*\\/(\\w)*(\\s)\\:(\\d)*/)\n        {\n                print \"matched\\n\";\n        }\n        else\n        {\n                print \"not matched\\n\";\n        }\n\n\n(\\w)*: [a-zA-Z] followed by zero\\more times of [a-zA-Z]\n\n\\[   : \\[ escape [ so that perl interpreter not to think it as start of charecter class\n\n(\\d) : followed bu any digit\n\n\\]   : \\] escape ] so that perl interpreter not to think it as end of charecter class\n\n(\\w)*: [a-zA-Z] followed by zero\\more times of [a-zA-Z]\n\n\\/   : escape / so that perl interpreter not to think it as end on regular expression\n\n(\\d) : followed by a digit [0-9]\n\n -   : followed by -\n\n([0-8])*: followed by [0-8] (zero\\more times)\n\n\\/   : escape / so that perl interpreter not to think it as end on regular expression\n\n(\\w)*: [a-zA-Z] followed by zero\\more times of [a-zA-Z]\n\n(\\s) : followed by a space\n\n\\:   : followed by a colon\n\n(\\d)*: followed by digits [0-9] (zero\\more times)\n</code></pre>\n"}], "owner": {"reputation": 3, "user_id": 8329707, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/7ea204576a475c61f02113077efd2ba3?s=128&d=identicon&r=PG&f=1", "display_name": "zs23000", "link": "https://stackoverflow.com/users/8329707/zs23000"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 75, "favorite_count": 0, "accepted_answer_id": 45196354, "answer_count": 3, "score": 0, "last_activity_date": 1520275578, "creation_date": 1500448523, "question_id": 45183418, "link": "https://stackoverflow.com/questions/45183418/matching-different-patterns-by-regexp", "title": "Matching different patterns by regexp", "body": "<p>I am a beginner in regexp and I need to match something like :</p>\n\n<pre><code>Tab[0]hash/0-786541/value : 12\n</code></pre>\n\n<p>I tried lot of things but in doesn't match. </p>\n\n<p>For example :</p>\n\n<pre><code>^([\\w\\[\\*\\]]*[\\w\\/(0-9)\\-(0-9){8})\\/]\\w)\\s*:\\s*\n</code></pre>\n\n<p>Thanks for the help</p>\n"}, {"tags": ["git", "perl", "diff", "apply"], "answers": [{"comments": [{"owner": {"reputation": 1282, "user_id": 3126973, "user_type": "registered", "accept_rate": 54, "profile_image": "https://www.gravatar.com/avatar/d46eb01820e93f6b321df6bd2cd98633?s=128&d=identicon&r=PG&f=1", "display_name": "Romeo Sierra", "link": "https://stackoverflow.com/users/3126973/romeo-sierra"}, "edited": false, "score": 0, "creation_date": 1500442827, "post_id": 45181668, "comment_id": 77331587, "body": "Umm.. Is it possible to convert a normal diff to a context diff? Like you have pointed out safer way is better..."}, {"owner": {"reputation": 324078, "user_id": 1256452, "user_type": "registered", "accept_rate": 50, "profile_image": "https://www.gravatar.com/avatar/fa1648baa6108c85886312af93bb32c0?s=128&d=identicon&r=PG", "display_name": "torek", "link": "https://stackoverflow.com/users/1256452/torek"}, "reply_to_user": {"reputation": 1282, "user_id": 3126973, "user_type": "registered", "accept_rate": 54, "profile_image": "https://www.gravatar.com/avatar/d46eb01820e93f6b321df6bd2cd98633?s=128&d=identicon&r=PG&f=1", "display_name": "Romeo Sierra", "link": "https://stackoverflow.com/users/3126973/romeo-sierra"}, "edited": false, "score": 0, "creation_date": 1500443511, "post_id": 45181668, "comment_id": 77331891, "body": "No, it&#39;s impossible to do that safely: the context you need is simply not there. You could convert it to the <i>form</i> of a context diff (with no context) but that gains nothing, except perhaps the ability to use <code>git apply</code> instead of <code>patch</code>. (But <code>patch</code> should be widely available.)"}, {"owner": {"reputation": 1282, "user_id": 3126973, "user_type": "registered", "accept_rate": 54, "profile_image": "https://www.gravatar.com/avatar/d46eb01820e93f6b321df6bd2cd98633?s=128&d=identicon&r=PG&f=1", "display_name": "Romeo Sierra", "link": "https://stackoverflow.com/users/3126973/romeo-sierra"}, "edited": false, "score": 0, "creation_date": 1500443596, "post_id": 45181668, "comment_id": 77331940, "body": "Thank you. I&#39;ll look further to apply this using <code>patch</code> command. :)"}], "tags": [], "owner": {"reputation": 324078, "user_id": 1256452, "user_type": "registered", "accept_rate": 50, "profile_image": "https://www.gravatar.com/avatar/fa1648baa6108c85886312af93bb32c0?s=128&d=identicon&r=PG", "display_name": "torek", "link": "https://stackoverflow.com/users/1256452/torek"}, "is_accepted": true, "score": 3, "last_activity_date": 1500442266, "creation_date": 1500442266, "answer_id": 45181668, "question_id": 45181467, "link": "https://stackoverflow.com/questions/45181467/git-diff-fails-with-fatal-unrecognized-input/45181668#45181668", "title": "git diff : Fails with fatal: Unrecognized input", "body": "<p>That diff is not a <em>context diff</em>, but rather <a href=\"https://en.wikipedia.org/wiki/Diff_utility\" rel=\"nofollow noreferrer\">what the Wikipedia entry calls <em>normal diff output</em></a>.  See also <a href=\"https://stackoverflow.com/q/11331582/1256452\">How to make &quot;git diff&quot; output normal diff format (non-unified, non-context)?</a>  Git cannot apply this non-context kind of diff.</p>\n\n<p>The <a href=\"https://linux.die.net/man/1/patch\" rel=\"nofollow noreferrer\">patch utility</a> can apply normal diff output.  <a href=\"https://linuxacademy.com/blog/linux/introduction-using-diff-and-patch/\" rel=\"nofollow noreferrer\">There are good reasons to prefer context or unified diffs, though.</a>  In particular, normal diffs can easily <em>mis</em>-apply at the wrong location, if the same line appears in more than one place of a source file.</p>\n"}], "owner": {"reputation": 1282, "user_id": 3126973, "user_type": "registered", "accept_rate": 54, "profile_image": "https://www.gravatar.com/avatar/d46eb01820e93f6b321df6bd2cd98633?s=128&d=identicon&r=PG&f=1", "display_name": "Romeo Sierra", "link": "https://stackoverflow.com/users/3126973/romeo-sierra"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 3165, "favorite_count": 1, "accepted_answer_id": 45181668, "answer_count": 1, "score": 0, "last_activity_date": 1500442266, "creation_date": 1500441137, "question_id": 45181467, "link": "https://stackoverflow.com/questions/45181467/git-diff-fails-with-fatal-unrecognized-input", "title": "git diff : Fails with fatal: Unrecognized input", "body": "<p>I have a diff file which contains differences for multiple files. I want it to be applied to the current branch. So far I have tried out using <code>git apply changes.diff</code> which has failed with <code>fatal: Unrecognized input</code>. Diff file looks as follows.</p>\n\n<pre><code>#*#*#*DIFFS FOR FILE ./reporting/report/sso_usage_dd_report.rptdesign #*#*#*\n74c74\n&lt;             &lt;property name=\"odaURL\"&gt;jdbc:mysql://db.mysql.domain:3306/sso_user_data&lt;/property&gt;\n---\n&gt;             &lt;property name=\"odaURL\"&gt;jdbc:mysql://localhost:3306/sso_user_data&lt;/property&gt;\n#*#*#*DIFFS FOR FILE ./reporting/report/sso_usage_monthly_dd_report.rptdesign #*#*#*\n67c67\n&lt;             &lt;property name=\"odaURL\"&gt;jdbc:mysql://db.mysql.domain:3306/sso_user_data&lt;/property&gt;\n---\n&gt;             &lt;property name=\"odaURL\"&gt;jdbc:mysql://localhost:3306/sso_user_data&lt;/property&gt;\n#*#*#*DIFFS FOR FILE ./reporting/report/system_wise_access_information_report.rptdesign #*#*#*\n94c94\n&lt;             &lt;property name=\"odaURL\"&gt;jdbc:mysql://db.mysql.domain:3306/sso_user_data&lt;/property&gt;\n---\n&gt;             &lt;property name=\"odaURL\"&gt;jdbc:mysql://localhost:3306/sso_user_data&lt;/property&gt;\n</code></pre>\n\n<p>Please note that I am unable to recreate the diff file under the current circumstances.</p>\n\n<p><strong>Research</strong></p>\n\n<p>Upon research I have come across <a href=\"https://stackoverflow.com/questions/37347350/all-git-patches-i-create-throw-fatal-unrecognized-input\">this answer</a> which suggests it is a problem with <code>--color=never</code> being not set during the creation time of the patch file. I guessed the same should work with my diff file and tried out removing the color characters by using <code>perl -pe 's/\\x1b.*?[mGKH]//g' changes.diff &gt; changes_nocolor.diff</code> which didn't work.</p>\n\n<p>Question is, am I on the right avenue? What am I doing wrong? How can I fix this? Or is it possible for me to fix this?</p>\n"}, {"tags": ["perl"], "comments": [{"owner": {"reputation": 78982, "user_id": 1848654, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/84180c0f3c9c04f8b8f0613fc0129dac?s=128&d=identicon&r=PG", "display_name": "melpomene", "link": "https://stackoverflow.com/users/1848654/melpomene"}, "edited": false, "score": 3, "creation_date": 1500440897, "post_id": 45181402, "comment_id": 77330844, "body": "Why do you want to use <code>substr</code> for this? And how do you expect us to explain code we can&#39;t see?"}, {"owner": {"reputation": 1678, "user_id": 2510939, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/NesRS.jpg?s=128&g=1", "display_name": "admcfajn", "link": "https://stackoverflow.com/users/2510939/admcfajn"}, "edited": false, "score": 0, "creation_date": 1500440950, "post_id": 45181402, "comment_id": 77330858, "body": "Can you use split? <a href=\"https://perlmaven.com/perl-split\" rel=\"nofollow noreferrer\">perlmaven.com/perl-split</a>"}, {"owner": {"reputation": 13, "user_id": 8329172, "user_type": "registered", "profile_image": "https://lh5.googleusercontent.com/-5dh6oPHkTIw/AAAAAAAAAAI/AAAAAAAAAKY/RbJe5kbWFOQ/photo.jpg?sz=128", "display_name": "Donthula Sravan", "link": "https://stackoverflow.com/users/8329172/donthula-sravan"}, "edited": false, "score": 1, "creation_date": 1500441887, "post_id": 45181402, "comment_id": 77331191, "body": "my $li=[1,2,3,4,5,6,7,8,9];  my $l=substr($li,1,length($li)-2); my @ar=split(&quot;,&quot;,$l); my $a; foreach $a (@ar) { \tprint/n$a; }"}, {"owner": {"reputation": 185, "user_id": 2842468, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/Sx6Oc.gif?s=128&g=1", "display_name": "ulix", "link": "https://stackoverflow.com/users/2842468/ulix"}, "edited": false, "score": 0, "creation_date": 1500443066, "post_id": 45181402, "comment_id": 77331690, "body": "So the &quot;array of some values enclosed in square brackets&quot; is a perl string defined like  my $astr = &quot;[3,5,6,1,7,9,2,8]&quot;;  ? or not ?"}, {"owner": {"reputation": 2415, "user_id": 4251338, "user_type": "registered", "accept_rate": 90, "profile_image": "https://i.stack.imgur.com/UNbCO.png?s=128&g=1", "display_name": "ssr1012", "link": "https://stackoverflow.com/users/4251338/ssr1012"}, "edited": false, "score": 0, "creation_date": 1500443815, "post_id": 45181402, "comment_id": 77332033, "body": "@DonthulaSravan: Please update your code in the question not in comments."}, {"owner": {"reputation": 2415, "user_id": 4251338, "user_type": "registered", "accept_rate": 90, "profile_image": "https://i.stack.imgur.com/UNbCO.png?s=128&g=1", "display_name": "ssr1012", "link": "https://stackoverflow.com/users/4251338/ssr1012"}, "edited": false, "score": 0, "creation_date": 1500443899, "post_id": 45181402, "comment_id": 77332069, "body": "@DonthulaSravan: Your question and code I am sure difference is there."}, {"owner": {"reputation": 13, "user_id": 8329172, "user_type": "registered", "profile_image": "https://lh5.googleusercontent.com/-5dh6oPHkTIw/AAAAAAAAAAI/AAAAAAAAAKY/RbJe5kbWFOQ/photo.jpg?sz=128", "display_name": "Donthula Sravan", "link": "https://stackoverflow.com/users/8329172/donthula-sravan"}, "edited": false, "score": 0, "creation_date": 1500446040, "post_id": 45181402, "comment_id": 77333127, "body": "Thank you. I&#39;m clear now."}, {"owner": {"reputation": 53041, "user_id": 4653379, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/b3953dbedd0dabff5cbc3db9b0835b14?s=128&d=identicon&r=PG&f=1", "display_name": "zdim", "link": "https://stackoverflow.com/users/4653379/zdim"}, "edited": false, "score": 3, "creation_date": 1500449189, "post_id": 45181402, "comment_id": 77335166, "body": "The code you posted makes absolutely no sense."}], "answers": [{"tags": [], "owner": {"reputation": 2415, "user_id": 4251338, "user_type": "registered", "accept_rate": 90, "profile_image": "https://i.stack.imgur.com/UNbCO.png?s=128&g=1", "display_name": "ssr1012", "link": "https://stackoverflow.com/users/4251338/ssr1012"}, "is_accepted": true, "score": -1, "last_activity_date": 1500451060, "creation_date": 1500451060, "answer_id": 45184328, "question_id": 45181402, "link": "https://stackoverflow.com/questions/45181402/how-to-retrieve-only-values-from-an-array-using-perl-substring/45184328#45184328", "title": "How to retrieve only values from an array using perl substring", "body": "<p>Just you try this:</p>\n\n<pre><code>my $str = \"[3,5,6,1,7,9,2,8]\";\n\nmy @htm = map { $_=~s/(\\[|\\])//g; $_; } split /\\,/, $str;\n\nprint \"Each item: $_\\n\" foreach(@htm);\n</code></pre>\n"}], "owner": {"reputation": 13, "user_id": 8329172, "user_type": "registered", "profile_image": "https://lh5.googleusercontent.com/-5dh6oPHkTIw/AAAAAAAAAAI/AAAAAAAAAKY/RbJe5kbWFOQ/photo.jpg?sz=128", "display_name": "Donthula Sravan", "link": "https://stackoverflow.com/users/8329172/donthula-sravan"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 79, "favorite_count": 0, "closed_date": 1500450380, "accepted_answer_id": 45184328, "answer_count": 1, "score": -1, "last_activity_date": 1500451060, "creation_date": 1500440798, "last_edit_date": 1500448109, "question_id": 45181402, "link": "https://stackoverflow.com/questions/45181402/how-to-retrieve-only-values-from-an-array-using-perl-substring", "closed_reason": "Needs details or clarity", "title": "How to retrieve only values from an array using perl substring", "body": "<p>I have an array of some values enclosed in square brackets and separated by a comma and i want a values from that array by removing square brackets and comma. For example.</p>\n\n<pre><code>[3,5,6,1,7,9,2,8]\n</code></pre>\n\n<p>My Code:</p>\n\n<pre><code> my $li=[1,2,3,4,5,6,7,8,9];\n my $l=substr($li,1,length($li)-2);\n my @ar=split(\",\",$l);\n my $a;\n foreach $a (@ar)\n { print/n$a; }\n</code></pre>\n\n<p>I want to get the values as 3 5 6 1 7 9 2 8 by using <code>substr</code> in perl.\nI have a code for this but i can't understand it is bit complicated can you please any one explain it.</p>\n"}, {"tags": ["arrays", "json", "perl", "hash", "hashmap"], "comments": [{"owner": {"reputation": 53041, "user_id": 4653379, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/b3953dbedd0dabff5cbc3db9b0835b14?s=128&d=identicon&r=PG&f=1", "display_name": "zdim", "link": "https://stackoverflow.com/users/4653379/zdim"}, "edited": false, "score": 4, "creation_date": 1500417917, "post_id": 45178262, "comment_id": 77325062, "body": "Re: &quot;<i>I do not ask here that much</i>&quot; -- but here you are asking for much.  It appears that you are simply asking for someone to do the thing for you.  Can you show what you&#39;ve done and where you are stuck so that someone can help you out?"}, {"owner": {"reputation": 65, "user_id": 5544515, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/f5022cabff3e71101f51b69ddcf800aa?s=128&d=identicon&r=PG&f=1", "display_name": "hitman99", "link": "https://stackoverflow.com/users/5544515/hitman99"}, "reply_to_user": {"reputation": 53041, "user_id": 4653379, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/b3953dbedd0dabff5cbc3db9b0835b14?s=128&d=identicon&r=PG&f=1", "display_name": "zdim", "link": "https://stackoverflow.com/users/4653379/zdim"}, "edited": false, "score": 0, "creation_date": 1500418933, "post_id": 45178262, "comment_id": 77325356, "body": "@zdim by that comment, I have not asked many questions and it related to the fact that my indentation can be improper. I am stuck on this and looking for a headstart on this"}, {"owner": {"reputation": 8273, "user_id": 1334695, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/431ae6e9f7610b9d6a6a6cdebd0244d5?s=128&d=identicon&r=PG", "display_name": "stevieb", "link": "https://stackoverflow.com/users/1334695/stevieb"}, "edited": false, "score": 3, "creation_date": 1500419132, "post_id": 45178262, "comment_id": 77325418, "body": "You need to do research. This is a site to ask specific programming questions about code that you&#39;ve already written, and are having a specific problem with. It&#39;s not a code-writing service, nor is it a place where we recommend external resources. Please read through <a href=\"https://stackoverflow.com/help\">help</a>."}, {"owner": {"reputation": 53041, "user_id": 4653379, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/b3953dbedd0dabff5cbc3db9b0835b14?s=128&d=identicon&r=PG&f=1", "display_name": "zdim", "link": "https://stackoverflow.com/users/4653379/zdim"}, "edited": false, "score": 2, "creation_date": 1500420467, "post_id": 45178262, "comment_id": 77325795, "body": "@hitman99  Yes, I understood that.  My comment played with that wording -- to let you know that you appear to be asking for code to solve your problem.  (Somehow I don&#39;t think that you actually had that in mind.)  As for the &quot;headstart&quot; -- my second comment really answers your question.  What data structure to use, a package that gives you that, and information that there is a lot of that on SO.  I hope that that gives you the headstart.  Let us know how to coding goes."}, {"owner": {"reputation": 53041, "user_id": 4653379, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/b3953dbedd0dabff5cbc3db9b0835b14?s=128&d=identicon&r=PG&f=1", "display_name": "zdim", "link": "https://stackoverflow.com/users/4653379/zdim"}, "edited": false, "score": 0, "creation_date": 1500446492, "post_id": 45178262, "comment_id": 77333396, "body": "<i>This is &quot;my second comment&quot; referred to above, rewritten.</i>   Rules to convert JSON to Perl data are simple. Associations <code>X : Y</code> call for hashes.  Lists <code>a, b, c</code> fit in arrays. And hash/array <i>references</i> are scalars that can be elements of an array or value for a key in a hash.  You get such a complex data structure when you read that JSON file into a program using <a href=\"http://search.cpan.org/~ishigaki/JSON-2.94/lib/JSON.pm\" rel=\"nofollow noreferrer\">JSON</a>, or better <a href=\"http://search.cpan.org/~mlehmann/JSON-XS-3.02/XS.pm\" rel=\"nofollow noreferrer\">JSON_XS</a>. Then build that structure you show from it. Also, search SO for perl+JSON. There&#39;s <i>a lot</i>."}, {"owner": {"reputation": 65, "user_id": 5544515, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/f5022cabff3e71101f51b69ddcf800aa?s=128&d=identicon&r=PG&f=1", "display_name": "hitman99", "link": "https://stackoverflow.com/users/5544515/hitman99"}, "reply_to_user": {"reputation": 53041, "user_id": 4653379, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/b3953dbedd0dabff5cbc3db9b0835b14?s=128&d=identicon&r=PG&f=1", "display_name": "zdim", "link": "https://stackoverflow.com/users/4653379/zdim"}, "edited": false, "score": 0, "creation_date": 1500473390, "post_id": 45178262, "comment_id": 77353486, "body": "thanks @zdim, going through that now"}, {"owner": {"reputation": 53041, "user_id": 4653379, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/b3953dbedd0dabff5cbc3db9b0835b14?s=128&d=identicon&r=PG&f=1", "display_name": "zdim", "link": "https://stackoverflow.com/users/4653379/zdim"}, "edited": false, "score": 1, "creation_date": 1500482874, "post_id": 45178262, "comment_id": 77360342, "body": "LIterature: tutorial <a href=\"http://perldoc.perl.org/perlreftut.html\" rel=\"nofollow noreferrer\">perlreftut</a>, data structures cookbook <a href=\"http://perldoc.perl.org/perldsc.html\" rel=\"nofollow noreferrer\">perldsc</a>, reference <a href=\"http://perldoc.perl.org/perlref.html\" rel=\"nofollow noreferrer\">perlref</a>. SO."}], "answers": [{"tags": [], "owner": {"reputation": 320771, "user_id": 589924, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/b2cf53d5a3d25f95c0db4e025aed4153?s=128&d=identicon&r=PG", "display_name": "ikegami", "link": "https://stackoverflow.com/users/589924/ikegami"}, "is_accepted": true, "score": 2, "last_activity_date": 1508254269, "last_edit_date": 1508254269, "creation_date": 1500445119, "answer_id": 45182337, "question_id": 45178262, "link": "https://stackoverflow.com/questions/45178262/flatten-out-a-json-hash-map-to-an-array-in-perl/45182337#45182337", "title": "Flatten out a JSON hash map to an array in perl", "body": "<pre><code>use JSON qw( decode_json encode_json from_json to_json );\n\nsub dclone { from_json(to_json($_[0])) }\n\nmy $foos_by_comp = decode_json(...);\n\nmy @flattened_foos_grouped_by_comp;\nfor my $comp (keys(%$foos_by_comp)) {\n   my @flattened_foos_of_comp;\n   my $foo = $foos_by_comp-&gt;{$comp};\n   for my $search_string (@{ $foo-&gt;{searchString} }) {\n       my $flattened_foo = dclone($foo);\n       $flattened_foo-&gt;{ comp         } = $comp;\n       $flattened_foo-&gt;{ searchString } = $search_string;\n       push @flattened_foos_of_comp, $flattened_foo;\n   }\n\n   push @flattened_foos_grouped_by_comp, \\@flattened_foos_of_comp;\n}\n\nprint(encode_json(\\@flattened_foos_grouped_by_comp));\n</code></pre>\n"}, {"tags": [], "owner": {"reputation": 65, "user_id": 5544515, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/f5022cabff3e71101f51b69ddcf800aa?s=128&d=identicon&r=PG&f=1", "display_name": "hitman99", "link": "https://stackoverflow.com/users/5544515/hitman99"}, "is_accepted": false, "score": 0, "last_activity_date": 1500568855, "creation_date": 1500568855, "answer_id": 45220604, "question_id": 45178262, "link": "https://stackoverflow.com/questions/45178262/flatten-out-a-json-hash-map-to-an-array-in-perl/45220604#45220604", "title": "Flatten out a JSON hash map to an array in perl", "body": "<p>I have done something like this. Your comments and suggestions are welcome. \nAlso thank you @ikegami and @zdim for headstarts.</p>\n\n<pre><code>use JSON qw( decode_json encode_json from_json to_json );\n\n\nmy $component = decode_json($json);\n\nsub dclone { from_json(to_json($_[0])) }\n\n\nmy @grouped_by_comp;\nmy @testData;\nforeach my $comp (keys %$component){                                     # $comp is an array reference , keys %$component gives an array reference \n    foreach my $test_map (@{$component-&gt;{$comp}}){                       #@{$component-&gt;{$comp}} is a hash reference in array \n        my $searchStrings = $test_map-&gt;{searchString};                      #$test_map-&gt;{searchString} is an array reference within a hash \n        foreach my $search ( @$searchStrings ){\n            my %tmp_map = %$test_map;\n            $tmp_map{component} = $comp;\n            $tmp_map{searchString} = $search;\n            $tmp_map{ignoreSearch} = [@{$test_map-&gt;{ignoreSearch}}];\n            push @testData,\\%tmp_map;\n        }\n    }\n}\nprint Dumper(\\@testData);\n</code></pre>\n"}], "owner": {"reputation": 65, "user_id": 5544515, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/f5022cabff3e71101f51b69ddcf800aa?s=128&d=identicon&r=PG&f=1", "display_name": "hitman99", "link": "https://stackoverflow.com/users/5544515/hitman99"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 300, "favorite_count": 0, "accepted_answer_id": 45182337, "answer_count": 2, "score": 0, "last_activity_date": 1508254269, "creation_date": 1500417668, "question_id": 45178262, "link": "https://stackoverflow.com/questions/45178262/flatten-out-a-json-hash-map-to-an-array-in-perl", "title": "Flatten out a JSON hash map to an array in perl", "body": "<p>I am new to data structures and I have a question about it, </p>\n\n<p>I have a JSON file</p>\n\n<pre><code>    {\n    \"COMP1\":[\n        {\n            \"machines\"      :   \"xyz\",\n            \"logLocation\"   :   \"a.log\",\n            \"duration\"      :   \"1h\",\n            \"network\"       :   \"prefix1\",\n            \"searchString\"  :   [\n                \"ERR\",\n                \"CRIT\",\n                \"WARN\"\n\n            ],\n            \"ignoreSearch\"  :   [\n                \"DEFERRED\",\n                \"ABCCRITXYZ\"\n            ]\n        },\n        {\n            \"machines\"      :   \"sql2\",\n            \"logLocation\"   :   \"a.log\",\n            \"duration\"      :   \"1d\",\n            \"network\"       :   \"imcr\",\n            \"searchString\"  :   [\n                \"ERR\",\n                \"CRIT\",\n                \"WARN\"\n\n            ],\n            \"ignoreSearch\"  :   [\n                \"DEFERRED\",\n                \"ABCCRITXYZ\"\n            ]\n        }\n   ],\n    \"COMP2\":[\n        {\n            \"machines\"      :   \"sql\",\n            \"logLocation\"   :   \"a.log\",\n            \"duration\"      :   \"1h\",\n            \"network\"       :   \"prefix-1\",\n            \"searchString\"  :   [\n                \"ERR\",\n                \"CRIT\",\n                \"WARN\"\n\n            ],\n            \"ignoreSearch\"  :   [\n                \"DEFERRED\",\n                \"ABCCRITXYZ\"\n            ]\n        }\n    ]\n}\n</code></pre>\n\n<p>I want to flatten out this into arrays on the basis of the array of \"searchString\"</p>\n\n<pre><code>[\n   {\n\n\n \"comp\"          : \"comp1\",\n \"machines\"      :   \"xyz\",\n \"logLocation\"   :   \"a.log\",\n \"duration\"      :   \"1h\",\n \"network\"       :   \"prefix1\",\n \"searchString\"  :    \"ERR\",\n \"ignoreSearch\"  : [\"DEFERRED\",\"ABCCRITXYZ\"]\n    },\n\n  {\n    \"comp\"          : \"comp1\",\n    \"machines\"      :   \"xyz\",\n    \"logLocation\"   :   \"a.log\",\n    \"duration\"      :   \"1h\",\n    \"network\"       :   \"prefix1\",\n    \"searchString\"  :   \"CRIT\",\n     \"ignoreSearch\"  : [\"DEFERRED\",\"ABCCRITXYZ\"]\n    },\n\n   {\n    \"comp\"          : \"comp1\",\n    \"machines\"      :   \"xyz\",\n    \"logLocation\"   :   \"a.log\",\n    \"duration\"      :   \"1h\",\n    \"network\"       :   \"prefix1\",\n    \"searchString\"  :   \"WARN\",\n     \"ignoreSearch\"  : [\"DEFERRED\",\"ABCCRITXYZ\"]\n    }\n],\n\n[\n   {\n    \"comp\"          : \"comp1\",\n \"machines\"      :   \"sql2\",\n \"logLocation\"   :   \"a.log\",\n \"duration\"      :   \"1h\",\n \"network\"       :   \"imcr\",\n \"searchString\"  :    \"ERR\",\n \"ignoreSearch\"  : [\"DEFERRED\",\"ABCCRITXYZ\"]\n    },\n\n  {\n    \"comp\"          : \"comp1\",\n    \"machines\"      :   \"sql2\",\n    \"logLocation\"   :   \"a.log\",\n    \"duration\"      :   \"1h\",\n    \"network\"       :   \"imcr\",\n    \"searchString\"  :   \"CRIT\",\n     \"ignoreSearch\"  : [\"DEFERRED\",\"ABCCRITXYZ\"]\n    },\n\n   {\n    \"comp\"          : \"comp1\",\n    \"machines\"      :   \"xyz\",\n    \"logLocation\"   :   \"a.log\",\n    \"duration\"      :   \"1h\",\n    \"network\"       :   \"prefix1\",\n    \"searchString\"  :   \"WARN\",\n     \"ignoreSearch\"  : [\"DEFERRED\",\"ABCCRITXYZ\"]\n    }\n]\n</code></pre>\n\n<p>and so on,\nHow to store them so that I can access them individually later? \nThe same will be for comp2.\nSorry about my indentation, I do not ask here that much.</p>\n"}, {"tags": ["perl", "tcl", "exec"], "comments": [{"owner": {"reputation": 2371, "user_id": 270006, "user_type": "registered", "accept_rate": 71, "profile_image": "https://www.gravatar.com/avatar/874bcba40024d48919097b29a25e852d?s=128&d=identicon&r=PG", "display_name": "\u0179V -", "link": "https://stackoverflow.com/users/270006/%c5%b9v"}, "edited": false, "score": 1, "creation_date": 1500417703, "post_id": 45178099, "comment_id": 77325000, "body": "I suspect your shell is parsing <code>-X -Y -Z</code> as <i>one</i> flag, you need to split them into three separate arguments."}], "answers": [{"comments": [{"owner": {"reputation": 23, "user_id": 8328082, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/5a422910a7bcf9f45181d064cb945a14?s=128&d=identicon&r=PG&f=1", "display_name": "Deepak", "link": "https://stackoverflow.com/users/8328082/deepak"}, "edited": false, "score": 0, "creation_date": 1500419058, "post_id": 45178290, "comment_id": 77325394, "body": "Since, I run an older version of TCL, the 2nd solution worked for me. The 1st solution gave me an error: extra characters after close-brace.  Anyways just out of curiosity, I wanted to know the usage of &quot;--&quot; in exec. Manual page says it marks the end of switches. Which specific case would this be used. I thought it will mark the end of switches for exec and would consider arguments for the perl script, but I was wrong."}], "tags": [], "owner": {"reputation": 5004, "user_id": 1930666, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/BiEzi.jpg?s=128&g=1", "display_name": "Brad Lanam", "link": "https://stackoverflow.com/users/1930666/brad-lanam"}, "is_accepted": true, "score": 3, "last_activity_date": 1500420105, "last_edit_date": 1500420105, "creation_date": 1500417875, "answer_id": 45178290, "question_id": 45178099, "link": "https://stackoverflow.com/questions/45178099/how-to-pass-switches-for-a-perl-script-which-is-run-from-tcl-using-exec/45178290#45178290", "title": "How to pass switches for a perl script which is run from tcl using exec", "body": "<pre><code>set cmd \"-X -Y -Z\"\n</code></pre>\n\n<p>Creates a single string with <code>-X -Y -Z</code> in it.  When you call the <code>exec</code> command with <code>exec ./script.pl $cmd</code>, you are passing a single argument with <code>-X -Y -Z</code>.  What you want are three separate arguments.  The best way to do this is:</p>\n\n<pre><code> exec ./script.pl {*}$cmd\n</code></pre>\n\n<p>The <code>{*}</code> operator expands a list into its component words.</p>\n\n<p>This is very useful.  You can build up your argument list with code similar to (an example):</p>\n\n<pre><code>set cmd {}\nlappend cmd -X\nif { $mytest eq \"true\" } {\n   lappend cmd -Y \n}\nlappend cmd -Z\nif { $filename ne {} } {\n  lappend cmd -f\n  lappend cmd $filename\n}\nexec ./script.pl {*}$cmd\n</code></pre>\n\n<p>With older versions of Tcl, the <code>eval</code> command must be used:</p>\n\n<pre><code>eval exec ./script.pl $cmd\n</code></pre>\n\n<p><strong>Edit: -- argument to exec</strong></p>\n\n<p>The <code>--</code> argument to <code>exec</code> specifies that no more switches (options) will be parsed by <code>exec</code>.   This allows <code>exec</code> to be used for the cases when a command starts with a <code>-</code>.   e.g. </p>\n\n<pre><code> exec -- -myweirdcommand\n</code></pre>\n\n<p>References: <a href=\"http://www.tcl.tk/man/tcl/TclCmd/Tcl.htm\" rel=\"nofollow noreferrer\">Tcl Syntax (#5)</a>; <a href=\"http://www.tcl.tk/man/tcl/TclCmd/eval.htm\" rel=\"nofollow noreferrer\">eval</a>; <a href=\"http://www.tcl.tk/man/tcl/TclCmd/exec.htm\" rel=\"nofollow noreferrer\">exec</a></p>\n"}], "owner": {"reputation": 23, "user_id": 8328082, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/5a422910a7bcf9f45181d064cb945a14?s=128&d=identicon&r=PG&f=1", "display_name": "Deepak", "link": "https://stackoverflow.com/users/8328082/deepak"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 223, "favorite_count": 0, "accepted_answer_id": 45178290, "answer_count": 1, "score": 2, "last_activity_date": 1500420105, "creation_date": 1500416632, "last_edit_date": 1500418662, "question_id": 45178099, "link": "https://stackoverflow.com/questions/45178099/how-to-pass-switches-for-a-perl-script-which-is-run-from-tcl-using-exec", "title": "How to pass switches for a perl script which is run from tcl using exec", "body": "<p>I generate a few variables in my tcl script which are actually used as switches for a perl script.</p>\n\n<p>my switches are <code>-X</code>, <code>-Y</code> and <code>-Z</code>, I store them in a variable, <code>cmd</code> with\n<code>set cmd \"-X -Y -Z\"</code></p>\n\n<p>I use exec to run the perl script in tcl like this:</p>\n\n<pre><code>exec ./script.pl $cmd\n</code></pre>\n\n<p>which throws an error: <code>\"Error: Unknown option x -y -z\"</code></p>\n\n<p>then I tried another way:</p>\n\n<pre><code>exec ./script.pl -- $cmd\n</code></pre>\n\n<p>For this particular case, the perl script gets executed but without the switches i.e. switches don't get activated.</p>\n\n<p>Is there any way to resolve this?</p>\n"}, {"tags": ["perl", "csv", "graph"], "comments": [{"owner": {"reputation": 6258, "user_id": 82262, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/8ce15931410b388a52eb2df4a864137f?s=128&d=identicon&r=PG&f=1", "display_name": "Matt Jacob", "link": "https://stackoverflow.com/users/82262/matt-jacob"}, "edited": false, "score": 3, "creation_date": 1500410294, "post_id": 45176445, "comment_id": 77321819, "body": "Including an image in a CSV file doesn&#39;t make any sense. CSV = comma-separated values. It&#39;s just plain text."}, {"owner": {"reputation": 70, "user_id": 5334735, "user_type": "registered", "profile_image": "https://lh4.googleusercontent.com/-yCtiyBl3hLY/AAAAAAAAAAI/AAAAAAAAAaE/swob0fwUNkM/photo.jpg?sz=128", "display_name": "Anish A Kumar", "link": "https://stackoverflow.com/users/5334735/anish-a-kumar"}, "reply_to_user": {"reputation": 6258, "user_id": 82262, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/8ce15931410b388a52eb2df4a864137f?s=128&d=identicon&r=PG&f=1", "display_name": "Matt Jacob", "link": "https://stackoverflow.com/users/82262/matt-jacob"}, "edited": false, "score": 0, "creation_date": 1500411318, "post_id": 45176445, "comment_id": 77322348, "body": "Reading from csv and plotting a graph in another csv file. How can I do that?"}, {"owner": {"reputation": 70, "user_id": 5334735, "user_type": "registered", "profile_image": "https://lh4.googleusercontent.com/-yCtiyBl3hLY/AAAAAAAAAAI/AAAAAAAAAaE/swob0fwUNkM/photo.jpg?sz=128", "display_name": "Anish A Kumar", "link": "https://stackoverflow.com/users/5334735/anish-a-kumar"}, "reply_to_user": {"reputation": 6258, "user_id": 82262, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/8ce15931410b388a52eb2df4a864137f?s=128&d=identicon&r=PG&f=1", "display_name": "Matt Jacob", "link": "https://stackoverflow.com/users/82262/matt-jacob"}, "edited": false, "score": 0, "creation_date": 1500411341, "post_id": 45176445, "comment_id": 77322362, "body": "Else how to plot a graph in a png file"}, {"owner": {"reputation": 6258, "user_id": 82262, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/8ce15931410b388a52eb2df4a864137f?s=128&d=identicon&r=PG&f=1", "display_name": "Matt Jacob", "link": "https://stackoverflow.com/users/82262/matt-jacob"}, "edited": false, "score": 1, "creation_date": 1500411490, "post_id": 45176445, "comment_id": 77322431, "body": "I&#39;m not sure how else to say this so that it makes sense. CSV files are plain text. Images/plots/graphs are not. Aside from quoting rules, the format for CSV isn&#39;t much more complicated than newlines and commas. There&#39;s no provision for embedding images."}, {"owner": {"reputation": 113221, "user_id": 100754, "user_type": "registered", "accept_rate": 90, "profile_image": "https://www.gravatar.com/avatar/7804ebae32fbadef38537d74a915c22f?s=128&d=identicon&r=PG", "display_name": "Sinan &#220;n&#252;r", "link": "https://stackoverflow.com/users/100754/sinan-%c3%9cn%c3%bcr"}, "edited": false, "score": 2, "creation_date": 1500413350, "post_id": 45176445, "comment_id": 77323395, "body": "I am guessing <a href=\"https://stackoverflow.com/q/45153099/100754\">this is also you</a>. While, in theory, you could save a PNG image in a field in a CSV file, I hope no one does that."}, {"owner": {"reputation": 53041, "user_id": 4653379, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/b3953dbedd0dabff5cbc3db9b0835b14?s=128&d=identicon&r=PG&f=1", "display_name": "zdim", "link": "https://stackoverflow.com/users/4653379/zdim"}, "edited": false, "score": 0, "creation_date": 1500416550, "post_id": 45176445, "comment_id": 77324654, "body": "Here is a bit from a <code>.png</code> file, copied from an editor that &quot;opened&quot; it: <code>^@^@^MIHDR^@^@^C^S^@^</code>.  See? It&#39;s nonsense.  And here is a line from a <code>.csv</code> file:  <code>one, two, three\\n</code>.  <i>You cannot have a &quot;png&quot; anything in a plain-text file, like <code>.csv</code> is</i>."}, {"owner": {"reputation": 113221, "user_id": 100754, "user_type": "registered", "accept_rate": 90, "profile_image": "https://www.gravatar.com/avatar/7804ebae32fbadef38537d74a915c22f?s=128&d=identicon&r=PG", "display_name": "Sinan &#220;n&#252;r", "link": "https://stackoverflow.com/users/100754/sinan-%c3%9cn%c3%bcr"}, "reply_to_user": {"reputation": 53041, "user_id": 4653379, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/b3953dbedd0dabff5cbc3db9b0835b14?s=128&d=identicon&r=PG&f=1", "display_name": "zdim", "link": "https://stackoverflow.com/users/4653379/zdim"}, "edited": false, "score": 0, "creation_date": 1500417049, "post_id": 45176445, "comment_id": 77324825, "body": "@zdim See <a href=\"https://metacpan.org/pod/Text::CSV_XS#binary\" rel=\"nofollow noreferrer\">binary option in <code>Text::CSV_XS</code></a>. One could also uuencode or Base64 encode the binary data. I can imagine use cases for such things. <b>BUT</b> I think the OP thinks he can create something which users can open in Excel, and it will show a nice chart embedded in the spreadsheet. To do that, one would have to create an actual <a href=\"https://metacpan.org/pod/Spreadsheet::WriteExcel#add_chart(%25properties)\" rel=\"nofollow noreferrer\">Excel workbook with a chart</a>."}, {"owner": {"reputation": 53041, "user_id": 4653379, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/b3953dbedd0dabff5cbc3db9b0835b14?s=128&d=identicon&r=PG&f=1", "display_name": "zdim", "link": "https://stackoverflow.com/users/4653379/zdim"}, "reply_to_user": {"reputation": 113221, "user_id": 100754, "user_type": "registered", "accept_rate": 90, "profile_image": "https://www.gravatar.com/avatar/7804ebae32fbadef38537d74a915c22f?s=128&d=identicon&r=PG", "display_name": "Sinan &#220;n&#252;r", "link": "https://stackoverflow.com/users/100754/sinan-%c3%9cn%c3%bcr"}, "edited": false, "score": 1, "creation_date": 1500417723, "post_id": 45176445, "comment_id": 77325003, "body": "@Sinan&#220;n&#252;r  Right, all good points -- thank you.  I just couldn&#39;t help thinking that they want to simply put a png image in a &quot;csv file.&quot;  But it does seem that they are rather thinking of an Excel &quot;operated&quot; file, which will have a chart in a spreadsheet."}], "answers": [{"tags": [], "owner": {"reputation": 62184, "user_id": 7231, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/81b76985f3985e35492e25880493d045?s=128&d=identicon&r=PG", "display_name": "Dave Cross", "link": "https://stackoverflow.com/users/7231/dave-cross"}, "is_accepted": false, "score": 0, "last_activity_date": 1500538948, "creation_date": 1500538948, "answer_id": 45209263, "question_id": 45176445, "link": "https://stackoverflow.com/questions/45176445/trying-to-plot-a-graph-in-a-csv-file/45209263#45209263", "title": "Trying to plot a graph in a csv file", "body": "<p>As others have pointed out in the comments, printing a graph (which is an image) into a CSV file is a terrible idea.</p>\n\n<p>But your code for creating a graph seems like it's pretty close. You just need to take a closer look at <a href=\"https://metacpan.org/pod/GD::Graph\" rel=\"nofollow noreferrer\">the bits of the documentation</a> that cover outputting the final image.</p>\n\n<p>You call the <code>plot()</code> method, but there's more to do after that. The <code>plot()</code> method returns a <a href=\"https://metacpan.org/pod/GD::Image\" rel=\"nofollow noreferrer\">GD::Image</a> object and you need to call another method on that object (<code>gif()</code>, <code>png()</code> or something like that) to get the image. You then need to do something with that data (probably print it somewhere).</p>\n\n<p>This code prints your graph to STDOUT. In a CGI program, that will send the graph image back to the browser. The <code>Content-type</code> header gives the browser enough information to display that image.</p>\n\n<pre><code>my $img = $graph-&gt;plot($data);\n\n# This assumes you haven't already printed a header\n# so remove the incorrect one from above in your code\nprint \"Content-type: image/png\\n\\n\";\n\nprint $img-&gt;png;\n</code></pre>\n"}], "owner": {"reputation": 70, "user_id": 5334735, "user_type": "registered", "profile_image": "https://lh4.googleusercontent.com/-yCtiyBl3hLY/AAAAAAAAAAI/AAAAAAAAAaE/swob0fwUNkM/photo.jpg?sz=128", "display_name": "Anish A Kumar", "link": "https://stackoverflow.com/users/5334735/anish-a-kumar"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 265, "favorite_count": 0, "answer_count": 1, "score": -3, "last_activity_date": 1500538948, "creation_date": 1500409607, "question_id": 45176445, "link": "https://stackoverflow.com/questions/45176445/trying-to-plot-a-graph-in-a-csv-file", "title": "Trying to plot a graph in a csv file", "body": "<pre><code>use GD::Graph;\nuse GD::Graph::bars;\nuse GD::Graph::Data;\n\n\n\n\nprint \"Content-disposition:attachment;filename=UsageReportChart.csv\\n\\n\";\nmy $data = GD::Graph::Data-&gt;new([\n    [\"1st\",\"2nd\",\"3rd\",\"4th\",\"5th\",\"6th\",\"7th\", \"8th\", \"9th\"],\n    [    1,    2,    5,    6,    3,  1.5,    1,     3,     4],\n]) or die GD::Graph::Data-&gt;error;\n\nmy $graph = GD::Graph::bars-&gt;new();\n\n $graph-&gt;set(\n     x_label         =&gt; 'X Label',\n     y_label         =&gt; 'Y label',\n     title           =&gt; 'A Simple Bar Chart',\n\n     ) or die $graph-&gt;error;\n$graph-&gt;plot($data) or die $graph-&gt;error;\n</code></pre>\n\n<p>Trying to plot a graph in a csv file using this code and not getting anything in the csv file I download.\nCan someone help me with this?</p>\n"}, {"tags": ["perl", "warnings", "clion", "strict"], "comments": [{"owner": {"reputation": 3822, "user_id": 792456, "user_type": "registered", "accept_rate": 77, "profile_image": "https://www.gravatar.com/avatar/6706944a2a8b4e2d37b330dd64cf9c69?s=128&d=identicon&r=PG", "display_name": "arved", "link": "https://stackoverflow.com/users/792456/arved"}, "edited": false, "score": 0, "creation_date": 1500541242, "post_id": 45175708, "comment_id": 77386161, "body": "it might be a useful information to add, if you are using a plugin for Perl support?"}, {"owner": {"reputation": 103, "user_id": 7798690, "user_type": "registered", "profile_image": "https://graph.facebook.com/1353026104753829/picture?type=large", "display_name": "Georgi Genchev", "link": "https://stackoverflow.com/users/7798690/georgi-genchev"}, "reply_to_user": {"reputation": 3822, "user_id": 792456, "user_type": "registered", "accept_rate": 77, "profile_image": "https://www.gravatar.com/avatar/6706944a2a8b4e2d37b330dd64cf9c69?s=128&d=identicon&r=PG", "display_name": "arved", "link": "https://stackoverflow.com/users/792456/arved"}, "edited": false, "score": 0, "creation_date": 1500550850, "post_id": 45175708, "comment_id": 77393070, "body": "yes, I am using this - <a href=\"https://plugins.jetbrains.com/plugin/7796-perl\" rel=\"nofollow noreferrer\">plugins.jetbrains.com/plugin/7796-perl</a>. Probably the plugin is broken"}], "owner": {"reputation": 103, "user_id": 7798690, "user_type": "registered", "profile_image": "https://graph.facebook.com/1353026104753829/picture?type=large", "display_name": "Georgi Genchev", "link": "https://stackoverflow.com/users/7798690/georgi-genchev"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 115, "favorite_count": 0, "answer_count": 0, "score": 1, "last_activity_date": 1500407255, "creation_date": 1500406927, "last_edit_date": 1500407255, "question_id": 45175708, "link": "https://stackoverflow.com/questions/45175708/use-strict-use-warnings-use-diagnostics-cant-find-package-file-clion", "title": "use strict, use warnings, use diagnostics - can&#39;t find package file CLion", "body": "<p>I have intentionally omitted a quotation mark to check if <code>use diagnostics;</code> is working. The code is a simple Hello World program :</p>\n\n<pre><code>#!usr/bin/perl -w\n\nuse strict;\nuse warnings;\nuse diagnostics;\n\nprint \"Hello world\";\n</code></pre>\n\n<p>Here is an image of the warning <a href=\"https://i.stack.imgur.com/P8qkm.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/P8qkm.png\" alt=\"enter image description here\"></a></p>\n\n<p>As you can see, it is working. So my question is how to deal with this yellow color over the pragma.</p>\n"}, {"tags": ["perl", "session", "firebird", "dbi", "mod-perl"], "comments": [{"owner": {"reputation": 14940, "user_id": 976391, "user_type": "registered", "accept_rate": 75, "profile_image": "https://www.gravatar.com/avatar/a20cdd68e2d66033d22408a925a5761a?s=128&d=identicon&r=PG", "display_name": "Arioch &#39;The", "link": "https://stackoverflow.com/users/976391/arioch-the"}, "edited": false, "score": 0, "creation_date": 1500456435, "post_id": 45171306, "comment_id": 77340161, "body": "maybe <code>session-&gt;flush</code> kills session? maybe one is expected to remove any value from <code>$sessid</code> ?"}, {"owner": {"reputation": 19, "user_id": 7757918, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/c96fdc767b7375fc677698c7ca5cb12d?s=128&d=identicon&r=PG&f=1", "display_name": "Yasuto S", "link": "https://stackoverflow.com/users/7757918/yasuto-s"}, "reply_to_user": {"reputation": 14940, "user_id": 976391, "user_type": "registered", "accept_rate": 75, "profile_image": "https://www.gravatar.com/avatar/a20cdd68e2d66033d22408a925a5761a?s=128&d=identicon&r=PG", "display_name": "Arioch &#39;The", "link": "https://stackoverflow.com/users/976391/arioch-the"}, "edited": false, "score": 0, "creation_date": 1500480405, "post_id": 45171306, "comment_id": 77358901, "body": "$session-&gt;flush() does not raise any exceptions. After $session-&gt;flush(), another query works well, but next &quot;new CGI::Session()&quot; returns empty. CGI::Session-&gt;load() returns undef."}, {"owner": {"reputation": 19, "user_id": 7757918, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/c96fdc767b7375fc677698c7ca5cb12d?s=128&d=identicon&r=PG&f=1", "display_name": "Yasuto S", "link": "https://stackoverflow.com/users/7757918/yasuto-s"}, "reply_to_user": {"reputation": 14940, "user_id": 976391, "user_type": "registered", "accept_rate": 75, "profile_image": "https://www.gravatar.com/avatar/a20cdd68e2d66033d22408a925a5761a?s=128&d=identicon&r=PG", "display_name": "Arioch &#39;The", "link": "https://stackoverflow.com/users/976391/arioch-the"}, "edited": false, "score": 0, "creation_date": 1500481157, "post_id": 45171306, "comment_id": 77359341, "body": "I also tested it by removing $session-&gt;flush(), but next CGI:Session returned empty."}, {"owner": {"reputation": 371, "user_id": 3762078, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/faf83517b41c8ee4e4508c5cb4723ff5?s=128&d=identicon&r=PG&f=1", "display_name": "kidkamek", "link": "https://stackoverflow.com/users/3762078/kidkamek"}, "edited": false, "score": 0, "creation_date": 1500595673, "post_id": 45171306, "comment_id": 77420267, "body": "Why are you calling <code>new CGI::Session()</code> again? Do you need to retrieve different sessions in the same script? ... <code>$session-&gt;flush()</code> does not raise exceptions unless you tell it so, you could add <code>$session-&gt;flush() or die &quot;Unable to update session storage!&quot;</code> and see if that raises an exception"}, {"owner": {"reputation": 19, "user_id": 7757918, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/c96fdc767b7375fc677698c7ca5cb12d?s=128&d=identicon&r=PG&f=1", "display_name": "Yasuto S", "link": "https://stackoverflow.com/users/7757918/yasuto-s"}, "edited": false, "score": 0, "creation_date": 1500636319, "post_id": 45171306, "comment_id": 77438372, "body": "Sample code does not raise error standalone. This is in the web system, connect() statement is in the common package and pooling connection. So, each web screen(cgi program) call new CGI::Session() at start and retrieve $session and process with it. My trouble is &quot;retrieve fails at all screen after sql error occurs in some screen&quot;."}], "answers": [{"comments": [{"owner": {"reputation": 19, "user_id": 7757918, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/c96fdc767b7375fc677698c7ca5cb12d?s=128&d=identicon&r=PG&f=1", "display_name": "Yasuto S", "link": "https://stackoverflow.com/users/7757918/yasuto-s"}, "edited": false, "score": 0, "creation_date": 1500754857, "post_id": 45248255, "comment_id": 77481119, "body": "1) add die CGI::Session-&gt;errstr():   new(): failed: load(): couldn&#39;t retrieve data: retrieve(): $sth-&gt;execute failed with error message 2) flushing session object:  if $session is valid, changes are stored to DB. 3) use {AutoCommit}=0 and others:  situation is same. I can use $dbh normally after catching exception and rollback, BUT new CGI::Session returns error. --- My Driver/firebird.pm has only init() and table_name(), then use store/retrieve in DBI.pm. I wrote firebird.pm to load DBD::Firebird and make DSN as &#39;dbi:firebird&#39;."}, {"owner": {"reputation": 19, "user_id": 7757918, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/c96fdc767b7375fc677698c7ca5cb12d?s=128&d=identicon&r=PG&f=1", "display_name": "Yasuto S", "link": "https://stackoverflow.com/users/7757918/yasuto-s"}, "edited": false, "score": 0, "creation_date": 1500755645, "post_id": 45248255, "comment_id": 77481332, "body": "I add store,retrieve,traverse without &quot;_cached&quot; to firebird.pm. It looks working fine. mysql.pm has mk_dsn,init,table_name,store. store() is changed to use &#39;ON DUPLICATES&#39; from DBI.pm. DBI-&gt;begin_work() changes {AutoCommit} to 0. I found workarounds. So, I want to know why cached statements are gone?"}, {"owner": {"reputation": 371, "user_id": 3762078, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/faf83517b41c8ee4e4508c5cb4723ff5?s=128&d=identicon&r=PG&f=1", "display_name": "kidkamek", "link": "https://stackoverflow.com/users/3762078/kidkamek"}, "reply_to_user": {"reputation": 19, "user_id": 7757918, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/c96fdc767b7375fc677698c7ca5cb12d?s=128&d=identicon&r=PG&f=1", "display_name": "Yasuto S", "link": "https://stackoverflow.com/users/7757918/yasuto-s"}, "edited": false, "score": 0, "creation_date": 1501022431, "post_id": 45248255, "comment_id": 77591657, "body": "Could you update your question with the errors you have found?"}], "tags": [], "owner": {"reputation": 371, "user_id": 3762078, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/faf83517b41c8ee4e4508c5cb4723ff5?s=128&d=identicon&r=PG&f=1", "display_name": "kidkamek", "link": "https://stackoverflow.com/users/3762078/kidkamek"}, "is_accepted": false, "score": 2, "last_activity_date": 1500680967, "creation_date": 1500680967, "answer_id": 45248255, "question_id": 45171306, "link": "https://stackoverflow.com/questions/45171306/solved-dbi-cached-statements-gone-and-cgisession-is-stucked/45248255#45248255", "title": "Solved: DBI cached statements gone and CGI::Session is stucked", "body": "<p>There are various things you could try before request changes to CGI::Session::Driver::DBI.pm ...</p>\n\n<p>First, change the way <code>new CGI::Session</code> is called in order to diagnose if the problem happens when the session is created or loaded:</p>\n\n<pre><code>my $session = CGI::Session-&gt;new('dbi:firebird',$sessid,{Handle=&gt;$dbh}) or die CGI::Session-&gt;errstr();\n</code></pre>\n\n<p>The methods <code>param</code> or <code>delete</code> stores changes to the session inside <code>$session</code> handle, not in DB. <code>flush</code> stores in DB the changes made inside the session handle. Use <code>$session-&gt;flush()</code> only after a session->param set/update or a session delete:</p>\n\n<pre><code>$session-&gt;param('p1','someParamValue');\n$session-&gt;flush() or die 'Unable to update session storage!';\n\n# OR\n$session-&gt;delete();\n$session-&gt;flush() or die 'Unable to update session storage!';\n</code></pre>\n\n<p>The method <code>flush</code> does not destroy <code>$session</code> handle (you still can call <code>$session-&gt;param('p1')</code> after the flush). In some cases mod_perl caches <code>$session</code> causing problems to the next attempt to load that same session. In those cases it needs to be destroyed when it's not needed anymore:</p>\n\n<pre><code>undef($session)\n</code></pre>\n\n<p>The last thing i can suggest is avoid using <code>begin_work</code> method, control the transaction behavior with <code>AutoCommit</code> instead (because the <a href=\"http://search.cpan.org/dist/DBD-Firebird/Firebird.pm#TRANSACTION_SUPPORT\" rel=\"nofollow noreferrer\">DBD::Firebird documentation</a> says that's the way transactions should be controlled) and <code>commit</code> inside the eval block:</p>\n\n<pre><code>eval {\n    # Setting AutoCommit to 0 enables transaction behavior\n    $dbh-&gt;{AutoCommit} = 0;\n\n    my $sql = \"SELECT * FROM SAMPLETABLE\"\n    my $st = $dbh-&gt;prepare($sql);\n    $st-&gt;execute();\n\n    while (my $R = $st-&gt;fetchrow_hashref()) {\n        ...\n        }\n\n    $st-&gt;finish();\n    $dbh-&gt;commit();\n    };\nif ($@) {\n     warn \"Tansaction aborted! $@\";\n     $dbh-&gt;rollback();\n     }\n\n# Remember to set AutoCommit to 1 after the eval\n$dbh-&gt;{AutoCommit} = 1;\n</code></pre>\n\n<p>You said you wrote your own session driver for Firebird... You should see how the CGI/Driver/sqlite.pm or CGI/Driver/mysql.pm are made, maybe you need to write some fetching method you are missing...</p>\n\n<p>Hope this helps!!</p>\n"}], "owner": {"reputation": 19, "user_id": 7757918, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/c96fdc767b7375fc677698c7ca5cb12d?s=128&d=identicon&r=PG&f=1", "display_name": "Yasuto S", "link": "https://stackoverflow.com/users/7757918/yasuto-s"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 256, "favorite_count": 0, "answer_count": 1, "score": 1, "last_activity_date": 1612583472, "creation_date": 1500392083, "last_edit_date": 1612583472, "question_id": 45171306, "link": "https://stackoverflow.com/questions/45171306/solved-dbi-cached-statements-gone-and-cgisession-is-stucked", "title": "Solved: DBI cached statements gone and CGI::Session is stucked", "body": "<p>I'm using Apache2.2(worker)/mod_perl 2.0.4/Apache::DBI/CGI::Session and Firebird RDBMS.</p>\n\n<p>I also wrote CGI::Session::Driver::firebird.pm to work with Firebird RDBMS.\nDB connection is pooled by Apache::DBI and give connection handle to CGI::Session {Handle=>$dbh}.</p>\n\n<p>Number of DB connection is equals to number of worker processes.</p>\n\n<p>I posted <a href=\"https://stackoverflow.com/questions/42981824\">Programming with Apache::DBI and firebird. Get Stucked httpd on exception</a> 3 month ago.\nI found a reason of that issue, and want to know how to fix it.</p>\n\n<pre><code>$dbh = DBI-&gt;connect(\"dbi:Firebird:db=$DBSERVER:/home/cdbs/xxnet.fdb;\nib_charset=UTF8;ib_dialect=3\",$DBUSER,$DBPASS,{\n    AutoCommit=&gt;1,\n    LongReadLen=&gt;8192,\n    RaiseError=&gt;1\n});\nmy $session = new CGI::Session('dbi:firebird',$sessid,{Handle=&gt;$dbh});\nmy $ses_p1 = $session-&gt;param('p1');\n\neval { $dbh-&gt;begin_work()\n\n  my $sql = \"SELECT * FROM SAMPLETABLE\"\n  my $st = $dbh-&gt;prepare($sql);\n  $st-&gt;execute();\n  while (my $R = $st-&gt;fetchrow_hashref()) {\n   ...\n  }\n  $st-&gt;finish();\n}; warn $@ if $@;\nif ($@) {\n  $dbh-&gt;rollback();\n}else{\n  $dbh-&gt;commit();\n}\n$session-&gt;flush();\n</code></pre>\n\n<p>When an sql error is occured, an eval block catches exception and rollback transaction.\nAfter that, CGI::Session does not retrieve session object no more.</p>\n\n<p>Because prepare_cached statement failes at CGI::Session::DBI.pm.\nCGI::Session::DBI.pm use prepare_cached($sql,undef,3). '3' is safest way of using cached statement, but it never find broken statement at this situation.</p>\n\n<p>How to fix this ?\nraise request to change CGI::Session::DBI.pm to use prepare() statement ?\nwrite store(),retrieve(),traverse() function in firebird.pm to use prepare() statement ?</p>\n\n<p>It may other prepare_cached() going to fail after catch exception...</p>\n\n<hr>\n\n<p>1) I add die statement on CGI::Session->errstr()\n I got an error \"new(): failed: load(): couldn't retrieve data: retrieve(): $sth->execute failed with error message\"\n2) I flush session object after session->load()\n if $session is valid, changes are stored to DB.\n3) I replace begin_work() to {AutoCommit}=0\n results are same. I can use $dbh normally after catching exception and rollback, BUT new CGI::Session returns error. \n------------------------------------------ added 2017/07/26 18:47 JST</p>\n\n<p>Please give me your suggestion.</p>\n\n<p>Thank you.</p>\n"}, {"tags": ["linux", "perl", "cgi"], "comments": [{"owner": {"reputation": 5455, "user_id": 3961170, "user_type": "registered", "accept_rate": 73, "profile_image": "https://i.stack.imgur.com/PtFol.jpg?s=128&g=1", "display_name": "mkHun", "link": "https://stackoverflow.com/users/3961170/mkhun"}, "edited": false, "score": 0, "creation_date": 1500385762, "post_id": 45168458, "comment_id": 77305376, "body": "<code>my $d=qx(perl -cw 1.cgi 2&gt;&amp;1);</code>"}, {"owner": {"reputation": 5455, "user_id": 3961170, "user_type": "registered", "accept_rate": 73, "profile_image": "https://i.stack.imgur.com/PtFol.jpg?s=128&g=1", "display_name": "mkHun", "link": "https://stackoverflow.com/users/3961170/mkhun"}, "edited": false, "score": 0, "creation_date": 1500385866, "post_id": 45168458, "comment_id": 77305471, "body": "More about  <a href=\"https://stackoverflow.com/questions/818255/in-the-shell-what-does-21-mean\"><code>2&gt;&amp;1</code></a>"}], "answers": [{"tags": [], "owner": {"reputation": 5455, "user_id": 3961170, "user_type": "registered", "accept_rate": 73, "profile_image": "https://i.stack.imgur.com/PtFol.jpg?s=128&g=1", "display_name": "mkHun", "link": "https://stackoverflow.com/users/3961170/mkhun"}, "is_accepted": true, "score": 3, "last_activity_date": 1500386330, "creation_date": 1500386330, "answer_id": 45168972, "question_id": 45168458, "link": "https://stackoverflow.com/questions/45168458/displaying-command-output-on-webpage-using-perl-cgi/45168972#45168972", "title": "displaying command output on webpage using perl cgi", "body": "<p><code>qx</code> will return the <code>STDOUT</code> in variable but you are trying to store the Perl compiling result into your variable, In Linux it is called as <code>STDERR</code> not a <code>STDOUT</code> so we need to do as follow</p>\n\n<pre><code>my $d=qx(perl -cw 1.cgi 2&gt;&amp;1);\n</code></pre>\n\n<p>More about  <a href=\"https://stackoverflow.com/questions/818255/in-the-shell-what-does-21-mean\"><code>2&gt;&amp;1</code></a></p>\n"}], "owner": {"reputation": 86, "user_id": 8226234, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/47baeaec4dd3247cde4b5e581e3bf6a2?s=128&d=identicon&r=PG&f=1", "display_name": "sridhar reddy", "link": "https://stackoverflow.com/users/8226234/sridhar-reddy"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 192, "favorite_count": 0, "accepted_answer_id": 45168972, "answer_count": 1, "score": 2, "last_activity_date": 1500386330, "creation_date": 1500385105, "question_id": 45168458, "link": "https://stackoverflow.com/questions/45168458/displaying-command-output-on-webpage-using-perl-cgi", "title": "displaying command output on webpage using perl cgi", "body": "<p>below is the code,\nplease give me any suggestions to display the result of the command output.</p>\n\n<pre><code>#!/usr/bin/perl\nuse strict; \nuse warnings;\nprint \"content-type:text/html\\r\\n\\r\\n\";\nprint &lt;&lt;EOF;\n&lt;html&gt;\n&lt;head&gt;&lt;title&gt;command&lt;/title&gt;&lt;/head&gt;\n&lt;body&gt;\nEOF\nmy $d=qx(perl -cw 1.cgi);\nprint &lt;&lt;EOF;\n&lt;p&gt;$d&lt;/p&gt;\n&lt;/body&gt;\n&lt;/html&gt;\nEOF\n</code></pre>\n"}, {"tags": ["perl", "parsing", "parser-combinators"], "comments": [{"owner": {"reputation": 2445, "user_id": 1707353, "user_type": "registered", "accept_rate": 91, "profile_image": "https://www.gravatar.com/avatar/212f7b84a07bc7aea4f574669fe2465f?s=128&d=identicon&r=PG&f=1", "display_name": "Jeff Holt", "link": "https://stackoverflow.com/users/1707353/jeff-holt"}, "edited": false, "score": 0, "creation_date": 1500384918, "post_id": 45166717, "comment_id": 77304637, "body": "If <a href=\"https://github.com/abiggerhammer/hammer\" rel=\"nofollow noreferrer\">hammer</a> is a recursive descent parser, then aren&#39;t self-referring rules disallowed?"}, {"owner": {"reputation": 38072, "user_id": 46395, "user_type": "registered", "accept_rate": 71, "profile_image": "https://www.gravatar.com/avatar/5ce828f20abb195ef5d971205ee36c27?s=128&d=identicon&r=PG", "display_name": "daxim", "link": "https://stackoverflow.com/users/46395/daxim"}, "reply_to_user": {"reputation": 2445, "user_id": 1707353, "user_type": "registered", "accept_rate": 91, "profile_image": "https://www.gravatar.com/avatar/212f7b84a07bc7aea4f574669fe2465f?s=128&d=identicon&r=PG&f=1", "display_name": "Jeff Holt", "link": "https://stackoverflow.com/users/1707353/jeff-holt"}, "edited": false, "score": 0, "creation_date": 1500386301, "post_id": 45166717, "comment_id": 77305863, "body": "How do you figure it&#39;s rec.descent?"}, {"owner": {"reputation": 2445, "user_id": 1707353, "user_type": "registered", "accept_rate": 91, "profile_image": "https://www.gravatar.com/avatar/212f7b84a07bc7aea4f574669fe2465f?s=128&d=identicon&r=PG&f=1", "display_name": "Jeff Holt", "link": "https://stackoverflow.com/users/1707353/jeff-holt"}, "edited": false, "score": 0, "creation_date": 1500386552, "post_id": 45166717, "comment_id": 77306090, "body": "I read as much of the docs/hammer-presentation.pdf as I could and some of the source. Did I misinterpret something? I&#39;m unfamiliar with that code and I have an interest in finding faster parsers, which the authors claim hammer is. Your question perked my interest."}, {"owner": {"reputation": 320771, "user_id": 589924, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/b2cf53d5a3d25f95c0db4e025aed4153?s=128&d=identicon&r=PG", "display_name": "ikegami", "link": "https://stackoverflow.com/users/589924/ikegami"}, "reply_to_user": {"reputation": 2445, "user_id": 1707353, "user_type": "registered", "accept_rate": 91, "profile_image": "https://www.gravatar.com/avatar/212f7b84a07bc7aea4f574669fe2465f?s=128&d=identicon&r=PG&f=1", "display_name": "Jeff Holt", "link": "https://stackoverflow.com/users/1707353/jeff-holt"}, "edited": false, "score": 0, "creation_date": 1500387726, "post_id": 45166717, "comment_id": 77307004, "body": "@jeff6times, Recursion is not disallowed in recursive decent parsers --it&#39;s right there in the name!-- it&#39;s left-recursion that doesn&#39;t work. (ok: <code>foo: bar foo baz</code>; not ok: <code>foo: foo bar baz</code>)"}, {"owner": {"reputation": 2445, "user_id": 1707353, "user_type": "registered", "accept_rate": 91, "profile_image": "https://www.gravatar.com/avatar/212f7b84a07bc7aea4f574669fe2465f?s=128&d=identicon&r=PG&f=1", "display_name": "Jeff Holt", "link": "https://stackoverflow.com/users/1707353/jeff-holt"}, "reply_to_user": {"reputation": 320771, "user_id": 589924, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/b2cf53d5a3d25f95c0db4e025aed4153?s=128&d=identicon&r=PG", "display_name": "ikegami", "link": "https://stackoverflow.com/users/589924/ikegami"}, "edited": false, "score": 1, "creation_date": 1500388198, "post_id": 45166717, "comment_id": 77307413, "body": "@ikegami Hello, again. The exclamation point was unnecessary. BTW, I&#39;m keeping track of these."}, {"owner": {"reputation": 320771, "user_id": 589924, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/b2cf53d5a3d25f95c0db4e025aed4153?s=128&d=identicon&r=PG", "display_name": "ikegami", "link": "https://stackoverflow.com/users/589924/ikegami"}, "edited": false, "score": 1, "creation_date": 1500391261, "post_id": 45166717, "comment_id": 77309998, "body": "Note that <code>mproduct</code> is called <i>before</i> you call <code>parse</code> to generate a parse tree. <code>mproduct</code> unconditonally calls <code>mproduct</code>, thus the infinite loop."}], "answers": [{"tags": [], "owner": {"reputation": 320771, "user_id": 589924, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/b2cf53d5a3d25f95c0db4e025aed4153?s=128&d=identicon&r=PG", "display_name": "ikegami", "link": "https://stackoverflow.com/users/589924/ikegami"}, "is_accepted": true, "score": 3, "last_activity_date": 1500445757, "last_edit_date": 1500445757, "creation_date": 1500395910, "answer_id": 45172588, "question_id": 45166717, "link": "https://stackoverflow.com/questions/45166717/in-the-hammer-parser-combinator-how-do-you-implement-a-rule-that-refers-to-itse/45172588#45172588", "title": "In the Hammer parser combinator, how do you implement a rule that refers to itself?", "body": "<p>Your code has an infinite loop: <code>mproduct</code> unconditonally calls <code>mproduct</code>.</p>\n\n<p>Your grammar also has the same an infinite loop: <code>mproduct</code> is unconditionally defined in terms of <code>mproduct</code>.</p>\n\n<pre><code>mproduct ::= digits '*' mproduct\n</code></pre>\n\n<p>The grammar you want is</p>\n\n<pre><code>mproduct ::= digits '*' mproduct\n           | digits\n</code></pre>\n\n<p>or</p>\n\n<pre><code>mproduct  ::= digits mproduct_\nmproduct_ ::= '*' mproduct_\n            | \u03b5\n</code></pre>\n\n<p>To put it more clearly using pseudo-BNF, the grammar you want is</p>\n\n<pre><code>myproduct ::= digits ( '*' digits )*\n</code></pre>\n\n<p><code>hammer</code> provides a tool to implement this:</p>\n\n<pre><code>hammer::sepBy1(digits, hammer::ch('*'))\n</code></pre>\n\n<hr>\n\n<p>That doesn't address the more general question. The following is a case where the answer to general question would be useful:</p>\n\n<pre><code>expr ::= sum\n\nsum  ::= term sum_\nsum_ ::= '+' sum_\n       | \u03b5\n\nterm ::= num\n       | '(' expr ')'\n</code></pre>\n\n<p>The broken approach would be:</p>\n\n<pre><code>sub num { ... }\n\nsub term {\n   hammer::choice(\n      num(),\n      hammer::sequence(\n         hammer::ch('('),\n         expr(),\n         hammer::ch(')'),\n      )\n   )\n}\n\nsub sum { hammer::sepBy1(term, hammer::ch('+')) }\n\nsub expr { sum() }\n\nmy $parser = expr();\n</code></pre>\n\n<p>The solve this problem, one would use <code>bind_indirect</code>.</p>\n\n<pre><code>use feature qw( state );\n\nsub num { ... }\n\nsub term {\n   hammer::choice(\n      num(),\n      hammer::sequence(\n         hammer::ch('('),\n         expr(),\n         hammer::ch(')'),\n      )\n   )\n}\n\nsub sum { hammer::sepBy1(term, hammer::ch('+')) }\n\nsub _expr { sum() }\nsub expr { state $expr = hammer::indirect(); $expr }\nUNITCHECK { hammer::bind_indirect(expr(), _expr()); }\n\nmy $parser = expr();\n</code></pre>\n\n<hr>\n\n<p>The <a href=\"https://github.com/UpstandingHackers/hammer/tree/master/src/bindings/perl/t\" rel=\"nofollow noreferrer\">test file</a> proved useful in answering this question.</p>\n\n<p>Nothing is tested.</p>\n"}], "owner": {"reputation": 38072, "user_id": 46395, "user_type": "registered", "accept_rate": 71, "profile_image": "https://www.gravatar.com/avatar/5ce828f20abb195ef5d971205ee36c27?s=128&d=identicon&r=PG", "display_name": "daxim", "link": "https://stackoverflow.com/users/46395/daxim"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 156, "favorite_count": 0, "accepted_answer_id": 45172588, "answer_count": 1, "score": 3, "last_activity_date": 1500445757, "creation_date": 1500380602, "question_id": 45166717, "link": "https://stackoverflow.com/questions/45166717/in-the-hammer-parser-combinator-how-do-you-implement-a-rule-that-refers-to-itse", "title": "In the Hammer parser combinator, how do you implement a rule that refers to itself?", "body": "<p>I'm getting a \"Deep recursion on subroutine\" warning when I just refer to the name as shown in the code below. <a href=\"http://perldoc.perl.org/functions/__SUB__.html\" rel=\"nofollow noreferrer\">use 5.016 \u2026 <code>__SUB__</code>->()</a> does not help, either.</p>\n\n<p>Build hints: <a href=\"https://github.com/UpstandingHackers/hammer\" rel=\"nofollow noreferrer\">git clone</a> ; scons bindings=perl test ; cd build/opt/src/bindings/perl ; $EDITOR h.pl</p>\n\n<pre><code>use 5.024;\nuse strictures;\nuse blib;\nuse hammer qw();\n\n# digits = \"0\" / \"1\" / \"2\" / \"3\" / \"4\" / \"5\" / \"6\" / \"7\" / \"8\" / \"9\"\nsub digits { hammer::many hammer::in 0..9 }\n\n# product = digits \"*\" digits\nsub product {\n    hammer::sequence digits, hammer::ch('*'), digits\n}\n\nproduct-&gt;parse('23*42'); # [[2, 3], '*', [4, 2]]\n\n\n# mproduct = digits \"*\" mproduct\nsub mproduct;\nsub mproduct {\n    hammer::sequence digits, hammer::ch('*'), mproduct\n}\nmproduct-&gt;parse('8*23*42');\n# Deep recursion on subroutine \"main::mproduct\" at h.pl line 21.\n</code></pre>\n"}, {"tags": ["ajax", "perl", "cgi"], "comments": [{"owner": {"reputation": 240678, "user_id": 14955, "user_type": "registered", "accept_rate": 55, "profile_image": "https://i.stack.imgur.com/5DblQ.png?s=128&g=1", "display_name": "Thilo", "link": "https://stackoverflow.com/users/14955/thilo"}, "edited": false, "score": 4, "creation_date": 1500377572, "post_id": 45165542, "comment_id": 77298919, "body": "If you can run Perl and deploy a CGI script, you can also deploy a Perl program that acts as a web server on localhost. An HTTP server will definitely need to be involved, the browser will not allow you to run programs directly."}, {"owner": {"reputation": 48798, "user_id": 223226, "user_type": "registered", "accept_rate": 93, "profile_image": "https://i.stack.imgur.com/iGqE4.png?s=128&g=1", "display_name": "mpapec", "link": "https://stackoverflow.com/users/223226/mpapec"}, "edited": false, "score": 1, "creation_date": 1500378473, "post_id": 45165542, "comment_id": 77299618, "body": "You might want to check perl based web server, <a href=\"http://mojolicious.org/perldoc/Mojo/Server/CGI\" rel=\"nofollow noreferrer\">mojolicious.org/perldoc/Mojo/Server/CGI</a>"}, {"owner": {"reputation": 570, "user_id": 3951861, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/WECbi.jpg?s=128&g=1", "display_name": "Ashraf.Shk786", "link": "https://stackoverflow.com/users/3951861/ashraf-shk786"}, "reply_to_user": {"reputation": 240678, "user_id": 14955, "user_type": "registered", "accept_rate": 55, "profile_image": "https://i.stack.imgur.com/5DblQ.png?s=128&g=1", "display_name": "Thilo", "link": "https://stackoverflow.com/users/14955/thilo"}, "edited": false, "score": 0, "creation_date": 1500378977, "post_id": 45165542, "comment_id": 77299979, "body": "@Thilo I found <a href=\"https://metacpan.org/pod/HTTP::Daemon\" rel=\"nofollow noreferrer\">metacpan.org/pod/HTTP::Daemon</a> but everytime the URL keeps on changing if you can just run the example provided"}, {"owner": {"reputation": 240678, "user_id": 14955, "user_type": "registered", "accept_rate": 55, "profile_image": "https://i.stack.imgur.com/5DblQ.png?s=128&g=1", "display_name": "Thilo", "link": "https://stackoverflow.com/users/14955/thilo"}, "edited": false, "score": 0, "creation_date": 1500379366, "post_id": 45165542, "comment_id": 77300238, "body": "@Ashraf.Shk786: You can specify a port number in the constructor. See the example on the page you linked to."}, {"owner": {"reputation": 570, "user_id": 3951861, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/WECbi.jpg?s=128&g=1", "display_name": "Ashraf.Shk786", "link": "https://stackoverflow.com/users/3951861/ashraf-shk786"}, "edited": false, "score": 0, "creation_date": 1500442258, "post_id": 45165542, "comment_id": 77331338, "body": "I am trying with <code>use HTTP::Daemon</code> for server and as soon as I run the file <code>server.pl</code> from <code>cmd</code> something happens that make command prompt non-editable which I probably think is a server start. I&#39;ve also printed the url and port number which are used to call that server. But, when I try to open browser and run the URL with port number I am getting <code>Error 403   :  The website declined to show this webpage</code>. Am I missing something?"}], "answers": [{"tags": [], "owner": {"reputation": 50468, "user_id": 1331451, "user_type": "registered", "accept_rate": 96, "profile_image": "https://i.stack.imgur.com/4ZPmj.png?s=128&g=1", "display_name": "simbabque", "link": "https://stackoverflow.com/users/1331451/simbabque"}, "is_accepted": false, "score": 3, "last_activity_date": 1500381728, "creation_date": 1500381728, "answer_id": 45167143, "question_id": 45165542, "link": "https://stackoverflow.com/questions/45165542/executing-perl-cgi-script-in-ajax-without-using-server/45167143#45167143", "title": "Executing Perl/CGI script in AJAX without using server", "body": "<p>One way to do this is to use <a href=\"https://metacpan.org/pod/Plack::App::CGIBin\" rel=\"nofollow noreferrer\">Plack::App::CGIBin</a>. It allows you to mount CGI scripts as apps with the PSGI/<a href=\"https://metacpan.org/pod/Plack\" rel=\"nofollow noreferrer\">Plack</a> protocol.</p>\n\n<pre><code>use Plack::App::CGIBin;\nuse Plack::Builder;\n\nmy $app = Plack::App::CGIBin-&gt;new(root =&gt; \"/path/to/cgi-bin\")-&gt;to_app;\nbuilder {\n    mount \"/cgi-bin\" =&gt; $app;\n};\n</code></pre>\n\n<p>Save that as <code>myapp.psgi</code> (or whatever your stuff is called) and run it like this:</p>\n\n<pre><code>$ plackup myapp.psgi\n</code></pre>\n\n<p>By default it will open up a server on port 3000 on localhost. You will need to be able to install Perl modules. Since you have Strawberry Perl that shouldn't be a problem. In the worst case, just use a local::lib.</p>\n\n<p>You will also need to be able to open a port for listening. If you cannot there is no other solution than to get an admin to install you an actual full-scale web server.</p>\n\n<hr>\n\n<p>The PSGI protocol and the Plack tools are a simple, easy to use replacement for CGI. They allow you to be very flexible while making it easy to have persistently running large applications.</p>\n"}], "owner": {"reputation": 570, "user_id": 3951861, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/WECbi.jpg?s=128&g=1", "display_name": "Ashraf.Shk786", "link": "https://stackoverflow.com/users/3951861/ashraf-shk786"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 225, "favorite_count": 1, "answer_count": 1, "score": 1, "last_activity_date": 1500381728, "creation_date": 1500377371, "question_id": 45165542, "link": "https://stackoverflow.com/questions/45165542/executing-perl-cgi-script-in-ajax-without-using-server", "title": "Executing Perl/CGI script in AJAX without using server", "body": "<p>I am having a Perl and a CGI file through which I want to fetch data from database. I've a UI where I am trying to use AJAX call which will hit the perl (<em>.pl) or (</em>.cgi) file and get the response in JSON. I've checked the perl/cgi file by running through command prompt and it works fine. This is how I am running my code in <code>command prompt</code>:</p>\n\n<p><code>D:\\&gt;PerlExecutables\\strawberry_32\\perl\\bin\\perl.exe C:\\Users\\UserXYZ\\Desktop\\PerlExamples\\test.cgi</code></p>\n\n<p>The reason is I cannot do any kind of installation on my machine and also I don't want to run it through server like <code>Apache</code> or <code>IIS</code>.\nHow can this be achieved? Is there any way to make the script work in AJAX by passing the <code>perl.exe</code> path for execution or Any other alternatives?</p>\n\n<p><strong>Thanks!</strong></p>\n"}, {"tags": ["linux", "bash", "perl"], "comments": [{"owner": {"reputation": 853, "user_id": 8319308, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/ffe9c03af12d10772279677c6f1b9f84?s=128&d=identicon&r=PG&f=1", "display_name": "Vadim Beskrovnov", "link": "https://stackoverflow.com/users/8319308/vadim-beskrovnov"}, "edited": false, "score": 1, "creation_date": 1500372622, "post_id": 45163330, "comment_id": 77295369, "body": "How did you try with <code>&amp;&amp;</code>? And which errors did you get?"}, {"owner": {"user_type": "does_not_exist", "display_name": "user8324523"}, "reply_to_user": {"reputation": 853, "user_id": 8319308, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/ffe9c03af12d10772279677c6f1b9f84?s=128&d=identicon&r=PG&f=1", "display_name": "Vadim Beskrovnov", "link": "https://stackoverflow.com/users/8319308/vadim-beskrovnov"}, "edited": false, "score": 0, "creation_date": 1500373105, "post_id": 45163330, "comment_id": 77295689, "body": "i am looking at a way to implement this with a bash script, and not &amp;&amp;"}, {"owner": {"reputation": 853, "user_id": 8319308, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/ffe9c03af12d10772279677c6f1b9f84?s=128&d=identicon&r=PG&f=1", "display_name": "Vadim Beskrovnov", "link": "https://stackoverflow.com/users/8319308/vadim-beskrovnov"}, "edited": false, "score": 1, "creation_date": 1500373398, "post_id": 45163330, "comment_id": 77295887, "body": "Bash executes script&#39;s commands one by one. So you can write this commands in file and run it."}, {"owner": {"reputation": 50468, "user_id": 1331451, "user_type": "registered", "accept_rate": 96, "profile_image": "https://i.stack.imgur.com/4ZPmj.png?s=128&g=1", "display_name": "simbabque", "link": "https://stackoverflow.com/users/1331451/simbabque"}, "edited": false, "score": 2, "creation_date": 1500373671, "post_id": 45163330, "comment_id": 77296074, "body": "Your code block in the question already is a valid bash script. Just put one command per line and you&#39;re good."}, {"owner": {"reputation": 2415, "user_id": 4251338, "user_type": "registered", "accept_rate": 90, "profile_image": "https://i.stack.imgur.com/UNbCO.png?s=128&g=1", "display_name": "ssr1012", "link": "https://stackoverflow.com/users/4251338/ssr1012"}, "edited": false, "score": 0, "creation_date": 1500374998, "post_id": 45163330, "comment_id": 77297095, "body": "why should you not try the *BAT file"}, {"owner": {"user_type": "does_not_exist", "display_name": "user8324523"}, "edited": false, "score": 0, "creation_date": 1500375138, "post_id": 45163330, "comment_id": 77297182, "body": "an example with the BAT file?"}, {"owner": {"reputation": 123805, "user_id": 622310, "user_type": "registered", "accept_rate": 33, "profile_image": "https://www.gravatar.com/avatar/8b6d35219e1808520bc238b28161e2e6?s=128&d=identicon&r=PG", "display_name": "Borodin", "link": "https://stackoverflow.com/users/622310/borodin"}, "edited": false, "score": 0, "creation_date": 1500375630, "post_id": 45163330, "comment_id": 77297519, "body": "@Marios: <code>&amp;&amp;</code> <b><i>is bash syntax</i></b> and will work fine in a bash script. Please tell us what happened when you tried to use it."}], "answers": [{"tags": [], "owner": {"reputation": 853, "user_id": 8319308, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/ffe9c03af12d10772279677c6f1b9f84?s=128&d=identicon&r=PG&f=1", "display_name": "Vadim Beskrovnov", "link": "https://stackoverflow.com/users/8319308/vadim-beskrovnov"}, "is_accepted": false, "score": 0, "last_activity_date": 1500373825, "creation_date": 1500373825, "answer_id": 45164170, "question_id": 45163330, "link": "https://stackoverflow.com/questions/45163330/combine-multiple-perl-scripts-commands-in-an-executable-script-in-linux/45164170#45164170", "title": "Combine multiple perl scripts, commands in an executable script in linux", "body": "<p>Create file(for example <code>script.sh</code>) with the following:</p>\n\n<pre><code>#!/bin/sh\nperl script_one.pl file.txt\nperl script_two.pl\nperl script_three.pl\n</code></pre>\n\n<p>And then execute <code>chmod +x script.sh</code> and <code>./script.sh</code></p>\n"}, {"comments": [{"owner": {"reputation": 611, "user_id": 7024991, "user_type": "registered", "accept_rate": 75, "profile_image": "https://www.gravatar.com/avatar/515eb7cb8df03bf0475a7edf3b066492?s=128&d=identicon&r=PG&f=1", "display_name": "xyz123", "link": "https://stackoverflow.com/users/7024991/xyz123"}, "edited": false, "score": 0, "creation_date": 1500502962, "post_id": 45201881, "comment_id": 77371123, "body": "The advantage of making a script like this is that you can have one perl script that does the work of 3 perl scripts, instead of making 3 separate perl scripts plus a bash script."}], "tags": [], "owner": {"reputation": 611, "user_id": 7024991, "user_type": "registered", "accept_rate": 75, "profile_image": "https://www.gravatar.com/avatar/515eb7cb8df03bf0475a7edf3b066492?s=128&d=identicon&r=PG&f=1", "display_name": "xyz123", "link": "https://stackoverflow.com/users/7024991/xyz123"}, "is_accepted": false, "score": 0, "last_activity_date": 1500503169, "last_edit_date": 1500503169, "creation_date": 1500502245, "answer_id": 45201881, "question_id": 45163330, "link": "https://stackoverflow.com/questions/45163330/combine-multiple-perl-scripts-commands-in-an-executable-script-in-linux/45201881#45201881", "title": "Combine multiple perl scripts, commands in an executable script in linux", "body": "<p>I would normally define the scripts with the shebang: #!/bin/bash\nGenerally, #!/bin/sh is the same thing as #!/bin/bash in the terminal\nbut there can be some differences in advanced programs.\nSave the script as file.bash, for example \nThen you execute the script with: \n$ bash file.bash</p>\n\n<p>And it runs like it would in the terminal. </p>\n\n#\n\n<p>But if you have multiple perl programs, you can make them all null subroutines (functions) in a large perl script and then execute the subroutines one after another. See how I have 3 scripts which I made into null subroutines with just this logic: </p>\n\n<p>sub this { # Your code goes here } # Assuming this is your function.</p>\n\n<p>Execute your script with: \"this()\",\nand it does whatever this() does. </p>\n\n<p>So imagine that these basic null subroutines in this perl script,\nare separate perl scripts. In one script like this one I run all those perl scripts like so ... </p>\n\n<pre><code>#!/usr/bin/env perl\n# multiple_programs.pl \nuse strict;\nuse warnings;\nuse feature 'say';\n\n# A subroutine can be a whole perl script.\n# Just write sub function { # all your code in a script }.\n# Then execute your subroutine with function() ... if your subroutine is called function, for example. \n# If you want to execute multiple scripts subroutines with no external data passed into them can be quite nifty!\n# If you define your variables within the subroutine and don't pass anything to them. \n# Notice how in this logical workflow I have defined no variables outside of the subroutines. \n# This can make your life easier sometimes. \n\n# Now we execute the null subroutines (functions) one after another like so. \nsum(); # Imagine this is the first script: sum.pl\ntoo_friendly(); # Imagine this is the second script: too_friendly.pl\nopen_file(); # Imagine that this is the third script called open_file.pl\n\nsub sum \n{\nmy $i = 1;\nprint \"Input the maximum value that you would like to sum numbers up to from 1: &gt;&gt;\";\nmy $max = &lt;STDIN&gt;;\nmy $sum;\n\nwhile($i &lt;= $max)\n{\n    $sum += $i;\n    $i++;\n}\nprint \"The sum of The numbers 1 to $max is $sum\\n\";\n}\n\nsub too_friendly\n{ # Put brackets around your whole code. \nsay \"\\nWhat's your name?\";\nmy $name = &lt;STDIN&gt;;\nsay \"Hey buddy! Long time no see, $name!\";\nsay \"What's up!?\";\n}\n\nsub open_file\n{\nsay \"\\nI will open a file for you, and read the contents of it\";\nprint \"Okay, which file? &gt;&gt;\";\nchomp(my $file = &lt;STDIN&gt;); # The actual filename.\nmy $filehandle; # A temporary variable to a file.\n\nunless(open($filehandle, '&lt;', $file)){die \"Could not open file $file\";}\n\nwhile(my $rows = &lt;$filehandle&gt;)\n    {\n    print \"$rows\";\n    }\n    close $filehandle;\n}\n</code></pre>\n\n<p>My perl script does three things for the three subroutines.\nIt calculates the sum of numbers 1 to n, with \"n\" provided by the user.\nIt is way too friendly, and it opens a file and just straight up reads it line by line.</p>\n\n<p>For example, here is how it works: \nThis is not code. It's example output from running the above perl program:</p>\n\n<pre><code>Input the maximum value that you would like to sum numbers up to from 1: &gt;&gt;15\nThe sum of The numbers 1 to 15\n is 120\n\nWhat's your name?\nBrother\nHey buddy! Long time no see, Brother\n!\nWhat's up!?\n\nI will open a file for you, and read the contents of it\nOkay, which file? &gt;&gt;A_file.txt\nHey,\nWhat's happening?\nI am just file in your working directory,\nand you just opened me.\nPretty cool, huh!?\nOkay, bye! \n</code></pre>\n"}], "owner": {"user_type": "does_not_exist", "display_name": "user8324523"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 533, "favorite_count": 0, "answer_count": 2, "score": 0, "last_activity_date": 1500503169, "creation_date": 1500371734, "question_id": 45163330, "link": "https://stackoverflow.com/questions/45163330/combine-multiple-perl-scripts-commands-in-an-executable-script-in-linux", "title": "Combine multiple perl scripts, commands in an executable script in linux", "body": "<p>I have created a few perl scripts, which i run one after the other:</p>\n\n<pre><code>perl script_one.pl file.txt\n\nperl script_two.pl\n\nperl script_three.pl\n</code></pre>\n\n<p>command file_one.log file_two.log</p>\n\n<p>a perl one liner</p>\n\n<p>for example</p>\n\n<pre><code>perl -lpe 's/\\s*$//'\n</code></pre>\n\n<p>How could i combine all the above in a bash script?</p>\n\n<p>i work on an ubuntu 16.04 machine</p>\n\n<p>I have tried with the &amp;&amp; in linux, but i got errors</p>\n"}, {"tags": ["perl", "azure", "ssl", "microsoft-translator"], "comments": [{"owner": {"reputation": 113221, "user_id": 100754, "user_type": "registered", "accept_rate": 90, "profile_image": "https://www.gravatar.com/avatar/7804ebae32fbadef38537d74a915c22f?s=128&d=identicon&r=PG", "display_name": "Sinan &#220;n&#252;r", "link": "https://stackoverflow.com/users/100754/sinan-%c3%9cn%c3%bcr"}, "edited": false, "score": 0, "creation_date": 1500372403, "post_id": 45161887, "comment_id": 77295217, "body": "It looks like you are forcing the use of outdated <code>Net::SSL</code>. There really isn&#39;t a good reason to do so. I am not sure which method you are using to do that, but don&#39;t."}, {"owner": {"reputation": 113221, "user_id": 100754, "user_type": "registered", "accept_rate": 90, "profile_image": "https://www.gravatar.com/avatar/7804ebae32fbadef38537d74a915c22f?s=128&d=identicon&r=PG", "display_name": "Sinan &#220;n&#252;r", "link": "https://stackoverflow.com/users/100754/sinan-%c3%9cn%c3%bcr"}, "edited": false, "score": 0, "creation_date": 1500372841, "post_id": 45161887, "comment_id": 77295521, "body": "That is, if you have  a <code>use Net::SSL</code> statement before <code>use LWP::UserAgent</code> or if you set <code>$Net::HTTPS::SSL_SOCKET_CLASS = &#39;Net::SSL&#39;</code> or if you set <code>$ENV{PERL_NET_HTTPS_SSL_SOCKET_CLASS} = &#39;Net::SSL&#39;</code> ... remove those."}], "owner": {"reputation": 11, "user_id": 8323884, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/b19e92e92f24cea931ce9b335d26d78f?s=128&d=identicon&r=PG&f=1", "display_name": "I. Barig", "link": "https://stackoverflow.com/users/8323884/i-barig"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 52, "favorite_count": 0, "answer_count": 0, "score": 1, "last_activity_date": 1500449423, "creation_date": 1500367887, "last_edit_date": 1500449423, "question_id": 45161887, "link": "https://stackoverflow.com/questions/45161887/perl-netssl-occasionally-throws-error-read-failed-when-calling-ms-azure-tran", "title": "Perl Net::SSL occasionally throws error &quot;read failed&quot; when calling MS Azure Translation API", "body": "<p>We have an automatic translation Perl script running on a client's server and we noticed that it would occasionally throw an error. The Script simply calls the Microsoft Azure Translation API to translate the data. (Replacing the deprecated Bing Translation API that was used before)</p>\n\n<p>Net::SSL throws the following error:</p>\n\n<pre><code>Net::SSL::die_with_error(LWP::Protocol::https::Socket=GLOB(0x16aff1ec), \"read failed\")\n</code></pre>\n\n<p>The strange thing is that this error can't be reproduced, it seems that at some point, one of the calls doesn't return a value at all. (according to Net::SSL the error is thrown when the result of a HTTP request is undefined)</p>\n\n<p>When I run the script just for the data that \"caused\" the error, it runs normally, so the input data does not seem to be the problem.</p>\n\n<p>The script repeats the call 3 times in 10 second intervals before giving up, so a temporary connection problem seems unlikely as well.</p>\n\n<p>Unfortunately I don't have direct access to the Azure account used and have to believe the partner who manages it, according to them it works normally and should.</p>\n\n<p>I apologize that I can't give any more details. I just would like to know if anybody encountered a similar issue or has some experience with using the Azure Translation API.</p>\n"}, {"tags": ["python", "perl", "subprocess", "getopt-long"], "answers": [{"comments": [{"owner": {"reputation": 746, "user_id": 2534100, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/4f47fee354ac3136faebe2fecd0f5f4a?s=128&d=identicon&r=PG", "display_name": "Coykto", "link": "https://stackoverflow.com/users/2534100/coykto"}, "edited": false, "score": 0, "creation_date": 1500368576, "post_id": 45162056, "comment_id": 77292514, "body": "Thank you so much!"}], "tags": [], "owner": {"reputation": 53041, "user_id": 4653379, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/b3953dbedd0dabff5cbc3db9b0835b14?s=128&d=identicon&r=PG&f=1", "display_name": "zdim", "link": "https://stackoverflow.com/users/4653379/zdim"}, "is_accepted": true, "score": 3, "last_activity_date": 1500402788, "last_edit_date": 1500402788, "creation_date": 1500368357, "answer_id": 45162056, "question_id": 45161262, "link": "https://stackoverflow.com/questions/45161262/call-getoptions-in-perl-script-from-python-subprocess/45162056#45162056", "title": "Call GetOptions in perl script from Python subprocess", "body": "<p>The <code>GetOptions(...)</code> line in the Perl script specifies how the input is submitted to the script:</p>\n\n<pre><code>script.pl --var1 s1 --var2 s2\n</code></pre>\n\n<p>You use it correctly from the command line.</p>\n\n<p>However, your Python script passes the values in variables <code>var1</code> and <code>var2</code> as a single string each.  You need to spell out the whole command line</p>\n\n<pre><code>proc = subprocess.Popen([\"sudo\", \\\n    \"perl\", \"/path/script.pl\", \"--var1\", str(var1), \"--var2\", str(var2) ], \\\n    stdout=subprocess.PIPE)\n</code></pre>\n\n<p>Here <code>var1</code> contains only the value, not the <code>\"--var1 \"</code> string as in the question (same for <code>var2</code>).</p>\n"}], "owner": {"reputation": 746, "user_id": 2534100, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/4f47fee354ac3136faebe2fecd0f5f4a?s=128&d=identicon&r=PG", "display_name": "Coykto", "link": "https://stackoverflow.com/users/2534100/coykto"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 170, "favorite_count": 0, "accepted_answer_id": 45162056, "answer_count": 1, "score": 1, "last_activity_date": 1500402788, "creation_date": 1500366212, "question_id": 45161262, "link": "https://stackoverflow.com/questions/45161262/call-getoptions-in-perl-script-from-python-subprocess", "title": "Call GetOptions in perl script from Python subprocess", "body": "<p>I have python application running on ubuntu server 16.04 with lines like this:</p>\n\n<pre><code>var1 = \"--var1 \" + var1\nvar2 = \"--var2 \" + var2\nproc = subprocess.Popen([\"sudo\", \"perl\", \"/path/script.pl\", str(var1), str(var2) ], stdout=subprocess.PIPE)\n</code></pre>\n\n<p>Perl script contains following lines:</p>\n\n<pre><code>#!/usr/bin/perl\nuse File::Path;\nuse Getopt::Long;\nuse strict;\nuse warnings;\n\nmy $var1 = '';\nmy $var2 = '';\n\nprint \"Started \";\n\nGetOptions (\"var1=s\" =&gt; \\$var1, \"var2=s\" =&gt; \\$var2) or die (\"Error\");\n\nprint \"Vars: FIRST = $var1 SECOND = $var2 \";\n...\n</code></pre>\n\n<p>This application is run by member of sudo group who has permission to run any sudo commands without password.\nWhen i run this command from terminal as that user:</p>\n\n<pre><code>su that_user\nsudo perl /path/script.pl --var1 XXX --var2 YYY\n</code></pre>\n\n<p>Im getting desired output:</p>\n\n<pre><code>Started \nVars: FIRST = XXX SECOND = YYY\n</code></pre>\n\n<p>But when i run it as subprocess from python i only get:</p>\n\n<pre><code>Started \n</code></pre>\n\n<p>If i remove </p>\n\n<pre><code>or die (\"Error\")\n</code></pre>\n\n<p>part, i will get:</p>\n\n<pre><code>Started \nVars: FIRST =  SECOND = \n</code></pre>\n\n<p>And no error or anything. As I pretty new to perl i suspect there is a syntax error in the way i call GetOptions, but reading docs and googling for quite some time didn't get me anywhere.</p>\n"}, {"tags": ["perl", "batch-file", "perl-module"], "comments": [{"owner": {"reputation": 53041, "user_id": 4653379, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/b3953dbedd0dabff5cbc3db9b0835b14?s=128&d=identicon&r=PG&f=1", "display_name": "zdim", "link": "https://stackoverflow.com/users/4653379/zdim"}, "edited": false, "score": 1, "creation_date": 1500363952, "post_id": 45160481, "comment_id": 77289299, "body": "What is the error? Can you edit the question to add the complete error?"}, {"owner": {"reputation": 2289, "user_id": 1903668, "user_type": "registered", "accept_rate": 65, "profile_image": "https://www.gravatar.com/avatar/3599de7c4d9997127f039c2a543cf935?s=128&d=identicon&r=PG", "display_name": "Alen Lee", "link": "https://stackoverflow.com/users/1903668/alen-lee"}, "reply_to_user": {"reputation": 53041, "user_id": 4653379, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/b3953dbedd0dabff5cbc3db9b0835b14?s=128&d=identicon&r=PG&f=1", "display_name": "zdim", "link": "https://stackoverflow.com/users/4653379/zdim"}, "edited": false, "score": 0, "creation_date": 1500364148, "post_id": 45160481, "comment_id": 77289414, "body": "@zdim, I can&#39;t catch the error since it occurs include library(compile) before execute"}, {"owner": {"reputation": 2289, "user_id": 1903668, "user_type": "registered", "accept_rate": 65, "profile_image": "https://www.gravatar.com/avatar/3599de7c4d9997127f039c2a543cf935?s=128&d=identicon&r=PG", "display_name": "Alen Lee", "link": "https://stackoverflow.com/users/1903668/alen-lee"}, "reply_to_user": {"reputation": 53041, "user_id": 4653379, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/b3953dbedd0dabff5cbc3db9b0835b14?s=128&d=identicon&r=PG&f=1", "display_name": "zdim", "link": "https://stackoverflow.com/users/4653379/zdim"}, "edited": false, "score": 0, "creation_date": 1500364197, "post_id": 45160481, "comment_id": 77289455, "body": "@zdim, or do you know how to catch that?"}, {"owner": {"reputation": 53041, "user_id": 4653379, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/b3953dbedd0dabff5cbc3db9b0835b14?s=128&d=identicon&r=PG&f=1", "display_name": "zdim", "link": "https://stackoverflow.com/users/4653379/zdim"}, "edited": false, "score": 0, "creation_date": 1500364318, "post_id": 45160481, "comment_id": 77289541, "body": "But how do you know that there is an error?  Does the Perl script even run?  Does it work on its own?   (I don&#39;t think you can have a problem with <code>use strict;</code> if your Perl installation is good.)"}, {"owner": {"reputation": 2289, "user_id": 1903668, "user_type": "registered", "accept_rate": 65, "profile_image": "https://www.gravatar.com/avatar/3599de7c4d9997127f039c2a543cf935?s=128&d=identicon&r=PG", "display_name": "Alen Lee", "link": "https://stackoverflow.com/users/1903668/alen-lee"}, "reply_to_user": {"reputation": 53041, "user_id": 4653379, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/b3953dbedd0dabff5cbc3db9b0835b14?s=128&d=identicon&r=PG&f=1", "display_name": "zdim", "link": "https://stackoverflow.com/users/4653379/zdim"}, "edited": false, "score": 0, "creation_date": 1500364576, "post_id": 45160481, "comment_id": 77289698, "body": "@zdim, if the perl script execute successfully, it will print the environment variables, it obviously not, but if I remove the  <code>use strict;</code>, it print whose variables, so it must occurs error when <code>use perl lib</code>"}, {"owner": {"reputation": 53041, "user_id": 4653379, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/b3953dbedd0dabff5cbc3db9b0835b14?s=128&d=identicon&r=PG&f=1", "display_name": "zdim", "link": "https://stackoverflow.com/users/4653379/zdim"}, "edited": false, "score": 2, "creation_date": 1500364827, "post_id": 45160481, "comment_id": 77289861, "body": "Ah, I see now.  When you include <code>use strict;</code> you must <i>declare</i> all variables.  That&#39;s the point of it.  So your <code>foreach $key ...</code> needs to be <code>foreach my $key ...</code>.  (In Perl you declare variables with <code>my</code> keyword.)  So correct that and try again."}, {"owner": {"reputation": 2289, "user_id": 1903668, "user_type": "registered", "accept_rate": 65, "profile_image": "https://www.gravatar.com/avatar/3599de7c4d9997127f039c2a543cf935?s=128&d=identicon&r=PG", "display_name": "Alen Lee", "link": "https://stackoverflow.com/users/1903668/alen-lee"}, "reply_to_user": {"reputation": 53041, "user_id": 4653379, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/b3953dbedd0dabff5cbc3db9b0835b14?s=128&d=identicon&r=PG&f=1", "display_name": "zdim", "link": "https://stackoverflow.com/users/4653379/zdim"}, "edited": false, "score": 0, "creation_date": 1500365012, "post_id": 45160481, "comment_id": 77289997, "body": "Let us <a href=\"http://chat.stackoverflow.com/rooms/149449/discussion-between-alen-lee-and-zdim\">continue this discussion in chat</a>."}], "owner": {"reputation": 2289, "user_id": 1903668, "user_type": "registered", "accept_rate": 65, "profile_image": "https://www.gravatar.com/avatar/3599de7c4d9997127f039c2a543cf935?s=128&d=identicon&r=PG", "display_name": "Alen Lee", "link": "https://stackoverflow.com/users/1903668/alen-lee"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 43, "favorite_count": 2, "answer_count": 0, "score": 0, "last_activity_date": 1500431363, "creation_date": 1500363699, "last_edit_date": 1500431363, "question_id": 45160481, "link": "https://stackoverflow.com/questions/45160481/perl-occur-error-when-use-lib", "title": "Perl occur error when use lib", "body": "<p>I have a weird problem, I <code>called a CMD batch script, then the batch script called a perl script</code></p>\n\n<p>The C# launch process</p>\n\n<pre><code>//\n// Launch process.\n//\nstring path = System.IO.Directory.GetCurrentDirectory();\nProcessStartInfo startInfo = new ProcessStartInfo()\n{\n    FileName = fileName,\n    Arguments = arguments,\n    WorkingDirectory = workingDirectory,\n    UseShellExecute = false,\n    RedirectStandardOutput = true,\n    RedirectStandardError = true\n};\n\nProcess process = Process.Start(startInfo);\nprocess.BeginOutputReadLine();\nprocess.BeginErrorReadLine();\n</code></pre>\n\n<p>The batch script:</p>\n\n<pre><code>\"%PerlFolder%\\perl.exe\" \"%CodeFolder%\\test.pl\"\n</code></pre>\n\n<p>the test.pl</p>\n\n<pre><code>#!/usr/bin/perl\n\nuse strict;\n\n#...\n#code\nforeach $key (keys(%ENV)) {\n    printf(\"%-10.10s: $ENV{$key}\\n\", $key);\n}\n</code></pre>\n\n<p>but it occurs an error when use the lib, I can't catch the error since it occurs include library(compile) before execute ,it seems like it don't found the lib, so I replace it with absolute path</p>\n\n<pre><code>use lib \"C:/Program Files (x86)/perl/lib/strict.pm\";\n</code></pre>\n\n<p>but it still not work, anyone know how to fix this?</p>\n"}, {"tags": ["perl", "cron", "cpanel"], "answers": [{"comments": [{"owner": {"reputation": 621, "user_id": 4632437, "user_type": "registered", "accept_rate": 80, "profile_image": "https://i.stack.imgur.com/RQZYA.png?s=128&g=1", "display_name": "Igor Soudakevitch", "link": "https://stackoverflow.com/users/4632437/igor-soudakevitch"}, "edited": false, "score": 0, "creation_date": 1500376770, "post_id": 45162103, "comment_id": 77298338, "body": "Yes Bogdan, you are right. I suspect that particular cron job was added automatically when I installed WordPress module via the Quickinstall tool in cPanel. As for HostGator&#39;s techsupport... They are a weird bunch: the only way to get help is request a ticket from <i>their side</i> thru a live chat, which drops connection all the time :/"}], "tags": [], "owner": {"reputation": 3615, "user_id": 1040031, "user_type": "registered", "accept_rate": 36, "profile_image": "https://i.stack.imgur.com/PPKXg.jpg?s=128&g=1", "display_name": "Bogdan Stoica", "link": "https://stackoverflow.com/users/1040031/bogdan-stoica"}, "is_accepted": false, "score": 1, "last_activity_date": 1500368538, "creation_date": 1500368538, "answer_id": 45162103, "question_id": 45159495, "link": "https://stackoverflow.com/questions/45159495/faulty-cron-job-safe-to-delete/45162103#45162103", "title": "Faulty cron job: safe to delete?", "body": "<p>As far as I know that cron entry is not a default cron entry added by cPanel. If the cron is faulty you can just delete it. I jave just checked on my cPanel/WHM server, I do not have such a cron job, I do not have that <strong>quickinstall</strong> folder. Most probably you are using some 3rd party apps (like softaculous for example) so that's why the cron is there. You could also open a support request to HostGator and see what they say.</p>\n"}, {"comments": [{"owner": {"reputation": 621, "user_id": 4632437, "user_type": "registered", "accept_rate": 80, "profile_image": "https://i.stack.imgur.com/RQZYA.png?s=128&g=1", "display_name": "Igor Soudakevitch", "link": "https://stackoverflow.com/users/4632437/igor-soudakevitch"}, "edited": false, "score": 0, "creation_date": 1500375653, "post_id": 45162448, "comment_id": 77297533, "body": "OK Dave, I deleted it; so far the flight is nominal. Thanks! :)"}], "tags": [], "owner": {"reputation": 42833, "user_id": 18914, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/7a20a39ae2ef47ae042a3eddd5b5bd19?s=128&d=identicon&r=PG", "display_name": "Dave Sherohman", "link": "https://stackoverflow.com/users/18914/dave-sherohman"}, "is_accepted": true, "score": 1, "last_activity_date": 1500369385, "creation_date": 1500369385, "answer_id": 45162448, "question_id": 45159495, "link": "https://stackoverflow.com/questions/45159495/faulty-cron-job-safe-to-delete/45162448#45162448", "title": "Faulty cron job: safe to delete?", "body": "<p>I'm not familiar with cPanel, so I can't address that aspect of the question, but, from the Perl side, I can tell you that deleting the cron job will do no (additional?) harm.  Because there's a syntax error in the Perl code, the checkupdates program is already not running (and, indeed, <em>can't</em> run).</p>\n\n<p>Checking with any appropriate vendor to see whether they can provide a fixed copy of <code>Cpanel::JS::Variations</code> (the source library which contains the actual error) would likely be a good idea, as it may be used by other pieces of Cpanel which actually are important, but the cron job isn't doing anything other than generating email to tell you it failed.</p>\n"}], "owner": {"reputation": 621, "user_id": 4632437, "user_type": "registered", "accept_rate": 80, "profile_image": "https://i.stack.imgur.com/RQZYA.png?s=128&g=1", "display_name": "Igor Soudakevitch", "link": "https://stackoverflow.com/users/4632437/igor-soudakevitch"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 317, "favorite_count": 1, "accepted_answer_id": 45162448, "answer_count": 2, "score": 0, "last_activity_date": 1500369385, "creation_date": 1500360549, "question_id": 45159495, "link": "https://stackoverflow.com/questions/45159495/faulty-cron-job-safe-to-delete", "title": "Faulty cron job: safe to delete?", "body": "<p>One of the automatically generated cron jobs, namely:</p>\n\n<pre><code>2 0 * * * /usr/local/bin/perl /usr/local/cpanel/3rdparty/quickinstall/scripts/checkupdates.pl\n</code></pre>\n\n<p>outputs this:</p>\n\n<pre><code>    Bareword found where operator expected at /usr/local/cpanel/Cpanel/JS/Variations.pm line 20, near \"$filename =~ s{/js2\"\n      (Might be a runaway multi-line // string starting on line 19)\n            (Missing operator before js2?)\n    syntax error at /usr/local/cpanel/Cpanel/JS/Variations.pm line 20, near \"$filename =~ s{/js2\"\n    Global symbol \"$filename\" requires explicit package name at /usr/local/cpanel/Cpanel/JS/Variations.pm line 21.\n</code></pre>\n\n<p>and many other errors.</p>\n\n<p>Would it be safe to delete this cron job? especially considering that:</p>\n\n<ul>\n<li>it is faulty in the first place;</li>\n<li>I don't have access to the Perl script in question and can't fix it;</li>\n<li>quickinstall modules (such as WP and Moodle) properly check for updates themselves.</li>\n</ul>\n\n<p>I'm using a shared hosting on HostGator and, as such, don't have a shell access; all I can do is work thru cPanel.</p>\n"}, {"tags": ["perl"], "answers": [{"comments": [{"owner": {"reputation": 611, "user_id": 7024991, "user_type": "registered", "accept_rate": 75, "profile_image": "https://www.gravatar.com/avatar/515eb7cb8df03bf0475a7edf3b066492?s=128&d=identicon&r=PG&f=1", "display_name": "xyz123", "link": "https://stackoverflow.com/users/7024991/xyz123"}, "edited": false, "score": 0, "creation_date": 1500356992, "post_id": 45158468, "comment_id": 77285274, "body": "Wow! That&#39;s really clever, and simple. Thanks so much! Would you like to comment on the logic of your code?"}, {"owner": {"reputation": 53041, "user_id": 4653379, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/b3953dbedd0dabff5cbc3db9b0835b14?s=128&d=identicon&r=PG&f=1", "display_name": "zdim", "link": "https://stackoverflow.com/users/4653379/zdim"}, "reply_to_user": {"reputation": 611, "user_id": 7024991, "user_type": "registered", "accept_rate": 75, "profile_image": "https://www.gravatar.com/avatar/515eb7cb8df03bf0475a7edf3b066492?s=128&d=identicon&r=PG&f=1", "display_name": "xyz123", "link": "https://stackoverflow.com/users/7024991/xyz123"}, "edited": false, "score": 0, "creation_date": 1500358296, "post_id": 45158468, "comment_id": 77285907, "body": "@xyz123  Yes, right.  The <code>splice</code> returns the first 10 chars, and <code>@letters</code> ends up shorter by that. The <code>[ ... ]</code> forms an anonymous array of that list, and that scalar is <code>push</code>-ed.  This is in a <code>while</code> loop over <code>@letters</code> ... which will terminate once the <code>@letters</code> ends up empty.  (The <code>splice</code> takes as many as there are, so we get that last batch for free :).  I will add this to the answer in just a little while..."}, {"owner": {"reputation": 53041, "user_id": 4653379, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/b3953dbedd0dabff5cbc3db9b0835b14?s=128&d=identicon&r=PG&f=1", "display_name": "zdim", "link": "https://stackoverflow.com/users/4653379/zdim"}, "reply_to_user": {"reputation": 611, "user_id": 7024991, "user_type": "registered", "accept_rate": 75, "profile_image": "https://www.gravatar.com/avatar/515eb7cb8df03bf0475a7edf3b066492?s=128&d=identicon&r=PG&f=1", "display_name": "xyz123", "link": "https://stackoverflow.com/users/7024991/xyz123"}, "edited": false, "score": 0, "creation_date": 1500358447, "post_id": 45158468, "comment_id": 77285986, "body": "@xyz123  It&#39;s like <code>while (@letters) { my @batch = splice $letters, 0, 10; push @letter_groups, \\@batch };</code>  (here we can avoid the data copy <code>[@batch]</code> since <code>@batch</code> gets re-created every time).  Every time through <code>@letters</code> is shorter by 10 (the last time 6), and once it&#39;s empty the <code>while</code> is done."}, {"owner": {"reputation": 53041, "user_id": 4653379, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/b3953dbedd0dabff5cbc3db9b0835b14?s=128&d=identicon&r=PG&f=1", "display_name": "zdim", "link": "https://stackoverflow.com/users/4653379/zdim"}, "reply_to_user": {"reputation": 611, "user_id": 7024991, "user_type": "registered", "accept_rate": 75, "profile_image": "https://www.gravatar.com/avatar/515eb7cb8df03bf0475a7edf3b066492?s=128&d=identicon&r=PG&f=1", "display_name": "xyz123", "link": "https://stackoverflow.com/users/7024991/xyz123"}, "edited": false, "score": 0, "creation_date": 1500400398, "post_id": 45158468, "comment_id": 77315888, "body": "OK, a downvote -- can someone give me any clue as to why ... ?  I&#39;d like to improve this post as much as possible but I just don&#39;t see what it is."}, {"owner": {"reputation": 53041, "user_id": 4653379, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/b3953dbedd0dabff5cbc3db9b0835b14?s=128&d=identicon&r=PG&f=1", "display_name": "zdim", "link": "https://stackoverflow.com/users/4653379/zdim"}, "reply_to_user": {"reputation": 611, "user_id": 7024991, "user_type": "registered", "accept_rate": 75, "profile_image": "https://www.gravatar.com/avatar/515eb7cb8df03bf0475a7edf3b066492?s=128&d=identicon&r=PG&f=1", "display_name": "xyz123", "link": "https://stackoverflow.com/users/7024991/xyz123"}, "edited": false, "score": 0, "creation_date": 1500400598, "post_id": 45158468, "comment_id": 77315997, "body": "This post had a &quot;characters&quot; instead of &quot;elements&quot; for what&#39;s in the array -- wrong in principle of course (mislead by the fact that it is chars in this example), fixed."}, {"owner": {"reputation": 611, "user_id": 7024991, "user_type": "registered", "accept_rate": 75, "profile_image": "https://www.gravatar.com/avatar/515eb7cb8df03bf0475a7edf3b066492?s=128&d=identicon&r=PG&f=1", "display_name": "xyz123", "link": "https://stackoverflow.com/users/7024991/xyz123"}, "edited": false, "score": 0, "creation_date": 1500416202, "post_id": 45158468, "comment_id": 77324544, "body": "A character is an element as far as I am concerned."}, {"owner": {"reputation": 53041, "user_id": 4653379, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/b3953dbedd0dabff5cbc3db9b0835b14?s=128&d=identicon&r=PG&f=1", "display_name": "zdim", "link": "https://stackoverflow.com/users/4653379/zdim"}, "reply_to_user": {"reputation": 611, "user_id": 7024991, "user_type": "registered", "accept_rate": 75, "profile_image": "https://www.gravatar.com/avatar/515eb7cb8df03bf0475a7edf3b066492?s=128&d=identicon&r=PG&f=1", "display_name": "xyz123", "link": "https://stackoverflow.com/users/7024991/xyz123"}, "edited": false, "score": 0, "creation_date": 1500416966, "post_id": 45158468, "comment_id": 77324796, "body": "@xyz123  Well, yes, thank you.  Which is why I ended up typing that (and in this case that wasn&#39;t strictly wrong).  But the text is about operation of <code>splice</code> in general so I should say &quot;element.&quot;  However, I am really just puzzled with the downvote.  Thank you very much for the comment.  If I should/can improve that explanation please let me know."}, {"owner": {"reputation": 53041, "user_id": 4653379, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/b3953dbedd0dabff5cbc3db9b0835b14?s=128&d=identicon&r=PG&f=1", "display_name": "zdim", "link": "https://stackoverflow.com/users/4653379/zdim"}, "reply_to_user": {"reputation": 611, "user_id": 7024991, "user_type": "registered", "accept_rate": 75, "profile_image": "https://www.gravatar.com/avatar/515eb7cb8df03bf0475a7edf3b066492?s=128&d=identicon&r=PG&f=1", "display_name": "xyz123", "link": "https://stackoverflow.com/users/7024991/xyz123"}, "edited": false, "score": 0, "creation_date": 1500419605, "post_id": 45158468, "comment_id": 77325570, "body": "@xyz123  The approach in the answer is quite like an example in the docs (linked), simplified a little and condensed to one statement.  It&#39;s common to have for the controling condition of <code>while</code> a simple data structure which is getting depleted inside the loop body.  And here <code>splice</code> gives us half of that :). You were right on -- you (rightly) went to <code>splice</code>."}], "tags": [], "owner": {"reputation": 53041, "user_id": 4653379, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/b3953dbedd0dabff5cbc3db9b0835b14?s=128&d=identicon&r=PG&f=1", "display_name": "zdim", "link": "https://stackoverflow.com/users/4653379/zdim"}, "is_accepted": true, "score": 3, "last_activity_date": 1586069684, "last_edit_date": 1586069684, "creation_date": 1500356840, "answer_id": 45158468, "question_id": 45158306, "link": "https://stackoverflow.com/questions/45158306/splitting-an-array-into-n-accessible-parts-within-perl/45158468#45158468", "title": "Splitting an Array into n accessible parts within perl?", "body": "<p>Since <a href=\"https://perldoc.perl.org/functions/splice.html\" rel=\"nofollow noreferrer\">splice</a> is <em>destructive to its target</em> you can keep applying it</p>\n\n<pre><code>use warnings;\nuse strict;\nuse feature 'say';\n\nmy @letters = 'A'..'Z';\n\nmy @letter_groups;\n\npush @letter_groups, [ splice @letters, 0, 10 ]  while @letters;\n\nsay \"@$_\" for @letter_groups;\n</code></pre>\n\n<p>After this <code>@letters</code> is empty.  So make a copy of it and work with that if you will need it.</p>\n\n<hr>\n\n<p>Every time through, <code>splice</code> removes and returns elements from <code>@letters</code> and <code>[ ]</code> makes an anonymous array of that list. This reference is <code>push</code>ed on <code>@letter_groups</code>. </p>\n\n<p>Since <code>splice</code> takes as many elements as there are (if there aren't 10) once fewer than 10 remain <code>splice</code> removes and returns that, the <code>@letters</code> gets emptied, and <code>while</code> terminates.</p>\n"}], "owner": {"reputation": 611, "user_id": 7024991, "user_type": "registered", "accept_rate": 75, "profile_image": "https://www.gravatar.com/avatar/515eb7cb8df03bf0475a7edf3b066492?s=128&d=identicon&r=PG&f=1", "display_name": "xyz123", "link": "https://stackoverflow.com/users/7024991/xyz123"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 843, "favorite_count": 1, "accepted_answer_id": 45158468, "answer_count": 1, "score": 1, "last_activity_date": 1586069684, "creation_date": 1500356025, "question_id": 45158306, "link": "https://stackoverflow.com/questions/45158306/splitting-an-array-into-n-accessible-parts-within-perl", "title": "Splitting an Array into n accessible parts within perl?", "body": "<p>My goal is to take an array of letters and cut it up into \"n\" parts. In this case no more than 10 letters each piece. But I want these arrays to be stored into an array reference which I can access on a counter.</p>\n\n<p>For example, I have the following script to split an array of English alphabetical letters into 1 array of 10 letters. But since the English Alphabet has 26 letters, I need 2 more arrays to access in an array reference. </p>\n\n<pre><code>#!/usr/bin/env perl\n#split an array into parts. \nuse strict;\nuse warnings;\nuse feature 'say';\n\nmy @letters = ('A' .. 'Z');\nsay \"These are my letters:\";\nfor(@letters){print \"$_  \";}\n\nmy @letters_selected = splice(@letters, 0, 10);\nsay \"\\nThese are my selected letters:\";\nfor(@letters_selected){print \"$_  \";}\n</code></pre>\n\n<p>The output is this: \nThese are my letters:</p>\n\n<p>A  B  C  D  E  F  G  H  I  J  K  L  M  N  O  P  Q  R  S  T  U  V  W  X  Y  Z</p>\n\n<p>These are my selected letters:</p>\n\n<p>A  B  C  D  E  F  G  H  I  J</p>\n\n<p>This little script only gives me one piece of 10 letters of the alphabet. But I want all three pieces of 10 letters of the alphabet, so I would like to know how I can achieve this: </p>\n\n<p>Goal: \nHave an array reference called letters_selected of letters which contains all letters A - Z. But ... I can access all three pieces of size less than or equal to 10 letters like this.</p>\n\n<pre><code>  foreach(@{$letters_selected[0]}){say \"$_  \";}\n</code></pre>\n\n<p>returns: A B C D E F G H I J # These are the initial 10 elements of the alphabet.</p>\n\n<pre><code>foreach(@{$letters_selected[1]}){say \"$_  \";}\n</code></pre>\n\n<p>returns: K L M N O P Q R S T # The next 10 after that.</p>\n\n<pre><code>foreach(@{$letters_selected[2]}){say \"$_  \";}\n</code></pre>\n\n<p>returns: U V W X Y Z # The next no more than 10 after that. </p>\n"}, {"tags": ["android", "perl"], "comments": [{"owner": {"reputation": 53041, "user_id": 4653379, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/b3953dbedd0dabff5cbc3db9b0835b14?s=128&d=identicon&r=PG&f=1", "display_name": "zdim", "link": "https://stackoverflow.com/users/4653379/zdim"}, "edited": false, "score": 0, "creation_date": 1607215503, "post_id": 45158296, "comment_id": 115202998, "body": "Just ran into this old question .... how did it go?  As a polite reminder, see <a href=\"http://stackoverflow.com/help/someone-answers\">What should I do when someone answers my question?</a>"}], "answers": [{"tags": [], "owner": {"reputation": 53041, "user_id": 4653379, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/b3953dbedd0dabff5cbc3db9b0835b14?s=128&d=identicon&r=PG&f=1", "display_name": "zdim", "link": "https://stackoverflow.com/users/4653379/zdim"}, "is_accepted": false, "score": 1, "last_activity_date": 1500487683, "last_edit_date": 1500487683, "creation_date": 1500360170, "answer_id": 45159366, "question_id": 45158296, "link": "https://stackoverflow.com/questions/45158296/concise-multi-line-substring-extraction/45159366#45159366", "title": "Concise multi-line substring extraction", "body": "<p>You do need two matches on long-ish phrases, but it can be simplified (and shortened) a bit</p>\n\n<pre><code>dumpsys package packages | perl -nE'\n    /^\\s*Package \\[(.*)\\]/ &amp;&amp; print \"$1 -- \"; /^\\s*versionName=(.*)/ &amp;&amp; say $1\n' | sort\n</code></pre>\n\n<p>with output</p>\n\n<pre>\nds.cpuoverlay -- 5.7.0\norg.fdroid.fdroid.privileged -- 0.1\n</pre>\n\n<p>I tested with your posted input in a text file that I fed into &nbsp;<code>perl -nE '...' input.txt | sort</code></p>\n"}], "owner": {"reputation": 1706, "user_id": 200509, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/5c1a14b44dbd1ef2af0e264b6417333c?s=128&d=identicon&r=PG", "display_name": "eMPee584", "link": "https://stackoverflow.com/users/200509/empee584"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 52, "favorite_count": 0, "answer_count": 1, "score": 1, "last_activity_date": 1500487683, "creation_date": 1500355978, "question_id": 45158296, "link": "https://stackoverflow.com/questions/45158296/concise-multi-line-substring-extraction", "title": "Concise multi-line substring extraction", "body": "<p>Ok, some shell magic I know, but my head would not parse required <code>sed</code> complications at this time of the day so I tried <code>perl</code>. Now haha, what a variable space explosion... but well got around it somehow, only took me an hour. S0Oo. Abusing my shell for REPL to try extracting names and versions from the android installed packages list..</p>\n\n<pre><code>dumpsys package packages &gt; dump\n( set -xv; while perl -ne \"$(rlwrap cat)\" &lt; dump; do eval printf \"=%.s\" {1..$(tput cols)}; echo; done; )\n</code></pre>\n\n<p>I figured this to work:</p>\n\n<pre><code> dumpsys package packages|perl -ne 'if (/Package \\[(.*)\\]/g) {print \"$1 -- \"}; if (/versionName=(.*)/g) {print \"$1\\n\"}'|sort\n</code></pre>\n\n<p>How can this be shortened? <code>dumpsys</code> output looks like this:</p>\n\n<pre><code>  Package [org.fdroid.fdroid.privileged] (64fb46e0):\n    userId=10022 gids=[]\n    pkg=Package{6501d0a8 org.fdroid.fdroid.privileged}\n    codePath=/system/priv-app/FDroidPrivileged.apk\n    resourcePath=/system/priv-app/FDroidPrivileged.apk\n    nativeLibraryPath=/data/app-lib/FDroidPrivileged\n    versionCode=1050 targetSdk=22\n    versionName=0.1\n    applicationInfo=ApplicationInfo{64f94838 org.fdroid.fdroid.privileged}\n    flags=[ HAS_CODE ALLOW_CLEAR_USER_DATA ]\n    dataDir=null\n    supportsScreens=[small, medium, large, xlarge, resizeable, anyDensity]\n    timeStamp=2016-02-25 08:36:51\n    firstInstallTime=2016-02-25 08:36:51\n    lastUpdateTime=2016-02-25 08:36:51\n    signatures=PackageSignatures{64fb4818 []}\n    permissionsFixed=false haveGids=false installStatus=1\n    pkgFlags=[ SYSTEM PRIVILEGED ]\n    User 0:  installed=true blocked=false stopped=false notLaunched=false enabled=0\n    grantedPermissions:\n      android.permission.INSTALL_PACKAGES\n      android.permission.DELETE_PACKAGES\n  Package [ds.cpuoverlay] (64f98b70):\n    userId=10048 gids=[3003, 1028, 1015, 1023]\n    pkg=Package{64fd32a8 ds.cpuoverlay}\n    codePath=/data/app/ds.cpuoverlay-1.apk\n    resourcePath=/data/app/ds.cpuoverlay-1.apk\n    nativeLibraryPath=/data/app-lib/ds.cpuoverlay-1\n    versionCode=83 targetSdk=22\n    versionName=5.7.0\n    applicationInfo=ApplicationInfo{6514bcb0 ds.cpuoverlay}\n    flags=[ HAS_CODE ALLOW_CLEAR_USER_DATA ALLOW_BACKUP ]\n    dataDir=/data/data/ds.cpuoverlay\n    supportsScreens=[small, medium, large, xlarge, resizeable, anyDensity]\n    timeStamp=2017-06-21 10:19:53\n    firstInstallTime=2017-02-05 17:28:29\n    lastUpdateTime=2017-06-21 10:19:55\n    signatures=PackageSignatures{64f98c38 [64f999e8]}\n    permissionsFixed=true haveGids=true installStatus=1\n    pkgFlags=[ HAS_CODE ALLOW_CLEAR_USER_DATA ALLOW_BACKUP ]\n    User 0:  installed=true blocked=false stopped=false notLaunched=false enabled=0\n    ....\n</code></pre>\n"}, {"tags": ["bash", "perl", "unix", "awk"], "comments": [{"owner": {"reputation": 12620, "user_id": 4687135, "user_type": "registered", "accept_rate": 67, "profile_image": "https://www.gravatar.com/avatar/386484f527a8df3c1fdd3e2dde112533?s=128&d=identicon&r=PG", "display_name": "Eric Renouf", "link": "https://stackoverflow.com/users/4687135/eric-renouf"}, "edited": false, "score": 3, "creation_date": 1500337638, "post_id": 45155410, "comment_id": 77280104, "body": "Are you looking for something that will find numbers within curly braces which might themselves be nested, and then double each number that&#39;s found?  Please <a href=\"https://stackoverflow.com/posts/45155410/edit\">edit</a> your question to show some sample inputs and desired outputs"}, {"owner": {"reputation": 185733, "user_id": 152948, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/194ef8f807c34a9d7aab0e11a8674768?s=128&d=identicon&r=PG", "display_name": "hobbs", "link": "https://stackoverflow.com/users/152948/hobbs"}, "edited": false, "score": 2, "creation_date": 1500337786, "post_id": 45155410, "comment_id": 77280134, "body": "Agreed. Yes, it&#39;s possible in general, but without a <i>specific example</i> of what you want to achieve, this isn&#39;t a question that&#39;s amenable to good answers."}, {"owner": {"reputation": 318, "user_id": 2391326, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/95e9458fd7b6b50fe5057750fa14c6ed?s=128&d=identicon&r=PG", "display_name": "SulfoCyaNate", "link": "https://stackoverflow.com/users/2391326/sulfocyanate"}, "edited": false, "score": 0, "creation_date": 1500412817, "post_id": 45155410, "comment_id": 77323140, "body": "Thank you, I added a specific example."}, {"owner": {"reputation": 79972, "user_id": 298607, "user_type": "registered", "accept_rate": 88, "profile_image": "https://i.stack.imgur.com/DVW9g.jpg?s=128&g=1", "display_name": "dawg", "link": "https://stackoverflow.com/users/298607/dawg"}, "edited": false, "score": 1, "creation_date": 1500466946, "post_id": 45155410, "comment_id": 77347916, "body": "Your examples are not floats. Those are ints."}], "answers": [{"tags": [], "owner": {"reputation": 79972, "user_id": 298607, "user_type": "registered", "accept_rate": 88, "profile_image": "https://i.stack.imgur.com/DVW9g.jpg?s=128&g=1", "display_name": "dawg", "link": "https://stackoverflow.com/users/298607/dawg"}, "is_accepted": false, "score": 0, "last_activity_date": 1500438256, "last_edit_date": 1500438256, "creation_date": 1500341899, "answer_id": 45156091, "question_id": 45155410, "link": "https://stackoverflow.com/questions/45155410/is-there-a-way-to-operate-on-the-numbers-within-brackets-in-bash/45156091#45156091", "title": "Is there a way to operate on the numbers within brackets in bash?", "body": "<p>Here is an example in Ruby. </p>\n\n<pre><code>$ echo \"Arbitrary text here {{1.22 -3.55} {6.77 1e66}} arbitrary text here\" | \n  ruby -lane 'p $_[/^[^{]*/] &lt;&lt; \n                    $_[/{.*}/].gsub!(/[^ {}]+/) {|f| f.to_f*2} &lt;&lt;\n                    $_[/[^}]*$/]'\n\"Arbitrary text here {{2.44 -7.1} {13.54 2.0e+66}} arbitrary text here\"\n</code></pre>\n\n<p>In Perl:</p>\n\n<pre><code>$ echo \"Arbitrary text here {{1.22 -3.55} {6.77 1e66}} arbitrary text here\" | \nperl -lane '$lh = $1 if m/(^[^{]*)/; \n            $rh = $1 if m/([^}]*)$/;\n            $tgt = $1 if m/(\\{.*\\})/;\n            $tgt =~ s/([^{} ]+)/$1*2/ge;  # the \"e\" executes the sub as Perl code\n            print \"$lh$tgt$rh\\n\";'\nArbitrary text here {{2.44 -7.1} {13.54 2e+66}} arbitrary text here\n</code></pre>\n\n<p>Both approaches here are treating the opening <code>{</code> and closing <code>}</code> as the start of 'look for a float and do something with it' behavior. There is no parsing for balanced braces for example. Both Perl and Ruby will treat non digits as <code>0.0</code> if standalone in this case or the termination of the digits if inside a string of digits:</p>\n\n<pre><code>$ echo \"Arbitrary text here {{1.22 -3.55 aa} {6s.77 1ye66}} arbitrary text here\" | \nperl -lane '$lh = $1 if m/(^[^{]*)/; \n            $rh = $1 if m/([^}]*)$/;\n            $tgt = $1 if m/(\\{.*\\})/;\n            $tgt =~ s/([^{} ]+)/$1*2/ge;  # the \"e\" executes the sub as Perl code\n            print \"$lh$tgt$rh\\n\";'\nArbitrary text here {{2.44 -7.1 0} {12 2}} arbitrary text here\n</code></pre>\n\n<p>That may or may not be a feature...</p>\n\n<hr>\n\n<p>With you update. Works great with integers also:</p>\n\n<pre><code>$ echo \"Arbitrary text1 here {{1 2} {3 4}} arbitrary text1 here\nArbitrary text2 here {{2 4} {6 8}} arbitrary text2 here\nArbitrary text2p5 here\nArbitrary text3 here {{3 6} {9 12}} arbitrary text3 here\nArbitrary text4 here {{4 8} {12 16}} arbitrary text4 here\" | \nperl -lane '$rh=$lh=$tgt=\"\";\n        $lh = $1 if m/(^[^{]*)/; \n        $rh = $1 if m/([^}]*)$/;\n        $tgt = $1 if m/(\\{.*\\})/;\n        $tgt =~ s/([^{} ]+)/$1*2/ge;  # the \"e\" executes the sub as Perl code\n        if ($rh &amp;&amp; $lh &amp;&amp; $tgt) {\n            print \"$lh$tgt$rh\" ; \n        } else {\n            print $_;    \n        }'\nArbitrary text1 here {{2 4} {6 8}} arbitrary text1 here\nArbitrary text2 here {{4 8} {12 16}} arbitrary text2 here\nArbitrary text2p5 here\nArbitrary text3 here {{6 12} {18 24}} arbitrary text3 here\nArbitrary text4 here {{8 16} {24 32}} arbitrary text4 here\n</code></pre>\n"}, {"tags": [], "owner": {"reputation": 53041, "user_id": 4653379, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/b3953dbedd0dabff5cbc3db9b0835b14?s=128&d=identicon&r=PG&f=1", "display_name": "zdim", "link": "https://stackoverflow.com/users/4653379/zdim"}, "is_accepted": true, "score": 1, "last_activity_date": 1500501522, "last_edit_date": 1500501522, "creation_date": 1500344329, "answer_id": 45156420, "question_id": 45155410, "link": "https://stackoverflow.com/questions/45155410/is-there-a-way-to-operate-on-the-numbers-within-brackets-in-bash/45156420#45156420", "title": "Is there a way to operate on the numbers within brackets in bash?", "body": "<p>You can capture the needed patterns and rewrite the string using their replacements.</p>\n\n<p>Here is a basic approach: capture the components first, process them, then reassemble</p>\n\n<pre><code>use warnings;\nuse strict;\n\nmy $str = 'Arbitrary text here {{1 2} {3 4}} arbitrary text here';\n\nmy @parts = $str =~ /(.*?){{(\\d+) (\\d+)} {(\\d+) (\\d+)}}(.*)/;\n\n# If we expect only lines in the above format test and handle the error\nif (@parts != 6) {\n    die \"Didn't find expected patterns in: $str\";\n}\n\nmy $pre_text  = shift @parts;\nmy $post_text = pop @parts;\n\nmy ($r1, $r2, $r3, $r4) = map { $_*2 } @parts;\n\nmy $result = $pre_text . \"{{$r1 $r2}{$r3 $r4}}\" . $post_text;\n\nprint $result, \"\\n\";\n</code></pre>\n\n<p>The code assumes the exact format of input as shown. One advantage of this \"manual,\" step-by-step approach is that it is easier to adjust each part of the process as the need may arise.</p>\n\n<hr>\n\n<p>This can be done in one regex. Since blindly trusting the expected data format is mostly a very bad idea we can put the replacement code in a sub, \nso that matches can be checked and processing more easily adjusted as needed</p>\n\n<pre><code>sub repl {\n    my @nums = @_;\n    die \"Expected four numbers, got: @nums\" if @nums != 4;\n\n    my ($r1, $r2, $r3, $r4) = map { $_ * 2 } @nums;    \n\n    return \"{{$r1 $r2} {$r3 $r4}}\";\n}\n\n$str =~ s/{{(\\d+) (\\d+)} {(\\d+) (\\d+)}}/repl($1, $2, $3, $4)/e;\n</code></pre>\n\n<p>This also considerably cleans up the regex itself. </p>\n\n<p>If the pattern isn't matched then nothing happens and <code>$str</code> stays unchanged. If we expect only lines in this format then we may want to know about a failed match. One way to get to know about it is</p>\n\n<pre><code>if (not $str =~ s/.../) { warn \"Failed match on: $str\" }\n</code></pre>\n\n<p>since the substitution operator <code>s/</code> returns the number of substituions made.</p>\n\n<hr>\n\n<p><strong>Update</strong> to provided <strong>input examples</strong></p>\n\n<p>The single-regex approach above, with a file <code>input.txt</code> with lines of input</p>\n\n<pre><code>use warnings;\nuse strict;\n\nmy $file = 'input.txt';\nopen my $fh, '&lt;', $file  or die \"Can't open $file: $!\";\n\nwhile (&lt;$fh&gt;) {\n    s/{{(\\d+) (\\d+)} {(\\d+) (\\d+)}}/repl($1, $2, $3, $4)/e;\n    print;\n}\n\nsub repl {\n    my @nums = @_; \n    die \"Expected four numbers, got: @nums\" if @nums != 4;\n    my ($r1, $r2, $r3, $r4) = map { $_ * 2 } @nums;    \n    return \"{{$r1 $r2} {$r3 $r4}}\";\n}\n</code></pre>\n\n<p>prints</p>\n\n<pre>\nArbitrary text1 here {{2 4} {6 8}} arbitrary text1 here\nArbitrary text2 here {{4 8} {12 16}} arbitrary text2 here\nArbitrary text2p5 here\nArbitrary text3 here {{6 12} {18 24}} arbitrary text3 here\nArbitrary text4 here {{8 16} {24 32}} arbitrary text4 here\n</pre>\n\n<p>The line <code>die ...</code> in the sub is there merely to protect it in general, perhaps in other uses. In the regex where we use it the sub never gets called unless all four matches were found.</p>\n\n<p>The first approach above, with that code placed in a loop over input lines,  prints the same.</p>\n"}], "owner": {"reputation": 318, "user_id": 2391326, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/95e9458fd7b6b50fe5057750fa14c6ed?s=128&d=identicon&r=PG", "display_name": "SulfoCyaNate", "link": "https://stackoverflow.com/users/2391326/sulfocyanate"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 123, "favorite_count": 0, "accepted_answer_id": 45156420, "answer_count": 2, "score": 0, "last_activity_date": 1500501522, "creation_date": 1500336315, "last_edit_date": 1592644375, "question_id": 45155410, "link": "https://stackoverflow.com/questions/45155410/is-there-a-way-to-operate-on-the-numbers-within-brackets-in-bash", "title": "Is there a way to operate on the numbers within brackets in bash?", "body": "<p>I have an input file with some lines of the format -</p>\n<blockquote>\n<p><em>Arbitrary text here {{x1 x2} {x3 x4}} arbitrary text here</em></p>\n</blockquote>\n<p>where, x1, x2, x3 and x4 are floats and/or ints. Is there a way to, say, double each of these numbers (always enclosed within curly braces) by using an awk/perl/bash script?</p>\n<p>I tried using variants of the following, but I am new to awk, and have not been able to even isolate the number within the curly braces -</p>\n<blockquote>\n<p>awk -F( '{gsub(&quot;{}&quot;, &quot; &quot;, $NF); print $NF}'</p>\n</blockquote>\n<p>Example -</p>\n<p>Input:</p>\n<blockquote>\n<p><em>Arbitrary text1 here {{1 2} {3 4}} arbitrary text1 here</em></p>\n<p><em>Arbitrary text2 here {{2.0 4} {6.0 8}} arbitrary text2 here</em></p>\n<p><em>Arbitrary text2p5 here</em></p>\n<p><em>Arbitrary text3 here {{3 6} {9 12}} arbitrary text3 here</em></p>\n<p><em>Arbitrary text4 here {{4 8} {12 16}} arbitrary text4 here</em></p>\n</blockquote>\n<p>Output:</p>\n<blockquote>\n<p><em>Arbitrary text1 here {{2 4} {6 8}} arbitrary text1 here</em></p>\n<p><em>Arbitrary text2 here {{4.0 8} {12.0 16}} arbitrary text2 here</em></p>\n<p><em>Arbitrary text2p5 here</em></p>\n<p><em>Arbitrary text3 here {{6 12} {18 24}} arbitrary text3 here</em></p>\n<p><em>Arbitrary text4 here {{8 16} {24 32}} arbitrary text4 here</em></p>\n</blockquote>\n"}, {"tags": ["perl"], "comments": [{"owner": {"reputation": 123805, "user_id": 622310, "user_type": "registered", "accept_rate": 33, "profile_image": "https://www.gravatar.com/avatar/8b6d35219e1808520bc238b28161e2e6?s=128&d=identicon&r=PG", "display_name": "Borodin", "link": "https://stackoverflow.com/users/622310/borodin"}, "edited": false, "score": 2, "creation_date": 1500335563, "post_id": 45154732, "comment_id": 77279642, "body": "<i>&quot;<code>if not</code> considers <code>not</code> to be part of <code>EXPR</code>, whereas <code>unless</code> doesn&#39;t consider it to be part of <code>EXPR</code>&quot;</i> This doesn&#39;t make much sense. <code>not</code> is an <i>operator</i>, whereas <code>if</code> and <code>unless</code> are flow-control language words. In your <code>unless</code> case there is no <code>not</code> at all, so &quot;considering <code>not</code> to be part of the expression&quot; doesn&#39;t apply. Had you also tried <code>unless not ...</code> then you would find that a <code>not</code> is <i>always</i> part of an expression, just as <code>!</code> is. <code>if</code> and <code>unless</code> simply behave in opposite ways according to the <i>truth</i> of the expression."}, {"owner": {"reputation": 146, "user_id": 7408563, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/U871e.jpg?s=128&g=1", "display_name": "asthman", "link": "https://stackoverflow.com/users/7408563/asthman"}, "edited": false, "score": 0, "creation_date": 1500343124, "post_id": 45154732, "comment_id": 77281380, "body": "If the &quot;$value % 3&quot; is false, the &quot;return&quot; EXPR can be found. If the &quot;$value % 3&quot; is true, the &quot;return&quot; EXPR can NOT be found, &quot;if_not&quot; will return &quot;not $value % 3&quot; and &quot;unless&quot; will return &quot;$value % 3&quot;."}, {"owner": {"reputation": 53041, "user_id": 4653379, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/b3953dbedd0dabff5cbc3db9b0835b14?s=128&d=identicon&r=PG&f=1", "display_name": "zdim", "link": "https://stackoverflow.com/users/4653379/zdim"}, "edited": false, "score": 0, "creation_date": 1500347411, "post_id": 45154732, "comment_id": 77282338, "body": "I think that the last statement before &quot;Question&quot; may have mislead.  The point here is that <code>return if EXPR;</code> seems to have <code>if</code> (itself) be the last processed thing (so first <code>EXPR</code> is evaluated then <code>if</code> of its result), while <code>return unless EXPR;</code> seems to have <code>EXPR</code> processed last.  (It&#39;s not about <code>not</code>.  It&#39;s not about <code>return</code>-ing either.)  If <code>if EXPR</code> and <code>unless EXPR</code> result in a different order of evaluations I think that that is significant."}, {"owner": {"reputation": 123805, "user_id": 622310, "user_type": "registered", "accept_rate": 33, "profile_image": "https://www.gravatar.com/avatar/8b6d35219e1808520bc238b28161e2e6?s=128&d=identicon&r=PG", "display_name": "Borodin", "link": "https://stackoverflow.com/users/622310/borodin"}, "reply_to_user": {"reputation": 53041, "user_id": 4653379, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/b3953dbedd0dabff5cbc3db9b0835b14?s=128&d=identicon&r=PG&f=1", "display_name": "zdim", "link": "https://stackoverflow.com/users/4653379/zdim"}, "edited": false, "score": 0, "creation_date": 1500373813, "post_id": 45154732, "comment_id": 77296200, "body": "@zdim: Neither <code>if</code> nor <code>unless</code> return a value and so cannot be &quot;evaluated&quot;. The value being returned in the case where there is no explicit <code>return</code> statement is <code>EXPR</code>, which is <code>$value % 3</code> or <code>not $value % 3</code>.  I don&#39;t see why you&#39;re saying <b><i>&quot;It&#39;s not about <code>not</code>. It&#39;s not about <code>return</code>-ing either.&quot;</i></b> when it very clearly is. In both cases, <code>EXPR</code> is evaluated, then the <code>return</code> may be executed, depending on the value of <code>EXPR</code>."}, {"owner": {"reputation": 123805, "user_id": 622310, "user_type": "registered", "accept_rate": 33, "profile_image": "https://www.gravatar.com/avatar/8b6d35219e1808520bc238b28161e2e6?s=128&d=identicon&r=PG", "display_name": "Borodin", "link": "https://stackoverflow.com/users/622310/borodin"}, "reply_to_user": {"reputation": 53041, "user_id": 4653379, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/b3953dbedd0dabff5cbc3db9b0835b14?s=128&d=identicon&r=PG&f=1", "display_name": "zdim", "link": "https://stackoverflow.com/users/4653379/zdim"}, "edited": false, "score": 0, "creation_date": 1500374194, "post_id": 45154732, "comment_id": 77296474, "body": "@zdim: Please explain this idea about &quot;different orders of evaluation&quot;."}, {"owner": {"reputation": 123805, "user_id": 622310, "user_type": "registered", "accept_rate": 33, "profile_image": "https://www.gravatar.com/avatar/8b6d35219e1808520bc238b28161e2e6?s=128&d=identicon&r=PG", "display_name": "Borodin", "link": "https://stackoverflow.com/users/622310/borodin"}, "edited": false, "score": 0, "creation_date": 1500388729, "post_id": 45154732, "comment_id": 77307867, "body": "I am voting to close this question on the grounds that the situation amounts to very bad programming, asking for some of the other ways Perl can be misused is off-topic. The OP appears unable or unwilling to accept any explanation of the reason behind it. It is not the intellectual curiosity that they appear to think it is."}, {"owner": {"reputation": 34726, "user_id": 133939, "user_type": "registered", "accept_rate": 95, "profile_image": "https://i.stack.imgur.com/pN9C5.png?s=128&g=1", "display_name": "Zaid", "link": "https://stackoverflow.com/users/133939/zaid"}, "reply_to_user": {"reputation": 123805, "user_id": 622310, "user_type": "registered", "accept_rate": 33, "profile_image": "https://www.gravatar.com/avatar/8b6d35219e1808520bc238b28161e2e6?s=128&d=identicon&r=PG", "display_name": "Borodin", "link": "https://stackoverflow.com/users/622310/borodin"}, "edited": false, "score": 0, "creation_date": 1500392516, "post_id": 45154732, "comment_id": 77310982, "body": "@Borodin You are entitled to your opinion but I take offence to being treated like a troll who lacks &quot;intellectual curiosity&quot;. It takes time and effort to put together a question like this and I&#39;ve been around SE for long enough to know the rules of engagement (by the looks of your profile, at least longer than you). As the OP I reserve the right to decide whether or not your answer addresses my question (and I have said on multiple occasions that I&#39;m looking for examples, not explanations). If you insist on instilling best practices that really belongs in another question."}, {"owner": {"reputation": 123805, "user_id": 622310, "user_type": "registered", "accept_rate": 33, "profile_image": "https://www.gravatar.com/avatar/8b6d35219e1808520bc238b28161e2e6?s=128&d=identicon&r=PG", "display_name": "Borodin", "link": "https://stackoverflow.com/users/622310/borodin"}, "edited": false, "score": 0, "creation_date": 1500393421, "post_id": 45154732, "comment_id": 77311623, "body": "@Zaid: <i>&quot;I take offence to being treated like a troll who lacks</i> <b>&quot;intellectual curiosity&quot;</b> &quot;* You are offended for no reason. That is not what I said."}, {"owner": {"reputation": 53041, "user_id": 4653379, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/b3953dbedd0dabff5cbc3db9b0835b14?s=128&d=identicon&r=PG&f=1", "display_name": "zdim", "link": "https://stackoverflow.com/users/4653379/zdim"}, "reply_to_user": {"reputation": 123805, "user_id": 622310, "user_type": "registered", "accept_rate": 33, "profile_image": "https://www.gravatar.com/avatar/8b6d35219e1808520bc238b28161e2e6?s=128&d=identicon&r=PG", "display_name": "Borodin", "link": "https://stackoverflow.com/users/622310/borodin"}, "edited": false, "score": 0, "creation_date": 1500398138, "post_id": 45154732, "comment_id": 77314570, "body": "@Borodin  It appeared that <code>if EXPR</code> and <code>unless EXPR</code> result in what I called &quot;different order of evaluation&quot; -- in the first one <code>EXPR</code> is evaluated first and then <code>if</code>, the other time apparently <code>EXPR</code> is the last thing evaluated.  This is how it seemed and the question is about that. It came out of a discussion (where I thought that <code>unless</code> is processed as <code>if not</code>), and it certainly seemed interesting.  In the end, your answer (and comment) explain it.  So think that it is a good question and a good answer.  I don&#39;t quite understand the close vote."}, {"owner": {"reputation": 123805, "user_id": 622310, "user_type": "registered", "accept_rate": 33, "profile_image": "https://www.gravatar.com/avatar/8b6d35219e1808520bc238b28161e2e6?s=128&d=identicon&r=PG", "display_name": "Borodin", "link": "https://stackoverflow.com/users/622310/borodin"}, "reply_to_user": {"reputation": 53041, "user_id": 4653379, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/b3953dbedd0dabff5cbc3db9b0835b14?s=128&d=identicon&r=PG&f=1", "display_name": "zdim", "link": "https://stackoverflow.com/users/4653379/zdim"}, "edited": false, "score": 0, "creation_date": 1500399127, "post_id": 45154732, "comment_id": 77315165, "body": "@zdim: But <code>if</code> and <code>unless</code> aren&#39;t &quot;evaluated&quot;. They simply choose which of two statements will be the next to execute, and clearly <code>EXPR</code> <i>must</i> be evaluated before either <code>if</code> or <code>unless</code> as the value is required to make the choice. I didn&#39;t have a problem with the question at first\u2014after all I answered it\u2014but when the OP started insisting that he wanted examples of <i>where else</i> <code>unless</code> and <code>if not</code>, and then that I must exclude all situations with parentheses, it started to become artificial. If they would explain how they wanted to use the information then it may redeem the question."}, {"owner": {"reputation": 53041, "user_id": 4653379, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/b3953dbedd0dabff5cbc3db9b0835b14?s=128&d=identicon&r=PG&f=1", "display_name": "zdim", "link": "https://stackoverflow.com/users/4653379/zdim"}, "reply_to_user": {"reputation": 123805, "user_id": 622310, "user_type": "registered", "accept_rate": 33, "profile_image": "https://www.gravatar.com/avatar/8b6d35219e1808520bc238b28161e2e6?s=128&d=identicon&r=PG", "display_name": "Borodin", "link": "https://stackoverflow.com/users/622310/borodin"}, "edited": false, "score": 0, "creation_date": 1500399567, "post_id": 45154732, "comment_id": 77315397, "body": "@Borodin  Right, <code>EXPR</code> must go first -- but in that example (from another question) it seemed to us that in <code>if not EXPR</code> it wasn&#39;t, which would be very strange (while the missing <code>return</code> could explain it). Thus the question. I think that Zaid asked of possible other such behavior, assuming that they indeed behave differently in this context.  In my understanding they ask about other cases precisely because this one (with incomplete <code>return</code>s) is not good practice and is artifical.  So the question is about are there other such situtation, which may come up in &quot;normal&quot; code."}, {"owner": {"reputation": 53041, "user_id": 4653379, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/b3953dbedd0dabff5cbc3db9b0835b14?s=128&d=identicon&r=PG&f=1", "display_name": "zdim", "link": "https://stackoverflow.com/users/4653379/zdim"}, "reply_to_user": {"reputation": 123805, "user_id": 622310, "user_type": "registered", "accept_rate": 33, "profile_image": "https://www.gravatar.com/avatar/8b6d35219e1808520bc238b28161e2e6?s=128&d=identicon&r=PG", "display_name": "Borodin", "link": "https://stackoverflow.com/users/622310/borodin"}, "edited": false, "score": 0, "creation_date": 1500399701, "post_id": 45154732, "comment_id": 77315468, "body": "@Borodin  In the end, per your answer, there is no &quot;different behavior&quot; -- one needs to compare <code>unless EXPR</code> with <code>if (!EXPR)</code> (but of course), and they both return the last expression, <code>!EXPR</code> though in the second case, so it&#39;s false (empty string).  But the particular context of the original question (and the discussion, where I blame myself for slipping in a wrong statement) obscured it."}, {"owner": {"reputation": 123805, "user_id": 622310, "user_type": "registered", "accept_rate": 33, "profile_image": "https://www.gravatar.com/avatar/8b6d35219e1808520bc238b28161e2e6?s=128&d=identicon&r=PG", "display_name": "Borodin", "link": "https://stackoverflow.com/users/622310/borodin"}, "reply_to_user": {"reputation": 53041, "user_id": 4653379, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/b3953dbedd0dabff5cbc3db9b0835b14?s=128&d=identicon&r=PG&f=1", "display_name": "zdim", "link": "https://stackoverflow.com/users/4653379/zdim"}, "edited": false, "score": 0, "creation_date": 1500400172, "post_id": 45154732, "comment_id": 77315766, "body": "@zdim: I think we agree! <code>return &quot;string&quot; unless expression()</code> returns <code>expression() or &quot;string&quot;</code> while <code>return &quot;string&quot; if not expression()</code> returns <code>not( expression() ) or &quot;string&quot;</code> which will always be <code>1</code> if <code>expression()</code> is false. I also think that a question about <i>&quot;are there other such situtation, which may come up in &quot;normal&quot; code&quot;</i> would need to be closed as &quot;too broad&quot;."}, {"owner": {"reputation": 123805, "user_id": 622310, "user_type": "registered", "accept_rate": 33, "profile_image": "https://www.gravatar.com/avatar/8b6d35219e1808520bc238b28161e2e6?s=128&d=identicon&r=PG", "display_name": "Borodin", "link": "https://stackoverflow.com/users/622310/borodin"}, "reply_to_user": {"reputation": 53041, "user_id": 4653379, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/b3953dbedd0dabff5cbc3db9b0835b14?s=128&d=identicon&r=PG&f=1", "display_name": "zdim", "link": "https://stackoverflow.com/users/4653379/zdim"}, "edited": false, "score": 0, "creation_date": 1500538072, "post_id": 45154732, "comment_id": 77383800, "body": "@zdim: Yes, I sympathise. I really had to make a conscious effort <i>not</i> to chase experience points before I felt better about the several down votes that I get each week. Most of the time I never get to find out what was so egregious about my posts, but I am certain that a lot of it is politically motivated. If I ever see a problem with a post I will simply point it out in a comment or edit the post, but surprisingly many people like to hang on to their misperceptions anyway, and at that point the only remaining option is to down vote."}, {"owner": {"reputation": 53041, "user_id": 4653379, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/b3953dbedd0dabff5cbc3db9b0835b14?s=128&d=identicon&r=PG&f=1", "display_name": "zdim", "link": "https://stackoverflow.com/users/4653379/zdim"}, "reply_to_user": {"reputation": 123805, "user_id": 622310, "user_type": "registered", "accept_rate": 33, "profile_image": "https://www.gravatar.com/avatar/8b6d35219e1808520bc238b28161e2e6?s=128&d=identicon&r=PG", "display_name": "Borodin", "link": "https://stackoverflow.com/users/622310/borodin"}, "edited": false, "score": 0, "creation_date": 1500542162, "post_id": 45154732, "comment_id": 77386881, "body": "@Borodin  A few each week?  I am sorry. The downvotes are definitely needed, but I do not like those &quot;personal&quot; ones.  They just harm <i>everybody</i> (never mind my mood or &quot;points&quot;).  They misinform the future readers.  It&#39;s just bad when it&#39;s not based on something."}, {"owner": {"reputation": 53041, "user_id": 4653379, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/b3953dbedd0dabff5cbc3db9b0835b14?s=128&d=identicon&r=PG&f=1", "display_name": "zdim", "link": "https://stackoverflow.com/users/4653379/zdim"}, "reply_to_user": {"reputation": 123805, "user_id": 622310, "user_type": "registered", "accept_rate": 33, "profile_image": "https://www.gravatar.com/avatar/8b6d35219e1808520bc238b28161e2e6?s=128&d=identicon&r=PG", "display_name": "Borodin", "link": "https://stackoverflow.com/users/622310/borodin"}, "edited": false, "score": 1, "creation_date": 1500542350, "post_id": 45154732, "comment_id": 77387019, "body": "@Borodin Agree -- the first two paragraphs in your answer cleared that I think. However, I disagree that the question &quot;<i>would need to be closed</i>&quot;. I think that it is a good question. The perceived difference in behavior of basic constructs would be significant and should be brought up, by all means. It doesn&#39;t matter much how it&#39;s stated really -- for something like that it is OK to ask for &quot;other examples.&quot; The explained &quot;non-difference&quot; in operation between <code>unless</code> and <code>if</code> is important to bring up, too, since <code>unless</code> is commonly taken as <code>if not</code>."}, {"owner": {"reputation": 53041, "user_id": 4653379, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/b3953dbedd0dabff5cbc3db9b0835b14?s=128&d=identicon&r=PG&f=1", "display_name": "zdim", "link": "https://stackoverflow.com/users/4653379/zdim"}, "reply_to_user": {"reputation": 123805, "user_id": 622310, "user_type": "registered", "accept_rate": 33, "profile_image": "https://www.gravatar.com/avatar/8b6d35219e1808520bc238b28161e2e6?s=128&d=identicon&r=PG", "display_name": "Borodin", "link": "https://stackoverflow.com/users/622310/borodin"}, "edited": false, "score": 0, "creation_date": 1500542509, "post_id": 45154732, "comment_id": 77387156, "body": "@Borodin Apparently, my early comment stands corrected -- it <i>is</i> about the <code>not</code>, in a way."}], "answers": [{"comments": [{"owner": {"reputation": 34726, "user_id": 133939, "user_type": "registered", "accept_rate": 95, "profile_image": "https://i.stack.imgur.com/pN9C5.png?s=128&g=1", "display_name": "Zaid", "link": "https://stackoverflow.com/users/133939/zaid"}, "edited": false, "score": 0, "creation_date": 1500374193, "post_id": 45155144, "comment_id": 77296473, "body": "I thought the question made it clear, but I wasn&#39;t asking for an explanation of why there is a difference in behaviour between the two; I wanted to know if there are other examples where <code>unless</code> and <code>if not</code> behave differently. We are so used to seeing that <code>unless</code> can be rewritten as <code>if not</code> that the differences in the example above came as a bit of a surprise initially. Are there any other examples where the result of using <code>unless</code> vs <code>if not</code> results in different outcomes?"}, {"owner": {"reputation": 123805, "user_id": 622310, "user_type": "registered", "accept_rate": 33, "profile_image": "https://www.gravatar.com/avatar/8b6d35219e1808520bc238b28161e2e6?s=128&d=identicon&r=PG", "display_name": "Borodin", "link": "https://stackoverflow.com/users/622310/borodin"}, "reply_to_user": {"reputation": 34726, "user_id": 133939, "user_type": "registered", "accept_rate": 95, "profile_image": "https://i.stack.imgur.com/pN9C5.png?s=128&g=1", "display_name": "Zaid", "link": "https://stackoverflow.com/users/133939/zaid"}, "edited": false, "score": 0, "creation_date": 1500374689, "post_id": 45155144, "comment_id": 77296866, "body": "@Zaid: Answering your question directly is pretty much impossible. Any other such circumstances would be as obscure as this one, and just because I cannot immediately imagine any other cases doesn&#39;t mean there are none. Your question comes from a misconception that the equivalence of <code>unless</code> and <code>if not</code> <i>doesn&#39;t mean that you can do a naive string replacement of one with the other</i> without changing the semantics of your code. I hoped that, if I explained the source of the discrepancy, you would be able to spot and avoid similar situations yourself."}, {"owner": {"reputation": 123805, "user_id": 622310, "user_type": "registered", "accept_rate": 33, "profile_image": "https://www.gravatar.com/avatar/8b6d35219e1808520bc238b28161e2e6?s=128&d=identicon&r=PG", "display_name": "Borodin", "link": "https://stackoverflow.com/users/622310/borodin"}, "reply_to_user": {"reputation": 34726, "user_id": 133939, "user_type": "registered", "accept_rate": 95, "profile_image": "https://i.stack.imgur.com/pN9C5.png?s=128&g=1", "display_name": "Zaid", "link": "https://stackoverflow.com/users/133939/zaid"}, "edited": false, "score": 0, "creation_date": 1500375295, "post_id": 45155144, "comment_id": 77297293, "body": "@Zaid: What people mean when they say <code>unless</code> is equivalent to <code>if not</code> is that <code>unless</code> and <code>if</code>may be swapped as long as their boolean control expression is also negated. You can&#39;t reliably invert the sense of a boolean expression by just putting <code>not</code> in front of it, and have to apply some intelligence to the rule. Note, for instance that an ordinary <code>unless</code> (not a statement modifier) has parentheses around its expression. But that doesn&#39;t mean that <code>unless ( $value ) { ... }</code> can be replaced by <code>if not ( $value ) { ... }</code>. That won&#39;t even compile."}, {"owner": {"reputation": 34726, "user_id": 133939, "user_type": "registered", "accept_rate": 95, "profile_image": "https://i.stack.imgur.com/pN9C5.png?s=128&g=1", "display_name": "Zaid", "link": "https://stackoverflow.com/users/133939/zaid"}, "edited": false, "score": 0, "creation_date": 1500376479, "post_id": 45155144, "comment_id": 77298123, "body": "I appreciate your efforts to explain the misconception. Please note that the purpose of this question was to document examples where the two do not yield the same outcome, not to explain why the two forms gave different results in my example. Re: <i>... other such circumstances would be as obscure as this one... because I cannot immediately imagine any other cases doesn&#39;t mean there are none</i> - I&#39;m not looking for a quick response. If there is no other example then so be it. But if (or when) a similar scenario is encountered I believe it would be useful to document it in a Q&amp;A like this one."}, {"owner": {"reputation": 34726, "user_id": 133939, "user_type": "registered", "accept_rate": 95, "profile_image": "https://i.stack.imgur.com/pN9C5.png?s=128&g=1", "display_name": "Zaid", "link": "https://stackoverflow.com/users/133939/zaid"}, "edited": false, "score": 0, "creation_date": 1500376673, "post_id": 45155144, "comment_id": 77298263, "body": "Re: <i>You can&#39;t reliably invert the sense of a boolean expression by just putting <code>not</code> in front of it</i> - to my feeble mind this is a bold claim. Could you share an example or two to clarify what you mean here?"}, {"owner": {"reputation": 123805, "user_id": 622310, "user_type": "registered", "accept_rate": 33, "profile_image": "https://www.gravatar.com/avatar/8b6d35219e1808520bc238b28161e2e6?s=128&d=identicon&r=PG", "display_name": "Borodin", "link": "https://stackoverflow.com/users/622310/borodin"}, "reply_to_user": {"reputation": 34726, "user_id": 133939, "user_type": "registered", "accept_rate": 95, "profile_image": "https://i.stack.imgur.com/pN9C5.png?s=128&g=1", "display_name": "Zaid", "link": "https://stackoverflow.com/users/133939/zaid"}, "edited": false, "score": 0, "creation_date": 1500377478, "post_id": 45155144, "comment_id": 77298854, "body": "@Zaid: <i>&quot;purpose of this question was to document examples where the two do not yield the same outcome&quot;</i> I realise that, but since it was based on a misconception of the rule, I thought it would be more useful to explain that misconception than to produce an arbitrary list of examples. There are <i>plenty</i> of other examples, such as <i>every <code>if</code> statement</i>, as I described in my last comment. But surely you don&#39;t need to be told that those won&#39;t work? And the same should apply to every other situation as long as you *understand the meaning of the equivalence."}, {"owner": {"reputation": 123805, "user_id": 622310, "user_type": "registered", "accept_rate": 33, "profile_image": "https://www.gravatar.com/avatar/8b6d35219e1808520bc238b28161e2e6?s=128&d=identicon&r=PG", "display_name": "Borodin", "link": "https://stackoverflow.com/users/622310/borodin"}, "reply_to_user": {"reputation": 34726, "user_id": 133939, "user_type": "registered", "accept_rate": 95, "profile_image": "https://i.stack.imgur.com/pN9C5.png?s=128&g=1", "display_name": "Zaid", "link": "https://stackoverflow.com/users/133939/zaid"}, "edited": false, "score": 0, "creation_date": 1500378080, "post_id": 45155144, "comment_id": 77299288, "body": "@Zaid: Sure. <code>not $i and $j</code> is different from <code>not($i and $j)</code>. <code>not $i xor $j</code> is different from <code>not($i xor $j)</code>. <code>not ($i) + $j</code> is different from <code>not(($i) + $j)</code>."}, {"owner": {"reputation": 34726, "user_id": 133939, "user_type": "registered", "accept_rate": 95, "profile_image": "https://i.stack.imgur.com/pN9C5.png?s=128&g=1", "display_name": "Zaid", "link": "https://stackoverflow.com/users/133939/zaid"}, "edited": false, "score": 0, "creation_date": 1500384487, "post_id": 45155144, "comment_id": 77304266, "body": "For the purposes of this question I think it&#39;s fair to not worry about the non-parenthesized variants, so we&#39;re comparing <code>unless(EXPR)</code> against <code>if not(EXPR)</code>."}, {"owner": {"reputation": 123805, "user_id": 622310, "user_type": "registered", "accept_rate": 33, "profile_image": "https://www.gravatar.com/avatar/8b6d35219e1808520bc238b28161e2e6?s=128&d=identicon&r=PG", "display_name": "Borodin", "link": "https://stackoverflow.com/users/622310/borodin"}, "reply_to_user": {"reputation": 34726, "user_id": 133939, "user_type": "registered", "accept_rate": 95, "profile_image": "https://i.stack.imgur.com/pN9C5.png?s=128&g=1", "display_name": "Zaid", "link": "https://stackoverflow.com/users/133939/zaid"}, "edited": false, "score": 0, "creation_date": 1500388127, "post_id": 45155144, "comment_id": 77307352, "body": "@Zaid: Then you&#39;re exploring an entirely hypothetical situation, and there&#39;s even less point in your original question. Discarding parentheses is just removing the facility for explicit control over the order of evaluation of an expression which is determined implicitly by operator priority. <code>unless $i and $j</code> is different from <code>if not $i and $j</code> <i>entirely because</i> the latter means <code>if not($i) and $j</code>. If you&#39;re prohibiting the use of parentheses then you&#39;re just making it much harder to talk about the subject."}, {"owner": {"reputation": 123805, "user_id": 622310, "user_type": "registered", "accept_rate": 33, "profile_image": "https://www.gravatar.com/avatar/8b6d35219e1808520bc238b28161e2e6?s=128&d=identicon&r=PG", "display_name": "Borodin", "link": "https://stackoverflow.com/users/622310/borodin"}, "reply_to_user": {"reputation": 34726, "user_id": 133939, "user_type": "registered", "accept_rate": 95, "profile_image": "https://i.stack.imgur.com/pN9C5.png?s=128&g=1", "display_name": "Zaid", "link": "https://stackoverflow.com/users/133939/zaid"}, "edited": false, "score": 0, "creation_date": 1500388331, "post_id": 45155144, "comment_id": 77307532, "body": "@Zaid: The bottom line is that <code>if</code> and <code>unless</code> are <i>language constructs</i> and not operators, so the distinction in this case is because the boundary between the language word and the expression is moved depending on whether you use <code>unless EXPR</code> or <code>if not EXPR</code>. I don&#39;t see the point in pursuing this question any further, especially now that you are starting to impose arbitrary conditions."}, {"owner": {"reputation": 53041, "user_id": 4653379, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/b3953dbedd0dabff5cbc3db9b0835b14?s=128&d=identicon&r=PG&f=1", "display_name": "zdim", "link": "https://stackoverflow.com/users/4653379/zdim"}, "reply_to_user": {"reputation": 34726, "user_id": 133939, "user_type": "registered", "accept_rate": 95, "profile_image": "https://i.stack.imgur.com/pN9C5.png?s=128&g=1", "display_name": "Zaid", "link": "https://stackoverflow.com/users/133939/zaid"}, "edited": false, "score": 1, "creation_date": 1500398394, "post_id": 45155144, "comment_id": 77314722, "body": "@Zaid  I believe that the first paragraph (along with the second) explains the blunder in our conversation that lead to this.  (I take credit for the blunder since I raised &quot;<i><code>unless</code> is <code>if not</code></i>&quot; error.)  We should compare <code>unless</code> with <code>if</code> (no <code>not</code>!) and then there is no confusion: <code>unless (EXPR)</code> returns the remainder,  while <code>if (!EXPR)</code> the untrue.  So the behavior is consistent. The first two paragraphs clear that.  I still think that it is a good and worthy question, and this post answers it."}, {"owner": {"reputation": 123805, "user_id": 622310, "user_type": "registered", "accept_rate": 33, "profile_image": "https://www.gravatar.com/avatar/8b6d35219e1808520bc238b28161e2e6?s=128&d=identicon&r=PG", "display_name": "Borodin", "link": "https://stackoverflow.com/users/622310/borodin"}, "reply_to_user": {"reputation": 53041, "user_id": 4653379, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/b3953dbedd0dabff5cbc3db9b0835b14?s=128&d=identicon&r=PG&f=1", "display_name": "zdim", "link": "https://stackoverflow.com/users/4653379/zdim"}, "edited": false, "score": 0, "creation_date": 1500399715, "post_id": 45155144, "comment_id": 77315477, "body": "@zdim: I think it&#39;s fine to say that <code>unless</code> is equivalent to <code>if</code> not as long as you apply some intelligence to it instead of expecting to be able to <code>s&#47;unless&#47;if not&#47;</code> a program and have it still work. To be accurate we need some parentheses. The <i>statement modifier</i> <code>... unless *expr*</code> is identical to <code>... if not(*expr*)</code> while the <i>statement</i> <code>unless ( *expr* ) { ... }</code> is identical to <code>if ( not(*expr*) ) { ... }</code>. The point is that <code>unless</code> is the <i>opposite test</i> to <code>if</code>, so the value of the <i>expression</i> must also be inverted to give the same behaviour."}, {"owner": {"reputation": 53041, "user_id": 4653379, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/b3953dbedd0dabff5cbc3db9b0835b14?s=128&d=identicon&r=PG&f=1", "display_name": "zdim", "link": "https://stackoverflow.com/users/4653379/zdim"}, "edited": false, "score": 1, "creation_date": 1500400887, "post_id": 45155144, "comment_id": 77316160, "body": "Agreed, and that is precisely what slipped, that last sentence in your comment. When I finally got to test it better I came up with <code>return unless $_[0] &gt; 5</code> against <code>return if $_[0] &lt;= 5</code> (in two subs) and the follow-up to that lit up the bulb. I think that I had had somewhere in my mind that <code>unless</code> is <code>if not</code> -- which it isn&#39;t. I do think that it is worth clearing up in a Q/A."}], "tags": [], "owner": {"reputation": 123805, "user_id": 622310, "user_type": "registered", "accept_rate": 33, "profile_image": "https://www.gravatar.com/avatar/8b6d35219e1808520bc238b28161e2e6?s=128&d=identicon&r=PG", "display_name": "Borodin", "link": "https://stackoverflow.com/users/622310/borodin"}, "is_accepted": false, "score": 3, "last_activity_date": 1500334743, "last_edit_date": 1500334743, "creation_date": 1500334059, "answer_id": 45155144, "question_id": 45154732, "link": "https://stackoverflow.com/questions/45154732/under-what-circumstances-is-unless-different-from-if-not/45155144#45155144", "title": "Under what circumstances is &quot;unless&quot; different from &quot;if not&quot;?", "body": "<p>The difference is that, for your <code>unless</code> case, the last-evaluated expression is <code>$value % 3</code> whereas for your <code>if not</code> case, the last-evaluated expression is <code>not $value % 3</code></p>\n\n<p><code>not</code> behaves as a simple operator, whereas <code>if</code> and <code>unless</code> are language constructs like <code>while</code> and <code>for</code> that aren't involved in the value of expressions</p>\n\n<p>In any case it's bad practice to rely on the returned value of a subroutine unless it has a <code>return</code> for every path, or it ends in an expression. <a href=\"https://perldoc.perl.org/perlsub.html#DESCRIPTION\" rel=\"nofollow noreferrer\"><code>perldoc perlsub</code></a> says this</p>\n\n<blockquote>\n  <p>If no\u00a0<code>return</code>\u00a0is found and if the last statement is an expression, its value is returned. If the last statement is a loop control structure like a\u00a0<code>foreach</code>\u00a0or a\u00a0<code>while</code>, the returned value is unspecified.</p>\n</blockquote>\n\n<p>So just because you think you know what a subroutine without a <code>return</code> will evaluate too, it's not actually reliable unless you <em>end</em> your subroutine with an expression, and may well change in later versions of Perl.</p>\n\n<p>Just write a <code>return</code> for the other case of your condition and your code will instantly become clearer. Or you could use a <em>conditional expression</em> which specifies the value to be returned for <em>both</em> conditions</p>\n\n<pre><code>cond_exp =&gt; sub {\n    my ( $value ) = @_;\n\n    $value % 3 ? \"\" : \"$value is a multiple of 3\";\n}\n</code></pre>\n"}], "owner": {"reputation": 34726, "user_id": 133939, "user_type": "registered", "accept_rate": 95, "profile_image": "https://i.stack.imgur.com/pN9C5.png?s=128&g=1", "display_name": "Zaid", "link": "https://stackoverflow.com/users/133939/zaid"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 208, "favorite_count": 1, "answer_count": 1, "score": 4, "last_activity_date": 1500334743, "creation_date": 1500331174, "question_id": 45154732, "link": "https://stackoverflow.com/questions/45154732/under-what-circumstances-is-unless-different-from-if-not", "title": "Under what circumstances is &quot;unless&quot; different from &quot;if not&quot;?", "body": "<p>I used to think that <code>unless</code> and <code>if not</code> were fully equivalent, but <a href=\"https://stackoverflow.com/a/45154102/133939\">this Q&amp;A</a> made me realize they can result in different output under list context:</p>\n\n\n\n<pre><code>use strict;\nuse warnings;\nuse Data::Printer;\nuse feature 'say';\n\nmy %subs = (\n              unless =&gt; sub {\n                            my ( $value ) = @_ ;\n\n                            return \"$value is a multiple of 3\"\n                              unless $value % 3 ;\n                        },\n              if_not =&gt; sub {\n                            my ( $value ) = @_ ;\n\n                            return \"$value is a multiple of 3\"\n                              if not $value % 3 ;\n                        },\n           );\n\nfor my $name ( keys %subs ) {\n\n    my $sub = $subs{$name};\n    say $name;\n    my @results = map { $sub-&gt;($_) } 1 .. 10;\n    p @results;\n}\n</code></pre>\n\n<p><strong>Output</strong></p>\n\n<pre><code>if_not\n[\n    [0] \"\",\n    [1] \"\",\n    [2] \"3 is a multiple of 3\",\n    [3] \"\",\n    [4] \"\",\n    [5] \"6 is a multiple of 3\",\n    [6] \"\",\n    [7] \"\",\n    [8] \"9 is a multiple of 3\",\n    [9] \"\"\n]\nunless\n[\n    [0] 1,\n    [1] 2,\n    [2] \"3 is a multiple of 3\",\n    [3] 1,\n    [4] 2,\n    [5] \"6 is a multiple of 3\",\n    [6] 1,\n    [7] 2,\n    [8] \"9 is a multiple of 3\",\n    [9] 1\n]\n</code></pre>\n\n<p>The code snippet above shows that <code>unless</code> and <code>if not</code> cause the subroutine to see different values of the last-evaluated expression.</p>\n\n<p>It seems that this is because <code>if not</code> considers <code>not</code> to be part of <code>EXPR</code>, whereas <code>unless</code> doesn't consider it to be part of <code>EXPR</code>.</p>\n\n<p><strong>Question</strong></p>\n\n<p>Are there any other examples of code usage where the two are not quite synonymous?</p>\n"}, {"tags": ["regex", "perl"], "comments": [{"owner": {"reputation": 81037, "user_id": 8454, "user_type": "registered", "accept_rate": 100, "profile_image": "https://i.stack.imgur.com/2NlHs.png?s=128&g=1", "display_name": "Andy Lester", "link": "https://stackoverflow.com/users/8454/andy-lester"}, "edited": false, "score": 0, "creation_date": 1500328795, "post_id": 45154301, "comment_id": 77277674, "body": "What language are you writing in?"}, {"owner": {"reputation": 1, "user_id": 8321955, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/270cfb1ddf782f44d41dfaed54ce1fa1?s=128&d=identicon&r=PG&f=1", "display_name": "Neeraj", "link": "https://stackoverflow.com/users/8321955/neeraj"}, "reply_to_user": {"reputation": 81037, "user_id": 8454, "user_type": "registered", "accept_rate": 100, "profile_image": "https://i.stack.imgur.com/2NlHs.png?s=128&g=1", "display_name": "Andy Lester", "link": "https://stackoverflow.com/users/8454/andy-lester"}, "edited": false, "score": 0, "creation_date": 1500329126, "post_id": 45154301, "comment_id": 77277806, "body": "I am using perl"}, {"owner": {"reputation": 81037, "user_id": 8454, "user_type": "registered", "accept_rate": 100, "profile_image": "https://i.stack.imgur.com/2NlHs.png?s=128&g=1", "display_name": "Andy Lester", "link": "https://stackoverflow.com/users/8454/andy-lester"}, "edited": false, "score": 0, "creation_date": 1500329339, "post_id": 45154301, "comment_id": 77277901, "body": "If you&#39;re using Perl, then use the URI::URL module to break apart the URL for you."}, {"owner": {"reputation": 1, "user_id": 8321955, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/270cfb1ddf782f44d41dfaed54ce1fa1?s=128&d=identicon&r=PG&f=1", "display_name": "Neeraj", "link": "https://stackoverflow.com/users/8321955/neeraj"}, "reply_to_user": {"reputation": 81037, "user_id": 8454, "user_type": "registered", "accept_rate": 100, "profile_image": "https://i.stack.imgur.com/2NlHs.png?s=128&g=1", "display_name": "Andy Lester", "link": "https://stackoverflow.com/users/8454/andy-lester"}, "edited": false, "score": 0, "creation_date": 1500329505, "post_id": 45154301, "comment_id": 77277964, "body": "I can do that but what I want is to have named regular expression groups."}, {"owner": {"reputation": 83048, "user_id": 2255089, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/ZNAsT.jpg?s=128&g=1", "display_name": "Casimir et Hippolyte", "link": "https://stackoverflow.com/users/2255089/casimir-et-hippolyte"}, "edited": false, "score": 0, "creation_date": 1500330002, "post_id": 45154301, "comment_id": 77278111, "body": "You can try something like this: <a href=\"https://regex101.com/r/9qIIFp/1\" rel=\"nofollow noreferrer\">regex101.com/r/9qIIFp/1</a>, with explanations: <a href=\"https://regex101.com/r/9qIIFp/2\" rel=\"nofollow noreferrer\">regex101.com/r/9qIIFp/2</a>"}, {"owner": {"user_type": "does_not_exist", "display_name": "user557597"}, "edited": false, "score": 1, "creation_date": 1500330301, "post_id": 45154301, "comment_id": 77278241, "body": "Or, something like this <code>&#47;(?&lt;main&gt;.*main)(?&lt;id&gt;\\d+)[^\\&#47;.]*\\.(?&lt;ext&gt;[^\\&#47;.]+)$&#47;</code>"}, {"owner": {"reputation": 146, "user_id": 7408563, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/U871e.jpg?s=128&g=1", "display_name": "asthman", "link": "https://stackoverflow.com/users/7408563/asthman"}, "edited": false, "score": 0, "creation_date": 1500344123, "post_id": 45154301, "comment_id": 77281583, "body": "You can use $+{name}, $+{extension} or $1, $2 to extract the groups.          example:  &quot;hello&quot; =~ /(?&lt;greet&gt;hi|hello)/n; # $1 is &quot;hello&quot;, $+{greet} is &quot;hello&quot;"}], "owner": {"reputation": 1, "user_id": 8321955, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/270cfb1ddf782f44d41dfaed54ce1fa1?s=128&d=identicon&r=PG&f=1", "display_name": "Neeraj", "link": "https://stackoverflow.com/users/8321955/neeraj"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 33, "favorite_count": 0, "answer_count": 0, "score": 0, "last_activity_date": 1500329277, "creation_date": 1500328690, "last_edit_date": 1500329277, "question_id": 45154301, "link": "https://stackoverflow.com/questions/45154301/named-group-regular-expression", "title": "Named group regular expression", "body": "<p>I have URLs of following format</p>\n\n<p><code>http://127.0.0.1/live/AbcTest2/main3Mbit.m3u8</code></p>\n\n<p>I want to extract the following</p>\n\n<pre><code>name - http:// 127.0.0.1/live/AbcTest2/main\nId - 3 (3 after main)\nextension - .m3u8\n</code></pre>\n\n<p>This is what I tried -</p>\n\n<pre><code>(?&lt;name&gt;.*)[0-9]{6}(?&lt;extension&gt;.m3u8)\n</code></pre>\n\n<p>This is not exactly generic but I am new to pcre and I don't know how extract the groups</p>\n"}, {"tags": ["perl"], "comments": [{"owner": {"reputation": 113221, "user_id": 100754, "user_type": "registered", "accept_rate": 90, "profile_image": "https://www.gravatar.com/avatar/7804ebae32fbadef38537d74a915c22f?s=128&d=identicon&r=PG", "display_name": "Sinan &#220;n&#252;r", "link": "https://stackoverflow.com/users/100754/sinan-%c3%9cn%c3%bcr"}, "edited": false, "score": 0, "creation_date": 1500328068, "post_id": 45154101, "comment_id": 77277402, "body": "Related <a href=\"https://stackoverflow.com/questions/28761824/should-a-subroutine-always-return-explicitly\">Should a subroutine always return explicitly?</a>. I am not sure if this should be considered a duplicate."}], "answers": [{"comments": [{"owner": {"reputation": 53041, "user_id": 4653379, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/b3953dbedd0dabff5cbc3db9b0835b14?s=128&d=identicon&r=PG&f=1", "display_name": "zdim", "link": "https://stackoverflow.com/users/4653379/zdim"}, "edited": false, "score": 0, "creation_date": 1500328263, "post_id": 45154102, "comment_id": 77277460, "body": "Here&#39;s a rub for me -- the last &quot;thing&quot; in &quot;clumsy&quot; is <code>if (not ...)</code>.  The docs specify behavior for either an &quot;expression&quot; or for &quot;loop control structure&quot; ... so what about <code>if</code>, or <code>not</code>? It appears that they &quot;don&#39;t count&quot;, it still returns the last evaluation.  However, this may also happen under &quot;unspecified&quot; -- we get the value here, but in some other case it may be something else."}, {"owner": {"reputation": 34726, "user_id": 133939, "user_type": "registered", "accept_rate": 95, "profile_image": "https://i.stack.imgur.com/pN9C5.png?s=128&g=1", "display_name": "Zaid", "link": "https://stackoverflow.com/users/133939/zaid"}, "reply_to_user": {"reputation": 53041, "user_id": 4653379, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/b3953dbedd0dabff5cbc3db9b0835b14?s=128&d=identicon&r=PG&f=1", "display_name": "zdim", "link": "https://stackoverflow.com/users/4653379/zdim"}, "edited": false, "score": 0, "creation_date": 1500328416, "post_id": 45154102, "comment_id": 77277533, "body": "See <a href=\"http://perldoc.perl.org/perlsyn.html#Simple-Statements\" rel=\"nofollow noreferrer\">Statement Modifiers</a> in <code>perlsyn</code> for <code>EXPR</code> examples"}, {"owner": {"reputation": 53041, "user_id": 4653379, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/b3953dbedd0dabff5cbc3db9b0835b14?s=128&d=identicon&r=PG&f=1", "display_name": "zdim", "link": "https://stackoverflow.com/users/4653379/zdim"}, "edited": false, "score": 0, "creation_date": 1500328754, "post_id": 45154102, "comment_id": 77277659, "body": "I am asking about what comes <i>after</i> the expression is evaluated -- it&#39;s the <code>unless</code> that is executed (which should be <code>not</code> followed by <code>if</code>).  The docs don&#39;t seem to specify what happens when the last thing is an <code>if</code>."}, {"owner": {"reputation": 34726, "user_id": 133939, "user_type": "registered", "accept_rate": 95, "profile_image": "https://i.stack.imgur.com/pN9C5.png?s=128&g=1", "display_name": "Zaid", "link": "https://stackoverflow.com/users/133939/zaid"}, "reply_to_user": {"reputation": 53041, "user_id": 4653379, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/b3953dbedd0dabff5cbc3db9b0835b14?s=128&d=identicon&r=PG&f=1", "display_name": "zdim", "link": "https://stackoverflow.com/users/4653379/zdim"}, "edited": false, "score": 0, "creation_date": 1500330027, "post_id": 45154102, "comment_id": 77278127, "body": "@zdim Let me repost the comment here: Interestingly, changing the clumsy sub to <code>return if not $value % 3</code> results in the empty string being returned, not the result of the modulus"}, {"owner": {"reputation": 53041, "user_id": 4653379, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/b3953dbedd0dabff5cbc3db9b0835b14?s=128&d=identicon&r=PG&f=1", "display_name": "zdim", "link": "https://stackoverflow.com/users/4653379/zdim"}, "edited": false, "score": 0, "creation_date": 1500330170, "post_id": 45154102, "comment_id": 77278179, "body": "Whoa, now that&#39;s a discovery (to me). So <code>unless</code> behaves differently from <code>if not</code>, in a way that has consequences. I don&#39;t mean the syntactic differences (one can&#39;t do <code>EXPR for my $var LIST</code> for example), but the order of processing. It seems from your example that the last thing that is done in <code>unless EXPR</code> is in fact the evaluation of the <code>EXPR</code>, while in <code>if (! EXPR)</code> it seems to be <code>if</code>"}, {"owner": {"reputation": 34726, "user_id": 133939, "user_type": "registered", "accept_rate": 95, "profile_image": "https://i.stack.imgur.com/pN9C5.png?s=128&g=1", "display_name": "Zaid", "link": "https://stackoverflow.com/users/133939/zaid"}, "reply_to_user": {"reputation": 53041, "user_id": 4653379, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/b3953dbedd0dabff5cbc3db9b0835b14?s=128&d=identicon&r=PG&f=1", "display_name": "zdim", "link": "https://stackoverflow.com/users/4653379/zdim"}, "edited": false, "score": 0, "creation_date": 1500330218, "post_id": 45154102, "comment_id": 77278199, "body": "@zdim yes, it would seem so. It would make for a pretty interesting Q&amp;A I guess. The difference is that the <code>not</code> is considered to be part of <code>EXPR</code>, while in <code>unless</code> it isn&#39;t"}, {"owner": {"reputation": 53041, "user_id": 4653379, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/b3953dbedd0dabff5cbc3db9b0835b14?s=128&d=identicon&r=PG&f=1", "display_name": "zdim", "link": "https://stackoverflow.com/users/4653379/zdim"}, "edited": false, "score": 0, "creation_date": 1500330284, "post_id": 45154102, "comment_id": 77278232, "body": "Good point, but still -- then <code>unless</code> is only fully equivalent to <code>if</code>, and so they are processed differently. That&#39;s consequential."}, {"owner": {"reputation": 34726, "user_id": 133939, "user_type": "registered", "accept_rate": 95, "profile_image": "https://i.stack.imgur.com/pN9C5.png?s=128&g=1", "display_name": "Zaid", "link": "https://stackoverflow.com/users/133939/zaid"}, "reply_to_user": {"reputation": 53041, "user_id": 4653379, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/b3953dbedd0dabff5cbc3db9b0835b14?s=128&d=identicon&r=PG&f=1", "display_name": "zdim", "link": "https://stackoverflow.com/users/4653379/zdim"}, "edited": false, "score": 0, "creation_date": 1500330418, "post_id": 45154102, "comment_id": 77278283, "body": "@zdim should I post the question or will you do it?"}, {"owner": {"reputation": 53041, "user_id": 4653379, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/b3953dbedd0dabff5cbc3db9b0835b14?s=128&d=identicon&r=PG&f=1", "display_name": "zdim", "link": "https://stackoverflow.com/users/4653379/zdim"}, "edited": false, "score": 0, "creation_date": 1500330536, "post_id": 45154102, "comment_id": 77278319, "body": "Thanks for asking -- please go ahead and post."}, {"owner": {"reputation": 53041, "user_id": 4653379, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/b3953dbedd0dabff5cbc3db9b0835b14?s=128&d=identicon&r=PG&f=1", "display_name": "zdim", "link": "https://stackoverflow.com/users/4653379/zdim"}, "edited": false, "score": 0, "creation_date": 1500341871, "post_id": 45154102, "comment_id": 77281063, "body": "Thank you for the note, I just came back to my computer.  Will pitch in as soon as I get a minute, I think it&#39;s a very interesting question."}, {"owner": {"reputation": 53041, "user_id": 4653379, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/b3953dbedd0dabff5cbc3db9b0835b14?s=128&d=identicon&r=PG&f=1", "display_name": "zdim", "link": "https://stackoverflow.com/users/4653379/zdim"}, "edited": false, "score": 0, "creation_date": 1500418959, "post_id": 45154102, "comment_id": 77325364, "body": "It was my second comment with that <i>wrong</i> statement &quot;<i><code>unless</code> ... should be <code>not</code> followed by <code>if</code></i>&quot; that triggered the discussion that lead to the other question.  Sorry that I pushed the wrong way.  I still think that it was a good question to ask.  Btw, I also think that my <i>first</i> comment here stands -- the docs indeed don&#39;t specify how <code>if</code> weighs in this context.  (Probably doesn&#39;t matter a bit --  apparently, it &quot;doesn&#39;t count&quot; so to say, what makes sense.)"}], "tags": [], "owner": {"reputation": 34726, "user_id": 133939, "user_type": "registered", "accept_rate": 95, "profile_image": "https://i.stack.imgur.com/pN9C5.png?s=128&g=1", "display_name": "Zaid", "link": "https://stackoverflow.com/users/133939/zaid"}, "is_accepted": false, "score": 5, "last_activity_date": 1500327633, "creation_date": 1500327633, "answer_id": 45154102, "question_id": 45154101, "link": "https://stackoverflow.com/questions/45154101/what-does-perl-return-from-a-subroutine-when-no-return-statement-is-encountered/45154102#45154102", "title": "What does Perl return from a subroutine when no return statement is encountered?", "body": "<p>The behaviour is consistent with what is documented in <a href=\"http://perldoc.perl.org/perlsub.html\" rel=\"noreferrer\"><code>perldoc perlsub</code></a></p>\n\n<blockquote>\n  <p>A <code>return</code> statement may be used to exit a subroutine, optionally\n  specifying the returned value, which will be evaluated in the\n  appropriate context (list, scalar, or void) depending on the context\n  of the subroutine call. <strong><em>If you specify no return value, the subroutine\n  returns an empty list in list context</em></strong>, the undefined value in scalar\n  context, or nothing in void context. If you return one or more\n  aggregates (arrays and hashes), these will be flattened together into\n  one large indistinguishable list.   </p>\n  \n  <p>If <strong><em>no return is found and if the last statement is an expression, its value is returned</em></strong>. If the last statement is a loop control structure like a <code>foreach</code> or a <code>while</code> , the returned value is unspecified. The empty sub returns the empty list.</p>\n</blockquote>\n\n<hr>\n\n<p><strong>The graceful sub in list context</strong>:</p>\n\n<ul>\n<li><p><em>True</em> :  returns the string <code>\"$value is a multiple of 3\"</code> is returned</p></li>\n<li><p><em>False</em> : returns an empty list</p></li>\n</ul>\n\n<p>Which is why there are only three elements in <code>@results</code>; something is added to the array only when the conditional evaluates to true.</p>\n\n<p><strong>The clumsy sub in list context</strong>:</p>\n\n<ul>\n<li><em>True</em> : returns the string <code>\"$value is a multiple of 3\"</code> is returned. No dramas here.</li>\n<li><em>False</em> : as no explicit <code>return</code> is encountered, returns the value of the last expression evaluated , <code>$value % 3</code></li>\n</ul>\n\n<p>So in both cases, the subroutine will return back a value, which is why <code>@results</code> has ten items in it.</p>\n"}, {"tags": [], "owner": {"reputation": 87649, "user_id": 17389, "user_type": "registered", "accept_rate": 38, "profile_image": "https://www.gravatar.com/avatar/cd06d1314817ce946ab796af8750b56a?s=128&d=identicon&r=PG", "display_name": "ysth", "link": "https://stackoverflow.com/users/17389/ysth"}, "is_accepted": false, "score": 2, "last_activity_date": 1500356914, "creation_date": 1500356914, "answer_id": 45158490, "question_id": 45154101, "link": "https://stackoverflow.com/questions/45154101/what-does-perl-return-from-a-subroutine-when-no-return-statement-is-encountered/45158490#45158490", "title": "What does Perl return from a subroutine when no return statement is encountered?", "body": "<p>For last-expression purposes, <code>foo if bar</code> and <code>if (bar) { foo }</code> are equivalent to <code>bar and foo</code>, and similarly unless is equivalent to or.</p>\n"}], "owner": {"reputation": 34726, "user_id": 133939, "user_type": "registered", "accept_rate": 95, "profile_image": "https://i.stack.imgur.com/pN9C5.png?s=128&g=1", "display_name": "Zaid", "link": "https://stackoverflow.com/users/133939/zaid"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 1504, "favorite_count": 0, "answer_count": 2, "score": 3, "last_activity_date": 1500373468, "creation_date": 1500327633, "last_edit_date": 1500373468, "question_id": 45154101, "link": "https://stackoverflow.com/questions/45154101/what-does-perl-return-from-a-subroutine-when-no-return-statement-is-encountered", "title": "What does Perl return from a subroutine when no return statement is encountered?", "body": "<p><em>I encountered this today and thought it prudent to post a Q&amp;A as I couldn't find anything similar.<br>\nFeel free to vote-to-close if you find a duplicate of this question.</em></p>\n\n<hr>\n\n<p>The following subroutine conditionally <a href=\"http://perldoc.perl.org/functions/return.html\" rel=\"nofollow noreferrer\"><code>return</code></a>s output; I consider it \"clumsy\" because it isn't explicit about what is returned to the caller when the conditional is not satisfied:</p>\n\n<pre><code>sub is_multiple_of_three {\n\n    my ( $value ) = @_ ;\n    return \"$value is a multiple of 3\"\n      unless $value % 3;\n}\n</code></pre>\n\n<p>A quick rewrite makes short work of clarifying the (more graceful) subroutine's intended behaviour under all circumstances:</p>\n\n<pre><code>sub is_multiple_of_three { \n\n    my ( $value ) = @_ ;\n    return if $value % 3;\n    return \"$value is a multiple of 3\";\n}\n</code></pre>\n\n<p>When calling these both flavours of the subroutine, I was expecting to find some consistency between what both <code>return</code> in list context:</p>\n\n<ul>\n<li>a string when the conditional evaluates to true</li>\n<li>nothing (an empty list) when the conditional evaluates to false</li>\n</ul>\n\n<p>But alas, the behaviour was slightly unexpected:</p>\n\n\n\n<pre><code>use strict;\nuse warnings;\nuse Data::Printer;\nuse feature 'say';\n\nmy %subs = (\n            graceful =&gt; sub {\n                            my ( $value ) = @_ ;\n                            return if $value % 3;\n                            return \"$value is a multiple of 3\";\n                        },\n\n              clumsy =&gt; sub {\n                            my ( $value ) = @_ ;\n                            return \"$value is a multiple of 3\"\n                              unless $value % 3;\n                        },\n           );\n\nfor my $name ( keys %subs ) {\n\n    my $sub = $subs{$name};\n    say $name;\n    my @results = map { $sub-&gt;($_) } 1 .. 10;\n    p @results;\n}\n</code></pre>\n\n<p><strong><em>Output</em></strong></p>\n\n<pre><code>graceful\n[\n    [0] \"3 is a multiple of 3\",\n    [1] \"6 is a multiple of 3\",\n    [2] \"9 is a multiple of 3\"\n]\nclumsy\n[\n    [0] 1,\n    [1] 2,\n    [2] \"3 is a multiple of 3\",\n    [3] 1,\n    [4] 2,\n    [5] \"6 is a multiple of 3\",\n    [6] 1,\n    [7] 2,\n    [8] \"9 is a multiple of 3\",\n    [9] 1\n]\n</code></pre>\n\n<p><strong><em>Question</em></strong></p>\n\n<p>The \"graceful\" flavour behaves as expected, but why is the \"clumsy\" sub returning back integers when the conditional is false?</p>\n"}, {"tags": ["perl"], "comments": [{"owner": {"reputation": 48798, "user_id": 223226, "user_type": "registered", "accept_rate": 93, "profile_image": "https://i.stack.imgur.com/iGqE4.png?s=128&g=1", "display_name": "mpapec", "link": "https://stackoverflow.com/users/223226/mpapec"}, "edited": false, "score": 1, "creation_date": 1500308598, "post_id": 45149058, "comment_id": 77267449, "body": "<code>my ($min) = sort { $a &lt;=&gt; $b } $v1, $v2, $v3;</code> $a and $b are poor choices for variable names as they have special purpose for sorting."}, {"owner": {"reputation": 320771, "user_id": 589924, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/b2cf53d5a3d25f95c0db4e025aed4153?s=128&d=identicon&r=PG", "display_name": "ikegami", "link": "https://stackoverflow.com/users/589924/ikegami"}, "edited": false, "score": 0, "creation_date": 1500309925, "post_id": 45149058, "comment_id": 77268209, "body": "Is it suppose to be <code>&gt;0</code> or <code>&gt;=0</code>?"}, {"owner": {"reputation": 320771, "user_id": 589924, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/b2cf53d5a3d25f95c0db4e025aed4153?s=128&d=identicon&r=PG", "display_name": "ikegami", "link": "https://stackoverflow.com/users/589924/ikegami"}, "edited": false, "score": 2, "creation_date": 1500309971, "post_id": 45149058, "comment_id": 77268231, "body": "Do you want to the minimum value of the three values, or do you want the minimum positive value of the three values?"}, {"owner": {"reputation": 53041, "user_id": 4653379, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/b3953dbedd0dabff5cbc3db9b0835b14?s=128&d=identicon&r=PG&f=1", "display_name": "zdim", "link": "https://stackoverflow.com/users/4653379/zdim"}, "edited": false, "score": 3, "creation_date": 1500316758, "post_id": 45149058, "comment_id": 77271817, "body": "I suggest to always use valid Perl in code snippets.  Here <code>a</code> isn&#39;t a variable, but <code>$a</code> would be."}, {"owner": {"reputation": 31, "user_id": 8230588, "user_type": "registered", "accept_rate": 50, "profile_image": "https://www.gravatar.com/avatar/a20df5a29fbb7d6bef4d5ebf9e8d1f04?s=128&d=identicon&r=PG&f=1", "display_name": "Alfredo Mari", "link": "https://stackoverflow.com/users/8230588/alfredo-mari"}, "edited": false, "score": 0, "creation_date": 1500332985, "post_id": 45149058, "comment_id": 77278978, "body": "Hey, sorry my mistake, i meant $a, it was just example though. Anyhow to answer ikegami  want to have the minimum positive value, so excluding 0, my fault."}], "answers": [{"tags": [], "owner": {"reputation": 8273, "user_id": 1334695, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/431ae6e9f7610b9d6a6a6cdebd0244d5?s=128&d=identicon&r=PG", "display_name": "stevieb", "link": "https://stackoverflow.com/users/1334695/stevieb"}, "is_accepted": false, "score": 0, "last_activity_date": 1500309588, "creation_date": 1500309588, "answer_id": 45149458, "question_id": 45149058, "link": "https://stackoverflow.com/questions/45149058/if-statement-perl-how-to-identify-my-chosen-value/45149458#45149458", "title": "if statement perl, how to identify my chosen value", "body": "<p>You can do a numerical <a href=\"https://perldoc.perl.org/functions/sort.html\" rel=\"nofollow noreferrer\">sort</a> on the values after filtering them through <a href=\"https://perldoc.perl.org/functions/grep.html\" rel=\"nofollow noreferrer\">grep</a> to ensure the greater-than-zero condition is met:</p>\n\n<pre><code>my ($x, $y, $z) = qw(5 -1 2);\n\nmy ($min) = sort {$a &lt;=&gt; $b} grep {$_ &gt; 0} ($x, $y, $z);\n\nprint \"$min\\n\";\n</code></pre>\n\n<p>Output:</p>\n\n<pre><code>2\n</code></pre>\n\n<p>Note: The OP contradicts itself. In the opening sentence, it's greater-than, but in code, it's <code>&gt;=</code>. I went with the former.</p>\n"}, {"comments": [{"owner": {"reputation": 320771, "user_id": 589924, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/b2cf53d5a3d25f95c0db4e025aed4153?s=128&d=identicon&r=PG", "display_name": "ikegami", "link": "https://stackoverflow.com/users/589924/ikegami"}, "edited": false, "score": 4, "creation_date": 1500309693, "post_id": 45149462, "comment_id": 77268073, "body": "<code>sort</code> has been suggested, but <code>min</code> (O(N)) scales better than <code>sort</code> (O(N log N)), and is more self-explanatory."}], "tags": [], "owner": {"reputation": 320771, "user_id": 589924, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/b2cf53d5a3d25f95c0db4e025aed4153?s=128&d=identicon&r=PG", "display_name": "ikegami", "link": "https://stackoverflow.com/users/589924/ikegami"}, "is_accepted": false, "score": 3, "last_activity_date": 1500318661, "last_edit_date": 1500318661, "creation_date": 1500309599, "answer_id": 45149462, "question_id": 45149058, "link": "https://stackoverflow.com/questions/45149058/if-statement-perl-how-to-identify-my-chosen-value/45149462#45149462", "title": "if statement perl, how to identify my chosen value", "body": "<p>You asked for the minimum value of the three values (where <code>$min</code> could be zero or negative):</p>\n\n<pre><code>use List::Util qw( any min );\n\nif (any { $_ &gt; 0 } $a, $b, $c) {\n   my $min = min $a, $b, $c;\n   ...\n}\n</code></pre>\n\n<p>But I think you meant to ask for the minimum positive value of the three values (where <code>$min</code> will always be greater than zero):</p>\n\n<pre><code>use List::Util qw( min );\n\nmy $min = min grep { $_ &gt; 0 } $a, $b, $c;\nif (defined($min)) {\n   ...\n}\n</code></pre>\n"}], "owner": {"reputation": 31, "user_id": 8230588, "user_type": "registered", "accept_rate": 50, "profile_image": "https://www.gravatar.com/avatar/a20df5a29fbb7d6bef4d5ebf9e8d1f04?s=128&d=identicon&r=PG&f=1", "display_name": "Alfredo Mari", "link": "https://stackoverflow.com/users/8230588/alfredo-mari"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 66, "favorite_count": 0, "answer_count": 2, "score": -1, "last_activity_date": 1500318661, "creation_date": 1500308267, "last_edit_date": 1500313551, "question_id": 45149058, "link": "https://stackoverflow.com/questions/45149058/if-statement-perl-how-to-identify-my-chosen-value", "title": "if statement perl, how to identify my chosen value", "body": "<p>I want to write down in Perl a code which should mean:</p>\n\n<blockquote>\n  <p><code>if a&gt;0 or b&gt;0 or c&gt;0</code>, pick up the lowest value among those three and do stuff.</p>\n</blockquote>\n\n<p>I am OK with the first part, which I coded as</p>\n\n<pre><code>if(a&gt;=0 || b&gt;=0 || c&gt;=0) {\n    # but here i don't know how to pick up the lowest value\n}\n</code></pre>\n\n<p>How can I pick up the lowest value among those three?</p>\n"}, {"tags": ["perl", "nagiosxi"], "comments": [{"owner": {"reputation": 271, "user_id": 8201891, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/8b9e7e855a77cd91b5193ef5a43efc03?s=128&d=identicon&r=PG&f=1", "display_name": "Flynn", "link": "https://stackoverflow.com/users/8201891/flynn"}, "edited": false, "score": 1, "creation_date": 1500304311, "post_id": 45147688, "comment_id": 77264652, "body": "So the print part is working, but the subroutines aren&#39;t getting called correct? Did you double check the path for them, and that you don&#39;t need to pass any variables into the called function?"}, {"owner": {"reputation": 65, "user_id": 3597337, "user_type": "registered", "accept_rate": 12, "profile_image": "https://i.stack.imgur.com/QIaXh.png?s=128&g=1", "display_name": "Lokanadhan Karthik", "link": "https://stackoverflow.com/users/3597337/lokanadhan-karthik"}, "reply_to_user": {"reputation": 271, "user_id": 8201891, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/8b9e7e855a77cd91b5193ef5a43efc03?s=128&d=identicon&r=PG&f=1", "display_name": "Flynn", "link": "https://stackoverflow.com/users/8201891/flynn"}, "edited": false, "score": 0, "creation_date": 1500304697, "post_id": 45147688, "comment_id": 77264947, "body": "I&#39;m troubled by this since morning. If i replace the subroutine with the actual commands, that are inside the subroutine, it works."}, {"owner": {"reputation": 271, "user_id": 8201891, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/8b9e7e855a77cd91b5193ef5a43efc03?s=128&d=identicon&r=PG&f=1", "display_name": "Flynn", "link": "https://stackoverflow.com/users/8201891/flynn"}, "edited": false, "score": 0, "creation_date": 1500304813, "post_id": 45147688, "comment_id": 77265028, "body": "But do the subroutines call other declared variables? If so, try inputting the variables between the parenthesis. Like &quot;SendEmail(&quot;Firstname&quot;,&quot;Lastname&quot;)&quot;"}, {"owner": {"reputation": 65, "user_id": 3597337, "user_type": "registered", "accept_rate": 12, "profile_image": "https://i.stack.imgur.com/QIaXh.png?s=128&g=1", "display_name": "Lokanadhan Karthik", "link": "https://stackoverflow.com/users/3597337/lokanadhan-karthik"}, "reply_to_user": {"reputation": 271, "user_id": 8201891, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/8b9e7e855a77cd91b5193ef5a43efc03?s=128&d=identicon&r=PG&f=1", "display_name": "Flynn", "link": "https://stackoverflow.com/users/8201891/flynn"}, "edited": false, "score": 0, "creation_date": 1500305242, "post_id": 45147688, "comment_id": 77265324, "body": "No arguments needed in the subroutine."}, {"owner": {"reputation": 271, "user_id": 8201891, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/8b9e7e855a77cd91b5193ef5a43efc03?s=128&d=identicon&r=PG&f=1", "display_name": "Flynn", "link": "https://stackoverflow.com/users/8201891/flynn"}, "edited": false, "score": 0, "creation_date": 1500307397, "post_id": 45147688, "comment_id": 77266718, "body": "Ok, so if it isn&#39;t printing out errors, maybe your subroutines aren&#39;t returning/printing anything?"}, {"owner": {"reputation": 65, "user_id": 3597337, "user_type": "registered", "accept_rate": 12, "profile_image": "https://i.stack.imgur.com/QIaXh.png?s=128&g=1", "display_name": "Lokanadhan Karthik", "link": "https://stackoverflow.com/users/3597337/lokanadhan-karthik"}, "reply_to_user": {"reputation": 271, "user_id": 8201891, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/8b9e7e855a77cd91b5193ef5a43efc03?s=128&d=identicon&r=PG&f=1", "display_name": "Flynn", "link": "https://stackoverflow.com/users/8201891/flynn"}, "edited": false, "score": 0, "creation_date": 1500307938, "post_id": 45147688, "comment_id": 77267051, "body": "When i run the script manually, they do print and write to a log file."}, {"owner": {"reputation": 53041, "user_id": 4653379, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/b3953dbedd0dabff5cbc3db9b0835b14?s=128&d=identicon&r=PG&f=1", "display_name": "zdim", "link": "https://stackoverflow.com/users/4653379/zdim"}, "edited": false, "score": 0, "creation_date": 1500315427, "post_id": 45147688, "comment_id": 77271147, "body": "Please show the script in question if you hope that somebody can help you.  The snippet you show isn&#39;t even valid Perl.  On the face of it, perhaps your &quot;Condition&quot; isn&#39;t satisfied when the script is called from an application (some variables may not get set as you expect, etc)?"}, {"owner": {"reputation": 65, "user_id": 3597337, "user_type": "registered", "accept_rate": 12, "profile_image": "https://i.stack.imgur.com/QIaXh.png?s=128&g=1", "display_name": "Lokanadhan Karthik", "link": "https://stackoverflow.com/users/3597337/lokanadhan-karthik"}, "edited": false, "score": 0, "creation_date": 1500317689, "post_id": 45147688, "comment_id": 77272265, "body": "Added the script."}, {"owner": {"reputation": 53041, "user_id": 4653379, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/b3953dbedd0dabff5cbc3db9b0835b14?s=128&d=identicon&r=PG&f=1", "display_name": "zdim", "link": "https://stackoverflow.com/users/4653379/zdim"}, "edited": false, "score": 0, "creation_date": 1500319584, "post_id": 45147688, "comment_id": 77273260, "body": "Thank you, much better.  (1) Are you certain that <code>echo</code> runs? (It <i>appends</i> to a file). (2) As for subroutines, they both take a list return (<code>@result</code>) from the <code>failover()</code> sub -- but which never <code>return</code>s!  That is certainly a bug, so add an explicit <code>return</code> as needed to <code>failover()</code>. (Without it a sub will return the last thing it evaluated, what is bad to rely on.)  I don&#39;t recall whether <code>mail</code> sends email when there&#39;s no data and I don&#39;t know what <code>snmptrap</code> does.  (3) Add prints to subs, to track what they do.  This should be easy to debug."}, {"owner": {"reputation": 65, "user_id": 3597337, "user_type": "registered", "accept_rate": 12, "profile_image": "https://i.stack.imgur.com/QIaXh.png?s=128&g=1", "display_name": "Lokanadhan Karthik", "link": "https://stackoverflow.com/users/3597337/lokanadhan-karthik"}, "edited": false, "score": 0, "creation_date": 1500320975, "post_id": 45147688, "comment_id": 77273955, "body": "I&#39;m very certain, echo writes to the file. Failover() already has return explicitly mentioned in the main script (I have removed few lines of code here). In the mail subroutine there&#39;s already a echo writing to a file, which too isn&#39;t working."}, {"owner": {"reputation": 53041, "user_id": 4653379, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/b3953dbedd0dabff5cbc3db9b0835b14?s=128&d=identicon&r=PG&f=1", "display_name": "zdim", "link": "https://stackoverflow.com/users/4653379/zdim"}, "edited": false, "score": 0, "creation_date": 1500326433, "post_id": 45147688, "comment_id": 77276717, "body": "Alright.  Then <code>sendMail()</code> <i>does run</i> right after <code>echo</code>, and after it the <code>send_trap()</code> runs, too.  There is no way that these subs just &quot;don&#39;t run.&quot; Then the question is what happens in those routines, and the first thing to look into is the <code>failover()</code>, since they both use it.  I don&#39;t see &quot;<i>Failover() already has return explicitly mentioned in the main script</i>&quot;.  And I can&#39;t tell what <code>failover()</code> is supposed to return. But all this is a moot point -- add diagnostic <code>print</code> statements to your subs.  Print as the sub starts, then after it calls <code>failover()</code> ... you must see what&#39;s up."}, {"owner": {"reputation": 53041, "user_id": 4653379, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/b3953dbedd0dabff5cbc3db9b0835b14?s=128&d=identicon&r=PG&f=1", "display_name": "zdim", "link": "https://stackoverflow.com/users/4653379/zdim"}, "edited": false, "score": 0, "creation_date": 1500326538, "post_id": 45147688, "comment_id": 77276763, "body": "Btw, when you post a comment addressing a particular user, please add AT (@) in front of username, like @LokanadhanKarthik.  Then that user gets notified of your comment.  I only accidentally noticed your last comment.  The owner of the question/answer always gets notified, but others may or may not."}, {"owner": {"reputation": 123805, "user_id": 622310, "user_type": "registered", "accept_rate": 33, "profile_image": "https://www.gravatar.com/avatar/8b6d35219e1808520bc238b28161e2e6?s=128&d=identicon&r=PG", "display_name": "Borodin", "link": "https://stackoverflow.com/users/622310/borodin"}, "edited": false, "score": 0, "creation_date": 1500333289, "post_id": 45147688, "comment_id": 77279056, "body": "Which <code>echo</code> are you saying is working, and which subroutine calls aren&#39;t &quot;working&quot;? There&#39;s no difference between the <code>HARD</code>, <code>DOWN</code> condition and the <code>SOFT</code>, <code>DOWN</code> condition except that the subroutines aren&#39;t called for the latter. The text echoed to the file is identical."}, {"owner": {"reputation": 65, "user_id": 3597337, "user_type": "registered", "accept_rate": 12, "profile_image": "https://i.stack.imgur.com/QIaXh.png?s=128&g=1", "display_name": "Lokanadhan Karthik", "link": "https://stackoverflow.com/users/3597337/lokanadhan-karthik"}, "reply_to_user": {"reputation": 53041, "user_id": 4653379, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/b3953dbedd0dabff5cbc3db9b0835b14?s=128&d=identicon&r=PG&f=1", "display_name": "zdim", "link": "https://stackoverflow.com/users/4653379/zdim"}, "edited": false, "score": 0, "creation_date": 1500372235, "post_id": 45147688, "comment_id": 77295099, "body": "@zdim, i&#39;ve added the code to the failover sub. That&#39;s what my failover sub is returning.                             Even if my failover sub is not returning anything, sendmail sub should write to a file, when it is called as there&#39;s an echo command. But, that is also not working. I&#39;m doing more testing on this one, will keep you posted."}, {"owner": {"reputation": 65, "user_id": 3597337, "user_type": "registered", "accept_rate": 12, "profile_image": "https://i.stack.imgur.com/QIaXh.png?s=128&g=1", "display_name": "Lokanadhan Karthik", "link": "https://stackoverflow.com/users/3597337/lokanadhan-karthik"}, "reply_to_user": {"reputation": 123805, "user_id": 622310, "user_type": "registered", "accept_rate": 33, "profile_image": "https://www.gravatar.com/avatar/8b6d35219e1808520bc238b28161e2e6?s=128&d=identicon&r=PG", "display_name": "Borodin", "link": "https://stackoverflow.com/users/622310/borodin"}, "edited": false, "score": 0, "creation_date": 1500372442, "post_id": 45147688, "comment_id": 77295246, "body": "@Borodin The echo in HARD condition is writing to a file, but the subsequent SUB&#39;s are not running."}, {"owner": {"reputation": 53041, "user_id": 4653379, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/b3953dbedd0dabff5cbc3db9b0835b14?s=128&d=identicon&r=PG&f=1", "display_name": "zdim", "link": "https://stackoverflow.com/users/4653379/zdim"}, "edited": false, "score": 0, "creation_date": 1500398928, "post_id": 45147688, "comment_id": 77315052, "body": "In short, if that <code>echo</code> runs (and the program doesn&#39;t crash there for some reason), then the following <code>sendMail()</code> runs as well.  So I again suggest to pepper <code>sendMail()</code> and <code>send_trap()</code> with printing statements (one right as the subs start) to see what is happening."}], "answers": [{"tags": [], "owner": {"reputation": 65, "user_id": 3597337, "user_type": "registered", "accept_rate": 12, "profile_image": "https://i.stack.imgur.com/QIaXh.png?s=128&g=1", "display_name": "Lokanadhan Karthik", "link": "https://stackoverflow.com/users/3597337/lokanadhan-karthik"}, "is_accepted": false, "score": 0, "last_activity_date": 1500389673, "creation_date": 1500389673, "answer_id": 45170292, "question_id": 45147688, "link": "https://stackoverflow.com/questions/45147688/perl-subroutine-not-running-when-script-executed-from-nagios-xi-back-end/45170292#45170292", "title": "Perl subroutine not running when script executed from Nagios XI back-end", "body": "<p>Issue was in the failover() SubRoutine. I was calling a file \"myxilist\" that was present in the same directory as the script.</p>\n\n<p>So, the script was working fine when called manually, but when it is triggered from application, script is getting executed from some other directory and the failover sub exits, as it's not able to open the file.</p>\n\n<p>I've provided the full path of the file and the script works fine.</p>\n\n<p>Thank you all for your help.</p>\n"}], "owner": {"reputation": 65, "user_id": 3597337, "user_type": "registered", "accept_rate": 12, "profile_image": "https://i.stack.imgur.com/QIaXh.png?s=128&g=1", "display_name": "Lokanadhan Karthik", "link": "https://stackoverflow.com/users/3597337/lokanadhan-karthik"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 131, "favorite_count": 0, "answer_count": 1, "score": -1, "last_activity_date": 1500389673, "creation_date": 1500304098, "last_edit_date": 1500372121, "question_id": 45147688, "link": "https://stackoverflow.com/questions/45147688/perl-subroutine-not-running-when-script-executed-from-nagios-xi-back-end", "title": "Perl subroutine not running when script executed from Nagios XI back-end", "body": "<p>I have a Perl script that is executed from <em>Nagios XI</em>.</p>\n\n<p>It has two subroutines: <code>SendEmail</code> and <code>SendTraps</code>.</p>\n\n<p>The script works fine when executed manually by passing the required parameters, but it doesn't work when triggered from Nagios. The script gets executed but the subroutines are skipped.</p>\n\n<p><code>echo</code> is working, but the two subroutines are not working even if the condition is met.</p>\n\n<pre><code>if ( ( $hoststatetype =~ m/HARD/ ) &amp;&amp; ( $hoststate =~ m/DOWN/ ) ) {\n\n    `echo \"HOST::$prihost $hostoutput\"&gt;&gt;/tmp/failover_log.txt`;\n\n    sendMail();\n    send_trap();\n}\n</code></pre>\n\n<p>Full script here:</p>\n\n<pre><code>use strict;\nuse warnings;\n\nuse Text::CSV;\n\n# Declared all the variables here\n\n# Parsing input arguments\n\nif ( $#ARGV &gt; -1 ) {\n\n   if ( $ARGV[0] eq \"-nagiosxi_trigger\" ) {\n\n       $prihost       = $ARGV[1];\n       $hoststate     = $ARGV[2];\n       $hoststatetype = $ARGV[3];\n       $hostoutput    = $ARGV[4];\n    }\n    elsif ( $ARGV[0] eq \"-manual_trigger\" ) {\n\n        $comment = $ARGV[1];\n        $userid  = $ARGV[2];\n        $flag    = \"Failover-Trigger_Manual\";\n\n        print \"Maunal Failover triggered with comment: $comment by $userid\\n\";\n\n        $error_desc = \"Maunal Failover triggered with comment: $comment by $userid\";\n\n        send_trap();\n        sendMail();\n\n        exit 0;\n    }\n    else {\n\n        print STDERR \"Invalid parameter $ARGV[0] \\n\";\n\n        exit 1;\n    }\n}\nelse {\n\n    print STDERR \"ERROR:No Arguments Passed.\\n\";\n\n    exit 1\n}\n\n# Check if Host or Service is in Hard/down state\n\nif ( ( $hoststatetype =~ m/HARD/ ) &amp;&amp; ( $hoststate =~ m/DOWN/ ) ) {\n\n    `echo \"HOST::$prihost $hostoutput\"&gt;&gt;/tmp/failover_log.txt`;\n\n    sendMail();\n    send_trap();\n}\nelsif ( ( $hoststatetype =~ m/SOFT/ ) &amp;&amp; ( $hoststate =~ m/DOWN/ ) ) {\n\n    `echo \"HOST::$prihost $hostoutput\"&gt;&gt;/tmp/failover_log.txt`;\n}\nelse {\n\n    `echo \"HOST Good, $prihost $hostoutput\"&gt;&gt;/tmp/failover_log.txt`;\n}\n\n# Sub-Routines\n\nsub failover {\n\n    my $csv  = Text::CSV-&gt;new({ sep_char =&gt; ',' }) or die \"Cannot use CSV: \".Text::CSV-&gt;error_diag ();;\n    my $file = \"myxilist\";\n    my $primary;\n    my $secondary;\n    #my $xienv;\n\n    my $host = `hostname`;\n    chomp $host;\n    open( my $data, '&lt;', $file ) or die \"Could not open '$file' $!\\n\";\n\n    while ( my $xi = &lt;$data&gt; ) {\n        chomp $xi;\n\n        if ( $csv-&gt;parse($xi) ) {\n\n            my @fields = $csv-&gt;fields();\n\n            if ( $fields[0] =~ m/$host/ ) {\n                $primary   = $fields[1];\n                $secondary = $fields[0];\n                $xienv     = $fields[2];\n            }\n            elsif ( $fields[1] =~ m/$host/ ) {\n                $primary   = $fields[0];\n                $secondary = $fields[1];\n                $xienv     = $fields[2];\n           }\n        }\n        else {\n            warn \"Line could not be parsed: $xi\\n\";\n            exit 1;\n        }\n    }\nmy $failovermsg=\"failover successful from $primary to $secondary server\";\nreturn $failovermsg;\n}\n\n\nsub sendMail {\n\n    #  Build the list for mailing out results\n\n    my $mailSubject;\n    my $mailID  = \"test\\@mail.com\";\n    my @results = failover();\n\n    $mailSubject = \"Failover Successful on $xienv instance\";\n\n    print \"Sending email to $mailID \\n\";\n    `echo \"sending Email\"&gt;&gt;/tmp/failover_log.txt`;\n\n    open MAILX, \"|/usr/bin/mailx -s \\\"$mailSubject\\\"        $mailID \" or die $!;\n    print MAILX \"@results\";\n    close MAILX;\n\n    return;\n}\n\nsub send_trap {\n\n    # Sending SNMP traps \n\n    my @results = failover();\n    my $trap    = `/usr/bin/snmptrap -v 2c -c public tcp:server:1010 '' MIB::Event Hostname s \"$xienv\" nSvcDesc s \"$flag\" nSvcStateID i 2 nSvcOutput s \"@results\"`;\n    return;\n}\n</code></pre>\n\n<p>Any thoughts what could be missing?</p>\n"}, {"tags": ["regex", "perl", "csv"], "comments": [{"owner": {"reputation": 2415, "user_id": 4251338, "user_type": "registered", "accept_rate": 90, "profile_image": "https://i.stack.imgur.com/UNbCO.png?s=128&g=1", "display_name": "ssr1012", "link": "https://stackoverflow.com/users/4251338/ssr1012"}, "edited": false, "score": 4, "creation_date": 1500299290, "post_id": 45145942, "comment_id": 77260798, "body": "You didn&#39;t try anything"}, {"owner": {"reputation": 113221, "user_id": 100754, "user_type": "registered", "accept_rate": 90, "profile_image": "https://www.gravatar.com/avatar/7804ebae32fbadef38537d74a915c22f?s=128&d=identicon&r=PG", "display_name": "Sinan &#220;n&#252;r", "link": "https://stackoverflow.com/users/100754/sinan-%c3%9cn%c3%bcr"}, "edited": false, "score": 2, "creation_date": 1500299363, "post_id": 45145942, "comment_id": 77260855, "body": "&quot;<i>not copy it to a different file because the file is very large</i>&quot; If you have sufficient memory, you can keep the contents in memory. But, otherwise, read the file line by line, remove the field from each line, write out to new file, when successfully done, rename the new file to the original one."}, {"owner": {"reputation": 6733, "user_id": 52116, "user_type": "registered", "accept_rate": 84, "profile_image": "https://www.gravatar.com/avatar/c2fdf17881a0a3d248f9d431f98e1bca?s=128&d=identicon&r=PG", "display_name": "Adam Taylor", "link": "https://stackoverflow.com/users/52116/adam-taylor"}, "edited": false, "score": 0, "creation_date": 1500301364, "post_id": 45145942, "comment_id": 77262490, "body": "<a href=\"https://metacpan.org/pod/Text::CSV\" rel=\"nofollow noreferrer\">metacpan.org/pod/Text::CSV</a> would allow you to read in the file, store all the columns apart from the one you don&#39;t need and write it back out. Have a go at something and then update your question if you get stuck."}, {"owner": {"reputation": 123805, "user_id": 622310, "user_type": "registered", "accept_rate": 33, "profile_image": "https://www.gravatar.com/avatar/8b6d35219e1808520bc238b28161e2e6?s=128&d=identicon&r=PG", "display_name": "Borodin", "link": "https://stackoverflow.com/users/622310/borodin"}, "edited": false, "score": 0, "creation_date": 1500304249, "post_id": 45145942, "comment_id": 77264607, "body": "<i>&quot;because the file is very large&quot;</i> Are you saying that a second copy of the file won&#39;t fit on your disk storage? Why do you want to remove that column at all? Can&#39;t any other software just ignore it?"}], "answers": [{"tags": [], "owner": {"reputation": 51521, "user_id": 2566198, "user_type": "registered", "accept_rate": 67, "profile_image": "https://i.stack.imgur.com/Y34ZA.jpg?s=128&g=1", "display_name": "Sobrique", "link": "https://stackoverflow.com/users/2566198/sobrique"}, "is_accepted": false, "score": -1, "last_activity_date": 1500302909, "creation_date": 1500302909, "answer_id": 45147311, "question_id": 45145942, "link": "https://stackoverflow.com/questions/45145942/delete-column-in-csv-in-perl/45147311#45147311", "title": "delete column in csv in Perl", "body": "<pre><code>#!/usr/bin/env perl\n\nuse strict;\nuse warnings;\n\nmy $col_to_delete = '&lt;unit&gt;'; \n\nchomp ( my @header = split /,/, &lt;&gt; );\nmy @newheader = grep { not $_ eq $col_to_delete } @header; \n\nprint join (\",\", @newheader),\"\\n\";\n\nwhile ( &lt;&gt; ) {\n   chomp;\n   my %row;\n   @row{@header} = split /,/; \n   print join (\",\", @row{@newheader}),\"\\n\"; \n\n}\n</code></pre>\n\n<p>Reads STDIN line by line, and prints as you go, so you don't need lots of memory. </p>\n\n<p>You can probably do it via in-place editing, but you'll want to test it to make sure that it works satisfactorily first. You'd do this by setting <code>$^I</code>, but really you're better off creating two files, because it's shockingly easy to clobber one accidentally. </p>\n"}], "owner": {"reputation": 21, "user_id": 6692359, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/abae544cb63d226966fffcefa2288b7d?s=128&d=identicon&r=PG&f=1", "display_name": "jon v", "link": "https://stackoverflow.com/users/6692359/jon-v"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 527, "favorite_count": 0, "answer_count": 1, "score": -3, "last_activity_date": 1500302909, "creation_date": 1500299071, "question_id": 45145942, "link": "https://stackoverflow.com/questions/45145942/delete-column-in-csv-in-perl", "title": "delete column in csv in Perl", "body": "<p>I have the following format for my CSV file that I downloaded online and need to parse it. I want to be able to get rid of the 'unit' column. How can I go about doing this? I want to be able to do it as I parse through the file and not copy it to a different file because the file is very large. Thanks!</p>\n\n<pre><code> &lt;radio&gt;,&lt;mcc&gt;,&lt;net&gt;,&lt;area&gt;,&lt;cell&gt;,&lt;unit&gt;,&lt;lon&gt;,&lt;lat&gt;,&lt;range&gt;,&lt;samples&gt;,&lt;changeable&gt;,&lt;created&gt;,&lt;updated&gt;,&lt;averageSignal&gt;\nUMTS,262,2,801,86355,,13.28527,52.521711,37,7,1,1282569574,1300175362,-91GSM,262,2,801,1795,,13.276605,52.525348,5714,9,1,1282569574,1300175362,-87\n</code></pre>\n"}, {"tags": ["perl", "libxml2", "xml-libxml"], "comments": [{"owner": {"reputation": 51521, "user_id": 2566198, "user_type": "registered", "accept_rate": 67, "profile_image": "https://i.stack.imgur.com/Y34ZA.jpg?s=128&g=1", "display_name": "Sobrique", "link": "https://stackoverflow.com/users/2566198/sobrique"}, "edited": false, "score": 0, "creation_date": 1500297205, "post_id": 45145111, "comment_id": 77259184, "body": "Sample data would be helpful for this. But how about <code>$node_ln -&gt; textContent;</code>"}, {"owner": {"reputation": 389, "user_id": 1625076, "user_type": "registered", "accept_rate": 90, "profile_image": "https://i.stack.imgur.com/fRfxc.png?s=128&g=1", "display_name": "dellair", "link": "https://stackoverflow.com/users/1625076/dellair"}, "reply_to_user": {"reputation": 51521, "user_id": 2566198, "user_type": "registered", "accept_rate": 67, "profile_image": "https://i.stack.imgur.com/Y34ZA.jpg?s=128&g=1", "display_name": "Sobrique", "link": "https://stackoverflow.com/users/2566198/sobrique"}, "edited": false, "score": 0, "creation_date": 1500298204, "post_id": 45145111, "comment_id": 77259954, "body": "@Sobrique, You are a genius!"}], "owner": {"reputation": 389, "user_id": 1625076, "user_type": "registered", "accept_rate": 90, "profile_image": "https://i.stack.imgur.com/fRfxc.png?s=128&g=1", "display_name": "dellair", "link": "https://stackoverflow.com/users/1625076/dellair"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 63, "favorite_count": 0, "answer_count": 0, "score": 0, "last_activity_date": 1500299643, "creation_date": 1500296705, "last_edit_date": 1500299643, "question_id": 45145111, "link": "https://stackoverflow.com/questions/45145111/perl-libxml-to-get-node-value-report-uninitialized", "title": "Perl LibXML to get node value report uninitialized", "body": "<p>I try to get the node value using LibXML, </p>\n\n<p>Returns below log:</p>\n\n<pre><code>Use of uninitialized value $long_name in concatenation (.) or string at validate.0.1.pl line 105, &lt;FILEHD&gt; line 1.\n###LI### 11 node_ln is: &lt;annotation source=\"Name\" xml:lang=\"EN\"&gt;TestValue&lt;/annotation&gt; and long_name is .\n</code></pre>\n\n<p>Script:</p>\n\n<pre><code>use XML::LibXML;\n....\nfor my $node_ln ($xpc-&gt;findnodes( qq(.//xsd:annotation[\\@source=\\\"Name\\\"]), $node_root)){\n    my $long_name = $node_ln-&gt;nodeValue;\n    print(\"###LI### 11 node_ln is: $node_ln and long_name is $long_name.\\n\");\n}\n</code></pre>\n\n<p>Scratching my head now on how to get the node value 'TestValue', any suggestion? Thank you all!</p>\n"}, {"tags": ["perl", "datetime"], "comments": [{"owner": {"reputation": 50468, "user_id": 1331451, "user_type": "registered", "accept_rate": 96, "profile_image": "https://i.stack.imgur.com/4ZPmj.png?s=128&g=1", "display_name": "simbabque", "link": "https://stackoverflow.com/users/1331451/simbabque"}, "edited": false, "score": 0, "creation_date": 1500288916, "post_id": 45142232, "comment_id": 77253299, "body": "That format seems not to be included by default in DateTime::Format::ISO8601. See <a href=\"https://metacpan.org/pod/distribution/DateTime-Format-ISO8601/lib/DateTime/Format/ISO8601.pod#5.4.1\" rel=\"nofollow noreferrer\">metacpan.org/pod/distribution/DateTime-Format-ISO8601/lib/&hellip;</a>. Easiest way is to roll your own parser."}, {"owner": {"reputation": 123805, "user_id": 622310, "user_type": "registered", "accept_rate": 33, "profile_image": "https://www.gravatar.com/avatar/8b6d35219e1808520bc238b28161e2e6?s=128&d=identicon&r=PG", "display_name": "Borodin", "link": "https://stackoverflow.com/users/622310/borodin"}, "edited": false, "score": 0, "creation_date": 1500290203, "post_id": 45142232, "comment_id": 77254167, "body": "It is very odd to have the date and time in <i>extended</i> format (with hyphen and colon separators) but the time zone in <i>basic</i> format. Are you sure that shouldn&#39;t be <code>-04:00</code>?"}, {"owner": {"reputation": 5328, "user_id": 1305947, "user_type": "registered", "accept_rate": 81, "profile_image": "https://www.gravatar.com/avatar/660bcd99a216234e04adb27125cbf0a3?s=128&d=identicon&r=PG", "display_name": "Joel G Mathew", "link": "https://stackoverflow.com/users/1305947/joel-g-mathew"}, "reply_to_user": {"reputation": 123805, "user_id": 622310, "user_type": "registered", "accept_rate": 33, "profile_image": "https://www.gravatar.com/avatar/8b6d35219e1808520bc238b28161e2e6?s=128&d=identicon&r=PG", "display_name": "Borodin", "link": "https://stackoverflow.com/users/622310/borodin"}, "edited": false, "score": 0, "creation_date": 1500291024, "post_id": 45142232, "comment_id": 77254767, "body": "@Borodin, Yes, <code>format_cldr(&quot;yyyy-MM-dd&#39;T&#39;HH:mm:ssZ&quot;)</code> returns it without the colon. I had to remove the colon from the API string to compare both."}, {"owner": {"reputation": 320771, "user_id": 589924, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/b2cf53d5a3d25f95c0db4e025aed4153?s=128&d=identicon&r=PG", "display_name": "ikegami", "link": "https://stackoverflow.com/users/589924/ikegami"}, "edited": false, "score": 0, "creation_date": 1500295042, "post_id": 45142232, "comment_id": 77257613, "body": "Indeed, that&#39;s neither ISO8601 nor RFC3339."}], "answers": [{"comments": [{"owner": {"reputation": 5328, "user_id": 1305947, "user_type": "registered", "accept_rate": 81, "profile_image": "https://www.gravatar.com/avatar/660bcd99a216234e04adb27125cbf0a3?s=128&d=identicon&r=PG", "display_name": "Joel G Mathew", "link": "https://stackoverflow.com/users/1305947/joel-g-mathew"}, "edited": false, "score": 1, "creation_date": 1500289627, "post_id": 45142524, "comment_id": 77253774, "body": "Thank you. The module POD seems to suggest that it must be first converted to UTC before being able to compare dates."}, {"owner": {"reputation": 50468, "user_id": 1331451, "user_type": "registered", "accept_rate": 96, "profile_image": "https://i.stack.imgur.com/4ZPmj.png?s=128&g=1", "display_name": "simbabque", "link": "https://stackoverflow.com/users/1331451/simbabque"}, "reply_to_user": {"reputation": 5328, "user_id": 1305947, "user_type": "registered", "accept_rate": 81, "profile_image": "https://www.gravatar.com/avatar/660bcd99a216234e04adb27125cbf0a3?s=128&d=identicon&r=PG", "display_name": "Joel G Mathew", "link": "https://stackoverflow.com/users/1305947/joel-g-mathew"}, "edited": false, "score": 0, "creation_date": 1500289879, "post_id": 45142524, "comment_id": 77253945, "body": "@Droidzone that&#39;s quite likely."}, {"owner": {"reputation": 50468, "user_id": 1331451, "user_type": "registered", "accept_rate": 96, "profile_image": "https://i.stack.imgur.com/4ZPmj.png?s=128&g=1", "display_name": "simbabque", "link": "https://stackoverflow.com/users/1331451/simbabque"}, "reply_to_user": {"reputation": 320771, "user_id": 589924, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/b2cf53d5a3d25f95c0db4e025aed4153?s=128&d=identicon&r=PG", "display_name": "ikegami", "link": "https://stackoverflow.com/users/589924/ikegami"}, "edited": false, "score": 0, "creation_date": 1500294738, "post_id": 45142524, "comment_id": 77257396, "body": "@ikegami yes. In that case, there is DateTime::Format::ISO8601 already prepared, but the missing colon is the problem here. Borodin mentioned that in a comment on the question."}], "tags": [], "owner": {"reputation": 50468, "user_id": 1331451, "user_type": "registered", "accept_rate": 96, "profile_image": "https://i.stack.imgur.com/4ZPmj.png?s=128&g=1", "display_name": "simbabque", "link": "https://stackoverflow.com/users/1331451/simbabque"}, "is_accepted": true, "score": 4, "last_activity_date": 1500289855, "last_edit_date": 1500289855, "creation_date": 1500289299, "answer_id": 45142524, "question_id": 45142232, "link": "https://stackoverflow.com/questions/45142232/how-to-parse-iso8601-compliant-strings-to-perls-datetime-object/45142524#45142524", "title": "How to parse ISO8601 compliant strings to perl&#39;s DateTime object?", "body": "<p><a href=\"https://metacpan.org/pod/DateTime#Parsing-Dates\" rel=\"nofollow noreferrer\">DateTime does not parse dates and times</a>. For that, you need to use one of the many modules from the DateTime::Format:: namespace. If there is none available, you can simply use <a href=\"https://metacpan.org/pod/DateTime::Format::Strptime\" rel=\"nofollow noreferrer\">DateTime::Format::Strptime</a>. Give it a <a href=\"https://metacpan.org/pod/DateTime::Format::Strptime#STRPTIME-PATTERN-TOKENS\" rel=\"nofollow noreferrer\">pattern</a> and hand it a string, and it will create a DateTime object for you.</p>\n\n<pre><code>use DateTime::Format::Strptime;\nmy $format = DateTime::Format::Strptime-&gt;new( pattern =&gt; '%FT%T%z');\nmy $dt = $format-&gt;parse_datetime( '2017-04-09T21:00:00-0400' );\n</code></pre>\n\n<p>You can then compare it to another DateTime.</p>\n\n<pre><code>print \"ok\" if $dt &lt; DateTime-&gt;now;\n</code></pre>\n\n<hr>\n\n<p>If you wanted to turn that into its own class, that's fairly trivial too.</p>\n\n<pre><code>package DateTime::Format::TVMaze;\nuse strict;\nuse warnings;\nuse DateTime;\nuse parent 'DateTime::Format::Strptime';\n\nsub new {\n    my $class = shift;\n    my %params = @_;\n\n    $params{pattern} = '%FT%T%z';\n\n    return $class-&gt;SUPER::new(%params);\n}\n</code></pre>\n\n<p>Now you can use it like this</p>\n\n<pre><code>my $dt = DateTime::Format::TVMaze-&gt;new-&gt;parse_datetime('2017-04-09T21:00:00-0400');\n</code></pre>\n"}], "owner": {"reputation": 5328, "user_id": 1305947, "user_type": "registered", "accept_rate": 81, "profile_image": "https://www.gravatar.com/avatar/660bcd99a216234e04adb27125cbf0a3?s=128&d=identicon&r=PG", "display_name": "Joel G Mathew", "link": "https://stackoverflow.com/users/1305947/joel-g-mathew"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 1515, "favorite_count": 0, "accepted_answer_id": 45142524, "answer_count": 1, "score": 2, "last_activity_date": 1500294807, "creation_date": 1500288524, "question_id": 45142232, "link": "https://stackoverflow.com/questions/45142232/how-to-parse-iso8601-compliant-strings-to-perls-datetime-object", "title": "How to parse ISO8601 compliant strings to perl&#39;s DateTime object?", "body": "<p>My final objective is to compare the current date and time with that returned by a TVMaze API that's in ISO8601 format, to determine if a new TV show has been aired.</p>\n\n<pre><code>use strict;\nuse warnings;\nuse feature 'say';\nuse DateTime;\nmy $curmytime = DateTime-&gt;now()-&gt;format_cldr(\"yyyy-MM-dd'T'HH:mm:ssZ\");\n# Output is: Time now in UTC:2017-07-17T10:44:52+0000\nsay \"Time now in UTC:\". $curmytime;\nmy $strtobeparsed = '2017-04-09T21:00:00-0400';\n# Next, parse the string \"2017-04-09T21:00:00-0400\" to a DateTime object\n</code></pre>\n\n<p>How do I parse the string to a DateTime object?</p>\n"}, {"tags": ["perl", "curl", "url-encoding"], "comments": [{"owner": {"reputation": 60461, "user_id": 3636601, "user_type": "registered", "accept_rate": 75, "profile_image": "https://www.gravatar.com/avatar/69a1b4f750ece89db0e49c94519f1a7d?s=128&d=identicon&r=PG&f=1", "display_name": "Jens", "link": "https://stackoverflow.com/users/3636601/jens"}, "edited": false, "score": 2, "creation_date": 1500280399, "post_id": 45139374, "comment_id": 77247764, "body": "use a perl module like <code>WWW::Curl</code> instead of a cmdline call"}, {"owner": {"reputation": 3559, "user_id": 4318982, "user_type": "registered", "accept_rate": 55, "profile_image": "https://i.stack.imgur.com/f43ul.jpg?s=128&g=1", "display_name": "gihan-maduranga", "link": "https://stackoverflow.com/users/4318982/gihan-maduranga"}, "reply_to_user": {"reputation": 60461, "user_id": 3636601, "user_type": "registered", "accept_rate": 75, "profile_image": "https://www.gravatar.com/avatar/69a1b4f750ece89db0e49c94519f1a7d?s=128&d=identicon&r=PG&f=1", "display_name": "Jens", "link": "https://stackoverflow.com/users/3636601/jens"}, "edited": false, "score": 0, "creation_date": 1500280487, "post_id": 45139374, "comment_id": 77247808, "body": "i am looking for a native way"}, {"owner": {"reputation": 50468, "user_id": 1331451, "user_type": "registered", "accept_rate": 96, "profile_image": "https://i.stack.imgur.com/4ZPmj.png?s=128&g=1", "display_name": "simbabque", "link": "https://stackoverflow.com/users/1331451/simbabque"}, "edited": false, "score": 5, "creation_date": 1500281004, "post_id": 45139374, "comment_id": 77248090, "body": "The native way in Perl would be not to use curl, but to use LWP::UserAgent instead."}, {"owner": {"reputation": 42833, "user_id": 18914, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/7a20a39ae2ef47ae042a3eddd5b5bd19?s=128&d=identicon&r=PG", "display_name": "Dave Sherohman", "link": "https://stackoverflow.com/users/18914/dave-sherohman"}, "edited": false, "score": 2, "creation_date": 1500281358, "post_id": 45139374, "comment_id": 77248319, "body": "The <code>curl</code> command line program is not native to Perl and, for that matter, many systems do not have <code>curl</code> installed at all."}], "answers": [{"tags": [], "owner": {"reputation": 3559, "user_id": 4318982, "user_type": "registered", "accept_rate": 55, "profile_image": "https://i.stack.imgur.com/f43ul.jpg?s=128&g=1", "display_name": "gihan-maduranga", "link": "https://stackoverflow.com/users/4318982/gihan-maduranga"}, "is_accepted": false, "score": 1, "last_activity_date": 1500289778, "creation_date": 1500289778, "answer_id": 45142693, "question_id": 45139374, "link": "https://stackoverflow.com/questions/45139374/special-character-are-contained-in-password-and-it-breaks-the-url/45142693#45142693", "title": "Special character are contained in password and it breaks the URL", "body": "<p>Finally i implemented @simbabque way using <code>WP::UserAgent</code>.</p>\n\n<pre><code>use LWP::UserAgent;\n\nmy $ua = new LWP::UserAgent;\nmy $req = new HTTP::Request(GET =&gt; 'http://git.sample.com/rest/api/1.0/projects/TEAMS/repos/');\n  $req-&gt;authorization_basic($userName,$password);\n  my $response = $ua-&gt;request($req);\n\n  #handle error\n  unless ($response-&gt;is_success) {\n        die $response-&gt;status_line;\n  }\n  my $content = $response-&gt;decoded_content();\n  if (utf8::is_utf8($content)) {\n      binmode STDOUT,':utf8';\n  } else {\n      binmode STDOUT,':raw';\n  }\n my $json=$content;\n\n my $decodedJson = decode_json($json); \n</code></pre>\n"}], "owner": {"reputation": 3559, "user_id": 4318982, "user_type": "registered", "accept_rate": 55, "profile_image": "https://i.stack.imgur.com/f43ul.jpg?s=128&g=1", "display_name": "gihan-maduranga", "link": "https://stackoverflow.com/users/4318982/gihan-maduranga"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 186, "favorite_count": 0, "answer_count": 1, "score": 0, "last_activity_date": 1500289778, "creation_date": 1500280210, "last_edit_date": 1500280550, "question_id": 45139374, "link": "https://stackoverflow.com/questions/45139374/special-character-are-contained-in-password-and-it-breaks-the-url", "title": "Special character are contained in password and it breaks the URL", "body": "<p>I run a curl request within my perl script and if password or user name contains any special character(&amp;) it break the url. Please let me know how can i solve this.</p>\n\n<pre><code> my $json=\"curl --user $userName:$password http://git.sample.com/rest/api/1.0/projects/TEAMS/repos/ \";\n\nmy $decodedJson = decode_json($json); \n</code></pre>\n"}, {"tags": ["perl"], "comments": [{"owner": {"reputation": 123805, "user_id": 622310, "user_type": "registered", "accept_rate": 33, "profile_image": "https://www.gravatar.com/avatar/8b6d35219e1808520bc238b28161e2e6?s=128&d=identicon&r=PG", "display_name": "Borodin", "link": "https://stackoverflow.com/users/622310/borodin"}, "edited": false, "score": 2, "creation_date": 1500286097, "post_id": 45137709, "comment_id": 77251519, "body": "The obvious diagnosis is that you are trying to load a 32-bit shared object from a 64-bit version of perl, but it is hard to imagine how you have managed to do so given your description. Why have you chosen to do the installation step by step instead of just running <code>cpan Proc::ProcessTable</code>? Please show the whole build process log."}], "owner": {"reputation": 11, "user_id": 8317878, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/f4f1b0bf69c07e48a6ae47a2739e0c95?s=128&d=identicon&r=PG&f=1", "display_name": "Saju Carlos", "link": "https://stackoverflow.com/users/8317878/saju-carlos"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 79, "favorite_count": 0, "answer_count": 0, "score": 1, "last_activity_date": 1500284889, "creation_date": 1500274349, "last_edit_date": 1500284889, "question_id": 45137709, "link": "https://stackoverflow.com/questions/45137709/tests-for-procprocesstable-module-fail-after-successful-build-on-solaris", "title": "Tests for Proc::ProcessTable module fail after successful build on Solaris", "body": "<p>I am getting the error below during <code>make test</code> on Solaris even though the <code>make</code> command executed successfully.</p>\n\n<blockquote>\n  <p>Can't load '/e/scripts/Proc-ProcessTable-0.53/blib/arch/auto/Proc/ProcessTable/ProcessTable.so' for module Proc::ProcessTable: ld.so.1: perl: fatal: /e/scripts/Proc-ProcessTable-0.53/blib/arch/auto/Proc/ProcessTable/ProcessTable.so: wrong ELF class: ELFCLASS32 at /usr/perl5/5.10/lib/5.10.0/sun4-solaris-thread-multi-64/DynaLoader.pm line 203.</p>\n</blockquote>\n\n<p>Can someone help and suggest what is wrong here?</p>\n"}, {"tags": ["perl", "file", "sorting", "find"], "comments": [{"owner": {"reputation": 87649, "user_id": 17389, "user_type": "registered", "accept_rate": 38, "profile_image": "https://www.gravatar.com/avatar/cd06d1314817ce946ab796af8750b56a?s=128&d=identicon&r=PG", "display_name": "ysth", "link": "https://stackoverflow.com/users/17389/ysth"}, "edited": false, "score": 2, "creation_date": 1500223335, "post_id": 45130704, "comment_id": 77231253, "body": "what goes wrong when you run it?  have you looked at @xmlfiles and verified the right filenames are getting added to it?"}, {"owner": {"reputation": 123805, "user_id": 622310, "user_type": "registered", "accept_rate": 33, "profile_image": "https://www.gravatar.com/avatar/8b6d35219e1808520bc238b28161e2e6?s=128&d=identicon&r=PG", "display_name": "Borodin", "link": "https://stackoverflow.com/users/622310/borodin"}, "edited": false, "score": 3, "creation_date": 1500232420, "post_id": 45130704, "comment_id": 77234082, "body": "Stuff like <code># Declare arrays</code> is ridiculous. If you can&#39;t see what the ensuing lines are doing then you don&#39;t have a hope of understanding the code, comments or not. It is twenty or more years out of date to pepper your code with comments just for the sake of it, and it is best to use sensible identifiers to express your ideas. You need comments only when the code is obscure or unidiomatic (perhaps due to an optimisation) or when it is unclear <i>why</i> the code is there. Neither apply to any of the comments in this code, so they serve only to obscure it. <code># Read all the files</code> is outright wrong."}], "answers": [{"comments": [{"owner": {"reputation": 53, "user_id": 8315779, "user_type": "registered", "accept_rate": 40, "profile_image": "https://www.gravatar.com/avatar/5fb380d4ca029c049877bf468011c61e?s=128&d=identicon&r=PG&f=1", "display_name": "lol", "link": "https://stackoverflow.com/users/8315779/lol"}, "edited": false, "score": 0, "creation_date": 1500227574, "post_id": 45131169, "comment_id": 77232610, "body": "im getting a blank output. i tried it for one file in a folder:  <code>#!&#47;usr&#47;bin&#47;perl   my $maindir = &quot;C:\\\\Users\\\\Dor\\\\Desktop\\\\aba\\\\a.txt&quot;; my $filename = &quot;a.txt&quot;;  my $age = -M $maindir; print $age; </code>"}, {"owner": {"reputation": 8273, "user_id": 1334695, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/431ae6e9f7610b9d6a6a6cdebd0244d5?s=128&d=identicon&r=PG", "display_name": "stevieb", "link": "https://stackoverflow.com/users/1334695/stevieb"}, "reply_to_user": {"reputation": 53, "user_id": 8315779, "user_type": "registered", "accept_rate": 40, "profile_image": "https://www.gravatar.com/avatar/5fb380d4ca029c049877bf468011c61e?s=128&d=identicon&r=PG&f=1", "display_name": "lol", "link": "https://stackoverflow.com/users/8315779/lol"}, "edited": false, "score": 0, "creation_date": 1500230643, "post_id": 45131169, "comment_id": 77233519, "body": "@lol Add <code>use warnings;</code> and <code>use strict;</code> to the top of your script. It&#39;ll tell you whether <code>$age</code> is undefined, which likely in this case will mean the file doesn&#39;t exist."}, {"owner": {"reputation": 320771, "user_id": 589924, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/b2cf53d5a3d25f95c0db4e025aed4153?s=128&d=identicon&r=PG", "display_name": "ikegami", "link": "https://stackoverflow.com/users/589924/ikegami"}, "edited": false, "score": 0, "creation_date": 1500232383, "post_id": 45131169, "comment_id": 77234072, "body": "Re &quot;<i>which likely in this case will mean the file doesn&#39;t exist</i>&quot;, The exact error will be found in <code>$!</code>"}, {"owner": {"reputation": 123805, "user_id": 622310, "user_type": "registered", "accept_rate": 33, "profile_image": "https://www.gravatar.com/avatar/8b6d35219e1808520bc238b28161e2e6?s=128&d=identicon&r=PG", "display_name": "Borodin", "link": "https://stackoverflow.com/users/622310/borodin"}, "edited": false, "score": 4, "creation_date": 1500232745, "post_id": 45131169, "comment_id": 77234182, "body": "You need to <i>\u201cSee perldoc -f -X to learn about all of the file tests\u201d</i> <b>yourself</b>. <code>-M</code> returns the age of a file (at the point when the Perl program was started) in <b><i>days</i></b>. Please be more careful to post accurate information. Imagining that you were editing a Wikipedia page often helps."}, {"owner": {"reputation": 1561, "user_id": 1447507, "user_type": "registered", "accept_rate": 58, "profile_image": "https://i.stack.imgur.com/f14xA.jpg?s=128&g=1", "display_name": "Srihari Karanth", "link": "https://stackoverflow.com/users/1447507/srihari-karanth"}, "reply_to_user": {"reputation": 53, "user_id": 8315779, "user_type": "registered", "accept_rate": 40, "profile_image": "https://www.gravatar.com/avatar/5fb380d4ca029c049877bf468011c61e?s=128&d=identicon&r=PG&f=1", "display_name": "lol", "link": "https://stackoverflow.com/users/8315779/lol"}, "edited": false, "score": 0, "creation_date": 1500272291, "post_id": 45131169, "comment_id": 77243432, "body": "@lol, can you try giving the file name string in double quotes? <code>if( -e &quot;$maindir&quot;) { my $age = -M &quot;$maindir&quot;; } else { print &quot;File doesnt exist\\n&quot;; }</code> and see what you get? If still the same error then maybe in windows it doesnt work."}, {"owner": {"reputation": 123805, "user_id": 622310, "user_type": "registered", "accept_rate": 33, "profile_image": "https://www.gravatar.com/avatar/8b6d35219e1808520bc238b28161e2e6?s=128&d=identicon&r=PG", "display_name": "Borodin", "link": "https://stackoverflow.com/users/622310/borodin"}, "edited": false, "score": 1, "creation_date": 1500284769, "post_id": 45131169, "comment_id": 77250552, "body": "@SrihariKaranth: Programming by wild guesswork is very rarely fruitful, and is likely to create buggy code. Enclosing a string variable in double quotes is <i>wrong</i> in general, and your program would work fine on Windows except that <code>-M</code> returns a file&#39;s age in <b><i>days</i></b> as I&#39;ve already written."}], "tags": [], "owner": {"reputation": 1561, "user_id": 1447507, "user_type": "registered", "accept_rate": 58, "profile_image": "https://i.stack.imgur.com/f14xA.jpg?s=128&g=1", "display_name": "Srihari Karanth", "link": "https://stackoverflow.com/users/1447507/srihari-karanth"}, "is_accepted": false, "score": 0, "last_activity_date": 1500272666, "last_edit_date": 1500272666, "creation_date": 1500224279, "answer_id": 45131169, "question_id": 45130704, "link": "https://stackoverflow.com/questions/45130704/perl-fastest-way-to-find-files-older-than-x-number-of-minutes-sorted-oldest-to/45131169#45131169", "title": "Perl: Fastest way to find files older than X number of minutes, sorted oldest to newest", "body": "<p>You have missed one simple way to get the modification time of file in perl: the -M switch.</p>\n\n<pre><code>    my $modifiedTimeinDays = -M \"$file\";\n\n    my $modifiedTimeinSec = $modifiedTimeinDays*60*60*24;\n\n    if($modifiedTimeinSec &gt; 60)\n    {\n       # file older than 60 sec\n    }\n</code></pre>\n\n<p>As simple as that.</p>\n\n<p>See <a href=\"http://perldoc.perl.org/functions/-X.html\" rel=\"nofollow noreferrer\">perldoc -f -X</a> to learn about all of the file tests.</p>\n"}, {"tags": [], "owner": {"reputation": 5701, "user_id": 35812, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/6e663162cefd6ac833e0555933b8583f?s=128&d=identicon&r=PG", "display_name": "Chris Charley", "link": "https://stackoverflow.com/users/35812/chris-charley"}, "is_accepted": false, "score": 1, "last_activity_date": 1500231958, "last_edit_date": 1500231958, "creation_date": 1500230794, "answer_id": 45132183, "question_id": 45130704, "link": "https://stackoverflow.com/questions/45130704/perl-fastest-way-to-find-files-older-than-x-number-of-minutes-sorted-oldest-to/45132183#45132183", "title": "Perl: Fastest way to find files older than X number of minutes, sorted oldest to newest", "body": "<p>The path and file isn't correct.</p>\n\n<pre><code>my $f = $maindir . $de;\n</code></pre>\n\n<p>Should be (add slash between path and file)</p>\n\n<pre><code>my $f = \"$maindir/$de\";\n</code></pre>\n"}, {"comments": [{"owner": {"reputation": 53, "user_id": 8315779, "user_type": "registered", "accept_rate": 40, "profile_image": "https://www.gravatar.com/avatar/5fb380d4ca029c049877bf468011c61e?s=128&d=identicon&r=PG&f=1", "display_name": "lol", "link": "https://stackoverflow.com/users/8315779/lol"}, "edited": false, "score": 0, "creation_date": 1500298347, "post_id": 45132544, "comment_id": 77260070, "body": "This is the output im getting: Argument &quot;<i>main::24&quot; isn&#39;t numeric in multiplication (</i>) at C:\\Users\\Dor\\Desktop \\folderTest.pl line 27."}], "tags": [], "owner": {"reputation": 123805, "user_id": 622310, "user_type": "registered", "accept_rate": 33, "profile_image": "https://www.gravatar.com/avatar/8b6d35219e1808520bc238b28161e2e6?s=128&d=identicon&r=PG", "display_name": "Borodin", "link": "https://stackoverflow.com/users/622310/borodin"}, "is_accepted": false, "score": 4, "last_activity_date": 1500254737, "last_edit_date": 1500254737, "creation_date": 1500233305, "answer_id": 45132544, "question_id": 45130704, "link": "https://stackoverflow.com/questions/45130704/perl-fastest-way-to-find-files-older-than-x-number-of-minutes-sorted-oldest-to/45132544#45132544", "title": "Perl: Fastest way to find files older than X number of minutes, sorted oldest to newest", "body": "<p>It's usually best to use <code>glob</code> rather than <code>opendir</code>/<code>readdir</code>, so as to avoid having to \u201crebuild\u201d the full path to the file for every result</p>\n\n<p>You will probably want to enable the <code>:bsd_glob</code> option on Windows so that paths with spaces, such as <code>C:\\Program Files</code>, are handled correctly</p>\n\n<pre><code>use strict;\nuse warnings 'all';\n\nuse File::Glob ':bsd_glob'; # Provide for spaces in path\n\nmy $root       = 'C:\\Users\\Dor\\Desktop\\aba';\nmy $minutesold = 60;\n\nmy @old_files = grep { -f and -M * 24 * 60 &gt; $minutes_old } glob \"$root\\\\*.*\";\n</code></pre>\n"}, {"tags": [], "owner": {"reputation": 2626, "user_id": 849967, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/137c89ef80ed860b95e68b42e0d5353e?s=128&d=identicon&r=PG", "display_name": "Kjetil S.", "link": "https://stackoverflow.com/users/849967/kjetil-s"}, "is_accepted": true, "score": 0, "last_activity_date": 1500255117, "creation_date": 1500255117, "answer_id": 45134853, "question_id": 45130704, "link": "https://stackoverflow.com/questions/45130704/perl-fastest-way-to-find-files-older-than-x-number-of-minutes-sorted-oldest-to/45134853#45134853", "title": "Perl: Fastest way to find files older than X number of minutes, sorted oldest to newest", "body": "<p>Solving this in kind of a functional programming style is the way to go here I think:</p>\n\n<pre><code>my $dir = shift() || $ENV{HOME}; #command line arg or else home dir\nmy $minutesold = 60; #1h                                                                                                                                                                                            \nopendir my $dh, $dir or die \"ERR: opendir($dir) $!\\n\";\n\nprint\nmap     \"$$_{timestamp}          .|            $$_{file}\\n\",\n#sort   { $$a{timestamp} &lt;=&gt; $$b{timestamp} }  # sort by age\n#sort   { $$a{file}      cmp $$b{file}      }  # sort by name\ngrep    $^T-$$_{timestamp} &gt;= 60*$minutesold,  # $^T is program startup time()\nmap     {{timestamp=&gt;(stat($_))[9], file=&gt;$_}}\ngrep    -f $_,\nmap     \"$dir/$_\",\nreaddir $dh;\n\nclosedir $dh;\n</code></pre>\n"}], "owner": {"reputation": 53, "user_id": 8315779, "user_type": "registered", "accept_rate": 40, "profile_image": "https://www.gravatar.com/avatar/5fb380d4ca029c049877bf468011c61e?s=128&d=identicon&r=PG&f=1", "display_name": "lol", "link": "https://stackoverflow.com/users/8315779/lol"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 1071, "favorite_count": 0, "accepted_answer_id": 45134853, "answer_count": 4, "score": -3, "last_activity_date": 1500272666, "creation_date": 1500221492, "question_id": 45130704, "link": "https://stackoverflow.com/questions/45130704/perl-fastest-way-to-find-files-older-than-x-number-of-minutes-sorted-oldest-to", "title": "Perl: Fastest way to find files older than X number of minutes, sorted oldest to newest", "body": "<p>im trying to check if there is a file (i dont care about folders) that older than X minuts. unfortunatly i can;t tell where is my bug on this code.\ni will appriciate any help :)</p>\n\n<p><strong>1. Find the files older than X number of minute</strong></p>\n\n<pre><code>#!/usr/bin/perl \n\nmy $maindir = \"C:\\\\Users\\\\Dor\\\\Desktop\\\\aba\";\nmy $minutesold = 60;\nmy $now = time;\nmy $filedisc;\n\n# Declare arrays\nmy @xmlfiles;\nmy @qulfiedfiles; \n\n# Declare a Dictionary\nmy %filedisc;\n\nopendir(my $dh, $maindir) or die \"opendir($maindir): $!\";\n\n # Read all the files\n while (my $de = readdir($dh)) \n {\n    # get the Full path of the file\n    my $f = $maindir . $de;\n\n    if ( -f $f )\n    {\n\n        push (@xmlfiles, $f); \n\n    }\n}\n    closedir($dh);\n\n\n # For every file in directory\n for my $file (@xmlfiles) {\n\n    # Get stats about a file\n    my @stats = stat($file);\n\n    # If time stamp is older than minutes provided\n    if ($stats[9] &gt;= ($now - (( $minutesold * 60) ))){\n\n       # Put the File and Time stamp in the dictionary\n       print($stats[9] .\"          .|           \"  .$file .\"\\n\\n\");\n\n    }\n\n    #print($now .\"\\n\")\n    #print($now - ( $minutesold * 60) .\"\\n\"); \n }\n</code></pre>\n"}, {"tags": ["sql-server", "perl", "cgi"], "comments": [{"owner": {"reputation": 11571, "user_id": 6466279, "user_type": "registered", "accept_rate": 50, "profile_image": "https://i.stack.imgur.com/Reprk.jpg?s=128&g=1", "display_name": "Kannan Kandasamy", "link": "https://stackoverflow.com/users/6466279/kannan-kandasamy"}, "edited": false, "score": 0, "creation_date": 1500205061, "post_id": 45127968, "comment_id": 77225888, "body": "User you connected thru client and service account which Perl is running both are same?"}, {"owner": {"reputation": 570, "user_id": 3951861, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/WECbi.jpg?s=128&g=1", "display_name": "Ashraf.Shk786", "link": "https://stackoverflow.com/users/3951861/ashraf-shk786"}, "reply_to_user": {"reputation": 11571, "user_id": 6466279, "user_type": "registered", "accept_rate": 50, "profile_image": "https://i.stack.imgur.com/Reprk.jpg?s=128&g=1", "display_name": "Kannan Kandasamy", "link": "https://stackoverflow.com/users/6466279/kannan-kandasamy"}, "edited": false, "score": 0, "creation_date": 1500205289, "post_id": 45127968, "comment_id": 77225963, "body": "Yes, they are same. But, I can again cross verify if they are same or not. Any proper steps for verification?"}, {"owner": {"reputation": 11571, "user_id": 6466279, "user_type": "registered", "accept_rate": 50, "profile_image": "https://i.stack.imgur.com/Reprk.jpg?s=128&g=1", "display_name": "Kannan Kandasamy", "link": "https://stackoverflow.com/users/6466279/kannan-kandasamy"}, "edited": false, "score": 0, "creation_date": 1500205347, "post_id": 45127968, "comment_id": 77225975, "body": "Looks like your $DSN is setting driver of MySql not the SQL Server, change that to ODBC, I provided below as answer"}], "answers": [{"comments": [{"owner": {"reputation": 570, "user_id": 3951861, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/WECbi.jpg?s=128&g=1", "display_name": "Ashraf.Shk786", "link": "https://stackoverflow.com/users/3951861/ashraf-shk786"}, "edited": false, "score": 0, "creation_date": 1500207000, "post_id": 45128141, "comment_id": 77226476, "body": "I tried to connect using the above code but getting Error <code>SQL-28000</code> which happens when the login is not valid and user is not an authenticated user. I tried to find the username whether it exists inside database so I logged into database and then navigated to <code>Security-&gt;logins</code> and I can see the user exists. Now, Is there any way to find the user credentials because what I think the credentials I am using is not valid."}, {"owner": {"reputation": 11571, "user_id": 6466279, "user_type": "registered", "accept_rate": 50, "profile_image": "https://i.stack.imgur.com/Reprk.jpg?s=128&g=1", "display_name": "Kannan Kandasamy", "link": "https://stackoverflow.com/users/6466279/kannan-kandasamy"}, "reply_to_user": {"reputation": 570, "user_id": 3951861, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/WECbi.jpg?s=128&g=1", "display_name": "Ashraf.Shk786", "link": "https://stackoverflow.com/users/3951861/ashraf-shk786"}, "edited": false, "score": 1, "creation_date": 1500207506, "post_id": 45128141, "comment_id": 77226627, "body": "It uses SQL Server login, as you said you need to check in Security/Logins in SQL Server for having required access"}, {"owner": {"reputation": 570, "user_id": 3951861, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/WECbi.jpg?s=128&g=1", "display_name": "Ashraf.Shk786", "link": "https://stackoverflow.com/users/3951861/ashraf-shk786"}, "edited": false, "score": 0, "creation_date": 1500209963, "post_id": 45128141, "comment_id": 77227287, "body": "Thanks Kannan It was helpful."}], "tags": [], "owner": {"reputation": 11571, "user_id": 6466279, "user_type": "registered", "accept_rate": 50, "profile_image": "https://i.stack.imgur.com/Reprk.jpg?s=128&g=1", "display_name": "Kannan Kandasamy", "link": "https://stackoverflow.com/users/6466279/kannan-kandasamy"}, "is_accepted": true, "score": -1, "last_activity_date": 1500206534, "last_edit_date": 1500206534, "creation_date": 1500205298, "answer_id": 45128141, "question_id": 45127968, "link": "https://stackoverflow.com/questions/45127968/sql-server-database-connection-using-perl-dbi/45128141#45128141", "title": "SQL server Database connection using Perl DBI", "body": "<p>Your connection string $DSN points driver to mysql database, change that to MSSQL Server as below:</p>\n\n<pre><code>$connectDB = DBI-&gt;connect(\"dbi:ODBC:Driver={SQL Server};Server=ServerIP_or_name;UID=$user;PWD=$password\")\n</code></pre>\n"}], "owner": {"reputation": 570, "user_id": 3951861, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/WECbi.jpg?s=128&g=1", "display_name": "Ashraf.Shk786", "link": "https://stackoverflow.com/users/3951861/ashraf-shk786"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 1279, "favorite_count": 0, "accepted_answer_id": 45128141, "answer_count": 1, "score": -3, "last_activity_date": 1500284297, "creation_date": 1500204083, "last_edit_date": 1500284297, "question_id": 45127968, "link": "https://stackoverflow.com/questions/45127968/sql-server-database-connection-using-perl-dbi", "title": "SQL server Database connection using Perl DBI", "body": "<p>I am trying to connect SQL server database using perl DBI/DBD from my local machine but facing an issue and getting error as : <code>Lost connection to MySQL server at 'reading initial communication packet', system error: 0 at C:\\Users\\user12345\\Desktop\\PerlExamples\\MyPerlExample2.pl line ...</code></p>\n\n<p>Now, I am having remote connection to the Database server and able to successfully connect. Also, I even ran the telnet command with IP address and port of SQL server so telnet was also successful. What I feel that something is going wrong with input parameters I am trying to use here.</p>\n\n<p>Below snapshot illustrates the perl code and database details and here I want to connect database \"XYZ\" as shown in the <a href=\"https://i.stack.imgur.com/d774J.jpg\" rel=\"nofollow noreferrer\">screenshot</a>.</p>\n"}, {"tags": ["perl", "file", "delimiter"], "answers": [{"tags": [], "owner": {"reputation": 198290, "user_id": 1030675, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/957956ce51706d03f19a4dc85a767bb1?s=128&d=identicon&r=PG", "display_name": "choroba", "link": "https://stackoverflow.com/users/1030675/choroba"}, "is_accepted": false, "score": 2, "last_activity_date": 1500148600, "creation_date": 1500148600, "answer_id": 45122235, "question_id": 45122141, "link": "https://stackoverflow.com/questions/45122141/adding-delimiters-to-end-of-file/45122235#45122235", "title": "adding delimiters to end of file", "body": "<p>To get the number of pipe symbols, you can use the <code>tr</code> operator.</p>\n\n<pre><code>my $count = tr/|//;\n</code></pre>\n\n<p>Just subtract the number of pipe symbols from the maximal number to get the number of pipes to add, use the <code>x</code> (times) operator to get them:</p>\n\n<pre><code>perl -lne 'print $_, \"|\" x (260 - tr/|//)'\n</code></pre>\n\n<p>I'm not sure the number is correct, it depends on whether the pipes also start or end the line.</p>\n"}], "owner": {"reputation": 21, "user_id": 8313207, "user_type": "registered", "profile_image": "https://lh3.googleusercontent.com/-RR0MbQ46-v4/AAAAAAAAAAI/AAAAAAABtzU/fmQCusGHr-0/photo.jpg?sz=128", "display_name": "Jeff Lewis", "link": "https://stackoverflow.com/users/8313207/jeff-lewis"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 64, "favorite_count": 0, "answer_count": 1, "score": -1, "last_activity_date": 1500273814, "creation_date": 1500147837, "last_edit_date": 1500273814, "question_id": 45122141, "link": "https://stackoverflow.com/questions/45122141/adding-delimiters-to-end-of-file", "title": "adding delimiters to end of file", "body": "<p>I am working on a TPT script to process some large files we have. Right now, each record length in the file has a delimiter, <code>|</code>.</p>\n\n<p>The problem is that not all fields are used by each record. For example, record 1 may have 100 fields and record 2 may have 260. For TPT to work, we need to have a delimiter for each field, so the records that have less than 261 fields populated, I need to append the appropriate number of pipes to the end of each record.</p>\n\n<p>So, taking my example above, record one would have 161 pipes appended to the end and record two would have 1.</p>\n\n<p>I have a perl script which will count the number of pipes in each record, but I am not sure how to take that info and accomplish the task of appending that many pipes to the field.</p>\n\n<pre><code>perl -ne 'print scalar(split(/\\|/, $_)) . \"\\n\"'\n</code></pre>\n\n<p>Any advice?</p>\n"}, {"tags": ["attachment", "mojolicious", "perl"], "comments": [{"owner": {"reputation": 50468, "user_id": 1331451, "user_type": "registered", "accept_rate": 96, "profile_image": "https://i.stack.imgur.com/4ZPmj.png?s=128&g=1", "display_name": "simbabque", "link": "https://stackoverflow.com/users/1331451/simbabque"}, "edited": false, "score": 0, "creation_date": 1500165363, "post_id": 45121935, "comment_id": 77218561, "body": "That huge conditional is very hard to read. Is not very maintainable."}, {"owner": {"reputation": 222, "user_id": 6265747, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/58f4f310cf0e2c351807a21290825e7c?s=128&d=identicon&r=PG&f=1", "display_name": "Bianca", "link": "https://stackoverflow.com/users/6265747/bianca"}, "reply_to_user": {"reputation": 50468, "user_id": 1331451, "user_type": "registered", "accept_rate": 96, "profile_image": "https://i.stack.imgur.com/4ZPmj.png?s=128&g=1", "display_name": "simbabque", "link": "https://stackoverflow.com/users/1331451/simbabque"}, "edited": false, "score": 1, "creation_date": 1500215276, "post_id": 45121935, "comment_id": 77228902, "body": "Hm simbabque you&#39;re right actually, I was trying to obtain an MVP so I put all those checks in there. I&#39;m changing it to something more clear"}], "answers": [{"tags": [], "owner": {"reputation": 222, "user_id": 6265747, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/58f4f310cf0e2c351807a21290825e7c?s=128&d=identicon&r=PG&f=1", "display_name": "Bianca", "link": "https://stackoverflow.com/users/6265747/bianca"}, "is_accepted": true, "score": 2, "last_activity_date": 1500149921, "creation_date": 1500149921, "answer_id": 45122393, "question_id": 45121935, "link": "https://stackoverflow.com/questions/45121935/writing-tests-in-mojolicious-for-checking-type-of-file-attachment-fails/45122393#45122393", "title": "Writing tests in Mojolicious for checking type of file attachment fails", "body": "<p>After looking here <a href=\"http://mojolicious.org/perldoc/Mojo/UserAgent/Transactor#tx\" rel=\"nofollow noreferrer\">http://mojolicious.org/perldoc/Mojo/UserAgent/Transactor#tx</a> I added <code>'Content-Type' =&gt; 'image/png'</code> to the hash reference in the form as such:</p>\n\n<pre><code>$t-&gt;post_ok('/attachment/test_page/add' =&gt; form =&gt; { image_upload =&gt;\n  { content =&gt; 'abc', filename =&gt; 'x.png', 'Content-Type' =&gt; 'image/png' },\n  image_name =&gt; 'new_image.jpg'\n})-&gt;status_is(200);\n</code></pre>\n\n<p>This solved the problem.</p>\n"}], "owner": {"reputation": 222, "user_id": 6265747, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/58f4f310cf0e2c351807a21290825e7c?s=128&d=identicon&r=PG&f=1", "display_name": "Bianca", "link": "https://stackoverflow.com/users/6265747/bianca"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 100, "favorite_count": 0, "accepted_answer_id": 45122393, "answer_count": 1, "score": 1, "last_activity_date": 1500149921, "creation_date": 1500146391, "last_edit_date": 1500148204, "question_id": 45121935, "link": "https://stackoverflow.com/questions/45121935/writing-tests-in-mojolicious-for-checking-type-of-file-attachment-fails", "title": "Writing tests in Mojolicious for checking type of file attachment fails", "body": "<p>I am trying to write tests in Mojolicious for checking if an image attachment was sent correctly from a form.\nI have a form containing <code>&lt;input type=\"file\" name=\"image_upload\" accept=\"image/*\"&gt;</code>. In the controller I am checking if <code>$self-&gt;req-&gt;upload('image_upload')-&gt;headers-&gt;content_type =~ /image/</code>. The tests, on the other side, send the image file as <code>form =&gt; {image_upl =&gt; { content =&gt; 'abc', filename =&gt; 'x.png' }}</code> inside the post request. Running the application works well, but the check fails inside the testing code. I don't really understand how those headers are set, so that I can send a mock image inside the post request.</p>\n\n<p>Here is the code:</p>\n\n<pre><code>#Router.\n$if_admin-&gt;post('/attachment/:page_id/add')-&gt;name('on_attachment_add')\n  -&gt;to('attachment#on_add');\n\n# Client side (Mojolicious template).\n&lt;%= form_for 'on_attachment_add' =&gt; { page_id =&gt; $self-&gt;stash('id') }\n        =&gt; (method =&gt; 'POST') =&gt; (enctype =&gt; \"multipart/form-data\")\n        =&gt; begin %&gt;\n    &lt;input type=\"file\" name=\"image_upload\" accept=\"image/*\"&gt;\n% end\n\n# Controller (on_add)\nmy $self = shift;\nmy $image_file = $self-&gt;req-&gt;upload('image_upload');\nif (!$image_file || $image_file-&gt;slurp eq \"\" || !$image_file-&gt;headers ||\n    !$image_file-&gt;headers-&gt;content_type ||\n    !($image_file-&gt;headers-&gt;content_type =~ /image/)) {\n  $self-&gt;render(\n    template =&gt; 'validation/invalid_data',\n    status =&gt; 400\n  );\n}\n\n# test.\n$t-&gt;post_ok('/attachment/test_page/add' =&gt; form =&gt; {\n  image_upload =&gt; { content =&gt; 'aaa', filename =&gt; 'x.png' },\n  image_name =&gt; 'new_image.jpg'\n})-&gt;status_is(200);\n</code></pre>\n"}, {"tags": ["mongodb", "perl"], "comments": [{"owner": {"reputation": 8273, "user_id": 1334695, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/431ae6e9f7610b9d6a6a6cdebd0244d5?s=128&d=identicon&r=PG", "display_name": "stevieb", "link": "https://stackoverflow.com/users/1334695/stevieb"}, "edited": false, "score": 0, "creation_date": 1500145828, "post_id": 45121590, "comment_id": 77214477, "body": "Is this your real code? It&#39;s invalid: <code>$cursor-&gt;hint({ some_index =&gt; 1} );</code>"}, {"owner": {"reputation": 113221, "user_id": 100754, "user_type": "registered", "accept_rate": 90, "profile_image": "https://www.gravatar.com/avatar/7804ebae32fbadef38537d74a915c22f?s=128&d=identicon&r=PG", "display_name": "Sinan &#220;n&#252;r", "link": "https://stackoverflow.com/users/100754/sinan-%c3%9cn%c3%bcr"}, "edited": false, "score": 0, "creation_date": 1500146078, "post_id": 45121590, "comment_id": 77214558, "body": "Don&#39;t use <b>\u2018</b> and <b>\u2019</b> as quotation marks in a program. Or, to put it differently, don&#39;t write your programs using a word processor. Also, what is <b><code>If</code></b>?! What is <b>defined-or</b> (i.e., <b><code>&#47;&#47;</code></b>) doing after a statement?!"}, {"owner": {"reputation": 113221, "user_id": 100754, "user_type": "registered", "accept_rate": 90, "profile_image": "https://www.gravatar.com/avatar/7804ebae32fbadef38537d74a915c22f?s=128&d=identicon&r=PG", "display_name": "Sinan &#220;n&#252;r", "link": "https://stackoverflow.com/users/100754/sinan-%c3%9cn%c3%bcr"}, "reply_to_user": {"reputation": 123805, "user_id": 622310, "user_type": "registered", "accept_rate": 33, "profile_image": "https://www.gravatar.com/avatar/8b6d35219e1808520bc238b28161e2e6?s=128&d=identicon&r=PG", "display_name": "Borodin", "link": "https://stackoverflow.com/users/622310/borodin"}, "edited": false, "score": 1, "creation_date": 1500156606, "post_id": 45121590, "comment_id": 77217101, "body": "@Borodin <code>ghd</code> is apparently my way of typing <i><code>the</code></i>."}], "answers": [{"comments": [{"owner": {"reputation": 1441, "user_id": 2068301, "user_type": "registered", "accept_rate": 65, "profile_image": "https://i.stack.imgur.com/rOtX1.jpg?s=128&g=1", "display_name": "Harish", "link": "https://stackoverflow.com/users/2068301/harish"}, "edited": false, "score": 1, "creation_date": 1500307190, "post_id": 45144728, "comment_id": 77266572, "body": "BTW, this doesn&#39;t work on MongoDB perl driver version 0.45. Works on v1.8.0 though. @xdg"}], "tags": [], "owner": {"reputation": 2855, "user_id": 11800, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/d37a63484d9878cf6c07dcc08adda9e2?s=128&d=identicon&r=PG", "display_name": "xdg", "link": "https://stackoverflow.com/users/11800/xdg"}, "is_accepted": true, "score": 1, "last_activity_date": 1500295659, "creation_date": 1500295659, "answer_id": 45144728, "question_id": 45121590, "link": "https://stackoverflow.com/questions/45121590/runtime-error-mongodbdatabaseerror-bad-hint/45144728#45144728", "title": "Runtime error: MongoDB::DatabaseError: bad hint", "body": "<p>Harish asked me via email and I'll repeat my answer here for posterity:</p>\n\n<p>The <code>hint</code> method takes a <em>string</em> when given an index name, or an <em>array reference</em> when given keys/order pairs:</p>\n\n<pre><code>$cursor-&gt;hint(\"some_index\");                # by name\n$cursor-&gt;hint([field1 =&gt; 1, field2 =&gt; -1]); # by keys\n</code></pre>\n\n<p>It also takes a hash reference, but don't use that because modern Perls randomize key order when serializing, so your hint may not match an index.</p>\n"}], "owner": {"reputation": 1441, "user_id": 2068301, "user_type": "registered", "accept_rate": 65, "profile_image": "https://i.stack.imgur.com/rOtX1.jpg?s=128&g=1", "display_name": "Harish", "link": "https://stackoverflow.com/users/2068301/harish"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 400, "favorite_count": 0, "accepted_answer_id": 45144728, "answer_count": 1, "score": 0, "last_activity_date": 1500295659, "creation_date": 1500144238, "last_edit_date": 1500159502, "question_id": 45121590, "link": "https://stackoverflow.com/questions/45121590/runtime-error-mongodbdatabaseerror-bad-hint", "title": "Runtime error: MongoDB::DatabaseError: bad hint", "body": "<p>I am trying to call the <a href=\"https://metacpan.org/pod/MongoDB::Cursor#hint\" rel=\"nofollow noreferrer\"><code>hint</code> method on a <code>MongoDB::Cursor</code> object</a>. However, it throwing an exception when it's trying to execute the query. See the code sample below:</p>\n\n<pre><code>sub some_method_which_returns_cursor {\n\n  my $cursor = $collection-&gt;find($filter);\n\n  if ($hint) {\n    $cursor-&gt;hint({\u2018some_index\u2019 =&gt; 1});  #failing here.\n  }\n\n  if ($sort) {\n    $cursor-&gt;sort($sort);\n  }\n\n   return $cursor;\n}\n</code></pre>\n\n<p>Any thoughts as to what's going on and how I can fix this?</p>\n"}, {"tags": ["bash", "perl", "bash-completion"], "comments": [{"owner": {"reputation": 50468, "user_id": 1331451, "user_type": "registered", "accept_rate": 96, "profile_image": "https://i.stack.imgur.com/4ZPmj.png?s=128&g=1", "display_name": "simbabque", "link": "https://stackoverflow.com/users/1331451/simbabque"}, "edited": false, "score": 1, "creation_date": 1500105089, "post_id": 45115260, "comment_id": 77202858, "body": "<a href=\"https://metacpan.org/release/MooseX-App-Plugin-ZshCompletion\" rel=\"nofollow noreferrer\">metacpan.org/release/MooseX-App-Plugin-ZshCompletion</a>"}, {"owner": {"reputation": 601, "user_id": 4414935, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/6c21256ef2c8fe05d838dfe5a0699dc4?s=128&d=identicon&r=PG", "display_name": "jarno", "link": "https://stackoverflow.com/users/4414935/jarno"}, "edited": false, "score": 0, "creation_date": 1558510012, "post_id": 45115260, "comment_id": 99120268, "body": "So you are using Windows? Standard locations may differ in various platforms."}], "answers": [{"comments": [{"owner": {"reputation": 3559, "user_id": 4318982, "user_type": "registered", "accept_rate": 55, "profile_image": "https://i.stack.imgur.com/f43ul.jpg?s=128&g=1", "display_name": "gihan-maduranga", "link": "https://stackoverflow.com/users/4318982/gihan-maduranga"}, "edited": false, "score": 0, "creation_date": 1500103379, "post_id": 45115550, "comment_id": 77202385, "body": "where can i find <code>.bashrc</code> file i searched it in my <code>userhome</code> but there is any"}, {"owner": {"reputation": 3559, "user_id": 4318982, "user_type": "registered", "accept_rate": 55, "profile_image": "https://i.stack.imgur.com/f43ul.jpg?s=128&g=1", "display_name": "gihan-maduranga", "link": "https://stackoverflow.com/users/4318982/gihan-maduranga"}, "edited": false, "score": 0, "creation_date": 1500104199, "post_id": 45115550, "comment_id": 77202612, "body": "in case if you cant create <code>.bashrc</code> in windows <a href=\"https://stackoverflow.com/questions/6883760/git-for-windows-bashrc-or-equivalent-config-files-for-git-bash-shell\" title=\"git for windows bashrc or equivalent config files for git bash shell\">stackoverflow.com/questions/6883760/&hellip;</a>"}], "tags": [], "owner": {"reputation": 3395, "user_id": 6164984, "user_type": "registered", "accept_rate": 40, "profile_image": "https://i.stack.imgur.com/gtaJI.png?s=128&g=1", "display_name": "math2001", "link": "https://stackoverflow.com/users/6164984/math2001"}, "is_accepted": true, "score": 5, "last_activity_date": 1500104921, "last_edit_date": 1500104921, "creation_date": 1500102788, "answer_id": 45115550, "question_id": 45115260, "link": "https://stackoverflow.com/questions/45115260/where-to-put-bash-completion-scripts/45115550#45115550", "title": "Where to put bash completion scripts", "body": "<p>I'm pretty sure you need to source it into your <code>.bashrc</code> (basically include it).</p>\n\n<p>Open <code>~/.bashrc</code> and write (you might need to create it if it doesn't exists)</p>\n\n<pre><code>source your_bash_file\n</code></pre>\n\n<p>Then, in your terminal, \"refresh\" by doing</p>\n\n<pre><code>source ~/.bashrc\n</code></pre>\n\n<p>and it should work.</p>\n"}, {"tags": [], "owner": {"reputation": 315, "user_id": 8426250, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/4abee52cd85f8de1c6235e2f595359f3?s=128&d=identicon&r=PG&f=1", "display_name": "PreciseMotion", "link": "https://stackoverflow.com/users/8426250/precisemotion"}, "is_accepted": false, "score": 1, "last_activity_date": 1554088985, "creation_date": 1554088985, "answer_id": 55447713, "question_id": 45115260, "link": "https://stackoverflow.com/questions/45115260/where-to-put-bash-completion-scripts/55447713#55447713", "title": "Where to put bash completion scripts", "body": "<p>The above answer is very inconvenient especially if you have multiple completion scripts and are having other people install and use your program. </p>\n\n<p>The more convenient way to d it would be to create a folder containing all your completion scripts in /etc or such, and then in the .bashrc source everything in that directory.</p>\n"}], "owner": {"reputation": 3559, "user_id": 4318982, "user_type": "registered", "accept_rate": 55, "profile_image": "https://i.stack.imgur.com/f43ul.jpg?s=128&g=1", "display_name": "gihan-maduranga", "link": "https://stackoverflow.com/users/4318982/gihan-maduranga"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 1536, "favorite_count": 1, "accepted_answer_id": 45115550, "answer_count": 2, "score": 5, "last_activity_date": 1554088985, "creation_date": 1500100487, "last_edit_date": 1500102095, "question_id": 45115260, "link": "https://stackoverflow.com/questions/45115260/where-to-put-bash-completion-scripts", "title": "Where to put bash completion scripts", "body": "<p>I have implemented some perl scripts and in some cases i have to pass some command line args into my program.Usability perspective i have decided to add some <code>bash completion script</code> into my project.But now i am stuck on where to put my script to work it as expected.Please let me know where can i put my <code>bash completion script</code></p>\n\n<p><strong>Custom Perl Scripts location</strong></p>\n\n<p><code>C:\\scripts\\tool\\bin\\ktools.pl</code></p>\n\n<p>also add <code>bin</code> path to the system variable.</p>\n\n<p>I have put my auto complete scripts in </p>\n\n<p><code>C:\\scripts\\tool\\bin\\etc\\bash_completion.d\\ktools\\foo</code></p>\n\n<p><strong>Bash Completion Script</strong></p>\n\n<pre><code>_foo() \n{\n    local cur prev opts\n    COMPREPLY=()\n    cur=\"${COMP_WORDS[COMP_CWORD]}\"\n    prev=\"${COMP_WORDS[COMP_CWORD-1]}\"\n    opts=\"--help --verbose --version\"\n\n    if [[ ${cur} == -* ]] ; then\n        COMPREPLY=( $(compgen -W \"${opts}\" -- ${cur}) )\n        return 0\n    fi\n}\ncomplete -F _foo ktools\n</code></pre>\n\n<p>Command should be auto suggested when user type <code>ktools -- + press tab</code> in command line or git bash.</p>\n"}, {"tags": ["windows", "perl", "batch-file", "command-line"], "comments": [{"owner": {"reputation": 53041, "user_id": 4653379, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/b3953dbedd0dabff5cbc3db9b0835b14?s=128&d=identicon&r=PG&f=1", "display_name": "zdim", "link": "https://stackoverflow.com/users/4653379/zdim"}, "edited": false, "score": 0, "creation_date": 1500096773, "post_id": 45114802, "comment_id": 77200917, "body": "Did you try with the <a href=\"http://perldoc.perl.org/functions/-X.html\" rel=\"nofollow noreferrer\">file test</a> for modification time_ -- <code>$mod_days = -M $file</code> ?  Also, the module <a href=\"http://search.cpan.org/~wyant/Win32API-File-Time-0.006/lib/Win32API/File/Time.pm\" rel=\"nofollow noreferrer\">Win32API::File::Time</a> should help."}, {"owner": {"reputation": 53041, "user_id": 4653379, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/b3953dbedd0dabff5cbc3db9b0835b14?s=128&d=identicon&r=PG&f=1", "display_name": "zdim", "link": "https://stackoverflow.com/users/4653379/zdim"}, "edited": false, "score": 0, "creation_date": 1500097157, "post_id": 45114802, "comment_id": 77200994, "body": "You do mention <code>stat</code>, but just in case: did you use <code>(stat $file)[9]</code> for <code>mtime</code>? (The one for <code>ctime</code> won&#39;t work as expected on Windows.)"}, {"owner": {"reputation": 53041, "user_id": 4653379, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/b3953dbedd0dabff5cbc3db9b0835b14?s=128&d=identicon&r=PG&f=1", "display_name": "zdim", "link": "https://stackoverflow.com/users/4653379/zdim"}, "edited": false, "score": 0, "creation_date": 1500097775, "post_id": 45114802, "comment_id": 77201117, "body": "To clarify -- the <code>-M</code> uses a <code>stat</code> call but what you say about trying it is strange.  The <code>stat</code> time-related fields are in seconds <i>since</i> epoch, which <i>starts</i> 1970.  How do you get a date &quot;<i>like 1960</i>&quot; from that? The <code>-M</code> returns time in days, far clearer to check."}], "answers": [{"tags": [], "owner": {"reputation": 68521, "user_id": 2128947, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/7ASTM.jpg?s=128&g=1", "display_name": "Magoo", "link": "https://stackoverflow.com/users/2128947/magoo"}, "is_accepted": true, "score": 3, "last_activity_date": 1500104707, "creation_date": 1500104707, "answer_id": 45115823, "question_id": 45114802, "link": "https://stackoverflow.com/questions/45114802/get-last-modified-date-of-file-with-strawberry-perl-on-windows/45115823#45115823", "title": "get last modified date of file with strawberry perl on windows", "body": "<pre><code>@fileInfo = qx(for %x in ($file) do echo %~tx);\n</code></pre>\n\n<p>perhaps?</p>\n\n<p>The <code>cmd</code> command for such purposes is</p>\n\n<pre><code>for %x in (filename) do echo %~tx\n</code></pre>\n\n<p>(assign the filename to the metavariable <code>%x</code> , then <code>echo</code> that file's [modification] date)</p>\n\n<p>where the <code>%</code> needs to be <code>%%</code> if executed within a batch rather than from the prompt.</p>\n\n<p><code>ECHO is on.</code> is characteristic of an <code>echo</code> statement with no argument.</p>\n\n<p>I'm not sure what the <code>two directories</code> higher idea is, but if that is where your target file is located, you'd need to nett prefix <code>filename</code> with <code>..\\..\\</code></p>\n\n<p>Perhaps </p>\n\n<pre><code>qx(echo %* whatever)\n</code></pre>\n\n<p>where <em>whatever</em> is your proposed <code>cmd</code> command will yield what <code>cmd</code> receives after all the escape-character resolutions (<code>%*</code> means \"all supplied arguments\")</p>\n"}], "owner": {"reputation": 880, "user_id": 4353125, "user_type": "registered", "accept_rate": 65, "profile_image": "https://lh5.googleusercontent.com/-Lbtg5AykAaw/AAAAAAAAAAI/AAAAAAAAAuQ/ektYtT6uFKU/photo.jpg?sz=128", "display_name": "Coty Embry", "link": "https://stackoverflow.com/users/4353125/coty-embry"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 310, "favorite_count": 0, "closed_date": 1500154645, "accepted_answer_id": 45115823, "answer_count": 1, "score": -1, "last_activity_date": 1500104707, "creation_date": 1500096088, "question_id": 45114802, "link": "https://stackoverflow.com/questions/45114802/get-last-modified-date-of-file-with-strawberry-perl-on-windows", "closed_reason": "Needs details or clarity", "title": "get last modified date of file with strawberry perl on windows", "body": "<p>I need to get the info on the file for when it was last modified using a perl script\nheres the relevant code: </p>\n\n<pre><code>#where $file equals \"MyFile.txt\"\n$backslash = \"\\\\\";\n$upTwoLayersHelper = \"..$backslash..$backslash\";\n@fileInfo = qx(forfiles /M $file /P $upTwoLayersHelper /C \"cmd /c echo @fdate @ftime\");\n</code></pre>\n\n<p>qx is a function in perl that allows the execution of a system command and redirects the output to a variable</p>\n\n<p>Ive already looked into using <code>stat</code> and it kept returning</p>\n\n<pre><code>Dec 31 of like 1960\n</code></pre>\n\n<p>so <a href=\"https://stackoverflow.com/questions/509576/how-do-i-get-a-files-last-modified-time-in-perl\">this</a> did not work for me :/</p>\n\n<p>I used the variables <code>$backslash</code> and <code>$upTwoLayersHelper</code> to build 'safely' the path since windows likes to use \\ rather than / and I tested to make sure that the variables interpolate within the qx(...here...) function call.</p>\n\n<p>My problem is the only output I get is</p>\n\n<pre><code>ECHO is on.\n</code></pre>\n\n<p>when I print the <code>@fileInfo</code> variable</p>\n\n<p><strong>BUT</strong> when I run the same command within the qx(...) function call <strong>outside</strong> of perl, and just in batch from the command line as a command it <strong>works</strong> and returns the correct date information</p>\n\n<p>what am I doing wrong in my perl script?</p>\n\n<p>Thanks for your time!</p>\n"}, {"tags": ["perl", "reference", "dereference"], "answers": [{"comments": [{"owner": {"reputation": 427, "user_id": 2267422, "user_type": "registered", "accept_rate": 62, "profile_image": "https://i.stack.imgur.com/T3FOc.jpg?s=128&g=1", "display_name": "Timothy B.", "link": "https://stackoverflow.com/users/2267422/timothy-b"}, "edited": false, "score": 0, "creation_date": 1500140634, "post_id": 45112767, "comment_id": 77212957, "body": "I followed all of the edits in your answer with great interest. The final snippet in your answer does exactly what I&#39;d hoped. I think I even see why. After first I thought it was magic, since &quot;desc&quot; isn&#39;t mentioned at all. But I think what it does is traverse all the values in the hash, so I don&#39;t have to single it out. This is actually what I was going to work on next. I learned a lot from both you and jeff6times7 so thanks!"}, {"owner": {"reputation": 320771, "user_id": 589924, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/b2cf53d5a3d25f95c0db4e025aed4153?s=128&d=identicon&r=PG", "display_name": "ikegami", "link": "https://stackoverflow.com/users/589924/ikegami"}, "reply_to_user": {"reputation": 427, "user_id": 2267422, "user_type": "registered", "accept_rate": 62, "profile_image": "https://i.stack.imgur.com/T3FOc.jpg?s=128&g=1", "display_name": "Timothy B.", "link": "https://stackoverflow.com/users/2267422/timothy-b"}, "edited": false, "score": 1, "creation_date": 1500228856, "post_id": 45112767, "comment_id": 77233035, "body": "Remember, the values of the hash <code>%$r</code> are references to hashes (e.g. the reference returned by <code>{     name =&gt; &#39;Harry&#39;,     desc =&gt; &#39;Prince&#39;,   }</code>, so it&#39;s doing <code>$h-&gt;{ $row-&gt;{name} } = {     name =&gt; &#39;Harry&#39;,     desc =&gt; &#39;Prince&#39;,   }</code>, exception using the same hash instead of making a copy."}], "tags": [], "owner": {"reputation": 320771, "user_id": 589924, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/b2cf53d5a3d25f95c0db4e025aed4153?s=128&d=identicon&r=PG", "display_name": "ikegami", "link": "https://stackoverflow.com/users/589924/ikegami"}, "is_accepted": true, "score": 3, "last_activity_date": 1500077499, "last_edit_date": 1500077499, "creation_date": 1500073756, "answer_id": 45112767, "question_id": 45112588, "link": "https://stackoverflow.com/questions/45112588/strict-refs-error-when-working-with-hash-reference/45112767#45112767", "title": "Strict refs error when working with hash reference", "body": "<pre><code>$$h{name}{desc}\n</code></pre>\n\n<p>is more clearly written as</p>\n\n<pre><code>$h-&gt;{name}{desc}\n</code></pre>\n\n<p>which is short for</p>\n\n<pre><code>$h-&gt;{name}-&gt;{desc}\n</code></pre>\n\n<p>As this makes clearer, the value of <code>$h-&gt;{name}</code> is being used as a hash reference (just like the value of <code>$h</code> was a moment before), but it contains a string.</p>\n\n<hr>\n\n<p>All you need to do replace <code>name</code> with the actual name, because that's what you want the key to be.</p>\n\n<pre><code>for my $i (keys(%$r)) {\n    $h-&gt;{ $r-&gt;{$i}{name} }{desc} = $r-&gt;{$i}{desc};\n}\n</code></pre>\n\n<p>We don't actually need <code>$i</code>, so let's simplify.</p>\n\n<pre><code>for my $row (values(%$r)) {\n    $h-&gt;{ $row-&gt;{name} }{desc} = $row-&gt;{desc};\n}\n</code></pre>\n\n<hr>\n\n<p>The problem with the above is that it doesn't lend itself to more than one field per row. The following deals with that better:</p>\n\n<pre><code>for my $row (values(%$r)) {\n    $h-&gt;{ $row-&gt;{name} } = {\n       desc =&gt; $row-&gt;{desc},\n       # ...\n    };\n}\n</code></pre>\n\n<p>Buy why build a new hash when could just the one we already have?</p>\n\n<pre><code>for my $row (values(%$r)) {\n    $h-&gt;{ $row-&gt;{name} } = $row;\n}\n</code></pre>\n"}, {"tags": [], "owner": {"reputation": 2445, "user_id": 1707353, "user_type": "registered", "accept_rate": 91, "profile_image": "https://www.gravatar.com/avatar/212f7b84a07bc7aea4f574669fe2465f?s=128&d=identicon&r=PG&f=1", "display_name": "Jeff Holt", "link": "https://stackoverflow.com/users/1707353/jeff-holt"}, "is_accepted": false, "score": -2, "last_activity_date": 1500075838, "last_edit_date": 1500075838, "creation_date": 1500073997, "answer_id": 45112796, "question_id": 45112588, "link": "https://stackoverflow.com/questions/45112588/strict-refs-error-when-working-with-hash-reference/45112796#45112796", "title": "Strict refs error when working with hash reference", "body": "<p>If you want to overwrite the receiving hash's member with all of the data from the giving hash, then the following code will work.</p>\n\n<pre><code>sub MergeHash {\n   my $h = shift; # reference to receiving hash\n   my $r = shift; # reference to giving hash\n   while (my ($k, $v) = each %$r) {\n      $h-&gt;{$k} = $v;\n   }\n}\n</code></pre>\n\n<p>The problem is that $$h assumes $h is a reference to a SCALAR and it is not, it is a reference to a HASH, you usually see people either dereference the hash while referring to one its members as I have done above. The other way is to declare a copy of the hash like this, but which would not work for your use case:</p>\n\n<pre><code>my %copyofh = %$h;\n</code></pre>\n"}], "owner": {"reputation": 427, "user_id": 2267422, "user_type": "registered", "accept_rate": 62, "profile_image": "https://i.stack.imgur.com/T3FOc.jpg?s=128&g=1", "display_name": "Timothy B.", "link": "https://stackoverflow.com/users/2267422/timothy-b"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 224, "favorite_count": 0, "accepted_answer_id": 45112767, "answer_count": 2, "score": 1, "last_activity_date": 1500077499, "creation_date": 1500072404, "last_edit_date": 1500076680, "question_id": 45112588, "link": "https://stackoverflow.com/questions/45112588/strict-refs-error-when-working-with-hash-reference", "title": "Strict refs error when working with hash reference", "body": "<p>I'm including code that I've verified illustrates my problem. My objective is to take a hash returned from a database query simulated here as %r (which contains the numerical indexing) and use the value of the \"name\" field as the key in the receiving hash. (This hash will contain results from multiple queries.)</p>\n\n<p>I feel it's likely I'm doing something stupid with references and dereferencing. I'd really like to try to grasp the concepts at work here. Thanks!</p>\n\n<pre><code>#!/usr/bin/perl -T\n\nuse strict;\nuse warnings;\n\nmy %hash;\nmy %r = (\n  '1' =&gt; {\n    name =&gt; 'Harry',\n    desc =&gt; 'Prince',\n  },\n);\n\nMergeHash(\\%hash,\\%r);\nforeach my $name (keys %hash) {\n  print \"name = $name, desc = $hash{$name}{desc}\\n\"; # EDIT: REVISED\n}\nexit;\n\nsub MergeHash {\n  my $h = shift; # reference to receiving hash\n  my $r = shift; # reference to giving hash\n  foreach my $i (keys %{$r}) {\n    $$h{name} = $$r{$i}{name} || 'Unknown'; # okay\n    $$h{name}{desc} = $$r{$i}{desc} || 'Unknown'; # Can't use string (\"Harry\") as a HASH ref while \"strict refs\" in use at ./test.pl line 25.\n  }\n}\n</code></pre>\n\n<p>Edit: As requested, the output (also indicated in the code above as comments):</p>\n\n<pre><code>Can't use string (\"Harry\") as a HASH ref while \"strict refs\" in use at ./test.pl line 25.\n</code></pre>\n\n<p>Edit #2: Revised print line (in code above) to make it clear the structure desired in %hash.</p>\n"}, {"tags": ["regex", "perl"], "comments": [{"owner": {"reputation": 481636, "user_id": 3832970, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/64323e6cf08401474da3bf770ea13b58?s=128&d=identicon&r=PG&f=1", "display_name": "Wiktor Stribi\u017cew", "link": "https://stackoverflow.com/users/3832970/wiktor-stribi%c5%bcew"}, "edited": false, "score": 1, "creation_date": 1500065025, "post_id": 45111303, "comment_id": 77194384, "body": "You may easily combine them using <code>^(?:[A-Z]+-)?\\d+$</code>"}, {"owner": {"reputation": 658023, "user_id": 548225, "user_type": "registered", "accept_rate": 90, "profile_image": "https://www.gravatar.com/avatar/dab08478b226280d4a30894c9a7ed719?s=128&d=identicon&r=PG", "display_name": "anubhava", "link": "https://stackoverflow.com/users/548225/anubhava"}, "edited": false, "score": 1, "creation_date": 1500065032, "post_id": 45111303, "comment_id": 77194391, "body": "yes use: <code>$str =~ m{^(?:[A-Z]+-)?\\d+$}</code>"}, {"owner": {"reputation": 53041, "user_id": 4653379, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/b3953dbedd0dabff5cbc3db9b0835b14?s=128&d=identicon&r=PG&f=1", "display_name": "zdim", "link": "https://stackoverflow.com/users/4653379/zdim"}, "edited": false, "score": 1, "creation_date": 1500065896, "post_id": 45111303, "comment_id": 77194750, "body": "What you ask, as answered by <a href=\"https://stackoverflow.com/users/3832970/wiktor-stribi%C5%BCew\">Wiktor Stribi\u017cew</a>, in the first place improves how the intent is conveyed -- match <code>\\d+</code> optionally preceded by that other.  It&#39;s just clearer that way, than when written with <code>||</code>.  Which is faster depends on which case happens more often, but I&#39;d say that <i>on average</i> the single regex should be faster since it never starts the engine twice."}, {"owner": {"reputation": 481636, "user_id": 3832970, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/64323e6cf08401474da3bf770ea13b58?s=128&d=identicon&r=PG&f=1", "display_name": "Wiktor Stribi\u017cew", "link": "https://stackoverflow.com/users/3832970/wiktor-stribi%c5%bcew"}, "edited": false, "score": 1, "creation_date": 1500066875, "post_id": 45111303, "comment_id": 77195144, "body": "As a side note, there is an interesting post where <a href=\"https://stackoverflow.com/questions/36420517/is-it-faster-to-use-alternation-than-subsequent-replacements-in-regular-expressi/36611087#36611087\">regex optimization in Perl</a> is discussed. If the patterns could not be &quot;joined&quot; with an optional non-capuring group, I think it would be more appropriate to just use the <code>||</code> with two separate regexps as <i>&quot;alternations hinder the optimizer&quot;</i>."}], "answers": [{"comments": [{"owner": {"reputation": 198290, "user_id": 1030675, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/957956ce51706d03f19a4dc85a767bb1?s=128&d=identicon&r=PG", "display_name": "choroba", "link": "https://stackoverflow.com/users/1030675/choroba"}, "edited": false, "score": 0, "creation_date": 1500065838, "post_id": 45111367, "comment_id": 77194728, "body": "For more complex regexps, consider the <code>&#47;x</code> modifier."}], "tags": [], "owner": {"reputation": 481636, "user_id": 3832970, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/64323e6cf08401474da3bf770ea13b58?s=128&d=identicon&r=PG&f=1", "display_name": "Wiktor Stribi\u017cew", "link": "https://stackoverflow.com/users/3832970/wiktor-stribi%c5%bcew"}, "is_accepted": true, "score": 3, "last_activity_date": 1500065206, "creation_date": 1500065206, "answer_id": 45111367, "question_id": 45111303, "link": "https://stackoverflow.com/questions/45111303/perl-match-one-of-multiple-regular-expressions/45111367#45111367", "title": "perl, match one of multiple regular expressions", "body": "<p>I would use an optional <a href=\"https://stackoverflow.com/questions/3512471/what-is-a-non-capturing-group-what-does-a-question-mark-followed-by-a-colon\">non-capturing group</a> and combine these two into</p>\n\n<pre><code>if ($str =~ m{^(?:[A-Z]+-)?\\d+$}) {\n    # do stuff\n}\n</code></pre>\n\n<p><strong>Details</strong></p>\n\n<ul>\n<li><code>^</code> - start of string</li>\n<li><code>(?:[A-Z]+-)?</code> - an optional non-capturing group (<code>?</code> quantifier makes it match 1 or 0 times)</li>\n<li><code>\\d+</code> - 1 or more digits</li>\n<li><code>$</code> - end of string.</li>\n</ul>\n"}], "owner": {"reputation": 17081, "user_id": 702948, "user_type": "registered", "accept_rate": 79, "profile_image": "https://www.gravatar.com/avatar/67e6e5d7a11beaccbb17bd47142b42de?s=128&d=identicon&r=PG", "display_name": "ewok", "link": "https://stackoverflow.com/users/702948/ewok"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 428, "favorite_count": 0, "accepted_answer_id": 45111367, "answer_count": 1, "score": 2, "last_activity_date": 1500065206, "creation_date": 1500064899, "question_id": 45111303, "link": "https://stackoverflow.com/questions/45111303/perl-match-one-of-multiple-regular-expressions", "title": "perl, match one of multiple regular expressions", "body": "<p>I've currently got the following code:</p>\n\n<pre><code>if ($str =~ m{^[A-Z]+-\\d+$} || $str =~ m{^\\d+$}){\n    # do stuff\n}\n</code></pre>\n\n<p>Is it possible to combine the 2 regular expressions into a single expression?  And would that improve performance at all?</p>\n"}, {"tags": ["regex", "perl", "awk", "sed", "command-line"], "comments": [{"owner": {"reputation": 6258, "user_id": 82262, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/8ce15931410b388a52eb2df4a864137f?s=128&d=identicon&r=PG&f=1", "display_name": "Matt Jacob", "link": "https://stackoverflow.com/users/82262/matt-jacob"}, "edited": false, "score": 1, "creation_date": 1500063752, "post_id": 45110924, "comment_id": 77193730, "body": "What do you mean by &quot;not all INSERT tables will be marked&quot;?"}, {"owner": {"reputation": 3209, "user_id": 2388218, "user_type": "registered", "accept_rate": 77, "profile_image": "https://www.gravatar.com/avatar/47123a304d11a2b8408fbb7bf804837c?s=128&d=identicon&r=PG", "display_name": "Matt", "link": "https://stackoverflow.com/users/2388218/matt"}, "reply_to_user": {"reputation": 6258, "user_id": 82262, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/8ce15931410b388a52eb2df4a864137f?s=128&d=identicon&r=PG&f=1", "display_name": "Matt Jacob", "link": "https://stackoverflow.com/users/82262/matt-jacob"}, "edited": false, "score": 3, "creation_date": 1500063836, "post_id": 45110924, "comment_id": 77193776, "body": "I mean some of those SQL statements (i.e. <code>INSERT INTO...</code>) will not have the markers (<code>MARKER_TOP, MARKER_BOTTOM</code>), this file is thousands of lines long with multiple <code>INSERT</code> statements. Those which do not have the markers, should not have the dates changed."}], "answers": [{"comments": [{"owner": {"reputation": 239138, "user_id": 45375, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/39f6e2dc52425b1e08027c01bb880be0?s=128&d=identicon&r=PG", "display_name": "mklement0", "link": "https://stackoverflow.com/users/45375/mklement0"}, "edited": false, "score": 2, "creation_date": 1500063997, "post_id": 45111016, "comment_id": 77193884, "body": "Nice, but I assume the enclosing <code>&#39;</code> should be removed too. On a side note, Mawk doesn&#39;t support <code>{n}</code>."}, {"owner": {"reputation": 658023, "user_id": 548225, "user_type": "registered", "accept_rate": 90, "profile_image": "https://www.gravatar.com/avatar/dab08478b226280d4a30894c9a7ed719?s=128&d=identicon&r=PG", "display_name": "anubhava", "link": "https://stackoverflow.com/users/548225/anubhava"}, "reply_to_user": {"reputation": 239138, "user_id": 45375, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/39f6e2dc52425b1e08027c01bb880be0?s=128&d=identicon&r=PG", "display_name": "mklement0", "link": "https://stackoverflow.com/users/45375/mklement0"}, "edited": false, "score": 2, "creation_date": 1500064144, "post_id": 45111016, "comment_id": 77193963, "body": "ok thanks, corrected single quote issue. Hope OP is not using <code>mawk</code> otherwise regex will have to change as well."}, {"owner": {"reputation": 3209, "user_id": 2388218, "user_type": "registered", "accept_rate": 77, "profile_image": "https://www.gravatar.com/avatar/47123a304d11a2b8408fbb7bf804837c?s=128&d=identicon&r=PG", "display_name": "Matt", "link": "https://stackoverflow.com/users/2388218/matt"}, "edited": false, "score": 2, "creation_date": 1500064249, "post_id": 45111016, "comment_id": 77194018, "body": "@anubhava That works beautifully. Would you mind explaining it (briefly)? I&#39;m not <i>that</i> familiar with <code>awk</code>. THANKS!"}, {"owner": {"reputation": 658023, "user_id": 548225, "user_type": "registered", "accept_rate": 90, "profile_image": "https://www.gravatar.com/avatar/dab08478b226280d4a30894c9a7ed719?s=128&d=identicon&r=PG", "display_name": "anubhava", "link": "https://stackoverflow.com/users/548225/anubhava"}, "edited": false, "score": 2, "creation_date": 1500064452, "post_id": 45111016, "comment_id": 77194104, "body": "Sure, I&#39;ve added explanation in answer. <code>\\047</code> is octal for single quote."}, {"owner": {"reputation": 3209, "user_id": 2388218, "user_type": "registered", "accept_rate": 77, "profile_image": "https://www.gravatar.com/avatar/47123a304d11a2b8408fbb7bf804837c?s=128&d=identicon&r=PG", "display_name": "Matt", "link": "https://stackoverflow.com/users/2388218/matt"}, "edited": false, "score": 0, "creation_date": 1500064614, "post_id": 45111016, "comment_id": 77194185, "body": "@anubhava What would the difference be if I wanted to write this back to the file, replacing those changed sections?"}, {"owner": {"reputation": 658023, "user_id": 548225, "user_type": "registered", "accept_rate": 90, "profile_image": "https://www.gravatar.com/avatar/dab08478b226280d4a30894c9a7ed719?s=128&d=identicon&r=PG", "display_name": "anubhava", "link": "https://stackoverflow.com/users/548225/anubhava"}, "edited": false, "score": 2, "creation_date": 1500064736, "post_id": 45111016, "comment_id": 77194249, "body": "If you have gnu awk then use: <code>awk -i inplace &#39;&#47;#MARKER_TOP&#47;{m=1} &#47;#MARKER_BOTTOM&#47;{m=0} m{gsub(&#47;\\047[0-9]{4}(-[0-9]{2}){2} [0-9]{2}(:[0-9]{2}){2}\\047&#47;, &quot;NOW()&quot;)} 1&#39; file</code> otherwise use old fashioned: <code>awk &#39;...&#39; file &gt; _tmp.out &amp;&amp; mv _tmp.out file</code>"}, {"owner": {"reputation": 3209, "user_id": 2388218, "user_type": "registered", "accept_rate": 77, "profile_image": "https://www.gravatar.com/avatar/47123a304d11a2b8408fbb7bf804837c?s=128&d=identicon&r=PG", "display_name": "Matt", "link": "https://stackoverflow.com/users/2388218/matt"}, "edited": false, "score": 1, "creation_date": 1500064890, "post_id": 45111016, "comment_id": 77194318, "body": "@anubhava Thanks again!"}], "tags": [], "owner": {"reputation": 658023, "user_id": 548225, "user_type": "registered", "accept_rate": 90, "profile_image": "https://www.gravatar.com/avatar/dab08478b226280d4a30894c9a7ed719?s=128&d=identicon&r=PG", "display_name": "anubhava", "link": "https://stackoverflow.com/users/548225/anubhava"}, "is_accepted": true, "score": 2, "last_activity_date": 1500064435, "last_edit_date": 1500064435, "creation_date": 1500063535, "answer_id": 45111016, "question_id": 45110924, "link": "https://stackoverflow.com/questions/45110924/finding-replacing-a-regex-pattern-within-a-string-between-two-marker-strings/45111016#45111016", "title": "Finding/replacing a regex pattern within a string between two marker strings", "body": "<p>You can use <code>awk</code> like this:</p>\n\n<pre><code>awk '/#MARKER_TOP/{m=1} /#MARKER_BOTTOM/{m=0} m{\n   gsub(/\\047[0-9]{4}(-[0-9]{2}){2} [0-9]{2}(:[0-9]{2}){2}\\047/, \"NOW()\")} 1' file\n\n#MARKER_TOP\nINSERT INTO ('col1', 'col2', 'col3')\nVALUES\n(123,123,NOW(),123)\n...etc.\n(123,123,NOW(),123);\n#MARKER_BOTTOM\n</code></pre>\n\n<p>Here is how it works:</p>\n\n<ul>\n<li><code>/#MARKER_TOP/{m=1}</code> : set a flag <code>m=1</code> when we get text <code>#MARKER_TOP</code></li>\n<li><code>/#MARKER_BOTTOM/{m=0}</code> : reset flag <code>m=0</code> when we get text <code>#MARKER_BOTTOM</code></li>\n<li><code>m{gsub(/.../, \"NOW()\")}</code> : when <code>m==1</code> then replace date string with <code>NOW()</code> using regex</li>\n<li><code>1</code> : print each record</li>\n</ul>\n"}, {"tags": [], "owner": {"reputation": 53041, "user_id": 4653379, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/b3953dbedd0dabff5cbc3db9b0835b14?s=128&d=identicon&r=PG&f=1", "display_name": "zdim", "link": "https://stackoverflow.com/users/4653379/zdim"}, "is_accepted": false, "score": 4, "last_activity_date": 1500108186, "last_edit_date": 1500108186, "creation_date": 1500063596, "answer_id": 45111033, "question_id": 45110924, "link": "https://stackoverflow.com/questions/45110924/finding-replacing-a-regex-pattern-within-a-string-between-two-marker-strings/45111033#45111033", "title": "Finding/replacing a regex pattern within a string between two marker strings", "body": "<p>A simple way is to use the <a href=\"http://perldoc.perl.org/perlop.html#Range-Operators\" rel=\"nofollow noreferrer\">range operator</a></p>\n\n<pre><code>use warnings;\nuse strict;\n\nmy $file = 'test.sql';\nopen my $fh, '&lt;', $file or die \"Can't open $file: $!\";\n\nmy $re_date = qr/'\\d{4}-\\d{2}-\\d{2} \\d{2}:\\d{2}:\\d{2}'/;\n\nwhile (&lt;$fh&gt;) \n{\n    if (/#MARKER_TOP/ .. /#MARKER_BOTTOM/) {\n        s/$re_date/NOW()/;\n    }   \n\n    print;\n}\n</code></pre>\n\n<p>or in a one-liner</p>\n\n<pre><code>perl -wpe\"s/'\\d{4}-\\d{2}-\\d{2} \\d{2}:\\d{2}:\\d{2}'/NOW()/ \n    if /#MARKER_TOP/ .. /#MARKER_BOTTOM/\n\" test.sql\n</code></pre>\n\n<p>where I delimit the code with <code>\"...\"</code> so to be able to use <code>'</code> inside (there are other ways).</p>\n\n<p>I assume that there is a single date on a line, in the format strictly as given in the question, inside <code>''</code>.  I tested by adding another <code>INSERT</code> section but without markers. The replacements happen only in the markers-bracketed one.</p>\n\n<hr>\n\n<p>The range operator works by keeping the state: once its left operand turns true it becomes true, and it stays true until the right operand turns true, after which it returns false in the next iteration.  It works this way in scalar context, while in list context it returns a list within that range. See linked docs.</p>\n"}], "owner": {"reputation": 3209, "user_id": 2388218, "user_type": "registered", "accept_rate": 77, "profile_image": "https://www.gravatar.com/avatar/47123a304d11a2b8408fbb7bf804837c?s=128&d=identicon&r=PG", "display_name": "Matt", "link": "https://stackoverflow.com/users/2388218/matt"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 93, "favorite_count": 0, "accepted_answer_id": 45111016, "answer_count": 2, "score": 2, "last_activity_date": 1500108186, "creation_date": 1500063105, "question_id": 45110924, "link": "https://stackoverflow.com/questions/45110924/finding-replacing-a-regex-pattern-within-a-string-between-two-marker-strings", "title": "Finding/replacing a regex pattern within a string between two marker strings", "body": "<p>It's not so much the regex <em>pattern</em> as it is <em>how</em> to achieve it. I've attempted perl, sed, and awk (various attempts with each), but I'm not sure how possible this is as a one-liner (I'd prefer to not write a perl script).</p>\n\n<p>Say I have </p>\n\n<pre><code>#MARKER_TOP\nINSERT INTO ('col1', 'col2', 'col3')\nVALUES\n(123,123,'2018-20-20 24:24:24',123)\n...etc.\n(123,123,'2018-20-20 24:24:24',123);\n#MARKER_BOTTOM\n\n...and more! (not all INSERT tables will be marked, btw)\n</code></pre>\n\n<p>What I'd like to do is replace all those string dates with SQLs <code>NOW()</code>. Specifically, with Perl, I've tried the following:</p>\n\n<p><code>perl -w -pi.bak -e \"undef $/; s/(#MARKER_TOP.*)'[0-9][0-9][0-9][0-9]-[0-9][0-9]-[0-9][0-9] [0-9][0-9]:[0-9][0-9]:[0-9][0-9]'(.*#MARKER_BOTTOM)/$1 NOW() $2/msg\" test.sql</code></p>\n\n<p>But it's ripping all of the blocks of interest (<code>#MARKER_TOP</code>, etc.) out completely and replacing it with <code>NOW()</code> which is way too heavy-handed for what I'm wanting.</p>\n"}, {"tags": ["perl", "dependencies"], "comments": [{"owner": {"reputation": 198290, "user_id": 1030675, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/957956ce51706d03f19a4dc85a767bb1?s=128&d=identicon&r=PG", "display_name": "choroba", "link": "https://stackoverflow.com/users/1030675/choroba"}, "edited": false, "score": 0, "creation_date": 1500062591, "post_id": 45110757, "comment_id": 77193120, "body": "Usually, one installs <a href=\"http://p3rl.org/local::lib\" rel=\"nofollow noreferrer\">local::lib</a>, then <code>cpan Class::Method::Modifiers</code>. But <code>cpan Email::Outlook::Message</code> should handle all the dependencies for you."}, {"owner": {"reputation": 15, "user_id": 6901497, "user_type": "registered", "profile_image": "https://lh3.googleusercontent.com/--q3bnOuyNg4/AAAAAAAAAAI/AAAAAAAA7eA/ETnVOtImnFQ/photo.jpg?sz=128", "display_name": "Ricardo Santamar&#237;a Porras", "link": "https://stackoverflow.com/users/6901497/ricardo-santamar%c3%ada-porras"}, "reply_to_user": {"reputation": 198290, "user_id": 1030675, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/957956ce51706d03f19a4dc85a767bb1?s=128&d=identicon&r=PG", "display_name": "choroba", "link": "https://stackoverflow.com/users/1030675/choroba"}, "edited": false, "score": 0, "creation_date": 1500062886, "post_id": 45110757, "comment_id": 77193274, "body": "I already did <code>cpan -i Email::Outlook::Message</code> but the issue persists"}, {"owner": {"reputation": 198290, "user_id": 1030675, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/957956ce51706d03f19a4dc85a767bb1?s=128&d=identicon&r=PG", "display_name": "choroba", "link": "https://stackoverflow.com/users/1030675/choroba"}, "edited": false, "score": 0, "creation_date": 1500063510, "post_id": 45110757, "comment_id": 77193608, "body": "How is your cpan configured? Does is install prerequisites?"}, {"owner": {"reputation": 198290, "user_id": 1030675, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/957956ce51706d03f19a4dc85a767bb1?s=128&d=identicon&r=PG", "display_name": "choroba", "link": "https://stackoverflow.com/users/1030675/choroba"}, "edited": false, "score": 0, "creation_date": 1500064143, "post_id": 45110757, "comment_id": 77193962, "body": "Also, what does line 9 in /usr/local/bin/msgconvert say? Is it <a href=\"https://metacpan.org/source/MVZ/Email-Outlook-Message-0.918/script/msgconvert#L9\" rel=\"nofollow noreferrer\">this</a>?"}, {"owner": {"reputation": 15, "user_id": 6901497, "user_type": "registered", "profile_image": "https://lh3.googleusercontent.com/--q3bnOuyNg4/AAAAAAAAAAI/AAAAAAAA7eA/ETnVOtImnFQ/photo.jpg?sz=128", "display_name": "Ricardo Santamar&#237;a Porras", "link": "https://stackoverflow.com/users/6901497/ricardo-santamar%c3%ada-porras"}, "reply_to_user": {"reputation": 198290, "user_id": 1030675, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/957956ce51706d03f19a4dc85a767bb1?s=128&d=identicon&r=PG", "display_name": "choroba", "link": "https://stackoverflow.com/users/1030675/choroba"}, "edited": false, "score": 0, "creation_date": 1500064859, "post_id": 45110757, "comment_id": 77194303, "body": "how can I see how is my cpan configured? and Yes line 9 is that."}, {"owner": {"reputation": 198290, "user_id": 1030675, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/957956ce51706d03f19a4dc85a767bb1?s=128&d=identicon&r=PG", "display_name": "choroba", "link": "https://stackoverflow.com/users/1030675/choroba"}, "edited": false, "score": 0, "creation_date": 1500064960, "post_id": 45110757, "comment_id": 77194354, "body": "Run <code>cpan</code>, then in the cpan shell type <code>o conf prerequisites_policy</code>."}, {"owner": {"reputation": 15, "user_id": 6901497, "user_type": "registered", "profile_image": "https://lh3.googleusercontent.com/--q3bnOuyNg4/AAAAAAAAAAI/AAAAAAAA7eA/ETnVOtImnFQ/photo.jpg?sz=128", "display_name": "Ricardo Santamar&#237;a Porras", "link": "https://stackoverflow.com/users/6901497/ricardo-santamar%c3%ada-porras"}, "reply_to_user": {"reputation": 198290, "user_id": 1030675, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/957956ce51706d03f19a4dc85a767bb1?s=128&d=identicon&r=PG", "display_name": "choroba", "link": "https://stackoverflow.com/users/1030675/choroba"}, "edited": false, "score": 0, "creation_date": 1500065346, "post_id": 45110757, "comment_id": 77194526, "body": "<code>nolock_cpan[6]&gt; o conf prerequisites_policy</code>      <code>prerequisites_policy [follow]</code> <code>Type &#39;o conf&#39; to view all configuration items</code>"}, {"owner": {"reputation": 198290, "user_id": 1030675, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/957956ce51706d03f19a4dc85a767bb1?s=128&d=identicon&r=PG", "display_name": "choroba", "link": "https://stackoverflow.com/users/1030675/choroba"}, "edited": false, "score": 0, "creation_date": 1500065882, "post_id": 45110757, "comment_id": 77194745, "body": "Can you post the whole log of <code>Email::Outlook::Message</code>?"}, {"owner": {"reputation": 15, "user_id": 6901497, "user_type": "registered", "profile_image": "https://lh3.googleusercontent.com/--q3bnOuyNg4/AAAAAAAAAAI/AAAAAAAA7eA/ETnVOtImnFQ/photo.jpg?sz=128", "display_name": "Ricardo Santamar&#237;a Porras", "link": "https://stackoverflow.com/users/6901497/ricardo-santamar%c3%ada-porras"}, "reply_to_user": {"reputation": 198290, "user_id": 1030675, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/957956ce51706d03f19a4dc85a767bb1?s=128&d=identicon&r=PG", "display_name": "choroba", "link": "https://stackoverflow.com/users/1030675/choroba"}, "edited": false, "score": 0, "creation_date": 1500066194, "post_id": 45110757, "comment_id": 77194875, "body": "<code>$ cpan -i Email::Outlook::Message</code> <code>Loading internal null logger. Install Log::Log4perl for logging messages</code> <code>Reading &#39;&#47;home&#47;laptop1&#47;.cpan&#47;Metadata&#39;</code>   <code>Database was generated on Fri, 14 Jul 2017 15:54:03 GMT</code> <code>Email::Outlook::Message is up to date (0.918).</code>"}, {"owner": {"reputation": 198290, "user_id": 1030675, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/957956ce51706d03f19a4dc85a767bb1?s=128&d=identicon&r=PG", "display_name": "choroba", "link": "https://stackoverflow.com/users/1030675/choroba"}, "edited": false, "score": 0, "creation_date": 1500066295, "post_id": 45110757, "comment_id": 77194916, "body": "I mean the whole log of the original installation."}, {"owner": {"reputation": 15, "user_id": 6901497, "user_type": "registered", "profile_image": "https://lh3.googleusercontent.com/--q3bnOuyNg4/AAAAAAAAAAI/AAAAAAAA7eA/ETnVOtImnFQ/photo.jpg?sz=128", "display_name": "Ricardo Santamar&#237;a Porras", "link": "https://stackoverflow.com/users/6901497/ricardo-santamar%c3%ada-porras"}, "reply_to_user": {"reputation": 198290, "user_id": 1030675, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/957956ce51706d03f19a4dc85a767bb1?s=128&d=identicon&r=PG", "display_name": "choroba", "link": "https://stackoverflow.com/users/1030675/choroba"}, "edited": false, "score": 1, "creation_date": 1500067168, "post_id": 45110757, "comment_id": 77195260, "body": "I could fix the dependency error installing &quot;Moose&quot; with <code>sudo perl -MCPAN -e&quot;install Moose&quot;</code> Thank you so much!"}], "owner": {"reputation": 15, "user_id": 6901497, "user_type": "registered", "profile_image": "https://lh3.googleusercontent.com/--q3bnOuyNg4/AAAAAAAAAAI/AAAAAAAA7eA/ETnVOtImnFQ/photo.jpg?sz=128", "display_name": "Ricardo Santamar&#237;a Porras", "link": "https://stackoverflow.com/users/6901497/ricardo-santamar%c3%ada-porras"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 32, "favorite_count": 1, "closed_date": 1500066639, "answer_count": 0, "score": 0, "last_activity_date": 1500063251, "creation_date": 1500062468, "last_edit_date": 1500063251, "question_id": 45110757, "link": "https://stackoverflow.com/questions/45110757/how-to-install-the-classmethodmodifiers-module-in-perl", "closed_reason": "Duplicate", "title": "How to install the Class::Method::Modifiers module in Perl?", "body": "<p>I'm trying to use the library MSGConvert to convert outlook emails to .eml emails, but I have had some dependency issues with perl (I think).\nThe backtrace indicates that I may need to install a perl module. How can I do that? Thank you in advance.</p>\n\n<pre><code>Cant locate Class/Method/Modifiers.pm in @INC (you may need to install the Class::Method::Modifiers module) (@INC contains: /etc/perl /usr/local/lib/perl/5.18.2 /usr/local/share/perl/5.18.2 /usr/lib/perl5 /usr/share/perl5 /usr/lib/perl/5.18 /usr/share/perl/5.18 /usr/local/lib/site_perl .) at /usr/local/share/perl/5.18.2/Moo/_Utils.pm line 43.\nCompilation failed in require at /usr/local/share/perl/5.18.2/Module/Runtime.pm line 317.\nCompilation failed in require at /usr/local/share/perl/5.18.2/Module/Runtime.pm line 317.\nCompilation failed in require at /usr/local/share/perl/5.18.2/Email/Sender/Role/CommonSending.pm line 9.\nBEGIN failed--compilation aborted at /usr/local/share/perl/5.18.2/Email/Sender/Role/CommonSending.pm line 9.\nCompilation failed in require at /usr/local/share/perl/5.18.2/Module/Runtime.pm line 317.\nCompilation failed in require at /usr/local/share/perl/5.18.2/Module/Runtime.pm line 317.\nCompilation failed in require at /usr/local/bin/msgconvert line 9.\nBEGIN failed--compilation aborted at /usr/local/bin/msgconvert line 9.\nUnexpected Error!\n</code></pre>\n"}, {"tags": ["regex", "perl"], "comments": [{"owner": {"reputation": 4233, "user_id": 1143387, "user_type": "registered", "accept_rate": 95, "profile_image": "https://www.gravatar.com/avatar/0b9a9c460593d77b3561075ef1889150?s=128&d=identicon&r=PG", "display_name": "sniperd", "link": "https://stackoverflow.com/users/1143387/sniperd"}, "edited": false, "score": 1, "creation_date": 1500053167, "post_id": 45108610, "comment_id": 77188579, "body": "Try:  /\\.([^.]+)\\./  escaping the . and making what you want a negative character class"}, {"owner": {"reputation": 481636, "user_id": 3832970, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/64323e6cf08401474da3bf770ea13b58?s=128&d=identicon&r=PG&f=1", "display_name": "Wiktor Stribi\u017cew", "link": "https://stackoverflow.com/users/3832970/wiktor-stribi%c5%bcew"}, "edited": false, "score": 1, "creation_date": 1500053171, "post_id": 45108610, "comment_id": 77188582, "body": "<a href=\"https://ideone.com/8EtVzb\" rel=\"nofollow noreferrer\">ideone.com/8EtVzb</a>"}, {"owner": {"reputation": 79972, "user_id": 298607, "user_type": "registered", "accept_rate": 88, "profile_image": "https://i.stack.imgur.com/DVW9g.jpg?s=128&g=1", "display_name": "dawg", "link": "https://stackoverflow.com/users/298607/dawg"}, "edited": false, "score": 0, "creation_date": 1500055182, "post_id": 45108610, "comment_id": 77189552, "body": "You can also <code>split</code> the string and then select the <code>n</code> word from the resulting  list."}, {"owner": {"user_type": "does_not_exist", "display_name": "user557597"}, "edited": false, "score": 0, "creation_date": 1500056177, "post_id": 45108610, "comment_id": 77190106, "body": "<code>$vars{string} =~ &#47;.(.*).&#47;;</code> looks like it returns 1 or 0 (true/false) depending on if the regex matched. You need a list context to get wantarray to kick in."}], "answers": [{"comments": [{"owner": {"reputation": 91, "user_id": 8161827, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/d60a06cdef82fa644017860428855bd6?s=128&d=identicon&r=PG&f=1", "display_name": "Stefan Moch", "link": "https://stackoverflow.com/users/8161827/stefan-moch"}, "reply_to_user": {"reputation": 526, "user_id": 3071003, "user_type": "registered", "accept_rate": 85, "profile_image": "https://www.gravatar.com/avatar/2d1fe6473d97822cf2e2773d377d3dc5?s=128&d=identicon&r=PG&f=1", "display_name": "Nazar", "link": "https://stackoverflow.com/users/3071003/nazar"}, "edited": false, "score": 0, "creation_date": 1500054024, "post_id": 45108686, "comment_id": 77188995, "body": "The answer from sniperd works for me, too. Unclear why you get &quot;1&quot;"}], "tags": [], "owner": {"reputation": 91, "user_id": 8161827, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/d60a06cdef82fa644017860428855bd6?s=128&d=identicon&r=PG&f=1", "display_name": "Stefan Moch", "link": "https://stackoverflow.com/users/8161827/stefan-moch"}, "is_accepted": false, "score": 2, "last_activity_date": 1500053359, "creation_date": 1500053359, "answer_id": 45108686, "question_id": 45108610, "link": "https://stackoverflow.com/questions/45108610/extract-string-between-two-dots/45108686#45108686", "title": "extract string between two dots", "body": "<p><code>.</code> has a special meaning: any character (see the expression between your parentheses)</p>\n\n<p>Therefore you have to escape it (<code>\\.</code>) if you search a <em>literal</em> dot:</p>\n\n<p><code>/\\.(.*)\\./</code></p>\n"}, {"tags": [], "owner": {"reputation": 4233, "user_id": 1143387, "user_type": "registered", "accept_rate": 95, "profile_image": "https://www.gravatar.com/avatar/0b9a9c460593d77b3561075ef1889150?s=128&d=identicon&r=PG", "display_name": "sniperd", "link": "https://stackoverflow.com/users/1143387/sniperd"}, "is_accepted": true, "score": 3, "last_activity_date": 1500058263, "last_edit_date": 1500058263, "creation_date": 1500053586, "answer_id": 45108743, "question_id": 45108610, "link": "https://stackoverflow.com/questions/45108610/extract-string-between-two-dots/45108743#45108743", "title": "extract string between two dots", "body": "<p>Try:</p>\n\n<pre><code>/\\.([^\\.]+)\\./\n</code></pre>\n\n<p>. has a special meaning and would need to be escaped.  Then you would want to capture the values between the dots, so use a negative character class like ([^\\.]+) meaning at least one non-dot.  if you use (.*) you will get:</p>\n\n<p>word1.stuff1.stuff2.stuff3.word2 to result in:</p>\n\n<pre><code>stuff1.stuff2.stuff3\n</code></pre>\n\n<p>But maybe you want that?</p>\n\n<p>Here is my little example, I do find the perl one liners a little harder to read at times so I break it out:</p>\n\n<pre><code>use strict;\nuse warnings;\n\nif (\"stuff1.stuff2.stuff3\" =~ m/\\.([^.]+)\\./) {\n    my $value = $1;\n    print $value;\n}\nelse {\n    print \"no match\";\n}\n</code></pre>\n\n<p>result</p>\n\n<pre><code>stuff2\n</code></pre>\n"}, {"tags": [], "owner": {"reputation": 320771, "user_id": 589924, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/b2cf53d5a3d25f95c0db4e025aed4153?s=128&d=identicon&r=PG", "display_name": "ikegami", "link": "https://stackoverflow.com/users/589924/ikegami"}, "is_accepted": false, "score": 3, "last_activity_date": 1500057139, "last_edit_date": 1500057139, "creation_date": 1500056183, "answer_id": 45109372, "question_id": 45108610, "link": "https://stackoverflow.com/questions/45108610/extract-string-between-two-dots/45109372#45109372", "title": "extract string between two dots", "body": "<ul>\n<li><code>.</code> has a special meaning in regular expressions, so it needs to be escaped.</li>\n<li><code>.*</code> could match more than intended. <code>[^.]*</code> is safer.</li>\n<li>The match operator (<code>//</code>) simply returns true/false in scalar context.</li>\n</ul>\n\n<p>You can use any of the following:</p>\n\n<pre><code>$vars{sub} = $vars{string} =~ /\\.([^.]*)\\./ ? $1 : undef;\n</code></pre>\n\n<p>&#x20;</p>\n\n<pre><code>$vars{sub} = ( $vars{string} =~ /\\.([^.]*)\\./ )[0];\n</code></pre>\n\n<p>&#x20;</p>\n\n<pre><code>($vars{sub}) = $vars{string} =~ /\\.([^.]*)\\./;\n</code></pre>\n\n<p>&#x20;</p>\n\n<pre><code>$vars{sub} = $vars{string} =~ /\\.([^.]*)\\./r;     # Requires Perl 5.14+\n</code></pre>\n\n<p>The first one allows you to provide a default if there's no match.</p>\n"}, {"tags": [], "owner": {"reputation": 4973, "user_id": 153891, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/0b287bcae476beaa660680430cd399c0?s=128&d=identicon&r=PG", "display_name": "woolstar", "link": "https://stackoverflow.com/users/153891/woolstar"}, "is_accepted": false, "score": 0, "last_activity_date": 1500063095, "creation_date": 1500063095, "answer_id": 45110921, "question_id": 45108610, "link": "https://stackoverflow.com/questions/45108610/extract-string-between-two-dots/45110921#45110921", "title": "extract string between two dots", "body": "<p>You've got to make sure you're asking for a list when you do the search.</p>\n\n<pre><code>my $x= $string =~ /look for (pattern)/ ;\n</code></pre>\n\n<p>sets <code>$x</code> to 1</p>\n\n<pre><code>my ($x)= $string =~ /look for (pattern)/ ;\n</code></pre>\n\n<p>sets <code>$x</code> to pattern.</p>\n"}], "owner": {"reputation": 526, "user_id": 3071003, "user_type": "registered", "accept_rate": 85, "profile_image": "https://www.gravatar.com/avatar/2d1fe6473d97822cf2e2773d377d3dc5?s=128&d=identicon&r=PG&f=1", "display_name": "Nazar", "link": "https://stackoverflow.com/users/3071003/nazar"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 10249, "favorite_count": 0, "accepted_answer_id": 45108743, "answer_count": 4, "score": 4, "last_activity_date": 1500063095, "creation_date": 1500053038, "last_edit_date": 1500056279, "question_id": 45108610, "link": "https://stackoverflow.com/questions/45108610/extract-string-between-two-dots", "title": "extract string between two dots", "body": "<p>I have a string of the following format:</p>\n\n<pre><code>word1.word2.word3\n</code></pre>\n\n<p>What are the ways to extract <em>word2</em> from that string in perl?\nI tried the following expression but it assigns 1 to <em>sub</em>:</p>\n\n<pre><code>@perleval $vars{sub} = $vars{string} =~ /.(.*)./; 0@\n</code></pre>\n\n<p><strong>EDIT:</strong></p>\n\n<p>I have tried several suggestions, but still get the value of 1. I suspect that the entire expression above has a problem in addition to parsing. However, when I do simple assignment, I get the correct result:</p>\n\n<pre><code>@perleval $vars{sub} = $vars{string} ; 0@\n</code></pre>\n\n<p>assigns <em>word1.word2.word3</em> to variable <em>sub</em></p>\n"}, {"tags": ["json", "perl", "unix", "key"], "comments": [{"owner": {"reputation": 1842, "user_id": 6939109, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/pwfCA.jpg?s=128&g=1", "display_name": "Coder", "link": "https://stackoverflow.com/users/6939109/coder"}, "edited": false, "score": 0, "creation_date": 1500051698, "post_id": 45108018, "comment_id": 77187722, "body": "are you serializing this content into objects at all? like in Java or C#?"}, {"owner": {"reputation": 95, "user_id": 8309063, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/1f16f64d7cc8ebb18eb2080f2a15cd50?s=128&d=identicon&r=PG&f=1", "display_name": "14MAR", "link": "https://stackoverflow.com/users/8309063/14mar"}, "reply_to_user": {"reputation": 1842, "user_id": 6939109, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/pwfCA.jpg?s=128&g=1", "display_name": "Coder", "link": "https://stackoverflow.com/users/6939109/coder"}, "edited": false, "score": 0, "creation_date": 1500051831, "post_id": 45108018, "comment_id": 77187792, "body": "Thanks Alex for formatting. I need it in Perl/Unix."}, {"owner": {"reputation": 95, "user_id": 8309063, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/1f16f64d7cc8ebb18eb2080f2a15cd50?s=128&d=identicon&r=PG&f=1", "display_name": "14MAR", "link": "https://stackoverflow.com/users/8309063/14mar"}, "reply_to_user": {"reputation": 1842, "user_id": 6939109, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/pwfCA.jpg?s=128&g=1", "display_name": "Coder", "link": "https://stackoverflow.com/users/6939109/coder"}, "edited": false, "score": 0, "creation_date": 1500052056, "post_id": 45108018, "comment_id": 77187932, "body": "#!/usr/bin/perl  use JSON; use Data::Dumper; $json = &#39;{ &quot;Labels&quot;: [ {&quot;Confidence&quot;: 99.25341796875, &quot;Name&quot;: &quot;Skateboard&quot; }, { &quot;Confidence&quot;: 9.25341796875, &quot;Name&quot;: &quot;Sport&quot; }, { &quot;Confidence&quot;: 49.24723052978516, &quot;Name&quot;: &quot;People&quot; }]}&#39;;   $text = decode_json($json); print  Dumper $text;  $key = &quot;Confidence&quot;; if (exists($text{$key})) {   print &quot;Found Confidence\\n&quot;;   #sed i need to apply using chekcing condition of Confidence &lt; 50 or &gt;50 and replace tag with monor and major } else {   print &quot;Could not find Confidence&quot;; }   This is what i did so far. Pl suggest"}, {"owner": {"reputation": 1842, "user_id": 6939109, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/pwfCA.jpg?s=128&g=1", "display_name": "Coder", "link": "https://stackoverflow.com/users/6939109/coder"}, "edited": false, "score": 1, "creation_date": 1500052132, "post_id": 45108018, "comment_id": 77187990, "body": "Please update your code in question so that it is easy to read"}], "answers": [{"comments": [{"owner": {"reputation": 72748, "user_id": 3185459, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/PBjxg.jpg?s=128&g=1", "display_name": "RomanPerekhrest", "link": "https://stackoverflow.com/users/3185459/romanperekhrest"}, "reply_to_user": {"reputation": 95, "user_id": 8309063, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/1f16f64d7cc8ebb18eb2080f2a15cd50?s=128&d=identicon&r=PG&f=1", "display_name": "14MAR", "link": "https://stackoverflow.com/users/8309063/14mar"}, "edited": false, "score": 0, "creation_date": 1500053104, "post_id": 45108500, "comment_id": 77188540, "body": "@PraveenPokharia, I&#39;m not Alex"}, {"owner": {"reputation": 95, "user_id": 8309063, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/1f16f64d7cc8ebb18eb2080f2a15cd50?s=128&d=identicon&r=PG&f=1", "display_name": "14MAR", "link": "https://stackoverflow.com/users/8309063/14mar"}, "edited": false, "score": 0, "creation_date": 1500360509, "post_id": 45108500, "comment_id": 77287167, "body": "I am not able to redirect the output of above command to a file. Please suggest. It is displaying on the screen."}, {"owner": {"reputation": 95, "user_id": 8309063, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/1f16f64d7cc8ebb18eb2080f2a15cd50?s=128&d=identicon&r=PG&f=1", "display_name": "14MAR", "link": "https://stackoverflow.com/users/8309063/14mar"}, "edited": false, "score": 0, "creation_date": 1500360747, "post_id": 45108500, "comment_id": 77287305, "body": "i tried it but it is not working..                                                                         jq &#39;.Labels |= map(.[(if .Confidence &gt; 50 then &quot;High&quot; else &quot;Low&quot; end)]= .Confidence | del(.Confidence))&#39; $filename.json &gt; $filename1.json"}, {"owner": {"reputation": 95, "user_id": 8309063, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/1f16f64d7cc8ebb18eb2080f2a15cd50?s=128&d=identicon&r=PG&f=1", "display_name": "14MAR", "link": "https://stackoverflow.com/users/8309063/14mar"}, "edited": false, "score": 0, "creation_date": 1500361061, "post_id": 45108500, "comment_id": 77287512, "body": "it is making a file but the content has not changed which we changed with the jq :). pl suggest so that same output which is coming above from ur query preserve in the file."}, {"owner": {"reputation": 95, "user_id": 8309063, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/1f16f64d7cc8ebb18eb2080f2a15cd50?s=128&d=identicon&r=PG&f=1", "display_name": "14MAR", "link": "https://stackoverflow.com/users/8309063/14mar"}, "edited": false, "score": 0, "creation_date": 1500380275, "post_id": 45108500, "comment_id": 77300927, "body": "I got the output but it is in 1 file. i have applied for loop to iterate the 10 files and redirected the json o/p of 10 files in 1 file due to which it looks clumsy."}], "tags": [], "owner": {"reputation": 72748, "user_id": 3185459, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/PBjxg.jpg?s=128&g=1", "display_name": "RomanPerekhrest", "link": "https://stackoverflow.com/users/3185459/romanperekhrest"}, "is_accepted": false, "score": 1, "last_activity_date": 1500052616, "creation_date": 1500052616, "answer_id": 45108500, "question_id": 45108018, "link": "https://stackoverflow.com/questions/45108018/fetch-data-based-on-key/45108500#45108500", "title": "Fetch data based on key", "body": "<p><a href=\"https://stedolan.github.io/jq/manual/\" rel=\"nofollow noreferrer\"><strong><em>jq</em></strong></a> solution:</p>\n\n<pre><code>jq '.Labels |= map(.[(if .Confidence &gt; 50 then \"High\" else \"Low\" end)]= .Confidence | del(.Confidence))' yourfile.json\n</code></pre>\n\n<p>The output:</p>\n\n<pre><code>{\n  \"Labels\": [\n    {\n      \"Name\": \"Skateboard\",\n      \"High\": 99.25341796875\n    },\n    {\n      \"Name\": \"Sport\",\n      \"Low\": 9.25341796875\n    },\n    {\n      \"Name\": \"People\",\n      \"Low\": 49.24723052978516\n    }\n  ]\n}\n</code></pre>\n"}], "owner": {"reputation": 95, "user_id": 8309063, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/1f16f64d7cc8ebb18eb2080f2a15cd50?s=128&d=identicon&r=PG&f=1", "display_name": "14MAR", "link": "https://stackoverflow.com/users/8309063/14mar"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 72, "favorite_count": 0, "answer_count": 1, "score": 1, "last_activity_date": 1500360621, "creation_date": 1500050906, "last_edit_date": 1500360621, "question_id": 45108018, "link": "https://stackoverflow.com/questions/45108018/fetch-data-based-on-key", "title": "Fetch data based on key", "body": "<pre><code>{ \"Labels\": [ {\"Test\": 99.25341796875, \"Name\": \"Skateboard\" }, { \"Test\": 9.25341796875, \"Name\": \"Sport\" }, { \"Test\": 49.24723052978516, \"Name\": \"People\" }]}\n</code></pre>\n\n<p>I need to remove the Testtag on basis of below conditions\nif Test value >50 then replace Test=Major \nif Test value &lt;50 then replace with Test=Minor</p>\n\n<p>so here output requested is like below.</p>\n\n<pre><code>{ \"Labels\": [ {\"High\": 99.25341796875, \"Name\": \"Skateboard\" }, { \"Low\": 9.25341796875, \"Name\": \"Sport\" }, { \"Low\": 49.24723052978516, \"Name\": \"People\" }]}\n</code></pre>\n"}, {"tags": ["regex", "perl"], "comments": [{"owner": {"reputation": 5455, "user_id": 3961170, "user_type": "registered", "accept_rate": 73, "profile_image": "https://i.stack.imgur.com/PtFol.jpg?s=128&g=1", "display_name": "mkHun", "link": "https://stackoverflow.com/users/3961170/mkhun"}, "edited": false, "score": 0, "creation_date": 1500037530, "post_id": 45103703, "comment_id": 77178535, "body": "you need to escape the <code>)</code> the pattern should be <code>,\\s*\\);</code>"}, {"owner": {"reputation": 2415, "user_id": 4251338, "user_type": "registered", "accept_rate": 90, "profile_image": "https://i.stack.imgur.com/UNbCO.png?s=128&g=1", "display_name": "ssr1012", "link": "https://stackoverflow.com/users/4251338/ssr1012"}, "edited": false, "score": 0, "creation_date": 1500038020, "post_id": 45103703, "comment_id": 77178877, "body": "<code>$line =~s&#47;\\,\\s*\\)\\;&#47;&#47;gs;</code>"}, {"owner": {"reputation": 123805, "user_id": 622310, "user_type": "registered", "accept_rate": 33, "profile_image": "https://www.gravatar.com/avatar/8b6d35219e1808520bc238b28161e2e6?s=128&d=identicon&r=PG", "display_name": "Borodin", "link": "https://stackoverflow.com/users/622310/borodin"}, "reply_to_user": {"reputation": 2415, "user_id": 4251338, "user_type": "registered", "accept_rate": 90, "profile_image": "https://i.stack.imgur.com/UNbCO.png?s=128&g=1", "display_name": "ssr1012", "link": "https://stackoverflow.com/users/4251338/ssr1012"}, "edited": false, "score": 0, "creation_date": 1500038692, "post_id": 45103703, "comment_id": 77179336, "body": "@ssr1012: What&#39;s the <code>&#47;s</code> for?"}, {"owner": {"reputation": 2415, "user_id": 4251338, "user_type": "registered", "accept_rate": 90, "profile_image": "https://i.stack.imgur.com/UNbCO.png?s=128&g=1", "display_name": "ssr1012", "link": "https://stackoverflow.com/users/4251338/ssr1012"}, "edited": false, "score": 0, "creation_date": 1500039279, "post_id": 45103703, "comment_id": 77179729, "body": "In case of any enter mark might be"}, {"owner": {"reputation": 78982, "user_id": 1848654, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/84180c0f3c9c04f8b8f0613fc0129dac?s=128&d=identicon&r=PG", "display_name": "melpomene", "link": "https://stackoverflow.com/users/1848654/melpomene"}, "reply_to_user": {"reputation": 2415, "user_id": 4251338, "user_type": "registered", "accept_rate": 90, "profile_image": "https://i.stack.imgur.com/UNbCO.png?s=128&g=1", "display_name": "ssr1012", "link": "https://stackoverflow.com/users/4251338/ssr1012"}, "edited": false, "score": 0, "creation_date": 1500071448, "post_id": 45103703, "comment_id": 77196504, "body": "@ssr1012 <code>&#47;s</code> only changes the meaning of <code>.</code>. There is no <code>.</code> in this regex."}, {"owner": {"reputation": 11, "user_id": 8307945, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/86a253caa4c93b40fde847c393f24c7e?s=128&d=identicon&r=PG&f=1", "display_name": "mani", "link": "https://stackoverflow.com/users/8307945/mani"}, "reply_to_user": {"reputation": 2415, "user_id": 4251338, "user_type": "registered", "accept_rate": 90, "profile_image": "https://i.stack.imgur.com/UNbCO.png?s=128&g=1", "display_name": "ssr1012", "link": "https://stackoverflow.com/users/4251338/ssr1012"}, "edited": false, "score": 1, "creation_date": 1500269134, "post_id": 45103703, "comment_id": 77242224, "body": "@ssr1012 i have already tried this and it did not work for me. In perl, comma need not be escaped."}, {"owner": {"reputation": 2445, "user_id": 1707353, "user_type": "registered", "accept_rate": 91, "profile_image": "https://www.gravatar.com/avatar/212f7b84a07bc7aea4f574669fe2465f?s=128&d=identicon&r=PG&f=1", "display_name": "Jeff Holt", "link": "https://stackoverflow.com/users/1707353/jeff-holt"}, "edited": false, "score": 0, "creation_date": 1500269438, "post_id": 45103703, "comment_id": 77242319, "body": "Please show your data, what is currently happening, and what you want to happen. In other words, create a little perl script that sets $line to something , modifies $line, and then prints $line. Where $line prints something other than what you want, put a comment that indicates what you want it to print."}, {"owner": {"reputation": 2415, "user_id": 4251338, "user_type": "registered", "accept_rate": 90, "profile_image": "https://i.stack.imgur.com/UNbCO.png?s=128&g=1", "display_name": "ssr1012", "link": "https://stackoverflow.com/users/4251338/ssr1012"}, "edited": false, "score": 0, "creation_date": 1500269813, "post_id": 45103703, "comment_id": 77242447, "body": "@Mani: Comma is also one of the operator in perl, some cases we need to check on this."}, {"owner": {"reputation": 11, "user_id": 8307945, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/86a253caa4c93b40fde847c393f24c7e?s=128&d=identicon&r=PG&f=1", "display_name": "mani", "link": "https://stackoverflow.com/users/8307945/mani"}, "edited": false, "score": 0, "creation_date": 1500272983, "post_id": 45103703, "comment_id": 77243790, "body": "My verilog file is below.       `timescale 1ns / 1ps   module SigGen ( Sig, dvdd, dvss, Event, Inp, RB ); output  Sig;  inout  dvdd, dvss;  input  Event, Inp, RB;    bufx4 I2 ( .VSS(dvss), .VDD(dvdd), .VSUB(cds_globals.sub_), .Y(Sig),      .A(net23)); invx1 I1 ( .VSS(dvss), .VDD(dvdd), .VSUB(cds_globals.sub_), .Y(E),      .A(EB)); invx1 I3 ( .VSS(dvss), .VDD(dvdd), .VSUB(cds_globals.sub_), .Y(EB),      .A(Event)); Latchr I0 ( .Q(net23), .QB(net24), .D(Inp), .E(E), .EB(EB), .RB(RB),      .VSS(dvss), .VDD(dvdd));"}, {"owner": {"reputation": 11, "user_id": 8307945, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/86a253caa4c93b40fde847c393f24c7e?s=128&d=identicon&r=PG&f=1", "display_name": "mani", "link": "https://stackoverflow.com/users/8307945/mani"}, "edited": false, "score": 0, "creation_date": 1500273190, "post_id": 45103703, "comment_id": 77243892, "body": "My perl code to remove supplies is LOOP1: while(&lt;FP&gt;) { my $line = $_; (my $line = $_) =~ s/&#41;,\\n/&#41;,/g; $line =~ s/\\.VDD&#40;\\w+&#41;,//g; $line =~ s/\\.VSS&#40;\\w+&#41;,//g; $line =~ s/\\.VSUB&#40;\\w+\\.\\w+&#41;,//g; $line =~ s/\\s+\\.VDD&#40;\\w+&#41;//g; $line =~ s/&#41;,\\s*&#41;/&#41;&#41;/g; print &quot;$line\\n&quot;; printf DP $line; }                                         The stand alone line for comma matching works but when i use it with the other matching patterns, it does not work."}, {"owner": {"reputation": 2415, "user_id": 4251338, "user_type": "registered", "accept_rate": 90, "profile_image": "https://i.stack.imgur.com/UNbCO.png?s=128&g=1", "display_name": "ssr1012", "link": "https://stackoverflow.com/users/4251338/ssr1012"}, "edited": false, "score": 0, "creation_date": 1500276085, "post_id": 45103703, "comment_id": 77245465, "body": "Please update these in your questions not in comment"}], "answers": [{"comments": [{"owner": {"reputation": 11, "user_id": 8307945, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/86a253caa4c93b40fde847c393f24c7e?s=128&d=identicon&r=PG&f=1", "display_name": "mani", "link": "https://stackoverflow.com/users/8307945/mani"}, "edited": false, "score": 0, "creation_date": 1500268899, "post_id": 45107887, "comment_id": 77242146, "body": "Thank you for the suggestion. But the problem is not with matching a space, it is with matching comma, when the pattern starts with comma."}], "tags": [], "owner": {"reputation": 2445, "user_id": 1707353, "user_type": "registered", "accept_rate": 91, "profile_image": "https://www.gravatar.com/avatar/212f7b84a07bc7aea4f574669fe2465f?s=128&d=identicon&r=PG&f=1", "display_name": "Jeff Holt", "link": "https://stackoverflow.com/users/1707353/jeff-holt"}, "is_accepted": false, "score": 1, "last_activity_date": 1500050332, "creation_date": 1500050332, "answer_id": 45107887, "question_id": 45103703, "link": "https://stackoverflow.com/questions/45103703/perl-script-to-match-comma/45107887#45107887", "title": "perl script to match comma", "body": "<p>You need to use this instead:</p>\n\n<pre><code>s/,\\s*\\);//\n</code></pre>\n\n<p>You should be defensive and be able to handle no whitespace between the <code>,</code> and the <code>)</code>. You have to escape the <code>)</code>. See <code>perldoc perlre</code> for more info.</p>\n"}, {"tags": [], "owner": {"reputation": 11, "user_id": 8307945, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/86a253caa4c93b40fde847c393f24c7e?s=128&d=identicon&r=PG&f=1", "display_name": "mani", "link": "https://stackoverflow.com/users/8307945/mani"}, "is_accepted": false, "score": 0, "last_activity_date": 1500283001, "creation_date": 1500283001, "answer_id": 45140259, "question_id": 45103703, "link": "https://stackoverflow.com/questions/45103703/perl-script-to-match-comma/45140259#45140259", "title": "perl script to match comma", "body": "<p>Thank you every one. I have found the problem. The problem was that the pattern to be recognized is split in to two different lines. The \",\" is in one line followed by \");\" in next line. At first, iam removing the new line character and assumed that the next line will get appended to the current line, which is not happening. Hence, the pattern matching did not work.</p>\n\n<p>To resolve this, i have to read the file once again and then replace the pattern.</p>\n"}], "owner": {"reputation": 11, "user_id": 8307945, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/86a253caa4c93b40fde847c393f24c7e?s=128&d=identicon&r=PG&f=1", "display_name": "mani", "link": "https://stackoverflow.com/users/8307945/mani"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 1738, "favorite_count": 1, "answer_count": 2, "score": 1, "last_activity_date": 1500283001, "creation_date": 1500037274, "last_edit_date": 1500069853, "question_id": 45103703, "link": "https://stackoverflow.com/questions/45103703/perl-script-to-match-comma", "title": "perl script to match comma", "body": "<p>I have a netlist generated from schematic. This netlist includes power pins. Iam trying to write a perl script to remove power pins from netlist. \nAs part of this i have to search for  a string that matches the pattern shown below:  </p>\n\n<pre><code>\", );\" \n</code></pre>\n\n<p>I have used the following code and it is not working</p>\n\n<pre><code>$line =~ s/,\\s+\\);//g \n</code></pre>\n\n<p>I have observed that pattern end with comma are matched but pattern starting with comma or pattern with comma in middle are not matched.\nAny suggestions on how to get this work</p>\n"}, {"tags": ["regex", "perl"], "comments": [{"owner": {"reputation": 23129, "user_id": 733345, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/UrLrZ.png?s=128&g=1", "display_name": "Joe", "link": "https://stackoverflow.com/users/733345/joe"}, "edited": false, "score": 0, "creation_date": 1500034971, "post_id": 45102728, "comment_id": 77176709, "body": "Possible duplicate of <a href=\"https://stackoverflow.com/questions/7593969/regex-to-split-camelcase-or-titlecase-advanced\">RegEx to split camelCase or TitleCase (advanced)</a>"}, {"owner": {"reputation": 389, "user_id": 1625076, "user_type": "registered", "accept_rate": 90, "profile_image": "https://i.stack.imgur.com/fRfxc.png?s=128&g=1", "display_name": "dellair", "link": "https://stackoverflow.com/users/1625076/dellair"}, "reply_to_user": {"reputation": 23129, "user_id": 733345, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/UrLrZ.png?s=128&g=1", "display_name": "Joe", "link": "https://stackoverflow.com/users/733345/joe"}, "edited": false, "score": 0, "creation_date": 1500036014, "post_id": 45102728, "comment_id": 77177457, "body": "Not duplicate, there are differences between java regex and perl regex. But thanks for checking!"}], "answers": [{"comments": [{"owner": {"reputation": 78982, "user_id": 1848654, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/84180c0f3c9c04f8b8f0613fc0129dac?s=128&d=identicon&r=PG", "display_name": "melpomene", "link": "https://stackoverflow.com/users/1848654/melpomene"}, "edited": false, "score": 0, "creation_date": 1500035743, "post_id": 45103075, "comment_id": 77177263, "body": "Why doesn&#39;t that produce empty leading elements for <code>TestWater</code> and <code>TodayIsNiceDay</code>?"}, {"owner": {"reputation": 198290, "user_id": 1030675, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/957956ce51706d03f19a4dc85a767bb1?s=128&d=identicon&r=PG", "display_name": "choroba", "link": "https://stackoverflow.com/users/1030675/choroba"}, "reply_to_user": {"reputation": 78982, "user_id": 1848654, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/84180c0f3c9c04f8b8f0613fc0129dac?s=128&d=identicon&r=PG", "display_name": "melpomene", "link": "https://stackoverflow.com/users/1848654/melpomene"}, "edited": false, "score": 2, "creation_date": 1500035869, "post_id": 45103075, "comment_id": 77177354, "body": "@melpomene: Documented in <a href=\"http://p3rl.org/split\" rel=\"nofollow noreferrer\">split</a>:  zero-width match at the beginning of EXPR never produces an empty field"}], "tags": [], "owner": {"reputation": 198290, "user_id": 1030675, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/957956ce51706d03f19a4dc85a767bb1?s=128&d=identicon&r=PG", "display_name": "choroba", "link": "https://stackoverflow.com/users/1030675/choroba"}, "is_accepted": false, "score": 7, "last_activity_date": 1500035469, "creation_date": 1500035469, "answer_id": 45103075, "question_id": 45102728, "link": "https://stackoverflow.com/questions/45102728/perl-regular-expression-to-split-string-by-word/45103075#45103075", "title": "Perl regular expression to split string by word", "body": "<p>Use <a href=\"http://p3rl.org/split\" rel=\"noreferrer\">split</a> to split a string on a regex. What you want is an upper case character not followed by an upper case character as the boundary, which can be expressed by two look-ahead assertions (<a href=\"http://p3rl.org/perlre\" rel=\"noreferrer\">perlre</a> for details):</p>\n\n<pre><code>#!/usr/bin/perl\nuse warnings;\nuse strict;\n\nuse Test::More;\n\nsub split_on_capital {\n    my ($string) = @_;\n    return [ split /(?=[[:upper:]](?![[:upper:]]))/, $string ]\n}\n\nis_deeply split_on_capital('TestWater'),       [ 'Test', 'Water' ];\nis_deeply split_on_capital('TodayIsNiceDay'),  [ 'Today', 'Is', 'Nice', 'Day' ];\nis_deeply split_on_capital('EODIsAlwaysGood'), [ 'EOD', 'Is', 'Always', 'Good' ];\n\ndone_testing();\n</code></pre>\n"}, {"comments": [{"owner": {"reputation": 389, "user_id": 1625076, "user_type": "registered", "accept_rate": 90, "profile_image": "https://i.stack.imgur.com/fRfxc.png?s=128&g=1", "display_name": "dellair", "link": "https://stackoverflow.com/users/1625076/dellair"}, "edited": false, "score": 0, "creation_date": 1500035939, "post_id": 45103111, "comment_id": 77177405, "body": "I really like your answer, very neat. Thank you very much!"}], "tags": [], "owner": {"reputation": 78982, "user_id": 1848654, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/84180c0f3c9c04f8b8f0613fc0129dac?s=128&d=identicon&r=PG", "display_name": "melpomene", "link": "https://stackoverflow.com/users/1848654/melpomene"}, "is_accepted": true, "score": 4, "last_activity_date": 1500035588, "creation_date": 1500035588, "answer_id": 45103111, "question_id": 45102728, "link": "https://stackoverflow.com/questions/45102728/perl-regular-expression-to-split-string-by-word/45103111#45103111", "title": "Perl regular expression to split string by word", "body": "<p>You can do this by using <code>m//g</code> in list context, which returns a list of all matches found. (Rule of thumb: Use <code>m//g</code> if you know what you want to extract; use <code>split</code> if you know what you want to throw away.)</p>\n\n<p>Your case is a bit more complicated because you want to split <code>\"EODIs\"</code> into <code>(\"EOD\", \"Is\")</code>.</p>\n\n<p>The following code handles this case:</p>\n\n<pre><code>my @words = $string =~ /\\p{Lu}(?:\\p{Lu}+(?!\\p{Ll})|\\p{Ll}*)/g;\n</code></pre>\n\n<p>I.e. every word starts with an uppercase letter (<code>\\p{Lu}</code>) and is followed by either</p>\n\n<ul>\n<li>1 or more uppercase letters (but the last one is not followed by a lowercase letter), or</li>\n<li>0 or more lowercase letters (<code>\\p{Ll}</code>)</li>\n</ul>\n"}], "owner": {"reputation": 389, "user_id": 1625076, "user_type": "registered", "accept_rate": 90, "profile_image": "https://i.stack.imgur.com/fRfxc.png?s=128&g=1", "display_name": "dellair", "link": "https://stackoverflow.com/users/1625076/dellair"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 974, "favorite_count": 0, "accepted_answer_id": 45103111, "answer_count": 2, "score": 1, "last_activity_date": 1500035902, "creation_date": 1500034412, "last_edit_date": 1500035902, "question_id": 45102728, "link": "https://stackoverflow.com/questions/45102728/perl-regular-expression-to-split-string-by-word", "title": "Perl regular expression to split string by word", "body": "<p>I have a string which consists of several words (separated by Capital letter).</p>\n\n<p>For example:</p>\n\n<pre><code>$string1=\"TestWater\"; # to be splited in an array @string1=(\"Test\",\"Water\")\n$string2=\"TodayIsNiceDay\"; # as @string2=(\"Today\",\"Is\",\"Nice\",\"Day\")\n$string3=\"EODIsAlwaysGood\"; # as @string3=(\"EOD\",\"Is\",\"Always\",\"Good\")\n</code></pre>\n\n<p>I know that Perl easily split uses the split function for fixed character, or the match regex can separate $1, $2 with fixed amount of variable. But how can this be done dynamically? Thanks in advance!</p>\n\n<p>That post <a href=\"https://stackoverflow.com/questions/7593969/regex-to-split-camelcase-or-titlecase-advanced\">Spliting CamelCase</a> doesn't answer my question, my question is more related to regex in Perl, that one was in Java (differences apply here).</p>\n"}, {"tags": ["arrays", "perl", "grep", "dereference"], "comments": [{"owner": {"reputation": 50468, "user_id": 1331451, "user_type": "registered", "accept_rate": 96, "profile_image": "https://i.stack.imgur.com/4ZPmj.png?s=128&g=1", "display_name": "simbabque", "link": "https://stackoverflow.com/users/1331451/simbabque"}, "edited": false, "score": 6, "creation_date": 1500030404, "post_id": 45101423, "comment_id": 77173890, "body": "Can you be more specific? Please post an <a href=\"https://stackoverflow.com/help/minimal-reproducible-example\">minimal reproducible example</a>. <code>my $var = &#39;foo&#39;; say for grep { $_ eq $var } @{ [qw&#47;foo bar&#47;] }</code> works like a charm on 5.20.1 for me."}, {"owner": {"reputation": 17713, "user_id": 226648, "user_type": "registered", "accept_rate": 35, "profile_image": "https://www.gravatar.com/avatar/3196df423fd95dc4fce7dfadb8ec9953?s=128&d=identicon&r=PG", "display_name": "el.pescado", "link": "https://stackoverflow.com/users/226648/el-pescado"}, "edited": false, "score": 0, "creation_date": 1500031864, "post_id": 45101423, "comment_id": 77174746, "body": "<code>List::Util::any</code> may be better that <code>grep</code> in this case because it stops after first match."}, {"owner": {"reputation": 78982, "user_id": 1848654, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/84180c0f3c9c04f8b8f0613fc0129dac?s=128&d=identicon&r=PG", "display_name": "melpomene", "link": "https://stackoverflow.com/users/1848654/melpomene"}, "edited": false, "score": 0, "creation_date": 1500036048, "post_id": 45101423, "comment_id": 77177476, "body": "<a href=\"https://metacpan.org/pod/Data::Munge#elem-SCALAR,-ARRAYREF\" rel=\"nofollow noreferrer\"><code>Data::Munge::elem</code></a> can also do this."}], "answers": [{"comments": [{"owner": {"reputation": 109, "user_id": 1029011, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/39514aae7f4fa5afc96b872251841917?s=128&d=identicon&r=PG", "display_name": "loloy.batoytoy", "link": "https://stackoverflow.com/users/1029011/loloy-batoytoy"}, "edited": false, "score": 0, "creation_date": 1500193943, "post_id": 45104585, "comment_id": 77223228, "body": "Just realized my error which was a simple typo, yes this idiom should work for dereferenced arrays"}], "tags": [], "owner": {"reputation": 727, "user_id": 2059832, "user_type": "registered", "accept_rate": 75, "profile_image": "https://i.stack.imgur.com/8oSY3.gif?s=128&g=1", "display_name": "drmrgd", "link": "https://stackoverflow.com/users/2059832/drmrgd"}, "is_accepted": true, "score": 0, "last_activity_date": 1500039875, "creation_date": 1500039875, "answer_id": 45104585, "question_id": 45101423, "link": "https://stackoverflow.com/questions/45101423/perls-grep-does-not-work-with-dereferenced-array/45104585#45104585", "title": "Perl&#39;s grep does not work with dereferenced array", "body": "<p>That idiom should work fine; I think a code example where it's not working would be helpful.  Just as a quickie toy example of this, though:</p>\n\n<pre><code>#!/usr/bin/perl\nuse strict;\nuse warnings;\n\nuse Test::More;\n\nsub find_var {\n    my ($var,$array) = @_;\n    print \"Testing for $var in [\" . join(',',@$array) . \"]...\\n\";\n    if ( grep $var eq $_, @$array ) {\n        return \"found it\";\n    } else {\n        return \"no match!\\n\";\n    }\n}\n\nmy @array = qw(apple pear cherry football);\nmy $var = 'football';\nmy $var2 = 'tomato';\n\nis(find_var($var, \\@array), 'found it');\nis(find_var($var2, \\@array), 'found it');\ndone_testing();\n</code></pre>\n\n<p>This results in the following output, which indicates that the first test for \"football\" in the array reference was successful, while the second test for \"tomato\" was not:</p>\n\n<pre><code>Testing for football in [apple,pear,cherry,football]...\nok 1\nTesting for tomato in [apple,pear,cherry,football]...\nnot ok 2\n#   Failed test at array.pl line 22.\n#          got: 'no match!\n# '\n#     expected: 'found it'\n1..2\n# Looks like you failed 1 test of 2.\n</code></pre>\n"}], "owner": {"reputation": 109, "user_id": 1029011, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/39514aae7f4fa5afc96b872251841917?s=128&d=identicon&r=PG", "display_name": "loloy.batoytoy", "link": "https://stackoverflow.com/users/1029011/loloy-batoytoy"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 131, "favorite_count": 0, "closed_date": 1500041500, "accepted_answer_id": 45104585, "answer_count": 1, "score": -2, "last_activity_date": 1500039875, "creation_date": 1500030295, "question_id": 45101423, "link": "https://stackoverflow.com/questions/45101423/perls-grep-does-not-work-with-dereferenced-array", "closed_reason": "Not suitable for this site", "title": "Perl&#39;s grep does not work with dereferenced array", "body": "<p>I wanted to find a perl equivalent to a python <code>var in list</code> idiom and stumbled on this.</p>\n\n<p>The perl grep can do a <code>grep { $_ eq $var } @list</code> expression to match the element in list logic.</p>\n\n<p>If I use a derefenced array like <code>grep { $_ eq $var } @$list</code> with $list defined as ['foo', 'bar'], I don't get the same outcome.</p>\n\n<p>Is there a way to make grep work using dereferenced arrays?</p>\n"}, {"tags": ["perl", "while-loop"], "answers": [{"comments": [{"owner": {"reputation": 48798, "user_id": 223226, "user_type": "registered", "accept_rate": 93, "profile_image": "https://i.stack.imgur.com/iGqE4.png?s=128&g=1", "display_name": "mpapec", "link": "https://stackoverflow.com/users/223226/mpapec"}, "edited": false, "score": 1, "creation_date": 1500029666, "post_id": 45100264, "comment_id": 77173417, "body": "$ looks for \\n anyway."}, {"owner": {"reputation": 320771, "user_id": 589924, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/b2cf53d5a3d25f95c0db4e025aed4153?s=128&d=identicon&r=PG", "display_name": "ikegami", "link": "https://stackoverflow.com/users/589924/ikegami"}, "reply_to_user": {"reputation": 48798, "user_id": 223226, "user_type": "registered", "accept_rate": 93, "profile_image": "https://i.stack.imgur.com/iGqE4.png?s=128&g=1", "display_name": "mpapec", "link": "https://stackoverflow.com/users/223226/mpapec"}, "edited": false, "score": 1, "creation_date": 1500048513, "post_id": 45100264, "comment_id": 77185962, "body": "@\u0421\u0443\u0445\u043e\u043927, No, it doesn&#39;t. <code>$result =~ &#47;^$&#47;</code> will match both the empty string a string containing just a LF. Mind you, that&#39;s probably best."}], "tags": [], "owner": {"reputation": 309, "user_id": 8277195, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/8b1b7f75532436a03353b9af3e9c7e8c?s=128&d=identicon&r=PG&f=1", "display_name": "Fritz", "link": "https://stackoverflow.com/users/8277195/fritz"}, "is_accepted": false, "score": 1, "last_activity_date": 1500026820, "creation_date": 1500026820, "answer_id": 45100264, "question_id": 45099531, "link": "https://stackoverflow.com/questions/45099531/perl-cant-break-out-of-while-loop-with-last/45100264#45100264", "title": "Perl: can&#39;t break out of while loop with last", "body": "<p>chomp returns the total number of characters removed, so you get always a true value if the line contains a newline.\nUse something like</p>\n\n<p><code>last if ($result =~ /^\\n$/);</code></p>\n"}], "owner": {"reputation": 17, "user_id": 6882575, "user_type": "registered", "profile_image": "https://lh4.googleusercontent.com/-IjdTQRF_yLA/AAAAAAAAAAI/AAAAAAAAAEk/PydN2jjoNmk/photo.jpg?sz=128", "display_name": "Kris Van Bruwaene", "link": "https://stackoverflow.com/users/6882575/kris-van-bruwaene"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 1641, "favorite_count": 0, "answer_count": 1, "score": 1, "last_activity_date": 1500026820, "creation_date": 1500024830, "question_id": 45099531, "link": "https://stackoverflow.com/questions/45099531/perl-cant-break-out-of-while-loop-with-last", "title": "Perl: can&#39;t break out of while loop with last", "body": "<p>I am communicating with a server over UNIX sockets. The server terminates the communication with an empty line (\"\\n\"). My client program ends like this:</p>\n\n<pre><code>while (my $result = &lt;$sock&gt;) {\n    print $result;\n    last unless (chomp $result);\n}\nclose $sock;\n</code></pre>\n\n<p>But I never seem to get out of the while loop. I have to Ctrl-C to get out. Why is this, and how can I solve it?</p>\n"}, {"tags": ["perl", "tcl", "fork", "exec", "system"], "comments": [{"owner": {"reputation": 198290, "user_id": 1030675, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/957956ce51706d03f19a4dc85a767bb1?s=128&d=identicon&r=PG", "display_name": "choroba", "link": "https://stackoverflow.com/users/1030675/choroba"}, "edited": false, "score": 1, "creation_date": 1500024570, "post_id": 45099246, "comment_id": 77170372, "body": "You can&#39;t set a parent&#39;s environment variables in a child process."}, {"owner": {"reputation": 205702, "user_id": 7552, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/b60298053f87465641c1b1192338c8cd?s=128&d=identicon&r=PG", "display_name": "glenn jackman", "link": "https://stackoverflow.com/users/7552/glenn-jackman"}, "edited": false, "score": 0, "creation_date": 1500027821, "post_id": 45099246, "comment_id": 77172407, "body": "<i>How</i> does b.pl set env vars?"}, {"owner": {"reputation": 119001, "user_id": 301832, "user_type": "registered", "accept_rate": 60, "profile_image": "https://www.gravatar.com/avatar/965220a70d38e6a29466f44cdb4f804e?s=128&d=identicon&r=PG", "display_name": "Donal Fellows", "link": "https://stackoverflow.com/users/301832/donal-fellows"}, "edited": false, "score": 2, "creation_date": 1500028799, "post_id": 45099246, "comment_id": 77172968, "body": "That&#39;s quite the oddest way of running a Tcl script I&#39;ve seen. Well, this week anyway\u2026"}, {"owner": {"reputation": 2139, "user_id": 553766, "user_type": "registered", "accept_rate": 61, "profile_image": "https://www.gravatar.com/avatar/8489617c16330b18bb4f15cadb26275a?s=128&d=identicon&r=PG", "display_name": "SAN", "link": "https://stackoverflow.com/users/553766/san"}, "edited": false, "score": 0, "creation_date": 1500119632, "post_id": 45099246, "comment_id": 77206859, "body": "you may want to try sockets for communicating.. another simple solution could be just write out the information from b.pl into a text file, process it in a.pl before running tcl shell"}], "answers": [{"tags": [], "owner": {"reputation": 9961, "user_id": 2139766, "user_type": "registered", "accept_rate": 100, "profile_image": "https://i.stack.imgur.com/b3qcA.png?s=128&g=1", "display_name": "AnFi", "link": "https://stackoverflow.com/users/2139766/anfi"}, "is_accepted": false, "score": 0, "last_activity_date": 1500248176, "creation_date": 1500248176, "answer_id": 45134246, "question_id": 45099246, "link": "https://stackoverflow.com/questions/45099246/communication-between-parent-and-child-process-perl/45134246#45134246", "title": "Communication between parent and child process - Perl", "body": "<p>You may run <code>b.pl</code> \"inside\" a.pl using <code>require</code>.  It may deliver what you want for simple scripts.</p>\n\n<p>a.pl </p>\n\n<pre><code>use strict;\nuse warnings;\n\nour $Version;\nrequire \"/.../b.pl\"; # full path to b.pl script\nprint \"Version: $Version\\n\";\n</code></pre>\n\n<p>b.pl</p>\n\n<pre><code>use strict;\nuse warnings;\n\nour $Version;\n$Version = \"YES!\";\n</code></pre>\n"}], "owner": {"reputation": 9, "user_id": 3119236, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/79e976e535d53843e4be63a220767979?s=128&d=identicon&r=PG&f=1", "display_name": "user3119236", "link": "https://stackoverflow.com/users/3119236/user3119236"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 152, "favorite_count": 0, "answer_count": 1, "score": -1, "last_activity_date": 1500248176, "creation_date": 1500024038, "last_edit_date": 1500025828, "question_id": 45099246, "link": "https://stackoverflow.com/questions/45099246/communication-between-parent-and-child-process-perl", "title": "Communication between parent and child process - Perl", "body": "<p>I'm running a perl program \"a.pl\" in the terminal that needs to call another program \"b.pl\" which then turns the environment to a tcl shell. The program \"b.pl\" sets environment variables which I have to use back in the main program \"a.pl\", after which I need to run new commands in the tcl environment created by \"b.pl\". Please see the example below</p>\n\n<p>Program: <strong>a.pl</strong></p>\n\n<pre><code>#!/usr/intel/bin/perl -w\n    use strict;\n    use warnings;\n\n    #turns it to a tcl shell and sets environment variable VERSION\n    system (\"./b.pl\");\n\n    system (\"source &lt;tclExecutable&gt; -version $VERSION\");\n</code></pre>\n\n<p>The second system command doesn't execute until I exit the tcl shell manually in the terminal. I've looked at fork and opening a pipe but I'm not sure how to go about it. I need to execute the second command in the tcl shell opened by the first system command. How can I make this work?</p>\n"}, {"tags": ["javascript", "jquery", "perl", "fullcalendar", "fullcalendar-scheduler"], "comments": [{"owner": {"reputation": 7829, "user_id": 4950584, "user_type": "registered", "profile_image": "https://lh3.googleusercontent.com/-xTMYK-wVa7U/AAAAAAAAAAI/AAAAAAAAAGA/x2vE5BBF-hM/photo.jpg?sz=128", "display_name": "Chris Turner", "link": "https://stackoverflow.com/users/4950584/chris-turner"}, "edited": false, "score": 1, "creation_date": 1500022546, "post_id": 45097908, "comment_id": 77169150, "body": "Split the problem into more easier to manage smaller chunks?"}, {"owner": {"reputation": 43836, "user_id": 5947043, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/jUK37.png?s=128&g=1", "display_name": "ADyson", "link": "https://stackoverflow.com/users/5947043/adyson"}, "edited": false, "score": 1, "creation_date": 1500023345, "post_id": 45097908, "comment_id": 77169651, "body": "So you want to use your server-side to download the iCalendar data, and then reformat it to JSON and send it onwards to fullCalendar, is that right? So firstly you need some code to download from the iCalendar URL, then something to parse the iCal format, if you haven&#39;t already, then something to translate that to JSON. And then you need to set up fullCalendar to read from your JSON feed. There are multiple steps there. Which bit are you struggling with? As Chris suggests, break it down into those steps, complete each one, and post code here if you get stuck. This question is too broad as-is."}, {"owner": {"reputation": 83, "user_id": 3168094, "user_type": "registered", "accept_rate": 20, "profile_image": "https://i.stack.imgur.com/7lOCV.png?s=128&g=1", "display_name": "IamAndroida", "link": "https://stackoverflow.com/users/3168094/iamandroida"}, "reply_to_user": {"reputation": 7829, "user_id": 4950584, "user_type": "registered", "profile_image": "https://lh3.googleusercontent.com/-xTMYK-wVa7U/AAAAAAAAAAI/AAAAAAAAAGA/x2vE5BBF-hM/photo.jpg?sz=128", "display_name": "Chris Turner", "link": "https://stackoverflow.com/users/4950584/chris-turner"}, "edited": false, "score": 0, "creation_date": 1501229728, "post_id": 45097908, "comment_id": 77697105, "body": "I hope I can get some advice/guide to you. I already updated my question. Thank you! @ChrisTurner"}, {"owner": {"reputation": 43836, "user_id": 5947043, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/jUK37.png?s=128&g=1", "display_name": "ADyson", "link": "https://stackoverflow.com/users/5947043/adyson"}, "edited": false, "score": 0, "creation_date": 1501230628, "post_id": 45097908, "comment_id": 77697639, "body": "what is <code>Data::ICal</code> I don&#39;t see that it is part of the standard PHP libraries, unless I am mistaken. Is this some code of your own? Or you found it somewhere online? Is there any documentation you can link me to? Without knowing what this code is claiming to do, I can&#39;t really try to work out why it doesn&#39;t do what you expect."}, {"owner": {"reputation": 7829, "user_id": 4950584, "user_type": "registered", "profile_image": "https://lh3.googleusercontent.com/-xTMYK-wVa7U/AAAAAAAAAAI/AAAAAAAAAGA/x2vE5BBF-hM/photo.jpg?sz=128", "display_name": "Chris Turner", "link": "https://stackoverflow.com/users/4950584/chris-turner"}, "edited": false, "score": 0, "creation_date": 1501232541, "post_id": 45097908, "comment_id": 77699035, "body": "You&#39;re not using <code>Data::ICal</code> correctly. As you&#39;ve been advised twice, you need to break the problem down into smaller bits. Start off by writing some code that downloads the URL - there are lots of examples of how to do that in perl out there"}, {"owner": {"reputation": 7829, "user_id": 4950584, "user_type": "registered", "profile_image": "https://lh3.googleusercontent.com/-xTMYK-wVa7U/AAAAAAAAAAI/AAAAAAAAAGA/x2vE5BBF-hM/photo.jpg?sz=128", "display_name": "Chris Turner", "link": "https://stackoverflow.com/users/4950584/chris-turner"}, "reply_to_user": {"reputation": 43836, "user_id": 5947043, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/jUK37.png?s=128&g=1", "display_name": "ADyson", "link": "https://stackoverflow.com/users/5947043/adyson"}, "edited": false, "score": 1, "creation_date": 1501232676, "post_id": 45097908, "comment_id": 77699134, "body": "@ADyson it&#39;s a perl module, documentation is <a href=\"http://search.cpan.org/~alexmv/Data-ICal-0.22/lib/Data/ICal.pm\" rel=\"nofollow noreferrer\">search.cpan.org/~alexmv/Data-ICal-0.22/lib/Data/ICal.pm</a>"}, {"owner": {"reputation": 43836, "user_id": 5947043, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/jUK37.png?s=128&g=1", "display_name": "ADyson", "link": "https://stackoverflow.com/users/5947043/adyson"}, "reply_to_user": {"reputation": 7829, "user_id": 4950584, "user_type": "registered", "profile_image": "https://lh3.googleusercontent.com/-xTMYK-wVa7U/AAAAAAAAAAI/AAAAAAAAAGA/x2vE5BBF-hM/photo.jpg?sz=128", "display_name": "Chris Turner", "link": "https://stackoverflow.com/users/4950584/chris-turner"}, "edited": false, "score": 0, "creation_date": 1501232882, "post_id": 45097908, "comment_id": 77699265, "body": "@ChrisTurner Doh, was on PHP autopilot. The question is clearly tagged with Perl. It&#39;s Friday, that&#39;s my excuse..."}, {"owner": {"reputation": 43836, "user_id": 5947043, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/jUK37.png?s=128&g=1", "display_name": "ADyson", "link": "https://stackoverflow.com/users/5947043/adyson"}, "edited": false, "score": 1, "creation_date": 1501232977, "post_id": 45097908, "comment_id": 77699333, "body": "@IamAndroida from a brief scan of those docs, I can&#39;t see any evidence that you can pass a URL directly to the iCal constructor. It accepts filenames, but not URLs. You&#39;ll have to download the data separately first I think."}, {"owner": {"reputation": 83, "user_id": 3168094, "user_type": "registered", "accept_rate": 20, "profile_image": "https://i.stack.imgur.com/7lOCV.png?s=128&g=1", "display_name": "IamAndroida", "link": "https://stackoverflow.com/users/3168094/iamandroida"}, "edited": false, "score": 0, "creation_date": 1501466931, "post_id": 45097908, "comment_id": 77773718, "body": "Thanks for your replies, but I want to do is just like Google Calendar importing an iCal using URLs. But if there is no way to make it like that maybe downloading the file is really necessary. :)"}, {"owner": {"reputation": 7829, "user_id": 4950584, "user_type": "registered", "profile_image": "https://lh3.googleusercontent.com/-xTMYK-wVa7U/AAAAAAAAAAI/AAAAAAAAAGA/x2vE5BBF-hM/photo.jpg?sz=128", "display_name": "Chris Turner", "link": "https://stackoverflow.com/users/4950584/chris-turner"}, "edited": false, "score": 1, "creation_date": 1501496163, "post_id": 45097908, "comment_id": 77786634, "body": "@IamAndroida Google Calendar downloads the URL - there is no way to read the contents of a URL without doing that."}], "owner": {"reputation": 83, "user_id": 3168094, "user_type": "registered", "accept_rate": 20, "profile_image": "https://i.stack.imgur.com/7lOCV.png?s=128&g=1", "display_name": "IamAndroida", "link": "https://stackoverflow.com/users/3168094/iamandroida"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 384, "favorite_count": 0, "answer_count": 0, "score": 0, "last_activity_date": 1500965582, "creation_date": 1500019724, "last_edit_date": 1500965582, "question_id": 45097908, "link": "https://stackoverflow.com/questions/45097908/i-want-to-import-icalendar-url-to-fullcalendar-using-perl", "title": "I want to import icalendar url to fullcalendar using PERL", "body": "<p>I want to import an iCalendar data which is a URL and then it will be export to fullcalendar, the events from the url must be shown in the schedule. Just like importing iCalendar URL to Google Calendar.</p>\n\n<p>Can you give me some advice/guide. Thank you in advance.</p>\n\n<p>This is my code:</p>\n\n<pre><code>use strict;\nuse warnings;\n\nuse Data::ICal;\n\nsub import_data {\n    my $self = shift;\n    my $q = $self-&gt;query();\n\n    my $url = $q-&gt;param('url');\n    my $calendar = Data::ICal-&gt;new($url);\n\n    print $calendar-&gt;as_string();\n}\n</code></pre>\n\n<p>The $url will get the url link which is \" <a href=\"https://api.iqube.net/api/icalendars/export/89cc4736d04148cbf50dba28bbbe813c6370dcfd/puugqW\" rel=\"nofollow noreferrer\">https://api.iqube.net/api/icalendars/export/89cc4736d04148cbf50dba28bbbe813c6370dcfd/puugqW</a> \" but the output of the code \"print $calendar->as_string();\" is only like this </p>\n\n<pre><code>BEGIN:VCALENDAR\nVERSION:2.0\nPRODID:Data::ICal 0.22\nEND:VCALENDAR\n</code></pre>\n\n<p>But the file has many data than the output. You can able to see it if you open the link in new tab.</p>\n"}, {"tags": ["list", "perl"], "comments": [{"owner": {"reputation": 50468, "user_id": 1331451, "user_type": "registered", "accept_rate": 96, "profile_image": "https://i.stack.imgur.com/4ZPmj.png?s=128&g=1", "display_name": "simbabque", "link": "https://stackoverflow.com/users/1331451/simbabque"}, "edited": false, "score": 1, "creation_date": 1500020694, "post_id": 45097597, "comment_id": 77168098, "body": "You should do your <code>cmpthese</code> with a fixed number of CPU seconds. Do <code>-1</code> or <code>-2</code>. That&#39;s more reliable than using a number of runs. Also look into Dumbbench for a more statistical approach of benchmarking."}, {"owner": {"reputation": 320771, "user_id": 589924, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/b2cf53d5a3d25f95c0db4e025aed4153?s=128&d=identicon&r=PG", "display_name": "ikegami", "link": "https://stackoverflow.com/users/589924/ikegami"}, "edited": false, "score": 0, "creation_date": 1500052226, "post_id": 45097597, "comment_id": 77188041, "body": "Re &quot;<i>My simple benchmark suggests copying taking place</i>&quot;, Yes, though is a probably an efficient <code>memcpy</code> of C pointers"}, {"owner": {"reputation": 53041, "user_id": 4653379, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/b3953dbedd0dabff5cbc3db9b0835b14?s=128&d=identicon&r=PG&f=1", "display_name": "zdim", "link": "https://stackoverflow.com/users/4653379/zdim"}, "edited": false, "score": 0, "creation_date": 1500926406, "post_id": 45097597, "comment_id": 77540520, "body": "A reminder in case this fell through the cracks, <a href=\"http://stackoverflow.com/help/someone-answers\">What should I do when someone answers my question?</a>"}], "answers": [{"comments": [{"owner": {"reputation": 2445, "user_id": 1707353, "user_type": "registered", "accept_rate": 91, "profile_image": "https://www.gravatar.com/avatar/212f7b84a07bc7aea4f574669fe2465f?s=128&d=identicon&r=PG&f=1", "display_name": "Jeff Holt", "link": "https://stackoverflow.com/users/1707353/jeff-holt"}, "edited": false, "score": 0, "creation_date": 1500022331, "post_id": 45098456, "comment_id": 77169022, "body": "On my MBP (mid 2015), using perl 5.20.2, and List::Util version 1.41, I get a similar looking comparison but instead of -41% and 68%, I get -35% and 53%."}, {"owner": {"reputation": 320771, "user_id": 589924, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/b2cf53d5a3d25f95c0db4e025aed4153?s=128&d=identicon&r=PG", "display_name": "ikegami", "link": "https://stackoverflow.com/users/589924/ikegami"}, "edited": false, "score": 0, "creation_date": 1500052429, "post_id": 45098456, "comment_id": 77188147, "body": "Re &quot;<i>The reported rates are nearly identical</i>&quot;, That&#39;s because <code>5001..10_000</code> is converted to a 5000 element array at compile-time. Use <code>$x = 5000; (1..$x, $x+1..$x*2)</code> for a better result. (Also note that you have <code>1_5000</code> (a single scalar) instead of <code>1..5000</code>.)"}, {"owner": {"reputation": 53041, "user_id": 4653379, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/b3953dbedd0dabff5cbc3db9b0835b14?s=128&d=identicon&r=PG&f=1", "display_name": "zdim", "link": "https://stackoverflow.com/users/4653379/zdim"}, "reply_to_user": {"reputation": 320771, "user_id": 589924, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/b2cf53d5a3d25f95c0db4e025aed4153?s=128&d=identicon&r=PG", "display_name": "ikegami", "link": "https://stackoverflow.com/users/589924/ikegami"}, "edited": false, "score": 0, "creation_date": 1500055561, "post_id": 45098456, "comment_id": 77189774, "body": "@ikegami  Thank you.  (1) The <code>1_5000</code> was a typo in posting, fixed  (2) I meant to demonstrate that the apparent flattening of lists for input doesn&#39;t introduce an extra data copy.  I think that this should then be the right test? (In my original tests I actually make three arrays in the second case and use <code>(@beg, @mid, @end)</code> for the whole range.)"}, {"owner": {"reputation": 53041, "user_id": 4653379, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/b3953dbedd0dabff5cbc3db9b0835b14?s=128&d=identicon&r=PG&f=1", "display_name": "zdim", "link": "https://stackoverflow.com/users/4653379/zdim"}, "reply_to_user": {"reputation": 320771, "user_id": 589924, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/b2cf53d5a3d25f95c0db4e025aed4153?s=128&d=identicon&r=PG", "display_name": "ikegami", "link": "https://stackoverflow.com/users/589924/ikegami"}, "edited": false, "score": 0, "creation_date": 1500055769, "post_id": 45098456, "comment_id": 77189890, "body": "@ikegami  But now when I try it with <code>$x</code> as in your comment -- that is twice as slow!  I am not sure I understand that, but I&#39;d say that it is about things other than what the question asks."}, {"owner": {"reputation": 320771, "user_id": 589924, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/b2cf53d5a3d25f95c0db4e025aed4153?s=128&d=identicon&r=PG", "display_name": "ikegami", "link": "https://stackoverflow.com/users/589924/ikegami"}, "edited": false, "score": 0, "creation_date": 1500056380, "post_id": 45098456, "comment_id": 77190196, "body": "It&#39;s twice as slow since it needs to create 10,000 scalars."}], "tags": [], "owner": {"reputation": 53041, "user_id": 4653379, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/b3953dbedd0dabff5cbc3db9b0835b14?s=128&d=identicon&r=PG&f=1", "display_name": "zdim", "link": "https://stackoverflow.com/users/4653379/zdim"}, "is_accepted": false, "score": 3, "last_activity_date": 1500110158, "last_edit_date": 1500110158, "creation_date": 1500021586, "answer_id": 45098456, "question_id": 45097597, "link": "https://stackoverflow.com/questions/45097597/perl-list-interpolation-performance/45098456#45098456", "title": "Perl list interpolation performance", "body": "<p>The direct question can be answered directly by a benchmark</p>\n\n<pre><code>use strict;\nuse warnings;\n\nuse List::Util qw(sum reduce);    \nuse Benchmark qw(cmpthese);\n\nmy @ary = 1..10_000;\n\nsub by_reduce { my $res = reduce { $a + length $b } 0, @ary }\n\nsub by_map { my $res = sum map { length } @ary }\n\ncmpthese(-3, {\n    reduce  =&gt; sub { by_reduce  },  \n    map     =&gt; sub { by_map },\n});\n</code></pre>\n\n<p>which prints on my v5.16 at hand</p>\n\n<pre>\n         Rate    map reduce\nmap     780/s     --   -41%\nreduce 1312/s    68%     --\n</pre>\n\n<p>Thus <code>reduce</code> does something significantly better for this task. </p>\n\n<p>As for the question of lists in general, it would have to depend on how the full list is used.</p>\n\n<p>In your benchmark there is an assignment to a new array so the data copy clearly must be done. Then longer arrays take longer, and by about an order of magnitude quite like the ratio of their sizes.</p>\n\n<p>With list inputs for functions like <code>map</code> and <code>reduce</code> I don't see a reason for an additional data copy.  This can be checked by a benchmark, comparing an identical operation </p>\n\n<pre><code>my @ary = 1..10_000;\n# benchmark:\nmy $r1 = sum map { length } @ary;\nmy $r2 = sum map { length } (1..5000, 5001..10_000);\n</code></pre>\n\n<p>The reported rates are nearly identical, for example<code>780/s</code> and <code>782/s</code>, showing that the flattening of the ranges for <code>map</code> input doesn't involve a data copy.  (The ranges are converted to arrays at compile time, thanks to <a href=\"https://stackoverflow.com/users/589924/ikegami\">ikegami</a> for comments.)</p>\n"}, {"comments": [{"owner": {"reputation": 17713, "user_id": 226648, "user_type": "registered", "accept_rate": 35, "profile_image": "https://www.gravatar.com/avatar/3196df423fd95dc4fce7dfadb8ec9953?s=128&d=identicon&r=PG", "display_name": "el.pescado", "link": "https://stackoverflow.com/users/226648/el-pescado"}, "edited": false, "score": 0, "creation_date": 1500024621, "post_id": 45098614, "comment_id": 77170403, "body": "Ok, so there&#39;s no extra list copy created by <code>0,@strings</code>, but there&#39;s new list copy when arguments are assigned to <code>@_</code> (or whatever it&#39;s called in XS) and that happens both in <code>map</code> and <code>reduce</code> case, right?"}], "tags": [], "owner": {"reputation": 38072, "user_id": 46395, "user_type": "registered", "accept_rate": 71, "profile_image": "https://www.gravatar.com/avatar/5ce828f20abb195ef5d971205ee36c27?s=128&d=identicon&r=PG", "display_name": "daxim", "link": "https://stackoverflow.com/users/46395/daxim"}, "is_accepted": false, "score": 4, "last_activity_date": 1500022109, "creation_date": 1500022109, "answer_id": 45098614, "question_id": 45097597, "link": "https://stackoverflow.com/questions/45097597/perl-list-interpolation-performance/45098614#45098614", "title": "Perl list interpolation performance", "body": "<blockquote>\n  <p>doesn't <code>0, @strings</code> create a new list</p>\n</blockquote>\n\n<p>Not really. If you <a href=\"http://p3rl.org/B::Terse\" rel=\"nofollow noreferrer\">decompile</a> the code, it's just one additional SVOP.</p>\n\n<p>But you're measuring the wrong thing. The values are flattened and passed into the <code>map</code> or <code>reduce</code> subroutine in both cases!</p>\n\n<p>The documentation is talking about what happens inside the subroutine. <code>map</code> creates a list of as many input values and returns them, and then <code>sum</code> takes the list and condenses it into a value. The return list is ephemeral and is not represented directly in the code. (This list passing is not that efficient, it could be made faster by using references.)</p>\n\n<p>In contrast, in <code>reduce</code>, there no such return list. <code>reduce</code> only works on the input list of values and returns a single value.</p>\n"}, {"tags": [], "owner": {"reputation": 320771, "user_id": 589924, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/b2cf53d5a3d25f95c0db4e025aed4153?s=128&d=identicon&r=PG", "display_name": "ikegami", "link": "https://stackoverflow.com/users/589924/ikegami"}, "is_accepted": false, "score": 3, "last_activity_date": 1500051852, "last_edit_date": 1500051852, "creation_date": 1500050977, "answer_id": 45108040, "question_id": 45097597, "link": "https://stackoverflow.com/questions/45097597/perl-list-interpolation-performance/45108040#45108040", "title": "Perl list interpolation performance", "body": "<p>\"<em>This produces a list of temporary integer values as long as the original list of strings</em>\" refers to <code>map</code> putting N scalars on the stack.  The thing is, the <code>reduce</code> approach creates just as many scalars, and they also all go on the stack. The only difference is that the <code>reduce</code> approach only keeps one on them on the stack at once. That means the <code>reduce</code> approach uses less <em>memory</em>, but it doesn't speak to its <em>performance</em> at all. The reason it gives for <code>reduce</code> computing the same result more efficiently is nonsense.</p>\n\n<p>There could be a performance difference, but not for that reason. If you want to find which one performs better for you, will need to run a benchmark.</p>\n\n<hr>\n\n<blockquote>\n  <p><em>That makes me think, doesn't <code>0, @strings</code> create a new list</em></p>\n</blockquote>\n\n<p>No. <code>reduce</code> creates a single list unconditonally. This is unrelated to the number expressions in the argument list.</p>\n\n<p>Lists aren't arrays. When we say \"the sub returns a list\" or \"the op evaluates to a list\", we actually mean \"the sub or op places some quantity of scalars on the stack\".</p>\n\n<p>List are created for ops that will pop a variable number of scalars from the stack. This is done by simply pushing a mark onto the stack. For example, <code>reduce { ... } 0, @a</code> would create a list for the <code>entersub</code> op. <code>{ ... }</code> will end up leaving one code ref on the list/stack, <code>0</code> will end up leaving a number on the list/stack, and <code>@strings</code> will end up leaving its elements on the list/stack. One last thing is added to the list/stack before the sub is called: the glob <code>*reduce</code>.</p>\n\n<p>Note that creating the list is effectively <em>free</em>, since it's simply pushing a mark on the stack. Placing an array on the stack is proportional to the number of its elements, but it's still quite cheap since we're only copying a block of pointers (in the C sense of the word).</p>\n\n<p>That means there's effectively no performance difference between <code>reduce { ... } @strings</code> and <code>reduce { ... } 0, @strings</code>. Both create a single list, and both add roughly the same number of elements to the list/stack.</p>\n\n<p>Exceptions:</p>\n\n<ul>\n<li><code>for (@a)</code> is optimized to be <code>for* (\\@a)</code>.<br>This saves memory, and it saves time if the loop is exited prematurely.</li>\n<li><code>sub f(\\@); f(@a)</code> is equivalent to <code>&amp;f(\\@a)</code>.</li>\n</ul>\n\n<p>AFAIK, <code>map</code> and <code>grep</code> aren't optimized in this manner.</p>\n\n<hr>\n\n<p>In detail:</p>\n\n<pre><code>$ perl -MO=Concise,-exec -MList::Util=reduce -e'reduce { ... } @a'\n...\n3  &lt;0&gt; pushmark s                        &lt;-- Creates list (adds mark to the stack).\n4  &lt;$&gt; anoncode[CV ] sRM                 &lt;-- Adds CV to the stack.\n5  &lt;1&gt; srefgen sKM/1                     &lt;-- Replaces CV with a ref to the CV.\n6  &lt;#&gt; gv[*a] s                          &lt;-- Places *a on the stack.\n7  &lt;1&gt; rv2av[t4] lKM/1                   &lt;-- Replaces *a with the contents of @a.\n8  &lt;#&gt; gv[*reduce] s                     &lt;-- Places *reduce on the stack.\n9  &lt;1&gt; entersub[t5] vKS/TARG             &lt;-- Will remove the entire list from the stack.\n...\n\n$ perl -MO=Concise,-exec -MList::Util=reduce -e'reduce { ... } 0, @a'\n...\n3  &lt;0&gt; pushmark s\n4  &lt;$&gt; anoncode[CV ] sRM\n5  &lt;1&gt; srefgen sKM/1\n6  &lt;$&gt; const[IV 0] sM                    &lt;-- The only difference.\n7  &lt;#&gt; gv[*a] s\n8  &lt;1&gt; rv2av[t4] lKM/1\n9  &lt;#&gt; gv[*reduce] s\na  &lt;1&gt; entersub[t5] vKS/TARG\n...\n</code></pre>\n"}], "owner": {"reputation": 17713, "user_id": 226648, "user_type": "registered", "accept_rate": 35, "profile_image": "https://www.gravatar.com/avatar/3196df423fd95dc4fce7dfadb8ec9953?s=128&d=identicon&r=PG", "display_name": "el.pescado", "link": "https://stackoverflow.com/users/226648/el-pescado"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 126, "favorite_count": 1, "answer_count": 3, "score": 4, "last_activity_date": 1500110158, "creation_date": 1500018668, "question_id": 45097597, "link": "https://stackoverflow.com/questions/45097597/perl-list-interpolation-performance", "title": "Perl list interpolation performance", "body": "<h1>Background</h1>\n\n<p>Perldoc for <a href=\"https://perldoc.perl.org/List/Util.html#reduce\" rel=\"nofollow noreferrer\">List::Util</a> suggests that some uses of <code>map</code> may be replaced by <code>reduce</code> in order to avoid creating unnecessary intermadiate list:</p>\n\n<blockquote>\n  <p>For example, to find the total length of the all the strings in a\n  list, we could use</p>\n\n<pre><code>$total = sum map { length } @strings;\n</code></pre>\n  \n  <p>However, this produces a list of temporary integer values as long as\n  the original list of strings, only to reduce it down to a single value\n  again. We can compute the same result more efficiently by using reduce\n  with a code block that accumulates lengths by writing this instead as:</p>\n\n<pre><code>$total = reduce { $a + length $b } 0, @strings;\n</code></pre>\n</blockquote>\n\n<p>That makes sense. However, <code>reduce</code> in order to work in this example needs \"identity value\", that would be prepended to input list:</p>\n\n<pre><code>$total = reduce { $a + length $b } 0, @strings;\n#                                  ^^^^^^^^^^^\n</code></pre>\n\n<p>That makes me think, doesn't <code>0, @strings</code> create a new list, thus offset any gains from not creaing list in <code>map</code>?</p>\n\n<h1>Question</h1>\n\n<p>How does list interpolation <code>($scalar, @list)</code> work in Perl? Does it involve copying elements from source list or is it done in some smarter way? My simple benchmark suggests copying taking place:</p>\n\n<pre><code>use strict;\nuse warnings;\nuse Benchmark qw/cmpthese/;\n\nmy @a1 = 1..10;\nmy @a2 = 1..100;\nmy @a3 = 1..1000;\nmy @a4 = 1..10000;\nmy @a5 = 1..100000;\nmy @a6 = 1..1000000;\n\ncmpthese(10000, {\n    'a1' =&gt; sub { my @l = (0, @a1); },\n    'a2' =&gt; sub { my @l = (0, @a2); },\n    'a3' =&gt; sub { my @l = (0, @a3); },\n    'a4' =&gt; sub { my @l = (0, @a4); },\n    'a5' =&gt; sub { my @l = (0, @a5); },\n    'a6' =&gt; sub { my @l = (0, @a6); },\n});\n</code></pre>\n\n<p>Results:</p>\n\n<pre><code>            (warning: too few iterations for a reliable count)\n        Rate       a6       a5       a4       a3       a2       a1\na6    17.6/s       --     -90%     -99%    -100%    -100%    -100%\na5     185/s     952%       --     -90%     -99%    -100%    -100%\na4    1855/s   10438%     902%       --     -90%     -99%    -100%\na3   17857/s  101332%    9545%     862%       --     -91%     -98%\na2  200000/s 1135940%  107920%   10680%    1020%       --     -80%\na1 1000000/s 5680100%  540000%   53800%    5500%     400%       --\n</code></pre>\n\n<p>Bonus question: If my assumptions are correct (i.e. <code>0, @strings</code> creates a new list), does replacing <code>map</code> with <code>reduce</code> make sense?</p>\n"}, {"tags": ["perl", "cpan"], "comments": [{"owner": {"reputation": 50468, "user_id": 1331451, "user_type": "registered", "accept_rate": 96, "profile_image": "https://i.stack.imgur.com/4ZPmj.png?s=128&g=1", "display_name": "simbabque", "link": "https://stackoverflow.com/users/1331451/simbabque"}, "edited": false, "score": 0, "creation_date": 1500022847, "post_id": 45095941, "comment_id": 77169339, "body": "As a workaround you can always add a <code>00dependencies.t</code> test that fails if the executable isn&#39;t there. It will do more work until it gets there, but it will successfully hinder installation."}], "answers": [{"tags": [], "owner": {"reputation": 1448, "user_id": 5464233, "user_type": "registered", "profile_image": "https://graph.facebook.com/10208326386304302/picture?type=large", "display_name": "Guido Flohr", "link": "https://stackoverflow.com/users/5464233/guido-flohr"}, "is_accepted": false, "score": 1, "last_activity_date": 1535031217, "creation_date": 1535031217, "answer_id": 51987057, "question_id": 45095941, "link": "https://stackoverflow.com/questions/45095941/extutilsmakemaker-how-do-i-specify-a-binary-executable-prerequisite-for-test/51987057#51987057", "title": "ExtUtils::MakeMaker: how do I specify a binary executable prerequisite for test and/or installation?", "body": "<p>Just add this line anywhere in <code>Makefile.PL</code>:</p>\n\n<pre><code>system(\"$executable\", \"--version\") == 0 or die \"$executable: $?\";\n</code></pre>\n\n<p>You may want to search <code>$executable</code> also in other locations than <code>$PATH</code> and maybe want better diagnostics on errors but this is essentially what you should do.  For <a href=\"https://github.com/gflohr/libintl-perl\" rel=\"nofollow noreferrer\" title=\"libintl-perl\">libintl-perl</a> I even compile and link C code inside <code>Makefile.PL</code>.  </p>\n\n<p>Unfortunately, you cannot easily port that technique to <code>Module::Build</code> and for the same reason you cannot use it with <code>Dist::Zilla</code> or similar build tools.</p>\n"}], "owner": {"reputation": 35370, "user_id": 180275, "user_type": "registered", "accept_rate": 77, "profile_image": "https://i.stack.imgur.com/4GALY.jpg?s=128&g=1", "display_name": "Ren&#233; Nyffenegger", "link": "https://stackoverflow.com/users/180275/ren%c3%a9-nyffenegger"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 76, "favorite_count": 0, "answer_count": 1, "score": 4, "last_activity_date": 1584056686, "creation_date": 1500013007, "last_edit_date": 1584056686, "question_id": 45095941, "link": "https://stackoverflow.com/questions/45095941/extutilsmakemaker-how-do-i-specify-a-binary-executable-prerequisite-for-test", "title": "ExtUtils::MakeMaker: how do I specify a binary executable prerequisite for test and/or installation?", "body": "<p>I am using <code>ExtUtils::MakeMaker</code> to create a <code>Makefile</code> for a Perl package from a <code>Makefile.PL</code>.</p>\n\n<p>The Perl package (and the tests) are dependent on an executable that the Perl package calls via Perl's <code>system()</code>.</p>\n\n<p>Is there any way that I can specify the executable as a prerequisite with <code>ExtUtils::MakeMaker</code>.</p>\n"}, {"tags": ["perl", "centos7", "perl-module", "yum", "cpan"], "comments": [{"owner": {"reputation": 403, "user_id": 7349485, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/lzfEj.jpg?s=128&g=1", "display_name": "carlosn", "link": "https://stackoverflow.com/users/7349485/carlosn"}, "edited": false, "score": 0, "creation_date": 1500377677, "post_id": 45095617, "comment_id": 77298997, "body": "Try to check what version you have of glibc, maybe reinstalling them will help. Would be good to know what you have installed there with &quot;rpm -qa | grep glibc&quot;"}, {"owner": {"reputation": 2473, "user_id": 3788685, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/0153b937db548cca172e6a78e71eabe3?s=128&d=identicon&r=PG&f=1", "display_name": "user3788685", "link": "https://stackoverflow.com/users/3788685/user3788685"}, "edited": false, "score": 3, "creation_date": 1500486186, "post_id": 45095617, "comment_id": 77362298, "body": "Please provide the full version of the glibc installed now by running <code>rpm -qa | grep glibc</code> It looks like you have mis-matched versions from different repos which is causing your problem."}, {"owner": {"reputation": 438, "user_id": 1000756, "user_type": "registered", "accept_rate": 88, "profile_image": "https://www.gravatar.com/avatar/84bbaab274ecb471236308e8382036fc?s=128&d=identicon&r=PG", "display_name": "taiko", "link": "https://stackoverflow.com/users/1000756/taiko"}, "edited": false, "score": 0, "creation_date": 1500755159, "post_id": 45095617, "comment_id": 77481199, "body": "what command are you using to install cpan ?"}, {"owner": {"reputation": 315, "user_id": 1318749, "user_type": "registered", "accept_rate": 63, "profile_image": "https://www.gravatar.com/avatar/7e721fb22c889eb795cb9065be09d790?s=128&d=identicon&r=PG", "display_name": "Ganesh", "link": "https://stackoverflow.com/users/1318749/ganesh"}, "edited": false, "score": 0, "creation_date": 1500875940, "post_id": 45095617, "comment_id": 77509610, "body": "yum install perl-CPAN"}], "answers": [{"tags": [], "owner": {"reputation": 438, "user_id": 1000756, "user_type": "registered", "accept_rate": 88, "profile_image": "https://www.gravatar.com/avatar/84bbaab274ecb471236308e8382036fc?s=128&d=identicon&r=PG", "display_name": "taiko", "link": "https://stackoverflow.com/users/1000756/taiko"}, "is_accepted": false, "score": 1, "last_activity_date": 1500757175, "last_edit_date": 1500757175, "creation_date": 1500756872, "answer_id": 45259122, "question_id": 45095617, "link": "https://stackoverflow.com/questions/45095617/unable-to-install-cpan-using-yum-on-centos-7-3/45259122#45259122", "title": "unable to install CPAN using Yum on CentOS 7.3", "body": "<p>I think your glibc-common installed is of higher version than required.</p>\n\n<ol>\n<li><p>first check if there is a version to downgrade to, by</p>\n\n<pre><code>yum list --showduplicates glibc\n</code></pre></li>\n<li><p>downgrade the glibc* by </p>\n\n<pre><code>yum downgrade glibc glibc-common glibc-devel glibc-headers\n</code></pre></li>\n<li><p>install gcc again</p>\n\n<pre><code>yum install gcc\n</code></pre></li>\n</ol>\n"}, {"tags": [], "owner": {"reputation": 315, "user_id": 1318749, "user_type": "registered", "accept_rate": 63, "profile_image": "https://www.gravatar.com/avatar/7e721fb22c889eb795cb9065be09d790?s=128&d=identicon&r=PG", "display_name": "Ganesh", "link": "https://stackoverflow.com/users/1318749/ganesh"}, "is_accepted": true, "score": 1, "last_activity_date": 1500876395, "creation_date": 1500876395, "answer_id": 45273649, "question_id": 45095617, "link": "https://stackoverflow.com/questions/45095617/unable-to-install-cpan-using-yum-on-centos-7-3/45273649#45273649", "title": "unable to install CPAN using Yum on CentOS 7.3", "body": "<p>It worked after changing the yum repo. I have edited the repository:</p>\n\n<pre><code>vim /etc/yum.repos.d/CentOS-Base.repo \n</code></pre>\n\n<p>And added below lines:</p>\n\n<pre><code>[base]\nname=CentOS-$releasever - Base\nmirrorlist=http://mirrorlist.centos.org/?release=$releasever&amp;arch=$basearch&amp;repo=os&amp;infra=$infra\n#baseurl=http://mirror.centos.org/centos/$releasever/os/$basearch/\ngpgcheck=1\ngpgkey=file:///etc/pki/rpm-gpg/RPM-GPG-KEY-CentOS-7\n</code></pre>\n\n<p>Previously it was :</p>\n\n<pre><code>[cent-7_1-os]\nname=CentOS-7_1 - os\n#baseurl=http://mhxrpmsrv001sas.dsone.3ds.com/rpms/cent/7_1/$basearch/os/latest/\nmirrorlist=http://mirrorlist.centos.org/?release=$releasever&amp;arch=$basearch&amp;repo=os&amp;infra=$infra\nenabled=1\ngpgcheck=0\ngpgkey=file:///etc/pki/rpm-gpg/RPM-GPG-KEY-CentOS-7\npriority=1\n</code></pre>\n"}], "owner": {"reputation": 315, "user_id": 1318749, "user_type": "registered", "accept_rate": 63, "profile_image": "https://www.gravatar.com/avatar/7e721fb22c889eb795cb9065be09d790?s=128&d=identicon&r=PG", "display_name": "Ganesh", "link": "https://stackoverflow.com/users/1318749/ganesh"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 3783, "favorite_count": 0, "accepted_answer_id": 45273649, "answer_count": 2, "score": 4, "last_activity_date": 1500876395, "creation_date": 1500011654, "last_edit_date": 1500012111, "question_id": 45095617, "link": "https://stackoverflow.com/questions/45095617/unable-to-install-cpan-using-yum-on-centos-7-3", "title": "unable to install CPAN using Yum on CentOS 7.3", "body": "<p>while trying to install \"CPAN\" using Yum command [CentOS 7.3(64-bit)] I am getting below error:</p>\n\n<pre><code>---&gt; Package glibc.i686 0:2.17-157.el7 will be installed\n--&gt; Processing Dependency: glibc-common = 2.17-157.el7 for package: glibc-2.17-157.el7.i686\n---&gt; Package kernel-headers.x86_64 0:3.10.0-514.el7 will be installed\n---&gt; Package nss-softokn-freebl.i686 0:3.16.2.3-14.4.el7 will be installed\n--&gt; Finished Dependency Resolution\nError: Package: glibc-2.17-157.el7.i686 (cent-7_1-os)\n           Requires: glibc-common = 2.17-157.el7\n           Installed: glibc-common-2.17-157.el7_3.4.x86_64 (@updates_latest)\n               glibc-common = 2.17-157.el7_3.4\n           Available: glibc-common-2.17-157.el7.x86_64 (cent-7_1-os)\n               glibc-common = 2.17-157.el7\n</code></pre>\n\n<p>Now on other hand when in run:</p>\n\n<pre><code> yum install glibc-2.17-157.el7.i686\n</code></pre>\n\n<p>It shows since I have already updated package:</p>\n\n<pre><code>Package matching glibc-2.17-157.el7.x86_64 already installed. Checking for update\n</code></pre>\n\n<p>how to work around this? for many of the Perl Modules is throws same error and requires <strong>glibc-2.17-157.el7.i686</strong>.\n<br><br>\nBelow are list of some modules which throws the error (though there are many other packages which are throwing same error):</p>\n\n<pre><code>yum install perl-ExtUtils-Embed\nyum install perl-ExtUtils-ParseXS\nyum install perl-ExtUtils-Install\n</code></pre>\n\n<p>I have also tries to install using source packages, but no success :(\n<br><br>\nPlease guide me if I am asking at wrong platform (No down votes plz)</p>\n"}, {"tags": ["regex", "perl"], "answers": [{"comments": [{"owner": {"reputation": 589595, "user_id": 1491895, "user_type": "registered", "accept_rate": 69, "profile_image": "https://www.gravatar.com/avatar/82f9e178a16364bf561d0ed4da09a35d?s=128&d=identicon&r=PG", "display_name": "Barmar", "link": "https://stackoverflow.com/users/1491895/barmar"}, "reply_to_user": {"reputation": 320771, "user_id": 589924, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/b2cf53d5a3d25f95c0db4e025aed4153?s=128&d=identicon&r=PG", "display_name": "ikegami", "link": "https://stackoverflow.com/users/589924/ikegami"}, "edited": false, "score": 0, "creation_date": 1499999532, "post_id": 45093676, "comment_id": 77160017, "body": "I changed from <code>*</code> to <code>+</code>, I think that should do it."}], "tags": [], "owner": {"reputation": 589595, "user_id": 1491895, "user_type": "registered", "accept_rate": 69, "profile_image": "https://www.gravatar.com/avatar/82f9e178a16364bf561d0ed4da09a35d?s=128&d=identicon&r=PG", "display_name": "Barmar", "link": "https://stackoverflow.com/users/1491895/barmar"}, "is_accepted": true, "score": 1, "last_activity_date": 1499999521, "last_edit_date": 1499999521, "creation_date": 1499999344, "answer_id": 45093676, "question_id": 45093633, "link": "https://stackoverflow.com/questions/45093633/regex-pattern-ignore-tab-and-grep-word-alone-using-perl/45093676#45093676", "title": "Regex Pattern - Ignore tab and grep word alone using Perl", "body": "<p>Instead of <code>(.*)</code>, use <code>([^\\t]+)</code> so it won't match across a TAB delimiter, and it has to match at least one non-TAB character.</p>\n"}, {"tags": [], "owner": {"reputation": 320771, "user_id": 589924, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/b2cf53d5a3d25f95c0db4e025aed4153?s=128&d=identicon&r=PG", "display_name": "ikegami", "link": "https://stackoverflow.com/users/589924/ikegami"}, "is_accepted": false, "score": 3, "last_activity_date": 1499999393, "creation_date": 1499999393, "answer_id": 45093680, "question_id": 45093633, "link": "https://stackoverflow.com/questions/45093633/regex-pattern-ignore-tab-and-grep-word-alone-using-perl/45093680#45093680", "title": "Regex Pattern - Ignore tab and grep word alone using Perl", "body": "<p>The way I'd do it:</p>\n\n<pre><code>chomp($line);\nif (!/^\\t/) {\n    $key = $line;\n    next;\n}\n\nmy (undef, $item, $group, $colinfo) = split(/\\t/, $line);\n$hash-&gt;{$key}{$item} = [ $group, $colinfo ];\n</code></pre>\n\n<p>Or if the key format actually matters,</p>\n\n<pre><code>chomp($line);\nmy @fields = split(/\\t/, $line, -1);\nif ($fields[0] ne \"\") {\n    $key = join(';', @fields);\n    next;\n}\n\nmy (undef, $item, $group, $colinfo) = @fields;\n$hash-&gt;{$key}{$item} = [ $group, $colinfo ];\n</code></pre>\n"}], "owner": {"reputation": 573, "user_id": 4210950, "user_type": "registered", "accept_rate": 71, "profile_image": "https://www.gravatar.com/avatar/1ae7dd9acf9746f6e7090ae2830af66a?s=128&d=identicon&r=PG&f=1", "display_name": "blackfury", "link": "https://stackoverflow.com/users/4210950/blackfury"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 32, "favorite_count": 1, "accepted_answer_id": 45093676, "answer_count": 2, "score": 0, "last_activity_date": 1499999521, "creation_date": 1499998990, "question_id": 45093633, "link": "https://stackoverflow.com/questions/45093633/regex-pattern-ignore-tab-and-grep-word-alone-using-perl", "title": "Regex Pattern - Ignore tab and grep word alone using Perl", "body": "<p>Input File:(all are tab separated) </p>\n\n<pre><code>abc   S12GG    HLPC\n        WT4E    dfs.com   512\n        SDA     djkf.com    1\n        SWEW       abc.com    1\n        SEFAW    dfsga.com    1\nzyx   S12YT    TYSX\n        wureyu    dfs.com   23\n        ASWE     djkf.com    10\n        werse       abc.com    16\n        SDSDFS   dfsga.com    19\n</code></pre>\n\n<p>I am creating a hash table with the first line as one key and in the second line, just the first word as key. Below is the code:</p>\n\n<pre><code>sub readFile {\n    my ($fileName, $hash) = @_;\n    my $lines=0;\n    my $key;\n    my $buffer;\n\n    open (INPUT, $fileName);\n    while($buffer=&lt;INPUT&gt;) {\n        $lines++;\n        if ($buffer=~/^(.*)\\t(.*)\\t(.*)$/) {\n            $key=trim($1).\";\".trim($2).\";\".trim($3).\";\";\n            $buffer=&lt;INPUT&gt;;\n            $lines++;\n        }\n        $buffer=~/\\t(.+)\\t(.+)\\t(.+)/;\n        my $item=trim($1);\n        my $group=trim($2);\n        my $colinfo=trim($3);\n        $hash-&gt;{$key}{$item}=[\"$group\",\"$colinfo\"];\n    }\n    close (INPUT);\n\n    return $lines;\n}\n</code></pre>\n\n<p>But this one matches both the lines in the if condition:</p>\n\n<pre><code>if ($buffer=~/^(.*)\\t(.*)\\t(.*)$/)\n</code></pre>\n\n<p>This matches both</p>\n\n<pre><code>abc   S12GG    HLPC\n        WT4E    dfs.com   512\n</code></pre>\n\n<p>Can the if condition match only the first line?? I am really stuck on this and breaking my head for a long time.</p>\n\n<p><a href=\"https://regex101.com/r/v6JuDb/1/\" rel=\"nofollow noreferrer\">https://regex101.com/r/v6JuDb/1/</a></p>\n\n<p>I tried to use it for help. But couldn't find any solution. Help would be appreciated. Thanks.</p>\n"}, {"tags": ["apache", "perl", "logging"], "comments": [{"owner": {"reputation": 320771, "user_id": 589924, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/b2cf53d5a3d25f95c0db4e025aed4153?s=128&d=identicon&r=PG", "display_name": "ikegami", "link": "https://stackoverflow.com/users/589924/ikegami"}, "edited": false, "score": 0, "creation_date": 1499998565, "post_id": 45093387, "comment_id": 77159774, "body": "access.log should have the requested urls. Wouldn&#39;t that be sufficient?"}, {"owner": {"reputation": 320771, "user_id": 589924, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/b2cf53d5a3d25f95c0db4e025aed4153?s=128&d=identicon&r=PG", "display_name": "ikegami", "link": "https://stackoverflow.com/users/589924/ikegami"}, "edited": false, "score": 1, "creation_date": 1499998724, "post_id": 45093387, "comment_id": 77159825, "body": "There are four ways you can get <code>perl</code> to log its executions: 1) modify the <code>perl</code> source. 2) compile <code>perl</code> with the setting that enables the execution of a &quot;siteconfig&quot; script at start. 3) replace <code>perl</code> with a wrapper, 4) set env var <code>PERL5OPT</code> to <code>-MSomeModule</code> where SomeModule performs the logging. /// In each of these cases, you can check if the parent process is apache."}, {"owner": {"reputation": 320771, "user_id": 589924, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/b2cf53d5a3d25f95c0db4e025aed4153?s=128&d=identicon&r=PG", "display_name": "ikegami", "link": "https://stackoverflow.com/users/589924/ikegami"}, "edited": false, "score": 0, "creation_date": 1499999151, "post_id": 45093387, "comment_id": 77159925, "body": "<a href=\"http://httpd.apache.org/docs/current/mod/mod_cgi.html\" rel=\"nofollow noreferrer\">mod_cgi</a>, the apache module that launches CGI scripts, does have some debugging log facilities that can be enabled. The docs recommended against using them in prod."}, {"owner": {"reputation": 359, "user_id": 1001500, "user_type": "registered", "accept_rate": 43, "profile_image": "https://i.stack.imgur.com/eCNDe.png?s=128&g=1", "display_name": "gfunk", "link": "https://stackoverflow.com/users/1001500/gfunk"}, "edited": false, "score": 0, "creation_date": 1500010615, "post_id": 45093387, "comment_id": 77163047, "body": "If you have a perl script &quot;print STDERR &#39;abc&#39;&quot; then, when invoked via apache, it will log to /var/log/apache2/error.log (assuming you have apache.conf LogLevel set to include errors)."}, {"owner": {"reputation": 13, "user_id": 5145550, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/4d612621cc44f29ad24e411da2b336ea?s=128&d=identicon&r=PG&f=1", "display_name": "Cidi Rome", "link": "https://stackoverflow.com/users/5145550/cidi-rome"}, "edited": false, "score": 0, "creation_date": 1500145493, "post_id": 45093387, "comment_id": 77214361, "body": "Hi. Based on the suggestions I managed to install MDevel::PerlLog that works pretty good on the shell, but I&#39;m not being able to get it to work for apache started scripts.  Notes: - On the shell I used export PERL5OPT=&quot;-MDevel::PerlLog=/tmp/perl.log,all&quot; to get is to work; - On apache I tried adding (to httpd.conf) this directives: PerlSetupEnv On PerlSetEnv PERL5OPT &quot;-MDevel::PerlLog=/tmp/perl.log,all&quot; Or SetEnv PERL5OPT &quot;-MDevel::PerlLog=/tmp/perl.log,all&quot; But it does not log anything Have the the perl.log file with permissions that let apache write to it. Any Ideas?"}], "owner": {"reputation": 13, "user_id": 5145550, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/4d612621cc44f29ad24e411da2b336ea?s=128&d=identicon&r=PG&f=1", "display_name": "Cidi Rome", "link": "https://stackoverflow.com/users/5145550/cidi-rome"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 296, "favorite_count": 0, "answer_count": 0, "score": 1, "last_activity_date": 1499997238, "creation_date": 1499997238, "question_id": 45093387, "link": "https://stackoverflow.com/questions/45093387/logging-every-perl-script-executed-by-apache", "title": "Logging every perl script executed by Apache", "body": "<p>Is there a way to configure apache to log every perl script execution?</p>\n\n<p>Or on the other hand to configure perl to log it's own executions.</p>\n\n<p>About the second option I've read about perl wrappers, but also have read that it is tricky, since I only want to log the ones from apache maybe it is easier to configure apache to do it.</p>\n\n<p>Made StackOverflow and Google searches and couldn't find this specific information.</p>\n\n<p>Cheers.</p>\n"}, {"tags": ["git", "perl", "perl-module", "cpan", "msysgit"], "answers": [{"comments": [{"owner": {"reputation": 1099, "user_id": 3273929, "user_type": "registered", "accept_rate": 84, "profile_image": "https://www.gravatar.com/avatar/41a12b51e925e256a5d847ecca6360a5?s=128&d=identicon&r=PG&f=1", "display_name": "Mark VY", "link": "https://stackoverflow.com/users/3273929/mark-vy"}, "edited": false, "score": 0, "creation_date": 1499982404, "post_id": 45091348, "comment_id": 77155378, "body": "see C:\\Program Files\\Git\\usr\\bin\\perl.exe"}, {"owner": {"reputation": 123805, "user_id": 622310, "user_type": "registered", "accept_rate": 33, "profile_image": "https://www.gravatar.com/avatar/8b6d35219e1808520bc238b28161e2e6?s=128&d=identicon&r=PG", "display_name": "Borodin", "link": "https://stackoverflow.com/users/622310/borodin"}, "reply_to_user": {"reputation": 1099, "user_id": 3273929, "user_type": "registered", "accept_rate": 84, "profile_image": "https://www.gravatar.com/avatar/41a12b51e925e256a5d847ecca6360a5?s=128&d=identicon&r=PG&f=1", "display_name": "Mark VY", "link": "https://stackoverflow.com/users/3273929/mark-vy"}, "edited": false, "score": 0, "creation_date": 1499982878, "post_id": 45091348, "comment_id": 77155595, "body": "@MarkVY: That is a local path on specific machine. All it tells me is that there is a <code>perl.exe</code> under that system&#39;s git installation. What do you see if you enter <code>where perl</code> to a command prompt?"}, {"owner": {"reputation": 123805, "user_id": 622310, "user_type": "registered", "accept_rate": 33, "profile_image": "https://www.gravatar.com/avatar/8b6d35219e1808520bc238b28161e2e6?s=128&d=identicon&r=PG", "display_name": "Borodin", "link": "https://stackoverflow.com/users/622310/borodin"}, "edited": false, "score": 0, "creation_date": 1499984415, "post_id": 45091348, "comment_id": 77156217, "body": "I think the bottom line is that your installation process must make sure that your code will run. Unless you can be certain of the heritage and integrity of any existing Perl installation, it is simplest to install your own Perl and requisite libraries and rely on those."}], "tags": [], "owner": {"reputation": 123805, "user_id": 622310, "user_type": "registered", "accept_rate": 33, "profile_image": "https://www.gravatar.com/avatar/8b6d35219e1808520bc238b28161e2e6?s=128&d=identicon&r=PG", "display_name": "Borodin", "link": "https://stackoverflow.com/users/622310/borodin"}, "is_accepted": false, "score": 2, "last_activity_date": 1499986678, "last_edit_date": 1499986678, "creation_date": 1499982021, "answer_id": 45091348, "question_id": 45091158, "link": "https://stackoverflow.com/questions/45091158/which-perl-modules-does-git-for-windows-come-with/45091348#45091348", "title": "Which Perl modules does git for Windows come with?", "body": "<p>For a Windows machine you need to install either\n<a href=\"http://strawberryperl.com/\" rel=\"nofollow noreferrer\">Strawberry Perl</a>\nor possibly ActivePerl. You certainly shouldn't be relying on whatever happens to come with another distribution</p>\n\n<p>Perl is developed very carefully so that it will mostly accept very old Perl code without change. But if your Perl has to perform identically on someone else's system then you may need to be more careful</p>\n\n<p>What matters most is whether you need a 32-bit or a 64-bit version of Perl, and what version of the Perl compiler you need. You shouldn't concern yourself with what modules are available, as it is simple to add any Windows-compatible modules to the base installation</p>\n\n<p>If you need more help than this then we need more information, which you should edit into your question</p>\n"}, {"comments": [{"owner": {"reputation": 1099, "user_id": 3273929, "user_type": "registered", "accept_rate": 84, "profile_image": "https://www.gravatar.com/avatar/41a12b51e925e256a5d847ecca6360a5?s=128&d=identicon&r=PG&f=1", "display_name": "Mark VY", "link": "https://stackoverflow.com/users/3273929/mark-vy"}, "edited": false, "score": 0, "creation_date": 1499983473, "post_id": 45091628, "comment_id": 77155880, "body": "I think this is actually the right answer, were it not for the fact I myself ALSO don&#39;t have a proper perl distribution.  But perhaps I should just download one."}, {"owner": {"reputation": 320771, "user_id": 589924, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/b2cf53d5a3d25f95c0db4e025aed4153?s=128&d=identicon&r=PG", "display_name": "ikegami", "link": "https://stackoverflow.com/users/589924/ikegami"}, "reply_to_user": {"reputation": 1099, "user_id": 3273929, "user_type": "registered", "accept_rate": 84, "profile_image": "https://www.gravatar.com/avatar/41a12b51e925e256a5d847ecca6360a5?s=128&d=identicon&r=PG&f=1", "display_name": "Mark VY", "link": "https://stackoverflow.com/users/3273929/mark-vy"}, "edited": false, "score": 1, "creation_date": 1499983603, "post_id": 45091628, "comment_id": 77155921, "body": "It&#39;s pretty easy :)"}, {"owner": {"reputation": 1099, "user_id": 3273929, "user_type": "registered", "accept_rate": 84, "profile_image": "https://www.gravatar.com/avatar/41a12b51e925e256a5d847ecca6360a5?s=128&d=identicon&r=PG&f=1", "display_name": "Mark VY", "link": "https://stackoverflow.com/users/3273929/mark-vy"}, "edited": false, "score": 0, "creation_date": 1499983678, "post_id": 45091628, "comment_id": 77155951, "body": "A bit less easy without admin rights, but alright, alright, already.  I still feel that there should be a way to find this out though."}, {"owner": {"reputation": 320771, "user_id": 589924, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/b2cf53d5a3d25f95c0db4e025aed4153?s=128&d=identicon&r=PG", "display_name": "ikegami", "link": "https://stackoverflow.com/users/589924/ikegami"}, "reply_to_user": {"reputation": 1099, "user_id": 3273929, "user_type": "registered", "accept_rate": 84, "profile_image": "https://www.gravatar.com/avatar/41a12b51e925e256a5d847ecca6360a5?s=128&d=identicon&r=PG&f=1", "display_name": "Mark VY", "link": "https://stackoverflow.com/users/3273929/mark-vy"}, "edited": false, "score": 0, "creation_date": 1499983715, "post_id": 45091628, "comment_id": 77155964, "body": "I doubt it. Why would they want to guarantee that a module will be present? The <code>perl</code> is there to serve <code>git</code>, nothing more."}, {"owner": {"reputation": 1099, "user_id": 3273929, "user_type": "registered", "accept_rate": 84, "profile_image": "https://www.gravatar.com/avatar/41a12b51e925e256a5d847ecca6360a5?s=128&d=identicon&r=PG&f=1", "display_name": "Mark VY", "link": "https://stackoverflow.com/users/3273929/mark-vy"}, "edited": false, "score": 0, "creation_date": 1499983940, "post_id": 45091628, "comment_id": 77156045, "body": "You&#39;re probably right that this is likely undocumented and has no contractual guarantees, but this information should still exist somewhere.  Either by asking perl for what modules are present, or by finding it in the msys source code or install script, or something.  After all, the modules do get installed!  They have to come from somewhere :)"}, {"owner": {"reputation": 320771, "user_id": 589924, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/b2cf53d5a3d25f95c0db4e025aed4153?s=128&d=identicon&r=PG", "display_name": "ikegami", "link": "https://stackoverflow.com/users/589924/ikegami"}, "reply_to_user": {"reputation": 1099, "user_id": 3273929, "user_type": "registered", "accept_rate": 84, "profile_image": "https://www.gravatar.com/avatar/41a12b51e925e256a5d847ecca6360a5?s=128&d=identicon&r=PG&f=1", "display_name": "Mark VY", "link": "https://stackoverflow.com/users/3273929/mark-vy"}, "edited": false, "score": 0, "creation_date": 1499984390, "post_id": 45091628, "comment_id": 77156201, "body": "Again, why would someone take the time to do create the last of modules in each build?  Especially since it would encourage people to rely on it?"}, {"owner": {"reputation": 1099, "user_id": 3273929, "user_type": "registered", "accept_rate": 84, "profile_image": "https://www.gravatar.com/avatar/41a12b51e925e256a5d847ecca6360a5?s=128&d=identicon&r=PG&f=1", "display_name": "Mark VY", "link": "https://stackoverflow.com/users/3273929/mark-vy"}, "edited": false, "score": 0, "creation_date": 1499984640, "post_id": 45091628, "comment_id": 77156311, "body": "Because the installer needs it!  Somehow, the modules actually get installed, which means they come with the installer.  Somehow the installer gets built.  Thus, this information must exist somewhere.  Maybe not in a convenient form, but it has to exist."}, {"owner": {"reputation": 123805, "user_id": 622310, "user_type": "registered", "accept_rate": 33, "profile_image": "https://www.gravatar.com/avatar/8b6d35219e1808520bc238b28161e2e6?s=128&d=identicon&r=PG", "display_name": "Borodin", "link": "https://stackoverflow.com/users/622310/borodin"}, "reply_to_user": {"reputation": 1099, "user_id": 3273929, "user_type": "registered", "accept_rate": 84, "profile_image": "https://www.gravatar.com/avatar/41a12b51e925e256a5d847ecca6360a5?s=128&d=identicon&r=PG&f=1", "display_name": "Mark VY", "link": "https://stackoverflow.com/users/3273929/mark-vy"}, "edited": false, "score": 0, "creation_date": 1499985245, "post_id": 45091628, "comment_id": 77156502, "body": "@MarkVY: <i>&quot;Because the installer needs it!&quot;</i> You have an inflated idea about your own Perl code. The people creating the git installation package created something that would allow git to work. They weren&#39;t concerned with <b><i>Mark VY&#39;s</i></b> installation some time later, and nor should they have been. They may well have removed unnecessary core modules from that perl just to save wasted space. Your approach should be the same. Your software needs a copy of perl and some specific modules. You must release all of those with your Perl code so that it will run on an empty Windows system."}, {"owner": {"reputation": 1099, "user_id": 3273929, "user_type": "registered", "accept_rate": 84, "profile_image": "https://www.gravatar.com/avatar/41a12b51e925e256a5d847ecca6360a5?s=128&d=identicon&r=PG&f=1", "display_name": "Mark VY", "link": "https://stackoverflow.com/users/3273929/mark-vy"}, "edited": false, "score": 0, "creation_date": 1499985566, "post_id": 45091628, "comment_id": 77156584, "body": "Huh?  I have no illusions of grandeur here.  I meant that <i>their</i> installer needs it.  You&#39;ve convinced me that I should not rely on it,  but it should exist."}, {"owner": {"reputation": 320771, "user_id": 589924, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/b2cf53d5a3d25f95c0db4e025aed4153?s=128&d=identicon&r=PG", "display_name": "ikegami", "link": "https://stackoverflow.com/users/589924/ikegami"}, "edited": false, "score": 0, "creation_date": 1499986414, "post_id": 45091628, "comment_id": 77156824, "body": "You still assume that every build had the same packages even though I specifically pointed out that&#39;s not the case. OTOH, if you want to know what&#39;s on your hard drive, just look"}, {"owner": {"reputation": 123805, "user_id": 622310, "user_type": "registered", "accept_rate": 33, "profile_image": "https://www.gravatar.com/avatar/8b6d35219e1808520bc238b28161e2e6?s=128&d=identicon&r=PG", "display_name": "Borodin", "link": "https://stackoverflow.com/users/622310/borodin"}, "edited": false, "score": 0, "creation_date": 1499986597, "post_id": 45091628, "comment_id": 77156884, "body": "@\u039carkVY: I hope you&#39;re convinced. Tomorrow they may well switch to a Python or Java layer that affects nothing but your hybrid installation. No release has any obligations beyond getting the target software working and leaving the rest of the system untouched. If you work with a Windows system of any age then you will find <i>dozens</i> of identical copies of standard .dll files. All of them are there to make sure that a single piece of software works as predicted by its suppliers. If you&#39;re happy to delete all copies of <code>system32.dll</code> except the one in the Windows tree then go ahead."}, {"owner": {"reputation": 1099, "user_id": 3273929, "user_type": "registered", "accept_rate": 84, "profile_image": "https://www.gravatar.com/avatar/41a12b51e925e256a5d847ecca6360a5?s=128&d=identicon&r=PG&f=1", "display_name": "Mark VY", "link": "https://stackoverflow.com/users/3273929/mark-vy"}, "edited": false, "score": 0, "creation_date": 1499990692, "post_id": 45091628, "comment_id": 77157968, "body": "yes, I am indeed convinced that relying on specific modules being installed is asking for trouble.  in theory, relying on perl at all is asking for trouble, but in practice that seems far-fetched.  if that were to happen, I&#39;d just ask people to install Perl."}, {"owner": {"reputation": 123805, "user_id": 622310, "user_type": "registered", "accept_rate": 33, "profile_image": "https://www.gravatar.com/avatar/8b6d35219e1808520bc238b28161e2e6?s=128&d=identicon&r=PG", "display_name": "Borodin", "link": "https://stackoverflow.com/users/622310/borodin"}, "reply_to_user": {"reputation": 1099, "user_id": 3273929, "user_type": "registered", "accept_rate": 84, "profile_image": "https://www.gravatar.com/avatar/41a12b51e925e256a5d847ecca6360a5?s=128&d=identicon&r=PG&f=1", "display_name": "Mark VY", "link": "https://stackoverflow.com/users/3273929/mark-vy"}, "edited": false, "score": 0, "creation_date": 1499992305, "post_id": 45091628, "comment_id": 77158395, "body": "@MarkVY: That&#39;s very unprofessional, but I&#39;m beginning to think that you don&#39;t care. If you know about a potential problem but decide to wait until someone finds it before issuing the fix then you&#39;re being irresponsible. It&#39;s also highly likely that you may break something on the system if you just tell them to install some sort of Windows Perl. The git installation deliberately keeps its perl out of <code>PATH</code>, and you don&#39;t have a procedure for doing the same for your perl. Which modules are available is the least of your worries."}], "tags": [], "owner": {"reputation": 320771, "user_id": 589924, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/b2cf53d5a3d25f95c0db4e025aed4153?s=128&d=identicon&r=PG", "display_name": "ikegami", "link": "https://stackoverflow.com/users/589924/ikegami"}, "is_accepted": true, "score": 2, "last_activity_date": 1499983295, "creation_date": 1499983295, "answer_id": 45091628, "question_id": 45091158, "link": "https://stackoverflow.com/questions/45091158/which-perl-modules-does-git-for-windows-come-with/45091628#45091628", "title": "Which Perl modules does git for Windows come with?", "body": "<p>Use <a href=\"http://search.cpan.org/perldoc?App::FatPacker\" rel=\"nofollow noreferrer\">App::FatPacker</a> to inline (non-XS) modules into your script.</p>\n"}, {"comments": [{"owner": {"reputation": 123805, "user_id": 622310, "user_type": "registered", "accept_rate": 33, "profile_image": "https://www.gravatar.com/avatar/8b6d35219e1808520bc238b28161e2e6?s=128&d=identicon&r=PG", "display_name": "Borodin", "link": "https://stackoverflow.com/users/622310/borodin"}, "edited": false, "score": 0, "creation_date": 1499992561, "post_id": 45092675, "comment_id": 77158451, "body": "What is wrong with just installing your dependencies along with the software? It&#39;s what the rest of the world does!"}, {"owner": {"reputation": 1099, "user_id": 3273929, "user_type": "registered", "accept_rate": 84, "profile_image": "https://www.gravatar.com/avatar/41a12b51e925e256a5d847ecca6360a5?s=128&d=identicon&r=PG&f=1", "display_name": "Mark VY", "link": "https://stackoverflow.com/users/3273929/mark-vy"}, "reply_to_user": {"reputation": 123805, "user_id": 622310, "user_type": "registered", "accept_rate": 33, "profile_image": "https://www.gravatar.com/avatar/8b6d35219e1808520bc238b28161e2e6?s=128&d=identicon&r=PG", "display_name": "Borodin", "link": "https://stackoverflow.com/users/622310/borodin"}, "edited": false, "score": 0, "creation_date": 1499993343, "post_id": 45092675, "comment_id": 77158597, "body": "Is it really?  Does every project that requires Java ship its own JRE?"}, {"owner": {"reputation": 123805, "user_id": 622310, "user_type": "registered", "accept_rate": 33, "profile_image": "https://www.gravatar.com/avatar/8b6d35219e1808520bc238b28161e2e6?s=128&d=identicon&r=PG", "display_name": "Borodin", "link": "https://stackoverflow.com/users/622310/borodin"}, "edited": false, "score": 0, "creation_date": 1499994060, "post_id": 45092675, "comment_id": 77158738, "body": "Often, yes. But Java is different and will offer to update itself if it phones home and finds that there is a later version available. That is Oracle&#39;s way of marketing. But Perl, Python, Ruby, Lua etc.all have different solutions to the problem, and all involve shipping the run time environment with the software in one way or another."}, {"owner": {"reputation": 1099, "user_id": 3273929, "user_type": "registered", "accept_rate": 84, "profile_image": "https://www.gravatar.com/avatar/41a12b51e925e256a5d847ecca6360a5?s=128&d=identicon&r=PG&f=1", "display_name": "Mark VY", "link": "https://stackoverflow.com/users/3273929/mark-vy"}, "reply_to_user": {"reputation": 123805, "user_id": 622310, "user_type": "registered", "accept_rate": 33, "profile_image": "https://www.gravatar.com/avatar/8b6d35219e1808520bc238b28161e2e6?s=128&d=identicon&r=PG", "display_name": "Borodin", "link": "https://stackoverflow.com/users/622310/borodin"}, "edited": false, "score": 0, "creation_date": 1499994649, "post_id": 45092675, "comment_id": 77158888, "body": "Lua is compact.  The other languages are not.  A typical Linux distribution has a reasonably nice solution to this kind of thing: package managers.  So if program 1 and program 2 both require Perl, you only end up with 1 copy of perl.  Windows doesn&#39;t have this.  But I personally resent it when I see programs 3 different programs installing their own version of Python 2.7 on my machine when I already had it installed for my own use, wasting who knows how much disk space.  They do this to simplify their installation instructions, because disk space is cheap and user training is hard. But still."}, {"owner": {"reputation": 123805, "user_id": 622310, "user_type": "registered", "accept_rate": 33, "profile_image": "https://www.gravatar.com/avatar/8b6d35219e1808520bc238b28161e2e6?s=128&d=identicon&r=PG", "display_name": "Borodin", "link": "https://stackoverflow.com/users/622310/borodin"}, "edited": false, "score": 0, "creation_date": 1499994791, "post_id": 45092675, "comment_id": 77158916, "body": "I&#39;m not going to say any more here because you clearly have your own ideas of what a proper answer should say, and in any case it&#39;s the wrong place for an exchange of this length or nature. I would just remind you that you have access to the help of some of the very best software engineers in the world here, and it seems churlish of you to dismiss the answers that you are offered. No one with any sense will engage with you in trying to make use of an unknown version of Perl that should part of another installation on the target system, and will likely need additional modules."}, {"owner": {"reputation": 1099, "user_id": 3273929, "user_type": "registered", "accept_rate": 84, "profile_image": "https://www.gravatar.com/avatar/41a12b51e925e256a5d847ecca6360a5?s=128&d=identicon&r=PG&f=1", "display_name": "Mark VY", "link": "https://stackoverflow.com/users/3273929/mark-vy"}, "reply_to_user": {"reputation": 123805, "user_id": 622310, "user_type": "registered", "accept_rate": 33, "profile_image": "https://www.gravatar.com/avatar/8b6d35219e1808520bc238b28161e2e6?s=128&d=identicon&r=PG", "display_name": "Borodin", "link": "https://stackoverflow.com/users/622310/borodin"}, "edited": false, "score": 0, "creation_date": 1499995427, "post_id": 45092675, "comment_id": 77159048, "body": "I plead guilty to the accusation of churlishness.  I also mostly agree that hardly anyone with sense would assist me with what I&#39;m trying to do, because it is in some sense misguided.  But I do have my (perhaps bad) reasons.  I&#39;m not trying make an &quot;installer&quot; at all.  This is not meant to be distributed to the world at large.  This is (or will be) an internal tool.  I want to be able to tell someone: &quot;here&#39;s a 40-line (or 80-line, or whatever) Perl script that will solve your problem&quot;.  Not: &quot;here, install a few hundred megs of STUFF and it will solve your problem&quot;."}, {"owner": {"reputation": 1099, "user_id": 3273929, "user_type": "registered", "accept_rate": 84, "profile_image": "https://www.gravatar.com/avatar/41a12b51e925e256a5d847ecca6360a5?s=128&d=identicon&r=PG&f=1", "display_name": "Mark VY", "link": "https://stackoverflow.com/users/3273929/mark-vy"}, "reply_to_user": {"reputation": 123805, "user_id": 622310, "user_type": "registered", "accept_rate": 33, "profile_image": "https://www.gravatar.com/avatar/8b6d35219e1808520bc238b28161e2e6?s=128&d=identicon&r=PG", "display_name": "Borodin", "link": "https://stackoverflow.com/users/622310/borodin"}, "edited": false, "score": 0, "creation_date": 1499998205, "post_id": 45092675, "comment_id": 77159684, "body": "Sorry, but you&#39;re being unclear about this alternative question you suggest I post.  But if you leave me here, then so be it.  I&#39;ve certainly used more than enough of your time.  And I sincerely thank you.  Rather than just accept my question at face value, you&#39;ve attempted to see through to the underlying problem and solve that.  It made me a bit grumpy because it felt like you were trying to answer a question I didn&#39;t ask and ignoring the one I did ask, but the impulse is a good one.  <a href=\"https://blogs.msdn.microsoft.com/oldnewthing/20060323-00/?p=31803\" rel=\"nofollow noreferrer\">blogs.msdn.microsoft.com/oldnewthing/20060323-00/?p=31803</a>"}, {"owner": {"reputation": 123805, "user_id": 622310, "user_type": "registered", "accept_rate": 33, "profile_image": "https://www.gravatar.com/avatar/8b6d35219e1808520bc238b28161e2e6?s=128&d=identicon&r=PG", "display_name": "Borodin", "link": "https://stackoverflow.com/users/622310/borodin"}, "edited": false, "score": 1, "creation_date": 1499999542, "post_id": 45092675, "comment_id": 77160021, "body": "See also <a href=\"http://xyproblem.info/\" rel=\"nofollow noreferrer\"><i>The XY Problem</i></a>. It happens all the time. I can&#39;t and shouldn&#39;t formulate a better question for you as I know almost nothing about your problem. I think my job is done in that you have understood my point. No apology was necessary. I will guarantee that, if you bear my ideas in mind, you will get much more useful answers when you ask about how to resolve your predicament."}], "tags": [], "owner": {"reputation": 1099, "user_id": 3273929, "user_type": "registered", "accept_rate": 84, "profile_image": "https://www.gravatar.com/avatar/41a12b51e925e256a5d847ecca6360a5?s=128&d=identicon&r=PG&f=1", "display_name": "Mark VY", "link": "https://stackoverflow.com/users/3273929/mark-vy"}, "is_accepted": false, "score": -2, "last_activity_date": 1499990803, "creation_date": 1499990803, "answer_id": 45092675, "question_id": 45091158, "link": "https://stackoverflow.com/questions/45091158/which-perl-modules-does-git-for-windows-come-with/45092675#45092675", "title": "Which Perl modules does git for Windows come with?", "body": "<p>brute force solution: install git on a windows machine that doesn't have it and see what modules show up.  ick!</p>\n"}, {"comments": [{"owner": {"reputation": 1099, "user_id": 3273929, "user_type": "registered", "accept_rate": 84, "profile_image": "https://www.gravatar.com/avatar/41a12b51e925e256a5d847ecca6360a5?s=128&d=identicon&r=PG&f=1", "display_name": "Mark VY", "link": "https://stackoverflow.com/users/3273929/mark-vy"}, "edited": false, "score": 0, "creation_date": 1500064576, "post_id": 45110704, "comment_id": 77194163, "body": "That is very close to ikegami&#39;s idea.  This is probably the right answer; this way I&#39;m the only one who has to install anything, and the recipient can use any Perl in the w, even one without any modules at all."}, {"owner": {"reputation": 160, "user_id": 6027771, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/d6e6b84a2a791c8e260ed0b95cbac292?s=128&d=identicon&r=PG&f=1", "display_name": "dasgar", "link": "https://stackoverflow.com/users/6027771/dasgar"}, "reply_to_user": {"reputation": 1099, "user_id": 3273929, "user_type": "registered", "accept_rate": 84, "profile_image": "https://www.gravatar.com/avatar/41a12b51e925e256a5d847ecca6360a5?s=128&d=identicon&r=PG&f=1", "display_name": "Mark VY", "link": "https://stackoverflow.com/users/3273929/mark-vy"}, "edited": false, "score": 0, "creation_date": 1500092477, "post_id": 45110704, "comment_id": 77200058, "body": "@MarkVY: Yes, this is a similar concept to ikegami&#39;s suggestion of App::FatPacker.  However, there are two key differences.  The App::FatPacker route would require Perl to be installed on the system that runs the script and you can&#39;t use any XS module (example: you&#39;d have to use Text::CSV rather than Text::CSV_XS).  Using pp from PAR::Packer means the created executable can be run on a system that doesn&#39;t have Perl installed and you can use XS modules.  Basically pp packages the Perl interpreter, all of the needed modules and your script into a standalone executable."}, {"owner": {"reputation": 1099, "user_id": 3273929, "user_type": "registered", "accept_rate": 84, "profile_image": "https://www.gravatar.com/avatar/41a12b51e925e256a5d847ecca6360a5?s=128&d=identicon&r=PG&f=1", "display_name": "Mark VY", "link": "https://stackoverflow.com/users/3273929/mark-vy"}, "edited": false, "score": 0, "creation_date": 1500144034, "post_id": 45110704, "comment_id": 77213926, "body": "Ah, I see.  But then I guess it will ONLY work on windows."}, {"owner": {"reputation": 160, "user_id": 6027771, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/d6e6b84a2a791c8e260ed0b95cbac292?s=128&d=identicon&r=PG&f=1", "display_name": "dasgar", "link": "https://stackoverflow.com/users/6027771/dasgar"}, "reply_to_user": {"reputation": 1099, "user_id": 3273929, "user_type": "registered", "accept_rate": 84, "profile_image": "https://www.gravatar.com/avatar/41a12b51e925e256a5d847ecca6360a5?s=128&d=identicon&r=PG&f=1", "display_name": "Mark VY", "link": "https://stackoverflow.com/users/3273929/mark-vy"}, "edited": false, "score": 0, "creation_date": 1500181704, "post_id": 45110704, "comment_id": 77220809, "body": "@MarkVY:  You can&#39;t use pp on one platform to build an executable for another platform.  For example, you can&#39;t use pp on a Windows system to build an executable to be run on a Linux system.  But based on your original question, it didn&#39;t sound like that was something that you were trying to do."}, {"owner": {"reputation": 1099, "user_id": 3273929, "user_type": "registered", "accept_rate": 84, "profile_image": "https://www.gravatar.com/avatar/41a12b51e925e256a5d847ecca6360a5?s=128&d=identicon&r=PG&f=1", "display_name": "Mark VY", "link": "https://stackoverflow.com/users/3273929/mark-vy"}, "edited": false, "score": 0, "creation_date": 1500183866, "post_id": 45110704, "comment_id": 77221158, "body": "Most Linux systems have a proper installation of Perl with all or most core modules included; thus my main concern was with getting Windows to work.  Upon further investigation, it looks like the Perl that ships with git for windows also has most (though far from all) of the core modules included, so things are not as bad as I feared."}], "tags": [], "owner": {"reputation": 160, "user_id": 6027771, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/d6e6b84a2a791c8e260ed0b95cbac292?s=128&d=identicon&r=PG&f=1", "display_name": "dasgar", "link": "https://stackoverflow.com/users/6027771/dasgar"}, "is_accepted": false, "score": 3, "last_activity_date": 1500062231, "creation_date": 1500062231, "answer_id": 45110704, "question_id": 45091158, "link": "https://stackoverflow.com/questions/45091158/which-perl-modules-does-git-for-windows-come-with/45110704#45110704", "title": "Which Perl modules does git for Windows come with?", "body": "<p>My approach is a combination of some of the other suggestions along with a new wrinkle.</p>\n\n<p>I'd start with using a portable edition of <a href=\"http://strawberryperl.com/\" rel=\"nofollow noreferrer\">Strawberry Perl</a>.  That's an easy way to get a good clean Perl installation without interfering with your git installation's Perl.  (Alternatively, you could look into using <a href=\"https://github.com/stevieb9/berrybrew\" rel=\"nofollow noreferrer\">berrybrew</a>, which emulates <a href=\"https://perlbrew.pl/\" rel=\"nofollow noreferrer\">perlbrew</a> for the Windows environment by leveraging portable editions of Strawberry Perl.)</p>\n\n<p>After you get your portable Strawberry Perl environment setup with the modules that you need for your script, use the cpan or cpanm client (included in Strawberry Perl) to install <a href=\"https://metacpan.org/pod/PAR::Packer\" rel=\"nofollow noreferrer\">PAR::Packer</a>, which will provide you with the <a href=\"https://metacpan.org/pod/pp\" rel=\"nofollow noreferrer\">pp</a> utility.  Using the pp utility, you can bundle your Perl script into a standalone executable - which in turn can be run on another Windows system that does not have Perl installed.  When using the pp utility, be sure to use the -c and/or -x options to ensure that pp will pickup all of the run time dependencies to bundle those in as well.</p>\n"}], "owner": {"reputation": 1099, "user_id": 3273929, "user_type": "registered", "accept_rate": 84, "profile_image": "https://www.gravatar.com/avatar/41a12b51e925e256a5d847ecca6360a5?s=128&d=identicon&r=PG&f=1", "display_name": "Mark VY", "link": "https://stackoverflow.com/users/3273929/mark-vy"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 1855, "favorite_count": 1, "accepted_answer_id": 45091628, "answer_count": 4, "score": 1, "last_activity_date": 1500062231, "creation_date": 1499981111, "last_edit_date": 1499982124, "question_id": 45091158, "link": "https://stackoverflow.com/questions/45091158/which-perl-modules-does-git-for-windows-come-with", "title": "Which Perl modules does git for Windows come with?", "body": "<p>I want to write a Perl script that will work on Windows, which doesn't have Perl installed by default. The users are guaranteed to have git installed, so I am considering using that one.</p>\n\n<p>But I don't know which modules are guaranteed to be present.  Is this documented somewhere?  If not, can I find out some other way?</p>\n"}, {"tags": ["arrays", "perl", "sorting", "hash"], "comments": [{"owner": {"reputation": 110113, "user_id": 168657, "user_type": "registered", "accept_rate": 92, "profile_image": "https://www.gravatar.com/avatar/f14e7610fca39322ebbf23530def15f8?s=128&d=identicon&r=PG", "display_name": "mob", "link": "https://stackoverflow.com/users/168657/mob"}, "edited": false, "score": 1, "creation_date": 1499977755, "post_id": 45090169, "comment_id": 77153185, "body": "plus one for coming up with a simpler example that demonstrates your issue"}, {"owner": {"reputation": 563, "user_id": 3493984, "user_type": "registered", "accept_rate": 100, "profile_image": "https://i.stack.imgur.com/iI51g.jpg?s=128&g=1", "display_name": "LadyCygnus", "link": "https://stackoverflow.com/users/3493984/ladycygnus"}, "reply_to_user": {"reputation": 110113, "user_id": 168657, "user_type": "registered", "accept_rate": 92, "profile_image": "https://www.gravatar.com/avatar/f14e7610fca39322ebbf23530def15f8?s=128&d=identicon&r=PG", "display_name": "mob", "link": "https://stackoverflow.com/users/168657/mob"}, "edited": false, "score": 0, "creation_date": 1499978365, "post_id": 45090169, "comment_id": 77153511, "body": "@mob - I would say that I didn&#39;t have a choice given how complex hash-of-arrays can be, but I know how bad some can be. Technically this question is a repeat, but I simply couldn&#39;t follow the earlier ones who had incoherent code, which lead to incomplete answers."}, {"owner": {"reputation": 123805, "user_id": 622310, "user_type": "registered", "accept_rate": 33, "profile_image": "https://www.gravatar.com/avatar/8b6d35219e1808520bc238b28161e2e6?s=128&d=identicon&r=PG", "display_name": "Borodin", "link": "https://stackoverflow.com/users/622310/borodin"}, "edited": false, "score": 0, "creation_date": 1499987269, "post_id": 45090169, "comment_id": 77157090, "body": "I am surprised that it hasn&#39;t made it into even <i>Merriam-Webster</i>, but <b><i>setup</i></b> isn&#39;t an English verb anywhere. There seems to be a fashion for removing spaces from phrases that is making American English more and more like German. I don&#39;t like it. I am sorry that this is so off-topic."}, {"owner": {"reputation": 563, "user_id": 3493984, "user_type": "registered", "accept_rate": 100, "profile_image": "https://i.stack.imgur.com/iI51g.jpg?s=128&g=1", "display_name": "LadyCygnus", "link": "https://stackoverflow.com/users/3493984/ladycygnus"}, "reply_to_user": {"reputation": 123805, "user_id": 622310, "user_type": "registered", "accept_rate": 33, "profile_image": "https://www.gravatar.com/avatar/8b6d35219e1808520bc238b28161e2e6?s=128&d=identicon&r=PG", "display_name": "Borodin", "link": "https://stackoverflow.com/users/622310/borodin"}, "edited": false, "score": 0, "creation_date": 1500465379, "post_id": 45090169, "comment_id": 77346609, "body": "@Borodin - it may be a duplicate question title, but that code didn&#39;t clearly show where the problem was and the accepted answer was &quot;use diagnostics. There is another question about this same error code, but the code was so confusing that they couldn&#39;t figure out what it was written in (perl, python, php??) - and the final answer was &quot;use diagnostics&quot;. My question got an actual answer that explains what was wrong."}, {"owner": {"reputation": 563, "user_id": 3493984, "user_type": "registered", "accept_rate": 100, "profile_image": "https://i.stack.imgur.com/iI51g.jpg?s=128&g=1", "display_name": "LadyCygnus", "link": "https://stackoverflow.com/users/3493984/ladycygnus"}, "reply_to_user": {"reputation": 320771, "user_id": 589924, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/b2cf53d5a3d25f95c0db4e025aed4153?s=128&d=identicon&r=PG", "display_name": "ikegami", "link": "https://stackoverflow.com/users/589924/ikegami"}, "edited": false, "score": 0, "creation_date": 1500465907, "post_id": 45090169, "comment_id": 77347062, "body": "@ikegami - thanks for the fix for that. It bothered my OCD, but didn&#39;t really matter so I was forcing myself to ignore it :-)"}, {"owner": {"reputation": 320771, "user_id": 589924, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/b2cf53d5a3d25f95c0db4e025aed4153?s=128&d=identicon&r=PG", "display_name": "ikegami", "link": "https://stackoverflow.com/users/589924/ikegami"}, "edited": false, "score": 1, "creation_date": 1500477230, "post_id": 45090169, "comment_id": 77356659, "body": "Reopened, but there was nothing useful in the question of which this one was flagged as a duplicate. <a href=\"https://stackoverflow.com/questions/7818243/how-should-i-handle-undefined-references-with-xmlsimple\">This one</a> is an actual duplicate, but I&#39;d rather close the old one in preference to this clearer new one. I have done so."}], "answers": [{"tags": [], "owner": {"reputation": 110113, "user_id": 168657, "user_type": "registered", "accept_rate": 92, "profile_image": "https://www.gravatar.com/avatar/f14e7610fca39322ebbf23530def15f8?s=128&d=identicon&r=PG", "display_name": "mob", "link": "https://stackoverflow.com/users/168657/mob"}, "is_accepted": true, "score": 4, "last_activity_date": 1499977277, "creation_date": 1499977277, "answer_id": 45090240, "question_id": 45090169, "link": "https://stackoverflow.com/questions/45090169/handling-missing-references/45090240#45090240", "title": "Handling missing references", "body": "<p><code>$data_for{B}</code> is not defined, so the attempt to dereference it as an array (in the <code>sort @{$data_for{$letter}}</code> expression) is an error.</p>\n\n<p>One workaround is to assign a (empty) value for <code>$data_for{B}</code>:</p>\n\n<pre><code>$data_for{'A'} = ['apple', 'astronaut', 'acorn'];\n$data_for{'B'} = [];\n$data_for{'C'} = ['car', 'cook', 'candy'];\n</code></pre>\n\n<p>but a more general workaround is to use the '||' operator (or '//' operator for Perl >=v5.10) to specify a default value when a hash value is not defined</p>\n\n<pre><code>foreach my $item ( sort @{$data_for{$letter} || []}) { ... }\n</code></pre>\n\n<p>When <code>$data_for{$letter}</code> is undefined (and therefore evaluates to false), the expression <code>$data_for{$letter} || []</code> evaluates to a reference to an empty array, and the array dereference operation will succeed.</p>\n"}, {"tags": [], "owner": {"reputation": 320771, "user_id": 589924, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/b2cf53d5a3d25f95c0db4e025aed4153?s=128&d=identicon&r=PG", "display_name": "ikegami", "link": "https://stackoverflow.com/users/589924/ikegami"}, "is_accepted": false, "score": 2, "last_activity_date": 1500478839, "creation_date": 1500478839, "answer_id": 45195266, "question_id": 45090169, "link": "https://stackoverflow.com/questions/45090169/handling-missing-references/45195266#45195266", "title": "Handling missing references", "body": "<p>So you need to check if <code>$data_for{$letter}</code> is a reference or not. Possible checks:</p>\n\n<ul>\n<li><code>exists($data_for{$letter})</code>.</li>\n<li><code>defined($data_for{$letter})</code> because a non-existent hash element is undefined.</li>\n<li><code>$data_for{$letter}</code> because references are always true.</li>\n</ul>\n\n<p>We can use the check to provide us something to dereference:</p>\n\n<pre><code>sort @{ $data_for{$letter} // [] }\n</code></pre>\n\n<p>We can use the check to avoid dereferencing at all.</p>\n\n<pre><code>sort $data_for{$letter} ? @{ $data_for{$letter} } : ()\n</code></pre>\n\n<p>This gives us the following:</p>\n\n<pre><code>print \"$letter: \";\nfor my $item ( sort $data_for{$letter} ? @{ $data_for{$letter} } : () ) {\n    print \"$item, \";\n}\nprint \"\\n\";\n</code></pre>\n\n<p>Or better yet, we can avoid the trailing <code>,</code> with the following:</p>\n\n<pre><code>use feature qw( say );\n\nsay \"$letter: \", join \", \", sort $data_for{$letter} ? @{ $data_for{$letter} } : ();\n</code></pre>\n\n<hr>\n\n<blockquote>\n  <p><em>It works just fine if I DON'T sort the data array.</em></p>\n</blockquote>\n\n<p>When you dereference an undefined variable that's used as a modifiable value (lvalue), Perl will automatically create a variable of the appropriate type, and it will place a reference to the newly created variable in the undefined variable. This is called \"autovivification\".</p>\n\n<p>Since autovivifying only happens in lvalue context, derefencing an undefined value elsewhere leads to the an error.</p>\n\n<pre><code> my ($a,$b);  # Both are undefined.\n @$a = @b;    # OK. Equivalent to @{ $a //= [] } = @b.\n @a = @$b;    # XXX. \"Can't use an undefined value as an ARRAY reference.\"\n</code></pre>\n\n<p><code>sort</code> doesn't modify its operands, so it doesn't evaluate them in lvalue context.</p>\n\n<p>A foreach loop evaluates its operands in lvalue context to allow for <code>for (@$a) { $_ = uc($_); }</code>. That means that</p>\n\n<pre><code>for (@{ $data_for{$letter} }) { ... }\n</code></pre>\n\n<p>implicitly modifies <code>$data_for{$letter}</code> as follows:</p>\n\n<pre><code>for (@{ $data_for{$letter} //= [] }) { ... }\n</code></pre>\n"}], "owner": {"reputation": 563, "user_id": 3493984, "user_type": "registered", "accept_rate": 100, "profile_image": "https://i.stack.imgur.com/iI51g.jpg?s=128&g=1", "display_name": "LadyCygnus", "link": "https://stackoverflow.com/users/3493984/ladycygnus"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 60, "favorite_count": 0, "accepted_answer_id": 45090240, "answer_count": 2, "score": 1, "last_activity_date": 1500478839, "creation_date": 1499976959, "last_edit_date": 1500477408, "question_id": 45090169, "link": "https://stackoverflow.com/questions/45090169/handling-missing-references", "title": "Handling missing references", "body": "<p>I'm getting the error <code>Can't use an undefined value as an ARRAY reference</code> in a Perl script. Below is a highly simplified version. </p>\n\n<p>Basically I have setup a hash of arrays where some of them might be empty (B in this case). It works just fine if I DON'T sort the data array. I've tried adding a conditional to test if that particular array exists, but it doesn't like that in this setup. It would not be easy to sort the array as it's populated (unlike in this example).</p>\n\n<pre><code>use strict;\nuse warnings;\n\nmy @list = ('A', 'B', 'C');\nmy %data_for;\n$data_for{'A'} = ['apple', 'astronaut', 'acorn'];\n$data_for{'C'} = ['car', 'cook', 'candy'];\n\n# Creates error\nforeach my $letter (@list) {\n    print \"$letter: \";\n    foreach my $item ( sort @{$data_for{$letter}}) {\n        print \"$item, \";\n    }\n    print \"\\n\";\n}\n</code></pre>\n\n<p>This is the output I want (seems obvious, but eh):</p>\n\n<pre><code>A: acorn, apple, astronaut, \nB:\nC: candy, car, cook,\n</code></pre>\n\n<p>As a strange aside, if I print the working version (without the sort) first, the second version with the sort works without an error. I do not understand this, but I may be able to use that as a work around.</p>\n"}, {"tags": ["perl", "fork"], "comments": [{"owner": {"reputation": 320771, "user_id": 589924, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/b2cf53d5a3d25f95c0db4e025aed4153?s=128&d=identicon&r=PG", "display_name": "ikegami", "link": "https://stackoverflow.com/users/589924/ikegami"}, "edited": false, "score": 3, "creation_date": 1499964985, "post_id": 45086804, "comment_id": 77146001, "body": "Parallel::ForkManager will make your life a bit easier."}, {"owner": {"reputation": 80882, "user_id": 18157, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/4d3de78b198076dd5a5006abd17cb0f8?s=128&d=identicon&r=PG&f=1", "display_name": "Jim Garrison", "link": "https://stackoverflow.com/users/18157/jim-garrison"}, "edited": false, "score": 5, "creation_date": 1499964987, "post_id": 45086804, "comment_id": 77146003, "body": "<code>fork()</code> creates a second process that is an exact copy of the original.  The original continues to run, as well as the copy.  There is no &quot;return&quot; from a forked process."}, {"owner": {"reputation": 320771, "user_id": 589924, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/b2cf53d5a3d25f95c0db4e025aed4153?s=128&d=identicon&r=PG", "display_name": "ikegami", "link": "https://stackoverflow.com/users/589924/ikegami"}, "reply_to_user": {"reputation": 80882, "user_id": 18157, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/4d3de78b198076dd5a5006abd17cb0f8?s=128&d=identicon&r=PG&f=1", "display_name": "Jim Garrison", "link": "https://stackoverflow.com/users/18157/jim-garrison"}, "edited": false, "score": 0, "creation_date": 1499968402, "post_id": 45086804, "comment_id": 77148022, "body": "@Jim Garrison, They&#39;re not using the word &quot;return&quot; literally. They want the parent to wait for the children to complete, then proceed with some other code."}, {"owner": {"reputation": 359, "user_id": 1001500, "user_type": "registered", "accept_rate": 43, "profile_image": "https://i.stack.imgur.com/eCNDe.png?s=128&g=1", "display_name": "gfunk", "link": "https://stackoverflow.com/users/1001500/gfunk"}, "edited": false, "score": 0, "creation_date": 1500010950, "post_id": 45086804, "comment_id": 77163169, "body": "To supplement what @Jim_Garrison said, you want to &quot;use threads; threads-&gt;create(\\&amp;worker_fxn);&quot; instead of fork() - google whats the difference between perl threads vs forking."}], "answers": [{"comments": [{"owner": {"reputation": 73, "user_id": 3112661, "user_type": "registered", "accept_rate": 25, "profile_image": "https://www.gravatar.com/avatar/b7356916e481e2b414959b26cf189dfb?s=128&d=identicon&r=PG&f=1", "display_name": "ohm", "link": "https://stackoverflow.com/users/3112661/ohm"}, "edited": false, "score": 0, "creation_date": 1500311149, "post_id": 45087834, "comment_id": 77268851, "body": "I tried the Parallel::ForkManager example above.  When run as a standalone process it work perfectly.  I am running the code inside of a subroutine though and when I try that, the Perl interpreter crashes.  Suggestions?"}, {"owner": {"reputation": 320771, "user_id": 589924, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/b2cf53d5a3d25f95c0db4e025aed4153?s=128&d=identicon&r=PG", "display_name": "ikegami", "link": "https://stackoverflow.com/users/589924/ikegami"}, "reply_to_user": {"reputation": 73, "user_id": 3112661, "user_type": "registered", "accept_rate": 25, "profile_image": "https://www.gravatar.com/avatar/b7356916e481e2b414959b26cf189dfb?s=128&d=identicon&r=PG&f=1", "display_name": "ohm", "link": "https://stackoverflow.com/users/3112661/ohm"}, "edited": false, "score": 0, "creation_date": 1500313453, "post_id": 45087834, "comment_id": 77270077, "body": "What do you mean by &quot;crashes&quot;? Are you on Windows?"}, {"owner": {"reputation": 73, "user_id": 3112661, "user_type": "registered", "accept_rate": 25, "profile_image": "https://www.gravatar.com/avatar/b7356916e481e2b414959b26cf189dfb?s=128&d=identicon&r=PG&f=1", "display_name": "ohm", "link": "https://stackoverflow.com/users/3112661/ohm"}, "edited": false, "score": 0, "creation_date": 1500313756, "post_id": 45087834, "comment_id": 77270226, "body": "Yes, I am on Windows."}, {"owner": {"reputation": 320771, "user_id": 589924, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/b2cf53d5a3d25f95c0db4e025aed4153?s=128&d=identicon&r=PG", "display_name": "ikegami", "link": "https://stackoverflow.com/users/589924/ikegami"}, "reply_to_user": {"reputation": 73, "user_id": 3112661, "user_type": "registered", "accept_rate": 25, "profile_image": "https://www.gravatar.com/avatar/b7356916e481e2b414959b26cf189dfb?s=128&d=identicon&r=PG&f=1", "display_name": "ohm", "link": "https://stackoverflow.com/users/3112661/ohm"}, "edited": false, "score": 0, "creation_date": 1500313960, "post_id": 45087834, "comment_id": 77270340, "body": "Neither <code>fork</code> nor <code>exec</code> exist on Windows. It&#39;s superficially emulated using threads, but it&#39;s really not the same thing. You&#39;d do best to avoid <code>fork</code>! I&#39;d use a thread-based worker pool."}], "tags": [], "owner": {"reputation": 320771, "user_id": 589924, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/b2cf53d5a3d25f95c0db4e025aed4153?s=128&d=identicon&r=PG", "display_name": "ikegami", "link": "https://stackoverflow.com/users/589924/ikegami"}, "is_accepted": false, "score": 5, "last_activity_date": 1499998283, "last_edit_date": 1499998283, "creation_date": 1499968347, "answer_id": 45087834, "question_id": 45086804, "link": "https://stackoverflow.com/questions/45086804/exit-a-fork-but-return-to-parent/45087834#45087834", "title": "Exit a fork but return to parent", "body": "<p>First of all, your script doesn't \"exit completely\". It does wait for the children to finish. Or at least some of them. Your calculations are a little off.</p>\n\n<hr>\n\n<p>You're skipping the last elements.</p>\n\n<pre><code>$m = scalar @lines / 10;\nfor ($m) {s/\\..*//g};\n</code></pre>\n\n<p>is equivalent to </p>\n\n<pre><code>use POSIX qw( floor );\n\nmy $m = floor(@lines / 10);\n</code></pre>\n\n<p>but it should be</p>\n\n<pre><code>use POSIX qw( ceil );\n\nmy $m = ceil(@lines / 10);\n</code></pre>\n\n<hr>\n\n<p>You're performing the boundary elements twice.</p>\n\n<pre><code>my @lines4 = @lines[$i .. $i + $m];\n</code></pre>\n\n<p>should be</p>\n\n<pre><code>my @lines4 = @lines[$i .. $i + $m - 1];\n</code></pre>\n\n<hr>\n\n<pre><code>wait for 0 .. @lines/$m;\n</code></pre>\n\n<p>should be</p>\n\n<pre><code>use POSIX qw( ceil );\n\nwait for 1 .. ceil(@lines/$m);\n</code></pre>\n\n<p>or just</p>\n\n<pre><code>1 while wait &gt; 0;\n</code></pre>\n\n<hr>\n\n<p>Easier to use <a href=\"http://search.cpan.org/perldoc?Parallel::ForkManager\" rel=\"nofollow noreferrer\">Parallel::ForkManager</a>.</p>\n\n<pre><code>use Parallel::ForkManager qw( );\n\nmy $pm = Parallel::ForkManager-&gt;new(10);  # Max number of children at a time.\n\n$pm-&gt;run_on_finish(sub {\n   my ($pid, $exit, $id, $signaled, $dumped, $data) = @_;\n   my ($config_qfn, $target) = @$id;\n   ...\n});\n\nfor my $config_qfn (glob(...)) {\n    open(my $config_fh, '&lt;', $config_qfn)\n       or die(\"Can't open \\\"$config_qfn\\\": $!\\n\");\n\n    chomp( my @targets = &lt;$config_fh&gt; );\n\n    for my $target (@targets) {\n        my $pid = $pm-&gt;start([$config_qfn, $target])\n           and next;\n\n        exec(...)\n           or die(\"exec: $!\");\n    }\n}\n\n$pm-&gt;wait_all_children();\n</code></pre>\n\n<p>By the way, you may have noticed I stopped doing things in batches. This allowed me to use <code>exec</code> instead of <code>system</code>, which reduces the number of forks by one for each batch, making it more efficient to not use batches.</p>\n"}], "owner": {"reputation": 73, "user_id": 3112661, "user_type": "registered", "accept_rate": 25, "profile_image": "https://www.gravatar.com/avatar/b7356916e481e2b414959b26cf189dfb?s=128&d=identicon&r=PG&f=1", "display_name": "ohm", "link": "https://stackoverflow.com/users/3112661/ohm"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 567, "favorite_count": 0, "answer_count": 1, "score": 1, "last_activity_date": 1501272017, "creation_date": 1499964777, "last_edit_date": 1501272017, "question_id": 45086804, "link": "https://stackoverflow.com/questions/45086804/exit-a-fork-but-return-to-parent", "title": "Exit a fork but return to parent", "body": "<p>I am having an issue with my first attempt at using <code>fork</code>.</p>\n\n<p>The script seems to run fine until I need it to exit the fork and return to the main script.</p>\n\n<p>Instead it exits the script entirely.</p>\n\n<pre><code>my @files = glob( \"./input/&lt;Input subnets&gt;.txt\" ) or die \"Can't open HostInventory$!\";     # Open the Host Inventory csv files for parsing\n\nforeach my $file ( @files ) {\n\n    open (CONFIG, '&lt;', $file) or die \"Can't &lt;Input subnets&gt;.txt$!\";\n    my @lines = &lt;CONFIG&gt;;\n    chomp (@lines);\n\n    $m = scalar @lines / 10;\n    for ( $m ) {\n        s/\\..*//g\n    };\n\n    for ( my $i = 0; $i &lt; @lines; $i += $m ) {\n\n        # take a slice of elements from @files\n        my @lines4 = @lines[$i .. $i + $m];\n\n        if ( fork() == 0 ) {\n\n            for my $n ( @lines4 ) {\n                system(\"Nmap -dns-servers &lt;IP of DNS server&gt; -sn -v $n -oX ./input/ip360_DNS/ip360_DNS$n.xml --send-eth --reason\");\n            }\n\n            exit;  \n        }\n    }\n\n    wait for 0 .. @lines/$m;\n}\n</code></pre>\n\n<p>At this point it should continue in the parent script and open a subroutine that parses the output of the scan.  Instead it exits the script completely.</p>\n\n<p>What am I doing wrong?</p>\n\n<p>-=-=-=-=Update-=-=-=-=\nI tried the Parallel::ForkManager example below. When run as a standalone process it work perfectly. I am running the code inside of a subroutine though and when I try that, the Perl interpreter crashes. Suggestions?</p>\n\n<pre><code>#1/usr/bin/perl -w\n\nuse Parallel::ForkManager;\nuse strict;                                             # Best Practice\nuse warnings;                                           # Best Practice\nuse Getopt::Long;                                       # Add the ability to use command line options\n\n if (!@ARGV) {\n    &amp;help;\n    exit 1\n}\n\nGetOptions(\n    full =&gt;                 \\&amp;full,\n    temp =&gt;                 \\&amp;temp,\n);\n\n                #######################################################################\n                #######################################################################\n                #                                                                     #\n                #                      Call each function                             #\n                #                                                                     #\n                #######################################################################\n                #######################################################################\n\nsub temp {\n    &amp;speak;\n    &amp;simple;\n    &amp;speak2;\n    exit;\n}\n\nsub full {\n    &amp;speak;\n    &amp;simple;\n    &amp;speak2;\n    exit;\n}   \n\nsub speak {\n    print \"This is where I wait for 2 seconds\\n\";\n    sleep (2);\n}\n\nmy $process = $$;\nprint \"$process\\n\";\n\nsub simple {\n\n    my $pm = new Parallel::ForkManager(10);\n    $pm-&gt;run_on_finish(\n    sub { $process;\n        print \"** PID $process\\n\";\n        }\n    );\n\n    my @files = glob( \"./ping.txt\" ) or die \"Can't open CMS HostInventory$!\";     # Open the CMS Host Inventory csv files for parsing\n    foreach my $file (@files){\n        open (CONFIG, '&lt;', $file) or die \"Can't ip360_DNS File$!\";\n        my @lines = &lt;CONFIG&gt;;\n        chomp (@lines);\n\n        foreach my $n (@lines) {\n            # Forks and returns the pid for the child:\n            my $pid = $pm-&gt;start and next; \n\n            # ... do some work with $data in the child process ...\n            system(\"ping $n &gt;&gt; ./input/$n.txt\");\n\n        }\n        $pm-&gt;finish; # Terminates the child process\n    }\n}\n\nsub speak2 {\n    print \"In new subroutine\\n\";\n}\n</code></pre>\n"}, {"tags": ["perl", "rtf"], "comments": [{"owner": {"reputation": 6258, "user_id": 82262, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/8ce15931410b388a52eb2df4a864137f?s=128&d=identicon&r=PG&f=1", "display_name": "Matt Jacob", "link": "https://stackoverflow.com/users/82262/matt-jacob"}, "edited": false, "score": 0, "creation_date": 1499960768, "post_id": 45085480, "comment_id": 77143308, "body": "And what problem are you encountering?"}, {"owner": {"reputation": 1, "user_id": 8303178, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/910f37d022e5413da57e2ef067742b22?s=128&d=identicon&r=PG&f=1", "display_name": "miked23", "link": "https://stackoverflow.com/users/8303178/miked23"}, "reply_to_user": {"reputation": 6258, "user_id": 82262, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/8ce15931410b388a52eb2df4a864137f?s=128&d=identicon&r=PG&f=1", "display_name": "Matt Jacob", "link": "https://stackoverflow.com/users/82262/matt-jacob"}, "edited": false, "score": 0, "creation_date": 1499961118, "post_id": 45085480, "comment_id": 77143600, "body": "It outputs a file without any formatting at all."}, {"owner": {"reputation": 6258, "user_id": 82262, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/8ce15931410b388a52eb2df4a864137f?s=128&d=identicon&r=PG&f=1", "display_name": "Matt Jacob", "link": "https://stackoverflow.com/users/82262/matt-jacob"}, "edited": false, "score": 0, "creation_date": 1499961392, "post_id": 45085480, "comment_id": 77143796, "body": "According to the <a href=\"https://metacpan.org/pod/distribution/RTF-Writer/lib/RTF/Writer.pod\" rel=\"nofollow noreferrer\">docs</a> for RTF::Writer, it looks like you need to pass scalar references to <code>print()</code> to signal that your string contains escaped RTF sequences."}, {"owner": {"reputation": 1, "user_id": 8303178, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/910f37d022e5413da57e2ef067742b22?s=128&d=identicon&r=PG&f=1", "display_name": "miked23", "link": "https://stackoverflow.com/users/8303178/miked23"}, "reply_to_user": {"reputation": 6258, "user_id": 82262, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/8ce15931410b388a52eb2df4a864137f?s=128&d=identicon&r=PG&f=1", "display_name": "Matt Jacob", "link": "https://stackoverflow.com/users/82262/matt-jacob"}, "edited": false, "score": 0, "creation_date": 1499961762, "post_id": 45085480, "comment_id": 77144089, "body": "ive also tried   <code>foreach(@sorted){rtf-&gt;print(&quot;$_\\n&quot;)}</code> wouldnt that be a scalar reference?"}, {"owner": {"reputation": 6258, "user_id": 82262, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/8ce15931410b388a52eb2df4a864137f?s=128&d=identicon&r=PG&f=1", "display_name": "Matt Jacob", "link": "https://stackoverflow.com/users/82262/matt-jacob"}, "edited": false, "score": 0, "creation_date": 1499961842, "post_id": 45085480, "comment_id": 77144154, "body": "No, there are no references there."}, {"owner": {"reputation": 6258, "user_id": 82262, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/8ce15931410b388a52eb2df4a864137f?s=128&d=identicon&r=PG&f=1", "display_name": "Matt Jacob", "link": "https://stackoverflow.com/users/82262/matt-jacob"}, "edited": false, "score": 0, "creation_date": 1499961961, "post_id": 45085480, "comment_id": 77144224, "body": "In your original code, you&#39;re passing an array reference, which is apparently fine, but you still need scalar references for things that are supposed to be RTF commands. Read the docs I linked."}, {"owner": {"reputation": 1, "user_id": 8303178, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/910f37d022e5413da57e2ef067742b22?s=128&d=identicon&r=PG&f=1", "display_name": "miked23", "link": "https://stackoverflow.com/users/8303178/miked23"}, "reply_to_user": {"reputation": 6258, "user_id": 82262, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/8ce15931410b388a52eb2df4a864137f?s=128&d=identicon&r=PG&f=1", "display_name": "Matt Jacob", "link": "https://stackoverflow.com/users/82262/matt-jacob"}, "edited": false, "score": 0, "creation_date": 1499962279, "post_id": 45085480, "comment_id": 77144441, "body": "@MattJacob I will check it out. Dont know much about scalar references"}, {"owner": {"reputation": 6258, "user_id": 82262, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/8ce15931410b388a52eb2df4a864137f?s=128&d=identicon&r=PG&f=1", "display_name": "Matt Jacob", "link": "https://stackoverflow.com/users/82262/matt-jacob"}, "edited": false, "score": 0, "creation_date": 1499962387, "post_id": 45085480, "comment_id": 77144525, "body": "There&#39;s a manual page for that, too: <a href=\"https://perldoc.perl.org/perlref.html\" rel=\"nofollow noreferrer\">perlref</a>"}, {"owner": {"reputation": 1, "user_id": 8303178, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/910f37d022e5413da57e2ef067742b22?s=128&d=identicon&r=PG&f=1", "display_name": "miked23", "link": "https://stackoverflow.com/users/8303178/miked23"}, "reply_to_user": {"reputation": 6258, "user_id": 82262, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/8ce15931410b388a52eb2df4a864137f?s=128&d=identicon&r=PG&f=1", "display_name": "Matt Jacob", "link": "https://stackoverflow.com/users/82262/matt-jacob"}, "edited": false, "score": 0, "creation_date": 1499962828, "post_id": 45085480, "comment_id": 77144781, "body": "@MattJacob now it prints all the formating at the top but doesn actually apply it. <code>$rtf-&gt;print(\\@tokens);</code>"}, {"owner": {"reputation": 6258, "user_id": 82262, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/8ce15931410b388a52eb2df4a864137f?s=128&d=identicon&r=PG&f=1", "display_name": "Matt Jacob", "link": "https://stackoverflow.com/users/82262/matt-jacob"}, "edited": false, "score": 0, "creation_date": 1499962891, "post_id": 45085480, "comment_id": 77144823, "body": "Yep, that looks the same as your original code. Probably still no scalar references."}, {"owner": {"reputation": 1, "user_id": 8303178, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/910f37d022e5413da57e2ef067742b22?s=128&d=identicon&r=PG&f=1", "display_name": "miked23", "link": "https://stackoverflow.com/users/8303178/miked23"}, "reply_to_user": {"reputation": 6258, "user_id": 82262, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/8ce15931410b388a52eb2df4a864137f?s=128&d=identicon&r=PG&f=1", "display_name": "Matt Jacob", "link": "https://stackoverflow.com/users/82262/matt-jacob"}, "edited": false, "score": 0, "creation_date": 1499964004, "post_id": 45085480, "comment_id": 77145425, "body": "@MattJacob yeah youre right... I cant fiegure how to implement them correctly"}, {"owner": {"reputation": 123805, "user_id": 622310, "user_type": "registered", "accept_rate": 33, "profile_image": "https://www.gravatar.com/avatar/8b6d35219e1808520bc238b28161e2e6?s=128&d=identicon&r=PG", "display_name": "Borodin", "link": "https://stackoverflow.com/users/622310/borodin"}, "edited": false, "score": 2, "creation_date": 1499968234, "post_id": 45085480, "comment_id": 77147926, "body": "@miked23: <i>&quot;lol that is my post too&quot;</i> I think that was <b>toolic&#39;s</b> point. It is rude of you to cross-post the same question to multiple sites without saying clearly that you have done so. People could be working on a solution for you without being aware that aware that your question has already been answered elsewhere. Don&#39;t do it."}], "answers": [{"comments": [{"owner": {"reputation": 1, "user_id": 8303178, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/910f37d022e5413da57e2ef067742b22?s=128&d=identicon&r=PG&f=1", "display_name": "miked23", "link": "https://stackoverflow.com/users/8303178/miked23"}, "edited": false, "score": 0, "creation_date": 1499968916, "post_id": 45086789, "comment_id": 77148330, "body": "thanks for the explanation I will try to implement this"}], "tags": [], "owner": {"reputation": 6258, "user_id": 82262, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/8ce15931410b388a52eb2df4a864137f?s=128&d=identicon&r=PG&f=1", "display_name": "Matt Jacob", "link": "https://stackoverflow.com/users/82262/matt-jacob"}, "is_accepted": false, "score": 1, "last_activity_date": 1499964734, "creation_date": 1499964734, "answer_id": 45086789, "question_id": 45085480, "link": "https://stackoverflow.com/questions/45085480/keeping-rtf-formatting-when-moving-files/45086789#45086789", "title": "Keeping RTF formatting when moving files", "body": "<p>According to the documentation for <a href=\"https://metacpan.org/pod/distribution/RTF-Writer/lib/RTF/Writer.pod\" rel=\"nofollow noreferrer\">RTF::Writer</a>, sequences of RTF commands need to be passed to the <code>print()</code> method as <a href=\"https://perldoc.perl.org/perlref.html\" rel=\"nofollow noreferrer\">scalar references</a>. For example:</p>\n\n<pre><code>use strict;\nuse warnings;\n\nuse RTF::Writer;\n\nmy $rtf = RTF::Writer-&gt;new_to_handle(*STDOUT);\n\nwhile (&lt;DATA&gt;) {\n    $rtf-&gt;print(\\$_);\n}\n\n$rtf-&gt;close;\n\n__DATA__\n{\\rtf1\\ansi\\deff0{\\fonttbl{\\f0 Times New Roman;}}\n{\\colortbl;\\red255\\green0\\blue0;\n\\red0\\green0\\blue255;}\n\\cf1 145747.2545\n\\cf0 134758.2545\n</code></pre>\n\n<p>I'm not familiar with the RTF spec, so I don't know whether newlines are desirable here or not.</p>\n\n<pre><code>{\\rtf1\\ansi\\deff0{\\fonttbl{\\f0 Times New Roman;}}\n{\\colortbl;\\red255\\green0\\blue0;\n\\red0\\green0\\blue255;}\n\\cf1 145747.2545\n\\cf0 134758.2545\n</code></pre>\n\n<p>If you just pass a scalar to <code>print()</code> rather than a scalar <em>reference</em>, it looks like some escaping is performed:</p>\n\n<pre><code>\\'7b\\'5crtf1\\'5cansi\\'5cdeff0\\'7b\\'5cfonttbl\\'7b\\'5cf0 Times New Roman;\\'7d\\'7d\n\\line \\'7b\\'5ccolortbl;\\'5cred255\\'5cgreen0\\'5cblue0;\n\\line \\'5cred0\\'5cgreen0\\'5cblue255;\\'7d\n\\line \\'5ccf1 145747\\'2e2545\n\\line \\'5ccf0 134758\\'2e2545\n\\line\n</code></pre>\n"}], "owner": {"reputation": 1, "user_id": 8303178, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/910f37d022e5413da57e2ef067742b22?s=128&d=identicon&r=PG&f=1", "display_name": "miked23", "link": "https://stackoverflow.com/users/8303178/miked23"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 81, "favorite_count": 0, "answer_count": 1, "score": -1, "last_activity_date": 1499964734, "creation_date": 1499960616, "question_id": 45085480, "link": "https://stackoverflow.com/questions/45085480/keeping-rtf-formatting-when-moving-files", "title": "Keeping RTF formatting when moving files", "body": "<p>I have been able to tokenize a RTF document and then print it to another RTF document. My question is whether or not it is possible to keep the original formatting from the first document (font, font color, background color). There are somethings that are randomly colored in the document so keeping the formatting is important.</p>\n\n<p>Here it the tokenizer code :</p>\n\n<pre><code>#!usr/bin/perl\nuse strict;\nuse warnings;\nuse RTF::Writer;\nuse Data::Dumper;\nuse RTF::Tokenizer;\n\ndie \"usage: $0 input output\\n\" unless @ARGV == 2;\n\nmy $infile = shift;\nmy $outfile = shift;\n\nmy $tokenizer = RTF::Tokenizer-&gt;new();\n$tokenizer-&gt;read_file($infile);\n\nmy ( $token_type, $argument, $parameter );\n\n{\n# reduce bogus warnings\nno warnings 'uninitialized';\n\n\n# get past the header\n( $token_type, $argument, $parameter ) =\n$tokenizer-&gt;get_token() until\n($token_type eq 'control' and $argument eq 'par');\n}\n\nmy @final;\nwhile ($token_type ne 'eof'){\n( $token_type, $argument, $parameter ) = $tokenizer-&gt;get_token();\npush @final, $argument if $token_type eq 'text';\n}\n\nmy $rtf = RTF::Writer-&gt;new_to_file($outfile);\nmy @sorted = sort {\nmy @fields_a = split / / , $a;\nmy @fields_b = split / /, $b;\nchomp($a, $b);\n$fields_a[0] cmp $fields_b[0];\n} @final;\n\n$rtf-&gt;prolog;\n$rtf-&gt;print(\\@sorted);\n$rtf-&gt;close;\n</code></pre>\n\n<p>This is what im inputing</p>\n\n<pre><code>{\\rtf1\\ansi\\deff0{\\fonttbl{\\f0 Times New Roman;}}\n{\\colortbl;\\red255\\green0\\blue0;\n\\red0\\green0\\blue255;}\n\\cf1 145747.2545  \n\\cf0 134758.2545\n</code></pre>\n\n<p>and I want to output these in order with the same formating. I already made a sorting script for it </p>\n"}, {"tags": ["pragma", "perl"], "answers": [{"tags": [], "owner": {"reputation": 63855, "user_id": 124486, "user_type": "registered", "accept_rate": 46, "profile_image": "https://www.gravatar.com/avatar/605442f85418d858e2ce1e1aea2092bb?s=128&d=identicon&r=PG", "display_name": "Evan Carroll", "link": "https://stackoverflow.com/users/124486/evan-carroll"}, "is_accepted": true, "score": 5, "last_activity_date": 1499973451, "last_edit_date": 1499973451, "creation_date": 1499972723, "answer_id": 45089098, "question_id": 45083385, "link": "https://stackoverflow.com/questions/45083385/what-is-perl-experimental-feature-postderef/45089098#45089098", "title": "What is perl experimental feature, postderef?", "body": "<h1>What is it</h1>\n\n<p>It's simple. It's syntactic sugar with ups and downs. The pragma is no longer needed as the feature is core in 5.24. But in order for the feature to be supported in between 5.20 and 5.24, it had to be enabled with: <code>use experimental 'postderef'</code>. In the provided example, in Moxie, it's used in <a href=\"https://metacpan.org/source/STEVAN/Moxie-0.02/lib/Moxie/Object.pm#L27\" rel=\"noreferrer\">one line</a> which has <code>$meta-&gt;mro-&gt;@*</code>; without it you'd have to write <code>@{$meta-&gt;mro}</code>.</p>\n\n<h1>Synopsis</h1>\n\n<p>These are straight from D Foy's blog, along with Idiomatic Perl for comparison that I've written.</p>\n\n<pre><code>D Foy example                    Idiomatic Perl\n$gimme_a_ref-&gt;()-&gt;@[0]-&gt;%*       %{ $gimme_a_ref-&gt;()[0] }\n$array_ref-&gt;@*                   @{ $array_ref }\nget_hashref()-&gt;@{ qw(cat dog) }  @{ get_hashref() }{ qw(cat dog) }\n</code></pre>\n\n<p>These examples totally provided by D Foy,</p>\n\n<pre><code>D Foy example                    Idiomatic Perl\n$array_ref-&gt;[0][0]-&gt;@*           @{ $array_ref-&gt;[0][0] }\n$sub-&gt;&amp;*                         &amp;some_sub\n</code></pre>\n\n<h1>Arguments-for</h1>\n\n<ul>\n<li><code>postderef</code> allows chaining.</li>\n<li><code>postderef_qq</code> makes complex interpolation into scalar strings easier.</li>\n</ul>\n\n<h1>Arguments-against</h1>\n\n<p><em>not at all provided by D Foy</em></p>\n\n<ul>\n<li>Loses sigil significance. Whereas before you knew what the \"type\" was by looking at the sigil on the left-most side. Now, you don't know until you read the whole chain. This seems to undermine any argument for the sigil, by forcing you to read the whole chain before you know what is expected. Perhaps the days of arguing that sigils are a good design decision are over? But, then again, <a href=\"https://docs.perl6.org/language/variables\" rel=\"noreferrer\">perl6 is still all about them</a>. Lack of consistency here.</li>\n<li>Overloads <code>-&gt;</code> to mean, <em>as type</em>. So now you have <code>$type-&gt;[0][1]-&gt;@*</code> to mean <em>dereference as $type</em>, and also <em>coerce to type</em>.</li>\n<li><p>Slices do not have an similar syntax on primitives.</p>\n\n<pre><code>my @foo = qw/foo bar baz quz quuz quuuz/;\nmy $bar = \\@foo;\n\n# Idiomatic perl array-slices with inclusive-range slicing\nsay @$bar[2..4];   # From reference; returns bazquzquuz\nsay @foo[2..4];    # From primitive; returns bazquzquuz\n\n# Whizbang thing which has exclusive-range slicing\nsay $bar-&gt;@[2,4];  # From reference; returns bazquz\n                   # Nothing.\n</code></pre></li>\n</ul>\n\n<h1>Sources</h1>\n\n<ul>\n<li><a href=\"https://www.effectiveperlprogramming.com/2014/09/use-postfix-dereferencing/#comment-17771\" rel=\"noreferrer\">Brian D Foy in 2014.</a>.</li>\n<li><a href=\"https://www.effectiveperlprogramming.com/2016/04/postfix-dereferencing-is-stable-is-v5-24/\" rel=\"noreferrer\">Brian D Foy in 2016.</a>.</li>\n</ul>\n"}], "owner": {"reputation": 63855, "user_id": 124486, "user_type": "registered", "accept_rate": 46, "profile_image": "https://www.gravatar.com/avatar/605442f85418d858e2ce1e1aea2092bb?s=128&d=identicon&r=PG", "display_name": "Evan Carroll", "link": "https://stackoverflow.com/users/124486/evan-carroll"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 208, "favorite_count": 0, "accepted_answer_id": 45089098, "answer_count": 1, "score": 4, "last_activity_date": 1499973451, "creation_date": 1499955528, "question_id": 45083385, "link": "https://stackoverflow.com/questions/45083385/what-is-perl-experimental-feature-postderef", "title": "What is perl experimental feature, postderef?", "body": "<p>I see <code>use experimental 'postderef'</code> being used in <a href=\"https://metacpan.org/pod/release/STEVAN/Moxie-0.02/lib/Moxie/Object.pm\" rel=\"nofollow noreferrer\">Moxie</a> here <a href=\"https://metacpan.org/source/STEVAN/Moxie-0.02/lib/Moxie/Object.pm#L8\" rel=\"nofollow noreferrer\">on line 8</a>. I'm just confused at what it does. The man pages for <code>experimental</code> are pretty vague too,</p>\n\n<blockquote>\n  <p>allow the use of postfix dereferencing expressions, including in interpolating strings</p>\n</blockquote>\n\n<p>Can anyone show what you would have to do without the pragma, and what the pragma makes easier or possible?</p>\n"}, {"tags": ["regex", "bash", "perl"], "answers": [{"tags": [], "owner": {"reputation": 658023, "user_id": 548225, "user_type": "registered", "accept_rate": 90, "profile_image": "https://www.gravatar.com/avatar/dab08478b226280d4a30894c9a7ed719?s=128&d=identicon&r=PG", "display_name": "anubhava", "link": "https://stackoverflow.com/users/548225/anubhava"}, "is_accepted": false, "score": 0, "last_activity_date": 1499946898, "creation_date": 1499946898, "answer_id": 45079885, "question_id": 45079759, "link": "https://stackoverflow.com/questions/45079759/how-to-search-globally-without-replacing/45079885#45079885", "title": "How to search globally without replacing?", "body": "<p>To search some text, better you use <code>grep</code> with <code>PCRE</code> option:</p>\n\n<pre><code>grep -oP '\\\\includegraphics\\[[^\\]]*\\]{\\K[^{}]+' file\n\nFIGS/plotTangKurve3\nFIGS/plotTangKurve2\nFIGS/plotTangKurve1\nFIGS/plotTangKurve3\nFIGS/plotTangKurve2\nFIGS/plotTangKurve1\n</code></pre>\n\n<p><code>\\K</code> is used for resetting matched information.</p>\n"}, {"tags": [], "owner": {"reputation": 27005, "user_id": 23263, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/e29ac89b70b8ef20d974003653d23c31?s=128&d=identicon&r=PG", "display_name": "mercator", "link": "https://stackoverflow.com/users/23263/mercator"}, "is_accepted": true, "score": 3, "last_activity_date": 1499947755, "last_edit_date": 1499947755, "creation_date": 1499946914, "answer_id": 45079895, "question_id": 45079759, "link": "https://stackoverflow.com/questions/45079759/how-to-search-globally-without-replacing/45079895#45079895", "title": "How to search globally without replacing?", "body": "<p>You'll want to do <code>while</code> instead of <code>if</code>.</p>\n\n<p>See <a href=\"http://perldoc.perl.org/perlretut.html#Global-matching\" rel=\"nofollow noreferrer\">http://perldoc.perl.org/perlretut.html#Global-matching</a></p>\n\n<p>The <code>/g</code> does global matching, but what that means is that each successive match returns a new value. Because you use <code>if</code>, you only evaluate the regular expression once and never try the subsequent potential matches. If you use <code>while</code> there instead, you'll re-evaluate it until it fails.</p>\n\n<p>In other words:</p>\n\n<pre><code>perl -ne 'print \"$1\\n\" while /\\\\includegraphics\\[[^\\]]*\\]\\{([^\\}]*)/g' test.tex\n</code></pre>\n\n<p>That gives me the output you want.</p>\n"}, {"tags": [], "owner": {"reputation": 110113, "user_id": 168657, "user_type": "registered", "accept_rate": 92, "profile_image": "https://www.gravatar.com/avatar/f14e7610fca39322ebbf23530def15f8?s=128&d=identicon&r=PG", "display_name": "mob", "link": "https://stackoverflow.com/users/168657/mob"}, "is_accepted": false, "score": 1, "last_activity_date": 1499967218, "last_edit_date": 1499967218, "creation_date": 1499958584, "answer_id": 45084684, "question_id": 45079759, "link": "https://stackoverflow.com/questions/45079759/how-to-search-globally-without-replacing/45084684#45084684", "title": "How to search globally without replacing?", "body": "<p><code>$1</code> only refers to (at most) one match. One way to fix this is to capture and print all of the matches on each line:</p>\n\n<pre><code>perl -ne 'print \"$_\\n\" for /\\\\includegraphics\\[[^\\]]*\\]\\{([^\\}]*)/g'\n</code></pre>\n\n<p>or</p>\n\n<pre><code>perl -nE 'say for /\\\\includegraphics\\[[^\\]]*\\]\\{([^\\}]*)/g'\n</code></pre>\n"}], "owner": {"reputation": 5139, "user_id": 3293148, "user_type": "registered", "accept_rate": 99, "profile_image": "https://www.gravatar.com/avatar/a5b0a16cfd67f7e3944d886fd1bebde5?s=128&d=identicon&r=PG", "display_name": "Jasmine Lognnes", "link": "https://stackoverflow.com/users/3293148/jasmine-lognnes"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 58, "favorite_count": 0, "accepted_answer_id": 45079895, "answer_count": 3, "score": 1, "last_activity_date": 1499967218, "creation_date": 1499946537, "last_edit_date": 1499947387, "question_id": 45079759, "link": "https://stackoverflow.com/questions/45079759/how-to-search-globally-without-replacing", "title": "How to search globally without replacing?", "body": "<p>For some reason this regex</p>\n\n<pre><code>perl -ne 'print \"$1\\n\" if /\\\\includegraphics\\[[^\\]]*\\]\\{([^\\}]*)/g' test.tex \n</code></pre>\n\n<p>doesn't search globally when I give it</p>\n\n<pre><code>\\centerline{\\includegraphics[height=70mm]{FIGS/plotTangKurve3}\\includegraphics[height=70mm]{FIGS/plotTangKurve2}\\includegraphics[height=70mm]{FIGS/plotTangKurve1}}\n\\centerline{\\includegraphics[height=70mm]{FIGS/plotTangKurve3}\\includegraphics[height=70mm]{FIGS/plotTangKurve2}\\includegraphics[height=70mm]{FIGS/plotTangKurve1}}\n</code></pre>\n\n<p>It only outputs</p>\n\n<pre><code>FIGS/plotTangKurve3\nFIGS/plotTangKurve3\n</code></pre>\n\n<p>What I was hoping to get was</p>\n\n<pre><code>FIGS/plotTangKurve3\nFIGS/plotTangKurve2\nFIGS/plotTangKurve1\nFIGS/plotTangKurve3\nFIGS/plotTangKurve2\nFIGS/plotTangKurve1\n</code></pre>\n\n<p><strong>Question</strong></p>\n\n<p>Can anyone see why that is the case?</p>\n"}, {"tags": ["regex", "perl"], "answers": [{"comments": [{"owner": {"reputation": 1654, "user_id": 3652920, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/qKRou.jpg?s=128&g=1", "display_name": "CDahn", "link": "https://stackoverflow.com/users/3652920/cdahn"}, "edited": false, "score": 0, "creation_date": 1499945320, "post_id": 45078879, "comment_id": 77130837, "body": "You grabbed too many tables. Some of those are from the JOIN and not just from the FROM clause."}, {"owner": {"reputation": 57, "user_id": 7856165, "user_type": "registered", "accept_rate": 100, "profile_image": "https://graph.facebook.com/776861022491015/picture?type=large", "display_name": "Cristi.Fatu", "link": "https://stackoverflow.com/users/7856165/cristi-fatu"}, "edited": false, "score": 0, "creation_date": 1499946452, "post_id": 45078879, "comment_id": 77131658, "body": "Using the module SQL:Parser looks so easy , i am new to perl and i never used a module before .Can you explain this : %tables , why use a hash and not an @array ? And why use revers () ?"}, {"owner": {"reputation": 57, "user_id": 7856165, "user_type": "registered", "accept_rate": 100, "profile_image": "https://graph.facebook.com/776861022491015/picture?type=large", "display_name": "Cristi.Fatu", "link": "https://stackoverflow.com/users/7856165/cristi-fatu"}, "reply_to_user": {"reputation": 1654, "user_id": 3652920, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/qKRou.jpg?s=128&g=1", "display_name": "CDahn", "link": "https://stackoverflow.com/users/3652920/cdahn"}, "edited": false, "score": 0, "creation_date": 1499946563, "post_id": 45078879, "comment_id": 77131728, "body": "@CDahn I need the table after JOIN too , JOIN is after the FROM , i need all the tables matching this patter NAME_OF_THE_TABLE tn , where n is at least 1."}, {"owner": {"reputation": 123805, "user_id": 622310, "user_type": "registered", "accept_rate": 33, "profile_image": "https://www.gravatar.com/avatar/8b6d35219e1808520bc238b28161e2e6?s=128&d=identicon&r=PG", "display_name": "Borodin", "link": "https://stackoverflow.com/users/622310/borodin"}, "reply_to_user": {"reputation": 57, "user_id": 7856165, "user_type": "registered", "accept_rate": 100, "profile_image": "https://graph.facebook.com/776861022491015/picture?type=large", "display_name": "Cristi.Fatu", "link": "https://stackoverflow.com/users/7856165/cristi-fatu"}, "edited": false, "score": 1, "creation_date": 1499957262, "post_id": 45078879, "comment_id": 77140626, "body": "@Cristi.Fatu: Please amend your question to say so. It says exactly the opposite of that at present."}], "tags": [], "owner": {"reputation": 113221, "user_id": 100754, "user_type": "registered", "accept_rate": 90, "profile_image": "https://www.gravatar.com/avatar/7804ebae32fbadef38537d74a915c22f?s=128&d=identicon&r=PG", "display_name": "Sinan &#220;n&#252;r", "link": "https://stackoverflow.com/users/100754/sinan-%c3%9cn%c3%bcr"}, "is_accepted": true, "score": 1, "last_activity_date": 1499944161, "creation_date": 1499944161, "answer_id": 45078879, "question_id": 45078464, "link": "https://stackoverflow.com/questions/45078464/extracting-table-names-from-multiple-strings-using-perl-regex/45078879#45078879", "title": "Extracting table names from multiple strings using Perl regex", "body": "<p>I thought <a href=\"https://metacpan.org/pod/SQL::Parser\" rel=\"nofollow noreferrer\">SQL::Parser</a> might help, but it chokes on the SQL. I am leaving this here as a reference point:</p>\n\n<pre><code>#!/usr/bin/env perl\n\nuse strict;\nuse warnings;\n\nuse SQL::Parser;\n\nmy $sql = &lt;&lt;SQL;\nselect *\nfrom DS_RAN_CORID t1, NAMON_GNS t4, NA_VAL_ROL t6, A_TI_G_V t7, PTSM_TCR t2\nleft outer join T_TR_COR_LAG t3\non  t2.inp_seq = t3.inp_seq and t3.ti_number = t2.ti_number\nleft outer join OUT_TR_COR t5\non  t2.inp_seq=t5.inp_seq and t5.ti_number=t2.ti_number\nwhere t1.inp_seq = t2.inp_seq and t2.ti_number = t6.interval_number and\n      t1.ti_grp = t7.dm_group and t2.ti_number = t7.interval_number;\nSQL\n\nmy $parser = SQL::Parser-&gt;new;\n$parser-&gt;dialect('MySQL');\n\ndie unless $parser-&gt;parse( $sql );\n\nprint \"$_\\n\" for @{ $parser-&gt;structure-&gt;{table_names} };\n</code></pre>\n\n<p>As for using regexes, I am going to note that all table names seem to consist of upper case ASCII and underscore:</p>\n\n<pre><code>my (%tables) = reverse ($sql =~ /([A-Z][A-Z_]+) \\s+ (t[1-9])/gx);\nprint Dump \\%tables;\n</code></pre>\n\n<pre class=\"lang-none prettyprint-override\"><code>---\nt1: DS_RAN_CORID\nt2: PTSM_TCR\nt3: T_TR_COR_LAG\nt4: NAMON_GNS\nt5: OUT_TR_COR\nt6: NA_VAL_ROL\nt7: A_TI_G_V\n</code></pre>\n"}], "owner": {"reputation": 57, "user_id": 7856165, "user_type": "registered", "accept_rate": 100, "profile_image": "https://graph.facebook.com/776861022491015/picture?type=large", "display_name": "Cristi.Fatu", "link": "https://stackoverflow.com/users/7856165/cristi-fatu"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 102, "favorite_count": 0, "accepted_answer_id": 45078879, "answer_count": 1, "score": -2, "last_activity_date": 1499984227, "creation_date": 1499942948, "last_edit_date": 1499984227, "question_id": 45078464, "link": "https://stackoverflow.com/questions/45078464/extracting-table-names-from-multiple-strings-using-perl-regex", "title": "Extracting table names from multiple strings using Perl regex", "body": "<p>I want to extract all of the table names from this partial SQL query. Please note that I'm reading this line by line, not as one string:</p>\n\n<pre><code>from DS_RAN_CORID t1, NAMON_GNS t4, NA_VAL_ROL t6, A_TI_G_V t7, PTSM_TCR t2\nleft outer join T_TR_COR_LAG t3\non  t2.inp_seq = t3.inp_seq and t3.ti_number = t2.ti_number\nleft outer join OUT_TR_COR t5\non  t2.inp_seq=t5.inp_seq and t5.ti_number=t2.ti_number\nwhere t1.inp_seq = t2.inp_seq and t2.ti_number = t6.interval_number and\n      t1.ti_grp = t7.dm_group and t2.ti_number = t7.interval_number;\n</code></pre>\n\n<p>The tables i need to extract: <code>DS_RAN_CORID/ NAMON_GNS/ NA_VAL_ROL/ A_TI_G_V/ PTSM_TCR/ T_TR_COR_LAG/ OUT_TR_COR/</code></p>\n\n<p>I tried this:</p>\n\n<ol>\n<li><p>Match the <code>t1.</code>, <code>t2.</code> etc., for any letter and any digit:</p>\n\n<p><code>$string=~m/(\\S).\\d/gi;</code></p></li>\n<li><p>Assuming that my code is correct, I need to compare the <code>t1.</code> with <code>TABLE_NAME t1</code> and extract the table name with something like this:</p>\n\n<p><code>$string=~m/\\w+\\s+(S)\\d/gi;</code></p></li>\n</ol>\n"}, {"tags": ["perl"], "comments": [{"owner": {"reputation": 50468, "user_id": 1331451, "user_type": "registered", "accept_rate": 96, "profile_image": "https://i.stack.imgur.com/4ZPmj.png?s=128&g=1", "display_name": "simbabque", "link": "https://stackoverflow.com/users/1331451/simbabque"}, "edited": false, "score": 0, "creation_date": 1499941832, "post_id": 45077378, "comment_id": 77128473, "body": "What is this code supposed to do?"}, {"owner": {"reputation": 4163, "user_id": 6401403, "user_type": "registered", "accept_rate": 82, "profile_image": "https://www.gravatar.com/avatar/5e6e113b3335b200f4d4946e1bcaff84?s=128&d=identicon&r=PG&f=1", "display_name": "Michael O.", "link": "https://stackoverflow.com/users/6401403/michael-o"}, "edited": false, "score": 0, "creation_date": 1499942066, "post_id": 45077378, "comment_id": 77128628, "body": "Plese be more clear: what do you want and what is wrong?"}, {"owner": {"reputation": 2415, "user_id": 4251338, "user_type": "registered", "accept_rate": 90, "profile_image": "https://i.stack.imgur.com/UNbCO.png?s=128&g=1", "display_name": "ssr1012", "link": "https://stackoverflow.com/users/4251338/ssr1012"}, "edited": false, "score": 0, "creation_date": 1499942079, "post_id": 45077378, "comment_id": 77128635, "body": "Just to print the value and its length."}, {"owner": {"reputation": 50468, "user_id": 1331451, "user_type": "registered", "accept_rate": 96, "profile_image": "https://i.stack.imgur.com/4ZPmj.png?s=128&g=1", "display_name": "simbabque", "link": "https://stackoverflow.com/users/1331451/simbabque"}, "edited": false, "score": 0, "creation_date": 1499942112, "post_id": 45077378, "comment_id": 77128658, "body": "Then half my answer is invalid."}, {"owner": {"reputation": 2415, "user_id": 4251338, "user_type": "registered", "accept_rate": 90, "profile_image": "https://i.stack.imgur.com/UNbCO.png?s=128&g=1", "display_name": "ssr1012", "link": "https://stackoverflow.com/users/4251338/ssr1012"}, "edited": false, "score": 0, "creation_date": 1499942206, "post_id": 45077378, "comment_id": 77128725, "body": "Maximum length in element of list in array..."}, {"owner": {"reputation": 2415, "user_id": 4251338, "user_type": "registered", "accept_rate": 90, "profile_image": "https://i.stack.imgur.com/UNbCO.png?s=128&g=1", "display_name": "ssr1012", "link": "https://stackoverflow.com/users/4251338/ssr1012"}, "edited": false, "score": 0, "creation_date": 1499942243, "post_id": 45077378, "comment_id": 77128753, "body": "using map function or anyother without using loop functions"}, {"owner": {"reputation": 50468, "user_id": 1331451, "user_type": "registered", "accept_rate": 96, "profile_image": "https://i.stack.imgur.com/4ZPmj.png?s=128&g=1", "display_name": "simbabque", "link": "https://stackoverflow.com/users/1331451/simbabque"}, "edited": false, "score": 0, "creation_date": 1499945889, "post_id": 45077378, "comment_id": 77131236, "body": "If you want to learn about <code>map</code>, read <a href=\"https://en.wikipedia.org/wiki/Schwartzian_transform\" rel=\"nofollow noreferrer\">en.wikipedia.org/wiki/Schwartzian_transform</a>. It illustrates nicely what <code>map</code> can be used for."}, {"owner": {"reputation": 2415, "user_id": 4251338, "user_type": "registered", "accept_rate": 90, "profile_image": "https://i.stack.imgur.com/UNbCO.png?s=128&g=1", "display_name": "ssr1012", "link": "https://stackoverflow.com/users/4251338/ssr1012"}, "edited": false, "score": 0, "creation_date": 1499945938, "post_id": 45077378, "comment_id": 77131259, "body": "ok Thank you..."}, {"owner": {"reputation": 51521, "user_id": 2566198, "user_type": "registered", "accept_rate": 67, "profile_image": "https://i.stack.imgur.com/Y34ZA.jpg?s=128&g=1", "display_name": "Sobrique", "link": "https://stackoverflow.com/users/2566198/sobrique"}, "edited": false, "score": 0, "creation_date": 1499957532, "post_id": 45077378, "comment_id": 77140843, "body": "<code>map</code> is a loop function. Don&#39;t be under any illusions. It iterates a list. Just like <code>for</code> does. You can abuse map to work a lot like <code>for</code>. You can with <code>grep</code> as well. But that doesn&#39;t mean you should."}], "answers": [{"comments": [{"owner": {"reputation": 2415, "user_id": 4251338, "user_type": "registered", "accept_rate": 90, "profile_image": "https://i.stack.imgur.com/UNbCO.png?s=128&g=1", "display_name": "ssr1012", "link": "https://stackoverflow.com/users/4251338/ssr1012"}, "edited": false, "score": 0, "creation_date": 1499942169, "post_id": 45078151, "comment_id": 77128700, "body": "I need to learn something about <code>map</code> and <code>grep</code> in my practical examples. thanks."}, {"owner": {"reputation": 12075, "user_id": 1137055, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/59d7b43b9eb7d01bd8f7e51febe6053c?s=128&d=identicon&r=PG", "display_name": "dgw", "link": "https://stackoverflow.com/users/1137055/dgw"}, "edited": false, "score": 2, "creation_date": 1499942652, "post_id": 45078151, "comment_id": 77129011, "body": "<code>map</code> is the wrong tool for your question. One could use <code>map</code> but one shouldn&#39;t use it here."}], "tags": [], "owner": {"reputation": 50468, "user_id": 1331451, "user_type": "registered", "accept_rate": 96, "profile_image": "https://i.stack.imgur.com/4ZPmj.png?s=128&g=1", "display_name": "simbabque", "link": "https://stackoverflow.com/users/1331451/simbabque"}, "is_accepted": true, "score": 2, "last_activity_date": 1499942093, "creation_date": 1499942093, "answer_id": 45078151, "question_id": 45077378, "link": "https://stackoverflow.com/questions/45077378/in-array-how-to-check-the-maximum-size-of-the-list-elements-using-perl/45078151#45078151", "title": "In array how to check the maximum size of the list elements using perl", "body": "<p>I think you want to find the string length of the longest element in the array <code>@str</code>.</p>\n\n<p>Your problem is that <code>map</code> is not doing what you think. It iterates the elements of <code>@str</code> and applies a modification to each of them. It returns a list of the modified elements. You are assigning that list to a scalar variable <code>$max</code>. A list in scalar context in Perl will be converted to the number of elements in that list, so you get <code>4</code>.</p>\n\n<p>What you want is a <code>for</code> loop.</p>\n\n<pre><code>my @str = qw /(I) (II) (XIII) (IV)/;\nmy $max = 0;\nfor (@str) {\n    $max = length($_) if length($_) &gt; $max;\n}\nprint $max;\n</code></pre>\n\n<p>This will print <code>6</code>, which is the correct length of <code>(XIII)</code>.</p>\n\n<pre><code>(XIII)\n123456\n</code></pre>\n"}, {"comments": [{"owner": {"reputation": 17713, "user_id": 226648, "user_type": "registered", "accept_rate": 35, "profile_image": "https://www.gravatar.com/avatar/3196df423fd95dc4fce7dfadb8ec9953?s=128&d=identicon&r=PG", "display_name": "el.pescado", "link": "https://stackoverflow.com/users/226648/el-pescado"}, "edited": false, "score": 0, "creation_date": 1499952584, "post_id": 45082012, "comment_id": 77136832, "body": "That&#39;s so much cleaner and more idiomatic modern Perl than <code>for</code> loop."}, {"owner": {"reputation": 17713, "user_id": 226648, "user_type": "registered", "accept_rate": 35, "profile_image": "https://www.gravatar.com/avatar/3196df423fd95dc4fce7dfadb8ec9953?s=128&d=identicon&r=PG", "display_name": "el.pescado", "link": "https://stackoverflow.com/users/226648/el-pescado"}, "edited": false, "score": 0, "creation_date": 1499953762, "post_id": 45082012, "comment_id": 77137763, "body": "...but it creates unnecessary list. See my answer how to avoid that."}], "tags": [], "owner": {"reputation": 34726, "user_id": 133939, "user_type": "registered", "accept_rate": 95, "profile_image": "https://i.stack.imgur.com/pN9C5.png?s=128&g=1", "display_name": "Zaid", "link": "https://stackoverflow.com/users/133939/zaid"}, "is_accepted": false, "score": 4, "last_activity_date": 1499957119, "last_edit_date": 1499957119, "creation_date": 1499952364, "answer_id": 45082012, "question_id": 45077378, "link": "https://stackoverflow.com/questions/45077378/in-array-how-to-check-the-maximum-size-of-the-list-elements-using-perl/45082012#45082012", "title": "In array how to check the maximum size of the list elements using perl", "body": "<p>To answer the question in the title, the cleaner option is to delegate this to <a href=\"https://perldoc.perl.org/List/Util.html#max\" rel=\"nofollow noreferrer\"><code>List::Util::max</code></a>:</p>\n\n<pre><code>use List::Util 'max';\nprint max map { length } @str;\n</code></pre>\n\n<p>The problem with the snippet in the question is that <code>$len</code> is local to each iteration of the <code>map</code> block, so effectively it gets reset to zero six times. The end result of this is that <code>$len</code> will correspond to the length of the last item in <code>@str</code>, which is why it doesn't do what you expect of it. You <em>could</em> do</p>\n\n<pre><code>my $len=0;\nmy @max = map { $len = length if $len &lt; length } @str;\nprint $len;\n</code></pre>\n\n<p>but that's just lousy if you aren't meaningfully using <code>@max</code> for anything else.</p>\n"}, {"tags": [], "owner": {"reputation": 17713, "user_id": 226648, "user_type": "registered", "accept_rate": 35, "profile_image": "https://www.gravatar.com/avatar/3196df423fd95dc4fce7dfadb8ec9953?s=128&d=identicon&r=PG", "display_name": "el.pescado", "link": "https://stackoverflow.com/users/226648/el-pescado"}, "is_accepted": false, "score": 2, "last_activity_date": 1499953712, "creation_date": 1499953712, "answer_id": 45082608, "question_id": 45077378, "link": "https://stackoverflow.com/questions/45077378/in-array-how-to-check-the-maximum-size-of-the-list-elements-using-perl/45082608#45082608", "title": "In array how to check the maximum size of the list elements using perl", "body": "<p>You could use <a href=\"https://perldoc.perl.org/List/Util.html#reduce\" rel=\"nofollow noreferrer\"><code>List::Util::reduce</code></a> instead of <code>map</code> in order to avoid creating unnecessary list of lengths:</p>\n\n<pre><code>use strict;\nuse warnings;\nuse List::Util qw/reduce max/;\n\nmy @str = qw /(I) (II) (XIII) (IV)/;\nmy $max = reduce { max($a, length($b)) } 0, @str;\n\nprint $max;\n</code></pre>\n"}], "owner": {"reputation": 2415, "user_id": 4251338, "user_type": "registered", "accept_rate": 90, "profile_image": "https://i.stack.imgur.com/UNbCO.png?s=128&g=1", "display_name": "ssr1012", "link": "https://stackoverflow.com/users/4251338/ssr1012"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 802, "favorite_count": 0, "accepted_answer_id": 45078151, "answer_count": 3, "score": 2, "last_activity_date": 1499957119, "creation_date": 1499940042, "last_edit_date": 1499947484, "question_id": 45077378, "link": "https://stackoverflow.com/questions/45077378/in-array-how-to-check-the-maximum-size-of-the-list-elements-using-perl", "title": "In array how to check the maximum size of the list elements using perl", "body": "<pre><code>my @str = qw /(I) (II) (XIII) (IV)/;\nmy @max = map { my $len=0; if(length($_)&gt;$len){ $len = length($_);} } @str;\nprint $max;\n</code></pre>\n\n<p>output is <code>(XIII)</code> and length is <code>5</code>;</p>\n\n<p>Could you please correct me where I have doing wrong in the above code.</p>\n"}, {"tags": ["perl", "oracle12c", "dbi"], "comments": [{"owner": {"reputation": 50468, "user_id": 1331451, "user_type": "registered", "accept_rate": 96, "profile_image": "https://i.stack.imgur.com/4ZPmj.png?s=128&g=1", "display_name": "simbabque", "link": "https://stackoverflow.com/users/1331451/simbabque"}, "edited": false, "score": 0, "creation_date": 1499938237, "post_id": 45076572, "comment_id": 77125727, "body": "This heavily depends on the database you are using. In MySQL you could just run a <code>SHOW CREATE &lt;tablename&gt;</code> query to get the SQL, then parse that. <code>DESCRIBE &lt;tablename&gt;</code> is also useful. Often the DBI:: driver has some properties on your database handle that will tell you things, too."}, {"owner": {"reputation": 50468, "user_id": 1331451, "user_type": "registered", "accept_rate": 96, "profile_image": "https://i.stack.imgur.com/4ZPmj.png?s=128&g=1", "display_name": "simbabque", "link": "https://stackoverflow.com/users/1331451/simbabque"}, "edited": false, "score": 1, "creation_date": 1499938409, "post_id": 45076572, "comment_id": 77125841, "body": "Related: <a href=\"https://stackoverflow.com/q/9855209/1331451\">stackoverflow.com/q/9855209/1331451</a>"}, {"owner": {"reputation": 2555, "user_id": 664010, "user_type": "registered", "accept_rate": 83, "profile_image": "https://www.gravatar.com/avatar/8e18fb6458794f60f32a5ae70d832d27?s=128&d=identicon&r=PG&f=1", "display_name": "Stefan", "link": "https://stackoverflow.com/users/664010/stefan"}, "reply_to_user": {"reputation": 50468, "user_id": 1331451, "user_type": "registered", "accept_rate": 96, "profile_image": "https://i.stack.imgur.com/4ZPmj.png?s=128&g=1", "display_name": "simbabque", "link": "https://stackoverflow.com/users/1331451/simbabque"}, "edited": false, "score": 0, "creation_date": 1499939128, "post_id": 45076572, "comment_id": 77126404, "body": "Thank you simbabque I think this helps me."}, {"owner": {"reputation": 50468, "user_id": 1331451, "user_type": "registered", "accept_rate": 96, "profile_image": "https://i.stack.imgur.com/4ZPmj.png?s=128&g=1", "display_name": "simbabque", "link": "https://stackoverflow.com/users/1331451/simbabque"}, "edited": false, "score": 1, "creation_date": 1499939172, "post_id": 45076572, "comment_id": 77126429, "body": "Check the duplicate. I think that&#39;s it. You can just run that query. My Oracle admin buddy found that answer for me."}], "owner": {"reputation": 2555, "user_id": 664010, "user_type": "registered", "accept_rate": 83, "profile_image": "https://www.gravatar.com/avatar/8e18fb6458794f60f32a5ae70d832d27?s=128&d=identicon&r=PG&f=1", "display_name": "Stefan", "link": "https://stackoverflow.com/users/664010/stefan"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 114, "favorite_count": 0, "closed_date": 1499939039, "answer_count": 0, "score": 0, "last_activity_date": 1499938323, "creation_date": 1499937999, "last_edit_date": 1499938323, "question_id": 45076572, "link": "https://stackoverflow.com/questions/45076572/how-to-retrieve-primary-key-with-perl-dbi", "closed_reason": "Duplicate", "title": "How to retrieve primary key with Perl DBI", "body": "<p>I try to write a script that gathers some information about tables using Perl and the DBI module.</p>\n\n<p>I have already all information regarding the columns but I can't find a way to determine which column is the primary key.</p>\n\n<p>I tried googling for it but somehow the only \"solution\" I found did not wor (<a href=\"http://www.perlmonks.org/?node_id=343462\" rel=\"nofollow noreferrer\">http://www.perlmonks.org/?node_id=343462</a>)</p>\n\n<p>Does anybody know how to do it? That would be very helpful</p>\n\n<p>Edit:\nI am querying an oracle database version 12.</p>\n"}, {"tags": ["regex", "perl", "whitespace"], "comments": [{"owner": {"reputation": 53041, "user_id": 4653379, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/b3953dbedd0dabff5cbc3db9b0835b14?s=128&d=identicon&r=PG&f=1", "display_name": "zdim", "link": "https://stackoverflow.com/users/4653379/zdim"}, "edited": false, "score": 1, "creation_date": 1499936254, "post_id": 45075830, "comment_id": 77124289, "body": "The regex as it stands is correct, and the character class doesn&#39;t &quot;<i>cancel out the white space</i>&quot;.  The problem is likely that it just doesn&#39;t match the strings you are trying it with.  Can you show your typical input and explain more clearly what exactly you need to match?"}, {"owner": {"reputation": 210, "user_id": 7684247, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/En7gm.jpg?s=128&g=1", "display_name": "L. O. van Ingen", "link": "https://stackoverflow.com/users/7684247/l-o-van-ingen"}, "edited": false, "score": 1, "creation_date": 1499936634, "post_id": 45075830, "comment_id": 77124561, "body": "You regex is for 1 character <code>a-z</code>, <code>A-Z</code>, <code>0-9</code> followed by 1 whitespace. Is that your intention?"}], "answers": [{"tags": [], "owner": {"reputation": 9384, "user_id": 761132, "user_type": "registered", "accept_rate": 70, "profile_image": "https://www.gravatar.com/avatar/fa462ba2bc6318a8b2e7662bb8e91aa1?s=128&d=identicon&r=PG", "display_name": "Rizwan M.Tuman", "link": "https://stackoverflow.com/users/761132/rizwan-m-tuman"}, "is_accepted": false, "score": 1, "last_activity_date": 1499937812, "last_edit_date": 1499937812, "creation_date": 1499936732, "answer_id": 45076116, "question_id": 45075830, "link": "https://stackoverflow.com/questions/45075830/including-a-test-for-a-whitespace-in-addition-to-other-tests-in-a-perl-pattern-m/45076116#45076116", "title": "Including a test for a whitespace in addition to other tests in a perl pattern match", "body": "<p>You can use the following regex for that. This will only select those words that contain invalid characters.</p>\n\n<pre><code>\\b\\S*(?=[^A-Za-z0-9\\s]+\\b)\\S*\\b\n</code></pre>\n\n<p><a href=\"https://regex101.com/r/lboS4L/1\" rel=\"nofollow noreferrer\">Demo</a></p>\n\n<p>Or if you just want to capture anything but the a-zA-Z0-9 and white space then you can try this:</p>\n\n<pre><code>[^a-zA-Z0-9\\s]\n</code></pre>\n\n<p><a href=\"https://regex101.com/r/lboS4L/2/\" rel=\"nofollow noreferrer\">Demo2</a></p>\n"}], "owner": {"reputation": 31, "user_id": 3737054, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/3299f5a2d4974195154434d11cc9e13c?s=128&d=identicon&r=PG&f=1", "display_name": "Matthew Parkes", "link": "https://stackoverflow.com/users/3737054/matthew-parkes"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 51, "favorite_count": 1, "answer_count": 1, "score": 3, "last_activity_date": 1499937812, "creation_date": 1499935971, "last_edit_date": 1499936254, "question_id": 45075830, "link": "https://stackoverflow.com/questions/45075830/including-a-test-for-a-whitespace-in-addition-to-other-tests-in-a-perl-pattern-m", "title": "Including a test for a whitespace in addition to other tests in a perl pattern match", "body": "<p>I want to search a given string for accented or weird symbolic characters which occur when exporting/importing between MySQL and Excel when using a tab separated text file.</p>\n\n<p>To do this i have tried <code>!~ /[a-zA-Z0-9]\\s/</code> - i thought this pattern would test a given string and identify those that contained anything other than <code>a-z</code>, <code>A-Z</code>, <code>0-9</code> or a white space?</p>\n\n<p>When putting this into a regex tester on line the <code>\\s</code> works on its own but when i add the <code>a-zA-Z0-9</code> element it cancels out the white space.</p>\n\n<p>The white space could be all that is contained in the string or it could be at the beginning or end, what is the correct regex to capture this please?</p>\n"}, {"tags": ["perl"], "comments": [{"owner": {"reputation": 32176, "user_id": 2173773, "user_type": "registered", "accept_rate": 86, "profile_image": "https://i.stack.imgur.com/M8yh6.jpg?s=128&g=1", "display_name": "H&#229;kon H&#230;gland", "link": "https://stackoverflow.com/users/2173773/h%c3%a5kon-h%c3%a6gland"}, "edited": false, "score": 1, "creation_date": 1499935063, "post_id": 45075233, "comment_id": 77123472, "body": "Seems like a simple typo: Try replace <code>&quot;Ocat&quot;</code> in the <code>if</code> condition with <code>&quot;Octa&quot;</code> :)"}, {"owner": {"reputation": 917, "user_id": 3014263, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/rFh51.jpg?s=128&g=1", "display_name": "AbhiNickz", "link": "https://stackoverflow.com/users/3014263/abhinickz"}, "edited": false, "score": 1, "creation_date": 1499935306, "post_id": 45075233, "comment_id": 77123625, "body": "Please use <code>strict</code>, <code>warnings</code> and Don&#39;t Open Files in the old way, Use 3-argument <code>open</code> like <code>open my $in, &#39;&gt;&#39;, $filename; or die $!;</code>"}, {"owner": {"reputation": 668, "user_id": 5010116, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/sIte7.jpg?s=128&g=1", "display_name": "Top Sekret", "link": "https://stackoverflow.com/users/5010116/top-sekret"}, "edited": false, "score": 0, "creation_date": 1499937882, "post_id": 45075233, "comment_id": 77125461, "body": "Man, <code>test</code> is called conditionally, so don&#39;t expect it to always be there"}, {"owner": {"reputation": 320771, "user_id": 589924, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/b2cf53d5a3d25f95c0db4e025aed4153?s=128&d=identicon&r=PG", "display_name": "ikegami", "link": "https://stackoverflow.com/users/589924/ikegami"}, "edited": false, "score": 1, "creation_date": 1499970852, "post_id": 45075233, "comment_id": 77149458, "body": "It&#39;s called a <i>file handle</i> (because it holds onto a resources), not a <i>file handler</i> (because it doesn&#39;t handle anything)."}], "answers": [{"comments": [{"owner": {"reputation": 213, "user_id": 4711937, "user_type": "registered", "accept_rate": 36, "profile_image": "https://www.gravatar.com/avatar/35ae8720d1676c12292012d312dd541c?s=128&d=identicon&r=PG&f=1", "display_name": "tester", "link": "https://stackoverflow.com/users/4711937/tester"}, "edited": false, "score": 0, "creation_date": 1499936783, "post_id": 45075558, "comment_id": 77124673, "body": "Thanks . But the print in &#39;test&#39; and in the &#39;if&#39; condition of &#39;func&#39; subroutine are not printed"}, {"owner": {"reputation": 53041, "user_id": 4653379, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/b3953dbedd0dabff5cbc3db9b0835b14?s=128&d=identicon&r=PG&f=1", "display_name": "zdim", "link": "https://stackoverflow.com/users/4653379/zdim"}, "reply_to_user": {"reputation": 213, "user_id": 4711937, "user_type": "registered", "accept_rate": 36, "profile_image": "https://www.gravatar.com/avatar/35ae8720d1676c12292012d312dd541c?s=128&d=identicon&r=PG&f=1", "display_name": "tester", "link": "https://stackoverflow.com/users/4711937/tester"}, "edited": false, "score": 0, "creation_date": 1499937920, "post_id": 45075558, "comment_id": 77125495, "body": "@tester  Can you try with the posted program, verbatim?  Normally you shouldn&#39;t be able to write to <code>&#47;home</code> as a user, and if you only fixed a typo the code in the question won&#39;t let you know anything (since <code>open</code> is not checked for success).  So it simply won&#39;t open the file. The program I posted works for me."}, {"owner": {"reputation": 53041, "user_id": 4653379, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/b3953dbedd0dabff5cbc3db9b0835b14?s=128&d=identicon&r=PG&f=1", "display_name": "zdim", "link": "https://stackoverflow.com/users/4653379/zdim"}, "reply_to_user": {"reputation": 213, "user_id": 4711937, "user_type": "registered", "accept_rate": 36, "profile_image": "https://www.gravatar.com/avatar/35ae8720d1676c12292012d312dd541c?s=128&d=identicon&r=PG&f=1", "display_name": "tester", "link": "https://stackoverflow.com/users/4711937/tester"}, "edited": false, "score": 0, "creation_date": 1500106849, "post_id": 45075558, "comment_id": 77203292, "body": "@tester I edited the answer a little, and added a paragraph at the end, that (hopefully) better explains the comment above."}], "tags": [], "owner": {"reputation": 53041, "user_id": 4653379, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/b3953dbedd0dabff5cbc3db9b0835b14?s=128&d=identicon&r=PG&f=1", "display_name": "zdim", "link": "https://stackoverflow.com/users/4653379/zdim"}, "is_accepted": true, "score": 3, "last_activity_date": 1500362179, "last_edit_date": 1500362179, "creation_date": 1499935197, "answer_id": 45075558, "question_id": 45075233, "link": "https://stackoverflow.com/questions/45075233/file-handler-in-perl-not-working-in-subroutine/45075558#45075558", "title": "file handler in perl not working in subroutine", "body": "<p>First off, there is a typo -- you test <code>$var</code> against <code>\"Ocat\"</code>, while <code>Octa</code> is intended. </p>\n\n<p>So the <code>test</code> subroutine never gets called and only <code>String not found</code> is printed.</p>\n\n<p>With that corrected and <em>with the output file in a user writeable location</em>, your program works.</p>\n\n<p>However, some improvements are necessary.</p>\n\n<pre><code>use warnings;\nuse strict;\n\nmy $file = 'Octa.txt';\nopen my $WP, '&gt;', $file or die \"Can't open $file: $!\";\n\nmy $var3 = \"Octa\"; \nfunc($WP, $var3);\n\n#Subroutine test\nsub test{   \n    my ($fh, $var1) = @_; \n    print $fh \"TESTING\\n\"; \n}\n\n#Subroutine func\nsub func{\n    my ($fh, $var) = @_; \n    if ($var eq \"Octa\"){ \n        print $fh \"String found\\n\"; \n        test($fh, $var); \n    }   \n    else { \n        print $fh \"String not found\\n\"; \n    }   \n} \n</code></pre>\n\n<p>I've changed the output file name since a user normally may not write to <code>/home</code> directory.</p>\n\n<p>Comments</p>\n\n<ul>\n<li><p>It is much better to use the three-argument form of <code>open</code>, in which case you get a lexical file handle which can be passed around nicely and is scoped. This question is a good example of how a global file handle can make things confusing, to say the least.  </p></li>\n<li><p><em>Always</em> check the <code>open</code> call. For one thing, can you really write to <code>/home</code> directory?</p></li>\n<li><p>Please <em>always</em> start programs with <code>use warnings;</code> and <code>use strict;</code></p></li>\n</ul>\n\n<p>There is another possibility for failure, which brings together practices in the comments above.</p>\n\n<p>A file in <code>/home</code> normally isn't writeable by a user, in which case the posted program cannot work. </p>\n\n<p>But without a check of <code>open</code> (which will fail) and without <code>use warnings</code> (which would be printed every time we touch the invalid <code>$WH</code> filehandle) we <em>will not see</em> any of these errors; instead, the program will quietly run and complete but it won't write the output file.</p>\n"}], "owner": {"reputation": 213, "user_id": 4711937, "user_type": "registered", "accept_rate": 36, "profile_image": "https://www.gravatar.com/avatar/35ae8720d1676c12292012d312dd541c?s=128&d=identicon&r=PG&f=1", "display_name": "tester", "link": "https://stackoverflow.com/users/4711937/tester"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 133, "favorite_count": 0, "accepted_answer_id": 45075558, "answer_count": 1, "score": 0, "last_activity_date": 1500362179, "creation_date": 1499934170, "last_edit_date": 1499935535, "question_id": 45075233, "link": "https://stackoverflow.com/questions/45075233/file-handler-in-perl-not-working-in-subroutine", "title": "file handler in perl not working in subroutine", "body": "<pre><code>#!/bin/perl\n\nopen( $WP, \"&gt;/home/Octa.txt\" );\n\n# Subroutine test\nsub test {   \n    $var1 = shift; \n    print $WP \"TESTING\\n\"; \n}\n\n# Subroutine func\nsub func {\n    $var = shift;    \n\n    if ( $var eq \"Ocat\" ) { \n        print $WP \"String found\\n\"; \n        test($var); \n    }\n    else { \n        print $WP \"String not found\\n\"; \n    } \n}\n\n$var3 = \"Octa\"; \nfunc($var3);\n</code></pre>\n\n<p>The issue is that the code is not able to write anything within the <code>test</code> subroutine or within the <code>if</code> condition of the 'func<code>subroutine, but it prints in the</code>else` part of the 'func' subroutine.</p>\n"}, {"tags": ["moose", "perl"], "comments": [{"owner": {"reputation": 50468, "user_id": 1331451, "user_type": "registered", "accept_rate": 96, "profile_image": "https://i.stack.imgur.com/4ZPmj.png?s=128&g=1", "display_name": "simbabque", "link": "https://stackoverflow.com/users/1331451/simbabque"}, "edited": false, "score": 2, "creation_date": 1499931738, "post_id": 45072669, "comment_id": 77121196, "body": "Isn&#39;t that the thing Stevan is always presenting with the <i>Hold my beer and watch this</i> talks? <a href=\"https://www.youtube.com/watch?v=BowSFrSph6k\" rel=\"nofollow noreferrer\">Fosdem 2017</a> and <a href=\"https://www.youtube.com/watch?v=w5U7eoeuO90\" rel=\"nofollow noreferrer\">TPC 2017</a>. From what I can remember, most of the specs seem to be in his head. Damn it, Stevan. :)"}], "answers": [{"tags": [], "owner": {"reputation": 62184, "user_id": 7231, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/81b76985f3985e35492e25880493d045?s=128&d=identicon&r=PG", "display_name": "Dave Cross", "link": "https://stackoverflow.com/users/7231/dave-cross"}, "is_accepted": false, "score": 3, "last_activity_date": 1500537871, "last_edit_date": 1500537871, "creation_date": 1500469534, "answer_id": 45191533, "question_id": 45072669, "link": "https://stackoverflow.com/questions/45072669/what-is-the-use-case-for-moxie/45191533#45191533", "title": "What is the use case for Moxie?", "body": "<p>Moxie is the Moose-like system that Stevan Little hopes to get included in the Perl core at some point.</p>\n\n<p>This video from last month's TPC explains it all in a lot more detail - <a href=\"https://www.youtube.com/watch?v=w5U7eoeuO90\" rel=\"nofollow noreferrer\">https://www.youtube.com/watch?v=w5U7eoeuO90</a></p>\n"}], "owner": {"reputation": 63855, "user_id": 124486, "user_type": "registered", "accept_rate": 46, "profile_image": "https://www.gravatar.com/avatar/605442f85418d858e2ce1e1aea2092bb?s=128&d=identicon&r=PG", "display_name": "Evan Carroll", "link": "https://stackoverflow.com/users/124486/evan-carroll"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 162, "favorite_count": 0, "answer_count": 1, "score": 4, "last_activity_date": 1500537871, "creation_date": 1499926286, "last_edit_date": 1499973624, "question_id": 45072669, "link": "https://stackoverflow.com/questions/45072669/what-is-the-use-case-for-moxie", "title": "What is the use case for Moxie?", "body": "<p><a href=\"https://metacpan.org/pod/Moxie\" rel=\"nofollow noreferrer\">Moxie</a> seems to be very Moose-esque but the title is pretty uninformative,</p>\n\n<blockquote>\n  <p>Moxie - Not Another Moose Clone</p>\n</blockquote>\n\n<p>Reading it, it seems to use <a href=\"https://metacpan.org/pod/B::CompilerPhase::Hook\" rel=\"nofollow noreferrer\"><code>B::CompilerPhase::Hook</code></a> for extra voodoo. What is the end purpose of this library? If it's not a Moose clone, what does it intend to do differently?</p>\n\n<p>The description seems pretty vague too,</p>\n\n<blockquote>\n  <p>reference implementation for an object system built on top of a set of modules.</p>\n</blockquote>\n\n<p>Is there a specification for Moxie?</p>\n"}, {"tags": ["perl", "http", "mojolicious"], "comments": [{"owner": {"reputation": 89568, "user_id": 3081018, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/Z2NYm.png?s=128&g=1", "display_name": "Steffen Ullrich", "link": "https://stackoverflow.com/users/3081018/steffen-ullrich"}, "edited": false, "score": 1, "creation_date": 1499928604, "post_id": 45072527, "comment_id": 77119133, "body": "This looks more like you access a buggy server which does not properly implement HTTP. Leftovers are data sent by the server after the proper HTTP response is done. If you provide the URL one might have a look what&#39;s really going on there."}, {"owner": {"reputation": 3574, "user_id": 676192, "user_type": "registered", "accept_rate": 72, "profile_image": "https://www.gravatar.com/avatar/fcef8c55deae46cc0bfe986b2c189f70?s=128&d=identicon&r=PG", "display_name": "simone", "link": "https://stackoverflow.com/users/676192/simone"}, "reply_to_user": {"reputation": 89568, "user_id": 3081018, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/Z2NYm.png?s=128&g=1", "display_name": "Steffen Ullrich", "link": "https://stackoverflow.com/users/3081018/steffen-ullrich"}, "edited": false, "score": 0, "creation_date": 1499933621, "post_id": 45072527, "comment_id": 77122502, "body": "@SteffenUllrich - I can&#39;t provide a URL, sorry. Company server, confidentiality etc. etc. It&#39;s an Exchange Web Service - in case it helps. Any suggestions to work around this? It seems to work OK with LWP::UserAgent, but I wanted to only use Mojo::UserAgent in the app."}, {"owner": {"reputation": 89568, "user_id": 3081018, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/Z2NYm.png?s=128&g=1", "display_name": "Steffen Ullrich", "link": "https://stackoverflow.com/users/3081018/steffen-ullrich"}, "edited": false, "score": 1, "creation_date": 1499935840, "post_id": 45072527, "comment_id": 77124027, "body": "Could you provide the full original response header, maybe with <code>curl -v</code>? The one you show is changed by Mojo already. Also, which version of Mojolicious you are using?"}, {"owner": {"reputation": 3574, "user_id": 676192, "user_type": "registered", "accept_rate": 72, "profile_image": "https://www.gravatar.com/avatar/fcef8c55deae46cc0bfe986b2c189f70?s=128&d=identicon&r=PG", "display_name": "simone", "link": "https://stackoverflow.com/users/676192/simone"}, "reply_to_user": {"reputation": 89568, "user_id": 3081018, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/Z2NYm.png?s=128&g=1", "display_name": "Steffen Ullrich", "link": "https://stackoverflow.com/users/3081018/steffen-ullrich"}, "edited": false, "score": 0, "creation_date": 1500012726, "post_id": 45072527, "comment_id": 77163872, "body": "@SteffenUllrich - I added the <code>curl -v</code> header; I was using 7.10, and upgrading to 7.36 gives me the same results"}, {"owner": {"reputation": 89568, "user_id": 3081018, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/Z2NYm.png?s=128&g=1", "display_name": "Steffen Ullrich", "link": "https://stackoverflow.com/users/3081018/steffen-ullrich"}, "edited": false, "score": 0, "creation_date": 1500020380, "post_id": 45072527, "comment_id": 77167923, "body": "Nothing strange in these headers so it must be something in the response body or that the server reacts differently to the request from Mojo. At least I cannot find out what causes the problem without having access to the original HTTP traffic (i.e. after SSL unwrapping but before any processing by the HTTP client) to reproduce the problem. And without this I also cannot find a workaround."}], "owner": {"reputation": 3574, "user_id": 676192, "user_type": "registered", "accept_rate": 72, "profile_image": "https://www.gravatar.com/avatar/fcef8c55deae46cc0bfe986b2c189f70?s=128&d=identicon&r=PG", "display_name": "simone", "link": "https://stackoverflow.com/users/676192/simone"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 169, "favorite_count": 0, "answer_count": 0, "score": 2, "last_activity_date": 1500012498, "creation_date": 1499925738, "last_edit_date": 1500012498, "question_id": 45072527, "link": "https://stackoverflow.com/questions/45072527/why-does-mojomessageresponse-return-an-empty-body", "title": "Why does Mojo::Message::Response return an empty body?", "body": "<p>I am trying to access the body of a <code>Mojo::Message::Response</code> object with <code>$res-&gt;body</code> but I get an empty string.</p>\n\n<p>If I do <code>$res-&gt;to_string</code> I get the following</p>\n\n<pre><code>HTTP/1.1 200 OK\nClient-SSL-Cert-Subject: /C=DE/ST=Bayern/L=xxxxx/O=xxxx/CN=oa.xxxxx.com\nX-BEServer: DEHEREMEX52\nClient-SSL-Cipher: ECDHE-RSA-AES256-SHA\nClient-SSL-Cert-Issuer: /C=US/O=Blah, Inc./OU=See www.blah.net/legal-terms/OU=(c) 2012 Blah, Inc. - for authorized use only/CN=Blah Certification Authority - L1K\nPersistent-Auth: true\nX-CalculatedBETarget: blah.blah.blah.biz\nClient-Date: Thu, 13 Jul 2017 05:50:47 GMT\nClient-Response-Num: 3\nDate: Thu, 13 Jul 2017 05:50:47 GMT\nServer: Microsoft-IIS/8.5\nClient-SSL-Warning: Peer certificate not verified\nX-DiagInfo: DEHEREMEX52\nSet-Cookie: ClientId=PZCOBXREXHBNPYAIEA; expires=Fri, 13-Jul-2018 05:50:48 GMT; path=/; HttpOnly\nSet-Cookie: exchangecookie=565bea08845b4a9fb053ac5e7e60e16e; expires=Fri, 13-Jul-2018 05:50:47 GMT; path=/; HttpOnly\nSet-Cookie: X-BackEndCookie=S-1-5-21-1409082233-362288127-725345543-9215=u56Lnp2ejJqByp3MyMvMmsbSmc3Jx9LLnsid0sfImZvSx8qZns/Omp7Nyc3PgYHNz87I0s/H0s7Nq8/KxcrPxcvH; expires=Sat, 12-Aug-2017 05:50:48 GMT; path=/ews; secure; HttpOnly\nX-FEServer: BLAHBLAX\nContent-Length: 0\nClient-Transfer-Encoding: chunked\nX-AspNet-Version: 4.0.30319\nRequest-Id: ea3453f9-83b0-42fa-88a0-3d16ac35a6a6\nClient-Peer: 87.237.216.20:443\nCache-Control: private\nConnection: Keep-Alive\nX-Powered-By: ASP.NET\nContent-Type: text/xml; charset=utf-8\nClient-SSL-Socket-Class: IO::Socket::SSL\n</code></pre>\n\n<p>and if I do <code>print dump $res-&gt;content</code> I get the following (parts omitted for clarity), with the content I want clearly in <code>buffer</code>:</p>\n\n<pre><code>do {\n  my $a = bless({\n    asset           =&gt; bless({ auto_upgrade =&gt; 1, start_range =&gt; 0 }, \"Mojo::Asset::Memory\"),\n    auto_decompress =&gt; 1,\n    auto_relax      =&gt; 1,\n    auto_upgrade    =&gt; 1,\n    body            =&gt; 2,\n    buffer          =&gt; \"the content I want is here and there is a lot of it\",\n    events          =&gt; { read =&gt; [sub { ... }] },\n    ...\n    header_size     =&gt; 1363,\n    headers         =&gt; bless({\n    ...\n    }, \"Mojo::Headers\"),\n    pre_buffer      =&gt; \"\",\n    raw_size        =&gt; 3973,\n    read            =&gt; 'fix',\n    real_size       =&gt; 2610,\n    size            =&gt; 0,\n    state           =&gt; \"finished\",\n  }, \"Mojo::Content::Single\");\n  $a-&gt;{read} = $a-&gt;{events}{read}[0];\n  $a;\n}\n</code></pre>\n\n<p>However <code>$res-&gt;body</code> returns an empty string. I suspect it has to do with <code>size</code>, <code>real_size</code> and the content being chunked, but what is it?</p>\n\n<p>Doing the same with <code>curl -v</code> returns these headers:</p>\n\n<pre><code>HTTP/1.1 200 OK\nConnection: Keep-Alive\nTransfer-Encoding: chunked\nDate: Fri, 14 Jul 2017 06:04:11 GMT\nContent-Type: text/xml; charset=utf-8\nServer: Microsoft-IIS/8.5\nCache-Control: private\nrequest-id: ac058f09-a121-4d27-bbdf-ea7505e1ff33\nSet-Cookie: ClientId=FLKNCOOKUWTCVQKSQTZQ; expires=Sat, 14-Jul-2018 06:04:12 GMT; path=/; HttpOnly\nX-CalculatedBETarget: cihiuz.blah.xxx.biz\nX-DiagInfo: XXXXXXXXXXX\nX-BEServer: XXXXXXXXXXX\nX-AspNet-Version: 4.0.30319\nSet-Cookie: exchangecookie=f5013e861b6949539169122ab1af6046; expires=Sat, 14-Jul-2018 06:04:12 GMT; path=/; HttpOnly\nSet-Cookie: X-BackEndCookie=S-1-5-21-1409082233-362288127-725345543-9215=u56Lnp2ejJqByp3MyMvMmsbSmc3Jx9LLnsid0sfImZvSx8qZns/Omp7Nyc3PgYHNz87I0s/H0s7Mq8/Jxc/Lxc7N; expires=Sun, 13-Aug-2017 06:04:12 GMT; path=/ews; secure; HttpOnly\nPersistent-Auth: true\nX-Powered-By: ASP.NET\nX-FEServer: XXXXXXXXXXX\n</code></pre>\n\n<p><strong>ADDED</strong></p>\n\n<p>I found I can get to the content with <code>$res-&gt;content-&gt;leftovers</code> - is that the proper way?</p>\n"}, {"tags": ["xml", "perl", "web-services", "soap", "ws-security"], "comments": [{"owner": {"reputation": 50468, "user_id": 1331451, "user_type": "registered", "accept_rate": 96, "profile_image": "https://i.stack.imgur.com/4ZPmj.png?s=128&g=1", "display_name": "simbabque", "link": "https://stackoverflow.com/users/1331451/simbabque"}, "edited": false, "score": 1, "creation_date": 1499932229, "post_id": 45072417, "comment_id": 77121520, "body": "Why don&#39;t you just try. In most cases in IT trying does not actually break anything. ;)"}, {"owner": {"reputation": 50468, "user_id": 1331451, "user_type": "registered", "accept_rate": 96, "profile_image": "https://i.stack.imgur.com/4ZPmj.png?s=128&g=1", "display_name": "simbabque", "link": "https://stackoverflow.com/users/1331451/simbabque"}, "edited": false, "score": 0, "creation_date": 1499932388, "post_id": 45072417, "comment_id": 77121631, "body": "And if it&#39;s possible in Perl is not a very useful question. Anything is possible in almost any language. You just need to build it. Sometimes you&#39;re lucky and someone else has already built it and is giving it to you. Perl excels in that category, but not everything has been done. If this is something that XML::Compile::SOAP doesn&#39;t  do, feel free to add it. Mark Overmeer (the author) is happy about patches IIRC."}], "owner": {"reputation": 642, "user_id": 1498827, "user_type": "registered", "accept_rate": 84, "profile_image": "https://www.gravatar.com/avatar/1fd718fa88dfbe25b406c8004551f02a?s=128&d=identicon&r=PG", "display_name": "microwth", "link": "https://stackoverflow.com/users/1498827/microwth"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 153, "favorite_count": 0, "answer_count": 0, "score": 0, "last_activity_date": 1499925238, "creation_date": 1499925238, "question_id": 45072417, "link": "https://stackoverflow.com/questions/45072417/can-i-call-a-java-ws-security-enabled-web-service-with-perls-xmlcompile", "title": "Can I call a Java WS-Security enabled web service with Perl&#39;s XML::Compile?", "body": "<p>I'm looking to call the following <strong>Java WS-Security</strong> enabled web service with <strong>XML::Compile</strong>, but I'm not certain that it can handle it.For example I searched its CPAN repository for the tag <strong>'EncryptedParts'</strong> and found nothing. I see that it can handle signing with the use of <strong>XML::Compile::WSS::Signature</strong> but other than that I'm not sure how to proceed.</p>\n\n<p>Is what I'm looking for possible with <strong>XML::Compile</strong> or even Perl?  </p>\n\n<pre><code> &lt;?xml version=\"1.0\"?&gt;\n&lt;definitions xmlns=\"http://schemas.xmlsoap.org/wsdl/\" xmlns:wsdl=\"http://schemas.xmlsoap.org/wsdl/\" xmlns:tns=\"http://bean.test.com/\" xmlns:xsd=\"http://www.w3.org/2001/XMLSchema\" xmlns:soap=\"http://schemas.xmlsoap.org/wsdl/soap/\" name=\"MainWSClassService\" targetNamespace=\"http://bean.test.com/\"&gt;\n&lt;wsp:Policy xmlns:wsp=\"http://schemas.xmlsoap.org/ws/2004/09/policy\" xmlns:wsu=\"http://docs.oasis-open.org/wss/2004/01/oasis-200401-wss-wssecurity-utility-1.0.xsd\" wsu:Id=\"MainWSClassPort_Fault_Policy\"/&gt;\n&lt;wsp:Policy xmlns:wsp=\"http://schemas.xmlsoap.org/ws/2004/09/policy\" xmlns:wsu=\"http://docs.oasis-open.org/wss/2004/01/oasis-200401-wss-wssecurity-utility-1.0.xsd\" wsu:Id=\"MainWSClassPort_Input_Policy\"&gt;\n&lt;sp:SignedParts xmlns:sp=\"http://schemas.xmlsoap.org/ws/2005/07/securitypolicy\"&gt;\n&lt;sp:Body/&gt;\n&lt;sp:Header Namespace=\"http://www.w3.org/2005/08/addressing\"/&gt;\n&lt;sp:Header Namespace=\"http://schemas.xmlsoap.org/ws/2004/08/addressing\"/&gt;\n&lt;sp:Header Name=\"fmw-context\" Namespace=\"http://xmlns.oracle.com/fmw/context/1.0\"/&gt;\n&lt;sp:Header Name=\"SignatureConfirmation\" Namespace=\"http://docs.oasis-open.org/wss/oasis-wss-wssecurity-secext-1.1.xsd\"/&gt;\n&lt;sp:Header Name=\"SignatureConfirmation\" Namespace=\"http://docs.oasis-open.org/wss/oasis-wss-wssecurity-secext-1.1.xsd\"/&gt;\n&lt;sp:Header Name=\"SignatureConfirmation\" Namespace=\"http://docs.oasis-open.org/wss/oasis-wss-wssecurity-secext-1.1.xsd\"/&gt;\n&lt;sp:Header Name=\"SignatureConfirmation\" Namespace=\"http://docs.oasis-open.org/wss/oasis-wss-wssecurity-secext-1.1.xsd\"/&gt;\n&lt;/sp:SignedParts&gt;\n&lt;sp:EncryptedParts xmlns:sp=\"http://schemas.xmlsoap.org/ws/2005/07/securitypolicy\"&gt;\n&lt;sp:Body/&gt;\n&lt;sp:Header Name=\"fmw-context\" Namespace=\"http://xmlns.oracle.com/fmw/context/1.0\"/&gt;\n&lt;/sp:EncryptedParts&gt;\n&lt;/wsp:Policy&gt;\n&lt;wsp:Policy xmlns:wsp=\"http://schemas.xmlsoap.org/ws/2004/09/policy\" xmlns:wsu=\"http://docs.oasis-open.org/wss/2004/01/oasis-200401-wss-wssecurity-utility-1.0.xsd\" wsu:Id=\"MainWSClassPort_Output_Policy\"&gt;\n&lt;sp:SignedParts xmlns:sp=\"http://schemas.xmlsoap.org/ws/2005/07/securitypolicy\"&gt;\n&lt;sp:Body/&gt;\n&lt;/sp:SignedParts&gt;\n&lt;sp:EncryptedParts xmlns:sp=\"http://schemas.xmlsoap.org/ws/2005/07/securitypolicy\"&gt;\n&lt;sp:Body/&gt;\n&lt;/sp:EncryptedParts&gt;\n&lt;/wsp:Policy&gt;\n&lt;wsp:Policy xmlns:wsp=\"http://schemas.xmlsoap.org/ws/2004/09/policy\" xmlns:wsu=\"http://docs.oasis-open.org/wss/2004/01/oasis-200401-wss-wssecurity-utility-1.0.xsd\" wsu:Id=\"wss11_username_token_with_message_protection_service_policy\"&gt;\n&lt;sp:SymmetricBinding xmlns:sp=\"http://schemas.xmlsoap.org/ws/2005/07/securitypolicy\"&gt;\n&lt;wsp:Policy&gt;\n    &lt;sp:ProtectionToken&gt;\n        &lt;wsp:Policy&gt;\n            &lt;sp:X509Token sp:IncludeToken=\"http://schemas.xmlsoap.org/ws/2005/07/securitypolicy/IncludeToken/Never\"&gt;\n            &lt;wsp:Policy&gt;\n                &lt;sp:RequireThumbprintReference/&gt;\n                &lt;sp:WssX509V3Token11/&gt;\n            &lt;/wsp:Policy&gt;\n        &lt;/sp:X509Token&gt;\n    &lt;/wsp:Policy&gt;\n&lt;/sp:ProtectionToken&gt;\n&lt;sp:AlgorithmSuite&gt;\n    &lt;wsp:Policy&gt;\n        &lt;sp:Basic128/&gt;\n    &lt;/wsp:Policy&gt;\n&lt;/sp:AlgorithmSuite&gt;\n&lt;sp:Layout&gt;\n    &lt;wsp:Policy&gt;\n        &lt;sp:Lax/&gt;\n    &lt;/wsp:Policy&gt;\n&lt;/sp:Layout&gt;\n&lt;sp:IncludeTimestamp/&gt;\n&lt;sp:OnlySignEntireHeadersAndBody/&gt;\n&lt;/wsp:Policy&gt;\n&lt;/sp:SymmetricBinding&gt;\n&lt;sp:SignedSupportingTokens xmlns:sp=\"http://schemas.xmlsoap.org/ws/2005/07/securitypolicy\"&gt;\n&lt;wsp:Policy&gt;\n    &lt;sp:UsernameToken sp:IncludeToken=\"http://schemas.xmlsoap.org/ws/2005/07/securitypolicy/IncludeToken/AlwaysToRecipient\"&gt;\n    &lt;wsp:Policy&gt;\n        &lt;sp:WssUsernameToken10/&gt;\n    &lt;/wsp:Policy&gt;\n&lt;/sp:UsernameToken&gt;\n&lt;/wsp:Policy&gt;\n&lt;/sp:SignedSupportingTokens&gt;\n&lt;sp:Wss11 xmlns:sp=\"http://schemas.xmlsoap.org/ws/2005/07/securitypolicy\"&gt;\n&lt;wsp:Policy&gt;\n    &lt;sp:RequireSignatureConfirmation/&gt;\n    &lt;sp:MustSupportRefEncryptedKey/&gt;\n&lt;/wsp:Policy&gt;\n&lt;/sp:Wss11&gt;\n&lt;/wsp:Policy&gt;\n&lt;types&gt;\n    &lt;xsd:schema&gt;\n        &lt;xsd:import namespace=\"http://bean.test.com/\" schemaLocation=\"https://test.com:443/testWSS_context-root/MainWSClassPort?xsd=1\"/&gt;\n    &lt;/xsd:schema&gt;\n&lt;/types&gt;\n&lt;message name=\"cancelTransfer\"&gt;\n    &lt;part name=\"parameters\" element=\"tns:cancelTransfer\"/&gt;\n&lt;/message&gt;\n&lt;message name=\"cancelTransferResponse\"&gt;\n    &lt;part name=\"parameters\" element=\"tns:cancelTransferResponse\"/&gt;\n&lt;/message&gt;\n&lt;message name=\"cancelDischarge\"&gt;\n    &lt;part name=\"parameters\" element=\"tns:cancelDischarge\"/&gt;\n&lt;/message&gt;\n&lt;message name=\"cancelDischargeResponse\"&gt;\n    &lt;part name=\"parameters\" element=\"tns:cancelDischargeResponse\"/&gt;\n&lt;/message&gt;\n&lt;message name=\"cancelAdmission\"&gt;\n    &lt;part name=\"parameters\" element=\"tns:cancelAdmission\"/&gt;\n&lt;/message&gt;\n&lt;message name=\"cancelAdmissionResponse\"&gt;\n    &lt;part name=\"parameters\" element=\"tns:cancelAdmissionResponse\"/&gt;\n&lt;/message&gt;\n&lt;message name=\"saveDischarge\"&gt;\n    &lt;part name=\"parameters\" element=\"tns:saveDischarge\"/&gt;\n&lt;/message&gt;\n&lt;message name=\"saveDischargeResponse\"&gt;\n    &lt;part name=\"parameters\" element=\"tns:saveDischargeResponse\"/&gt;\n&lt;/message&gt;\n&lt;message name=\"saveTransfer\"&gt;\n    &lt;part name=\"parameters\" element=\"tns:saveTransfer\"/&gt;\n&lt;/message&gt;\n&lt;message name=\"saveTransferResponse\"&gt;\n    &lt;part name=\"parameters\" element=\"tns:saveTransferResponse\"/&gt;\n&lt;/message&gt;\n&lt;message name=\"saveAdmission\"&gt;\n    &lt;part name=\"parameters\" element=\"tns:saveAdmission\"/&gt;\n&lt;/message&gt;\n&lt;message name=\"saveAdmissionResponse\"&gt;\n    &lt;part name=\"parameters\" element=\"tns:saveAdmissionResponse\"/&gt;\n&lt;/message&gt;\n&lt;portType name=\"MainWSClass\"&gt;\n    &lt;operation name=\"cancelTransfer\"&gt;\n        &lt;input message=\"tns:cancelTransfer\"/&gt;\n        &lt;output message=\"tns:cancelTransferResponse\"/&gt;\n    &lt;/operation&gt;\n    &lt;operation name=\"cancelDischarge\"&gt;\n        &lt;input message=\"tns:cancelDischarge\"/&gt;\n        &lt;output message=\"tns:cancelDischargeResponse\"/&gt;\n    &lt;/operation&gt;\n    &lt;operation name=\"cancelAdmission\"&gt;\n        &lt;input message=\"tns:cancelAdmission\"/&gt;\n        &lt;output message=\"tns:cancelAdmissionResponse\"/&gt;\n    &lt;/operation&gt;\n    &lt;operation name=\"saveDischarge\"&gt;\n        &lt;input message=\"tns:saveDischarge\"/&gt;\n        &lt;output message=\"tns:saveDischargeResponse\"/&gt;\n    &lt;/operation&gt;\n    &lt;operation name=\"saveTransfer\"&gt;\n        &lt;input message=\"tns:saveTransfer\"/&gt;\n        &lt;output message=\"tns:saveTransferResponse\"/&gt;\n    &lt;/operation&gt;\n    &lt;operation name=\"saveAdmission\"&gt;\n        &lt;input message=\"tns:saveAdmission\"/&gt;\n        &lt;output message=\"tns:saveAdmissionResponse\"/&gt;\n    &lt;/operation&gt;\n&lt;/portType&gt;\n&lt;binding name=\"MainWSClassPortBinding\" type=\"tns:MainWSClass\"&gt;\n    &lt;soap:binding style=\"document\" transport=\"http://schemas.xmlsoap.org/soap/http\"/&gt;\n    &lt;wsp:PolicyReference xmlns:wsp=\"http://schemas.xmlsoap.org/ws/2004/09/policy\" URI=\"#wss11_username_token_with_message_protection_service_policy\" wsdl:required=\"false\"/&gt;\n    &lt;operation name=\"cancelTransfer\"&gt;\n        &lt;soap:operation soapAction=\"\"/&gt;\n        &lt;input&gt;\n            &lt;soap:body use=\"literal\"/&gt;\n            &lt;wsp:PolicyReference xmlns:wsp=\"http://schemas.xmlsoap.org/ws/2004/09/policy\" URI=\"#MainWSClassPort_Input_Policy\" wsdl:required=\"false\"/&gt;\n        &lt;/input&gt;\n        &lt;output&gt;\n            &lt;soap:body use=\"literal\"/&gt;\n            &lt;wsp:PolicyReference xmlns:wsp=\"http://schemas.xmlsoap.org/ws/2004/09/policy\" URI=\"#MainWSClassPort_Output_Policy\" wsdl:required=\"false\"/&gt;\n        &lt;/output&gt;\n    &lt;/operation&gt;\n    &lt;operation name=\"cancelDischarge\"&gt;\n        &lt;soap:operation soapAction=\"\"/&gt;\n        &lt;input&gt;\n            &lt;soap:body use=\"literal\"/&gt;\n            &lt;wsp:PolicyReference xmlns:wsp=\"http://schemas.xmlsoap.org/ws/2004/09/policy\" URI=\"#MainWSClassPort_Input_Policy\" wsdl:required=\"false\"/&gt;\n        &lt;/input&gt;\n        &lt;output&gt;\n            &lt;soap:body use=\"literal\"/&gt;\n            &lt;wsp:PolicyReference xmlns:wsp=\"http://schemas.xmlsoap.org/ws/2004/09/policy\" URI=\"#MainWSClassPort_Output_Policy\" wsdl:required=\"false\"/&gt;\n        &lt;/output&gt;\n    &lt;/operation&gt;\n    &lt;operation name=\"cancelAdmission\"&gt;\n        &lt;soap:operation soapAction=\"\"/&gt;\n        &lt;input&gt;\n            &lt;soap:body use=\"literal\"/&gt;\n            &lt;wsp:PolicyReference xmlns:wsp=\"http://schemas.xmlsoap.org/ws/2004/09/policy\" URI=\"#MainWSClassPort_Input_Policy\" wsdl:required=\"false\"/&gt;\n        &lt;/input&gt;\n        &lt;output&gt;\n            &lt;soap:body use=\"literal\"/&gt;\n            &lt;wsp:PolicyReference xmlns:wsp=\"http://schemas.xmlsoap.org/ws/2004/09/policy\" URI=\"#MainWSClassPort_Output_Policy\" wsdl:required=\"false\"/&gt;\n        &lt;/output&gt;\n    &lt;/operation&gt;\n    &lt;operation name=\"saveDischarge\"&gt;\n        &lt;soap:operation soapAction=\"\"/&gt;\n        &lt;input&gt;\n            &lt;soap:body use=\"literal\"/&gt;\n            &lt;wsp:PolicyReference xmlns:wsp=\"http://schemas.xmlsoap.org/ws/2004/09/policy\" URI=\"#MainWSClassPort_Input_Policy\" wsdl:required=\"false\"/&gt;\n        &lt;/input&gt;\n        &lt;output&gt;\n            &lt;soap:body use=\"literal\"/&gt;\n            &lt;wsp:PolicyReference xmlns:wsp=\"http://schemas.xmlsoap.org/ws/2004/09/policy\" URI=\"#MainWSClassPort_Output_Policy\" wsdl:required=\"false\"/&gt;\n        &lt;/output&gt;\n    &lt;/operation&gt;\n    &lt;operation name=\"saveTransfer\"&gt;\n        &lt;soap:operation soapAction=\"\"/&gt;\n        &lt;input&gt;\n            &lt;soap:body use=\"literal\"/&gt;\n            &lt;wsp:PolicyReference xmlns:wsp=\"http://schemas.xmlsoap.org/ws/2004/09/policy\" URI=\"#MainWSClassPort_Input_Policy\" wsdl:required=\"false\"/&gt;\n        &lt;/input&gt;\n        &lt;output&gt;\n            &lt;soap:body use=\"literal\"/&gt;\n            &lt;wsp:PolicyReference xmlns:wsp=\"http://schemas.xmlsoap.org/ws/2004/09/policy\" URI=\"#MainWSClassPort_Output_Policy\" wsdl:required=\"false\"/&gt;\n        &lt;/output&gt;\n    &lt;/operation&gt;\n    &lt;operation name=\"saveAdmission\"&gt;\n        &lt;soap:operation soapAction=\"\"/&gt;\n        &lt;input&gt;\n            &lt;soap:body use=\"literal\"/&gt;\n            &lt;wsp:PolicyReference xmlns:wsp=\"http://schemas.xmlsoap.org/ws/2004/09/policy\" URI=\"#MainWSClassPort_Input_Policy\" wsdl:required=\"false\"/&gt;\n        &lt;/input&gt;\n        &lt;output&gt;\n            &lt;soap:body use=\"literal\"/&gt;\n            &lt;wsp:PolicyReference xmlns:wsp=\"http://schemas.xmlsoap.org/ws/2004/09/policy\" URI=\"#MainWSClassPort_Output_Policy\" wsdl:required=\"false\"/&gt;\n        &lt;/output&gt;\n    &lt;/operation&gt;\n&lt;/binding&gt;\n&lt;service name=\"MainWSClassService\"&gt;\n    &lt;port name=\"MainWSClassPort\" binding=\"tns:MainWSClassPortBinding\"&gt;\n        &lt;soap:address location=\"https://test.com:443/testWSS_context-root/MainWSClassPort\"/&gt;\n        &lt;wsa:EndpointReference xmlns:wsa=\"http://www.w3.org/2005/08/addressing\"&gt;\n        &lt;wsa:Address xmlns:wsa=\"http://www.w3.org/2005/08/addressing\"&gt;\n        https://test.com:443/testWSS_context-root/MainWSClassPort\n    &lt;/wsa:Address&gt;\n    &lt;wsid:Identity xmlns:wsid=\"http://schemas.xmlsoap.org/ws/2006/02/addressingidentity\"&gt;\n    &lt;dsig:KeyInfo xmlns:dsig=\"http://www.w3.org/2000/09/xmldsig#\"&gt;\n    &lt;dsig:X509Data&gt;\n        &lt;dsig:X509Certificate&gt;\n            MIIC0jCCAjsCCQC3l6TlmarTfzANBgkqhkiG9w0BAQUFADCBqTELMA1IxDzANBgNVBAgTBkFUVElDQTEPMA0GA1UEBxMGQVRIRU5TMUgwRgYDVQQKEz9Tb2NpYWwgSW5zdXJhbmNlIEluc3RpdHV0ZS1VbmlmaWVkIEluc3VyYW5jZSBGdW5kIGZvciBFbXBsb3llZXMxHTAbBgNVBAsTFElLQS+RFzbqAYxkd7e6jaOUpOgdhiB2MlGivNIqG3rVdG0b8C0uV3qWePilnWZB+vnnakEJLQzt/w3JMsJpbU0q1yeUzHQIDAQABMA0GCSqGSIb3DQEBBQUAA4GBAC1fHcjN9OrAaE6cCoaezje1nEhfkR1MiUa27tctpDwcLZL4Xg0yHqbXmaLl3jffcQHnSdJuRS7tLiKmeM/ZaEIHWDGhjAyf6pG+ruWydmgZLGAki+evqZDh10j2rY0x7A5A\n        &lt;/dsig:X509Certificate&gt;\n        &lt;dsig:X509IssuerSerial&gt;\n            &lt;dsig:X509IssuerName&gt;\n                CN=TEST CA, OU=TEST-E IT Division, O=XXX, L=XXX, ST=XXX, C=XX\n            &lt;/dsig:X509IssuerName&gt;\n            &lt;dsig:X509SerialNumber&gt;1336456967&lt;/dsig:X509SerialNumber&gt;\n        &lt;/dsig:X509IssuerSerial&gt;\n        &lt;dsig:X509SubjectName&gt;\n            CN=xxx.test.com, OU=TEST-E IT Division, O=XXX, L=XXX, ST=XXX, C=XX\n        &lt;/dsig:X509SubjectName&gt;\n    &lt;/dsig:X509Data&gt;\n&lt;/dsig:KeyInfo&gt;\n&lt;/wsid:Identity&gt;\n&lt;/wsa:EndpointReference&gt;\n&lt;/port&gt;\n&lt;/service&gt;\n&lt;/definitions&gt;\n</code></pre>\n"}]