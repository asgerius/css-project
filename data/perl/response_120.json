[{"tags": ["html", "forms", "perl", "http-post", "lwp-useragent"], "comments": [{"owner": {"reputation": 611, "user_id": 3714435, "user_type": "registered", "accept_rate": 79, "profile_image": "https://www.gravatar.com/avatar/e62c30ed03cdbecf6cc187f6a0948a89?s=128&d=identicon&r=PG&f=1", "display_name": "a1111exe", "link": "https://stackoverflow.com/users/3714435/a1111exe"}, "edited": false, "score": 0, "creation_date": 1493378284, "post_id": 43644804, "comment_id": 74403647, "body": "If you own the resource then you may just define and call appropriate API to get what you need. And this would be MUCH easier, than emulate full scale browser with JS engine and human able to pass captchas. If you don&#39;t own the resource, and the resource doesn&#39;t expose any appropriate API to you, then it seems like kinda blackhat hacking attempt, doesn&#39;t it?"}, {"owner": {"reputation": 115, "user_id": 2556921, "user_type": "registered", "accept_rate": 50, "profile_image": "https://i.stack.imgur.com/I8IvB.jpg?s=128&g=1", "display_name": "Haifa Warda", "link": "https://stackoverflow.com/users/2556921/haifa-warda"}, "reply_to_user": {"reputation": 611, "user_id": 3714435, "user_type": "registered", "accept_rate": 79, "profile_image": "https://www.gravatar.com/avatar/e62c30ed03cdbecf6cc187f6a0948a89?s=128&d=identicon&r=PG&f=1", "display_name": "a1111exe", "link": "https://stackoverflow.com/users/3714435/a1111exe"}, "edited": false, "score": 0, "creation_date": 1493498335, "post_id": 43644804, "comment_id": 74445547, "body": "@a1111exe i don&#39;t own the resource, all i want is to start a process on the webpage and to get the search-results .. should been possible?"}], "owner": {"reputation": 115, "user_id": 2556921, "user_type": "registered", "accept_rate": 50, "profile_image": "https://i.stack.imgur.com/I8IvB.jpg?s=128&g=1", "display_name": "Haifa Warda", "link": "https://stackoverflow.com/users/2556921/haifa-warda"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 416, "favorite_count": 1, "answer_count": 0, "score": 1, "last_activity_date": 1493242035, "creation_date": 1493242035, "question_id": 43644804, "link": "https://stackoverflow.com/questions/43644804/automatic-filling-and-submitting-form-with-perl-lwp", "title": "automatic filling and submitting form with Perl :LWP", "body": "<p>i just got into web programming with perl and I am trying to write a perl script that will go to a web page (<a href=\"http://211.157.104.77:8080/sipo_EN/search/tabSearch.do?method=init\" rel=\"nofollow noreferrer\">http://211.157.104.77:8080/sipo_EN/search/tabSearch.do?method=init</a>),\nfill in the Input text field, and then submit the form. As it is not working, i wonder what url should i give \"post\" if not the one i already tried. </p>\n\n<pre><code>   $ua = new LWP::UserAgent(keep_alive =&gt; 0);     \n   $ua-&gt;proxy('http', $proxy);\n   $cookie_jar = new HTTP::Cookies();\n   $ua-&gt;cookie_jar($cookie_jar); \n   $ua-&gt;agent('Mozilla/4.0 (compatible; MSIE 6.0; Windows NT 5.1; SV1; InfoPath.1; .NET CLR 2.0.50727)');\n   $url  ='http://211.157.104.77:8080/sipo_EN/search/tabSearch.do?method=search'; \n   $response = $ua-&gt;post( $url, { a =&gt; \"03085931\", b =&gt; \"\",\n                                  c =&gt; \"\",d =&gt; \"\",e =&gt; \"\",\n                                  f =&gt; \"\",g =&gt; \"\",h =&gt; \"\",\n                                  i =&gt; \"\",j =&gt; \"\",k =&gt; \"\",\n                                  l =&gt; \"\",m =&gt; \"\",\n\n    } );\n\n  $cgi = CGI-&gt;new();\n  print $cgi-&gt;header(), $response-&gt;content(); \n</code></pre>\n\n<p>After filling in the form, the Webpage returns a result list of documents, which i'd like to access in the end. I already tried to find out, and also read about  WWW::Mechanize, but since the page i'd like to access owns javascript, i think it wouldn't work. (Also there isn't really a submit button, just click events) </p>\n\n<p>Best regards </p>\n"}, {"tags": ["java", "perl", "compression", "lzf"], "comments": [{"owner": {"reputation": 113221, "user_id": 100754, "user_type": "registered", "accept_rate": 90, "profile_image": "https://www.gravatar.com/avatar/7804ebae32fbadef38537d74a915c22f?s=128&d=identicon&r=PG", "display_name": "Sinan &#220;n&#252;r", "link": "https://stackoverflow.com/users/100754/sinan-%c3%9cn%c3%bcr"}, "edited": false, "score": 0, "creation_date": 1493240721, "post_id": 43644330, "comment_id": 74337382, "body": "Is something preventing you from using <a href=\"https://metacpan.org/pod/Compress::LZF\" rel=\"nofollow noreferrer\"><code>Compress::LZF::decompress</code></a>?"}, {"owner": {"reputation": 123805, "user_id": 622310, "user_type": "registered", "accept_rate": 33, "profile_image": "https://www.gravatar.com/avatar/8b6d35219e1808520bc238b28161e2e6?s=128&d=identicon&r=PG", "display_name": "Borodin", "link": "https://stackoverflow.com/users/622310/borodin"}, "edited": false, "score": 0, "creation_date": 1493240877, "post_id": 43644330, "comment_id": 74337481, "body": "Have you been able to decompress the database contents in any way at all? I wouldn&#39;t jump to blaming the module."}, {"owner": {"reputation": 5302, "user_id": 686183, "user_type": "registered", "accept_rate": 73, "profile_image": "https://i.stack.imgur.com/h5EU7.jpg?s=128&g=1", "display_name": "pconrey", "link": "https://stackoverflow.com/users/686183/pconrey"}, "edited": false, "score": 0, "creation_date": 1493303196, "post_id": 43644330, "comment_id": 74368297, "body": "Sinan, the data was initially compressed in Perl, but we&#39;re using a Java application to read it."}, {"owner": {"reputation": 5302, "user_id": 686183, "user_type": "registered", "accept_rate": 73, "profile_image": "https://i.stack.imgur.com/h5EU7.jpg?s=128&g=1", "display_name": "pconrey", "link": "https://stackoverflow.com/users/686183/pconrey"}, "edited": false, "score": 0, "creation_date": 1493303262, "post_id": 43644330, "comment_id": 74368353, "body": "Borodin, I can compress/decompress as long as I&#39;m using either Java or Perl to do both. The problem is when it&#39;s compressed with one language and decompressed with another."}], "owner": {"reputation": 5302, "user_id": 686183, "user_type": "registered", "accept_rate": 73, "profile_image": "https://i.stack.imgur.com/h5EU7.jpg?s=128&g=1", "display_name": "pconrey", "link": "https://stackoverflow.com/users/686183/pconrey"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 63, "favorite_count": 0, "answer_count": 0, "score": 1, "last_activity_date": 1593169895, "creation_date": 1493240020, "last_edit_date": 1592644375, "question_id": 43644330, "link": "https://stackoverflow.com/questions/43644330/database-data-compressed-with-perl-compresslzf-wont-decompress-in-java", "title": "Database data compressed with Perl &quot;Compress::LZF&quot; won&#39;t decompress in Java", "body": "<p>I am trying to decompress data stored in a database that was originally compressed with the Perl <a href=\"https://metacpan.org/pod/Compress::LZF\" rel=\"nofollow noreferrer\"><code>Compress::LZF</code></a> module.</p>\n<p>The problem is that the header on the compressed data doesn't appear to match what the <a href=\"https://github.com/ning/compress\" rel=\"nofollow noreferrer\"><code>com.ning.compress.lzf</code></a> library expects.</p>\n<p>Does anyone know a way of decompressing data that's been compressed using <code>Compress::LZF</code>?</p>\n"}, {"tags": ["perl", "pdf"], "comments": [{"owner": {"reputation": 50468, "user_id": 1331451, "user_type": "registered", "accept_rate": 96, "profile_image": "https://i.stack.imgur.com/4ZPmj.png?s=128&g=1", "display_name": "simbabque", "link": "https://stackoverflow.com/users/1331451/simbabque"}, "edited": false, "score": 2, "creation_date": 1493231838, "post_id": 43641594, "comment_id": 74332404, "body": "Please <a href=\"https://stackoverflow.com/posts/43641594/edit\">edit</a> your question and fix the code markup."}, {"owner": {"reputation": 50468, "user_id": 1331451, "user_type": "registered", "accept_rate": 96, "profile_image": "https://i.stack.imgur.com/4ZPmj.png?s=128&g=1", "display_name": "simbabque", "link": "https://stackoverflow.com/users/1331451/simbabque"}, "edited": false, "score": 3, "creation_date": 1493231909, "post_id": 43641594, "comment_id": 74332442, "body": "Why did you not install PDF::API2? Looks like you just downloaded and unpacked an archive, but didn&#39;t really install. Anyway, making PDF::Table do formatted stuff is... tricky. I&#39;ve used it maybe 8 years ago, but can&#39;t really remember. Since your expected output looks like an Excel file, have you considered creating an XLS(X) and then using something else to convert that to PDF?"}, {"owner": {"reputation": 32176, "user_id": 2173773, "user_type": "registered", "accept_rate": 86, "profile_image": "https://i.stack.imgur.com/M8yh6.jpg?s=128&g=1", "display_name": "H&#229;kon H&#230;gland", "link": "https://stackoverflow.com/users/2173773/h%c3%a5kon-h%c3%a6gland"}, "edited": false, "score": 1, "creation_date": 1493232221, "post_id": 43641594, "comment_id": 74332628, "body": "what is <code>tmstmp</code>? You have this line <code>print LOG tmstmp() [...]</code> but <code>tmstmp</code> is not defined as far as I can see"}, {"owner": {"reputation": 123805, "user_id": 622310, "user_type": "registered", "accept_rate": 33, "profile_image": "https://www.gravatar.com/avatar/8b6d35219e1808520bc238b28161e2e6?s=128&d=identicon&r=PG", "display_name": "Borodin", "link": "https://stackoverflow.com/users/622310/borodin"}, "edited": false, "score": 2, "creation_date": 1493237477, "post_id": 43641594, "comment_id": 74335648, "body": "Please don&#39;t post text information as an image. We to see the original CSV data to be able to try things for ourselves."}, {"owner": {"reputation": 123805, "user_id": 622310, "user_type": "registered", "accept_rate": 33, "profile_image": "https://www.gravatar.com/avatar/8b6d35219e1808520bc238b28161e2e6?s=128&d=identicon&r=PG", "display_name": "Borodin", "link": "https://stackoverflow.com/users/622310/borodin"}, "edited": false, "score": 2, "creation_date": 1493237713, "post_id": 43641594, "comment_id": 74335784, "body": "Please <i>always</i> <code>use warnings &#39;all&#39;</code> as well as <code>use strict</code> in <i>every</i> Perl program that you write. Also, it is much better not to declare every variable at the start of the file. Variables should be declared as close as possible to where they are first used so that Perl can discard them when they are no longer required. In particular, long lists of declarations and corresponding definitions like that are very unclear, and there&#39;s rarely a need to define Perl variables anyway."}, {"owner": {"reputation": 123805, "user_id": 622310, "user_type": "registered", "accept_rate": 33, "profile_image": "https://www.gravatar.com/avatar/8b6d35219e1808520bc238b28161e2e6?s=128&d=identicon&r=PG", "display_name": "Borodin", "link": "https://stackoverflow.com/users/622310/borodin"}, "edited": false, "score": 1, "creation_date": 1493238550, "post_id": 43641594, "comment_id": 74336228, "body": "<code>if ( $sts == 0 ) { ... }</code> will raise a warning, because <code>open</code> returns <code>undef</code> in case of a failure, not zero. If you must test the result separately then use <code>unless ( $sts ) { ... }</code>. Together with the missing <code>tmstmp</code> that <b>H&#229;kon H&#230;gland</b> identified, I suspect that you haven&#39;t posted your real code. Without that we can&#39;t help you."}, {"owner": {"reputation": 123805, "user_id": 622310, "user_type": "registered", "accept_rate": 33, "profile_image": "https://www.gravatar.com/avatar/8b6d35219e1808520bc238b28161e2e6?s=128&d=identicon&r=PG", "display_name": "Borodin", "link": "https://stackoverflow.com/users/622310/borodin"}, "edited": false, "score": 1, "creation_date": 1493240275, "post_id": 43641594, "comment_id": 74337137, "body": "You don&#39;t use any of these variables  <code>$bid</code>, <code>$lf</code>, <code>$xf</code>, <code>$hdrcnt</code>, <code>$klm</code>, <code>$od</code>, <code>$lst</code>, <code>$hdr_seq</code>, <code>$key_cnt</code>, <code>$dat_rec</code>, <code>$dat_off</code>, <code>$dat_lmt</code>, <code>$len_cnt</code>, <code>$len_cnt1</code> so they shouldn&#39;t be declared."}], "answers": [{"comments": [{"owner": {"reputation": 75, "user_id": 7773733, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/7b370c31cb262b2b15835fbcda16d7e4?s=128&d=identicon&r=PG&f=1", "display_name": "Shan Mugam", "link": "https://stackoverflow.com/users/7773733/shan-mugam"}, "edited": false, "score": 0, "creation_date": 1493300254, "post_id": 43642753, "comment_id": 74366098, "body": "We tried this option but it is not producing the expected o/p. Also we want to create a array value like [[&#39;Symbol - Test&#39;,&#39;BI - Test&#39;,&#39;PD - Test&#39;,&#39;PIP - Test&#39;,&#39;UM - Test&#39;,&#39;COMP - Test&#39;,&#39;COLL - Test&#39;],[&#39;66&#39;,&#39;.8500&#39;,&#39;.8500&#39;,&#39;1.1600&#39;,&#39;1.1600&#39;]] then only we can able to use this in PDF::Table, So can you please help on this as i am new to this PDF::Table &amp; Perl i am struggling to achieve this, Can you please help me on this. Thanks in Advance."}], "tags": [], "owner": {"reputation": 32176, "user_id": 2173773, "user_type": "registered", "accept_rate": 86, "profile_image": "https://i.stack.imgur.com/M8yh6.jpg?s=128&g=1", "display_name": "H&#229;kon H&#230;gland", "link": "https://stackoverflow.com/users/2173773/h%c3%a5kon-h%c3%a6gland"}, "is_accepted": false, "score": 2, "last_activity_date": 1493240483, "last_edit_date": 1493240483, "creation_date": 1493234241, "answer_id": 43642753, "question_id": 43641594, "link": "https://stackoverflow.com/questions/43641594/how-to-convert-csv-data-to-pdf-table-using-pdftable/43642753#43642753", "title": "How to convert CSV data to PDF table using PDF::Table", "body": "<p>Seems like the problem is this line:</p>\n\n<pre><code>push( @$somedata, [  $cellval .',' ] );\n</code></pre>\n\n<p>which generates an <code>N x 1</code> matrix <code>$somedata</code>. You need an <code>N x M</code> matrix <code>$somedata</code>. So you should instead create a row array <code>@rowdata</code> in the inner <code>foreach</code> loop:</p>\n\n<pre><code>push @rowdata, $cellval;\n</code></pre>\n\n<p>and, at the bottom of the outer <code>while</code> loop you can do</p>\n\n<pre><code>push @$somedata, \\@rowdata;\n</code></pre>\n\n<p>This gives the following loops:</p>\n\n<pre><code>while ( my $csv = &lt;$CSV&gt; ) {\n\n    chomp $csv;\n\n    ++$iR;\n    $iC = 0;         # This is the column co-ordinate for the Excel file\n\n    my $csvcol = -1; # This is the column co-ordinate for the CSV file\n    my $cellval = '';\n    @csv_rcd = split /,/, $csv;\n\n    my @rowdata;\n\n    foreach my $cell ( @csv_rcd ) {\n\n        ++$csvcol;\n\n        if ( $cell ne '*' ) {\n\n            if ( $iR &lt;= 5 ) {\n                $text-&gt;lead( 10 );\n                $text-&gt;section( $cell, 500, 800 );\n            }\n            else {\n                push @rowdata, $cell;\n            }\n        }\n\n        $iC++;\n    }\n\n    push @$somedata, \\@rowdata;\n}\n</code></pre>\n"}], "owner": {"reputation": 75, "user_id": 7773733, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/7b370c31cb262b2b15835fbcda16d7e4?s=128&d=identicon&r=PG&f=1", "display_name": "Shan Mugam", "link": "https://stackoverflow.com/users/7773733/shan-mugam"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 557, "favorite_count": 0, "answer_count": 1, "score": 1, "last_activity_date": 1582533353, "creation_date": 1493230264, "last_edit_date": 1592644375, "question_id": 43641594, "link": "https://stackoverflow.com/questions/43641594/how-to-convert-csv-data-to-pdf-table-using-pdftable", "title": "How to convert CSV data to PDF table using PDF::Table", "body": "<p>I need to convert CSV data into into a PDF table using Perl.</p>\n<p>I've tried using <a href=\"http://search.cpan.org/%7Essimms/PDF-API2-2.031/lib/PDF/API2.pm\" rel=\"nofollow noreferrer\"><code>PDF::API2</code></a> and <a href=\"http://search.cpan.org/%7Eomega/PDF-Table-0.9.12/lib/PDF/Table.pm\" rel=\"nofollow noreferrer\"><code>PDF::Table</code></a>, but cannot achieve what I need.</p>\n<p>Can anyone suggest what I have missed, or is there a better module to use?</p>\n<h3>CSV</h3>\n<p><a href=\"https://i.stack.imgur.com/dffO9.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/dffO9.png\" alt=\"enter image description here\" /></a></p>\n<h3>Expected PDF Output</h3>\n<p><a href=\"https://i.stack.imgur.com/vqbwC.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/vqbwC.png\" alt=\"enter image description here\" /></a></p>\n<h3>Actual output</h3>\n<p><a href=\"https://i.stack.imgur.com/At0y7.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/At0y7.png\" alt=\"enter image description here\" /></a></p>\n<h3>My Perl code</h3>\n<pre><code>use strict;\n\nuse lib '/data/fdr/scripts/irp/PDF-API2-2.031/lib';\nuse lib '/data/fdr/scripts/irp/PDF-Table-0.9.12/lib';\n\nuse PDF::API2;\nuse PDF::Table;\n\nmy %env_cfg;\n\nmy @inp_arg = @ARGV;\n\nmy ($ldlm,    $bid,     $lf,      $xf,      $hdrcnt,  $klm,  $sts,\n    $iR,      $iC,      $od,      $lst,     $csv,     $cell, $hdr_seq,\n    $key_cnt, $dat_rec, $dat_off, $dat_lmt, $len_cnt, $len_cnt1\n) = ( '', '', '', '', '', '', '', 0, 0, '', '', '', '', 0, 0, '', 0, 0, 0, 0 );\n\nmy ( $worksheet, $workbook, $fxls, $keyhdr, $dathdr, $dat_cnt, $csvcol )\n        = ( '', '', '', '', '', 0, 0 );\n\nmy @csv_rcd = ( '' );\n\nmy $header   = '';\nmy $data     = '';\nmy $somedata = [];\nmy $cellval  = '';\n\nmy $testfile = &quot;/data/fdr/scripts/config_file/test.txt&quot;;\n\n$sts = open( CSV, &quot;&lt; /data/fdr/output/IRP/FILING/1/Misc_Symbols.csv&quot; );\n\nif ( $sts == 0 ) {\n\n    print LOG tmstmp() . &quot;: Error opening CSV file Misc_Symbols.csv\\n&quot;;\n    print LOG &quot;$ldlm\\n&quot;;\n\n    next;\n}\n\nmy $pdftable = new PDF::Table;\nmy $pdf      = PDF::API2-&gt;new();\nmy $page     = $pdf-&gt;page();\n\n$page-&gt;mediabox( 'A4' );\n\nmy $font = $pdf-&gt;corefont( 'Helvetica-Bold' );\nmy $text = $page-&gt;text();\n\n$text-&gt;textstart;\n$text-&gt;font( $font, 12 );\n$text-&gt;translate( 200, 700 );\n\n$iR = -1;\n$iC = 0;\n\nwhile ( &lt;CSV&gt; ) {\n\n    $iR++;\n    $iC = 0;    # This is the column co-ordinate for the excel file\n\n    $csvcol = -1;    # This is the column co-ordinate for the csv file\n    $csv    = $_;\n\n    chomp( $csv );\n\n    $cellval = '';\n    @csv_rcd = split( ',', $csv );\n\n    foreach $cell ( @csv_rcd ) {\n\n        $csvcol++;\n\n        if ( ( ${cell} ne '*' ) ) {\n\n            if ( $iR &lt;= 5 ) {\n                $text-&gt;lead( 10 );\n                $text-&gt;section( &quot;${cell}&quot;, 500, 800 );\n            }\n            else {\n                $cellval = $cellval . $cell;\n                push( @$somedata, [ $cellval . ',' ] );\n\n            }\n\n        }\n        \n        $iC++;\n    }\n\n}\n\nclose CSV;\n\n$pdftable-&gt;table(\n\n    # required params\n    $pdf,\n    $page,\n    $somedata,\n\n    x       =&gt; 50,\n    w       =&gt; 495,\n    start_y =&gt; 792,\n    next_y  =&gt; 700,\n    start_h =&gt; 400,\n    next_h  =&gt; 500,\n\n    # some optional params\n    border          =&gt; 1,\n    font_size       =&gt; 20,\n    max_word_length =&gt; 20,\n    padding         =&gt; 5,\n    row_height      =&gt; 30,\n\n    column_props    =&gt; [\n        {},    # no properties for the first column\n        {   min_w            =&gt; 250,\n            justify          =&gt; &quot;right&quot;,\n            font             =&gt; $pdf-&gt;corefont( &quot;Times&quot;, -encoding =&gt; &quot;latin1&quot; ),\n            font_size        =&gt; 14,\n            font_color       =&gt; 'white',\n            background_color =&gt; '#8CA6C5',\n        },\n    ],\n);\n\n$text-&gt;textend;\n$pdf-&gt;saveas( &quot;Sample3.pdf&quot; );\n$pdf-&gt;end();\n</code></pre>\n"}, {"tags": ["perl", "find"], "comments": [{"owner": {"reputation": 1827, "user_id": 1303827, "user_type": "registered", "accept_rate": 64, "profile_image": "https://www.gravatar.com/avatar/46c6fe34f1fdce3edc463169a9b03763?s=128&d=identicon&r=PG", "display_name": "Tim S.", "link": "https://stackoverflow.com/users/1303827/tim-s"}, "edited": false, "score": 0, "creation_date": 1493227774, "post_id": 43640772, "comment_id": 74330028, "body": "The <code>-x</code> operator should check to see if a file exists and is executable. That isn&#39;t the case here (at least shouldn&#39;t be).. many of these files are txt files that are not executable, and are included in the results of the command."}, {"owner": {"reputation": 113221, "user_id": 100754, "user_type": "registered", "accept_rate": 90, "profile_image": "https://www.gravatar.com/avatar/7804ebae32fbadef38537d74a915c22f?s=128&d=identicon&r=PG", "display_name": "Sinan &#220;n&#252;r", "link": "https://stackoverflow.com/users/100754/sinan-%c3%9cn%c3%bcr"}, "edited": false, "score": 0, "creation_date": 1493228207, "post_id": 43640772, "comment_id": 74330277, "body": "In Perl documentation, <code>-X</code> is used as a placeholder for filetest operators. E.g., see <code>perldoc -f -X</code>"}, {"owner": {"reputation": 1827, "user_id": 1303827, "user_type": "registered", "accept_rate": 64, "profile_image": "https://www.gravatar.com/avatar/46c6fe34f1fdce3edc463169a9b03763?s=128&d=identicon&r=PG", "display_name": "Tim S.", "link": "https://stackoverflow.com/users/1303827/tim-s"}, "edited": false, "score": 0, "creation_date": 1493229097, "post_id": 43640772, "comment_id": 74330734, "body": "Ah yes, I just read about those -- I&#39;ve never seen nor used those before. Learn something new everyday... :)"}], "answers": [{"tags": [], "owner": {"reputation": 113221, "user_id": 100754, "user_type": "registered", "accept_rate": 90, "profile_image": "https://www.gravatar.com/avatar/7804ebae32fbadef38537d74a915c22f?s=128&d=identicon&r=PG", "display_name": "Sinan &#220;n&#252;r", "link": "https://stackoverflow.com/users/100754/sinan-%c3%9cn%c3%bcr"}, "is_accepted": false, "score": 5, "last_activity_date": 1493227966, "creation_date": 1493227966, "answer_id": 43640948, "question_id": 43640772, "link": "https://stackoverflow.com/questions/43640772/understanding-a-find2perl-result/43640948#43640948", "title": "Understanding a find2perl result", "body": "<p>The results of the <a href=\"http://perldoc.perl.org/functions/lstat.html\" rel=\"noreferrer\">lstat</a> call are cached. By using <code>_</code>, you avoid multiple lstat calls.</p>\n\n<blockquote>\n  <p>Does the same thing as the stat function (<strong><em>including setting the special <code>_</code> filehandle</em></strong>) but stats a symbolic link instead of the file the symbolic link points to ... (<em>emphasis mine</em>)</p>\n</blockquote>\n\n<p>From <a href=\"http://perldoc.perl.org/functions/stat.html\" rel=\"noreferrer\">stat</a>:</p>\n\n<blockquote>\n  <p>If <code>stat</code> is passed the special filehandle consisting of an underline, no <code>stat</code> is done, but the current contents of the <code>stat</code> structure from the last <code>stat</code>, <code>lstat</code>, or <code>filetest</code> are returned. </p>\n</blockquote>\n"}, {"comments": [{"owner": {"reputation": 50468, "user_id": 1331451, "user_type": "registered", "accept_rate": 96, "profile_image": "https://i.stack.imgur.com/4ZPmj.png?s=128&g=1", "display_name": "simbabque", "link": "https://stackoverflow.com/users/1331451/simbabque"}, "edited": false, "score": 0, "creation_date": 1493228502, "post_id": 43640985, "comment_id": 74330443, "body": "I also just found it, but got distracted so couldn&#39;t write it up. It&#39;s really nicely hidden."}, {"owner": {"reputation": 1827, "user_id": 1303827, "user_type": "registered", "accept_rate": 64, "profile_image": "https://www.gravatar.com/avatar/46c6fe34f1fdce3edc463169a9b03763?s=128&d=identicon&r=PG", "display_name": "Tim S.", "link": "https://stackoverflow.com/users/1303827/tim-s"}, "edited": false, "score": 0, "creation_date": 1493228643, "post_id": 43640985, "comment_id": 74330514, "body": "So the reason its <code>_</code> and not <code>$_</code> is just because it&#39;s coming from <code>lstat</code>, is that right?"}, {"owner": {"reputation": 52821, "user_id": 632407, "user_type": "registered", "accept_rate": 86, "profile_image": "https://i.stack.imgur.com/AfGWW.jpg?s=128&g=1", "display_name": "jm666", "link": "https://stackoverflow.com/users/632407/jm666"}, "reply_to_user": {"reputation": 1827, "user_id": 1303827, "user_type": "registered", "accept_rate": 64, "profile_image": "https://www.gravatar.com/avatar/46c6fe34f1fdce3edc463169a9b03763?s=128&d=identicon&r=PG", "display_name": "Tim S.", "link": "https://stackoverflow.com/users/1303827/tim-s"}, "edited": false, "score": 0, "creation_date": 1493228724, "post_id": 43640985, "comment_id": 74330551, "body": "@TimS. yes, but more additional informations are <a href=\"https://perldoc.perl.org/filetest.html\" rel=\"nofollow noreferrer\">in this doc too</a>"}, {"owner": {"reputation": 1827, "user_id": 1303827, "user_type": "registered", "accept_rate": 64, "profile_image": "https://www.gravatar.com/avatar/46c6fe34f1fdce3edc463169a9b03763?s=128&d=identicon&r=PG", "display_name": "Tim S.", "link": "https://stackoverflow.com/users/1303827/tim-s"}, "edited": false, "score": 0, "creation_date": 1493229161, "post_id": 43640985, "comment_id": 74330758, "body": "@jm666 thanks -- very helpful. I&#39;ve done tons of filetests in bash/sh, but hadn&#39;t had a lot of experience with them in perl. It explains a lot."}, {"owner": {"reputation": 52821, "user_id": 632407, "user_type": "registered", "accept_rate": 86, "profile_image": "https://i.stack.imgur.com/AfGWW.jpg?s=128&g=1", "display_name": "jm666", "link": "https://stackoverflow.com/users/632407/jm666"}, "reply_to_user": {"reputation": 1827, "user_id": 1303827, "user_type": "registered", "accept_rate": 64, "profile_image": "https://www.gravatar.com/avatar/46c6fe34f1fdce3edc463169a9b03763?s=128&d=identicon&r=PG", "display_name": "Tim S.", "link": "https://stackoverflow.com/users/1303827/tim-s"}, "edited": false, "score": 1, "creation_date": 1493229333, "post_id": 43640985, "comment_id": 74330864, "body": "@TimS. yvw. Fortunately, the perl documentation is really excellent. (Just take much time to read thru all) :)"}, {"owner": {"reputation": 50468, "user_id": 1331451, "user_type": "registered", "accept_rate": 96, "profile_image": "https://i.stack.imgur.com/4ZPmj.png?s=128&g=1", "display_name": "simbabque", "link": "https://stackoverflow.com/users/1331451/simbabque"}, "edited": false, "score": 1, "creation_date": 1493231778, "post_id": 43640985, "comment_id": 74332375, "body": "Yeah well, try grepping for an underscore in perldoc... :)"}, {"owner": {"reputation": 1827, "user_id": 1303827, "user_type": "registered", "accept_rate": 64, "profile_image": "https://www.gravatar.com/avatar/46c6fe34f1fdce3edc463169a9b03763?s=128&d=identicon&r=PG", "display_name": "Tim S.", "link": "https://stackoverflow.com/users/1303827/tim-s"}, "reply_to_user": {"reputation": 50468, "user_id": 1331451, "user_type": "registered", "accept_rate": 96, "profile_image": "https://i.stack.imgur.com/4ZPmj.png?s=128&g=1", "display_name": "simbabque", "link": "https://stackoverflow.com/users/1331451/simbabque"}, "edited": false, "score": 0, "creation_date": 1493231950, "post_id": 43640985, "comment_id": 74332473, "body": "@simbabque Exactly.. some specific things are extremely difficult to search for in docs."}, {"owner": {"reputation": 50468, "user_id": 1331451, "user_type": "registered", "accept_rate": 96, "profile_image": "https://i.stack.imgur.com/4ZPmj.png?s=128&g=1", "display_name": "simbabque", "link": "https://stackoverflow.com/users/1331451/simbabque"}, "reply_to_user": {"reputation": 1827, "user_id": 1303827, "user_type": "registered", "accept_rate": 64, "profile_image": "https://www.gravatar.com/avatar/46c6fe34f1fdce3edc463169a9b03763?s=128&d=identicon&r=PG", "display_name": "Tim S.", "link": "https://stackoverflow.com/users/1303827/tim-s"}, "edited": false, "score": 0, "creation_date": 1493232057, "post_id": 43640985, "comment_id": 74332536, "body": "@TimS. if we disregard the actual perldoc, <a href=\"http://grep.cpan.me\" rel=\"nofollow noreferrer\">grep.cpan.me</a> is a really nice tool for that kind of thing though."}], "tags": [], "owner": {"reputation": 52821, "user_id": 632407, "user_type": "registered", "accept_rate": 86, "profile_image": "https://i.stack.imgur.com/AfGWW.jpg?s=128&g=1", "display_name": "jm666", "link": "https://stackoverflow.com/users/632407/jm666"}, "is_accepted": false, "score": 4, "last_activity_date": 1493228131, "last_edit_date": 1493228131, "creation_date": 1493228102, "answer_id": 43640985, "question_id": 43640772, "link": "https://stackoverflow.com/questions/43640772/understanding-a-find2perl-result/43640985#43640985", "title": "Understanding a find2perl result", "body": "<p>From the <a href=\"https://perldoc.perl.org/functions/-X.html\" rel=\"nofollow noreferrer\">docs for the -X functions</a>:</p>\n\n<blockquote>\n  <p>-M  Script start time minus file modification time, in days.</p>\n</blockquote>\n\n<p>The special filehandle <code>_</code> caches the last file stats, so any subsequent use of the <code>-X _</code> will use the cached values.</p>\n"}], "owner": {"reputation": 1827, "user_id": 1303827, "user_type": "registered", "accept_rate": 64, "profile_image": "https://www.gravatar.com/avatar/46c6fe34f1fdce3edc463169a9b03763?s=128&d=identicon&r=PG", "display_name": "Tim S.", "link": "https://stackoverflow.com/users/1303827/tim-s"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 191, "favorite_count": 0, "answer_count": 2, "score": 4, "last_activity_date": 1493228131, "creation_date": 1493227387, "question_id": 43640772, "link": "https://stackoverflow.com/questions/43640772/understanding-a-find2perl-result", "title": "Understanding a find2perl result", "body": "<p>I have been working on a script that will recursive search a filesystem and delete any file (no directories) that is older than 20 days. I used the <code>find2perl</code> command (that is part of <a href=\"http://search.cpan.org/~shay/perl-5.24.1/ext/File-Find/lib/File/Find.pm\" rel=\"nofollow noreferrer\">File::Find</a>) and this was the result. (I noted that it didn't understand the <code>-delete</code> option, so I had to use the old <code>-exec...</code> option instead.)</p>\n\n<p>(parts of the script truncated)</p>\n\n<pre><code>sub delete_old_files {\n    my ($dev,$ino,$mode,$nlink,$uid,$gid);\n\n    (($dev,$ino,$mode,$nlink,$uid,$gid) = lstat($_)) &amp;&amp;\n    -f _ &amp;&amp;\n    (int(-M _) &gt; 20) &amp;&amp;\n    unlink($_);\n}\n</code></pre>\n\n<p>I understand the <code>lstat</code> part, the <code>-f</code> file check, and the <code>unlink</code>, but I'm not sure how the <code>(int(-M _) &gt; 20)</code> works. Obviously it is checking for modified date within 20 days, but I've never seen that syntax before, and curious to understand where it comes from and how it works. I'm also curious how it can reference the iterator as a plain underscore without using <code>$_</code> for the <code>-f</code> and the time check piece.</p>\n"}, {"tags": ["excel", "perl", "listbox"], "answers": [{"tags": [], "owner": {"reputation": 43, "user_id": 7385080, "user_type": "registered", "profile_image": "https://lh6.googleusercontent.com/-RSBdFYzBgi4/AAAAAAAAAAI/AAAAAAAAAAs/HSVCicH0aa0/photo.jpg?sz=128", "display_name": "Christopher Collins", "link": "https://stackoverflow.com/users/7385080/christopher-collins"}, "is_accepted": false, "score": 0, "last_activity_date": 1493231883, "creation_date": 1493231883, "answer_id": 43642093, "question_id": 43639364, "link": "https://stackoverflow.com/questions/43639364/create-a-listbox-in-excel-using-perl/43642093#43642093", "title": "Create a ListBox in Excel using Perl", "body": "<p>The module does provide a framwork to use vba</p>\n\n<p>from the doc\n\"An example of adding macros to an Excel::Writer::XLSX file using a VBA project file extracted from an existing Excel xlsm file.</p>\n\n<p>The extract_vba utility supplied with Excel::Writer::XLSX can be used to extract the vbaProject.bin file.\"</p>\n\n<p>An embedded macro is connected to a form button on the worksheet.</p>\n\n<p>Take a look at <a href=\"http://search.cpan.org/~jmcnamara/Excel-Writer-XLSX/lib/Excel/Writer/XLSX/Examples.pm#Example:_macros.pl\" rel=\"nofollow noreferrer\">marco</a></p>\n"}], "owner": {"reputation": 9, "user_id": 7926553, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/a04cac89e7e227d5fdac558fde24ff5d?s=128&d=identicon&r=PG&f=1", "display_name": "soupbum", "link": "https://stackoverflow.com/users/7926553/soupbum"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 43, "favorite_count": 0, "answer_count": 1, "score": -2, "last_activity_date": 1493231883, "creation_date": 1493222774, "question_id": 43639364, "link": "https://stackoverflow.com/questions/43639364/create-a-listbox-in-excel-using-perl", "title": "Create a ListBox in Excel using Perl", "body": "<p>I have a excel spreadsheet that I've created with Perl (Excel::Writer::XLSX) and I'm needing to add a ListBox, but I'm not sure how to do that.</p>\n"}, {"tags": ["perl"], "comments": [{"owner": {"reputation": 123805, "user_id": 622310, "user_type": "registered", "accept_rate": 33, "profile_image": "https://www.gravatar.com/avatar/8b6d35219e1808520bc238b28161e2e6?s=128&d=identicon&r=PG", "display_name": "Borodin", "link": "https://stackoverflow.com/users/622310/borodin"}, "edited": false, "score": 0, "creation_date": 1493226965, "post_id": 43639259, "comment_id": 74329527, "body": "<i>&quot;Note: Yes, there are spaces in the file in front of network-object group&quot;</i> Thank you for that."}], "answers": [{"tags": [], "owner": {"reputation": 52334, "user_id": 702638, "user_type": "registered", "accept_rate": 98, "profile_image": "https://www.gravatar.com/avatar/892f65bc0a8a0949ab88598de7d83cab?s=128&d=identicon&r=PG", "display_name": "Hunter McMillen", "link": "https://stackoverflow.com/users/702638/hunter-mcmillen"}, "is_accepted": false, "score": 1, "last_activity_date": 1493225717, "last_edit_date": 1493225717, "creation_date": 1493223058, "answer_id": 43639453, "question_id": 43639259, "link": "https://stackoverflow.com/questions/43639259/perl-how-to-extract-multiple-lines/43639453#43639453", "title": "Perl - how to extract multiple lines", "body": "<p>A simple solution would be to use the <a href=\"http://perldoc.perl.org/perlop.html#Range-Operators\" rel=\"nofollow noreferrer\"><code>..</code></a> operator to gather lines between a set start and end point (e.g group2 .. group3+1). Have to go one group further to ensure that all lines are grabbed then remove that last line. This solution assumes that the groups you want to capture will always be in order. </p>\n\n<pre><code>#!perl\n\nuse strict;\nuse warnings;\n\nwhile (readline(*DATA)) {\n  next unless /group2\\b/ .. /group4\\b/;\n  last if /group4/;\n  print;\n}\n\n__DATA__\nobject-group network group1\n network-object host 10.254.3.120\n network-object host 10.254.3.121\n network-object host 10.254.3.122\nobject-group network group2\n network-object host 192.168.150.63\n network-object host 192.168.150.64\n network-object host 192.168.150.76\nobject-group network group3\n network-object host 10.241.150.63\n network-object host 10.241.150.64\nobject-group network group4\n network-object host 10.9.11.45\n network-object host 10.9.11.10\n</code></pre>\n\n<p>You could generalize this in a subroutine that accepted the text, starting group, and ending group.</p>\n"}, {"tags": [], "owner": {"reputation": 320771, "user_id": 589924, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/b2cf53d5a3d25f95c0db4e025aed4153?s=128&d=identicon&r=PG", "display_name": "ikegami", "link": "https://stackoverflow.com/users/589924/ikegami"}, "is_accepted": false, "score": 2, "last_activity_date": 1493228680, "last_edit_date": 1493228680, "creation_date": 1493223363, "answer_id": 43639566, "question_id": 43639259, "link": "https://stackoverflow.com/questions/43639259/perl-how-to-extract-multiple-lines/43639566#43639566", "title": "Perl - how to extract multiple lines", "body": "<p>Generic approach for grouping lines without reading the entire file into memory:</p>\n\n<pre><code>my @buf;\nwhile (1) {\n   my $line = &lt;&gt;;\n   if (!defined($line) || $line !~ /^ /) {\n      if (@buf) {\n         ...\n      }\n\n      last if !defined($line);\n\n      @buf = ();\n   }\n\n   push @buf, $line;\n}\n</code></pre>\n\n<p>In this case, replace the missing part with</p>\n\n<pre><code>print @buf\n   if $buf[0] =~ /^object-group\\s+network\\s+\\w*group456/;\n</code></pre>\n\n<hr>\n\n<p>It's simpler if you read the entire file into memory.</p>\n\n<pre><code>my $file = do { local $/; &lt;&gt; };\n\nprint\n   for\n      grep { /^object-group\\s+network\\s+\\w*group456/ }\n         split(/^(?! )/m, $file);\n</code></pre>\n\n<hr>\n\n<p>Unlike the earlier answer, these approaches don't require the blocks to be one after the other, and it doesn't require knowledge of what the next block will be.</p>\n"}, {"comments": [{"owner": {"reputation": 151, "user_id": 1060641, "user_type": "registered", "accept_rate": 50, "profile_image": "https://www.gravatar.com/avatar/9bf83e5fc885ded7592711d7569a6389?s=128&d=identicon&r=PG", "display_name": "user1060641", "link": "https://stackoverflow.com/users/1060641/user1060641"}, "edited": false, "score": 0, "creation_date": 1493228137, "post_id": 43640823, "comment_id": 74330237, "body": "That is exactly what I was looking for. The firewall file is about 7500 lines and it will be searched by only a few people so I don&#39;t really worry if it&#39;s ugly or resource heavy. Really appreciate the help, thank you!"}, {"owner": {"reputation": 123805, "user_id": 622310, "user_type": "registered", "accept_rate": 33, "profile_image": "https://www.gravatar.com/avatar/8b6d35219e1808520bc238b28161e2e6?s=128&d=identicon&r=PG", "display_name": "Borodin", "link": "https://stackoverflow.com/users/622310/borodin"}, "reply_to_user": {"reputation": 151, "user_id": 1060641, "user_type": "registered", "accept_rate": 50, "profile_image": "https://www.gravatar.com/avatar/9bf83e5fc885ded7592711d7569a6389?s=128&d=identicon&r=PG", "display_name": "user1060641", "link": "https://stackoverflow.com/users/1060641/user1060641"}, "edited": false, "score": 0, "creation_date": 1493228346, "post_id": 43640823, "comment_id": 74330349, "body": "@user1060641: It may be ugly, but it&#39;s extremely light on resources. Only a few KB of the file is read into memory at a time, and it will run about as fast as the data can be retrieved from the disk."}], "tags": [], "owner": {"reputation": 123805, "user_id": 622310, "user_type": "registered", "accept_rate": 33, "profile_image": "https://www.gravatar.com/avatar/8b6d35219e1808520bc238b28161e2e6?s=128&d=identicon&r=PG", "display_name": "Borodin", "link": "https://stackoverflow.com/users/622310/borodin"}, "is_accepted": true, "score": 1, "last_activity_date": 1493228293, "last_edit_date": 1493228293, "creation_date": 1493227545, "answer_id": 43640823, "question_id": 43639259, "link": "https://stackoverflow.com/questions/43639259/perl-how-to-extract-multiple-lines/43640823#43640823", "title": "Perl - how to extract multiple lines", "body": "\n\n<p>This solution uses the functional but ugly state flag technique</p>\n\n<p>The input file is read a line at a time, and the variable <code>$print</code> (initially <em>false</em>) is set to <em>true</em> if a line is encountered that begins with a non-space character and contains <code>group456</code></p>\n\n<p>Every line is printed as long as <code>$print</code> is <em>true</em></p>\n\n<p>Note that <code>use autodie</code> obviates the need for checking whether the <code>open</code> was successful</p>\n\n<pre class=\"lang-perl prettyprint-override\"><code>use strict;\nuse warnings 'all';\nuse autodie;\n\nuse constant FILE =&gt; 'firewall.cfg';\n\nopen my $fh, '&lt;', FILE;\n\nmy $print = 0;\n\nwhile ( &lt;$fh&gt; ) {\n\n    $print = /group456/ if /^\\S/;\n\n    print if $print;\n}\n</code></pre>\n\n<h3>output</h3>\n\n<pre class=\"lang-none prettyprint-override\"><code>object-group network group456_local\n network-object host 192.168.150.63\n network-object host 192.168.150.64\n network-object host 192.168.150.76\nobject-group network group456_proxy\n network-object host 10.241.150.63\n network-object host 10.241.150.64\n network-object host 10.241.150.65\n</code></pre>\n"}], "owner": {"reputation": 151, "user_id": 1060641, "user_type": "registered", "accept_rate": 50, "profile_image": "https://www.gravatar.com/avatar/9bf83e5fc885ded7592711d7569a6389?s=128&d=identicon&r=PG", "display_name": "user1060641", "link": "https://stackoverflow.com/users/1060641/user1060641"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 54, "favorite_count": 0, "accepted_answer_id": 43640823, "answer_count": 3, "score": 0, "last_activity_date": 1493228680, "creation_date": 1493222512, "last_edit_date": 1493227214, "question_id": 43639259, "link": "https://stackoverflow.com/questions/43639259/perl-how-to-extract-multiple-lines", "title": "Perl - how to extract multiple lines", "body": "<p>I have a text file formatted like this (it's a Cisco firewall config file):</p>\n\n<pre>\nobject-group network group21\n network-object host 10.254.3.120\n network-object host 10.254.3.121\n network-object host 10.254.3.122\nobject-group network group456_local\n network-object host 192.168.150.63\n network-object host 192.168.150.64\n network-object host 192.168.150.76\nobject-group network group456_proxy\n network-object host 10.241.150.63\n network-object host 10.241.150.64\n network-object host 10.241.150.65\nobject-group network group154\n network-object host 10.9.11.45\n network-object host 10.9.11.10</pre>\n\n<p>Note: Yes, there are spaces in the file in front of network-object group.\n<br><br>\nUsing Perl, how can I extract all lines from the object group if it contains word group456? What I'm trying to do is search the whole config file and if there's a word called group456, the output print should be:</p>\n\n<pre>\nobject-group network group456_local\n network-object host 192.168.150.63\n network-object host 192.168.150.64\n network-object host 192.168.150.76\nobject-group network group456_proxy\n network-object host 10.241.150.63\n network-object host 10.241.150.64\n network-object host 10.241.150.65\n</pre>\n\n<p>Thank you in advance for your help.</p>\n"}, {"tags": ["perl"], "answers": [{"tags": [], "owner": {"reputation": 5923, "user_id": 2105156, "user_type": "registered", "accept_rate": 76, "profile_image": "https://i.stack.imgur.com/oRMc0.jpg?s=128&g=1", "display_name": "fugu", "link": "https://stackoverflow.com/users/2105156/fugu"}, "is_accepted": false, "score": 1, "last_activity_date": 1493219612, "creation_date": 1493219612, "answer_id": 43638165, "question_id": 43638092, "link": "https://stackoverflow.com/questions/43638092/perl-remove-leading-and-on-a-line/43638165#43638165", "title": "perl remove leading @ and = on a line", "body": "<p>You can do this by substituting lines starting (<code>^</code>) with a <code>@</code> or <code>=</code> (<code>[@=]</code>):</p>\n\n<pre><code>perl -lane 's/^[@=]//g; print ' file.txt\n</code></pre>\n"}, {"comments": [{"owner": {"reputation": 19969, "user_id": 23512, "user_type": "registered", "accept_rate": 56, "profile_image": "https://i.stack.imgur.com/tUj1I.png?s=128&g=1", "display_name": "Tanktalus", "link": "https://stackoverflow.com/users/23512/tanktalus"}, "edited": false, "score": 1, "creation_date": 1493223756, "post_id": 43638184, "comment_id": 74327650, "body": "<code>s&#47;^([@=]+)&#47;&quot; &quot;x length $1&#47;e</code> gets the spaces and avoids the while :)"}], "tags": [], "owner": {"reputation": 50468, "user_id": 1331451, "user_type": "registered", "accept_rate": 96, "profile_image": "https://i.stack.imgur.com/4ZPmj.png?s=128&g=1", "display_name": "simbabque", "link": "https://stackoverflow.com/users/1331451/simbabque"}, "is_accepted": true, "score": 6, "last_activity_date": 1493278568, "last_edit_date": 1495540468, "creation_date": 1493219665, "answer_id": 43638184, "question_id": 43638092, "link": "https://stackoverflow.com/questions/43638092/perl-remove-leading-and-on-a-line/43638184#43638184", "title": "perl remove leading @ and = on a line", "body": "<p>Doing that with a <code>substr</code> is a lot of overhead. Just use a regular expression substitution with <a href=\"http://perldoc.perl.org/functions/s.html\" rel=\"nofollow noreferrer\"><code>s///</code></a>.</p>\n\n<pre><code>while (my $line = &lt;DATA&gt;) {\n    $line =~ s/^[@=]+//;\n    print $line;\n}\n\n__DATA__\n@word &lt;= Remove @\n=word &lt;= Remove =\n@=word &lt;= Remove @ AND =\n=@word &lt;= Remove = AND @\n=@==@=@=@@word &lt;= Remove all the = and @\n</code></pre>\n\n<p>The pattern here is <code>/^[@=]+/</code>, which means _the beginning of the string, and then one or more of either <code>@</code> or <code>=</code>. You can use <a href=\"https://regex101.com/r/sKcJp5/1\" rel=\"nofollow noreferrer\">regex101.com for a more detailed explanation</a> of the pattern. It removes them, like your question said. </p>\n\n<p>The output is:</p>\n\n<pre><code>word &lt;= Remove @\nword &lt;= Remove =\nword &lt;= Remove @ AND =\nword &lt;= Remove = AND @\nword &lt;= Remove all the = and @\n</code></pre>\n\n<hr>\n\n<p>If you want to instead replace with spaces like your code did, you need to do something more complicated.</p>\n\n<pre><code>s/^([@=]+)/\" \"x length $1/e;\n</code></pre>\n\n<p>This solution <a href=\"https://stackoverflow.com/questions/43638092/perl-remove-leading-and-on-a-line/43638184?noredirect=1#comment74327650_43638184\">suggested by Tanktalus</a> makes use of the <code>/e</code> modifier, which lets you place Perl code in the substitution part of the <code>s///</code>. <a href=\"http://perldoc.perl.org/perlop.html#Multiplicative-Operators\" rel=\"nofollow noreferrer\">The <code>x</code> operator</a> repeats a string <em>n</em> times. We use it to replace the whole amount of <code>@</code> and <code>=</code> at once (note the <code>+</code>) with the empty string repeated as many times as the captured string had characters.</p>\n\n<p>If you prefer a solution without the <code>/e</code> modifier, keep reading.</p>\n\n<pre><code>1 while $line =~ s/^(\\s*)[@=]/$1 /;\n</code></pre>\n\n<p>We capture <code>()</code> zero or more whitespace <code>\\s</code>, and also match exactly one of either <code>@</code> or <code>=</code>, all anchored to the beginning of the string <code>^</code>. Then we replace that with the capture <code>$1</code> from the <code>()</code>, and a blank. </p>\n\n<p>We run this substitution as the condition for a <code>while</code> loop, because we want it to reset the position of the regex engine after every try, as the beginning of the string has changed. The <code>1 while</code> <a href=\"https://en.wikipedia.org/wiki/Postfix_(software)\" rel=\"nofollow noreferrer\"><em>post-fix</em> syntax</a> is just a short way of writing:</p>\n\n<pre><code>while ( $line =~ s/^(\\s*)[@=]/$1 / ) {\n   # do nothing\n}\n</code></pre>\n\n<p>The output of the code, run with the same program as above, is:</p>\n\n<pre><code> word &lt;= Remove @\n word &lt;= Remove =\n  word &lt;= Remove @ AND =\n  word &lt;= Remove = AND @\n          word &lt;= Remove all the = and @\n</code></pre>\n\n<p>To see why this is doing what it's doing, try this:</p>\n\n<pre><code>while (my $line = &lt;DATA&gt;) {\n    print $line;\n    print $line while $line =~ s/^(\\s*)[@=]/$1 /;\n}\n</code></pre>\n\n<p>You'll see how it's starting over with every iteration of that <code>1 while ...</code> loop.</p>\n\n<pre><code>@word &lt;= Remove @\n word &lt;= Remove @\n=word &lt;= Remove =\n word &lt;= Remove =\n@=word &lt;= Remove @ AND =\n =word &lt;= Remove @ AND =\n  word &lt;= Remove @ AND =\n=@word &lt;= Remove = AND @\n @word &lt;= Remove = AND @\n  word &lt;= Remove = AND @\n=@==@=@=@@word &lt;= Remove all the = and @\n @==@=@=@@word &lt;= Remove all the = and @\n  ==@=@=@@word &lt;= Remove all the = and @\n   =@=@=@@word &lt;= Remove all the = and @\n    @=@=@@word &lt;= Remove all the = and @\n     =@=@@word &lt;= Remove all the = and @\n      @=@@word &lt;= Remove all the = and @\n       =@@word &lt;= Remove all the = and @\n        @@word &lt;= Remove all the = and @\n         @word &lt;= Remove all the = and @\n          word &lt;= Remove all the = and @\n</code></pre>\n"}], "owner": {"reputation": 425, "user_id": 5682871, "user_type": "registered", "accept_rate": 65, "profile_image": "https://www.gravatar.com/avatar/1fc8f64bc201bcdd81c16d90f66a4dc1?s=128&d=identicon&r=PG&f=1", "display_name": "Whin3", "link": "https://stackoverflow.com/users/5682871/whin3"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 260, "favorite_count": 0, "accepted_answer_id": 43638184, "answer_count": 2, "score": 1, "last_activity_date": 1493278568, "creation_date": 1493219400, "question_id": 43638092, "link": "https://stackoverflow.com/questions/43638092/perl-remove-leading-and-on-a-line", "title": "perl remove leading @ and = on a line", "body": "<p>I am new to perl scripting and I would like to remove some characters that can be at a beginning of a line. The characters I would like to remove are @ and/or =</p>\n\n<p>Here is a file example :</p>\n\n<pre><code>@word &lt;= Remove @\n=word &lt;= Remove =\n@=word &lt;= Remove @ AND =\n=@word &lt;= Remove = AND @\n=@==@=@=@@word &lt;= Remove all the = and @\n</code></pre>\n\n<p>At the moment, I use <code>substr($line, 0, 1, \" \") if \"@\" eq substr($line, 0, 1);</code> but it only removes the first <code>@</code>. How can I edit this line so it removes all the leading <code>@</code> and <code>=</code> ?</p>\n"}, {"tags": ["json", "perl", "hash"], "comments": [{"owner": {"reputation": 50468, "user_id": 1331451, "user_type": "registered", "accept_rate": 96, "profile_image": "https://i.stack.imgur.com/4ZPmj.png?s=128&g=1", "display_name": "simbabque", "link": "https://stackoverflow.com/users/1331451/simbabque"}, "edited": false, "score": 1, "creation_date": 1493213781, "post_id": 43635742, "comment_id": 74319786, "body": "Is the structure of the second type always like that? Do you want to check every hash in that structure, including the top level, or only the ones inside of the array ref?"}, {"owner": {"reputation": 113221, "user_id": 100754, "user_type": "registered", "accept_rate": 90, "profile_image": "https://www.gravatar.com/avatar/7804ebae32fbadef38537d74a915c22f?s=128&d=identicon&r=PG", "display_name": "Sinan &#220;n&#252;r", "link": "https://stackoverflow.com/users/100754/sinan-%c3%9cn%c3%bcr"}, "edited": false, "score": 0, "creation_date": 1493215511, "post_id": 43635742, "comment_id": 74321231, "body": "Having a single function deal with widely different types of data seems weird. However, without knowing more about context, it is not easy to give an appropriate recommendation. Is canonicalizing the data structures the right answer? Or, is it better to write different functions to handle different data structures? Answers to those and similar questions can only be given with a better understanding of the context surrounding this problem."}, {"owner": {"reputation": 123805, "user_id": 622310, "user_type": "registered", "accept_rate": 33, "profile_image": "https://www.gravatar.com/avatar/8b6d35219e1808520bc238b28161e2e6?s=128&d=identicon&r=PG", "display_name": "Borodin", "link": "https://stackoverflow.com/users/622310/borodin"}, "edited": false, "score": 0, "creation_date": 1493238861, "post_id": 43635742, "comment_id": 74336382, "body": "Nearly 100 words to say &quot;I don&#39;t know&quot;?"}], "answers": [{"tags": [], "owner": {"reputation": 50468, "user_id": 1331451, "user_type": "registered", "accept_rate": 96, "profile_image": "https://i.stack.imgur.com/4ZPmj.png?s=128&g=1", "display_name": "simbabque", "link": "https://stackoverflow.com/users/1331451/simbabque"}, "is_accepted": false, "score": 3, "last_activity_date": 1493214620, "creation_date": 1493214620, "answer_id": 43636160, "question_id": 43635742, "link": "https://stackoverflow.com/questions/43635742/perl-checking-various-types-of-hash-for-empty-key-values-json/43636160#43636160", "title": "Perl, checking various types of hash for empty key values, json", "body": "<p>You could use <a href=\"https://metacpan.org/pod/Data::Visitor::Callback\" rel=\"nofollow noreferrer\">Data::Visitor::Callback</a> to do that. It's a pretty straight-forward implementation, as long as there are no other things that contain empty strings in your data structure.</p>\n\n<p>The module visits each item in a data structure and calls user-defined callbacks on those items. It will do that for every ref and every value in those refs.</p>\n\n<pre><code>use strict;\nuse warnings;\nuse Data::Visitor::Callback;\n\nmy %ch1 = (\n    \"a\" =&gt; \"\",\n    \"b\" =&gt; \"\",\n    \"c\" =&gt; \"\"\n);\n\nmy $empty_strings;\nmy $v = Data::Visitor::Callback-&gt;new(\n    value =&gt; sub {\n        ++$empty_strings if $_ eq q{}; # q{} is like '' but easier to read\n    },\n);\n\n$v-&gt;visit( \\%ch1 );\nprint $empty_strings;\n</code></pre>\n\n<p>This will output <code>3</code>, as there are three empty strings in the input hash. Note that it wants a hash reference, not the hash itself.</p>\n\n<p>You can just as well pass in a more complex data structure. The layout does not really matter. I've added an empty string to your second example to show that it works.</p>\n\n<pre><code>use strict;\nuse warnings;\nuse Data::Visitor::Callback;\n\nmy $empty_strings;\nmy $v = Data::Visitor::Callback-&gt;new(\n    value =&gt; sub {\n        ++$empty_strings if $_ eq q{};\n    },\n);\n\nmy %ch2 = (\n    \"tab\" =&gt; [\n        {\n            \"a\" =&gt; 11,\n            \"b\" =&gt; 22,\n            \"c\" =&gt; 33\n        },\n        {\n            \"a\" =&gt; '',\n            \"b\" =&gt; 55,\n            \"c\" =&gt; 66\n        }\n    ]\n);\n\n$v-&gt;visit( \\%ch2 );\nprint $empty_strings;\n</code></pre>\n\n<p>In this case, the output is <code>1</code>.</p>\n\n<p>Because there is no easy way to distinguish if a value it looks at is a key or a value, the following things would also be counted with this implementation. So it's not perfect, but should work for the type of data you showed.</p>\n\n<pre><code>my %fail = (\n    \"\"  =&gt; \"foo\",        # one\n    \"b\" =&gt; [ \"\", \"\" ],   # two, three\n);\n</code></pre>\n\n<p>This data structure would yield a <code>$empty_strings</code> count of <code>3</code>.</p>\n"}, {"tags": [], "owner": {"reputation": 113221, "user_id": 100754, "user_type": "registered", "accept_rate": 90, "profile_image": "https://www.gravatar.com/avatar/7804ebae32fbadef38537d74a915c22f?s=128&d=identicon&r=PG", "display_name": "Sinan &#220;n&#252;r", "link": "https://stackoverflow.com/users/100754/sinan-%c3%9cn%c3%bcr"}, "is_accepted": false, "score": 0, "last_activity_date": 1493217087, "last_edit_date": 1493217087, "creation_date": 1493216354, "answer_id": 43636862, "question_id": 43635742, "link": "https://stackoverflow.com/questions/43635742/perl-checking-various-types-of-hash-for-empty-key-values-json/43636862#43636862", "title": "Perl, checking various types of hash for empty key values, json", "body": "<p>I am not confident that I understand the problem correctly, but assuming those are the only two types of data structures your program needs to be able to handle, here is one way of doing something with them:</p>\n\n<pre><code>#!/usr/bin/env perl\n\nuse strict;\nuse warnings;\n\nuse List::MoreUtils qw( all none );\n\nmy %ch1 = (\n    \"a\" =&gt; \"\",\n    \"b\" =&gt; \"\",\n    \"c\" =&gt; \"\"\n);\n\nmy %ch2 = (\n    \"tab\" =&gt; [\n        {\n            \"a\" =&gt; 11,\n            \"b\" =&gt; 22,\n            \"c\" =&gt; 33\n        },\n        {\n            \"a\" =&gt; 44,\n            \"b\" =&gt; 55,\n            \"c\" =&gt; 66\n        }\n    ]\n);\n\nuse YAML::XS;\nfor my $h ( \\(%ch1, %ch2) ) {\n    print Dump n_keys_empty_values( $h );\n}\n\nsub n_keys_empty_values {\n    my $h = shift;\n\n    if ( all { ref } values %$h ) {\n        return [ map { my $v = $_; map count_empty_values( $_ ), @$v } values %$h ]\n    }\n    elsif ( none { ref } values %$h ){\n        return [ count_empty_values( $h ) ];\n    }\n    else {\n        die \"Unexpected data structure\\n\";\n    }\n}\n\nsub count_empty_values {\n    my $h = shift;\n    [ scalar keys %$h, scalar grep $_ eq '', values %$h ];\n}\n</code></pre>\n\n<p>Output:</p>\n\n<pre>---\n- - 3\n  - 3\n---\n- - 3\n  - 0\n- - 3\n  - 0</pre>\n\n<p>The return value of <code>n_keys_empty_values</code> is a reference to an array of array references. The size of the outer array corresponds to the number of inner hashes passed. <code>count_empty_values</code> takes a reference to a hash and counts the number of keys and number of values which are empty strings.</p>\n"}, {"tags": [], "owner": {"reputation": 16645, "user_id": 402322, "user_type": "registered", "accept_rate": 67, "profile_image": "https://i.stack.imgur.com/GWEWt.gif?s=128&g=1", "display_name": "ceving", "link": "https://stackoverflow.com/users/402322/ceving"}, "is_accepted": false, "score": 0, "last_activity_date": 1493218293, "creation_date": 1493218293, "answer_id": 43637613, "question_id": 43635742, "link": "https://stackoverflow.com/questions/43635742/perl-checking-various-types-of-hash-for-empty-key-values-json/43637613#43637613", "title": "Perl, checking various types of hash for empty key values, json", "body": "<p>Write your function in that way, that it iterates over the argument list.  Then you can pass either a single hash <code>\\%ch1</code> or a list of hashes <code>@{$ch2{tab}}</code> to the function.</p>\n\n<pre><code>#! /usr/bin/perl\nuse strict;\nuse warnings;\n\nmy %ch1 = (\n    \"a\" =&gt; \"\",\n    \"b\" =&gt; \"\",\n    \"c\" =&gt; \"\"\n);\n\nmy %ch2 = (\n    \"tab\" =&gt; [\n        {\n            \"a\" =&gt; 11,\n            \"b\" =&gt; 22,\n            \"c\" =&gt; 33\n        },\n        {\n            \"a\" =&gt; 44,\n            \"b\" =&gt; 55,\n            \"c\" =&gt; 66\n        }\n    ]\n);\n\nmy %ch3 = (\n    \"tab\" =&gt; [\n        {\n            \"a\" =&gt; '',\n            \"b\" =&gt; '',\n            \"c\" =&gt; ''\n        },\n        {\n            \"a\" =&gt; '',\n            \"b\" =&gt; '',\n            \"c\" =&gt; ''\n        }\n    ]\n);\n\nsub fun\n{\n  for (@_) {\n    my %ch = %{$_};\n    my $tck = 0;\n    for (keys %ch){\n      if ($ch{$_} eq \"\"){\n        print \"'$ch{$_}'\\n\";\n        $tck++;\n      }\n    }\n    if ($tck == scalar keys %ch){\n      print \"do something\\n\";\n    }\n  }\n}\n\nfun (\\%ch1);\nfun (@{$ch2{tab}});\nfun (@{$ch3{tab}});\n</code></pre>\n"}], "owner": {"reputation": 377, "user_id": 5373538, "user_type": "registered", "accept_rate": 60, "profile_image": "https://lh5.googleusercontent.com/-GxkXfmMS09k/AAAAAAAAAAI/AAAAAAAAAVE/5swI3yJ70nE/photo.jpg?sz=128", "display_name": "genesi5", "link": "https://stackoverflow.com/users/5373538/genesi5"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 626, "favorite_count": 0, "answer_count": 3, "score": 2, "last_activity_date": 1493218293, "creation_date": 1493213551, "question_id": 43635742, "link": "https://stackoverflow.com/questions/43635742/perl-checking-various-types-of-hash-for-empty-key-values-json", "title": "Perl, checking various types of hash for empty key values, json", "body": "<p>I'm implementing right now some kind of mock for my function. And i have a little problem here. Depending on situation, i could get different kind of json as well as a different kind of hash of it. It can be a simple hash with empty values of keys or hash of array of hashes with empty or not empty values. </p>\n\n<pre><code>my %ch1 = (\n    \"a\" =&gt; \"\",\n    \"b\" =&gt; \"\",\n    \"c\" =&gt; \"\"\n);\n\nmy %ch2 = (\n    \"tab\" =&gt; [\n        {   \n            \"a\" =&gt; 11,\n            \"b\" =&gt; 22,\n            \"c\" =&gt; 33\n        },\n        {\n            \"a\" =&gt; 44,\n            \"b\" =&gt; 55,\n            \"c\" =&gt; 66\n        }\n    ]\n);\n</code></pre>\n\n<p>I need to make a function that checks both types of hash, counts empty values and compares with ammount of keys of hash.</p>\n\n<p>This one kinda works for the first hash, but i don't know how to make it work for both hashes without hardcoding. </p>\n\n<pre><code>my $tck = 0;\nfor (keys %ch1){\n    if ($ch1{$_} eq \"\"){\n        print \"'$ch1{$_}'\\n\";\n        $tck++;\n    }\n}\nif ($tck == scalar keys %ch1){\n    # do something\n}\n</code></pre>\n\n<p>Any suggestions?</p>\n"}, {"tags": ["perl", "dictionary", "hashmap"], "answers": [{"comments": [{"owner": {"reputation": 123805, "user_id": 622310, "user_type": "registered", "accept_rate": 33, "profile_image": "https://www.gravatar.com/avatar/8b6d35219e1808520bc238b28161e2e6?s=128&d=identicon&r=PG", "display_name": "Borodin", "link": "https://stackoverflow.com/users/622310/borodin"}, "edited": false, "score": 5, "creation_date": 1493206300, "post_id": 43632763, "comment_id": 74313759, "body": "Except that a hash element may exist with a value of <code>undef</code>. If the OP really needs to check for a non-existent element then defined-or will not suffice."}], "tags": [], "owner": {"reputation": 113221, "user_id": 100754, "user_type": "registered", "accept_rate": 90, "profile_image": "https://www.gravatar.com/avatar/7804ebae32fbadef38537d74a915c22f?s=128&d=identicon&r=PG", "display_name": "Sinan &#220;n&#252;r", "link": "https://stackoverflow.com/users/100754/sinan-%c3%9cn%c3%bcr"}, "is_accepted": true, "score": 10, "last_activity_date": 1493210366, "last_edit_date": 1493210366, "creation_date": 1493205743, "answer_id": 43632763, "question_id": 43632708, "link": "https://stackoverflow.com/questions/43632708/whats-perls-equivalent-of-pythons-dict-getkey-default/43632763#43632763", "title": "What&#39;s Perl&#39;s equivalent of Python&#39;s dict.get(key, default)?", "body": "<p>Perl 5.10 introduced the <a href=\"https://metacpan.org/pod/distribution/perl/pod/perl5100delta.pod#Defined-or-operator\" rel=\"noreferrer\"><em>defined-or</em> operator <code>//</code></a>. You can write:</p>\n\n<pre><code>$h{$key} // $default\n</code></pre>\n\n<blockquote>\n  <p>The <code>//</code> operator has the same precedence and associativity as <code>||</code>. Special care has been taken to ensure that this operator Do What You Mean while not breaking old code, but some edge cases involving the empty regular expression may now parse differently.</p>\n</blockquote>\n\n<p>As @Borodin notes in a comment, this will not distinguish between hash keys that exist <em>and</em> map to an undefined value versus keys that simply do not exist in the hash.</p>\n\n<p>The module <a href=\"https://metacpan.org/pod/Hash::DefaultValue\" rel=\"noreferrer\">Hash::DefaultValue</a> may help with that. However, while the default value can be a coderef, it doesn't seem to intuitively allow arbitrary default values for each access. Another similar module is <a href=\"https://metacpan.org/pod/Hash::WithDefaults\" rel=\"noreferrer\">Hash::WithDefaults</a>.</p>\n\n<p>You can also use</p>\n\n<pre><code>[$default, $h{$key}]-&gt;[exists $h{$key}]\n</code></pre>\n\n<p>but that is neither more efficient nor better looking than the ternary expression. Of course, you could just roll your own substitute:</p>\n\n<pre><code>use strict;\nuse warnings;\n\nsub get_value_or_default(\\%$$) {\n    exists $_[0]-&gt;{$_[1]} ? $_[0]-&gt;{$_[1]} : $_[2];\n}\n\nmy %hash = ( a =&gt; 1 );\n\nprint get_value_or_default(%hash, b =&gt; 33), \"\\n\";\nprint get_value_or_default(%hash, b =&gt; 75), \"\\n\";\nprint get_value_or_default(%hash, c =&gt; 96), \"\\n\";\n</code></pre>\n\n<p>If you are feeling adventurous, you can write that as:</p>\n\n<pre><code>use v5.24;\nuse warnings;\n\nuse feature 'signatures';\nno warnings 'experimental::signatures';\n\nsub get_value_or_default($hash, $key, $default) : prototype(\\%$$) {\n    exists $hash-&gt;{$key} ? $hash-&gt;{$key} : $default;\n}\n</code></pre>\n\n<p>You do not provide context for your request, but a common way in Perl to set defaults which are then overridden by values read from another source is to use the construct:</p>\n\n<pre><code>my %config = (%$default_config, %{ get_config(...) });\n</code></pre>\n"}, {"tags": [], "owner": {"reputation": 12075, "user_id": 1137055, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/59d7b43b9eb7d01bd8f7e51febe6053c?s=128&d=identicon&r=PG", "display_name": "dgw", "link": "https://stackoverflow.com/users/1137055/dgw"}, "is_accepted": false, "score": 5, "last_activity_date": 1493364916, "last_edit_date": 1493364916, "creation_date": 1493205843, "answer_id": 43632805, "question_id": 43632708, "link": "https://stackoverflow.com/questions/43632708/whats-perls-equivalent-of-pythons-dict-getkey-default/43632805#43632805", "title": "What&#39;s Perl&#39;s equivalent of Python&#39;s dict.get(key, default)?", "body": "<p>You can either use the ternary expression you already know</p>\n\n<pre><code>my $value_or_default = exists $h{$key} ? $h{$key} : $default\n</code></pre>\n\n<p>or</p>\n\n<pre><code>my $value_or_default = $h{$key} // $default ;\n</code></pre>\n\n<p>The <code>//</code> is the <strong>defined or</strong> operator.</p>\n\n<p>It depends on your data and needs if you want to swap to the defined-or-operator. The difference is when you have a key with a undefined value you will get different results.</p>\n\n<pre><code>my %hash = ( key1 =&gt; undef ,\n             key3 =&gt; 1 ) ;\nmy $default = 42 ;\n\nforeach my $test ( qw(key1 key2 key3) ) {\n  printf \"%s =&gt; %s exists\\n%s =&gt; %s defined-or\\n\\n\" ,\n         $test ,\n         exists $hash{$test} ? $hash{$test} : $default ,\n         $test ,\n         $hash{$test} // $default ;\n}\n</code></pre>\n\n<p>this results in:</p>\n\n<pre><code>Use of uninitialized value $hash{\"key1\"} in printf at x.pl line 11.\nkey1 =&gt;  exists\nkey1 =&gt; 42 defined-or\n\nkey2 =&gt; 42 exists\nkey2 =&gt; 42 defined-or\n\nkey3 =&gt; 1 exists\nkey3 =&gt; 1 defined-or\n</code></pre>\n\n<p>For <em>key1</em> the key exists but the value is undefined and therefor perl issues the warning.</p>\n"}, {"comments": [{"owner": {"reputation": 123805, "user_id": 622310, "user_type": "registered", "accept_rate": 33, "profile_image": "https://www.gravatar.com/avatar/8b6d35219e1808520bc238b28161e2e6?s=128&d=identicon&r=PG", "display_name": "Borodin", "link": "https://stackoverflow.com/users/622310/borodin"}, "edited": false, "score": 0, "creation_date": 1493207138, "post_id": 43633050, "comment_id": 74314356, "body": "Well that&#39;s three answers ... or I guess you could use the defined-or operator."}, {"owner": {"reputation": 456, "user_id": 3054046, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/ajViR.png?s=128&g=1", "display_name": "cbmckay", "link": "https://stackoverflow.com/users/3054046/cbmckay"}, "reply_to_user": {"reputation": 123805, "user_id": 622310, "user_type": "registered", "accept_rate": 33, "profile_image": "https://www.gravatar.com/avatar/8b6d35219e1808520bc238b28161e2e6?s=128&d=identicon&r=PG", "display_name": "Borodin", "link": "https://stackoverflow.com/users/622310/borodin"}, "edited": false, "score": 1, "creation_date": 1493209352, "post_id": 43633050, "comment_id": 74315988, "body": "@Borodin - You&#39;re not very nice sometimes. When i started the few minute process of writing and testing my answer there were no answers to this question. I don&#39;t know what to do in that situation. Delete it? or assume it could be helpful? I think having the default value as part of the hash is a better method. Why have other $default variables around."}, {"owner": {"reputation": 113221, "user_id": 100754, "user_type": "registered", "accept_rate": 90, "profile_image": "https://www.gravatar.com/avatar/7804ebae32fbadef38537d74a915c22f?s=128&d=identicon&r=PG", "display_name": "Sinan &#220;n&#252;r", "link": "https://stackoverflow.com/users/100754/sinan-%c3%9cn%c3%bcr"}, "edited": false, "score": 2, "creation_date": 1493210190, "post_id": 43633050, "comment_id": 74316685, "body": "Python&#39;s <code>dict.get</code> allows you to specify a different default for each key. Think about <code>$config{host}</code> vs <code>$config{username}</code>. You almost certainly want different default values for those."}, {"owner": {"reputation": 123805, "user_id": 622310, "user_type": "registered", "accept_rate": 33, "profile_image": "https://www.gravatar.com/avatar/8b6d35219e1808520bc238b28161e2e6?s=128&d=identicon&r=PG", "display_name": "Borodin", "link": "https://stackoverflow.com/users/622310/borodin"}, "reply_to_user": {"reputation": 113221, "user_id": 100754, "user_type": "registered", "accept_rate": 90, "profile_image": "https://www.gravatar.com/avatar/7804ebae32fbadef38537d74a915c22f?s=128&d=identicon&r=PG", "display_name": "Sinan &#220;n&#252;r", "link": "https://stackoverflow.com/users/100754/sinan-%c3%9cn%c3%bcr"}, "edited": false, "score": 1, "creation_date": 1493216561, "post_id": 43633050, "comment_id": 74322098, "body": "@Sinan&#220;n&#252;r: More precisely, it allows you to specify a different default for each <i>call to <code>get</code></i> which is a different thing."}, {"owner": {"reputation": 123805, "user_id": 622310, "user_type": "registered", "accept_rate": 33, "profile_image": "https://www.gravatar.com/avatar/8b6d35219e1808520bc238b28161e2e6?s=128&d=identicon&r=PG", "display_name": "Borodin", "link": "https://stackoverflow.com/users/622310/borodin"}, "edited": false, "score": 0, "creation_date": 1493226836, "post_id": 43633050, "comment_id": 74329455, "body": "@cbmckay: I&#39;m sorry if I upset you. It&#39;s just that I found three people posting very similar answers rather amusing. Perhaps my comment could have done with a smiley or an exclamation mark. I&#39;ve done the same myself in the past, especially on the tablet app where nothing else is visible until you save your response, and you can discover only then that others have beaten you to it. If I had thought your answer was particularly bad I would have downvoted it; it&#39;s not all that illuminating but it&#39;s fine."}, {"owner": {"reputation": 320771, "user_id": 589924, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/b2cf53d5a3d25f95c0db4e025aed4153?s=128&d=identicon&r=PG", "display_name": "ikegami", "link": "https://stackoverflow.com/users/589924/ikegami"}, "edited": false, "score": 0, "creation_date": 1493228511, "post_id": 43633050, "comment_id": 74330449, "body": "That&#39;s doesn&#39;t quite accomplish what the OP asked. The answer should specify how it differs from the requested functionality."}, {"owner": {"reputation": 456, "user_id": 3054046, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/ajViR.png?s=128&g=1", "display_name": "cbmckay", "link": "https://stackoverflow.com/users/3054046/cbmckay"}, "reply_to_user": {"reputation": 320771, "user_id": 589924, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/b2cf53d5a3d25f95c0db4e025aed4153?s=128&d=identicon&r=PG", "display_name": "ikegami", "link": "https://stackoverflow.com/users/589924/ikegami"}, "edited": false, "score": 0, "creation_date": 1493246775, "post_id": 43633050, "comment_id": 74339874, "body": "@ikegami - real question, not argument -&gt; How does it differ? The heart of the question is: &#39;evaluates to d[key] if it exists, and to default otherwise.&#39; Which, i believe, my example does. I am not familiar with how the Python code works beyond the explanation given by the OP."}, {"owner": {"reputation": 320771, "user_id": 589924, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/b2cf53d5a3d25f95c0db4e025aed4153?s=128&d=identicon&r=PG", "display_name": "ikegami", "link": "https://stackoverflow.com/users/589924/ikegami"}, "edited": false, "score": 0, "creation_date": 1493248311, "post_id": 43633050, "comment_id": 74340414, "body": "Try it with <code>$h{notSet} = undef;</code>"}, {"owner": {"reputation": 456, "user_id": 3054046, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/ajViR.png?s=128&g=1", "display_name": "cbmckay", "link": "https://stackoverflow.com/users/3054046/cbmckay"}, "edited": false, "score": 0, "creation_date": 1493251345, "post_id": 43633050, "comment_id": 74341237, "body": "Ok, I see that argument in the other answers. But even set to undef the key still &#39;exists&#39;. Wouldn&#39;t you <code>delete</code> it if you wanted it to not show up in the test? I mean, if you are setting a up a &#39;default&#39; value, you would take steps to make it usable. Like, deleting keys instead of undef-ing them if the situation arose."}, {"owner": {"reputation": 320771, "user_id": 589924, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/b2cf53d5a3d25f95c0db4e025aed4153?s=128&d=identicon&r=PG", "display_name": "ikegami", "link": "https://stackoverflow.com/users/589924/ikegami"}, "edited": false, "score": 0, "creation_date": 1493301676, "post_id": 43633050, "comment_id": 74367184, "body": "What are you talking about? It is usable as-is, and your code replaces its value even though it exists. There are times when checking for defined is good enough, but that&#39;s not what the OP asked, so the answer should note that."}, {"owner": {"reputation": 456, "user_id": 3054046, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/ajViR.png?s=128&g=1", "display_name": "cbmckay", "link": "https://stackoverflow.com/users/3054046/cbmckay"}, "edited": false, "score": 0, "creation_date": 1493304627, "post_id": 43633050, "comment_id": 74369332, "body": "I don&#39;t know. I think for :  <code>-e&#39;$h{notSet}=undef;$h{set}=&quot;set&quot;; print $h{notSet}&#47;&#47;$h{set};&#39;</code>  <code>set</code> would be my desired output. Which is what I get."}, {"owner": {"reputation": 320771, "user_id": 589924, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/b2cf53d5a3d25f95c0db4e025aed4153?s=128&d=identicon&r=PG", "display_name": "ikegami", "link": "https://stackoverflow.com/users/589924/ikegami"}, "edited": false, "score": 0, "creation_date": 1493311495, "post_id": 43633050, "comment_id": 74374074, "body": "It doesn&#39;t matter what you want. It&#39;s not what the OP asked for, and you didn&#39;t mention that in your answer. (You have to tag me if you want to be notified of your messages. It&#39;s just a fluke that I&#39;ve been noticing them.)"}], "tags": [], "owner": {"reputation": 456, "user_id": 3054046, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/ajViR.png?s=128&g=1", "display_name": "cbmckay", "link": "https://stackoverflow.com/users/3054046/cbmckay"}, "is_accepted": false, "score": 0, "last_activity_date": 1493206510, "creation_date": 1493206510, "answer_id": 43633050, "question_id": 43632708, "link": "https://stackoverflow.com/questions/43632708/whats-perls-equivalent-of-pythons-dict-getkey-default/43633050#43633050", "title": "What&#39;s Perl&#39;s equivalent of Python&#39;s dict.get(key, default)?", "body": "<p>You can use the defined-or operator: <code>//</code>\nAnd if you want the default value to be part of the structure set the key 'default':</p>\n\n<pre><code>my %h = (default =&gt; 'Some default value');\nsay $h{'notSet'} // $h{'default'};\n</code></pre>\n"}], "owner": {"reputation": 27351, "user_id": 559827, "user_type": "registered", "accept_rate": 72, "profile_image": "https://www.gravatar.com/avatar/4aa6db921795b84b986eb4aac8ffd569?s=128&d=identicon&r=PG", "display_name": "kjo", "link": "https://stackoverflow.com/users/559827/kjo"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 306, "favorite_count": 0, "accepted_answer_id": 43632763, "answer_count": 3, "score": 1, "last_activity_date": 1493364916, "creation_date": 1493205601, "question_id": 43632708, "link": "https://stackoverflow.com/questions/43632708/whats-perls-equivalent-of-pythons-dict-getkey-default", "title": "What&#39;s Perl&#39;s equivalent of Python&#39;s dict.get(key, default)?", "body": "<p>Python's counterpart of Perl's hashes are <code>dict</code> (dictionary) objects.  </p>\n\n<p>If <code>d</code> is a Python <code>dict</code>, then the expression</p>\n\n<pre><code>d.get(key, default)\n</code></pre>\n\n<p>...evaluates to <code>d[key]</code> if it exists, and to <code>default</code> otherwise.</p>\n\n<p>Does Perl have any support for the same idea, beyond the ternary expression</p>\n\n<pre><code>exists $h{$key} ? $h{$key} : $default\n</code></pre>\n\n<p>?</p>\n"}, {"tags": ["regex", "perl", "undefined-behavior", "removing-whitespace"], "comments": [{"owner": {"reputation": 60461, "user_id": 3636601, "user_type": "registered", "accept_rate": 75, "profile_image": "https://www.gravatar.com/avatar/69a1b4f750ece89db0e49c94519f1a7d?s=128&d=identicon&r=PG&f=1", "display_name": "Jens", "link": "https://stackoverflow.com/users/3636601/jens"}, "edited": false, "score": 0, "creation_date": 1493191933, "post_id": 43627692, "comment_id": 74303947, "body": "You get this message for each line that not conatins your pattern"}, {"owner": {"reputation": 17619, "user_id": 7818749, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/ec4a72453e116debb802d55e88c2572e?s=128&d=identicon&r=PG&f=1", "display_name": "Gerhard", "link": "https://stackoverflow.com/users/7818749/gerhard"}, "edited": false, "score": 1, "creation_date": 1493195256, "post_id": 43627692, "comment_id": 74306013, "body": "This has already been answered on your other question"}], "answers": [{"comments": [{"owner": {"reputation": 199, "user_id": 7417672, "user_type": "registered", "accept_rate": 60, "profile_image": "https://www.gravatar.com/avatar/2ad237af02e20c5e05e2fc22985bf646?s=128&d=identicon&r=PG&f=1", "display_name": "MrAZ", "link": "https://stackoverflow.com/users/7417672/mraz"}, "edited": false, "score": 0, "creation_date": 1493192224, "post_id": 43627758, "comment_id": 74304153, "body": "Thanks @Jens for this answer, however is there any way that we can avoid perl process every line that does not contain the QUEUE option?"}, {"owner": {"reputation": 60461, "user_id": 3636601, "user_type": "registered", "accept_rate": 75, "profile_image": "https://www.gravatar.com/avatar/69a1b4f750ece89db0e49c94519f1a7d?s=128&d=identicon&r=PG&f=1", "display_name": "Jens", "link": "https://stackoverflow.com/users/3636601/jens"}, "reply_to_user": {"reputation": 199, "user_id": 7417672, "user_type": "registered", "accept_rate": 60, "profile_image": "https://www.gravatar.com/avatar/2ad237af02e20c5e05e2fc22985bf646?s=128&d=identicon&r=PG&f=1", "display_name": "MrAZ", "link": "https://stackoverflow.com/users/7417672/mraz"}, "edited": false, "score": 0, "creation_date": 1493192986, "post_id": 43627758, "comment_id": 74304657, "body": "@Azizul If there is such function i never used it"}, {"owner": {"reputation": 123805, "user_id": 622310, "user_type": "registered", "accept_rate": 33, "profile_image": "https://www.gravatar.com/avatar/8b6d35219e1808520bc238b28161e2e6?s=128&d=identicon&r=PG", "display_name": "Borodin", "link": "https://stackoverflow.com/users/622310/borodin"}, "edited": false, "score": 1, "creation_date": 1493206511, "post_id": 43627758, "comment_id": 74313929, "body": "There is no need for the <code>chomp</code> or the separate variable. The entire block may be written as <code>print &quot;$1\\n&quot; if &#47;QUEUE\\(([^()]+)\\)&#47;</code>"}, {"owner": {"reputation": 60461, "user_id": 3636601, "user_type": "registered", "accept_rate": 75, "profile_image": "https://www.gravatar.com/avatar/69a1b4f750ece89db0e49c94519f1a7d?s=128&d=identicon&r=PG&f=1", "display_name": "Jens", "link": "https://stackoverflow.com/users/3636601/jens"}, "reply_to_user": {"reputation": 123805, "user_id": 622310, "user_type": "registered", "accept_rate": 33, "profile_image": "https://www.gravatar.com/avatar/8b6d35219e1808520bc238b28161e2e6?s=128&d=identicon&r=PG", "display_name": "Borodin", "link": "https://stackoverflow.com/users/622310/borodin"}, "edited": false, "score": 0, "creation_date": 1493206575, "post_id": 43627758, "comment_id": 74313975, "body": "@Borodin Yes it can be if there is no other logic wich was removed to make a minimal example. But i think it is no reason to downvote"}, {"owner": {"reputation": 123805, "user_id": 622310, "user_type": "registered", "accept_rate": 33, "profile_image": "https://www.gravatar.com/avatar/8b6d35219e1808520bc238b28161e2e6?s=128&d=identicon&r=PG", "display_name": "Borodin", "link": "https://stackoverflow.com/users/622310/borodin"}, "edited": false, "score": 0, "creation_date": 1493206716, "post_id": 43627758, "comment_id": 74314064, "body": "The OP is very clear about their requirement."}, {"owner": {"reputation": 60461, "user_id": 3636601, "user_type": "registered", "accept_rate": 75, "profile_image": "https://www.gravatar.com/avatar/69a1b4f750ece89db0e49c94519f1a7d?s=128&d=identicon&r=PG&f=1", "display_name": "Jens", "link": "https://stackoverflow.com/users/3636601/jens"}, "reply_to_user": {"reputation": 123805, "user_id": 622310, "user_type": "registered", "accept_rate": 33, "profile_image": "https://www.gravatar.com/avatar/8b6d35219e1808520bc238b28161e2e6?s=128&d=identicon&r=PG", "display_name": "Borodin", "link": "https://stackoverflow.com/users/622310/borodin"}, "edited": false, "score": 0, "creation_date": 1493206873, "post_id": 43627758, "comment_id": 74314172, "body": "@Borodin So you think it is downvoted because of coding style?"}, {"owner": {"reputation": 123805, "user_id": 622310, "user_type": "registered", "accept_rate": 33, "profile_image": "https://www.gravatar.com/avatar/8b6d35219e1808520bc238b28161e2e6?s=128&d=identicon&r=PG", "display_name": "Borodin", "link": "https://stackoverflow.com/users/622310/borodin"}, "edited": false, "score": 0, "creation_date": 1493206973, "post_id": 43627758, "comment_id": 74314243, "body": "I can&#39;t say, but the layout is poor as well so it&#39;s a bit sloppy over all."}, {"owner": {"reputation": 5334, "user_id": 5830574, "user_type": "registered", "accept_rate": 93, "profile_image": "https://i.stack.imgur.com/kCmqs.png?s=128&g=1", "display_name": "PerlDuck", "link": "https://stackoverflow.com/users/5830574/perlduck"}, "reply_to_user": {"reputation": 199, "user_id": 7417672, "user_type": "registered", "accept_rate": 60, "profile_image": "https://www.gravatar.com/avatar/2ad237af02e20c5e05e2fc22985bf646?s=128&d=identicon&r=PG&f=1", "display_name": "MrAZ", "link": "https://stackoverflow.com/users/7417672/mraz"}, "edited": false, "score": 0, "creation_date": 1493382959, "post_id": 43627758, "comment_id": 74406834, "body": "@Azizul But how should Perl figure out which lines do not contain QUEUE and must be skipped? It can do so only by watching (read: processing) them."}], "tags": [], "owner": {"reputation": 60461, "user_id": 3636601, "user_type": "registered", "accept_rate": 75, "profile_image": "https://www.gravatar.com/avatar/69a1b4f750ece89db0e49c94519f1a7d?s=128&d=identicon&r=PG&f=1", "display_name": "Jens", "link": "https://stackoverflow.com/users/3636601/jens"}, "is_accepted": true, "score": 0, "last_activity_date": 1493207080, "last_edit_date": 1493207080, "creation_date": 1493192014, "answer_id": 43627758, "question_id": 43627692, "link": "https://stackoverflow.com/questions/43627692/variable-contain-undef-value-in-perl/43627758#43627758", "title": "Variable contain undef value in perl", "body": "<p>You get this undefined messge for every line that does not contain \"Queue(\".\nSo you have to check it:</p>\n\n<pre><code>while (&lt;CHS_OUT&gt;) {\n        my ($QName) = /QUEUE\\(([^()]+)\\)/;\n        if ($QName){ \n           print \"$QName \\n\";\n        }\n}\n</code></pre>\n"}], "owner": {"reputation": 199, "user_id": 7417672, "user_type": "registered", "accept_rate": 60, "profile_image": "https://www.gravatar.com/avatar/2ad237af02e20c5e05e2fc22985bf646?s=128&d=identicon&r=PG&f=1", "display_name": "MrAZ", "link": "https://stackoverflow.com/users/7417672/mraz"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 127, "favorite_count": 0, "closed_date": 1493194399, "accepted_answer_id": 43627758, "answer_count": 1, "score": -2, "last_activity_date": 1493207080, "creation_date": 1493191813, "last_edit_date": 1493192001, "question_id": 43627692, "link": "https://stackoverflow.com/questions/43627692/variable-contain-undef-value-in-perl", "closed_reason": "Duplicate", "title": "Variable contain undef value in perl", "body": "<p>My file contain:</p>\n\n<pre><code>AMQ8409: Display Queue details.\n   QUEUE(SYSTEM.DATATYPE.REPLY.QUEUE)      TYPE(QLOCAL)\n   ACCTQ(QMGR)                             ALTDATE(2016-08-01)\n   ALTTIME(18.33.20)                       BOQNAME( )\n\nAMQ8409: Display Queue details.\n   QUEUE(SYSTEM.DATATYPE.REQUEST.QUEUE)    TYPE(QLOCAL)\n   ACCTQ(QMGR)                             ALTDATE(2016-08-01)\n   ALTTIME(18.32.37)                       BOQNAME( )\n\nAMQ8409: Display Queue details.\n   QUEUE(SYSTEM.MESSAGE.ASSOCIATION.QUEUE)\n   TYPE(QLOCAL)                            ACCTQ(QMGR)\n   ALTDATE(2016-08-01)                     ALTTIME(18.32.37)\n\nAMQ8409: Display Queue details.\n   QUEUE(SYSTEM.PENDING.DATATYPE.REPLY)        TYPE(QLOCAL)\n   ACCTQ(QMGR)                             ALTDATE(2016-08-01)\n   ALTTIME(18.33.20)                       BOQNAME( )\n</code></pre>\n\n<p>I want to extract data from QUEUE option, which suppose to output as below,</p>\n\n<pre><code>SYSTEM.DATATYPE.REPLY.QUEUE \nSYSTEM.DATATYPE.REQUEST.QUEUE \nSYSTEM.MESSAGE.ASSOCIATION.QUEUE\nSYSTEM.PENDING.DATATYPE.REPLY\n</code></pre>\n\n<p>I wrote a code to obtain this output,</p>\n\n<pre><code>use warnings;\nuse strict;\n\nopen (CHS_OUT, \"cat test.txt|\");\nwhile (&lt;CHS_OUT&gt;) {\n\n        my ($QName) = /QUEUE\\(([^()]+)\\)/;\n        chomp($QName);\n\n        print \"$QName \\n\";\n\n}\n</code></pre>\n\n<p>However, received below warnings,</p>\n\n<blockquote>\n  <p>Use of uninitialized value $QName in concatenation (.) or string at\n  test_str.pl line 19,  line 1.   SYSTEM.DATATYPE.REPLY.QUEUE \n  Use of uninitialized value $QName in concatenation (.) or string at\n  test_str.pl line 19,  line 3.   Use of uninitialized value\n  $QName in concatenation (.) or string at test_str.pl line 19,\n   line 4.   Use of uninitialized value $QName in concatenation\n  (.) or string at test_str.pl line 19,  line 5.   Use of\n  uninitialized value $QName in concatenation (.) or string at\n  test_str.pl line 19,  line 6.   SYSTEM.DATATYPE.REQUEST.QUEUE\n  Use of uninitialized value $QName in concatenation (.) or string at\n  test_str.pl line 19,  line 8.   Use of uninitialized value\n  $QName in concatenation (.) or string at test_str.pl line 19,\n   line 9.   Use of uninitialized value $QName in concatenation\n  (.) or string at test_str.pl line 19,  line 10.   Use of\n  uninitialized value $QName in concatenation (.) or string at\n  test_str.pl line 19,  line 11.<br>\n  SYSTEM.MESSAGE.ASSOCIATION.QUEUE  Use of uninitialized value $QName in\n  concatenation (.) or string at test_str.pl line 19,  line 13.\n  Use of uninitialized value $QName in concatenation (.) or string at\n  test_str.pl line 19,  line 14.   Use of uninitialized value\n  $QName in concatenation (.) or string at test_str.pl line 19,\n   line 15.   Use of uninitialized value $QName in\n  concatenation (.) or string at test_str.pl line 19,  line 16.\n  SYSTEM.PENDING.DATATYPE.REPLY  Use of uninitialized value $QName in\n  concatenation (.) or string at test_str.pl line 19,  line 18.\n  Use of uninitialized value $QName in concatenation (.) or string at\n  test_str.pl line 19,  line 19.</p>\n</blockquote>\n\n<p>If I remove <code>use strict</code> and <code>use warnings</code> in my code, it will success, however there are multiple whitespace below the value, output as below,</p>\n\n<pre><code>SYSTEM.DATATYPE.REPLY.QUEUE \n\n\n\n\nSYSTEM.DATATYPE.REQUEST.QUEUE \n\n\n\n\nSYSTEM.MESSAGE.ASSOCIATION.QUEUE \n\n\n\n\nSYSTEM.PENDING.DATATYPE.REPLY \n</code></pre>\n\n<p>This output are not what I plan to have because it have multiple white-space line under the value, which this white-space perl assume as undef value.</p>\n\n<p>I suppose to have output as below which is without whitespace in each line,</p>\n\n<pre><code>SYSTEM.DATATYPE.REPLY.QUEUE \nSYSTEM.DATATYPE.REQUEST.QUEUE \nSYSTEM.MESSAGE.ASSOCIATION.QUEUE\nSYSTEM.PENDING.DATATYPE.REPLY\n</code></pre>\n\n<p>Is there any possibility I can use <code>next</code> to make perl ignore to process undef value?</p>\n"}, {"tags": ["regex", "perl"], "answers": [{"tags": [], "owner": {"reputation": 9384, "user_id": 761132, "user_type": "registered", "accept_rate": 70, "profile_image": "https://www.gravatar.com/avatar/fa462ba2bc6318a8b2e7662bb8e91aa1?s=128&d=identicon&r=PG", "display_name": "Rizwan M.Tuman", "link": "https://stackoverflow.com/users/761132/rizwan-m-tuman"}, "is_accepted": false, "score": 0, "last_activity_date": 1493189344, "creation_date": 1493189344, "answer_id": 43626922, "question_id": 43625216, "link": "https://stackoverflow.com/questions/43625216/selecting-a-value-to-declare-in-perl/43626922#43626922", "title": "selecting a value to declare in perl", "body": "<p>You can try this:</p>\n\n<pre><code>^\\s*QUEUE\\(\\K(?=.*DATATYPE)(?!.*REPLY)[^\\)]*\n</code></pre>\n\n<p><a href=\"https://regex101.com/r/Ks7qEo/1\" rel=\"nofollow noreferrer\">Regex Demo</a></p>\n\n<p>Sample Code: ( <a href=\"http://ideone.com/eZy2z4\" rel=\"nofollow noreferrer\">Run it here</a> )</p>\n\n<pre><code>my $regex = qr/^\\s*QUEUE\\(\\K(?=.*DATATYPE)(?!.*REPLY)[^\\)]*/mp;     \nif ($yourstring =~ /$regex/g ) {\n  print ${^MATCH};\n}\n</code></pre>\n"}], "owner": {"reputation": 199, "user_id": 7417672, "user_type": "registered", "accept_rate": 60, "profile_image": "https://www.gravatar.com/avatar/2ad237af02e20c5e05e2fc22985bf646?s=128&d=identicon&r=PG&f=1", "display_name": "MrAZ", "link": "https://stackoverflow.com/users/7417672/mraz"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 51, "favorite_count": 0, "answer_count": 1, "score": -1, "last_activity_date": 1493189344, "creation_date": 1493181792, "last_edit_date": 1493185389, "question_id": 43625216, "link": "https://stackoverflow.com/questions/43625216/selecting-a-value-to-declare-in-perl", "title": "selecting a value to declare in perl", "body": "<p>I'm very new to Perl.</p>\n\n<p>Let say the output from command would be as below,</p>\n\n<pre><code>AMQ8409: Display Queue details.\n   QUEUE(SYSTEM.DATATYPE.REPLY.QUEUE)      TYPE(QLOCAL)\n   ACCTQ(QMGR)                             ALTDATE(2016-08-01)\n   ALTTIME(18.33.20)                       BOQNAME( )\n\nAMQ8409: Display Queue details.\n   QUEUE(SYSTEM.DATATYPE.REQUEST.QUEUE)    TYPE(QLOCAL)\n   ACCTQ(QMGR)                             ALTDATE(2016-08-01)\n   ALTTIME(18.32.37)                       BOQNAME( )\n\nAMQ8409: Display Queue details.\n   QUEUE(SYSTEM.MESSAGE.ASSOCIATION.QUEUE)\n   TYPE(QLOCAL)                            ACCTQ(QMGR)\n   ALTDATE(2016-08-01)                     ALTTIME(18.32.37)\n\nAMQ8409: Display Queue details.\n   QUEUE(SYSTEM.PENDING.DATATYPE.REPLY)        TYPE(QLOCAL)\n   ACCTQ(QMGR)                             ALTDATE(2016-08-01)\n   ALTTIME(18.33.20)                       BOQNAME( )\n</code></pre>\n\n<p>I plan to store value under QUEUE section which the value contain 'DATATYPE' word and not contain 'REPLY' word, the desire output would be,</p>\n\n<blockquote>\n  <p>SYSTEM.DATATYPE.REQUEST.QUEUE</p>\n</blockquote>\n\n<p>My code as follow,</p>\n\n<pre><code>while (&lt;OPEN_FILE&gt;) {\n      my ($QName1) = /QUEUE\\(([^()]+)\\)/;\n      my ($QName1) = $QName1 =~ m/DATATYPE/ &amp;&amp; $QName1 !~ m/RETRY/;\n\n      print \"$QName1 \\n\";\n}\n</code></pre>\n\n<p>However, above code failed.</p>\n\n<p>Before above code, I try to declare using one single line but not success at all.</p>\n"}, {"tags": ["perl", "tar"], "comments": [{"owner": {"reputation": 126333, "user_id": 14660, "user_type": "registered", "accept_rate": 62, "profile_image": "https://www.gravatar.com/avatar/e55e0ec3c00f834d78fbdddeaa36e308?s=128&d=identicon&r=PG", "display_name": "Schwern", "link": "https://stackoverflow.com/users/14660/schwern"}, "edited": false, "score": 1, "creation_date": 1493187398, "post_id": 43624616, "comment_id": 74301328, "body": "It seems you&#39;re not the only one with this problem. <a href=\"https://rt.cpan.org/Public/Bug/Display.html?id=104087\" rel=\"nofollow noreferrer\">rt.cpan.org/Public/Bug/Display.html?id=104087</a>"}], "answers": [{"comments": [{"owner": {"reputation": 28, "user_id": 1500617, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/50ac5d22ad2724d24566c475f56c2070?s=128&d=identicon&r=PG", "display_name": "praveenzx", "link": "https://stackoverflow.com/users/1500617/praveenzx"}, "edited": false, "score": 0, "creation_date": 1493183716, "post_id": 43625548, "comment_id": 74299698, "body": "Try to extract a small sized tar file and see whether its working with your code . If it is not working then . you dont have enough memory to keep the unzipped files ."}], "tags": [], "owner": {"reputation": 28, "user_id": 1500617, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/50ac5d22ad2724d24566c475f56c2070?s=128&d=identicon&r=PG", "display_name": "praveenzx", "link": "https://stackoverflow.com/users/1500617/praveenzx"}, "is_accepted": false, "score": -1, "last_activity_date": 1493183609, "creation_date": 1493183609, "answer_id": 43625548, "question_id": 43624616, "link": "https://stackoverflow.com/questions/43624616/how-to-extract-a-large-tar-file/43625548#43625548", "title": "How to extract a large tar file", "body": "<p>why cant you execute it using backtick (`)</p>\n\n<p><code><code>tar -xvf source destiantion</code></code></p>\n"}, {"tags": [], "owner": {"reputation": 126333, "user_id": 14660, "user_type": "registered", "accept_rate": 62, "profile_image": "https://www.gravatar.com/avatar/e55e0ec3c00f834d78fbdddeaa36e308?s=128&d=identicon&r=PG", "display_name": "Schwern", "link": "https://stackoverflow.com/users/14660/schwern"}, "is_accepted": false, "score": 3, "last_activity_date": 1493187968, "creation_date": 1493187968, "answer_id": 43626536, "question_id": 43624616, "link": "https://stackoverflow.com/questions/43624616/how-to-extract-a-large-tar-file/43626536#43626536", "title": "How to extract a large tar file", "body": "<p>It seems Archive::Tar works by loading everything in memory. From their docs...</p>\n\n<blockquote>\n  <p>Isn't Archive::Tar heavier on memory than /bin/tar?</p>\n  \n  <p>Yes it is, see previous answer. Since \"Compress::Zlib\" and therefore\n          \"IO::Zlib\" doesn't support \"seek\" on their filehandles, there is\n          little choice but to read the archive into memory. This is ok if you\n          want to do in-memory manipulation of the archive.</p>\n</blockquote>\n\n<p>Note that this limitation may not exist anymore, Compress::Zlib now offers gzseek, but IO::Zlib doesn't yet support it.</p>\n\n<p>It goes on to offer some work arounds.</p>\n\n<blockquote>\n  <p>If you just want to extract, use the \"extract_archive\" class method\n          instead. It will optimize and write to disk immediately.</p>\n</blockquote>\n\n<p>That would be <code>my @extracted_files = Archive::Tar-&gt;extract_archive($file)</code> then you can work with the files on disk.</p>\n\n<blockquote>\n  <p>Another option is to use the \"iter\" class method to iterate over the\n          files in the tarball without reading them all in memory at once.</p>\n</blockquote>\n\n<p>Looks like you already tried this.</p>\n\n<hr>\n\n<p>Another option is to use <a href=\"https://metacpan.org/pod/Archive::Tar::Wrapper\" rel=\"nofollow noreferrer\">Archive::Tar::Wrapper</a> which is, you guessed it, a wrapper around <code>tar</code>. According to its docs, it never stores anything in memory.</p>\n\n<blockquote>\n  <p>Archive::Tar::Wrapper is an API wrapper around the 'tar' command line utility. <strong><em>It never stores anything in memory</em></strong>, but works on temporary directory structures on disk instead. It provides a mapping between the logical paths in the tarball and the 'real' files in the temporary directory on disk.</p>\n</blockquote>\n"}], "owner": {"reputation": 11, "user_id": 7918310, "user_type": "registered", "profile_image": "https://lh6.googleusercontent.com/-rgdOkb3WJ9A/AAAAAAAAAAI/AAAAAAAADeI/EHBXuZfKXYQ/photo.jpg?sz=128", "display_name": "Por Tanongsak", "link": "https://stackoverflow.com/users/7918310/por-tanongsak"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 728, "favorite_count": 0, "answer_count": 2, "score": 1, "last_activity_date": 1493198806, "creation_date": 1493178093, "last_edit_date": 1592644375, "question_id": 43624616, "link": "https://stackoverflow.com/questions/43624616/how-to-extract-a-large-tar-file", "title": "How to extract a large tar file", "body": "<p>I need to extract a 25GB tar file using a Perl script that works like this shell command.</p>\n\n<pre class=\"lang-none prettyprint-override\"><code>tar xvf tarFile.tar file1.txt file2.txt file3.txt ...\n</code></pre>\n<p>This is what I have tried.</p>\n<h3>Solution 1. Gives out of memory error.</h3>\n<pre class=\"lang-perl prettyprint-override\"><code>use Archive::Tar;\n\nmy $tarPath    = 'path/to/tarArchive';\n\nmy $tar        = Archive::Tar-&gt;new($tarPath); # Out of memory\n</code></pre>\n<h3>Solution 2. Gives out of memory error.</h3>\n<pre class=\"lang-perl prettyprint-override\"><code>use Archive::Tar;\n\nmy $tarPath    = 'path/to/tarArchive';\n\nmy $tar        = Archive::Tar-&gt;iter($tarPath, 1, { filter =&gt; qr/file1\\.txt$/ } );\n\nwhile ( my $f = $tar-&gt;() ) {\n\n    print $f-&gt;name, &quot;\\n&quot;;  # Out of memory\n}\n</code></pre>\n<p>Could you please help me understand what is wrong?</p>\n"}, {"tags": ["mysql", "macos", "perl", "homebrew", "dbd"], "answers": [{"comments": [{"owner": {"reputation": 81, "user_id": 7922161, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/ddddbe3e26ef378dd438a2e900555c2e?s=128&d=identicon&r=PG&f=1", "display_name": "dion", "link": "https://stackoverflow.com/users/7922161/dion"}, "edited": false, "score": 0, "creation_date": 1493644970, "post_id": 43701794, "comment_id": 74482927, "body": "thanks for the reply Mike, still no joy for me perl Makefile.PL --testuser=username   cflags        (mysql_config) = -I/usr/local/Cellar/mysql-connector-c/6.1.9/include   embedded      (guessed     ) =   ldflags       (guessed     ) =   libs          (mysql_config) = -L/usr/local/Cellar/mysql-connector-c/6.1.9/lib -l   mysql_config  (guessed     ) = mysql_config   nocatchstderr (default     ) = 0    Checking if libs are available for compiling... Can&#39;t link/include C library &#39;&#39;, aborting."}], "tags": [], "owner": {"reputation": 1, "user_id": 7942303, "user_type": "unregistered", "profile_image": "https://www.gravatar.com/avatar/6e7629e3b9e0476fe4851b2b784d5157?s=128&d=identicon&r=PG", "display_name": "mike southern", "link": "https://stackoverflow.com/users/7942303/mike-southern"}, "is_accepted": false, "score": 0, "last_activity_date": 1493512848, "creation_date": 1493512848, "answer_id": 43701794, "question_id": 43622324, "link": "https://stackoverflow.com/questions/43622324/error-installing-dbdmysql-on-osx-10-11-cant-link-include-c-library-abor/43701794#43701794", "title": "error installing DBD::MySQL on osx 10.11 - Can&#39;t link/include C library &#39;&#39;, aborting", "body": "<p>i got the same error and while poking around trying to figure it out I added -I/usr/local/mysql/include to the perl makefile.pl command. This didn't work but like a goat i tried again and then it came up with an Xcode agreement form that I had to read and abide by. Longer story i upgraded an older macbook pro to el capitan then had to install Xcode 6.3 last week. I'd forgotten about the newer Xcode. Anyway, the end result was a successful install once i'd agreed to the Xcode usage</p>\n"}, {"comments": [{"owner": {"reputation": 860, "user_id": 8721351, "user_type": "registered", "profile_image": "https://lh5.googleusercontent.com/-e9z8_6KR0vc/AAAAAAAAAAI/AAAAAAAAABo/2ILOhTvPupk/photo.jpg?sz=128", "display_name": "Benny K", "link": "https://stackoverflow.com/users/8721351/benny-k"}, "edited": false, "score": 0, "creation_date": 1551680532, "post_id": 54673988, "comment_id": 96713812, "body": "very helpful, thanks a ton for your time spent debugging it"}, {"owner": {"reputation": 8836, "user_id": 486233, "user_type": "registered", "accept_rate": 100, "profile_image": "https://i.stack.imgur.com/8tS2m.jpg?s=128&g=1", "display_name": "Yes Barry", "link": "https://stackoverflow.com/users/486233/yes-barry"}, "edited": false, "score": 0, "creation_date": 1557885814, "post_id": 54673988, "comment_id": 98911987, "body": "What happens to the databases installed via <code>mysql</code> when you run <code>brew unlink mysql $$ brew install mysql-connector-c</code>??  I gave up because I don&#39;t wanna mess up my *AMP stack."}, {"owner": {"reputation": 188, "user_id": 5768513, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/6c86482310b05307303b0727ffa0f6e6?s=128&d=identicon&r=PG", "display_name": "charley", "link": "https://stackoverflow.com/users/5768513/charley"}, "edited": false, "score": 0, "creation_date": 1558012557, "post_id": 54673988, "comment_id": 98965537, "body": "I don&#39;t know, but caution seems wise. You should certainly <a href=\"http://osxdaily.com/2017/01/19/export-import-all-mysql-databases/\" rel=\"nofollow noreferrer\">back up</a> your DB somewhere if you care about whats in it. Also, dunno if this is useful, but this ended up being such a pain I switched to using Python for accessing MySQL."}], "tags": [], "owner": {"reputation": 188, "user_id": 5768513, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/6c86482310b05307303b0727ffa0f6e6?s=128&d=identicon&r=PG", "display_name": "charley", "link": "https://stackoverflow.com/users/5768513/charley"}, "is_accepted": false, "score": 14, "last_activity_date": 1551424181, "last_edit_date": 1551424181, "creation_date": 1550072348, "answer_id": 54673988, "question_id": 43622324, "link": "https://stackoverflow.com/questions/43622324/error-installing-dbdmysql-on-osx-10-11-cant-link-include-c-library-abor/54673988#54673988", "title": "error installing DBD::MySQL on osx 10.11 - Can&#39;t link/include C library &#39;&#39;, aborting", "body": "<p>This is an old question, but I just had this problem installing DBD::mysql and I see that others are still having this problem too. Here's the convoluted solution that worked for me.</p>\n\n<p>I started by running (MacOX Mojave 10.14.1): </p>\n\n<ul>\n<li><code>brew install mysql</code></li>\n<li><code>cpanm install DBD::mysql</code></li>\n<li>This fails.</li>\n</ul>\n\n<p>This gave me the error message \"Can't link/include C library 'ssl', 'crypto', aborting\". As per <a href=\"https://rt.cpan.org/Public/Bug/Display.html?id=120810\" rel=\"noreferrer\">this thread</a> and the DBD::mysql install instructions on meta-cpan, this error is happening because the DBD::mysql package requires (?) \"mysql-connector-c\" rather than \"mysql\". Okay, I fixed that by doing:</p>\n\n<ul>\n<li><code>brew unlink mysql</code></li>\n<li><code>brew install mysql-connector-c</code></li>\n<li><code>cpanm install DBD::mysql</code></li>\n<li>The cpan install still fails, but new error!</li>\n</ul>\n\n<p>That \"fixed\" the issue in that it got me a different error message. I was now getting the message: \"Can't link/include C library'', aborting\". Progress! Now I was getting the error on <a href=\"https://stackoverflow.com/questions/53865612/trouble-installing-dbdmysql-under-macos-mojave\">this answer</a>. I fixed this error by:</p>\n\n<ul>\n<li>Verifying that my problem is indeed from missing linkage flags.</li>\n<li>Run <code>mysql_config</code></li>\n<li>This returns something like: --libs [L/usr/local/Cellar/mysql-connector-c/6.1.11/lib -l]</li>\n<li>Note that the \"-l\" at the end has nothing after it, which is incorrect.</li>\n<li>Edit <code>/usr/local/Cellar/mysql-connector-c/6.1.11/bin/mysql_config line #114</code></li>\n<li>Change <code>libs=\"$libs -l\"</code>  to <code>libs=\"$libs -lmysqlclient\"</code></li>\n<li>Verify that it worked: <code>mysql_config</code></li>\n<li>This should return something like: --libs [L/usr/local/Cellar/mysql-connector-c/6.1.11/lib -lmysqlclient]</li>\n<li>Again do <code>cpanm install DBD::mysql</code></li>\n<li>This time it works!!!</li>\n<li>Be wary: We're not installing the lib for SSL connections which will <a href=\"https://metacpan.org/pod/distribution/DBD-mysql/lib/DBD/mysql/INSTALL.pod#ENCRYPTED-CONNECTIONS-via-SSL\" rel=\"noreferrer\">probably cause cryptic problems</a> later.</li>\n</ul>\n\n<p>This got DBD::mysql installed successfully for me. I do think I'm going to have to go back and add some more linkage flags.</p>\n"}, {"comments": [{"owner": {"reputation": 8422, "user_id": 143336, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/080c342ebdc8db6e8dc4290deaeb6c02?s=128&d=identicon&r=PG", "display_name": "Matt Ryall", "link": "https://stackoverflow.com/users/143336/matt-ryall"}, "edited": false, "score": 1, "creation_date": 1607647126, "post_id": 56196487, "comment_id": 115345699, "body": "This worked for me, with one tweak. I found the openssl lib path in the output from <code>brew info openssl</code> not <code>which openssl</code>, because Homebrew installs it as keg-only."}, {"owner": {"reputation": 1406, "user_id": 261131, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/7718c473801541072186c8caaaa510d0?s=128&d=identicon&r=PG", "display_name": "DrHyde", "link": "https://stackoverflow.com/users/261131/drhyde"}, "edited": false, "score": 0, "creation_date": 1614706311, "post_id": 56196487, "comment_id": 117464984, "body": "I&#39;ve used this fix loads of times, and have now opened <a href=\"https://github.com/Homebrew/homebrew-core/issues/72333\" rel=\"nofollow noreferrer\">an issue</a> on homebrew-core that references this comment, so hopefully I&#39;ll never to use it again!"}], "tags": [], "owner": {"reputation": 111, "user_id": 9296393, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/pjQyH.jpg?s=128&g=1", "display_name": "Homqyy", "link": "https://stackoverflow.com/users/9296393/homqyy"}, "is_accepted": false, "score": 11, "last_activity_date": 1558168847, "last_edit_date": 1558168847, "creation_date": 1558160308, "answer_id": 56196487, "question_id": 43622324, "link": "https://stackoverflow.com/questions/43622324/error-installing-dbdmysql-on-osx-10-11-cant-link-include-c-library-abor/56196487#56196487", "title": "error installing DBD::MySQL on osx 10.11 - Can&#39;t link/include C library &#39;&#39;, aborting", "body": "<ol>\n<li><p>show <code>mysql_config</code> path by <code>which mysql_config</code></p>\n\n<blockquote>\n  <p>eg: /usr/local/opt/mysql@5.7/bin/mysql_config</p>\n</blockquote></li>\n<li><p>show openssl lib path by <code>which openssl</code>. note: if it's a symbol in <code>/usr/local/bin/openssl</code>, you can type <code>ls -ld /usr/local/bin/openssl</code> to show real path</p>\n\n<blockquote>\n  <p>eg: if it's <code>/usr/local/openssl/bin/openssl</code>, \n  then you can insert <code>-L/usr/local/openssl/lib/</code> for searching <code>crypto</code> and <code>ssl</code> libs</p>\n</blockquote></li>\n<li><p>edit <code>mysql_config</code> file and insert path of openssl lib(line #114)</p>\n\n<blockquote>\n  <p>eg: <code>libs=$libs -L/usr/local/opt/openssl/lib</code></p>\n</blockquote>\n\n<p><img src=\"https://i.stack.imgur.com/KYwHy.png\" alt=\"insert path of openssl lib\">\n4.type <code>cpan install DBD::mysql</code> , success.</p></li>\n</ol>\n"}], "owner": {"reputation": 81, "user_id": 7922161, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/ddddbe3e26ef378dd438a2e900555c2e?s=128&d=identicon&r=PG&f=1", "display_name": "dion", "link": "https://stackoverflow.com/users/7922161/dion"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 4228, "favorite_count": 4, "answer_count": 3, "score": 7, "last_activity_date": 1586877901, "creation_date": 1493161197, "last_edit_date": 1586877901, "question_id": 43622324, "link": "https://stackoverflow.com/questions/43622324/error-installing-dbdmysql-on-osx-10-11-cant-link-include-c-library-abor", "title": "error installing DBD::MySQL on osx 10.11 - Can&#39;t link/include C library &#39;&#39;, aborting", "body": "<p>After updating perl via homebrew, i broke my <code>dbd::mysql</code> installation\ninstalling via <code>cpanm</code> results in:</p>\n\n<pre><code>I will use the following settings for compiling and testing:\n\n    cflags        (mysql_config) = -I/usr/local/Cellar/mysql-connector-\n    c/6.1.9/include\n    embedded      (guessed     ) =\n    ldflags       (guessed     ) =\n    libs          (mysql_config) = -L/usr/local/Cellar/mysql-connector-\n    c/6.1.9/lib -l\n    mysql_config  (guessed     ) = mysql_config\n    nocatchstderr (default     ) = 0\n    nofoundrows   (default     ) = 0\n    nossl         (default     ) = 0\n    testdb        (default     ) = test\n    testhost      (default     ) =\n    testpassword  (default     ) =\n    testport      (default     ) =\n    testsocket    (default     ) =\n    testuser      (guessed     ) = root\n\nTo change these settings, see 'perl Makefile.PL --help' and 'perldoc DBD::mysql::INSTALL'.\n\nChecking if libs are available for compiling...\nCan't link/include C library '', aborting.\n</code></pre>\n\n<p>Does anyone know how to resolve?\nI've tried removing <code>mysql-connector-c</code> and installing <code>mysql</code> via\nhomebrew instead. The complaint then is <code>Can't link/include C library\n'ssl', 'crypto', aborting</code>. I do have <code>openssl</code> installed.</p>\n\n<p>perl version: </p>\n\n<pre><code>This is perl 5, version 24, subversion 1 (v5.24.1) built for\ndarwin-thread-multi-2level\n</code></pre>\n"}, {"tags": ["perl", "quotes"], "comments": [{"owner": {"reputation": 53041, "user_id": 4653379, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/b3953dbedd0dabff5cbc3db9b0835b14?s=128&d=identicon&r=PG&f=1", "display_name": "zdim", "link": "https://stackoverflow.com/users/4653379/zdim"}, "edited": false, "score": 0, "creation_date": 1493149181, "post_id": 43617820, "comment_id": 74288040, "body": "You can also use the same brace/bracket, <code>q{a}</code> is the same as <code>q}a}</code> (documented somewhere in <code>perlop</code>)"}, {"owner": {"reputation": 320771, "user_id": 589924, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/b2cf53d5a3d25f95c0db4e025aed4153?s=128&d=identicon&r=PG", "display_name": "ikegami", "link": "https://stackoverflow.com/users/589924/ikegami"}, "reply_to_user": {"reputation": 53041, "user_id": 4653379, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/b3953dbedd0dabff5cbc3db9b0835b14?s=128&d=identicon&r=PG&f=1", "display_name": "zdim", "link": "https://stackoverflow.com/users/4653379/zdim"}, "edited": false, "score": 0, "creation_date": 1493154496, "post_id": 43617820, "comment_id": 74291060, "body": "@zdim, They both produce <code>a</code>, but <code>q{...}</code> is not always the same as <code>q}...}</code>. Compare <code>q{{}}</code> (produces <code>{}</code>) with <code>q}{}}</code> (illegal)."}], "answers": [{"comments": [{"owner": {"reputation": 320771, "user_id": 589924, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/b2cf53d5a3d25f95c0db4e025aed4153?s=128&d=identicon&r=PG", "display_name": "ikegami", "link": "https://stackoverflow.com/users/589924/ikegami"}, "edited": false, "score": 0, "creation_date": 1493147153, "post_id": 43617962, "comment_id": 74286843, "body": "The second quote is wrong. You can have alphanumeric delimiters, as shown in the first half of your answer."}, {"owner": {"reputation": 53041, "user_id": 4653379, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/b3953dbedd0dabff5cbc3db9b0835b14?s=128&d=identicon&r=PG&f=1", "display_name": "zdim", "link": "https://stackoverflow.com/users/4653379/zdim"}, "reply_to_user": {"reputation": 320771, "user_id": 589924, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/b2cf53d5a3d25f95c0db4e025aed4153?s=128&d=identicon&r=PG", "display_name": "ikegami", "link": "https://stackoverflow.com/users/589924/ikegami"}, "edited": false, "score": 0, "creation_date": 1493147309, "post_id": 43617962, "comment_id": 74286930, "body": "@ikegami  Thank you ... i am thinking about augmenting it ... it is a literal quote from Camel ... added a note.  It&#39;s tricky, docs aren&#39;t necessarily comprehensive on this."}, {"owner": {"reputation": 87649, "user_id": 17389, "user_type": "registered", "accept_rate": 38, "profile_image": "https://www.gravatar.com/avatar/cd06d1314817ce946ab796af8750b56a?s=128&d=identicon&r=PG", "display_name": "ysth", "link": "https://stackoverflow.com/users/17389/ysth"}, "edited": false, "score": 1, "creation_date": 1493151496, "post_id": 43617962, "comment_id": 74289469, "body": "non-ascii characters can be used too (at least under <code>use utf8;</code>)"}, {"owner": {"reputation": 198290, "user_id": 1030675, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/957956ce51706d03f19a4dc85a767bb1?s=128&d=identicon&r=PG", "display_name": "choroba", "link": "https://stackoverflow.com/users/1030675/choroba"}, "reply_to_user": {"reputation": 87649, "user_id": 17389, "user_type": "registered", "accept_rate": 38, "profile_image": "https://www.gravatar.com/avatar/cd06d1314817ce946ab796af8750b56a?s=128&d=identicon&r=PG", "display_name": "ysth", "link": "https://stackoverflow.com/users/17389/ysth"}, "edited": false, "score": 1, "creation_date": 1493672902, "post_id": 43617962, "comment_id": 74496795, "body": "@ysth: But with <code>s&#47;&#47;&#47;</code> before 5.20, you need to use <code>s\u25c6pattern\u25c6\u25c6replacement\u25c6</code>."}, {"owner": {"reputation": 149, "user_id": 1640286, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/fe3905b2f224a2a9bd4d6d40eeaf8142?s=128&d=identicon&r=PG", "display_name": "bpj", "link": "https://stackoverflow.com/users/1640286/bpj"}, "edited": false, "score": 0, "creation_date": 1493824012, "post_id": 43617962, "comment_id": 74568854, "body": "However you can&#39;t use paired Unicode brackets: <code>q&#171;foo&#187;</code> gives an error with or without <code>use utf8;</code>. Reasonable, but still a bummer."}], "tags": [], "owner": {"reputation": 53041, "user_id": 4653379, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/b3953dbedd0dabff5cbc3db9b0835b14?s=128&d=identicon&r=PG&f=1", "display_name": "zdim", "link": "https://stackoverflow.com/users/4653379/zdim"}, "is_accepted": true, "score": 11, "last_activity_date": 1500970895, "last_edit_date": 1500970895, "creation_date": 1493143471, "answer_id": 43617962, "question_id": 43617820, "link": "https://stackoverflow.com/questions/43617820/what-are-the-legal-delimiters-for-perl-5s-pick-your-own-quotes-operators/43617962#43617962", "title": "What are the legal delimiters for Perl 5&#39;s pick-your-own-quotes operators?", "body": "<p>We have in <a href=\"http://perldoc.perl.org/perlop.html#Regexp-Quote-Like-Operators\" rel=\"nofollow noreferrer\">Regex Quote-Like Operators in perlop</a> under <code>m/PATTERN/msixpodualngc</code></p>\n\n<blockquote>\n  <p>With the <code>m</code> you can use any pair of non-whitespace (ASCII) characters as delimiters<br>\n  [...]<br>\n  When using a delimiter character valid in an identifier, whitespace is required after the <code>m</code>.</p>\n</blockquote>\n\n<p>So if you want to use a word character as the delimiter, you'll need to separate it from the operator with whitespace. This applies to both regex and non-regex uses.</p>\n\n<pre><code>$ perl -le'print qq afooa'\nfoo\n</code></pre>\n\n<p>The only one for which you don't need <code>m</code> is the solidus (<code>/</code>).<br>\nThe only one for which you don't need <code>q</code> is the apostrophe (<code>'</code>).<br>\nThe only one for which you don't need <code>qq</code> is the quotation mark (<code>\"</code>).<br>\nThe only one for which you don't need <code>qx</code> is the grave accent (<code>`</code>).</p>\n\n<p>Clearly, quoted characters that are the same as the chosen delimiter must be escaped.</p>\n\n<hr>\n\n<p>A useful read is <a href=\"http://perldoc.perl.org/perlop.html#Gory-details-of-parsing-quoted-constructs\" rel=\"nofollow noreferrer\">Gory details of parsing quoted constructs (perlop)</a></p>\n\n<p>A simplified straight rule for general quoting can be found in <em>Programming Perl</em>, under <em>Pick Your Own Quotes</em> in Chapter 2 <em>Bits and Pieces</em> (3rd Ed)</p>\n\n<blockquote>\n  <p>... any nonalphanumeric, nonwhitespace delimiter may be used </p>\n</blockquote>\n\n<p>in reference to the table much like the one <a href=\"http://perldoc.perl.org/perlop.html#Quote-and-Quote-like-Operators\" rel=\"nofollow noreferrer\">in perlop</a>.  </p>\n\n<p>While this comes straight from Camel note that with the use of space between the operator and the string we <em>can also use alphanumeric delimiters</em>, as shown in the beginning. And under <code>use utf8;</code> <a href=\"http://perldoc.perl.org/perlunifaq.html#Can-I-use-Unicode-in-my-Perl-sources?\" rel=\"nofollow noreferrer\">Unicode may be used as well</a>, thanks to <a href=\"https://stackoverflow.com/users/17389/ysth\">ysth</a>. </p>\n\n<p>Thanks to <a href=\"https://stackoverflow.com/users/589924/ikegami\">ikegami</a> for comments and edit.</p>\n\n<hr>\n\n<p>Since the question is about the exact rules I'd like to note that I couldn't find a single comprehensive statement in the docs. While the first quote here is complete, it refers to <em>Regex</em> uses.  The preceding section in <code>perlop</code> on general <em>Quote-Like</em> operators does not specify the delimiters (while the same rule does apply).</p>\n"}], "owner": {"reputation": 2026, "user_id": 1451346, "user_type": "registered", "accept_rate": 100, "profile_image": "https://i.stack.imgur.com/281CZ.png?s=128&g=1", "display_name": "Kodiologist", "link": "https://stackoverflow.com/users/1451346/kodiologist"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 416, "favorite_count": 1, "accepted_answer_id": 43617962, "answer_count": 1, "score": 11, "last_activity_date": 1500970895, "creation_date": 1493142977, "last_edit_date": 1493148997, "question_id": 43617820, "link": "https://stackoverflow.com/questions/43617820/what-are-the-legal-delimiters-for-perl-5s-pick-your-own-quotes-operators", "title": "What are the legal delimiters for Perl 5&#39;s pick-your-own-quotes operators?", "body": "<p>perlop provides various examples of the delimiters you can use for <code>q</code>, <code>qq</code>, <code>s</code>, etc., including <code>'</code>, <code>/</code>, <code>#</code>, and <code>{</code> (closing with <code>}</code> instead of itself). But what exactly are the rules for what's allowed? I notice that you can't use, for example, whitespace or a letter (edit: a letter is allowed if you put whitespace after the operator name).</p>\n"}, {"tags": ["regex", "perl"], "answers": [{"comments": [{"owner": {"reputation": 3434, "user_id": 392986, "user_type": "registered", "accept_rate": 59, "profile_image": "https://www.gravatar.com/avatar/d19d52745553f78f2a1fb39e93aacbf3?s=128&d=identicon&r=PG", "display_name": "Nick", "link": "https://stackoverflow.com/users/392986/nick"}, "edited": false, "score": 0, "creation_date": 1493138873, "post_id": 43616504, "comment_id": 74282070, "body": "Thanks. This is a simplified version of a more complex regex, so I can&#39;t use the &#39;simpler&#39; approach in my more complex problem. Why does it work with single quotes on the outside but not with double quotes? I get a syntax error with <code>echo abcd |  perl -pe &quot;s&#47;(ab)(cd)?&#47;defined($2)?$1.$2:&#39;&#39;&#47;e&quot;</code> but not with your solution"}], "tags": [], "owner": {"reputation": 320771, "user_id": 589924, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/b2cf53d5a3d25f95c0db4e025aed4153?s=128&d=identicon&r=PG", "display_name": "ikegami", "link": "https://stackoverflow.com/users/589924/ikegami"}, "is_accepted": false, "score": 6, "last_activity_date": 1560801633, "last_edit_date": 1560801633, "creation_date": 1493138612, "answer_id": 43616504, "question_id": 43616380, "link": "https://stackoverflow.com/questions/43616380/conditional-in-perl-regex-replacement/43616504#43616504", "title": "Conditional in perl regex replacement", "body": "<p>You used regex atoms <code>\\1</code> and <code>\\2</code> (match what the first or second capture captured) outside of a regex pattern. You meant to use <code>$1</code> and <code>$2</code> (as you did in another spot).</p>\n\n<p>Further more, dollar signs inside double-quoted strings have meaning to your shell. It's best to use single quotes around your program<sup>[1]</sup>.</p>\n\n<pre><code>echo abcd | perl -pe's/(ab)(cd)?/defined($2)?$1.$2:\"\"/e'\n</code></pre>\n\n<p>Simpler:</p>\n\n<pre><code>echo abcd | perl -pe's/(ab(cd)?)/defined($2)?$1:\"\"/e'\n</code></pre>\n\n<p>Simpler:</p>\n\n<pre><code>echo abcd | perl -pe's/ab(?!cd)//'\n</code></pre>\n\n<hr>\n\n<ol>\n<li>Either avoid single-quotes in your program<sup>[2]</sup>, or use <code>'\\''</code> to \"escape\" them.</li>\n<li>You can usually use <code>q{}</code> instead of single-quotes. You can also switch to using double-quotes. Inside of double-quotes, you can use <code>\\x27</code> for an apostrophe.</li>\n</ol>\n"}, {"tags": [], "owner": {"user_type": "does_not_exist", "display_name": "user557597"}, "is_accepted": false, "score": 0, "last_activity_date": 1493140675, "creation_date": 1493140675, "answer_id": 43617124, "question_id": 43616380, "link": "https://stackoverflow.com/questions/43616380/conditional-in-perl-regex-replacement/43617124#43617124", "title": "Conditional in perl regex replacement", "body": "<p>Why torture yourself, just use a branch reset.  </p>\n\n<p>Find <code>(?|(abcd)|ab())</code><br>\nReplace <code>$1</code></p>\n"}, {"tags": [], "owner": {"user_type": "does_not_exist", "display_name": "user557597"}, "is_accepted": false, "score": 0, "last_activity_date": 1493144004, "last_edit_date": 1493144004, "creation_date": 1493143457, "answer_id": 43617957, "question_id": 43616380, "link": "https://stackoverflow.com/questions/43616380/conditional-in-perl-regex-replacement/43617957#43617957", "title": "Conditional in perl regex replacement", "body": "<p>And a couple of even better ways  </p>\n\n<p>Find <code>abcd(*SKIP)(*FAIL)|ab</code><br>\nReplace <code>\"\"</code>  </p>\n\n<p>Find <code>(?:abcd)*\\Kab</code><br>\nReplace <code>\"\"</code>  </p>\n\n<p>These use regex wisely.<br>\nThere is really no need nowadays to have to use the <em>eval</em> form<br>\nof the regex substitution construct <code>s///e</code> in conjunction with defined().<br>\nThis is especially true when using the perl command line.  </p>\n\n<p>Good luck...</p>\n"}], "owner": {"reputation": 3434, "user_id": 392986, "user_type": "registered", "accept_rate": 59, "profile_image": "https://www.gravatar.com/avatar/d19d52745553f78f2a1fb39e93aacbf3?s=128&d=identicon&r=PG", "display_name": "Nick", "link": "https://stackoverflow.com/users/392986/nick"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 1162, "favorite_count": 1, "answer_count": 3, "score": 4, "last_activity_date": 1560801633, "creation_date": 1493138253, "question_id": 43616380, "link": "https://stackoverflow.com/questions/43616380/conditional-in-perl-regex-replacement", "title": "Conditional in perl regex replacement", "body": "<p>I'm trying to return different replacement results with a perl regex one-liner if it matches a group. So far I've got this:</p>\n\n<pre><code>echo abcd |  perl -pe \"s/(ab)(cd)?/defined($2)?\\1\\2:''/e\"\n</code></pre>\n\n<p>But I get</p>\n\n<pre><code>Backslash found where operator expected at -e line 1, near \"1\\\"\n(Missing operator before \\?)\nsyntax error at -e line 1, near \"1\\\"\nExecution of -e aborted due to compilation errors.\n</code></pre>\n\n<p>If the input is <code>abcd</code> I want to get <code>abcd</code> out, if it's <code>ab</code> I want to get an empty string. Where am I going wrong here?</p>\n"}, {"tags": ["perl", "lwp-useragent"], "comments": [{"owner": {"reputation": 11, "user_id": 7919165, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/fe40d9ca8469fcb47be74def701ddcde?s=128&d=identicon&r=PG&f=1", "display_name": "Micro", "link": "https://stackoverflow.com/users/7919165/micro"}, "edited": false, "score": 0, "creation_date": 1493121504, "post_id": 43610015, "comment_id": 74268811, "body": "getting output like this rx&#166;Qe9&#173;&#161;&#168;\u017d&#188;&#191;&#193;&#189;~&#184;&#215;&#238;&#253;&#224;&#182;Q &#178;6&#217;&#220;&#184;&#182;&#250;&#219;\u2019&#176; &#239;\u2019m\u2018/&#179;E&#189;$&#233; &quot;&#247;\tv&#235;&#168;{&#243;o&#178;&#232;&#163;&#197;&#220;NW&#230;-uM\u2026\u20ac&#190;&#161;&#218;\u2022&#237;&#177;&#249;LU&#215;\u201a&#187;\u2018a^\\&#230;t9q&#191;&#194;}C&#224;&#195;&#183;&#184;&#193;&#161;3&#220;&#161;4&#239;&#235;\u2018#&zwnj;&#8203;9_&#166;4_HN,"}, {"owner": {"reputation": 50468, "user_id": 1331451, "user_type": "registered", "accept_rate": 96, "profile_image": "https://i.stack.imgur.com/4ZPmj.png?s=128&g=1", "display_name": "simbabque", "link": "https://stackoverflow.com/users/1331451/simbabque"}, "edited": false, "score": 0, "creation_date": 1493122321, "post_id": 43610015, "comment_id": 74269404, "body": "Looks like the content is <b>encoded</b>, not encrypted. Use <code>$res-&gt;decoded_content</code> instead of <code>$res-&gt;content</code> to decode it. This is a normal part of how the web works. Could be <i>deflate</i> or <i>gzip</i>. See <a href=\"https://en.wikipedia.org/wiki/HTTP_compression\" rel=\"nofollow noreferrer\">en.wikipedia.org/wiki/HTTP_compression</a> for how this stuff works under the hood."}, {"owner": {"reputation": 123805, "user_id": 622310, "user_type": "registered", "accept_rate": 33, "profile_image": "https://www.gravatar.com/avatar/8b6d35219e1808520bc238b28161e2e6?s=128&d=identicon&r=PG", "display_name": "Borodin", "link": "https://stackoverflow.com/users/622310/borodin"}, "reply_to_user": {"reputation": 50468, "user_id": 1331451, "user_type": "registered", "accept_rate": 96, "profile_image": "https://i.stack.imgur.com/4ZPmj.png?s=128&g=1", "display_name": "simbabque", "link": "https://stackoverflow.com/users/1331451/simbabque"}, "edited": false, "score": 1, "creation_date": 1493122323, "post_id": 43610015, "comment_id": 74269408, "body": "@simbabque: You should post an answer"}, {"owner": {"reputation": 50468, "user_id": 1331451, "user_type": "registered", "accept_rate": 96, "profile_image": "https://i.stack.imgur.com/4ZPmj.png?s=128&g=1", "display_name": "simbabque", "link": "https://stackoverflow.com/users/1331451/simbabque"}, "reply_to_user": {"reputation": 123805, "user_id": 622310, "user_type": "registered", "accept_rate": 33, "profile_image": "https://www.gravatar.com/avatar/8b6d35219e1808520bc238b28161e2e6?s=128&d=identicon&r=PG", "display_name": "Borodin", "link": "https://stackoverflow.com/users/622310/borodin"}, "edited": false, "score": 1, "creation_date": 1493122711, "post_id": 43610015, "comment_id": 74269727, "body": "@Borodin I think that should suffice."}, {"owner": {"reputation": 123805, "user_id": 622310, "user_type": "registered", "accept_rate": 33, "profile_image": "https://www.gravatar.com/avatar/8b6d35219e1808520bc238b28161e2e6?s=128&d=identicon&r=PG", "display_name": "Borodin", "link": "https://stackoverflow.com/users/622310/borodin"}, "edited": false, "score": 0, "creation_date": 1493126398, "post_id": 43610015, "comment_id": 74272493, "body": "@Micro: Please make sure to <i>always</i> <code>use strict</code> and <code>use warnings &#39;all&#39;</code> at the top of <i>every</i> Perl program that you write."}], "answers": [{"tags": [], "owner": {"reputation": 50468, "user_id": 1331451, "user_type": "registered", "accept_rate": 96, "profile_image": "https://i.stack.imgur.com/4ZPmj.png?s=128&g=1", "display_name": "simbabque", "link": "https://stackoverflow.com/users/1331451/simbabque"}, "is_accepted": false, "score": 3, "last_activity_date": 1493122689, "creation_date": 1493122689, "answer_id": 43610440, "question_id": 43610015, "link": "https://stackoverflow.com/questions/43610015/getting-encrypted-value-while-fetching-website-using-lwp/43610440#43610440", "title": "getting encrypted value while fetching website using LWP", "body": "<p>Your output is not <strong>encrypted</strong>, <a href=\"https://en.wikipedia.org/wiki/HTTP_compression\" rel=\"nofollow noreferrer\">it's <strong>encoded</strong></a>. That's a normal way to make messages on the web smaller. Think of a ZIP file that takes less space to put on a floppy disk<sup>1</sup>. </p>\n\n<p>Luckily, <a href=\"https://metacpan.org/pod/HTTP::Response\" rel=\"nofollow noreferrer\">HTTP::Response</a> provides the <code>decoded_content</code> method that does all the decoding magic for you. Simply replace <code>$res-&gt;content</code> with <code>$res-&gt;decoded_content</code>.</p>\n\n<pre><code>my $res = $ua-&gt;get($url);\nmy $content = $res-&gt;decoded_content;\n</code></pre>\n\n<p>This will just give you the decoded content. You don't need to bother about what kind of encoding was used. Common ones are <em>gzip</em> or <em>deflate</em>, but you usually don't need to worry about that at all.</p>\n\n<p>If you're curious, you can <a href=\"https://metacpan.org/pod/HTTP::Message#$mess-%3Edump(-%25opt-)\" rel=\"nofollow noreferrer\"><code>dump</code></a> the whole response to see the headers as well as the (escaped) content in a text representation.</p>\n\n<pre><code>$res-&gt;dump;\n</code></pre>\n\n<p>The SYNOPSIS of the documentation of <a href=\"https://metacpan.org/pod/LWP::UserAgent\" rel=\"nofollow noreferrer\">LWP::UserAgent</a> actually shows this, too.</p>\n\n<blockquote>\n<pre><code>use strict;\nuse warnings;\nuse LWP::UserAgent ();\n\nmy $ua = LWP::UserAgent-&gt;new;\n$ua-&gt;timeout(10);\n$ua-&gt;env_proxy;\n\nmy $response = $ua-&gt;get('http://search.cpan.org/');\n\nif ($response-&gt;is_success) {\n    print $response-&gt;decoded_content;  # or whatever\n}\nelse {\n    die $response-&gt;status_line;\n}\n</code></pre>\n</blockquote>\n\n<hr>\n\n<p><sup>1) for those of us who remember what that is. For everyone else: the things that look like the <em>save as</em> icon</sup></p>\n"}], "owner": {"reputation": 11, "user_id": 7919165, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/fe40d9ca8469fcb47be74def701ddcde?s=128&d=identicon&r=PG&f=1", "display_name": "Micro", "link": "https://stackoverflow.com/users/7919165/micro"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 47, "favorite_count": 0, "answer_count": 1, "score": 0, "last_activity_date": 1493126510, "creation_date": 1493121420, "last_edit_date": 1493126510, "question_id": 43610015, "link": "https://stackoverflow.com/questions/43610015/getting-encrypted-value-while-fetching-website-using-lwp", "title": "getting encrypted value while fetching website using LWP", "body": "<p>I am getting encrypted data when fetching the contents of a web site. How to overcome that issue?</p>\n\n<p>Here is my script.</p>\n\n<pre><code>use LWP::UserAgent;\n\nmy $ua = LWP::UserAgent-&gt;new;\n$ua-&gt;agent( \"Mozilla/5.0 (Windows NT 6.1; WOW64; rv:31.0) Gecko/20100101 Firefox/31.0\" );\n\nmy $url = \"website url\";\n\nmy $req = HTTP::Request-&gt;new( GET =&gt; \"$url\" );\nmy $res = $ua-&gt;request( $req );\n\nmy $content = $res-&gt;content;\n\nprint $content;\n</code></pre>\n"}, {"tags": ["perl"], "comments": [{"owner": {"reputation": 123805, "user_id": 622310, "user_type": "registered", "accept_rate": 33, "profile_image": "https://www.gravatar.com/avatar/8b6d35219e1808520bc238b28161e2e6?s=128&d=identicon&r=PG", "display_name": "Borodin", "link": "https://stackoverflow.com/users/622310/borodin"}, "edited": false, "score": 0, "creation_date": 1493115020, "post_id": 43607615, "comment_id": 74264270, "body": "Please edit your question to explain more clearly how to derive that result from those input files. Are the <code>&lt;br&#47;&gt;</code> really in the input? What happens if <code>word4</code> is in file 2?"}, {"owner": {"reputation": 2415, "user_id": 4251338, "user_type": "registered", "accept_rate": 90, "profile_image": "https://i.stack.imgur.com/UNbCO.png?s=128&g=1", "display_name": "ssr1012", "link": "https://stackoverflow.com/users/4251338/ssr1012"}, "edited": false, "score": 0, "creation_date": 1493115354, "post_id": 43607615, "comment_id": 74264490, "body": "omit duplicate words and keep remaining things in the output file."}, {"owner": {"reputation": 41, "user_id": 7918059, "user_type": "registered", "accept_rate": 50, "profile_image": "https://www.gravatar.com/avatar/d5181cf8c32823af74542be6f61d87cb?s=128&d=identicon&r=PG&f=1", "display_name": "nicha", "link": "https://stackoverflow.com/users/7918059/nicha"}, "edited": false, "score": 0, "creation_date": 1493117627, "post_id": 43607615, "comment_id": 74266044, "body": "if word 4 is in file 2 we add the folowing term of word4 from file 1 to file 2  for exemple   if  file 2 is like this  word1 word8 word5 word4 ..  the resulat will be word1 word2 word3 word4 word8 word5 word2   so we add once de time word 2"}, {"owner": {"reputation": 5455, "user_id": 3961170, "user_type": "registered", "accept_rate": 73, "profile_image": "https://i.stack.imgur.com/PtFol.jpg?s=128&g=1", "display_name": "mkHun", "link": "https://stackoverflow.com/users/3961170/mkhun"}, "edited": false, "score": 0, "creation_date": 1493122722, "post_id": 43607615, "comment_id": 74269738, "body": "@AlyaLetaief Will <code>fichier2.txt</code> contain only one line or more than one line?"}, {"owner": {"reputation": 41, "user_id": 7918059, "user_type": "registered", "accept_rate": 50, "profile_image": "https://www.gravatar.com/avatar/d5181cf8c32823af74542be6f61d87cb?s=128&d=identicon&r=PG&f=1", "display_name": "nicha", "link": "https://stackoverflow.com/users/7918059/nicha"}, "edited": false, "score": 0, "creation_date": 1493122975, "post_id": 43607615, "comment_id": 74269894, "body": "more then one line surely   . resultat.txt will containt the same content of fichier2.txt but extended  with word add from fichier1.txt"}], "answers": [{"comments": [{"owner": {"reputation": 41, "user_id": 7918059, "user_type": "registered", "accept_rate": 50, "profile_image": "https://www.gravatar.com/avatar/d5181cf8c32823af74542be6f61d87cb?s=128&d=identicon&r=PG&f=1", "display_name": "nicha", "link": "https://stackoverflow.com/users/7918059/nicha"}, "edited": false, "score": 1, "creation_date": 1493117359, "post_id": 43608496, "comment_id": 74265857, "body": "with this script result is empty"}, {"owner": {"reputation": 17619, "user_id": 7818749, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/ec4a72453e116debb802d55e88c2572e?s=128&d=identicon&r=PG&f=1", "display_name": "Gerhard", "link": "https://stackoverflow.com/users/7818749/gerhard"}, "edited": false, "score": 0, "creation_date": 1493118171, "post_id": 43608496, "comment_id": 74266411, "body": "still produces empty result"}, {"owner": {"reputation": 41, "user_id": 7918059, "user_type": "registered", "accept_rate": 50, "profile_image": "https://www.gravatar.com/avatar/d5181cf8c32823af74542be6f61d87cb?s=128&d=identicon&r=PG&f=1", "display_name": "nicha", "link": "https://stackoverflow.com/users/7918059/nicha"}, "edited": false, "score": 0, "creation_date": 1493118708, "post_id": 43608496, "comment_id": 74266766, "body": "i want to add in file 3 all flowing word  of the  word that exist  in file 2"}, {"owner": {"reputation": 17619, "user_id": 7818749, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/ec4a72453e116debb802d55e88c2572e?s=128&d=identicon&r=PG&f=1", "display_name": "Gerhard", "link": "https://stackoverflow.com/users/7818749/gerhard"}, "edited": false, "score": 0, "creation_date": 1493120058, "post_id": 43608496, "comment_id": 74267724, "body": "no &lt;br/&gt; in the file. You cannot answer if you are unsure of the question"}, {"owner": {"reputation": 117, "user_id": 5393884, "user_type": "registered", "accept_rate": 71, "profile_image": "https://graph.facebook.com/143763902642314/picture?type=large", "display_name": "Mi Ka", "link": "https://stackoverflow.com/users/5393884/mi-ka"}, "edited": false, "score": 0, "creation_date": 1493120332, "post_id": 43608496, "comment_id": 74267947, "body": "Post was edited and I haven&#39;t noticed changes. So it easy"}, {"owner": {"reputation": 41, "user_id": 7918059, "user_type": "registered", "accept_rate": 50, "profile_image": "https://www.gravatar.com/avatar/d5181cf8c32823af74542be6f61d87cb?s=128&d=identicon&r=PG&f=1", "display_name": "nicha", "link": "https://stackoverflow.com/users/7918059/nicha"}, "edited": false, "score": 0, "creation_date": 1493123336, "post_id": 43608496, "comment_id": 74270161, "body": "the resultat.txt should be word1 word2 word3 word5 word9 word8 word5  word10"}, {"owner": {"reputation": 117, "user_id": 5393884, "user_type": "registered", "accept_rate": 71, "profile_image": "https://graph.facebook.com/143763902642314/picture?type=large", "display_name": "Mi Ka", "link": "https://stackoverflow.com/users/5393884/mi-ka"}, "edited": false, "score": 0, "creation_date": 1493138035, "post_id": 43608496, "comment_id": 74281572, "body": "is order important?"}], "tags": [], "owner": {"reputation": 117, "user_id": 5393884, "user_type": "registered", "accept_rate": 71, "profile_image": "https://graph.facebook.com/143763902642314/picture?type=large", "display_name": "Mi Ka", "link": "https://stackoverflow.com/users/5393884/mi-ka"}, "is_accepted": false, "score": 0, "last_activity_date": 1493120682, "last_edit_date": 1493120682, "creation_date": 1493117076, "answer_id": 43608496, "question_id": 43607615, "link": "https://stackoverflow.com/questions/43607615/add-term-from-a-file-to-another-perl/43608496#43608496", "title": "Add term from a file to another perl", "body": "<p>You want to write to file 3 all words from file 1, that are in file 2, and do it only once? </p>\n\n<p>This will help you </p>\n\n<pre><code>open my $FILE1,\"&lt;\",\"./fichier1.txt\" or die \"Cannot open fichier1.txt $!\";\nopen my $FILE2,\"&lt;\",\"./fichier2.txt\" or die \"Cannot open fichier2.txt $!\";\nopen my $FILE3,\"&gt;\", \"./resultat.txt\" or die \"Cannot create resultat.txt $!\";\nmy %unique;\n\nwhile(&lt;$FILE2&gt;) {\n    my @words = split /\\s/;\n    $unique{$_} = 1 for @words;\n}\nclose($FILE2);\nwhile(&lt;$FILE1&gt;) {\n        my @words = split /\\s/; \n        for (@words) {\n            if ($unique{$_}) {\n                print $FILE3 \"$_ \";\n                delete $unique{$_};\n            }   \n        }    \n}\n</code></pre>\n\n<p>this is my fichier1.txt</p>\n\n<pre><code>word1 word2 word3 \n word1 word5 word9\n word2 word4 word8\n</code></pre>\n\n<p>this is my fichier2.txt</p>\n\n<pre><code>word1 word8 word5 word10\n</code></pre>\n\n<p>this is my result.txt</p>\n\n<pre><code>word1 word5 word8\n</code></pre>\n\n<p>maybe I didn't understand task correctly</p>\n"}, {"comments": [{"owner": {"reputation": 41, "user_id": 7918059, "user_type": "registered", "accept_rate": 50, "profile_image": "https://www.gravatar.com/avatar/d5181cf8c32823af74542be6f61d87cb?s=128&d=identicon&r=PG&f=1", "display_name": "nicha", "link": "https://stackoverflow.com/users/7918059/nicha"}, "edited": false, "score": 0, "creation_date": 1493144471, "post_id": 43616652, "comment_id": 74285290, "body": "this script give this result word10 word1 word5 word3 word2 word4 word8 word9   but result should be  word1 word2 word3 word5 word9 word8 word5 word10"}, {"owner": {"reputation": 117, "user_id": 5393884, "user_type": "registered", "accept_rate": 71, "profile_image": "https://graph.facebook.com/143763902642314/picture?type=large", "display_name": "Mi Ka", "link": "https://stackoverflow.com/users/5393884/mi-ka"}, "reply_to_user": {"reputation": 41, "user_id": 7918059, "user_type": "registered", "accept_rate": 50, "profile_image": "https://www.gravatar.com/avatar/d5181cf8c32823af74542be6f61d87cb?s=128&d=identicon&r=PG&f=1", "display_name": "nicha", "link": "https://stackoverflow.com/users/7918059/nicha"}, "edited": false, "score": 0, "creation_date": 1493146409, "post_id": 43616652, "comment_id": 74286386, "body": "maybe so? word1 word2 word3 word5 word9 word4 word10"}, {"owner": {"reputation": 41, "user_id": 7918059, "user_type": "registered", "accept_rate": 50, "profile_image": "https://www.gravatar.com/avatar/d5181cf8c32823af74542be6f61d87cb?s=128&d=identicon&r=PG&f=1", "display_name": "nicha", "link": "https://stackoverflow.com/users/7918059/nicha"}, "edited": false, "score": 0, "creation_date": 1493151468, "post_id": 43616652, "comment_id": 74289451, "body": "yes because word5 is in fichier2.txt already so we can delete it but when we see in fichier.txt word5 exist so then we shoud add the following word of word5 that is word9 but we don&#39;t add it because we added it  when we added following words of word1"}, {"owner": {"reputation": 41, "user_id": 7918059, "user_type": "registered", "accept_rate": 50, "profile_image": "https://www.gravatar.com/avatar/d5181cf8c32823af74542be6f61d87cb?s=128&d=identicon&r=PG&f=1", "display_name": "nicha", "link": "https://stackoverflow.com/users/7918059/nicha"}, "edited": false, "score": 0, "creation_date": 1493152038, "post_id": 43616652, "comment_id": 74289769, "body": "file1   word1 word2 word3   word1 word5 word9  word2 word4 word8     file2  word1 word8 word5 word10                                                                                                                                    the result    word1 word2 word3 word5 word9 word8 word5 word10"}], "tags": [], "owner": {"reputation": 117, "user_id": 5393884, "user_type": "registered", "accept_rate": 71, "profile_image": "https://graph.facebook.com/143763902642314/picture?type=large", "display_name": "Mi Ka", "link": "https://stackoverflow.com/users/5393884/mi-ka"}, "is_accepted": false, "score": 1, "last_activity_date": 1493146766, "last_edit_date": 1493146766, "creation_date": 1493139055, "answer_id": 43616652, "question_id": 43607615, "link": "https://stackoverflow.com/questions/43607615/add-term-from-a-file-to-another-perl/43616652#43616652", "title": "Add term from a file to another perl", "body": "<pre><code>open $FILE1,'&lt;','./fichier1.txt' or die \"Cannot open fichier1.txt $!\";\nopen $FILE2,'&lt;','./fichier2.txt' or die \"Cannot open fichier2.txt $!\";\nopen $FILE3,'&gt;', './resultat.txt' or die \"Cannot create resultat.txt $!\";\nmy %unique;\nmy @result;\n\nsub pusher {\n    for (split /\\s+/, shift) {\n        next unless $_;\n        next if ($unique{$_});\n        push @result, $_;\n        $unique{$_} = 1;\n    }\n}\n\nfor(&lt;$FILE1&gt;, &lt;$FILE2&gt;) {\n    pusher($_);\n}\nclose($FILE1);\nclose($FILE2);\nprint $FILE3 join ' ', @result;\nclose($FILE3);          \n</code></pre>\n"}], "owner": {"reputation": 41, "user_id": 7918059, "user_type": "registered", "accept_rate": 50, "profile_image": "https://www.gravatar.com/avatar/d5181cf8c32823af74542be6f61d87cb?s=128&d=identicon&r=PG&f=1", "display_name": "nicha", "link": "https://stackoverflow.com/users/7918059/nicha"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 99, "favorite_count": 0, "answer_count": 2, "score": 1, "last_activity_date": 1493146766, "creation_date": 1493114751, "last_edit_date": 1493117545, "question_id": 43607615, "link": "https://stackoverflow.com/questions/43607615/add-term-from-a-file-to-another-perl", "title": "Add term from a file to another perl", "body": "<p>file 1</p>\n\n<pre><code>word1 word2 word3 \n word1 word4 word2\n word2 word4 word2\n</code></pre>\n\n<p>file 2</p>\n\n<pre><code>word1 word8 word5....\n</code></pre>\n\n<p>the result I want is to add all next words of a word from file 1 if it exist in file 2 . Every word added should be added once time .</p>\n\n<p>so the resulat</p>\n\n<pre><code>word1 word2 word3 word4 word8 word5....\n</code></pre>\n\n<p>i try this but it dont give me the solution </p>\n\n<pre><code> #!/usr/bin/perl\n\nopen FILE1,\"./fichier1.txt\" or die \"Cannot open fichier1.txt\";\nopen FILE2,\"./fichier2.txt\" or die \"Cannot open fichier2.txt\";\nopen FILE3,\"&gt;./resultat.txt\" or die \"Cannot create resultat.txt\";\n\nwhile (&lt;FILE1&gt;)\n{\n  chomp;\n  /[^\\ ]*$/;\n  $common = $&amp;;\n  $begin = $`;\n  chop $begin;\n  $array{$common} = $begin;\n}\nclose FILE1;\nwhile (&lt;FILE2&gt;)\n{\n  chomp;\n  /^[^\\ ]*\\ /;\n  $common = $&amp;;\n  chop $common;\n  $end = $';\n  print FILE3 \"$array{$common} $common $end\\n\" if exists $array{$common};\n}\nclose FILE2;\nclose FILE3;\n</code></pre>\n"}, {"tags": ["regex", "perl", "ibm-mq"], "comments": [{"owner": {"reputation": 60461, "user_id": 3636601, "user_type": "registered", "accept_rate": 75, "profile_image": "https://www.gravatar.com/avatar/69a1b4f750ece89db0e49c94519f1a7d?s=128&d=identicon&r=PG&f=1", "display_name": "Jens", "link": "https://stackoverflow.com/users/3636601/jens"}, "edited": false, "score": 1, "creation_date": 1493112206, "post_id": 43606522, "comment_id": 74262311, "body": "Looks like sometime <code>$QName</code> is not matched in your regex."}], "answers": [{"comments": [{"owner": {"reputation": 60461, "user_id": 3636601, "user_type": "registered", "accept_rate": 75, "profile_image": "https://www.gravatar.com/avatar/69a1b4f750ece89db0e49c94519f1a7d?s=128&d=identicon&r=PG&f=1", "display_name": "Jens", "link": "https://stackoverflow.com/users/3636601/jens"}, "edited": false, "score": 0, "creation_date": 1493116537, "post_id": 43606763, "comment_id": 74265263, "body": "@Downvoter: please explain, so i can improve my answer"}], "tags": [], "owner": {"reputation": 60461, "user_id": 3636601, "user_type": "registered", "accept_rate": 75, "profile_image": "https://www.gravatar.com/avatar/69a1b4f750ece89db0e49c94519f1a7d?s=128&d=identicon&r=PG&f=1", "display_name": "Jens", "link": "https://stackoverflow.com/users/3636601/jens"}, "is_accepted": true, "score": 3, "last_activity_date": 1493112628, "creation_date": 1493112628, "answer_id": 43606763, "question_id": 43606522, "link": "https://stackoverflow.com/questions/43606522/hash-in-hashes-perl-code-issue/43606763#43606763", "title": "Hash in hashes perl code issue", "body": "<p>You have to check if the QName is matched and remember it:</p>\n\n<pre><code>#!/usr/bin/perl\n\nuse warnings;\nuse strict;\n\nmy %QM;\nmy $qm = 'MQ_NAME';\n\nopen (CHS_OUT, \"result.txt\");\nmy $QName;\nwhile (&lt;CHS_OUT&gt;) {\n        my ($QUEUE, $QName1) = / ( QUEUE ) \\( ( [^)]+ ) /x;\n\n        if ($QName1) {\n                $QName=$QName1;\n        }\n        if ( my ($item, $value)\n        = / ( CURDEPTH | MAXDEPTH ) \\( ( [^)]+ ) /x )\n        {\n                $QM{$QName}{$item} = $value;\n        }\n}\n\nforeach my $Que (sort keys %QM) {\n        foreach my $v (keys %{ $QM{$Que} }) {\n                print \"$Que : $v = $QM{$Que}{$v} \\n\";\n        }\n}\n</code></pre>\n\n<p>OUTPUT:</p>\n\n<pre><code>SYSTEM.RETAINED.PUB.QUEUE : CURDEPTH = 2\nSYSTEM.RETAINED.PUB.QUEUE : MAXDEPTH = 999999999\nSYSTEM.SELECTION.EVALUATION.QUEUE : CURDEPTH = 0\nSYSTEM.SELECTION.EVALUATION.QUEUE : MAXDEPTH = 999999999\nSYSTEM.SELECTION.VALIDATION.QUEUE : MAXDEPTH = 999999999\nSYSTEM.SELECTION.VALIDATION.QUEUE : CURDEPTH = 0\n</code></pre>\n"}], "owner": {"reputation": 199, "user_id": 7417672, "user_type": "registered", "accept_rate": 60, "profile_image": "https://www.gravatar.com/avatar/2ad237af02e20c5e05e2fc22985bf646?s=128&d=identicon&r=PG&f=1", "display_name": "MrAZ", "link": "https://stackoverflow.com/users/7417672/mraz"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 69, "favorite_count": 0, "accepted_answer_id": 43606763, "answer_count": 1, "score": 1, "last_activity_date": 1498171496, "creation_date": 1493112024, "last_edit_date": 1498171496, "question_id": 43606522, "link": "https://stackoverflow.com/questions/43606522/hash-in-hashes-perl-code-issue", "title": "Hash in hashes perl code issue", "body": "<p>I tried to store information from below command using perl code,</p>\n\n<blockquote>\n  <p>dis ql(*) all'|runmqsc MQ_NAME</p>\n</blockquote>\n\n<p>Assume the output from this command as below,</p>\n\n<pre><code>AMQ8409: Display Queue details.\n   QUEUE(SYSTEM.RETAINED.PUB.QUEUE)        TYPE(QLOCAL)\n   ACCTQ(QMGR)                             ALTDATE(2016-08-01)\n   ALTTIME(18.33.20)                       BOQNAME( )\n   CLWLPRTY(0)                             CLWLRANK(0)\n   CLWLUSEQ(QMGR)                          CRDATE(2016-08-01)\n   CRTIME(18.32.37)                        CURDEPTH(2)\n   MAXDEPTH(999999999)                     MAXMSGL(104857600)\n\nAMQ8409: Display Queue details.\n   QUEUE(SYSTEM.SELECTION.EVALUATION.QUEUE)\n   TYPE(QLOCAL)                            ACCTQ(QMGR)\n   ALTDATE(2016-08-01)                     ALTTIME(18.33.20)\n   BOQNAME( )                              BOTHRESH(0)\n   CLWLRANK(0)                             CLWLUSEQ(QMGR)\n   CRDATE(2016-08-01)                      CRTIME(18.32.37)\n   CURDEPTH(0)                             CUSTOM( )\n   IPPROCS(0)                              MAXDEPTH(999999999)\n\nAMQ8409: Display Queue details.\n   QUEUE(SYSTEM.SELECTION.VALIDATION.QUEUE)\n   TYPE(QLOCAL)                            ACCTQ(QMGR)\n   ALTDATE(2016-08-01)                     ALTTIME(18.33.20)\n   BOQNAME( )                              BOTHRESH(0)\n   CLWLRANK(0)                             CLWLUSEQ(QMGR)\n   CRDATE(2016-08-01)                      CRTIME(18.32.37)\n   CURDEPTH(0)                             CUSTOM( )\n   IPPROCS(0)                              MAXDEPTH(999999999)                       \n</code></pre>\n\n<p>So, for each of this output (from we can see there are 3), I wrote a code to store information about QUEUE, CURDEPTH and MAXDEPTH for each MQ queue name.</p>\n\n<p>My code as below,</p>\n\n<pre><code>#!/usr/bin/perl\n\nuse warnings;\nuse strict;\n\nmy %QM;\nmy $qm = 'MQ_NAME';\n\nopen (CHS_OUT, \"echo 'dis ql(*) all'|runmqsc $qm|\");\n\nwhile (&lt;CHS_OUT&gt;) {\n\n        my ($QUEUE, $QName) = / ( QUEUE ) \\( ( [^)]+ ) /x;\n\n        if ( my ($item, $value)\n        = / ( CURDEPTH | MAXDEPTH ) \\( ( [^)]+ ) /x )\n        {       \n                $QM{$QName}{$item} = $value;\n        }\n}\n\nforeach my $Que (sort keys %QM) {\n        foreach my $v (keys %{ $QM{$Que} }) {\n                print \"$Que : $v = $QM{$Que}{$v} \\n\";\n        }\n}\n</code></pre>\n\n<p>I already try to make the $QName as global still cannot help, there are still error from this code.</p>\n\n<p>Output from my code:</p>\n\n<pre><code>Use of uninitialized value $QName in hash element at mq_queue_5.pl line 25, &lt;CHS_OUT&gt; line 7353.\nUse of uninitialized value $QName in hash element at mq_queue_5.pl line 25, &lt;CHS_OUT&gt; line 7361.\nUse of uninitialized value $QName in hash element at mq_queue_5.pl line 25, &lt;CHS_OUT&gt; line 7384.\nUse of uninitialized value $QName in hash element at mq_queue_5.pl line 25, &lt;CHS_OUT&gt; line 7392.\n : CURDEPTH = 0 \n : MAXDEPTH = 999999999 \n</code></pre>\n\n<p>I already stuck for multiple days, already make a lot of changes but still does'nt help.</p>\n"}, {"tags": ["json", "perl", "parsing"], "comments": [{"owner": {"reputation": 50468, "user_id": 1331451, "user_type": "registered", "accept_rate": 96, "profile_image": "https://i.stack.imgur.com/4ZPmj.png?s=128&g=1", "display_name": "simbabque", "link": "https://stackoverflow.com/users/1331451/simbabque"}, "edited": false, "score": 0, "creation_date": 1493111382, "post_id": 43606192, "comment_id": 74261669, "body": "The error message means that you probably miss a dependency. Are you using a system Perl that&#39;s installed through a bunch of operating system packages? Your JSON does not have several structures. It looks like it&#39;s an object that is missing the outermost curly braces <code>{}</code>. Can you fix the input?"}, {"owner": {"reputation": 45, "user_id": 7447962, "user_type": "registered", "accept_rate": 0, "profile_image": "https://www.gravatar.com/avatar/0568e888fdb6e2bf4e268b59754ff1f7?s=128&d=identicon&r=PG&f=1", "display_name": "dash", "link": "https://stackoverflow.com/users/7447962/dash"}, "reply_to_user": {"reputation": 50468, "user_id": 1331451, "user_type": "registered", "accept_rate": 96, "profile_image": "https://i.stack.imgur.com/4ZPmj.png?s=128&g=1", "display_name": "simbabque", "link": "https://stackoverflow.com/users/1331451/simbabque"}, "edited": false, "score": 0, "creation_date": 1493111825, "post_id": 43606192, "comment_id": 74262008, "body": "Thanks for pointing it out. I have put the external braces."}, {"owner": {"reputation": 61409, "user_id": 485343, "user_type": "registered", "accept_rate": 75, "profile_image": "https://www.gravatar.com/avatar/e18b024a122df74275dd2c4486e8a2b4?s=128&d=identicon&r=PG", "display_name": "rustyx", "link": "https://stackoverflow.com/users/485343/rustyx"}, "edited": false, "score": 0, "creation_date": 1493112036, "post_id": 43606192, "comment_id": 74262182, "body": "You need to upgrade Carp. Try <code>cpan Carp</code>."}, {"owner": {"reputation": 45, "user_id": 7447962, "user_type": "registered", "accept_rate": 0, "profile_image": "https://www.gravatar.com/avatar/0568e888fdb6e2bf4e268b59754ff1f7?s=128&d=identicon&r=PG&f=1", "display_name": "dash", "link": "https://stackoverflow.com/users/7447962/dash"}, "edited": false, "score": 0, "creation_date": 1493112130, "post_id": 43606192, "comment_id": 74262252, "body": "My code works if the JSON file, tmp1.json contains the following single message: {  &quot;tag1&quot; : &quot;&quot;,          &quot;tag2&quot; : true,      &quot;tag3&quot; : [         {            &quot;status&quot; : &quot;TRUE&quot;,            &quot;name&quot; : &quot;DEF&quot;,            &quot;age&quot; : &quot;28&quot;,            &quot;sex&quot; : &quot;f&quot;         },         {            &quot;status&quot; : &quot;FALSE&quot;,            &quot;name&quot; : &quot;PQR&quot;,            &quot;age&quot; : &quot;39&quot;,            &quot;sex&quot; : &quot;f&quot;         }      ],      &quot;tag4&quot; : &quot;FAILED&quot;,      &quot;tag5&quot; : &quot;/test/test1/test2/test3/supertest2/test02&quot;,      &quot;tag6&quot; : &quot;&quot;    }"}, {"owner": {"reputation": 50468, "user_id": 1331451, "user_type": "registered", "accept_rate": 96, "profile_image": "https://i.stack.imgur.com/4ZPmj.png?s=128&g=1", "display_name": "simbabque", "link": "https://stackoverflow.com/users/1331451/simbabque"}, "edited": false, "score": 0, "creation_date": 1493112369, "post_id": 43606192, "comment_id": 74262447, "body": "So you have a file with more than one structure in that one file, where each of those structures looks like the example in the question? JSON doesn&#39;t like that. Please include more of your file. The most relevant part is missing right now."}, {"owner": {"reputation": 45, "user_id": 7447962, "user_type": "registered", "accept_rate": 0, "profile_image": "https://www.gravatar.com/avatar/0568e888fdb6e2bf4e268b59754ff1f7?s=128&d=identicon&r=PG&f=1", "display_name": "dash", "link": "https://stackoverflow.com/users/7447962/dash"}, "edited": false, "score": 0, "creation_date": 1493112849, "post_id": 43606192, "comment_id": 74262820, "body": "That is the complete file with more repeated similar structures within the external curly braces."}, {"owner": {"reputation": 50468, "user_id": 1331451, "user_type": "registered", "accept_rate": 96, "profile_image": "https://i.stack.imgur.com/4ZPmj.png?s=128&g=1", "display_name": "simbabque", "link": "https://stackoverflow.com/users/1331451/simbabque"}, "edited": false, "score": 0, "creation_date": 1493115005, "post_id": 43606192, "comment_id": 74264263, "body": "Now your code doesn&#39;t match the data structure any more."}, {"owner": {"reputation": 123805, "user_id": 622310, "user_type": "registered", "accept_rate": 33, "profile_image": "https://www.gravatar.com/avatar/8b6d35219e1808520bc238b28161e2e6?s=128&d=identicon&r=PG", "display_name": "Borodin", "link": "https://stackoverflow.com/users/622310/borodin"}, "edited": false, "score": 1, "creation_date": 1493115500, "post_id": 43606192, "comment_id": 74264572, "body": "Please edit your question to show the real data that causes the problem, or some similar data that produces the same error."}], "answers": [{"tags": [], "owner": {"reputation": 87649, "user_id": 17389, "user_type": "registered", "accept_rate": 38, "profile_image": "https://www.gravatar.com/avatar/cd06d1314817ce946ab796af8750b56a?s=128&d=identicon&r=PG", "display_name": "ysth", "link": "https://stackoverflow.com/users/17389/ysth"}, "is_accepted": false, "score": 3, "last_activity_date": 1493121807, "creation_date": 1493121807, "answer_id": 43610154, "question_id": 43606192, "link": "https://stackoverflow.com/questions/43606192/perl-code-for-multiple-json-messages-parsing/43610154#43610154", "title": "Perl code for multiple JSON messages parsing", "body": "<p>To parse multiple JSON objects, use JSON::XS's incremental parsing.</p>\n\n<pre><code>my $json = '{\"foo\":\"bar\"}   [\"baz\"]   true';\n\nmy @results = JSON::XS-&gt;new-&gt;incr_parse($json);\nuse Data::Dumper;\nprint Dumper \\@results;\n</code></pre>\n\n<p>Output:</p>\n\n<pre><code>$VAR1 = [\n          {\n            'foo' =&gt; 'bar'\n          },\n          [\n            'baz'\n          ],\n          bless( do{\\(my $o = 1)}, 'JSON::PP::Boolean' )\n        ];\n</code></pre>\n"}], "owner": {"reputation": 45, "user_id": 7447962, "user_type": "registered", "accept_rate": 0, "profile_image": "https://www.gravatar.com/avatar/0568e888fdb6e2bf4e268b59754ff1f7?s=128&d=identicon&r=PG&f=1", "display_name": "dash", "link": "https://stackoverflow.com/users/7447962/dash"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 507, "favorite_count": 0, "answer_count": 1, "score": 0, "last_activity_date": 1493121807, "creation_date": 1493111168, "last_edit_date": 1493113622, "question_id": 43606192, "link": "https://stackoverflow.com/questions/43606192/perl-code-for-multiple-json-messages-parsing", "title": "Perl code for multiple JSON messages parsing", "body": "<p>I am trying to write a perl code to parse multiple JSON messages. The perl code that I have written only parses the values if the JSON file contains only one json message. But it fails when there are multiple messages in that file. It throws error: \"Undefined subroutine &amp;Carp::shortmess_heavy\". The JSON file is in the following format:</p>\n\n<pre><code>    {\n    \"/test/test1/test2/test3/supertest4\" : [],\n    \"/test/test1/test2/test3/supertest2\" : [\n     {\n     \"tag1\" : \"\",\n     \"tag2\" : true,\n     \"tag3\" : [\n        {\n           \"status\" : \"TRUE\",\n           \"name\" : \"DEF\",\n           \"age\" : \"28\",\n           \"sex\" : \"f\"\n        },\n        {\n           \"status\" : \"FALSE\",\n           \"name\" : \"PQR\",\n           \"age\" : \"39\",\n           \"sex\" : \"f\"\n        }\n     ],\n     \"tag4\" : \"FAILED\",\n     \"tag5\" : \"/test/test1/test2/test3/supertest2/test02\",\n     \"tag6\" : \"\"\n   }\n],\n\"/test/test1/test2/test3/supertest1\" : [\n{\n     \"tag1\" : \"\",\n     \"tag2\" : false,\n     \"tag3\" : [\n        {\n           \"status\" : \"TRUE\",\n           \"name\" : \"ABC\",\n           \"age\" : \"21\",\n           \"sex\" : \"m\"\n        },\n        {\n           \"status\" : \"FALSE\",\n           \"name\" : \"XYZ\",\n           \"age\" : \"34\",\n           \"sex\" : \"f\"\n        }\n     ],\n     \"tag4\" : \"PASSED\",\n     \"tag5\" : \"/test/test1/test2/test3/supertest1/test01\",\n     \"tag6\" : \"\"\n   }\n   ],\n \"/test/test1/test2/test3/supertest6\" : []\n}\n</code></pre>\n\n<p>My perl code to parse a single JSON message:</p>\n\n<pre><code>use strict;\nuse warnings;\nuse Data::Dumper;\nuse JSON;\nuse JSON qw( decode_json );\n\nmy $json_file = \"tmp1.json\";\n\nmy $json;\nopen (my $fh, '&lt;', $json_file) or die \"can not open file $json_file\";\n{ local $/; $json = &lt;$fh&gt;; }\nclose($fh);\n\nmy $decoded = decode_json($json);\n\nprint \"TAG4 = \" . $decoded-&gt;{'tag4'} . \"\\n\";\nprint \"TAg5 = \" . $decoded-&gt;{'tag5'} . \"\\n\";\n\nmy @tag3 = @{ $decoded-&gt;{'tag3'} };\nforeach my $tg3 ( @tag3 ) {\nprint \"Name = \". $tg3-&gt;{\"name\"} . \"\\n\";\nprint \"Status = \". $tg3-&gt;{\"status\"} . \"\\n\";\nprint \"Age = \". $tg3-&gt;{\"age\"} . \"\\n\";\n\n}\n</code></pre>\n\n<p>Please help.</p>\n\n<p>Thanks!</p>\n"}, {"tags": ["perl", "nginx", "proxy", "lua"], "comments": [{"owner": {"reputation": 3, "user_id": 3574675, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/6bd928e7fa5b635762fb2d0177476252?s=128&d=identicon&r=PG&f=1", "display_name": "cdosso", "link": "https://stackoverflow.com/users/3574675/cdosso"}, "edited": false, "score": 0, "creation_date": 1493110425, "post_id": 43605544, "comment_id": 74261005, "body": "Try this: <a href=\"http://stackoverflow.com/questions/20254456/intercepting-backend-301-302-redirects-proxy-pass-and-rewriting-to-another-loc\" title=\"intercepting backend 301 302 redirects proxy pass and rewriting to another loc\">stackoverflow.com/questions/20254456/&hellip;</a>"}, {"owner": {"reputation": 18271, "user_id": 447344, "user_type": "registered", "accept_rate": 44, "profile_image": "https://i.stack.imgur.com/hq0lN.jpg?s=128&g=1", "display_name": "Thomas Decaux", "link": "https://stackoverflow.com/users/447344/thomas-decaux"}, "reply_to_user": {"reputation": 3, "user_id": 3574675, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/6bd928e7fa5b635762fb2d0177476252?s=128&d=identicon&r=PG&f=1", "display_name": "cdosso", "link": "https://stackoverflow.com/users/3574675/cdosso"}, "edited": false, "score": 0, "creation_date": 1493110938, "post_id": 43605544, "comment_id": 74261362, "body": "thanks, should do the trick!"}, {"owner": {"reputation": 8277, "user_id": 1718213, "user_type": "registered", "accept_rate": 71, "profile_image": "https://i.stack.imgur.com/fkx6b.jpg?s=128&g=1", "display_name": "SergeyB", "link": "https://stackoverflow.com/users/1718213/sergeyb"}, "edited": false, "score": 0, "creation_date": 1591289999, "post_id": 43605544, "comment_id": 110006911, "body": "@ThomasDecaux, could you please post your solution? I&#39;m facing a similar issues."}], "owner": {"reputation": 18271, "user_id": 447344, "user_type": "registered", "accept_rate": 44, "profile_image": "https://i.stack.imgur.com/hq0lN.jpg?s=128&g=1", "display_name": "Thomas Decaux", "link": "https://stackoverflow.com/users/447344/thomas-decaux"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 987, "favorite_count": 0, "answer_count": 0, "score": 1, "last_activity_date": 1493109308, "creation_date": 1493109308, "question_id": 43605544, "link": "https://stackoverflow.com/questions/43605544/rewrite-proxy-redirection-with-nginx", "title": "Rewrite proxy redirection with Nginx", "body": "<p>Using Nginx to proxy Hadoop services web UI:</p>\n\n<p>User --> (https) Nginx --> Hadoop {DATA NODES YARN web UI, webhdfs ...}</p>\n\n<p>When I curl to <code>https://HOST/webhdfs/.....</code> the webhdfs server redirect to data node:</p>\n\n<pre><code>HTTP/1.1 307 TEMPORARY_REDIRECT\nLocation: http://DATA-NODE-1:50075/webhdfs ...\n</code></pre>\n\n<p>Where <code>DATA-NODE-1</code> is a DNS/IP \"intern\" to Hadoop cluster so end-user cannot access it.</p>\n\n<p>I want to rewrite the <code>Location</code>header sent by proxied backend to:</p>\n\n<p><code>https://50075.DATA-NODE-1.HOST/webhdfs...</code> (PORT.SERVICE.HOST)</p>\n\n<p>So Nginx can handle it, and do the proxy stuff.</p>\n\n<p>Is it possible with Nginx modules or do I need a LUA/Perl script?</p>\n"}, {"tags": ["perl", "hash"], "comments": [{"owner": {"reputation": 32176, "user_id": 2173773, "user_type": "registered", "accept_rate": 86, "profile_image": "https://i.stack.imgur.com/M8yh6.jpg?s=128&g=1", "display_name": "H&#229;kon H&#230;gland", "link": "https://stackoverflow.com/users/2173773/h%c3%a5kon-h%c3%a6gland"}, "edited": false, "score": 1, "creation_date": 1493108818, "post_id": 43605142, "comment_id": 74259935, "body": "You can try use <a href=\"https://perldoc.perl.org/functions/eval.html\" rel=\"nofollow noreferrer\"><code>eval</code></a> to convert the string into a Perl hash first"}, {"owner": {"reputation": 198290, "user_id": 1030675, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/957956ce51706d03f19a4dc85a767bb1?s=128&d=identicon&r=PG", "display_name": "choroba", "link": "https://stackoverflow.com/users/1030675/choroba"}, "edited": false, "score": 2, "creation_date": 1493109452, "post_id": 43605142, "comment_id": 74260310, "body": "If you go the <code>eval</code> route, make sure the variable doesn&#39;t contain any malicious code."}, {"owner": {"reputation": 50468, "user_id": 1331451, "user_type": "registered", "accept_rate": 96, "profile_image": "https://i.stack.imgur.com/4ZPmj.png?s=128&g=1", "display_name": "simbabque", "link": "https://stackoverflow.com/users/1331451/simbabque"}, "reply_to_user": {"reputation": 32176, "user_id": 2173773, "user_type": "registered", "accept_rate": 86, "profile_image": "https://i.stack.imgur.com/M8yh6.jpg?s=128&g=1", "display_name": "H&#229;kon H&#230;gland", "link": "https://stackoverflow.com/users/2173773/h%c3%a5kon-h%c3%a6gland"}, "edited": false, "score": 1, "creation_date": 1493110242, "post_id": 43605142, "comment_id": 74260854, "body": "In case this is not clear to you: Your variable contains a string representation of the data structure, not the data structure itself. You can see that because the quotes are escaped <code>\\&#39;rh6\\&#39;</code>, and because the error message says <i>can&#39;t use <b>string</b> as a HASH reference</i>. So <code>eval</code> is your best bet, like @H&#229;konH&#230;gland says."}, {"owner": {"reputation": 301, "user_id": 6173767, "user_type": "registered", "accept_rate": 75, "profile_image": "https://lh6.googleusercontent.com/-qPqJcB8w5ec/AAAAAAAAAAI/AAAAAAAAAhM/EDZ9zfjf6G8/photo.jpg?sz=128", "display_name": "Nikhil Hegde", "link": "https://stackoverflow.com/users/6173767/nikhil-hegde"}, "edited": false, "score": 0, "creation_date": 1493120213, "post_id": 43605142, "comment_id": 74267851, "body": "<code>%{ eval $resourceAudit };</code> worked. Thanks!"}], "answers": [{"tags": [], "owner": {"reputation": 320771, "user_id": 589924, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/b2cf53d5a3d25f95c0db4e025aed4153?s=128&d=identicon&r=PG", "display_name": "ikegami", "link": "https://stackoverflow.com/users/589924/ikegami"}, "is_accepted": true, "score": 2, "last_activity_date": 1493140844, "creation_date": 1493140844, "answer_id": 43617170, "question_id": 43605142, "link": "https://stackoverflow.com/questions/43605142/cant-use-string-as-a-hash-reference/43617170#43617170", "title": "Can&#39;t use string as a HASH reference", "body": "<p><code>$resourceAudit</code> doesn't contain a reference to a hash; it contains a string. That string is Perl code that would return a reference to a hash when executed. You can use <code>eval EXPR</code> to run Perl code.</p>\n\n<pre><code>my $data = eval($serialized_data)\n   or die(\"Error executing audit code: $@\");\n\n... %$data ...\n</code></pre>\n"}], "owner": {"reputation": 301, "user_id": 6173767, "user_type": "registered", "accept_rate": 75, "profile_image": "https://lh6.googleusercontent.com/-qPqJcB8w5ec/AAAAAAAAAAI/AAAAAAAAAhM/EDZ9zfjf6G8/photo.jpg?sz=128", "display_name": "Nikhil Hegde", "link": "https://stackoverflow.com/users/6173767/nikhil-hegde"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 67, "favorite_count": 0, "accepted_answer_id": 43617170, "answer_count": 1, "score": -2, "last_activity_date": 1493140844, "creation_date": 1493108071, "question_id": 43605142, "link": "https://stackoverflow.com/questions/43605142/cant-use-string-as-a-hash-reference", "title": "Can&#39;t use string as a HASH reference", "body": "<p>Here's the structure that I'm trying to access</p>\n\n<pre><code>Dumper $resourceAudit\n\n$VAR1 = '{\n  \\'rh6\\' =&gt; {\n                    \\'h\\' =&gt; 1,\n                    \\'n\\' =&gt; 1\n                  },\n  \\'win2k8\\' =&gt; {\n                     \\'h\\' =&gt; 1,\n                     \\'n\\' =&gt; 1\n                   },\n  \\'win2k12\\' =&gt; {\n                        \\'h\\' =&gt; 3,\n                        \\'n\\' =&gt; 3\n                      },\n  \\'win2k3\\' =&gt; {\n                     \\'h\\' =&gt; 0,\n                     \\'n\\' =&gt; 1\n                   },\n  \\'usim\\' =&gt; {\n                               \\'h\\' =&gt; 4,\n                               \\'n\\' =&gt; 4\n                             }\n}';\n</code></pre>\n\n<p>So, I know that $resourceAudit is actually a string and so, <code>%$resourceAudit</code> is sure to give me the <code>Can't use string as a HASH reference</code> error. </p>\n\n<p>Is there any way I can get around this and access the <code>'rh6'</code> key?</p>\n"}, {"tags": ["perl", "yaml"], "comments": [{"owner": {"reputation": 6068, "user_id": 1799189, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/s4Pcu.jpg?s=128&g=1", "display_name": "xxfelixxx", "link": "https://stackoverflow.com/users/1799189/xxfelixxx"}, "edited": false, "score": 1, "creation_date": 1493088213, "post_id": 43600572, "comment_id": 74251341, "body": "Have a look at some examples: <a href=\"http://search.cpan.org/~ingy/YAML-1.23/lib/YAML.pod\" rel=\"nofollow noreferrer\">search.cpan.org/~ingy/YAML-1.23/lib/YAML.pod</a>"}, {"owner": {"reputation": 50468, "user_id": 1331451, "user_type": "registered", "accept_rate": 96, "profile_image": "https://i.stack.imgur.com/4ZPmj.png?s=128&g=1", "display_name": "simbabque", "link": "https://stackoverflow.com/users/1331451/simbabque"}, "edited": false, "score": 0, "creation_date": 1493106245, "post_id": 43600572, "comment_id": 74258326, "body": "That example is from a Perl book, isn&#39;t it?"}], "answers": [{"comments": [{"owner": {"reputation": 5666, "user_id": 734304, "user_type": "registered", "accept_rate": 85, "profile_image": "https://www.gravatar.com/avatar/7c64a3cafb1fd129cd2b98951d624f15?s=128&d=identicon&r=PG", "display_name": "kobame", "link": "https://stackoverflow.com/users/734304/kobame"}, "edited": false, "score": 2, "creation_date": 1493107597, "post_id": 43604691, "comment_id": 74259208, "body": "Isn&#39;t possible to use the <code>YAML::Bless</code> method for the members of the array? The <code>Bless</code> works only for the top-level hash-keys?"}, {"owner": {"reputation": 50468, "user_id": 1331451, "user_type": "registered", "accept_rate": 96, "profile_image": "https://i.stack.imgur.com/4ZPmj.png?s=128&g=1", "display_name": "simbabque", "link": "https://stackoverflow.com/users/1331451/simbabque"}, "reply_to_user": {"reputation": 5666, "user_id": 734304, "user_type": "registered", "accept_rate": 85, "profile_image": "https://www.gravatar.com/avatar/7c64a3cafb1fd129cd2b98951d624f15?s=128&d=identicon&r=PG", "display_name": "kobame", "link": "https://stackoverflow.com/users/734304/kobame"}, "edited": false, "score": 0, "creation_date": 1493108567, "post_id": 43604691, "comment_id": 74259793, "body": "@kobame yes, that would work, too. There was an answer already about that, but the author deleted it after it got a downvote. It was just a copy of the docs though."}, {"owner": {"reputation": 50468, "user_id": 1331451, "user_type": "registered", "accept_rate": 96, "profile_image": "https://i.stack.imgur.com/4ZPmj.png?s=128&g=1", "display_name": "simbabque", "link": "https://stackoverflow.com/users/1331451/simbabque"}, "reply_to_user": {"reputation": 5666, "user_id": 734304, "user_type": "registered", "accept_rate": 85, "profile_image": "https://www.gravatar.com/avatar/7c64a3cafb1fd129cd2b98951d624f15?s=128&d=identicon&r=PG", "display_name": "kobame", "link": "https://stackoverflow.com/users/734304/kobame"}, "edited": false, "score": 0, "creation_date": 1493109008, "post_id": 43604691, "comment_id": 74260049, "body": "@kobame I&#39;ve updated the answer to include that. Thank you."}, {"owner": {"reputation": 5666, "user_id": 734304, "user_type": "registered", "accept_rate": 85, "profile_image": "https://www.gravatar.com/avatar/7c64a3cafb1fd129cd2b98951d624f15?s=128&d=identicon&r=PG", "display_name": "kobame", "link": "https://stackoverflow.com/users/734304/kobame"}, "edited": false, "score": 3, "creation_date": 1493109817, "post_id": 43604691, "comment_id": 74260548, "body": "GREAT Answer! :) +++"}, {"owner": {"reputation": 52821, "user_id": 632407, "user_type": "registered", "accept_rate": 86, "profile_image": "https://i.stack.imgur.com/AfGWW.jpg?s=128&g=1", "display_name": "jm666", "link": "https://stackoverflow.com/users/632407/jm666"}, "edited": false, "score": 1, "creation_date": 1493110746, "post_id": 43604691, "comment_id": 74261222, "body": "Me usually not adding comments like this, but this is an perfect example how is possible make an really great answer (which sure will help other users too) to an terribly formulated question. :)"}, {"owner": {"reputation": 50468, "user_id": 1331451, "user_type": "registered", "accept_rate": 96, "profile_image": "https://i.stack.imgur.com/4ZPmj.png?s=128&g=1", "display_name": "simbabque", "link": "https://stackoverflow.com/users/1331451/simbabque"}, "reply_to_user": {"reputation": 52821, "user_id": 632407, "user_type": "registered", "accept_rate": 86, "profile_image": "https://i.stack.imgur.com/AfGWW.jpg?s=128&g=1", "display_name": "jm666", "link": "https://stackoverflow.com/users/632407/jm666"}, "edited": false, "score": 0, "creation_date": 1493110904, "post_id": 43604691, "comment_id": 74261344, "body": "@jm666 thanks. I actually think the question is not very bad. It&#39;s just hard to write that kind of question in a generalized way. Wrapping your head around this kind of data structure can be hard in the beginning after all. I think we should try to improve the question so it&#39;s easier to find later."}], "tags": [], "owner": {"reputation": 50468, "user_id": 1331451, "user_type": "registered", "accept_rate": 96, "profile_image": "https://i.stack.imgur.com/4ZPmj.png?s=128&g=1", "display_name": "simbabque", "link": "https://stackoverflow.com/users/1331451/simbabque"}, "is_accepted": true, "score": 6, "last_activity_date": 1493108992, "last_edit_date": 1493108992, "creation_date": 1493106591, "answer_id": 43604691, "question_id": 43600572, "link": "https://stackoverflow.com/questions/43600572/dumping-a-yaml-file-using-perl/43604691#43604691", "title": "dumping a yaml file using perl", "body": "<p>The structure you are showing is an array of hashes. Thus, you need to use an array, not a hash. The array contains hash references.</p>\n\n<pre><code>use YAML 'Dump';\n\nmy @database = (\n    {\n        name     =&gt; 'Fred',\n        Language =&gt; 'python',\n    },\n    {\n        name     =&gt; 'Barney',\n        Language =&gt; 'perl',\n    },\n);\n\nprint Dump( \\@database );\n</code></pre>\n\n<p>This will output </p>\n\n<pre><code>---\n- Language: python\n  name: Fred\n- Language: perl\n  name: Barney\n</code></pre>\n\n<p>By default, YAML will sort keys alphabetically. This is why the <em>Language</em> comes first. You can turn that off by setting <code>$YAML::SortKeys = 0</code>. </p>\n\n<p>However, you cannot maintain the order of elements within the individual hashes the way you put them in your code, because <a href=\"http://perldoc.perl.org/perl5180delta.html#Hash-overhaul\" rel=\"noreferrer\">Perl's hashes are never ordered</a><sup>1</sup>. The order is random. So you cannot guarantee that <em>name</em> will be the first key. It might be on your machine, but it's not on mine. </p>\n\n<p>There is a way to force the order, but it will only work for a very limited use-case. Y<a href=\"https://metacpan.org/source/INGY/YAML-1.23/lib/YAML/Dumper.pm#L322\" rel=\"noreferrer\">ou can set <code>$YAML::SortKey</code> to an array reference</a> of keys, and it will keep that order. This feature seems to be undocumented and is labeled as a hack in the code.</p>\n\n<pre><code>local $YAML::SortKeys = [qw/name Language/];\nprint Dump( \\@database );\n</code></pre>\n\n<p>We now get</p>\n\n<pre><code>---\n- name: Fred\n  Language: python\n- name: Barney\n  Language: perl\n</code></pre>\n\n<p>If your data structure contains more things this might not do what you want though.</p>\n\n<p>You can also use the <a href=\"https://metacpan.org/pod/distribution/YAML/lib/YAML.pod#Bless(perl-node,-[yaml-node-%7C-class-name])\" rel=\"noreferrer\"><code>Bless</code> function exported by YAML</a>, which attaches additional meta information to the data structure. It can filter and sort specific nodes. But you'd have to create some logic to select which nodes of your data structure you want to be affected by that.</p>\n\n<pre><code>use YAML qw'Bless Dump';\n\nmy @database = (\n    {\n        name     =&gt; 'Fred',\n        Language =&gt; 'python',\n    },\n    {\n        name     =&gt; 'Barney',\n        Language =&gt; 'perl',\n    },\n);\n\nBless($_)-&gt;keys( [qw/name Language/] ) for @database;\nprint Dump( \\@database );\n</code></pre>\n\n<p>This also produces the same output</p>\n\n<pre><code>---\n- name: Fred\n  Language: python\n- name: Barney\n  Language: perl\n</code></pre>\n\n<p>Note that this does not change the data structure, but rather makes YAML aware of what's going on. Hence, you can't use an in-place <code>map</code> to do it, because you don't want to dump the objects created by it, but the actual data.</p>\n\n<pre><code>print Dump( [ map { Bless($_)-&gt;keys( [qw/name Language/] ) } @database ] );\n</code></pre>\n\n<p>This will give you a dump of the objects. That's not what you want. You would need to return <code>$_</code> after calling <code>Bless</code>. </p>\n\n<pre><code>print Dump( [ map { Bless($_)-&gt;keys( [qw/name Language/] ); $_ } @database ] );\n</code></pre>\n\n<p>But this is hard to read and gives no advantage. The <code>for</code> solution is way clearer.</p>\n\n<hr>\n\n<p><sup>1) In fact, in old Perls the order is random, but consistent on the same machine. That was a bit of a bug. Don't rely on it ever!</sup></p>\n"}], "owner": {"reputation": 29, "user_id": 3029521, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/bacb83093077e5d47dc5e2d4af7fddc3?s=128&d=identicon&r=PG&f=1", "display_name": "user3029521", "link": "https://stackoverflow.com/users/3029521/user3029521"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 1505, "favorite_count": 1, "accepted_answer_id": 43604691, "answer_count": 1, "score": -1, "last_activity_date": 1493108992, "creation_date": 1493087193, "last_edit_date": 1493107146, "question_id": 43600572, "link": "https://stackoverflow.com/questions/43600572/dumping-a-yaml-file-using-perl", "title": "dumping a yaml file using perl", "body": "<p>I am trying to dump a yaml file in a specific format as mentioned below; how should I define my hash (%database) if I have to dump something like below? </p>\n\n<pre><code>-name:Fred\n\n Language:python\n\n-name:Barney\n\n Language:perl\n\n-name: Betty\n\n Language:java\n\n-name:Wilma\n\n Language:ruby\n\nopen  FILE, '&gt;&gt;', \"database.txt\";\n\nprint FILE Dump(\\%database);\n</code></pre>\n"}, {"tags": ["perl", "unit-testing", "perforce"], "comments": [{"owner": {"reputation": 15375, "user_id": 193453, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/cc77f0d4e25a0f95d90a768aeb0a8517?s=128&d=identicon&r=PG", "display_name": "Bryan Pendleton", "link": "https://stackoverflow.com/users/193453/bryan-pendleton"}, "edited": false, "score": 0, "creation_date": 1493091961, "post_id": 43600239, "comment_id": 74252214, "body": "Not sure if this is relevant, but one of your programs sets <code>$p4port</code> to <code>icmanage.com:1667</code>, while the other one sets it to <code>icmanage:1667</code>. The message &quot;Servname not supported for ai_socktype&quot; makes your question sound very similar to <a href=\"http://stackoverflow.com/questions/23079017/servname-not-supported-for-ai-socktype\" title=\"servname not supported for ai socktype\">stackoverflow.com/questions/23079017/&hellip;</a>, by the way. The message makes me think that some networking software library is trying to find a &#39;icmanage&#39; service in the network configuration files?"}, {"owner": {"reputation": 345, "user_id": 2538148, "user_type": "registered", "accept_rate": 91, "profile_image": "https://www.gravatar.com/avatar/65f28a5fe96cca6e4afdc629db6e2ba5?s=128&d=identicon&r=PG", "display_name": "Jon J", "link": "https://stackoverflow.com/users/2538148/jon-j"}, "reply_to_user": {"reputation": 15375, "user_id": 193453, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/cc77f0d4e25a0f95d90a768aeb0a8517?s=128&d=identicon&r=PG", "display_name": "Bryan Pendleton", "link": "https://stackoverflow.com/users/193453/bryan-pendleton"}, "edited": false, "score": 0, "creation_date": 1493096664, "post_id": 43600239, "comment_id": 74253493, "body": "I&#39;m very sorry, it&#39;s a typo. It has been duly corrected"}, {"owner": {"reputation": 50468, "user_id": 1331451, "user_type": "registered", "accept_rate": 96, "profile_image": "https://i.stack.imgur.com/4ZPmj.png?s=128&g=1", "display_name": "simbabque", "link": "https://stackoverflow.com/users/1331451/simbabque"}, "edited": false, "score": 1, "creation_date": 1493116643, "post_id": 43600239, "comment_id": 74265332, "body": "The <code>new P4</code> should be <code>P4-&gt;new</code> with the arrow. That&#39;s the only place in that code where you should have that arrow because the indirect object notation is ambiguous. :)"}], "answers": [{"tags": [], "owner": {"reputation": 50468, "user_id": 1331451, "user_type": "registered", "accept_rate": 96, "profile_image": "https://i.stack.imgur.com/4ZPmj.png?s=128&g=1", "display_name": "simbabque", "link": "https://stackoverflow.com/users/1331451/simbabque"}, "is_accepted": true, "score": 5, "last_activity_date": 1493116561, "creation_date": 1493116561, "answer_id": 43608318, "question_id": 43600239, "link": "https://stackoverflow.com/questions/43600239/perl-unit-test-for-connection-to-perforce-connect-to-server-failed-check-p4/43608318#43608318", "title": "Perl Unit Test for Connection to Perforce -- Connect to Server Failed; check $P4PORT", "body": "<p>You are mixing object orientated Perl and functional Perl, and you have fallen victim to it.</p>\n\n<p>When you call a function as a method with the arrow operator <code>-&gt;</code>, Perl passes the thing on the left hand side as the first argument to the function<sup>1</sup>. In case of a package name, that's just the package name.</p>\n\n<pre><code>package Foo;\nsub frobnicate{ print \"@_\" }\n\npackage main;\nFoo-&gt;frobnicate(1, 2, 3);\n</code></pre>\n\n<p>The output of this will be </p>\n\n<pre><code>Foo 1 2 3\n</code></pre>\n\n<p>So in your case, <code>connect_perforce</code> will get this assignment:</p>\n\n<pre><code>my ($clientname, $p4port) = ('Perforce', 'johndoe', 'icmanage:1667' );\n</code></pre>\n\n<p>So the variables will have these values:</p>\n\n<pre><code>$clientname: 'Perforce'\n$p4port:     'johndoe'\n</code></pre>\n\n<p>And your <code>'icmanage:1667'</code> string gets lost.</p>\n\n<p>When you don't have objects, don't use the arrow. The correct way to call this function (it's not a method!) is to use the fully qualified name including the package.</p>\n\n<pre><code>my $p4 = Perforce::connect_perforce('johndoe', $p4port);\n</code></pre>\n\n<p>I've removed this rather weird <code>qw()</code>. It would give you a literal <code>$p4port</code> instead of the value, so that was another bug which you would have encountered next.</p>\n\n<p>Since we have established that you don't have a class, but rather a module, you also don't want to use <code>can_ok</code>. That's not the right kind of test for your use case. Instead, simply call the function like I showed above, and then do useful tests with the returned value. If the function isn't there, the test program will fail, and you'll notice.</p>\n\n<pre><code>BEGIN { use_ok('Perforce'); }\n\nmy $p4 = Perforce::connect_perforce('johndoe', 'icmanage:1667');\n\nisa_ok($p4, 'P4'); # I guess..\n</code></pre>\n\n<p>For more information on object orientation and on modules, take a look at <a href=\"http://perldoc.perl.org/perlobj.html\" rel=\"noreferrer\">perlobj</a> and <a href=\"http://perldoc.perl.org/perlootut.html\" rel=\"noreferrer\">perlootut</a>, <a href=\"http://perldoc.perl.org/perlnewmod.html\" rel=\"noreferrer\">perlnewmod</a> and <a href=\"https://metacpan.org/pod/Exporter\" rel=\"noreferrer\">Exporter</a>. Perlmaven has <a href=\"https://perlmaven.com/packages-modules-and-namespace-in-perl\" rel=\"noreferrer\">some good articles</a> too.</p>\n\n<hr>\n\n<p><sup>1) It does more, but that's not relevant here</sup></p>\n"}], "owner": {"reputation": 345, "user_id": 2538148, "user_type": "registered", "accept_rate": 91, "profile_image": "https://www.gravatar.com/avatar/65f28a5fe96cca6e4afdc629db6e2ba5?s=128&d=identicon&r=PG", "display_name": "Jon J", "link": "https://stackoverflow.com/users/2538148/jon-j"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 613, "favorite_count": 0, "accepted_answer_id": 43608318, "answer_count": 1, "score": 4, "last_activity_date": 1493131440, "creation_date": 1493084551, "last_edit_date": 1493131440, "question_id": 43600239, "link": "https://stackoverflow.com/questions/43600239/perl-unit-test-for-connection-to-perforce-connect-to-server-failed-check-p4", "title": "Perl Unit Test for Connection to Perforce -- Connect to Server Failed; check $P4PORT", "body": "<p>I am writing a P4Perl script to make connection to a Perforce server and to automate execution of Perforce commands. Along with the development of the subroutines to access Perforce, I am also developing unit tests to verify the them. I am new to both Perl and unit testing.</p>\n\n<p>This is my subroutine to establish a connection to Perforce. Filename is <code>p4_connect.pl</code></p>\n\n<pre><code>use warnings;\nuse strict;\n\nuse P4;\n\nmy $clientname = \"johndoe\"\nmy $p4port = \"icmanage:1667\"\n\nmain();\n\nsub main {\n    my $status;\n    $status = connect_perforce($clientname, $p4port);\n};\n\nsub connect_perforce {\n\n    my ($clientname, $p4port) = @_;\n    my $status;\n    my $p4 = new P4;\n\n    $p4-&gt;SetClient( $clientname );\n    $p4-&gt;SetPort( $p4port );\n    $status = $p4-&gt;Connect() or die( \"Failed to connect to Perforce Server\" );\n\n    return $status;\n}\n</code></pre>\n\n<p>The Perl script executes fine when I run <code>\"perl p4_connect.pl\"</code>, no errors are thrown.</p>\n\n<p>However, when I moved the <code>connect_perforce</code> subroutine to a package module <code>(Perforce.pm)</code> and wrote a unit test <code>(perforce.t)</code> for it, I encountered these errors:</p>\n\n<pre><code>username@hostname% perl -Ilib t/perforce.t\nok 1 - use Perforce;\nok 2 - Perforce-&gt;can('connect_perforce')\nConnect to server failed; check $P4PORT.\nTCP connect to johndoe failed.\nServname not supported for ai_socktype\nFailed to connect to Perforce Server at lib/Perforce.pm line 16.\n</code></pre>\n\n<p>This is how the unit test <code>(perforce.t)</code> looks like:</p>\n\n<pre><code>use Perforce;\n\nuse warnings;\nuse strict;\nuse Test::More qw(no_plan);\n\nuse P4;\n\nBEGIN { use_ok('Perforce'); } #package can be loaded\n\ncan_ok('Perforce', 'connect_perforce'); #subroutine connect_perforce exists\n\nmy $p4port = \"icmanage:1667\";\nmy $p4 = Perforce-&gt;connect_perforce(qw(johndoe $p4port)); #accessing the connect_perforce() subroutine\n</code></pre>\n\n<p>And this is how the my package <code>(Perforce.pm)</code> looks like:</p>\n\n<pre><code>package Perforce;\n\nuse warnings;\nuse strict;\n\nuse P4;\n\n   sub connect_perforce {\n\n   my ($clientname, $p4port) = @_;\n   my $status;\n   my $p4 = new P4;\n\n   $p4-&gt;SetClient( $clientname );\n   $p4-&gt;SetPort( $p4port );\n   $status = $p4-&gt;Connect() or die( \"Failed to connect to Perforce Server\" );\n\n   return $status;\n}\n</code></pre>\n\n<p>Where did I go wrong regarding my unit test? Any suggestions are helpful.</p>\n"}, {"tags": ["perl", "base-conversion"], "comments": [{"owner": {"reputation": 65594, "user_id": 459640, "user_type": "registered", "accept_rate": 87, "profile_image": "https://www.gravatar.com/avatar/bc790307b3c4cdbd25f582d9067651f1?s=128&d=identicon&r=PG", "display_name": "aschepler", "link": "https://stackoverflow.com/users/459640/aschepler"}, "edited": false, "score": 0, "creation_date": 1493076956, "post_id": 43599252, "comment_id": 74248748, "body": "How do you know it&#39;s wrong?  Your second input is smaller..."}, {"owner": {"reputation": 11273, "user_id": 287948, "user_type": "registered", "accept_rate": 64, "profile_image": "https://i.stack.imgur.com/ZrS4x.png?s=128&g=1", "display_name": "Peter Krauss", "link": "https://stackoverflow.com/users/287948/peter-krauss"}, "reply_to_user": {"reputation": 65594, "user_id": 459640, "user_type": "registered", "accept_rate": 87, "profile_image": "https://www.gravatar.com/avatar/bc790307b3c4cdbd25f582d9067651f1?s=128&d=identicon&r=PG", "display_name": "aschepler", "link": "https://stackoverflow.com/users/459640/aschepler"}, "edited": false, "score": 0, "creation_date": 1493077284, "post_id": 43599252, "comment_id": 74248818, "body": "@aschepler No, check by yourself, both inputs are 64 hexadecimal digits."}, {"owner": {"reputation": 11273, "user_id": 287948, "user_type": "registered", "accept_rate": 64, "profile_image": "https://i.stack.imgur.com/ZrS4x.png?s=128&g=1", "display_name": "Peter Krauss", "link": "https://stackoverflow.com/users/287948/peter-krauss"}, "reply_to_user": {"reputation": 65594, "user_id": 459640, "user_type": "registered", "accept_rate": 87, "profile_image": "https://www.gravatar.com/avatar/bc790307b3c4cdbd25f582d9067651f1?s=128&d=identicon&r=PG", "display_name": "aschepler", "link": "https://stackoverflow.com/users/459640/aschepler"}, "edited": false, "score": 0, "creation_date": 1493077632, "post_id": 43599252, "comment_id": 74248914, "body": "@aschepler I edited with more one example"}], "answers": [{"tags": [], "owner": {"reputation": 123805, "user_id": 622310, "user_type": "registered", "accept_rate": 33, "profile_image": "https://www.gravatar.com/avatar/8b6d35219e1808520bc238b28161e2e6?s=128&d=identicon&r=PG", "display_name": "Borodin", "link": "https://stackoverflow.com/users/622310/borodin"}, "is_accepted": false, "score": 0, "last_activity_date": 1493078250, "creation_date": 1493078250, "answer_id": 43599429, "question_id": 43599252, "link": "https://stackoverflow.com/questions/43599252/error-in-hexadecimal-conversion-to-base58-btc/43599429#43599429", "title": "Error in hexadecimal conversion to base58-btc", "body": "<p>Rather than debugging that poorly laid-out code, I suggest that you install <a href=\"https://metacpan.org/pod/Encode::Base58\" rel=\"nofollow noreferrer\"><code>Encode::Base58</code></a>\nor\n<a href=\"https://metacpan.org/pod/Encode::Base58::GMP\" rel=\"nofollow noreferrer\"><code>Encode::Base58::GMP</code></a></p>\n\n<p>Both of those modules have maintainers who will answer questions if you find you are getting incorrect results</p>\n"}, {"tags": [], "owner": {"reputation": 11273, "user_id": 287948, "user_type": "registered", "accept_rate": 64, "profile_image": "https://i.stack.imgur.com/ZrS4x.png?s=128&g=1", "display_name": "Peter Krauss", "link": "https://stackoverflow.com/users/287948/peter-krauss"}, "is_accepted": false, "score": 0, "last_activity_date": 1493174753, "last_edit_date": 1592644375, "creation_date": 1493174753, "answer_id": 43624126, "question_id": 43599252, "link": "https://stackoverflow.com/questions/43599252/error-in-hexadecimal-conversion-to-base58-btc/43624126#43624126", "title": "Error in hexadecimal conversion to base58-btc", "body": "<p>Tested with other conversors, as <a href=\"https://github.com/cryptocoinjs/bs58\" rel=\"nofollow noreferrer\">bs58 js lib</a>, all producing same and consistent results.</p>\n<p>It seems <a href=\"https://meta.stackexchange.com/questions/66377/what-is-the-xy-problem/250659#250659\">XY problem</a>... perhaps the real question is &quot;base58 bitcoin use fixed size representation?&quot;  Can I use something as pad 1s?</p>\n<p>But it is also part of the answer, not edited the question (reverted) and proced an answer.</p>\n<hr />\n<p>... It is a conversion <em>between &quot;incompatible&quot; bases</em> (!), so I think is impossible\n... <code>58=2*29</code> is not a multiple of <code>16=2^4</code>... only when digits are multiple of 2...  But:</p>\n<ul>\n<li><p>base50(&quot;E&quot;) = hex(&quot;0D&quot;); base58(&quot;1E&quot;) = hex(&quot;000D&quot;); ... the number of padding digits are converted as multiple...</p>\n</li>\n<li><p>what the problem of cut/add for padding? base50(&quot;E&quot;) = hex(&quot;D&quot;); base58(&quot;1E&quot;) = hex(&quot;D&quot;);  base50(&quot;E&quot;)=hex(&quot;000000D&quot;); base50(&quot;1111111111E&quot;)=hex(&quot;D&quot;); ... Not seems a problem, so padding-algorithm (fill 0s or 1s) can be used.</p>\n</li>\n</ul>\n<p>SOLUTION: ok, lets pad, fill 1s when converted have less than 44 digits.</p>\n"}], "owner": {"reputation": 11273, "user_id": 287948, "user_type": "registered", "accept_rate": 64, "profile_image": "https://i.stack.imgur.com/ZrS4x.png?s=128&g=1", "display_name": "Peter Krauss", "link": "https://stackoverflow.com/users/287948/peter-krauss"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 159, "favorite_count": 0, "answer_count": 2, "score": 1, "last_activity_date": 1493174753, "creation_date": 1493076816, "last_edit_date": 1493174398, "question_id": 43599252, "link": "https://stackoverflow.com/questions/43599252/error-in-hexadecimal-conversion-to-base58-btc", "title": "Error in hexadecimal conversion to base58-btc", "body": "<p>I am using the conversion algorithm of <a href=\"http://lenschulwitz.com/base58\" rel=\"nofollow noreferrer\">http://lenschulwitz.com/base58</a> , <a href=\"http://lenschulwitz.com/b58/base58perl.txt\" rel=\"nofollow noreferrer\">this perl code</a>. </p>\n\n<ul>\n<li><p>MANY GOOD CONVERSIONS, AS: <code>18e559fc6cb0e8de2ce8b50007d474a0d886208e698a07948671e0df520c1525</code> was converted to <code>2gBdDRXoLPEhgf9Zd7zw5ujK1qcoPZoendBQJ22VjgqS</code>, <strong>all 44 digits</strong>.</p></li>\n<li><p><strong>BAD</strong> CONVERSION: <code>0ab3de5e16675aeb0c4831f5218901fec56f39cc8ad16e5559be4a0ee211f5d0</code> was converted to <code>in9v3fi1cntD6ERD6QryMJq4r5BncjYZ32xZA6Uj4ST</code>, 43 digits!</p></li>\n<li><p>other BAD: <code>00000000000000000000000000000000000000000000000000000000000000d0</code> to <code>11111111111111111111111111111114b</code></p></li>\n</ul>\n\n<p>What is wrong with the Perl code? \nI can use some kind of padding in base58-btc? </p>\n\n<hr>\n\n<p>PS: I can use something as <code>sudo apt-get install libbase58-0</code>  that <a href=\"https://www.howtoinstall.co/en/ubuntu/xenial/libbase58-0\" rel=\"nofollow noreferrer\">is reliable at UBUNTU</a>... But need a  Perl interface for it.</p>\n"}, {"tags": ["perl"], "comments": [{"owner": {"reputation": 78982, "user_id": 1848654, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/84180c0f3c9c04f8b8f0613fc0129dac?s=128&d=identicon&r=PG", "display_name": "melpomene", "link": "https://stackoverflow.com/users/1848654/melpomene"}, "edited": false, "score": 1, "creation_date": 1493074833, "post_id": 43598772, "comment_id": 74248155, "body": "You shouldn&#39;t need to reinstall your modules."}, {"owner": {"reputation": 52821, "user_id": 632407, "user_type": "registered", "accept_rate": 86, "profile_image": "https://i.stack.imgur.com/AfGWW.jpg?s=128&g=1", "display_name": "jm666", "link": "https://stackoverflow.com/users/632407/jm666"}, "edited": false, "score": 0, "creation_date": 1493077263, "post_id": 43598772, "comment_id": 74248810, "body": "Related: <a href=\"http://modernperlbooks.com/mt/2009/05/perl-5-and-binary-compatibility.html\" rel=\"nofollow noreferrer\">modernperlbooks.com/mt/2009/05/&hellip;</a>"}, {"owner": {"reputation": 3252, "user_id": 771480, "user_type": "registered", "accept_rate": 85, "profile_image": "https://www.gravatar.com/avatar/f759fe160ddd3aa8acf55def94c2d872?s=128&d=identicon&r=PG", "display_name": "Nemo", "link": "https://stackoverflow.com/users/771480/nemo"}, "edited": false, "score": 7, "creation_date": 1493079374, "post_id": 43598772, "comment_id": 74249322, "body": "Don&#39;t care about the down-votes. This is StackOverflow, here are some users who thinks that the only right perl question is like <i>how to reverse a list in perl</i> or such, of course with the provided code. They forget that here are also on-topic (<a href=\"https://stackoverflow.com/help/on-topic\">help center</a>) questions about: <i>software tools commonly used by programmers; and is a practical, answerable problem that is unique to software development</i> - your question is fully in-line with the above."}], "answers": [{"comments": [{"owner": {"reputation": 469, "user_id": 3000685, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/d94fa8d3249e2f10ccb693993c0db6ba?s=128&d=identicon&r=PG&f=1", "display_name": "secJ", "link": "https://stackoverflow.com/users/3000685/secj"}, "edited": false, "score": 0, "creation_date": 1493250618, "post_id": 43618254, "comment_id": 74341037, "body": "Thank you. This works as a solution. I am still surprised there&#39;s not a direct builtin that can upgrade to the latest minor release."}], "tags": [], "owner": {"reputation": 78982, "user_id": 1848654, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/84180c0f3c9c04f8b8f0613fc0129dac?s=128&d=identicon&r=PG", "display_name": "melpomene", "link": "https://stackoverflow.com/users/1848654/melpomene"}, "is_accepted": true, "score": 3, "last_activity_date": 1493144601, "creation_date": 1493144601, "answer_id": 43618254, "question_id": 43598772, "link": "https://stackoverflow.com/questions/43598772/in-place-perl-upgrade-from-source/43618254#43618254", "title": "In-place Perl upgrade from source", "body": "<blockquote>\n  <p>if I have Perl v5.24.0 installed with a bunch of CPAN modules, can I upgrade this installation to v5.24.1 without recompiling a whole new build</p>\n</blockquote>\n\n<p>As far as I know, no. You have to configure/compile/install the new perl from scratch.</p>\n\n<blockquote>\n  <p>and doing the same for all of the CPAN modules installed under v5.24.0?</p>\n</blockquote>\n\n<p>Yes: <code>Configure</code> asks you about existing perl versions and whether it should include their directories in <code>@INC</code>. If you say yes (which I believe is the default), all already installed modules are available in your new perl.</p>\n\n<hr>\n\n<p>That said:</p>\n\n<blockquote>\n  <p>Or do I have to create a list of all installed CPAN modules</p>\n</blockquote>\n\n<p>This is easy with <code>cpan -a</code>:</p>\n\n<pre class=\"lang-none prettyprint-override\"><code>$ cpan -a\n... lots of modules listed here ...\n\nWrote bundle file\n    /home/user/.cpan/Bundle/Snapshot_2017_04_25_00.pm\n</code></pre>\n\n<blockquote>\n  <p>and reinstall those CPAN modules using the newly compiled version?</p>\n</blockquote>\n\n<p>After installing the new Perl, run</p>\n\n<pre class=\"lang-none prettyprint-override\"><code>$ cpan Bundle::Snapshot_2017_04_25_00\n</code></pre>\n\n<p>(or whatever name <code>cpan -a</code> gave the snapshot file in the previous step) and it should install everything you had before.</p>\n"}, {"tags": [], "owner": {"reputation": 1853, "user_id": 1005136, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/9fa4e79e60474302c8225172649cbd35?s=128&d=identicon&r=PG", "display_name": "Alexander Hartmaier", "link": "https://stackoverflow.com/users/1005136/alexander-hartmaier"}, "is_accepted": false, "score": 0, "last_activity_date": 1495437294, "creation_date": 1495437294, "answer_id": 44106735, "question_id": 43598772, "link": "https://stackoverflow.com/questions/43598772/in-place-perl-upgrade-from-source/44106735#44106735", "title": "In-place Perl upgrade from source", "body": "<p>If you are using perlbrew it has an 'upgrade-perl' command. The downside is that the initial configure parameters still aren't passed to the newly built version.\nSee also <a href=\"http://www.modernperlbooks.com/mt/2013/03/upgrade-in-place-with-perlbrew.html\" rel=\"nofollow noreferrer\">http://www.modernperlbooks.com/mt/2013/03/upgrade-in-place-with-perlbrew.html</a></p>\n"}], "owner": {"reputation": 469, "user_id": 3000685, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/d94fa8d3249e2f10ccb693993c0db6ba?s=128&d=identicon&r=PG&f=1", "display_name": "secJ", "link": "https://stackoverflow.com/users/3000685/secj"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 450, "favorite_count": 0, "accepted_answer_id": 43618254, "answer_count": 2, "score": 11, "last_activity_date": 1495437294, "creation_date": 1493073469, "question_id": 43598772, "link": "https://stackoverflow.com/questions/43598772/in-place-perl-upgrade-from-source", "title": "In-place Perl upgrade from source", "body": "<p>Is there a standard way to upgrade to a new, minor version (and binary compatible) of Perl without a full recompile from source?</p>\n\n<p>For example, if I have Perl v5.24.0 installed with a bunch of CPAN modules, can I upgrade this installation to v5.24.1 without recompiling a whole new build and doing the same for all of the CPAN modules installed under v5.24.0? Or do I have to create a list of all installed CPAN modules, compile a new Perl, and reinstall those CPAN modules using the newly compiled version?</p>\n\n<p>I'm not seeing an easy way to \"patch\" the current system, using the source code from the latest release. (Note: I'm wondering if there is a native way to do this (i.e., not using perlbrew)).</p>\n"}, {"tags": ["perl", "hash"], "comments": [{"owner": {"reputation": 78982, "user_id": 1848654, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/84180c0f3c9c04f8b8f0613fc0129dac?s=128&d=identicon&r=PG", "display_name": "melpomene", "link": "https://stackoverflow.com/users/1848654/melpomene"}, "edited": false, "score": 1, "creation_date": 1493069030, "post_id": 43597928, "comment_id": 74246123, "body": "The way you return the hash, the calling code, and the way you&#39;re printing it are all fine. If the output is not what you want, then the problem is in how you fill the hash."}, {"owner": {"reputation": 78982, "user_id": 1848654, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/84180c0f3c9c04f8b8f0613fc0129dac?s=128&d=identicon&r=PG", "display_name": "melpomene", "link": "https://stackoverflow.com/users/1848654/melpomene"}, "edited": false, "score": 1, "creation_date": 1493069158, "post_id": 43597928, "comment_id": 74246167, "body": "<code>@$sequence[$i]</code> isn&#39;t quite right, by the way. When you have an array <code>@foo</code>, the elements are accessed as <code>$foo[$i]</code> (unless you&#39;re taking a slice: <code>@foo[$i, $j, $k]</code>). So it should be <code>$$sequence[$i]</code> instead (which is normally written <code>$sequence-&gt;[$i]</code>). See <code>perldoc perlreftut</code>."}, {"owner": {"reputation": 78982, "user_id": 1848654, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/84180c0f3c9c04f8b8f0613fc0129dac?s=128&d=identicon&r=PG", "display_name": "melpomene", "link": "https://stackoverflow.com/users/1848654/melpomene"}, "edited": false, "score": 1, "creation_date": 1493069280, "post_id": 43597928, "comment_id": 74246220, "body": "<code>$returnHash{@$sequence}</code> makes no sense: The keys of a hash are strings, not arrays. You can create a string from your sequence: <code>$returnHash{join(&quot; &quot;, @$sequence)}</code> (this assumes your elements don&#39;t contain spaces)."}, {"owner": {"reputation": 654, "user_id": 6934386, "user_type": "registered", "accept_rate": 73, "profile_image": "https://www.gravatar.com/avatar/278a5391531847eac423e6a9ea44ab92?s=128&d=identicon&r=PG&f=1", "display_name": "Kyle Weise", "link": "https://stackoverflow.com/users/6934386/kyle-weise"}, "reply_to_user": {"reputation": 78982, "user_id": 1848654, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/84180c0f3c9c04f8b8f0613fc0129dac?s=128&d=identicon&r=PG", "display_name": "melpomene", "link": "https://stackoverflow.com/users/1848654/melpomene"}, "edited": false, "score": 0, "creation_date": 1493070276, "post_id": 43597928, "comment_id": 74246658, "body": "Awesome, this works. And thanks for the heads up in the previous comment. I noticed that went I print the hash it seems to be in a random order, is there a way to order it by value?"}, {"owner": {"reputation": 6258, "user_id": 82262, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/8ce15931410b388a52eb2df4a864137f?s=128&d=identicon&r=PG&f=1", "display_name": "Matt Jacob", "link": "https://stackoverflow.com/users/82262/matt-jacob"}, "edited": false, "score": 0, "creation_date": 1493073130, "post_id": 43597928, "comment_id": 74247698, "body": "@KyleWeise Hashes are unordered by definition. You can, however, sort the keys in any order that you like."}], "owner": {"reputation": 654, "user_id": 6934386, "user_type": "registered", "accept_rate": 73, "profile_image": "https://www.gravatar.com/avatar/278a5391531847eac423e6a9ea44ab92?s=128&d=identicon&r=PG&f=1", "display_name": "Kyle Weise", "link": "https://stackoverflow.com/users/6934386/kyle-weise"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 575, "favorite_count": 0, "answer_count": 0, "score": 0, "last_activity_date": 1493068964, "creation_date": 1493068882, "last_edit_date": 1495541392, "question_id": 43597928, "link": "https://stackoverflow.com/questions/43597928/how-to-return-this-hash-from-subroutine", "title": "How to return this hash from subroutine?", "body": "<p>I have a subroutine that generates the d-neighbors of an input sequence, which I was given help with <a href=\"https://stackoverflow.com/questions/43545175/what-is-wrong-with-this-perl-subroutine\">here</a>. My subroutine looks like:</p>\n\n<pre><code>#subroutine for generating d-neighbors\n    sub generate_d_neighbors{\n        # $sequence is the sequence to generate d-neighbors from\n        my ($sequence) = @_;\n        my @temp;\n        my %returnHash;\n        my @tempSeq = @$sequence;\n        for(my $i = 0; $i &lt;= 3; $i++){\n            #print \"-------------------\\n\";\n            #reset back to original sequence\n            @$sequence = @tempSeq;\n            my @l = qw(A T G C); #list of possible bases\n            my $baseToRemove = @$sequence[$i]; #get base from sequence at current index\n            @temp = grep {$_ ne $baseToRemove} @l; #remove base\n\n            for (my $j = 0; $j &lt;= 2; $j++){         \n                #replace sequence[i] with temp[j]\n                @$sequence[$i] = $temp[$j];\n                #add sequences to hash\n                $returnHash{@$sequence} = $i;\n            }\n        }\n        return %returnHash;\n    }\n</code></pre>\n\n<p>I want to return a hash of the sequences. However, when I test it with</p>\n\n<pre><code>my @testSeq = (\"A\",\"T\",\"C\",\"G\");\nmy %neighborhood = generate_d_neighbors(\\@testSeq);\nfor my $neighbor (keys %neighborhood){\n  print \"key: $neighbor\\t value: $neighborhood{$neighbor}\\n\";\n}\n</code></pre>\n\n<p>I get an output of\n<code>key:4  value:3</code></p>\n\n<p>I would like the output to be the generated sequences as the keys (since they cannot have duplicates) , and the starting position in the sequence as the value. What am I doing wrong?</p>\n"}, {"tags": ["perl"], "answers": [{"tags": [], "owner": {"reputation": 45481, "user_id": 197758, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/628da6ba2a6c70e35c009b7e3c3a430a?s=128&d=identicon&r=PG", "display_name": "toolic", "link": "https://stackoverflow.com/users/197758/toolic"}, "is_accepted": false, "score": 4, "last_activity_date": 1493067851, "creation_date": 1493067851, "answer_id": 43597695, "question_id": 43597573, "link": "https://stackoverflow.com/questions/43597573/using-perl-to-selectively-change-lines/43597695#43597695", "title": "Using perl to selectively change lines", "body": "<p>Since <code>-p</code> means print, there is no reason to use <code>print</code> again.  The following uses the substitution operator to replace everything after the word <code>PASSWORD</code> with <code>*redacted*</code>:</p>\n\n<pre><code>perl -i.bak -pe 's/(PASSWORD).*/$1 *redacted*/' yme.conf\n</code></pre>\n"}, {"tags": [], "owner": {"reputation": 78982, "user_id": 1848654, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/84180c0f3c9c04f8b8f0613fc0129dac?s=128&d=identicon&r=PG", "display_name": "melpomene", "link": "https://stackoverflow.com/users/1848654/melpomene"}, "is_accepted": true, "score": 4, "last_activity_date": 1493068449, "creation_date": 1493068449, "answer_id": 43597826, "question_id": 43597573, "link": "https://stackoverflow.com/questions/43597573/using-perl-to-selectively-change-lines/43597826#43597826", "title": "Using perl to selectively change lines", "body": "<p>You're getting extra output because the <code>-p</code> option already prints <code>$_</code> automatically. You can fix your original code by using <code>-n</code> instead (and adding <code>\\n</code> to the redacted string):</p>\n\n<pre><code>perl -i.bak -ne 'if (/PASSWORD/) {print \"PASSWORD *redacted*\\n\"} else {print $_}' yme.conf\n</code></pre>\n\n<p>This can be simplified by using <code>-p</code>:</p>\n\n<pre><code>perl -i.bak -pe 'if (/PASSWORD/) {$_ = \"PASSWORD *redacted*\\n\"}' yme.conf\n</code></pre>\n\n<p>We loop over the input lines, with the current line being stored in <code>$_</code>. If it contains <code>PASSWORD</code>, we overwrite it. The <code>-p</code> option automatically outputs <code>$_</code> at the end of the loop, which is then either the original line or our redacted version.</p>\n"}, {"tags": [], "owner": {"reputation": 11, "user_id": 6503405, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/18b8d7e175d1d8e9dc96d33a6fbd4ca8?s=128&d=identicon&r=PG", "display_name": "ruchika", "link": "https://stackoverflow.com/users/6503405/ruchika"}, "is_accepted": false, "score": -1, "last_activity_date": 1493100866, "creation_date": 1493100866, "answer_id": 43602955, "question_id": 43597573, "link": "https://stackoverflow.com/questions/43597573/using-perl-to-selectively-change-lines/43602955#43602955", "title": "Using perl to selectively change lines", "body": "<p>$variable =~ s/PASSWORD/PASSWORD <em>redacted</em>/g;</p>\n\n<p>This will change the desired line globally.</p>\n"}], "owner": {"reputation": 453, "user_id": 1007557, "user_type": "registered", "accept_rate": 62, "profile_image": "https://www.gravatar.com/avatar/2d4200a0aa3ec50456cfb2dbb8d5a9ae?s=128&d=identicon&r=PG", "display_name": "JimR", "link": "https://stackoverflow.com/users/1007557/jimr"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 31, "favorite_count": 0, "accepted_answer_id": 43597826, "answer_count": 3, "score": 1, "last_activity_date": 1601662893, "creation_date": 1493067377, "last_edit_date": 1601662893, "question_id": 43597573, "link": "https://stackoverflow.com/questions/43597573/using-perl-to-selectively-change-lines", "title": "Using perl to selectively change lines", "body": "<p>Trying to selectively change all line in a file with many other lines.</p>\n<p>input:</p>\n<pre><code>    abc  \n    PASSWORD=123  \n    xyz\n</code></pre>\n<p>desired output;</p>\n<pre><code>    abc\n    PASSWORD *redacted*\n    xyz\n</code></pre>\n<p>Here is the perl one-liner I am using.  I have tried a few variations on it, but results are not as desired.</p>\n<pre><code>perl -i.bak  -pe '{if (/PASSWORD/) {print  &quot;PASSWORD *redacted*&quot;}else {print &quot;$_&quot;}}' yme.conf\n</code></pre>\n<p>(note the -i.bak is necessary on Solaris).</p>\n<p>What I get from that script is:</p>\n<pre><code>    abc\n    abc\n    PASSWORD=*redacted*   PASSWORD=123\n    xyz\n    xyz\n</code></pre>\n<p>I have many files to do here (*.conf).</p>\n"}, {"tags": ["perl", "parsing", "delimiter"], "answers": [{"comments": [{"owner": {"reputation": 654, "user_id": 6934386, "user_type": "registered", "accept_rate": 73, "profile_image": "https://www.gravatar.com/avatar/278a5391531847eac423e6a9ea44ab92?s=128&d=identicon&r=PG&f=1", "display_name": "Kyle Weise", "link": "https://stackoverflow.com/users/6934386/kyle-weise"}, "edited": false, "score": 0, "creation_date": 1493049457, "post_id": 43592609, "comment_id": 74235064, "body": "I&#39;m doing this within a script, and not on the command line. Will that regex work within the <code>split</code> function, like Pablo suggested?"}], "tags": [], "owner": {"reputation": 123805, "user_id": 622310, "user_type": "registered", "accept_rate": 33, "profile_image": "https://www.gravatar.com/avatar/8b6d35219e1808520bc238b28161e2e6?s=128&d=identicon&r=PG", "display_name": "Borodin", "link": "https://stackoverflow.com/users/622310/borodin"}, "is_accepted": true, "score": 3, "last_activity_date": 1493049892, "last_edit_date": 1493049892, "creation_date": 1493049095, "answer_id": 43592609, "question_id": 43592409, "link": "https://stackoverflow.com/questions/43592409/how-to-remove-first-part-of-every-line/43592609#43592609", "title": "How to remove first part of every line?", "body": "<p>Like this perhaps? It uses a regex that matches everything up to and including the first colon <code>:</code> and removes it</p>\n\n<pre><code>perl -pe 's/^[^:]*://' myfile &gt; newfile\n</code></pre>\n\n<p>Within a program:</p>\n\n<pre><code>open my $fh, '&lt;', $filename or die qq{Unable to open \"$filename\" for input: $!};\n\nwhile ( &lt;$fh&gt; ) {\n\n    s/^[^:]*://;\n\n    # Use remainder of line left in $_\n}\n</code></pre>\n"}], "owner": {"reputation": 654, "user_id": 6934386, "user_type": "registered", "accept_rate": 73, "profile_image": "https://www.gravatar.com/avatar/278a5391531847eac423e6a9ea44ab92?s=128&d=identicon&r=PG&f=1", "display_name": "Kyle Weise", "link": "https://stackoverflow.com/users/6934386/kyle-weise"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 67, "favorite_count": 0, "accepted_answer_id": 43592609, "answer_count": 1, "score": 0, "last_activity_date": 1493049892, "creation_date": 1493048516, "question_id": 43592409, "link": "https://stackoverflow.com/questions/43592409/how-to-remove-first-part-of-every-line", "title": "How to remove first part of every line?", "body": "<p>Say I have a text file that is of the format:</p>\n\n<pre><code>S1:I am line one.\nS2:I am line two.\nS3:I am line three.\nS4:I am line four.\n</code></pre>\n\n<p>How can I remove the ID part of each line (so that I'm only left with <code>I am line one.</code> and so on)? Is it better to change the input record separator <code>$/</code> or use a regex that removes ID?</p>\n"}, {"tags": ["regex", "perl", "character"], "comments": [{"owner": {"reputation": 5455, "user_id": 3961170, "user_type": "registered", "accept_rate": 73, "profile_image": "https://i.stack.imgur.com/PtFol.jpg?s=128&g=1", "display_name": "mkHun", "link": "https://stackoverflow.com/users/3961170/mkhun"}, "edited": false, "score": 0, "creation_date": 1493028216, "post_id": 43585138, "comment_id": 74219222, "body": "<code>=~m&#47;\\W&#47;g;</code> It is enough."}, {"owner": {"reputation": 123805, "user_id": 622310, "user_type": "registered", "accept_rate": 33, "profile_image": "https://www.gravatar.com/avatar/8b6d35219e1808520bc238b28161e2e6?s=128&d=identicon&r=PG", "display_name": "Borodin", "link": "https://stackoverflow.com/users/622310/borodin"}, "edited": false, "score": 0, "creation_date": 1493033485, "post_id": 43585138, "comment_id": 74222803, "body": "I&#39;m puzzled about what you thought the <code>\\W</code> would do?"}], "answers": [{"comments": [{"owner": {"reputation": 39, "user_id": 4793532, "user_type": "registered", "profile_image": "https://lh4.googleusercontent.com/-DvmJfwm04cg/AAAAAAAAAAI/AAAAAAAAAIs/GByg4VNqHPY/photo.jpg?sz=128", "display_name": "dev_k2.0", "link": "https://stackoverflow.com/users/4793532/dev-k2-0"}, "edited": false, "score": 0, "creation_date": 1493028813, "post_id": 43585239, "comment_id": 74219619, "body": "It is detecting only the first character. Try with # it will not work"}, {"owner": {"reputation": 87649, "user_id": 17389, "user_type": "registered", "accept_rate": 38, "profile_image": "https://www.gravatar.com/avatar/cd06d1314817ce946ab796af8750b56a?s=128&d=identicon&r=PG", "display_name": "ysth", "link": "https://stackoverflow.com/users/17389/ysth"}, "edited": false, "score": 0, "creation_date": 1493029010, "post_id": 43585239, "comment_id": 74219731, "body": "$% is treated as a variable (interpolating &#39;0&#39;), and the backslash escapes the forward slash.  try <code>&#47;[\\@#\\$%\\\\\\&#47;]&#47;</code>"}, {"owner": {"reputation": 39, "user_id": 4793532, "user_type": "registered", "profile_image": "https://lh4.googleusercontent.com/-DvmJfwm04cg/AAAAAAAAAAI/AAAAAAAAAIs/GByg4VNqHPY/photo.jpg?sz=128", "display_name": "dev_k2.0", "link": "https://stackoverflow.com/users/4793532/dev-k2-0"}, "edited": false, "score": 0, "creation_date": 1493029304, "post_id": 43585239, "comment_id": 74219908, "body": "try this. It is not working at my end    my $s = &quot;lj2dm%&quot;; if ($s =~ /[@#$%\\/]/) {         print &quot;have it \\n&quot;; }"}, {"owner": {"reputation": 60461, "user_id": 3636601, "user_type": "registered", "accept_rate": 75, "profile_image": "https://www.gravatar.com/avatar/69a1b4f750ece89db0e49c94519f1a7d?s=128&d=identicon&r=PG&f=1", "display_name": "Jens", "link": "https://stackoverflow.com/users/3636601/jens"}, "reply_to_user": {"reputation": 39, "user_id": 4793532, "user_type": "registered", "profile_image": "https://lh4.googleusercontent.com/-DvmJfwm04cg/AAAAAAAAAAI/AAAAAAAAAIs/GByg4VNqHPY/photo.jpg?sz=128", "display_name": "dev_k2.0", "link": "https://stackoverflow.com/users/4793532/dev-k2-0"}, "edited": false, "score": 0, "creation_date": 1493029512, "post_id": 43585239, "comment_id": 74220048, "body": "@dev_k2.0 The % sign must be escaped. See my edited answer"}, {"owner": {"reputation": 320771, "user_id": 589924, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/b2cf53d5a3d25f95c0db4e025aed4153?s=128&d=identicon&r=PG", "display_name": "ikegami", "link": "https://stackoverflow.com/users/589924/ikegami"}, "edited": false, "score": 0, "creation_date": 1493062238, "post_id": 43585239, "comment_id": 74242584, "body": "No, <code>%</code> doesn&#39;t need to be escaped, though there&#39;s no harm (except to readability) in escaping it. (I&#39;m not the downvoter.)"}], "tags": [], "owner": {"reputation": 60461, "user_id": 3636601, "user_type": "registered", "accept_rate": 75, "profile_image": "https://www.gravatar.com/avatar/69a1b4f750ece89db0e49c94519f1a7d?s=128&d=identicon&r=PG&f=1", "display_name": "Jens", "link": "https://stackoverflow.com/users/3636601/jens"}, "is_accepted": false, "score": 1, "last_activity_date": 1493033540, "last_edit_date": 1493033540, "creation_date": 1493028340, "answer_id": 43585239, "question_id": 43585138, "link": "https://stackoverflow.com/questions/43585138/how-to-detect-certain-special-characters-in-perl-string/43585239#43585239", "title": "How to detect certain special characters in perl string?", "body": "<p>This should work:</p>\n\n<pre><code>=~ /[@#$%\\/]/\n</code></pre>\n\n<p>if one of the character is included in the string it will detected</p>\n\n<pre><code>my $s = \"@\";\nif ($s =~ /[@#\\$\\%\\/]/) {\n        print \"have it\";\n}\n</code></pre>\n"}, {"tags": [], "owner": {"reputation": 320771, "user_id": 589924, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/b2cf53d5a3d25f95c0db4e025aed4153?s=128&d=identicon&r=PG", "display_name": "ikegami", "link": "https://stackoverflow.com/users/589924/ikegami"}, "is_accepted": false, "score": 3, "last_activity_date": 1493062747, "last_edit_date": 1493062747, "creation_date": 1493052230, "answer_id": 43593626, "question_id": 43585138, "link": "https://stackoverflow.com/questions/43585138/how-to-detect-certain-special-characters-in-perl-string/43593626#43593626", "title": "How to detect certain special characters in perl string?", "body": "<p>You were on the right track with your second attempt, but you forgot to escape characters that have a special meaning in regex patterns.</p>\n\n<pre><code>/\\@|#|\\$|%|\\\\|\\//       # or m{\\@|#|\\$|%|\\\\|/}\n</code></pre>\n\n<p>However, it would be more efficient to use a character class.</p>\n\n<pre><code>/[\\@#\\$%\\\\//]/          # or m{[\\@#\\$%\\\\/]}\n</code></pre>\n\n<p>If you're ok with checking for any non-word characters, you can use</p>\n\n<pre><code>/\\W/\n</code></pre>\n\n<hr>\n\n<p>A safer approach is usually to specify the characters you want to allow, and exclude everything else. For example,</p>\n\n<pre><code>/[^\\w]/           # Only allow word characters.\n</code></pre>\n\n<p>or</p>\n\n<pre><code>/[^a-zA-Z0-9_]/   # Only allow unaccented latin letters, \"european\" digits, and underscore.\n</code></pre>\n"}, {"tags": [], "owner": {"reputation": 32176, "user_id": 2173773, "user_type": "registered", "accept_rate": 86, "profile_image": "https://i.stack.imgur.com/M8yh6.jpg?s=128&g=1", "display_name": "H&#229;kon H&#230;gland", "link": "https://stackoverflow.com/users/2173773/h%c3%a5kon-h%c3%a6gland"}, "is_accepted": false, "score": 0, "last_activity_date": 1493054791, "creation_date": 1493054791, "answer_id": 43594337, "question_id": 43585138, "link": "https://stackoverflow.com/questions/43585138/how-to-detect-certain-special-characters-in-perl-string/43594337#43594337", "title": "How to detect certain special characters in perl string?", "body": "<p>You can use <a href=\"http://perldoc.perl.org/functions/quotemeta.html\" rel=\"nofollow noreferrer\"><code>quotemeta</code></a>. For example:</p>\n\n<pre><code>my $chars = '@#$%\\/';\nmy ($regex) = map { qr /$_/ } join '|', map {quotemeta} split //, $chars;\n</code></pre>\n"}], "owner": {"reputation": 39, "user_id": 4793532, "user_type": "registered", "profile_image": "https://lh4.googleusercontent.com/-DvmJfwm04cg/AAAAAAAAAAI/AAAAAAAAAIs/GByg4VNqHPY/photo.jpg?sz=128", "display_name": "dev_k2.0", "link": "https://stackoverflow.com/users/4793532/dev-k2-0"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 7287, "favorite_count": 0, "answer_count": 3, "score": 2, "last_activity_date": 1617293439, "creation_date": 1493028073, "last_edit_date": 1493028149, "question_id": 43585138, "link": "https://stackoverflow.com/questions/43585138/how-to-detect-certain-special-characters-in-perl-string", "title": "How to detect certain special characters in perl string?", "body": "<p>I want to detect the presence of certain characters like @ # $ % \\ / in a Perl string. Can anyone suggest a regex for this. I tried few but it is not working.</p>\n\n<pre><code>=~ /(\\W@\\W#\\W%\\W*)/)\n=~ /(@|#|%|*)/) \n</code></pre>\n\n<p>I tried these but it is not working. </p>\n\n<p>Can anyone suggest where i am going wrong?</p>\n"}, {"tags": ["linux", "perl", "curses"], "comments": [{"owner": {"reputation": 979, "user_id": 3293606, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/2b0ba6f0958280efa417da350c499a7e?s=128&d=identicon&r=PG&f=1", "display_name": "Alex", "link": "https://stackoverflow.com/users/3293606/alex"}, "edited": false, "score": 0, "creation_date": 1493017586, "post_id": 43581320, "comment_id": 74212698, "body": "- try to check used terminal emulators terminfo/termcap - check the application in other teminal, like xterm"}, {"owner": {"reputation": 32176, "user_id": 2173773, "user_type": "registered", "accept_rate": 86, "profile_image": "https://i.stack.imgur.com/M8yh6.jpg?s=128&g=1", "display_name": "H&#229;kon H&#230;gland", "link": "https://stackoverflow.com/users/2173773/h%c3%a5kon-h%c3%a6gland"}, "edited": false, "score": 0, "creation_date": 1493022944, "post_id": 43581320, "comment_id": 74215810, "body": "Please provide a <a href=\"https://stackoverflow.com/help/mcve\">MCVE</a>"}, {"owner": {"reputation": 1, "user_id": 7912009, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/35a8b36dabb37e831be47bd2413c7104?s=128&d=identicon&r=PG&f=1", "display_name": "Prashanth G", "link": "https://stackoverflow.com/users/7912009/prashanth-g"}, "edited": false, "score": 0, "creation_date": 1493023274, "post_id": 43581320, "comment_id": 74216000, "body": "Thanks for the reply. I am using <b>putty</b> as a client to connect to Linux machine. I am not very sure about the usage of terminfo. Please let me know if I can try anything else. I can provide more information if needed."}, {"owner": {"reputation": 32176, "user_id": 2173773, "user_type": "registered", "accept_rate": 86, "profile_image": "https://i.stack.imgur.com/M8yh6.jpg?s=128&g=1", "display_name": "H&#229;kon H&#230;gland", "link": "https://stackoverflow.com/users/2173773/h%c3%a5kon-h%c3%a6gland"}, "edited": false, "score": 0, "creation_date": 1493027402, "post_id": 43581320, "comment_id": 74218636, "body": "What is <code>InstallUI::MenuScreen</code>? I could not find the module on CPAN.."}, {"owner": {"reputation": 1, "user_id": 7912009, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/35a8b36dabb37e831be47bd2413c7104?s=128&d=identicon&r=PG&f=1", "display_name": "Prashanth G", "link": "https://stackoverflow.com/users/7912009/prashanth-g"}, "edited": false, "score": 0, "creation_date": 1493027943, "post_id": 43581320, "comment_id": 74219049, "body": "Sorry. That was something specific to our framework. I have changed the code to a generic one now. Please check."}, {"owner": {"reputation": 1339, "user_id": 2141064, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/c56d69ec8f5e469a8c6ca22d60271e9b?s=128&d=identicon&r=PG", "display_name": "Lorinczy Zsigmond", "link": "https://stackoverflow.com/users/2141064/lorinczy-zsigmond"}, "edited": false, "score": 1, "creation_date": 1493030551, "post_id": 43581320, "comment_id": 74220760, "body": "@OP Hi, MVCE isn&#39;t an offence word, it means a minimal complete program. Please provide one"}], "owner": {"reputation": 1, "user_id": 7912009, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/35a8b36dabb37e831be47bd2413c7104?s=128&d=identicon&r=PG&f=1", "display_name": "Prashanth G", "link": "https://stackoverflow.com/users/7912009/prashanth-g"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 53, "favorite_count": 0, "answer_count": 0, "score": 0, "last_activity_date": 1493027897, "creation_date": 1493015827, "last_edit_date": 1493027897, "question_id": 43581320, "link": "https://stackoverflow.com/questions/43581320/curses-window-in-linux-is-not-appearing-physically-on-screen-but-it-is-virtuall", "title": "Curses Window in linux is not appearing physically on screen. But it is virtually present in the background and takes input also", "body": "<p>Curses Window in linux is <strong>not</strong> appearing physically on screen. But it is <strong>virtually present</strong> in the background and takes input also. What might be the issue?</p>\n\n<p>The same code works fine in AIX and Solaris Machines but not in SUSE, RedHat or any other Linux machines.</p>\n\n<p><strong>Part of my code is below:</strong></p>\n\n<pre><code>my $screen = newwin(40,40,1,1);\n\n$screen-&gt;clrtoeol();\n$screen-&gt;addstr( 20,20,\"Hello World\" );\n$screen-&gt;standend();\n$screen-&gt;refresh();\n</code></pre>\n"}, {"tags": ["python", "oracle", "perl"], "comments": [{"owner": {"reputation": 2954, "user_id": 235961, "user_type": "registered", "accept_rate": 75, "profile_image": "https://www.gravatar.com/avatar/f8e403d928f09096477fd2b4f3c00560?s=128&d=identicon&r=PG", "display_name": "Pradeep", "link": "https://stackoverflow.com/users/235961/pradeep"}, "edited": false, "score": 0, "creation_date": 1493019914, "post_id": 43579390, "comment_id": 74214061, "body": "The host etc. is passed as arguments when the subroutine is invoked. For python refer to this <a href=\"http://stackoverflow.com/questions/372885/how-do-i-connect-to-a-mysql-database-in-python\" title=\"how do i connect to a mysql database in python\">stackoverflow.com/questions/372885/&hellip;</a>"}, {"owner": {"reputation": 297, "user_id": 1677381, "user_type": "registered", "accept_rate": 67, "profile_image": "https://www.gravatar.com/avatar/a2bf571e04028f34cef9539df0f270d9?s=128&d=identicon&r=PG", "display_name": "Calab", "link": "https://stackoverflow.com/users/1677381/calab"}, "reply_to_user": {"reputation": 2954, "user_id": 235961, "user_type": "registered", "accept_rate": 75, "profile_image": "https://www.gravatar.com/avatar/f8e403d928f09096477fd2b4f3c00560?s=128&d=identicon&r=PG", "display_name": "Pradeep", "link": "https://stackoverflow.com/users/235961/pradeep"}, "edited": false, "score": 0, "creation_date": 1493054686, "post_id": 43579390, "comment_id": 74238206, "body": "Thanks. My biggest problem though, is that I don&#39;t know the host. Perl doesn&#39;t seem to need it. It uses <code>DBI:Oracle:ENGPRD</code> to make the connection. How would I translate this to a host for use in Python?"}], "answers": [{"comments": [{"owner": {"reputation": 297, "user_id": 1677381, "user_type": "registered", "accept_rate": 67, "profile_image": "https://www.gravatar.com/avatar/a2bf571e04028f34cef9539df0f270d9?s=128&d=identicon&r=PG", "display_name": "Calab", "link": "https://stackoverflow.com/users/1677381/calab"}, "edited": false, "score": 0, "creation_date": 1493096279, "post_id": 43594649, "comment_id": 74253358, "body": "Thank you! The host name was located in the tnsnames.ora file. I now have my python script working!"}], "tags": [], "owner": {"reputation": 43, "user_id": 7385080, "user_type": "registered", "profile_image": "https://lh6.googleusercontent.com/-RSBdFYzBgi4/AAAAAAAAAAI/AAAAAAAAAAs/HSVCicH0aa0/photo.jpg?sz=128", "display_name": "Christopher Collins", "link": "https://stackoverflow.com/users/7385080/christopher-collins"}, "is_accepted": true, "score": 1, "last_activity_date": 1493055937, "creation_date": 1493055937, "answer_id": 43594649, "question_id": 43579390, "link": "https://stackoverflow.com/questions/43579390/replicating-a-perl-oracle-database-connection-in-python/43594649#43594649", "title": "Replicating a Perl Oracle database connection in Python", "body": "<p>The SID 'INGPRD' refers to the database name and instance number.  I believe there is a Oracle tnsnames.ora file that identifies these. </p>\n\n<p>I think this link will help </p>\n\n<p><a href=\"http://www.sap-img.com/oracle-database/finding-oracle-sid-of-a-database.htm\" rel=\"nofollow noreferrer\">http://www.sap-img.com/oracle-database/finding-oracle-sid-of-a-database.htm</a></p>\n"}], "owner": {"reputation": 297, "user_id": 1677381, "user_type": "registered", "accept_rate": 67, "profile_image": "https://www.gravatar.com/avatar/a2bf571e04028f34cef9539df0f270d9?s=128&d=identicon&r=PG", "display_name": "Calab", "link": "https://stackoverflow.com/users/1677381/calab"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 181, "favorite_count": 0, "accepted_answer_id": 43594649, "answer_count": 1, "score": 1, "last_activity_date": 1541600930, "creation_date": 1493004903, "last_edit_date": 1541600930, "question_id": 43579390, "link": "https://stackoverflow.com/questions/43579390/replicating-a-perl-oracle-database-connection-in-python", "title": "Replicating a Perl Oracle database connection in Python", "body": "<p>I've been tasked to create a Python script that gets a list of devices from an Oracle database and does some processing on each device. The majority of this is straightforward, but where I am having an issue is connecting to the Oracle database.</p>\n\n<p>I have a Perl script that connects to the same database, but I cannot translate this to the equivalent Python code.</p>\n\n<p>The <code>DBI</code> and <code>DBD::Oracle</code> Perl modules are in use and I am using the <code>cx_Oracle</code> Python module.    </p>\n\n<p>Perl is version 5.8.8 and Python is version 2.7.2. This is all running on a CentOS linux box. The Oracle database is not located on the local host.</p>\n\n<p>Here is the pertinent Perl code that does work. The username/password has been changed to protect the innocent.</p>\n\n<pre><code>sub dbConn($$$) {\n  # Set Oracle enviroment path information\n  $ENV{\"LD_LIBRARY_PATH\"} = \"/usr/lib/oracle/11.2/client64/lib\";              \n  $ENV{\"NLS_LANG\"}        = \"ENGLISH_CANADA.AL32UTF8\";                                              \n  $ENV{\"ORACLE_HOME\"}     = \"/usr/lib/oracle/11.2/client64\";                  \n  $ENV{\"PATH\"}            = \"/usr/lib/oracle/11.2/client64/bin:\".$ENV{\"PATH\"};\n\n  # Get parameters passed to subroutine    \n  my $db_pass     = shift();\n  my $db_database = shift();\n  my $SID         = shift();\n\n  # Connect to db\n  my $odbh = DBI-&gt;connect(\"DBI:Oracle:$SID\",\n    $db_database,\n    $db_pass,\n    {\n      RaiseError =&gt; 1,\n      PrintError =&gt; 1,\n      AutoCommit =&gt; 0\n    }\n  ) ||  die(\"FATAL ERROR:Unable to connect to the Database: $DBI::errstr\");\n\n  # Return our database handle\n  return ($odbh);\n\n\n\nsub dbDisco($) {\n\n    # Get parameter passed to subroutine    \n  my $odbh = shift();\n\n  # Disconnect from DB\n  $odbh-&gt;disconnect;\n}  \n\n\n\nsub loadDevices {\n\n     # Connect to database\n     my $odbh = dbConn( \"password\", \"username\", \"ENGPRD\" );\n\n     # Get device list\n     my @devices = dbGetDevices( $odbh );\n\n  # Disconnect from FDB\n     dbDisco($odbh);\n\n    return ( @devices );\n}\n</code></pre>\n\n<p>You'll notice that the host is not specified here, but Perl can still find and connect to the database.</p>\n\n<p>How can I find out what host(IP?), port, etc. the Perl script is using? How can I duplicate the Perl dbConn function in python?</p>\n\n<p>Any insight is appreciated.</p>\n"}, {"tags": ["perl", "anyevent"], "comments": [{"owner": {"reputation": 927, "user_id": 5403907, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/F3lnS.jpg?s=128&g=1", "display_name": "mbethke", "link": "https://stackoverflow.com/users/5403907/mbethke"}, "edited": false, "score": 0, "creation_date": 1493006696, "post_id": 43578125, "comment_id": 74208710, "body": "Other sysctls that could break things are <code>fs.nr_open</code> (usually large enough though nowadays) and <code>net.ipv4.netfilter.ip_conntrack_max</code>. Setting <code>SO_REUSEADDR</code> on the socket might help, too."}, {"owner": {"reputation": 123805, "user_id": 622310, "user_type": "registered", "accept_rate": 33, "profile_image": "https://www.gravatar.com/avatar/8b6d35219e1808520bc238b28161e2e6?s=128&d=identicon&r=PG", "display_name": "Borodin", "link": "https://stackoverflow.com/users/622310/borodin"}, "edited": false, "score": 0, "creation_date": 1493024002, "post_id": 43578125, "comment_id": 74216420, "body": "Why are you calling <code>kickoff</code> recursively from within the <code>on_connect</code> subroutine as well as iteratively from the <code>for</code> loop?"}, {"owner": {"reputation": 320771, "user_id": 589924, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/b2cf53d5a3d25f95c0db4e025aed4153?s=128&d=identicon&r=PG", "display_name": "ikegami", "link": "https://stackoverflow.com/users/589924/ikegami"}, "edited": false, "score": 0, "creation_date": 1493084217, "post_id": 43578125, "comment_id": 74250333, "body": "I&#39;m guessing it&#39;s to spread the load. It limits the number of connecting sockets to 1000"}, {"owner": {"reputation": 320771, "user_id": 589924, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/b2cf53d5a3d25f95c0db4e025aed4153?s=128&d=identicon&r=PG", "display_name": "ikegami", "link": "https://stackoverflow.com/users/589924/ikegami"}, "edited": false, "score": 0, "creation_date": 1493084289, "post_id": 43578125, "comment_id": 74250353, "body": "There are only 65536 TCP ports per address. Could be because of that?"}, {"owner": {"reputation": 320771, "user_id": 589924, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/b2cf53d5a3d25f95c0db4e025aed4153?s=128&d=identicon&r=PG", "display_name": "ikegami", "link": "https://stackoverflow.com/users/589924/ikegami"}, "edited": false, "score": 0, "creation_date": 1493147296, "post_id": 43578125, "comment_id": 74286924, "body": "What happens when you reach that number?"}, {"owner": {"reputation": 4181, "user_id": 3337677, "user_type": "registered", "accept_rate": 68, "profile_image": "https://www.gravatar.com/avatar/2a3cb5dc363dbc123686e074c4c3181e?s=128&d=identicon&r=PG&f=1", "display_name": "packetie", "link": "https://stackoverflow.com/users/3337677/packetie"}, "edited": false, "score": 0, "creation_date": 1493179227, "post_id": 43578125, "comment_id": 74298268, "body": "Thanks for the comments. It&#39;s answered in the update1."}], "owner": {"reputation": 4181, "user_id": 3337677, "user_type": "registered", "accept_rate": 68, "profile_image": "https://www.gravatar.com/avatar/2a3cb5dc363dbc123686e074c4c3181e?s=128&d=identicon&r=PG&f=1", "display_name": "packetie", "link": "https://stackoverflow.com/users/3337677/packetie"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 74, "favorite_count": 0, "answer_count": 0, "score": 2, "last_activity_date": 1493179203, "creation_date": 1492994660, "last_edit_date": 1493179203, "question_id": 43578125, "link": "https://stackoverflow.com/questions/43578125/anyevent-stopped-attempting-to-make-connections-after-certain-point", "title": "AnyEvent stopped attempting to make connections after certain point", "body": "<p>Created a script to test against a server (it's capable of over 100K concurrent TCP sockets). Affter it reaches 65536, the client stopped attempting to set up connections.  Wonder why.</p>\n\n<pre><code>use AnyEvent;\nuse EV;\nuse AnyEvent::Handle;\nuse IO::Socket::UNIX;\nuse Time::HiRes qw( gettimeofday );\nuse Data::Dumper;\nmy $count = 0;\nmy @hds = ();\nmy $cv = AnyEvent-&gt;condvar;\nmy $ips = [\"192.168.1.11\", \"192.168.1.12\",\"192.168.1.13\",\"192.168.1.14\"];\nmy $i;\nmy $j = 0;\nfor ($i=0; $i&lt;1000; $i++) {\n    kickoff();\n}\n$cv-&gt;recv;\n\nsub kickoff {\n    my $hdl = new AnyEvent::Handle\n      connect =&gt; [\"192.168.1.1\", 80],\n      on_error =&gt; sub {\n         my ($hdl, $fatal, $msg) = @_;\n         print \"error when count=$count, $!\\n\";\n         $hdl-&gt;destroy;\n         $cv-&gt;send;\n      },\n        on_connect =&gt; sub {\n            $count ++;\n            if ($count &gt; 65000) {\n                print \"$count\\n\";\n            } elsif (($count % 1000) == 0) {\n                print \"$count\\n\";\n            }\n            if ($count &gt;= 100000) { return; }\n            kickoff();\n\n        },\n        on_prepare =&gt; sub {\n            my $hdl = shift;\n            #print Dumper($hd); exit;\n            mybind($hdl-&gt;{fh}, $ips-&gt;[$j%4]);\n            $j ++;\n        },\n        on_read =&gt; ::handleData;\n     push @hds, $hdl;\n}\n\nsub getTS {\n    my ($seconds, $microseconds) = gettimeofday;\n    return $seconds + (0.0+ $microseconds)/1000000.0;\n}\n\nsub mybind {\n    my ($sock, $ip) = @_;\n    my $local_host=inet_aton($ip) or return undef;\n    my $local = sockaddr_in(0, $local_host);\n    bind($sock,$local) or print 'Couldn\\'t bind to local\\n';\n\n}\n</code></pre>\n\n<p>For the record, I ran it as root on Ubuntu 14.04 (linux 3.19.0) and <code>ulimit -a</code> shows 100000. </p>\n\n<p>Any idea why?</p>\n\n<p><strong>UPDATE1</strong></p>\n\n<p>Some update based on the comments. Thanks guys.</p>\n\n<ul>\n<li>When I use only one IP, I can easily go to 27000 concurrent TCP connections. The port range (for each host) should allow 100,000 connections on 4 hosts.</li>\n<li>I have<code>fs.nr_open = 1048576</code> but don't have config for net.ipv4.netfilter.ip_conntrack_max</li>\n<li>The max number \"65536\" can mean many things: 1) max number of ports on a host 2) the number of numbers in a 2-byte short integer.  So it could be related. Wonder where I can redefine the limit or if it's possible to redefine it.</li>\n<li>When I reach the number 65536, it stopped attempting to create new connections. </li>\n</ul>\n"}, {"tags": ["perl", "cgi"], "comments": [{"owner": {"reputation": 123805, "user_id": 622310, "user_type": "registered", "accept_rate": 33, "profile_image": "https://www.gravatar.com/avatar/8b6d35219e1808520bc238b28161e2e6?s=128&d=identicon&r=PG", "display_name": "Borodin", "link": "https://stackoverflow.com/users/622310/borodin"}, "edited": false, "score": 0, "creation_date": 1492977958, "post_id": 43575739, "comment_id": 74201982, "body": "It sounds like you&#39;re running this from the console, so why are you using CGI?"}, {"owner": {"reputation": 123805, "user_id": 622310, "user_type": "registered", "accept_rate": 33, "profile_image": "https://www.gravatar.com/avatar/8b6d35219e1808520bc238b28161e2e6?s=128&d=identicon&r=PG", "display_name": "Borodin", "link": "https://stackoverflow.com/users/622310/borodin"}, "edited": false, "score": 4, "creation_date": 1492977983, "post_id": 43575739, "comment_id": 74201990, "body": "Please don&#39;t publish text as an image, and you <i>must always</i> <code>use strict</code> at the top of <i>every</i> Perl program you write, especially if you are asking for help with it."}, {"owner": {"reputation": 15, "user_id": 6453374, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/5890302852eb03de7464e985b4284b7c?s=128&d=identicon&r=PG&f=1", "display_name": "Deep Shah", "link": "https://stackoverflow.com/users/6453374/deep-shah"}, "reply_to_user": {"reputation": 123805, "user_id": 622310, "user_type": "registered", "accept_rate": 33, "profile_image": "https://www.gravatar.com/avatar/8b6d35219e1808520bc238b28161e2e6?s=128&d=identicon&r=PG", "display_name": "Borodin", "link": "https://stackoverflow.com/users/622310/borodin"}, "edited": false, "score": 0, "creation_date": 1492988986, "post_id": 43575739, "comment_id": 74205027, "body": "No I am not running it on the console. I am testing it by local hosting on Apache."}, {"owner": {"reputation": 123805, "user_id": 622310, "user_type": "registered", "accept_rate": 33, "profile_image": "https://www.gravatar.com/avatar/8b6d35219e1808520bc238b28161e2e6?s=128&d=identicon&r=PG", "display_name": "Borodin", "link": "https://stackoverflow.com/users/622310/borodin"}, "edited": false, "score": 0, "creation_date": 1492992184, "post_id": 43575739, "comment_id": 74205636, "body": "Okay, but if you saw any effects from <code>Term::ANSIColor</code> it would be occasional &quot;nonsense&quot; characters in the page. It could not possibly have produced bold characters in a browser."}, {"owner": {"reputation": 15, "user_id": 6453374, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/5890302852eb03de7464e985b4284b7c?s=128&d=identicon&r=PG&f=1", "display_name": "Deep Shah", "link": "https://stackoverflow.com/users/6453374/deep-shah"}, "reply_to_user": {"reputation": 123805, "user_id": 622310, "user_type": "registered", "accept_rate": 33, "profile_image": "https://www.gravatar.com/avatar/8b6d35219e1808520bc238b28161e2e6?s=128&d=identicon&r=PG", "display_name": "Borodin", "link": "https://stackoverflow.com/users/622310/borodin"}, "edited": false, "score": 0, "creation_date": 1493109657, "post_id": 43575739, "comment_id": 74260438, "body": "Hey, ya I first test the script in terminal and when I get the desired result I local host it on the Apache. The output image that I have attached is the one produced by local hosting on Apache. Maybe I didn&#39;t explain it clearly. Sorry."}, {"owner": {"reputation": 123805, "user_id": 622310, "user_type": "registered", "accept_rate": 33, "profile_image": "https://www.gravatar.com/avatar/8b6d35219e1808520bc238b28161e2e6?s=128&d=identicon&r=PG", "display_name": "Borodin", "link": "https://stackoverflow.com/users/622310/borodin"}, "edited": false, "score": 0, "creation_date": 1493110328, "post_id": 43575739, "comment_id": 74260936, "body": "Then that is why you saw bold characters using <code>Term::ANSIColor</code>. You may be able to 7 control the console that way but the escape sequences are meaningless to a browser."}], "answers": [{"comments": [{"owner": {"reputation": 15, "user_id": 6453374, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/5890302852eb03de7464e985b4284b7c?s=128&d=identicon&r=PG&f=1", "display_name": "Deep Shah", "link": "https://stackoverflow.com/users/6453374/deep-shah"}, "edited": false, "score": 0, "creation_date": 1492989352, "post_id": 43576012, "comment_id": 74205094, "body": "Thanks for your suggestion. I had already tried producing an HTML output as suggested by you but was unable to get the same output as desired and so I switched to the plain text output. So is there anyway in which I can do this without changing the output to HTML.? Or how can I produce the same output in HTML.? I have problem producing the same kind of output in HTML. Thanks a lot."}, {"owner": {"reputation": 15, "user_id": 6453374, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/5890302852eb03de7464e985b4284b7c?s=128&d=identicon&r=PG&f=1", "display_name": "Deep Shah", "link": "https://stackoverflow.com/users/6453374/deep-shah"}, "edited": false, "score": 0, "creation_date": 1493109674, "post_id": 43576012, "comment_id": 74260450, "body": "Thanks a lot. I will try this."}], "tags": [], "owner": {"reputation": 123805, "user_id": 622310, "user_type": "registered", "accept_rate": 33, "profile_image": "https://www.gravatar.com/avatar/8b6d35219e1808520bc238b28161e2e6?s=128&d=identicon&r=PG", "display_name": "Borodin", "link": "https://stackoverflow.com/users/622310/borodin"}, "is_accepted": false, "score": 3, "last_activity_date": 1493058337, "last_edit_date": 1592644375, "creation_date": 1492978670, "answer_id": 43576012, "question_id": 43575739, "link": "https://stackoverflow.com/questions/43575739/perl-cgi-output/43576012#43576012", "title": "Perl CGI output", "body": "\n<p>You can't control the style of characters displayed in a <code>text/plain</code> document. <code>Term::ANSIColor</code> certainly won't work as the browser doesn't recognize the ANSI terminal escape sequences, which will work only on your console</p>\n<p>If you write your output as HTML then you just need to put <code>&lt;strong&gt;...&lt;/strong&gt;</code> around the word to be emboldened</p>\n<p>Or, better, you can write a CSS style like this</p>\n<pre class=\"lang-css prettyprint-override\"><code>.bold {\n    font-weight: bold;\n}\n</code></pre>\n<p>and wrap the words in <code>&lt;span class=&quot;bold&quot;&gt;...&lt;/span&gt;</code></p>\n<h3>Update</h3>\n<p>To convert your text document to HTML, the simplest way is to wrap it in a <code>&lt;pre&gt;...&lt;/pre&gt;</code> (&quot;preformatted&quot;) element and put it into the standard HTML structure. Less than <code>&lt;</code>, greater than <code>&gt;</code> and ampersand <code>&amp;</code> characters must be replaced with their corresponding entities <code>&amp;lt;</code>, <code>&amp;gt;</code> and <code>&amp;amp;</code> respectively, and you can wrap the words you want in <strong>bold</strong> in <code>&lt;strong&gt;</code> tags</p>\n<p>The minimum HTML5 document which is also friendly with the majority of modern browsers looks like this</p>\n<pre class=\"lang-html prettyprint-override\"><code>&lt;!doctype html&gt;\n&lt;html lang=en&gt;\n  &lt;head&gt;\n    &lt;meta charset=UTF-8&gt;\n    &lt;title&gt;Search Results&lt;/title&gt;\n  &lt;/head&gt;\n  &lt;body&gt;\n    &lt;pre&gt;\nContent of my report\nwith words to be in bold wrapped in &lt;strong&gt; tags\nand characters `&lt;`, `&gt;`, and `&amp;` replaced by\n`&amp;lt;`, `&amp;gt;` and `&amp;amp;` respectively\n    &lt;/pre&gt;\n  &lt;/body&gt;\n&lt;/html&gt;\n</code></pre>\n"}], "owner": {"reputation": 15, "user_id": 6453374, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/5890302852eb03de7464e985b4284b7c?s=128&d=identicon&r=PG&f=1", "display_name": "Deep Shah", "link": "https://stackoverflow.com/users/6453374/deep-shah"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 490, "favorite_count": 0, "answer_count": 1, "score": -2, "last_activity_date": 1493058337, "creation_date": 1492976829, "last_edit_date": 1492978296, "question_id": 43575739, "link": "https://stackoverflow.com/questions/43575739/perl-cgi-output", "title": "Perl CGI output", "body": "<p>I have a Perl CGI script for finding the keyword in different types of texts and producing the sorted output.</p>\n\n<p>The present output looks like this</p>\n\n<p><img src=\"https://i.stack.imgur.com/GEZ6G.png\" alt=\"present output\"></p>\n\n<p>for a keyword \"the\".</p>\n\n<p>But I would like to highlight the keyword \"the\" in bold in this output.</p>\n\n<p>How is it possible to do this?</p>\n\n<p>I tried using <code>Term::ANSIColor</code> but it prints the entire sentence in bold and not only the keyword.</p>\n\n<p>My CGI script looks like this: </p>\n\n<pre><code>#!/usr/bin/perl\n\n# require\nuse warnings;\nuse diagnostics;\n\nuse CGI;\nuse File::Basename;\n\nmy $q = new CGI;\nprint \"Content-type: text/plain\\n\\n\";\n\n#initialize variables\nmy $target  = $q-&gt;param( \"keyword\" );\nmy $radius  = $q-&gt;param( \"span\" );\nmy $ordinal = $q-&gt;param( \"ord\" );\nmy $width   = 2 * $radius;\n\n#print standard output\nprint \"****************************\\n\";\nprint \"*      SEARCH RESULTS      *\\n\";\nprint \"****************************\\n\";\nprint \"Your Search word is: $target\\n\\n\";\nprint \"Your Radius is     : $radius\\n\\n\";\nprint \"Your Ordinal is    : $ordinal\\n\\n\";\nprint \"-----------------------------------------------------------\\n\\n\";\n\n#normal concordance for abstract text\nmy @files = glob( 'ABS/*.txt' );\nfor my $file ( @files ) {\n\n    my $path      = glob( 'ABS/*.txt' );\n    my $file_name = basename( $path );\n\n    # initialize\n    my $count = 0;\n    my @lines = ();\n    $/ = \"\";    # Paragraph read mode\n\n    # open the file, and process each line in it\n    open( FILE, \" &lt; $file\" ) or die( \"Can not open $file ($!).\\n\" );\n    while ( &lt;FILE&gt; ) {\n\n        # re-initialize\n        my $extract = '';\n\n        # normalize the data\n        chomp;\n        s/\\n/ /g;           # Replace new lines with spaces\n        s/\\b--\\b/ -- /g;    # Add spaces around dashes\n\n        # process each item if the target is found\n        while ( $_ =~ /\\b$target\\b/gi ) {\n\n            # find start position\n            my $match = $1;\n            my $pos   = pos;\n            my $start = $pos - $radius - length( $match );\n\n            # extract the snippets\n            if ( $start &lt; 0 ) {\n\n                $extract = substr( $_, 0, $width + $start + length( $match ) );\n                $extract = ( \" \" x -$start ) . $extract;\n            }\n            else {\n\n                $extract = substr( $_, $start, $width + length( $match ) );\n                my $deficit = $width + length( $match ) - length( $extract );\n\n                if ( $deficit &gt; 0 ) {\n                    $extract .= ( \" \" x $deficit );\n                }\n            }\n\n            # add the extracted text to the list of lines, and increment\n            $lines[$count] = $extract;\n            ++$count;\n\n        }\n    }\n\n    sub removePunctuation {\n        my $string = $_[0];\n\n        $string = lc( $string );     # Convert to lowercase\n        $string =~ s/[^-a-z ]//g;    # Remove non-aplhabetic characters\n        $string =~ s/--+/ /g;        # Remove 2+ hyphens with a space\n        $string =~ s/-//g;           # Remove hyphens\n        $string =~ s/\\s=/ /g;\n\n        return ( $string );\n    }\n\n    sub onLeft {\n\n        #USAGE: $word = onLeft($string, $radius, $ordinal);\n\n        my $left = substr( $_[0], 0, $_[1] );\n        $left = removePunctuation( $left );\n        my @word = split( /\\s+/, $left );\n\n        return ( $word[ -$_[2] ] );\n    }\n\n    sub byLeftWords {\n\n        my $left_a = onLeft( $a, $radius, $ordinal );\n        my $left_b = onLeft( $b, $radius, $ordinal );\n\n        lc( $left_a ) cmp lc( $left_b );\n    }\n\n    # process each line in the list of lines\n\n    my $line_number = 0;\n    print \"File name: $file_name \\n\\n\";\n\n    foreach my $x ( sort byLeftWords @lines ) {\n        ++$line_number;\n        printf \"%5d\", $line_number;\n        print \" $x\\n\\n\";\n\n    }\n\n    print \"------------------------------------------------------------\\n\\n\";\n}\n\n# done\nexit;\n</code></pre>\n\n<p>Thanks.</p>\n"}, {"tags": ["perl", "code-generation", "moose"], "answers": [{"comments": [{"owner": {"reputation": 123805, "user_id": 622310, "user_type": "registered", "accept_rate": 33, "profile_image": "https://www.gravatar.com/avatar/8b6d35219e1808520bc238b28161e2e6?s=128&d=identicon&r=PG", "display_name": "Borodin", "link": "https://stackoverflow.com/users/622310/borodin"}, "edited": false, "score": 3, "creation_date": 1492975184, "post_id": 43575243, "comment_id": 74201002, "body": "A few sentences of explanation are appropriate here"}], "tags": [], "owner": {"reputation": 890, "user_id": 1336858, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/14c71614ddf0252a06612c9bde5c3c5d?s=128&d=identicon&r=PG", "display_name": "Akzhan Abdulin", "link": "https://stackoverflow.com/users/1336858/akzhan-abdulin"}, "is_accepted": true, "score": 2, "last_activity_date": 1496764449, "last_edit_date": 1496764449, "creation_date": 1492973918, "answer_id": 43575243, "question_id": 43575068, "link": "https://stackoverflow.com/questions/43575068/how-to-dynamically-add-an-attribute-if-it-not-exists-using-perl-autoload-and-moo/43575243#43575243", "title": "How to dynamically add an attribute if it not exists using perl AUTOLOAD and Moose::Meta::Class?", "body": "<p>You generated the attribute and its accessor, but you forgot to call the accessor. So code returns nothing on first call.</p>\n\n<p>Corrected example:</p>\n\n<pre class=\"lang-perl prettyprint-override\"><code>sub AUTOLOAD {\n    my $self = shift;\n    our $AUTOLOAD;\n    my $unknown_method_name = (split(/::/, $AUTOLOAD))[-1];\n    require Class2; # generator class\n    Class2-&gt;generate_one($self, $unknown_method_name);\n    return $self-&gt;$unknown_method_name(@_);\n}\n</code></pre>\n"}], "owner": {"reputation": 1445, "user_id": 1441592, "user_type": "registered", "accept_rate": 40, "profile_image": "https://www.gravatar.com/avatar/2a58917def8d1523a840b52ae7d59d21?s=128&d=identicon&r=PG", "display_name": "Paul Serikov", "link": "https://stackoverflow.com/users/1441592/paul-serikov"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 141, "favorite_count": 1, "accepted_answer_id": 43575243, "answer_count": 1, "score": 2, "last_activity_date": 1496764449, "creation_date": 1492973063, "question_id": 43575068, "link": "https://stackoverflow.com/questions/43575068/how-to-dynamically-add-an-attribute-if-it-not-exists-using-perl-autoload-and-moo", "title": "How to dynamically add an attribute if it not exists using perl AUTOLOAD and Moose::Meta::Class?", "body": "<p>I'm trying to add to <code>Class1</code> <code>Resource1</code> attribute which value is <code>test</code>.\nHowever it's not working. What is wrong in my code?</p>\n\n<pre><code>package Class1;\nuse Moose;\n\nsub AUTOLOAD {\n    my $self = shift;\n    our $AUTOLOAD;\n    my $unknown_method_name = (split(/::/, $AUTOLOAD))[-1];\n    require Class2; # generator class\n    Class2-&gt;generate_one($self, $unknown_method_name);\n}\n\n\npackage Class2;\nuse Moose;\n\nsub generate_one {\n  my ($self, $object, $p) = @_;\n  $object-&gt;meta-&gt;add_attribute(\n    $p =&gt; {\n      is =&gt; 'ro',\n      default =&gt; 'test',\n      lazy =&gt; 1\n    }\n  );\n}\n\n\npackage main;\nmy $a = Class1-&gt;new;\nwarn $a-&gt;Resource1; # must be 'test' but showing Moose::Meta::Attribute=HASH(0x333ca10)\n</code></pre>\n"}, {"tags": ["regex", "string", "perl"], "answers": [{"comments": [{"owner": {"reputation": 87649, "user_id": 17389, "user_type": "registered", "accept_rate": 38, "profile_image": "https://www.gravatar.com/avatar/cd06d1314817ce946ab796af8750b56a?s=128&d=identicon&r=PG", "display_name": "ysth", "link": "https://stackoverflow.com/users/17389/ysth"}, "edited": false, "score": 1, "creation_date": 1492968263, "post_id": 43573884, "comment_id": 74198511, "body": "N.B. <a href=\"http://perldoc.perl.org/functions/substr.html\" rel=\"nofollow noreferrer\">perldoc.perl.org/functions/substr.html</a> &quot;Prior to Perl version 5.10, the result of using an lvalue multiple times was unspecified.&quot;"}, {"owner": {"reputation": 320771, "user_id": 589924, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/b2cf53d5a3d25f95c0db4e025aed4153?s=128&d=identicon&r=PG", "display_name": "ikegami", "link": "https://stackoverflow.com/users/589924/ikegami"}, "reply_to_user": {"reputation": 87649, "user_id": 17389, "user_type": "registered", "accept_rate": 38, "profile_image": "https://www.gravatar.com/avatar/cd06d1314817ce946ab796af8750b56a?s=128&d=identicon&r=PG", "display_name": "ysth", "link": "https://stackoverflow.com/users/17389/ysth"}, "edited": false, "score": 0, "creation_date": 1493084891, "post_id": 43573884, "comment_id": 74250487, "body": "@ysth, Unspecified? Does that mean undocumented? If so, who cares?"}, {"owner": {"reputation": 87649, "user_id": 17389, "user_type": "registered", "accept_rate": 38, "profile_image": "https://www.gravatar.com/avatar/cd06d1314817ce946ab796af8750b56a?s=128&d=identicon&r=PG", "display_name": "ysth", "link": "https://stackoverflow.com/users/17389/ysth"}, "reply_to_user": {"reputation": 320771, "user_id": 589924, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/b2cf53d5a3d25f95c0db4e025aed4153?s=128&d=identicon&r=PG", "display_name": "ikegami", "link": "https://stackoverflow.com/users/589924/ikegami"}, "edited": false, "score": 0, "creation_date": 1493085398, "post_id": 43573884, "comment_id": 74250641, "body": "@ikegami it means undocumented and not what anybody would want.  IIRC it would reuse the same starting length for the substring even if the length changed, so changing a length 4 substring to something with a length of 3 twice would end up removing a character from what was supposed to be outside the substring"}, {"owner": {"reputation": 320771, "user_id": 589924, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/b2cf53d5a3d25f95c0db4e025aed4153?s=128&d=identicon&r=PG", "display_name": "ikegami", "link": "https://stackoverflow.com/users/589924/ikegami"}, "reply_to_user": {"reputation": 87649, "user_id": 17389, "user_type": "registered", "accept_rate": 38, "profile_image": "https://www.gravatar.com/avatar/cd06d1314817ce946ab796af8750b56a?s=128&d=identicon&r=PG", "display_name": "ysth", "link": "https://stackoverflow.com/users/17389/ysth"}, "edited": false, "score": 0, "creation_date": 1493085600, "post_id": 43573884, "comment_id": 74250701, "body": "@ysth, ug. So the important thing isn&#39;t that it was <i>unspecified</i>, but that it was <i>different</i>. <i>Oddly different</i>, even. They should have said &quot;undefined behaviour&quot; instead of &quot;unspecifed result&quot;!"}], "tags": [], "owner": {"reputation": 123805, "user_id": 622310, "user_type": "registered", "accept_rate": 33, "profile_image": "https://www.gravatar.com/avatar/8b6d35219e1808520bc238b28161e2e6?s=128&d=identicon&r=PG", "display_name": "Borodin", "link": "https://stackoverflow.com/users/622310/borodin"}, "is_accepted": false, "score": 3, "last_activity_date": 1492966026, "creation_date": 1492966026, "answer_id": 43573884, "question_id": 43573682, "link": "https://stackoverflow.com/questions/43573682/replace-amp-with-with-retaining-string-length-in-perl/43573884#43573884", "title": "Replace &amp;amp; with &amp; with retaining string length in Perl", "body": "<p>You can use a <code>substr</code> call as an <em>lvalue</em>, so you could write something like this</p>\n\n<p>Note that <code>s///g</code> returns the number of substitutions that it has made</p>\n\n<p>I've used the <code>for</code> as a <em>topicaliser</em> to make the substring accessible as a simple variable <code>$_</code></p>\n\n<pre><code>for ( substr $s, 130, 40 ) {\n    my $n = s/&amp;amp;/&amp;/g;\n    $_ .= ' ' x ( 4 * $n );\n}\n</code></pre>\n"}, {"tags": [], "owner": {"reputation": 320771, "user_id": 589924, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/b2cf53d5a3d25f95c0db4e025aed4153?s=128&d=identicon&r=PG", "display_name": "ikegami", "link": "https://stackoverflow.com/users/589924/ikegami"}, "is_accepted": false, "score": 0, "last_activity_date": 1493136963, "last_edit_date": 1493136963, "creation_date": 1493085305, "answer_id": 43600334, "question_id": 43573682, "link": "https://stackoverflow.com/questions/43573682/replace-amp-with-with-retaining-string-length-in-perl/43600334#43600334", "title": "Replace &amp;amp; with &amp; with retaining string length in Perl", "body": "<pre><code>use HTML::Entities qw( decode_entities );\n\nsubstr($s, 130, 40, sprintf('%-40s', decode_entities(substr($s, 130, 40))));\n</code></pre>\n\n<p>or</p>\n\n<pre><code>use HTML::Entities qw( decode_entities );\n\nmy $format = 'A130 A40 A*';\nmy @fields = unpack($format, $s);\n$fields[1] = decode_entities($fields[1]);\n$s = pack($format, @fields);\n</code></pre>\n"}], "owner": {"reputation": 29, "user_id": 7909756, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/04431c994167885fc9cff9e0ff7e719f?s=128&d=identicon&r=PG&f=1", "display_name": "abaddon", "link": "https://stackoverflow.com/users/7909756/abaddon"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 222, "favorite_count": 0, "answer_count": 2, "score": 1, "last_activity_date": 1493136963, "creation_date": 1492965026, "last_edit_date": 1492970241, "question_id": 43573682, "link": "https://stackoverflow.com/questions/43573682/replace-amp-with-with-retaining-string-length-in-perl", "title": "Replace &amp;amp; with &amp; with retaining string length in Perl", "body": "<p>I am looking for a solution to a problem:</p>\n\n<p>I have a fixed length string which looks like:</p>\n\n<pre><code> 99               9999999999999                               999999ZK9999.999999999999.999999999 (9999999)                       Text &amp;amp; to change                    something random here                   \n</code></pre>\n\n<p>I want to replace any <code>&amp;amp;</code> symbol with <code>&amp;</code>, but only when this symbol is located between 130, and 170 characters from the left.\nI want also add necessary spaces at the end of the substring, so the length stays the same:</p>\n\n<pre><code> 99               9999999999999                               999999ZK9999.999999999999.999999999 (9999999)                       Text &amp; to change                        something random here                   \n</code></pre>\n\n<p>There maybe more than one <code>&amp;amp;</code> to replace.</p>\n\n<p>At the moment I'm creating 3 substrings, then I make all the necessary changes in the 2nd, and I'm connecting substrings back together.</p>\n\n<pre><code>            my $subline1 = substr $line, 0, 130;\n            my $subline2 = substr $line, 130, 40;\n            my $subline3 = substr $line, 170;\n            if ($subline2 =~ s/(&amp;amp;)/&amp;/ig) {\n                while (length($subline2)&lt;40){\n                    $subline2=$subline2.\" \";\n                }\n                $line=$subline1.$subline2.$subline3;\n</code></pre>\n\n<p>Is there a better way to accomplish this?</p>\n\n<p>EDIT: added my current solution</p>\n"}, {"tags": ["perl"], "comments": [{"owner": {"reputation": 32176, "user_id": 2173773, "user_type": "registered", "accept_rate": 86, "profile_image": "https://i.stack.imgur.com/M8yh6.jpg?s=128&g=1", "display_name": "H&#229;kon H&#230;gland", "link": "https://stackoverflow.com/users/2173773/h%c3%a5kon-h%c3%a6gland"}, "edited": false, "score": 2, "creation_date": 1492959575, "post_id": 43572602, "comment_id": 74195023, "body": "Please show the code you have tried, then it will be easier for us to help you"}, {"owner": {"reputation": 32176, "user_id": 2173773, "user_type": "registered", "accept_rate": 86, "profile_image": "https://i.stack.imgur.com/M8yh6.jpg?s=128&g=1", "display_name": "H&#229;kon H&#230;gland", "link": "https://stackoverflow.com/users/2173773/h%c3%a5kon-h%c3%a6gland"}, "edited": false, "score": 2, "creation_date": 1492959967, "post_id": 43572602, "comment_id": 74195217, "body": "Why did you want <code>AA TT GG</code> to become <code>TT AA TT GG CC AA</code>? Is there a formula that you use? Please explain"}, {"owner": {"reputation": 50468, "user_id": 1331451, "user_type": "registered", "accept_rate": 96, "profile_image": "https://i.stack.imgur.com/4ZPmj.png?s=128&g=1", "display_name": "simbabque", "link": "https://stackoverflow.com/users/1331451/simbabque"}, "edited": false, "score": 0, "creation_date": 1492961805, "post_id": 43572602, "comment_id": 74195919, "body": "All you need to do is omit the very first occurrence."}], "answers": [{"tags": [], "owner": {"reputation": 87649, "user_id": 17389, "user_type": "registered", "accept_rate": 38, "profile_image": "https://www.gravatar.com/avatar/cd06d1314817ce946ab796af8750b56a?s=128&d=identicon&r=PG", "display_name": "ysth", "link": "https://stackoverflow.com/users/17389/ysth"}, "is_accepted": false, "score": 0, "last_activity_date": 1492965058, "creation_date": 1492965058, "answer_id": 43573690, "question_id": 43572602, "link": "https://stackoverflow.com/questions/43572602/why-i-can-t-delete-the-empty-row/43573690#43573690", "title": "Why I can &#39;t delete the empty row?", "body": "<pre><code>open $file_in...\nopen $file_out...\nlocal $/ = 'SNP';\n&lt;$file_in&gt;; # discard empty row\nwhile ( my $record = &lt;$file_in&gt; ) {\n    chomp $record;\n    # make changes to $record, which will start as e.g. \"1 AA TT GG\"\n    ....\n    print $file_out \"SNP$record\\n\";\n}\n</code></pre>\n"}, {"tags": [], "owner": {"reputation": 123805, "user_id": 622310, "user_type": "registered", "accept_rate": 33, "profile_image": "https://www.gravatar.com/avatar/8b6d35219e1808520bc238b28161e2e6?s=128&d=identicon&r=PG", "display_name": "Borodin", "link": "https://stackoverflow.com/users/622310/borodin"}, "is_accepted": false, "score": 2, "last_activity_date": 1492966551, "creation_date": 1492966551, "answer_id": 43573972, "question_id": 43572602, "link": "https://stackoverflow.com/questions/43572602/why-i-can-t-delete-the-empty-row/43573972#43573972", "title": "Why I can &#39;t delete the empty row?", "body": "<p>Just make sure there is a character before every <code>SNP</code> that you alter:</p>\n\n<pre><code>s/.\\K(?=SNP)/\\n/g\n</code></pre>\n"}], "owner": {"reputation": 1, "user_id": 7889121, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/852696836be9e8dc15f5879e387b6498?s=128&d=identicon&r=PG&f=1", "display_name": "Huan", "link": "https://stackoverflow.com/users/7889121/huan"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 47, "favorite_count": 0, "answer_count": 2, "score": -3, "last_activity_date": 1492966551, "creation_date": 1492959039, "last_edit_date": 1492964980, "question_id": 43572602, "link": "https://stackoverflow.com/questions/43572602/why-i-can-t-delete-the-empty-row", "title": "Why I can &#39;t delete the empty row?", "body": "<p>The file A contains one row like below,</p>\n\n<pre><code>SNP1 AA TT GGSNP2 GG CC AASNP3 GG CC AA...\n</code></pre>\n\n<p>I want to change the format and make it like this,</p>\n\n<pre><code>SNP1    TT      AA      TT      GG      CC      AA\nSNP2    AA      GG      CC      TT      GG      CC\nSNP3    GG      AA      TT      TT      CC      TT\n</code></pre>\n\n<p>...\n(each row began with SNP_)\nI had written a perl script to replace SNP by \\nSNP, but the first row of the output file was always empty though I had done some try to delete the first row.\nSo, Is there any suggestion for me? Or another way to get the final output file. \nThanks a lot. </p>\n"}, {"tags": ["perl"], "comments": [{"owner": {"reputation": 65820, "user_id": 1741542, "user_type": "registered", "accept_rate": 75, "profile_image": "https://i.stack.imgur.com/QdVqh.jpg?s=128&g=1", "display_name": "Olaf Dietsche", "link": "https://stackoverflow.com/users/1741542/olaf-dietsche"}, "edited": false, "score": 1, "creation_date": 1492954327, "post_id": 43571728, "comment_id": 74193190, "body": "This is not Perl specific. I would rather look for an appropriate algorithm, e.g. first locate the center, and then construct the sphere using the point furthest away from the center."}, {"owner": {"reputation": 32176, "user_id": 2173773, "user_type": "registered", "accept_rate": 86, "profile_image": "https://i.stack.imgur.com/M8yh6.jpg?s=128&g=1", "display_name": "H&#229;kon H&#230;gland", "link": "https://stackoverflow.com/users/2173773/h%c3%a5kon-h%c3%a6gland"}, "edited": false, "score": 0, "creation_date": 1492955119, "post_id": 43571728, "comment_id": 74193471, "body": "You can use spherical coordinates, see for example topic <a href=\"http://mathworld.wolfram.com/Sphere.html\" rel=\"nofollow noreferrer\">Sphere</a> at Wolfram MathWorld"}, {"owner": {"reputation": 123805, "user_id": 622310, "user_type": "registered", "accept_rate": 33, "profile_image": "https://www.gravatar.com/avatar/8b6d35219e1808520bc238b28161e2e6?s=128&d=identicon&r=PG", "display_name": "Borodin", "link": "https://stackoverflow.com/users/622310/borodin"}, "edited": false, "score": 0, "creation_date": 1492957014, "post_id": 43571728, "comment_id": 74194161, "body": "So you want to calculate a random set of points that are within a sphere within a given radius and centre?"}, {"owner": {"reputation": 1, "user_id": 7520276, "user_type": "registered", "profile_image": "https://graph.facebook.com/10211938826602863/picture?type=large", "display_name": "Harpreet Singh", "link": "https://stackoverflow.com/users/7520276/harpreet-singh"}, "edited": false, "score": 0, "creation_date": 1492963217, "post_id": 43571728, "comment_id": 74196546, "body": "Yes, random points that are bound by the surface of a sphere"}], "answers": [{"tags": [], "owner": {"reputation": 123805, "user_id": 622310, "user_type": "registered", "accept_rate": 33, "profile_image": "https://www.gravatar.com/avatar/8b6d35219e1808520bc238b28161e2e6?s=128&d=identicon&r=PG", "display_name": "Borodin", "link": "https://stackoverflow.com/users/622310/borodin"}, "is_accepted": false, "score": 4, "last_activity_date": 1492958546, "last_edit_date": 1592644375, "creation_date": 1492958546, "answer_id": 43572530, "question_id": 43571728, "link": "https://stackoverflow.com/questions/43571728/points-in-a-sphere/43572530#43572530", "title": "Points in a sphere", "body": "<p>I suggest that you use the <em>Monte Carlo method</em></p>\n<p>Suppose you have a sphere centred at (<strong>X<sub>0</sub></strong>, <strong>Y<sub>0</sub></strong>, <strong>Z<sub>0</sub></strong>), and radius <strong>R</strong></p>\n<p>To fill that sphere with random points, generate a stream of random coordinates within a <em>cube</em> that exactly contains the sphere, and reject any point that falls outside the sphere</p>\n<p><em><code>rand(v)</code></em> is a function that returns a suitably random floating-point value between 0 and <em>v</em></p>\n<br/>\n<ul>\n<li><h3>Generate a point\u2014a set of coordinates relative to the sphere's centre</h3>\n<p><strong>dx</strong> = rand(2<strong>R</strong>) - <strong>R</strong><br />\n<strong>dy</strong> = rand(2<strong>R</strong>) - <strong>R</strong><br />\n<strong>dz</strong> = rand(2<strong>R</strong>) - <strong>R</strong></p>\n</li>\n</ul>\n<br/>\n<ul>\n<li><h3>Check whether it's inside the sphere</h3>\n<p><strong>dx<sup>2</sup></strong> + <strong>dy<sup>2</sup></strong> + <strong>dz<sup>2</sup></strong>\n\u00a0\u00a0\n\u2264\n\u00a0\u00a0\n<strong>R<sup>2</sup></strong></p>\n</li>\n</ul>\n<br/>\n<ul>\n<li><h3>Add the absolute coordinates to a list if they're valid</h3>\n<p><em>save</em> [<strong>X<sub>0</sub></strong> + <strong>dx</strong>, <strong>Y<sub>0</sub></strong> + <strong>dy</strong>, <strong>Z<sub>0</sub></strong> + <strong>dz</strong>]</p>\n</li>\n</ul>\n<br/>\n<ul>\n<li><h3>Keep generating points until you have as many as you need</h3>\n</li>\n</ul>\n<br/>\n<p>I hope this helps</p>\n"}], "owner": {"reputation": 1, "user_id": 7520276, "user_type": "registered", "profile_image": "https://graph.facebook.com/10211938826602863/picture?type=large", "display_name": "Harpreet Singh", "link": "https://stackoverflow.com/users/7520276/harpreet-singh"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 71, "favorite_count": 0, "answer_count": 1, "score": -1, "last_activity_date": 1492958546, "creation_date": 1492953739, "question_id": 43571728, "link": "https://stackoverflow.com/questions/43571728/points-in-a-sphere", "title": "Points in a sphere", "body": "<p>Hey all, \n               I am working on a algorithm regarding the surface area. I am using perl as coding language. </p>\n\n<p>I am facing a problem in adding random points in a sphere. Given x, y, z coordinates for points. I want to construct a sphere around those points for a given radius r. My motive is to fill those spheres with random points in oder to occupy that space in 3d.</p>\n\n<p>Kindly guide me through this one. I have no idea how to go about this one. </p>\n"}, {"tags": ["python", "bash", "perl", "shell", "awk"], "answers": [{"comments": [{"owner": {"reputation": 123, "user_id": 4192446, "user_type": "registered", "accept_rate": 67, "profile_image": "https://www.gravatar.com/avatar/55c3618a41fa03c51b55fef9e95c9c27?s=128&d=identicon&r=PG&f=1", "display_name": "Linguist", "link": "https://stackoverflow.com/users/4192446/linguist"}, "edited": false, "score": 0, "creation_date": 1492941098, "post_id": 43569284, "comment_id": 74189103, "body": "Yes. Thanks. This works absolutely fine but I am wondering, if I need to export the output f=(FILENAME &quot;.&quot; FNR &quot;.txt&quot;) in different file location lets say in folder Desktop/tmp, How to go ahead?"}, {"owner": {"reputation": 31251, "user_id": 4162356, "user_type": "registered", "accept_rate": 92, "profile_image": "https://i.stack.imgur.com/dGhuV.png?s=128&g=1", "display_name": "James Brown", "link": "https://stackoverflow.com/users/4162356/james-brown"}, "reply_to_user": {"reputation": 123, "user_id": 4192446, "user_type": "registered", "accept_rate": 67, "profile_image": "https://www.gravatar.com/avatar/55c3618a41fa03c51b55fef9e95c9c27?s=128&d=identicon&r=PG&f=1", "display_name": "Linguist", "link": "https://stackoverflow.com/users/4192446/linguist"}, "edited": false, "score": 1, "creation_date": 1492941440, "post_id": 43569284, "comment_id": 74189201, "body": "<code>f=(&quot;&#47;path&#47;to&#47;&quot; FILENAME &quot;.&quot; FNR &quot;.txt&quot;)</code>"}], "tags": [], "owner": {"reputation": 31251, "user_id": 4162356, "user_type": "registered", "accept_rate": 92, "profile_image": "https://i.stack.imgur.com/dGhuV.png?s=128&g=1", "display_name": "James Brown", "link": "https://stackoverflow.com/users/4162356/james-brown"}, "is_accepted": true, "score": 2, "last_activity_date": 1492938664, "creation_date": 1492938664, "answer_id": 43569284, "question_id": 43569185, "link": "https://stackoverflow.com/questions/43569185/iterating-and-executing-awk-function-over-multiple-input-files-and-producing-dif/43569284#43569284", "title": "Iterating and executing Awk function over multiple input files and producing different output files", "body": "<p>Using awk only:</p>\n\n<pre><code>$ awk -v RS= '{f=(FILENAME \".\" FNR \".txt\"); print &gt; f; close(f)}' test*\n</code></pre>\n"}], "owner": {"reputation": 123, "user_id": 4192446, "user_type": "registered", "accept_rate": 67, "profile_image": "https://www.gravatar.com/avatar/55c3618a41fa03c51b55fef9e95c9c27?s=128&d=identicon&r=PG&f=1", "display_name": "Linguist", "link": "https://stackoverflow.com/users/4192446/linguist"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 67, "favorite_count": 0, "closed_date": 1492973023, "accepted_answer_id": 43569284, "answer_count": 1, "score": 1, "last_activity_date": 1492938664, "creation_date": 1492937940, "last_edit_date": 1495542354, "question_id": 43569185, "link": "https://stackoverflow.com/questions/43569185/iterating-and-executing-awk-function-over-multiple-input-files-and-producing-dif", "closed_reason": "Duplicate", "title": "Iterating and executing Awk function over multiple input files and producing different output files", "body": "<p>I have hundreds of large text files as <strong>test1, test2, test3, ....., test100</strong> in a folder.</p>\n\n<p>Each of these test files has text entries. My job is to read each text file and then split each test$i files on every blank line in each text files and create various new text files.</p>\n\n<p>For example: If test1.txt has 3 blank lines then the number of files generated will be 4 text files with names of each new files as <strong>test1.1,  test1.2, test1.3, test1.4</strong>  { Reference = <a href=\"https://stackoverflow.com/questions/33294986/splitting-large-text-file-on-every-blank-line\">Splitting large text file on every blank line</a>}</p>\n\n<p>I did this for a single file and it perfectly works and I get various files as <strong>test1.1, test1.2, test1.3, test1.4</strong></p>\n\n<pre><code>awk -v RS= '{print &gt; (\"test1.\" NR \".txt\")}' test1\n</code></pre>\n\n<p>But when I tried doing this for multiple files in loop, </p>\n\n<pre><code>for i in {1..100}; do awk -v RS= '{print &gt; (\"test\" $i \".\" NR \".txt\")}' test$i; done\n</code></pre>\n\n<p>It does not work. I am wondering, why the values of $i does not passes into the awk function and it does not print the different empty separated individual files as  <strong>test1.1, test1.2, test1.3...... test2.1, test2.2 ... so on...</strong></p>\n\n<p>One issue, which I am seeing is: \"<em>File name too long</em>\".\nReference Link: <a href=\"https://stackoverflow.com/questions/6571435/limit-on-file-name-length-in-bash\">Limit on file name length in bash</a></p>\n\n<p>Kindly help me to understand and fix it or some better approach for this task.</p>\n"}, {"tags": ["python", "forms", "perl", "post", "intervals"], "comments": [{"owner": {"reputation": 123805, "user_id": 622310, "user_type": "registered", "accept_rate": 33, "profile_image": "https://www.gravatar.com/avatar/8b6d35219e1808520bc238b28161e2e6?s=128&d=identicon&r=PG", "display_name": "Borodin", "link": "https://stackoverflow.com/users/622310/borodin"}, "edited": false, "score": 0, "creation_date": 1492945410, "post_id": 43567597, "comment_id": 74190249, "body": "Why does this question have a Perl tag?"}, {"owner": {"reputation": 123805, "user_id": 622310, "user_type": "registered", "accept_rate": 33, "profile_image": "https://www.gravatar.com/avatar/8b6d35219e1808520bc238b28161e2e6?s=128&d=identicon&r=PG", "display_name": "Borodin", "link": "https://stackoverflow.com/users/622310/borodin"}, "edited": false, "score": 0, "creation_date": 1492945598, "post_id": 43567597, "comment_id": 74190321, "body": "@AbhiNickz: Please don&#39;t remove tags from questions without finding out why they are there."}, {"owner": {"reputation": 21, "user_id": 7904677, "user_type": "registered", "profile_image": "https://lh3.googleusercontent.com/-Jl5kmQObY6w/AAAAAAAAAAI/AAAAAAAAAGo/ce1CbvVEdWY/photo.jpg?sz=128", "display_name": "aConvolutedConscious", "link": "https://stackoverflow.com/users/7904677/aconvolutedconscious"}, "reply_to_user": {"reputation": 123805, "user_id": 622310, "user_type": "registered", "accept_rate": 33, "profile_image": "https://www.gravatar.com/avatar/8b6d35219e1808520bc238b28161e2e6?s=128&d=identicon&r=PG", "display_name": "Borodin", "link": "https://stackoverflow.com/users/622310/borodin"}, "edited": false, "score": 0, "creation_date": 1493028074, "post_id": 43567597, "comment_id": 74219129, "body": "@Borodin Because, among other things, my question regards a Perl script."}, {"owner": {"reputation": 123805, "user_id": 622310, "user_type": "registered", "accept_rate": 33, "profile_image": "https://www.gravatar.com/avatar/8b6d35219e1808520bc238b28161e2e6?s=128&d=identicon&r=PG", "display_name": "Borodin", "link": "https://stackoverflow.com/users/622310/borodin"}, "edited": false, "score": 0, "creation_date": 1493028345, "post_id": 43567597, "comment_id": 74219320, "body": "Okay, but if we don&#39;t even need to see that Perl script, does the tag need to be there? Do you think Perl expertise would help someone to answer your question, or do you think it would help someone searching for help with Perl code? What are the <i>&quot;other things&quot;</i>?"}], "answers": [{"comments": [{"owner": {"reputation": 21, "user_id": 7904677, "user_type": "registered", "profile_image": "https://lh3.googleusercontent.com/-Jl5kmQObY6w/AAAAAAAAAAI/AAAAAAAAAGo/ce1CbvVEdWY/photo.jpg?sz=128", "display_name": "aConvolutedConscious", "link": "https://stackoverflow.com/users/7904677/aconvolutedconscious"}, "edited": false, "score": 0, "creation_date": 1492925444, "post_id": 43567682, "comment_id": 74185715, "body": "Now I get a syntax error for sleep. Just forgot to enclose request.post with ). Thanks for the simple solution!"}, {"owner": {"reputation": 542, "user_id": 2959990, "user_type": "registered", "accept_rate": 100, "profile_image": "https://i.stack.imgur.com/03N6q.jpg?s=128&g=1", "display_name": "Dashadower", "link": "https://stackoverflow.com/users/2959990/dashadower"}, "reply_to_user": {"reputation": 21, "user_id": 7904677, "user_type": "registered", "profile_image": "https://lh3.googleusercontent.com/-Jl5kmQObY6w/AAAAAAAAAAI/AAAAAAAAAGo/ce1CbvVEdWY/photo.jpg?sz=128", "display_name": "aConvolutedConscious", "link": "https://stackoverflow.com/users/7904677/aconvolutedconscious"}, "edited": false, "score": 0, "creation_date": 1492925513, "post_id": 43567682, "comment_id": 74185725, "body": "@aConvolutedConscious Oops, my bad. See my edited post. Sorry!"}], "tags": [], "owner": {"reputation": 542, "user_id": 2959990, "user_type": "registered", "accept_rate": 100, "profile_image": "https://i.stack.imgur.com/03N6q.jpg?s=128&g=1", "display_name": "Dashadower", "link": "https://stackoverflow.com/users/2959990/dashadower"}, "is_accepted": false, "score": 0, "last_activity_date": 1492925497, "last_edit_date": 1492925497, "creation_date": 1492924717, "answer_id": 43567682, "question_id": 43567597, "link": "https://stackoverflow.com/questions/43567597/can-i-use-import-requests-mechanize-to-send-form-data-to-a-perl-script-from-a-te/43567682#43567682", "title": "Can I use import requests/mechanize to send form data to a Perl script from a text file at a set time interval?", "body": "<p>Yes, you can use <code>requests</code></p>\n\n<pre><code>from time import sleep\nimport requests\nwith open('c:\\dictionary.txt', 'r', 0) as f:\n    for line in f:\n        print line.strip()\n        requests.post(\"http://www.ca-zeb.com/zebulun/zebulun2/eliza.pl/1903\",params={\"input\":line})\n        sleep(2)\n</code></pre>\n"}], "owner": {"reputation": 21, "user_id": 7904677, "user_type": "registered", "profile_image": "https://lh3.googleusercontent.com/-Jl5kmQObY6w/AAAAAAAAAAI/AAAAAAAAAGo/ce1CbvVEdWY/photo.jpg?sz=128", "display_name": "aConvolutedConscious", "link": "https://stackoverflow.com/users/7904677/aconvolutedconscious"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 89, "favorite_count": 0, "answer_count": 1, "score": 0, "last_activity_date": 1492925497, "creation_date": 1492923980, "question_id": 43567597, "link": "https://stackoverflow.com/questions/43567597/can-i-use-import-requests-mechanize-to-send-form-data-to-a-perl-script-from-a-te", "title": "Can I use import requests/mechanize to send form data to a Perl script from a text file at a set time interval?", "body": "<p>I am attempting to complete a challenge in which I have to \"social engineer\" a web bot named Eliza. To my knowledge, when I issue the correct phrases to the form (a Perl script), I will be given the \"password\" and be allowed to pass to the next level. (I am sick of entering phrases manually...I've been at it for days!)</p>\n\n<p>What I would like to do is use a dictionary file and post words and/or phrases to the form at a set interval.</p>\n\n<p>The form I use to post my phrases looks like this:</p>\n\n<pre><code>&lt;FORM ACTION=\"http://www.ca-zeb.com/zebulun/zebulun2/eliza.pl/1903\" \nMETHOD=\"POST\" ENCTYPE=\"x-www-form-encoded\" target=\"main_frame\" name=\"MyForm\"&gt; \n&lt;input type=\"text\" NAME=\"input\" size=\"35\" maxlength=\"200\"&gt;\n&lt;INPUT TYPE=\"submit\" VALUE=\"Talk\"&gt;\n&lt;/FORM&gt;\n</code></pre>\n\n<p>Is there a way to use import request or mechanize to post the dictionary file to this form, one line at a time, at a set interval?</p>\n\n<p>I have the following code which will print the contents of a file at an interval of 2 seconds.</p>\n\n<pre><code>from time import sleep\nwith open('c:\\dictionary.txt', 'r', 0) as f:\n    for line in f:\n        print line.strip()\n        sleep(2)\n</code></pre>\n\n<p>Is there a way for me to integrate this code with import request/mechanize to achieve my goal?</p>\n\n<p>I am very very new to Python. Any tips would be appreciated. Thank you for considering my question.</p>\n"}, {"tags": ["arrays", "perl", "input", "stdin"], "answers": [{"comments": [{"owner": {"reputation": 4232, "user_id": 6772373, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/wMTdt.jpg?s=128&g=1", "display_name": "Mike Tung", "link": "https://stackoverflow.com/users/6772373/mike-tung"}, "edited": false, "score": 0, "creation_date": 1492915915, "post_id": 43565968, "comment_id": 74184161, "body": "This method is fine but you&#39;re going to be a bit inefficient if the numbers went up."}, {"owner": {"reputation": 126333, "user_id": 14660, "user_type": "registered", "accept_rate": 62, "profile_image": "https://www.gravatar.com/avatar/e55e0ec3c00f834d78fbdddeaa36e308?s=128&d=identicon&r=PG", "display_name": "Schwern", "link": "https://stackoverflow.com/users/14660/schwern"}, "reply_to_user": {"reputation": 4232, "user_id": 6772373, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/wMTdt.jpg?s=128&g=1", "display_name": "Mike Tung", "link": "https://stackoverflow.com/users/6772373/mike-tung"}, "edited": false, "score": 0, "creation_date": 1492915981, "post_id": 43565968, "comment_id": 74184172, "body": "@MikeTung How do you reckon? Your answer would use a lot more memory making copies and strings if the size gets large. Anyhow, the OP is just starting out; this is just the basics."}, {"owner": {"reputation": 4232, "user_id": 6772373, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/wMTdt.jpg?s=128&g=1", "display_name": "Mike Tung", "link": "https://stackoverflow.com/users/6772373/mike-tung"}, "edited": false, "score": 0, "creation_date": 1492953829, "post_id": 43565968, "comment_id": 74193012, "body": "Turns out both algorithms happen in O(n) but the difference being that in my version it is much more explicit and you don&#39;t have to deal with context or for loops and you can use the say function so it&#39;ll be like print with newline."}], "tags": [], "owner": {"reputation": 126333, "user_id": 14660, "user_type": "registered", "accept_rate": 62, "profile_image": "https://www.gravatar.com/avatar/e55e0ec3c00f834d78fbdddeaa36e308?s=128&d=identicon&r=PG", "display_name": "Schwern", "link": "https://stackoverflow.com/users/14660/schwern"}, "is_accepted": false, "score": 1, "last_activity_date": 1492905821, "creation_date": 1492905821, "answer_id": 43565968, "question_id": 43565895, "link": "https://stackoverflow.com/questions/43565895/multiple-standard-input-in-array-like-format/43565968#43565968", "title": "Multiple standard input in array-like format", "body": "<p><code>my $n1 = &lt;STDIN&gt;;</code> reads one full line at a time. So doing it three times will read three lines.</p>\n\n<p>Instead, you want to read one line and <a href=\"http://perldoc.perl.org/functions/split.html\" rel=\"nofollow noreferrer\">split</a> it up on whitespace into an array of numbers.</p>\n\n<pre><code>my $input = &lt;STDIN&gt;;\nmy @numbers = split /\\s+/, $input;\n</code></pre>\n\n<p><code>/\\s+/</code> is a regular expression to match any number of whitespace characters. See the <a href=\"http://perldoc.perl.org/perlretut.html\" rel=\"nofollow noreferrer\">Perl Regex Tutorial</a> for more.</p>\n\n<p>Then you can work with the list of numbers using <a href=\"http://perldoc.perl.org/perlsyn.html#Foreach-Loops\" rel=\"nofollow noreferrer\">for loops</a>.</p>\n\n<pre><code>print \"Your numbers forward:\\n\";\nfor my $number (@numbers) {\n    print \"$number\\n\";\n}\n\nprint \"Your numbers reversed: \\n\";\nfor my $number (reverse @numbers) {\n    print \"$number\\n\";\n}\n</code></pre>\n"}, {"tags": [], "owner": {"reputation": 4232, "user_id": 6772373, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/wMTdt.jpg?s=128&g=1", "display_name": "Mike Tung", "link": "https://stackoverflow.com/users/6772373/mike-tung"}, "is_accepted": true, "score": 1, "last_activity_date": 1492906524, "creation_date": 1492906524, "answer_id": 43566037, "question_id": 43565895, "link": "https://stackoverflow.com/questions/43565895/multiple-standard-input-in-array-like-format/43566037#43566037", "title": "Multiple standard input in array-like format", "body": "<p>You can use stdin to take the input but you'll want to split according to the space character as delimiter.</p>\n\n<pre><code>#!/usr/bin/perl\nuse warnings;\nuse strict;\nuse feature qw(say);\n\nsay \"Pick 3 numbers\";\nmy $input = &lt;STDIN&gt;;\nmy @numbers = split(/\\s+/, $input);\nmy @reverse_numbers = reverse(@numbers);\n\n\nsay \"Your numbers forward:\";\nsay join(\"\\n\", @numbers);\nsay \"Your numbers backwards:\";\nsay join(\"\\n\", @reverse_numbers);\n</code></pre>\n"}], "owner": {"user_type": "does_not_exist", "display_name": "user7907514"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 168, "favorite_count": 0, "accepted_answer_id": 43566037, "answer_count": 2, "score": 1, "last_activity_date": 1492909702, "creation_date": 1492905033, "last_edit_date": 1492909702, "question_id": 43565895, "link": "https://stackoverflow.com/questions/43565895/multiple-standard-input-in-array-like-format", "title": "Multiple standard input in array-like format", "body": "\n\n<p>I need to get my code to produce the following output, but I can't get it to work.</p>\n\n<h3>Example program output</h3>\n\n<pre class=\"lang-none prettyprint-override\"><code>Please enter your 3 numbers: 12 45 78\nYour numbers forward: \n12 \n45 \n78 \nYour numbers reversed: \n78 \n45 \n12\n</code></pre>\n\n<h3>My Perl code</h3>\n\n<pre class=\"lang-perl prettyprint-override\"><code>#!/usr/bin/perl\n\n#use strict;\nuse warnings;\nuse 5.010;\n\nprint \"Please enter your 3 numbers: \\n\";\nmy $n1 = &lt;STDIN&gt;;\nmy $n2 = &lt;STDIN&gt;;\nmy $n3 = &lt;STDIN&gt;;\n\nprint \"Your numbers forward: \\n\";\nprint $n1;\nprint $n2;\nprint $n3;\n\n#Possible Backup Idea\n# my @names = (n1, n2, n3);\n# foreach my $n (@names) {\n#   say $n;\n# }\n\n#2nd Possible Backup Idea\n# print \"$coins[0]\\n\"; #Prints the first element\n# print \"$coins[-1]\\n\"; #Prints the last element\n# print \"$coins[-2]\"; #Prints 2nd to last element\n\nprint \"Your numbers reversed: \\n\";\nprint $n3;\nprint $n2;\nprint $n1;\n</code></pre>\n\n<p>But when it runs it doesn't take the input all in one line like I\nneed, and it must be input three times to work.</p>\n\n<pre class=\"lang-none prettyprint-override\"><code>Please enter your 3 numbers: \n12\n23\n34\nYour numbers forward: \n12\n23\n34\nYour numbers reversed: \n34\n23\n12\n</code></pre>\n"}, {"tags": ["perl"], "answers": [{"tags": [], "owner": {"reputation": 2287, "user_id": 1641112, "user_type": "registered", "accept_rate": 46, "profile_image": "https://www.gravatar.com/avatar/00bee18fb974a0057fb61a56faf66052?s=128&d=identicon&r=PG", "display_name": "StevieD", "link": "https://stackoverflow.com/users/1641112/stevied"}, "is_accepted": false, "score": 1, "last_activity_date": 1492897345, "creation_date": 1492897345, "answer_id": 43564948, "question_id": 43564443, "link": "https://stackoverflow.com/questions/43564443/netopenssh-failing-to-connect-with-ctr-dir-is-not-secure-error/43564948#43564948", "title": "Net::OpenSSH failing to connect with &quot;ctr_dir is not secure&quot; error", "body": "<p>Setting /home/me directory to 755 fixed the issue.</p>\n"}], "owner": {"reputation": 2287, "user_id": 1641112, "user_type": "registered", "accept_rate": 46, "profile_image": "https://www.gravatar.com/avatar/00bee18fb974a0057fb61a56faf66052?s=128&d=identicon&r=PG", "display_name": "StevieD", "link": "https://stackoverflow.com/users/1641112/stevied"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 614, "favorite_count": 0, "answer_count": 1, "score": 2, "last_activity_date": 1492897345, "creation_date": 1492894123, "question_id": 43564443, "link": "https://stackoverflow.com/questions/43564443/netopenssh-failing-to-connect-with-ctr-dir-is-not-secure-error", "title": "Net::OpenSSH failing to connect with &quot;ctr_dir is not secure&quot; error", "body": "<p>I have a script that used to work suddenly stop working on me. I traced the problem back to a line that connects to a server with <a href=\"http://search.cpan.org/~salva/Net-OpenSSH-0.74/lib/Net/OpenSSH.pm\" rel=\"nofollow noreferrer\"><code>Net::OpenSSH</code></a>. I set up a simple script to test <code>Net::OpenSSH</code>:</p>\n\n<pre><code>use Net::OpenSSH\nmy $ssh = Net::OpenSSH-&gt;new('myhost.com');\nprint $ssh-&gt;error;\n</code></pre>\n\n<p>This throws: <code>ctl_dir /home/me/.libnet-openssh-perl/ is not secure</code> error.</p>\n\n<p>Module documentation says the following:</p>\n\n<pre><code>ctl_dir =&gt; $path\nDirectory where the SSH master control socket will be created.\n\nThis directory and its parents must be writable only by the current effective user or root, otherwise the connection will be aborted to avoid insecure operation.\n\nBy default ~/.libnet-openssh-perl is used.\n</code></pre>\n\n<p>The perms on the directory are 700. The dir is owned by me. The <code>/home</code> dir is owned by root. <code>/home/me</code> is owned by <code>me</code>. The script is owned and executed by <code>me</code>. Changing perms to 500 or 600 on <code>.libnet-openssh-perl</code> does not help. </p>\n\n<p>I removed ~/.libnet-openssh-perl and let script create a new one for me. It did and set perms to 700. But the script still doesn't work. I've tried every other combination of perms and it still does not work.</p>\n\n<p>The script stopped working a couple of months ago so I have no idea what server configuration could have changed that might have broken this.</p>\n"}, {"tags": ["perl"], "comments": [{"owner": {"reputation": 3472, "user_id": 4990392, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/89acc35f0339a9c7e6ae36443a23e2d9?s=128&d=identicon&r=PG&f=1", "display_name": "Dada", "link": "https://stackoverflow.com/users/4990392/dada"}, "edited": false, "score": 5, "creation_date": 1492882784, "post_id": 43562422, "comment_id": 74175716, "body": "To declare multiples variables, <code>my ($a,$b,$c)</code> instead of <code>my $a,$b,$c</code>. This is Perl, not C."}], "answers": [{"tags": [], "owner": {"reputation": 121105, "user_id": 2766176, "user_type": "registered", "accept_rate": 61, "profile_image": "https://www.gravatar.com/avatar/edd8638efe875601bfe394a8aea5b16d?s=128&d=identicon&r=PG", "display_name": "brian d foy", "link": "https://stackoverflow.com/users/2766176/brian-d-foy"}, "is_accepted": false, "score": 3, "last_activity_date": 1493081127, "last_edit_date": 1493081127, "creation_date": 1492896150, "answer_id": 43564764, "question_id": 43562422, "link": "https://stackoverflow.com/questions/43562422/error-message-global-symbol-requires-explicit-package-name-on-multiple-lin/43564764#43564764", "title": "Error message &quot;Global symbol ... requires explicit package name&quot; on multiple lines", "body": "<p>Perl wants you to make a list assignment to declare multiple variables at the same time:</p>\n\n<pre><code> my( $plan1, $plan2, $plan3 ) = ( 24, 48, 60 );\n</code></pre>\n\n<p>Otherwise, you have the comma operator essentially trying to do this, where the <code>my</code> applies to only the first one:</p>\n\n<pre><code> (my $plan1 = 24), ($plan2 = 48), ($plan3 = 60);\n</code></pre>\n\n<p>But, you might want something a bit easier to manage. You can create code that doesn't change with the number of plans that you have:</p>\n\n<pre><code> my @payment_plans = ( undef, 24, 48, 60 );\n my $payment_plan_input = param( 'paymentplan' );\n my $fee;\n if( 1 &lt;= $payment_plan_input and $payment_plan_input &lt;= $#payment_plans ) {\n      $fee = $payment_plans[ $payment_plan_input ];\n      }\n</code></pre>\n\n<p>Or, a hash, which allows you to map the names you present to the customer to the fees:</p>\n\n<pre><code> my %payment_plan_fees = (\n      basic  =&gt; 24,\n      medium =&gt; 48,\n      deluxe =&gt; 60,\n      );\n\n my $payment_plan_input = param( 'paymentplan' );\n die \"Bad input!\" unless exists $payment_plan_fees{$payment_plan_input};\n my $fee = $payment_plan_fees{ $payment_plan_input };\n</code></pre>\n"}], "owner": {"user_type": "does_not_exist", "display_name": "user7880564"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 302, "favorite_count": 0, "answer_count": 1, "score": 1, "last_activity_date": 1493081127, "creation_date": 1492882693, "last_edit_date": 1492888349, "question_id": 43562422, "link": "https://stackoverflow.com/questions/43562422/error-message-global-symbol-requires-explicit-package-name-on-multiple-lin", "title": "Error message &quot;Global symbol ... requires explicit package name&quot; on multiple lines", "body": "<p>I'm having trouble with this code. For some odd reason it generates error messages like</p>\n\n<blockquote>\n  <p>Global symbol \"$plan3\" requires explicit package name</p>\n</blockquote>\n\n<p>on multiple lines for multiple variables.</p>\n\n<pre><code>#!/usr/bin/perl\n\nprint \"Content-type: text/html\\n\\n\";\n\nuse CGI qw(:standard);\nuse CGI::Carp qw(warningsToBrowser fatalsToBrowser);\n\nuse strict;\n\nmy $recipient = 'email@myemail.com';\n\nmy $firstname, $lastname, $emailaddress, $paymentplan, $pricipalamount;\nmy $errors, $fn1, $lnl2, $ea3, $pp4, $pa5;\nmy $paymentamount;\nmy $email;\n\nmy $plan1 = 24, $plan2 = 48, $plan3 = 60;\nmy $month;\n\n$firstname    = param( \"firstname\" );\n$lastname     = param( \"lastname\" );\n$emailaddress = param( \"emailaddress\" );\n$paymentplan  = param( \"paymentplan\" );\n\n$month           = param( \"paymentplan\" );\n$principalamount = param( \"principalamount\" );\n$errors          = 0;\n$fn              = 0;\n$ln              = 0;\n$ea              = 0;\n$pp              = 0;\n$pa              = 0;\n\nif ( $paymentplan == 1 ) {\n    $paymentplan = $plan1;\n}\n\nif ( $paymentplan == 2 ) {\n    $paymentplan = $plan2;\n}\n\nif ( $paymentplan == 3 ) {\n    $paymentplan = $plan3;\n}\n\n$paymount = ( $amount * 1.14 ) / ( $plan - 2 );\n\n$email = \"Welcome to the CSIT Loan Company, $firstname $lastname! \\n\\n  Your \nemail address is: $emailaddress \\n  Your payment plan number is #$month \\n  \nYour Prinicpal Amount is \\$  $principalamount \\n  And your total is \n\\$$paymentamount! \\n\\n  Thank you very much!\";\n\nif ( index( $address, \"@\" ) == -1 ) {\n    print \"Please use an @ sign!\";\n    $errors = 1;\n}\n\nif ( $firstname eq \"\" ) {\n    $fn     = 1;\n    $errors = 1;\n}\n\nif ( $lastname eq \"\" ) {\n    $ln     = 1;\n    $errors = 1;\n}\n\nif ( $emailaddress eq \"\" ) {\n    $ea     = 1;\n    $errors = 1;\n}\n\nif ( $paymemtplan ne \"24\" &amp;&amp; $paymentplan ne \"48\" &amp;&amp; $paymentplan ne \"60\" ) {\n    $pp     = 1;\n    $errors = 1;\n}\n\nif ( $principalamount &lt; \"5000\" || $principalamount &gt; \"50000\" ) {\n    $pa     = 1;\n    $errors = 1;\n}\n\nif ( $errors == 0 ) {\n\n    print MAIL \"To: $recipient\\n\";\n    print MAIL \"From:apmycs2\\n\";\n    print MAIL \"Subject:Server Validation\\n\\n\";\n\n    print MAIL $email;\n\n    close( MAIL );\n    print \"Success! this is an email to notify of successful validation\";\n}\nelse {\n\n    if ( $fn == 1 ) {\n        print \"&lt;br&gt;Please Enter your First Name!&lt;br&gt;\";\n    }\n\n    if ( $ln == 1 ) {\n        print \"&lt;br&gt;Please Enter your Last Name!&lt;br&gt;\";\n    }\n\n    if ( $ea == 1 ) {\n        print \"&lt;br&gt;Please Enter a valid Email Address!&lt;br&gt;\";\n    }\n\n    if ( $pp == 1 ) {\n        print \"&lt;br&gt;Please Enter a Payment Plan of 1, 2, or 3!&lt;br&gt;\";\n    }\n\n    if ( $pa == 1 ) {\n        print \"&lt;br&gt;Please Enter a Principal Amount between 5000 and 50000!&lt;br&gt;\";\n    }\n}\n\nprint \"&lt;br&gt;&lt;p&gt;Thank you!&lt;p&gt;\";\n</code></pre>\n"}, {"tags": ["perl"], "answers": [{"comments": [{"owner": {"reputation": 2992, "user_id": 869025, "user_type": "registered", "accept_rate": 86, "profile_image": "https://www.gravatar.com/avatar/870db1cfd53a1dfbe9467082bb9777b1?s=128&d=identicon&r=PG", "display_name": "cajwine", "link": "https://stackoverflow.com/users/869025/cajwine"}, "edited": false, "score": 0, "creation_date": 1492886439, "post_id": 43563083, "comment_id": 74177077, "body": "Ah so. Then it is pointless to trying calculate the digest for the whole directory trees with multiple nested directories, because i will need calculate the digest for each file again and again for each directory &quot;above&quot;... ah... :( need figure out some other &quot;logic&quot; for the <a href=\"http://stackoverflow.com/q/43560796/869025\">duplicate directory trees</a> problem&quot; . Thank you."}, {"owner": {"reputation": 123805, "user_id": 622310, "user_type": "registered", "accept_rate": 33, "profile_image": "https://www.gravatar.com/avatar/8b6d35219e1808520bc238b28161e2e6?s=128&d=identicon&r=PG", "display_name": "Borodin", "link": "https://stackoverflow.com/users/622310/borodin"}, "reply_to_user": {"reputation": 2992, "user_id": 869025, "user_type": "registered", "accept_rate": 86, "profile_image": "https://www.gravatar.com/avatar/870db1cfd53a1dfbe9467082bb9777b1?s=128&d=identicon&r=PG", "display_name": "cajwine", "link": "https://stackoverflow.com/users/869025/cajwine"}, "edited": false, "score": 0, "creation_date": 1492888680, "post_id": 43563083, "comment_id": 74177972, "body": "@cajwine: There&#39;s no need for that. Just keep a digest alive for each file and every one of its ancestor directories in the tree. The data in any file must be added to the digest of each ancestor directory. It&#39;s pretty much the same as working out the size of every directory in a tree, except that you can&#39;t just add the values for the children together at the end."}], "tags": [], "owner": {"reputation": 123805, "user_id": 622310, "user_type": "registered", "accept_rate": 33, "profile_image": "https://www.gravatar.com/avatar/8b6d35219e1808520bc238b28161e2e6?s=128&d=identicon&r=PG", "display_name": "Borodin", "link": "https://stackoverflow.com/users/622310/borodin"}, "is_accepted": true, "score": 2, "last_activity_date": 1492887311, "last_edit_date": 1492887311, "creation_date": 1492885999, "answer_id": 43563083, "question_id": 43562195, "link": "https://stackoverflow.com/questions/43562195/reuse-calculated-md5-or-any-other-checksum/43563083#43563083", "title": "Reuse calculated md5 (or any other checksum)", "body": "<p>No. There is nothing that relates <code>MD5(initial data)</code> and <code>MD5(new data)</code> to <code>MD5(initial data + new data)</code> because the <em>position</em> of the data in the stream matters as well as its <em>value</em>. Otherwise it wouldn't be a very useful error check as <code>aba</code>, <code>aab</code> and <code>baa</code> would all have the same checksum</p>\n\n<p>If the files are small enough you could do read each one into memory and use that copy to add the data to both digests. That would avoid reading twice from mass storage</p>\n\n<pre><code>#!/usr/bin/env perl\n\nuse 5.014;\nuse warnings 'all';\n\nuse Digest::MD5;\nuse Path::Tiny;\n\n# create some test-files in the tempdir\nmy @filenames = qw(a b);\nmy $testdir   = Path::Tiny-&gt;tempdir;\n$testdir-&gt;child($_)-&gt;spew($_) for @filenames; # create 2 files\n\ndirmd5($testdir, @filenames);\n\nsub dirmd5 {\n    my ($dir, @files) = @_;\n\n    my $dir_ctx = Digest::MD5-&gt;new;  #the md5 for the whole directory\n\n    for my $fname ( @files ) {\n\n        my $data = $dir-&gt;child($fname)-&gt;slurp_raw;\n\n        # calculate the md5 for one file\n        my $file_md5 = Digest::MD5-&gt;new-&gt;add($data)-&gt;hexdigest;\n        say \"md5 for $fname  : $file_md5\";\n\n        $dir_ctx-&gt;add($data);\n    }\n\n    my $dir_md5 = $dir_ctx-&gt;hexdigest;\n    say \"md5 for dir: $dir_md5\";\n}\n</code></pre>\n\n<p>If the files are huge then the only optimisation left is to avoid reopening the same file and instead rewind it back to the start before reading it a second time</p>\n\n<pre><code>#!/usr/bin/env perl\n\nuse 5.014;\nuse warnings 'all';\n\nuse Digest::MD5;\nuse Path::Tiny;\nuse Fcntl ':seek';\n\n# create some test-files in the tempdir\nmy @filenames = qw(a b);\nmy $testdir   = Path::Tiny-&gt;tempdir;\n$testdir-&gt;child($_)-&gt;spew($_) for @filenames; # create 2 files\n\ndirmd5($testdir, @filenames);\n\nsub dirmd5 {\n    my ($dir, @files) = @_;\n\n    my $dir_ctx = Digest::MD5-&gt;new;  # The digest for the whole directory\n\n    for my $fname ( @files ) {\n\n        my $fh = $dir-&gt;child($fname)-&gt;openr_raw;\n\n        # The digest for just the current file\n        my $file_md5 = Digest::MD5-&gt;new-&gt;addfile($fh)-&gt;hexdigest;\n        say \"md5 for $fname  : $file_md5\";\n\n        seek $fh, 0, SEEK_SET;\n        $dir_ctx-&gt;addfile($fh);\n    }\n\n    my $dir_md5 = $dir_ctx-&gt;hexdigest;\n    say \"md5 for dir: $dir_md5\";\n}\n</code></pre>\n"}], "owner": {"reputation": 2992, "user_id": 869025, "user_type": "registered", "accept_rate": 86, "profile_image": "https://www.gravatar.com/avatar/870db1cfd53a1dfbe9467082bb9777b1?s=128&d=identicon&r=PG", "display_name": "cajwine", "link": "https://stackoverflow.com/users/869025/cajwine"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 62, "favorite_count": 0, "accepted_answer_id": 43563083, "answer_count": 1, "score": 2, "last_activity_date": 1492887311, "creation_date": 1492881385, "last_edit_date": 1495535469, "question_id": 43562195, "link": "https://stackoverflow.com/questions/43562195/reuse-calculated-md5-or-any-other-checksum", "title": "Reuse calculated md5 (or any other checksum)", "body": "<p>Trying to compute incremental <code>md5</code> digest for all files in deep directory trees, but I'm unable to \"reuse\" the already calculated digest.</p>\n\n<p>Here is my test-code:</p>\n\n<pre class=\"lang-perl prettyprint-override\"><code>#!/usr/bin/env perl\nuse 5.014;\nuse warnings;\nuse Digest::MD5;\nuse Path::Tiny;\n\n# create some test-files in the tempdir\nmy @filenames = qw(a b);\nmy $testdir = Path::Tiny-&gt;tempdir;\n$testdir-&gt;child($_)-&gt;spew($_) for @filenames; #create 2 files\n\ndirmd5($testdir, @filenames);\nexit;\n\nsub dirmd5 {\n    my($dir, @files) = @_;\n\n    my $dirctx = Digest::MD5-&gt;new;  #the md5 for the whole directory\n\n    for my $fname (@files) {\n\n        # calculate the md5 for one file\n        my $filectx = Digest::MD5-&gt;new;\n        my $fd = $dir-&gt;child($fname)-&gt;openr_raw;\n        $filectx-&gt;addfile($fd);\n        close $fd;\n        say \"md5 for $fname  : \", $filectx-&gt;clone-&gt;hexdigest;\n\n        # want somewhat \"add\" the above file-md5 to the directory md5    \n        # this not work - even if the $filectx isn't reseted (note the \"clone\" above)\n        #$dirctx-&gt;add($filectx);\n\n        # works adding the file as bellow,\n        # but this calculating the md5 again\n        # e.g. for each file the calculation is done two times...\n        # once for the file-alone (above)\n        # and second time for the directory\n        # too bad if case of many and large files. ;(\n        # especially, if i want calculate the md5sum for the whole directory trees\n        $fd = $dir-&gt;child($fname)-&gt;openr_raw;\n        $dirctx-&gt;addfile($fd);\n        close $fd;\n    }\n    say \"md5 for dir: \", $dirctx-&gt;hexdigest;\n}\n</code></pre>\n\n<p>The above prints:</p>\n\n<pre><code>md5 for a  : 0cc175b9c0f1b6a831c399e269772661\nmd5 for b  : 92eb5ffee6ae2fec3ad71c777531578f\nmd5 for dir: 187ef4436122d1cc2f40dc2b92f0eba0\n</code></pre>\n\n<p>which is correct, but unfortunately inefficient way. (see the comments).</p>\n\n<p>Reading <a href=\"https://metacpan.org/pod/Digest::MD5\" rel=\"nofollow noreferrer\">the docs</a>, I didn't find any way reuse the already calculated md5. e.g. as the above <code>$dirctx-&gt;add($filectx);</code>. Probably it is not possible.</p>\n\n<p>Exists any way for check-summing which allows somewhat reuse the already calculated checksums, so, I would be able calculate the checksums/digests for the whole directory trees without the need calculate the digest multiple times for each file?</p>\n\n<p>Ref: trying somewhat solve <a href=\"https://stackoverflow.com/questions/43560796/how-to-find-duplicate-directories\">this question</a></p>\n"}, {"tags": ["bash", "perl"], "comments": [{"owner": {"reputation": 4251, "user_id": 4605105, "user_type": "registered", "accept_rate": 67, "profile_image": "https://lh4.googleusercontent.com/-_cFfGx1khYs/AAAAAAAAAAI/AAAAAAAAGt0/vfQ_28nwAEE/photo.jpg?sz=128", "display_name": "&#212;rel", "link": "https://stackoverflow.com/users/4605105/%c3%94rel"}, "edited": false, "score": 0, "creation_date": 1492874316, "post_id": 43560796, "comment_id": 74172759, "body": "Do you need to find directories matching one known directory, or you want to list directories when 2 or more are identical (according to your need to match only file) ?"}, {"owner": {"reputation": 4251, "user_id": 4605105, "user_type": "registered", "accept_rate": 67, "profile_image": "https://lh4.googleusercontent.com/-_cFfGx1khYs/AAAAAAAAAAI/AAAAAAAAGt0/vfQ_28nwAEE/photo.jpg?sz=128", "display_name": "&#212;rel", "link": "https://stackoverflow.com/users/4605105/%c3%94rel"}, "edited": false, "score": 1, "creation_date": 1492874431, "post_id": 43560796, "comment_id": 74172799, "body": "You can sort filenames and build string concatenating filenames. Once string match then compare content using <code>diff</code>"}, {"owner": {"reputation": 4251, "user_id": 4605105, "user_type": "registered", "accept_rate": 67, "profile_image": "https://lh4.googleusercontent.com/-_cFfGx1khYs/AAAAAAAAAAI/AAAAAAAAGt0/vfQ_28nwAEE/photo.jpg?sz=128", "display_name": "&#212;rel", "link": "https://stackoverflow.com/users/4605105/%c3%94rel"}, "edited": false, "score": 1, "creation_date": 1492874636, "post_id": 43560796, "comment_id": 74172871, "body": "Take a look here <a href=\"https://superuser.com/questions/909731/how-to-replace-all-duplicate-files-with-hard-links\" title=\"how to replace all duplicate files with hard links\">superuser.com/questions/909731/&hellip;</a>"}, {"owner": {"reputation": 33642, "user_id": 620097, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/820980fd43f2607a815c1f3dbfe152cc?s=128&d=identicon&r=PG", "display_name": "shellter", "link": "https://stackoverflow.com/users/620097/shellter"}, "edited": false, "score": 1, "creation_date": 1492874990, "post_id": 43560796, "comment_id": 74173010, "body": "more specifically, <a href=\"https://superuser.com/a/969355/68164\">superuser.com/a/969355/68164</a> . Using an existing tool for a complex problem like this makes sense, but you might do well to set up a small complex test and make sure you get the results you need. Good luck."}, {"owner": {"reputation": 2992, "user_id": 869025, "user_type": "registered", "accept_rate": 86, "profile_image": "https://www.gravatar.com/avatar/870db1cfd53a1dfbe9467082bb9777b1?s=128&d=identicon&r=PG", "display_name": "cajwine", "link": "https://stackoverflow.com/users/869025/cajwine"}, "edited": false, "score": 0, "creation_date": 1492875115, "post_id": 43560796, "comment_id": 74173064, "body": "Unfortunately, all above tools (if I got the answer right) finds the duplicate <b>files</b> and not duplicate <b>directories</b>. But, going to read more deeply. ;)"}, {"owner": {"reputation": 2992, "user_id": 869025, "user_type": "registered", "accept_rate": 86, "profile_image": "https://www.gravatar.com/avatar/870db1cfd53a1dfbe9467082bb9777b1?s=128&d=identicon&r=PG", "display_name": "cajwine", "link": "https://stackoverflow.com/users/869025/cajwine"}, "edited": false, "score": 2, "creation_date": 1492876063, "post_id": 43560796, "comment_id": 74173432, "body": "Wondering about the close-vote. According to the <a href=\"https://stackoverflow.com/help\">help center</a> questions about: <i>a specific programming problem</i> or <i>a software algorithm</i> are allowed here. This question is about the algorithm. So, would be nice to know, why the close-vote."}, {"owner": {"reputation": 33642, "user_id": 620097, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/820980fd43f2607a815c1f3dbfe152cc?s=128&d=identicon&r=PG", "display_name": "shellter", "link": "https://stackoverflow.com/users/620097/shellter"}, "edited": false, "score": 0, "creation_date": 1492884311, "post_id": 43560796, "comment_id": 74176286, "body": "Rather than actually delete the files, you could use <code>printf &quot;&#47;bin&#47;rm $deleteCandidate\\n&quot;</code> to generate a list of candidates to delete. If the results are very close to what you need, you can save output as a file, manually delete the <code>rm</code> records for files you want to keep, then run <code>sh &lt; rmList.txt</code>. (just an idea, not easy to reliably do what you want, but if you can reduce the unneeded dupes by 2/3s then that is a big win). Good luck."}, {"owner": {"reputation": 2992, "user_id": 869025, "user_type": "registered", "accept_rate": 86, "profile_image": "https://www.gravatar.com/avatar/870db1cfd53a1dfbe9467082bb9777b1?s=128&d=identicon&r=PG", "display_name": "cajwine", "link": "https://stackoverflow.com/users/869025/cajwine"}, "reply_to_user": {"reputation": 33642, "user_id": 620097, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/820980fd43f2607a815c1f3dbfe152cc?s=128&d=identicon&r=PG", "display_name": "shellter", "link": "https://stackoverflow.com/users/620097/shellter"}, "edited": false, "score": 0, "creation_date": 1492884878, "post_id": 43560796, "comment_id": 74176505, "body": "@shellter of course, i will be happy if i could <b>identify</b> 2/3 of duplicate directories. Unfortunately, currently i know only how to identify duplicate files - and not the whole directories. (having problem calculate the recursive the digest for thousands files in thousands of dirs). So, nice idea - but first I need <b>find</b> the duplicate <b>folders</b> first. :) Thanks anyway for the comment."}, {"owner": {"reputation": 33642, "user_id": 620097, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/820980fd43f2607a815c1f3dbfe152cc?s=128&d=identicon&r=PG", "display_name": "shellter", "link": "https://stackoverflow.com/users/620097/shellter"}, "edited": false, "score": 0, "creation_date": 1492888534, "post_id": 43560796, "comment_id": 74177924, "body": "Based on file membership, I can see how <code>testdir&#47;d2&#47;d1some&#47;d12copy&#47;</code> is a duplicate of <code>testdir&#47;d1&#47;d12&#47;</code>, but I don&#39;t see that <code>testdir&#47;d1</code> , <code>testdir&#47;d2&#47;d1some</code> are duplicates. Can you explain, or improve your sample expected output? (I&#39;m heading out for some family stuff soon, so won&#39;t be able to help until later). Good luck."}, {"owner": {"reputation": 33642, "user_id": 620097, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/820980fd43f2607a815c1f3dbfe152cc?s=128&d=identicon&r=PG", "display_name": "shellter", "link": "https://stackoverflow.com/users/620097/shellter"}, "edited": false, "score": 0, "creation_date": 1492888716, "post_id": 43560796, "comment_id": 74177984, "body": "Also, I&#39;m guessing that down vote appeared before your edits. I think some people have greasemonkey filters that eliminate downvoted Qs, so when they reread, they&#39;re not looking at the same &quot;bad&quot; problem again. (this doesn&#39;t apply to you, but given the tidal wave of bad Qs here, after a while I understand if long-term readers want to improve what they read). Good luck!"}, {"owner": {"reputation": 2992, "user_id": 869025, "user_type": "registered", "accept_rate": 86, "profile_image": "https://www.gravatar.com/avatar/870db1cfd53a1dfbe9467082bb9777b1?s=128&d=identicon&r=PG", "display_name": "cajwine", "link": "https://stackoverflow.com/users/869025/cajwine"}, "reply_to_user": {"reputation": 33642, "user_id": 620097, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/820980fd43f2607a815c1f3dbfe152cc?s=128&d=identicon&r=PG", "display_name": "shellter", "link": "https://stackoverflow.com/users/620097/shellter"}, "edited": false, "score": 0, "creation_date": 1492896054, "post_id": 43560796, "comment_id": 74180250, "body": "@shellter As I already said: <i>because in both (sub)trees are only two identical files <code>a</code> and <code>b</code>.</i> e.g. if you find all files in the <code>testdir&#47;d1</code> you find <i>only</i> two files: <code>a</code> and <code>b</code>. Also, if you will find all files <code>testdir&#47;d2&#47;d1some</code> you will find that here are <i>only</i> the <i>same</i> two files (although if in the different tree structure). So, same two files (and no other files) in two trees - e.g. the trees should be taken as identical. (Also, when me saying identical files I mean identical by their content, not by their name). It not as simple as &quot;check this answer&quot;, like in the comments :D"}, {"owner": {"reputation": 33642, "user_id": 620097, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/820980fd43f2607a815c1f3dbfe152cc?s=128&d=identicon&r=PG", "display_name": "shellter", "link": "https://stackoverflow.com/users/620097/shellter"}, "edited": false, "score": 0, "creation_date": 1492917327, "post_id": 43560796, "comment_id": 74184359, "body": "Yes, I had hoped I was clear that I was beyond &quot;&quot;check this answer&quot;, as I understand your problem better, but I don&#39;t your sample data supports your expected output. How can you expect a system to recognize <code>testdir&#47;d2&#47;d1some&#47;</code> as the correct answer when the duplicates are in a differently named subdir, i.e. <code>testdir&#47;d2&#47;d1some&#47;d12**copy**</code>. This is why I think ` testdir/d2/d1some/d12copy/ is a duplicate of testdir/d1/d12/` . .. ."}, {"owner": {"reputation": 33642, "user_id": 620097, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/820980fd43f2607a815c1f3dbfe152cc?s=128&d=identicon&r=PG", "display_name": "shellter", "link": "https://stackoverflow.com/users/620097/shellter"}, "edited": false, "score": 0, "creation_date": 1492917396, "post_id": 43560796, "comment_id": 74184370, "body": "In any case, you&#39;ll can create an associative arr like `files[&quot;testdir/d2/d1some/d12copy/&quot;]=&quot;a&quot;,&quot;b&quot; and then you can loop thru testing each dir set and print just the key when you find a match. Time for bed. Will hope that you get some help overnight, or that I can spare some more time on this. Good luck."}], "answers": [{"comments": [{"owner": {"reputation": 52821, "user_id": 632407, "user_type": "registered", "accept_rate": 86, "profile_image": "https://i.stack.imgur.com/AfGWW.jpg?s=128&g=1", "display_name": "jm666", "link": "https://stackoverflow.com/users/632407/jm666"}, "edited": false, "score": 0, "creation_date": 1492964932, "post_id": 43568144, "comment_id": 74197201, "body": "He said ( deeply hidden in comments :( ): <i>(Also, when me saying identical files I mean identical by their content, not by their name)</i>. So, compare by names aren&#39;t enough..."}, {"owner": {"reputation": 53041, "user_id": 4653379, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/b3953dbedd0dabff5cbc3db9b0835b14?s=128&d=identicon&r=PG&f=1", "display_name": "zdim", "link": "https://stackoverflow.com/users/4653379/zdim"}, "reply_to_user": {"reputation": 52821, "user_id": 632407, "user_type": "registered", "accept_rate": 86, "profile_image": "https://i.stack.imgur.com/AfGWW.jpg?s=128&g=1", "display_name": "jm666", "link": "https://stackoverflow.com/users/632407/jm666"}, "edited": false, "score": 0, "creation_date": 1492996365, "post_id": 43568144, "comment_id": 74206483, "body": "@jm666 Right, I saw that (slightly different than in your quote).  I take it that it means that equal names do indicate equal files.  But this approach does fully rely on equal files having equal names, as you say.  I added a note on that."}, {"owner": {"reputation": 53041, "user_id": 4653379, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/b3953dbedd0dabff5cbc3db9b0835b14?s=128&d=identicon&r=PG&f=1", "display_name": "zdim", "link": "https://stackoverflow.com/users/4653379/zdim"}, "reply_to_user": {"reputation": 52821, "user_id": 632407, "user_type": "registered", "accept_rate": 86, "profile_image": "https://i.stack.imgur.com/AfGWW.jpg?s=128&g=1", "display_name": "jm666", "link": "https://stackoverflow.com/users/632407/jm666"}, "edited": false, "score": 0, "creation_date": 1492996478, "post_id": 43568144, "comment_id": 74206508, "body": "@cajwine  I don&#39;t know how suitable this approach is for you, but just to let you know -- I added another section to cover a case that was missing."}], "tags": [], "owner": {"reputation": 53041, "user_id": 4653379, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/b3953dbedd0dabff5cbc3db9b0835b14?s=128&d=identicon&r=PG&f=1", "display_name": "zdim", "link": "https://stackoverflow.com/users/4653379/zdim"}, "is_accepted": false, "score": 3, "last_activity_date": 1493180732, "last_edit_date": 1495535480, "creation_date": 1492929467, "answer_id": 43568144, "question_id": 43560796, "link": "https://stackoverflow.com/questions/43560796/how-to-find-duplicate-directories/43568144#43568144", "title": "How to find duplicate directories", "body": "<p>A traversal can identify directories which are duplicates in the sense you describe. I take it that this is: if all files in a directory are equal to all files of another then their paths are duplicates.</p>\n\n<p>Find all files in each directory and form a string with their names. You can concatenate the names with a comma, say (or some other sequence that is certainly not in any names). This is to be compared. Prepend the path to this string, so to identify directories.</p>\n\n<p>Comparison can be done for instance by populating a hash with keys being strings with filenames and path their values. Once you find that a key already exists you can check the content of files, and add the path to the list of duplicates. </p>\n\n<p>The strings with path don't have to be actually formed, as you can build the hash and dupes list during the traversal.  Having the full list first allows for other kinds of accounting, if desired.</p>\n\n<p>This is altogether very little code to write.</p>\n\n<p>An example. Let's say that you have</p>\n\n<pre>\ndir1/subdir1/{a,b}  # duplicates (files 'a' and 'b' are considered equal)\ndir2/subdir2/{a,b}\n</pre>\n\n<p>and</p>\n\n<pre>\nproj1/subproj1/{a,b,X}  # NOT duplicates, since there are different files\nproj2/subproj2/{a,b,Y}\n</pre>\n\n<p>The above prescription would give you strings</p>\n\n<pre><code>'dir1/subdir1/a,b',\n'dir2/subdir2/a,b',\n'proj1/subproj1/a,b,X',\n'proj2/subproj2/a,b,Y';\n</code></pre>\n\n<p>where the (sub)string <code>'a,b'</code> identifies <code>dir1/subdir1</code> and <code>dir2/subdir2</code> as duplicates.</p>\n\n<p>I don't see how you can avoid a traversal to build a system that accounts for all files.</p>\n\n<hr>\n\n<p>The procedure above is the first step, not handling directories with files <em>and</em> subdirectories.</p>\n\n<p>Consider</p>\n\n<pre>\n   dirA/          dirB/\na b sdA/       a X sdB/\n    c d            c d\n</pre>\n\n<p>Here the paths <code>dirA/sdA/</code> and <code>dirB/sdB/</code> are duplicates by the problem description but the whole <code>dirA/</code> and <code>dirB/</code> are distinct. This isn't shown in the question but I'd expect it to be of interest.</p>\n\n<p>The procedure from the first part can be modified for this. Iterate through directories, forming a path component at every step. Get all files in each, and all subdirectories (if none we are done). Append the comma-separated file list to the path component (<code>/sdA/</code>). So the representation of the above is</p>\n\n<pre><code>'dirA/sdA,a,b/c,d',  'dirB/sdB,a,X/c,d'\n</code></pre>\n\n<p>For each file-list substring (<code>c,d</code>) found to already exist we can check its path against the existing one, component by component. Now a hash with keys like <code>c,d</code> won't do since this example has the same file-list for distinct hierarchies, but a modified (or other) data structure is needed.</p>\n\n<hr>\n\n<p>Finally, there may be  more subdirectories parallel to <code>sdA</code> (say <code>sdA2</code>). We care only for its own path, but except for the parallel files (<code>a,b</code>, in that component of the path <code>dirA/sdaA2,a,b/</code>). So keep in mind all bottom-level file-lists (<code>c,d</code>) with their paths and, if file-lists are equal and paths are of same length, check whether their paths have <code>a,b</code> file-lists equal in each path component.</p>\n\n<p>I don't know whether this is a workable solution for you, but I'd expect \"near-duplicates\" to be rare -- the backup is either a duplicate or not. So there may not be much need to handle futher edge-cases in complex sprawling hierarchies.  This procedure should be at least a useful pre-selection mechanism, that would greatly reduce the need for further work.</p>\n\n<p>This assumes that equal file-names very likely indicate equal files. A part of that is my expectation that if a file was even just renamed it still cannot be considered a duplicate. If this is not so this approach won't work and one would need something along the lines of the <a href=\"https://stackoverflow.com/a/43573478/4653379\">answer by jm666</a>.</p>\n"}, {"tags": [], "owner": {"reputation": 52821, "user_id": 632407, "user_type": "registered", "accept_rate": 86, "profile_image": "https://i.stack.imgur.com/AfGWW.jpg?s=128&g=1", "display_name": "jm666", "link": "https://stackoverflow.com/users/632407/jm666"}, "is_accepted": false, "score": 4, "last_activity_date": 1492966738, "last_edit_date": 1495542352, "creation_date": 1492963743, "answer_id": 43573478, "question_id": 43560796, "link": "https://stackoverflow.com/questions/43560796/how-to-find-duplicate-directories/43573478#43573478", "title": "How to find duplicate directories", "body": "<p>Some key points:</p>\n\n<ul>\n<li>If I understand right (from your comment, where you said: <em>\"(Also, when me saying identical files I mean identical by their content, not by their name)\"</em> , you want find duplicate directories, e.g. where their content is exactly the same as in some other directory, <strong>regardless of the file-names</strong>.</li>\n<li>for this you must calculate some checksum or digest for the files. Identical digest = identical file. (with great probability). :) As you already said, the <code>md5deep -Zr -of /top/dir</code> is a good starting point.</li>\n<li>I added the <code>-of</code>, because for such job you don't want calculate the contents of the symlinks-targets, or other special files like fifo - just plain files.</li>\n<li>calculating the <code>md5</code> for each file in 2.5TB tree, sure will take few hours of work, unless you have very fast machine. The <code>md5deep</code> runs a thread for each cpu-core. So, while it runs, you can make some scripts.</li>\n<li>Also, consider run the <code>md5deep</code> as <code>sudo</code>, because it could be frustrating if after a long run-time you will get some error-messages about unreadable files, only because you forgot to change the files-ownerships...(Just a note) :) :)</li>\n</ul>\n\n<p>For the \"how to\":</p>\n\n<ul>\n<li>For comparing \"directories\" you need calculate some \"directory-digest\", for easy compare and finding duplicates.</li>\n<li>The one most important thing is realize the following key points:\n\n<ul>\n<li>you could exclude directories, where are files with unique digests. If the file is unique, e.g. has not any duplicates, that's mean that is pointless checking it's directory. Unique file in some directory means, that the directory is unique too. So, the script should ignore every directory where are files with unique <code>MD5</code> digests (from the <code>md5deep</code>'s output.)</li>\n<li>You don't need calculate the \"directory-digest\" from the files itself. (as you trying it in <a href=\"https://stackoverflow.com/q/43562195/632407\">your followup question</a>). It is enough to calculate the \"directory digest\" using the already calculated md5 for the files, <em>just must ensure</em> that you sort them first!</li>\n</ul></li>\n</ul>\n\n<p>e.g. for example if your directory <code>/path/to/some</code> containing only two files <code>a</code> and <code>b</code> and</p>\n\n<pre><code>if file \"a\" has md5 : 0cc175b9c0f1b6a831c399e269772661\nand file \"b\" has md5: 92eb5ffee6ae2fec3ad71c777531578f\n</code></pre>\n\n<p>you can calculate the \"directory-digest\" from the above file-digests, e.g. using the <code>Digest::MD5</code> you could do:</p>\n\n<pre><code>perl -MDigest::MD5=md5_hex -E 'say md5_hex(sort qw( 92eb5ffee6ae2fec3ad71c777531578f 0cc175b9c0f1b6a831c399e269772661))'\n</code></pre>\n\n<p>and will get <code>3bc22fb7aaebe9c8c5d7de312b876bb8</code> as your \"directory-digest\". The sort is crucial(!) here, because the same command, but without the sort:</p>\n\n<pre><code>perl -MDigest::MD5=md5_hex -E 'say md5_hex(qw( 92eb5ffee6ae2fec3ad71c777531578f 0cc175b9c0f1b6a831c399e269772661))'\n</code></pre>\n\n<p>produces: <code>3a13f2408f269db87ef0110a90e168ae</code>.</p>\n\n<p>Note, even if the above digests aren't the digests of your files, but they're will be unique for every directory with different files and will be the same for the identical files. (because identical files, has identical md5 file-digest). The sorting ensures, that you will calculate the digest always in the same order, e.g. if some other directory will contain two files</p>\n\n<pre><code>file \"aaa\" has md5 : 92eb5ffee6ae2fec3ad71c777531578f\nfile \"bbb\" has md5 : 0cc175b9c0f1b6a831c399e269772661\n</code></pre>\n\n<p>using the above <code>sort and md5</code> you will again get: <code>3bc22fb7aaebe9c8c5d7de312b876bb8</code> - e.g. the directory containing same files as above...</p>\n\n<p>So, in such way you can calculate some \"directory-digest\" for every directory you have and could be ensured that if you get another directory digest <code>3bc22fb7aaebe9c8c5d7de312b876bb8</code> thats means: this directory has exactly the above two files <code>a</code> and <code>b</code> (even if their names are different).</p>\n\n<p>This method is fast, because you will calculate the \"directory-digests\" only from small 32bytes strings, so you avoids excessive multiple file-digest-caclulations.</p>\n\n<p>The final part is easy now. Your final data should be in form:</p>\n\n<pre><code>3a13f2408f269db87ef0110a90e168ae /some/directory\n16ea2389b5e62bc66b873e27072b0d20 /another/directory\n3a13f2408f269db87ef0110a90e168ae /path/to/other/directory\n</code></pre>\n\n<p>so, from this is easy to get: the</p>\n\n<p><code>/some/directory</code> and the <code>/path/to/other/directory</code> are identical, because they has identical \"directory-digests\".</p>\n\n<p>Hm... All the above is only a few lines long perl script. Probably would be faster to write here directly the perl-script as the above long textual answer - but, you said - you don't want code... :) :)</p>\n"}], "owner": {"reputation": 2992, "user_id": 869025, "user_type": "registered", "accept_rate": 86, "profile_image": "https://www.gravatar.com/avatar/870db1cfd53a1dfbe9467082bb9777b1?s=128&d=identicon&r=PG", "display_name": "cajwine", "link": "https://stackoverflow.com/users/869025/cajwine"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 2850, "favorite_count": 2, "answer_count": 2, "score": 9, "last_activity_date": 1493180732, "creation_date": 1492873771, "last_edit_date": 1492874993, "question_id": 43560796, "link": "https://stackoverflow.com/questions/43560796/how-to-find-duplicate-directories", "title": "How to find duplicate directories", "body": "<p>Let create some testing directory tree:</p>\n\n<pre><code>#!/bin/bash\n\ntop=\"./testdir\"\n[[ -e \"$top\" ]] &amp;&amp; { echo \"$top already exists!\" &gt;&amp;2; exit 1; }\n\nmkfile() { printf \"%s\\n\" $(basename \"$1\") &gt; \"$1\"; }\n\nmkdir -p \"$top\"/d1/d1{1,2}\nmkdir -p \"$top\"/d2/d1some/d12copy\nmkfile \"$top/d1/d12/a\"\nmkfile \"$top/d1/d12/b\"\nmkfile \"$top/d2/d1some/d12copy/a\"\nmkfile \"$top/d2/d1some/d12copy/b\"\nmkfile \"$top/d2/x\"\nmkfile \"$top/z\"\n</code></pre>\n\n<p>The structure is: <code>find testdir \\( -type d -printf \"%p/\\n\" , -type f -print \\)</code></p>\n\n<pre><code>testdir/\ntestdir/d1/\ntestdir/d1/d11/\ntestdir/d1/d12/\ntestdir/d1/d12/a\ntestdir/d1/d12/b\ntestdir/d2/\ntestdir/d2/d1some/\ntestdir/d2/d1some/d12copy/\ntestdir/d2/d1some/d12copy/a\ntestdir/d2/d1some/d12copy/b\ntestdir/d2/x\ntestdir/z\n</code></pre>\n\n<p>I need find the duplicate <strong>directories</strong>, but I need consider only files (e.g. I should ignore (sub)directories without files). So, from the above test-tree the wanted result is:</p>\n\n<pre><code>duplicate directories:\ntestdir/d1\ntestdir/d2/d1some\n</code></pre>\n\n<p>because in both (sub)trees are only two identical files <code>a</code> and <code>b</code>. (and several directories, without files).</p>\n\n<p>Of course, I could <code>md5deep -Zr .</code>, also could walk the whole tree using <code>perl</code> script (using <a href=\"https://metacpan.org/pod/File::Find\" rel=\"noreferrer\">File::Find</a>+<a href=\"https://metacpan.org/pod/Digest::MD5\" rel=\"noreferrer\">Digest::MD5</a> or using <a href=\"https://metacpan.org/pod/Path::Tiny\" rel=\"noreferrer\">Path::Tiny</a> or like.) and calculate the file's md5-digests, but this doesn't helps for finding the duplicate <strong>directories</strong>... :(</p>\n\n<p>Any idea how to do this? Honestly, I haven't any idea.</p>\n\n<p><strong>EDIT</strong></p>\n\n<ul>\n<li>I don't need working <code>code</code>. (I'm able to code myself)</li>\n<li>I \"just\" need some ideas \"how to approach\" the solution of the problem. :)</li>\n</ul>\n\n<p><strong>Edit2</strong></p>\n\n<p>The rationale behind - why need this: I have approx 2.5 TB data copied from many external HDD's as a result of wrong backup-strategy. E.g. over the years, the whole <code>$HOME</code> dirs are copied into (many different) external HDD's. Many sub-directories has the same content, but they're in different paths. So, now I trying to eliminate the same-content directories.</p>\n\n<p>And I need do this <strong>by directories</strong>, because here are directories, which has some duplicates files, but not all. Let say:</p>\n\n<pre><code>/some/path/project1/a\n/some/path/project1/b\n</code></pre>\n\n<p>and</p>\n\n<pre><code>/some/path/project2/a\n/some/path/project2/x\n</code></pre>\n\n<p>e.g. the <code>a</code> is a duplicate file (not only the name, but by the content too) - but it is needed for the both projects. So i want keep the <code>a</code> in both directories - even if they're duplicate files. Therefore me looking for a \"logic\" how to find duplicate directories.</p>\n"}, {"tags": ["perl", "text"], "comments": [{"owner": {"reputation": 32176, "user_id": 2173773, "user_type": "registered", "accept_rate": 86, "profile_image": "https://i.stack.imgur.com/M8yh6.jpg?s=128&g=1", "display_name": "H&#229;kon H&#230;gland", "link": "https://stackoverflow.com/users/2173773/h%c3%a5kon-h%c3%a6gland"}, "edited": false, "score": 0, "creation_date": 1492861477, "post_id": 43558019, "comment_id": 74168687, "body": "I think the reason that it removes the final part is that one of the final STACK blocks also contain <code>Layer=7</code>"}, {"owner": {"reputation": 123805, "user_id": 622310, "user_type": "registered", "accept_rate": 33, "profile_image": "https://www.gravatar.com/avatar/8b6d35219e1808520bc238b28161e2e6?s=128&d=identicon&r=PG", "display_name": "Borodin", "link": "https://stackoverflow.com/users/622310/borodin"}, "edited": false, "score": 0, "creation_date": 1492896436, "post_id": 43558019, "comment_id": 74180368, "body": "Stack Overflow is not a forum; it is more like a wiki which contains answers to programming issues. As such, a question&#39;s primary worth is in its accessibility and meaning to the many other people who may find the page when searching for a resolution to their own problems. So please don&#39;t leave your question derelict and useless once you have your answer. Putting the bulk of your message into a video is highly unusual, but to delete that video as soon as you get a solution is unforgiveable. Please edit your question to include a transcription of the video with other people in mind."}, {"owner": {"reputation": 123805, "user_id": 622310, "user_type": "registered", "accept_rate": 33, "profile_image": "https://www.gravatar.com/avatar/8b6d35219e1808520bc238b28161e2e6?s=128&d=identicon&r=PG", "display_name": "Borodin", "link": "https://stackoverflow.com/users/622310/borodin"}, "edited": false, "score": 0, "creation_date": 1492897430, "post_id": 43558019, "comment_id": 74180679, "body": "Please don&#39;t use capital letters for emphasis. We are not stupid. Italics are much more pleasant to read."}], "answers": [{"comments": [{"owner": {"reputation": 39, "user_id": 7804352, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/dbbc47e4f9ae550430a4055f3f05fe14?s=128&d=identicon&r=PG&f=1", "display_name": "PaulC", "link": "https://stackoverflow.com/users/7804352/paulc"}, "edited": false, "score": 1, "creation_date": 1492892782, "post_id": 43558843, "comment_id": 74179217, "body": "Many thanks, worked a dream!"}], "tags": [], "owner": {"reputation": 32176, "user_id": 2173773, "user_type": "registered", "accept_rate": 86, "profile_image": "https://i.stack.imgur.com/M8yh6.jpg?s=128&g=1", "display_name": "H&#229;kon H&#230;gland", "link": "https://stackoverflow.com/users/2173773/h%c3%a5kon-h%c3%a6gland"}, "is_accepted": true, "score": 0, "last_activity_date": 1492861694, "creation_date": 1492861694, "answer_id": 43558843, "question_id": 43558019, "link": "https://stackoverflow.com/questions/43558019/need-modification-to-existing-multiline-perl-replacement-code/43558843#43558843", "title": "Need modification to existing multiline Perl replacement code", "body": "<p>Provided <code>STACK</code> blocks does only occur at the end of the file, you can try to also split out the <code>STACK</code> blocks:</p>\n\n<pre><code>$contents = join '', grep { /^STACK/ || !/Layer\\s*=\\s*7\\b/ } split /^(?=CHARTS|STACK)/m, $contents;\n</code></pre>\n"}], "owner": {"reputation": 39, "user_id": 7804352, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/dbbc47e4f9ae550430a4055f3f05fe14?s=128&d=identicon&r=PG&f=1", "display_name": "PaulC", "link": "https://stackoverflow.com/users/7804352/paulc"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 48, "favorite_count": 0, "closed_date": 1494619078, "accepted_answer_id": 43558843, "answer_count": 1, "score": -1, "last_activity_date": 1492897218, "creation_date": 1492856317, "last_edit_date": 1495535488, "question_id": 43558019, "link": "https://stackoverflow.com/questions/43558019/need-modification-to-existing-multiline-perl-replacement-code", "closed_reason": "Not suitable for this site", "title": "Need modification to existing multiline Perl replacement code", "body": "\n\n<p>I had <a href=\"https://stackoverflow.com/questions/43185670/regex-multine-replacement-perl/43204651?noredirect=1#comment73483202_43204651\">a recent question</a> earlier this month which was solved by @jm666 which involved multi line text replacement.</p>\n\n<p>I have an issue in that, although this works perfectly as requested, it results in the removal of some text at the very end of the text file which I need to retain.</p>\n\n<p>The line added to my process file which strips the blocks of text is below:</p>\n\n<pre class=\"lang-none prettyprint-override\"><code>$contents = join '', grep { !/Layer\\s*=\\s*7\\b/ } split /^(?=CHARTS)/m, $contents;\n</code></pre>\n\n<p>The data below shows what is being stripped. Each block of text commences with <code>CHARTS</code> and ends with <code>[28]=0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,</code></p>\n\n<p>There is then a blank line and we are on to the next block, which again commences with <code>CHARTS</code>.</p>\n\n<p>The line shown at the start of the question correctly strips each entire block (from start to finish) where <code>Layer=7</code>, which is in the 4th line of each block.</p>\n\n<p>The very last block in the file is then followed by some information which formats things. That information commences with <code>STACK</code>. Below the sample code below I show that <code>STACK</code> info.</p>\n\n<p>I have posted <a href=\"https://www.youtube.com/watch?v=EQSWXuMONLc\" rel=\"nofollow noreferrer\">a 2 min video</a> which describes the issue in detail</p>\n\n<pre class=\"lang-none prettyprint-override\"><code>CHARTS\n  Position=574,1988,1013,2652,-1,-1\n  Color=14671839\n  Layer=7\n  [0] Font=MS SAN SERIF,10,0,F,F,\n  [1] Show=F,F,F,T,T,F,T,F,F,T,\n  [2] Scale=F,F,T,F,F,F,F,F,0,T,F,\n  [3] Grid=F,F,F,F,1,\n  [4] Paint=F,F,F,0,0,0,\n  [5] Bars=1,2000,1970,\n  [6] Colors=65793,0,0,8388608,32767,65793,0,0,\n  [7] Theme=6,0,255,65280,7566080,0,16777215,0,\n  [8] Candles=F,F,F,F,1,F,\n  [9] Filter=T,F,F,F,F,0,0\n  [10] Type=F,F,F,F,15,5083,\n  [11] Spacing=5,236,0,10,4,-7,73,\n  [12] Range=227.8,107.2,2.05,0.01\n  [13] Volume=0,100,0,0,0,0,\n  [14] Refresh=0,0,0,\n  [15] Feed=5,5,F,\n  [16] Template=\n  [17] Symbol=@OJ#.W\n  [18] SubSizes=0,0,0,0,0,0,0,0,0,0,\n\n  [19]= &lt;&lt;&lt;    Andrews Pitchfork  1   &gt;&gt;&gt;\n  [20]=61,5085,0,1,192,0,0,0,0,0,0,0,0,0,0,0,0,\n  [21]=16711935,16711935,16711935,255,16711935,255,16711935,16711935,65793,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,\n  [22]=2,7,0,0,0,64.58475,226.99976,97.1011,35,2,0,0,25,38.2,50,61.8,75,100,0,0,0,0,0,0,0,0,\n  [23]=146,0,0,2,1120518,0,1120127,255,1090220,1,3,3,1,1,4,1,1,3,1,1,1,0,0,0,0,\n  [24]=0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,2,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,\n  [25]=0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,\n  [26]=0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,\n  [27]=0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,\n  [28]=0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,\n\n  [19]= &lt;&lt;&lt;    c:\\XXXXX\\Alerts\\AUD.wav   103.47   672.59   &gt;&gt;&gt;\n  [20]=65,5088,0,3,0,0,0,0,0,0,0,0,0,0,0,0,0,\n  [21]=65280,65280,8421376,0,255,255,16711680,16711680,65280,16744447,32767,0,0,0,0,0,0,0,0,0,0,0,0,0,\n  [22]=0,0,0,0,2730.6001,103.47184,672.59155,103.47184,5,0,0,0,0,0,0,1,0,0.1,0,0,0,0,0,0,0,0,\n  [23]=3,0,0,0,1120914,0,1170120,255,1120914,1,5,5,1,0,1,1,1,1,1,1,1,0,0,0,0,\n  [24]=0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,26,99,58,92,69,110,115,105,103,110,49,\n  [25]=48,92,65,108,101,114,116,115,92,65,85,68,46,119,97,118,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,\n  [26]=0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,\n  [27]=0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,\n  [28]=0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,\n\n  [19]= &lt;&lt;&lt;    Line     t   160.65   729.77   &gt;&gt;&gt;\n  [20]=65,5089,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,\n  [21]=16711935,16711680,8421376,0,255,255,16711680,16711680,65280,16744447,32767,0,0,0,0,0,0,0,0,0,0,0,0,0,\n  [22]=0,0,0,0,2892.6001,160.65494,729.77466,160.65494,5,0,0,0,0,0,0,1,0,0.1,0,0,0,0,0,0,0,0,\n  [23]=1,0,0,0,1151023,0,1170120,255,1151023,1,2,2,1,0,1,1,1,1,1,1,1,0,0,0,0,\n  [24]=0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,\n  [25]=0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,\n  [26]=0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,\n  [27]=0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,\n  [28]=0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,\n\nCHARTS\n  Position=-462,3460,-23,4124,-1,-1\n  Color=14671839\n  Layer=1\n  [0] Font=MS SAN SERIF,10,0,F,F,\n  [1] Show=F,F,F,T,T,F,T,F,F,T,\n  [2] Scale=F,F,T,F,F,F,F,F,0,T,F,\n  [3] Grid=F,F,F,F,1,\n  [4] Paint=F,F,F,0,0,0,\n  [5] Bars=1,2000,1970,\n  [6] Colors=65793,0,0,8388608,32767,65793,0,0,\n  [7] Theme=6,0,255,65280,7566080,0,16777215,0,\n  [8] Candles=F,F,F,F,1,F,\n  [9] Filter=T,F,F,F,F,0,0\n  [10] Type=F,F,F,F,15,43286,\n  [11] Spacing=5,183,0,10,4,-7,73,\n  [12] Range=148.5,89.1,0.01,0.01\n  [13] Volume=0,100,0,0,0,0,\n  [14] Refresh=0,0,0,\n  [15] Feed=5,2,F,\n  [16] Template=\n  [17] Symbol=SVXY.D\n  [18] SubSizes=0,0,0,0,0,0,0,0,0,0,\n\n  [19]= &lt;&lt;&lt;    Circle   &gt;&gt;&gt;\n  [20]=62,43296,0,0,576,0,0,0,0,0,0,0,0,0,0,0,0,\n  [21]=13959167,16711680,65280,255,255,5242880,16744192,12900,255,5242880,16727871,0,0,0,0,0,0,0,0,0,0,0,0,0,\n  [22]=2,7,0,0,-0.28571,134.64,135.71358,134.62071,15,0,0,0,25,38.2,50,61.8,75,100,150,161.8,200,0,0,0,0,0,\n  [23]=130,2,0,2,1170222,1,1170222,1,1170215,0,2,0,1,1,1,1,1,3,1,1,1,0,0,0,0,\n  [24]=176,0,0,0,0,0,0,0,0,0,0,177,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,250,25,0,117,4,119,0,216,250,25,\n  [25]=0,64,202,15,5,4,182,73,0,168,233,105,179,2,0,0,0,117,4,119,0,176,120,64,0,64,202,15,5,32,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,\n  [26]=0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,\n  [27]=0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,\n  [28]=0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,\n\n  [19]= &lt;&lt;&lt;    Circle   &gt;&gt;&gt;\n  [20]=62,43297,0,0,576,0,0,0,0,0,0,0,0,0,0,0,0,\n  [21]=13959167,16711680,65280,255,255,5242880,16744192,12900,255,5242880,16727871,0,0,0,0,0,0,0,0,0,0,0,0,0,\n  [22]=2,7,1.85714,-0.14286,1.57143,145.22144,146.31429,145.22144,15,0,0,0,25,38.2,50,61.8,75,100,150,161.8,200,0,0,0,0,0,\n  [23]=130,2,0,2,1170323,1,1170323,1,1170321,0,2,0,1,1,1,1,1,3,1,1,1,0,0,0,0,\n  [24]=176,0,0,0,0,0,0,0,0,0,0,177,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,250,25,0,117,4,119,0,216,250,25,\n  [25]=0,64,202,15,5,4,182,73,0,168,233,105,179,2,0,0,0,117,4,119,0,176,120,64,0,64,202,15,5,32,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,\n  [26]=0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,\n  [27]=0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,\n  [28]=0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,\n\n  [19]= &lt;&lt;&lt;    Circle   &gt;&gt;&gt;\n  [20]=62,44362,0,0,576,0,0,0,0,0,0,0,0,0,0,0,0,\n  [21]=13959167,16711680,65280,255,255,5242880,16744192,12900,255,5242880,16727871,0,0,0,0,0,0,0,0,0,0,0,0,0,\n  [22]=2,7,0.09091,0,0.09091,63.96,63.93712,63.93712,15,0,0,0,25,38.2,50,61.8,75,100,150,161.8,200,0,0,0,0,0,\n  [23]=130,2,0,2,1161108,1,1161108,1,1161104,0,2,0,1,1,1,1,1,3,1,1,1,0,0,0,0,\n  [24]=176,0,0,0,0,0,0,0,0,0,0,177,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,250,25,0,123,2,159,3,216,250,25,\n  [25]=0,64,202,15,5,4,182,73,0,168,233,105,179,2,0,0,0,123,2,159,3,176,120,64,0,64,202,15,5,32,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,\n  [26]=0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,\n  [27]=0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,\n  [28]=0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,\n</code></pre>\n\n<p>So, here below is the problem area. The first two lines below are the final two lines of the last block of <code>CHARTS</code> data in the file. As you can see, it is then followed by many smaller blocks which commence with <code>STACK</code>.</p>\n\n<p>This question is simply looking for a modification to the line of code at the start of the question, replicated once more below, to not strip out the <code>STACK</code> blocks. Using the current solution it does remove all the <code>Layer=7</code> blocks but it also removes all of the <code>STACK</code> blocks at the end of the file. This is despite the final block of text prior to the <code>STACK</code> blocks being <code>Layer=1</code>, not <code>Layer=7</code>.</p>\n\n<pre class=\"lang-none prettyprint-override\"><code>$contents = join '', grep { !/Layer\\s*=\\s*7\\b/ } split /^(?=CHARTS)/m, $contents;\n</code></pre>\n\n<p>[27]=0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,\n      [28]=0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,</p>\n\n<pre class=\"lang-none prettyprint-override\"><code>STACK\n  Position=399,390,888,1211,0,1048\n  Color=-16777201\n  Layer=6\n  ID=56729,56730,56731,56732,56733,56734,56735,\n  [1] Name=\n  [2] Index=1,\n  [3] Pinned=F,\n  [4] Font=8,-16777208,F,MS SANS SERIF\n  Window=Minimized\n\nSTACK\n  Position=399,684,888,1348,0,1048\n  Color=-16777201\n  Layer=1\n  ID=28487,9939,\n  [1] Name=\n  [2] Index=0,\n  [3] Pinned=F,\n  [4] Font=8,-16777208,F,MS SANS SERIF\n  Window=Minimized\n\nSTACK\n</code></pre>\n"}, {"tags": ["perl"], "answers": [{"tags": [], "owner": {"reputation": 61700, "user_id": 5291015, "user_type": "registered", "accept_rate": 100, "profile_image": "https://i.stack.imgur.com/ZFijZ.jpg?s=128&g=1", "display_name": "Inian", "link": "https://stackoverflow.com/users/5291015/inian"}, "is_accepted": false, "score": 1, "last_activity_date": 1492841977, "last_edit_date": 1592644375, "creation_date": 1492841977, "answer_id": 43555953, "question_id": 43555738, "link": "https://stackoverflow.com/questions/43555738/how-to-round-decimal-place-up/43555953#43555953", "title": "How to round decimal place up?", "body": "<p>You can use the <code>nhimult()</code> function from the <code>Math::Round</code> library</p>\n<blockquote>\n<p>nhimult TARGET, LIST</p>\n<p>Returns the next higher multiple of the number(s) in LIST. TARGET must be positive. In scalar context, returns a single value; in list context, returns a list of values. Numbers that are between two multiples of the target will be adjusted to the nearest multiples of LIST that are algebraically higher. For example:</p>\n</blockquote>\n<p>just do <code>nhimult(0.1, $a)</code> as</p>\n<pre><code>#!/usr/bin/perl\n\nuse Math::Round qw( :all );\nmy $a = 1.12;\nmy $b = sprintf(&quot;%.1f&quot;, $a);\nprint &quot;Unrounded: $a\\nRounded: $b\\n&quot;;\nprintf &quot;Unrounded: $a\\nRounded: %.1f\\n&quot;, $a;\nprintf &quot;Unrounded: $a\\nRounded: %.1f\\n&quot;, $a;    \nprintf &quot;Next higher multiple of $a: %.1f\\n&quot;,  nhimult(0.1, $a);\n</code></pre>\n<p>produces</p>\n<pre><code>Unrounded: 1.12\nRounded: 1.1\nUnrounded: 1.12\nRounded: 1.1\nUnrounded: 1.12\nRounded: 1.1\nNext higher multiple of 1.12, 1.2\n</code></pre>\n<p>You can get the <a href=\"http://search.cpan.org/%7Egrommel/Math-Round-0.07/Round.pm\" rel=\"nofollow noreferrer\">Math::Round</a> by doing</p>\n<pre><code>perl -MCPAN -e 'install Math::Round'\n</code></pre>\n<p>and import all the functions <code>qw(:all)</code>.</p>\n"}, {"tags": [], "owner": {"reputation": 123805, "user_id": 622310, "user_type": "registered", "accept_rate": 33, "profile_image": "https://www.gravatar.com/avatar/8b6d35219e1808520bc238b28161e2e6?s=128&d=identicon&r=PG", "display_name": "Borodin", "link": "https://stackoverflow.com/users/622310/borodin"}, "is_accepted": false, "score": 3, "last_activity_date": 1492873651, "last_edit_date": 1492873651, "creation_date": 1492873088, "answer_id": 43560670, "question_id": 43555738, "link": "https://stackoverflow.com/questions/43555738/how-to-round-decimal-place-up/43560670#43560670", "title": "How to round decimal place up?", "body": "\n\n<p>You can use the <code>ceil</code> function from the core <code>POSIX</code> module to round up to the next integer. Factor your value by a power of ten before and after the operation to round up to a given number of decimal places</p>\n\n<p>Also, don't use identifiers <code>$a</code> and <code>$b</code>; they are reserved for use by the <code>sort</code> built-in operator</p>\n\n<pre class=\"lang-perl prettyprint-override\"><code>use strict;\nuse warnings 'all';\n\nuse POSIX 'ceil';\n\nmy $aa = 1.12;\nprint \"Unrounded:  $aa\\n\";\n\nmy $bb = sprintf(\"%.1f\", $aa);\nprint \"Rounded:    $bb\\n\";\n\nmy $cc = ceil($aa * 10) / 10;\nprint \"Rounded up: $cc\\n\";\n</code></pre>\n\n<h3>output</h3>\n\n<pre><code>Unrounded:  1.12\nRounded:    1.1\nRounded up: 1.2\n</code></pre>\n"}], "owner": {"reputation": 669, "user_id": 1854603, "user_type": "registered", "accept_rate": 47, "profile_image": "https://www.gravatar.com/avatar/5ad51d222e092ea29c7b24e2918b7b76?s=128&d=identicon&r=PG", "display_name": "Stephen", "link": "https://stackoverflow.com/users/1854603/stephen"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 2118, "favorite_count": 0, "answer_count": 2, "score": 0, "last_activity_date": 1492873651, "creation_date": 1492840144, "question_id": 43555738, "link": "https://stackoverflow.com/questions/43555738/how-to-round-decimal-place-up", "title": "How to round decimal place up?", "body": "<p>I'm using the sprintf and printf function to round a decimal number, rounding down if hundredth position is less than 5, rounding up if hundredth position is greater than 5.</p>\n\n<pre><code>my $a = 1.12;\nmy $b = sprintf(\"%.1f\", $a);\nprint \"Unrounded: $a\\nRounded: $b\\n\";\nprintf \"Unrounded: $a\\nRounded: %.1f\\n\", $a;\n</code></pre>\n\n<p>Is there a way to round up the decimal place up (e.g., <code>$b = 1.2</code>)?</p>\n"}, {"tags": ["perl", "edgar"], "comments": [{"owner": {"reputation": 107, "user_id": 3088548, "user_type": "registered", "accept_rate": 69, "profile_image": "https://www.gravatar.com/avatar/838e66b635d28b2760e6bd902ab6ab0c?s=128&d=identicon&r=PG", "display_name": "Rick", "link": "https://stackoverflow.com/users/3088548/rick"}, "reply_to_user": {"reputation": 113221, "user_id": 100754, "user_type": "registered", "accept_rate": 90, "profile_image": "https://www.gravatar.com/avatar/7804ebae32fbadef38537d74a915c22f?s=128&d=identicon&r=PG", "display_name": "Sinan &#220;n&#252;r", "link": "https://stackoverflow.com/users/100754/sinan-%c3%9cn%c3%bcr"}, "edited": false, "score": 0, "creation_date": 1492807687, "post_id": 43551208, "comment_id": 74155709, "body": "Thank you, @Sinan &#220;n&#252;r.  I am unfamiliar with how response_data handlers keep my files from being stored in memory (and with response_data handlers more generally).  Could you provide a little insight into how you would most efficiently incorporate that into the code above?"}, {"owner": {"reputation": 113221, "user_id": 100754, "user_type": "registered", "accept_rate": 90, "profile_image": "https://www.gravatar.com/avatar/7804ebae32fbadef38537d74a915c22f?s=128&d=identicon&r=PG", "display_name": "Sinan &#220;n&#252;r", "link": "https://stackoverflow.com/users/100754/sinan-%c3%9cn%c3%bcr"}, "edited": false, "score": 0, "creation_date": 1492808290, "post_id": 43551208, "comment_id": 74155983, "body": "Actually, let <code>$ua</code> <a href=\"https://metacpan.org/pod/LWP::UserAgent#get\" rel=\"nofollow noreferrer\">handle the saving</a>."}, {"owner": {"reputation": 107, "user_id": 3088548, "user_type": "registered", "accept_rate": 69, "profile_image": "https://www.gravatar.com/avatar/838e66b635d28b2760e6bd902ab6ab0c?s=128&d=identicon&r=PG", "display_name": "Rick", "link": "https://stackoverflow.com/users/3088548/rick"}, "reply_to_user": {"reputation": 113221, "user_id": 100754, "user_type": "registered", "accept_rate": 90, "profile_image": "https://www.gravatar.com/avatar/7804ebae32fbadef38537d74a915c22f?s=128&d=identicon&r=PG", "display_name": "Sinan &#220;n&#252;r", "link": "https://stackoverflow.com/users/100754/sinan-%c3%9cn%c3%bcr"}, "edited": false, "score": 0, "creation_date": 1492808865, "post_id": 43551208, "comment_id": 74156235, "body": "Is that different from the &quot;my $response = $ua-&gt;($get_file);&quot; line currently in the code?  What exactly are you suggesting?"}, {"owner": {"reputation": 113221, "user_id": 100754, "user_type": "registered", "accept_rate": 90, "profile_image": "https://www.gravatar.com/avatar/7804ebae32fbadef38537d74a915c22f?s=128&d=identicon&r=PG", "display_name": "Sinan &#220;n&#252;r", "link": "https://stackoverflow.com/users/100754/sinan-%c3%9cn%c3%bcr"}, "edited": false, "score": 1, "creation_date": 1492809064, "post_id": 43551208, "comment_id": 74156313, "body": "I am suggesting you do not read the entire file content into a variable. Do read what I linked to: <b><i>If a $filename is provided with the :content_file option, then the response content will be saved here instead of in the response object.</i></b>"}, {"owner": {"reputation": 87649, "user_id": 17389, "user_type": "registered", "accept_rate": 38, "profile_image": "https://www.gravatar.com/avatar/cd06d1314817ce946ab796af8750b56a?s=128&d=identicon&r=PG", "display_name": "ysth", "link": "https://stackoverflow.com/users/17389/ysth"}, "edited": false, "score": 1, "creation_date": 1492809470, "post_id": 43551208, "comment_id": 74156481, "body": "Not related to the out of memory, and irrelevant if you follow Sinan&#39;s good advice, but you almost always want to use -&gt;decoded_content, not -&gt;content"}, {"owner": {"reputation": 107, "user_id": 3088548, "user_type": "registered", "accept_rate": 69, "profile_image": "https://www.gravatar.com/avatar/838e66b635d28b2760e6bd902ab6ab0c?s=128&d=identicon&r=PG", "display_name": "Rick", "link": "https://stackoverflow.com/users/3088548/rick"}, "edited": false, "score": 0, "creation_date": 1492811953, "post_id": 43551208, "comment_id": 74157418, "body": "I&#39;ve added the :content_file option, and so far I&#39;ve not had any problems with running out of memory.  I won&#39;t know for sure until it&#39;s done processing in a couple of days, if problems arise I will repost.  Thanks!"}], "answers": [{"comments": [{"owner": {"reputation": 50468, "user_id": 1331451, "user_type": "registered", "accept_rate": 96, "profile_image": "https://i.stack.imgur.com/4ZPmj.png?s=128&g=1", "display_name": "simbabque", "link": "https://stackoverflow.com/users/1331451/simbabque"}, "edited": false, "score": 0, "creation_date": 1492819219, "post_id": 43552281, "comment_id": 74159518, "body": "Welcome to Stack Overflow and the Perl tag. Very good first answer. :-)"}, {"owner": {"reputation": 123805, "user_id": 622310, "user_type": "registered", "accept_rate": 33, "profile_image": "https://www.gravatar.com/avatar/8b6d35219e1808520bc238b28161e2e6?s=128&d=identicon&r=PG", "display_name": "Borodin", "link": "https://stackoverflow.com/users/622310/borodin"}, "edited": false, "score": 1, "creation_date": 1492821253, "post_id": 43552281, "comment_id": 74159953, "body": "<i>&quot;There is something inside the LWP monster that leaks&quot;</i> The problem is not in the LWP module suite, which has been extensively used and tested by a huge number of people since it was first released in May 1996. If you have written a program that uses LWP and leaks memory then it is not a problem with the module."}], "tags": [], "owner": {"reputation": 19, "user_id": 5289446, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/pQbBV.jpg?s=128&g=1", "display_name": "xrmb", "link": "https://stackoverflow.com/users/5289446/xrmb"}, "is_accepted": false, "score": 1, "last_activity_date": 1492901663, "last_edit_date": 1492901663, "creation_date": 1492810050, "answer_id": 43552281, "question_id": 43551208, "link": "https://stackoverflow.com/questions/43551208/efficient-downloading-of-10-k-filings-from-sec-website/43552281#43552281", "title": "Efficient downloading of 10-K filings from SEC website", "body": "<p>I recently ran into a similar problem using threads and thousands of LWP requests. Never figured out what the memory leak was, but switching to HTTP::Tiny resolved it.</p>\n\n<p>Going from <a href=\"https://metacpan.org/pod/LWP\" rel=\"nofollow noreferrer\">LWP</a> to <a href=\"https://metacpan.org/pod/HTTP::Tiny\" rel=\"nofollow noreferrer\">HTTP::Tiny</a> is simple:</p>\n\n<pre><code>use HTTP::Tiny;\n\nmy $ua = HTTP::Tiny-&gt;new;\n\nmy $response =$ua-&gt;get($get_file);\nif ($response-&gt;{success}) {\n    print OUT $response-&gt;{content};\n</code></pre>\n\n<p>... of course <code>HTTP::Tiny</code> could just do the saving part for you, like <code>LWP</code>.</p>\n\n<p>You could also try to make a new <code>LWP</code> object inside the loop, hoping for the garbage collection to kick in, but it didn't work for me either. There is something inside the <code>LWP</code> monster that leaks.</p>\n\n<p>Edit: There could also be a problem with trying to download a 2gb file into a string, the <a href=\"https://metacpan.org/pod/HTTP::Tiny#mirror\" rel=\"nofollow noreferrer\">mirror</a> method should solve that for you.</p>\n"}, {"comments": [{"owner": {"reputation": 107, "user_id": 3088548, "user_type": "registered", "accept_rate": 69, "profile_image": "https://www.gravatar.com/avatar/838e66b635d28b2760e6bd902ab6ab0c?s=128&d=identicon&r=PG", "display_name": "Rick", "link": "https://stackoverflow.com/users/3088548/rick"}, "edited": false, "score": 0, "creation_date": 1493044675, "post_id": 43553861, "comment_id": 74231535, "body": "I have verified that this code does the job as well.  The processing speed appears to be relatively similar between both sets of code."}, {"owner": {"reputation": 123805, "user_id": 622310, "user_type": "registered", "accept_rate": 33, "profile_image": "https://www.gravatar.com/avatar/8b6d35219e1808520bc238b28161e2e6?s=128&d=identicon&r=PG", "display_name": "Borodin", "link": "https://stackoverflow.com/users/622310/borodin"}, "reply_to_user": {"reputation": 107, "user_id": 3088548, "user_type": "registered", "accept_rate": 69, "profile_image": "https://www.gravatar.com/avatar/838e66b635d28b2760e6bd902ab6ab0c?s=128&d=identicon&r=PG", "display_name": "Rick", "link": "https://stackoverflow.com/users/3088548/rick"}, "edited": false, "score": 0, "creation_date": 1493045011, "post_id": 43553861, "comment_id": 74231771, "body": "@Rick: Thanks. I appear to have been hit by the drive-by downvoter! The other answer has the disadvantage that it still reads the whole file into memory before writing it to disk, which unnecessarily wastes memory. I&#39;m surprised that <code>HTTP::Tiny</code> performs any differently from <code>LWP</code> to be honest, as the core problem of memory space hasn&#39;t been fixed. This code writes data straight to disk as the data arrives from the internet."}], "tags": [], "owner": {"reputation": 123805, "user_id": 622310, "user_type": "registered", "accept_rate": 33, "profile_image": "https://www.gravatar.com/avatar/8b6d35219e1808520bc238b28161e2e6?s=128&d=identicon&r=PG", "display_name": "Borodin", "link": "https://stackoverflow.com/users/622310/borodin"}, "is_accepted": false, "score": 1, "last_activity_date": 1492821466, "last_edit_date": 1492821466, "creation_date": 1492820577, "answer_id": 43553861, "question_id": 43551208, "link": "https://stackoverflow.com/questions/43551208/efficient-downloading-of-10-k-filings-from-sec-website/43553861#43553861", "title": "Efficient downloading of 10-K filings from SEC website", "body": "<p>Just get <code>LWP</code> to store the response data directly into a file instead of in the <code>HTTP::Response</code> object. It's also simpler to code that way</p>\n\n<p>Here's an example program. I can't test it at present but it does compile</p>\n\n<p>I've recently noticed a lot of people writing code to read entire files into memory before processing the data and I don't understand why it's so popular. It's wasteful of memory and is often more difficult to code a solution that way. I've changed your program to read a line at a time of the download list file and use it directly instead of storing it into an array</p>\n\n<pre><code>use strict;\nuse warnings 'all';\n\nuse LWP;\n\nmy $ua = LWP::UserAgent-&gt;new;\n\nopen my $dl_fh,  '&lt;', 'downloadlist.txt' or die \"Can't open download list file: $!\";\n\nopen my $log_fh, '&gt;', 'download_log.txt' or die \"Can't open log file: $!\";\n\nSTDOUT-&gt;autoflush;\n\nwhile ( &lt;$dl_fh&gt; ) {\n\n    # next if 0.999 &gt; rand;\n    # print \"Now fetching file: $_\";\n\n    chomp;\n    my ($num, $dl_file) = split /,/;\n\n    unless ( $dl_file =~ /[0-9|-]+\\.txt/ ) {\n        print $log_fh qq{Skipping invalid file \"$dl_file\"\\n};\n        next;\n    }\n\n    my $url      = \"http://www.sec.gov/Archives/$dl_file\";\n    my $filename = \"$num.txt\";\n\n    print qq{Fetching file $filename\\n};\n\n    my $resp = $ua-&gt;get($url, ':content_file' =&gt; $filename);\n\n    printf $log_fh qq{Download of \"%s\" %s\\n},\n            $filename,\n            $resp-&gt;is_success ?\n            'successful' :\n            'FAILED: ' . $resp-&gt;status_line;\n}\n</code></pre>\n"}], "owner": {"reputation": 107, "user_id": 3088548, "user_type": "registered", "accept_rate": 69, "profile_image": "https://www.gravatar.com/avatar/838e66b635d28b2760e6bd902ab6ab0c?s=128&d=identicon&r=PG", "display_name": "Rick", "link": "https://stackoverflow.com/users/3088548/rick"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 557, "favorite_count": 0, "answer_count": 2, "score": -2, "last_activity_date": 1558588410, "creation_date": 1492805312, "question_id": 43551208, "link": "https://stackoverflow.com/questions/43551208/efficient-downloading-of-10-k-filings-from-sec-website", "title": "Efficient downloading of 10-K filings from SEC website", "body": "<p>I use the following perl code to mass download 10-Ks from the SEC website.  However, I get an \"Out of memory!\" message every few hundred files when the script apparently gets stuck processing an especially large 10-K filing.  Any ideas how I can avoid this \"Out of memory!\" error for large files?</p>\n\n<pre><code>#!/usr/bin/perl\nuse strict;\nuse warnings;\nuse LWP;\n\nmy $ua = LWP::UserAgent-&gt;new;\n\nopen LOG , \"&gt;download_log.txt\" or die $!;\n######## make sure the file with the ids/urls is in the \n######## same folder as the perl script\nopen DLIST, \"downloadlist.txt\" or die $!;\nmy @file = &lt;DLIST&gt;;\n\nforeach my $line (@file) {\n        #next if 0.999 &gt; rand ;\n        #print \"Now processing file: $line\\n\" ;\n    my ($nr, $get_file) = split /,/, $line;\n    chomp $get_file;\n    $get_file = \"http://www.sec.gov/Archives/\" . $get_file;\n    if ($get_file =~ m/([0-9|-]+).txt/ ) {\n        my $filename = $nr . \".txt\";\n        open OUT, \"&gt;$filename\" or die $!;\n        print \"file $nr \\n\";\n        my $response =$ua-&gt;get($get_file);\n        if ($response-&gt;is_success) {\n            print OUT $response-&gt;content;\n            close OUT;\n        } else {\n            print LOG \"Error in $filename - $nr \\n\" ;\n        }\n    }\n}\n</code></pre>\n"}, {"tags": ["perl", "unicode", "pp-perl-par-packager"], "comments": [{"owner": {"reputation": 651, "user_id": 1091649, "user_type": "registered", "accept_rate": 86, "profile_image": "https://i.stack.imgur.com/WbI7o.png?s=128&g=1", "display_name": "cmhughes", "link": "https://stackoverflow.com/users/1091649/cmhughes"}, "edited": false, "score": 0, "creation_date": 1492972610, "post_id": 43549240, "comment_id": 74200115, "body": "I <i>think</i> this will be to do with the dynamic libraries used by the <code>GCString</code> module -- I don&#39;t think that I&#39;m telling the <code>PAR::Packer</code> module to include them, and I think this is the problem. Perhaps a helpful en-route question might be: how do I find the path to the dynamic libraries?"}], "answers": [{"tags": [], "owner": {"reputation": 2043, "user_id": 2335842, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/dda02075da146f14d3d77844c9d5056f?s=128&d=identicon&r=PG", "display_name": "optional", "link": "https://stackoverflow.com/users/2335842/optional"}, "is_accepted": true, "score": 3, "last_activity_date": 1493430007, "creation_date": 1493430007, "answer_id": 43690984, "question_id": 43549240, "link": "https://stackoverflow.com/questions/43549240/perl-par-packer-executable-with-unicodegcstring-cant-locate-object-method/43690984#43690984", "title": "Perl: par packer executable with Unicode::GCString, Can&#39;t locate object method &quot;new&quot;", "body": "<p>A solution can be to use this version of \"pp\" I call it \"ppp.pl\"</p>\n\n<pre><code>$ENV{PAR_VERBATIM}=1;\nsystem 'pp', @ARGV;\n</code></pre>\n\n<p>Details at <a href=\"https://metacpan.org/pod/distribution/PAR/lib/PAR/Environment.pod#PAR_VERBATIM\" rel=\"nofollow noreferrer\">https://metacpan.org/pod/distribution/PAR/lib/PAR/Environment.pod#PAR_VERBATIM</a></p>\n\n<p>The cause is related to this bug <a href=\"https://rt.cpan.org/Public/Bug/Display.html?id=38271\" rel=\"nofollow noreferrer\"> Bug #38271 for PAR-Packer: PodStrip does not strip \"=encoding utf8\" which cause the executable generated by pp failed to exec </a></p>\n\n<p>Also the boilerplate inside  Unicode::GCString </p>\n"}], "owner": {"reputation": 651, "user_id": 1091649, "user_type": "registered", "accept_rate": 86, "profile_image": "https://i.stack.imgur.com/WbI7o.png?s=128&g=1", "display_name": "cmhughes", "link": "https://stackoverflow.com/users/1091649/cmhughes"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 234, "favorite_count": 0, "accepted_answer_id": 43690984, "answer_count": 1, "score": 3, "last_activity_date": 1493430007, "creation_date": 1492797633, "question_id": 43549240, "link": "https://stackoverflow.com/questions/43549240/perl-par-packer-executable-with-unicodegcstring-cant-locate-object-method", "title": "Perl: par packer executable with Unicode::GCString, Can&#39;t locate object method &quot;new&quot;", "body": "<p>I'm using the <a href=\"http://search.cpan.org/~rschupp/PAR-Packer-1.036/lib/pp.pm\" rel=\"nofollow noreferrer\">PAR::Packer</a> module to create a Windows executable of a Perl script that uses the <code>Unicode::GCString</code> module. </p>\n\n<p>A stripped down version of the script is as follows:</p>\n\n<h1>mwe.pl</h1>\n\n<pre><code>#!/usr/bin/env perl\nuse strict;\nuse warnings;\nuse Unicode::GCString;\n\nmy $gcs  = Unicode::GCString-&gt;new(\"hello world\");\nprint $gcs-&gt;columns();\n\nexit(0);\n</code></pre>\n\n<p>When I run </p>\n\n<pre><code>perl mwe.pl\n</code></pre>\n\n<p>the output gives the 'width' of the string:</p>\n\n<pre><code>11\n</code></pre>\n\n<p>which is as expected.</p>\n\n<p>I create <code>mwe.exe</code> using the command</p>\n\n<pre><code> pp -o mwe.exe mwe.pl\n</code></pre>\n\n<p>and when I run </p>\n\n<pre><code> mwe.exe\n</code></pre>\n\n<p>I receive the error</p>\n\n<blockquote>\n  <p>Can't locate object method \"new\" via package \"Unicode::GCString\" at\n  script/mwe.pl line 6</p>\n</blockquote>\n\n<p>Having reviewed <code>AppData\\Local\\Temp\\par-xxxxxx\\cache-xxxxx\\inc\\lib</code>, I believe that <code>Unicode::GCString</code> is present, as is <code>Unicode::LineBreak</code>.</p>\n\n<p>Does anyone have any ideas on how to fix this?</p>\n"}, {"tags": ["perl"], "comments": [{"owner": {"reputation": 5701, "user_id": 35812, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/6e663162cefd6ac833e0555933b8583f?s=128&d=identicon&r=PG", "display_name": "Chris Charley", "link": "https://stackoverflow.com/users/35812/chris-charley"}, "edited": false, "score": 1, "creation_date": 1492789739, "post_id": 43546839, "comment_id": 74145988, "body": "See <a href=\"https://metacpan.org/pod/distribution/perl/pod/perlop.pod#Auto-increment-and-Auto-decrement\" rel=\"nofollow noreferrer\">perlop</a>"}, {"owner": {"reputation": 50468, "user_id": 1331451, "user_type": "registered", "accept_rate": 96, "profile_image": "https://i.stack.imgur.com/4ZPmj.png?s=128&g=1", "display_name": "simbabque", "link": "https://stackoverflow.com/users/1331451/simbabque"}, "reply_to_user": {"reputation": 5701, "user_id": 35812, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/6e663162cefd6ac833e0555933b8583f?s=128&d=identicon&r=PG", "display_name": "Chris Charley", "link": "https://stackoverflow.com/users/35812/chris-charley"}, "edited": false, "score": 3, "creation_date": 1492790534, "post_id": 43546839, "comment_id": 74146492, "body": "The relevant part from the link in @ChrisCharley comment is <i>Note that just as in C, Perl doesn&#39;t define when the variable is incremented or decremented. You just know it will be done sometime before or after the value is returned. This also means that modifying a variable twice in the same statement will lead to undefined behavior</i>. Anyone going to write an answer?"}, {"owner": {"reputation": 32176, "user_id": 2173773, "user_type": "registered", "accept_rate": 86, "profile_image": "https://i.stack.imgur.com/M8yh6.jpg?s=128&g=1", "display_name": "H&#229;kon H&#230;gland", "link": "https://stackoverflow.com/users/2173773/h%c3%a5kon-h%c3%a6gland"}, "edited": false, "score": 1, "creation_date": 1492792084, "post_id": 43546839, "comment_id": 74147463, "body": "Seems like <code>$a</code> is preincremented twice first, so you get <code>12 + 12 + 13</code>. You can verify this by running the script under <a href=\"https://metacpan.org/pod/B::Concise\" rel=\"nofollow noreferrer\"><code>B::Concise</code></a>"}, {"owner": {"reputation": 3472, "user_id": 4990392, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/89acc35f0339a9c7e6ae36443a23e2d9?s=128&d=identicon&r=PG&f=1", "display_name": "Dada", "link": "https://stackoverflow.com/users/4990392/dada"}, "edited": false, "score": 5, "creation_date": 1492792854, "post_id": 43546839, "comment_id": 74147934, "body": "<a href=\"http://stackoverflow.com/q/949433/4990392\">Similar question about ++ in C</a>. Just to be sure: you ask out of curiosity, and not because you tried to use such a construct right?"}, {"owner": {"reputation": 113221, "user_id": 100754, "user_type": "registered", "accept_rate": 90, "profile_image": "https://www.gravatar.com/avatar/7804ebae32fbadef38537d74a915c22f?s=128&d=identicon&r=PG", "display_name": "Sinan &#220;n&#252;r", "link": "https://stackoverflow.com/users/100754/sinan-%c3%9cn%c3%bcr"}, "edited": false, "score": 2, "creation_date": 1492810043, "post_id": 43546839, "comment_id": 74156704, "body": "The answers are all trying to explain what happens behind the scenes in this particular instance. Instead, they ought to just say &quot;don&#39;t do that&quot;. Any effort you put into understanding why a certain answer is produced will have been wasted if something simple changes from one version to another. See also the C FAQ: <a href=\"http://c-faq.com/expr/evalorder1.html\" rel=\"nofollow noreferrer\">3.1</a>, <a href=\"http://c-faq.com/expr/evalorder2.html\" rel=\"nofollow noreferrer\">3.2</a>, <a href=\"http://c-faq.com/expr/ieqiplusplus.html\" rel=\"nofollow noreferrer\">3.3</a>, and <a href=\"http://c-faq.com/expr/evalorder4.html\" rel=\"nofollow noreferrer\">3.9</a> <a href=\"http://c-faq.com/expr/index.html\" rel=\"nofollow noreferrer\">etc</a>."}], "answers": [{"tags": [], "owner": {"reputation": 53041, "user_id": 4653379, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/b3953dbedd0dabff5cbc3db9b0835b14?s=128&d=identicon&r=PG&f=1", "display_name": "zdim", "link": "https://stackoverflow.com/users/4653379/zdim"}, "is_accepted": false, "score": 5, "last_activity_date": 1492930253, "last_edit_date": 1492930253, "creation_date": 1492792918, "answer_id": 43547971, "question_id": 43546839, "link": "https://stackoverflow.com/questions/43546839/perl-increment-operator/43547971#43547971", "title": "Perl increment operator", "body": "<p>As it has been noted in comments, changing a variable multiple times within a single statement leads to undefined behavior, as explained <a href=\"http://perldoc.perl.org/perlop.html#Auto-increment-and-Auto-decrement\" rel=\"nofollow noreferrer\">in perlop</a>. </p>\n\n<p>So the exact behavior is not specified and may vary between versions and implementations.</p>\n\n<p>As to how it works out, here is one way to see it. Since <code>+</code> is a binary operator, at each operation its left-hand-side operand does get involved when <code>++</code> is executed on the other. So at each position <code>$a</code> gets <code>++</code>ed, and picks up another increment as a LHS operand. </p>\n\n<p>That means that the LHS <code>$a</code> gets incremented additionally (to its <code>++</code>) once in each <code>+</code> operation. The <code>+</code> operations after the first one must accumulate these, one extra for each extra term. With three terms here that's another +3, once. So there are altogether 7 increments.  </p>\n\n<p>Yet another (fourth)  term incurs an extra +4, etc</p>\n\n<pre><code>perl -wE'$x=10; $y = ++$x + ++$x + ++$x + ++$x; say $y'  # 4*10 + 2+2+3+4\n</code></pre>\n\n<p>This is interesting to tweak by changing <code>++$x</code> to <code>$x++</code> -- the effect depends on position.</p>\n\n<p>Increments in steps</p>\n\n<ul>\n<li><p>first <code>$a</code> gets incremented (to 11)</p></li>\n<li><p>in the first addition, as the second <code>$a</code> is incremented (to 11) the first one gets a bump as well being an operand (to 12)</p></li>\n<li><p>in the second addition, the second <code>$a</code> gets incremented (to 12) as an operand</p></li>\n<li><p>as the second addition comes up, the third <code>$a</code> is updated and thus picks up increments from both additions, plus its increment (to 13)</p></li>\n</ul>\n\n<p>The enumeration of <code>$a</code> above refers to their presence at multiple places in the statement.</p>\n"}, {"comments": [{"owner": {"reputation": 50468, "user_id": 1331451, "user_type": "registered", "accept_rate": 96, "profile_image": "https://i.stack.imgur.com/4ZPmj.png?s=128&g=1", "display_name": "simbabque", "link": "https://stackoverflow.com/users/1331451/simbabque"}, "edited": false, "score": 1, "creation_date": 1492800096, "post_id": 43548247, "comment_id": 74152088, "body": "Do you know which book covers reading the optree properly? I understand what&#39;s going on in general, but it&#39;s mostly groking, not understanding."}, {"owner": {"reputation": 110113, "user_id": 168657, "user_type": "registered", "accept_rate": 92, "profile_image": "https://www.gravatar.com/avatar/f14e7610fca39322ebbf23530def15f8?s=128&d=identicon&r=PG", "display_name": "mob", "link": "https://stackoverflow.com/users/168657/mob"}, "reply_to_user": {"reputation": 50468, "user_id": 1331451, "user_type": "registered", "accept_rate": 96, "profile_image": "https://i.stack.imgur.com/4ZPmj.png?s=128&g=1", "display_name": "simbabque", "link": "https://stackoverflow.com/users/1331451/simbabque"}, "edited": false, "score": 2, "creation_date": 1492802307, "post_id": 43548247, "comment_id": 74153162, "body": "Not really. I&#39;m also just reading the <code>B::Concise</code> output and making an educated guess about what it all means. I also know ikegami is never too far away, and he&#39;ll let me know if I screwed up the explanation   :-)"}, {"owner": {"reputation": 123805, "user_id": 622310, "user_type": "registered", "accept_rate": 33, "profile_image": "https://www.gravatar.com/avatar/8b6d35219e1808520bc238b28161e2e6?s=128&d=identicon&r=PG", "display_name": "Borodin", "link": "https://stackoverflow.com/users/622310/borodin"}, "reply_to_user": {"reputation": 50468, "user_id": 1331451, "user_type": "registered", "accept_rate": 96, "profile_image": "https://i.stack.imgur.com/4ZPmj.png?s=128&g=1", "display_name": "simbabque", "link": "https://stackoverflow.com/users/1331451/simbabque"}, "edited": false, "score": 1, "creation_date": 1492803477, "post_id": 43548247, "comment_id": 74153660, "body": "@simbabque: I found the <a href=\"http://perldoc.perl.org/perlinterp.html#OP-TREES\" rel=\"nofollow noreferrer\"><i>OP TREES</i> section of <code>perlinterp</code></a> to be a good entry point. After that, there is all of the associated <a href=\"http://perldoc.perl.org/perl.html#Internals-and-C-Language-Interface\" rel=\"nofollow noreferrer\"><code>perldoc</code> stuff on <i>Internals and C Language Interface</i></a>. It&#39;s probably best to start by familiarising yourself with what&#39;s in each document than working through trying to absorb it all. Writing XS code is good memory training."}, {"owner": {"reputation": 87649, "user_id": 17389, "user_type": "registered", "accept_rate": 38, "profile_image": "https://www.gravatar.com/avatar/cd06d1314817ce946ab796af8750b56a?s=128&d=identicon&r=PG", "display_name": "ysth", "link": "https://stackoverflow.com/users/17389/ysth"}, "edited": false, "score": 1, "creation_date": 1492812571, "post_id": 43548247, "comment_id": 74157649, "body": "often -MO=Concise,-exec is more readable; it ditches the optimized away ops and the tree and just shows the ops in order of execution"}], "tags": [], "owner": {"reputation": 110113, "user_id": 168657, "user_type": "registered", "accept_rate": 92, "profile_image": "https://www.gravatar.com/avatar/f14e7610fca39322ebbf23530def15f8?s=128&d=identicon&r=PG", "display_name": "mob", "link": "https://stackoverflow.com/users/168657/mob"}, "is_accepted": false, "score": 4, "last_activity_date": 1492793896, "creation_date": 1492793896, "answer_id": 43548247, "question_id": 43546839, "link": "https://stackoverflow.com/questions/43546839/perl-increment-operator/43548247#43548247", "title": "Perl increment operator", "body": "<p>As @H\u00e5kon H\u00e6gland pointed out, running this code under <code>B::Concise</code>, which outputs the opcodes that the Perl script generates, is illuminating. Here's are two slightly different examples than the one you provided:</p>\n\n<pre><code>$ perl -E 'say $b=$a + ((++$a)+(++$a))'\n6\n$ perl -E 'say $b=($a+(++$a)) + (++$a)'\n4\n</code></pre>\n\n<p>So what's going on here? Let's look at the opcodes:</p>\n\n<pre><code>$ perl -MO=Concise -E 'say $b=$a+((++$a)+(++$a))'\ne  &lt;@&gt; leave[1 ref] vKP/REFC -&gt;(end)\n1     &lt;0&gt; enter -&gt;2\n2     &lt;;&gt; nextstate(main 47 -e:1) v:%,{,469764096 -&gt;3\nd     &lt;@&gt; say vK -&gt;e\n3        &lt;0&gt; pushmark s -&gt;4\nc        &lt;2&gt; sassign sKS/2 -&gt;d\na           &lt;2&gt; add[t6] sK/2 -&gt;b\n-              &lt;1&gt; ex-rv2sv sK/1 -&gt;5\n4                 &lt;#&gt; gvsv[*a] s -&gt;5\n9              &lt;2&gt; add[t5] sKP/2 -&gt;a\n6                 &lt;1&gt; preinc sKP/1 -&gt;7\n-                    &lt;1&gt; ex-rv2sv sKRM/1 -&gt;6\n5                       &lt;#&gt; gvsv[*a] s -&gt;6\n8                 &lt;1&gt; preinc sKP/1 -&gt;9\n-                    &lt;1&gt; ex-rv2sv sKRM/1 -&gt;8\n7                       &lt;#&gt; gvsv[*a] s -&gt;8\n-           &lt;1&gt; ex-rv2sv sKRM*/1 -&gt;c\nb              &lt;#&gt; gvsv[*b] s -&gt;c\n-e syntax OK\n</code></pre>\n\n<p>There are no conditionals in this program. The left most column indicates the order of operations in this program. Whereever you see the <code>ex-rv2sv</code> token, that is where Perl is reading the value of an expression like a global scalar variable.</p>\n\n<p>The <code>preinc</code> operations occur at labels <code>6</code> and <code>8</code>. The <code>add</code> operations occur at labels <code>9</code> and <code>a</code>. This tells us that both increments occurred before Perl performed the additions, and so the final expression would be something like 2 + (2 + 2) = 6.</p>\n\n<p>In the other example, the opcodes look like</p>\n\n<pre><code>$ perl -MO=Concise -E 'say $b=($a+(++$a)) + (++$a)'\ne  &lt;@&gt; leave[1 ref] vKP/REFC -&gt;(end)\n1     &lt;0&gt; enter -&gt;2\n2     &lt;;&gt; nextstate(main 47 -e:1) v:%,{,469764096 -&gt;3\nd     &lt;@&gt; say vK -&gt;e\n3        &lt;0&gt; pushmark s -&gt;4\nc        &lt;2&gt; sassign sKS/2 -&gt;d\na           &lt;2&gt; add[t6] sK/2 -&gt;b\n7              &lt;2&gt; add[t4] sKP/2 -&gt;8\n-                 &lt;1&gt; ex-rv2sv sK/1 -&gt;5\n4                    &lt;#&gt; gvsv[*a] s -&gt;5\n6                 &lt;1&gt; preinc sKP/1 -&gt;7\n-                    &lt;1&gt; ex-rv2sv sKRM/1 -&gt;6\n5                       &lt;#&gt; gvsv[*a] s -&gt;6\n9              &lt;1&gt; preinc sKP/1 -&gt;a\n-                 &lt;1&gt; ex-rv2sv sKRM/1 -&gt;9\n8                    &lt;#&gt; gvsv[*a] s -&gt;9\n-           &lt;1&gt; ex-rv2sv sKRM*/1 -&gt;c\nb              &lt;#&gt; gvsv[*b] s -&gt;c\n-e syntax OK\n</code></pre>\n\n<p>Now the <code>preinc</code> operations still occur at <code>6</code> and <code>9</code>, but there is an <code>add</code> operation at label <code>7</code>, after <code>$a</code> has only be incremented one time. This makes the values used in the final expression <code>(1 + 1) + 2 = 4</code>.</p>\n\n<p>So in your example:</p>\n\n<pre><code>$ perl -MO=Concise -E '$a=10;$b=(++$a)+(++$a)+(++$a);say $b'\nl  &lt;@&gt; leave[1 ref] vKP/REFC -&gt;(end)\n1     &lt;0&gt; enter -&gt;2\n2     &lt;;&gt; nextstate(main 47 -e:1) v:%,{,469764096 -&gt;3\n5     &lt;2&gt; sassign vKS/2 -&gt;6\n3        &lt;$&gt; const[IV 10] s -&gt;4\n-        &lt;1&gt; ex-rv2sv sKRM*/1 -&gt;5\n4           &lt;#&gt; gvsv[*a] s -&gt;5\n6     &lt;;&gt; nextstate(main 47 -e:1) v:%,{,469764096 -&gt;7\ng     &lt;2&gt; sassign vKS/2 -&gt;h\ne        &lt;2&gt; add[t7] sK/2 -&gt;f\nb           &lt;2&gt; add[t5] sK/2 -&gt;c\n8              &lt;1&gt; preinc sKP/1 -&gt;9\n-                 &lt;1&gt; ex-rv2sv sKRM/1 -&gt;8\n7                    &lt;#&gt; gvsv[*a] s -&gt;8\na              &lt;1&gt; preinc sKP/1 -&gt;b\n-                 &lt;1&gt; ex-rv2sv sKRM/1 -&gt;a\n9                    &lt;#&gt; gvsv[*a] s -&gt;a\nd           &lt;1&gt; preinc sKP/1 -&gt;e\n-              &lt;1&gt; ex-rv2sv sKRM/1 -&gt;d\nc                 &lt;#&gt; gvsv[*a] s -&gt;d\n-        &lt;1&gt; ex-rv2sv sKRM*/1 -&gt;g\nf           &lt;#&gt; gvsv[*b] s -&gt;g\nh     &lt;;&gt; nextstate(main 47 -e:1) v:%,{,469764096 -&gt;i\nk     &lt;@&gt; say vK -&gt;l\ni        &lt;0&gt; pushmark s -&gt;j\n-        &lt;1&gt; ex-rv2sv sK/1 -&gt;k\nj           &lt;#&gt; gvsv[*b] s -&gt;k\n-e syntax OK\n</code></pre>\n\n<p>We see <code>preinc</code> occurring at labels <code>8</code>, <code>a</code>, and <code>d</code>. The <code>add</code> operations occur at <code>b</code> and <code>e</code>. That is, <code>$a</code> is incremented twice, then two <code>$a</code>'s are added together. Then <code>$a</code> is incremented again. Then <code>$a</code> is added to the result. So the output is <code>(12 + 12) + 13 = 37</code>.</p>\n"}, {"tags": [], "owner": {"reputation": 123805, "user_id": 622310, "user_type": "registered", "accept_rate": 33, "profile_image": "https://www.gravatar.com/avatar/8b6d35219e1808520bc238b28161e2e6?s=128&d=identicon&r=PG", "display_name": "Borodin", "link": "https://stackoverflow.com/users/622310/borodin"}, "is_accepted": false, "score": 9, "last_activity_date": 1492805672, "last_edit_date": 1492805672, "creation_date": 1492794870, "answer_id": 43548519, "question_id": 43546839, "link": "https://stackoverflow.com/questions/43546839/perl-increment-operator/43548519#43548519", "title": "Perl increment operator", "body": "<p>Perl's is executing this as</p>\n\n<pre><code>( ( $a = $a + 1 ) + ( $a = $a + 1 ) ) + ( $a = $a + 1 )\n</code></pre>\n\n<p>You have even put the <code>++$a</code> in parentheses so to say that they should happen first, before the additions, although they are of higher priority anyway</p>\n\n<p>This is centred around the fact that the assignment operator <code>=</code> returns its <em>first operand</em>, which allows operations like</p>\n\n<pre><code>(my $x = $y) =~ tr/A-Z/a-z/\n</code></pre>\n\n<p>If the result of the assignment were simply the <em>value</em> copied from <code>$y</code> to <code>$x</code> then the <code>tr///</code> would cause a <em>Can't modify a constant item</em> or the equivalent, and it would have no effect on what was stored in either variable</p>\n\n<p>Here is the variable <code>$a</code>, and the execution is as follows</p>\n\n<ul>\n<li><p>Execute the first increment, returning <code>$a</code><br>\n<code>$a</code> is now 11</p></li>\n<li><p>Execute the second increment, returning <code>$a</code> again<br>\n<code>$a</code> is now 12</p></li>\n<li><p>Execute the first addition, which adds what was returned by the two increments\u2014both <code>$a</code><br>\n<code>$a</code> is 12, so <code>$a + $a</code> is 24</p></li>\n<li><p>Execute the third increment, returning <code>$a</code> again<br>\n<code>$a</code> is now 13</p></li>\n<li><p>Execute the second addition, which adds the what was returned by the first addition (24) and the third increment (<code>$a</code>)<br>\n<code>$a</code> is 13, so <code>24 + $a</code> is 37</p></li>\n</ul>\n\n<p>Note that this should not be relied on. It is not documented anywhere except to say that it us undefined, and the behaviour could change with any release of Perl</p>\n"}, {"comments": [{"owner": {"reputation": 320771, "user_id": 589924, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/b2cf53d5a3d25f95c0db4e025aed4153?s=128&d=identicon&r=PG", "display_name": "ikegami", "link": "https://stackoverflow.com/users/589924/ikegami"}, "edited": false, "score": 2, "creation_date": 1492837447, "post_id": 43552712, "comment_id": 74162721, "body": "As this illustrates, the key is that <code>$a</code> itself is placed on the stack, not a copy of it"}], "tags": [], "owner": {"reputation": 87649, "user_id": 17389, "user_type": "registered", "accept_rate": 38, "profile_image": "https://www.gravatar.com/avatar/cd06d1314817ce946ab796af8750b56a?s=128&d=identicon&r=PG", "display_name": "ysth", "link": "https://stackoverflow.com/users/17389/ysth"}, "is_accepted": false, "score": 6, "last_activity_date": 1492812441, "creation_date": 1492812441, "answer_id": 43552712, "question_id": 43546839, "link": "https://stackoverflow.com/questions/43546839/perl-increment-operator/43552712#43552712", "title": "Perl increment operator", "body": "<p>As a complement to mob and Borodin's answer, you can see what's happening clearly if you think about how the operations are interacting with the stack and recognize that preinc returns the variable, not its value.</p>\n\n<pre><code>op | a's value | stack\n$a | 10        | $a\n++ | 11        | $a\n$a | 11        | $a $a\n++ | 12        | $a $a\n+  | 12        | 24\n$a | 12        | 24 $a\n++ | 13        | 24 $a\n+  | 13        | 37\n</code></pre>\n"}], "owner": {"reputation": 181, "user_id": 4622832, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/5eb01109b5bb4fade4033d5b3aac0f02?s=128&d=identicon&r=PG&f=1", "display_name": "Abhishek Saha", "link": "https://stackoverflow.com/users/4622832/abhishek-saha"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 6838, "favorite_count": 0, "answer_count": 4, "score": 10, "last_activity_date": 1492930253, "creation_date": 1492789285, "last_edit_date": 1492789570, "question_id": 43546839, "link": "https://stackoverflow.com/questions/43546839/perl-increment-operator", "title": "Perl increment operator", "body": "<pre><code>$a = 10; \n$b = (++$a) + (++$a) + (++$a);\nprint $b;\n</code></pre>\n\n<p>I am getting the answer 37.\nCan anybody explain how this operation is proceeding and how the result is getting 37.</p>\n\n<p>As per my logic it should be 36:</p>\n\n<pre><code>(++$a) + (++$a) + (++$a)\n   11  +    12  +    13  = 36\n</code></pre>\n\n<p>But I am getting the answer 37</p>\n"}, {"tags": ["perl", "shell", "loops", "while-loop"], "comments": [{"owner": {"reputation": 32176, "user_id": 2173773, "user_type": "registered", "accept_rate": 86, "profile_image": "https://i.stack.imgur.com/M8yh6.jpg?s=128&g=1", "display_name": "H&#229;kon H&#230;gland", "link": "https://stackoverflow.com/users/2173773/h%c3%a5kon-h%c3%a6gland"}, "edited": false, "score": 0, "creation_date": 1492785739, "post_id": 43545375, "comment_id": 74143223, "body": "It seems that in the first iteration of your loop <code>$TS</code> is empty? So output from <code>perl -e</code> is <code>&quot;,0&quot;</code>... Also, why do you expect two lines of output when <code>InputConfig.txt</code> has 3 lines"}, {"owner": {"reputation": 320771, "user_id": 589924, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/b2cf53d5a3d25f95c0db4e025aed4153?s=128&d=identicon&r=PG", "display_name": "ikegami", "link": "https://stackoverflow.com/users/589924/ikegami"}, "edited": false, "score": 1, "creation_date": 1492786213, "post_id": 43545375, "comment_id": 74143547, "body": "You have three lines of inputs, and you ask <code>perl</code> to print a line for each of those...  Are you simply missing <code>if length($ARGV[0])</code>?"}, {"owner": {"reputation": 31, "user_id": 5947820, "user_type": "registered", "accept_rate": 0, "profile_image": "https://www.gravatar.com/avatar/d4f495d1ded6255eb5ec6bffc8f10822?s=128&d=identicon&r=PG&f=1", "display_name": "ocbit", "link": "https://stackoverflow.com/users/5947820/ocbit"}, "reply_to_user": {"reputation": 32176, "user_id": 2173773, "user_type": "registered", "accept_rate": 86, "profile_image": "https://i.stack.imgur.com/M8yh6.jpg?s=128&g=1", "display_name": "H&#229;kon H&#230;gland", "link": "https://stackoverflow.com/users/2173773/h%c3%a5kon-h%c3%a6gland"}, "edited": false, "score": 0, "creation_date": 1492786768, "post_id": 43545375, "comment_id": 74143974, "body": "@H&#229;konH&#230;gland I expect 2 lines of output because those are the files which &#39;find&#39; found. The first line is not relevant to me."}, {"owner": {"reputation": 31, "user_id": 5947820, "user_type": "registered", "accept_rate": 0, "profile_image": "https://www.gravatar.com/avatar/d4f495d1ded6255eb5ec6bffc8f10822?s=128&d=identicon&r=PG&f=1", "display_name": "ocbit", "link": "https://stackoverflow.com/users/5947820/ocbit"}, "reply_to_user": {"reputation": 320771, "user_id": 589924, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/b2cf53d5a3d25f95c0db4e025aed4153?s=128&d=identicon&r=PG", "display_name": "ikegami", "link": "https://stackoverflow.com/users/589924/ikegami"}, "edited": false, "score": 0, "creation_date": 1492786898, "post_id": 43545375, "comment_id": 74144076, "body": "@ikegami I want Perl to print lines for only files which were found. I understand it will print 3 lines because of the input but is there a way to make it only print for what the find command returned?"}, {"owner": {"reputation": 32176, "user_id": 2173773, "user_type": "registered", "accept_rate": 86, "profile_image": "https://i.stack.imgur.com/M8yh6.jpg?s=128&g=1", "display_name": "H&#229;kon H&#230;gland", "link": "https://stackoverflow.com/users/2173773/h%c3%a5kon-h%c3%a6gland"}, "edited": false, "score": 0, "creation_date": 1492787010, "post_id": 43545375, "comment_id": 74144172, "body": "@ocbit Please show exactly the content of the <code>find</code> command. For example run  <code>echo &quot;$TS&quot;</code> before the <code>perl -e</code>"}, {"owner": {"reputation": 52821, "user_id": 632407, "user_type": "registered", "accept_rate": 86, "profile_image": "https://i.stack.imgur.com/AfGWW.jpg?s=128&g=1", "display_name": "jm666", "link": "https://stackoverflow.com/users/632407/jm666"}, "edited": false, "score": 1, "creation_date": 1492787379, "post_id": 43545375, "comment_id": 74144420, "body": "Simply don&#39;t understands. Here are 3x assignments <code>TS=$(..)</code> in row, so the only last one will be used. What&#39;s the point of the first two find?"}, {"owner": {"reputation": 32176, "user_id": 2173773, "user_type": "registered", "accept_rate": 86, "profile_image": "https://i.stack.imgur.com/M8yh6.jpg?s=128&g=1", "display_name": "H&#229;kon H&#230;gland", "link": "https://stackoverflow.com/users/2173773/h%c3%a5kon-h%c3%a6gland"}, "reply_to_user": {"reputation": 320771, "user_id": 589924, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/b2cf53d5a3d25f95c0db4e025aed4153?s=128&d=identicon&r=PG", "display_name": "ikegami", "link": "https://stackoverflow.com/users/589924/ikegami"}, "edited": false, "score": 0, "creation_date": 1492788017, "post_id": 43545375, "comment_id": 74144875, "body": "@ocbit A guess would be that find does not return any results for the first line in <code>InputConfig.txt</code> then the suggestion by @ikegami should work"}, {"owner": {"reputation": 31, "user_id": 5947820, "user_type": "registered", "accept_rate": 0, "profile_image": "https://www.gravatar.com/avatar/d4f495d1ded6255eb5ec6bffc8f10822?s=128&d=identicon&r=PG&f=1", "display_name": "ocbit", "link": "https://stackoverflow.com/users/5947820/ocbit"}, "reply_to_user": {"reputation": 32176, "user_id": 2173773, "user_type": "registered", "accept_rate": 86, "profile_image": "https://i.stack.imgur.com/M8yh6.jpg?s=128&g=1", "display_name": "H&#229;kon H&#230;gland", "link": "https://stackoverflow.com/users/2173773/h%c3%a5kon-h%c3%a6gland"}, "edited": false, "score": 0, "creation_date": 1492788418, "post_id": 43545375, "comment_id": 74145134, "body": "@H&#229;konH&#230;gland Yep makes sense. How would that check for length look like?"}, {"owner": {"reputation": 32176, "user_id": 2173773, "user_type": "registered", "accept_rate": 86, "profile_image": "https://i.stack.imgur.com/M8yh6.jpg?s=128&g=1", "display_name": "H&#229;kon H&#230;gland", "link": "https://stackoverflow.com/users/2173773/h%c3%a5kon-h%c3%a6gland"}, "edited": false, "score": 0, "creation_date": 1492788478, "post_id": 43545375, "comment_id": 74145178, "body": "@ocbit <code>perl -e &#39;printf(&quot;%s,%d\\n&quot;, $ARGV[0], (stat(&quot;$ARGV[0]&quot;))[9]) if length($ARGV[0])&#39; &quot;$TS&quot;</code>.. But what if <code>find</code> returns more than one result?"}, {"owner": {"reputation": 31, "user_id": 5947820, "user_type": "registered", "accept_rate": 0, "profile_image": "https://www.gravatar.com/avatar/d4f495d1ded6255eb5ec6bffc8f10822?s=128&d=identicon&r=PG&f=1", "display_name": "ocbit", "link": "https://stackoverflow.com/users/5947820/ocbit"}, "reply_to_user": {"reputation": 32176, "user_id": 2173773, "user_type": "registered", "accept_rate": 86, "profile_image": "https://i.stack.imgur.com/M8yh6.jpg?s=128&g=1", "display_name": "H&#229;kon H&#230;gland", "link": "https://stackoverflow.com/users/2173773/h%c3%a5kon-h%c3%a6gland"}, "edited": false, "score": 0, "creation_date": 1492790126, "post_id": 43545375, "comment_id": 74146234, "body": "@H&#229;konH&#230;gland Didn&#39;t think about that. Any suggestions?"}, {"owner": {"reputation": 32176, "user_id": 2173773, "user_type": "registered", "accept_rate": 86, "profile_image": "https://i.stack.imgur.com/M8yh6.jpg?s=128&g=1", "display_name": "H&#229;kon H&#230;gland", "link": "https://stackoverflow.com/users/2173773/h%c3%a5kon-h%c3%a6gland"}, "edited": false, "score": 0, "creation_date": 1492791178, "post_id": 43545375, "comment_id": 74146887, "body": "@ocbit Assuming filenames does not contain newlines, you can try this: <code>perl -e &#39;printf(&quot;%s,%d\\n&quot;, $_, (stat $_)[9]) for split &quot;\\n&quot;, $ARGV[0]&#39; &quot;$TS&quot;</code>.. (Now you can even skip the <code>&quot;if length(...)&quot;</code> part)"}, {"owner": {"reputation": 320771, "user_id": 589924, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/b2cf53d5a3d25f95c0db4e025aed4153?s=128&d=identicon&r=PG", "display_name": "ikegami", "link": "https://stackoverflow.com/users/589924/ikegami"}, "edited": false, "score": 0, "creation_date": 1492837070, "post_id": 43545375, "comment_id": 74162635, "body": "In that case, <code>printf &#39;%s&#39; &quot;$TS&quot; | perl -nle&#39;printf(&quot;%s,%d\\n&quot;, $_, (stat $_)[9])&#39;</code> would be better. The next step would be to remove <code>$TS</code> completely.   ...which is where the two posted answers went."}], "answers": [{"tags": [], "owner": {"reputation": 1009, "user_id": 2051109, "user_type": "registered", "accept_rate": 60, "profile_image": "https://www.gravatar.com/avatar/216009d45e1b8e34f936173142f0648f?s=128&d=identicon&r=PG", "display_name": "BOC", "link": "https://stackoverflow.com/users/2051109/boc"}, "is_accepted": false, "score": 0, "last_activity_date": 1492789112, "creation_date": 1492789112, "answer_id": 43546777, "question_id": 43545375, "link": "https://stackoverflow.com/questions/43545375/shell-script-while-loop-and-perl-printing-extra-line/43546777#43546777", "title": "Shell Script While Loop and Perl Printing Extra Line", "body": "<p>If I have well understood, you want to use perl to display the name and the size of the files found by previous find commands. Something like that should work:</p>\n\n<pre><code>#!/bin/ksh\n\nVI=*/CD/VI/*\nAB=*/CD/AB/*\n\ncat InputConfig.txt | while read DIR IT OT; do\n(find \"${DIR}\" -type f -path \"${DIR}/*/inbound/*\" -mmin \"+${IT}\" ! -path \"${VI}\" ! -path \"${AB}\" ;\nfind \"${DIR}\" -type f -path \"${DIR}/*/outbound/*.done\" -mmin \"+${OT}\" ;\nfind \"${DIR}\" -type f -path \"${DIR}/inbound/*\" -mmin +\"${IT}\") |\nxargs -l perl -e 'printf(\"%s,%d\\n\", $ARGV[0], (stat(\"$ARGV[0]\"))[9]);'\ndone\n</code></pre>\n"}, {"tags": [], "owner": {"reputation": 52821, "user_id": 632407, "user_type": "registered", "accept_rate": 86, "profile_image": "https://i.stack.imgur.com/AfGWW.jpg?s=128&g=1", "display_name": "jm666", "link": "https://stackoverflow.com/users/632407/jm666"}, "is_accepted": false, "score": 3, "last_activity_date": 1492790324, "creation_date": 1492790324, "answer_id": 43547162, "question_id": 43545375, "link": "https://stackoverflow.com/questions/43545375/shell-script-while-loop-and-perl-printing-extra-line/43547162#43547162", "title": "Shell Script While Loop and Perl Printing Extra Line", "body": "<p>The script has many problems:</p>\n\n<ul>\n<li>it assigns 3x in row the <code>TS</code> variable, so, only the last one will be used. The first two runs of the <code>find</code> is pointless - so probably you want achieve something else.</li>\n<li>youre getting the <code>mtime</code> using <code>perl</code>. It is cool idea if you will read the filenames from the <code>stdin</code> and not starting perl X times. In such case will be faster to use the <code>stat</code> shell command - with other words, you want read the filenames from the <code>stdin</code>.</li>\n<li><strong>always</strong> use <code>read -r</code> (unless you know why do not want the <code>-r</code>) :)</li>\n<li>useless use of <code>cat</code>. Just redirect the whole loop input from a file</li>\n</ul>\n\n<p>So, the script could probably looks like:</p>\n\n<pre class=\"lang-bash prettyprint-override\"><code>#!/bin/ksh\n\nVI=*/CD/VI/*\nAB=*/CD/AB/*\n\nwhile read -r DIR IT OT; do\n    find \"${DIR}\" -type f -path \"${DIR}/*/inbound/*\" -mmin \"+${IT}\" ! -path \"${VI}\" ! -path \"${AB}\" -print\n    find \"${DIR}\" -type f -path \"${DIR}/*/outbound/*.done\" -mmin \"+${OT}\" -print\n    find \"${DIR}\" -type f -path \"${DIR}/inbound/*\" -mmin +\"${IT}\" -print\ndone &lt; InputConfig.txt | perl -lne 'printf \"%s,%d\\n\", $_, (stat($_))[9];'\n</code></pre>\n\n<p>This is more <code>ksh</code> and/or <code>shell</code> question as <code>perl</code>. :)</p>\n"}, {"tags": [], "owner": {"reputation": 31, "user_id": 5947820, "user_type": "registered", "accept_rate": 0, "profile_image": "https://www.gravatar.com/avatar/d4f495d1ded6255eb5ec6bffc8f10822?s=128&d=identicon&r=PG&f=1", "display_name": "ocbit", "link": "https://stackoverflow.com/users/5947820/ocbit"}, "is_accepted": false, "score": 0, "last_activity_date": 1493301712, "creation_date": 1493301712, "answer_id": 43660072, "question_id": 43545375, "link": "https://stackoverflow.com/questions/43545375/shell-script-while-loop-and-perl-printing-extra-line/43660072#43660072", "title": "Shell Script While Loop and Perl Printing Extra Line", "body": "<p>Thanks everyone for your input but I went back to my original <code>if-else</code> method of script since my TIBCO project from which I am calling the script was not liking the output format.</p>\n\n<p>My script, invoked like <code>./CDFindFiles /home/NA/CD/</code>:</p>\n\n<pre><code>#!/bin/ksh\n\nFOLDER=$1\nVI=*/CD/VI/inbound\nAB=*/CD/AB/inbound\n\nfind \"$FOLDER\" -type f -path \"${FOLDER}*/inbound/*\" -o -path \"${FOLDER}*/outbound/*.done\" | while read line;\n do\n  MODTIME=$(perl -e 'printf \"%d\\n\",(-M shift)*24*60' \"$line\")\n  if [[ \"$line\" == *\"$VI\"* &amp;&amp; \"$MODTIME\" -gt 90 || \"$line\" == *\"$AB\"* &amp;&amp; \"$MODTIME\" -gt 180 ]]; then\n   perl -e 'printf(\"%s,%d\\n\", $ARGV[0], (stat(\"$ARGV[0]\"))[9]);' \"$line\"\n  elif [[ \"$line\" != *\"$VI\"* &amp;&amp; \"$line\" != *\"$AB\"* &amp;&amp;  \"$MODTIME\" -gt 30 ]]; then\n    perl -e 'printf(\"%s,%d\\n\", $ARGV[0], (stat(\"$ARGV[0]\"))[9]);' \"$line\"\n   fi\n done\n</code></pre>\n"}], "owner": {"reputation": 31, "user_id": 5947820, "user_type": "registered", "accept_rate": 0, "profile_image": "https://www.gravatar.com/avatar/d4f495d1ded6255eb5ec6bffc8f10822?s=128&d=identicon&r=PG&f=1", "display_name": "ocbit", "link": "https://stackoverflow.com/users/5947820/ocbit"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 113, "favorite_count": 0, "answer_count": 3, "score": 0, "last_activity_date": 1493301712, "creation_date": 1492785261, "question_id": 43545375, "link": "https://stackoverflow.com/questions/43545375/shell-script-while-loop-and-perl-printing-extra-line", "title": "Shell Script While Loop and Perl Printing Extra Line", "body": "<p>I modified a script which a poster gave me from another board to better suit my needs. InputConfig.txt contains directories to find files in, the inbound file age (second column) and the outbound file age (third column). These inbound/outbound numbers for each directory don't have to be the same, I just made them so. Most important is VI and AB directories have specific age to check against, everything else uses the generic 30 minutes.</p>\n\n<p>Perl statement purpose is to capture the timestamp of each file found. The problem is the <code>printf</code> is putting an extra line because the while loop is reading 3 lines but I only need the 2 lines (or however many) to print.</p>\n\n<p>I don't know Perl well enough to fix it - if the problem is with Perl.</p>\n\n<p>Appreciate the help.</p>\n\n<p>InputConfig.txt</p>\n\n<pre><code>/home/MF/NA/CD 30 30\n/home/MF/NA/CD/VI 10 10\n/home/MF/NA/CD/AB 15 15\n</code></pre>\n\n<p>Script</p>\n\n<pre><code>#!/bin/ksh\n\nVI=*/CD/VI/*\nAB=*/CD/AB/*\n\ncat InputConfig.txt | while read DIR IT OT; do\nTS=$(find \"${DIR}\" -type f -path \"${DIR}/*/inbound/*\" -mmin \"+${IT}\" ! -path \"${VI}\" ! -path \"${AB}\")\nTS=$(find \"${DIR}\" -type f -path \"${DIR}/*/outbound/*.done\" -mmin \"+${OT}\")\nTS=$(find \"${DIR}\" -type f -path \"${DIR}/inbound/*\" -mmin +\"${IT}\")\nperl -e 'printf(\"%s,%d\\n\", $ARGV[0], (stat(\"$ARGV[0]\"))[9]);' \"$TS\" \ndone\n</code></pre>\n\n<p>Output:</p>\n\n<pre><code>,0\n/home/MF/NA/CD/VI/inbound/vis,1492716168\n/home/MF/NA/CD/AB/inbound/abc,1492716485\n</code></pre>\n\n<p>Desired Output</p>\n\n<pre><code>/home/MF/NA/CD/VI/inbound/vis,1492716168\n/home/MF/NA/CD/AB/inbound/abc,1492716485\n</code></pre>\n"}, {"tags": ["perl", "subroutine"], "comments": [{"owner": {"reputation": 32176, "user_id": 2173773, "user_type": "registered", "accept_rate": 86, "profile_image": "https://i.stack.imgur.com/M8yh6.jpg?s=128&g=1", "display_name": "H&#229;kon H&#230;gland", "link": "https://stackoverflow.com/users/2173773/h%c3%a5kon-h%c3%a6gland"}, "edited": false, "score": 2, "creation_date": 1492784780, "post_id": 43545175, "comment_id": 74142485, "body": "You use <code>$sequence[0]</code>, but you have not declared <code>@sequence</code>. In Perl, <code>$sequence</code> and <code>@sequence</code> are two different variables"}, {"owner": {"user_type": "does_not_exist", "display_name": "user2404501"}, "edited": false, "score": 4, "creation_date": 1492784858, "post_id": 43545175, "comment_id": 74142539, "body": "Also, the assignment <code>$i=$HD</code> is probably not what you meant. Normally some kind of comparison goes there."}, {"owner": {"reputation": 52334, "user_id": 702638, "user_type": "registered", "accept_rate": 98, "profile_image": "https://www.gravatar.com/avatar/892f65bc0a8a0949ab88598de7d83cab?s=128&d=identicon&r=PG", "display_name": "Hunter McMillen", "link": "https://stackoverflow.com/users/702638/hunter-mcmillen"}, "edited": false, "score": 5, "creation_date": 1492784867, "post_id": 43545175, "comment_id": 74142548, "body": "<code>$sequence[0]</code> is how you access an element of an array named <code>@sequence</code>. Perl correctly notes that it doesn&#39;t know anything about a variable named <code>@sequence</code>. You are likely passing an array <i>reference</i>, which should be accessed with a dereferencing arrow: <code>$sequence-&gt;[0]</code>"}], "answers": [{"comments": [{"owner": {"reputation": 654, "user_id": 6934386, "user_type": "registered", "accept_rate": 73, "profile_image": "https://www.gravatar.com/avatar/278a5391531847eac423e6a9ea44ab92?s=128&d=identicon&r=PG&f=1", "display_name": "Kyle Weise", "link": "https://stackoverflow.com/users/6934386/kyle-weise"}, "edited": false, "score": 0, "creation_date": 1492786020, "post_id": 43545595, "comment_id": 74143422, "body": "Whoops, just edited the question. Meant to be <code>$i</code> and no 0"}], "tags": [], "owner": {"reputation": 87649, "user_id": 17389, "user_type": "registered", "accept_rate": 38, "profile_image": "https://www.gravatar.com/avatar/cd06d1314817ce946ab796af8750b56a?s=128&d=identicon&r=PG", "display_name": "ysth", "link": "https://stackoverflow.com/users/17389/ysth"}, "is_accepted": false, "score": 0, "last_activity_date": 1492785806, "creation_date": 1492785806, "answer_id": 43545595, "question_id": 43545175, "link": "https://stackoverflow.com/questions/43545175/what-is-wrong-with-this-perl-subroutine/43545595#43545595", "title": "What is wrong with this Perl subroutine?", "body": "<p>It looks to me like you want</p>\n\n<pre><code>substring($sequence, 0, 1)\n</code></pre>\n\n<p>instead of</p>\n\n<pre><code>$sequence[0].\n</code></pre>\n\n<p>In Perl, strings are first class variables, not a type of array.</p>\n\n<p>Or maybe you want <code>splice(@l, $sequence-&gt;[0])</code>?</p>\n"}, {"comments": [{"owner": {"reputation": 113221, "user_id": 100754, "user_type": "registered", "accept_rate": 90, "profile_image": "https://www.gravatar.com/avatar/7804ebae32fbadef38537d74a915c22f?s=128&d=identicon&r=PG", "display_name": "Sinan &#220;n&#252;r", "link": "https://stackoverflow.com/users/100754/sinan-%c3%9cn%c3%bcr"}, "reply_to_user": {"reputation": 320771, "user_id": 589924, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/b2cf53d5a3d25f95c0db4e025aed4153?s=128&d=identicon&r=PG", "display_name": "ikegami", "link": "https://stackoverflow.com/users/589924/ikegami"}, "edited": false, "score": 0, "creation_date": 1492787196, "post_id": 43545755, "comment_id": 74144304, "body": "@ikegami Thank you for pointing those out. I am not sure if the usage of <code>splice</code> in the original snippet is what the OP intended, but taking it at face value, I tried to incorporate your feedback."}, {"owner": {"reputation": 654, "user_id": 6934386, "user_type": "registered", "accept_rate": 73, "profile_image": "https://www.gravatar.com/avatar/278a5391531847eac423e6a9ea44ab92?s=128&d=identicon&r=PG&f=1", "display_name": "Kyle Weise", "link": "https://stackoverflow.com/users/6934386/kyle-weise"}, "edited": false, "score": 0, "creation_date": 1492788098, "post_id": 43545755, "comment_id": 74144932, "body": "The splice line was intended to remove the base at the current position. Example, <code>$sequence = &quot;ATG&quot;;</code> and <code>$HD = 1;</code>  At position 0, I want to remove <code>A</code>, and be left with just <code>C T G</code>. Similarly for positon 1, remove <code>T</code> and be left with <code>A C G</code>, etc."}, {"owner": {"reputation": 113221, "user_id": 100754, "user_type": "registered", "accept_rate": 90, "profile_image": "https://www.gravatar.com/avatar/7804ebae32fbadef38537d74a915c22f?s=128&d=identicon&r=PG", "display_name": "Sinan &#220;n&#252;r", "link": "https://stackoverflow.com/users/100754/sinan-%c3%9cn%c3%bcr"}, "edited": false, "score": 0, "creation_date": 1492790265, "post_id": 43545755, "comment_id": 74146317, "body": "So, is <code>$sequence</code> a simple scalar or a reference to an array?"}, {"owner": {"reputation": 654, "user_id": 6934386, "user_type": "registered", "accept_rate": 73, "profile_image": "https://www.gravatar.com/avatar/278a5391531847eac423e6a9ea44ab92?s=128&d=identicon&r=PG&f=1", "display_name": "Kyle Weise", "link": "https://stackoverflow.com/users/6934386/kyle-weise"}, "edited": false, "score": 0, "creation_date": 1492791435, "post_id": 43545755, "comment_id": 74147060, "body": "@Sinan&#220;n&#252;r a reference to an array, yes. So that I&#39;ll be able to input a sequence (array) into <code>generate_d_neighbors</code> and replace each position&#39;s letter of the sequence with the 3 other possible letters."}, {"owner": {"reputation": 113221, "user_id": 100754, "user_type": "registered", "accept_rate": 90, "profile_image": "https://www.gravatar.com/avatar/7804ebae32fbadef38537d74a915c22f?s=128&d=identicon&r=PG", "display_name": "Sinan &#220;n&#252;r", "link": "https://stackoverflow.com/users/100754/sinan-%c3%9cn%c3%bcr"}, "edited": false, "score": 0, "creation_date": 1492805141, "post_id": 43545755, "comment_id": 74154494, "body": "<code>splice(@x, 2)</code> deletes everything from index 2 on. It seems you need <code>grep</code>."}], "tags": [], "owner": {"reputation": 113221, "user_id": 100754, "user_type": "registered", "accept_rate": 90, "profile_image": "https://www.gravatar.com/avatar/7804ebae32fbadef38537d74a915c22f?s=128&d=identicon&r=PG", "display_name": "Sinan &#220;n&#252;r", "link": "https://stackoverflow.com/users/100754/sinan-%c3%9cn%c3%bcr"}, "is_accepted": false, "score": 4, "last_activity_date": 1492787073, "last_edit_date": 1492787073, "creation_date": 1492786281, "answer_id": 43545755, "question_id": 43545175, "link": "https://stackoverflow.com/questions/43545175/what-is-wrong-with-this-perl-subroutine/43545755#43545755", "title": "What is wrong with this Perl subroutine?", "body": "<p>There are some problems with your code:</p>\n\n<pre><code>sub generate_d_neighbors{\n    my ($sequence, $HD) = @_;\n\n    for(my $i = 0; $i=$HD; $i++){\n        my @l = ['A', 'C', 'T', 'G'];\n        my @t = splice(@l,$sequence[$i]);  \n    }\n}\n</code></pre>\n\n<p>First, let's look at</p>\n\n<pre><code>    for(my $i = 0; $i=$HD; $i++){\n</code></pre>\n\n<p>Assuming <code>$HD</code> is nonzero, this loop will never terminate because the condition will never be false. If you wanted <code>$i</code> to range from <code>0</code> to <code>$HD</code>, writing the statement as <code>for my $i (0 .. $HD)</code> would have been better.</p>\n\n<p>Second, you have</p>\n\n<pre><code>        my @t = splice(@l,$sequence[$i]);  \n</code></pre>\n\n<p>where you seem to assume there is an array <code>@sequence</code> and you are trying to access its first element. However, <code>$sequence</code> is a reference to an array. Therefore, you should use</p>\n\n<pre><code>$sequence-&gt;[$i]\n</code></pre>\n\n<p>Third (thanks @Ikegami), you have</p>\n\n<pre><code>        my @l = ['A', 'C', 'T', 'G'];\n</code></pre>\n\n<p>in the body of the <code>for</code>-loop. Then <code>@l</code> will contain a single element, a reference to an anonymous array containing the elements <code>'A'</code>, <code>'C'</code>, <code>'T'</code>, and <code>'G'</code>. Instead, use:</p>\n\n<pre><code>my @l = qw(A C T G);\n</code></pre>\n\n<p>I am not sure exactly what you want to achieve with <code>splice(@l, $sequence-&gt;[$i])</code>, but that can be better written as:</p>\n\n<pre><code> my @t = @l[0 .. ($sequence-&gt;[$i] - 1)];  \n</code></pre>\n\n<p>In fact, you could reduce the two assignments to:</p>\n\n<pre><code> my @t = qw(A C T G)[0 .. ($sequence-&gt;[$i] - 1)];\n</code></pre>\n"}, {"tags": [], "owner": {"user_type": "does_not_exist", "display_name": "user2404501"}, "is_accepted": false, "score": 0, "last_activity_date": 1492786989, "creation_date": 1492786989, "answer_id": 43546044, "question_id": 43545175, "link": "https://stackoverflow.com/questions/43545175/what-is-wrong-with-this-perl-subroutine/43546044#43546044", "title": "What is wrong with this Perl subroutine?", "body": "<p>This list-assignment syntax:</p>\n\n<pre><code>my (@sequence, $HD) = @_;\n</code></pre>\n\n<p>doesn't do what you might want it to do (put the last argument in <code>$HD</code> and the rest in <code>@sequence</code>). The array always takes all the arguments it can, leaving none for whatever comes after it.</p>\n\n<p>Reversing the order can work, for cases where there is only one array:</p>\n\n<pre><code>my ($HD, @sequence) = @_;\n</code></pre>\n\n<p>and you make the corresponding change in the caller.</p>\n\n<p>To solve the problem more generally, use a reference:</p>\n\n<pre><code>my ($sequence, $HD) = @_;\n</code></pre>\n\n<p>and call the sub like this:</p>\n\n<pre><code>generate_d_neighbors(\\@foo, $bar);\n</code></pre>\n\n<p>or this:</p>\n\n<pre><code># Note the brackets, which make an array reference, unlike parentheses\n# which would result in a flat list.\ngenerate_d_neighbors([...], 42);\n</code></pre>\n\n<p>If you use a prototype:</p>\n\n<pre><code>sub generate_d_neighbors (\\@$)\n</code></pre>\n\n<p>then the caller can say</p>\n\n<pre><code>generate_d_neighbors(@foo, $bar);\n</code></pre>\n\n<p>and the <code>@foo</code> automatically becomes a reference as if it had been<code>\\@foo</code>.</p>\n\n<p>If you use any of the reference-based solutions, you must alter the body of the function to use <code>$sequence</code> instead of <code>@sequence</code>, following these rules:</p>\n\n<ol>\n<li>Change <code>@sequence</code> to <code>@$sequence</code></li>\n<li>Change <code>$#sequence</code> to <code>$#$sequence</code></li>\n<li>Change <code>$sequence[...]</code> to <code>$sequence-&gt;[...]</code></li>\n<li>Change <code>@sequence[...]</code> to <code>@$sequence[...]</code> (but be sure you really meant to use an array slice... if you're new to perl you probably didn't mean it, and should have used <code>$sequence[...]</code> instead)</li>\n</ol>\n"}], "owner": {"reputation": 654, "user_id": 6934386, "user_type": "registered", "accept_rate": 73, "profile_image": "https://www.gravatar.com/avatar/278a5391531847eac423e6a9ea44ab92?s=128&d=identicon&r=PG&f=1", "display_name": "Kyle Weise", "link": "https://stackoverflow.com/users/6934386/kyle-weise"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 123, "favorite_count": 0, "answer_count": 3, "score": -1, "last_activity_date": 1492787073, "creation_date": 1492784676, "last_edit_date": 1492786505, "question_id": 43545175, "link": "https://stackoverflow.com/questions/43545175/what-is-wrong-with-this-perl-subroutine", "title": "What is wrong with this Perl subroutine?", "body": "<p>I'm trying to implement a subroutine that calculates the d-neighbors of an input string. This is apart of an implementation of <a href=\"https://en.wikipedia.org/wiki/Planted_motif_search\" rel=\"nofollow noreferrer\">planted motif search</a>, but my question is much more general. Here is the code:</p>\n\n<pre><code>#subroutine for generating d-neighbors\nsub generate_d_neighbors{\n    # $sequence is the sequence to generate d-neighbors from\n    # $HD is the Hamming Distance\n    my ($sequence, $HD) = @_;\n\n    for(my $i = 0; $i=$HD; $i++){\n        my @l = ['A', 'C', 'T', 'G'];\n        my @t = splice(@l,$sequence[$i]);  \n       #TODO\n    }\n}\n</code></pre>\n\n<p>The error is occurring at the last line, saying that: </p>\n\n<p><code>Global symbol \"@sequence\" requires explicit package name (did you forget to declare \"my @sequence\"?</code></p>\n\n<p>It was my understanding that Perl does not take parameters in the form <code>subroutine(param1, param2)</code> like in Java for example, but why is <code>$sequence</code> not being recognized as already having been initialized?</p>\n"}, {"tags": ["perl"], "comments": [{"owner": {"reputation": 110113, "user_id": 168657, "user_type": "registered", "accept_rate": 92, "profile_image": "https://www.gravatar.com/avatar/f14e7610fca39322ebbf23530def15f8?s=128&d=identicon&r=PG", "display_name": "mob", "link": "https://stackoverflow.com/users/168657/mob"}, "edited": false, "score": 2, "creation_date": 1492784264, "post_id": 43544995, "comment_id": 74142112, "body": "A package you wrote? Or a package someone else wrote such as something from CPAN?"}, {"owner": {"reputation": 113221, "user_id": 100754, "user_type": "registered", "accept_rate": 90, "profile_image": "https://www.gravatar.com/avatar/7804ebae32fbadef38537d74a915c22f?s=128&d=identicon&r=PG", "display_name": "Sinan &#220;n&#252;r", "link": "https://stackoverflow.com/users/100754/sinan-%c3%9cn%c3%bcr"}, "edited": false, "score": 0, "creation_date": 1492784315, "post_id": 43544995, "comment_id": 74142139, "body": "Depends. Is it available on CPAN? Can you try using it without installing system-wide? In fact, it is better not to mess with the system&#39;s <code>perl</code> and instead build your own, and install and test whatever modules you need."}, {"owner": {"reputation": 23, "user_id": 6469205, "user_type": "registered", "accept_rate": 0, "profile_image": "https://www.gravatar.com/avatar/43329c604a193aa6cf931fd462fc8d3f?s=128&d=identicon&r=PG&f=1", "display_name": "HariHaran", "link": "https://stackoverflow.com/users/6469205/hariharan"}, "edited": false, "score": 0, "creation_date": 1492784528, "post_id": 43544995, "comment_id": 74142283, "body": "Hi Mob, I took from CPAN."}], "answers": [{"tags": [], "owner": {"reputation": 50468, "user_id": 1331451, "user_type": "registered", "accept_rate": 96, "profile_image": "https://i.stack.imgur.com/4ZPmj.png?s=128&g=1", "display_name": "simbabque", "link": "https://stackoverflow.com/users/1331451/simbabque"}, "is_accepted": false, "score": 1, "last_activity_date": 1492790022, "last_edit_date": 1492790022, "creation_date": 1492788535, "answer_id": 43546596, "question_id": 43544995, "link": "https://stackoverflow.com/questions/43544995/how-can-i-know-if-a-perl-package-is-suitable-to-install-in-aix/43546596#43546596", "title": "How can i know if a perl package is suitable to install in AIX?", "body": "<p>The Perl community provides a part of the Perl ecosystem called <a href=\"http://www.cpantesters.org/\" rel=\"nofollow noreferrer\">cpantesters</a>. There are people running <a href=\"https://en.wikipedia.org/wiki/Smoke_testing_(software)\" rel=\"nofollow noreferrer\">smoke tests</a> on all different kinds of platforms for pretty much everything on CPAN and on many different Perl versions. <a href=\"http://wiki.cpantesters.org/wiki/WhatIsCPANTesters\" rel=\"nofollow noreferrer\">The goal of this</a> is to ensure high quality standards, even though most of the Perl world is open source and no-one gets paid for anything.</p>\n\n<p><a href=\"http://stats.cpantesters.org/pmatrix-full.html\" rel=\"nofollow noreferrer\">There is a full list</a> of all platforms that have had test reports submitted. <code>aix</code> is in there, but the list of Perls seems to be a little bit outdated. I'm not aware of a way to search distributions by platform with positive reports though. </p>\n\n<p>I went through the <a href=\"http://stats.cpantesters.org/interest.html\" rel=\"nofollow noreferrer\">list of interesting stats</a> with the most reported modules and simply tried a few of them to see if <code>aix</code> is there. Turns out <a href=\"http://matrix.cpantesters.org/?dist=Module-Runtime\" rel=\"nofollow noreferrer\">Module::Runtime has one report</a> on <code>aix</code> for Perl 5.19.7 (which is a developer release) which passed. You can see it <a href=\"http://matrix.cpantesters.org/?dist=Module-Runtime;os=aix;perl=5.19.7;reports=1\" rel=\"nofollow noreferrer\">here</a>.</p>\n\n<p>You can see the top testers (as in people sending reports) for <code>aix</code> <a href=\"http://stats.cpantesters.org/leaders/leaders-aix-all.html\" rel=\"nofollow noreferrer\">here</a>. Unfortunately there seems to be no way to search by reporter, so that is not of much help.</p>\n\n<p>The easiest way to see if a module you want will work on your platform is by looking at its test reports. metacpan offers a handy <em>Testers</em> link that also shows averages for test reports in the left hand sidebar.</p>\n\n<p><a href=\"https://i.stack.imgur.com/v2jfV.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/v2jfV.png\" alt=\"screenshot of https://metacpan.org/pod/Data::Dumper\"></a></p>\n\n<p>If you decide to try building modules on your aix platform, please consider sending test reports of both passes and failures to cpantesters. I find <a href=\"https://metacpan.org/pod/App::cpanminus::reporter\" rel=\"nofollow noreferrer\"><code>cpanm-reporter</code></a> to be a very useful tool for this.</p>\n\n<p>If you have more questions about cpantesters and aspects of building stuff on this specific system, you should consider asking in <em>#toolchain</em> or <em>#perl-qa</em> on irc.perl.org, where you can talk to some of the people that built this infrastructure.</p>\n\n<p>There is also <a href=\"http://perldoc.perl.org/perlaix.html\" rel=\"nofollow noreferrer\">a page called <code>perlaix</code> in perldoc</a> that might be interesting for you. It lists information about how to compile Perl itself on aix.</p>\n"}], "owner": {"reputation": 23, "user_id": 6469205, "user_type": "registered", "accept_rate": 0, "profile_image": "https://www.gravatar.com/avatar/43329c604a193aa6cf931fd462fc8d3f?s=128&d=identicon&r=PG&f=1", "display_name": "HariHaran", "link": "https://stackoverflow.com/users/6469205/hariharan"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 38, "favorite_count": 0, "answer_count": 1, "score": 0, "last_activity_date": 1492790022, "creation_date": 1492784164, "question_id": 43544995, "link": "https://stackoverflow.com/questions/43544995/how-can-i-know-if-a-perl-package-is-suitable-to-install-in-aix", "title": "How can i know if a perl package is suitable to install in AIX?", "body": "<p>I am having a perl package, before providing the same to my unix admin, he told me to check whether this package is suitable to install in AIX or not, Can some one please let me know how can i check that?</p>\n\n<p>Regards\nHari.</p>\n"}, {"tags": ["android", "linux", "perl", "gcc", "cross-compiling"], "owner": {"reputation": 163, "user_id": 3129901, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/16a8584ba9ae1c8047825ccb8892d510?s=128&d=identicon&r=PG&f=1", "display_name": "Fabman22", "link": "https://stackoverflow.com/users/3129901/fabman22"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 471, "favorite_count": 0, "answer_count": 0, "score": 3, "last_activity_date": 1492783346, "creation_date": 1492783346, "question_id": 43544740, "link": "https://stackoverflow.com/questions/43544740/crosscompile-perl-for-android-x86", "title": "Crosscompile Perl for Android x86", "body": "<p>I like to crosscompile Perl for the Android x86 emulator. But I got a PIE (position independent executables) error on running Configure... Based on <a href=\"https://medium.com/@appmattus/embedding-perl-on-android-b271a1f4b013\" rel=\"nofollow noreferrer\">this</a> and <a href=\"http://perltricks.com/article/97/2014/6/16/How-to-build-Perl-on-Android-4-4/\" rel=\"nofollow noreferrer\">this</a> tutorial. </p>\n\n<p>Specs:</p>\n\n<ul>\n<li>NDK version 14</li>\n<li>Perl 5.22.1.</li>\n<li>x86 Android emulator built with AOSP - Android 7.1.1</li>\n</ul>\n\n<p>I set following variables:</p>\n\n<pre><code>export ANDROID_NDK=/home/fabian/Android/Sdk/ndk-bundle\nexport TARGET_ARCH=x86\nexport ANDROID_TOOLCHAIN=/tmp/toolchain-x86\nexport SYSROOT=$ANDROID_TOOLCHAIN/sysroot\nexport TARGETDIR=/data/local/perl\nexport GCC=i686-linux-android-gcc\nexport PATH=$PATH:$ANDROID_NDK/toolchains/x86-4.9/prebuilt/linux-x86_64/bin\n</code></pre>\n\n<p>Then I build the toolchain with following command:</p>\n\n<pre><code>$ANDROID_NDK/build/tools/make-standalone-toolchain.sh --platform=android-23 --install-dir=$ANDROID_TOOLCHAIN --toolchain=x86-4.9\n</code></pre>\n\n<p>and get this (correct?) output:</p>\n\n<pre><code>HOST_OS=linux\nHOST_EXE=\nHOST_ARCH=x86_64\nHOST_TAG=linux-x86_64\nHOST_NUM_CPUS=4\nBUILD_NUM_CPUS=8\nAuto-config: --arch=x86\nToolchain installed to /tmp/toolchain-x86.\n</code></pre>\n\n<p>Then I start the <code>./Configure</code> command:</p>\n\n<pre><code>./Configure -des -Dusedevel -Dusecrosscompile -Dtargetrun=adb -Dcc=i686-linux-android-gcc -Dsysroot=$SYSROOT -Dtargetdir=$TARGETDIR -Dtargethost=emulator-5554\n</code></pre>\n\n<p>and got this output:</p>\n\n<pre>\n\n    First let's make sure your kit is complete.  Checking...\n    Would you like to see the instructions? [n]  \n    Locating common programs...\n    Checking compatibility between /bin/echo and builtin echo (if any)...\n    Symbolic links are supported.\n    Checking how to test for symbolic links...\n    You can test for symbolic links with 'test -h'.\n    Using targetarch i686-linux-android.\n    Using targethost emulator-5554.\n    Building host miniperl and generate_uudmap binaries\n    Using targethost emulator-5554.\n    Guessing targetuser root.\n    Guessing targetport 22.\n    Using '/home/fabian/Desktop/Testimages/perl-5.22.1/Cross/run-adb' for remote execution,\n    and '/home/fabian/Desktop/Testimages/perl-5.22.1/Cross/from-scp' and '/home/fabian/Desktop/Testimages/perl-5.22.1/Cross/to-scp'\n    for remote file transfer.\n    Good, your tr supports [:lower:] and [:upper:] to convert case.\n    Using [:upper:] and [:lower:] to convert case.\n    aix_3         dragonfly       irix_4        nonstopux     stellar   \n    aix_4         dynixptx        irix_5        openbsd       sunos_4_0   \n    aix           dynix           irix_6_0      opus          sunos_4_1   \n    altos486      epix            irix_6_1      os2           super-ux   \n    amigaos       esix4           irix_6        os390         svr4   \n    atheos        fps             isc_2         os400         svr5   \n    aux_3         freebsd         isc           posix-bc      ti1500   \n    bitrig        freemint        linux-android     powerux       ultrix_4   \n    bsdos         genix           linux         qnx           umips   \n    catamount     gnukfreebsd     lynxos        riscos        unicosmk   \n    convexos      gnuknetbsd      midnightbsd       sco_2_3_0     unicos   \n    cxux          gnu             mips          sco_2_3_1     unisysdynix   \n    cygwin        greenhills      mirbsd        sco_2_3_2     utekv   \n    darwin        haiku           mpc           sco_2_3_3     uwin   \n    dcosx         hpux            ncr_tower     sco_2_3_4     vos   \n    dec_osf       i386            netbsd        sco   \n    dos_djgpp     interix         newsos4       solaris_2   \n    Which of these apply, if any? [linux-android]  \n    <b>\"./a.out\": error: only position independent executables (PIE) are supported.\n    Aborted</b> \n\n    <b>You don't have an ELF gcc.  I will use dld if possible.  If you are\n    using a version of DLD earlier than 3.2.6, or don't have it at all, you\n    should probably upgrade. If you are forced to use 3.2.4, you should\n    uncomment a couple of lines in hints/linux.sh and restart Configure so\n    that shared libraries will be disallowed.</b>\n\n\n    Disabling ndbm.  This will generate a Whoa There message in Configure.\n    Read hints/linux.sh for further information.\n    Operating system name? [linux-android]  \n    Operating system version? [7.1.1]  \n    Installation prefix to use? (~name ok) [/usr/local]  \n    AFS does not seem to be running...\n    What installation prefix should I use for installing files? (~name ok)\n    [/usr/local]  \n    Getting the current patchlevel...\n    Build a threading Perl? [n]  \n    Build Perl for multiplicity? [n]  \n    <b>Use which C compiler? [i686-linux-android-gcc]  \n    Checking for GNU cc in disguise and/or its version number...\n    \"./try\": error: only position independent executables (PIE) are supported.\n    Aborted </b>\n    Now, how can we feed standard input to your C preprocessor...\n    Directories to use for library searches?\n    [/tmp/toolchain-x86/sysroot/usr/lib/../lib /tmp/toolchain-x86/sysroot/usr/lib]  \n    What is the file extension used for shared libraries? [sa]  \n    Make shared library basenames unique? [n]  \n    Hmm.  Based on the hints in hints/linux-android.sh, \n    the recommended value for $d_libname_unique on this machine was \"define\"!\n        Keep the recommended value? [y]  \n    Build Perl for SOCKS? [n]  \n    Try to use long doubles if available? [n]  \n    Checking for optional libraries...\n    What libraries to use? [-lm -lc]  \n    What optimizer/debugger flag should be used? [-O2]  \n    <b>Any additional cc flags?\n    [-DOVR_DBL_DIG=14 --sysroot=/tmp/toolchain-x86/sysroot]  \n    Let me guess what the preprocessor flags are...\n    Any additional ld flags (NOT including libraries)?\n    [ --sysroot=/tmp/toolchain-x86/sysroot]  </b>\n    Checking your choice of C compiler and flags for coherency...\n    I've tried to compile and run the following simple program:\n\n    #include \n    int main() { printf(\"Ok\\n\"); return(0); }\n\n    I used the command:\n\n        <b>i686-linux-android-gcc -o try -O2 -DOVR_DBL_DIG=14 --sysroot=/tmp/toolchain-x86/sysroot --sysroot=/tmp/toolchain-x86/sysroot try.c -lm -lc\n        /home/fabian/Desktop/Testimages/perl-5.22.1/Cross/run-adb-shell ./try\n    </b>\n    and I got the following output:\n\n    \n    The program compiled OK, but exited with status 134.\n    You have a problem.  Shall I abort Configure [y]  \n    Ok.  Stopping Configure.\n\n</pre>\n\n<p>OK I have to set the flags</p>\n\n<blockquote>\n  <p>Modify config.sh to enable PIE support. Append \u201c-fPIE\u201d to ccflags and\n  \u201c-fPIE -pie\u201d to ldflags. Then rerun configure to ensure this is\n  applied.</p>\n</blockquote>\n\n<p>But there is no <code>config.sh</code> in the perl folder, so I tried this <code>./Configure</code> command:</p>\n\n<pre>`./Configure -des -Dusedevel -Dusecrosscompile -Dtargetrun=adb -Dcc=i686-linux-android-gcc -Dsysroot=$SYSROOT -Dtargetdir=$TARGETDIR -Dtargethost=emulator-5554 <b>-Dccflags='-fPIE' Dldflags='-fPIE -pie'</b>`</pre>\n\n<p>but same problem again...</p>\n\n<pre>\n\n    First let's make sure your kit is complete.  Checking...\n    Would you like to see the instructions? [n]  \n    Locating common programs...\n    Checking compatibility between /bin/echo and builtin echo (if any)...\n    Symbolic links are supported.\n    Checking how to test for symbolic links...\n    You can test for symbolic links with 'test -h'.\n    Using targetarch i686-linux-android.\n    Using targethost emulator-5554.\n    Building host miniperl and generate_uudmap binaries\n    Using targethost emulator-5554.\n    Guessing targetuser root.\n    Guessing targetport 22.\n    Using '/home/fabian/Desktop/Testimages/perl-5.22.1/Cross/run-adb' for remote execution,\n    and '/home/fabian/Desktop/Testimages/perl-5.22.1/Cross/from-scp' and '/home/fabian/Desktop/Testimages/perl-5.22.1/Cross/to-scp'\n    for remote file transfer.\n    Good, your tr supports [:lower:] and [:upper:] to convert case.\n    Using [:upper:] and [:lower:] to convert case.\n    aix_3         dragonfly       irix_4        nonstopux     stellar   \n    aix_4         dynixptx        irix_5        openbsd       sunos_4_0   \n    aix           dynix           irix_6_0      opus          sunos_4_1   \n    altos486      epix            irix_6_1      os2           super-ux   \n    amigaos       esix4           irix_6        os390         svr4   \n    atheos        fps             isc_2         os400         svr5   \n    aux_3         freebsd         isc           posix-bc      ti1500   \n    bitrig        freemint        linux-android     powerux       ultrix_4   \n    bsdos         genix           linux         qnx           umips   \n    catamount     gnukfreebsd     lynxos        riscos        unicosmk   \n    convexos      gnuknetbsd      midnightbsd       sco_2_3_0     unicos   \n    cxux          gnu             mips          sco_2_3_1     unisysdynix   \n    cygwin        greenhills      mirbsd        sco_2_3_2     utekv   \n    darwin        haiku           mpc           sco_2_3_3     uwin   \n    dcosx         hpux            ncr_tower     sco_2_3_4     vos   \n    dec_osf       i386            netbsd        sco   \n    dos_djgpp     interix         newsos4       solaris_2   \n    Which of these apply, if any? [linux-android]  \n    <b>\"./a.out\": error: only position independent executables (PIE) are supported.\n    Aborted \n\n    You don't have an ELF gcc.  I will use dld if possible.  If you are\n    using a version of DLD earlier than 3.2.6, or don't have it at all, you\n    should probably upgrade. If you are forced to use 3.2.4, you should\n    uncomment a couple of lines in hints/linux.sh and restart Configure so\n    that shared libraries will be disallowed.</b>\n\n\n    Disabling ndbm.  This will generate a Whoa There message in Configure.\n    Read hints/linux.sh for further information.\n    Operating system name? [linux-android]  \n    Operating system version? [7.1.1]  \n    Installation prefix to use? (~name ok) [/usr/local]  \n    AFS does not seem to be running...\n    What installation prefix should I use for installing files? (~name ok)\n    [/usr/local]  \n    Getting the current patchlevel...\n    Build a threading Perl? [n]  \n    Build Perl for multiplicity? [n]  \n    <b>Use which C compiler? [i686-linux-android-gcc]  \n    Checking for GNU cc in disguise and/or its version number...\n    \"./try\": error: only position independent executables (PIE) are supported.\n    Aborted </b>\n    Now, how can we feed standard input to your C preprocessor...\n    Directories to use for library searches?\n    [/tmp/toolchain-x86/sysroot/usr/lib/../lib /tmp/toolchain-x86/sysroot/usr/lib]  \n    What is the file extension used for shared libraries? [sa]  \n    Make shared library basenames unique? [n]  \n    Hmm.  Based on the hints in hints/linux-android.sh, \n    the recommended value for $d_libname_unique on this machine was \"define\"!\n        Keep the recommended value? [y]  \n    Build Perl for SOCKS? [n]  \n    Try to use long doubles if available? [n]  \n    Checking for optional libraries...\n    What libraries to use? [-lm -lc]  \n    What optimizer/debugger flag should be used? [-O2]  \n    <b>Any additional cc flags?\n    [-DOVR_DBL_DIG=14 -fPIE --sysroot=/tmp/toolchain-x86/sysroot]  \n    Let me guess what the preprocessor flags are...\n    Any additional ld flags (NOT including libraries)?\n    [ --sysroot=/tmp/toolchain-x86/sysroot]  </b>\n    Checking your choice of C compiler and flags for coherency...\n    I've tried to compile and run the following simple program:\n\n    #include \n    int main() { printf(\"Ok\\n\"); return(0); }\n\n    I used the command:\n\n        <b>i686-linux-android-gcc -o try -O2 -DOVR_DBL_DIG=14 -fPIE --sysroot=/tmp/toolchain-x86/sysroot --sysroot=/tmp/toolchain-x86/sysroot try.c -lm -lc\n        /home/fabian/Desktop/Testimages/perl-5.22.1/Cross/run-adb-shell ./try\n\n    and I got the following output:\n\n    \"./try\": error: only position independent executables (PIE) are supported.\n    Aborted </b>\n    The program compiled OK, but exited with status 134.\n    You have a problem.  Shall I abort Configure [y]  \n    Ok.  Stopping Configure.\n\n</pre>\n\n<p>But now the ccflag is set how you can see in the last lines...</p>\n\n<p>Did I miss something?</p>\n"}, {"tags": ["perl", "cgi"], "comments": [{"owner": {"reputation": 1786, "user_id": 1820650, "user_type": "registered", "accept_rate": 90, "profile_image": "https://www.gravatar.com/avatar/ce47757627908a1013e0951158f4c2e6?s=128&d=identicon&r=PG", "display_name": "Dr.Avalanche", "link": "https://stackoverflow.com/users/1820650/dr-avalanche"}, "edited": false, "score": 4, "creation_date": 1492776408, "post_id": 43542188, "comment_id": 74136361, "body": "Just so you know the HTML generation functions in CGI are advised against in the docs: <a href=\"https://metacpan.org/pod/distribution/CGI/lib/CGI.pod#HTML-Generation-functions-should-no-longer-be-used\" rel=\"nofollow noreferrer\">metacpan.org/pod/distribution/CGI/lib/&hellip;</a> &quot;The rationale for this is that the HTML generation functions of CGI.pm are an obfuscation at best and a maintenance nightmare at worst. You should be using a template engine for better separation of concerns. See CGI::Alternatives for an example of using CGI.pm with the Template::Toolkit module.&quot;"}, {"owner": {"reputation": 7829, "user_id": 4950584, "user_type": "registered", "profile_image": "https://lh3.googleusercontent.com/-xTMYK-wVa7U/AAAAAAAAAAI/AAAAAAAAAGA/x2vE5BBF-hM/photo.jpg?sz=128", "display_name": "Chris Turner", "link": "https://stackoverflow.com/users/4950584/chris-turner"}, "edited": false, "score": 0, "creation_date": 1492776429, "post_id": 43542188, "comment_id": 74136375, "body": "What happens if you replace the non-ASCII characters with their &amp;#XXX; equivalents?"}, {"owner": {"reputation": 7829, "user_id": 4950584, "user_type": "registered", "profile_image": "https://lh3.googleusercontent.com/-xTMYK-wVa7U/AAAAAAAAAAI/AAAAAAAAAGA/x2vE5BBF-hM/photo.jpg?sz=128", "display_name": "Chris Turner", "link": "https://stackoverflow.com/users/4950584/chris-turner"}, "edited": false, "score": 0, "creation_date": 1492777160, "post_id": 43542188, "comment_id": 74136875, "body": "And since you have non-ASCII characters in your code do you also have a &quot;use utf8;&quot; at the top of the code?"}, {"owner": {"reputation": 1, "user_id": 7901199, "user_type": "registered", "profile_image": "https://lh6.googleusercontent.com/-FjlyjGPbcYY/AAAAAAAAAAI/AAAAAAAAABM/W_qWaj6EnsI/photo.jpg?sz=128", "display_name": "Peter Hostermann", "link": "https://stackoverflow.com/users/7901199/peter-hostermann"}, "edited": false, "score": 0, "creation_date": 1492780044, "post_id": 43542188, "comment_id": 74138898, "body": "use utf8 &lt;- Life can be that simple ..."}, {"owner": {"reputation": 113221, "user_id": 100754, "user_type": "registered", "accept_rate": 90, "profile_image": "https://www.gravatar.com/avatar/7804ebae32fbadef38537d74a915c22f?s=128&d=identicon&r=PG", "display_name": "Sinan &#220;n&#252;r", "link": "https://stackoverflow.com/users/100754/sinan-%c3%9cn%c3%bcr"}, "edited": false, "score": 2, "creation_date": 1492780293, "post_id": 43542188, "comment_id": 74139085, "body": "<code>use utf8</code> tells <code>perl</code> that the source code is encoded in UTF-8. When you use that, you should make sure that the source file is indeed encoded in UTF-8 and not some other encoding."}, {"owner": {"reputation": 62184, "user_id": 7231, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/81b76985f3985e35492e25880493d045?s=128&d=identicon&r=PG", "display_name": "Dave Cross", "link": "https://stackoverflow.com/users/7231/dave-cross"}, "edited": false, "score": 1, "creation_date": 1492781389, "post_id": 43542188, "comment_id": 74139904, "body": "Are these from the same source code file or different ones? What encodings do those files use? Do the source code files include <code>use utf8</code>? Where are you getting the output from - is it from a command line shell or in a browser? Do the CGI programs emit any headers that define the encoding of the output? There is so much information missing from this question that it is impossible to do anything but guess at a solution."}], "owner": {"reputation": 1, "user_id": 7901199, "user_type": "registered", "profile_image": "https://lh6.googleusercontent.com/-FjlyjGPbcYY/AAAAAAAAAAI/AAAAAAAAABM/W_qWaj6EnsI/photo.jpg?sz=128", "display_name": "Peter Hostermann", "link": "https://stackoverflow.com/users/7901199/peter-hostermann"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 38, "favorite_count": 0, "answer_count": 0, "score": 0, "last_activity_date": 1492787831, "creation_date": 1492775996, "last_edit_date": 1492787831, "question_id": 43542188, "link": "https://stackoverflow.com/questions/43542188/why-are-my-czechoslovakian-characters-not-rendered-correctly-in-perlcgi-popup", "title": "Why are my Czechoslovakian Characters not rendered correctly in perl::CGI/ popup_menu?", "body": "<p>I created two popup_menus in different ways that contains czech Characters. \nHere's my code:</p>\n\n<pre><code>my  @locations  = ('\u010cesk\u00e9 Bud\u011bjovice', 'Jakubsk\u00e9 n\u00e1m\u011bst\u00ed', 'Nov\u00e9 M\u011bsto na Morav\u011b');\nmy  $location1  = popup_menu(-name=&gt;'Location', -values=&gt;[@locations]);\n\nmy  $location2  = \"&lt;select name=\\\"location\\\"&gt;\";\nforeach my $loc (sort @locations){\n    $location2 .= \"&lt;option value=\\\"\\\"&gt;\" . $loc . \"&lt;/option&gt;\";\n}\n    $location2 .= \"&lt;/select&gt;\";\n</code></pre>\n\n<p>Output from $location2 (as expected):<strong></p> \n\n<pre><code>\u010cesk\u00e9 Bud\u011bjovice\nJakubsk\u00e9 n\u00e1m\u011bst\u00ed\nNov\u00e9 M\u011bsto na Morav\u011b\n</code></pre>\n\n<p>but from $location1 especially some 'hatchek'-chars where replaced by questionmarks:</p>\n\n<pre><code>\u010cesk\u00e9 Bud?jovice\nJakubsk\u00e9 n\u00e1m?st\u00ed\nNov\u00e9 M?sto na Morav?\n</code></pre>\n\n<p>Q:</strong> Why are my characters not rendered correctly?</p>\n"}, {"tags": ["regex", "perl"], "comments": [{"owner": {"reputation": 481636, "user_id": 3832970, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/64323e6cf08401474da3bf770ea13b58?s=128&d=identicon&r=PG&f=1", "display_name": "Wiktor Stribi\u017cew", "link": "https://stackoverflow.com/users/3832970/wiktor-stribi%c5%bcew"}, "edited": false, "score": 2, "creation_date": 1492770891, "post_id": 43540231, "comment_id": 74132619, "body": "The <code>\\w</code> does not match dots. You may match everything inside parentheses with <code>[^()]</code>, a negated bracketed character class matching any char but <code>(</code> and <code>)</code>: <code>my ($QName) = &#47;QUEUE\\(([^()]+)\\)&#47;;</code>"}], "answers": [{"comments": [{"owner": {"reputation": 199, "user_id": 7417672, "user_type": "registered", "accept_rate": 60, "profile_image": "https://www.gravatar.com/avatar/2ad237af02e20c5e05e2fc22985bf646?s=128&d=identicon&r=PG&f=1", "display_name": "MrAZ", "link": "https://stackoverflow.com/users/7417672/mraz"}, "edited": false, "score": 0, "creation_date": 1492771048, "post_id": 43540291, "comment_id": 74132730, "body": "@Dmitry_Egorov Thanks so much, I accept your answer, may I know what is the function of [ ] in this regex?"}, {"owner": {"reputation": 82895, "user_id": 372239, "user_type": "registered", "accept_rate": 80, "profile_image": "https://i.stack.imgur.com/2twLb.jpg?s=128&g=1", "display_name": "Toto", "link": "https://stackoverflow.com/users/372239/toto"}, "edited": false, "score": 0, "creation_date": 1492771411, "post_id": 43540291, "comment_id": 74132979, "body": "This doesn&#39;t compile."}, {"owner": {"reputation": 9137, "user_id": 4295017, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/53186503963b4007f9107bd53e151966?s=128&d=identicon&r=PG&f=1", "display_name": "Dmitry Egorov", "link": "https://stackoverflow.com/users/4295017/dmitry-egorov"}, "reply_to_user": {"reputation": 82895, "user_id": 372239, "user_type": "registered", "accept_rate": 80, "profile_image": "https://i.stack.imgur.com/2twLb.jpg?s=128&g=1", "display_name": "Toto", "link": "https://stackoverflow.com/users/372239/toto"}, "edited": false, "score": 0, "creation_date": 1492771865, "post_id": 43540291, "comment_id": 74133303, "body": "@Toto: in what environment it fails to compile? Works fine on <a href=\"https://ideone.com/L4FESo\" rel=\"nofollow noreferrer\">IdeOne</a> and with my local <code>perl 5, version 22, subversion 0 (v5.22.0) built for x86_64-msys-thread-multi</code>"}, {"owner": {"reputation": 82895, "user_id": 372239, "user_type": "registered", "accept_rate": 80, "profile_image": "https://i.stack.imgur.com/2twLb.jpg?s=128&g=1", "display_name": "Toto", "link": "https://stackoverflow.com/users/372239/toto"}, "edited": false, "score": 0, "creation_date": 1492773386, "post_id": 43540291, "comment_id": 74134389, "body": "<code>$perl -we &#39;my ($QName) = &#47;QUEUE\\(([\\w.]+)\\)&#47;;&#39;</code> in a terminal gives:  <code>Use of uninitialized value $_ in pattern match (m&#47;&#47;) at -e line 1.</code>"}, {"owner": {"reputation": 9137, "user_id": 4295017, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/53186503963b4007f9107bd53e151966?s=128&d=identicon&r=PG&f=1", "display_name": "Dmitry Egorov", "link": "https://stackoverflow.com/users/4295017/dmitry-egorov"}, "edited": false, "score": 0, "creation_date": 1492778631, "post_id": 43540291, "comment_id": 74137898, "body": "This is because in my snippet I only showed the line which needs to be changed. A link to a whole test script is provided right after that. If you wish to run it from command line, try this: <code>$ echo &#39;QUEUE(SYSTEM.SELECTION.VALIDATION.QUEUE)&#39; | perl -nlwe &#39;my ($QName) = &#47;QUEUE\\(([\\w.]+)\\)&#47;; print $QName&#39;</code>"}, {"owner": {"reputation": 123805, "user_id": 622310, "user_type": "registered", "accept_rate": 33, "profile_image": "https://www.gravatar.com/avatar/8b6d35219e1808520bc238b28161e2e6?s=128&d=identicon&r=PG", "display_name": "Borodin", "link": "https://stackoverflow.com/users/622310/borodin"}, "reply_to_user": {"reputation": 82895, "user_id": 372239, "user_type": "registered", "accept_rate": 80, "profile_image": "https://i.stack.imgur.com/2twLb.jpg?s=128&g=1", "display_name": "Toto", "link": "https://stackoverflow.com/users/372239/toto"}, "edited": false, "score": 0, "creation_date": 1492779235, "post_id": 43540291, "comment_id": 74138329, "body": "@Toto: That is a run time error, not a compilation error."}], "tags": [], "owner": {"reputation": 9137, "user_id": 4295017, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/53186503963b4007f9107bd53e151966?s=128&d=identicon&r=PG&f=1", "display_name": "Dmitry Egorov", "link": "https://stackoverflow.com/users/4295017/dmitry-egorov"}, "is_accepted": true, "score": 3, "last_activity_date": 1492770812, "last_edit_date": 1492770812, "creation_date": 1492770390, "answer_id": 43540291, "question_id": 43540231, "link": "https://stackoverflow.com/questions/43540231/declare-a-variable-from-string/43540291#43540291", "title": "Declare a variable from string", "body": "<p>You need to add dots in your pattern:</p>\n\n<pre><code>my ($QName) = /QUEUE\\(([\\w.]+)\\)/;\n#                      ^  ^^\n#                         |\n#                          `--You're missing this dot:\n# The \"SYSTEM.SELECTION.VALIDATION.QUEUE\" value comprises letters AND DOTS\n</code></pre>\n\n<p>Demo: <a href=\"https://ideone.com/L4FESo\" rel=\"nofollow noreferrer\">https://ideone.com/L4FESo</a></p>\n"}, {"comments": [{"owner": {"reputation": 82895, "user_id": 372239, "user_type": "registered", "accept_rate": 80, "profile_image": "https://i.stack.imgur.com/2twLb.jpg?s=128&g=1", "display_name": "Toto", "link": "https://stackoverflow.com/users/372239/toto"}, "reply_to_user": {"reputation": 199, "user_id": 7417672, "user_type": "registered", "accept_rate": 60, "profile_image": "https://www.gravatar.com/avatar/2ad237af02e20c5e05e2fc22985bf646?s=128&d=identicon&r=PG&f=1", "display_name": "MrAZ", "link": "https://stackoverflow.com/users/7417672/mraz"}, "edited": false, "score": 0, "creation_date": 1493198363, "post_id": 43540552, "comment_id": 74308192, "body": "@Azizul: Don&#39;t worry, I&#39;m sure it is not you, I think I know who it is."}], "tags": [], "owner": {"reputation": 82895, "user_id": 372239, "user_type": "registered", "accept_rate": 80, "profile_image": "https://i.stack.imgur.com/2twLb.jpg?s=128&g=1", "display_name": "Toto", "link": "https://stackoverflow.com/users/372239/toto"}, "is_accepted": false, "score": 0, "last_activity_date": 1492771146, "creation_date": 1492771146, "answer_id": 43540552, "question_id": 43540231, "link": "https://stackoverflow.com/questions/43540231/declare-a-variable-from-string/43540552#43540552", "title": "Declare a variable from string", "body": "<p>It is not really clear what you want to achieve but I guess you want:</p>\n\n<pre><code>$input_string = 'QUEUE(SYSTEM.SELECTION.VALIDATION.QUEUE)';\nmy ($QName) = $input_string =~ /QUEUE\\((.+?)\\)/;\nprint $QName,\"\\n\";\n</code></pre>\n\n<p><strong>Output:</strong></p>\n\n<pre><code>SYSTEM.SELECTION.VALIDATION.QUEUE\n</code></pre>\n"}], "owner": {"reputation": 199, "user_id": 7417672, "user_type": "registered", "accept_rate": 60, "profile_image": "https://www.gravatar.com/avatar/2ad237af02e20c5e05e2fc22985bf646?s=128&d=identicon&r=PG&f=1", "display_name": "MrAZ", "link": "https://stackoverflow.com/users/7417672/mraz"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 83, "favorite_count": 0, "accepted_answer_id": 43540291, "answer_count": 2, "score": 0, "last_activity_date": 1492773417, "creation_date": 1492770240, "last_edit_date": 1492773417, "question_id": 43540231, "link": "https://stackoverflow.com/questions/43540231/declare-a-variable-from-string", "title": "Declare a variable from string", "body": "<p>I want to include the value of below string into $QName in Perl script:</p>\n\n<blockquote>\n  <p>QUEUE(SYSTEM.SELECTION.VALIDATION.QUEUE)</p>\n</blockquote>\n\n<p>So I try to include <code>SYSTEM.SELECTION.VALIDATION.QUEUE</code> into <code>$QName</code>, as below code:</p>\n\n<pre><code>my ($QName) = /QUEUE\\((\\w+)\\)/;\nprint \"$QName \\n\";\n</code></pre>\n\n<p>However, this code not successfully produce an output.</p>\n\n<p>The output should be:</p>\n\n<blockquote>\n  <p>SYSTEM.SELECTION.VALIDATION.QUEUE</p>\n</blockquote>\n"}, {"tags": ["perl"], "comments": [{"owner": {"reputation": 2415, "user_id": 4251338, "user_type": "registered", "accept_rate": 90, "profile_image": "https://i.stack.imgur.com/UNbCO.png?s=128&g=1", "display_name": "ssr1012", "link": "https://stackoverflow.com/users/4251338/ssr1012"}, "edited": false, "score": 1, "creation_date": 1492767649, "post_id": 43538842, "comment_id": 74130243, "body": "You can split by <code>space</code>. Do you have any issues on this."}], "answers": [{"comments": [{"owner": {"reputation": 923, "user_id": 7727546, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/5fe3d80f5c8283fb372c4f3aec775df8?s=128&d=identicon&r=PG&f=1", "display_name": "Benjamin Krupp", "link": "https://stackoverflow.com/users/7727546/benjamin-krupp"}, "reply_to_user": {"reputation": 59, "user_id": 6238985, "user_type": "registered", "accept_rate": 77, "profile_image": "https://www.gravatar.com/avatar/f8fb421a38806ec746c36aa8d72c1d61?s=128&d=identicon&r=PG&f=1", "display_name": "GSG", "link": "https://stackoverflow.com/users/6238985/gsg"}, "edited": false, "score": 0, "creation_date": 1492768041, "post_id": 43539325, "comment_id": 74130538, "body": "Glad I could help! I edited my answer so that it also includes the exact problem in your script."}, {"owner": {"reputation": 59, "user_id": 6238985, "user_type": "registered", "accept_rate": 77, "profile_image": "https://www.gravatar.com/avatar/f8fb421a38806ec746c36aa8d72c1d61?s=128&d=identicon&r=PG&f=1", "display_name": "GSG", "link": "https://stackoverflow.com/users/6238985/gsg"}, "edited": false, "score": 0, "creation_date": 1492768161, "post_id": 43539325, "comment_id": 74130633, "body": "Thanks mate! great help :)"}, {"owner": {"reputation": 52821, "user_id": 632407, "user_type": "registered", "accept_rate": 86, "profile_image": "https://i.stack.imgur.com/AfGWW.jpg?s=128&g=1", "display_name": "jm666", "link": "https://stackoverflow.com/users/632407/jm666"}, "edited": false, "score": 0, "creation_date": 1492768277, "post_id": 43539325, "comment_id": 74130720, "body": "Better to use <code>if( $temp =~ m&#47;....&#47; ) {</code> - e.g. assign <code>($ifb....) = ($1...)</code> only if the pattern matches..."}, {"owner": {"reputation": 5455, "user_id": 3961170, "user_type": "registered", "accept_rate": 73, "profile_image": "https://i.stack.imgur.com/PtFol.jpg?s=128&g=1", "display_name": "mkHun", "link": "https://stackoverflow.com/users/3961170/mkhun"}, "edited": false, "score": 0, "creation_date": 1492768305, "post_id": 43539325, "comment_id": 74130745, "body": "This also works <code>my($ifb, $temp, $task)  = $temp =~ m&#47;^(.+\\.ifb)\\s+(&quot;[^&quot;]*&quot;)\\s+(.+)$&#47;;</code>"}, {"owner": {"reputation": 923, "user_id": 7727546, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/5fe3d80f5c8283fb372c4f3aec775df8?s=128&d=identicon&r=PG&f=1", "display_name": "Benjamin Krupp", "link": "https://stackoverflow.com/users/7727546/benjamin-krupp"}, "reply_to_user": {"reputation": 52821, "user_id": 632407, "user_type": "registered", "accept_rate": 86, "profile_image": "https://i.stack.imgur.com/AfGWW.jpg?s=128&g=1", "display_name": "jm666", "link": "https://stackoverflow.com/users/632407/jm666"}, "edited": false, "score": 0, "creation_date": 1492768496, "post_id": 43539325, "comment_id": 74130903, "body": "@jm666 Why not? I added the check for educational purposes. ;)"}, {"owner": {"reputation": 923, "user_id": 7727546, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/5fe3d80f5c8283fb372c4f3aec775df8?s=128&d=identicon&r=PG&f=1", "display_name": "Benjamin Krupp", "link": "https://stackoverflow.com/users/7727546/benjamin-krupp"}, "reply_to_user": {"reputation": 5455, "user_id": 3961170, "user_type": "registered", "accept_rate": 73, "profile_image": "https://i.stack.imgur.com/PtFol.jpg?s=128&g=1", "display_name": "mkHun", "link": "https://stackoverflow.com/users/3961170/mkhun"}, "edited": false, "score": 0, "creation_date": 1492768500, "post_id": 43539325, "comment_id": 74130908, "body": "@mkHun Cool. Do you know in which version this was added?"}], "tags": [], "owner": {"reputation": 923, "user_id": 7727546, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/5fe3d80f5c8283fb372c4f3aec775df8?s=128&d=identicon&r=PG&f=1", "display_name": "Benjamin Krupp", "link": "https://stackoverflow.com/users/7727546/benjamin-krupp"}, "is_accepted": true, "score": 1, "last_activity_date": 1492768416, "last_edit_date": 1492768416, "creation_date": 1492767769, "answer_id": 43539325, "question_id": 43538842, "link": "https://stackoverflow.com/questions/43538842/removing-multiple-substrings-fro-a-string-in-perl/43539325#43539325", "title": "removing multiple substrings fro a string in perl", "body": "<p>What's wrong is that you have a space after <code>$task1</code> here: <code>s/$task1 //</code>.</p>\n\n<p>A solution with regex:</p>\n\n<pre><code>my $temp='abc.ifb \"BATCHRANGE=110000198\" def'; \nmy($ifb, $temp, $task);\nif ($temp =~ m/^(.+\\.ifb)\\s+(\"[^\"]*\")\\s+(.+)$/) {\n    ($ifb, $temp, $task) = ($1, $2, $3);\n    print \"My ifb is '$ifb'\\n\";\n    print \"My temp is '$temp'\\n\";\n    print \"My task is '$task'\\n\";\n}\nelse {\n    print \"Wrong format\\n\";\n}\n</code></pre>\n\n<p>=></p>\n\n<pre><code>My ifb is 'abc.ifb'\nMy temp is '\"BATCHRANGE=110000198\"'\nMy task is 'def'\n</code></pre>\n"}], "owner": {"reputation": 59, "user_id": 6238985, "user_type": "registered", "accept_rate": 77, "profile_image": "https://www.gravatar.com/avatar/f8fb421a38806ec746c36aa8d72c1d61?s=128&d=identicon&r=PG&f=1", "display_name": "GSG", "link": "https://stackoverflow.com/users/6238985/gsg"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 63, "favorite_count": 0, "accepted_answer_id": 43539325, "answer_count": 1, "score": 0, "last_activity_date": 1492768416, "creation_date": 1492766619, "last_edit_date": 1492766744, "question_id": 43538842, "link": "https://stackoverflow.com/questions/43538842/removing-multiple-substrings-fro-a-string-in-perl", "title": "removing multiple substrings fro a string in perl", "body": "<p>My script looks like below.</p>\n\n<pre><code>my $temp='abc.ifb \"BATCHRANGE=110000198\" def'; \nmy $temp1=reverse $temp;    \nmy $temp2=substr($temp1,0,index($temp1,'\"'));    \nmy $task=reverse $temp2;    \nmy $task1=substr($task,1);    \nprint \"\\n my task is $task1 \\n\";    \nmy $temp3 = '.ifb';\nmy $ifb = substr($temp, 0, index($temp, $temp3)+4);    \nprint \"\\n my ifb is $ifb \\n\";    \n$temp =~ s/$ifb //;    \n$temp =~ s/$task1 //;    \nprint \"\\n now temp is $temp \\n\";\n</code></pre>\n\n<p>Actually I want to capture three strings separately. But the final print is showing \"BATCHRANGE=110000198\" def. Whereas I am expecting \"BATCHRANGE=110000198\". What's wrong here?</p>\n"}, {"tags": ["linux", "perl", "shell", "unix"], "comments": [{"owner": {"reputation": 13460, "user_id": 4643584, "user_type": "registered", "accept_rate": 64, "profile_image": "https://www.gravatar.com/avatar/d2144be3b64be35ece8bff8f02c606a6?s=128&d=identicon&r=PG&f=1", "display_name": "Shakiba Moshiri", "link": "https://stackoverflow.com/users/4643584/shakiba-moshiri"}, "edited": false, "score": 0, "creation_date": 1492763022, "post_id": 43537201, "comment_id": 74127113, "body": "Am I right? you need to list the contents of those folders with the name <b>source</b> that are in the sub-directories?"}, {"owner": {"reputation": 32176, "user_id": 2173773, "user_type": "registered", "accept_rate": 86, "profile_image": "https://i.stack.imgur.com/M8yh6.jpg?s=128&g=1", "display_name": "H&#229;kon H&#230;gland", "link": "https://stackoverflow.com/users/2173773/h%c3%a5kon-h%c3%a6gland"}, "edited": false, "score": 0, "creation_date": 1492767186, "post_id": 43537201, "comment_id": 74129870, "body": "Do you want to list files in <code>source</code> directories at depth greater than 2? For example files in <code>a1&#47;a2&#47;a3&#47;source</code>?"}], "answers": [{"tags": [], "owner": {"reputation": 32176, "user_id": 2173773, "user_type": "registered", "accept_rate": 86, "profile_image": "https://i.stack.imgur.com/M8yh6.jpg?s=128&g=1", "display_name": "H&#229;kon H&#230;gland", "link": "https://stackoverflow.com/users/2173773/h%c3%a5kon-h%c3%a6gland"}, "is_accepted": false, "score": 0, "last_activity_date": 1492766929, "creation_date": 1492766929, "answer_id": 43538956, "question_id": 43537201, "link": "https://stackoverflow.com/questions/43537201/how-to-list-all-the-files-using-shell-script-present-in-a-specific-folder-under/43538956#43538956", "title": "How to list all the files using shell script present in a specific folder under all the directories those are present in the root directory?", "body": "<p>In Perl you could use <a href=\"https://metacpan.org/pod/File::Find\" rel=\"nofollow noreferrer\"><code>File::Find</code></a>:</p>\n\n<pre><code>use feature qw(say);\nuse strict;\nuse warnings;\n\nuse File::Basename qw(basename);\nuse File::Find;\n\nfind( \\&amp;wanted, '.') ;\n\nsub wanted {\n    my $name = $_;    \n    my $parent_dir = basename( $File::Find::dir );\n    if ( (-f $name) &amp;&amp; ( $parent_dir eq \"source\") ) {\n        say $File::Find::name;\n    }\n}\n</code></pre>\n"}, {"tags": [], "owner": {"reputation": 62184, "user_id": 7231, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/81b76985f3985e35492e25880493d045?s=128&d=identicon&r=PG", "display_name": "Dave Cross", "link": "https://stackoverflow.com/users/7231/dave-cross"}, "is_accepted": false, "score": 1, "last_activity_date": 1492771788, "creation_date": 1492771788, "answer_id": 43540783, "question_id": 43537201, "link": "https://stackoverflow.com/questions/43537201/how-to-list-all-the-files-using-shell-script-present-in-a-specific-folder-under/43540783#43540783", "title": "How to list all the files using shell script present in a specific folder under all the directories those are present in the root directory?", "body": "<p>StackOverflow isn't really a \"write my code for me\" service. But this is really simple in Perl.</p>\n\n<p>Assuming that the <code>source</code> directories only ever appear at the same level:</p>\n\n<pre><code>my @files = glob '*/source/*';\n</code></pre>\n"}], "owner": {"reputation": 17, "user_id": 6869721, "user_type": "registered", "accept_rate": 0, "profile_image": "https://lh3.googleusercontent.com/-mj42vdXgD6s/AAAAAAAAAAI/AAAAAAAAAMI/-q3v-JhJ9QU/photo.jpg?sz=128", "display_name": "Abhishek Das", "link": "https://stackoverflow.com/users/6869721/abhishek-das"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 88, "favorite_count": 0, "answer_count": 2, "score": 0, "last_activity_date": 1492771788, "creation_date": 1492761935, "last_edit_date": 1492763173, "question_id": 43537201, "link": "https://stackoverflow.com/questions/43537201/how-to-list-all-the-files-using-shell-script-present-in-a-specific-folder-under", "title": "How to list all the files using shell script present in a specific folder under all the directories those are present in the root directory?", "body": "<p>I want to list all the files that are present in a specific folder under all the present directories present in my root directory.<br>\nSay my root directory is <code>.</code> and there multiples folders like <code>a1,b1,c1........a2,b2</code> are present.<br>\nNow in all those folders there is a <strong>specific folder</strong> which is <code>source/</code> so that will be like </p>\n\n<pre><code>a1/source/\nb1/source/\n.\n.\na2/source/\nb2/source/\n</code></pre>\n\n<p>where all the necessary files are present. Can I list all the files in a file that is in the <code>.</code> directory by a shell script source file along with their absolute path?</p>\n"}, {"tags": ["perl"], "comments": [{"owner": {"reputation": 5455, "user_id": 3961170, "user_type": "registered", "accept_rate": 73, "profile_image": "https://i.stack.imgur.com/PtFol.jpg?s=128&g=1", "display_name": "mkHun", "link": "https://stackoverflow.com/users/3961170/mkhun"}, "edited": false, "score": 0, "creation_date": 1492747738, "post_id": 43533360, "comment_id": 74119762, "body": "What is your input.?"}, {"owner": {"reputation": 45, "user_id": 4611473, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/6a4fd0cd35211c15168a43f0d3a6ba78?s=128&d=identicon&r=PG&f=1", "display_name": "BBsal", "link": "https://stackoverflow.com/users/4611473/bbsal"}, "reply_to_user": {"reputation": 5455, "user_id": 3961170, "user_type": "registered", "accept_rate": 73, "profile_image": "https://i.stack.imgur.com/PtFol.jpg?s=128&g=1", "display_name": "mkHun", "link": "https://stackoverflow.com/users/3961170/mkhun"}, "edited": false, "score": 0, "creation_date": 1492748895, "post_id": 43533360, "comment_id": 74120096, "body": "I am actually reading csv file   A  B C D                                               A 1, 2, 3, 4                                               B 5, 1, 7, 8                                               C 9, 4, 1, 2                                               D 2, 7, 8, 1  . The idea is to compute  matrix correlation"}, {"owner": {"reputation": 2415, "user_id": 4251338, "user_type": "registered", "accept_rate": 90, "profile_image": "https://i.stack.imgur.com/UNbCO.png?s=128&g=1", "display_name": "ssr1012", "link": "https://stackoverflow.com/users/4251338/ssr1012"}, "edited": false, "score": 0, "creation_date": 1492750265, "post_id": 43533360, "comment_id": 74120447, "body": "<code>@newarray = grep ($_ &gt; 2 || $_=~m&#47;[a-z]&#47;i, @row);</code> Just try I am not sure what you are asking."}, {"owner": {"reputation": 6258, "user_id": 82262, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/8ce15931410b388a52eb2df4a864137f?s=128&d=identicon&r=PG&f=1", "display_name": "Matt Jacob", "link": "https://stackoverflow.com/users/82262/matt-jacob"}, "edited": false, "score": 1, "creation_date": 1492756593, "post_id": 43533360, "comment_id": 74123173, "body": "Please read about <a href=\"https://stackoverflow.com/questions/how-to-ask\">How to Ask</a> good questions, and then <a href=\"https://stackoverflow.com/posts/43533360/edit\">edit</a> your question to include a <a href=\"https://stackoverflow.com/help/minimal-reproducible-example\">minimal reproducible example</a>."}], "answers": [{"comments": [{"owner": {"reputation": 45, "user_id": 4611473, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/6a4fd0cd35211c15168a43f0d3a6ba78?s=128&d=identicon&r=PG&f=1", "display_name": "BBsal", "link": "https://stackoverflow.com/users/4611473/bbsal"}, "edited": false, "score": 0, "creation_date": 1492827190, "post_id": 43545535, "comment_id": 74160951, "body": "Yeah, I ended up fixing, This is my first time writing Perl so it was kind of tough to understand the syntax and all. Thank you tho"}], "tags": [], "owner": {"reputation": 113221, "user_id": 100754, "user_type": "registered", "accept_rate": 90, "profile_image": "https://www.gravatar.com/avatar/7804ebae32fbadef38537d74a915c22f?s=128&d=identicon&r=PG", "display_name": "Sinan &#220;n&#252;r", "link": "https://stackoverflow.com/users/100754/sinan-%c3%9cn%c3%bcr"}, "is_accepted": false, "score": 0, "last_activity_date": 1492785675, "creation_date": 1492785675, "answer_id": 43545535, "question_id": 43533360, "link": "https://stackoverflow.com/questions/43533360/remove-row-and-create-new-array/43545535#43545535", "title": "Remove row and create new array", "body": "<p>Your question is confusing. My interpretation is that you are trying to read a correlation matrix into a Perl data structure. The fact the matrix has unit diagonal seems to support that interpretation. On the other hand, the matrix is not symmetric, so that's even more confusing.</p>\n\n<p>I am assuming you are confused about how to remove the variable labels, and just getting the numbers into a matrix. In Perl, you can represent a matrix either as an array of references to anonymous arrays (dense matrix) or as a hash whose keys are row or column indexes and values are references to anonymous arrays (sparse matrix). The choice of whether to store column vectors or row vectors can affect how well you can work with the data, but, once again, there is not enough information in your question to deduce what would be most appropriate in your situation.</p>\n\n<p>The code below shows the most basic way of reading that matrix into a Perl data structure. In your code, you would <code>open</code> the data file and assign a filehandle, e.g. <code>$fh</code>, and read from that rather than the <code>__DATA__</code> section of your script.</p>\n\n<pre><code>#!/usr/bin/env perl\n\nuse strict;\nuse warnings;\n\nmy @vars = split ' ', &lt;DATA&gt;;\nmy @correl;\n\nwhile (my $line = &lt;DATA&gt;) {\n    push @correl, [ $line =~ /([0-9]+)/g ];\n}\n\nprint join(\"\\t\", @vars), \"\\n\";\nprint join(\"\\t\", @$_), \"\\n\" for @correl;\n\n__DATA__\nA B C D\nA 1, 2, 3, 4\nB 5, 1, 7, 8\nC 9, 4, 1, 2\nD 2, 7, 8, 1\n</code></pre>\n\n<p>Output:</p>\n\n<pre>A  B   C   D\n1   2   3   4\n5   1   7   8\n9   4   1   2\n2   7   8   1</pre>\n"}], "owner": {"reputation": 45, "user_id": 4611473, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/6a4fd0cd35211c15168a43f0d3a6ba78?s=128&d=identicon&r=PG&f=1", "display_name": "BBsal", "link": "https://stackoverflow.com/users/4611473/bbsal"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 72, "favorite_count": 0, "answer_count": 1, "score": -1, "last_activity_date": 1492785675, "creation_date": 1492744660, "last_edit_date": 1492769618, "question_id": 43533360, "link": "https://stackoverflow.com/questions/43533360/remove-row-and-create-new-array", "title": "Remove row and create new array", "body": "<p>I am reading a CSV file</p>\n\n<pre><code>A B C D\nA 1, 2, 3, 4\nB 5, 1, 7, 8\nC 9, 4, 1, 2\nD 2, 7, 8, 1\n</code></pre>\n\n<p>The idea is to compute matrix correlation</p>\n\n<p>How can I remove a row and create a new array?</p>\n\n<p>I tried this</p>\n\n<pre><code>my @new_row = split(/\\s+/, $header_line);\n</code></pre>\n\n<p>This is my first Perl program</p>\n\n<pre><code>my @row = /@desired_row/ &amp;&amp; $_;\n</code></pre>\n\n<h3>current output</h3>\n\n<pre><code>A 1,2,3,4   \n</code></pre>\n\n<h3>What I am trying now</h3>\n\n<pre><code>my @newarray = ( );\n@newarray = grep ($_ &gt; 2, @row);\nprint \"@newarray\\n\";\n</code></pre>\n\n<h3>Result I am trying to get</h3>\n\n<pre><code>A 3, 4\n</code></pre>\n"}, {"tags": ["perl", "directory"], "comments": [{"owner": {"reputation": 1, "user_id": 7818493, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/b930c1204cfefd8f1dba9fbc96da4dc8?s=128&d=identicon&r=PG&f=1", "display_name": "Stackman", "link": "https://stackoverflow.com/users/7818493/stackman"}, "reply_to_user": {"reputation": 6068, "user_id": 1799189, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/s4Pcu.jpg?s=128&g=1", "display_name": "xxfelixxx", "link": "https://stackoverflow.com/users/1799189/xxfelixxx"}, "edited": false, "score": 0, "creation_date": 1492743638, "post_id": 43532532, "comment_id": 74118674, "body": "that doesn&#39;t seem to be working. when i try to run the module in the terminal nothing happens."}, {"owner": {"reputation": 53041, "user_id": 4653379, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/b3953dbedd0dabff5cbc3db9b0835b14?s=128&d=identicon&r=PG&f=1", "display_name": "zdim", "link": "https://stackoverflow.com/users/4653379/zdim"}, "edited": false, "score": 2, "creation_date": 1492745574, "post_id": 43532532, "comment_id": 74119166, "body": "OK .. what is (not) wrong here?  (1) What is the exact error you get? (2) Why do you have <code>use HT::Conlang::S17;</code> <i>inside</i> that very package? (3) The directory looks &quot;suspiciously&quot; close to the location the module is in -- is this module in a directory just above the one you are trying to set?"}], "answers": [{"comments": [{"owner": {"reputation": 1, "user_id": 7818493, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/b930c1204cfefd8f1dba9fbc96da4dc8?s=128&d=identicon&r=PG&f=1", "display_name": "Stackman", "link": "https://stackoverflow.com/users/7818493/stackman"}, "edited": false, "score": 0, "creation_date": 1492753911, "post_id": 43534141, "comment_id": 74121770, "body": "Solution 1: I copy pasted the folder from my desktop to the perl5 lib Solution 2: I have no idea how to do this, what exactly should I enter to do this?"}, {"owner": {"reputation": 320771, "user_id": 589924, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/b2cf53d5a3d25f95c0db4e025aed4153?s=128&d=identicon&r=PG", "display_name": "ikegami", "link": "https://stackoverflow.com/users/589924/ikegami"}, "reply_to_user": {"reputation": 1, "user_id": 7818493, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/b930c1204cfefd8f1dba9fbc96da4dc8?s=128&d=identicon&r=PG&f=1", "display_name": "Stackman", "link": "https://stackoverflow.com/users/7818493/stackman"}, "edited": false, "score": 0, "creation_date": 1492754405, "post_id": 43534141, "comment_id": 74122002, "body": "What OS are you using? OS/X? I don&#39;t know."}, {"owner": {"reputation": 320771, "user_id": 589924, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/b2cf53d5a3d25f95c0db4e025aed4153?s=128&d=identicon&r=PG", "display_name": "ikegami", "link": "https://stackoverflow.com/users/589924/ikegami"}, "reply_to_user": {"reputation": 1, "user_id": 7818493, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/b930c1204cfefd8f1dba9fbc96da4dc8?s=128&d=identicon&r=PG&f=1", "display_name": "Stackman", "link": "https://stackoverflow.com/users/7818493/stackman"}, "edited": false, "score": 0, "creation_date": 1492759467, "post_id": 43534141, "comment_id": 74124934, "body": "...but Google says <a href=\"http://stackoverflow.com/questions/135688/setting-environment-variables-in-os-x\">Setting environment variables in OS X?</a>"}, {"owner": {"reputation": 1, "user_id": 7818493, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/b930c1204cfefd8f1dba9fbc96da4dc8?s=128&d=identicon&r=PG&f=1", "display_name": "Stackman", "link": "https://stackoverflow.com/users/7818493/stackman"}, "edited": false, "score": 0, "creation_date": 1493174531, "post_id": 43534141, "comment_id": 74297088, "body": "I&#39;ve gone ahead and done all of that. The program still won&#39;t work."}, {"owner": {"reputation": 320771, "user_id": 589924, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/b2cf53d5a3d25f95c0db4e025aed4153?s=128&d=identicon&r=PG", "display_name": "ikegami", "link": "https://stackoverflow.com/users/589924/ikegami"}, "reply_to_user": {"reputation": 1, "user_id": 7818493, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/b930c1204cfefd8f1dba9fbc96da4dc8?s=128&d=identicon&r=PG&f=1", "display_name": "Stackman", "link": "https://stackoverflow.com/users/7818493/stackman"}, "edited": false, "score": 0, "creation_date": 1493175315, "post_id": 43534141, "comment_id": 74297278, "body": "Provide the output of the following: <code>printf &quot;PERL5LIB: %s&quot; &quot;$PERL5LIB&quot; ; ls -ld &#47;Users &#47;Users&#47;John &#47;Users&#47;John&#47;perl5 &#47;Users&#47;John&#47;perl5&#47;lib &#47;Users&#47;John&#47;perl5&#47;lib&#47;HT &#47;Users&#47;John&#47;perl5&#47;lib&#47;HT&#47;Conlang &#47;Users&#47;John&#47;perl5&#47;lib&#47;HT&#47;Conlang&#47;S17.pm ; perl -e&#39;use HT::Conlang::S17;&#39;</code>"}], "tags": [], "owner": {"reputation": 320771, "user_id": 589924, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/b2cf53d5a3d25f95c0db4e025aed4153?s=128&d=identicon&r=PG", "display_name": "ikegami", "link": "https://stackoverflow.com/users/589924/ikegami"}, "is_accepted": false, "score": 2, "last_activity_date": 1492750088, "creation_date": 1492750088, "answer_id": 43534141, "question_id": 43532532, "link": "https://stackoverflow.com/questions/43532532/custom-module-use-lib/43534141#43534141", "title": "Custom module use lib", "body": "<p>Problem #1. It doesn't make sense to use <code>use lib</code> inside a module. It belongs in scripts. And even then, if it's an absolute path (as opposed to a path relative to <code>$FindBin::RealBin</code>), it's far better to set env var <code>PERL5LIB</code> than to use <code>use lib</code>.</p>\n\n<p>Problem #2. If your module uses package <code>HT::Conlang::S17</code>, it should be loaded using <code>use HT::Conlang::S17;</code>, which means Perl will search for <code>HT/Conlang/S17.pm</code>, so the entry to add to <code>@INC</code> should be <code>/Users/John/Desktop</code>.</p>\n\n<p>Problem #3. <code>/Users/John/Desktop</code> contains more than just Perl modules. You should have a directory dedicates to being a Perl library directory.</p>\n\n<hr>\n\n<p>Solution, part 1. Move <code>/Users/John/Desktop/HT</code> to <code>/Users/John/perl5/lib/HT</code>.</p>\n\n<p>Solution, part 2. Have your login process add <code>/Users/John/perl5/lib</code> to the env var <code>PERL5LIB</code>.</p>\n"}], "owner": {"reputation": 1, "user_id": 7818493, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/b930c1204cfefd8f1dba9fbc96da4dc8?s=128&d=identicon&r=PG&f=1", "display_name": "Stackman", "link": "https://stackoverflow.com/users/7818493/stackman"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 135, "favorite_count": 0, "answer_count": 1, "score": 0, "last_activity_date": 1492770042, "creation_date": 1492738944, "last_edit_date": 1492770042, "question_id": 43532532, "link": "https://stackoverflow.com/questions/43532532/custom-module-use-lib", "title": "Custom module use lib", "body": "<p>I have a standalone Perl module that I want to use, however I cannot get 'set lib' to work. What am I doing wrong?</p>\n\n<p>I am working off the terminal in Mac OS and the module is located in a folder on my desktop <code>/Users/John/Desktop/HT/Conlang</code>.</p>\n\n<pre><code>#! perl -w\n\npackage HT::Conlang::S17;\n\nuse strict;\nuse vars qw($VERSION @EXPORT_OK);\nuse base 'Exporter';\nuse lib '/Users/John/Desktop/HT/Conlang';\nuse HT::Conlang::S17;\n</code></pre>\n\n<p>How can I get this to work?</p>\n"}, {"tags": ["perl"], "comments": [{"owner": {"reputation": 320771, "user_id": 589924, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/b2cf53d5a3d25f95c0db4e025aed4153?s=128&d=identicon&r=PG", "display_name": "ikegami", "link": "https://stackoverflow.com/users/589924/ikegami"}, "edited": false, "score": 0, "creation_date": 1492723994, "post_id": 43530211, "comment_id": 74113210, "body": "PS - You&#39;ll get better results if you pass references to hashes and arrays to <code>Dumper</code>. For example, <code>print Dumper %rtn;</code> should be <code>print Dumper \\%rtn;</code>. In this case, print Dumper $rtn{subtests};` would be even better."}], "answers": [{"comments": [{"owner": {"reputation": 301, "user_id": 6173767, "user_type": "registered", "accept_rate": 75, "profile_image": "https://lh6.googleusercontent.com/-qPqJcB8w5ec/AAAAAAAAAAI/AAAAAAAAAhM/EDZ9zfjf6G8/photo.jpg?sz=128", "display_name": "Nikhil Hegde", "link": "https://stackoverflow.com/users/6173767/nikhil-hegde"}, "edited": false, "score": 0, "creation_date": 1492724050, "post_id": 43530241, "comment_id": 74113232, "body": "That worked. The code had <code>use strict; use warnings;</code> What&#39;s the difference introduced with <code>use warnings qw (all);</code> ?"}, {"owner": {"reputation": 320771, "user_id": 589924, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/b2cf53d5a3d25f95c0db4e025aed4153?s=128&d=identicon&r=PG", "display_name": "ikegami", "link": "https://stackoverflow.com/users/589924/ikegami"}, "reply_to_user": {"reputation": 301, "user_id": 6173767, "user_type": "registered", "accept_rate": 75, "profile_image": "https://lh6.googleusercontent.com/-qPqJcB8w5ec/AAAAAAAAAAI/AAAAAAAAAhM/EDZ9zfjf6G8/photo.jpg?sz=128", "display_name": "Nikhil Hegde", "link": "https://stackoverflow.com/users/6173767/nikhil-hegde"}, "edited": false, "score": 0, "creation_date": 1492724081, "post_id": 43530241, "comment_id": 74113244, "body": "That means you were also clobbering some other hash, and that you now have two variables with the same name in scope. Rename one of them."}, {"owner": {"reputation": 301, "user_id": 6173767, "user_type": "registered", "accept_rate": 75, "profile_image": "https://lh6.googleusercontent.com/-qPqJcB8w5ec/AAAAAAAAAAI/AAAAAAAAAhM/EDZ9zfjf6G8/photo.jpg?sz=128", "display_name": "Nikhil Hegde", "link": "https://stackoverflow.com/users/6173767/nikhil-hegde"}, "edited": false, "score": 0, "creation_date": 1492724333, "post_id": 43530241, "comment_id": 74113347, "body": "I didn&#39;t understand one thing. The reference to <code>\\%userJobSubtest</code> should point to <code>%userJobSubtest</code>. So, when the value of <code>%userJobSubtest</code> changes, shouldn&#39;t the reference also point to the new value? I&#39;m sorry, I get confused with references."}, {"owner": {"reputation": 320771, "user_id": 589924, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/b2cf53d5a3d25f95c0db4e025aed4153?s=128&d=identicon&r=PG", "display_name": "ikegami", "link": "https://stackoverflow.com/users/589924/ikegami"}, "reply_to_user": {"reputation": 301, "user_id": 6173767, "user_type": "registered", "accept_rate": 75, "profile_image": "https://lh6.googleusercontent.com/-qPqJcB8w5ec/AAAAAAAAAAI/AAAAAAAAAhM/EDZ9zfjf6G8/photo.jpg?sz=128", "display_name": "Nikhil Hegde", "link": "https://stackoverflow.com/users/6173767/nikhil-hegde"}, "edited": false, "score": 0, "creation_date": 1492737421, "post_id": 43530241, "comment_id": 74117117, "body": "Re &quot;<i>shouldn&#39;t the reference also point to the new value?</i>&quot;, Yes, and it did. That&#39;s the problem you asked us to fix. By replacing the single <code>%userJobSubtest</code>  with a new one created each pass of the loop, the problem goes away."}, {"owner": {"reputation": 301, "user_id": 6173767, "user_type": "registered", "accept_rate": 75, "profile_image": "https://lh6.googleusercontent.com/-qPqJcB8w5ec/AAAAAAAAAAI/AAAAAAAAAhM/EDZ9zfjf6G8/photo.jpg?sz=128", "display_name": "Nikhil Hegde", "link": "https://stackoverflow.com/users/6173767/nikhil-hegde"}, "edited": false, "score": 0, "creation_date": 1492861736, "post_id": 43530241, "comment_id": 74168745, "body": "That&#39;s right and it got solved because I re-declared the hash using <code>my</code>. What I meant to ask is why is the <code>my</code> important here? Without using the <code>my</code>, why isn&#39;t the reference pointing to the new value after I changed the value of the hash? Why does it still point to the old value?"}, {"owner": {"reputation": 320771, "user_id": 589924, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/b2cf53d5a3d25f95c0db4e025aed4153?s=128&d=identicon&r=PG", "display_name": "ikegami", "link": "https://stackoverflow.com/users/589924/ikegami"}, "reply_to_user": {"reputation": 301, "user_id": 6173767, "user_type": "registered", "accept_rate": 75, "profile_image": "https://lh6.googleusercontent.com/-qPqJcB8w5ec/AAAAAAAAAAI/AAAAAAAAAhM/EDZ9zfjf6G8/photo.jpg?sz=128", "display_name": "Nikhil Hegde", "link": "https://stackoverflow.com/users/6173767/nikhil-hegde"}, "edited": false, "score": 0, "creation_date": 1492862781, "post_id": 43530241, "comment_id": 74169067, "body": "As I mentioned in my answer and as I clarified in my last comment, <code>my</code> creates a new var <i>each time it&#39;s executed</i>. You don&#39;t have one hash anymore. Your references are to different hashes."}], "tags": [], "owner": {"reputation": 320771, "user_id": 589924, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/b2cf53d5a3d25f95c0db4e025aed4153?s=128&d=identicon&r=PG", "display_name": "ikegami", "link": "https://stackoverflow.com/users/589924/ikegami"}, "is_accepted": true, "score": 3, "last_activity_date": 1492723787, "creation_date": 1492723787, "answer_id": 43530241, "question_id": 43530211, "link": "https://stackoverflow.com/questions/43530211/an-issue-with-array-push/43530241#43530241", "title": "An issue with array push", "body": "<p>You made every element of <code>@{ $rtn{subtests} }</code> a reference to the <em>same</em> hash.</p>\n\n<p>Fix:</p>\n\n<pre><code>my %userJobSubtest = (\n    name      =&gt; $key,\n    username  =&gt; $key, \n    rc        =&gt; WARN,\n    notes     =&gt; ''\n);\n\npush(@{$rtn{subtests}}, \\%userJobSubtest);\n</code></pre>\n\n<p>The <code>my</code> creates a variable. Always use <code>use strict; use warnings qw( all );</code>!!!</p>\n"}], "owner": {"reputation": 301, "user_id": 6173767, "user_type": "registered", "accept_rate": 75, "profile_image": "https://lh6.googleusercontent.com/-qPqJcB8w5ec/AAAAAAAAAAI/AAAAAAAAAhM/EDZ9zfjf6G8/photo.jpg?sz=128", "display_name": "Nikhil Hegde", "link": "https://stackoverflow.com/users/6173767/nikhil-hegde"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 87, "favorite_count": 1, "accepted_answer_id": 43530241, "answer_count": 1, "score": 1, "last_activity_date": 1492723787, "creation_date": 1492723671, "question_id": 43530211, "link": "https://stackoverflow.com/questions/43530211/an-issue-with-array-push", "title": "An issue with array push", "body": "<p>I have two hashes which I use in my code. One,</p>\n\n<pre><code>Dumper \\%userJobCount\n\n$VAR1 = {\n          'hina' =&gt; 2,\n          'maccetta' =&gt; 1,\n          'vineethk' =&gt; 1,\n          'jpriyank' =&gt; 27,\n          'sanchars' =&gt; 1,\n          'kamran' =&gt; 8,\n          'wilt' =&gt; 7,\n          'sakir' =&gt; 5,\n          'rjernigan' =&gt; 8,\n          'emichael' =&gt; 1,\n          'ranjith' =&gt; 8,\n          'wgutknec' =&gt; 7,\n          'danchuy' =&gt; 1,\n          'saurabh4' =&gt; 1,\n          'chengc' =&gt; 9,\n          'revathi' =&gt; 2,\n          'zumach' =&gt; 7,\n          'hual' =&gt; 7,\n          'lkashyap' =&gt; 2,\n          'raviteja' =&gt; 17,\n          'bsheetal' =&gt; 4,\n          'horgan' =&gt; 2,\n          'tongz' =&gt; 6,\n          'demat' =&gt; 1,\n          'matthew6' =&gt; 14,\n          'alward' =&gt; 1,\n          'adalton' =&gt; 1,\n          'sydneyw' =&gt; 5,\n          'yashodhc' =&gt; 1,\n          'makam' =&gt; 1,\n          'surajs' =&gt; 9,\n          'radish' =&gt; 2,\n          'sudiptac' =&gt; 2,\n          'adityak' =&gt; 4,\n          'dodgson' =&gt; 4,\n          'sudipp' =&gt; 6,\n          'zaw' =&gt; 1,\n          'umeshr' =&gt; 23,\n          'zukas' =&gt; 6\n        };\n</code></pre>\n\n<p>and</p>\n\n<pre><code>%userJobSubtest = (\n        name      =&gt; '',\n        username  =&gt; '', \n        rc        =&gt; PASS,\n        notes     =&gt; ''\n    );\n</code></pre>\n\n<p>Here's the code where I use them:</p>\n\n<pre><code>foreach my $key (keys %userJobCount) {\n    if( $userJobCount{$key} &gt; $jobLimit) {\n        %userJobSubtest = (\n            name      =&gt; $key,\n            username  =&gt; $key, \n            rc        =&gt; WARN,\n            notes     =&gt; ''\n        );\n        #print Dumper \\%userJobSubtest;\n        push(@{$rtn{subtests}}, \\%userJobSubtest);\n    }\n}\nprint Dumper %rtn;\n</code></pre>\n\n<p>I'll just show the subtests key value from the total output:</p>\n\n<pre><code>$VAR6 = [\n          {\n            'rc' =&gt; 3,\n            'notes' =&gt; '',\n            'name' =&gt; 'umeshr',\n            'username' =&gt; 'umeshr'\n          },\n          $VAR6-&gt;[0],\n          $VAR6-&gt;[0],\n          $VAR6-&gt;[0],\n          $VAR6-&gt;[0],\n          $VAR6-&gt;[0],\n          $VAR6-&gt;[0],\n          $VAR6-&gt;[0],\n          $VAR6-&gt;[0],\n          $VAR6-&gt;[0],\n          $VAR6-&gt;[0],\n          $VAR6-&gt;[0],\n          $VAR6-&gt;[0],\n          $VAR6-&gt;[0],\n          $VAR6-&gt;[0]\n        ];\n</code></pre>\n\n<p>In the code, this part is commented out:</p>\n\n<pre><code>#print Dumper \\%userJobSubtest;\n</code></pre>\n\n<p>When I run this, it has the values of other keys whose values are more than the $jobLimit (= 5)\nDoes anyone have an idea what's going wrong with the push? Why am I getting duplicate entries when what I am pushing shouldn't actually be the same value?</p>\n"}, {"tags": ["regex", "perl"], "comments": [{"owner": {"reputation": 51391, "user_id": 132382, "user_type": "registered", "accept_rate": 98, "profile_image": "https://www.gravatar.com/avatar/20fc7ee8f405aa42e36eb73e841e5a36?s=128&d=identicon&r=PG", "display_name": "pilcrow", "link": "https://stackoverflow.com/users/132382/pilcrow"}, "edited": false, "score": 1, "creation_date": 1492720811, "post_id": 43529358, "comment_id": 74111859, "body": "Your data file is a collection of sequences, but your code builds a (nested) associative array keyed on one member of the sequences.  An <a href=\"http://perldoc.perl.org/perldsc.html#ARRAYS-OF-ARRAYS\" rel=\"nofollow noreferrer\">array of arrays</a> most obviously represents the structure in your data file \u2014 but what structure do you want in the code?  In other words, what would you have expected <code>Dumper</code> to output?"}, {"owner": {"reputation": 10578, "user_id": 3233827, "user_type": "registered", "accept_rate": 67, "profile_image": "https://i.stack.imgur.com/LVngi.jpg?s=128&g=1", "display_name": "ssc-hrep3", "link": "https://stackoverflow.com/users/3233827/ssc-hrep3"}, "edited": false, "score": 0, "creation_date": 1492720969, "post_id": 43529358, "comment_id": 74111944, "body": "You are probably overwriting every <code>cde_instance</code> while adding them to to <code>$cde_instances</code> (it may take the first match as a key [just a guess], which is the same for <code>(&#39;copper&#39;, 0, 6)</code> and <code>(&#39;copper&#39;, 291, 297)</code>. Use another key (other than <code>$instance</code>) in:  <code>$cde_instances{$file}{$instance} = $pos;</code>"}], "answers": [{"comments": [{"owner": {"reputation": 55, "user_id": 7706734, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/1cf82fc74c3ecd825259dfd199136792?s=128&d=identicon&r=PG&f=1", "display_name": "jelly", "link": "https://stackoverflow.com/users/7706734/jelly"}, "edited": false, "score": 0, "creation_date": 1492722625, "post_id": 43529644, "comment_id": 74112667, "body": "Hello! Thank you so much, your explanation made sense and I see where I went wrong; misunderstood a fundamental aspect of hashes.  Yes, I only need to save the first number, not the second number per line.  Thank you again!"}, {"owner": {"reputation": 53041, "user_id": 4653379, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/b3953dbedd0dabff5cbc3db9b0835b14?s=128&d=identicon&r=PG&f=1", "display_name": "zdim", "link": "https://stackoverflow.com/users/4653379/zdim"}, "reply_to_user": {"reputation": 55, "user_id": 7706734, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/1cf82fc74c3ecd825259dfd199136792?s=128&d=identicon&r=PG&f=1", "display_name": "jelly", "link": "https://stackoverflow.com/users/7706734/jelly"}, "edited": false, "score": 0, "creation_date": 1492732853, "post_id": 43529644, "comment_id": 74116052, "body": "@jelly Great, good to hear that :)  I added a couple of more ways to write that code (probably won&#39;t be new for you)"}, {"owner": {"reputation": 55, "user_id": 7706734, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/1cf82fc74c3ecd825259dfd199136792?s=128&d=identicon&r=PG&f=1", "display_name": "jelly", "link": "https://stackoverflow.com/users/7706734/jelly"}, "edited": false, "score": 0, "creation_date": 1492800692, "post_id": 43529644, "comment_id": 74152404, "body": "How would I directly access the key values of %instance_pos? (without going into a loop) like $cde_instances{$file}{$1}"}, {"owner": {"reputation": 53041, "user_id": 4653379, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/b3953dbedd0dabff5cbc3db9b0835b14?s=128&d=identicon&r=PG&f=1", "display_name": "zdim", "link": "https://stackoverflow.com/users/4653379/zdim"}, "reply_to_user": {"reputation": 55, "user_id": 7706734, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/1cf82fc74c3ecd825259dfd199136792?s=128&d=identicon&r=PG&f=1", "display_name": "jelly", "link": "https://stackoverflow.com/users/7706734/jelly"}, "edited": false, "score": 0, "creation_date": 1492801001, "post_id": 43529644, "comment_id": 74152563, "body": "@jelly  I am not sure what you mean.  You need to have a key and then retrieve its value.  This prints the hash <code>%h</code>, for example:  <code>foreach my $key (keys %h) { print &quot;$key =&gt; $h{$key}\\n&quot; }</code>, or more simply <code>say &quot;$_ =&gt; $h{$_}&quot; for keys %h;</code>  (add <code>use feature qw(say);</code> on top so you can print using <code>say</code>, which adds a newline for us).  (I simply use <code>=&gt;</code> as my choice when printing hashes, can put anything there)"}, {"owner": {"reputation": 53041, "user_id": 4653379, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/b3953dbedd0dabff5cbc3db9b0835b14?s=128&d=identicon&r=PG&f=1", "display_name": "zdim", "link": "https://stackoverflow.com/users/4653379/zdim"}, "reply_to_user": {"reputation": 55, "user_id": 7706734, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/1cf82fc74c3ecd825259dfd199136792?s=128&d=identicon&r=PG&f=1", "display_name": "jelly", "link": "https://stackoverflow.com/users/7706734/jelly"}, "edited": false, "score": 0, "creation_date": 1492801283, "post_id": 43529644, "comment_id": 74152698, "body": "@jelly Once you pull all keys with <code>keys</code> note that they come in random order, which may differ even across separate statements (and certainly across separte runs of the program).  It may be convenient to use <code>for (sort keys %h)</code>, as the keys then will always come out sorted the same way.  This is good for repeated reports, output, code reviews, debugging."}, {"owner": {"reputation": 53041, "user_id": 4653379, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/b3953dbedd0dabff5cbc3db9b0835b14?s=128&d=identicon&r=PG&f=1", "display_name": "zdim", "link": "https://stackoverflow.com/users/4653379/zdim"}, "reply_to_user": {"reputation": 55, "user_id": 7706734, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/1cf82fc74c3ecd825259dfd199136792?s=128&d=identicon&r=PG&f=1", "display_name": "jelly", "link": "https://stackoverflow.com/users/7706734/jelly"}, "edited": false, "score": 0, "creation_date": 1492836917, "post_id": 43529644, "comment_id": 74162598, "body": "@jelly oh, I think I see what you meant, sorry.  So now <code>$cde_instances{$file}</code> is an arrayref, so you&#39;d need to dereference: <code>$cde_instances{$file}-&gt;[0]</code> is its first element, which is a hashref. So to get the value you need to dereference again, now the hashref, <code>$cde_instances{$file}-&gt;[0]-&gt;{&#39;amino acids&#39;}</code> is the value.  Since you may not know which one is in which array slot you&#39;d want to loop."}, {"owner": {"reputation": 53041, "user_id": 4653379, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/b3953dbedd0dabff5cbc3db9b0835b14?s=128&d=identicon&r=PG&f=1", "display_name": "zdim", "link": "https://stackoverflow.com/users/4653379/zdim"}, "reply_to_user": {"reputation": 55, "user_id": 7706734, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/1cf82fc74c3ecd825259dfd199136792?s=128&d=identicon&r=PG&f=1", "display_name": "jelly", "link": "https://stackoverflow.com/users/7706734/jelly"}, "edited": false, "score": 0, "creation_date": 1492837016, "post_id": 43529644, "comment_id": 74162621, "body": "@jelly    Or, come up with a different data structure -- that&#39;s what I mean by &quot;<i>depends on what you need to do with data</i>&quot;.  Or, once you fetched the data as above then populate another data structure, for easier specific handling.  Documentation: tutorial <a href=\"http://perldoc.perl.org/perlreftut.html\" rel=\"nofollow noreferrer\">perlreftut</a> and cookbook on data structures <a href=\"http://perldoc.perl.org/perldsc.html\" rel=\"nofollow noreferrer\">perldsc</a>."}], "tags": [], "owner": {"reputation": 53041, "user_id": 4653379, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/b3953dbedd0dabff5cbc3db9b0835b14?s=128&d=identicon&r=PG&f=1", "display_name": "zdim", "link": "https://stackoverflow.com/users/4653379/zdim"}, "is_accepted": true, "score": 2, "last_activity_date": 1492836537, "last_edit_date": 1492836537, "creation_date": 1492721304, "answer_id": 43529644, "question_id": 43529358, "link": "https://stackoverflow.com/questions/43529358/perl-regex-only-matching-some-times/43529644#43529644", "title": "perl: regex only matching some times", "body": "<p>You are storing information in a hashref with keys <code>$instance</code>, but some of those keys in your data are the same on multiple lines.  So the key <code>'copper'</code> gets overwritten repeatedly, and you end up with only the last occurence.  The same happens with <code>'amino acids'</code>.</p>\n\n<p>Since those keywords to-be-hash-keys repeat you can't go with a straight hash. You'll need to come up with a different data structure and which it will be depends on what you need to do with data.</p>\n\n<p>A reasonable idea is to use an array, and perhaps an array with hashrefs, one for each pair</p>\n\n<pre><code>if ($line =~ m/'(.*?)', (.*?), /)     \n{\n    my %instance_pos = ($1, $2);\n\n    push @{$cde_instances{$file}}, \\%instance_pos;\n}\n</code></pre>\n\n<p>Here each key <code>$file</code> in the hash <code>%cde_instances</code> has an arrayref as its value, carrying hashrefs for each instance-pos pair.  Of course, there are other choices, this is more of an example.</p>\n\n<p>This can also be written as</p>\n\n<pre><code>if (my %instance_pos = $line =~ m/'(.*?)', (.*?), /) {\n    push @{$cde_instances{$file}}, \\%instance_pos;\n}\n</code></pre>\n\n<p>or just</p>\n\n<pre><code>if ($line =~ m/'(.*?)', (.*?), /) {    \n    push @{$cde_instances{$file}}, {$1, $2};\n}\n</code></pre>\n\n<p>If you need to check/validate the captures then assign to two variables from regex.</p>\n\n<hr>\n\n<p>With the above change and using <code>use Data::Dump qw(dd);</code> to print I get</p>\n\n<pre>\n{\n  \"data.txt\" => [\n    { \"amino acids\" => 339 },\n    { copper => 71 },\n    { copper => 0 },\n    { copper => 291 },\n    { \"amino acids\" => 119 },\n  ],\n}\n</pre>\n\n<p>Note that the numbers on the line after the first one aren't captured by your regex.  I take that to be done on purpose.  Please clarify it it isn't so.</p>\n"}], "owner": {"reputation": 55, "user_id": 7706734, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/1cf82fc74c3ecd825259dfd199136792?s=128&d=identicon&r=PG&f=1", "display_name": "jelly", "link": "https://stackoverflow.com/users/7706734/jelly"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 74, "favorite_count": 0, "accepted_answer_id": 43529644, "answer_count": 1, "score": 1, "last_activity_date": 1492836537, "creation_date": 1492720251, "last_edit_date": 1492732775, "question_id": 43529358, "link": "https://stackoverflow.com/questions/43529358/perl-regex-only-matching-some-times", "title": "perl: regex only matching some times", "body": "<p>My regex is only matching the some of the expressions. When I test the expression on regex101.com it works just fine... what could be the issue with my code?</p>\n\n<p>Thanks for your help in advance.</p>\n\n<p>Example file, \"surfacecoating\":</p>\n\n<pre><code>[\n('amino acids', 339, 350), \n('copper', 71, 77), \n('copper', 0, 6), \n('copper', 291, 297), \n('amino acids', 119, 130)]\n</code></pre>\n\n<p>What Dumper prints out for this file (note the first 3 matches are not returned):</p>\n\n<pre><code>'surfacecoating' =&gt; {\n        'copper' =&gt; '291',\n        'amino acids' =&gt; '119'\n    },\n</code></pre>\n\n<p>the code:</p>\n\n<pre><code>#!/usr/bin/perl\n\nuse strict;\nuse warnings;\nuse Data::Dumper;\n\ndetermine_cde_instances();\n\nsub determine_cde_instances {\n    my %cdeinstances;\n    my %cde_instances;\n\n    my $dir = \"/results/CDE\";\n    opendir my $dh, $dir  or die \"Can't open $dir: $!\";\n\n    while (my $file = readdir($dh)) {\n        next if ($file =~ m/^\\./);\n        next if -d $file;\n\n        open my $fh, '&lt;', \"$dir/$file\" or die \"Can't open $dir/$file: $!\";\n\n        while (my $line = &lt;$fh&gt;)\n        {\n                if (my ($instance) = $line =~ m/'(.*?)', (.*?), /)     \n                {\n                    my $instance = $1;\n                    my $pos = $2;\n                    $cde_instances{$file}{$instance} = $pos;\n                }\n        }\n        close $fh;\n    }    \n    close $dh;\n\n    print Dumper(\\%cde_instances);\n    return %cde_instances;\n}\n</code></pre>\n"}, {"tags": ["perl", "sed", "pattern-matching"], "answers": [{"tags": [], "owner": {"reputation": 14395, "user_id": 1344961, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/0b7ad173373ce2a48950108f5adc4b6d?s=128&d=identicon&r=PG", "display_name": "SLePort", "link": "https://stackoverflow.com/users/1344961/sleport"}, "is_accepted": true, "score": 0, "last_activity_date": 1492719053, "creation_date": 1492719053, "answer_id": 43528993, "question_id": 43528609, "link": "https://stackoverflow.com/questions/43528609/search-replace-multiple-strings-from-command-output-perl-or-sed/43528993#43528993", "title": "Search Replace multiple strings from command output (Perl or Sed)", "body": "<p>Using sed with backreference:</p>\n\n<pre><code>$ email=$(sed -n 's/[\\t ]*\"acct\"&lt;blob&gt;=\"\\([^\"]*\\)\"/\\1/p' file)\n$ pass=$(sed -n 's/[\\t ]*password: \"\\([^\"]*\\)\"/\\1/p' file)\n$ echo $email\nabc@xyz.com\n$ echo $pass\nmycrypticpassword\n</code></pre>\n"}, {"tags": [], "owner": {"reputation": 9137, "user_id": 4295017, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/53186503963b4007f9107bd53e151966?s=128&d=identicon&r=PG&f=1", "display_name": "Dmitry Egorov", "link": "https://stackoverflow.com/users/4295017/dmitry-egorov"}, "is_accepted": false, "score": 0, "last_activity_date": 1492720043, "creation_date": 1492720043, "answer_id": 43529294, "question_id": 43528609, "link": "https://stackoverflow.com/questions/43528609/search-replace-multiple-strings-from-command-output-perl-or-sed/43529294#43529294", "title": "Search Replace multiple strings from command output (Perl or Sed)", "body": "<p>Extract the required value using Perl:</p>\n\n<pre><code>$ perl -nle 'print \"$1$2\" if /\"acct\"&lt;blob&gt;=\"(.*)\"|password: \"(.*)\"/' file\nabc@xyz.com\nmycrypticpassword\n</code></pre>\n\n<p>grab the output using <code>$(...)</code> construct, and assign it to two variables using <code>read EMAIL PASSWORD &lt;&lt;&lt; ...</code>:</p>\n\n<pre><code>$ read EMAIL PASSWORD &lt;&lt;&lt; \\\n&gt; $(perl -nle 'print \"$1$2\" if /\"acct\"&lt;blob&gt;=\"(.*)\"|password: \"(.*)\"/' file)\n$ echo $EMAIL\nabc@xyz.com\n$ echo $PASSWORD\nmycrypticpassword\n</code></pre>\n"}], "owner": {"user_type": "does_not_exist", "display_name": "user6505873"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 67, "favorite_count": 0, "accepted_answer_id": 43528993, "answer_count": 2, "score": 0, "last_activity_date": 1492720043, "creation_date": 1492717624, "question_id": 43528609, "link": "https://stackoverflow.com/questions/43528609/search-replace-multiple-strings-from-command-output-perl-or-sed", "title": "Search Replace multiple strings from command output (Perl or Sed)", "body": "<p>Can someone suggest how can I do the follwing:</p>\n\n<p>`</p>\n\n<pre><code>attributes:\n     0x00000007 &lt;blob&gt;=\"Test\"\n     0x00000008 &lt;blob&gt;=&lt;NULL&gt;\n     \"acct\"&lt;blob&gt;=\"abc@xyz.com\"\n     password: \"mycrypticpassword\"\n</code></pre>\n\n<p>`</p>\n\n<p>If I want to extract abc@xyz.com and the password value and assign them to variables in a shell script, can it be done in perl or sed?</p>\n\n<p>Thanks</p>\n"}, {"tags": ["perl", "http", "anyevent"], "comments": [{"owner": {"reputation": 123805, "user_id": 622310, "user_type": "registered", "accept_rate": 33, "profile_image": "https://www.gravatar.com/avatar/8b6d35219e1808520bc238b28161e2e6?s=128&d=identicon&r=PG", "display_name": "Borodin", "link": "https://stackoverflow.com/users/622310/borodin"}, "edited": false, "score": 0, "creation_date": 1492714958, "post_id": 43527484, "comment_id": 74108757, "body": "I don&#39;t see the point of using a timer here. You may as well just call <code>timeoutHandler</code> in <code>for</code> loop."}, {"owner": {"reputation": 89568, "user_id": 3081018, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/Z2NYm.png?s=128&g=1", "display_name": "Steffen Ullrich", "link": "https://stackoverflow.com/users/3081018/steffen-ullrich"}, "edited": false, "score": 1, "creation_date": 1492715346, "post_id": 43527484, "comment_id": 74108962, "body": "Since the script is single-threaded and thus uses only a single of the many CPU cores you have it might be useful to run multiple instances in parallel."}, {"owner": {"reputation": 53041, "user_id": 4653379, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/b3953dbedd0dabff5cbc3db9b0835b14?s=128&d=identicon&r=PG&f=1", "display_name": "zdim", "link": "https://stackoverflow.com/users/4653379/zdim"}, "edited": false, "score": 0, "creation_date": 1492715594, "post_id": 43527484, "comment_id": 74109101, "body": "And you may as well try with straight forks, as in this <a href=\"http://stackoverflow.com/questions/43024722/perl-too-slow-concurrent-download-with-both-httpasync-netasynchttp/\">related problem</a>.  In the end I tried with well over 100 forks and saw no hints of OS strain or problems."}, {"owner": {"reputation": 936, "user_id": 2066126, "user_type": "registered", "accept_rate": 60, "profile_image": "https://www.gravatar.com/avatar/224ed6420ee88dea389bb21ca1cfa0aa?s=128&d=identicon&r=PG", "display_name": "TheAmigo", "link": "https://stackoverflow.com/users/2066126/theamigo"}, "edited": false, "score": 0, "creation_date": 1492716656, "post_id": 43527484, "comment_id": 74109643, "body": "In <code>getTS()</code>, I think you&#39;re losing precision on the time... I don&#39;t think a double-precision float can store enough digits for the full timestamp to the microsecond.  Of course, that may not cause the problem you&#39;re seeing."}, {"owner": {"reputation": 936, "user_id": 2066126, "user_type": "registered", "accept_rate": 60, "profile_image": "https://www.gravatar.com/avatar/224ed6420ee88dea389bb21ca1cfa0aa?s=128&d=identicon&r=PG", "display_name": "TheAmigo", "link": "https://stackoverflow.com/users/2066126/theamigo"}, "edited": false, "score": 0, "creation_date": 1492716744, "post_id": 43527484, "comment_id": 74109699, "body": "Have you tried profiling your code to see where it&#39;s spending time?  <code>perl -d:NYTProf httpStresser.pl urlList rate 200</code>"}, {"owner": {"reputation": 987, "user_id": 893185, "user_type": "registered", "accept_rate": 58, "profile_image": "https://www.gravatar.com/avatar/7bb7310612573625abd07a67f22724ad?s=128&d=identicon&r=PG", "display_name": "pktCoder", "link": "https://stackoverflow.com/users/893185/pktcoder"}, "edited": false, "score": 0, "creation_date": 1492721603, "post_id": 43527484, "comment_id": 74112245, "body": "This script is expected to be able to do thousands HTTP transactions/second even if the latency with server is high, that&#39;s why I used AnyEvent. I remember I was able to get to 3000/second, not sure what wrong in this case.  Thx."}, {"owner": {"reputation": 123805, "user_id": 622310, "user_type": "registered", "accept_rate": 33, "profile_image": "https://www.gravatar.com/avatar/8b6d35219e1808520bc238b28161e2e6?s=128&d=identicon&r=PG", "display_name": "Borodin", "link": "https://stackoverflow.com/users/622310/borodin"}, "edited": false, "score": 1, "creation_date": 1492768377, "post_id": 43527484, "comment_id": 74130805, "body": "@pktCoder: Using <code>AnyEvent</code> doesn&#39;t help to perform a high transaction rate. It doesn&#39;t offer parallel processing of any sort. A simple loop will issue HTTP requests as fast as possible, and all an <code>AnyEvent</code> timer can do is slow that down to a more accurately defined interval."}, {"owner": {"reputation": 987, "user_id": 893185, "user_type": "registered", "accept_rate": 58, "profile_image": "https://www.gravatar.com/avatar/7bb7310612573625abd07a67f22724ad?s=128&d=identicon&r=PG", "display_name": "pktCoder", "link": "https://stackoverflow.com/users/893185/pktcoder"}, "reply_to_user": {"reputation": 123805, "user_id": 622310, "user_type": "registered", "accept_rate": 33, "profile_image": "https://www.gravatar.com/avatar/8b6d35219e1808520bc238b28161e2e6?s=128&d=identicon&r=PG", "display_name": "Borodin", "link": "https://stackoverflow.com/users/622310/borodin"}, "edited": false, "score": 0, "creation_date": 1492789199, "post_id": 43527484, "comment_id": 74145666, "body": "Thanks @borodin for the comment. My understanding is that AnyEvent can generate requests fast regardless of how slow the server is, it will just have lots of outstanding requests. What I am confused is, why the client didn&#39;t even generate that many requests."}, {"owner": {"reputation": 123805, "user_id": 622310, "user_type": "registered", "accept_rate": 33, "profile_image": "https://www.gravatar.com/avatar/8b6d35219e1808520bc238b28161e2e6?s=128&d=identicon&r=PG", "display_name": "Borodin", "link": "https://stackoverflow.com/users/622310/borodin"}, "edited": false, "score": 1, "creation_date": 1492792348, "post_id": 43527484, "comment_id": 74147621, "body": "@pktCoder: Let me try to explain. <code>AnyEvent::HTTP</code> allows you to make asynchronous HTTP requests and specify a callback subroutine that will be called when the response comes back. It happens to use <code>AnyEvent</code> to achieve that, but it really doesn&#39;t matter how it does it. Pretty much any HTTP client library, like <code>LWP::UserAgent</code> or <code>Mojo::UserAgent</code> will do the same thing. Meanwhile you&#39;ve chosen to use an <code>AnyEvent</code> timer, which is completely independent of the HTTP transactions, to call <code>timeoutHandler</code> 1,000 times a second."}, {"owner": {"reputation": 123805, "user_id": 622310, "user_type": "registered", "accept_rate": 33, "profile_image": "https://www.gravatar.com/avatar/8b6d35219e1808520bc238b28161e2e6?s=128&d=identicon&r=PG", "display_name": "Borodin", "link": "https://stackoverflow.com/users/622310/borodin"}, "edited": false, "score": 0, "creation_date": 1492792873, "post_id": 43527484, "comment_id": 74147945, "body": "There&#39;s no need for that at all, and you can probably get away with just <code>timeoutHandler() while 1</code> although you will probably want to <code>usleep</code> to pass the time after all the HTTP requests you want have been sent each second. By the way, <code>Time::HiRes</code> works with pairs of integers, and you should avoid converting that to a floating point value. The module provides a <code>tv_interval</code> utility function which takes two such integer pairs and returns the difference in floating point seconds. That is all you need."}], "owner": {"reputation": 987, "user_id": 893185, "user_type": "registered", "accept_rate": 58, "profile_image": "https://www.gravatar.com/avatar/7bb7310612573625abd07a67f22724ad?s=128&d=identicon&r=PG", "display_name": "pktCoder", "link": "https://stackoverflow.com/users/893185/pktcoder"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 78, "favorite_count": 0, "answer_count": 0, "score": 1, "last_activity_date": 1492713819, "creation_date": 1492713819, "question_id": 43527484, "link": "https://stackoverflow.com/questions/43527484/perl-script-with-anyevent-is-not-going-fast-enough", "title": "perl script with AnyEvent is not going fast enough", "body": "<p>Here is the little script I created to do HTTP transactions from a file with a list of URLs.  The problem is that it's not able to do HTTP transactions as fast as I would like. More precisely, I set the rate to be 200/seconds, but it was able to send only at about 50/second.  The server is powerful enough to handle 100/second.</p>\n\n<p>This was run on a powerful PC with E5-1650 CPU and 64GB of RAM running Ubuntu 14.04 desktop. When the script runs, the CPU usage is only about 12%. The command I used was <code>perl httpStresser.pl urlList rate 200</code>.</p>\n\n<p>Any idea why? </p>\n\n<pre><code>use AnyEvent;\nuse EV;\nuse AnyEvent::HTTP;\nuse AnyEvent::Handle;\nuse Time::HiRes qw( gettimeofday );\nmy $expectedRespCode = 200;\nmy $rate = 1;\nmy @urls = ();\nreadUrls(shift);\nmy $numOfUrls = $#urls;\nmy $start = time();\nmy $printed = 0; #have we printed the completion msg.\nmy $gId = 0;\n\nmy $spawned;\nmy @ctx = ();\nmy $i;\n\nfor ($i=0; $i&lt;=$#ARGV; $i++) {\n    if ($ARGV[$i] =~ /^expect/) {\n        $expectedRespCode = $ARGV[$i+1];\n        $i++;\n    } elsif ($ARGV[$i] =~ /^rate/) {\n        $rate = $ARGV[$i+1];\n        print \"rate is now $rate\\n\";\n        $i++;\n    } elsif ($ARGV[$i] =~ /^skip/) {\n        $gId = $ARGV[$i+1];\n        $i++;\n    } else {\n        die \"only max, stayup are supported\\n\";\n    } \n}\nmy $spawned = 0;\nmy $w = AnyEvent-&gt;condvar;\n$| = 1;\nmy $start = getTS();\nmy $_timer;\n$_timer = AnyEvent-&gt;timer(after =&gt; 0, interval =&gt; 0.001, cb =&gt; ::timeoutHandler);\n$w-&gt;recv;\n\nsub kickoff {\n    my $id = $gId ++;\n    if ($id &gt; $numOfUrls) { \n        if ($printed == 0) {\n            print \"done!!\\n\"; $printed = 1;\n        }\n        return;\n    }\n    #print \"$id\\n\";\n    http_get $urls[$id], headers =&gt; { }, sub { \n        my $statusCode = $_[1]-&gt;{Status};\n        #printf \"status $statusCode %d\\n\", time() - $start;\n        if (($id % 100) == 0) {\n            print \"$id\\n\";\n        }\n        if ($statusCode != $expectedRespCode) {\n            print \"unexpected resp code $id:$statusCode $urls[$id]\\n\";\n        }\n    };\n}\n\nsub timeoutHandler {\n    #print time(), \"|\\n\";\n    if (! defined $start) {\n        $start = getTS(); kickoff(); $spawned = 1; return;\n    }\n    my $delta = getTS() - $start;\n    my $target = $delta * $rate;\n    #printf \"%.4f %4d $spawned\\n\", $delta, $target;\n    for (; $spawned &lt;= $target; $spawned++) {\n        kickoff();\n    }\n    if ($delta &gt;= 1.0 ) {\n        $start += 1.0; $spawned = 0;\n    }\n}\n\nsub readUrls {\n    my $fname = shift;\n    my $line;\n    open FD, $fname || die \"Failed to open $fname $!\\n\";\n    while (&lt;FD&gt;) {\n        chomp($line = $_);\n        push @urls, $line;\n    }\n    close FD;\n}\n\nsub getTS {\n    my ($seconds, $microseconds) = gettimeofday;\n    return $seconds + (0.0+ $microseconds)/1000000.0;\n}\n</code></pre>\n"}, {"tags": ["python", "json", "perl"], "comments": [{"owner": {"reputation": 6961, "user_id": 1248974, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/ClqC2.jpg?s=128&g=1", "display_name": "davedwards", "link": "https://stackoverflow.com/users/1248974/davedwards"}, "edited": false, "score": 0, "creation_date": 1492713407, "post_id": 43527243, "comment_id": 74107836, "body": "seems related to this question <a href=\"http://stackoverflow.com/questions/20128772/python-no-json-object-could-be-decoded\">Python No JSON object could be decoded</a>, maybe try copying the file contents into something like <a href=\"http://jsonlint.com\" rel=\"nofollow noreferrer\">jsonlist.com</a>&#39;s validator and adjust as necessary"}, {"owner": {"reputation": 1050, "user_id": 2537322, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/f72d4c37b7a4c7ede045f3bcb696df49?s=128&d=identicon&r=PG", "display_name": "meyer9", "link": "https://stackoverflow.com/users/2537322/meyer9"}, "edited": false, "score": 0, "creation_date": 1492713560, "post_id": 43527243, "comment_id": 74107939, "body": "In python 3, you need to read the file <code>f.read()</code>"}], "answers": [{"tags": [], "owner": {"reputation": 45741, "user_id": 744178, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/a3193139ea494c45e63752504f5ff1f2?s=128&d=identicon&r=PG", "display_name": "jwodder", "link": "https://stackoverflow.com/users/744178/jwodder"}, "is_accepted": false, "score": 0, "last_activity_date": 1492715798, "creation_date": 1492715798, "answer_id": 43528084, "question_id": 43527243, "link": "https://stackoverflow.com/questions/43527243/converting-a-perl-module-to-json-with-python/43528084#43528084", "title": "Converting a Perl module to JSON with Python", "body": "<p><a href=\"https://docs.python.org/3/library/json.html#json.dumps\" rel=\"nofollow noreferrer\"><code>json.dumps</code></a> converts from a Python object (like <code>{\"foo\": True}</code>) to a string representing that object as JSON (like <code>'{\"foo\": true}'</code>).  You appear to be trying to go the other way and convert a file containing JSON to a Python object; the function that does this is <a href=\"https://docs.python.org/3/library/json.html#json.load\" rel=\"nofollow noreferrer\"><code>json.load</code></a>.  However, that still won't work, as <code>Devices.pm</code> does not contain JSON.  You'll need to either write a Perl script that imports <code>Devices.pm</code> and then dumps its contents as actual JSON or else write a parser for Perl in Python.  I recommend the first approach.</p>\n"}, {"comments": [{"owner": {"reputation": 78982, "user_id": 1848654, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/84180c0f3c9c04f8b8f0613fc0129dac?s=128&d=identicon&r=PG", "display_name": "melpomene", "link": "https://stackoverflow.com/users/1848654/melpomene"}, "edited": false, "score": 0, "creation_date": 1492799135, "post_id": 43536812, "comment_id": 74151539, "body": "You need <code>do &#39;.&#47;data.pm&#39;</code>. Without <code>.&#47;</code> it looks for <code>data.pm</code> in <code>@INC</code>, not the current directory."}, {"owner": {"reputation": 53041, "user_id": 4653379, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/b3953dbedd0dabff5cbc3db9b0835b14?s=128&d=identicon&r=PG&f=1", "display_name": "zdim", "link": "https://stackoverflow.com/users/4653379/zdim"}, "reply_to_user": {"reputation": 78982, "user_id": 1848654, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/84180c0f3c9c04f8b8f0613fc0129dac?s=128&d=identicon&r=PG", "display_name": "melpomene", "link": "https://stackoverflow.com/users/1848654/melpomene"}, "edited": false, "score": 0, "creation_date": 1492799296, "post_id": 43536812, "comment_id": 74151624, "body": "@melpomene  Oh ... thank you, corrected. (I had no idea that <code>do</code> would go to <code>@INC</code>)  However, it worked exactly as posted for me (?).  (It&#39;s just better anyway.)"}, {"owner": {"reputation": 78982, "user_id": 1848654, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/84180c0f3c9c04f8b8f0613fc0129dac?s=128&d=identicon&r=PG", "display_name": "melpomene", "link": "https://stackoverflow.com/users/1848654/melpomene"}, "edited": false, "score": 0, "creation_date": 1492799306, "post_id": 43536812, "comment_id": 74151630, "body": "If you use <code>JSON::PP</code> instead of <code>JSON</code>, your code won&#39;t have any external dependencies because <a href=\"https://metacpan.org/pod/perl5140delta#New-Modules-and-Pragmata\" rel=\"nofollow noreferrer\"><code>JSON::PP</code> has been a core module since 5.14</a>."}, {"owner": {"reputation": 78982, "user_id": 1848654, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/84180c0f3c9c04f8b8f0613fc0129dac?s=128&d=identicon&r=PG", "display_name": "melpomene", "link": "https://stackoverflow.com/users/1848654/melpomene"}, "edited": false, "score": 0, "creation_date": 1492799336, "post_id": 43536812, "comment_id": 74151655, "body": "It still mostly works because perl adds <code>.</code> to <code>@INC</code> by default (but that&#39;s about to go away in 5.26)."}, {"owner": {"reputation": 53041, "user_id": 4653379, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/b3953dbedd0dabff5cbc3db9b0835b14?s=128&d=identicon&r=PG&f=1", "display_name": "zdim", "link": "https://stackoverflow.com/users/4653379/zdim"}, "reply_to_user": {"reputation": 78982, "user_id": 1848654, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/84180c0f3c9c04f8b8f0613fc0129dac?s=128&d=identicon&r=PG", "display_name": "melpomene", "link": "https://stackoverflow.com/users/1848654/melpomene"}, "edited": false, "score": 0, "creation_date": 1492799963, "post_id": 43536812, "comment_id": 74151993, "body": "@melpomene  Thank you for <code>JSON::PP</code> note, just the right thing here."}], "tags": [], "owner": {"reputation": 53041, "user_id": 4653379, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/b3953dbedd0dabff5cbc3db9b0835b14?s=128&d=identicon&r=PG&f=1", "display_name": "zdim", "link": "https://stackoverflow.com/users/4653379/zdim"}, "is_accepted": false, "score": 4, "last_activity_date": 1527130147, "last_edit_date": 1527130147, "creation_date": 1492760667, "answer_id": 43536812, "question_id": 43527243, "link": "https://stackoverflow.com/questions/43527243/converting-a-perl-module-to-json-with-python/43536812#43536812", "title": "Converting a Perl module to JSON with Python", "body": "<p>It seems that you need to read this with a Perl script (or one-liner) and so export proper JSON. </p>\n\n<p>First, what is shown is not valid Perl. I'll assume typos in posting for some basic syntax errors.</p>\n\n<p>There is also a missing <code>%</code> in front of <code>mylist</code>; in Perl variable names start with a sigil, <code>%</code> for hashes.  I'll assume that it is an omission in posting but that it is there. If not, you'd have to fix that.</p>\n\n<p>Let me then use a file <code>data.pm</code> such as</p>\n\n<pre>\n%mylist = ( \n    blah => { \n        other  => 9, \n        houses => 1,\n        etc    => [ { etc => '5', ppl => '3' }, { etc => '9', ppl => '5' } ]\n    }\n);\n</pre>\n\n<p>which is a short sample of posted data, with a few typos fixed.</p>\n\n<p>Here is a Perl script to make JSON from it. It uses <a href=\"https://perldoc.perl.org/functions/do.html\" rel=\"nofollow noreferrer\">do</a> to execute the file as a script, and thus read the data structure (hash) into the program. Then <a href=\"http://search.cpan.org/~makamaka/JSON-PP-2.27400/lib/JSON/PP.pm\" rel=\"nofollow noreferrer\">JSON::PP</a>\n module is used to make <code>JSON</code> out of it, since it should be installed on a system with Perl.</p>\n\n<pre><code>use warnings;\nuse strict;\nuse JSON::PP;\n\nmy %data = do './data.pm';\n\nmy $data_json = encode_json \\%data;\n\nprint $data_json, \"\\n\";  # just to see it\n\nmy $outfile = 'data.json';\nopen my $fh, '&gt;', $outfile or die \"Can't open $outfile: $!\";\nprint $fh $data_json, \"\\n\";\nclose $fh;\n</code></pre>\n\n<p>The whole job is done in the first two lines.  The <code>JSON::PP</code> is a core module (<a href=\"http://search.cpan.org/~jesse/perl-5.14.1/pod/perl5140delta.pod#New_Modules_and_Pragmata\" rel=\"nofollow noreferrer\">since v5.14</a>) but if an external dependency isn't a problem use <a href=\"http://search.cpan.org/~makamaka/JSON-2.90/lib/JSON.pm\" rel=\"nofollow noreferrer\">JSON</a>, which uses the fast <code>JSON::XS</code> if installed.</p>\n\n<p>This nicely fits in a one-liner</p>\n\n<pre><code>perl -MJSON::PP -wE'say encode_json { do \"./data.pm\" }' &gt; data.json\n</code></pre>\n\n<p>where the output is redirected to the file.</p>\n\n<p>Both the program and the one-liner output (broken over lines for readability)</p>\n\n<pre>\n{\"blah\":{\"other\":\"9\",\"houses\":\"1\",\"etc\":\n    [{\"ppl\":\"3\",\"etc\":\"5\"},{\"ppl\":\"5\",\"etc\":\"9\"}]}}\n</pre>\n\n<p>what is the content of the file <code>data.json</code> which is written. </p>\n\n<p>For this to work the <code>.pm</code> file has to contain only a valid Perl data structure.  If there is more variables than that one hash this won't work, since <code>do</code> doesn't return all that data.  Then you'd have to process the file by other means.</p>\n"}], "owner": {"reputation": 19, "user_id": 7323221, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/6c6dc90e0eb9b23df17ab6864976bb95?s=128&d=identicon&r=PG&f=1", "display_name": "Mara55789", "link": "https://stackoverflow.com/users/7323221/mara55789"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 647, "favorite_count": 0, "answer_count": 2, "score": 1, "last_activity_date": 1527130147, "creation_date": 1492713029, "last_edit_date": 1492716007, "question_id": 43527243, "link": "https://stackoverflow.com/questions/43527243/converting-a-perl-module-to-json-with-python", "title": "Converting a Perl module to JSON with Python", "body": "<p>I have a Perl (<code>.pm</code>) file that I've been trying to get into a JSON representation so that I can then search for keywords inside of it.</p>\n\n<p>The directory for my script is <code>/Devices/bin/script.py</code>.  The directory where the <code>.pm</code> file lives in one level up, so <code>/Devices/Devices.PM</code>. <code>Devices.PM</code> is just a static file containing data structured as dictionaries and lists like so:</p>\n\n<pre><code>mylist = (\n    blah =&gt; {\n        other       =9,\n        houses       =&gt; 1,\n        etc =&gt; [\n            {   etc   =&gt; '5',\n                ppl      =&gt; '3,\n                things       =&gt; \"etc\",\n                animals =&gt; [ 'blah-228', 'blah-229' ]\n            },\n            {   etc   =&gt; '9',\n                ppl      =&gt; '5',\n                things       =&gt; \"22\",\n                animals =&gt; [ 'blah-2', 'blah-5' ]\n            },\n        ],\n        partner =&gt; 'ets',\n        location =&gt; 'wherever',\n    },\n    blah =&gt; {\n        ppl =&gt; 6,\n        place =&gt; 101,\n        things =&gt; 'etc',\n        animals =&gt; 'whatever',\n    },\n</code></pre>\n\n<p>I have:</p>\n\n<pre><code>os.chdir(\"..\")\nwith open('Devices.pm', 'r') as f:\n    json_obj = json.dumps(f)\n    print json_obj\n</code></pre>\n\n<p>but I keep getting <code>TypeError: &lt;open file 'SwitchConfig.pm', mode 'w' at 0x10c1f69c0&gt; is not JSON serializable</code>. I have tried this several ways with no luck, including <code>json.dump(s)</code>. I keep getting different errors. Am I not understanding my <code>.pm</code> file structure correctly in order to turn it into a JSON representation?</p>\n"}, {"tags": ["perl"], "comments": [{"owner": {"reputation": 6254, "user_id": 2261424, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/a0beda634f65f29aace865be9504e5e6?s=128&d=identicon&r=PG", "display_name": "AntonH", "link": "https://stackoverflow.com/users/2261424/antonh"}, "edited": false, "score": 4, "creation_date": 1492712512, "post_id": 43527037, "comment_id": 74107342, "body": "You don&#39;t have the correct format for <code>open</code>. No mention of the variable used as file handle, for one thing. Check out <a href=\"https://perldoc.perl.org/functions/open.html\" rel=\"nofollow noreferrer\">the documentation here</a>."}, {"owner": {"reputation": 4191, "user_id": 1466640, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/c0630f2d5ac5fb844675c58d3d2dfa57?s=128&d=identicon&r=PG&f=1", "display_name": "AKHolland", "link": "https://stackoverflow.com/users/1466640/akholland"}, "edited": false, "score": 0, "creation_date": 1492712527, "post_id": 43527037, "comment_id": 74107357, "body": "See <a href=\"https://perldoc.perl.org/functions/open.html\" rel=\"nofollow noreferrer\">the documentation</a> for how to use <code>open</code>. Hint: you probably want 3 parameters, not 1."}, {"owner": {"reputation": 50468, "user_id": 1331451, "user_type": "registered", "accept_rate": 96, "profile_image": "https://i.stack.imgur.com/4ZPmj.png?s=128&g=1", "display_name": "simbabque", "link": "https://stackoverflow.com/users/1331451/simbabque"}, "edited": false, "score": 3, "creation_date": 1492712543, "post_id": 43527037, "comment_id": 74107366, "body": "Where do you run this from? The same directory as the program doesn&#39;t mean you run the program from that directory. The working dir will be where you invoked it."}, {"owner": {"reputation": 123805, "user_id": 622310, "user_type": "registered", "accept_rate": 33, "profile_image": "https://www.gravatar.com/avatar/8b6d35219e1808520bc238b28161e2e6?s=128&d=identicon&r=PG", "display_name": "Borodin", "link": "https://stackoverflow.com/users/622310/borodin"}, "edited": false, "score": 2, "creation_date": 1492713361, "post_id": 43527037, "comment_id": 74107817, "body": "52MB isn&#39;t a &quot;large&quot; file in any sense"}], "answers": [{"tags": [], "owner": {"reputation": 113221, "user_id": 100754, "user_type": "registered", "accept_rate": 90, "profile_image": "https://www.gravatar.com/avatar/7804ebae32fbadef38537d74a915c22f?s=128&d=identicon&r=PG", "display_name": "Sinan &#220;n&#252;r", "link": "https://stackoverflow.com/users/100754/sinan-%c3%9cn%c3%bcr"}, "is_accepted": false, "score": 2, "last_activity_date": 1492715392, "last_edit_date": 1492715392, "creation_date": 1492714219, "answer_id": 43527611, "question_id": 43527037, "link": "https://stackoverflow.com/questions/43527037/in-perl-why-cant-i-open-this-file-using-single-argument-open/43527611#43527611", "title": "In Perl, why can&#39;t I open this file using single argument open?", "body": "<p>See <a href=\"https://metacpan.org/pod/release/NWCLARK/perl-5.8.9/pod/perlopentut.pod#Single-Argument-Open\" rel=\"nofollow noreferrer\">perldoc perlopentut</a>:</p>\n\n<blockquote>\n  <h3>Single Argument Open</h3>\n  \n  <p>Remember how we said that Perl's open took two arguments? That was a passive prevarication. You see, it can also take just one argument. If and only if the variable is a global variable, not a lexical, you can pass open just one argument, the filehandle, and it will get the path from the global scalar variable of the same name.</p>\n\n<pre><code>$FILE = \"/etc/motd\";\nopen FILE or die \"can't open $FILE: $!\";\nwhile (&lt;FILE&gt;) {\n    # whatever\n}\n</code></pre>\n</blockquote>\n\n<p>Therefore, if you want single argument <code>open</code> to do what you want, you would have to write our code as</p>\n\n<pre><code>$big = 'VIXhx.csv';\nopen big or die \"Can't open '$big': $!\"; \n#   ^ &lt;-- look, no dollar sign before filehandle\n</code></pre>\n\n<p>Alternatively, you could do something like this:</p>\n\n<pre><code>$big = 'VIXhx.csv';\n*{$big} = \\$big;\nopen $big and print &lt;$big&gt;;\n</code></pre>\n\n<p>if you want to keep the <code>open $big</code>.</p>\n\n<p>But, relying on global variables and effects at a distance is not a good idea. Instead, use the three argument form of <code>open</code> to specify the filehandle, the mode, and the file name separately as in:</p>\n\n<pre><code>open my $vix_fh, '&lt;', $vix_file\n    or die \"Failed to open '$vix_file': $!\";\n</code></pre>\n\n<p>By the way, you won't even find this section on \"Single Argument Open\" in recent Perl documentation. The following note should give you and idea why:</p>\n\n<blockquote>\n  <p>Why is this here? Someone has to cater to the hysterical porpoises. It's something that's been in Perl since the very beginning, if not before.</p>\n</blockquote>\n\n<p>The single argument <code>open</code> can also be used to <a href=\"https://www.nu42.com/2014/10/how-does-open-0-print-turn-every-perl.html\" rel=\"nofollow noreferrer\">turn any Perl program</a> into a <a href=\"https://en.wikipedia.org/wiki/Quine_(computing)\" rel=\"nofollow noreferrer\">quine</a>.</p>\n"}, {"comments": [{"owner": {"reputation": 113221, "user_id": 100754, "user_type": "registered", "accept_rate": 90, "profile_image": "https://www.gravatar.com/avatar/7804ebae32fbadef38537d74a915c22f?s=128&d=identicon&r=PG", "display_name": "Sinan &#220;n&#252;r", "link": "https://stackoverflow.com/users/100754/sinan-%c3%9cn%c3%bcr"}, "edited": false, "score": 0, "creation_date": 1492714889, "post_id": 43527700, "comment_id": 74108714, "body": "Try <code>perl -e &#39;$big = &quot;&#47;etc&#47;passwd&quot;; *{$big} = \\$big; open $big and print &lt;$big&gt;&#39;</code>"}, {"owner": {"reputation": 48798, "user_id": 223226, "user_type": "registered", "accept_rate": 93, "profile_image": "https://i.stack.imgur.com/iGqE4.png?s=128&g=1", "display_name": "mpapec", "link": "https://stackoverflow.com/users/223226/mpapec"}, "reply_to_user": {"reputation": 113221, "user_id": 100754, "user_type": "registered", "accept_rate": 90, "profile_image": "https://www.gravatar.com/avatar/7804ebae32fbadef38537d74a915c22f?s=128&d=identicon&r=PG", "display_name": "Sinan &#220;n&#252;r", "link": "https://stackoverflow.com/users/100754/sinan-%c3%9cn%c3%bcr"}, "edited": false, "score": 1, "creation_date": 1492715093, "post_id": 43527700, "comment_id": 74108828, "body": "It takes <code>$big</code> as globtype and does one argument open. :)"}, {"owner": {"reputation": 2531, "user_id": 1067305, "user_type": "registered", "accept_rate": 31, "profile_image": "https://www.gravatar.com/avatar/d0d62c9f798697f2c32f86d66f5e4a86?s=128&d=identicon&r=PG", "display_name": "user1067305", "link": "https://stackoverflow.com/users/1067305/user1067305"}, "edited": false, "score": 0, "creation_date": 1492724914, "post_id": 43527700, "comment_id": 74113528, "body": "OK - I added the &#39;&lt;&#39; and open worked. But the TIE still doesn&#39;t work, and it won&#39;t accept the third argument, either separately or prepended to the filename."}], "tags": [], "owner": {"reputation": 48798, "user_id": 223226, "user_type": "registered", "accept_rate": 93, "profile_image": "https://i.stack.imgur.com/iGqE4.png?s=128&g=1", "display_name": "mpapec", "link": "https://stackoverflow.com/users/223226/mpapec"}, "is_accepted": false, "score": 2, "last_activity_date": 1492714489, "creation_date": 1492714489, "answer_id": 43527700, "question_id": 43527037, "link": "https://stackoverflow.com/questions/43527037/in-perl-why-cant-i-open-this-file-using-single-argument-open/43527700#43527700", "title": "In Perl, why can&#39;t I open this file using single argument open?", "body": "<p>Please check <code>perldoc -f open</code> on how to open files, what you did ended up in opening an empty filename,</p>\n\n<pre><code>strace perl -e '$big = \"/etc/passwd\"; open $big or die \"Cant open $big, $!,\"'\n</code></pre>\n\n<p>output</p>\n\n<pre><code>...\nopen(\"\", O_RDONLY)                      = -1 ENOENT (No such file or directory)\nwrite(2, \"Cant open /etc/passwd, No such f\"..., 64Cant open /etc/passwd, No such file or directory, at -e line 1.\n</code></pre>\n"}, {"tags": [], "owner": {"reputation": 2531, "user_id": 1067305, "user_type": "registered", "accept_rate": 31, "profile_image": "https://www.gravatar.com/avatar/d0d62c9f798697f2c32f86d66f5e4a86?s=128&d=identicon&r=PG", "display_name": "user1067305", "link": "https://stackoverflow.com/users/1067305/user1067305"}, "is_accepted": false, "score": 2, "last_activity_date": 1492729268, "creation_date": 1492729268, "answer_id": 43531271, "question_id": 43527037, "link": "https://stackoverflow.com/questions/43527037/in-perl-why-cant-i-open-this-file-using-single-argument-open/43531271#43531271", "title": "In Perl, why can&#39;t I open this file using single argument open?", "body": "<p>I found the answer to my original question, of why TIE didn't work.</p>\n\n<p>It turns out that the file used '0A' as the line terminator, so TIE, expecting '0D0A', read the whole 52MB file as one record.</p>\n\n<p>I added recsep => \"\\n\" to the TIE statement, and everything works fine.</p>\n"}], "owner": {"reputation": 2531, "user_id": 1067305, "user_type": "registered", "accept_rate": 31, "profile_image": "https://www.gravatar.com/avatar/d0d62c9f798697f2c32f86d66f5e4a86?s=128&d=identicon&r=PG", "display_name": "user1067305", "link": "https://stackoverflow.com/users/1067305/user1067305"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 195, "favorite_count": 0, "answer_count": 3, "score": 0, "last_activity_date": 1492789435, "creation_date": 1492712370, "last_edit_date": 1492789435, "question_id": 43527037, "link": "https://stackoverflow.com/questions/43527037/in-perl-why-cant-i-open-this-file-using-single-argument-open", "title": "In Perl, why can&#39;t I open this file using single argument open?", "body": "<p>The file is 52MB in size. It is in the same directory as the program.</p>\n\n<pre><code>$big = 'VIXhx.csv';\n\n# tie @optLine, 'Tie::File', $big or die \"Cant Tie to $big $!\" ; \n\nopen $big or die \"Cant open $big, $!,\" ; \n</code></pre>\n\n<p><code>Tie::File</code> gave no error message.</p>\n\n<p>Plain <code>open</code> gave the error message:</p>\n\n<blockquote>\n  <p>Cant open VIXhx.csv, No such file or directory, at C:\\Python34\\hsf\\ETFs\\VIX\\qad.\n  pl line 47. </p>\n</blockquote>\n\n<p>(Yes, it's in the Python directory - but Perl works fine there)</p>\n\n<p>I can open the file in the editor, so there doesn't seem to be a problem with the file itself.</p>\n\n<p>I have a smaller file in the same program that opened with no problem in <code>Tie::File</code>.</p>\n\n<pre><code>$dat = 'ETF5Y.csv';\n\ntie @datLine, 'Tie::File', $dat or die \"Cant Tie to $dat $!\" ; \n</code></pre>\n\n<p>Is it possible that Perl is unable to open a file if it's too large?</p>\n"}, {"tags": ["perl"], "comments": [{"owner": {"user_type": "does_not_exist", "display_name": "user933161"}, "edited": false, "score": 0, "creation_date": 1492713189, "post_id": 43525197, "comment_id": 74107740, "body": "You return too early and can multiply by zero if you don&#39;t."}], "answers": [{"tags": [], "owner": {"reputation": 53041, "user_id": 4653379, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/b3953dbedd0dabff5cbc3db9b0835b14?s=128&d=identicon&r=PG&f=1", "display_name": "zdim", "link": "https://stackoverflow.com/users/4653379/zdim"}, "is_accepted": false, "score": 0, "last_activity_date": 1501923044, "last_edit_date": 1501923044, "creation_date": 1492707007, "answer_id": 43525437, "question_id": 43525197, "link": "https://stackoverflow.com/questions/43525197/subroutine-error-calculating-factorial-useless-use-of-private-variable-in-void/43525437#43525437", "title": "Subroutine error calculating factorial: Useless use of private variable in void context", "body": "<p>The variable (statement) <code>$input</code> in <code>for ($input; ...)</code> serves no purpose and does nothing. By adding <code>use diagnostics;</code> to the top of the program you'll get</p>\n\n<blockquote>\n  <p>Useless use of private variable in void context at t.pl line 19 (#1)<br>\n      (W void) You did something without a side effect in a context that does\n      nothing with the return value, [...]</p>\n</blockquote>\n\n<p>You can also see this and directly fix it by</p>\n\n<pre><code>for (my $input = shift; $input &gt; 0; $input -= 1) {\n</code></pre>\n\n<p>or</p>\n\n<pre><code>my ($input) = @_;\nfor (; $input &gt; 0; $input -= 1) { ...\n</code></pre>\n\n<p>but then the rest is incorrect since <code>$factorial</code> is declared anew at every interation, and you return right away. So move the declaration part (<code>my $factorial;</code>) to before the loop and move <code>return</code> to after the loop. Then your code works -- other than for <code>0</code>, for which factorial need be <code>1</code>.</p>\n\n<p>There are other ways, for example</p>\n\n<pre><code>sub factorial {\n    my ($input) = @_;\n    my $factorial = $input || 1              # 0! == 1\n    $factorial *= $input while --$input &gt; 1;\n    return $factorial;\n}\n</code></pre>\n\n<p>or the \"standard\" recursive way</p>\n\n<pre><code>sub factorial {\n  my ($input) = @_;\n  return 1 if $input == 0;\n  return factorial($input-1) * $input;\n}\n</code></pre>\n"}, {"tags": [], "owner": {"reputation": 320771, "user_id": 589924, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/b2cf53d5a3d25f95c0db4e025aed4153?s=128&d=identicon&r=PG", "display_name": "ikegami", "link": "https://stackoverflow.com/users/589924/ikegami"}, "is_accepted": false, "score": 1, "last_activity_date": 1492707761, "last_edit_date": 1492707761, "creation_date": 1492707262, "answer_id": 43525526, "question_id": 43525197, "link": "https://stackoverflow.com/questions/43525197/subroutine-error-calculating-factorial-useless-use-of-private-variable-in-void/43525526#43525526", "title": "Subroutine error calculating factorial: Useless use of private variable in void context", "body": "<pre><code>for (A; B; C) { ... }\n</code></pre>\n\n<p>is basically</p>\n\n<pre><code>A;\nwhile (B) { ... } continue { C }\n</code></pre>\n\n<p>so you are evaluating the following:</p>\n\n<pre><code>$input;\n</code></pre>\n\n<p>That has no effect, so Perl warns you that you probably didn't mean to do that!</p>\n\n<hr>\n\n<p>Your loop makes no sense! You always return the first pass through. Worse, you don't return anything meaningful when <code>$input</code> is zero!</p>\n\n<pre><code>sub factorial {\n    my ($n) = @_;\n    my $accumulator = 1;\n    for (; $n&gt;0; --$n) {\n       $accumulator *= $n;\n    }\n\n    return $accumulator;\n}\n</code></pre>\n\n<p>There's rarely any reason to a C-style loop in Perl. The following is clearer:</p>\n\n<pre><code>sub factorial {\n    my ($n) = @_;\n    my $accumulator = 1;\n    for my $i (2..$n) {\n       $accumulator *= $i;\n    }\n\n    return $accumulator;\n}\n</code></pre>\n\n<p>or</p>\n\n<pre><code>sub factorial {\n    my ($n) = @_;\n    my $accumulator = 1;\n    $accumulator *= $_ for 2..$n;\n    return $accumulator;\n}\n</code></pre>\n"}], "owner": {"reputation": 3, "user_id": 7896796, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/ded963edd930c751533beaa332f192a0?s=128&d=identicon&r=PG&f=1", "display_name": "E.L", "link": "https://stackoverflow.com/users/7896796/e-l"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 96, "favorite_count": 0, "answer_count": 2, "score": 0, "last_activity_date": 1501923044, "creation_date": 1492706282, "last_edit_date": 1492713636, "question_id": 43525197, "link": "https://stackoverflow.com/questions/43525197/subroutine-error-calculating-factorial-useless-use-of-private-variable-in-void", "title": "Subroutine error calculating factorial: Useless use of private variable in void context", "body": "<p>I just started to learn Perl and have troubles to calculating factorials iteratively. </p>\n\n<p>With this code I get the error:</p>\n\n<blockquote>\n  <p>Useless use of private variable in void context  </p>\n</blockquote>\n\n<pre><code>sub factorial {\n    my ($input) = @_; #assigning argument\n\n    for ( $input; $input &gt; 0; $input -= 1 ) {\n        my $factorial = $input * ($input -1);\n        return $factorial;\n    }\n}\n</code></pre>\n\n<p>Has anybody an idea what went wrong there? </p>\n"}, {"tags": ["perl", "perl-module", "cpan"], "comments": [{"owner": {"reputation": 50468, "user_id": 1331451, "user_type": "registered", "accept_rate": 96, "profile_image": "https://i.stack.imgur.com/4ZPmj.png?s=128&g=1", "display_name": "simbabque", "link": "https://stackoverflow.com/users/1331451/simbabque"}, "edited": false, "score": 2, "creation_date": 1492702198, "post_id": 43523744, "comment_id": 74101076, "body": "Make sure that <code>cpan</code> and <code>perl</code> are for the same Perl installation. Call <code>which perl</code> and <code>which cpan</code> for a start. Also look at <code>@INC</code> with <code>perl -E &#39;say for @INC&#39;</code>. Is the path that <code>cpan</code> installed your module to in there?"}, {"owner": {"reputation": 109, "user_id": 2021306, "user_type": "registered", "accept_rate": 67, "profile_image": "https://www.gravatar.com/avatar/f0987f87cb72a18b599c8e2480eaccb4?s=128&d=identicon&r=PG", "display_name": "voiDnyx", "link": "https://stackoverflow.com/users/2021306/voidnyx"}, "reply_to_user": {"reputation": 50468, "user_id": 1331451, "user_type": "registered", "accept_rate": 96, "profile_image": "https://i.stack.imgur.com/4ZPmj.png?s=128&g=1", "display_name": "simbabque", "link": "https://stackoverflow.com/users/1331451/simbabque"}, "edited": false, "score": 0, "creation_date": 1492703243, "post_id": 43523744, "comment_id": 74101808, "body": "How can I see where cpan installed the module? cpan/perl point to <code>&#47;usr&#47;bin&#47;perl</code> , <code>&#47;usr&#47;bin&#47;cpan</code>"}], "answers": [{"comments": [{"owner": {"reputation": 109, "user_id": 2021306, "user_type": "registered", "accept_rate": 67, "profile_image": "https://www.gravatar.com/avatar/f0987f87cb72a18b599c8e2480eaccb4?s=128&d=identicon&r=PG", "display_name": "voiDnyx", "link": "https://stackoverflow.com/users/2021306/voidnyx"}, "edited": false, "score": 0, "creation_date": 1492704143, "post_id": 43524464, "comment_id": 74102408, "body": "I tried this, but still get the same error. <code>~$ echo $PERL5LIB &#47;home&#47;florian&#47;perl5&#47;lib</code> (also @INC contains <code>&#47;home&#47;florian&#47;perl5&#47;lib</code>, so it should have found it there right?)"}, {"owner": {"reputation": 38072, "user_id": 46395, "user_type": "registered", "accept_rate": 71, "profile_image": "https://www.gravatar.com/avatar/5ce828f20abb195ef5d971205ee36c27?s=128&d=identicon&r=PG", "display_name": "daxim", "link": "https://stackoverflow.com/users/46395/daxim"}, "edited": false, "score": 2, "creation_date": 1492705031, "post_id": 43524464, "comment_id": 74102987, "body": "Include path is correct with one directory deeper: <code>&#47;home&#47;florian&#47;perl5&#47;lib&#47;perl5</code>"}, {"owner": {"reputation": 109, "user_id": 2021306, "user_type": "registered", "accept_rate": 67, "profile_image": "https://www.gravatar.com/avatar/f0987f87cb72a18b599c8e2480eaccb4?s=128&d=identicon&r=PG", "display_name": "voiDnyx", "link": "https://stackoverflow.com/users/2021306/voidnyx"}, "edited": false, "score": 0, "creation_date": 1492705694, "post_id": 43524464, "comment_id": 74103370, "body": "Thank you,  this fixed it :). On a side note, how can I reset cpan to install to default location?"}, {"owner": {"reputation": 320771, "user_id": 589924, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/b2cf53d5a3d25f95c0db4e025aed4153?s=128&d=identicon&r=PG", "display_name": "ikegami", "link": "https://stackoverflow.com/users/589924/ikegami"}, "edited": false, "score": 2, "creation_date": 1492706511, "post_id": 43524464, "comment_id": 74103820, "body": "<code>printf &#39;o conf makepl_arg &quot;&quot;\\no conf mbuildpl_arg &quot;&quot;\\no conf commit\\n&#39; | cpan</code> tells <code>cpan</code> not to pass any arguments (its default) to <code>Makefile.PL</code> and <code>Build.PL</code>. /// <code>Makefile.PL</code> and <code>Build.PL</code> also check env vars, so stop setting env vars <code>PERL_MM_OPT</code> and <code>PERL_MB_OPT</code> if you are."}, {"owner": {"reputation": 320771, "user_id": 589924, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/b2cf53d5a3d25f95c0db4e025aed4153?s=128&d=identicon&r=PG", "display_name": "ikegami", "link": "https://stackoverflow.com/users/589924/ikegami"}, "reply_to_user": {"reputation": 38072, "user_id": 46395, "user_type": "registered", "accept_rate": 71, "profile_image": "https://www.gravatar.com/avatar/5ce828f20abb195ef5d971205ee36c27?s=128&d=identicon&r=PG", "display_name": "daxim", "link": "https://stackoverflow.com/users/46395/daxim"}, "edited": false, "score": 0, "creation_date": 1492706557, "post_id": 43524464, "comment_id": 74103853, "body": "@daxim, Oops, fixed"}], "tags": [], "owner": {"reputation": 320771, "user_id": 589924, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/b2cf53d5a3d25f95c0db4e025aed4153?s=128&d=identicon&r=PG", "display_name": "ikegami", "link": "https://stackoverflow.com/users/589924/ikegami"}, "is_accepted": true, "score": 6, "last_activity_date": 1492706549, "last_edit_date": 1492706549, "creation_date": 1492703816, "answer_id": 43524464, "question_id": 43523744, "link": "https://stackoverflow.com/questions/43523744/perl-module-still-not-found-after-install-with-cpan/43524464#43524464", "title": "Perl Module still not found after install with cpan", "body": "<p>You've configured CPAN is installing the module in a non-standard location (<code>/home/florian/perl5/lib/perl5</code>), but you didn't tell Perl to look there for modules.</p>\n\n<pre><code>export PERL5LIB=/home/florian/perl5/lib/perl5\n</code></pre>\n\n<p>or</p>\n\n<pre><code>use lib qw( /home/florian/perl5/lib/perl5 );\n</code></pre>\n"}], "owner": {"reputation": 109, "user_id": 2021306, "user_type": "registered", "accept_rate": 67, "profile_image": "https://www.gravatar.com/avatar/f0987f87cb72a18b599c8e2480eaccb4?s=128&d=identicon&r=PG", "display_name": "voiDnyx", "link": "https://stackoverflow.com/users/2021306/voidnyx"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 3513, "favorite_count": 1, "accepted_answer_id": 43524464, "answer_count": 1, "score": 0, "last_activity_date": 1492706549, "creation_date": 1492701807, "question_id": 43523744, "link": "https://stackoverflow.com/questions/43523744/perl-module-still-not-found-after-install-with-cpan", "title": "Perl Module still not found after install with cpan", "body": "<p>I am having trouble getting a progam called RepeatMasker to work. I get following error:</p>\n\n<pre><code>~$ RepeatMasker\nCan't locate Text/Soundex.pm in @INC (you may need to\ninstall the Text::Soundex module) (@INC contains: /home/florian/Masterarbeit/RepeatMasker\n/etc/perl\n/usr/local/lib/x86_64-linux-gnu/perl/5.22.1\n/usr/local/share/perl/5.22.1\n/usr/lib/x86_64-linux-gnu/perl5/5.22 \n/usr/share/perl5 /usr/lib/x86_64-linux-gnu/perl/5.22\n/usr/share/perl/5.22 /usr/local/lib/site_perl\n/usr/lib/x86_64-linux-gnu/perl-base .) \nat /home/florian/Masterarbeit/RepeatMasker/Taxonomy.pm line 83.\n\nBEGIN failed--compilation aborted at /home/florian/Masterarbeit/RepeatMasker/Taxonomy.pm line 83.\nCompilation failed in require at /home/florian/Masterarbeit/RepeatMasker/RepeatMasker line 313.\nBEGIN failed--compilation aborted at /home/florian/Masterarbeit/RepeatMasker/RepeatMasker line 313.\n</code></pre>\n\n<p>Now, I tried to install the missing module via cpan / cpanm:</p>\n\n<pre><code>~$ cpan install Text::Soundex\nLoading internal null logger. Install Log::Log4perl for logging messages\nCPAN: Storable loaded ok (v2.53_01)\nReading '/home/florian/.cpan/Metadata'\n  Database was generated on Thu, 20 Apr 2017 11:41:02 GMT\nRunning install for module 'Text::Soundex'\nCPAN: Digest::SHA loaded ok (v5.95)\nCPAN: Compress::Zlib loaded ok (v2.068)\nChecksum for /home/florian/.cpan/sources/authors/id/R/RJ/RJBS/Text-Soundex-3.05.tar.gz ok\nCPAN: File::Temp loaded ok (v0.2304)\nCPAN: YAML loaded ok (v1.15)\nCPAN: CPAN::Meta::Requirements loaded ok (v2.140)\nCPAN: Parse::CPAN::Meta loaded ok (v1.4414)\nCPAN: CPAN::Meta loaded ok (v2.150005)\nCPAN: Module::CoreList loaded ok (v5.20151213)\nConfiguring R/RJ/RJBS/Text-Soundex-3.05.tar.gz with Makefile.PL\nWARNING: Option INSTALLDIRS=site was not recognized. (ignoring)\nThe XS code will be compiled.\nChecking if your kit is complete...\nLooks good\nGenerating a Unix-style Makefile\nWriting Makefile for Text::Soundex\nWriting MYMETA.yml and MYMETA.json\n  RJBS/Text-Soundex-3.05.tar.gz\n  /usr/bin/perl Makefile.PL INSTALLDIRS=site -- OK\nRunning make for R/RJ/RJBS/Text-Soundex-3.05.tar.gz\ncp Soundex.pm blib/lib/Text/Soundex.pm\nRunning Mkbootstrap for Text::Soundex ()\nchmod 644 \"Soundex.bs\"\n\"/usr/bin/perl\" \"/usr/share/perl/5.22/ExtUtils/xsubpp\"  -typemap \"/usr/share/perl/5.22/ExtUtils/typemap\"  Soundex.xs &gt; Soundex.xsc &amp;&amp; mv Soundex.xsc Soundex.c\nx86_64-linux-gnu-gcc -c   -D_REENTRANT -D_GNU_SOURCE -DDEBIAN -fwrapv -fno-strict-aliasing -pipe -I/usr/local/include -D_LARGEFILE_SOURCE -D_FILE_OFFSET_BITS=64 -O2 -g   -DVERSION=\\\"3.05\\\" -DXS_VERSION=\\\"3.05\\\" -fPIC \"-I/usr/lib/x86_64-linux-gnu/perl/5.22/CORE\"   Soundex.c\nrm -f blib/arch/auto/Text/Soundex/Soundex.so\nx86_64-linux-gnu-gcc  -shared -L/usr/local/lib -fstack-protector-strong Soundex.o  -o blib/arch/auto/Text/Soundex/Soundex.so    \\\n        \\\n\nchmod 755 blib/arch/auto/Text/Soundex/Soundex.so\n\"/usr/bin/perl\" -MExtUtils::Command::MM -e 'cp_nonempty' -- Soundex.bs blib/arch/auto/Text/Soundex/Soundex.bs 644\nManifying 1 pod document\n  RJBS/Text-Soundex-3.05.tar.gz\n  /usr/bin/make -- OK\nRunning make test\nRunning Mkbootstrap for Text::Soundex ()\nchmod 644 \"Soundex.bs\"\nPERL_DL_NONLAZY=1 \"/usr/bin/perl\" \"-MExtUtils::Command::MM\" \"-MTest::Harness\" \"-e\" \"undef *Test::Harness::Switches; test_harness(0, 'blib/lib', 'blib/arch')\" t/*.t\nt/basic.t .. ok    \nAll tests successful.\nFiles=1, Tests=18,  0 wallclock secs ( 0.01 usr +  0.00 sys =  0.01 CPU)\nResult: PASS\n  RJBS/Text-Soundex-3.05.tar.gz\n  /usr/bin/make test -- OK\nRunning make install\nManifying 1 pod document\nFiles found in blib/arch: installing files in blib/lib into architecture dependent library tree\nInstalling /home/florian/perl5/lib/perl5/x86_64-linux-gnu-thread-multi/auto/Text/Soundex/Soundex.so\nAppending installation info to /home/florian/perl5/lib/perl5/x86_64-linux-gnu-thread-multi/perllocal.pod\n  RJBS/Text-Soundex-3.05.tar.gz\n  /usr/bin/make install  -- OK\n</code></pre>\n\n<p>Seems it worked. But I still get the same error above. I am pretty lost, is it getting installed in a wrong location? Where?</p>\n"}, {"tags": ["perl", "undef"], "answers": [{"comments": [{"owner": {"reputation": 87649, "user_id": 17389, "user_type": "registered", "accept_rate": 38, "profile_image": "https://www.gravatar.com/avatar/cd06d1314817ce946ab796af8750b56a?s=128&d=identicon&r=PG", "display_name": "ysth", "link": "https://stackoverflow.com/users/17389/ysth"}, "edited": false, "score": 1, "creation_date": 1492697791, "post_id": 43521765, "comment_id": 74097557, "body": "yes, this is what is happening, but the doc seems to be wrong, since this is clearly not a read/write mode"}, {"owner": {"reputation": 52334, "user_id": 702638, "user_type": "registered", "accept_rate": 98, "profile_image": "https://www.gravatar.com/avatar/892f65bc0a8a0949ab88598de7d83cab?s=128&d=identicon&r=PG", "display_name": "Hunter McMillen", "link": "https://stackoverflow.com/users/702638/hunter-mcmillen"}, "edited": false, "score": 0, "creation_date": 1492698135, "post_id": 43521765, "comment_id": 74097841, "body": "the read/write mode is <code>+&gt;</code> AND the third argument is <code>undef</code>. It is just worded poorly"}, {"owner": {"reputation": 61508, "user_id": 78259, "user_type": "registered", "accept_rate": 53, "profile_image": "https://www.gravatar.com/avatar/844c572938eaad1e44eb084fb39416f9?s=128&d=identicon&r=PG", "display_name": "Chas. Owens", "link": "https://stackoverflow.com/users/78259/chas-owens"}, "reply_to_user": {"reputation": 87649, "user_id": 17389, "user_type": "registered", "accept_rate": 38, "profile_image": "https://www.gravatar.com/avatar/cd06d1314817ce946ab796af8750b56a?s=128&d=identicon&r=PG", "display_name": "ysth", "link": "https://stackoverflow.com/users/17389/ysth"}, "edited": false, "score": 0, "creation_date": 1492699286, "post_id": 43521765, "comment_id": 74098813, "body": "Hmm, good point @ysth, I glossed over it in my anger.  I read it as read or write mode, but it is pretty explicit that it is for read+write or write+read modes.  So, either this is a bug or poorly documented."}], "tags": [], "owner": {"reputation": 61508, "user_id": 78259, "user_type": "registered", "accept_rate": 53, "profile_image": "https://www.gravatar.com/avatar/844c572938eaad1e44eb084fb39416f9?s=128&d=identicon&r=PG", "display_name": "Chas. Owens", "link": "https://stackoverflow.com/users/78259/chas-owens"}, "is_accepted": false, "score": 17, "last_activity_date": 1492783871, "last_edit_date": 1492783871, "creation_date": 1492696947, "answer_id": 43521765, "question_id": 43521764, "link": "https://stackoverflow.com/questions/43521764/why-does-opening-an-undef-not-fail/43521765#43521765", "title": "Why does opening an undef not fail?", "body": "<p>The <a href=\"http://perldoc.perl.org/functions/open.html\" rel=\"nofollow noreferrer\">open</a> function has lots of little quirks, this is one of them:</p>\n\n<blockquote>\n  <p>As a special case the three-argument form with a read/write mode and\n  the third argument being \"undef\":</p>\n\n<pre><code>open(my $tmp, \"+&gt;\", undef) or die ...\n</code></pre>\n  \n  <p>opens a filehandle to an anonymous temporary file. Also using \"+&lt;\"\n  works for symmetry, but you really should consider writing something\n  to the temporary file first. You will need to seek() to do the\n  reading.</p>\n</blockquote>\n\n<p>Although, as ysth notes in the comments, the documentation strongly suggests that this should only happen for \"+&lt;\" and \">+\" modes.  I believe this is the code that implements the behavior.  It does not check the mode.  I do not know if this is a bug or not, but will report back after talking to P5P.</p>\n\n<pre><code>PerlIO *\nPerlIO_openn(pTHX_ const char *layers, const char *mode, int fd,\n             int imode, int perm, PerlIO *f, int narg, SV **args)\n{\n    if (!f &amp;&amp; narg == 1 &amp;&amp; *args == &amp;PL_sv_undef) {\n        if ((f = PerlIO_tmpfile())) {\n            if (!layers || !*layers)\n                layers = Perl_PerlIO_context_layers(aTHX_ mode);\n            if (layers &amp;&amp; *layers)\n                PerlIO_apply_layers(aTHX_ f, mode, layers);\n        }\n    }\n</code></pre>\n\n<p>Apparently, the documentation was <a href=\"https://perl5.git.perl.org/perl.git/commitdiff/32458de9a4322bd2e66c525d33720a42df7e0b56\" rel=\"nofollow noreferrer\">fixed in blead perl in November</a>:</p>\n\n<pre><code>diff --git a/pod/perlfunc.pod b/pod/perlfunc.pod\nindex 18bb4654e1..1e32cca6dd 100644\n--- a/pod/perlfunc.pod\n+++ b/pod/perlfunc.pod\n@@ -4405,9 +4405,9 @@ argument being L&lt;C&lt;undef&gt;|/undef EXPR&gt;:\n\n     open(my $tmp, \"+&gt;\", undef) or die ...\n\n-opens a filehandle to an anonymous temporary file.  Also using C&lt;&lt; +&lt; &gt;&gt;\n-works for symmetry, but you really should consider writing something\n-to the temporary file first.  You will need to\n+opens a filehandle to a newly created empty anonymous temporary file.\n+(This happens under any mode, which makes C&lt;&lt; +&gt; &gt;&gt; the only useful and\n+sensible mode to use.)  You will need to\n L&lt;C&lt;seek&gt;|/seek FILEHANDLE,POSITION,WHENCE&gt; to do the reading.\n\n Perl is built using PerlIO by default.  Unless you've\n</code></pre>\n"}], "owner": {"reputation": 61508, "user_id": 78259, "user_type": "registered", "accept_rate": 53, "profile_image": "https://www.gravatar.com/avatar/844c572938eaad1e44eb084fb39416f9?s=128&d=identicon&r=PG", "display_name": "Chas. Owens", "link": "https://stackoverflow.com/users/78259/chas-owens"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 127, "favorite_count": 1, "answer_count": 1, "score": 9, "last_activity_date": 1492783871, "creation_date": 1492696947, "last_edit_date": 1492711500, "question_id": 43521764, "link": "https://stackoverflow.com/questions/43521764/why-does-opening-an-undef-not-fail", "title": "Why does opening an undef not fail?", "body": "<p>This code dies as I expect it to:</p>\n\n<pre><code>use strict;\nuse warnings;\n\nopen my $fh, \"&lt;\", \"\" or die $!;\n</code></pre>\n\n<p>But this does not:</p>\n\n<pre><code>use strict;\nuse warnings;\n\nopen my $fh, \"&lt;\", undef or die $!;\n</code></pre>\n\n<p>What is going on here?</p>\n"}, {"tags": ["perl", "oop", "code-generation", "moose"], "comments": [{"owner": {"reputation": 91, "user_id": 3848751, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/e21f562f44f3c28edecab9cbe5442329?s=128&d=identicon&r=PG&f=1", "display_name": "Sergun_spb", "link": "https://stackoverflow.com/users/3848751/sergun-spb"}, "edited": false, "score": 0, "creation_date": 1492704129, "post_id": 43520984, "comment_id": 74102399, "body": "Because when you calling $a-&gt;generate  you add this attribut to class Cat,  not to the instance of this class Cat ($a) .  And even you add to instance(object) this field  will be  not initialized."}], "answers": [{"tags": [], "owner": {"reputation": 1445, "user_id": 1441592, "user_type": "registered", "accept_rate": 40, "profile_image": "https://www.gravatar.com/avatar/2a58917def8d1523a840b52ae7d59d21?s=128&d=identicon&r=PG", "display_name": "Paul Serikov", "link": "https://stackoverflow.com/users/1441592/paul-serikov"}, "is_accepted": false, "score": 0, "last_activity_date": 1492701205, "creation_date": 1492701205, "answer_id": 43523501, "question_id": 43520984, "link": "https://stackoverflow.com/questions/43520984/why-same-function-call-bring-different-results-in-object-internals/43523501#43523501", "title": "Why same function call bring different results in object internals?", "body": "<p>Since <code>generate</code> is not object, but class method, it's needed to call it before <code>new</code>:</p>\n\n<pre><code>Cat-&gt;generate;\nmy $a = Cat-&gt;new;\n</code></pre>\n"}], "owner": {"reputation": 1445, "user_id": 1441592, "user_type": "registered", "accept_rate": 40, "profile_image": "https://www.gravatar.com/avatar/2a58917def8d1523a840b52ae7d59d21?s=128&d=identicon&r=PG", "display_name": "Paul Serikov", "link": "https://stackoverflow.com/users/1441592/paul-serikov"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 90, "favorite_count": 0, "answer_count": 1, "score": 3, "last_activity_date": 1492701205, "creation_date": 1492694980, "last_edit_date": 1492699101, "question_id": 43520984, "link": "https://stackoverflow.com/questions/43520984/why-same-function-call-bring-different-results-in-object-internals", "title": "Why same function call bring different results in object internals?", "body": "<p>I'm dynamically adding classes, methods and attributes using Moose::Meta::Class.</p>\n\n<p>Can someone explain why this code is working (calling <code>generate()</code> subroutine internally, inside <code>Cat</code> class):</p>\n\n<pre><code>package Cat;\n\nuse Moose;\n\nsub generate {\n\n    my $siberian = Moose::Meta::Class-&gt;create( 'Siberian' );\n    $siberian-&gt;add_method( echo =&gt; sub { print \"yeah!\\n\" } );\n\n\n    my $tiger = Moose::Meta::Class-&gt;create( 'Tiger' );\n    $tiger-&gt;add_attribute(\n        Siberian =&gt; {\n            is      =&gt; 'ro',\n            default =&gt; sub { $siberian-&gt;new_object; }\n        },\n    );\n\n    __PACKAGE__-&gt;meta-&gt;add_attribute(\n        Tiger =&gt; {\n            is      =&gt; 'ro',\n            default =&gt; sub { $tiger-&gt;new_object },\n        },\n    );\n\n    print \"Generation done!\\n\";\n}\n\ngenerate();\n\n\npackage main;\n\nuse Data::Printer;\n\nmy $a = Cat-&gt;new;\n\n# $a-&gt;generate;\np( $a );\n$a-&gt;Tiger-&gt;Siberian-&gt;echo;    # returns 'yeah!'\n</code></pre>\n\n<p>output of <code>p($a)</code>:</p>\n\n<pre><code>Cat  {\n    Parents       Moose::Object\n    public methods (3) : generate, meta, Tiger\n    private methods (0)\n    internals: {\n        Tiger   Tiger\n    }\n}\n</code></pre>\n\n<p>and this one (calling <code>generate</code> sub externally, via <code>$a-&gt;generate</code>) doesn't:</p>\n\n<pre><code>package Cat;\nuse Moose;\n\nsub generate {\n\n    my $siberian = Moose::Meta::Class-&gt;create('Siberian');\n    $siberian-&gt;add_method(\n        echo =&gt; sub { print \"yeah!\\n\" }\n    );\n\n    my $tiger = Moose::Meta::Class-&gt;create('Tiger');\n    $tiger-&gt;add_attribute(\n        Siberian =&gt; {\n            is      =&gt; 'ro',\n            default =&gt; sub { $siberian-&gt;new_object; }\n        },\n    );\n\n    __PACKAGE__-&gt;meta-&gt;add_attribute(\n        Tiger =&gt; {\n            is      =&gt; 'ro',\n            default =&gt; sub { $tiger-&gt;new_object },\n        },\n    );\n\n    print \"Generation done!\\n\";\n\n}\n\n# generate();\n\n\npackage main;\nuse Data::Printer;\n\nmy $a = Cat-&gt;new;\n$a-&gt;generate;\np($a);\n$a-&gt;Tiger-&gt;Siberian-&gt;echo; # returns 'yeah!'\n</code></pre>\n\n<p>output of <code>p($a)</code>:</p>\n\n<pre><code>Cat  {\n    Parents       Moose::Object\n    public methods (3) : generate, meta, Tiger\n    private methods (0)\n    internals: {}\n}\n</code></pre>\n\n<p>and program returns an error:</p>\n\n<blockquote>\n  <p>Can't call method \"Siberian\" on an undefined value at base2.pl line\n  39.</p>\n</blockquote>\n"}, {"tags": ["perl", "unicode", "irssi"], "comments": [{"owner": {"reputation": 50468, "user_id": 1331451, "user_type": "registered", "accept_rate": 96, "profile_image": "https://i.stack.imgur.com/4ZPmj.png?s=128&g=1", "display_name": "simbabque", "link": "https://stackoverflow.com/users/1331451/simbabque"}, "edited": false, "score": 0, "creation_date": 1492694706, "post_id": 43520155, "comment_id": 74095021, "body": "The documentation of what? You would have to create a mapping. Possibly there is already a module on CPAN that does something similar. Going from  \ud83d\ude04 (<code>U+1F604: SMILING FACE WITH OPEN MOUTH AND SMILING EYES</code>) to <code>:D</code> should be fairly simple. You build a lookup table with a hash."}, {"owner": {"reputation": 563, "user_id": 3676968, "user_type": "registered", "accept_rate": 83, "profile_image": "https://i.stack.imgur.com/8n1A5.png?s=128&g=1", "display_name": "Michel", "link": "https://stackoverflow.com/users/3676968/michel"}, "reply_to_user": {"reputation": 50468, "user_id": 1331451, "user_type": "registered", "accept_rate": 96, "profile_image": "https://i.stack.imgur.com/4ZPmj.png?s=128&g=1", "display_name": "simbabque", "link": "https://stackoverflow.com/users/1331451/simbabque"}, "edited": false, "score": 0, "creation_date": 1492696830, "post_id": 43520155, "comment_id": 74096767, "body": "The perl part would be relatively easy, although I&#39;m not really a perl programmer. It&#39;s the irssi part that&#39;s difficult! I tried creating a plugin that would transform all incoming messages, but it&#39;s hard to know/see where I would need to hook in exactly. Also, it&#39;s not clear what format the string is in."}, {"owner": {"reputation": 563, "user_id": 3676968, "user_type": "registered", "accept_rate": 83, "profile_image": "https://i.stack.imgur.com/8n1A5.png?s=128&g=1", "display_name": "Michel", "link": "https://stackoverflow.com/users/3676968/michel"}, "reply_to_user": {"reputation": 50468, "user_id": 1331451, "user_type": "registered", "accept_rate": 96, "profile_image": "https://i.stack.imgur.com/4ZPmj.png?s=128&g=1", "display_name": "simbabque", "link": "https://stackoverflow.com/users/1331451/simbabque"}, "edited": false, "score": 0, "creation_date": 1492697547, "post_id": 43520155, "comment_id": 74097361, "body": "Actually, I found a good example, but implementing a &#39;no-op&#39; filter already gives me issues: irssi complains about &quot;critical query_find: assertion &#39;nick != NULL&#39; failed&quot;, so there might be a bug I&#39;m triggering somewhere..."}], "answers": [{"tags": [], "owner": {"reputation": 563, "user_id": 3676968, "user_type": "registered", "accept_rate": 83, "profile_image": "https://i.stack.imgur.com/8n1A5.png?s=128&g=1", "display_name": "Michel", "link": "https://stackoverflow.com/users/3676968/michel"}, "is_accepted": true, "score": 1, "last_activity_date": 1492714511, "creation_date": 1492714511, "answer_id": 43527707, "question_id": 43520155, "link": "https://stackoverflow.com/questions/43520155/translate-unicode-code-points-to-specific-strings-in-irssi/43527707#43527707", "title": "Translate unicode code points to specific strings in irssi", "body": "<p>So, the problem was with my irssi being somewhat outdated, the bug has been fixed, and it is actually pretty simple to accomplish. For anyone wanting to do the same, you need something along these lines:</p>\n\n<pre><code>my %hash = (\n    0x1f600 =&gt; ':)',\n    # add smileys to taste here\n);\n\nsub transform ($$$$$$) {\n    my ($server, $msg, $nick, $address, $target) = @_;\n    my $transformed = '';\n\n    $msg = decode('utf8', $msg);\n\n    for (my $l = length($msg), my $i = 0; $i &lt; $l; $i++) {\n        my $chr = substr($msg, $i, 1);\n        my $code = ord($chr);\n\n        if (defined $hash{$code}) {\n            $transformed .= $hash{$code};\n        }\n        else {\n            $transformed .= $chr;\n        }\n    }\n    Irssi::signal_continue($server, $transformed, $nick, $address, $target);\n}\n\nIrssi::signal_add_last('message public', 'transform');\nIrssi::signal_add_last('message private', 'transform');\n</code></pre>\n\n<p>Note that I'm definitely not a Perl-expert, so there might be smarter/better ways to achieve this!</p>\n"}], "owner": {"reputation": 563, "user_id": 3676968, "user_type": "registered", "accept_rate": 83, "profile_image": "https://i.stack.imgur.com/8n1A5.png?s=128&g=1", "display_name": "Michel", "link": "https://stackoverflow.com/users/3676968/michel"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 115, "favorite_count": 0, "accepted_answer_id": 43527707, "answer_count": 1, "score": 0, "last_activity_date": 1492714511, "creation_date": 1492692870, "question_id": 43520155, "link": "https://stackoverflow.com/questions/43520155/translate-unicode-code-points-to-specific-strings-in-irssi", "title": "Translate unicode code points to specific strings in irssi", "body": "<p>Is there a command/setting/script to translate certain unicode code points to a different string in irssi? To be concrete, I would like to translate the emoji code points to ASCII smileys, as my font doesn't support them. This is mainly useful with the facebook messenger plugin. I've tried creating a perl script for this, but the documentation is somewhat sparse.</p>\n"}, {"tags": ["perl"], "comments": [{"owner": {"reputation": 917, "user_id": 3014263, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/rFh51.jpg?s=128&g=1", "display_name": "AbhiNickz", "link": "https://stackoverflow.com/users/3014263/abhinickz"}, "edited": false, "score": 0, "creation_date": 1492693789, "post_id": 43520138, "comment_id": 74094278, "body": "Strange, If I use <code>use lib &#39;dir3&#39;;</code> in another <code>BEGIN</code> block it gives me expected output."}, {"owner": {"reputation": 32176, "user_id": 2173773, "user_type": "registered", "accept_rate": 86, "profile_image": "https://i.stack.imgur.com/M8yh6.jpg?s=128&g=1", "display_name": "H&#229;kon H&#230;gland", "link": "https://stackoverflow.com/users/2173773/h%c3%a5kon-h%c3%a6gland"}, "reply_to_user": {"reputation": 917, "user_id": 3014263, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/rFh51.jpg?s=128&g=1", "display_name": "AbhiNickz", "link": "https://stackoverflow.com/users/3014263/abhinickz"}, "edited": false, "score": 0, "creation_date": 1492693896, "post_id": 43520138, "comment_id": 74094357, "body": "@AbhiNickz Yes, it seems  like the <code>use lib</code> adds another <code>BEGIN{}</code> block, that somehow gets evaluated before the <code>BEGIN</code> block it is in..."}], "answers": [{"comments": [{"owner": {"reputation": 32176, "user_id": 2173773, "user_type": "registered", "accept_rate": 86, "profile_image": "https://i.stack.imgur.com/M8yh6.jpg?s=128&g=1", "display_name": "H&#229;kon H&#230;gland", "link": "https://stackoverflow.com/users/2173773/h%c3%a5kon-h%c3%a6gland"}, "edited": false, "score": 0, "creation_date": 1492694122, "post_id": 43520594, "comment_id": 74094526, "body": "Yes this gives a clue to what is going on.. but why is <code>@INC</code> no longer as I expected at run time?"}], "tags": [], "owner": {"reputation": 65820, "user_id": 1741542, "user_type": "registered", "accept_rate": 75, "profile_image": "https://i.stack.imgur.com/QdVqh.jpg?s=128&g=1", "display_name": "Olaf Dietsche", "link": "https://stackoverflow.com/users/1741542/olaf-dietsche"}, "is_accepted": false, "score": -1, "last_activity_date": 1492700583, "last_edit_date": 1492700583, "creation_date": 1492693972, "answer_id": 43520594, "question_id": 43520138, "link": "https://stackoverflow.com/questions/43520138/using-lib-pragma-after-explicitly-setting-inc-has-no-effect/43520594#43520594", "title": "Using lib pragma after explicitly setting @INC has no effect", "body": "<p>From <a href=\"http://perldoc.perl.org/lib.html\" rel=\"nofollow noreferrer\">perldoc - lib</a></p>\n\n<blockquote>\n  <p>This is a small simple module which simplifies the manipulation of @INC at <em>compile time</em>.</p>\n</blockquote>\n\n<p>When you insert <code>say for @INC;</code> after the opening brace and before the assignment, e.g.</p>\n\n<pre><code>BEGIN {\n    say for @INC;\n    @INC = qw(dir1 dir2); # &lt;-- lib pragma works fine if I omit this line\n    # @INC = ();  &lt;-- this is what I wanted to do\n    use lib 'dir3';\n}\n</code></pre>\n\n<p>You will see <code>dir3</code> listed.</p>\n\n<hr>\n\n<p>And <a href=\"http://perldoc.perl.org/functions/use.html\" rel=\"nofollow noreferrer\">perldoc - use</a> states</p>\n\n<blockquote>\n  <p>Because use takes effect at compile time, it doesn't respect the ordinary flow control of the code being compiled.</p>\n</blockquote>\n\n<p><code>dir3</code> is inserted into <code>@INC</code> before anything else is executed, and then <code>@INC</code> is assigned the new value (<code>dir1, dir2</code>). You see this new assigned value, when you look at <code>@INC</code> finally.</p>\n"}, {"tags": [], "owner": {"reputation": 123805, "user_id": 622310, "user_type": "registered", "accept_rate": 33, "profile_image": "https://www.gravatar.com/avatar/8b6d35219e1808520bc238b28161e2e6?s=128&d=identicon&r=PG", "display_name": "Borodin", "link": "https://stackoverflow.com/users/622310/borodin"}, "is_accepted": true, "score": 9, "last_activity_date": 1492712817, "last_edit_date": 1492712817, "creation_date": 1492694109, "answer_id": 43520654, "question_id": 43520138, "link": "https://stackoverflow.com/questions/43520138/using-lib-pragma-after-explicitly-setting-inc-has-no-effect/43520654#43520654", "title": "Using lib pragma after explicitly setting @INC has no effect", "body": "<p>A <code>use</code> statement is contained within an implicit <code>BEGIN</code> block, and \nall Perl <code>BEGIN</code> blocks in a program are are executed as soon as they finish compilation</p>\n\n<p>That means you have nested <code>BEGIN</code> blocks here, and because the inner one\u2014the <code>use lib 'dir3'</code> statement\u2014finishes compilation at the end of the statement, it is the first to be executed. It is followed by the closing brace of the explicit <code>BEGIN</code> block, which completes <em>that</em> block's compilation and it is only then that those statements are executed</p>\n\n<p>Here is a sample program that uses only <code>say</code> statements, and replaces the <code>use</code> statement in the original with an explicit <code>BEGIN</code> block</p>\n\n<pre><code>use strict;\nuse warnings;\nuse feature 'say';\n\nBEGIN {\n\n    say \"outer BEGIN\";\n\n    BEGIN {\n        say \"inner BEGIN\";\n    }\n}\n</code></pre>\n\n<h3>output</h3>\n\n<pre><code>inner BEGIN\nouter BEGIN\n</code></pre>\n\n<p>Your code works as if you had written it like this</p>\n\n<pre><code>use feature qw(say);\nuse strict;\nuse warnings;\n\nuse lib 'dir3';\n\nBEGIN {\n    @INC = qw(dir1 dir2);\n}\n\nsay for @INC;\n</code></pre>\n\n<p>So the <code>use lib</code> is executed first, adding <code>dir3</code> to <code>@INC</code>, and then the explicit <code>BEGIN</code> block is executed and overwrites <code>@INC</code> altogether</p>\n\n<p>If you want to empty <code>@INC</code> first and then add to it with <code>use lib</code> statements then you should write</p>\n\n<pre><code>BEGIN {\n    our @INC = ( );\n}\n\nuse lib 'dir3';\n</code></pre>\n\n<p>Without the nesting, <code>BEGIN</code> blocks are executed in the order the appear in the program</p>\n"}], "owner": {"reputation": 32176, "user_id": 2173773, "user_type": "registered", "accept_rate": 86, "profile_image": "https://i.stack.imgur.com/M8yh6.jpg?s=128&g=1", "display_name": "H&#229;kon H&#230;gland", "link": "https://stackoverflow.com/users/2173773/h%c3%a5kon-h%c3%a6gland"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 61, "favorite_count": 1, "accepted_answer_id": 43520654, "answer_count": 2, "score": 3, "last_activity_date": 1492712817, "creation_date": 1492692835, "question_id": 43520138, "link": "https://stackoverflow.com/questions/43520138/using-lib-pragma-after-explicitly-setting-inc-has-no-effect", "title": "Using lib pragma after explicitly setting @INC has no effect", "body": "<pre><code>use feature qw(say);\nuse strict;\nuse warnings;\nBEGIN {\n    @INC = qw(dir1 dir2); # &lt;-- lib pragma works fine if I omit this line\n    # @INC = ();  &lt;-- this is what I wanted to do\n    use lib 'dir3';\n}\nsay for @INC;\n</code></pre>\n\n<p><strong>Output</strong>:</p>\n\n<pre><code>dir1\ndir2\n</code></pre>\n\n<p><strong>Expected output</strong>:</p>\n\n<pre><code>dir3\ndir1\ndir2\n</code></pre>\n"}, {"tags": ["perl", "rest", "rest-client"], "comments": [{"owner": {"reputation": 50468, "user_id": 1331451, "user_type": "registered", "accept_rate": 96, "profile_image": "https://i.stack.imgur.com/4ZPmj.png?s=128&g=1", "display_name": "simbabque", "link": "https://stackoverflow.com/users/1331451/simbabque"}, "edited": false, "score": 0, "creation_date": 1492684471, "post_id": 43516425, "comment_id": 74087068, "body": "Did you put <code>{ID}</code> in there, or is there a real ID in your program? If it&#39;s like that, how should it know the ID?"}, {"owner": {"reputation": 1786, "user_id": 1820650, "user_type": "registered", "accept_rate": 90, "profile_image": "https://www.gravatar.com/avatar/ce47757627908a1013e0951158f4c2e6?s=128&d=identicon&r=PG", "display_name": "Dr.Avalanche", "link": "https://stackoverflow.com/users/1820650/dr-avalanche"}, "edited": false, "score": 0, "creation_date": 1492684652, "post_id": 43516425, "comment_id": 74087205, "body": "<code>Accept             =&gt; &#39;application&#47;json&#39;</code> should be <code>&#39;Accept&#39;             =&gt; &#39;application&#47;json&#39;</code>?"}, {"owner": {"reputation": 1786, "user_id": 1820650, "user_type": "registered", "accept_rate": 90, "profile_image": "https://www.gravatar.com/avatar/ce47757627908a1013e0951158f4c2e6?s=128&d=identicon&r=PG", "display_name": "Dr.Avalanche", "link": "https://stackoverflow.com/users/1820650/dr-avalanche"}, "reply_to_user": {"reputation": 50468, "user_id": 1331451, "user_type": "registered", "accept_rate": 96, "profile_image": "https://i.stack.imgur.com/4ZPmj.png?s=128&g=1", "display_name": "simbabque", "link": "https://stackoverflow.com/users/1331451/simbabque"}, "edited": false, "score": 1, "creation_date": 1492684832, "post_id": 43516425, "comment_id": 74087354, "body": "@simbabque my mistake, thanks"}, {"owner": {"reputation": 50468, "user_id": 1331451, "user_type": "registered", "accept_rate": 96, "profile_image": "https://i.stack.imgur.com/4ZPmj.png?s=128&g=1", "display_name": "simbabque", "link": "https://stackoverflow.com/users/1331451/simbabque"}, "edited": false, "score": 0, "creation_date": 1492685156, "post_id": 43516425, "comment_id": 74087607, "body": "<a href=\"https://metacpan.org/pod/LWP::ConsoleLogger::Everywhere\" rel=\"nofollow noreferrer\">metacpan.org/pod/LWP::ConsoleLogger::Everywhere</a> is a nice debugging aid for this kind of problem."}, {"owner": {"reputation": 59, "user_id": 7300502, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/m51Gd.jpg?s=128&g=1", "display_name": "Aj06", "link": "https://stackoverflow.com/users/7300502/aj06"}, "reply_to_user": {"reputation": 50468, "user_id": 1331451, "user_type": "registered", "accept_rate": 96, "profile_image": "https://i.stack.imgur.com/4ZPmj.png?s=128&g=1", "display_name": "simbabque", "link": "https://stackoverflow.com/users/1331451/simbabque"}, "edited": false, "score": 0, "creation_date": 1492686614, "post_id": 43516425, "comment_id": 74088726, "body": "@simbabque there is real ID in my program."}, {"owner": {"reputation": 59, "user_id": 7300502, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/m51Gd.jpg?s=128&g=1", "display_name": "Aj06", "link": "https://stackoverflow.com/users/7300502/aj06"}, "reply_to_user": {"reputation": 50468, "user_id": 1331451, "user_type": "registered", "accept_rate": 96, "profile_image": "https://i.stack.imgur.com/4ZPmj.png?s=128&g=1", "display_name": "simbabque", "link": "https://stackoverflow.com/users/1331451/simbabque"}, "edited": false, "score": 0, "creation_date": 1492686866, "post_id": 43516425, "comment_id": 74088906, "body": "@simbabque, thanks for recommending &quot;metacpan.org/pod/LWP::ConsoleLogger::Everywhere&quot;  but it is not already installed and i can not install it."}], "answers": [{"comments": [{"owner": {"reputation": 59, "user_id": 7300502, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/m51Gd.jpg?s=128&g=1", "display_name": "Aj06", "link": "https://stackoverflow.com/users/7300502/aj06"}, "edited": false, "score": 0, "creation_date": 1492686341, "post_id": 43517179, "comment_id": 74088514, "body": "thanks for replying. I tried with GET method also which doesn&#39;t require any body to pass. Still i am getting same error."}, {"owner": {"reputation": 50468, "user_id": 1331451, "user_type": "registered", "accept_rate": 96, "profile_image": "https://i.stack.imgur.com/4ZPmj.png?s=128&g=1", "display_name": "simbabque", "link": "https://stackoverflow.com/users/1331451/simbabque"}, "reply_to_user": {"reputation": 59, "user_id": 7300502, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/m51Gd.jpg?s=128&g=1", "display_name": "Aj06", "link": "https://stackoverflow.com/users/7300502/aj06"}, "edited": false, "score": 0, "creation_date": 1492687901, "post_id": 43517179, "comment_id": 74089679, "body": "@Aj06 it works for me. It does give me an erroneous response obviously, because the ID is wrong, but the error you describe is not happening."}], "tags": [], "owner": {"reputation": 50468, "user_id": 1331451, "user_type": "registered", "accept_rate": 96, "profile_image": "https://i.stack.imgur.com/4ZPmj.png?s=128&g=1", "display_name": "simbabque", "link": "https://stackoverflow.com/users/1331451/simbabque"}, "is_accepted": false, "score": 0, "last_activity_date": 1492684689, "last_edit_date": 1592644375, "creation_date": 1492684689, "answer_id": 43517179, "question_id": 43516425, "link": "https://stackoverflow.com/questions/43516425/restclient-giving-error-500-not-a-scalar-reference/43517179#43517179", "title": "REST::Client giving error 500 Not a SCALAR reference", "body": "<p>You are missing the <em>body</em> of your request. <a href=\"https://metacpan.org/pod/REST::Client#POST-(-$url,-%5B$body_content,-%25$headers%5D-)\" rel=\"nofollow noreferrer\">A POST request with REST::Client</a> is supposed to have the body first, and then the optional headers.</p>\n<blockquote>\n<p>POST ( $url, [$body_content, %$headers] )</p>\n<p>Preform an HTTP POST to the resource specified. Takes an optional body content and hashref of custom request headers.</p>\n</blockquote>\n<p>Since you don't seem to have a body, just use <code>undef</code>.</p>\n<pre><code>my $resp = $client-&gt;request(\n    'POST',\n    &quot;https://api.icims.com/customers/{ID}/search/people&quot;,\n    undef,                                              # here\n    {\n        'Connection' =&gt; 'close',\n        'Link'       =&gt; 'https://api.icims.com/customers/{ID}/people/;rel=&quot;person&quot;;title=&quot;Person Profile&quot;',\n        'Content-Length'   =&gt; '280',\n        'Content-Type'     =&gt; 'application/json',\n        'Content-Encoding' =&gt; 'gzip',\n        'Host'             =&gt; 'api.icims.com',\n        'User-Agent'       =&gt; 'Apache-HttpClient/4.2.1 (java 1.5)',\n        'Accept-Encoding'  =&gt; 'gzip,deflate',\n        Accept             =&gt; 'application/json'\n    }\n);\n</code></pre>\n<p>It's probably nicer to use the <code>POST</code> method. It's easier to read.</p>\n<pre><code>my $resp = $client-&gt;POST(\n    &quot;https://api.icims.com/customers/ID/search/people&quot;,\n    undef,\n    { ... }\n);\n</code></pre>\n"}], "owner": {"reputation": 59, "user_id": 7300502, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/m51Gd.jpg?s=128&g=1", "display_name": "Aj06", "link": "https://stackoverflow.com/users/7300502/aj06"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 1740, "favorite_count": 0, "answer_count": 1, "score": 1, "last_activity_date": 1492684689, "creation_date": 1492682795, "last_edit_date": 1492684306, "question_id": 43516425, "link": "https://stackoverflow.com/questions/43516425/restclient-giving-error-500-not-a-scalar-reference", "title": "REST::Client giving error 500 Not a SCALAR reference", "body": "<p>I am new to REST::Client module.\ni made a script which will call an API through above module.</p>\n\n<p>below is my script:</p>\n\n<pre><code>use REST::Client;\nuse Data::Dumper;\n\nmy $client = REST::Client-&gt;new();\n\nmy $resp = $client-&gt;request(\n    'POST',\n    \"https://api.icims.com/customers/{ID}/search/people\",\n    {\n        'Connection' =&gt; 'close',\n        'Link'       =&gt; 'https://api.icims.com/customers/{ID}/people/;rel=\"person\";\n    title=\"Person Profile\"',\n        'Content-Length'   =&gt; '280',\n        'Content-Type'     =&gt; 'application/json',\n        'Content-Encoding' =&gt; 'gzip',\n        'Host'             =&gt; 'api.icims.com',\n        'User-Agent'       =&gt; 'Apache-HttpClient/4.2.1 (java 1.5)',\n        'Accept-Encoding'  =&gt; 'gzip,deflate',\n        Accept             =&gt; 'application/json'\n    }\n);\n\nprint Dumper($resp-&gt;{_res}-&gt;{_content});\n</code></pre>\n\n<p>and this is printing below response:</p>\n\n<pre><code>$VAR1 = '500 Not a SCALAR reference';\n</code></pre>\n\n<p>Please suggest.</p>\n"}, {"tags": ["perl", "cpan"], "comments": [{"owner": {"reputation": 1759, "user_id": 218846, "user_type": "registered", "accept_rate": 83, "profile_image": "https://www.gravatar.com/avatar/e60e4b1e05b2c325da8a5d296fef5779?s=128&d=identicon&r=PG", "display_name": "tex", "link": "https://stackoverflow.com/users/218846/tex"}, "edited": false, "score": 1, "creation_date": 1492681052, "post_id": 43515653, "comment_id": 74084605, "body": "This package seems to use XS, i.e. it requires a C-compiler to install. If you use a linux distribution maybe binary packages are available for it. On Ubuntu for example you could just download the package <a href=\"http://packages.ubuntu.com/yakkety/libtext-iconv-perl\" rel=\"nofollow noreferrer\">packages.ubuntu.com/yakkety/libtext-iconv-perl</a> and install it using dpkg -i. (Sorry, didn&#39;t see you need to install w/o root :("}, {"owner": {"reputation": 50468, "user_id": 1331451, "user_type": "registered", "accept_rate": 96, "profile_image": "https://i.stack.imgur.com/4ZPmj.png?s=128&g=1", "display_name": "simbabque", "link": "https://stackoverflow.com/users/1331451/simbabque"}, "edited": false, "score": 1, "creation_date": 1492681064, "post_id": 43515653, "comment_id": 74084614, "body": "Take a look at <a href=\"http://stackoverflow.com/q/3735836/1331451\">stackoverflow.com/q/3735836/1331451</a>."}], "owner": {"reputation": 263, "user_id": 4995259, "user_type": "registered", "accept_rate": 50, "profile_image": "https://www.gravatar.com/avatar/c4d0fa9012306fa48b9ef275998c4a18?s=128&d=identicon&r=PG&f=1", "display_name": "criz", "link": "https://stackoverflow.com/users/4995259/criz"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 561, "favorite_count": 0, "closed_date": 1492682539, "answer_count": 0, "score": 2, "last_activity_date": 1492682707, "creation_date": 1492680779, "question_id": 43515653, "link": "https://stackoverflow.com/questions/43515653/how-to-install-cpan-modules-in-a-server-with-no-internet-access-and-root-privile", "closed_reason": "Duplicate", "title": "How to install CPAN modules in a server with no internet access and root privileges?", "body": "<p>Currently the system has perl 5.8.8 without a C-compiler, no internet access, and no root privileges. I would like to install this module locally in a specific directory so I can use it.</p>\n\n<p><a href=\"http://search.cpan.org/dist/Text-Iconv/Iconv.pm\" rel=\"nofollow noreferrer\">Text::Iconv</a></p>\n"}, {"tags": ["perl"], "comments": [{"owner": {"reputation": 50468, "user_id": 1331451, "user_type": "registered", "accept_rate": 96, "profile_image": "https://i.stack.imgur.com/4ZPmj.png?s=128&g=1", "display_name": "simbabque", "link": "https://stackoverflow.com/users/1331451/simbabque"}, "edited": false, "score": 1, "creation_date": 1492675717, "post_id": 43510916, "comment_id": 74081058, "body": "Welcome to Stack Overflow and the Perl tag. This is a very nice first question. :)"}, {"owner": {"reputation": 373, "user_id": 7893584, "user_type": "registered", "accept_rate": 80, "profile_image": "https://www.gravatar.com/avatar/23f449e8064a7eae5bc603622c5a4a36?s=128&d=identicon&r=PG&f=1", "display_name": "k.lo", "link": "https://stackoverflow.com/users/7893584/k-lo"}, "reply_to_user": {"reputation": 50468, "user_id": 1331451, "user_type": "registered", "accept_rate": 96, "profile_image": "https://i.stack.imgur.com/4ZPmj.png?s=128&g=1", "display_name": "simbabque", "link": "https://stackoverflow.com/users/1331451/simbabque"}, "edited": false, "score": 1, "creation_date": 1492696296, "post_id": 43510916, "comment_id": 74096315, "body": "thnq very thrilled to b part of it..may b shld have been apart a lot sooner."}, {"owner": {"reputation": 50468, "user_id": 1331451, "user_type": "registered", "accept_rate": 96, "profile_image": "https://i.stack.imgur.com/4ZPmj.png?s=128&g=1", "display_name": "simbabque", "link": "https://stackoverflow.com/users/1331451/simbabque"}, "edited": false, "score": 1, "creation_date": 1492697153, "post_id": 43510916, "comment_id": 74097038, "body": "Just one thing: we prefer it when people write full sentences and words here. There are a lot of professional developers here, and a lot of this is used in a work context. Please take your time and use punctuation and stuff. :)"}, {"owner": {"reputation": 373, "user_id": 7893584, "user_type": "registered", "accept_rate": 80, "profile_image": "https://www.gravatar.com/avatar/23f449e8064a7eae5bc603622c5a4a36?s=128&d=identicon&r=PG&f=1", "display_name": "k.lo", "link": "https://stackoverflow.com/users/7893584/k-lo"}, "reply_to_user": {"reputation": 50468, "user_id": 1331451, "user_type": "registered", "accept_rate": 96, "profile_image": "https://i.stack.imgur.com/4ZPmj.png?s=128&g=1", "display_name": "simbabque", "link": "https://stackoverflow.com/users/1331451/simbabque"}, "edited": false, "score": 1, "creation_date": 1492697526, "post_id": 43510916, "comment_id": 74097342, "body": "Okay, sure from now I will."}], "answers": [{"tags": [], "owner": {"reputation": 53041, "user_id": 4653379, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/b3953dbedd0dabff5cbc3db9b0835b14?s=128&d=identicon&r=PG&f=1", "display_name": "zdim", "link": "https://stackoverflow.com/users/4653379/zdim"}, "is_accepted": true, "score": 12, "last_activity_date": 1530265170, "last_edit_date": 1530265170, "creation_date": 1492668281, "answer_id": 43511425, "question_id": 43510916, "link": "https://stackoverflow.com/questions/43510916/multiple-package-with-exporter-in-perl/43511425#43511425", "title": "Multiple package with exporter in Perl", "body": "<p>The <a href=\"http://perldoc.perl.org/functions/use.html\" rel=\"nofollow noreferrer\">use</a> calls <a href=\"http://perldoc.perl.org/functions/require.html\" rel=\"nofollow noreferrer\">require</a>, which looks for a file with the package name (with <code>/</code> for <code>::</code> and + <code>.pm</code>).</p>\n\n<p>So <code>require</code> the actual file with packages instead and then <a href=\"http://perldoc.perl.org/functions/import.html\" rel=\"nofollow noreferrer\">import</a> from packages.</p>\n\n<p><strong>main.pl</strong></p>\n\n<pre><code>use warnings;\nuse strict;\n\nrequire MyModule;\n\nimport Multipackage1;\nimport Multipackage2;\nimport Multipackage3 qw(test3);\n\nprint \"Calling first package:\\n\";\ntest1();\nprint \"Calling second package:\\n\";\ntest2();\nprint \"Calling third package:\\n\";\ntest3();\n</code></pre>\n\n<p>In the <code>MyModule.pm</code>, place each package in its own block to provide scope for lexical variables, since <a href=\"https://perldoc.perl.org/functions/package.html\" rel=\"nofollow noreferrer\">package</a> doesn't do that, or use <code>package Pack { ... }</code> <a href=\"https://perldoc.perl.org/perl5140delta.html#Syntactical-Enhancements\" rel=\"nofollow noreferrer\">since v5.14</a>. There is no need for all those <code>1</code>s, and you may pull <code>use Exporter;</code> out of the blocks.</p>\n\n<p>Output</p>\n\n<pre>\nCalling first package:\nFirst package\nCalling second package:\nSecond package\nCalling third package:\nThird package\n</pre>\n\n<p>Better yet, replace <code>our @ISA = qw(Exporter);</code> with <code>use Exporter qw(import);</code> for</p>\n\n<pre><code>use strict;\nuse warnings;\n\npackage Multipackage1 {\n    use Exporter qw(import);\n    our @EXPORT = qw(test1);\n\n    sub test1 { print \"First package\\n\" }\n}\n...\n1;\n</code></pre>\n\n<p>with the same output.</p>\n\n<p>Note that putting multiple packages in one file is normally not needed and not done.  </p>\n"}], "owner": {"reputation": 373, "user_id": 7893584, "user_type": "registered", "accept_rate": 80, "profile_image": "https://www.gravatar.com/avatar/23f449e8064a7eae5bc603622c5a4a36?s=128&d=identicon&r=PG&f=1", "display_name": "k.lo", "link": "https://stackoverflow.com/users/7893584/k-lo"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 186, "favorite_count": 0, "accepted_answer_id": 43511425, "answer_count": 1, "score": 8, "last_activity_date": 1530265170, "creation_date": 1492666077, "question_id": 43510916, "link": "https://stackoverflow.com/questions/43510916/multiple-package-with-exporter-in-perl", "title": "Multiple package with exporter in Perl", "body": "<p>I'm trying to get familiar with Perl exporter, the issue i am facing is whatever I try I cannot use exporter with modules containing multiple packages in it. What am I missing below?</p>\n\n<pre><code>MyModule.pm\n\nuse strict;\nuse warnings;\n\npackage Multipackage1;\nuse Exporter;\nour @ISA = qw(Exporter);\nour @EXPORT = qw(test1);\n\nsub test1 {\n\n  print \"First package\\n\";\n\n}\n\n1;\n\npackage Multipackage2;\nuse Exporter;\nour @ISA = qw(Exporter);\nour @EXPORT = qw(test2);\n\nsub test2 {\n\n   print \"Second package\\n\";\n\n}\n\n1;\n\npackage Multipackage3;\nuse Exporter;\nour @ISA = qw(Exporter);\nour @EXPORT_OK = qw(test3);\n\nsub test3 {\n\n   print \"Third package\\n\";\n\n}\n\n1;\n\n\nMyMainFile.pl\n\n#!/usr/bin/perl \n\nuse strict;\nuse warnings;\nuse Multipackage;\nuse Multipackage qw(test3);\n\nprint \"Calling first package:\\n\";\ntest1();\nprint \"Calling second package:\\n\";\ntest2();\nprint \"Calling third package:\\n\";\ntest3();\n</code></pre>\n\n<p>I getting test1 is not part of the main package.</p>\n\n<p>Thanks in advance.</p>\n"}, {"tags": ["perl", "cross-compiling", "yocto"], "comments": [{"owner": {"reputation": 979, "user_id": 3293606, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/2b0ba6f0958280efa417da350c499a7e?s=128&d=identicon&r=PG&f=1", "display_name": "Alex", "link": "https://stackoverflow.com/users/3293606/alex"}, "edited": false, "score": 0, "creation_date": 1492667160, "post_id": 43510787, "comment_id": 74076118, "body": "What the Linux system are you use?"}, {"owner": {"reputation": 3380, "user_id": 3308570, "user_type": "registered", "accept_rate": 74, "profile_image": "https://i.stack.imgur.com/3Mzz9.jpg?s=128&g=1", "display_name": "JustWe", "link": "https://stackoverflow.com/users/3308570/justwe"}, "reply_to_user": {"reputation": 979, "user_id": 3293606, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/2b0ba6f0958280efa417da350c499a7e?s=128&d=identicon&r=PG&f=1", "display_name": "Alex", "link": "https://stackoverflow.com/users/3293606/alex"}, "edited": false, "score": 0, "creation_date": 1492668429, "post_id": 43510787, "comment_id": 74076724, "body": "@Alex Unix Bench run environment is Yocto poky 1.6.2. Cross compile host is Ubuntu 14."}, {"owner": {"reputation": 979, "user_id": 3293606, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/2b0ba6f0958280efa417da350c499a7e?s=128&d=identicon&r=PG&f=1", "display_name": "Alex", "link": "https://stackoverflow.com/users/3293606/alex"}, "edited": false, "score": 0, "creation_date": 1492669291, "post_id": 43510787, "comment_id": 74077180, "body": "You can try to check the Perl/Perl modules packages with the &quot;smart&quot; package manager and if not you&#39;ll need to compile it."}], "answers": [{"tags": [], "owner": {"reputation": 4282, "user_id": 165063, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/MJdL7.png?s=128&g=1", "display_name": "Roman Khimov", "link": "https://stackoverflow.com/users/165063/roman-khimov"}, "is_accepted": true, "score": 3, "last_activity_date": 1492674343, "creation_date": 1492674343, "answer_id": 43513253, "question_id": 43510787, "link": "https://stackoverflow.com/questions/43510787/how-to-cross-compile-perl-modules/43513253#43513253", "title": "How to cross compile Perl modules", "body": "<p>The OpenEmbedded build system aggressively splits default Perl package into tiny modules minimizing size of the target system (when you don't need all core Perl modules you just don't install all of them), so to install 'perl' package there is not the same as to install 'perl' package in Debian or some other standard distro. You can see what is installed with 'perl' via <code>opkg files perl</code> command (if you're using ipk packages, of course).</p>\n\n<p>So what you need is to install additional packages that are already built when building Perl. They have very simple naming scheme of <code>perl-module-*</code>, so for your package that would be <code>perl-module-posix</code>, <code>perl-module-time-hires</code>, <code>perl-module-io-handle</code> and <code>perl-module-findbin</code>. Of course they can also have some dependencies, so better make a proper recipe for your program and specify <code>RDEPENDS</code> appropriately.</p>\n"}], "owner": {"reputation": 3380, "user_id": 3308570, "user_type": "registered", "accept_rate": 74, "profile_image": "https://i.stack.imgur.com/3Mzz9.jpg?s=128&g=1", "display_name": "JustWe", "link": "https://stackoverflow.com/users/3308570/justwe"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 800, "favorite_count": 0, "accepted_answer_id": 43513253, "answer_count": 1, "score": 1, "last_activity_date": 1492674343, "creation_date": 1492665529, "last_edit_date": 1492672560, "question_id": 43510787, "link": "https://stackoverflow.com/questions/43510787/how-to-cross-compile-perl-modules", "title": "How to cross compile Perl modules", "body": "<p>I am trying to install Unix Bench into iMX6 Yocto.\nI successfully cross-compiled Unix Bench source code.\nWhen I run it, get error like this:</p>\n\n<pre><code>root@imx6qsabresd:/home/UnixBench# ./Run\nCan't locate POSIX.pm in @INC\n</code></pre>\n\n<p>It looks like Perl the module is missing.\nSo How to install these dependent modules into Yocto?</p>\n\n<pre><code>use POSIX qw(strftime);\nuse Time::HiRes;\nuse IO::Handle;\nuse FindBin;\n</code></pre>\n\n<p>BTW, is there any Unix Bench version run without Perl?</p>\n"}, {"tags": ["regex", "perl", "sed"], "comments": [{"owner": {"reputation": 18548, "user_id": 4082052, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/GUNps.jpg?s=128&g=1", "display_name": "Sundeep", "link": "https://stackoverflow.com/users/4082052/sundeep"}, "edited": false, "score": 1, "creation_date": 1492654703, "post_id": 43508279, "comment_id": 74072596, "body": "the last awk answer (<a href=\"http://stackoverflow.com/a/38972737/4082052\">stackoverflow.com/a/38972737/4082052</a>) fits... also suggest to add your expected output to know if you need <code>Iowa</code> and <code>Montana</code> also in output or only lines between them... also make it clear if your input can contain multiple or only one <code>Iowa...Montana</code>"}], "answers": [{"tags": [], "owner": {"reputation": 456, "user_id": 3054046, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/ajViR.png?s=128&g=1", "display_name": "cbmckay", "link": "https://stackoverflow.com/users/3054046/cbmckay"}, "is_accepted": true, "score": 0, "last_activity_date": 1492651858, "creation_date": 1492651858, "answer_id": 43508704, "question_id": 43508279, "link": "https://stackoverflow.com/questions/43508279/search-between-patterns-in-a-file-with-multiple-occurrences/43508704#43508704", "title": "Search between patterns in a file with multiple occurrences", "body": "<p>If you were wanting to use perl, this one-liner does the job:</p>\n\n<p><code>perl -ne 'last if /Montana/; print if $i; $i++ if /Iowa/' $file</code></p>\n\n<p>output:</p>\n\n<pre><code>data1\ndata2\n</code></pre>\n"}, {"tags": [], "owner": {"reputation": 5455, "user_id": 3961170, "user_type": "registered", "accept_rate": 73, "profile_image": "https://i.stack.imgur.com/PtFol.jpg?s=128&g=1", "display_name": "mkHun", "link": "https://stackoverflow.com/users/3961170/mkhun"}, "is_accepted": false, "score": 0, "last_activity_date": 1492655033, "last_edit_date": 1492655033, "creation_date": 1492654699, "answer_id": 43509078, "question_id": 43508279, "link": "https://stackoverflow.com/questions/43508279/search-between-patterns-in-a-file-with-multiple-occurrences/43509078#43509078", "title": "Search between patterns in a file with multiple occurrences", "body": "<p>Try flip flop operator </p>\n\n<pre><code>perl -ne 'next if (1 ../Iowa/); last if(/Montana/); print;' input.txt\n</code></pre>\n"}], "owner": {"reputation": 3, "user_id": 7892714, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/7e82f7feef6b0633e17aaef1fba97274?s=128&d=identicon&r=PG&f=1", "display_name": "Sam Nathan", "link": "https://stackoverflow.com/users/7892714/sam-nathan"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 71, "favorite_count": 0, "closed_date": 1492659329, "accepted_answer_id": 43508704, "answer_count": 2, "score": 0, "last_activity_date": 1492661304, "creation_date": 1492648413, "last_edit_date": 1492661304, "question_id": 43508279, "link": "https://stackoverflow.com/questions/43508279/search-between-patterns-in-a-file-with-multiple-occurrences", "closed_reason": "Duplicate", "title": "Search between patterns in a file with multiple occurrences", "body": "<p>I am trying to search between patterns. I know <code>sed</code> will do it if it is a single occurrence.</p>\n\n<p>Here is the file:<br></p>\n\n<pre><code>Iowa&lt;br&gt;\ndata1&lt;br&gt;\ndata2&lt;br&gt;\nMontana&lt;br&gt;\njunk1&lt;br&gt;\njunk2&lt;br&gt;\njunk3&lt;br&gt;\nIowa&lt;br&gt;\ndata3&lt;br&gt;\ndata4&lt;br&gt;\nArizona&lt;br&gt;\njunk5&lt;br&gt;\njunk6&lt;br&gt;\n</code></pre>\n\n<p>I am trying to get the content between <code>Iowa</code> and <code>Montana</code>.</p>\n\n<p>So, I do <code>sed -ne '/Iowa/,/Montana/p</code> <code>$file</code> and see a result like this:</p>\n\n<pre><code>Iowa&lt;br&gt;\ndata1&lt;br&gt;\ndata2&lt;br&gt;\nMontana&lt;br&gt;\nIowa&lt;br&gt;\ndata3&lt;br&gt;\ndata4&lt;br&gt;\nArizona&lt;br&gt;\njunk5&lt;br&gt;\njunk6&lt;br&gt;\n</code></pre>\n\n<p>Not sure why it prints <code>Iowa - Arizona</code> and beyond. Is there a way to print the content between <code>Iowa</code> and <code>Montana</code> only?</p>\n\n<p>As a temporary workaround, I am printing all and taking the 1st occurrence.</p>\n"}]