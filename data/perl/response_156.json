[{"tags": ["perl"], "comments": [{"owner": {"reputation": 123805, "user_id": 622310, "user_type": "registered", "accept_rate": 33, "profile_image": "https://www.gravatar.com/avatar/8b6d35219e1808520bc238b28161e2e6?s=128&d=identicon&r=PG", "display_name": "Borodin", "link": "https://stackoverflow.com/users/622310/borodin"}, "edited": false, "score": 0, "creation_date": 1515018023, "post_id": 48085425, "comment_id": 83146899, "body": "Does my edit represent your problem correctly? Please don&#39;t personalise everything."}, {"owner": {"reputation": 123805, "user_id": 622310, "user_type": "registered", "accept_rate": 33, "profile_image": "https://www.gravatar.com/avatar/8b6d35219e1808520bc238b28161e2e6?s=128&d=identicon&r=PG", "display_name": "Borodin", "link": "https://stackoverflow.com/users/622310/borodin"}, "edited": false, "score": 0, "creation_date": 1515018100, "post_id": 48085425, "comment_id": 83146949, "body": "Where did you get <code>open3</code> from? Do you <code>use</code> any modules that you haven&#39;t mentioned?"}, {"owner": {"reputation": 320771, "user_id": 589924, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/b2cf53d5a3d25f95c0db4e025aed4153?s=128&d=identicon&r=PG", "display_name": "ikegami", "link": "https://stackoverflow.com/users/589924/ikegami"}, "edited": false, "score": 0, "creation_date": 1515058762, "post_id": 48085425, "comment_id": 83159140, "body": "Aside from the issue you asked about, your program suffers from a shell command injection bug. <code>&quot;xargs -n1 listJavaClassRefs -p $opt_archive -c&quot;</code> should be <code>&quot;xargs&quot;, &quot;-n1&quot;, &quot;listJavaClassRefs&quot;, &quot;-p&quot;, $opt_archive, &quot;-c&quot;</code>."}, {"owner": {"reputation": 320771, "user_id": 589924, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/b2cf53d5a3d25f95c0db4e025aed4153?s=128&d=identicon&r=PG", "display_name": "ikegami", "link": "https://stackoverflow.com/users/589924/ikegami"}, "edited": false, "score": 0, "creation_date": 1515058766, "post_id": 48085425, "comment_id": 83159144, "body": "Aside from the issue you asked about, your program suffers from a race condition. Please avoid <code>open3</code> if you want bidirectional communication (cause you then need to start using IPC::Select too, and that gets really complicated). Instead, use IPC::Run3 or IPC::Run."}, {"owner": {"reputation": 11248, "user_id": 10508, "user_type": "registered", "accept_rate": 53, "profile_image": "https://www.gravatar.com/avatar/701a6677ec8342043519e95a24fc3099?s=128&d=identicon&r=PG", "display_name": "David M. Karr", "link": "https://stackoverflow.com/users/10508/david-m-karr"}, "reply_to_user": {"reputation": 123805, "user_id": 622310, "user_type": "registered", "accept_rate": 33, "profile_image": "https://www.gravatar.com/avatar/8b6d35219e1808520bc238b28161e2e6?s=128&d=identicon&r=PG", "display_name": "Borodin", "link": "https://stackoverflow.com/users/622310/borodin"}, "edited": false, "score": 0, "creation_date": 1515083342, "post_id": 48085425, "comment_id": 83174054, "body": "@Borodin I don&#39;t know what you mean by &quot;personalize&quot;. I got open3 from cpan. Where else would I get it from?"}, {"owner": {"reputation": 11248, "user_id": 10508, "user_type": "registered", "accept_rate": 53, "profile_image": "https://www.gravatar.com/avatar/701a6677ec8342043519e95a24fc3099?s=128&d=identicon&r=PG", "display_name": "David M. Karr", "link": "https://stackoverflow.com/users/10508/david-m-karr"}, "reply_to_user": {"reputation": 320771, "user_id": 589924, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/b2cf53d5a3d25f95c0db4e025aed4153?s=128&d=identicon&r=PG", "display_name": "ikegami", "link": "https://stackoverflow.com/users/589924/ikegami"}, "edited": false, "score": 0, "creation_date": 1515083387, "post_id": 48085425, "comment_id": 83174084, "body": "@ikegami Please elaborate on these issues in answers."}, {"owner": {"reputation": 320771, "user_id": 589924, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/b2cf53d5a3d25f95c0db4e025aed4153?s=128&d=identicon&r=PG", "display_name": "ikegami", "link": "https://stackoverflow.com/users/589924/ikegami"}, "edited": false, "score": 0, "creation_date": 1515084763, "post_id": 48085425, "comment_id": 83174920, "body": "Perhaps you need to familiarize yourself with <a href=\"https://en.wikipedia.org/wiki/Race_condition\" rel=\"nofollow noreferrer\">race condition</a> and <a href=\"https://en.wikipedia.org/wiki/Code_injection\" rel=\"nofollow noreferrer\">code injection</a>?"}, {"owner": {"reputation": 11248, "user_id": 10508, "user_type": "registered", "accept_rate": 53, "profile_image": "https://www.gravatar.com/avatar/701a6677ec8342043519e95a24fc3099?s=128&d=identicon&r=PG", "display_name": "David M. Karr", "link": "https://stackoverflow.com/users/10508/david-m-karr"}, "edited": false, "score": 0, "creation_date": 1515085401, "post_id": 48085425, "comment_id": 83175320, "body": "I&#39;m well aware of the meanings of the terms.  Please explain why you believe this code is vulnerable to those issues.  I don&#39;t care about the potential injection issue, I might care about the possible race condition if you explained it."}, {"owner": {"reputation": 123805, "user_id": 622310, "user_type": "registered", "accept_rate": 33, "profile_image": "https://www.gravatar.com/avatar/8b6d35219e1808520bc238b28161e2e6?s=128&d=identicon&r=PG", "display_name": "Borodin", "link": "https://stackoverflow.com/users/622310/borodin"}, "edited": false, "score": 0, "creation_date": 1515089874, "post_id": 48085425, "comment_id": 83177672, "body": "@David: I mean talk about your code, not about yourself. <i>&quot;In the main script, I&#39;m attempting to use &quot;open3&quot; so I can specify both the input and output file handle&quot;</i>"}, {"owner": {"reputation": 320771, "user_id": 589924, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/b2cf53d5a3d25f95c0db4e025aed4153?s=128&d=identicon&r=PG", "display_name": "ikegami", "link": "https://stackoverflow.com/users/589924/ikegami"}, "edited": false, "score": 0, "creation_date": 1515176842, "post_id": 48085425, "comment_id": 83214850, "body": "Re &quot;<i>Please explain why you believe this code is vulnerable to those issues</i>&quot;, The race condition can lead to a deadlock (parent and child blocked writing to pipe). /// You are doing the very definition of code injection: You are inserting text into code (shell command) without first converting the text to code."}], "answers": [{"comments": [{"owner": {"reputation": 123805, "user_id": 622310, "user_type": "registered", "accept_rate": 33, "profile_image": "https://www.gravatar.com/avatar/8b6d35219e1808520bc238b28161e2e6?s=128&d=identicon&r=PG", "display_name": "Borodin", "link": "https://stackoverflow.com/users/622310/borodin"}, "edited": false, "score": 0, "creation_date": 1515017257, "post_id": 48085520, "comment_id": 83146614, "body": "Please elaborate on your advice"}], "tags": [], "owner": {"reputation": 666, "user_id": 2243865, "user_type": "registered", "accept_rate": 72, "profile_image": "https://www.gravatar.com/avatar/32c60daf8fbec71c63b1e78e8ed38bc1?s=128&d=identicon&r=PG", "display_name": "user3243135", "link": "https://stackoverflow.com/users/2243865/user3243135"}, "is_accepted": true, "score": 3, "last_activity_date": 1515017948, "last_edit_date": 1515017948, "creation_date": 1515015682, "answer_id": 48085520, "question_id": 48085425, "link": "https://stackoverflow.com/questions/48085425/write-text-to-pipe-and-read-result-never-completes/48085520#48085520", "title": "Write text to pipe and read result never completes", "body": "<p>You need to close the writer before the while loop:</p>\n\n<pre><code>close CHILD_IN;\n</code></pre>\n\n<p>Edit: The reason you need to close the pipe for xargs (but not in general) is that xargs apparently does not launch any processes until the input in finished. This can be seen by running <code>cat | xargs echo</code>:</p>\n\n<pre><code>cat | xargs echo\nasdf\nasd\nfaw\nseas\neryawr\nyawr\nya\nryhs\nrhy\nerh\n&lt; I press Ctrl-d here to terminate pipe &gt;\nasdf asd faw seas eryawr yawr ya ryhs rhy erh\n</code></pre>\n\n<p>For non-xargs programs it might still be a good idea anyways to close the pipe, or at least flush it, since there might be bytes stuck in a buffer at some level.</p>\n"}], "owner": {"reputation": 11248, "user_id": 10508, "user_type": "registered", "accept_rate": 53, "profile_image": "https://www.gravatar.com/avatar/701a6677ec8342043519e95a24fc3099?s=128&d=identicon&r=PG", "display_name": "David M. Karr", "link": "https://stackoverflow.com/users/10508/david-m-karr"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 137, "favorite_count": 0, "accepted_answer_id": 48085520, "answer_count": 1, "score": 0, "last_activity_date": 1515017971, "creation_date": 1515015165, "last_edit_date": 1515017971, "question_id": 48085425, "link": "https://stackoverflow.com/questions/48085425/write-text-to-pipe-and-read-result-never-completes", "title": "Write text to pipe and read result never completes", "body": "<p>I've written a Perl program that opens a pipe to <code>xargs</code> so that it will read from the input and run a command with each row of input.</p>\n\n<p>I need to read the output from that pipe.</p>\n\n<p>I use <code>open3</code> and then write the input to the input file handle. Then a loop reads from the output filehandle.</p>\n\n<p>But when it prints the last line that I expect to see, it just hangs and doesn't complete the process.</p>\n\n<p>Here's an excerpt from the script</p>\n\n<pre><code>my $classNamesOutput = `classNamesInArchive $opt_archive`;\n\nmy $pid = open3( \\*CHILD_IN, \\*CHILD_OUT, false, \"xargs -n1 listJavaClassRefs -p $opt_archive -c\" );\nprint \"pid[\" . $pid . \"]\\n\";\n\nprint CHILD_IN $classNamesOutput;\n\nmy $output = '';\nmy $matchingArchiveNames = '';\n\nwhile ( my $row = &lt;CHILD_OUT&gt; ) {\n    chomp $row;\n    print \"row[\" . $row . \"]\\n\";\n\n    if ( $onlyListingMatches == 1 &amp;&amp; $row eq $opt_className ) {\n        print $opt_archive;\n        last;\n    }\n\n    if ( $onlyListingMatches == 0 ) {\n        $output .= $row . \"\\n\";\n    }\n}\n\nprint \"Past loop.\\n\";\n</code></pre>\n\n<p>It never prints <code>Past loop</code>: it just hangs on the last line of output that I think the called script would have produced.</p>\n"}, {"tags": ["arrays", "perl", "sorting", "hash"], "comments": [{"owner": {"reputation": 123805, "user_id": 622310, "user_type": "registered", "accept_rate": 33, "profile_image": "https://www.gravatar.com/avatar/8b6d35219e1808520bc238b28161e2e6?s=128&d=identicon&r=PG", "display_name": "Borodin", "link": "https://stackoverflow.com/users/622310/borodin"}, "edited": false, "score": 0, "creation_date": 1515013661, "post_id": 48080578, "comment_id": 83145151, "body": "<i>&quot;My aim is to write a subroutine&quot;</i> It would help you to get better quality answers if you had attempted to do that, even with the <code>eval</code> approach that you are sure is leading nowhere. The result would have been very much like the compiled solutions that you&#39;ve been offered. In reality it is often easy to translate a string passed to <code>eval</code> into a call to a subroutine. Other people&#39;s answers even use their equivalent of your <code>foreach (@aSortOrder) { ... }</code> so you were very much closer than you imagined."}], "answers": [{"tags": [], "owner": {"reputation": 51521, "user_id": 2566198, "user_type": "registered", "accept_rate": 67, "profile_image": "https://i.stack.imgur.com/Y34ZA.jpg?s=128&g=1", "display_name": "Sobrique", "link": "https://stackoverflow.com/users/2566198/sobrique"}, "is_accepted": true, "score": 0, "last_activity_date": 1514995453, "last_edit_date": 1514995453, "creation_date": 1514994481, "answer_id": 48080671, "question_id": 48080578, "link": "https://stackoverflow.com/questions/48080578/parametric-sorting-of-a-list-of-hashes/48080671#48080671", "title": "Parametric sorting of a list of hashes", "body": "<p>Well, you're quite right - using <code>eval</code> like that is a road to future pain. </p>\n\n<p>The joy of 'sort' is that you can define a sort subroutine, that implicitly defines <code>$a</code> and <code>$b</code> and you can use whatever logic you desire to decide if it's a positive, negative or 'zero' comparison (equal). (e.g. like <code>&lt;=&gt;</code> or <code>cmp</code> do). </p>\n\n<p>The trick here is - 'true' is anything non zero, so <code>&lt;=&gt;</code> you can test for 'true' to see if there's a comparison to be made ( <code>4 &lt;=&gt; 4</code> is 'false')</p>\n\n<p>So if you're <em>just</em> working numerically (you'd need to test for 'alphanumeric' and use <code>cmp</code> in some cases there, but doesn't seem to apply to your data):</p>\n\n<pre><code>#!/usr/bin/env perl\nuse strict;\nuse warnings;\n\nmy $paRecords = [\n   { 'SET1' =&gt; 48265, 'DELTA1_2' =&gt; -1,  'SET2' =&gt; 48264 },\n   { 'SET1' =&gt; 8328,  'DELTA1_2' =&gt; -29, 'SET2' =&gt; 8299 },\n   { 'SET1' =&gt; 20,    'DELTA1_2' =&gt; 0,   'SET2' =&gt; 0 },\n   { 'SET1' =&gt; 10,    'DELTA1_2' =&gt; 0,   'SET2' =&gt; 0 }\n];\n\n#qw is 'quote-words' and just lets you space delimit terms. \n#it's semantically the same as ( 'DELTA1_2', 'SET1', 'SET2' );\nmy @order = qw ( DELTA1_2 SET1 SET2 );\n\n#note - needs to come after definition of `@order` but it can be re-written later as long as it's in scope. \n#you can pass an order explicitly into the subroutine if you want though. \nsub order_by {\n   for my $key (@order) {\n      #compare key\n      my $result = $a-&gt;{$key} &lt;=&gt; $b-&gt;{$key};\n      #return it and exit the loop if they aren't equal, otherwise \n      #continue iterating sort terms. \n      return $result if $result;\n   }\n   return 0; #all keys were similar, therefore return zero.\n}\n\nprint join (\",\", @order), \"\\n\";\nforeach my $record ( sort {order_by} @$paRecords ) {\n   #use hash slice to order output in 'sort order'. \n   #optional, but hopefully clarifies what's going on. \n   print join (\",\", @{$record}{@order}), \"\\n\";\n}\n</code></pre>\n\n<p>This, given your data outputs:</p>\n\n<pre><code>DELTA1_2,SET1,SET2\n-29,8328,8299\n-1,48265,48264\n0,10,0\n0,20,0\n</code></pre>\n\n<p>Note, I've opted  to use <a href=\"https://perldoc.perl.org/perldata.html#Slices\" rel=\"nofollow noreferrer\">hash slice</a> for your output, because otherwise hashes are unordered, and so your <code>Dumper</code> output will be inconsistent (randomly ordered fields).</p>\n\n<p>If you need to be a little more dynamic about your ordering, you can pass it into the sort-sub:</p>\n\n<pre><code>#!/usr/bin/env perl\nuse strict;\nuse warnings;\n\nsub order_by {\n   for my $key (@_) {\n      #compare key\n      my $result = $a-&gt;{$key} &lt;=&gt; $b-&gt;{$key};\n\n      #return it and exit the loop if they aren't equal, otherwise\n      #continue iterating sort terms.\n      return $result if $result;\n   }\n   return 0;    #all keys were similar, therefore return zero.\n}\n\nmy $paRecords = [\n   { 'SET1' =&gt; 48265, 'DELTA1_2' =&gt; -1,  'SET2' =&gt; 48264 },\n   { 'SET1' =&gt; 8328,  'DELTA1_2' =&gt; -29, 'SET2' =&gt; 8299 },\n   { 'SET1' =&gt; 20,    'DELTA1_2' =&gt; 0,   'SET2' =&gt; 0 },\n   { 'SET1' =&gt; 10,    'DELTA1_2' =&gt; 0,   'SET2' =&gt; 0 }\n];\n\n#qw is 'quote-words' and just lets you space delimit terms.\n#it's semantically the same as ( 'DELTA1_2', 'SET1', 'SET2' );\nmy @order = qw ( DELTA1_2 SET1 SET2 );\n\nprint join( \",\", @order ), \"\\n\";\nforeach my $record ( sort {order_by ( @order ) } @$paRecords ) {\n\n   #use hash slice to order output in 'sort order'.\n   #optional, but hopefully clarifies what's going on.\n   print join( \",\", @{$record}{@order} ), \"\\n\";\n}\n</code></pre>\n"}, {"tags": [], "owner": {"reputation": 320771, "user_id": 589924, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/b2cf53d5a3d25f95c0db4e025aed4153?s=128&d=identicon&r=PG", "display_name": "ikegami", "link": "https://stackoverflow.com/users/589924/ikegami"}, "is_accepted": false, "score": 3, "last_activity_date": 1515006171, "creation_date": 1515006171, "answer_id": 48083591, "question_id": 48080578, "link": "https://stackoverflow.com/questions/48080578/parametric-sorting-of-a-list-of-hashes/48083591#48083591", "title": "Parametric sorting of a list of hashes", "body": "<p>Just create a sub that does the comparison.</p>\n\n<pre><code>sub custom_cmp {\n   my $keys = shift;\n   for my $key (@$keys) {\n      my $cmp = $_[0]{$key} &lt;=&gt; $_[1]{$key};\n      return $cmp if $cmp;\n   }\n\n   return 0;\n}\n\nmy @aSorted = sort { custom_cmp(\\@aSortOrder, $a, $b) } @$paRecords;\n</code></pre>\n\n<hr>\n\n<p>The above makes two sub calls for each comparison. If we generate the compare function, we can reduce that to one.</p>\n\n<pre><code>sub make_custom_cmp {\n   my @keys = @_;\n   return sub($$) {\n      for my $key (@keys) {\n         my $cmp = $_[0]{$key} &lt;=&gt; $_[1]{$key};\n         return $cmp if $cmp;\n      }\n\n      return 0;\n   };\n}\n\nmy $cmp = make_custom_cmp(@aSortOrder);\n\nmy @aSorted = sort $cmp @$paRecords;\n</code></pre>\n\n<hr>\n\n<p>We could go one further and flatten the loop through code generation. This is what a \"proper\" eval-based solution would look like. However, this level of optimization is hardly needed.</p>\n\n<pre><code>sub make_custom_cmp {\n   my @keys = @_;\n   my @cmps;\n   for $i (0..$#keys) {\n      push @cmps, \"\\$_[0]{\\$keys[$i]} &lt;=&gt; \\$_[1]{\\$keys[$i]}\"\n   }\n\n   return eval(\"sub($$) { \".( join(\" || \", @cmps) ).\"}\");\n}\n\nmy $cmp = make_custom_cmp(@aSortOrder);\n\nmy @aSorted = sort $cmp @$paRecords;\n</code></pre>\n\n<hr>\n\n<p>In fact, the following is probably the most performant solution:</p>\n\n<pre><code>my @aSorted =\n   map $paRecords-&gt;[ unpack('N', substr($_, -4))-0x7FFFFFFF ],\n      sort\n         map pack('N*', map $_+0x7FFFFFFF, @{ $paRecords-&gt;[$_] }{@aSortOrder}, $_),\n            0..$#$paRecords;\n</code></pre>\n"}, {"tags": [], "owner": {"reputation": 123805, "user_id": 622310, "user_type": "registered", "accept_rate": 33, "profile_image": "https://www.gravatar.com/avatar/8b6d35219e1808520bc238b28161e2e6?s=128&d=identicon&r=PG", "display_name": "Borodin", "link": "https://stackoverflow.com/users/622310/borodin"}, "is_accepted": false, "score": 1, "last_activity_date": 1515014280, "last_edit_date": 1515014280, "creation_date": 1515007205, "answer_id": 48083820, "question_id": 48080578, "link": "https://stackoverflow.com/questions/48080578/parametric-sorting-of-a-list-of-hashes/48083820#48083820", "title": "Parametric sorting of a list of hashes", "body": "\n\n<p>The block passed to <code>sort</code> may contain any amount of code. It is required only to evaluate to a negative number, zero, or a positive number according to whether <code>$a</code> should be considered to be less than, equal to, or great than <code>$b</code></p>\n\n<p>I agree with your decision to bundle this into a subroutine, so I have written <code>sort_hashes_by_keys</code>, which expects a reference to an array of hashes to be sorted, and a reference to an array of key strings. It returns a list of hashes sorted according to the list of keys</p>\n\n<pre class=\"lang-perl prettyprint-override\"><code>use strict;\nuse warnings 'all';\n\nuse Data::Dump 'dd';\n\nmy $records =  [\n    { SET1 =&gt; 48265, DELTA1_2 =&gt; -1,  SET2 =&gt; 48264 },\n    { SET1 =&gt; 8328,  DELTA1_2 =&gt; -29, SET2 =&gt; 8299  },\n    { SET1 =&gt; 20,    DELTA1_2 =&gt; 0,   SET2 =&gt; 0     },\n    { SET1 =&gt; 10,    DELTA1_2 =&gt; 0,   SET2 =&gt; 0     }\n];\n\nmy @sort_order = qw/ DELTA1_2 SET1 SET2 /;\n\nmy @sorted = sort_hashes_by_keys( $records, \\@sort_order );\n\ndd \\@sorted;\n\n\n\nsub sort_hashes_by_keys {\n    my ( $hashes, $order ) = @_;\n\n    sort {\n\n        my $cmp = 0;\n\n        for my $key ( @$order ) {\n            last if $cmp = $a-&gt;{$key} &lt;=&gt; $b-&gt;{$key};\n        }\n\n        $cmp;\n\n    } @$hashes;\n}\n</code></pre>\n\n<h3>output</h3>\n\n<pre class=\"lang-none prettyprint-override\"><code>[\n  { DELTA1_2 =&gt; -29, SET1 =&gt; 8328, SET2 =&gt; 8299 },\n  { DELTA1_2 =&gt; -1, SET1 =&gt; 48265, SET2 =&gt; 48264 },\n  { DELTA1_2 =&gt; 0, SET1 =&gt; 10, SET2 =&gt; 0 },\n  { DELTA1_2 =&gt; 0, SET1 =&gt; 20, SET2 =&gt; 0 },\n]\n</code></pre>\n\n<p><br/></p>\n\n<p>Note that I strongly advise against both <em>hungarian notation</em> and <em>camel case</em> when naming your variables. Perl is not strictly typed, and it has <em>sigils</em> like <code>$</code>, <code>@</code> and <code>%</code> which indicate the type of every variable, so hungarian notation is superfluous at best, and also adds distracting and irrelevant noise. Also, by convention, capital letters are reserved for module names and global variables, so local identifiers should be in \"snake case\", i.e. lower-case letters and underscores. Many non-English speakers also find camel case difficult to parse</p>\n"}], "owner": {"reputation": 695, "user_id": 2178956, "user_type": "registered", "accept_rate": 68, "profile_image": "https://www.gravatar.com/avatar/6efb8df1c31a08f8eb04b075170fd1f5?s=128&d=identicon&r=PG", "display_name": "Soumya", "link": "https://stackoverflow.com/users/2178956/soumya"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 78, "favorite_count": 0, "accepted_answer_id": 48080671, "answer_count": 3, "score": 0, "last_activity_date": 1515015135, "creation_date": 1514994134, "last_edit_date": 1515015135, "question_id": 48080578, "link": "https://stackoverflow.com/questions/48080578/parametric-sorting-of-a-list-of-hashes", "title": "Parametric sorting of a list of hashes", "body": "<p>My aim is to write a subroutine which takes in</p>\n\n<ol>\n<li>An array of hashes</li>\n<li>A list containing the sort order</li>\n</ol>\n\n<p><em>Just to be clear</em> - the keys may be anything. My example is just for reference.</p>\n\n<hr>\n\n<p>Given an array containing a list of keys in their required sort order</p>\n\n<pre><code>my @aSortOrder = ( 'DELTA1_2', 'SET1', 'SET2' );\n</code></pre>\n\n<p>My idea is to form a string</p>\n\n<pre><code>$a-&gt;{DELTA1_2} &lt;=&gt; $b-&gt;{DELTA1_2} or $a-&gt;{SET1} &lt;=&gt; $b-&gt;{SET1} or $a-&gt;{SET2} &lt;=&gt; $b-&gt;{SET2}\n</code></pre>\n\n<p>and then execute it with <code>eval</code>.</p>\n\n<p>Here's my code</p>\n\n<pre><code>my $paRecords = [\n    { 'SET1' =&gt; 48265, 'DELTA1_2' =&gt; -1,  'SET2' =&gt; 48264 },\n    { 'SET1' =&gt; 8328,  'DELTA1_2' =&gt; -29, 'SET2' =&gt; 8299 },\n    { 'SET1' =&gt; 20,    'DELTA1_2' =&gt; 0,   'SET2' =&gt; 0 },\n    { 'SET1' =&gt; 10,    'DELTA1_2' =&gt; 0,   'SET2' =&gt; 0 }\n];\nmy @aSortOrder = ( 'DELTA1_2', 'SET1', 'SET2' );\nmy $pStr = '';\n\nforeach ( @aSortOrder ) {\n    $pStr = $pStr . ' or $a-&gt;{' . $_ . '} &lt;=&gt; $b-&gt;{' . $_ . '}';\n}\n\n$pStr =~ s/^\\s*or\\s*//;\n\nmy @aSorted = sort { eval \"$pStr\"; } @$paRecords;\n\nprint Dumper \\@aSorted;\n</code></pre>\n\n<h3>output</h3>\n\n<pre><code>$VAR1 = [\n          {\n            'SET1' =&gt; 8328,\n            'SET2' =&gt; 8299,\n            'DELTA1_2' =&gt; -29\n          },\n          {\n            'SET1' =&gt; 48265,\n            'SET2' =&gt; 48264,\n            'DELTA1_2' =&gt; -1\n          },\n          {\n            'SET2' =&gt; 0,\n            'DELTA1_2' =&gt; 0,\n            'SET1' =&gt; 10\n          },\n          {\n            'SET2' =&gt; 0,\n            'DELTA1_2' =&gt; 0,\n            'SET1' =&gt; 20\n          }\n        ];\n</code></pre>\n\n<p>I guess that this is far from the ideal approach to solving the problem, so any pointer on how this problem could be better solved would be a great help.</p>\n"}, {"tags": ["regex", "perl"], "comments": [{"owner": {"reputation": 13885, "user_id": 1509695, "user_type": "registered", "accept_rate": 38, "profile_image": "https://www.gravatar.com/avatar/04a3ca8cd41bf8e170b901072fcc667f?s=128&d=identicon&r=PG", "display_name": "matanster", "link": "https://stackoverflow.com/users/1509695/matanster"}, "edited": false, "score": 0, "creation_date": 1515002543, "post_id": 48080038, "comment_id": 83139921, "body": "Given the edits to the question and title, it is no longer possible to truthfully select a single correct answer among the two. Thanks again though for both answers! :-)"}, {"owner": {"reputation": 53041, "user_id": 4653379, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/b3953dbedd0dabff5cbc3db9b0835b14?s=128&d=identicon&r=PG&f=1", "display_name": "zdim", "link": "https://stackoverflow.com/users/4653379/zdim"}, "edited": false, "score": 0, "creation_date": 1515007841, "post_id": 48080038, "comment_id": 83142574, "body": "I don&#39;t see how the edit affects that? It only cleaned up the unneeded verbiage and left your question."}], "answers": [{"comments": [{"owner": {"reputation": 13885, "user_id": 1509695, "user_type": "registered", "accept_rate": 38, "profile_image": "https://www.gravatar.com/avatar/04a3ca8cd41bf8e170b901072fcc667f?s=128&d=identicon&r=PG", "display_name": "matanster", "link": "https://stackoverflow.com/users/1509695/matanster"}, "edited": false, "score": 0, "creation_date": 1515002043, "post_id": 48080430, "comment_id": 83139679, "body": "Thanks! Yes, they take care of that redundant spacing that ensues, in the remainder of the source file where this single stage belongs."}], "tags": [], "owner": {"reputation": 320771, "user_id": 589924, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/b2cf53d5a3d25f95c0db4e025aed4153?s=128&d=identicon&r=PG", "display_name": "ikegami", "link": "https://stackoverflow.com/users/589924/ikegami"}, "is_accepted": false, "score": 2, "last_activity_date": 1515006263, "last_edit_date": 1515006263, "creation_date": 1514993527, "answer_id": 48080430, "question_id": 48080038, "link": "https://stackoverflow.com/questions/48080038/tokenizing-commas-with-perl/48080430#48080430", "title": "Tokenizing commas with Perl", "body": "<ol>\n<li>Replace all commas preceded by a character that doesn't have the \"Number\" Unicode General Category with <code>\u2420,\u2420</code>.</li>\n<li>Replace all commas followed by a character that doesn't have the \"Number\" Unicode General Category with <code>\u2420,\u2420</code>.</li>\n</ol>\n\n<p>Well, not quite. Because a comma is itself a non-numeric character, the above doesn't accurately describe what happens when there are two commas in a row.</p>\n\n<p>But it's not worth going into too much detail because it doesn't work well since <code>A,B</code> becomes <code>A\u2420\u2420,\u2420\u2420B</code>.</p>\n\n<p>Tokenizer:</p>\n\n<pre><code>my @tokens;\nfor ($text) {\n   if (/\\G ( (?: [^,\\d]++ | \\d(?:,\\d++)*+ )++ ) /xgc) {\n      push @tokens, [ TEXT =&gt; $1 ];\n      redo;\n   }\n\n   if (/\\G , /xgc) {\n      push @tokens, [ 'COMMA' ];\n      redo;\n   }\n\n   if (/\\G \\z /xgc) {\n      push @tokens, [ 'EOF' ];\n      last;\n   }\n\n   die(\"Internal error\\n\");\n}\n</code></pre>\n"}, {"comments": [{"owner": {"reputation": 320771, "user_id": 589924, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/b2cf53d5a3d25f95c0db4e025aed4153?s=128&d=identicon&r=PG", "display_name": "ikegami", "link": "https://stackoverflow.com/users/589924/ikegami"}, "edited": false, "score": 0, "creation_date": 1514994114, "post_id": 48080498, "comment_id": 83135236, "body": "<code>\\p{IsN}</code> \u21d2 <code>\\pN</code>, so <code>[^\\p{IsN}]</code> \u21d2 <code>\\PN</code>."}, {"owner": {"reputation": 377, "user_id": 6583638, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/1zobe.jpg?s=128&g=1", "display_name": "Flying_whale", "link": "https://stackoverflow.com/users/6583638/flying-whale"}, "edited": false, "score": 0, "creation_date": 1514994546, "post_id": 48080498, "comment_id": 83135492, "body": "what is the difference between <code>\\p{IsN}</code> and <code>\\d+</code> ?"}, {"owner": {"reputation": 320771, "user_id": 589924, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/b2cf53d5a3d25f95c0db4e025aed4153?s=128&d=identicon&r=PG", "display_name": "ikegami", "link": "https://stackoverflow.com/users/589924/ikegami"}, "reply_to_user": {"reputation": 377, "user_id": 6583638, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/1zobe.jpg?s=128&g=1", "display_name": "Flying_whale", "link": "https://stackoverflow.com/users/6583638/flying-whale"}, "edited": false, "score": 0, "creation_date": 1514994660, "post_id": 48080498, "comment_id": 83135552, "body": "@Flying_whale, For starters, <code>\\pN</code> aka <code>\\p{IsN}</code> aka <code>\\p{General_Category: Numeric}</code> only matches a single code point."}, {"owner": {"reputation": 320771, "user_id": 589924, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/b2cf53d5a3d25f95c0db4e025aed4153?s=128&d=identicon&r=PG", "display_name": "ikegami", "link": "https://stackoverflow.com/users/589924/ikegami"}, "reply_to_user": {"reputation": 377, "user_id": 6583638, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/1zobe.jpg?s=128&g=1", "display_name": "Flying_whale", "link": "https://stackoverflow.com/users/6583638/flying-whale"}, "edited": false, "score": 3, "creation_date": 1514995487, "post_id": 48080498, "comment_id": 83136020, "body": "@Flying_whale, <code>\\d</code> is equivalent to <code>\\p{Nd}</code> aka <code>\\p{General_Category: Decimal_Number}</code>, the subset of <code>\\pN</code> that are decimal digits. <code>\\pN</code> includes 328 more Code Points that are numeric, but not decimal digits (e.g.  &#188;, \u3251, etc)"}], "tags": [], "owner": {"reputation": 50468, "user_id": 1331451, "user_type": "registered", "accept_rate": 96, "profile_image": "https://i.stack.imgur.com/4ZPmj.png?s=128&g=1", "display_name": "simbabque", "link": "https://stackoverflow.com/users/1331451/simbabque"}, "is_accepted": true, "score": 4, "last_activity_date": 1514994806, "last_edit_date": 1514994806, "creation_date": 1514993782, "answer_id": 48080498, "question_id": 48080038, "link": "https://stackoverflow.com/questions/48080038/tokenizing-commas-with-perl/48080498#48080498", "title": "Tokenizing commas with Perl", "body": "<p>Your code does two replacements. The <code>s///</code> is a substitution, and the <code>/g</code> flag tells it to do it <em>globally</em>, which essentially is <em>replace all</em>.</p>\n\n<p>Both lines make use of the <a href=\"http://perldoc.perl.org/perluniprops.html#Properties-accessible-through-%5Cp%7B%7D-and-%5CP%7B%7D\" rel=\"nofollow noreferrer\"><code>\\p{}</code> unicode property character groups</a> in the regular expression. With <code>IsN</code> it checks if the character is a number.</p>\n\n<pre><code>/            \n (           # capture group\n  [          # character group\n   ^         # not the following characters\n   \\p{IsN}   # all characters that are a number\n  ]\n )\n [,]         # followed by a comma\n/\n</code></pre>\n\n<p>It replaces that with the captured not numbers, a space, a comma and a space.</p>\n\n<p>The second line does the same, but with the comma first.</p>\n\n<p>You can rewrite this code to be shorter and more concise with the same features. The <code>\\P{}</code> is <em>all chars that do not have this property</em>, which removes the need for <code>[]</code>. This can be shortened further to <code>\\PN</code>.</p>\n\n<pre><code>$text =~ s/(\\PN),/$1 , /g;\n$text =~ s/,(\\PN)/ , $1/g;\n</code></pre>\n"}], "owner": {"reputation": 13885, "user_id": 1509695, "user_type": "registered", "accept_rate": 38, "profile_image": "https://www.gravatar.com/avatar/04a3ca8cd41bf8e170b901072fcc667f?s=128&d=identicon&r=PG", "display_name": "matanster", "link": "https://stackoverflow.com/users/1509695/matanster"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 126, "favorite_count": 0, "accepted_answer_id": 48080498, "answer_count": 2, "score": 2, "last_activity_date": 1515006263, "creation_date": 1514992021, "last_edit_date": 1514995655, "question_id": 48080038, "link": "https://stackoverflow.com/questions/48080038/tokenizing-commas-with-perl", "title": "Tokenizing commas with Perl", "body": "<p>Please explain these two lines of Perl from <a href=\"https://github.com/moses-smt/mosesdecoder/blob/3a0631a05b7f53a7f387ca8ddca432f5ddb22029/scripts/tokenizer/tokenizer.perl#L280-L286\" rel=\"nofollow noreferrer\">this code</a>.</p>\n\n<pre><code># separate out \",\" except if within numbers (5,300)\n# previous \"global\" application skips some:  A,B,C,D,E &gt; A , B,C , D,E\n# first application uses up B so rule can't see B,C\n# two-step version here may create extra spaces but these are removed later\n# will also space digit,letter or letter,digit forms (redundant with next section)\n$text =~ s/([^\\p{IsN}])[,]/$1 , /g;\n$text =~ s/[,]([^\\p{IsN}])/ , $1/g;\n</code></pre>\n"}, {"tags": ["perl", "sendmail"], "comments": [{"owner": {"reputation": 78982, "user_id": 1848654, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/84180c0f3c9c04f8b8f0613fc0129dac?s=128&d=identicon&r=PG", "display_name": "melpomene", "link": "https://stackoverflow.com/users/1848654/melpomene"}, "edited": false, "score": 1, "creation_date": 1514989191, "post_id": 48079116, "comment_id": 83132229, "body": "What is this, email code from 1997?"}, {"owner": {"reputation": 78982, "user_id": 1848654, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/84180c0f3c9c04f8b8f0613fc0129dac?s=128&d=identicon&r=PG", "display_name": "melpomene", "link": "https://stackoverflow.com/users/1848654/melpomene"}, "edited": false, "score": 0, "creation_date": 1514989254, "post_id": 48079116, "comment_id": 83132252, "body": "<code>$lSubjectLine</code> isn&#39;t set."}, {"owner": {"reputation": 15906, "user_id": 3527940, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/k1R45.jpg?s=128&g=1", "display_name": "jcaron", "link": "https://stackoverflow.com/users/3527940/jcaron"}, "reply_to_user": {"reputation": 78982, "user_id": 1848654, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/84180c0f3c9c04f8b8f0613fc0129dac?s=128&d=identicon&r=PG", "display_name": "melpomene", "link": "https://stackoverflow.com/users/1848654/melpomene"}, "edited": false, "score": 2, "creation_date": 1514991529, "post_id": 48079116, "comment_id": 83133629, "body": "As hinted by @melpomene, it is highly recommended you use a library at least to build the e-mail (and ideally send it). It will avoid a lot of misery for you."}, {"owner": {"reputation": 9961, "user_id": 2139766, "user_type": "registered", "accept_rate": 100, "profile_image": "https://i.stack.imgur.com/b3qcA.png?s=128&g=1", "display_name": "AnFi", "link": "https://stackoverflow.com/users/2139766/anfi"}, "edited": false, "score": 0, "creation_date": 1514992836, "post_id": 48079116, "comment_id": 83134468, "body": "IMHO in some lightweight perl scripts it makes sense to use sendmail (or sendmail look alike) to send simple email messages."}, {"owner": {"reputation": 62184, "user_id": 7231, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/81b76985f3985e35492e25880493d045?s=128&d=identicon&r=PG", "display_name": "Dave Cross", "link": "https://stackoverflow.com/users/7231/dave-cross"}, "edited": false, "score": 1, "creation_date": 1514994603, "post_id": 48079116, "comment_id": 83135522, "body": "Instead of <code>print</code>ing to your <code>SENDMAIL</code> filehandle, try <code>printing</code> to <code>STDOUT</code>. That way you&#39;ll see exactly what data you are sending to <code>sendmail</code>. If you see an empty line, then remember that will end your headers and start the email content."}], "answers": [{"tags": [], "owner": {"reputation": 9961, "user_id": 2139766, "user_type": "registered", "accept_rate": 100, "profile_image": "https://i.stack.imgur.com/b3qcA.png?s=128&g=1", "display_name": "AnFi", "link": "https://stackoverflow.com/users/2139766/anfi"}, "is_accepted": false, "score": 1, "last_activity_date": 1514993469, "creation_date": 1514993469, "answer_id": 48080421, "question_id": 48079116, "link": "https://stackoverflow.com/questions/48079116/no-recipient-addresses-found-in-header-sendmail/48080421#48080421", "title": "No recipient addresses found in header - Sendmail", "body": "<p>The script you provided (as you provided it) generates empty line (end of headers mark) after <code>Reply-To:</code> header. </p>\n\n<p>Modify you script to inspect message you pass to sendmail.</p>\n\n<pre><code>my $sendmail = \"/usr/sbin/sendmail -t -i\";\n\nmy $MSG=&lt;&lt;EOM;\n...\nEOM\n\nprint $MSG; # print message to STDOUT for inspection\n\nopen( SENDMAIL, \"|$sendmail\" ) or die \"Cannot open $sendmail: $!\";\nprint SENDMAIL $MSG;\nclose(SENDMAIL);\n</code></pre>\n"}, {"tags": [], "owner": {"reputation": 560, "user_id": 10850601, "user_type": "registered", "profile_image": "https://lh5.googleusercontent.com/-3R2h7RDJ9yU/AAAAAAAAAAI/AAAAAAAAAAA/AKxrwcYNkQa9HPTd778Jo28o4mlsEFPJpw/mo/photo.jpg?sz=128", "display_name": "Ed Grimm", "link": "https://stackoverflow.com/users/10850601/ed-grimm"}, "is_accepted": false, "score": 0, "last_activity_date": 1547594305, "creation_date": 1547594305, "answer_id": 54208242, "question_id": 48079116, "link": "https://stackoverflow.com/questions/48079116/no-recipient-addresses-found-in-header-sendmail/54208242#54208242", "title": "No recipient addresses found in header - Sendmail", "body": "<p>I know this is an old submission, but just in case there's still interest, instead of blindly putting your string together, only add the bits that are actually set.</p>\n\n<pre><code>my $sendmail = \"/usr/sbin/sendmail -t\";\nmy $reply_to = \"Reply-to: swa.udda\\@lkl.com\";;\nmy $subject  = $lSubjectLine;\nmy $content  = $lMessage;\nmy $to       = \"To: \".$lEmailAdd;\nmy $file     = $l_finalFile;\nmy $from     = \"From: test.a\\@lkl.com\";\n\nopen( SENDMAIL, \"|$sendmail\" ) or die \"Cannot open $sendmail: $!\";\nprint SENDMAIL join \"\\n\", $reply_to, $from, $to, ($subject || ()), '',\n                          $content;\n\nclose(SENDMAIL);\n</code></pre>\n"}], "owner": {"reputation": 21, "user_id": 9168490, "user_type": "registered", "profile_image": "https://lh5.googleusercontent.com/-mIg4D0zCDws/AAAAAAAAAAI/AAAAAAAACfs/MF2qrNPtg6Y/photo.jpg?sz=128", "display_name": "U Swaroop", "link": "https://stackoverflow.com/users/9168490/u-swaroop"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 5612, "favorite_count": 0, "answer_count": 2, "score": 1, "last_activity_date": 1547594305, "creation_date": 1514988897, "last_edit_date": 1514991905, "question_id": 48079116, "link": "https://stackoverflow.com/questions/48079116/no-recipient-addresses-found-in-header-sendmail", "title": "No recipient addresses found in header - Sendmail", "body": "<p>I am using the below code.</p>\n\n<p>I have printed my <code>$to</code> variable and it is fine. I am still getting error</p>\n\n<blockquote>\n  <p>No recipient addresses found in header</p>\n</blockquote>\n\n<pre><code>my $sendmail = \"/usr/sbin/sendmail -t\";\nmy $reply_to = \"Reply-to: swa.udda\\@lkl.com\";;\nmy $subject  = $lSubjectLine;\nmy $content  = $lMessage;\nmy $to       = \"To: \".$lEmailAdd;\nmy $file     = $l_finalFile;\nmy $from     = \"From: test.a\\@lkl.com\";\n\nopen( SENDMAIL, \"|$sendmail\" ) or die \"Cannot open $sendmail: $!\";\nprint SENDMAIL &lt;&lt;EOM;\n$reply_to\n$subject\n$from\n$to\n$content\nEOM\nclose(SENDMAIL);\n</code></pre>\n"}, {"tags": ["perl", "7zip"], "comments": [{"owner": {"reputation": 50468, "user_id": 1331451, "user_type": "registered", "accept_rate": 96, "profile_image": "https://i.stack.imgur.com/4ZPmj.png?s=128&g=1", "display_name": "simbabque", "link": "https://stackoverflow.com/users/1331451/simbabque"}, "edited": false, "score": 2, "creation_date": 1514981420, "post_id": 48076768, "comment_id": 83127910, "body": "What methods have you tried? What <i>output</i> did you get? What do you consider the correct output?"}], "answers": [{"comments": [{"owner": {"reputation": 123805, "user_id": 622310, "user_type": "registered", "accept_rate": 33, "profile_image": "https://www.gravatar.com/avatar/8b6d35219e1808520bc238b28161e2e6?s=128&d=identicon&r=PG", "display_name": "Borodin", "link": "https://stackoverflow.com/users/622310/borodin"}, "edited": false, "score": 0, "creation_date": 1515001131, "post_id": 48077751, "comment_id": 83139262, "body": "What do you think <code>%$entry{&#39;Attributes&#39;}</code> does? I don&#39;t even know myself!"}, {"owner": {"reputation": 77, "user_id": 7568434, "user_type": "registered", "accept_rate": 0, "profile_image": "https://www.gravatar.com/avatar/097e26962f64b93b5a09a51423616979?s=128&d=identicon&r=PG&f=1", "display_name": "keeru", "link": "https://stackoverflow.com/users/7568434/keeru"}, "edited": false, "score": 0, "creation_date": 1515004595, "post_id": 48077751, "comment_id": 83140993, "body": "I couln&#39;t able to use this perl module.getting &quot;Can&#39;t locate Archive/SevenZip.pm in @INC (you may need to install the Archive::SevenZip module)&quot; error. Can u suggest some other perl module which achieve the correct output?"}, {"owner": {"reputation": 123805, "user_id": 622310, "user_type": "registered", "accept_rate": 33, "profile_image": "https://www.gravatar.com/avatar/8b6d35219e1808520bc238b28161e2e6?s=128&d=identicon&r=PG", "display_name": "Borodin", "link": "https://stackoverflow.com/users/622310/borodin"}, "edited": false, "score": 0, "creation_date": 1515004612, "post_id": 48077751, "comment_id": 83141004, "body": "I also note that, at least on Windows, <code>$entry{&#39;Attributes&#39;}</code> looks like <code>A_ -rw-r--r--</code>"}, {"owner": {"reputation": 123805, "user_id": 622310, "user_type": "registered", "accept_rate": 33, "profile_image": "https://www.gravatar.com/avatar/8b6d35219e1808520bc238b28161e2e6?s=128&d=identicon&r=PG", "display_name": "Borodin", "link": "https://stackoverflow.com/users/622310/borodin"}, "reply_to_user": {"reputation": 77, "user_id": 7568434, "user_type": "registered", "accept_rate": 0, "profile_image": "https://www.gravatar.com/avatar/097e26962f64b93b5a09a51423616979?s=128&d=identicon&r=PG&f=1", "display_name": "keeru", "link": "https://stackoverflow.com/users/7568434/keeru"}, "edited": false, "score": 0, "creation_date": 1515004648, "post_id": 48077751, "comment_id": 83141021, "body": "@keeru: You need to install it. There is no other option unless you want to run the <code>7z</code> utility directly."}, {"owner": {"reputation": 377, "user_id": 6583638, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/1zobe.jpg?s=128&g=1", "display_name": "Flying_whale", "link": "https://stackoverflow.com/users/6583638/flying-whale"}, "edited": false, "score": 0, "creation_date": 1515057129, "post_id": 48077751, "comment_id": 83158218, "body": "I used <code>%$entry{Attributes}</code> to dereference the hash, but yeah, <code>$entry-&gt;{Attributes}</code> is better"}, {"owner": {"reputation": 377, "user_id": 6583638, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/1zobe.jpg?s=128&g=1", "display_name": "Flying_whale", "link": "https://stackoverflow.com/users/6583638/flying-whale"}, "edited": false, "score": 0, "creation_date": 1515058045, "post_id": 48077751, "comment_id": 83158691, "body": "I&#39;m working on Windows, if I try to print <code>$entry-&gt;{Attributes}</code> for each <code>$entry</code> I got the output <code>DDAAAA</code> with the archive I used for testing my code.  I don&#39;t know how you got <code>A_</code>"}], "tags": [], "owner": {"reputation": 377, "user_id": 6583638, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/1zobe.jpg?s=128&g=1", "display_name": "Flying_whale", "link": "https://stackoverflow.com/users/6583638/flying-whale"}, "is_accepted": false, "score": 0, "last_activity_date": 1515001079, "last_edit_date": 1515001079, "creation_date": 1514983681, "answer_id": 48077751, "question_id": 48076768, "link": "https://stackoverflow.com/questions/48076768/how-to-extract-7z-zip-file-using-perl-in-linux/48077751#48077751", "title": "how to extract 7z zip file using perl in linux", "body": "<p>I suggest that you use the\n<a href=\"https://metacpan.org/pod/Archive::SevenZip\" rel=\"nofollow noreferrer\"><code>Archive::SevenZip</code></a>\nmodule.</p>\n\n<p>I came up with this code by reading the documentation and doing some experiments.</p>\n\n<pre><code>use strict;\nuse warnings 'all';\n\nuse Archive::SevenZip;\n\nmy $ar = Archive::SevenZip-&gt;new(\n    archivename =&gt; \"YourArchive.7z\",\n    find        =&gt; 1,\n);\n\nfor my $entry ( $ar-&gt;list ) {\n\n    next unless $entry-&gt;{Attributes} =~ /^A/;\n\n    my $target = join \"/\", \"YourExtractedFolderName\", $entry-&gt;basename;\n    $ar-&gt;extractMember( $entry-&gt;fileName, $target );\n}\n</code></pre>\n\n<p>All files are extracted to the root of the folder because I test whether  <code>$entry</code> is a file (<code>$entry-&gt;{'Attributes'}</code> is <code>A</code> for files and <code>D</code> for directories). Knowing this you can extract folders by modifying my code.</p>\n\n<p>You should also check whether the archive exists, otherwise it will return an error.</p>\n"}], "owner": {"reputation": 77, "user_id": 7568434, "user_type": "registered", "accept_rate": 0, "profile_image": "https://www.gravatar.com/avatar/097e26962f64b93b5a09a51423616979?s=128&d=identicon&r=PG&f=1", "display_name": "keeru", "link": "https://stackoverflow.com/users/7568434/keeru"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 713, "favorite_count": 0, "answer_count": 1, "score": 1, "last_activity_date": 1515001079, "creation_date": 1514980036, "last_edit_date": 1514982108, "question_id": 48076768, "link": "https://stackoverflow.com/questions/48076768/how-to-extract-7z-zip-file-using-perl-in-linux", "title": "how to extract 7z zip file using perl in linux", "body": "<p>I have an example.7z zip file in the following location /aaa/bbb/ccc. i need to extract that zip file in the same location itself. i tried many methods but can't able to get the correct output. please help me out. Thanks in advance!</p>\n\n<pre><code>use strict ;\nuse warnings ;\nuse IO::Uncompress::Unzip qw(unzip $UnzipError) ;\nuse IO::File ;\nmy $input = '/aaa/bbb/ccc/example.7z';\nmy $zip = (split(/\\//, $input))[-1]; #to extract the example.7z\nmy $buffer = '/aaa/bbb/ccc/';\nunzip $zip =&gt; \\$buffer\n       or die \"unzip failed: $UnzipError\\n\"\n</code></pre>\n\n<p>I tried this method..This example.7z zip file contains three .BIN files. i Need to extract them. currently i dint get any output in that location.</p>\n"}, {"tags": ["perl", "hash", "constants"], "answers": [{"comments": [{"owner": {"reputation": 320771, "user_id": 589924, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/b2cf53d5a3d25f95c0db4e025aed4153?s=128&d=identicon&r=PG", "display_name": "ikegami", "link": "https://stackoverflow.com/users/589924/ikegami"}, "edited": false, "score": 0, "creation_date": 1514984703, "post_id": 48076879, "comment_id": 83129740, "body": "I use <code>(B)</code> (compiles to <code>&quot;b&quot;</code>) instead of <code>B()</code> (compiles to a slower sub call, and requires knowing that constants can be used as subs even when they aren&#39;t subs)."}, {"owner": {"reputation": 198290, "user_id": 1030675, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/957956ce51706d03f19a4dc85a767bb1?s=128&d=identicon&r=PG", "display_name": "choroba", "link": "https://stackoverflow.com/users/1030675/choroba"}, "reply_to_user": {"reputation": 320771, "user_id": 589924, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/b2cf53d5a3d25f95c0db4e025aed4153?s=128&d=identicon&r=PG", "display_name": "ikegami", "link": "https://stackoverflow.com/users/589924/ikegami"}, "edited": false, "score": 0, "creation_date": 1514985529, "post_id": 48076879, "comment_id": 83130194, "body": "@ikegami: Deparse shows B() compiled to &#39;b&#39; the same way as <code>(B)</code>. Concise shows a small difference, though: <code>s*&#47;FOLD</code> vs. <code>sP*&#47;FOLD</code>, which I don&#39;t understand. Terse shows no diff."}, {"owner": {"reputation": 320771, "user_id": 589924, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/b2cf53d5a3d25f95c0db4e025aed4153?s=128&d=identicon&r=PG", "display_name": "ikegami", "link": "https://stackoverflow.com/users/589924/ikegami"}, "edited": false, "score": 0, "creation_date": 1514985894, "post_id": 48076879, "comment_id": 83130401, "body": "Ah ok. Still, requires treating a constant as a sub, which is yucky, and requires internal knowledge."}, {"owner": {"reputation": 198290, "user_id": 1030675, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/957956ce51706d03f19a4dc85a767bb1?s=128&d=identicon&r=PG", "display_name": "choroba", "link": "https://stackoverflow.com/users/1030675/choroba"}, "reply_to_user": {"reputation": 320771, "user_id": 589924, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/b2cf53d5a3d25f95c0db4e025aed4153?s=128&d=identicon&r=PG", "display_name": "ikegami", "link": "https://stackoverflow.com/users/589924/ikegami"}, "edited": false, "score": 0, "creation_date": 1514986316, "post_id": 48076879, "comment_id": 83130643, "body": "It&#39;s the documented workaround, but I like yours more."}], "tags": [], "owner": {"reputation": 198290, "user_id": 1030675, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/957956ce51706d03f19a4dc85a767bb1?s=128&d=identicon&r=PG", "display_name": "choroba", "link": "https://stackoverflow.com/users/1030675/choroba"}, "is_accepted": true, "score": 5, "last_activity_date": 1514980751, "last_edit_date": 1514980751, "creation_date": 1514980416, "answer_id": 48076879, "question_id": 48076743, "link": "https://stackoverflow.com/questions/48076743/perl-constant-value-in-hash-key/48076879#48076879", "title": "Perl: Constant value in hash-key", "body": "<p>It's documented in <a href=\"http://p3rl.org/constant\" rel=\"nofollow noreferrer\">constant</a> under CAVEATS.</p>\n\n<p>The common way is to use <code>()</code>:</p>\n\n<pre><code>my %h = (A =&gt; \"1\", B() =&gt; \"2\");\n</code></pre>\n\n<p>or switch to the \"non-stringifying fat comma\" (or a simple comma):</p>\n\n<pre><code>my %h = (A =&gt; \"1\", B ,=&gt; \"2\");\n</code></pre>\n\n<p>Using <code>&amp;</code> doesn't inline the constant, as you can verify with <a href=\"http://p3rl.org/B::Deparse\" rel=\"nofollow noreferrer\">B::Deparse</a>:</p>\n\n<pre><code>$ perl -MO=Deparse ~/1.pl\nsub B () { 'b' }\nuse constant ('A', 'a');\nuse constant ('B', 'b');\nmy(%h) = ('A', '1', &amp;B, '2');\nprint \"\\na, b\";\nforeach $_ (sort keys %h) {\n    print \"\\n\" . $_ . '=' . $h{$_};\n}\n/home/choroba/1.pl syntax OK\n</code></pre>\n"}], "owner": {"reputation": 8001, "user_id": 307297, "user_type": "registered", "accept_rate": 62, "profile_image": "https://i.stack.imgur.com/e28FD.png?s=128&g=1", "display_name": "chris01", "link": "https://stackoverflow.com/users/307297/chris01"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 193, "favorite_count": 0, "accepted_answer_id": 48076879, "answer_count": 1, "score": 4, "last_activity_date": 1514980751, "creation_date": 1514979929, "question_id": 48076743, "link": "https://stackoverflow.com/questions/48076743/perl-constant-value-in-hash-key", "title": "Perl: Constant value in hash-key", "body": "<p>I am a bit astonished. If I use a constant for a hash-key Perl does not use the value. I need to put &amp; in front of it to make this happen.</p>\n\n<pre><code>use constant A =&gt; \"a\";\nuse constant B =&gt; \"b\";\n\nmy %h = (A =&gt; \"1\", &amp;B =&gt; \"2\");\n\nprint \"\\n\". A . \", \" . B;\nforeach (sort (keys (%h)))\n{\n    print \"\\n\"  . $_ . \"=\" . $h {$_};\n}\n</code></pre>\n\n<p>Output:</p>\n\n<pre><code>a, b\nA=1\nb=2\n</code></pre>\n\n<p>But I would expect that (2nd line is different).</p>\n\n<pre><code>a, b\na=1\nb=2\n</code></pre>\n\n<p>Any way to do it without the &amp; when use the constant for a hash-key??</p>\n\n<p>Thanks for help!</p>\n"}, {"tags": ["perl"], "comments": [{"owner": {"reputation": 48798, "user_id": 223226, "user_type": "registered", "accept_rate": 93, "profile_image": "https://i.stack.imgur.com/iGqE4.png?s=128&g=1", "display_name": "mpapec", "link": "https://stackoverflow.com/users/223226/mpapec"}, "edited": false, "score": 2, "creation_date": 1514963408, "post_id": 48072588, "comment_id": 83119043, "body": "<a href=\"https://perldoc.perl.org/perlsub.html#Prototypes\" rel=\"nofollow noreferrer\">perldoc.perl.org/perlsub.html#Prototypes</a>"}], "answers": [{"comments": [{"owner": {"reputation": 123805, "user_id": 622310, "user_type": "registered", "accept_rate": 33, "profile_image": "https://www.gravatar.com/avatar/8b6d35219e1808520bc238b28161e2e6?s=128&d=identicon&r=PG", "display_name": "Borodin", "link": "https://stackoverflow.com/users/622310/borodin"}, "edited": false, "score": 4, "creation_date": 1514975517, "post_id": 48074113, "comment_id": 83124736, "body": "Moreover, the prototype in <code>sub cleartex()</code> is declaring that the subroutine takes <i>no parameters</i>, which is clearly not what the OP wants."}], "tags": [], "owner": {"reputation": 51521, "user_id": 2566198, "user_type": "registered", "accept_rate": 67, "profile_image": "https://i.stack.imgur.com/Y34ZA.jpg?s=128&g=1", "display_name": "Sobrique", "link": "https://stackoverflow.com/users/2566198/sobrique"}, "is_accepted": true, "score": 6, "last_activity_date": 1514969928, "creation_date": 1514969928, "answer_id": 48074113, "question_id": 48072588, "link": "https://stackoverflow.com/questions/48072588/using-sub-functions-warning-in-perl/48074113#48074113", "title": "Using sub functions warning in perl", "body": "<p>If you declare a subroutine with parenthesis you are defining a perl prototype. This is <em>usually</em> not something you want to be doing, because perl prototypes aren't the kind you'd recognise from other languages.</p>\n\n<p><a href=\"https://perldoc.perl.org/perlsub.html#Prototypes\" rel=\"noreferrer\">perldoc prototype</a></p>\n\n<p>Mostly, you just shouldn't use them in normal practice - the uses/reasons for them are pretty niche, and are mostly when you're trying to re-implement certain built in functions in different ways. </p>\n\n<p>Just lose the prototype, and carry on with your day, and you'll be fine. </p>\n"}], "owner": {"reputation": 2415, "user_id": 4251338, "user_type": "registered", "accept_rate": 90, "profile_image": "https://i.stack.imgur.com/UNbCO.png?s=128&g=1", "display_name": "ssr1012", "link": "https://stackoverflow.com/users/4251338/ssr1012"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 77, "favorite_count": 0, "accepted_answer_id": 48074113, "answer_count": 1, "score": 2, "last_activity_date": 1514971917, "creation_date": 1514962423, "last_edit_date": 1514971917, "question_id": 48072588, "link": "https://stackoverflow.com/questions/48072588/using-sub-functions-warning-in-perl", "title": "Using sub functions warning in perl", "body": "<p>What is the difference between <code>sub SampleFunc() { ... }</code> and <code>sub SampleFunc { ... }</code></p>\n\n<p>Since if I am using <code>()</code> parenthesis I am getting warning while Compilation <code>perl -wc Testing</code>. if I am not using <code>()</code> parenthesis in <code>sub SampleFunc</code> sure I am not getting warning message.</p>\n\n<p>Eg: </p>\n\n<pre><code> $sampleout = cleartex($sampleinput);\n</code></pre>\n\n<p>Error Message:</p>\n\n<pre><code> main::cleartex() called too early to check prototype at Sample.pl line xxx.\n</code></pre>\n\n<p>Could you please someone explain on this one. If I removed <code>()</code> then might be received any major difference in the output?</p>\n"}, {"tags": ["mysql", "linux", "perl"], "answers": [{"comments": [{"owner": {"reputation": 15, "user_id": 9112108, "user_type": "registered", "accept_rate": 75, "profile_image": "https://www.gravatar.com/avatar/5c3b5eed4b0ada82393efbb33c430de9?s=128&d=identicon&r=PG&f=1", "display_name": "BASAVARAJ JM", "link": "https://stackoverflow.com/users/9112108/basavaraj-jm"}, "edited": false, "score": 0, "creation_date": 1514922559, "post_id": 48066902, "comment_id": 83107173, "body": "i all-ready  installed above thing still i am getting error and how to check DBI  is installed all packages correctly and if not how to remove DBI and  reinstall again so that i should not get above error"}, {"owner": {"reputation": 666, "user_id": 2243865, "user_type": "registered", "accept_rate": 72, "profile_image": "https://www.gravatar.com/avatar/32c60daf8fbec71c63b1e78e8ed38bc1?s=128&d=identicon&r=PG", "display_name": "user3243135", "link": "https://stackoverflow.com/users/2243865/user3243135"}, "reply_to_user": {"reputation": 15, "user_id": 9112108, "user_type": "registered", "accept_rate": 75, "profile_image": "https://www.gravatar.com/avatar/5c3b5eed4b0ada82393efbb33c430de9?s=128&d=identicon&r=PG&f=1", "display_name": "BASAVARAJ JM", "link": "https://stackoverflow.com/users/9112108/basavaraj-jm"}, "edited": false, "score": 0, "creation_date": 1514922885, "post_id": 48066902, "comment_id": 83107311, "body": "Ah, I see you are using a non-system perl. Editted the answer."}, {"owner": {"reputation": 15, "user_id": 9112108, "user_type": "registered", "accept_rate": 75, "profile_image": "https://www.gravatar.com/avatar/5c3b5eed4b0ada82393efbb33c430de9?s=128&d=identicon&r=PG&f=1", "display_name": "BASAVARAJ JM", "link": "https://stackoverflow.com/users/9112108/basavaraj-jm"}, "edited": false, "score": 0, "creation_date": 1514952208, "post_id": 48066902, "comment_id": 83115614, "body": "i installed mysql-devel and i tried to install DBD::mysql using ur command i am getting ERROR and also i tried with downloading tar file DBD and Followed step to install it, there i am getting ERROR as below"}, {"owner": {"reputation": 15, "user_id": 9112108, "user_type": "registered", "accept_rate": 75, "profile_image": "https://www.gravatar.com/avatar/5c3b5eed4b0ada82393efbb33c430de9?s=128&d=identicon&r=PG&f=1", "display_name": "BASAVARAJ JM", "link": "https://stackoverflow.com/users/9112108/basavaraj-jm"}, "edited": false, "score": 0, "creation_date": 1514952279, "post_id": 48066902, "comment_id": 83115624, "body": "dbdimp.c: In function \u2018mysql_dr_connect\u2019: dbdimp.c:2000:13: error: \u2018MYSQL\u2019 has no member named \u2018reconnect\u2019        result-&gt;reconnect=0;              ^"}, {"owner": {"reputation": 15, "user_id": 9112108, "user_type": "registered", "accept_rate": 75, "profile_image": "https://www.gravatar.com/avatar/5c3b5eed4b0ada82393efbb33c430de9?s=128&d=identicon&r=PG&f=1", "display_name": "BASAVARAJ JM", "link": "https://stackoverflow.com/users/9112108/basavaraj-jm"}, "edited": false, "score": 0, "creation_date": 1514952362, "post_id": 48066902, "comment_id": 83115644, "body": "If tried execute the command give by you i.e cpan DBD::mysql DBI i am getting same error as above"}, {"owner": {"reputation": 666, "user_id": 2243865, "user_type": "registered", "accept_rate": 72, "profile_image": "https://www.gravatar.com/avatar/32c60daf8fbec71c63b1e78e8ed38bc1?s=128&d=identicon&r=PG", "display_name": "user3243135", "link": "https://stackoverflow.com/users/2243865/user3243135"}, "reply_to_user": {"reputation": 15, "user_id": 9112108, "user_type": "registered", "accept_rate": 75, "profile_image": "https://www.gravatar.com/avatar/5c3b5eed4b0ada82393efbb33c430de9?s=128&d=identicon&r=PG&f=1", "display_name": "BASAVARAJ JM", "link": "https://stackoverflow.com/users/9112108/basavaraj-jm"}, "edited": false, "score": 0, "creation_date": 1515006074, "post_id": 48066902, "comment_id": 83141775, "body": "most likely 5.24 is too new to run on your old version. I recommend you delete your perl in /usr/local and use the system version with system packages."}, {"owner": {"reputation": 15, "user_id": 9112108, "user_type": "registered", "accept_rate": 75, "profile_image": "https://www.gravatar.com/avatar/5c3b5eed4b0ada82393efbb33c430de9?s=128&d=identicon&r=PG&f=1", "display_name": "BASAVARAJ JM", "link": "https://stackoverflow.com/users/9112108/basavaraj-jm"}, "edited": false, "score": 0, "creation_date": 1516432325, "post_id": 48066902, "comment_id": 83693726, "body": "it not  perl local system ERROR actual i am running mariadb 10.2 which has a problem so we need to down load the Mariadb 10.2 patch i have patch but i dont know how to install it"}], "tags": [], "owner": {"reputation": 666, "user_id": 2243865, "user_type": "registered", "accept_rate": 72, "profile_image": "https://www.gravatar.com/avatar/32c60daf8fbec71c63b1e78e8ed38bc1?s=128&d=identicon&r=PG", "display_name": "user3243135", "link": "https://stackoverflow.com/users/2243865/user3243135"}, "is_accepted": false, "score": 3, "last_activity_date": 1514922865, "last_edit_date": 1514922865, "creation_date": 1514922291, "answer_id": 48066902, "question_id": 48066883, "link": "https://stackoverflow.com/questions/48066883/installation-of-dbi-module-in-perl-facing-issue/48066902#48066902", "title": "Installation of DBI module in Perl facing issue", "body": "<p>You need to install <code>perl-DBD-MySQL</code>.</p>\n\n<p>Edit: I read your error message and you are using a non-system perl in /usr/local (perl 5.24.1). If you are using that instead of the system perl, you can do:</p>\n\n<pre><code>cpan DBD::mysql DBI\n</code></pre>\n\n<p>You may need to also do:</p>\n\n<pre><code>yum  install mysql-devel \n</code></pre>\n"}], "owner": {"reputation": 15, "user_id": 9112108, "user_type": "registered", "accept_rate": 75, "profile_image": "https://www.gravatar.com/avatar/5c3b5eed4b0ada82393efbb33c430de9?s=128&d=identicon&r=PG&f=1", "display_name": "BASAVARAJ JM", "link": "https://stackoverflow.com/users/9112108/basavaraj-jm"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 1739, "favorite_count": 0, "answer_count": 1, "score": 1, "last_activity_date": 1514922865, "creation_date": 1514922203, "question_id": 48066883, "link": "https://stackoverflow.com/questions/48066883/installation-of-dbi-module-in-perl-facing-issue", "title": "Installation of DBI module in Perl facing issue", "body": "<p>I have installed DBI module in Centos 7 server but whenever i am trying Connect to mysql through Perl script i am getting below ERROR as below please help on this </p>\n\n<p>install_driver(mysql) failed: Can't locate DBD/mysql.pm in @INC (you may need to install the DBD::mysql module) (@INC contains: /usr/local/lib/perl5/site_perl/5.24.1/x86_64-linux /usr/local/lib/perl5/site_perl/5.24.1 /usr/local/lib/perl5/5.24.1/x86_64-linux /usr/local/lib/perl5/5.24.1 .) at (eval 1195) line 3.\nPerhaps the DBD::mysql perl module hasn't been fully installed,\nor perhaps the capitalisation of 'mysql' isn't right.\nAvailable drivers: DBM, ExampleP, File, Gofer, Mem, Multiplex, Proxy, Sponge.\n at Registration.pl line 93.</p>\n"}, {"tags": ["python", "perl", "rpm", "rpmbuild"], "answers": [{"tags": [], "owner": {"reputation": 4270, "user_id": 3489429, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/624RU.png?s=128&g=1", "display_name": "msuchy", "link": "https://stackoverflow.com/users/3489429/msuchy"}, "is_accepted": false, "score": 1, "last_activity_date": 1514914004, "creation_date": 1514914004, "answer_id": 48065282, "question_id": 48064648, "link": "https://stackoverflow.com/questions/48064648/enable-rpmbuild-automatic-detection-of-dependencies-for-python/48065282#48065282", "title": "Enable rpmbuild automatic detection of dependencies for python", "body": "<p>This works since Fedora 25. See <a href=\"https://fedoraproject.org/wiki/Packaging:Python#Automatic_Provides_with_a_standardized_name\" rel=\"nofollow noreferrer\">https://fedoraproject.org/wiki/Packaging:Python#Automatic_Provides_with_a_standardized_name</a></p>\n"}, {"comments": [{"owner": {"reputation": 451, "user_id": 1382278, "user_type": "registered", "accept_rate": 80, "profile_image": "https://www.gravatar.com/avatar/d2cd56dcaf92ff20b7cfd66c17106154?s=128&d=identicon&r=PG", "display_name": "user1382278", "link": "https://stackoverflow.com/users/1382278/user1382278"}, "edited": false, "score": 0, "creation_date": 1514967491, "post_id": 48068802, "comment_id": 83120712, "body": "The scripts do not parse the Python files to find the standardized name (i.e. dist name, name on PyPI) of the packaged software (i.e., Perl scripts seem to work via parsing). How are they supposed to work?"}, {"owner": {"reputation": 9689, "user_id": 1475324, "user_type": "registered", "accept_rate": 47, "profile_image": "https://www.gravatar.com/avatar/59dca664e41227733ba8a0d1b4f9d73f?s=128&d=identicon&r=PG", "display_name": "iamauser", "link": "https://stackoverflow.com/users/1475324/iamauser"}, "reply_to_user": {"reputation": 451, "user_id": 1382278, "user_type": "registered", "accept_rate": 80, "profile_image": "https://www.gravatar.com/avatar/d2cd56dcaf92ff20b7cfd66c17106154?s=128&d=identicon&r=PG", "display_name": "user1382278", "link": "https://stackoverflow.com/users/1382278/user1382278"}, "edited": false, "score": 1, "creation_date": 1514989942, "post_id": 48068802, "comment_id": 83132646, "body": "Not sure what you mean, but calling <code>%__python_requires</code> in your build spec file should sort out dependencies."}, {"owner": {"reputation": 451, "user_id": 1382278, "user_type": "registered", "accept_rate": 80, "profile_image": "https://www.gravatar.com/avatar/d2cd56dcaf92ff20b7cfd66c17106154?s=128&d=identicon&r=PG", "display_name": "user1382278", "link": "https://stackoverflow.com/users/1382278/user1382278"}, "edited": false, "score": 0, "creation_date": 1515010952, "post_id": 48068802, "comment_id": 83143966, "body": "I tired to call the aforementioned commands but  dependencies are not added to the RPM."}], "tags": [], "owner": {"reputation": 9689, "user_id": 1475324, "user_type": "registered", "accept_rate": 47, "profile_image": "https://www.gravatar.com/avatar/59dca664e41227733ba8a0d1b4f9d73f?s=128&d=identicon&r=PG", "display_name": "iamauser", "link": "https://stackoverflow.com/users/1475324/iamauser"}, "is_accepted": false, "score": 1, "last_activity_date": 1514932680, "creation_date": 1514932680, "answer_id": 48068802, "question_id": 48064648, "link": "https://stackoverflow.com/questions/48064648/enable-rpmbuild-automatic-detection-of-dependencies-for-python/48068802#48068802", "title": "Enable rpmbuild automatic detection of dependencies for python", "body": "<p>For a CentOS-7 box, python dependencies are generated by this script:</p>\n\n<pre><code>/usr/lib/rpm/pythondeps.sh\n</code></pre>\n\n<p>which is used in <code>/usr/lib/rpm/fileattrs/python.attr</code> like this,</p>\n\n<pre><code> %__python_provides /usr/lib/rpm/pythondeps.sh --provides\n %__python_requires /usr/lib/rpm/pythondeps.sh --requires\n</code></pre>\n\n<p>You can do it automatically by calling the above two predefined vars in your <code>spec</code> file</p>\n"}], "owner": {"reputation": 451, "user_id": 1382278, "user_type": "registered", "accept_rate": 80, "profile_image": "https://www.gravatar.com/avatar/d2cd56dcaf92ff20b7cfd66c17106154?s=128&d=identicon&r=PG", "display_name": "user1382278", "link": "https://stackoverflow.com/users/1382278/user1382278"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 336, "favorite_count": 0, "answer_count": 2, "score": 0, "last_activity_date": 1514967344, "creation_date": 1514911125, "last_edit_date": 1514967344, "question_id": 48064648, "link": "https://stackoverflow.com/questions/48064648/enable-rpmbuild-automatic-detection-of-dependencies-for-python", "title": "Enable rpmbuild automatic detection of dependencies for python", "body": "<p>The dependencies of an RPM are specified in its .spec file on the \"Requires:\" lines, but rpmbuild is able to detect automatically dependencies for Perl files with CentOS. I guess that such detection is supported by <code>/usr/lib/rpm/find-requires</code> which uses <code>/usr/lib/rpm/perl.req</code>.</p>\n\n<p>I would like to detect automatically dependencies also for python files, but, although <code>/usr/lib/rpm/find-requires</code> seems to implement the logic similar to the Perl case, <code>/usr/lib/rpm/python.req</code> does not exist. Is something else needed?</p>\n\n<p>Any other methods to enable the automatic detection of dependencies for python while building a RPM?</p>\n"}, {"tags": ["perl"], "comments": [{"owner": {"reputation": 123805, "user_id": 622310, "user_type": "registered", "accept_rate": 33, "profile_image": "https://www.gravatar.com/avatar/8b6d35219e1808520bc238b28161e2e6?s=128&d=identicon&r=PG", "display_name": "Borodin", "link": "https://stackoverflow.com/users/622310/borodin"}, "edited": false, "score": 0, "creation_date": 1514910810, "post_id": 48064436, "comment_id": 83102150, "body": "You need <code>splice</code> instead of <code>delete</code>, and you need to avoid removing the same word twice."}, {"owner": {"reputation": 198290, "user_id": 1030675, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/957956ce51706d03f19a4dc85a767bb1?s=128&d=identicon&r=PG", "display_name": "choroba", "link": "https://stackoverflow.com/users/1030675/choroba"}, "edited": false, "score": 0, "creation_date": 1514911398, "post_id": 48064436, "comment_id": 83102494, "body": "Why is &quot;About&quot; listed twice?"}, {"owner": {"reputation": 129, "user_id": 3651635, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/d0b1e73df7538a5c63334c173b4df610?s=128&d=identicon&r=PG&f=1", "display_name": "YarNik", "link": "https://stackoverflow.com/users/3651635/yarnik"}, "edited": false, "score": 0, "creation_date": 1514911521, "post_id": 48064436, "comment_id": 83102565, "body": "sorry, it is my fail"}], "answers": [{"tags": [], "owner": {"reputation": 198290, "user_id": 1030675, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/957956ce51706d03f19a4dc85a767bb1?s=128&d=identicon&r=PG", "display_name": "choroba", "link": "https://stackoverflow.com/users/1030675/choroba"}, "is_accepted": true, "score": 1, "last_activity_date": 1514911535, "last_edit_date": 1514911535, "creation_date": 1514910728, "answer_id": 48064544, "question_id": 48064436, "link": "https://stackoverflow.com/questions/48064436/perl-combinations-without-3-words/48064544#48064544", "title": "Perl combinations without 3 words", "body": "<p>In this case, it's probably better to work with the indices of the words:</p>\n\n<pre><code>#! /usr/bin/perl\nuse warnings;\nuse strict;\nuse feature qw{ say };\n\nmy @words = qw( Home Pronunciation Symbols Help About Mobile Apps Shop\n                Dictionary API Privacy Policy Terms About Contact );\nfor my $i (0 .. $#words) {\n    for my $j ($i + 1 .. $#words) {\n        for my $k ($j + 1 .. $#words) {\n            say join ' ', @words[ grep $_ != $i &amp;&amp; $_ != $j &amp;&amp; $_ != $k,\n                                  0 .. $#words ];\n        }\n    }\n}\n</code></pre>\n\n<p>Note that \"About\" is mentioned twice, so comparing the words by string comparison would return a different list:</p>\n\n<pre><code>#! /usr/bin/perl\nuse warnings;\nuse strict;\nuse feature qw{ say };\n\nmy @words = qw( Home Pronunciation Symbols Help About Mobile Apps Shop\n                Dictionary API Privacy Policy Terms About Contact );\n\nfor my $i (@words) {\n    for my $j (@words) {\n        next if $i le $j;\n\n        for my $k (@words) {\n            next if $j le $k || $i le $k;\n\n            say join ' ', grep $_ ne $i &amp;&amp; $_ ne $j &amp;&amp; $_ ne $k, @words;\n        }\n    }\n}\n</code></pre>\n"}, {"tags": [], "owner": {"reputation": 320771, "user_id": 589924, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/b2cf53d5a3d25f95c0db4e025aed4153?s=128&d=identicon&r=PG", "display_name": "ikegami", "link": "https://stackoverflow.com/users/589924/ikegami"}, "is_accepted": false, "score": 1, "last_activity_date": 1514984118, "last_edit_date": 1514984118, "creation_date": 1514981887, "answer_id": 48077250, "question_id": 48064436, "link": "https://stackoverflow.com/questions/48064436/perl-combinations-without-3-words/48077250#48077250", "title": "Perl combinations without 3 words", "body": "<p>There should be C(15, 15-3) = (15*14*13)/(3*2*1) = 455 solutions.</p>\n\n<p>That can be found using the following:</p>\n\n<pre><code>for my $i00 (0      .. $#words) {\nfor my $i01 ($i00+1 .. $#words) {\nfor my $i02 ($i01+1 .. $#words) {\nfor my $i03 ($i02+1 .. $#words) {\nfor my $i04 ($i03+1 .. $#words) {\nfor my $i05 ($i04+1 .. $#words) {\nfor my $i06 ($i05+1 .. $#words) {\nfor my $i07 ($i06+1 .. $#words) {\nfor my $i08 ($i07+1 .. $#words) {\nfor my $i09 ($i08+1 .. $#words) {\nfor my $i10 ($i09+1 .. $#words) {\nfor my $i11 ($i10+1 .. $#words) {\n   say \"@words[$i00, $i01, $i02, $i03, $i04, $i05,\n               $i06, $i07, $i08, $i09, $i10, $i11]\";\n}}}}}}}}}}}}\n</code></pre>\n\n<p>The above can also be written as follows:</p>\n\n<pre><code>use Algorithm::Loops qw( NestedLoops );\n\nmy $iter = NestedLoops([\n   [ 0..$#words ],\n   ( sub { [ $_+1..$#words ] } ) x ( @words - 3 - 1 ),\n]);\n\nwhile ( my @indexes = $iter-&gt;() ) {\n   say \"@words[@indexes]\";\n}\n</code></pre>\n\n<p>Note that the provided solutions consider duplicate words to be different words. This should be fine since the OP indicated the presence of a duplicate word was a mistake.</p>\n"}], "owner": {"reputation": 129, "user_id": 3651635, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/d0b1e73df7538a5c63334c173b4df610?s=128&d=identicon&r=PG&f=1", "display_name": "YarNik", "link": "https://stackoverflow.com/users/3651635/yarnik"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 49, "favorite_count": 0, "accepted_answer_id": 48064544, "answer_count": 2, "score": 0, "last_activity_date": 1514984118, "creation_date": 1514910291, "last_edit_date": 1514911547, "question_id": 48064436, "link": "https://stackoverflow.com/questions/48064436/perl-combinations-without-3-words", "title": "Perl combinations without 3 words", "body": "<p>I have a set of 15 words, but 3 of them are not needed.\nI need to get all the combinations.\nThese words are sorted, do not mix them.</p>\n\n<p>I try to remove from the array, but the script reports an error.</p>\n\n<pre><code>@words_orig = qw(Home Pronunciation Symbols Help About Mobile Apps Shop Dictionary API Privacy Policy Terms About2 Contact);\n@words = (@words_orig);\n\nfor $w1 ( 0 .. $#words ) {\n    delete @words[$w1];\n    for $w2 ( 0 .. $#words ) {\n        delete @words[$w2];\n        for $w3 ( 0 .. $#words ) {\n            delete @words[$w3];\n            print join(' ', @words) . \"\\n\";\n            @words = (@words_orig);\n        }\n    }\n}\n</code></pre>\n"}, {"tags": ["perl", "io", "options"], "comments": [{"owner": {"reputation": 338, "user_id": 7105391, "user_type": "registered", "accept_rate": 80, "profile_image": "https://www.gravatar.com/avatar/643080586d2bc3f391b3e7b9904db033?s=128&d=identicon&r=PG&f=1", "display_name": "Mark Gardner", "link": "https://stackoverflow.com/users/7105391/mark-gardner"}, "edited": false, "score": 0, "creation_date": 1514908982, "post_id": 48063967, "comment_id": 83101139, "body": "why the downvote? Me not including exactly how to read from a file, which is pretty irrelevant?"}, {"owner": {"reputation": 198290, "user_id": 1030675, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/957956ce51706d03f19a4dc85a767bb1?s=128&d=identicon&r=PG", "display_name": "choroba", "link": "https://stackoverflow.com/users/1030675/choroba"}, "edited": false, "score": 5, "creation_date": 1514909324, "post_id": 48063967, "comment_id": 83101324, "body": "<code>echo</code> is not a Perl function."}, {"owner": {"reputation": 198290, "user_id": 1030675, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/957956ce51706d03f19a4dc85a767bb1?s=128&d=identicon&r=PG", "display_name": "choroba", "link": "https://stackoverflow.com/users/1030675/choroba"}, "edited": false, "score": 1, "creation_date": 1514909528, "post_id": 48063967, "comment_id": 83101445, "body": "See <a href=\"http://p3rl.org/read\" rel=\"nofollow noreferrer\">read</a>, <a href=\"http://p3rl.org/sysread\" rel=\"nofollow noreferrer\">sysread</a>, <a href=\"http://p3rl.org/readline\" rel=\"nofollow noreferrer\">readline</a>, <code>&lt;&gt;</code>, <code>&lt;&lt;&gt;&gt;</code>, and maybe more."}, {"owner": {"reputation": 338, "user_id": 7105391, "user_type": "registered", "accept_rate": 80, "profile_image": "https://www.gravatar.com/avatar/643080586d2bc3f391b3e7b9904db033?s=128&d=identicon&r=PG&f=1", "display_name": "Mark Gardner", "link": "https://stackoverflow.com/users/7105391/mark-gardner"}, "reply_to_user": {"reputation": 198290, "user_id": 1030675, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/957956ce51706d03f19a4dc85a767bb1?s=128&d=identicon&r=PG", "display_name": "choroba", "link": "https://stackoverflow.com/users/1030675/choroba"}, "edited": false, "score": 0, "creation_date": 1514909782, "post_id": 48063967, "comment_id": 83101586, "body": "@choroba it is if you <code>use feature &#39;:5.10&#39;</code>"}, {"owner": {"reputation": 338, "user_id": 7105391, "user_type": "registered", "accept_rate": 80, "profile_image": "https://www.gravatar.com/avatar/643080586d2bc3f391b3e7b9904db033?s=128&d=identicon&r=PG&f=1", "display_name": "Mark Gardner", "link": "https://stackoverflow.com/users/7105391/mark-gardner"}, "reply_to_user": {"reputation": 198290, "user_id": 1030675, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/957956ce51706d03f19a4dc85a767bb1?s=128&d=identicon&r=PG", "display_name": "choroba", "link": "https://stackoverflow.com/users/1030675/choroba"}, "edited": false, "score": 0, "creation_date": 1514909815, "post_id": 48063967, "comment_id": 83101608, "body": "@choroba why not make that an answer?"}, {"owner": {"reputation": 198290, "user_id": 1030675, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/957956ce51706d03f19a4dc85a767bb1?s=128&d=identicon&r=PG", "display_name": "choroba", "link": "https://stackoverflow.com/users/1030675/choroba"}, "edited": false, "score": 3, "creation_date": 1514910170, "post_id": 48063967, "comment_id": 83101805, "body": "5.10 introduces <a href=\"http://p3rl.org/say\" rel=\"nofollow noreferrer\">say</a>, not <code>echo</code>."}, {"owner": {"reputation": 198290, "user_id": 1030675, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/957956ce51706d03f19a4dc85a767bb1?s=128&d=identicon&r=PG", "display_name": "choroba", "link": "https://stackoverflow.com/users/1030675/choroba"}, "edited": false, "score": 0, "creation_date": 1514910200, "post_id": 48063967, "comment_id": 83101820, "body": "Because of &quot;maybe&quot; :-)"}, {"owner": {"reputation": 52821, "user_id": 632407, "user_type": "registered", "accept_rate": 86, "profile_image": "https://i.stack.imgur.com/AfGWW.jpg?s=128&g=1", "display_name": "jm666", "link": "https://stackoverflow.com/users/632407/jm666"}, "edited": false, "score": 3, "creation_date": 1514911477, "post_id": 48063967, "comment_id": 83102540, "body": "On the fun side - Me personally love the <i>sperm (kite) operator</i> :-) <code>~~&lt;&gt;</code>  From the <a href=\"https://metacpan.org/pod/perlsecret#Kite\" rel=\"nofollow noreferrer\">perlsecret</a>: <i>This operator is actually a combination of the inchworm and the diamond operator. It provides scalar context to the readline() builtin, thus returning a single line of input.</i> example: <code>@triplets = ( ~~&lt;&gt;, ~~&lt;&gt;, ~~&lt;&gt; );    # three sperms in a single egg?</code>"}, {"owner": {"reputation": 2992, "user_id": 869025, "user_type": "registered", "accept_rate": 86, "profile_image": "https://www.gravatar.com/avatar/870db1cfd53a1dfbe9467082bb9777b1?s=128&d=identicon&r=PG", "display_name": "cajwine", "link": "https://stackoverflow.com/users/869025/cajwine"}, "reply_to_user": {"reputation": 198290, "user_id": 1030675, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/957956ce51706d03f19a4dc85a767bb1?s=128&d=identicon&r=PG", "display_name": "choroba", "link": "https://stackoverflow.com/users/1030675/choroba"}, "edited": false, "score": 1, "creation_date": 1514913067, "post_id": 48063967, "comment_id": 83103312, "body": "@choroba In case of &quot;maybe&quot; - you can (shloud?) write an answer and change it to <a href=\"https://meta.stackexchange.com/questions/11740/what-are-community-wiki-posts\">community wiki answer</a> - so anybody can extend it and make it perfect for the all future readers. But yes, I understand - no reputation gain = no motivation for such answers..."}, {"owner": {"reputation": 338, "user_id": 7105391, "user_type": "registered", "accept_rate": 80, "profile_image": "https://www.gravatar.com/avatar/643080586d2bc3f391b3e7b9904db033?s=128&d=identicon&r=PG&f=1", "display_name": "Mark Gardner", "link": "https://stackoverflow.com/users/7105391/mark-gardner"}, "reply_to_user": {"reputation": 198290, "user_id": 1030675, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/957956ce51706d03f19a4dc85a767bb1?s=128&d=identicon&r=PG", "display_name": "choroba", "link": "https://stackoverflow.com/users/1030675/choroba"}, "edited": false, "score": 0, "creation_date": 1514914309, "post_id": 48063967, "comment_id": 83103823, "body": "@choroba oh. ok. remembered wrong."}], "answers": [{"tags": [], "owner": {"reputation": 320771, "user_id": 589924, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/b2cf53d5a3d25f95c0db4e025aed4153?s=128&d=identicon&r=PG", "display_name": "ikegami", "link": "https://stackoverflow.com/users/589924/ikegami"}, "is_accepted": true, "score": 6, "last_activity_date": 1514913171, "last_edit_date": 1514913171, "creation_date": 1514910443, "answer_id": 48064473, "question_id": 48063967, "link": "https://stackoverflow.com/questions/48063967/how-many-ways-are-there-of-getting-stdin-input-in-perl/48064473#48064473", "title": "How many ways are there of getting stdin input in perl?", "body": "<p>This question is too broad.</p>\n\n<p>There are many different ways to read from a handle:</p>\n\n<ul>\n<li><code>&lt;&gt;</code>/<code>readline</code> (with <code>$/ = $line_ending;</code>)</li>\n<li><code>&lt;&gt;</code>/<code>readline</code> (with <code>$/ = undef;</code>)</li>\n<li><code>&lt;&gt;</code>/<code>readline</code> (with <code>$/ = \\$block_size;</code>)</li>\n<li><code>&lt;&gt;</code>/<code>readline</code> (with <code>$/ = \"\";</code>)</li>\n<li><code>getc</code></li>\n<li><code>read</code></li>\n<li><code>sysread</code></li>\n<li>...</li>\n</ul>\n\n<p>Then there are tools to work with terminals. </p>\n\n<ul>\n<li>Term::ReadKey</li>\n<li>Term::ReadLine</li>\n<li>Curses</li>\n<li>...</li>\n</ul>\n\n<p>Also, handles can be represented in multiple ways.</p>\n\n<ul>\n<li>A reference to an IO value (e.g. <code>*STDIN{IO}</code>)</li>\n<li>A glob containing an IO value (e.g. <code>*STDIN</code>)</li>\n<li>A ref to a glob containing an IO value (e.g. <code>\\*STDIN</code>)</li>\n<li>The name of a glob containing an IO value (e.g. <code>'STDIN'</code>)</li>\n<li>An IO::Handle object</li>\n</ul>\n\n<p>In one-liners, <code>-n</code>, <code>-p</code>, <code>-l</code>, <code>-0</code>, <code>-F</code>, <code>-a</code> and <code>-C</code> all have some connection to STDIN.</p>\n\n<p>...</p>\n"}], "owner": {"reputation": 338, "user_id": 7105391, "user_type": "registered", "accept_rate": 80, "profile_image": "https://www.gravatar.com/avatar/643080586d2bc3f391b3e7b9904db033?s=128&d=identicon&r=PG&f=1", "display_name": "Mark Gardner", "link": "https://stackoverflow.com/users/7105391/mark-gardner"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 72, "favorite_count": 0, "accepted_answer_id": 48064473, "answer_count": 1, "score": 0, "last_activity_date": 1514914327, "creation_date": 1514908503, "last_edit_date": 1514914327, "question_id": 48063967, "link": "https://stackoverflow.com/questions/48063967/how-many-ways-are-there-of-getting-stdin-input-in-perl", "title": "How many ways are there of getting stdin input in perl?", "body": "<p>I have been learning perl, and find the motto interesting. It says there are multiple ways of doing anything. I know that you can use <code>print</code> and <code>say</code> to output stuff, but I haven't found any other way to read input than to use a predefined file pointer-like thing.</p>\n\n<p>Are there any other ways?</p>\n"}, {"tags": ["windows", "perl", "output-buffering"], "comments": [{"owner": {"reputation": 320771, "user_id": 589924, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/b2cf53d5a3d25f95c0db4e025aed4153?s=128&d=identicon&r=PG", "display_name": "ikegami", "link": "https://stackoverflow.com/users/589924/ikegami"}, "edited": false, "score": 0, "creation_date": 1514909650, "post_id": 48063700, "comment_id": 83101510, "body": "The STDOUT of many programs is line-buffered (flushed on newline) when the program&#39;s STDOUT is connected to a terminal, and block-buffered (flushed when the file&#39;s buffer is full) otherwise (e.g. when it&#39;s connected to a pipe). /// <code>pause</code> does something similar. Its STDOUT isn&#39;t buffered when its connected to a terminal, and buffered otherwise. In other words, the problem is that <code>pause</code> isn&#39;t putting its output into the pipe until it exits. /// In unix, one would fool the child by using a pseudo-tty instead of a pipe (possibly using <code>unbuffer</code>). I don&#39;t know of any solutions for Windows."}, {"owner": {"reputation": 320771, "user_id": 589924, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/b2cf53d5a3d25f95c0db4e025aed4153?s=128&d=identicon&r=PG", "display_name": "ikegami", "link": "https://stackoverflow.com/users/589924/ikegami"}, "edited": false, "score": 0, "creation_date": 1514909890, "post_id": 48063700, "comment_id": 83101658, "body": "Off-topic bug 1: That&#39;s not a valid way of using <code>gmtime</code>. (You&#39;re passing an duration instead of a epoch time.)"}, {"owner": {"reputation": 320771, "user_id": 589924, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/b2cf53d5a3d25f95c0db4e025aed4153?s=128&d=identicon&r=PG", "display_name": "ikegami", "link": "https://stackoverflow.com/users/589924/ikegami"}, "edited": false, "score": 0, "creation_date": 1514909980, "post_id": 48063700, "comment_id": 83101723, "body": "Off-topic bug 2: You should be comparing <code>time()-$start_time</code> against <code>$timeout</code>, not <code>$s</code>."}, {"owner": {"reputation": 320771, "user_id": 589924, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/b2cf53d5a3d25f95c0db4e025aed4153?s=128&d=identicon&r=PG", "display_name": "ikegami", "link": "https://stackoverflow.com/users/589924/ikegami"}, "edited": false, "score": 0, "creation_date": 1514910045, "post_id": 48063700, "comment_id": 83101757, "body": "Tip: <code>print(sprintf(...))</code> can be written as <code>printf(...)</code>."}, {"owner": {"reputation": 565, "user_id": 5026330, "user_type": "registered", "accept_rate": 80, "profile_image": "https://lh5.googleusercontent.com/-7PNIbZa6ycw/AAAAAAAAAAI/AAAAAAAAADA/tOhkqIJQUrQ/photo.jpg?sz=128", "display_name": "TheAschr", "link": "https://stackoverflow.com/users/5026330/theaschr"}, "reply_to_user": {"reputation": 320771, "user_id": 589924, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/b2cf53d5a3d25f95c0db4e025aed4153?s=128&d=identicon&r=PG", "display_name": "ikegami", "link": "https://stackoverflow.com/users/589924/ikegami"}, "edited": false, "score": 0, "creation_date": 1514910491, "post_id": 48063700, "comment_id": 83101987, "body": "I&#39;m using a custom function instead of print. When I run the above code, the elapsed time appears to be working but I haven&#39;t gotten up to an hour yet. The timeout is working correctly as well. The reason I changed your code originally was because $h wasn&#39;t defined."}, {"owner": {"reputation": 320771, "user_id": 589924, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/b2cf53d5a3d25f95c0db4e025aed4153?s=128&d=identicon&r=PG", "display_name": "ikegami", "link": "https://stackoverflow.com/users/589924/ikegami"}, "edited": false, "score": 0, "creation_date": 1514910705, "post_id": 48063700, "comment_id": 83102095, "body": "The fact that your misuse of <code>gmtime</code> <i>appears</i> to work <i>now</i> is meaningless. /// No, it won&#39;t work with <code>$timeout &gt;= 60</code> since <code>$s</code> will never be more than <code>59</code>."}, {"owner": {"reputation": 320771, "user_id": 589924, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/b2cf53d5a3d25f95c0db4e025aed4153?s=128&d=identicon&r=PG", "display_name": "ikegami", "link": "https://stackoverflow.com/users/589924/ikegami"}, "edited": false, "score": 0, "creation_date": 1514910981, "post_id": 48063700, "comment_id": 83102241, "body": "The <code>$h</code> in my code should have been <code>$s</code>"}, {"owner": {"reputation": 565, "user_id": 5026330, "user_type": "registered", "accept_rate": 80, "profile_image": "https://lh5.googleusercontent.com/-7PNIbZa6ycw/AAAAAAAAAAI/AAAAAAAAADA/tOhkqIJQUrQ/photo.jpg?sz=128", "display_name": "TheAschr", "link": "https://stackoverflow.com/users/5026330/theaschr"}, "reply_to_user": {"reputation": 320771, "user_id": 589924, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/b2cf53d5a3d25f95c0db4e025aed4153?s=128&d=identicon&r=PG", "display_name": "ikegami", "link": "https://stackoverflow.com/users/589924/ikegami"}, "edited": false, "score": 0, "creation_date": 1514911048, "post_id": 48063700, "comment_id": 83102285, "body": "Ah ok I see your point. Thanks!"}, {"owner": {"reputation": 4680, "user_id": 1334967, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/6319a586f055b709158acaedb8c76add?s=128&d=identicon&r=PG", "display_name": "ottomeister", "link": "https://stackoverflow.com/users/1334967/ottomeister"}, "edited": false, "score": 0, "creation_date": 1514943636, "post_id": 48063700, "comment_id": 83114019, "body": "You might be able to use the <code>winpty</code> program mentioned in <a href=\"https://stackoverflow.com/a/44531837/1334967\">stackoverflow.com/a/44531837/1334967</a> to trick <code>pause</code> into emitting its message immediately instead of buffering it"}], "owner": {"reputation": 565, "user_id": 5026330, "user_type": "registered", "accept_rate": 80, "profile_image": "https://lh5.googleusercontent.com/-7PNIbZa6ycw/AAAAAAAAAAI/AAAAAAAAADA/tOhkqIJQUrQ/photo.jpg?sz=128", "display_name": "TheAschr", "link": "https://stackoverflow.com/users/5026330/theaschr"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 60, "favorite_count": 2, "closed_date": 1514984919, "answer_count": 0, "score": 2, "last_activity_date": 1514984991, "creation_date": 1514907452, "last_edit_date": 1514984991, "question_id": 48063700, "link": "https://stackoverflow.com/questions/48063700/how-do-defy-output-buffering-in-windows", "closed_reason": "Duplicate", "title": "How do defy output buffering in Windows?", "body": "<p>The following program spawns a new process which runs the windows command <code>pause</code>. The parent receives the child's stdout via a pipe and prints it out. </p>\n\n<p>However, <code>pause</code>'s output (<code>Press any key to continue . . .</code>) isn't being displayed until a newline is output. How can I resolve this?</p>\n\n<pre><code>use strict;\nuse warnings;\n\nuse Win32::Job;\nuse Time::Piece;\nuse POSIX qw( strftime );\n\n$| = 1;\n\nsub flush_handle {\n    my ($fh) = @_;\n    while (defined( my $line = &lt;$fh&gt; )) {\n        chomp($line);\n        print(\"&gt;&gt; $line\\n\");\n    }\n}\n\nmy $job = Win32::Job-&gt;new;\n\nmy $timeout = undef;\nmy $enable_stdout = 1;\n\npipe(my $in_pipe, my $out_pipe);\nmy $pre_term = 0;\n\nmy $pid = $job-&gt;spawn(\"cmd\", \"cmd /C \\\"pause\\\"\", { stdout =&gt; $out_pipe });\nclose($out_pipe);\n\nmy $start_time = time();\nmy $pid_handler = $job-&gt;watch(\n    sub {\n        my ($h,$m,$s) = (gmtime(time()-$start_time))[2,1,0];\n        if ($timeout &amp;&amp; $s &gt; $timeout) {\n            close($in_pipe);\n            $pre_term = 1;\n            return 1;\n        }\n\n        if (!$enable_stdout) {\n            print(sprintf(\"\\r: - Elapsed Time: %02d:%02d:%02d\",$h,$m,$s));\n        } else {\n            flush_handle($in_pipe);\n        }\n\n        return 0;           \n    }\n,1);\n</code></pre>\n"}, {"tags": ["python", "perl"], "answers": [{"tags": [], "owner": {"reputation": 2272, "user_id": 5547718, "user_type": "registered", "accept_rate": 79, "profile_image": "https://www.gravatar.com/avatar/cfecfb098d7f4a5587f3d58615f35247?s=128&d=identicon&r=PG&f=1", "display_name": "ThatBrianDude", "link": "https://stackoverflow.com/users/5547718/thatbriandude"}, "is_accepted": true, "score": 0, "last_activity_date": 1514907539, "creation_date": 1514907539, "answer_id": 48063715, "question_id": 48063649, "link": "https://stackoverflow.com/questions/48063649/running-different-codes-with-python/48063715#48063715", "title": "Running different codes with python", "body": "<p>Write a simple bash script to do that for you.</p>\n\n<p>You could use a for loop to repeat the command multiple times with i incrementing each time. </p>\n\n<p>To fetch the output (I guess saving it in a text file would suffice?) you can pipe the output of each execution to a file or even to a seperate file for each execution.</p>\n\n<p><a href=\"https://www.cyberciti.biz/faq/bash-for-loop/\" rel=\"nofollow noreferrer\">For Loops in bash</a></p>\n\n<p><a href=\"https://stackoverflow.com/questions/19570413/how-to-pipe-input-to-a-bash-while-loop-and-preserve-variables-after-loop-ends\">How to fetch the output and use i in the file name (if you want each output in a different file)</a></p>\n"}], "owner": {"reputation": 61, "user_id": 7537272, "user_type": "registered", "accept_rate": 100, "profile_image": "https://i.stack.imgur.com/sTNBD.gif?s=128&g=1", "display_name": "Riemann-bitcoin.", "link": "https://stackoverflow.com/users/7537272/riemann-bitcoin"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 56, "favorite_count": 0, "closed_date": 1514908036, "accepted_answer_id": 48063715, "answer_count": 1, "score": -2, "last_activity_date": 1514907539, "creation_date": 1514907174, "last_edit_date": 1514907263, "question_id": 48063649, "link": "https://stackoverflow.com/questions/48063649/running-different-codes-with-python", "closed_reason": "Needs more focus", "title": "Running different codes with python", "body": "<p>I am working on a project where i need to run a code thousands of times with different arguments. like </p>\n\n<pre><code> gringo some_random_SAT.lp --const n=i |clasp 0\n</code></pre>\n\n<p>Hhere I need to keep changing <code>i</code> to from say 1 to 500 and take the information that <code>some_random_SAT.lp</code> outputs, then I need to do the same for a c++ code that I have.  Writing all the data to a file. My question is how to do this.</p>\n\n<p>I am not asking for some one to tell me how to do it all, I just would like to know a good book or some where to learn how to do similar things such as this. </p>\n\n<p>I am not attached to python if perl would work better i can do that. </p>\n\n<p>Im running Linux if that makes any difference.</p>\n"}, {"tags": ["perl", "cgi", "recaptcha", "formmail"], "comments": [{"owner": {"reputation": 50468, "user_id": 1331451, "user_type": "registered", "accept_rate": 96, "profile_image": "https://i.stack.imgur.com/4ZPmj.png?s=128&g=1", "display_name": "simbabque", "link": "https://stackoverflow.com/users/1331451/simbabque"}, "edited": false, "score": 4, "creation_date": 1514905045, "post_id": 48063029, "comment_id": 83099033, "body": "You are seriously using the form mailer from Matt&#39;s Script Archive in 2018?"}, {"owner": {"reputation": 50468, "user_id": 1331451, "user_type": "registered", "accept_rate": 96, "profile_image": "https://i.stack.imgur.com/4ZPmj.png?s=128&g=1", "display_name": "simbabque", "link": "https://stackoverflow.com/users/1331451/simbabque"}, "edited": false, "score": 1, "creation_date": 1514905240, "post_id": 48063029, "comment_id": 83099104, "body": "Have you printed out the response content? Does the request succeed? Can you install additional modules on your server to load debugging tools? It would be interesting to see the communication between your script and Google."}, {"owner": {"reputation": 14479, "user_id": 7531598, "user_type": "registered", "accept_rate": 100, "profile_image": "https://i.stack.imgur.com/DKnSq.jpg?s=128&g=1", "display_name": "Lee Mac", "link": "https://stackoverflow.com/users/7531598/lee-mac"}, "reply_to_user": {"reputation": 50468, "user_id": 1331451, "user_type": "registered", "accept_rate": 96, "profile_image": "https://i.stack.imgur.com/4ZPmj.png?s=128&g=1", "display_name": "simbabque", "link": "https://stackoverflow.com/users/1331451/simbabque"}, "edited": false, "score": 0, "creation_date": 1514905918, "post_id": 48063029, "comment_id": 83099450, "body": "@simbabque I&#39;m very inexperienced in this area and FormMail from Matt&#39;s Script Archive was the best solution I could find at the time. Could you possibly suggest something more appropriate to drive a simple website contact form please?"}, {"owner": {"reputation": 50468, "user_id": 1331451, "user_type": "registered", "accept_rate": 96, "profile_image": "https://i.stack.imgur.com/4ZPmj.png?s=128&g=1", "display_name": "simbabque", "link": "https://stackoverflow.com/users/1331451/simbabque"}, "edited": false, "score": 1, "creation_date": 1514906203, "post_id": 48063029, "comment_id": 83099606, "body": "It really depends on what kid of hosting you have. If it&#39;s really just a contact form, CGI is not a problem I guess. But that code is <b>OLD</b>. And you&#39;re probably not using all its features, if it has any. <a href=\"https://www.youtube.com/watch?v=jKOqtRMT85s\" rel=\"nofollow noreferrer\">This talk</a> explains why CGI is not the best choice today. But if you&#39;re on shared hosting, you don&#39;t have a lot of alternatives. You can write relatively clean, modern code even with CGI (or with a Plack setup on CGI) though. Stick together a couple of modules, a few lines of code, and it will be way nicer than that old stuff."}, {"owner": {"reputation": 14479, "user_id": 7531598, "user_type": "registered", "accept_rate": 100, "profile_image": "https://i.stack.imgur.com/DKnSq.jpg?s=128&g=1", "display_name": "Lee Mac", "link": "https://stackoverflow.com/users/7531598/lee-mac"}, "reply_to_user": {"reputation": 50468, "user_id": 1331451, "user_type": "registered", "accept_rate": 96, "profile_image": "https://i.stack.imgur.com/4ZPmj.png?s=128&g=1", "display_name": "simbabque", "link": "https://stackoverflow.com/users/1331451/simbabque"}, "edited": false, "score": 0, "creation_date": 1514907670, "post_id": 48063029, "comment_id": 83100419, "body": "@simbabque Thank you for the information, I appreciate your time. I am indeed on shared hosting and unable to install additional modules on the web server. After watching the video you linked, I am discouraged from using CGI, but fear that I have no choice given my hosting. Nevertheless, thank you for your suggestions."}], "answers": [{"comments": [{"owner": {"reputation": 14479, "user_id": 7531598, "user_type": "registered", "accept_rate": 100, "profile_image": "https://i.stack.imgur.com/DKnSq.jpg?s=128&g=1", "display_name": "Lee Mac", "link": "https://stackoverflow.com/users/7531598/lee-mac"}, "edited": false, "score": 0, "creation_date": 1514907941, "post_id": 48063314, "comment_id": 83100543, "body": "Many thanks Dave, I wasn&#39;t aware that existed and so I really appreciate the steer in the right direction. I&#39;m on shared hosting and after contacting my hosting provider, I find I&#39;m unable to install additional Perl modules on the server. Therefore, is the above still a viable option?   As for Matt&#39;s Script Archive - I&#39;m very inexperienced in web development in general and that was the best solution I could find at the time to drive my site contact form - I realise it&#39;s not ideal."}, {"owner": {"reputation": 62184, "user_id": 7231, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/81b76985f3985e35492e25880493d045?s=128&d=identicon&r=PG", "display_name": "Dave Cross", "link": "https://stackoverflow.com/users/7231/dave-cross"}, "reply_to_user": {"reputation": 14479, "user_id": 7531598, "user_type": "registered", "accept_rate": 100, "profile_image": "https://i.stack.imgur.com/DKnSq.jpg?s=128&g=1", "display_name": "Lee Mac", "link": "https://stackoverflow.com/users/7531598/lee-mac"}, "edited": false, "score": 2, "creation_date": 1514908366, "post_id": 48063314, "comment_id": 83100799, "body": "Well, Google::reCAPTCHA is a single source file, so you <i>could</i> just copy it into a suitable directory on the server. But it uses Params::Validate, which is a little harder to install. But, honestly, shared hosting is not a good place to try to run Perl applications. Most providers have no idea how to provide a reasonable Perl development environment. If you want to stick with Perl (and I&#39;d encourage you to do that) then I&#39;d recommend looking at a service that gives you the ability to install your own software."}], "tags": [], "owner": {"reputation": 62184, "user_id": 7231, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/81b76985f3985e35492e25880493d045?s=128&d=identicon&r=PG", "display_name": "Dave Cross", "link": "https://stackoverflow.com/users/7231/dave-cross"}, "is_accepted": true, "score": 2, "last_activity_date": 1514905769, "creation_date": 1514905769, "answer_id": 48063314, "question_id": 48063029, "link": "https://stackoverflow.com/questions/48063029/recaptcha-v2-with-formmail-cgi-matts-script-archive/48063314#48063314", "title": "reCAPTCHA V2 with FormMail.cgi (Matt&#39;s Script Archive)", "body": "<p>I can't see any obvious problems with your code. But I wonder why you're implementing this yourself when <a href=\"https://metacpan.org/pod/Google::reCAPTCHA\" rel=\"nofollow noreferrer\">Google::reCAPTCHA</a> exists.</p>\n\n<pre><code>use Google::reCAPTCHA;\n\nmy $c = Google::reCAPTCHA-&gt;new( secret =&gt; 'MyPrivateKey' );\n\n# Verifying the user's response \nmy $success = $c-&gt;siteverify(\n  response =&gt; $Form{'g-recaptcha-response'},\n  remoteip =&gt; $ENV{'REMOTE_ADDR'},\n);\n\nif ( $success ) {\n  # CAPTCHA was valid\n}\n</code></pre>\n\n<p>And <strong>why</strong> are you using code from Matt's Script Archive?</p>\n"}], "owner": {"reputation": 14479, "user_id": 7531598, "user_type": "registered", "accept_rate": 100, "profile_image": "https://i.stack.imgur.com/DKnSq.jpg?s=128&g=1", "display_name": "Lee Mac", "link": "https://stackoverflow.com/users/7531598/lee-mac"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 1284, "favorite_count": 1, "accepted_answer_id": 48063314, "answer_count": 1, "score": 2, "last_activity_date": 1514905769, "creation_date": 1514904538, "question_id": 48063029, "link": "https://stackoverflow.com/questions/48063029/recaptcha-v2-with-formmail-cgi-matts-script-archive", "title": "reCAPTCHA V2 with FormMail.cgi (Matt&#39;s Script Archive)", "body": "<p>I was previously using reCAPTCHA V1 in conjunction with FormMail.cgi from Matt's Script Archive, with the following Perl function to validate the reCAPTCHA response:</p>\n\n<pre><code>sub check_captcha {\n\n    my $ua = LWP::UserAgent-&gt;new();\n    my $result=$ua-&gt;post(\n        'http://www.google.com/recaptcha/api/verify',\n        {\n            privatekey =&gt; 'MyPrivateKey',\n            remoteip   =&gt; $ENV{'REMOTE_ADDR'},\n            challenge  =&gt; $Form{'recaptcha_challenge_field'},\n            response   =&gt; $Form{'recaptcha_response_field'}\n        }\n    );\n    if ( $result-&gt;is_success &amp;&amp; $result-&gt;content =~ /^true/) {\n        return;\n    } else {\n        &amp;error('captcha_failed');\n    }\n}\n</code></pre>\n\n<p>reCAPTCHA V1 is shutting down at the end of March 2018 and so I need to move to <a href=\"https://developers.google.com/recaptcha/intro\" rel=\"nofollow noreferrer\">reCAPTCHA V2</a>, however, I'm having trouble validating the response in the CGI script.</p>\n\n<p>Based on the <a href=\"https://developers.google.com/recaptcha/docs/verify\" rel=\"nofollow noreferrer\">server side documentation</a>, here is what I've tried so far (without success):</p>\n\n<pre><code>sub check_captcha {\n\n    my $ua = LWP::UserAgent-&gt;new();\n    my $result=$ua-&gt;post(\n        'https://www.google.com/recaptcha/api/siteverify',\n        {\n            secret     =&gt; 'MyPrivateKey',\n            remoteip   =&gt; $ENV{'REMOTE_ADDR'},\n            response   =&gt; $Form{'g-recaptcha-response'}\n        }\n    );\n    if ( $result-&gt;is_success &amp;&amp; $result-&gt;content =~ /\"success\": true/ ) {\n        return;\n    } else {\n        &amp;error('captcha_failed');\n    }\n}\n</code></pre>\n\n<p>The above always branches to the 'captcha_failed' error.</p>\n\n<p>Thank you in advance for your time reading my question, I appreciate any assistance the community could offer.</p>\n\n<p>Many thanks!</p>\n"}, {"tags": ["multithreading", "perl", "multidimensional-array"], "comments": [{"owner": {"reputation": 123805, "user_id": 622310, "user_type": "registered", "accept_rate": 33, "profile_image": "https://www.gravatar.com/avatar/8b6d35219e1808520bc238b28161e2e6?s=128&d=identicon&r=PG", "display_name": "Borodin", "link": "https://stackoverflow.com/users/622310/borodin"}, "edited": false, "score": 1, "creation_date": 1514898531, "post_id": 48061326, "comment_id": 83095639, "body": "Your code doesn&#39;t do anything except print a bunch of slashes. Do you see that output? Are you saying that you want help with the code that you&#39;ve commented out <code>## some stuff done</code>?"}], "answers": [{"tags": [], "owner": {"reputation": 51521, "user_id": 2566198, "user_type": "registered", "accept_rate": 67, "profile_image": "https://i.stack.imgur.com/Y34ZA.jpg?s=128&g=1", "display_name": "Sobrique", "link": "https://stackoverflow.com/users/2566198/sobrique"}, "is_accepted": true, "score": 2, "last_activity_date": 1514985386, "last_edit_date": 1514985386, "creation_date": 1514900150, "answer_id": 48062014, "question_id": 48061326, "link": "https://stackoverflow.com/questions/48061326/perl-multithreading-perl-exited-with-active-threads/48062014#48062014", "title": "perl multithreading perl exited with active threads", "body": "<p>The reason you get that error is exactly as said on the tin - your code exited before the threads were closed. It can commonly happen when an exit or die is triggered early.</p>\n\n<p>In particular I think your problem may lie within your reusing of <code>@threads</code> and <code>initThreads()</code>.</p>\n\n<p>The latter returns a list of numbers, not any threads. And then you push a couple more threads to the end of the list later, when you're doing a <code>create</code>.</p>\n\n<p>That looks a lot like some sort of logic error to me. </p>\n\n<p>But the major problem I think will be this:</p>\n\n<pre><code>foreach(@threads){\n    threads-&gt;join();\n}\n</code></pre>\n\n<p>You're not actually joining a specific thread.  What you <em>probably</em> want is:</p>\n\n<pre><code>foreach my $thr ( @threads ) {\n  $thr -&gt; join();\n}\n</code></pre>\n\n<p>At least, you would, if you hadn't manually populated <code>@threads</code> with <code>[1,2]</code> thanks to <code>my @threads = initThreads();</code>        </p>\n"}], "owner": {"reputation": 25, "user_id": 3687629, "user_type": "registered", "accept_rate": 33, "profile_image": "https://i.stack.imgur.com/gdboS.jpg?s=128&g=1", "display_name": "Engineer", "link": "https://stackoverflow.com/users/3687629/engineer"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 262, "favorite_count": 0, "accepted_answer_id": 48062014, "answer_count": 1, "score": -1, "last_activity_date": 1514985386, "creation_date": 1514897307, "last_edit_date": 1514898050, "question_id": 48061326, "link": "https://stackoverflow.com/questions/48061326/perl-multithreading-perl-exited-with-active-threads", "title": "perl multithreading perl exited with active threads", "body": "<p>I write perl script to do a certain but I needed to mutlithread it, but I get this:</p>\n\n<p>Perl exited with active threads:</p>\n\n<p>2 running and unjoined</p>\n\n<p>0 finished and unjoined</p>\n\n<p>0 running and detached</p>\n\n<p>Here is the code:</p>\n\n<pre><code>    use Net::Ping;\n    use threads;\n    use Benchmark qw(:hireswallclock);\n    use threads::shared;\n\n    my $starttime = Benchmark-&gt;new;\n    my $finishtime;\n    my $timespent;        \n    my $num_of_threads = 2;\n    my @threads = initThreads();        \n\n    my $inFile = $ARGV[0] ;\n    open(IN , \"&lt;$inFile\") or die \"can not find $inFile\" ;\n    my @output: shared = &lt;IN&gt;;\n    chomp (@output) ;\n    my $chunk_size = @output / 2;\n    print($chunk_size);\n\n    #############################\n    ########  PROCEDURES ########\n    #############################\n\n    # Subroutine that intializes an array that will contain all our threads:\n    sub initThreads{\n        my @initThreads; # Our array\n        for(my $i=1; $i&lt;=$num_of_threads; $i++){\n            push(@initThreads, $i);\n        }\n        return @initThreads;\n    }\n\n    sub doScript{\n\n        my $id = threads-&gt;tid();\n        print \"//////////////////////////////////////////////////////////////////////////////////////////////Starting thread $id\\n\";\n        my ($start, $end, $output) = @_;\n        for my $i ($start .. $end) {\n\n           ## some stuff done\n            sleep 1 if 0.2 &gt; rand;\n\n        }\n\n        print \"/////////////////////////////////////////////////////////////////////////////////////////////////////////////////Thread $id done!\\n\";\n        threads-&gt;exit();\n\n    }\n    ########################\n    ########  MAIN  ########----------------------------------------------------------------\n    ########################\n\n    for my $chunk(1 .. 2){\n        my $start = ($chunk - 1) * $chunk_size;\n        push @threads, threads-&gt;create(\n        \\&amp;doScript,\n        $start,\n        ($start + $chunk_size - 1),\n        \\@output,\n        );\n        print(\"finish\");\n    }\n    # This tells the main program to keep running until all threads have finished.\n    foreach(@threads){\n        threads-&gt;join();\n    }\n\n    $finishtime = Benchmark-&gt;new;\n    $timespent = timediff($finishtime,$starttime);\n    print \"\\nDone!\\nSpent \". timestr($timespent);\n\n    #print \"\\nProgram Done!\\nPress Enter to exit\\n\";\n    $a = &lt;&gt;;\n\n\n    close (IN);\n</code></pre>\n\n<p>I even replaced the join block with this:</p>\n\n<pre><code>$_-&gt;join() for threads-&gt;list();\n</code></pre>\n\n<p>the error was solved but the script seemed not to do anything, threads started and terminated without doing anything.</p>\n\n<p>Can anyone help me with this !</p>\n"}, {"tags": ["perl", "loops", "hash", "subroutine"], "comments": [{"owner": {"reputation": 123805, "user_id": 622310, "user_type": "registered", "accept_rate": 33, "profile_image": "https://www.gravatar.com/avatar/8b6d35219e1808520bc238b28161e2e6?s=128&d=identicon&r=PG", "display_name": "Borodin", "link": "https://stackoverflow.com/users/622310/borodin"}, "edited": false, "score": 1, "creation_date": 1514826556, "post_id": 48051521, "comment_id": 83075034, "body": "Why have you used a recursive subroutine? The function of <code>search_hash</code> is nothing like what you describe, and the recursive call is pointless because any result is discarded."}, {"owner": {"user_type": "does_not_exist", "display_name": "user8548813"}, "reply_to_user": {"reputation": 123805, "user_id": 622310, "user_type": "registered", "accept_rate": 33, "profile_image": "https://www.gravatar.com/avatar/8b6d35219e1808520bc238b28161e2e6?s=128&d=identicon&r=PG", "display_name": "Borodin", "link": "https://stackoverflow.com/users/622310/borodin"}, "edited": false, "score": 0, "creation_date": 1514826963, "post_id": 48051521, "comment_id": 83075153, "body": "There used to be a bit checking whether it was a hash but I didn&#39;t need it so I removed it. Nevertheless it does print the correct things but why is not the same information transferred to the array? Does that have to do with the whole structure of it?"}, {"owner": {"reputation": 123805, "user_id": 622310, "user_type": "registered", "accept_rate": 33, "profile_image": "https://www.gravatar.com/avatar/8b6d35219e1808520bc238b28161e2e6?s=128&d=identicon&r=PG", "display_name": "Borodin", "link": "https://stackoverflow.com/users/622310/borodin"}, "edited": false, "score": 1, "creation_date": 1514827219, "post_id": 48051521, "comment_id": 83075221, "body": "<code>my @output = map { $_-&gt;{2} } grep { $_-&gt;{1} =~ &#47;e&#47; } values %HoH</code>"}, {"owner": {"user_type": "does_not_exist", "display_name": "user8548813"}, "reply_to_user": {"reputation": 123805, "user_id": 622310, "user_type": "registered", "accept_rate": 33, "profile_image": "https://www.gravatar.com/avatar/8b6d35219e1808520bc238b28161e2e6?s=128&d=identicon&r=PG", "display_name": "Borodin", "link": "https://stackoverflow.com/users/622310/borodin"}, "edited": false, "score": 0, "creation_date": 1514827939, "post_id": 48051521, "comment_id": 83075409, "body": "Ah... Thank you for taking the time. I never got grep to look through the nested keys/values. If you have  second, another stupid question, why &quot;map&quot; first and then &quot;grep&quot;? I thought they were the same."}, {"owner": {"reputation": 123805, "user_id": 622310, "user_type": "registered", "accept_rate": 33, "profile_image": "https://www.gravatar.com/avatar/8b6d35219e1808520bc238b28161e2e6?s=128&d=identicon&r=PG", "display_name": "Borodin", "link": "https://stackoverflow.com/users/622310/borodin"}, "edited": false, "score": 0, "creation_date": 1514831203, "post_id": 48051521, "comment_id": 83076316, "body": "<i>&quot;Nevertheless it does print the correct things&quot;</i> No, it doesn&#39;t. The code you show crashes with a run time error."}, {"owner": {"reputation": 87649, "user_id": 17389, "user_type": "registered", "accept_rate": 38, "profile_image": "https://www.gravatar.com/avatar/cd06d1314817ce946ab796af8750b56a?s=128&d=identicon&r=PG", "display_name": "ysth", "link": "https://stackoverflow.com/users/17389/ysth"}, "edited": false, "score": 0, "creation_date": 1514834201, "post_id": 48051521, "comment_id": 83077103, "body": "they do very different things; grep takes a list and returns the elements for which a given expression are true; map takes a list and runs a given expression for each element, producing zero or more values, and returns a combined list of all the those values"}, {"owner": {"reputation": 87649, "user_id": 17389, "user_type": "registered", "accept_rate": 38, "profile_image": "https://www.gravatar.com/avatar/cd06d1314817ce946ab796af8750b56a?s=128&d=identicon&r=PG", "display_name": "ysth", "link": "https://stackoverflow.com/users/17389/ysth"}, "reply_to_user": {"reputation": 123805, "user_id": 622310, "user_type": "registered", "accept_rate": 33, "profile_image": "https://www.gravatar.com/avatar/8b6d35219e1808520bc238b28161e2e6?s=128&d=identicon&r=PG", "display_name": "Borodin", "link": "https://stackoverflow.com/users/622310/borodin"}, "edited": false, "score": 0, "creation_date": 1514834276, "post_id": 48051521, "comment_id": 83077119, "body": "@Borodin: I read the question as more like <code>my @output = sort grep { $HoH{$_}{2} =~ &#47;e&#47; } keys %HoH;</code>"}, {"owner": {"user_type": "does_not_exist", "display_name": "user8548813"}, "edited": false, "score": 0, "creation_date": 1514837904, "post_id": 48051521, "comment_id": 83078064, "body": "Thank you both for your help, it is much appreciated! As you can tell I&#39;m very new to perl, so excuses that this was not a great question (I should have test ran the function on my made up data too, not only my actual data). For those reasons I deleted this question a few hours ago but it seems to have reappeared!"}, {"owner": {"reputation": 123805, "user_id": 622310, "user_type": "registered", "accept_rate": 33, "profile_image": "https://www.gravatar.com/avatar/8b6d35219e1808520bc238b28161e2e6?s=128&d=identicon&r=PG", "display_name": "Borodin", "link": "https://stackoverflow.com/users/622310/borodin"}, "reply_to_user": {"reputation": 87649, "user_id": 17389, "user_type": "registered", "accept_rate": 38, "profile_image": "https://www.gravatar.com/avatar/cd06d1314817ce946ab796af8750b56a?s=128&d=identicon&r=PG", "display_name": "ysth", "link": "https://stackoverflow.com/users/17389/ysth"}, "edited": false, "score": 0, "creation_date": 1514841904, "post_id": 48051521, "comment_id": 83078931, "body": "@ysth: I don&#39;t think so. <i>&quot;search all <code>2</code>s for <code>e</code> and return the value for key <code>1</code> in each case&quot;</i> Yours returns the top-level key. The OP has taken a generic structure traversal subroutine and hacked it beyond all usefulness. I think their problem was simply in accessing the second-level hashes."}, {"owner": {"reputation": 87649, "user_id": 17389, "user_type": "registered", "accept_rate": 38, "profile_image": "https://www.gravatar.com/avatar/cd06d1314817ce946ab796af8750b56a?s=128&d=identicon&r=PG", "display_name": "ysth", "link": "https://stackoverflow.com/users/17389/ysth"}, "reply_to_user": {"reputation": 123805, "user_id": 622310, "user_type": "registered", "accept_rate": 33, "profile_image": "https://www.gravatar.com/avatar/8b6d35219e1808520bc238b28161e2e6?s=128&d=identicon&r=PG", "display_name": "Borodin", "link": "https://stackoverflow.com/users/622310/borodin"}, "edited": false, "score": 0, "creation_date": 1514842127, "post_id": 48051521, "comment_id": 83078987, "body": "@Borodin yes, I took &#39;key 1&#39; as meaning outer key, not key <code>&#39;1&#39;</code>"}, {"owner": {"reputation": 123805, "user_id": 622310, "user_type": "registered", "accept_rate": 33, "profile_image": "https://www.gravatar.com/avatar/8b6d35219e1808520bc238b28161e2e6?s=128&d=identicon&r=PG", "display_name": "Borodin", "link": "https://stackoverflow.com/users/622310/borodin"}, "reply_to_user": {"reputation": 87649, "user_id": 17389, "user_type": "registered", "accept_rate": 38, "profile_image": "https://www.gravatar.com/avatar/cd06d1314817ce946ab796af8750b56a?s=128&d=identicon&r=PG", "display_name": "ysth", "link": "https://stackoverflow.com/users/17389/ysth"}, "edited": false, "score": 0, "creation_date": 1514842889, "post_id": 48051521, "comment_id": 83079143, "body": "@ysth: Ah. As in the &quot;first&quot; key. Maybe. It&#39;s even further from what the code does, so who knows."}, {"owner": {"reputation": 320771, "user_id": 589924, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/b2cf53d5a3d25f95c0db4e025aed4153?s=128&d=identicon&r=PG", "display_name": "ikegami", "link": "https://stackoverflow.com/users/589924/ikegami"}, "edited": false, "score": 0, "creation_date": 1514845120, "post_id": 48051521, "comment_id": 83079636, "body": "Your question is confusing. You claim the sub returns <code>0</code>, but you also claim you get <code>Can&#39;t use string (&quot;fred&quot;) as a HASH ref while &quot;strict refs&quot; in use</code>. Which one is it?"}, {"owner": {"reputation": 123805, "user_id": 622310, "user_type": "registered", "accept_rate": 33, "profile_image": "https://www.gravatar.com/avatar/8b6d35219e1808520bc238b28161e2e6?s=128&d=identicon&r=PG", "display_name": "Borodin", "link": "https://stackoverflow.com/users/622310/borodin"}, "reply_to_user": {"reputation": 320771, "user_id": 589924, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/b2cf53d5a3d25f95c0db4e025aed4153?s=128&d=identicon&r=PG", "display_name": "ikegami", "link": "https://stackoverflow.com/users/589924/ikegami"}, "edited": false, "score": 0, "creation_date": 1514858363, "post_id": 48051521, "comment_id": 83081919, "body": "@ikegami: The output is something that I edited into the question. It&#39;s the result of running the code that the OP shows."}], "answers": [{"comments": [{"owner": {"reputation": 320771, "user_id": 589924, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/b2cf53d5a3d25f95c0db4e025aed4153?s=128&d=identicon&r=PG", "display_name": "ikegami", "link": "https://stackoverflow.com/users/589924/ikegami"}, "edited": false, "score": 0, "creation_date": 1514845855, "post_id": 48053629, "comment_id": 83079826, "body": "I fixed your explanation because it was COMPLETELY wrong. 1) <code>@output</code> is called an array, not a table. 2) It&#39;s impossible for subs to return arrays. 3) The sub doesn&#39;t return value that gets converted into another one if you happen to assign to a scalar."}, {"owner": {"reputation": 320771, "user_id": 589924, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/b2cf53d5a3d25f95c0db4e025aed4153?s=128&d=identicon&r=PG", "display_name": "ikegami", "link": "https://stackoverflow.com/users/589924/ikegami"}, "edited": false, "score": 0, "creation_date": 1514845876, "post_id": 48053629, "comment_id": 83079833, "body": "Also note that &quot;function&quot; usually refers to named unary operators and named list operators (the things documented in perlfunc). Please use &quot;sub&quot; or &quot;subroutine&quot; to avoid confusion."}, {"owner": {"user_type": "does_not_exist", "display_name": "user8548813"}, "reply_to_user": {"reputation": 320771, "user_id": 589924, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/b2cf53d5a3d25f95c0db4e025aed4153?s=128&d=identicon&r=PG", "display_name": "ikegami", "link": "https://stackoverflow.com/users/589924/ikegami"}, "edited": false, "score": 0, "creation_date": 1514934184, "post_id": 48053629, "comment_id": 83111762, "body": "@ikegami Thanks a lot for taking the time to explain this to a complete amateur. I actually tried to delete this question since I realised with all you peoples help how many errors there were (I also didn&#39;t adapt the subroutine to my fake data), but it persists!"}, {"owner": {"reputation": 123805, "user_id": 622310, "user_type": "registered", "accept_rate": 33, "profile_image": "https://www.gravatar.com/avatar/8b6d35219e1808520bc238b28161e2e6?s=128&d=identicon&r=PG", "display_name": "Borodin", "link": "https://stackoverflow.com/users/622310/borodin"}, "edited": false, "score": 0, "creation_date": 1515494882, "post_id": 48053629, "comment_id": 83311968, "body": "@Klara: I raised a flag to reverse your deletion. Despite your errors, I think you have found these answers useful? The primary importance of  a Stack Overflow page is to help others who arrive there when searching for help with a similar topic. You shouldn&#39;t just delete the page once you have got what you need."}, {"owner": {"user_type": "does_not_exist", "display_name": "user8548813"}, "reply_to_user": {"reputation": 123805, "user_id": 622310, "user_type": "registered", "accept_rate": 33, "profile_image": "https://www.gravatar.com/avatar/8b6d35219e1808520bc238b28161e2e6?s=128&d=identicon&r=PG", "display_name": "Borodin", "link": "https://stackoverflow.com/users/622310/borodin"}, "edited": false, "score": 0, "creation_date": 1515592303, "post_id": 48053629, "comment_id": 83357612, "body": "@Borodin I most certainly have! I thought perhaps it was too specific and badly put, but if it can help other&#39;s that&#39;s great!"}], "tags": [], "owner": {"reputation": 24167, "user_id": 7388477, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/e42e688ade97076d4fdd1939946e7c7b?s=128&d=identicon&r=PG&f=1", "display_name": "Valdi_Bo", "link": "https://stackoverflow.com/users/7388477/valdi-bo"}, "is_accepted": false, "score": 0, "last_activity_date": 1514846002, "last_edit_date": 1514846002, "creation_date": 1514844432, "answer_id": 48053629, "question_id": 48051521, "link": "https://stackoverflow.com/questions/48051521/perl-subroutine-returns-0-instead-of-specified-array/48053629#48053629", "title": "perl: subroutine returns 0 instead of specified array", "body": "<p>The return expression of subroutine is evaluated in the same context as the subroutine itself. Since you're assuming the result of the subroutine to a scalar, the subroutine is evaluated in scalar context, and <code>@output</code> is evaluated in scalar context. In scalar context, an array returns the number of elements it contains. In this case, <code>@output</code> happened to be empty, so <code>search_hash</code> returned zero.</p>\n\n<p>If you want the elements of <code>@output</code> instead of the number of elements in <code>@output</code>, you will need to call the subroutine in list context. Assigning the result to an array is one way of doing that.</p>\n\n<p>This is how I fixed the problem in the rewrite posted below. Note that I replaced the scalar <code>$hej</code> with the array <code>@hej</code> below.</p>\n\n<p>I also fixed other problems. The values for key <em>1</em> from all three\n2nd level hashes are now returned, because each of them contains a value for key <em>2</em>, which contains <em>e</em> (the value to find). See below.</p>\n\n<pre><code>use strict;\nuse warnings;\n\nmy %HoH = (\n  Flintstones =&gt; { 1 =&gt; \"Fred\",   2 =&gt; \"Barney\" },\n  Jetsons     =&gt; { 1 =&gt; \"George\", 2 =&gt; \"Jane\"   },\n  Simpsons    =&gt; { 1 =&gt; \"Homer\",  2 =&gt; \"Marge\"  }\n);\n\nsub search_hash {\n  # Arguments:\n  #  $hash:          hash ref\n  #  $search_key:    key to search in each 2-nd level hash\n  #  $search_string: value to find\n  my ( $hash, $search_key, $search_string ) = @_;\n  my @output;\n  foreach ( keys %{$hash} ) {\n    #print \"Key: $_\\n\";\n    my $hash2 = $hash-&gt;{$_};  # 2-nd level hash (reference to) \n    my $search_val = $hash2-&gt;{$search_key};  # Value for key == parameter1\n    #print \"Value: $search_val\\n\";\n    if ($search_val =~ /\\Q$search_string/) {\n      my $id = $hash2-&gt;{'1'};\n      #print \"Name:  $id\\n\";\n      push @output, $id;\n    }\n  }\n\n  return @output;\n}\n\nmy @hej = search_hash( \\%HoH, '2', 'e' );\nprint \"Result: @hej\\n\";\n</code></pre>\n"}, {"tags": [], "owner": {"reputation": 702, "user_id": 1597592, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/4e95be1e45ce44c35155324ac4548f5f?s=128&d=identicon&r=PG", "display_name": "Qinsi", "link": "https://stackoverflow.com/users/1597592/qinsi"}, "is_accepted": true, "score": 1, "last_activity_date": 1514859947, "creation_date": 1514859947, "answer_id": 48054903, "question_id": 48051521, "link": "https://stackoverflow.com/questions/48051521/perl-subroutine-returns-0-instead-of-specified-array/48054903#48054903", "title": "perl: subroutine returns 0 instead of specified array", "body": "<p>There is no key \"1\" in first loop of your hash. Recursive subroutine is not a good choice here.</p>\n\n<pre><code>my $value2 = $hash-&gt;{'1'};\n</code></pre>\n\n<p>Borodin's one line code is great. But we should search 2 s.</p>\n\n<blockquote>\n  <p>search all 2 s for e and return the value for key 1 in each case.</p>\n</blockquote>\n\n<p>As a summary, search_hash.pl</p>\n\n<pre><code>use strict;\nuse warnings;\nuse utf8;\n\nmy %HoH = (\n  Flintstones =&gt; { 1 =&gt; \"Fred\",   2 =&gt; \"Barney\" },\n  Jetsons     =&gt; { 1 =&gt; \"George\", 2 =&gt; \"Jane\"   },\n  Simpsons    =&gt; { 1 =&gt; \"Homer\",  2 =&gt; \"Marge\"  }\n  );\n\nmy @output2 = map { $_-&gt;{1} } grep { $_-&gt;{2} =~ /e/ } values %HoH;\n\nopen( my $fh, '&gt;', \"data3.txt\");\nprint $fh ( \"$_\\n\" ) foreach @output2;\nclose $fh;\n</code></pre>\n\n<p>And </p>\n\n<pre><code>perl search_hash.pl\ncat data3.txt\n</code></pre>\n\n<p>OUTPUT:</p>\n\n<pre><code>Fred\nHomer\nGeorge\n</code></pre>\n"}], "owner": {"user_type": "does_not_exist", "display_name": "user8548813"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 243, "favorite_count": 0, "accepted_answer_id": 48054903, "answer_count": 2, "score": -2, "last_activity_date": 1514859947, "creation_date": 1514825693, "last_edit_date": 1514846404, "question_id": 48051521, "link": "https://stackoverflow.com/questions/48051521/perl-subroutine-returns-0-instead-of-specified-array", "title": "perl: subroutine returns 0 instead of specified array", "body": "<p>I have a hash of hashes like this:</p>\n\n<pre><code>my %HoH = (\n    flintstones =&gt; {\n        1 =&gt; \"fred\",\n        2 =&gt; \"barney\",\n    },\n    jetsons =&gt; {\n        1 =&gt; \"george\",\n        2 =&gt; \"jane\",\n\n    },\n    simpsons =&gt; {\n        1 =&gt; \"homer\",\n        2 =&gt; \"marge\",\n    },\n);\n</code></pre>\n\n<p>My subroutine is meant to search through the values of a specified key, e.g. search all <code>2</code>s for <code>e</code> and return the value for key <code>1</code> in each case.</p>\n\n<p>It works since it can print those things just fine, and I can also print it to a text file. I also want the same lines to be pushed to an array <code>@output</code>.</p>\n\n<p>Why does my subroutine return zero which is saved in <code>$hej</code> in this case.</p>\n\n<pre><code>sub search_hash {\n\n    # Arguments are\n    #\n    # $hash=hash ref\n    # $parameter1=key no. to search in\n    # $parameter2=value to find\n    # $parameter3=name of text file to write to\n\n    my ( $hash, $parameter1, $parameter2, $parameter3 ) = @_, ;\n\n    # Loop over the keys in the hash\n    foreach ( keys %{$hash} ) {\n\n        # Get the value for the current key\n        my $value  = $hash-&gt;{$_};\n        my $value2 = $hash-&gt;{'1'};\n\n        search_hash( $value, $parameter1, $parameter2, $parameter3 );\n\n        for my $key ( $parameter1 ) {\n\n            my @output;    #create array for loop outputs to be saved\n\n            if ( $value =~ $parameter2 ) {\n\n                push @output, \"$value2\";    #push lines to array\n\n                print \"Value: $value\\n\";\n                print \"Name: $value2\\n\";\n\n                open( my $fh, '&gt;&gt;', $parameter3 );\n                print $fh ( \"$value2\\n\" );\n                close $fh;\n            }\n\n            return @output;\n        }\n    }\n}\n\nmy $hej = search_hash( \\%HoH, \"2\", 'e', 'data3.txt' );\n\nprint $hej;\n</code></pre>\n\n<h3>output</h3>\n\n<blockquote>\n  <p>Can't use string (\"fred\") as a HASH ref while \"strict refs\" in use</p>\n</blockquote>\n"}, {"tags": ["perl", "datetime"], "comments": [{"owner": {"reputation": 137100, "user_id": 874188, "user_type": "registered", "accept_rate": 62, "profile_image": "https://i.stack.imgur.com/ZcY77.png?s=128&g=1", "display_name": "tripleee", "link": "https://stackoverflow.com/users/874188/tripleee"}, "edited": false, "score": 2, "creation_date": 1514806623, "post_id": 48049128, "comment_id": 83070178, "body": "Please <a href=\"https://stackoverflow.com/posts/48049128/edit\">edit</a> your question to show the sample as text instead of an image showing that text. See <a href=\"https://meta.stackoverflow.com/a/285557/874188\">Why not upload images of code on SO when asking a question?</a>"}, {"owner": {"reputation": 137100, "user_id": 874188, "user_type": "registered", "accept_rate": 62, "profile_image": "https://i.stack.imgur.com/ZcY77.png?s=128&g=1", "display_name": "tripleee", "link": "https://stackoverflow.com/users/874188/tripleee"}, "edited": false, "score": 1, "creation_date": 1514807129, "post_id": 48049128, "comment_id": 83070278, "body": "Your problem can be solved simply by inserting dashes in a couple of places and replacing a comma with a space. There are already hundreds, if not thousands, of questions here about trivial regex substitutions on date strings. Maybe delete this question and ask a new one once you have some code and need help with it (but please understand that <i>repeatedly</i> deleting your own questions is problematic for other reasons)."}, {"owner": {"reputation": 41, "user_id": 8834584, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/c8504ef0e18c08a08f6ee6f850c445f0?s=128&d=identicon&r=PG&f=1", "display_name": "B.L.Sher", "link": "https://stackoverflow.com/users/8834584/b-l-sher"}, "reply_to_user": {"reputation": 137100, "user_id": 874188, "user_type": "registered", "accept_rate": 62, "profile_image": "https://i.stack.imgur.com/ZcY77.png?s=128&g=1", "display_name": "tripleee", "link": "https://stackoverflow.com/users/874188/tripleee"}, "edited": false, "score": 0, "creation_date": 1514807514, "post_id": 48049128, "comment_id": 83070365, "body": "@tripleee Yes I get your point.  Could you help me understand my thought process - I know Awk will help in processing large files and after reading your comment, I can think of using grep, that makes sense.  I am primarily an R programmer and would like to understand that Perl could have been used here in the same capacity as Awk or not.  I&#39;ll update my question with Grep answer/attempt.  Thanks"}, {"owner": {"reputation": 137100, "user_id": 874188, "user_type": "registered", "accept_rate": 62, "profile_image": "https://i.stack.imgur.com/ZcY77.png?s=128&g=1", "display_name": "tripleee", "link": "https://stackoverflow.com/users/874188/tripleee"}, "edited": false, "score": 0, "creation_date": 1514807855, "post_id": 48049128, "comment_id": 83070439, "body": "What&#39;s gg? This is easy to do in any regex tool; if you want to learn Perl, by all means go with that. The Awk-like field splitting with <code>-aF,</code>  might be helpful."}, {"owner": {"reputation": 137100, "user_id": 874188, "user_type": "registered", "accept_rate": 62, "profile_image": "https://i.stack.imgur.com/ZcY77.png?s=128&g=1", "display_name": "tripleee", "link": "https://stackoverflow.com/users/874188/tripleee"}, "edited": false, "score": 0, "creation_date": 1514811747, "post_id": 48049128, "comment_id": 83071425, "body": "That script seems largely unrelated. This is literally a one-liner in Perl or Awk. <code>grep</code> is not a tool which offers substitution capabilities."}, {"owner": {"reputation": 41, "user_id": 8834584, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/c8504ef0e18c08a08f6ee6f850c445f0?s=128&d=identicon&r=PG&f=1", "display_name": "B.L.Sher", "link": "https://stackoverflow.com/users/8834584/b-l-sher"}, "reply_to_user": {"reputation": 137100, "user_id": 874188, "user_type": "registered", "accept_rate": 62, "profile_image": "https://i.stack.imgur.com/ZcY77.png?s=128&g=1", "display_name": "tripleee", "link": "https://stackoverflow.com/users/874188/tripleee"}, "edited": false, "score": 0, "creation_date": 1514813483, "post_id": 48049128, "comment_id": 83071831, "body": "@tripleee Thanks \u25ac so I gather: Perl one-liner will do my 9GB file like Awk one-liner; no need to compile a script and process one line at a time with <code>open(FILE..</code> and then <code>while(&lt;FILE&gt;) {..</code> rather a one liner is good enough here."}, {"owner": {"reputation": 137100, "user_id": 874188, "user_type": "registered", "accept_rate": 62, "profile_image": "https://i.stack.imgur.com/ZcY77.png?s=128&g=1", "display_name": "tripleee", "link": "https://stackoverflow.com/users/874188/tripleee"}, "edited": false, "score": 0, "creation_date": 1514814249, "post_id": 48049128, "comment_id": 83072026, "body": "Absolutely. If you read and write a line at a time, memory usage will be insignificant. Just search for another regex question with similar requirements, it doesn&#39;t matter much in which language (but keep in mind that <code>grep</code>, <code>sed</code>, Awk, and Perl all have distinct regex dialects)."}], "answers": [{"comments": [{"owner": {"reputation": 137100, "user_id": 874188, "user_type": "registered", "accept_rate": 62, "profile_image": "https://i.stack.imgur.com/ZcY77.png?s=128&g=1", "display_name": "tripleee", "link": "https://stackoverflow.com/users/874188/tripleee"}, "edited": false, "score": 0, "creation_date": 1514815021, "post_id": 48050171, "comment_id": 83072216, "body": "You&#39;ll also want to replace the first comma with a space if I read the requirements correctly."}], "tags": [], "owner": {"reputation": 24167, "user_id": 7388477, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/e42e688ade97076d4fdd1939946e7c7b?s=128&d=identicon&r=PG&f=1", "display_name": "Valdi_Bo", "link": "https://stackoverflow.com/users/7388477/valdi-bo"}, "is_accepted": false, "score": -1, "last_activity_date": 1514814707, "last_edit_date": 1514814707, "creation_date": 1514814274, "answer_id": 48050171, "question_id": 48049128, "link": "https://stackoverflow.com/questions/48049128/format-date-field/48050171#48050171", "title": "Format date field", "body": "<p>As I see, you actually need to change the first 8 chars of each line (but the\nfirst). You need to insert <code>-</code> chars after year section (4 chars) and month\nsection (another 2 chars).</p>\n\n<p>Assuming that your input file is <em>inp.txt</em> you can use the following one-liner script:</p>\n\n<pre><code>perl \u2013lne \"print s/^(\\d{4})(\\d{2})(\\d{2})/$1-$2-$3/r\" inp.txt\n</code></pre>\n\n<p>To avoid creation of any extra variables, I used the substitution with\n<em>non-destructive</em> (<em>-r</em>) option, so the result of <code>s/.../.../</code> instruction\nis the substitution result (not the number of substitutions).</p>\n\n<p>The first line (column names) will not be changed, because it does not match\nthe regex used.</p>\n\n<p>If you want to store the result in another file, add <code>&gt;out_file.txt</code> to the above command.</p>\n\n<p>If something is still unclear, you probably shoud read a little about:</p>\n\n<ul>\n<li><em>perl</em> options (at least those used here),</li>\n<li><em>perl</em> one-liners,</li>\n<li>regular expressions.</li>\n</ul>\n"}, {"comments": [{"owner": {"reputation": 41, "user_id": 8834584, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/c8504ef0e18c08a08f6ee6f850c445f0?s=128&d=identicon&r=PG&f=1", "display_name": "B.L.Sher", "link": "https://stackoverflow.com/users/8834584/b-l-sher"}, "edited": false, "score": 0, "creation_date": 1514828449, "post_id": 48050898, "comment_id": 83075550, "body": "Thanks for answer &amp; reformat.  I have the answer and better equipped now to delve into a bit of perl everyday.  I am trying to deduce the usage of your code from <a href=\"http://perldoc.perl.org/perlrun.html\" rel=\"nofollow noreferrer\">perlrun</a> and <a href=\"http://jkorpela.fi/perl/regexp.html\" rel=\"nofollow noreferrer\">regex</a> docs.  But in the meanwhile another quick newbie question: when working with formatting big files I should, I think, use <code>&gt;</code> operand to save the stdout from bash prompt.  Is there other another quick tip here for me on how to do this efficiently, maybe a way to not copy the file to a new file , or cut the machine overhead somehow."}, {"owner": {"reputation": 123805, "user_id": 622310, "user_type": "registered", "accept_rate": 33, "profile_image": "https://www.gravatar.com/avatar/8b6d35219e1808520bc238b28161e2e6?s=128&d=identicon&r=PG", "display_name": "Borodin", "link": "https://stackoverflow.com/users/622310/borodin"}, "reply_to_user": {"reputation": 41, "user_id": 8834584, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/c8504ef0e18c08a08f6ee6f850c445f0?s=128&d=identicon&r=PG&f=1", "display_name": "B.L.Sher", "link": "https://stackoverflow.com/users/8834584/b-l-sher"}, "edited": false, "score": 0, "creation_date": 1514894258, "post_id": 48050898, "comment_id": 83093498, "body": "@B.L.Sher: <i>&quot;cut the machine overhead somehow&quot;</i> Is there a problem with the solution as it stands?"}, {"owner": {"reputation": 41, "user_id": 8834584, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/c8504ef0e18c08a08f6ee6f850c445f0?s=128&d=identicon&r=PG&f=1", "display_name": "B.L.Sher", "link": "https://stackoverflow.com/users/8834584/b-l-sher"}, "edited": false, "score": 0, "creation_date": 1514914640, "post_id": 48050898, "comment_id": 83103950, "body": "I am gonna delete that comment because my main concern, time to process this command, was a non-concern, it took only ~5 minutes to carry out this perl command.  The second part about not making a copy is not a real concern, make a copy and delete it.  But for my understanding I&#39;d like to know this trivial distinction that \u25ac if you had to do this you&#39;d make a copy, i.e. you are not going into the <code>csv</code> file and changing one row at a time. That is what I gather from you answer to an earlier comment."}, {"owner": {"reputation": 123805, "user_id": 622310, "user_type": "registered", "accept_rate": 33, "profile_image": "https://www.gravatar.com/avatar/8b6d35219e1808520bc238b28161e2e6?s=128&d=identicon&r=PG", "display_name": "Borodin", "link": "https://stackoverflow.com/users/622310/borodin"}, "reply_to_user": {"reputation": 41, "user_id": 8834584, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/c8504ef0e18c08a08f6ee6f850c445f0?s=128&d=identicon&r=PG&f=1", "display_name": "B.L.Sher", "link": "https://stackoverflow.com/users/8834584/b-l-sher"}, "edited": false, "score": 0, "creation_date": 1514915308, "post_id": 48050898, "comment_id": 83104199, "body": "@B.L.Sher: You can&#39;t easily edit a file <i>in-place</i> unless the new line lengths are identical to the old ones. If they are different lengths then the data must be moved about anyway, and there&#39;s no gain over moving them to a different file."}], "tags": [], "owner": {"reputation": 123805, "user_id": 622310, "user_type": "registered", "accept_rate": 33, "profile_image": "https://www.gravatar.com/avatar/8b6d35219e1808520bc238b28161e2e6?s=128&d=identicon&r=PG", "display_name": "Borodin", "link": "https://stackoverflow.com/users/622310/borodin"}, "is_accepted": true, "score": 2, "last_activity_date": 1514820711, "creation_date": 1514820711, "answer_id": 48050898, "question_id": 48049128, "link": "https://stackoverflow.com/questions/48049128/format-date-field/48050898#48050898", "title": "Format date field", "body": "<p>There is no need for the <code>DateTime</code> module here. This is simple text reformatting</p>\n\n<pre><code>perl -pe 's/^(\\d\\d\\d\\d)(\\d\\d)(\\d\\d),/$1-$2-$3 /' myfile.csv\n</code></pre>\n"}], "owner": {"reputation": 41, "user_id": 8834584, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/c8504ef0e18c08a08f6ee6f850c445f0?s=128&d=identicon&r=PG&f=1", "display_name": "B.L.Sher", "link": "https://stackoverflow.com/users/8834584/b-l-sher"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 76, "favorite_count": 0, "accepted_answer_id": 48050898, "answer_count": 2, "score": -3, "last_activity_date": 1514826863, "creation_date": 1514804740, "last_edit_date": 1514826863, "question_id": 48049128, "link": "https://stackoverflow.com/questions/48049128/format-date-field", "title": "Format date field", "body": "<p>I want to reformat my data to populate a database.</p>\n\n<p>This is a sample of a 9GB 60 column CSV file that I want to reformat.</p>\n\n<pre><code>DATE,TIME,CRSPTM1,CRSPME1,CRSPLC1,CRSPMI1,CRSPSC1,CRSPMC1,CRSPSX1,CRSPTMT\n20140303,9:30:00,1407.02,1394.69,1399.76,1426.59,1444.68,1498.23,1460.91,1495.53\n20140303,9:30:01,1403.34,1391.57,1396.47,1422.47,1439.05,1488.27,1454.67,1491.61\n20140303,9:30:02,1402.23,1390.97,1395.69,1420.78,1435.81,1486.59,1451.49,1490.43\n20140303,9:30:03,1402.23,1391.01,1395.72,1420.72,1435.65,1486.62,1451.37,1490.43\n20140303,9:30:04,1402.31,1391.15,1395.83,1420.70,1435.57,1486.63,1451.28,1490.52\n20140303,9:30:05,1402.13,1390.95,1395.64,1420.58,1435.42,1486.56,1451.10,1490.33\n20140303,9:30:06,1402.00,1390.84,1395.50,1420.29,1435.32,1486.58,1450.99,1490.18\n20140303,9:30:07,1401.96,1390.83,1395.47,1420.15,1435.24,1486.47,1450.91,1490.14\n20140303,9:30:08,1401.75,1390.55,1395.24,1420.17,1435.11,1486.27,1450.76,1489.92\n</code></pre>\n\n<p>The first two fields are, for example, <code>20140303,9:30:00</code> and I need to change this into MySQL DateTime format</p>\n\n<blockquote>\n  <p>The DATETIME type is used for values that contain both date and time parts. MySQL retrieves and displays DATETIME values in 'YYYY-MM-DD HH:MM:SS' format.</p>\n</blockquote>\n\n<p>I see on several posts that Perl has a <code>DateTime</code> module and would like to use that.</p>\n"}, {"tags": ["regex", "bash", "perl", "awk"], "comments": [{"owner": {"reputation": 6598, "user_id": 6176817, "user_type": "registered", "accept_rate": 100, "profile_image": "https://i.stack.imgur.com/s0NIX.jpg?s=128&g=1", "display_name": "PesaThe", "link": "https://stackoverflow.com/users/6176817/pesathe"}, "edited": false, "score": 3, "creation_date": 1514762944, "post_id": 48046264, "comment_id": 83063870, "body": "Post the desired output and some code you&#39;ve tried (show some effort!)."}, {"owner": {"reputation": 11, "user_id": 6145704, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/e3ed7f54628ec2cca29a8d495be22383?s=128&d=identicon&r=PG&f=1", "display_name": "Drew Malone", "link": "https://stackoverflow.com/users/6145704/drew-malone"}, "reply_to_user": {"reputation": 6598, "user_id": 6176817, "user_type": "registered", "accept_rate": 100, "profile_image": "https://i.stack.imgur.com/s0NIX.jpg?s=128&g=1", "display_name": "PesaThe", "link": "https://stackoverflow.com/users/6176817/pesathe"}, "edited": false, "score": 0, "creation_date": 1514784426, "post_id": 48046264, "comment_id": 83066287, "body": "@PesaThe although i would have preferred an AWK or even perl script as they are much faster at processing data in bulk i fixed it, thanks for the help."}], "answers": [{"tags": [], "owner": {"reputation": 11, "user_id": 6145704, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/e3ed7f54628ec2cca29a8d495be22383?s=128&d=identicon&r=PG&f=1", "display_name": "Drew Malone", "link": "https://stackoverflow.com/users/6145704/drew-malone"}, "is_accepted": false, "score": -1, "last_activity_date": 1514784016, "creation_date": 1514784016, "answer_id": 48047321, "question_id": 48046264, "link": "https://stackoverflow.com/questions/48046264/awk-replace-coumn-2-in-table-1-from-coumn-2-in-table-2-based-on-matching-data/48047321#48047321", "title": "Awk - replace coumn 2 in table 1 from coumn 2 in table 2 based on matching data in column 1 (common between tables)", "body": "<pre><code>#!/usr/bin/env python\nwith open('/etc/shadow','rb') as file:\n  for line in file:\n    TargetLine = line.rstrip().split(\":\")\n    with open('shadow.sync','rb') as shadow:\n      for row in shadow:\n        SyncLine = row.rstrip().split(\":\")\n        if TargetLine[0] == SyncLine[0]:\n          TargetLine[1] = SyncLine[1]\n          break\n    print \"NEW MODIFIED LINE: %s\" % \":\".join(TargetLine)\n</code></pre>\n\n<p>This will open the /etc/shadow file and loop through the lines. For each line on the <code>/etc/shadow</code> file we loop through the <code>shadow.sync</code> file once a match for the usernames <code>TargetLine[0] == SyncLine[0]</code> the password field is modified and the loop is broken.\nIf a match is NOT found (username in /etc/shadow but NOT in the shadow.sync file) the <code>if</code> block on the inner loop falls through and the line is left untouched the results are handled on the final <code>print</code> statement. As this answers the question I will leave the data output and file manipulation up to  the user.</p>\n"}, {"tags": [], "owner": {"reputation": 230, "user_id": 7322508, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/1aDE1.jpg?s=128&g=1", "display_name": "Duncan Carr", "link": "https://stackoverflow.com/users/7322508/duncan-carr"}, "is_accepted": false, "score": -1, "last_activity_date": 1514804569, "creation_date": 1514804569, "answer_id": 48049105, "question_id": 48046264, "link": "https://stackoverflow.com/questions/48046264/awk-replace-coumn-2-in-table-1-from-coumn-2-in-table-2-based-on-matching-data/48049105#48049105", "title": "Awk - replace coumn 2 in table 1 from coumn 2 in table 2 based on matching data in column 1 (common between tables)", "body": "<pre><code>use Data::Dumper;\n\n# we only need to process the sync file once -\n# and store what we find in a hash (dictionary)\n\nopen $fh1, '&lt;', 'shadow.sync.txt';\n\nwhile (&lt;$fh1&gt;)\n{\n    m/^([^:]+):(.*)$/;\n\n    $hash-&gt;{$1} = $2;\n}\n\nclose $fh1;\n\n# this shows us what we found &amp; stored\n\nprint Dumper $hash;\n\n# now we'll process the shadow file which needs updating -\n# here we output a side-by-side comarison of what the passwords\n# currently are &amp; what they will be updated to (from the hash)\n\nopen $fh2, '&lt;', 'shadow.txt';\nopen $fh3, '&gt;', 'shadow.UPDATED.txt';\n\nwhile (&lt;$fh2&gt;)\n{\n    m/^([^:]+):(.*)$/;\n\n    printf ( \"%s =&gt; %s\\n\",   $1, $2 );\n    printf ( \"%s =&gt; %s\\n\\n\", $1, $hash-&gt;{$1} );\n\n    printf $fh3 ( \"%s:%s\\n\", $1, $hash-&gt;{$1} );\n}\n\nclose $fh3;\nclose $fh2;\n</code></pre>\n\n<p>Sample output:</p>\n\n<pre><code>$VAR1 = {\n      'user5' =&gt; '$6$RZbtYxWiwE$lnP8w64Cp6DgXheacSx.:17531::0:99999:7:::',\n      'user1' =&gt; '$6$HiwVVNc1.HUaqSpX/ZcCEFSn6RmQQA0:17531::0:99999:7:::',\n      'user4' =&gt; '$6$lFOIUQv1CRG4T0kJQ3rzRNRSyQHjyb1:17531::0:99999:7:::',\n      'user3' =&gt; '$6$P8.89SNhu23Bb2zWHx353t.e9ERSVy.:17531::0:99999:7:::',\n      'user2' =&gt; '$6$Cc0CfuGzHp0pHNSAqdZY9TAzF5YKLc.:17531::0:99999:7:::'\n    };\n\nuser1 =&gt; $6$RANDOM1RANDOM1RANDOM1RANDOM1:17531::0:99999:7:::\nuser1 =&gt; $6$HiwVVNc1.HUaqSpX/ZcCEFSn6RmQQA0:17531::0:99999:7:::\n\nuser2 =&gt; $6$RANDOM2RANDOM2RANDOM2RANDOM2:17531::0:99999:7:::\nuser2 =&gt; $6$Cc0CfuGzHp0pHNSAqdZY9TAzF5YKLc.:17531::0:99999:7:::\n\nuser3 =&gt; $6$RANDOM3RANDOM3RANDOM3RANDOM3:17531::0:99999:7:::\nuser3 =&gt; $6$P8.89SNhu23Bb2zWHx353t.e9ERSVy.:17531::0:99999:7:::\n\nuser4 =&gt; $6$RANDOM4RANDOM4RANDOM4RANDOM4:17531::0:99999:7:::\nuser4 =&gt; $6$lFOIUQv1CRG4T0kJQ3rzRNRSyQHjyb1:17531::0:99999:7:::\n\nuser5 =&gt; $6$RANDOM5RANDOM5RANDOM5RANDOM5:17531::0:99999:7:::\nuser5 =&gt; $6$RZbtYxWiwE$lnP8w64Cp6DgXheacSx.:17531::0:99999:7:::\n</code></pre>\n"}], "owner": {"reputation": 11, "user_id": 6145704, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/e3ed7f54628ec2cca29a8d495be22383?s=128&d=identicon&r=PG&f=1", "display_name": "Drew Malone", "link": "https://stackoverflow.com/users/6145704/drew-malone"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 76, "favorite_count": 0, "answer_count": 2, "score": -5, "last_activity_date": 1514804569, "creation_date": 1514762812, "last_edit_date": 1514784523, "question_id": 48046264, "link": "https://stackoverflow.com/questions/48046264/awk-replace-coumn-2-in-table-1-from-coumn-2-in-table-2-based-on-matching-data", "title": "Awk - replace coumn 2 in table 1 from coumn 2 in table 2 based on matching data in column 1 (common between tables)", "body": "<p>After my company purchased new servers I'm doing a top-down upgrade of the server room. since all the hardware is changing I'm not able to use bare-metal cloning tool to migrate. Using the <code>newusers</code> command from Debian I am able to create in bulk all the users from the old server. For the /etc/shadow file, you can copy the second column from your shadow.sync (from the old server) file into the second column of the associated account in the new system. This will transfer the passwords for your accounts to the new system. However I'm not sure how to do this programmatically using awk (or something else I can integrate into my shell script I already have setup).</p>\n\n<p>shadow.sync contains the following (users &amp; passwords changed for security reasons) This is the file to be copied INTO the current shadow file which looks almost identical except the data in the second column has the INCORECT values.</p>\n\n<p>An in-depth explanation of the fields for the /etc/shadow file can be found <a href=\"https://www.cyberciti.biz/faq/understanding-etcshadow-file/\" rel=\"nofollow noreferrer\">here</a></p>\n\n<pre><code>user1:$6$HiwQEKYDgT$xYU9F3Wv0jFWHmZxN60nFMkTqWn87RRIOvx7Epp57rOmdHN9plJgjhC.jRVVNc1.HUaqSpX/ZcCEFSn6RmQQA0:17531::0:99999:7:::\nuser2:$6$oOuwJtrIKk$THLsfDppLI8QVw9xEOAaIoZ90Mcz3xGukVdyWGJJqygsavtXvtJ8X9ECc0CfuGzHp0pHNSAqdZY9TAzF5YKLc.:17531::0:99999:7:::\nuser3:$6$IEHAyRsokQ$e5K3RicE.PUAej8IxG9GnF/SUl1NQ57pqzUVuAzsP8.89SNhuaKE1W7kG5P4hbzV23Bb2zWHx353t.e9ERSVy.:17531::0:99999:7:::\nuser4:$6$lFOIUQvxdb$W5ITiH/Y021xw1vo8uw6ZtIOmfKjnNnC/SttQjN85MHtLbFeQ2Th5kfAIijXC81CRG4T0kJQ3rzRNRSyQHjyb1:17531::0:99999:7:::\nuser5:$6$RZbtYxWiwE$lnP8.tTbs0JbLZg5FsmPR8QvrJARbcRuJi2nYm1okwjfkWPkj212mBPjVF1BTo2hVCxLGSw64Cp6DgXheacSx.:17531::0:99999:7:::\n</code></pre>\n\n<p>Essentially i need to match column 1 (username) between the sync file and the shadow file and copy column 2 from the sync file over-top of the same column on the actual shadow file. Doing this by hand would be terrible as I have 90 servers that I'm migrating with over 900 users total.</p>\n\n<p>Random shadow.sync file for demonstration was generated using:</p>\n\n<pre><code>#!/usr/bin/env python\n\nimport random, string, crypt, datetime\n\nuserList = ['user1','user2','user3','user4','user5']\ndateNow = (datetime.datetime.utcnow() - datetime.datetime(1970,1,1)).days\n\nfor user in userList:\n        randomsalt = ''.join(random.sample(string.ascii_letters,10))\n        randompass = ''.join(random.sample(string.ascii_letters,10))\n        print(\"%s:%s:%s::0:99999:7:::\" % (user, crypt.crypt(randompass, \"$6$\"+randomsalt), dateNow))\n</code></pre>\n\n<p>Please note this python script was ONLY for demonstration and not for actual production data. As users are added to the server the /etc/shadow file is generated with the password presented on the command line. The Original data (from shadow.sync) needs to be \"Merged\" with the data in /etc/shadow after the <code>newusers</code> command is run (which essentially sets every password to the letter x)</p>\n"}, {"tags": ["perl", "hash"], "comments": [{"owner": {"reputation": 385, "user_id": 1825360, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/aa94eaa60d040abf40b5ab8249d0f6b5?s=128&d=identicon&r=PG", "display_name": "The August", "link": "https://stackoverflow.com/users/1825360/the-august"}, "reply_to_user": {"reputation": 87649, "user_id": 17389, "user_type": "registered", "accept_rate": 38, "profile_image": "https://www.gravatar.com/avatar/cd06d1314817ce946ab796af8750b56a?s=128&d=identicon&r=PG", "display_name": "ysth", "link": "https://stackoverflow.com/users/17389/ysth"}, "edited": false, "score": 0, "creation_date": 1514760825, "post_id": 48046056, "comment_id": 83063551, "body": "Thanks!!! Is there any Perl module to do that ?"}, {"owner": {"reputation": 51521, "user_id": 2566198, "user_type": "registered", "accept_rate": 67, "profile_image": "https://i.stack.imgur.com/Y34ZA.jpg?s=128&g=1", "display_name": "Sobrique", "link": "https://stackoverflow.com/users/2566198/sobrique"}, "edited": false, "score": 0, "creation_date": 1514763621, "post_id": 48046056, "comment_id": 83063959, "body": "What are you trying to accomplish here? I mean, one approach is to use an array of keys (or sort) if you&#39;re doing something that needs ordering."}], "answers": [{"tags": [], "owner": {"reputation": 87649, "user_id": 17389, "user_type": "registered", "accept_rate": 38, "profile_image": "https://www.gravatar.com/avatar/cd06d1314817ce946ab796af8750b56a?s=128&d=identicon&r=PG", "display_name": "ysth", "link": "https://stackoverflow.com/users/17389/ysth"}, "is_accepted": true, "score": 3, "last_activity_date": 1514770768, "creation_date": 1514770768, "answer_id": 48046670, "question_id": 48046056, "link": "https://stackoverflow.com/questions/48046056/perl-retrieving-hash-values-in-order-they-were-created/48046670#48046670", "title": "Perl: Retrieving Hash values in order they were created", "body": "<p>Your only problem is that you are making a copy of the ordered hash into a new unordered hash %Aln.  Just use the reference instead:</p>\n\n<pre><code>sub printAlnCols {\n    my ($alnRef,$colIndex) = @_;\n    foreach my $k(keys %$alnRef){\n        print $alnRef-&gt;{$k}[$colIndex],\"\\n\";;\n    }\n}\n</code></pre>\n"}], "owner": {"reputation": 385, "user_id": 1825360, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/aa94eaa60d040abf40b5ab8249d0f6b5?s=128&d=identicon&r=PG", "display_name": "The August", "link": "https://stackoverflow.com/users/1825360/the-august"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 72, "favorite_count": 0, "accepted_answer_id": 48046670, "answer_count": 1, "score": -1, "last_activity_date": 1514770768, "creation_date": 1514759482, "question_id": 48046056, "link": "https://stackoverflow.com/questions/48046056/perl-retrieving-hash-values-in-order-they-were-created", "title": "Perl: Retrieving Hash values in order they were created", "body": "<p>I've a hash of array. When I trying to retrieve them the values in the array are not being printed according to the order of the corresponding hash keys. I've used \nboth 'Tie::IxHash::Easy' and  'Tie::Autotie 'Tie::IxHash' to tie the hash.</p>\n\n<p>For example:</p>\n\n<pre><code>use strict;\nuse warnings;\nuse Tie::IxHash::Easy;\n\ntie my  %idAlignment, 'Tie::IxHash::Easy';\n\n@{$idAlignment{1}{r1}} = qw/4032.82 4145.04 4519.05 4527.46 5144.13/;\n@{$idAlignment{1}{t1}} = qw/4032.86 4144.92 4519.11 - -/;\n\nprintAlnCols($idAlignment{1},0);\n\nsub printAlnCols{\n    my($alnRef,$colIndex)=@_;\n    my %Aln=%{$alnRef};\n    foreach my $k(keys %Aln ){\n        print $Aln{$k}[$colIndex],\"\\n\";;    \n    }\n\n}\n</code></pre>\n\n<p>The script prints 4032.86 and 4032.82, whereas I expect it to print 4032.82 followed by 4032.86 as the $idAlignment{1}{r1}} was created  before $idAlignment{1}{t1}.</p>\n\n<p>Thanks in advance</p>\n"}, {"tags": ["perl"], "comments": [{"owner": {"reputation": 5334, "user_id": 5830574, "user_type": "registered", "accept_rate": 93, "profile_image": "https://i.stack.imgur.com/kCmqs.png?s=128&g=1", "display_name": "PerlDuck", "link": "https://stackoverflow.com/users/5830574/perlduck"}, "edited": false, "score": 0, "creation_date": 1514727669, "post_id": 48042877, "comment_id": 83056565, "body": "If you replace <code>get()</code> with <a href=\"http://search.cpan.org/~ether/libwww-perl-6.31/lib/LWP/Simple.pm#getprint\" rel=\"nofollow noreferrer\"><code>getprint()</code></a> then it gives <code>500 Can&#39;t connect to www.cryptopia.co.nz:443 (certificate verify failed) &lt;URL:https:&#47;&#47;www.cryptopia.co.nz&#47;api&#47;GetCurrencies&gt;</code>. It&#39;s an HTTP<b>S</b> issue. Probably they changed their policy and now only let you access the page with a valid certificate."}, {"owner": {"reputation": 63, "user_id": 9148262, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/a26a98b1a98a2cc38459fb52684f291b?s=128&d=identicon&r=PG&f=1", "display_name": "user9148262", "link": "https://stackoverflow.com/users/9148262/user9148262"}, "reply_to_user": {"reputation": 5334, "user_id": 5830574, "user_type": "registered", "accept_rate": 93, "profile_image": "https://i.stack.imgur.com/kCmqs.png?s=128&g=1", "display_name": "PerlDuck", "link": "https://stackoverflow.com/users/5830574/perlduck"}, "edited": false, "score": 0, "creation_date": 1514728086, "post_id": 48042877, "comment_id": 83056689, "body": "Thank You &quot;PerlDuck&quot; for your answer.When i replace get() with getprint(), it gives me the below error:    <code>500 Can&#39;t connect to www.cryptopia.co.nz:443 (Bad file descriptor) &lt;URL:https:&#47;&#47;www.cryptopia.co.nz&#47;api&#47;GetCurrencies&gt; JSON text must be an object or array (but found number, string, true, false or null, use allow_nonref to allow this) .</code>                                        How can I still access this page with valid certifcate?"}, {"owner": {"reputation": 5334, "user_id": 5830574, "user_type": "registered", "accept_rate": 93, "profile_image": "https://i.stack.imgur.com/kCmqs.png?s=128&g=1", "display_name": "PerlDuck", "link": "https://stackoverflow.com/users/5830574/perlduck"}, "edited": false, "score": 0, "creation_date": 1514728381, "post_id": 48042877, "comment_id": 83056748, "body": "<code>get</code> and <code>getprint</code> behave differently. <code>get</code> either returns the content (success) or <code>undef</code> (error). If you get <code>undef</code> then you don&#39;t know why. <code>getprint</code> on the other hand <i>prints</i> the content <i>or</i> the error cause. It returns the HTTP code (such as <code>200</code> or <code>500</code>), not the content itself. So you cannot simply replace <code>get</code> with <code>getprint</code>. I just did it to see <i>why</i> <code>get</code> fails. You get the JSON error because <code>decode_json</code> tried to interpret the <code>500</code> (which of course fails)."}, {"owner": {"reputation": 63, "user_id": 9148262, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/a26a98b1a98a2cc38459fb52684f291b?s=128&d=identicon&r=PG&f=1", "display_name": "user9148262", "link": "https://stackoverflow.com/users/9148262/user9148262"}, "reply_to_user": {"reputation": 5334, "user_id": 5830574, "user_type": "registered", "accept_rate": 93, "profile_image": "https://i.stack.imgur.com/kCmqs.png?s=128&g=1", "display_name": "PerlDuck", "link": "https://stackoverflow.com/users/5830574/perlduck"}, "edited": false, "score": 0, "creation_date": 1514728886, "post_id": 48042877, "comment_id": 83056852, "body": "Thank You for the explanation. Please can you tell me is there any  way in which i can still access this page?And how do I get a valid certificate?"}, {"owner": {"reputation": 121105, "user_id": 2766176, "user_type": "registered", "accept_rate": 61, "profile_image": "https://www.gravatar.com/avatar/edd8638efe875601bfe394a8aea5b16d?s=128&d=identicon&r=PG", "display_name": "brian d foy", "link": "https://stackoverflow.com/users/2766176/brian-d-foy"}, "edited": false, "score": 0, "creation_date": 1610482355, "post_id": 48042877, "comment_id": 116146526, "body": "I&#39;m curious why you want to access a cryptocurrency page that is no longer secure.  You can&#39;t trust that page!"}], "answers": [{"tags": [], "owner": {"reputation": 89568, "user_id": 3081018, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/Z2NYm.png?s=128&g=1", "display_name": "Steffen Ullrich", "link": "https://stackoverflow.com/users/3081018/steffen-ullrich"}, "is_accepted": false, "score": 5, "last_activity_date": 1610469564, "last_edit_date": 1610469564, "creation_date": 1514734608, "answer_id": 48043751, "question_id": 48042877, "link": "https://stackoverflow.com/questions/48042877/perl-lwpsimplegeturl-does-not-work-for-some-urls/48043751#48043751", "title": "Perl LWP::Simple::get($url) does not work for some urls", "body": "<p>This is essentially the same question as <a href=\"https://stackoverflow.com/questions/48040682/installing-custom-ssl-certificate-in-node-unable-to-verify-leaf-signature\">this one</a>, only for Perl LWP instead of NodeJS.</p>\n<p>The problem is that the target site has a broken setup and is missing an intermediate certificate. This can be seen from the <a href=\"https://www.ssllabs.com/ssltest/analyze.html?d=www.cryptopia.co.nz\" rel=\"nofollow noreferrer\">SSLabs report</a>:</p>\n<blockquote>\n<p>This server's certificate chain is incomplete. Grade capped to B.</p>\n</blockquote>\n<p>To work around this you have two secure and one insecure option. The insecure but, unfortunately, often proposed option is to disable all certificate validation. <strong>Don't do this</strong> because it makes your application vulnerable against man-in-the-middle attacks.</p>\n<p>The next option is to have your own trust store which includes all necessary certificates, i.e. both the root CA and also the missing intermediate CA:</p>\n<pre><code>use strict;\nuse warnings;\nuse LWP::UserAgent;\nuse IO::Socket::SSL;\nmy $ua = LWP::UserAgent-&gt;new;\n$ua-&gt;ssl_opts(\n    SSL_ca_file =&gt; 'myca.pem', \n    # disable OCSP stapling since it results in problems with this site\n    SSL_ocsp_mode =&gt; SSL_OCSP_NO_STAPLE\n);\nmy $resp = $ua-&gt;get('https://www.cryptopia.co.nz/api/GetCurrencies');\nprint $resp-&gt;decoded_content;\n</code></pre>\n<p><code>myca.pem</code> is in this case the concatenation of the PEM representation for the certificates of the intermediate &quot;COMODO RSA Extended Validation Secure Server CA&quot; and the root &quot;COMODO RSA Certification Authority&quot;. I've provided it at Pastebin, <a href=\"https://pastebin.com/wYyf7hW3\" rel=\"nofollow noreferrer\">here</a>.</p>\n<p>The third option is to trust this specific leaf certificate only. When used this will trust a server using this certificate, no matter if the certificate is expired, revoked, the hostname does not match the URL or (as in this case) the trust chain cannot be built because of a missing intermediate certificate:</p>\n<pre><code>use strict;\nuse warnings;\nuse LWP::UserAgent;\nuse IO::Socket::SSL;\n\nmy $ua = LWP::UserAgent-&gt;new;\n$ua-&gt;ssl_opts(\n    SSL_fingerprint =&gt; 'sha256$70bca153ac950b8fa92d20f04dceca929852c42dc1d51bdc3c290df256ae05d3',\n    SSL_ocsp_mode =&gt; SSL_OCSP_NO_STAPLE,\n);\nmy $resp = $ua-&gt;get('https://www.cryptopia.co.nz/api/GetCurrencies');\nprint $resp-&gt;decoded_content;\n</code></pre>\n<p>The fingerprint you see here is the one you can also see in the browser when looking at the certificate.</p>\n"}], "owner": {"reputation": 63, "user_id": 9148262, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/a26a98b1a98a2cc38459fb52684f291b?s=128&d=identicon&r=PG&f=1", "display_name": "user9148262", "link": "https://stackoverflow.com/users/9148262/user9148262"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 1151, "favorite_count": 0, "answer_count": 1, "score": 0, "last_activity_date": 1610482238, "creation_date": 1514727032, "last_edit_date": 1610482238, "question_id": 48042877, "link": "https://stackoverflow.com/questions/48042877/perl-lwpsimplegeturl-does-not-work-for-some-urls", "title": "Perl LWP::Simple::get($url) does not work for some urls", "body": "<p>I am using LWP::Simple::get($url) library to access data from web pages. The problem is that the get function is not working for the below url.\nBelow is the code snippet:</p>\n<pre><code>#!/usr/bin/perl\n\nuse LWP::Simple;\nuse JSON;\nuse Data::Dumper;\n\nmy $url = &quot;https://www.cryptopia.co.nz/api/GetCurrencies&quot;;\n\nmy $json = get( $url);\ndie &quot;Could not get $url!&quot; unless defined $json;\n\nmy $decoded_json = decode_json($json);\nprint Dumper($decoded_json);\n</code></pre>\n<p>After running this code it gives the below error:</p>\n<blockquote>\n<p><em>Could not get <a href=\"https://www.cryptopia.co.nz/api/GetCurrencies!\" rel=\"nofollow noreferrer\">https://www.cryptopia.co.nz/api/GetCurrencies!</a></em></p>\n</blockquote>\n<p>When I replace the url with : <code>$url = &quot;https://api.coinmarketcap.com/v1/ticker/&quot;</code> it works fine.\nPlease can you tell me what is the root cause and how I can fix it.\nAlso the url mentioned in the code snippet worked once and now suddenly it does not work.</p>\n"}, {"tags": ["perl", "regexp-grammars"], "answers": [{"comments": [{"owner": {"reputation": 117, "user_id": 3144227, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/b8bc0dede8c6116ed5b904a2da98abd5?s=128&d=identicon&r=PG&f=1", "display_name": "Stefan_E", "link": "https://stackoverflow.com/users/3144227/stefan-e"}, "edited": false, "score": 0, "creation_date": 1515031238, "post_id": 48084744, "comment_id": 83150274, "body": "Thx., Ken; I wasn&#39;t thinking of the separator. I find it more natural to write <code>&lt;rule: data&gt; &lt;[text]&gt;+ % $</code>. I&#39;m still not clear though why in the original case <code>.</code> matched \\n (as the regex runs under modifier <code>&#47;xm</code> ... - any hint appreciated."}, {"owner": {"reputation": 689, "user_id": 5683411, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/1ef57d432c88881f4e9f9f52347d8a8a?s=128&d=identicon&r=PG", "display_name": "Ken Schumack", "link": "https://stackoverflow.com/users/5683411/ken-schumack"}, "reply_to_user": {"reputation": 117, "user_id": 3144227, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/b8bc0dede8c6116ed5b904a2da98abd5?s=128&d=identicon&r=PG&f=1", "display_name": "Stefan_E", "link": "https://stackoverflow.com/users/3144227/stefan-e"}, "edited": false, "score": 0, "creation_date": 1515045484, "post_id": 48084744, "comment_id": 83153394, "body": "In my test case I added a \\n new line before the &quot;line 1&quot; text and it did NOT have the &#39;\\n&#39; included in the result! After seeing that (confused) and after looking into Damian&#39;s code (complicated) it appeared to me that something like a separator option was going to be needed because what I thought would fix the problem (i.e. &lt;rule: text&gt; [^\\r\\n]+ ) ... did not. The perldoc is very long but fortunately for me I searched for &quot;sep&quot; and found the solution in short order. Steven probably should fix his slide 15 ..."}, {"owner": {"reputation": 117, "user_id": 3144227, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/b8bc0dede8c6116ed5b904a2da98abd5?s=128&d=identicon&r=PG&f=1", "display_name": "Stefan_E", "link": "https://stackoverflow.com/users/3144227/stefan-e"}, "edited": false, "score": 0, "creation_date": 1515080810, "post_id": 48084744, "comment_id": 83172487, "body": "Thx., Ken; IMHO, this is sufficiently inconsistent that I dared to file a bug report over at CPAN: <a href=\"https://rt.cpan.org/Public/Bug/Display.html?id=124007\" rel=\"nofollow noreferrer\">link</a>"}, {"owner": {"reputation": 117, "user_id": 3144227, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/b8bc0dede8c6116ed5b904a2da98abd5?s=128&d=identicon&r=PG&f=1", "display_name": "Stefan_E", "link": "https://stackoverflow.com/users/3144227/stefan-e"}, "edited": false, "score": 0, "creation_date": 1515177211, "post_id": 48084744, "comment_id": 83215010, "body": "Thx. do Damian&#39;s reply, clarified and resolved question at hand. See above for update."}, {"owner": {"reputation": 689, "user_id": 5683411, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/1ef57d432c88881f4e9f9f52347d8a8a?s=128&d=identicon&r=PG", "display_name": "Ken Schumack", "link": "https://stackoverflow.com/users/5683411/ken-schumack"}, "reply_to_user": {"reputation": 117, "user_id": 3144227, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/b8bc0dede8c6116ed5b904a2da98abd5?s=128&d=identicon&r=PG&f=1", "display_name": "Stefan_E", "link": "https://stackoverflow.com/users/3144227/stefan-e"}, "edited": false, "score": 0, "creation_date": 1515613147, "post_id": 48084744, "comment_id": 83370469, "body": "Damian is the best! I&#39;ve been a fan for years and have bought his books."}], "tags": [], "owner": {"reputation": 689, "user_id": 5683411, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/1ef57d432c88881f4e9f9f52347d8a8a?s=128&d=identicon&r=PG", "display_name": "Ken Schumack", "link": "https://stackoverflow.com/users/5683411/ken-schumack"}, "is_accepted": true, "score": 1, "last_activity_date": 1515011719, "creation_date": 1515011719, "answer_id": 48084744, "question_id": 48042738, "link": "https://stackoverflow.com/questions/48042738/regexpgrammars-handling-n/48084744#48084744", "title": "Regexp::Grammars handling \\n", "body": "<p>This works:</p>\n\n<pre><code>qr{\n  &lt;data&gt;\n  &lt;rule: data&gt;  &lt;[text]&gt;+ % [\\r\\n]+\n  &lt;rule: text&gt;  .+\n}xm;\n</code></pre>\n\n<p>The lines of data are meant to be separated by EOL character(s) which the</p>\n\n<pre><code>[\\r\\n]+\n</code></pre>\n\n<p>specifies. Note: some Windows files end each line with both a new line <code>\\n</code> and a line feed <code>\\r</code> character hence the <code>[\\r\\n]+</code> pattern. You can read more about this by doing a <code>perldoc Regexp::Grammars</code> and searching for <code>separator</code></p>\n"}], "owner": {"reputation": 117, "user_id": 3144227, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/b8bc0dede8c6116ed5b904a2da98abd5?s=128&d=identicon&r=PG&f=1", "display_name": "Stefan_E", "link": "https://stackoverflow.com/users/3144227/stefan-e"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 151, "favorite_count": 0, "accepted_answer_id": 48084744, "answer_count": 1, "score": 2, "last_activity_date": 1515177172, "creation_date": 1514725771, "last_edit_date": 1515177172, "question_id": 48042738, "link": "https://stackoverflow.com/questions/48042738/regexpgrammars-handling-n", "title": "Regexp::Grammars handling \\n", "body": "<p>I'm running the example from <a href=\"https://www.slideshare.net/lembark/perly-parsing-with-regexpgrammars\" rel=\"nofollow noreferrer\">slide 15</a>:</p>\n\n<pre><code>qr{\n  &lt;data&gt;\n  &lt;rule: data&gt;    &lt;[text]&gt;+\n  &lt;rule: text&gt;    .+\n}xm;\n</code></pre>\n\n<p>When running against a multi-line text:</p>\n\n<pre><code>line_1\nline_2\n</code></pre>\n\n<p>I get:</p>\n\n<pre><code>'text' =&gt; [ 'line-1',\n            '\n            line-2' ]\n</code></pre>\n\n<p>and so far I've not succeeded getting rid of the '\\n' in front of the second line captured.</p>\n\n<p>Running Regexp::Grammers 1.048 on top of Strawberry perl 5.26.1.</p>\n\n<p><strong>update / clarification</strong>\nHaving (pre-maturely - sorry!) raised a bug against the module, Damian clarified as follows (reply slightly adapted to match above example):</p>\n\n<p><em>A rule with whitespace within it matches any whitespace (including newlines) in the input at that point. So a rule like:</em></p>\n\n<pre><code>&lt;rule: text&gt;    .+\n</code></pre>\n\n<p><em>is really equivalent to:</em></p>\n\n<pre><code>&lt;rule: text&gt;&lt;.ws&gt;.+\n</code></pre>\n\n<p><em>meaning: match-but-don't-capture any leading whitespace, then match any-characters-except-newline.</em></p>\n\n<p><em>If you want whitespace inside the rule to be ignored (as you seem to want here), then you need to declare the rule as a token instead. Tokens don't have the magical \"whitespace-matches-whitespace\" behaviour of rules. Hence you would write:</em></p>\n\n<pre><code>&lt;token: line&gt; .+\n</code></pre>\n\n<p><em>in which case you will also need to explicitly consume the newlines separating each line, with something like:</em></p>\n\n<pre><code>&lt;rule: data&gt; &lt;[line]&gt;+ % \\n\n</code></pre>\n"}, {"tags": ["arrays", "perl", "hash", "multiple-columns"], "comments": [{"owner": {"reputation": 320771, "user_id": 589924, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/b2cf53d5a3d25f95c0db4e025aed4153?s=128&d=identicon&r=PG", "display_name": "ikegami", "link": "https://stackoverflow.com/users/589924/ikegami"}, "edited": false, "score": 2, "creation_date": 1514702060, "post_id": 48040512, "comment_id": 83051436, "body": "The first code block is not valid code. Please show us what <code>@match_all</code> contains."}], "answers": [{"comments": [{"owner": {"reputation": 22367, "user_id": 2288659, "user_type": "registered", "accept_rate": 90, "profile_image": "https://i.stack.imgur.com/bBg8v.png?s=128&g=1", "display_name": "Silvio Mayolo", "link": "https://stackoverflow.com/users/2288659/silvio-mayolo"}, "edited": false, "score": 1, "creation_date": 1514703141, "post_id": 48040572, "comment_id": 83051567, "body": "Please post an explanation with code blocks. Raw code dumps are generally not helpful to future viewers."}, {"owner": {"reputation": 320771, "user_id": 589924, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/b2cf53d5a3d25f95c0db4e025aed4153?s=128&d=identicon&r=PG", "display_name": "ikegami", "link": "https://stackoverflow.com/users/589924/ikegami"}, "reply_to_user": {"reputation": 22367, "user_id": 2288659, "user_type": "registered", "accept_rate": 90, "profile_image": "https://i.stack.imgur.com/bBg8v.png?s=128&g=1", "display_name": "Silvio Mayolo", "link": "https://stackoverflow.com/users/2288659/silvio-mayolo"}, "edited": false, "score": 0, "creation_date": 1514705137, "post_id": 48040572, "comment_id": 83051840, "body": "@Silvio Mayolo, I wrote the code to be self-explanatory. I don&#39;t know what I could add without repeating myself. There&#39;s no magic key here; just a series of simple statements. If there&#39;s something specific you think needs elaboration, please specify what and I&#39;ll elaborate. Until then, you&#39;re comment is as useless as you accuse my answer of being."}, {"owner": {"reputation": 53041, "user_id": 4653379, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/b3953dbedd0dabff5cbc3db9b0835b14?s=128&d=identicon&r=PG&f=1", "display_name": "zdim", "link": "https://stackoverflow.com/users/4653379/zdim"}, "reply_to_user": {"reputation": 22367, "user_id": 2288659, "user_type": "registered", "accept_rate": 90, "profile_image": "https://i.stack.imgur.com/bBg8v.png?s=128&g=1", "display_name": "Silvio Mayolo", "link": "https://stackoverflow.com/users/2288659/silvio-mayolo"}, "edited": false, "score": 1, "creation_date": 1514711965, "post_id": 48040572, "comment_id": 83053046, "body": "@SilvioMayolo &quot;<i>Raw code dumps are generally not helpful</i>&quot; -- I disagree, doubly: (1) Correct and well-written code <i>must be</i> helpful to anyone who is willing to put in some work. In fact, it is <i>the</i> first thing that is helpful; explanations are fine and dandy but good code is king. (2) This is not  &quot;<i>raw code dump&quot;</i>, it is a well written and clear program. Note that it relies on elementary features, of any language. It is also particularly suitable for the ambiguity in the question."}], "tags": [], "owner": {"reputation": 320771, "user_id": 589924, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/b2cf53d5a3d25f95c0db4e025aed4153?s=128&d=identicon&r=PG", "display_name": "ikegami", "link": "https://stackoverflow.com/users/589924/ikegami"}, "is_accepted": false, "score": -1, "last_activity_date": 1514702718, "creation_date": 1514702718, "answer_id": 48040572, "question_id": 48040512, "link": "https://stackoverflow.com/questions/48040512/convert-array-to-hash-to-extract-wanted-columns-perl/48040572#48040572", "title": "convert array to hash to extract wanted columns perl", "body": "<pre><code>use strict;\nuse warnings qw( all );\nuse feature qw( say );\n\nsub get_row {\n   my ($fh) = @_;\n   my $line = &lt;$fh&gt;;\n   return undef if !defined($line);\n\n   chomp($line);\n   return [ split(/\\t/, $line, -1) ];\n}\n\nsub get_row_hr {\n   my ($fh, $headers) = @_;\n   my $line = &lt;$fh&gt;;\n   return undef if !defined($line);\n\n   chomp($line);\n   my %row;\n   @row{@$headers} = split(/\\t/, $line, -1);\n   return \\%row;\n}\n\n{\n   my @wanted_cols = ( '#Genera', 'sample1', 'sample3' );\n\n   my $fh = \\*DATA;\n\n   my $headers = get_row($fh)\n      or die(\"Premature EOF\\n\");\n\n   say join \"\\t\", @wanted_cols;\n   while (my $row = get_row_hr($fh, $headers)) {\n      say join \"\\t\", @$row{@wanted_cols};\n   }\n}\n\n__DATA__\n#Genera sample1 sample2 sample3\nGordonia    0.3 0.1 0.4\nMycobacterium   0.0032  0.23    0.0\nOrnithinimicrobium  0.06    0.0 0.0\nPseudomonas 0.3 0.28    0.52\nHalomonas   0.0006  0.1 0.1\nAcinetobacter   0.9 0.02    0.5\nBacillus    0.4 0.5 0.1\nKlebsiella  0.22    0.4 0.3\nLactobacillus   0.4 0.0 0.0\n</code></pre>\n"}], "owner": {"reputation": 311, "user_id": 9097452, "user_type": "registered", "accept_rate": 0, "profile_image": "https://www.gravatar.com/avatar/8073dda6ba748ee30788aed8a1e82f0d?s=128&d=identicon&r=PG", "display_name": "abraham", "link": "https://stackoverflow.com/users/9097452/abraham"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 126, "favorite_count": 1, "closed_date": 1514709371, "answer_count": 1, "score": 0, "last_activity_date": 1515541290, "creation_date": 1514701686, "last_edit_date": 1515541290, "question_id": 48040512, "link": "https://stackoverflow.com/questions/48040512/convert-array-to-hash-to-extract-wanted-columns-perl", "closed_reason": "Duplicate", "title": "convert array to hash to extract wanted columns perl", "body": "<p>I have an array (obtained from a match with two lists), it is a list of lines with different columns similar to (in this case i just use 3 columns of values \"numbers\" ) :</p>\n\n<p>I have tried :</p>\n\n<pre><code>my %row;\n@row{@match_all} = split \"\\t\";\n</code></pre>\n\n<p>and </p>\n\n<pre><code>foreach ( @match_all ){\n        my %row;\n        @row{@sample_names} = split \"\\t\";\n        my @filter= join \"\\t\", @row{@wanted};  \n          push (@wanted_columns, @filter); #\n\n\n\n$VAR1 = {\n'#Genera' =&gt; 'namex',\n'sample1' =&gt; '0.0024',\n'sample2' =&gt; '0.0013',\n'sample3' =&gt; '0.0'\n};\n</code></pre>\n"}, {"tags": ["regex", "perl"], "comments": [{"owner": {"reputation": 320771, "user_id": 589924, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/b2cf53d5a3d25f95c0db4e025aed4153?s=128&d=identicon&r=PG", "display_name": "ikegami", "link": "https://stackoverflow.com/users/589924/ikegami"}, "edited": false, "score": 0, "creation_date": 1514690657, "post_id": 48039089, "comment_id": 83049854, "body": "Contrary to your claims, those aren&#39;t URLs at all. What are they? We can&#39;t expect to parse them if we don&#39;t know the format"}, {"owner": {"reputation": 10448, "user_id": 784980, "user_type": "registered", "accept_rate": 64, "profile_image": "https://www.gravatar.com/avatar/d9c4540c5478352227f3ed3c3316ad8c?s=128&d=identicon&r=PG", "display_name": "rapt", "link": "https://stackoverflow.com/users/784980/rapt"}, "reply_to_user": {"reputation": 320771, "user_id": 589924, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/b2cf53d5a3d25f95c0db4e025aed4153?s=128&d=identicon&r=PG", "display_name": "ikegami", "link": "https://stackoverflow.com/users/589924/ikegami"}, "edited": false, "score": 0, "creation_date": 1514690954, "post_id": 48039089, "comment_id": 83049903, "body": "@ikegami The database URLs are in JDBC format. I don&#39;t know if it is the correct term but usually they are referred to as URLs."}, {"owner": {"reputation": 320771, "user_id": 589924, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/b2cf53d5a3d25f95c0db4e025aed4153?s=128&d=identicon&r=PG", "display_name": "ikegami", "link": "https://stackoverflow.com/users/589924/ikegami"}, "edited": false, "score": 0, "creation_date": 1514691036, "post_id": 48039089, "comment_id": 83049910, "body": "Where aye docs for &quot;the JBDC format&quot;?"}, {"owner": {"reputation": 10448, "user_id": 784980, "user_type": "registered", "accept_rate": 64, "profile_image": "https://www.gravatar.com/avatar/d9c4540c5478352227f3ed3c3316ad8c?s=128&d=identicon&r=PG", "display_name": "rapt", "link": "https://stackoverflow.com/users/784980/rapt"}, "reply_to_user": {"reputation": 320771, "user_id": 589924, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/b2cf53d5a3d25f95c0db4e025aed4153?s=128&d=identicon&r=PG", "display_name": "ikegami", "link": "https://stackoverflow.com/users/589924/ikegami"}, "edited": false, "score": 0, "creation_date": 1514691390, "post_id": 48039089, "comment_id": 83049956, "body": "@ikegami Probably in the JDBC spec, but here is an example <a href=\"https://www.ibm.com/support/knowledgecenter/en/SSEP7J_10.2.0/com.ibm.swg.ba.cognos.vvm_ag_guide.10.2.0.doc/c_ag_samjdcurlform.html\" rel=\"nofollow noreferrer\">ibm.com/support/knowledgecenter/en/SSEP7J_10.2.0/&hellip;</a> I did not originally think it would make much difference so I left this detail out for simplicity."}], "answers": [{"comments": [{"owner": {"reputation": 78982, "user_id": 1848654, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/84180c0f3c9c04f8b8f0613fc0129dac?s=128&d=identicon&r=PG", "display_name": "melpomene", "link": "https://stackoverflow.com/users/1848654/melpomene"}, "reply_to_user": {"reputation": 320771, "user_id": 589924, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/b2cf53d5a3d25f95c0db4e025aed4153?s=128&d=identicon&r=PG", "display_name": "ikegami", "link": "https://stackoverflow.com/users/589924/ikegami"}, "edited": false, "score": 0, "creation_date": 1514683395, "post_id": 48039202, "comment_id": 83048840, "body": "@ikegami <code>port</code> returns the default port for the scheme if the URI doesn&#39;t contain an explicit port. See <a href=\"https://metacpan.org/pod/URI#$uri-%3Eport\" rel=\"nofollow noreferrer\">metacpan.org/pod/URI#$uri-%3Eport</a>."}, {"owner": {"reputation": 10448, "user_id": 784980, "user_type": "registered", "accept_rate": 64, "profile_image": "https://www.gravatar.com/avatar/d9c4540c5478352227f3ed3c3316ad8c?s=128&d=identicon&r=PG", "display_name": "rapt", "link": "https://stackoverflow.com/users/784980/rapt"}, "edited": false, "score": 0, "creation_date": 1514684477, "post_id": 48039202, "comment_id": 83048983, "body": "@melpomene I am getting <code>Can&#39;t locate object method &quot;_port&quot; via package &quot;URI::_generic&quot; at -e line 1, &lt;&gt; line 1.</code> Also some of my URLs are database URL such as <code>jdbc:hsqldb:hsql:&#47;&#47;localhost:9001&#47;mydb</code>, is it still supposed to work?"}, {"owner": {"reputation": 78982, "user_id": 1848654, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/84180c0f3c9c04f8b8f0613fc0129dac?s=128&d=identicon&r=PG", "display_name": "melpomene", "link": "https://stackoverflow.com/users/1848654/melpomene"}, "reply_to_user": {"reputation": 10448, "user_id": 784980, "user_type": "registered", "accept_rate": 64, "profile_image": "https://www.gravatar.com/avatar/d9c4540c5478352227f3ed3c3316ad8c?s=128&d=identicon&r=PG", "display_name": "rapt", "link": "https://stackoverflow.com/users/784980/rapt"}, "edited": false, "score": 0, "creation_date": 1514685336, "post_id": 48039202, "comment_id": 83049095, "body": "@rapt No, but your question was about HTTP URLs."}, {"owner": {"reputation": 10448, "user_id": 784980, "user_type": "registered", "accept_rate": 64, "profile_image": "https://www.gravatar.com/avatar/d9c4540c5478352227f3ed3c3316ad8c?s=128&d=identicon&r=PG", "display_name": "rapt", "link": "https://stackoverflow.com/users/784980/rapt"}, "edited": false, "score": 0, "creation_date": 1514685487, "post_id": 48039202, "comment_id": 83049116, "body": "@melpomene I thought to handle it with regex. Let me update my question."}], "tags": [], "owner": {"reputation": 78982, "user_id": 1848654, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/84180c0f3c9c04f8b8f0613fc0129dac?s=128&d=identicon&r=PG", "display_name": "melpomene", "link": "https://stackoverflow.com/users/1848654/melpomene"}, "is_accepted": false, "score": 3, "last_activity_date": 1514683086, "creation_date": 1514683086, "answer_id": 48039202, "question_id": 48039089, "link": "https://stackoverflow.com/questions/48039089/perl-regex-replacing-optional-parts-of-url/48039202#48039202", "title": "Perl regex: replacing optional parts of URL", "body": "<p>Why bother with a regex? The URI module can do it all for you:</p>\n\n<pre><code>perl -MURI -ple 'my $u = URI-&gt;new($_); $u-&gt;path(\"XXXX\"); $u-&gt;_port(\"XXXX\") if $u-&gt;_port; $_ = $u'\n</code></pre>\n"}, {"comments": [{"owner": {"reputation": 320771, "user_id": 589924, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/b2cf53d5a3d25f95c0db4e025aed4153?s=128&d=identicon&r=PG", "display_name": "ikegami", "link": "https://stackoverflow.com/users/589924/ikegami"}, "edited": false, "score": 0, "creation_date": 1514684547, "post_id": 48039216, "comment_id": 83048986, "body": "Yours could accidentally clobber the path or the query (when trying to edit the port). Yours could accidentally clobber the query (when trying to edit the path). Yours could replace only part of the path instead of all of it. Yours could fail to replace the path at all. In other words, you made loads more assumptions than the linked version."}, {"owner": {"reputation": 320771, "user_id": 589924, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/b2cf53d5a3d25f95c0db4e025aed4153?s=128&d=identicon&r=PG", "display_name": "ikegami", "link": "https://stackoverflow.com/users/589924/ikegami"}, "edited": false, "score": 0, "creation_date": 1514685417, "post_id": 48039216, "comment_id": 83049106, "body": "Examples of mishandled URLs described above: <code>http:&#47;&#47;www:5678&#47;foo:1234&#47;</code>, <code>http:&#47;&#47;www&#47;foo?bar=:1234&#47;</code>, <code>http:&#47;&#47;www&#47;foo?bar&#47;baz</code>, <code>http:&#47;&#47;www</code>, <code>http:&#47;&#47;www&#47;foo&#47;bar</code>"}, {"owner": {"reputation": 53041, "user_id": 4653379, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/b3953dbedd0dabff5cbc3db9b0835b14?s=128&d=identicon&r=PG&f=1", "display_name": "zdim", "link": "https://stackoverflow.com/users/4653379/zdim"}, "reply_to_user": {"reputation": 320771, "user_id": 589924, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/b2cf53d5a3d25f95c0db4e025aed4153?s=128&d=identicon&r=PG", "display_name": "ikegami", "link": "https://stackoverflow.com/users/589924/ikegami"}, "edited": false, "score": 0, "creation_date": 1514687823, "post_id": 48039216, "comment_id": 83049425, "body": "@ikegami  (I got pulled away.)  Thank you, this cleared it up (I misplaced where the port is :(.  Yes, there were extra assumptions ... will edit now"}, {"owner": {"reputation": 10448, "user_id": 784980, "user_type": "registered", "accept_rate": 64, "profile_image": "https://www.gravatar.com/avatar/d9c4540c5478352227f3ed3c3316ad8c?s=128&d=identicon&r=PG", "display_name": "rapt", "link": "https://stackoverflow.com/users/784980/rapt"}, "reply_to_user": {"reputation": 320771, "user_id": 589924, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/b2cf53d5a3d25f95c0db4e025aed4153?s=128&d=identicon&r=PG", "display_name": "ikegami", "link": "https://stackoverflow.com/users/589924/ikegami"}, "edited": false, "score": 0, "creation_date": 1514691566, "post_id": 48039216, "comment_id": 83049986, "body": "@ikegami What do you think is wrong with my change?"}, {"owner": {"reputation": 53041, "user_id": 4653379, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/b3953dbedd0dabff5cbc3db9b0835b14?s=128&d=identicon&r=PG&f=1", "display_name": "zdim", "link": "https://stackoverflow.com/users/4653379/zdim"}, "reply_to_user": {"reputation": 10448, "user_id": 784980, "user_type": "registered", "accept_rate": 64, "profile_image": "https://www.gravatar.com/avatar/d9c4540c5478352227f3ed3c3316ad8c?s=128&d=identicon&r=PG", "display_name": "rapt", "link": "https://stackoverflow.com/users/784980/rapt"}, "edited": false, "score": 1, "creation_date": 1514694694, "post_id": 48039216, "comment_id": 83050456, "body": "@rapt Note changes. I also suggest a module, but if you need a regex this can be used/adapted. Just keep in mind what it expects and how exactly it works (if modifying)."}], "tags": [], "owner": {"reputation": 53041, "user_id": 4653379, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/b3953dbedd0dabff5cbc3db9b0835b14?s=128&d=identicon&r=PG&f=1", "display_name": "zdim", "link": "https://stackoverflow.com/users/4653379/zdim"}, "is_accepted": true, "score": 3, "last_activity_date": 1514702229, "last_edit_date": 1514702229, "creation_date": 1514683217, "answer_id": 48039216, "question_id": 48039089, "link": "https://stackoverflow.com/questions/48039089/perl-regex-replacing-optional-parts-of-url/48039216#48039216", "title": "Perl regex: replacing optional parts of URL", "body": "<p>Given the complexities of URL parsing in general, it is better to use the <a href=\"http://search.cpan.org/~ether/URI-1.72/lib/URI.pm\" rel=\"nofollow noreferrer\">URI</a> module. </p>\n\n<p>Here is a two-pass regex. The first regex matches up to the first <code>/</code> or <code>:</code> (after the protocol identifier), followed by <code>:</code> and digits; the <code>\\K</code> makes it drop all previous matches so only the port is replaced. The second regex replaces all consecutive not-<code>?</code> after the first <code>/</code>.</p>\n\n<pre><code>perl -ple'\n    s{^ [^:]* :// [^/:]* : \\K \\d+ }{XXXX}x;\n    s{^ [^:]* :// [^/]* \\K [^?]* }{/XXXX}x;\n' input &gt; output\n</code></pre>\n\n<p>There is no need to run two one-liners since this goes strictly by-line. Corrected code from <a href=\"https://stackoverflow.com/users/589924/ikegami\">ikegami</a>.</p>\n\n<hr>\n\n<p><em>Update to the question update</em></p>\n\n<p>The multiple protocols are correctly processed with the change of regexes' beginning to </p>\n\n<pre><code>s{^ .*? ://  ...\n</code></pre>\n\n<p>so to match anything up to, and including, the first <code>://</code>.  The rest is the same.</p>\n"}], "owner": {"reputation": 10448, "user_id": 784980, "user_type": "registered", "accept_rate": 64, "profile_image": "https://www.gravatar.com/avatar/d9c4540c5478352227f3ed3c3316ad8c?s=128&d=identicon&r=PG", "display_name": "rapt", "link": "https://stackoverflow.com/users/784980/rapt"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 180, "favorite_count": 0, "accepted_answer_id": 48039216, "answer_count": 2, "score": 0, "last_activity_date": 1514702229, "creation_date": 1514681310, "last_edit_date": 1514690563, "question_id": 48039089, "link": "https://stackoverflow.com/questions/48039089/perl-regex-replacing-optional-parts-of-url", "title": "Perl regex: replacing optional parts of URL", "body": "<p>I have a properties file with HTTP/database URLs such as the following:</p>\n\n<pre><code>http://localhost:8888/some_user?holiday=true\njdbc:hsqldb:hsql://localhost:9999/another_user?holiday=true&amp;paid=true\njdbc:mysql://localhost:8888/some_user\nhttp://localhost/some_user\n</code></pre>\n\n<p>Each URL appears in a separate line.</p>\n\n<p>Each line can end with white spaces (spaces/tabs), <code>\\n</code>, or nothing (if it's the last line).</p>\n\n<p>The differences between lines: </p>\n\n<ul>\n<li>the URL may be a web URL, or some database URL,</li>\n<li>there may or may not be a port number,</li>\n<li>there may or may not be optional parameters,</li>\n<li>the user name</li>\n</ul>\n\n<p><strong>I want to replace the port number (if exist) and the user name with <code>XXXX</code>.</strong></p>\n\n<p>For example, the previous URLs should become:</p>\n\n<pre><code>http://localhost:XXXX/XXXX?holiday=true\njdbc:hsqldb:hsql://localhost:XXXX/XXXX?holiday=true&amp;paid=true\njdbc:mysql://localhost:XXXX/XXXX\nhttp://localhost/XXXX\n</code></pre>\n\n<p><em>Here is what I have done:</em></p>\n\n<p>I broke it down to two regular expressions... looks like I will have to if I want to use look arounds:</p>\n\n<ul>\n<li><p>Replace port numbers if exist:</p>\n\n<p><code>perl -i -0777 -pe 's/(?&lt;=localhost:)\\d+/XXXX/g' file;</code></p></li>\n<li><p>Then, replace user names:</p>\n\n<p><code>perl -i -0777 -pe 's/(?&lt;=localhost\\/)(?&lt;=localhost:XXXX\\/)[\\S&amp;[^?]]*(?=[?\\s\\Z]?)/XXXX/g' file;</code></p></li>\n</ul>\n\n<p>The second regex did not replace the user name... any idea what is wrong?</p>\n\n<p>Also, is there a simple way to take into account the case when it's the last line, which may not end in a whitespace such as newline.</p>\n"}, {"tags": ["bash", "perl", "awk", "sed", "grep"], "comments": [{"owner": {"reputation": 3641, "user_id": 3139595, "user_type": "registered", "accept_rate": 78, "profile_image": "https://i.stack.imgur.com/r1GRx.png?s=128&g=1", "display_name": "Edwin O.", "link": "https://stackoverflow.com/users/3139595/edwin-o"}, "edited": false, "score": 2, "creation_date": 1514681271, "post_id": 48039074, "comment_id": 83048558, "body": "did you do some basic googling? e.g this might be helpful <a href=\"https://unix.stackexchange.com/questions/344541/easiest-way-to-rearrange-columns-and-manipulate-text-file\" title=\"easiest way to rearrange columns and manipulate text file\">unix.stackexchange.com/questions/344541/&hellip;</a>"}, {"owner": {"reputation": 68617, "user_id": 3776858, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/juunm.png?s=128&g=1", "display_name": "Cyrus", "link": "https://stackoverflow.com/users/3776858/cyrus"}, "edited": false, "score": 4, "creation_date": 1514682536, "post_id": 48039074, "comment_id": 83048730, "body": "Please add your coding efforts to your question."}], "answers": [{"tags": [], "owner": {"reputation": 68617, "user_id": 3776858, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/juunm.png?s=128&g=1", "display_name": "Cyrus", "link": "https://stackoverflow.com/users/3776858/cyrus"}, "is_accepted": true, "score": 2, "last_activity_date": 1514682160, "creation_date": 1514682160, "answer_id": 48039143, "question_id": 48039074, "link": "https://stackoverflow.com/questions/48039074/how-can-i-manipulate-text-in-bash/48039143#48039143", "title": "How can I manipulate text in bash?", "body": "<p>With awk:</p>\n\n<pre><code>awk 'BEGIN{FS=\"[ ,]\"; OFS=\",\"} {for (i=2; i&lt;=NF; i++) print $i,$1}' file\n</code></pre>\n\n<p>Output:</p>\n\n<pre>\nfoo,ted\nbar,ted\nzoo,ted\nket,john\nben,john\n</pre>\n\n<hr>\n\n<p>See: <a href=\"https://www.thegeekstuff.com/2010/01/8-powerful-awk-built-in-variables-fs-ofs-rs-ors-nr-nf-filename-fnr/\" rel=\"nofollow noreferrer\">8 Powerful Awk Built-in Variables \u2013 <strong>FS</strong>, <strong>OFS</strong>, RS, ORS, NR, <strong>NF</strong>, FILENAME, FNR</a></p>\n"}], "owner": {"reputation": 63, "user_id": 7522213, "user_type": "registered", "accept_rate": 80, "profile_image": "https://www.gravatar.com/avatar/5f2e650fc4ecee497225e18528f47290?s=128&d=identicon&r=PG&f=1", "display_name": "Tenah", "link": "https://stackoverflow.com/users/7522213/tenah"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 81, "favorite_count": 0, "closed_date": 1514690607, "accepted_answer_id": 48039143, "answer_count": 1, "score": -6, "last_activity_date": 1514682160, "creation_date": 1514680980, "question_id": 48039074, "link": "https://stackoverflow.com/questions/48039074/how-can-i-manipulate-text-in-bash", "closed_reason": "Needs details or clarity", "title": "How can I manipulate text in bash?", "body": "<p>How can I manipulate text in bash using either awk, grep, perl or sed? </p>\n\n<p>Input:</p>\n\n<pre><code>ted foo,bar,zoo\njohn ket,ben\n</code></pre>\n\n<p>Expected Output:</p>\n\n<pre><code>foo,ted\nbar,ted\nzoo,ted\nket,john\nben,john\n</code></pre>\n"}, {"tags": ["perl", "perlbrew"], "answers": [{"comments": [{"owner": {"reputation": 5937, "user_id": 783314, "user_type": "registered", "accept_rate": 67, "profile_image": "https://www.gravatar.com/avatar/b3d5692064779f501f7c2a639dc0076c?s=128&d=identicon&r=PG", "display_name": "Stephen", "link": "https://stackoverflow.com/users/783314/stephen"}, "edited": false, "score": 0, "creation_date": 1514679399, "post_id": 48038640, "comment_id": 83048276, "body": "What is <code>&quot;${PERLBREW_ROOT:-$HOME&#47;perl5&#47;perlbrew}&quot;</code> all about? why not just source /.../perl5/perlbrew/etc/bashrc?"}, {"owner": {"reputation": 5937, "user_id": 783314, "user_type": "registered", "accept_rate": 67, "profile_image": "https://www.gravatar.com/avatar/b3d5692064779f501f7c2a639dc0076c?s=128&d=identicon&r=PG", "display_name": "Stephen", "link": "https://stackoverflow.com/users/783314/stephen"}, "edited": false, "score": 0, "creation_date": 1514679616, "post_id": 48038640, "comment_id": 83048297, "body": "Also you didn&#39;t mention perlbrew init, should I be telling them to run that too?"}, {"owner": {"reputation": 5937, "user_id": 783314, "user_type": "registered", "accept_rate": 67, "profile_image": "https://www.gravatar.com/avatar/b3d5692064779f501f7c2a639dc0076c?s=128&d=identicon&r=PG", "display_name": "Stephen", "link": "https://stackoverflow.com/users/783314/stephen"}, "edited": false, "score": 0, "creation_date": 1514679934, "post_id": 48038640, "comment_id": 83048348, "body": "As for my first comment I don&#39;t understand the syntax of <code>:-</code>"}, {"owner": {"reputation": 320771, "user_id": 589924, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/b2cf53d5a3d25f95c0db4e025aed4153?s=128&d=identicon&r=PG", "display_name": "ikegami", "link": "https://stackoverflow.com/users/589924/ikegami"}, "reply_to_user": {"reputation": 5937, "user_id": 783314, "user_type": "registered", "accept_rate": 67, "profile_image": "https://www.gravatar.com/avatar/b3d5692064779f501f7c2a639dc0076c?s=128&d=identicon&r=PG", "display_name": "Stephen", "link": "https://stackoverflow.com/users/783314/stephen"}, "edited": false, "score": 0, "creation_date": 1514685677, "post_id": 48038640, "comment_id": 83049154, "body": "Re &quot;<i>Also you didn&#39;t mention perlbrew init</i>&quot;, That wasn&#39;t a mistake."}, {"owner": {"reputation": 320771, "user_id": 589924, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/b2cf53d5a3d25f95c0db4e025aed4153?s=128&d=identicon&r=PG", "display_name": "ikegami", "link": "https://stackoverflow.com/users/589924/ikegami"}, "reply_to_user": {"reputation": 5937, "user_id": 783314, "user_type": "registered", "accept_rate": 67, "profile_image": "https://www.gravatar.com/avatar/b3d5692064779f501f7c2a639dc0076c?s=128&d=identicon&r=PG", "display_name": "Stephen", "link": "https://stackoverflow.com/users/783314/stephen"}, "edited": false, "score": 0, "creation_date": 1514685773, "post_id": 48038640, "comment_id": 83049163, "body": "Re &quot;<i>I don&#39;t understand the syntax of <code>:-</code></i>&quot;, It provides a default if <code>PERLBREW_ROOT</code> isn&#39;t set."}, {"owner": {"reputation": 320771, "user_id": 589924, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/b2cf53d5a3d25f95c0db4e025aed4153?s=128&d=identicon&r=PG", "display_name": "ikegami", "link": "https://stackoverflow.com/users/589924/ikegami"}, "reply_to_user": {"reputation": 5937, "user_id": 783314, "user_type": "registered", "accept_rate": 67, "profile_image": "https://www.gravatar.com/avatar/b3d5692064779f501f7c2a639dc0076c?s=128&d=identicon&r=PG", "display_name": "Stephen", "link": "https://stackoverflow.com/users/783314/stephen"}, "edited": false, "score": 0, "creation_date": 1514686104, "post_id": 48038640, "comment_id": 83049201, "body": "Re &quot;<i>why not just source /.../perl5/perlbrew/etc/bashrc?</i>&quot;, Hardcoding the path twice just leads to more problems. If you&#39;re going to set <code>PERLBREW_ROOT</code>, you might as well use it."}], "tags": [], "owner": {"reputation": 320771, "user_id": 589924, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/b2cf53d5a3d25f95c0db4e025aed4153?s=128&d=identicon&r=PG", "display_name": "ikegami", "link": "https://stackoverflow.com/users/589924/ikegami"}, "is_accepted": true, "score": 1, "last_activity_date": 1514686024, "last_edit_date": 1514686024, "creation_date": 1514675358, "answer_id": 48038640, "question_id": 48038135, "link": "https://stackoverflow.com/questions/48038135/sharing-a-perlbrew-installation-among-multiple-users/48038640#48038640", "title": "sharing a perlbrew installation among multiple users", "body": "<p>First of all, pass <code>-Duserelocatableinc</code> to <code>perlbrew</code> when installing a build of Perl to avoid problems that will arrise from differences in the paths used to access the installed <code>perl</code>.</p>\n\n<hr>\n\n<p>If the other users simply want to use one of the <code>perlbrew</code>-installed builds of Perl, they simply need to point the shebang line of their script to the <code>perl</code> inside the <code>perlbrew</code> directory as usual.</p>\n\n<p>For example, if <code>PERLBREW_ROOT</code> is <code>/home/ikegami/usr/perlbrew</code> and the <code>perlbrew</code> label for the install is <code>feed_fetcher</code>, one would use</p>\n\n<pre><code>#!/home/ikegami/usr/perlbrew/perls/feed_fetcher/bin/perl\n</code></pre>\n\n<hr>\n\n<p>If the other users also want to install modules and/or use scripts installed by modules (e.g. Module::CoreList's <code>corelist</code>, Unicode::Tussle's <code>uniprops</code>, etc),  they must also do the following:</p>\n\n<ol>\n<li><p>In their login script, add</p>\n\n<pre><code>export PERLBREW_ROOT=/.../perl5/perlbrew\n</code></pre></li>\n<li><p>In their shell startup script, add</p>\n\n<pre><code>source \"${PERLBREW_ROOT:-$HOME/perl5/perlbrew}\"/etc/bashrc\n</code></pre></li>\n</ol>\n\n<p>You can technically skip the first step, but only if the path hardcoded in <code>etc/bashrc</code> is correct for that user.</p>\n"}], "owner": {"reputation": 5937, "user_id": 783314, "user_type": "registered", "accept_rate": 67, "profile_image": "https://www.gravatar.com/avatar/b3d5692064779f501f7c2a639dc0076c?s=128&d=identicon&r=PG", "display_name": "Stephen", "link": "https://stackoverflow.com/users/783314/stephen"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 477, "favorite_count": 0, "accepted_answer_id": 48038640, "answer_count": 1, "score": 0, "last_activity_date": 1514686024, "creation_date": 1514670219, "question_id": 48038135, "link": "https://stackoverflow.com/questions/48038135/sharing-a-perlbrew-installation-among-multiple-users", "title": "sharing a perlbrew installation among multiple users", "body": "<p>I want to setup a single Perlbrew installation to share among my team, so they don't all have to compile versions of Perl separately. So I set PERLBREW_ROOT and then installed Perlbrew on a network drive. Then I started sourcing the bashrc from my .profile-user file.</p>\n\n<p>So far so good, but I'm not sure what to tell them to do. The documentation says every user needs to run \"perlbrew init\" first, but I never did that myself. Everything I did is in the first paragraph.</p>\n\n<p>At any rate, what steps should I tell them to run?</p>\n"}, {"tags": ["arrays", "perl", "multidimensional-array", "hash", "key"], "comments": [{"owner": {"reputation": 5334, "user_id": 5830574, "user_type": "registered", "accept_rate": 93, "profile_image": "https://i.stack.imgur.com/kCmqs.png?s=128&g=1", "display_name": "PerlDuck", "link": "https://stackoverflow.com/users/5830574/perlduck"}, "edited": false, "score": 1, "creation_date": 1514664786, "post_id": 48036556, "comment_id": 83045198, "body": "Please always add <code>use strict; use warnings;</code> to your scripts to avoid common errors. /// What exactly is your problem? You created a hash that contains <code>{ &#39;10&#39; =&gt; { &#39;20&#39; =&gt; 75 } }</code>. What do want instead?"}, {"owner": {"reputation": 15, "user_id": 9156653, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/cc905a5f7f5e75a67f380a49beeecd6c?s=128&d=identicon&r=PG&f=1", "display_name": "Fatih TEKE", "link": "https://stackoverflow.com/users/9156653/fatih-teke"}, "reply_to_user": {"reputation": 5334, "user_id": 5830574, "user_type": "registered", "accept_rate": 93, "profile_image": "https://i.stack.imgur.com/kCmqs.png?s=128&g=1", "display_name": "PerlDuck", "link": "https://stackoverflow.com/users/5830574/perlduck"}, "edited": false, "score": 0, "creation_date": 1514665807, "post_id": 48036556, "comment_id": 83045455, "body": "at the end of the hashes I want to print   10 : 75 to the screen but I don&#39;t know how to give the referance for this hash.."}, {"owner": {"reputation": 5334, "user_id": 5830574, "user_type": "registered", "accept_rate": 93, "profile_image": "https://i.stack.imgur.com/kCmqs.png?s=128&g=1", "display_name": "PerlDuck", "link": "https://stackoverflow.com/users/5830574/perlduck"}, "edited": false, "score": 0, "creation_date": 1514666303, "post_id": 48036556, "comment_id": 83045558, "body": "Then why do you use a 2-dimensional hash at all? Why not simply <code>$hash{$array[0]}=$sum[0]</code>? That gives <code>{ &#39;10&#39; =&gt; 75 }</code>."}, {"owner": {"reputation": 15, "user_id": 9156653, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/cc905a5f7f5e75a67f380a49beeecd6c?s=128&d=identicon&r=PG&f=1", "display_name": "Fatih TEKE", "link": "https://stackoverflow.com/users/9156653/fatih-teke"}, "reply_to_user": {"reputation": 5334, "user_id": 5830574, "user_type": "registered", "accept_rate": 93, "profile_image": "https://i.stack.imgur.com/kCmqs.png?s=128&g=1", "display_name": "PerlDuck", "link": "https://stackoverflow.com/users/5830574/perlduck"}, "edited": false, "score": 0, "creation_date": 1514666865, "post_id": 48036556, "comment_id": 83045704, "body": "yeah I know that .I taking values from a text and put an array.Then making this array a two dimensional hash with two key which first element of the array is first key and second element as second key .Then I&#39;m gonna print it .That&#39;s what I&#39;m trying to do .."}, {"owner": {"reputation": 946, "user_id": 1765406, "user_type": "registered", "accept_rate": 0, "profile_image": "https://i.stack.imgur.com/Koqta.jpg?s=128&g=1", "display_name": "vanHoesel", "link": "https://stackoverflow.com/users/1765406/vanhoesel"}, "edited": false, "score": 1, "creation_date": 1514718953, "post_id": 48036556, "comment_id": 83054543, "body": "Welcome to the world of computer programming! --- As you may have noticed Borodin and ikegami have tried to help you out on an incomplete problem description. Usually these two people are excellent in understanding the problem from half questions and are willing to take you through steps to clarify things. --- And I am stupid enough to give it another try - and I know <b><i>not</i></b> better than them!!!"}, {"owner": {"reputation": 5334, "user_id": 5830574, "user_type": "registered", "accept_rate": 93, "profile_image": "https://i.stack.imgur.com/kCmqs.png?s=128&g=1", "display_name": "PerlDuck", "link": "https://stackoverflow.com/users/5830574/perlduck"}, "edited": false, "score": 0, "creation_date": 1514730933, "post_id": 48036556, "comment_id": 83057426, "body": "In case you accidentally created this account in addition to <a href=\"https://stackoverflow.com/users/8881692/fatih-teke\">this one</a> then please <a href=\"https://stackoverflow.com/help/merging-accounts\">follow these instructions</a> to merge them."}], "answers": [{"comments": [{"owner": {"reputation": 15, "user_id": 9156653, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/cc905a5f7f5e75a67f380a49beeecd6c?s=128&d=identicon&r=PG&f=1", "display_name": "Fatih TEKE", "link": "https://stackoverflow.com/users/9156653/fatih-teke"}, "edited": false, "score": 0, "creation_date": 1514669078, "post_id": 48037878, "comment_id": 83046270, "body": "thank for interest but I already did with one key also I want to create with two key .. your code just have one key .."}, {"owner": {"reputation": 320771, "user_id": 589924, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/b2cf53d5a3d25f95c0db4e025aed4153?s=128&d=identicon&r=PG", "display_name": "ikegami", "link": "https://stackoverflow.com/users/589924/ikegami"}, "reply_to_user": {"reputation": 15, "user_id": 9156653, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/cc905a5f7f5e75a67f380a49beeecd6c?s=128&d=identicon&r=PG&f=1", "display_name": "Fatih TEKE", "link": "https://stackoverflow.com/users/9156653/fatih-teke"}, "edited": false, "score": 0, "creation_date": 1514669896, "post_id": 48037878, "comment_id": 83046462, "body": "As it should. There&#39;s no point in creating a more complicated data structure than needed."}, {"owner": {"reputation": 15, "user_id": 9156653, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/cc905a5f7f5e75a67f380a49beeecd6c?s=128&d=identicon&r=PG&f=1", "display_name": "Fatih TEKE", "link": "https://stackoverflow.com/users/9156653/fatih-teke"}, "edited": false, "score": 0, "creation_date": 1514670394, "post_id": 48037878, "comment_id": 83046574, "body": "chris : HASH(0x5581f6193078)     my output seems like that I&#39;m writing the same why getting me the hash result.."}, {"owner": {"reputation": 15, "user_id": 9156653, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/cc905a5f7f5e75a67f380a49beeecd6c?s=128&d=identicon&r=PG&f=1", "display_name": "Fatih TEKE", "link": "https://stackoverflow.com/users/9156653/fatih-teke"}, "edited": false, "score": 1, "creation_date": 1514671177, "post_id": 48037878, "comment_id": 83046748, "body": "my program will accept two unsorted files. Each file contains  4 columns separated by space. The first column is the name(string). Rest of the columns (3 columns) are integers representing the grades. Load the first file into a two-dimensional hash data structure with the sum of the integers(total grade) as the second dimension key and the name"}, {"owner": {"reputation": 320771, "user_id": 589924, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/b2cf53d5a3d25f95c0db4e025aed4153?s=128&d=identicon&r=PG", "display_name": "ikegami", "link": "https://stackoverflow.com/users/589924/ikegami"}, "reply_to_user": {"reputation": 15, "user_id": 9156653, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/cc905a5f7f5e75a67f380a49beeecd6c?s=128&d=identicon&r=PG&f=1", "display_name": "Fatih TEKE", "link": "https://stackoverflow.com/users/9156653/fatih-teke"}, "edited": false, "score": 1, "creation_date": 1514671217, "post_id": 48037878, "comment_id": 83046756, "body": "If there&#39;s a problem with your question, fix it. Feel free to let me know when you&#39;ve done that by leaving a comment here."}], "tags": [], "owner": {"reputation": 320771, "user_id": 589924, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/b2cf53d5a3d25f95c0db4e025aed4153?s=128&d=identicon&r=PG", "display_name": "ikegami", "link": "https://stackoverflow.com/users/589924/ikegami"}, "is_accepted": false, "score": 0, "last_activity_date": 1514668171, "last_edit_date": 1514668171, "creation_date": 1514667849, "answer_id": 48037878, "question_id": 48036556, "link": "https://stackoverflow.com/questions/48036556/how-to-assign-array-variable-as-a-hash/48037878#48037878", "title": "How to assign array variable as a hash?", "body": "<ul>\n<li>Always use <code>use strict; use warnings qw( all );</code>!!! </li>\n<li>There's only one sum (at a time), so don't need an array.</li>\n<li>There's no need for a hash of hash; a simple hash will do.</li>\n</ul>\n\n<p>Fixed:</p>\n\n<pre><code>use strict;\nuse warnings qw( all );\n\nuse List::Util qw( sum );\n\n\nmy %hash;\nwhile (...) {\n   my @nums = ...;\n   $hash{ $nums[0] } = sum(@nums);\n}\n\nfor (sort { $a &lt;=&gt; $b } keys(%hash)) {\n   print(\"$_: $hash{$_}\\n\");\n}\n</code></pre>\n"}, {"comments": [{"owner": {"reputation": 15, "user_id": 9156653, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/cc905a5f7f5e75a67f380a49beeecd6c?s=128&d=identicon&r=PG&f=1", "display_name": "Fatih TEKE", "link": "https://stackoverflow.com/users/9156653/fatih-teke"}, "edited": false, "score": 0, "creation_date": 1514669263, "post_id": 48038008, "comment_id": 83046305, "body": "yes I can do like that but I want to use this for big files so I can&#39;t write hashes like that I have to write like array[1] and array[2] for keys ... how can I take it like that.. ?"}, {"owner": {"reputation": 15, "user_id": 9156653, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/cc905a5f7f5e75a67f380a49beeecd6c?s=128&d=identicon&r=PG&f=1", "display_name": "Fatih TEKE", "link": "https://stackoverflow.com/users/9156653/fatih-teke"}, "edited": false, "score": 1, "creation_date": 1514669500, "post_id": 48038008, "comment_id": 83046362, "body": "think like that I have a file that contains     chris 10 34 56    values .And I want take tehm as an array then make two dimensinol hash with two key.As chris=first key and sum of the numbers=second key then \u0131 want to print chris=sum of tree numbers .."}, {"owner": {"reputation": 123805, "user_id": 622310, "user_type": "registered", "accept_rate": 33, "profile_image": "https://www.gravatar.com/avatar/8b6d35219e1808520bc238b28161e2e6?s=128&d=identicon&r=PG", "display_name": "Borodin", "link": "https://stackoverflow.com/users/622310/borodin"}, "reply_to_user": {"reputation": 15, "user_id": 9156653, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/cc905a5f7f5e75a67f380a49beeecd6c?s=128&d=identicon&r=PG&f=1", "display_name": "Fatih TEKE", "link": "https://stackoverflow.com/users/9156653/fatih-teke"}, "edited": false, "score": 0, "creation_date": 1514669636, "post_id": 48038008, "comment_id": 83046394, "body": "@Fatih: Yes, I imagined that you had more than one line of data, but your example is overly trivial. If you show only one line then we can&#39;t see how it&#39;s supposed to scale. Please show several more lines of data together with the corresponding output that you want. If the send key <code>20</code> is never used then there&#39;s no reason to store it in the hash."}, {"owner": {"reputation": 123805, "user_id": 622310, "user_type": "registered", "accept_rate": 33, "profile_image": "https://www.gravatar.com/avatar/8b6d35219e1808520bc238b28161e2e6?s=128&d=identicon&r=PG", "display_name": "Borodin", "link": "https://stackoverflow.com/users/622310/borodin"}, "reply_to_user": {"reputation": 15, "user_id": 9156653, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/cc905a5f7f5e75a67f380a49beeecd6c?s=128&d=identicon&r=PG&f=1", "display_name": "Fatih TEKE", "link": "https://stackoverflow.com/users/9156653/fatih-teke"}, "edited": false, "score": 0, "creation_date": 1514670655, "post_id": 48038008, "comment_id": 83046639, "body": "@Faith: You really need to explain why you think you need <code>$array[2]</code> as a hash key at all. In your code, the sum of the numbers is the <i>hash value</i>, and it looks like you need only one key."}, {"owner": {"reputation": 15, "user_id": 9156653, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/cc905a5f7f5e75a67f380a49beeecd6c?s=128&d=identicon&r=PG&f=1", "display_name": "Fatih TEKE", "link": "https://stackoverflow.com/users/9156653/fatih-teke"}, "edited": false, "score": 0, "creation_date": 1514670830, "post_id": 48038008, "comment_id": 83046671, "body": "yes I can keep values with one key either but I want to keep with two key .. I&#39;m already done with the one key .."}, {"owner": {"reputation": 15, "user_id": 9156653, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/cc905a5f7f5e75a67f380a49beeecd6c?s=128&d=identicon&r=PG&f=1", "display_name": "Fatih TEKE", "link": "https://stackoverflow.com/users/9156653/fatih-teke"}, "edited": false, "score": 0, "creation_date": 1514671392, "post_id": 48038008, "comment_id": 83046799, "body": "my program will accept two unsorted files. Each file contains 4 columns separated by space. The first column is the name(string). Rest of the columns (3 columns) are integers representing the grades. Load the first file into a two-dimensional hash data structure with the sum of the integers(total grade) as the second dimension key and the name"}, {"owner": {"reputation": 123805, "user_id": 622310, "user_type": "registered", "accept_rate": 33, "profile_image": "https://www.gravatar.com/avatar/8b6d35219e1808520bc238b28161e2e6?s=128&d=identicon&r=PG", "display_name": "Borodin", "link": "https://stackoverflow.com/users/622310/borodin"}, "reply_to_user": {"reputation": 15, "user_id": 9156653, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/cc905a5f7f5e75a67f380a49beeecd6c?s=128&d=identicon&r=PG&f=1", "display_name": "Fatih TEKE", "link": "https://stackoverflow.com/users/9156653/fatih-teke"}, "edited": false, "score": 0, "creation_date": 1514671679, "post_id": 48038008, "comment_id": 83046855, "body": "@Fatih: What&#39;s that, your homework question? You <i>still need to explain</i> why you want to use the sum as a second hash key, and now we don&#39;t know what the value should be. You won&#39;t get better answers if you don&#39;t explain things better. Please <i>edit your question</i> to add information instead of putting it into comments."}, {"owner": {"reputation": 15, "user_id": 9156653, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/cc905a5f7f5e75a67f380a49beeecd6c?s=128&d=identicon&r=PG&f=1", "display_name": "Fatih TEKE", "link": "https://stackoverflow.com/users/9156653/fatih-teke"}, "edited": false, "score": 0, "creation_date": 1514672131, "post_id": 48038008, "comment_id": 83046966, "body": "I need second hash key because after done with the one key \u0131&#39;m gonna extend the file like the same name same sum but different values..If I do that with the one key they will be all same keys but result should be different right?"}, {"owner": {"reputation": 123805, "user_id": 622310, "user_type": "registered", "accept_rate": 33, "profile_image": "https://www.gravatar.com/avatar/8b6d35219e1808520bc238b28161e2e6?s=128&d=identicon&r=PG", "display_name": "Borodin", "link": "https://stackoverflow.com/users/622310/borodin"}, "reply_to_user": {"reputation": 15, "user_id": 9156653, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/cc905a5f7f5e75a67f380a49beeecd6c?s=128&d=identicon&r=PG&f=1", "display_name": "Fatih TEKE", "link": "https://stackoverflow.com/users/9156653/fatih-teke"}, "edited": false, "score": 1, "creation_date": 1514672304, "post_id": 48038008, "comment_id": 83047001, "body": "@Fatih: Wrong. But it&#39;s impossible to tell what your real requirement is because you just won&#39;t give us any information. I&#39;m voting to close your question."}], "tags": [], "owner": {"reputation": 123805, "user_id": 622310, "user_type": "registered", "accept_rate": 33, "profile_image": "https://www.gravatar.com/avatar/8b6d35219e1808520bc238b28161e2e6?s=128&d=identicon&r=PG", "display_name": "Borodin", "link": "https://stackoverflow.com/users/622310/borodin"}, "is_accepted": false, "score": 2, "last_activity_date": 1514669090, "creation_date": 1514669090, "answer_id": 48038008, "question_id": 48036556, "link": "https://stackoverflow.com/questions/48036556/how-to-assign-array-variable-as-a-hash/48038008#48038008", "title": "How to assign array variable as a hash?", "body": "<p>You've set</p>\n\n<pre><code>$hash{$array[0]}{$array[2]} = $sum[0]\n</code></pre>\n\n<p>which with the given values is</p>\n\n<pre><code>$hash{10}{20} = 75\n</code></pre>\n\n<p>If you want to print <code>10 : 75</code> from the hash then you need to write</p>\n\n<pre><code>printf \"%d : %d\\n\",10, $hash{10}{20}\n</code></pre>\n\n<p>And while I'm sure you want something more general than that, you really haven't given enough information</p>\n"}, {"comments": [{"owner": {"reputation": 5334, "user_id": 5830574, "user_type": "registered", "accept_rate": 93, "profile_image": "https://i.stack.imgur.com/kCmqs.png?s=128&g=1", "display_name": "PerlDuck", "link": "https://stackoverflow.com/users/5830574/perlduck"}, "edited": false, "score": 0, "creation_date": 1514731446, "post_id": 48041976, "comment_id": 83057563, "body": "You don&#39;t use <code>$filename_2</code>. I don&#39;t think it makes a difference, though. It&#39;s totally unclear what data structure the OP really wants and his comments don&#39;t help either. I, for example, now think the structure he asks for is <code>$sums_and_names{$name}{$sum}</code> (keys swapped). We just don&#39;t know. He should show the desired output (in a Data::Dumper or JSON format), but he refuses that."}, {"owner": {"reputation": 946, "user_id": 1765406, "user_type": "registered", "accept_rate": 0, "profile_image": "https://i.stack.imgur.com/Koqta.jpg?s=128&g=1", "display_name": "vanHoesel", "link": "https://stackoverflow.com/users/1765406/vanhoesel"}, "reply_to_user": {"reputation": 5334, "user_id": 5830574, "user_type": "registered", "accept_rate": 93, "profile_image": "https://i.stack.imgur.com/kCmqs.png?s=128&g=1", "display_name": "PerlDuck", "link": "https://stackoverflow.com/users/5830574/perlduck"}, "edited": false, "score": 0, "creation_date": 1514733385, "post_id": 48041976, "comment_id": 83058061, "body": "of course I know I was not using <code>$filename_2</code>, but that is what it said in his last description &quot;... accept two unsorted files.&quot; --- I intentionally left it there and tried to show that it is a badly described question and that the OP should rethink how he asks it next time. --- I could actually have added some checking that one did pass in two filenames"}, {"owner": {"reputation": 15, "user_id": 9156653, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/cc905a5f7f5e75a67f380a49beeecd6c?s=128&d=identicon&r=PG&f=1", "display_name": "Fatih TEKE", "link": "https://stackoverflow.com/users/9156653/fatih-teke"}, "edited": false, "score": 0, "creation_date": 1514733563, "post_id": 48041976, "comment_id": 83058124, "body": "yeah that&#39;s work my document exactly similar with it.Sorry I could&#39;t share the code because I couldn&#39;t have the permission for it.I just couldn&#39;t understand what I&#39;m doing wrong and with your example I got it .Thank you .I was giving hash references not a value."}], "tags": [], "owner": {"reputation": 946, "user_id": 1765406, "user_type": "registered", "accept_rate": 0, "profile_image": "https://i.stack.imgur.com/Koqta.jpg?s=128&g=1", "display_name": "vanHoesel", "link": "https://stackoverflow.com/users/1765406/vanhoesel"}, "is_accepted": true, "score": 0, "last_activity_date": 1514718800, "creation_date": 1514718800, "answer_id": 48041976, "question_id": 48036556, "link": "https://stackoverflow.com/questions/48036556/how-to-assign-array-variable-as-a-hash/48041976#48041976", "title": "How to assign array variable as a hash?", "body": "<p>From the description you gave to @ikegami \u00abmy program will accept ...\u00bb I created a file that would have the data:</p>\n\n<p><em>data_1.txt</em>:</p>\n\n<pre><code>john 10 45 20\nalex 30 15 12\npete 23 45 10 21\nwill 06 56\nbob   8 12  3\nlazy \n</code></pre>\n\n<p>note that only the first two lines actually match the description, I'll come back to that later.</p>\n\n<p><em>sum.pl</em>:</p>\n\n<pre><code>use strict;\nuse warnings;\n\nuse List::Util 'sum';\n\n# get the two filenames it should work with\n#\nmy $filename_1 = shift;\nmy $filename_2 = shift;\n\n# be sure we read a file for most modern systems, UTF-8\n#\nopen( my $file1, '&lt;:encoding(UTF-8)', $filename_1)\n    or die \"Can't open file: $filename_1\";\n\n# create the (empty) data structure\n#\nmy %sums_and_names;\n#\n# the % in perl means you are talking about a hash,\n# use a sensible name instead of 'hash'\n\n# read line by line\nwhile ( my $line = &lt;$file1&gt; ) {\n\n    chomp $line; # get rid of the line endings\n    my ($name, @grades) = split ' ', $line;\n    #\n    # this is not strictly doing what you asked for, just more flexible\n    #\n    # split on ' ', a space character, splits on any asmount of (white) space\n    # your task said that there is one space.\n    # strictly, you could should split on / /, the regular expression\n    #\n    # the first part will go into the variable $name, the rest in array @grades\n    # strictly you have only three grades so the following would do\n    # my ($name, $grade_1, $grade_2, $grade_3) = split / /, $line;\n\n    my $sum = sum(@grades) // 'no grades';\n    #\n    # since we now can handle any number of grades, not just three, we could\n    # have no grades at all and thus result in `undef`\n    #\n    # using the function sum0 would return the value 0 instead\n    #\n    # you'll get away with the `undef` using in a hash assignment,\n    # it will turn it into an empty string `''`\n\n=pod\n\n    $sums_and_names{foo}{bar} = [ 'baz', 'qux' ];\n\n=cut\n\n    #\n    # here is where your task doesn't make sense\n    # i am guessing:\n    #\n    $sums_and_names{$sum}{$name} = \\@grades;\n    #\n    # at least we have all the data from filename_1, and the sum of the grades\n\n}\n\n# please decide on what you want to print\n\nuse Data::Dumper;\nprint Dumper \\%sums_and_names;\n</code></pre>\n\n<p>and running <code>perl sum.pl data_1.txt data_2.txt</code> will give you something like</p>\n\n<p><em>output</em>:</p>\n\n<pre><code>$VAR1 = {\n          'no grades' =&gt; {\n                    'lazy' =&gt; []\n                         },\n          '23' =&gt; {\n                    'bob'  =&gt; [\n                                '8',\n                                '12',\n                                '3'\n                              ]\n                  },\n          '57' =&gt; {\n                    'alex' =&gt; [\n                                '30',\n                                '15',\n                                '12'\n                              ]\n                  },\n          '62' =&gt; {\n                    'will' =&gt; [\n                                '06',\n                                '56'\n                              ]\n                  },\n          '75' =&gt; {\n                    'john' =&gt; [\n                                '10',\n                                '45',\n                                '20'\n                              ]\n                  },\n          '99' =&gt; {\n                    'pete' =&gt; [\n                                 '23',\n                                 '45',\n                                 '10',\n                                 '21'\n                               ]\n                   }\n        };\n</code></pre>\n\n<p>please note, strictly the block inside the while loop could had been written as:</p>\n\n<pre><code>    chomp $line;\n    my ($name, $grade_1, $grade_2, $grade_3) = split / /, $line;\n    $sum = $grade_1 + $grade_2 + $grade_3;\n    $sums_and_names{$sum}{$name} = [ $grade_1, $grade_2, $grade_3 ];\n</code></pre>\n\n<p>but I quote from @Borodin:</p>\n\n<blockquote>\n  <p>And while I'm sure you want something more general than that, you really haven't given enough information</p>\n</blockquote>\n"}], "owner": {"reputation": 15, "user_id": 9156653, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/cc905a5f7f5e75a67f380a49beeecd6c?s=128&d=identicon&r=PG&f=1", "display_name": "Fatih TEKE", "link": "https://stackoverflow.com/users/9156653/fatih-teke"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 109, "favorite_count": 0, "accepted_answer_id": 48041976, "answer_count": 3, "score": -2, "last_activity_date": 1514718800, "creation_date": 1514657021, "last_edit_date": 1514667741, "question_id": 48036556, "link": "https://stackoverflow.com/questions/48036556/how-to-assign-array-variable-as-a-hash", "title": "How to assign array variable as a hash?", "body": "<p>I'm trying to print this hash. As <code>key1</code> is the <code>array[0]</code>, <code>key2</code> is <code>array[2]</code> and <code>$sum[0]</code> is the value. But the has does not work. What I'm doing wrong?  </p>\n\n<pre><code>@array=(10,45,20);\n\n@sum=($array[0]+$array[1]+$array[2]);\n\n%hash;\n\n$hash{$array[0]}{$array[2]}=$sum[0]\n</code></pre>\n\n<p>At the end of the hashes I want to print <code>10 : 75</code> to the screen.</p>\n"}, {"tags": ["perl"], "comments": [{"owner": {"reputation": 18942, "user_id": 894328, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/3db17c5296335f63e856be44aa821bf6?s=128&d=identicon&r=PG", "display_name": "Ahmed Masud", "link": "https://stackoverflow.com/users/894328/ahmed-masud"}, "edited": false, "score": 0, "creation_date": 1514654655, "post_id": 48036197, "comment_id": 83042400, "body": "there are no good alternatives, which is why backslashes exist. :P"}, {"owner": {"reputation": 123805, "user_id": 622310, "user_type": "registered", "accept_rate": 33, "profile_image": "https://www.gravatar.com/avatar/8b6d35219e1808520bc238b28161e2e6?s=128&d=identicon&r=PG", "display_name": "Borodin", "link": "https://stackoverflow.com/users/622310/borodin"}, "edited": false, "score": 0, "creation_date": 1514668513, "post_id": 48036197, "comment_id": 83046155, "body": "One-liners are much harder to get right than proper program files, with <code>use strict</code>, <code>use warnings</code> and proper variable declarations in place. I honestly don&#39;t see any reason ever to write one-line Perl program except that it is part of the Linux culture with throw-away piped bash command chains, and it is certainly not a good place to start learning the language. Put your Perl in a file and run it from an IDE: it will be very much simpler to understand and debug, much less likely to get you into bad coding habits, and the code will remain on disk for you to to open and run again if necessary"}], "answers": [{"comments": [{"owner": {"reputation": 638, "user_id": 2116081, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/f8063968396b1387924cee71c29ef4d6?s=128&d=identicon&r=PG", "display_name": "SigmaPiEpsilon", "link": "https://stackoverflow.com/users/2116081/sigmapiepsilon"}, "edited": false, "score": 0, "creation_date": 1514655717, "post_id": 48036301, "comment_id": 83042699, "body": "So only the presence of <code>$</code> would be a problem? If there are any other sequence of special characters like <code>(~^</code> it should work, right?"}, {"owner": {"reputation": 320771, "user_id": 589924, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/b2cf53d5a3d25f95c0db4e025aed4153?s=128&d=identicon&r=PG", "display_name": "ikegami", "link": "https://stackoverflow.com/users/589924/ikegami"}, "reply_to_user": {"reputation": 638, "user_id": 2116081, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/f8063968396b1387924cee71c29ef4d6?s=128&d=identicon&r=PG", "display_name": "SigmaPiEpsilon", "link": "https://stackoverflow.com/users/2116081/sigmapiepsilon"}, "edited": false, "score": 0, "creation_date": 1514655805, "post_id": 48036301, "comment_id": 83042721, "body": "<code>@</code> can also start interpolation. You also can&#39;t escape the delimiter that way."}], "tags": [], "owner": {"reputation": 320771, "user_id": 589924, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/b2cf53d5a3d25f95c0db4e025aed4153?s=128&d=identicon&r=PG", "display_name": "ikegami", "link": "https://stackoverflow.com/users/589924/ikegami"}, "is_accepted": true, "score": 1, "last_activity_date": 1514655588, "last_edit_date": 1514655588, "creation_date": 1514655261, "answer_id": 48036301, "question_id": 48036197, "link": "https://stackoverflow.com/questions/48036197/perl-regex-directly-escaping-special-characters/48036301#48036301", "title": "Perl regex directly escaping special characters", "body": "<p>Interpolation happens first, then <code>\\Q</code>, <code>\\U</code>, <code>\\u</code>, <code>\\L</code> and <code>\\l</code>.</p>\n\n<p>That means</p>\n\n<pre><code>\"abc\\Qdef$ghi!jkl\\Emno\"\n</code></pre>\n\n<p>is equivalent to</p>\n\n<pre><code>\"abc\" . quotemeta(\"def\" . $ghi . \"!jkl\") . \"mno\"\n</code></pre>\n\n<p>So,</p>\n\n<pre><code>s/\\Q$~^/Two/    # not ok   quotemeta($~ . \"^\")\ns/\\Q$Sub/Two/   # ok\ns/\\$\\~\\^/Two/   # ok\ns/\\$\\Q~^/Two/   # ok\n</code></pre>\n"}], "owner": {"reputation": 638, "user_id": 2116081, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/f8063968396b1387924cee71c29ef4d6?s=128&d=identicon&r=PG", "display_name": "SigmaPiEpsilon", "link": "https://stackoverflow.com/users/2116081/sigmapiepsilon"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 68, "favorite_count": 0, "accepted_answer_id": 48036301, "answer_count": 1, "score": 0, "last_activity_date": 1514655588, "creation_date": 1514654506, "question_id": 48036197, "link": "https://stackoverflow.com/questions/48036197/perl-regex-directly-escaping-special-characters", "title": "Perl regex directly escaping special characters", "body": "<p>A perl beginner here. I have been working on some simple one-liners to find and replace text in a file. I read about escaping all special characters with <code>\\Q\\E</code> or <code>quotemeta()</code> but found this only works when interpolating a variable. For example when I try to replace the part containing special characters directly, it fails. But when I store it in a scalar first it works. Of course, if I escape all the special character in backslashes it also works.</p>\n\n<pre><code>$ echo 'One$~^Three' | perl -pe 's/\\Q$~^\\E/Two/'\nOne$~^Three\n$ echo 'One$~^Three' | perl -pe '$Sub=q($~^); s/\\Q$Sub\\E/Two/'\nOneTwoThree\n$ echo 'One$~^Three' | perl -pe 's/\\$\\~\\^/Two/'\nOneTwoThree\n</code></pre>\n\n<p>Can anyone explain this behavior and also show if any alternative exists that can directly quote special characters without using backslashes?</p>\n"}, {"tags": ["perl", "cookies"], "comments": [{"owner": {"reputation": 1228, "user_id": 4709524, "user_type": "registered", "accept_rate": 77, "profile_image": "https://i.stack.imgur.com/wGrTV.jpg?s=128&g=1", "display_name": "beasy", "link": "https://stackoverflow.com/users/4709524/beasy"}, "edited": false, "score": 0, "creation_date": 1514655481, "post_id": 48035297, "comment_id": 83042639, "body": "<code>sort</code> operates on a list. Your <code>$cookie</code> var is a string, so there&#39;s nothing to sort. If you wanted to sort the data by the key names you would do <code>my @sorted = sort(split &#39;;&#39;, $cookie)</code>. However, this is a bit irrrelevant to what you want to do, which is to identify the parts of the data."}], "answers": [{"comments": [{"owner": {"reputation": 3, "user_id": 9156257, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/716a1ea87b2a1751c9451b12e18929ed?s=128&d=identicon&r=PG&f=1", "display_name": "Mookie Fox", "link": "https://stackoverflow.com/users/9156257/mookie-fox"}, "edited": false, "score": 0, "creation_date": 1514665905, "post_id": 48036265, "comment_id": 83045471, "body": "Thanks, this is exactly what I&#39;m aiming for. However, I am still failing to collect the values of other keys. print $hash{palace} prints nothing while $hash{level} works fine however, I can confirm everything is correct via dumper. Can i only print out the last value?"}, {"owner": {"reputation": 1228, "user_id": 4709524, "user_type": "registered", "accept_rate": 77, "profile_image": "https://i.stack.imgur.com/wGrTV.jpg?s=128&g=1", "display_name": "beasy", "link": "https://stackoverflow.com/users/4709524/beasy"}, "reply_to_user": {"reputation": 3, "user_id": 9156257, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/716a1ea87b2a1751c9451b12e18929ed?s=128&d=identicon&r=PG&f=1", "display_name": "Mookie Fox", "link": "https://stackoverflow.com/users/9156257/mookie-fox"}, "edited": false, "score": 0, "creation_date": 1514697128, "post_id": 48036265, "comment_id": 83050769, "body": "Edited to account for whitespace / newlines in the string"}], "tags": [], "owner": {"reputation": 1228, "user_id": 4709524, "user_type": "registered", "accept_rate": 77, "profile_image": "https://i.stack.imgur.com/wGrTV.jpg?s=128&g=1", "display_name": "beasy", "link": "https://stackoverflow.com/users/4709524/beasy"}, "is_accepted": true, "score": 0, "last_activity_date": 1514696844, "last_edit_date": 1514696844, "creation_date": 1514655088, "answer_id": 48036265, "question_id": 48035297, "link": "https://stackoverflow.com/questions/48035297/sorting-a-web-cookie-env/48036265#48036265", "title": "sorting a web cookie env", "body": "<p>You can use a <code>hash</code> to record the cookie key names as hash keys, by spltting the data twice: once on ';' and then again on '='</p>\n\n<pre><code>my @parts = split /;\\s*/, $cookie;\nmy %hash;\nfor my $part (@parts) {\n    my ($key,$val) = split /=/, $part;\n    $hash{$key} = $val;\n}\n</code></pre>\n\n<p>Here's a more concise version. You can do this because a hash can be expressed as a list of key-value pairs. </p>\n\n<pre><code>my %hash = map {split /=/, $_} split /;\\s*/, $cookie;    \n</code></pre>\n\n<p>Access the values like: <code>print $hash{level}.\"\\n\"</code></p>\n"}], "owner": {"reputation": 3, "user_id": 9156257, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/716a1ea87b2a1751c9451b12e18929ed?s=128&d=identicon&r=PG&f=1", "display_name": "Mookie Fox", "link": "https://stackoverflow.com/users/9156257/mookie-fox"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 110, "favorite_count": 0, "accepted_answer_id": 48036265, "answer_count": 1, "score": -1, "last_activity_date": 1514696844, "creation_date": 1514647902, "question_id": 48035297, "link": "https://stackoverflow.com/questions/48035297/sorting-a-web-cookie-env", "title": "sorting a web cookie env", "body": "<p>I am currently messing around with Perl and web cookies. I'm collecting information from the HTTP_COOKIE environment variable however I am stuck on how I can sort the results. </p>\n\n<p>The simple \"sort { $cookie }\" is just fine for me, however when using the split function I'm stuck. Is there any way to sort the array?</p>\n\n<p>Collecting the data:</p>\n\n<pre><code>sub netcookie {;\nmy $cookie = $ENV{'HTTP_COOKIE'};\n#foxcookie \n};\n\nmy $cookie = netcookie();\n</code></pre>\n\n<p>I have a dynamic loading website which loads a temple file based on the \"level\" value of the cookie. </p>\n\n<p>When user passes authentication the cookie gets updated with the stamp, sprite and palace and so the cookie looks like this:</p>\n\n<pre><code>HTTP_COOKIE \nstamp=stamps/stamp.0.113646176072308; \nsprite=stamps/sprite.0.385163302390964; \npalace=stamps/palace.0.57031374346893;     \nlevel=5.0:Palace; \nmagic=palace.pixc\n</code></pre>\n\n<p>Prior to this, the cookie looks like this which can be easily mapped to $level and $magic</p>\n\n<pre><code>HTTP_COOKIE \nlevel=2.3:FoxCookie; \nmagic=foxcookie.pixc;\n</code></pre>\n\n<p>the code im using is:</p>\n\n<pre><code>my ($level,$magic,$stamp,$sprite,$palace) = split ';', $cookie; \n#split $cookie in to variables delimited by ;\n</code></pre>\n\n<p>However due to additional cookie values I add later, $level no longer becomes $level and ends up just becoming all mixed. </p>\n\n<p>If sort(blah) isn't really viable what would be the next best way?</p>\n\n<pre><code>if ($level =~ 'level=5.0:Palace') \n#If the cookie contains level palace\n{\nprint \"Welcome to the TeddyPortal of the CrystalForest Palace\";\nrawr::fountain::magic(\"$level\",\"$magic\");\n}\n</code></pre>\n\n<p>I've tried such:</p>\n\n<pre><code>my $cube = sort($cookie);\nmy @cube = sort($cookie);\nmy &amp;cube = sort($cookie);\n</code></pre>\n\n<p>All come with failed results. However neither can I seem to use:     </p>\n\n<pre><code>my $cookie = sort(netcookie());\n</code></pre>\n\n<p>tl;dr: sort on a split</p>\n\n<p>Thanks,\nMookie</p>\n"}, {"tags": ["perl", "multidimensional-array", "hash"], "comments": [{"owner": {"reputation": 3, "user_id": 8881692, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/f66aa87b8dc05de0a6968d76b09c3cc7?s=128&d=identicon&r=PG&f=1", "display_name": "Fatih TEKE", "link": "https://stackoverflow.com/users/8881692/fatih-teke"}, "edited": false, "score": 0, "creation_date": 1514543010, "post_id": 48021034, "comment_id": 83011071, "body": "Ahmet: 257 Bugra: 133 Lale: 172 Su: 269 My output is correct but it takes values from grade1 and grade2 I want to take from text files."}, {"owner": {"reputation": 78982, "user_id": 1848654, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/84180c0f3c9c04f8b8f0613fc0129dac?s=128&d=identicon&r=PG", "display_name": "melpomene", "link": "https://stackoverflow.com/users/1848654/melpomene"}, "edited": false, "score": 0, "creation_date": 1514544590, "post_id": 48021034, "comment_id": 83011780, "body": "<code>my @foo = ();</code> is redundant: <code>my @foo;</code> already creates an empty array."}, {"owner": {"reputation": 78982, "user_id": 1848654, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/84180c0f3c9c04f8b8f0613fc0129dac?s=128&d=identicon&r=PG", "display_name": "melpomene", "link": "https://stackoverflow.com/users/1848654/melpomene"}, "edited": false, "score": 0, "creation_date": 1514544705, "post_id": 48021034, "comment_id": 83011832, "body": "Show sample input/output data, and please ask a more specific question than &quot;how do I do this?&quot;."}, {"owner": {"reputation": 3, "user_id": 8881692, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/f66aa87b8dc05de0a6968d76b09c3cc7?s=128&d=identicon&r=PG&f=1", "display_name": "Fatih TEKE", "link": "https://stackoverflow.com/users/8881692/fatih-teke"}, "reply_to_user": {"reputation": 78982, "user_id": 1848654, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/84180c0f3c9c04f8b8f0613fc0129dac?s=128&d=identicon&r=PG", "display_name": "melpomene", "link": "https://stackoverflow.com/users/1848654/melpomene"}, "edited": false, "score": 0, "creation_date": 1514544840, "post_id": 48021034, "comment_id": 83011904, "body": "I&#39;m not asking that .I wanted to show that I can take file values from .txt my question is how can I push or pop text values into two dimensional array like grade1 or grade2.Because I want to hash them after."}, {"owner": {"reputation": 78982, "user_id": 1848654, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/84180c0f3c9c04f8b8f0613fc0129dac?s=128&d=identicon&r=PG", "display_name": "melpomene", "link": "https://stackoverflow.com/users/1848654/melpomene"}, "edited": false, "score": 0, "creation_date": 1514544896, "post_id": 48021034, "comment_id": 83011935, "body": "<code>%grade1</code>/<code>%grade</code> are hashes, not arrays. I don&#39;t understand what you&#39;re asking."}, {"owner": {"reputation": 1672, "user_id": 4355253, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/1ee8cbfecfb7686f370b07eea52273c5?s=128&d=identicon&r=PG&f=1", "display_name": "Javier Elices", "link": "https://stackoverflow.com/users/4355253/javier-elices"}, "edited": false, "score": 1, "creation_date": 1514545579, "post_id": 48021034, "comment_id": 83012256, "body": "Have a look at this question: <a href=\"https://stackoverflow.com/questions/47983542/two-dimensional-hash-data-output/47983892#47983892\">two dimensional hash data output?</a>. Some portions of the code seem quite familiar."}], "answers": [{"comments": [{"owner": {"reputation": 3, "user_id": 8881692, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/f66aa87b8dc05de0a6968d76b09c3cc7?s=128&d=identicon&r=PG&f=1", "display_name": "Fatih TEKE", "link": "https://stackoverflow.com/users/8881692/fatih-teke"}, "edited": false, "score": 0, "creation_date": 1514639343, "post_id": 48022101, "comment_id": 83038360, "body": "that&#39;s work thanks.But I want to put text variables in an array.I&#39;m doing that but It takes first row of the text as an array input and I don&#39;t want that  It takes like that @array(&quot;ahmet 36 45 76&quot;,&quot;chris 34 95 20&quot;)"}, {"owner": {"reputation": 5334, "user_id": 5830574, "user_type": "registered", "accept_rate": 93, "profile_image": "https://i.stack.imgur.com/kCmqs.png?s=128&g=1", "display_name": "PerlDuck", "link": "https://stackoverflow.com/users/5830574/perlduck"}, "reply_to_user": {"reputation": 3, "user_id": 8881692, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/f66aa87b8dc05de0a6968d76b09c3cc7?s=128&d=identicon&r=PG&f=1", "display_name": "Fatih TEKE", "link": "https://stackoverflow.com/users/8881692/fatih-teke"}, "edited": false, "score": 0, "creation_date": 1514650490, "post_id": 48022101, "comment_id": 83041211, "body": "@FatihTEKE I don&#39;t know what you mean. You have the <b><i>hashes</i></b> <code>%grade1</code> and <code>%grade2</code> and now talk about <b><i>arrays</i></b>. Because you do not show what you really want it is not possible to help you."}], "tags": [], "owner": {"reputation": 5334, "user_id": 5830574, "user_type": "registered", "accept_rate": 93, "profile_image": "https://i.stack.imgur.com/kCmqs.png?s=128&g=1", "display_name": "PerlDuck", "link": "https://stackoverflow.com/users/5830574/perlduck"}, "is_accepted": true, "score": 0, "last_activity_date": 1514547786, "creation_date": 1514547786, "answer_id": 48022101, "question_id": 48021034, "link": "https://stackoverflow.com/questions/48021034/reading-text-file-and-writing-to-two-dimensional-array-in-perl/48022101#48022101", "title": "reading text file and writing to two dimensional array in perl?", "body": "<p>I read your question as <em><strong>How do I populate the hashes <code>%grade1</code> and <code>%grade2</code> from the files <code>data1.txt</code> and <code>data2.txt</code>?</strong></em></p>\n\n<p>I also assume that your files <code>data1.txt</code> and <code>data2.txt</code> have the following structure (whitespace separated):</p>\n\n<pre><code>marry 10 65 23\njohn 20 30 40\n</code></pre>\n\n<p>I suggest to write a function that takes the filename as paramater and returns a reference to a populated hash:</p>\n\n<pre><code>sub read_grades_from_file\n{\n    my $filename = shift;\n    my $result   = {};\n\n    open( my $fh, '&lt;:encoding(UTF-8)', $filename )\n      or die \"Could not open file '$filename' $!\\n\";\n    while ( my $row = &lt;$fh&gt; ) {\n        next unless $row =~ /\\S/;    # skip empty lines\n        my ( $name, $quiz1, $quiz2, $quiz3 ) = split( ' ', $row );\n        $result-&gt;{$name} = {\n            quiz1 =&gt; $quiz1,\n            quiz2 =&gt; $quiz2,\n            quiz3 =&gt; $quiz3,\n        };\n    }\n    close($fh);\n    return $result;\n}\n</code></pre>\n\n<p>The function is used as follows:</p>\n\n<pre><code>my $result = read_grades_from_file('data1.txt');    # returns hashref\nmy %grade1 = %{$result};                            # dereference $result to make it a hash\n\n$result = read_grades_from_file('data2.txt');\nmy %grade2 = %{$result};\n</code></pre>\n\n<p>The result of <code>read_grades_from_file</code> is a <em>reference</em> to a hash so it has to be <em>de-referenced</em> and then assigned to <code>%grade</code>. Thus the two steps.</p>\n"}, {"tags": [], "owner": {"reputation": 2422, "user_id": 9112798, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/1e2689048404de2b747c712b6782e8c7?s=128&d=identicon&r=PG&f=1", "display_name": "David Collins", "link": "https://stackoverflow.com/users/9112798/david-collins"}, "is_accepted": false, "score": 0, "last_activity_date": 1514554180, "last_edit_date": 1514554180, "creation_date": 1514550328, "answer_id": 48022606, "question_id": 48021034, "link": "https://stackoverflow.com/questions/48021034/reading-text-file-and-writing-to-two-dimensional-array-in-perl/48022606#48022606", "title": "reading text file and writing to two dimensional array in perl?", "body": "<p>Perhaps the data structures you are using are overly complex. You probably only need a single <code>%grades</code> hash, for example.</p>\n\n<p>The following will take data from space- or tab-separated records from both two input files - ignoring comments or empty lines.</p>\n\n<pre><code>my %grades;\nwhile (1) {\n  my $row1 = &lt;$data1&gt;;\n  my $row2 = &lt;$data2&gt;;\n  last unless (defined $row1 or defined $row2);\n  chomp ($row1, $row2);\n  if (defined $row1 and $row1 !~ /(^#|^$)/) {\n    my ($name, @quizzes) = split /[ \\t]/, $row1, 4;\n    $grades{$name}{'grades1'} = sum(@quizzes);\n  }\n  if (defined $row2 and $row1 !~ /(^#|^$)/) {\n    my ($name, @quizzes) = split /[ \\t]/, $row2, 4;\n    $grades{$name}{'grades2'} = sum(@quizzes);\n  }\n}\n</code></pre>\n\n<p>To print to STDOUT, you could try the following.</p>\n\n<pre><code>print \"Name\\tMarks 1\\tMarks 2\", $/;\n\nfor (keys %grades) {\n  my $name = $grades{$_};\n  print $_, \"\\t\", $name-&gt;{grades1} || '?', \"\\t\", $name-&gt;{grades2} || '?', \"\\t\", $/;\n}\n</code></pre>\n\n<p>With data1.txt as</p>\n\n<pre><code># Grades\nBugra 33 41 59\nMary 10 65 23\nLale 79 31 62\n</code></pre>\n\n<p>and data2.txt as </p>\n\n<pre><code># Grades 2\nBugra 49 32 57\nLale 79 31 62\nPeter 21 34 42\n</code></pre>\n\n<p>the output is shown below.</p>\n\n<pre><code>Name    Marks 1 Marks 2\nPeter   ?       97\nLale    172     172\nBugra   133     138\nMary    98      ?\n</code></pre>\n\n<p>(A '?' indicates that no record exists for the specified student in one of the two input files.)</p>\n"}], "owner": {"reputation": 3, "user_id": 8881692, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/f66aa87b8dc05de0a6968d76b09c3cc7?s=128&d=identicon&r=PG&f=1", "display_name": "Fatih TEKE", "link": "https://stackoverflow.com/users/8881692/fatih-teke"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 544, "favorite_count": 0, "closed_date": 1514576585, "accepted_answer_id": 48022101, "answer_count": 2, "score": -1, "last_activity_date": 1514554180, "creation_date": 1514542871, "last_edit_date": 1514547192, "question_id": 48021034, "link": "https://stackoverflow.com/questions/48021034/reading-text-file-and-writing-to-two-dimensional-array-in-perl", "closed_reason": "Needs details or clarity", "title": "reading text file and writing to two dimensional array in perl?", "body": "<pre><code>#!/usr/bin/perl\n\nuse strict;\nuse warnings;\nuse utf8;\nuse open ':encoding(UTF-8)', ':std';\nuse List::Util qw( sum );\n\nmy $filename =  'data1.txt';\n\nopen(my $fh, '&lt;:encoding(UTF-8)', $filename)\n    or die \"Could not open file '$filename' $!\";\n\nwhile (my $row = &lt;$fh&gt;) {\n    chomp $row;\n    print \"$row\\n\";\n}\n\nmy $filename2 = 'data2.txt';\n\nopen(my $fh2, '&lt;:encoding(UTF-8)', $filename2)\n    or die \"Could not open file '$filename2' $!\";\n\nwhile (my $row = &lt;$fh2&gt;) {\n    chomp $row;\n    print \"$row\\n\";\n}\n\nmy @last = ();\n\nmy %grades = (\n    Ahmet =&gt; {\n        quiz1 =&gt; 97,\n        quiz2 =&gt; 67,\n        quiz3 =&gt; 93,\n    },\n    Su =&gt; {\n        quiz1  =&gt; 88,\n        quiz2  =&gt; 82,\n        quiz3  =&gt; 99,\n    });\n\nmy %sum;\n\nfor my $name (keys %grades){\n    $sum{$name} = sum(values %{ $grades{$name} });\n}\n\nfor my $name (sort { $sum{$a} &lt;=&gt; $sum{$b} } keys %sum){\n    push @last, \"$name: $sum{$name}\\n\";\n}\n\nmy %grades2 = (\n    Bugra =&gt; {\n        quiz1 =&gt; 33,\n        quiz2 =&gt; 41,\n        quiz3 =&gt; 59,\n    },\n    Lale =&gt; {\n        quiz1 =&gt; 79,\n        quiz2 =&gt; 31,\n        quiz3 =&gt; 62,\n    },\n);\n\nmy %sum2;\nfor my $name (keys %grades2){\n    $sum2{$name} = sum(values %{ $grades2{$name} });\n}\n\nfor my $name (sort { $sum2{$a} &lt;=&gt; $sum2{$b} } keys %sum2){\n    push @last, \"$name: $sum2{$name}\\n\";\n}\n\nmy @last1 = sort { lc($a) cmp lc($b) } @last;\n\nprint @last1;\n</code></pre>\n\n<p>This is my code. I want to take values from a text file something like ( marry 10 65 23) and write to a two dimensional array. I managed array separately end of the read text file it has to be seen like <code>grade1</code> and <code>grade2</code> for <code>data1.txt</code> and <code>data2.txt</code>. I can pull the values but I couldn't write to two dimensional array. Also result is correct.</p>\n"}, {"tags": ["arrays", "perl", "matrix", "hash"], "answers": [{"comments": [{"owner": {"reputation": 311, "user_id": 9097452, "user_type": "registered", "accept_rate": 0, "profile_image": "https://www.gravatar.com/avatar/8073dda6ba748ee30788aed8a1e82f0d?s=128&d=identicon&r=PG", "display_name": "abraham", "link": "https://stackoverflow.com/users/9097452/abraham"}, "edited": false, "score": 0, "creation_date": 1514672850, "post_id": 48021061, "comment_id": 83047124, "body": "thanks so much, the second option works well, thanks !!"}], "tags": [], "owner": {"reputation": 320771, "user_id": 589924, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/b2cf53d5a3d25f95c0db4e025aed4153?s=128&d=identicon&r=PG", "display_name": "ikegami", "link": "https://stackoverflow.com/users/589924/ikegami"}, "is_accepted": false, "score": 0, "last_activity_date": 1514543425, "last_edit_date": 1514543425, "creation_date": 1514542989, "answer_id": 48021061, "question_id": 48021026, "link": "https://stackoverflow.com/questions/48021026/how-to-make-some-changes-in-a-perl-script/48021061#48021061", "title": "how to make some changes in a perl script", "body": "<p>Replace</p>\n\n<pre><code>chomp ( my @sample_names = split '\\t', &lt;INFILE_TAXONOMY&gt; );\n</code></pre>\n\n<p>with</p>\n\n<pre><code>&lt;INFILE_TAXONOMY&gt;;  # Skip first line.\nchomp ( my @sample_names = split '\\t', &lt;INFILE_TAXONOMY&gt; );\n</code></pre>\n\n<p>or</p>\n\n<pre><code>my $sample_names;\nwhile ($sample_names = &lt;INFILE_TAXONOMY&gt;) {\n   chomp($sample_names);\n   last if $sample_names !~ /Constructed from biom file/;\n}\n\ndefined($sample_names)\n   or die(\"Premature EOF\");\n\nmy @sample_names = split /\\t/, $sample_names;\n</code></pre>\n"}], "owner": {"reputation": 311, "user_id": 9097452, "user_type": "registered", "accept_rate": 0, "profile_image": "https://www.gravatar.com/avatar/8073dda6ba748ee30788aed8a1e82f0d?s=128&d=identicon&r=PG", "display_name": "abraham", "link": "https://stackoverflow.com/users/9097452/abraham"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 39, "favorite_count": 0, "answer_count": 1, "score": -1, "last_activity_date": 1514543425, "creation_date": 1514542836, "question_id": 48021026, "link": "https://stackoverflow.com/questions/48021026/how-to-make-some-changes-in-a-perl-script", "title": "how to make some changes in a perl script", "body": "<p>Hi to all thanks to help me !!!</p>\n\n<p>I have a list of taxonomic assignation (list of qiime), and I want to extract a list of bacterias using a list from a txt file; I have this code, that present 2 problems, one is that the taxonomic file have 2 lines that start with # (list of qiime), the first one (#Constructed from biom file) is the one that I want to avoid, the second one (#OTU ID .....samples) is the one that I use as a name of each column, I have tried something like </p>\n\n<p><code>if ($_=~ m/Constructed from biom file/){ next; }</code> </p>\n\n<p>in different place of the code, but it just don't work (but when I eliminate that line from the file, it works well), but the point is that I don't want to manipulate the file, that is why I want to avoid that line. </p>\n\n<p>The second problem (well is part of the code that I do't know how to make it), the script has a -s option, it mean that if I want an specific column, the script extract just the ones that I indicate (example: -s sample1,sample2,sample..n), the problem is that some times the selected samples have values of cero (0) in all the columns of any given row (xRow 0.0 0.0 0.0), in that case it must be avoid, in the script I use $val[1], but it is just for one sample, but if its 2 or mores samples it must avoid if present cero in all the row (in this case 3 samples).</p>\n\n<p>Script: </p>\n\n<pre><code>#!/usr/bin/env perl\nuse strict;\nuse warnings;\nuse Getopt::Long;\nuse Data::Dumper qw(Dumper);\nuse List::MoreUtils qw(uniq);\nuse List::Util qw(sum);\n\n    my ($search_label, $infile_taxon, $infile_list, $output_file);\n\n        GetOptions (\n            'i=s'   =&gt;\\$infile_taxon,\n            'l=s'   =&gt;\\$infile_list,\n            's=s'   =&gt;\\$search_label,\n            'o=s'   =&gt;\\$output_file,\n            );\n\n        sub match_genera {\n            my ($List_File, $Taxon_File) = @_;\n            my @lista_genera = @{ $List_File }; # dereferencing and copying each array\n            my @taxon_qiime = @{ $Taxon_File };\n            my (@extract);\n                foreach (@lista_genera){\n                    my $unit = $_;\n                    chomp $unit;\n                    my @match = grep (/$unit/, @taxon_qiime);\n                             push (@extract, @match);\n                }\n                return @extract;\n        }\n\n\n\n    open INFILE_TAXONOMY, '&lt;', \"$infile_taxon\" or die $!;\n    open LIST_BACTERIA, '&lt;', \"$infile_list\" or die $!;\n    open OUTPUT, '&gt;', \"xfile2.txt\" or die $!;\n\n    chomp ( my @sample_names = split '\\t', &lt;INFILE_TAXONOMY&gt; );\n    shift @sample_names;\n    unshift @sample_names, '#Genera';\n\n    my (@ToExtract, @no_match, @filter, @filter_columns);\n\n    # si ingresamos un -s\n    if ($search_label){\n        my @wanted= split (/\\,/, $search_label); \n        unshift @wanted, '#Genera';\n        @wanted = uniq (@wanted);\n\n        foreach my $wanted_in (@wanted){\n            if (my @match = grep (/$wanted_in/, @sample_names)) {\n                push (@ToExtract, @match);\n            }\n            else {\n                push (@no_match, $wanted_in);   \n            }\n        }\n\n        if (grep {defined($_)} @no_match){\n            print \"\\nSamples No Found: @no_match\\n\\n\";\n        }\n        print OUTPUT join \"\\t\", @ToExtract, \"\\n\";\n    }\n\n    # si queremos toda la tabla !!\n    else{\n      @ToExtract = @sample_names;\n      print OUTPUT join \"\\t\", @ToExtract, \"\\n\";\n    }\n\n    # Extraer los varoles de cada linea para cada variable !!!\n    #my %row;\n    while ( &lt;INFILE_TAXONOMY&gt; ){\n        my %row;\n        @row{@sample_names} = split \"\\t\";\n        @filter= join \"\\t\", @row{@ToExtract};  \n          push (@filter_columns, @filter); # ahora ya se puede usar con la \n    }\n\n    my @list;\n    foreach (&lt;LIST_BACTERIA&gt;){\n        if ($_=~ m/^#|^$/)  {   next;           }\n        else                {   push @list, $_  }\n    }\n    my @filter_list = uniq (@list);\n\n    my @last = match_genera (\\@filter_list, \\@filter_columns);\n\n    my (@genera_taxon, @genera_final);\n    foreach (@last){\n        @genera_taxon = ($_ =~ m/;D_5__(\\w.*)/g);\n                    foreach (@genera_taxon){\n                        if ($_ =~ m/^$/g)   { next;                   }\n                        else                { push @genera_final, $_; } \n                    }\n    }\n\n        foreach (@genera_final){ #split the line in a multiples var !!!\n            chomp;\n                   my @val = split (/\\t/, $_);\n                    foreach ($val[1]){\n                        if ($_ == 0){ next; }\n                        else{print join \"\\t\", @val,\"\\n\";}\n                    }\n\n                }\n\nclose INFILE_TAXONOMY;\nclose LIST_BACTERIA;\nclose OUTPUT;\nexit;\n</code></pre>\n\n<p>taxonomic file (list of qiime) is a tab delimited text !!!:</p>\n\n<pre><code>#Constructed from biom file\n#OTU ID sample1 sample2 sample3\nD_0__Bacteria;D_1__Acidobacteria;D_2__Holophagae;D_3__Subgroup 10;D_4__ABS-19;D_5__uncultured bacterium 0.002804    0.0073441109    0.0\nD_0__Bacteria;D_1__Acidobacteria;D_2__Holophagae;D_3__Subgroup 10;D_4__CA002;D_5__uncultured bacterium  0.0 0.001109    0.0\nD_0__Bacteria;D_1__Acidobacteria;D_2__Holophagae;D_3__Subgroup 10;D_4__Sva0725;D_5__uncultured bacterium    0.0 0.00882217  0.0014038202\nD_0__Bacteria;D_1__Acidobacteria;D_2__Holophagae;D_3__Subgroup 7;D_4__uncultured bacterium;D_5__    0.0 0.0 0.00898876404\nD_0__Bacteria;D_1__Acidobacteria;D_2__Subgroup 13;Ambiguous_taxa;D_4__;D_5__    0.0 0.0 0.00140449438202\nD_0__Bacteria;D_1__Acidobacteria;D_2__Subgroup 2;D_3__uncultured bacterium;D_4__;D_5__  0.0 0.0 0.00280898876404\nD_0__Bacteria;D_1__Acidobacteria;D_2__Subgroup 21;D_3__uncultured bacterium;D_4__;D_5__ 0.0 0.0 0.00421348314607\nD_0__Bacteria;D_1__Acidobacteria;D_2__Subgroup 22;D_3__uncultured bacterium;D_4__;D_5__ 0.0 0.0 0.00421348314607\nD_0__Bacteria;D_1__Acidobacteria;D_2__Subgroup 22;D_3__uncultured prokaryote;D_4__;D_5__    0.0 0.0 0.0014038202\nD_0__Bacteria;D_1__Acidobacteria;D_2__Subgroup 25;D_3__uncultured Acidobacteria bacterium;D_4__;D_5__   0.0012041933    0.0 0.0\nD_0__Bacteria;D_1__Acidobacteria;D_2__Subgroup 5;D_3__uncultured bacterium;D_4__;D_5__  0.00120401933   0.0 0.0\nD_0__Bacteria;D_1__Acidobacteria;D_2__Subgroup 6;D_3__uncultured Acidobacteria bacterium;D_4__;D_5__    0.0 0.00115473441109    0.0\nD_0__Bacteria;D_1__Acidobacteria;D_2__Subgroup 6;D_3__uncultured bacterium;D_4__;D_5__  0.00180614087899    0.0 0.00280898876404\nD_0__Bacteria;D_1__Actinobacteria;D_2__Acidimicrobiia;D_3__Acidimicrobiales;D_4__OM1 clade;D_5__uncultured actinobacterium  0.0 0.0 0.00140449438202\nD_0__Bacteria;D_1__Actinobacteria;D_2__Acidimicrobiia;D_3__Acidimicrobiales;D_4__OM1 clade;D_5__uncultured bacterium    0.0 0.0 0.00561797752809\nD_0__Bacteria;D_1__Actinobacteria;D_2__Acidimicrobiia;D_3__Acidimicrobiales;D_4__Sva0996 marine group;D_5__uncultured bacterium 0.0 0.0 0.00280898876404\nD_0__Bacteria;D_1__Actinobacteria;D_2__Acidimicrobiia;D_3__Acidimicrobiales;D_4__uncultured;D_5__uncultured actinobacterium 0.00301023479831    0.00115473441109    0.0\nD_0__Bacteria;D_1__Actinobacteria;D_2__Acidimicrobiia;D_3__Acidimicrobiales;D_4__uncultured;D_5__uncultured bacterium   0.000602059663  0.001173441109  0.0\nD_0__Bacteria;D_1__Actinobacteria;D_2__Actinobacteria;D_3__Corynebacteriales;D_4__Dietziaceae;D_5__Dietzia  0.0150511739916 0.0311778290993 0.00140449438202\nD_0__Bacteria;D_1__Actinobacteria;D_2__Actinobacteria;D_3__Corynebacteriales;D_4__Mycobacteriaceae;D_5__Mycobacterium   0.00240818865   0.002309882217  0.0\nD_0__Bacteria;D_1__Actinobacteria;D_2__Actinobacteria;D_3__Corynebacteriales;D_4__Nocardiaceae;D_5__Gordonia    0.0 0.0 0.00140449438202\nD_0__Bacteria;D_1__Actinobacteria;D_2__Actinobacteria;D_3__Corynebacteriales;D_4__Nocardiaceae;D_5__Rhodococcus 0.00240865  0.0013441109    0.0\nD_0__Bacteria;D_1__Actinobacteria;D_2__Actinobacteria;D_3__Corynebacteriales;D_4__Nocardiaceae;D_5__Williamsia  0.0 0.0 0.0\nD_0__Bacteria;D_1__Actinobacteria;D_2__Actinobacteria;D_3__Corynebacteriales;D_4__Tsukamurellaceae;D_5__Tsukamurella    0.000020463 0.0 0.0\nD_0__Bacteria;D_1__Actinobacteria;D_2__Actinobacteria;D_3__Corynebacteriales;D_4__nbr16a11;D_5__uncultured bacterium    0.0014093   0.001134411 0.0\nD_0__Bacteria;D_1__Actinobacteria;D_2__Actinobacteria;D_3__Kineosporiales;D_4__Kineosporiaceae;D_5__Quadrisphaera   0.0 0.0014734   0.0\nD_0__Bacteria;D_1__Actinobacteria;D_2__Actinobacteria;D_3__Micrococcales;D_4__Demequinaceae;D_5__Lysinimicrobium    0.00120409391933    0.0 0.0\nD_0__Bacteria;D_1__Actinobacteria;D_2__Actinobacteria;D_3__Micrococcales;D_4__Intrasporangiaceae;D_5__Ornithinimicrobium    0.0006959663    0.0 0.0\nD_0__Bacteria;D_1__Actinobacteria;D_2__Actinobacteria;D_3__Micrococcales;D_4__Intrasporangiaceae;D_5__Tetrasphaera  0.0 0.00441109  0.0\nD_0__Bacteria;D_1__Actinobacteria;D_2__Actinobacteria;D_3__Micrococcales;D_4__Micrococcaceae;D_5__Glutamicibacter   0.0 0.0031408776    0.0\nD_0__Bacteria;D_1__Actinobacteria;D_2__Actinobacteria;D_3__Micrococcales;D_4__Micrococcaceae;D_5__Pseudarthrobacter 0.0 0.002882217 0.0\nD_0__Bacteria;D_1__Actinobacteria;D_2__Actinobacteria;D_3__Micromonosporales;D_4__Micromonosporaceae;D_5__Actinoplanes  0.0 0.0011441109    0.0\nD_0__Bacteria;D_1__Actinobacteria;D_2__Actinobacteria;D_3__Propionibacteriales;D_4__Propionibacteriaceae;D_5__Propionibacterium 0.3479831   0.0882217   0.00280898876404\n</code></pre>\n\n<p>list : </p>\n\n<pre><code>#list \nGordonia\nMycobacterium\nOrnithinimicrobium\nMarinobacter\nPseudoalteromonas\nPseudomonas\nHalomonas\nAlcanivorax\nAcinetobacter\nShewanella\nPseudidiomarina\nMicrobulbifer\nBacillus\nMicrobacterium\nAchrornobacter\nActinomyces\nAlcaligenes\n</code></pre>\n\n<p>print out expected (tab delimited):</p>\n\n<pre><code>#genera    sample1     sample3\nGordonia    0.00301023479831    0.00140449438202    \nMycobacterium   0.00240818783865    0.0 \nOrnithinimicrobium  0.000602046959663   0.0 \nPseudomonas 0.367850692354  0.254213483146  \nHalomonas   0.000602046959663   0.00140449438202    \nAcinetobacter   0.00301023479831    0.00561797752809    \nBacillus    0.0626128838049 0.00280898876404    \nKlebsiella  0.0138470800722 0.00280898876404    \nLactobacillus   0.000602046959663   0.0 \nAcinetobacter   0.00301023479831    0.00561797752809    \nGordonia    0.00301023479831    0.00140449438202    \nRhodococcus 0.00240818783865    0.0 \nWilliamsia  0.000602046959663   0.0 \nStreptomyces    0.000602046959663   0.0 \nDietzia 0.0150511739916 0.00140449438202    \nAquabacterium   0.000602046959663   0.0 \nJanthinobacterium   0.0180614087899 0.0294943820225 \nMassilia    0.000602046959663   0.00140449438202    \nNoviherbaspirillum  0.000602046959663   0.0 \nRhodococcus 0.00240818783865    0.0 \nStaphylococcus  0.166164960867  0.0688202247191 \nHaemophilus 0.00120409391933    0.00280898876404    \nStenotrophomonas    0.000602046959663   0.00140449438202    \nCandidatus Endomicrobium    0.00662251655629    0.0 \nCandidatus Hepatincola  0.000602046959663   0.0\n</code></pre>\n\n<p>And the last one, I have try to make more simple the code, and in the new script I just trying to edit part of the code, trying to use an @newarray instead of &lt; INFILE_TAXONOMY > to select the columns, in the new array the list is almost finished how I want (like the expected output) it just left to select the wanted columns,  how to make the next piece of the code with array. </p>\n\n<pre><code>while ( &lt;INFILE_TAXONOMY&gt; ){\n        my %row;\n        @row{@sample_names} = split \"\\t\";\n        @filter= join \"\\t\", @row{@wanted};  \n          push (@filter_columns, @filter);\n    }\n</code></pre>\n\n<p>new script without the option to select an specific columns !!!</p>\n\n<pre><code>use strict;\nuse warnings;\nuse List::MoreUtils qw(uniq);\nuse Data::Dumper qw(Dumper);\n\n\n#---------------------------Subrutina de extraccion para 2 arrays de lista de bacterias y taxones!!-------------------------------------------------------------\n         sub match_genera {\n            my ($List_File, $Taxon_File) = @_;\n            my @taxon_qiime = @{ $Taxon_File };\n            my @lista_genera = @{ $List_File }; # dereferencing and copying each array\n            my (@match, @extract, @genera_clean);\n\n                  foreach (@taxon_qiime){\n                     my @generas_taxon = ($_ =~ m/;D_5__(\\w.*)/g);\n                     foreach (@generas_taxon){\n                        if ($_ =~ m/^$/g)   { next;                   }\n                        else                { push @genera_clean, $_; } \n                     }\n                  }\n\n                  foreach (@lista_genera){\n                    my $list_unit = $_;\n                    chomp $list_unit;\n                    @match = grep (/$list_unit/, @genera_clean);\n                             push (@extract, @match);\n                  }        \n                return @extract;\n         }\n#------------------------------------------------------FILES-----------------------------------------------------------------------\n\n\n\n            open INFILE_TAXONOMY, '&lt;', \"otu_table_L6_copy.txt\" or die $!;\n            open LIST_BACTERIA, '&lt;', \"lista_degradadoras.txt\" or die $!;\n\n            my (@lista_bacteria, @taxon, @sample_names);\n\n\n# -------------------------------------------------------------TAXON -------------------------------------------------------------\n                foreach (&lt;INFILE_TAXONOMY&gt;){\n                     chomp;\n                     if ($_=~ m/^$|Constructed from biom file/g)  {  next;                      }\n                     elsif ($_ =~ s/OTU ID/Genera/g)              {  push @sample_names, $_;    }\n                     else                                         {  push (@taxon, $_);         }\n               }\n\n\n# -------------------------------------------------------------LIST -------------------------------------------------------------\n               foreach (&lt;LIST_BACTERIA&gt;){\n                  if ($_=~ m/^$|^#/g)     {  next;                   }\n                  else                    {  push @lista_bacteria, $_       }\n\n               }\n            my @filter_list = uniq (@lista_bacteria);\n\n# -------------------------------------------------------------------------------------------------------------------------------\n\n\n            my @match_all = match_genera (\\@filter_list, \\@taxon);\n\n            unshift @match_all, @sample_names;\n\n            @wanted= qw(sample1 sample3);\n\n            foreach (@match_all){\n               print \"$_\\n\";\n               }\n\n            close INFILE_TAXONOMY;\n            close LIST_BACTERIA;\n            exit;\n</code></pre>\n"}, {"tags": ["perl", "hash"], "comments": [{"owner": {"reputation": 320771, "user_id": 589924, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/b2cf53d5a3d25f95c0db4e025aed4153?s=128&d=identicon&r=PG", "display_name": "ikegami", "link": "https://stackoverflow.com/users/589924/ikegami"}, "edited": false, "score": 0, "creation_date": 1514538387, "post_id": 48019958, "comment_id": 83009083, "body": "It&#39;s not <code>UntaggedPorts =&gt; &#39;...&#39;</code>. It&#39;s <code>UntaggedPorts =&gt; [...]</code>. The value of the hash element is a reference to an array."}, {"owner": {"reputation": 416, "user_id": 2950354, "user_type": "registered", "accept_rate": 64, "profile_image": "https://i.stack.imgur.com/NQdzV.jpg?s=128&g=1", "display_name": "Noosrep", "link": "https://stackoverflow.com/users/2950354/noosrep"}, "reply_to_user": {"reputation": 320771, "user_id": 589924, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/b2cf53d5a3d25f95c0db4e025aed4153?s=128&d=identicon&r=PG", "display_name": "ikegami", "link": "https://stackoverflow.com/users/589924/ikegami"}, "edited": false, "score": 0, "creation_date": 1514538698, "post_id": 48019958, "comment_id": 83009222, "body": "@ikegami so how would I be able to print the content of UntaggedPorts? Still don&#39;t see where this array comes from but Dumper indeed shows it&#39;s an array, didn&#39;t see the difference between &#39;...&#39; and [...]"}, {"owner": {"reputation": 320771, "user_id": 589924, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/b2cf53d5a3d25f95c0db4e025aed4153?s=128&d=identicon&r=PG", "display_name": "ikegami", "link": "https://stackoverflow.com/users/589924/ikegami"}, "edited": false, "score": 0, "creation_date": 1514538896, "post_id": 48019958, "comment_id": 83009310, "body": "To print the elements of an array, iterate over the elements of the array and print each one. Alternatively, you could pass then to <code>join</code> and print the result. You could even interpolate the array in a double-quoted string literal and print the result."}, {"owner": {"reputation": 416, "user_id": 2950354, "user_type": "registered", "accept_rate": 64, "profile_image": "https://i.stack.imgur.com/NQdzV.jpg?s=128&g=1", "display_name": "Noosrep", "link": "https://stackoverflow.com/users/2950354/noosrep"}, "reply_to_user": {"reputation": 320771, "user_id": 589924, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/b2cf53d5a3d25f95c0db4e025aed4153?s=128&d=identicon&r=PG", "display_name": "ikegami", "link": "https://stackoverflow.com/users/589924/ikegami"}, "edited": false, "score": 0, "creation_date": 1514539287, "post_id": 48019958, "comment_id": 83009483, "body": "@ikegami Doesn&#39;t make much difference. Updated the question with the commands"}, {"owner": {"reputation": 416, "user_id": 2950354, "user_type": "registered", "accept_rate": 64, "profile_image": "https://i.stack.imgur.com/NQdzV.jpg?s=128&g=1", "display_name": "Noosrep", "link": "https://stackoverflow.com/users/2950354/noosrep"}, "reply_to_user": {"reputation": 320771, "user_id": 589924, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/b2cf53d5a3d25f95c0db4e025aed4153?s=128&d=identicon&r=PG", "display_name": "ikegami", "link": "https://stackoverflow.com/users/589924/ikegami"}, "edited": false, "score": 0, "creation_date": 1514540044, "post_id": 48019958, "comment_id": 83009777, "body": "print $data{BridgeMode}{&quot;Ten-GigabitEthernet1/0/5&quot;}{Vlan100}{Untag&zwnj;&#8203;gedPorts}[0] ; does the trick"}, {"owner": {"reputation": 320771, "user_id": 589924, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/b2cf53d5a3d25f95c0db4e025aed4153?s=128&d=identicon&r=PG", "display_name": "ikegami", "link": "https://stackoverflow.com/users/589924/ikegami"}, "edited": false, "score": 2, "creation_date": 1514540646, "post_id": 48019958, "comment_id": 83010025, "body": "I wouldn&#39;t be so sure. The fact that an array was used is a sure sign that there won&#39;t always be one value. There might be more. There might be less. In other words, that&#39;s an awful solution, which is why I didn&#39;t mention it"}, {"owner": {"reputation": 51521, "user_id": 2566198, "user_type": "registered", "accept_rate": 67, "profile_image": "https://i.stack.imgur.com/Y34ZA.jpg?s=128&g=1", "display_name": "Sobrique", "link": "https://stackoverflow.com/users/2566198/sobrique"}, "edited": false, "score": 0, "creation_date": 1514824264, "post_id": 48019958, "comment_id": 83074444, "body": "This looks suspiciously like an XML conversion. If so, there might well be a better solution to your problem than using XML::Simple."}, {"owner": {"reputation": 416, "user_id": 2950354, "user_type": "registered", "accept_rate": 64, "profile_image": "https://i.stack.imgur.com/NQdzV.jpg?s=128&g=1", "display_name": "Noosrep", "link": "https://stackoverflow.com/users/2950354/noosrep"}, "edited": false, "score": 0, "creation_date": 1514837152, "post_id": 48019958, "comment_id": 83077890, "body": "No XML conversion but output from a network switch"}], "answers": [{"comments": [{"owner": {"reputation": 416, "user_id": 2950354, "user_type": "registered", "accept_rate": 64, "profile_image": "https://i.stack.imgur.com/NQdzV.jpg?s=128&g=1", "display_name": "Noosrep", "link": "https://stackoverflow.com/users/2950354/noosrep"}, "edited": false, "score": 1, "creation_date": 1514837203, "post_id": 48020390, "comment_id": 83077905, "body": "Found it at the same moment as you (see comment) but will give you credit"}], "tags": [], "owner": {"reputation": 462, "user_id": 5516965, "user_type": "registered", "profile_image": "https://graph.facebook.com/779435098869929/picture?type=large", "display_name": "J\u0101nis \u0160.", "link": "https://stackoverflow.com/users/5516965/j%c4%81nis-%c5%a0"}, "is_accepted": true, "score": 1, "last_activity_date": 1514540425, "last_edit_date": 1514540425, "creation_date": 1514540118, "answer_id": 48020390, "question_id": 48019958, "link": "https://stackoverflow.com/questions/48019958/perl-printing-of-a-hash-gives-arrayxxxxxxx/48020390#48020390", "title": "Perl printing of a hash gives ARRAY(xxxxxxx)", "body": "<p>You would get the expected result if you had the following, i.e. a string instead of a string array:</p>\n\n<pre><code>'UntaggedPorts' =&gt; 'Ten-GigabitEthernet1/0/12'\n</code></pre>\n\n<p>Otherwise, you must specify the index of the array element:</p>\n\n<pre><code>my $untaggedInterface = $data{BridgeMode}{\"Ten-GigabitEthernet1/0/5\"}{Vlan100}{UntaggedPorts}[0];\n</code></pre>\n"}], "owner": {"reputation": 416, "user_id": 2950354, "user_type": "registered", "accept_rate": 64, "profile_image": "https://i.stack.imgur.com/NQdzV.jpg?s=128&g=1", "display_name": "Noosrep", "link": "https://stackoverflow.com/users/2950354/noosrep"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 64, "favorite_count": 0, "accepted_answer_id": 48020390, "answer_count": 1, "score": -1, "last_activity_date": 1514540425, "creation_date": 1514537755, "last_edit_date": 1514539341, "question_id": 48019958, "link": "https://stackoverflow.com/questions/48019958/perl-printing-of-a-hash-gives-arrayxxxxxxx", "title": "Perl printing of a hash gives ARRAY(xxxxxxx)", "body": "<p>I know there are many questions already with this kind of subject, but as far as I know (perl beginner so I could be wrong), I'm not using an array so I don't understand where this output comes from</p>\n\n<pre><code>$VAR1 = {\n  'BridgeMode' =&gt; {\n    'Ten-GigabitEthernet1/0/5' =&gt; {\n      'Description' =&gt; 'poort1',\n      'Duplex' =&gt; 'F(a)',\n      'Interface' =&gt; 'Ten-GigabitEthernet1/0/5',\n      'Link' =&gt; 'UP',\n      'PVID' =&gt; '100',\n      'Speed' =&gt; '10G(a)',\n      'Type' =&gt; 'A',\n      'Vlan100' =&gt; {\n        'UntaggedPorts' =&gt; [\n          'Ten-GigabitEthernet1/0/5'\n        ]\n      },\n      'vlanID' =&gt; [\n        'Vlan100'\n      ]\n    },\n</code></pre>\n\n<p>Above is the content of my dumper and this is my print statement:</p>\n\n<pre><code>my $untaggedInterface = $data{BridgeMode}{\"Ten-GigabitEthernet1/0/5\"}{Vlan100}{UntaggedPorts} ;\nprint \"Untagged: $untaggedInterface \\n\" ;\n</code></pre>\n\n<p>I would expect that the print statement would print \"Ten-GigabitEthernet1/0/5\" but instead it shows this:</p>\n\n<pre><code>Untagged: ARRAY(0x24a8ec0)\n</code></pre>\n\n<p><strong>edit - it is possible that there exists an tagged and an untagged:</strong></p>\n\n<pre><code>$VAR1 = {\n  'BridgeMode' =&gt; {\n    'Ten-GigabitEthernet1/0/12' =&gt; {\n      'Description' =&gt; 'poort5',\n      'Duplex' =&gt; 'F(a)',\n      'Interface' =&gt; 'Ten-GigabitEthernet1/0/12',\n      'Link' =&gt; 'UP',\n      'PVID' =&gt; '100',\n      'Speed' =&gt; '10G(a)',\n      'Type' =&gt; 'H',\n      'Vlan100' =&gt; {\n        'UntaggedPorts' =&gt; [\n          'Ten-GigabitEthernet1/0/12'\n        ]\n      },\n      'Vlan107' =&gt; {\n        'TaggedPorts' =&gt; [\n          'Ten-GigabitEthernet1/0/12'\n        ]\n      },\n</code></pre>\n\n<p><strong>edit: printing the content of the array</strong></p>\n\n<pre><code>my @untaggedInterface = $data{BridgeMode}{\"Ten-GigabitEthernet1/0/5\"}{Vlan100}{UntaggedPorts} ;\nprint join(\", \", @untaggedInterface) ;\n</code></pre>\n\n<p>stil gives </p>\n\n<pre><code>ARRAY(0x1c03a68)\n</code></pre>\n"}, {"tags": ["arrays", "perl", "dbi", "arrayref"], "answers": [{"tags": [], "owner": {"reputation": 1228, "user_id": 4709524, "user_type": "registered", "accept_rate": 77, "profile_image": "https://i.stack.imgur.com/wGrTV.jpg?s=128&g=1", "display_name": "beasy", "link": "https://stackoverflow.com/users/4709524/beasy"}, "is_accepted": true, "score": 2, "last_activity_date": 1514475833, "last_edit_date": 1514475833, "creation_date": 1514468334, "answer_id": 48008543, "question_id": 48006433, "link": "https://stackoverflow.com/questions/48006433/perl-selectall-array-retrieve-all-data-from-array-of-array-ref/48008543#48008543", "title": "Perl selectall_array - retrieve all data from array of array ref", "body": "<p>You can dereference the arrayrefs into one big array in one line like this:</p>\n\n<pre><code>my @all = map {@$_} $dbh-&gt;selectall_array($sql);\n</code></pre>\n\n<p>The <code>map</code> block applies <code>@$_</code> to each row returned by <code>selectall_array</code>, which dereferences the arrayref.</p>\n"}, {"comments": [{"owner": {"reputation": 87649, "user_id": 17389, "user_type": "registered", "accept_rate": 38, "profile_image": "https://www.gravatar.com/avatar/cd06d1314817ce946ab796af8750b56a?s=128&d=identicon&r=PG", "display_name": "ysth", "link": "https://stackoverflow.com/users/17389/ysth"}, "edited": false, "score": 2, "creation_date": 1514481821, "post_id": 48009443, "comment_id": 82991896, "body": "Or postfix dereference: <code>= $dbh-&gt;selectcol_arrayref(...)-&gt;@*;</code>.  Or just keep it as a reference."}, {"owner": {"reputation": 1228, "user_id": 4709524, "user_type": "registered", "accept_rate": 77, "profile_image": "https://i.stack.imgur.com/wGrTV.jpg?s=128&g=1", "display_name": "beasy", "link": "https://stackoverflow.com/users/4709524/beasy"}, "edited": false, "score": 0, "creation_date": 1514554159, "post_id": 48009443, "comment_id": 83015818, "body": "Postfix dereference is a nice new feature, but note it only became available in experimentally <code>v5.20</code> and is now stable as of <code>v5.24</code>"}, {"owner": {"reputation": 2422, "user_id": 9112798, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/1e2689048404de2b747c712b6782e8c7?s=128&d=identicon&r=PG&f=1", "display_name": "David Collins", "link": "https://stackoverflow.com/users/9112798/david-collins"}, "reply_to_user": {"reputation": 87649, "user_id": 17389, "user_type": "registered", "accept_rate": 38, "profile_image": "https://www.gravatar.com/avatar/cd06d1314817ce946ab796af8750b56a?s=128&d=identicon&r=PG", "display_name": "ysth", "link": "https://stackoverflow.com/users/17389/ysth"}, "edited": false, "score": 0, "creation_date": 1514559345, "post_id": 48009443, "comment_id": 83018017, "body": "@ysth: Thanks. I have updated my answer to include your suggestion."}], "tags": [], "owner": {"reputation": 2422, "user_id": 9112798, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/1e2689048404de2b747c712b6782e8c7?s=128&d=identicon&r=PG&f=1", "display_name": "David Collins", "link": "https://stackoverflow.com/users/9112798/david-collins"}, "is_accepted": false, "score": 4, "last_activity_date": 1514559290, "last_edit_date": 1514559290, "creation_date": 1514472063, "answer_id": 48009443, "question_id": 48006433, "link": "https://stackoverflow.com/questions/48006433/perl-selectall-array-retrieve-all-data-from-array-of-array-ref/48009443#48009443", "title": "Perl selectall_array - retrieve all data from array of array ref", "body": "<p>Since you are only extracting one column you can try the <code>selectcol_arrayref()</code> method - de-referencing the array inline.</p>\n\n<pre><code>my @mysqldata = @{ $dbh-&gt;selectcol_arrayref('SELECT `domain` FROM dfs WHERE `id` IN ('.join(',',('?')x(scalar(@params))).')', {}, @params) };\n</code></pre>\n\n<p><strong>UPDATE</strong></p>\n\n<p>As ysth suggested in the comments, you can use a postfix operator in newer versions of Perl (v5.20.0 and later) to dereference the value returned by <code>selectcol_arrayref()</code> - as in the following.</p>\n\n<pre><code>$dbh-&gt;selectcol_arrayref('SELECT domain FROM dfs', undef, @params)-&gt;@*;\n</code></pre>\n"}], "owner": {"reputation": 23, "user_id": 7891473, "user_type": "registered", "profile_image": "https://graph.facebook.com/10154651349836848/picture?type=large", "display_name": "Rizwan Qureshi", "link": "https://stackoverflow.com/users/7891473/rizwan-qureshi"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 1959, "favorite_count": 0, "accepted_answer_id": 48008543, "answer_count": 2, "score": 2, "last_activity_date": 1514559290, "creation_date": 1514459646, "question_id": 48006433, "link": "https://stackoverflow.com/questions/48006433/perl-selectall-array-retrieve-all-data-from-array-of-array-ref", "title": "Perl selectall_array - retrieve all data from array of array ref", "body": "<p>I am using <code>DBI</code> <code>selectall_array</code> to fetch all the data out of mysql. My query returns 1 columns for every row. But the <code>selectall_array</code> function returns an array of array ref for each row as listed below</p>\n\n<pre><code>$VAR1 = [\n          '1.ptmp'\n        ];\n$VAR2 = [\n          'e1.ptmp'\n        ];\n$VAR3 = [\n          's2.ptmp'\n        ];\n$VAR4 = [\n          'sw1.ptmp'\n        ];\n$VAR5 = [\n          'w1.ptmp'\n        ];\n</code></pre>\n\n<p>What I would like is a way to extract all the domains into a single array (no refs) or is there a DBI function which returns a full array of data without any references? I dont want to loop through all data or do <code>fetchrow_array</code> in a while loop. Looking for a single statement to do it all if possible?</p>\n\n<p>Please see my code below:</p>\n\n<pre><code>my @mysqldata = $dbh-&gt;selectall_array('SELECT `domain` FROM dfs WHERE `id` IN ('.join(',',('?')x(scalar(@params))).')', {}, @params);\nmy @minus = array_minus( @all, @mysqldata );\n</code></pre>\n"}, {"tags": ["regex", "perl"], "comments": [{"owner": {"reputation": 381798, "user_id": 1863229, "user_type": "registered", "accept_rate": 58, "profile_image": "https://i.stack.imgur.com/4sh1l.png?s=128&g=1", "display_name": "Tim Biegeleisen", "link": "https://stackoverflow.com/users/1863229/tim-biegeleisen"}, "edited": false, "score": 0, "creation_date": 1514436041, "post_id": 48001636, "comment_id": 82971802, "body": "Regex probably isn&#39;t the right tool for this.  When your IDE cleans up formatting this way, it using a parser (and might be compiling along the way as well)."}, {"owner": {"reputation": 10448, "user_id": 784980, "user_type": "registered", "accept_rate": 64, "profile_image": "https://www.gravatar.com/avatar/d9c4540c5478352227f3ed3c3316ad8c?s=128&d=identicon&r=PG", "display_name": "rapt", "link": "https://stackoverflow.com/users/784980/rapt"}, "reply_to_user": {"reputation": 381798, "user_id": 1863229, "user_type": "registered", "accept_rate": 58, "profile_image": "https://i.stack.imgur.com/4sh1l.png?s=128&g=1", "display_name": "Tim Biegeleisen", "link": "https://stackoverflow.com/users/1863229/tim-biegeleisen"}, "edited": false, "score": 0, "creation_date": 1514436250, "post_id": 48001636, "comment_id": 82971842, "body": "@TimBiegeleisen I get these cases sometimes because I run my files through a script that removes all comments. So I would like to clean it up with the same script."}, {"owner": {"reputation": 51521, "user_id": 2566198, "user_type": "registered", "accept_rate": 67, "profile_image": "https://i.stack.imgur.com/Y34ZA.jpg?s=128&g=1", "display_name": "Sobrique", "link": "https://stackoverflow.com/users/2566198/sobrique"}, "edited": false, "score": 2, "creation_date": 1514457541, "post_id": 48001636, "comment_id": 82980105, "body": "Is your code perl? Then I&#39;d suggest getting perltidy and using that."}], "answers": [{"comments": [{"owner": {"reputation": 10448, "user_id": 784980, "user_type": "registered", "accept_rate": 64, "profile_image": "https://www.gravatar.com/avatar/d9c4540c5478352227f3ed3c3316ad8c?s=128&d=identicon&r=PG", "display_name": "rapt", "link": "https://stackoverflow.com/users/784980/rapt"}, "edited": false, "score": 0, "creation_date": 1514452756, "post_id": 48001843, "comment_id": 82977595, "body": "Almost there - I think you have to move the <code>\\n</code> into the look ahead, otherwise it will be removed."}], "tags": [], "owner": {"reputation": 5979, "user_id": 8534588, "user_type": "registered", "accept_rate": 86, "profile_image": "https://www.gravatar.com/avatar/63d016df9eac3cc0a70b1fb1683dc62b?s=128&d=identicon&r=PG&f=1", "display_name": "Josh Withee", "link": "https://stackoverflow.com/users/8534588/josh-withee"}, "is_accepted": false, "score": 0, "last_activity_date": 1514460114, "last_edit_date": 1514460114, "creation_date": 1514437573, "answer_id": 48001843, "question_id": 48001636, "link": "https://stackoverflow.com/questions/48001636/perl-regular-expression-capturing-group/48001843#48001843", "title": "Perl: regular expression: capturing group", "body": "<p>Try using this regex instead, which uses a positive look-ahead assertion. This way you only capture the part that you want to remove, and then replace it with nothing:</p>\n\n<pre><code>s/\\s+(?=\\n[ ]*\\})//g\n</code></pre>\n"}, {"comments": [{"owner": {"reputation": 10448, "user_id": 784980, "user_type": "registered", "accept_rate": 64, "profile_image": "https://www.gravatar.com/avatar/d9c4540c5478352227f3ed3c3316ad8c?s=128&d=identicon&r=PG", "display_name": "rapt", "link": "https://stackoverflow.com/users/784980/rapt"}, "edited": false, "score": 0, "creation_date": 1514453986, "post_id": 48002723, "comment_id": 82978179, "body": "Almost there - but it removes also other white lines that are not right above a <code>}</code>."}], "tags": [], "owner": {"reputation": 5455, "user_id": 3961170, "user_type": "registered", "accept_rate": 73, "profile_image": "https://i.stack.imgur.com/PtFol.jpg?s=128&g=1", "display_name": "mkHun", "link": "https://stackoverflow.com/users/3961170/mkhun"}, "is_accepted": false, "score": -1, "last_activity_date": 1514442857, "creation_date": 1514442857, "answer_id": 48002723, "question_id": 48001636, "link": "https://stackoverflow.com/questions/48001636/perl-regular-expression-capturing-group/48002723#48002723", "title": "Perl: regular expression: capturing group", "body": "<p>You can try the following one liner</p>\n\n<pre><code>perl -0777 -pe 's/\\s*\\n*(\\s*\\n)/$1/g' test\n</code></pre>\n"}, {"tags": [], "owner": {"reputation": 87649, "user_id": 17389, "user_type": "registered", "accept_rate": 38, "profile_image": "https://www.gravatar.com/avatar/cd06d1314817ce946ab796af8750b56a?s=128&d=identicon&r=PG", "display_name": "ysth", "link": "https://stackoverflow.com/users/17389/ysth"}, "is_accepted": false, "score": 1, "last_activity_date": 1514787020, "last_edit_date": 1514787020, "creation_date": 1514448275, "answer_id": 48003837, "question_id": 48001636, "link": "https://stackoverflow.com/questions/48001636/perl-regular-expression-capturing-group/48003837#48003837", "title": "Perl: regular expression: capturing group", "body": "<pre><code>perl -pi -0777 -e's/^\\s*\\n(?=\\s*})//mg' yourfile\n</code></pre>\n\n<p>(Remove whitespace from the beginning of a line through a newline that precedes a line with } as the first non-whitespace.)</p>\n"}, {"comments": [{"owner": {"reputation": 10448, "user_id": 784980, "user_type": "registered", "accept_rate": 64, "profile_image": "https://www.gravatar.com/avatar/d9c4540c5478352227f3ed3c3316ad8c?s=128&d=identicon&r=PG", "display_name": "rapt", "link": "https://stackoverflow.com/users/784980/rapt"}, "edited": false, "score": 0, "creation_date": 1514452266, "post_id": 48004363, "comment_id": 82977363, "body": "Thank you for they idea to expand the group. I just figured out that when I use <code>$1</code> I am not supposed to warp it with parentheses. :) Also I haven&#39;t noticed that in my case the indentation was done by tabs, so combined with your version I changed it to <code>s&#47;\\s+(\\n[ |\\t]*\\})&#47;$1&#47;g</code>"}, {"owner": {"reputation": 2422, "user_id": 9112798, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/1e2689048404de2b747c712b6782e8c7?s=128&d=identicon&r=PG&f=1", "display_name": "David Collins", "link": "https://stackoverflow.com/users/9112798/david-collins"}, "reply_to_user": {"reputation": 10448, "user_id": 784980, "user_type": "registered", "accept_rate": 64, "profile_image": "https://www.gravatar.com/avatar/d9c4540c5478352227f3ed3c3316ad8c?s=128&d=identicon&r=PG", "display_name": "rapt", "link": "https://stackoverflow.com/users/784980/rapt"}, "edited": false, "score": 0, "creation_date": 1514456616, "post_id": 48004363, "comment_id": 82979642, "body": "@rapt: Hi. You don&#39;t need the alternation metacharacter | inside the character class. So perhaps <code>s&#47;\\s+(\\n[ \\t]*\\})&#47;$1&#47;g</code> will suffice. Good luck."}], "tags": [], "owner": {"reputation": 2422, "user_id": 9112798, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/1e2689048404de2b747c712b6782e8c7?s=128&d=identicon&r=PG&f=1", "display_name": "David Collins", "link": "https://stackoverflow.com/users/9112798/david-collins"}, "is_accepted": false, "score": 1, "last_activity_date": 1514458668, "last_edit_date": 1514458668, "creation_date": 1514451003, "answer_id": 48004363, "question_id": 48001636, "link": "https://stackoverflow.com/questions/48001636/perl-regular-expression-capturing-group/48004363#48004363", "title": "Perl: regular expression: capturing group", "body": "<p>The only issues I can see with your regex are</p>\n\n<ul>\n<li>you don't need the parenthesis around the matching variable,\nand</li>\n<li>the use of a character class when extracting the match is\nredundant (unless you want to match tabs as well as spaces).</li>\n</ul>\n\n<p>So, you could try</p>\n\n<pre><code>s/\\s+\\n( *)\\}/\\n$1\\}/g\n</code></pre>\n\n<p>instead.</p>\n\n<p>This works as expected when run on your test input.</p>\n\n<p>To tidy it up even more, you could try the following.</p>\n\n<pre><code>s/\\s+(\\n *\\})/$1/g\n</code></pre>\n\n<p>If there might be tabs as well as spaces, you can use a character class. (You do not need to include '|' inside the character class).</p>\n\n<pre><code>s/\\s+(\\n[ \\t]*\\})/$1/g\n</code></pre>\n"}], "owner": {"reputation": 10448, "user_id": 784980, "user_type": "registered", "accept_rate": 64, "profile_image": "https://www.gravatar.com/avatar/d9c4540c5478352227f3ed3c3316ad8c?s=128&d=identicon&r=PG", "display_name": "rapt", "link": "https://stackoverflow.com/users/784980/rapt"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 369, "favorite_count": 0, "answer_count": 4, "score": 1, "last_activity_date": 1514787020, "creation_date": 1514435848, "question_id": 48001636, "link": "https://stackoverflow.com/questions/48001636/perl-regular-expression-capturing-group", "title": "Perl: regular expression: capturing group", "body": "<p>In a code file, I want to remove any (one or more) consecutive white lines (lines that may include only zero or more spaces/tabs and then a newline) that go between a code text and the concluding <code>}</code> of a block. This concluding <code>}</code> may have spaces for indentation before it, so I want to keep them.</p>\n\n<p>Here is what I try to do:</p>\n\n<pre><code>perl -i -0777 -pe 's/\\s+\\n([ ]*)\\}/\\n($1)\\}/g' file\n</code></pre>\n\n<p>For example, if my code file looks like (\u25a1 is the space character):</p>\n\n<pre><code>\u25a1\u25a1\u25a1\u25a1while (true) {\\n\n\u25a1\u25a1\u25a1\u25a1\u25a1\u25a1\u25a1\u25a1print(\"Yay!\");\u25a1\u25a1\u25a1\u25a1\u25a1\u25a1\\n\n\u25a1\u25a1\u25a1\u25a1\u25a1\u25a1\u25a1\u25a1\u25a1\u25a1\u25a1\u25a1\u25a1\u25a1\u25a1\u25a1\\n\n\u25a1\u25a1\u25a1\u25a1}\\n\n</code></pre>\n\n<p>Then I want it to become:</p>\n\n<pre><code>\u25a1\u25a1\u25a1\u25a1while (true) {\\n\n\u25a1\u25a1\u25a1\u25a1\u25a1\u25a1\u25a1\u25a1print(\"Yay!\");\\n\n\u25a1\u25a1\u25a1\u25a1}\\n\n</code></pre>\n\n<p>However it does not do the change I expected. Any idea what I am doing wrong here?</p>\n"}, {"tags": ["python", "r", "perl", "pattern-matching", "letter"], "answers": [{"comments": [{"owner": {"reputation": 940, "user_id": 5874001, "user_type": "registered", "accept_rate": 40, "profile_image": "https://i.stack.imgur.com/W6rTB.png?s=128&g=1", "display_name": "InfiniteFlash", "link": "https://stackoverflow.com/users/5874001/infiniteflash"}, "edited": false, "score": 0, "creation_date": 1514433658, "post_id": 48001426, "comment_id": 82971322, "body": "seems like the most normal approach"}, {"owner": {"reputation": 60, "user_id": 9133541, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/Sk9yr.jpg?s=128&g=1", "display_name": "Karthick Balaji", "link": "https://stackoverflow.com/users/9133541/karthick-balaji"}, "reply_to_user": {"reputation": 940, "user_id": 5874001, "user_type": "registered", "accept_rate": 40, "profile_image": "https://i.stack.imgur.com/W6rTB.png?s=128&g=1", "display_name": "InfiniteFlash", "link": "https://stackoverflow.com/users/5874001/infiniteflash"}, "edited": false, "score": 0, "creation_date": 1514433810, "post_id": 48001426, "comment_id": 82971354, "body": "Yeah, amd I don&#39;t think he needs any pattern matching approach @InfiniteFlashChess"}], "tags": [], "owner": {"reputation": 60, "user_id": 9133541, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/Sk9yr.jpg?s=128&g=1", "display_name": "Karthick Balaji", "link": "https://stackoverflow.com/users/9133541/karthick-balaji"}, "is_accepted": true, "score": 2, "last_activity_date": 1514433583, "creation_date": 1514433583, "answer_id": 48001426, "question_id": 48001329, "link": "https://stackoverflow.com/questions/48001329/how-to-print-unmatched-letter-from-a-pattern/48001426#48001426", "title": "How to print unmatched letter from a pattern", "body": "<p>I don't think you need <code>re</code> module here. Just a loop can fix your code.</p>\n\n<pre><code>file1='TV*TV*TV*TISTI*VWGKIGIRIE*PWIVSISEVESVACNSKNSNNNSE*K**FSEHFDLNYEN*K'\nfile2='TV*TV*TV*TISTI*VWGKIGIRIE*PWIVSISVVESVACNSKNSNNNSE*K**FSEHFDLNYEN*K'\nfor i in range(len(file1)):\n    if(file1[i]!=file2[i]):\n        print(file1[i]),(file2[i])\n</code></pre>\n\n<p>Your output is:<code>E V</code></p>\n\n<p>Here, we compare the files letter by letter.</p>\n"}, {"comments": [{"owner": {"reputation": 940, "user_id": 5874001, "user_type": "registered", "accept_rate": 40, "profile_image": "https://i.stack.imgur.com/W6rTB.png?s=128&g=1", "display_name": "InfiniteFlash", "link": "https://stackoverflow.com/users/5874001/infiniteflash"}, "edited": false, "score": 0, "creation_date": 1514435589, "post_id": 48001604, "comment_id": 82971699, "body": "Note that I&#39;m printing to the console as the OP wanted."}, {"owner": {"reputation": 11410, "user_id": 1691723, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/46f6ca5a15ad9bad637ee4b50946f470?s=128&d=identicon&r=PG", "display_name": "Sathish", "link": "https://stackoverflow.com/users/1691723/sathish"}, "edited": false, "score": 0, "creation_date": 1514435813, "post_id": 48001604, "comment_id": 82971736, "body": "you are breaking the loop, which means you are finding the first mismatch, right? My solution goes through the entire string of characters"}, {"owner": {"reputation": 940, "user_id": 5874001, "user_type": "registered", "accept_rate": 40, "profile_image": "https://i.stack.imgur.com/W6rTB.png?s=128&g=1", "display_name": "InfiniteFlash", "link": "https://stackoverflow.com/users/5874001/infiniteflash"}, "reply_to_user": {"reputation": 11410, "user_id": 1691723, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/46f6ca5a15ad9bad637ee4b50946f470?s=128&d=identicon&r=PG", "display_name": "Sathish", "link": "https://stackoverflow.com/users/1691723/sathish"}, "edited": false, "score": 0, "creation_date": 1514444435, "post_id": 48001604, "comment_id": 82974217, "body": "Yeah, I break it as soon as the first mismatch is found"}], "tags": [], "owner": {"reputation": 940, "user_id": 5874001, "user_type": "registered", "accept_rate": 40, "profile_image": "https://i.stack.imgur.com/W6rTB.png?s=128&g=1", "display_name": "InfiniteFlash", "link": "https://stackoverflow.com/users/5874001/infiniteflash"}, "is_accepted": false, "score": 0, "last_activity_date": 1514435530, "creation_date": 1514435530, "answer_id": 48001604, "question_id": 48001329, "link": "https://stackoverflow.com/questions/48001329/how-to-print-unmatched-letter-from-a-pattern/48001604#48001604", "title": "How to print unmatched letter from a pattern", "body": "<p><strong>For loop:</strong></p>\n\n<pre><code>test_two_strings &lt;- function(string1 = file1, string2 = file2){\n                          for(i in 1:nchar(file1)){\n                            if (substr(file1, i, i) != substr(file2,i, i)){\n                              cat(paste(\"File 1:\", substr(file1, i, i) ,\"File 2:\", substr(file2, i, i),sep = \"\\n\"))\n                              break()\n                                       }\n                                  }\n                             }\n\nmicrobenchmark(test_two_strings(), times = 1000)\n\nVUnit: microseconds\n               expr     min      lq     mean  median      uq      max neval\n test_two_strings() 133.927 144.199 169.5508 148.544 160.791 2132.148  1000\n</code></pre>\n"}, {"tags": [], "owner": {"reputation": 5455, "user_id": 3961170, "user_type": "registered", "accept_rate": 73, "profile_image": "https://i.stack.imgur.com/PtFol.jpg?s=128&g=1", "display_name": "mkHun", "link": "https://stackoverflow.com/users/3961170/mkhun"}, "is_accepted": false, "score": -1, "last_activity_date": 1514442385, "creation_date": 1514442385, "answer_id": 48002635, "question_id": 48001329, "link": "https://stackoverflow.com/questions/48001329/how-to-print-unmatched-letter-from-a-pattern/48002635#48002635", "title": "How to print unmatched letter from a pattern", "body": "<p>You can try this also, I'm comparing by the each two string, if the condition getting failed I'm checking in between string.</p>\n\n<pre><code>str1 =\"TV*TV*TV*TISTI*VWGKIGIRIE*PWIVSESsVESVACNSKNSNNNSE*K**FSEHFDLNYEN*K\"\nstr2 =\"TV*TV*TV*TISTI*VWGKIGIRIE*PWIVSVSsVESVACNSKNSNNNSE*K**FSEHFDLNYEN*K\"\n\nfor i in range(len(str1)/2):\n    if(str1[i:i+2] !=  str2[i:i+2]):\n         if  (str1[i:i+1] !=  str2[i:i+1]):\n            str1[i:i+1]+\"\\n\"+str1[i+1:i+2]\n         else:\n            print str1[i+1:i+2]+\"\\n\"+str2[i+1:i+2]\n</code></pre>\n"}], "owner": {"reputation": 21, "user_id": 9147488, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/00681a308518ec102344dda312827920?s=128&d=identicon&r=PG&f=1", "display_name": "user9147488", "link": "https://stackoverflow.com/users/9147488/user9147488"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 182, "favorite_count": 0, "accepted_answer_id": 48001426, "answer_count": 3, "score": 1, "last_activity_date": 1514442385, "creation_date": 1514432527, "last_edit_date": 1514433559, "question_id": 48001329, "link": "https://stackoverflow.com/questions/48001329/how-to-print-unmatched-letter-from-a-pattern", "title": "How to print unmatched letter from a pattern", "body": "<p>I have two sets of protein sequence data. As you can see, these 2 sequences look the same but actually they have 1 different amino acid (letter) between them. </p>\n\n<p>For example:</p>\n\n<p>File 1:</p>\n\n<pre><code>TV*TV*TV*TISTI*VWGKIGIRIE*PWIVSISEVESVACNSKNSNNNSE*K**FSEHFDLNYEN*K\n</code></pre>\n\n<p>File 2:</p>\n\n<pre><code>TV*TV*TV*TISTI*VWGKIGIRIE*PWIVSISVVESVACNSKNSNNNSE*K**FSEHFDLNYEN*K\n</code></pre>\n\n<p>Desired output:</p>\n\n<p>File 1:</p>\n\n<pre><code>E\n</code></pre>\n\n<p>File 2:</p>\n\n<pre><code>V\n</code></pre>\n\n<p>I'm aware that we can print different pattern from two sets of data using command of grep, comm, diff; the search is based on line. But in this situation, how do I print the letter different between these two patterns? Thanks.</p>\n"}]