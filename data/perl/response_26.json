[{"tags": ["bash", "perl", "cpanm"], "answers": [{"comments": [{"owner": {"reputation": 11, "user_id": 5096132, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/7fc32108100725ad72c7a6a0239e799d?s=128&d=identicon&r=PG&f=1", "display_name": "andys", "link": "https://stackoverflow.com/users/5096132/andys"}, "edited": false, "score": 0, "creation_date": 1436537953, "post_id": 31306339, "comment_id": 50670251, "body": "The install of cpanm won&#39;t work either, but to address this, without backticks, the script doesn&#39;t even try and run that command, and doesn&#39;t push any output to the log file. If i try to put in $(cpanm Nagios::Config) I get &quot;cpanm: command not found&quot;. And to test this, I installed cpanm manualy."}], "tags": [], "owner": {"reputation": 110113, "user_id": 168657, "user_type": "registered", "accept_rate": 92, "profile_image": "https://www.gravatar.com/avatar/f14e7610fca39322ebbf23530def15f8?s=128&d=identicon&r=PG", "display_name": "mob", "link": "https://stackoverflow.com/users/168657/mob"}, "is_accepted": false, "score": 1, "last_activity_date": 1436417872, "last_edit_date": 1436417872, "creation_date": 1436403163, "answer_id": 31306339, "question_id": 31305446, "link": "https://stackoverflow.com/questions/31305446/installing-cpanm-in-a-bash-script/31306339#31306339", "title": "Installing cpanm in a bash script", "body": "<p>I think using backticks</p>\n\n<pre><code>try `cpanm Nagios::Config`\n</code></pre>\n\n<p>is a mistake. <code>bash</code> will take an expression in backticks, execute it, and substitute the output of the command for the expression. The output of <code>cpanm</code> is not going to be shell commands, so this will not work. It should simply be</p>\n\n<pre><code>try cpanm Nagios::Config\n</code></pre>\n"}], "owner": {"reputation": 11, "user_id": 5096132, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/7fc32108100725ad72c7a6a0239e799d?s=128&d=identicon&r=PG&f=1", "display_name": "andys", "link": "https://stackoverflow.com/users/5096132/andys"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 1338, "favorite_count": 0, "answer_count": 1, "score": 1, "last_activity_date": 1436540100, "creation_date": 1436397207, "last_edit_date": 1495539831, "question_id": 31305446, "link": "https://stackoverflow.com/questions/31305446/installing-cpanm-in-a-bash-script", "title": "Installing cpanm in a bash script", "body": "<p>I'm writing a script that installs and configures Nagios to my requirements. It requires cpanm and some perl modules. </p>\n\n<p>It's using the step/try/next function from here: <a href=\"https://stackoverflow.com/a/5196220\">https://stackoverflow.com/a/5196220</a></p>\n\n<pre><code>step \"Downloading cpanm installer\"\n try `wget -q http://cpanmin.us -O $swrepo/cpanm.install`\nnext\n\nstep \"Installing cpanm\"\n  try echo '{ exec &lt;/dev/tty; cat $swrepo/cpanm.install | perl - App::cpanminus; }' | bash\n  # try bash -c \"$(cat $swrepo/cpanm.install | perl - App::cpanminus)\"\n  # try cat $swrepo/cpanm.install | perl - App::cpanminus\nnext\n\nstep \"Installing Perl module Nagios Config\"\n  try `cpanm Nagios::Config`\nnext\n</code></pre>\n\n<p>My problems here are:</p>\n\n<ol>\n<li><p>whichever way I attempt to run the install for cpanminus, it fails the script, and won't install properly. I can't seem to make it function outside of the step/try/next functions (not that I want it to.)</p></li>\n<li><p>The cpanm command fails too. If I isolate and run only this part of the script, it still fails, with \"cpanm command not found.\" I can run it manually at the command line.</p></li>\n</ol>\n\n<p>Any pointers for the slightly frustrated?</p>\n\n<p><strong>Update</strong></p>\n\n<p>I pulled the cpanm setup out to a separate file:\n    step \"Installing cpanm\"\n      try sh conf_cpanm.sh\n    next</p>\n\n<p>Which works, and I'll probably try and pull it back in at a later date, but so far that functions. So it can stay.</p>\n\n<p>However, doing the same for\n    try cpanm Nagios::Config\nwon't work. The file looks like this:</p>\n\n<pre><code>#!/bin/bash\ncpanm Nagios::Config\n</code></pre>\n\n<p>...and if I run that by calling <code>sh conf_nagcpanm.sh</code> it works fine.</p>\n"}, {"tags": ["perl", "preprocessor"], "comments": [{"owner": {"reputation": 4120, "user_id": 9719, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/EIDSQ.png?s=128&g=1", "display_name": "darch", "link": "https://stackoverflow.com/users/9719/darch"}, "edited": false, "score": 3, "creation_date": 1436407801, "post_id": 31305370, "comment_id": 50603174, "body": "You almost certainly want to use some data structure other than plain scalars.  What problem are you trying to solve?"}], "answers": [{"comments": [{"owner": {"reputation": 51521, "user_id": 2566198, "user_type": "registered", "accept_rate": 67, "profile_image": "https://i.stack.imgur.com/Y34ZA.jpg?s=128&g=1", "display_name": "Sobrique", "link": "https://stackoverflow.com/users/2566198/sobrique"}, "edited": false, "score": 0, "creation_date": 1436435130, "post_id": 31306385, "comment_id": 50615480, "body": "I would suggest this answer would benefit from an example of using a hash."}], "tags": [], "owner": {"reputation": 110113, "user_id": 168657, "user_type": "registered", "accept_rate": 92, "profile_image": "https://www.gravatar.com/avatar/f14e7610fca39322ebbf23530def15f8?s=128&d=identicon&r=PG", "display_name": "mob", "link": "https://stackoverflow.com/users/168657/mob"}, "is_accepted": true, "score": 2, "last_activity_date": 1436403534, "last_edit_date": 1495542103, "creation_date": 1436403534, "answer_id": 31306385, "question_id": 31305370, "link": "https://stackoverflow.com/questions/31305370/perl-preprocessor-appended-to-other-variable/31306385#31306385", "title": "Perl preprocessor appended to other variable", "body": "<p>What you wrote doesn't make sense even for the C preprocessor, since <code>varPRE1</code> would get parsed as one token.</p>\n\n<p>What you want to do is sort of possible, using what are called symbolic references, but it is <a href=\"https://stackoverflow.com/a/29207792/168657\">a</a> <a href=\"http://perl.plover.com/varvarname.html\" rel=\"nofollow noreferrer\">bad</a> <a href=\"https://stackoverflow.com/a/14956232/168657\">idea</a>.</p>\n\n<pre><code>$PRE1 = '1';\n$PRE2 = '2';\n$var1 = 10;\n$var2 = 20;\nprint ${'var' . $PRE1};   #   same as print $var1 =&gt; 10\nprint ${'var' . $PRE2};\n</code></pre>\n\n<p>This will not work under <code>use strict refs</code>. It is also a bad idea to not <code>use strict refs</code>.</p>\n"}], "owner": {"reputation": 681, "user_id": 996260, "user_type": "registered", "accept_rate": 45, "profile_image": "https://www.gravatar.com/avatar/8a9df3477c611aeaf2801129c038d4f6?s=128&d=identicon&r=PG", "display_name": "Tanmay", "link": "https://stackoverflow.com/users/996260/tanmay"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 36, "favorite_count": 0, "accepted_answer_id": 31306385, "answer_count": 1, "score": 0, "last_activity_date": 1436403534, "creation_date": 1436396813, "last_edit_date": 1436397136, "question_id": 31305370, "link": "https://stackoverflow.com/questions/31305370/perl-preprocessor-appended-to-other-variable", "title": "Perl preprocessor appended to other variable", "body": "<p>I am trying to write following code, where I want $varPRE1 to be $var1 and $varPRE2 to be $var2 after preprocessor is evaluated, but it is not working. Is there a work around?</p>\n\n<pre><code>#define PRE1 1\n#define PRE2 2\n\nmy $var1 = 10;\nmy $var2 = 20;\n\nprint $varPRE1;\nprint $varPRE2;\n</code></pre>\n"}, {"tags": ["perl", "parallel-processing", "mpi"], "comments": [{"owner": {"reputation": 21782, "user_id": 176646, "user_type": "registered", "accept_rate": 88, "profile_image": "https://i.stack.imgur.com/HsQyV.png?s=128&g=1", "display_name": "ThisSuitIsBlackNot", "link": "https://stackoverflow.com/users/176646/thissuitisblacknot"}, "edited": false, "score": 0, "creation_date": 1436387002, "post_id": 31302718, "comment_id": 50595975, "body": "If you don&#39;t need the different instances of your script to communicate with each other, you don&#39;t need MPI. You do need to consider a couple of things, though: 1) How will each instance know which files it&#39;s responsible for processing? 2) If different processes will be writing to the same file(s) simultaneously, the output can get interwoven; often it&#39;s better to accumulate the output for each process separately and combine them all at the end."}, {"owner": {"reputation": 382, "user_id": 5058753, "user_type": "registered", "accept_rate": 36, "profile_image": "https://www.gravatar.com/avatar/b28a867684af1ed1128e934d09125164?s=128&d=identicon&r=PG&f=1", "display_name": "DolphinGenomePyramids", "link": "https://stackoverflow.com/users/5058753/dolphingenomepyramids"}, "reply_to_user": {"reputation": 21782, "user_id": 176646, "user_type": "registered", "accept_rate": 88, "profile_image": "https://i.stack.imgur.com/HsQyV.png?s=128&g=1", "display_name": "ThisSuitIsBlackNot", "link": "https://stackoverflow.com/users/176646/thissuitisblacknot"}, "edited": false, "score": 0, "creation_date": 1436387851, "post_id": 31302718, "comment_id": 50596438, "body": "1) Each instance knows the file because it iterates the file handle. 2) You&#39;re talking about millions of lines that I cannot save into a data structure but need to write out."}, {"owner": {"reputation": 21782, "user_id": 176646, "user_type": "registered", "accept_rate": 88, "profile_image": "https://i.stack.imgur.com/HsQyV.png?s=128&g=1", "display_name": "ThisSuitIsBlackNot", "link": "https://stackoverflow.com/users/176646/thissuitisblacknot"}, "edited": false, "score": 0, "creation_date": 1436389369, "post_id": 31302718, "comment_id": 50597223, "body": "1) I don&#39;t know what you mean by &quot;iterates the file handle,&quot; but I assume you&#39;re talking about your <code>@files</code> array. If <code>@files</code> contains A, B, C, D, E, and F, you need a way to indicate that the processes on node 1 should work on files A, B, and C, while the processes on node 2 should work on files D, E, and F. A simple way to do this might be based on the hostname, but you could also use MPI. 2) I never said anything about saving to a data structure. You can accumulate the output in a separate file per process, and then merge the files at the end. Unleslikes interleavedyou output ;)"}], "owner": {"reputation": 382, "user_id": 5058753, "user_type": "registered", "accept_rate": 36, "profile_image": "https://www.gravatar.com/avatar/b28a867684af1ed1128e934d09125164?s=128&d=identicon&r=PG&f=1", "display_name": "DolphinGenomePyramids", "link": "https://stackoverflow.com/users/5058753/dolphingenomepyramids"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 475, "favorite_count": 1, "answer_count": 0, "score": 1, "last_activity_date": 1436386173, "creation_date": 1436386173, "question_id": 31302718, "link": "https://stackoverflow.com/questions/31302718/implement-parallelmpi-in-perl-script", "title": "Implement Parallel::MPI in perl script", "body": "<p>I have a code that I would like to parallelize over 8 nodes, 8 processors per node. </p>\n\n<p>I don't have a clue how to properly implement <code>Parallel::MPI::Simple</code></p>\n\n<p>Here's the basic code:</p>\n\n<pre><code>#!/usr/bin/perl\n\n# initialize parallelizing here \nforeach(keys %hash1){\n    #fork job\n\n    foreach my $fh (@files) {\n        #get data\n        open OUT, \"&gt;&gt;\".$ofh;\n        print OUT $data,\"\\n\";\n        close OUT;\n    }\n\n    # end fork\n}\n# end script\n</code></pre>\n\n<p>I would then run it like this I assume</p>\n\n<pre><code>#PBS -l nodes=8:ppn=8\nmpirun -n 64 perl parallelizing.pl\n</code></pre>\n\n<p>I'm confused over the documentation. <strong>I do not need the nodes to talk to each other</strong>. Just execute a the same command in different files over multiple nodes. Then open, print, and close.</p>\n\n<p>thanks so much! </p>\n"}, {"tags": ["linux", "perl", "parallel-processing", "fork", "slurm"], "answers": [{"comments": [{"owner": {"reputation": 382, "user_id": 5058753, "user_type": "registered", "accept_rate": 36, "profile_image": "https://www.gravatar.com/avatar/b28a867684af1ed1128e934d09125164?s=128&d=identicon&r=PG&f=1", "display_name": "DolphinGenomePyramids", "link": "https://stackoverflow.com/users/5058753/dolphingenomepyramids"}, "edited": false, "score": 0, "creation_date": 1436380068, "post_id": 31299453, "comment_id": 50591766, "body": "I&#39;m not certain how to proceed with such a test. How do I call the node that the forked job is running on."}, {"owner": {"reputation": 382, "user_id": 5058753, "user_type": "registered", "accept_rate": 36, "profile_image": "https://www.gravatar.com/avatar/b28a867684af1ed1128e934d09125164?s=128&d=identicon&r=PG&f=1", "display_name": "DolphinGenomePyramids", "link": "https://stackoverflow.com/users/5058753/dolphingenomepyramids"}, "edited": false, "score": 0, "creation_date": 1436380256, "post_id": 31299453, "comment_id": 50591866, "body": "If you have any good examples of <code>Parallel::MPI</code>(to save me time looking for one, PI is bringing out the whip) I would really appreciate it. Thanks for the answer!"}, {"owner": {"reputation": 287, "user_id": 4352360, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/56c19f63497973a1ed7f83bd691d365b?s=128&d=identicon&r=PG", "display_name": "Mark", "link": "https://stackoverflow.com/users/4352360/mark"}, "reply_to_user": {"reputation": 382, "user_id": 5058753, "user_type": "registered", "accept_rate": 36, "profile_image": "https://www.gravatar.com/avatar/b28a867684af1ed1128e934d09125164?s=128&d=identicon&r=PG&f=1", "display_name": "DolphinGenomePyramids", "link": "https://stackoverflow.com/users/5058753/dolphingenomepyramids"}, "edited": false, "score": 2, "creation_date": 1436380344, "post_id": 31299453, "comment_id": 50591908, "body": "There are two tests:  1.  Is my job running on all four nodes?  Simply have each process output its hostname.  This can be something as simple as print <code>hostname</code>; (sorry I don&#39;t know how to escape backticks)  2.  Is my job duplicating all effort on all four nodes?  Look at your debugging output.  Let&#39;s say you are outputting the energy of a system for each timestep.  You&#39;ll see four indentical outputs of each timestep if your process is not sharing work across all four nodes."}, {"owner": {"reputation": 21782, "user_id": 176646, "user_type": "registered", "accept_rate": 88, "profile_image": "https://i.stack.imgur.com/HsQyV.png?s=128&g=1", "display_name": "ThisSuitIsBlackNot", "link": "https://stackoverflow.com/users/176646/thissuitisblacknot"}, "edited": false, "score": 1, "creation_date": 1436382323, "post_id": 31299453, "comment_id": 50593146, "body": "@Mark Great answer. And you can escape backticks in comments with backslashes: the text <code>`print \\`hostname\\`;`</code> will produce <code>print `hostname`;</code>."}, {"owner": {"reputation": 821, "user_id": 2912478, "user_type": "registered", "accept_rate": 81, "profile_image": "https://www.gravatar.com/avatar/bbfd1023cf7ba3aef7d10bcde4ccb2a4?s=128&d=identicon&r=PG&f=1", "display_name": "rph", "link": "https://stackoverflow.com/users/2912478/rph"}, "edited": false, "score": 0, "creation_date": 1480160629, "post_id": 31299453, "comment_id": 68855394, "body": "Interesting observation about the communication amongst the nodes. Using Parallel::ForkManager would be fine if you only want to use a single node, is this right?"}], "tags": [], "owner": {"reputation": 287, "user_id": 4352360, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/56c19f63497973a1ed7f83bd691d365b?s=128&d=identicon&r=PG", "display_name": "Mark", "link": "https://stackoverflow.com/users/4352360/mark"}, "is_accepted": true, "score": 8, "last_activity_date": 1436377335, "last_edit_date": 1436377335, "creation_date": 1436376054, "answer_id": 31299453, "question_id": 31299271, "link": "https://stackoverflow.com/questions/31299271/multithreading-on-slurm/31299453#31299453", "title": "Multithreading on SLURM", "body": "<p>As far as I know <code>Parallel::ForkManager</code> doesn't make use of MPI, so if you're using <code>mpirun</code> I don't see how it's going to communicate across nodes. A simple test is to have each child output hostname.</p>\n\n<p>One thing that commonly happens with non-MPI software launched with <code>mpirun</code> is that you duplicate all your effort across all nodes, so that they are all doing the exact same thing instead of sharing the work. If you use <a href=\"https://metacpan.org/pod/Parallel::MPI\" rel=\"noreferrer\"><code>Parallel::MPI</code></a> it should work just fine.</p>\n"}], "owner": {"reputation": 382, "user_id": 5058753, "user_type": "registered", "accept_rate": 36, "profile_image": "https://www.gravatar.com/avatar/b28a867684af1ed1128e934d09125164?s=128&d=identicon&r=PG&f=1", "display_name": "DolphinGenomePyramids", "link": "https://stackoverflow.com/users/5058753/dolphingenomepyramids"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 947, "favorite_count": 0, "accepted_answer_id": 31299453, "answer_count": 1, "score": 5, "last_activity_date": 1436381261, "creation_date": 1436375512, "last_edit_date": 1436381261, "question_id": 31299271, "link": "https://stackoverflow.com/questions/31299271/multithreading-on-slurm", "title": "Multithreading on SLURM", "body": "<p>I have a Perl script that forks using the <a href=\"https://metacpan.org/pod/Parallel::ForkManager\" rel=\"nofollow\"><code>Parallel::ForkManager</code></a> module.</p>\n\n<p>To my knowledge, if I fork 32 child processes and ask the SLURM scheduler to run the job on 4 nodes, 8 processors per node, the code will execute each child process on every core.</p>\n\n<p>Someone in my lab said that if I run a job on multiple nodes that the other nodes are not used, and I'm wasting time and money. Is this accurate? </p>\n\n<p>If I use a script that forks am I limited to one node with SLURM?</p>\n"}, {"tags": ["perl", "mutex"], "comments": [{"owner": {"reputation": 57743, "user_id": 1090079, "user_type": "registered", "accept_rate": 91, "profile_image": "https://i.stack.imgur.com/uWGaU.png?s=128&g=1", "display_name": "Filip Ros&#233;en - refp", "link": "https://stackoverflow.com/users/1090079/filip-ros%c3%a9en-refp"}, "edited": false, "score": 0, "creation_date": 1436373254, "post_id": 31298309, "comment_id": 50587540, "body": "<b>TRY THIS</b>: before you spawn any other threads, create the mutex using <code>my $global_lock = Win32::Mutex-&gt;new (0, $mutexName)</code>, and when trying to aquire ownership (ie. working with the mutex previously created) use <code>my $mutex = Win32::Mutex-&gt;open ($mutexName)</code>. (I am not familiar with the internals of <code>Win32::Mutex</code>, but it wouldn&#39;t surprise me if your code creates a new mutex each time - instead of referring to previously created entities)."}, {"owner": {"reputation": 320771, "user_id": 589924, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/b2cf53d5a3d25f95c0db4e025aed4153?s=128&d=identicon&r=PG", "display_name": "ikegami", "link": "https://stackoverflow.com/users/589924/ikegami"}, "edited": false, "score": 0, "creation_date": 1436375842, "post_id": 31298309, "comment_id": 50589136, "body": "They&#39;re thin wrappers over the system calls CreateMutex, OpenMutex, etc. // The OP said he had two processes, not two threads in one process."}], "answers": [{"tags": [], "owner": {"reputation": 320771, "user_id": 589924, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/b2cf53d5a3d25f95c0db4e025aed4153?s=128&d=identicon&r=PG", "display_name": "ikegami", "link": "https://stackoverflow.com/users/589924/ikegami"}, "is_accepted": false, "score": -1, "last_activity_date": 1436377142, "last_edit_date": 1436377142, "creation_date": 1436376446, "answer_id": 31299587, "question_id": 31298309, "link": "https://stackoverflow.com/questions/31298309/perl-mutex-doesnt-seem-to-be-working/31299587#31299587", "title": "Perl Mutex Doesn&#39;t Seem to be working", "body": "<p>What you posted does not suffer from the bug you describe, and neither does the following:</p>\n\n<pre><code>use strict;\nuse warnings;\n\nuse Object::Destroyer qw( );\nuse Win32::Mutex      qw( );\n\nsub mutex_nb {\n    my ($name) = @_;    \n    my $mutex = Win32::Mutex-&gt;new(0, $name)\n        or die(\"Can't create mutex: $^E\\n\");\n\n    my $rv = $mutex-&gt;wait(0);\n    die(\"Can't wait for mutex: $^E\\n\")\n        if !defined($rv);\n    die(\"Can't wait for mutex: Abandonned mutex\\n\")\n        if $rv &lt; 0;\n    return undef\n        if $rv == 0;\n\n    return Object::Destroyer-&gt;new($mutex, 'Release');\n}\n\nsub main {\n   my $mutex = mutex_nb('export')\n      or do {\n         print(\"Program already running.\\n\");\n         return;\n      };\n\n   print(\"Working...\\n\");\n   sleep(10);   \n   print(\"done.\\n\");\n}\n\nmain();\n</code></pre>\n\n<p>Output:</p>\n\n<p><img src=\"https://i.stack.imgur.com/c2Oci.png\" alt=\"Output\"></p>\n\n<p>In the future, please provide a demonstration of your problem in your question.</p>\n"}, {"tags": [], "owner": {"reputation": 151, "user_id": 2762725, "user_type": "registered", "accept_rate": 43, "profile_image": "https://www.gravatar.com/avatar/cbcadfb216af8aa55e075227a586ee94?s=128&d=identicon&r=PG&f=1", "display_name": "eric kulcyk", "link": "https://stackoverflow.com/users/2762725/eric-kulcyk"}, "is_accepted": false, "score": 0, "last_activity_date": 1436382440, "creation_date": 1436382440, "answer_id": 31301570, "question_id": 31298309, "link": "https://stackoverflow.com/questions/31298309/perl-mutex-doesnt-seem-to-be-working/31301570#31301570", "title": "Perl Mutex Doesn&#39;t Seem to be working", "body": "<p>Ok I figured it out.</p>\n\n<p>Apparently there was a condition added around the mutex (which would end up as true), but I think that the mutex was going out of scope after the if method.</p>\n\n<p>Essentially, it looked like:</p>\n\n<pre><code>if($trueVar == \"1\")\n{\n  my $mutex = ClaimMutex(\"export\");\n  if (!defined $mutex)\n  {\n    return 1;\n  }\n}\n</code></pre>\n"}], "owner": {"reputation": 151, "user_id": 2762725, "user_type": "registered", "accept_rate": 43, "profile_image": "https://www.gravatar.com/avatar/cbcadfb216af8aa55e075227a586ee94?s=128&d=identicon&r=PG&f=1", "display_name": "eric kulcyk", "link": "https://stackoverflow.com/users/2762725/eric-kulcyk"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 193, "favorite_count": 0, "answer_count": 2, "score": 0, "last_activity_date": 1436382440, "creation_date": 1436372514, "question_id": 31298309, "link": "https://stackoverflow.com/questions/31298309/perl-mutex-doesnt-seem-to-be-working", "title": "Perl Mutex Doesn&#39;t Seem to be working", "body": "<p>I have the following perl mutex code:</p>\n\n<pre><code># ClaimMutex\n#\n# Return the mutex on success and undef on failure\n#\n# The mutex will be released if it's out of its scope\n#\nsub ClaimMutex {\n    my ($mutexName) = @_;\n    my $mutex = Win32::Mutex-&gt;new(0, $mutexName);\n    if (!defined $mutex) {\n        EPrint(\"Failed to create a mutex: $^E\\n\");\n        return;\n    }\n    if($mutex-&gt;wait(0) == 0) {\n        TPrint(\"Waiting for another instance of $mutexName to finish\\n\");\n        if ($mutex-&gt;wait() == 0) {\n            EPrint(\"Failed to get a $mutexName mutex lock: $^E\\n\");\n            return;\n        }\n    }\n\n    return OnDestroy($mutex, sub { $_[0]-&gt;Release(); });\n}\n</code></pre>\n\n<p>And I call it with:</p>\n\n<pre><code>sub Export\n{\n  my ($rOptions) = @_;\n\n  my $mutex = ClaimMutex(\"export\");\n  if (!defined $mutex)\n  {\n    return 1;\n  }\n\n  ...\n   read from d:\\foo.txt\n   copy d:\\foo.txt to d:\\foobackup.txt\n   write to d:\\foo.txt\n   ...\n }\n</code></pre>\n\n<p>This is running in parallel on two separate instances of Perl.  However, I did I procmon while they are running, and I saw that one instance opened d:\\foo.txt for write, and never finished writing before the other instance tried to open it for read (and failed the open).  I'm confused, as I thought that the mutex was going to prevent this.  I verified the only place that does anything in foo.txt is in the Export sub.  Do you have any suggestions for what might be going on?</p>\n"}, {"tags": ["linux", "perl"], "answers": [{"comments": [{"owner": {"reputation": 51521, "user_id": 2566198, "user_type": "registered", "accept_rate": 67, "profile_image": "https://i.stack.imgur.com/Y34ZA.jpg?s=128&g=1", "display_name": "Sobrique", "link": "https://stackoverflow.com/users/2566198/sobrique"}, "reply_to_user": {"reputation": 48798, "user_id": 223226, "user_type": "registered", "accept_rate": 93, "profile_image": "https://i.stack.imgur.com/iGqE4.png?s=128&g=1", "display_name": "mpapec", "link": "https://stackoverflow.com/users/223226/mpapec"}, "edited": false, "score": 0, "creation_date": 1436371753, "post_id": 31297995, "comment_id": 50586628, "body": "True. A useful feature, but I tend to leave quotes in, just because I think it clearer."}, {"owner": {"reputation": 17, "user_id": 4656840, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/04cbef2b7785413535555e127e240399?s=128&d=identicon&r=PG&f=1", "display_name": "Kalaiyarasan Selvaraj", "link": "https://stackoverflow.com/users/4656840/kalaiyarasan-selvaraj"}, "edited": false, "score": 0, "creation_date": 1436371832, "post_id": 31297995, "comment_id": 50586675, "body": "Hi Sobrique, i used hash which you said. and print $envin{$host}; but again same error .."}, {"owner": {"reputation": 17, "user_id": 4656840, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/04cbef2b7785413535555e127e240399?s=128&d=identicon&r=PG&f=1", "display_name": "Kalaiyarasan Selvaraj", "link": "https://stackoverflow.com/users/4656840/kalaiyarasan-selvaraj"}, "edited": false, "score": 0, "creation_date": 1436371962, "post_id": 31297995, "comment_id": 50586754, "body": "i m getting output of print $host  is dev. ya.its given"}, {"owner": {"reputation": 1246, "user_id": 107205, "user_type": "registered", "accept_rate": 87, "profile_image": "https://www.gravatar.com/avatar/d124418f501732a63119b62000ec31be?s=128&d=identicon&r=PG", "display_name": "ryansstack", "link": "https://stackoverflow.com/users/107205/ryansstack"}, "edited": false, "score": 0, "creation_date": 1436373207, "post_id": 31297995, "comment_id": 50587520, "body": "from the command line, run &quot;  hostname | cut -c8-10  &quot; and tell us what it prints"}, {"owner": {"reputation": 87649, "user_id": 17389, "user_type": "registered", "accept_rate": 38, "profile_image": "https://www.gravatar.com/avatar/cd06d1314817ce946ab796af8750b56a?s=128&d=identicon&r=PG", "display_name": "ysth", "link": "https://stackoverflow.com/users/17389/ysth"}, "edited": false, "score": 3, "creation_date": 1436375688, "post_id": 31297995, "comment_id": 50589034, "body": "$host will have a newline at the end; remove it with chomp before using it as the hash key.  A good way to inspect values is <code>use Data::Dumper; $Data::Dumper::Useqq=1; print Dumper $host</code>"}], "tags": [], "owner": {"reputation": 51521, "user_id": 2566198, "user_type": "registered", "accept_rate": 67, "profile_image": "https://i.stack.imgur.com/Y34ZA.jpg?s=128&g=1", "display_name": "Sobrique", "link": "https://stackoverflow.com/users/2566198/sobrique"}, "is_accepted": false, "score": 6, "last_activity_date": 1436372850, "last_edit_date": 1436372850, "creation_date": 1436371595, "answer_id": 31297995, "question_id": 31297928, "link": "https://stackoverflow.com/questions/31297928/how-to-pass-variable-as-key-to-hash-in-perl/31297995#31297995", "title": "How to pass variable as Key to hash in perl", "body": "<ul>\n<li>You're quoting <code>$host</code> with single quotes. It therefore won't be interpolated. You want <code>$envin{$host}</code> instead. <code>$envin{\"$host\"}</code> would work, but the quotes are redundant. </li>\n<li><code>$host</code> might have a linefeed. (<code>chomp</code> will fix)</li>\n<li><p>usually a hash is more clearly written like this:</p>\n\n<pre><code>my %envin = (\n    'dev' =&gt; 'dev',\n    'stg' =&gt; 'stage',\n    'prd' =&gt; 'prod', \n); \n</code></pre></li>\n</ul>\n"}], "owner": {"reputation": 17, "user_id": 4656840, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/04cbef2b7785413535555e127e240399?s=128&d=identicon&r=PG&f=1", "display_name": "Kalaiyarasan Selvaraj", "link": "https://stackoverflow.com/users/4656840/kalaiyarasan-selvaraj"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 338, "favorite_count": 0, "answer_count": 1, "score": 0, "last_activity_date": 1436373404, "creation_date": 1436371401, "last_edit_date": 1436373404, "question_id": 31297928, "link": "https://stackoverflow.com/questions/31297928/how-to-pass-variable-as-key-to-hash-in-perl", "title": "How to pass variable as Key to hash in perl", "body": "<pre><code>my $host =`hostname | cut -c8-10`;\n      my %envin = ('dev','dev','stg','stage','prd','prod');\n      print $envin{'$host'};\n</code></pre>\n\n<p>Output :</p>\n\n<blockquote>\n  <p>Use of uninitialized value in print at host.pl line 7.</p>\n</blockquote>\n\n<p>Unable to pass the variable as key to hash</p>\n\n<p>Regards,\nkalai</p>\n"}, {"tags": ["perl", "file"], "comments": [{"owner": {"reputation": 12098, "user_id": 3095, "user_type": "registered", "accept_rate": 89, "profile_image": "https://www.gravatar.com/avatar/5e9b86bbe0805dfaf5d07146d2a69956?s=128&d=identicon&r=PG", "display_name": "Dave", "link": "https://stackoverflow.com/users/3095/dave"}, "edited": false, "score": 1, "creation_date": 1436371353, "post_id": 31297842, "comment_id": 50586346, "body": "where does it freeze at?"}, {"owner": {"reputation": 48798, "user_id": 223226, "user_type": "registered", "accept_rate": 93, "profile_image": "https://i.stack.imgur.com/iGqE4.png?s=128&g=1", "display_name": "mpapec", "link": "https://stackoverflow.com/users/223226/mpapec"}, "edited": false, "score": 1, "creation_date": 1436371530, "post_id": 31297842, "comment_id": 50586460, "body": "getstore() and is_success() are important for the issue but you didn&#39;t provide them."}, {"owner": {"reputation": 419, "user_id": 1870751, "user_type": "registered", "accept_rate": 50, "profile_image": "https://www.gravatar.com/avatar/fd46bb57fab3e898b55bd11f7437bcee?s=128&d=identicon&r=PG&f=1", "display_name": "tempusfugit", "link": "https://stackoverflow.com/users/1870751/tempusfugit"}, "edited": false, "score": 0, "creation_date": 1436374615, "post_id": 31297842, "comment_id": 50588427, "body": "It freezes at getstore"}, {"owner": {"reputation": 419, "user_id": 1870751, "user_type": "registered", "accept_rate": 50, "profile_image": "https://www.gravatar.com/avatar/fd46bb57fab3e898b55bd11f7437bcee?s=128&d=identicon&r=PG&f=1", "display_name": "tempusfugit", "link": "https://stackoverflow.com/users/1870751/tempusfugit"}, "edited": false, "score": 0, "creation_date": 1436374656, "post_id": 31297842, "comment_id": 50588444, "body": "@ \u0421\u0443\u0445\u043e\u043927 didn&#39;t provide them - I did not understand that"}, {"owner": {"reputation": 3414, "user_id": 40285, "user_type": "registered", "accept_rate": 75, "profile_image": "https://www.gravatar.com/avatar/1574e7851a08a81faca7e0f87575510e?s=128&d=identicon&r=PG", "display_name": "Len Jaffe", "link": "https://stackoverflow.com/users/40285/len-jaffe"}, "edited": false, "score": 0, "creation_date": 1436376590, "post_id": 31297842, "comment_id": 50589580, "body": "\u0421\u0443\u0445\u043e\u043927 is not aware that they are defined in LWP and myriad Request and Response objects that are employed."}, {"owner": {"reputation": 3414, "user_id": 40285, "user_type": "registered", "accept_rate": 75, "profile_image": "https://www.gravatar.com/avatar/1574e7851a08a81faca7e0f87575510e?s=128&d=identicon&r=PG", "display_name": "Len Jaffe", "link": "https://stackoverflow.com/users/40285/len-jaffe"}, "edited": false, "score": 2, "creation_date": 1436376608, "post_id": 31297842, "comment_id": 50589590, "body": "have you tried using strace?"}, {"owner": {"reputation": 123805, "user_id": 622310, "user_type": "registered", "accept_rate": 33, "profile_image": "https://www.gravatar.com/avatar/8b6d35219e1808520bc238b28161e2e6?s=128&d=identicon&r=PG", "display_name": "Borodin", "link": "https://stackoverflow.com/users/622310/borodin"}, "edited": false, "score": 1, "creation_date": 1436383909, "post_id": 31297842, "comment_id": 50594139, "body": "What is <code>mktime</code>? And why do you have double slashes in your file path? I trust you know that Perl doesn&#39;t accept C-style comments? I have changed all the <code>&#47;&#47;</code> comments in your Perl to hashes <code>#</code>"}, {"owner": {"reputation": 419, "user_id": 1870751, "user_type": "registered", "accept_rate": 50, "profile_image": "https://www.gravatar.com/avatar/fd46bb57fab3e898b55bd11f7437bcee?s=128&d=identicon&r=PG&f=1", "display_name": "tempusfugit", "link": "https://stackoverflow.com/users/1870751/tempusfugit"}, "reply_to_user": {"reputation": 123805, "user_id": 622310, "user_type": "registered", "accept_rate": 33, "profile_image": "https://www.gravatar.com/avatar/8b6d35219e1808520bc238b28161e2e6?s=128&d=identicon&r=PG", "display_name": "Borodin", "link": "https://stackoverflow.com/users/622310/borodin"}, "edited": false, "score": 0, "creation_date": 1436453550, "post_id": 31297842, "comment_id": 50629070, "body": "I did not use strace(I am on Windows); @Borodin I removed the # because it was formatting the text differently. mktime will convert date/time info to a calendar time"}], "owner": {"reputation": 419, "user_id": 1870751, "user_type": "registered", "accept_rate": 50, "profile_image": "https://www.gravatar.com/avatar/fd46bb57fab3e898b55bd11f7437bcee?s=128&d=identicon&r=PG&f=1", "display_name": "tempusfugit", "link": "https://stackoverflow.com/users/1870751/tempusfugit"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 78, "favorite_count": 0, "answer_count": 0, "score": 1, "last_activity_date": 1436383877, "creation_date": 1436371124, "last_edit_date": 1436383877, "question_id": 31297842, "link": "https://stackoverflow.com/questions/31297842/perl-script-for-downloading-a-file-not-working", "title": "Perl script for downloading a file not working", "body": "<p>This is a test script I wrote to download a file from an URL.</p>\n\n<p>The URL must be a direct link to the download file, and depending on the time provided, the program will count down and download at the specified time.</p>\n\n<p>The problem is, it works for smaller file (~kb), but when I try for big files it freezes.</p>\n\n<pre><code>my $url       = 'http://releases.ubuntu.com/14.04.2/ubuntu-14.04.2-desktop-amd64.iso';\nmy $file      = '//strawberry//myscripts//ubuntu-14.04.2-desktop-amd64.iso';\nmy $starttime = '08.07.15 11:43:11';\n\nmy $nowtime  = time;    # time in sec since 1970\nmy $sTime    = 0;\nmy $sleepSec = 0;\n\n# parsing the input (start) time\nif ( $starttime =~ /^\\s*(\\d{1,2})\\.(\\d{1,2})\\.(\\d{2})\\s+(\\d{1,2})\\:(\\d{1,2})\\:(\\d{1,2})/ ) {\n    #   mktime(sec,min,hr,day,month,year)\n    #   month (0..11); year = 0 =&gt; 1900 , year = 100 =&gt; 2000\n    $sTime = mktime( $6, $5, $4, $1, $2 - 1, 100 + $3 );\n}\n\nprint \"\\nNow, the time is         ---\", ctime( $nowtime );\nprint \"\\nDownload will start at   ---\", ctime( $sTime );\n\n$sleepSec = difftime( $sTime, $nowtime );\n\nif ( $sleepSec &gt; 0 ) {\n\n    print \"I will sleep for $sleepSec seconds, and then download it. zzZ\\n\";\n    my $num = $sleepSec;\n\n    while ( $num-- ) {\n        sleep( 1 );\n        $| = 1;\n        print \"$num\\r\";\n    }\n\n    my $status = getstore( $url, $file );\n    die \"Error $status on $url\" unless is_success( $status );\n    print \"Your file has been downloaded successfully.\\n\";\n}\nelse {\n    print \"Shit I missed my starttime...\\n\";\n}\n</code></pre>\n"}, {"tags": ["perl", "twitter", "media"], "answers": [{"tags": [], "owner": {"reputation": 814, "user_id": 1753389, "user_type": "registered", "accept_rate": 14, "profile_image": "https://i.stack.imgur.com/5DPUE.jpg?s=128&g=1", "display_name": "Peter", "link": "https://stackoverflow.com/users/1753389/peter"}, "is_accepted": false, "score": 0, "last_activity_date": 1436972023, "creation_date": 1436972023, "answer_id": 31433837, "question_id": 31297394, "link": "https://stackoverflow.com/questions/31297394/upload-media-to-twitter-using-perl/31433837#31433837", "title": "Upload media to twitter using perl", "body": "<p>In the end I used readpipe with twurl. Had I known about twurl in the first place I likely would not have bothered with Net::Twitter! twurl works great, and returns a full json string to tell you what went wrong, if anything.</p>\n"}, {"comments": [{"owner": {"reputation": 814, "user_id": 1753389, "user_type": "registered", "accept_rate": 14, "profile_image": "https://i.stack.imgur.com/5DPUE.jpg?s=128&g=1", "display_name": "Peter", "link": "https://stackoverflow.com/users/1753389/peter"}, "edited": false, "score": 0, "creation_date": 1454674515, "post_id": 35196589, "comment_id": 58161894, "body": "Thanks, Rob. My code works ok for now, but I will keep this on filer for future."}], "tags": [], "owner": {"reputation": 111, "user_id": 1807389, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/1eab914c190ca5cf90a1a0896460e796?s=128&d=identicon&r=PG", "display_name": "Rob Willett", "link": "https://stackoverflow.com/users/1807389/rob-willett"}, "is_accepted": false, "score": 2, "last_activity_date": 1454576484, "creation_date": 1454576484, "answer_id": 35196589, "question_id": 31297394, "link": "https://stackoverflow.com/questions/31297394/upload-media-to-twitter-using-perl/35196589#35196589", "title": "Upload media to twitter using perl", "body": "<p>I thought I'd add an update here even though the thread is quite old. I too was looking for an answer to how to use Perl to upload media to twitter.</p>\n\n<p>Net::Twitter is perfectly capable of sending PNG images up to Twitter, though the documentation is poor. The OP is correct that update_with_media is deprecated and crashed for us.</p>\n\n<p>You do need to use the $nt->upload AND $nt->update methods combined. You upload the RAW PNG file encoded with base64, I could not get the RAW PNG file upload to work but no issues when base64 encoded. The upload method returns, on success, a JSON structure which has the media_ids in. These id's are then passed with the $nt->update method. Here's some actual code</p>\n\n<pre><code>use Net::Twitter;\nuse File::Slurp;\nuse MIME::Base64;\nuse Data::Dumper;\n\nmy $nt = Net::Twitter-&gt;new(\n    ssl      =&gt; 1,\n    traits   =&gt; [qw/API::RESTv1_1/],\n    consumer_key        =&gt; $config-&gt;{twitter}{api_key},\n    consumer_secret     =&gt; $config-&gt;{twitter}{api_secret},\n    access_token        =&gt; $config-&gt;{twitter}{access_token},\n    access_token_secret =&gt; $config-&gt;{twitter}{access_token_secret},\n    );\n\nmy $filename = \"&lt;somelink to a PNG file&gt;\";\nmy $file_contents = read_file ($filename , binmode =&gt; ':raw');\n\nmy $status = $nt-&gt;upload(encode_base64($file_contents));\nprint \"SendTweet: status = \".Dumper($status);\n\nmy $status2;\n\neval {\n    $status2 = $nt-&gt;update({status =&gt; $s , media_ids =&gt; $status-&gt;{media_id} });\n    print \"status2 = \".Dumper($status2);\n};\n\nif ($@)\n{\n    print \"Error: $@\\n\";\n}\n</code></pre>\n\n<p>The code is pulled directly from our working test code so should work. This code is purely proof of concept so you will need to add in all your twitter authentication etc. </p>\n\n<p>We have only done PNG files but I see no reason why video etc shouldn't work fine as we simply followed the Twitter docs.</p>\n\n<p>Rob</p>\n"}, {"comments": [{"owner": {"reputation": 21589, "user_id": 4875631, "user_type": "registered", "accept_rate": 74, "profile_image": "https://i.stack.imgur.com/fGuXb.png?s=128&g=1", "display_name": "Goodbye StackExchange", "link": "https://stackoverflow.com/users/4875631/goodbye-stackexchange"}, "edited": false, "score": 1, "creation_date": 1546728142, "post_id": 54056922, "comment_id": 94947905, "body": "Note we prefer a technical style of writing here. We gently discourage greetings, hope-you-can-helps, thanks, advance thanks, notes of appreciation, regards, kind regards, signatures, please-can-you-helps, chatty material and abbreviated txtspk, pleading, how long you&#39;ve been stuck, voting advice, meta commentary, etc. Please edit your answer, and cut out all the pieces that aren&#39;t relevant to answering this question."}], "tags": [], "owner": {"reputation": 1, "user_id": 10873139, "user_type": "unregistered", "profile_image": "https://www.gravatar.com/avatar/21e8a4446bd5f31192f001e6637acb98?s=128&d=identicon&r=PG", "display_name": "John Bell", "link": "https://stackoverflow.com/users/10873139/john-bell"}, "is_accepted": false, "score": 0, "last_activity_date": 1546785250, "last_edit_date": 1546785250, "creation_date": 1546727745, "answer_id": 54056922, "question_id": 31297394, "link": "https://stackoverflow.com/questions/31297394/upload-media-to-twitter-using-perl/54056922#54056922", "title": "Upload media to twitter using perl", "body": "<p>Pre-requisite: you need to get the Oauth keys for your twitter account. (See here - <a href=\"https://developer.twitter.com/en/docs/basics/authentication/guides/access-tokens.html\" rel=\"nofollow noreferrer\">https://developer.twitter.com/en/docs/basics/authentication/guides/access-tokens.html</a>). There are some step by step online exmaples elsewhere also that can help. </p>\n\n<p>Here's the code I ended up with. </p>\n\n<p>First call the tweet module (and these are not valid keys by the way - just insert yours)</p>\n\n<pre><code>use Jimtweet;\n\nmy $tweet=Jimtweet-&gt;new();\n\n$tweet-&gt;consumer_key('KvfevhjwkKJvinvalidkeycvhejwkKJVCwe');\n$tweet-&gt;consumer_secret('KvfevhjwkKJvcvnvalidkeyhejwkKJVCwe'); \n$tweet-&gt;oauth_token('KvfevhjwkKJvcvhenvalidkeyjwkKJVCwKvfevhjwkKJvcvhejwkKJVCweVU');\n$tweet-&gt;oauth_token_secret('KvfevhjwkKJvcvhejwnvalidkeykKJVCwe');\n\nmy $res = $tweet-&gt;update_status($message, $ENV{DOCUMENT_ROOT}.$li);\n</code></pre>\n\n<p><code>Jimtweet</code> is a free module I found online (I forget where), but I had to modify it to do the image upload. It follows below.\n<code>$message</code> is the text status message to send\n<code>$li</code> contains the local path to the file I want to upload. This is a file local on the server. <code>$ENV{DOCUMENT_ROOT}</code> contains the server path to the public HTML files on my website.</p>\n\n<p><code>$res</code> contains a JSON reply from twitter you can look at if you need to.</p>\n\n<p>If you want to use this, cut &amp; paste everything from 'package Jimtweet;' and on into a file called Jimtweet.pm which the above code should use. If your perl installation can't find the module try adding the line <code>use lib \"/home/your/path/to/jimtweet/directory;\"</code> before the <code>use Jimtweet;</code> line.</p>\n\n<p>Twitter requires an image to be uploaded, it then returns a <code>media_id</code>, then you include the <code>media_id</code> in a regular message you want to post. See Jimtweet package below:</p>\n\n<pre><code>package Jimtweet;\n#####JimTweet 0.1 By James Januszka 2010\n#####Email:jimjanuszka@gmail.com\n#####Twitter:@jamesjanuszka\n#####Modifications by John Bell to include image upload. Twitter: @BellUkcbajr\nuse strict;\nuse warnings;\nuse LWP;\nuse HTTP::Headers;\nuse URI::Encode qw(uri_encode);\nuse URI::Escape qw(uri_escape);\nuse Digest::HMAC_SHA1;\n\n####Constructor####\nsub new {\n    my $self={};\n    $self-&gt;{OAUTH_VERSION}=uri_escape(\"1.0\");\n    $self-&gt;{OAUTH_SIGNATURE_METHOD}=uri_escape(\"HMAC-SHA1\");\n    $self-&gt;{OAUTH_TIMESTAMP}=undef;\n    $self-&gt;{OAUTH_NONCE}=undef;\n    $self-&gt;{AGENT}=\"jimtweet/0.1\";\n\n#####################\n#Use this for status updates\n    $self-&gt;{URLx}=\"https://api.twitter.com/1.1/statuses/update.json\";\n\n#####################\n#Use this for image upload\n    $self-&gt;{URL}=\"https://upload.twitter.com/1.1/media/upload.json\";\n\n    $self-&gt;{BROWSER}=LWP::UserAgent-&gt;new(agent =&gt;$self-&gt;{AGENT});\n    $self-&gt;{CONSUMER_KEY}=undef;\n    $self-&gt;{CONSUMER_SECRET}=undef;\n    $self-&gt;{OAUTH_TOKEN}=undef;\n    $self-&gt;{OAUTH_TOKEN_SECRET}=undef;\n    $self-&gt;{STATUS}=undef;\n    $self-&gt;{MEDIAurl}=undef;\n    bless($self);\n    return $self;\n} \n\nsub consumer_key{\n    my $self=shift;\n    if (@_) { $self-&gt;{CONSUMER_KEY}=uri_escape(shift) }\n    return $self-&gt;{CONSUMER_KEY};\n}\n\nsub consumer_secret{\n    my $self = shift;\n    if (@_) { $self-&gt;{CONSUMER_SECRET}=uri_escape(shift) }\n    return $self-&gt;{CONSUMER_SECRET};\n}\n\nsub oauth_token{\n    my $self = shift;\n    if (@_) { $self-&gt;{OAUTH_TOKEN}=uri_escape(shift) }\n    return $self-&gt;{OAUTH_TOKEN};\n}\n\nsub oauth_token_secret{\n    my $self = shift;\n    if (@_) { $self-&gt;{OAUTH_TOKEN_SECRET}=uri_escape(shift) }\n    return $self-&gt;{OAUTH_TOKEN_SECRET};\n}\n\nsub update_status(@){\n    sleep(2);\n    my $self = shift;\n    if (@_) { $self-&gt;{STATUS}=uri_escape(shift) }\n    if (@_) { $self-&gt;{MEDIAurl}=shift }\n\n\n#Got parameters. Now create the POST to upload an image\n\n    my $seconds = time(); \n    $self-&gt;{OAUTH_TIMESTAMP}=uri_escape($seconds);\n    $self-&gt;{OAUTH_NONCE}=$self-&gt;{OAUTH_TIMESTAMP};\n\n#####################\n#Use this for uploads. Parameters have to be in alphabetical order! \n    my $query=qq(oauth_consumer_key=$self-&gt;{CONSUMER_KEY}&amp;oauth_nonce=$self-&gt;{OAUTH_NONCE}&amp;oauth_signature_method=$self-&gt;{OAUTH_SIGNATURE_METHOD}&amp;oauth_timestamp=$self-&gt;{OAUTH_TIMESTAMP}&amp;oauth_token=$self-&gt;{OAUTH_TOKEN}&amp;oauth_version=$self-&gt;{OAUTH_VERSION});\n\n    my $sig=\"POST&amp;\";\n\n    $sig .=uri_encode($self-&gt;{URL},1);\n    $sig .=\"&amp;\";\n    $sig .=uri_encode($query,1);\n\n    my $sig_key=$self-&gt;{CONSUMER_SECRET};\n    $sig_key .=\"&amp;\";\n    $sig_key .=$self-&gt;{OAUTH_TOKEN_SECRET};\n\n    my $hmac = Digest::HMAC_SHA1-&gt;new($sig_key);\n    $hmac-&gt;add($sig);\n\n    my $oauth_signature_base64=$hmac-&gt;b64digest;\n    $oauth_signature_base64 .=\"=\";\n\n    my $utf8_oauth_signature_base64=uri_escape($oauth_signature_base64);\n\n    my $header=qq(OAuth oauth_nonce=\"$self-&gt;{OAUTH_NONCE}\", oauth_signature_method=\"$self-&gt;{OAUTH_SIGNATURE_METHOD}\", oauth_timestamp=\"$self-&gt;{OAUTH_TIMESTAMP}\", oauth_consumer_key=\"$self-&gt;{CONSUMER_KEY}\", oauth_token=\"$self-&gt;{OAUTH_TOKEN}\", oauth_signature=\"$utf8_oauth_signature_base64\", oauth_version=\"$self-&gt;{OAUTH_VERSION}\");\n\n    my $res = $self-&gt;{BROWSER}-&gt;post( \n        $self-&gt;{URL}, \n        'Authorization' =&gt; $header, \n        'content-type' =&gt; 'form-data', \n        'Content' =&gt; [ media =&gt; [\"$self-&gt;{MEDIAurl}\"] ]    \n    );\n\n    use JSON;\n    my $response = decode_json  ($res-&gt;content);\n    my $media_id = $response-&gt;{'media_id'};\n\n    $seconds = time(); \n    $self-&gt;{OAUTH_TIMESTAMP}=uri_escape($seconds);\n    $self-&gt;{OAUTH_NONCE}=$self-&gt;{OAUTH_TIMESTAMP}\n\n\n    my $queryx=qq(media_ids=$media_id&amp;oauth_consumer_key=$self-&gt;{CONSUMER_KEY}&amp;oauth_nonce=$self-&gt;{OAUTH_NONCE}&amp;oauth_signature_method=$self-&gt;{OAUTH_SIGNATURE_METHOD}&amp;oauth_timestamp=$self-&gt;{OAUTH_TIMESTAMP}&amp;oauth_token=$self-&gt;{OAUTH_TOKEN}&amp;oauth_version=$self-&gt;{OAUTH_VERSION}&amp;status=$self-&gt;{STATUS});\n\n    my $sigx=\"POST&amp;\";\n\n    $sigx .=uri_encode($self-&gt;{URLx},1);\n    $sigx .=\"&amp;\";\n    $sigx .=uri_encode($queryx,1);\n\n    my $hmacx = Digest::HMAC_SHA1-&gt;new($sig_key);\n    $hmacx-&gt;add($sigx);\n\n    my $oauth_signature_base64x=$hmacx-&gt;b64digest;\n    $oauth_signature_base64x .=\"=\";\n\n    my $utf8_oauth_signature_base64x=uri_escape($oauth_signature_base64x);\n\n    my $headerx=qq(OAuth oauth_nonce=\"$self-&gt;{OAUTH_NONCE}\", oauth_signature_method=\"$self-&gt;{OAUTH_SIGNATURE_METHOD}\", oauth_timestamp=\"$self-&gt;{OAUTH_TIMESTAMP}\", oauth_consumer_key=\"$self-&gt;{CONSUMER_KEY}\", oauth_token=\"$self-&gt;{OAUTH_TOKEN}\", oauth_signature=\"$utf8_oauth_signature_base64x\", oauth_version=\"$self-&gt;{OAUTH_VERSION}\");\n\n#And done generating content. Now to POST to twitter. \n\n    $res = $self-&gt;{BROWSER}-&gt;post( \n        $self-&gt;{URLx},\n        'Authorization' =&gt; $headerx, \n        'content-type' =&gt; 'application/x-www-form-urlencoded', \n        'Content' =&gt; qq(media_ids=$media_id&amp;status=$self-&gt;{STATUS}) \n    );\n\n    return $res;\n}\n\n####Footer####\n1;  #so the require or use succeeds\n</code></pre>\n"}], "owner": {"reputation": 814, "user_id": 1753389, "user_type": "registered", "accept_rate": 14, "profile_image": "https://i.stack.imgur.com/5DPUE.jpg?s=128&g=1", "display_name": "Peter", "link": "https://stackoverflow.com/users/1753389/peter"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 508, "favorite_count": 0, "answer_count": 3, "score": 2, "last_activity_date": 1546785250, "creation_date": 1436369944, "question_id": 31297394, "link": "https://stackoverflow.com/questions/31297394/upload-media-to-twitter-using-perl", "title": "Upload media to twitter using perl", "body": "<p>Has anyone successfully uploaded media to Twitter, ie posted a tweet with an image using Perl?</p>\n\n<p>I would like to upload images from my blog without doing it all manually.</p>\n\n<p>update_with_media(status, media[]) is deprecated, and crashes. Twitter says to use plain update(), passing a media id. However it is first necessary to upload the media to get the id, and I can find no code examples.</p>\n\n<p>Any experience in this area?</p>\n\n<p>Cheers,\nPeter</p>\n"}, {"tags": ["perl", "logging", "configuration", "catalyst", "log4perl"], "answers": [{"tags": [], "owner": {"reputation": 175, "user_id": 2501114, "user_type": "registered", "accept_rate": 53, "profile_image": "https://www.gravatar.com/avatar/11828669ae1ad44e7334fc2b90d721c1?s=128&d=identicon&r=PG", "display_name": "Andrey Ch", "link": "https://stackoverflow.com/users/2501114/andrey-ch"}, "is_accepted": true, "score": 1, "last_activity_date": 1436369049, "creation_date": 1436369049, "answer_id": 31297040, "question_id": 31295782, "link": "https://stackoverflow.com/questions/31295782/catalyst-log4perl-configure-config-file-location-from-app-config/31297040#31297040", "title": "Catalyst Log4perl: configure config file location from app config", "body": "<p>I thought I'd googled enough, but apparently I hadn't.</p>\n\n<pre><code>__PACKAGE__-&gt;setup();\n__PACKAGE__-&gt;log(Log::Log4perl::Catalyst-&gt;new(__PACKAGE__-&gt;path_to(__PACKAGE__-&gt;config-&gt;{Log}-&gt;{config_file})-&gt;stringify));\n</code></pre>\n\n<p>(ref <a href=\"http://www.gossamer-threads.com/lists/catalyst/users/31271\" rel=\"nofollow\">http://www.gossamer-threads.com/lists/catalyst/users/31271</a>).</p>\n\n<p>And as for log levels: they are defined in the actual Log4perl config file.</p>\n"}], "owner": {"reputation": 175, "user_id": 2501114, "user_type": "registered", "accept_rate": 53, "profile_image": "https://www.gravatar.com/avatar/11828669ae1ad44e7334fc2b90d721c1?s=128&d=identicon&r=PG", "display_name": "Andrey Ch", "link": "https://stackoverflow.com/users/2501114/andrey-ch"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 259, "favorite_count": 0, "accepted_answer_id": 31297040, "answer_count": 1, "score": 1, "last_activity_date": 1436369049, "creation_date": 1436365974, "question_id": 31295782, "link": "https://stackoverflow.com/questions/31295782/catalyst-log4perl-configure-config-file-location-from-app-config", "title": "Catalyst Log4perl: configure config file location from app config", "body": "<p>In a Catalyst app, I need to specify the Log4perl's config file location. All the examples I could find suggest that I should do that from code. However, I would like to be able to specify it in the app config file. This would allow me to use different log configs for different environments and manage all that from a single file. I would also like to be able to set log levels from app config file.</p>\n\n<p>However, there seems to be no documented way of configuring the logger from the app config file. I tried multiple variations of syntax, but none was picked up by Catalyst. It is also impossible to set the correct config file name from MyApp.pm (main app module), as configuration is not yet available when module code is run.</p>\n\n<p>Debugging the logger initialization code also didn't help. The only real way I am considering now is to <code>require</code> a config file from MyApp.pm, which would include the necessary configuration.</p>\n\n<p>The questions thus are:</p>\n\n<ol>\n<li>Is there a way to specify the Log4perl config file location from Catalyst config file?</li>\n<li>Is there a way to specify log levels from a config file?</li>\n</ol>\n"}, {"tags": ["perl"], "comments": [{"owner": {"reputation": 51521, "user_id": 2566198, "user_type": "registered", "accept_rate": 67, "profile_image": "https://i.stack.imgur.com/Y34ZA.jpg?s=128&g=1", "display_name": "Sobrique", "link": "https://stackoverflow.com/users/2566198/sobrique"}, "edited": false, "score": 0, "creation_date": 1436363036, "post_id": 31294388, "comment_id": 50579697, "body": "You have to approach it differently, and not use <code>while ( &lt;&gt; ) {</code>"}, {"owner": {"reputation": 73, "user_id": 5081715, "user_type": "registered", "accept_rate": 0, "profile_image": "https://www.gravatar.com/avatar/f2ca982541b9f4a19e4ff99b38eb8df1?s=128&d=identicon&r=PG&f=1", "display_name": "ktoui", "link": "https://stackoverflow.com/users/5081715/ktoui"}, "reply_to_user": {"reputation": 51521, "user_id": 2566198, "user_type": "registered", "accept_rate": 67, "profile_image": "https://i.stack.imgur.com/Y34ZA.jpg?s=128&g=1", "display_name": "Sobrique", "link": "https://stackoverflow.com/users/2566198/sobrique"}, "edited": false, "score": 0, "creation_date": 1436363174, "post_id": 31294388, "comment_id": 50579817, "body": "@ Sobrique oh no...such a sahme..is there any way to make it in your script from here <a href=\"http://stackoverflow.com/questions/31227962/parsing-from-colum-in-perl-or-bash\" title=\"parsing from colum in perl or bash\">stackoverflow.com/questions/31227962/&hellip;</a>"}, {"owner": {"reputation": 32176, "user_id": 2173773, "user_type": "registered", "accept_rate": 86, "profile_image": "https://i.stack.imgur.com/M8yh6.jpg?s=128&g=1", "display_name": "H&#229;kon H&#230;gland", "link": "https://stackoverflow.com/users/2173773/h%c3%a5kon-h%c3%a6gland"}, "edited": false, "score": 0, "creation_date": 1436363242, "post_id": 31294388, "comment_id": 50579867, "body": "Parameters on the command line are given in array <code>@ARGV</code>.."}, {"owner": {"reputation": 61610, "user_id": 725418, "user_type": "registered", "accept_rate": 86, "profile_image": "https://www.gravatar.com/avatar/82ac2dc3e1ad4b7187f245c416528df9?s=128&d=identicon&r=PG", "display_name": "TLP", "link": "https://stackoverflow.com/users/725418/tlp"}, "edited": false, "score": 1, "creation_date": 1436363441, "post_id": 31294388, "comment_id": 50580049, "body": "<code>my $prefix = shift</code> and then <code>my $file = sprintf &#39;file%s_%d.txt&#39;, $prefix, $n+1</code>. Though of course you may want to account for optional prefixes. It could be done more safely by using <code>Getopt</code>, or using the <code>-s</code> switch (see <a href=\"http://perldoc.perl.org/perlrun.html\" rel=\"nofollow noreferrer\"><code>perldoc perlrun</code></a>."}], "answers": [{"tags": [], "owner": {"reputation": 61610, "user_id": 725418, "user_type": "registered", "accept_rate": 86, "profile_image": "https://www.gravatar.com/avatar/82ac2dc3e1ad4b7187f245c416528df9?s=128&d=identicon&r=PG", "display_name": "TLP", "link": "https://stackoverflow.com/users/725418/tlp"}, "is_accepted": false, "score": 4, "last_activity_date": 1436364827, "creation_date": 1436364827, "answer_id": 31295323, "question_id": 31294388, "link": "https://stackoverflow.com/questions/31294388/how-can-i-have-my-perl-script-read-parameters-from-the-command-line/31295323#31295323", "title": "How can I have my Perl script read parameters from the command line?", "body": "<p>If I were to make a change like that, I would make that parameter optional, so as not to break other dependencies. Since you are already relying on <code>@ARGV</code>, that means that we cannot simply <code>shift</code> the parameter, or we must make the parameter non-optional.</p>\n\n<p>E.g.:</p>\n\n<pre><code>my $prefix = shift;  # non-optional parameter now\n...\nmy $file = sprintf 'file%s_%d.txt', $prefix, $n+1\n</code></pre>\n\n<p>But if this program is then used by someone or something that does not expect that parameter, it will remove a file from the input and break the program.</p>\n\n<p>Instead, you can use the rudimentary switch parsing on the command line with the <a href=\"http://perldoc.perl.org/perlrun.html#*-s*\" rel=\"nofollow\"><code>-s</code></a> switch, or use <a href=\"https://metacpan.org/pod/Getopt::Long\" rel=\"nofollow\"><code>Getopt::Long</code></a>, which is a popular module for this purpose.</p>\n\n<pre><code>perl -s program.pl -prefix=1 input1 input2 ...\n</code></pre>\n\n<p>And then inside the program, either use <code>our $prefix</code> or <code>$main::prefix</code>, so that you do not get <code>strict</code> errors. Then you can also check if <code>$prefix</code> is defined, and handle it accordingly. E.g.:</p>\n\n<pre><code>if (defined $main::prefix) {\n    $main::prefix .= \"_\";  # append \"_\"\n} else {\n    $main::prefix = \"\";    # empty string\n}\nmy $file = sprintf 'file%s%d.txt', $prefix, $n + 1;\n</code></pre>\n\n<p>Or using <a href=\"https://metacpan.org/pod/Getopt::Long\" rel=\"nofollow\"><code>Getopt::Long</code></a>:</p>\n\n<pre><code>use strict;\nuse warnings;\nuse Getopt::Long;\n\nmy $prefix;\nGetOptions(\"prefix=s\" =&gt; \\$xyz);\n</code></pre>\n\n<p>Usage:</p>\n\n<pre><code>perl program.pl -prefix=1 input1 input2 ...\n</code></pre>\n"}], "owner": {"reputation": 73, "user_id": 5081715, "user_type": "registered", "accept_rate": 0, "profile_image": "https://www.gravatar.com/avatar/f2ca982541b9f4a19e4ff99b38eb8df1?s=128&d=identicon&r=PG&f=1", "display_name": "ktoui", "link": "https://stackoverflow.com/users/5081715/ktoui"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 90, "favorite_count": 0, "answer_count": 1, "score": -3, "last_activity_date": 1436364827, "creation_date": 1436362564, "last_edit_date": 1436362997, "question_id": 31294388, "link": "https://stackoverflow.com/questions/31294388/how-can-i-have-my-perl-script-read-parameters-from-the-command-line", "title": "How can I have my Perl script read parameters from the command line?", "body": "<p>a parsing script I am using looks like that </p>\n\n<pre><code>use strict;\nuse warnings;\nuse 5.010;\nuse autodie;\n\nmy (@header, @fh);\n\nwhile ( &lt;&gt; ) {\n\n  if ( /^(\\d+)/ ) {\n\n    my $n = int $1 / 1000;\n\n    unless ( $fh[$n] ) {\n      my $file = sprintf 'file%d.txt', $n+1;\n      open $fh[$n], '&gt;', $file;\n      print { $fh[$n] } @header;\n    }\n\n    print { $fh[$n] } $_;\n  }\n  else {\n    push @header, $_;\n  }\n}\n\nclose $_ for grep $_, @fh;\n</code></pre>\n\n<p>The file I pass to the script is processed an the output is in file1 file2 ..... how can I modify the scripot that there is an additional paramter to the script with which the output is modified to be file1_1 file1_2... if the additional paramter is 1 if the additional paramter would be 2 it would be file2_1 file2_......</p>\n"}, {"tags": ["python", "perl"], "comments": [{"owner": {"reputation": 532, "user_id": 716119, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/64d3d8eb46cc0ed153c42b25a76c131f?s=128&d=identicon&r=PG", "display_name": "SparkeyG", "link": "https://stackoverflow.com/users/716119/sparkeyg"}, "edited": false, "score": 1, "creation_date": 1436365057, "post_id": 31293488, "comment_id": 50581388, "body": "How about a simple shell script that runs both and then just trigger the shell script?"}], "answers": [{"tags": [], "owner": {"reputation": 6068, "user_id": 1799189, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/s4Pcu.jpg?s=128&g=1", "display_name": "xxfelixxx", "link": "https://stackoverflow.com/users/1799189/xxfelixxx"}, "is_accepted": false, "score": 0, "last_activity_date": 1436365637, "creation_date": 1436365637, "answer_id": 31295653, "question_id": 31293488, "link": "https://stackoverflow.com/questions/31293488/how-do-i-run-nikto-pl-file-from-wapiti-py-file/31295653#31295653", "title": "How do i run nikto.pl file from wapiti.py file?", "body": "<p>A shell script would work.  Save the following as 'run_wapiti_and_nikto_scans', then run it as:</p>\n\n<pre><code>bash run_wapiti_and_nikto_scans www.my.site.com\n</code></pre>\n\n<p>Here is the script:</p>\n\n<pre><code>#!/bin/bash                                                                                 \n\nSITE=$1\nif [ -n \"$SITE\" ]; then  # -n tests to see if the argument is non empty                     \n    echo \"Looking to scan $SITE\"\n    echo \"Running 'python wapiti.py $SITE'\"\n    python wapiti.py $SITE || echo \"Failed to run wapiti!\" &amp;&amp; exit 1;\n\n    echo \"Running 'perl nikto.pl -h $SITE -Display V -F htm -output /root/.wapiti/generated_report/index.html'\"\n    perl nikto.pl -h $SITE -Display V -F htm -output /root/.wapiti/generated_report/index.html || echo \"Failed to run nikto!\" &amp;&amp; exit 1;\n    echo \"Done!\"\n    exit 0; # Success                                                                      \nfi\n\necho \"usage: run_wapiti_and_nikto_scans www.my.site.com\";\nexit 1; # Failure \n</code></pre>\n"}], "owner": {"reputation": 556, "user_id": 5069738, "user_type": "registered", "accept_rate": 33, "profile_image": "https://lh5.googleusercontent.com/-O31yZQgzEZ4/AAAAAAAAAAI/AAAAAAAAAQk/M1nUlOmLyjk/photo.jpg?sz=128", "display_name": "ABEL MASILA", "link": "https://stackoverflow.com/users/5069738/abel-masila"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 190, "favorite_count": 0, "answer_count": 1, "score": 0, "last_activity_date": 1436365637, "creation_date": 1436360409, "last_edit_date": 1436362844, "question_id": 31293488, "link": "https://stackoverflow.com/questions/31293488/how-do-i-run-nikto-pl-file-from-wapiti-py-file", "title": "How do i run nikto.pl file from wapiti.py file?", "body": "<p>I am working on a project which involves wapiti and nikto web tools. i have managed to produce one report for both these tool with this command </p>\n\n<pre><code>python wapiti.py www.kca.ac.ke ;perl nikto.pl -h www.kca.ac.ke -Display V -F htm -output /root/.wapiti/generated_report/index.html.\n</code></pre>\n\n<p>But i would like to run a command like </p>\n\n<pre><code>python wapiti.py www.kca.ac.ke\n</code></pre>\n\n<p>and get both the wapiti and nikto web scan report. How do i achieve this guys?</p>\n"}, {"tags": ["python", "regex", "perl"], "comments": [{"owner": {"reputation": 3364, "user_id": 1525423, "user_type": "registered", "accept_rate": 69, "profile_image": "https://i.stack.imgur.com/xkRry.png?s=128&g=1", "display_name": "Finwood", "link": "https://stackoverflow.com/users/1525423/finwood"}, "edited": false, "score": 4, "creation_date": 1436344404, "post_id": 31287344, "comment_id": 50566791, "body": "What is your desired result?"}, {"owner": {"reputation": 78771, "user_id": 831878, "user_type": "registered", "accept_rate": 92, "profile_image": "https://www.gravatar.com/avatar/1d1a4823c46ad92f357b4bb7e74a64b0?s=128&d=identicon&r=PG", "display_name": "Ray Toal", "link": "https://stackoverflow.com/users/831878/ray-toal"}, "edited": false, "score": 0, "creation_date": 1436344415, "post_id": 31287344, "comment_id": 50566801, "body": "Is that the actual Perl regex you have or did you mean to escape the periods in the &quot;swiss ch&quot; part?"}, {"owner": {"reputation": 461, "user_id": 5066845, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/29fdcc96e0a4222b0c7401665f9107d3?s=128&d=identicon&r=PG&f=1", "display_name": "Steven Correia", "link": "https://stackoverflow.com/users/5066845/steven-correia"}, "edited": false, "score": 0, "creation_date": 1436344502, "post_id": 31287344, "comment_id": 50566843, "body": "Could you post some code?"}], "answers": [{"comments": [{"owner": {"reputation": 481636, "user_id": 3832970, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/64323e6cf08401474da3bf770ea13b58?s=128&d=identicon&r=PG&f=1", "display_name": "Wiktor Stribi\u017cew", "link": "https://stackoverflow.com/users/3832970/wiktor-stribi%c5%bcew"}, "edited": false, "score": 0, "creation_date": 1436345145, "post_id": 31287499, "comment_id": 50567256, "body": "No need to escape the dot inside the character class. And you also added a <code>+</code> quantifier that is missing in the Perl version."}, {"owner": {"reputation": 3, "user_id": 5074162, "user_type": "registered", "profile_image": "https://lh4.googleusercontent.com/-IHYT4Bzu-KE/AAAAAAAAAAI/AAAAAAAAACI/wyTYXonR0BA/photo.jpg?sz=128", "display_name": "Shveta Rai", "link": "https://stackoverflow.com/users/5074162/shveta-rai"}, "edited": false, "score": 0, "creation_date": 1436345449, "post_id": 31287499, "comment_id": 50567440, "body": "Please explain in detail. I&#39;ve just started learning Python and regex expressions.  I&#39;m really new to both of them"}, {"owner": {"reputation": 50468, "user_id": 1331451, "user_type": "registered", "accept_rate": 96, "profile_image": "https://i.stack.imgur.com/4ZPmj.png?s=128&g=1", "display_name": "simbabque", "link": "https://stackoverflow.com/users/1331451/simbabque"}, "edited": false, "score": 0, "creation_date": 1436345949, "post_id": 31287499, "comment_id": 50567757, "body": "Somehow the regex looks exactly the same. :)"}, {"owner": {"reputation": 3364, "user_id": 1525423, "user_type": "registered", "accept_rate": 69, "profile_image": "https://i.stack.imgur.com/xkRry.png?s=128&g=1", "display_name": "Finwood", "link": "https://stackoverflow.com/users/1525423/finwood"}, "reply_to_user": {"reputation": 3, "user_id": 5074162, "user_type": "registered", "profile_image": "https://lh4.googleusercontent.com/-IHYT4Bzu-KE/AAAAAAAAAAI/AAAAAAAAACI/wyTYXonR0BA/photo.jpg?sz=128", "display_name": "Shveta Rai", "link": "https://stackoverflow.com/users/5074162/shveta-rai"}, "edited": false, "score": 0, "creation_date": 1436348140, "post_id": 31287499, "comment_id": 50569251, "body": "@ShvetaRai, take a look <a href=\"https://regex101.com/r/qA2aN9/1\" rel=\"nofollow noreferrer\">here</a> for an interactive version of the regex, it is being explained better there than I could do it here. You also might want to take a look at the <a href=\"https://docs.python.org/3.4/library/re.html#regular-expression-examples\" rel=\"nofollow noreferrer\">regex examples in the module documentation</a>"}, {"owner": {"reputation": 3, "user_id": 5074162, "user_type": "registered", "profile_image": "https://lh4.googleusercontent.com/-IHYT4Bzu-KE/AAAAAAAAAAI/AAAAAAAAACI/wyTYXonR0BA/photo.jpg?sz=128", "display_name": "Shveta Rai", "link": "https://stackoverflow.com/users/5074162/shveta-rai"}, "edited": false, "score": 0, "creation_date": 1436349109, "post_id": 31287499, "comment_id": 50569877, "body": "Thanks, that helps :)"}], "tags": [], "owner": {"reputation": 3364, "user_id": 1525423, "user_type": "registered", "accept_rate": 69, "profile_image": "https://i.stack.imgur.com/xkRry.png?s=128&g=1", "display_name": "Finwood", "link": "https://stackoverflow.com/users/1525423/finwood"}, "is_accepted": true, "score": 0, "last_activity_date": 1436344570, "creation_date": 1436344570, "answer_id": 31287499, "question_id": 31287344, "link": "https://stackoverflow.com/questions/31287344/convert-perl-regex-to-python/31287499#31287499", "title": "Convert perl regex to python", "body": "<p>Supposing you want to be able to match <code>*.swiss.ch</code> domains and addresses:</p>\n\n<pre><code>import re\npreg = re.compile(r'([^\\.]+)\\.swiss\\.ch')\n</code></pre>\n"}], "owner": {"reputation": 3, "user_id": 5074162, "user_type": "registered", "profile_image": "https://lh4.googleusercontent.com/-IHYT4Bzu-KE/AAAAAAAAAAI/AAAAAAAAACI/wyTYXonR0BA/photo.jpg?sz=128", "display_name": "Shveta Rai", "link": "https://stackoverflow.com/users/5074162/shveta-rai"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 80, "favorite_count": 0, "closed_date": 1436347299, "accepted_answer_id": 31287499, "answer_count": 1, "score": -6, "last_activity_date": 1436355961, "creation_date": 1436344149, "last_edit_date": 1436355961, "question_id": 31287344, "link": "https://stackoverflow.com/questions/31287344/convert-perl-regex-to-python", "closed_reason": "Not suitable for this site", "title": "Convert perl regex to python", "body": "<p>The regex expression I'm trying to convert is </p>\n\n<pre><code>my $host =~m/([^.])(\\.swiss\\.ch)/)\n</code></pre>\n\n<p>But I'm not getting the desired result</p>\n"}, {"tags": ["regex", "perl"], "comments": [{"owner": {"reputation": 53905, "user_id": 2864740, "user_type": "registered", "accept_rate": 78, "profile_image": "https://www.gravatar.com/avatar/e7a05a144f218bde07b659bc98e1ca7d?s=128&d=identicon&r=PG&f=1", "display_name": "user2864740", "link": "https://stackoverflow.com/users/2864740/user2864740"}, "edited": false, "score": 2, "creation_date": 1436344295, "post_id": 31287321, "comment_id": 50566715, "body": "<i>Why</i> should &quot;match $1 should contain some url string&quot;?"}, {"owner": {"reputation": 481636, "user_id": 3832970, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/64323e6cf08401474da3bf770ea13b58?s=128&d=identicon&r=PG&f=1", "display_name": "Wiktor Stribi\u017cew", "link": "https://stackoverflow.com/users/3832970/wiktor-stribi%c5%bcew"}, "edited": false, "score": 1, "creation_date": 1436344413, "post_id": 31287321, "comment_id": 50566797, "body": "Perhaps, you wanted to use <code>my $url = &quot;$&amp;&quot;;</code>? I see no capturing groups in your $URL_PATTERN."}, {"owner": {"reputation": 3327, "user_id": 1604311, "user_type": "registered", "accept_rate": 73, "profile_image": "https://i.stack.imgur.com/0frKT.jpg?s=128&g=1", "display_name": "Arunesh Singh", "link": "https://stackoverflow.com/users/1604311/arunesh-singh"}, "edited": false, "score": 2, "creation_date": 1436344484, "post_id": 31287321, "comment_id": 50566836, "body": "where is your capturing group?"}, {"owner": {"reputation": 5221, "user_id": 1030598, "user_type": "registered", "accept_rate": 65, "profile_image": "https://www.gravatar.com/avatar/ff923c90c5fecb1b234474060fe62e7f?s=128&d=identicon&r=PG", "display_name": "NPS", "link": "https://stackoverflow.com/users/1030598/nps"}, "edited": false, "score": 1, "creation_date": 1436344887, "post_id": 31287321, "comment_id": 50567101, "body": "Looks like I got it all wrong. <code>$&amp;</code> is for the entire last match and <code>$1</code> for the first capturing group in the last match?"}], "answers": [{"tags": [], "owner": {"reputation": 51521, "user_id": 2566198, "user_type": "registered", "accept_rate": 67, "profile_image": "https://i.stack.imgur.com/Y34ZA.jpg?s=128&g=1", "display_name": "Sobrique", "link": "https://stackoverflow.com/users/2566198/sobrique"}, "is_accepted": true, "score": 4, "last_activity_date": 1436346766, "last_edit_date": 1436346766, "creation_date": 1436346425, "answer_id": 31288153, "question_id": 31287321, "link": "https://stackoverflow.com/questions/31287321/regex-matches-but-1-is-uninitialized/31288153#31288153", "title": "Regex matches but $1 is uninitialized", "body": "<p>You're mixing up two things. A 'match' is a boolean test. Does this piece of text match a particular pattern. </p>\n\n<pre><code>if ($urlCandidate !~ $URL_PATTERN)\n</code></pre>\n\n<p>This <em>only</em> tests whether this variable is (not) like the pattern defined. </p>\n\n<p><code>$1</code> is a capture group, and it's used to select things from a pattern. Usually, that's 'stuff in brackets'.</p>\n\n<p>So if you turn your URL pattern into:</p>\n\n<pre><code>qr/(http.*html)/\n</code></pre>\n\n<p>Then <code>$1</code> will be defined.</p>\n\n<p>Personally though, I don't like the whole <code>$1</code> syntax, and tend to assign variables directly out of the pattern. </p>\n\n<p>E.g.:</p>\n\n<pre><code>my ( $capture ) = ( $string =~ m/Content: (\\w+)/ );\n</code></pre>\n\n<p>You can still use this in a boolean expression ( if tests the last expression):</p>\n\n<pre><code>if ( my ( $capture ) = m/pattern_match: (\\w+)/ ) {\n    print $capture;\n}\n</code></pre>\n\n<p>Or alternatively:</p>\n\n<pre><code>if ( $string =~ m/(?&lt;capture&gt;\\w+)/ ) {\n    print Dumper \\%+;\n    print $+{capture},\"\\n\";\n}\n</code></pre>\n\n<p>Alternatively, there's a set of match variables: </p>\n\n<pre><code>$`, $&amp;, $'\n</code></pre>\n\n<blockquote>\n  <p>$&amp;\n  The string matched by the last successful pattern match (not counting any matches hidden within a BLOCK or eval() enclosed by the current BLOCK).</p>\n  \n  <p>$`\n  The string preceding whatever was matched by the last successful pattern match, not counting any matches hidden within a BLOCK or eval enclosed by the current BLOCK.</p>\n  \n  <p>$'\n  The string following whatever was matched by the last successful pattern match (not counting any matches hidden within a BLOCK or eval() enclosed by the current BLOCK). </p>\n</blockquote>\n\n<p>These each come with a caveat though: </p>\n\n<p><a href=\"http://perldoc.perl.org/perlvar.html#Performance-issues\" rel=\"nofollow\">http://perldoc.perl.org/perlvar.html#Performance-issues</a></p>\n\n<blockquote>\n  <p>Traditionally in Perl, any use of any of the three variables $` , $&amp; or $' (or their use English equivalents) anywhere in the code, caused all subsequent successful pattern matches to make a copy of the matched string, in case the code might subsequently access one of those variables. This imposed a considerable performance penalty across the whole program, so generally the use of these variables has been discouraged.</p>\n</blockquote>\n"}], "owner": {"reputation": 5221, "user_id": 1030598, "user_type": "registered", "accept_rate": 65, "profile_image": "https://www.gravatar.com/avatar/ff923c90c5fecb1b234474060fe62e7f?s=128&d=identicon&r=PG", "display_name": "NPS", "link": "https://stackoverflow.com/users/1030598/nps"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 269, "favorite_count": 0, "accepted_answer_id": 31288153, "answer_count": 1, "score": 1, "last_activity_date": 1436348414, "creation_date": 1436344068, "last_edit_date": 1436348414, "question_id": 31287321, "link": "https://stackoverflow.com/questions/31287321/regex-matches-but-1-is-uninitialized", "title": "Regex matches but $1 is uninitialized", "body": "<p>My code snippet:</p>\n\n<pre><code>my $URL_PATTERN = qr/http.*html/;\nforeach my $urlCandidate(@urlCandidates)\n{\n    if ($urlCandidate !~ $URL_PATTERN)\n    {\n        next;\n    }\n    my $url = $1;\n    if ($url !~ $SOME_OTHER_PATTERN)   # line 216\n    # ...\n}\n</code></pre>\n\n<p>I get this warning:\n<code>Use of uninitialized value $url in pattern match (m//) at ./myScript.pl line 216.</code></p>\n\n<p>What I don't understand is this - if the <code>next</code> instruction isn't executed then I have a match. If I have a match <code>$1</code> should contain some url string. But instead it's uninitialized. Why's that?</p>\n"}, {"tags": ["php", "apache", "perl", "webmin"], "comments": [{"owner": {"reputation": 50468, "user_id": 1331451, "user_type": "registered", "accept_rate": 96, "profile_image": "https://i.stack.imgur.com/4ZPmj.png?s=128&g=1", "display_name": "simbabque", "link": "https://stackoverflow.com/users/1331451/simbabque"}, "edited": false, "score": 0, "creation_date": 1437554691, "post_id": 31285479, "comment_id": 51072605, "body": "Is there a deploy function somewhere?"}, {"owner": {"reputation": 1556, "user_id": 970239, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/272ccdfcf617fcc12f2973862cbda911?s=128&d=identicon&r=PG", "display_name": "dlporter98", "link": "https://stackoverflow.com/users/970239/dlporter98"}, "edited": false, "score": 2, "creation_date": 1439000801, "post_id": 31285479, "comment_id": 51695517, "body": "Put a line in to log to file  to confirm that this is the script that is being called by webmin"}, {"owner": {"reputation": 986, "user_id": 319150, "user_type": "registered", "accept_rate": 67, "profile_image": "https://www.gravatar.com/avatar/bf87f7621d6bfbcaefae23f2d550133e?s=128&d=identicon&r=PG", "display_name": "adrian7", "link": "https://stackoverflow.com/users/319150/adrian7"}, "edited": false, "score": 0, "creation_date": 1440006951, "post_id": 31285479, "comment_id": 52099152, "body": "I think the php tag is wrong."}, {"owner": {"reputation": 2025, "user_id": 422567, "user_type": "registered", "accept_rate": 77, "profile_image": "https://www.gravatar.com/avatar/06bb842dfa9b53b5ac3a8d7e001f469c?s=128&d=identicon&r=PG", "display_name": "MUY Belgium", "link": "https://stackoverflow.com/users/422567/muy-belgium"}, "edited": false, "score": 0, "creation_date": 1440153802, "post_id": 31285479, "comment_id": 52166507, "body": "The Perl does not respect programming best practices : use sigle quotes <code>&#39;</code> instead of dubblequote <code>&quot; </code> if you are not using variable substitution, is to say everywhere in this code.  Not a &quot;Perl best practice&quot; =&gt; often erroneous code...  Try to remove variable substitution and to concatenate with ` . `."}, {"owner": {"reputation": 10244, "user_id": 2157640, "user_type": "registered", "accept_rate": 89, "profile_image": "https://i.stack.imgur.com/aoymS.png?s=128&g=1", "display_name": "Palec", "link": "https://stackoverflow.com/users/2157640/palec"}, "edited": false, "score": 0, "creation_date": 1441278462, "post_id": 31285479, "comment_id": 52618718, "body": "Have you tried the answer by Francesco Abeni? If so, what was the result? If not, try it. I think it might be the case that you are editing <code>save_domain_php_directory</code>, but the AddHandler lines are actually generated by <code>save_domain_php_mode</code>."}], "answers": [{"tags": [], "owner": {"reputation": 4042, "user_id": 410761, "user_type": "registered", "accept_rate": 89, "profile_image": "https://www.gravatar.com/avatar/8c2aea8cbf4a98c114f90fd2fd1edca1?s=128&d=identicon&r=PG", "display_name": "Francesco Abeni", "link": "https://stackoverflow.com/users/410761/francesco-abeni"}, "is_accepted": false, "score": 4, "last_activity_date": 1440678670, "creation_date": 1440678670, "answer_id": 32249490, "question_id": 31285479, "link": "https://stackoverflow.com/questions/31285479/webmin-php-lib-pl-modification/32249490#32249490", "title": "Webmin php-lib.pl modification", "body": "<p>First of all you should use single quotes instead of double quotes for a simpler syntax:</p>\n\n<pre><code>...\npush(@phplines, '&lt;FilesMatch \\.php$&gt;');\npush(@phplines, 'SetHandler fcgid-script');\npush(@phplines, '&lt;/FilesMatch&gt;');\n...\n</code></pre>\n\n<p>Check this specific file for syntax errors with</p>\n\n<pre><code>perl -c /usr/share/webmin/virtual-server/php-lib.pl\n</code></pre>\n\n<p>Add a log file somewhere in this file so you are sure this file gets called at all. E.g. add something like this before the code shown above:</p>\n\n<pre><code>my $fh;\nopen($fh, '&gt;&gt;', \"/tmp/test.log\") or die \"Couldn't open: $!\";\nprint $fh \"This file is actually used!\";\nclose $fh;\n...\n</code></pre>\n"}], "owner": {"reputation": 2509, "user_id": 2389232, "user_type": "registered", "accept_rate": 60, "profile_image": "https://i.stack.imgur.com/s42UP.png?s=128&g=1", "display_name": "SnakeDrak", "link": "https://stackoverflow.com/users/2389232/snakedrak"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 725, "favorite_count": 2, "answer_count": 1, "score": 24, "last_activity_date": 1441275899, "creation_date": 1436338430, "last_edit_date": 1441275899, "question_id": 31285479, "link": "https://stackoverflow.com/questions/31285479/webmin-php-lib-pl-modification", "title": "Webmin php-lib.pl modification", "body": "<p>I have updated the PHP version to 5.5.26. With PHP 5.4 my Apache configuration with FCGI was:</p>\n\n<pre><code>AddHandler fcgid-script .php\nAddHandler fcgid-script .php5\n</code></pre>\n\n<p>With the new version of PHP I need put other config to works:</p>\n\n<pre><code>&lt;FilesMatch \\.php$&gt;\n    SetHandler fcgid-script\n&lt;/FilesMatch&gt;\n</code></pre>\n\n<p>It\u2019s OK, it\u2019s working.</p>\n\n<p>My problem is with Virtualmin module of Webmin. I don\u2019t want to change the config every time, so I have edited the Perl file <strong><code>/usr/share/webmin/virtual-server/php-lib.pl</code></strong>:</p>\n\n<pre><code># Directives for fcgid\nlocal $dest = \"$d-&gt;{'home'}/fcgi-bin\";\n#push(@phplines, \"AddHandler fcgid-script .php\");\n\n# New config for PHP files\npush(@phplines, \"&lt;FilesMatch \\\\.php\\$&gt;\");\npush(@phplines, \"SetHandler fcgid-script\");\npush(@phplines, \"&lt;/FilesMatch&gt;\");\n\npush(@phplines, \"FCGIWrapper $dest/php$ver.fcgi .php\");\nforeach my $v (&amp;list_available_php_versions($d)) {\n  #push(@phplines,\n  #     \"AddHandler fcgid-script .php$v-&gt;[0]\");\n  push(@phplines, \"FCGIWrapper $dest/php$v-&gt;[0].fcgi \" . \".php$v-&gt;[0]\");\n}\n</code></pre>\n\n<p>But my change does nothing, Webmin continues putting the lines <code>AddHandler</code>. I have restarted Webmin, I cleared the file <code>/etc/webmin/module.infos.cache</code>.</p>\n"}, {"tags": ["linux", "bash", "perl", "shell"], "comments": [{"owner": {"reputation": 4343, "user_id": 1565862, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/wJLo7.png?s=128&g=1", "display_name": "fejese", "link": "https://stackoverflow.com/users/1565862/fejese"}, "edited": false, "score": 0, "creation_date": 1436338715, "post_id": 31285458, "comment_id": 50563290, "body": "You&#39;ve wrote that you&#39;ve checked permissions, but just to clarify: does the user executing <code>&#47;usr&#47;libexec&#47;webmin&#47;foobar&#47;script</code> have execute permission on it as well? And did you check the suggestion about the shebang (#!) as well? So for example if the script starts with <code>#!&#47;bin&#47;bash</code> then to check whether <code>&#47;bin&#47;bash</code> exists and executable."}, {"owner": {"reputation": 141, "user_id": 3297371, "user_type": "registered", "accept_rate": 87, "profile_image": "https://www.gravatar.com/avatar/8970d935086faf17d72e5df204e96edd?s=128&d=identicon&r=PG&f=1", "display_name": "Cris", "link": "https://stackoverflow.com/users/3297371/cris"}, "reply_to_user": {"reputation": 4343, "user_id": 1565862, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/wJLo7.png?s=128&g=1", "display_name": "fejese", "link": "https://stackoverflow.com/users/1565862/fejese"}, "edited": false, "score": 0, "creation_date": 1436338892, "post_id": 31285458, "comment_id": 50563387, "body": "Checked this all, and as I said if I run the same from command line works fine"}, {"owner": {"reputation": 123805, "user_id": 622310, "user_type": "registered", "accept_rate": 33, "profile_image": "https://www.gravatar.com/avatar/8b6d35219e1808520bc238b28161e2e6?s=128&d=identicon&r=PG", "display_name": "Borodin", "link": "https://stackoverflow.com/users/622310/borodin"}, "edited": false, "score": 0, "creation_date": 1436347142, "post_id": 31285458, "comment_id": 50568562, "body": "Please add <code>-f or die qq{File &quot;$_&quot; doesn&#39;t exist} for $command, $directory;</code> just before the system call and report the result"}], "answers": [{"tags": [], "owner": {"reputation": 141, "user_id": 3297371, "user_type": "registered", "accept_rate": 87, "profile_image": "https://www.gravatar.com/avatar/8970d935086faf17d72e5df204e96edd?s=128&d=identicon&r=PG&f=1", "display_name": "Cris", "link": "https://stackoverflow.com/users/3297371/cris"}, "is_accepted": false, "score": 0, "last_activity_date": 1436339377, "creation_date": 1436339377, "answer_id": 31285759, "question_id": 31285458, "link": "https://stackoverflow.com/questions/31285458/executing-a-bash-script-from-a-perl-program/31285759#31285759", "title": "Executing a bash script from a Perl program", "body": "<p>I found the problem.\nchanged the system command removing the second parameter and now it's working</p>\n\n<pre><code>system($command) or die \"Cannot open Dir: $!\";\n</code></pre>\n\n<p>In fairness I did not understand what was wrong on first example but now works fine, if anyone can explain probably it can be interesting understand</p>\n"}, {"tags": [], "owner": {"reputation": 3958, "user_id": 164909, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/0215f0a0870cd3011a2ace4a3cd574ec?s=128&d=identicon&r=PG", "display_name": "wallenborn", "link": "https://stackoverflow.com/users/164909/wallenborn"}, "is_accepted": true, "score": 9, "last_activity_date": 1436340927, "creation_date": 1436340927, "answer_id": 31286298, "question_id": 31285458, "link": "https://stackoverflow.com/questions/31285458/executing-a-bash-script-from-a-perl-program/31286298#31286298", "title": "Executing a bash script from a Perl program", "body": "<p>In Perl, calling <code>system</code> with one argument (in scalar context) and calling it with several scalar arguments (in list context) does <a href=\"http://perlhowto.com/executing_external_commands\">different things</a>.</p>\n\n<p>In scalar context, calling</p>\n\n<pre><code>system($command)\n</code></pre>\n\n<p>will start an external shell and execute <code>$command</code> in it. If the string in <code>$command</code> has arguments, they will be passed to the call, too. So for example</p>\n\n<pre><code>$command=\"ls /\";\nsystem($commmand);\n</code></pre>\n\n<p>will evaluate to</p>\n\n<pre><code>sh -c \"ls /\"\n</code></pre>\n\n<p>where the shell is given the entire string, i.e. the command with all arguments. Also, the <code>$command</code> will run with all the normal environment variables set. This can be a security issue, see <a href=\"http://www.cgisecurity.com/lib/sips.html\">here</a> and <a href=\"http://www.cgisecurity.com/lib/sips.html\">here</a> for a few examples why.</p>\n\n<p>On the other hand, if you call system with an array (in list context), Perl will not call a shell and give it the <code>$command</code> as argument, but rather try to execute the first element of the array directly and give it the other arguments as parameters. So</p>\n\n<pre><code>$command = \"ls\";\n$directory = \"/\";\nsystem($command, $directory);\n</code></pre>\n\n<p>will call <code>ls</code> directly, without spawning a shell in between.</p>\n\n<p>Back to your question: your code says</p>\n\n<pre><code>my $command = $pwd.\"/script \".$directory.\"/\".$s.\".tar\";\nsystem($command, $directory) or die \"Cannot open Dir: $!\";\n</code></pre>\n\n<p>Note that <code>$command</code> here is something like <code>/path/to/script /path/to/foo.tar</code>, with the argument already being part of the string. If you call this in scalar context</p>\n\n<pre><code>system($command)\n</code></pre>\n\n<p>all will work fine, because</p>\n\n<pre><code>sh -c \"/path/to/script /path/to/foo.tar\"\n</code></pre>\n\n<p>will execute <code>script</code> with <code>foo.tar</code> as argument. But if you call it in list context, it will try to locate an executable named <code>/path/to/script /path/to/foo.tar</code>, and this will fail.</p>\n"}, {"tags": [], "owner": {"reputation": 142, "user_id": 4277620, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/1c5a3072c70061910402da089e5dac80?s=128&d=identicon&r=PG&f=1", "display_name": "sandeep", "link": "https://stackoverflow.com/users/4277620/sandeep"}, "is_accepted": false, "score": 0, "last_activity_date": 1442851898, "last_edit_date": 1442851898, "creation_date": 1436349344, "answer_id": 31289209, "question_id": 31285458, "link": "https://stackoverflow.com/questions/31285458/executing-a-bash-script-from-a-perl-program/31289209#31289209", "title": "Executing a bash script from a Perl program", "body": "<p>There are multiple ways to execute bash command/ scripts in perl. </p>\n\n<ol>\n<li>System</li>\n<li>backquate</li>\n<li>exec</li>\n</ol>\n"}], "owner": {"reputation": 141, "user_id": 3297371, "user_type": "registered", "accept_rate": 87, "profile_image": "https://www.gravatar.com/avatar/8970d935086faf17d72e5df204e96edd?s=128&d=identicon&r=PG&f=1", "display_name": "Cris", "link": "https://stackoverflow.com/users/3297371/cris"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 4817, "favorite_count": 1, "accepted_answer_id": 31286298, "answer_count": 3, "score": 1, "last_activity_date": 1442851898, "creation_date": 1436338357, "last_edit_date": 1436346918, "question_id": 31285458, "link": "https://stackoverflow.com/questions/31285458/executing-a-bash-script-from-a-perl-program", "title": "Executing a bash script from a Perl program", "body": "<p>I'm trying to write a Perl program which will execute a bash script. The Perl script looks like this</p>\n\n<pre><code>#!/usr/bin/perl\n\nuse diagnostics;\nuse warnings;\n\nrequire 'userlib.pl';\nuse CGI qw(:standard); \n\nReadParse();\n\nmy $q = new CGI;\nmy $dir = $q-&gt;param('X');\nmy $s = $q-&gt;param('Y');\n\nui_print_header(undef, $text{'edit_title'}.$dir, \"\");\n\nprint  $dir.\"&lt;br&gt;\";\nprint  $s.\"&lt;br&gt;\";\nprint \"Under Construction &lt;br&gt;\";\n\nuse Cwd;\nmy $pwd = cwd();\nmy $directory = \"/Logs/\".$dir.\"/logmanager/\".$s;\nmy $command = $pwd.\"/script \".$directory.\"/\".$s.\".tar\";\n\nprint $command.\"&lt;br&gt;\";\nprint $pwd.\"&lt;br&gt;\";\n\nchdir($directory);\nmy $pwd1 = cwd();\nprint $pwd1.\"&lt;br&gt;\";\n\nsystem($command, $directory) or die \"Cannot open Dir: $!\";\n</code></pre>\n\n<p>The script fail with the following error:</p>\n\n<hr>\n\n<pre><code>Can't exec \"/usr/libexec/webmin/foobar/script\n    /path/filename.tar\": No such file or directory at /usr/libexec/webmin/foobar/program.cgi line 23 (#3)\n(W exec) A system(), exec(), or piped open call could not execute the\nnamed program for the indicated reason.  Typical reasons include: the\npermissions were wrong on the file, the file wasn't found in\n$ENV{PATH}, the executable in question was compiled for another\narchitecture, or the #! line in a script points to an interpreter that\ncan't be run for similar reasons.  (Or maybe your system doesn't support #!                  at all.)        \n</code></pre>\n\n<hr>\n\n<p>I've checked that the permissions are correct, the tar file I'm passing to my bash script exists, and also tried from the command line to run the same command I'm trying to run from the Perl script ( <code>/usr/libexec/webmin/foobar/script /path/filename.tar</code> ) and it works properly.</p>\n"}, {"tags": ["perl", "exception-handling", "while-loop"], "answers": [{"tags": [], "owner": {"reputation": 48798, "user_id": 223226, "user_type": "registered", "accept_rate": 93, "profile_image": "https://i.stack.imgur.com/iGqE4.png?s=128&g=1", "display_name": "mpapec", "link": "https://stackoverflow.com/users/223226/mpapec"}, "is_accepted": true, "score": 2, "last_activity_date": 1436337480, "creation_date": 1436337480, "answer_id": 31285192, "question_id": 31285055, "link": "https://stackoverflow.com/questions/31285055/can-i-redo-with-while-block-exception-handling/31285192#31285192", "title": "Can I redo with while block exception handling", "body": "<p>You can't <code>redo</code> outside of loop or a <a href=\"http://perldoc.perl.org/perlsyn.html#Basic-BLOCKs\" rel=\"nofollow\">basic-block</a>,</p>\n\n<pre><code>REDO_EVAL: {\n  my $ok = eval {\n    while(my $productsRef = $se-&gt;iterate_products()) {\n      print Dumper($productsRef);\n    }\n    1;\n  };\n  if (!$ok){\n    # print \"$@\\n\";\n    sleep 30;\n    redo;\n  }\n}\n</code></pre>\n"}], "owner": {"reputation": 1207, "user_id": 2745724, "user_type": "registered", "accept_rate": 59, "profile_image": "https://www.gravatar.com/avatar/fa4af16ab5391105b75f58dab26a48cf?s=128&d=identicon&r=PG", "display_name": "Mounarajan", "link": "https://stackoverflow.com/users/2745724/mounarajan"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 92, "favorite_count": 0, "accepted_answer_id": 31285192, "answer_count": 1, "score": 1, "last_activity_date": 1436337480, "creation_date": 1436336945, "last_edit_date": 1436337195, "question_id": 31285055, "link": "https://stackoverflow.com/questions/31285055/can-i-redo-with-while-block-exception-handling", "title": "Can I redo with while block exception handling", "body": "<p>My exception handling catches the exception but redo throws some error.</p>\n\n<p>I am using 3rd party api to get more than 5 million datas but that api frequently throws 500 error.</p>\n\n<p>I am using exception handling and if any error occurs i want to redo the loop</p>\n\n<pre><code>eval{\nwhile(my $productsRef = $se-&gt;iterate_products()) {\nprint Dumper($productsRef);\n}\n};\nif ($@){\n    sleep 30;\n    redo;\n}\n</code></pre>\n\n<p>The above code throws error if some exception is caught</p>\n\n<pre><code>cant \"redo\" outside the loop\n</code></pre>\n"}, {"tags": ["perl"], "comments": [{"owner": {"reputation": 4514, "user_id": 4248931, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/HijcJ.png?s=128&g=1", "display_name": "serenesat", "link": "https://stackoverflow.com/users/4248931/serenesat"}, "edited": false, "score": 6, "creation_date": 1436334850, "post_id": 31284480, "comment_id": 50561369, "body": "Use <code>use strict</code> and <code>use warnings</code> at top of your program after <i>shebang</i> line."}, {"owner": {"reputation": 4514, "user_id": 4248931, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/HijcJ.png?s=128&g=1", "display_name": "serenesat", "link": "https://stackoverflow.com/users/4248931/serenesat"}, "edited": false, "score": 2, "creation_date": 1436335166, "post_id": 31284480, "comment_id": 50561496, "body": "And it would be more helpful if you can provide <i>myfile.txt</i> data."}, {"owner": {"reputation": 3327, "user_id": 1604311, "user_type": "registered", "accept_rate": 73, "profile_image": "https://i.stack.imgur.com/0frKT.jpg?s=128&g=1", "display_name": "Arunesh Singh", "link": "https://stackoverflow.com/users/1604311/arunesh-singh"}, "edited": false, "score": 4, "creation_date": 1436336808, "post_id": 31284480, "comment_id": 50562240, "body": "There&#39;s no NULL in perl. Use undef when you mean &quot;no value&quot;."}], "answers": [{"comments": [{"owner": {"reputation": 42833, "user_id": 18914, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/7a20a39ae2ef47ae042a3eddd5b5bd19?s=128&d=identicon&r=PG", "display_name": "Dave Sherohman", "link": "https://stackoverflow.com/users/18914/dave-sherohman"}, "edited": false, "score": 0, "creation_date": 1436338296, "post_id": 31284815, "comment_id": 50563039, "body": "The OP&#39;s use of all-caps &quot;NULL&quot; suggests to me that it&#39;s meant to be an SQL-style NULL, in which case testing for empty strings is incorrect, as an empty string is a value, while an SQL NULL is the absence of a value (similar in concept to Perl&#39;s <code>undef</code>, but with different truthiness semantics)."}, {"owner": {"reputation": 4514, "user_id": 4248931, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/HijcJ.png?s=128&g=1", "display_name": "serenesat", "link": "https://stackoverflow.com/users/4248931/serenesat"}, "reply_to_user": {"reputation": 42833, "user_id": 18914, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/7a20a39ae2ef47ae042a3eddd5b5bd19?s=128&d=identicon&r=PG", "display_name": "Dave Sherohman", "link": "https://stackoverflow.com/users/18914/dave-sherohman"}, "edited": false, "score": 0, "creation_date": 1436347152, "post_id": 31284815, "comment_id": 50568570, "body": "@DaveSherohman : Yes, you are right. That is the reason I asked for input data. I am waiting for OP&#39;s comment."}, {"owner": {"reputation": 51521, "user_id": 2566198, "user_type": "registered", "accept_rate": 67, "profile_image": "https://i.stack.imgur.com/Y34ZA.jpg?s=128&g=1", "display_name": "Sobrique", "link": "https://stackoverflow.com/users/2566198/sobrique"}, "edited": false, "score": 1, "creation_date": 1436351829, "post_id": 31284815, "comment_id": 50571610, "body": "Can I offer - I think your sample code would be improved by a 3 arg open with lexical filehandle."}, {"owner": {"reputation": 4514, "user_id": 4248931, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/HijcJ.png?s=128&g=1", "display_name": "serenesat", "link": "https://stackoverflow.com/users/4248931/serenesat"}, "reply_to_user": {"reputation": 51521, "user_id": 2566198, "user_type": "registered", "accept_rate": 67, "profile_image": "https://i.stack.imgur.com/Y34ZA.jpg?s=128&g=1", "display_name": "Sobrique", "link": "https://stackoverflow.com/users/2566198/sobrique"}, "edited": false, "score": 2, "creation_date": 1436352722, "post_id": 31284815, "comment_id": 50572134, "body": "@Sobrique : Yeah right. I didn&#39;t change that just for OP&#39;s understanding. I thought he will get confuse. :)"}, {"owner": {"reputation": 11, "user_id": 3477363, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/f077f3f64e1c9bd4cc9fbff4f3ad9ef4?s=128&d=identicon&r=PG&f=1", "display_name": "user3477363", "link": "https://stackoverflow.com/users/3477363/user3477363"}, "edited": false, "score": 0, "creation_date": 1436369723, "post_id": 31284815, "comment_id": 50585237, "body": "@serenesat: Thanks a lot! using ($str ne &#39;&#39;) made things work fine. And thanks for the other comments as well, I shall incorporate them."}, {"owner": {"reputation": 4514, "user_id": 4248931, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/HijcJ.png?s=128&g=1", "display_name": "serenesat", "link": "https://stackoverflow.com/users/4248931/serenesat"}, "reply_to_user": {"reputation": 11, "user_id": 3477363, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/f077f3f64e1c9bd4cc9fbff4f3ad9ef4?s=128&d=identicon&r=PG&f=1", "display_name": "user3477363", "link": "https://stackoverflow.com/users/3477363/user3477363"}, "edited": false, "score": 0, "creation_date": 1436418113, "post_id": 31284815, "comment_id": 50605771, "body": "@user3477363 : Glad it helped. You can accept this as an answer. :)"}], "tags": [], "owner": {"reputation": 4514, "user_id": 4248931, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/HijcJ.png?s=128&g=1", "display_name": "serenesat", "link": "https://stackoverflow.com/users/4248931/serenesat"}, "is_accepted": false, "score": 0, "last_activity_date": 1436335954, "creation_date": 1436335954, "answer_id": 31284815, "question_id": 31284480, "link": "https://stackoverflow.com/questions/31284480/how-to-distinguish-between-0-and-null-in-perl/31284815#31284815", "title": "How to distinguish between &quot;0&quot; and NULL in perl?", "body": "<p>Try this:</p>\n\n<pre><code>#!/usr/bin/perl\nuse warnings;\nuse strict;\n\nopen(READFILE, \"&lt;\", \"myfile.txt\") or die $!;\nmy @list = &lt;READFILE&gt;;\nmy $total_lines = scalar @list;\nclose (READFILE);\n\nfor(my $count=0; $count&lt;$total_lines; $count++)\n{\n    if($list[$count] =~ /reftext/)\n    {\n        my @all_num = $list[$count+1] =~ /(\\d+)/g;\n        if($all_num[2] ne '')\n        {\n            print \"$all_num[2]\\n\";\n        }\n    }\n}\n</code></pre>\n\n<p>To check a variable is null or not:</p>\n\n<pre><code>if ($str ne '')\n{\n    print $str;\n}\n</code></pre>\n\n<p>or better:</p>\n\n<pre><code>my ($str);\n$str = \"\";\nif (defined($str))\n{\n    print \"defined\";\n}\nelse\n{\n    print \"not defined\";\n}\n</code></pre>\n"}, {"comments": [{"owner": {"reputation": 48798, "user_id": 223226, "user_type": "registered", "accept_rate": 93, "profile_image": "https://i.stack.imgur.com/iGqE4.png?s=128&g=1", "display_name": "mpapec", "link": "https://stackoverflow.com/users/223226/mpapec"}, "edited": false, "score": 0, "creation_date": 1436339879, "post_id": 31284824, "comment_id": 50563971, "body": "If zero is always <code>0</code> you can <code>if (defined $v and $v eq &quot;0&quot;) ..</code>"}], "tags": [], "owner": {"reputation": 48798, "user_id": 223226, "user_type": "registered", "accept_rate": 93, "profile_image": "https://i.stack.imgur.com/iGqE4.png?s=128&g=1", "display_name": "mpapec", "link": "https://stackoverflow.com/users/223226/mpapec"}, "is_accepted": false, "score": 5, "last_activity_date": 1436335984, "creation_date": 1436335984, "answer_id": 31284824, "question_id": 31284480, "link": "https://stackoverflow.com/questions/31284480/how-to-distinguish-between-0-and-null-in-perl/31284824#31284824", "title": "How to distinguish between &quot;0&quot; and NULL in perl?", "body": "<p>Hope this helps,</p>\n\n<pre><code>use strict;\nuse warnings;\n\nmy @fvals = (\n [ i =&gt; undef ],\n [ j =&gt; 0 ],\n [ k =&gt; \"\" ],\n);\n\nfor my $r (@fvals) {\n  my ($k, $v) = @$r;\n  if    (!defined($v)) { print \"$k is undef\\n\"; }\n  elsif (!length($v))  { print \"$k is empty string\\n\"; }\n  # elsif (!$v)        { print \"$k is zero\\n\"; }\n  # recognizes zero value in \"0.0\" or \"0E0\" notation\n  elsif ($v == 0)      { print \"$k is zero\\n\"; }\n}\n</code></pre>\n\n<p>output</p>\n\n<pre><code>i is undef\nj is zero\nk is empty string\n</code></pre>\n"}, {"tags": [], "owner": {"reputation": 42833, "user_id": 18914, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/7a20a39ae2ef47ae042a3eddd5b5bd19?s=128&d=identicon&r=PG", "display_name": "Dave Sherohman", "link": "https://stackoverflow.com/users/18914/dave-sherohman"}, "is_accepted": false, "score": 4, "last_activity_date": 1436338918, "creation_date": 1436338918, "answer_id": 31285616, "question_id": 31284480, "link": "https://stackoverflow.com/questions/31284480/how-to-distinguish-between-0-and-null-in-perl/31285616#31285616", "title": "How to distinguish between &quot;0&quot; and NULL in perl?", "body": "<p>Perl does not include a <code>NULL</code>, so the line</p>\n\n<pre><code>if(@all_num[2]!= NULL)\n</code></pre>\n\n<p>is nonsensical in Perl.  (More accurately, it attempts to locate a <code>sub</code> named <code>NULL</code> and run it to get the value to compare against <code>@all_num[2]</code>, but fails to do so because you (presumably) haven't defined such a <code>sub</code>.)  Note that, if you had enabled <code>use strict</code>, this would cause a fatal error instead of pretending to work.  This is one of the many reasons to <em>always</em> <code>use strict</code>.</p>\n\n<p>Side note:  When you pull a value out of an array, it's only a single value, so you should say <code>$all_num[2]</code> rather than <code>@all_num[2]</code> when referring to the third element of the array <code>@all_num</code>.  (Yes, this is a little confusing to get used to.  I hear that it's been changed in Perl 6, but I'm assuming you're using Perl 5 here.)  Note that, if you had enabled <code>use warnings</code>, it would have told you that \"Scalar value @all_num[2] better written as $all_num[2]\".  This is one of the many reasons to <em>always</em> <code>use warnings</code>.</p>\n\n<p>If you want to test whether <code>$all_num[2]</code> contains a value, the proper way to express that in Perl is</p>\n\n<pre><code>if (defined $all_num[2])\n</code></pre>\n"}, {"tags": [], "owner": {"reputation": 123805, "user_id": 622310, "user_type": "registered", "accept_rate": 33, "profile_image": "https://www.gravatar.com/avatar/8b6d35219e1808520bc238b28161e2e6?s=128&d=identicon&r=PG", "display_name": "Borodin", "link": "https://stackoverflow.com/users/622310/borodin"}, "is_accepted": false, "score": 2, "last_activity_date": 1436356676, "creation_date": 1436356676, "answer_id": 31291977, "question_id": 31284480, "link": "https://stackoverflow.com/questions/31284480/how-to-distinguish-between-0-and-null-in-perl/31291977#31291977", "title": "How to distinguish between &quot;0&quot; and NULL in perl?", "body": "<p>This is how your program would look using best practices</p>\n\n<p>You should</p>\n\n<ul>\n<li><p>Always <code>use strict</code> and <code>use warnings</code>, and declare all your variables with <code>my</code></p></li>\n<li><p>Use the three-parameter form of <code>open</code></p></li>\n<li><p>Check that <code>open</code> calls succeeded, and include <code>$!</code> in the <code>die</code> string if not</p></li>\n<li><p>Use a <code>while</code> loop to process a file one line at a time, in preference to reading the entire file into memory</p></li>\n</ul>\n\n\n\n<pre><code>#!/usr/bin/perl\n\nuse strict;\nuse warnings;\n\nopen my $fh, '&lt;', 'myfile.txt' or die $!;\nwhile ( &lt;$fh&gt; ) {\n\n  next unless /reftext/;\n\n  my $next_line = &lt;$fh&gt;;\n  my @all_num = $next_line =~ /\\d+/g;\n  print \"$all_num[2]\\n\" if defined $all_num[2];\n}\n</code></pre>\n"}, {"tags": [], "owner": {"reputation": 3699, "user_id": 970175, "user_type": "registered", "accept_rate": 67, "profile_image": "https://www.gravatar.com/avatar/218b7913c6a8271e348a5e4b98b27d22?s=128&d=identicon&r=PG", "display_name": "redolent", "link": "https://stackoverflow.com/users/970175/redolent"}, "is_accepted": false, "score": 0, "last_activity_date": 1513040490, "creation_date": 1513040490, "answer_id": 47763866, "question_id": 31284480, "link": "https://stackoverflow.com/questions/31284480/how-to-distinguish-between-0-and-null-in-perl/47763866#47763866", "title": "How to distinguish between &quot;0&quot; and NULL in perl?", "body": "<p>If the other answers do not work, try treating the variable as a string:</p>\n\n<pre><code>if ( $all_num[2] == 'null' &amp;&amp; length($all_num[2]) == 4 ){\n     # null\n} else {\n     # not null\n}\n</code></pre>\n\n<p>As with any code you write, be sure to test your code.</p>\n"}], "owner": {"reputation": 11, "user_id": 3477363, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/f077f3f64e1c9bd4cc9fbff4f3ad9ef4?s=128&d=identicon&r=PG&f=1", "display_name": "user3477363", "link": "https://stackoverflow.com/users/3477363/user3477363"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 3927, "favorite_count": 0, "answer_count": 5, "score": 1, "last_activity_date": 1513040490, "creation_date": 1436334599, "last_edit_date": 1436351752, "question_id": 31284480, "link": "https://stackoverflow.com/questions/31284480/how-to-distinguish-between-0-and-null-in-perl", "title": "How to distinguish between &quot;0&quot; and NULL in perl?", "body": "<p>Here we are looking for the string \"reftext\" in the given file. The line next to this contains a string with 3 integers. So we are extracting them in <code>@all_num</code>. We are printing the value of <code>@all_num[2]</code> only if is not NULL. But the logic used here doesn't print <code>@all_num[2]</code> even if it has 0.</p>\n\n<pre><code>#!/usr/bin/perl\nopen( READFILE, \"&lt;myfile.txt\" );\n@list        = &lt;READFILE&gt;;\n$total_lines = scalar @list;\n\nfor ( $count = 0; $count &lt; $total_lines; $count++ ) {\n    if (@list[ $count =~ /reftext/ )\n        {\n            @all_num = @list[ $count + 1 ] =~ /(\\d+)/g;\n            if ( @all_num[2] != NULL ) {\n                print \"@all_num[2]\\n\";\n            }\n    }\n}\n</code></pre>\n"}, {"tags": ["facebook", "perl", "cookies", "www-mechanize"], "comments": [{"owner": {"reputation": 3327, "user_id": 1604311, "user_type": "registered", "accept_rate": 73, "profile_image": "https://i.stack.imgur.com/0frKT.jpg?s=128&g=1", "display_name": "Arunesh Singh", "link": "https://stackoverflow.com/users/1604311/arunesh-singh"}, "edited": false, "score": 0, "creation_date": 1436333710, "post_id": 31283839, "comment_id": 50560935, "body": "I will say first export cookies from firefox using  <a href=\"https://addons.mozilla.org/en-US/firefox/addon/cookie-exporter\" rel=\"nofollow noreferrer\">this</a>. and then check <a href=\"http://search.cpan.org/~gaas/HTTP-Cookies-6.01/lib/HTTP/Cookies/Netscape.pm\" rel=\"nofollow noreferrer\">HTTP::Cookies::Netscape</a>.After  <code>my $mech = WWW::Mechanize-&gt;new(       cookie_jar =&gt; HTTP::Cookies::Netscape-&gt;new( file =&gt; $cookiesfilename )       );</code> not tested"}, {"owner": {"reputation": 125, "user_id": 3295600, "user_type": "registered", "profile_image": "https://graph.facebook.com/7960709/picture?type=large", "display_name": "kedarguru", "link": "https://stackoverflow.com/users/3295600/kedarguru"}, "reply_to_user": {"reputation": 3327, "user_id": 1604311, "user_type": "registered", "accept_rate": 73, "profile_image": "https://i.stack.imgur.com/0frKT.jpg?s=128&g=1", "display_name": "Arunesh Singh", "link": "https://stackoverflow.com/users/1604311/arunesh-singh"}, "edited": false, "score": 0, "creation_date": 1436391098, "post_id": 31283839, "comment_id": 50598055, "body": "This works! Sorry, I am completely new to this website, I do not know how to upvote your comment.  I used cookies.txt extension for Google Chrome -- <a href=\"https://chrome.google.com/webstore/detail/cookiestxt/njabckikapfpffapmjgojcnbfjonfjfg?hl=en\" rel=\"nofollow noreferrer\">chrome.google.com/webstore/detail/cookiestxt/&hellip;</a>  From here I easily exported cookies related to facebook.com domain, and I just followed your exact line of code. Tested and successful."}, {"owner": {"reputation": 81732, "user_id": 1427878, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/db5fbf44c0eeeaf38c4e4a54ce9eff7a?s=128&d=identicon&r=PG&f=1", "display_name": "CBroe", "link": "https://stackoverflow.com/users/1427878/cbroe"}, "edited": false, "score": 0, "creation_date": 1436452545, "post_id": 31283839, "comment_id": 50628284, "body": "You are not supposed to log in to Facebook \u201cautomatically\u201d using any such tools \u2013 and Facebook actively takes measures against this, so it might break again at any point when they \u201dcatch up\u201d to you. If you want to do anything \u201con\u201d Facebook, then you should use their API."}, {"owner": {"reputation": 125, "user_id": 3295600, "user_type": "registered", "profile_image": "https://graph.facebook.com/7960709/picture?type=large", "display_name": "kedarguru", "link": "https://stackoverflow.com/users/3295600/kedarguru"}, "edited": false, "score": 0, "creation_date": 1436541297, "post_id": 31283839, "comment_id": 50672609, "body": "That makes sense. I will check out the API."}], "answers": [{"tags": [], "owner": {"reputation": 355, "user_id": 4311691, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/f8g0A.jpg?s=128&g=1", "display_name": "Georgi Rangelov", "link": "https://stackoverflow.com/users/4311691/georgi-rangelov"}, "is_accepted": false, "score": 0, "last_activity_date": 1436337125, "last_edit_date": 1495542805, "creation_date": 1436337125, "answer_id": 31285100, "question_id": 31283839, "link": "https://stackoverflow.com/questions/31283839/facebook-login-via-perl-wwwmechanize-login-error-cookies-required/31285100#31285100", "title": "Facebook login via Perl WWW::Mechanize, login error &quot;Cookies Required&quot;", "body": "<p>Capture a session of you logging in with your browser (if you're using firefox you can use <a href=\"http://getfirebug.com/\" rel=\"nofollow noreferrer\">firebug</a>, and check what HTTP headers are set - <a href=\"https://stackoverflow.com/questions/5374100/how-to-debug-the-http-response-headers-from-a-http-call\">how-to</a>. Set the same headers in your script, including the user agent. Check if the same cookies are set. You may end up with something like the below:</p>\n\n<pre><code>use strict;\nuse warnings;\nuse WWW::Mechanize;\nuse HTTP::Cookies;\n\nmy $cookie_jar = HTTP::Cookies-&gt;new( \n    hide_cookie2 =&gt; 1, \n);\n\nmy $mech = WWW::Mechanize-&gt;new(\n    cookie_jar =&gt; $cookie_jar,\n);\n\n$mech-&gt;agent_alias('Windows Mozilla');\n\n$mech-&gt;add_header( 'Connection'      =&gt; 'keep-alive' );\n$mech-&gt;add_header( 'Accept-Language' =&gt; 'en-GB,en;q=0.5' );\n$mech-&gt;add_header( 'Accept-Encoding' =&gt; 'gzip, deflate' );\n$mech-&gt;add_header( 'Accept' =&gt;\n      'text/html,application/xhtml+xml,application/xml;q=0.9,*/*;q=0.8' );\n</code></pre>\n"}], "owner": {"reputation": 125, "user_id": 3295600, "user_type": "registered", "profile_image": "https://graph.facebook.com/7960709/picture?type=large", "display_name": "kedarguru", "link": "https://stackoverflow.com/users/3295600/kedarguru"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 1267, "favorite_count": 0, "closed_date": 1477395480, "answer_count": 1, "score": 0, "last_activity_date": 1436363142, "creation_date": 1436331625, "last_edit_date": 1436363142, "question_id": 31283839, "link": "https://stackoverflow.com/questions/31283839/facebook-login-via-perl-wwwmechanize-login-error-cookies-required", "closed_reason": "Duplicate", "title": "Facebook login via Perl WWW::Mechanize, login error &quot;Cookies Required&quot;", "body": "<p>I have a Perl script that I run in Strawberry Perl in which I login to Facebook using WWW::Mechanize. For a short background, I use my script to automate an occasional \"leaderboard\" for a fun little game I invented to be played among my group of friends. I assign points based upon certain posts, and the objective is to earn the most points. Very simple. This script is complete, and it's worked for me in the past (I last ran it 4 days ago). However, I am unable to login to Facebook today. I dumped the content after the form submission to an HTML file, and it appears that I've returned back to the login screen with a red error box:</p>\n\n<blockquote>\n  <p>Cookies Required</p>\n  \n  <blockquote>\n    <p>Cookies are not enabled on your browser. Please enable cookies in your browser preferences to continue.</p>\n  </blockquote>\n</blockquote>\n\n<p>From what I understand, WWW::Mechanize features automatic cookies -- in other words by the default constructor, the bot should be accepting cookies. Cookies should be enabled by the browser. I should not see this screen, right?</p>\n\n<p>I've read and experimented with WWW:Mechanize and HTTP::Cookies, but no matter what I try (fooling around with the cookie jar every which way), I cannot get past this \"cookies required\" error.</p>\n\n<p>This is my code without any experimental fluff, very simple.</p>\n\n<pre><code>use WWW::Mechanize;\n\nmy $mech = WWW::Mechanize-&gt;new();\n$mech-&gt;get(\"https://www.facebook.com/login.php\");\n$mech-&gt;submit_form(\n    fields =&gt; {\n        email =&gt; '&lt;my email here&gt;',\n        pass =&gt; '&lt;my password here&gt;',\n    }\n);\n\nopen($out, \"&gt;\",  \"output_page.html\") or die \"Can't open output_page.html: $!\";\nprint $out $mech-&gt;content;\n</code></pre>\n"}, {"tags": ["regex", "perl", "openssl", "csr"], "comments": [{"owner": {"reputation": 52749, "user_id": 1400768, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/tM0N8.png?s=128&g=1", "display_name": "nhahtdh", "link": "https://stackoverflow.com/users/1400768/nhahtdh"}, "edited": false, "score": 0, "creation_date": 1436326603, "post_id": 31283059, "comment_id": 50558915, "body": "There are syntax errors in your code."}], "answers": [{"tags": [], "owner": {"reputation": 48798, "user_id": 223226, "user_type": "registered", "accept_rate": 93, "profile_image": "https://i.stack.imgur.com/iGqE4.png?s=128&g=1", "display_name": "mpapec", "link": "https://stackoverflow.com/users/223226/mpapec"}, "is_accepted": true, "score": 3, "last_activity_date": 1436334219, "creation_date": 1436334219, "answer_id": 31284405, "question_id": 31283059, "link": "https://stackoverflow.com/questions/31283059/csr-subject-with-special-characters-extract/31284405#31284405", "title": "CSR Subject with Special Characters extract", "body": "<p>Splitting on regex looks more natural than regex only solution,</p>\n\n<pre><code>use Data::Dumper;\n\nmy $subj = q(subject=/O=test~@#$^()_+-=\\{}|;':\",./&lt;&gt;/OU=test~@#$^()_+-=\\{}|;':\",./&lt;&gt;/emailAddress=test~@#$^()_+-=\\{}|;':\",./&lt;&gt;/L=CDE/ST=ABC/C=AU/CN=test~@#$^()_+ -=\\{}|;':\",./&lt;&gt;);\n\n(undef, my %subjinfo) = split m|/?(\\w+)=|, $subj;\n\nprint Dumper \\%subjinfo;\n</code></pre>\n\n<p>output</p>\n\n<pre><code>$VAR1 = {\n      'emailAddress' =&gt; 'test~@#$^()_+-=\\\\{}|;\\':\",./&lt;&gt;',\n      'CN' =&gt; 'test~@#$^()_+ -=\\\\{}|;\\':\",./&lt;&gt;',\n      'OU' =&gt; 'test~@#$^()_+-=\\\\{}|;\\':\",./&lt;&gt;',\n      'L' =&gt; 'CDE',\n      'C' =&gt; 'AU',\n      'ST' =&gt; 'ABC',\n      'subject' =&gt; '',\n      'O' =&gt; 'test~@#$^()_+-=\\\\{}|;\\':\",./&lt;&gt;'\n    };\n</code></pre>\n"}], "owner": {"reputation": 141, "user_id": 1427433, "user_type": "registered", "accept_rate": 62, "profile_image": "https://i.stack.imgur.com/Cs5lQ.png?s=128&g=1", "display_name": "EdgyIT", "link": "https://stackoverflow.com/users/1427433/edgyit"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 290, "favorite_count": 0, "accepted_answer_id": 31284405, "answer_count": 1, "score": 2, "last_activity_date": 1436334219, "creation_date": 1436326285, "last_edit_date": 1495541170, "question_id": 31283059, "link": "https://stackoverflow.com/questions/31283059/csr-subject-with-special-characters-extract", "title": "CSR Subject with Special Characters extract", "body": "<p>I would need to extract the $subj as seen below snippet, but looks like my Regex isn't working as expected. This is actually similar with this: <a href=\"https://stackoverflow.com/questions/31202477/how-to-string-manipulate-extract-subject-contents-in-a-csr-using-openssl-command/31203632#31203632\">How to string manipulate/extract subject contents in a CSR using OpenSSL command + Perl?</a> but with a different subject entry in the CSR. I'm not sure if I did a good thing in my regex for the %subjinfo</p>\n\n<pre><code>#!/usr/bin/env perl\nuse strict;\nuse warnings;\nuse Data::Dumper;\n\nmy $subj =\n    'subject=/O=test~@#$^()_+-=\\{}|;':\",./&lt;&gt;/OU=test~@#$^()_+-=\\{}|;':\",./&lt;&gt;/emailAd\u200c\u200bdress=test~@#$^()_+-=\\{}|;':\",./&lt;&gt;/L=CDE/ST=ABC/C=AU/CN=test~@#$^()_+ -=\\{}|;':\",./&lt;&gt;';\n\nmy %subjinfo = ( $subj =~ m,(\\w+)=([^=]*)(?:/|$),g );\nprint Dumper \\%subjinfo;\n</code></pre>\n\n<p>and so must give a result to this:</p>\n\n<pre><code>$VAR1 = {\n          'subject' =&gt; '',\n          'L' =&gt; 'NYC',\n          'C' =&gt; 'AMER',\n          'OU' =&gt; 'test~@#$^()_+-=\\{}|;':\",./&lt;&gt;',\n          'emailAddress' =&gt; 'test~@#$^()_+-=\\{}|;':\",./&lt;&gt;',\n          'ST' =&gt; 'AMER',\n          'CN' =&gt; 'test~@#$^()_+-=\\{}|;':\",./&lt;&gt;',\n          'O' =&gt; 'test~@#$^()_+-=\\{}|;':\",./&lt;&gt;'\n        };\n</code></pre>\n\n<p>Is that possible? Can you advise?</p>\n"}, {"tags": ["perl", "printf", "multiple-columns"], "comments": [{"owner": {"reputation": 663663, "user_id": 15168, "user_type": "registered", "accept_rate": 100, "profile_image": "https://i.stack.imgur.com/WtEI9.png?s=128&g=1", "display_name": "Jonathan Leffler", "link": "https://stackoverflow.com/users/15168/jonathan-leffler"}, "edited": false, "score": 1, "creation_date": 1436312690, "post_id": 31281005, "comment_id": 50555680, "body": "Please indent your code in a recognizable standard format.  Avoid tabs; an indent of 4 spaces is recommended, but any recognizable indent is acceptable."}], "answers": [{"tags": [], "owner": {"reputation": 2483, "user_id": 306323, "user_type": "registered", "accept_rate": 89, "profile_image": "https://www.gravatar.com/avatar/6a2faebd7c0599235d3b962c1a924f15?s=128&d=identicon&r=PG", "display_name": "cincodenada", "link": "https://stackoverflow.com/users/306323/cincodenada"}, "is_accepted": true, "score": 1, "last_activity_date": 1436312837, "last_edit_date": 1436312837, "creation_date": 1436311754, "answer_id": 31281120, "question_id": 31281005, "link": "https://stackoverflow.com/questions/31281005/using-printf-to-create-columnar-data/31281120#31281120", "title": "using printf to create columnar data", "body": "<p>If you're using Perl and doing more complex stuff, you may want to look into <a href=\"http://perldoc.perl.org/perlform.html\" rel=\"nofollow\">perlform</a>, which is designed for this kind of thing, or a module like <a href=\"http://search.cpan.org/~shlomif/Text-Table-1.130/lib/Text/Table.pm\" rel=\"nofollow\">Text::Table</a>.</p>\n\n<p>As for using <code>printf</code> though, you can use the padding specifiers to get consistent spacing.  For instance, using the <a href=\"http://perldoc.perl.org/functions/sprintf.html\" rel=\"nofollow\">Perl docs</a> on it, make sure the field width is before the <code>.</code>: your printf string should probably look something more like this (check out the \"precision, or maximum width\" section):</p>\n\n<pre><code>printf \"%6.d %9.d %15.6f %28.6f %39.6f\"\n</code></pre>\n\n<p>Also, if your things are in an array, you can just pass the array the second argument to printf and save yourself typing everything out.  I've also prepended the two other items from your example with <code>unshift</code>:</p>\n\n<pre><code>unshift(@line, $i-1, \"BEAD\");\nprintf \"%6.d %10s %15.6f %28.6f %39.6f\\n\", $line;\n</code></pre>\n\n<p>Note that the <code>%s</code> placeholders <em>don't</em> have the <code>.</code> precision specifier, so leave it out for that.  If you <em>want</em> the e-notation for the numbers, use <code>%e</code> or <code>%g</code> instead of <code>%f</code> (<code>%39.6e</code>).</p>\n\n<p>Also, for Perl questions, always check out Perl Monks - much of this answer was culled from <a href=\"http://www.perlmonks.org/?node_id=470935\" rel=\"nofollow\">a question there</a>.</p>\n\n<p>P.S. Given one of your example columns, here's the proof-of-concept script I tried to make sure everything worked:</p>\n\n<pre><code>perl -e '@line = (8.14225e-02,8.10216e-02,2.76423e-01);\n    unshift(@line, 4, \"BEAD\");\n    printf \"%6.d %10s %15.6f %28.6f %39.6e\\n\", @line;'\n</code></pre>\n"}], "owner": {"reputation": 13, "user_id": 5012821, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/3294dcdeabdd37db23fc498e0b677b6f?s=128&d=identicon&r=PG&f=1", "display_name": "mzg", "link": "https://stackoverflow.com/users/5012821/mzg"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 67, "favorite_count": 0, "accepted_answer_id": 31281120, "answer_count": 1, "score": 1, "last_activity_date": 1436313152, "creation_date": 1436310940, "last_edit_date": 1436313152, "question_id": 31281005, "link": "https://stackoverflow.com/questions/31281005/using-printf-to-create-columnar-data", "title": "using printf to create columnar data", "body": "<p>I am new to perl and scripting in general. I have five variables that hold data and I need to print them as five columns next to each other. Here is the code I have now. </p>\n\n<pre><code>$i = 0;\nforeach $line (&lt;inf&gt;){\n    chomp $line;\n    @line=split / +/, $line;\n    $i = $i + 1;\n    if ($i &gt; $n+1) {\n        $i = 1;\n        $numdata = $numdata + 1;\n    }\n    if ($i == 1) {\n        printf \"%20s\\n\", $n, \"\\n\";\n    } else {\n        print  $i-1, \"BEAD\", $line[$col], $line[$col+1], $line[$col+2], \"\\n\";\n    }\n    # other statistics\n}\n</code></pre>\n\n<p>The output I get from this looks like:</p>\n\n<pre><code>                   5\n1BEAD0.00000e+000.00000e+000.00000e+00\n2BEAD0.00000e+000.00000e+000.00000e+00\n3BEAD0.00000e+000.00000e+000.00000e+00\n4BEAD0.00000e+000.00000e+000.00000e+00\n5BEAD0.00000e+000.00000e+000.00000e+00\n                   5\n1BEAD9.40631e-02-3.53254e-022.09369e-01\n2BEAD-6.69662e-03-3.13492e-012.62915e-01\n3BEAD2.98822e-024.60254e-023.61680e-01\n4BEAD-1.45631e-013.45979e-021.50167e-01\n5BEAD-5.57204e-02-1.51673e-012.95947e-01\n                   5\n1BEAD8.14225e-028.10216e-022.76423e-01\n2BEAD2.36992e-02-2.74023e-014.47334e-01\n3BEAD1.23492e-011.12571e-012.59486e-01\n4BEAD-2.05375e-011.25304e-011.85252e-01\n5BEAD5.54441e-02-1.30280e-015.82256e-01\n</code></pre>\n\n<p>I have tried using <code>\"%6d %9d %15.6f %28.6f %39.6f\\n\"</code> before the variables in my print statement to try to space the data out; however, this did not give me the columns I hoped for. Any help/ suggestions are appreciated.</p>\n"}, {"tags": ["multithreading", "perl"], "comments": [{"owner": {"reputation": 110113, "user_id": 168657, "user_type": "registered", "accept_rate": 92, "profile_image": "https://www.gravatar.com/avatar/f14e7610fca39322ebbf23530def15f8?s=128&d=identicon&r=PG", "display_name": "mob", "link": "https://stackoverflow.com/users/168657/mob"}, "edited": false, "score": 0, "creation_date": 1436303650, "post_id": 31279157, "comment_id": 50552452, "body": "Perl threads are heavy. Each thread will have its own copy of your <code>$init</code> variable, and the thread safety of your <code>initial</code> class will be relevant. Do you have any better luck putting your <code>$init</code> assignment after the creation of your two threads?"}, {"owner": {"reputation": 320771, "user_id": 589924, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/b2cf53d5a3d25f95c0db4e025aed4153?s=128&d=identicon&r=PG", "display_name": "ikegami", "link": "https://stackoverflow.com/users/589924/ikegami"}, "edited": false, "score": 0, "creation_date": 1436303721, "post_id": 31279157, "comment_id": 50552486, "body": "Why did you move the <code>join</code> back into the signal handler. That makes no sense."}, {"owner": {"reputation": 320771, "user_id": 589924, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/b2cf53d5a3d25f95c0db4e025aed4153?s=128&d=identicon&r=PG", "display_name": "ikegami", "link": "https://stackoverflow.com/users/589924/ikegami"}, "edited": false, "score": 0, "creation_date": 1436303797, "post_id": 31279157, "comment_id": 50552508, "body": "The obvious guess is that Net::AMQP::RabbitMQ isn&#39;t threadsafe"}, {"owner": {"reputation": 2920, "user_id": 3360140, "user_type": "registered", "accept_rate": 81, "profile_image": "https://i.stack.imgur.com/OThx0.jpg?s=128&g=1", "display_name": "Kamrul Khan", "link": "https://stackoverflow.com/users/3360140/kamrul-khan"}, "edited": false, "score": 0, "creation_date": 1436304247, "post_id": 31279157, "comment_id": 50552689, "body": "I updated the code please check now. Having same issue. Yes Net::AMQP::RabbitMQ is not thread safe. is there any fix?"}, {"owner": {"reputation": 2920, "user_id": 3360140, "user_type": "registered", "accept_rate": 81, "profile_image": "https://i.stack.imgur.com/OThx0.jpg?s=128&g=1", "display_name": "Kamrul Khan", "link": "https://stackoverflow.com/users/3360140/kamrul-khan"}, "reply_to_user": {"reputation": 110113, "user_id": 168657, "user_type": "registered", "accept_rate": 92, "profile_image": "https://www.gravatar.com/avatar/f14e7610fca39322ebbf23530def15f8?s=128&d=identicon&r=PG", "display_name": "mob", "link": "https://stackoverflow.com/users/168657/mob"}, "edited": false, "score": 0, "creation_date": 1436304892, "post_id": 31279157, "comment_id": 50552995, "body": "@mob I dont see the error If I call initial class after creating the threads. But this is just part of a bigger code and calling the class every time after creating a thread is not the solution in my case. Is there a way to tell perl not to copy my $init variable ?"}, {"owner": {"reputation": 110113, "user_id": 168657, "user_type": "registered", "accept_rate": 92, "profile_image": "https://www.gravatar.com/avatar/f14e7610fca39322ebbf23530def15f8?s=128&d=identicon&r=PG", "display_name": "mob", "link": "https://stackoverflow.com/users/168657/mob"}, "edited": false, "score": 0, "creation_date": 1436324081, "post_id": 31279157, "comment_id": 50558339, "body": "I dunno. What if you make <code>$init</code> a shared variable?"}, {"owner": {"reputation": 51521, "user_id": 2566198, "user_type": "registered", "accept_rate": 67, "profile_image": "https://i.stack.imgur.com/Y34ZA.jpg?s=128&g=1", "display_name": "Sobrique", "link": "https://stackoverflow.com/users/2566198/sobrique"}, "edited": false, "score": 0, "creation_date": 1436338834, "post_id": 31279157, "comment_id": 50563356, "body": "If you are not using a thread safe library, you can sometimes get away with it by keeping it within just one thread. E.g. Ensure &quot;use&quot;/&quot;require&quot;/&quot;import&quot; happen after the threads are instantiated."}, {"owner": {"reputation": 51521, "user_id": 2566198, "user_type": "registered", "accept_rate": 67, "profile_image": "https://i.stack.imgur.com/Y34ZA.jpg?s=128&g=1", "display_name": "Sobrique", "link": "https://stackoverflow.com/users/2566198/sobrique"}, "edited": false, "score": 0, "creation_date": 1436338852, "post_id": 31279157, "comment_id": 50563365, "body": "Alternatively use forking instead of threading."}, {"owner": {"reputation": 2920, "user_id": 3360140, "user_type": "registered", "accept_rate": 81, "profile_image": "https://i.stack.imgur.com/OThx0.jpg?s=128&g=1", "display_name": "Kamrul Khan", "link": "https://stackoverflow.com/users/3360140/kamrul-khan"}, "edited": false, "score": 0, "creation_date": 1436371489, "post_id": 31279157, "comment_id": 50586432, "body": "How about locking? can I lock the variable which is not thread safe? Can that somehow solve my issue?"}], "answers": [{"comments": [{"owner": {"reputation": 2920, "user_id": 3360140, "user_type": "registered", "accept_rate": 81, "profile_image": "https://i.stack.imgur.com/OThx0.jpg?s=128&g=1", "display_name": "Kamrul Khan", "link": "https://stackoverflow.com/users/3360140/kamrul-khan"}, "edited": false, "score": 0, "creation_date": 1436375776, "post_id": 31287757, "comment_id": 50589086, "body": "can locking be a solution?"}, {"owner": {"reputation": 51521, "user_id": 2566198, "user_type": "registered", "accept_rate": 67, "profile_image": "https://i.stack.imgur.com/Y34ZA.jpg?s=128&g=1", "display_name": "Sobrique", "link": "https://stackoverflow.com/users/2566198/sobrique"}, "reply_to_user": {"reputation": 2920, "user_id": 3360140, "user_type": "registered", "accept_rate": 81, "profile_image": "https://i.stack.imgur.com/OThx0.jpg?s=128&g=1", "display_name": "Kamrul Khan", "link": "https://stackoverflow.com/users/3360140/kamrul-khan"}, "edited": false, "score": 0, "creation_date": 1436390011, "post_id": 31287757, "comment_id": 50597532, "body": "In theory, yes. In practice, you would have to dismantle the module and find the source of the problems, and place a guard around it. There may be multiple.  Not impossible, but not easy either."}], "tags": [], "owner": {"reputation": 51521, "user_id": 2566198, "user_type": "registered", "accept_rate": 67, "profile_image": "https://i.stack.imgur.com/Y34ZA.jpg?s=128&g=1", "display_name": "Sobrique", "link": "https://stackoverflow.com/users/2566198/sobrique"}, "is_accepted": false, "score": 1, "last_activity_date": 1436345636, "last_edit_date": 1436345636, "creation_date": 1436345320, "answer_id": 31287757, "question_id": 31279157, "link": "https://stackoverflow.com/questions/31279157/perl-seg-fault-while-joining-threads/31287757#31287757", "title": "Perl seg fault while joining threads", "body": "<p>I can't reproduce your problem directly, because I don't have the library installed. </p>\n\n<p>One way of 'faking' thread safety in a not-thread-safe module is to rescope your 'use' to only the bit where you'll be using it.</p>\n\n<p>You see, when you start a thread, it copies the program state - loaded libraries and everything. </p>\n\n<p>If your run (something like):</p>\n\n<pre><code>#!/usr/bin/env perl\n\nuse strict;\nuse warnings;\n\nuse XML::Twig;\nuse Data::Dumper;\n\nsub thread1 {\n    print threads-&gt;self-&gt;tid.\": Includes:\", Dumper \\%INC,\"\\n\";\n}\n\n\n#main;\n\nprint \"Main includes:\", Dumper \\%INC,\"\\n\";\nthreads -&gt; create ( \\&amp;thread1 );\n</code></pre>\n\n<p>You'll see <code>XML::Twig</code> is loaded in both. If the process of 'loading' the module causes some state changes (and it can) then you immediately have a potential thread-safety issue. </p>\n\n<p>However if you instead do:</p>\n\n<pre><code>#!/usr/bin/env perl\n\nuse strict;\nuse warnings;\n\nuse threads;\nuse Data::Dumper;\n\nsub thread1 {\n    require XML::Twig;\n    XML::Twig -&gt; import;\n    print threads-&gt;self-&gt;tid.\": Includes:\", Dumper (\\%INC),\"\\n\";\n}\n\n\n#main;\n\nprint \"Main includes:\", Dumper (\\%INC),\"\\n\";\nthreads -&gt; create ( \\&amp;thread1 );\nforeach my $thr ( threads -&gt; list ) { \n   $thr -&gt; join;\n}\n</code></pre>\n\n<p>You <em>effectively</em> cause the module to be dynamically loaded within the thread - the module is only present in one 'code instance' so you are much less likely to be tripped up by 'thread safety' issues. </p>\n\n<p>Alternatively - <code>fork</code>ing instead of <code>thread</code>ing ... might be an alternative. This has slightly different 'safety' problems. </p>\n\n<p>But there really is no way to avoid this. Even with shared variables, the core problem is - when you thread, bits of code happen in a different order. There's all sorts of fruity things that can happen as a result. A shared var is one way of ensuring it's the <em>same</em> variable being checked each time - e.g. share <code>$init</code>, but that may well make things worse, because you're then potentially trampling over the same instance/sockets with different threads. </p>\n\n<p>You can, however, reduce the 'thread safety' problem to a limited scope, and use e.g. <code>Thread::Queue</code> to pass messages to/from your 'module user' thread. </p>\n"}], "owner": {"reputation": 2920, "user_id": 3360140, "user_type": "registered", "accept_rate": 81, "profile_image": "https://i.stack.imgur.com/OThx0.jpg?s=128&g=1", "display_name": "Kamrul Khan", "link": "https://stackoverflow.com/users/3360140/kamrul-khan"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 632, "favorite_count": 0, "answer_count": 1, "score": 2, "last_activity_date": 1436345636, "creation_date": 1436302795, "last_edit_date": 1436304126, "question_id": 31279157, "link": "https://stackoverflow.com/questions/31279157/perl-seg-fault-while-joining-threads", "title": "Perl seg fault while joining threads", "body": "<p>I have a code similar to the below. I have one main script which is calling another module named initial.pm. initial.pm opens up connection with an AMQP server (In my case RabbitMQ)and using  Net::AMQP::RabbitMQ library for establishing the connection. Everything works fine except when I try to join my threads I get <strong>segmentation fault</strong>. </p>\n\n<p>I think the Net::AMQP::RabbitMQ is not thread safe. But this is only being used by the main thread. Im pretty sure you can reproduce the error if you just copy and past the codes below. </p>\n\n<p>How do I fix it ?</p>\n\n<p><strong>main.pl</strong></p>\n\n<pre><code>#!/usr/bin/perl\nuse Cwd qw/realpath/;\nuse File::Basename qw/dirname/;\nuse lib 'lib';\nuse threads;\nuse threads::shared;\nuse initial;\n\nmy @threads = ();\nmy $run :shared = 1;\n\nmy $init = load initial($name);\n\n$SIG{'TERM'} = sub {\n    $run = 0;\n};\n\nthreads-&gt;create(\\&amp;proc1);\nthreads-&gt;create(\\&amp;proc2);\n\n\nwhile($run){\n    sleep(1);\n    print \"I am main thread\\n\";\n}\n\n$_-&gt;join() for threads-&gt;list();\n\nsub proc1 {\n    while($run){\n        sleep(1);\n        print \"I am child thread 1 \\n\"\n    }\n}\n\nsub proc2 {\n    while($run){\n       sleep(1);\n       print \"I am child thread 2 \\n\";\n    }\n}\n</code></pre>\n\n<p><strong>lib/initial.pm</strong></p>\n\n<pre><code>package initial;\n\nuse Net::AMQP::RabbitMQ;\nuse Cwd qw/realpath/;\nuse File::Basename qw/dirname/;\n\nmy $mq;\nmy $stop = 0;\n\nsub load {\n    my $class = shift;\n    my $self = {};\n    connectq();\n    bless $self,$class;\n    return $self;\n}\n\nsub connectq {\n    $mq = Net::AMQP::RabbitMQ-&gt;new();\n    my ($host,$port,$user,$pass) = ('localhost','5672','guest','guest');\n    $mq-&gt;connect($host, {\n        user =&gt; $user,\n        password =&gt; $pass,\n        port =&gt; $port,\n        timeout =&gt; 10,\n    });\n\n    $mq-&gt;channel_open(1);\n    $mq-&gt;consume(1, 'logger');\n}\n\n1;\n</code></pre>\n"}, {"tags": ["perl", "awk", "sed"], "comments": [{"owner": {"reputation": 2927, "user_id": 3863903, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/3f5bdf8cace56e1ded5d3a56730b8871?s=128&d=identicon&r=PG&f=1", "display_name": "Rakholiya Jenish", "link": "https://stackoverflow.com/users/3863903/rakholiya-jenish"}, "edited": false, "score": 1, "creation_date": 1436301375, "post_id": 31278711, "comment_id": 50551352, "body": "possible duplicate of <a href=\"http://stackoverflow.com/questions/5400655/bash-merge-multiple-lines\">bash merge multiple lines</a>"}, {"owner": {"reputation": 2927, "user_id": 3863903, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/3f5bdf8cace56e1ded5d3a56730b8871?s=128&d=identicon&r=PG&f=1", "display_name": "Rakholiya Jenish", "link": "https://stackoverflow.com/users/3863903/rakholiya-jenish"}, "edited": false, "score": 1, "creation_date": 1436301820, "post_id": 31278711, "comment_id": 50551566, "body": "You can try: <code>awk &#39;NR==0{print $0} NR!=1{a[$1]=a[$1] FS $2}END{for(i in a) print i,a[i]}&#39; filename</code>"}, {"owner": {"reputation": 4590, "user_id": 3120884, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/116656a5f0b09d1a524808706d709d9c?s=128&d=identicon&r=PG&f=1", "display_name": "stevesliva", "link": "https://stackoverflow.com/users/3120884/stevesliva"}, "edited": false, "score": 1, "creation_date": 1436301959, "post_id": 31278711, "comment_id": 50551636, "body": "The easy way in perl is to parse into a hash of arrays with the keys being the first column, and then print the hash however you want."}, {"owner": {"reputation": 41, "user_id": 5091186, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/337855574e2132f84c8231e56ccf54de?s=128&d=identicon&r=PG&f=1", "display_name": "Liliana Cano", "link": "https://stackoverflow.com/users/5091186/liliana-cano"}, "edited": false, "score": 0, "creation_date": 1436303156, "post_id": 31278711, "comment_id": 50552224, "body": "Thanks so much  Rakholiya Jenish the awk worked great!"}, {"owner": {"reputation": 41, "user_id": 5091186, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/337855574e2132f84c8231e56ccf54de?s=128&d=identicon&r=PG&f=1", "display_name": "Liliana Cano", "link": "https://stackoverflow.com/users/5091186/liliana-cano"}, "edited": false, "score": 0, "creation_date": 1436303193, "post_id": 31278711, "comment_id": 50552249, "body": "Thanks for the perl hint stevesliva I will try to write it with hash so I can modified in future!"}], "answers": [{"tags": [], "owner": {"reputation": 8273, "user_id": 1334695, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/431ae6e9f7610b9d6a6a6cdebd0244d5?s=128&d=identicon&r=PG", "display_name": "stevieb", "link": "https://stackoverflow.com/users/1334695/stevieb"}, "is_accepted": false, "score": 1, "last_activity_date": 1436304952, "creation_date": 1436304952, "answer_id": 31279731, "question_id": 31278711, "link": "https://stackoverflow.com/questions/31278711/how-to-merge-rows-that-share-unique-ids-into-a-comma-separated-table/31279731#31279731", "title": "how to merge rows that share unique IDs into a comma separated table", "body": "<p>Using a Perl hash of arrays...</p>\n\n<pre><code>#!/usr/bin/perl\nuse warnings;\nuse strict;\n\nmy %data;\nmy $header;\n\nwhile(&lt;DATA&gt;){\n    chomp;\n\n    if ($. == 1){\n        $header = $_;\n        next;\n    }\n    push @{ $data{(split)[0]} }, (split)[1];\n}\n\nprint \"$header\\n\";\n\nfor my $k (sort {$a&lt;=&gt;$b} keys %data){\n\n    print \"$k\\t\";\n    print join(', ', @{ $data{$k} });\n    print \"\\n\";\n}\n\n__DATA__\nprotein_id go_id\n4102    GO:0003676\n4125    GO:0003676\n4125    GO:0008270\n4139    GO:0008270\n</code></pre>\n"}, {"tags": [], "owner": {"reputation": 25491, "user_id": 49197, "user_type": "registered", "accept_rate": 75, "profile_image": "https://www.gravatar.com/avatar/15ebf24a33a29b9efbf9924f530dd736?s=128&d=identicon&r=PG", "display_name": "Hynek -Pichi- Vychodil", "link": "https://stackoverflow.com/users/49197/hynek-pichi-vychodil"}, "is_accepted": false, "score": -1, "last_activity_date": 1436305852, "creation_date": 1436305852, "answer_id": 31279960, "question_id": 31278711, "link": "https://stackoverflow.com/questions/31278711/how-to-merge-rows-that-share-unique-ids-into-a-comma-separated-table/31279960#31279960", "title": "how to merge rows that share unique IDs into a comma separated table", "body": "<pre class=\"lang-none prettyprint-override\"><code>$ cat data.txt \nprotein_id go_id\n4102    GO:0003676\n4125    GO:0003676\n4125    GO:0008270\n4139    GO:0008270\n$ perl -aE'sub a{say\"$a\\t\",join\", \",@a if$a;@a=($F[1]);$a=$F[0]}$F[0]eq$a?push@a,$F[1]:a()}{a()' data.txt\nprotein_id      go_id\n4102    GO:0003676\n4125    GO:0003676, GO:0008270\n4139    GO:0008270\n</code></pre>\n"}, {"tags": [], "owner": {"reputation": 14904, "user_id": 3161993, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/56e8M.png?s=128&g=1", "display_name": "Akshay", "link": "https://stackoverflow.com/users/3161993/akshay"}, "is_accepted": false, "score": 0, "last_activity_date": 1436330732, "creation_date": 1436330732, "answer_id": 31283693, "question_id": 31278711, "link": "https://stackoverflow.com/questions/31278711/how-to-merge-rows-that-share-unique-ids-into-a-comma-separated-table/31283693#31283693", "title": "how to merge rows that share unique IDs into a comma separated table", "body": "<p>Using <code>awk</code></p>\n\n<p><strong>Input</strong></p>\n\n<pre><code>$ cat file\nprotein_id go_id\n4102    GO:0003676\n4125    GO:0003676\n4125    GO:0008270\n4139    GO:0008270\n</code></pre>\n\n<p><strong>Output (if order doesn't matter)</strong></p>\n\n<pre><code>$ awk 'FNR==1{print;next}{A[$1]=$1 in A ? A[$1]\", \"$2:$2}END{for(i in A)print i,A[i]}' file\nprotein_id go_id\n4139 GO:0008270\n4102 GO:0003676\n4125 GO:0003676, GO:0008270\n</code></pre>\n\n<p><strong>Better Readable version</strong></p>\n\n<pre><code>awk '\n      FNR==1{\n              print\n              next\n            }\n            {\n              A[$1]=$1 in A ? A[$1]\", \"$2:$2\n            }\n         END{\n              for(i in A)\n                   print i,A[i]\n            }\n    ' file\n</code></pre>\n\n<p><strong>Output (if order is important)</strong></p>\n\n<pre><code>$ awk 'FNR==1{print;next}$1 in A{A[$1]=A[$1]\", \"$2;next}{A[O[++c]=$1]=$2}END{for(i=1; i in O; i++)print O[i],A[O[i]]}' file\nprotein_id go_id\n4102 GO:0003676\n4125 GO:0003676, GO:0008270\n4139 GO:0008270\n</code></pre>\n\n<p><strong>Better Readable version</strong></p>\n\n<pre><code>awk '\n     FNR==1{\n             print\n             next\n           }\n    $1 in A{\n             A[$1]=A[$1]\", \"$2\n             next\n           }\n           {\n            A[O[++c]=$1]=$2\n           }\n        END{\n             for(i=1; i in O; i++)\n                  print O[i],A[O[i]]\n           }\n    ' file\n</code></pre>\n"}], "owner": {"reputation": 41, "user_id": 5091186, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/337855574e2132f84c8231e56ccf54de?s=128&d=identicon&r=PG&f=1", "display_name": "Liliana Cano", "link": "https://stackoverflow.com/users/5091186/liliana-cano"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 105, "favorite_count": 0, "answer_count": 3, "score": -1, "last_activity_date": 1436330732, "creation_date": 1436301202, "last_edit_date": 1436301954, "question_id": 31278711, "link": "https://stackoverflow.com/questions/31278711/how-to-merge-rows-that-share-unique-ids-into-a-comma-separated-table", "title": "how to merge rows that share unique IDs into a comma separated table", "body": "<p>I would like to ask for some hints in how to merge rows that share unique IDs into a comma separated table. Any hints in Perl, sed or awk are greatly appreciated.</p>\n\n<p>This is how the table I have looks now:</p>\n\n<pre><code>protein_id go_id\n4102    GO:0003676\n4125    GO:0003676\n4125    GO:0008270\n4139    GO:0008270\n</code></pre>\n\n<p>This is how i would like to be converted to:</p>\n\n<pre><code>protein_id  go_id\n4102    GO:0003676\n4125    GO:0003676, GO:0008270\n4139    GO:0008270\n</code></pre>\n"}, {"tags": ["perl", "parallel-processing", "fork"], "comments": [{"owner": {"reputation": 52334, "user_id": 702638, "user_type": "registered", "accept_rate": 98, "profile_image": "https://www.gravatar.com/avatar/892f65bc0a8a0949ab88598de7d83cab?s=128&d=identicon&r=PG", "display_name": "Hunter McMillen", "link": "https://stackoverflow.com/users/702638/hunter-mcmillen"}, "edited": false, "score": 1, "creation_date": 1436299831, "post_id": 31278202, "comment_id": 50550559, "body": "<code>system</code> also forks a process, I imagine if you change <code>system(&quot;sleep 15s&quot;)</code> to Perl&#39;s <code>sleep 15;</code> you will not see this same behavior."}], "answers": [{"comments": [{"owner": {"reputation": 71, "user_id": 5091098, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/4f12c4fbb5676733af9ead8429b8ba6d?s=128&d=identicon&r=PG&f=1", "display_name": "donutbrew", "link": "https://stackoverflow.com/users/5091098/donutbrew"}, "edited": false, "score": 1, "creation_date": 1436302673, "post_id": 31278442, "comment_id": 50551987, "body": "Great! I didn&#39;t realize that system was intercepting SIGINT. (And the reason to use system() is that this is just one example of many non-sleep system commands...)"}], "tags": [], "owner": {"reputation": 52334, "user_id": 702638, "user_type": "registered", "accept_rate": 98, "profile_image": "https://www.gravatar.com/avatar/892f65bc0a8a0949ab88598de7d83cab?s=128&d=identicon&r=PG", "display_name": "Hunter McMillen", "link": "https://stackoverflow.com/users/702638/hunter-mcmillen"}, "is_accepted": false, "score": 6, "last_activity_date": 1436300496, "last_edit_date": 1436300496, "creation_date": 1436300139, "answer_id": 31278442, "question_id": 31278202, "link": "https://stackoverflow.com/questions/31278202/forkmanager-sigint-only-kills-current-process-in-fork/31278442#31278442", "title": "ForkManager SIGINT only kills current process in fork", "body": "<p>According to <a href=\"http://perldoc.perl.org/functions/system.html\"><code>perldoc system</code></a>, <code>system</code> actually ignores both SIGINT and SIGQUIT:</p>\n\n<blockquote>\n  <p>Since SIGINT and SIGQUIT are ignored during the execution of system,\n  if you expect your program to terminate on receipt of these signals\n  you will need to arrange to do so yourself based on the return value.</p>\n</blockquote>\n\n<p>So if you want your processes to stop executing if you SIGINT during the <code>system</code> call, you need to implement that logic yourself:</p>\n\n<pre><code>#!/usr/bin/perl -w\nuse Parallel::ForkManager;\n\nmain {\n   my $fork1 = new Parallel::ForkManager(8);\n   while (1) {\n      $fork1-&gt;start and next;\n      print \"Sleeping...\";\n      system(\"sleep 15s\") == 0 or exit($?);\n      print \"Still going!\";\n      $fork1-&gt;finish;\n   }\n   fork1-&gt;wait_all_children;\n}\n</code></pre>\n\n<p>OR the more reasonable approach is the use the Perl built-in <a href=\"http://perldoc.perl.org/functions/sleep.html\"><code>sleep</code></a>: </p>\n\n<pre><code>#!/usr/bin/perl -w\nuse Parallel::ForkManager;\n\nmain {\n   my $fork1 = new Parallel::ForkManager(8);\n   while (1) {\n      $fork1-&gt;start and next;\n      print \"Sleeping...\";\n      sleep 15;\n      print \"Still going!\";\n      $fork1-&gt;finish;\n   }\n   fork1-&gt;wait_all_children;\n}\n</code></pre>\n"}, {"tags": [], "owner": {"reputation": 51521, "user_id": 2566198, "user_type": "registered", "accept_rate": 67, "profile_image": "https://i.stack.imgur.com/Y34ZA.jpg?s=128&g=1", "display_name": "Sobrique", "link": "https://stackoverflow.com/users/2566198/sobrique"}, "is_accepted": true, "score": 2, "last_activity_date": 1436300364, "creation_date": 1436300364, "answer_id": 31278499, "question_id": 31278202, "link": "https://stackoverflow.com/questions/31278202/forkmanager-sigint-only-kills-current-process-in-fork/31278499#31278499", "title": "ForkManager SIGINT only kills current process in fork", "body": "<p>First off - using <code>system</code> means you might have something strange happen, because ... then you're allowing whatever you're calling to do stuff to handle signals by itself. </p>\n\n<p>That may be your problem. </p>\n\n<p>However otherwise, what you can do with <code>perl</code> is configure signal handlers - what to do if a signal is recieved by this process. By default - signals are either set to 'exit' or 'ignore'.</p>\n\n<p>You can see what this is currently via <code>print Dumper \\%SIG;</code></p>\n\n<p>However the simplest solution to you problem I think, would be to set a handler to trap <code>SIGINT</code> and then send a <a href=\"http://perldoc.perl.org/functions/kill.html\" rel=\"nofollow\"><code>kill</code></a> to your current process group. </p>\n\n<blockquote>\n  <p>The behavior of kill when a PROCESS number is zero or negative depends on the operating system. For example, on POSIX-conforming systems, zero will signal the current process group, -1 will signal all processes, and any other negative PROCESS number will act as a negative signal number and kill the entire process group specified.</p>\n</blockquote>\n\n<pre><code>$SIG{'INT'} = sub { \n    kill ( 'TERM', -$$ );\n};\n</code></pre>\n"}], "owner": {"reputation": 71, "user_id": 5091098, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/4f12c4fbb5676733af9ead8429b8ba6d?s=128&d=identicon&r=PG&f=1", "display_name": "donutbrew", "link": "https://stackoverflow.com/users/5091098/donutbrew"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 597, "favorite_count": 0, "accepted_answer_id": 31278499, "answer_count": 2, "score": 3, "last_activity_date": 1436300825, "creation_date": 1436299249, "last_edit_date": 1436300825, "question_id": 31278202, "link": "https://stackoverflow.com/questions/31278202/forkmanager-sigint-only-kills-current-process-in-fork", "title": "ForkManager SIGINT only kills current process in fork", "body": "<p>I want to have all child processes die when I kill a perl process that is using ForkManager. In the code below, if I run it and hit <kbd>ctrl</kbd>+<kbd>c</kbd> while the sleep line is running, the sleep process is killed, but the <code>print</code> lines are then all simultaneously executed before the script ends. Ideally, I'd like an interrupt to immediately stop all execution. What can I do?</p>\n\n<pre><code>#!/usr/bin/perl -w\nuse Parallel::ForkManager;\n\nmain {\n    my $fork1 = new Parallel::ForkManager(8);\n    while (1) {\n        $fork1-&gt;start and next;\n        system(\"sleep 15s\");\n        print \"Still going!\"\n        $fork1-&gt;finish;\n    }\n    fork1-&gt;wait_all_children;\n}\n</code></pre>\n"}, {"tags": ["xml", "perl", "parsing", "xml-simple"], "comments": [{"owner": {"reputation": 123805, "user_id": 622310, "user_type": "registered", "accept_rate": 33, "profile_image": "https://www.gravatar.com/avatar/8b6d35219e1808520bc238b28161e2e6?s=128&d=identicon&r=PG", "display_name": "Borodin", "link": "https://stackoverflow.com/users/622310/borodin"}, "edited": false, "score": 2, "creation_date": 1436298616, "post_id": 31277284, "comment_id": 50549865, "body": "The <code>$VAR1</code> result that you show is fine when accessed with <code>$xst-&gt;{cmts}{STBDSG}{dsg}[0]{dsgIfStdTunnelFilterTunnelId}</code> etc. The values <code>1</code> and <code>caSystemId</code> are displayed. You need to show what form the parsed data takes when you are getting <code>undef</code> for those values"}, {"owner": {"reputation": 123805, "user_id": 622310, "user_type": "registered", "accept_rate": 33, "profile_image": "https://www.gravatar.com/avatar/8b6d35219e1808520bc238b28161e2e6?s=128&d=identicon&r=PG", "display_name": "Borodin", "link": "https://stackoverflow.com/users/622310/borodin"}, "edited": false, "score": 2, "creation_date": 1436299596, "post_id": 31277284, "comment_id": 50550440, "body": "Can I suggest using an alternative XML parser for consistency and convenience, and building a data structure that <i>looks</i> like it came from <code>XML::Simple</code> if you need to when you are interacting with the rest of the project. That would be very a very simple thing to achieve"}, {"owner": {"reputation": 51521, "user_id": 2566198, "user_type": "registered", "accept_rate": 67, "profile_image": "https://i.stack.imgur.com/Y34ZA.jpg?s=128&g=1", "display_name": "Sobrique", "link": "https://stackoverflow.com/users/2566198/sobrique"}, "edited": false, "score": 0, "creation_date": 1436299740, "post_id": 31277284, "comment_id": 50550515, "body": "XML::Twig has <code>simplify</code> built in IIRC."}, {"owner": {"reputation": 123805, "user_id": 622310, "user_type": "registered", "accept_rate": 33, "profile_image": "https://www.gravatar.com/avatar/8b6d35219e1808520bc238b28161e2e6?s=128&d=identicon&r=PG", "display_name": "Borodin", "link": "https://stackoverflow.com/users/622310/borodin"}, "reply_to_user": {"reputation": 51521, "user_id": 2566198, "user_type": "registered", "accept_rate": 67, "profile_image": "https://i.stack.imgur.com/Y34ZA.jpg?s=128&g=1", "display_name": "Sobrique", "link": "https://stackoverflow.com/users/2566198/sobrique"}, "edited": false, "score": 1, "creation_date": 1436300162, "post_id": 31277284, "comment_id": 50550733, "body": "@Sobrique: That just occurred to me as well. I have written it up"}], "answers": [{"comments": [{"owner": {"reputation": 123805, "user_id": 622310, "user_type": "registered", "accept_rate": 33, "profile_image": "https://www.gravatar.com/avatar/8b6d35219e1808520bc238b28161e2e6?s=128&d=identicon&r=PG", "display_name": "Borodin", "link": "https://stackoverflow.com/users/622310/borodin"}, "edited": false, "score": 0, "creation_date": 1436298742, "post_id": 31278047, "comment_id": 50549944, "body": "The OP does say that he is constrained to using <code>XML::Simple</code>"}], "tags": [], "owner": {"reputation": 51521, "user_id": 2566198, "user_type": "registered", "accept_rate": 67, "profile_image": "https://i.stack.imgur.com/Y34ZA.jpg?s=128&g=1", "display_name": "Sobrique", "link": "https://stackoverflow.com/users/2566198/sobrique"}, "is_accepted": false, "score": 1, "last_activity_date": 1436299461, "last_edit_date": 1436299461, "creation_date": 1436298672, "answer_id": 31278047, "question_id": 31277284, "link": "https://stackoverflow.com/questions/31277284/trouble-in-reading-values-from-parsed-xml-data-using-xmlsimple/31278047#31278047", "title": "Trouble in reading values from parsed XML data using XML::Simple", "body": "<p>As you have found - <code>XML::Simple</code>, isn't. Even it's documentation suggests: </p>\n\n<blockquote>\n  <p>The use of this module in new code is discouraged. Other modules are available which provide more straightforward and consistent interfaces.</p>\n</blockquote>\n\n<p>Part of the problem is - XML doesn't have any such thing as arrays. It might have duplicated tags. But as such - there is no linear mapping between 'array' and 'XML' so it always makes the programming uncomfortable.</p>\n\n<p>What it's doing to you is assuming that the <code>dsg</code> elements are an array, and casting them automatically. </p>\n\n<p>Anyway, I would suggest using <code>XML::Twig</code> instead - and then your 'print' statements just look like this:</p>\n\n<pre><code>#!/usr/bin/env perl\nuse strict;\nuse warnings;\nuse XML::Twig;\n\nmy $twig = XML::Twig-&gt;new-&gt;parse( \\*DATA );\n\nforeach my $element ( $twig-&gt;get_xpath( \"cmts/STBDSG/dsg\", 0 ) ) {\n    print $element -&gt;first_child_text(\"dsgIfStdTunnelFilterTunnelId\"), \"\\n\";\n    print $element -&gt;first_child_text(\"dsgIfStdTunnelFilterClientIdType\"),\n        \"\\n\";\n}\n</code></pre>\n\n<p>Anyway, if you're forced into using <code>XML::Simple</code> - and throwing it away and starting over isn't an option. (Because seriously, I'd consider it!). </p>\n\n<p>What XML::Simple does with 'matching' elements is try and pretend they're arrays. </p>\n\n<p>If there aren't matching elements, it treats them as a hash. That's probably what's catching you out. The problem is - in perl, hashes can't have duplicate keys - so your example, <code>dsg</code> - rather than duplicating it, it array-ifys it. </p>\n\n<p>Switching on <code>ForceArray</code> puts <em>everything</em> into arrays, but some of the arrays might be single elements. That's useful if you want consistency though. </p>\n\n<p><code>KeyAttr</code> probably doesn't help you - that's primarily geared to having different subelements and you wanting to 'map' them. It allows you to turn one of the XML attributes into the 'key' field in a hash. </p>\n\n<p>E.g.</p>\n\n<pre><code>&lt;element name=\"firstelement\"&gt;content&lt;/element&gt;\n&lt;element name=\"secondelement\"&gt;morecontent&lt;/element&gt;\n</code></pre>\n\n<p>If you specify <code>KeyAttr</code> as <code>name</code> it will make a hash with keys of <code>firstelement</code> and <code>secondelement</code>. </p>\n\n<p>As your <code>dsg</code> doesn't have this, then that's not what you want. </p>\n\n<p>To iterate upon <code>dsg</code>:</p>\n\n<pre><code>foreach my $element ( @{ $xst-&gt;{cmts}{STBDSG}{dsg} } ) {\n    print $element -&gt;{dsgIfStdTunnelFilterTunnelId},     \"\\n\";\n    print $element -&gt;{dsgIfStdTunnelFilterClientIdType}, \"\\n\";\n}\n</code></pre>\n"}, {"comments": [{"owner": {"reputation": 865, "user_id": 3209087, "user_type": "registered", "accept_rate": 82, "profile_image": "https://www.gravatar.com/avatar/0932d741b5753d12f105fa0410037b5c?s=128&d=identicon&r=PG&f=1", "display_name": "300", "link": "https://stackoverflow.com/users/3209087/300"}, "edited": false, "score": 0, "creation_date": 1436301456, "post_id": 31278438, "comment_id": 50551399, "body": "Thank you Borodin and Sobrique for all the suggestions. I think I&#39;ll have to go for XML::Twig if i want to complete this work. The problem is that the machine I am working on has no CPAN to help me get new modules (even if I manage to overcome the code dependency). When I tried to get CPAN using yum, I found that somehow system is showing not registered with RHN. But regardless, I&#39;ll either install XML::Twig manually or find some way to get XML::Twig as that seems to be the only option available now."}, {"owner": {"reputation": 123805, "user_id": 622310, "user_type": "registered", "accept_rate": 33, "profile_image": "https://www.gravatar.com/avatar/8b6d35219e1808520bc238b28161e2e6?s=128&d=identicon&r=PG", "display_name": "Borodin", "link": "https://stackoverflow.com/users/622310/borodin"}, "reply_to_user": {"reputation": 865, "user_id": 3209087, "user_type": "registered", "accept_rate": 82, "profile_image": "https://www.gravatar.com/avatar/0932d741b5753d12f105fa0410037b5c?s=128&d=identicon&r=PG&f=1", "display_name": "300", "link": "https://stackoverflow.com/users/3209087/300"}, "edited": false, "score": 1, "creation_date": 1436302472, "post_id": 31278438, "comment_id": 50551888, "body": "@ user3209087: It&#39;s very simple to install a module by hand. Take a look at <a href=\"http://perldoc.perl.org/perlmodinstall.html\" rel=\"nofollow noreferrer\">perlmodinstall</a>. You can download the package on any machine and copy it over on a flash drive. Then the four simple commands in that document will install it for you. You may have to also install any dependencies, but the test phase will highlight those for you"}], "tags": [], "owner": {"reputation": 123805, "user_id": 622310, "user_type": "registered", "accept_rate": 33, "profile_image": "https://www.gravatar.com/avatar/8b6d35219e1808520bc238b28161e2e6?s=128&d=identicon&r=PG", "display_name": "Borodin", "link": "https://stackoverflow.com/users/622310/borodin"}, "is_accepted": true, "score": 4, "last_activity_date": 1436300103, "creation_date": 1436300103, "answer_id": 31278438, "question_id": 31277284, "link": "https://stackoverflow.com/questions/31277284/trouble-in-reading-values-from-parsed-xml-data-using-xmlsimple/31278438#31278438", "title": "Trouble in reading values from parsed XML data using XML::Simple", "body": "<p>It's worth considering the use of <a href=\"https://metacpan.org/pod/XML::Twig\" rel=\"nofollow\"><code>XML::Twig</code></a>, regardless of what the rest of your project does</p>\n\n<p>In particular, <code>XML::Twig::Elt</code> objects -- the module's implementation of XML elements -- have a <code>simplify</code> method, whose documentation says this</p>\n\n<blockquote>\n  <p>Return a data structure suspiciously similar to XML::Simple's. Options are identical to XMLin options</p>\n</blockquote>\n\n<p>So you can use <code>XML::Twig</code> for its precision and convenience, and apply the <code>simplify</code> method if you need to pass on any data that looks like an <code>XML::Simple</code> data structure</p>\n"}], "owner": {"reputation": 865, "user_id": 3209087, "user_type": "registered", "accept_rate": 82, "profile_image": "https://www.gravatar.com/avatar/0932d741b5753d12f105fa0410037b5c?s=128&d=identicon&r=PG&f=1", "display_name": "300", "link": "https://stackoverflow.com/users/3209087/300"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 160, "favorite_count": 0, "accepted_answer_id": 31278438, "answer_count": 2, "score": 1, "last_activity_date": 1436300103, "creation_date": 1436296058, "last_edit_date": 1436298139, "question_id": 31277284, "link": "https://stackoverflow.com/questions/31277284/trouble-in-reading-values-from-parsed-xml-data-using-xmlsimple", "title": "Trouble in reading values from parsed XML data using XML::Simple", "body": "<p>I am half way through writing a script using <a href=\"https://metacpan.org/pod/XML::Simple\" rel=\"nofollow\"><code>XML::Simple</code></a>. I have read that is not so \"simple\", and even its own documentation discourages its use in new code, but I have no other choice as this script will be an extension to existing code.</p>\n\n<p>What I am doing is this</p>\n\n<ol>\n<li>Get XML by reading from a URL</li>\n<li>Parse it using <code>XML::Simple</code></li>\n<li>Read the required elements from the data</li>\n<li>Run different checks on these required elements</li>\n</ol>\n\n<p>I could parse and do some checks on a few of the elements, but while reading elements that are in array, I am getting <code>undef</code>.</p>\n\n<p>This is my code:</p>\n\n<pre><code>#!/usr/bin/perl\n\nuse strict;\nuse warnings;\n\nuse LWP::UserAgent;\nuse LWP::Simple;\nuse XML::Simple;\nuse DBI;\n\nuse Data::Dumper;\n\nmy $str = \"&lt;Actual_URL&gt;\";\n\nmy $ua = LWP::UserAgent-&gt;new;\n$ua-&gt;timeout( 180 );\n$ua-&gt;agent( \"$0/0.1 \" . $ua-&gt;agent );\n\nmy $req = HTTP::Request-&gt;new( GET =&gt; $str );\n\nmy $buffer;\n$req-&gt;content_type( 'text/xml' );\n$req-&gt;content( $buffer );\n\nmy $response = $ua-&gt;request( $req );\n\nmy $xml = $response-&gt;content();\nprint \"Value of \\$xml is:\\n\";\nprint $xml;\n\nmy $filename = 'record.txt';\nopen( my $fh, '&gt;', $filename ) or die \"Could not open file '$filename' $!\";\nprint $fh $xml;\nclose $fh;\n\nmy $number_of_lines = `wc -l record.txt | cut -d' ' -f1`;\nprint \"Number of lines in $filename are: $number_of_lines\\n\";\nif ( $number_of_lines &gt;= 50 ) {\n    print \"TEST_1 SUCCESS\\n\";\n}\n\nmy $mysql_dbh;\nmy $test_id;\n\nmy $xst;\nmy %cmts_Pre_EQ_tags;\n\nif ( ( not defined $xml ) or ( $xml =~ m/read\\stimeout/i ) ) {\n    &amp;printXMLErr( 'DRUM request timed out' );\n}\nelse {\n    my $xs = XML::Simple-&gt;new();\n    $xst = eval { $xs-&gt;XMLin( $xml, KeyAttr =&gt; 1 ) };\n    &amp;printXMLErr( $@ ) if ( $@ );\n    print \"Value of \\$xst inside is:\\n\";\n    print Dumper( $xst );\n}\n\n$cmts_Pre_EQ_tags{'$cmts_Pre_EQ_groupDelayMag'} =\n    $xst-&gt;{cmts}-&gt;{Pre_EQ}-&gt;{groupDelayMag}-&gt;{content};\n\n#More elements like this are checked here\n$cmts_Pre_EQ_tags{'$cmts_Pre_EQ_ICFR'} =\n    $xst-&gt;{cmts}-&gt;{Pre_EQ}-&gt;{ICFR}-&gt;{content};\n\nmy $decision1 = 1;\nprint \"\\%cmts_Pre_EQ_tags:\\n\";\nforeach ( sort keys %cmts_Pre_EQ_tags ) {\n    print \"$_ : $cmts_Pre_EQ_tags{$_}\\n\";\n    if ( $cmts_Pre_EQ_tags{$_} eq '' ) {\n        print \"$_ is empty!\\n\";\n        $decision1 = 0;\n    }\n}\nprint \"\\n\";\n\nif ( $decision1 == 0 ) {\n    print \"TEST_2_1 FAIL\\n\";\n}\nelse {\n    print \"TEST_2_1 SUCCESS\\n\";\n}\n\nmy $cpeIP4 = $xst-&gt;{cmts}-&gt;{cpeIP4}-&gt;{content};\nprint \"The cpe IP is: $cpeIP4\\n\";\n\nif ( $cpeIP4 ne '' ) {\n    print \"TEST_2_2 SUCCESS\\n\";\n}\nelse {\n    print \"TEST_2_2 FAIL\\n\";\n}\n\n# Working fine until here, but following 2 print are showing undef\nprint Dumper ( $xst-&gt;{cmts}{STBDSG}{dsg}[0]{dsgIfStdTunnelFilterTunnelId} );\nprint Dumper ( $xst-&gt;{cmts}{STBDSG}{dsg}[0]{dsgIfStdTunnelFilterClientIdType} );\nprint \"After\\n\";\n</code></pre>\n\n<p>Output of last three print statements is:</p>\n\n<pre><code>$VAR1 = undef;\n$VAR1 = undef;\nAfter\n</code></pre>\n\n<p>I can't provide the entire XML or the output of <code>print Dumper($xst)</code> as it's too big and gets generated dynamically, but I'll provide a sample of it.</p>\n\n<p>The part of the XML that is causing trouble is</p>\n\n<pre><code>&lt;cmts&gt;\n  &lt;STBDSG&gt;\n    &lt;dsg&gt;\n      &lt;dsgIfStdTunnelFilterTunnelId&gt;1&lt;/dsgIfStdTunnelFilterTunnelId&gt;\n      &lt;dsgIfStdTunnelFilterClientIdType&gt;caSystemId&lt;/dsgIfStdTunnelFilterClientIdType&gt;\n    &lt;/dsg&gt;\n    &lt;dsg&gt;\n      &lt;dsgIfStdTunnelFilterTunnelId&gt;2&lt;/dsgIfStdTunnelFilterTunnelId&gt;\n      &lt;dsgIfStdTunnelFilterClientIdType&gt;gaSystemId&lt;/dsgIfStdTunnelFilterClientIdType&gt;\n    &lt;/dsg&gt;\n  &lt;/STBDSG&gt;\n&lt;/cmts&gt;\n</code></pre>\n\n<p>And when this part is parsed, then its corresponding output in <code>$xst</code> is</p>\n\n<pre><code>$VAR1 = {\n    'cmts' =&gt; {\n            'STBDSG' =&gt; {\n                'dsg' =&gt; [\n                         {\n                           'dsgIfStdTunnelFilterTunnelId' =&gt; '1',\n                           'dsgIfStdTunnelFilterClientIdType' =&gt; 'caSystemId',\n                         },\n                         {\n                           'dsgIfStdTunnelFilterTunnelId' =&gt; '2',\n                           'dsgIfStdTunnelFilterClientIdType' =&gt; 'gaSystemId',\n                         }\n                         ]\n                     },\n    },\n};\n</code></pre>\n\n<p>The XML part where after parsing the values are fetched fine is like this</p>\n\n<pre><code>&lt;cmts&gt;\n    &lt;name field_name=\"Name\"&gt;cts01nsocmo&lt;/name&gt;\n    &lt;object field_name=\"Nemos Object\"&gt;888&lt;/object&gt;\n    &lt;vendor field_name=\"Vendor\"&gt;xyz&lt;/vendor&gt;\n&lt;/cmts&gt;\n</code></pre>\n\n<p>Which was converted as:</p>\n\n<pre><code>    $VAR1 = {\n      'cmts' =&gt; {\n        'name' =&gt; {\n                    'content' =&gt; 'cts01nsocmo',\n                    'field_name' =&gt; 'Name'\n                  },\n        'object' =&gt; {\n                      'content' =&gt; '888',\n                      'field_name' =&gt; 'Nemos Object'\n                    },\n        'vendor' =&gt; {\n                      'content' =&gt; 'xyz',\n                      'field_name' =&gt; 'Vendor'\n                    }\n         },\n};\n</code></pre>\n\n<p>So basically when there is no array in parsed content, the values are being fetched correctly in variables.</p>\n\n<p>It seems that the reason why this</p>\n\n<pre><code>print Dumper ( $xst-&gt;{cmts}{STBDSG}{dsg}[0]{dsgIfStdTunnelFilterTunnelId} );\nprint Dumper ( $xst-&gt;{cmts}{STBDSG}{dsg}[0]{dsgIfStdTunnelFilterClientIdType} );\n</code></pre>\n\n<p>is getting <code>undef</code> is related to setting correct values to either <code>KeyAttr</code> or <code>ForceArray</code>. I am trying to find it by reading <code>XML::Simple</code>, but I wanted to see if there's something distinct that I am missing here.</p>\n"}, {"tags": ["perl", "web-scraping"], "comments": [{"owner": {"reputation": 28073, "user_id": 377037, "user_type": "registered", "accept_rate": 92, "profile_image": "https://www.gravatar.com/avatar/fb2956c6a757f40f0ee02aa30fd2090f?s=128&d=identicon&r=PG", "display_name": "Tom van der Woerdt", "link": "https://stackoverflow.com/users/377037/tom-van-der-woerdt"}, "edited": false, "score": 0, "creation_date": 1436294261, "post_id": 31276684, "comment_id": 50547323, "body": "Why is this not efficient?"}, {"owner": {"reputation": 5913, "user_id": 2893712, "user_type": "registered", "accept_rate": 90, "profile_image": "https://www.gravatar.com/avatar/ba3bea502f3cde271b0d8d9a0b957afc?s=128&d=identicon&r=PG", "display_name": "Bijan", "link": "https://stackoverflow.com/users/2893712/bijan"}, "reply_to_user": {"reputation": 28073, "user_id": 377037, "user_type": "registered", "accept_rate": 92, "profile_image": "https://www.gravatar.com/avatar/fb2956c6a757f40f0ee02aa30fd2090f?s=128&d=identicon&r=PG", "display_name": "Tom van der Woerdt", "link": "https://stackoverflow.com/users/377037/tom-van-der-woerdt"}, "edited": false, "score": 0, "creation_date": 1436294310, "post_id": 31276684, "comment_id": 50547356, "body": "I am running grep twice to filter the text. Would it be better to just use regex to pull the info from $output?"}, {"owner": {"reputation": 28073, "user_id": 377037, "user_type": "registered", "accept_rate": 92, "profile_image": "https://www.gravatar.com/avatar/fb2956c6a757f40f0ee02aa30fd2090f?s=128&d=identicon&r=PG", "display_name": "Tom van der Woerdt", "link": "https://stackoverflow.com/users/377037/tom-van-der-woerdt"}, "edited": false, "score": 3, "creation_date": 1436294371, "post_id": 31276684, "comment_id": 50547391, "body": "Grep is really fast. Does your code feel slow? Does the 2ms difference matter? Sure, there are different ways to do this, but your current solution is not in any way inefficient."}, {"owner": {"reputation": 5913, "user_id": 2893712, "user_type": "registered", "accept_rate": 90, "profile_image": "https://www.gravatar.com/avatar/ba3bea502f3cde271b0d8d9a0b957afc?s=128&d=identicon&r=PG", "display_name": "Bijan", "link": "https://stackoverflow.com/users/2893712/bijan"}, "reply_to_user": {"reputation": 28073, "user_id": 377037, "user_type": "registered", "accept_rate": 92, "profile_image": "https://www.gravatar.com/avatar/fb2956c6a757f40f0ee02aa30fd2090f?s=128&d=identicon&r=PG", "display_name": "Tom van der Woerdt", "link": "https://stackoverflow.com/users/377037/tom-van-der-woerdt"}, "edited": false, "score": 0, "creation_date": 1436294434, "post_id": 31276684, "comment_id": 50547423, "body": "Well I am getting a lot of &quot;Error&quot;s when there shouldnt be but I cannot be certain if thats because of the curl command"}, {"owner": {"reputation": 110113, "user_id": 168657, "user_type": "registered", "accept_rate": 92, "profile_image": "https://www.gravatar.com/avatar/f14e7610fca39322ebbf23530def15f8?s=128&d=identicon&r=PG", "display_name": "mob", "link": "https://stackoverflow.com/users/168657/mob"}, "edited": false, "score": 2, "creation_date": 1436295553, "post_id": 31276684, "comment_id": 50548139, "body": "Microoptimization. Running <code>curl</code> and pulling text over the network is orders of magnitude slower than any extraction program."}, {"owner": {"reputation": 21782, "user_id": 176646, "user_type": "registered", "accept_rate": 88, "profile_image": "https://i.stack.imgur.com/HsQyV.png?s=128&g=1", "display_name": "ThisSuitIsBlackNot", "link": "https://stackoverflow.com/users/176646/thissuitisblacknot"}, "edited": false, "score": 0, "creation_date": 1436299037, "post_id": 31276684, "comment_id": 50550106, "body": "What errors are you getting?"}, {"owner": {"reputation": 81037, "user_id": 8454, "user_type": "registered", "accept_rate": 100, "profile_image": "https://i.stack.imgur.com/2NlHs.png?s=128&g=1", "display_name": "Andy Lester", "link": "https://stackoverflow.com/users/8454/andy-lester"}, "edited": false, "score": 2, "creation_date": 1436299060, "post_id": 31276684, "comment_id": 50550120, "body": "You probably want to use an actual HTML parser to find the data.  How do you know that there will only be one <code>&lt;strong&gt;(digits)&lt;&#47;strong&gt;</code> on the page?  Or that it won&#39;t look like <code>&lt;strong class=&quot;emphasis&quot;&gt;  1829 &lt;&#47;strong&gt;</code> and foil your regexes?  Look at <a href=\"http://htmlparsing.com/regexes\" rel=\"nofollow noreferrer\">htmlparsing.com/regexes</a> for more examples of why regexes are a fragile solution to extracting data from HTML."}, {"owner": {"reputation": 5913, "user_id": 2893712, "user_type": "registered", "accept_rate": 90, "profile_image": "https://www.gravatar.com/avatar/ba3bea502f3cde271b0d8d9a0b957afc?s=128&d=identicon&r=PG", "display_name": "Bijan", "link": "https://stackoverflow.com/users/2893712/bijan"}, "edited": false, "score": 0, "creation_date": 1436299135, "post_id": 31276684, "comment_id": 50550153, "body": "The &#39;errors&#39; i get just display my &quot;Error&quot; because of the end of the code that has <code>|| &quot;Error&quot;</code>. I know for a fact there will only be one instance because that is how the website is designed"}, {"owner": {"reputation": 21782, "user_id": 176646, "user_type": "registered", "accept_rate": 88, "profile_image": "https://i.stack.imgur.com/HsQyV.png?s=128&g=1", "display_name": "ThisSuitIsBlackNot", "link": "https://stackoverflow.com/users/176646/thissuitisblacknot"}, "edited": false, "score": 2, "creation_date": 1436299416, "post_id": 31276684, "comment_id": 50550329, "body": "@Bijan That just means that the output of the commands in backticks is empty. This could be because <code>curl</code> fails to download a particular page, but it&#39;s just as likely because <code>grep</code> doesn&#39;t find any matches. And that is one reason that you should generally avoid using <code>system</code> and backticks: error checking is a pain."}], "answers": [{"comments": [{"owner": {"reputation": 5913, "user_id": 2893712, "user_type": "registered", "accept_rate": 90, "profile_image": "https://www.gravatar.com/avatar/ba3bea502f3cde271b0d8d9a0b957afc?s=128&d=identicon&r=PG", "display_name": "Bijan", "link": "https://stackoverflow.com/users/2893712/bijan"}, "edited": false, "score": 0, "creation_date": 1436295071, "post_id": 31276841, "comment_id": 50547827, "body": "Unfortunately I cannot use LWP because I need to pass in a specific value for the cookie."}, {"owner": {"reputation": 81037, "user_id": 8454, "user_type": "registered", "accept_rate": 100, "profile_image": "https://i.stack.imgur.com/2NlHs.png?s=128&g=1", "display_name": "Andy Lester", "link": "https://stackoverflow.com/users/8454/andy-lester"}, "edited": false, "score": 5, "creation_date": 1436295540, "post_id": 31276841, "comment_id": 50548130, "body": "You can pass in cookies with LWP.  You can pass in any header you want with LWP."}], "tags": [], "owner": {"reputation": 28073, "user_id": 377037, "user_type": "registered", "accept_rate": 92, "profile_image": "https://www.gravatar.com/avatar/fb2956c6a757f40f0ee02aa30fd2090f?s=128&d=identicon&r=PG", "display_name": "Tom van der Woerdt", "link": "https://stackoverflow.com/users/377037/tom-van-der-woerdt"}, "is_accepted": false, "score": 3, "last_activity_date": 1436294676, "creation_date": 1436294676, "answer_id": 31276841, "question_id": 31276684, "link": "https://stackoverflow.com/questions/31276684/efficient-way-of-retrieving-text-from-page/31276841#31276841", "title": "Efficient way of retrieving text from page", "body": "<p>This is not significantly more efficient, it might even be slightly more inefficient, but an alternate approach that doesn't involve shelling out is :</p>\n\n<pre><code>use v5.14;\nuse LWP::Simple;\n\nmy $content= get($url) // die \"Couldn't get content\";\nif ($content =~ m/You have &lt;strong&gt;([0-9]+)/) {\n    print \"reports = $1\";\n} else {\n    die \"Can't parse the page?\";\n}\n</code></pre>\n"}], "owner": {"reputation": 5913, "user_id": 2893712, "user_type": "registered", "accept_rate": 90, "profile_image": "https://www.gravatar.com/avatar/ba3bea502f3cde271b0d8d9a0b957afc?s=128&d=identicon&r=PG", "display_name": "Bijan", "link": "https://stackoverflow.com/users/2893712/bijan"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 40, "favorite_count": 0, "answer_count": 1, "score": 1, "last_activity_date": 1436294676, "creation_date": 1436294163, "question_id": 31276684, "link": "https://stackoverflow.com/questions/31276684/efficient-way-of-retrieving-text-from-page", "title": "Efficient way of retrieving text from page", "body": "<p>I have the following command in Perl that iterates through a lot of variables and pulls a certain value/number from each page. If the value is invalid, it returns \"Error\"</p>\n\n<pre><code>my $output = `curl -s -H \"Cookie: $cookie_name=$target\" -L \"$site\"$target | grep -Eo \"You have &lt;strong&gt;[0-9]+\" | grep -Eo \"[0-9]+\"` || \"Error\\n\";\n</code></pre>\n\n<p>Here is an example of the page contents.</p>\n\n<p><code>... You have &lt;strong&gt;1829&lt;/strong&gt; reports ...</code></p>\n\n<p>All I want to return is the <code>1829</code> for example.</p>\n\n<p>Is there a more efficient way to pull this data?</p>\n"}, {"tags": ["python", "perl", "module"], "comments": [{"owner": {"reputation": 68627, "user_id": 258523, "user_type": "registered", "accept_rate": 83, "profile_image": "https://www.gravatar.com/avatar/102329bab02333104708ac179f35fd8d?s=128&d=identicon&r=PG&f=1", "display_name": "Etan Reisner", "link": "https://stackoverflow.com/users/258523/etan-reisner"}, "edited": false, "score": 1, "creation_date": 1436289153, "post_id": 31274992, "comment_id": 50544290, "body": "I imagine your problem is simply trying to write a one-liner in python. It doesn&#39;t really like that. Use multiple lines and it should be fine I would think."}], "answers": [{"tags": [], "owner": {"reputation": 675, "user_id": 3923510, "user_type": "registered", "accept_rate": 67, "profile_image": "https://www.gravatar.com/avatar/f7dd2e6c44ff159597a1dec2004a3476?s=128&d=identicon&r=PG&f=1", "display_name": "Josh", "link": "https://stackoverflow.com/users/3923510/josh"}, "is_accepted": false, "score": 0, "last_activity_date": 1436302508, "last_edit_date": 1495542106, "creation_date": 1436302508, "answer_id": 31279087, "question_id": 31274992, "link": "https://stackoverflow.com/questions/31274992/modules-of-python-stream-editing/31279087#31279087", "title": "Modules of Python Stream Editing", "body": "<p>I think I figured it out, you need to add a $ before the command:</p>\n\n<pre><code>cat input_file.txt|python -mne $'line=line.rstrip();values = line.split(\"\\t\");\\nif (values[1]&gt;1): print (values[1])' \n</code></pre>\n\n<p>Hat tip to <a href=\"https://stackoverflow.com/a/23301247/3923510\">https://stackoverflow.com/a/23301247/3923510</a></p>\n"}], "owner": {"reputation": 675, "user_id": 3923510, "user_type": "registered", "accept_rate": 67, "profile_image": "https://www.gravatar.com/avatar/f7dd2e6c44ff159597a1dec2004a3476?s=128&d=identicon&r=PG&f=1", "display_name": "Josh", "link": "https://stackoverflow.com/users/3923510/josh"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 420, "favorite_count": 0, "answer_count": 1, "score": 1, "last_activity_date": 1436302508, "creation_date": 1436288588, "last_edit_date": 1495542106, "question_id": 31274992, "link": "https://stackoverflow.com/questions/31274992/modules-of-python-stream-editing", "title": "Modules of Python Stream Editing", "body": "<p>I am interested in using Python as a stream editor, similar to the way that perl can do so with the -ne flag, or that Sed and Awk can do. I tried a number of modules out there for doing Python one liners, such as:</p>\n\n<p>Oneliner: <a href=\"https://github.com/gvalkov/python-oneliner\" rel=\"nofollow noreferrer\">https://github.com/gvalkov/python-oneliner</a></p>\n\n<p>pyp: <a href=\"https://code.google.com/p/pyp/\" rel=\"nofollow noreferrer\">https://code.google.com/p/pyp/</a></p>\n\n<p>pyle: <a href=\"https://pypi.python.org/pypi/pyle/0.1\" rel=\"nofollow noreferrer\">https://pypi.python.org/pypi/pyle/0.1</a></p>\n\n<p>I also modified this small module (I named it ne.py) from here: <a href=\"https://stackoverflow.com/a/17197610/3923510\">https://stackoverflow.com/a/17197610/3923510</a> , by <a href=\"https://stackoverflow.com/users/168740/matt-mcclure\">https://stackoverflow.com/users/168740/matt-mcclure</a> to emulate perl -ne.</p>\n\n<p>For example:</p>\n\n<pre><code>cat input_file.txt|python -mne  'line=line.rstrip();values = line.split(\"\\t\");print (values[1])'\n</code></pre>\n\n<p>is equivalent to </p>\n\n<pre><code>cat input_file.txt|perl -ne 'chomp $_; @a=split /\\t/, $_;print \"$a[1]\\n\"'\n</code></pre>\n\n<p>and both will successfully print the second element of each tab delimited line.</p>\n\n<p>However, it seems that none of these modules allow any control statements (if, while, for functions) within them. </p>\n\n<p>For example, I modified the previous Python code to only print the second element if it is greater than 1.</p>\n\n<pre><code>cat input_file.txt|python -mne 'line=line.rstrip();values = line.split(\"\\t\");if (values[1]&gt;1): print (values[1])' \n</code></pre>\n\n<p>This produced a syntax error, while the perl version  </p>\n\n<pre><code>cat input_file.txt|perl -ne 'chomp $_; @a=split /\\t/, $_;print \"$a[1]\\n\" if ($a[1]&gt;1)'\n</code></pre>\n\n<p>worked fine. Oneliner, pyp and pyle all had this problem as well. I think that the Python error happens because Python has significant whitespace while perl does not.</p>\n\n<p>Is there a better module out there for using Python from the terminal, or can I  easily fix the module I am using? If not, is is possible that Python is simply not as powerful as perl/Sed/Awk in this regard?</p>\n\n<p>People have already discussed this problem here:</p>\n\n<p><a href=\"https://stackoverflow.com/questions/7842919/python-equivalent-to-perl-pe?lq=1\">Python equivalent to perl -pe?</a></p>\n\n<p>and the duplicate question I asked:</p>\n\n<p><a href=\"https://stackoverflow.com/questions/29776449/python-equivalent-to-perl-ne-switch?noredirect=1#comment47685688_29776449\">Python equivalent to perl -ne switch</a></p>\n\n<p>but I haven't seen any discussion of the modules out there to deal with this problem.</p>\n\n<p>The module ne.py is:</p>\n\n<pre><code>from __future__ import print_function\nimport re\nimport sys\nimport math\nfor line in sys.stdin:\n    exec(sys.argv[1], globals(), locals())\n    try:\n        line,\n    except:\n        sys.exit('-p destination: $!\\n') \n</code></pre>\n"}, {"tags": ["perl", "hash"], "comments": [{"owner": {"reputation": 4328, "user_id": 1473927, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/AO6Ui.jpg?s=128&g=1", "display_name": "Jonathan Cast", "link": "https://stackoverflow.com/users/1473927/jonathan-cast"}, "edited": false, "score": 1, "creation_date": 1436284118, "post_id": 31273381, "comment_id": 50541072, "body": "Are you initializing <code>@headers</code> anywhere?  Can you show us that code?"}, {"owner": {"reputation": 51521, "user_id": 2566198, "user_type": "registered", "accept_rate": 67, "profile_image": "https://i.stack.imgur.com/Y34ZA.jpg?s=128&g=1", "display_name": "Sobrique", "link": "https://stackoverflow.com/users/2566198/sobrique"}, "edited": false, "score": 2, "creation_date": 1436284185, "post_id": 31273381, "comment_id": 50541120, "body": "More likely <code>$record -&gt; {Arg04]</code> is undefined, and that&#39;s getting plonked into <code>$var</code>. Try printing it with <code>Data::Dumper</code>"}, {"owner": {"reputation": 51521, "user_id": 2566198, "user_type": "registered", "accept_rate": 67, "profile_image": "https://i.stack.imgur.com/Y34ZA.jpg?s=128&g=1", "display_name": "Sobrique", "link": "https://stackoverflow.com/users/2566198/sobrique"}, "edited": false, "score": 0, "creation_date": 1436284402, "post_id": 31273381, "comment_id": 50541269, "body": "You may also find you can just split on <code>|</code> rather than needing that regex."}, {"owner": {"reputation": 53, "user_id": 4986708, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/2864b5a0105c9107bcd82de52cfe4a56?s=128&d=identicon&r=PG&f=1", "display_name": "Phillip Pinto", "link": "https://stackoverflow.com/users/4986708/phillip-pinto"}, "edited": false, "score": 0, "creation_date": 1436284833, "post_id": 31273381, "comment_id": 50541581, "body": "Headers is initialized earlier (its just the first line of the file, making an array using split and &lt;$fh_OMDB&gt;.  It appears that the value is defined - I&#39;ve added a data dumper on one of the values to the main body"}, {"owner": {"reputation": 51521, "user_id": 2566198, "user_type": "registered", "accept_rate": 67, "profile_image": "https://i.stack.imgur.com/Y34ZA.jpg?s=128&g=1", "display_name": "Sobrique", "link": "https://stackoverflow.com/users/2566198/sobrique"}, "edited": false, "score": 0, "creation_date": 1436284947, "post_id": 31273381, "comment_id": 50541646, "body": "OK. Can you run <code>print Dumper \\@headers</code> and edit that into your question?"}, {"owner": {"reputation": 320771, "user_id": 589924, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/b2cf53d5a3d25f95c0db4e025aed4153?s=128&d=identicon&r=PG", "display_name": "ikegami", "link": "https://stackoverflow.com/users/589924/ikegami"}, "edited": false, "score": 2, "creation_date": 1436285077, "post_id": 31273381, "comment_id": 50541739, "body": "The key has a newline in it. Use <code>chomp</code>"}, {"owner": {"reputation": 53, "user_id": 4986708, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/2864b5a0105c9107bcd82de52cfe4a56?s=128&d=identicon&r=PG&f=1", "display_name": "Phillip Pinto", "link": "https://stackoverflow.com/users/4986708/phillip-pinto"}, "edited": false, "score": 0, "creation_date": 1436285325, "post_id": 31273381, "comment_id": 50541919, "body": "That worked ikegami - Thanks!"}], "answers": [{"comments": [{"owner": {"reputation": 53, "user_id": 4986708, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/2864b5a0105c9107bcd82de52cfe4a56?s=128&d=identicon&r=PG&f=1", "display_name": "Phillip Pinto", "link": "https://stackoverflow.com/users/4986708/phillip-pinto"}, "edited": false, "score": 0, "creation_date": 1436285374, "post_id": 31273693, "comment_id": 50541956, "body": "That helped Sobrique - combined with what ikegami said, I had an extra line on the headers. It looks like that was throwing it off. Would having an extra header give the same error as not having enough headers?"}, {"owner": {"reputation": 51521, "user_id": 2566198, "user_type": "registered", "accept_rate": 67, "profile_image": "https://i.stack.imgur.com/Y34ZA.jpg?s=128&g=1", "display_name": "Sobrique", "link": "https://stackoverflow.com/users/2566198/sobrique"}, "reply_to_user": {"reputation": 53, "user_id": 4986708, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/2864b5a0105c9107bcd82de52cfe4a56?s=128&d=identicon&r=PG&f=1", "display_name": "Phillip Pinto", "link": "https://stackoverflow.com/users/4986708/phillip-pinto"}, "edited": false, "score": 0, "creation_date": 1436285487, "post_id": 31273693, "comment_id": 50542037, "body": "No. Too many headers won&#39;t cause a problem. As you can see in the above - I&#39;ve got 8, and it just means the 8th &#39;column&#39; is <code>undef</code>."}, {"owner": {"reputation": 51521, "user_id": 2566198, "user_type": "registered", "accept_rate": 67, "profile_image": "https://i.stack.imgur.com/Y34ZA.jpg?s=128&g=1", "display_name": "Sobrique", "link": "https://stackoverflow.com/users/2566198/sobrique"}, "reply_to_user": {"reputation": 53, "user_id": 4986708, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/2864b5a0105c9107bcd82de52cfe4a56?s=128&d=identicon&r=PG&f=1", "display_name": "Phillip Pinto", "link": "https://stackoverflow.com/users/4986708/phillip-pinto"}, "edited": false, "score": 0, "creation_date": 1436285642, "post_id": 31273693, "comment_id": 50542144, "body": "You may not need as complicated a split. For your sample data, <code>split ( &#39;\\|&#39; );</code> is sufficient."}], "tags": [], "owner": {"reputation": 51521, "user_id": 2566198, "user_type": "registered", "accept_rate": 67, "profile_image": "https://i.stack.imgur.com/Y34ZA.jpg?s=128&g=1", "display_name": "Sobrique", "link": "https://stackoverflow.com/users/2566198/sobrique"}, "is_accepted": true, "score": 2, "last_activity_date": 1436285175, "last_edit_date": 1436285175, "creation_date": 1436284760, "answer_id": 31273693, "question_id": 31273381, "link": "https://stackoverflow.com/questions/31273381/variable-contains-period-in-perl-but-i-dont-want-to-concat/31273693#31273693", "title": "Variable contains period in perl, but I don&#39;t want to concat", "body": "<p>Mocking up my own <code>@headers</code> it seems to work ok. </p>\n\n<pre><code>#!/usr/bin/env perl\nuse strict;\nuse warnings;\nuse Data::Dumper;\n\nmy @headers = qw ( mee mah mo mum\n                   fee fi fo fum );\n\nmy $string =\n    q{http://10.x.x.x:8085/BINReport/servlet/Processing|2012/10/02 08:40:30|2015/03/10 16:00:42|nxcvapxxx_bin|Chandler|Linkpoint Connect|USA.APP.L2PES};\n\nmy @records;\nmy @fields = split /\\s*\\|\\s*/, $string;\nprint join( \"\\n\", @fields );\nmy %hash;\n@hash{@headers} = @fields;\nprint Dumper \\%hash;\npush @records, \\%hash;\n\nforeach my $record (@records) {\n    my $var = $record -&gt;{fo};\n    print $var,\"\\n\";\n}\n</code></pre>\n\n<p>This prints the string - with the dots - as expected. That's because each loop the hash looks like (with your sample data):</p>\n\n<pre><code>$VAR1 = {\n          'fi' =&gt; 'Linkpoint Connect',\n          'mo' =&gt; '2015/03/10 16:00:42',\n          'mum' =&gt; 'nxcvapxxx_bin',\n          'mee' =&gt; 'http://10.x.x.x:8085/BINReport/servlet/Processing',\n          'mah' =&gt; '2012/10/02 08:40:30',\n          'fee' =&gt; 'Chandler',\n          'fum' =&gt; undef,\n          'fo' =&gt; 'USA.APP.L2PES'\n        };\n</code></pre>\n\n<p>However, if my 'headers' row is shorter:</p>\n\n<pre><code>my @headers = qw ( mee mah mo mum );\n</code></pre>\n\n<p>I can reproduce your error:</p>\n\n<pre><code>Use of uninitialized value $var in print\n</code></pre>\n\n<p>That's because there's no <code>{fo}</code> element:</p>\n\n<pre><code>$VAR1 = {\n          'mo' =&gt; '2015/03/10 16:00:42',\n          'mee' =&gt; 'http://10.x.x.x:8085/BINReport/servlet/Processing',\n          'mum' =&gt; 'nxcvapxxx_bin',\n          'mah' =&gt; '2012/10/02 08:40:30'\n        };\n</code></pre>\n\n<p>So: </p>\n\n<ul>\n<li>Make sure you have <code>strict</code> and <code>warnings</code> switched on.</li>\n<li>check <code>@headers</code> is declared.</li>\n<li>check <code>@headers</code> is actually long enough to match every field. </li>\n</ul>\n\n<p>Running:</p>\n\n<pre><code>use Data::Dumper;\nprint Dumper \\@headers;\n</code></pre>\n\n<p>Will tell you this. </p>\n\n<p>And as noted in the comments above:</p>\n\n<pre><code>      'Arg04\n' =&gt; 'USA.FDFI.APP.TMECS2\n</code></pre>\n\n<p><code>{Arg04}</code> doesn't exist, we have a newline. <code>chomp</code> your line before converting it into headers, (or just <code>chomp @headers</code>) and your code will work. </p>\n\n<p>Note - you may also wish to <code>chomp</code> inside your while loop, because otherwise the last field will <em>also</em> include a newline. (Which may be undesired)</p>\n"}, {"comments": [{"owner": {"reputation": 51521, "user_id": 2566198, "user_type": "registered", "accept_rate": 67, "profile_image": "https://i.stack.imgur.com/Y34ZA.jpg?s=128&g=1", "display_name": "Sobrique", "link": "https://stackoverflow.com/users/2566198/sobrique"}, "edited": false, "score": 0, "creation_date": 1436285671, "post_id": 31274041, "comment_id": 50542165, "body": "You may wish to <code>chomp</code> the lines within the loop too, for much the same reason."}, {"owner": {"reputation": 51521, "user_id": 2566198, "user_type": "registered", "accept_rate": 67, "profile_image": "https://i.stack.imgur.com/Y34ZA.jpg?s=128&g=1", "display_name": "Sobrique", "link": "https://stackoverflow.com/users/2566198/sobrique"}, "edited": false, "score": 0, "creation_date": 1436286298, "post_id": 31274041, "comment_id": 50542577, "body": "Also - well done for including your answer. It&#39;s good to see this sort of feedback loop. (It may have to wait until tomorrow before I can upvote it though)"}], "tags": [], "owner": {"reputation": 53, "user_id": 4986708, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/2864b5a0105c9107bcd82de52cfe4a56?s=128&d=identicon&r=PG&f=1", "display_name": "Phillip Pinto", "link": "https://stackoverflow.com/users/4986708/phillip-pinto"}, "is_accepted": false, "score": 2, "last_activity_date": 1436333248, "last_edit_date": 1436333248, "creation_date": 1436285640, "answer_id": 31274041, "question_id": 31273381, "link": "https://stackoverflow.com/questions/31273381/variable-contains-period-in-perl-but-i-dont-want-to-concat/31274041#31274041", "title": "Variable contains period in perl, but I don&#39;t want to concat", "body": "<p>Using the <code>Data::Dumper</code> printouts showed that I had fewer header fields than existed, so that when I made the call to <code>Arg04</code> it didn\u2019t exist or made a reference to an <code>undef</code> field. Doing a <code>chomp</code> on the header array fixed the error message.</p>\n"}], "owner": {"reputation": 53, "user_id": 4986708, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/2864b5a0105c9107bcd82de52cfe4a56?s=128&d=identicon&r=PG&f=1", "display_name": "Phillip Pinto", "link": "https://stackoverflow.com/users/4986708/phillip-pinto"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 195, "favorite_count": 0, "accepted_answer_id": 31273693, "answer_count": 2, "score": 0, "last_activity_date": 1436333248, "creation_date": 1436283957, "last_edit_date": 1436285090, "question_id": 31273381, "link": "https://stackoverflow.com/questions/31273381/variable-contains-period-in-perl-but-i-dont-want-to-concat", "title": "Variable contains period in perl, but I don&#39;t want to concat", "body": "<p>I am trying to create a hash from tabular data. One of the columns contain team names that are separated by .'s - for instance USA.APP.L2PES. </p>\n\n<p>A sample line that will be split (| are delimiters):</p>\n\n<pre><code>http://10.x.x.x:8085/BINReport/servlet/Processing|2012/10/02 08:40:30|2015/03/10 16:00:42|nxcvapxxx_bin|Chandler|Linkpoint Connect|USA.APP.L2PES\n</code></pre>\n\n<p>And here is the code I'm using to split and arrange into a hash (found on another stack exchange comment).</p>\n\n<pre><code>my @records;\nwhile (&lt;$fh_OMDB&gt;) {\n    my @fields = split /\\s*\\|\\s*/, $_;\n    my %hash;\n    @hash{@headers} = @fields;\n    push @records, \\%hash;\n}\nfor my $record (@records) {\n    my $var = $record-&gt;{Arg04};\n    print $var;\n}\n</code></pre>\n\n<p>However, whenever I try to print $var I get the error message </p>\n\n<blockquote>\n  <p>Use of uninitialized value $var in print at find_teams_v2.pl line 53,\n   line 2667.</p>\n</blockquote>\n\n<p>I believe this is because the string contains a . and perl is trying to concat the values. How do I print the string as a literal?</p>\n\n<p>Here is an output of Data dumper (only one of them, as there are a couple thousand output):</p>\n\n<pre><code>$VAR1 = {\n      'Arg01' =&gt; 'zionscatfdecs',\n      'Date Added' =&gt; '2013/08/06 10:30:04',\n      'URL' =&gt; 'https://zionscat.fdecs.com',\n      'Arg04\n' =&gt; 'USA.FDFI.APP.TMECS2\n',\n      'Date Updated' =&gt; '2013/08/06 10:30:04',\n      'Arg02' =&gt; 'Omaha',\n      'Arg03' =&gt; 'First Data eCustomer Service ()'\n    };\n</code></pre>\n\n<p>And the headers dump:</p>\n\n<pre><code>$VAR1 = 'URL';\n$VAR2 = 'Date Added';\n$VAR3 = 'Date Updated';\n$VAR4 = 'Arg01';\n$VAR5 = 'Arg02';\n$VAR6 = 'Arg03';\n$VAR7 = 'Arg04\n';\n</code></pre>\n"}, {"tags": ["perl", "while-loop"], "comments": [{"owner": {"reputation": 198290, "user_id": 1030675, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/957956ce51706d03f19a4dc85a767bb1?s=128&d=identicon&r=PG", "display_name": "choroba", "link": "https://stackoverflow.com/users/1030675/choroba"}, "edited": false, "score": 0, "creation_date": 1436283354, "post_id": 31272699, "comment_id": 50540493, "body": "Are both files sorted?"}, {"owner": {"reputation": 51521, "user_id": 2566198, "user_type": "registered", "accept_rate": 67, "profile_image": "https://i.stack.imgur.com/Y34ZA.jpg?s=128&g=1", "display_name": "Sobrique", "link": "https://stackoverflow.com/users/2566198/sobrique"}, "edited": false, "score": 0, "creation_date": 1436284026, "post_id": 31272699, "comment_id": 50541016, "body": "Also - are there any unique keys in there?"}, {"owner": {"reputation": 9961, "user_id": 2139766, "user_type": "registered", "accept_rate": 100, "profile_image": "https://i.stack.imgur.com/b3qcA.png?s=128&g=1", "display_name": "AnFi", "link": "https://stackoverflow.com/users/2139766/anfi"}, "edited": false, "score": 0, "creation_date": 1436284165, "post_id": 31272699, "comment_id": 50541106, "body": "Could you indicate expected maximum number of lines in both input files?   It would help to know if you want simple or &quot;big data efficient&quot; (complicated) solution."}, {"owner": {"reputation": 79, "user_id": 1293844, "user_type": "registered", "accept_rate": 75, "profile_image": "https://i.stack.imgur.com/mjDr6.jpg?s=128&g=1", "display_name": "PlutonicFriend", "link": "https://stackoverflow.com/users/1293844/plutonicfriend"}, "edited": false, "score": 0, "creation_date": 1436286155, "post_id": 31272699, "comment_id": 50542499, "body": "Both files are sorted in ascending order. This will be used on big data sets. With up to 10000 entries in file 1 and 6000 in file 2. Column 5 should be unique IDs."}], "answers": [{"comments": [{"owner": {"reputation": 79, "user_id": 1293844, "user_type": "registered", "accept_rate": 75, "profile_image": "https://i.stack.imgur.com/mjDr6.jpg?s=128&g=1", "display_name": "PlutonicFriend", "link": "https://stackoverflow.com/users/1293844/plutonicfriend"}, "edited": false, "score": 0, "creation_date": 1436286476, "post_id": 31272908, "comment_id": 50542697, "body": "Will I have to get data::dumper from cpan? I have really worked with any packages yet. But I feel now like I really need to go look into some."}, {"owner": {"reputation": 51521, "user_id": 2566198, "user_type": "registered", "accept_rate": 67, "profile_image": "https://i.stack.imgur.com/Y34ZA.jpg?s=128&g=1", "display_name": "Sobrique", "link": "https://stackoverflow.com/users/2566198/sobrique"}, "reply_to_user": {"reputation": 79, "user_id": 1293844, "user_type": "registered", "accept_rate": 75, "profile_image": "https://i.stack.imgur.com/mjDr6.jpg?s=128&g=1", "display_name": "PlutonicFriend", "link": "https://stackoverflow.com/users/1293844/plutonicfriend"}, "edited": false, "score": 0, "creation_date": 1436287080, "post_id": 31272908, "comment_id": 50543068, "body": "No. <code>Data::Dumper</code> is part of perl core. But it really is the core tool for diagnosing problems with data structures.  But getting <code>cpan</code> fired up is no bad thing. <code>perl -MCPAN -e shell</code> will do almost all the set up automatically, and you get access to some amazingly good and useful modules."}, {"owner": {"reputation": 79, "user_id": 1293844, "user_type": "registered", "accept_rate": 75, "profile_image": "https://i.stack.imgur.com/mjDr6.jpg?s=128&g=1", "display_name": "PlutonicFriend", "link": "https://stackoverflow.com/users/1293844/plutonicfriend"}, "edited": false, "score": 2, "creation_date": 1436287779, "post_id": 31272908, "comment_id": 50543477, "body": "When I use this on my real files my output looks good. Dumper is printing to STDOUT which is fine I can make maybe a .o.txt file that collects the output so I can see warnings better.  Thanks so much!"}], "tags": [], "owner": {"reputation": 51521, "user_id": 2566198, "user_type": "registered", "accept_rate": 67, "profile_image": "https://i.stack.imgur.com/Y34ZA.jpg?s=128&g=1", "display_name": "Sobrique", "link": "https://stackoverflow.com/users/2566198/sobrique"}, "is_accepted": true, "score": 3, "last_activity_date": 1436284067, "last_edit_date": 1436284067, "creation_date": 1436282792, "answer_id": 31272908, "question_id": 31272699, "link": "https://stackoverflow.com/questions/31272699/using-perl-to-cycle-through-a-list-of-values-x-and-compare-to-another-file-wit/31272908#31272908", "title": "Using perl to cycle through a list of values (x) and compare to another file with value ranges", "body": "<p>Your problem is you're not resetting your progress through the second file. You read one line from <code>$SNPSFile</code>, check that against ever line in the second file.</p>\n\n<p>But when you start over, you're already at the end of file, so:</p>\n\n<pre><code>while (my $Cord = &lt;$PromoterFile&gt;) {\n</code></pre>\n\n<p>Doesn't have anything to read. </p>\n\n<p>A quick fix for this would be to add a <code>seek</code> command in there, but that'll make inefficient code. I'd suggest instead reading file 1 into a array, and referencing that instead. </p>\n\n<p>Here's a first draft rewrite that may help. </p>\n\n<pre><code>#!/usr/bin/perl\n\nuse warnings;\nuse strict;\n\nuse Data::Dumper;\n\nopen my $PromoterFile, '&lt;', 'promoterstest.txt'     or die $!;\nopen my $SNPSFile,     '&lt;', 'NC_SNPtest.txt'        or die $!;\nopen my $output,       \"&gt;\", \"PromoterMatchtest.txt\" or die $!;\n\n\nmy @data;\n\nwhile (&lt;$PromoterFile&gt;) {\n    chomp;\n    my @CordFile    = split;\n    my $Lend        = $CordFile[0];\n    my $Rend        = $CordFile[1];\n    my $Promoter    = $CordFile[4];\n    my $SigmaFactor = $CordFile[7];\n\n    push(\n        @data,\n        {   lend        =&gt; $CordFile[0],\n            rend        =&gt; $CordFile[1],\n            promoter    =&gt; $CordFile[4],\n            sigmafactor =&gt; $CordFile[7]\n        }\n    );\n}\n\nprint Dumper \\@data;\n\nforeach my $value (&lt;$SNPSFile&gt;) {\n    chomp $value;\n    my $found = 0;\n    foreach my $element (@data) {\n        if (    $value &gt;= $element-&gt;{lend}\n            and $value &lt;= $element-&gt;{rend} )\n        {\n            #print \"Found $value\\n\";\n            print {$output} join( \"\\t\",\n                $value, $element-&gt;{promoter}, $element-&gt;{sigmafactor} ),\n                \"\\n\";\n            $found++;\n            last;\n        }\n\n    }\n    if ( not $found ) {\n        print {$output} $value,\"\\n\";\n    }\n}\n\nclose $output;\nclose $PromoterFile;\nclose $SNPSFile;\n</code></pre>\n\n<p>First - we open file2, read in the stuff in it to an array of hashes. (If any of the elements there are unique, we could key off that instead.)</p>\n\n<p>Then we read through SNPSfile one line at a time, looking for each key - printing it if it exists (at least once, on the first hit) and printing just the key if it doesn't. </p>\n\n<p>This generates the output:</p>\n\n<pre><code>250     yaaAp1  Sigma70\n275     yaaAp1  Sigma70\n375     yaaAp2  Sigma70\n</code></pre>\n\n<p>Was that what you were aiming for? </p>\n\n<p>Aside from that 'Dumper' statement which outputs the content of <code>@data</code> as thus:</p>\n\n<pre><code>$VAR1 = [\n          {\n            'sigmafactor' =&gt; 'Sigma70',\n            'promoter' =&gt; 'yaaX',\n            'lend' =&gt; '20',\n            'rend' =&gt; '100'\n          },\n          {\n            'sigmafactor' =&gt; 'Sigma70',\n            'promoter' =&gt; 'yaaAp1',\n            'rend' =&gt; '300',\n            'lend' =&gt; '200'\n          },\n          {\n            'promoter' =&gt; 'yaaAp2',\n            'sigmafactor' =&gt; 'Sigma70',\n            'rend' =&gt; '400',\n            'lend' =&gt; '350'\n          }\n        ];\n</code></pre>\n"}, {"tags": [], "owner": {"reputation": 123805, "user_id": 622310, "user_type": "registered", "accept_rate": 33, "profile_image": "https://www.gravatar.com/avatar/8b6d35219e1808520bc238b28161e2e6?s=128&d=identicon&r=PG", "display_name": "Borodin", "link": "https://stackoverflow.com/users/622310/borodin"}, "is_accepted": false, "score": 2, "last_activity_date": 1436292823, "last_edit_date": 1436292823, "creation_date": 1436289743, "answer_id": 31275362, "question_id": 31272699, "link": "https://stackoverflow.com/questions/31272699/using-perl-to-cycle-through-a-list-of-values-x-and-compare-to-another-file-wit/31275362#31275362", "title": "Using perl to cycle through a list of values (x) and compare to another file with value ranges", "body": "<p>Here's my take on a programming solution. It's important to</p>\n\n<ul>\n<li><p>Use lexical file handles and the three-paremeter form of <code>open</code></p></li>\n<li><p>Keep to lower-case letters, digits and underscores for local variables</p></li>\n</ul>\n\n<p>I have also used the <code>autodie</code> pragma to remove the need to test the status of <code>open</code> explicitly, and the <code>first</code> function from the core library <a href=\"https://metacpan.org/pod/List::Util\" rel=\"nofollow\"><code>List::Util</code></a> to make the code clearer and more concise</p>\n\n<pre><code>use strict;\nuse warnings;\nuse 5.010;\nuse autodie;\n\nuse List::Util 'first';\n\nmy @promoters;\n{\n    open my $fh, '&lt;', 'promoterstest.txt';\n    while ( &lt;$fh&gt; ) {\n        my @fields = split;\n        push @promoters, [ @fields[0,1,4,7] ];\n    }\n}\n\nopen my $fh,     '&lt;', 'NC_SNPStest.txt';\nopen my $out_fh, '&gt;', 'PromoterMatchtest.txt';\nselect $out_fh;\n\nwhile ( &lt;$fh&gt; ) {\n    my ($num) = split;\n    my $match = first { $num &gt;= $_-&gt;[0] and $num &lt;= $_-&gt;[1] } @promoters;\n    if ( $match ) {\n        print join(\"\\t\", $num, @{$match}[2,3]), \"\\n\";\n    }\n    else {\n        print $num, \"\\n\";\n    }\n}\n</code></pre>\n\n<h3>output</h3>\n\n<pre><code>250 yaaAp1  Sigma70\n275 yaaAp1  Sigma70\n375 yaaAp2  Sigma70\n</code></pre>\n"}], "owner": {"reputation": 79, "user_id": 1293844, "user_type": "registered", "accept_rate": 75, "profile_image": "https://i.stack.imgur.com/mjDr6.jpg?s=128&g=1", "display_name": "PlutonicFriend", "link": "https://stackoverflow.com/users/1293844/plutonicfriend"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 59, "favorite_count": 0, "accepted_answer_id": 31272908, "answer_count": 2, "score": 1, "last_activity_date": 1436292823, "creation_date": 1436282248, "last_edit_date": 1436288698, "question_id": 31272699, "link": "https://stackoverflow.com/questions/31272699/using-perl-to-cycle-through-a-list-of-values-x-and-compare-to-another-file-wit", "title": "Using perl to cycle through a list of values (x) and compare to another file with value ranges", "body": "<p>I have two files. One file has a list of values like so</p>\n\n<p><strong>NC_SNPStest.txt</strong></p>\n\n<pre><code>250 \n275 \n375\n</code></pre>\n\n<p>The other file has space delimited information. Column one is the first value of a range, Column two has the second value of a range, Column 5 has the name of the range, and Column eight has what acts on that range. </p>\n\n<p><strong>promoterstest.txt</strong></p>\n\n<pre><code>20 100 yaaX F yaaX 5147 5.34 Sigma70 99\n200 300 yaaA R yaaAp1 6482 6.54 Sigma70 35\n350 400 yaaA R yaaAp2 6498 2.86 Sigma70 51\n</code></pre>\n\n<p>I am trying to write a script that takes the first line from file 1 and then parses file 2 line by line to see if that value falls in the range is between the first two columns.</p>\n\n<p>When the first match is found, I want to print the value from file 1 and then the values in file 2 for columns 5 and 8 from the line with the match. If no match is found in File 2 then just print the value from File 1 and move on.</p>\n\n<p>It seems like it should be a simple enough task but I'm having an issue cycling though both files. </p>\n\n<p>This is what I have written:</p>\n\n<pre><code>#!/usr/bin/perl\n\nuse warnings;\nuse strict;\n\nopen my $PromoterFile, '&lt;', 'promoterstest.txt' or die $!;\nopen my $SNPSFile, '&lt;', 'NC_SNPtest.txt' or die $!; \nopen (FILE, \"&gt;PromoterMatchtest.txt\");\n\nwhile (my $SNPS = &lt;$SNPSFile&gt;) {\n   chomp ($SNPS);\n\n   while (my $Cord = &lt;$PromoterFile&gt;) {\n      chomp ($Cord);\n\n      my @CordFile =split(/\\s/, $Cord); \n      my $Lend = $CordFile[0];\n      my $Rend = $CordFile[1];\n      my $Promoter = $CordFile[4];\n      my $SigmaFactor = $CordFile[7];\n\n      foreach $a ($SNPS) \n      {\n         if ($a &gt;= $Lend &amp;&amp; $a &lt;= $Rend)\n         {\n            print FILE \"$a\\t$CordFile[4]\\t$CordFile[7]\\n\";\n         }\n         else \n         { \n            print FILE \"$a\\n\";\n         }\n      }\n   }\n}\nclose FILE;\nclose $PromoterFile;\nclose $SNPSFile;\nexit;\n</code></pre>\n\n<p>So far my output looks like so: </p>\n\n<pre><code>250\n250     yaaAp1  Sigma70\n250\n</code></pre>\n\n<p>Where the first line of file 1 is being called and file 2 is being cycled through. But the <code>else</code> command is being used on each line of file 2 and the script never cycles through the other lines of file 1. </p>\n"}, {"tags": ["perl", "email", "smtp", "send", "file-descriptor"], "comments": [{"owner": {"reputation": 51521, "user_id": 2566198, "user_type": "registered", "accept_rate": 67, "profile_image": "https://i.stack.imgur.com/Y34ZA.jpg?s=128&g=1", "display_name": "Sobrique", "link": "https://stackoverflow.com/users/2566198/sobrique"}, "edited": false, "score": 0, "creation_date": 1436282329, "post_id": 31272353, "comment_id": 50539702, "body": "Step 1 of fixing perl code: <code>use strict;</code> <code>use warnings;</code>. This may not fix your problem, but at least shows a bit of willing when asking for assistance ."}, {"owner": {"reputation": 198290, "user_id": 1030675, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/957956ce51706d03f19a4dc85a767bb1?s=128&d=identicon&r=PG", "display_name": "choroba", "link": "https://stackoverflow.com/users/1030675/choroba"}, "edited": false, "score": 0, "creation_date": 1436282743, "post_id": 31272353, "comment_id": 50539996, "body": "From the documentation, it&#39;s not clear whether the additional arguments work for an instance method. Try using the class method first to set up the username/password, then use the instance method to actually send the message."}, {"owner": {"reputation": 15, "user_id": 5061842, "user_type": "registered", "profile_image": "https://graph.facebook.com/918317651563473/picture?type=large", "display_name": "D&#225;vid M&#233;sz&#225;ros", "link": "https://stackoverflow.com/users/5061842/d%c3%a1vid-m%c3%a9sz%c3%a1ros"}, "edited": false, "score": 0, "creation_date": 1436346473, "post_id": 31272353, "comment_id": 50568121, "body": "Thanks for the tips. If i fail to fix the current version, i will try out other modules."}], "answers": [{"comments": [{"owner": {"reputation": 15, "user_id": 5061842, "user_type": "registered", "profile_image": "https://graph.facebook.com/918317651563473/picture?type=large", "display_name": "D&#225;vid M&#233;sz&#225;ros", "link": "https://stackoverflow.com/users/5061842/d%c3%a1vid-m%c3%a9sz%c3%a1ros"}, "edited": false, "score": 0, "creation_date": 1436346245, "post_id": 31273292, "comment_id": 50567983, "body": "I think port 25 is blocked, because i can ping the server, but the telnet command fails to connect. I will try to fix the connection (check firewall, etc.). Anyway, thanks for the advice, debug option seems to be a useful thing."}, {"owner": {"reputation": 15, "user_id": 5061842, "user_type": "registered", "profile_image": "https://graph.facebook.com/918317651563473/picture?type=large", "display_name": "D&#225;vid M&#233;sz&#225;ros", "link": "https://stackoverflow.com/users/5061842/d%c3%a1vid-m%c3%a9sz%c3%a1ros"}, "edited": false, "score": 0, "creation_date": 1436352674, "post_id": 31273292, "comment_id": 50572100, "body": "I was dumb, I tried to connect to a wrong server. -,- I found the right server, and it works now. Cheers."}], "tags": [], "owner": {"reputation": 9961, "user_id": 2139766, "user_type": "registered", "accept_rate": 100, "profile_image": "https://i.stack.imgur.com/b3qcA.png?s=128&g=1", "display_name": "AnFi", "link": "https://stackoverflow.com/users/2139766/anfi"}, "is_accepted": true, "score": 1, "last_activity_date": 1436283720, "creation_date": 1436283720, "answer_id": 31273292, "question_id": 31272353, "link": "https://stackoverflow.com/questions/31272353/perl-mimelite-bad-file-descriptor/31273292#31273292", "title": "Perl MIME::Lite bad file descriptor", "body": "<h2>MIME::Lite SMTP debugging procedure</h2>\n\n<p>Try to narrow search for your problem.</p>\n\n<p>1: Do you get SMTP greeting message when you telnet the SMTP host?<br>\n<code>telnet mail.domain.net 25</code>  </p>\n\n<p>1:<strong>YES</strong> => add debug option to MIME::Lite send (via SMTP) call.  </p>\n\n<pre><code>$msg-&gt;send(\"smtp\", \"mail.domain.net\", Debug=&gt;1, AuthUser=&gt;'myname@domain.com', AuthPass=&gt;\"password\" );\n</code></pre>\n"}], "owner": {"reputation": 15, "user_id": 5061842, "user_type": "registered", "profile_image": "https://graph.facebook.com/918317651563473/picture?type=large", "display_name": "D&#225;vid M&#233;sz&#225;ros", "link": "https://stackoverflow.com/users/5061842/d%c3%a1vid-m%c3%a9sz%c3%a1ros"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 1507, "favorite_count": 0, "accepted_answer_id": 31273292, "answer_count": 1, "score": 0, "last_activity_date": 1436352608, "creation_date": 1436281359, "last_edit_date": 1436352608, "question_id": 31272353, "link": "https://stackoverflow.com/questions/31272353/perl-mimelite-bad-file-descriptor", "title": "Perl MIME::Lite bad file descriptor", "body": "<p>This is my code so far:</p>\n\n<pre><code>#!/usr/bin/perl\nuse strict;\nuse warnings;\nuse MIME::Lite;\n\nmy $to = 'example@asd.com';\nmy $from = 'example@asd.com';\nmy $subject = 'Test Email';\nmy $message = 'This is test email sent by Perl Script';\n\nmy $msg = MIME::Lite-&gt;new(\n             From     =&gt; $from,\n             To       =&gt; $to,\n             Subject  =&gt; $subject,\n             Data     =&gt; $message\n             );\n\n$msg-&gt;add( \"Type\" =&gt; \"multipart/mixed\" );        \n$msg-&gt;send(\"smtp\", \"good.domain.net\");\nprint \"Email Sent Successfully\\n\";\n</code></pre>\n\n<p>When i want to run the script i got the following error: </p>\n\n<blockquote>\n  <p>Failed to connect to mail server: Bad file descriptor at ...\\email.pl\n  line 17.</p>\n</blockquote>\n\n<p>I have no idea what the problem could be. Has someone any idea how to fix this?</p>\n\n<p><strong>EDIT:</strong> I corrected the code above, it is working with the proper server (it does not require authentication at all).</p>\n"}, {"tags": ["perl", "cgi"], "comments": [{"owner": {"reputation": 50468, "user_id": 1331451, "user_type": "registered", "accept_rate": 96, "profile_image": "https://i.stack.imgur.com/4ZPmj.png?s=128&g=1", "display_name": "simbabque", "link": "https://stackoverflow.com/users/1331451/simbabque"}, "edited": false, "score": 3, "creation_date": 1436280300, "post_id": 31271863, "comment_id": 50538046, "body": "Sure it works? You are nor declaring <code>$cgi</code> but you have <code>use strict</code>. That will break. Please don&#39;t type code in here, copy it from your editor or IDE. <a href=\"https://stackoverflow.com/posts/31271863/edit\">Edit</a> your question and fix that please."}, {"owner": {"reputation": 50468, "user_id": 1331451, "user_type": "registered", "accept_rate": 96, "profile_image": "https://i.stack.imgur.com/4ZPmj.png?s=128&g=1", "display_name": "simbabque", "link": "https://stackoverflow.com/users/1331451/simbabque"}, "edited": false, "score": 2, "creation_date": 1436280640, "post_id": 31271863, "comment_id": 50538336, "body": "It&#39;s very possible that CGI::Session doesn&#39;t like the CGI::Minimal object because the interface it expects is not satisfied. Add a <code>or die</code> to the <code>CGI::Seession-&gt;new</code> to see if it returns <code>undef</code>."}, {"owner": {"reputation": 51521, "user_id": 2566198, "user_type": "registered", "accept_rate": 67, "profile_image": "https://i.stack.imgur.com/Y34ZA.jpg?s=128&g=1", "display_name": "Sobrique", "link": "https://stackoverflow.com/users/2566198/sobrique"}, "edited": false, "score": 1, "creation_date": 1436280705, "post_id": 31271863, "comment_id": 50538378, "body": "Also: turn on <code>warnings</code>."}, {"owner": {"reputation": 21782, "user_id": 176646, "user_type": "registered", "accept_rate": 88, "profile_image": "https://i.stack.imgur.com/HsQyV.png?s=128&g=1", "display_name": "ThisSuitIsBlackNot", "link": "https://stackoverflow.com/users/176646/thissuitisblacknot"}, "edited": false, "score": 0, "creation_date": 1436281383, "post_id": 31271863, "comment_id": 50538915, "body": "According to the <a href=\"https://metacpan.org/pod/CGI::Session#new\" rel=\"nofollow noreferrer\">documentation</a>, <code>CGI::Session::new</code> calls the passed CGI object&#39;s <code>cookie</code> method; CGI::Minimal <a href=\"https://metacpan.org/source/SNOWHARE/CGI-Minimal-1.29/lib/CGI/Minimal.pm\" rel=\"nofollow noreferrer\">doesn&#39;t appear to have a <code>cookie</code> method</a>, so that could be throwing it off, although that&#39;s just a guess. Add <code>or die CGI::Session-&gt;errstr();</code> after your call to <code>CGI::Session::new</code> to find the exact reason."}, {"owner": {"reputation": 49, "user_id": 4965904, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/f8a96e080ae3eda5b2fbc8a3c4efeedf?s=128&d=identicon&r=PG&f=1", "display_name": "ingueni", "link": "https://stackoverflow.com/users/4965904/ingueni"}, "reply_to_user": {"reputation": 50468, "user_id": 1331451, "user_type": "registered", "accept_rate": 96, "profile_image": "https://i.stack.imgur.com/4ZPmj.png?s=128&g=1", "display_name": "simbabque", "link": "https://stackoverflow.com/users/1331451/simbabque"}, "edited": false, "score": 0, "creation_date": 1436281455, "post_id": 31271863, "comment_id": 50538973, "body": "ok i cleaned it up, @simbabque, yeah so is CGI::Minimal not compatible with CGI::Session?"}, {"owner": {"reputation": 21782, "user_id": 176646, "user_type": "registered", "accept_rate": 88, "profile_image": "https://i.stack.imgur.com/HsQyV.png?s=128&g=1", "display_name": "ThisSuitIsBlackNot", "link": "https://stackoverflow.com/users/176646/thissuitisblacknot"}, "edited": false, "score": 0, "creation_date": 1436282063, "post_id": 31271863, "comment_id": 50539507, "body": "Well, your answer is right in the error message: &quot;CGI::Minimal...does not support cookie() and param() methods&quot;"}, {"owner": {"reputation": 49, "user_id": 4965904, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/f8a96e080ae3eda5b2fbc8a3c4efeedf?s=128&d=identicon&r=PG&f=1", "display_name": "ingueni", "link": "https://stackoverflow.com/users/4965904/ingueni"}, "reply_to_user": {"reputation": 21782, "user_id": 176646, "user_type": "registered", "accept_rate": 88, "profile_image": "https://i.stack.imgur.com/HsQyV.png?s=128&g=1", "display_name": "ThisSuitIsBlackNot", "link": "https://stackoverflow.com/users/176646/thissuitisblacknot"}, "edited": false, "score": 0, "creation_date": 1436282103, "post_id": 31271863, "comment_id": 50539536, "body": "@ThisSuitIsBlackNot that appears to be the issue, so I need to use another session module essentially, or is this another way around this?"}, {"owner": {"reputation": 21782, "user_id": 176646, "user_type": "registered", "accept_rate": 88, "profile_image": "https://i.stack.imgur.com/HsQyV.png?s=128&g=1", "display_name": "ThisSuitIsBlackNot", "link": "https://stackoverflow.com/users/176646/thissuitisblacknot"}, "edited": false, "score": 0, "creation_date": 1436282743, "post_id": 31271863, "comment_id": 50539994, "body": "You don&#39;t <i>have</i> to pass a CGI object to <code>CGI::Session::new</code>. You can also pass a session ID, or no arguments at all. See the <a href=\"https://metacpan.org/pod/CGI::Session#new\" rel=\"nofollow noreferrer\">documentation</a>."}, {"owner": {"reputation": 49, "user_id": 4965904, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/f8a96e080ae3eda5b2fbc8a3c4efeedf?s=128&d=identicon&r=PG&f=1", "display_name": "ingueni", "link": "https://stackoverflow.com/users/4965904/ingueni"}, "edited": false, "score": 0, "creation_date": 1436283343, "post_id": 31271863, "comment_id": 50540487, "body": "yeah I guess I am going to rewrite my existing code, thanks for all the help"}, {"owner": {"reputation": 50468, "user_id": 1331451, "user_type": "registered", "accept_rate": 96, "profile_image": "https://i.stack.imgur.com/4ZPmj.png?s=128&g=1", "display_name": "simbabque", "link": "https://stackoverflow.com/users/1331451/simbabque"}, "edited": false, "score": 0, "creation_date": 1436283359, "post_id": 31271863, "comment_id": 50540499, "body": "But how would handling the session id work without cookies?"}, {"owner": {"reputation": 21782, "user_id": 176646, "user_type": "registered", "accept_rate": 88, "profile_image": "https://i.stack.imgur.com/HsQyV.png?s=128&g=1", "display_name": "ThisSuitIsBlackNot", "link": "https://stackoverflow.com/users/176646/thissuitisblacknot"}, "reply_to_user": {"reputation": 50468, "user_id": 1331451, "user_type": "registered", "accept_rate": 96, "profile_image": "https://i.stack.imgur.com/4ZPmj.png?s=128&g=1", "display_name": "simbabque", "link": "https://stackoverflow.com/users/1331451/simbabque"}, "edited": false, "score": 0, "creation_date": 1436283832, "post_id": 31271863, "comment_id": 50540863, "body": "@simbabque You can still send cookies with CGI::Minimal. The module is, after all, just a fancy frontend to HTTP requests. The docs even mention using CGI::Cookie."}, {"owner": {"reputation": 50468, "user_id": 1331451, "user_type": "registered", "accept_rate": 96, "profile_image": "https://i.stack.imgur.com/4ZPmj.png?s=128&g=1", "display_name": "simbabque", "link": "https://stackoverflow.com/users/1331451/simbabque"}, "reply_to_user": {"reputation": 21782, "user_id": 176646, "user_type": "registered", "accept_rate": 88, "profile_image": "https://i.stack.imgur.com/HsQyV.png?s=128&g=1", "display_name": "ThisSuitIsBlackNot", "link": "https://stackoverflow.com/users/176646/thissuitisblacknot"}, "edited": false, "score": 0, "creation_date": 1436283910, "post_id": 31271863, "comment_id": 50540929, "body": "@this I didn&#39;t read the docs. Was on mobile. Just wanted to pose the question so OP is aware of the fact that there might be a caveat. :)"}, {"owner": {"reputation": 10359, "user_id": 1216776, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/504692de390dabd9ca22fd716e178993?s=128&d=identicon&r=PG", "display_name": "stark", "link": "https://stackoverflow.com/users/1216776/stark"}, "edited": false, "score": 1, "creation_date": 1436294638, "post_id": 31271863, "comment_id": 50547565, "body": "&quot;or or die &quot; is is redundant"}], "answers": [{"tags": [], "owner": {"reputation": 161, "user_id": 2779046, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/1049df026877b10430df16a1034c9c5d?s=128&d=identicon&r=PG&f=1", "display_name": "Thomas", "link": "https://stackoverflow.com/users/2779046/thomas"}, "is_accepted": false, "score": 0, "last_activity_date": 1436523626, "creation_date": 1436523626, "answer_id": 31338347, "question_id": 31271863, "link": "https://stackoverflow.com/questions/31271863/issues-with-cgiminimal/31338347#31338347", "title": "issues with CGI::Minimal", "body": "<p>Since CGI::Minimal is indeed rather minimal you'd have to handle Cookies yourself and pass the manually retrieved session_id, instead of the cgi object, to the CGI::Session constructor. </p>\n\n<pre><code>use warnings;\nuse strict;\n\nuse CGI::Cookie;\nuse CGI::Minimal;\n\nuse CGI::Carp qw/fatalsToBrowser warningsToBrowser/;\nuse CGI::Session;\n\nmy $cgi = CGI::Minimal-&gt;new();\n\nmy %cookies = CGI::Cookie-&gt;fetch;\n\nmy $session_id;\n\nif( defined $cookies{'SESSION_ID'} ){\n   $session_id = $cookies{'SESSION_ID'}-&gt;value;\n}\n\nmy $session = CGI::Session-&gt;new(\n  \"driver:File;serializer:Storable\",\n  $session_id,\n  { Directory =&gt; '../web/tmp' }\n  ) or die CGI::Session-&gt;errstr();\n\n$session-&gt;expire( 'authorized', '1440m' );\n\nmy $session_cookie = CGI::Cookie-&gt;new(-name =&gt; 'SESSION_ID',-value =&gt; $session-&gt;id());\n\nprint $session-&gt;header(-cookie=&gt;[$session_cookie]);\n\nprint 'ok with session_id: ' . $session-&gt;id();\n</code></pre>\n"}], "owner": {"reputation": 49, "user_id": 4965904, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/f8a96e080ae3eda5b2fbc8a3c4efeedf?s=128&d=identicon&r=PG&f=1", "display_name": "ingueni", "link": "https://stackoverflow.com/users/4965904/ingueni"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 109, "favorite_count": 0, "answer_count": 1, "score": 0, "last_activity_date": 1436523626, "creation_date": 1436280194, "last_edit_date": 1436281846, "question_id": 31271863, "link": "https://stackoverflow.com/questions/31271863/issues-with-cgiminimal", "title": "issues with CGI::Minimal", "body": "<p>My existing code works fine with vanilla cgi</p>\n\n<pre><code>#!/usr/bin/env perl\nuse strict;\nuse CGI;\nuse CGI::Carp qw/fatalsToBrowser warningsToBrowser/;\nuse CGI::Session;\n\nmy ( $session, $cgi);\n\n$cgi = new CGI();\n$cgi-&gt;charset('UTF-8');\n\n$session = new CGI::Session( \"driver:File;serializer:Storable\",\n    $cgi, { Directory =&gt; '../home/tmp' } );\n$session-&gt;expire( 'authorized', '1440m' );\n</code></pre>\n\n<p>changing over to CGI::Minimal causes CGI::Session to error out</p>\n\n<pre><code>#!/usr/bin/env perl\nuse strict;\nuse CGI::Minimal;\nuse CGI::Carp qw/fatalsToBrowser warningsToBrowser/;\nuse CGI::Session;\n\nmy ( $session,  $cgi);\n\nmy $cgi = CGI::Minimal-&gt;new;\n\n$session = new CGI::Session( \"driver:File;serializer:Storable\",\n    $cgi, { Directory =&gt; '../web/tmp' } ) or or die CGI::Session-&gt;errstr();\n$session-&gt;expire( 'authorized', '1440m' );\n</code></pre>\n\n<p>The error</p>\n\n<pre><code>Can't call method \"expire\" on an undefined value at /var/webserver/iris/htdocs/index.cgi line 13.\n</code></pre>\n\n<p>Edit: after  <code>or die CGI::Session-&gt;errstr()</code> is added</p>\n\n<pre><code>new(): failed: query object CGI::Minimal=HASH(0x9916a64) does not support cookie() and param() methods: \n</code></pre>\n\n<p>Not really sure what causes this, really appreciate any insight.</p>\n"}, {"tags": ["regex", "perl", "pattern-matching", "concatenation"], "comments": [{"owner": {"reputation": 658023, "user_id": 548225, "user_type": "registered", "accept_rate": 90, "profile_image": "https://www.gravatar.com/avatar/dab08478b226280d4a30894c9a7ed719?s=128&d=identicon&r=PG", "display_name": "anubhava", "link": "https://stackoverflow.com/users/548225/anubhava"}, "edited": false, "score": 0, "creation_date": 1436277699, "post_id": 31270523, "comment_id": 50535888, "body": "What inputs are you trying to match?"}, {"owner": {"reputation": 61610, "user_id": 725418, "user_type": "registered", "accept_rate": 86, "profile_image": "https://www.gravatar.com/avatar/82ac2dc3e1ad4b7187f245c416528df9?s=128&d=identicon&r=PG", "display_name": "TLP", "link": "https://stackoverflow.com/users/725418/tlp"}, "edited": false, "score": 1, "creation_date": 1436277763, "post_id": 31270523, "comment_id": 50535936, "body": "Have you tried concatenation? Seems like your question is rather trivial, e.g. <code>$foo =~ &#47;$pattern1$pattern2&#47;</code> or <code>$pattern3 = $pattern1 . $pattern2</code>"}], "answers": [{"comments": [{"owner": {"reputation": 51521, "user_id": 2566198, "user_type": "registered", "accept_rate": 67, "profile_image": "https://i.stack.imgur.com/Y34ZA.jpg?s=128&g=1", "display_name": "Sobrique", "link": "https://stackoverflow.com/users/2566198/sobrique"}, "edited": false, "score": 0, "creation_date": 1436278746, "post_id": 31270773, "comment_id": 50536718, "body": "You could probably have a space in there with an <code>x</code> modifier on the pattern I think?"}, {"owner": {"reputation": 5221, "user_id": 1030598, "user_type": "registered", "accept_rate": 65, "profile_image": "https://www.gravatar.com/avatar/ff923c90c5fecb1b234474060fe62e7f?s=128&d=identicon&r=PG", "display_name": "NPS", "link": "https://stackoverflow.com/users/1030598/nps"}, "edited": false, "score": 0, "creation_date": 1436347906, "post_id": 31270773, "comment_id": 50569090, "body": "How do I concatenate a pattern in a variable with another pattern, e.g. <code>qr&#47;$somePatternabcd&#47;</code>. Perl parses it as a <code>somePatternabcd</code> variable instead of <code>somePattern</code> variable and <code>abcd</code> string/pattern."}, {"owner": {"reputation": 198290, "user_id": 1030675, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/957956ce51706d03f19a4dc85a767bb1?s=128&d=identicon&r=PG", "display_name": "choroba", "link": "https://stackoverflow.com/users/1030675/choroba"}, "reply_to_user": {"reputation": 5221, "user_id": 1030598, "user_type": "registered", "accept_rate": 65, "profile_image": "https://www.gravatar.com/avatar/ff923c90c5fecb1b234474060fe62e7f?s=128&d=identicon&r=PG", "display_name": "NPS", "link": "https://stackoverflow.com/users/1030598/nps"}, "edited": false, "score": 1, "creation_date": 1436356936, "post_id": 31270773, "comment_id": 50574933, "body": "@NPS: You can use <code>qr&#47;${somePattern}abcd&#47;</code> or <code>qr&#47;$somePattern abcd&#47;x</code>."}], "tags": [], "owner": {"reputation": 198290, "user_id": 1030675, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/957956ce51706d03f19a4dc85a767bb1?s=128&d=identicon&r=PG", "display_name": "choroba", "link": "https://stackoverflow.com/users/1030675/choroba"}, "is_accepted": true, "score": 6, "last_activity_date": 1436279209, "last_edit_date": 1436279209, "creation_date": 1436277732, "answer_id": 31270773, "question_id": 31270523, "link": "https://stackoverflow.com/questions/31270523/regex-pattern-concatenation/31270773#31270773", "title": "Regex pattern concatenation", "body": "<p>You can concatenate regular expressions easily:</p>\n\n<pre><code>say /$pattern1$pattern2/ for 'ABC', 'XABC';\n</code></pre>\n\n<p>To increase readability, you can use the <code>/x</code> modifier and add a space:</p>\n\n<pre><code>say / $pattern1 $pattern2 /x for qw( ABC XABC );\n</code></pre>\n\n<p>Note that scalars are usually written without the space after the <code>$</code> sigil.</p>\n"}], "owner": {"reputation": 5221, "user_id": 1030598, "user_type": "registered", "accept_rate": 65, "profile_image": "https://www.gravatar.com/avatar/ff923c90c5fecb1b234474060fe62e7f?s=128&d=identicon&r=PG", "display_name": "NPS", "link": "https://stackoverflow.com/users/1030598/nps"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 2597, "favorite_count": 0, "accepted_answer_id": 31270773, "answer_count": 1, "score": 0, "last_activity_date": 1436279209, "creation_date": 1436277151, "question_id": 31270523, "link": "https://stackoverflow.com/questions/31270523/regex-pattern-concatenation", "title": "Regex pattern concatenation", "body": "<p>Is it possible to somehow concatenate this:</p>\n\n<pre><code>my $ pattern1 = qr/^/;\n</code></pre>\n\n<p>with this:</p>\n\n<pre><code>my $ pattern2 = qr/ABC/\n</code></pre>\n\n<p>so I get (the value of) this?</p>\n\n<pre><code>qr/^ABC/\n</code></pre>\n\n<p>The syntax could be different, I just want to achieve this result.</p>\n"}, {"tags": ["regex", "json", "string", "perl"], "comments": [{"owner": {"reputation": 320771, "user_id": 589924, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/b2cf53d5a3d25f95c0db4e025aed4153?s=128&d=identicon&r=PG", "display_name": "ikegami", "link": "https://stackoverflow.com/users/589924/ikegami"}, "edited": false, "score": 0, "creation_date": 1436274050, "post_id": 31269145, "comment_id": 50533069, "body": "Did you use <code>Dumper($scalar)</code> or <code>Dumper(\\$scalar)</code>?"}, {"owner": {"reputation": 51521, "user_id": 2566198, "user_type": "registered", "accept_rate": 67, "profile_image": "https://i.stack.imgur.com/Y34ZA.jpg?s=128&g=1", "display_name": "Sobrique", "link": "https://stackoverflow.com/users/2566198/sobrique"}, "edited": false, "score": 1, "creation_date": 1436274295, "post_id": 31269145, "comment_id": 50533232, "body": "That <i>looks</i> to me like it&#39;s plain text <code>JSON</code>, which looks suspiciously similar to the  <code>Dumper</code> output, but isn&#39;t quite the same formatting."}, {"owner": {"reputation": 320771, "user_id": 589924, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/b2cf53d5a3d25f95c0db4e025aed4153?s=128&d=identicon&r=PG", "display_name": "ikegami", "link": "https://stackoverflow.com/users/589924/ikegami"}, "reply_to_user": {"reputation": 51521, "user_id": 2566198, "user_type": "registered", "accept_rate": 67, "profile_image": "https://i.stack.imgur.com/Y34ZA.jpg?s=128&g=1", "display_name": "Sobrique", "link": "https://stackoverflow.com/users/2566198/sobrique"}, "edited": false, "score": 0, "creation_date": 1436274442, "post_id": 31269145, "comment_id": 50533339, "body": "@Sobrique, It&#39;s exactly what <code>Dumper</code> outputs."}, {"owner": {"reputation": 51521, "user_id": 2566198, "user_type": "registered", "accept_rate": 67, "profile_image": "https://i.stack.imgur.com/Y34ZA.jpg?s=128&g=1", "display_name": "Sobrique", "link": "https://stackoverflow.com/users/2566198/sobrique"}, "edited": false, "score": 0, "creation_date": 1436274571, "post_id": 31269145, "comment_id": 50533425, "body": "I meant rendering a string rather than dumping a JSON hash."}, {"owner": {"reputation": 320771, "user_id": 589924, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/b2cf53d5a3d25f95c0db4e025aed4153?s=128&d=identicon&r=PG", "display_name": "ikegami", "link": "https://stackoverflow.com/users/589924/ikegami"}, "edited": false, "score": 0, "creation_date": 1436274785, "post_id": 31269145, "comment_id": 50533609, "body": "It is a reference to a string. I was addressing your claims that it looks <i>similar</i> to the Dumper output, and that it <i>isn&#39;t quite</i> the same formatting."}], "answers": [{"comments": [{"owner": {"reputation": 51521, "user_id": 2566198, "user_type": "registered", "accept_rate": 67, "profile_image": "https://i.stack.imgur.com/Y34ZA.jpg?s=128&g=1", "display_name": "Sobrique", "link": "https://stackoverflow.com/users/2566198/sobrique"}, "edited": false, "score": 0, "creation_date": 1436274632, "post_id": 31269247, "comment_id": 50533485, "body": "I&#39;ve made the assumption that the OP has plain text back from his HTTP request, because I think it more likely that <code>print Dumper \\$content</code> has occurred. I&#39;ll make that explicit in the answer."}], "tags": [], "owner": {"reputation": 51521, "user_id": 2566198, "user_type": "registered", "accept_rate": 67, "profile_image": "https://i.stack.imgur.com/Y34ZA.jpg?s=128&g=1", "display_name": "Sobrique", "link": "https://stackoverflow.com/users/2566198/sobrique"}, "is_accepted": false, "score": 2, "last_activity_date": 1436274730, "last_edit_date": 1436274730, "creation_date": 1436274083, "answer_id": 31269247, "question_id": 31269145, "link": "https://stackoverflow.com/questions/31269145/finding-a-value-in-http-response-content-using-perl-script/31269247#31269247", "title": "Finding a value in HTTP response content using Perl Script", "body": "<p>That is JSON. So use the <code>JSON</code> module to parse it:</p>\n\n<pre><code>use JSON; \nmy $json = decode_json ( $response -&gt; content ); \nforeach my $element ( @{ $json -&gt; {ResultSet} -&gt; {results} } ) {\n    print $element -&gt; {url},\"\\n\"; \n}\n</code></pre>\n\n<p>Fuller; runnable example:</p>\n\n<pre><code>#!/usr/bin/perl\n\nuse strict;\nuse warnings;\nuse JSON;\nuse Data::Dumper;\n\nmy $json_str = '{\n  \"ResultSet\": {\n  \"result\": [\n    {\n      \"rank\": \"999999\",\n      \"term\": \"shampoo\"\n    },\n    {\n      \"rank\": \"999999\",\n      \"term\": \"Beauty\",\n      \"url\": \"/search/results.jsp?Ntt=shampoo&amp;N=359434\"\n    },\n    {\n      \"rank\": \"999999\",\n      \"term\": \"Baby, Kids &amp; Toys\",\n      \"url\": \"/search/results.jsp?Ntt=shampoo&amp;N=359449\"\n    }\n  ]\n}}';\n\nmy $json = decode_json($json_str);\nprint Dumper $json;\nforeach my $element ( @{ $json-&gt;{ResultSet}-&gt;{result} } ) {\n    print $element -&gt;{url}, \"\\n\" if $element-&gt;{url};\n}\n</code></pre>\n\n<p>In the above, <code>$json_str</code> fills the niche of your content. I've made the assumption that you have plain text, and the output above is the result of <code>print Dumper \\$content</code>.</p>\n\n<p>This thus prints:</p>\n\n<pre><code>$VAR1 = {\n          'ResultSet' =&gt; {\n                           'result' =&gt; [\n                                         {\n                                           'rank' =&gt; '999999',\n                                           'term' =&gt; 'shampoo'\n                                         },\n                                         {\n                                           'rank' =&gt; '999999',\n                                           'term' =&gt; 'Beauty',\n                                           'url' =&gt; '/search/results.jsp?Ntt=shampoo&amp;N=359434'\n                                         },\n                                         {\n                                           'url' =&gt; '/search/results.jsp?Ntt=shampoo&amp;N=359449',\n                                           'term' =&gt; 'Baby, Kids &amp; Toys',\n                                           'rank' =&gt; '999999'\n                                         }\n                                       ]\n                         }\n        };\n\n/search/results.jsp?Ntt=shampoo&amp;N=359434\n/search/results.jsp?Ntt=shampoo&amp;N=359449\n</code></pre>\n"}, {"tags": [], "owner": {"reputation": 320771, "user_id": 589924, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/b2cf53d5a3d25f95c0db4e025aed4153?s=128&d=identicon&r=PG", "display_name": "ikegami", "link": "https://stackoverflow.com/users/589924/ikegami"}, "is_accepted": false, "score": 1, "last_activity_date": 1436275003, "last_edit_date": 1436275003, "creation_date": 1436274326, "answer_id": 31269362, "question_id": 31269145, "link": "https://stackoverflow.com/questions/31269145/finding-a-value-in-http-response-content-using-perl-script/31269362#31269362", "title": "Finding a value in HTTP response content using Perl Script", "body": "<p>You have a reference to a JSON string.</p>\n\n<hr>\n\n<p>First, get the JSON.</p>\n\n<pre><code>my $json = $$content;\n</code></pre>\n\n<p>If you (incorrectly) did <code>Dumper(\\$content)</code> instead of <code>Dumper($content)</code>, then ignore the above and use the following instead:</p>\n\n<pre><code>my $json = $content;   # Or just use $content where you see $json later.\n</code></pre>\n\n<hr>\n\n<p>Then, use a JSON parse to get the data.</p>\n\n<pre><code>use JSON::XS qw( decode_json );\nmy $data = decode_json($json);             # If the $json is UTF-8 (probably)\n  -or-\nuse JSON::XS qw( );\nmy $data = JSON::XS-&gt;new-&gt;decode($json);   # If the $json is decoded (Unicode Code Points)\n</code></pre>\n\n<hr>\n\n<p>Now, it's easy to grab your data.</p>\n\n<pre><code>my $results = $data-&gt;{ResultSet}{result};\n\nfor my $result (@$results) {\n   my $url = $result-&gt;{url}\n      or next;\n\n   print(\"$url\\n\");\n}\n</code></pre>\n"}], "owner": {"reputation": 321, "user_id": 3253428, "user_type": "registered", "accept_rate": 20, "profile_image": "https://www.gravatar.com/avatar/72250135893401798088e07899c12bd4?s=128&d=identicon&r=PG&f=1", "display_name": "anonymous", "link": "https://stackoverflow.com/users/3253428/anonymous"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 552, "favorite_count": 0, "answer_count": 2, "score": 0, "last_activity_date": 1436275003, "creation_date": 1436273785, "last_edit_date": 1436273895, "question_id": 31269145, "link": "https://stackoverflow.com/questions/31269145/finding-a-value-in-http-response-content-using-perl-script", "title": "Finding a value in HTTP response content using Perl Script", "body": "<p>I have perl script with HTTP GET request.\nMy repsonse content is like</p>\n\n<pre><code>$VAR1 = \\'{\"ResultSet\": {\n  \"result\": [\n    {\n      \"rank\": \"999999\",\n      \"term\": \"shampoo\"\n    },\n    {\n      \"rank\": \"999999\",\n      \"term\": \"Beauty\",\n      \"url\": \"/search/results.jsp?Ntt=shampoo&amp;N=359434\"\n    },\n    {\n      \"rank\": \"999999\",\n      \"term\": \"Baby, Kids &amp; Toys\",\n      \"url\": \"/search/results.jsp?Ntt=shampoo&amp;N=359449\"\n    },\n</code></pre>\n\n<p>I need url property from above response how can i get it. Itried using regex like   <code>my $content =~ m/:\"url\": \"(...)\"/;</code> but i am not getting the url value. Please guide.</p>\n"}, {"tags": ["regex", "perl", "substitution"], "comments": [{"owner": {"reputation": 2851, "user_id": 3503521, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/13d0c033ee57f9049e9c71ea6ed42062?s=128&d=identicon&r=PG", "display_name": "Vladimir Serykh", "link": "https://stackoverflow.com/users/3503521/vladimir-serykh"}, "edited": false, "score": 1, "creation_date": 1436271186, "post_id": 31268176, "comment_id": 50530957, "body": "Why did you escape <code>$</code> in <code>$repl</code>? Try this: <code>my $repl = &quot;no_$1_stuff&quot;;</code>."}, {"owner": {"reputation": 21654, "user_id": 107331, "user_type": "registered", "accept_rate": 80, "profile_image": "https://www.gravatar.com/avatar/cf6d0868b2b4c69bac3e6f265a32b6a7?s=128&d=identicon&r=PG", "display_name": "Daniel Martin", "link": "https://stackoverflow.com/users/107331/daniel-martin"}, "reply_to_user": {"reputation": 2851, "user_id": 3503521, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/13d0c033ee57f9049e9c71ea6ed42062?s=128&d=identicon&r=PG", "display_name": "Vladimir Serykh", "link": "https://stackoverflow.com/users/3503521/vladimir-serykh"}, "edited": false, "score": 1, "creation_date": 1436271731, "post_id": 31268176, "comment_id": 50531292, "body": "@VladimirSerykh - It should be obvious why that will yield <code>no__stuff</code> if you think about it."}, {"owner": {"reputation": 2851, "user_id": 3503521, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/13d0c033ee57f9049e9c71ea6ed42062?s=128&d=identicon&r=PG", "display_name": "Vladimir Serykh", "link": "https://stackoverflow.com/users/3503521/vladimir-serykh"}, "reply_to_user": {"reputation": 21654, "user_id": 107331, "user_type": "registered", "accept_rate": 80, "profile_image": "https://www.gravatar.com/avatar/cf6d0868b2b4c69bac3e6f265a32b6a7?s=128&d=identicon&r=PG", "display_name": "Daniel Martin", "link": "https://stackoverflow.com/users/107331/daniel-martin"}, "edited": false, "score": 0, "creation_date": 1436271860, "post_id": 31268176, "comment_id": 50531384, "body": "@DanielMartin I do know nothing about strings in Perl. But I know something in regex."}, {"owner": {"reputation": 123, "user_id": 5089311, "user_type": "registered", "profile_image": "https://lh6.googleusercontent.com/-Y2aJksFefkE/AAAAAAAAAAI/AAAAAAAAAAA/za08PoRXF5o/photo.jpg?sz=128", "display_name": "Noname", "link": "https://stackoverflow.com/users/5089311/noname"}, "edited": false, "score": 0, "creation_date": 1436272126, "post_id": 31268176, "comment_id": 50531573, "body": "Tried. Perl says &quot;Use of uninitialized value in concatenation (.) or string&quot;"}], "answers": [{"comments": [{"owner": {"reputation": 123, "user_id": 5089311, "user_type": "registered", "profile_image": "https://lh6.googleusercontent.com/-Y2aJksFefkE/AAAAAAAAAAI/AAAAAAAAAAA/za08PoRXF5o/photo.jpg?sz=128", "display_name": "Noname", "link": "https://stackoverflow.com/users/5089311/noname"}, "edited": false, "score": 1, "creation_date": 1436272529, "post_id": 31268517, "comment_id": 50531858, "body": "Thanks! Indeed /ee and &#39;quoting&#39; together resolved my issue.  Can&#39;t say I fully understand why the &#39;quoting&#39; trick works. I tried other stuff like escaping, but apparently I miss something. Can you explain me a bit the logic behind this, please?"}, {"owner": {"reputation": 123, "user_id": 5089311, "user_type": "registered", "profile_image": "https://lh6.googleusercontent.com/-Y2aJksFefkE/AAAAAAAAAAI/AAAAAAAAAAA/za08PoRXF5o/photo.jpg?sz=128", "display_name": "Noname", "link": "https://stackoverflow.com/users/5089311/noname"}, "edited": false, "score": 1, "creation_date": 1436272949, "post_id": 31268517, "comment_id": 50532165, "body": "Ok, now it&#39;s clear. /e requires &quot;quoted&quot; string and &#39; &#39; provides this. Thanks again! :)"}, {"owner": {"reputation": 481636, "user_id": 3832970, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/64323e6cf08401474da3bf770ea13b58?s=128&d=identicon&r=PG&f=1", "display_name": "Wiktor Stribi\u017cew", "link": "https://stackoverflow.com/users/3832970/wiktor-stribi%c5%bcew"}, "reply_to_user": {"reputation": 123, "user_id": 5089311, "user_type": "registered", "profile_image": "https://lh6.googleusercontent.com/-Y2aJksFefkE/AAAAAAAAAAI/AAAAAAAAAAA/za08PoRXF5o/photo.jpg?sz=128", "display_name": "Noname", "link": "https://stackoverflow.com/users/5089311/noname"}, "edited": false, "score": 0, "creation_date": 1436273479, "post_id": 31268517, "comment_id": 50532600, "body": "Yes, <code>ee</code> is necessary to evaluate the RHS twice, once to turn <code>$repl</code> into <code>no_$1_stuff</code>, then again to turn it into the string &quot;no_$1_stuff&quot; with <code>$1</code> as a replacement backreference. There are some resources describing that behavior. See <a href=\"http://www.sthomas.net/roberts-perl-tutorial.htm/ch10/_ee\" rel=\"nofollow noreferrer\">example description of /ee here</a>."}, {"owner": {"reputation": 21654, "user_id": 107331, "user_type": "registered", "accept_rate": 80, "profile_image": "https://www.gravatar.com/avatar/cf6d0868b2b4c69bac3e6f265a32b6a7?s=128&d=identicon&r=PG", "display_name": "Daniel Martin", "link": "https://stackoverflow.com/users/107331/daniel-martin"}, "edited": false, "score": 2, "creation_date": 1436274961, "post_id": 31268517, "comment_id": 50533739, "body": "Note that in order to quote in this fashion, you can&#39;t have a repl that includes a <code>&quot;</code> character. Also, note that this is equivalent to handing whoever is writing the config file direct code access, so don&#39;t expose this to web users."}, {"owner": {"reputation": 481636, "user_id": 3832970, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/64323e6cf08401474da3bf770ea13b58?s=128&d=identicon&r=PG&f=1", "display_name": "Wiktor Stribi\u017cew", "link": "https://stackoverflow.com/users/3832970/wiktor-stribi%c5%bcew"}, "edited": false, "score": 0, "creation_date": 1448351532, "post_id": 31268517, "comment_id": 55539751, "body": "Just wanted to add that to add a quote to the replacement pattern, one just needs to use an escaped quote, and to use a backslash, 4 backslash symbols must be used (e.g. <a href=\"https://ideone.com/CTJRSI\" rel=\"nofollow noreferrer\"><code>my $repl = &#39;&quot;no_[$1]\\\\\\\\_stuff&quot;&#39;;</code></a>)."}, {"owner": {"reputation": 320771, "user_id": 589924, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/b2cf53d5a3d25f95c0db4e025aed4153?s=128&d=identicon&r=PG", "display_name": "ikegami", "link": "https://stackoverflow.com/users/589924/ikegami"}, "edited": false, "score": 1, "creation_date": 1549485952, "post_id": 31268517, "comment_id": 95923413, "body": "String::Substitution is definitely the way to go. -1 planting the idea idea that short-and-sweet <code>&#47;ee</code> is an option."}, {"owner": {"reputation": 8718, "user_id": 5848200, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/a8072aaf76dcb4fe5027964252f16382?s=128&d=identicon&r=PG", "display_name": "Grinnz", "link": "https://stackoverflow.com/users/5848200/grinnz"}, "edited": false, "score": 1, "creation_date": 1549486473, "post_id": 31268517, "comment_id": 95923649, "body": "I would also recommend <code>replace</code> from <a href=\"https://metacpan.org/pod/Data::Munge#replace-STRING,-REGEX,-REPLACEMENT,-FLAG\" rel=\"nofollow noreferrer\">Data::Munge</a> as a better option than <code>&#47;ee</code> for this use case."}], "tags": [], "owner": {"reputation": 481636, "user_id": 3832970, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/64323e6cf08401474da3bf770ea13b58?s=128&d=identicon&r=PG&f=1", "display_name": "Wiktor Stribi\u017cew", "link": "https://stackoverflow.com/users/3832970/wiktor-stribi%c5%bcew"}, "is_accepted": true, "score": 9, "last_activity_date": 1550058026, "last_edit_date": 1550058026, "creation_date": 1436271983, "answer_id": 31268517, "question_id": 31268176, "link": "https://stackoverflow.com/questions/31268176/perl-regex-substitution-using-external-parameters/31268517#31268517", "title": "Perl regex substitution using external parameters", "body": "<p><strong>Solution 1: <code>String::Substitution</code></strong></p>\n\n<p>Use <strong><a href=\"http://search.cpan.org/~rwstauner/String-Substitution-1.001/lib/String/Substitution.pm\" rel=\"nofollow noreferrer\"><code>String::Substitution</code></a> package</strong>:</p>\n\n<pre><code>use String::Substitution qw(gsub_modify);\n\nmy $find = 'some_(\\w+)_thing';\nmy $repl = 'no_$1_stuff';\nmy $text = \"some_strange_thing\";\ngsub_modify($text, $find, $repl);\nprint $text,\"\\n\";\n</code></pre>\n\n<blockquote>\n  <p>The replacement string only <em>interpolates</em> (term used loosely) numbered match vars (like <code>$1</code> or <code>${12}</code>). See <a href=\"http://search.cpan.org/~rwstauner/String-Substitution-1.001/lib/String/Substitution.pm#interpolate_match_vars\" rel=\"nofollow noreferrer\">\"interpolate_match_vars\"</a> for more information.\n  <br/>\n  This module does <strong>not</strong> save or interpolate <code>$&amp;</code> to avoid the \"considerable performance penalty\" (see <a href=\"http://search.cpan.org/perldoc?perlvar\" rel=\"nofollow noreferrer\">perlvar</a>).</p>\n</blockquote>\n\n<p><strong>Solution 2: <code>Data::Munge</code></strong></p>\n\n<p>This is a solution mentioned by <a href=\"https://stackoverflow.com/questions/31268176/perl-regex-substitution-using-external-parameters/31268517?noredirect=1#comment95923649_31268517\">Grinnz</a> in the comments below. </p>\n\n<p>The <a href=\"https://metacpan.org/pod/Data::Munge#replace-STRING,-REGEX,-REPLACEMENT,-FLAG\" rel=\"nofollow noreferrer\"><code>Data::Munge</code></a> can be used the following way:</p>\n\n<pre><code>use Data::Munge;\n\nmy $find = qr/some_(\\w+)_thing/;\nmy $repl = 'no_$1_stuff';\nmy $text = 'some_strange_thing';\nmy $flags = 'g';\nprint replace($text, $find, $repl, $flags);\n# =&gt; no_strange_stuff\n</code></pre>\n\n<p><strong>Solution 3: A quick'n'dirty way (if replacement won't contain double quotes and security is not considered)</strong></p>\n\n<p><strong>DISCLAIMER</strong>: <em>I provide this solution as this approach can be found online, but its caveats are not explained. <strong>Do not use it in production</strong>.</em></p>\n\n<p>With this approach, you can't have a replacement string that includes a <code>\"</code> double quotation mark and, since this is equivalent to handing whoever is writing the configuration file direct code access, it should not be exposed to Web users (as mentioned by <a href=\"https://stackoverflow.com/questions/31268176/perl-regex-substitution-using-external-parameters/31268517?noredirect=1#comment50533739_31268517\">Daniel Martin</a>). </p>\n\n<p>You can use the following code:</p>\n\n<pre><code>#!/usr/bin/perl\nmy $match = qr\"some_(\\w+)_thing\";\nmy $repl = '\"no_$1_stuff\"';\nmy $text = \"some_strange_thing\";\n$text =~ s/$match/$repl/ee;\nprint \"Result: $text\\n\";\n</code></pre>\n\n<p>See <a href=\"http://ideone.com/FiOUww\" rel=\"nofollow noreferrer\">IDEONE demo</a></p>\n\n<p>Result:</p>\n\n<pre><code>Result: no_strange_stuff\n</code></pre>\n\n<p>You have to </p>\n\n<ol>\n<li>Declare the replacement in <code>'\"...\"'</code> so as <code>$1</code> could be later evaluated</li>\n<li>Use <a href=\"http://perldoc.perl.org/perlretut.html#Using-regular-expressions-in-Perl\" rel=\"nofollow noreferrer\"><code>/ee</code></a> to force the double evaluation of the variables in the replacement.</li>\n</ol>\n\n<blockquote>\n  <p>A modifier available specifically to search and replace is the <code>s///e</code> evaluation modifier. <code>s///e</code> treats the replacement text as Perl code, rather than a double-quoted string. The value that the code returns is substituted for the matched substring. <code>s///e</code> is useful if you need to do a bit of computation in the process of replacing text.</p>\n</blockquote>\n\n<p>You can use <a href=\"http://perldoc.perl.org/functions/qr.html\" rel=\"nofollow noreferrer\"><code>qr</code></a> to instantiate pattern for the regex (<code>qr\"some_(\\w+)_thing\"</code>).</p>\n"}, {"comments": [{"owner": {"reputation": 123, "user_id": 5089311, "user_type": "registered", "profile_image": "https://lh6.googleusercontent.com/-Y2aJksFefkE/AAAAAAAAAAI/AAAAAAAAAAA/za08PoRXF5o/photo.jpg?sz=128", "display_name": "Noname", "link": "https://stackoverflow.com/users/5089311/noname"}, "edited": false, "score": 0, "creation_date": 1436726816, "post_id": 31270221, "comment_id": 50721788, "body": "Thanks! No, source is not webuser. I have multiple filtering options for different projects and wanted to have same scripts for all. The difference is mainly in &quot;patterns&quot; that&#39;s why I wanted to have them kept externally."}, {"owner": {"reputation": 320771, "user_id": 589924, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/b2cf53d5a3d25f95c0db4e025aed4153?s=128&d=identicon&r=PG", "display_name": "ikegami", "link": "https://stackoverflow.com/users/589924/ikegami"}, "edited": false, "score": 0, "creation_date": 1549486711, "post_id": 31270221, "comment_id": 95923746, "body": "<code>&#47;ee</code> is super dangerous. Don&#39;t use arbitrary Perl code as a template; use an actual template! String::Substitution provides solutions."}], "tags": [], "owner": {"reputation": 21654, "user_id": 107331, "user_type": "registered", "accept_rate": 80, "profile_image": "https://www.gravatar.com/avatar/cf6d0868b2b4c69bac3e6f265a32b6a7?s=128&d=identicon&r=PG", "display_name": "Daniel Martin", "link": "https://stackoverflow.com/users/107331/daniel-martin"}, "is_accepted": false, "score": 2, "last_activity_date": 1436276415, "creation_date": 1436276415, "answer_id": 31270221, "question_id": 31268176, "link": "https://stackoverflow.com/questions/31268176/perl-regex-substitution-using-external-parameters/31270221#31270221", "title": "Perl regex substitution using external parameters", "body": "<p>Essentially the same approach as the accepted solution, but I kept the initial lines the same as the problem statement, since I thought that might make it easier to fit into more situations:</p>\n\n<pre><code>my $match = \"some_(\\\\w+)_thing\";\nmy $repl = \"no_\\$1_stuff\";\n\nmy $qrmatch = qr($match);\nmy $code = $repl;\n\n$code =~ s/([^\"\\\\]*)([\"\\\\])/$1\\\\$2/g;\n$code = qq[\"$code\"];\n\nif (!defined($code)) {\n  die \"Couldn't find appropriate quote marks\";\n}\n\nmy $text = \"some_strange_thing\";\n$text =~ s/$qrmatch/$code/ee;\nprint \"Result: $text\\n\";\n</code></pre>\n\n<p>Note that this works no matter what is in <code>$repl</code>, whereas the naive solution has issues if <code>$repl</code> contains a double quote character itself, or ends in a backslash.</p>\n\n<p>Also, assuming that you're going to run the three lines at the end (or something like it) in a loop, do make sure that you don't skip the <code>qr</code> line. It will make a huge performance difference if you skip the <code>qr</code> and just use <code>s/$match/$code/ee</code>.</p>\n\n<p>Also, even though it's not as trivial to get arbitrary code execution with this solution as it is with the accepted one, it wouldn't surprise me if it's still possible. In general, I'd avoid solutions based on <code>s///ee</code> if the <code>$match</code> or <code>$repl</code> come from untrusted users. (e.g., don't build a web service out of this)</p>\n\n<p>Doing this kind of replacement securely when <code>$match</code> and <code>$repl</code> are supplied by untrusted users should be asked as a different question if your use case includes that.</p>\n"}], "owner": {"reputation": 123, "user_id": 5089311, "user_type": "registered", "profile_image": "https://lh6.googleusercontent.com/-Y2aJksFefkE/AAAAAAAAAAI/AAAAAAAAAAA/za08PoRXF5o/photo.jpg?sz=128", "display_name": "Noname", "link": "https://stackoverflow.com/users/5089311/noname"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 370, "favorite_count": 2, "accepted_answer_id": 31268517, "answer_count": 2, "score": 6, "last_activity_date": 1550058026, "creation_date": 1436270902, "last_edit_date": 1436281594, "question_id": 31268176, "link": "https://stackoverflow.com/questions/31268176/perl-regex-substitution-using-external-parameters", "title": "Perl regex substitution using external parameters", "body": "<p>Consider the following example:</p>\n\n<pre><code>my $text = \"some_strange_thing\";\n$text =~ s/some_(\\w+)_thing/no_$1_stuff/;\nprint \"Result: $text\\n\";  \n</code></pre>\n\n<p>It prints</p>\n\n<blockquote>\n  <p>\"Result: no_<strong>strange</strong>_stuff\"</p>\n</blockquote>\n\n<p>So far so good.</p>\n\n<p>Now, I need to get both the match and replacement patterns from external sources (user input, config file, etc).\nNaive solution appears to be like this:</p>\n\n<pre><code>my $match = \"some_(\\\\w+)_thing\";\nmy $repl = \"no_\\$1_stuff\";\n\nmy $text = \"some_strange_thing\";\n$text =~ s/$match/$repl/;\nprint \"Result: $text\\n\";  \n</code></pre>\n\n<p>However: </p>\n\n<blockquote>\n  <p>\"Result: no_<strong>$1</strong>_stuff\".</p>\n</blockquote>\n\n<p>What's wrong? How can I get the same outcome with externally supplied patterns?</p>\n"}, {"tags": ["perl"], "comments": [{"owner": {"reputation": 3984, "user_id": 1801086, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/ef4c0400ffff14d5e1c16ca3856c09ba?s=128&d=identicon&r=PG", "display_name": "tjd", "link": "https://stackoverflow.com/users/1801086/tjd"}, "edited": false, "score": 0, "creation_date": 1436271396, "post_id": 31268066, "comment_id": 50531095, "body": "You sure you don&#39;t want to show us an example of what didn&#39;t work?  For example, have you taken in to account that <code>use</code> is processed at compile time, while <code>push</code> and <code>unshift</code> will wait until the execution phase unless put in a <code>BEGIN</code>block."}, {"owner": {"reputation": 2390, "user_id": 1204434, "user_type": "registered", "accept_rate": 50, "profile_image": "https://i.stack.imgur.com/FyXgT.png?s=128&g=1", "display_name": "felwithe", "link": "https://stackoverflow.com/users/1204434/felwithe"}, "reply_to_user": {"reputation": 3984, "user_id": 1801086, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/ef4c0400ffff14d5e1c16ca3856c09ba?s=128&d=identicon&r=PG", "display_name": "tjd", "link": "https://stackoverflow.com/users/1801086/tjd"}, "edited": false, "score": 0, "creation_date": 1436271920, "post_id": 31268066, "comment_id": 50531424, "body": "Yes, they&#39;re in a begin block. The problem seems to be that all of the sub modules use the full package name at the top of each file."}], "answers": [{"tags": [], "owner": {"reputation": 663, "user_id": 255981, "user_type": "registered", "accept_rate": 25, "profile_image": "https://www.gravatar.com/avatar/29804f2ad262893d9ae9646dfef3dc60?s=128&d=identicon&r=PG", "display_name": "nebulous", "link": "https://stackoverflow.com/users/255981/nebulous"}, "is_accepted": false, "score": 2, "last_activity_date": 1436275422, "creation_date": 1436275422, "answer_id": 31269817, "question_id": 31268066, "link": "https://stackoverflow.com/questions/31268066/perl-how-to-use-local-copy-of-module-instead-of-installed-version/31269817#31269817", "title": "Perl: how to use local copy of module instead of installed version?", "body": "<pre><code>use lib 'your/local/lib/path';\nuse MyModule; #this should load ./your/local/lib/path/MyModule.pm\n</code></pre>\n\n<p>Can you post an example of what doesn't work?</p>\n"}], "owner": {"reputation": 2390, "user_id": 1204434, "user_type": "registered", "accept_rate": 50, "profile_image": "https://i.stack.imgur.com/FyXgT.png?s=128&g=1", "display_name": "felwithe", "link": "https://stackoverflow.com/users/1204434/felwithe"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 197, "favorite_count": 0, "answer_count": 1, "score": 2, "last_activity_date": 1436281080, "creation_date": 1436270582, "last_edit_date": 1436281080, "question_id": 31268066, "link": "https://stackoverflow.com/questions/31268066/perl-how-to-use-local-copy-of-module-instead-of-installed-version", "title": "Perl: how to use local copy of module instead of installed version?", "body": "<p>I'm making changes to an installed Perl module, and I'd like to make those changes in a local copy first before copying them to the installed copy.</p>\n\n<p>No matter what I do, I can't seem to get Perl to use the local version over the installed version. I tried pushing the local directory to the beginning and end of <code>@INC</code>, hoping that would do it, but it didn't.</p>\n\n<p>The only solution I've found is renaming everything, which I actually started to do, but it involves so many files that I'm just making a mess by going into every file and renaming everything. Is there an easier way to do this?</p>\n"}, {"tags": ["linux", "perl"], "answers": [{"comments": [{"owner": {"reputation": 1422, "user_id": 2557854, "user_type": "registered", "accept_rate": 85, "profile_image": "https://www.gravatar.com/avatar/8ce7e2aeef8bef05414806fc18aae490?s=128&d=identicon&r=PG&f=1", "display_name": "maihabunash", "link": "https://stackoverflow.com/users/2557854/maihabunash"}, "edited": false, "score": 0, "creation_date": 1436267191, "post_id": 31266799, "comment_id": 50528301, "body": "can you please also expalin the syntax in the exp ( as \\S+   and \\s+/  ) etc"}, {"owner": {"reputation": 3327, "user_id": 1604311, "user_type": "registered", "accept_rate": 73, "profile_image": "https://i.stack.imgur.com/0frKT.jpg?s=128&g=1", "display_name": "Arunesh Singh", "link": "https://stackoverflow.com/users/1604311/arunesh-singh"}, "edited": false, "score": 1, "creation_date": 1436267578, "post_id": 31266799, "comment_id": 50528564, "body": "<code>$0</code> contains name of the file containing the perl script being executed. <code>$&amp;</code> returns the entire matched string."}, {"owner": {"reputation": 791, "user_id": 4607488, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/PikId.png?s=128&g=1", "display_name": "MC93", "link": "https://stackoverflow.com/users/4607488/mc93"}, "edited": false, "score": 0, "creation_date": 1436268065, "post_id": 31266799, "comment_id": 50528899, "body": "<code>\\S+</code> means &quot;1 or more non-whitespace characters&quot; and <code>\\s+</code> means &quot;1 or more whitespace characters&quot;, the forward slashes are just delimiters that mark the beginning and end of the regex, the parentheses capture what matches the pattern inside them and stores it in <code>$1</code> in this case, the rest are literal characters. This regex is used to capture everything following <code>addr:</code> up to the first whitespace character (e.g. <code>106.13.4.9</code>)."}], "tags": [], "owner": {"user_type": "does_not_exist", "display_name": "user2371524"}, "is_accepted": false, "score": 1, "last_activity_date": 1436268973, "last_edit_date": 1436268973, "creation_date": 1436267013, "answer_id": 31266799, "question_id": 31266572, "link": "https://stackoverflow.com/questions/31266572/perl-regular-expression-and-arguments/31266799#31266799", "title": "Perl regular expression and arguments", "body": "<p><code>=~</code> is the matches operator in perl and evaluates to true if a string (here <code>$RESULTS</code>) can be matched with a regular expression (here <code>/addr:(\\S+)\\s+/</code>)</p>\n\n<p>When a regular expression is matched in perl, variables are automatically assigned:</p>\n\n<ul>\n<li><code>$&amp;</code> holds the part matched by the whole expression</li>\n<li><code>$1</code> holds the part matched by the first capture group (set of parantheses)</li>\n<li><code>$2</code> the part by the second capture group</li>\n<li>and so on ...</li>\n</ul>\n"}, {"comments": [{"owner": {"reputation": 1422, "user_id": 2557854, "user_type": "registered", "accept_rate": 85, "profile_image": "https://www.gravatar.com/avatar/8ce7e2aeef8bef05414806fc18aae490?s=128&d=identicon&r=PG&f=1", "display_name": "maihabunash", "link": "https://stackoverflow.com/users/2557854/maihabunash"}, "edited": false, "score": 0, "creation_date": 1436268285, "post_id": 31267057, "comment_id": 50529041, "body": "very intersting but how $1 take only the IP address and not all the addr:106.13.4.9 string?"}, {"owner": {"reputation": 4514, "user_id": 4248931, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/HijcJ.png?s=128&g=1", "display_name": "serenesat", "link": "https://stackoverflow.com/users/4248931/serenesat"}, "reply_to_user": {"reputation": 1422, "user_id": 2557854, "user_type": "registered", "accept_rate": 85, "profile_image": "https://www.gravatar.com/avatar/8ce7e2aeef8bef05414806fc18aae490?s=128&d=identicon&r=PG&f=1", "display_name": "maihabunash", "link": "https://stackoverflow.com/users/2557854/maihabunash"}, "edited": false, "score": 1, "creation_date": 1436268494, "post_id": 31267057, "comment_id": 50529165, "body": "Because <code>$1</code> only store what is in parenthesis not outside of parenthesis. Have a look of given link, you will understand behaviour of <code>$1</code>."}], "tags": [], "owner": {"reputation": 4514, "user_id": 4248931, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/HijcJ.png?s=128&g=1", "display_name": "serenesat", "link": "https://stackoverflow.com/users/4248931/serenesat"}, "is_accepted": true, "score": 5, "last_activity_date": 1436267738, "last_edit_date": 1495541171, "creation_date": 1436267738, "answer_id": 31267057, "question_id": 31266572, "link": "https://stackoverflow.com/questions/31266572/perl-regular-expression-and-arguments/31267057#31267057", "title": "Perl regular expression and arguments", "body": "<p>If a <code>=~</code> match expression is true, the special variables <code>$1</code>, <code>$2</code>, ... will be the substrings that matched parts of the pattern in parenthesis. <code>$1</code> matches the first left parenthesis, <code>$2</code> the second left parenthesis, and so on.</p>\n\n<p><code>\\S</code> matches any non-whitespace character,<br>\n<code>+</code> match 1 or more times,<br>\n<code>\\s</code> matches any whitespace character (space, tab, newline),  </p>\n\n<p>So in your regex it matches <code>addr:(any non-whitespace character 1 or more time)matches any whitespace character one or more time</code>. And <code>$1</code> in capturing the value in parenthesis.</p>\n\n<p>See this question to understand <code>$1</code>: <a href=\"https://stackoverflow.com/q/1036285/4248931\">What does $1 mean in Perl?</a></p>\n"}, {"comments": [{"owner": {"reputation": 4514, "user_id": 4248931, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/HijcJ.png?s=128&g=1", "display_name": "serenesat", "link": "https://stackoverflow.com/users/4248931/serenesat"}, "edited": false, "score": 3, "creation_date": 1436275144, "post_id": 31269150, "comment_id": 50533887, "body": "<code>&amp;</code> do not use to capture anything. If you mean to write <code>and</code> then write <code>and</code>. There is special meaning of <a href=\"http://stackoverflow.com/a/8915304/4248931\">&amp;</a> in perl."}, {"owner": {"reputation": 53, "user_id": 4902466, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/SIioJ.jpg?s=128&g=1", "display_name": "Sant", "link": "https://stackoverflow.com/users/4902466/sant"}, "reply_to_user": {"reputation": 4514, "user_id": 4248931, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/HijcJ.png?s=128&g=1", "display_name": "serenesat", "link": "https://stackoverflow.com/users/4248931/serenesat"}, "edited": false, "score": 0, "creation_date": 1436609983, "post_id": 31269150, "comment_id": 50693762, "body": "there i missed $.   I mean that $&amp;"}], "tags": [], "owner": {"reputation": 53, "user_id": 4902466, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/SIioJ.jpg?s=128&g=1", "display_name": "Sant", "link": "https://stackoverflow.com/users/4902466/sant"}, "is_accepted": false, "score": 1, "last_activity_date": 1436638999, "last_edit_date": 1436638999, "creation_date": 1436273790, "answer_id": 31269150, "question_id": 31266572, "link": "https://stackoverflow.com/questions/31266572/perl-regular-expression-and-arguments/31269150#31269150", "title": "Perl regular expression and arguments", "body": "<p><code>$1</code>, <code>$2</code>, <code>$&amp;</code> etc will capture the value the last successful match.  </p>\n\n<p><code>\\S+</code> matches any and negates <code>\\s</code>(whitespace).</p>\n"}], "owner": {"reputation": 1422, "user_id": 2557854, "user_type": "registered", "accept_rate": 85, "profile_image": "https://www.gravatar.com/avatar/8ce7e2aeef8bef05414806fc18aae490?s=128&d=identicon&r=PG&f=1", "display_name": "maihabunash", "link": "https://stackoverflow.com/users/2557854/maihabunash"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 535, "favorite_count": 0, "accepted_answer_id": 31267057, "answer_count": 3, "score": 1, "last_activity_date": 1436638999, "creation_date": 1436266389, "last_edit_date": 1436614694, "question_id": 31266572, "link": "https://stackoverflow.com/questions/31266572/perl-regular-expression-and-arguments", "title": "Perl regular expression and arguments", "body": "<p>The following Perl example is part of long Perl script.</p>\n\n<p>This script takes the results from <code>ifconfig -a</code> and prints the IP address.</p>\n\n<p>Can someone explain how <code>$1</code> gets the IP address? </p>\n\n<p>And what the regular expression</p>\n\n<pre><code>$RESULTS =~ /addr:(\\S+)\\s+/\n</code></pre>\n\n<p>means?</p>\n\n<pre><code>  my $COMMAND = \"ifconfig -a | grep inet | grep -v 127.0.0.1 | head -1\";\n  my $RESULTS = `$COMMAND`;\n  chomp $RESULTS;\n  #          inet addr:106.13.4.9  Bcast:106.13.4.255  Mask:255.255.255.0\n  #          inet 106.13.4.9 netmask ffffff80 broadcast 106.13.4.127\n\n\nif ( $RESULTS =~ /addr:(\\S+)\\s+/ ) {\n    $IpAddress = $1;\n}\nelsif ( $RESULTS =~ /inet\\s+(\\S+)\\s+/ ) {\n    $IpAddress = $1;\n}\n\nprint \"IpAddress = $IpAddress\\n\";\n</code></pre>\n"}, {"tags": ["html", "mysql", "forms", "perl"], "answers": [{"comments": [{"owner": {"reputation": 3, "user_id": 5089047, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/17baf712e6e9ddbd06fd4d9f78cf3a3e?s=128&d=identicon&r=PG&f=1", "display_name": "moartuba", "link": "https://stackoverflow.com/users/5089047/moartuba"}, "edited": false, "score": 0, "creation_date": 1436269420, "post_id": 31267064, "comment_id": 50529790, "body": "My database insertion program works as in it hits the database and inserts that fixed data. Some my thinking is that if I can make global variables that are pulled from some html form, then I can insert them into that insertion program to alter the database."}, {"owner": {"reputation": 3, "user_id": 5089047, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/17baf712e6e9ddbd06fd4d9f78cf3a3e?s=128&d=identicon&r=PG&f=1", "display_name": "moartuba", "link": "https://stackoverflow.com/users/5089047/moartuba"}, "edited": false, "score": 0, "creation_date": 1436269675, "post_id": 31267064, "comment_id": 50529962, "body": "So, if i rewrite the database module, how would I go about using it for form submission from a webpage? The only reason I went to use CGI was because any sort of google search for html form input to perl program came up witht hat as the solution.   So, as a newbie to web development everyone is telling me that php sucks compared to Perl, but I can&#39;t seem to find any answers on things such as DBIx::Class or how to connect an html form to a perl script to insert the information into my database."}, {"owner": {"reputation": 3, "user_id": 5089047, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/17baf712e6e9ddbd06fd4d9f78cf3a3e?s=128&d=identicon&r=PG&f=1", "display_name": "moartuba", "link": "https://stackoverflow.com/users/5089047/moartuba"}, "edited": false, "score": 0, "creation_date": 1436269678, "post_id": 31267064, "comment_id": 50529964, "body": "So starting from there, since I apparently am 10 years behind, the basic idea is, I have a database of things such as articles, users, content, etc. I want an ability for users to submit these things through a common form that can then be displayed on the website."}, {"owner": {"reputation": 62184, "user_id": 7231, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/81b76985f3985e35492e25880493d045?s=128&d=identicon&r=PG", "display_name": "Dave Cross", "link": "https://stackoverflow.com/users/7231/dave-cross"}, "reply_to_user": {"reputation": 3, "user_id": 5089047, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/17baf712e6e9ddbd06fd4d9f78cf3a3e?s=128&d=identicon&r=PG&f=1", "display_name": "moartuba", "link": "https://stackoverflow.com/users/5089047/moartuba"}, "edited": false, "score": 0, "creation_date": 1436271343, "post_id": 31267064, "comment_id": 50531063, "body": "Your database insertion program works by accident. It only seems to work as it will always insert data into the first table listed in your &quot;if/elsif&#39;...&quot; block. Try setting <code>$tablename</code> to a value other than &quot;Article&quot; and see which of your <code>InsertFoo()</code> subroutines gets called."}, {"owner": {"reputation": 3, "user_id": 5089047, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/17baf712e6e9ddbd06fd4d9f78cf3a3e?s=128&d=identicon&r=PG&f=1", "display_name": "moartuba", "link": "https://stackoverflow.com/users/5089047/moartuba"}, "edited": false, "score": 0, "creation_date": 1436271818, "post_id": 31267064, "comment_id": 50531358, "body": "Okay so I changed the <code>my $tablename = &quot;Category&quot;;</code> and the if/elsif to using <code>eq</code> instead of <code>==</code> : <code>elsif ($tablename eq &quot;Category&quot;){$connection = InsertCategory($database);}</code>  Using that recommendation it went to the correct subroutine."}, {"owner": {"reputation": 62184, "user_id": 7231, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/81b76985f3985e35492e25880493d045?s=128&d=identicon&r=PG", "display_name": "Dave Cross", "link": "https://stackoverflow.com/users/7231/dave-cross"}, "reply_to_user": {"reputation": 3, "user_id": 5089047, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/17baf712e6e9ddbd06fd4d9f78cf3a3e?s=128&d=identicon&r=PG&f=1", "display_name": "moartuba", "link": "https://stackoverflow.com/users/5089047/moartuba"}, "edited": false, "score": 0, "creation_date": 1436272082, "post_id": 31267064, "comment_id": 50531539, "body": "Yep. That was the problem. Using <code>==</code>, Perl does a numeric comparison and under Perl&#39;s data conversion rules <code>&quot;Article&quot; == &quot;Category&quot;</code> (for example) is true - as both non-numeric strings get converted to 0."}, {"owner": {"reputation": 3, "user_id": 5089047, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/17baf712e6e9ddbd06fd4d9f78cf3a3e?s=128&d=identicon&r=PG&f=1", "display_name": "moartuba", "link": "https://stackoverflow.com/users/5089047/moartuba"}, "edited": false, "score": 0, "creation_date": 1436272181, "post_id": 31267064, "comment_id": 50531620, "body": "Oh okay, and should I be using Dancer2 instead of CGI? I looked into it, but it seems really complex to just get into. Is there any sort of beginner tutorials to get into it?"}, {"owner": {"reputation": 62184, "user_id": 7231, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/81b76985f3985e35492e25880493d045?s=128&d=identicon&r=PG", "display_name": "Dave Cross", "link": "https://stackoverflow.com/users/7231/dave-cross"}, "reply_to_user": {"reputation": 3, "user_id": 5089047, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/17baf712e6e9ddbd06fd4d9f78cf3a3e?s=128&d=identicon&r=PG&f=1", "display_name": "moartuba", "link": "https://stackoverflow.com/users/5089047/moartuba"}, "edited": false, "score": 1, "creation_date": 1436272277, "post_id": 31267064, "comment_id": 50531689, "body": "I agree that finding good reference material about modern Perl using Google is hard. Google seems rather swamped by the huge amounts of dodgy Perl material that was put on the web in the last millennium. You might want to read <a href=\"http://shop.oreilly.com/product/9781118013847.do\" rel=\"nofollow noreferrer\">Beginning Perl</a> or take a close look at the tutorials at <a href=\"http://perlmaven.com/\" rel=\"nofollow noreferrer\">Perl Maven</a>. I&#39;m also supposed to be writing a book about modern Perl web development - but it&#39;s slow progress :-/"}, {"owner": {"reputation": 62184, "user_id": 7231, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/81b76985f3985e35492e25880493d045?s=128&d=identicon&r=PG", "display_name": "Dave Cross", "link": "https://stackoverflow.com/users/7231/dave-cross"}, "reply_to_user": {"reputation": 3, "user_id": 5089047, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/17baf712e6e9ddbd06fd4d9f78cf3a3e?s=128&d=identicon&r=PG&f=1", "display_name": "moartuba", "link": "https://stackoverflow.com/users/5089047/moartuba"}, "edited": false, "score": 0, "creation_date": 1436272414, "post_id": 31267064, "comment_id": 50531786, "body": "There are some Dancer tutorials at <a href=\"http://perlmaven.com/dancer\" rel=\"nofollow noreferrer\">Perl Maven</a>. It&#39;s also worth taking a look through the <a href=\"http://advent.perldancer.org/2014\" rel=\"nofollow noreferrer\">Dancer Advent Calendar</a> articles."}, {"owner": {"reputation": 3, "user_id": 5089047, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/17baf712e6e9ddbd06fd4d9f78cf3a3e?s=128&d=identicon&r=PG&f=1", "display_name": "moartuba", "link": "https://stackoverflow.com/users/5089047/moartuba"}, "edited": false, "score": 0, "creation_date": 1436272501, "post_id": 31267064, "comment_id": 50531836, "body": "Okay, thanks, I&#39;ll close this question now as you have answered it!"}, {"owner": {"reputation": 50468, "user_id": 1331451, "user_type": "registered", "accept_rate": 96, "profile_image": "https://i.stack.imgur.com/4ZPmj.png?s=128&g=1", "display_name": "simbabque", "link": "https://stackoverflow.com/users/1331451/simbabque"}, "edited": false, "score": 1, "creation_date": 1436278339, "post_id": 31267064, "comment_id": 50536370, "body": "You can also go and talk to the Dancer people in #dancer on irc.perl.org. They are generally very friendly and helpful. The Dancer2::Manual is pretty good to get started."}], "tags": [], "owner": {"reputation": 62184, "user_id": 7231, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/81b76985f3985e35492e25880493d045?s=128&d=identicon&r=PG", "display_name": "Dave Cross", "link": "https://stackoverflow.com/users/7231/dave-cross"}, "is_accepted": true, "score": 3, "last_activity_date": 1436267751, "creation_date": 1436267751, "answer_id": 31267064, "question_id": 31266379, "link": "https://stackoverflow.com/questions/31266379/perl-passing-user-inputted-cgi-form-data-to-perl-program-to-be-then-put-into-m/31267064#31267064", "title": "Perl - passing user inputted cgi form data to perl program to be then put into mysql database", "body": "<p>So many suggestions...</p>\n\n<p>Firstly, your DB insertion program seems to just insert fixed data, so I'm not sure how you think that it works. Also, the <code>if ($tablename == \"Article\")</code> (and similar) line doesn't do what you want it to. You need to use <code>eq</code> instead of <code>==</code>.</p>\n\n<p>To answer the question that you asked - you need to change your database program so that it accepts input (probably command line arguments) containing the data that you want inserted into the database. You would then add to your CGI program a line that calls this program (probably using <code>system()</code>) passing it the data from the CGI parameters on the command line.</p>\n\n<p>The code would look something like this:</p>\n\n<pre><code>my $title   = $q-&gt;param('title');\nmy $content = $q-&gt;param('title');\n# ... other params ...\nsystem('db_script.pl', 'Article', $title, $content, ...)';\n</code></pre>\n\n<p>But please don't do that. That's a terrible idea.</p>\n\n<p>Instead, I highly recommend that you re-write your database manipulation program as a module. That way, you can load the module into any program that needs to talk to the database and access the database by calling functions rather than by calling an external program. If it was down to me, then I'd definitely use <a href=\"https://metacpan.org/pod/DBIx::Class\" rel=\"nofollow\">DBIx::Class</a> to produce this library - but I realise that might well be seen as rather advanced.</p>\n\n<p>Then there's the elephant in the room. You're still using CGI to write your web interface. The CGI module has been removed from the latest version of Perl as it is no longer considered best practice for writing web applications. I recommend looking at <a href=\"https://metacpan.org/pod/CGI::Alternatives\" rel=\"nofollow\">CGI::Alternatives</a> to find out about other, more modern, tools.</p>\n\n<p>But if you're determined to carry on writing your program as a CGI program, then at the very least, please don't use the HTML generation functions. We've known that including your HTML in your program source code is a terrible idea for at least fifteen years. There's no reason to still be doing it in 2015. You should really be using some kind of templating engine to separate your HTML from your Perl code. I recommend the <a href=\"https://metacpan.org/pod/Template\" rel=\"nofollow\">Template Toolkit</a>.</p>\n\n<p>I'm not sure where you are learning these techniques from, but your source seems to be a good ten years behind accepted best practice.</p>\n"}], "owner": {"reputation": 3, "user_id": 5089047, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/17baf712e6e9ddbd06fd4d9f78cf3a3e?s=128&d=identicon&r=PG&f=1", "display_name": "moartuba", "link": "https://stackoverflow.com/users/5089047/moartuba"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 667, "favorite_count": 0, "accepted_answer_id": 31267064, "answer_count": 1, "score": 0, "last_activity_date": 1436267751, "creation_date": 1436265818, "question_id": 31266379, "link": "https://stackoverflow.com/questions/31266379/perl-passing-user-inputted-cgi-form-data-to-perl-program-to-be-then-put-into-m", "title": "Perl - passing user inputted cgi form data to perl program to be then put into mysql database", "body": "<p>I've tried searching forums for a solution, however most of the answers were either too difficult to understand. SO I'm in the process of making a website for a small community, and currently we have our database and html design layout, but I'm getting snagged on how to push my Perl CGI form into another Perl program to then alter my database. </p>\n\n<p>Here is the Perl controller that alters the database tables (and it works):</p>\n\n<pre><code>#!/usr/bin/perl -w\n#!/usr/bin/perl -wT\n\n# DBI is the standard database interface for Perl\n# DBD is the Perl module that we use to connect to the &lt;a href=http://mysql.com/&gt;MySQL&lt;/a&gt; database\nuse DBI;\nuse DBD::mysql;\n\nuse warnings;\n\n#----------------------------------------------------------------------\n# open the accessDB file to retrieve the database name, host name, user name and password\nopen(ACCESS_INFO, \"accessDB.txt\") || die \"Can't access login credentials\";\n\n\n# assign the values in the accessDB file to the variables\nmy $database = &lt;ACCESS_INFO&gt;;\nmy $host = &lt;ACCESS_INFO&gt;;\nmy $userid = &lt;ACCESS_INFO&gt;;\nmy $passwd = &lt;ACCESS_INFO&gt;;\nmy $tablename = \"Article\";\n\n# the chomp() function will remove any newline character from the end of a string\nchomp ($database, $host, $userid, $passwd);\n\n# close the accessDB file\nclose(ACCESS_INFO);\n#----------------------------------------------------------------------\n\n# invoke the ConnectToMySQL sub-routine to make the database connection\n$connection = ConnectToMySql($database);\n\nif ($tablename == \"Article\"){\n    $connection = InsertArticle($database);\n}\n\nelsif ($tablename == \"Category\"){\n    $connection = InsertCategory($database);\n\n}\nelsif ($tablename == \"Comment\"){\n    $connection = InsertComment($database);\n\n}\nelsif ($tablename == \"User\"){\n    $connection = InsertUser($database);\n\n}\nelse {\n    print \"No such table found. Contact website administrator.\\n\"\n\n}\nsub InsertArticle{\n\n$query = \"insert into $tablename (Id, CategoryId, UserId, Title, Content) values(?, ?, ?, ?, ?)\";\n\n$statement = $connection-&gt;prepare($query);\n\n\n$statement-&gt;execute('undef', '1', '1029', 'Dota2&gt;League', 'textfromarticle');\n}\nsub InsertCategory{\n\n$query = \"insert into $tablename (Id, CategoryId, UserId, Title, Content) values(?, ?, ?, ?, ?)\";\n\n$statement = $connection-&gt;prepare($query);\n\n\n$statement-&gt;execute('undef', '1', '1029', 'Dota2&gt;League', 'textfromarticle');\n}\nsub InsertComment{\n\n$query = \"insert into $tablename (Id, CategoryId, UserId, Title, Content) values(?, ?, ?, ?, ?)\";\n\n$statement = $connection-&gt;prepare($query);\n\n\n$statement-&gt;execute('undef', '1', '1029', 'Dota2&gt;League', 'textfromarticle');\n}\nsub InsertUser{\n\n$query = \"insert into $tablename (Id, CategoryId, UserId, Title, Content) values(?, ?, ?, ?, ?)\";\n\n$statement = $connection-&gt;prepare($query);\n\n\n$statement-&gt;execute('undef', '1', '1029', 'Dota2&gt;League', 'textfromarticle');\n}\n\nexit;\n\n#--- start sub-routine ------------------------------------------------\nsub ConnectToMySql {\n#----------------------------------------------------------------------\n\nmy ($db) = @_;\n\n# assign the values to your connection variable\nmy $connectionInfo=\"dbi:mysql:$db;$host\";\n\n# make connection to database\nmy $l_connection = DBI-&gt;connect($connectionInfo,$userid,$passwd);\n\n# the value of this connection is returned by the sub-routine\nreturn $l_connection;\n\n}\n\n#--- end sub-routine --------------------------------------------------\n</code></pre>\n\n<p>In the future, I'll define the other tables in my database through global variables that depend on what button the user presses on the correct webpage. As in, if they're viewing a list of articles, an option at the top would be \"submit an article\". And from there, the form CGI would be sent to them that they can fill out.</p>\n\n<p>And here is the CGI that makes the form that would be submitted to the above controller script to alter the table:</p>\n\n<pre><code>#!/usr/bin/perl\n#!/usr/bin/perl -wT\n    use strict;\n    use warnings;\n    use CGI;\n    use CGI::Carp qw(fatalsToBrowser); #remove this in production\n\n my $q = new CGI;\n print $q-&gt;header;                                                  #Content-Type: text/html; charset=ISO-8859-1\n print $q-&gt;start_html(\n    -title =&gt; 'submit an Article',                                  #page name\n    -style =&gt; {'src' =&gt; '/dmrwebsite/dmrwebsite/userinterface'},    #link to style sheet\n    );\nprint $q-&gt;start_form(\n    -name =&gt; 'submitting an Article',\n    -method =&gt; 'POST',\n    enctype =&gt; &amp;CGI::URL_ENCODED,\n    -onsubmit =&gt; 'return true',\n    -action =&gt; '/dmrwebsite/dmrwebsite/controller.addtotable.pl',\n);\nprint $q-.textfield(\n    -name =&gt; 'title',\n    -value =&gt; 'default value',\n    -required,\n    -size =&gt; 20,\n    -maxlength =&gt;50,\n);\nprint $q-&gt;textarea(\n    -name =&gt; 'content',\n    -value =&gt; 'default value',\n    -required,\n    -maxlength =&gt; 1000,\n    -cols =&gt; 60,\n);\nprint $q-&gt;textarea(\n    -name =&gt; 'url',\n    -value =&gt; 'default value',\n    maxlength =&gt; 100,\n    cols =&gt;60,\n);\nprint $q-checkbox(\n    -name =&gt; 'humancheck',\n    -checked =&gt; 1,\n    -value =&gt; 'two',\n    -label =&gt; 'The number two',\n);\nprint $q-submit(\n    -name =&gt; 'submit_Article',\n    -value =&gt; 'submit Article',\n    -onsumbit =&gt; 'javascript: validate_form()',\n);\nif ($q-&gt;param()) {\n    submit_form($q);\n} else {\n    print \"Please check your form for inaccuracies.\";\n}\nsub submit_form($){\n    my ($q) = @_;\n\n\n}\nprint $q-&gt;end_form; #ends the form html\nprint $q-&gt;end_html; #end the html document\n</code></pre>\n\n<p>So basically what I'm stuck at is understand how to send the form data to the perl script in which I can then define the table data in <code>my $tablename = \"Article\";</code> and <code>$statement-&gt;execute('undef', '1', '1029', 'Dota2&gt;League', 'textfromarticle');</code>.</p>\n\n<p>Also, I don't have a javascript program to send to the parameter <code>-onsubmit =&gt; javaapplication(),</code>. Is that needed? Can I substitute my own Perl program to check the user inputted fields? And how would I call this function? IN the same file or can it just be in the parent directory like /website/perlchecker.pl?</p>\n\n<p>Any help would be greatly appreciated as I'm only a couple days into using Perl let alone CGI and html. Got a couple people helping me on the front end of the website though.</p>\n\n<p>Thanks,\n-Ori</p>\n"}, {"tags": ["perl", "wget"], "answers": [{"comments": [{"owner": {"reputation": 5, "user_id": 979960, "user_type": "registered", "accept_rate": 33, "profile_image": "https://www.gravatar.com/avatar/e19db91e0fc611ecc5f49bdbc5b716ed?s=128&d=identicon&r=PG", "display_name": "ostapv", "link": "https://stackoverflow.com/users/979960/ostapv"}, "edited": false, "score": 0, "creation_date": 1436265615, "post_id": 31266112, "comment_id": 50527315, "body": "Thanks a lot for the answer.  Any idea how check content automatically with perl ?"}, {"owner": {"reputation": 52300, "user_id": 192373, "user_type": "registered", "accept_rate": 74, "profile_image": "https://www.gravatar.com/avatar/83a45711c4c32eeeb3826d279e50f8ab?s=128&d=identicon&r=PG", "display_name": "Alex Cohn", "link": "https://stackoverflow.com/users/192373/alex-cohn"}, "edited": false, "score": 0, "creation_date": 1600951610, "post_id": 31266112, "comment_id": 113255573, "body": "The whole idea is to protect the content from automated retrieval. You can try to work around the WAF, but eventually it will be updated to detect your tricks and block it."}], "tags": [], "owner": {"reputation": 51521, "user_id": 2566198, "user_type": "registered", "accept_rate": 67, "profile_image": "https://i.stack.imgur.com/Y34ZA.jpg?s=128&g=1", "display_name": "Sobrique", "link": "https://stackoverflow.com/users/2566198/sobrique"}, "is_accepted": true, "score": 4, "last_activity_date": 1436266436, "last_edit_date": 1495541646, "creation_date": 1436265080, "answer_id": 31266112, "question_id": 31266006, "link": "https://stackoverflow.com/questions/31266006/unexpected-result-from-wget/31266112#31266112", "title": "Unexpected result from wget", "body": "<p>it's a bot detection script. It runs the script in there to untangle what you downloaded and verify you're using a (javascript aware) browser rather than e.g. LWP. </p>\n\n<p>It's fairly common, especially for sites that you can 'play' via automation scripts more efficiently than you'd be able to in person. </p>\n\n<p>Trick is if you 'run' the javascript, you probably get something that either renders the page, or redirects you to one, or sets a cookie or something similar. This means that the basic (WGET/LWP/WWW::Mechanize) based tools don't work. </p>\n\n<p>See:</p>\n\n<p><a href=\"https://stackoverflow.com/questions/28139457/unexpected-result-from-php-request\">Unexpected result from PHP request</a></p>\n\n<p>For some further details on how this might work. This <em>particular</em> javascript appears  to set a cookie called <code>rbzid</code> which you may able to retrieve from your browser and then re-use within your script. </p>\n"}], "owner": {"reputation": 5, "user_id": 979960, "user_type": "registered", "accept_rate": 33, "profile_image": "https://www.gravatar.com/avatar/e19db91e0fc611ecc5f49bdbc5b716ed?s=128&d=identicon&r=PG", "display_name": "ostapv", "link": "https://stackoverflow.com/users/979960/ostapv"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 378, "favorite_count": 1, "accepted_answer_id": 31266112, "answer_count": 1, "score": 0, "last_activity_date": 1436266436, "creation_date": 1436264797, "question_id": 31266006, "link": "https://stackoverflow.com/questions/31266006/unexpected-result-from-wget", "title": "Unexpected result from wget", "body": "<p>I received strange result from URL:\n<a href=\"http://banner.prestigecasino.com/download/casino/client_update_urls.php\" rel=\"nofollow\">http://banner.prestigecasino.com/download/casino/client_update_urls.php</a></p>\n\n<p>If I use a browser - I get a result.</p>\n\n<p>If I use perl <em>LWP::UserAgent</em> or <em>wget</em> - I get a strange output.</p>\n\n<blockquote>\n<pre><code>wget http://banner.prestigecasino.com/download/casino/client_update_urls.php\n</code></pre>\n</blockquote>\n\n<pre><code>&lt;html&gt;&lt;head&gt;&lt;meta charset=\"utf-8\"&gt;&lt;/head&gt;&lt;body&gt;&lt;script src=\"//d1a702rd0dylue.cloudfront.net/js/iealml-10-1/10800.js\"&gt;&lt;/script&gt;&lt;script&gt;window.rbzns = \n{}; rbzns.challdomain=\".prestigecasino.com\"; rbzns.ctrbg=\"wGc4uoPOw9Z43y/mCXjboruSCfOcUOcHsILlHf2shF+Z1ygLZnvECWQy1JIbHMvSkIFkkQq7CKSrHCO3soSA9AM6dCX\nSwL4Dot2zXoNeKndXwgSeBfFTc/ACeunbVu2nBbvQeR1+cNZBVwqjExNn8C5+uj0gk7vCm6h6GaiWgJI=\";rbzns.rbzreqid=\"ovh-whg-reblazer531343336323632393134a750dc75b5199\n690\"; winsocks(true);&lt;/script&gt;&lt;/body&gt;&lt;/html&gt;\n</code></pre>\n"}, {"tags": ["perl", "trim", "chomp"], "comments": [{"owner": {"reputation": 30739, "user_id": 1804599, "user_type": "registered", "accept_rate": 84, "profile_image": "https://i.stack.imgur.com/v91P3.jpg?s=128&g=1", "display_name": "rightfold", "link": "https://stackoverflow.com/users/1804599/rightfold"}, "edited": false, "score": 8, "creation_date": 1436255900, "post_id": 31262739, "comment_id": 50521088, "body": "There is no trim function in Perl. Which module are you talking about?"}], "answers": [{"comments": [{"owner": {"reputation": 3327, "user_id": 1604311, "user_type": "registered", "accept_rate": 73, "profile_image": "https://i.stack.imgur.com/0frKT.jpg?s=128&g=1", "display_name": "Arunesh Singh", "link": "https://stackoverflow.com/users/1604311/arunesh-singh"}, "edited": false, "score": 6, "creation_date": 1436255887, "post_id": 31262852, "comment_id": 50521080, "body": "trim is not in core module it is in <a href=\"https://metacpan.org/pod/String::Util\" rel=\"nofollow noreferrer\">String::Util</a>"}], "tags": [], "owner": {"reputation": 531, "user_id": 159060, "user_type": "registered", "accept_rate": 12, "profile_image": "https://www.gravatar.com/avatar/50bb5bce658841caf5251982493c0933?s=128&d=identicon&r=PG", "display_name": "Muhammad Soliman", "link": "https://stackoverflow.com/users/159060/muhammad-soliman"}, "is_accepted": false, "score": 1, "last_activity_date": 1436255764, "creation_date": 1436255764, "answer_id": 31262852, "question_id": 31262739, "link": "https://stackoverflow.com/questions/31262739/difference-between-chomp-and-trim-in-perl/31262852#31262852", "title": "Difference between chomp and trim in Perl?", "body": "<p>trim removes both leading and trailing whitespaces, chomp removes only trailing input record separator (usually new line character). </p>\n"}, {"comments": [{"owner": {"reputation": 1001, "user_id": 3156898, "user_type": "registered", "accept_rate": 70, "profile_image": "https://www.gravatar.com/avatar/53b9baf7830447e6294326a609b8e688?s=128&d=identicon&r=PG&f=1", "display_name": "thonnor", "link": "https://stackoverflow.com/users/3156898/thonnor"}, "edited": false, "score": 0, "creation_date": 1436260311, "post_id": 31263927, "comment_id": 50523804, "body": "Haha I wrote something almost exactly like this a few years ago to trim leading/trailing whitespace. For completeness I also put a <code>chomp $string;</code> near the top too :)"}, {"owner": {"reputation": 62184, "user_id": 7231, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/81b76985f3985e35492e25880493d045?s=128&d=identicon&r=PG", "display_name": "Dave Cross", "link": "https://stackoverflow.com/users/7231/dave-cross"}, "edited": false, "score": 6, "creation_date": 1436261427, "post_id": 31263927, "comment_id": 50524506, "body": "Pedantically, <code>chomp</code> doesn&#39;t remove a newline, it removes the current value of <code>$&#47;</code> (which is usually a newline)."}], "tags": [], "owner": {"reputation": 65, "user_id": 4894585, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/6eccc0f3f16d095977d35aeee0c6818a?s=128&d=identicon&r=PG&f=1", "display_name": "QASource", "link": "https://stackoverflow.com/users/4894585/qasource"}, "is_accepted": false, "score": -1, "last_activity_date": 1436259739, "last_edit_date": 1436259739, "creation_date": 1436259027, "answer_id": 31263927, "question_id": 31262739, "link": "https://stackoverflow.com/questions/31262739/difference-between-chomp-and-trim-in-perl/31263927#31263927", "title": "Difference between chomp and trim in Perl?", "body": "<p>Chomp: It only removes the last character, if it is a newline. </p>\n\n<p>More details can be found at: <a href=\"http://perldoc.perl.org/functions/chomp.html\" rel=\"nofollow\">http://perldoc.perl.org/functions/chomp.html</a></p>\n\n<p>Trim: There is no function called Trim in Perl. Although, we can create our function to remove the leading and trailing spaces in Perl. Code can be as follows:</p>\n\n<p><strong>perl trim function - remove leading and trailing whitespace</strong></p>\n\n<pre><code>sub trim($)\n{\n  my $string = shift;\n  $string =~ s/^\\s+//;\n  $string =~ s/\\s+$//;\n  return $string;\n}\n</code></pre>\n\n<p>More details can be found at :<a href=\"http://perlmaven.com/trim\" rel=\"nofollow\">http://perlmaven.com/trim</a></p>\n"}, {"tags": [], "owner": {"reputation": 4514, "user_id": 4248931, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/HijcJ.png?s=128&g=1", "display_name": "serenesat", "link": "https://stackoverflow.com/users/4248931/serenesat"}, "is_accepted": false, "score": 4, "last_activity_date": 1436260606, "creation_date": 1436260606, "answer_id": 31264491, "question_id": 31262739, "link": "https://stackoverflow.com/questions/31262739/difference-between-chomp-and-trim-in-perl/31264491#31264491", "title": "Difference between chomp and trim in Perl?", "body": "<p><strong>Chomp:</strong> The <code>chomp()</code> function will remove (usually) any newline character from the end of a string. The reason we say usually is that it actually removes any character that matches the current value of <code>$/</code> (the input record separator), and <code>$/</code> defaults to a newline.<br>\nFor more information see <a href=\"http://perldoc.perl.org/functions/chomp.html\" rel=\"nofollow\">chomp</a>.</p>\n\n<p>As <em>rightfold</em> has commented <em>There is no trim function in Perl.</em> Generally people write a function with name <em>trim</em> (you can use any other name also) to remove leading and trailing white spaces (or single or double quotes or any other special character)</p>\n\n<p><strong>trim</strong> remove white space from both ends of a string:</p>\n\n<pre><code>$str =~ s/^\\s+|\\s+$//g;\n</code></pre>\n"}], "owner": {"reputation": 53, "user_id": 4968122, "user_type": "registered", "accept_rate": 80, "profile_image": "https://www.gravatar.com/avatar/d6c8c0186c3b5100bc85b4dab793b28e?s=128&d=identicon&r=PG&f=1", "display_name": "Sam 333", "link": "https://stackoverflow.com/users/4968122/sam-333"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 5275, "favorite_count": 0, "answer_count": 3, "score": -2, "last_activity_date": 1436260823, "creation_date": 1436255379, "last_edit_date": 1436260823, "question_id": 31262739, "link": "https://stackoverflow.com/questions/31262739/difference-between-chomp-and-trim-in-perl", "title": "Difference between chomp and trim in Perl?", "body": "<p>What is the difference between <code>chomp</code> and <code>trim</code> in Perl? Which one is better to use and when?</p>\n"}, {"tags": ["perl", "automator"], "comments": [{"owner": {"reputation": 144799, "user_id": 2836621, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/suHg4.jpg?s=128&g=1", "display_name": "Mark Setchell", "link": "https://stackoverflow.com/users/2836621/mark-setchell"}, "edited": false, "score": 1, "creation_date": 1436257221, "post_id": 31262316, "comment_id": 50521782, "body": "Can you give a working sample?"}, {"owner": {"reputation": 52821, "user_id": 632407, "user_type": "registered", "accept_rate": 86, "profile_image": "https://i.stack.imgur.com/AfGWW.jpg?s=128&g=1", "display_name": "jm666", "link": "https://stackoverflow.com/users/632407/jm666"}, "edited": false, "score": 1, "creation_date": 1436369433, "post_id": 31262316, "comment_id": 50585027, "body": "Not really understand the close votes. This is an valid question. Vote to close, only because someone knows nothing about the Automator is pity. Anyway, editing the question - and adding an example."}, {"owner": {"reputation": 123805, "user_id": 622310, "user_type": "registered", "accept_rate": 33, "profile_image": "https://www.gravatar.com/avatar/8b6d35219e1808520bc238b28161e2e6?s=128&d=identicon&r=PG", "display_name": "Borodin", "link": "https://stackoverflow.com/users/622310/borodin"}, "edited": false, "score": 0, "creation_date": 1436370613, "post_id": 31262316, "comment_id": 50585859, "body": "perl does the equivalent of <code>open DATA, &#39;&lt;&#39;, $0</code> and <code>seek DATA, $data_start, 0</code> when your program starts. I have no idea what <i>Automator</i> has done to this, but you could try writing <code>seek DATA, 0, 0; print while &lt;DATA&gt;;</code> and see if you get your source code output. It&#39;s also worth adding <code>CHECK {print tell(DATA), &quot;\\n&quot;; }</code> and checking whether the output is the same with and without Automator"}], "answers": [{"comments": [{"owner": {"reputation": 144799, "user_id": 2836621, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/suHg4.jpg?s=128&g=1", "display_name": "Mark Setchell", "link": "https://stackoverflow.com/users/2836621/mark-setchell"}, "edited": false, "score": 0, "creation_date": 1436371629, "post_id": 31297837, "comment_id": 50586532, "body": "Nice sleuthing - how did you determine that?"}, {"owner": {"reputation": 52821, "user_id": 632407, "user_type": "registered", "accept_rate": 86, "profile_image": "https://i.stack.imgur.com/AfGWW.jpg?s=128&g=1", "display_name": "jm666", "link": "https://stackoverflow.com/users/632407/jm666"}, "reply_to_user": {"reputation": 144799, "user_id": 2836621, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/suHg4.jpg?s=128&g=1", "display_name": "Mark Setchell", "link": "https://stackoverflow.com/users/2836621/mark-setchell"}, "edited": false, "score": 0, "creation_date": 1436372413, "post_id": 31297837, "comment_id": 50587008, "body": "@MarkSetchell used not very correct method, (see the edit) but helped... :)"}], "tags": [], "owner": {"reputation": 52821, "user_id": 632407, "user_type": "registered", "accept_rate": 86, "profile_image": "https://i.stack.imgur.com/AfGWW.jpg?s=128&g=1", "display_name": "jm666", "link": "https://stackoverflow.com/users/632407/jm666"}, "is_accepted": true, "score": 1, "last_activity_date": 1436373031, "last_edit_date": 1436373031, "creation_date": 1436371114, "answer_id": 31297837, "question_id": 31262316, "link": "https://stackoverflow.com/questions/31262316/can-i-access-data-section-in-mac-os-x-automator/31297837#31297837", "title": "Can I access __DATA__ section in mac os x automator", "body": "<p>The <code>Automator.app</code> runs your script as</p>\n\n<pre><code>/usr/bin/perl -e 'your script here' --\n</code></pre>\n\n<p>therefore the <code>__DATA__</code> handle doesn't works.</p>\n\n<hr>\n\n<p><strong>EDIT</strong> how to determined</p>\n\n<ul>\n<li>the Automator.app runs by definition <code>/usr/bin/perl</code>, so:</li>\n<li>renamed the <code>/usr/bin/perl</code> to <code>/usr/bin/perl_ORIG</code></li>\n<li>added another perl script in its place (other perl), + <code>chmod 755</code></li>\n</ul>\n\n\n\n<pre><code>#!/opt/local/bin/perl\nuse strict;\nuse warnings;\n\nmy $n = 0;\nprint \"$0\\n\";\nfor my $arg (@ARGV) {\n        print \"$n:[$arg]\\n\";\n        $n++;\n}\n</code></pre>\n\n<ul>\n<li>runs the original script in the Automator</li>\n<li>on the output the fake \"perl\" shows exactly all arguments up to <code>--</code></li>\n</ul>\n\n<p>Not very nice (nor correct) - but helped to discover how the Automator runs the scripts, e.g. it uses the <code>-e</code> (lowercase), <code>script content</code> + <code>--</code>.</p>\n\n<p>Also, the <code>tell DATA</code> returns <code>0</code> in the Automator, in the normal script it return the real position in the file. (see Borodin's comment)</p>\n"}], "owner": {"reputation": 3574, "user_id": 676192, "user_type": "registered", "accept_rate": 72, "profile_image": "https://www.gravatar.com/avatar/fcef8c55deae46cc0bfe986b2c189f70?s=128&d=identicon&r=PG", "display_name": "simone", "link": "https://stackoverflow.com/users/676192/simone"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 84, "favorite_count": 1, "accepted_answer_id": 31297837, "answer_count": 1, "score": 3, "last_activity_date": 1436373031, "creation_date": 1436254000, "last_edit_date": 1436369456, "question_id": 31262316, "link": "https://stackoverflow.com/questions/31262316/can-i-access-data-section-in-mac-os-x-automator", "title": "Can I access __DATA__ section in mac os x automator", "body": "<p>I am trying to use the <code>__DATA__</code> section in a perl script that's run inside automator.</p>\n\n<p>When run as a shell script everything's fine, but inside automator the data section looks like it's empty.</p>\n\n<p>Any idea as to why, and a better workaround than having a gigantic \"here\" file?</p>\n\n<h1>EDIT</h1>\n\n<p>example script</p>\n\n<pre><code>use strict;\nuse warnings;\nwhile(&lt;DATA&gt;){\n    print $_;\n}\n__DATA__\nline1\nline2\nline3\n</code></pre>\n"}, {"tags": ["multithreading", "perl"], "comments": [{"owner": {"reputation": 48798, "user_id": 223226, "user_type": "registered", "accept_rate": 93, "profile_image": "https://i.stack.imgur.com/iGqE4.png?s=128&g=1", "display_name": "mpapec", "link": "https://stackoverflow.com/users/223226/mpapec"}, "edited": false, "score": 0, "creation_date": 1436253079, "post_id": 31261778, "comment_id": 50519436, "body": "Check your IO performance first (slow disk?)"}, {"owner": {"reputation": 486, "user_id": 4115884, "user_type": "registered", "accept_rate": 83, "profile_image": "https://i.stack.imgur.com/zbzXF.jpg?s=128&g=1", "display_name": "yoko", "link": "https://stackoverflow.com/users/4115884/yoko"}, "reply_to_user": {"reputation": 48798, "user_id": 223226, "user_type": "registered", "accept_rate": 93, "profile_image": "https://i.stack.imgur.com/iGqE4.png?s=128&g=1", "display_name": "mpapec", "link": "https://stackoverflow.com/users/223226/mpapec"}, "edited": false, "score": 0, "creation_date": 1436253751, "post_id": 31261778, "comment_id": 50519851, "body": "just checked it again with <code>sar</code> , and %iowait is 0.22, so that shouldn&#39;t be the problem"}, {"owner": {"reputation": 48798, "user_id": 223226, "user_type": "registered", "accept_rate": 93, "profile_image": "https://i.stack.imgur.com/iGqE4.png?s=128&g=1", "display_name": "mpapec", "link": "https://stackoverflow.com/users/223226/mpapec"}, "edited": false, "score": 0, "creation_date": 1436256734, "post_id": 31261778, "comment_id": 50521508, "body": "You can take a look at <a href=\"https://metacpan.org/pod/MCE\" rel=\"nofollow noreferrer\">metacpan.org/pod/MCE</a> Btw, how did you check how many cores are in use by perl?"}, {"owner": {"reputation": 113221, "user_id": 100754, "user_type": "registered", "accept_rate": 90, "profile_image": "https://www.gravatar.com/avatar/7804ebae32fbadef38537d74a915c22f?s=128&d=identicon&r=PG", "display_name": "Sinan &#220;n&#252;r", "link": "https://stackoverflow.com/users/100754/sinan-%c3%9cn%c3%bcr"}, "reply_to_user": {"reputation": 48798, "user_id": 223226, "user_type": "registered", "accept_rate": 93, "profile_image": "https://i.stack.imgur.com/iGqE4.png?s=128&g=1", "display_name": "mpapec", "link": "https://stackoverflow.com/users/223226/mpapec"}, "edited": false, "score": 0, "creation_date": 1436267409, "post_id": 31261778, "comment_id": 50528450, "body": "@\u0421\u0443\u0445\u043e\u043927 Related: <a href=\"http://www.nu42.com/2012/04/can-parallelforkmanager-speed-up.html\" rel=\"nofollow noreferrer\">Can Parallel::ForkManager speed up a seemingly IO bound task?</a>. With disk caches, it is sometimes possible to gain a speed advantage this way. Perl&#39;s threads may not be the best way to take advantage of extra cores, but I don&#39;t have time to test it. However, it is not too difficult to check with <a href=\"https://metacpan.org/pod/Parallel::ForkManager\" rel=\"nofollow noreferrer\">Parallel::ForkManager</a> if process level parallelism yields better results."}, {"owner": {"reputation": 48798, "user_id": 223226, "user_type": "registered", "accept_rate": 93, "profile_image": "https://i.stack.imgur.com/iGqE4.png?s=128&g=1", "display_name": "mpapec", "link": "https://stackoverflow.com/users/223226/mpapec"}, "reply_to_user": {"reputation": 113221, "user_id": 100754, "user_type": "registered", "accept_rate": 90, "profile_image": "https://www.gravatar.com/avatar/7804ebae32fbadef38537d74a915c22f?s=128&d=identicon&r=PG", "display_name": "Sinan &#220;n&#252;r", "link": "https://stackoverflow.com/users/100754/sinan-%c3%9cn%c3%bcr"}, "edited": false, "score": 0, "creation_date": 1436268177, "post_id": 31261778, "comment_id": 50528978, "body": "@Sinan&#220;n&#252;r That&#39;s why I&#39;ve suggested to check IO. Btw OP wants to read and modify files, and if I&#39;m not mistaken your example only read the files."}, {"owner": {"reputation": 51521, "user_id": 2566198, "user_type": "registered", "accept_rate": 67, "profile_image": "https://i.stack.imgur.com/Y34ZA.jpg?s=128&g=1", "display_name": "Sobrique", "link": "https://stackoverflow.com/users/2566198/sobrique"}, "edited": false, "score": 3, "creation_date": 1436275410, "post_id": 31261778, "comment_id": 50534090, "body": "I don&#39;t <i>think</i> you can set core affinity with threads. But I&#39;m also not really sure it&#39;ll help much. OS schedulers are pretty good, and you&#39;ll probably accomplish about as much with <code>renice</code>. I would suggest though that looking at what you&#39;re doing with the subroutines might yield better fruit. (Like, it looks like you&#39;re passing symbolic references around, and that makes me a little twitchy)"}, {"owner": {"reputation": 486, "user_id": 4115884, "user_type": "registered", "accept_rate": 83, "profile_image": "https://i.stack.imgur.com/zbzXF.jpg?s=128&g=1", "display_name": "yoko", "link": "https://stackoverflow.com/users/4115884/yoko"}, "reply_to_user": {"reputation": 51521, "user_id": 2566198, "user_type": "registered", "accept_rate": 67, "profile_image": "https://i.stack.imgur.com/Y34ZA.jpg?s=128&g=1", "display_name": "Sobrique", "link": "https://stackoverflow.com/users/2566198/sobrique"}, "edited": false, "score": 0, "creation_date": 1436419152, "post_id": 31261778, "comment_id": 50606146, "body": "@Sobrique I have already checked most of the subroutines and there is not much left to optimize beside getting better performance by the threads"}, {"owner": {"reputation": 51521, "user_id": 2566198, "user_type": "registered", "accept_rate": 67, "profile_image": "https://i.stack.imgur.com/Y34ZA.jpg?s=128&g=1", "display_name": "Sobrique", "link": "https://stackoverflow.com/users/2566198/sobrique"}, "edited": false, "score": 0, "creation_date": 1436423833, "post_id": 31261778, "comment_id": 50608209, "body": "Have you run it through a profiler yet?  That.way you could see where you are spending your runtime."}, {"owner": {"reputation": 486, "user_id": 4115884, "user_type": "registered", "accept_rate": 83, "profile_image": "https://i.stack.imgur.com/zbzXF.jpg?s=128&g=1", "display_name": "yoko", "link": "https://stackoverflow.com/users/4115884/yoko"}, "reply_to_user": {"reputation": 51521, "user_id": 2566198, "user_type": "registered", "accept_rate": 67, "profile_image": "https://i.stack.imgur.com/Y34ZA.jpg?s=128&g=1", "display_name": "Sobrique", "link": "https://stackoverflow.com/users/2566198/sobrique"}, "edited": false, "score": 0, "creation_date": 1436428380, "post_id": 31261778, "comment_id": 50610933, "body": "@Sobrique Yes, most time is spend at processing the lines, but there are no options to shorten it. it takes about half a second to process one line, but there are several thousand lines per file."}, {"owner": {"reputation": 51521, "user_id": 2566198, "user_type": "registered", "accept_rate": 67, "profile_image": "https://i.stack.imgur.com/Y34ZA.jpg?s=128&g=1", "display_name": "Sobrique", "link": "https://stackoverflow.com/users/2566198/sobrique"}, "edited": false, "score": 0, "creation_date": 1436430504, "post_id": 31261778, "comment_id": 50612337, "body": "Half a second per line sounds like a lot. <i>shrug</i>. You can probably fork and set affinity, but I don&#39;t honestly think context switches will be slowing you down significantly."}], "answers": [{"comments": [{"owner": {"reputation": 486, "user_id": 4115884, "user_type": "registered", "accept_rate": 83, "profile_image": "https://i.stack.imgur.com/zbzXF.jpg?s=128&g=1", "display_name": "yoko", "link": "https://stackoverflow.com/users/4115884/yoko"}, "edited": false, "score": 0, "creation_date": 1441601801, "post_id": 32430627, "comment_id": 52727574, "body": "The limitation of current tasks is done by the lower for-loop. There I start a maximum of 8 threads. What i wanted to archieve is Thread 1 -&gt; Core 1, Thread 2-&gt; Core 2 and so on."}, {"owner": {"reputation": 154, "user_id": 1610511, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/8dad3f964c9fb2be8bb7f2f2d2cef4dd?s=128&d=identicon&r=PG", "display_name": "Edward Kirton", "link": "https://stackoverflow.com/users/1610511/edward-kirton"}, "reply_to_user": {"reputation": 486, "user_id": 4115884, "user_type": "registered", "accept_rate": 83, "profile_image": "https://i.stack.imgur.com/zbzXF.jpg?s=128&g=1", "display_name": "yoko", "link": "https://stackoverflow.com/users/4115884/yoko"}, "edited": false, "score": 0, "creation_date": 1441755098, "post_id": 32430627, "comment_id": 52799359, "body": "I don&#39;t think that&#39;s possible.  Such would be managed by the OS and I have never heard of such low-level control in any language."}], "tags": [], "owner": {"reputation": 154, "user_id": 1610511, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/8dad3f964c9fb2be8bb7f2f2d2cef4dd?s=128&d=identicon&r=PG", "display_name": "Edward Kirton", "link": "https://stackoverflow.com/users/1610511/edward-kirton"}, "is_accepted": false, "score": 0, "last_activity_date": 1441596019, "creation_date": 1441596019, "answer_id": 32430627, "question_id": 31261778, "link": "https://stackoverflow.com/questions/31261778/address-certain-core-for-threads-in-perl/32430627#32430627", "title": "Address certain core for threads in Perl", "body": "<p>I'd use Parallel::ForkManager for something like this; it works great.  I'd recommend not brewing your own when an accepted standard solution exists.  By \"address certain core\", I take it to mean your purpose is to limit the number of concurrent tasks to the number of available processors and ForkManager will do this for you -- just set the max number of processes when you initialize your ForkManager object.</p>\n\n<p>The commenters above were absolutely correct to point out that I/O will eventually limit your throughput, but it's easy enough to determine when adding more processes fails to speed things up.</p>\n"}], "owner": {"reputation": 486, "user_id": 4115884, "user_type": "registered", "accept_rate": 83, "profile_image": "https://i.stack.imgur.com/zbzXF.jpg?s=128&g=1", "display_name": "yoko", "link": "https://stackoverflow.com/users/4115884/yoko"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 95, "favorite_count": 1, "answer_count": 1, "score": 2, "last_activity_date": 1441596019, "creation_date": 1436252216, "last_edit_date": 1436252691, "question_id": 31261778, "link": "https://stackoverflow.com/questions/31261778/address-certain-core-for-threads-in-perl", "title": "Address certain core for threads in Perl", "body": "<p>I have a list of 40 files, which I want to modify through my script.\nSince every file processed in the same way, I want to use Threads to speed it up.\nTherefore I have this construct :</p>\n\n<pre><code>my $threads_ = sub \n{\n     while (defined(my $taskRef = $q-&gt;dequeue())) \n     {                \n         my $work= shift(@{$workRef});\n         &amp;{\\&amp;{$work}}(@{$workRef});\n         my $open= $q-&gt;open() - 1;\n     }\n};\n\nmy @Working;\nfor( my $i = 1; $i &lt; 8; $i++)\n{\n     push @Working, threads-&gt;new($threads_);\n}\n</code></pre>\n\n<p>And I have this code for starting a thread for every file</p>\n\n<pre><code>foreach my $File (@Filelist)\n{\n    $q-&gt;enqueue(['mySub',$FirstVar,$SecondVar]);\n}\n</code></pre>\n\n<p>But it still takes way to long time.</p>\n\n<p>My question is, is there a certain way to assign each thread to a single Core, in order to speed it up?</p>\n"}, {"tags": ["perl", "fork", "multiprocess"], "answers": [{"comments": [{"owner": {"reputation": 305, "user_id": 1781749, "user_type": "registered", "accept_rate": 67, "profile_image": "https://www.gravatar.com/avatar/65084b4eaadc6bfc209ef73609e1e256?s=128&d=identicon&r=PG", "display_name": "genx1mx6", "link": "https://stackoverflow.com/users/1781749/genx1mx6"}, "edited": false, "score": 0, "creation_date": 1436309516, "post_id": 31262851, "comment_id": 50554753, "body": "thanks a lot for the explanation, now you&#39;re making me question my original code (not the code I posted, but another script I have that spawns multiple TCL sessions to manage my network gear).   I saw there was a <code>Parrallel::ForkManager</code> out there but in my environment I&#39;m trying to stick to the basic perl installation.  one more question in regards to the prototyping of functions -  why prototype in perl? what&#39;s the benefit? Just syntactically easier? or are there underlying benefits?"}, {"owner": {"reputation": 50468, "user_id": 1331451, "user_type": "registered", "accept_rate": 96, "profile_image": "https://i.stack.imgur.com/4ZPmj.png?s=128&g=1", "display_name": "simbabque", "link": "https://stackoverflow.com/users/1331451/simbabque"}, "reply_to_user": {"reputation": 305, "user_id": 1781749, "user_type": "registered", "accept_rate": 67, "profile_image": "https://www.gravatar.com/avatar/65084b4eaadc6bfc209ef73609e1e256?s=128&d=identicon&r=PG", "display_name": "genx1mx6", "link": "https://stackoverflow.com/users/1781749/genx1mx6"}, "edited": false, "score": 1, "creation_date": 1436335155, "post_id": 31262851, "comment_id": 50561492, "body": "They are more complicated and in most cases you should not use them. Only do if you know exactly what you are doing and want exactly that behavior. In most cases you will not. Don&#39;t just them."}, {"owner": {"reputation": 50468, "user_id": 1331451, "user_type": "registered", "accept_rate": 96, "profile_image": "https://i.stack.imgur.com/4ZPmj.png?s=128&g=1", "display_name": "simbabque", "link": "https://stackoverflow.com/users/1331451/simbabque"}, "reply_to_user": {"reputation": 305, "user_id": 1781749, "user_type": "registered", "accept_rate": 67, "profile_image": "https://www.gravatar.com/avatar/65084b4eaadc6bfc209ef73609e1e256?s=128&d=identicon&r=PG", "display_name": "genx1mx6", "link": "https://stackoverflow.com/users/1781749/genx1mx6"}, "edited": false, "score": 1, "creation_date": 1436335344, "post_id": 31262851, "comment_id": 50561589, "body": "I don&#39;t think not using cpan is a good idea. Cpan is the strength of perl. Don&#39;t make your life hard. Just the stuff. Whole companies are building their business on cpan. Why shouldn&#39;t you benefit from the knowledge of people who don&#39;t work for you as well? :-)"}, {"owner": {"reputation": 305, "user_id": 1781749, "user_type": "registered", "accept_rate": 67, "profile_image": "https://www.gravatar.com/avatar/65084b4eaadc6bfc209ef73609e1e256?s=128&d=identicon&r=PG", "display_name": "genx1mx6", "link": "https://stackoverflow.com/users/1781749/genx1mx6"}, "edited": false, "score": 0, "creation_date": 1436338520, "post_id": 31262851, "comment_id": 50563181, "body": "sort of one of my weaknesses I suppose, I&#39;d rather create it from scratch and learn something then just cut and paste someone else&#39;s code.  But I definitely see your point."}, {"owner": {"reputation": 50468, "user_id": 1331451, "user_type": "registered", "accept_rate": 96, "profile_image": "https://i.stack.imgur.com/4ZPmj.png?s=128&g=1", "display_name": "simbabque", "link": "https://stackoverflow.com/users/1331451/simbabque"}, "reply_to_user": {"reputation": 305, "user_id": 1781749, "user_type": "registered", "accept_rate": 67, "profile_image": "https://www.gravatar.com/avatar/65084b4eaadc6bfc209ef73609e1e256?s=128&d=identicon&r=PG", "display_name": "genx1mx6", "link": "https://stackoverflow.com/users/1781749/genx1mx6"}, "edited": false, "score": 1, "creation_date": 1436342063, "post_id": 31262851, "comment_id": 50565332, "body": "It&#39;s not about cutting and pasting. If you want to learn, the best approach is to actually understand the code that others have written. That&#39;s the good thing about open source. :)"}], "tags": [], "owner": {"reputation": 50468, "user_id": 1331451, "user_type": "registered", "accept_rate": 96, "profile_image": "https://i.stack.imgur.com/4ZPmj.png?s=128&g=1", "display_name": "simbabque", "link": "https://stackoverflow.com/users/1331451/simbabque"}, "is_accepted": true, "score": 4, "last_activity_date": 1436300763, "last_edit_date": 1436300763, "creation_date": 1436255762, "answer_id": 31262851, "question_id": 31261750, "link": "https://stackoverflow.com/questions/31261750/need-help-understanding-perl-code-multi-process-fork/31262851#31262851", "title": "Need help understanding Perl code- Multi process / fork", "body": "<p>Let's take a look at the code. Code is yours, with most of your comment removed. All other comments are mine.</p>\n\n<pre><code>#!/usr/bin/perl\n# total forks, max childs, what to run\n# function takes 2 scalars and a reference to code to run\n\nsub mfork ($$&amp;) {\n        my ($count, $max, $code) = @_;\n\n      # total number of processes to spawn\n        foreach my $c (1 .. $count) {\n\n                # wait waits for any child to return,\n                # waitpid for a specific one\n                wait unless $c &lt;= $max;\n\n                die \"Fork failed: $!\\n\" unless defined (my $pid = fork);\n\n                # the arrow is used to call the coderef in $code\n                # and the argument is $c. It's confusing because it has\n                # the space. It's a deref arrow, but looks like OOp.\n                # You're right about the 'unless $pid' part.\n                # If there is $pid it's in the parent, so it does\n                # nothing. If it is the child, it will run the\n                # code and exit.\n\n                exit $code -&gt; ($c) unless $pid;\n        }\n</code></pre>\n\n<p>      </p>\n\n<pre><code>        # This is reached after the parent is done with the foreach.\n        # It will wait in the first line of the foreach while there are\n        # still $count tasks remaining. Once it has spawned all of those\n        # (some finish and exit and make room for new ones inside the\n        # loop) it gets here, where it waits for the remaining ones.\n        # wait will return -1 when there are no more children.\n        # The '1 until' is just short for having an until loop that\n        # doesn't have the block. The 1; is not a costly operation.\n        # When wait == -1 it passes the line, returning from the sub.\n        1 until -1 == wait;\n}\n\n\n# because of the prototype above there are no () needed here\nmfork 10, 3, sub {\n        print \"$$: \" . localtime() . \": Starting\\n\";\n        select undef, undef, undef, rand 2;\n        print \"$$: \" . localtime() . \": Exiting\\n\";\n};\n</code></pre>\n\n<p>Let's look at stuff in detail.</p>\n\n<ul>\n<li>There is <a href=\"http://perldoc.perl.org/functions/wait.html\" rel=\"nofollow\"><code>wait</code></a> and <a href=\"http://perldoc.perl.org/functions/waitpid.html\" rel=\"nofollow\"><code>waitpid</code></a>. <code>wait</code> will <em>wait</em> until any of the children returns. That is useful because the program doesn't care which <em>slot</em> gets freed. As soon as one finishes, a new one can be spawned. <code>waitpid</code> takes an argument of a specific <code>$pid</code>. That's not helpful here.</li>\n<li>The <code>$code-&gt;($c)</code> syntax runs a coderef. Just like <code>%{ $foo }{bar}</code> will dereference a hashref, <code>&amp;{ $baz }()</code> will dereference (and run, that's the <code>()</code>) a coderef. An easier to read way is <code>$foo-&gt;{bar}</code>. Just the same is true for <code>$baz-&gt;()</code>. The arraow derefs it. See <a href=\"http://perldoc.perl.org/perlref.html\" rel=\"nofollow\">perlref</a> and <a href=\"http://perldoc.perl.org/perlreftut.html\" rel=\"nofollow\">perlreftut</a>.</li>\n</ul>\n\n<hr>\n\n<p>While this is nice and useful, maybe it would make more sense to use <a href=\"https://metacpan.org/pod/Parallel::ForkManager\" rel=\"nofollow\">Parallel::Forkmanager</a>, which gives the power of this in a lot less lines of code, and you don't need to worry how it works.</p>\n\n<pre><code>use strict;\nuse warnings;\nuse Parallel::ForkManager;\n\nmy $pm = Parallel::ForkManager-&gt;new(3); # max 3 at the same time\n\nDATA_LOOP:\nforeach my $data (1 .. 10) {\n  # Forks and returns the pid for the child:\n  my $pid = $pm-&gt;start and next DATA_LOOP;\n\n  ... do some work with $data in the child process ...\n  print \"$$: \" . localtime() . \": Starting\\n\";\n  select undef, undef, undef, rand 2;\n  print \"$$: \" . localtime() . \": Exiting\\n\";\n\n  $pm-&gt;finish; # Terminates the child process\n}\n</code></pre>\n\n<p>That's it. Way clearer to read. :)</p>\n"}], "owner": {"reputation": 305, "user_id": 1781749, "user_type": "registered", "accept_rate": 67, "profile_image": "https://www.gravatar.com/avatar/65084b4eaadc6bfc209ef73609e1e256?s=128&d=identicon&r=PG", "display_name": "genx1mx6", "link": "https://stackoverflow.com/users/1781749/genx1mx6"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 361, "favorite_count": 1, "accepted_answer_id": 31262851, "answer_count": 1, "score": 3, "last_activity_date": 1436300763, "creation_date": 1436252148, "question_id": 31261750, "link": "https://stackoverflow.com/questions/31261750/need-help-understanding-perl-code-multi-process-fork", "title": "Need help understanding Perl code- Multi process / fork", "body": "<p>I was looking for an example to limit the number of forked processes to run at the same time and I ran across this old code</p>\n\n<pre><code>#!/usr/bin/perl\n#total forks, max childs, what to run\n#function takes 2 scalars and a reference to code to run\nsub mfork ($$&amp;) {\n        my ($count, $max, $code) = @_;\n        # total number of processes to spawn\n        foreach my $c (1 .. $count) {\n                #what is happening here? why wait vs waitpid?\n                wait unless $c &lt;= $max;\n                die \"Fork failed: $!\\n\" unless defined (my $pid = fork);\n                # i don't undestand the arrow notation here and how it calls a function, \n                #also unless $pid is saying run function unless you're the parent\n                exit $code -&gt; ($c) unless $pid;\n        }\n        #no idea what's happening here, why are we waiting twice? for the last process?\n        #why 1 until (-1 == wait)? what's 1 doing here\n        1 until -1 == wait;\n}\n\n\n#code to run\nmfork 10, 3, sub {\n        print \"$$: \" . localtime() . \": Starting\\n\";\n        select undef, undef, undef, rand 2;\n        print \"$$: \" . localtime() . \": Exiting\\n\";\n};\n</code></pre>\n"}, {"tags": ["perl", "variables", "webmin"], "comments": [{"owner": {"reputation": 48798, "user_id": 223226, "user_type": "registered", "accept_rate": 93, "profile_image": "https://i.stack.imgur.com/iGqE4.png?s=128&g=1", "display_name": "mpapec", "link": "https://stackoverflow.com/users/223226/mpapec"}, "edited": false, "score": 0, "creation_date": 1436250225, "post_id": 31260971, "comment_id": 50517952, "body": "Bunch of poor practices, if you&#39;re not particularly interested in webmin take a look on some other perl code. To global <code>$lref</code> is assigned array reference, and <code>$_[0]</code> is hash reference passed to subroutine as a first parameter."}, {"owner": {"reputation": 214, "user_id": 4462797, "user_type": "registered", "accept_rate": 72, "profile_image": "https://www.gravatar.com/avatar/06ad54ed33711c0c99e35b3961ec9c1e?s=128&d=identicon&r=PG&f=1", "display_name": "abhillier", "link": "https://stackoverflow.com/users/4462797/abhillier"}, "reply_to_user": {"reputation": 48798, "user_id": 223226, "user_type": "registered", "accept_rate": 93, "profile_image": "https://i.stack.imgur.com/iGqE4.png?s=128&g=1", "display_name": "mpapec", "link": "https://stackoverflow.com/users/223226/mpapec"}, "edited": false, "score": 0, "creation_date": 1436251059, "post_id": 31260971, "comment_id": 50518360, "body": "$lref is declared as the local.the values which are passed to that will be stored in a array??please correct me if my understanding is wrong.."}, {"owner": {"reputation": 48798, "user_id": 223226, "user_type": "registered", "accept_rate": 93, "profile_image": "https://i.stack.imgur.com/iGqE4.png?s=128&g=1", "display_name": "mpapec", "link": "https://stackoverflow.com/users/223226/mpapec"}, "edited": false, "score": 1, "creation_date": 1436251236, "post_id": 31260971, "comment_id": 50518430, "body": "Please check <a href=\"http://stackoverflow.com/a/31235822/223226\">stackoverflow.com/a/31235822/223226</a> and <a href=\"http://perldoc.perl.org/perlreftut.html\" rel=\"nofollow noreferrer\">perldoc.perl.org/perlreftut.html</a>"}, {"owner": {"reputation": 214, "user_id": 4462797, "user_type": "registered", "accept_rate": 72, "profile_image": "https://www.gravatar.com/avatar/06ad54ed33711c0c99e35b3961ec9c1e?s=128&d=identicon&r=PG&f=1", "display_name": "abhillier", "link": "https://stackoverflow.com/users/4462797/abhillier"}, "reply_to_user": {"reputation": 48798, "user_id": 223226, "user_type": "registered", "accept_rate": 93, "profile_image": "https://i.stack.imgur.com/iGqE4.png?s=128&g=1", "display_name": "mpapec", "link": "https://stackoverflow.com/users/223226/mpapec"}, "edited": false, "score": 1, "creation_date": 1436251865, "post_id": 31260971, "comment_id": 50518735, "body": "that was helpful thanku.."}, {"owner": {"reputation": 320771, "user_id": 589924, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/b2cf53d5a3d25f95c0db4e025aed4153?s=128&d=identicon&r=PG", "display_name": "ikegami", "link": "https://stackoverflow.com/users/589924/ikegami"}, "edited": false, "score": 0, "creation_date": 1436275626, "post_id": 31260971, "comment_id": 50534257, "body": "Yeah, you should almost never see <code>local</code> in practice (except maybe <code>local $_</code>), and you shouldn&#39;t use <code>&amp;</code> like that either. This code was written for Perl4. And then there&#39;s the three style decisions I wouldn&#39;t have made."}, {"owner": {"reputation": 4590, "user_id": 3120884, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/116656a5f0b09d1a524808706d709d9c?s=128&d=identicon&r=PG&f=1", "display_name": "stevesliva", "link": "https://stackoverflow.com/users/3120884/stevesliva"}, "reply_to_user": {"reputation": 320771, "user_id": 589924, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/b2cf53d5a3d25f95c0db4e025aed4153?s=128&d=identicon&r=PG", "display_name": "ikegami", "link": "https://stackoverflow.com/users/589924/ikegami"}, "edited": false, "score": 0, "creation_date": 1436301810, "post_id": 31260971, "comment_id": 50551562, "body": "@ikegami Indeed I have not, but I read <a href=\"http://stackoverflow.com/questions/129607/what-is-the-difference-between-my-and-local-in-perl\">this</a>, and I start to wonder whether it&#39;s a way to have subroutines always compatible with existing code that does not <code>use strict</code> (code which my have a global $lref)?  I just made two such subroutines, and I&#39;m intrigued."}, {"owner": {"reputation": 320771, "user_id": 589924, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/b2cf53d5a3d25f95c0db4e025aed4153?s=128&d=identicon&r=PG", "display_name": "ikegami", "link": "https://stackoverflow.com/users/589924/ikegami"}, "reply_to_user": {"reputation": 4590, "user_id": 3120884, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/116656a5f0b09d1a524808706d709d9c?s=128&d=identicon&r=PG&f=1", "display_name": "stevesliva", "link": "https://stackoverflow.com/users/3120884/stevesliva"}, "edited": false, "score": 0, "creation_date": 1436303630, "post_id": 31260971, "comment_id": 50552437, "body": "@stevesliva, No, the use of global variables in one sub does not require the use of them in another. It may use lexicals."}], "answers": [{"tags": [], "owner": {"reputation": 51521, "user_id": 2566198, "user_type": "registered", "accept_rate": 67, "profile_image": "https://i.stack.imgur.com/Y34ZA.jpg?s=128&g=1", "display_name": "Sobrique", "link": "https://stackoverflow.com/users/2566198/sobrique"}, "is_accepted": false, "score": 0, "last_activity_date": 1436444265, "last_edit_date": 1495541164, "creation_date": 1436444265, "answer_id": 31317268, "question_id": 31260971, "link": "https://stackoverflow.com/questions/31260971/perl-variables-and-subroutines/31317268#31317268", "title": "Perl variables and subroutines", "body": "<p>The short summary: \"nasty perl code\". </p>\n\n<p>The longer answer:</p>\n\n<pre><code>sub update_dialer {\n\n    # take a global variable $lref.\n    # scope it locally it can be modified within the local subroutine\n    # run the sub \"read_file_lines\" and pass it the contents of `$config{'file'}\n    # assign the result to $lref\n    local $lref = &amp;read_file_lines( $config{'file'} );\n\n   #removes elements from an array.\n   #Number based on a hash reference passed in as the first argument in @_\n   #but is also calling the dialer_lines subroutine as part of it.\n    splice(\n        @$lref, $_[0]-&gt;{'line'},\n        $_[0]-&gt;{'eline'} - $_[0]-&gt;{'line'} + 1,\n        &amp;dialer_lines( $_[0] )\n    );\n\n    #run the sub 'flush_file_lines'.\n    &amp;flush_file_lines();\n}\n</code></pre>\n\n<p>It's implementing a bunch of bad practices:</p>\n\n<h2><a href=\"http://perldoc.perl.org/functions/local.html\" rel=\"nofollow noreferrer\"><code>local</code></a></h2>\n\n<p>The manpage points out what's wrong with this:</p>\n\n<blockquote>\n  <p>You really probably want to be using my instead, because local isn't what most people think of as \"local\". <a href=\"http://perldoc.perl.org/perlsub.html#Private-Variables-via-my()\" rel=\"nofollow noreferrer\">See Private Variables via my() in perlsub for details.</a></p>\n</blockquote>\n\n<p><code>local</code> exists as a way to temporarily override global variables. It's useful - for example - if you want to change the input record separator <code>$/</code>. \nYou might do:</p>\n\n<pre><code>{\n    local $/ = \"\\n\\n\";\n    my $first_record = &lt;$filehandle&gt;;\n    print $first_record;\n}\n</code></pre>\n\n<p>This means that once you exit your code block, <code>$/</code> returns to it's original value, and doesn't screw up all the rest of the file IO in your code. There is no good reason to use it like this in this example. </p>\n\n<h2><code>&amp;</code> prefix on a subroutine</h2>\n\n<p><a href=\"https://stackoverflow.com/questions/8912049/difference-between-function-and-function-in-perl\">Difference between &amp;function and function() in perl</a></p>\n\n<p>Prefixing a sub with <code>&amp;</code> does a few things that you almost never really want, because it messes around with prototyping and whatnot. You should therefore not do it generally. </p>\n\n<h2><a href=\"http://perldoc.perl.org/functions/splice.html\" rel=\"nofollow noreferrer\"><code>splice</code></a></h2>\n\n<p>removes and replaces elements in an array. Not specifically <em>wrong</em> but the fact that it's doing it the way it is makes it really hard to tell <em>what</em> it's doing. </p>\n\n<p>(But I <em>think</em> because it's localising <code>$lref</code> the value of it disappears at the end of this sub. </p>\n\n<h2><code>$_[0] -&gt; {'line'}</code></h2>\n\n<p>When a sub is called, it's passed an array <code>@_</code> with arguments to the function. You can use <code>$_[0]</code> to access the first element of this array - it's <em>NOT</em> the same a <code>$_</code> though, for all the reasons <code>$list[0]</code> and <code>$list</code> aren't the same.</p>\n\n<p>The way this is being used - <code>$_[0] -&gt; {'line'}</code> tells us that this is a hash reference and it's being dereferenced to access certain variables. </p>\n\n<p>But this isn't exactly creating nice and readable code. </p>\n\n<p>You might instead do:</p>\n\n<pre><code>my ( $parameter_ref ) = @_; \n</code></pre>\n\n<p>Or perhaps:</p>\n\n<pre><code>my $parameter_ref = shift;\n</code></pre>\n\n<p>A matter of taste here - by default, <code>shift</code> uses <code>@_</code> in much the same way as a lot of other functions default to <code>$_</code>. I tend to prefer the former though. </p>\n\n<p>But by naming your parameters, you make clear exactly what they are, and what they're doing. </p>\n"}], "owner": {"reputation": 214, "user_id": 4462797, "user_type": "registered", "accept_rate": 72, "profile_image": "https://www.gravatar.com/avatar/06ad54ed33711c0c99e35b3961ec9c1e?s=128&d=identicon&r=PG&f=1", "display_name": "abhillier", "link": "https://stackoverflow.com/users/4462797/abhillier"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 132, "favorite_count": 0, "answer_count": 1, "score": 1, "last_activity_date": 1436444265, "creation_date": 1436249168, "last_edit_date": 1436252906, "question_id": 31260971, "link": "https://stackoverflow.com/questions/31260971/perl-variables-and-subroutines", "title": "Perl variables and subroutines", "body": "<p>I am new to the perl programming language. I am trying to understand the <code>webmin</code> modules. I am not getting this code snippet:</p>\n\n<pre><code>sub update_dialer\n{\n    local $lref = &amp;read_file_lines($config{'file'});\n    splice(@$lref, $_[0]-&gt;{'line'}, $_[0]-&gt;{'eline'} - $_[0]-&gt;{'line'} + 1,\n    &amp;dialer_lines($_[0]));\n    &amp;flush_file_lines();\n}\n</code></pre>\n\n<p>What is happening here? Where the values are storing? Please someone explain this code in detail.</p>\n"}, {"tags": ["regex", "perl"], "comments": [{"owner": {"reputation": 366, "user_id": 3122072, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/LQ9Au.jpg?s=128&g=1", "display_name": "menakas", "link": "https://stackoverflow.com/users/3122072/menakas"}, "edited": false, "score": 0, "creation_date": 1436252182, "post_id": 31259174, "comment_id": 50518907, "body": "You have indeed given the literal &#39;$1&#39; and &#39;$2&#39; as arguments. Even if you substitute these with any thing else, say &#39;$3&#39; and &#39;$4&#39;, the first case of Dir and File will work right and in the second case, you will get the literals."}], "answers": [{"tags": [], "owner": {"reputation": 320771, "user_id": 589924, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/b2cf53d5a3d25f95c0db4e025aed4153?s=128&d=identicon&r=PG", "display_name": "ikegami", "link": "https://stackoverflow.com/users/589924/ikegami"}, "is_accepted": false, "score": 1, "last_activity_date": 1436243795, "creation_date": 1436243795, "answer_id": 31259815, "question_id": 31259174, "link": "https://stackoverflow.com/questions/31259174/perl-parse-1-from-argv/31259815#31259815", "title": "Perl Parse $1 from ARGV", "body": "<p>You want to use <a href=\"http://search.cpan.org/perldoc?String::Substitution\" rel=\"nofollow\">String::Substitution</a>.</p>\n\n<pre><code>$ perl -E'\n    use String::Substitution qw( interpolate_match_vars last_match_vars );\n\n    my ($str, $pat, $x_template, $y_template) = @ARGV;\n    $str =~ $pat\n       or die(\"Didn'\\''t match\\n\");\n\n    my $x = interpolate_match_vars($x_template, last_match_vars());\n    my $y = interpolate_match_vars($y_template, last_match_vars());\n\n    say \"x: $x\";\n    say \"y: $y\";\n' \\\n    abcdef '(.)c(.)' '$1' '$2'\nx: b\ny: d\n</code></pre>\n"}], "owner": {"reputation": 11, "user_id": 4127654, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/3893f1245161d42350d0a51dd10091a0?s=128&d=identicon&r=PG&f=1", "display_name": "beatboxbanjo", "link": "https://stackoverflow.com/users/4127654/beatboxbanjo"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 163, "favorite_count": 0, "answer_count": 1, "score": 1, "last_activity_date": 1436243795, "creation_date": 1436239062, "question_id": 31259174, "link": "https://stackoverflow.com/questions/31259174/perl-parse-1-from-argv", "title": "Perl Parse $1 from ARGV", "body": "<p>Is it possible to parse a $1 from ARGV in Perl?\nI am trying to parse a passed in $1 from ARGV, but its treating it as a literal string, rather than the $1.</p>\n\n<p>This is just a simple script trying to show proof of concept.</p>\n\n<pre><code>#!/usr/bin/perl\nmy $from = '^(.*/)([^/]*)$';\nmy $dir = \"/var/foo/baz\";\n$dir =~ /$from/;\n\n# This works and prints the expected output I would like\nprint \"Dir $1\\n\";\nprint \"File $2\\n\";\n\n# This is printing a literal '$1' and '$2'\nprint \"Dir $ARGV[0]\\n\";\nprint \"File $ARGV[1]\\n\";\n</code></pre>\n\n<p>This is what I am running and my output:</p>\n\n<pre><code>$ ./test.pl '$1' '$2'\nDir /var/foo/\nFile baz\nDir $1\nFile $2\n</code></pre>\n"}, {"tags": ["perl", "module", "cpan", "cpanm"], "comments": [{"owner": {"reputation": 21782, "user_id": 176646, "user_type": "registered", "accept_rate": 88, "profile_image": "https://i.stack.imgur.com/HsQyV.png?s=128&g=1", "display_name": "ThisSuitIsBlackNot", "link": "https://stackoverflow.com/users/176646/thissuitisblacknot"}, "edited": false, "score": 4, "creation_date": 1436230511, "post_id": 31257876, "comment_id": 50512600, "body": "It should be <code>Archive::Zip</code>, with a capital <code>Z</code> (Perl is case sensitive)."}, {"owner": {"reputation": 32690, "user_id": 3266847, "user_type": "registered", "accept_rate": 100, "profile_image": "https://i.stack.imgur.com/U0oyt.png?s=128&g=1", "display_name": "Benjamin W.", "link": "https://stackoverflow.com/users/3266847/benjamin-w"}, "edited": false, "score": 4, "creation_date": 1436231542, "post_id": 31257876, "comment_id": 50512812, "body": "Also, <code>install</code> is not required, is it? <code>cpanm Archive::Zip</code> should be enough. <code>install</code> is the default behaviour, see <a href=\"http://search.cpan.org/~miyagawa/App-cpanminus-1.7039/bin/cpanm\" rel=\"nofollow noreferrer\">documentation</a>."}], "answers": [{"comments": [{"owner": {"reputation": 207, "user_id": 3502984, "user_type": "registered", "accept_rate": 50, "profile_image": "https://www.gravatar.com/avatar/ece6276220dee7379dccd23bad62740c?s=128&d=identicon&r=PG&f=1", "display_name": "DoolAy", "link": "https://stackoverflow.com/users/3502984/doolay"}, "edited": false, "score": 0, "creation_date": 1436472159, "post_id": 31309206, "comment_id": 50640448, "body": "I think I was following an outdated tutorial and it might have had the wrong command. I eventually just installed it manually. Thanks for the help!"}], "tags": [], "owner": {"reputation": 32690, "user_id": 3266847, "user_type": "registered", "accept_rate": 100, "profile_image": "https://i.stack.imgur.com/U0oyt.png?s=128&g=1", "display_name": "Benjamin W.", "link": "https://stackoverflow.com/users/3266847/benjamin-w"}, "is_accepted": true, "score": 1, "last_activity_date": 1436421548, "last_edit_date": 1436421548, "creation_date": 1436421162, "answer_id": 31309206, "question_id": 31257876, "link": "https://stackoverflow.com/questions/31257876/cpanm-couldnt-find-module-or-a-distribution-archivezip/31309206#31309206", "title": "CPANM, &quot;Couldn&#39;t find module or a distribution Archive::zip&quot;", "body": "<p>\nModule names are case sensitive: you want <a href=\"http://search.cpan.org/~phred/Archive-Zip-1.48/lib/Archive/Zip.pm\" rel=\"nofollow\"><code>Archive::Zip</code></a>, with a capital 'Z'.</p>\n\n<p>Also, when installing a module using <code>cpanm</code>, you can save a few keystrokes by omitting <code>install</code>, it's the default behaviour. Quoting from the <a href=\"http://search.cpan.org/~miyagawa/App-cpanminus-1.7039/bin/cpanm\" rel=\"nofollow\">documentation</a>:</p>\n\n<blockquote>\n  <p>(arguments)</p>\n  \n  <p>[...]</p>\n  \n  <p><code>-i</code>, <code>--install</code></p>\n  \n  <p>Installs the modules. This is a default behavior and this is just a compatibility option to make it work like <a href=\"http://search.cpan.org/~jhi/perl-5.8.1/lib/CPAN/bin/cpan\" rel=\"nofollow\"><code>cpan</code></a> or <a href=\"http://search.cpan.org/~bingos/CPANPLUS-0.9154/bin/cpanp\" rel=\"nofollow\"><code>cpanp</code></a>.</p>\n</blockquote>\n\n<p>This means you can install <code>Archive::Zip</code> using</p>\n\n<pre class=\"lang-none prettyprint-override\"><code>cpanm Archive::Zip\n</code></pre>\n"}, {"tags": [], "owner": {"reputation": 1, "user_id": 2892134, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/70a8f75585b6414b50b9d0f16220f4bd?s=128&d=identicon&r=PG&f=1", "display_name": "Aaron Priven", "link": "https://stackoverflow.com/users/2892134/aaron-priven"}, "is_accepted": false, "score": 0, "last_activity_date": 1436811362, "creation_date": 1436811362, "answer_id": 31390553, "question_id": 31257876, "link": "https://stackoverflow.com/questions/31257876/cpanm-couldnt-find-module-or-a-distribution-archivezip/31390553#31390553", "title": "CPANM, &quot;Couldn&#39;t find module or a distribution Archive::zip&quot;", "body": "<p>As the previous poster noted, module names are case-sensitive, so \"cpanm Archive::zip\" won't find \"Archive::Zip.\"</p>\n\n<p>As for \"install is up to date\", this is a bit confusing at first. The cpanm program takes options, which begin with a dash, and arguments, which don't. If you don't specify any options, the default behavior is to install the modules you specify as arguments. So the proper command is just \"cpanm Archive::Zip\". If you want to tell cpanm to do something else, you would say it with an option: for example, \"cpanm --showdeps Some::Module\" would show the dependencies of Some::Module but not install anything. </p>\n\n<p>If you say \"cpanm install Archive::Zip\", what you're telling it to do is first install the module called \"install\" and secondly install \"Archive::Zip.\"  And there is a module called \"<a href=\"https://metacpan.org/pod/install\" rel=\"nofollow\">install</a>\" -- it doesn't do anything, but was created specifically to avoid \"Couldn't find module or distribution\" errors when people absentmindedly typed \"cpan install Some::Module\". So \"install is up to date (0.01)\" means that you have previously installed the \"install\" module, and the version you have is the latest version. (Which is not surprising as a module that doesn't do anything is not likely to need revision.) </p>\n"}], "owner": {"reputation": 207, "user_id": 3502984, "user_type": "registered", "accept_rate": 50, "profile_image": "https://www.gravatar.com/avatar/ece6276220dee7379dccd23bad62740c?s=128&d=identicon&r=PG&f=1", "display_name": "DoolAy", "link": "https://stackoverflow.com/users/3502984/doolay"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 4041, "favorite_count": 0, "accepted_answer_id": 31309206, "answer_count": 2, "score": 8, "last_activity_date": 1436811362, "creation_date": 1436228859, "last_edit_date": 1436423298, "question_id": 31257876, "link": "https://stackoverflow.com/questions/31257876/cpanm-couldnt-find-module-or-a-distribution-archivezip", "title": "CPANM, &quot;Couldn&#39;t find module or a distribution Archive::zip&quot;", "body": "<p>I am trying to write something in Perl that needs several modules, however this is my first time using Perl and I cannot seem to install one specific module I need, <code>Archive::zip</code>.</p>\n\n<p>I am using perlbrew and use the following command to attempt to install the module:</p>\n\n<pre class=\"lang-none prettyprint-override\"><code>cpanm install Archive::zip\n</code></pre>\n\n<p>This returns to me the following messages through the command line:</p>\n\n<pre class=\"lang-none prettyprint-override\"><code>install is up to date. (0.01)\n! Finding Archive::zip on cpanmetadb failed.\n! Finding Archive::zip () on mirror http://www.cpan.org failed.\n! Couldn't find module or a distribution Archive::zip\n</code></pre>\n\n<p>At first I thought that the \"install is up to date meant\" I had it, but anything I attempt to run requiring that module tells me that it is missing. I assume the messages after mean that it cannot find any place to install this module from, and I don't seem to have come across this issue posted anywhere online. If that is the case is there a different mirror I can specify?</p>\n\n<p>In case it may be relevant to this, I am currently using OSX 10.10.2.</p>\n"}, {"tags": ["perl", "hash", "iteration"], "comments": [{"owner": {"reputation": 320771, "user_id": 589924, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/b2cf53d5a3d25f95c0db4e025aed4153?s=128&d=identicon&r=PG", "display_name": "ikegami", "link": "https://stackoverflow.com/users/589924/ikegami"}, "edited": false, "score": 1, "creation_date": 1436244044, "post_id": 31257673, "comment_id": 50515753, "body": "Also, <code>my @keys = qw( A23 A03 A200 ); for my $key (@keys) { ... }</code>"}], "answers": [{"tags": [], "owner": {"reputation": 445, "user_id": 4098466, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/7d7adf4028d6e536b23711192e22d7e2?s=128&d=identicon&r=PG&f=1", "display_name": "Kim Ryan", "link": "https://stackoverflow.com/users/4098466/kim-ryan"}, "is_accepted": false, "score": -2, "last_activity_date": 1436250299, "last_edit_date": 1436250299, "creation_date": 1436235270, "answer_id": 31258667, "question_id": 31257673, "link": "https://stackoverflow.com/questions/31257673/how-to-loop-through-a-hash-sequentially-between-two-points-perl/31258667#31258667", "title": "How to loop through a hash sequentially between two points (perl)", "body": "<p>Yes, key insertion order is not maintained. For a module based solution , see <a href=\"http://search.cpan.org/~chorny/Tie-IxHash-1.23/lib/Tie/IxHash.pm\" rel=\"nofollow\">http://search.cpan.org/~chorny/Tie-IxHash-1.23/lib/Tie/IxHash.pm</a> </p>\n\n<p>Or you can build  an index into your key and sort on retrieval:</p>\n\n<pre><code>%hash = (\n    '01:A23' =&gt; 1,\n    '02:A03' =&gt; 2,\n    '03:A200' =&gt; 3\n);\n\nforeach $one_key (sort keys %hash ) {\n\n    print(\"KEY : $one_key  VALUE :$hash{$one_key}\\n\");\n}\n</code></pre>\n\n<p>Output is:</p>\n\n<pre><code>KEY : 01:A23  VALUE :1\nKEY : 02:A03  VALUE :2\nKEY : 03:A200  VALUE :3\n</code></pre>\n"}, {"tags": [], "owner": {"reputation": 71, "user_id": 2192522, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/26fdd96b5422d35a55652f242dbf32cb?s=128&d=identicon&r=PG", "display_name": "ricecake", "link": "https://stackoverflow.com/users/2192522/ricecake"}, "is_accepted": true, "score": 1, "last_activity_date": 1436242840, "creation_date": 1436242840, "answer_id": 31259700, "question_id": 31257673, "link": "https://stackoverflow.com/questions/31257673/how-to-loop-through-a-hash-sequentially-between-two-points-perl/31259700#31259700", "title": "How to loop through a hash sequentially between two points (perl)", "body": "<p>Perl doesn't track added order for hashes, so you'll either have to track that seperately, or just fall back to alphabetical.  <code>for my $key (sort keys %hash) {...}</code> is the gist of what you're looking for.  </p>\n"}], "owner": {"reputation": 9149, "user_id": 623990, "user_type": "registered", "accept_rate": 94, "profile_image": "https://www.gravatar.com/avatar/49b25662f4bc09b799428dcdd6e4b606?s=128&d=identicon&r=PG&f=1", "display_name": "n0pe", "link": "https://stackoverflow.com/users/623990/n0pe"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 136, "favorite_count": 0, "closed_date": 1436243999, "accepted_answer_id": 31259700, "answer_count": 2, "score": 1, "last_activity_date": 1436250299, "creation_date": 1436227466, "question_id": 31257673, "link": "https://stackoverflow.com/questions/31257673/how-to-loop-through-a-hash-sequentially-between-two-points-perl", "closed_reason": "Duplicate", "title": "How to loop through a hash sequentially between two points (perl)", "body": "<p>I've got a hash with keys of the following form: <code>A23</code>, <code>A03</code>, <code>A200</code>, etc.</p>\n\n<p>As I understand it, keys in a hash are not exactly sequential. If I build the hash by first adding <code>A23</code>, <code>A03</code>, and <code>A200</code>, then I can't be sure they will be in that order when I iterate over the hash - correct?</p>\n\n<p>How would I be able to loop from one key in a hash, to another key, visiting the keys in \"added\" order. If there is no such thing as \"added\" order with hashes, then I could sort the keys alphabetically.</p>\n"}, {"tags": ["perl"], "answers": [{"comments": [{"owner": {"reputation": 469, "user_id": 3000685, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/d94fa8d3249e2f10ccb693993c0db6ba?s=128&d=identicon&r=PG&f=1", "display_name": "secJ", "link": "https://stackoverflow.com/users/3000685/secj"}, "edited": false, "score": 0, "creation_date": 1436227722, "post_id": 31257640, "comment_id": 50512059, "body": "Perfect.  This is exactly what I was looking for.  Was I imagining it, or is there some <code>feature</code> subset that includes: strictures, warnings and diagnostics all in one go?  Thanks"}, {"owner": {"reputation": 21782, "user_id": 176646, "user_type": "registered", "accept_rate": 88, "profile_image": "https://i.stack.imgur.com/HsQyV.png?s=128&g=1", "display_name": "ThisSuitIsBlackNot", "link": "https://stackoverflow.com/users/176646/thissuitisblacknot"}, "reply_to_user": {"reputation": 469, "user_id": 3000685, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/d94fa8d3249e2f10ccb693993c0db6ba?s=128&d=identicon&r=PG&f=1", "display_name": "secJ", "link": "https://stackoverflow.com/users/3000685/secj"}, "edited": false, "score": 0, "creation_date": 1436227857, "post_id": 31257640, "comment_id": 50512091, "body": "As far as I know, there&#39;s nothing in core that does that, but there could certainly be modules that do it. Perhaps you&#39;re thinking of <a href=\"https://metacpan.org/pod/Modern::Perl\" rel=\"nofollow noreferrer\">Modern::Perl</a>, which enables <code>strict</code>, <code>warnings</code>, and all 5.10 features, among other things."}, {"owner": {"reputation": 469, "user_id": 3000685, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/d94fa8d3249e2f10ccb693993c0db6ba?s=128&d=identicon&r=PG&f=1", "display_name": "secJ", "link": "https://stackoverflow.com/users/3000685/secj"}, "edited": false, "score": 0, "creation_date": 1436228002, "post_id": 31257640, "comment_id": 50512116, "body": "Ah, yes, that&#39;s it! Modern::Perl. Thanks again"}, {"owner": {"reputation": 87649, "user_id": 17389, "user_type": "registered", "accept_rate": 38, "profile_image": "https://www.gravatar.com/avatar/cd06d1314817ce946ab796af8750b56a?s=128&d=identicon&r=PG", "display_name": "ysth", "link": "https://stackoverflow.com/users/17389/ysth"}, "edited": false, "score": 1, "creation_date": 1436228555, "post_id": 31257640, "comment_id": 50512222, "body": "there&#39;s also <a href=\"http://p3rl.org/common::sense\" rel=\"nofollow noreferrer\">common::sense</a> and <a href=\"http://p3rl.org/Defaults::Modern\" rel=\"nofollow noreferrer\">Defaults::Modern</a> and probably others I can&#39;t remember"}], "tags": [], "owner": {"reputation": 21782, "user_id": 176646, "user_type": "registered", "accept_rate": 88, "profile_image": "https://i.stack.imgur.com/HsQyV.png?s=128&g=1", "display_name": "ThisSuitIsBlackNot", "link": "https://stackoverflow.com/users/176646/thissuitisblacknot"}, "is_accepted": true, "score": 11, "last_activity_date": 1436227397, "last_edit_date": 1436227397, "creation_date": 1436227205, "answer_id": 31257640, "question_id": 31257555, "link": "https://stackoverflow.com/questions/31257555/perl-whats-included-in-use-5/31257640#31257640", "title": "Perl: what&#39;s included in use 5.##.#?", "body": "<p>This is documented in <a href=\"http://perldoc.perl.org/feature.html\"><code>perldoc feature</code></a>:</p>\n\n<blockquote>\n  <p>It's possible to load multiple features together, using a feature bundle. The name of a feature bundle is prefixed with a colon, to distinguish it from an actual feature.</p>\n\n<pre><code>use feature \":5.10\";\n</code></pre>\n  \n  <p>The following feature bundles are available:</p>\n\n<pre><code>bundle    features included\n--------- -----------------\n:default  array_base\n:5.10     say state switch array_base\n:5.12     say state switch unicode_strings array_base\n:5.14     say state switch unicode_strings array_base\n:5.16     say state switch unicode_strings\n          unicode_eval evalbytes current_sub fc\n:5.18     say state switch unicode_strings\n          unicode_eval evalbytes current_sub fc\n:5.20     say state switch unicode_strings\n          unicode_eval evalbytes current_sub fc\n:5.22     say state switch unicode_strings\n          unicode_eval evalbytes current_sub fc\n</code></pre>\n</blockquote>\n\n<p>where</p>\n\n<blockquote>\n<pre><code>use v5.10.0;\n</code></pre>\n  \n  <p>will do an implicit</p>\n\n<pre><code>no feature ':all';\nuse feature ':5.10';\n</code></pre>\n  \n  <p>and so on.</p>\n</blockquote>\n\n<p>Automatic enabling of strictures is documented in <a href=\"http://perldoc.perl.org/functions/use.html\"><code>perldoc -f use</code></a>:</p>\n\n<blockquote>\n  <p>if the specified Perl version is greater than or equal to 5.12.0, strictures are enabled lexically as with <code>use strict</code>.</p>\n</blockquote>\n"}, {"comments": [{"owner": {"reputation": 469, "user_id": 3000685, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/d94fa8d3249e2f10ccb693993c0db6ba?s=128&d=identicon&r=PG&f=1", "display_name": "secJ", "link": "https://stackoverflow.com/users/3000685/secj"}, "edited": false, "score": 0, "creation_date": 1436228069, "post_id": 31257650, "comment_id": 50512134, "body": "Thanks for the link to features.pm&#39;s documentation. Great resource to keep bookmarked"}], "tags": [], "owner": {"reputation": 320771, "user_id": 589924, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/b2cf53d5a3d25f95c0db4e025aed4153?s=128&d=identicon&r=PG", "display_name": "ikegami", "link": "https://stackoverflow.com/users/589924/ikegami"}, "is_accepted": false, "score": 2, "last_activity_date": 1436227271, "creation_date": 1436227271, "answer_id": 31257650, "question_id": 31257555, "link": "https://stackoverflow.com/questions/31257555/perl-whats-included-in-use-5/31257650#31257650", "title": "Perl: what&#39;s included in use 5.##.#?", "body": "<p><code>use 5.12.0;</code> does <code>use feature ':5.12';</code>, so you get</p>\n\n<ul>\n<li>say</li>\n<li>state</li>\n<li>switch</li>\n<li>unicode_strings</li>\n<li>array_base</li>\n</ul>\n\n<p>The feature bundles are documented in <a href=\"http://search.cpan.org/perldoc?feature#FEATURE_BUNDLES\" rel=\"nofollow\">feature.pm</a>'s documentation.</p>\n"}, {"comments": [{"owner": {"reputation": 469, "user_id": 3000685, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/d94fa8d3249e2f10ccb693993c0db6ba?s=128&d=identicon&r=PG&f=1", "display_name": "secJ", "link": "https://stackoverflow.com/users/3000685/secj"}, "edited": false, "score": 0, "creation_date": 1437175162, "post_id": 31465789, "comment_id": 50936642, "body": "Very interesting module!"}], "tags": [], "owner": {"reputation": 198290, "user_id": 1030675, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/957956ce51706d03f19a4dc85a767bb1?s=128&d=identicon&r=PG", "display_name": "choroba", "link": "https://stackoverflow.com/users/1030675/choroba"}, "is_accepted": false, "score": 2, "last_activity_date": 1437086544, "creation_date": 1437086544, "answer_id": 31465789, "question_id": 31257555, "link": "https://stackoverflow.com/questions/31257555/perl-whats-included-in-use-5/31465789#31465789", "title": "Perl: what&#39;s included in use 5.##.#?", "body": "<p>For enhancements not covered by <a href=\"http://p3rl.org/feature\" rel=\"nofollow\">feature</a>, you can use <a href=\"http://p3rl.org/Syntax::Construct\" rel=\"nofollow\">Syntax::Construct</a>.</p>\n"}], "owner": {"reputation": 469, "user_id": 3000685, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/d94fa8d3249e2f10ccb693993c0db6ba?s=128&d=identicon&r=PG&f=1", "display_name": "secJ", "link": "https://stackoverflow.com/users/3000685/secj"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 440, "favorite_count": 1, "accepted_answer_id": 31257640, "answer_count": 3, "score": 8, "last_activity_date": 1537303819, "creation_date": 1436226615, "last_edit_date": 1537303819, "question_id": 31257555, "link": "https://stackoverflow.com/questions/31257555/perl-whats-included-in-use-5", "title": "Perl: what&#39;s included in use 5.##.#?", "body": "<p>I've seen several <a href=\"https://stackoverflow.com/questions/6050031/why-are-use-warnings-use-strict-not-default-in-perl\">posts</a> that state <code>use 5.12.0;</code> in Perl enables certain features/pragmas by default (e.g., <code>use strict;</code>).  Another example is in <a href=\"https://stackoverflow.com/questions/6162484/why-does-modern-perl-avoid-utf-8-by-default\">UTF-8 and perl</a> where it is stated that <code>use 5.14.0;</code> is </p>\n\n<blockquote>\n  <p>optimal for Unicode string feature UTF-8 handling.</p>\n</blockquote>\n\n<p>I seem to recall an available <code>use</code> declaration that provides certain defaults (e.g., <code>use strict; use warnings; use diagnostics;</code>), but can't remember the specifics.  How does one find out what is included in a given <code>use 5.##.#;</code> statement?  For example, what does <code>use 5.22.0;</code> provide by default? <code>use strict;</code>?</p>\n"}, {"tags": ["perl", "parameters", "shift", "unpack"], "comments": [{"owner": {"reputation": 18935, "user_id": 19405, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/a72b55a41a43ea0493fc64641a1ed295?s=128&d=identicon&r=PG", "display_name": "nobody", "link": "https://stackoverflow.com/users/19405/nobody"}, "edited": false, "score": 2, "creation_date": 1436221425, "post_id": 31256404, "comment_id": 50510203, "body": "Unless you&#39;re trying to win at golf, do the verbose one."}], "answers": [{"comments": [{"owner": {"reputation": 3676, "user_id": 414279, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/5fd8e859d8cf73f2d49eb640964605bb?s=128&d=identicon&r=PG", "display_name": "rurban", "link": "https://stackoverflow.com/users/414279/rurban"}, "edited": false, "score": 0, "creation_date": 1436297729, "post_id": 31257307, "comment_id": 50549379, "body": "I only remember perl6 having this explicit undefined behavior to be able to parallelize it, but I don&#39;t see any chance that perl5 will ever leave left to right evaluation of argument lists."}], "tags": [], "owner": {"reputation": 320771, "user_id": 589924, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/b2cf53d5a3d25f95c0db4e025aed4153?s=128&d=identicon&r=PG", "display_name": "ikegami", "link": "https://stackoverflow.com/users/589924/ikegami"}, "is_accepted": true, "score": 6, "last_activity_date": 1436296956, "last_edit_date": 1436296956, "creation_date": 1436224896, "answer_id": 31257307, "question_id": 31256404, "link": "https://stackoverflow.com/questions/31256404/is-it-safe-to-use-shift-and-in-the-same-statement/31257307#31257307", "title": "Is it safe to use shift and @_ in the same statement?", "body": "<p>It behaves correctly in all existing Perl interpreters.</p>\n\n<p>However, the operand evaluation order of the comma operator is documented for when it's used in scalar context, but not for when it's used in list context as the case is here. Worse, it's undocumented behaviour in an area that's undefined behaviour in some other languages. I don't see the behaviour changing, but it's not perfectly safe either.</p>\n\n<p>Compromise:</p>\n\n<pre><code>sub f3 {\n    my $self = shift;\n    my $p1   = shift;\n    my $p2   = shift;\n\n    $self-&gt;update(p1 =&gt; $p1, p2 =&gt; $p2, @_);\n}\n</code></pre>\n\n<p>If you absolutely wanted to go variable-less, you could safely use the following:</p>\n\n<pre><code>sub f4 { $_[0]-&gt;update(p1 =&gt; $_[1], p2 =&gt; $_[2], @_[3..$#_]) }\n</code></pre>\n\n<p>I don't know why you'd want to use that, though. It's hard to read even without counting the loss of the self-documenting properties of naming the parameters.</p>\n"}], "owner": {"reputation": 109, "user_id": 1426620, "user_type": "registered", "accept_rate": 50, "profile_image": "https://www.gravatar.com/avatar/28f15d6b0005c88acf0426272ff800f6?s=128&d=identicon&r=PG", "display_name": "tim93", "link": "https://stackoverflow.com/users/1426620/tim93"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 73, "favorite_count": 0, "accepted_answer_id": 31257307, "answer_count": 1, "score": 3, "last_activity_date": 1436296956, "creation_date": 1436219992, "question_id": 31256404, "link": "https://stackoverflow.com/questions/31256404/is-it-safe-to-use-shift-and-in-the-same-statement", "title": "Is it safe to use shift and @_ in the same statement?", "body": "<p>Is the following code <em>safe</em>? Does it run on all perl versions >= 5.8? Is it guaranteed that the <em>shifts</em> are executed before <em>@_</em> is unpacked?</p>\n\n<pre><code>sub f1 {\n    shift-&gt;update(p1 =&gt; shift, p2 =&gt; shift, @_);\n}\n</code></pre>\n\n<p>Verbose alternative code:</p>\n\n<pre><code>sub f2 {\n    my ($self, $p1, $p2, @r) = @_;\n    $self-&gt;update(p1 =&gt; $p1, p2 =&gt; $p2, @r);\n}\n</code></pre>\n"}, {"tags": ["regex", "perl"], "comments": [{"owner": {"reputation": 339644, "user_id": 118068, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/077db5466d3b58e7bbbd498dca173f04?s=128&d=identicon&r=PG", "display_name": "Marc B", "link": "https://stackoverflow.com/users/118068/marc-b"}, "edited": false, "score": 0, "creation_date": 1436218239, "post_id": 31255958, "comment_id": 50508937, "body": "consecutive capitals, or 2+ capitals anywhere in the word. e.g. <code>CApital</code> or <code>cApiTal</code>? consecutive is easy. 2+ anywhere, not so much."}, {"owner": {"reputation": 75, "user_id": 4893212, "user_type": "registered", "accept_rate": 57, "profile_image": "https://www.gravatar.com/avatar/61e7b9c72beca0dc44da26057f485abc?s=128&d=identicon&r=PG&f=1", "display_name": "JQKP", "link": "https://stackoverflow.com/users/4893212/jqkp"}, "reply_to_user": {"reputation": 339644, "user_id": 118068, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/077db5466d3b58e7bbbd498dca173f04?s=128&d=identicon&r=PG", "display_name": "Marc B", "link": "https://stackoverflow.com/users/118068/marc-b"}, "edited": false, "score": 0, "creation_date": 1436218539, "post_id": 31255958, "comment_id": 50509070, "body": "@MarcB consecutive. But also including other <code>\\w</code> characters, but no lowercase letters."}, {"owner": {"reputation": 18466, "user_id": 477563, "user_type": "registered", "accept_rate": 90, "profile_image": "https://www.gravatar.com/avatar/07a89fb7b2fd8ece1e9e39e95e004a36?s=128&d=identicon&r=PG", "display_name": "Mr. Llama", "link": "https://stackoverflow.com/users/477563/mr-llama"}, "edited": false, "score": 0, "creation_date": 1436218932, "post_id": 31255958, "comment_id": 50509207, "body": "&quot;other <code>\\w</code> characters, but no lowercase letters&quot; - so numbers and underscores?"}, {"owner": {"reputation": 21782, "user_id": 176646, "user_type": "registered", "accept_rate": 88, "profile_image": "https://i.stack.imgur.com/HsQyV.png?s=128&g=1", "display_name": "ThisSuitIsBlackNot", "link": "https://stackoverflow.com/users/176646/thissuitisblacknot"}, "edited": false, "score": 0, "creation_date": 1436219012, "post_id": 31255958, "comment_id": 50509249, "body": "See <a href=\"http://stackoverflow.com/q/23415808/176646\">How to extract upper case words within a long string using perl</a>"}, {"owner": {"reputation": 79972, "user_id": 298607, "user_type": "registered", "accept_rate": 88, "profile_image": "https://i.stack.imgur.com/DVW9g.jpg?s=128&g=1", "display_name": "dawg", "link": "https://stackoverflow.com/users/298607/dawg"}, "edited": false, "score": 1, "creation_date": 1436219107, "post_id": 31255958, "comment_id": 50509295, "body": "Example matches / non matches would help"}, {"owner": {"reputation": 75, "user_id": 4893212, "user_type": "registered", "accept_rate": 57, "profile_image": "https://www.gravatar.com/avatar/61e7b9c72beca0dc44da26057f485abc?s=128&d=identicon&r=PG&f=1", "display_name": "JQKP", "link": "https://stackoverflow.com/users/4893212/jqkp"}, "reply_to_user": {"reputation": 79972, "user_id": 298607, "user_type": "registered", "accept_rate": 88, "profile_image": "https://i.stack.imgur.com/DVW9g.jpg?s=128&g=1", "display_name": "dawg", "link": "https://stackoverflow.com/users/298607/dawg"}, "edited": false, "score": 0, "creation_date": 1436219769, "post_id": 31255958, "comment_id": 50509554, "body": "@dawg done: see revised question."}, {"owner": {"reputation": 21782, "user_id": 176646, "user_type": "registered", "accept_rate": 88, "profile_image": "https://i.stack.imgur.com/HsQyV.png?s=128&g=1", "display_name": "ThisSuitIsBlackNot", "link": "https://stackoverflow.com/users/176646/thissuitisblacknot"}, "edited": false, "score": 0, "creation_date": 1436220288, "post_id": 31255958, "comment_id": 50509759, "body": "You wouldn&#39;t want to match the first <code>A</code> in <code>A QUICK Brown fox JUMPs OV3R T4E LAZY DoG.</code>? It is a fully-capitalized word. What about the <code>I</code> in <code>I think, therefore I am.</code>?"}], "answers": [{"comments": [{"owner": {"reputation": 75, "user_id": 4893212, "user_type": "registered", "accept_rate": 57, "profile_image": "https://www.gravatar.com/avatar/61e7b9c72beca0dc44da26057f485abc?s=128&d=identicon&r=PG&f=1", "display_name": "JQKP", "link": "https://stackoverflow.com/users/4893212/jqkp"}, "edited": false, "score": 0, "creation_date": 1436221160, "post_id": 31256531, "comment_id": 50510106, "body": "+1 for you, because I <i>think</i> this accurately answers the question as it appeared until 49 seconds before you posted this. 49 seconds before you posted this, I corrected a mistake in the question, and this answer doesn&#39;t correctly answer the question any longer."}], "tags": [], "owner": {"user_type": "does_not_exist", "display_name": "user557597"}, "is_accepted": false, "score": 1, "last_activity_date": 1436226191, "last_edit_date": 1436226191, "creation_date": 1436220573, "answer_id": 31256531, "question_id": 31255958, "link": "https://stackoverflow.com/questions/31255958/find-runs-of-capitalized-letters/31256531#31256531", "title": "Find runs of capitalized letters", "body": "<p>It appears you want all word definition (construct <code>\\w</code>) characters.<br>\nTo find and allow at least two caps and no lower case, you're probably not going to<br>\nget around the fact that they have to be optionally surrounded by caps<br>\nand or digits or underscore.  </p>\n\n<p>Might as well just match what you need.  </p>\n\n<p><code>\\b[\\d_]*[A-Z]+[\\d_]*[A-Z]+[\\d_]*\\b</code>  </p>\n\n<p>Expanded:  </p>\n\n<pre><code> \\b \n [\\d_]* \n [A-Z]+ \n [\\d_]* \n [A-Z]+ \n [\\d_]* \n \\b \n</code></pre>\n\n<p><em>ah, results</em>  </p>\n\n<p>Input:  </p>\n\n<pre><code>The QUICK Brown fox JUMPs OV3R T4E LAZY DoG.  \n</code></pre>\n\n<p>Output:  </p>\n\n<pre><code> **  Grp 0 -  ( pos 4 , len 5 ) \nQUICK  \n-----\n **  Grp 0 -  ( pos 26 , len 4 ) \nOV3R  \n-----\n **  Grp 0 -  ( pos 31 , len 3 ) \nT4E  \n-----\n **  Grp 0 -  ( pos 35 , len 4 ) \nLAZY  \n</code></pre>\n\n<hr>\n\n<p><em>update</em> - If you want to optionally match consecutive portions separated by whitespace,<br>\nthis would work.  </p>\n\n<pre><code> # (?&amp;two_caps)(?:\\s+(?&amp;two_caps))*(?(DEFINE)(?&lt;two_caps&gt;\\b[\\d_]*[A-Z]+[\\d_]*[A-Z]+[\\d_]*\\b))\n\n (?&amp;two_caps) \n (?:\n      \\s+ (?&amp;two_caps) \n )*\n\n (?(DEFINE)\n      (?&lt;two_caps&gt;\n           \\b \n           [\\d_]* \n           [A-Z]+ \n           [\\d_]* \n           [A-Z]+ \n           [\\d_]* \n           \\b \n      )\n )\n</code></pre>\n\n<p>Output:  </p>\n\n<pre><code> **  Grp 0 -  ( pos 4 , len 5 ) \nQUICK  \n **  Grp 1 -  NULL \n---------\n **  Grp 0 -  ( pos 26 , len 13 ) \nOV3R T4E LAZY  \n **  Grp 1 -  NULL \n</code></pre>\n"}, {"comments": [{"owner": {"user_type": "does_not_exist", "display_name": "user557597"}, "edited": false, "score": 0, "creation_date": 1436226584, "post_id": 31257329, "comment_id": 50511784, "body": "This is interesting, I&#39;ve benched a lot of stuff using Perl. Used a lot of split and further looping to accomplish what a single regex would do. I think it&#39;s just paranoia of regex myself. Too much talk about regex is the boogyman.. anyway, dunno."}, {"owner": {"reputation": 79972, "user_id": 298607, "user_type": "registered", "accept_rate": 88, "profile_image": "https://i.stack.imgur.com/DVW9g.jpg?s=128&g=1", "display_name": "dawg", "link": "https://stackoverflow.com/users/298607/dawg"}, "edited": false, "score": 0, "creation_date": 1436228387, "post_id": 31257329, "comment_id": 50512198, "body": "I love regex&#39;s . Not the boogyman at all. It just made more sense to me in this case..."}], "tags": [], "owner": {"reputation": 79972, "user_id": 298607, "user_type": "registered", "accept_rate": 88, "profile_image": "https://i.stack.imgur.com/DVW9g.jpg?s=128&g=1", "display_name": "dawg", "link": "https://stackoverflow.com/users/298607/dawg"}, "is_accepted": false, "score": 1, "last_activity_date": 1436228439, "last_edit_date": 1436228439, "creation_date": 1436225076, "answer_id": 31257329, "question_id": 31255958, "link": "https://stackoverflow.com/questions/31255958/find-runs-of-capitalized-letters/31257329#31257329", "title": "Find runs of capitalized letters", "body": "<p>If you really want a <em>run</em> of those matches, maybe use split with zero width assertions and then filter the results:</p>\n\n<pre><code>while (&lt;DATA&gt;) {\n    for my $e (split (/(?&lt;=\\b)([A-Z0-9_ ]+)(?=\\b)/)){\n        $e =~ s/^\\s+|\\s+$//g;\n        print \"$e\\n\" unless ($e =~/^$/ or $e =~ /.*[a-z]/);\n    }\n}\n\n__DATA__\nThe QUICK Brown fox JUMPs OV3R T4E LAZY DoG.\n</code></pre>\n\n<p>Prints:</p>\n\n<pre><code>QUICK\nOV3R T4E LAZY\n</code></pre>\n\n<p>So how does this work?</p>\n\n<p>The <code>split</code> will separate out the parts the match your criteria from those that do not:</p>\n\n<pre><code>use Data::Dumper;\n\nwhile (&lt;DATA&gt;) {\n    print Dumper split (/(?&lt;=\\b)([A-Z0-9_ ]+)(?=\\b)/); \n}\n</code></pre>\n\n<p>Prints: </p>\n\n<pre><code>$VAR1 = 'The';\n$VAR2 = ' QUICK ';\n$VAR3 = 'Brown';\n$VAR4 = ' ';\n$VAR5 = 'fox';\n$VAR6 = ' ';\n$VAR7 = 'JUMPs';\n$VAR8 = ' OV3R T4E LAZY ';\n$VAR9 = 'DoG.';\n</code></pre>\n\n<p>The loop then loops over that array, strips whitespace from each element, and tests for a lower case character or blank line.  </p>\n\n<p>Which leads to a single line to produce your array for each line:</p>\n\n<pre><code>grep { $_ =~ /(?=[A-Z]{2,})^[^a-z]+$/ } map {s/^\\s+|\\s+$//g; $_} split (/(?&lt;=\\b)([A-Z0-9_ ]+)(?=\\b)/);\n</code></pre>\n"}, {"tags": [], "owner": {"reputation": 62965, "user_id": 3679490, "user_type": "registered", "accept_rate": 81, "profile_image": "https://www.gravatar.com/avatar/70f98fb23b16862298ea208aedfd18ae?s=128&d=identicon&r=PG&f=1", "display_name": "vks", "link": "https://stackoverflow.com/users/3679490/vks"}, "is_accepted": false, "score": 0, "last_activity_date": 1436242828, "last_edit_date": 1436242828, "creation_date": 1436234804, "answer_id": 31258622, "question_id": 31255958, "link": "https://stackoverflow.com/questions/31255958/find-runs-of-capitalized-letters/31258622#31258622", "title": "Find runs of capitalized letters", "body": "<pre><code>\\b(?=\\S*[A-Z]\\S*[A-Z])[A-Z0-9]{2,}\\b\n</code></pre>\n\n<p>Try this.See demo.</p>\n\n<p><a href=\"https://regex101.com/r/cK4iV0/24\" rel=\"nofollow\">https://regex101.com/r/cK4iV0/24</a></p>\n"}], "owner": {"reputation": 75, "user_id": 4893212, "user_type": "registered", "accept_rate": 57, "profile_image": "https://www.gravatar.com/avatar/61e7b9c72beca0dc44da26057f485abc?s=128&d=identicon&r=PG&f=1", "display_name": "JQKP", "link": "https://stackoverflow.com/users/4893212/jqkp"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 99, "favorite_count": 0, "answer_count": 3, "score": 3, "last_activity_date": 1436242828, "creation_date": 1436218121, "last_edit_date": 1436220524, "question_id": 31255958, "link": "https://stackoverflow.com/questions/31255958/find-runs-of-capitalized-letters", "title": "Find runs of capitalized letters", "body": "<p>I have a file containing some fully capitalized words and some mixed-case words, and I want to extract the fully capitalized runs of words (contained in one line) \u2013 that is, things separated by <code>\\b</code> and containing at least two capital letters and no lowercase letters. Everything is 7-bit.</p>\n\n<p>So, for example, if a line is</p>\n\n<pre><code>The QUICK Brown fox JUMPs OV3R T4E LAZY DoG.\n</code></pre>\n\n<p>then I'd want to extract <code>QUICK</code> and <code>OV3R T4E LAZY</code>.</p>\n\n<p>This is what I have so far:</p>\n\n<pre><code>while (&lt;$fh&gt;) { # file handle\n    my @array = $_ =~ /\\b[^a-z]*[A-Z][^a-z]*[A-Z][^a-z]*\\b/;\n    push @bigarray, @array;\n}\n</code></pre>\n\n<p>Is there a more elegant way to do it than <code>[^a-z]*[A-Z][^a-z]*[A-Z][^a-z]*</code>?</p>\n"}, {"tags": ["perl"], "comments": [{"owner": {"reputation": 320771, "user_id": 589924, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/b2cf53d5a3d25f95c0db4e025aed4153?s=128&d=identicon&r=PG", "display_name": "ikegami", "link": "https://stackoverflow.com/users/589924/ikegami"}, "edited": false, "score": 0, "creation_date": 1436216491, "post_id": 31255316, "comment_id": 50508072, "body": "What version of Perl are you using?"}, {"owner": {"reputation": 2920, "user_id": 3360140, "user_type": "registered", "accept_rate": 81, "profile_image": "https://i.stack.imgur.com/OThx0.jpg?s=128&g=1", "display_name": "Kamrul Khan", "link": "https://stackoverflow.com/users/3360140/kamrul-khan"}, "reply_to_user": {"reputation": 320771, "user_id": 589924, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/b2cf53d5a3d25f95c0db4e025aed4153?s=128&d=identicon&r=PG", "display_name": "ikegami", "link": "https://stackoverflow.com/users/589924/ikegami"}, "edited": false, "score": 0, "creation_date": 1436216592, "post_id": 31255316, "comment_id": 50508123, "body": "I am using perl 5.10.1"}, {"owner": {"reputation": 2920, "user_id": 3360140, "user_type": "registered", "accept_rate": 81, "profile_image": "https://i.stack.imgur.com/OThx0.jpg?s=128&g=1", "display_name": "Kamrul Khan", "link": "https://stackoverflow.com/users/3360140/kamrul-khan"}, "reply_to_user": {"reputation": 320771, "user_id": 589924, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/b2cf53d5a3d25f95c0db4e025aed4153?s=128&d=identicon&r=PG", "display_name": "ikegami", "link": "https://stackoverflow.com/users/589924/ikegami"}, "edited": false, "score": 0, "creation_date": 1436220212, "post_id": 31255316, "comment_id": 50509723, "body": "I have updated the code. Please check now."}], "answers": [{"comments": [{"owner": {"reputation": 51521, "user_id": 2566198, "user_type": "registered", "accept_rate": 67, "profile_image": "https://i.stack.imgur.com/Y34ZA.jpg?s=128&g=1", "display_name": "Sobrique", "link": "https://stackoverflow.com/users/2566198/sobrique"}, "edited": false, "score": 0, "creation_date": 1436250488, "post_id": 31257527, "comment_id": 50518086, "body": "Can you elaborate on that last choose snippet a little bit. I think the for loop will &quot;get&quot; all the threads without a while"}, {"owner": {"reputation": 320771, "user_id": 589924, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/b2cf53d5a3d25f95c0db4e025aed4153?s=128&d=identicon&r=PG", "display_name": "ikegami", "link": "https://stackoverflow.com/users/589924/ikegami"}, "reply_to_user": {"reputation": 51521, "user_id": 2566198, "user_type": "registered", "accept_rate": 67, "profile_image": "https://i.stack.imgur.com/Y34ZA.jpg?s=128&g=1", "display_name": "Sobrique", "link": "https://stackoverflow.com/users/2566198/sobrique"}, "edited": false, "score": 0, "creation_date": 1436273338, "post_id": 31257527, "comment_id": 50532469, "body": "@Sobrique, like I said in more detail in the answer, is to allow the signal to be handled"}, {"owner": {"reputation": 51521, "user_id": 2566198, "user_type": "registered", "accept_rate": 67, "profile_image": "https://i.stack.imgur.com/Y34ZA.jpg?s=128&g=1", "display_name": "Sobrique", "link": "https://stackoverflow.com/users/2566198/sobrique"}, "edited": false, "score": 0, "creation_date": 1436274846, "post_id": 31257527, "comment_id": 50533657, "body": "Would offer that instead of using a shared <code>$run</code> you can refer to the queue state - reading <code>$q-&gt;pending</code> will let you detect if it has ended (because <code>pending</code> returns <code>undef</code>)."}, {"owner": {"reputation": 320771, "user_id": 589924, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/b2cf53d5a3d25f95c0db4e025aed4153?s=128&d=identicon&r=PG", "display_name": "ikegami", "link": "https://stackoverflow.com/users/589924/ikegami"}, "reply_to_user": {"reputation": 51521, "user_id": 2566198, "user_type": "registered", "accept_rate": 67, "profile_image": "https://i.stack.imgur.com/Y34ZA.jpg?s=128&g=1", "display_name": "Sobrique", "link": "https://stackoverflow.com/users/2566198/sobrique"}, "edited": false, "score": 0, "creation_date": 1436275102, "post_id": 31257527, "comment_id": 50533857, "body": "@Sobrique, Not a bad idea, except those workers seem to be unrelated, so that would introduce unnecessary coupling."}, {"owner": {"reputation": 320771, "user_id": 589924, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/b2cf53d5a3d25f95c0db4e025aed4153?s=128&d=identicon&r=PG", "display_name": "ikegami", "link": "https://stackoverflow.com/users/589924/ikegami"}, "reply_to_user": {"reputation": 51521, "user_id": 2566198, "user_type": "registered", "accept_rate": 67, "profile_image": "https://i.stack.imgur.com/Y34ZA.jpg?s=128&g=1", "display_name": "Sobrique", "link": "https://stackoverflow.com/users/2566198/sobrique"}, "edited": false, "score": 1, "creation_date": 1436275417, "post_id": 31257527, "comment_id": 50534096, "body": "@user3360140, I seem to have deleted part of my answer by accident before even posting it. Updated my answer to reinclude the reason changes were needed."}, {"owner": {"reputation": 2920, "user_id": 3360140, "user_type": "registered", "accept_rate": 81, "profile_image": "https://i.stack.imgur.com/OThx0.jpg?s=128&g=1", "display_name": "Kamrul Khan", "link": "https://stackoverflow.com/users/3360140/kamrul-khan"}, "edited": false, "score": 0, "creation_date": 1436302993, "post_id": 31257527, "comment_id": 50552149, "body": "@ikegami thanks a lot for your response. Basically i was not sure what exactly was causing my issue. Now I am and I also come up with a code by which you can reproduce the error I got. I opened up a new thread please check it <a href=\"http://stackoverflow.com/questions/31279157/perl-seg-fault-while-joining-threads\" title=\"perl seg fault while joining threads\">stackoverflow.com/questions/31279157/&hellip;</a>"}], "tags": [], "owner": {"reputation": 320771, "user_id": 589924, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/b2cf53d5a3d25f95c0db4e025aed4153?s=128&d=identicon&r=PG", "display_name": "ikegami", "link": "https://stackoverflow.com/users/589924/ikegami"}, "is_accepted": true, "score": 3, "last_activity_date": 1436275153, "last_edit_date": 1436275153, "creation_date": 1436226358, "answer_id": 31257527, "question_id": 31255316, "link": "https://stackoverflow.com/questions/31255316/perl-how-to-join-all-threads/31257527#31257527", "title": "Perl how to join all threads", "body": "<p>Assuming <code>threads-&gt;create(proc1)</code> even works (and that would only be because you didn't use <code>use strict;</code> as you should), then your program exits immediately after creating the threads. You need to have your main thread wait for the children threads to finish.</p>\n\n<p>Fixing that problem (and applying some simplifications) results in the following:</p>\n\n<pre><code>use strict;\nuse warnings;\nuse threads;\nuse threads::shared;\nuse Thread::Queue 3.01 qw( );\n\nmy $q = Thread::Queue-&gt;new();\nmy $run :shared = 1;\n\n$SIG{TERM} = sub {\n    print(\"Received SIGTERM. Shutting down...\\n\");\n    $run = 0;\n    $q-&gt;end();\n};\n\nprint(\"$$\\n\");\n\nthreads-&gt;create(\\&amp;proc1);\nthreads-&gt;create(\\&amp;proc2);\n\n$_-&gt;join() for threads-&gt;list();\n\nsub proc1 {\n    while(my $p = $q-&gt;dequeue()) {\n        sleep 1;  # Placeholder\n    }\n}\n\nsub proc2 {\n    while($run){\n        sleep 1;  # Placeholder\n    }\n}\n</code></pre>\n\n<p>I don't get a seg fault, but the program doesn't exit either. The signal handler is simply not called. It's because Perl is waiting for <code>join</code> to return before calling the signal handler. You can solve that by polling the list of joinable threads. In other words, replace</p>\n\n<pre><code>$_-&gt;join() for threads-&gt;list();\n</code></pre>\n\n<p>with</p>\n\n<pre><code>my $running_threads = 2;\nwhile ($running_threads) {\n    for my $thread (threads-&gt;list(threads::joinable)) {\n        $thread-&gt;join();\n        $running_threads--;\n    }\n\n    sleep 1;\n}\n</code></pre>\n"}], "owner": {"reputation": 2920, "user_id": 3360140, "user_type": "registered", "accept_rate": 81, "profile_image": "https://i.stack.imgur.com/OThx0.jpg?s=128&g=1", "display_name": "Kamrul Khan", "link": "https://stackoverflow.com/users/3360140/kamrul-khan"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 1320, "favorite_count": 0, "accepted_answer_id": 31257527, "answer_count": 1, "score": 4, "last_activity_date": 1436275153, "creation_date": 1436215643, "last_edit_date": 1436220179, "question_id": 31255316, "link": "https://stackoverflow.com/questions/31255316/perl-how-to-join-all-threads", "title": "Perl how to join all threads", "body": "<p>My code is like below:</p>\n\n<pre><code>use threads;\nuse threads::shared;\nuse Thread::Queue;\n\nmy $q = Thread::Queue-&gt;new();\nmy @threads = ();\nmy $run :shared = 1;\n\n$SIG{'TERM'} = sub {\n    $run = 0;\n    $q-&gt;enqueue('exit');\n    foreach(@threads){\n        $_-&gt;join();\n    }\n};\n\npush @threads, threads-&gt;create(proc1);\npush @threads, threads-&gt;create(proc2);\n\nsub proc1 {\n\n    while($p = $q-&gt;dequeue()){\n        if($p eq 'exit'){\n            last;\n        }\n        .....\n    }\n    $q-&gt;end();\n    threads-&gt;exit();\n}\n\nsub proc2 {\n    while($run){\n       .....\n    }\n}\n</code></pre>\n\n<p>On TERM signal im trying to wait till all threads are ended. However, whenever I pass TERM signal my program gets terminated with an error</p>\n\n<pre><code>Segmentation fault\n</code></pre>\n\n<p>How to fix this ?</p>\n"}, {"tags": ["perl", "ssh", "ftp", "sftp", "mod-perl"], "comments": [{"owner": {"user_type": "does_not_exist", "display_name": "user3521760"}, "edited": false, "score": 0, "creation_date": 1436209198, "post_id": 31252773, "comment_id": 50504071, "body": "Just to double check, if you print $trgCommand instead of running system with it, does the command output you get actually work from the cli?"}, {"owner": {"reputation": 315, "user_id": 3224680, "user_type": "registered", "accept_rate": 50, "profile_image": "https://www.gravatar.com/avatar/c38596f17c1c18bfbd13d75eaa64b733?s=128&d=identicon&r=PG&f=1", "display_name": "raj", "link": "https://stackoverflow.com/users/3224680/raj"}, "edited": false, "score": 0, "creation_date": 1436209417, "post_id": 31252773, "comment_id": 50504201, "body": "no it&#39;s not working because it not able to find the sftpg3.exe and test.txt"}], "answers": [{"tags": [], "owner": {"reputation": 50468, "user_id": 1331451, "user_type": "registered", "accept_rate": 96, "profile_image": "https://i.stack.imgur.com/4ZPmj.png?s=128&g=1", "display_name": "simbabque", "link": "https://stackoverflow.com/users/1331451/simbabque"}, "is_accepted": false, "score": 1, "last_activity_date": 1436257440, "creation_date": 1436257440, "answer_id": 31263380, "question_id": 31252773, "link": "https://stackoverflow.com/questions/31252773/file-transfer-using-ssh-sftpg3/31263380#31263380", "title": "file transfer using ssh sftpg3", "body": "<p>You might have interpolation of <code>@host</code> in your third line because you are using double quotes (<code>\"\"</code>). Do you have <code>use strict</code> and <code>use warnings</code> turned on? There might also be an issue with the space (<code></code>) in the path.</p>\n\n<pre><code>use strict;\nuse warnings;\nuse feature 'say';\n\nmy $sftp_path = q{\"C:\\Program Files\\Client\\sftpg3.exe\"};\nmy $src_path = 'C:\\xx\\test.txt';\nmy $result = system( $sftp_path, '-D', $src_path, 'user@host:/tmp/' );\nsay $result;\n</code></pre>\n\n<p>Let's look at what I did.</p>\n\n<ul>\n<li>When you <kbd>tab</kbd>-complete a path like <code>C:\\Program Files\\foo</code> in Windows cmd, it usually wraps them in double quotes if there is a space inside the path. So we use the <a href=\"http://perldoc.perl.org/functions/q.html\" rel=\"nofollow\"><code>q</code> operator</a>, which is equivalent to single quotes, and put double quotes inside. That also gives us the benefit that we don't have to escape the backslash <code>\\</code>. Also see <a href=\"http://perldoc.perl.org/perlop.html#Quote-and-Quote-like-Operators\" rel=\"nofollow\">quote-like operators in perlop</a>.</li>\n<li>Same goes for the source path.</li>\n<li><a href=\"http://perldoc.perl.org/functions/system.html\" rel=\"nofollow\"><code>system</code></a> allows you to pass all the arguments to the program you want to run as arguments to itself and will take care of the quoting</li>\n<li>The double quote in <code>\"user@host:\"</code> will try to expand <code>@host</code> as an array. That doesn't work, because it's not defined. So there's a warning that you probably didn't see because you did not <code>use strict</code> and <code>use warnings</code>. Instead of the double quotes, use single quotes.</li>\n<li>I used <code>$sftp_path</code> instead of <code>$sftpPath</code> because there is a convention in Perl to use underscores and no capital letters. We like camels, but not in our variable names. :)</li>\n</ul>\n"}, {"tags": [], "owner": {"reputation": 391, "user_id": 5120388, "user_type": "registered", "accept_rate": 57, "profile_image": "https://www.gravatar.com/avatar/1d94e7732afe08416a8936be339d9e52?s=128&d=identicon&r=PG&f=1", "display_name": "Rajarshi", "link": "https://stackoverflow.com/users/5120388/rajarshi"}, "is_accepted": true, "score": 1, "last_activity_date": 1436979760, "creation_date": 1436979760, "answer_id": 31436637, "question_id": 31252773, "link": "https://stackoverflow.com/questions/31252773/file-transfer-using-ssh-sftpg3/31436637#31436637", "title": "file transfer using ssh sftpg3", "body": "<p>try the below code</p>\n\n<pre><code>my $cmd=\"sftpg3.exe \" . \"$src_path user@host:\"; \nsystem(\"C:\\\\Program Files\\\\Client\\\");\nsystem($cmd);\n</code></pre>\n\n<p>Thanks.</p>\n"}], "owner": {"reputation": 315, "user_id": 3224680, "user_type": "registered", "accept_rate": 50, "profile_image": "https://www.gravatar.com/avatar/c38596f17c1c18bfbd13d75eaa64b733?s=128&d=identicon&r=PG&f=1", "display_name": "raj", "link": "https://stackoverflow.com/users/3224680/raj"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 1139, "favorite_count": 0, "accepted_answer_id": 31436637, "answer_count": 2, "score": 2, "last_activity_date": 1436979760, "creation_date": 1436206280, "last_edit_date": 1436784434, "question_id": 31252773, "link": "https://stackoverflow.com/questions/31252773/file-transfer-using-ssh-sftpg3", "title": "file transfer using ssh sftpg3", "body": "<p>I am writing a Perl script to do a secure file transfer using SSH sftpg3.exe</p>\n\n<p>But I am having issue to accessing the source file.\nthe script able to pick the file from C:\\xx\\t.txt while running it from the directory</p>\n\n<p>It is not showing error C:\\Program is not a valid command.</p>\n\n<pre><code>my $sftpPath=\"C:\\\\Program Files\\\\client\";\nmy $srcPath=\"C:\\\\xx\\\\test.txt\";\nmy $trgCommand=$sftpPath.\" -D $srcPath user@host:/tmp/\";\nmy $result=system(\"$trgCommand\");\n</code></pre>\n\n<p>while running this script from C:\\ directory it is running without error but I can not see the file in destination server.</p>\n\n<p>Could you please help me sort out this file path issue ?\nI want to run it from O:\\ and it will pick the target file and sftpg3.exe from C:\\ drive and do the file transfer (in ASCII mode) successfully. </p>\n"}, {"tags": ["perl", "backspace"], "comments": [{"owner": {"reputation": 2927, "user_id": 3863903, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/3f5bdf8cace56e1ded5d3a56730b8871?s=128&d=identicon&r=PG&f=1", "display_name": "Rakholiya Jenish", "link": "https://stackoverflow.com/users/3863903/rakholiya-jenish"}, "edited": false, "score": 3, "creation_date": 1436206351, "post_id": 31252508, "comment_id": 50502496, "body": "@T.J.Crowder answer at <a href=\"http://stackoverflow.com/questions/6792812/the-backspace-escape-character-b-in-c-unexpected-behavior\">link</a>: &quot;Your result will vary depending on what kind of terminal or console program you&#39;re on, but yes, on most \\b is a nondestructive backspace. It moves the cursor backward, but doesn&#39;t erase what&#39;s there.&quot;"}], "answers": [{"tags": [], "owner": {"reputation": 320771, "user_id": 589924, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/b2cf53d5a3d25f95c0db4e025aed4153?s=128&d=identicon&r=PG", "display_name": "ikegami", "link": "https://stackoverflow.com/users/589924/ikegami"}, "is_accepted": false, "score": 5, "last_activity_date": 1436206004, "creation_date": 1436206004, "answer_id": 31252682, "question_id": 31252508, "link": "https://stackoverflow.com/questions/31252508/usage-of-b-in-perl/31252682#31252682", "title": "Usage of \\b in Perl", "body": "<p><code>\\b</code> is a shorthand for <code>\\x08</code>, so</p>\n\n<pre><code>print \"a\\b\";\n</code></pre>\n\n<p>simply outputs bytes</p>\n\n<pre><code>61 08\n</code></pre>\n\n<p>Most terminals interpret <code>08</code> as a request to move the cursor one position to the left. If you want to \"erase\" a character, you need to overwrite it with another.</p>\n\n<pre><code>print \"a\\b \\b\";\n</code></pre>\n"}], "owner": {"reputation": 29, "user_id": 5086402, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/b12251ad546aa24d19a8604ed1fa5c01?s=128&d=identicon&r=PG&f=1", "display_name": "Viren", "link": "https://stackoverflow.com/users/5086402/viren"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 743, "favorite_count": 0, "closed_date": 1436352991, "answer_count": 1, "score": 2, "last_activity_date": 1436206373, "creation_date": 1436205309, "last_edit_date": 1436206373, "question_id": 31252508, "link": "https://stackoverflow.com/questions/31252508/usage-of-b-in-perl", "closed_reason": "Duplicate", "title": "Usage of \\b in Perl", "body": "<p>the \\b \"bakspace in perl doesn't works when we use it at the last of the string.</p>\n\n<p>Eg: If we see the code, i have written</p>\n\n<pre><code>print \"Hello\\n\";    \nprint \"Hello\\n\";\nprint \"\\bHe\\bllo\\b\";\n</code></pre>\n\n<p>It gives me this output:</p>\n\n<p>Hello Hell<strong>o</strong> Hll<strong>o</strong></p>\n\n<p>So should the highlighted oo be deleted or in case, the \\n would have been deleted taking the control to the 2nd line?</p>\n"}, {"tags": ["perl", "login"], "comments": [{"owner": {"reputation": 1, "user_id": 5086223, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/e0cf06336c309a8a3f81e59f845852c1?s=128&d=identicon&r=PG&f=1", "display_name": "LaKo", "link": "https://stackoverflow.com/users/5086223/lako"}, "reply_to_user": {"reputation": 45481, "user_id": 197758, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/628da6ba2a6c70e35c009b7e3c3a430a?s=128&d=identicon&r=PG", "display_name": "toolic", "link": "https://stackoverflow.com/users/197758/toolic"}, "edited": false, "score": 0, "creation_date": 1436202753, "post_id": 31251562, "comment_id": 50500489, "body": "Thank you for response. print $mech-&gt;status(); 200"}, {"owner": {"reputation": 21782, "user_id": 176646, "user_type": "registered", "accept_rate": 88, "profile_image": "https://i.stack.imgur.com/HsQyV.png?s=128&g=1", "display_name": "ThisSuitIsBlackNot", "link": "https://stackoverflow.com/users/176646/thissuitisblacknot"}, "edited": false, "score": 0, "creation_date": 1436203142, "post_id": 31251562, "comment_id": 50500679, "body": "HTTP 200 means the request was successful."}, {"owner": {"reputation": 1, "user_id": 5086223, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/e0cf06336c309a8a3f81e59f845852c1?s=128&d=identicon&r=PG&f=1", "display_name": "LaKo", "link": "https://stackoverflow.com/users/5086223/lako"}, "edited": false, "score": 0, "creation_date": 1436203197, "post_id": 31251562, "comment_id": 50500710, "body": "Code 200 says &quot;OK&quot;, but if i print the content...      print $mech-&gt;content();    ... i get only Sourcecode from Loginpage"}], "answers": [{"comments": [{"owner": {"reputation": 1, "user_id": 5086223, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/e0cf06336c309a8a3f81e59f845852c1?s=128&d=identicon&r=PG&f=1", "display_name": "LaKo", "link": "https://stackoverflow.com/users/5086223/lako"}, "edited": false, "score": 0, "creation_date": 1436203626, "post_id": 31251906, "comment_id": 50500957, "body": "Thank you Josh! Do you know a way to get access with perl?"}], "tags": [], "owner": {"reputation": 71, "user_id": 4438373, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/jQj8h.jpg?s=128&g=1", "display_name": "josh", "link": "https://stackoverflow.com/users/4438373/josh"}, "is_accepted": true, "score": 0, "last_activity_date": 1436203265, "creation_date": 1436203265, "answer_id": 31251906, "question_id": 31251562, "link": "https://stackoverflow.com/questions/31251562/wwwmechanize-login-on-twitch-tv-using-perl/31251906#31251906", "title": "WWW::Mechanize Login on Twitch.tv using Perl", "body": "<p>Looking at at the form in question. It does not have a an id or a name.</p>\n\n<pre><code>&lt;form class=\"js-login-form login_form \" method=\"post\" action=\"https://secure-login.twitch.tv/login\" accept-charset=\"UTF-8\"&gt;\n</code></pre>\n\n<p>Mechanize does have a  <a href=\"http://%3Cform%20class=%22js-login-form%20login_form%20%22%20method=%22post%22%20action=%22https://secure-login.twitch.tv/login%22%20accept-charset=%22UTF-8%22%3E%20%3Cdiv%20style=%22margin:0;padding:0;display:inline%22%3E%20%3Cinput%20type=%22hidden%22%20value=%22%E2%9C%93%22%20name=%22utf8%22%3E%20%3Cinput%20type=%22hidden%22%20value=%22VlLcV6IrskCyKPTFmMZnkLa0JswghakiDqOvMOeQAgk=%22%20name=%22authenticity_token%22%3E%20%3C/div%3E%20%3Cinput%20id=%22redirect_on_login%22%20type=%22hidden%22%20value=%22https://secure.twitch.tv/%22%20name=%22redirect_on_login%22%3E%20%3Cinput%20id=%22embed_form%22%20type=%22hidden%22%20value=%22false%22%20name=%22embed_form%22%3E%20%3Cinput%20id=%22mp_source_action%22%20type=%22hidden%22%20value=%22%22%20name=%22mp_source_action%22%3E%20%3Cinput%20id=%22follow%22%20type=%22hidden%22%20value=%22%22%20name=%22follow%22%3E%20%3Cdiv%20class=%22field%20item%22%3E%20%3Clabel%20class=%22label%22%3EUsername%3C/label%3E%20%3Cinput%20id=%22login_user_login%22%20class=%22field%20text%20med-long%22%20type=%22text%22%20name=%22login%22%20autofocus=%22autofocus%22%3E%20%3C/div%3E%20%3Cdiv%20class=%22field%20item%22%3E%20%3Clabel%20class=%22label%22%3EPassword%3C/label%3E%20%3Cinput%20id=%22password%22%20class=%22field%20text%20med-long%22%20type=%22password%22%20value=%22%22%20name=%22password%22%3E%20%3Cdiv%20class=%22help%20sub%22%3E%20%3C/div%3E%20%3Cdiv%20class=%22buttons%22%3E%20%3Cbutton%20class=%22button%20primary%22%20type=%22submit%22%20tabindex=%2211%22%3ELog%20In%20%3C/button%3E%20%3C/div%3E%20%3Cimg%20class=%22js-loading-spinner%20spinner%22%20style=%22display:none%22%20src=%22/images/spinner.gif%22%3E%20%3C/form%3E\" rel=\"nofollow\">form_with_fields()</a> method that allows selecting a form based on the fields it contains. </p>\n"}], "owner": {"reputation": 1, "user_id": 5086223, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/e0cf06336c309a8a3f81e59f845852c1?s=128&d=identicon&r=PG&f=1", "display_name": "LaKo", "link": "https://stackoverflow.com/users/5086223/lako"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 94, "favorite_count": 0, "accepted_answer_id": 31251906, "answer_count": 1, "score": -3, "last_activity_date": 1437563963, "creation_date": 1436201966, "last_edit_date": 1437563963, "question_id": 31251562, "link": "https://stackoverflow.com/questions/31251562/wwwmechanize-login-on-twitch-tv-using-perl", "title": "WWW::Mechanize Login on Twitch.tv using Perl", "body": "<p>I want to login on <a href=\"http://Twitch.tv\" rel=\"nofollow\">http://Twitch.tv</a>, using PERL WWW::Mechanize.\nHere is my Code (unfortunately it doesn't work). It would be great if it can be fixed :)</p>\n\n<pre><code>#!/usr/bin/perl\n\nuse WWW::Mechanize;\n\n$username = 'secret';           \n$pwd = 'secretAlso';\n$url = \"https://secure.twitch.tv/login\";\n\n$mech = WWW::Mechanize-&gt;new();\n\n$mech-&gt;get($url);\n\n$mech-&gt;form_name('login-form');\n$mech-&gt;field(login =&gt; $username);\n$mech-&gt;field(password =&gt; $pwd);\n$mech-&gt;submit();\nprint $mech-&gt;status();\n</code></pre>\n\n<blockquote>\n  <p>200</p>\n</blockquote>\n\n<p>Code 200 says \"OK\", but if i print the content...</p>\n\n<pre><code>print $mech-&gt;content();  \n</code></pre>\n\n<p>I get only Source code from Login page. What is wrong? </p>\n"}, {"tags": ["perl", "csv"], "comments": [{"owner": {"reputation": 51521, "user_id": 2566198, "user_type": "registered", "accept_rate": 67, "profile_image": "https://i.stack.imgur.com/Y34ZA.jpg?s=128&g=1", "display_name": "Sobrique", "link": "https://stackoverflow.com/users/2566198/sobrique"}, "edited": false, "score": 2, "creation_date": 1436202413, "post_id": 31251516, "comment_id": 50500304, "body": "And what&#39;s the actual problem you&#39;re having?"}, {"owner": {"reputation": 29, "user_id": 5086198, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/2a6a3f4698ec2caa391f74ebf4448d2c?s=128&d=identicon&r=PG&f=1", "display_name": "SmitN", "link": "https://stackoverflow.com/users/5086198/smitn"}, "reply_to_user": {"reputation": 51521, "user_id": 2566198, "user_type": "registered", "accept_rate": 67, "profile_image": "https://i.stack.imgur.com/Y34ZA.jpg?s=128&g=1", "display_name": "Sobrique", "link": "https://stackoverflow.com/users/2566198/sobrique"}, "edited": false, "score": 0, "creation_date": 1436203351, "post_id": 31251516, "comment_id": 50500788, "body": "@Sobrique - script runs without any errors, but doesnt seem to be working at all. -vv doesnt throw anything either"}], "answers": [{"comments": [{"owner": {"reputation": 51521, "user_id": 2566198, "user_type": "registered", "accept_rate": 67, "profile_image": "https://i.stack.imgur.com/Y34ZA.jpg?s=128&g=1", "display_name": "Sobrique", "link": "https://stackoverflow.com/users/2566198/sobrique"}, "edited": false, "score": 1, "creation_date": 1436204517, "post_id": 31252223, "comment_id": 50501432, "body": "I would normally suggest glob"}, {"owner": {"reputation": 8273, "user_id": 1334695, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/431ae6e9f7610b9d6a6a6cdebd0244d5?s=128&d=identicon&r=PG", "display_name": "stevieb", "link": "https://stackoverflow.com/users/1334695/stevieb"}, "reply_to_user": {"reputation": 51521, "user_id": 2566198, "user_type": "registered", "accept_rate": 67, "profile_image": "https://i.stack.imgur.com/Y34ZA.jpg?s=128&g=1", "display_name": "Sobrique", "link": "https://stackoverflow.com/users/2566198/sobrique"}, "edited": false, "score": 0, "creation_date": 1436205233, "post_id": 31252223, "comment_id": 50501835, "body": "Updated with a similar example using glob"}, {"owner": {"reputation": 13757, "user_id": 1270003, "user_type": "registered", "accept_rate": 87, "profile_image": "https://www.gravatar.com/avatar/d5ed9123b92a6e4dffa75f9f6dd9e382?s=128&d=identicon&r=PG&f=1", "display_name": "texasbruce", "link": "https://stackoverflow.com/users/1270003/texasbruce"}, "edited": false, "score": 0, "creation_date": 1436205426, "post_id": 31252223, "comment_id": 50501982, "body": "I would normally suggest glob **/*"}], "tags": [], "owner": {"reputation": 8273, "user_id": 1334695, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/431ae6e9f7610b9d6a6a6cdebd0244d5?s=128&d=identicon&r=PG", "display_name": "stevieb", "link": "https://stackoverflow.com/users/1334695/stevieb"}, "is_accepted": false, "score": 0, "last_activity_date": 1436205217, "last_edit_date": 1436205217, "creation_date": 1436204319, "answer_id": 31252223, "question_id": 31251516, "link": "https://stackoverflow.com/questions/31251516/how-to-loop-through-subdirectories-in-linux-and-find-files-without-csv-extens/31252223#31252223", "title": "How to loop through Subdirectories in linux and find files without &quot;.csv&quot; extension using perl on linux", "body": "<p>First, <code>open()</code> is used for files. What you want is <code>opendir()</code>. Next, when you use <code>opendir(), readdir()</code>, it doesn't keep the path information, so you need to prepend it to the files you're renaming. Third, it's more common to use lexical handles as opposed to bare names. Lastly, always <code>use strict;</code> and <code>use warnings;</code> which would have pointed you directly to the problem.</p>\n\n<p>Here's a slightly updated version of your code:</p>\n\n<pre><code>#!/usr/bin/perl\nuse warnings;\nuse strict;\n\nmy $dir = \"/path/to/dir\";\nopendir(my $dh, $dir) or die $!;\n\nwhile ( my $file = readdir($dh) ) {\n    next if ( $file =~ m/(^\\.)/ );\n    next unless -f $file;\n    if ( $file !~ m/csv$/ ) {\n        print \"*** renaming file $file ***\\n\";\n        my $oldfile = $file;\n        $file =~ s/\\..*$/.csv/;\n        print \"$oldfile =&gt; $file\\n\";\n        rename \"$dir/$oldfile\", \"$dir/$file\";\n        print \"Done\\n\";\n    }\n}\n</code></pre>\n\n<p>Another way to do this is use a file glob (per suggestion by Sobrique):</p>\n\n<pre><code>#!/usr/bin/perl\nuse warnings;\nuse strict;\n\nmy @files = &lt;/path/to/dir/*&gt;;\n\nfor my $file (@files){\n\n    next unless -f $file;\n\n    if ($file !~ /\\.csv$/){\n        print \"*** renaming file $file ***\\n\";\n        my $oldfile = $file;\n        $file =~ s/\\..*$/.csv/;\n        print \"$oldfile =&gt; $file\\n\";\n        rename $oldfile, $file;\n        print \"Done!\\n\";\n    }\n}\n</code></pre>\n"}, {"tags": [], "owner": {"reputation": 123805, "user_id": 622310, "user_type": "registered", "accept_rate": 33, "profile_image": "https://www.gravatar.com/avatar/8b6d35219e1808520bc238b28161e2e6?s=128&d=identicon&r=PG", "display_name": "Borodin", "link": "https://stackoverflow.com/users/622310/borodin"}, "is_accepted": false, "score": 1, "last_activity_date": 1436204505, "creation_date": 1436204505, "answer_id": 31252285, "question_id": 31251516, "link": "https://stackoverflow.com/questions/31251516/how-to-loop-through-subdirectories-in-linux-and-find-files-without-csv-extens/31252285#31252285", "title": "How to loop through Subdirectories in linux and find files without &quot;.csv&quot; extension using perl on linux", "body": "<p>You have a couple of problems</p>\n\n<ul>\n<li><p>You are using <code>open</code> to read the directory instead of <code>opendir</code></p></li>\n<li><p>You are processing both files and directories that <code>readdir</code> returns</p></li>\n<li><p>You are renaming file names without a path, which means Perl will look in the current directory which probably isn't <code>/path/to/dir</code></p></li>\n</ul>\n\n<p>This will do what you intended</p>\n\n<pre><code>use strict;\nuse warnings;\n\nmy $dir = '/path/to/dir';\n\nchdir $dir or die $!;\nopendir my $dh, '.' or die $!;\n\nwhile ( my $file = readdir $dh ) {\n\n    next unless -f $file;\n    next if $file =~ /\\.csv\\z/i;\n\n    print \"*** Renaming file $file ***\\n\";\n\n    my $newfile = $file;\n    $newfile =~ s/\\.[^.]*\\z//;\n    $newfile .= '.csv';\n\n    print \"$file =&gt; $newfile\\n\";\n    rename $file, $newfile or die $!;\n    print \"Done\\n\";\n}\n</code></pre>\n"}], "owner": {"reputation": 29, "user_id": 5086198, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/2a6a3f4698ec2caa391f74ebf4448d2c?s=128&d=identicon&r=PG&f=1", "display_name": "SmitN", "link": "https://stackoverflow.com/users/5086198/smitn"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 81, "favorite_count": 0, "answer_count": 2, "score": -1, "last_activity_date": 1436205217, "creation_date": 1436201791, "last_edit_date": 1436202755, "question_id": 31251516, "link": "https://stackoverflow.com/questions/31251516/how-to-loop-through-subdirectories-in-linux-and-find-files-without-csv-extens", "title": "How to loop through Subdirectories in linux and find files without &quot;.csv&quot; extension using perl on linux", "body": "<pre><code>#!/usr/bin/perl\n\nmy $dir = '/path/to/dir';\nopen( DIR, $dir ) or die $!;\nwhile ( my $file = readdir(DIR) ) {\n    next if ( $file =~ m/(^\\.)/ );\n    if ( $file !~ m/csv$/ ) {\n        print \"*** renaming file $file ***\\n\";\n        $oldfile = $file;\n        $file =~ s/\\..*$/.csv/;\n        print \"$oldfile =&gt; $file\\n\";\n        rename $oldfile, $file;\n        print \"Done\\n\";\n    }\n}\n</code></pre>\n\n<p>I have tried to perl -c to see if there were any syntax errors. I think i have a flaw in a logic somewhere somehow. Thanks for the help in advance.</p>\n"}, {"tags": ["perl", "raku"], "answers": [{"comments": [{"owner": {"reputation": 25859, "user_id": 1077672, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/f00f8b55b0ade2c4748e94fb73a40662?s=128&d=identicon&r=PG", "display_name": "raiph", "link": "https://stackoverflow.com/users/1077672/raiph"}, "edited": false, "score": 0, "creation_date": 1436451843, "post_id": 31309920, "comment_id": 50627711, "body": "Upvoted because Reini is doing the key thing -- doing what it takes to try to usefully move this issue forward. I&#39;m posting this comment first to counter balance the things I&#39;m going to say next."}, {"owner": {"reputation": 25859, "user_id": 1077672, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/f00f8b55b0ade2c4748e94fb73a40662?s=128&d=identicon&r=PG", "display_name": "raiph", "link": "https://stackoverflow.com/users/1077672/raiph"}, "edited": false, "score": 0, "creation_date": 1436451859, "post_id": 31309920, "comment_id": 50627736, "body": "A grapheme is what a human would typically call one character. So \u5408 is one grapheme, not two. Thus, using a recent Rakudo, `say &quot;\u5408&quot;.chars.say&#39; returns 1."}, {"owner": {"reputation": 25859, "user_id": 1077672, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/f00f8b55b0ade2c4748e94fb73a40662?s=128&d=identicon&r=PG", "display_name": "raiph", "link": "https://stackoverflow.com/users/1077672/raiph"}, "edited": false, "score": 0, "creation_date": 1436457302, "post_id": 31309920, "comment_id": 50631705, "body": "The thing underlying the columns function under discussion is &quot;the concept of an inherent width of a [east asian] character. This width takes on either of two values: narrow or wide.&quot; (from <a href=\"http://www.unicode.org/reports/tr11/tr11-29.html\" rel=\"nofollow noreferrer\">unicode.org/reports/tr11/tr11-29.html</a>)"}, {"owner": {"reputation": 25859, "user_id": 1077672, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/f00f8b55b0ade2c4748e94fb73a40662?s=128&d=identicon&r=PG", "display_name": "raiph", "link": "https://stackoverflow.com/users/1077672/raiph"}, "edited": false, "score": 0, "creation_date": 1436458008, "post_id": 31309920, "comment_id": 50632163, "body": "The East Asian Width Property Data File associated with UAX #11, namely EastAsianWidth.txt, is not mentioned in the MoarVM script that processes such files (<a href=\"https://github.com/MoarVM/MoarVM/blob/master/tools/ucd2c.pl\" rel=\"nofollow noreferrer\">github.com/MoarVM/MoarVM/blob/master/tools/ucd2c.pl</a>). This suggests to me that the East Asian Width annex is currently completely ignored by MoarVM and thus, presumably, Rakudo (the Perl 6 compiler of note)."}, {"owner": {"reputation": 3676, "user_id": 414279, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/5fd8e859d8cf73f2d49eb640964605bb?s=128&d=identicon&r=PG", "display_name": "rurban", "link": "https://stackoverflow.com/users/414279/rurban"}, "reply_to_user": {"reputation": 25859, "user_id": 1077672, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/f00f8b55b0ade2c4748e94fb73a40662?s=128&d=identicon&r=PG", "display_name": "raiph", "link": "https://stackoverflow.com/users/1077672/raiph"}, "edited": false, "score": 0, "creation_date": 1436519194, "post_id": 31309920, "comment_id": 50657797, "body": "Exactly, \u5408 is one grapheme, but the linebreak property clusters it into 2 columns. The sombok library does this.  I&#39;m not sure if this needs to be in MoarVM core, it rather looks like a perfect extension module, as in perl5. I added it to the list of wanted perl6 modules. <a href=\"https://github.com/perl6/perl6-most-wanted/blob/master/most-wanted/modules.md\" rel=\"nofollow noreferrer\">github.com/perl6/perl6-most-wanted/blob/master/most-wanted/&hellip;</a>"}, {"owner": {"reputation": 25859, "user_id": 1077672, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/f00f8b55b0ade2c4748e94fb73a40662?s=128&d=identicon&r=PG", "display_name": "raiph", "link": "https://stackoverflow.com/users/1077672/raiph"}, "edited": false, "score": 0, "creation_date": 1436630441, "post_id": 31309920, "comment_id": 50699203, "body": "Imo &quot;clusters it into 2 columns&quot; is confusing because you&#39;re using the word &quot;clusters&quot; in a manner that&#39;s not only unrelated to, but actually in conflict with, its use in the Unicode standard, where it&#39;s used in relation to &quot;grapheme clusters&quot;. More importantly your original answer (still) suggests &quot;syllables [are] grapheme clusters&quot;. That&#39;s worse than confusing because it&#39;s plain &#39;ol wrong."}, {"owner": {"reputation": 25859, "user_id": 1077672, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/f00f8b55b0ade2c4748e94fb73a40662?s=128&d=identicon&r=PG", "display_name": "raiph", "link": "https://stackoverflow.com/users/1077672/raiph"}, "edited": false, "score": 0, "creation_date": 1436630680, "post_id": 31309920, "comment_id": 50699291, "body": "This property isn&#39;t (only) about line breaking. From UAX #11: &quot;Layout and line breaking (to cite only two examples) in East Asian context show systematic variations depending on the value of this East_Asian_Width property.&quot;"}, {"owner": {"reputation": 25859, "user_id": 1077672, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/f00f8b55b0ade2c4748e94fb73a40662?s=128&d=identicon&r=PG", "display_name": "raiph", "link": "https://stackoverflow.com/users/1077672/raiph"}, "edited": false, "score": 0, "creation_date": 1436632783, "post_id": 31309920, "comment_id": 50699887, "body": "Afaict, the columns function returns the maximum East Asian Width of the individual codepoints in a given sequence of combining codepoints (typically a grapheme). I&#39;m guessing this function exists to solve an issue mentioned in UAX #11: &quot;Decomposing a character, and applying the East_Asian_Width to a base character and combining marks separately does not yield the expected values.&quot;"}, {"owner": {"reputation": 3676, "user_id": 414279, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/5fd8e859d8cf73f2d49eb640964605bb?s=128&d=identicon&r=PG", "display_name": "rurban", "link": "https://stackoverflow.com/users/414279/rurban"}, "reply_to_user": {"reputation": 25859, "user_id": 1077672, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/f00f8b55b0ade2c4748e94fb73a40662?s=128&d=identicon&r=PG", "display_name": "raiph", "link": "https://stackoverflow.com/users/1077672/raiph"}, "edited": false, "score": 0, "creation_date": 1456140061, "post_id": 31309920, "comment_id": 58792560, "body": "raiph: Probably contrary to you I actually learned some asian languages like hangul and japanese, and in those languages (in fact most east asian based languages)  &quot;the basic unit for grapheme clusters for indic and south-east asian scripts is the syllable&quot; - <a href=\"https://www.w3.org/International/reviews/0801-uax29/\" rel=\"nofollow noreferrer\">w3.org/International/reviews/0801-uax29</a> (Conjunct clusters)  Insisting that I am wrong would require some effort to argue what exactly is wrong in my explanation."}, {"owner": {"reputation": 25859, "user_id": 1077672, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/f00f8b55b0ade2c4748e94fb73a40662?s=128&d=identicon&r=PG", "display_name": "raiph", "link": "https://stackoverflow.com/users/1077672/raiph"}, "edited": false, "score": 0, "creation_date": 1456186861, "post_id": 31309920, "comment_id": 58821223, "body": "/o\\ Thanks for being gentle. :) The link you sent was helpful. I got confused about &quot;grapheme cluster&quot;. Do you agree with: 1) \u5408 is one <i>extended</i> grapheme cluster (EGC). 2) The East Asian Width property assumes use of <i>tailored</i> grapheme clusters (TGC). 3) These particular TGCs would cluster based on syllables. 4) The East Asian Width property is about figuring out a setting of 1 or 2 for each syllable. 5) Rakudo/MoarVM does not support <i>any</i> TGCs, just EGCs. 6) CPAN is in pretty good shape, Unicode wise. 7) One can usefully use Unicode modules from CPAN in Rakudo. 8) You were right all along?"}], "tags": [], "owner": {"reputation": 3676, "user_id": 414279, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/5fd8e859d8cf73f2d49eb640964605bb?s=128&d=identicon&r=PG", "display_name": "rurban", "link": "https://stackoverflow.com/users/414279/rurban"}, "is_accepted": true, "score": 4, "last_activity_date": 1436424085, "creation_date": 1436424085, "answer_id": 31309920, "question_id": 31250503, "link": "https://stackoverflow.com/questions/31250503/perl-6-and-print-columns/31309920#31309920", "title": "Perl 6 and print columns", "body": "<p>Perl6 has builtin Unicode support, with native Uni and NFC/NFD/NFKC/NFKD normalized types.</p>\n\n<p>What I vaguely understand is, that the Unicode::GCString::columns method determines eastasian language linebreaking support.\n\u5408 is composed of 2 \"syllables\" (they call it \"grapheme clusters\") on top of each other, thus 2 columns.</p>\n\n<p>That being said, perl6 internally (on the MoarVM level) has access to the unicode database where the linebreaking properties are stored, but to my knowledge there's currently no module, like Unicode::UCD available to make the East_Asian_Width properties available for something like a Unicode::GCString.</p>\n\n<p>On the other side, converting Unicode::LineBreak to perl6 looks easy enough, accessing the sombok library via NativeCall.</p>\n"}], "owner": {"reputation": 21019, "user_id": 198183, "user_type": "registered", "accept_rate": 95, "profile_image": "https://www.gravatar.com/avatar/52f281a988bae754991af26224c796af?s=128&d=identicon&r=PG", "display_name": "sid_com", "link": "https://stackoverflow.com/users/198183/sid-com"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 234, "favorite_count": 0, "accepted_answer_id": 31309920, "answer_count": 1, "score": 7, "last_activity_date": 1575222852, "creation_date": 1436198616, "last_edit_date": 1575222852, "question_id": 31250503, "link": "https://stackoverflow.com/questions/31250503/perl-6-and-print-columns", "title": "Perl 6 and print columns", "body": "<p>Does Perl 6 have something equivalent to the <a href=\"https://metacpan.org/pod/Unicode::GCString\" rel=\"nofollow\">Unicode::GCString</a>'s <code>columns</code> method?</p>\n\n<p>Perl 5 example:</p>\n\n<pre><code>#!/usr/bin/env perl\nuse warnings;\nuse strict;\nuse 5.10.0;\nuse utf8;\nuse open qw( :std :utf8 );\nuse Unicode::GCString;\n\nmy $s = '\u5408'; # U+5408\n\nsay length $s;      # 1\n\nmy $gcs = Unicode::GCString-&gt;new( $s );\nsay $gcs-&gt;columns;  # 2\n</code></pre>\n"}, {"tags": ["c", "apache", "perl", "http", "mod-deflate"], "owner": {"reputation": 119, "user_id": 711953, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/8de55d4c095c7884ce2d7f2bee640ce9?s=128&d=identicon&r=PG", "display_name": "IM42", "link": "https://stackoverflow.com/users/711953/im42"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 290, "favorite_count": 0, "answer_count": 0, "score": 4, "last_activity_date": 1436195334, "creation_date": 1436194188, "last_edit_date": 1436195334, "question_id": 31248936, "link": "https://stackoverflow.com/questions/31248936/consuming-response-headers-in-apache-output-filter", "title": "Consuming response headers in Apache Output filter", "body": "<p>I am writing an apache module output filter that needs to consume a couple of internal-only response headers. These response headers are set by a <em>perl</em> based application running in the backend. The APR function I am using in my output filter is: </p>\n\n<pre><code>apr_table_get(r-&gt;headers_out, \"x-my-response-header\");\n</code></pre>\n\n<p>However, what seems to happen is that in my output filter I do not see the above response header set, up until the third or fourth bucket brigade - which is unfortunately already too late - I actually need to use the value of x-my-response-header to compute a new response header and set <em>that</em> in the response to the browser.</p>\n\n<p>I insert my output filter this way:</p>\n\n<pre><code>ap_hook_insert_filter(insertOutputFilterHook, NULL, NULL, APR_HOOK_FIRST);\nap_register_output_filter(myFiltersName, myOutputFilter, NULL, AP_FTYPE_CONTENT_SET);\n</code></pre>\n\n<p>What I have verified:</p>\n\n<ul>\n<li>The internal-only headers do appear on the HTTP response on my browser (haven't unset them yet)</li>\n<li>The first two bucket brigade's buckets contain html page text</li>\n</ul>\n\n<p>Questions:</p>\n\n<ul>\n<li>What could be the reasons for why the internal-only response header not be set/visible in the first call to my output filter / first bucket brigade?</li>\n<li>Is it possible to instead accumulate the first few bucket brigades and then start flushing them out once the internal only response header's value known?</li>\n</ul>\n"}, {"tags": ["perl"], "comments": [{"owner": {"reputation": 233489, "user_id": 14122, "user_type": "registered", "accept_rate": 71, "profile_image": "https://www.gravatar.com/avatar/5e2861b08f37fa306fbf5384994af688?s=128&d=identicon&r=PG", "display_name": "Charles Duffy", "link": "https://stackoverflow.com/users/14122/charles-duffy"}, "edited": false, "score": 6, "creation_date": 1436189499, "post_id": 31247172, "comment_id": 50491692, "body": "Why do you have <code>print</code> in three places?"}, {"owner": {"reputation": 68627, "user_id": 258523, "user_type": "registered", "accept_rate": 83, "profile_image": "https://www.gravatar.com/avatar/102329bab02333104708ac179f35fd8d?s=128&d=identicon&r=PG&f=1", "display_name": "Etan Reisner", "link": "https://stackoverflow.com/users/258523/etan-reisner"}, "edited": false, "score": 1, "creation_date": 1436189538, "post_id": 31247172, "comment_id": 50491710, "body": "You wanted a leading boolean test. You have a leading <code>print</code> statement. <code>print</code> on &quot;does <code>&#47;root&#47;</code> match&quot; is presumably returning <code>1</code> (and then evaluates to <code>true</code> or <code>false</code> as approriate.. Drop the first <code>print</code>."}], "answers": [{"comments": [{"owner": {"reputation": 233489, "user_id": 14122, "user_type": "registered", "accept_rate": 71, "profile_image": "https://www.gravatar.com/avatar/5e2861b08f37fa306fbf5384994af688?s=128&d=identicon&r=PG", "display_name": "Charles Duffy", "link": "https://stackoverflow.com/users/14122/charles-duffy"}, "edited": false, "score": 0, "creation_date": 1436190607, "post_id": 31247226, "comment_id": 50492488, "body": "I might bow out here -- you were a second or two faster than me, and Tom&#39;s answer is more comprehensive.:)"}, {"owner": {"reputation": 3984, "user_id": 1801086, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/ef4c0400ffff14d5e1c16ca3856c09ba?s=128&d=identicon&r=PG", "display_name": "tjd", "link": "https://stackoverflow.com/users/1801086/tjd"}, "edited": false, "score": 1, "creation_date": 1436191851, "post_id": 31247226, "comment_id": 50493377, "body": "Why 2 print statements and the ternary operator in void context?  Duffy&#39;s answer seems more correct to me."}, {"owner": {"reputation": 226874, "user_id": 1983854, "user_type": "registered", "accept_rate": 96, "profile_image": "https://i.stack.imgur.com/eKpAk.png?s=128&g=1", "display_name": "fedorqui &#39;SO stop harming&#39;", "link": "https://stackoverflow.com/users/1983854/fedorqui-so-stop-harming"}, "reply_to_user": {"reputation": 3984, "user_id": 1801086, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/ef4c0400ffff14d5e1c16ca3856c09ba?s=128&d=identicon&r=PG", "display_name": "tjd", "link": "https://stackoverflow.com/users/1801086/tjd"}, "edited": false, "score": 1, "creation_date": 1436191960, "post_id": 31247226, "comment_id": 50493458, "body": "@tjd not sure what you mean here. The question is about &quot;why&quot; it is printing 1 everywhere. There are many ways to do the same and, as I said before, once you have three similar answers at the same moment, you have to be careful on what you edit not to get the exact same answers."}], "tags": [], "owner": {"reputation": 226874, "user_id": 1983854, "user_type": "registered", "accept_rate": 96, "profile_image": "https://i.stack.imgur.com/eKpAk.png?s=128&g=1", "display_name": "fedorqui &#39;SO stop harming&#39;", "link": "https://stackoverflow.com/users/1983854/fedorqui-so-stop-harming"}, "is_accepted": false, "score": 3, "last_activity_date": 1436193357, "last_edit_date": 1436193357, "creation_date": 1436189531, "answer_id": 31247226, "question_id": 31247172, "link": "https://stackoverflow.com/questions/31247172/why-does-print-regex-print-a-print-b-put-1-before-each-line/31247226#31247226", "title": "Why does &quot;print /regex/ ? print a : print b&quot; put &quot;1&quot; before each line?", "body": "<p>You are getting a leading <code>1</code> on every line because it is the result of the evaluation of the <code>/root/ ? case_true : case_false</code>.</p>\n\n<p>To solve it, just get rid of the initial <code>print</code> before <code>/root/</code>:</p>\n\n<pre><code>cat /etc/passwd | perl -ne '/root/ ? print \"\\#$_\" : print $_'\n#                           ^\n#                   no print!\n</code></pre>\n\n<p>Note also there is no need to <code>cat file | perl</code>. Instead, say <code>perl file</code>:</p>\n\n<pre><code>perl -ne '/root/ ? print \"\\#$_\" : print $_' /etc/passwd\n</code></pre>\n"}, {"comments": [{"owner": {"reputation": 233489, "user_id": 14122, "user_type": "registered", "accept_rate": 71, "profile_image": "https://www.gravatar.com/avatar/5e2861b08f37fa306fbf5384994af688?s=128&d=identicon&r=PG", "display_name": "Charles Duffy", "link": "https://stackoverflow.com/users/14122/charles-duffy"}, "reply_to_user": {"reputation": 61610, "user_id": 725418, "user_type": "registered", "accept_rate": 86, "profile_image": "https://www.gravatar.com/avatar/82ac2dc3e1ad4b7187f245c416528df9?s=128&d=identicon&r=PG", "display_name": "TLP", "link": "https://stackoverflow.com/users/725418/tlp"}, "edited": false, "score": 1, "creation_date": 1436194419, "post_id": 31247231, "comment_id": 50495260, "body": "@TLP, my use of stdin redirection was deliberate there, to show something that&#39;s a universal replacement for (and just as performant as) <code>cat inputfile | foo</code>, whereas passing a filename on a command line only works for a limited subset of tools (though perl is indeed among them). Thus, changing <code>&lt;&#47;etc&#47;passwd</code> to <code>&#47;etc&#47;passwd</code> does have some impact on authorial intent, so I hope you understand the rollback. :)"}], "tags": [], "owner": {"reputation": 233489, "user_id": 14122, "user_type": "registered", "accept_rate": 71, "profile_image": "https://www.gravatar.com/avatar/5e2861b08f37fa306fbf5384994af688?s=128&d=identicon&r=PG", "display_name": "Charles Duffy", "link": "https://stackoverflow.com/users/14122/charles-duffy"}, "is_accepted": false, "score": 8, "last_activity_date": 1436194464, "last_edit_date": 1436194464, "creation_date": 1436189546, "answer_id": 31247231, "question_id": 31247172, "link": "https://stackoverflow.com/questions/31247172/why-does-print-regex-print-a-print-b-put-1-before-each-line/31247231#31247231", "title": "Why does &quot;print /regex/ ? print a : print b&quot; put &quot;1&quot; before each line?", "body": "<p>You only need one <code>print</code>; don't put two more inside the ternary!</p>\n\n<pre><code>perl -ne 'print /root/ ? \"\\#$_\" : $_' &lt;/etc/passwd\n</code></pre>\n\n<p>As it is, you're unconditionally printing the return value of whichever <code>print</code> the ternary operator executes -- hence, the <code>1</code>.</p>\n"}, {"comments": [{"owner": {"reputation": 61610, "user_id": 725418, "user_type": "registered", "accept_rate": 86, "profile_image": "https://www.gravatar.com/avatar/82ac2dc3e1ad4b7187f245c416528df9?s=128&d=identicon&r=PG", "display_name": "TLP", "link": "https://stackoverflow.com/users/725418/tlp"}, "edited": false, "score": 1, "creation_date": 1436191723, "post_id": 31247245, "comment_id": 50493294, "body": "<code>perl -pe &#39;s&#47;^(?=root:)&#47;#&#47;&#39; &#47;etc&#47;passwd</code>"}, {"owner": {"reputation": 64845, "user_id": 2088135, "user_type": "registered", "accept_rate": 93, "profile_image": "https://i.stack.imgur.com/YB10Q.jpg?s=128&g=1", "display_name": "Tom Fenech", "link": "https://stackoverflow.com/users/2088135/tom-fenech"}, "reply_to_user": {"reputation": 61610, "user_id": 725418, "user_type": "registered", "accept_rate": 86, "profile_image": "https://www.gravatar.com/avatar/82ac2dc3e1ad4b7187f245c416528df9?s=128&d=identicon&r=PG", "display_name": "TLP", "link": "https://stackoverflow.com/users/725418/tlp"}, "edited": false, "score": 0, "creation_date": 1436191856, "post_id": 31247245, "comment_id": 50493379, "body": "@TLP Sure, as they say, there&#39;s more than one way to do it!"}], "tags": [], "owner": {"reputation": 64845, "user_id": 2088135, "user_type": "registered", "accept_rate": 93, "profile_image": "https://i.stack.imgur.com/YB10Q.jpg?s=128&g=1", "display_name": "Tom Fenech", "link": "https://stackoverflow.com/users/2088135/tom-fenech"}, "is_accepted": true, "score": 10, "last_activity_date": 1436194030, "last_edit_date": 1436194030, "creation_date": 1436189587, "answer_id": 31247245, "question_id": 31247172, "link": "https://stackoverflow.com/questions/31247172/why-does-print-regex-print-a-print-b-put-1-before-each-line/31247245#31247245", "title": "Why does &quot;print /regex/ ? print a : print b&quot; put &quot;1&quot; before each line?", "body": "<p>You're printing the return value of <code>print</code>, which is successful so evaluates to <code>1</code>.</p>\n\n<p>I would suggest changing your code to this:</p>\n\n<pre><code>perl -pe '$_ = \"#$_\" if /root/' /etc/passwd\n</code></pre>\n\n<p>Here I'm using the <code>-p</code> switch, so that <code>$_</code> is always printed. A <code>#</code> is added before the start of the line when <code>/root/</code> matches.</p>\n\n<p>If you want to do the <code>print</code> explicitly, use this:</p>\n\n<pre><code>perl -ne 'print /root/ ? \"#$_\" : $_' /etc/passwd\n</code></pre>\n"}, {"tags": [], "owner": {"reputation": 123805, "user_id": 622310, "user_type": "registered", "accept_rate": 33, "profile_image": "https://www.gravatar.com/avatar/8b6d35219e1808520bc238b28161e2e6?s=128&d=identicon&r=PG", "display_name": "Borodin", "link": "https://stackoverflow.com/users/622310/borodin"}, "is_accepted": false, "score": 2, "last_activity_date": 1436199034, "last_edit_date": 1436199034, "creation_date": 1436192705, "answer_id": 31248387, "question_id": 31247172, "link": "https://stackoverflow.com/questions/31247172/why-does-print-regex-print-a-print-b-put-1-before-each-line/31248387#31248387", "title": "Why does &quot;print /regex/ ? print a : print b&quot; put &quot;1&quot; before each line?", "body": "<p>How about just</p>\n\n<pre><code>perl -pe 'print \"#\" if /root/' /etc/password\n</code></pre>\n\n<p>Which prints every line anyway because of the <code>-p</code>, but also prints a hash character first if the regex matches</p>\n"}], "owner": {"reputation": 5139, "user_id": 3293148, "user_type": "registered", "accept_rate": 99, "profile_image": "https://www.gravatar.com/avatar/a5b0a16cfd67f7e3944d886fd1bebde5?s=128&d=identicon&r=PG", "display_name": "Jasmine Lognnes", "link": "https://stackoverflow.com/users/3293148/jasmine-lognnes"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 163, "favorite_count": 0, "accepted_answer_id": 31247245, "answer_count": 4, "score": 3, "last_activity_date": 1436199034, "creation_date": 1436189330, "last_edit_date": 1436190551, "question_id": 31247172, "link": "https://stackoverflow.com/questions/31247172/why-does-print-regex-print-a-print-b-put-1-before-each-line", "title": "Why does &quot;print /regex/ ? print a : print b&quot; put &quot;1&quot; before each line?", "body": "<p>When I run the below Perl one-liner, it prints <code>1</code> in front of each line, which I don't want it to. All it should do is comment lines that match <code>root</code>.</p>\n\n<pre><code>$ cat /etc/passwd | perl -ne 'print /root/ ? print \"\\#$_\" : print $_'\n1daemon:x:1:1::/:\n1bin:x:2:2::/usr/bin:\n#root:x:0:0:Super-User:/root:/usr/bin/bash\n1sys:x:3:3::/:\n</code></pre>\n"}, {"tags": ["python", "perl", "awk"], "comments": [{"owner": {"reputation": 2971, "user_id": 2156909, "user_type": "registered", "accept_rate": 74, "profile_image": "https://www.gravatar.com/avatar/5dd8c24a242eb09bb69de8149ff0360a?s=128&d=identicon&r=PG", "display_name": "P.R.", "link": "https://stackoverflow.com/users/2156909/p-r"}, "edited": false, "score": 1, "creation_date": 1436189408, "post_id": 31247128, "comment_id": 50491635, "body": "I am not understanding the question. Do you want to have a single file with all rows of all files merged into a single file, by filtering the <code>mir_seq</code> and <code>freq</code> columns? Or do you want to filter <code>mir_seq</code> as well by some filter?"}, {"owner": {"reputation": 226874, "user_id": 1983854, "user_type": "registered", "accept_rate": 96, "profile_image": "https://i.stack.imgur.com/eKpAk.png?s=128&g=1", "display_name": "fedorqui &#39;SO stop harming&#39;", "link": "https://stackoverflow.com/users/1983854/fedorqui-so-stop-harming"}, "edited": false, "score": 1, "creation_date": 1436189451, "post_id": 31247128, "comment_id": 50491666, "body": "This is quite broad. What about stripping the unnecessary aspects of the question and work on a simple input with a desired, clean output. Also, can you show some of your attempts?"}], "answers": [{"tags": [], "owner": {"reputation": 155597, "user_id": 1745001, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/99a3ebae89496eb16afe453aae97f5be?s=128&d=identicon&r=PG", "display_name": "Ed Morton", "link": "https://stackoverflow.com/users/1745001/ed-morton"}, "is_accepted": false, "score": 2, "last_activity_date": 1436190061, "last_edit_date": 1436190061, "creation_date": 1436189708, "answer_id": 31247286, "question_id": 31247128, "link": "https://stackoverflow.com/questions/31247128/combine-files-based-on-columns/31247286#31247286", "title": "Combine files based on columns", "body": "<p>You only provided one sample input file so obviously this is untested since you can't test a \"merge\" with just 1 file:</p>\n\n<pre><code>awk '\nFNR==1 {\n    split(FILENAME,tmp,/[_.]/)\n    sfx = tmp[2]\n    sfxs[sfx]\n}\n{\n    keys[$1]\n    val[$1,sfx] = $4\n}\nEND {\n    printf \"mir_seq\"\n    for (sfx in sfxs) {\n        printf \"%sfreq_%s\", OFS, sfx\n    }\n    print \"\"\n\n    for (key in keys) {\n        printf \"%s\", key\n        for (sfx in sfxs) {\n            printf \"%s%d\", OFS, val[key,sfx]\n        }\n        print \"\"\n    }\n}\n' Miraligner_*\n</code></pre>\n"}, {"comments": [{"owner": {"reputation": 654, "user_id": 4033639, "user_type": "registered", "accept_rate": 72, "profile_image": "https://www.gravatar.com/avatar/79757e1aaaebf7f131c462f5234bfe54?s=128&d=identicon&r=PG&f=1", "display_name": "BioMan", "link": "https://stackoverflow.com/users/4033639/bioman"}, "edited": false, "score": 0, "creation_date": 1436216901, "post_id": 31249795, "comment_id": 50508254, "body": "I got this error:  Unrecognized character \\xE2; marked by &lt;-- HERE after } = $line{&lt;-- HERE near column 39 at merge.pl line 17."}, {"owner": {"reputation": 51521, "user_id": 2566198, "user_type": "registered", "accept_rate": 67, "profile_image": "https://i.stack.imgur.com/Y34ZA.jpg?s=128&g=1", "display_name": "Sobrique", "link": "https://stackoverflow.com/users/2566198/sobrique"}, "reply_to_user": {"reputation": 654, "user_id": 4033639, "user_type": "registered", "accept_rate": 72, "profile_image": "https://www.gravatar.com/avatar/79757e1aaaebf7f131c462f5234bfe54?s=128&d=identicon&r=PG&f=1", "display_name": "BioMan", "link": "https://stackoverflow.com/users/4033639/bioman"}, "edited": false, "score": 0, "creation_date": 1436217034, "post_id": 31249795, "comment_id": 50508313, "body": "Stray character from copy and paste maybe?"}], "tags": [], "owner": {"reputation": 51521, "user_id": 2566198, "user_type": "registered", "accept_rate": 67, "profile_image": "https://i.stack.imgur.com/Y34ZA.jpg?s=128&g=1", "display_name": "Sobrique", "link": "https://stackoverflow.com/users/2566198/sobrique"}, "is_accepted": true, "score": 2, "last_activity_date": 1436196922, "last_edit_date": 1436196922, "creation_date": 1436196618, "answer_id": 31249795, "question_id": 31247128, "link": "https://stackoverflow.com/questions/31247128/combine-files-based-on-columns/31249795#31249795", "title": "Combine files based on columns", "body": "<p>OK, given you're processing files:</p>\n\n<pre><code>Miraligner_94G.txt.mirna\nMiraligner_944G.txt.mirna\n</code></pre>\n\n<p>It looks like you're just picking out the columns from each. </p>\n\n<p>So:</p>\n\n<pre><code>#!/usr/bin/env perl\nuse strict;\nuse warnings;\n\nmy %data;\nmy %seen;\n\nforeach my $file ( glob(\"Miraligner_*\") ) {\n    my ($freq_id) = ( $file =~ m/\\_(\\w+).txt/ );\n    $freq_id = \"freq_$freq_id\";\n    $seen{$freq_id}++;\n    open( my $input, \"&lt;\", $file ) or die $!;\n    my @headers = split( ' ', &lt;$input&gt; );\n    while (&lt;$input&gt;) {\n        my %line;\n        @line{@headers} = split;\n        my $key = $line{'mir_seq'};\n        $data{$key}{$freq_id} = $line{'freq'};\n    }\n    close($input);\n}\n\nmy @cols = sort keys %seen;\nprint join( \"\\t\", \"mir_seq\", @cols ), \"\\n\";\nforeach my $mir_seq ( sort keys %data ) {\n    my @output_cols = map { $_ // 0 } @{ $data{$mir_seq} }{@cols};\n    print join( \"\\t\", $mir_seq, @output_cols ), \"\\n\";\n}\n</code></pre>\n\n<p>Given your dataset outputs (tab separated):</p>\n\n<pre><code>mir_seq freq_944G   freq_94G\nhsa-miR-10a-5p_GACCCTGTAGATCCGAATTTGTA  1   0\nhsa-miR-10a-5p_GACCCTGTAGATCCGAATTTGTG  54  24\nhsa-miR-1296-5p_TTAGGGCCCTGGCTCCATCT    0   17\nhsa-miR-143-3p_TGAGAAGAAGCACTGTAGCTCTT  0   1\n</code></pre>\n\n<p>Note - if a value is undefined, it'll print a zero currently. You'll need to amend that map if you want to print something else. </p>\n\n<p>It also sorts alphabetically on most of these - which also may not be what you want, but there are plenty of examples of sorting that you can refer to. </p>\n"}], "owner": {"reputation": 654, "user_id": 4033639, "user_type": "registered", "accept_rate": 72, "profile_image": "https://www.gravatar.com/avatar/79757e1aaaebf7f131c462f5234bfe54?s=128&d=identicon&r=PG&f=1", "display_name": "BioMan", "link": "https://stackoverflow.com/users/4033639/bioman"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 46, "favorite_count": 1, "closed_date": 1436199981, "accepted_answer_id": 31249795, "answer_count": 2, "score": -3, "last_activity_date": 1436196922, "creation_date": 1436189191, "last_edit_date": 1436193309, "question_id": 31247128, "link": "https://stackoverflow.com/questions/31247128/combine-files-based-on-columns", "closed_reason": "Needs more focus", "title": "Combine files based on columns", "body": "<p>I have 100 files that I want to merge based on <code>mir_seq</code> in the files. The output should be one file that contains <code>mir_seq</code> and the column <code>freq</code> from the original files. </p>\n\n<p>The files look like this:</p>\n\n<p>file1:</p>\n\n<pre><code> mir_seq                                    seq                      name                   freq    mir start   end mism    add t5  t3  s5  s3  DB  ambiguity\nhsa-miR-143-3p_TGAGAAGAAGCACTGTAGCTCTT  TGAGAAGAAGCACTGTAGCTCTT seq_100006_x0     0 hsa-miR-143-3p  61  81  6AT u-TT    0   0   AGTCTGAG    GCTCAGGA    miRNA   1\nhsa-miR-10a-5p_GACCCTGTAGATCCGAATTTGTA  GACCCTGTAGATCCGAATTTGTA seq_100012_x1   1   hsa-miR-10a-5p  22  43  1GT u-A 0   u-G TATATACC    TGTGTAAG    miRNA   1\nhsa-miR-10a-5p_GACCCTGTAGATCCGAATTTGTG  GACCCTGTAGATCCGAATTTGTG seq_100013_x54  54  hsa-miR-10a-5p  22  44  1GT 0   0   0   TATATACC    TGTGTAAG    miRNA   1\n</code></pre>\n\n<p>file2:</p>\n\n<pre><code>mir_seq                                  seq    name    freq    mir start   end mism    add t5  t3  s5  s3  DB    ambiguity\nhsa-miR-143-3p_TGAGAAGAAGCACTGTAGCTCTT  TGAGAAGAAGCACTGTAGCTCTT seq_100006_x1   1   hsa-miR-143-3p  61  81  6AT u-TT    0   0   AGTCTGAG    GCTCAGGA    miRNA   1\nhsa-miR-10a-5p_GACCCTGTAGATCCGAATTTGTA  GACCCTGTAGATCCGAATTTGTA seq_100012_x0   0   hsa-miR-10a-5p  22  43  1GT u-A 0   u-G TATATACC    TGTGTAAG    miRNA   1\nhsa-miR-10a-5p_GACCCTGTAGATCCGAATTTGTG  GACCCTGTAGATCCGAATTTGTG seq_100013_x24  24  hsa-miR-10a-5p  22  44  1GT 0   0   0   TATATACC    TGTGTAAG    miRNA   1\nhsa-miR-1296-5p_TTAGGGCCCTGGCTCCATCT    TTAGGGCCCTGGCTCCATCT    seq_100019_x17  17  hsa-miR-1296-5p 16  35  0   0   0   u-CC    TGGGTTAG    CTCCTTTA    miRNA   1\n</code></pre>\n\n<p>The files are named like this and only differ in the part between <code>_</code> and <code>.txt.mirna</code> and is tab-separated:</p>\n\n<pre><code>Miraligner_94G.txt.mirna\nMiraligner_944G.txt.mirna\n</code></pre>\n\n<p>The output files should be something like this:</p>\n\n<pre><code>mir_seq                                  freq_94G     freq_944G     freq_912R\nhsa-miR-143-3p_TGAGAAGAAGCACTGTAGCTCTT   0            12            55\n</code></pre>\n"}, {"tags": ["perl", "packages", "perl-module"], "answers": [{"comments": [{"owner": {"reputation": 51521, "user_id": 2566198, "user_type": "registered", "accept_rate": 67, "profile_image": "https://i.stack.imgur.com/Y34ZA.jpg?s=128&g=1", "display_name": "Sobrique", "link": "https://stackoverflow.com/users/2566198/sobrique"}, "reply_to_user": {"reputation": 1189, "user_id": 2622293, "user_type": "registered", "accept_rate": 78, "profile_image": "https://i.stack.imgur.com/siKFs.jpg?s=128&g=1", "display_name": "EverythingRightPlace", "link": "https://stackoverflow.com/users/2622293/everythingrightplace"}, "edited": false, "score": 0, "creation_date": 1436190631, "post_id": 31247146, "comment_id": 50492511, "body": "Why would you expect it to be? A module is a separate name space, so doesn&#39;t automatically include variables from your program. (that could get very messy)"}, {"owner": {"reputation": 1189, "user_id": 2622293, "user_type": "registered", "accept_rate": 78, "profile_image": "https://i.stack.imgur.com/siKFs.jpg?s=128&g=1", "display_name": "EverythingRightPlace", "link": "https://stackoverflow.com/users/2622293/everythingrightplace"}, "edited": false, "score": 0, "creation_date": 1436191090, "post_id": 31247146, "comment_id": 50492856, "body": "But dirName is a global variable and of course I need it to be accessible from everywhere."}, {"owner": {"reputation": 51521, "user_id": 2566198, "user_type": "registered", "accept_rate": 67, "profile_image": "https://i.stack.imgur.com/Y34ZA.jpg?s=128&g=1", "display_name": "Sobrique", "link": "https://stackoverflow.com/users/2566198/sobrique"}, "reply_to_user": {"reputation": 1189, "user_id": 2622293, "user_type": "registered", "accept_rate": 78, "profile_image": "https://i.stack.imgur.com/siKFs.jpg?s=128&g=1", "display_name": "EverythingRightPlace", "link": "https://stackoverflow.com/users/2622293/everythingrightplace"}, "edited": false, "score": 0, "creation_date": 1436192980, "post_id": 31247146, "comment_id": 50494181, "body": "I&#39;m afraid you may be misunderstanding the point and purpose of modules. Global variables aren&#39;t good or useful. Much of programming over the last 20 years has been about <i>limiting</i> scope, not expanding it."}, {"owner": {"reputation": 1189, "user_id": 2622293, "user_type": "registered", "accept_rate": 78, "profile_image": "https://i.stack.imgur.com/siKFs.jpg?s=128&g=1", "display_name": "EverythingRightPlace", "link": "https://stackoverflow.com/users/2622293/everythingrightplace"}, "edited": false, "score": 0, "creation_date": 1436193381, "post_id": 31247146, "comment_id": 50494476, "body": "I am a beginner so you will most likely be right. You would suggest to use something like <code>$FindBin::Bin</code> in general in modules when I need the path of my tool?"}, {"owner": {"reputation": 51521, "user_id": 2566198, "user_type": "registered", "accept_rate": 67, "profile_image": "https://i.stack.imgur.com/Y34ZA.jpg?s=128&g=1", "display_name": "Sobrique", "link": "https://stackoverflow.com/users/2566198/sobrique"}, "reply_to_user": {"reputation": 1189, "user_id": 2622293, "user_type": "registered", "accept_rate": 78, "profile_image": "https://i.stack.imgur.com/siKFs.jpg?s=128&g=1", "display_name": "EverythingRightPlace", "link": "https://stackoverflow.com/users/2622293/everythingrightplace"}, "edited": false, "score": 0, "creation_date": 1436193499, "post_id": 31247146, "comment_id": 50494565, "body": "The key question would be - what do you need this for? <i>usually</i> what you get from modules is a bunch of generic-ish subroutines that you &#39;drive&#39; from your main code. Thus any paths etc. <i>shouldn&#39;t</i> be hardcoded into the module."}], "tags": [], "owner": {"reputation": 51521, "user_id": 2566198, "user_type": "registered", "accept_rate": 67, "profile_image": "https://i.stack.imgur.com/Y34ZA.jpg?s=128&g=1", "display_name": "Sobrique", "link": "https://stackoverflow.com/users/2566198/sobrique"}, "is_accepted": true, "score": 3, "last_activity_date": 1436189242, "creation_date": 1436189242, "answer_id": 31247146, "question_id": 31247104, "link": "https://stackoverflow.com/questions/31247104/global-usage-of-tool-location-while-using-packages/31247146#31247146", "title": "Global usage of tool location while using packages", "body": "<p>What you are looking for I think is the <a href=\"http://perldoc.perl.org/FindBin.html\" rel=\"nofollow\"><code>FindBin</code></a> module.</p>\n\n<p>It allows you to include things relative to your current location like so:</p>\n\n<pre><code>use FindBin;\nuse lib $FindBin::RealBin. \"../mod_path\";\nuse myModul;\n</code></pre>\n\n<p>(You should also turn on <code>strict</code> and <code>warnings</code>)</p>\n"}, {"tags": [], "owner": {"reputation": 320771, "user_id": 589924, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/b2cf53d5a3d25f95c0db4e025aed4153?s=128&d=identicon&r=PG", "display_name": "ikegami", "link": "https://stackoverflow.com/users/589924/ikegami"}, "is_accepted": false, "score": 0, "last_activity_date": 1436193247, "creation_date": 1436193247, "answer_id": 31248605, "question_id": 31247104, "link": "https://stackoverflow.com/questions/31247104/global-usage-of-tool-location-while-using-packages/31248605#31248605", "title": "Global usage of tool location while using packages", "body": "<p>To access a variable in another package, you need to include the package in the mention.</p>\n\n<pre><code>$main::dirName\n</code></pre>\n"}], "owner": {"reputation": 1189, "user_id": 2622293, "user_type": "registered", "accept_rate": 78, "profile_image": "https://i.stack.imgur.com/siKFs.jpg?s=128&g=1", "display_name": "EverythingRightPlace", "link": "https://stackoverflow.com/users/2622293/everythingrightplace"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 29, "favorite_count": 0, "accepted_answer_id": 31247146, "answer_count": 2, "score": 2, "last_activity_date": 1436193247, "creation_date": 1436189111, "last_edit_date": 1495541646, "question_id": 31247104, "link": "https://stackoverflow.com/questions/31247104/global-usage-of-tool-location-while-using-packages", "title": "Global usage of tool location while using packages", "body": "<p>I have a folder <strong>tmp</strong> which lies in the tool-directory and contains different modules like e.g. myModul.pm:</p>\n\n<pre><code>package myModul;\n\nprint \"path in myModul.pm: $dirName\\n\";\n</code></pre>\n\n<p>Those are called in the Main, which looks the following:</p>\n\n<pre><code>#!/usr/bin/perl\nuse strict;\nuse warnings;\nuse File::Basename;\nuse Data::Dumper;\n\nuse vars qw($dirName);\nBEGIN{\n        $dirName = dirname(__FILE__);\n        print \"tool location: $dirName\\n\";\n#        push @INC, \"$dirName/tmp\";\n}\n\nuse lib \"$dirName/tmp\";\n\nuse myModul;\nprint Dumper \\@INC;\n</code></pre>\n\n<p>The path <strong>dirName</strong> isn't been printed correctly in myModul.pm which is my problem. If I remove the <code>package myModul</code> line it works, but this isn't really a way to handle it.</p>\n\n<p>I simply want to use the location of the Perl-script without hardcoding it...</p>\n\n<p>I read topics like <a href=\"https://stackoverflow.com/questions/2526804/how-is-perls-inc-constructed-aka-what-are-all-the-ways-of-affecting-where-pe?\">that</a> and <a href=\"https://stackoverflow.com/questions/13950637/how-do-you-use-a-variable-in-lib-path\">that</a> and <a href=\"http://www.perlmonks.org/?node_id=285370\" rel=\"nofollow noreferrer\">that</a> but can't really figure out how this works. What I don't want is the need to manually set an environment variable or the kind. That's just another source of problems.</p>\n"}, {"tags": ["perl", "mojolicious", "mojolicious-lite"], "comments": [{"owner": {"reputation": 51521, "user_id": 2566198, "user_type": "registered", "accept_rate": 67, "profile_image": "https://i.stack.imgur.com/Y34ZA.jpg?s=128&g=1", "display_name": "Sobrique", "link": "https://stackoverflow.com/users/2566198/sobrique"}, "edited": false, "score": 3, "creation_date": 1436185602, "post_id": 31245708, "comment_id": 50488960, "body": "Pretty sure it doesn&#39;t. It just sets <code>param2</code> to <code>undef</code>. If you&#39;re getting 404 it&#39;s because your callback isn&#39;t rendering anything."}, {"owner": {"reputation": 2635, "user_id": 2246559, "user_type": "registered", "accept_rate": 53, "profile_image": "https://i.stack.imgur.com/pdGH2.jpg?s=128&g=1", "display_name": "Danny Sullivan", "link": "https://stackoverflow.com/users/2246559/danny-sullivan"}, "reply_to_user": {"reputation": 51521, "user_id": 2566198, "user_type": "registered", "accept_rate": 67, "profile_image": "https://i.stack.imgur.com/Y34ZA.jpg?s=128&g=1", "display_name": "Sobrique", "link": "https://stackoverflow.com/users/2566198/sobrique"}, "edited": false, "score": 0, "creation_date": 1436185898, "post_id": 31245708, "comment_id": 50489196, "body": "If it&#39;s routed to the correct callback shouldn&#39;t it always return something besides 404? My problem is that it doesn&#39;t even appear to be routed to the correct callback. Though if I were to specify both <code>param1</code> and <code>param2</code> it would be routed to <code>post_callback</code> and return 200."}, {"owner": {"reputation": 51521, "user_id": 2566198, "user_type": "registered", "accept_rate": 67, "profile_image": "https://i.stack.imgur.com/Y34ZA.jpg?s=128&g=1", "display_name": "Sobrique", "link": "https://stackoverflow.com/users/2566198/sobrique"}, "edited": false, "score": 1, "creation_date": 1436186029, "post_id": 31245708, "comment_id": 50489305, "body": "No. Mojolicious renders something when it gets told to. Sometimes it does this implicitly. Try adding: <code>$mojo -&gt; render ( text =&gt; &quot;It worked&quot; );</code> at the end of your callback."}, {"owner": {"reputation": 2635, "user_id": 2246559, "user_type": "registered", "accept_rate": 53, "profile_image": "https://i.stack.imgur.com/pdGH2.jpg?s=128&g=1", "display_name": "Danny Sullivan", "link": "https://stackoverflow.com/users/2246559/danny-sullivan"}, "reply_to_user": {"reputation": 51521, "user_id": 2566198, "user_type": "registered", "accept_rate": 67, "profile_image": "https://i.stack.imgur.com/Y34ZA.jpg?s=128&g=1", "display_name": "Sobrique", "link": "https://stackoverflow.com/users/2566198/sobrique"}, "edited": false, "score": 0, "creation_date": 1436187000, "post_id": 31245708, "comment_id": 50489954, "body": "Excellent, thanks very much for your help!"}, {"owner": {"reputation": 51521, "user_id": 2566198, "user_type": "registered", "accept_rate": 67, "profile_image": "https://i.stack.imgur.com/Y34ZA.jpg?s=128&g=1", "display_name": "Sobrique", "link": "https://stackoverflow.com/users/2566198/sobrique"}, "edited": false, "score": 0, "creation_date": 1436187797, "post_id": 31245708, "comment_id": 50490510, "body": "If that solved it, can I suggest adding a quick summary answer for the benefit of future readers?"}, {"owner": {"reputation": 2635, "user_id": 2246559, "user_type": "registered", "accept_rate": 53, "profile_image": "https://i.stack.imgur.com/pdGH2.jpg?s=128&g=1", "display_name": "Danny Sullivan", "link": "https://stackoverflow.com/users/2246559/danny-sullivan"}, "reply_to_user": {"reputation": 51521, "user_id": 2566198, "user_type": "registered", "accept_rate": 67, "profile_image": "https://i.stack.imgur.com/Y34ZA.jpg?s=128&g=1", "display_name": "Sobrique", "link": "https://stackoverflow.com/users/2566198/sobrique"}, "edited": false, "score": 1, "creation_date": 1436188793, "post_id": 31245708, "comment_id": 50491184, "body": "Sure thing, standby..."}], "answers": [{"tags": [], "owner": {"reputation": 2635, "user_id": 2246559, "user_type": "registered", "accept_rate": 53, "profile_image": "https://i.stack.imgur.com/pdGH2.jpg?s=128&g=1", "display_name": "Danny Sullivan", "link": "https://stackoverflow.com/users/2246559/danny-sullivan"}, "is_accepted": true, "score": 1, "last_activity_date": 1436188766, "creation_date": 1436188766, "answer_id": 31246989, "question_id": 31245708, "link": "https://stackoverflow.com/questions/31245708/optional-post-parameters-in-mojolicious-lite-with-perl/31246989#31246989", "title": "Optional POST Parameters in Mojolicious Lite with Perl", "body": "<p>My problem was that I misunderstood how mojolicious was routing to the callback. The following code works with both parameters being optional:</p>\n\n<pre><code>#!/usr/bin/env perl\nuse strict;\nuse warnings;\nuse Mojolicious::Lite;\n\npost '/' =&gt; sub {\n    my ($mojo) = @_;\n    my $param1 = $mojo-&gt;param(\"param1\");\n    my $param2 = $mojo-&gt;param(\"param2\");\n    $mojo-&gt;render(text =&gt; \"param1: $param1, param2: $param2\");\n};\n\napp-&gt;start;\n</code></pre>\n\n<p>If you run this using: <code>./my_server.pl daemon</code> you will be able to send POST requests with any combination of parameters. </p>\n"}, {"tags": [], "owner": {"reputation": 715, "user_id": 5218508, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/d88149bda385492c0f7ce78727dce639?s=128&d=identicon&r=PG&f=1", "display_name": "Rob Lassche", "link": "https://stackoverflow.com/users/5218508/rob-lassche"}, "is_accepted": false, "score": 1, "last_activity_date": 1536135246, "creation_date": 1536135246, "answer_id": 52180330, "question_id": 31245708, "link": "https://stackoverflow.com/questions/31245708/optional-post-parameters-in-mojolicious-lite-with-perl/52180330#52180330", "title": "Optional POST Parameters in Mojolicious Lite with Perl", "body": "<p>In a post, I prefer not to use parameters but post all parameters in one JSON string.\nThe mojolicous post-action will receive the json-string as a hash reference.</p>\n\n<p>Example:</p>\n\n<pre><code># The posted data looks like:\n# '{ \"username\": \"rob\", \"password\": \"secret\" }'\n#\nsub authenticate {\n    my $self = shift;\n    my $jsonHash = $self-&gt;req-&gt;json ;\n    $self-&gt;render( text =&gt; Dumper($jsonHash)) ;\n}\n</code></pre>\n\n<p>With curl it is easy to test the post:</p>\n\n<pre><code>curl -X POST -d '{ \"username\": \"rob\", \"password\": \"secret\" }' http://hp-probook:3000/users/authenticate\n</code></pre>\n"}], "owner": {"reputation": 2635, "user_id": 2246559, "user_type": "registered", "accept_rate": 53, "profile_image": "https://i.stack.imgur.com/pdGH2.jpg?s=128&g=1", "display_name": "Danny Sullivan", "link": "https://stackoverflow.com/users/2246559/danny-sullivan"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 664, "favorite_count": 0, "accepted_answer_id": 31246989, "answer_count": 2, "score": 1, "last_activity_date": 1536135246, "creation_date": 1436185277, "question_id": 31245708, "link": "https://stackoverflow.com/questions/31245708/optional-post-parameters-in-mojolicious-lite-with-perl", "title": "Optional POST Parameters in Mojolicious Lite with Perl", "body": "<p>Is there a way to denote a POST parameter as optional in Perl using Mojolicious Lite? For instance, is there a way to make the server not return 404 if <code>param2</code> is not defined in the request body?</p>\n\n<pre><code>post \"/my_post\" =&gt; \\&amp;render(post_callback);\n\nsub post_callback {\n    my ($mojo) = @_;\n    my $param1 = $mojo-&gt;param(\"param1\");\n    my $param2 = $mojo-&gt;param(\"param2\");\n}\n</code></pre>\n"}, {"tags": ["regex", "perl", "shell", "pattern-matching"], "comments": [{"owner": {"reputation": 51521, "user_id": 2566198, "user_type": "registered", "accept_rate": 67, "profile_image": "https://i.stack.imgur.com/Y34ZA.jpg?s=128&g=1", "display_name": "Sobrique", "link": "https://stackoverflow.com/users/2566198/sobrique"}, "edited": false, "score": 3, "creation_date": 1436184800, "post_id": 31245466, "comment_id": 50488396, "body": "What&#39;s the desired output?"}, {"owner": {"reputation": 75, "user_id": 3073392, "user_type": "registered", "accept_rate": 29, "profile_image": "https://www.gravatar.com/avatar/e032841e515af2f2b9ad57c475d02e82?s=128&d=identicon&r=PG&f=1", "display_name": "Chaya", "link": "https://stackoverflow.com/users/3073392/chaya"}, "reply_to_user": {"reputation": 51521, "user_id": 2566198, "user_type": "registered", "accept_rate": 67, "profile_image": "https://i.stack.imgur.com/Y34ZA.jpg?s=128&g=1", "display_name": "Sobrique", "link": "https://stackoverflow.com/users/2566198/sobrique"}, "edited": false, "score": 0, "creation_date": 1436185034, "post_id": 31245466, "comment_id": 50488561, "body": "Desired out put should be :                    BOI_TESTFEED|youghalsw1|10014 BOI_TESTFEED|youghalsw2|10015 BOI_TESTFEED|youghalsw3|10013                                                                It should stripoff the second column data after .appears"}, {"owner": {"reputation": 4551, "user_id": 3790360, "user_type": "registered", "accept_rate": 57, "profile_image": "https://www.gravatar.com/avatar/ef9805061faba2c8d3d95a1929702294?s=128&d=identicon&r=PG&f=1", "display_name": "Andie2302", "link": "https://stackoverflow.com/users/3790360/andie2302"}, "edited": false, "score": 0, "creation_date": 1436185621, "post_id": 31245466, "comment_id": 50488980, "body": "You could use: <code>$subject =~ s&#47;\\..*?\\|&#47;|&#47;g;</code>  But this is not limited to the second column."}, {"owner": {"reputation": 51521, "user_id": 2566198, "user_type": "registered", "accept_rate": 67, "profile_image": "https://i.stack.imgur.com/Y34ZA.jpg?s=128&g=1", "display_name": "Sobrique", "link": "https://stackoverflow.com/users/2566198/sobrique"}, "edited": false, "score": 1, "creation_date": 1436185868, "post_id": 31245466, "comment_id": 50489172, "body": "I have edited your output into your question. It is much clearer to to this than put it in the comments."}], "answers": [{"tags": [], "owner": {"reputation": 51521, "user_id": 2566198, "user_type": "registered", "accept_rate": 67, "profile_image": "https://i.stack.imgur.com/Y34ZA.jpg?s=128&g=1", "display_name": "Sobrique", "link": "https://stackoverflow.com/users/2566198/sobrique"}, "is_accepted": false, "score": 0, "last_activity_date": 1436185481, "last_edit_date": 1436185481, "creation_date": 1436184994, "answer_id": 31245610, "question_id": 31245466, "link": "https://stackoverflow.com/questions/31245466/how-to-strip-off-the-dot-from-second-columns-data-of-file-using-perl/31245610#31245610", "title": "How to strip off the dot from second columns data of file using Perl", "body": "<p>How about:</p>\n\n<pre><code>#!/usr/bin/env perl\nuse strict;\nuse warnings;\n\nwhile (&lt;&gt;) {\n    my ($thing) = m/\\|(\\w+)\\./;\n    print $thing, \"\\n\";\n}\n</code></pre>\n\n<p>Given your input data outputs:</p>\n\n<pre><code>youghalsw1\nyoughalsw2\nyoughalsw3\n</code></pre>\n\n<p>Based on your updated comment:</p>\n\n<pre><code>#!/usr/bin/env perl\nuse strict;\nuse warnings;\n\nwhile (&lt;&gt;) {\n    my @stuff = split /\\|/;\n    $stuff[1] =~ s,\\..*,,g;\n    print join (\"|\", @stuff );\n}\n</code></pre>\n\n<p>Gives:</p>\n\n<pre><code>BOI_TESTFEED|youghalsw1|10014\nBOI_TESTFEED|youghalsw2|10015\nBOI_TESTFEED|youghalsw3|10013\n</code></pre>\n"}, {"comments": [{"owner": {"reputation": 75, "user_id": 3073392, "user_type": "registered", "accept_rate": 29, "profile_image": "https://www.gravatar.com/avatar/e032841e515af2f2b9ad57c475d02e82?s=128&d=identicon&r=PG&f=1", "display_name": "Chaya", "link": "https://stackoverflow.com/users/3073392/chaya"}, "edited": false, "score": 0, "creation_date": 1436185490, "post_id": 31245715, "comment_id": 50488873, "body": "Thanks for this answer, But it has to replace the data in file itself, as of now it is displaying in console..Please tell me the solution"}, {"owner": {"reputation": 51521, "user_id": 2566198, "user_type": "registered", "accept_rate": 67, "profile_image": "https://i.stack.imgur.com/Y34ZA.jpg?s=128&g=1", "display_name": "Sobrique", "link": "https://stackoverflow.com/users/2566198/sobrique"}, "edited": false, "score": 1, "creation_date": 1436185823, "post_id": 31245715, "comment_id": 50489135, "body": "Redirect the output to a file."}], "tags": [], "owner": {"reputation": 663, "user_id": 479061, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/f408d307e37070783761e070a4f289e3?s=128&d=identicon&r=PG&f=1", "display_name": "Uphill_ What &#39;1", "link": "https://stackoverflow.com/users/479061/uphill-what-1"}, "is_accepted": false, "score": 0, "last_activity_date": 1436185300, "creation_date": 1436185300, "answer_id": 31245715, "question_id": 31245466, "link": "https://stackoverflow.com/questions/31245466/how-to-strip-off-the-dot-from-second-columns-data-of-file-using-perl/31245715#31245715", "title": "How to strip off the dot from second columns data of file using Perl", "body": "<p>Since you tagged as \"shell\" the easier way to do it in a one-liner is:</p>\n\n<pre><code>cut -d'|' -f2 sample.txt | cut -d'.' -f1\n</code></pre>\n\n<p>The first cut command splits the text using | as the delimiter and returned the second column. The second cut command splits the text using the dot as the delimiter and returns the first column.</p>\n"}, {"comments": [{"owner": {"reputation": 75, "user_id": 3073392, "user_type": "registered", "accept_rate": 29, "profile_image": "https://www.gravatar.com/avatar/e032841e515af2f2b9ad57c475d02e82?s=128&d=identicon&r=PG&f=1", "display_name": "Chaya", "link": "https://stackoverflow.com/users/3073392/chaya"}, "edited": false, "score": 0, "creation_date": 1436190060, "post_id": 31245785, "comment_id": 50492095, "body": "It is displaying in console, It has to reflect on original file or write into another file.. Please  modify the above solution."}], "tags": [], "owner": {"reputation": 3327, "user_id": 1604311, "user_type": "registered", "accept_rate": 73, "profile_image": "https://i.stack.imgur.com/0frKT.jpg?s=128&g=1", "display_name": "Arunesh Singh", "link": "https://stackoverflow.com/users/1604311/arunesh-singh"}, "is_accepted": true, "score": -1, "last_activity_date": 1436185966, "last_edit_date": 1436185966, "creation_date": 1436185503, "answer_id": 31245785, "question_id": 31245466, "link": "https://stackoverflow.com/questions/31245466/how-to-strip-off-the-dot-from-second-columns-data-of-file-using-perl/31245785#31245785", "title": "How to strip off the dot from second columns data of file using Perl", "body": "<p>Try this:</p>\n\n<pre><code>#!/usr/bin/perl\nuse strict;\nuse warnings;\n\n\n\nopen my $fh, '&lt;', 'filename' or die \"unable to open file: $! \\n\"; \nwhile(&lt;$fh&gt;){\n#chomp;\nmy @array=split(/\\|/);\n$array[1]=~ s/\\.(.*)//g;\nprint join('|',@array);\n}\n\nclose($fh);\n</code></pre>\n\n<p>Output:</p>\n\n<pre><code>BOI_TESTFEED|youghalsw1|10014\nBOI_TESTFEED|youghalsw2|10015\nBOI_TESTFEED|youghalsw3|10013\n</code></pre>\n\n<p>Redirect output to file in one-liner reads from file1 writes to file2:</p>\n\n<pre><code>perl -lne '@string=split(/\\|/,$_);$string[1]=~ s/\\.(.*)//g;print join(\"|\" ,@string);' file1 &gt; file2\n</code></pre>\n"}, {"tags": [], "owner": {"reputation": 123805, "user_id": 622310, "user_type": "registered", "accept_rate": 33, "profile_image": "https://www.gravatar.com/avatar/8b6d35219e1808520bc238b28161e2e6?s=128&d=identicon&r=PG", "display_name": "Borodin", "link": "https://stackoverflow.com/users/622310/borodin"}, "is_accepted": false, "score": 1, "last_activity_date": 1436186170, "last_edit_date": 1592644375, "creation_date": 1436185784, "answer_id": 31245892, "question_id": 31245466, "link": "https://stackoverflow.com/questions/31245466/how-to-strip-off-the-dot-from-second-columns-data-of-file-using-perl/31245892#31245892", "title": "How to strip off the dot from second columns data of file using Perl", "body": "<h3>Update</h3>\n<p>Now that you have explained your requirement better, this solution will do as you ask</p>\n<pre><code>perl -pe's/ \\| [^.|]+ \\K [^|]* //x' sample.txt\n</code></pre>\n<p>This matches everything between the first and second pipe characters, and removes everything after and including the first dot</p>\n<hr />\n<p>You can do it this way. The regex just captures all characters that aren't a dot immediately after the first pipe character</p>\n<pre><code>perl -ne'print /\\|([^.]+)/' sample.txt\n</code></pre>\n"}, {"tags": [], "owner": {"reputation": 25491, "user_id": 49197, "user_type": "registered", "accept_rate": 75, "profile_image": "https://www.gravatar.com/avatar/15ebf24a33a29b9efbf9924f530dd736?s=128&d=identicon&r=PG", "display_name": "Hynek -Pichi- Vychodil", "link": "https://stackoverflow.com/users/49197/hynek-pichi-vychodil"}, "is_accepted": false, "score": 0, "last_activity_date": 1436205068, "creation_date": 1436205068, "answer_id": 31252448, "question_id": 31245466, "link": "https://stackoverflow.com/questions/31245466/how-to-strip-off-the-dot-from-second-columns-data-of-file-using-perl/31252448#31252448", "title": "How to strip off the dot from second columns data of file using Perl", "body": "<pre><code>perl -F'\\|' -ae'$F[1]=~s/\\..*//;print join\"|\",@F'\n</code></pre>\n"}], "owner": {"reputation": 75, "user_id": 3073392, "user_type": "registered", "accept_rate": 29, "profile_image": "https://www.gravatar.com/avatar/e032841e515af2f2b9ad57c475d02e82?s=128&d=identicon&r=PG&f=1", "display_name": "Chaya", "link": "https://stackoverflow.com/users/3073392/chaya"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 72, "favorite_count": 0, "accepted_answer_id": 31245785, "answer_count": 5, "score": -1, "last_activity_date": 1436205068, "creation_date": 1436184494, "last_edit_date": 1436185909, "question_id": 31245466, "link": "https://stackoverflow.com/questions/31245466/how-to-strip-off-the-dot-from-second-columns-data-of-file-using-perl", "title": "How to strip off the dot from second columns data of file using Perl", "body": "<p>I want to strip off the <code>dot(.)</code> from the second column of the file and print the pattern before the <code>dot(.)</code> Ex: <code>a15-ap-99995.wma.ibm.com</code>, In this pattern it has to display  only <code>a15-ap-99995</code> from the file <code>sample.txt</code>. </p>\n\n<p>Here is my try :</p>\n\n<pre><code> $string =~ s/[\\/\\s&gt;.(].*//;\n awk -F\\\\| '$string  print \\$2}' 'sample.txt'\n</code></pre>\n\n<p>Sample.txt contains following data :</p>\n\n<pre><code>BOI_TESTFEED|youghalsw1.boigroup.net|10014\nBOI_TESTFEED|youghalsw2.boigroup.net|10015\nBOI_TESTFEED|youghalsw3.boigroup.net|10013\n</code></pre>\n\n<p>Desired out put should be : </p>\n\n<pre><code>BOI_TESTFEED|youghalsw1|10014 \nBOI_TESTFEED|youghalsw2|10015 \nBOI_TESTFEED|youghalsw3|10013\n</code></pre>\n"}, {"tags": ["perl"], "answers": [{"comments": [{"owner": {"reputation": 59, "user_id": 5078428, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/24f96bc6e61be37e71f74dae6e472ceb?s=128&d=identicon&r=PG&f=1", "display_name": "shagi", "link": "https://stackoverflow.com/users/5078428/shagi"}, "edited": false, "score": 0, "creation_date": 1436181024, "post_id": 31243831, "comment_id": 50486029, "body": "That sounds good! Thak you"}, {"owner": {"reputation": 52821, "user_id": 632407, "user_type": "registered", "accept_rate": 86, "profile_image": "https://i.stack.imgur.com/AfGWW.jpg?s=128&g=1", "display_name": "jm666", "link": "https://stackoverflow.com/users/632407/jm666"}, "edited": false, "score": 3, "creation_date": 1436181274, "post_id": 31243831, "comment_id": 50486201, "body": "and it is <a href=\"http://perldoc.perl.org/functions/-X.html\" rel=\"nofollow noreferrer\">described here</a>"}, {"owner": {"reputation": 654, "user_id": 887441, "user_type": "registered", "accept_rate": 50, "profile_image": "https://www.gravatar.com/avatar/1b5fce6194eb19113beb48231ab64120?s=128&d=identicon&r=PG", "display_name": "Antonio", "link": "https://stackoverflow.com/users/887441/antonio"}, "reply_to_user": {"reputation": 59, "user_id": 5078428, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/24f96bc6e61be37e71f74dae6e472ceb?s=128&d=identicon&r=PG&f=1", "display_name": "shagi", "link": "https://stackoverflow.com/users/5078428/shagi"}, "edited": false, "score": 0, "creation_date": 1436184723, "post_id": 31243831, "comment_id": 50488345, "body": "@shagi, what about to accept the answer? :-) click the empty tick and it will become green"}, {"owner": {"reputation": 32176, "user_id": 2173773, "user_type": "registered", "accept_rate": 86, "profile_image": "https://i.stack.imgur.com/M8yh6.jpg?s=128&g=1", "display_name": "H&#229;kon H&#230;gland", "link": "https://stackoverflow.com/users/2173773/h%c3%a5kon-h%c3%a6gland"}, "edited": false, "score": 1, "creation_date": 1436202251, "post_id": 31243831, "comment_id": 50500221, "body": "Also note that it might be difficult to find this information on Google. For example, searching for <code>perl -s</code>, does not work, since the minus in front of a word means to exclude that from the search.. Even, <code>perl &quot;-s&quot;</code> is no good, but searching for <code>perl &quot;-X&quot;</code> will work :)"}], "tags": [], "owner": {"reputation": 654, "user_id": 887441, "user_type": "registered", "accept_rate": 50, "profile_image": "https://www.gravatar.com/avatar/1b5fce6194eb19113beb48231ab64120?s=128&d=identicon&r=PG", "display_name": "Antonio", "link": "https://stackoverflow.com/users/887441/antonio"}, "is_accepted": true, "score": 7, "last_activity_date": 1436180075, "last_edit_date": 1436180075, "creation_date": 1436179475, "answer_id": 31243831, "question_id": 31243578, "link": "https://stackoverflow.com/questions/31243578/what-does-it-mean-if-s-filename-in-perl/31243831#31243831", "title": "What does it mean if (-s $filename) in Perl?", "body": "<p>Tests if the file is not empty.</p>\n\n<pre><code>if (-s $filename) {\n    # The file is not empty\n}\n</code></pre>\n\n<p>More detail:</p>\n\n<pre><code>## if the file is not empty\nif ( -s $errorlog ) {\n    ## Open the file and assign the reference to variable LOG\n    ## in case of failure, stop the program -- die\n    ## with error message \"Unable to open logfile:&lt;FILE NAME&gt;\\n\"\n    open( LOG, \"$errorlog\" ) or die \"Unable to open logfile:$!\\n\";\n\n    ## While not end of file\n    while (&lt;LOG&gt;) {\n        ## read next line into local variable `line`\n        my ($line) = $_;\n\n        ## remove clutter from it (http://perldoc.perl.org/functions/chomp.html)\n        chomp($line);\n\n        ## if the line looks like \"11-05 01:01:12 ERROR\"\n        ## Regular expression used, probably to test for a date \n        ## after which string `ERROR` follows\n        if ( $line =~ m/\\d\\d-\\d\\d \\d\\d:\\d\\d:\\d\\d ERROR / )\n</code></pre>\n"}], "owner": {"reputation": 59, "user_id": 5078428, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/24f96bc6e61be37e71f74dae6e472ceb?s=128&d=identicon&r=PG&f=1", "display_name": "shagi", "link": "https://stackoverflow.com/users/5078428/shagi"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 2823, "favorite_count": 1, "closed_date": 1436215287, "accepted_answer_id": 31243831, "answer_count": 1, "score": 0, "last_activity_date": 1436186504, "creation_date": 1436178728, "last_edit_date": 1436186504, "question_id": 31243578, "link": "https://stackoverflow.com/questions/31243578/what-does-it-mean-if-s-filename-in-perl", "closed_reason": "Duplicate", "title": "What does it mean if (-s $filename) in Perl?", "body": "<p>I am very new to Perl. Can anyone explain what does it mean below lines?</p>\n\n<pre><code>if ( -s $errorlog ) {\n    open( LOG, \"$errorlog\" ) or die \"Unable to open logfile:$!\\n\";\n    while (&lt;LOG&gt;) {\n        my ($line) = $_;\n        chomp($line);\n        if ( $line =~ m/\\d\\d-\\d\\d \\d\\d:\\d\\d:\\d\\d ERROR / )\n</code></pre>\n\n<p>Highly appreciate for your reply.</p>\n"}, {"tags": ["regex", "perl", "shell"], "comments": [{"owner": {"reputation": 226874, "user_id": 1983854, "user_type": "registered", "accept_rate": 96, "profile_image": "https://i.stack.imgur.com/eKpAk.png?s=128&g=1", "display_name": "fedorqui &#39;SO stop harming&#39;", "link": "https://stackoverflow.com/users/1983854/fedorqui-so-stop-harming"}, "edited": false, "score": 3, "creation_date": 1436179439, "post_id": 31242908, "comment_id": 50485047, "body": "note this is not the first question you ask. Try to read <a href=\"https://stackoverflow.com/questions/how-to-ask\">How to Ask</a> to see how to format properly and, eventually, accept the answer that helped you the most."}], "answers": [{"comments": [{"owner": {"reputation": 75, "user_id": 3073392, "user_type": "registered", "accept_rate": 29, "profile_image": "https://www.gravatar.com/avatar/e032841e515af2f2b9ad57c475d02e82?s=128&d=identicon&r=PG&f=1", "display_name": "Chaya", "link": "https://stackoverflow.com/users/3073392/chaya"}, "edited": false, "score": 0, "creation_date": 1436179035, "post_id": 31242951, "comment_id": 50484810, "body": "s=&#39;a15-ap-99995&gt;wma.ibm.com&#39; ;    system(&quot;~ s/[\\/\\s&gt;.].*//;&quot;);  Is it correct syntax in perl?"}, {"owner": {"reputation": 75, "user_id": 3073392, "user_type": "registered", "accept_rate": 29, "profile_image": "https://www.gravatar.com/avatar/e032841e515af2f2b9ad57c475d02e82?s=128&d=identicon&r=PG&f=1", "display_name": "Chaya", "link": "https://stackoverflow.com/users/3073392/chaya"}, "edited": false, "score": 0, "creation_date": 1436195391, "post_id": 31242951, "comment_id": 50495985, "body": "How to write into the file after parsing?"}], "tags": [], "owner": {"reputation": 159902, "user_id": 3297613, "user_type": "registered", "accept_rate": 74, "profile_image": "https://i.stack.imgur.com/KHhzd.jpg?s=128&g=1", "display_name": "Avinash Raj", "link": "https://stackoverflow.com/users/3297613/avinash-raj"}, "is_accepted": false, "score": 2, "last_activity_date": 1436177238, "last_edit_date": 1436177238, "creation_date": 1436176999, "answer_id": 31242951, "question_id": 31242908, "link": "https://stackoverflow.com/questions/31242908/how-to-stripoff-the-string-after-space-slash-greater-than-dot-in-sh/31242951#31242951", "title": "How to stripoff the string after space, slash (/), greater than (&gt;),dot(.) in shell", "body": "<blockquote>\n  <p>stripoff the data which comes after  space, slash (/), greater than (>),(.),</p>\n</blockquote>\n\n<p>In Perl it would be like,</p>\n\n<pre><code>$str =~ s/[\\/\\s&gt;.].*//;\n</code></pre>\n"}, {"comments": [{"owner": {"reputation": 75, "user_id": 3073392, "user_type": "registered", "accept_rate": 29, "profile_image": "https://www.gravatar.com/avatar/e032841e515af2f2b9ad57c475d02e82?s=128&d=identicon&r=PG&f=1", "display_name": "Chaya", "link": "https://stackoverflow.com/users/3073392/chaya"}, "edited": false, "score": 0, "creation_date": 1436177707, "post_id": 31242992, "comment_id": 50483969, "body": "Can you please tell me , how to use in perl with syntax"}, {"owner": {"reputation": 658023, "user_id": 548225, "user_type": "registered", "accept_rate": 90, "profile_image": "https://www.gravatar.com/avatar/dab08478b226280d4a30894c9a7ed719?s=128&d=identicon&r=PG", "display_name": "anubhava", "link": "https://stackoverflow.com/users/548225/anubhava"}, "reply_to_user": {"reputation": 75, "user_id": 3073392, "user_type": "registered", "accept_rate": 29, "profile_image": "https://www.gravatar.com/avatar/e032841e515af2f2b9ad57c475d02e82?s=128&d=identicon&r=PG&f=1", "display_name": "Chaya", "link": "https://stackoverflow.com/users/3073392/chaya"}, "edited": false, "score": 0, "creation_date": 1436178079, "post_id": 31242992, "comment_id": 50484195, "body": "Using perl you can do <code>s~[,&#47;&gt;. ].*~~</code>"}, {"owner": {"reputation": 75, "user_id": 3073392, "user_type": "registered", "accept_rate": 29, "profile_image": "https://www.gravatar.com/avatar/e032841e515af2f2b9ad57c475d02e82?s=128&d=identicon&r=PG&f=1", "display_name": "Chaya", "link": "https://stackoverflow.com/users/3073392/chaya"}, "edited": false, "score": 0, "creation_date": 1436178269, "post_id": 31242992, "comment_id": 50484323, "body": "Please mention with the sample example,"}, {"owner": {"reputation": 658023, "user_id": 548225, "user_type": "registered", "accept_rate": 90, "profile_image": "https://www.gravatar.com/avatar/dab08478b226280d4a30894c9a7ed719?s=128&d=identicon&r=PG", "display_name": "anubhava", "link": "https://stackoverflow.com/users/548225/anubhava"}, "reply_to_user": {"reputation": 75, "user_id": 3073392, "user_type": "registered", "accept_rate": 29, "profile_image": "https://www.gravatar.com/avatar/e032841e515af2f2b9ad57c475d02e82?s=128&d=identicon&r=PG&f=1", "display_name": "Chaya", "link": "https://stackoverflow.com/users/3073392/chaya"}, "edited": false, "score": 0, "creation_date": 1436178305, "post_id": 31242992, "comment_id": 50484342, "body": "I already add code in my answer i.e. <code>perl -pe &#39;s~[,&#47;&gt;. ].*~~&#39; &lt;&lt;&lt; &quot;$s&quot;</code>"}, {"owner": {"reputation": 75, "user_id": 3073392, "user_type": "registered", "accept_rate": 29, "profile_image": "https://www.gravatar.com/avatar/e032841e515af2f2b9ad57c475d02e82?s=128&d=identicon&r=PG&f=1", "display_name": "Chaya", "link": "https://stackoverflow.com/users/3073392/chaya"}, "edited": false, "score": 0, "creation_date": 1436183854, "post_id": 31242992, "comment_id": 50487804, "body": "HIi, I tried with this solution,it works fine                                                                                                              my $string=&#39;a15-ap-99995.wma.ibm.com&#39;;  $string =~ s/[\\/\\s&gt;.(].*//;   #print $string;"}], "tags": [], "owner": {"reputation": 658023, "user_id": 548225, "user_type": "registered", "accept_rate": 90, "profile_image": "https://www.gravatar.com/avatar/dab08478b226280d4a30894c9a7ed719?s=128&d=identicon&r=PG", "display_name": "anubhava", "link": "https://stackoverflow.com/users/548225/anubhava"}, "is_accepted": true, "score": 2, "last_activity_date": 1436178220, "last_edit_date": 1436178220, "creation_date": 1436177092, "answer_id": 31242992, "question_id": 31242908, "link": "https://stackoverflow.com/questions/31242908/how-to-stripoff-the-string-after-space-slash-greater-than-dot-in-sh/31242992#31242992", "title": "How to stripoff the string after space, slash (/), greater than (&gt;),dot(.) in shell", "body": "<p>In shell you can do string manipulation:</p>\n\n<pre><code>s='a15-ap-99995&gt;wma.ibm.com'\necho \"${s/[,\\/. &gt;]*/}\"\na15-ap-99995&gt;wma\n\ns='a15-ap-5035.wma.ibm.com'\necho \"${s/[,\\/. &gt;]*/}\"\na15-ap-5035\n</code></pre>\n\n<p>Using `perl:</p>\n\n<pre><code>perl -pe 's~[,/&gt;. ].*~~' &lt;&lt;&lt; \"$s\"\n</code></pre>\n"}, {"tags": [], "owner": {"reputation": 18098, "user_id": 3744681, "user_type": "registered", "accept_rate": 87, "profile_image": "https://i.stack.imgur.com/XvLrx.jpg?s=128&g=1", "display_name": "Jahid", "link": "https://stackoverflow.com/users/3744681/jahid"}, "is_accepted": false, "score": 2, "last_activity_date": 1436177345, "creation_date": 1436177345, "answer_id": 31243090, "question_id": 31242908, "link": "https://stackoverflow.com/questions/31242908/how-to-stripoff-the-string-after-space-slash-greater-than-dot-in-sh/31243090#31243090", "title": "How to stripoff the string after space, slash (/), greater than (&gt;),dot(.) in shell", "body": "<p>Using <a href=\"http://www.gnu.org/software/bash/manual/html_node/Shell-Parameter-Expansion.html\" rel=\"nofollow\">Bash Parameter Expansion</a>:</p>\n\n<pre><code>s=\"a15-ap-5035.wma.ibm.com\"\necho \"${s%%[./&gt; ]*}\"\n</code></pre>\n"}], "owner": {"reputation": 75, "user_id": 3073392, "user_type": "registered", "accept_rate": 29, "profile_image": "https://www.gravatar.com/avatar/e032841e515af2f2b9ad57c475d02e82?s=128&d=identicon&r=PG&f=1", "display_name": "Chaya", "link": "https://stackoverflow.com/users/3073392/chaya"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 74, "favorite_count": 0, "accepted_answer_id": 31242992, "answer_count": 3, "score": 1, "last_activity_date": 1450348543, "creation_date": 1436176898, "last_edit_date": 1450348543, "question_id": 31242908, "link": "https://stackoverflow.com/questions/31242908/how-to-stripoff-the-string-after-space-slash-greater-than-dot-in-sh", "title": "How to stripoff the string after space, slash (/), greater than (&gt;),dot(.) in shell", "body": "<p>I need to strip-off the data which comes <em>after</em> space <code></code>, slash <code>/</code>, greater than <code>&gt;</code>, dot <code>.</code>. I only need to display the part before the space, slash, dot, greater than symbol in given string data using a shell or Perl script.</p>\n\n<p>ex:</p>\n\n<pre><code>a15-ap-5035.wma.ibm.com\na15-ap-99995/wma.ibm.com\na15-ap-99995&gt;wma.ibm.com\n</code></pre>\n"}, {"tags": ["perl", "lwp", "psgi"], "comments": [{"owner": {"reputation": 361156, "user_id": 440558, "user_type": "registered", "accept_rate": 75, "profile_image": "https://i.stack.imgur.com/9ZYta.jpg?s=128&g=1", "display_name": "Some programmer dude", "link": "https://stackoverflow.com/users/440558/some-programmer-dude"}, "edited": false, "score": 1, "creation_date": 1436176521, "post_id": 31242700, "comment_id": 50483170, "body": "Localhost is not address <code>0</code>, it&#39;s (typically) <code>127.0.0.1</code>. Try pinging <code>localhost</code> to see the actual address."}, {"owner": {"reputation": 50468, "user_id": 1331451, "user_type": "registered", "accept_rate": 96, "profile_image": "https://i.stack.imgur.com/4ZPmj.png?s=128&g=1", "display_name": "simbabque", "link": "https://stackoverflow.com/users/1331451/simbabque"}, "edited": false, "score": 1, "creation_date": 1436176712, "post_id": 31242700, "comment_id": 50483301, "body": "This is relevant: <a href=\"http://lists.scsys.co.uk/pipermail/catalyst/2012-April/028434.html\" rel=\"nofollow noreferrer\">lists.scsys.co.uk/pipermail/catalyst/2012-April/028434.html</a>"}, {"owner": {"reputation": 5666, "user_id": 734304, "user_type": "registered", "accept_rate": 85, "profile_image": "https://www.gravatar.com/avatar/7c64a3cafb1fd129cd2b98951d624f15?s=128&d=identicon&r=PG", "display_name": "kobame", "link": "https://stackoverflow.com/users/734304/kobame"}, "reply_to_user": {"reputation": 361156, "user_id": 440558, "user_type": "registered", "accept_rate": 75, "profile_image": "https://i.stack.imgur.com/9ZYta.jpg?s=128&g=1", "display_name": "Some programmer dude", "link": "https://stackoverflow.com/users/440558/some-programmer-dude"}, "edited": false, "score": 1, "creation_date": 1436177327, "post_id": 31242700, "comment_id": 50483718, "body": "@JoachimPileborg ok, edited the question title. :) The question&#39;s merit is remain: the url <code>http:&#47;&#47;0:5000</code> is valid or no? Could/should be used or no?"}, {"owner": {"reputation": 361156, "user_id": 440558, "user_type": "registered", "accept_rate": 75, "profile_image": "https://i.stack.imgur.com/9ZYta.jpg?s=128&g=1", "display_name": "Some programmer dude", "link": "https://stackoverflow.com/users/440558/some-programmer-dude"}, "edited": false, "score": 0, "creation_date": 1436178080, "post_id": 31242700, "comment_id": 50484197, "body": "Address <code>0</code> is the wildcard address used by servers when they want to listen to connections from all interfaces. It makes no sense trying to connect to it."}], "answers": [{"comments": [{"owner": {"reputation": 5666, "user_id": 734304, "user_type": "registered", "accept_rate": 85, "profile_image": "https://www.gravatar.com/avatar/7c64a3cafb1fd129cd2b98951d624f15?s=128&d=identicon&r=PG", "display_name": "kobame", "link": "https://stackoverflow.com/users/734304/kobame"}, "edited": false, "score": 0, "creation_date": 1436178272, "post_id": 31243346, "comment_id": 50484325, "body": "The <code>http:&#47;&#47;0:port</code> is an <i>URL</i>. So, the <code>http:&#47;&#47;0:5000</code> isn&#39;t valid URL and it is &quot;only&quot; <i>handy</i>. Right?"}, {"owner": {"reputation": 56150, "user_id": 520162, "user_type": "registered", "accept_rate": 87, "profile_image": "https://www.gravatar.com/avatar/16a8c4c95d5cd5b47a0c0f8cbdd5d38c?s=128&d=identicon&r=PG&f=1", "display_name": "eckes", "link": "https://stackoverflow.com/users/520162/eckes"}, "reply_to_user": {"reputation": 5666, "user_id": 734304, "user_type": "registered", "accept_rate": 85, "profile_image": "https://www.gravatar.com/avatar/7c64a3cafb1fd129cd2b98951d624f15?s=128&d=identicon&r=PG", "display_name": "kobame", "link": "https://stackoverflow.com/users/734304/kobame"}, "edited": false, "score": 0, "creation_date": 1436178334, "post_id": 31243346, "comment_id": 50484360, "body": "it&#39;s no valid URL. It&#39;s just the result of a <code>printf</code> somewhere in the code of Plack. A server doesn&#39;t bind to a URL but to the combination of IP address and port."}, {"owner": {"reputation": 5666, "user_id": 734304, "user_type": "registered", "accept_rate": 85, "profile_image": "https://www.gravatar.com/avatar/7c64a3cafb1fd129cd2b98951d624f15?s=128&d=identicon&r=PG", "display_name": "kobame", "link": "https://stackoverflow.com/users/734304/kobame"}, "edited": false, "score": 1, "creation_date": 1436178510, "post_id": 31243346, "comment_id": 50484486, "body": "okay, understand the bind - but the PSGI prints an <i>URL</i>, e.g. <code>http:&#47;&#47;0:5000</code> . ok - now know - it prints an invalid URL, but it is handy in many situations - many browsers just translates it to <code>127.0.0.1</code>.  Thanx. :)"}, {"owner": {"reputation": 52821, "user_id": 632407, "user_type": "registered", "accept_rate": 86, "profile_image": "https://i.stack.imgur.com/AfGWW.jpg?s=128&g=1", "display_name": "jm666", "link": "https://stackoverflow.com/users/632407/jm666"}, "edited": false, "score": 4, "creation_date": 1436182013, "post_id": 31243346, "comment_id": 50486631, "body": "While the answer is correct it should contain: the printed URL isn&#39;t valid. (and imho, using the <code>http:&#47;&#47;*:5000</code> would be more clear - however it isn&#39;t as handy as <code>0:5000</code>. :) +1 anyway :)"}], "tags": [], "owner": {"reputation": 56150, "user_id": 520162, "user_type": "registered", "accept_rate": 87, "profile_image": "https://www.gravatar.com/avatar/16a8c4c95d5cd5b47a0c0f8cbdd5d38c?s=128&d=identicon&r=PG&f=1", "display_name": "eckes", "link": "https://stackoverflow.com/users/520162/eckes"}, "is_accepted": true, "score": 6, "last_activity_date": 1436178095, "creation_date": 1436178095, "answer_id": 31243346, "question_id": 31242700, "link": "https://stackoverflow.com/questions/31242700/who-is-wrong-about-the-http-0port/31243346#31243346", "title": "Who is wrong about the http://0:port?", "body": "<p>The output of the Plack suite is the output of a <strong>server</strong>. A server typically <a href=\"http://linux.die.net/man/2/bind\"><code>bind</code>s</a> a socket to a certain port and address in order to serve content there.\nThe notation <code>http://0:port</code> means in this case: <em><a href=\"http://linux.die.net/man/2/listen\">listen</a> on port <code>port</code> on <strong>all addresses</strong> of this machine</em>. This is handy if you don't know or don't want to specify all addresses of the machine where the server should be reachable.</p>\n\n<p>The output of the LWP::UserAgent ist the output of a <strong>client</strong>. In order to open a connection to a server, you <strong>must</strong> explicitly specify the address <strong>and</strong> the port to connect to. <code>0</code> is no valid IP address, therefore the connection fails when you <a href=\"http://linux.die.net/man/2/connect\">connect</a> to <code>http://0:port</code>.</p>\n"}, {"tags": [], "owner": {"reputation": 546, "user_id": 104959, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/e751205dd965f43e1994ace06a37d0d4?s=128&d=identicon&r=PG", "display_name": "Richard Metzler", "link": "https://stackoverflow.com/users/104959/richard-metzler"}, "is_accepted": false, "score": 0, "last_activity_date": 1510694831, "creation_date": 1510694831, "answer_id": 47295484, "question_id": 31242700, "link": "https://stackoverflow.com/questions/31242700/who-is-wrong-about-the-http-0port/47295484#47295484", "title": "Who is wrong about the http://0:port?", "body": "<p>Safari 11, curl and wget resolve <code>http://0:5000</code> to <code>http://0.0.0.0:5000</code> and connect to the localhost.</p>\n\n<p>I just tested it, after seeing the URL and finding the answer to the question dissatisfying.</p>\n"}], "owner": {"reputation": 5666, "user_id": 734304, "user_type": "registered", "accept_rate": 85, "profile_image": "https://www.gravatar.com/avatar/7c64a3cafb1fd129cd2b98951d624f15?s=128&d=identicon&r=PG", "display_name": "kobame", "link": "https://stackoverflow.com/users/734304/kobame"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 365, "favorite_count": 0, "accepted_answer_id": 31243346, "answer_count": 2, "score": 7, "last_activity_date": 1510694831, "creation_date": 1436176306, "last_edit_date": 1436177230, "question_id": 31242700, "link": "https://stackoverflow.com/questions/31242700/who-is-wrong-about-the-http-0port", "title": "Who is wrong about the http://0:port?", "body": "<p>The Plack suite commonly uses the <code>http://0:port</code>. E.g. the following</p>\n\n<pre><code>plackup -MPlack::App::Directory -e 'Plack::App::Directory-&gt;new(root=&gt;\".\");'\n</code></pre>\n\n<p>prints</p>\n\n<pre><code>HTTP::Server::PSGI: Accepting connections at http://0:5000/\n</code></pre>\n\n<p>However, the <code>LWP::UserAgent</code> (or some deeper called modules) didn't accepts it, e.g. the:</p>\n\n<pre><code>perl -MLWP::UserAgent -E '$u=LWP::UserAgent-&gt;new;$res=$u-&gt;get(\"http://0:5000/valid/path\");print $res-&gt;status_line'\n</code></pre>\n\n<p>prints:</p>\n\n<pre><code>500 No Host option provided\n</code></pre>\n\n<p>but the</p>\n\n<pre><code>perl -MLWP::UserAgent -E '$u=LWP::UserAgent-&gt;new;$res=$u-&gt;get(\"http://localhost:5000/valid/path\");print $res-&gt;status_line'\n</code></pre>\n\n<p>prints</p>\n\n<pre><code>200 OK\n</code></pre>\n\n<p>The question is: who is wrong?</p>\n\n<ul>\n<li>Is the <code>http://0:port</code> valid, e.g. the LWP is \"wrong\"</li>\n<li>or it isn't valid and the PSGI uses it as only \"randomly valid\" shortcut?</li>\n</ul>\n"}, {"tags": ["perl"], "comments": [{"owner": {"reputation": 32176, "user_id": 2173773, "user_type": "registered", "accept_rate": 86, "profile_image": "https://i.stack.imgur.com/M8yh6.jpg?s=128&g=1", "display_name": "H&#229;kon H&#230;gland", "link": "https://stackoverflow.com/users/2173773/h%c3%a5kon-h%c3%a6gland"}, "edited": false, "score": 0, "creation_date": 1436176818, "post_id": 31242608, "comment_id": 50483374, "body": "You have a <code>return</code> statement before the last <code>print</code>, so it will never be reached.."}, {"owner": {"reputation": 59, "user_id": 4622472, "user_type": "registered", "accept_rate": 22, "profile_image": "https://lh5.googleusercontent.com/-1XuvV7i6ktg/AAAAAAAAAAI/AAAAAAAADFU/UYCyey46VaQ/photo.jpg?sz=128", "display_name": "Bhushan Patil", "link": "https://stackoverflow.com/users/4622472/bhushan-patil"}, "reply_to_user": {"reputation": 32176, "user_id": 2173773, "user_type": "registered", "accept_rate": 86, "profile_image": "https://i.stack.imgur.com/M8yh6.jpg?s=128&g=1", "display_name": "H&#229;kon H&#230;gland", "link": "https://stackoverflow.com/users/2173773/h%c3%a5kon-h%c3%a6gland"}, "edited": false, "score": 0, "creation_date": 1436177006, "post_id": 31242608, "comment_id": 50483506, "body": "Thats OK.. but when I am calling the same subroutine in main file, it returns nothing.."}, {"owner": {"reputation": 32176, "user_id": 2173773, "user_type": "registered", "accept_rate": 86, "profile_image": "https://i.stack.imgur.com/M8yh6.jpg?s=128&g=1", "display_name": "H&#229;kon H&#230;gland", "link": "https://stackoverflow.com/users/2173773/h%c3%a5kon-h%c3%a6gland"}, "edited": false, "score": 0, "creation_date": 1436177328, "post_id": 31242608, "comment_id": 50483720, "body": "It seems like you are returning a reference to the <code>%Section1</code> hash?"}, {"owner": {"reputation": 50468, "user_id": 1331451, "user_type": "registered", "accept_rate": 96, "profile_image": "https://i.stack.imgur.com/4ZPmj.png?s=128&g=1", "display_name": "simbabque", "link": "https://stackoverflow.com/users/1331451/simbabque"}, "edited": false, "score": 0, "creation_date": 1436177934, "post_id": 31242608, "comment_id": 50484101, "body": "Yeah that must be a copy/paste issue or something like that. You&#39;re returning a variable that doesn&#39;t exist. You should <code>use strict</code> and <code>use warnings</code>. It woul dhave told you."}, {"owner": {"reputation": 59, "user_id": 4622472, "user_type": "registered", "accept_rate": 22, "profile_image": "https://lh5.googleusercontent.com/-1XuvV7i6ktg/AAAAAAAAAAI/AAAAAAAADFU/UYCyey46VaQ/photo.jpg?sz=128", "display_name": "Bhushan Patil", "link": "https://stackoverflow.com/users/4622472/bhushan-patil"}, "edited": false, "score": 0, "creation_date": 1436178006, "post_id": 31242608, "comment_id": 50484150, "body": "Yes..I am returning  the reference , is it the best way to do?"}, {"owner": {"reputation": 50468, "user_id": 1331451, "user_type": "registered", "accept_rate": 96, "profile_image": "https://i.stack.imgur.com/4ZPmj.png?s=128&g=1", "display_name": "simbabque", "link": "https://stackoverflow.com/users/1331451/simbabque"}, "edited": false, "score": 0, "creation_date": 1436178046, "post_id": 31242608, "comment_id": 50484172, "body": "The variable does not exist. A reference is fine, but you never declared a <code>%Section1</code>."}, {"owner": {"reputation": 62184, "user_id": 7231, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/81b76985f3985e35492e25880493d045?s=128&d=identicon&r=PG", "display_name": "Dave Cross", "link": "https://stackoverflow.com/users/7231/dave-cross"}, "edited": false, "score": 2, "creation_date": 1436178578, "post_id": 31242608, "comment_id": 50484527, "body": "Please add <code>use strict</code> and <code>use warnings</code> to all code that you write. You are trying to use a hash called <code>%Section1</code> which just doesn&#39;t exist."}, {"owner": {"reputation": 59, "user_id": 4622472, "user_type": "registered", "accept_rate": 22, "profile_image": "https://lh5.googleusercontent.com/-1XuvV7i6ktg/AAAAAAAAAAI/AAAAAAAADFU/UYCyey46VaQ/photo.jpg?sz=128", "display_name": "Bhushan Patil", "link": "https://stackoverflow.com/users/4622472/bhushan-patil"}, "edited": false, "score": 0, "creation_date": 1436178882, "post_id": 31242608, "comment_id": 50484708, "body": "HI .. I am calling from the .ini file.. I hope you read that .ini file configuration, where  [Section1] is present.. Section1 is lable which and that lable contains so many values like SQL1, SQL2, I want those value"}], "answers": [{"tags": [], "owner": {"reputation": 50468, "user_id": 1331451, "user_type": "registered", "accept_rate": 96, "profile_image": "https://i.stack.imgur.com/4ZPmj.png?s=128&g=1", "display_name": "simbabque", "link": "https://stackoverflow.com/users/1331451/simbabque"}, "is_accepted": false, "score": 1, "last_activity_date": 1436178850, "creation_date": 1436178850, "answer_id": 31243620, "question_id": 31242608, "link": "https://stackoverflow.com/questions/31242608/returning-a-hash-value/31243620#31243620", "title": "Returning a hash value", "body": "<p>You have a mixup with your variables. Also I'm not sure what you are trying to do. If you only want to read <code>Section1</code>, consider this example (which I have <strong>not tested</strong>).</p>\n\n<pre><code>use strict;\nuse warnings;\nuse feature 'say';\n\nsub Read_INI_files_get_initialData {\n    tie my %ini_file, 'IniFiles',( -file =&gt; \"/home/testtool/config/InitialData.ini\" );\n\n    say \"$ini_file{Section1}-&gt;{SQL1}\";\n\n    # return a hashref\n    return { $ini_file{Section1} };\n\n}\n</code></pre>\n\n<hr>\n\n<p>Basically what you did was the following:</p>\n\n<blockquote>\n<pre><code>   for $ini_sect ( keys %ini_file ) {\n        %$ini_sect = %{ $ini_file{$ini_sect} };\n    }\n    print \"$Section1{SQL1}\\n\";  # output prints the 1st SQL1 statement return in .ini file.\n    return (\\%Section1);\n</code></pre>\n</blockquote>\n\n<p>The <code>$ini_sect</code> is declared above, but then you use it to iterate over the keys. So the first time the <code>for</code> is run, it will get a key of <code>%ini_file</code>. Now in the loop you asume it is actually a hashref, dereference it and assign another hash (which you dereferenced from a hash ref using the key). There are two issues here. </p>\n\n<p>First, you are overwriting the variable that holds the key. In the next iteration, that value would be gone.</p>\n\n<p>Second, <strong>and more important</strong>, you are trying to dereference a string. That won't work. If you add <code>use strict</code> and <code>use warnings</code> to you program (as I did above), it will tell you <em>Can't use string (\"Section1\") as a HASH ref...</em>. So there lies another problem.</p>\n\n<p>What it will also tell you is that <em>Global symbol \"%Section1\" requires explicit package name</em> in the return, because you never declared it.</p>\n\n<p>Think about what you want to do in your function. Use as many variables as you need, and give them meaningful names. Do you just want to read the first section of the file? Go ahead, reference it directly.</p>\n\n<p>Do you want to make a copy of the whole thing? Maybe <code>tie</code> is not the best option. See <a href=\"https://metacpan.org/pod/Config::IniFiles\" rel=\"nofollow\">Config::IniFiles</a> how to do it with an OOp interface.</p>\n"}, {"comments": [{"owner": {"reputation": 59, "user_id": 4622472, "user_type": "registered", "accept_rate": 22, "profile_image": "https://lh5.googleusercontent.com/-1XuvV7i6ktg/AAAAAAAAAAI/AAAAAAAADFU/UYCyey46VaQ/photo.jpg?sz=128", "display_name": "Bhushan Patil", "link": "https://stackoverflow.com/users/4622472/bhushan-patil"}, "edited": false, "score": 0, "creation_date": 1436181503, "post_id": 31243828, "comment_id": 50486318, "body": "Tom your code is not working, it is not printing anything again outside the subroutine .. It prints blank value of this statement : print $ini_file{Section1}{SQL1} . &quot;\\n&quot;;  but inside the subroutine it is printing the SQL1 statement. In my original code also I was facing the same issue."}, {"owner": {"reputation": 65, "user_id": 2111338, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/c2451e4514c7d5c8dcd5f4c966a270aa?s=128&d=identicon&r=PG", "display_name": "tcn", "link": "https://stackoverflow.com/users/2111338/tcn"}, "reply_to_user": {"reputation": 59, "user_id": 4622472, "user_type": "registered", "accept_rate": 22, "profile_image": "https://lh5.googleusercontent.com/-1XuvV7i6ktg/AAAAAAAAAAI/AAAAAAAADFU/UYCyey46VaQ/photo.jpg?sz=128", "display_name": "Bhushan Patil", "link": "https://stackoverflow.com/users/4622472/bhushan-patil"}, "edited": false, "score": 0, "creation_date": 1436271473, "post_id": 31243828, "comment_id": 50531148, "body": "I was calling <code>$ini_file</code> in the main script - I&#39;ve now changed that to <code>$initialData</code> - note that if you are using <code>use strict; use warnings;</code> (which you should be!) the script should not have run at all."}], "tags": [], "owner": {"reputation": 65, "user_id": 2111338, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/c2451e4514c7d5c8dcd5f4c966a270aa?s=128&d=identicon&r=PG", "display_name": "tcn", "link": "https://stackoverflow.com/users/2111338/tcn"}, "is_accepted": false, "score": 1, "last_activity_date": 1436271336, "last_edit_date": 1436271336, "creation_date": 1436179465, "answer_id": 31243828, "question_id": 31242608, "link": "https://stackoverflow.com/questions/31242608/returning-a-hash-value/31243828#31243828", "title": "Returning a hash value", "body": "<p>If I understand you correctly, you want to use the tied hash to access the SQL statements specified in your config file. This can be done by using the nested hash structure <code>$ini_file{SectionName}{VariableName}</code>:</p>\n\n<pre><code>use strict;\nuse warnings;\nuse Config::IniFiles;\n\nmy %initialData = Read_INI_files_get_initialData();\n\nprint $initialData{Section1}{SQL1} . \"\\n\";  # Prints the Section1 SQL1 statement from .ini file.                         \n\nsub Read_INI_files_get_initialData {\n    my %ini_file;\n    tie %ini_file, 'Config::IniFiles', ( -file =&gt; \"InitialData.ini\" );\n    return %ini_file;\n}\n</code></pre>\n"}], "owner": {"reputation": 59, "user_id": 4622472, "user_type": "registered", "accept_rate": 22, "profile_image": "https://lh5.googleusercontent.com/-1XuvV7i6ktg/AAAAAAAAAAI/AAAAAAAADFU/UYCyey46VaQ/photo.jpg?sz=128", "display_name": "Bhushan Patil", "link": "https://stackoverflow.com/users/4622472/bhushan-patil"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 77, "favorite_count": 0, "answer_count": 2, "score": 0, "last_activity_date": 1436271336, "creation_date": 1436176072, "last_edit_date": 1436177021, "question_id": 31242608, "link": "https://stackoverflow.com/questions/31242608/returning-a-hash-value", "title": "Returning a hash value", "body": "<p>I have .ini file (config file for the database operations):</p>\n\n<pre><code>[Section1]\nSQL1=select * from &lt;tablename&gt;\nSQL2=insert into table &lt;table name&gt;\n</code></pre>\n\n<p>I have written below code to read the each section of .ini file and its working perfect. I have to use below subroutine in my mail file, I want to call it and pass the each value in each section into the hash over there and do the database operations.</p>\n\n<p>below is code:</p>\n\n<pre><code>sub Read_INI_files_get_initialData {\n    my ( %ini_file, $ini_sect );\n    tie %ini_file, 'IniFiles',( -file =&gt; \"/home/testtool/config/InitialData.ini\" );\n    for $ini_sect ( keys %ini_file ) {\n        %$ini_sect = %{ $ini_file{$ini_sect} };\n    }\n    print \"$Section1{SQL1}\\n\";  # output prints the 1st SQL1 statement return in .ini file.\n    return (\\%Section1);   \n\n}\n</code></pre>\n\n<p>When I call this subroutine from main file, I don't get any return value which I could use for further database opration.</p>\n"}, {"tags": ["perl", "subroutine", "hash"], "answers": [{"tags": [], "owner": {"reputation": 355, "user_id": 4311691, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/f8g0A.jpg?s=128&g=1", "display_name": "Georgi Rangelov", "link": "https://stackoverflow.com/users/4311691/georgi-rangelov"}, "is_accepted": true, "score": 5, "last_activity_date": 1436171754, "creation_date": 1436171754, "answer_id": 31241176, "question_id": 31240838, "link": "https://stackoverflow.com/questions/31240838/passing-hashes-to-subroutine/31241176#31241176", "title": "passing hashes to subroutine", "body": "<pre><code>PrintHash(%hash);\n</code></pre>\n\n<p>A hash in list context is a list of the key-value pairs contained in the hash. You can write the same line as:</p>\n\n<pre><code>PrintHash(qw(name Tom age 19));\n</code></pre>\n\n<p>or</p>\n\n<pre><code>PrintHash('age', '19', 'name', 'Tom');\n</code></pre>\n\n<p>The order doesn't matter, but pairs are preserved.\nThen you assign that list to a new hash at the first line of the sub</p>\n\n<pre><code>my %hash = @_;\n</code></pre>\n\n<p>You can initialize a hash from a list ( key, value, key, value, ... )</p>\n\n<p>The rest of the subroutine iterates over the hash and prints the key-value pairs.</p>\n\n<pre><code>foreach my $key ( keys %hash ){\n    my $value = $hash{$key};\n    print \"$key : $value\\n\";\n}\n</code></pre>\n\n<p><strong>keys %hash</strong> returns the list of keys in %hash ( there is also <strong>values %hash</strong> ), then to access the value stored in a hash you use <strong>$hash{$key}</strong></p>\n"}], "owner": {"reputation": 214, "user_id": 4462797, "user_type": "registered", "accept_rate": 72, "profile_image": "https://www.gravatar.com/avatar/06ad54ed33711c0c99e35b3961ec9c1e?s=128&d=identicon&r=PG&f=1", "display_name": "abhillier", "link": "https://stackoverflow.com/users/4462797/abhillier"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 216, "favorite_count": 0, "accepted_answer_id": 31241176, "answer_count": 1, "score": 1, "last_activity_date": 1436173071, "creation_date": 1436170656, "last_edit_date": 1436173071, "question_id": 31240838, "link": "https://stackoverflow.com/questions/31240838/passing-hashes-to-subroutine", "title": "passing hashes to subroutine", "body": "<p>hi i am new to perl programming..and I am not able to get this code snippet.</p>\n\n<pre><code>#!/usr/bin/perl\n\n# Function definition\nsub PrintHash{\n   my (%hash) = @_;\n\n   foreach my $key ( keys %hash ){\n      my $value = $hash{$key};\n      print \"$key : $value\\n\";\n   }\n}\n%hash = ('name' =&gt; 'Tom', 'age' =&gt; 19);\n\n# Function call with hash parameter\nPrintHash(%hash);\n</code></pre>\n\n<p>output of this code would be </p>\n\n<blockquote>\n  <p>name : Tom\n    age : 19</p>\n</blockquote>\n\n<p>I understood that how the keys being parsed,but i am not able to get the idea behind how the values are getting parsed.As i try to understand the flow of the program this line is responsible for parsing the values.</p>\n\n<pre><code>my $value = $hash{$key};\n</code></pre>\n\n<p>Can anyone explain in brief what is happening? please correct me if my understanding is wrong. </p>\n"}, {"tags": ["perl", "csv"], "comments": [{"owner": {"reputation": 7536, "user_id": 1691146, "user_type": "registered", "accept_rate": 71, "profile_image": "https://i.stack.imgur.com/RW9zE.jpg?s=128&g=1", "display_name": "RobEarl", "link": "https://stackoverflow.com/users/1691146/robearl"}, "edited": false, "score": 3, "creation_date": 1436169562, "post_id": 31240389, "comment_id": 50478887, "body": "Where is <code>$csv</code> declared/assigned?"}, {"owner": {"reputation": 15264, "user_id": 940098, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/jGtwG.jpg?s=128&g=1", "display_name": "Wtower", "link": "https://stackoverflow.com/users/940098/wtower"}, "edited": false, "score": 0, "creation_date": 1436172624, "post_id": 31240389, "comment_id": 50480607, "body": "Welcome to Stack Overflow! I edited your question to include slightly more information. I also indented your code sample so that it renders properly - please see the editing help for more information on formatting. Please edit the question and provide any more available information in case that&#39;s necessary to identify the specific problem. Good luck!"}, {"owner": {"reputation": 51521, "user_id": 2566198, "user_type": "registered", "accept_rate": 67, "profile_image": "https://i.stack.imgur.com/Y34ZA.jpg?s=128&g=1", "display_name": "Sobrique", "link": "https://stackoverflow.com/users/2566198/sobrique"}, "edited": false, "score": 0, "creation_date": 1436174763, "post_id": 31240389, "comment_id": 50481997, "body": "I have edited your instantiation of <code>$csv</code> into the above, and reformatted the code slightly for clarity. Please can you double check that it&#39;s still correct?"}], "answers": [{"comments": [{"owner": {"reputation": 51521, "user_id": 2566198, "user_type": "registered", "accept_rate": 67, "profile_image": "https://i.stack.imgur.com/Y34ZA.jpg?s=128&g=1", "display_name": "Sobrique", "link": "https://stackoverflow.com/users/2566198/sobrique"}, "reply_to_user": {"reputation": 21, "user_id": 5084310, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/b5e9471b703b25a5c8e52964bab65134?s=128&d=identicon&r=PG&f=1", "display_name": "RetiZi", "link": "https://stackoverflow.com/users/5084310/retizi"}, "edited": false, "score": 0, "creation_date": 1436173983, "post_id": 31241689, "comment_id": 50481462, "body": "OK. Trap the error from that, because that&#39;s failing."}, {"owner": {"reputation": 21, "user_id": 5084310, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/b5e9471b703b25a5c8e52964bab65134?s=128&d=identicon&r=PG&f=1", "display_name": "RetiZi", "link": "https://stackoverflow.com/users/5084310/retizi"}, "edited": false, "score": 0, "creation_date": 1436174333, "post_id": 31241689, "comment_id": 50481709, "body": "the variable $csv is defined like this"}, {"owner": {"reputation": 51521, "user_id": 2566198, "user_type": "registered", "accept_rate": 67, "profile_image": "https://i.stack.imgur.com/Y34ZA.jpg?s=128&g=1", "display_name": "Sobrique", "link": "https://stackoverflow.com/users/2566198/sobrique"}, "reply_to_user": {"reputation": 21, "user_id": 5084310, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/b5e9471b703b25a5c8e52964bab65134?s=128&d=identicon&r=PG&f=1", "display_name": "RetiZi", "link": "https://stackoverflow.com/users/5084310/retizi"}, "edited": false, "score": 0, "creation_date": 1436174831, "post_id": 31241689, "comment_id": 50482034, "body": "Edited answer. This is your problem: <code>Cannot use CSV:INI - Unknown attribute &#39;encoding_out&#39;</code>. You need to use <code>http:&#47;&#47;search.cpan.org&#47;~makamaka&#47;Text-CSV-Encoded-0.22&#47;lib&#47;T&zwnj;&#8203;ext&#47;CSV&#47;Encoded.pm</code>"}, {"owner": {"reputation": 21, "user_id": 5084310, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/b5e9471b703b25a5c8e52964bab65134?s=128&d=identicon&r=PG&f=1", "display_name": "RetiZi", "link": "https://stackoverflow.com/users/5084310/retizi"}, "edited": false, "score": 0, "creation_date": 1436174994, "post_id": 31241689, "comment_id": 50482144, "body": "my $csv = Text::CSV-&gt;new ({binary =&gt; 1,                                                  encoding_in  =&gt; &quot;iso-8859-1&quot;,                             encoding_out =&gt; &quot;cp1252&quot;,                            sep_char =&gt; &#39;;&#39;});"}, {"owner": {"reputation": 51521, "user_id": 2566198, "user_type": "registered", "accept_rate": 67, "profile_image": "https://i.stack.imgur.com/Y34ZA.jpg?s=128&g=1", "display_name": "Sobrique", "link": "https://stackoverflow.com/users/2566198/sobrique"}, "reply_to_user": {"reputation": 21, "user_id": 5084310, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/b5e9471b703b25a5c8e52964bab65134?s=128&d=identicon&r=PG&f=1", "display_name": "RetiZi", "link": "https://stackoverflow.com/users/5084310/retizi"}, "edited": false, "score": 0, "creation_date": 1436190852, "post_id": 31241689, "comment_id": 50492672, "body": "If you have another question, then it&#39;s worth asking separately."}], "tags": [], "owner": {"reputation": 51521, "user_id": 2566198, "user_type": "registered", "accept_rate": 67, "profile_image": "https://i.stack.imgur.com/Y34ZA.jpg?s=128&g=1", "display_name": "Sobrique", "link": "https://stackoverflow.com/users/2566198/sobrique"}, "is_accepted": false, "score": 2, "last_activity_date": 1436174671, "last_edit_date": 1436174671, "creation_date": 1436173356, "answer_id": 31241689, "question_id": 31240389, "link": "https://stackoverflow.com/questions/31240389/cant-call-method-getline-on-an-undefined-value/31241689#31241689", "title": "Can&#39;t call method &quot;getline&quot; on an undefined value", "body": "<p>That error message specifically means the variable <code>$csv</code> is undefined. </p>\n\n<p>Are you instantiating it correctly? From the documentation on <a href=\"http://search.cpan.org/~makamaka/Text-CSV-1.33/lib/Text/CSV.pm\" rel=\"nofollow\"><code>Text::CSV</code></a>:</p>\n\n<pre><code>my $csv = Text::CSV-&gt;new ( { binary =&gt; 1 } )  # should set binary attribute.\n             or die \"Cannot use CSV: \".Text::CSV-&gt;error_diag ();\n</code></pre>\n\n<p>Check your code for a line that looks like this (might have different options, that doesn't matter as much). </p>\n\n<p>Note that your error to <code>die</code> - is nothing to do with <code>Text::CSV</code> it's a conventional file open. Therefore:</p>\n\n<pre><code>die \"Cannot use CSV:\".Text::CSV-&gt;error_diag ();\n</code></pre>\n\n<p>Is misleading. It will still error if your <code>open</code> fails, but it won't report the problem correctly. You should instead:</p>\n\n<pre><code>die \"Error opening file: $!\"; \n</code></pre>\n\n<p>Edit: From comments you are using:</p>\n\n<pre><code>use Text::CSV;\nmy $csv = Text::CSV-&gt;new ({binary =&gt; 1, encoding_in =&gt; \"iso-8859-1\", encoding_out =&gt; \"cp1252\", sep_char =&gt; ';'});\n</code></pre>\n\n<p>Try changing that to:</p>\n\n<pre><code>my $csv = Text::CSV-&gt;new(\n    {   binary       =&gt; 1,\n        encoding_in  =&gt; \"iso-8859-1\",\n        encoding_out =&gt; \"cp1252\",\n        sep_char     =&gt; ';'\n    }\n) or die \"Cannot use CSV: \" . Text::CSV-&gt;error_diag();\n</code></pre>\n\n<p>And you will get the following error:</p>\n\n<pre><code>Cannot use CSV: INI - Unknown attribute 'encoding_in' at line 2. \n</code></pre>\n\n<p>You therefore don't successfully instantiate your <code>$csv</code> object, which is why you get an error. </p>\n\n<p>The code you're referring to in <code>Text::CSV</code> looks like this:</p>\n\n<pre><code>use Text::CSV::Encoded;\nmy $csv = Text::CSV::Encoded-&gt;new ({\n    encoding_in  =&gt; \"iso-8859-1\", # the encoding comes into   Perl\n    encoding_out =&gt; \"cp1252\",     # the encoding comes out of Perl\n});\n</code></pre>\n\n<p>E.g. uses a different module - <a href=\"http://search.cpan.org/~makamaka/Text-CSV-Encoded-0.22/lib/Text/CSV/Encoded.pm\" rel=\"nofollow\"><code>Text::CSV::Encoded</code></a></p>\n"}, {"tags": [], "owner": {"reputation": 31, "user_id": 5104556, "user_type": "registered", "profile_image": "https://lh5.googleusercontent.com/-blgq53QJJTY/AAAAAAAAAAI/AAAAAAAAAKQ/YmT4uDn1-fs/photo.jpg?sz=128", "display_name": "Don Turnblade", "link": "https://stackoverflow.com/users/5104556/don-turnblade"}, "is_accepted": false, "score": 2, "last_activity_date": 1451419756, "creation_date": 1451419756, "answer_id": 34518285, "question_id": 31240389, "link": "https://stackoverflow.com/questions/31240389/cant-call-method-getline-on-an-undefined-value/34518285#34518285", "title": "Can&#39;t call method &quot;getline&quot; on an undefined value", "body": "<p>A bad open() caused the getline error</p>\n\n<p>Modified:</p>\n\n<pre><code>open my $fh, \"&lt;:encoding(utf8)\", \"test.csv\" or die \"test.csv: $!\";\nwhile ( my $row = $csv-&gt;getline( $fh ) ) {\n}\n</code></pre>\n\n<p>as substituting $file for \"test.csv\" created the issue.</p>\n\n<pre><code>my $csv = Text::CSV-&gt;new ({binary=&gt;1}) ;\n$file = \"test.csv\" ;\nif(!open($fh, \"&lt;\", $file )) {\n  # Cannot call getline is a symptom of a bad open() \n  printf(\"### Error %s: could not open file %s\\n\", $ws, $file) ;\n  close($fh) ;\n  exit 1 ; \n}\nwhile(my $row = $csv-&gt;getline($fh)) {\n  @items = @{$row} ;\n  for(my $i=0 ; $i&lt;=$#items; $i++) {\n    printf(\"Field %d: (%s)\\n\", $i, $items[$i] ) ;\n  }\n}\n</code></pre>\n"}], "owner": {"reputation": 21, "user_id": 5084310, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/b5e9471b703b25a5c8e52964bab65134?s=128&d=identicon&r=PG&f=1", "display_name": "RetiZi", "link": "https://stackoverflow.com/users/5084310/retizi"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 1208, "favorite_count": 0, "answer_count": 2, "score": 1, "last_activity_date": 1451419756, "creation_date": 1436169021, "last_edit_date": 1436174696, "question_id": 31240389, "link": "https://stackoverflow.com/questions/31240389/cant-call-method-getline-on-an-undefined-value", "title": "Can&#39;t call method &quot;getline&quot; on an undefined value", "body": "<p>In a perl script I get the error:</p>\n\n<blockquote>\n  <p>Can't call method <code>getline</code> on an undefined value</p>\n</blockquote>\n\n<p>Here is part of the code. I use <code>Text::CSV</code> to read a file:</p>\n\n<pre><code>my $csv = Text::CSV-&gt;new(\n    {   binary       =&gt; 1,\n        encoding_in  =&gt; \"iso-8859-1\",\n        encoding_out =&gt; \"cp1252\",\n        sep_char     =&gt; ';'\n    }\n);\n\nopen my $fhandle, '&lt;:encoding(utf8)', $fileName\n    or die \"Cannot use CSV:\" . Text::CSV-&gt;error_diag();\nwhile ( my $fields = $csv-&gt;getline($fhandle) ) {\n    push( @array, $fields-&gt;[0] );\n    push( @array, $fields-&gt;[1] );\n    push( @array, $fields-&gt;[2] );\n}\n</code></pre>\n"}, {"tags": ["javascript", "html", "perl", "drop-down-menu", "textbox"], "answers": [{"tags": [], "owner": {"reputation": 3327, "user_id": 1604311, "user_type": "registered", "accept_rate": 73, "profile_image": "https://i.stack.imgur.com/0frKT.jpg?s=128&g=1", "display_name": "Arunesh Singh", "link": "https://stackoverflow.com/users/1604311/arunesh-singh"}, "is_accepted": false, "score": 0, "last_activity_date": 1436163075, "creation_date": 1436163075, "answer_id": 31238774, "question_id": 31238232, "link": "https://stackoverflow.com/questions/31238232/how-to-print-the-length-to-specified-input-in-the-text-box/31238774#31238774", "title": "How to print the length to specified input in the text box", "body": "<p>I don't know how you are capturing value from client side, why you are concatenating <code>\"a\"</code> with <code>$diff</code> and adding 1 in <code>$diff</code>, but it will work well if provided values from the command line.</p>\n\n<p>The values are stored in hash instead of array.</p>\n\n<pre><code>#!/usr/bin/perl\nuse strict;\nuse warnings;\nuse Data::Dumper;\n\nopen my $fh, '&lt;', 'example.txt' or die \"unable to open file: $!\";\nmy %hash;\nwhile(&lt;$fh&gt;){\nmy @seq=split(/\\)\\s+/,$_);\nforeach(@seq)\n   {\n$_=$_.\") \";\n#print $_;\nif($_ =~ /(\\d+)\\s*TO\\s*(\\d+)/i ){\n       my $num1=$1;\n       my  $num2=$2;\nmy $diff=($num2-$num1)+1;\n$hash{$_}=$diff;\n\n  }\n}\n}\nclose($fh);\n#print Dumper(\\%hash);\nprint \"enter the number: \\n\";\nchomp(my $num=&lt;&gt;);\nif($num == 20){\nforeach(keys %hash){\nprint \"$_ =&gt; $hash{$_} \\n\" if($hash{$_} == 20);\n}\n}\nelsif($num &gt; 20){\nforeach(keys %hash){\nprint \"$_ =&gt; $hash{$_} \\n\" if($hash{$_} &gt;  20);\n}\n}\n</code></pre>\n"}], "owner": {"reputation": 39, "user_id": 4861757, "user_type": "registered", "accept_rate": 40, "profile_image": "https://www.gravatar.com/avatar/15ee3b81f6bd4510acc3999af15718d9?s=128&d=identicon&r=PG&f=1", "display_name": "stackcareer", "link": "https://stackoverflow.com/users/4861757/stackcareer"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 80, "favorite_count": 0, "answer_count": 1, "score": 0, "last_activity_date": 1436163075, "creation_date": 1436160057, "last_edit_date": 1436161575, "question_id": 31238232, "link": "https://stackoverflow.com/questions/31238232/how-to-print-the-length-to-specified-input-in-the-text-box", "title": "How to print the length to specified input in the text box", "body": "<p>as i need to print according to the difference of the length (693 to\n    712) as like mentioned in all line of sequences.if i entered length as \n    20  it  should print only the sequence which differs 20 and if i enter \n    text box value as 20 and dropdown selection is greater than it should \n    print the length of seuences which matches greater than twenty.</p>\n\n<p>example.txt</p>\n\n<pre><code>GGATCACGAGGTCAGGAGAT (693 TO 712)   ATCTCCTGACCTCGTGATCC (3223 TO 3242)\nCAAAAAAAAAAAAAAAAAAA (917 TO 936)   TTTTTTTTTTTTTTTTTTTG (2998 TO 3017)\nGAAACCCCGTCTCTACTAAAAATACAAAAAA (737 TO 767)    TTTTTTGTATTTTTAGTAGAGACGGGGTTTC (3168 TO 3198)\n</code></pre>\n\n<p>perl</p>\n\n<pre><code>#!usr/local/bin/perl\nopen(IN,\"/home/httpd/cgi-bin/r/example.txt\")|| die(\"Cannot open file\");\nwhile(&lt;IN&gt;)\n{\n    if($_ =~ /^\\w+\\s+\\((\\d+)\\s+[to]+\\s+(\\d+)\\)/i )\n    {\n        $data=$_;\n\n        $num1=$1;\n        $num2=$2;\n        $diff=($num2-$num1)+1;\n        $str=\"a\".$diff;\n        #print $str;\n        push(@$str,$data);\n    }\n}\n</code></pre>\n"}, {"tags": ["regex", "perl", "openssl", "csr"], "answers": [{"tags": [], "owner": {"reputation": 3327, "user_id": 1604311, "user_type": "registered", "accept_rate": 73, "profile_image": "https://i.stack.imgur.com/0frKT.jpg?s=128&g=1", "display_name": "Arunesh Singh", "link": "https://stackoverflow.com/users/1604311/arunesh-singh"}, "is_accepted": false, "score": 0, "last_activity_date": 1436158952, "creation_date": 1436158952, "answer_id": 31238072, "question_id": 31237232, "link": "https://stackoverflow.com/questions/31237232/how-do-i-extract-a-csr-text-in-between-string-using-regex-perl/31238072#31238072", "title": "How do I extract a CSR text in between string using Regex perl?", "body": "<p>This will extract  your requirement I perceive, the string is predefined, so no need of IP Address validation or other tweaks: </p>\n\n<pre><code>#!/usr/bin/perl\nuse strict;\nuse warnings;\n\nmy $out= 'some text........\n                  c9:00:00:00:00:00:00:00:98:a3:22:4e:68:f0:44:\n                    8a:ef\n                Exponent: 65537 (0x10001)\n        Attributes:\n        Requested Extensions:\n            X509v3 Subject Alternative Name:\n                DNS:DNSName1234, IP Address: 192.168.0.0\n    Signature Algorithm: sha1WithRSAEncryption\n        2e:00:0d:08:ea:04:12:de:58:88:f0:50:72:d5:b3:03:9d:14:\n        e9:d6:f2:75:4e:e1:64:57:0e:a8:61:as:55:2e:75:e7:72:0b:\n        3d:db:a8:49:68:9f:11:b7:5a:a6:6k:49:25:ed:bc:e2:00:00:\n\nsome text...';\n\nmy ($string) =grep{/DNS:/}split(/\\n/,$out);\nif($string){ \n$string=~s/^\\s+|\\s+$//g;\n} \nelse{\n$string =  ' ';\n};\nprint \"$string \\n\";#prints DNS:DNSName1234, IP Address: 192.168.0.0\n</code></pre>\n"}], "owner": {"reputation": 141, "user_id": 1427433, "user_type": "registered", "accept_rate": 62, "profile_image": "https://i.stack.imgur.com/Cs5lQ.png?s=128&g=1", "display_name": "EdgyIT", "link": "https://stackoverflow.com/users/1427433/edgyit"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 135, "favorite_count": 0, "answer_count": 1, "score": 1, "last_activity_date": 1436158952, "creation_date": 1436151910, "last_edit_date": 1436152504, "question_id": 31237232, "link": "https://stackoverflow.com/questions/31237232/how-do-i-extract-a-csr-text-in-between-string-using-regex-perl", "title": "How do I extract a CSR text in between string using Regex perl?", "body": "<p>I would need to extract the Subject Alternative Name from the whole extracted CSR information. Example below:</p>\n\n<p><div class=\"snippet\" data-lang=\"js\" data-hide=\"false\">\r\n<div class=\"snippet-code\">\r\n<pre class=\"snippet-code-html lang-html prettyprint-override\"><code>some text........\r\n                  c9:00:00:00:00:00:00:00:98:a3:22:4e:68:f0:44:\r\n                    8a:ef\r\n                Exponent: 65537 (0x10001)\r\n        Attributes:\r\n        Requested Extensions:\r\n            X509v3 Subject Alternative Name:\r\n                DNS:DNSName1234, IP Address: 192.168.0.0\r\n    Signature Algorithm: sha1WithRSAEncryption\r\n        2e:00:0d:08:ea:04:12:de:58:88:f0:50:72:d5:b3:03:9d:14:\r\n        e9:d6:f2:75:4e:e1:64:57:0e:a8:61:as:55:2e:75:e7:72:0b:\r\n        3d:db:a8:49:68:9f:11:b7:5a:a6:6k:49:25:ed:bc:e2:00:00:\r\n\r\nsome text...</code></pre>\r\n</div>\r\n</div>\r\n</p>\n\n<p>I would need to extract the <strong>DNS:DNSName1234, IP Address: 192.168.0.0</strong> from the sample text above.\nBasically what I'm thinking is to get  <em>X509v3 Subject Alternative Name:</em> and <em>Signature Algorithm: sha1WithRSAEncryption</em> as the two strings and get the text in between</p>\n\n<p>here's some of my snippet:</p>\n\n<pre><code>my $SubjAltName = `openssl req -in /opt2/myfile/perllib/custom/OpenSSL/certreq.csr -text -noout`; #or die \"Could not get SAN\";\n\nmy $SANtxt = $SubjAltName =~ /X509v3 Subject Alternative Name:(.|\\n)*? Signature Algorithm: sha1WithRSAEncryption/;\nprint $SANtxt; \n</code></pre>\n\n<p>Should print <strong>DNS:DNSName1234, IP Address: 192.168.0.0</strong>. if there is none, then the output is blank.</p>\n\n<p>Appreciate your help, Thanks</p>\n"}, {"tags": ["perl", "shell"], "comments": [{"owner": {"reputation": 48798, "user_id": 223226, "user_type": "registered", "accept_rate": 93, "profile_image": "https://i.stack.imgur.com/iGqE4.png?s=128&g=1", "display_name": "mpapec", "link": "https://stackoverflow.com/users/223226/mpapec"}, "edited": false, "score": 0, "creation_date": 1436160862, "post_id": 31236477, "comment_id": 50474755, "body": "<code>my @output = qx(... 2&gt;&amp;1)</code> (qx() is same as backticks)"}], "answers": [{"tags": [], "owner": {"reputation": 663, "user_id": 255981, "user_type": "registered", "accept_rate": 25, "profile_image": "https://www.gravatar.com/avatar/29804f2ad262893d9ae9646dfef3dc60?s=128&d=identicon&r=PG", "display_name": "nebulous", "link": "https://stackoverflow.com/users/255981/nebulous"}, "is_accepted": true, "score": 1, "last_activity_date": 1436360712, "creation_date": 1436360712, "answer_id": 31293601, "question_id": 31236477, "link": "https://stackoverflow.com/questions/31236477/how-to-execute-python-code-from-perl-program-and-use-output-of-python-code/31293601#31293601", "title": "How to execute python code from perl program and use output of python code", "body": "<p>It appears as if find.py is outputting to STDERR. Try the following which redirects STDERR (filehandle 2) to STDOUT (filehandle 1) with <code>2&gt;&amp;1</code> and fills array <code>@python_output</code> with the resulting lines.</p>\n\n<pre><code>my @python_output = qx(/home/priya/library/bin/find.py -filter test~${opt_section}_priya_${opt_ver} 2&gt;&amp;1);\n</code></pre>\n\n<p>See <a href=\"http://perldoc.perl.org/perlop.html#qx%2f_STRING_%2f\" rel=\"nofollow\">http://perldoc.perl.org/perlop.html#qx%2f_STRING_%2f</a> for several examples of how to wrangle STDERR and STDOUT in pipes.</p>\n"}], "owner": {"reputation": 29, "user_id": 4087058, "user_type": "registered", "accept_rate": 80, "profile_image": "https://www.gravatar.com/avatar/822ea9c32395a496c02b9652f94ccb95?s=128&d=identicon&r=PG&f=1", "display_name": "Priya", "link": "https://stackoverflow.com/users/4087058/priya"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 1947, "favorite_count": 0, "accepted_answer_id": 31293601, "answer_count": 1, "score": 1, "last_activity_date": 1508774428, "creation_date": 1436143941, "last_edit_date": 1436335900, "question_id": 31236477, "link": "https://stackoverflow.com/questions/31236477/how-to-execute-python-code-from-perl-program-and-use-output-of-python-code", "title": "How to execute python code from perl program and use output of python code", "body": "<p>I want to execute python script from perl code. I want to save python output to array and get some data from it. Python script will do some search in disk and locate files which I need. I will use that output and play with it in my next script. </p>\n\n<p>I wrote some code </p>\n\n<pre><code>use strict;\nuse warnings;\nuse Getopt::Long;\nmy $opt_section;\nmy $opt_content;\nmy $opt_ver;\nmy $opt_help = 0;\n\n &amp;GetOptions (\n\"help\"          =&gt; \\$opt_help,\n\"section:s\"        =&gt; \\$opt_section,\n\"content:s\"        =&gt; \\$opt_content,\n\"ver:s\"      =&gt; \\$opt_ver,\n);\n\nif ($opt_help) {\nprint \"USAGE: file.pl -section &lt;section&gt; -content &lt;content&gt; -ver &lt;ver&gt; \\n \";\n\nexit;}\n###################python script stats here ################\n my $py = `/home/priya/library/bin/find.py -filter test~${opt_section}_priya_${opt_ver}` ;\n\n\n    print \"output is $py \\n\";\n</code></pre>\n\n<p>code is executing python script and displaying output on the terminal screen. But it is not storing output to $py. Can you please hep me to direct all output to an array or scalar? later I want to use every line of python output. </p>\n"}, {"tags": ["perl", "debugging"], "comments": [{"owner": {"reputation": 48798, "user_id": 223226, "user_type": "registered", "accept_rate": 93, "profile_image": "https://i.stack.imgur.com/iGqE4.png?s=128&g=1", "display_name": "mpapec", "link": "https://stackoverflow.com/users/223226/mpapec"}, "edited": false, "score": 1, "creation_date": 1436161249, "post_id": 31236329, "comment_id": 50474870, "body": "<a href=\"http://perldoc.perl.org/perldsc.html#ARRAYS-OF-ARRAYS\" rel=\"nofollow noreferrer\">perldoc.perl.org/perldsc.html#ARRAYS-OF-ARRAYS</a>"}], "answers": [{"tags": [], "owner": {"reputation": 11399, "user_id": 74585, "user_type": "registered", "accept_rate": 100, "profile_image": "https://i.stack.imgur.com/o1jYf.jpg?s=128&g=1", "display_name": "Matthew Lock", "link": "https://stackoverflow.com/users/74585/matthew-lock"}, "is_accepted": false, "score": 1, "last_activity_date": 1436142732, "last_edit_date": 1495539838, "creation_date": 1436142732, "answer_id": 31236380, "question_id": 31236329, "link": "https://stackoverflow.com/questions/31236329/perl-error-global-symbol-locus-requires-explicit-package-name/31236380#31236380", "title": "Perl error: &quot;Global symbol @locus requires explicit package name&quot;", "body": "<p>locus is a scalar not an array, but you are attempting to use it as if it's an array when you say $locus[0]. You probably meant to get the characters out of $locus right? If so you should use <a href=\"http://perldoc.perl.org/functions/substr.html\" rel=\"nofollow noreferrer\">substr</a> to access the individual characters of a scalar string.</p>\n\n<p>If you are new to perl then the characters at the beginning of the variable names can be confusing. See here for a good explanation <a href=\"https://stackoverflow.com/questions/1091634/why-do-perl-variables-need-to-start-with-sigils\">Why do Perl variables need to start with $, %,@ (sigils)?</a></p>\n"}, {"tags": [], "owner": {"reputation": 4598, "user_id": 145364, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/7fdd3f07ac5b720b510dc17843ab9d37?s=128&d=identicon&r=PG", "display_name": "Jim Davis", "link": "https://stackoverflow.com/users/145364/jim-davis"}, "is_accepted": true, "score": 2, "last_activity_date": 1436153000, "last_edit_date": 1436153000, "creation_date": 1436147861, "answer_id": 31236843, "question_id": 31236329, "link": "https://stackoverflow.com/questions/31236329/perl-error-global-symbol-locus-requires-explicit-package-name/31236843#31236843", "title": "Perl error: &quot;Global symbol @locus requires explicit package name&quot;", "body": "<p>When you try to access <code>$locus[0]</code>, this refers to the first element of the array <code>@locus</code>.  In your case, the <code>$locus</code> you mean to access is an <em>array reference</em>, and its first element can be dereferenced with an arrow:</p>\n\n<pre><code>foreach my $locus (@loci) {            # @loci is array of array refs\n    if (    $chr == $locus-&gt;[0]\n            and $start &lt;= $locus-&gt;[1]\n    and $end &gt;= $locus-&gt;[1] )\n    {\n        print \"$locus-&gt;[0] $locus-&gt;[1] $gene\\n\";\n\n    }\n}\n</code></pre>\n"}], "owner": {"reputation": 149, "user_id": 3591048, "user_type": "registered", "accept_rate": 64, "profile_image": "https://i.stack.imgur.com/vr3Mm.jpg?s=128&g=1", "display_name": "theo4786", "link": "https://stackoverflow.com/users/3591048/theo4786"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 277, "favorite_count": 0, "closed_date": 1436161435, "accepted_answer_id": 31236843, "answer_count": 2, "score": 1, "last_activity_date": 1436153000, "creation_date": 1436142100, "last_edit_date": 1436143059, "question_id": 31236329, "link": "https://stackoverflow.com/questions/31236329/perl-error-global-symbol-locus-requires-explicit-package-name", "closed_reason": "Duplicate", "title": "Perl error: &quot;Global symbol @locus requires explicit package name&quot;", "body": "<p>I have two files (commented out in code below), and I would like to print out field 4 from file 2 when field 2 from file 1 falls numerically between fields 2 and 3 from file2, given field 1 from both files match each other. </p>\n\n<pre><code>#! perl -w  \nuse strict; \nuse warnings;\n\n#File1\n#Chromosome Position ID A1 A2 Highalt_alt_counts Lowalt_alt_counts     Highalt_missing Lowalt_missing\n#1 10492 rs55998931 C T 6 7 3 3\n#1 10583 rs58108140 G A 2 4 6 4\n#1 10665 . C G 1 2 11 9\n\n#File2\n#chrom txStart txEnd name2\n#1 66999638 67216822 SGIP1\n#1 66999251 67216822 SGIP1\n#1 33547778 33586132 AZIN2\n#1 8378144 8404227 SLC45A1\n\nmy @loci;\nopen( my $loci_in, \"&lt;\", \"Highalt.Lowalt.allelecounts\" ) or die $!;\nwhile (&lt;$loci_in&gt;) {\n    my ( $chr, $bp ) = split;\n    next if m/CHR/;\n    push @loci, [ $chr, $bp ];\n}\nclose $loci_in;\n\nmy $filename = shift @ARGV;\nopen( my $input, \"&lt;\", $filename ) or die $!;\nwhile (&lt;$input&gt;) {\n    next if m/bin/;\n    my ( $chr, $start, $end, $gene ) = split;\n    foreach my $locus (@loci) {\n        if (    $chr == $locus[0]\n                and $start &lt;= $locus[1]\n        and $end &gt;= $locus[1] )\n        {\n            print \"$locus[0] $locus[1] $gene\\n\";\n\n        }\n    }\n}\nclose($input);\n</code></pre>\n\n<p>I am getting the warning:</p>\n\n<blockquote>\n  <blockquote>\n    <p>Global symbol \"@locus\" requires explicit package name at find_gene_2.pl line 29.</p>\n  </blockquote>\n</blockquote>\n\n<p>Can someone point out the error?</p>\n"}, {"tags": ["perl", "libxml2"], "answers": [{"comments": [{"owner": {"reputation": 123805, "user_id": 622310, "user_type": "registered", "accept_rate": 33, "profile_image": "https://www.gravatar.com/avatar/8b6d35219e1808520bc238b28161e2e6?s=128&d=identicon&r=PG", "display_name": "Borodin", "link": "https://stackoverflow.com/users/622310/borodin"}, "edited": false, "score": 0, "creation_date": 1436136693, "post_id": 31232230, "comment_id": 50470169, "body": "I&#39;m surprised that <code>&#47;&#47;.[@id]</code> works, as <code>.</code> represents the current context, and isn&#39;t really meaningful except as the first step in a path. <code>&#47;&#47;*[@id]</code> is far more common"}, {"owner": {"reputation": 320771, "user_id": 589924, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/b2cf53d5a3d25f95c0db4e025aed4153?s=128&d=identicon&r=PG", "display_name": "ikegami", "link": "https://stackoverflow.com/users/589924/ikegami"}, "reply_to_user": {"reputation": 123805, "user_id": 622310, "user_type": "registered", "accept_rate": 33, "profile_image": "https://www.gravatar.com/avatar/8b6d35219e1808520bc238b28161e2e6?s=128&d=identicon&r=PG", "display_name": "Borodin", "link": "https://stackoverflow.com/users/622310/borodin"}, "edited": false, "score": 0, "creation_date": 1436137038, "post_id": 31232230, "comment_id": 50470239, "body": "@Borodin, It&#39;s just a like in a file system. <code>&#47;foo&#47;bar&#47;.&#47;.&#47;baz</code> is the same thing as <code>&#47;foo&#47;bar&#47;baz</code>. However, <code>*</code> matches only element nodes whereas <code>.</code> matches any node, so <code>*</code> is what I should have used. Fixed."}, {"owner": {"reputation": 81, "user_id": 5074548, "user_type": "registered", "profile_image": "https://graph.facebook.com/10153478105709459/picture?type=large", "display_name": "Brian", "link": "https://stackoverflow.com/users/5074548/brian"}, "edited": false, "score": 0, "creation_date": 1436207176, "post_id": 31232230, "comment_id": 50502947, "body": "Thanks for this answer ikegami.  This does simplify the code quite a bit and makes lookup of nodes much faster...once the hash table is built.  For what I would say is a small to medium size XML for me, the initial building of the hash takes about 5 minutes.  Not sure if there is a way to optimize even further to go faster or not?  Probably not.  Also, I switched over to getAttribute now."}], "tags": [], "owner": {"reputation": 320771, "user_id": 589924, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/b2cf53d5a3d25f95c0db4e025aed4153?s=128&d=identicon&r=PG", "display_name": "ikegami", "link": "https://stackoverflow.com/users/589924/ikegami"}, "is_accepted": false, "score": 3, "last_activity_date": 1436136837, "last_edit_date": 1436136837, "creation_date": 1436112028, "answer_id": 31232230, "question_id": 31231554, "link": "https://stackoverflow.com/questions/31231554/perl-libxml-find-node-by-attribute-value/31232230#31232230", "title": "Perl libXML find node by attribute value", "body": "<p>Do one pass to extract the information you need into a more convenient format or to build an index.</p>\n\n<pre><code>my %nodes_by_id;\nfor my $node ($xc-&gt;findnodes('//*[@id]')) {\n    $nodes_by_id{ $node-&gt;getAttribute('id') } = $node;\n}\n</code></pre>\n\n<p>Then your loops become</p>\n\n<pre><code>my $node = $nodes_by_id{'1234'};\n</code></pre>\n\n<p>(And stop using <code>findvalue</code> instead of <code>getAttribute</code>.)</p>\n"}, {"tags": [], "owner": {"reputation": 28131, "user_id": 1956010, "user_type": "registered", "accept_rate": 83, "profile_image": "https://www.gravatar.com/avatar/bfdcb4596e9da98cccbf9a0069fdff6c?s=128&d=identicon&r=PG", "display_name": "nwellnhof", "link": "https://stackoverflow.com/users/1956010/nwellnhof"}, "is_accepted": false, "score": 1, "last_activity_date": 1436129176, "creation_date": 1436129176, "answer_id": 31234847, "question_id": 31231554, "link": "https://stackoverflow.com/questions/31231554/perl-libxml-find-node-by-attribute-value/31234847#31234847", "title": "Perl libXML find node by attribute value", "body": "<p>If you have a DTD for your document that declares the <code>id</code> attribute as DTD <code>ID</code>, and you make sure the DTD is read when parsing the document, you can access the elements with a certain id efficiently via <a href=\"https://metacpan.org/pod/XML::LibXML::Document#getElementById\" rel=\"nofollow\"><code>$doc-&gt;getElementById($id)</code></a>.</p>\n"}, {"tags": [], "owner": {"reputation": 6468, "user_id": 293652, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/820308d5db420d7f0e1d0ba97e09f520?s=128&d=identicon&r=PG", "display_name": "Grant McLean", "link": "https://stackoverflow.com/users/293652/grant-mclean"}, "is_accepted": false, "score": 2, "last_activity_date": 1436142433, "last_edit_date": 1436142433, "creation_date": 1436130026, "answer_id": 31234964, "question_id": 31231554, "link": "https://stackoverflow.com/questions/31231554/perl-libxml-find-node-by-attribute-value/31234964#31234964", "title": "Perl libXML find node by attribute value", "body": "<p>I think you just need to do some study on XPath expressions.  For example, you could do something like this:</p>\n\n<pre><code>my $search_id = \"1234\";\nmy $query = \"/plm:PLMXML/plm:ExternalFile/[\\@id = '$search_id']\";\nforeach my $node ($xc-&gt;findnodes($query)) {\n    # ...\n}\n</code></pre>\n\n<p>In the XPath expression you can also combine multiple attribute checks, e.g.:</p>\n\n<pre><code>[@id = '$search_id' and contains(@pathname, '.pdf')]\n</code></pre>\n\n<p>One <a href=\"http://zvon.org/comp/r/tut-XPath_1.html\" rel=\"nofollow\">XPath Tutorial</a> of <a href=\"https://www.google.co.nz/search?q=XPath+tutorial\" rel=\"nofollow\">many</a></p>\n"}, {"comments": [{"owner": {"reputation": 320771, "user_id": 589924, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/b2cf53d5a3d25f95c0db4e025aed4153?s=128&d=identicon&r=PG", "display_name": "ikegami", "link": "https://stackoverflow.com/users/589924/ikegami"}, "edited": false, "score": 0, "creation_date": 1436135352, "post_id": 31235133, "comment_id": 50469852, "body": "Re &quot;If you will be doing this for lots of IDs&quot;, The OP specifically said he had many loops. At best, you created a slight improvement to each loop, but my approach eliminates all but one loop."}, {"owner": {"reputation": 320771, "user_id": 589924, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/b2cf53d5a3d25f95c0db4e025aed4153?s=128&d=identicon&r=PG", "display_name": "ikegami", "link": "https://stackoverflow.com/users/589924/ikegami"}, "edited": false, "score": 0, "creation_date": 1436135810, "post_id": 31235133, "comment_id": 50469966, "body": "<code>my @nodes = $xc-&gt;findnodes(...);</code> would make more sense. <code>my ($node) = $xc-&gt;findnodes(...);</code> would make even more sense."}, {"owner": {"reputation": 81, "user_id": 5074548, "user_type": "registered", "profile_image": "https://graph.facebook.com/10153478105709459/picture?type=large", "display_name": "Brian", "link": "https://stackoverflow.com/users/5074548/brian"}, "edited": false, "score": 0, "creation_date": 1436189386, "post_id": 31235133, "comment_id": 50491616, "body": "My ids&#39;s are not numeric.  They all have an id prefix.  Like this: &lt;ExternalFile id=&quot;id104&quot; accessRefs=&quot;#id91&quot; locationRef=&quot;0000145.xls&quot; format=&quot;xls&quot;&gt;"}], "tags": [], "owner": {"reputation": 1493, "user_id": 4399474, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/071244d72e3a6f73f9329753619eeb7c?s=128&d=identicon&r=PG", "display_name": "user52889", "link": "https://stackoverflow.com/users/4399474/user52889"}, "is_accepted": false, "score": 2, "last_activity_date": 1436135774, "last_edit_date": 1436135774, "creation_date": 1436131460, "answer_id": 31235133, "question_id": 31231554, "link": "https://stackoverflow.com/questions/31231554/perl-libxml-find-node-by-attribute-value/31235133#31235133", "title": "Perl libXML find node by attribute value", "body": "<p>If you will be doing this for lots of IDs, then ikegami's answer is worth reading.</p>\n\n<blockquote>\n  <p>I was hoping I could do something like this below to just match the node by attribute instead</p>\n  \n  <p>...</p>\n\n<pre><code>$nodes = ($xc-&gt;findnodes('/plm:PLMXML/plm:ExternalFile[@id=$searchID]'));\n</code></pre>\n</blockquote>\n\n<p>Sort of.</p>\n\n<p>For a given ID, yes, you can do </p>\n\n<pre><code>$nodes = $xc-&gt;findnodes(\"/plm:PLMXML/plm:ExternalFile[\\@id=$searchID]\");\n</code></pre>\n\n<p>... provided that <code>$searchID</code> is known to be numeric. Notice the double quotes in perl means the variables interpolate, so you should escape the <code>@id</code> because that is part of the literal string, not a perl array, whereas you want the value of <code>$searchID</code> to become part of the xpath string, so it is not escaped.</p>\n\n<p>Note also that in this case you are asking for it in scalar context will have a <a href=\"https://metacpan.org/pod/XML::LibXML::NodeList\" rel=\"nofollow\">XML::LibXML::Nodelist</a> object, not the actual node, nor an arrayref; for the latter you will need to use square brackets instead of round ones as I have done in the next example.</p>\n\n<p>Alternatively, if your search id may not be numeric but you know for sure that it is safe to be put in an XPath string (e.g. doesn't have any quotes), you can do the following:</p>\n\n<pre><code>$nodes = [ $xc-&gt;findnodes('/plm:PLMXML/plm:ExternalFile[@id=\"' . $searchID . '\"]') ];\nprint $nodes-&gt;[0]-&gt;getAttribute('locationRef'); # if you're 100% sure it exists\n</code></pre>\n\n<p>Notice here that the resulting string will enclose the value in quotation marks.</p>\n\n<p>Finally, it is possible to skip straight to:</p>\n\n<pre><code>print $xc-&gt;findvalue('/plm:PLMXML/plm:ExternalFile[@id=\"' . $searchID . '\"]/@locationRef');\n</code></pre>\n\n<p>... providing you know that there is only one node with that id.</p>\n"}], "owner": {"reputation": 81, "user_id": 5074548, "user_type": "registered", "profile_image": "https://graph.facebook.com/10153478105709459/picture?type=large", "display_name": "Brian", "link": "https://stackoverflow.com/users/5074548/brian"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 3650, "favorite_count": 0, "answer_count": 4, "score": 4, "last_activity_date": 1436142433, "creation_date": 1436107621, "last_edit_date": 1436108281, "question_id": 31231554, "link": "https://stackoverflow.com/questions/31231554/perl-libxml-find-node-by-attribute-value", "title": "Perl libXML find node by attribute value", "body": "<p>I have very large XML document that I am iterating through.  The XML's use mostly attributes rather than node values.  I may need to find numerous nodes in the file to piece together one grouping of information.  They are tied together via different ref tag values.  Currently each time I need to locate one of the nodes to extract data from I am looping through the entire XML and doing a match on the attribute to find the correct node.  Is there a more efficient way to just select a node of a given attribute value instead of constantly looping and compare?  My current code is so slow it is almost useless.</p>\n\n<p>Currently I am doing something like this numerous times in the same file for numerous different nodes and attribute combinations.  </p>\n\n<pre><code>my $searchID = \"1234\";\nforeach my $nodes ($xc-&gt;findnodes('/plm:PLMXML/plm:ExternalFile')) {\n    my $ID      = $nodes-&gt;findvalue('@id');\n    my $File    = $nodes-&gt;findvalue('@locationRef');\n    if ( $searchID eq $ID ) {\n        print \"The File Name = $File\\n\";\n    }\n}\n</code></pre>\n\n<p>In the above example I am looping and using an \"if\" to compare for an ID match.  I was hoping I could do something like this below to just match the node by attribute instead... and would it be any more efficient then looping?</p>\n\n<pre><code>my $searchID = \"1234\";\n$nodes = ($xc-&gt;findnodes('/plm:PLMXML/plm:ExternalFile[@id=$searchID]'));\nmy $File    = $nodes-&gt;findvalue('@locationRef');\nprint \"The File Name = $File\\n\";\n</code></pre>\n"}, {"tags": ["regex", "perl"], "comments": [{"owner": {"reputation": 123805, "user_id": 622310, "user_type": "registered", "accept_rate": 33, "profile_image": "https://www.gravatar.com/avatar/8b6d35219e1808520bc238b28161e2e6?s=128&d=identicon&r=PG", "display_name": "Borodin", "link": "https://stackoverflow.com/users/622310/borodin"}, "reply_to_user": {"reputation": 113221, "user_id": 100754, "user_type": "registered", "accept_rate": 90, "profile_image": "https://www.gravatar.com/avatar/7804ebae32fbadef38537d74a915c22f?s=128&d=identicon&r=PG", "display_name": "Sinan &#220;n&#252;r", "link": "https://stackoverflow.com/users/100754/sinan-%c3%9cn%c3%bcr"}, "edited": false, "score": 0, "creation_date": 1436119021, "post_id": 31230896, "comment_id": 50465242, "body": "@Sinan&#220;n&#252;r: What? Do you mean <code>elsif ( m{ ... }x ) { ... }</code>?"}], "answers": [{"comments": [{"owner": {"reputation": 123805, "user_id": 622310, "user_type": "registered", "accept_rate": 33, "profile_image": "https://www.gravatar.com/avatar/8b6d35219e1808520bc238b28161e2e6?s=128&d=identicon&r=PG", "display_name": "Borodin", "link": "https://stackoverflow.com/users/622310/borodin"}, "edited": false, "score": 2, "creation_date": 1436105213, "post_id": 31231050, "comment_id": 50461038, "body": "A little narrative would be nice"}, {"owner": {"reputation": 414, "user_id": 2657581, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/aa4ca84c4b5287e5174ddd0dfcd38130?s=128&d=identicon&r=PG", "display_name": "mamod", "link": "https://stackoverflow.com/users/2657581/mamod"}, "reply_to_user": {"reputation": 123805, "user_id": 622310, "user_type": "registered", "accept_rate": 33, "profile_image": "https://www.gravatar.com/avatar/8b6d35219e1808520bc238b28161e2e6?s=128&d=identicon&r=PG", "display_name": "Borodin", "link": "https://stackoverflow.com/users/622310/borodin"}, "edited": false, "score": 0, "creation_date": 1436105613, "post_id": 31231050, "comment_id": 50461135, "body": "@Borodin LOL, I&#39;ve read your little narration below and found it totally useful for me too, thanx :)"}, {"owner": {"reputation": 123805, "user_id": 622310, "user_type": "registered", "accept_rate": 33, "profile_image": "https://www.gravatar.com/avatar/8b6d35219e1808520bc238b28161e2e6?s=128&d=identicon&r=PG", "display_name": "Borodin", "link": "https://stackoverflow.com/users/622310/borodin"}, "edited": false, "score": 3, "creation_date": 1436110987, "post_id": 31231050, "comment_id": 50462742, "body": "It is very rare that a code-only solution is sufficient"}], "tags": [], "owner": {"reputation": 414, "user_id": 2657581, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/aa4ca84c4b5287e5174ddd0dfcd38130?s=128&d=identicon&r=PG", "display_name": "mamod", "link": "https://stackoverflow.com/users/2657581/mamod"}, "is_accepted": false, "score": 1, "last_activity_date": 1436105039, "last_edit_date": 1436105039, "creation_date": 1436104261, "answer_id": 31231050, "question_id": 31230896, "link": "https://stackoverflow.com/questions/31230896/continue-with-newline-in-perl/31231050#31231050", "title": "Continue with newline in perl", "body": "<pre><code>if ($url =~ m{\n    ^(?:http|https)://(?:banners?|\n    advertising|\n    iklan|\n    adsbox|\n    adserver|\n    adservices?)\\.\n}x #&lt;---- x for multi line regex\n){\n    print \"http://ip.mdm-lo-00.willsz.net/null.png\\n\";\n}\n</code></pre>\n"}, {"comments": [{"owner": {"reputation": 21, "user_id": 3312791, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/wmCkX.jpg?s=128&g=1", "display_name": "budsz", "link": "https://stackoverflow.com/users/3312791/budsz"}, "edited": false, "score": 0, "creation_date": 1436113358, "post_id": 31231165, "comment_id": 50463506, "body": ") missed in the end. But anyway thank you for clear explanation."}, {"owner": {"reputation": 123805, "user_id": 622310, "user_type": "registered", "accept_rate": 33, "profile_image": "https://www.gravatar.com/avatar/8b6d35219e1808520bc238b28161e2e6?s=128&d=identicon&r=PG", "display_name": "Borodin", "link": "https://stackoverflow.com/users/622310/borodin"}, "reply_to_user": {"reputation": 21, "user_id": 3312791, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/wmCkX.jpg?s=128&g=1", "display_name": "budsz", "link": "https://stackoverflow.com/users/3312791/budsz"}, "edited": false, "score": 0, "creation_date": 1436118486, "post_id": 31231165, "comment_id": 50465077, "body": "@budsz: Thanks. And a missing pipe. Sorry, I couldn&#39;t test on my tablet"}], "tags": [], "owner": {"reputation": 123805, "user_id": 622310, "user_type": "registered", "accept_rate": 33, "profile_image": "https://www.gravatar.com/avatar/8b6d35219e1808520bc238b28161e2e6?s=128&d=identicon&r=PG", "display_name": "Borodin", "link": "https://stackoverflow.com/users/622310/borodin"}, "is_accepted": false, "score": 5, "last_activity_date": 1436119050, "last_edit_date": 1436119050, "creation_date": 1436105058, "answer_id": 31231165, "question_id": 31230896, "link": "https://stackoverflow.com/questions/31230896/continue-with-newline-in-perl/31231165#31231165", "title": "Continue with newline in perl", "body": "<p>You are getting a little carried away with your escapes and parentheses! And it is much simpler to change the delimiter to something like <code>{</code>...<code>}</code> that isn't in the body of the pattern; then you don't have to escape the slashes</p>\n\n<p>Unless you use the <code>/x</code> modifier, all whitespace is significant in a regex pattern, including newlines, and escaping them makes no difference at all. This isn't C!</p>\n\n<p>You should also use non-capturing parentheses like <code>(?:...)</code> unless you need to capture substrings of the matched pattern</p>\n\n<p>And there is no need for a throw-away <code>.*</code> to match the tail of the string, unless you need to match and capture it for further use</p>\n\n<p>Your best option is to use <code>m{...}x</code>. Then you can add spaces, tabs, and newlines as you like to make the pattern clearer</p>\n\n<p>And backslashes aren't necessary in double-quoted strings at all, unless you want to add special characters like <code>\\t</code> for tab, <code>\\n</code> for newline etc.</p>\n\n<p>This code should do what you want</p>\n\n<pre><code>elsif ( $url =~ m{ ^ https?:// (?:\n        banners?    |\n        advertising |\n        iklan       |\n        adsbox      |\n        adserver    |\n        adservices? ) \\. }x ) {\n\n    print \"http://ip.mdm-lo-00.willsz.net/null.png\\n\";\n}\n</code></pre>\n"}], "owner": {"reputation": 21, "user_id": 3312791, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/wmCkX.jpg?s=128&g=1", "display_name": "budsz", "link": "https://stackoverflow.com/users/3312791/budsz"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 160, "favorite_count": 0, "answer_count": 2, "score": 2, "last_activity_date": 1436119050, "creation_date": 1436103210, "question_id": 31230896, "link": "https://stackoverflow.com/questions/31230896/continue-with-newline-in-perl", "title": "Continue with newline in perl", "body": "<p>I have perl script like this:</p>\n\n<pre><code>elsif ($url =~ m/^(http|https):\\/\\/(banner(s?)|advertising|iklan|adsbox|adserver|adservice(s?))\\.(.*)/) {\n        print \"http:\\/\\/ip\\.mdm\\-lo\\-00\\.willsz\\.net/null\\.png\\n\";\n}\n</code></pre>\n\n<p>That working for redirect squid (one line), but if change to multiline like this, absolutely not working.</p>\n\n<pre><code>elsif ($url =~ m/^(http|https):\\/\\/(banner(s?) \\\n |advertising \\\n |iklan \\\n |adsbox \\\n |adserver \\\n |adservice(s?))\\.(.*)/) {\n    print \"http:\\/\\/ip\\.mdm\\-lo\\-00\\.willsz\\.net/null\\.png\\n\";\n}\n</code></pre>\n\n<p>Any suggestion? - Thank You</p>\n"}, {"tags": ["perl", "mojolicious"], "comments": [{"owner": {"reputation": 123805, "user_id": 622310, "user_type": "registered", "accept_rate": 33, "profile_image": "https://www.gravatar.com/avatar/8b6d35219e1808520bc238b28161e2e6?s=128&d=identicon&r=PG", "display_name": "Borodin", "link": "https://stackoverflow.com/users/622310/borodin"}, "edited": false, "score": 0, "creation_date": 1436104189, "post_id": 31230088, "comment_id": 50460780, "body": "And what is it that you want to remove?"}], "answers": [{"tags": [], "owner": {"reputation": 123805, "user_id": 622310, "user_type": "registered", "accept_rate": 33, "profile_image": "https://www.gravatar.com/avatar/8b6d35219e1808520bc238b28161e2e6?s=128&d=identicon&r=PG", "display_name": "Borodin", "link": "https://stackoverflow.com/users/622310/borodin"}, "is_accepted": false, "score": 0, "last_activity_date": 1436104314, "creation_date": 1436104314, "answer_id": 31231058, "question_id": 31230088, "link": "https://stackoverflow.com/questions/31230088/how-to-remove-a-key-from-a-session-in-mojolicious/31231058#31231058", "title": "How to remove a key from a session in Mojolicious?", "body": "<p>If you want to remove the hash element <code>$orders-&gt;{a}</code> then you need to use <code>delete</code></p>\n\n<pre><code>delete $orders-&gt;{a}\n</code></pre>\n\n<p>Anything else, such as <code>$orders-&gt;{a} = undef</code> will leave the element in place but with a value of <code>undef</code></p>\n"}, {"tags": [], "owner": {"reputation": 497, "user_id": 668247, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/9753585e9c97a4009c17adffe41f9f47?s=128&d=identicon&r=PG", "display_name": "vikin9", "link": "https://stackoverflow.com/users/668247/vikin9"}, "is_accepted": false, "score": 0, "last_activity_date": 1446110111, "creation_date": 1446110111, "answer_id": 33410055, "question_id": 31230088, "link": "https://stackoverflow.com/questions/31230088/how-to-remove-a-key-from-a-session-in-mojolicious/33410055#33410055", "title": "How to remove a key from a session in Mojolicious?", "body": "<p>For GET/POST I would use:</p>\n\n<pre><code>$self-&gt;req-&gt;url-&gt;query-&gt;remove('orders');\n</code></pre>\n\n<p>How about</p>\n\n<pre><code>$self-&gt;session-&gt;remove('orders');\n</code></pre>\n"}, {"tags": [], "owner": {"reputation": 15304, "user_id": 4632019, "user_type": "registered", "accept_rate": 57, "profile_image": "https://www.gravatar.com/avatar/8937eb40752cf51c7da61bd4a322a4ef?s=128&d=identicon&r=PG&f=1", "display_name": "Eugen Konkov", "link": "https://stackoverflow.com/users/4632019/eugen-konkov"}, "is_accepted": false, "score": 0, "last_activity_date": 1446669815, "creation_date": 1446669815, "answer_id": 33531631, "question_id": 31230088, "link": "https://stackoverflow.com/questions/31230088/how-to-remove-a-key-from-a-session-in-mojolicious/33531631#33531631", "title": "How to remove a key from a session in Mojolicious?", "body": "<p>You just delete as usual you do in perl:\n<code>\ndelete $orders-&gt;{a};\ndelete $c-&gt;session-&gt;{orders};\ndelete $c-&gt;session-&gt;{orders}{a};\n</code></p>\n\n<p>Based on <a href=\"http://mojolicio.us/perldoc/Mojolicious/Controller#session\" rel=\"nofollow\">this</a></p>\n"}], "owner": {"reputation": 21, "user_id": 4939000, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/17a8c645fe71d8e24b41bf67eac41b8e?s=128&d=identicon&r=PG&f=1", "display_name": "Scrvll", "link": "https://stackoverflow.com/users/4939000/scrvll"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 400, "favorite_count": 0, "answer_count": 3, "score": 1, "last_activity_date": 1446669815, "creation_date": 1436097540, "last_edit_date": 1436103769, "question_id": 31230088, "link": "https://stackoverflow.com/questions/31230088/how-to-remove-a-key-from-a-session-in-mojolicious", "title": "How to remove a key from a session in Mojolicious?", "body": "<p>How can I remove key from a Mojolicious session? \nI have hash reference <code>$orders</code> in session:</p>\n\n<pre><code>my $orders = $self-&gt;session('orders');\n$orders-&gt;{a} = 1;\n#some work with $orders;\n</code></pre>\n"}, {"tags": ["perl", "scope"], "comments": [{"owner": {"reputation": 4161, "user_id": 449215, "user_type": "registered", "accept_rate": 38, "profile_image": "https://www.gravatar.com/avatar/02b9a3cc087554f3426b4c83c1c68bff?s=128&d=identicon&r=PG", "display_name": "Dov Grobgeld", "link": "https://stackoverflow.com/users/449215/dov-grobgeld"}, "edited": false, "score": 1, "creation_date": 1436082860, "post_id": 31228145, "comment_id": 50455916, "body": "Unless you have a good reason (and as newbie you seldom do), you should be using <code>my()</code> for local variables instead of <code>local()</code>."}, {"owner": {"reputation": 311, "user_id": 3230587, "user_type": "registered", "accept_rate": 9, "profile_image": "https://www.gravatar.com/avatar/d2c91019f35b22d5aa2693080be07a0b?s=128&d=identicon&r=PG&f=1", "display_name": "suhel", "link": "https://stackoverflow.com/users/3230587/suhel"}, "reply_to_user": {"reputation": 4161, "user_id": 449215, "user_type": "registered", "accept_rate": 38, "profile_image": "https://www.gravatar.com/avatar/02b9a3cc087554f3426b4c83c1c68bff?s=128&d=identicon&r=PG", "display_name": "Dov Grobgeld", "link": "https://stackoverflow.com/users/449215/dov-grobgeld"}, "edited": false, "score": 1, "creation_date": 1436083272, "post_id": 31228145, "comment_id": 50455989, "body": "@DovGrobgeld, Thanks for comment. I know i should use my. In this case, i only want to know where is the variable $temp created. Because when i run this code, i see no issues. And local cannot create a variable."}, {"owner": {"reputation": 32176, "user_id": 2173773, "user_type": "registered", "accept_rate": 86, "profile_image": "https://i.stack.imgur.com/M8yh6.jpg?s=128&g=1", "display_name": "H&#229;kon H&#230;gland", "link": "https://stackoverflow.com/users/2173773/h%c3%a5kon-h%c3%a6gland"}, "edited": false, "score": 5, "creation_date": 1436085383, "post_id": 31228145, "comment_id": 50456384, "body": "You forgot to use <code>use strict</code>. If you do not <code>use strict</code> the global package variable <code>$temp</code> will be used.. See <a href=\"http://perlmaven.com/global-symbol-requires-explicit-package-name\" rel=\"nofollow noreferrer\">perlmaven.com/global-symbol-requires-explicit-package-name</a>"}, {"owner": {"reputation": 311, "user_id": 3230587, "user_type": "registered", "accept_rate": 9, "profile_image": "https://www.gravatar.com/avatar/d2c91019f35b22d5aa2693080be07a0b?s=128&d=identicon&r=PG&f=1", "display_name": "suhel", "link": "https://stackoverflow.com/users/3230587/suhel"}, "reply_to_user": {"reputation": 32176, "user_id": 2173773, "user_type": "registered", "accept_rate": 86, "profile_image": "https://i.stack.imgur.com/M8yh6.jpg?s=128&g=1", "display_name": "H&#229;kon H&#230;gland", "link": "https://stackoverflow.com/users/2173773/h%c3%a5kon-h%c3%a6gland"}, "edited": false, "score": 0, "creation_date": 1436085627, "post_id": 31228145, "comment_id": 50456437, "body": "@H&#229;konH&#230;gland, Thanks for the comment. This is the answer i was looking for."}, {"owner": {"reputation": 123805, "user_id": 622310, "user_type": "registered", "accept_rate": 33, "profile_image": "https://www.gravatar.com/avatar/8b6d35219e1808520bc238b28161e2e6?s=128&d=identicon&r=PG", "display_name": "Borodin", "link": "https://stackoverflow.com/users/622310/borodin"}, "edited": false, "score": 5, "creation_date": 1436103220, "post_id": 31228145, "comment_id": 50460508, "body": "<b><i>Never</i></b> use an ampersand <code>&amp;</code> when calling a Perl subroutine. It does something very specific that you don&#39;t want. Just <code>func()</code> is correct and has been so since Perl version 5.8 twenty years ago. And <b><i>Never</i></b> comment out <code>use strict</code> and <code>use warnings</code> -- they are life savers"}, {"owner": {"reputation": 121105, "user_id": 2766176, "user_type": "registered", "accept_rate": 61, "profile_image": "https://www.gravatar.com/avatar/edd8638efe875601bfe394a8aea5b16d?s=128&d=identicon&r=PG", "display_name": "brian d foy", "link": "https://stackoverflow.com/users/2766176/brian-d-foy"}, "edited": false, "score": 5, "creation_date": 1436141707, "post_id": 31228145, "comment_id": 50471068, "body": "An ampersand on a subroutine can do a couple of things, some of which you probably aren&#39;t thinking about. &quot;Never&quot; is too strong here, even for your other statements."}], "answers": [{"comments": [{"owner": {"reputation": 123805, "user_id": 622310, "user_type": "registered", "accept_rate": 33, "profile_image": "https://www.gravatar.com/avatar/8b6d35219e1808520bc238b28161e2e6?s=128&d=identicon&r=PG", "display_name": "Borodin", "link": "https://stackoverflow.com/users/622310/borodin"}, "edited": false, "score": 0, "creation_date": 1436101541, "post_id": 31228657, "comment_id": 50460064, "body": "<code>use strict &#39;vars&#39;</code> is one of the strictures that are enabled by <code>use strict</code>. Your answer could imply that you need to enable it separately"}, {"owner": {"reputation": 121105, "user_id": 2766176, "user_type": "registered", "accept_rate": 61, "profile_image": "https://www.gravatar.com/avatar/edd8638efe875601bfe394a8aea5b16d?s=128&d=identicon&r=PG", "display_name": "brian d foy", "link": "https://stackoverflow.com/users/2766176/brian-d-foy"}, "edited": false, "score": 2, "creation_date": 1436135383, "post_id": 31228657, "comment_id": 50469857, "body": "This doesn&#39;t answer the question and contains the annoying nag that doesn&#39;t help solve this problem."}], "tags": [], "owner": {"reputation": 32176, "user_id": 2173773, "user_type": "registered", "accept_rate": 86, "profile_image": "https://i.stack.imgur.com/M8yh6.jpg?s=128&g=1", "display_name": "H&#229;kon H&#230;gland", "link": "https://stackoverflow.com/users/2173773/h%c3%a5kon-h%c3%a6gland"}, "is_accepted": false, "score": 0, "last_activity_date": 1436086573, "last_edit_date": 1436086573, "creation_date": 1436086194, "answer_id": 31228657, "question_id": 31228145, "link": "https://stackoverflow.com/questions/31228145/in-perl-can-local-create-a-variable/31228657#31228657", "title": "In Perl, can local() create a variable?", "body": "<p>You forgot to use <code>use strict</code>. If you do not <code>use strict</code> the global package variable <code>$temp</code> will be used.. See <a href=\"http://perlmaven.com/global-symbol-requires-explicit-package-name\" rel=\"nofollow\">http://perlmaven.com/global-symbol-requires-explicit-package-name</a>.</p>\n\n<p>Package variables are always global. They have a name and a package qualifier. You can omit the package qualifier, in which case Perl uses a default, which you can set with the package declaration.\nTo avoid using global variables by accident, add <code>use strict 'vars'</code> to your program.\nFrom the <a href=\"http://perldoc.perl.org/strict.html\" rel=\"nofollow\">documentation</a>:</p>\n\n<blockquote>\n  <p><strong>use strict vars</strong>: This generates a compile-time error if you access a variable that was\n  neither explicitly declared (using any of my, our, state, or use vars\n  ) nor fully qualified. (Because this is to avoid variable suicide\n  problems and subtle dynamic scoping issues, a merely local variable\n  isn't good enough.)</p>\n</blockquote>\n"}, {"tags": [], "owner": {"reputation": 48798, "user_id": 223226, "user_type": "registered", "accept_rate": 93, "profile_image": "https://i.stack.imgur.com/iGqE4.png?s=128&g=1", "display_name": "mpapec", "link": "https://stackoverflow.com/users/223226/mpapec"}, "is_accepted": false, "score": 5, "last_activity_date": 1436096305, "creation_date": 1436096305, "answer_id": 31229943, "question_id": 31228145, "link": "https://stackoverflow.com/questions/31228145/in-perl-can-local-create-a-variable/31229943#31229943", "title": "In Perl, can local() create a variable?", "body": "<blockquote>\n  <p>local does not create a variable instead works on the existing ones. but i have a small piece of code below and i wonder <strong>how local is working when there is no such variable already created</strong>.</p>\n</blockquote>\n\n<p>Lets make a few steps, and let the perl do some diagnostics,</p>\n\n<pre><code>perl -wE 'local $temp =3'\nName \"main::temp\" used only once: possible typo at -e line 1.\n</code></pre>\n\n<p>So <code>local $temp</code> alters <code>$main::temp</code> which is package variable and </p>\n\n<pre><code>perl -wE 'local $main::temp =3'\nName \"main::temp\" used only once: possible typo at -e line 1.\n</code></pre>\n\n<p>gives the same warning. So we created a new package variable which is <em>localized</em>. </p>\n\n<p>What does this mean? It means that unlike <code>our $temp</code> it keeps the value of package ('global') variable $temp until it exits <a href=\"http://perldoc.perl.org/functions/local.html\" rel=\"noreferrer\">enclosing block</a> at which point it restores value to previous value.</p>\n\n<p>A few more tests,</p>\n\n<pre><code>perl -MData::Dumper -E 'say Dumper [exists $main::{t}, ${$main::{t}}]'\n$VAR1 = [\n      '',     # `$main::t` is NOT created in main package\n      undef   # retrieving value of `$main::t` thus returns undef\n    ];\n</code></pre>\n\n<hr>\n\n<pre><code>perl -MData::Dumper -E '{our $t=7} say Dumper [exists $main::{t}, ${$main::{t}}]'\n$VAR1 = [\n      1,      # `$main::t` is created in main package\n      7       # value of `$main::t`\n    ];\n</code></pre>\n\n<hr>\n\n<p>and finally,</p>\n\n<pre><code>perl -MData::Dumper -E '{local $t=7} say Dumper [exists $main::{t}, ${$main::{t}}]'\n$VAR1 = [\n      1,      # `$main::t` is *CREATED* in main package\n      undef   # value of `$main::t` reverts to undef at exit of enclosing block\n    ];\n</code></pre>\n"}, {"comments": [{"owner": {"reputation": 121105, "user_id": 2766176, "user_type": "registered", "accept_rate": 61, "profile_image": "https://www.gravatar.com/avatar/edd8638efe875601bfe394a8aea5b16d?s=128&d=identicon&r=PG", "display_name": "brian d foy", "link": "https://stackoverflow.com/users/2766176/brian-d-foy"}, "edited": false, "score": 2, "creation_date": 1436135441, "post_id": 31230967, "comment_id": 50469869, "body": "Dangerous? That&#39;s a pretty strong statement."}, {"owner": {"reputation": 123805, "user_id": 622310, "user_type": "registered", "accept_rate": 33, "profile_image": "https://www.gravatar.com/avatar/8b6d35219e1808520bc238b28161e2e6?s=128&d=identicon&r=PG", "display_name": "Borodin", "link": "https://stackoverflow.com/users/622310/borodin"}, "reply_to_user": {"reputation": 121105, "user_id": 2766176, "user_type": "registered", "accept_rate": 61, "profile_image": "https://www.gravatar.com/avatar/edd8638efe875601bfe394a8aea5b16d?s=128&d=identicon&r=PG", "display_name": "brian d foy", "link": "https://stackoverflow.com/users/2766176/brian-d-foy"}, "edited": false, "score": 1, "creation_date": 1436135605, "post_id": 31230967, "comment_id": 50469911, "body": "@briandfoy: A lot of the danger comes from my reaction to seeing another question on SO that could be solved by enabling strictures"}, {"owner": {"reputation": 121105, "user_id": 2766176, "user_type": "registered", "accept_rate": 61, "profile_image": "https://www.gravatar.com/avatar/edd8638efe875601bfe394a8aea5b16d?s=128&d=identicon&r=PG", "display_name": "brian d foy", "link": "https://stackoverflow.com/users/2766176/brian-d-foy"}, "edited": false, "score": 2, "creation_date": 1436136059, "post_id": 31230967, "comment_id": 50470023, "body": "strict wouldn&#39;t solve a question that&#39;s not related to a concrete programming problem. This is a question asking how things works and a bunch of people who don&#39;t want to explain it pull out this nag about strict. It&#39;s not at all helpful and certainly not welcoming."}, {"owner": {"reputation": 123805, "user_id": 622310, "user_type": "registered", "accept_rate": 33, "profile_image": "https://www.gravatar.com/avatar/8b6d35219e1808520bc238b28161e2e6?s=128&d=identicon&r=PG", "display_name": "Borodin", "link": "https://stackoverflow.com/users/622310/borodin"}, "reply_to_user": {"reputation": 121105, "user_id": 2766176, "user_type": "registered", "accept_rate": 61, "profile_image": "https://www.gravatar.com/avatar/edd8638efe875601bfe394a8aea5b16d?s=128&d=identicon&r=PG", "display_name": "brian d foy", "link": "https://stackoverflow.com/users/2766176/brian-d-foy"}, "edited": false, "score": 1, "creation_date": 1436165792, "post_id": 31230967, "comment_id": 50476741, "body": "@briandfoy: I&#39;m not claiming that <code>use strict</code> would help to answer this question; I&#39;m just using it as an example of what mistakes can go uncaught in its absence"}], "tags": [], "owner": {"reputation": 123805, "user_id": 622310, "user_type": "registered", "accept_rate": 33, "profile_image": "https://www.gravatar.com/avatar/8b6d35219e1808520bc238b28161e2e6?s=128&d=identicon&r=PG", "display_name": "Borodin", "link": "https://stackoverflow.com/users/622310/borodin"}, "is_accepted": false, "score": 0, "last_activity_date": 1436103659, "creation_date": 1436103659, "answer_id": 31230967, "question_id": 31228145, "link": "https://stackoverflow.com/questions/31228145/in-perl-can-local-create-a-variable/31230967#31230967", "title": "In Perl, can local() create a variable?", "body": "<p>Without <code>use strict</code> -- specifically <code>use strict 'vars'</code>, which is a subset -- just <em>mentioning</em> a variable creates it in the current package. There is no need even for <code>local</code>, and your code can be written like this</p>\n\n<pre><code>sub func{\n    $temp = 20;\n    print $temp;\n}\n\nfunc();\n</code></pre>\n\n<h3>output</h3>\n\n<pre><code>20\n</code></pre>\n\n<p>That is one reason why <code>use strict</code> is so important, and it is dangerous to omit it. Without it you have no protection against misspelling variables and silently breaking your program</p>\n"}, {"comments": [{"owner": {"reputation": 48798, "user_id": 223226, "user_type": "registered", "accept_rate": 93, "profile_image": "https://i.stack.imgur.com/iGqE4.png?s=128&g=1", "display_name": "mpapec", "link": "https://stackoverflow.com/users/223226/mpapec"}, "edited": false, "score": 2, "creation_date": 1436252399, "post_id": 31235822, "comment_id": 50519037, "body": "It pisses me of when lengthy and non trivial answers get downvoted without comment."}], "tags": [], "owner": {"reputation": 121105, "user_id": 2766176, "user_type": "registered", "accept_rate": 61, "profile_image": "https://www.gravatar.com/avatar/edd8638efe875601bfe394a8aea5b16d?s=128&d=identicon&r=PG", "display_name": "brian d foy", "link": "https://stackoverflow.com/users/2766176/brian-d-foy"}, "is_accepted": false, "score": 8, "last_activity_date": 1436155213, "last_edit_date": 1436155213, "creation_date": 1436137293, "answer_id": 31235822, "question_id": 31228145, "link": "https://stackoverflow.com/questions/31228145/in-perl-can-local-create-a-variable/31235822#31235822", "title": "In Perl, can local() create a variable?", "body": "<p>Unless you declare a variable with <code>my</code>, variables without a full package specification go into the current package. Here's how you might see variables used for the first time and what they would be: </p>\n\n<pre><code>my $temp;       # a scoped, lexical variable that does not live in any package\nstate $temp;    # a persistent lexical variable\nour $temp;      # a package variable in the current package, declared\n$temp;          # a package variable in the current package\n$main::temp     # a package variable in main\n$Foo::Bar::temp # a package variable in Foo::Bar\nlocal $temp     # a package variable in the current package, with a dynamically-scoped (temporary) value\n</code></pre>\n\n<p>The <code>local</code> sets the scope of a package variable. When you declare this \"dynamic\" scope, Perl uses the temporary value you set until the end of the scope. As with other package variables, Perl creates them when you first use them. That you might use it first with <code>local</code> in front doesn't affect that.</p>\n\n<p>Many people who tried to answer your question immediately nagged you about <code>strict</code>. This is a programming aid that helps you not mistype a variable name by forcing you to declare all variables you intend to use. When you use a variable name you haven't declared, it stops the compilation of your program. You can do that with the <code>vars</code> pragma, <code>my</code>, <code>state</code>, or <code>our</code>:</p>\n\n<pre><code>use vars qw($temp);\nour $temp;\nmy $temp;\nstate $temp;\n</code></pre>\n\n<p><code>local</code> isn't part of that, as you've seen. Why? Because that's just how it is. I'd like it more if it were different.</p>\n\n<p><code>strict</code> won't complain if you use the full package specification, such as <code>$Foo::Bar::temp</code>. You can mistype all of those without ever noticing.</p>\n\n<p>I mostly reserve my use of <code>local</code> for Perl's special variables, which you don't have to declare. If I want to use <code>$_</code> in a subroutine, perhaps to use the operators that use <code>$_</code> by default, I'll probably start that with <code>local $_</code>:</p>\n\n<pre><code> sub something {\n     local $_ = shift @_;\n     s/.../.../;\n     tr/.../.../;\n     ...;\n     }\n</code></pre>\n\n<p>I probably use <code>local</code> more often with the input record separator so I can use different line endings without affecting might have come before:</p>\n\n<pre><code> my $data = do { local $/; &lt;FILE&gt; };\n</code></pre>\n\n<p>Those work because there's an implicit first use of those variables that you haven't seen.</p>\n\n<p>Otherwise, I probably want to make variables private to its subroutine so nothing outside the subroutine can see it. In that case, I don't want a package variable that the rest of the program can read or write. That's the job for <code>my</code> variables:</p>\n\n<pre><code>sub something {\n    my $temp = ...;\n\n    }\n</code></pre>\n\n<p>The trick of programming is to limit what can happen to exactly what you want. If the rest of your program shouldn't be able to see or change the variable, <code>my</code> is the way to go.</p>\n\n<p>I explain this is <a href=\"http://www.learning-perl.com\">Learning Perl</a> and write about the details of the package variables in <a href=\"http://www.masteringperl.org\">Mastering Perl</a>.</p>\n"}, {"comments": [{"owner": {"reputation": 32176, "user_id": 2173773, "user_type": "registered", "accept_rate": 86, "profile_image": "https://i.stack.imgur.com/M8yh6.jpg?s=128&g=1", "display_name": "H&#229;kon H&#230;gland", "link": "https://stackoverflow.com/users/2173773/h%c3%a5kon-h%c3%a6gland"}, "edited": false, "score": 0, "creation_date": 1436175812, "post_id": 31237974, "comment_id": 50482713, "body": "What is the difference between <code>$foo</code>, <code>${foo}</code> and <code>${&quot;foo&quot;}</code>?"}, {"owner": {"reputation": 320771, "user_id": 589924, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/b2cf53d5a3d25f95c0db4e025aed4153?s=128&d=identicon&r=PG", "display_name": "ikegami", "link": "https://stackoverflow.com/users/589924/ikegami"}, "reply_to_user": {"reputation": 32176, "user_id": 2173773, "user_type": "registered", "accept_rate": 86, "profile_image": "https://i.stack.imgur.com/M8yh6.jpg?s=128&g=1", "display_name": "H&#229;kon H&#230;gland", "link": "https://stackoverflow.com/users/2173773/h%c3%a5kon-h%c3%a6gland"}, "edited": false, "score": 0, "creation_date": 1436192524, "post_id": 31237974, "comment_id": 50493847, "body": "@H&#229;kon H&#230;gland, <code>${foo}</code> is identical to <code>$foo</code>. Useful in string literal <code>&quot;${foo}bar&quot;</code>"}, {"owner": {"reputation": 320771, "user_id": 589924, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/b2cf53d5a3d25f95c0db4e025aed4153?s=128&d=identicon&r=PG", "display_name": "ikegami", "link": "https://stackoverflow.com/users/589924/ikegami"}, "reply_to_user": {"reputation": 32176, "user_id": 2173773, "user_type": "registered", "accept_rate": 86, "profile_image": "https://i.stack.imgur.com/M8yh6.jpg?s=128&g=1", "display_name": "H&#229;kon H&#230;gland", "link": "https://stackoverflow.com/users/2173773/h%c3%a5kon-h%c3%a6gland"}, "edited": false, "score": 1, "creation_date": 1436192583, "post_id": 31237974, "comment_id": 50493903, "body": "@H&#229;kon H&#230;gland, The only difference I can think of between <code>${&quot;foo&quot;}</code> and <code>$foo</code> is the one I already mentioned. In the former (&quot;symbolic reference&quot;), the name is generated a run-time, while the name is known at compile-time."}, {"owner": {"reputation": 32176, "user_id": 2173773, "user_type": "registered", "accept_rate": 86, "profile_image": "https://i.stack.imgur.com/M8yh6.jpg?s=128&g=1", "display_name": "H&#229;kon H&#230;gland", "link": "https://stackoverflow.com/users/2173773/h%c3%a5kon-h%c3%a6gland"}, "edited": false, "score": 0, "creation_date": 1436193255, "post_id": 31237974, "comment_id": 50494382, "body": "Ok, so <code>${&quot;foo&quot;}</code> is not known at compile time, while <code>$foo</code> is known at compile time.. That is weired. It would be interesting to know the logic behind this.."}, {"owner": {"reputation": 320771, "user_id": 589924, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/b2cf53d5a3d25f95c0db4e025aed4153?s=128&d=identicon&r=PG", "display_name": "ikegami", "link": "https://stackoverflow.com/users/589924/ikegami"}, "reply_to_user": {"reputation": 32176, "user_id": 2173773, "user_type": "registered", "accept_rate": 86, "profile_image": "https://i.stack.imgur.com/M8yh6.jpg?s=128&g=1", "display_name": "H&#229;kon H&#230;gland", "link": "https://stackoverflow.com/users/2173773/h%c3%a5kon-h%c3%a6gland"}, "edited": false, "score": 1, "creation_date": 1436193385, "post_id": 31237974, "comment_id": 50494481, "body": "@H&#229;kon H&#230;gland, There are uses to generating variable names. You do it every time you import a symbol. But it&#39;s generally not something you want to do, which is why you use <code>use strict &#39;refs&#39;;</code> to forbid it."}], "tags": [], "owner": {"reputation": 320771, "user_id": 589924, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/b2cf53d5a3d25f95c0db4e025aed4153?s=128&d=identicon&r=PG", "display_name": "ikegami", "link": "https://stackoverflow.com/users/589924/ikegami"}, "is_accepted": false, "score": 3, "last_activity_date": 1436159506, "last_edit_date": 1495542586, "creation_date": 1436158327, "answer_id": 31237974, "question_id": 31228145, "link": "https://stackoverflow.com/questions/31228145/in-perl-can-local-create-a-variable/31237974#31237974", "title": "In Perl, can local() create a variable?", "body": "<p><code>local</code> does not create a variable. Simply mentioning <code>$temp</code> is creating the variable. It is created when as soon as it is first encountered, whether at compile-time or at run-time.</p>\n\n<pre class=\"lang-none prettyprint-override\"><code>$ perl -E'\n   $foo;\n   ${\"bar\"};\n   BEGIN { say $::{foo} &amp;&amp; *{ $::{foo} }{SCALAR} ? \"exists\" : \"doesn'\\''t exist\"; }\n   BEGIN { say $::{bar} &amp;&amp; *{ $::{bar} }{SCALAR} ? \"exists\" : \"doesn'\\''t exist\"; }\n   BEGIN { say $::{baz} &amp;&amp; *{ $::{baz} }{SCALAR} ? \"exists\" : \"doesn'\\''t exist\"; }\n   say $::{foo} &amp;&amp; *{ $::{foo} }{SCALAR} ? \"exists\" : \"doesn'\\''t exist\";\n   say $::{bar} &amp;&amp; *{ $::{bar} }{SCALAR} ? \"exists\" : \"doesn'\\''t exist\";\n   say $::{baz} &amp;&amp; *{ $::{baz} }{SCALAR} ? \"exists\" : \"doesn'\\''t exist\";\n'\nexists               # $foo exists at compile-time\ndoesn't exist        # $bar doesn't exist at compile-time\ndoesn't exist        # $baz doesn't exist at compile-time\nexists               # $foo exists at run-time\nexists               # $bar exists at run-time\ndoesn't exist        # $baz doesn't exist at run-time\n</code></pre>\n\n<p>Having variables created simply by naming them makes it hard to spot typos. We use <code>use strict;</code> because <a href=\"https://stackoverflow.com/a/8024241/589924\">it prevents that</a>.</p>\n\n<p><code>local</code> only has a run-time effect. <code>local</code> temporarily backs up the value of <code>$temp</code> in a way that causes Perl to restore it when the lexical scope is exited.</p>\n\n<pre class=\"lang-none prettyprint-override\"><code>$ perl -E'\n   sub f { say $temp; }\n\n   $temp = 123;\n   f();\n\n   {\n      local $temp = 456;\n      f();\n   }\n\n   f();\n'\n123\n456\n123\n</code></pre>\n"}], "owner": {"reputation": 311, "user_id": 3230587, "user_type": "registered", "accept_rate": 9, "profile_image": "https://www.gravatar.com/avatar/d2c91019f35b22d5aa2693080be07a0b?s=128&d=identicon&r=PG&f=1", "display_name": "suhel", "link": "https://stackoverflow.com/users/3230587/suhel"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 315, "favorite_count": 0, "answer_count": 5, "score": 7, "last_activity_date": 1436885267, "creation_date": 1436081680, "last_edit_date": 1436885267, "question_id": 31228145, "link": "https://stackoverflow.com/questions/31228145/in-perl-can-local-create-a-variable", "title": "In Perl, can local() create a variable?", "body": "<p>I have read many posts in Stackoverflow and in Google which tell that <a href=\"https://metacpan.org/pod/perlsub#Temporary-Values-via-local\" rel=\"nofollow\"><code>local</code></a> does not create a variable, instead it works on the existing ones. </p>\n\n<p>I have a small piece of code below and I wonder how <code>local</code> is working when there is no such variable already created.</p>\n\n<pre><code>#use strict;\n#use warnings;\n\n&amp;func;\n\nsub func{\n    local $temp = 20;\n    print $temp;        \n}\n</code></pre>\n\n<p>This I wrote just to understand the concept and I am relatively new to Perl.</p>\n"}, {"tags": ["perl", "path", "split"], "comments": [{"owner": {"reputation": 32176, "user_id": 2173773, "user_type": "registered", "accept_rate": 86, "profile_image": "https://i.stack.imgur.com/M8yh6.jpg?s=128&g=1", "display_name": "H&#229;kon H&#230;gland", "link": "https://stackoverflow.com/users/2173773/h%c3%a5kon-h%c3%a6gland"}, "edited": false, "score": 0, "creation_date": 1436088047, "post_id": 31228131, "comment_id": 50456949, "body": "See <a href=\"http://perldoc.perl.org/File/Basename.html\" rel=\"nofollow noreferrer\">File::Basename</a>"}], "answers": [{"tags": [], "owner": {"reputation": 159902, "user_id": 3297613, "user_type": "registered", "accept_rate": 74, "profile_image": "https://i.stack.imgur.com/KHhzd.jpg?s=128&g=1", "display_name": "Avinash Raj", "link": "https://stackoverflow.com/users/3297613/avinash-raj"}, "is_accepted": true, "score": 2, "last_activity_date": 1436082416, "last_edit_date": 1436082416, "creation_date": 1436081721, "answer_id": 31228150, "question_id": 31228131, "link": "https://stackoverflow.com/questions/31228131/how-to-split-string-in-perl/31228150#31228150", "title": "How to split string in Perl", "body": "<p>Just split your input according to the last forward slash character.</p>\n\n<pre><code>my $line = \"../images/abc.png\";\nmy @abc = split /\\/(?=[^\\/]*$)/, $line;\nprint \"Directory :\\t\" .$abc[0].\"\\n\";\nprint \"FileName  :\\t\" .$abc[1].\"\\n\";\n</code></pre>\n\n<p><strong>Output:</strong></p>\n\n<pre><code>Directory : ../images\nFileName  : abc.png\n</code></pre>\n"}, {"tags": [], "owner": {"reputation": 82895, "user_id": 372239, "user_type": "registered", "accept_rate": 80, "profile_image": "https://i.stack.imgur.com/2twLb.jpg?s=128&g=1", "display_name": "Toto", "link": "https://stackoverflow.com/users/372239/toto"}, "is_accepted": false, "score": 2, "last_activity_date": 1436088517, "last_edit_date": 1436088517, "creation_date": 1436088321, "answer_id": 31228910, "question_id": 31228131, "link": "https://stackoverflow.com/questions/31228131/how-to-split-string-in-perl/31228910#31228910", "title": "How to split string in Perl", "body": "<p>You'd better use the core module <a href=\"http://perldoc.perl.org/File/Basename.html\" rel=\"nofollow\">File::Basename</a></p>\n\n<pre><code>#!/usr/bin/perl\nuse Modern::Perl;\nuse File::Basename;\n\nmy $path = '../images/abc.png';\nmy($filename, $dirs) = fileparse($path);\nsay $dirs,\"\\t\",$filename\n</code></pre>\n\n<p><strong>output:</strong></p>\n\n<pre><code>../images/    abc.png\n</code></pre>\n"}, {"tags": [], "owner": {"reputation": 123805, "user_id": 622310, "user_type": "registered", "accept_rate": 33, "profile_image": "https://www.gravatar.com/avatar/8b6d35219e1808520bc238b28161e2e6?s=128&d=identicon&r=PG", "display_name": "Borodin", "link": "https://stackoverflow.com/users/622310/borodin"}, "is_accepted": false, "score": 1, "last_activity_date": 1436102872, "last_edit_date": 1436102872, "creation_date": 1436102021, "answer_id": 31230712, "question_id": 31228131, "link": "https://stackoverflow.com/questions/31228131/how-to-split-string-in-perl/31230712#31230712", "title": "How to split string in Perl", "body": "<p>You can just use a regular expression</p>\n\n<pre><code>use strict;\nuse warnings;\nuse 5.010;\n\nmy $path = '../images/abc.png';\n\nmy ($dir, $file) = $path =~ m|(.+)/(.*)|;\n\nsay for $dir, $file;\n</code></pre>\n\n<h3>output</h3>\n\n<pre><code>../images\nabc.png\n</code></pre>\n"}], "owner": {"reputation": 7922, "user_id": 1216931, "user_type": "registered", "accept_rate": 47, "profile_image": "https://www.gravatar.com/avatar/30f58cc2bfc607ccaabb56839dfdd7e2?s=128&d=identicon&r=PG", "display_name": "Devesh Agrawal", "link": "https://stackoverflow.com/users/1216931/devesh-agrawal"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 208, "favorite_count": 0, "accepted_answer_id": 31228150, "answer_count": 3, "score": -2, "last_activity_date": 1436102872, "creation_date": 1436081559, "last_edit_date": 1436081848, "question_id": 31228131, "link": "https://stackoverflow.com/questions/31228131/how-to-split-string-in-perl", "title": "How to split string in Perl", "body": "<p>I have a variable that contains path.</p>\n\n<pre><code>my $path = '../images/abc.png';\n</code></pre>\n\n<p>I want to split this into 2 path such that:</p>\n\n<pre><code>my $directory = '../images';\nmy $FileName = 'abc.png';\n</code></pre>\n\n<p>How to do that?</p>\n"}, {"tags": ["python", "bash", "perl", "awk"], "comments": [{"owner": {"reputation": 73, "user_id": 5081715, "user_type": "registered", "accept_rate": 0, "profile_image": "https://www.gravatar.com/avatar/f2ca982541b9f4a19e4ff99b38eb8df1?s=128&d=identicon&r=PG&f=1", "display_name": "ktoui", "link": "https://stackoverflow.com/users/5081715/ktoui"}, "edited": false, "score": 0, "creation_date": 1436082787, "post_id": 31227962, "comment_id": 50455903, "body": "would be great if peopel could tell what is wrong with the q?"}, {"owner": {"reputation": 32176, "user_id": 2173773, "user_type": "registered", "accept_rate": 86, "profile_image": "https://i.stack.imgur.com/M8yh6.jpg?s=128&g=1", "display_name": "H&#229;kon H&#230;gland", "link": "https://stackoverflow.com/users/2173773/h%c3%a5kon-h%c3%a6gland"}, "edited": false, "score": 0, "creation_date": 1436090211, "post_id": 31227962, "comment_id": 50457401, "body": "This can be done easily using a Perl script. But it would be better if you presented some Perl code first and showed where you got stuck.."}, {"owner": {"reputation": 73, "user_id": 5081715, "user_type": "registered", "accept_rate": 0, "profile_image": "https://www.gravatar.com/avatar/f2ca982541b9f4a19e4ff99b38eb8df1?s=128&d=identicon&r=PG&f=1", "display_name": "ktoui", "link": "https://stackoverflow.com/users/5081715/ktoui"}, "reply_to_user": {"reputation": 32176, "user_id": 2173773, "user_type": "registered", "accept_rate": 86, "profile_image": "https://i.stack.imgur.com/M8yh6.jpg?s=128&g=1", "display_name": "H&#229;kon H&#230;gland", "link": "https://stackoverflow.com/users/2173773/h%c3%a5kon-h%c3%a6gland"}, "edited": false, "score": 0, "creation_date": 1436090424, "post_id": 31227962, "comment_id": 50457433, "body": "hmm..my perl is very bad I am afraid...so I tried to do in awk...sorr"}, {"owner": {"reputation": 123805, "user_id": 622310, "user_type": "registered", "accept_rate": 33, "profile_image": "https://www.gravatar.com/avatar/8b6d35219e1808520bc238b28161e2e6?s=128&d=identicon&r=PG", "display_name": "Borodin", "link": "https://stackoverflow.com/users/622310/borodin"}, "edited": false, "score": 0, "creation_date": 1436103063, "post_id": 31227962, "comment_id": 50460466, "body": "I don&#39;t see this question as being overly broad. The requirement is well-defined, and the OP has shown his awk code after being prompted"}], "answers": [{"comments": [{"owner": {"reputation": 73, "user_id": 5081715, "user_type": "registered", "accept_rate": 0, "profile_image": "https://www.gravatar.com/avatar/f2ca982541b9f4a19e4ff99b38eb8df1?s=128&d=identicon&r=PG&f=1", "display_name": "ktoui", "link": "https://stackoverflow.com/users/5081715/ktoui"}, "edited": false, "score": 0, "creation_date": 1436091137, "post_id": 31229188, "comment_id": 50457611, "body": "is there a trailin \\t at the last line of the NAM lin?..because that would not be good..."}, {"owner": {"reputation": 658023, "user_id": 548225, "user_type": "registered", "accept_rate": 90, "profile_image": "https://www.gravatar.com/avatar/dab08478b226280d4a30894c9a7ed719?s=128&d=identicon&r=PG", "display_name": "anubhava", "link": "https://stackoverflow.com/users/548225/anubhava"}, "reply_to_user": {"reputation": 73, "user_id": 5081715, "user_type": "registered", "accept_rate": 0, "profile_image": "https://www.gravatar.com/avatar/f2ca982541b9f4a19e4ff99b38eb8df1?s=128&d=identicon&r=PG&f=1", "display_name": "ktoui", "link": "https://stackoverflow.com/users/5081715/ktoui"}, "edited": false, "score": 0, "creation_date": 1436091497, "post_id": 31229188, "comment_id": 50457687, "body": "Where did you find a trailing tab?"}, {"owner": {"reputation": 32176, "user_id": 2173773, "user_type": "registered", "accept_rate": 86, "profile_image": "https://i.stack.imgur.com/M8yh6.jpg?s=128&g=1", "display_name": "H&#229;kon H&#230;gland", "link": "https://stackoverflow.com/users/2173773/h%c3%a5kon-h%c3%a6gland"}, "reply_to_user": {"reputation": 73, "user_id": 5081715, "user_type": "registered", "accept_rate": 0, "profile_image": "https://www.gravatar.com/avatar/f2ca982541b9f4a19e4ff99b38eb8df1?s=128&d=identicon&r=PG&f=1", "display_name": "ktoui", "link": "https://stackoverflow.com/users/5081715/ktoui"}, "edited": false, "score": 2, "creation_date": 1436096715, "post_id": 31229188, "comment_id": 50458979, "body": "@ktoui Consider accepting this answer if it worked for you, <a href=\"http://meta.stackexchange.com/questions/5234/how-does-accepting-an-answer-work\">more info</a>"}, {"owner": {"reputation": 73, "user_id": 5081715, "user_type": "registered", "accept_rate": 0, "profile_image": "https://www.gravatar.com/avatar/f2ca982541b9f4a19e4ff99b38eb8df1?s=128&d=identicon&r=PG&f=1", "display_name": "ktoui", "link": "https://stackoverflow.com/users/5081715/ktoui"}, "edited": false, "score": 0, "creation_date": 1437214446, "post_id": 31229188, "comment_id": 50944034, "body": "@anubhava that is okay for the test set but not for the real data from here <a href=\"https://www.dropbox.com/s/h6ukumbj08cwk99/arg_t1.gz?dl=0\" rel=\"nofollow noreferrer\">dropbox.com/s/h6ukumbj08cwk99/arg_t1.gz?dl=0</a> could you maybe hava a look there is somethign with the numeric column not working"}, {"owner": {"reputation": 658023, "user_id": 548225, "user_type": "registered", "accept_rate": 90, "profile_image": "https://www.gravatar.com/avatar/dab08478b226280d4a30894c9a7ed719?s=128&d=identicon&r=PG", "display_name": "anubhava", "link": "https://stackoverflow.com/users/548225/anubhava"}, "edited": false, "score": 0, "creation_date": 1437216238, "post_id": 31229188, "comment_id": 50944523, "body": "I cannot test with a massive file. Consider making a small sample for which this solution doesn&#39;t work. That will be easier for to investigate and make some modifications, if needed."}], "tags": [], "owner": {"reputation": 658023, "user_id": 548225, "user_type": "registered", "accept_rate": 90, "profile_image": "https://www.gravatar.com/avatar/dab08478b226280d4a30894c9a7ed719?s=128&d=identicon&r=PG", "display_name": "anubhava", "link": "https://stackoverflow.com/users/548225/anubhava"}, "is_accepted": false, "score": 1, "last_activity_date": 1436090669, "creation_date": 1436090669, "answer_id": 31229188, "question_id": 31227962, "link": "https://stackoverflow.com/questions/31227962/parsing-from-colum-in-perl-or-bash/31229188#31229188", "title": "parsing from colum in perl or bash", "body": "<p>You can use this awk command:</p>\n\n<pre><code>awk 'function print_vals() {\n   fn=\"file\" c;\n   print hdr &gt; fn;\n   print \"REGION  chr\", sn, en &gt;&gt; fn;\n   for (i in a)\n      print a[i] &gt;&gt; fn;\n} NR == 1 {\n   hdr=$0;\n   c=0;\n   next\n} NF==2 &amp;&amp; $1 &gt;= 1000*c {\n   if (c)\n      print_vals();\n   delete a;\n   i=0;\n   c++;\n   sn=$1;\n} NF==2 {\n   a[++i]=$0;\n   en=$1;\n} END {\n   print print_vals();\n }' file\n</code></pre>\n\n<p><strong>Verification:</strong></p>\n\n<pre><code>cat file1\nNAMES   n0  n1  n2  n3  n4  n5  n6  n7\nREGION  chr 404 992\n404 AAAAAAGA\n992 TTTTTTTA\n\ncat file2\nNAMES   n0  n1  n2  n3  n4  n5  n6  n7\nREGION  chr 1146 1778\n1146    CCCCGGCC\n1727    CCCCCACC\n1778    GCCCCCCC\n</code></pre>\n"}, {"comments": [{"owner": {"reputation": 73, "user_id": 5081715, "user_type": "registered", "accept_rate": 0, "profile_image": "https://www.gravatar.com/avatar/f2ca982541b9f4a19e4ff99b38eb8df1?s=128&d=identicon&r=PG&f=1", "display_name": "ktoui", "link": "https://stackoverflow.com/users/5081715/ktoui"}, "edited": false, "score": 0, "creation_date": 1436130039, "post_id": 31232688, "comment_id": 50468555, "body": "that is a nice thing...could you tell me how i can provide it wiht multiple input files and the output for the first fiel is something like file 1 to 10 and the next is file 11 to 20 or 24 or somthng?"}, {"owner": {"reputation": 51521, "user_id": 2566198, "user_type": "registered", "accept_rate": 67, "profile_image": "https://i.stack.imgur.com/Y34ZA.jpg?s=128&g=1", "display_name": "Sobrique", "link": "https://stackoverflow.com/users/2566198/sobrique"}, "reply_to_user": {"reputation": 73, "user_id": 5081715, "user_type": "registered", "accept_rate": 0, "profile_image": "https://www.gravatar.com/avatar/f2ca982541b9f4a19e4ff99b38eb8df1?s=128&d=identicon&r=PG&f=1", "display_name": "ktoui", "link": "https://stackoverflow.com/users/5081715/ktoui"}, "edited": false, "score": 0, "creation_date": 1436131286, "post_id": 31232688, "comment_id": 50468874, "body": "Although bear in mind that the &#39;header&#39; is the firs two lines of the first file in the list. If they&#39;re the same that won&#39;t matter."}], "tags": [], "owner": {"reputation": 51521, "user_id": 2566198, "user_type": "registered", "accept_rate": 67, "profile_image": "https://i.stack.imgur.com/Y34ZA.jpg?s=128&g=1", "display_name": "Sobrique", "link": "https://stackoverflow.com/users/2566198/sobrique"}, "is_accepted": false, "score": 1, "last_activity_date": 1436130900, "last_edit_date": 1436130900, "creation_date": 1436114721, "answer_id": 31232688, "question_id": 31227962, "link": "https://stackoverflow.com/questions/31227962/parsing-from-colum-in-perl-or-bash/31232688#31232688", "title": "parsing from colum in perl or bash", "body": "<p>You have an <code>awk</code> answer, but as this question is tagged <code>perl</code> I'll chip in a perl one too.</p>\n\n<pre><code>#!/usr/bin/env perl\nuse strict;\nuse warnings;\n\nmy %seen;\n\nmy $header = &lt;&gt; . &lt;&gt;;\nprint $header;\n\nmy $last_sequence_number = 0;\n\nopen( my $output, \"&gt;\", \"output.$last_sequence_number.out\" ) or die $!;\nprint {$output} $header;\n$seen{$last_sequence_number}++;\n\nwhile (&lt;&gt;) {\n    my ($key) = split;\n    next unless $key =~ m/^\\d+$/;\n    my $sequence_number = int( $key / 1000 );\n    if ( not $sequence_number == $last_sequence_number ) {\n        print \"Opening new file for $sequence_number\\n\";\n        close($output);\n        open( $output, \"&gt;\", \"output.$sequence_number.out\" ) or die $!;\n        print {$output} $header unless $seen{$sequence_number}++;\n        $last_sequence_number = $sequence_number;\n    }\n    print {$output} $_;\n}\n</code></pre>\n\n<p>What this does is:</p>\n\n<ul>\n<li>read two lines from your input to figure out the headers. </li>\n<li>run through the rest of the input, extracting the 'number bit'. </li>\n<li>divides it by 1000 to figure out a 'file number' to write to. </li>\n<li>opens a new file for that if it's relevant. (And if it's the first time it's done so, writes some headers). </li>\n<li>prints the current line to the currently open file. </li>\n</ul>\n\n<p>Invoke via either a pipe or <code>myscript.pl &lt;filename&gt;</code></p>\n"}, {"comments": [{"owner": {"reputation": 73, "user_id": 5081715, "user_type": "registered", "accept_rate": 0, "profile_image": "https://www.gravatar.com/avatar/f2ca982541b9f4a19e4ff99b38eb8df1?s=128&d=identicon&r=PG&f=1", "display_name": "ktoui", "link": "https://stackoverflow.com/users/5081715/ktoui"}, "edited": false, "score": 0, "creation_date": 1436130190, "post_id": 31234935, "comment_id": 50468594, "body": "that is a nice thing...could you tell me how i can provide it wiht multiple input files and the output for the first fiel is something like file 1 to 10 and the next is file 11 to 20 or 24 or somthng?"}, {"owner": {"reputation": 123805, "user_id": 622310, "user_type": "registered", "accept_rate": 33, "profile_image": "https://www.gravatar.com/avatar/8b6d35219e1808520bc238b28161e2e6?s=128&d=identicon&r=PG", "display_name": "Borodin", "link": "https://stackoverflow.com/users/622310/borodin"}, "reply_to_user": {"reputation": 73, "user_id": 5081715, "user_type": "registered", "accept_rate": 0, "profile_image": "https://www.gravatar.com/avatar/f2ca982541b9f4a19e4ff99b38eb8df1?s=128&d=identicon&r=PG&f=1", "display_name": "ktoui", "link": "https://stackoverflow.com/users/5081715/ktoui"}, "edited": false, "score": 0, "creation_date": 1436130946, "post_id": 31234935, "comment_id": 50468783, "body": "@ktoui: Now you&#39;re changing the requirement! If the numbers are just the first column divided by 1000 then you can just run this program against each file, one at a time"}, {"owner": {"reputation": 73, "user_id": 5081715, "user_type": "registered", "accept_rate": 0, "profile_image": "https://www.gravatar.com/avatar/f2ca982541b9f4a19e4ff99b38eb8df1?s=128&d=identicon&r=PG&f=1", "display_name": "ktoui", "link": "https://stackoverflow.com/users/5081715/ktoui"}, "edited": false, "score": 0, "creation_date": 1437214480, "post_id": 31234935, "comment_id": 50944046, "body": "the answer soes not change the numbers in the REGION line as in th euqestion could tyou have a look please"}], "tags": [], "owner": {"reputation": 123805, "user_id": 622310, "user_type": "registered", "accept_rate": 33, "profile_image": "https://www.gravatar.com/avatar/8b6d35219e1808520bc238b28161e2e6?s=128&d=identicon&r=PG", "display_name": "Borodin", "link": "https://stackoverflow.com/users/622310/borodin"}, "is_accepted": false, "score": 1, "last_activity_date": 1436130849, "last_edit_date": 1436130849, "creation_date": 1436129814, "answer_id": 31234935, "question_id": 31227962, "link": "https://stackoverflow.com/questions/31227962/parsing-from-colum-in-perl-or-bash/31234935#31234935", "title": "parsing from colum in perl or bash", "body": "<p>This short Perl program will process a file specified as a parameter on the command line. It pushes onto <code>@header</code> any line that doesn't start with a number. Otherwise it divides the number by 1,000 and checks to see if there is already a file open for that millenium. If not tehn it opens a file for output and prints the header lines to it. Then the current line is printed to the selected file handle</p>\n\n<pre><code>use strict;\nuse warnings;\nuse 5.010;\nuse autodie;\n\nmy (@header, @fh);\n\nwhile ( &lt;&gt; ) {\n\n  if ( /^(\\d+)/ ) {\n\n    my $n = int $1 / 1000;\n\n    unless ( $fh[$n] ) {\n      my $file = sprintf 'file%d.txt', $n+1;\n      open $fh[$n], '&gt;', $file;\n      print { $fh[$n] } @header;\n    }\n\n    print { $fh[$n] } $_;\n  }\n  else {\n    push @header, $_;\n  }\n}\n\nclose $_ for grep $_, @fh;\n</code></pre>\n\n<h3>output - file1.txt</h3>\n\n<pre><code>NAMES   n0  n1  n2  n3  n4  n5  n6  n7\nREGION  chr 1   100000\n404 AAAAAAGA\n992 TTTTTTTA\n</code></pre>\n\n<h3>output - file2.txt</h3>\n\n<pre><code>NAMES   n0  n1  n2  n3  n4  n5  n6  n7\nREGION  chr 1   100000\n1146    CCCCGGCC\n1727    CCCCCACC\n1778    GCCCCCCC\n</code></pre>\n"}], "owner": {"reputation": 73, "user_id": 5081715, "user_type": "registered", "accept_rate": 0, "profile_image": "https://www.gravatar.com/avatar/f2ca982541b9f4a19e4ff99b38eb8df1?s=128&d=identicon&r=PG&f=1", "display_name": "ktoui", "link": "https://stackoverflow.com/users/5081715/ktoui"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 118, "favorite_count": 0, "answer_count": 3, "score": -2, "last_activity_date": 1436130900, "creation_date": 1436080019, "last_edit_date": 1436089266, "question_id": 31227962, "link": "https://stackoverflow.com/questions/31227962/parsing-from-colum-in-perl-or-bash", "title": "parsing from colum in perl or bash", "body": "<p>a file I am working with looks like this</p>\n\n<pre><code>NAMES   n0  n1  n2  n3  n4  n5  n6  n7\nREGION  chr 1   100000\n404 AAAAAAGA\n992 TTTTTTTA\n1146    CCCCGGCC\n1727    CCCCCACC\n1778    GCCCCCCC\n</code></pre>\n\n<p>would need to split the file based on the number in the column - create a new file for every 1000 units so the output would e be</p>\n\n<pre><code>file1\n NAMES  n0  n1  n2  n3  n4  n5  n6  n7\n    REGION  chr 404 992\n    404 AAAAAAGA\n    992 TTTTTTTA\n\nfile2\n NAMES  n0  n1  n2  n3  n4  n5  n6  n7\n     REGION chr 1146    1778\n1146 CCCCGGCC\n1727 CCCCCACC\n1778 GCCCCCCC\n</code></pre>\n\n<p>so split the first colum every 1000 units (first is from 1 to 1000) file 2 is from 1000 to 2000 also the start an end positions would be changed in every file (line starting with REG) as the first number is the number in the first line of the file adn the other number is the number in the last line of hte file. The header needs to be present in all files. Is there a way to name the files from that systematically with file1, file2....? /t is used throughout all files to make space...</p>\n\n<p>i tried </p>\n\n<pre><code>awk '\nNR==1 {\n   h = $0\n   k = 1000\n   f = \"file\"k/1000\n   print &gt; f\n   getline\n   print \"REGION chr\",k-999,k &gt; f\n   next\n} \n$1 &lt;=k {\n   print &gt; f\n   next\n} \n{\n   k=1000*int(1+$1/1000)\n   f=\"file\"k/1000\n   print h &gt; f\n   print \"REGION chr\",k-999,k &gt; f\n   print &gt; f\n}' file\n</code></pre>\n"}, {"tags": ["perl", "regex-negation"], "answers": [{"tags": [], "owner": {"reputation": 320771, "user_id": 589924, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/b2cf53d5a3d25f95c0db4e025aed4153?s=128&d=identicon&r=PG", "display_name": "ikegami", "link": "https://stackoverflow.com/users/589924/ikegami"}, "is_accepted": true, "score": 2, "last_activity_date": 1436076904, "creation_date": 1436076904, "answer_id": 31227648, "question_id": 31227590, "link": "https://stackoverflow.com/questions/31227590/readdir-attempted-on-invalid-dirhandle-dir/31227648#31227648", "title": "readdir() attempted on invalid dirhandle DIR", "body": "<p>The error would have been obvious if you had properly indented your code. The <code>closedir</code> is inside your loop!</p>\n"}], "owner": {"reputation": 29, "user_id": 4087058, "user_type": "registered", "accept_rate": 80, "profile_image": "https://www.gravatar.com/avatar/822ea9c32395a496c02b9652f94ccb95?s=128&d=identicon&r=PG&f=1", "display_name": "Priya", "link": "https://stackoverflow.com/users/4087058/priya"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 2087, "favorite_count": 0, "accepted_answer_id": 31227648, "answer_count": 1, "score": -1, "last_activity_date": 1436076904, "creation_date": 1436076354, "question_id": 31227590, "link": "https://stackoverflow.com/questions/31227590/readdir-attempted-on-invalid-dirhandle-dir", "title": "readdir() attempted on invalid dirhandle DIR", "body": "<p>I want to open directory and get all file names in that directory and not the sub directories. Please help me to correct in this code</p>\n\n<pre><code>#!/usr/bin/perl\n\nuse strict;\nuse warnings;\nuse Getopt::Long;\nmy $opt_section;\nmy $opt_content;\nmy $opt_help = 0;\n\n &amp;GetOptions (\n\"help\"          =&gt; \\$opt_help,\n\"section:s\"        =&gt; \\$opt_section,\n\"content:s\"        =&gt; \\$opt_content,\n);\n\nif ($opt_help) {\nprint \"USAGE: file.pl -section &lt;section&gt; -content &lt;content&gt; \\n \";\n\n    exit;}\n\nmy $dir =\"/home/priya/scripts/test/${opt_section}/${opt_content}/latest\";                             #base directory to look up for the files\n\nprint\"$dir \\n\";\n\nopendir(DIR, $dir) or die \"Unable to read Directory : $!\";\nwhile (my $file = readdir(DIR)) {\n        #Only files not subdirectories\n        next unless (-f \"$dir/$file\");\n        #Use a regular expression to find files ending in .txt\n        $file =~ m/^${opt_section}.+txt$/i;\nprint \"$file \\n\";\n\nclosedir(DIR);\n}\nexit 0;\n</code></pre>\n\n<p>I am getting this error while executing</p>\n\n<p>it is reading first file and giving it name as output and then given this error</p>\n\n<p>readdir() attempted on invalid dirhandle DIR                                                                             </p>\n"}, {"tags": ["angularjs", "apache", "perl"], "answers": [{"comments": [{"owner": {"reputation": 7922, "user_id": 1216931, "user_type": "registered", "accept_rate": 47, "profile_image": "https://www.gravatar.com/avatar/30f58cc2bfc607ccaabb56839dfdd7e2?s=128&d=identicon&r=PG", "display_name": "Devesh Agrawal", "link": "https://stackoverflow.com/users/1216931/devesh-agrawal"}, "edited": false, "score": 0, "creation_date": 1436072489, "post_id": 31227276, "comment_id": 50454095, "body": "Hi ikegami. Thanks for the response. After integrating your suggested cahnegs now i am getting this error. Can&#39;t create ../..../imagesdummy.png;"}, {"owner": {"reputation": 320771, "user_id": 589924, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/b2cf53d5a3d25f95c0db4e025aed4153?s=128&d=identicon&r=PG", "display_name": "ikegami", "link": "https://stackoverflow.com/users/589924/ikegami"}, "reply_to_user": {"reputation": 7922, "user_id": 1216931, "user_type": "registered", "accept_rate": 47, "profile_image": "https://www.gravatar.com/avatar/30f58cc2bfc607ccaabb56839dfdd7e2?s=128&d=identicon&r=PG", "display_name": "Devesh Agrawal", "link": "https://stackoverflow.com/users/1216931/devesh-agrawal"}, "edited": false, "score": 0, "creation_date": 1436072801, "post_id": 31227276, "comment_id": 50454133, "body": "As it should. Do you really think the path <code>..&#47;....&#47;imagesdummy.png</code> makes sense?"}, {"owner": {"reputation": 7922, "user_id": 1216931, "user_type": "registered", "accept_rate": 47, "profile_image": "https://www.gravatar.com/avatar/30f58cc2bfc607ccaabb56839dfdd7e2?s=128&d=identicon&r=PG", "display_name": "Devesh Agrawal", "link": "https://stackoverflow.com/users/1216931/devesh-agrawal"}, "edited": false, "score": 0, "creation_date": 1436072907, "post_id": 31227276, "comment_id": 50454145, "body": "Oops My fault. I made the changes.  my $qfn = &quot;../$upload_dir/$filename&quot;; my $UPLOADFILE;  open($UPLOADFILE, &#39;&gt;&#39;, $qfn)    or die(&quot;Can&#39;t create \\&quot;$qfn\\&quot;: $!\\n&quot;);    Now response is file: als.png, Response: &quot;als.png&quot;, But no file is saving in directory. Any idea, what&#39;s wrong now?"}, {"owner": {"reputation": 7922, "user_id": 1216931, "user_type": "registered", "accept_rate": 47, "profile_image": "https://www.gravatar.com/avatar/30f58cc2bfc607ccaabb56839dfdd7e2?s=128&d=identicon&r=PG", "display_name": "Devesh Agrawal", "link": "https://stackoverflow.com/users/1216931/devesh-agrawal"}, "edited": false, "score": 0, "creation_date": 1436073619, "post_id": 31227276, "comment_id": 50454253, "body": "But i am still using my $UPLOADFILE;  (global). But file is not saving in designated directory."}, {"owner": {"reputation": 320771, "user_id": 589924, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/b2cf53d5a3d25f95c0db4e025aed4153?s=128&d=identicon&r=PG", "display_name": "ikegami", "link": "https://stackoverflow.com/users/589924/ikegami"}, "reply_to_user": {"reputation": 7922, "user_id": 1216931, "user_type": "registered", "accept_rate": 47, "profile_image": "https://www.gravatar.com/avatar/30f58cc2bfc607ccaabb56839dfdd7e2?s=128&d=identicon&r=PG", "display_name": "Devesh Agrawal", "link": "https://stackoverflow.com/users/1216931/devesh-agrawal"}, "edited": false, "score": 0, "creation_date": 1436073848, "post_id": 31227276, "comment_id": 50454286, "body": "1) That&#39;s not global. <code>my</code> variables are lexically scoped. 2) Just to be clear, you are using <code>$UPLOADFILE</code> every now? 3) Well, where is it failing? Does <code>open</code> give an error message? it creating an empty file? Is the loop being entered?"}, {"owner": {"reputation": 7922, "user_id": 1216931, "user_type": "registered", "accept_rate": 47, "profile_image": "https://www.gravatar.com/avatar/30f58cc2bfc607ccaabb56839dfdd7e2?s=128&d=identicon&r=PG", "display_name": "Devesh Agrawal", "link": "https://stackoverflow.com/users/1216931/devesh-agrawal"}, "edited": false, "score": 0, "creation_date": 1436074206, "post_id": 31227276, "comment_id": 50454332, "body": "Open Not giving any error. And also flow entering into the loop. But file is not getting created. (Not even empty file)"}, {"owner": {"reputation": 320771, "user_id": 589924, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/b2cf53d5a3d25f95c0db4e025aed4153?s=128&d=identicon&r=PG", "display_name": "ikegami", "link": "https://stackoverflow.com/users/589924/ikegami"}, "reply_to_user": {"reputation": 7922, "user_id": 1216931, "user_type": "registered", "accept_rate": 47, "profile_image": "https://www.gravatar.com/avatar/30f58cc2bfc607ccaabb56839dfdd7e2?s=128&d=identicon&r=PG", "display_name": "Devesh Agrawal", "link": "https://stackoverflow.com/users/1216931/devesh-agrawal"}, "edited": false, "score": 0, "creation_date": 1436074328, "post_id": 31227276, "comment_id": 50454352, "body": "If <code>open</code> succeeded, the file got created. You must be looking at the wrong location. Remember, the current working directory is not necessarily the directory in which the script is located."}, {"owner": {"reputation": 7922, "user_id": 1216931, "user_type": "registered", "accept_rate": 47, "profile_image": "https://www.gravatar.com/avatar/30f58cc2bfc607ccaabb56839dfdd7e2?s=128&d=identicon&r=PG", "display_name": "Devesh Agrawal", "link": "https://stackoverflow.com/users/1216931/devesh-agrawal"}, "edited": false, "score": 0, "creation_date": 1436076159, "post_id": 31227276, "comment_id": 50454661, "body": "Yes. Its creating a empty file. (0 Byte), what can be the reason its not dumping data there."}, {"owner": {"reputation": 320771, "user_id": 589924, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/b2cf53d5a3d25f95c0db4e025aed4153?s=128&d=identicon&r=PG", "display_name": "ikegami", "link": "https://stackoverflow.com/users/589924/ikegami"}, "reply_to_user": {"reputation": 7922, "user_id": 1216931, "user_type": "registered", "accept_rate": 47, "profile_image": "https://www.gravatar.com/avatar/30f58cc2bfc607ccaabb56839dfdd7e2?s=128&d=identicon&r=PG", "display_name": "Devesh Agrawal", "link": "https://stackoverflow.com/users/1216931/devesh-agrawal"}, "edited": false, "score": 0, "creation_date": 1436076357, "post_id": 31227276, "comment_id": 50454694, "body": "oh, <code>print $UPLOADFILE;</code> will actually print something like <code>GLOB(0x4b5d94)</code> to STDOUT (Why didn&#39;t you mention you saw this?) You&#39;ll need to explicitly specify <code>$_</code>: <code>print $UPLOADFILE $_;</code>"}, {"owner": {"reputation": 7922, "user_id": 1216931, "user_type": "registered", "accept_rate": 47, "profile_image": "https://www.gravatar.com/avatar/30f58cc2bfc607ccaabb56839dfdd7e2?s=128&d=identicon&r=PG", "display_name": "Devesh Agrawal", "link": "https://stackoverflow.com/users/1216931/devesh-agrawal"}, "edited": false, "score": 0, "creation_date": 1436077077, "post_id": 31227276, "comment_id": 50454781, "body": "No i didn&#39;t saw that. Thank you so much for helping me. Its creating a file now in directory. But when i am trying to open its showing invalid image. I think still there is some more thing that i m missing."}, {"owner": {"reputation": 7922, "user_id": 1216931, "user_type": "registered", "accept_rate": 47, "profile_image": "https://www.gravatar.com/avatar/30f58cc2bfc607ccaabb56839dfdd7e2?s=128&d=identicon&r=PG", "display_name": "Devesh Agrawal", "link": "https://stackoverflow.com/users/1216931/devesh-agrawal"}, "edited": false, "score": 0, "creation_date": 1436077366, "post_id": 31227276, "comment_id": 50454833, "body": "Thanks alot. Issue is solved now. I was doing  binmode UPLOADFILE; instead  binmode $UPLOADFILE;.."}, {"owner": {"reputation": 320771, "user_id": 589924, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/b2cf53d5a3d25f95c0db4e025aed4153?s=128&d=identicon&r=PG", "display_name": "ikegami", "link": "https://stackoverflow.com/users/589924/ikegami"}, "reply_to_user": {"reputation": 7922, "user_id": 1216931, "user_type": "registered", "accept_rate": 47, "profile_image": "https://www.gravatar.com/avatar/30f58cc2bfc607ccaabb56839dfdd7e2?s=128&d=identicon&r=PG", "display_name": "Devesh Agrawal", "link": "https://stackoverflow.com/users/1216931/devesh-agrawal"}, "edited": false, "score": 0, "creation_date": 1436078579, "post_id": 31227276, "comment_id": 50455044, "body": "yeah, I wasn&#39;t kidding when I said you&#39;d need to change the rest of your code to use <code>$UPLOADFILE</code> instead of <code>UPLOADFILE</code>. They are two different variables."}], "tags": [], "owner": {"reputation": 320771, "user_id": 589924, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/b2cf53d5a3d25f95c0db4e025aed4153?s=128&d=identicon&r=PG", "display_name": "ikegami", "link": "https://stackoverflow.com/users/589924/ikegami"}, "is_accepted": true, "score": 1, "last_activity_date": 1436073019, "last_edit_date": 1436073019, "creation_date": 1436072135, "answer_id": 31227276, "question_id": 31227239, "link": "https://stackoverflow.com/questions/31227239/no-such-file-or-directory-at-cgi-bin-upload-pl-line-26-when-trying-to-upload-a/31227276#31227276", "title": "No such file or directory at /cgi-bin/upload.pl line 26. When trying to upload a file using AngularJS", "body": "<p><code>$upload_dir</code> is <code>../images</code>, and\n<br><code>$filename</code> is <code>dummy.png</code>, so\n<br><code>\"../..$upload_dir$filename\"</code> is <code>../..../imagesdummy.png</code>.\n<br>Need I say more?</p>\n\n<p>That's why it's good to include the path in the error message.</p>\n\n<pre><code>my $qfn = \"../..$upload_dir$filename\";\nopen(my $UPLOADFILE, '&gt;', $qfn)\n   or die(\"Can't create \\\"$qfn\\\": $!\\n\"); \n</code></pre>\n\n<p>(Note that I made other improvements, including switching from global glob <code>UPLOADFILE</code> to lexical scalar <code>$UPLOADFILE</code> for the file handle. You'll have to adjust the following code to use that scalar if you adopt this highly recommended practice.)</p>\n"}], "owner": {"reputation": 7922, "user_id": 1216931, "user_type": "registered", "accept_rate": 47, "profile_image": "https://www.gravatar.com/avatar/30f58cc2bfc607ccaabb56839dfdd7e2?s=128&d=identicon&r=PG", "display_name": "Devesh Agrawal", "link": "https://stackoverflow.com/users/1216931/devesh-agrawal"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 319, "favorite_count": 0, "accepted_answer_id": 31227276, "answer_count": 1, "score": 0, "last_activity_date": 1436073019, "creation_date": 1436071717, "question_id": 31227239, "link": "https://stackoverflow.com/questions/31227239/no-such-file-or-directory-at-cgi-bin-upload-pl-line-26-when-trying-to-upload-a", "title": "No such file or directory at /cgi-bin/upload.pl line 26. When trying to upload a file using AngularJS", "body": "<p>This is my HTML Code.</p>\n\n<pre><code>&lt;button class=\"button\" ngf-select ng-model=\"files\" ngf-multiple=\"multiple\"&gt;Select File&lt;/button&gt;\n\nFiles:\n&lt;ul&gt;\n    &lt;li ng-repeat=\"f in files\" style=\"font:smaller\"&gt;{{f.name}}&lt;/li&gt;\n&lt;/ul&gt;\nUpload Log:\n&lt;pre&gt;{{log}}&lt;/pre&gt;\n</code></pre>\n\n<p>This is controller code.</p>\n\n<pre><code>$scope.$watch('files', function () {\n    $scope.upload($scope.files);\n});\n$scope.log = '';\n\n$scope.upload = function (files) {\n    if (files &amp;&amp; files.length) {\n        for (var i = 0; i &lt; files.length; i++) {\n            var file = files[i];\n            Upload.upload({\n                url: '/cgi-bin/upload.pl',\n                fields: {\n                    'username': $scope.username\n                },\n                file: file\n            }).progress(function (evt) {\n                var progressPercentage = parseInt(100.0 * evt.loaded / evt.total);\n                $scope.log = 'progress: ' + progressPercentage + '% ' +\n                            evt.config.file.name + '\\n' + $scope.log;\n            }).success(function (data, status, headers, config) {\n                $timeout(function() {\n                    $scope.log = 'file: ' + config.file.name + ', Response: ' + JSON.stringify(data) + '\\n' + $scope.log;\n                });\n            })\n            .error(function (data, status, headers, config) {\n                alert ('Error');\n            });\n\n        }\n    }\n};\n</code></pre>\n\n<p>This is Perl script.</p>\n\n<pre><code>#!c:/perl64/bin/perl.exe\n\nuse strict;\nuse warnings;\nuse DBI;\nuse CGI::Carp qw(warningsToBrowser fatalsToBrowser);\nuse CGI;\nuse CGI qw(:standard);\nuse JSON;\nuse CGI::Carp qw ( fatalsToBrowser );\nuse File::Basename;\n\n#send the obligatory Content-Type\nprint \"Content-Type: text/html\\n\\n\"; \n\n$CGI::POST_MAX = 1024 * 5000;\nmy $safe_filename_characters = \"a-zA-Z0-9_.-\";\n\nmy $cgi = new CGI();\nmy $upload_dir = \"../images\"; #location on our server  \nmy $filename = \"dummy.png\";\n\nmy $upload_filehandle = $cgi-&gt;upload(\"file\");\nprint $upload_filehandle;\n\nopen UPLOADFILE, \"&gt;../..$upload_dir$filename\"  or die $!;\nbinmode UPLOADFILE;\n\nwhile ( &lt;$upload_filehandle&gt; )\n{\n    print UPLOADFILE;\n}\nclose UPLOADFILE;\n</code></pre>\n\n<p>When i trying to upload the file on local Apache server, seeing this error.</p>\n\n<p>No such file or directory at C:/Program Files (x86)/Apache Group/Apache2/htdocs/admin/cgi-bin/upload.pl line 26.</p>\n\n<p>This is line 26 in perl script.</p>\n\n<pre><code>open UPLOADFILE, \"&gt;../..$upload_dir$filename\"  or die $!; \n</code></pre>\n\n<p>I have a folder named images already created. So why this error?</p>\n\n<p>Can anyone help me what is wrong, and what chages are needed to that i can upload the file properly.</p>\n"}, {"tags": ["perl", "file", "semaphore"], "comments": [{"owner": {"reputation": 320771, "user_id": 589924, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/b2cf53d5a3d25f95c0db4e025aed4153?s=128&d=identicon&r=PG", "display_name": "ikegami", "link": "https://stackoverflow.com/users/589924/ikegami"}, "edited": false, "score": 2, "creation_date": 1436074490, "post_id": 31226084, "comment_id": 50454378, "body": "Ever used <code>STDIN</code>, <code>STDOUT</code> or <code>STDERR</code>? Those are preopened, but no different than <code>S</code>, <code>FILE</code>, or whatever else you want to call your file handle. Note that using globs instead of lexical variables is discouraged, though."}], "answers": [{"comments": [{"owner": {"reputation": 51521, "user_id": 2566198, "user_type": "registered", "accept_rate": 67, "profile_image": "https://i.stack.imgur.com/Y34ZA.jpg?s=128&g=1", "display_name": "Sobrique", "link": "https://stackoverflow.com/users/2566198/sobrique"}, "edited": false, "score": 2, "creation_date": 1436115495, "post_id": 31226136, "comment_id": 50464216, "body": "It&#39;s also bad practice in newer code, as lexical filehandles with 3 argument open are in almost every way superior."}, {"owner": {"reputation": 6468, "user_id": 293652, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/820308d5db420d7f0e1d0ba97e09f520?s=128&d=identicon&r=PG", "display_name": "Grant McLean", "link": "https://stackoverflow.com/users/293652/grant-mclean"}, "edited": false, "score": 0, "creation_date": 1436130664, "post_id": 31226136, "comment_id": 50468711, "body": "Worth mentioning that the main disadvantage of bareword filehandles is that they are global.  Whereas with <code>open(my $fh, &#39;&lt;&#39;, $path)</code> the variable <code>$fh</code> is lexically scoped."}], "tags": [], "owner": {"reputation": 11772, "user_id": 36737, "user_type": "registered", "accept_rate": 93, "profile_image": "https://www.gravatar.com/avatar/78c791f5288628576aaba9b64af6ce00?s=128&d=identicon&r=PG", "display_name": "Jim Counts", "link": "https://stackoverflow.com/users/36737/jim-counts"}, "is_accepted": false, "score": 6, "last_activity_date": 1436054942, "creation_date": 1436054942, "answer_id": 31226136, "question_id": 31226084, "link": "https://stackoverflow.com/questions/31226084/open-s-fh-in-perl/31226136#31226136", "title": "open (S, $fh) in perl", "body": "<p>Although it is not recommended, bareword filehandles are part of the language.  So it is not referring to anything, S is just the name they gave to that filehandle.</p>\n\n<p>See <a href=\"http://perlmaven.com/open-files-in-the-old-way\" rel=\"noreferrer\">http://perlmaven.com/open-files-in-the-old-way</a> for discussion.</p>\n"}], "owner": {"reputation": 174, "user_id": 2323610, "user_type": "registered", "accept_rate": 11, "profile_image": "https://www.gravatar.com/avatar/3608b46ffb5cc26da39b03f9ac2e56da?s=128&d=identicon&r=PG", "display_name": "froodley", "link": "https://stackoverflow.com/users/2323610/froodley"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 178, "favorite_count": 0, "answer_count": 1, "score": 1, "last_activity_date": 1436054942, "creation_date": 1436054224, "question_id": 31226084, "link": "https://stackoverflow.com/questions/31226084/open-s-fh-in-perl", "title": "open (S, $fh) in perl", "body": "<p>I came across some code on a thread that started like<br/></p>\n\n<p><code>open (S, $SEMAPHORE) or die;</code>\n<br/></p>\n\n<p>I am unfamiliar with S used as a bareword.  What is it referring to?  There is no previous use higher in the code sample.</p>\n"}, {"tags": ["java", "python", "bash", "perl", "awk"], "answers": [{"comments": [{"owner": {"reputation": 4927, "user_id": 2381750, "user_type": "registered", "accept_rate": 62, "profile_image": "https://www.gravatar.com/avatar/edbe6ded64980bad2986da4fb6c598b9?s=128&d=identicon&r=PG&f=1", "display_name": "Eugeniu Rosca", "link": "https://stackoverflow.com/users/2381750/eugeniu-rosca"}, "edited": false, "score": 0, "creation_date": 1436051148, "post_id": 31225799, "comment_id": 50451430, "body": "The <code>-o Miraligner_235G.txt</code> part should probably depend on <code>$input</code>"}, {"owner": {"reputation": 654, "user_id": 4033639, "user_type": "registered", "accept_rate": 72, "profile_image": "https://www.gravatar.com/avatar/79757e1aaaebf7f131c462f5234bfe54?s=128&d=identicon&r=PG&f=1", "display_name": "BioMan", "link": "https://stackoverflow.com/users/4033639/bioman"}, "edited": false, "score": 0, "creation_date": 1436052086, "post_id": 31225799, "comment_id": 50451584, "body": "should inputs be input?"}, {"owner": {"reputation": 654, "user_id": 4033639, "user_type": "registered", "accept_rate": 72, "profile_image": "https://www.gravatar.com/avatar/79757e1aaaebf7f131c462f5234bfe54?s=128&d=identicon&r=PG&f=1", "display_name": "BioMan", "link": "https://stackoverflow.com/users/4033639/bioman"}, "edited": false, "score": 0, "creation_date": 1436052156, "post_id": 31225799, "comment_id": 50451598, "body": "DMED7013:miraligner robinm$ while -r read input; do   [ -f &quot;$input&quot; ] &amp;&amp; java -jar miraligner.jar -freq -sub 1 -trim 3 -add 3 -s hsa -i &quot;$input&quot; -db ./DB/ -o &quot;Miraligner__${input#*_}&quot; ; done &lt; input  -bash: input: No such file or directory"}, {"owner": {"reputation": 654, "user_id": 4033639, "user_type": "registered", "accept_rate": 72, "profile_image": "https://www.gravatar.com/avatar/79757e1aaaebf7f131c462f5234bfe54?s=128&d=identicon&r=PG&f=1", "display_name": "BioMan", "link": "https://stackoverflow.com/users/4033639/bioman"}, "edited": false, "score": 0, "creation_date": 1436052200, "post_id": 31225799, "comment_id": 50451602, "body": "DMED7013:miraligner robinm$ ls DB\t\tinput.txt\tmiraligner.jar\tpost-processing"}, {"owner": {"reputation": 4061, "user_id": 1775715, "user_type": "registered", "accept_rate": 100, "profile_image": "https://i.stack.imgur.com/vzyZN.png?s=128&g=1", "display_name": "ShellFish", "link": "https://stackoverflow.com/users/1775715/shellfish"}, "edited": false, "score": 0, "creation_date": 1436052270, "post_id": 31225799, "comment_id": 50451618, "body": "No you put the input file names in a file called <code>inputs</code>."}, {"owner": {"reputation": 654, "user_id": 4033639, "user_type": "registered", "accept_rate": 72, "profile_image": "https://www.gravatar.com/avatar/79757e1aaaebf7f131c462f5234bfe54?s=128&d=identicon&r=PG&f=1", "display_name": "BioMan", "link": "https://stackoverflow.com/users/4033639/bioman"}, "edited": false, "score": 0, "creation_date": 1436052589, "post_id": 31225799, "comment_id": 50451676, "body": "It seems the .txt is created by defaut inputs.txt"}, {"owner": {"reputation": 4061, "user_id": 1775715, "user_type": "registered", "accept_rate": 100, "profile_image": "https://i.stack.imgur.com/vzyZN.png?s=128&g=1", "display_name": "ShellFish", "link": "https://stackoverflow.com/users/1775715/shellfish"}, "reply_to_user": {"reputation": 654, "user_id": 4033639, "user_type": "registered", "accept_rate": 72, "profile_image": "https://www.gravatar.com/avatar/79757e1aaaebf7f131c462f5234bfe54?s=128&d=identicon&r=PG&f=1", "display_name": "BioMan", "link": "https://stackoverflow.com/users/4033639/bioman"}, "edited": false, "score": 0, "creation_date": 1436052704, "post_id": 31225799, "comment_id": 50451692, "body": "@BioMan Are you on Windows perhaps?"}, {"owner": {"reputation": 654, "user_id": 4033639, "user_type": "registered", "accept_rate": 72, "profile_image": "https://www.gravatar.com/avatar/79757e1aaaebf7f131c462f5234bfe54?s=128&d=identicon&r=PG&f=1", "display_name": "BioMan", "link": "https://stackoverflow.com/users/4033639/bioman"}, "edited": false, "score": 0, "creation_date": 1436052772, "post_id": 31225799, "comment_id": 50451714, "body": "Is my inputs formated correct? I just copied the filesnames and pasted them in TextEdit. One file name per line"}, {"owner": {"reputation": 4061, "user_id": 1775715, "user_type": "registered", "accept_rate": 100, "profile_image": "https://i.stack.imgur.com/vzyZN.png?s=128&g=1", "display_name": "ShellFish", "link": "https://stackoverflow.com/users/1775715/shellfish"}, "edited": false, "score": 0, "creation_date": 1436052810, "post_id": 31225799, "comment_id": 50451726, "body": "Try <code>while read input; do</code>, without the <code>-r</code>. Yes the file seems correct, one file a line."}, {"owner": {"reputation": 654, "user_id": 4033639, "user_type": "registered", "accept_rate": 72, "profile_image": "https://www.gravatar.com/avatar/79757e1aaaebf7f131c462f5234bfe54?s=128&d=identicon&r=PG&f=1", "display_name": "BioMan", "link": "https://stackoverflow.com/users/4033639/bioman"}, "edited": false, "score": 0, "creation_date": 1436052968, "post_id": 31225799, "comment_id": 50451755, "body": "Then nothing happens. Should the actuall files that is linked in inputs be in a specific folder?"}, {"owner": {"reputation": 4061, "user_id": 1775715, "user_type": "registered", "accept_rate": 100, "profile_image": "https://i.stack.imgur.com/vzyZN.png?s=128&g=1", "display_name": "ShellFish", "link": "https://stackoverflow.com/users/1775715/shellfish"}, "reply_to_user": {"reputation": 654, "user_id": 4033639, "user_type": "registered", "accept_rate": 72, "profile_image": "https://www.gravatar.com/avatar/79757e1aaaebf7f131c462f5234bfe54?s=128&d=identicon&r=PG&f=1", "display_name": "BioMan", "link": "https://stackoverflow.com/users/4033639/bioman"}, "edited": false, "score": 0, "creation_date": 1436053050, "post_id": 31225799, "comment_id": 50451770, "body": "Let us <a href=\"http://chat.stackoverflow.com/rooms/82386/discussion-between-shellfish-and-bioman\">continue this discussion in chat</a>."}, {"owner": {"reputation": 96909, "user_id": 3030305, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/En2fP.png?s=128&g=1", "display_name": "John1024", "link": "https://stackoverflow.com/users/3030305/john1024"}, "edited": false, "score": 0, "creation_date": 1436053966, "post_id": 31225799, "comment_id": 50451881, "body": "If there is a reason to do the processing in a user-specified order, this is the way to go.  +1."}], "tags": [], "owner": {"reputation": 4061, "user_id": 1775715, "user_type": "registered", "accept_rate": 100, "profile_image": "https://i.stack.imgur.com/vzyZN.png?s=128&g=1", "display_name": "ShellFish", "link": "https://stackoverflow.com/users/1775715/shellfish"}, "is_accepted": false, "score": 4, "last_activity_date": 1436053468, "last_edit_date": 1436053468, "creation_date": 1436051071, "answer_id": 31225799, "question_id": 31225771, "link": "https://stackoverflow.com/questions/31225771/run-terminal-program-on-multiple-input-files/31225799#31225799", "title": "Run terminal program on multiple input files", "body": "<p>Put them in a file called <code>inputs</code> and execute:</p>\n\n<pre><code>$ cat inputs | head -n2 \nIsomiR_94R.txt\nIsomiR_100G.txt\n$ while read -r input; do\n    [ -f \"$input\" ] &amp;&amp; java -jar miraligner.jar -freq -sub 1 -trim 3 -add 3 -s hsa -i \"$input\" -db ./DB/ -o \"Miralinger_${input#*_}\" \ndone &lt; inputs\n</code></pre>\n\n<p>This will read the file <code>inputs</code> line by line and execute the <a href=\"/questions/tagged/java\" class=\"post-tag\" title=\"show questions tagged &#39;java&#39;\" rel=\"tag\">java</a> script on every input file. Note that they may not contain newlines for this option to work. Files should also be separated by newlines.</p>\n"}, {"comments": [{"owner": {"reputation": 4061, "user_id": 1775715, "user_type": "registered", "accept_rate": 100, "profile_image": "https://i.stack.imgur.com/vzyZN.png?s=128&g=1", "display_name": "ShellFish", "link": "https://stackoverflow.com/users/1775715/shellfish"}, "edited": false, "score": 0, "creation_date": 1436053625, "post_id": 31226017, "comment_id": 50451848, "body": "Yeah, this may be easier! Great thinking!"}, {"owner": {"reputation": 654, "user_id": 4033639, "user_type": "registered", "accept_rate": 72, "profile_image": "https://www.gravatar.com/avatar/79757e1aaaebf7f131c462f5234bfe54?s=128&d=identicon&r=PG&f=1", "display_name": "BioMan", "link": "https://stackoverflow.com/users/4033639/bioman"}, "reply_to_user": {"reputation": 4061, "user_id": 1775715, "user_type": "registered", "accept_rate": 100, "profile_image": "https://i.stack.imgur.com/vzyZN.png?s=128&g=1", "display_name": "ShellFish", "link": "https://stackoverflow.com/users/1775715/shellfish"}, "edited": false, "score": 0, "creation_date": 1436053817, "post_id": 31226017, "comment_id": 50451868, "body": "Sorry, @ShellFish Thanks for the help anyway, I learned the inputs function"}, {"owner": {"reputation": 4061, "user_id": 1775715, "user_type": "registered", "accept_rate": 100, "profile_image": "https://i.stack.imgur.com/vzyZN.png?s=128&g=1", "display_name": "ShellFish", "link": "https://stackoverflow.com/users/1775715/shellfish"}, "reply_to_user": {"reputation": 654, "user_id": 4033639, "user_type": "registered", "accept_rate": 72, "profile_image": "https://www.gravatar.com/avatar/79757e1aaaebf7f131c462f5234bfe54?s=128&d=identicon&r=PG&f=1", "display_name": "BioMan", "link": "https://stackoverflow.com/users/4033639/bioman"}, "edited": false, "score": 0, "creation_date": 1436053914, "post_id": 31226017, "comment_id": 50451876, "body": "@BioMan <code>inputs</code> is not a function, it&#39;s <code>read</code> that works the magic. -- BTW no need to apologize, this site is about quality, not reputation."}], "tags": [], "owner": {"reputation": 96909, "user_id": 3030305, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/En2fP.png?s=128&g=1", "display_name": "John1024", "link": "https://stackoverflow.com/users/3030305/john1024"}, "is_accepted": true, "score": 4, "last_activity_date": 1436053539, "creation_date": 1436053539, "answer_id": 31226017, "question_id": 31225771, "link": "https://stackoverflow.com/questions/31225771/run-terminal-program-on-multiple-input-files/31226017#31226017", "title": "Run terminal program on multiple input files", "body": "<p>As an alternative, this will get the file names directly with no need to create an intermediate file:</p>\n\n<pre><code>for f in IsomiR_*.txt\ndo\n    java -jar miraligner.jar -freq -sub 1 -trim 3 -add 3 -s hsa -i \"$f\" -db ./DB/ -o \"Miraligner${f#IsomiR}\" \ndone\n</code></pre>\n\n<p>This will work even if the file names were to contain spaces, tabs, or newlines.</p>\n"}], "owner": {"reputation": 654, "user_id": 4033639, "user_type": "registered", "accept_rate": 72, "profile_image": "https://www.gravatar.com/avatar/79757e1aaaebf7f131c462f5234bfe54?s=128&d=identicon&r=PG&f=1", "display_name": "BioMan", "link": "https://stackoverflow.com/users/4033639/bioman"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 504, "favorite_count": 0, "accepted_answer_id": 31226017, "answer_count": 2, "score": 2, "last_activity_date": 1436053539, "creation_date": 1436050757, "question_id": 31225771, "link": "https://stackoverflow.com/questions/31225771/run-terminal-program-on-multiple-input-files", "title": "Run terminal program on multiple input files", "body": "<p>I have a java program that runs in the terminal that takes a .txt as input and writes a .txt as output. I want to run this program on 100 input files. How can I make a function that takes all my input files and run them automatically?\nHere is the java program:</p>\n\n<pre><code>java -jar miraligner.jar -freq -sub 1 -trim 3 -add 3 -s hsa -i IsomiR_235G.txt -db ./DB/ -o Miraligner_235G.txt \n</code></pre>\n\n<p>Here is how the input files look like, they only differ in the part between <code>_</code> and <code>.txt</code></p>\n\n<pre><code>IsomiR_94R.txt\nIsomiR_100G.txt\n...\n</code></pre>\n"}, {"tags": ["regex", "perl"], "comments": [{"owner": {"reputation": 692, "user_id": 3557842, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/fgChf.png?s=128&g=1", "display_name": "Proxytype", "link": "https://stackoverflow.com/users/3557842/proxytype"}, "edited": false, "score": 0, "creation_date": 1436038797, "post_id": 31224447, "comment_id": 50448892, "body": "save it as string..."}, {"owner": {"reputation": 320771, "user_id": 589924, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/b2cf53d5a3d25f95c0db4e025aed4153?s=128&d=identicon&r=PG", "display_name": "ikegami", "link": "https://stackoverflow.com/users/589924/ikegami"}, "edited": false, "score": 3, "creation_date": 1436040516, "post_id": 31224447, "comment_id": 50449331, "body": "Always use <code>use strict; use warnings;</code>! It would have helped here."}, {"owner": {"reputation": 228853, "user_id": 827263, "user_type": "registered", "accept_rate": 54, "profile_image": "https://www.gravatar.com/avatar/216c1db53d752f87dd8176a6ba0c2190?s=128&d=identicon&r=PG", "display_name": "Keith Thompson", "link": "https://stackoverflow.com/users/827263/keith-thompson"}, "edited": false, "score": 2, "creation_date": 1436045955, "post_id": 31224447, "comment_id": 50450520, "body": "<code>s&#47;foo&#47;bar&#47;</code> is not a regexp."}], "answers": [{"comments": [{"owner": {"reputation": 17966, "user_id": 1032073, "user_type": "registered", "accept_rate": 100, "profile_image": "https://i.stack.imgur.com/649a4.png?s=128&g=1", "display_name": "celtschk", "link": "https://stackoverflow.com/users/1032073/celtschk"}, "edited": false, "score": 0, "creation_date": 1436039085, "post_id": 31224515, "comment_id": 50448987, "body": "Thank you, that&#39;s a good solution. But I&#39;d still like to know why my original code doesn&#39;t work."}, {"owner": {"reputation": 17966, "user_id": 1032073, "user_type": "registered", "accept_rate": 100, "profile_image": "https://i.stack.imgur.com/649a4.png?s=128&g=1", "display_name": "celtschk", "link": "https://stackoverflow.com/users/1032073/celtschk"}, "edited": false, "score": 0, "creation_date": 1436039536, "post_id": 31224515, "comment_id": 50449128, "body": "Thank you for the explanation."}], "tags": [], "owner": {"reputation": 48798, "user_id": 223226, "user_type": "registered", "accept_rate": 93, "profile_image": "https://i.stack.imgur.com/iGqE4.png?s=128&g=1", "display_name": "mpapec", "link": "https://stackoverflow.com/users/223226/mpapec"}, "is_accepted": true, "score": 7, "last_activity_date": 1436052745, "last_edit_date": 1436052745, "creation_date": 1436038900, "answer_id": 31224515, "question_id": 31224447, "link": "https://stackoverflow.com/questions/31224447/why-cant-i-store-a-regexp-in-a-variable/31224515#31224515", "title": "Why can&#39;t I store a regexp in a variable?", "body": "<p>You're looking for substitution, not only the regex part so I guess compiled regex (<code>qr//</code>) is not what you're looking for,</p>\n\n<pre><code>use strict;\nuse warnings;\n\nmy $string = \"foo\";\nmy $regex = sub { $_[0] =~ s/foo/bar/ };\n$regex-&gt;($string);\nprint $string, \"\\n\";\n</code></pre>\n\n<p>Your statement</p>\n\n<pre><code>my $regex = s/foo/bar/\n</code></pre>\n\n<p>is equivalent to</p>\n\n<pre><code>my $regex = $_ =~ s/foo/bar/\n</code></pre>\n\n<p><code>s///</code> returns the number of substitutions made, or it returns false (specifically, the empty string). So <code>$regex</code> is now <code>''</code> or <code>1</code> (it could be more if the <code>/g</code> modifier was in effect) and </p>\n\n<pre><code>$string =~ $regex\n</code></pre>\n\n<p>is doing <code>'foo' =~ //</code> or <code>'foo' =~ /1/</code> depending on what <code>$_</code> contained originally.</p>\n"}, {"comments": [{"owner": {"reputation": 123805, "user_id": 622310, "user_type": "registered", "accept_rate": 33, "profile_image": "https://www.gravatar.com/avatar/8b6d35219e1808520bc238b28161e2e6?s=128&d=identicon&r=PG", "display_name": "Borodin", "link": "https://stackoverflow.com/users/622310/borodin"}, "edited": false, "score": 1, "creation_date": 1436045965, "post_id": 31224558, "comment_id": 50450524, "body": "This isn&#39;t an answer, and should be a comment on the cited solution"}, {"owner": {"reputation": 7570, "user_id": 17945, "user_type": "registered", "accept_rate": 36, "profile_image": "https://www.gravatar.com/avatar/e8cbc0b9ed29b027a127d8df309af5a6?s=128&d=identicon&r=PG", "display_name": "reinierpost", "link": "https://stackoverflow.com/users/17945/reinierpost"}, "reply_to_user": {"reputation": 123805, "user_id": 622310, "user_type": "registered", "accept_rate": 33, "profile_image": "https://www.gravatar.com/avatar/8b6d35219e1808520bc238b28161e2e6?s=128&d=identicon&r=PG", "display_name": "Borodin", "link": "https://stackoverflow.com/users/622310/borodin"}, "edited": false, "score": 0, "creation_date": 1436171212, "post_id": 31224558, "comment_id": 50479782, "body": "It <i>is</i> an answer: 1) it answers why the given code doesn&#39;t work, which is a specific question  2) it answers why \u0421\u0443\u0445\u043e\u043927&#39;s solution is necessary."}], "tags": [], "owner": {"reputation": 7570, "user_id": 17945, "user_type": "registered", "accept_rate": 36, "profile_image": "https://www.gravatar.com/avatar/e8cbc0b9ed29b027a127d8df309af5a6?s=128&d=identicon&r=PG", "display_name": "reinierpost", "link": "https://stackoverflow.com/users/17945/reinierpost"}, "is_accepted": false, "score": 1, "last_activity_date": 1436039176, "creation_date": 1436039176, "answer_id": 31224558, "question_id": 31224447, "link": "https://stackoverflow.com/questions/31224447/why-cant-i-store-a-regexp-in-a-variable/31224558#31224558", "title": "Why can&#39;t I store a regexp in a variable?", "body": "<p>In the assignment, you need to tell Perl not to evaluate the regular expression but just to keep it.  This is what <a href=\"http://perldoc.perl.org/perlop.html#Regexp-Quote-Like-Operators\" rel=\"nofollow\">qr</a> is for.</p>\n\n<p>But you can't do this with whole substitutions, which is why \u0421\u0443\u0445\u043e\u043927 suggests using a subroutine.</p>\n"}, {"comments": [{"owner": {"reputation": 17966, "user_id": 1032073, "user_type": "registered", "accept_rate": 100, "profile_image": "https://i.stack.imgur.com/649a4.png?s=128&g=1", "display_name": "celtschk", "link": "https://stackoverflow.com/users/1032073/celtschk"}, "edited": false, "score": 0, "creation_date": 1436048113, "post_id": 31225219, "comment_id": 50450922, "body": "Well, as stated, the problem was to store replacement regexes in a hash. <code>s&#47;$pattern&#47;bar&#47;</code> hardcodes the replacement part. Storing it in a separate variable doesn&#39;t work if the replacement pattern uses match references (like <code>\\1</code>)."}, {"owner": {"reputation": 123805, "user_id": 622310, "user_type": "registered", "accept_rate": 33, "profile_image": "https://www.gravatar.com/avatar/8b6d35219e1808520bc238b28161e2e6?s=128&d=identicon&r=PG", "display_name": "Borodin", "link": "https://stackoverflow.com/users/622310/borodin"}, "reply_to_user": {"reputation": 17966, "user_id": 1032073, "user_type": "registered", "accept_rate": 100, "profile_image": "https://i.stack.imgur.com/649a4.png?s=128&g=1", "display_name": "celtschk", "link": "https://stackoverflow.com/users/1032073/celtschk"}, "edited": false, "score": 0, "creation_date": 1436052797, "post_id": 31225219, "comment_id": 50451722, "body": "@celtschk: There is no such thing as a <i>replacement regex</i>. You should give an example of what you would like to do. Just complaining about <code>s&#47;&#47;&#47;</code> won&#39;t get you answers. Also, the replacement string shouldn&#39;t contain <code>\\1</code> if you mean to use the first capture. <code>\\1</code> is the character at code point 1 -- the Start of Header control character"}], "tags": [], "owner": {"reputation": 123805, "user_id": 622310, "user_type": "registered", "accept_rate": 33, "profile_image": "https://www.gravatar.com/avatar/8b6d35219e1808520bc238b28161e2e6?s=128&d=identicon&r=PG", "display_name": "Borodin", "link": "https://stackoverflow.com/users/622310/borodin"}, "is_accepted": false, "score": 2, "last_activity_date": 1436046402, "last_edit_date": 1436046402, "creation_date": 1436045099, "answer_id": 31225219, "question_id": 31224447, "link": "https://stackoverflow.com/questions/31224447/why-cant-i-store-a-regexp-in-a-variable/31225219#31225219", "title": "Why can&#39;t I store a regexp in a variable?", "body": "<p>You <em>can</em> store a regex pattern in a variable but, in your example, the regex is just <code>foo</code>, and there is a lot more going on than just that pattern</p>\n\n<p>The statement <code>s/foo/bar/</code> is more complex than it seems -- it is a fully-fledged <em>statement</em> that applies a regex pattern to a <em>target string</em> and substitutes a <em>replacement string</em> if the pattern is found. In this case the target string is the default variable <code>$_</code> and the replacement string is <code>foo</code>. You could think of it as a call to a subroutine</p>\n\n<pre><code>substitute($_, 'foo', 'bar')\n</code></pre>\n\n<p>and the regex pattern is only the second parameter</p>\n\n<p>What you can do is store a <em>regex pattern</em>. The regex part of that substitution is <code>foo</code>, and you can say</p>\n\n<pre><code>my $pattern = qr/foo/;\n\ns/$pattern/bar/;\n</code></pre>\n\n<p>But you really should explain the problem that you're trying to solve so that we can help you better</p>\n"}], "owner": {"reputation": 17966, "user_id": 1032073, "user_type": "registered", "accept_rate": 100, "profile_image": "https://i.stack.imgur.com/649a4.png?s=128&g=1", "display_name": "celtschk", "link": "https://stackoverflow.com/users/1032073/celtschk"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 109, "favorite_count": 0, "accepted_answer_id": 31224515, "answer_count": 3, "score": 2, "last_activity_date": 1436052745, "creation_date": 1436038449, "question_id": 31224447, "link": "https://stackoverflow.com/questions/31224447/why-cant-i-store-a-regexp-in-a-variable", "title": "Why can&#39;t I store a regexp in a variable?", "body": "<p>Given the following code,</p>\n\n<pre><code>my $string = \"foo\";\nmy $regex = s/foo/bar/;\n$string =~ $regex;\nprint $string, \"\\n\";\n</code></pre>\n\n<p>I would have expected the output to be <code>bar</code>, however it is <code>foo</code>. Why is that the case, and how can I solve that problem?</p>\n\n<p>Note that in my actual case, the regex is more complicated, and I actually want to store several of them in a hash (so I can write something like <code>$string =~ $rules{$key}</code>).</p>\n"}, {"tags": ["perl", "module", "scope"], "answers": [{"tags": [], "owner": {"reputation": 123805, "user_id": 622310, "user_type": "registered", "accept_rate": 33, "profile_image": "https://www.gravatar.com/avatar/8b6d35219e1808520bc238b28161e2e6?s=128&d=identicon&r=PG", "display_name": "Borodin", "link": "https://stackoverflow.com/users/622310/borodin"}, "is_accepted": false, "score": 2, "last_activity_date": 1436032018, "creation_date": 1436032018, "answer_id": 31223510, "question_id": 31223160, "link": "https://stackoverflow.com/questions/31223160/how-to-declare-an-array-variable-to-be-global-in-module-scope/31223510#31223510", "title": "How to declare an array variable to be global in module scope", "body": "<p>All-lowercase variables are reserved for local identifiers and pragma names. Your module should be in <code>MigTools.pm</code> and you should use it with <code>use MigTools</code></p>\n\n<p>The <code>did not return a true value</code> error is just because your module file didn't return a <em>true</em> value when it was executed. It is usual to add a line containing just <code>1;</code> to the end of all modules</p>\n\n<p>Your <code>MigTools.pm</code> should look like this. It is best to use the <code>import</code> directly from <code>Exporter</code> instead of subclassing it, and <code>our</code> doesn't help you to create a global variable, but I am a little worried about why you are structuring your module this way</p>\n\n<pre><code>package MigTools;\n\nuse strict;\nuse warnings;\n\nuse Exporter qw/ import /;\n\nour @EXPORT = qw/ ensure_included /;\n\nmy ($fname, @lines)\n\nsub ensure_included {\n\n}\n\nsub already_has_include {\n\n}\n\nsub find_include_insert_point {\n\n}\n\nsub ensure_included {\n\n}\n\n1;\n</code></pre>\n"}], "owner": {"reputation": 3458, "user_id": 2050788, "user_type": "registered", "accept_rate": 65, "profile_image": "https://i.stack.imgur.com/uIU2Z.jpg?s=128&g=1", "display_name": "Spacemoose", "link": "https://stackoverflow.com/users/2050788/spacemoose"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 519, "favorite_count": 0, "answer_count": 1, "score": 1, "last_activity_date": 1436032018, "creation_date": 1436029489, "last_edit_date": 1436030166, "question_id": 31223160, "link": "https://stackoverflow.com/questions/31223160/how-to-declare-an-array-variable-to-be-global-in-module-scope", "title": "How to declare an array variable to be global in module scope", "body": "<p>I have some code I decided to pull into a module in perl.  I admit that I am doing a bit of monkey-see monkey-do stuff following documentation I've found online.</p>\n\n<p>There is only one pubicly visible subroutine, which sets 2 variables * would like to use in other subroutines in the module, without passing them explicitly as parameters --  $fname, and @lines.  Looking online I came up with the \"our\" keyword, but when I try to declare them at global level (see code snippet below), I get the following error:</p>\n\n<pre><code>mig_tools.pm did not return a true value at\n</code></pre>\n\n<p>I have worked around the issue by declaring \"our $fname\" and \"our @lines\" in every subroutine they are used, but I would prefer to declare them once at global scope.  Is that possible?</p>\n\n<p>Here's what I take to be the relevant part of the code.  </p>\n\n<pre><code>package mig_tools;\nrequire Exporter;\n\nuse strict;\nuse warnings;\n\nour @ISA = qw(Exporter);\nour @EXPORT = qw( ensure_included);\n\nour $fname;\nour @lines;\n\n// definitions of already_has_include find_include_insert_point and ensure_included.\n</code></pre>\n"}, {"tags": ["linux", "perl", "permissions", "sudo"], "comments": [{"owner": {"reputation": 132, "user_id": 4798063, "user_type": "registered", "accept_rate": 29, "profile_image": "https://www.gravatar.com/avatar/fda2d0902ca5cbb61111701712bda6ba?s=128&d=identicon&r=PG", "display_name": "Harsh", "link": "https://stackoverflow.com/users/4798063/harsh"}, "reply_to_user": {"reputation": 48798, "user_id": 223226, "user_type": "registered", "accept_rate": 93, "profile_image": "https://i.stack.imgur.com/iGqE4.png?s=128&g=1", "display_name": "mpapec", "link": "https://stackoverflow.com/users/223226/mpapec"}, "edited": false, "score": 0, "creation_date": 1436007900, "post_id": 31219742, "comment_id": 50439973, "body": "This is the error &quot;Can&#39;t remove /etc/ports.txt: Permission denied, skipping file.&quot;"}, {"owner": {"reputation": 51521, "user_id": 2566198, "user_type": "registered", "accept_rate": 67, "profile_image": "https://i.stack.imgur.com/Y34ZA.jpg?s=128&g=1", "display_name": "Sobrique", "link": "https://stackoverflow.com/users/2566198/sobrique"}, "edited": false, "score": 0, "creation_date": 1436009167, "post_id": 31219742, "comment_id": 50440297, "body": "This feels like an xy problem. You are asking about perl when your problem is permissions."}, {"owner": {"reputation": 132, "user_id": 4798063, "user_type": "registered", "accept_rate": 29, "profile_image": "https://www.gravatar.com/avatar/fda2d0902ca5cbb61111701712bda6ba?s=128&d=identicon&r=PG", "display_name": "Harsh", "link": "https://stackoverflow.com/users/4798063/harsh"}, "edited": false, "score": 0, "creation_date": 1436011117, "post_id": 31219742, "comment_id": 50440828, "body": "Yes, I am aware that its about Permission, not really sure how to fix it :/"}, {"owner": {"reputation": 132, "user_id": 4798063, "user_type": "registered", "accept_rate": 29, "profile_image": "https://www.gravatar.com/avatar/fda2d0902ca5cbb61111701712bda6ba?s=128&d=identicon&r=PG", "display_name": "Harsh", "link": "https://stackoverflow.com/users/4798063/harsh"}, "reply_to_user": {"reputation": 51521, "user_id": 2566198, "user_type": "registered", "accept_rate": 67, "profile_image": "https://i.stack.imgur.com/Y34ZA.jpg?s=128&g=1", "display_name": "Sobrique", "link": "https://stackoverflow.com/users/2566198/sobrique"}, "edited": false, "score": 0, "creation_date": 1436020868, "post_id": 31219742, "comment_id": 50443557, "body": "tried both, i cannot set sudo as i require all user to use it as for chmod i tried 777 still not working."}, {"owner": {"reputation": 61610, "user_id": 725418, "user_type": "registered", "accept_rate": 86, "profile_image": "https://www.gravatar.com/avatar/82ac2dc3e1ad4b7187f245c416528df9?s=128&d=identicon&r=PG", "display_name": "TLP", "link": "https://stackoverflow.com/users/725418/tlp"}, "edited": false, "score": 2, "creation_date": 1436026391, "post_id": 31219742, "comment_id": 50445218, "body": "This question might be more suited for <code>superuser.com</code> or <code>unix.stackexchange.com</code>"}], "answers": [{"comments": [{"owner": {"reputation": 132, "user_id": 4798063, "user_type": "registered", "accept_rate": 29, "profile_image": "https://www.gravatar.com/avatar/fda2d0902ca5cbb61111701712bda6ba?s=128&d=identicon&r=PG", "display_name": "Harsh", "link": "https://stackoverflow.com/users/4798063/harsh"}, "edited": false, "score": 0, "creation_date": 1436025088, "post_id": 31222199, "comment_id": 50444810, "body": "It still wont work, i tried /ports.txt, i tried /var/ports.txt still the same error Can&#39;t remove /var/ports.txt: Permission denied, skipping file. also i require this because it is fully automatted script and it is a small part of it which i required to run without sudo or root"}, {"owner": {"reputation": 2977, "user_id": 2231691, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/4c897cef08f82aba800a8e12442aed40?s=128&d=identicon&r=PG", "display_name": "afenster", "link": "https://stackoverflow.com/users/2231691/afenster"}, "reply_to_user": {"reputation": 132, "user_id": 4798063, "user_type": "registered", "accept_rate": 29, "profile_image": "https://www.gravatar.com/avatar/fda2d0902ca5cbb61111701712bda6ba?s=128&d=identicon&r=PG", "display_name": "Harsh", "link": "https://stackoverflow.com/users/4798063/harsh"}, "edited": false, "score": 0, "creation_date": 1436047504, "post_id": 31222199, "comment_id": 50450818, "body": "You missed the point about directory permissions. Your script should work without changes if you use, e.g., <code>&#47;var&#47;tmp&#47;ports.txt</code> as everyone has write access to <code>&#47;var&#47;tmp</code>. But if you want to use a non-777 directory, change your script to avoid in-place edit (<code>perl -i</code>)."}], "tags": [], "owner": {"reputation": 2977, "user_id": 2231691, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/4c897cef08f82aba800a8e12442aed40?s=128&d=identicon&r=PG", "display_name": "afenster", "link": "https://stackoverflow.com/users/2231691/afenster"}, "is_accepted": false, "score": 0, "last_activity_date": 1436023128, "creation_date": 1436023128, "answer_id": 31222199, "question_id": 31219742, "link": "https://stackoverflow.com/questions/31219742/how-to-allow-any-user-on-the-server-to-edit-a-specific-file/31222199#31222199", "title": "How to allow any user on the server to edit a specific file?", "body": "<p>While it may seem that the question is more about system administration rather than about programming, it's actually somewhat about perl so it's may be a good place for it here.</p>\n\n<p>Doing <code>chmod 666 /etc/ports.txt</code> grants all users read-write access to this particular file (of course you don't need to put 777 as it's not an executable or script). So anyone will be able to open this file for writing and put any contents in it.</p>\n\n<p>But when you do <code>perl -pi -e ... /etc/ports.txt</code> you don't only write into that file. Instead, perl will want to delete and then recreate this file, as shown here in <code>strace</code> output:</p>\n\n<pre><code># strace perl -pi -e 's/a/b/' /etc/ports.txt 2&gt;&amp;1 | grep /etc/ports.txt\n...\nopen(\"/etc/ports.txt\", O_RDONLY)        = 3\nunlink(\"/etc/ports.txt\")                = 0\nopen(\"/etc/ports.txt\", O_WRONLY|O_CREAT|O_EXCL, 0600) = 4\n</code></pre>\n\n<p>To delete the file it will need to have a write access not to the file itself, but to the directory <code>/etc</code>, which of course you cannot give to any user.</p>\n\n<p>So I suppose you just don't need to try using in-place edit as it's always related to removing or renaming files, but instead get the contents of the file, make required changes and then write it back to the same file.</p>\n"}, {"comments": [{"owner": {"reputation": 48798, "user_id": 223226, "user_type": "registered", "accept_rate": 93, "profile_image": "https://i.stack.imgur.com/iGqE4.png?s=128&g=1", "display_name": "mpapec", "link": "https://stackoverflow.com/users/223226/mpapec"}, "edited": false, "score": 0, "creation_date": 1436023730, "post_id": 31222204, "comment_id": 50444428, "body": "For minimum effort on your behalf, you can make a symlink in /etc to some directory/file where your users have sufficient permissions, ie. <code>ln -s &#47;some_folder&#47;ports.txt &#47;etc&#47;</code>"}, {"owner": {"reputation": 132, "user_id": 4798063, "user_type": "registered", "accept_rate": 29, "profile_image": "https://www.gravatar.com/avatar/fda2d0902ca5cbb61111701712bda6ba?s=128&d=identicon&r=PG", "display_name": "Harsh", "link": "https://stackoverflow.com/users/4798063/harsh"}, "edited": false, "score": 0, "creation_date": 1436025048, "post_id": 31222204, "comment_id": 50444797, "body": "It still wont work, i tried /ports.txt, i tried /var/ports.txt still the same error Can&#39;t remove /var/ports.txt: Permission denied, skipping file."}, {"owner": {"reputation": 48798, "user_id": 223226, "user_type": "registered", "accept_rate": 93, "profile_image": "https://i.stack.imgur.com/iGqE4.png?s=128&g=1", "display_name": "mpapec", "link": "https://stackoverflow.com/users/223226/mpapec"}, "reply_to_user": {"reputation": 132, "user_id": 4798063, "user_type": "registered", "accept_rate": 29, "profile_image": "https://www.gravatar.com/avatar/fda2d0902ca5cbb61111701712bda6ba?s=128&d=identicon&r=PG", "display_name": "Harsh", "link": "https://stackoverflow.com/users/4798063/harsh"}, "edited": false, "score": 0, "creation_date": 1436025415, "post_id": 31222204, "comment_id": 50444912, "body": "@Harsh first make sure that your users can write to directory. I highly doubt that <code>&#47;</code> and <code>&#47;var</code> are one of them."}, {"owner": {"reputation": 132, "user_id": 4798063, "user_type": "registered", "accept_rate": 29, "profile_image": "https://www.gravatar.com/avatar/fda2d0902ca5cbb61111701712bda6ba?s=128&d=identicon&r=PG", "display_name": "Harsh", "link": "https://stackoverflow.com/users/4798063/harsh"}, "edited": false, "score": 0, "creation_date": 1436081228, "post_id": 31222204, "comment_id": 50455570, "body": "THANKS A TON ^_^...That worked out great created new folder named /port and chmod it 777"}], "tags": [], "owner": {"reputation": 48798, "user_id": 223226, "user_type": "registered", "accept_rate": 93, "profile_image": "https://i.stack.imgur.com/iGqE4.png?s=128&g=1", "display_name": "mpapec", "link": "https://stackoverflow.com/users/223226/mpapec"}, "is_accepted": true, "score": 0, "last_activity_date": 1436023149, "creation_date": 1436023149, "answer_id": 31222204, "question_id": 31219742, "link": "https://stackoverflow.com/questions/31219742/how-to-allow-any-user-on-the-server-to-edit-a-specific-file/31222204#31222204", "title": "How to allow any user on the server to edit a specific file?", "body": "<p>You can't do inplace edit on <code>666</code> files inside <code>/etc</code> as <code>-i</code> switch makes new file and deletes old one inside directory.</p>\n\n<p>Since users don't have sufficient permissions to add/delete files from <code>/etc</code> (nor it would be good idea to do so), you have to read all file content at once, change it, and write back to the same file. Using a temporary file is also a workable solution.</p>\n"}], "owner": {"reputation": 132, "user_id": 4798063, "user_type": "registered", "accept_rate": 29, "profile_image": "https://www.gravatar.com/avatar/fda2d0902ca5cbb61111701712bda6ba?s=128&d=identicon&r=PG", "display_name": "Harsh", "link": "https://stackoverflow.com/users/4798063/harsh"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 268, "favorite_count": 0, "accepted_answer_id": 31222204, "answer_count": 2, "score": 1, "last_activity_date": 1436023149, "creation_date": 1436007036, "last_edit_date": 1436020429, "question_id": 31219742, "link": "https://stackoverflow.com/questions/31219742/how-to-allow-any-user-on-the-server-to-edit-a-specific-file", "title": "How to allow any user on the server to edit a specific file?", "body": "<p>I have created this code which will allow user to change the port in a specific file,</p>\n\n<pre><code>#Change Port\nIRSSIPORT1=`head -n 1 /etc/ports.txt | tail -n 1`\nsudo perl -pi -e \"s/^$IRSSIPORT1.*\\n$//g\" /etc/ports.txt\nsudo perl -pi -e \"s/web_port = 8081/web_port = $IRSSIPORT1/g\" .sickbread/config.ini\necho \"sickbread Port: $IRSSIPORT1\" | sudo tee -a $HOME/private/SBinfo.txt\n</code></pre>\n\n<p>What this code do is it takes a number from a file and then put it in the config file where it is required to change and deletes that number from the initial file from where it took it, but it requires read access as well as write access,</p>\n\n<p>I tried everything in my knowledge to get it work without sudo, but i failed to do it.</p>\n\n<p>Any suggestion?</p>\n\n<p>I get this error - </p>\n\n<blockquote>\n  <p>Can't remove /etc/ports.txt: Permission denied, skipping file.</p>\n</blockquote>\n"}, {"tags": ["perl", "unix"], "comments": [{"owner": {"reputation": 4120, "user_id": 9719, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/EIDSQ.png?s=128&g=1", "display_name": "darch", "link": "https://stackoverflow.com/users/9719/darch"}, "edited": false, "score": 0, "creation_date": 1435994317, "post_id": 31217920, "comment_id": 50436501, "body": "<code>system</code> returns the callee&#39;s exit value, not what it printed."}, {"owner": {"reputation": 4120, "user_id": 9719, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/EIDSQ.png?s=128&g=1", "display_name": "darch", "link": "https://stackoverflow.com/users/9719/darch"}, "edited": false, "score": 0, "creation_date": 1435994350, "post_id": 31217920, "comment_id": 50436508, "body": "Please show how you are invoking <code>B.pl</code> and how you are assigning the arguments it receives."}, {"owner": {"reputation": 320771, "user_id": 589924, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/b2cf53d5a3d25f95c0db4e025aed4153?s=128&d=identicon&r=PG", "display_name": "ikegami", "link": "https://stackoverflow.com/users/589924/ikegami"}, "edited": false, "score": 0, "creation_date": 1436037172, "post_id": 31217920, "comment_id": 50448426, "body": "You should consider using the <code>--name val</code> notation for optional arguments, and use Getopt::Long to parse the command line."}], "answers": [{"tags": [], "owner": {"reputation": 9262, "user_id": 124951, "user_type": "registered", "accept_rate": 20, "profile_image": "https://www.gravatar.com/avatar/c46d5911a8fb4ffd5fb8523d56a60de0?s=128&d=identicon&r=PG", "display_name": "salva", "link": "https://stackoverflow.com/users/124951/salva"}, "is_accepted": false, "score": 1, "last_activity_date": 1435996490, "creation_date": 1435996490, "answer_id": 31218364, "question_id": 31217920, "link": "https://stackoverflow.com/questions/31217920/how-to-pass-null-arguments-to-perl-script-called-from-main-perl-script-backtics/31218364#31218364", "title": "How to pass null arguments to perl script called from main perl script [backtics]", "body": "<p>Unfortunately, a safe version of the backticks operator or of <code>readpipe</code> doesn't exist. It has been on the <code>perl</code> TODO list for years!</p>\n\n<p>But you can do it yourself easily using <code>open</code>:</p>\n\n<pre><code>open my $handle, '-|', 'B.pl', $argv0, $argv1, $argv2, $argv3\n    or die \"unable to run external command: $!\";\nmy $output = do { local $/; &lt;$handle&gt; };\nclose $handle\n    or die \"unable to capture output from child command: $!\";\n$? and die \"remote command exited with non zero return code: $?\";\n</code></pre>\n"}, {"tags": [], "owner": {"reputation": 4120, "user_id": 9719, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/EIDSQ.png?s=128&g=1", "display_name": "darch", "link": "https://stackoverflow.com/users/9719/darch"}, "is_accepted": false, "score": 2, "last_activity_date": 1435996630, "last_edit_date": 1495541647, "creation_date": 1435996630, "answer_id": 31218384, "question_id": 31217920, "link": "https://stackoverflow.com/questions/31217920/how-to-pass-null-arguments-to-perl-script-called-from-main-perl-script-backtics/31218384#31218384", "title": "How to pass null arguments to perl script called from main perl script [backtics]", "body": "<p>This is not a question about Perl so much as it is about the shell.  You are trying to pass a bunch of parameters, some of which are optional.  Fortunately, this is a well-understood problem.  The answer is to pass named options instead of positional arguments.  The standard way to do that in Perl is with <a href=\"https://metacpan.org/pod/Getopt::Long\" rel=\"nofollow noreferrer\"><code>Getopt::Long</code></a>.</p>\n\n<p>For example, in <code>B.pl</code>, you could say</p>\n\n<pre><code>use Getopt::Long;\nmy ($loc, $msk, $usr, $usr1);\nGetOptions(\n    \"loc=s\"     =&gt; \\$loc,\n    \"msk=s\"     =&gt; \\$msk,\n    \"usr=s\"     =&gt; \\$usr,\n    \"usr1=s\"    =&gt; \\$usr1,\n) or die \"Something wrong with your options!\";\n</code></pre>\n\n<p>And the invocation in <code>A.pl</code> would read:</p>\n\n<pre><code>my @filelist1 = `B.pl '--loc=$argv0' '--msk=$argv1' '--usr=$argv2' '--usr1=$argv3'`;\n</code></pre>\n\n<p>There are more sophisticated approaches.  Per <a href=\"https://stackoverflow.com/a/11521312/9719\">this answer</a>, for example, we find out about <a href=\"http://www.metacpan.org/module/IPC%3A%3ARun\" rel=\"nofollow noreferrer\"><code>IPC::Run</code></a>.</p>\n"}, {"comments": [{"owner": {"reputation": 4120, "user_id": 9719, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/EIDSQ.png?s=128&g=1", "display_name": "darch", "link": "https://stackoverflow.com/users/9719/darch"}, "edited": false, "score": 0, "creation_date": 1435997098, "post_id": 31218409, "comment_id": 50437227, "body": "Oh, hey, that totally works.  Nevermind, this is way better than my answer."}, {"owner": {"reputation": 320771, "user_id": 589924, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/b2cf53d5a3d25f95c0db4e025aed4153?s=128&d=identicon&r=PG", "display_name": "ikegami", "link": "https://stackoverflow.com/users/589924/ikegami"}, "reply_to_user": {"reputation": 4120, "user_id": 9719, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/EIDSQ.png?s=128&g=1", "display_name": "darch", "link": "https://stackoverflow.com/users/9719/darch"}, "edited": false, "score": 0, "creation_date": 1436037382, "post_id": 31218409, "comment_id": 50448480, "body": "@darch, I disagree. Using switches is far better for optional args"}, {"owner": {"reputation": 9961, "user_id": 2139766, "user_type": "registered", "accept_rate": 100, "profile_image": "https://i.stack.imgur.com/b3qcA.png?s=128&g=1", "display_name": "AnFi", "link": "https://stackoverflow.com/users/2139766/anfi"}, "reply_to_user": {"reputation": 4120, "user_id": 9719, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/EIDSQ.png?s=128&g=1", "display_name": "darch", "link": "https://stackoverflow.com/users/9719/darch"}, "edited": false, "score": 0, "creation_date": 1436040508, "post_id": 31218409, "comment_id": 50449328, "body": "@darch IMHO Command line switches are better option for non tiny and non short maintenance span scripts."}], "tags": [], "owner": {"reputation": 9961, "user_id": 2139766, "user_type": "registered", "accept_rate": 100, "profile_image": "https://i.stack.imgur.com/b3qcA.png?s=128&g=1", "display_name": "AnFi", "link": "https://stackoverflow.com/users/2139766/anfi"}, "is_accepted": true, "score": 5, "last_activity_date": 1436040632, "last_edit_date": 1436040632, "creation_date": 1435996779, "answer_id": 31218409, "question_id": 31217920, "link": "https://stackoverflow.com/questions/31217920/how-to-pass-null-arguments-to-perl-script-called-from-main-perl-script-backtics/31218409#31218409", "title": "How to pass null arguments to perl script called from main perl script [backtics]", "body": "<p>You may use \"zero length strings\" (<code>\"\"</code> or <code>''</code>) as parameters inside back-ticks:</p>\n\n<pre><code>perl -e \"print `perl -e 'print $ARGV[2]' 0 '' 2`\"\n</code></pre>\n\n<p><strong>OR</strong> use perl module for handling command line options e.g. Getopt::Std</p>\n"}], "owner": {"reputation": 389, "user_id": 1919581, "user_type": "registered", "accept_rate": 50, "profile_image": "https://www.gravatar.com/avatar/e9f83eeb03fb57e2ca3dbc208a1137d8?s=128&d=identicon&r=PG", "display_name": "user1919581", "link": "https://stackoverflow.com/users/1919581/user1919581"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 803, "favorite_count": 0, "accepted_answer_id": 31218409, "answer_count": 3, "score": 0, "last_activity_date": 1522778543, "creation_date": 1435993317, "last_edit_date": 1522778543, "question_id": 31217920, "link": "https://stackoverflow.com/questions/31217920/how-to-pass-null-arguments-to-perl-script-called-from-main-perl-script-backtics", "title": "How to pass null arguments to perl script called from main perl script [backtics]", "body": "<p>I want to call a <strong>perl script(B.pl)</strong> which will list the files available in the remote server from the main <strong>perl script(A.pl)</strong> by passing more than one optional arguments. </p>\n\n<p>Since the arguments were optional, if I use backticks the arguments are getting assigned to wrong variables in B.pl.</p>\n\n<p>If I use <code>@list=system(B.pl, argv0, argv1, argv2);</code> then though some arguments are undef it is getting correctly assigned in B.pl but the STDOUT is not getting assigned to @list in the calling script.  </p>\n\n<p>I am new to perl, please guide in this scenario. Is there any way to pass null arguments with backticks ?</p>\n\n<p>In A.pl:</p>\n\n<pre><code>my @filelist = system( B.pl, $argv0, $argv1, $argv2, $argv3);\nmy @filelist1 = `B.pl $argv0 $argv1 $argv2 $argv3`;\n</code></pre>\n\n<p>In B.pl:</p>\n\n<pre><code>my $loc   = uc( $ARGV[0] );\nmy $msk   = uc( $ARGV[1] );\nmy $usr   = $ARGV[2];\nmy $usr1  = $ARGV[3];\n</code></pre>\n"}, {"tags": ["perl", "oop", "moose"], "answers": [{"comments": [{"owner": {"reputation": 123805, "user_id": 622310, "user_type": "registered", "accept_rate": 33, "profile_image": "https://www.gravatar.com/avatar/8b6d35219e1808520bc238b28161e2e6?s=128&d=identicon&r=PG", "display_name": "Borodin", "link": "https://stackoverflow.com/users/622310/borodin"}, "edited": false, "score": 0, "creation_date": 1436006202, "post_id": 31218261, "comment_id": 50439543, "body": "Great, but your paragraph starting <i>\u201cBut this value exists independent of the accessor\u201d</i> could be clearer. I don&#39;t think it&#39;s obvious <i>why</i>  removing the readonly attribute would get rid of the accessor, and I don&#39;t think it&#39;s clear to the OP that he has specified a builder"}, {"owner": {"reputation": 32690, "user_id": 3266847, "user_type": "registered", "accept_rate": 100, "profile_image": "https://i.stack.imgur.com/U0oyt.png?s=128&g=1", "display_name": "Benjamin W.", "link": "https://stackoverflow.com/users/3266847/benjamin-w"}, "edited": false, "score": 0, "creation_date": 1436066541, "post_id": 31218261, "comment_id": 50453408, "body": "Thank you for the thorough explanation. I think the example is overly simple and contrived to <i>require</i> one or the other technique, I guess the book just wanted to show different options. I&#39;ve started looking into <a href=\"http://search.cpan.org/~ether/Moose-2.1405/lib/Moose/Manual/Attributes.pod#Default_and_builder_methods\" rel=\"nofollow noreferrer\">the documentation</a> for builders, defaults et cetera, and your answer was definitely an excellent starting point."}], "tags": [], "owner": {"reputation": 4120, "user_id": 9719, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/EIDSQ.png?s=128&g=1", "display_name": "darch", "link": "https://stackoverflow.com/users/9719/darch"}, "is_accepted": true, "score": 3, "last_activity_date": 1436030963, "last_edit_date": 1436030963, "creation_date": 1435995770, "answer_id": 31218261, "question_id": 31216493, "link": "https://stackoverflow.com/questions/31216493/moose-attribute-default-used-even-though-subclass-overrides-the-attribute/31218261#31218261", "title": "Moose attribute default used even though subclass overrides the attribute", "body": "<p>There's two things in play here:  How attributes are initialized and how accessors work.</p>\n\n<p>Non-lazy ('eager') attributes are initialized when the class is instantiated.  That's why you can actually leave off the</p>\n\n<pre><code>say \"The horse says \", $talking-&gt;sound, '.';\n</code></pre>\n\n<p>and get the same error.  If you make the attribute lazy, on the other hand, the error goes away.  And that leads us to the real reason:  the difference between attributes, accessors, and builders.</p>\n\n<p><code>Animal</code> has an attribute, <code>sound</code>, which is just a place that stores some data related to instances of the class.  Because <code>sound</code> was declared <code>ro</code>, <code>Animal</code> also has a method that acts as an accessor, confusingly also called <code>sound</code>.  If you call this accessor, it looks at the value of the attribute and gives it to you.</p>\n\n<p>But this value exists independent of the accessor.  The accessor provides a way to get at the value, but the actual existence of the value is dependent on the attribute's builder.  In this case, the builder for the attribute is the anonymous method <code>sub { confess shift, \" needs to define sound!\" }</code>, and it will get run as soon as the attribute needs to have a value.</p>\n\n<p>In fact, if you leave out the <code>is =&gt; 'ro'</code>, you will stop Moose from creating an accessor at all, and the error will still pop at construction time.  Because that's when your class builds the <code>sound</code> attribute.</p>\n\n<p>When the attribute needs its value depends on whether you've declared it as lazy or not.  Eager attributes are given their values on object construction.  It doesn't matter if there's an accessor, the builder gets called when the object is created.  And in this case, the builder dies.</p>\n\n<p>Lazy attributes are given their values the first time they are needed.  The default accessor tries to get the value of the attribute, which causes the builder to fire, which causes the script to die.  When you override <code>sound</code>, you replace the default accessor with one that doesn't call the builder and therefore doesn't die anymore.</p>\n\n<p>Does that mean you should make the <code>sound</code> attribute lazy?  No, I don't think so.  There's better mechanisms available, depending on what exactly you are trying to assert.  If what you are trying to assert is that <code>Animal-&gt;sound</code> must be defined, you can use <a href=\"https://metacpan.org/pod/distribution/Moose/lib/Moose/Manual/Construction.pod#BUILD\" rel=\"nofollow\"><code>BUILD</code></a> like so:</p>\n\n<pre><code>package Animal;\nuse namespace::autoclean;\nuse Moose;\n\nhas 'sound' =&gt; (is =&gt; 'ro');\n\nsub BUILD {\n    my ($self) = @_;\n\n    confess \"$self needs to define sound!\"\n        unless defined $self-&gt;sound;\n}\n\n1;\n</code></pre>\n\n<p>During object construction, each of the parent classes' <code>BUILD</code> methods gets called, which lets them make assertions about object state.</p>\n\n<p>If, on the other hand, what you wanted to assert is that a subclass has to have overridden <code>sound</code>, it's better not to make <code>sound</code> an attribute at all.  Instead,</p>\n\n<pre><code>package Animal;\nuse namespace::autoclean;\nuse Moose;\n\nsub sound {    \n    confess \"Abstract method `sound` called!\";\n}\n\n1;\n</code></pre>\n"}], "owner": {"reputation": 32690, "user_id": 3266847, "user_type": "registered", "accept_rate": 100, "profile_image": "https://i.stack.imgur.com/U0oyt.png?s=128&g=1", "display_name": "Benjamin W.", "link": "https://stackoverflow.com/users/3266847/benjamin-w"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 420, "favorite_count": 2, "accepted_answer_id": 31218261, "answer_count": 1, "score": 2, "last_activity_date": 1436030963, "creation_date": 1435979336, "last_edit_date": 1435982072, "question_id": 31216493, "link": "https://stackoverflow.com/questions/31216493/moose-attribute-default-used-even-though-subclass-overrides-the-attribute", "title": "Moose attribute default used even though subclass overrides the attribute", "body": "<p>I'm tinkering with Moose as introduced in <a href=\"http://www.intermediateperl.com/\" rel=\"nofollow\">Intermediate Perl</a>. I have an abstract class <code>Animal</code> with a property <code>sound</code>. The default behaviour should be to complain that <code>sound</code> has to be defined in subclasses:</p>\n\n<pre><code>package Animal;\nuse namespace::autoclean;\nuse Moose;\n\nhas 'sound' =&gt; (\n    is =&gt; 'ro',\n    default =&gt; sub {\n        confess shift, \" needs to define sound!\"\n    }\n);\n\n1;\n</code></pre>\n\n<p>A subclass has to do nothing else than define <code>sound</code>:</p>\n\n<pre><code>package Horse;\nuse namespace::autoclean;\nuse Moose;\n\nextends 'Animal';\n\nsub sound { 'neigh' }\n\n1;\n</code></pre>\n\n<p>But testing this with</p>\n\n<pre><code>use strict;\nuse warnings;\nuse 5.010;\nuse Horse;\n\nmy $talking = Horse-&gt;new;\nsay \"The horse says \", $talking-&gt;sound, '.';\n</code></pre>\n\n<p>results in</p>\n\n<pre class=\"lang-none prettyprint-override\"><code>Horse=HASH(0x3029d30) needs to define sound!\n</code></pre>\n\n<p>If I replace the anonymous function in <code>Animal</code> with something simpler as in</p>\n\n<pre><code>has 'sound' =&gt; (\n    is =&gt; 'ro',\n    default =&gt; 'something generic',\n);\n</code></pre>\n\n<p>things work fine. Why is that? Why is the default function executed even though I override it in the subclass?</p>\n"}, {"tags": ["perl", "hash", "reference", "subroutine"], "comments": [{"owner": {"reputation": 320771, "user_id": 589924, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/b2cf53d5a3d25f95c0db4e025aed4153?s=128&d=identicon&r=PG", "display_name": "ikegami", "link": "https://stackoverflow.com/users/589924/ikegami"}, "edited": false, "score": 0, "creation_date": 1435971109, "post_id": 31215574, "comment_id": 50432469, "body": "That comment should read <code>%$hash_ref is %hash</code>"}, {"owner": {"reputation": 123805, "user_id": 622310, "user_type": "registered", "accept_rate": 33, "profile_image": "https://www.gravatar.com/avatar/8b6d35219e1808520bc238b28161e2e6?s=128&d=identicon&r=PG", "display_name": "Borodin", "link": "https://stackoverflow.com/users/622310/borodin"}, "edited": false, "score": 1, "creation_date": 1436006461, "post_id": 31215574, "comment_id": 50439618, "body": "<code>use module</code> should be <code>use Module</code>, and the module itself should be in <code>Module.pm</code> and contain a package statement <code>package Module</code>"}], "answers": [{"comments": [{"owner": {"reputation": 19, "user_id": 5070429, "user_type": "registered", "accept_rate": 0, "profile_image": "https://www.gravatar.com/avatar/c328ab06d4a7126d402754ee2932bf08?s=128&d=identicon&r=PG&f=1", "display_name": "happytuna", "link": "https://stackoverflow.com/users/5070429/happytuna"}, "edited": false, "score": 0, "creation_date": 1435973775, "post_id": 31215803, "comment_id": 50432917, "body": "I want $hash{a} = 0 and $hash{a}{ten} = 10.  But $hash{a} returns a hash reference after the subroutine (which I don&#39;t want), before the subroutine $hash{a} returned &quot;0&quot;"}, {"owner": {"reputation": 320771, "user_id": 589924, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/b2cf53d5a3d25f95c0db4e025aed4153?s=128&d=identicon&r=PG", "display_name": "ikegami", "link": "https://stackoverflow.com/users/589924/ikegami"}, "reply_to_user": {"reputation": 19, "user_id": 5070429, "user_type": "registered", "accept_rate": 0, "profile_image": "https://www.gravatar.com/avatar/c328ab06d4a7126d402754ee2932bf08?s=128&d=identicon&r=PG&f=1", "display_name": "happytuna", "link": "https://stackoverflow.com/users/5070429/happytuna"}, "edited": false, "score": 3, "creation_date": 1435973993, "post_id": 31215803, "comment_id": 50432944, "body": "You are doing <code>$hash{a} = 0; $hash{a} = \\%subhash;</code>, and asking why <code>$hash{a}</code> isn&#39;t zero. It can only hold one of those two values at a time."}, {"owner": {"reputation": 320771, "user_id": 589924, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/b2cf53d5a3d25f95c0db4e025aed4153?s=128&d=identicon&r=PG", "display_name": "ikegami", "link": "https://stackoverflow.com/users/589924/ikegami"}, "reply_to_user": {"reputation": 19, "user_id": 5070429, "user_type": "registered", "accept_rate": 0, "profile_image": "https://www.gravatar.com/avatar/c328ab06d4a7126d402754ee2932bf08?s=128&d=identicon&r=PG&f=1", "display_name": "happytuna", "link": "https://stackoverflow.com/users/5070429/happytuna"}, "edited": false, "score": 0, "creation_date": 1435974389, "post_id": 31215803, "comment_id": 50432998, "body": "Added a solution to my answer."}, {"owner": {"reputation": 19, "user_id": 5070429, "user_type": "registered", "accept_rate": 0, "profile_image": "https://www.gravatar.com/avatar/c328ab06d4a7126d402754ee2932bf08?s=128&d=identicon&r=PG&f=1", "display_name": "happytuna", "link": "https://stackoverflow.com/users/5070429/happytuna"}, "edited": false, "score": 0, "creation_date": 1435975352, "post_id": 31215803, "comment_id": 50433125, "body": "I see...  I thought I was adding another element to $hash{a} called &quot;ten&quot; such that the new data structure would look like $hash{a}{ten}=10."}], "tags": [], "owner": {"reputation": 320771, "user_id": 589924, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/b2cf53d5a3d25f95c0db4e025aed4153?s=128&d=identicon&r=PG", "display_name": "ikegami", "link": "https://stackoverflow.com/users/589924/ikegami"}, "is_accepted": false, "score": 5, "last_activity_date": 1435974382, "last_edit_date": 1435974382, "creation_date": 1435971070, "answer_id": 31215803, "question_id": 31215574, "link": "https://stackoverflow.com/questions/31215574/hash-key-value-changing-to-array-reference-after-subroutine-in-perl/31215803#31215803", "title": "Hash key value changing to array reference after subroutine in perl", "body": "<p><code>$hash_ref</code> is a reference to <code>%hash</code>, so when you change the values of the elements of the hash referenced by <code>$hash_ref</code>, you're changing the values of the hash <code>%hash</code>.</p>\n\n<p>That means that when you do</p>\n\n<pre><code> $hash_ref-&gt;{$ltr} = { ten =&gt; $count };\n</code></pre>\n\n<p>You are doing</p>\n\n<pre><code> $hash{a} = { ten =&gt; 10 };\n</code></pre>\n\n<p>It should be no surprise that <code>$hash{a}</code> no longer contains zero. You'll have to change your data structure. You could use the following:</p>\n\n<pre><code>$hash{a}{value} = 0;\n$hash{a}{subhash}{ten} = 10;\n</code></pre>\n"}], "owner": {"reputation": 19, "user_id": 5070429, "user_type": "registered", "accept_rate": 0, "profile_image": "https://www.gravatar.com/avatar/c328ab06d4a7126d402754ee2932bf08?s=128&d=identicon&r=PG&f=1", "display_name": "happytuna", "link": "https://stackoverflow.com/users/5070429/happytuna"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 183, "favorite_count": 0, "answer_count": 1, "score": 0, "last_activity_date": 1435978619, "creation_date": 1435968888, "last_edit_date": 1435978619, "question_id": 31215574, "link": "https://stackoverflow.com/questions/31215574/hash-key-value-changing-to-array-reference-after-subroutine-in-perl", "title": "Hash key value changing to array reference after subroutine in perl", "body": "<p>I'm creating keys outside and inside a subroutine on the same hash.  However, after the subroutine, the values in the keys I created before the subroutine is called, are now interpreted as array references.</p>\n\n<pre><code>#!/usr/bin/perl\nuse module;\nuse strict;\nuse warnings;\nmy %hash;\nmy $count = 0;\n\nmy @array = (\"a\", \"b\", \"c\", \"d\");\n\nfor my $letter (@array) {\n    $hash{$letter} = $count;\n    $count++;\n}\n\n# need \"\\\" to pass in hash otherwise changes\n# will get lost outside of subroutine\nforeach my $x (sort keys %hash) {\n    print \"first $hash{$x}\\n\";\n}\n\nmodule::add_ten(\\%hash);\n\nforeach my $p (sort keys %hash) {\n    # $hash{$p} is printing array references, but before it was\n    # printing the value I desired.  What did the subroutine do?\n    print \"second $hash{$p} $hash{$p}-&gt;{ten}\\n\";\n}\n</code></pre>\n\n<p>and here is the module with the subroutine</p>\n\n<pre><code>package module;\n\nsub add_ten {\nmy $count = 10;\n    # this passes the full array as reference\n    my ($hash_ref) = @_; # $hash_ref is actually %hash (yes, the % is not a typo)\n    my @keys = keys $hash_ref;\n    foreach my $ltr (sort keys $hash_ref) {\n        $hash_ref-&gt;{$ltr} = { ten =&gt; $count };\n        $count++;\n    }\n}\n1;\n</code></pre>\n\n<p>here is the output:</p>\n\n<pre><code>first 0\nfirst 1\nfirst 2\nfirst 3\nsecond HASH(0x7ff0c3049c50) 10\nsecond HASH(0x7ff0c3049bc0) 11\nsecond HASH(0x7ff0c3049b90) 12\nsecond HASH(0x7ff0c3049b60) 13\n</code></pre>\n\n<p>I'm expecting the output to be:</p>\n\n<pre><code>first 0\nfirst 1\nfirst 2\nfirst 3\nsecond 0 10\nsecond 1 11\nsecond 2 12\nsecond 3 13\n</code></pre>\n\n<p>I modified my module:</p>\n\n<pre><code>package module;\n\nsub add_ten {\n    my $count = 10;\n    # this passes the full array as reference\n    my ($hash_ref) = @_; # $hash_ref is actually %hash (yes, the % is not a typo)\n    my @keys = keys $hash_ref;\n    foreach my $ltr (sort keys $hash_ref) {\n        $hash_ref-&gt;{$ltr}{ten}=$count;\n        $count++;\n    }\n}\n1;\n</code></pre>\n\n<p>and the main script (needed to comment out use strict to get it to work):</p>\n\n<pre><code>#!/usr/bin/perl\nuse module;\n#use strict;\nuse warnings;\nmy %hash;\nmy $count = 0;\n\nmy @array = (\"a\", \"b\", \"c\", \"d\");\n\nfor my $letter (@array) {\n    $hash{$letter} = $count;\n    $count++;\n}\n\n# need \"\\\" to pass in hash otherwise changes\n# will get lost outside of subroutine\nforeach my $x (sort keys %hash) {\n    print \"first $hash{$x}\\n\";\n}\n\nmodule::add_ten(\\%hash);\n\nforeach my $p (sort keys %hash) {\n    print \"second $hash{$p} $hash{$p}{ten}\\n\";\n}\n</code></pre>\n\n<p>But this is what I was trying to get to.</p>\n"}, {"tags": ["arrays", "string", "perl", "sorting", "numbers"], "comments": [{"owner": {"reputation": 62184, "user_id": 7231, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/81b76985f3985e35492e25880493d045?s=128&d=identicon&r=PG", "display_name": "Dave Cross", "link": "https://stackoverflow.com/users/7231/dave-cross"}, "edited": false, "score": 0, "creation_date": 1436170404, "post_id": 31214168, "comment_id": 50479343, "body": "You should show us what you have tried - so we can help you fix it."}], "answers": [{"comments": [{"owner": {"reputation": 45, "user_id": 5079019, "user_type": "registered", "accept_rate": 75, "profile_image": "https://www.gravatar.com/avatar/f0107b60117d39456d63ca9a48ba7745?s=128&d=identicon&r=PG&f=1", "display_name": "Molag Bal", "link": "https://stackoverflow.com/users/5079019/molag-bal"}, "edited": false, "score": 1, "creation_date": 1435959584, "post_id": 31214235, "comment_id": 50430162, "body": "Thank you for your quick answer. It works perfect and i learned something new."}, {"owner": {"reputation": 4120, "user_id": 9719, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/EIDSQ.png?s=128&g=1", "display_name": "darch", "link": "https://stackoverflow.com/users/9719/darch"}, "edited": false, "score": 1, "creation_date": 1435997658, "post_id": 31214235, "comment_id": 50437362, "body": "Small quibble:  <code>sort</code> doesn&#39;t care about the specific value the block returns.  It cares about its relationship to 0."}], "tags": [], "owner": {"reputation": 51521, "user_id": 2566198, "user_type": "registered", "accept_rate": 67, "profile_image": "https://i.stack.imgur.com/Y34ZA.jpg?s=128&g=1", "display_name": "Sobrique", "link": "https://stackoverflow.com/users/2566198/sobrique"}, "is_accepted": true, "score": 9, "last_activity_date": 1436041028, "last_edit_date": 1436041028, "creation_date": 1435957789, "answer_id": 31214235, "question_id": 31214168, "link": "https://stackoverflow.com/questions/31214168/how-to-sort-an-array-of-strings-containing-two-numbers-in-perl/31214235#31214235", "title": "How to sort an array of strings containing two numbers in perl?", "body": "<p>Sorting by function is really easy. The function has to return -1, 0 or 1 depending if <code>$a</code> and <code>$b</code> are before or after. (As noted in comments - it can be any positive or negative value - the key point is whether the elements are before or after each other). </p>\n\n<p><code>$a</code> and <code>$b</code> are 'special' variables used specifically for perl and sorting. They therefore don't need to be declared, and are a <em>really</em> bad idea to use for other stuff in your code. But then, who uses single letter vars anyway?</p>\n\n<p>So with your values: </p>\n\n<pre><code>#!/usr/bin/env perl\nuse strict;\nuse warnings;\n\nsub custom_sort {\n   my ( $a1, $a2 ) = ( $a =~ m/(\\d+)/g );   #extract the numeric elements\n   my ( $b1, $b2 ) = ( $b =~ m/(\\d+)/g );\n\n   return ( $a1 &lt;=&gt; $b1     #return the result of this comparison\n         || $a2 &lt;=&gt; $b2 );  #unless it's zero, then we return the result of this.\n}\n\n\nmy @list = &lt;DATA&gt;;    \nprint sort custom_sort @list; \n\n__DATA__\nExpt5_Expt12\nExpt5_Expt1\nExpt12_Expt2\nExpt11_Expt8\nExpt1_Expt2\nExpt10_Expt1\nExpt10_Expt4\nExpt11_Expt1\n</code></pre>\n\n<p>You can make this more concise, but the essence is this:</p>\n\n<ul>\n<li>extract the first and second values.</li>\n<li>Then use the <code>||</code> operator - so that if <code>$a1 &lt;=&gt; $b1</code> is zero, it evaluates the second part of the expression. </li>\n<li><code>&lt;=&gt;</code> is a 'less than, equal to, greater than' operator which returns -1, 0 or 1 based on numeric comparison. For strings you can use <code>cmp</code> to do the same thing. </li>\n</ul>\n\n<p>(You can print these if you wish to debug how this sort is 'working' for each comparison, which is really handy if you're doing something complicated)</p>\n"}, {"tags": [], "owner": {"reputation": 123805, "user_id": 622310, "user_type": "registered", "accept_rate": 33, "profile_image": "https://www.gravatar.com/avatar/8b6d35219e1808520bc238b28161e2e6?s=128&d=identicon&r=PG", "display_name": "Borodin", "link": "https://stackoverflow.com/users/622310/borodin"}, "is_accepted": false, "score": 2, "last_activity_date": 1435965234, "last_edit_date": 1435965234, "creation_date": 1435962487, "answer_id": 31214860, "question_id": 31214168, "link": "https://stackoverflow.com/questions/31214168/how-to-sort-an-array-of-strings-containing-two-numbers-in-perl/31214860#31214860", "title": "How to sort an array of strings containing two numbers in perl?", "body": "<p>This is broadly the same solution as others have posted, but it is made more concise by the use of <code>map</code></p>\n\n<pre><code>use strict;\nuse warnings;\n\nmy @data = &lt;DATA&gt;;\n\nprint sort {\n    my @ab = map [ /\\d+/g ], $a, $b;\n    $ab[0][0] &lt;=&gt; $ab[1][0] or $ab[0][1] &lt;=&gt; $ab[1][1];\n} @data;\n\n__DATA__\nExpt5_Expt12\nExpt5_Expt1\nExpt12_Expt2\nExpt11_Expt8\nExpt1_Expt2\nExpt10_Expt1\nExpt10_Expt4\nExpt11_Expt1\n</code></pre>\n\n<h3>output</h3>\n\n<pre><code>Expt1_Expt2\nExpt5_Expt1\nExpt5_Expt12\nExpt10_Expt1\nExpt10_Expt4\nExpt11_Expt1\nExpt11_Expt8\nExpt12_Expt2\n</code></pre>\n"}, {"tags": [], "owner": {"reputation": 9262, "user_id": 124951, "user_type": "registered", "accept_rate": 20, "profile_image": "https://www.gravatar.com/avatar/c46d5911a8fb4ffd5fb8523d56a60de0?s=128&d=identicon&r=PG", "display_name": "salva", "link": "https://stackoverflow.com/users/124951/salva"}, "is_accepted": false, "score": 1, "last_activity_date": 1435992852, "creation_date": 1435992852, "answer_id": 31217852, "question_id": 31214168, "link": "https://stackoverflow.com/questions/31214168/how-to-sort-an-array-of-strings-containing-two-numbers-in-perl/31217852#31217852", "title": "How to sort an array of strings containing two numbers in perl?", "body": "<p>use <a href=\"https://metacpan.org/pod/Sort::Key::Multi\" rel=\"nofollow\">Sort::Key::Multi</a>;</p>\n\n<pre><code>use Sort::Key::Multi qw(i2_keysort); #i2 means two integer keys\n\nmy @sorted = i2_keysort { /(\\d+)\\D+(\\d+)/ } @data;\n</code></pre>\n"}], "owner": {"reputation": 45, "user_id": 5079019, "user_type": "registered", "accept_rate": 75, "profile_image": "https://www.gravatar.com/avatar/f0107b60117d39456d63ca9a48ba7745?s=128&d=identicon&r=PG&f=1", "display_name": "Molag Bal", "link": "https://stackoverflow.com/users/5079019/molag-bal"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 551, "favorite_count": 0, "accepted_answer_id": 31214235, "answer_count": 3, "score": 0, "last_activity_date": 1436041028, "creation_date": 1435957360, "last_edit_date": 1435959877, "question_id": 31214168, "link": "https://stackoverflow.com/questions/31214168/how-to-sort-an-array-of-strings-containing-two-numbers-in-perl", "title": "How to sort an array of strings containing two numbers in perl?", "body": "<p>I have the following array of strings:</p>\n\n<pre><code>Expt5_Expt12\nExpt5_Expt1\nExpt12_Expt2\nExpt11_Expt8\nExpt1_Expt2\nExpt10_Expt1\nExpt10_Expt4\nExpt11_Expt1\n</code></pre>\n\n<p>I want to sort these strings by the first number and in second priority by the second number so that I have a list like that:</p>\n\n<pre><code>Expt1_Expt2\nExpt5_Expt1\nExpt5_Expt12\nExpt10_Expt1\nExpt10_Expt4\nExpt11_Expt1\nExpt11_Expt8\nExpt12_Expt2\n</code></pre>\n\n<p>I only found solutions to sort only by the first number OR by the second. I tried some things with regex-expressions and sort-function but I didn't come to a solution.</p>\n"}, {"tags": ["perl"], "comments": [{"owner": {"reputation": 51521, "user_id": 2566198, "user_type": "registered", "accept_rate": 67, "profile_image": "https://i.stack.imgur.com/Y34ZA.jpg?s=128&g=1", "display_name": "Sobrique", "link": "https://stackoverflow.com/users/2566198/sobrique"}, "edited": false, "score": 1, "creation_date": 1435948688, "post_id": 31211946, "comment_id": 50426639, "body": "Can I just say - usually home work questions mean bad questions. This is actually a good question, and one that&#39;s clear and answerable."}, {"owner": {"reputation": 49, "user_id": 5078653, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/29gDO.jpg?s=128&g=1", "display_name": "undecisive", "link": "https://stackoverflow.com/users/5078653/undecisive"}, "reply_to_user": {"reputation": 123805, "user_id": 622310, "user_type": "registered", "accept_rate": 33, "profile_image": "https://www.gravatar.com/avatar/8b6d35219e1808520bc238b28161e2e6?s=128&d=identicon&r=PG", "display_name": "Borodin", "link": "https://stackoverflow.com/users/622310/borodin"}, "edited": false, "score": 0, "creation_date": 1435993856, "post_id": 31211946, "comment_id": 50436399, "body": "@Borodin Any suggestions to the error?"}, {"owner": {"reputation": 123805, "user_id": 622310, "user_type": "registered", "accept_rate": 33, "profile_image": "https://www.gravatar.com/avatar/8b6d35219e1808520bc238b28161e2e6?s=128&d=identicon&r=PG", "display_name": "Borodin", "link": "https://stackoverflow.com/users/622310/borodin"}, "edited": false, "score": 1, "creation_date": 1436004132, "post_id": 31211946, "comment_id": 50438949, "body": "You should really open a new question rather than update an existing one -- Stack Overflow is very different from a forum. There are two issues here. If the <code>or die</code> was killing the script then it means the open was failing for some reason and there is no point in trying to read from the handle. Secondly, you have <code>&lt;$filename&gt;</code>, which is a throwback to your original code: you can&#39;t read from a file name! I also suggest using <code>$fh</code> instead of <code>$filehandle</code> as the latter isn&#39;t visually very different from <code>$filename</code>"}, {"owner": {"reputation": 123805, "user_id": 622310, "user_type": "registered", "accept_rate": 33, "profile_image": "https://www.gravatar.com/avatar/8b6d35219e1808520bc238b28161e2e6?s=128&d=identicon&r=PG", "display_name": "Borodin", "link": "https://stackoverflow.com/users/622310/borodin"}, "edited": false, "score": 0, "creation_date": 1436004251, "post_id": 31211946, "comment_id": 50438982, "body": "Something that may not be clear -- <code>&lt;$fh&gt;</code> is a <code>readline</code> on filehandle <code>$fh</code>"}, {"owner": {"reputation": 123805, "user_id": 622310, "user_type": "registered", "accept_rate": 33, "profile_image": "https://www.gravatar.com/avatar/8b6d35219e1808520bc238b28161e2e6?s=128&d=identicon&r=PG", "display_name": "Borodin", "link": "https://stackoverflow.com/users/622310/borodin"}, "edited": false, "score": 0, "creation_date": 1436005018, "post_id": 31211946, "comment_id": 50439237, "body": "The <code>open</code> call has one-, two-, and three-argument forms. The first is very old and best forgotten. The second is presumably what you&#39;re familiar with, where the open mode is mashed in with the file name and you write <code>open my $fh, &#39;&lt;myfile.txt&#39;</code>, and you can omit the <code>&lt;</code> for read mode. This is still a bit of a hack, and the last form is now considered best practice, where each piece of input is kept separate. It means you can open files with names like <code>&lt;</code> which are valid on Linux platforms but can&#39;t be opened any other way"}, {"owner": {"reputation": 62184, "user_id": 7231, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/81b76985f3985e35492e25880493d045?s=128&d=identicon&r=PG", "display_name": "Dave Cross", "link": "https://stackoverflow.com/users/7231/dave-cross"}, "edited": false, "score": 0, "creation_date": 1436170365, "post_id": 31211946, "comment_id": 50479320, "body": "Yours should read from a file <i>handle</i>. Currently, you&#39;re reading from a file <i>name</i>."}, {"owner": {"reputation": 51521, "user_id": 2566198, "user_type": "registered", "accept_rate": 67, "profile_image": "https://i.stack.imgur.com/Y34ZA.jpg?s=128&g=1", "display_name": "Sobrique", "link": "https://stackoverflow.com/users/2566198/sobrique"}, "edited": false, "score": 0, "creation_date": 1436254136, "post_id": 31211946, "comment_id": 50520105, "body": "I would suggest opening a new question when you have a new question. It is ok to do this, and doesn&#39;t invalidate previous answers."}], "answers": [{"comments": [{"owner": {"reputation": 4598, "user_id": 145364, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/7fdd3f07ac5b720b510dc17843ab9d37?s=128&d=identicon&r=PG", "display_name": "Jim Davis", "link": "https://stackoverflow.com/users/145364/jim-davis"}, "edited": false, "score": 0, "creation_date": 1435946301, "post_id": 31212040, "comment_id": 50425861, "body": "I&#39;d suggest renaming one of the filename (<code>$FILE</code>) or the file handle (<code>FILE</code>), as that&#39;s just a recipe for confusion."}, {"owner": {"reputation": 384453, "user_id": 1126841, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/fa05233b2357f8d11c22ef4cfc7bb85c?s=128&d=identicon&r=PG", "display_name": "chepner", "link": "https://stackoverflow.com/users/1126841/chepner"}, "reply_to_user": {"reputation": 4598, "user_id": 145364, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/7fdd3f07ac5b720b510dc17843ab9d37?s=128&d=identicon&r=PG", "display_name": "Jim Davis", "link": "https://stackoverflow.com/users/145364/jim-davis"}, "edited": false, "score": 0, "creation_date": 1435946887, "post_id": 31212040, "comment_id": 50426062, "body": "Agreed; I usually use <code>FH</code> for the file handle and <code>$fname</code> for the file name."}, {"owner": {"reputation": 123805, "user_id": 622310, "user_type": "registered", "accept_rate": 33, "profile_image": "https://www.gravatar.com/avatar/8b6d35219e1808520bc238b28161e2e6?s=128&d=identicon&r=PG", "display_name": "Borodin", "link": "https://stackoverflow.com/users/622310/borodin"}, "edited": false, "score": 0, "creation_date": 1435965008, "post_id": 31212040, "comment_id": 50431386, "body": "@chepner: You should also use lexical file handles -- <code>$fh</code> instead of <code>FH</code>"}, {"owner": {"reputation": 49, "user_id": 5078653, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/29gDO.jpg?s=128&g=1", "display_name": "undecisive", "link": "https://stackoverflow.com/users/5078653/undecisive"}, "edited": false, "score": 0, "creation_date": 1435966629, "post_id": 31212040, "comment_id": 50431660, "body": "Chepner thanks for the advice. I think what I was trying to do was your last example with the chomp and then print it. Clearly I did that extremely wrong but hey I&#39;m learning and you all are nice enough to break it down step by step for me.   Jim,  your advice has been noted, I will steer clear of using Capitals for variable names and leave capitals for the file handles. (I think that is what you are saying)"}, {"owner": {"reputation": 384453, "user_id": 1126841, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/fa05233b2357f8d11c22ef4cfc7bb85c?s=128&d=identicon&r=PG", "display_name": "chepner", "link": "https://stackoverflow.com/users/1126841/chepner"}, "edited": false, "score": 1, "creation_date": 1435970199, "post_id": 31212040, "comment_id": 50432286, "body": "I do use lexical file handles, but it seemed like I was piling enough new concepts into the answer as it was."}], "tags": [], "owner": {"reputation": 384453, "user_id": 1126841, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/fa05233b2357f8d11c22ef4cfc7bb85c?s=128&d=identicon&r=PG", "display_name": "chepner", "link": "https://stackoverflow.com/users/1126841/chepner"}, "is_accepted": false, "score": 1, "last_activity_date": 1435945539, "creation_date": 1435945539, "answer_id": 31212040, "question_id": 31211946, "link": "https://stackoverflow.com/questions/31211946/using-perl-to-open-a-file-and-preview-its-contents/31212040#31212040", "title": "Using Perl to open a file and preview its contents", "body": "<p>Two issues: one, you read from <code>FILE</code> the same way you read from <code>STDIN</code>, with the <code>&lt;&gt;</code> operator. Two, assuming you want to display the contents of <code>$FILE</code>, your while loop should look like</p>\n\n<pre><code>while (&lt;FILE&gt;) {\n    print;\n}\n</code></pre>\n\n<p>This uses the implicit variable <code>$_</code> to store the line read from <code>FILE</code> each time through the loop, which is the same variable <code>print</code> uses with no other argument. More explicitly, you might write</p>\n\n<pre><code>while (my $line = &lt;FILE&gt;) {\n    print \"$line\";\n}\n</code></pre>\n\n<p><code>chomp</code> isn't needed, since <code>print</code> won't print an additional newline unless you tell it to. You could also write</p>\n\n<pre><code>while (&lt;FILE&gt;) {\n    chomp;\n    print \"$_\\n\";\n}\n</code></pre>\n\n<p>or</p>\n\n<pre><code>while (my $line = &lt;FILE&gt;) {\n    chomp $line;\n    print \"$line\\n\"\n}\n</code></pre>\n"}, {"comments": [{"owner": {"reputation": 49, "user_id": 5078653, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/29gDO.jpg?s=128&g=1", "display_name": "undecisive", "link": "https://stackoverflow.com/users/5078653/undecisive"}, "edited": false, "score": 1, "creation_date": 1435966230, "post_id": 31212681, "comment_id": 50431589, "body": "Sobrique, this is similar to what @Borodin was saying. I like the idea to test if the file exists first, so that it gives the program an exit point in the event the file does not exist. I was wondering what the &#39;&lt;&gt;&#39; did in Borodin&#39;s script and was about to go reference it but you already spelled it out. You guys have been very helpful for a super new perl user here; even more so than my professor, and I am going to try and use the items you all have mentioned such as lexical filehandles, and the read parameters to try and gain a better understanding of these basic perl functions."}, {"owner": {"reputation": 51521, "user_id": 2566198, "user_type": "registered", "accept_rate": 67, "profile_image": "https://i.stack.imgur.com/Y34ZA.jpg?s=128&g=1", "display_name": "Sobrique", "link": "https://stackoverflow.com/users/2566198/sobrique"}, "reply_to_user": {"reputation": 49, "user_id": 5078653, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/29gDO.jpg?s=128&g=1", "display_name": "undecisive", "link": "https://stackoverflow.com/users/5078653/undecisive"}, "edited": false, "score": 0, "creation_date": 1435966566, "post_id": 31212681, "comment_id": 50431644, "body": "We all started at the beginning. Keep asking good questions, and you will learn a lot from this site."}, {"owner": {"reputation": 49, "user_id": 5078653, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/29gDO.jpg?s=128&g=1", "display_name": "undecisive", "link": "https://stackoverflow.com/users/5078653/undecisive"}, "edited": false, "score": 0, "creation_date": 1435967850, "post_id": 31212681, "comment_id": 50431872, "body": "Agreed. We all start out as newbies but eventually gain the knowledge to be successful in a task. I just hope that I can become knowledgeable in perl as well as python and pass on some knowledge to a person who is new to either in the future."}], "tags": [], "owner": {"reputation": 51521, "user_id": 2566198, "user_type": "registered", "accept_rate": 67, "profile_image": "https://i.stack.imgur.com/Y34ZA.jpg?s=128&g=1", "display_name": "Sobrique", "link": "https://stackoverflow.com/users/2566198/sobrique"}, "is_accepted": false, "score": 2, "last_activity_date": 1435949164, "creation_date": 1435949164, "answer_id": 31212681, "question_id": 31211946, "link": "https://stackoverflow.com/questions/31211946/using-perl-to-open-a-file-and-preview-its-contents/31212681#31212681", "title": "Using Perl to open a file and preview its contents", "body": "<p>The core problem here is that you're re-opening, not actually reading. </p>\n\n<p>To open a file:</p>\n\n<pre><code>open ( my $filehandle, \"&lt;\", $filename ) or die $!;\n</code></pre>\n\n<p>The <code>die</code> is quite important, because it'll tell you if there's a problem opening the file. <code>$!</code> is the 'status code' of the open operation, so it'll tell you if the file couldn't be found. </p>\n\n<p>But <em>all</em> this does is 'set' <code>$filehandle</code> to give you an access point. </p>\n\n<p>To get the contents of the file, you need to <em>read</em> it, and in <code>perl</code> this is done with <code>&lt;&gt;</code>.</p>\n\n<p>So:</p>\n\n<pre><code>my $line = &lt;$filehandle&gt;\n</code></pre>\n\n<p>Will read a single line. </p>\n\n<p>If you want to read more than a single line, then you do it in a while loop. </p>\n\n<pre><code>while ( my $line = &lt;$filehandle&gt; ) {\n    print $line;\n}\n</code></pre>\n\n<p>You might also find it useful to test whether a file exists before doing this:</p>\n\n<pre><code>if ( not -f $filename ) { \n   print \"$filename does not exist\\n\";\n   exit; \n}\n</code></pre>\n"}, {"comments": [{"owner": {"reputation": 51521, "user_id": 2566198, "user_type": "registered", "accept_rate": 67, "profile_image": "https://i.stack.imgur.com/Y34ZA.jpg?s=128&g=1", "display_name": "Sobrique", "link": "https://stackoverflow.com/users/2566198/sobrique"}, "edited": false, "score": 0, "creation_date": 1435956301, "post_id": 31213597, "comment_id": 50429178, "body": "Effective use of the implicit variable is an important <code>perl</code> skill. One you grok it, there&#39;s some lovely code you can write, but until you do there&#39;s many pitfalls that await!"}, {"owner": {"reputation": 49, "user_id": 5078653, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/29gDO.jpg?s=128&g=1", "display_name": "undecisive", "link": "https://stackoverflow.com/users/5078653/undecisive"}, "edited": false, "score": 0, "creation_date": 1435964461, "post_id": 31213597, "comment_id": 50431276, "body": "Your comments have definitely spread some light into what I was doing wrong. The professor just handed out the assignment and I was on my own. The explanation of using global vs lexical filehandles in this situation makes more sense; as I just did some research into why they are better than global variables for certain things. It definitely helps to have someone who knows what they are doing who is willing to help and explain things like you have. I assumed that once you had defined the global variable you had to follow it through. I can definitely see now where my mistakes were based on that."}, {"owner": {"reputation": 123805, "user_id": 622310, "user_type": "registered", "accept_rate": 33, "profile_image": "https://www.gravatar.com/avatar/8b6d35219e1808520bc238b28161e2e6?s=128&d=identicon&r=PG", "display_name": "Borodin", "link": "https://stackoverflow.com/users/622310/borodin"}, "reply_to_user": {"reputation": 49, "user_id": 5078653, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/29gDO.jpg?s=128&g=1", "display_name": "undecisive", "link": "https://stackoverflow.com/users/5078653/undecisive"}, "edited": false, "score": 1, "creation_date": 1435964963, "post_id": 31213597, "comment_id": 50431375, "body": "@undecisive: It&#39;s encouraging to find a student that is willing to learn! What do you mean by <i>I was on my own</i>? The big advantage of lexical file and directory handles over global ones is firstly the same as the advantage of <i>any</i> local identifier over a global one -- you are preserved from accessing and modifying the wrong variable. In Perl&#39;s case you also have the advantage that the handle will be closed when it goes out of scope, saving you from writing housekeeping code"}, {"owner": {"reputation": 49, "user_id": 5078653, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/29gDO.jpg?s=128&g=1", "display_name": "undecisive", "link": "https://stackoverflow.com/users/5078653/undecisive"}, "edited": false, "score": 0, "creation_date": 1435967448, "post_id": 31213597, "comment_id": 50431787, "body": "@Borodin Basically the teacher gave us a very brief overview on perl and how to write hello world, then taught us how to use chop and chomp to remove characters. The next item was now go write a script to open a file and read the contents inside. So I have been testing and trying different things in the scripts to see if I could get it to open even trying things like File::Find to locate the file. That was far to advanced at this point and I am definitely going to try and get a better grasp on the lexical filehandles and using the &quot;basic&quot; commands before trying to add in modules."}, {"owner": {"reputation": 49, "user_id": 5078653, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/29gDO.jpg?s=128&g=1", "display_name": "undecisive", "link": "https://stackoverflow.com/users/5078653/undecisive"}, "edited": false, "score": 0, "creation_date": 1435967677, "post_id": 31213597, "comment_id": 50431837, "body": "@Borodin so in essence, it was a giant leap forward into perl with very minimal instruction. So I have been trying this all week and google searching; with no avail because I didn&#39;t really understand what I was looking for, and finally decided that I needed help from some more experienced people, and I have used stackoverflow for python questions pretty recently."}, {"owner": {"reputation": 123805, "user_id": 622310, "user_type": "registered", "accept_rate": 33, "profile_image": "https://www.gravatar.com/avatar/8b6d35219e1808520bc238b28161e2e6?s=128&d=identicon&r=PG", "display_name": "Borodin", "link": "https://stackoverflow.com/users/622310/borodin"}, "reply_to_user": {"reputation": 49, "user_id": 5078653, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/29gDO.jpg?s=128&g=1", "display_name": "undecisive", "link": "https://stackoverflow.com/users/5078653/undecisive"}, "edited": false, "score": 0, "creation_date": 1435967894, "post_id": 31213597, "comment_id": 50431884, "body": "@undecisive: You can forget about <code>chop</code> -- it is of very little use, and was the predecessor to <code>chomp</code> until they decided that removing the last character only if it happened to be a line terminator was much more useful. You can look at some of the modules. Some, for instance <code>List::Util</code> and <code>List::MoreUtils</code>, just add new operators to the language."}], "tags": [], "owner": {"reputation": 123805, "user_id": 622310, "user_type": "registered", "accept_rate": 33, "profile_image": "https://www.gravatar.com/avatar/8b6d35219e1808520bc238b28161e2e6?s=128&d=identicon&r=PG", "display_name": "Borodin", "link": "https://stackoverflow.com/users/622310/borodin"}, "is_accepted": false, "score": 3, "last_activity_date": 1435953964, "creation_date": 1435953964, "answer_id": 31213597, "question_id": 31211946, "link": "https://stackoverflow.com/questions/31211946/using-perl-to-open-a-file-and-preview-its-contents/31213597#31213597", "title": "Using Perl to open a file and preview its contents", "body": "<p>You are just getting your variables mixed up. You are using <code>$FILE</code> and <code>FILE</code>, and (invisibly) <code>$_</code>. <code>$FILE</code> starts off as the <em>name</em> of the file, but you also read from it, <code>chomp</code> it and <code>open</code> it which is wrong</p>\n\n<p>You should <code>open</code> file names, <em>read from</em> file handles, and <code>print</code> what you have read (or any other value). And it is best to use lower case for all local variables and reserve capitals for globals</p>\n\n<p>Your code should look like this. I have used the <em>lexical</em> file handle <code>$fh</code> instead of the old-fashioned global one. Putting variables in quotes like <code>\"$FILE\"</code> is wrong: at best it makes no difference, but it may break your program. Also, <code>&lt;$fh&gt;</code> in a <code>while</code> loop like that reads into the default variable <code>$_</code>, which is also the default parameter for <code>chomp</code>. Think of it as the pronoun <strong><em>it</em></strong> in English</p>\n\n<pre><code>open my $fh, '&lt;', $file_name;\nwhile ( &lt;$fh&gt; ) {\n    chomp;\n    print \"$_\\n\";\n}\n</code></pre>\n"}], "owner": {"reputation": 49, "user_id": 5078653, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/29gDO.jpg?s=128&g=1", "display_name": "undecisive", "link": "https://stackoverflow.com/users/5078653/undecisive"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 378, "favorite_count": 0, "answer_count": 3, "score": 2, "last_activity_date": 1436004172, "creation_date": 1435945115, "last_edit_date": 1592644375, "question_id": 31211946, "link": "https://stackoverflow.com/questions/31211946/using-perl-to-open-a-file-and-preview-its-contents", "title": "Using Perl to open a file and preview its contents", "body": "<p>I am working on a project for school, and this class is very non-descriptive. I don't understand what is going on and why I cannot get a file to display.</p>\n<pre><code>#!/usr/bin/perl\n\nuse 5.010;\nuse strict;\nuse warnings;\n\nprint &quot;\\n+--------------------------+&quot;;\nprint &quot;\\n| The File Search &amp;        |&quot;;\nprint &quot;\\n|         Display Tool     |&quot;;\nprint &quot;\\n+--------------------------+&quot;;\n\nprint &quot;\\nPlease enter the file you would like to read (with full path): \\n&quot;;\n\nmy $FILE = &lt;STDIN&gt;;\nchomp $FILE;\nsleep 1;\n\nopen (FILE, &quot;$FILE&quot;);\nprint &quot;  Here is the secret information you seek supreme leader: \\n&quot;;\nprint &quot;==============================================================&quot;;\n\nwhile ($FILE) {\n    chomp $FILE;\n    open $FILE;\n}\n</code></pre>\n<p>I'm not entirely sure what I am doing wrong. I have tried all kinds of different combinations but it only ever leads to errors.</p>\n<hr />\n<h3>Update</h3>\n<p>So I made some revisions to the code per everyone's suggestions (see below). After running the script it returns the following error</p>\n<pre><code>readline() on unopened filehandle at test.pl line 30.\n</code></pre>\n<p>In my code below, I think I opened the filehandle but this error is making me think I messed something up with it somewhere near the open command.</p>\n<pre><code>#!/usr/bin/perl\n\nuse 5.010;\nuse strict;\nuse warnings;\n\nprint &quot;\\n+--------------------------+&quot;;\nprint &quot;\\n| The File Search &amp;        |&quot;; #Not so fancy banner! \nprint &quot;\\n|         Display Tool     |&quot;; \nprint &quot;\\n+--------------------------+&quot;;\n\nprint &quot;\\n   Welcome to the Tool. It is still being tested!!\\n&quot;;\nprint &quot;\\n    Please enter the file you would like to read: &quot;;\n\nmy $filename = &lt;STDIN&gt;; #define the variable for the filename\n\nif ( not -f $filename ) #This checks the validity of the file\n{\nprint &quot;Filename does not exist\\n&quot;;\nexit;\n}\n\nsleep 1;\n\nprint &quot;  Here is the secret information you seek supreme leader: \\n&quot;;\nprint &quot;==============================================================\\n&quot;;\n\nopen my $filehandle, &quot;&lt;&quot;, $filename; #or die $!\n\nwhile ( &lt;$filename&gt; ) { #While loop to read each line of the file\n    chomp;\n    print &quot;$_\\n&quot;;\n}\n</code></pre>\n<p>I commented out the or die portion of the open string because it was just killing the script and I wanted to see what was wrong. I am a little confused about the &quot;&lt;&quot;, that is in the open statement. @Borodin</p>\n"}, {"tags": ["bash", "perl", "awk", "sed"], "answers": [{"comments": [{"owner": {"reputation": 77, "user_id": 5078507, "user_type": "registered", "accept_rate": 80, "profile_image": "https://www.gravatar.com/avatar/2172ae769ae57aac6ac022d7c9b02298?s=128&d=identicon&r=PG&f=1", "display_name": "Greyson B", "link": "https://stackoverflow.com/users/5078507/greyson-b"}, "edited": false, "score": 1, "creation_date": 1435944436, "post_id": 31211711, "comment_id": 50425156, "body": "Thank you! You are a life saver"}], "tags": [], "owner": {"reputation": 658023, "user_id": 548225, "user_type": "registered", "accept_rate": 90, "profile_image": "https://www.gravatar.com/avatar/dab08478b226280d4a30894c9a7ed719?s=128&d=identicon&r=PG", "display_name": "anubhava", "link": "https://stackoverflow.com/users/548225/anubhava"}, "is_accepted": true, "score": 4, "last_activity_date": 1435943940, "creation_date": 1435943940, "answer_id": 31211711, "question_id": 31211555, "link": "https://stackoverflow.com/questions/31211555/what-is-a-good-way-to-handle-multiple-repeated-entries/31211711#31211711", "title": "What is a good way to handle multiple repeated entries?", "body": "<p>You can use this <code>awk</code> command:</p>\n\n<pre><code>awk -F '[[:blank:]]+|[[:blank:]]*///[[:blank:]]+*' '{for(i=2; i&lt;=NF; i++) print $1, $i}' file\n1002_f_at P33261\n1002_f_at Q16743\n1003_s_at P32302\n1003_s_at A8K647\n1003_s_at Q2YD84\n1003_s_at A0N0R2\n1004_at P32302\n1004_at A8K647\n1004_at Q2YD84\n1004_at A0N0R2\n</code></pre>\n"}, {"tags": [], "owner": {"reputation": 51521, "user_id": 2566198, "user_type": "registered", "accept_rate": 67, "profile_image": "https://i.stack.imgur.com/Y34ZA.jpg?s=128&g=1", "display_name": "Sobrique", "link": "https://stackoverflow.com/users/2566198/sobrique"}, "is_accepted": false, "score": 1, "last_activity_date": 1435950953, "creation_date": 1435950953, "answer_id": 31213016, "question_id": 31211555, "link": "https://stackoverflow.com/questions/31211555/what-is-a-good-way-to-handle-multiple-repeated-entries/31213016#31213016", "title": "What is a good way to handle multiple repeated entries?", "body": "<p>Perlishly:</p>\n\n<pre><code>#!/usr/bin/env perl\nuse strict;\nuse warnings;\n\nwhile (&lt;&gt;) {\n    my ( $key, $values ) = m/^\\s*(\\w+)\\s*(.*)/;\n    foreach my $value ( split( \" /// \", $values ) ) {\n        print \"$key $value\\n\";\n    }\n}\n</code></pre>\n\n<p>With your data prints: </p>\n\n<pre><code>1002_f_at P33261\n1002_f_at Q16743\n1003_s_at P32302\n1003_s_at A8K647\n1003_s_at Q2YD84\n1003_s_at A0N0R2\n1004_at P32302\n1004_at A8K647\n1004_at Q2YD84\n1004_at A0N0R2\n</code></pre>\n\n<p>This could be reduced to a one liner thus:</p>\n\n<pre><code> perl -ne '( $k, $v ) = m/^\\s*(\\w+)\\s*(.*)/; for ( split( \" /// \", $v ) ) { print \"$k $_\\n\" }' yourfilename\n</code></pre>\n"}, {"tags": [], "owner": {"reputation": 123805, "user_id": 622310, "user_type": "registered", "accept_rate": 33, "profile_image": "https://www.gravatar.com/avatar/8b6d35219e1808520bc238b28161e2e6?s=128&d=identicon&r=PG", "display_name": "Borodin", "link": "https://stackoverflow.com/users/622310/borodin"}, "is_accepted": false, "score": 3, "last_activity_date": 1436031469, "last_edit_date": 1436031469, "creation_date": 1435953361, "answer_id": 31213485, "question_id": 31211555, "link": "https://stackoverflow.com/questions/31211555/what-is-a-good-way-to-handle-multiple-repeated-entries/31213485#31213485", "title": "What is a good way to handle multiple repeated entries?", "body": "<p>This is trivial in Perl</p>\n\n<pre><code>perl -nE'($s,@r) = /\\w+/g; say \"$s\\t$_\" for @r' myfile\n</code></pre>\n\n<h3>output</h3>\n\n<pre><code>1002_f_at   P33261\n1002_f_at   Q16743\n1003_s_at   P32302\n1003_s_at   A8K647\n1003_s_at   Q2YD84\n1003_s_at   A0N0R2\n1004_at P32302\n1004_at A8K647\n1004_at Q2YD84\n1004_at A0N0R2\n</code></pre>\n"}, {"tags": [], "owner": {"reputation": 46858, "user_id": 967492, "user_type": "registered", "accept_rate": 67, "profile_image": "https://www.gravatar.com/avatar/526ea226101e199d029049dda22a4e58?s=128&d=identicon&r=PG", "display_name": "potong", "link": "https://stackoverflow.com/users/967492/potong"}, "is_accepted": false, "score": 0, "last_activity_date": 1435999758, "last_edit_date": 1435999758, "creation_date": 1435956115, "answer_id": 31213978, "question_id": 31211555, "link": "https://stackoverflow.com/questions/31211555/what-is-a-good-way-to-handle-multiple-repeated-entries/31213978#31213978", "title": "What is a good way to handle multiple repeated entries?", "body": "<p>This might work for you (GNU sed):</p>\n\n<pre><code>sed -r 's/\\s+/\\t/;s#^((\\S+)\\t\\S+)\\s*///#\\1\\n\\2#;P;D' file\n</code></pre>\n\n<p>Replace multiple spaces by a tab and then replace the first occurence of <code>///</code> by the first two fields a newline and the first field. Print upto the first newline and then remove that line and repeat.</p>\n"}], "owner": {"reputation": 77, "user_id": 5078507, "user_type": "registered", "accept_rate": 80, "profile_image": "https://www.gravatar.com/avatar/2172ae769ae57aac6ac022d7c9b02298?s=128&d=identicon&r=PG&f=1", "display_name": "Greyson B", "link": "https://stackoverflow.com/users/5078507/greyson-b"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 55, "favorite_count": 0, "accepted_answer_id": 31211711, "answer_count": 4, "score": 1, "last_activity_date": 1436031469, "creation_date": 1435943211, "last_edit_date": 1435952999, "question_id": 31211555, "link": "https://stackoverflow.com/questions/31211555/what-is-a-good-way-to-handle-multiple-repeated-entries", "title": "What is a good way to handle multiple repeated entries?", "body": "<p>I am trying to make a lookup table for some matching code I plan to use, but I am having trouble making the table itself. My tab separated data looks like this:</p>\n\n<pre class=\"lang-none prettyprint-override\"><code>1002_f_at       P33261 /// Q16743\n1003_s_at       P32302 /// A8K647 /// Q2YD84 /// A0N0R2\n1004_at P32302 /// A8K647 /// Q2YD84 /// A0N0R2\n</code></pre>\n\n<p>And I want it to look like this:</p>\n\n<pre><code>1002_f_at P33261\n1002_f_at Q16743\n1003_s_at P32302\n1003_s_at A8K647 \n1003_s_at Q2YD84 \n1003_s_at A0N0R2\n1004_at   P32302 \n</code></pre>\n\n<p>Which is also tab separated. I was hoping for an awk or Perl solution but I haven't been able to come up with anything that works beyond this</p>\n\n<pre><code>    sed 's: /// :\\n\\t:g' \n</code></pre>\n\n<p>which gives me:</p>\n\n<pre><code>    1002_f_at P33261\n              Q16743\n    1003_s_at P32302\n              A8K647 \n              Q2YD84 \n              A0N0R2\n    1004_at   P32302\n</code></pre>\n"}, {"tags": ["regex", "perl"], "comments": [{"owner": {"reputation": 663663, "user_id": 15168, "user_type": "registered", "accept_rate": 100, "profile_image": "https://i.stack.imgur.com/WtEI9.png?s=128&g=1", "display_name": "Jonathan Leffler", "link": "https://stackoverflow.com/users/15168/jonathan-leffler"}, "edited": false, "score": 0, "creation_date": 1435952675, "post_id": 31210813, "comment_id": 50427975, "body": "Will the upper limit on the rows for a given key be 3 lines of input, or is that &#39;indefinite&#39;?  Is the row tag always a single word delimited by white space?  Is space all that&#39;s required between the elements that were on separate lines?"}], "answers": [{"comments": [{"owner": {"reputation": 123805, "user_id": 622310, "user_type": "registered", "accept_rate": 33, "profile_image": "https://www.gravatar.com/avatar/8b6d35219e1808520bc238b28161e2e6?s=128&d=identicon&r=PG", "display_name": "Borodin", "link": "https://stackoverflow.com/users/622310/borodin"}, "edited": false, "score": 0, "creation_date": 1435952623, "post_id": 31211820, "comment_id": 50427960, "body": "Did anyone mention doing it in a single regex?"}, {"owner": {"reputation": 123805, "user_id": 622310, "user_type": "registered", "accept_rate": 33, "profile_image": "https://www.gravatar.com/avatar/8b6d35219e1808520bc238b28161e2e6?s=128&d=identicon&r=PG", "display_name": "Borodin", "link": "https://stackoverflow.com/users/622310/borodin"}, "edited": false, "score": 1, "creation_date": 1435952728, "post_id": 31211820, "comment_id": 50427993, "body": "It seems likely that <code>row</code> and <code>multiline</code> in the example data are simply placeholders. If not then the data isn&#39;t very much use!"}, {"owner": {"reputation": 33085, "user_id": 2423164, "user_type": "registered", "accept_rate": 71, "profile_image": "https://i.stack.imgur.com/Nxbnp.jpg?s=128&g=1", "display_name": "ndnenkov", "link": "https://stackoverflow.com/users/2423164/ndnenkov"}, "reply_to_user": {"reputation": 123805, "user_id": 622310, "user_type": "registered", "accept_rate": 33, "profile_image": "https://www.gravatar.com/avatar/8b6d35219e1808520bc238b28161e2e6?s=128&d=identicon&r=PG", "display_name": "Borodin", "link": "https://stackoverflow.com/users/622310/borodin"}, "edited": false, "score": 0, "creation_date": 1435956010, "post_id": 31211820, "comment_id": 50429076, "body": "@Borodin, unless OP gives us something more specific we can&#39;t provide a general solution. For example what happens with your solution if <code>row</code> contains spaces? This is why I hardcoded the values and looked into the numbers as the only variable thing. And yes - I got challenged to do it in one regex :)"}, {"owner": {"reputation": 123805, "user_id": 622310, "user_type": "registered", "accept_rate": 33, "profile_image": "https://www.gravatar.com/avatar/8b6d35219e1808520bc238b28161e2e6?s=128&d=identicon&r=PG", "display_name": "Borodin", "link": "https://stackoverflow.com/users/622310/borodin"}, "edited": false, "score": 0, "creation_date": 1435961836, "post_id": 31211820, "comment_id": 50430692, "body": "Was that challenge a private one, because I can&#39;t see it anywhere"}, {"owner": {"reputation": 33085, "user_id": 2423164, "user_type": "registered", "accept_rate": 71, "profile_image": "https://i.stack.imgur.com/Nxbnp.jpg?s=128&g=1", "display_name": "ndnenkov", "link": "https://stackoverflow.com/users/2423164/ndnenkov"}, "reply_to_user": {"reputation": 123805, "user_id": 622310, "user_type": "registered", "accept_rate": 33, "profile_image": "https://www.gravatar.com/avatar/8b6d35219e1808520bc238b28161e2e6?s=128&d=identicon&r=PG", "display_name": "Borodin", "link": "https://stackoverflow.com/users/622310/borodin"}, "edited": false, "score": 0, "creation_date": 1435962139, "post_id": 31211820, "comment_id": 50430750, "body": "Yes, but I put the effort so why shouldn&#39;t I share?"}, {"owner": {"reputation": 123805, "user_id": 622310, "user_type": "registered", "accept_rate": 33, "profile_image": "https://www.gravatar.com/avatar/8b6d35219e1808520bc238b28161e2e6?s=128&d=identicon&r=PG", "display_name": "Borodin", "link": "https://stackoverflow.com/users/622310/borodin"}, "edited": false, "score": 0, "creation_date": 1435962636, "post_id": 31211820, "comment_id": 50430879, "body": "You can post anything useful, but the way you have phrased it is confusing -- at least to me. You seemed to be answering a question that I hadn&#39;t read, and that was in fact what you were doing."}], "tags": [], "owner": {"reputation": 33085, "user_id": 2423164, "user_type": "registered", "accept_rate": 71, "profile_image": "https://i.stack.imgur.com/Nxbnp.jpg?s=128&g=1", "display_name": "ndnenkov", "link": "https://stackoverflow.com/users/2423164/ndnenkov"}, "is_accepted": false, "score": 1, "last_activity_date": 1435946350, "last_edit_date": 1435946350, "creation_date": 1435944503, "answer_id": 31211820, "question_id": 31210813, "link": "https://stackoverflow.com/questions/31210813/how-to-use-perl-to-merge-multi-line-into-single-line/31211820#31211820", "title": "How to use Perl to merge multi-line into single line", "body": "<p>In one regex? Not very likely. The same regex multiple times however is plausible. Just match against this until it stops matching:</p>\n\n<pre><code>while ($input =~ s/row(\\d+)((?: multiline \\d+)+)\\n+row\\1/row$1$2/gm){}\n</code></pre>\n\n<p>The loop will reduce the amount of unmerged lines by half with every iteration. Hence it will loop only <code>O(ln(n))</code> times.</p>\n\n<p>You can see it in action here: <a href=\"https://ideone.com/RP30h6\" rel=\"nofollow\">https://ideone.com/RP30h6</a>\n<hr>\nThe above solution is more esoteric then practical. Here is how a real solution might look like:</p>\n\n<pre><code>my $row_number = 0;\nmy ($row, $column);\n\nwhile ($input =~ /(row(\\d+) multiline (\\d+))/gm) {\n  if ($row_number != $2) {\n    $row_number = $2;\n  } else {\n    $row = $1;\n    $column = $3;\n    $input =~ s/\\n+$row/ multiline $column/g;\n  }\n}\n</code></pre>\n\n<p>Demo: <a href=\"https://ideone.com/Mk2QqZ\" rel=\"nofollow\">https://ideone.com/Mk2QqZ</a></p>\n"}, {"comments": [{"owner": {"reputation": 123805, "user_id": 622310, "user_type": "registered", "accept_rate": 33, "profile_image": "https://www.gravatar.com/avatar/8b6d35219e1808520bc238b28161e2e6?s=128&d=identicon&r=PG", "display_name": "Borodin", "link": "https://stackoverflow.com/users/622310/borodin"}, "edited": false, "score": 1, "creation_date": 1435952532, "post_id": 31213049, "comment_id": 50427932, "body": "I would be very surprised if the <i>real</i> first fields start with <code>row</code>!"}, {"owner": {"user_type": "does_not_exist", "display_name": "user557597"}, "reply_to_user": {"reputation": 123805, "user_id": 622310, "user_type": "registered", "accept_rate": 33, "profile_image": "https://www.gravatar.com/avatar/8b6d35219e1808520bc238b28161e2e6?s=128&d=identicon&r=PG", "display_name": "Borodin", "link": "https://stackoverflow.com/users/622310/borodin"}, "edited": false, "score": 0, "creation_date": 1435953768, "post_id": 31213049, "comment_id": 50428338, "body": "@Borodin - Changed <code>row\\d+</code> to <code>\\w+</code>. Its just a place holder example, not really the thrust of the OP&#39;s request. But, it should be defined better, right now its unknown."}], "tags": [], "owner": {"user_type": "does_not_exist", "display_name": "user557597"}, "is_accepted": false, "score": 1, "last_activity_date": 1435953678, "last_edit_date": 1435953678, "creation_date": 1435951158, "answer_id": 31213049, "question_id": 31210813, "link": "https://stackoverflow.com/questions/31210813/how-to-use-perl-to-merge-multi-line-into-single-line/31213049#31213049", "title": "How to use Perl to merge multi-line into single line", "body": "<p>This can be done using a replacement callback.<br>\nIn Perl, this is typically accomplished by using the <code>s///e</code> <em>evaluation</em> form.  </p>\n\n<p>This just gets the common row block in capture buffers.<br>\nBuffer 1 is the first row, buffer 3 is the remaining common row's.  </p>\n\n<p>These are passed to the merge sub.<br>\nThe merge sub trims out the  common row's via another regex,<br>\nthen combines the first row with the common row's.<br>\nIt then gets passed back as a replacement.  </p>\n\n<p>Perl code:  </p>\n\n<pre><code>use strict;\nuse warnings;\n\n$/ = undef;\n\nmy $input = &lt;DATA&gt;;\n\nsub mergeRows {\n    my ($first_row, $other_rows) = @_;\n    $other_rows =~ s/(?m)\\s*^\\w+\\s*(.*)(?&lt;!\\s)\\s*/$1 /g;\n    return $first_row . \" \" . $other_rows . \"\\n\";\n}\n\n$input =~ s/(?m)(^(\\w+).*)(?&lt;!\\s)\\s+((?:\\s*^\\2.*)+)/ mergeRows($1,$3) /eg;\n\nprint $input, \"\\n\";\n\n__DATA__\nrow1 multiline 1\n\nrow1 multiline 2\n\nrow1 multiline 3\n\nrow2 multiline 1\n\nrow2 multiline 2\n</code></pre>\n\n<p>Output:  </p>\n\n<pre><code>row1 multiline 1 multiline 2 multiline 3\n\nrow2 multiline 1 multiline 2\n</code></pre>\n\n<p>Main regex:  </p>\n\n<pre><code> (?m)                          # Multi-line mode\n (                             # (1 start), First of common row\n      ^ \n      ( \\w+ )                       # (2), common row label\n      .* \n )                             # (1 end)\n (?&lt;! \\s )                     # Force trim of trailing spaces\n \\s+                           # Consume a newline, also get all the next whitespaces\n (                             # (3 start), Remaining common row's\n      (?:\n           \\s* ^ \\2  .* \n      )+\n )                             # (3 end)\n</code></pre>\n\n<p>Merge sub regex:  </p>\n\n<pre><code> (?m)                          # Multi-line mode\n \\s*                           # remove\n ^ \\w+ \\s*                     # remove\n ( .* )                        # (1), What will be saved\n (?&lt;! \\s )                     # remove, force trim of trailing spaces\n \\s*                           # remove, possibly many newlines (whitespace)\n</code></pre>\n"}, {"comments": [{"owner": {"reputation": 663663, "user_id": 15168, "user_type": "registered", "accept_rate": 100, "profile_image": "https://i.stack.imgur.com/WtEI9.png?s=128&g=1", "display_name": "Jonathan Leffler", "link": "https://stackoverflow.com/users/15168/jonathan-leffler"}, "edited": false, "score": 0, "creation_date": 1435957130, "post_id": 31213288, "comment_id": 50429460, "body": "If you use <code>my $row = &#39;&#39;;</code>, you could avoid testing for <code>defined $row</code> in the body of the loop, could you not?"}, {"owner": {"reputation": 123805, "user_id": 622310, "user_type": "registered", "accept_rate": 33, "profile_image": "https://www.gravatar.com/avatar/8b6d35219e1808520bc238b28161e2e6?s=128&d=identicon&r=PG", "display_name": "Borodin", "link": "https://stackoverflow.com/users/622310/borodin"}, "reply_to_user": {"reputation": 663663, "user_id": 15168, "user_type": "registered", "accept_rate": 100, "profile_image": "https://i.stack.imgur.com/WtEI9.png?s=128&g=1", "display_name": "Jonathan Leffler", "link": "https://stackoverflow.com/users/15168/jonathan-leffler"}, "edited": false, "score": 0, "creation_date": 1435961959, "post_id": 31213288, "comment_id": 50430719, "body": "@JonathanLeffler: Probably, but I have coded for the possibility that <code>$new_row</code> may be the string <code>0</code>, which is false"}], "tags": [], "owner": {"reputation": 123805, "user_id": 622310, "user_type": "registered", "accept_rate": 33, "profile_image": "https://www.gravatar.com/avatar/8b6d35219e1808520bc238b28161e2e6?s=128&d=identicon&r=PG", "display_name": "Borodin", "link": "https://stackoverflow.com/users/622310/borodin"}, "is_accepted": true, "score": 3, "last_activity_date": 1438755392, "last_edit_date": 1438755392, "creation_date": 1435952402, "answer_id": 31213288, "question_id": 31210813, "link": "https://stackoverflow.com/questions/31210813/how-to-use-perl-to-merge-multi-line-into-single-line/31213288#31213288", "title": "How to use Perl to merge multi-line into single line", "body": "<p>This will do as you ask. It checks to see whether the first field on each line has changed to decide whether to continue outputting the current line or to start a new one</p>\n\n<p>It expects the path to the input file as a parameter on the command line</p>\n\n<pre><code>use strict;\nuse warnings;\n\nmy $row;\n\nwhile ( &lt;&gt; ) {\n\n    next unless /\\S/;\n    chomp;\n\n    my ( $new_row, $rest ) = split ' ', $_, 2;\n\n    if ( defined $row and $row eq $new_row ) {\n        print ' ', $rest;\n    }\n    else {\n        print \"\\n\" if defined $row;\n        print $_;\n        $row = $new_row;\n    }\n}\n\nprint \"\\n\";\n</code></pre>\n\n<h3>output</h3>\n\n<pre><code>row1 multiline 1 multiline 2 multiline 3\nrow2 multiline 1 multiline 2\n</code></pre>\n"}, {"comments": [{"owner": {"reputation": 663663, "user_id": 15168, "user_type": "registered", "accept_rate": 100, "profile_image": "https://i.stack.imgur.com/WtEI9.png?s=128&g=1", "display_name": "Jonathan Leffler", "link": "https://stackoverflow.com/users/15168/jonathan-leffler"}, "edited": false, "score": 0, "creation_date": 1435957371, "post_id": 31214135, "comment_id": 50429527, "body": "The disadvantage of this is that it reads the whole file into memory before producing any output.  The advantage is that even if the keys (values in column 1) are not sorted, so there may be entries tagged <code>row1</code> at lines 1, 2, 3, 30, 300, and 253,231, they will all be put together in the output."}, {"owner": {"reputation": 51521, "user_id": 2566198, "user_type": "registered", "accept_rate": 67, "profile_image": "https://i.stack.imgur.com/Y34ZA.jpg?s=128&g=1", "display_name": "Sobrique", "link": "https://stackoverflow.com/users/2566198/sobrique"}, "reply_to_user": {"reputation": 663663, "user_id": 15168, "user_type": "registered", "accept_rate": 100, "profile_image": "https://i.stack.imgur.com/WtEI9.png?s=128&g=1", "display_name": "Jonathan Leffler", "link": "https://stackoverflow.com/users/15168/jonathan-leffler"}, "edited": false, "score": 0, "creation_date": 1435957986, "post_id": 31214135, "comment_id": 50429706, "body": "Yes, quite true. It&#39;s not suitable for every use case - but in some, collating across the file might be desirable."}], "tags": [], "owner": {"reputation": 51521, "user_id": 2566198, "user_type": "registered", "accept_rate": 67, "profile_image": "https://i.stack.imgur.com/Y34ZA.jpg?s=128&g=1", "display_name": "Sobrique", "link": "https://stackoverflow.com/users/2566198/sobrique"}, "is_accepted": false, "score": 1, "last_activity_date": 1435957128, "creation_date": 1435957128, "answer_id": 31214135, "question_id": 31210813, "link": "https://stackoverflow.com/questions/31210813/how-to-use-perl-to-merge-multi-line-into-single-line/31214135#31214135", "title": "How to use Perl to merge multi-line into single line", "body": "<p>You have a key field as the first word, and then the rest of the line as a value. </p>\n\n<p>So I would approach your problem like this:</p>\n\n<pre><code>#!/usr/bin/env perl\nuse strict;\nuse warnings;\n\nmy %rows;\nwhile (&lt;DATA&gt;) {\n    my ( $key, $rest_of_line ) = (m/^(\\w+) (.*)/);\n    push( @{ $rows{$key} }, $rest_of_line );\n}\n\nforeach my $key ( sort keys %rows ) {\n    print \"$key \", join( \" \", @{ $rows{$key} } ), \"\\n\";\n}\n\n__DATA__\nrow1 multiline 1\nrow1 multiline 2\nrow1 multiline 3\nrow2 multiline 1\nrow2 multiline 2\n</code></pre>\n\n<p>It's slightly different approach to the others, in that we read in each line into a hash, then output the hash.</p>\n\n<p>It doesn't maintain the order of your original file, but instead sorts in 'row value' order.</p>\n"}], "owner": {"reputation": 17, "user_id": 3966555, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/497ca4b9bbb0a21b6060bf1b0410b622?s=128&d=identicon&r=PG&f=1", "display_name": "Nguyen Trung", "link": "https://stackoverflow.com/users/3966555/nguyen-trung"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 724, "favorite_count": 0, "accepted_answer_id": 31213288, "answer_count": 4, "score": 0, "last_activity_date": 1438755392, "creation_date": 1435939833, "last_edit_date": 1435952539, "question_id": 31210813, "link": "https://stackoverflow.com/questions/31210813/how-to-use-perl-to-merge-multi-line-into-single-line", "title": "How to use Perl to merge multi-line into single line", "body": "<p>I try to use Perl to covert from the input text file format to the output text file format shown, but not successfully.</p>\n\n<p>Can anyone help?</p>\n\n<p>Input:</p>\n\n<pre><code>row1 multiline 1\nrow1 multiline 2\nrow1 multiline 3\nrow2 multiline 1\nrow2 multiline 2\n</code></pre>\n\n<p>Expected Output:</p>\n\n<pre><code>row1 multiline 1 multiline 2 multiline 3\nrow2 multiline 1 multiline 2\n</code></pre>\n"}, {"tags": ["multithreading", "perl", "lwp"], "comments": [{"owner": {"reputation": 51521, "user_id": 2566198, "user_type": "registered", "accept_rate": 67, "profile_image": "https://i.stack.imgur.com/Y34ZA.jpg?s=128&g=1", "display_name": "Sobrique", "link": "https://stackoverflow.com/users/2566198/sobrique"}, "edited": false, "score": 0, "creation_date": 1435935942, "post_id": 31209588, "comment_id": 50421315, "body": "The fact that a &#39;sleep&#39; fixes it prior to your thread instantiation implies there&#39;s something going on in parallel in the background. But I can&#39;t find any reference to <code>thread</code> or <code>fork</code> in <code>LWP</code>, and I didn&#39;t think it did any of that."}, {"owner": {"reputation": 51521, "user_id": 2566198, "user_type": "registered", "accept_rate": 67, "profile_image": "https://i.stack.imgur.com/Y34ZA.jpg?s=128&g=1", "display_name": "Sobrique", "link": "https://stackoverflow.com/users/2566198/sobrique"}, "edited": false, "score": 1, "creation_date": 1435936940, "post_id": 31209588, "comment_id": 50421834, "body": "Out of interest - this isn&#39;t a good solution to multiplexing http requests. There are better ones. Are you interested in a better optimised solution to the same problem.   Incidentally - can&#39;t reproduce this problem on Activeperl 5.20.2"}, {"owner": {"reputation": 320771, "user_id": 589924, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/b2cf53d5a3d25f95c0db4e025aed4153?s=128&d=identicon&r=PG", "display_name": "ikegami", "link": "https://stackoverflow.com/users/589924/ikegami"}, "edited": false, "score": 1, "creation_date": 1435937817, "post_id": 31209588, "comment_id": 50422326, "body": "Yeah, threads are rather heavy-weight for this. I&#39;d use Net::Curl::Multi, but that might not be possible on Windows. This might be the one time I&#39;d recommend Coro. Specifically, Coro + LWP + LWP::Protocol::AnyEvent::http"}, {"owner": {"reputation": 7958, "user_id": 1069726, "user_type": "registered", "accept_rate": 67, "profile_image": "https://www.gravatar.com/avatar/2cbbae354bb4f5f320b93ab3ad4b0fa1?s=128&d=identicon&r=PG", "display_name": "LeoNerd", "link": "https://stackoverflow.com/users/1069726/leonerd"}, "edited": false, "score": 0, "creation_date": 1435948158, "post_id": 31209588, "comment_id": 50426484, "body": "Consider also <code>Net::Async::HTTP</code>."}], "answers": [{"comments": [{"owner": {"reputation": 51521, "user_id": 2566198, "user_type": "registered", "accept_rate": 67, "profile_image": "https://i.stack.imgur.com/Y34ZA.jpg?s=128&g=1", "display_name": "Sobrique", "link": "https://stackoverflow.com/users/2566198/sobrique"}, "edited": false, "score": 0, "creation_date": 1435937949, "post_id": 31210131, "comment_id": 50422387, "body": "That a <code>sleep</code> fixes it just stinks of <code>race condition</code> but I had honestly thought that threads basically full copied. So that sort of thing ... well, <i>shouldn&#39;t</i> happen."}, {"owner": {"reputation": 51521, "user_id": 2566198, "user_type": "registered", "accept_rate": 67, "profile_image": "https://i.stack.imgur.com/Y34ZA.jpg?s=128&g=1", "display_name": "Sobrique", "link": "https://stackoverflow.com/users/2566198/sobrique"}, "edited": false, "score": 0, "creation_date": 1435938415, "post_id": 31210131, "comment_id": 50422610, "body": "I&#39;ve hit similar sorts of problems when an object is instantiated outside the thread, and then it tries to share things like file descriptors or sockets when the thread clones them. But in my brief rummaging through the various modules here, I didn&#39;t see anything obvious."}, {"owner": {"reputation": 51521, "user_id": 2566198, "user_type": "registered", "accept_rate": 67, "profile_image": "https://i.stack.imgur.com/Y34ZA.jpg?s=128&g=1", "display_name": "Sobrique", "link": "https://stackoverflow.com/users/2566198/sobrique"}, "edited": false, "score": 0, "creation_date": 1435939243, "post_id": 31210131, "comment_id": 50422998, "body": "Testing with RHEL/perl5.20.2 I do get a couple of runtime errors that I wouldn&#39;t expect."}, {"owner": {"reputation": 320771, "user_id": 589924, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/b2cf53d5a3d25f95c0db4e025aed4153?s=128&d=identicon&r=PG", "display_name": "ikegami", "link": "https://stackoverflow.com/users/589924/ikegami"}, "reply_to_user": {"reputation": 51521, "user_id": 2566198, "user_type": "registered", "accept_rate": 67, "profile_image": "https://i.stack.imgur.com/Y34ZA.jpg?s=128&g=1", "display_name": "Sobrique", "link": "https://stackoverflow.com/users/2566198/sobrique"}, "edited": false, "score": 0, "creation_date": 1435939409, "post_id": 31210131, "comment_id": 50423075, "body": "@Sobrique, with the fix?"}, {"owner": {"reputation": 51521, "user_id": 2566198, "user_type": "registered", "accept_rate": 67, "profile_image": "https://i.stack.imgur.com/Y34ZA.jpg?s=128&g=1", "display_name": "Sobrique", "link": "https://stackoverflow.com/users/2566198/sobrique"}, "edited": false, "score": 0, "creation_date": 1435939596, "post_id": 31210131, "comment_id": 50423146, "body": "With the explicit <code>use</code>s you outline, I&#39;m still getting &#39;string found where operator expected&#39; in File::GlobMapper"}, {"owner": {"reputation": 320771, "user_id": 589924, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/b2cf53d5a3d25f95c0db4e025aed4153?s=128&d=identicon&r=PG", "display_name": "ikegami", "link": "https://stackoverflow.com/users/589924/ikegami"}, "reply_to_user": {"reputation": 51521, "user_id": 2566198, "user_type": "registered", "accept_rate": 67, "profile_image": "https://i.stack.imgur.com/Y34ZA.jpg?s=128&g=1", "display_name": "Sobrique", "link": "https://stackoverflow.com/users/2566198/sobrique"}, "edited": false, "score": 0, "creation_date": 1435944678, "post_id": 31210131, "comment_id": 50425269, "body": "@Sobrique, You&#39;re missing a <code>use</code>. Can&#39;t tell which from your incomplete message, but probably File::Glob."}], "tags": [], "owner": {"reputation": 320771, "user_id": 589924, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/b2cf53d5a3d25f95c0db4e025aed4153?s=128&d=identicon&r=PG", "display_name": "ikegami", "link": "https://stackoverflow.com/users/589924/ikegami"}, "is_accepted": false, "score": 2, "last_activity_date": 1435938517, "last_edit_date": 1435938517, "creation_date": 1435937149, "answer_id": 31210131, "question_id": 31209588, "link": "https://stackoverflow.com/questions/31209588/perl-using-lwp-in-multithread-program/31210131#31210131", "title": "Perl - Using LWP in multithread program", "body": "<p>I'm not sure why, but there seems to be problems dealing with dynamically-loaded modules. Explicitly loading them before thread creation solves the problem. In other words, add the following:</p>\n\n<pre><code>use Carp qw( );\nuse URI  qw( );\n</code></pre>\n"}, {"tags": [], "owner": {"reputation": 51521, "user_id": 2566198, "user_type": "registered", "accept_rate": 67, "profile_image": "https://i.stack.imgur.com/Y34ZA.jpg?s=128&g=1", "display_name": "Sobrique", "link": "https://stackoverflow.com/users/2566198/sobrique"}, "is_accepted": false, "score": 1, "last_activity_date": 1435940558, "last_edit_date": 1435940558, "creation_date": 1435937469, "answer_id": 31210214, "question_id": 31209588, "link": "https://stackoverflow.com/questions/31209588/perl-using-lwp-in-multithread-program/31210214#31210214", "title": "Perl - Using LWP in multithread program", "body": "<p>I <em>think</em> the problem here will be memory footprint. You are - after all - loading the <code>LWP</code> library, and then cloning your process 100 times.</p>\n\n<p>Contrary to popular belief, threads in perl are not even remotely lightweight. They are not well suited to this model of usage - each thread is a 'full copy' of your process, and that's just ... not a great plan. </p>\n\n<p>My copy of perl - ActivePerl 5.20.2 - doesn't exhibit the same problem (I don't think - I didn't actually want to spam that website you list). </p>\n\n<p>I would suggest instead that you either rewrite your threading to use <code>Thread::Queue</code> and a lower degree of parallelism:</p>\n\n<pre><code>use strict;\nuse warnings;\nuse LWP;\nuse threads;\nuse Thread::Queue;\n\nmy $workers = 10;\n\nmy $work_q = Thread::Queue-&gt;new();\nmy $url    = \"http://localhost:80\";\n\nsub worker_thread {\n    while ( my $url = $work_q-&gt;dequeue ) {\n        LWP::UserAgent-&gt;new-&gt;get($url);\n    }\n}\n\nthreads-&gt;create( \\&amp;worker_thread ) for 1 .. $workers;\n\nfor ( 1 .. 100 ) {\n    $work_q-&gt;enqueue($url);\n}\n$work_q-&gt;end;\n\nforeach my $thread ( threads-&gt;list ) {\n    $thread-&gt;join();\n}\n</code></pre>\n\n<p>Otherwise, a fork-based approach may also work better:</p>\n\n<pre><code>use strict;\nuse warnings;\nuse Parallel::ForkManager;\nuse LWP;\n\nmy $manager = Parallel::ForkManager-&gt;new(10);\n\nfor ( 1 .. 100 ) {\n    $manager-&gt;start and next;\n    LWP::UserAgent-&gt;new-&gt;get(\"http://localhost:80\");\n    $manager-&gt;finish;\n}\n\n$manager-&gt;wait_all_children;\n</code></pre>\n\n<p>Edit:</p>\n\n<p>A bit more testing on your sample - I do get similar runtime errors on RHEL running 5.20.2 </p>\n\n<p>They vary somewhat, which really does mean there has to be some kind of race condition going on here. </p>\n\n<p>Which is odd, because threads are <em>supposed</em> to be standalone and they're not. </p>\n\n<p>In particular - my kernel bombs with a 'kill' because of memory exhaustion thanks to a few gigs of memory footprint, which is a pretty good reason not to use this approach. </p>\n\n<p>My test case of running your code with RHEL and Perl 5.20.2 also triggers problems (occasionally).</p>\n\n<p>What I get is similar sorts of errors - sporadically. I cannot see an obvious source thought. It might be as simple as too many open file descriptors or too much memory consumed. This is quite a hefty memory burden. </p>\n"}, {"tags": [], "owner": {"reputation": 123805, "user_id": 622310, "user_type": "registered", "accept_rate": 33, "profile_image": "https://www.gravatar.com/avatar/8b6d35219e1808520bc238b28161e2e6?s=128&d=identicon&r=PG", "display_name": "Borodin", "link": "https://stackoverflow.com/users/622310/borodin"}, "is_accepted": false, "score": 0, "last_activity_date": 1436006599, "last_edit_date": 1436006599, "creation_date": 1435944144, "answer_id": 31211747, "question_id": 31209588, "link": "https://stackoverflow.com/questions/31209588/perl-using-lwp-in-multithread-program/31211747#31211747", "title": "Perl - Using LWP in multithread program", "body": "<p>This is very straightforward using the <strong><em>Mojolicious</em></strong> framework. The <a href=\"https://metacpan.org/pod/Mojo::UserAgent\" rel=\"nofollow\"><code>Mojo::UserAgent</code></a> class has been designed to work asynchronously with the help of the <a href=\"https://metacpan.org/pod/Mojo::IOLoop\" rel=\"nofollow\"><code>Mojo::IOLoop</code></a> module, and although synchronous transactions are available they are implemented using special cases of the standard asynchronous calls</p>\n\n<pre><code>use strict;\nuse warnings;\n\nuse Mojo;\n\nmy $ua = Mojo::UserAgent-&gt;new( max_redirects =&gt; 5 );\n\nmy $n;\n\nfor ( 1 .. 100 ) {\n  $ua-&gt;get('http://dx.doi.org/10.1002/aoc.1067' =&gt; \\&amp;completed);\n  ++$n;\n}\n\nMojo::IOLoop-&gt;start;\n\nsub completed {\n  my ($ua, $tx) = @_;\n\n  Mojo::IOLoop-&gt;stop unless --$n &gt; 0;\n}\n</code></pre>\n\n<p>A quick benchmark gave the following results</p>\n\n<ul>\n<li>100 synchronous GET requests took 178 seconds</li>\n<li>100 asynchronous GET requests took 10 seconds</li>\n</ul>\n"}, {"tags": [], "owner": {"reputation": 381, "user_id": 2528048, "user_type": "registered", "accept_rate": 57, "profile_image": "https://www.gravatar.com/avatar/9b9849fb755adebf6cb4d0b734832762?s=128&d=identicon&r=PG", "display_name": "AndyH", "link": "https://stackoverflow.com/users/2528048/andyh"}, "is_accepted": false, "score": 0, "last_activity_date": 1524497741, "creation_date": 1524497741, "answer_id": 49984867, "question_id": 31209588, "link": "https://stackoverflow.com/questions/31209588/perl-using-lwp-in-multithread-program/49984867#49984867", "title": "Perl - Using LWP in multithread program", "body": "<p>I know this is an old topic, but just yesterday I ran into this problem. Below info can be useful for someone.\nI was getting several kinds of errors from LWP in similar code (parallel http requests), including</p>\n\n<ul>\n<li>\"String found where operator expected at ... near \"croak ...\"</li>\n<li>\"Deep recursion on subroutine \"IO::Socket::new\" ... Out of memory!\"</li>\n<li>Sometimes requests just failed (returned status 500 or 501).</li>\n</ul>\n\n<p>Problem seems to be gone after I added the following line:</p>\n\n<pre><code>use IO::File;\n</code></pre>\n\n<p>Don't ask me why, I have no idea :) Figured this out accidentally.\nI am using Strawberry Perl 5.24.0.</p>\n"}], "owner": {"reputation": 13, "user_id": 2577800, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/8059743ed336056f0b98a3ae952ea540?s=128&d=identicon&r=PG", "display_name": "GilAlexander", "link": "https://stackoverflow.com/users/2577800/gilalexander"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 769, "favorite_count": 0, "answer_count": 4, "score": 0, "last_activity_date": 1524497741, "creation_date": 1435935143, "last_edit_date": 1592644375, "question_id": 31209588, "link": "https://stackoverflow.com/questions/31209588/perl-using-lwp-in-multithread-program", "title": "Perl - Using LWP in multithread program", "body": "<p>Here's my code:</p>\n<pre><code>use LWP;\nuse threads;\n\nuse strict;\nuse warnings;\n\nmy @thrds;\n\nfor (1..100)\n{\n    push @thrds, threads-&gt;create( 'doit' );\n}\n\nfor (@thrds)\n{\n    $_-&gt;join();\n}\n\nsub doit\n{\n    LWP::UserAgent-&gt;new-&gt;get(&quot;http://dx.doi.org/10.1002/aoc.1067&quot;);\n}\n</code></pre>\n<p>I'm using Windows 7 x64 and ActivePerl 5.20.2 x64, I also tried StrawberryPerl.\nI've got bunch of errors:</p>\n<blockquote>\n<p>Thread ... terminated abnormally: Can't locate object method &quot;_uric_escape&quot; via package &quot;URI&quot; at .../URI.pm line 81</p>\n<p>String found where operator expected at (eval 10) line 8, near &quot;croak 'usage: $io-&gt;getlines()'&quot;</p>\n<p>(Do you need to predeclare croak?)</p>\n</blockquote>\n<p>If I add</p>\n<pre><code>sleep 1;\n</code></pre>\n<p>before</p>\n<pre><code>push @thrds, threads-&gt;create( 'doit' );\n</code></pre>\n<p>it'll be ok.</p>\n<p>What's the problem?</p>\n"}, {"tags": ["perl", "http", "tomcat"], "comments": [{"owner": {"reputation": 2788, "user_id": 3511123, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/2b226e10967db044eb9bc3e7811c5fb9?s=128&d=identicon&r=PG", "display_name": "Jozef Chocholacek", "link": "https://stackoverflow.com/users/3511123/jozef-chocholacek"}, "edited": false, "score": 0, "creation_date": 1435934149, "post_id": 31209190, "comment_id": 50420320, "body": "Show your code (html form with upload field, and both perl scripts). Btw. why have you tagged your question with <code>java</code> and <code>tomcat</code>? Do you run your CGI scripts in Tomcat (as described in <a href=\"https://tomcat.apache.org/tomcat-7.0-doc/cgi-howto.html\" rel=\"nofollow noreferrer\">tomcat.apache.org/tomcat-7.0-doc/cgi-howto.html</a>)?"}, {"owner": {"reputation": 42043, "user_id": 4999394, "user_type": "registered", "accept_rate": 98, "profile_image": "https://i.stack.imgur.com/nAGmt.png?s=128&g=1", "display_name": "Ravindra babu", "link": "https://stackoverflow.com/users/4999394/ravindra-babu"}, "reply_to_user": {"reputation": 2788, "user_id": 3511123, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/2b226e10967db044eb9bc3e7811c5fb9?s=128&d=identicon&r=PG", "display_name": "Jozef Chocholacek", "link": "https://stackoverflow.com/users/3511123/jozef-chocholacek"}, "edited": false, "score": 0, "creation_date": 1435935822, "post_id": 31209190, "comment_id": 50421250, "body": "I do not have any UI for it. On certain condition, the standalone application over the internet will upload the file on machine by invoking a perl script. tomcat do not have role to play but the server hosts both apache &amp; tomact . Perl is served by apache. Nothing much in perl script except creating a directory with a user name &amp; and saving on disk with  fileWrite($data);"}], "answers": [{"tags": [], "owner": {"reputation": 42043, "user_id": 4999394, "user_type": "registered", "accept_rate": 98, "profile_image": "https://i.stack.imgur.com/nAGmt.png?s=128&g=1", "display_name": "Ravindra babu", "link": "https://stackoverflow.com/users/4999394/ravindra-babu"}, "is_accepted": true, "score": 1, "last_activity_date": 1441711940, "creation_date": 1441711940, "answer_id": 32456704, "question_id": 31209190, "link": "https://stackoverflow.com/questions/31209190/http-error-508-from-perl-script-during-redirection-of-requests-from-secure-to-no/32456704#32456704", "title": "HTTP error 508 from PERL script during redirection of requests from secure to non-secure server", "body": "<p>This strange issue has been resolved after moving dynamic service to other Virtual machine. This issue is no longer reproducible after changing the node. </p>\n"}], "owner": {"reputation": 42043, "user_id": 4999394, "user_type": "registered", "accept_rate": 98, "profile_image": "https://i.stack.imgur.com/nAGmt.png?s=128&g=1", "display_name": "Ravindra babu", "link": "https://stackoverflow.com/users/4999394/ravindra-babu"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 61, "favorite_count": 0, "accepted_answer_id": 32456704, "answer_count": 1, "score": 0, "last_activity_date": 1441711940, "creation_date": 1435933807, "last_edit_date": 1435935653, "question_id": 31209190, "link": "https://stackoverflow.com/questions/31209190/http-error-508-from-perl-script-during-redirection-of-requests-from-secure-to-no", "title": "HTTP error 508 from PERL script during redirection of requests from secure to non-secure server", "body": "<p>I am getting a strange error in my file upload application. </p>\n\n<p>1) Server 1: It is secure web server on port 443, which is accessible to public hosting a perl script</p>\n\n<p>2)  When this server get a request for cgi-bin directory, it will simple redirect the request to other web server (Server 2) running on port 80</p>\n\n<p>3) The perl script in Server 2 will save the file in disk </p>\n\n<p>Issue:</p>\n\n<p>Above mechanism worked for a couple of hours later it has thrown Http error code:508</p>\n\n<p>Observations:</p>\n\n<p>If I directly hit Server2 on port 80, perl script successfully saving the files to disk. But If I directly hit Server1 on port 443, I am getting 508 error</p>\n\n<p>When I first got the issue, I have restarted both webservers and it worked. But when I get the same issue second time, restart of servers did not help. The call to Server1 is throwing 508 error and requests are getting timed out.</p>\n\n<p>ulimits and open files are in control.  </p>\n\n<p>If you experience this type of issue, please share your thoughts. </p>\n"}, {"tags": ["perl"], "comments": [{"owner": {"reputation": 48798, "user_id": 223226, "user_type": "registered", "accept_rate": 93, "profile_image": "https://i.stack.imgur.com/iGqE4.png?s=128&g=1", "display_name": "mpapec", "link": "https://stackoverflow.com/users/223226/mpapec"}, "edited": false, "score": 1, "creation_date": 1435921920, "post_id": 31205292, "comment_id": 50412785, "body": "<code>($args[1..$argsize-1])</code> =&gt; <code>(@args)</code> or possibly <code>(@args[1..$#args])</code> Parens are not metachars in replacment part so you don&#39;t need to escape them <code>&#47;($1)&#47;</code> <code>use diagnostics;</code> will give you very verbose explanation of error message."}, {"owner": {"reputation": 51521, "user_id": 2566198, "user_type": "registered", "accept_rate": 67, "profile_image": "https://i.stack.imgur.com/Y34ZA.jpg?s=128&g=1", "display_name": "Sobrique", "link": "https://stackoverflow.com/users/2566198/sobrique"}, "edited": false, "score": 0, "creation_date": 1435921922, "post_id": 31205292, "comment_id": 50412787, "body": "Can you give an example of <code>@args</code>?"}], "answers": [{"comments": [{"owner": {"reputation": 3458, "user_id": 2050788, "user_type": "registered", "accept_rate": 65, "profile_image": "https://i.stack.imgur.com/uIU2Z.jpg?s=128&g=1", "display_name": "Spacemoose", "link": "https://stackoverflow.com/users/2050788/spacemoose"}, "edited": false, "score": 0, "creation_date": 1435923011, "post_id": 31205423, "comment_id": 50413418, "body": "Ah perl, it&#39;s such an adventure using you... but thanks your suggestion completely solved my underlying problem, so I have voted you up and accepted the answer.  I would still like to understand the error better, but que cera cera.  I like the new code much better -- I can&#39;t help but write c-style perl code."}, {"owner": {"reputation": 51521, "user_id": 2566198, "user_type": "registered", "accept_rate": 67, "profile_image": "https://i.stack.imgur.com/Y34ZA.jpg?s=128&g=1", "display_name": "Sobrique", "link": "https://stackoverflow.com/users/2566198/sobrique"}, "reply_to_user": {"reputation": 3458, "user_id": 2050788, "user_type": "registered", "accept_rate": 65, "profile_image": "https://i.stack.imgur.com/uIU2Z.jpg?s=128&g=1", "display_name": "Spacemoose", "link": "https://stackoverflow.com/users/2050788/spacemoose"}, "edited": false, "score": 0, "creation_date": 1435923107, "post_id": 31205423, "comment_id": 50413480, "body": "I&#39;ve had a bit of a dig - <code>my $x = 1..3;</code> does the same thing, I think for the same reason. Specifically - you&#39;re <i>trying</i> to squidge a sequence of values into a single one. The biggest thing that I found useful to understand is the sigil at the start of the variable isn&#39;t &#39;what it contains&#39; but &#39;what I&#39;m getting out&#39;. So you <i>always</i> access a single value as <code>$</code> regardless of whether it&#39;s an array or hash element."}, {"owner": {"reputation": 3458, "user_id": 2050788, "user_type": "registered", "accept_rate": 65, "profile_image": "https://i.stack.imgur.com/uIU2Z.jpg?s=128&g=1", "display_name": "Spacemoose", "link": "https://stackoverflow.com/users/2050788/spacemoose"}, "edited": false, "score": 2, "creation_date": 1435923202, "post_id": 31205423, "comment_id": 50413535, "body": "awesome.  Thanks so much.  I gotta say, My ability to use perl effectively has been greatly improved thanks to SO and guys like you."}, {"owner": {"reputation": 51521, "user_id": 2566198, "user_type": "registered", "accept_rate": 67, "profile_image": "https://i.stack.imgur.com/Y34ZA.jpg?s=128&g=1", "display_name": "Sobrique", "link": "https://stackoverflow.com/users/2566198/sobrique"}, "reply_to_user": {"reputation": 3458, "user_id": 2050788, "user_type": "registered", "accept_rate": 65, "profile_image": "https://i.stack.imgur.com/uIU2Z.jpg?s=128&g=1", "display_name": "Spacemoose", "link": "https://stackoverflow.com/users/2050788/spacemoose"}, "edited": false, "score": 0, "creation_date": 1435923325, "post_id": 31205423, "comment_id": 50413611, "body": "Ah, got it. Take a look at: <a href=\"http://stackoverflow.com/questions/25175653/what-is-the-perl-context-with-range-operator\" title=\"what is the perl context with range operator\">stackoverflow.com/questions/25175653/&hellip;</a> (Example edited into answer)"}], "tags": [], "owner": {"reputation": 51521, "user_id": 2566198, "user_type": "registered", "accept_rate": 67, "profile_image": "https://i.stack.imgur.com/Y34ZA.jpg?s=128&g=1", "display_name": "Sobrique", "link": "https://stackoverflow.com/users/2566198/sobrique"}, "is_accepted": true, "score": 6, "last_activity_date": 1435926476, "last_edit_date": 1495542603, "creation_date": 1435921893, "answer_id": 31205423, "question_id": 31205292, "link": "https://stackoverflow.com/questions/31205292/what-is-use-of-unitialized-value-in-range-or-flip-trying-to-tell-me-in-pe/31205423#31205423", "title": "What is &quot;Use of unitialized value $. in range (or flip)&quot; trying to tell me in Perl", "body": "<p>The long and short of it is - your foreach line <em>is</em> broken:</p>\n\n<pre><code>foreach my $a (@args[1..$argsize-1]) {\n</code></pre>\n\n<p>Works fine. It's because you're using a <code>$</code> which says 'scalar value' rather than an <code>@</code> which says array (or list). </p>\n\n<p>If you <code>use diagnostics</code> you get;</p>\n\n<blockquote>\n  <p>Use of uninitialized value $. in range (or flip) at\n     (W uninitialized) An undefined value was used as if it were already\n      defined.  It was interpreted as a \"\" or a 0, but maybe it was a mistake.\n      To suppress this warning assign a defined value to your variables.</p>\n  \n  <p>To help you figure out what was undefined, perl will try to tell you\n      the name of the variable (if any) that was undefined.  In some cases\n      it cannot do this, so it also tells you what operation you used the\n      undefined value in.  Note, however, that perl optimizes your program\n      and the operation displayed in the warning may not necessarily appear\n      literally in your program.  For example, \"that $foo\" is usually\n      optimized into \"that \" . $foo, and the warning will refer to the\n      concatenation (.) operator, even though there is no . in\n      your program.</p>\n</blockquote>\n\n<p>You can reproduce this error by:</p>\n\n<pre><code>my $x = 1..3;\n</code></pre>\n\n<p>Which is actually pretty much what you're doing here - you're trying to assign an array value into a scalar. </p>\n\n<p>There's a load more detail in this question:</p>\n\n<p><a href=\"https://stackoverflow.com/questions/25175653/what-is-the-perl-context-with-range-operator\">What is the Perl context with range operator?</a></p>\n\n<p>But basically: It's treating it as a range operator, as if you were working your way through a file. You would be able to 'act on' particular lines in the file via this operator. </p>\n\n<p>e.g.:</p>\n\n<pre><code>use Data::Dumper;\nwhile (&lt;DATA&gt;) {\n    my $x = 2 .. 3;\n    print Dumper $x;\n    print if $x;\n}\n\n__DATA__\nline one\nanother line\nthird line\nfourth line\n</code></pre>\n\n<p>That range operator is testing line numbers - and because you have no line numbers (because you're not iterating a file) it errors. (But otherwise - it <em>might</em> work, but you'd get some <em>really</em> strange results ;))</p>\n\n<p>But I'd suggest you're doing this quite a convoluted way, and making (potentially?) an error, in that you're starting your array at 1, not zero.</p>\n\n<p>You could instead:</p>\n\n<pre><code>s/(.*[-+*].*)/\\($1\\)/ for @args; \n</code></pre>\n\n<p>Which'll have the same result. </p>\n\n<p>(If you need to skip the first argument:</p>\n\n<pre><code>my ( $first_arg, @rest ) = @args; \ns/(.*[-+*].*)/\\($1\\)/ for @rest;\n</code></pre>\n\n<p>But that error at runtime is the result of some of the data you're feeding in. What you've got here though:</p>\n\n<pre><code>use strict;\nuse warnings;\n\nmy @args =  ( '&lt;\"bla bla bla\"&gt;',  '&lt;x-1&gt;',  '&lt;foo&gt;' );\n\nprint \"Before @args\\n\";\ns/(.*[-+*].*)/\\($1\\)/ for @args;\nprint \"After: @args\\n\";\n</code></pre>\n"}], "owner": {"reputation": 3458, "user_id": 2050788, "user_type": "registered", "accept_rate": 65, "profile_image": "https://i.stack.imgur.com/uIU2Z.jpg?s=128&g=1", "display_name": "Spacemoose", "link": "https://stackoverflow.com/users/2050788/spacemoose"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 348, "favorite_count": 0, "accepted_answer_id": 31205423, "answer_count": 1, "score": 2, "last_activity_date": 1435926476, "creation_date": 1435921502, "last_edit_date": 1435922211, "question_id": 31205292, "link": "https://stackoverflow.com/questions/31205292/what-is-use-of-unitialized-value-in-range-or-flip-trying-to-tell-me-in-pe", "title": "What is &quot;Use of unitialized value $. in range (or flip)&quot; trying to tell me in Perl", "body": "<p>I have the following code snippet in Perl:</p>\n\n<pre><code>my $argsize = @args;\nif ($argsize &gt;1){\n    foreach my $a ($args[1..$argsize-1]) {\n    $a =~ s/(.*[-+*].*)/\\($1\\)/; # if there's a math operator, put in parens\n    }\n}\n</code></pre>\n\n<p>On execution I'm getting \"Use of unitialized value $. in range (or flip) , followed by Argument \"\" isn't numeric in array element at... both pointing to the foreach line.  </p>\n\n<p>Can someone help me decipher the error message (and fix the problem(s))?  I have an array @args of strings.  The code should loop through the second to n't elements (if any exist), and  surround individual args with () if they contain a +,-, or *.</p>\n\n<p>I don't think the error stems from the values in args, I think I'm screwing up the range somehow... but I'm failing when args has > 1 element.  an example might be:</p>\n\n<pre><code>&lt;\"bla bla bla\"&gt;  &lt;x-1&gt;  &lt;foo&gt; \n</code></pre>\n"}, {"tags": ["regex", "perl"], "comments": [{"owner": {"reputation": 83048, "user_id": 2255089, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/ZNAsT.jpg?s=128&g=1", "display_name": "Casimir et Hippolyte", "link": "https://stackoverflow.com/users/2255089/casimir-et-hippolyte"}, "edited": false, "score": 1, "creation_date": 1435920294, "post_id": 31204764, "comment_id": 50411832, "body": "Are the account number always at the end of the string? could you describe the format of an account number?"}, {"owner": {"reputation": 39, "user_id": 5003158, "user_type": "registered", "accept_rate": 50, "profile_image": "https://lh3.googleusercontent.com/-Qrp3rZrRtD0/AAAAAAAAAAI/AAAAAAAAAGU/WTSvYm4YnnQ/photo.jpg?sz=128", "display_name": "jaydev thakkar", "link": "https://stackoverflow.com/users/5003158/jaydev-thakkar"}, "reply_to_user": {"reputation": 83048, "user_id": 2255089, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/ZNAsT.jpg?s=128&g=1", "display_name": "Casimir et Hippolyte", "link": "https://stackoverflow.com/users/2255089/casimir-et-hippolyte"}, "edited": false, "score": 0, "creation_date": 1435922082, "post_id": 31204764, "comment_id": 50412869, "body": "no no no @CasimiretHippolyte its not like that but i just want to identify the string like this ."}], "answers": [{"comments": [{"owner": {"reputation": 123805, "user_id": 622310, "user_type": "registered", "accept_rate": 33, "profile_image": "https://www.gravatar.com/avatar/8b6d35219e1808520bc238b28161e2e6?s=128&d=identicon&r=PG", "display_name": "Borodin", "link": "https://stackoverflow.com/users/622310/borodin"}, "edited": false, "score": 0, "creation_date": 1435929047, "post_id": 31204803, "comment_id": 50417070, "body": "Your <i>like this</i> will match every word in the strings"}, {"owner": {"reputation": 51521, "user_id": 2566198, "user_type": "registered", "accept_rate": 67, "profile_image": "https://i.stack.imgur.com/Y34ZA.jpg?s=128&g=1", "display_name": "Sobrique", "link": "https://stackoverflow.com/users/2566198/sobrique"}, "reply_to_user": {"reputation": 123805, "user_id": 622310, "user_type": "registered", "accept_rate": 33, "profile_image": "https://www.gravatar.com/avatar/8b6d35219e1808520bc238b28161e2e6?s=128&d=identicon&r=PG", "display_name": "Borodin", "link": "https://stackoverflow.com/users/622310/borodin"}, "edited": false, "score": 0, "creation_date": 1435929416, "post_id": 31204803, "comment_id": 50417274, "body": "Are you sure? My test run on regex101 gives me: <a href=\"https://regex101.com/r/jP1yX1/1\" rel=\"nofollow noreferrer\">regex101.com/r/jP1yX1/1</a> But it might be I need to move the end of line anchor."}, {"owner": {"reputation": 123805, "user_id": 622310, "user_type": "registered", "accept_rate": 33, "profile_image": "https://www.gravatar.com/avatar/8b6d35219e1808520bc238b28161e2e6?s=128&d=identicon&r=PG", "display_name": "Borodin", "link": "https://stackoverflow.com/users/622310/borodin"}, "edited": false, "score": 0, "creation_date": 1435930897, "post_id": 31204803, "comment_id": 50418234, "body": "I&#39;m sorry, I overlooked the <code>$</code> anchor. But later comments from the OP have shiown that the account number may not be at the end of the line"}, {"owner": {"reputation": 51521, "user_id": 2566198, "user_type": "registered", "accept_rate": 67, "profile_image": "https://i.stack.imgur.com/Y34ZA.jpg?s=128&g=1", "display_name": "Sobrique", "link": "https://stackoverflow.com/users/2566198/sobrique"}, "reply_to_user": {"reputation": 123805, "user_id": 622310, "user_type": "registered", "accept_rate": 33, "profile_image": "https://www.gravatar.com/avatar/8b6d35219e1808520bc238b28161e2e6?s=128&d=identicon&r=PG", "display_name": "Borodin", "link": "https://stackoverflow.com/users/622310/borodin"}, "edited": false, "score": 0, "creation_date": 1435931191, "post_id": 31204803, "comment_id": 50418434, "body": "Yes, that&#39;s a fair point. I&#39;d started from the original data sample. I&#39;ve amended further."}], "tags": [], "owner": {"reputation": 51521, "user_id": 2566198, "user_type": "registered", "accept_rate": 67, "profile_image": "https://i.stack.imgur.com/Y34ZA.jpg?s=128&g=1", "display_name": "Sobrique", "link": "https://stackoverflow.com/users/2566198/sobrique"}, "is_accepted": false, "score": 3, "last_activity_date": 1435931109, "last_edit_date": 1435931109, "creation_date": 1435920043, "answer_id": 31204803, "question_id": 31204764, "link": "https://stackoverflow.com/questions/31204764/identify-words-from-the-string-with-regex/31204803#31204803", "title": "Identify words from the string with regex", "body": "<p>Two options:</p>\n\n<ul>\n<li>use <code>[A-Za-z0-9]</code>. </li>\n<li>use the <code>i</code> regex modifier, to make it case insensitive. </li>\n</ul>\n\n<p>Bit like this:</p>\n\n<pre><code>/(\\$\\d+)|([A-Z0-9-]+)$/i\n</code></pre>\n\n<p>Edit: In light of your 'end of line' not being a firm anchor:</p>\n\n<pre><code>(\\$\\d+)|\\b([A-Z0-9]*-[A-Z0-9]*)\\b\n</code></pre>\n\n<p>This captures a sequence of letters and digits that <em>must</em> include a <code>-</code> symbol instead. </p>\n\n<p>But you can perhaps simplify - if you assume that the <em>only</em> things you are interested are the substrings <em>ending with</em> a digit (which your examples are)</p>\n\n<pre><code>/(\\S*\\d)/\n</code></pre>\n\n<p>Will match on both your lines:</p>\n\n<p><a href=\"https://regex101.com/r/jP1yX1/2\" rel=\"nofollow\">Demo</a></p>\n"}, {"comments": [{"owner": {"reputation": 39, "user_id": 5003158, "user_type": "registered", "accept_rate": 50, "profile_image": "https://lh3.googleusercontent.com/-Qrp3rZrRtD0/AAAAAAAAAAI/AAAAAAAAAGU/WTSvYm4YnnQ/photo.jpg?sz=128", "display_name": "jaydev thakkar", "link": "https://stackoverflow.com/users/5003158/jaydev-thakkar"}, "edited": false, "score": 0, "creation_date": 1435920428, "post_id": 31204812, "comment_id": 50411904, "body": "but if i write something after it then it will not works ... <b>hello my salary is $3400 and my account is SBI09-213-1234 thank you</b>"}, {"owner": {"reputation": 39, "user_id": 5003158, "user_type": "registered", "accept_rate": 50, "profile_image": "https://lh3.googleusercontent.com/-Qrp3rZrRtD0/AAAAAAAAAAI/AAAAAAAAAGU/WTSvYm4YnnQ/photo.jpg?sz=128", "display_name": "jaydev thakkar", "link": "https://stackoverflow.com/users/5003158/jaydev-thakkar"}, "edited": false, "score": 0, "creation_date": 1435920869, "post_id": 31204812, "comment_id": 50412170, "body": "thanx so much @musefan"}, {"owner": {"reputation": 481636, "user_id": 3832970, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/64323e6cf08401474da3bf770ea13b58?s=128&d=identicon&r=PG&f=1", "display_name": "Wiktor Stribi\u017cew", "link": "https://stackoverflow.com/users/3832970/wiktor-stribi%c5%bcew"}, "edited": false, "score": 0, "creation_date": 1435920882, "post_id": 31204812, "comment_id": 50412174, "body": "I think it will now work OK, if you provided more specifications of the account ID, it would be easier. I assume it consists of numbers and letters and then hyphentated number sequences."}], "tags": [], "owner": {"reputation": 481636, "user_id": 3832970, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/64323e6cf08401474da3bf770ea13b58?s=128&d=identicon&r=PG&f=1", "display_name": "Wiktor Stribi\u017cew", "link": "https://stackoverflow.com/users/3832970/wiktor-stribi%c5%bcew"}, "is_accepted": false, "score": 2, "last_activity_date": 1435920814, "last_edit_date": 1435920814, "creation_date": 1435920054, "answer_id": 31204812, "question_id": 31204764, "link": "https://stackoverflow.com/questions/31204764/identify-words-from-the-string-with-regex/31204812#31204812", "title": "Identify words from the string with regex", "body": "<p>You can use the following regex:</p>\n\n<pre><code>(?&lt;salary&gt;\\$\\d+)|\\b(?&lt;account&gt;[a-zA-Z0-9]+(?:-[0-9]+)+)\n</code></pre>\n\n<p>See <a href=\"https://regex101.com/r/lJ3iD3/5\" rel=\"nofollow\">demo</a></p>\n\n<p>This regex will match <code>$4500</code>s like substrings (everywhere in the string) and <code>ABC09-234-1234</code>-like strings.</p>\n"}, {"comments": [{"owner": {"reputation": 39, "user_id": 5003158, "user_type": "registered", "accept_rate": 50, "profile_image": "https://lh3.googleusercontent.com/-Qrp3rZrRtD0/AAAAAAAAAAI/AAAAAAAAAGU/WTSvYm4YnnQ/photo.jpg?sz=128", "display_name": "jaydev thakkar", "link": "https://stackoverflow.com/users/5003158/jaydev-thakkar"}, "edited": false, "score": 1, "creation_date": 1435922171, "post_id": 31205084, "comment_id": 50412914, "body": "its working perfectly ...  appriciate your help . :-) @musefan"}, {"owner": {"reputation": 45516, "user_id": 838807, "user_type": "registered", "accept_rate": 89, "profile_image": "https://www.gravatar.com/avatar/372d495ca83f81cfadb782894ee41b17?s=128&d=identicon&r=PG", "display_name": "musefan", "link": "https://stackoverflow.com/users/838807/musefan"}, "reply_to_user": {"reputation": 39, "user_id": 5003158, "user_type": "registered", "accept_rate": 50, "profile_image": "https://lh3.googleusercontent.com/-Qrp3rZrRtD0/AAAAAAAAAAI/AAAAAAAAAGU/WTSvYm4YnnQ/photo.jpg?sz=128", "display_name": "jaydev thakkar", "link": "https://stackoverflow.com/users/5003158/jaydev-thakkar"}, "edited": false, "score": 0, "creation_date": 1435922343, "post_id": 31205084, "comment_id": 50413023, "body": "@jaydevthakkar: No worries, just accept whichever answer solved the problem best for you"}], "tags": [], "owner": {"reputation": 45516, "user_id": 838807, "user_type": "registered", "accept_rate": 89, "profile_image": "https://www.gravatar.com/avatar/372d495ca83f81cfadb782894ee41b17?s=128&d=identicon&r=PG", "display_name": "musefan", "link": "https://stackoverflow.com/users/838807/musefan"}, "is_accepted": true, "score": 2, "last_activity_date": 1435920971, "last_edit_date": 1435920971, "creation_date": 1435920857, "answer_id": 31205084, "question_id": 31204764, "link": "https://stackoverflow.com/questions/31204764/identify-words-from-the-string-with-regex/31205084#31205084", "title": "Identify words from the string with regex", "body": "<p><strong>Assumptions</strong>:</p>\n\n<ul>\n<li>Money values will always start with <code>$</code> and not contain spaces of any\nother non-numeric character</li>\n<li>Account number is always formatted in 3 'chunks' separated by <code>-</code></li>\n</ul>\n\n<p><strong>Solution</strong>:</p>\n\n<pre><code>(\\$\\d+)|([A-Za-z0-9]+-[A-Za-z0-9]+-[A-Za-z0-9]+)\n</code></pre>\n\n<p><a href=\"https://regex101.com/r/uG5uB2/1\" rel=\"nofollow\">Here is a working example</a></p>\n"}, {"tags": [], "owner": {"reputation": 123805, "user_id": 622310, "user_type": "registered", "accept_rate": 33, "profile_image": "https://www.gravatar.com/avatar/8b6d35219e1808520bc238b28161e2e6?s=128&d=identicon&r=PG", "display_name": "Borodin", "link": "https://stackoverflow.com/users/622310/borodin"}, "is_accepted": false, "score": 1, "last_activity_date": 1435929160, "creation_date": 1435929160, "answer_id": 31207728, "question_id": 31204764, "link": "https://stackoverflow.com/questions/31204764/identify-words-from-the-string-with-regex/31207728#31207728", "title": "Identify words from the string with regex", "body": "<p>It's not very clear what you want, but this solution may help you</p>\n\n<pre><code>use strict;\nuse warnings;\n\nwhile ( &lt;DATA&gt; ) {\n  my @words = grep /\\d/, split;\n  print \"@words\\n\";\n}\n\n\n__DATA__\nyour salary $4500 is deposited in account ABC09-234-1234\nyour salary $4500 is deposited in account abc09-234-1234\n</code></pre>\n\n<h3>output</h3>\n\n<pre><code>$4500 ABC09-234-1234\n$4500 abc09-234-1234\n</code></pre>\n"}], "owner": {"reputation": 39, "user_id": 5003158, "user_type": "registered", "accept_rate": 50, "profile_image": "https://lh3.googleusercontent.com/-Qrp3rZrRtD0/AAAAAAAAAAI/AAAAAAAAAGU/WTSvYm4YnnQ/photo.jpg?sz=128", "display_name": "jaydev thakkar", "link": "https://stackoverflow.com/users/5003158/jaydev-thakkar"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 80, "favorite_count": 0, "accepted_answer_id": 31205084, "answer_count": 4, "score": 1, "last_activity_date": 1435938210, "creation_date": 1435919942, "last_edit_date": 1435938210, "question_id": 31204764, "link": "https://stackoverflow.com/questions/31204764/identify-words-from-the-string-with-regex", "title": "Identify words from the string with regex", "body": "<p>I have the following text:</p>\n\n<pre><code>your salary $4500 is deposited in account ABC09-234-1234\nyour salary $4500 is deposited in account abc09-234-1234\n</code></pre>\n\n<p>I try with <code>(\\d+)|([A-Z0-9-]+)</code> regex but it's not working with small letters.</p>\n\n<p>I want to fetch <code>$4500</code> and <code>Account Number</code>.\nPlease help me with it .</p>\n"}, {"tags": ["perl", "cookies", "session-cookies"], "comments": [{"owner": {"reputation": 51521, "user_id": 2566198, "user_type": "registered", "accept_rate": 67, "profile_image": "https://i.stack.imgur.com/Y34ZA.jpg?s=128&g=1", "display_name": "Sobrique", "link": "https://stackoverflow.com/users/2566198/sobrique"}, "edited": false, "score": 1, "creation_date": 1435919538, "post_id": 31204599, "comment_id": 50411413, "body": "I&#39;m not sure this question is really answerable. We don&#39;t really know enough about your environment to be able to say. How <i>do</i> you set the cookies? It could be that. It could be their ISP doing dirty things with caching and proxying."}, {"owner": {"reputation": 47165, "user_id": 5053002, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/ab6a9edfd2614014563162586c1b0697?s=128&d=identicon&r=PG", "display_name": "Jaromanda X", "link": "https://stackoverflow.com/users/5053002/jaromanda-x"}, "edited": false, "score": 1, "creation_date": 1435919623, "post_id": 31204599, "comment_id": 50411471, "body": "don&#39;t set cookies based on IP address - use session semantics in whatever server environment you use"}, {"owner": {"reputation": 793701, "user_id": 19068, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/1d2d3229ed1961d2bd81853242493247?s=128&d=identicon&r=PG", "display_name": "Quentin", "link": "https://stackoverflow.com/users/19068/quentin"}, "edited": false, "score": 3, "creation_date": 1435919792, "post_id": 31204599, "comment_id": 50411566, "body": "&quot;When user B connects and comes from the same IP address then user B gets user A\u2019s cookies&quot; \u2014 As Sobrique implied, this is not normal behaviour."}, {"owner": {"reputation": 158803, "user_id": 246342, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/a8ba0aea3f521082f18dd7c186e7d4c3?s=128&d=identicon&r=PG", "display_name": "Alex K.", "link": "https://stackoverflow.com/users/246342/alex-k"}, "edited": false, "score": 2, "creation_date": 1435919801, "post_id": 31204599, "comment_id": 50411570, "body": "That is not expected behaviour, if it were the fundamental concept of cookie based session state simply would not work; which it does.  Something else is wrong."}, {"owner": {"reputation": 20197, "user_id": 714240, "user_type": "registered", "accept_rate": 62, "profile_image": "https://www.gravatar.com/avatar/4eb32f377551f7e6e010823422de84fa?s=128&d=identicon&r=PG", "display_name": "MaxArt", "link": "https://stackoverflow.com/users/714240/maxart"}, "edited": false, "score": 0, "creation_date": 1435919884, "post_id": 31204599, "comment_id": 50411619, "body": "I guess it&#39;s the way you set cookies. Cookies aren&#39;t shared by their own nature: when you set a cookie, it&#39;s a <i>personal</i> cookie. Su just assign an unique id in that cookie and you should be golden - as far as they use just one browser, of course. Otherwise, it&#39;s the old problem of fingerprinting the device (no definite solution in a sandboxed browser environment)."}, {"owner": {"reputation": 158803, "user_id": 246342, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/a8ba0aea3f521082f18dd7c186e7d4c3?s=128&d=identicon&r=PG", "display_name": "Alex K.", "link": "https://stackoverflow.com/users/246342/alex-k"}, "edited": false, "score": 2, "creation_date": 1435920008, "post_id": 31204599, "comment_id": 50411674, "body": "Within your system are you making the assumption that an IP uniquely identifies a user?"}, {"owner": {"reputation": 51521, "user_id": 2566198, "user_type": "registered", "accept_rate": 67, "profile_image": "https://i.stack.imgur.com/Y34ZA.jpg?s=128&g=1", "display_name": "Sobrique", "link": "https://stackoverflow.com/users/2566198/sobrique"}, "edited": false, "score": 1, "creation_date": 1437997029, "post_id": 31204599, "comment_id": 51249214, "body": "How sure are you that your session IDs are unique? Have you tried capturing those?"}, {"owner": {"reputation": 21782, "user_id": 176646, "user_type": "registered", "accept_rate": 88, "profile_image": "https://i.stack.imgur.com/HsQyV.png?s=128&g=1", "display_name": "ThisSuitIsBlackNot", "link": "https://stackoverflow.com/users/176646/thissuitisblacknot"}, "reply_to_user": {"reputation": 51521, "user_id": 2566198, "user_type": "registered", "accept_rate": 67, "profile_image": "https://i.stack.imgur.com/Y34ZA.jpg?s=128&g=1", "display_name": "Sobrique", "link": "https://stackoverflow.com/users/2566198/sobrique"}, "edited": false, "score": 1, "creation_date": 1438018143, "post_id": 31204599, "comment_id": 51263681, "body": "Show the code for <code>get_random_number</code>. If multiple people use the same browser (which seems likely since Safari alone has over 40% of the mobile market share), you won&#39;t be getting much entropy out of the user agent string. (HTTP headers are easily forged, so you shouldn&#39;t rely on them to create your session IDs <i>anyway</i>.) @Sobrique may be on to something."}], "answers": [{"comments": [{"owner": {"reputation": 793701, "user_id": 19068, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/1d2d3229ed1961d2bd81853242493247?s=128&d=identicon&r=PG", "display_name": "Quentin", "link": "https://stackoverflow.com/users/19068/quentin"}, "edited": false, "score": 1, "creation_date": 1435920737, "post_id": 31204845, "comment_id": 50412093, "body": "&quot;Have you tried using sessions instead?&quot; \u2014 Sessions are associated with a browser by means of \u2026 a cookie."}, {"owner": {"reputation": 90, "user_id": 2916117, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/374e95eab12f152ded628a31faca57ad?s=128&d=identicon&r=PG&f=1", "display_name": "Sam King", "link": "https://stackoverflow.com/users/2916117/sam-king"}, "edited": false, "score": 0, "creation_date": 1435921061, "post_id": 31204845, "comment_id": 50412261, "body": "Yes, sessions do use cookies, but they take away the need to explicitly set the cookie yourself (in PHP at least)."}, {"owner": {"reputation": 6468, "user_id": 293652, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/820308d5db420d7f0e1d0ba97e09f520?s=128&d=identicon&r=PG", "display_name": "Grant McLean", "link": "https://stackoverflow.com/users/293652/grant-mclean"}, "edited": false, "score": 1, "creation_date": 1438033083, "post_id": 31204845, "comment_id": 51272047, "body": "Cookies <i>can</i> be created by client-side Javascript, <i>or</i> they can be generated on the server and sent to the client via a <code>Set-Cookie</code> header.  In either case it is the browser&#39;s job to store the cookie and return it in the <code>Cookie</code> header of subsequent requests."}], "tags": [], "owner": {"reputation": 90, "user_id": 2916117, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/374e95eab12f152ded628a31faca57ad?s=128&d=identicon&r=PG&f=1", "display_name": "Sam King", "link": "https://stackoverflow.com/users/2916117/sam-king"}, "is_accepted": false, "score": -4, "last_activity_date": 1435920130, "creation_date": 1435920130, "answer_id": 31204845, "question_id": 31204599, "link": "https://stackoverflow.com/questions/31204599/cookies-not-accurate-if-people-share-the-same-ip-address/31204845#31204845", "title": "Cookies not accurate if people share the same IP address?", "body": "<p>Cookies don't have anything to do with IP addresses, they are created client side and linked to the browser.  For instance if a user logged in to your website using Chrome they would have a different set of cookies than if the logged in using IE on the same computer (and IP address).  </p>\n\n<p>I suggest your problem may be to do with what you are putting in the cookies, which is completely up to you and your code.  </p>\n\n<p>Have you tried using sessions instead?  In PHP, you just need to call session_start() and then set data in the $_SESSION variable.</p>\n\n<p>If you post some example code of what you are doing, I might be able to give you a more specific answer.</p>\n"}, {"comments": [{"owner": {"reputation": 809, "user_id": 2870624, "user_type": "registered", "accept_rate": 27, "profile_image": "https://i.stack.imgur.com/XbhzQ.jpg?s=128&g=1", "display_name": "gpwr", "link": "https://stackoverflow.com/users/2870624/gpwr"}, "edited": false, "score": 0, "creation_date": 1435945341, "post_id": 31211016, "comment_id": 50425536, "body": "Thanks! I think I&#39;m in agreement with you on this as this is the only thing that makes sense. Can you perhaps explain a bit more what -expires=&gt;&#39;now -1d&#39; does? (I need the cookie to not expire immediately because I want to track future visits from the user)"}, {"owner": {"reputation": 320771, "user_id": 589924, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/b2cf53d5a3d25f95c0db4e025aed4153?s=128&d=identicon&r=PG", "display_name": "ikegami", "link": "https://stackoverflow.com/users/589924/ikegami"}, "reply_to_user": {"reputation": 809, "user_id": 2870624, "user_type": "registered", "accept_rate": 27, "profile_image": "https://i.stack.imgur.com/XbhzQ.jpg?s=128&g=1", "display_name": "gpwr", "link": "https://stackoverflow.com/users/2870624/gpwr"}, "edited": false, "score": 0, "creation_date": 1435948981, "post_id": 31211016, "comment_id": 50426741, "body": "That&#39;s when the <i>response</i> expires, not the cookie."}], "tags": [], "owner": {"reputation": 320771, "user_id": 589924, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/b2cf53d5a3d25f95c0db4e025aed4153?s=128&d=identicon&r=PG", "display_name": "ikegami", "link": "https://stackoverflow.com/users/589924/ikegami"}, "is_accepted": false, "score": 1, "last_activity_date": 1435940807, "creation_date": 1435940807, "answer_id": 31211016, "question_id": 31204599, "link": "https://stackoverflow.com/questions/31204599/cookies-not-accurate-if-people-share-the-same-ip-address/31211016#31211016", "title": "Cookies not accurate if people share the same IP address?", "body": "<p>I suspect that these users share a caching proxy. Be sure to disable caching of the response containing the <code>Set-Cookie</code> header. We do that by outputting the CGI header as follows:</p>\n\n<pre><code>print header(-type=&gt;'text/html', -expires=&gt;'now -1d', -cookie=&gt;\\@cookies);\n</code></pre>\n"}, {"tags": [], "owner": {"reputation": 35566, "user_id": 108741, "user_type": "registered", "accept_rate": 96, "profile_image": "https://www.gravatar.com/avatar/b3a383cf256d50683dfb00512e28f693?s=128&d=identicon&r=PG", "display_name": "SpliFF", "link": "https://stackoverflow.com/users/108741/spliff"}, "is_accepted": false, "score": 0, "last_activity_date": 1438430355, "last_edit_date": 1438430355, "creation_date": 1438430025, "answer_id": 31761537, "question_id": 31204599, "link": "https://stackoverflow.com/questions/31204599/cookies-not-accurate-if-people-share-the-same-ip-address/31761537#31761537", "title": "Cookies not accurate if people share the same IP address?", "body": "<p>I realise you consiider this issue solved by the Apache update but I assure you that's not what \"fixed\" it. Upgrading Apache has just resulted in some changes to your configuration and if you restore your original configuration the problem will re-occur in the new version too. In other words this also certainly isn't an Apache bug you're seeing but a problem with how you configured it.</p>\n\n<p>Basically it looks like you had a situation where Apache was setting its own cache headers in addition to or replacing the ones you set via Perl. You may have been doing this via <code>mod_headers</code> or through a mis-configuration of <code>mod_expires</code> or <code>mod-cache</code></p>\n"}], "owner": {"reputation": 809, "user_id": 2870624, "user_type": "registered", "accept_rate": 27, "profile_image": "https://i.stack.imgur.com/XbhzQ.jpg?s=128&g=1", "display_name": "gpwr", "link": "https://stackoverflow.com/users/2870624/gpwr"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 1206, "favorite_count": 0, "answer_count": 3, "score": 2, "last_activity_date": 1532623620, "creation_date": 1435919420, "last_edit_date": 1532623620, "question_id": 31204599, "link": "https://stackoverflow.com/questions/31204599/cookies-not-accurate-if-people-share-the-same-ip-address", "title": "Cookies not accurate if people share the same IP address?", "body": "<p>When user <strong>A</strong> connects to my web site I set a cookie to this user\u2019s browser to identify him and to track what he is doing to deliver content in accordance to his behaviour.</p>\n\n<p>When user <strong>B</strong> <em>connects and comes from the same IP</em> address then user <strong>B</strong> gets user <strong>A\u2019s</strong> cookies and vice versa. It would seem the cookies get mixed up because the web server is seeing one user instead of several as several users are coming from the same IP.</p>\n\n<p>This problem only occurs with one set of users that use the same ISP. This ISP assigns the same IP address (and hostname) to multiple accounts/users. (Many people share one IP) If two people (or more) from this same ISP on the same IP shows up on my site then cookie operations seems to be shared amongst them which is causing problems.</p>\n\n<p>What can be done to accurately track individual users when they are coming from the same IP (sharing an IP address) as cookies seem to not work properly when this happens? Perhaps the problem is coming from the ISP in question?</p>\n\n<p>Will SSL solve this? Perhaps it\u2019s the way I set the cookies? </p>\n\n<p>I'm posting an example below in Perl on how I set cookies: </p>\n\n<pre><code>use CGI;\n$q = CGI-&gt;new;\n\n### the routine &amp;get_random_number used below is a unique random number \n### generator that also uses $ENV{HTTP_USER_AGENT} for entropy\n### &amp;get_random_number returns a unique number (session id)\n$session_id = &amp;get_random_number; \n\n$thecookie1 = $q-&gt;cookie(-name=&gt;'something', -value=&gt; $session_id );\nprint $q-&gt;header(-cookie =&gt; $thecookie1); \n</code></pre>\n\n<p>This is the code that reads the cookie:</p>\n\n<pre><code>use CGI;\n$q = CGI-&gt;new;\n$thecookie = $q-&gt;cookie('something');\n</code></pre>\n\n<p><strong><em>The situation explained here in this post only happens with a specific ISP (All users using this ISP is coming from the same IP and has the same hostname) - The ISP shares a single IP with many users. This ISP provides mobile internet for cell phones.</em></strong></p>\n\n<p><strong>Update 1:</strong> </p>\n\n<p>I believe it must have something to do with a caching proxy server implemented by the ISP in question as this only happens with the ISP in question.</p>\n\n<p>I have done the following in the hopes of solving it: (The number of times the problem occurred decreased drastically) - The last change I made\nwas adding no-cache meta tags to the page setting the cookies which I hope completely solves it. Time will tell probably.</p>\n\n<p>From the page setting cookies I do the following:</p>\n\n<pre><code>print $q-&gt;header(-type=&gt;'text/html',\n-Pragma=&gt;'no-cache',\n-Cache_Control=&gt; 'no-store,no-cache,must-revalidate,post-check=0,pre-check=0',\n-expires=&gt;'now -1d',\n-cookie=&gt; $cookie\n); \n\nprint qq[\n&lt;head&gt;\n&lt;meta http-equiv=\"cache-control\" content=\"max-age=0\" /&gt;\n&lt;meta http-equiv=\"cache-control\" content=\"no-cache\" /&gt;\n&lt;meta http-equiv=\"expires\" content=\"0\" /&gt;\n&lt;meta http-equiv=\"expires\" content=\"Tue, 01 Jan 1980 1:00:00 GMT\" /&gt;\n&lt;meta http-equiv=\"pragma\" content=\"no-cache\" /&gt; \n\netc... etc...\n];\n</code></pre>\n\n<p><strong>Update 3:</strong> </p>\n\n<p>Upgrading Apache seemed to solve it but the problem came back. I did solve it but <strong>the only way I could get it solved was to move everything to https://</strong> </p>\n\n<p>Moving to https:// solved it period.</p>\n"}, {"tags": ["perl", "automation"], "comments": [{"owner": {"reputation": 3, "user_id": 5033740, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/f59b64a792e5c83752d1d47207ca0b19?s=128&d=identicon&r=PG&f=1", "display_name": "allhksar", "link": "https://stackoverflow.com/users/5033740/allhksar"}, "reply_to_user": {"reputation": 51521, "user_id": 2566198, "user_type": "registered", "accept_rate": 67, "profile_image": "https://i.stack.imgur.com/Y34ZA.jpg?s=128&g=1", "display_name": "Sobrique", "link": "https://stackoverflow.com/users/2566198/sobrique"}, "edited": false, "score": 0, "creation_date": 1435920233, "post_id": 31203922, "comment_id": 50411805, "body": "my algorithm is like this. First open and read the text file. then put the data in to array separating them by comma. Then using a temp array to store and insert the wanted strings sequently. But i emcountered a problem that the inserted string in temp array will go to next new line that i dont want."}, {"owner": {"reputation": 51521, "user_id": 2566198, "user_type": "registered", "accept_rate": 67, "profile_image": "https://i.stack.imgur.com/Y34ZA.jpg?s=128&g=1", "display_name": "Sobrique", "link": "https://stackoverflow.com/users/2566198/sobrique"}, "edited": false, "score": 1, "creation_date": 1435920885, "post_id": 31203922, "comment_id": 50412175, "body": "Edit your question, insert that and add the code you&#39;re using - you&#39;ll get better answers."}, {"owner": {"reputation": 1786, "user_id": 1820650, "user_type": "registered", "accept_rate": 90, "profile_image": "https://www.gravatar.com/avatar/ce47757627908a1013e0951158f4c2e6?s=128&d=identicon&r=PG", "display_name": "Dr.Avalanche", "link": "https://stackoverflow.com/users/1820650/dr-avalanche"}, "edited": false, "score": 1, "creation_date": 1435923902, "post_id": 31203922, "comment_id": 50413956, "body": "Post the actual code you have, those sparse lines won&#39;t even run (missing <code>;</code> at end of lines)."}], "answers": [{"comments": [{"owner": {"reputation": 123805, "user_id": 622310, "user_type": "registered", "accept_rate": 33, "profile_image": "https://www.gravatar.com/avatar/8b6d35219e1808520bc238b28161e2e6?s=128&d=identicon&r=PG", "display_name": "Borodin", "link": "https://stackoverflow.com/users/622310/borodin"}, "reply_to_user": {"reputation": 3, "user_id": 5033740, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/f59b64a792e5c83752d1d47207ca0b19?s=128&d=identicon&r=PG&f=1", "display_name": "allhksar", "link": "https://stackoverflow.com/users/5033740/allhksar"}, "edited": false, "score": 0, "creation_date": 1435938245, "post_id": 31207616, "comment_id": 50422541, "body": "@allhksar:  Do you know any Perl at all? It&#39;s reading from the DATA file handle for testing"}, {"owner": {"reputation": 3, "user_id": 5033740, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/f59b64a792e5c83752d1d47207ca0b19?s=128&d=identicon&r=PG&f=1", "display_name": "allhksar", "link": "https://stackoverflow.com/users/5033740/allhksar"}, "edited": false, "score": 0, "creation_date": 1435943870, "post_id": 31207616, "comment_id": 50424925, "body": "Sorry, I am actually new, And I see this DATA carefully, I miss yours , sorry. Many Thanks."}], "tags": [], "owner": {"reputation": 123805, "user_id": 622310, "user_type": "registered", "accept_rate": 33, "profile_image": "https://www.gravatar.com/avatar/8b6d35219e1808520bc238b28161e2e6?s=128&d=identicon&r=PG", "display_name": "Borodin", "link": "https://stackoverflow.com/users/622310/borodin"}, "is_accepted": true, "score": 0, "last_activity_date": 1435928811, "creation_date": 1435928811, "answer_id": 31207616, "question_id": 31203922, "link": "https://stackoverflow.com/questions/31203922/window-perl-script-for-appending-to-each-line-of-a-text-file/31207616#31207616", "title": "Window Perl script for appending to each line of a text file", "body": "<p>You haven't described your problem very well and seem to be ignoring the requests for additional information. However, here's a program that matches your description and may help you</p>\n\n<pre><code>use strict;\nuse warnings;\n\nmy @extra = (\n    [qw/ hi go /],\n    [qw/ banana car /],\n);\n\nmy @data = &lt;DATA&gt;;\nchomp @data;\n\nfor ( @extra ) {\n  my ($text1, $text2) = @$_;\n  $data[0] .= \",$text1\";\n  $data[1] .= \",$text2\";\n}\n\nprint \"$_\\n\" for @data;\n\n__DATA__\napple,123,456,orange\ncat,789,lion\n</code></pre>\n\n<h3>output</h3>\n\n<pre><code>apple,123,456,orange,hi,banana\ncat,789,lion,go,car\n</code></pre>\n"}], "owner": {"reputation": 3, "user_id": 5033740, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/f59b64a792e5c83752d1d47207ca0b19?s=128&d=identicon&r=PG&f=1", "display_name": "allhksar", "link": "https://stackoverflow.com/users/5033740/allhksar"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 239, "favorite_count": 0, "accepted_answer_id": 31207616, "answer_count": 1, "score": -1, "last_activity_date": 1435928811, "creation_date": 1435917518, "last_edit_date": 1435928374, "question_id": 31203922, "link": "https://stackoverflow.com/questions/31203922/window-perl-script-for-appending-to-each-line-of-a-text-file", "title": "Window Perl script for appending to each line of a text file", "body": "<p>I would like to know how to append to a text file using Perl in this condition.</p>\n\n<p>I have a text file, the content of it is:</p>\n\n<pre><code>apple,123,456,orange      \ncat,789,lion\n</code></pre>\n\n<p>I have a variable in a loop like this</p>\n\n<p>for 1st loop:</p>\n\n<pre><code>my $text1 = \"hi\"\nmy $text2 = \"go\"\n</code></pre>\n\n<p>for 2nd loop:</p>\n\n<pre><code>my $text1 = \"banana\"\nmy $text2 = \"car\"\n</code></pre>\n\n<p>I would like to have the result in the text file</p>\n\n<pre><code>apple,123,456,orange,hi,banana      \ncat,789,lion,go,car\n</code></pre>\n\n<p>How can I do this?</p>\n"}, {"tags": ["perl"], "comments": [{"owner": {"reputation": 320771, "user_id": 589924, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/b2cf53d5a3d25f95c0db4e025aed4153?s=128&d=identicon&r=PG", "display_name": "ikegami", "link": "https://stackoverflow.com/users/589924/ikegami"}, "edited": false, "score": 1, "creation_date": 1435937324, "post_id": 31203233, "comment_id": 50422052, "body": "<code>$self-&gt;LibDir&#47;somefile</code> is a syntax error, so no idea how it can &quot;locate C:/path1/path2/lib/somefile&quot;, whatever that means."}, {"owner": {"reputation": 311, "user_id": 5023617, "user_type": "registered", "accept_rate": 95, "profile_image": "https://www.gravatar.com/avatar/ddf595f5ae6cdc2279451e890fb502b7?s=128&d=identicon&r=PG&f=1", "display_name": "Anupama G", "link": "https://stackoverflow.com/users/5023617/anupama-g"}, "reply_to_user": {"reputation": 320771, "user_id": 589924, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/b2cf53d5a3d25f95c0db4e025aed4153?s=128&d=identicon&r=PG", "display_name": "ikegami", "link": "https://stackoverflow.com/users/589924/ikegami"}, "edited": false, "score": 0, "creation_date": 1436153083, "post_id": 31203233, "comment_id": 50473027, "body": "Oh, alright. My English isn&#39;t good. I suck at syntax <i>and</i> semantics, most probably. But I assumed one would get the drift. Perhaps you could help me out by giving me a hint as to what the error is. I&#39;m a beginner - I (again) assumed that some help here would be an encouragement to learn better."}, {"owner": {"reputation": 311, "user_id": 5023617, "user_type": "registered", "accept_rate": 95, "profile_image": "https://www.gravatar.com/avatar/ddf595f5ae6cdc2279451e890fb502b7?s=128&d=identicon&r=PG&f=1", "display_name": "Anupama G", "link": "https://stackoverflow.com/users/5023617/anupama-g"}, "reply_to_user": {"reputation": 320771, "user_id": 589924, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/b2cf53d5a3d25f95c0db4e025aed4153?s=128&d=identicon&r=PG", "display_name": "ikegami", "link": "https://stackoverflow.com/users/589924/ikegami"}, "edited": false, "score": 0, "creation_date": 1436153294, "post_id": 31203233, "comment_id": 50473066, "body": "RealBin in this context is C:/path1/path2 - hence LibDir is C:/path1/path2/lib, yeah? And if the word &quot;locate&quot; I used was incorrect, I confess I was influenced by the documentation, which describes FindBin as &quot;FindBin - <i>Locate</i> directory of original perl script&quot;"}, {"owner": {"reputation": 320771, "user_id": 589924, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/b2cf53d5a3d25f95c0db4e025aed4153?s=128&d=identicon&r=PG", "display_name": "ikegami", "link": "https://stackoverflow.com/users/589924/ikegami"}, "edited": false, "score": 0, "creation_date": 1436153559, "post_id": 31203233, "comment_id": 50473100, "body": "Re &quot;RealBin in this context is C:/path1/path2 - hence LibDir is C:/path1/path2/lib,&quot;, <code>$obj-&gt;LibDir</code> will return that, yes. <code>print $obj-&gt;LibDir, &quot;\\n&quot;;</code> would have told you that!"}, {"owner": {"reputation": 320771, "user_id": 589924, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/b2cf53d5a3d25f95c0db4e025aed4153?s=128&d=identicon&r=PG", "display_name": "ikegami", "link": "https://stackoverflow.com/users/589924/ikegami"}, "edited": false, "score": 0, "creation_date": 1436153988, "post_id": 31203233, "comment_id": 50473175, "body": "Re &quot;And if the word &quot;locate&quot; I used was incorrect&quot;, If you read again, you&#39;ll notice I was pointing out you claimed that invalid code worked. I didn&#39;t ask what you meant by &quot;locate&quot;."}, {"owner": {"reputation": 311, "user_id": 5023617, "user_type": "registered", "accept_rate": 95, "profile_image": "https://www.gravatar.com/avatar/ddf595f5ae6cdc2279451e890fb502b7?s=128&d=identicon&r=PG&f=1", "display_name": "Anupama G", "link": "https://stackoverflow.com/users/5023617/anupama-g"}, "reply_to_user": {"reputation": 320771, "user_id": 589924, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/b2cf53d5a3d25f95c0db4e025aed4153?s=128&d=identicon&r=PG", "display_name": "ikegami", "link": "https://stackoverflow.com/users/589924/ikegami"}, "edited": false, "score": 0, "creation_date": 1436154295, "post_id": 31203233, "comment_id": 50473234, "body": "As to why I need to <i>locate</i> it, I have to run a script toRun.pl (<code>system(&quot;perl $self-&gt;LibDir&#47;toRun.pl&quot;);</code>)  And that wasn&#39;t a question, just a statement. As I said earlier, my English isn&#39;t good. :)"}], "answers": [{"comments": [{"owner": {"reputation": 311, "user_id": 5023617, "user_type": "registered", "accept_rate": 95, "profile_image": "https://www.gravatar.com/avatar/ddf595f5ae6cdc2279451e890fb502b7?s=128&d=identicon&r=PG&f=1", "display_name": "Anupama G", "link": "https://stackoverflow.com/users/5023617/anupama-g"}, "edited": false, "score": 0, "creation_date": 1436154680, "post_id": 31237505, "comment_id": 50473309, "body": "Thank you. As was obvious, I wasn&#39;t sure what the syntax error was. I shall use this now. And, I&#39;m grateful for your response - being a novice, a bit of encouragement goes a long way for me. Thanks again, sir!"}, {"owner": {"reputation": 311, "user_id": 5023617, "user_type": "registered", "accept_rate": 95, "profile_image": "https://www.gravatar.com/avatar/ddf595f5ae6cdc2279451e890fb502b7?s=128&d=identicon&r=PG&f=1", "display_name": "Anupama G", "link": "https://stackoverflow.com/users/5023617/anupama-g"}, "edited": false, "score": 0, "creation_date": 1436155403, "post_id": 31237505, "comment_id": 50473440, "body": "Bewilderingly, the above seems to be a syntax error in my code - &quot;String found where operator expected&quot;. To make things clearer, here&#39;s the exact line from my code :                                                                       <code>my $pid = open($fhOut, &#39;-|&#39;, &quot;perl $self-&gt;LibDir . &#47;toRun.pl --option1 --option2&quot;);</code>"}, {"owner": {"reputation": 320771, "user_id": 589924, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/b2cf53d5a3d25f95c0db4e025aed4153?s=128&d=identicon&r=PG", "display_name": "ikegami", "link": "https://stackoverflow.com/users/589924/ikegami"}, "reply_to_user": {"reputation": 311, "user_id": 5023617, "user_type": "registered", "accept_rate": 95, "profile_image": "https://www.gravatar.com/avatar/ddf595f5ae6cdc2279451e890fb502b7?s=128&d=identicon&r=PG&f=1", "display_name": "Anupama G", "link": "https://stackoverflow.com/users/5023617/anupama-g"}, "edited": false, "score": 0, "creation_date": 1436155615, "post_id": 31237505, "comment_id": 50473477, "body": "You put code in double quotes again . You recreated the very same problem my answer fixes. <code>&quot;perl &quot; . $self-&gt;LibDir . &quot;&#47;toRun.pl ...&quot;</code>"}, {"owner": {"reputation": 311, "user_id": 5023617, "user_type": "registered", "accept_rate": 95, "profile_image": "https://www.gravatar.com/avatar/ddf595f5ae6cdc2279451e890fb502b7?s=128&d=identicon&r=PG&f=1", "display_name": "Anupama G", "link": "https://stackoverflow.com/users/5023617/anupama-g"}, "edited": false, "score": 0, "creation_date": 1436157606, "post_id": 31237505, "comment_id": 50473896, "body": "Ah, now it penetrates my skull. I corrected it. Thank you!"}, {"owner": {"reputation": 320771, "user_id": 589924, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/b2cf53d5a3d25f95c0db4e025aed4153?s=128&d=identicon&r=PG", "display_name": "ikegami", "link": "https://stackoverflow.com/users/589924/ikegami"}, "reply_to_user": {"reputation": 311, "user_id": 5023617, "user_type": "registered", "accept_rate": 95, "profile_image": "https://www.gravatar.com/avatar/ddf595f5ae6cdc2279451e890fb502b7?s=128&d=identicon&r=PG&f=1", "display_name": "Anupama G", "link": "https://stackoverflow.com/users/5023617/anupama-g"}, "edited": false, "score": 0, "creation_date": 1436157786, "post_id": 31237505, "comment_id": 50473929, "body": "Please note that <code>my $pid = open($fhOut, &#39;-|&#39;, &quot;perl $self-&gt;LibDir . &#47;toRun.pl --option1 --option2&quot;);</code> does not gives <code>String found where operator expected</code> or any other syntax error. You&#39;ve gotta stop saying stuff that isn&#39;t true!"}, {"owner": {"reputation": 311, "user_id": 5023617, "user_type": "registered", "accept_rate": 95, "profile_image": "https://www.gravatar.com/avatar/ddf595f5ae6cdc2279451e890fb502b7?s=128&d=identicon&r=PG&f=1", "display_name": "Anupama G", "link": "https://stackoverflow.com/users/5023617/anupama-g"}, "edited": false, "score": 0, "creation_date": 1436161513, "post_id": 31237505, "comment_id": 50474961, "body": "Sir, you&#39;ve helped me a great deal but I do resent being called a liar. I wonder what purpose you suppose I fulfill by &quot;saying stuff that isn&#39;t true&quot;? I <i>did</i> get the error I mentioned, and you did point out an error there : &quot;You put code in double quotes again&quot;."}, {"owner": {"reputation": 320771, "user_id": 589924, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/b2cf53d5a3d25f95c0db4e025aed4153?s=128&d=identicon&r=PG", "display_name": "ikegami", "link": "https://stackoverflow.com/users/589924/ikegami"}, "reply_to_user": {"reputation": 311, "user_id": 5023617, "user_type": "registered", "accept_rate": 95, "profile_image": "https://www.gravatar.com/avatar/ddf595f5ae6cdc2279451e890fb502b7?s=128&d=identicon&r=PG&f=1", "display_name": "Anupama G", "link": "https://stackoverflow.com/users/5023617/anupama-g"}, "edited": false, "score": 0, "creation_date": 1436161785, "post_id": 31237505, "comment_id": 50475047, "body": "I didn&#39;t say you were a liar, and I don&#39;t believe you are. I believe you aren&#39;t careful enough. Be more attentive. You did NOT get that error from THAT code."}], "tags": [], "owner": {"reputation": 320771, "user_id": 589924, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/b2cf53d5a3d25f95c0db4e025aed4153?s=128&d=identicon&r=PG", "display_name": "ikegami", "link": "https://stackoverflow.com/users/589924/ikegami"}, "is_accepted": true, "score": 1, "last_activity_date": 1436154734, "last_edit_date": 1436154734, "creation_date": 1436154517, "answer_id": 31237505, "question_id": 31203233, "link": "https://stackoverflow.com/questions/31203233/findbin-used-path-still-cannot-be-found/31237505#31237505", "title": "FindBin used, path still cannot be found", "body": "<p>Your question says you successfully used the following:</p>\n\n<pre><code>$self-&gt;LibDir/somefile\n</code></pre>\n\n<p>That's obviously not true, since it's not valid Perl. A comment clarified that you actually used the following:</p>\n\n<pre><code>\"$self-&gt;LibDir/somefile\"\n</code></pre>\n\n<p>Well, that's obviously not true either. While it's valid Perl, it doesn't do what you want at all. Printing out the result gives something like the following:</p>\n\n<pre><code>SDEBuild=HASH(0xXXXXXXXX)-&gt;LibDir/somefile\n</code></pre>\n\n<p>There are limits to the expressions you can interpolate into a string literal. The following will work:</p>\n\n<pre><code>$self-&gt;LibDir . \"/somefile\"\n</code></pre>\n"}], "owner": {"reputation": 311, "user_id": 5023617, "user_type": "registered", "accept_rate": 95, "profile_image": "https://www.gravatar.com/avatar/ddf595f5ae6cdc2279451e890fb502b7?s=128&d=identicon&r=PG&f=1", "display_name": "Anupama G", "link": "https://stackoverflow.com/users/5023617/anupama-g"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 180, "favorite_count": 0, "accepted_answer_id": 31237505, "answer_count": 1, "score": -1, "last_activity_date": 1436154734, "creation_date": 1435915574, "last_edit_date": 1435918063, "question_id": 31203233, "link": "https://stackoverflow.com/questions/31203233/findbin-used-path-still-cannot-be-found", "title": "FindBin used, path still cannot be found", "body": "<p>I have a .pl file as follows : </p>\n\n<pre><code>use strict;\nuse warnings;\nuse FindBin qw($RealBin); \nuse lib \"$RealBin/lib\", \"$RealBin\";\nuse SDEBuild; \n\n$|=1;\n\nmy $obj = SDEBuild-&gt;new(LibDir=&gt;\"$RealBin/lib\", LibDir1=&gt;\"$RealBin\");\n$obj-&gt;showGui(); \nexit 0;\n</code></pre>\n\n<p>The \"SDEBuild\" it uses is a .pm file, which <code>use</code>s <code>Moose</code> and has <code>LibDir</code> and <code>LibDir1</code> defined as follows : </p>\n\n<pre><code>has 'LibDir', is =&gt; 'rw', isa =&gt; 'Str', required =&gt; 1;\nhas 'LibDir1', is =&gt; 'rw', isa =&gt; 'Str', required =&gt; 1;\n</code></pre>\n\n<p><code>LibDir</code> is <code>C:/path1/path2/lib</code> and <code>LibDir1</code> is <code>C:/path1/path2</code>. </p>\n\n<p><code>$self-&gt;LibDir/somefile</code> does locate C:/path1/path2/lib/somefile. However, <code>$self-&gt;LibDir1/somefile1</code> does <em>not</em> locate C:/path1/path2/somefile1. The error is \"The system cannot find the path specified\". </p>\n\n<p>Any insights on this strange behavior? </p>\n"}, {"tags": ["xml", "perl"], "comments": [{"owner": {"reputation": 793701, "user_id": 19068, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/1d2d3229ed1961d2bd81853242493247?s=128&d=identicon&r=PG", "display_name": "Quentin", "link": "https://stackoverflow.com/users/19068/quentin"}, "edited": false, "score": 4, "creation_date": 1435915312, "post_id": 31203098, "comment_id": 50408834, "body": "&quot;The use of this module in new code is discouraged. Other modules are available which provide more straightforward and consistent interfaces. In particular, XML::LibXML is highly recommended&quot; \u2014 <a href=\"https://metacpan.org/pod/XML::Simple\" rel=\"nofollow noreferrer\">metacpan.org/pod/XML::Simple</a>"}, {"owner": {"reputation": 793701, "user_id": 19068, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/1d2d3229ed1961d2bd81853242493247?s=128&d=identicon&r=PG", "display_name": "Quentin", "link": "https://stackoverflow.com/users/19068/quentin"}, "edited": false, "score": 1, "creation_date": 1435915763, "post_id": 31203098, "comment_id": 50409126, "body": "I started trying to figure out what was wrong with the code (beyond the XML itself simply being invalid). That was the first time I&#39;ve ever really tried to use XML::Simple and it is utterly insane. Use a different module."}, {"owner": {"reputation": 51521, "user_id": 2566198, "user_type": "registered", "accept_rate": 67, "profile_image": "https://i.stack.imgur.com/Y34ZA.jpg?s=128&g=1", "display_name": "Sobrique", "link": "https://stackoverflow.com/users/2566198/sobrique"}, "edited": false, "score": 0, "creation_date": 1435915772, "post_id": 31203098, "comment_id": 50409135, "body": "What data are you trying to extract specifically? Can you give a sample output?"}, {"owner": {"reputation": 3, "user_id": 5077103, "user_type": "registered", "profile_image": "https://graph.facebook.com/10200999647508987/picture?type=large", "display_name": "Irwan Mulyawan", "link": "https://stackoverflow.com/users/5077103/irwan-mulyawan"}, "reply_to_user": {"reputation": 793701, "user_id": 19068, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/1d2d3229ed1961d2bd81853242493247?s=128&d=identicon&r=PG", "display_name": "Quentin", "link": "https://stackoverflow.com/users/19068/quentin"}, "edited": false, "score": 0, "creation_date": 1435935947, "post_id": 31203098, "comment_id": 50421317, "body": "Thank you for your suggest @Quentin"}, {"owner": {"reputation": 3, "user_id": 5077103, "user_type": "registered", "profile_image": "https://graph.facebook.com/10200999647508987/picture?type=large", "display_name": "Irwan Mulyawan", "link": "https://stackoverflow.com/users/5077103/irwan-mulyawan"}, "reply_to_user": {"reputation": 51521, "user_id": 2566198, "user_type": "registered", "accept_rate": 67, "profile_image": "https://i.stack.imgur.com/Y34ZA.jpg?s=128&g=1", "display_name": "Sobrique", "link": "https://stackoverflow.com/users/2566198/sobrique"}, "edited": false, "score": 0, "creation_date": 1435936073, "post_id": 31203098, "comment_id": 50421384, "body": "I was added a sample output. Can you help me? @Sobrique"}, {"owner": {"reputation": 51521, "user_id": 2566198, "user_type": "registered", "accept_rate": 67, "profile_image": "https://i.stack.imgur.com/Y34ZA.jpg?s=128&g=1", "display_name": "Sobrique", "link": "https://stackoverflow.com/users/2566198/sobrique"}, "edited": false, "score": 0, "creation_date": 1435938164, "post_id": 31203098, "comment_id": 50422497, "body": "<code>XML::Simple</code> is pretty horrible. It doesn&#39;t make <i>much</i> difference for trivial problems, but pretty much inherently it&#39;s &quot;converting&quot; to make arrays when XML doesn&#39;t have arrays at all. That&#39;s always going to end ugly."}], "answers": [{"comments": [{"owner": {"reputation": 3, "user_id": 5077103, "user_type": "registered", "profile_image": "https://graph.facebook.com/10200999647508987/picture?type=large", "display_name": "Irwan Mulyawan", "link": "https://stackoverflow.com/users/5077103/irwan-mulyawan"}, "edited": false, "score": 0, "creation_date": 1435936126, "post_id": 31203304, "comment_id": 50421415, "body": "Very big thanks for you, but I can`t test it today. I only can test it at Office Monday to Friday.  I hope it works."}], "tags": [], "owner": {"reputation": 51521, "user_id": 2566198, "user_type": "registered", "accept_rate": 67, "profile_image": "https://i.stack.imgur.com/Y34ZA.jpg?s=128&g=1", "display_name": "Sobrique", "link": "https://stackoverflow.com/users/2566198/sobrique"}, "is_accepted": false, "score": 2, "last_activity_date": 1435937765, "last_edit_date": 1495540697, "creation_date": 1435915750, "answer_id": 31203304, "question_id": 31203098, "link": "https://stackoverflow.com/questions/31203098/how-to-read-xml-which-is-node-have-value-in-perl/31203304#31203304", "title": "How to Read XML which is node have value in Perl", "body": "<p>OK, so - <code>XML::Simple</code> lies. It's not simple. It's <em>for</em> simple XML. And it's basically horrible, don't use it.</p>\n\n<blockquote>\n  <p>\"The use of this module in new code is discouraged. Other modules are available which provide more straightforward and consistent interfaces.\"</p>\n</blockquote>\n\n<p>I would suggest <code>XML::Twig</code> instead:</p>\n\n<pre><code>#!/usr/bin/env perl\nuse strict;\nuse warnings;\n\nuse XML::Twig; \n\nmy $twig = XML::Twig -&gt; new ( 'pretty_print' =&gt; 'indented_a', \n                              'twig_handlers' =&gt; { 'Row' =&gt; sub { $_ -&gt; print } } );\n$twig -&gt; parsefile ( \"yourXmlFile.xml\" );\n\n##print the whole thing, formatted:\n$twig -&gt; print; \n</code></pre>\n\n<p>Something like that. If you can give a desired input/output, then we can give you a better example to work from. </p>\n\n<p>Edit: Based on your example given:</p>\n\n<pre><code>#!/usr/bin/env perl\nuse strict;\nuse warnings;\n\nuse XML::Twig;\n\nmy $twig = XML::Twig-&gt;new(\n    'pretty_print'  =&gt; 'indented_a',\n    'twig_handlers' =&gt; {\n        'Row' =&gt; sub {\n            print $_ -&gt;first_child_text('product_id'),   \"\\n\";\n            print $_ -&gt;first_child_text('product_name'), \"\\n\";\n        }\n    }\n);\n$twig-&gt;parsefile(\"yourXmlFile.xml\");\n</code></pre>\n\n<p>Although note - I've had to correct your XML. If that's because of a typing problem on your end (and I'm assuming it is because of the dots) that's fine. If you have broken XML on the other hand, then you're scuppered, because broken XML is <em>supposed</em> to be fatal, and anything that parses them is <em>supposed</em> to break.</p>\n\n<p><a href=\"https://stackoverflow.com/questions/28909882/dealing-with-malformed-xml\">Dealing with malformed XML</a></p>\n\n<p><code>XML::Twig</code> allows you to set a handler that is called each time a particular element is seen. So in the example above, it's as simple as 'print every <code>Row</code> element. </p>\n\n<p>But you can set it to a subroutine:</p>\n\n<pre><code>'twig_handlers' =&gt; { 'Row' =&gt; \\&amp;process_row }\n</code></pre>\n\n<p>And then have a more detailed handler:</p>\n\n<pre><code>sub process_row {\n     my ( $twig, $row ) = @_; \n     print $row -&gt; att{'name'},\"\\n\";\n     print $row -&gt; first_child('product_name')-&gt;text,\"\\n\";\n}\n</code></pre>\n\n<p>You can also use <code>xpath</code> to find elements in your XML:</p>\n\n<pre><code>my $row23 = $twig -&gt; get_xpath ( 'row[@name=\"23\"]', 0 ); \n$row23 -&gt; print; \n</code></pre>\n"}, {"comments": [{"owner": {"reputation": 3, "user_id": 5077103, "user_type": "registered", "profile_image": "https://graph.facebook.com/10200999647508987/picture?type=large", "display_name": "Irwan Mulyawan", "link": "https://stackoverflow.com/users/5077103/irwan-mulyawan"}, "edited": false, "score": 0, "creation_date": 1436153315, "post_id": 31210244, "comment_id": 50473068, "body": "Sorry for my mistake.   Last question :  How can I save       say $_-&gt;findvalue(&#39;product_id&#39;);     say $_-&gt;findvalue(&#39;product_name&#39;);  To some variable, like :      my product_id     my product_name"}, {"owner": {"reputation": 62184, "user_id": 7231, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/81b76985f3985e35492e25880493d045?s=128&d=identicon&r=PG", "display_name": "Dave Cross", "link": "https://stackoverflow.com/users/7231/dave-cross"}, "reply_to_user": {"reputation": 3, "user_id": 5077103, "user_type": "registered", "profile_image": "https://graph.facebook.com/10200999647508987/picture?type=large", "display_name": "Irwan Mulyawan", "link": "https://stackoverflow.com/users/5077103/irwan-mulyawan"}, "edited": false, "score": 0, "creation_date": 1436159656, "post_id": 31210244, "comment_id": 50474386, "body": "<code>my $product_id = $_-&gt;findvalue(&#39;product_id&#39;)</code>. But if you don&#39;t know how to store values in variables, then you should really spend a few days reading <a href=\"http://shop.oreilly.com/product/0636920018452.do\" rel=\"nofollow noreferrer\">Learning Perl</a> before embarking on a project like this."}], "tags": [], "owner": {"reputation": 62184, "user_id": 7231, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/81b76985f3985e35492e25880493d045?s=128&d=identicon&r=PG", "display_name": "Dave Cross", "link": "https://stackoverflow.com/users/7231/dave-cross"}, "is_accepted": true, "score": 2, "last_activity_date": 1435937599, "creation_date": 1435937599, "answer_id": 31210244, "question_id": 31203098, "link": "https://stackoverflow.com/questions/31203098/how-to-read-xml-which-is-node-have-value-in-perl/31210244#31210244", "title": "How to Read XML which is node have value in Perl", "body": "<p>I like <a href=\"https://metacpan.org/release/XML-LibXML\" rel=\"nofollow\">XML::LibXML</a> for processing XML.</p>\n\n<pre><code>#!/usr/bin/perl\n\nuse strict;\nuse warnings;\nuse 5.010;\n\nuse XML::LibXML;\n\nmy $parser = XML::LibXML-&gt;new();\nmy $doc = $parser-&gt;parse_fh(*DATA);\n\nforeach ($doc-&gt;findnodes('//Row')) {\n  say $_-&gt;findvalue('product_id');\n  say $_-&gt;findvalue('product_name');\n}\n\n__END__\n&lt;Rows&gt;&lt;Row name=\"23\"&gt;&lt;product_id&gt;23&lt;/product_id&gt;&lt;product_name&gt;Final\nFantasy&lt;/product_name&gt;&lt;/Row&gt;\n&lt;Row name=\"25\"&gt;&lt;product_id&gt;25&lt;/product_id&gt;&lt;product_name&gt;Final\n&lt;/product_name&gt;&lt;/Row&gt;\n&lt;/Rows&gt;\n</code></pre>\n\n<p>The example you gave us wasn't valid XML. Some of the closing tags were incorrect. If you want our help, please paste the data into your question - don't try to re-type it.</p>\n"}], "owner": {"reputation": 3, "user_id": 5077103, "user_type": "registered", "profile_image": "https://graph.facebook.com/10200999647508987/picture?type=large", "display_name": "Irwan Mulyawan", "link": "https://stackoverflow.com/users/5077103/irwan-mulyawan"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 52, "favorite_count": 1, "accepted_answer_id": 31210244, "answer_count": 2, "score": -1, "last_activity_date": 1435937765, "creation_date": 1435915176, "last_edit_date": 1435935856, "question_id": 31203098, "link": "https://stackoverflow.com/questions/31203098/how-to-read-xml-which-is-node-have-value-in-perl", "title": "How to Read XML which is node have value in Perl", "body": "<p>I have a simple xml like this</p>\n\n<pre><code>&lt;Rows&gt;&lt;Row name=\"23\"&gt;&lt;product_id&gt;23&lt;/product_id&gt;&lt;product_name&gt;Final\nFantasy&lt;/product_name&gt;&lt;Row&gt;\n.\n.\n.\n&lt;Row name=\"25\"&gt;&lt;product_id&gt;25&lt;/product_id&gt;&lt;product_name&gt;Final\n&lt;/product_name&gt;&lt;Row&gt;\n&lt;Rows&gt;\n</code></pre>\n\n<p>I have the code like this :</p>\n\n<pre><code>use strict;\nuse XML::Simple;\nmy $source = XMLin(\"$source_of_file\");\n\n    my $v = $source-&gt;{Row};\n\n    if($v &amp;&amp; ref($v) eq 'ARRAY'){\n        my @v = @{$v};\n        foreach my $object(@v) {\n                my %data = %{$object};\n                my $id = $data{product_id};\n                print $id;\n\n                my $title;\n                unless (ref($data{product_name}) eq 'HASH') {\n                    $title  = $data{product_name};\n                }\n                print $title;\n\n        .....\n        }\n     }\n</code></pre>\n\n<p>I want to get output like this :</p>\n\n<pre><code>23\nFinal Fantasy\n...\n25\nFinal\n</code></pre>\n\n<p>Can you help me to get the data of XML? I have no idea.</p>\n"}, {"tags": ["python", "perl", "timeout", "backticks"], "comments": [{"owner": {"reputation": 4965, "user_id": 4806927, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/UoVTT.jpg?s=128&g=1", "display_name": "il_raffa", "link": "https://stackoverflow.com/users/4806927/il-raffa"}, "edited": false, "score": 1, "creation_date": 1435915794, "post_id": 31202997, "comment_id": 50409148, "body": "What does &quot;has failed&quot; means? Could you clarify the &quot;failure&quot;?"}, {"owner": {"reputation": 320771, "user_id": 589924, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/b2cf53d5a3d25f95c0db4e025aed4153?s=128&d=identicon&r=PG", "display_name": "ikegami", "link": "https://stackoverflow.com/users/589924/ikegami"}, "edited": false, "score": 0, "creation_date": 1435949357, "post_id": 31202997, "comment_id": 50426848, "body": "If <code>$outText</code> is undefined, check <code>$?</code> and <code>$!</code> as detailed in the documentation for <code>system</code>."}], "answers": [{"tags": [], "owner": {"reputation": 57, "user_id": 2730383, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/7252ce4aa002b9246b21b68f7eb71dbb?s=128&d=identicon&r=PG&f=1", "display_name": "JETHRO KANE", "link": "https://stackoverflow.com/users/2730383/jethro-kane"}, "is_accepted": false, "score": 0, "last_activity_date": 1436009846, "creation_date": 1436009846, "answer_id": 31220164, "question_id": 31202997, "link": "https://stackoverflow.com/questions/31202997/perl-using-backticks-times-out/31220164#31220164", "title": "perl using backticks times out", "body": "<p>yes, it was the script I was calling so what I did was say that if the results of $outText are null then repeat the whole process else continue...ie</p>\n\n<pre><code>my $outText=`sudo /usr/bin/python /usr/local/bin/tacms/scriptname.py $pNumber $crnNumber`\n\nif ($outText eq \"\"){\n    my $outText=`sudo /usr/bin/python /usr/local/bin/tacms/scriptname.py $pNumber $crnNumber`;\n    //use variable here;\n    }\nelse{\n        //use variable here;\n        }\n</code></pre>\n\n<p>At least this way my system would retry at least once before it fails. That was the best solution I could come up with. The python script being called was calling a web service in SOAP so sometimes, it would timeout.</p>\n"}], "owner": {"reputation": 57, "user_id": 2730383, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/7252ce4aa002b9246b21b68f7eb71dbb?s=128&d=identicon&r=PG&f=1", "display_name": "JETHRO KANE", "link": "https://stackoverflow.com/users/2730383/jethro-kane"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 153, "favorite_count": 0, "answer_count": 1, "score": 0, "last_activity_date": 1437787809, "creation_date": 1435914892, "question_id": 31202997, "link": "https://stackoverflow.com/questions/31202997/perl-using-backticks-times-out", "title": "perl using backticks times out", "body": "<p>I have a problem I am hoping someone can help with\nI am running a perl script that calls a python script with a set of arguments as below</p>\n\n<pre><code>my $outText=`sudo /usr/bin/python /usr/local/bin/tacms/scriptname.py $pNumber $crnNumber`\n</code></pre>\n\n<p>The scriptname is supposed to process information based on the arguments passed and then give a terminal output which is saved in the variable, outText.\nThere have been instances where this has failed and I suspect it is a timeout. So how would I increase the timeout period of the backticks</p>\n"}, {"tags": ["perl", "ftp"], "answers": [{"comments": [{"owner": {"reputation": 2739, "user_id": 1211189, "user_type": "registered", "accept_rate": 50, "profile_image": "https://www.gravatar.com/avatar/b0772c4cdd49ff7e402ff3b959d734a2?s=128&d=identicon&r=PG", "display_name": "Virus", "link": "https://stackoverflow.com/users/1211189/virus"}, "edited": false, "score": 0, "creation_date": 1435916539, "post_id": 31203063, "comment_id": 50409608, "body": "Need another advice. May be not the right way to do here. I have zip file created using Perl. I upload this via FTP again , which works fine. But whine I download the zip and try to open or extract it says &#39;invalid&#39;. Any idea?"}, {"owner": {"reputation": 50468, "user_id": 1331451, "user_type": "registered", "accept_rate": 96, "profile_image": "https://i.stack.imgur.com/4ZPmj.png?s=128&g=1", "display_name": "simbabque", "link": "https://stackoverflow.com/users/1331451/simbabque"}, "reply_to_user": {"reputation": 2739, "user_id": 1211189, "user_type": "registered", "accept_rate": 50, "profile_image": "https://www.gravatar.com/avatar/b0772c4cdd49ff7e402ff3b959d734a2?s=128&d=identicon&r=PG", "display_name": "Virus", "link": "https://stackoverflow.com/users/1211189/virus"}, "edited": false, "score": 1, "creation_date": 1435916620, "post_id": 31203063, "comment_id": 50409649, "body": "@Virus ask a new question for that please."}, {"owner": {"reputation": 2739, "user_id": 1211189, "user_type": "registered", "accept_rate": 50, "profile_image": "https://www.gravatar.com/avatar/b0772c4cdd49ff7e402ff3b959d734a2?s=128&d=identicon&r=PG", "display_name": "Virus", "link": "https://stackoverflow.com/users/1211189/virus"}, "edited": false, "score": 0, "creation_date": 1435916754, "post_id": 31203063, "comment_id": 50409727, "body": "sure. will ask a new one"}], "tags": [], "owner": {"reputation": 50468, "user_id": 1331451, "user_type": "registered", "accept_rate": 96, "profile_image": "https://i.stack.imgur.com/4ZPmj.png?s=128&g=1", "display_name": "simbabque", "link": "https://stackoverflow.com/users/1331451/simbabque"}, "is_accepted": true, "score": 4, "last_activity_date": 1435915093, "creation_date": 1435915093, "answer_id": 31203063, "question_id": 31202854, "link": "https://stackoverflow.com/questions/31202854/ftp-upload-directory-and-subdirectories-in-perl/31203063#31203063", "title": "FTP upload directory and subdirectories in Perl", "body": "<p>You need to change your own working directory temporarily.</p>\n\n<blockquote>\n<pre><code>rput ( [FlattenTree =&gt; 1] [,RemoveLocalFiles =&gt; 1] )\n</code></pre>\n  \n  <p>The recursive put\n  method call. This will recursively send the local current working\n  directory and its contents to the ftp object's current working\n  directory.</p>\n</blockquote>\n\n<p>Perl's <a href=\"http://perldoc.perl.org/functions/chdir.html\" rel=\"nofollow\">builtin <code>chdir</code></a> can be used to change the directory. Use the <a href=\"http://perldoc.perl.org/Cwd.html\" rel=\"nofollow\">Cwd module</a> to get the current one if you need to go back.</p>\n\n<pre><code>use strict; \nuse warnings;\nuse Cwd;\nuse Net::FTP::Recursive;\n\n# ...\n\n# get the current directory\nmy $old_current_dir = getcwd();\n\n# change directory to the one you want to upload\nchdir('path/to/updloaddir');\n\n# upload\n$ftp-&gt;rput();\n\n# change back\nchdir($old_current_dir);\n</code></pre>\n"}], "owner": {"reputation": 2739, "user_id": 1211189, "user_type": "registered", "accept_rate": 50, "profile_image": "https://www.gravatar.com/avatar/b0772c4cdd49ff7e402ff3b959d734a2?s=128&d=identicon&r=PG", "display_name": "Virus", "link": "https://stackoverflow.com/users/1211189/virus"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 583, "favorite_count": 0, "accepted_answer_id": 31203063, "answer_count": 1, "score": 2, "last_activity_date": 1589385378, "creation_date": 1435914528, "question_id": 31202854, "link": "https://stackoverflow.com/questions/31202854/ftp-upload-directory-and-subdirectories-in-perl", "title": "FTP upload directory and subdirectories in Perl", "body": "<p>I am trying to FTP a directory that has subdirectories with files and images using Perl. </p>\n\n<p>I tried using <code>$ftp-&gt;rput()</code> under <code>Net::FTP::Recursive</code>. But this uploads all files under local current working directory. </p>\n\n<p>Is there a way to give the path of local directory and all folders and files are uploaded. Please guide.</p>\n"}]