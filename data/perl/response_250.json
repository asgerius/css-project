[{"tags": ["perl", "visudo"], "comments": [{"owner": {"reputation": 8718, "user_id": 5848200, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/a8072aaf76dcb4fe5027964252f16382?s=128&d=identicon&r=PG", "display_name": "Grinnz", "link": "https://stackoverflow.com/users/5848200/grinnz"}, "edited": false, "score": 3, "creation_date": 1571863139, "post_id": 58530617, "comment_id": 103385181, "body": "Just adding <code>&#47;home&#47;user&#47;script.pl</code> as the command will allow calling it with any arguments."}, {"owner": {"reputation": 55, "user_id": 5081393, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/85bbc62de809cbb1c5778af99d57083a?s=128&d=identicon&r=PG&f=1", "display_name": "TheChosenOne", "link": "https://stackoverflow.com/users/5081393/thechosenone"}, "reply_to_user": {"reputation": 8718, "user_id": 5848200, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/a8072aaf76dcb4fe5027964252f16382?s=128&d=identicon&r=PG", "display_name": "Grinnz", "link": "https://stackoverflow.com/users/5848200/grinnz"}, "edited": false, "score": 0, "creation_date": 1571944789, "post_id": 58530617, "comment_id": 103416643, "body": "@Grinnz Thanks. I didn&#39;t know that. I will try it."}], "answers": [{"tags": [], "owner": {"reputation": 79, "user_id": 10391212, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/qYyry.png?s=128&g=1", "display_name": "T&#39;East", "link": "https://stackoverflow.com/users/10391212/teast"}, "is_accepted": false, "score": 0, "last_activity_date": 1571910774, "creation_date": 1571910774, "answer_id": 58538743, "question_id": 58530617, "link": "https://stackoverflow.com/questions/58530617/add-command-to-visudo-with-dynamic-parameters/58538743#58538743", "title": "Add command to visudo with dynamic parameters", "body": "<p>Why not use <strong>ARGV</strong>?\ncontent of <em>tmp/script.pl</em></p>\n\n<pre><code>use strict;\nuse warnings;\n\nprint join(',', @ARGV);\n\nexit;\n</code></pre>\n\n<p>and as result</p>\n\n<pre><code>$ sudo perl tmp/script.pl foo bar\n&gt; foo,bar\n</code></pre>\n\n<p>Or you can use <strong>Getopt::Long</strong> (extended processing of command line options)</p>\n"}], "owner": {"reputation": 55, "user_id": 5081393, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/85bbc62de809cbb1c5778af99d57083a?s=128&d=identicon&r=PG&f=1", "display_name": "TheChosenOne", "link": "https://stackoverflow.com/users/5081393/thechosenone"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 68, "favorite_count": 0, "answer_count": 1, "score": 0, "last_activity_date": 1571910774, "creation_date": 1571862824, "question_id": 58530617, "link": "https://stackoverflow.com/questions/58530617/add-command-to-visudo-with-dynamic-parameters", "title": "Add command to visudo with dynamic parameters", "body": "<p>I've writen a perl script that needs sudo rights, but it accepts parameters that are always different. eg</p>\n\n<pre><code>sudo /home/user/script.pl user\n</code></pre>\n\n<p>I guess adding this to visudo will not work. Is this possible?\nIf not I was thinking about maybe using something like a pipe to solve this problemm like:</p>\n\n<pre><code>echo user | sudo /home/user/script.pl\n</code></pre>\n\n<p>Is there a way to pass variables this way to a perl script?</p>\n\n<p>The only other option I see is writing the parameters to a file. Then I can still add the script to visudo.</p>\n"}, {"tags": ["python", "python-3.x", "perl"], "comments": [{"owner": {"reputation": 137100, "user_id": 874188, "user_type": "registered", "accept_rate": 62, "profile_image": "https://i.stack.imgur.com/ZcY77.png?s=128&g=1", "display_name": "tripleee", "link": "https://stackoverflow.com/users/874188/tripleee"}, "edited": false, "score": 0, "creation_date": 1571834363, "post_id": 58522863, "comment_id": 103371160, "body": "Do you really want <code>stderr</code> to contain <code>stdout</code>?"}, {"owner": {"reputation": 53041, "user_id": 4653379, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/b3953dbedd0dabff5cbc3db9b0835b14?s=128&d=identicon&r=PG&f=1", "display_name": "zdim", "link": "https://stackoverflow.com/users/4653379/zdim"}, "edited": false, "score": 0, "creation_date": 1571847493, "post_id": 58522863, "comment_id": 103378618, "body": "Did you try <code>loc_str.encode(&#39;utf-8&#39;)</code>. Here <code>loc_str</code> is the string with that location argument, then passed to subprocess"}], "answers": [{"comments": [{"owner": {"reputation": 137100, "user_id": 874188, "user_type": "registered", "accept_rate": 62, "profile_image": "https://i.stack.imgur.com/ZcY77.png?s=128&g=1", "display_name": "tripleee", "link": "https://stackoverflow.com/users/874188/tripleee"}, "edited": false, "score": 0, "creation_date": 1571834698, "post_id": 58523012, "comment_id": 103371329, "body": "For (much) more, see also <a href=\"https://stackoverflow.com/questions/4256107/running-bash-commands-in-python\" title=\"running bash commands in python\">stackoverflow.com/questions/4256107/&hellip;</a>"}, {"owner": {"reputation": 29, "user_id": 5810920, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/9c6376127f1f70e647ba67dfea847689?s=128&d=identicon&r=PG&f=1", "display_name": "Jens", "link": "https://stackoverflow.com/users/5810920/jens"}, "edited": false, "score": 0, "creation_date": 1571838020, "post_id": 58523012, "comment_id": 103373367, "body": "I tested all three options. The result is the same as without this keywords. No improvment."}, {"owner": {"reputation": 137100, "user_id": 874188, "user_type": "registered", "accept_rate": 62, "profile_image": "https://i.stack.imgur.com/ZcY77.png?s=128&g=1", "display_name": "tripleee", "link": "https://stackoverflow.com/users/874188/tripleee"}, "reply_to_user": {"reputation": 29, "user_id": 5810920, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/9c6376127f1f70e647ba67dfea847689?s=128&d=identicon&r=PG&f=1", "display_name": "Jens", "link": "https://stackoverflow.com/users/5810920/jens"}, "edited": false, "score": 0, "creation_date": 1571838409, "post_id": 58523012, "comment_id": 103373588, "body": "So what do you get back? A crash? Or junk data (what data exactly)?"}, {"owner": {"reputation": 29, "user_id": 5810920, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/9c6376127f1f70e647ba67dfea847689?s=128&d=identicon&r=PG&f=1", "display_name": "Jens", "link": "https://stackoverflow.com/users/5810920/jens"}, "edited": false, "score": 0, "creation_date": 1571839387, "post_id": 58523012, "comment_id": 103374189, "body": "My issue is not the result I get back. It is the argument the is passed to the appplication I call with subprocess. The special chars are sill readable in procmon and not encoded like perl it does."}, {"owner": {"reputation": 137100, "user_id": 874188, "user_type": "registered", "accept_rate": 62, "profile_image": "https://i.stack.imgur.com/ZcY77.png?s=128&g=1", "display_name": "tripleee", "link": "https://stackoverflow.com/users/874188/tripleee"}, "reply_to_user": {"reputation": 29, "user_id": 5810920, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/9c6376127f1f70e647ba67dfea847689?s=128&d=identicon&r=PG&f=1", "display_name": "Jens", "link": "https://stackoverflow.com/users/5810920/jens"}, "edited": false, "score": 0, "creation_date": 1571841864, "post_id": 58523012, "comment_id": 103375678, "body": "So you expect <code>&quot;-location:123&#225;456&#223;99&quot;</code> to be passed to the process as UTF-8? What is your system encoding?"}], "tags": [], "owner": {"reputation": 137100, "user_id": 874188, "user_type": "registered", "accept_rate": 62, "profile_image": "https://i.stack.imgur.com/ZcY77.png?s=128&g=1", "display_name": "tripleee", "link": "https://stackoverflow.com/users/874188/tripleee"}, "is_accepted": false, "score": 2, "last_activity_date": 1571834513, "last_edit_date": 1571834513, "creation_date": 1571834144, "answer_id": 58523012, "question_id": 58522863, "link": "https://stackoverflow.com/questions/58522863/subprocess-command-encoding/58523012#58523012", "title": "Subprocess command encoding", "body": "<p>In Python 3.3+ you can separately indicate that you expect text in a particular encoding. The keyword argument <code>universal_newlines=True</code> was renamed in 3.7 to the more accurate and transparent <code>text=True</code>.</p>\n\n<p>This keyword basically says \"just use whatever encoding is default on my system\" (so basically UTF-8 on anything reasonably modern except on Windows, where you get <del>some Cthulhu atrocity from the abyss</del> the system's default code page).</p>\n\n<p>In the absence of this keyword, subprocesses receive and return <code>bytes</code> in Python 3.</p>\n\n<p>Of course, if you know the encoding, you can also separately <code>.decode()</code> the <code>bytes</code> you get back.</p>\n\n<p>If you know the encoding it's probably useful to use the <code>encoding=</code> keyword argument (even if you assume it is also the system encoding; this was added in Python 3.6).</p>\n\n<pre><code>response = subprocess.check_output([...], text=True)\nresponse = subprocess.check_output([...], encoding='utf-8')\nresponse = subprocess.check_output([...]).decode('utf-8')\n</code></pre>\n"}, {"tags": [], "owner": {"reputation": 29, "user_id": 5810920, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/9c6376127f1f70e647ba67dfea847689?s=128&d=identicon&r=PG&f=1", "display_name": "Jens", "link": "https://stackoverflow.com/users/5810920/jens"}, "is_accepted": true, "score": 0, "last_activity_date": 1572961649, "creation_date": 1572961649, "answer_id": 58712703, "question_id": 58522863, "link": "https://stackoverflow.com/questions/58522863/subprocess-command-encoding/58712703#58712703", "title": "Subprocess command encoding", "body": "<p>The trick to get the script running, is to encode the arguments to 'utf8' and then to decode them to 'ansi'. </p>\n\n<pre class=\"lang-py prettyprint-override\"><code>command = r'C:\\PROGRAM FILES\\Application\\bin\\cfg.exe'\nargument = [\"-modify\", \"-location:123\u00e1456\u00df99\"]\n\nargument_ansi = []\nfor x in argument:\n    argument_ansi.append(x.encode('utf-8').decode('ansi', 'replace'))\ncmd = [command]\ncmd.extend(argument_ansi)\nresult = subprocess.check_output(cmd, shell=False, encoding=\"utf-8\", universal_newlines=True)\n</code></pre>\n"}], "owner": {"reputation": 29, "user_id": 5810920, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/9c6376127f1f70e647ba67dfea847689?s=128&d=identicon&r=PG&f=1", "display_name": "Jens", "link": "https://stackoverflow.com/users/5810920/jens"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 1244, "favorite_count": 0, "accepted_answer_id": 58712703, "answer_count": 2, "score": 2, "last_activity_date": 1572961649, "creation_date": 1571833610, "last_edit_date": 1571834518, "question_id": 58522863, "link": "https://stackoverflow.com/questions/58522863/subprocess-command-encoding", "title": "Subprocess command encoding", "body": "<p>I'm currently migration a script from Perl to Python3 (3.6.5). Is is running on Windows Server 2016. The Script builds a command line with arguments and executes the created string with <code>subprocess.check_output</code>. One of the argument option is called <code>-location:\"my street\"</code>. The location can contain special chars like umlaut (\u00e4\u00f6\u00df) or (\u00e1\u0160). </p>\n\n<p>When I run the Perl script the special chars are passed correctly to the application. When I run the Python script the special chars are replaced by question marks in the application. I think the called application needs a UTF-8 encoded argument string.</p>\n\n<p>The Perl script runs in UTF-8 mode</p>\n\n<pre class=\"lang-perl prettyprint-override\"><code>use UTF8;\nbinmode( STDOUT, \":utf-8\" );\n</code></pre>\n\n<p>The Python script is created with PyCharm, UTF-8 encoded and the first line of the script contains </p>\n\n<pre class=\"lang-py prettyprint-override\"><code># -*- coding: utf-8 -*-\n</code></pre>\n\n<p>I tried several things to set encoding to UTF-8 for the subprocess arguments, but it didn't work. I used <code>procmon.exe</code> to compare the application call between the Perl and Python script. What I can see is that the command line that is displayed for Python subprocess call in procmon is readable for me. The working Perl call not. The location string looks for the perl script in procmon looks like this:</p>\n\n<p><code>-location:\"HQ/\u00c3\u00a4\u00c3\u00b6\u00c3\u00b6\u00c3\u00b6Stra\u00c3\u0178e\"</code>.</p>\n\n<p>The Perl code looks like this:</p>\n\n<pre class=\"lang-perl prettyprint-override\"><code>$command = \"C:\\\\PROGRAM FILES\\\\Application\\\\bin\\\\cfg.exe\"\n$operand = \"-modify -location:123\u00e1456\u00df99\"\n$result  = `$command $operand`;\n</code></pre>\n\n<p>The Python code looks like this:</p>\n\n<pre class=\"lang-py prettyprint-override\"><code># -*- coding: utf-8 -*-\nimport subprocess\nresult = subprocess.check_output(['C:\\\\PROGRAM FILES\\\\Application\\\\bin\\\\cfg.exe', \"-modify\", \"-location:123\u00e1456\u00df99\"], shell=False, stderr=subprocess.STDOUT)\n</code></pre>\n\n<p>Any idea what I have to do that the python arguments are passed correctly to the application?</p>\n"}, {"tags": ["regex", "perl", "match"], "answers": [{"tags": [], "owner": {"reputation": 481636, "user_id": 3832970, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/64323e6cf08401474da3bf770ea13b58?s=128&d=identicon&r=PG&f=1", "display_name": "Wiktor Stribi\u017cew", "link": "https://stackoverflow.com/users/3832970/wiktor-stribi%c5%bcew"}, "is_accepted": true, "score": 3, "last_activity_date": 1571827124, "creation_date": 1571827124, "answer_id": 58520986, "question_id": 58520892, "link": "https://stackoverflow.com/questions/58520892/perl-regular-expression-is-not-matching-with-w/58520986#58520986", "title": "Perl regular expression is not matching with \\w+", "body": "<p>The <code>(\\w*)</code> matches 0 or more word chars, and that is <code>data1</code> at the location where the regex finds this match. The rest of the text up to <code>(</code> is not captured into this group.</p>\n\n<p>Use</p>\n\n<pre><code>/header5\\s[-\\s]*([^(]*)/\n</code></pre>\n\n<p>See the <a href=\"https://ideone.com/KUvIni\" rel=\"nofollow noreferrer\">online demo</a></p>\n\n<p><strong>Pattern details</strong></p>\n\n<ul>\n<li><code>header5</code> - a literal string of text</li>\n<li><code>\\s</code> - a whitespace</li>\n<li><code>[-\\s]*</code> - 0 or more hyphens or whitespaces</li>\n<li><code>([^(]*)</code> - Group 1 (<code>$1</code> contents): 0 or more chars other than <code>(</code>.</li>\n</ul>\n"}], "owner": {"reputation": 2402, "user_id": 6124824, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/dc81b6fda21a94d3f337e2e28463295e?s=128&d=identicon&r=PG", "display_name": "vkk05", "link": "https://stackoverflow.com/users/6124824/vkk05"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 76, "favorite_count": 0, "accepted_answer_id": 58520986, "answer_count": 1, "score": 1, "last_activity_date": 1571844048, "creation_date": 1571826837, "last_edit_date": 1571844048, "question_id": 58520892, "link": "https://stackoverflow.com/questions/58520892/perl-regular-expression-is-not-matching-with-w", "title": "Perl regular expression is not matching with \\w+", "body": "<p>I am trying to extract some data from scalar variable which are database values:</p>\n\n<p>Copying my code here</p>\n\n<pre><code>$data = \"header1        header2     header3     header4     header5 \n-------------------------------------------------------\ndata1           1a          1b          1c          1d\ndata2           2a          2b          2c          2d\ndata3           3a          3b          3c          3d\n(3 rows affected)\";\n\nif ($data =~ /header5\\s+[\\-|\\s+]*(\\w*)[^(]*/){\n    print $1;\n    print \"inside if\\n\";\n}\nelse {\n    print \"else part\\n\";   \n}\n</code></pre>\n\n<p>Here I want to take out below data:</p>\n\n<pre><code>data1           1a          1b          1c          1d\ndata2           2a          2b          2c          2d\ndata3           3a          3b          3c          3d\n</code></pre>\n\n<p>For that I have used a regular expression.</p>\n\n<p>But here I could see <code>$1</code> prints <code>data1</code> instead of values till last.</p>\n\n<p>How can I have all the (3 rows of data) data in <code>$1</code>? Please help with the regex.</p>\n"}, {"tags": ["json", "rest", "perl", "curl"], "comments": [{"owner": {"reputation": 32176, "user_id": 2173773, "user_type": "registered", "accept_rate": 86, "profile_image": "https://i.stack.imgur.com/M8yh6.jpg?s=128&g=1", "display_name": "H&#229;kon H&#230;gland", "link": "https://stackoverflow.com/users/2173773/h%c3%a5kon-h%c3%a6gland"}, "edited": false, "score": 1, "creation_date": 1571809882, "post_id": 58515210, "comment_id": 103358804, "body": "See also <a href=\"https://stackoverflow.com/q/4199266/2173773\">How can I make a JSON POST request with LWP?</a>"}, {"owner": {"reputation": 62184, "user_id": 7231, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/81b76985f3985e35492e25880493d045?s=128&d=identicon&r=PG", "display_name": "Dave Cross", "link": "https://stackoverflow.com/users/7231/dave-cross"}, "edited": false, "score": 0, "creation_date": 1571818423, "post_id": 58515210, "comment_id": 103362700, "body": "Your question seems slightly confused. That&#39;s probably because you&#39;re unclear on the terminology. I think you want to POST data <b>to</b> a REST API, not write a REST API. In that case, you don&#39;t need a framework, you just need an HTTP client like <a href=\"https://metacpan.org/pod/LWP\" rel=\"nofollow noreferrer\">LWP</a> and, probably, a <a href=\"https://metacpan.org/pod/JSON\" rel=\"nofollow noreferrer\">JSON encoder</a>."}, {"owner": {"reputation": 275, "user_id": 1844133, "user_type": "registered", "accept_rate": 80, "profile_image": "https://www.gravatar.com/avatar/c13faf5d793b7d30b2f2e12ff2751de7?s=128&d=identicon&r=PG&f=1", "display_name": "Manoj Agarwal", "link": "https://stackoverflow.com/users/1844133/manoj-agarwal"}, "edited": false, "score": 0, "creation_date": 1571822094, "post_id": 58515210, "comment_id": 103364581, "body": "I need to write a REST API, that will be used by the other application to POST data.  The other application that will POST data will not be under my control. Though for testing, I will need a POST mechanism also, else how will I test it."}], "answers": [{"tags": [], "owner": {"reputation": 38072, "user_id": 46395, "user_type": "registered", "accept_rate": 71, "profile_image": "https://www.gravatar.com/avatar/5ce828f20abb195ef5d971205ee36c27?s=128&d=identicon&r=PG", "display_name": "daxim", "link": "https://stackoverflow.com/users/46395/daxim"}, "is_accepted": true, "score": 1, "last_activity_date": 1571827263, "creation_date": 1571827263, "answer_id": 58521019, "question_id": 58515210, "link": "https://stackoverflow.com/questions/58515210/how-to-post-json-file-using-rest-api-in-perl/58521019#58521019", "title": "How to POST json file using REST API in Perl?", "body": "<p>You don't strictly need a framework. It's easiest to get started with <a href=\"http://p3rl.org/Plack::Request\" rel=\"nofollow noreferrer\">Plack::Request</a>. The next step up would be adding a router like <a href=\"http://p3rl.org/Router::Resource\" rel=\"nofollow noreferrer\">Router::Resource</a>. Upgrading to a framework makes sense when you find this style of programming too tedious.</p>\n\n<pre><code>use Plack::Request qw();\nuse HTTP::Status qw(\n    HTTP_NO_CONTENT HTTP_NOT_FOUND HTTP_METHOD_NOT_ALLOWED\n    HTTP_UNSUPPORTED_MEDIA_TYPE HTTP_UNPROCESSABLE_ENTITY\n    HTTP_INTERNAL_SERVER_ERROR\n);\nuse JSON::MaybeXS qw(decode_json);\nuse Syntax::Keyword::Try;\nrequire IO::Handle;\nuse DBI qw();\nrequire DBD::Pg;\n\nmy $app = sub {\n    my ($env) = @_;\n    my $req = Plack::Request-&gt;new($env);\n    return $req-&gt;new_response(HTTP_NOT_FOUND)-&gt;finalize\n        unless '/receive_json' eq $req-&gt;path_info;\n    return $req-&gt;new_response(HTTP_METHOD_NOT_ALLOWED)-&gt;finalize\n        unless 'POST' eq $req-&gt;method;\n    return $req-&gt;new_response(HTTP_UNSUPPORTED_MEDIA_TYPE)-&gt;finalize\n        unless $req-&gt;content_type =~ m'^application/.*json$';\n    my $body = do {\n        IO::Handle-&gt;input_record_separator(undef);\n        $req-&gt;input-&gt;getline;\n    };\n    my $json;\n    try {\n        $json = decode_json $body;\n    } catch {\n        warn \"could not decode JSON: $@\";\n        return $req-&gt;new_response(HTTP_UNPROCESSABLE_ENTITY)-&gt;finalize;\n    }\n    my $dbh;\n    try {\n        $dbh = DBI-&gt;connect(\n            \"dbi:Pg:dbname=$ENV{PGDATABASE}\",\n            $ENV{PGUSER},\n            $ENV{PGPASSWORD},\n            {pg_enable_utf8 =&gt; 1, RaiseError =&gt; 1}\n        );\n    } catch {\n        warn \"could not connect to database: $@\";\n        return $req-&gt;new_response(HTTP_INTERNAL_SERVER_ERROR)-&gt;finalize;\n    }\n    my $sth = $dbh-&gt;prepare(\n        'insert into sometable(EmpName, EmpDesig) values (?,?)'\n    );\n    try {\n        $sth-&gt;execute($json-&gt;{EmpName}, $json-&gt;{EmpDesig});\n    } catch {\n        warn \"could not insert: $@\";\n        return $req-&gt;new_response(HTTP_INTERNAL_SERVER_ERROR)-&gt;finalize;\n    }\n    return $req-&gt;new_response(HTTP_NO_CONTENT)-&gt;finalize;\n};\n</code></pre>\n"}, {"comments": [{"owner": {"reputation": 275, "user_id": 1844133, "user_type": "registered", "accept_rate": 80, "profile_image": "https://www.gravatar.com/avatar/c13faf5d793b7d30b2f2e12ff2751de7?s=128&d=identicon&r=PG&f=1", "display_name": "Manoj Agarwal", "link": "https://stackoverflow.com/users/1844133/manoj-agarwal"}, "edited": false, "score": 0, "creation_date": 1571917784, "post_id": 58521229, "comment_id": 103403186, "body": "Thanks for your suggestion, I will definitely have a look into Dancer framework and dive further into it."}], "tags": [], "owner": {"reputation": 1625, "user_id": 227965, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/14ac83c8df1bedae5919f851734ba781?s=128&d=identicon&r=PG", "display_name": "Uncle Arnie", "link": "https://stackoverflow.com/users/227965/uncle-arnie"}, "is_accepted": false, "score": 2, "last_activity_date": 1571828014, "creation_date": 1571828014, "answer_id": 58521229, "question_id": 58515210, "link": "https://stackoverflow.com/questions/58515210/how-to-post-json-file-using-rest-api-in-perl/58521229#58521229", "title": "How to POST json file using REST API in Perl?", "body": "<p>If you do want to use a framework, it'll simplify your code a lot.</p>\n\n<p>You could do it with the <a href=\"https://metacpan.org/pod/Dancer\" rel=\"nofollow noreferrer\">Dancer</a> framework in a single line:</p>\n\n<pre><code>perl -e 'use Dancer; any \"/\", sub{ warn to_dumper from_json request-&gt;body; return \"ok\" }; start'\n</code></pre>\n\n<p>However, this answer is just a start, it's not robust nor contains any checks.</p>\n"}], "owner": {"reputation": 275, "user_id": 1844133, "user_type": "registered", "accept_rate": 80, "profile_image": "https://www.gravatar.com/avatar/c13faf5d793b7d30b2f2e12ff2751de7?s=128&d=identicon&r=PG&f=1", "display_name": "Manoj Agarwal", "link": "https://stackoverflow.com/users/1844133/manoj-agarwal"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 443, "favorite_count": 0, "accepted_answer_id": 58521019, "answer_count": 2, "score": 0, "last_activity_date": 1571828014, "creation_date": 1571802651, "question_id": 58515210, "link": "https://stackoverflow.com/questions/58515210/how-to-post-json-file-using-rest-api-in-perl", "title": "How to POST json file using REST API in Perl?", "body": "<p>There is an application that generates multiple records per day, containing different types of attributes like EmpName, EmpDesig etc. and stores it in JSON format.  This application then needs to make a call towards external REST api to POST this data that is in JSON format.  The external application will read the JSON file, parse it, and store each record in the PostgreSQL database.  How do I write a REST api in Perl for this requirement? Do I need any Perl framework like Mojolicious or Catalyst or Perl modules like JSON, Rest::Client are enough for this requirement? Please suggest.</p>\n"}, {"tags": ["perl", "awk", "sed"], "comments": [{"owner": {"reputation": 205702, "user_id": 7552, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/b60298053f87465641c1b1192338c8cd?s=128&d=identicon&r=PG", "display_name": "glenn jackman", "link": "https://stackoverflow.com/users/7552/glenn-jackman"}, "edited": false, "score": 0, "creation_date": 1571765418, "post_id": 58509443, "comment_id": 103346824, "body": "Use one of <code>-p</code> or <code>-n</code> but not both."}, {"owner": {"reputation": 95936, "user_id": 5866580, "user_type": "registered", "accept_rate": 25, "profile_image": "https://www.gravatar.com/avatar/1de2cd722d865edac1575102a48ecc0a?s=128&d=identicon&r=PG&f=1", "display_name": "RavinderSingh13", "link": "https://stackoverflow.com/users/5866580/ravindersingh13"}, "edited": false, "score": 1, "creation_date": 1571766493, "post_id": 58509443, "comment_id": 103347250, "body": "By seeing your profile came to know that you hardly select any answer as correct, so please give it sometime and when you see some answers select anyone of them as correct one by accepting it."}, {"owner": {"reputation": 320771, "user_id": 589924, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/b2cf53d5a3d25f95c0db4e025aed4153?s=128&d=identicon&r=PG", "display_name": "ikegami", "link": "https://stackoverflow.com/users/589924/ikegami"}, "reply_to_user": {"reputation": 205702, "user_id": 7552, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/b60298053f87465641c1b1192338c8cd?s=128&d=identicon&r=PG", "display_name": "glenn jackman", "link": "https://stackoverflow.com/users/7552/glenn-jackman"}, "edited": false, "score": 1, "creation_date": 1571781197, "post_id": 58509443, "comment_id": 103352878, "body": "@glenn jackman. You can use both. It&#39;s simply unecessary because using <code>-p</code> turns on <code>-n</code>."}], "answers": [{"comments": [{"owner": {"reputation": 320771, "user_id": 589924, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/b2cf53d5a3d25f95c0db4e025aed4153?s=128&d=identicon&r=PG", "display_name": "ikegami", "link": "https://stackoverflow.com/users/589924/ikegami"}, "edited": false, "score": 1, "creation_date": 1571781093, "post_id": 58509537, "comment_id": 103352849, "body": "<code>perl -pe&#39;s&#47;\\|\\h*$&#47;&#47;&#39;</code>"}], "tags": [], "owner": {"reputation": 205702, "user_id": 7552, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/b60298053f87465641c1b1192338c8cd?s=128&d=identicon&r=PG", "display_name": "glenn jackman", "link": "https://stackoverflow.com/users/7552/glenn-jackman"}, "is_accepted": false, "score": 2, "last_activity_date": 1571765395, "creation_date": 1571765395, "answer_id": 58509537, "question_id": 58509443, "link": "https://stackoverflow.com/questions/58509443/remove-last-delimiter-in-sed-awk-perl/58509537#58509537", "title": "remove last delimiter in sed/awk/perl", "body": "<pre><code>perl -lpe 's/\\|\\s*$//' file\n</code></pre>\n\n<p>will do it. That only removes pipes followed by optional whitespace at the end of each line. Note the <code>$</code> line anchor.</p>\n\n<p>I added the <code>-l</code> since each line's newline will get removes by the <code>s///</code> command, and <code>-l</code> will put it back.</p>\n"}, {"comments": [{"owner": {"reputation": 1139, "user_id": 1485267, "user_type": "registered", "accept_rate": 0, "profile_image": "https://www.gravatar.com/avatar/e8d2c4c986a7a1d64ddf42b4059d7b9a?s=128&d=identicon&r=PG", "display_name": "user1485267", "link": "https://stackoverflow.com/users/1485267/user1485267"}, "edited": false, "score": 0, "creation_date": 1571811171, "post_id": 58509637, "comment_id": 103359282, "body": "This works as per the above scenarios. I see in your command three pipes has enclosed awk &#39;{gsub(/\\|$|\\| +$/,&quot;&quot;)} 1&#39; . In the command how can i figure it out which position is delimiter"}, {"owner": {"reputation": 95936, "user_id": 5866580, "user_type": "registered", "accept_rate": 25, "profile_image": "https://www.gravatar.com/avatar/1de2cd722d865edac1575102a48ecc0a?s=128&d=identicon&r=PG&f=1", "display_name": "RavinderSingh13", "link": "https://stackoverflow.com/users/5866580/ravindersingh13"}, "reply_to_user": {"reputation": 1139, "user_id": 1485267, "user_type": "registered", "accept_rate": 0, "profile_image": "https://www.gravatar.com/avatar/e8d2c4c986a7a1d64ddf42b4059d7b9a?s=128&d=identicon&r=PG", "display_name": "user1485267", "link": "https://stackoverflow.com/users/1485267/user1485267"}, "edited": false, "score": 0, "creation_date": 1571811393, "post_id": 58509637, "comment_id": 103359366, "body": "@user1485267, so <code>|</code> when it is escaped by doing <code>\\|</code> it means we are letting <code>awk</code> know that look for exact character <code>|</code> and when I am mentioning  only <code>|</code> means use either previous regex mentioned before it or use regex mentioned after it, like an OR condition. Lemme know in case of any queries please?"}, {"owner": {"reputation": 95936, "user_id": 5866580, "user_type": "registered", "accept_rate": 25, "profile_image": "https://www.gravatar.com/avatar/1de2cd722d865edac1575102a48ecc0a?s=128&d=identicon&r=PG&f=1", "display_name": "RavinderSingh13", "link": "https://stackoverflow.com/users/5866580/ravindersingh13"}, "reply_to_user": {"reputation": 1139, "user_id": 1485267, "user_type": "registered", "accept_rate": 0, "profile_image": "https://www.gravatar.com/avatar/e8d2c4c986a7a1d64ddf42b4059d7b9a?s=128&d=identicon&r=PG", "display_name": "user1485267", "link": "https://stackoverflow.com/users/1485267/user1485267"}, "edited": false, "score": 0, "creation_date": 1571812013, "post_id": 58509637, "comment_id": 103359594, "body": "@user1485267, I have added explanation of it successfully now, kindly go through it and lemme know in case of any queries."}, {"owner": {"reputation": 1139, "user_id": 1485267, "user_type": "registered", "accept_rate": 0, "profile_image": "https://www.gravatar.com/avatar/e8d2c4c986a7a1d64ddf42b4059d7b9a?s=128&d=identicon&r=PG", "display_name": "user1485267", "link": "https://stackoverflow.com/users/1485267/user1485267"}, "edited": false, "score": 0, "creation_date": 1572090849, "post_id": 58509637, "comment_id": 103458057, "body": "Thanks Ravinder for detailed explanation"}], "tags": [], "owner": {"reputation": 95936, "user_id": 5866580, "user_type": "registered", "accept_rate": 25, "profile_image": "https://www.gravatar.com/avatar/1de2cd722d865edac1575102a48ecc0a?s=128&d=identicon&r=PG&f=1", "display_name": "RavinderSingh13", "link": "https://stackoverflow.com/users/5866580/ravindersingh13"}, "is_accepted": true, "score": 2, "last_activity_date": 1571811938, "last_edit_date": 1571811938, "creation_date": 1571765864, "answer_id": 58509637, "question_id": 58509443, "link": "https://stackoverflow.com/questions/58509443/remove-last-delimiter-in-sed-awk-perl/58509637#58509637", "title": "remove last delimiter in sed/awk/perl", "body": "<p>Could you please try following.</p>\n\n<pre><code>awk '{gsub(/\\|$|\\| +$/,\"\")} 1'  Input_file\n</code></pre>\n\n<p>Explanation:</p>\n\n<p><code>gsub</code> is <code>awk</code> function which Globally substitute matched pattern with mentioned value.</p>\n\n<p><strong><em>Explanation of regex:</em></strong></p>\n\n<p><code>/\\|$|\\| +$/</code>:  Here there are 2 parts of regex. First is <code>/\\|$</code> and second is <code>+$</code> which is segrigated with <code>|</code> where 1st regex is for removing <code>|</code> from last of the line and second regex removes <code>|</code> with space at last. So it basically takes care of both conditions successfully.</p>\n"}, {"comments": [{"owner": {"reputation": 31251, "user_id": 4162356, "user_type": "registered", "accept_rate": 92, "profile_image": "https://i.stack.imgur.com/dGhuV.png?s=128&g=1", "display_name": "James Brown", "link": "https://stackoverflow.com/users/4162356/james-brown"}, "edited": false, "score": 2, "creation_date": 1571771274, "post_id": 58510704, "comment_id": 103349207, "body": "2019-10-22. The day sed &gt; awk."}, {"owner": {"reputation": 320771, "user_id": 589924, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/b2cf53d5a3d25f95c0db4e025aed4153?s=128&d=identicon&r=PG", "display_name": "ikegami", "link": "https://stackoverflow.com/users/589924/ikegami"}, "edited": false, "score": 1, "creation_date": 1571781135, "post_id": 58510704, "comment_id": 103352867, "body": "Doesn&#39;t work if there&#39;s trailing whitespace, which I think they OP said is possible."}], "tags": [], "owner": {"reputation": 155597, "user_id": 1745001, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/99a3ebae89496eb16afe453aae97f5be?s=128&d=identicon&r=PG", "display_name": "Ed Morton", "link": "https://stackoverflow.com/users/1745001/ed-morton"}, "is_accepted": false, "score": 2, "last_activity_date": 1571770657, "creation_date": 1571770657, "answer_id": 58510704, "question_id": 58509443, "link": "https://stackoverflow.com/questions/58509443/remove-last-delimiter-in-sed-awk-perl/58510704#58510704", "title": "remove last delimiter in sed/awk/perl", "body": "<p>All you need is this:</p>\n\n<pre><code>sed 's/|$//'\n</code></pre>\n"}, {"tags": [], "owner": {"reputation": 20517, "user_id": 8344060, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/1UbPk.png?s=128&g=1", "display_name": "kvantour", "link": "https://stackoverflow.com/users/8344060/kvantour"}, "is_accepted": false, "score": 0, "last_activity_date": 1571817922, "creation_date": 1571817922, "answer_id": 58518261, "question_id": 58509443, "link": "https://stackoverflow.com/questions/58509443/remove-last-delimiter-in-sed-awk-perl/58518261#58518261", "title": "remove last delimiter in sed/awk/perl", "body": "<p>A bit more generic. Let's assume you have the same problem, but with different field separators in different files. Some of these field separators are regular expressions (e.g. a sequence of blanks), others are just a single character <code>c</code>. With a tiny little awk program you can get far:</p>\n\n<pre><code># remove_last_empty_field.awk\n# 1. Get the correct `fs`\nBEGIN { fs=FS; if(length(FS)==1) fs=(FS==\" \") ? \"[[:blank:]]+\" : \"[\"FS\"]\" }\n# remove the empty field\n{ sub(fs\"$\",\"\") }\n# Print the current record\n1\n</code></pre>\n\n<p>Now you can run this on your various files as:</p>\n\n<pre><code>$ awk -f remove_last_empty_field.awk f1.txt\n$ awk -f remove_last_empty_field.awk FS=\"|\" f2.txt\n$ awk -f remove_last_empty_field.awk FS=\"[|.*]\" f3.txt\n</code></pre>\n"}, {"tags": [], "owner": {"reputation": 59167, "user_id": 134713, "user_type": "registered", "accept_rate": 72, "profile_image": "https://www.gravatar.com/avatar/5143bb3f979be36f8508d2605b215a4d?s=128&d=identicon&r=PG", "display_name": "Vijay", "link": "https://stackoverflow.com/users/134713/vijay"}, "is_accepted": false, "score": 0, "last_activity_date": 1571917163, "creation_date": 1571917163, "answer_id": 58540578, "question_id": 58509443, "link": "https://stackoverflow.com/questions/58509443/remove-last-delimiter-in-sed-awk-perl/58540578#58540578", "title": "remove last delimiter in sed/awk/perl", "body": "<pre><code>perl -pi -e 's/\\|$//' Your_FIle\n</code></pre>\n"}], "owner": {"reputation": 1139, "user_id": 1485267, "user_type": "registered", "accept_rate": 0, "profile_image": "https://www.gravatar.com/avatar/e8d2c4c986a7a1d64ddf42b4059d7b9a?s=128&d=identicon&r=PG", "display_name": "user1485267", "link": "https://stackoverflow.com/users/1485267/user1485267"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 336, "favorite_count": 0, "accepted_answer_id": 58509637, "answer_count": 5, "score": 1, "last_activity_date": 1571917163, "creation_date": 1571765040, "question_id": 58509443, "link": "https://stackoverflow.com/questions/58509443/remove-last-delimiter-in-sed-awk-perl", "title": "remove last delimiter in sed/awk/perl", "body": "<p>An input file is given, each line of which contains delimited data with extra delimiter at the end in data/header with or without enclosures.</p>\n\n<p>Extra delimiter at the end it can contain with/without spaces.</p>\n\n<p>Scenario 1 : Header &amp; Data contain extra delimiter at the end</p>\n\n<pre><code>eno|ename|address|\nA|B|C|\nD|E|F|\n</code></pre>\n\n<p>Scenario 2 : Header doesn't contain extra delimiter at the end</p>\n\n<pre><code>eno|ename|address\nA|B|C|\nD|E|F|\n</code></pre>\n\n<p>Scenario 3 : With enclosures</p>\n\n<pre><code>eno|ename|address|\n1|2|\"A\"|\n</code></pre>\n\n<p>Final output has to be like </p>\n\n<p>Scenario 1 :</p>\n\n<pre><code>eno|ename|address\nA|B|C\nD|E|F\n</code></pre>\n\n<p>Scenario 2 :</p>\n\n<pre><code>eno|ename|address\nA|B|C\nD|E|F\n</code></pre>\n\n<p>Scenario 3 :</p>\n\n<pre><code>eno|ename|address\n1|2|\"A\"\n</code></pre>\n\n<p>Solution which i have tried so far. But below solution won't work for all three scenarios is there anyway which i can make single command to support all the three scenarios in Sed/Awk/Perl </p>\n\n<pre><code>perl -pne 's/(.*)\\|/$1/' filename\n</code></pre>\n"}, {"tags": ["perl"], "answers": [{"tags": [], "owner": {"reputation": 320771, "user_id": 589924, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/b2cf53d5a3d25f95c0db4e025aed4153?s=128&d=identicon&r=PG", "display_name": "ikegami", "link": "https://stackoverflow.com/users/589924/ikegami"}, "is_accepted": true, "score": 5, "last_activity_date": 1571749290, "last_edit_date": 1571749290, "creation_date": 1571747757, "answer_id": 58504465, "question_id": 58504377, "link": "https://stackoverflow.com/questions/58504377/perl-inc-not-updated-when-running-with-t-flag/58504465#58504465", "title": "Perl INC not updated when running with T flag", "body": "<p>No. That would defy the point. The whole purpose of <code>-T</code> is to avoid letting the caller execute arbitrary code, and giving them control of <code>@INC</code> would allow just that.</p>\n\n<pre><code>$ cat script\n#!/usr/bin/perl\nuse strict;\nuse warnings;\nprint \"Hello World\\n\";\n\n$ printf '%s' 'print \"owned\\n\";' &gt;strict.pm\n\n$ PERL5LIB=. script\nowned\nHello World\n</code></pre>\n\n<p>Since <code>-T</code> is usually used by setuid scripts, allowing the caller to modify <code>@INC</code> would allow the caller to execute arbitrary code as the script owner.</p>\n\n<p>You can use either of the following (but the script's setuid and setgid bits will be ignored):</p>\n\n<pre><code>perl -I/some/folder -T script\n</code></pre>\n\n<p>&#x20;</p>\n\n<pre><code>perl -Mlib=/some/folder -T script\n</code></pre>\n\n<p>You could add the following to the script itself if it's a setuid/setgid script:</p>\n\n<pre><code>use lib '/some/folder';\n</code></pre>\n\n<p>Make sure to use an absolute path, or you'll effectively invalidate <code>-T</code>.</p>\n"}, {"comments": [{"owner": {"reputation": 320771, "user_id": 589924, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/b2cf53d5a3d25f95c0db4e025aed4153?s=128&d=identicon&r=PG", "display_name": "ikegami", "link": "https://stackoverflow.com/users/589924/ikegami"}, "edited": false, "score": 1, "creation_date": 1571749054, "post_id": 58504695, "comment_id": 103337982, "body": "That first sentence is partially outdated. <code>.</code> is no longer in <code>@INC</code> to be removed."}, {"owner": {"reputation": 62184, "user_id": 7231, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/81b76985f3985e35492e25880493d045?s=128&d=identicon&r=PG", "display_name": "Dave Cross", "link": "https://stackoverflow.com/users/7231/dave-cross"}, "reply_to_user": {"reputation": 320771, "user_id": 589924, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/b2cf53d5a3d25f95c0db4e025aed4153?s=128&d=identicon&r=PG", "display_name": "ikegami", "link": "https://stackoverflow.com/users/589924/ikegami"}, "edited": false, "score": 4, "creation_date": 1571749302, "post_id": 58504695, "comment_id": 103338112, "body": "@ikegami: Yeah, I realised that as I posted it. I&#39;ll work up a documentation patch."}], "tags": [], "owner": {"reputation": 62184, "user_id": 7231, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/81b76985f3985e35492e25880493d045?s=128&d=identicon&r=PG", "display_name": "Dave Cross", "link": "https://stackoverflow.com/users/7231/dave-cross"}, "is_accepted": false, "score": 5, "last_activity_date": 1571751147, "last_edit_date": 1592644375, "creation_date": 1571748473, "answer_id": 58504695, "question_id": 58504377, "link": "https://stackoverflow.com/questions/58504377/perl-inc-not-updated-when-running-with-t-flag/58504695#58504695", "title": "Perl INC not updated when running with T flag", "body": "<p>The <a href=\"https://perldoc.perl.org/perlsec.html\" rel=\"nofollow noreferrer\">perlsec man page</a> has this to say on <a href=\"https://perldoc.perl.org/perlsec.html#Taint-mode-and-%40INC\" rel=\"nofollow noreferrer\">Taint mode and @INC</a>.</p>\n<blockquote>\n<p>When the taint mode (<code>-T</code> ) is in effect, the &quot;.&quot; directory is removed from <code>@INC</code>, and the environment variables <code>PERL5LIB</code> and <code>PERLLIB</code> are ignored by Perl. You can still adjust <code>@INC</code> from outside the program by using the <code>-I</code> command line option as explained in <a href=\"https://perldoc.perl.org/perlrun.html\" rel=\"nofollow noreferrer\">perlrun</a>. The two environment variables are ignored because they are obscured, and a user running a program could be unaware that they are set, whereas the -I option is clearly visible and therefore permitted.</p>\n<p>Another way to modify <code>@INC</code> without modifying the program, is to use the <code>lib</code> pragma, e.g.:</p>\n<pre><code> perl -Mlib=/foo program\n</code></pre>\n<p>The benefit of using <code>-Mlib=/foo</code> over <code>-I/foo</code>, is that the former will automagically remove any duplicated directories, while the latter will not.</p>\n<p>Note that if a tainted string is added to <code>@INC</code>, the following problem will be reported:</p>\n<blockquote>\n<p>Insecure dependency in require while running with -T switch</p>\n</blockquote>\n</blockquote>\n"}], "owner": {"reputation": 1885, "user_id": 1536133, "user_type": "registered", "accept_rate": 45, "profile_image": "https://www.gravatar.com/avatar/8b7d4d7ca49c05b83a6a296c27df27b0?s=128&d=identicon&r=PG", "display_name": "Gabriel Furstenheim", "link": "https://stackoverflow.com/users/1536133/gabriel-furstenheim"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 68, "favorite_count": 0, "accepted_answer_id": 58504465, "answer_count": 2, "score": 0, "last_activity_date": 1571751147, "creation_date": 1571747514, "question_id": 58504377, "link": "https://stackoverflow.com/questions/58504377/perl-inc-not-updated-when-running-with-t-flag", "title": "Perl INC not updated when running with T flag", "body": "<p>I'm trying to modify PERLLIB in order to give access to the folder where a certain library is.</p>\n\n<p>In order to do so I'm modifying the PERLLIB variable:</p>\n\n<pre><code>export PERLLIB=/some/folder\n</code></pre>\n\n<p>Now if I do:</p>\n\n<pre><code>perl\nprint \"$_\\n\" for @INC;\n</code></pre>\n\n<p>The new folder is displayed. However, If I do</p>\n\n<pre><code>perl -wT\nprint \"$_\\n\" for @INC;\n</code></pre>\n\n<p>The new folder is not displayed. Is there a way to modify INC variable with env variables with the T flag?</p>\n"}, {"tags": ["regex", "perl"], "answers": [{"comments": [{"owner": {"reputation": 133, "user_id": 10500417, "user_type": "registered", "profile_image": "https://lh3.googleusercontent.com/-lqs2wuzb-tM/AAAAAAAAAAI/AAAAAAAAAAA/AAN31DVT92HTL5zhuL3XXyhn4btxjojg6A/mo/photo.jpg?sz=128", "display_name": "SaAsh Techs", "link": "https://stackoverflow.com/users/10500417/saash-techs"}, "edited": false, "score": 0, "creation_date": 1571750278, "post_id": 58504494, "comment_id": 103338708, "body": "Thanks @Dave Cross"}], "tags": [], "owner": {"reputation": 62184, "user_id": 7231, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/81b76985f3985e35492e25880493d045?s=128&d=identicon&r=PG", "display_name": "Dave Cross", "link": "https://stackoverflow.com/users/7231/dave-cross"}, "is_accepted": true, "score": 2, "last_activity_date": 1571747863, "creation_date": 1571747863, "answer_id": 58504494, "question_id": 58503932, "link": "https://stackoverflow.com/questions/58503932/skip-the-values-in-array-and-loop-and-directly-show-in-output/58504494#58504494", "title": "Skip the values in array and loop and directly show in output", "body": "<p>This seems to do what you want. Note that \"VAT\" is not in the <code>%ignore</code> hash, but is still left untouched.</p>\n\n<p>I've written it as a Perl test file, so it can be run using <code>prove</code>. But you should be able to reuse the <code>transform()</code> subroutine in your code.</p>\n\n<pre><code>#!/usr/bin/perl\n\nuse strict;\nuse warnings;\n\nuse Test::More;\n\nwhile (&lt;DATA&gt;) {\n  chomp;\n\n  my ($input, $expected) = split /,/;\n  is(transform($input), $expected);\n}\n\ndone_testing();\n\nsub transform {\n  my ($in) = @_;\n\n  my %ignore = map { $_ =&gt; 1 } qw[GST AZ];\n\n  my @in_array = split /\\s+/, $in;\n\n  # Do nothing if we have a single word\n  return $in if @in_array == 1;\n\n  return join ' ', map {\n    $ignore{$_} ? $_ : ucfirst lc $_;\n  } @in_array;\n}\n\n__DATA__\nAUSTRALIA GST,Australia GST\nAZ COUNTY TAX,AZ County Tax\nNEW ZEALAND GST,New Zealand GST\nVAT,VAT\nSGST,SGST\n</code></pre>\n"}], "owner": {"reputation": 133, "user_id": 10500417, "user_type": "registered", "profile_image": "https://lh3.googleusercontent.com/-lqs2wuzb-tM/AAAAAAAAAAI/AAAAAAAAAAA/AAN31DVT92HTL5zhuL3XXyhn4btxjojg6A/mo/photo.jpg?sz=128", "display_name": "SaAsh Techs", "link": "https://stackoverflow.com/users/10500417/saash-techs"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 50, "favorite_count": 0, "accepted_answer_id": 58504494, "answer_count": 1, "score": -1, "last_activity_date": 1571752667, "creation_date": 1571745950, "last_edit_date": 1571752667, "question_id": 58503932, "link": "https://stackoverflow.com/questions/58503932/skip-the-values-in-array-and-loop-and-directly-show-in-output", "title": "Skip the values in array and loop and directly show in output", "body": "<p>I want to display the Tax Description of different countries for my new website in Perl.  Based on the respective countries from the API I use, I get all the Tax Description in Uppercase letters. </p>\n\n<p>I do not want single words VAT or SGST in array. I want the words of only multiple tax description words in array. Instead it should directly show what\u2019s in the <code>$word</code></p>\n\n<p>Following is the code:</p>\n\n<pre><code>sub maybe_ucfirst {\n    my ($word) = @_;\n    my %ignore = map { $_ =&gt; undef } qw(GST AZ);\n    return exists $ignore{$word} ? $word : ucfirst Lc $word;\n}\n\nmy @inputs = ('AUSTRALIA GST', 'AZ COUNTY TAX', 'NEW ZEALAND GST', 'VAT');\nfor my $s (@inputs) {\n    $s =~ s/(\\w+)/maybe_ucfirst($1)/eg;\n    say $s;\n}\n\n</code></pre>\n\n<p>Here are the inputs and outputs:</p>\n\n<pre><code>1: Input: \u2018AUSTRALIA GST\u2019\n\nOutput: \u2018Australia GST\u2019\n\n\n2. Input: \u2018AZ COUNTY TAX\u2019\n\nOutput: \u2018AZ County Tax\u2019\n\n\n3. Input: \u2018NEW ZEALAND GST\u2019\n\nOutput: \u2018New Zealand GST\u2019\n\n\n4. Input: \u2018VAT\u2019\n\nOutput: \u2018Vat\u2019\n\n\n5. Input: \u2018SGST\u2019\n\nOutput: \u2018Sgst\u2019\n\n</code></pre>\n\n<p>I want the output for single tax description words as:</p>\n\n<pre><code>1. Input: \u2018SGST\u2019\n\nOutput: \u2018SGST\u2019\n\n2. Input: \u2018VAT\u2019\n\nOutput: \u2018VAT\u2019\n\n</code></pre>\n\n<p>Can anyone please help as to how to fix this in Perl? </p>\n"}, {"tags": ["linux", "perl", "coredump"], "comments": [{"owner": {"reputation": 38072, "user_id": 46395, "user_type": "registered", "accept_rate": 71, "profile_image": "https://www.gravatar.com/avatar/5ce828f20abb195ef5d971205ee36c27?s=128&d=identicon&r=PG", "display_name": "daxim", "link": "https://stackoverflow.com/users/46395/daxim"}, "edited": false, "score": 0, "creation_date": 1571742249, "post_id": 58502570, "comment_id": 103334142, "body": "Cross-post: <a href=\"http://redd.it/dlfg4j\" rel=\"nofollow noreferrer\">redd.it/dlfg4j</a>"}, {"owner": {"reputation": 320771, "user_id": 589924, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/b2cf53d5a3d25f95c0db4e025aed4153?s=128&d=identicon&r=PG", "display_name": "ikegami", "link": "https://stackoverflow.com/users/589924/ikegami"}, "edited": false, "score": 0, "creation_date": 1571742813, "post_id": 58502570, "comment_id": 103334426, "body": "As it stands, your question is &quot;how do I debug a C program&quot;, which is far too large of a topic."}, {"owner": {"reputation": 320771, "user_id": 589924, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/b2cf53d5a3d25f95c0db4e025aed4153?s=128&d=identicon&r=PG", "display_name": "ikegami", "link": "https://stackoverflow.com/users/589924/ikegami"}, "edited": false, "score": 0, "creation_date": 1571743626, "post_id": 58502570, "comment_id": 103334891, "body": "At the very least, you should get a stack backtrace!"}, {"owner": {"reputation": 320771, "user_id": 589924, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/b2cf53d5a3d25f95c0db4e025aed4153?s=128&d=identicon&r=PG", "display_name": "ikegami", "link": "https://stackoverflow.com/users/589924/ikegami"}, "edited": false, "score": 0, "creation_date": 1571743693, "post_id": 58502570, "comment_id": 103334924, "body": "You say you got a seg fault, but signal 6 is <a href=\"https://stackoverflow.com/questions/3413166/when-does-a-process-get-sigabrt-signal-6\">SIGABRT</a> on my system, not SIGSEGV"}], "answers": [{"tags": [], "owner": {"reputation": 1110, "user_id": 9749458, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/001ed2d47a01593ee5c6463c2f5fe224?s=128&d=identicon&r=PG&f=1", "display_name": "Dave Mitchell", "link": "https://stackoverflow.com/users/9749458/dave-mitchell"}, "is_accepted": false, "score": 1, "last_activity_date": 1571741884, "creation_date": 1571741884, "answer_id": 58502713, "question_id": 58502570, "link": "https://stackoverflow.com/questions/58502570/in-linux-coredump-found-perl-segmentation-faults/58502713#58502713", "title": "In Linux coredump found Perl segmentation faults", "body": "<p>The perl interpreter will coredump if: there is a bug in its implementation; if certain pathological Perl code patterns are used (e.g. infinite recursion calling tie or overload handlers); or if there is a bug in an external module that uses C-level code (like XS modules). Determining what the fault is can be hard. If you just want the problem to go away, then upgrading everything to a more recent version is probably the path of least resistance. Note that the perl 5.10.0 release is about 12 years old.</p>\n"}], "owner": {"reputation": 23, "user_id": 11277373, "user_type": "registered", "profile_image": "https://lh3.googleusercontent.com/-LPP6BOxOFjc/AAAAAAAAAAI/AAAAAAAAAAA/ACHi3rf2qKilUZlUgkNpiMDxx9FLiIGs4w/mo/photo.jpg?sz=128", "display_name": "UnicsSol", "link": "https://stackoverflow.com/users/11277373/unicssol"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 81, "favorite_count": 0, "answer_count": 1, "score": 1, "last_activity_date": 1571741884, "creation_date": 1571741343, "question_id": 58502570, "link": "https://stackoverflow.com/questions/58502570/in-linux-coredump-found-perl-segmentation-faults", "title": "In Linux coredump found Perl segmentation faults", "body": "<p>I am using a customized OS based on Oracle Linux 6.10. I have few customized command that helps to find information like firewall rules,hardware information but if I run those command then coredumps are generated.</p>\n\n<p>There are 4 core files found on the one of my OracleLinux6.10 server like core.top.myrole.34089.bt</p>\n\n<p>Below are the error that say it is generated by top.myrole 'Program terminated with signal 6, Aborted/No symbol table info available':</p>\n\n<pre><code>10/15/2019 13:54:57 core.top.myrole.34089.bt\n\n&lt;&lt;&lt;&lt;&lt;&lt;&lt;&lt;&lt;&lt;&lt;&lt;&lt;&lt;&lt;&lt;&lt;&lt;&lt;&lt;&lt;&lt;&lt;&lt;&lt;&lt;&lt;&lt;&lt;&lt;&lt;&lt;&lt;&lt;&lt;&lt;&lt;&lt;\n\ntop.myrole: No such file or directory.\n\nMissing separate debuginfo for the main executable file\n\nTry: yum --enablerepo='*-debug*' install\n\n/usr/lib/debug/.build-id/81/7805fb3de3731d5c36c8f7da38040ee6d510ea\n\n[New Thread 34090]\n\n[New Thread 34089]\n\nCore was generated by \\top.myrole'.`\n\nProgram terminated with signal 6, Aborted.\n\n#0 0x000000347960f00d in ?? ()\n\nThread 2 (Thread 34089):\n\n#0 0x000000347960f00d in ?? ()\n\nNo symbol table info available.\n\n#1 0x0000000000000001 in ?? ()\n\nNo symbol table info available.\n</code></pre>\n\n<p>After the above line 'No symbol table' error would now repeat for multiple threads.</p>\n\n<p>Then found other coredump also generated while running a customized command 'hardwareshow'(this command is not linux command but it is customized within our distribution). The log shows that core was generated by '/usr/bin/perl /usr/product/bin/iprule show' :</p>\n\n<pre><code>10/14/2019 20:44:25, core.hardwareshow.8944.bt\nwarning: core file may not match specified executable file.\n[New Thread 55835]\n[Thread debugging using libthread_db enabled]\nCore was generated by \\/usr/bin/perl /usr/product/bin/iprule show--type=rule --protocol=ipv6 -'.Program terminated with signal 11, Segmentation fault.#0  0x0000003479a80829 in ?? () from /usr/lib64/perl5/CORE/libperl.so`\n\n------------\n10/14/2019 04:19:59, core.iprule.55835.bt\n</code></pre>\n\n<p>I checked the Perl version used in the machine and it seems it is Perl5 , (still needs to confirm if it`s 5.10).How do I address this issue, I heard from some Perl experts that Perl upgrade to a new version can help here still I would want to hear from multiple Linux developers/Perl Developers about this error.</p>\n"}, {"tags": ["regex", "perl"], "comments": [{"owner": {"reputation": 62184, "user_id": 7231, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/81b76985f3985e35492e25880493d045?s=128&d=identicon&r=PG", "display_name": "Dave Cross", "link": "https://stackoverflow.com/users/7231/dave-cross"}, "edited": false, "score": 0, "creation_date": 1571742657, "post_id": 58502186, "comment_id": 103334351, "body": "And this neatly demonstrates why I said on your last version of this question that I didn&#39;t care what the data is. The fact that this is about tax is completely irrelevant. The import thing is that you have some words that are converted using <code>ucfirst lc</code> and some that are left as upper case. In Daxim&#39;s answer, he has created an <code>%ignore</code> hash that encodes that information. That is what we needed to know in order to answer your question."}, {"owner": {"reputation": 133, "user_id": 10500417, "user_type": "registered", "profile_image": "https://lh3.googleusercontent.com/-lqs2wuzb-tM/AAAAAAAAAAI/AAAAAAAAAAA/AAN31DVT92HTL5zhuL3XXyhn4btxjojg6A/mo/photo.jpg?sz=128", "display_name": "SaAsh Techs", "link": "https://stackoverflow.com/users/10500417/saash-techs"}, "reply_to_user": {"reputation": 62184, "user_id": 7231, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/81b76985f3985e35492e25880493d045?s=128&d=identicon&r=PG", "display_name": "Dave Cross", "link": "https://stackoverflow.com/users/7231/dave-cross"}, "edited": false, "score": 0, "creation_date": 1571742781, "post_id": 58502186, "comment_id": 103334411, "body": "Thanks @DaveCross and agreed"}, {"owner": {"reputation": 133, "user_id": 10500417, "user_type": "registered", "profile_image": "https://lh3.googleusercontent.com/-lqs2wuzb-tM/AAAAAAAAAAI/AAAAAAAAAAA/AAN31DVT92HTL5zhuL3XXyhn4btxjojg6A/mo/photo.jpg?sz=128", "display_name": "SaAsh Techs", "link": "https://stackoverflow.com/users/10500417/saash-techs"}, "reply_to_user": {"reputation": 62184, "user_id": 7231, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/81b76985f3985e35492e25880493d045?s=128&d=identicon&r=PG", "display_name": "Dave Cross", "link": "https://stackoverflow.com/users/7231/dave-cross"}, "edited": false, "score": 0, "creation_date": 1571743960, "post_id": 58502186, "comment_id": 103335051, "body": "@DaveCross, If I have only one word like VAT, IGST, SGST, CGST, CPF and not multiple words, I don&#39;t want to add that in an array. Instead directly show that in the output like it was in the word. Is that possible ?"}], "answers": [{"comments": [{"owner": {"reputation": 133, "user_id": 10500417, "user_type": "registered", "profile_image": "https://lh3.googleusercontent.com/-lqs2wuzb-tM/AAAAAAAAAAI/AAAAAAAAAAA/AAN31DVT92HTL5zhuL3XXyhn4btxjojg6A/mo/photo.jpg?sz=128", "display_name": "SaAsh Techs", "link": "https://stackoverflow.com/users/10500417/saash-techs"}, "edited": false, "score": 0, "creation_date": 1571743833, "post_id": 58502734, "comment_id": 103334991, "body": "If I have only one word like VAT, IGST, SGST, CGST, CPF and not multiple words, I don&#39;t want to add that in an array. Instead directly show that in the output. Is that possible ?"}, {"owner": {"reputation": 133, "user_id": 10500417, "user_type": "registered", "profile_image": "https://lh3.googleusercontent.com/-lqs2wuzb-tM/AAAAAAAAAAI/AAAAAAAAAAA/AAN31DVT92HTL5zhuL3XXyhn4btxjojg6A/mo/photo.jpg?sz=128", "display_name": "SaAsh Techs", "link": "https://stackoverflow.com/users/10500417/saash-techs"}, "edited": false, "score": 0, "creation_date": 1571744393, "post_id": 58502734, "comment_id": 103335289, "body": "Oh, may I know how ?"}, {"owner": {"reputation": 133, "user_id": 10500417, "user_type": "registered", "profile_image": "https://lh3.googleusercontent.com/-lqs2wuzb-tM/AAAAAAAAAAI/AAAAAAAAAAA/AAN31DVT92HTL5zhuL3XXyhn4btxjojg6A/mo/photo.jpg?sz=128", "display_name": "SaAsh Techs", "link": "https://stackoverflow.com/users/10500417/saash-techs"}, "edited": false, "score": 0, "creation_date": 1571745532, "post_id": 58502734, "comment_id": 103335937, "body": "Sure, will do that, thank you. Since one person can post a question every 90 minutes, so I asked if its possible here"}, {"owner": {"reputation": 133, "user_id": 10500417, "user_type": "registered", "profile_image": "https://lh3.googleusercontent.com/-lqs2wuzb-tM/AAAAAAAAAAI/AAAAAAAAAAA/AAN31DVT92HTL5zhuL3XXyhn4btxjojg6A/mo/photo.jpg?sz=128", "display_name": "SaAsh Techs", "link": "https://stackoverflow.com/users/10500417/saash-techs"}, "edited": false, "score": 0, "creation_date": 1571745969, "post_id": 58502734, "comment_id": 103336186, "body": "<a href=\"https://stackoverflow.com/questions/58503932/perl-skip-the-values-in-array-and-loop-and-directly-show-in-output\" title=\"perl skip the values in array and loop and directly show in output\">stackoverflow.com/questions/58503932/&hellip;</a>"}], "tags": [], "owner": {"reputation": 38072, "user_id": 46395, "user_type": "registered", "accept_rate": 71, "profile_image": "https://www.gravatar.com/avatar/5ce828f20abb195ef5d971205ee36c27?s=128&d=identicon&r=PG", "display_name": "daxim", "link": "https://stackoverflow.com/users/46395/daxim"}, "is_accepted": true, "score": 3, "last_activity_date": 1571741945, "creation_date": 1571741945, "answer_id": 58502734, "question_id": 58502186, "link": "https://stackoverflow.com/questions/58502186/perl-displaying-values-through-regular-expressions-not-working-as-expected/58502734#58502734", "title": "PERL: Displaying values through regular expressions not working as expected", "body": "<pre><code>use 5.016;\n\nsub maybe_ucfirst {\n    my ($word) = @_;\n    my %ignore = map { $_ =&gt; undef } qw(GST AZ VAT);\n    return exists $ignore{$word} ? $word : ucfirst fc $word;\n}\n\nmy @inputs = ('AUSTRALIA GST', 'AZ COUNTY TAX', 'NEW ZEALAND GST', 'VAT');\nfor my $s (@inputs) {\n    $s =~ s/(\\w+)/maybe_ucfirst($1)/eg;\n    say $s;\n}\n__END__\nAustralia GST\nAZ County Tax\nNew Zealand GST\nVAT\n</code></pre>\n"}], "owner": {"reputation": 133, "user_id": 10500417, "user_type": "registered", "profile_image": "https://lh3.googleusercontent.com/-lqs2wuzb-tM/AAAAAAAAAAI/AAAAAAAAAAA/AAN31DVT92HTL5zhuL3XXyhn4btxjojg6A/mo/photo.jpg?sz=128", "display_name": "SaAsh Techs", "link": "https://stackoverflow.com/users/10500417/saash-techs"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 62, "favorite_count": 0, "accepted_answer_id": 58502734, "answer_count": 1, "score": 0, "last_activity_date": 1571785099, "creation_date": 1571739941, "last_edit_date": 1571785099, "question_id": 58502186, "link": "https://stackoverflow.com/questions/58502186/perl-displaying-values-through-regular-expressions-not-working-as-expected", "title": "PERL: Displaying values through regular expressions not working as expected", "body": "<p>I am a beginner in Perl. I want to display the Tax Types of different countries for my new website in Perl.  Based on the respective countries from the API I use, I get all the Tax Types in Uppercase letters. I don\u2019t want all in uppercase letters\nI have tried the following regular expression. Following is the code:</p>\n\n<pre><code>my $key = &lt;input&gt;;\n\nmy $value = $key =~ /^(\\w\\w\\w? \\w)(.+)$/ ? $1 . lc $2 : ucfirst lc $key;\n\nprint $value;\n</code></pre>\n\n<p>Here are inputs and outputs that I get from the above code:</p>\n\n<pre><code>1: Input: \u2018AUSTRALIA GST\u2019\n\nOutput: \u2018Australia gst\u2019\n\n\n2. Input: \u2018AZ COUNTY TAX\u2019\n\nOutput: \u2018AZ County tax\u2019\n\n\n3. Input: \u2018NEW ZEALAND GST\u2019\n\nOutput: \u2018NEW Zealand gst\u2019\n\n\n4. Input: \u2018VAT\u2019\n\nOutput: \u2018Vat\u2019\n</code></pre>\n\n<p>I want the following outputs for the respective inputs from the same single code:</p>\n\n<pre><code>1: Input: \u2018AUSTRALIA GST\u2019\n\nOutput: \u2018Australia GST\u2019\n\n\n2. Input: \u2018AZ COUNTY TAX\u2019\n\nOutput: \u2018AZ County Tax\u2019\n\n\n3. Input: \u2018NEW ZEALAND GST\u2019\n\nOutput: \u2018New Zealand GST\u2019\n\n\n4. Input: \u2018VAT\u2019\n\nOutput: \u2018VAT\u2019\n</code></pre>\n\n<p>Can anyone please help as to how to dynamically fix this with regular expression in PERL ?</p>\n"}, {"tags": ["perl"], "comments": [{"owner": {"reputation": 793701, "user_id": 19068, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/1d2d3229ed1961d2bd81853242493247?s=128&d=identicon&r=PG", "display_name": "Quentin", "link": "https://stackoverflow.com/users/19068/quentin"}, "edited": false, "score": 2, "creation_date": 1571733674, "post_id": 58500204, "comment_id": 103329335, "body": "<code>Scalar found where operator expected at x.pl line 1, near &quot;&#47;&#47; $answer&quot; \t(Missing operator before  $answer?) Bareword found where operator expected at x.pl line 1, near &quot;$answer would&quot; \t(Missing operator before would?) Bareword found where operator expected at x.pl line 4, near &quot;&#47;&#47; the&quot; \t(Missing operator before the?) syntax error at x.pl line 1, near &quot;&#47;&#47; $answer &quot; syntax error at x.pl line 4, near &quot;&#47;&#47; the rest &quot; Illegal declaration of subroutine main::scope at x.pl line 5.</code>"}, {"owner": {"reputation": 1, "user_id": 11701458, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/KR3GF.jpg?s=128&g=1", "display_name": "Losxhra", "link": "https://stackoverflow.com/users/11701458/losxhra"}, "reply_to_user": {"reputation": 793701, "user_id": 19068, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/1d2d3229ed1961d2bd81853242493247?s=128&d=identicon&r=PG", "display_name": "Quentin", "link": "https://stackoverflow.com/users/19068/quentin"}, "edited": false, "score": 0, "creation_date": 1571733787, "post_id": 58500204, "comment_id": 103329416, "body": "Hello @Quentin Obviously it doesn&#39;t work. I set the comments for the STACK OVERFLOW user to //. In Perl it would be #. I typed it like that, so everyone will understand, that they aren&#39;t in the same scope."}, {"owner": {"reputation": 793701, "user_id": 19068, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/1d2d3229ed1961d2bd81853242493247?s=128&d=identicon&r=PG", "display_name": "Quentin", "link": "https://stackoverflow.com/users/19068/quentin"}, "edited": false, "score": 1, "creation_date": 1571733857, "post_id": 58500204, "comment_id": 103329468, "body": "Write Perl comments in your Perl code! People can understand them to mean &quot;this is a comment&quot; and can copy/paste your code to test it!"}, {"owner": {"reputation": 1, "user_id": 11701458, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/KR3GF.jpg?s=128&g=1", "display_name": "Losxhra", "link": "https://stackoverflow.com/users/11701458/losxhra"}, "reply_to_user": {"reputation": 793701, "user_id": 19068, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/1d2d3229ed1961d2bd81853242493247?s=128&d=identicon&r=PG", "display_name": "Quentin", "link": "https://stackoverflow.com/users/19068/quentin"}, "edited": false, "score": 0, "creation_date": 1571734170, "post_id": 58500204, "comment_id": 103329646, "body": "@Quentin Alright got it, thank you for the feedback :)"}], "answers": [{"tags": [], "owner": {"reputation": 793701, "user_id": 19068, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/1d2d3229ed1961d2bd81853242493247?s=128&d=identicon&r=PG", "display_name": "Quentin", "link": "https://stackoverflow.com/users/19068/quentin"}, "is_accepted": true, "score": 3, "last_activity_date": 1571733796, "creation_date": 1571733796, "answer_id": 58500311, "question_id": 58500204, "link": "https://stackoverflow.com/questions/58500204/wrong-check-with-strings/58500311#58500311", "title": "Wrong check with Strings", "body": "<p>Look at what the value of <code>$answer</code> actually is:</p>\n\n<pre><code>print \"---$answer---\";\n</code></pre>\n\n<p>It outputs</p>\n\n<pre><code>---Y\n---\n</code></pre>\n\n<p>So it isn't equal to <code>\"Y\"</code>, it is equal to <code>\"Y\\n\"</code>.</p>\n\n<p>Use <a href=\"https://perldoc.perl.org/functions/chomp.html\" rel=\"nofollow noreferrer\"><code>chomp</code></a> on the string.</p>\n"}], "owner": {"reputation": 1, "user_id": 11701458, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/KR3GF.jpg?s=128&g=1", "display_name": "Losxhra", "link": "https://stackoverflow.com/users/11701458/losxhra"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 38, "favorite_count": 0, "accepted_answer_id": 58500311, "answer_count": 1, "score": -2, "last_activity_date": 1571733796, "creation_date": 1571733423, "question_id": 58500204, "link": "https://stackoverflow.com/questions/58500204/wrong-check-with-strings", "title": "Wrong check with Strings", "body": "<p>I'm new to Perl and can't understand, why this check has the output false:</p>\n\n<pre><code> // $answer would be a Global Variable\n my $answer;\n\n // the rest is in a sub scope\n print \"Do you want to proceed? (Y/N)\";\n $answer = uc &lt;STDIN&gt;;\n\n if($answer eq \"Y\"){\n     print \"success\";\n } else {\n     print \"why\";\n }\n</code></pre>\n"}, {"tags": ["perl", "installation", "raku", "rakudo-star"], "comments": [{"owner": {"reputation": 320771, "user_id": 589924, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/b2cf53d5a3d25f95c0db4e025aed4153?s=128&d=identicon&r=PG", "display_name": "ikegami", "link": "https://stackoverflow.com/users/589924/ikegami"}, "edited": false, "score": 2, "creation_date": 1571742957, "post_id": 58498697, "comment_id": 103334511, "body": "Re &quot;<i>Can I have 2 versions of Perl in single server ?</i>&quot;, Yes, but Perl 6 / Raku is not a version of Perl; It&#39;s a brand new language."}, {"owner": {"reputation": 2402, "user_id": 6124824, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/dc81b6fda21a94d3f337e2e28463295e?s=128&d=identicon&r=PG", "display_name": "vkk05", "link": "https://stackoverflow.com/users/6124824/vkk05"}, "reply_to_user": {"reputation": 320771, "user_id": 589924, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/b2cf53d5a3d25f95c0db4e025aed4153?s=128&d=identicon&r=PG", "display_name": "ikegami", "link": "https://stackoverflow.com/users/589924/ikegami"}, "edited": false, "score": 0, "creation_date": 1571744305, "post_id": 58498697, "comment_id": 103335246, "body": "@ikegami : Thank you. Shall I have 2 versions of Perl i.e., 5.24 &amp; 5.26 in same server ?"}, {"owner": {"reputation": 320771, "user_id": 589924, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/b2cf53d5a3d25f95c0db4e025aed4153?s=128&d=identicon&r=PG", "display_name": "ikegami", "link": "https://stackoverflow.com/users/589924/ikegami"}, "edited": false, "score": 0, "creation_date": 1571745384, "post_id": 58498697, "comment_id": 103335853, "body": "That can be done. I have a dozen versions.  You can install Perl into any directory. You can use <code>perlbrew</code> to install it"}], "answers": [{"comments": [{"owner": {"reputation": 2402, "user_id": 6124824, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/dc81b6fda21a94d3f337e2e28463295e?s=128&d=identicon&r=PG", "display_name": "vkk05", "link": "https://stackoverflow.com/users/6124824/vkk05"}, "edited": false, "score": 0, "creation_date": 1571730076, "post_id": 58498864, "comment_id": 103327480, "body": "Thank you @Dave. I deleted the comment because I found an answer. Sorry for that."}], "tags": [], "owner": {"reputation": 62184, "user_id": 7231, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/81b76985f3985e35492e25880493d045?s=128&d=identicon&r=PG", "display_name": "Dave Cross", "link": "https://stackoverflow.com/users/7231/dave-cross"}, "is_accepted": true, "score": 11, "last_activity_date": 1571729895, "last_edit_date": 1571729895, "creation_date": 1571728243, "answer_id": 58498864, "question_id": 58498697, "link": "https://stackoverflow.com/questions/58498697/install-raku-perl-6-in-ubuntu-along-with-perl-5-26/58498864#58498864", "title": "Install Raku (Perl 6) in Ubuntu along with Perl 5.26", "body": "<pre><code>$ sudo apt-get install rakudo \n[ ... stuff happens ... ]\n$ perl6 -v\nThis is Rakudo version 2018.03 built on MoarVM version 2018.03\nimplementing Perl 6.c.\n$ perl -v\n\nThis is perl 5, version 26, subversion 1 (v5.26.1) built for x86_64-linux-gnu-thread-multi\n(with 67 registered patches, see perl -V for more detail)\n</code></pre>\n\n<p>The Raku compiler is in a package called <code>rakudo</code>. That package includes a program called <code>perl6</code> which is the actual Raku compiler. The Perl compiler and the Raku compiler are two completely separate programs, so there is no problem having them both installed and running code using either of them. They are as separate as Perl and PHP.</p>\n\n<p><strong>Update:</strong> In a (now, bizarrely, deleted) comment, you asked</p>\n\n<blockquote>\n  <p>What was the way to open a vi editor and write a code in that</p>\n</blockquote>\n\n<p>You do it in exactly the same way as you would do it for any programming language where the code is compiled or interpreted on each execution - Perl, Python, Ruby, bash, they all work the same way.</p>\n\n<p>You can write a text file containing Raku code and run it with <code>perl6 your_file_name</code>.</p>\n\n<p>Or you can put the correct shebang line (which is <code>#!/usr/bin/perl6</code>) at the top of the file and make the file executable with <code>chmod +x your_file_name</code>.</p>\n"}, {"tags": [], "owner": {"reputation": 4183, "user_id": 117284, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/e9fcc04166e4342b93b704c82b08a583?s=128&d=identicon&r=PG", "display_name": "Scimon Proctor", "link": "https://stackoverflow.com/users/117284/scimon-proctor"}, "is_accepted": false, "score": 9, "last_activity_date": 1571731431, "creation_date": 1571731431, "answer_id": 58499646, "question_id": 58498697, "link": "https://stackoverflow.com/questions/58498697/install-raku-perl-6-in-ubuntu-along-with-perl-5-26/58499646#58499646", "title": "Install Raku (Perl 6) in Ubuntu along with Perl 5.26", "body": "<p>There is a community maintained Repository of the most recent build of Rakudo available here : <a href=\"https://nxadm.github.io/rakudo-pkg/\" rel=\"noreferrer\">https://nxadm.github.io/rakudo-pkg/</a></p>\n\n<p>This is generally updated a few days after each official release and is currently on 2019.07.1</p>\n"}], "owner": {"reputation": 2402, "user_id": 6124824, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/dc81b6fda21a94d3f337e2e28463295e?s=128&d=identicon&r=PG", "display_name": "vkk05", "link": "https://stackoverflow.com/users/6124824/vkk05"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 651, "favorite_count": 1, "accepted_answer_id": 58498864, "answer_count": 2, "score": 9, "last_activity_date": 1575266814, "creation_date": 1571727630, "last_edit_date": 1575266814, "question_id": 58498697, "link": "https://stackoverflow.com/questions/58498697/install-raku-perl-6-in-ubuntu-along-with-perl-5-26", "title": "Install Raku (Perl 6) in Ubuntu along with Perl 5.26", "body": "<p>I am eager to learn Raku(Perl 6) and its syntax.</p>\n\n<p>I already have Perl 5 installed in my Ubuntu machine.</p>\n\n<pre><code>vinod@ubuntu-s-1vcpu-1gb-nyc1-01:~$ perl -v\n\nThis is perl 5, version 26, subversion 1 (v5.26.1) built for x86_64-linux-gnu-thread-multi\n(with 67 registered patches, see perl -V for more detail)\n\nCopyright 1987-2017, Larry Wall\n\nPerl may be copied only under the terms of either the Artistic License or the\nGNU General Public License, which may be found in the Perl 5 source kit.\n\nComplete documentation for Perl, including FAQ lists, should be found on\nthis system using \"man perl\" or \"perldoc perl\".  If you have access to the\nInternet, point your browser at http://www.perl.org/, the Perl Home Page.\n</code></pre>\n\n<p>I want to install Raku in the same Ubuntu system. I have couple of questions:</p>\n\n<ol>\n<li>How can I install Raku ?</li>\n<li>If I install Raku, will Perl 5.26 will be get wipedout/updated? I want Perl 5.26 in my system because couple of scripts are running in Perl 5.</li>\n<li>Can I have 2 versions of Perl in single server ?</li>\n<li>Once if I install Raku, how can I run the Raku/Perl 5 code in Ubuntu server? Is it like I should mention <code>use Perl 5.26;</code> at the beginning? By default which version of Perl it will take?</li>\n<li>How can I run Raku code?</li>\n</ol>\n"}, {"tags": ["javascript", "perl", "cgi"], "comments": [{"owner": {"reputation": 8718, "user_id": 5848200, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/a8072aaf76dcb4fe5027964252f16382?s=128&d=identicon&r=PG", "display_name": "Grinnz", "link": "https://stackoverflow.com/users/5848200/grinnz"}, "edited": false, "score": 0, "creation_date": 1571670174, "post_id": 58486087, "comment_id": 103308456, "body": "See <a href=\"https://softwareengineering.stackexchange.com/questions/99894/why-doesnt-http-have-post-redirect\" title=\"why doesnt http have post redirect\">softwareengineering.stackexchange.com/questions/99894/&hellip;</a>"}, {"owner": {"reputation": 320771, "user_id": 589924, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/b2cf53d5a3d25f95c0db4e025aed4153?s=128&d=identicon&r=PG", "display_name": "ikegami", "link": "https://stackoverflow.com/users/589924/ikegami"}, "reply_to_user": {"reputation": 8718, "user_id": 5848200, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/a8072aaf76dcb4fe5027964252f16382?s=128&d=identicon&r=PG", "display_name": "Grinnz", "link": "https://stackoverflow.com/users/5848200/grinnz"}, "edited": false, "score": 0, "creation_date": 1571671057, "post_id": 58486087, "comment_id": 103308957, "body": "@Grinnz, 307 could be used if and only if the request body is the same for both requests. (It&#39;s unclear if that&#39;s the case for the OP.)"}, {"owner": {"reputation": 8718, "user_id": 5848200, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/a8072aaf76dcb4fe5027964252f16382?s=128&d=identicon&r=PG", "display_name": "Grinnz", "link": "https://stackoverflow.com/users/5848200/grinnz"}, "edited": false, "score": 1, "creation_date": 1571671236, "post_id": 58486087, "comment_id": 103309041, "body": "The action URL is also wrong as it is path-relative. It should be <code>&#47;&#47;example.com&#47;canyd&#47;</code> or <code>https:&#47;&#47;example.com&#47;canyd&#47;</code>."}], "answers": [{"tags": [], "owner": {"reputation": 38072, "user_id": 46395, "user_type": "registered", "accept_rate": 71, "profile_image": "https://www.gravatar.com/avatar/5ce828f20abb195ef5d971205ee36c27?s=128&d=identicon&r=PG", "display_name": "daxim", "link": "https://stackoverflow.com/users/46395/daxim"}, "is_accepted": false, "score": 2, "last_activity_date": 1571661949, "creation_date": 1571661949, "answer_id": 58486608, "question_id": 58486087, "link": "https://stackoverflow.com/questions/58486087/is-there-a-way-to-post-to-a-route-automatically-if-certain-conditions-are-met-in/58486608#58486608", "title": "Is there a way to post to a route automatically if certain conditions are met in per cgi", "body": "<p>Send the POST request on behalf of the user in your CGI program with the help of a <a href=\"http://p3rl.org/HTTP::Tiny\" rel=\"nofollow noreferrer\">HTTP client library</a>.</p>\n\n<pre><code>use HTTP::Tiny qw();\nmy $response = HTTP::Tiny-&gt;new-&gt;post_form(\n    'http://\u200cmysite.com/canyd/',\n    { linkB =&gt; 'Add Assets' }\n);\n</code></pre>\n"}], "owner": {"reputation": 1215, "user_id": 3525290, "user_type": "registered", "accept_rate": 38, "profile_image": "https://www.gravatar.com/avatar/303246ebe05535ca2f4e437eb6cfb7f4?s=128&d=identicon&r=PG&f=1", "display_name": "user3525290", "link": "https://stackoverflow.com/users/3525290/user3525290"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 69, "favorite_count": 0, "answer_count": 1, "score": 0, "last_activity_date": 1571661949, "creation_date": 1571660040, "question_id": 58486087, "link": "https://stackoverflow.com/questions/58486087/is-there-a-way-to-post-to-a-route-automatically-if-certain-conditions-are-met-in", "title": "Is there a way to post to a route automatically if certain conditions are met in per cgi", "body": "<p>When a user hits a cgi page if certain conditions are met I want to forward the user to a route via a post request. I tried the below code but I am getting site can't be reached.  Looking through my logs I am getting nothing.  </p>\n\n<p>I am getting data from a cgi script in via perl.  If a condition is matched I want to submit to a non cgi route.  </p>\n\n<pre><code>print qq@&lt;form name='success' action='mysite.com/canyd/' method='post'&gt;@,\nqq@&lt;input type='hidden' name='linkB' value='Add Assets' /&gt;@,\nqq@&lt;/form&gt;@,\nqq@&lt;script type='text/javascript'&gt;@,\nqq@    document.success.submit()@,\nqq@&lt;/script&gt;@;\n</code></pre>\n\n<p>When the conditions are met and this part of the cgi code fires I just get site can't be reached. I don't need the user to select submit.  Is there a way to maybe use a post module.  </p>\n\n<p>What I was expecting would happen is the code would met the condition then take me to the canyd route via the javascript submit.</p>\n"}, {"tags": ["perl"], "comments": [{"owner": {"reputation": 198290, "user_id": 1030675, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/957956ce51706d03f19a4dc85a767bb1?s=128&d=identicon&r=PG", "display_name": "choroba", "link": "https://stackoverflow.com/users/1030675/choroba"}, "edited": false, "score": 0, "creation_date": 1571656643, "post_id": 58485022, "comment_id": 103301163, "body": "What do you mean by &quot;cannot read&quot;? What error are you getting?"}, {"owner": {"reputation": 793701, "user_id": 19068, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/1d2d3229ed1961d2bd81853242493247?s=128&d=identicon&r=PG", "display_name": "Quentin", "link": "https://stackoverflow.com/users/19068/quentin"}, "edited": false, "score": 0, "creation_date": 1571657438, "post_id": 58485022, "comment_id": 103301551, "body": "Look at the response headers to see what errors the server might be returning. From <a href=\"https://metacpan.org/pod/LWP::Simple\" rel=\"nofollow noreferrer\">the docs</a>: <i>The get() function will fetch the document identified by the given URL and return it. It returns undef if it fails. The $url argument can be either a string or a reference to a URI object.  You will not be able to examine the response code or response headers (like Content-Type) when you are accessing the web using this function. If you need that information you should use the full OO interface (see LWP::UserAgent).</i>"}, {"owner": {"reputation": 5, "user_id": 12250971, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/17ea595e25324a429edeebce1ed0ce5c?s=128&d=identicon&r=PG&f=1", "display_name": "ischurek", "link": "https://stackoverflow.com/users/12250971/ischurek"}, "edited": false, "score": 0, "creation_date": 1571657454, "post_id": 58485022, "comment_id": 103301559, "body": "No errors. Just dont get the HTML on my screen. With other links I get the entire HTML of the web page."}, {"owner": {"reputation": 793701, "user_id": 19068, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/1d2d3229ed1961d2bd81853242493247?s=128&d=identicon&r=PG", "display_name": "Quentin", "link": "https://stackoverflow.com/users/19068/quentin"}, "edited": false, "score": 2, "creation_date": 1571657518, "post_id": 58485022, "comment_id": 103301593, "body": "Speculation: The people running the site want you to look at their ads and not just scrape data with bots and so have banned your UA."}, {"owner": {"reputation": 5, "user_id": 12250971, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/17ea595e25324a429edeebce1ed0ce5c?s=128&d=identicon&r=PG&f=1", "display_name": "ischurek", "link": "https://stackoverflow.com/users/12250971/ischurek"}, "edited": false, "score": 0, "creation_date": 1571657645, "post_id": 58485022, "comment_id": 103301661, "body": "Ok. I got you. So this mean that even with Python using BeatifulSoup I will not be able to read the content."}, {"owner": {"reputation": 5, "user_id": 12250971, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/17ea595e25324a429edeebce1ed0ce5c?s=128&d=identicon&r=PG&f=1", "display_name": "ischurek", "link": "https://stackoverflow.com/users/12250971/ischurek"}, "edited": false, "score": 0, "creation_date": 1571657761, "post_id": 58485022, "comment_id": 103301715, "body": "I tried with see LWP::UserAgent) - but failed also to get the data"}, {"owner": {"reputation": 50468, "user_id": 1331451, "user_type": "registered", "accept_rate": 96, "profile_image": "https://i.stack.imgur.com/4ZPmj.png?s=128&g=1", "display_name": "simbabque", "link": "https://stackoverflow.com/users/1331451/simbabque"}, "edited": false, "score": 1, "creation_date": 1571658296, "post_id": 58485022, "comment_id": 103302001, "body": "It means you need to read up on how this kind of stuff works. You might well find a tool that sends a User Agent header out of the box which they haven&#39;t listed as a scraper yet. Or you can learn how to change that header to send something else. You should look at the website&#39;s terms of service to learn whether you are allowed to scrape the data at all."}], "answers": [{"comments": [{"owner": {"reputation": 5, "user_id": 12250971, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/17ea595e25324a429edeebce1ed0ce5c?s=128&d=identicon&r=PG&f=1", "display_name": "ischurek", "link": "https://stackoverflow.com/users/12250971/ischurek"}, "edited": false, "score": 0, "creation_date": 1571734122, "post_id": 58485644, "comment_id": 103329611, "body": "Thanks a lot Dave, You helped me a lot!"}, {"owner": {"reputation": 62184, "user_id": 7231, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/81b76985f3985e35492e25880493d045?s=128&d=identicon&r=PG", "display_name": "Dave Cross", "link": "https://stackoverflow.com/users/7231/dave-cross"}, "reply_to_user": {"reputation": 5, "user_id": 12250971, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/17ea595e25324a429edeebce1ed0ce5c?s=128&d=identicon&r=PG&f=1", "display_name": "ischurek", "link": "https://stackoverflow.com/users/12250971/ischurek"}, "edited": false, "score": 0, "creation_date": 1571735833, "post_id": 58485644, "comment_id": 103330617, "body": "@ischurek: <a href=\"https://stackoverflow.com/help/someone-answers\">What should I do when someone answers my question?</a>"}], "tags": [], "owner": {"reputation": 62184, "user_id": 7231, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/81b76985f3985e35492e25880493d045?s=128&d=identicon&r=PG", "display_name": "Dave Cross", "link": "https://stackoverflow.com/users/7231/dave-cross"}, "is_accepted": true, "score": 3, "last_activity_date": 1571658769, "last_edit_date": 1571658769, "creation_date": 1571658319, "answer_id": 58485644, "question_id": 58485022, "link": "https://stackoverflow.com/questions/58485022/read-a-web-page-with-perl/58485644#58485644", "title": "Read a web page with Perl", "body": "<p><a href=\"https://metacpan.org/pod/LWP::Simple\" rel=\"nofollow noreferrer\">LWP::Simple</a> is pretty basic and doesn't let you do anything clever like actually looking at the details of the response. So let's change to <a href=\"https://metacpan.org/pod/LWP::UserAgent\" rel=\"nofollow noreferrer\">LWP::UserAgent</a> and see what the response is.</p>\n\n<pre><code>use LWP::UserAgent;\n\nmy $url = 'https://www.dividendinvestor.com/dividend-quote/intc/';\n\nmy $ua = LWP::UserAgent-&gt;new;\n\nmy $resp = $ua-&gt;get($url);\n\nprint $resp-&gt;status_line;\n</code></pre>\n\n<p>This prints:</p>\n\n<blockquote>\n  <p>403 Forbidden</p>\n</blockquote>\n\n<p>So I think that Quentin's comment is correct and that the site's owners are blocking people who use technology like LWP.</p>\n\n<p>So let's change the useragent string to look like Internet Explorer.</p>\n\n<pre><code>use LWP::UserAgent;\n\nmy $agent = ' Mozilla/5.0 (Windows NT 6.1; WOW64; Trident/7.0; AS; rv:11.0) like Gecko';\n\nmy $url = 'https://www.dividendinvestor.com/dividend-quote/intc/';\n\nmy $ua = LWP::UserAgent-&gt;new;\n$ua-&gt;agent($agent);\n\nmy $resp = $ua-&gt;get($url);\n\nprint $resp-&gt;status_line;\n</code></pre>\n\n<p>Now I get:</p>\n\n<blockquote>\n  <p>200 OK</p>\n</blockquote>\n\n<p>So we should be ok to get the content.</p>\n\n<pre><code>use LWP::UserAgent;\n\nmy $agent = ' Mozilla/5.0 (Windows NT 6.1; WOW64; Trident/7.0; AS; rv:11.0) like Gecko';\n\nmy $url = 'https://www.dividendinvestor.com/dividend-quote/intc/';\n\nmy $ua = LWP::UserAgent-&gt;new;\n$ua-&gt;agent($agent);\n\nmy $resp = $ua-&gt;get($url);\n\nif ($resp-&gt;is_success) {\n  print $resp-&gt;content;\n} else {\n  print $resp-&gt;status_line;\n}\n</code></pre>\n\n<p>And that seems to work fine.</p>\n\n<p><strong>Note:</strong> Of course, changing the useragent string like this is rather dishonest. Presumably, the site's owners have a good reason for wanting to dissuade people from accessing their site in this way. So don't annoy them by trying to get around their restrictions. Read the site'sterms of service to see what they want to to do. Perhaps they have an API available that will give you the data you want.</p>\n"}, {"comments": [{"owner": {"reputation": 5, "user_id": 12250971, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/17ea595e25324a429edeebce1ed0ce5c?s=128&d=identicon&r=PG&f=1", "display_name": "ischurek", "link": "https://stackoverflow.com/users/12250971/ischurek"}, "edited": false, "score": 0, "creation_date": 1571734161, "post_id": 58493822, "comment_id": 103329636, "body": "Thanks a lot Miguel. I appreciate your help"}], "tags": [], "owner": {"reputation": 13167, "user_id": 546205, "user_type": "registered", "accept_rate": 60, "profile_image": "https://www.gravatar.com/avatar/5d7dd187ae1f4400664cbc0e66c8a2ce?s=128&d=identicon&r=PG", "display_name": "Miguel Prz", "link": "https://stackoverflow.com/users/546205/miguel-prz"}, "is_accepted": false, "score": 1, "last_activity_date": 1571690380, "creation_date": 1571690380, "answer_id": 58493822, "question_id": 58485022, "link": "https://stackoverflow.com/questions/58485022/read-a-web-page-with-perl/58493822#58493822", "title": "Read a web page with Perl", "body": "<p>As Dave Cross wrote, the problem is related to the user agent. It is possible to use the LWP::Simple module in this way:</p>\n\n<pre><code>use LWP::Simple qw/$ua get/;\n\n$ua-&gt;agent('Mozilla/5.0');\nmy $url = 'https://www.dividendinvestor.com/dividend-quote/intc/';\nmy $html = get $url;\nprint $html;\n</code></pre>\n\n<p>As the documentation points, the user agent created by this module (LWP::Simple) will identify itself as \"LWP::Simple/#.##\". So we can change it before the \"GET\" request.</p>\n"}], "owner": {"reputation": 5, "user_id": 12250971, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/17ea595e25324a429edeebce1ed0ce5c?s=128&d=identicon&r=PG&f=1", "display_name": "ischurek", "link": "https://stackoverflow.com/users/12250971/ischurek"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 119, "favorite_count": 1, "accepted_answer_id": 58485644, "answer_count": 2, "score": 0, "last_activity_date": 1571690380, "creation_date": 1571656097, "last_edit_date": 1571656592, "question_id": 58485022, "link": "https://stackoverflow.com/questions/58485022/read-a-web-page-with-perl", "title": "Read a web page with Perl", "body": "<p>I am trying to read the content of a web page with perl on Windows 10. The code does not work for the following site:</p>\n\n<p><a href=\"https://www.dividendinvestor.com/dividend-quote/intc/\" rel=\"nofollow noreferrer\">https://www.dividendinvestor.com/dividend-quote/intc/</a></p>\n\n<p>Here is the code I am using:</p>\n\n<pre><code>use LWP::Simple qw(get);\nmy $url = 'https://www.dividendinvestor.com/dividend-quote/intc/';\nmy $html = get $url;\nprint $html;\n</code></pre>\n\n<p>Any idea why I cannot read that page?</p>\n"}, {"tags": ["perl", "text", "split"], "comments": [{"owner": {"reputation": 188041, "user_id": 10676716, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/arsQA.jpg?s=128&g=1", "display_name": "GMB", "link": "https://stackoverflow.com/users/10676716/gmb"}, "edited": false, "score": 1, "creation_date": 1571650277, "post_id": 58483282, "comment_id": 103298194, "body": "As it stands, this question is quite unclear. I would help if you could provide some sample data, the corresponding expected result, and maybe a little more of your existing code."}], "answers": [{"comments": [{"owner": {"reputation": 3509, "user_id": 4243840, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/aaeabd769bae1bf82fd4b8882fed6653?s=128&d=identicon&r=PG", "display_name": "JGNI", "link": "https://stackoverflow.com/users/4243840/jgni"}, "edited": false, "score": 2, "creation_date": 1571661627, "post_id": 58483892, "comment_id": 103303711, "body": "Could you add some description as to why this works"}, {"owner": {"reputation": 3509, "user_id": 4243840, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/aaeabd769bae1bf82fd4b8882fed6653?s=128&d=identicon&r=PG", "display_name": "JGNI", "link": "https://stackoverflow.com/users/4243840/jgni"}, "edited": false, "score": 0, "creation_date": 1571667201, "post_id": 58483892, "comment_id": 103306794, "body": "Thanks, I can understand that now :-)"}], "tags": [], "owner": {"reputation": 32176, "user_id": 2173773, "user_type": "registered", "accept_rate": 86, "profile_image": "https://i.stack.imgur.com/M8yh6.jpg?s=128&g=1", "display_name": "H&#229;kon H&#230;gland", "link": "https://stackoverflow.com/users/2173773/h%c3%a5kon-h%c3%a6gland"}, "is_accepted": true, "score": 3, "last_activity_date": 1571664088, "last_edit_date": 1571664088, "creation_date": 1571651883, "answer_id": 58483892, "question_id": 58483282, "link": "https://stackoverflow.com/questions/58483282/is-it-possible-to-split-a-file-content-after-every-6-row-with-the-split-funct/58483892#58483892", "title": "Is it possible to split a file content after every 6. row with the `split` function?", "body": "<p>Assuming the question is about how to split a multiline string into 6-lines substrings, then using a zero-width look-ahead regex as in the question </p>\n\n<pre><code>/(?=(?:.+$){6})/m\n</code></pre>\n\n<p>(note that in the question the <code>m</code> modifier was missing) cannot work since it will match at each end-of-line (<code>$</code>) (provided there are more than six lines to follow) and hence will split the string at each line. What we need is a regex that consumes the lines (not a zero-width assertion). We can achieve that by using</p>\n\n<pre><code>/(?:^[^\\n]+\\n){6}/m\n</code></pre>\n\n<p>as the separator regex in <code>split</code> and also make split return the separators by putting the regex in parenthesis. Now, split will interleave the separators with the strings that is between the separators (which in this case will be empty strings (since the separators follow each other with no characters between). To get rid of the empty strings with use <code>grep</code>:</p>\n\n<pre><code>my @res = grep {length} split /((?:^[^\\n]+\\n){6})/m, $content;\n</code></pre>\n"}, {"comments": [{"owner": {"reputation": 21019, "user_id": 198183, "user_type": "registered", "accept_rate": 95, "profile_image": "https://www.gravatar.com/avatar/52f281a988bae754991af26224c796af?s=128&d=identicon&r=PG", "display_name": "sid_com", "link": "https://stackoverflow.com/users/198183/sid-com"}, "edited": false, "score": 0, "creation_date": 1571707530, "post_id": 58490854, "comment_id": 103321619, "body": "I can see your point. The reason for the <code>split</code> approach is that I used <a href=\"https://metacpan.org/release/App-DBBrowser\" rel=\"nofollow noreferrer\">App::DBBrowser</a> to insert a table in a database. After copying the table from a PDF file all cells where in its own row. Now with the regex from the accepted answer (with an inlined modifier <code>((?m)(?:^[^\\n]+\\n){6})</code>) separating the records works fine. To remove the empty lines i used the &#39;Row_Groups&#39; filter."}], "tags": [], "owner": {"reputation": 121105, "user_id": 2766176, "user_type": "registered", "accept_rate": 61, "profile_image": "https://www.gravatar.com/avatar/edd8638efe875601bfe394a8aea5b16d?s=128&d=identicon&r=PG", "display_name": "brian d foy", "link": "https://stackoverflow.com/users/2766176/brian-d-foy"}, "is_accepted": false, "score": 3, "last_activity_date": 1571686625, "last_edit_date": 1571686625, "creation_date": 1571676738, "answer_id": 58490854, "question_id": 58483282, "link": "https://stackoverflow.com/questions/58483282/is-it-possible-to-split-a-file-content-after-every-6-row-with-the-split-funct/58490854#58490854", "title": "Is it possible to split a file content after every 6. row with the `split` function?", "body": "<p>I wouldn't go with a regex in the situation you've explained. Instead, just look at the number of lines you've read and output whatever you like when you've read the right number of lines:</p>\n\n<pre><code>while( &lt;DATA&gt; ) {\n    if( $. % 3 ) {  # $. is the line number for that filehandle\n        print;\n        }\n    else {\n        chomp;\n        print $_, \",\\n\\n\";\n        }\n    }\n\n__DATA__\na1\na2\na3\nb1\nb2\nb3\nc1\nc2\nc3\n</code></pre>\n\n<p>If you have your contents in a scalar in the program, you can open a file handle on that scalar so you can use the same file reading tools:</p>\n\n<pre><code>open my $string_fh, '&lt;', \\$content;\n\nwhile( &lt;$string_fh&gt; ) {\n    if( $. % 3 ) {  # $. is the line number for that filehandle\n        print;\n        }\n    else {\n        chomp;\n        print $_, \",\\n\\n\";\n        }\n    }\n</code></pre>\n\n<p>Turning things into file reading problems is one of my favorite tricks and I show many more ways to do this sort of thing in <a href=\"https://www.effectiveperlprogramming.com\" rel=\"nofollow noreferrer\">Effective Perl Programming</a>. For example, if you wanted to also write to a string instead of standard output, you could open a file handle on a scalar reference:</p>\n\n<pre><code>open my $string_fh, '&lt;', \\$content;\nopen my $out_fh, '&gt;', \\(my $out);\n\nwhile( &lt;$string_fh&gt; ) {\n    if( $. % 3 ) {  # $. is the line number for that filehandle\n        print {$out_fh} $_\n        }\n    else {\n        chomp;\n        print {$out_fh} $_, \",\\n\\n\";\n        }\n    }\n\nprint $out;\n</code></pre>\n\n<p>This makes it easy to switch back and forth from capturing the info in a string or writing to a \"real\" filehandle.</p>\n"}], "owner": {"reputation": 21019, "user_id": 198183, "user_type": "registered", "accept_rate": 95, "profile_image": "https://www.gravatar.com/avatar/52f281a988bae754991af26224c796af?s=128&d=identicon&r=PG", "display_name": "sid_com", "link": "https://stackoverflow.com/users/198183/sid-com"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 91, "favorite_count": 0, "accepted_answer_id": 58483892, "answer_count": 2, "score": 1, "last_activity_date": 1571686625, "creation_date": 1571649640, "last_edit_date": 1571664560, "question_id": 58483282, "link": "https://stackoverflow.com/questions/58483282/is-it-possible-to-split-a-file-content-after-every-6-row-with-the-split-funct", "title": "Is it possible to split a file content after every 6. row with the `split` function?", "body": "<p>Is it possible to split a file content after every 6. row with the <code>split</code> function?</p>\n\n<p>I tried different patterns without success.\nThe last one:</p>\n\n<pre><code>split /(?=(?:.+$){6})/, $content;\n</code></pre>\n\n<p>In this example every 3. line:</p>\n\n<p>the content of the file:</p>\n\n<pre><code>a1\na2\na3\nb1\nb2\nb3\nc1\nc2\nc3\n</code></pre>\n\n<p>the result after the split:</p>\n\n<pre><code>a1\na2\na3,\n\nb1\nb2\nb3,\n\nc1\nc2\nc3\n</code></pre>\n"}, {"tags": ["linux", "docker", "perl", "installation", "rhel"], "comments": [{"owner": {"reputation": 27648, "user_id": 9952196, "user_type": "registered", "profile_image": "https://graph.facebook.com/10216835866235879/picture?type=large", "display_name": "Shawn", "link": "https://stackoverflow.com/users/9952196/shawn"}, "edited": false, "score": 1, "creation_date": 1571643704, "post_id": 58481595, "comment_id": 103295230, "body": "Look into perlbrew for installing versions newer than the one provided by your OS."}, {"owner": {"reputation": 387, "user_id": 12249903, "user_type": "registered", "profile_image": "https://lh3.googleusercontent.com/-iG1n9avc_TI/AAAAAAAAAAI/AAAAAAAAAAA/AKxrwcagZBFTq-iyeUh83mZhSQFOvACI1A/mo/photo.jpg?sz=128", "display_name": "Pratheesh", "link": "https://stackoverflow.com/users/12249903/pratheesh"}, "reply_to_user": {"reputation": 27648, "user_id": 9952196, "user_type": "registered", "profile_image": "https://graph.facebook.com/10216835866235879/picture?type=large", "display_name": "Shawn", "link": "https://stackoverflow.com/users/9952196/shawn"}, "edited": false, "score": 0, "creation_date": 1571647841, "post_id": 58481595, "comment_id": 103296972, "body": "Hi Shawn, Thanks for your help and it really worked . But I&#39;m facing some delay  for installing the package through perlbrew  .Can&#39;t we install it  using &#39;&#39;yum&#39;&#39; after updating the repo"}, {"owner": {"reputation": 7444, "user_id": 967621, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/zOso6.jpg?s=128&g=1", "display_name": "Timur Shtatland", "link": "https://stackoverflow.com/users/967621/timur-shtatland"}, "edited": false, "score": 0, "creation_date": 1571744000, "post_id": 58481595, "comment_id": 103335076, "body": "Is there anything specific you are missing in Perl 5.26 that are present in 5.30? If these are not essential, <code>conda</code> is often an install method of choice due to its ease and flexibility."}], "answers": [{"tags": [], "owner": {"reputation": 62184, "user_id": 7231, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/81b76985f3985e35492e25880493d045?s=128&d=identicon&r=PG", "display_name": "Dave Cross", "link": "https://stackoverflow.com/users/7231/dave-cross"}, "is_accepted": true, "score": 1, "last_activity_date": 1571651504, "creation_date": 1571651504, "answer_id": 58483790, "question_id": 58481595, "link": "https://stackoverflow.com/questions/58481595/how-to-install-perl-5-30-in-rhel-7-7-docker-container/58483790#58483790", "title": "How To Install Perl 5.30 in RHEL 7.7 Docker container", "body": "<p>If you want to install from <code>yum</code>, then I'm afraid that you're stuck with Perl 5.16 on RHEL7. But there are a couple of solutions that spring to mind.</p>\n\n<ul>\n<li>Create your own RPM of a newer version of Perl and then create your own package repo that only contains that package. I'd recommend building it so that the newer Perl is installed in a different location to the existing system Perl.</li>\n<li>Create a Docker image that is built on the RHEL7 image, but that adds <code>perlbrew</code> and the version of Perl that you want. Then use that image instead of the official RHEL one.</li>\n</ul>\n"}, {"tags": [], "owner": {"reputation": 7444, "user_id": 967621, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/zOso6.jpg?s=128&g=1", "display_name": "Timur Shtatland", "link": "https://stackoverflow.com/users/967621/timur-shtatland"}, "is_accepted": false, "score": 0, "last_activity_date": 1571720619, "last_edit_date": 1571720619, "creation_date": 1571720259, "answer_id": 58497313, "question_id": 58481595, "link": "https://stackoverflow.com/questions/58481595/how-to-install-perl-5-30-in-rhel-7-7-docker-container/58497313#58497313", "title": "How To Install Perl 5.30 in RHEL 7.7 Docker container", "body": "<p>If you are ok with a slightly older Perl version (5.26 as of this writing, rather than 5.30 as you mentioned), try <code>conda install perl</code>: <a href=\"https://anaconda.org/conda-forge/perl/\" rel=\"nofollow noreferrer\">https://anaconda.org/conda-forge/perl/</a></p>\n"}, {"tags": [], "owner": {"reputation": 495, "user_id": 4157382, "user_type": "registered", "profile_image": "https://lh3.googleusercontent.com/-p4R0mflSARc/AAAAAAAAAAI/AAAAAAAAAB4/FCzNkmnlyaQ/photo.jpg?sz=128", "display_name": "Mike Guerette", "link": "https://stackoverflow.com/users/4157382/mike-guerette"}, "is_accepted": false, "score": 0, "last_activity_date": 1571745339, "creation_date": 1571745339, "answer_id": 58503752, "question_id": 58481595, "link": "https://stackoverflow.com/questions/58481595/how-to-install-perl-5-30-in-rhel-7-7-docker-container/58503752#58503752", "title": "How To Install Perl 5.30 in RHEL 7.7 Docker container", "body": "<p>If Perl 5.26 will work, then <a href=\"https://developers.redhat.com/products/softwarecollections/hello-world#fndtn-perl\" rel=\"nofollow noreferrer\">install</a> Perl 5.26 via <a href=\"https://developers.redhat.com/products/softwarecollections/updates\" rel=\"nofollow noreferrer\">Software Collections</a> which are part of the RHEL subscription.</p>\n"}], "owner": {"reputation": 387, "user_id": 12249903, "user_type": "registered", "profile_image": "https://lh3.googleusercontent.com/-iG1n9avc_TI/AAAAAAAAAAI/AAAAAAAAAAA/AKxrwcagZBFTq-iyeUh83mZhSQFOvACI1A/mo/photo.jpg?sz=128", "display_name": "Pratheesh", "link": "https://stackoverflow.com/users/12249903/pratheesh"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 990, "favorite_count": 0, "accepted_answer_id": 58483790, "answer_count": 3, "score": 2, "last_activity_date": 1605284715, "creation_date": 1571642768, "last_edit_date": 1605284715, "question_id": 58481595, "link": "https://stackoverflow.com/questions/58481595/how-to-install-perl-5-30-in-rhel-7-7-docker-container", "title": "How To Install Perl 5.30 in RHEL 7.7 Docker container", "body": "<p>I want to install Perl v5.30 in my RHEL 7.7 container image.\nSo i tried</p>\n<pre><code>#yum install -y perl \nperl-5.16.3-294.el7_6.x86_64 already installed and latest version\n</code></pre>\n<p>I'm able to install  perl-5.16.3. But how can I install v5.30 instead of v5.16.3?</p>\n<p>I am completely new to Perl. Thanks in advance</p>\n"}, {"tags": ["regex", "excel", "perl"], "comments": [{"owner": {"reputation": 32176, "user_id": 2173773, "user_type": "registered", "accept_rate": 86, "profile_image": "https://i.stack.imgur.com/M8yh6.jpg?s=128&g=1", "display_name": "H&#229;kon H&#230;gland", "link": "https://stackoverflow.com/users/2173773/h%c3%a5kon-h%c3%a6gland"}, "edited": false, "score": 0, "creation_date": 1571670245, "post_id": 58480699, "comment_id": 103308506, "body": "Please provide more details (actual data of your spreadsheet) and an example of expected output for this case."}], "answers": [{"comments": [{"owner": {"reputation": 21, "user_id": 12193968, "user_type": "registered", "profile_image": "https://lh3.googleusercontent.com/a-/AAuE7mD9dMPWsoIZQdWrhwA3ICM72im8_u4HDw-j9Y1A=k-s128", "display_name": "Mohit Kumar Jaiswal", "link": "https://stackoverflow.com/users/12193968/mohit-kumar-jaiswal"}, "edited": false, "score": 0, "creation_date": 1572347495, "post_id": 58589049, "comment_id": 103523445, "body": "i tried but putting $i in place of $row_min is also not giving desired output"}], "tags": [], "owner": {"reputation": 1, "user_id": 10997197, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/GmG1s.jpg?s=128&g=1", "display_name": "ClarkC", "link": "https://stackoverflow.com/users/10997197/clarkc"}, "is_accepted": false, "score": 0, "last_activity_date": 1572257593, "creation_date": 1572257593, "answer_id": 58589049, "question_id": 58480699, "link": "https://stackoverflow.com/questions/58480699/how-to-move-to-a-different-cell-of-an-excel-sheet-based-on-a-match/58589049#58589049", "title": "How to move to a different cell of an excel sheet based on a match?", "body": "<pre><code>$cell=$worksheet-&gt;get_cell($row_min + 1,$s);\n</code></pre>\n\n<p>Perhaps you want to look at $i here instead of $row_min?  $row_min has the same value on every row.</p>\n"}], "owner": {"reputation": 21, "user_id": 12193968, "user_type": "registered", "profile_image": "https://lh3.googleusercontent.com/a-/AAuE7mD9dMPWsoIZQdWrhwA3ICM72im8_u4HDw-j9Y1A=k-s128", "display_name": "Mohit Kumar Jaiswal", "link": "https://stackoverflow.com/users/12193968/mohit-kumar-jaiswal"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 124, "favorite_count": 0, "answer_count": 1, "score": 2, "last_activity_date": 1572257593, "creation_date": 1571638612, "last_edit_date": 1571640062, "question_id": 58480699, "link": "https://stackoverflow.com/questions/58480699/how-to-move-to-a-different-cell-of-an-excel-sheet-based-on-a-match", "title": "How to move to a different cell of an excel sheet based on a match?", "body": "<p>I have an excel sheet in which I want to move to the next cell of same column if a match is true and then I need to get the content of that row in an array.</p>\n\n<p>I am able to move to a different cell one time based on some defined value in column 0 but the next time if a match happens, I want to move to (row,col) (1,1) from (0,1), initially I am at (0,0). So, based on a match I am able to move to (0,1) but not able to move at (1,1) from (0,1). </p>\n\n<pre class=\"lang-java prettyprint-override\"><code>for (my $i=$row_min; $i &lt;= $row_max; $i++) \n{ \n    my $cell = $worksheet-&gt;get_cell($i , $col_min);\n    next unless $cell;\n    print(\"$cell\\n\");\n\n    my $value =$cell-&gt;value();\n    print(\"$value\\n\");\n    my $s= $col_min + 1;\n    if( defined $cell)\n    {\n        $cell =$worksheet-&gt;get_cell($i  , $s);\n        $value =$cell-&gt;value();\n        print(\"$cell\\n\");\n        print(\"$value\\n\");\n\n        if ($value =~ m/^PG$/i )\n        {\n            print(\"I am working\\n\");\n            $cell=$worksheet-&gt;get_cell($row_min + 1,$s);\n            next unless $cell=~ m/^WAC$/i;\n            print(\"$cell\\n\");\n            $value=$cell-&gt;$value();\n\n            print(\"$value\\n\");\n        }\n    }\n    else\n        {\n            print(\"\\n\");\n        }\n}\n</code></pre>\n"}, {"tags": ["perl", "elasticsearch"], "comments": [{"owner": {"reputation": 32176, "user_id": 2173773, "user_type": "registered", "accept_rate": 86, "profile_image": "https://i.stack.imgur.com/M8yh6.jpg?s=128&g=1", "display_name": "H&#229;kon H&#230;gland", "link": "https://stackoverflow.com/users/2173773/h%c3%a5kon-h%c3%a6gland"}, "edited": false, "score": 0, "creation_date": 1571677062, "post_id": 58479579, "comment_id": 103311921, "body": "How is the <code>put</code> function defined?"}], "owner": {"reputation": 275, "user_id": 1844133, "user_type": "registered", "accept_rate": 80, "profile_image": "https://www.gravatar.com/avatar/c13faf5d793b7d30b2f2e12ff2751de7?s=128&d=identicon&r=PG&f=1", "display_name": "Manoj Agarwal", "link": "https://stackoverflow.com/users/1844133/manoj-agarwal"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 55, "favorite_count": 0, "answer_count": 0, "score": 1, "last_activity_date": 1571629887, "creation_date": 1571629887, "question_id": 58479579, "link": "https://stackoverflow.com/questions/58479579/how-to-insert-multiple-attributes-using-update-by-query-in-elastic-search-using", "title": "How to insert multiple attributes using update_by_query in Elastic Search using perl wrapper Search::Elasticsearch", "body": "<p>I want to insert multiple attributes based on some condition in the Elastic search index using Perl module: Search::Elasticsearch.  I am able to insert one attribute using the following command:</p>\n\n<pre><code>$results = $e-&gt;update_by_query(\n     index =&gt; 'fileindex_db',\n     body  =&gt; {\n         query =&gt; {\n             match =&gt; {\n                 \"file.filename\" =&gt; $val-&gt;{document_name}\n             }\n         },\n     script =&gt; {\n         source =&gt; \"ctx._source.meta.put(\\\"UserName\\\",\\\"$val-&gt;{User_name}\\\")\",\n         lang =&gt; \"painless\"\n     },\n});\n</code></pre>\n\n<p>In the above command, 'fileindex_db' is the name of the index in Elastic search.  It matches the filename with the given document name: '$val->{document_name}' and then inserts a new attribute \"Username: Value\" in the index.  I can insert one value, 'Username', using the above command.  If I need to add more attributes, like Address, Phone, Email address etc., what should I adapt in the above command to be able to add multiple attributes together?  </p>\n"}, {"tags": ["regex", "perl"], "answers": [{"comments": [{"owner": {"reputation": 224, "user_id": 10897535, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/5e0efe171b76852c1abb1477d44946b1?s=128&d=identicon&r=PG&f=1", "display_name": "OEurix", "link": "https://stackoverflow.com/users/10897535/oeurix"}, "edited": false, "score": 0, "creation_date": 1571630422, "post_id": 58478693, "comment_id": 103291286, "body": "This did print something, but the output is: Nmap scan report for vcm-7209.blah.edu (152.3.64.145) Nmap scan report for vcm-9322.blah.edu (152.3.64.153) instead of vcm-7209.blah.edu vcm-9322.blah.edu. Is there a way to just print the substring?"}, {"owner": {"reputation": 224, "user_id": 10897535, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/5e0efe171b76852c1abb1477d44946b1?s=128&d=identicon&r=PG&f=1", "display_name": "OEurix", "link": "https://stackoverflow.com/users/10897535/oeurix"}, "edited": false, "score": 1, "creation_date": 1571631365, "post_id": 58478693, "comment_id": 103291432, "body": "Yeah I have figured it out. Thank you so much!"}], "tags": [], "owner": {"reputation": 69906, "user_id": 6890912, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/d291e4dfbf14dcc8874bd4fa620fac23?s=128&d=identicon&r=PG&f=1", "display_name": "blhsing", "link": "https://stackoverflow.com/users/6890912/blhsing"}, "is_accepted": true, "score": 2, "last_activity_date": 1571631297, "last_edit_date": 1571631297, "creation_date": 1571620783, "answer_id": 58478693, "question_id": 58478563, "link": "https://stackoverflow.com/questions/58478563/how-to-use-perl-command-one-liner-to-extract-a-string-starting-with-x-and-ending/58478693#58478693", "title": "How to use Perl command one-liner to extract a string starting with x and ending with y", "body": "<p>You should enclose the regex pattern in slashes instead:</p>\n\n<pre><code>perl -ne '/vcm-[0-9]+\\.blah\\.edu/&amp;&amp;print\"$&amp;\\n\"' nmap.txt\n</code></pre>\n"}], "owner": {"reputation": 224, "user_id": 10897535, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/5e0efe171b76852c1abb1477d44946b1?s=128&d=identicon&r=PG&f=1", "display_name": "OEurix", "link": "https://stackoverflow.com/users/10897535/oeurix"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 44, "favorite_count": 0, "accepted_answer_id": 58478693, "answer_count": 1, "score": 1, "last_activity_date": 1571631297, "creation_date": 1571619239, "question_id": 58478563, "link": "https://stackoverflow.com/questions/58478563/how-to-use-perl-command-one-liner-to-extract-a-string-starting-with-x-and-ending", "title": "How to use Perl command one-liner to extract a string starting with x and ending with y", "body": "<p>I have a txt file which contains:</p>\n\n<pre><code>Nmap scan report for 152.3.64.144\nNmap scan report for vcm-7209.blah.edu (152.3.64.145)\nNmap scan report for 152.3.64.146\nNmap scan report for 152.3.64.147\nNmap scan report for 152.3.64.148\nNmap scan report for 152.3.64.149\nNmap scan report for 152.3.64.150\nNmap scan report for 152.3.64.151\nNmap scan report for 152.3.64.152\nNmap scan report for vcm-9322.blah.edu (152.3.64.153)\nNmap scan report for 152.3.64.154\n</code></pre>\n\n<p>I want to use a perl one-liner to print:</p>\n\n<pre><code>vcm-7209.blah.edu\nvcm-9322.blah.edu\n</code></pre>\n\n<p>I ran this:</p>\n\n<pre><code>cat nmap.txt | perl -pe 'vcm-[0-9]+\\.blah\\.edu'\n</code></pre>\n\n<p>But it could not work.</p>\n\n<p>What is the correct implementation?</p>\n"}, {"tags": ["regex", "perl"], "comments": [{"owner": {"reputation": 137100, "user_id": 874188, "user_type": "registered", "accept_rate": 62, "profile_image": "https://i.stack.imgur.com/ZcY77.png?s=128&g=1", "display_name": "tripleee", "link": "https://stackoverflow.com/users/874188/tripleee"}, "edited": false, "score": 5, "creation_date": 1571594184, "post_id": 58475691, "comment_id": 103284421, "body": "Regex is not suitable for this task. Briefly, a regex can&#39;t figure out nested structures like escaped strings etc to the full extent that a structured language permits and requires. Read up on parsers instead."}], "answers": [{"tags": [], "owner": {"reputation": 62184, "user_id": 7231, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/81b76985f3985e35492e25880493d045?s=128&d=identicon&r=PG", "display_name": "Dave Cross", "link": "https://stackoverflow.com/users/7231/dave-cross"}, "is_accepted": false, "score": 0, "last_activity_date": 1571596995, "creation_date": 1571596995, "answer_id": 58476158, "question_id": 58475691, "link": "https://stackoverflow.com/questions/58475691/how-to-use-perl-regular-expressions-to-parse-a-java-file/58476158#58476158", "title": "How to use perl regular expressions to parse a java file", "body": "<p>While this is probably very hard in the general case, it's simple enough to do something with your sample data:</p>\n\n<pre><code>#!/usr/bin/perl\n\nuse strict;\nuse warnings;\n\nmy @listofdubs    = ();\nmy @listofints    = ();\nmy @listofbools   = ();\nmy @listofstrings = ();\n\nwhile (&lt;&gt;) {\n  push @listofdubs,    $1 if /\\bdouble\\s+(\\w+)/;\n  push @listofints,    $1 if /\\bint\\s+(\\w+)/;\n  push @listofbools,   $1 if /\\bboolean\\s+(\\w+)/;\n  push @listofstrings, $1 if /\\bString\\s+(\\w+)/;\n}\n\nprint \"@listofdubs\\n\";\n</code></pre>\n\n<p>(I've removed all the user-prompting stuff. Instead, this accepts a filename as a command-line argument.)</p>\n"}], "owner": {"reputation": 93, "user_id": 12076645, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/384f04b538161534d56c3174afd07829?s=128&d=identicon&r=PG&f=1", "display_name": "kikikey", "link": "https://stackoverflow.com/users/12076645/kikikey"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 77, "favorite_count": 0, "answer_count": 1, "score": -3, "last_activity_date": 1571596995, "creation_date": 1571593996, "question_id": 58475691, "link": "https://stackoverflow.com/questions/58475691/how-to-use-perl-regular-expressions-to-parse-a-java-file", "title": "How to use perl regular expressions to parse a java file", "body": "<p>I want to learn more about using regular expressions in perl to parse text by parsing a simple .java file to find out all the int, boolean, double, and string variables from it(no arrays) and putting those variables into their respective perl arrays. For example if there is a int variable in the .java file called 'x' perl inserts the string 'x' into an array that contains all the int variables, and so on for the doubles, booleans, and strings. While I can open files in perl and do basic pasing such as printing out the lines of text to the terminal unfortunately I don't really know how do anything more complicated which would involve the use of regular expressions</p>\n\n<p>Here is what I wrote down so far in my perl script:</p>\n\n<pre><code>use strict;\nuse warnings;\nprint \"enter the name of the java file you want to parse:\\n\";\nmy $javafile = &lt;STDIN&gt;;\nchomp $javafile;\nmy @listofdubs=();\nmy @listofints=();\nmy @listofbools=();\nmy @listofstrings=();\n\nopen my $info, $javafile or die \"Could not open $javafile: $!\";\n\nwhile( my $line = &lt;$info&gt;)  {   \n    #print \"$line\\n\"; \n}\n\nclose $info;\n</code></pre>\n\n<p>And here is a simple java file I cooked up that has a few int, boolean, double, and string variable decalred inside of it:</p>\n\n<pre><code>public class examplejava{\n    public static void main(String[] args) {\n        System.out.println(\"Hello, World\");\n        int thing= 70;\n        int boo = 31;\n        boolean example3= false;\n        String example1= \"stack\";\n        String example2= \"overflow\";\n        double example6= 4.32;\n        boolean example4= true;\n        double example5= 2.4349;\n    }\n}\n</code></pre>\n"}, {"tags": ["arrays", "perl", "hashref"], "answers": [{"comments": [{"owner": {"reputation": 320771, "user_id": 589924, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/b2cf53d5a3d25f95c0db4e025aed4153?s=128&d=identicon&r=PG", "display_name": "ikegami", "link": "https://stackoverflow.com/users/589924/ikegami"}, "edited": false, "score": 2, "creation_date": 1571612669, "post_id": 58475062, "comment_id": 103288477, "body": "The suspense is killing me."}], "tags": [], "owner": {"reputation": 188041, "user_id": 10676716, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/arsQA.jpg?s=128&g=1", "display_name": "GMB", "link": "https://stackoverflow.com/users/10676716/gmb"}, "is_accepted": true, "score": 4, "last_activity_date": 1571589727, "last_edit_date": 1571589727, "creation_date": 1571589393, "answer_id": 58475062, "question_id": 58475019, "link": "https://stackoverflow.com/questions/58475019/perl-issue-getting-array-values-from-array-stored-in-a-hash-reference/58475062#58475062", "title": "Perl - Issue getting array values from array stored in a hash reference", "body": "<p>Here:</p>\n\n<pre><code>$self-&gt;{reject_array} = @idlist;\n</code></pre>\n\n<p>You are assigning an array to a scalar. This results in the length of the array being assigned instead. The problem does not show up until you try to dereference the scalar, here:</p>\n\n<pre><code>itemIds =&gt; [@{$self-&gt;{reject_array}}]\n</code></pre>\n\n<p>You likely want:</p>\n\n<pre><code>$self-&gt;{reject_array} = \\@idlist;\n</code></pre>\n\n<p>Also please note that this:</p>\n\n<pre><code>itemIds =&gt; [@{$self-&gt;{reject_array}}]\n</code></pre>\n\n<p>Could be simplified as:</p>\n\n<pre><code>itemIds =&gt; $self-&gt;{reject_array}\n</code></pre>\n\n<p>The only difference is that this does not <em>copy</em> the array, but as far as concerned this doesn't make a difference in your code. It will just make it more efficient.</p>\n\n<p>Reference: <a href=\"https://perldoc.perl.org/perldata.html\" rel=\"nofollow noreferrer\">perldata</a>:</p>\n\n<blockquote>\n  <p>If you evaluate an array in scalar context, it returns the length of the array.</p>\n</blockquote>\n"}], "owner": {"reputation": 65, "user_id": 11979838, "user_type": "registered", "profile_image": "https://lh3.googleusercontent.com/-tm7iYLPkTUk/AAAAAAAAAAI/AAAAAAAAAAA/ACHi3rdB70_8gPxJ_fyEn83luSodLMK3bA/photo.jpg?sz=128", "display_name": "George c", "link": "https://stackoverflow.com/users/11979838/george-c"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 53, "favorite_count": 0, "accepted_answer_id": 58475062, "answer_count": 1, "score": 1, "last_activity_date": 1571592812, "creation_date": 1571589162, "last_edit_date": 1571592812, "question_id": 58475019, "link": "https://stackoverflow.com/questions/58475019/perl-issue-getting-array-values-from-array-stored-in-a-hash-reference", "title": "Perl - Issue getting array values from array stored in a hash reference", "body": "<p>So I am currently working on a perl project where I need to pass an array (containing Id's to reject) stored as a hash reference, to another sub where I access the array use  its contents in a json file I am creating. I currently wish to have the array stored as a ref in my main hash; \"$self\" which I am chucking between subs in order to access the token which I am using to gain auth. for the site I am working on:</p>\n\n<pre><code>#!/usr/bin/perl -I/usr/local/lib/perl\n#all appropriate libaries used\n\n#I use this to gen. my generic user agent, which is passed around.\nmy $hub = website-&gt;new( email=&gt;'XXXX', password=&gt;'XXXX'); \n\n# I use this to get the authorisation token, which is stored as a hash ref for accessing where needed (sub not shown)\nmy $token = $hub-&gt;auth(); \n\n#this is where I get the array of ids I want to reject\nmy @reject_array = $hub-&gt;approvelist(); \n\n# this is where the issue is happening as the array hash ref keeps just giving a total number of id's \n$hub-&gt;rejectcontacts; \n\n\nsub approvelist{\n    my $self = shift;\n    #$self useragent  and the token gets used in a http request to get json\n\n    .\n    #json code here to strip out the id for each contact in a for loop, which I then push into the array below  \\/\n    .\n    .\n    .\n    push @idlist, $id;\n    .\n    .\n    .\n    #this is where I try to store my array as a hash \n    $self-&gt;{reject_array} = @idlist; \n\n    ref in $self \n\n    return @idlist;\n}\n\nsub rejectcontacts{\n    #I do the same trick to try getting the useragent obj, the auth. token AND now the array\n    my $self = shift; \n    .\n    #code used for the HTTP request here...\n    .\n    .\n\n    my $content = encode_json({\n        reason=&gt;\"Prospect title\",\n        itemIds=&gt;[@{$self-&gt;{reject_array}}], #this is where the problem is\n    });\n\n</code></pre>\n\n<p>The problem is that when I attempt to access the array from the hash reference, I can only seem to get a scalar number of the number of elements within the array, rather than each of the actual contents in the array.</p>\n\n<p>I have checked that the array is defined and the hash ref itself is defined, but when it comes to attempting to access the array in my \"rejectcontacts\" sub above, all I get is just the number of id's within it - 68 (the 68 figure gets put into the json file I am trying to write and then obviously doesn't work).</p>\n\n<p>Any help on this would be greatly appreciated - I haven't been able to find a solution elsewhere.</p>\n"}, {"tags": ["multithreading", "perl", "system"], "answers": [{"comments": [{"owner": {"reputation": 33, "user_id": 2056234, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/e376f53e201e5e3c358b136b396c5e1e?s=128&d=identicon&r=PG", "display_name": "Derek N", "link": "https://stackoverflow.com/users/2056234/derek-n"}, "edited": false, "score": 0, "creation_date": 1571546062, "post_id": 58469969, "comment_id": 103274084, "body": "No, <code>webscript.cgi</code> continues running. <code>background.pl</code> runs independently of CGI. I.e., <code>webscript.cgi</code> starts <code>background.pl</code> then goes on about it&#39;s business. Thanks for the response."}], "tags": [], "owner": {"reputation": 320771, "user_id": 589924, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/b2cf53d5a3d25f95c0db4e025aed4153?s=128&d=identicon&r=PG", "display_name": "ikegami", "link": "https://stackoverflow.com/users/589924/ikegami"}, "is_accepted": true, "score": 1, "last_activity_date": 1571544715, "creation_date": 1571544715, "answer_id": 58469969, "question_id": 58469951, "link": "https://stackoverflow.com/questions/58469951/activeperl-on-windows-running-multiple-instances-of-script-simultaneously/58469969#58469969", "title": "ActivePERL on Windows running multiple instances of script simultaneously?", "body": "<p>The web server doesn't know anything about the process running <code>background.pl</code>, so it does what it always does. It runs <code>webscript.cgi</code> which launches <code>background.pl</code>.</p>\n\n<p>Now, if <code>webscript.cgi</code> waits for <code>background.pl</code> to complete, you could run into a situation where the web server stops accepting requests because all of its workers are running <code>webscript.cgi</code>. It will resume once a script ends.</p>\n\n<p>All of this is very easy to test.</p>\n\n<hr>\n\n<blockquote>\n  <p>Will one instance have to complete before the next can begin?</p>\n</blockquote>\n\n<p>No.</p>\n\n<blockquote>\n  <p>Will any subsequent instances called simply fail? </p>\n</blockquote>\n\n<p>No.</p>\n\n<blockquote>\n  <p>Or, will my machine begin to smoke and then perhaps explode? (chuckle)</p>\n</blockquote>\n\n<p>A poorly configured server could indeed be brought down by trying to run too many programs at once.</p>\n"}], "owner": {"reputation": 33, "user_id": 2056234, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/e376f53e201e5e3c358b136b396c5e1e?s=128&d=identicon&r=PG", "display_name": "Derek N", "link": "https://stackoverflow.com/users/2056234/derek-n"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 26, "favorite_count": 0, "accepted_answer_id": 58469969, "answer_count": 1, "score": 0, "last_activity_date": 1571544715, "creation_date": 1571544392, "question_id": 58469951, "link": "https://stackoverflow.com/questions/58469951/activeperl-on-windows-running-multiple-instances-of-script-simultaneously", "title": "ActivePERL on Windows running multiple instances of script simultaneously?", "body": "<p>I've been unable to find anything which really answers the question that I have, so if anyone can shed some light on the matter, I'd be grateful.</p>\n\n<p>I'm not a Unix/Linux guy, so I'm running ActivePerl on Windows NT.</p>\n\n<p>The scenario is this:</p>\n\n<p><strong>webscript.cgi</strong> calls <strong>background.pl</strong> to do some dirty work while the user continues browsing the site, using <code>system($cmd)</code>. This works fine and all, but what I am wondering is THIS:</p>\n\n<p>What happens if MULTIPLE calls are made within seconds of each other as a result of users actions to run <strong>background.pl</strong>? Will multiple instances of <strong>background.pl</strong> run simultaneously? Will one instance have to complete before the next can begin? Will any subsequent instances called simply fail? Or, will my machine begin to smoke and then perhaps explode? (chuckle)</p>\n\n<p>Again, this is running in a Windows environment so I'm not sure if the rules with ActivePerl are a bit different than running in a Unix environment. Thanks to anyone who might have some information about this!</p>\n"}, {"tags": ["perl"], "comments": [{"owner": {"reputation": 32176, "user_id": 2173773, "user_type": "registered", "accept_rate": 86, "profile_image": "https://i.stack.imgur.com/M8yh6.jpg?s=128&g=1", "display_name": "H&#229;kon H&#230;gland", "link": "https://stackoverflow.com/users/2173773/h%c3%a5kon-h%c3%a6gland"}, "edited": false, "score": 1, "creation_date": 1571514675, "post_id": 58467359, "comment_id": 103269422, "body": "What errors do you get? Where do you declare <code>$vg_name</code>?"}, {"owner": {"reputation": 188041, "user_id": 10676716, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/arsQA.jpg?s=128&g=1", "display_name": "GMB", "link": "https://stackoverflow.com/users/10676716/gmb"}, "edited": false, "score": 1, "creation_date": 1571517965, "post_id": 58467359, "comment_id": 103270130, "body": "<code>-vg_name</code> probably needs to be quoted, like <code>$linux_host_obj-&gt;_create(&#39;-vg_name&#39; =&gt; $vg_name)</code>"}, {"owner": {"reputation": 320771, "user_id": 589924, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/b2cf53d5a3d25f95c0db4e025aed4153?s=128&d=identicon&r=PG", "display_name": "ikegami", "link": "https://stackoverflow.com/users/589924/ikegami"}, "reply_to_user": {"reputation": 188041, "user_id": 10676716, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/arsQA.jpg?s=128&g=1", "display_name": "GMB", "link": "https://stackoverflow.com/users/10676716/gmb"}, "edited": false, "score": 0, "creation_date": 1571545370, "post_id": 58467359, "comment_id": 103274012, "body": "@GMB, No, that isn&#39;t necessary. <code>-vg_name</code> is equivalent to <code>&quot;-vg_name&quot;</code>."}, {"owner": {"reputation": 705, "user_id": 6490359, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/711f0af849e984c1633fe69ae8354b8f?s=128&d=identicon&r=PG&f=1", "display_name": "Silvar", "link": "https://stackoverflow.com/users/6490359/silvar"}, "edited": false, "score": 0, "creation_date": 1571577027, "post_id": 58467359, "comment_id": 103279793, "body": "From the question, it&#39;s really unclear what you&#39;re trying to accomplish, and also what&#39;s wrong with the current code."}], "answers": [{"tags": [], "owner": {"reputation": 62184, "user_id": 7231, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/81b76985f3985e35492e25880493d045?s=128&d=identicon&r=PG", "display_name": "Dave Cross", "link": "https://stackoverflow.com/users/7231/dave-cross"}, "is_accepted": false, "score": 0, "last_activity_date": 1571593889, "last_edit_date": 1571593889, "creation_date": 1571577314, "answer_id": 58473366, "question_id": 58467359, "link": "https://stackoverflow.com/questions/58467359/how-to-fetch-the-value-of-a-variable-from-one-if-condition-inside-another-if-con/58473366#58473366", "title": "How to fetch the value of a variable from one if condition inside another if condition?", "body": "<p>It's really not clear what you're trying to do here. But if you want to retain the value of <code>$vg_name</code> variable between iterations of the loop, then you need to declare the variable outside of the loop.</p>\n\n<pre><code>my $vg_name;\n\nfor my $i (1 .. 2) { # this loop style is easier to follow\n  if ($i == 2) {\n    # do stuff with $vg_name\n  }\n  if ($i == 1) {\n    $vg_name = 'something';\n  }\n  print \"Iteration: $i, vg_name: $vg_name\\n\";\n}\n</code></pre>\n"}], "owner": {"reputation": 49, "user_id": 11644325, "user_type": "registered", "profile_image": "https://graph.facebook.com/2360233927554929/picture?type=large", "display_name": "Viraj Desai", "link": "https://stackoverflow.com/users/11644325/viraj-desai"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 60, "favorite_count": 0, "answer_count": 1, "score": -1, "last_activity_date": 1571593889, "creation_date": 1571513943, "last_edit_date": 1571581667, "question_id": 58467359, "link": "https://stackoverflow.com/questions/58467359/how-to-fetch-the-value-of-a-variable-from-one-if-condition-inside-another-if-con", "title": "How to fetch the value of a variable from one if condition inside another if condition?", "body": "<p>Here, my code will run for 2 iterations. For 1st iteration, it will directly go to 2nd if condition. There after some operations, it will print the value of $vg_name as \"n_vg_f\". Till here the code works fine. Now, for 2nd iteration, first the control goes to above if condition. There while calling function _create(), I need to pass the argument -vg_name as the value of $vg_name which we got in first iteration from the below if condition. Please help me find a way to do this.</p>\n\n<pre><code>for(my $x=1;$x&lt;=2;$x++) {\n    if($x &gt;= 2){\n        $linux_host_obj-&gt;_create(-vg_name =&gt; $vg_name);\n    }\n    if($x &gt;= 1){\n        print(\"VG Name is:\", $vg_name);   #Here I get $vg_name value as \"n_vg_f\"\n    }\n}\n</code></pre>\n"}, {"tags": ["azure", "docker", "perl", "azure-web-app-service", "mojolicious"], "comments": [{"owner": {"reputation": 32176, "user_id": 2173773, "user_type": "registered", "accept_rate": 86, "profile_image": "https://i.stack.imgur.com/M8yh6.jpg?s=128&g=1", "display_name": "H&#229;kon H&#230;gland", "link": "https://stackoverflow.com/users/2173773/h%c3%a5kon-h%c3%a6gland"}, "edited": false, "score": 0, "creation_date": 1571511989, "post_id": 58466591, "comment_id": 103268680, "body": "<code>tail 2019_10_19_RD0004FFDDD7F4_default_docker.log</code> this only prints the last 10 lines of the log file. Could you show some more lines?"}, {"owner": {"reputation": 4446, "user_id": 7500028, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/fbf0e88580cccb9004735bcb92be952e?s=128&d=identicon&r=PG&f=1", "display_name": "Julio", "link": "https://stackoverflow.com/users/7500028/julio"}, "reply_to_user": {"reputation": 32176, "user_id": 2173773, "user_type": "registered", "accept_rate": 86, "profile_image": "https://i.stack.imgur.com/M8yh6.jpg?s=128&g=1", "display_name": "H&#229;kon H&#230;gland", "link": "https://stackoverflow.com/users/2173773/h%c3%a5kon-h%c3%a6gland"}, "edited": false, "score": 0, "creation_date": 1571521481, "post_id": 58466591, "comment_id": 103270897, "body": "@H&#229;konH&#230;gland, Sure, I added the full log. Thank you."}, {"owner": {"reputation": 32176, "user_id": 2173773, "user_type": "registered", "accept_rate": 86, "profile_image": "https://i.stack.imgur.com/M8yh6.jpg?s=128&g=1", "display_name": "H&#229;kon H&#230;gland", "link": "https://stackoverflow.com/users/2173773/h%c3%a5kon-h%c3%a6gland"}, "edited": false, "score": 0, "creation_date": 1571522799, "post_id": 58466591, "comment_id": 103271158, "body": "Thanks, can you add the other log file also?"}, {"owner": {"reputation": 4446, "user_id": 7500028, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/fbf0e88580cccb9004735bcb92be952e?s=128&d=identicon&r=PG&f=1", "display_name": "Julio", "link": "https://stackoverflow.com/users/7500028/julio"}, "reply_to_user": {"reputation": 32176, "user_id": 2173773, "user_type": "registered", "accept_rate": 86, "profile_image": "https://i.stack.imgur.com/M8yh6.jpg?s=128&g=1", "display_name": "H&#229;kon H&#230;gland", "link": "https://stackoverflow.com/users/2173773/h%c3%a5kon-h%c3%a6gland"}, "edited": false, "score": 0, "creation_date": 1571523386, "post_id": 58466591, "comment_id": 103271269, "body": "@H&#229;konH&#230;gland the other log file does not have more lines. Just those 4 &quot;syntax error&quot;"}, {"owner": {"reputation": 32176, "user_id": 2173773, "user_type": "registered", "accept_rate": 86, "profile_image": "https://i.stack.imgur.com/M8yh6.jpg?s=128&g=1", "display_name": "H&#229;kon H&#230;gland", "link": "https://stackoverflow.com/users/2173773/h%c3%a5kon-h%c3%a6gland"}, "edited": false, "score": 0, "creation_date": 1571523927, "post_id": 58466591, "comment_id": 103271377, "body": "Ok, maybe the error is related to the startup command <code>mojo generate</code>? Since the error says <i>&quot;generate: line 1: syntax error: ...&quot;</i> . Can you try replace the startup command by something else like <code>sh -c &quot;mojo --help&quot;</code>? What errors do you get now?"}, {"owner": {"reputation": 4446, "user_id": 7500028, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/fbf0e88580cccb9004735bcb92be952e?s=128&d=identicon&r=PG&f=1", "display_name": "Julio", "link": "https://stackoverflow.com/users/7500028/julio"}, "reply_to_user": {"reputation": 32176, "user_id": 2173773, "user_type": "registered", "accept_rate": 86, "profile_image": "https://i.stack.imgur.com/M8yh6.jpg?s=128&g=1", "display_name": "H&#229;kon H&#230;gland", "link": "https://stackoverflow.com/users/2173773/h%c3%a5kon-h%c3%a6gland"}, "edited": false, "score": 0, "creation_date": 1571566373, "post_id": 58466591, "comment_id": 103277263, "body": "I have news: the problem seems to be the quotes on the <code>bash -c &quot;whatever&quot;</code> startup command. If I use <code>mojo daemon</code> as a startup command, It works. However, <code>bash -c &quot;mojo daemon&quot;</code> does not. Also, single quotes don&#39;t work too. I believe that the command string is splitted by spaces: So something like <code>bash -c &#39;mojo daemon&#39;</code> gets splitted into <code>bash</code>, <code>-c</code>, <code>&#39;mojo</code>, <code>daemon&#39;</code> and then de <code>daemon&#39;: -c: line 0: unexpected EOF while looking for matching `&#39;&#39;</code> errors come up. Any idea how to use quotes or being able to use multiple commands?"}], "owner": {"reputation": 4446, "user_id": 7500028, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/fbf0e88580cccb9004735bcb92be952e?s=128&d=identicon&r=PG&f=1", "display_name": "Julio", "link": "https://stackoverflow.com/users/7500028/julio"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 252, "favorite_count": 0, "answer_count": 0, "score": 2, "last_activity_date": 1571569948, "creation_date": 1571508305, "last_edit_date": 1571569948, "question_id": 58466591, "link": "https://stackoverflow.com/questions/58466591/running-mojolicious-web-app-on-azure-linux-containers", "title": "Running mojolicious web app on Azure, linux containers", "body": "<p>I'd like to test a simple mojolicious app on azure. But all I can get is a 'Application Error' when accessing the web app.</p>\n\n<p>These are the steps I was following:</p>\n\n<ol>\n<li>Create a new web app</li>\n<li>Publish = Docker container</li>\n<li>OS = Linux</li>\n</ol>\n\n<p>On the Docker tab:</p>\n\n<ol>\n<li>Options = Single container</li>\n<li>Image src = Dockerhub</li>\n<li>Access type = Public</li>\n<li>Image/Tag = <code>scottw/alpine-perl</code> (I also tried with Image/Tag = <code>clearlinux/perl</code>)</li>\n<li>Startup command: <code>sh -c \"mojo generate lite_app /tmp/myapp.pl &amp;&amp; morbo --listen 'http://*:80' /tmp/myapp.pl\"</code></li>\n<li>Create a web app setting: WEBSITES_PORT = 80</li>\n</ol>\n\n<p>This generates the following log:</p>\n\n<pre><code>2019-10-19 17:36:40.491 INFO  - Pulling image from Docker hub: scottw/alpine-perl\n2019-10-19 17:36:40.959 INFO  - latest Pulling from scottw/alpine-perl\n2019-10-19 17:36:40.960 INFO  -  Digest: sha256:9f732cddfc39af53c47709e0ce1b42a07fe3cfa18d48cbb6bee393e670494348\n2019-10-19 17:36:40.960 INFO  -  Status: Image is up to date for scottw/alpine-perl:latest\n2019-10-19 17:36:40.964 INFO  - Pull Image successful, Time taken: 0 Minutes and 0 Seconds\n2019-10-19 17:36:41.006 INFO  - Starting container for site\n2019-10-19 17:36:41.007 INFO  - docker run -d -p 8559:80 --name testqqq2_0_2255c482 -e WEBSITES_ENABLE_APP_SERVICE_STORAGE=false -e WEBSITES_PORT=80 -e WEBSITE_SITE_NAME=testqqq2 -e WEBSITE_AUTH_ENABLED=False -e WEBSITE_ROLE_INSTANCE_ID=0 -e WEBSITE_HOSTNAME=testqqq2.azurewebsites.net -e WEBSITE_INSTANCE_ID=8a04808bf31407f38566f64be531143f3be18392806dd1f91d6485b3824dbba3 scottw/alpine-perl sh -c \"mojo generate lite_app /tmp/myapp.pl &amp;&amp; morbo --listen 'http://*:80' /tmp/myapp.pl\" \n\n2019-10-19 17:36:41.008 INFO  - Logging is not enabled for this container.\nPlease use https://aka.ms/linux-diagnostics to enable logging to see container logs here.\n2019-10-19 17:36:43.998 INFO  - Initiating warmup request to container testqqq2_0_2255c482 for site testqqq2\n2019-10-19 17:36:44.014 ERROR - Container testqqq2_0_2255c482 for site testqqq2 has exited, failing site start\n2019-10-19 17:36:44.016 ERROR - Container testqqq2_0_2255c482 didn't respond to HTTP pings on port: 80, failing site start. See container logs for debugging.\n</code></pre>\n\n<p>Following the advice from: <a href=\"https://docs.microsoft.com/es-es/azure/app-service/containers/app-service-linux-intro#troubleshooting\" rel=\"nofollow noreferrer\">https://docs.microsoft.com/es-es/azure/app-service/containers/app-service-linux-intro#troubleshooting</a>.</p>\n\n<p>Gives me these logs:</p>\n\n<pre><code>/home/LogFiles&gt;ls *\n2019_10_19_RD0004FFDDD7F4_default_docker.log\n2019_10_19_RD0004FFDDD7F4_docker.log\n__lastCheckTime.txt\n\nkudu:\ndeployment\ntrace\n\nwebssh:\npm2.err\npm2.log\n/home/LogFiles&gt;tail 2019_10_19_RD0004FFDDD7F4_default_docker.log\n2019-10-19T17:28:19.004163856Z generate: line 1: syntax error: unterminated quoted string\n\n2019-10-19T17:28:24.480791096Z generate: line 1: syntax error: unterminated quoted string\n\n2019-10-19T17:36:43.167236229Z generate: line 1: syntax error: unterminated quoted string\n\n2019-10-19T17:55:06.478078430Z generate: line 1: syntax error: unterminated quoted string\n\n/home/LogFiles&gt;tail 2019_10_19_RD0004FFDDD7F4_docker.log\n2019-10-19 17:55:02.658 INFO  -  Status: Image is up to date for scottw/alpine-perl:latest\n2019-10-19 17:55:02.688 INFO  - Pull Image successful, Time taken: 0 Minutes and 0 Seconds\n2019-10-19 17:55:02.917 INFO  - Starting container for site\n2019-10-19 17:55:02.926 INFO  - docker run -d -p 58481:80 --name testqqq2_0_101834c8 -e WEBSITES_ENABLE_APP_SERVICE_STORAGE=false -e WEBSITES_PORT=80 -e WEBSITE_SITE_NAME=testqqq2 -e WEBSITE_AUTH_ENABLED=False -e WEBSITE_ROLE_INSTANCE_ID=0 -e WEBSITE_HOSTNAME=testqqq2.azurewebsites.net -e WEBSITE_INSTANCE_ID=8a04808bf31407f38566f64be531143f3be18392806dd1f91d6485b3824dbba3 scottw/alpine-perl sh -c \"mojo generate lite_app /tmp/myapp.pl &amp;&amp; morbo --listen 'http://*:80' /tmp/myapp.pl\" \n\n2019-10-19 17:55:02.933 INFO  - Logging is not enabled for this container.\nPlease use https://aka.ms/linux-diagnostics to enable logging to see container logs here.\n2019-10-19 17:55:07.554 INFO  - Initiating warmup request to container testqqq2_0_101834c8 for site testqqq2\n2019-10-19 17:55:07.624 ERROR - Container testqqq2_0_101834c8 for site testqqq2 has exited, failing site start\n2019-10-19 17:55:07.642 ERROR - Container testqqq2_0_101834c8 didn't respond to HTTP pings on port: 80, failing site start. See container logs for debugging.\n/home/LogFiles&gt; \n</code></pre>\n\n<p>Could you please help me to see what I'm doing wrong?</p>\n\n<p><strong>Edit</strong>:</p>\n\n<p>I'm adding the full log here:</p>\n\n<p><a href=\"https://pastebin.com/f05rSQq1\" rel=\"nofollow noreferrer\">https://pastebin.com/f05rSQq1</a></p>\n\n<p>Please, note that at the beginning there were some unrelated error like this:</p>\n\n<p><code>2019-10-19 17:25:15.092 ERROR - Container start failed for testqqq2_0_aa3c3687 with System.AggregateException, One or more errors occurred. (Docker API responded with status code=BadRequest, response={\"message\":\"OCI runtime create failed: container_linux.go:345: starting container process caused \\\"exec: \\\\\\\"bash\\\\\\\": executable file not found in $PATH\\\": unknown\"}\n) (Docker API responded with status code=BadRequest, response={\"message\":\"OCI runtime create failed: container_linux.go:345: starting container process caused \\\"exec: \\\\\\\"bash\\\\\\\": executable file not found in $PATH\\\": unknown\"}\n)</code></p>\n\n<p>That was because at first I used <code>bash -c \"...\"</code> for the command. However the Alpine image does not include bash, but sh.</p>\n\n<p><strong>Edit2</strong>:\nSo the problem seems to be that the startup command box does not seem to like quotes. For example, <code>mojo daemon</code> works, but <code>bash -c \"mojo daemon\"</code> does not.</p>\n\n<p>However, I'd like to use multiple commands for my start command, with <code>bash -c \"whatever &amp;&amp; whatever &amp;&amp; ...\"</code>.</p>\n\n<p>Is there anything I could do?</p>\n\n<p>Thank you.</p>\n"}, {"tags": ["bash", "perl", "path", "rename", "spaces"], "comments": [{"owner": {"reputation": 320771, "user_id": 589924, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/b2cf53d5a3d25f95c0db4e025aed4153?s=128&d=identicon&r=PG", "display_name": "ikegami", "link": "https://stackoverflow.com/users/589924/ikegami"}, "edited": false, "score": 0, "creation_date": 1571495914, "post_id": 58464558, "comment_id": 103264572, "body": "Could you please provide more information about the specific <code>rename</code> you are using. There are many tools with that name, and I haven&#39;t been able to find that one. /// What is the <code>-e</code> supposed to do?  /// Does <code>s{[ ]+(?!.*&#47;)}{-}g</code> do the trick?"}, {"owner": {"reputation": 68617, "user_id": 3776858, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/juunm.png?s=128&g=1", "display_name": "Cyrus", "link": "https://stackoverflow.com/users/3776858/cyrus"}, "edited": false, "score": 0, "creation_date": 1571496168, "post_id": 58464558, "comment_id": 103264626, "body": "Add version of <code>rename</code> command to your question."}, {"owner": {"reputation": 3, "user_id": 12242801, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/b3bdc5435659cae3f0024498756145d0?s=128&d=identicon&r=PG&f=1", "display_name": "cal meacham", "link": "https://stackoverflow.com/users/12242801/cal-meacham"}, "edited": false, "score": 0, "creation_date": 1571501555, "post_id": 58464558, "comment_id": 103265909, "body": "I installed it with Homebrew on MacOS Mojave. I think it is this one here <a href=\"http://plasmasturm.org/code/rename/\" rel=\"nofollow noreferrer\">plasmasturm.org/code/rename</a>. The rename man page I have reports it as being at version 1.600. First few lines of man are: RENAME(1)                                User Contributed Perl Documentation                                RENAME(1)"}], "answers": [{"tags": [], "owner": {"reputation": 320771, "user_id": 589924, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/b2cf53d5a3d25f95c0db4e025aed4153?s=128&d=identicon&r=PG", "display_name": "ikegami", "link": "https://stackoverflow.com/users/589924/ikegami"}, "is_accepted": true, "score": 2, "last_activity_date": 1571502679, "last_edit_date": 1571502679, "creation_date": 1571502062, "answer_id": 58465636, "question_id": 58464558, "link": "https://stackoverflow.com/questions/58464558/rename-perl-tool-cant-rename-no-such-file-or-directory/58465636#58465636", "title": "rename perl tool : Can&#39;t rename, No such file or directory", "body": "\n\n<p>Unless you're also trying to change the directory, you could use any of the following:</p>\n\n<ol>\n<li><p>Run <code>rename</code> from the directory in which the files reside.</p>\n\n<pre class=\"lang-none prettyprint-override\"><code>sh -c 'cd /Volumes/.../with\\ spaces; rename -f -X -c -e \"s/[ ]+/-/g\" *'\n</code></pre></li>\n<li><p>Only match spaces that aren't followed by a slash (<code>/</code>).</p>\n\n<pre class=\"lang-none prettyprint-override\"><code>rename -f -X -c -e 's{[ ]+(?!.*/)}{-}sg' /Volumes/.../with\\ spaces/*\n</code></pre></li>\n<li><p>Break the path into its components and only operate on the file name portion.</p>\n\n<pre class=\"lang-none prettyprint-override\"><code>rename -f -X -c -e '\n   use Basename qw( dirname basename );\n   $_ = dirname($_) . \"/\" . basename($_) =~ s/[ ]+/-/gr;\n' /Volumes/.../with\\ spaces/*\n</code></pre>\n\n<p>This is overkill in this situation, but it could be useful in situations where a simple modification (as in #2) isn't possible.</p></li>\n</ol>\n"}], "owner": {"reputation": 3, "user_id": 12242801, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/b3bdc5435659cae3f0024498756145d0?s=128&d=identicon&r=PG&f=1", "display_name": "cal meacham", "link": "https://stackoverflow.com/users/12242801/cal-meacham"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 174, "favorite_count": 0, "accepted_answer_id": 58465636, "answer_count": 1, "score": 0, "last_activity_date": 1571502679, "creation_date": 1571494440, "question_id": 58464558, "link": "https://stackoverflow.com/questions/58464558/rename-perl-tool-cant-rename-no-such-file-or-directory", "title": "rename perl tool : Can&#39;t rename, No such file or directory", "body": "<p>I'm using the Perl rename tool to write a bash script that looks for any files in a path that has spaces in it (It does other stuff but trying to keep this simple). I'm using the <strong>-c</strong> switch to transform to lower case and a regular expression to change all spaces to dashes. The command completes with no errors.</p>\n\n<p><code>rename -f -X -c 's/[ ]+/-/g' /Volumes/data/Users-Links/adrz/test-site/with\\ spaces/*</code></p>\n\n<p>The above transforms the files to lower case but does not replace spaces with dashes. I then tried with the -e switch in front of the expression.</p>\n\n<p><code>rename -f -X -c -e 's/[ ]/-/g' /Volumes/data/Users-Links/adrz/test-site/with\\ spaces/*</code></p>\n\n<p>and get ...</p>\n\n<blockquote>\n  <p>Can't rename '/Volumes/data/Users-Links/adrz/test-site/with spaces/hello world.txt' to '/volumes/data/users-links/adrz/test-site/with-spaces/hello world.txt': No such file or directory</p>\n</blockquote>\n\n<p>It seems to be acting on the directory name that has spaces as well as the files inside the directory. To note, If the path does not have spaces in it, it works fine.</p>\n\n<p>I've tried:</p>\n\n<ul>\n<li>Using double quotes, single quotes and / to escape spaces in path.</li>\n<li>I've tried using the Subst and Subs-all commands with same errors</li>\n</ul>\n\n<p>I've been searching for weeks and I cannot work it out. Is this a bug in the tool or my mind?</p>\n\n<p>Thanks.</p>\n"}, {"tags": ["perl", "mojolicious"], "answers": [{"comments": [{"owner": {"reputation": 3574, "user_id": 676192, "user_type": "registered", "accept_rate": 72, "profile_image": "https://www.gravatar.com/avatar/fcef8c55deae46cc0bfe986b2c189f70?s=128&d=identicon&r=PG", "display_name": "simone", "link": "https://stackoverflow.com/users/676192/simone"}, "edited": false, "score": 0, "creation_date": 1571470582, "post_id": 58461286, "comment_id": 103259103, "body": "Works, thanks! But why? They&#39;re both Mojo::DOM objects... (BTW - typo in the code : instead of ;)"}, {"owner": {"reputation": 53041, "user_id": 4653379, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/b3953dbedd0dabff5cbc3db9b0835b14?s=128&d=identicon&r=PG&f=1", "display_name": "zdim", "link": "https://stackoverflow.com/users/4653379/zdim"}, "reply_to_user": {"reputation": 3574, "user_id": 676192, "user_type": "registered", "accept_rate": 72, "profile_image": "https://www.gravatar.com/avatar/fcef8c55deae46cc0bfe986b2c189f70?s=128&d=identicon&r=PG", "display_name": "simone", "link": "https://stackoverflow.com/users/676192/simone"}, "edited": false, "score": 0, "creation_date": 1571472234, "post_id": 58461286, "comment_id": 103259371, "body": "@simone They are, indeed -- but I guess the tree just doesn&#39;t have an &quot;attribute.&quot;  Added to answer what the docs say about it."}, {"owner": {"reputation": 320771, "user_id": 589924, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/b2cf53d5a3d25f95c0db4e025aed4153?s=128&d=identicon&r=PG", "display_name": "ikegami", "link": "https://stackoverflow.com/users/589924/ikegami"}, "edited": false, "score": 1, "creation_date": 1571472650, "post_id": 58461286, "comment_id": 103259452, "body": "In DOM terms, <code>$dom</code> is a <i>document</i> node and <code>$dot-&gt;at(&#39;a&#39;)</code> is an <i>element</i> node. Only elements have attributes."}], "tags": [], "owner": {"reputation": 53041, "user_id": 4653379, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/b3953dbedd0dabff5cbc3db9b0835b14?s=128&d=identicon&r=PG&f=1", "display_name": "zdim", "link": "https://stackoverflow.com/users/4653379/zdim"}, "is_accepted": true, "score": 5, "last_activity_date": 1571472155, "last_edit_date": 1571472155, "creation_date": 1571468221, "answer_id": 58461286, "question_id": 58461175, "link": "https://stackoverflow.com/questions/58461175/how-do-i-set-a-nodes-attribute-with-mojodom/58461286#58461286", "title": "How do I set a node&#39;s attribute with Mojo::DOM?", "body": "<p>Need to <a href=\"https://mojolicious.org/perldoc/Mojo/DOM#at\" rel=\"noreferrer\">find and return</a> the element first, for which the attribute gets changed</p>\n\n<pre><code>use warnings;\nuse strict;\nuse feature 'say';\nuse Mojo::DOM;\n\nmy $dom = Mojo::DOM-&gt;new('&lt;a&gt;&lt;/a&gt;');\n\n$dom-&gt;at('a')-&gt;attr({ 'href' =&gt; 'https://foo/bar' });\n\nsay $dom;\n</code></pre>\n\n<p>This is needed as there is no \"attribute\" for the whole tree.  As <a href=\"https://metacpan.org/pod/Mojo::DOM#NODES-AND-ELEMENTS\" rel=\"noreferrer\">docs say</a> in the beginning</p>\n\n<blockquote>\n  <p>While all node types are represented as <code>Mojo::DOM</code> objects, some methods like <code>attr</code> and <code>namespace</code> only apply to elements.</p>\n</blockquote>\n\n<p>(\"<em>elements</em>\" being nodes of the type \"tag\", see the link)</p>\n"}], "owner": {"reputation": 3574, "user_id": 676192, "user_type": "registered", "accept_rate": 72, "profile_image": "https://www.gravatar.com/avatar/fcef8c55deae46cc0bfe986b2c189f70?s=128&d=identicon&r=PG", "display_name": "simone", "link": "https://stackoverflow.com/users/676192/simone"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 57, "favorite_count": 0, "accepted_answer_id": 58461286, "answer_count": 1, "score": 3, "last_activity_date": 1571472155, "creation_date": 1571467144, "question_id": 58461175, "link": "https://stackoverflow.com/questions/58461175/how-do-i-set-a-nodes-attribute-with-mojodom", "title": "How do I set a node&#39;s attribute with Mojo::DOM?", "body": "<p>I'm trying to set an attribute with Mojo::DOM like so:</p>\n\n<pre><code>use Mojo::DOM;\n\nmy $a = Mojo::DOM-&gt;new('&lt;a&gt;&lt;/a&gt;');\nmy $a = $a-&gt;attr({ 'href' =&gt; 'https://foo/bar' });\nprint $a;\n</code></pre>\n\n<p>I would expect it to print </p>\n\n<pre><code>&lt;a href=\"https://foo/bar\"&gt;&lt;/a&gt;\n</code></pre>\n\n<p>but I get</p>\n\n<pre><code>&lt;a&gt;&lt;/a&gt;\n</code></pre>\n\n<p>What am I doing wrong?</p>\n"}, {"tags": ["bash", "git", "perl", "zsh"], "comments": [{"owner": {"reputation": 30588, "user_id": 8705432, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/14e0f95975d80525786e419222821ff4?s=128&d=identicon&r=PG&f=1", "display_name": "bk2204", "link": "https://stackoverflow.com/users/8705432/bk2204"}, "edited": false, "score": 1, "creation_date": 1571434241, "post_id": 58458364, "comment_id": 103253749, "body": "Is it okay for this function to only work with stdin, or do you plan on supporting filename arguments as well?  How do you plan on distinguishing the two if you handle filename arguments?"}], "answers": [{"comments": [{"owner": {"reputation": 17747, "user_id": 241142, "user_type": "registered", "accept_rate": 58, "profile_image": "https://www.gravatar.com/avatar/dc690e6057d0756358e2d80409a945b1?s=128&d=identicon&r=PG", "display_name": "iconoclast", "link": "https://stackoverflow.com/users/241142/iconoclast"}, "edited": false, "score": 0, "creation_date": 1571459024, "post_id": 58458917, "comment_id": 103257385, "body": "This is brilliant, but it&#39;s not working for me.  My function which lists branches is <code>b--</code>, and even after I filter out the <code>*</code> from the current branch I get errors: <code>b-- | highlight &quot;$(git branch --no-merged master | sed &#39;s&#47;*&#47;&#47;&#39;)&quot;</code> gives me:"}, {"owner": {"reputation": 17747, "user_id": 241142, "user_type": "registered", "accept_rate": 58, "profile_image": "https://www.gravatar.com/avatar/dc690e6057d0756358e2d80409a945b1?s=128&d=identicon&r=PG", "display_name": "iconoclast", "link": "https://stackoverflow.com/users/241142/iconoclast"}, "edited": false, "score": 0, "creation_date": 1571459121, "post_id": 58458917, "comment_id": 103257401, "body": "<code>Number found where operator expected at -e line 1, near &quot;--352&quot; \t(Missing operator before 352?) Number found where operator expected at -e line 2, near &quot;--459&quot; \t(Missing operator before 459?) Unknown regexp modifier &quot;&#47;h&quot; at -e line 2, at end of line   (Might be a runaway multi-line &#47;&#47; string starting on line 1)</code>"}, {"owner": {"reputation": 17747, "user_id": 241142, "user_type": "registered", "accept_rate": 58, "profile_image": "https://www.gravatar.com/avatar/dc690e6057d0756358e2d80409a945b1?s=128&d=identicon&r=PG", "display_name": "iconoclast", "link": "https://stackoverflow.com/users/241142/iconoclast"}, "edited": false, "score": 0, "creation_date": 1571459133, "post_id": 58458917, "comment_id": 103257405, "body": "<code>syntax error at -e line 1, near &quot;--352&quot; syntax error at -e line 2, near &quot;--459&quot; syntax error at -e line 3, near &quot;;}continue{print or die qq(-p destination: $&quot;   (Might be a runaway multi-line $$ string starting on line 2) Missing right curly or square bracket at -e line 3, at end of line Execution of -e aborted due to compilation errors.</code>"}, {"owner": {"reputation": 17747, "user_id": 241142, "user_type": "registered", "accept_rate": 58, "profile_image": "https://www.gravatar.com/avatar/dc690e6057d0756358e2d80409a945b1?s=128&d=identicon&r=PG", "display_name": "iconoclast", "link": "https://stackoverflow.com/users/241142/iconoclast"}, "edited": false, "score": 0, "creation_date": 1571459216, "post_id": 58458917, "comment_id": 103257419, "body": "Some examples of the output of <code>b--</code> (where dates appear on the same line before branch names)  are <code>2019-10-11  feature&#47;smartsheet-integration--447 2019-10-12  config&#47;update-region-mapping--485 2019-10-17  feature&#47;check-level-5-in-xlsx--490 2019-10-17  master 2019-10-18  feature&#47;hide-tooltip-with-modal--459</code>"}, {"owner": {"reputation": 2414, "user_id": 5379657, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/7ab4a9ac2ee2c7a27f5d976d6a787970?s=128&d=identicon&r=PG&f=1", "display_name": "Jeff Y", "link": "https://stackoverflow.com/users/5379657/jeff-y"}, "edited": false, "score": 0, "creation_date": 1571676884, "post_id": 58458917, "comment_id": 103311851, "body": "You&#39;re running into the problem that the <code>&#47;</code> in the data is messing with the <code>&#47;</code> perl delimiters I think. Try <code>perl -pe &quot;s#$*#\\e[1;31;43m$&amp;\\e[0m#g&quot;</code>."}, {"owner": {"reputation": 317, "user_id": 7970594, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/d1d678958fe759c1e98b50c20810320d?s=128&d=identicon&r=PG", "display_name": "Jonny Morrill", "link": "https://stackoverflow.com/users/7970594/jonny-morrill"}, "reply_to_user": {"reputation": 2414, "user_id": 5379657, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/7ab4a9ac2ee2c7a27f5d976d6a787970?s=128&d=identicon&r=PG&f=1", "display_name": "Jeff Y", "link": "https://stackoverflow.com/users/5379657/jeff-y"}, "edited": false, "score": 0, "creation_date": 1571683964, "post_id": 58458917, "comment_id": 103314955, "body": "@JeffY is correct, I also think that perhaps other special characters need to be escaped. There might be a simpler way to do this, would need to investigate some other tools or options for the regular expression."}], "tags": [], "owner": {"reputation": 317, "user_id": 7970594, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/d1d678958fe759c1e98b50c20810320d?s=128&d=identicon&r=PG", "display_name": "Jonny Morrill", "link": "https://stackoverflow.com/users/7970594/jonny-morrill"}, "is_accepted": false, "score": 1, "last_activity_date": 1571438349, "last_edit_date": 1571438349, "creation_date": 1571437970, "answer_id": 58458917, "question_id": 58458364, "link": "https://stackoverflow.com/questions/58458364/how-to-highlight-multiple-matches/58458917#58458917", "title": "How to highlight multiple matches?", "body": "<p>You can easily accomplish this by leveraging a special parameter in bash and by simplifying your perl regular expression. I can explain them both a bit further:</p>\n\n<p><strong>Bash/Zsh Special Parameter</strong></p>\n\n<p>See the man page for more info. (<a href=\"https://tiswww.case.edu/php/chet/bash/bashref.html#Special-Parameters\" rel=\"nofollow noreferrer\">https://tiswww.case.edu/php/chet/bash/bashref.html#Special-Parameters</a>)</p>\n\n<p>In bash you can access all of the arguments passed to a function using the <code>$*</code> special parameter, this allows you to easily handle a variable number of parameters. In your case, you want to search for and highlight each of the passed values. The nice thing about the <code>$*</code> is that it will separate the parameters by whatever value is set for the <code>IFS</code> variable.</p>\n\n<p><strong>Multi-Matching Regular Expression</strong></p>\n\n<p>Rather than duplicate the matching logic by adding extra rules, you can simply use an <code>OR</code> conditional in your expression to search for multiple words in your document. This is done by adding a pipe (<code>|</code>) between the words you are searching for.</p>\n\n<p>Putting it all together, we can use a function like this to support searching for multiple words in a document.</p>\n\n<pre><code>function highlight() {\n  IFS='|'\n  perl -pe \"s/$*/\\e[1;31;43m$&amp;\\e[0m/g\"\n}\n</code></pre>\n\n<p>This is a fairly simple example and it will even work correctly if your target string contains spaces like this:</p>\n\n<p><code>highlight \"my string\"</code></p>\n"}], "owner": {"reputation": 17747, "user_id": 241142, "user_type": "registered", "accept_rate": 58, "profile_image": "https://www.gravatar.com/avatar/dc690e6057d0756358e2d80409a945b1?s=128&d=identicon&r=PG", "display_name": "iconoclast", "link": "https://stackoverflow.com/users/241142/iconoclast"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 75, "favorite_count": 0, "answer_count": 1, "score": 1, "last_activity_date": 1571438349, "creation_date": 1571433679, "question_id": 58458364, "link": "https://stackoverflow.com/questions/58458364/how-to-highlight-multiple-matches", "title": "How to highlight multiple matches?", "body": "<p>I have a shell function (which I use in Zsh, but it should work in Bash) that highlights matching text in output, so I can quickly find things.</p>\n\n<pre><code>function highlight() {\n  perl -pe \"s/$1/\\e[1;31;43m$&amp;\\e[0m/g\"\n}\n</code></pre>\n\n<p>This is very handy, but it only works with a single argument.  If I had a fixed number of arguments, I could do something like:</p>\n\n<pre><code>perl -pe \"s/abc/def/; s/fgh/hij/;\"\n</code></pre>\n\n<p>but of course that's crazy.  How can I make this work with an unspecified number of arguments?</p>\n\n<p>My particular use case (in case it makes a difference) is to pipe a list of Git branches through it, and highlight the output of <code>$(git branch --no-merged master)</code> in the list, so I can see all unmerged branches highlighted in the context of a larger list of all branches.</p>\n"}, {"tags": ["linux", "shell", "perl", "unix", "grep"], "answers": [{"comments": [{"owner": {"reputation": 3135, "user_id": 3597746, "user_type": "registered", "accept_rate": 92, "profile_image": "https://www.gravatar.com/avatar/35dd4b015d9f5c53ebb7d1a31a0d1f08?s=128&d=identicon&r=PG&f=1", "display_name": "Ammad", "link": "https://stackoverflow.com/users/3597746/ammad"}, "edited": false, "score": 0, "creation_date": 1571442020, "post_id": 58458581, "comment_id": 103255303, "body": "I edit the question. and mention that i want to only add a line at the end of those file that don&#39;t contain remarks."}, {"owner": {"reputation": 3135, "user_id": 3597746, "user_type": "registered", "accept_rate": 92, "profile_image": "https://www.gravatar.com/avatar/35dd4b015d9f5c53ebb7d1a31a0d1f08?s=128&d=identicon&r=PG&f=1", "display_name": "Ammad", "link": "https://stackoverflow.com/users/3597746/ammad"}, "edited": false, "score": 0, "creation_date": 1571442727, "post_id": 58458581, "comment_id": 103255435, "body": "How this solution works for all of the subdirectories under technology directory?"}], "tags": [], "owner": {"reputation": 663663, "user_id": 15168, "user_type": "registered", "accept_rate": 100, "profile_image": "https://i.stack.imgur.com/WtEI9.png?s=128&g=1", "display_name": "Jonathan Leffler", "link": "https://stackoverflow.com/users/15168/jonathan-leffler"}, "is_accepted": false, "score": 3, "last_activity_date": 1571435256, "creation_date": 1571435256, "answer_id": 58458581, "question_id": 58457575, "link": "https://stackoverflow.com/questions/58457575/how-to-add-a-line-to-multiple-text-files-under-different-sub-directories-only-if/58458581#58458581", "title": "How to add a line to multiple text files under different sub-directories only if the line doesn&#39;t exist?", "body": "<p>It isn't entirely clear if you want to update the rows containing <code>Remarks</code> in the files that already contain such a line or you want to leave those files unchanged and only add a line at the end of those file that don't contain remarks.</p>\n\n<p>Fortunately, there isn't much difference.  This code should work for \"edit existing <code>Remarks</code> lines; add a new <code>Remarks</code> line if there isn't one already\":</p>\n\n<pre><code>#!/usr/bin/env perl -i\n\nuse strict;\nuse warnings;\n\nmy $num_remarks = 0;\n\nwhile (&lt;&gt;)\n{\n    $num_remarks++ if s/Remarks.*/Remarks: NEW Value $$/;\n    print;\n}\ncontinue\n{\n    if (eof)\n    {\n        print \"Remarks: NEW Value $$\\n\" if $num_remarks == 0;\n        $num_remarks = 0;\n    }\n}\n</code></pre>\n\n<p>The alternative requirement \"leave existing <code>Remarks</code> lines unchanged; add a new <code>Remarks</code> line if there isn't one\" can be handled with:</p>\n\n<pre><code>#!/usr/bin/env perl -i\n\nuse strict;\nuse warnings;\n\nmy $num_remarks = 0;\n\nwhile (&lt;&gt;)\n{\n    $num_remarks++ if m/Remarks/;   # m// instead of s///\n    print;\n}\ncontinue\n{\n    if (eof)\n    {\n        print \"Remarks: NEW Value $$\\n\" if $num_remarks == 0;\n        $num_remarks = 0;\n    }\n}\n</code></pre>\n\n<p>There are probably shorter ways to write this code.  Both variants include the PID of the Perl process in the 'Remarks' line when it is added.  This makes it easier to see when things are changed.</p>\n"}], "owner": {"reputation": 3135, "user_id": 3597746, "user_type": "registered", "accept_rate": 92, "profile_image": "https://www.gravatar.com/avatar/35dd4b015d9f5c53ebb7d1a31a0d1f08?s=128&d=identicon&r=PG&f=1", "display_name": "Ammad", "link": "https://stackoverflow.com/users/3597746/ammad"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 66, "favorite_count": 2, "answer_count": 1, "score": 0, "last_activity_date": 1571774220, "creation_date": 1571429528, "last_edit_date": 1571774220, "question_id": 58457575, "link": "https://stackoverflow.com/questions/58457575/how-to-add-a-line-to-multiple-text-files-under-different-sub-directories-only-if", "title": "How to add a line to multiple text files under different sub-directories only if the line doesn&#39;t exist?", "body": "<p>I have a directory called \"technology\" and under \"technology\" directory I have multiple sub-directories nested up to two levels max.</p>\n\n<p>Under every sub-directory I have at least one \"*.txt\" file which could have up to 20 to 30 lines entry in it.</p>\n\n<p>Now, I want to add \"Remarks\" line in every *.txt files spanning across multiple sub-directories only if the line is not there already.</p>\n\n<p>I am getting list of all files under sub-directory using:</p>\n\n<pre><code>find ./ -name '*.txt'\n</code></pre>\n\n<p>I am using below mention Perl script to update entries, with new remarks as shown below.</p>\n\n<pre><code>/technology$ perl -p -i -e 's/Remarks.*/Remarks: NEW Value/'   'find ./ -name *.txt'\n</code></pre>\n\n<p>Problem with above script is that it only updates the existing remarks field. </p>\n\n<p>How can I add an entry (one liner remarks) to ONLY those files that don't actually have it already?</p>\n\n<p>I want to add line to only those files that don't contain a \"Remarks line\".</p>\n"}, {"tags": ["perl"], "comments": [{"owner": {"reputation": 62184, "user_id": 7231, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/81b76985f3985e35492e25880493d045?s=128&d=identicon&r=PG", "display_name": "Dave Cross", "link": "https://stackoverflow.com/users/7231/dave-cross"}, "edited": false, "score": 0, "creation_date": 1571574700, "post_id": 58457337, "comment_id": 103279196, "body": "Why would you use Perl 5.8 in 2019?"}], "answers": [{"tags": [], "owner": {"reputation": 8718, "user_id": 5848200, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/a8072aaf76dcb4fe5027964252f16382?s=128&d=identicon&r=PG", "display_name": "Grinnz", "link": "https://stackoverflow.com/users/5848200/grinnz"}, "is_accepted": false, "score": 4, "last_activity_date": 1571428799, "creation_date": 1571428799, "answer_id": 58457432, "question_id": 58457337, "link": "https://stackoverflow.com/questions/58457337/how-do-i-get-the-date-in-mm-dd-yyyy-format-in-perl-i-am-using-perl-5-8/58457432#58457432", "title": "How do I get the date in MM/DD/YYYY format in perl. I am using perl 5.8", "body": "<p>You are correct that <a href=\"https://perldoc.pl/Time::Piece\" rel=\"nofollow noreferrer\">Time::Piece</a> is only core since Perl 5.10. But you can install it from CPAN. You could then use its strftime method:</p>\n\n<pre><code>use strict;\nuse warnings;\nuse Time::Piece;\nmy $date = localtime-&gt;strftime('%m/%d/%Y');\n</code></pre>\n\n<p>Without it, you can use the built-in <a href=\"https://perldoc.pl/functions/localtime\" rel=\"nofollow noreferrer\">localtime</a> function, which also has a nicer wrapper <a href=\"https://perldoc.pl/Time::localtime\" rel=\"nofollow noreferrer\">Time::localtime</a> (even in 5.8). You just have to be careful because the values returned by POSIX localtime aren't exactly what you'd expect.</p>\n\n<pre><code>use strict;\nuse warnings;\nuse Time::localtime;\nmy $now = localtime;\nmy $date = sprintf '%02d/%02d/%04d', $now-&gt;mon + 1, $now-&gt;mday, $now-&gt;year + 1900;\n</code></pre>\n"}, {"tags": [], "owner": {"reputation": 320771, "user_id": 589924, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/b2cf53d5a3d25f95c0db4e025aed4153?s=128&d=identicon&r=PG", "display_name": "ikegami", "link": "https://stackoverflow.com/users/589924/ikegami"}, "is_accepted": false, "score": 5, "last_activity_date": 1571493664, "last_edit_date": 1571493664, "creation_date": 1571468255, "answer_id": 58461292, "question_id": 58457337, "link": "https://stackoverflow.com/questions/58457337/how-do-i-get-the-date-in-mm-dd-yyyy-format-in-perl-i-am-using-perl-5-8/58461292#58461292", "title": "How do I get the date in MM/DD/YYYY format in perl. I am using perl 5.8", "body": "<pre><code>use POSIX qw( strftime );\n\nstrftime('%m/%d/%Y', localtime)\n</code></pre>\n"}], "owner": {"reputation": 141, "user_id": 11210300, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/a6a767a09fade8720041934a4938a92e?s=128&d=identicon&r=PG", "display_name": "Makuza", "link": "https://stackoverflow.com/users/11210300/makuza"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 66, "favorite_count": 0, "answer_count": 2, "score": 0, "last_activity_date": 1571493664, "creation_date": 1571428253, "question_id": 58457337, "link": "https://stackoverflow.com/questions/58457337/how-do-i-get-the-date-in-mm-dd-yyyy-format-in-perl-i-am-using-perl-5-8", "title": "How do I get the date in MM/DD/YYYY format in perl. I am using perl 5.8", "body": "<p>Hi I am trying to store the date in a variable $date. I will then use Excel::Writer::XLSX to print the date into a cell. I am using perl 5.8. I know a lot of the modules used for getting the date such as TimePiece were installed in later versions of perl.</p>\n"}, {"tags": ["perl", "apache2.2", "strawberry-perl", "mod-perl2"], "comments": [{"owner": {"reputation": 320771, "user_id": 589924, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/b2cf53d5a3d25f95c0db4e025aed4153?s=128&d=identicon&r=PG", "display_name": "ikegami", "link": "https://stackoverflow.com/users/589924/ikegami"}, "edited": false, "score": 0, "creation_date": 1571410750, "post_id": 58452695, "comment_id": 103244432, "body": "From a quick search, it appears to a file generated during the installation of Apache"}, {"owner": {"reputation": 38072, "user_id": 46395, "user_type": "registered", "accept_rate": 71, "profile_image": "https://www.gravatar.com/avatar/5ce828f20abb195ef5d971205ee36c27?s=128&d=identicon&r=PG", "display_name": "daxim", "link": "https://stackoverflow.com/users/46395/daxim"}, "edited": false, "score": 1, "creation_date": 1571429655, "post_id": 58452695, "comment_id": 103252255, "body": "<a href=\"http://people.apache.org/~stevehay/\" rel=\"nofollow noreferrer\">people.apache.org/~stevehay</a>"}, {"owner": {"reputation": 21, "user_id": 7671361, "user_type": "registered", "profile_image": "https://lh3.googleusercontent.com/-4FwoQfNJLQ4/AAAAAAAAAAI/AAAAAAAAAEQ/W8ilwF1zEQE/photo.jpg?sz=128", "display_name": "sydnej", "link": "https://stackoverflow.com/users/7671361/sydnej"}, "edited": false, "score": 0, "creation_date": 1571603261, "post_id": 58452695, "comment_id": 103286610, "body": "Yes, I&#39;ve found it before and tested it, but it doesn&#39;t work for Apache2.2 :("}], "owner": {"reputation": 21, "user_id": 7671361, "user_type": "registered", "profile_image": "https://lh3.googleusercontent.com/-4FwoQfNJLQ4/AAAAAAAAAAI/AAAAAAAAAEQ/W8ilwF1zEQE/photo.jpg?sz=128", "display_name": "sydnej", "link": "https://stackoverflow.com/users/7671361/sydnej"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 200, "favorite_count": 0, "answer_count": 0, "score": 2, "last_activity_date": 1571728817, "creation_date": 1571408178, "last_edit_date": 1571728817, "question_id": 58452695, "link": "https://stackoverflow.com/questions/58452695/compile-mod-perl2-for-strawberry-5-30-on-windows", "title": "Compile mod_perl2 for strawberry 5.30 on windows", "body": "<p>I have a problem compiling <code>mod_perl2</code> for strawberry5.30 and apache2.2 on Windows. </p>\n\n<p><strong>Version Details:</strong></p>\n\n<ul>\n<li><p>Running:</p>\n\n<pre><code>perl -v\n</code></pre>\n\n<p>prints the following version information:</p>\n\n<blockquote>\n  <p><code>This is perl 5, version 30, subversion 0 (v5.30.0) built for MSWin32-x86-multi-thread-64int</code></p>\n</blockquote></li>\n<li><p>Strawberry and apache are 32bit version.</p></li>\n</ul>\n\n<hr>\n\n<p><strong>The issue:</strong></p>\n\n<p>When I run <code>nmake</code> in the <code>mod_perl</code> directory it returns the following  error:</p>\n\n<blockquote>\n<pre><code>    C:\\Users\\KWS\\Downloads\\mod_perl-2.0.11&gt;nmake\n\n    Narz\u0119dzie do konserwacji program\u00f3w firmy Microsoft (R) 14.23.28106.4\n    Copyright (C) Microsoft Corporation. Wszelkie prawa zastrze\u017cone.\n\n            cd \"src/modules/perl\" &amp;&amp; gmake\n    gcc -IC:/Users/KWS/Downloads/mod_perl-2.0.11/src/modules/perl -IC:/Users/KWS/Downloads/mod_perl-2.0.11/xs -IC:\\Apache2.2\\include -I\"C:\\Apache2.2\\include\"   -IC:\\Apache2.2\\include -s -O2 -DWIN32 -D__USE_MINGW_ANSI_STDIO -DPERL_TEXTMODE_SCRIPTS -DPERL_IMPLICIT_CONTEXT -DPERL_IMPLICIT_SYS -DUSE_PERLIO -fwrapv -fno-strict-aliasing -mms-bitfields -I\"C:\\strawberry\\perl\\lib\\CORE\" -DMOD_PERL -DMP_COMPAT_1X -fgnu89-inline -s -O2  \\\n    -c mod_perl.c &amp;&amp; C:\\strawberry\\perl\\bin\\perl.exe -MExtUtils::Command -e mv -- mod_perl.o mod_perl.lo\n    In file included from C:\\Apache2.2\\include/httpd.h:43,\n                     from modperl_apache_includes.h:27,\n                     from mod_perl.h:20,\n                     from mod_perl.c:17:\n    C:\\Apache2.2\\include/ap_config.h:234:10: fatal error: ap_config_auto.h: No such file or directory\n     #include \"ap_config_auto.h\"\n              ^~~~~~~~~~~~~~~~~~\n    compilation terminated.\n    gmake: *** [Makefile:124: mod_perl.lo] Error 1\n    NMAKE : fatal error U1077: \u201ecd\u201d: kod powrotu \u201e0x2\u201d\n    Stop.\n</code></pre>\n</blockquote>\n\n<p>I read that the <code>ap_config_auto</code> is for unix system and it shouldn't be on Windows.</p>\n\n<p>EDIT:</p>\n\n<p>I started to correct Makefile and I fixed the problemm by removing one condition, but I have next problem that i can't solve:</p>\n\n<pre><code>cd \"src/modules/perl\" &amp;&amp; gmake\nC:/strawberry/perl/bin/perl.exe -MExtUtils::Command -e rm_f -- mod_perl.so\ng++ -mdll -s -L\"C:\\strawberry\\perl\\lib\\CORE\" -L\"C:\\strawberry\\c\\lib\" \\\nC:/Apache2.2/lib/libapr-1.lib C:/Apache2.2/lib/libaprutil-1.lib C:/Apache2.2/lib/libhttpd.lib \\\nmod_perl.lo modperl_interp.lo modperl_tipool.lo modperl_log.lo modperl_config.lo modperl_cmd.lo modperl_options.lo modperl_callback.lo modperl_handler.lo modperl_gtop.lo modperl_util.lo modperl_io.lo modperl_io_apache.lo modperl_filter.lo modperl_bucket.lo modperl_mgv.lo modperl_pcw.lo modperl_global.lo modperl_env.lo modperl_cgi.lo modperl_perl.lo modperl_perl_global.lo modperl_perl_pp.lo modperl_sys.lo modperl_module.lo modperl_svptr_table.lo modperl_const.lo modperl_constants.lo modperl_apache_compat.lo modperl_error.lo modperl_debug.lo modperl_common_util.lo modperl_common_log.lo modperl_hooks.lo modperl_directives.lo modperl_flags.lo modperl_xsinit.lo modperl_exports.lo  \"C:\\strawberry\\perl\\lib\\CORE\\libperl530.a\" \"C:\\strawberry\\c\\i686-w64-mingw32\\lib\\libmoldname.a\" \"C:\\strawberry\\c\\i686-w64-mingw32\\lib\\libkernel32.a\" \"C:\\strawberry\\c\\i686-w64-mingw32\\lib\\libuser32.a\" \"C:\\strawberry\\c\\i686-w64-mingw32\\lib\\libgdi32.a\" \"C:\\strawberry\\c\\i686-w64-mingw32\\lib\\libwinspool.a\" \"C:\\strawberry\\c\\i686-w64-mingw32\\lib\\libcomdlg32.a\" \"C:\\strawberry\\c\\i686-w64-mingw32\\lib\\libadvapi32.a\" \"C:\\strawberry\\c\\i686-w64-mingw32\\lib\\libshell32.a\" \"C:\\strawberry\\c\\i686-w64-mingw32\\lib\\libole32.a\" \"C:\\strawberry\\c\\i686-w64-mingw32\\lib\\liboleaut32.a\" \"C:\\strawberry\\c\\i686-w64-mingw32\\lib\\libnetapi32.a\" \"C:\\strawberry\\c\\i686-w64-mingw32\\lib\\libuuid.a\" \"C:\\strawberry\\c\\i686-w64-mingw32\\lib\\libws2_32.a\" \"C:\\strawberry\\c\\i686-w64-mingw32\\lib\\libmpr.a\" \"C:\\strawberry\\c\\i686-w64-mingw32\\lib\\libwinmm.a\" \"C:\\strawberry\\c\\i686-w64-mingw32\\lib\\libversion.a\" \"C:\\strawberry\\c\\i686-w64-mingw32\\lib\\libodbc32.a\" \"C:\\strawberry\\c\\i686-w64-mingw32\\lib\\libodbccp32.a\" \"C:\\strawberry\\c\\i686-w64-mingw32\\lib\\libcomctl32.a\" \\\n-def:C:/Users/KWS/mod_perl/xs/modperl.def -out:mod_perl.so\nC:/strawberry/c/bin/../lib/gcc/i686-w64-mingw32/8.3.0/../../../../i686-w64-mingw32/bin/ld.exe: mod_perl.lo:mod_perl.c:(.text+0x1e7): undefined reference to `_imp__apr_dynamic_fn_register'\nC:/strawberry/c/bin/../lib/gcc/i686-w64-mingw32/8.3.0/../../../../i686-w64-mingw32/bin/ld.exe: mod_perl.lo:mod_perl.c:(.text+0x20e): undefined reference to `_imp__ap_server_config_defines'\nC:/strawberry/c/bin/../lib/gcc/i686-w64-mingw32/8.3.0/../../../../i686-w64-mingw32/bin/ld.exe: mod_perl.lo:mod_perl.c:(.text+0x21b): undefined reference to `_imp__apr_array_push@4'\nC:/strawberry/c/bin/../lib/gcc/i686-w64-mingw32/8.3.0/../../../../i686-w64-mingw32/bin/ld.exe: mod_perl.lo:mod_perl.c:(.text+0x231): undefined reference to `_imp__apr_pstrdup@8'\nC:/strawberry/c/bin/../lib/gcc/i686-w64-mingw32/8.3.0/../../../../i686-w64-mingw32/bin/ld.exe: mod_perl.lo:mod_perl.c:(.text+0x25b): undefined reference to `_imp__ap_hook_pre_config@16'\nC:/strawberry/c/bin/../lib/gcc/i686-w64-mingw32/8.3.0/../../../../i686-w64-mingw32/bin/ld.exe: mod_perl.lo:mod_perl.c:(.text+0x283): undefined reference to `_imp__ap_hook_open_logs@16'\nC:/strawberry/c/bin/../lib/gcc/i686-w64-mingw32/8.3.0/../../../../i686-w64-mingw32/bin/ld.exe: mod_perl.lo:mod_perl.c:(.text+0x2ab): undefined reference to `_imp__ap_hook_post_config@16'\nC:/strawberry/c/bin/../lib/gcc/i686-w64-mingw32/8.3.0/../../../../i686-w64-mingw32/bin/ld.exe: mod_perl.lo:mod_perl.c:(.text+0x2b1): undefined reference to `_imp__ap_hook_handler@16'\nC:/strawberry/c/bin/../lib/gcc/i686-w64-mingw32/8.3.0/../../../../i686-w64-mingw32/bin/ld.exe: mod_perl.lo:mod_perl.c:(.text+0x2ff): undefined reference to `_imp__ap_hook_insert_filter@16'\nC:/strawberry/c/bin/../lib/gcc/i686-w64-mingw32/8.3.0/../../../../i686-w64-mingw32/bin/ld.exe: mod_perl.lo:mod_perl.c:(.text+0x34d): undefined reference to `_imp__ap_register_output_filter@16'\nC:/strawberry/c/bin/../lib/gcc/i686-w64-mingw32/8.3.0/../../../../i686-w64-mingw32/bin/ld.exe: mod_perl.lo:mod_perl.c:(.text+0x377): undefined reference to `_imp__ap_register_input_filter@16'\n...\nC:/strawberry/c/bin/../lib/gcc/i686-w64-mingw32/8.3.0/../../../../i686-w64-mingw32/bin/ld.exe: modperl_module.lo:modperl_module.c:(.text+0x2db2): undefined reference to `_imp__apr_hash_set@16'\nC:/strawberry/c/bin/../lib/gcc/i686-w64-mingw32/8.3.0/../../../../i686-w64-mingw32/bin/ld.exe: modperl_module.lo:modperl_module.c:(.text+0x2e6d): undefined reference to `_imp__apr_hash_make@4'\nC:/strawberry/c/bin/../lib/gcc/i686-w64-mingw32/8.3.0/../../../../i686-w64-mingw32/bin/ld.exe: modperl_module.lo:modperl_module.c:(.text+0x2efa): undefined reference to `_imp__apr_hash_get@12'\nC:/strawberry/c/bin/../lib/gcc/i686-w64-mingw32/8.3.0/../../../../i686-w64-mingw32/bin/ld.exe: modperl_error.lo:modperl_error.c:(.text+0x65): undefined reference to `_imp__apr_strerror@12'\nC:/strawberry/c/bin/../lib/gcc/i686-w64-mingw32/8.3.0/../../../../i686-w64-mingw32/bin/ld.exe: modperl_debug.lo:modperl_debug.c:(.text+0x27): undefined reference to `_imp__apr_psprintf'\nC:/strawberry/c/bin/../lib/gcc/i686-w64-mingw32/8.3.0/../../../../i686-w64-mingw32/bin/ld.exe: modperl_common_util.lo:modperl_common_util.c:(.text+0x336): undefined reference to `_imp__apr_palloc@8'\nC:/strawberry/c/bin/../lib/gcc/i686-w64-mingw32/8.3.0/../../../../i686-w64-mingw32/bin/ld.exe: modperl_common_log.lo:modperl_common_log.c:(.text+0x67): undefined reference to `_imp__apr_os_thread_current@0'\nC:/strawberry/c/bin/../lib/gcc/i686-w64-mingw32/8.3.0/../../../../i686-w64-mingw32/bin/ld.exe: modperl_common_log.lo:modperl_common_log.c:(.text+0x8d): undefined reference to `_imp__apr_file_printf'\nC:/strawberry/c/bin/../lib/gcc/i686-w64-mingw32/8.3.0/../../../../i686-w64-mingw32/bin/ld.exe: modperl_common_log.lo:modperl_common_log.c:(.text+0xe3): undefined reference to `_imp__apr_vsnprintf@16'\nC:/strawberry/c/bin/../lib/gcc/i686-w64-mingw32/8.3.0/../../../../i686-w64-mingw32/bin/ld.exe: modperl_common_log.lo:modperl_common_log.c:(.text+0x104): undefined reference to `_imp__apr_file_write@12'\nC:/strawberry/c/bin/../lib/gcc/i686-w64-mingw32/8.3.0/../../../../i686-w64-mingw32/bin/ld.exe: modperl_common_log.lo:modperl_common_log.c:(.text+0x14a): undefined reference to `_imp__apr_file_printf'\nC:/strawberry/c/bin/../lib/gcc/i686-w64-mingw32/8.3.0/../../../../i686-w64-mingw32/bin/ld.exe: modperl_hooks.lo:modperl_hooks.c:(.text+0x314): undefined reference to `_imp__ap_hook_process_connection@16'\nC:/strawberry/c/bin/../lib/gcc/i686-w64-mingw32/8.3.0/../../../../i686-w64-mingw32/bin/ld.exe: modperl_hooks.lo:modperl_hooks.c:(.text+0x33c): undefined reference to `_imp__ap_hook_open_logs@16'\nC:/strawberry/c/bin/../lib/gcc/i686-w64-mingw32/8.3.0/../../../../i686-w64-mingw32/bin/ld.exe: modperl_hooks.lo:modperl_hooks.c:(.text+0x364): undefined reference to `_imp__ap_hook_post_config@16'\nC:/strawberry/c/bin/../lib/gcc/i686-w64-mingw32/8.3.0/../../../../i686-w64-mingw32/bin/ld.exe: modperl_hooks.lo:modperl_hooks.c:(.text+0x38c): undefined reference to `_imp__ap_hook_header_parser@16'\nC:/strawberry/c/bin/../lib/gcc/i686-w64-mingw32/8.3.0/../../../../i686-w64-mingw32/bin/ld.exe: modperl_hooks.lo:modperl_hooks.c:(.text+0x3b4): undefined reference to `_imp__ap_hook_access_checker@16'\nC:/strawberry/c/bin/../lib/gcc/i686-w64-mingw32/8.3.0/../../../../i686-w64-mingw32/bin/ld.exe: modperl_hooks.lo:modperl_hooks.c:(.text+0x47c): undefined reference to `_imp__ap_hook_log_transaction@16'\nC:/strawberry/c/bin/../lib/gcc/i686-w64-mingw32/8.3.0/../../../../i686-w64-mingw32/bin/ld.exe: modperl_hooks.lo:modperl_hooks.c:(.text+0x4a4): undefined reference to `_imp__ap_hook_post_read_request@16'\nC:/strawberry/c/bin/../lib/gcc/i686-w64-mingw32/8.3.0/../../../../i686-w64-mingw32/bin/ld.exe: modperl_hooks.lo:modperl_hooks.c:(.text+0x4cc): undefined reference to `_imp__ap_hook_translate_name@16'\nC:/strawberry/c/bin/../lib/gcc/i686-w64-mingw32/8.3.0/../../../../i686-w64-mingw32/bin/ld.exe: modperl_hooks.lo:modperl_hooks.c:(.text+0x4f4): undefined reference to `_imp__ap_hook_map_to_storage@16'\nC:/strawberry/c/bin/../lib/gcc/i686-w64-mingw32/8.3.0/../../../../i686-w64-mingw32/bin/ld.exe: modperl_hooks.lo:modperl_hooks.c:(.text+0x51c): undefined reference to `_imp__ap_hook_pre_connection@16'\nC:/strawberry/c/bin/../lib/gcc/i686-w64-mingw32/8.3.0/../../../../i686-w64-mingw32/bin/ld.exe: modperl_hooks.lo:modperl_hooks.c:(.text+0x544): undefined reference to `_imp__ap_hook_child_init@16'\nC:/strawberry/c/bin/../lib/gcc/i686-w64-mingw32/8.3.0/../../../../i686-w64-mingw32/bin/ld.exe: modperl_directives.lo:modperl_directives.c:(.text+0x6c): undefined reference to `_imp__apr_pstrcat'\nC:/strawberry/c/bin/../lib/gcc/i686-w64-mingw32/8.3.0/../../../../i686-w64-mingw32/bin/ld.exe: modperl_directives.lo:modperl_directives.c:(.text+0x9c): undefined reference to `_imp__apr_pstrcat'\nC:/strawberry/c/bin/../lib/gcc/i686-w64-mingw32/8.3.0/../../../../i686-w64-mingw32/bin/ld.exe: modperl_directives.lo:modperl_directives.c:(.text+0x11c): undefined reference to `_imp__apr_pstrcat'\nC:/strawberry/c/bin/../lib/gcc/i686-w64-mingw32/8.3.0/../../../../i686-w64-mingw32/bin/ld.exe: modperl_directives.lo:modperl_directives.c:(.text+0x14c): undefined reference to `_imp__apr_pstrcat'\nC:/strawberry/c/bin/../lib/gcc/i686-w64-mingw32/8.3.0/../../../../i686-w64-mingw32/bin/ld.exe: modperl_directives.lo:modperl_directives.c:(.text+0x1cc): undefined reference to `_imp__apr_pstrcat'\nC:/strawberry/c/bin/../lib/gcc/i686-w64-mingw32/8.3.0/../../../../i686-w64-mingw32/bin/ld.exe: modperl_directives.lo:modperl_directives.c:(.text+0x1fc): more undefined references to `_imp__apr_pstrcat' follow\ncollect2.exe: error: ld returned 1 exit status\ngmake: *** [Makefile:166: mod_perl.so] Error 1\nNMAKE : fatal error U1077: \u201ecd\u201d: kod powrotu \u201e0x2\u201d\nStop.\n</code></pre>\n"}, {"tags": ["regex", "perl"], "comments": [{"owner": {"reputation": 481636, "user_id": 3832970, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/64323e6cf08401474da3bf770ea13b58?s=128&d=identicon&r=PG&f=1", "display_name": "Wiktor Stribi\u017cew", "link": "https://stackoverflow.com/users/3832970/wiktor-stribi%c5%bcew"}, "edited": false, "score": 3, "creation_date": 1571405807, "post_id": 58452015, "comment_id": 103241655, "body": "Group subpatterns: <code>prefix(?:one|two|three)suffix</code>"}, {"owner": {"reputation": 7444, "user_id": 967621, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/zOso6.jpg?s=128&g=1", "display_name": "Timur Shtatland", "link": "https://stackoverflow.com/users/967621/timur-shtatland"}, "edited": false, "score": 0, "creation_date": 1571430465, "post_id": 58452015, "comment_id": 103252521, "body": "Here is an example of what you may want in Perl: <code>perl -le &#39;print &quot;Complete this list for Dave by five&quot; =~ m{Complete \\s+ this \\s+ list \\s+ for \\s+ ( Dave | Paul | Adam ) \\s+ by \\s+ five}xms;&#39;</code> Prints: <code>Dave</code>"}], "owner": {"reputation": 305, "user_id": 6139563, "user_type": "registered", "accept_rate": 75, "profile_image": "https://i.stack.imgur.com/pepuy.jpg?s=128&g=1", "display_name": "greenage", "link": "https://stackoverflow.com/users/6139563/greenage"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 21, "favorite_count": 0, "closed_date": 1571405789, "answer_count": 0, "score": 1, "last_activity_date": 1571437194, "creation_date": 1571405736, "last_edit_date": 1571437194, "question_id": 58452015, "link": "https://stackoverflow.com/questions/58452015/match-string-with-3-possible-variations-in-the-middle", "closed_reason": "Duplicate", "title": "Match string with 3 possible variations in the middle", "body": "<p>I'm looking to match the following strings:</p>\n\n<pre><code>Complete this list for Dave by five\nComplete this list for Paul by five\nComplete this list for Adam by five\n</code></pre>\n\n<p>Here is the regex I've tried:</p>\n\n<pre><code>*Complete\\sthis\\slist\\sfor\\sDave|Paul|Adam\\sby\\sfive*\n</code></pre>\n\n<p>But in my regex checker, Paul is matched even if the rest of the string is excluded (not present).</p>\n\n<p>I've also tried:</p>\n\n<pre><code>*Complete\\sthis\\slist\\sfor\\s\\bDave|Paul|Adam\\b\\sby\\sfive*\n</code></pre>\n\n<p>But I still get a match with a single word 'Paul'.</p>\n\n<p>Working in Perl regex, what would be the best way to capture all variations of the string in regex?</p>\n\n<p>Thanks,</p>\n"}, {"tags": ["linux", "perl"], "answers": [{"tags": [], "owner": {"reputation": 3509, "user_id": 4243840, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/aaeabd769bae1bf82fd4b8882fed6653?s=128&d=identicon&r=PG", "display_name": "JGNI", "link": "https://stackoverflow.com/users/4243840/jgni"}, "is_accepted": true, "score": 7, "last_activity_date": 1571408104, "creation_date": 1571408104, "answer_id": 58452679, "question_id": 58451718, "link": "https://stackoverflow.com/questions/58451718/need-perl-to-die-when-implicit-open-fails/58452679#58452679", "title": "need perl to die when implicit open fails", "body": "<p>The <code>Can't open ...</code> text is a warning. You can trap that using the <code>$SIG{__WARN__}</code> signal handler. </p>\n\n<p>As the only warnings you should be getting are from the implicit <code>&lt;&gt;</code> operator in the loop supplied by the <code>-p</code> switch you can rewrite your code like this</p>\n\n<pre><code>perl -i -pe 'BEGIN { $exit = 0; $SIG{__WARN__} = sub { $exit = 1; warn @_} } END { $? = $exit}' aaa.txt; echo $?\n</code></pre>\n\n<p>This sets <code>$exit</code> to 0 at the start of the script and sets it to 1 if there is a warning. The <code>END</code> block assigns the value of <code>$exit</code> to <code>$?</code> which will be the exit code of the script once it ends.</p>\n"}], "owner": {"reputation": 3398, "user_id": 447503, "user_type": "registered", "accept_rate": 61, "profile_image": "https://www.gravatar.com/avatar/0d7ec5ed7c7fa28d5b6b2a51d5803c9a?s=128&d=identicon&r=PG", "display_name": "basin", "link": "https://stackoverflow.com/users/447503/basin"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 105, "favorite_count": 0, "accepted_answer_id": 58452679, "answer_count": 1, "score": 5, "last_activity_date": 1571408104, "creation_date": 1571404584, "last_edit_date": 1571405590, "question_id": 58451718, "link": "https://stackoverflow.com/questions/58451718/need-perl-to-die-when-implicit-open-fails", "title": "need perl to die when implicit open fails", "body": "<p>I'm trying to migrate a <code>sed</code> script to a perl one-liner, because perl supports non-greedy regexp. I've taken advices from <a href=\"https://stackoverflow.com/questions/1103149/non-greedy-reluctant-regex-matching-in-sed\">Non greedy (reluctant) regex matching in sed?</a> and <a href=\"https://stackoverflow.com/questions/22192300/why-is-my-perl-in-place-script-exiting-with-a-zero-exit-code-even-though-its-fa\">Why is my Perl in-place script exiting with a zero exit code even though it&#39;s failing?</a></p>\n\n<p>I need my oneliner to exit with non-zero status if it failed to open the file.</p>\n\n<p>Unfortunately, checking <code>-f $ARGV[0]</code> is unreliable, because the file may exist and still be inaccessible.</p>\n\n<p>One idea is to add some perl code to execute between all files in command line, but I can't find one. <code>END</code> is executed once and if the last file succeeded, then it won't know that previous files failed.</p>\n\n<pre><code>touch aaa.txt\nchmod 000 aaa.txt\nperl -i -pe 'BEGIN { -f $ARGV[0] or die \"fatal: \" . $!; }' aaa.txt; echo $?\n</code></pre>\n\n<p>_</p>\n\n<pre><code>Can't open aaa.txt: Permission denied.\n0\n</code></pre>\n"}, {"tags": ["perl", "cgi"], "answers": [{"tags": [], "owner": {"reputation": 746, "user_id": 1221614, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/3e268cfd80db2a8a7fe741e951d49337?s=128&d=identicon&r=PG", "display_name": "Quint", "link": "https://stackoverflow.com/users/1221614/quint"}, "is_accepted": false, "score": 0, "last_activity_date": 1571413050, "creation_date": 1571413050, "answer_id": 58454082, "question_id": 58450958, "link": "https://stackoverflow.com/questions/58450958/perl-cgi-having-trouble-getting-popup-working/58454082#58454082", "title": "perl cgi having trouble getting popup working", "body": "<p>The first solution that comes to mind is to use ajax. When your page loads, fire off a script that calls the method that does your checks. That method will return its info to the calling javascript method and you generate the popup or redirect as necessary.</p>\n\n<p>You can't just send a string of javascript as a response to the browser and have it run. There has to be an event (the click) which triggers the script. The script must handle the return result.</p>\n"}], "owner": {"reputation": 1215, "user_id": 3525290, "user_type": "registered", "accept_rate": 38, "profile_image": "https://www.gravatar.com/avatar/303246ebe05535ca2f4e437eb6cfb7f4?s=128&d=identicon&r=PG&f=1", "display_name": "user3525290", "link": "https://stackoverflow.com/users/3525290/user3525290"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 39, "favorite_count": 0, "answer_count": 1, "score": 0, "last_activity_date": 1571413050, "creation_date": 1571401631, "question_id": 58450958, "link": "https://stackoverflow.com/questions/58450958/perl-cgi-having-trouble-getting-popup-working", "title": "perl cgi having trouble getting popup working", "body": "<p>What I am trying to accomplish when the user clicks the link it goes to a cgi page.  On the cgi page i need to do some checks then have a pop up send the user to a different page or do a redirect to a certain page. The redirect works but the popup doesn't.  It it possible to have a popup redirect that is in the else statement?</p>\n\n<pre><code>if($value)\n{\n    print \"&lt;script type=\\\"text/javascript\\\"&gt;  window.open(\\\"www.mysite.com/whatever/\\\",\\\"popup\\\", \\\"width=500\\\");&lt;/script&gt;\";\n}\nelse\n{\n      print redirect(-url=&gt;\"www.site.com\");\n}\n</code></pre>\n"}, {"tags": ["php", "perl", "ubuntu-18.04", "mpdf", "cam-pdf"], "comments": [{"owner": {"reputation": 32176, "user_id": 2173773, "user_type": "registered", "accept_rate": 86, "profile_image": "https://i.stack.imgur.com/M8yh6.jpg?s=128&g=1", "display_name": "H&#229;kon H&#230;gland", "link": "https://stackoverflow.com/users/2173773/h%c3%a5kon-h%c3%a6gland"}, "edited": false, "score": 0, "creation_date": 1571402389, "post_id": 58449924, "comment_id": 103239779, "body": "Can you provide a link to the PDF file? Then we will have something to test against"}, {"owner": {"reputation": 299, "user_id": 1893211, "user_type": "registered", "accept_rate": 20, "profile_image": "https://www.gravatar.com/avatar/99b425ec9a9b54b2cb1d7446ac42370d?s=128&d=identicon&r=PG", "display_name": "sasa", "link": "https://stackoverflow.com/users/1893211/sasa"}, "reply_to_user": {"reputation": 32176, "user_id": 2173773, "user_type": "registered", "accept_rate": 86, "profile_image": "https://i.stack.imgur.com/M8yh6.jpg?s=128&g=1", "display_name": "H&#229;kon H&#230;gland", "link": "https://stackoverflow.com/users/2173773/h%c3%a5kon-h%c3%a6gland"}, "edited": false, "score": 1, "creation_date": 1571406394, "post_id": 58449924, "comment_id": 103241979, "body": "Of course, there are two version, compressed and uncompressed (uncompressed with pdftk and filename start with &quot;u_&quot; prefix)  <a href=\"https://devfeelbetter.wpengine.com/test/pdf/Bach-English-Suite-A-Minor-Alemande-and-Courante.pdf\" rel=\"nofollow noreferrer\">devfeelbetter.wpengine.com/test/pdf/&hellip;</a>  and  <a href=\"https://devfeelbetter.wpengine.com/test/pdf/u_Bach-English-Suite-A-Minor-Alemande-and-Courante.pdf\" rel=\"nofollow noreferrer\">devfeelbetter.wpengine.com/test/pdf/&hellip;</a>"}, {"owner": {"reputation": 32176, "user_id": 2173773, "user_type": "registered", "accept_rate": 86, "profile_image": "https://i.stack.imgur.com/M8yh6.jpg?s=128&g=1", "display_name": "H&#229;kon H&#230;gland", "link": "https://stackoverflow.com/users/2173773/h%c3%a5kon-h%c3%a6gland"}, "edited": false, "score": 0, "creation_date": 1571410375, "post_id": 58449924, "comment_id": 103244206, "body": "Thanks for the links! I tried to grep the uncompressed file for &quot;Wagner&quot; but it did not match"}, {"owner": {"reputation": 32176, "user_id": 2173773, "user_type": "registered", "accept_rate": 86, "profile_image": "https://i.stack.imgur.com/M8yh6.jpg?s=128&g=1", "display_name": "H&#229;kon H&#230;gland", "link": "https://stackoverflow.com/users/2173773/h%c3%a5kon-h%c3%a6gland"}, "edited": false, "score": 1, "creation_date": 1571410579, "post_id": 58449924, "comment_id": 103244325, "body": "However, <a href=\"https://github.com/euske/pdfminer\" rel=\"nofollow noreferrer\"><code>pdf2txt.py</code></a> was able to find <code>Wagner</code>. If you look at the source code for <code>pdf2txt.py</code> you should be able to figure out how to do the replacement"}, {"owner": {"reputation": 32176, "user_id": 2173773, "user_type": "registered", "accept_rate": 86, "profile_image": "https://i.stack.imgur.com/M8yh6.jpg?s=128&g=1", "display_name": "H&#229;kon H&#230;gland", "link": "https://stackoverflow.com/users/2173773/h%c3%a5kon-h%c3%a6gland"}, "edited": false, "score": 1, "creation_date": 1571411386, "post_id": 58449924, "comment_id": 103244745, "body": "See also <a href=\"https://stackoverflow.com/q/39712828/2173773\">Search and replace placeholder text in PDF with Python</a>"}, {"owner": {"reputation": 32176, "user_id": 2173773, "user_type": "registered", "accept_rate": 86, "profile_image": "https://i.stack.imgur.com/M8yh6.jpg?s=128&g=1", "display_name": "H&#229;kon H&#230;gland", "link": "https://stackoverflow.com/users/2173773/h%c3%a5kon-h%c3%a6gland"}, "edited": false, "score": 0, "creation_date": 1571411862, "post_id": 58449924, "comment_id": 103244959, "body": "I think I found why <code>grep</code> does not work. If you look at the output from your <code>PDF::CAM</code> perl script, you can see that <code>&#169; Wagner International Music Examinations</code> has been encoded as ..."}, {"owner": {"reputation": 32176, "user_id": 2173773, "user_type": "registered", "accept_rate": 86, "profile_image": "https://i.stack.imgur.com/M8yh6.jpg?s=128&g=1", "display_name": "H&#229;kon H&#230;gland", "link": "https://stackoverflow.com/users/2173773/h%c3%a5kon-h%c3%a6gland"}, "edited": false, "score": 0, "creation_date": 1571411875, "post_id": 58449924, "comment_id": 103244969, "body": "... <code>[(&#169;)2.3923( )-7.3008(W)0.563614(a)0.870722(g)-0.307108(n)-0.307108(e)0.8&zwnj;&#8203;68977(r)4.22623( )-7.3008(I)4.22623(n)-0.307108(t)6.40391(e)0.868977(r)-10.06&zwnj;&#8203;83(n)-0.307108(a)0.8&zwnj;&#8203;68977(t)6.40391(i)-7&zwnj;&#8203;.89059(o)-0.307108(n&zwnj;&#8203;)-0.307108(a)0.86897&zwnj;&#8203;7(l)6.40391( )-7.3008(M)2.73955(u)-0.307108(s)3.05014(i)-7.89059(c)0.8689&zwnj;&#8203;77( )6.99369(E)-3.66436(x)-0.307108(a)0.868977(m)6.0968(i)-7.890&zwnj;&#8203;59(n)-0.307108(a)0.8&zwnj;&#8203;68977(t)6.40391(i)-7&zwnj;&#8203;.89059(o)-0.307108(n&zwnj;&#8203;)-0.307108(s)389.002&zwnj;&#8203;]TJ</code>. Note that the plain text is inside the parenthesis. So I think you need to recalculate all the offsets in the above expression ..."}, {"owner": {"reputation": 32176, "user_id": 2173773, "user_type": "registered", "accept_rate": 86, "profile_image": "https://i.stack.imgur.com/M8yh6.jpg?s=128&g=1", "display_name": "H&#229;kon H&#230;gland", "link": "https://stackoverflow.com/users/2173773/h%c3%a5kon-h%c3%a6gland"}, "edited": false, "score": 0, "creation_date": 1571412059, "post_id": 58449924, "comment_id": 103245063, "body": "... if you want to replace it"}, {"owner": {"reputation": 32176, "user_id": 2173773, "user_type": "registered", "accept_rate": 86, "profile_image": "https://i.stack.imgur.com/M8yh6.jpg?s=128&g=1", "display_name": "H&#229;kon H&#230;gland", "link": "https://stackoverflow.com/users/2173773/h%c3%a5kon-h%c3%a6gland"}, "edited": false, "score": 0, "creation_date": 1571412901, "post_id": 58449924, "comment_id": 103245446, "body": "More information about the TJ operator can be found in <a href=\"https://www.adobe.com/content/dam/acom/en/devnet/pdf/pdfs/pdf_reference_archives/PDFReference.pdf\" rel=\"nofollow noreferrer\">Chapter 5.3.2</a> of PDF reference"}], "answers": [{"comments": [{"owner": {"reputation": 299, "user_id": 1893211, "user_type": "registered", "accept_rate": 20, "profile_image": "https://www.gravatar.com/avatar/99b425ec9a9b54b2cb1d7446ac42370d?s=128&d=identicon&r=PG", "display_name": "sasa", "link": "https://stackoverflow.com/users/1893211/sasa"}, "edited": false, "score": 0, "creation_date": 1571429909, "post_id": 58454795, "comment_id": 103252329, "body": "Great. Seems good.  Do you know why some single quote appears before &#169; sign in converted PDF?"}, {"owner": {"reputation": 32176, "user_id": 2173773, "user_type": "registered", "accept_rate": 86, "profile_image": "https://i.stack.imgur.com/M8yh6.jpg?s=128&g=1", "display_name": "H&#229;kon H&#230;gland", "link": "https://stackoverflow.com/users/2173773/h%c3%a5kon-h%c3%a6gland"}, "reply_to_user": {"reputation": 299, "user_id": 1893211, "user_type": "registered", "accept_rate": 20, "profile_image": "https://www.gravatar.com/avatar/99b425ec9a9b54b2cb1d7446ac42370d?s=128&d=identicon&r=PG", "display_name": "sasa", "link": "https://stackoverflow.com/users/1893211/sasa"}, "edited": false, "score": 1, "creation_date": 1571434894, "post_id": 58454795, "comment_id": 103253905, "body": "Seems like the PDF does not use UTF-8 or ASCII, the copy right symbol &#169; is <code>\\x{c2}\\x{a9}</code> in UTF-8 and <code>\\x{c2}</code> in extended ASCII, but the PDF uses <code>\\x{a9}</code> instead to represent the symbol. I have updated the answer and it seems to work now"}], "tags": [], "owner": {"reputation": 32176, "user_id": 2173773, "user_type": "registered", "accept_rate": 86, "profile_image": "https://i.stack.imgur.com/M8yh6.jpg?s=128&g=1", "display_name": "H&#229;kon H&#230;gland", "link": "https://stackoverflow.com/users/2173773/h%c3%a5kon-h%c3%a6gland"}, "is_accepted": true, "score": 1, "last_activity_date": 1571435083, "last_edit_date": 1571435083, "creation_date": 1571415908, "answer_id": 58454795, "question_id": 58449924, "link": "https://stackoverflow.com/questions/58449924/search-replace-issue-on-mpdf-campdf-on-ubuntu-18-04/58454795#58454795", "title": "Search &amp; replace issue on mPDF, CAM&#39;PDF on Ubuntu 18.04", "body": "<p>Here is a hack that currently works almost for your case (I will come back later and try improve this):</p>\n\n<pre><code>use feature qw(say);\nuse strict;\nuse warnings;\n# the PDF uses a non-standard encoding so it does not help to use UTF-8\n# use open qw(:std :encoding(UTF-8)); \nuse utf8;\nuse CAM::PDF;\n\nmy $fn = 'test.pdf';  # uncompressed file..\nmy $save_fn = 'test2.pdf';\nmy $pdf = CAM::PDF-&gt;new($fn);\nmy $nump = $pdf-&gt;numPages();\nmy $match = 0;\nmy $replace = '[(\\x{a9} SoundTech International Music Examinations)]TJ';\nfor my $i (1..$nump) {\n    my $page = $pdf-&gt;getPageContent( $i );\n    # replace the text part\n    if ($page =~ s/\\[\\(\\x{a9}\\).*?\\]TJ/$replace/g) {\n        $match = 1;\n        $pdf-&gt;setPageContent($i, $page);\n    }\n}\n\nif ( $match ) {\n    $pdf-&gt;cleanoutput($save_fn);\n    say \"Save $save_fn ..\";\n}\nelse {\n    say \"No match\";\n}\n</code></pre>\n"}], "owner": {"reputation": 299, "user_id": 1893211, "user_type": "registered", "accept_rate": 20, "profile_image": "https://www.gravatar.com/avatar/99b425ec9a9b54b2cb1d7446ac42370d?s=128&d=identicon&r=PG", "display_name": "sasa", "link": "https://stackoverflow.com/users/1893211/sasa"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 205, "favorite_count": 0, "accepted_answer_id": 58454795, "answer_count": 1, "score": 1, "last_activity_date": 1571435083, "creation_date": 1571398000, "last_edit_date": 1571406568, "question_id": 58449924, "link": "https://stackoverflow.com/questions/58449924/search-replace-issue-on-mpdf-campdf-on-ubuntu-18-04", "title": "Search &amp; replace issue on mPDF, CAM&#39;PDF on Ubuntu 18.04", "body": "<p>On Ubuntu 18.04 I have a problem with editing PDF files  - specifically search &amp; replace strings.</p>\n\n<p>I tried:</p>\n\n<ul>\n<li><p>PHP mPDF Overwrite () do nothing.</p></li>\n<li><p>perl CAM :: PDF 1.60 changepagestring.pl do nothing</p></li>\n<li><p>sed, do nothing.</p></li>\n</ul>\n\n<p>Does not work with compressed or decompressed PDF, Does not even work with PDF generated from mPDF.\nUPDATE: after reinstalling libsodium mPDF works fine with PDF files generated fromm mPDF. For other PDF files issue still exist.</p>\n\n<p>Also tried in var / www folders user / group www-data: www / data and in other folders / home e.g.</p>\n\n<p>Any idea for bulk search &amp; replace because I have over 1000 files to process?</p>\n\n<p>The text in the files is readable. Check.</p>\n\n<p>P.S. Search / Replace from the program and online service works with the same files.\n<a href=\"https://i.stack.imgur.com/PAggs.jpg\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/PAggs.jpg\" alt=\"enter image description here\"></a></p>\n\n<p>Permission on files 0755 i 0777</p>\n\n<pre><code>root@sasa-ubuntu-1:/var/www/website.local/wp-content/test/2018/12# ls -la *.pdf\n-rwxr-xr-x 1 www-data www-data 847451 Oct 18 12:21 clean.pdf\n-rwxrwxrwx 1 www-data www-data 395527 Oct 17 21:41 My-First.pdf\n-rwxr-xr-x 1 www-data www-data 838307 Oct 17 23:30 My.pdf\n-rwxr-xr-x 1 www-data www-data 838167 Oct 18 12:24 New2.pdf\n-rwxr-xr-x 1 www-data www-data 838167 Oct 18 01:20 New.pdf\n-rwxrwxrwx 1 www-data www-data 270340 Oct 17 16:39 Test2.pdf\n-rwxrwxrwx 1 www-data www-data 274022 Oct 17 16:39 Test1.pdf\n-rwxr-xr-x 1 www-data www-data 838000 Oct 18 00:55 Test2.pdf\n-rwxrwxrwx 1 www-data www-data 205679 Oct 17 23:44 test.pdf\n</code></pre>\n\n<p>Perl script allways return \"Could not find title\" nevermind of readability of file when I print $page variable (see images)</p>\n\n<pre><code>use CAM::PDF;\n\nmy $pdf = CAM::PDF-&gt;new('test.pdf'); # existing document\nmy $nump = $pdf-&gt;numPages();\n#print $nump;\n\nmy $page = $pdf-&gt;getPageContent(1);\n\nprint $page;\n# $page now holds the uncompressed page content as a string\n\n# replace the text part\nif ($page =~ s/Wagner/SoundTech/g) {\n$pdf-&gt;setPageContent(1, $page);\n}\nelse {\ndie \"Could not find title\\n\";\n}\n\n$pdf-&gt;cleanoutput('Test2.pdf');\n</code></pre>\n\n<p><a href=\"https://i.stack.imgur.com/5iQdA.jpg\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/5iQdA.jpg\" alt=\"enter image description here\"></a></p>\n\n<p>A lot of files ends on this way.</p>\n\n<p>The string that I try to find is \"Wagner International Music Examinations\" or only \"Wagner\"</p>\n\n<p>mPDF and CAM-PDF are properly installed without warnings and erros and with all dependencies, I hope.\nUbuntu 18.04\nmPDF version 8.0\nPHP 7.2\nPerl 5.26.1\nCAM-PDF version 1.60</p>\n\n<p>mPDF occasionally have bug with Overwrite() function, I found on their github community.</p>\n\n<p>Any suggestion or another way for bulk search &amp; replace in PDF files?</p>\n\n<p><a href=\"https://i.stack.imgur.com/SSJbs.jpg\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/SSJbs.jpg\" alt=\"enter image description here\"></a></p>\n"}, {"tags": ["perl"], "comments": [{"owner": {"reputation": 198290, "user_id": 1030675, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/957956ce51706d03f19a4dc85a767bb1?s=128&d=identicon&r=PG", "display_name": "choroba", "link": "https://stackoverflow.com/users/1030675/choroba"}, "edited": false, "score": 0, "creation_date": 1571396404, "post_id": 58449182, "comment_id": 103236707, "body": "What about <code>mysql -e &#39;SELECT VERSION();&#39;</code>?"}, {"owner": {"reputation": 610, "user_id": 1171331, "user_type": "registered", "accept_rate": 86, "profile_image": "https://www.gravatar.com/avatar/62ce41800c82f8bcfa54ac60f47d8ea8?s=128&d=identicon&r=PG", "display_name": "Joanne", "link": "https://stackoverflow.com/users/1171331/joanne"}, "reply_to_user": {"reputation": 198290, "user_id": 1030675, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/957956ce51706d03f19a4dc85a767bb1?s=128&d=identicon&r=PG", "display_name": "choroba", "link": "https://stackoverflow.com/users/1030675/choroba"}, "edited": false, "score": 0, "creation_date": 1571407474, "post_id": 58449182, "comment_id": 103242629, "body": "That would work if the MySQL databases weren&#39;t password protected ofcourse. But already selected a good answer."}], "answers": [{"comments": [{"owner": {"reputation": 198290, "user_id": 1030675, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/957956ce51706d03f19a4dc85a767bb1?s=128&d=identicon&r=PG", "display_name": "choroba", "link": "https://stackoverflow.com/users/1030675/choroba"}, "edited": false, "score": 2, "creation_date": 1571396619, "post_id": 58449417, "comment_id": 103236808, "body": "or <code>use DBI::Const::GetInfoType;</code> and <code>$dbh-&gt;get_info($GetInfoType{SQL_DBMS_VER})</code>"}, {"owner": {"reputation": 610, "user_id": 1171331, "user_type": "registered", "accept_rate": 86, "profile_image": "https://www.gravatar.com/avatar/62ce41800c82f8bcfa54ac60f47d8ea8?s=128&d=identicon&r=PG", "display_name": "Joanne", "link": "https://stackoverflow.com/users/1171331/joanne"}, "edited": false, "score": 0, "creation_date": 1571407357, "post_id": 58449417, "comment_id": 103242551, "body": "Thank you for taking the time to answer, however the other solution provided worked better for me."}], "tags": [], "owner": {"reputation": 320771, "user_id": 589924, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/b2cf53d5a3d25f95c0db4e025aed4153?s=128&d=identicon&r=PG", "display_name": "ikegami", "link": "https://stackoverflow.com/users/589924/ikegami"}, "is_accepted": false, "score": 2, "last_activity_date": 1571396443, "last_edit_date": 1571396443, "creation_date": 1571396139, "answer_id": 58449417, "question_id": 58449182, "link": "https://stackoverflow.com/questions/58449182/how-to-make-this-perl-code-snippet-also-work-for-mysql-8-0/58449417#58449417", "title": "How to make this perl code snippet also work for MySQL 8.0?", "body": "<p>You want the server version?</p>\n\n<pre><code>use DBI qw( );\n\nmy $dsn = \"DBI:mysql:database=$database;host=$hostname;port=$port\";\nmy $dbh = DBI-&gt;connect($dsn, $user, $password);\nsay $dbh-&gt;{mysql_serverversion};\n</code></pre>\n\n<hr>\n\n<p>It also appears to be the last (if only) version in the information line, so you could use the following:</p>\n\n<pre><code>my ($info) = `/usr/sbin/vzctl exec $server 'mysql -V 2&gt;/dev/null'`;\nmy $version = $info =~ ( /\\b\\d+\\.[\\d.]+/g )[-1];\n</code></pre>\n"}, {"comments": [{"owner": {"reputation": 610, "user_id": 1171331, "user_type": "registered", "accept_rate": 86, "profile_image": "https://www.gravatar.com/avatar/62ce41800c82f8bcfa54ac60f47d8ea8?s=128&d=identicon&r=PG", "display_name": "Joanne", "link": "https://stackoverflow.com/users/1171331/joanne"}, "edited": false, "score": 0, "creation_date": 1571399238, "post_id": 58449536, "comment_id": 103238130, "body": "Thank you for your answer, however your solution now provides issues with MariaDB releases. So this is worse now to be honest, for example: mysql  Ver 15.1 Distrib 10.1.41-MariaDB, for debian-linux-gnu (x86_64) using readline 5.2"}, {"owner": {"reputation": 610, "user_id": 1171331, "user_type": "registered", "accept_rate": 86, "profile_image": "https://www.gravatar.com/avatar/62ce41800c82f8bcfa54ac60f47d8ea8?s=128&d=identicon&r=PG", "display_name": "Joanne", "link": "https://stackoverflow.com/users/1171331/joanne"}, "edited": false, "score": 0, "creation_date": 1571407324, "post_id": 58449536, "comment_id": 103242530, "body": "Seems to work now. Thank you. Will select your answer as the best. :-)"}], "tags": [], "owner": {"reputation": 62184, "user_id": 7231, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/81b76985f3985e35492e25880493d045?s=128&d=identicon&r=PG", "display_name": "Dave Cross", "link": "https://stackoverflow.com/users/7231/dave-cross"}, "is_accepted": true, "score": 1, "last_activity_date": 1571401237, "last_edit_date": 1571401237, "creation_date": 1571396606, "answer_id": 58449536, "question_id": 58449182, "link": "https://stackoverflow.com/questions/58449182/how-to-make-this-perl-code-snippet-also-work-for-mysql-8-0/58449536#58449536", "title": "How to make this perl code snippet also work for MySQL 8.0?", "body": "<p>There are probably ways you can get this directly from the MySQL server. But this seems to do what you want and isn't too different from your existing code.</p>\n\n<pre><code>#!/usr/bin/perl\n\nuse strict;\nuse warnings;\n\nwhile (&lt;DATA&gt;) {\n  my @temp = split /\\s+/, $_;\n\n  my $mysql;\n\n  # If the fifth column contains a character that isn't a\n  # digit, a dot or a comma...\n  if ($temp[4] =~ /[^\\d\\.,]/) {\n    # then look in column 3\n    $mysql = $temp[2];\n  } else {\n    # else look in column 5\n    $mysql = $temp[4];\n  }\n\n  $mysql =~ s/,//;\n\n  print \"$mysql\\n\";\n}\n\n__DATA__\nmysql  Ver 14.14 Distrib 5.6.46, for Linux (x86_64) using  EditLine wrapper\nmysql  Ver 8.0.18 for Linux on x86_64 (MySQL Community Server - GPL)\n</code></pre>\n\n<p><strong>Update:</strong> Following the comment below, I'd suggest updating the <code>if</code>/<code>else</code> clause to be this:</p>\n\n<pre><code># If column 5 start with what looks like a version number...\nif ($temp[4] =~ /^\\d+\\.\\d+/) {\n  # then look in column 5\n  $mysql = $temp[4];\n} else {\n  # else look in column 3\n  $mysql = $temp[2];\n}\n</code></pre>\n"}], "owner": {"reputation": 610, "user_id": 1171331, "user_type": "registered", "accept_rate": 86, "profile_image": "https://www.gravatar.com/avatar/62ce41800c82f8bcfa54ac60f47d8ea8?s=128&d=identicon&r=PG", "display_name": "Joanne", "link": "https://stackoverflow.com/users/1171331/joanne"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 47, "favorite_count": 0, "accepted_answer_id": 58449536, "answer_count": 2, "score": 0, "last_activity_date": 1571401237, "creation_date": 1571395236, "question_id": 58449182, "link": "https://stackoverflow.com/questions/58449182/how-to-make-this-perl-code-snippet-also-work-for-mysql-8-0", "title": "How to make this perl code snippet also work for MySQL 8.0?", "body": "<p>Since our previous technician passed away, I am adjusting a few pieces of his code as it doesn't work correctly with for example MySQL 8.0</p>\n\n<p>The piece of perl code is:</p>\n\n<pre><code>@temp = `/usr/sbin/vzctl exec $server 'mysql -V 2&gt;/dev/null'`;\nchomp(@temp);\n@temp = split /\\s+/,$temp[0];\n$mysql = $temp[4];\n$mysql =~ s/\\,//;\n</code></pre>\n\n<p>It works without issues for MySQL 5.5 / 5.6 / 5.7 and with all MariaDB versions.</p>\n\n<p>Two examples of correct output:</p>\n\n<pre><code>MySQL:  5.5.33\nMySQL: 10.3.18-MariaDB\n</code></pre>\n\n<p>However with MySQL 8.0  there is a problem. I checked it with the mysql -V command and it outputs the information differently.</p>\n\n<p>Normal output (for all MySQL/MariaDB versions):</p>\n\n<pre><code>mysql  Ver 14.14 Distrib 5.6.46, for Linux (x86_64) using  EditLine wrapper\n</code></pre>\n\n<p>But with MySQL 8.0 it's like this:</p>\n\n<pre><code>mysql  Ver 8.0.18 for Linux on x86_64 (MySQL Community Server - GPL)\n</code></pre>\n\n<p>As a result of the above it displays: Linux (instead of the version). So far I can understand this, as the \"$temp[4]\" is the word Linux in mysql -v.</p>\n\n<p>Is there a workaround for this? I tried a few things, but I lack knowledge with perl to be honest and so far I am not making any progress. For some reason I cannot get the version being displayed correctly with MySQL 8.0.</p>\n\n<p>I also tried fooling around with dpkg -l 'mysql-server', however that would need more modifications to work also with other distributions, like CentOS.</p>\n\n<p>So maybe someone has an idea on how to solve this for MySQL 8.0? And maybe I can learn something as well from it for future usage. Thanks in advance.</p>\n"}, {"tags": ["regex", "perl"], "comments": [{"owner": {"reputation": 91433, "user_id": 5424988, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/d0b4f91c20dcd87cbd58dd351455198c?s=128&d=identicon&r=PG&f=1", "display_name": "The fourth bird", "link": "https://stackoverflow.com/users/5424988/the-fourth-bird"}, "edited": false, "score": 0, "creation_date": 1571394351, "post_id": 58448915, "comment_id": 103235670, "body": "If this is the match <code>\\.[^.]+$</code> you could replace it with an empty string or use a capturing group <code>(.+?)\\.[^.]+$</code>"}, {"owner": {"reputation": 481636, "user_id": 3832970, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/64323e6cf08401474da3bf770ea13b58?s=128&d=identicon&r=PG&f=1", "display_name": "Wiktor Stribi\u017cew", "link": "https://stackoverflow.com/users/3832970/wiktor-stribi%c5%bcew"}, "edited": false, "score": 0, "creation_date": 1571394403, "post_id": 58448915, "comment_id": 103235707, "body": "Maybe it will suffice to remove the known suffix? <code>$file =~ s&#47;\\.(?:Z|gz)$&#47;&#47;</code>?"}, {"owner": {"reputation": 117, "user_id": 8065797, "user_type": "registered", "accept_rate": 83, "profile_image": "https://www.gravatar.com/avatar/ccf0cdde904fbc7795b54d48d0303c11?s=128&d=identicon&r=PG&f=1", "display_name": "JanFi86", "link": "https://stackoverflow.com/users/8065797/janfi86"}, "edited": false, "score": 0, "creation_date": 1571394779, "post_id": 58448915, "comment_id": 103235907, "body": "@ Wiktor Stribi\u017cew <code>my ($output ) = $file =~ s&#47;\\.(?:Z|gz)$&#47;&#47;; print $output ;</code> returns <code>1</code>. Am I doing something wrong here?"}, {"owner": {"reputation": 481636, "user_id": 3832970, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/64323e6cf08401474da3bf770ea13b58?s=128&d=identicon&r=PG&f=1", "display_name": "Wiktor Stribi\u017cew", "link": "https://stackoverflow.com/users/3832970/wiktor-stribi%c5%bcew"}, "edited": false, "score": 0, "creation_date": 1571394802, "post_id": 58448915, "comment_id": 103235918, "body": "See <a href=\"https://ideone.com/2jiEcJ\" rel=\"nofollow noreferrer\">this demo</a>."}], "answers": [{"tags": [], "owner": {"reputation": 91433, "user_id": 5424988, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/d0b4f91c20dcd87cbd58dd351455198c?s=128&d=identicon&r=PG&f=1", "display_name": "The fourth bird", "link": "https://stackoverflow.com/users/5424988/the-fourth-bird"}, "is_accepted": true, "score": 0, "last_activity_date": 1571397335, "last_edit_date": 1571397335, "creation_date": 1571395151, "answer_id": 58449166, "question_id": 58448915, "link": "https://stackoverflow.com/questions/58448915/get-original-filename-from-zipped-file/58449166#58449166", "title": "Get original filename from zipped file", "body": "<p>In your pattern <code>.+?(?=[^.]+$)</code> you assert what is directly on the right is 1+ times not a dot followed by the end of the string.</p>\n\n<p>That assertion could be true at multiple places and will also include matching the dot itself. </p>\n\n<p>For example in <code>filename2.csv.gz</code> that will match <code>filename2.csv.</code> and <code>g</code></p>\n\n<p>If you want to get the match only of the filename in the example data, you could add the dot in the positive lookahead:</p>\n\n<pre><code>.+(?=\\.[^.]+$)\n</code></pre>\n\n<p><a href=\"https://regex101.com/r/SqY9GY/1\" rel=\"nofollow noreferrer\">Regex demo</a></p>\n\n<p>Or use a capturing group and a match instead of a lookahead:</p>\n\n<pre><code>(.+)\\.[^.]+$\n</code></pre>\n\n<p><a href=\"https://regex101.com/r/2sF0Fj/1\" rel=\"nofollow noreferrer\">Regex demo</a> | <a href=\"https://ideone.com/QNuVaL\" rel=\"nofollow noreferrer\">Perl demo</a></p>\n\n<p>For example</p>\n\n<pre><code>my $line = \"filename1.csv.Z\";\nmy ($output) = $line =~ m/(.+)\\.[^.]+$/;\nprint $output;\n\n# filename1.csv\n</code></pre>\n"}, {"tags": [], "owner": {"reputation": 38072, "user_id": 46395, "user_type": "registered", "accept_rate": 71, "profile_image": "https://www.gravatar.com/avatar/5ce828f20abb195ef5d971205ee36c27?s=128&d=identicon&r=PG", "display_name": "daxim", "link": "https://stackoverflow.com/users/46395/daxim"}, "is_accepted": false, "score": 6, "last_activity_date": 1571395467, "creation_date": 1571395467, "answer_id": 58449248, "question_id": 58448915, "link": "https://stackoverflow.com/questions/58448915/get-original-filename-from-zipped-file/58449248#58449248", "title": "Get original filename from zipped file", "body": "<p>Know your standard library. See <a href=\"http://p3rl.org/File::Basename\" rel=\"noreferrer\">File::Basename</a>:</p>\n\n<pre><code>use File::Basename qw(basename);\nfor my $fullname (qw(filename1.csv.Z filename2.csv.gz)) {\n    my $basename = basename $fullname, qw(.Z .gz);\n}\n__END__\nfilename1.csv\nfilename2.csv\n</code></pre>\n"}], "owner": {"reputation": 117, "user_id": 8065797, "user_type": "registered", "accept_rate": 83, "profile_image": "https://www.gravatar.com/avatar/ccf0cdde904fbc7795b54d48d0303c11?s=128&d=identicon&r=PG&f=1", "display_name": "JanFi86", "link": "https://stackoverflow.com/users/8065797/janfi86"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 56, "favorite_count": 0, "accepted_answer_id": 58449166, "answer_count": 2, "score": 1, "last_activity_date": 1571397335, "creation_date": 1571394236, "question_id": 58448915, "link": "https://stackoverflow.com/questions/58448915/get-original-filename-from-zipped-file", "title": "Get original filename from zipped file", "body": "<p>I have zipped files names like:</p>\n\n<pre><code>filename1.csv.Z\nfilename2.csv.gz\n</code></pre>\n\n<p>I have regex expression for getting the last extension:</p>\n\n<pre><code>my ($ext) = $file =~ /(\\.[^.]+)$/;\n</code></pre>\n\n<p>Now I would like to get the \"original filename\", without .Z or .gz, eg. filename1.csv, filename2.csv</p>\n\n<p>I tried to use something like expresion below but does not work...</p>\n\n<pre><code>my ($output) = $file =~ /.+?(?=(([^.]+)$))/;\n</code></pre>\n\n<p>Would anybody help me out?</p>\n"}, {"tags": ["xml", "linux", "perl", "xml-libxml"], "comments": [{"owner": {"reputation": 38072, "user_id": 46395, "user_type": "registered", "accept_rate": 71, "profile_image": "https://www.gravatar.com/avatar/5ce828f20abb195ef5d971205ee36c27?s=128&d=identicon&r=PG", "display_name": "daxim", "link": "https://stackoverflow.com/users/46395/daxim"}, "edited": false, "score": 1, "creation_date": 1571395121, "post_id": 58448603, "comment_id": 103236088, "body": "Swallowing the XML::LibXML::Error exception appears to put <code>$reader</code> into an invalid state. The <a href=\"https://w3.org/TR/xml/#sec-terminology\" rel=\"nofollow noreferrer\">spec</a> says the parser MAY continue."}, {"owner": {"reputation": 184, "user_id": 6115421, "user_type": "registered", "accept_rate": 29, "profile_image": "https://www.gravatar.com/avatar/15a623fe6b5c826ee955a1474fc1723e?s=128&d=identicon&r=PG&f=1", "display_name": "Dragos Trif", "link": "https://stackoverflow.com/users/6115421/dragos-trif"}, "edited": false, "score": 1, "creation_date": 1571597753, "post_id": 58448603, "comment_id": 103285236, "body": "Try this tutorial <a href=\"https://culturedperl.com/perl-5-xml-validation-with-dtd-and-xsd-ec2d90f7c434\" rel=\"nofollow noreferrer\">culturedperl.com/&hellip;</a>"}], "answers": [{"comments": [{"owner": {"reputation": 1600, "user_id": 5551938, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/e761917963cc4945f5399110aa6ea87e?s=128&d=identicon&r=PG&f=1", "display_name": "kimbert", "link": "https://stackoverflow.com/users/5551938/kimbert"}, "edited": false, "score": 1, "creation_date": 1571835821, "post_id": 58517763, "comment_id": 103371979, "body": "I worked with a dev team who were implementing a validating XML parser. When I asked for a &#39;warn only&#39; feature, they explained that it is not possible, in general, to provide this except in specific cases. Once you depart from the &#39;grammar&#39; of the schema, it is often unclear how the XML processor should continue. The exception is validating XSD facets on attribute values - those errors are always survivable because they only involve the value of a single attribute."}], "tags": [], "owner": {"reputation": 473, "user_id": 8721281, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/7DKU2.jpg?s=128&g=1", "display_name": "Chazg76", "link": "https://stackoverflow.com/users/8721281/chazg76"}, "is_accepted": false, "score": 1, "last_activity_date": 1571816561, "last_edit_date": 1571816561, "creation_date": 1571816147, "answer_id": 58517763, "question_id": 58448603, "link": "https://stackoverflow.com/questions/58448603/xmllibxmlreader-need-warn-on-schema-errors-instead-of-exit/58517763#58517763", "title": "XML::LibXML::Reader need warn on schema errors instead of exit", "body": "<p>OK, not exactly what I originally asked but I have found a solution if anyone is interested. I have simply used the --stream switch for the xmllint command.</p>\n\n<p>This allows me to validate XML files >1GB on a system with 4GB of ram (Without the --stream switch this was not possible). The method generates a list of entries, if they exist, that do not conform to the supplied XSD file (these can be written to a file or the terminal). The important point for me is that xmllint does not stop when it finds the first non-conformity but rather continues to the end of the XML file printing any non-conformaties as it goes.</p>\n"}, {"tags": [], "owner": {"reputation": 32176, "user_id": 2173773, "user_type": "registered", "accept_rate": 86, "profile_image": "https://i.stack.imgur.com/M8yh6.jpg?s=128&g=1", "display_name": "H&#229;kon H&#230;gland", "link": "https://stackoverflow.com/users/2173773/h%c3%a5kon-h%c3%a6gland"}, "is_accepted": true, "score": 3, "last_activity_date": 1571864353, "last_edit_date": 1571864353, "creation_date": 1571855476, "answer_id": 58529046, "question_id": 58448603, "link": "https://stackoverflow.com/questions/58448603/xmllibxmlreader-need-warn-on-schema-errors-instead-of-exit/58529046#58529046", "title": "XML::LibXML::Reader need warn on schema errors instead of exit", "body": "<p>The reason <code>$reader-&gt;read</code> does not recover from schema validation errors (even if recovery could be possible) can be seen at <a href=\"https://github.com/shlomif/perl-XML-LibXML/blob/master/LibXML.xs#L8815\" rel=\"nofollow noreferrer\">line #8815</a> of <code>LibXML.xs</code>. Notice that <code>REPORT_ERROR()</code> is called with a zero value (the value indicates whether <a href=\"https://github.com/shlomif/perl-XML-LibXML/blob/master/LibXML.xs#L360\" rel=\"nofollow noreferrer\">`LibXML_report_error_ctx()</a> will be able to recover from errors or not. A value of zero, means it will not try to recover, and it will call <a href=\"https://github.com/shlomif/perl-XML-LibXML/blob/master/lib/XML/LibXML/Error.pm#L179\" rel=\"nofollow noreferrer\">XML::LibXML::Error::_report_error</a> to die.</p>\n\n<p>I tried to change the value to 1 at <a href=\"https://github.com/shlomif/perl-XML-LibXML/blob/master/LibXML.xs#L8815\" rel=\"nofollow noreferrer\">line #8815</a> and recompiled the XS module, and now it reported the schema errors as warnings (instead of dying) and continued the parsing.</p>\n\n<p>I guess there is a good reason why this option is not made available to the user, but I am not so familiar with XML parsing that I can give an example of what could go wrong here.</p>\n\n<p><strong>Edit</strong>:</p>\n\n<p>It seems that the correct approach is to catch the exceptions thrown by <code>read()</code>, then try to call <code>read()</code> another time, if the following call to <code>read()</code> returns -1, the parser was not able to recover from the error, if it returns 0, end-of-file was reached, and if it returns 1 it was able to recover from the exception. I did some testing and it seems it is able to recover from schema validation errors, but not from parsing errors. So you could try the following:</p>\n\n<pre><code>use feature qw(say);\nuse strict;\nuse warnings;\n\nuse Try::Tiny qw(try catch);\nuse XML::LibXML::Reader;\n\nmy $SchemaFile='schema.xsd';\nmy $FileToAnalyse='file.xml';\nmy $reader = XML::LibXML::Reader-&gt;new(\n    location =&gt; $FileToAnalyse, Schema =&gt; $SchemaFile\n) or die \"cannot read file '$FileToAnalyse': $!\\n\";\nwhile (1) {\n    my $result;\n    try { $result = $reader-&gt;read } catch {\n        say '==&gt; ' . $_;\n        $result = 1;  # Try to continue after exception..\n    };\n    last if $result != 1;\n    if ( $reader-&gt;nodeType == XML_READER_ELEMENT ) {\n        say \"Element node: \", $reader-&gt;name;\n    }\n}\n$reader-&gt;finish();\n$reader-&gt;close();\n</code></pre>\n"}], "owner": {"reputation": 473, "user_id": 8721281, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/7DKU2.jpg?s=128&g=1", "display_name": "Chazg76", "link": "https://stackoverflow.com/users/8721281/chazg76"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 198, "favorite_count": 0, "accepted_answer_id": 58529046, "answer_count": 2, "score": 3, "last_activity_date": 1571864353, "creation_date": 1571393216, "question_id": 58448603, "link": "https://stackoverflow.com/questions/58448603/xmllibxmlreader-need-warn-on-schema-errors-instead-of-exit", "title": "XML::LibXML::Reader need warn on schema errors instead of exit", "body": "<p>Basically I need to use the schema option from the perl module XML::libXML::Reader in order to validate a large (>1GB) XML file as the file is parsed.</p>\n\n<p>Previously I have used the xmllint command to validate an XML file against a given schema (xsd) file. However now I have some large XML files to validate and am running out of memory (8GB) trying to perform the validation.</p>\n\n<p>I have read on the XML::libXML::Reader perl module page that there is a schema option. However, when I use it (see code below) the code exits when the first invalidate element of the XML file is found.</p>\n\n<pre><code>use strict;\nuse warnings;\nuse XML::LibXML::Reader;\n\nmy $SchemaFile='schema.xsd';\nmy $FileToAnalyse='/tmp/file.xml';\n\nmy $reader = XML::LibXML::Reader-&gt;new(location =&gt; $FileToAnalyse,Schema=&gt;$SchemaFile) or \ndie \"cannot read file '$FileToAnalyse': $!\\n\";\n\nwhile($reader-&gt;read) {\n\n    Process the file line by line here, even if not valid against schema (reduces memory usage for large files)\n}\n</code></pre>\n\n<p>I need to collect the invalid entries and continue rather than exiting. Is this possible?</p>\n"}, {"tags": ["php", "perl"], "comments": [{"owner": {"reputation": 50468, "user_id": 1331451, "user_type": "registered", "accept_rate": 96, "profile_image": "https://i.stack.imgur.com/4ZPmj.png?s=128&g=1", "display_name": "simbabque", "link": "https://stackoverflow.com/users/1331451/simbabque"}, "edited": false, "score": 0, "creation_date": 1571392633, "post_id": 58447871, "comment_id": 103234757, "body": "<a href=\"https://www.php.net/manual/en/reserved.variables.environment.php\" rel=\"nofollow noreferrer\">php.net/manual/en/reserved.variables.environment.php</a>"}], "answers": [{"comments": [{"owner": {"reputation": 2727, "user_id": 278322, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/9aa2cebf852d522fd8035ff69bbac480?s=128&d=identicon&r=PG", "display_name": "skymook", "link": "https://stackoverflow.com/users/278322/skymook"}, "edited": false, "score": 0, "creation_date": 1571395781, "post_id": 58448832, "comment_id": 103236415, "body": "That worked first time. I&#39;ll improve on parsing the header. Thanks for your help. :)"}], "tags": [], "owner": {"reputation": 38072, "user_id": 46395, "user_type": "registered", "accept_rate": 71, "profile_image": "https://www.gravatar.com/avatar/5ce828f20abb195ef5d971205ee36c27?s=128&d=identicon&r=PG", "display_name": "daxim", "link": "https://stackoverflow.com/users/46395/daxim"}, "is_accepted": true, "score": 3, "last_activity_date": 1571393995, "creation_date": 1571393995, "answer_id": 58448832, "question_id": 58447871, "link": "https://stackoverflow.com/questions/58447871/perl-env-equivalent-in-php-to-get-variable/58448832#58448832", "title": "Perl $ENV equivalent in PHP to get variable", "body": "<p>Request headers are populated into the <a href=\"http://php.net/$_SERVER\" rel=\"nofollow noreferrer\"><code>$_SERVER</code></a> variable.</p>\n\n<pre><code>$content_disposition = $_SERVER['HTTP_CONTENT_DISPOSITION'];\nif (!$content_disposition) {\n    throw new Exception('Content-Disposition header missing');\n}\nif (preg_match(\n    '/^attachment; filename=\"(?P&lt;file_name&gt;.*)\"$/',\n    $content_disposition,\n    $matches\n)) {\n    // do something with $matches['file_name']\n} else {\n    throw new Exception(\n        'filename match in Content-Disposition header failed, error: ' .\n        preg_last_error()\n    );\n}\n</code></pre>\n\n<p>That regex is a quite poor way to parse a header (in any programming language).</p>\n\n<p>You should really delegate the task to more robust code and use <a href=\"https://laravel.com/docs/requests#retrieving-uploaded-files\" rel=\"nofollow noreferrer\">a higher-level library to handle uploads</a>, method name is <a href=\"https://github.com/symfony/symfony/blob/3.0/src/Symfony/Component/HttpFoundation/File/UploadedFile.php#L107\" rel=\"nofollow noreferrer\"><code>getClientOriginalName</code></a>.</p>\n"}], "owner": {"reputation": 2727, "user_id": 278322, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/9aa2cebf852d522fd8035ff69bbac480?s=128&d=identicon&r=PG", "display_name": "skymook", "link": "https://stackoverflow.com/users/278322/skymook"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 62, "favorite_count": 0, "accepted_answer_id": 58448832, "answer_count": 1, "score": 0, "last_activity_date": 1571393995, "creation_date": 1571390733, "question_id": 58447871, "link": "https://stackoverflow.com/questions/58447871/perl-env-equivalent-in-php-to-get-variable", "title": "Perl $ENV equivalent in PHP to get variable", "body": "<p>I have a perl file that gets the filename of a <code>POST</code> attachment.</p>\n\n<pre><code>my $file_name = $ENV{'HTTP_CONTENT_DISPOSITION'};\n$file_name =~ s/^attachment; filename=\\\"(.*)\\\"$/$1/;\n</code></pre>\n\n<p>What is the equivalent in PHP? Is this just <code>filename</code> as a POST variable?</p>\n\n<p>Sorry for if this is a noob question. My perl is bad and my PHP noob level. :)</p>\n"}, {"tags": ["perl", "heredoc"], "comments": [{"owner": {"reputation": 188041, "user_id": 10676716, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/arsQA.jpg?s=128&g=1", "display_name": "GMB", "link": "https://stackoverflow.com/users/10676716/gmb"}, "edited": false, "score": 3, "creation_date": 1571386053, "post_id": 58446485, "comment_id": 103231297, "body": "This code should just work... What is the problem that you are having with it?"}, {"owner": {"reputation": 62184, "user_id": 7231, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/81b76985f3985e35492e25880493d045?s=128&d=identicon&r=PG", "display_name": "Dave Cross", "link": "https://stackoverflow.com/users/7231/dave-cross"}, "reply_to_user": {"reputation": 15376, "user_id": 588916, "user_type": "registered", "accept_rate": 60, "profile_image": "https://www.gravatar.com/avatar/b9737fb0439f70903f8948ad3963d9cc?s=128&d=identicon&r=PG", "display_name": "collapsar", "link": "https://stackoverflow.com/users/588916/collapsar"}, "edited": false, "score": 3, "creation_date": 1571387846, "post_id": 58446485, "comment_id": 103232126, "body": "@collapsar: Please don&#39;t recommend unquoted heredoc delimiters. Using single or double quotes makes it clear to your maintenance programmer (which might well be you in three months time) whether or not variables will be interpolated in the string."}, {"owner": {"reputation": 62184, "user_id": 7231, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/81b76985f3985e35492e25880493d045?s=128&d=identicon&r=PG", "display_name": "Dave Cross", "link": "https://stackoverflow.com/users/7231/dave-cross"}, "edited": false, "score": 1, "creation_date": 1571387918, "post_id": 58446485, "comment_id": 103232159, "body": "@SteveS: This code works. Or, at least, you will have HTML in <code>$str</code>. The problem is probably in how that string is then displayed. And we can&#39;t help solve that problem until you show us that part of the code."}, {"owner": {"reputation": 15376, "user_id": 588916, "user_type": "registered", "accept_rate": 60, "profile_image": "https://www.gravatar.com/avatar/b9737fb0439f70903f8948ad3963d9cc?s=128&d=identicon&r=PG", "display_name": "collapsar", "link": "https://stackoverflow.com/users/588916/collapsar"}, "reply_to_user": {"reputation": 62184, "user_id": 7231, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/81b76985f3985e35492e25880493d045?s=128&d=identicon&r=PG", "display_name": "Dave Cross", "link": "https://stackoverflow.com/users/7231/dave-cross"}, "edited": false, "score": 0, "creation_date": 1571393093, "post_id": 58446485, "comment_id": 103234991, "body": "@DaveCross Thank you for the advice, deleting the comment"}], "answers": [{"tags": [], "owner": {"reputation": 57, "user_id": 11367206, "user_type": "registered", "profile_image": "https://lh6.googleusercontent.com/-_XbNUArcr4E/AAAAAAAAAAI/AAAAAAAAelE/m9lKPkQR36Y/photo.jpg?sz=128", "display_name": "Steve S.", "link": "https://stackoverflow.com/users/11367206/steve-s"}, "is_accepted": false, "score": 0, "last_activity_date": 1572438405, "creation_date": 1572438405, "answer_id": 58625361, "question_id": 58446485, "link": "https://stackoverflow.com/questions/58446485/perl-here-doc-how-to-add-html/58625361#58625361", "title": "Perl here doc: how to add HTML", "body": "<p>Thanks, the UI framework did not interpret the embedded HTML, thus like @DaveCross and you guys said, the embedded HTML should work.</p>\n"}], "owner": {"reputation": 57, "user_id": 11367206, "user_type": "registered", "profile_image": "https://lh6.googleusercontent.com/-_XbNUArcr4E/AAAAAAAAAAI/AAAAAAAAelE/m9lKPkQR36Y/photo.jpg?sz=128", "display_name": "Steve S.", "link": "https://stackoverflow.com/users/11367206/steve-s"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 78, "favorite_count": 0, "answer_count": 1, "score": -2, "last_activity_date": 1572438405, "creation_date": 1571385803, "question_id": 58446485, "link": "https://stackoverflow.com/questions/58446485/perl-here-doc-how-to-add-html", "title": "Perl here doc: how to add HTML", "body": "<p>I'm quite new in Perl. I'm using here document to print out something in our UI.\nI could not find a way to add HTML code in here document.</p>\n\n<pre><code>my $str = &lt;&lt;\"EOF\";\n&lt;h1&gt;Something&lt;/h1&gt;\nEOF\n</code></pre>\n\n<p>Please help. Thanks</p>\n"}, {"tags": ["perl"], "comments": [{"owner": {"reputation": 52685, "user_id": 980550, "user_type": "registered", "accept_rate": 70, "profile_image": "https://i.stack.imgur.com/8emhY.jpg?s=128&g=1", "display_name": "lurker", "link": "https://stackoverflow.com/users/980550/lurker"}, "edited": false, "score": 0, "creation_date": 1571349393, "post_id": 58441214, "comment_id": 103222061, "body": "Open the file, read x lines but discard (ignore) them, read the next (y-x) lines and do what you will with them. Ignore the remaining lines. If you&#39;re using linux you can also, from <code>perl</code>, run a combination of the commands <code>head</code> and <code>tail</code> using <code>system(...)</code>. You can find their manual pages online. Or is your question really more about how you even open and read lines in a text file? It&#39;s a little unclear."}, {"owner": {"reputation": 8718, "user_id": 5848200, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/a8072aaf76dcb4fe5027964252f16382?s=128&d=identicon&r=PG", "display_name": "Grinnz", "link": "https://stackoverflow.com/users/5848200/grinnz"}, "edited": false, "score": 1, "creation_date": 1571350199, "post_id": 58441214, "comment_id": 103222280, "body": "Unfortunately files only have bytes, and so the only way you can skip &quot;X lines&quot; is by reading until you pass that many line separators. To skip the last X lines you either need to read the whole file to find out how many lines there are, or use something like <a href=\"https://metacpan.org/pod/File::ReadBackwards\" rel=\"nofollow noreferrer\">File::ReadBackwards</a> to count lines in reverse."}, {"owner": {"reputation": 52685, "user_id": 980550, "user_type": "registered", "accept_rate": 70, "profile_image": "https://i.stack.imgur.com/8emhY.jpg?s=128&g=1", "display_name": "lurker", "link": "https://stackoverflow.com/users/980550/lurker"}, "reply_to_user": {"reputation": 8718, "user_id": 5848200, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/a8072aaf76dcb4fe5027964252f16382?s=128&d=identicon&r=PG", "display_name": "Grinnz", "link": "https://stackoverflow.com/users/5848200/grinnz"}, "edited": false, "score": 0, "creation_date": 1571393404, "post_id": 58441214, "comment_id": 103235159, "body": "@Grinnz sorry I misread your comment."}], "answers": [{"tags": [], "owner": {"reputation": 2749, "user_id": 482519, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/ff5fbaf09cb6d70cefb999871591b3de?s=128&d=identicon&r=PG", "display_name": "ernix", "link": "https://stackoverflow.com/users/482519/ernix"}, "is_accepted": false, "score": 3, "last_activity_date": 1571364712, "creation_date": 1571364712, "answer_id": 58443028, "question_id": 58441214, "link": "https://stackoverflow.com/questions/58441214/skipping-first-x-and-last-y-lines-of-file/58443028#58443028", "title": "skipping first x and last y lines of file", "body": "<p>I think you need a <a href=\"https://en.wikipedia.org/wiki/Circular_buffer\" rel=\"nofollow noreferrer\">circular buffer</a> to avoid reading entire file on your memory.</p>\n\n<h2>skip-first-last.pl</h2>\n\n<pre><code>#!/usr/bin/perl\nuse strict;\nuse warnings;\n\nmy ($first, $last) = @ARGV;\n\nmy @buf;\nwhile (&lt;STDIN&gt;) {\n    my $mod = $. % $last;\n    print $buf[$mod] if defined $buf[$mod];\n    $buf[$mod] = $_ if $. &gt; $first;\n}\n\n1;\n</code></pre>\n\n<p>Skip first 5 lines and last 2 lines:</p>\n\n<pre><code>$ cat -n skip-first-last.pl | ./skip-first-last.pl 5 2\n     6\n     7  my @buf;\n     8  while (&lt;STDIN&gt;) {\n     9      my $mod = $. % $last;\n    10      print $buf[$mod] if defined $buf[$mod];\n    11      $buf[$mod] = $_ if $. &gt; $first;\n    12  }\n</code></pre>\n"}, {"comments": [{"owner": {"reputation": 7316, "user_id": 2751573, "user_type": "registered", "accept_rate": 52, "profile_image": "https://i.stack.imgur.com/GsKBw.jpg?s=128&g=1", "display_name": "Andrew", "link": "https://stackoverflow.com/users/2751573/andrew"}, "edited": false, "score": 0, "creation_date": 1571410551, "post_id": 58443030, "comment_id": 103244303, "body": "Thanks a ton.  Your original comment confused me as well, but this makes a lot of sense.  Your second approach (reading the file in big chunks) is significantly faster than anything was trying."}, {"owner": {"reputation": 53041, "user_id": 4653379, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/b3953dbedd0dabff5cbc3db9b0835b14?s=128&d=identicon&r=PG&f=1", "display_name": "zdim", "link": "https://stackoverflow.com/users/4653379/zdim"}, "reply_to_user": {"reputation": 7316, "user_id": 2751573, "user_type": "registered", "accept_rate": 52, "profile_image": "https://i.stack.imgur.com/GsKBw.jpg?s=128&g=1", "display_name": "Andrew", "link": "https://stackoverflow.com/users/2751573/andrew"}, "edited": false, "score": 0, "creation_date": 1571895981, "post_id": 58443030, "comment_id": 103392592, "body": "@Andrew Most welcome.  That &quot;<i>original comment</i>&quot; you mention -- do you mean how things were phrased originally in this answer?  (I didn&#39;t post any comments?)  If there&#39;s still remnants of what confused, or things aren&#39;t stated well, I&#39;d appreciate it if you can let me know so that I can clear it up. (I&#39;ve been over it back and forth but it&#39;s hard for me to tell...)"}, {"owner": {"reputation": 7316, "user_id": 2751573, "user_type": "registered", "accept_rate": 52, "profile_image": "https://i.stack.imgur.com/GsKBw.jpg?s=128&g=1", "display_name": "Andrew", "link": "https://stackoverflow.com/users/2751573/andrew"}, "edited": false, "score": 0, "creation_date": 1571926672, "post_id": 58443030, "comment_id": 103408137, "body": "I have literally no idea what I was thinking when I typed that.  Maybe I somehow managed to combine a response to someone else entirely?  Or I&#39;m just getting senile! Sorry for the confusion, and thanks for the help."}, {"owner": {"reputation": 53041, "user_id": 4653379, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/b3953dbedd0dabff5cbc3db9b0835b14?s=128&d=identicon&r=PG&f=1", "display_name": "zdim", "link": "https://stackoverflow.com/users/4653379/zdim"}, "reply_to_user": {"reputation": 7316, "user_id": 2751573, "user_type": "registered", "accept_rate": 52, "profile_image": "https://i.stack.imgur.com/GsKBw.jpg?s=128&g=1", "display_name": "Andrew", "link": "https://stackoverflow.com/users/2751573/andrew"}, "edited": false, "score": 0, "creation_date": 1571935920, "post_id": 58443030, "comment_id": 103412854, "body": "@Andrew Oh, OK :)   (I do sometimes get an &quot;explanation&quot; so botched that it in fact confuses more than anything...)"}], "tags": [], "owner": {"reputation": 53041, "user_id": 4653379, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/b3953dbedd0dabff5cbc3db9b0835b14?s=128&d=identicon&r=PG&f=1", "display_name": "zdim", "link": "https://stackoverflow.com/users/4653379/zdim"}, "is_accepted": true, "score": 7, "last_activity_date": 1572647670, "last_edit_date": 1572647670, "creation_date": 1571364722, "answer_id": 58443030, "question_id": 58441214, "link": "https://stackoverflow.com/questions/58441214/skipping-first-x-and-last-y-lines-of-file/58443030#58443030", "title": "skipping first x and last y lines of file", "body": "<p>A file is a sequence of bytes, without the notion of \"lines.\" Some of those bytes are considered as \"line\" separators (linefeeds), which is how software gives us our \"logical\" lines to work with.   So there is no way to know how many lines there are in a file -- without having read it and counted them, that is.</p>\n\n<p>A simple and naive way is to read line-by-line and count</p>\n\n<pre><code>open my $fh, '&lt;', $file  or die \"Can't open $file: $!\";\n\nmy $cnt;\n++$cnt while &lt;$fh&gt;;\n</code></pre>\n\n<p>with a little faster version using <a href=\"https://perldoc.perl.org/perlvar.html#Variables-related-to-filehandles\" rel=\"nofollow noreferrer\"><code>$.</code> variable</a></p>\n\n<pre><code>1 while &lt;$fh&gt;;\nmy $cnt = $.;\n</code></pre>\n\n<p>These take between 2.5 and 3 seconds for a 1.1 Gb text file on a reasonable desktop.</p>\n\n<p>We can speed this up a lot by reading in larger chunks and counting newline characters</p>\n\n<pre><code>open my $fh, '&lt;', $file  or die \"Can't open $file: $!\";\n\nmy $cnt; \nNUM_LINES: {\n    my $len = 64_000; \n    my $buf;\n\n    $cnt += $buf =~ tr/\\n// \n        while read $fh, $buf, $len;\n\n    seek $fh, 0, 0;\n};\n</code></pre>\n\n<p>This goes in barely over half a second, on same hardware and Perl versions.  </p>\n\n<p>I've put it in a block to scope unneeded variables but it should be in a sub, where you can then check where the filehandle is when you get it and return it there after counting (so we can count the \"rest\" of lines from some point in the file and the processing can then continue), etc. It should also include checks on <code>read</code> operation, at each invocation. </p>\n\n<p>I'd think that a half a second overhead on a Gb large file isn't that bad at all.  </p>\n\n<p>Still, you can go for faster yet, at the expense of it being far messier.  Get the file size (metadata, so no reading involved) and <code>seek</code> to a position estimated to be the wanted number of lines before the end (no reading involved).  That most likely won't hit the right spot so read to the end to count lines and adjust, seeking back (further or closer). Repeat until you reach the needed place.</p>\n\n<pre><code>open my $fh, \"&lt;\", $file; \nmy $size = -s $file;\n\nmy $estimated_line_len = 80;\nmy $num_last_lines     = 100;\n\nmy $pos = $size - $num_last_lines*$estimated_line_len;\n\nseek $fh, $pos, 0; \n\nmy $cnt;    \n++$cnt while &lt;$fh&gt;; \n\nsay \"There are $cnt lines from position $pos to the end\"; \n\n# likely need to seek back further/closer ...\n</code></pre>\n\n<p>I'd guess that this should get you there in under 100 ms.  Note that <code>$pos</code> is likely inside a line.</p>\n\n<p>Then once you know the number of lines (or the position for desired number of lines before the end) do <code>seek $fh, 0, 0</code> and process away. Or really have this in a sub which puts the filehandle back where it was before returning, as mentioned. </p>\n"}], "owner": {"reputation": 7316, "user_id": 2751573, "user_type": "registered", "accept_rate": 52, "profile_image": "https://i.stack.imgur.com/GsKBw.jpg?s=128&g=1", "display_name": "Andrew", "link": "https://stackoverflow.com/users/2751573/andrew"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 80, "favorite_count": 0, "accepted_answer_id": 58443030, "answer_count": 2, "score": 3, "last_activity_date": 1572647670, "creation_date": 1571349236, "question_id": 58441214, "link": "https://stackoverflow.com/questions/58441214/skipping-first-x-and-last-y-lines-of-file", "title": "skipping first x and last y lines of file", "body": "<p>I'm doing some simple parsing on text files (which could get up into the 1GB range).  How would I go about skipping the first N rows, and more importantly, the last (different) N rows?  I'm sure I could open the file and count the rows, and do something with $_ &lt; total_row_count -N, but that seems incredibly inefficient.\nI'm pretty much a perl newb, btw.</p>\n"}, {"tags": ["perl"], "comments": [{"owner": {"reputation": 15376, "user_id": 588916, "user_type": "registered", "accept_rate": 60, "profile_image": "https://www.gravatar.com/avatar/b9737fb0439f70903f8948ad3963d9cc?s=128&d=identicon&r=PG", "display_name": "collapsar", "link": "https://stackoverflow.com/users/588916/collapsar"}, "edited": false, "score": 0, "creation_date": 1571341840, "post_id": 58439775, "comment_id": 103219266, "body": "What do you mean by &#39;format&#39;? Pretty-printing ?"}, {"owner": {"reputation": 5970, "user_id": 2618323, "user_type": "registered", "accept_rate": 74, "profile_image": "https://i.stack.imgur.com/3Czph.jpg?s=128&g=1", "display_name": "Developer", "link": "https://stackoverflow.com/users/2618323/developer"}, "reply_to_user": {"reputation": 15376, "user_id": 588916, "user_type": "registered", "accept_rate": 60, "profile_image": "https://www.gravatar.com/avatar/b9737fb0439f70903f8948ad3963d9cc?s=128&d=identicon&r=PG", "display_name": "collapsar", "link": "https://stackoverflow.com/users/588916/collapsar"}, "edited": false, "score": 0, "creation_date": 1571341889, "post_id": 58439775, "comment_id": 103219291, "body": "@collapsar yes that&#39;s what i mean"}], "answers": [{"tags": [], "owner": {"reputation": 15376, "user_id": 588916, "user_type": "registered", "accept_rate": 60, "profile_image": "https://www.gravatar.com/avatar/b9737fb0439f70903f8948ad3963d9cc?s=128&d=identicon&r=PG", "display_name": "collapsar", "link": "https://stackoverflow.com/users/588916/collapsar"}, "is_accepted": true, "score": 2, "last_activity_date": 1571342423, "creation_date": 1571342423, "answer_id": 58439940, "question_id": 58439775, "link": "https://stackoverflow.com/questions/58439775/how-to-format-xml-created-from-xmllibxml-in-perl/58439940#58439940", "title": "How to format xml created from XML::LibXML in perl", "body": "<p>The method <a href=\"https://metacpan.org/pod/distribution/XML-LibXML/lib/XML/LibXML/Document.pod#serialize\" rel=\"nofollow noreferrer\"><code>XML::LibXML::Document::serialize</code></a> writes the xml document as text. Its parameter allows for limited control over the format of the output.</p>\n\n<p><code>XML::LibXML</code> is a veneer to the <code>libxml2</code> system library. This library comes with a hard-coded indentation of 2 spaces, so unless you create your own pretty-printer your options will be limited.</p>\n\n<p>However, there are a number of standalone utilities that reformat syntactically valid xml and allow more fine-grained control and which can be run as a postprocessor from within perl on a file with the serialized xml. I've been satisfied with <code>xmlstarlet</code> and <code>xmllint</code>.</p>\n\n<p>Another question is whether you really want to invest many resources into the endeavour. If you need the human-readable version for debugging or out-of-order inspection only, loading the data into a browser like Chrome or Firefox may be enough - they run xml data through a very decent pretty-printer.</p>\n"}], "owner": {"reputation": 5970, "user_id": 2618323, "user_type": "registered", "accept_rate": 74, "profile_image": "https://i.stack.imgur.com/3Czph.jpg?s=128&g=1", "display_name": "Developer", "link": "https://stackoverflow.com/users/2618323/developer"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 44, "favorite_count": 0, "accepted_answer_id": 58439940, "answer_count": 1, "score": 1, "last_activity_date": 1571342423, "creation_date": 1571341678, "last_edit_date": 1571341902, "question_id": 58439775, "link": "https://stackoverflow.com/questions/58439775/how-to-format-xml-created-from-xmllibxml-in-perl", "title": "How to format xml created from XML::LibXML in perl", "body": "<p>I am creating XML data in Perl by using XML::LibXML Module But when i am writing the data into a file want to Pretty-printing it so that is it can be easily readable .</p>\n\n<p>Below is a snapshot how i am creating xml from my perl script:</p>\n\n<pre><code>my $xml = XML::LibXML::Document-&gt;new('1.0', 'UTF-8');\n$xml-&gt;createElement('A');\n$elem-&gt;setAttribute('B',data)\n</code></pre>\n\n<p>Is there any way we can format the XML by using XML::LibXML because i have to stick with this module only.</p>\n"}, {"tags": ["ajax", "perl", "jscript"], "comments": [{"owner": {"reputation": 198290, "user_id": 1030675, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/957956ce51706d03f19a4dc85a767bb1?s=128&d=identicon&r=PG", "display_name": "choroba", "link": "https://stackoverflow.com/users/1030675/choroba"}, "edited": false, "score": 0, "creation_date": 1571339174, "post_id": 58438959, "comment_id": 103218180, "body": "Crossposted to <a href=\"https://www.perlmonks.org/?node_id=11107619\" rel=\"nofollow noreferrer\">PerlMonks</a>."}, {"owner": {"reputation": 62184, "user_id": 7231, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/81b76985f3985e35492e25880493d045?s=128&d=identicon&r=PG", "display_name": "Dave Cross", "link": "https://stackoverflow.com/users/7231/dave-cross"}, "edited": false, "score": 0, "creation_date": 1571384687, "post_id": 58438959, "comment_id": 103230704, "body": "<i>I am not having any success</i> - It would be really helpful to know what this means. What unexpected behaviour are you seeing? Does nothing seem to happen? Is there an error message (perhaps in the web server error log)? Does your computer explode?"}], "answers": [{"tags": [], "owner": {"reputation": 60461, "user_id": 3636601, "user_type": "registered", "accept_rate": 75, "profile_image": "https://www.gravatar.com/avatar/69a1b4f750ece89db0e49c94519f1a7d?s=128&d=identicon&r=PG&f=1", "display_name": "Jens", "link": "https://stackoverflow.com/users/3636601/jens"}, "is_accepted": false, "score": 1, "last_activity_date": 1571338532, "last_edit_date": 1571338532, "creation_date": 1571338205, "answer_id": 58439024, "question_id": 58438959, "link": "https://stackoverflow.com/questions/58438959/need-to-call-perl-script-from-javascript/58439024#58439024", "title": "Need to call perl script from javascript", "body": "<p>Looks like your perl script expect a get request not a post request\ntry:</p>\n\n<pre><code> $.ajax({\n    url: '/myweb/myScript.pl?id=1234&amp;stg=13',\n    type: 'get'\n  });\n</code></pre>\n\n<p>if you would like use data you can do it this way:</p>\n\n<pre><code> $.ajax({\n    url: '/myweb/myScript.pl',\n    type: 'get',\n    data: {\n      'id' : '1234',\n      'stg' : '13'\n   }\n\n  });\n</code></pre>\n\n<p>this should work too</p>\n"}], "owner": {"reputation": 1, "user_id": 12234603, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/d5c228e689015e54259effcf9e4f70af?s=128&d=identicon&r=PG&f=1", "display_name": "kruegerm", "link": "https://stackoverflow.com/users/12234603/kruegerm"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 37, "favorite_count": 0, "answer_count": 1, "score": 0, "last_activity_date": 1571338532, "creation_date": 1571337915, "last_edit_date": 1571338152, "question_id": 58438959, "link": "https://stackoverflow.com/questions/58438959/need-to-call-perl-script-from-javascript", "title": "Need to call perl script from javascript", "body": "<p>I have written a perl script I can access from a URL:\n   <strong><a href=\"https://hostname/myweb/myScript.pl?id=1234&amp;stg=13\" rel=\"nofollow noreferrer\">https://hostname/myweb/myScript.pl?id=1234&amp;stg=13</a></strong>\nI get the proper results using the URL</p>\n\n<p>In javascript/jscript, I have tried loading the script (<code>$('#element').load()</code>) - I've tried full ajax calls within a function:</p>\n\n<pre><code>  $.ajax({\n    url: '/myweb/myScript.pl',\n    type: 'post',\n    data: {\n      'id' : '1234',\n      'stg' : '13'\n    }\n  });\n</code></pre>\n\n<p>I am not having any success.  If anyone can point me in the right direction, it would be greatly appreciated!</p>\n\n<p>M</p>\n"}, {"tags": ["regex", "perl", "substitution"], "answers": [{"comments": [{"owner": {"reputation": 8718, "user_id": 5848200, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/a8072aaf76dcb4fe5027964252f16382?s=128&d=identicon&r=PG", "display_name": "Grinnz", "link": "https://stackoverflow.com/users/5848200/grinnz"}, "edited": false, "score": 1, "creation_date": 1571337436, "post_id": 58438752, "comment_id": 103217444, "body": "This will require the <code>.</code> to immediately follow the last match though. You want it anytime after the last match, you can insert <code>[^.]*</code> to allow non-dot characters in between and follow with <code>\\K</code> so those characters are not substituted. <code>s&#47;\\G[^.]*\\K\\.&#47;-&#47;g</code>"}, {"owner": {"reputation": 32176, "user_id": 2173773, "user_type": "registered", "accept_rate": 86, "profile_image": "https://i.stack.imgur.com/M8yh6.jpg?s=128&g=1", "display_name": "H&#229;kon H&#230;gland", "link": "https://stackoverflow.com/users/2173773/h%c3%a5kon-h%c3%a6gland"}, "reply_to_user": {"reputation": 8718, "user_id": 5848200, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/a8072aaf76dcb4fe5027964252f16382?s=128&d=identicon&r=PG", "display_name": "Grinnz", "link": "https://stackoverflow.com/users/5848200/grinnz"}, "edited": false, "score": 0, "creation_date": 1571337612, "post_id": 58438752, "comment_id": 103217519, "body": "@Grinnz Thanks for advice! I have updated the question"}], "tags": [], "owner": {"reputation": 32176, "user_id": 2173773, "user_type": "registered", "accept_rate": 86, "profile_image": "https://i.stack.imgur.com/M8yh6.jpg?s=128&g=1", "display_name": "H&#229;kon H&#230;gland", "link": "https://stackoverflow.com/users/2173773/h%c3%a5kon-h%c3%a6gland"}, "is_accepted": false, "score": 1, "last_activity_date": 1571337598, "last_edit_date": 1571337598, "creation_date": 1571337016, "answer_id": 58438752, "question_id": 58438606, "link": "https://stackoverflow.com/questions/58438606/how-to-make-substitutions-in-string-only-after-a-certain-anchor/58438752#58438752", "title": "How to make substitutions in string only after a certain anchor?", "body": "<p>Here is one approach using first a match to set the starting position using the <code>g</code> flag which sets the <code>pos</code> property of <code>$str</code>, which can be later used with the <code>\\G</code> assertion to start the search at a given position:</p>\n\n<pre><code>if ( $str =~ /xtop\\.xnext/g ) {\n    $str =~ s/\\G[^.]*\\K\\./-/g;\n}\n</code></pre>\n\n<p>See <a href=\"https://perldoc.perl.org/perlre.html\" rel=\"nofollow noreferrer\">perldoc perlre</a> for more information.</p>\n"}, {"tags": [], "owner": {"reputation": 169, "user_id": 4386691, "user_type": "registered", "accept_rate": 0, "profile_image": "https://www.gravatar.com/avatar/862dd6e0f0a133e5d68ecf118d7e888d?s=128&d=identicon&r=PG", "display_name": "azpiuser", "link": "https://stackoverflow.com/users/4386691/azpiuser"}, "is_accepted": false, "score": 1, "last_activity_date": 1571345713, "last_edit_date": 1571345713, "creation_date": 1571345245, "answer_id": 58440518, "question_id": 58438606, "link": "https://stackoverflow.com/questions/58438606/how-to-make-substitutions-in-string-only-after-a-certain-anchor/58440518#58440518", "title": "How to make substitutions in string only after a certain anchor?", "body": "<p>This works :</p>\n\n<pre><code>perl -p -e 's/(?:xtop\\.xnext|\\G)\\K\\.([^.]+)/-$1/g;'\n\n(?:  -- grouping only, don't create backref\nxtop.\\xnext|\\G   -- explicit text or position of last match\n\\K     -- match from this position only\n\\.     -- match the period\n([^.]+)   -- capture for the purpose of the \\G to be used later\n</code></pre>\n"}], "owner": {"reputation": 169, "user_id": 4386691, "user_type": "registered", "accept_rate": 0, "profile_image": "https://www.gravatar.com/avatar/862dd6e0f0a133e5d68ecf118d7e888d?s=128&d=identicon&r=PG", "display_name": "azpiuser", "link": "https://stackoverflow.com/users/4386691/azpiuser"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 43, "favorite_count": 0, "answer_count": 2, "score": 0, "last_activity_date": 1571345713, "creation_date": 1571336399, "last_edit_date": 1571344020, "question_id": 58438606, "link": "https://stackoverflow.com/questions/58438606/how-to-make-substitutions-in-string-only-after-a-certain-anchor", "title": "How to make substitutions in string only after a certain anchor?", "body": "<p>How to make substitutions in string only after certain anchor?</p>\n\n<p>I need: </p>\n\n<pre><code>xtop.xnext.sig1 --&gt; xtop.xnext-sig1\nxtop.xnext.xlower.sig2 --&gt; xtop.xnext-xlower-sig2\n</code></pre>\n\n<p>With an elegant <code>s///</code> in Perl. Is there a cool way to do this using <code>xtop.xnext</code> as the anchor (i.e., all '.' --> '-' but only after <code>xtop.xnext</code>) rather than first matching and then stitching using multiple commands?</p>\n"}, {"tags": ["perl"], "comments": [{"owner": {"reputation": 21147, "user_id": 7733418, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/b08876b87c096cd006f66820ffc67f27?s=128&d=identicon&r=PG", "display_name": "Yunnosch", "link": "https://stackoverflow.com/users/7733418/yunnosch"}, "edited": false, "score": 2, "creation_date": 1571336024, "post_id": 58438337, "comment_id": 103216848, "body": "What answers do you expect? If you expect &quot;In my opinoin ...&quot;, then the question is off-topic for being mostly opinionated. If you expect &quot;do it like this <code>code</code>&quot; then the question lacks any demonstration of own effort and is off-topic for being too broad. If you expect some basic perl tutorial, then it the question is off-topic for asking for tutorial. If you expect anythign else, then your question is off-topic for being unclear about what exactly your are asking. Try reading <a href=\"https://stackoverflow.com/tour\">tour</a> and <a href=\"https://stackoverflow.com/questions/how-to-ask\">How to Ask</a>. Then aim for a specific question on a programming problem you encountered while solving this."}, {"owner": {"reputation": 11, "user_id": 12202768, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/8dd53800ae63b1ec922d629cd88789e4?s=128&d=identicon&r=PG&f=1", "display_name": "Lance", "link": "https://stackoverflow.com/users/12202768/lance"}, "reply_to_user": {"reputation": 21147, "user_id": 7733418, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/b08876b87c096cd006f66820ffc67f27?s=128&d=identicon&r=PG", "display_name": "Yunnosch", "link": "https://stackoverflow.com/users/7733418/yunnosch"}, "edited": false, "score": 0, "creation_date": 1571337479, "post_id": 58438337, "comment_id": 103217462, "body": "I was expecting an asswer clearly....don&#39;t assume i haven&#39;t tried myself....my solution seemed too long and i actually wanted an efficient method like matching the string pattern and replacing using SED for example."}, {"owner": {"reputation": 21147, "user_id": 7733418, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/b08876b87c096cd006f66820ffc67f27?s=128&d=identicon&r=PG", "display_name": "Yunnosch", "link": "https://stackoverflow.com/users/7733418/yunnosch"}, "edited": false, "score": 1, "creation_date": 1571338640, "post_id": 58438337, "comment_id": 103217925, "body": "Well, why didn&#39;t you show your solution so as to give a reference for how efficient the answer needs to be? None of the downvotes is by me, but you probably would have received fewer if you had shown and then explained how much more efficient you need it and why. In case you encounter the need to improve your question scores some time in the future, this is a good candidate."}, {"owner": {"reputation": 11, "user_id": 12202768, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/8dd53800ae63b1ec922d629cd88789e4?s=128&d=identicon&r=PG&f=1", "display_name": "Lance", "link": "https://stackoverflow.com/users/12202768/lance"}, "reply_to_user": {"reputation": 21147, "user_id": 7733418, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/b08876b87c096cd006f66820ffc67f27?s=128&d=identicon&r=PG", "display_name": "Yunnosch", "link": "https://stackoverflow.com/users/7733418/yunnosch"}, "edited": false, "score": 0, "creation_date": 1571341311, "post_id": 58438337, "comment_id": 103219057, "body": "Ok noted. I am pretty new to this site...and quite honestly i dont care about down votes..no one should down vote anyone for asking questions regarding syntax. I will post what i tried in a bit. Problem solving is different from knowledge of syntax in a particular language."}], "answers": [{"comments": [{"owner": {"reputation": 11, "user_id": 12202768, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/8dd53800ae63b1ec922d629cd88789e4?s=128&d=identicon&r=PG&f=1", "display_name": "Lance", "link": "https://stackoverflow.com/users/12202768/lance"}, "edited": false, "score": 1, "creation_date": 1571336627, "post_id": 58438614, "comment_id": 103217070, "body": "haegland You are amazing! Thanks....that&#39;s an excellent method...I am learning a great deal from this site!"}, {"owner": {"reputation": 11, "user_id": 12202768, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/8dd53800ae63b1ec922d629cd88789e4?s=128&d=identicon&r=PG&f=1", "display_name": "Lance", "link": "https://stackoverflow.com/users/12202768/lance"}, "edited": false, "score": 0, "creation_date": 1571337795, "post_id": 58438614, "comment_id": 103217585, "body": "@heagland Actually problem with the solution you have is that &quot;mg&quot; can be any string and &quot;it&quot; can be any string as well. so i can have mgx_1_2_3_that as well."}, {"owner": {"reputation": 11, "user_id": 12202768, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/8dd53800ae63b1ec922d629cd88789e4?s=128&d=identicon&r=PG&f=1", "display_name": "Lance", "link": "https://stackoverflow.com/users/12202768/lance"}, "edited": false, "score": 0, "creation_date": 1571341736, "post_id": 58438614, "comment_id": 103219222, "body": "@haegland....thanks for including the second alternate solution. Your method is quite advanced but compact. Thanks."}], "tags": [], "owner": {"reputation": 32176, "user_id": 2173773, "user_type": "registered", "accept_rate": 86, "profile_image": "https://i.stack.imgur.com/M8yh6.jpg?s=128&g=1", "display_name": "H&#229;kon H&#230;gland", "link": "https://stackoverflow.com/users/2173773/h%c3%a5kon-h%c3%a6gland"}, "is_accepted": false, "score": 0, "last_activity_date": 1571339780, "last_edit_date": 1571339780, "creation_date": 1571336422, "answer_id": 58438614, "question_id": 58438337, "link": "https://stackoverflow.com/questions/58438337/how-to-replace-a-sequence-of-numbers-separated-by-in-a-string-with-a-single/58438614#58438614", "title": "How to replace a sequence of numbers separated by &quot; _&quot; in a string with a single number", "body": "<p>Try this:</p>\n\n<pre><code>use strict;\nuse warnings;\nuse Data::Dumper;\n\nmy $str = 'mg_delay_1_2_5_25_30_it';\nmy $start = 'mg_delay';\nmy $end = 'it';\nif (my ($res) = $str =~ /\\Q$start\\E_((?:\\d+_)+)\\Q$end\\E/) {\n    my @items = $res =~ /(\\d+)/g;\n    my @versions = map { $start . '_' . $_ . '_' . $end } @items;\n    print Dumper(\\@versions);\n}\n</code></pre>\n\n<p><strong>Output</strong>:</p>\n\n<pre><code>$VAR1 = [\n          'mg_delay_1_it',\n          'mg_delay_2_it',\n          'mg_delay_5_it',\n          'mg_delay_25_it',\n          'mg_delay_30_it'\n        ];\n</code></pre>\n\n<p>Alternatively, if <code>$start</code> and <code>$end</code> are not known:</p>\n\n<pre><code>my $str = 'mg_delay_1_2_5_25_30_it';\nif (my ($start, $res, $end ) = $str =~ /^((?:(?!_\\d).)+)_((?:\\d+_)+)(.+)$/) {\n    my @items = $res =~ /(\\d+)/g;\n    my @versions = map { $start . '_' . $_ . '_' . $end } @items;\n    print Dumper(\\@versions);\n}\n</code></pre>\n"}], "owner": {"reputation": 11, "user_id": 12202768, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/8dd53800ae63b1ec922d629cd88789e4?s=128&d=identicon&r=PG&f=1", "display_name": "Lance", "link": "https://stackoverflow.com/users/12202768/lance"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 45, "favorite_count": 0, "answer_count": 1, "score": -2, "last_activity_date": 1571339780, "creation_date": 1571335183, "question_id": 58438337, "link": "https://stackoverflow.com/questions/58438337/how-to-replace-a-sequence-of-numbers-separated-by-in-a-string-with-a-single", "title": "How to replace a sequence of numbers separated by &quot; _&quot; in a string with a single number", "body": "<p>Say i have a string \"mg_delay_1_2_it\" , whereby i can have varying sequence of the numbers separated by \"_\" i.e i can have also a string like \"mg_delay_1_2_10_it\", or \"mg_delay_1_2_5_25_30_it\". I want to be able to replace the number section with a single number to produce several versions example: \nIf the string is:mg_delay_1_2_5_25_30_it,\ni want to be able to produce mg_delay_1_it ,mg_delay_2_it, mg_delay_5_it ,mg_delay_25_it and mg_delay_30_it from the original string. \nPlease how do i do this efficiently in perl?</p>\n"}, {"tags": ["perl", "io"], "comments": [{"owner": {"reputation": 8718, "user_id": 5848200, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/a8072aaf76dcb4fe5027964252f16382?s=128&d=identicon&r=PG", "display_name": "Grinnz", "link": "https://stackoverflow.com/users/5848200/grinnz"}, "edited": false, "score": 1, "creation_date": 1571331103, "post_id": 58437229, "comment_id": 103214740, "body": "Always <code>use strict;</code> and <code>use warnings;</code>. Use lexicals for handles, not barewords: <code>opendir my $dir, $path</code>"}, {"owner": {"reputation": 8718, "user_id": 5848200, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/a8072aaf76dcb4fe5027964252f16382?s=128&d=identicon&r=PG", "display_name": "Grinnz", "link": "https://stackoverflow.com/users/5848200/grinnz"}, "edited": false, "score": 0, "creation_date": 1571331191, "post_id": 58437229, "comment_id": 103214782, "body": "You are using <code>$_</code> but nothing is setting it. There is no reason to use it anyway. You need to use <a href=\"https://perldoc.pl/functions/readdir\" rel=\"nofollow noreferrer\">readdir</a> to read the entries of a directory handle you&#39;ve opened. The entries you read will also be relative to that directory, so you have to assemble its path before you can use it. Consider the <a href=\"https://metacpan.org/pod/Path::Tiny\" rel=\"nofollow noreferrer\">Path::Tiny</a> iterator method, or <a href=\"https://metacpan.org/pod/Path::Iterator::Rule\" rel=\"nofollow noreferrer\">Path::Iterator::Rule</a> for more complex needs."}, {"owner": {"reputation": 8718, "user_id": 5848200, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/a8072aaf76dcb4fe5027964252f16382?s=128&d=identicon&r=PG", "display_name": "Grinnz", "link": "https://stackoverflow.com/users/5848200/grinnz"}, "edited": false, "score": 0, "creation_date": 1571331230, "post_id": 58437229, "comment_id": 103214801, "body": "There is also no reason for the file-scoped state variable <code>@files</code>, it can just be a my variable."}], "answers": [{"comments": [{"owner": {"reputation": 320771, "user_id": 589924, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/b2cf53d5a3d25f95c0db4e025aed4153?s=128&d=identicon&r=PG", "display_name": "ikegami", "link": "https://stackoverflow.com/users/589924/ikegami"}, "edited": false, "score": 0, "creation_date": 1571381329, "post_id": 58440569, "comment_id": 103229240, "body": "A very important change you made without mentioning is the change from a global var to a lexical var for the directory handle. The OP code would clobber the caller&#39;s handle."}, {"owner": {"reputation": 609, "user_id": 11143545, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/617c9145bb039f1defedce54b28e89b3?s=128&d=identicon&r=PG&f=1", "display_name": "Herdsman", "link": "https://stackoverflow.com/users/11143545/herdsman"}, "edited": false, "score": 0, "creation_date": 1571842950, "post_id": 58440569, "comment_id": 103376279, "body": "Thank you very much. I am currently reading the llama book. but will definitely read the intermediate as well. Thanks!"}], "tags": [], "owner": {"reputation": 121105, "user_id": 2766176, "user_type": "registered", "accept_rate": 61, "profile_image": "https://www.gravatar.com/avatar/edd8638efe875601bfe394a8aea5b16d?s=128&d=identicon&r=PG", "display_name": "brian d foy", "link": "https://stackoverflow.com/users/2766176/brian-d-foy"}, "is_accepted": false, "score": 3, "last_activity_date": 1571412240, "last_edit_date": 1571412240, "creation_date": 1571345492, "answer_id": 58440569, "question_id": 58437229, "link": "https://stackoverflow.com/questions/58437229/how-can-i-make-recursive-ls-command-in-perl/58440569#58440569", "title": "How can I make recursive &#39;ls&#39; command in perl?", "body": "<p>There's a particular problem in your Perl program. You aren't using the argument that you pass to your subroutine:</p>\n\n<pre><code>sub marin{\n    if (opendir DIR, $_){\n       marin $_; \n    } else {\n       push @files, $_; \n    }   \n  closedir DIR;\n  }\n</code></pre>\n\n<p>You meant to use the first argument to the subroutine (<code>$_[0]</code>), but you use the default topic variable, (<code>$_</code>) instead. Since there's no value in <code>$_</code>, you get the error you report.</p>\n\n<p>Instead, you can say:</p>\n\n<pre><code>opendir DIR, $_[0]\n</code></pre>\n\n<p>But that's a bit ugly. It's really a single-element access to the array <code>@_</code>, the subroutine argument list. Rather than the ugly form, use a list assignment to give those names:</p>\n\n<pre><code>sub marin{\n    my( $file ) = @_;\n    if (opendir DIR, $file){\n       marin $file; \n    } else {\n       push @files, $file; \n    }   \n  closedir DIR;\n  }\n</code></pre>\n\n<p>The next big problem is that you are using a bareword file handle  (<code>DIR</code>) in a recursive subroutine. This is effectively a global variable, so each time you open it you close the previous one. Instead, you a lexical variable. If you use a newly-declared lexical variable or a variable whose value is undef, the <code>opendir</code> (or <code>open</code>) will put a reference to the opened file handle in the variable. Now each directory handle is private to the subroutine <em>call</em> (not the subroutine definition!). For each level, there's a new directory handle in addition to all the others you've already opened:</p>\n\n<pre><code>sub marin{\n    my( $file ) = @_;\n    if (opendir my $dh, $file){\n       marin $file; \n    } else {\n       push @files, $file; \n    }   \n  }\n</code></pre>\n\n<p>Now that should get you closer to what you want. That's only the first issues though. Each time you call <code>marin</code>, you need to decide what it's going to return and how you'll communicate that to the level above it. So far you do work</p>\n\n<p>We have an example of this task in the \"Reference Tricks\" chapter in <a href=\"https://www.intermediateperl.com\" rel=\"nofollow noreferrer\">Intermediate Perl</a>. It's similar to this example:</p>\n\n<pre><code>use v5.10;\n\nuse Data::Dumper;\n\nmy $listing = marin( '/etc' );\n\nsub marin {\n    my( $dir ) = @_;\n\n    if( opendir my $dh, $dir ) {\n        my %hash;\n        while( my $file = readdir($dh) ) {\n            next if $file eq '.' || $file eq '..';\n            next if -l $file; # symlinks can make a loop!\n            $hash{$file} = marin( \"$dir/$file\" )\n            }\n        return \\%hash\n        }\n\n    return;\n    }\n\nsay Dumper( $listing );\n</code></pre>\n\n<p>This produces something like this, where a undef hash value indicates a plain file and a hash reference value is a subdirectory:</p>\n\n<pre><code>$VAR1 = {\n          'php.ini.default-previous~orig' =&gt; undef,\n          'networks' =&gt; undef,\n          'csh.login~orig' =&gt; undef,\n          'rtadvd.conf~previous' =&gt; undef,\n          'group~previous' =&gt; undef,\n          'mach_init_per_user.d' =&gt; {},\n          'manpaths.d' =&gt; {\n                            'Wireshark' =&gt; undef,\n                            'MacGPG2' =&gt; undef\n                          },\n          'rmtab' =&gt; undef,\n          'passwd' =&gt; undef,\n          'master.passwd' =&gt; undef,\n          ...\n</code></pre>\n"}], "owner": {"reputation": 609, "user_id": 11143545, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/617c9145bb039f1defedce54b28e89b3?s=128&d=identicon&r=PG&f=1", "display_name": "Herdsman", "link": "https://stackoverflow.com/users/11143545/herdsman"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 76, "favorite_count": 0, "answer_count": 1, "score": 0, "last_activity_date": 1571412240, "creation_date": 1571330355, "last_edit_date": 1571346862, "question_id": 58437229, "link": "https://stackoverflow.com/questions/58437229/how-can-i-make-recursive-ls-command-in-perl", "title": "How can I make recursive &#39;ls&#39; command in perl?", "body": "<p>I tried this in Perl:</p>\n\n<pre><code>#!/usr/bin/perl \nuse 5.010;\nstate @files;\n\nsub marin{\nif (opendir DIR, $_){\n   marin $_; \n} else {\n  push @files, $_; \n}   \n closedir DIR;\n}\n$input = opendir DIR, '/home';\nmarin $input;\nprint \"@files\";\n</code></pre>\n\n<p>But error occurs: 'Cant opendir('DIR', undef) : No such file or directory (line 7). Which is <code>if(open DIR, $_)</code> ... why can not I use $_ as pathfile? (and thus make it as my filehandle?) Niether if I make the <code>$_</code> at the beginning of marine function as another scalar <code>$_ = $dir_to_open</code>, it wont help. Please, what I am doing wrong?</p>\n"}, {"tags": ["regex", "perl"], "comments": [{"owner": {"reputation": 27648, "user_id": 9952196, "user_type": "registered", "profile_image": "https://graph.facebook.com/10216835866235879/picture?type=large", "display_name": "Shawn", "link": "https://stackoverflow.com/users/9952196/shawn"}, "edited": false, "score": 1, "creation_date": 1571327542, "post_id": 58436420, "comment_id": 103213090, "body": "You have one too many backslashes before the pipe."}, {"owner": {"reputation": 169, "user_id": 4386691, "user_type": "registered", "accept_rate": 0, "profile_image": "https://www.gravatar.com/avatar/862dd6e0f0a133e5d68ecf118d7e888d?s=128&d=identicon&r=PG", "display_name": "azpiuser", "link": "https://stackoverflow.com/users/4386691/azpiuser"}, "reply_to_user": {"reputation": 27648, "user_id": 9952196, "user_type": "registered", "profile_image": "https://graph.facebook.com/10216835866235879/picture?type=large", "display_name": "Shawn", "link": "https://stackoverflow.com/users/9952196/shawn"}, "edited": false, "score": 0, "creation_date": 1571327995, "post_id": 58436420, "comment_id": 103213319, "body": "True, but why does it put a &#39;.xnext&#39; at the beginning? Something basic about s/// that I&#39;m missing?  Or, how does it decide to do something to ^ (start or line) (assuming that&#39;s what happened)?"}, {"owner": {"reputation": 27648, "user_id": 9952196, "user_type": "registered", "profile_image": "https://graph.facebook.com/10216835866235879/picture?type=large", "display_name": "Shawn", "link": "https://stackoverflow.com/users/9952196/shawn"}, "edited": false, "score": 0, "creation_date": 1571328131, "post_id": 58436420, "comment_id": 103213395, "body": "An empty alternative matches the empty string before the first character."}, {"owner": {"reputation": 137100, "user_id": 874188, "user_type": "registered", "accept_rate": 62, "profile_image": "https://i.stack.imgur.com/ZcY77.png?s=128&g=1", "display_name": "tripleee", "link": "https://stackoverflow.com/users/874188/tripleee"}, "edited": false, "score": 0, "creation_date": 1571328141, "post_id": 58436420, "comment_id": 103213400, "body": "Because the now unescaped <code>|</code> introduces a regex alternation with the empty string, which matches immediately."}, {"owner": {"reputation": 169, "user_id": 4386691, "user_type": "registered", "accept_rate": 0, "profile_image": "https://www.gravatar.com/avatar/862dd6e0f0a133e5d68ecf118d7e888d?s=128&d=identicon&r=PG", "display_name": "azpiuser", "link": "https://stackoverflow.com/users/4386691/azpiuser"}, "edited": false, "score": 0, "creation_date": 1571328220, "post_id": 58436420, "comment_id": 103213455, "body": "Cool. Thanks guys.  I meant to match the &#39;|&#39;, but now I have effectively said &quot;something or nothing&quot; and the nothing was found at the beginning of the string.. perl magic :)"}], "answers": [{"tags": [], "owner": {"reputation": 110113, "user_id": 168657, "user_type": "registered", "accept_rate": 92, "profile_image": "https://www.gravatar.com/avatar/f14e7610fca39322ebbf23530def15f8?s=128&d=identicon&r=PG", "display_name": "mob", "link": "https://stackoverflow.com/users/168657/mob"}, "is_accepted": false, "score": 1, "last_activity_date": 1571328244, "creation_date": 1571328244, "answer_id": 58436680, "question_id": 58436420, "link": "https://stackoverflow.com/questions/58436420/whats-going-on-in-this-substitution/58436680#58436680", "title": "What&#39;s going on in this substitution?", "body": "<p>In your regex, <code>|</code> is the \"alternation\" metacharacter and not a literal pipe character. So your pattern</p>\n\n<pre><code>\\.xnext\\\\|\n</code></pre>\n\n<p>can either match the literal string <code>.xnext\\</code>, which is what is specified on the left side of the alternation character, or</p>\n\n<p>nothing, which is what is specified to the right side of the alternation. </p>\n\n<p>So the beginning of your input string is a match for your regular expression pattern, and your substitution pattern <code>.xnext.</code> is prepended to your string.</p>\n\n<p>The pattern you wanted to use was</p>\n\n<pre><code>\\.xnext\\|\n</code></pre>\n\n<p>which is how to specify the literal string <code>.xnext|</code>.</p>\n"}], "owner": {"reputation": 169, "user_id": 4386691, "user_type": "registered", "accept_rate": 0, "profile_image": "https://www.gravatar.com/avatar/862dd6e0f0a133e5d68ecf118d7e888d?s=128&d=identicon&r=PG", "display_name": "azpiuser", "link": "https://stackoverflow.com/users/4386691/azpiuser"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 40, "favorite_count": 0, "closed_date": 1571336481, "answer_count": 1, "score": 0, "last_activity_date": 1571328244, "creation_date": 1571327415, "question_id": 58436420, "link": "https://stackoverflow.com/questions/58436420/whats-going-on-in-this-substitution", "closed_reason": "Not suitable for this site", "title": "What&#39;s going on in this substitution?", "body": "<p>Could I get some help figuring out what's going on? </p>\n\n<p>How does the .xnext end up at the beginning of the string?</p>\n\n<pre><code>    [237]  &gt; cat /tmp/text.txt\n    xtop.xnext|sig 12345\n    [238]  &gt; perl -p -e 's/\\.xnext\\\\|/.xnext./;' /tmp/text.txt\n    .xnext.xtop.xnext|sig 12345\n</code></pre>\n"}, {"tags": ["arrays", "perl", "perlscript"], "comments": [{"owner": {"reputation": 32176, "user_id": 2173773, "user_type": "registered", "accept_rate": 86, "profile_image": "https://i.stack.imgur.com/M8yh6.jpg?s=128&g=1", "display_name": "H&#229;kon H&#230;gland", "link": "https://stackoverflow.com/users/2173773/h%c3%a5kon-h%c3%a6gland"}, "edited": false, "score": 0, "creation_date": 1571325388, "post_id": 58435393, "comment_id": 103211904, "body": "If you add <code>use strict</code> to your program you will see a warning: <code>Can&#39;t use string (&quot;ARRAY(0x55eaf6009578)&quot;) as an ARRAY ref while &quot;strict refs&quot; in use</code>"}, {"owner": {"reputation": 320771, "user_id": 589924, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/b2cf53d5a3d25f95c0db4e025aed4153?s=128&d=identicon&r=PG", "display_name": "ikegami", "link": "https://stackoverflow.com/users/589924/ikegami"}, "edited": false, "score": 0, "creation_date": 1571325443, "post_id": 58435393, "comment_id": 103211931, "body": "ALWAYS use <code>use strict; use warnings;</code>"}, {"owner": {"reputation": 320771, "user_id": 589924, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/b2cf53d5a3d25f95c0db4e025aed4153?s=128&d=identicon&r=PG", "display_name": "ikegami", "link": "https://stackoverflow.com/users/589924/ikegami"}, "edited": false, "score": 0, "creation_date": 1571325448, "post_id": 58435393, "comment_id": 103211935, "body": "Only strings can be passed as arguments (and they can&#39;t contain NUL characters). You&#39;ll need to serialize the data and deserialize in the child. JSON is a probably a great choice."}, {"owner": {"reputation": 38072, "user_id": 46395, "user_type": "registered", "accept_rate": 71, "profile_image": "https://www.gravatar.com/avatar/5ce828f20abb195ef5d971205ee36c27?s=128&d=identicon&r=PG", "display_name": "daxim", "link": "https://stackoverflow.com/users/46395/daxim"}, "edited": false, "score": 1, "creation_date": 1571327353, "post_id": 58435393, "comment_id": 103212990, "body": "Serialisation options: <a href=\"https://stackoverflow.com/a/10684780/46395\">stackoverflow.com/a/10684780/46395</a>"}], "answers": [{"comments": [{"owner": {"reputation": 2402, "user_id": 6124824, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/dc81b6fda21a94d3f337e2e28463295e?s=128&d=identicon&r=PG", "display_name": "vkk05", "link": "https://stackoverflow.com/users/6124824/vkk05"}, "edited": false, "score": 0, "creation_date": 1571329173, "post_id": 58435927, "comment_id": 103213914, "body": "Actually the <code>secondary_script.pl</code> is in different server. So I am doing ssh to that server in in <code>primary_script.pl</code> and calling secondary script."}, {"owner": {"reputation": 121105, "user_id": 2766176, "user_type": "registered", "accept_rate": 61, "profile_image": "https://www.gravatar.com/avatar/edd8638efe875601bfe394a8aea5b16d?s=128&d=identicon&r=PG", "display_name": "brian d foy", "link": "https://stackoverflow.com/users/2766176/brian-d-foy"}, "reply_to_user": {"reputation": 2402, "user_id": 6124824, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/dc81b6fda21a94d3f337e2e28463295e?s=128&d=identicon&r=PG", "display_name": "vkk05", "link": "https://stackoverflow.com/users/6124824/vkk05"}, "edited": false, "score": 0, "creation_date": 1571331626, "post_id": 58435927, "comment_id": 103214959, "body": "In that case, StackOverflow already has some good answers, including <a href=\"https://stackoverflow.com/questions/7986572/using-ssh-what-is-the-best-way-to-remotely-execute-a-perl-file-from-another-per\" title=\"using ssh what is the best way to remotely execute a perl file from another per\">stackoverflow.com/questions/7986572/&hellip;</a>"}], "tags": [], "owner": {"reputation": 121105, "user_id": 2766176, "user_type": "registered", "accept_rate": 61, "profile_image": "https://www.gravatar.com/avatar/edd8638efe875601bfe394a8aea5b16d?s=128&d=identicon&r=PG", "display_name": "brian d foy", "link": "https://stackoverflow.com/users/2766176/brian-d-foy"}, "is_accepted": false, "score": 7, "last_activity_date": 1571326406, "last_edit_date": 1571326406, "creation_date": 1571325577, "answer_id": 58435927, "question_id": 58435393, "link": "https://stackoverflow.com/questions/58435393/perl-how-to-pass-array-as-an-argument-to-another-perl-script/58435927#58435927", "title": "Perl how to pass array as an argument to another Perl script", "body": "<p>You can just pass the arguments, using <code>system</code> in the list form:</p>\n\n<pre><code> system $^X, $program_name, @array;\n</code></pre>\n\n<p>The list form bypasses the shell so it doesn't interpret metacharacters from your arguments (such as <code>;</code> and <code>&amp;</code> in the shell).</p>\n\n<p>The <code>$^X</code> is the path the perl that is currently running, which is likely the one you want rather than searching the PATH again.</p>\n\n<p>There are are complications to keep the second program to interpret your arguments as you want. I cover some of those in <a href=\"https://www.perl.com/article/quoting-the-shell/\" rel=\"nofollow noreferrer\">Quoting the Shell</a>.</p>\n\n<p>You'd have to say more about what you are trying to do to get better advice. </p>\n\n<h3>Back to your programs</h3>\n\n<p>Let's look at a few other things in your programs.</p>\n\n<p>In _secondary_script.pl_, you try to dereference the argument list. But, <code>@ARGV</code> is a plain, named array. You don't need to dereference it. You could write:</p>\n\n<pre><code>print \"@ARGV\\n\";\n</code></pre>\n\n<p>Putting the argument list in double quotes interpolates it by putting spaces between the elements. That way, you're not playing tricks with references.</p>\n\n<p>If you're trying to pass complex data rather than simple arguments, you might consider some sort of serialization (JSON, Sereal, whatever) and outputting to standard output and reading from standard input:</p>\n\n<pre><code>use Data::Dumper;\nmy @array = qw/1 2 3 4 5/;\nprint Dumper(\\@array);\n</code></pre>\n\n<p>Then, in the other program:</p>\n\n<pre><code>my $input = do { local $/; &lt;STDIN&gt; };\nmy $array = eval $input;\n</code></pre>\n\n<p>That string <code>eval</code> is a bit dangerous (and <a href=\"https://www.masteringperl.org/2012/12/the-storable-security-problem/\" rel=\"nofollow noreferrer\">so is Perl's <code>Storable</code></a>), but that's the idea. Take in some text and unserialize it. </p>\n\n<h3>Piping data</h3>\n\n<p>You'd then combine those programs in a pipeline:</p>\n\n<pre><code> $ perl first.pl | perl second.pl\n</code></pre>\n\n<p>But, you can also print directly to the second program by opening a pipe from the first:</p>\n\n<pre><code>use Data::Dumper;\nmy @array = qw/1 2 3 4 5/;\nopen my $pipe, '|-', $^X, $other_program;\nprint {$pipe} Dumper(\\@array);\n</code></pre>\n"}], "owner": {"reputation": 2402, "user_id": 6124824, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/dc81b6fda21a94d3f337e2e28463295e?s=128&d=identicon&r=PG", "display_name": "vkk05", "link": "https://stackoverflow.com/users/6124824/vkk05"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 577, "favorite_count": 0, "answer_count": 1, "score": 2, "last_activity_date": 1571326406, "creation_date": 1571323828, "question_id": 58435393, "link": "https://stackoverflow.com/questions/58435393/perl-how-to-pass-array-as-an-argument-to-another-perl-script", "title": "Perl how to pass array as an argument to another Perl script", "body": "<p>I have a 2 perl scripts where <code>primary_script.pl</code> would be calling <code>secondary_script.pl</code> script by passing array as an argument.</p>\n\n<p>My code is shown below:<br>\nprimary_script.pl</p>\n\n<pre><code>#!/usr/bin/perl\n\nuse Data::Dumper;\nmy @array = qw/1 2 3 4 5/;\nprint Dumper(\\@array);\n\nmy $arr = \\@array;\n\nsystem(\"perl secondary_script.pl $arr\") ;\n\nprint \"END\\n\";\n</code></pre>\n\n<p><br>\nsecondary_script.pl</p>\n\n<pre><code>#!/usr/bin/perl\n\nmy @var = @{$ARGV[0]};\nprint @var.\"\\n\";\n</code></pre>\n\n<p>I am passing array reference as an arguments to <code>secondary_script.pl</code> and from there I am dereferencing that array.\nHere <code>@var</code> prints <code>0</code> as a result instead of array contents which is been passed by <code>primary_script.pl</code>.</p>\n\n<p>Is this right way to pass array as an argument to another perl script?</p>\n"}, {"tags": ["bash", "perl", "awk", "sed"], "comments": [{"owner": {"reputation": 4745, "user_id": 4289380, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/73c4c5f526ed9027b3ee1d0f0ddad3e4?s=128&d=identicon&r=PG&f=1", "display_name": "Corentin Limier", "link": "https://stackoverflow.com/users/4289380/corentin-limier"}, "edited": false, "score": 1, "creation_date": 1571321281, "post_id": 58434487, "comment_id": 103209508, "body": "what did you try ?"}, {"owner": {"reputation": 4745, "user_id": 4289380, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/73c4c5f526ed9027b3ee1d0f0ddad3e4?s=128&d=identicon&r=PG&f=1", "display_name": "Corentin Limier", "link": "https://stackoverflow.com/users/4289380/corentin-limier"}, "edited": false, "score": 0, "creation_date": 1571321342, "post_id": 58434487, "comment_id": 103209546, "body": "<a href=\"https://stackoverflow.com/questions/35700633/sed-remove-first-occurence-of-string-from-file\" title=\"sed remove first occurence of string from file\">stackoverflow.com/questions/35700633/&hellip;</a>"}, {"owner": {"reputation": 4745, "user_id": 4289380, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/73c4c5f526ed9027b3ee1d0f0ddad3e4?s=128&d=identicon&r=PG&f=1", "display_name": "Corentin Limier", "link": "https://stackoverflow.com/users/4289380/corentin-limier"}, "edited": false, "score": 0, "creation_date": 1571321347, "post_id": 58434487, "comment_id": 103209549, "body": "<a href=\"https://stackoverflow.com/questions/4396974/sed-or-awk-delete-n-lines-following-a-pattern\" title=\"sed or awk delete n lines following a pattern\">stackoverflow.com/questions/4396974/&hellip;</a>"}, {"owner": {"reputation": 62184, "user_id": 7231, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/81b76985f3985e35492e25880493d045?s=128&d=identicon&r=PG", "display_name": "Dave Cross", "link": "https://stackoverflow.com/users/7231/dave-cross"}, "edited": false, "score": 1, "creation_date": 1571321706, "post_id": 58434487, "comment_id": 103209774, "body": "What have you tried? What problems are you having? Please show us your code."}, {"owner": {"reputation": 25, "user_id": 11965161, "user_type": "registered", "profile_image": "https://lh6.googleusercontent.com/-JuZ4wiLqRcM/AAAAAAAAAAI/AAAAAAAAAAA/ACHi3rc1eXOCdIZYTtlhcIsNZFjgnH5Sew/photo.jpg?sz=128", "display_name": "Amin Alibakhshi", "link": "https://stackoverflow.com/users/11965161/amin-alibakhshi"}, "edited": false, "score": 0, "creation_date": 1571321803, "post_id": 58434487, "comment_id": 103209831, "body": "I tried sed -e &#39;/Fre --/,+20d&#39; log.log but it deletes all the patterns and next 20 lines after that. I want only first pattern to be removed"}, {"owner": {"reputation": 25, "user_id": 11965161, "user_type": "registered", "profile_image": "https://lh6.googleusercontent.com/-JuZ4wiLqRcM/AAAAAAAAAAI/AAAAAAAAAAA/ACHi3rc1eXOCdIZYTtlhcIsNZFjgnH5Sew/photo.jpg?sz=128", "display_name": "Amin Alibakhshi", "link": "https://stackoverflow.com/users/11965161/amin-alibakhshi"}, "edited": false, "score": 0, "creation_date": 1571322147, "post_id": 58434487, "comment_id": 103210050, "body": "there is a more or less similar question and some answers here: <a href=\"https://stackoverflow.com/questions/23696871/how-to-remove-only-the-first-occurrence-of-a-line-in-a-file-using-sed\" title=\"how to remove only the first occurrence of a line in a file using sed\">stackoverflow.com/questions/23696871/&hellip;</a> but I don&#39;t know how to change it to remove 20 lines after the first match"}, {"owner": {"reputation": 155597, "user_id": 1745001, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/99a3ebae89496eb16afe453aae97f5be?s=128&d=identicon&r=PG", "display_name": "Ed Morton", "link": "https://stackoverflow.com/users/1745001/ed-morton"}, "edited": false, "score": 0, "creation_date": 1571323003, "post_id": 58434487, "comment_id": 103210553, "body": "Please <a href=\"https://stackoverflow.com/posts/58434487/edit\">edit</a> your question to provide concise, testable sample input and expected output. Use, say, 5 as your line count rather than 20 to minimize the example."}], "answers": [{"comments": [{"owner": {"reputation": 18548, "user_id": 4082052, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/GUNps.jpg?s=128&g=1", "display_name": "Sundeep", "link": "https://stackoverflow.com/users/4082052/sundeep"}, "edited": false, "score": 2, "creation_date": 1571323197, "post_id": 58435062, "comment_id": 103210649, "body": "With <code>GNU sed</code>, it would be something like <code>sed &#39;0,&#47;Fre --&#47;{&#47;&#47;{N;N;N;N;N;N;N;N;N;N;N;N;N;N;N;N;N;N;N;N;d}}&#39;</code> .. <code>awk</code> is better suited here.. one thing though, your counter could cause issue if the input file is large enough due to finite precision"}, {"owner": {"reputation": 155597, "user_id": 1745001, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/99a3ebae89496eb16afe453aae97f5be?s=128&d=identicon&r=PG", "display_name": "Ed Morton", "link": "https://stackoverflow.com/users/1745001/ed-morton"}, "edited": false, "score": 2, "creation_date": 1571323633, "post_id": 58435062, "comment_id": 103210891, "body": "There may be a sed command but it definitely won&#39;t be nice :-)."}, {"owner": {"reputation": 4745, "user_id": 4289380, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/73c4c5f526ed9027b3ee1d0f0ddad3e4?s=128&d=identicon&r=PG&f=1", "display_name": "Corentin Limier", "link": "https://stackoverflow.com/users/4289380/corentin-limier"}, "reply_to_user": {"reputation": 155597, "user_id": 1745001, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/99a3ebae89496eb16afe453aae97f5be?s=128&d=identicon&r=PG", "display_name": "Ed Morton", "link": "https://stackoverflow.com/users/1745001/ed-morton"}, "edited": false, "score": 0, "creation_date": 1571392484, "post_id": 58435062, "comment_id": 103234689, "body": "@EdMorton @Sundeep &gt; I tried to combine those two commands and couldn&#39;t find a way. <a href=\"https://stackoverflow.com/questions/35700633/sed-remove-first-occurence-of-string-from-file\" title=\"sed remove first occurence of string from file\">stackoverflow.com/questions/35700633/&hellip;</a> <a href=\"https://stackoverflow.com/questions/4396974/sed-or-awk-delete-n-lines-following-a-pattern\" title=\"sed or awk delete n lines following a pattern\">stackoverflow.com/questions/4396974/&hellip;</a> . Something like <code>sed &#39;0,&#47;test3&#47;{&#47;test3&#47;+3d}&#39; file</code> . I&#39;m surprised that such a solution does not exist."}], "tags": [], "owner": {"reputation": 4745, "user_id": 4289380, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/73c4c5f526ed9027b3ee1d0f0ddad3e4?s=128&d=identicon&r=PG&f=1", "display_name": "Corentin Limier", "link": "https://stackoverflow.com/users/4289380/corentin-limier"}, "is_accepted": true, "score": 1, "last_activity_date": 1571412528, "last_edit_date": 1571412528, "creation_date": 1571322756, "answer_id": 58435062, "question_id": 58434487, "link": "https://stackoverflow.com/questions/58434487/how-to-remove-n-lines-in-a-log-file-only-after-the-first-match-of-the-pattern/58435062#58435062", "title": "How to remove n lines in a log file only after the first match of the pattern", "body": "<p>Pretty sure that someone will find a nice <code>sed</code> command but I know <code>awk</code> better.</p>\n\n<p>You can try : </p>\n\n<pre><code>awk '/Fre --/ &amp;&amp; !found++{counter=21}--counter&lt;0' log.log\n</code></pre>\n\n<p>Explanations : </p>\n\n<p><code>/Fre --/</code> -> if it finds pattern <code>Fre --</code></p>\n\n<p><code>&amp;&amp; !found++</code> -> and if it didn't find it before </p>\n\n<p><code>{counter=21}</code> -> it sets counter value at 21 (because you want to remove the line + the next 20s)</p>\n\n<p><code>--counter&lt;0</code> -> decreases the counter and prints the line only if counter &lt; 0</p>\n\n<p>As mentioned by @Sundeep, @EdMorton solution is safer on very big files.</p>\n\n<pre><code>awk '/Fre --/ &amp;&amp; !found++{counter=21}!(counter&amp;&amp;counter--)' log.log\n</code></pre>\n"}, {"comments": [{"owner": {"reputation": 18548, "user_id": 4082052, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/GUNps.jpg?s=128&g=1", "display_name": "Sundeep", "link": "https://stackoverflow.com/users/4082052/sundeep"}, "edited": false, "score": 1, "creation_date": 1571323429, "post_id": 58435189, "comment_id": 103210778, "body": "I was trying something similar from that Q&amp;A (I&#39;ve bookmarked the link)... I got <code>awk &#39;c&amp;&amp;c--{next} &#47;3&#47;&amp;&amp;!f{f=1; c=3; next} 1&#39;</code> before seeing your optimized version"}, {"owner": {"reputation": 155597, "user_id": 1745001, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/99a3ebae89496eb16afe453aae97f5be?s=128&d=identicon&r=PG", "display_name": "Ed Morton", "link": "https://stackoverflow.com/users/1745001/ed-morton"}, "reply_to_user": {"reputation": 18548, "user_id": 4082052, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/GUNps.jpg?s=128&g=1", "display_name": "Sundeep", "link": "https://stackoverflow.com/users/4082052/sundeep"}, "edited": false, "score": 1, "creation_date": 1571323552, "post_id": 58435189, "comment_id": 103210842, "body": "It could be made slightly more brief too as <code>awk &#39;&#47;3&#47;&amp;&amp;!f++{c=4}!(c&amp;&amp;c--)&#39;</code> but we&#39;re trading off clarity a bit too much now IMHO!"}, {"owner": {"reputation": 4745, "user_id": 4289380, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/73c4c5f526ed9027b3ee1d0f0ddad3e4?s=128&d=identicon&r=PG&f=1", "display_name": "Corentin Limier", "link": "https://stackoverflow.com/users/4289380/corentin-limier"}, "edited": false, "score": 1, "creation_date": 1571391693, "post_id": 58435189, "comment_id": 103234301, "body": "@AminAlibakhshi safer solution than mine on big files"}], "tags": [], "owner": {"reputation": 155597, "user_id": 1745001, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/99a3ebae89496eb16afe453aae97f5be?s=128&d=identicon&r=PG", "display_name": "Ed Morton", "link": "https://stackoverflow.com/users/1745001/ed-morton"}, "is_accepted": false, "score": 1, "last_activity_date": 1571323172, "creation_date": 1571323172, "answer_id": 58435189, "question_id": 58434487, "link": "https://stackoverflow.com/questions/58434487/how-to-remove-n-lines-in-a-log-file-only-after-the-first-match-of-the-pattern/58435189#58435189", "title": "How to remove n lines in a log file only after the first match of the pattern", "body": "<pre><code>$ seq 20 | awk '!f &amp;&amp; /3/{c=4; f=1} !(c&amp;&amp;c--)'\n1\n2\n7\n8\n9\n10\n11\n12\n13\n14\n15\n16\n17\n18\n19\n20\n</code></pre>\n\n<p>See <a href=\"https://stackoverflow.com/questions/17908555/printing-with-sed-or-awk-a-line-following-a-matching-pattern/17914105#17914105\">Printing with sed or awk a line following a matching pattern</a></p>\n"}], "owner": {"reputation": 25, "user_id": 11965161, "user_type": "registered", "profile_image": "https://lh6.googleusercontent.com/-JuZ4wiLqRcM/AAAAAAAAAAI/AAAAAAAAAAA/ACHi3rc1eXOCdIZYTtlhcIsNZFjgnH5Sew/photo.jpg?sz=128", "display_name": "Amin Alibakhshi", "link": "https://stackoverflow.com/users/11965161/amin-alibakhshi"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 108, "favorite_count": 0, "accepted_answer_id": 58435062, "answer_count": 2, "score": 1, "last_activity_date": 1571412528, "creation_date": 1571320869, "last_edit_date": 1571322496, "question_id": 58434487, "link": "https://stackoverflow.com/questions/58434487/how-to-remove-n-lines-in-a-log-file-only-after-the-first-match-of-the-pattern", "title": "How to remove n lines in a log file only after the first match of the pattern", "body": "<p>I have a log file which contains several repeats of the pattern <code>Fre --</code>. I need to remove only first occurrence of this pattern and the next 20 lines after that and keep other matches intact. I need to do it in a bash terminal, using <code>sed</code> preferably or <code>awk</code> or <code>perl</code>. I would highly appreciate your help.</p>\n\n<p>I tried </p>\n\n<pre><code>sed -e '/Fre --/,+20d' log.log\n</code></pre>\n\n<p>but it deletes all the patterns and next 20 lines after that. I want only first pattern to be removed</p>\n\n<p>There is a more or less similar question and some answers here: <a href=\"https://stackoverflow.com/questions/23696871/how-to-remove-only-the-first-occurrence-of-a-line-in-a-file-using-sed\">How to remove only the first occurrence of a line in a file using sed</a> but I don't know how to change it to remove 20 lines after the first match</p>\n"}, {"tags": ["python", "perl", "perforce"], "answers": [{"comments": [{"owner": {"reputation": 13, "user_id": 6819016, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/f9e7efc596761b097c545bfc18557029?s=128&d=identicon&r=PG&f=1", "display_name": "Akash P", "link": "https://stackoverflow.com/users/6819016/akash-p"}, "edited": false, "score": 0, "creation_date": 1571393357, "post_id": 58436013, "comment_id": 103235128, "body": "Thank you Sam. I tried the appending one and facing error - &quot;Can&#39;t update committed change 1867863 &quot;. This means we cant update a already submitted changelists"}, {"owner": {"reputation": 31669, "user_id": 3799759, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/5820aa24337a2f622b78e92c39e3e3d6?s=128&d=identicon&r=PG", "display_name": "Samwise", "link": "https://stackoverflow.com/users/3799759/samwise"}, "reply_to_user": {"reputation": 13, "user_id": 6819016, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/f9e7efc596761b097c545bfc18557029?s=128&d=identicon&r=PG&f=1", "display_name": "Akash P", "link": "https://stackoverflow.com/users/6819016/akash-p"}, "edited": false, "score": 0, "creation_date": 1571411044, "post_id": 58436013, "comment_id": 103244577, "body": "You can update a submitted changelist using the <code>-f</code> flag (this would go on the <code>p4 change -i</code> since that&#39;s the part that does the update, so <code>p4 change -i -f</code>) if you&#39;re an admin, or using the <code>-u</code> flag if you&#39;re its owner."}, {"owner": {"reputation": 13, "user_id": 6819016, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/f9e7efc596761b097c545bfc18557029?s=128&d=identicon&r=PG&f=1", "display_name": "Akash P", "link": "https://stackoverflow.com/users/6819016/akash-p"}, "edited": false, "score": 0, "creation_date": 1571665807, "post_id": 58436013, "comment_id": 103306077, "body": "p4 --field Description+=&quot;CPR-blah&quot; change -o change_number | p4 change -i -u"}, {"owner": {"reputation": 13, "user_id": 6819016, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/f9e7efc596761b097c545bfc18557029?s=128&d=identicon&r=PG&f=1", "display_name": "Akash P", "link": "https://stackoverflow.com/users/6819016/akash-p"}, "edited": false, "score": 0, "creation_date": 1571666486, "post_id": 58436013, "comment_id": 103306422, "body": "Above command with -u flag works like charm . What i can do to prefix the same content ?"}, {"owner": {"reputation": 31669, "user_id": 3799759, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/5820aa24337a2f622b78e92c39e3e3d6?s=128&d=identicon&r=PG", "display_name": "Samwise", "link": "https://stackoverflow.com/users/3799759/samwise"}, "reply_to_user": {"reputation": 13, "user_id": 6819016, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/f9e7efc596761b097c545bfc18557029?s=128&d=identicon&r=PG&f=1", "display_name": "Akash P", "link": "https://stackoverflow.com/users/6819016/akash-p"}, "edited": false, "score": 0, "creation_date": 1571765882, "post_id": 58436013, "comment_id": 103347012, "body": "See <a href=\"https://www.perforce.com/perforce/r14.2/manuals/p4script/python.p4.html#python.p4.save_spectype\" rel=\"nofollow noreferrer\">perforce.com/perforce/r14.2/manuals/p4script/&hellip;</a> for how to turn <code>save_change()</code> into an equivalent <code>p4 change -i -u</code> command."}], "tags": [], "owner": {"reputation": 31669, "user_id": 3799759, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/5820aa24337a2f622b78e92c39e3e3d6?s=128&d=identicon&r=PG", "display_name": "Samwise", "link": "https://stackoverflow.com/users/3799759/samwise"}, "is_accepted": true, "score": 1, "last_activity_date": 1576779453, "last_edit_date": 1576779453, "creation_date": 1571325887, "answer_id": 58436013, "question_id": 58432861, "link": "https://stackoverflow.com/questions/58432861/i-want-to-prefix-append-some-text-to-the-description-of-already-submitted-change/58436013#58436013", "title": "I want to prefix/append some text to the description of already submitted changelist using perl or python", "body": "<p>Something along these lines should do it (using P4Python):</p>\n\n<pre><code>from P4 import P4, P4Exception\np4 = P4()\n\ntry:\n  p4.connect()\n  change = p4.fetch_change(changelist_number)\n  change[\"Description\"] = \"CPR-blah\" + change[\"Description\"]\n  p4.save_change(change)\n\nexcept P4Exception:\n  for e in p4.errors:\n    print e\n\nfinally:\n  p4.disconnect()\n</code></pre>\n\n<p>If you're appending instead of prefixing, I think you can do that from the command line like:</p>\n\n<pre><code>p4 --field Description+=\"CPR-blah\" change -o change_number | p4 change -i\n</code></pre>\n"}], "owner": {"reputation": 13, "user_id": 6819016, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/f9e7efc596761b097c545bfc18557029?s=128&d=identicon&r=PG&f=1", "display_name": "Akash P", "link": "https://stackoverflow.com/users/6819016/akash-p"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 54, "favorite_count": 0, "accepted_answer_id": 58436013, "answer_count": 1, "score": 0, "last_activity_date": 1576779453, "creation_date": 1571315907, "last_edit_date": 1571317664, "question_id": 58432861, "link": "https://stackoverflow.com/questions/58432861/i-want-to-prefix-append-some-text-to-the-description-of-already-submitted-change", "title": "I want to prefix/append some text to the description of already submitted changelist using perl or python", "body": "<p>I need to prefix submitted CL description with some info as shown below.</p>\n\n<p>Description:\n    (TOPIC : blah)</p>\n\n<p>Here how it should look like</p>\n\n<p>Description:\n    [CPR-blah] (TOPIC : blah)</p>\n\n<p>I am unable to do this with just p4 commands piped together. I was wondering if this can be achieved with perl/ python.</p>\n\n<p>I have already tried below </p>\n\n<p>p4 --field Description=\"New CL description here\" change -o <em>changelist_number</em> | p4 change -i</p>\n"}, {"tags": ["perl"], "comments": [{"owner": {"reputation": 320771, "user_id": 589924, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/b2cf53d5a3d25f95c0db4e025aed4153?s=128&d=identicon&r=PG", "display_name": "ikegami", "link": "https://stackoverflow.com/users/589924/ikegami"}, "edited": false, "score": 0, "creation_date": 1571314948, "post_id": 58432126, "comment_id": 103205552, "body": "Tip: <code>foreach my $value_hash (@users)</code> makes no sense. <code>@users</code> always contains exactly one value, so you could just as easily use <code>my $value_hash = \\%user;</code>. But why create a reference at all?"}, {"owner": {"reputation": 62184, "user_id": 7231, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/81b76985f3985e35492e25880493d045?s=128&d=identicon&r=PG", "display_name": "Dave Cross", "link": "https://stackoverflow.com/users/7231/dave-cross"}, "edited": false, "score": 0, "creation_date": 1571316991, "post_id": 58432126, "comment_id": 103206844, "body": "<i>I am getting a warning when accessing my array</i> A tip for the future. It&#39;s always worth telling exactly what warning message you see."}, {"owner": {"reputation": 181, "user_id": 11951910, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/c9e03113010e0ff5276db85314438f15?s=128&d=identicon&r=PG&f=1", "display_name": "newdeveloper", "link": "https://stackoverflow.com/users/11951910/newdeveloper"}, "edited": false, "score": 0, "creation_date": 1571319089, "post_id": 58432126, "comment_id": 103208186, "body": "Thanks for the advice.  I am just trying different things in perl.  I don&#39;t use it often but I have to maintain some code and I came across that code."}], "answers": [{"tags": [], "owner": {"reputation": 320771, "user_id": 589924, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/b2cf53d5a3d25f95c0db4e025aed4153?s=128&d=identicon&r=PG", "display_name": "ikegami", "link": "https://stackoverflow.com/users/589924/ikegami"}, "is_accepted": true, "score": 2, "last_activity_date": 1571314744, "creation_date": 1571314744, "answer_id": 58432513, "question_id": 58432126, "link": "https://stackoverflow.com/questions/58432126/dereference-array-of-hashes-in-perl-experimental-warning/58432513#58432513", "title": "Dereference array of hashes in perl. experimental warning", "body": "<p><code>keys EXPR</code> was an experiemental feature that has already been abandoned and removed.</p>\n\n<pre class=\"lang-none prettyprint-override\"><code>$ 5.22t/bin/perl -e'my $h = {}; keys $h;'\nkeys on reference is experimental at -e line 1.\n\n$ 5.24t/bin/perl -e'my $h = {}; keys $h;'\nExperimental keys on scalar is now forbidden at -e line 1.\n</code></pre>\n\n<p>The proper ways to use <code>keys</code> is</p>\n\n<pre><code>keys HASH\nkeys ARRAY\n</code></pre>\n\n<p>Replace</p>\n\n<pre><code>keys $value_hash\n</code></pre>\n\n<p>with</p>\n\n<pre><code>keys %$value_hash\n</code></pre>\n\n<p>or</p>\n\n<pre><code>keys %{ $value_hash }\n</code></pre>\n\n<p>You already used it correctly the second time around.</p>\n"}], "owner": {"reputation": 181, "user_id": 11951910, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/c9e03113010e0ff5276db85314438f15?s=128&d=identicon&r=PG&f=1", "display_name": "newdeveloper", "link": "https://stackoverflow.com/users/11951910/newdeveloper"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 89, "favorite_count": 0, "accepted_answer_id": 58432513, "answer_count": 1, "score": 0, "last_activity_date": 1571314744, "creation_date": 1571313530, "question_id": 58432126, "link": "https://stackoverflow.com/questions/58432126/dereference-array-of-hashes-in-perl-experimental-warning", "title": "Dereference array of hashes in perl. experimental warning", "body": "<p>I am getting a warning when accessing my array. This is probably a unperl way to loop but I am teaching myself perl and I am trying different scenarios.  I can loop over the <code>%user</code> but didn't know how to loop over the array hash ref?</p>\n\n<pre><code>my %user;\n$user{mike}{emp_id} = 1;\n$user{john}{emp_id} = 2;\nmy @user = \\%user;\n\nforeach my $value_hash (@users)\n{\n   #error line\n   foreach my $key (keys $value_hash) \n   { \n      foreach my $id (keys %{ $users{$key} }) \n      {\n         print \"name: $key\\t$id: $users{$key}{$id}\\n\";\n      }\n  }\n  print \"\\n\";\n}\n</code></pre>\n"}, {"tags": ["perl"], "comments": [{"owner": {"reputation": 38072, "user_id": 46395, "user_type": "registered", "accept_rate": 71, "profile_image": "https://www.gravatar.com/avatar/5ce828f20abb195ef5d971205ee36c27?s=128&d=identicon&r=PG", "display_name": "daxim", "link": "https://stackoverflow.com/users/46395/daxim"}, "edited": false, "score": 2, "creation_date": 1571313399, "post_id": 58430126, "comment_id": 103204628, "body": "<a href=\"http://p3rl.org/re#&#39;/flags&#39;-mode\" rel=\"nofollow noreferrer\"><code>use re &#39;&#47;msxx&#39;;</code></a> exists in core."}], "answers": [{"tags": [], "owner": {"reputation": 62184, "user_id": 7231, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/81b76985f3985e35492e25880493d045?s=128&d=identicon&r=PG", "display_name": "Dave Cross", "link": "https://stackoverflow.com/users/7231/dave-cross"}, "is_accepted": true, "score": 4, "last_activity_date": 1571309033, "creation_date": 1571309033, "answer_id": 58430725, "question_id": 58430126, "link": "https://stackoverflow.com/questions/58430126/is-the-module-regexpautoflags-deprecated/58430725#58430725", "title": "Is the module `Regexp::Autoflags` deprecated?", "body": "<p>I think you probably want <a href=\"https://metacpan.org/pod/Regexp::DefaultFlags\" rel=\"nofollow noreferrer\">Regexp::DefaultFlags</a> (which was <a href=\"https://metacpan.org/source/AUTRIJUS/Regexp-DefaultFlags-0.01/Changes\" rel=\"nofollow noreferrer\">apparently renamed</a> from Regexp::Auto).</p>\n\n<p>But it's rather old and looks unmaintained.</p>\n\n<p>I guess you're following advice from <em>Perl Best Practices</em>. Not everything in that book should be taken as a hard and fast rule :-)</p>\n"}], "owner": {"reputation": 1714, "user_id": 1413222, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/SRMRU.jpg?s=128&g=1", "display_name": "devwebcl", "link": "https://stackoverflow.com/users/1413222/devwebcl"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 61, "favorite_count": 0, "accepted_answer_id": 58430725, "answer_count": 1, "score": 1, "last_activity_date": 1571319221, "creation_date": 1571307175, "last_edit_date": 1571319221, "question_id": 58430126, "link": "https://stackoverflow.com/questions/58430126/is-the-module-regexpautoflags-deprecated", "title": "Is the module `Regexp::Autoflags` deprecated?", "body": "<p>Is the module <code>Regexp::Autoflags</code> deprecated?</p>\n\n<p>I cannot find it at cpan.</p>\n"}, {"tags": ["perl", "ssl", "openssl"], "comments": [{"owner": {"reputation": 38072, "user_id": 46395, "user_type": "registered", "accept_rate": 71, "profile_image": "https://www.gravatar.com/avatar/5ce828f20abb195ef5d971205ee36c27?s=128&d=identicon&r=PG", "display_name": "daxim", "link": "https://stackoverflow.com/users/46395/daxim"}, "edited": false, "score": 0, "creation_date": 1571313877, "post_id": 58429604, "comment_id": 103204888, "body": "<a href=\"https://bugzilla.redhat.com/show_bug.cgi?id=1019390\" rel=\"nofollow noreferrer\">Redhat crippled the library.</a> Please add the output of <code>openssl ciphers</code>. Also see: <a href=\"https://github.com/noxxi/p5-ssl-tools\" rel=\"nofollow noreferrer\">github.com/noxxi/p5-ssl-tools</a>"}], "owner": {"reputation": 868, "user_id": 1785053, "user_type": "registered", "accept_rate": 64, "profile_image": "https://www.gravatar.com/avatar/cd53ede57f938ef42fdb22d1c9cf7bbd?s=128&d=identicon&r=PG", "display_name": "ilce", "link": "https://stackoverflow.com/users/1785053/ilce"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 53, "favorite_count": 1, "answer_count": 0, "score": 1, "last_activity_date": 1571305967, "creation_date": 1571305422, "last_edit_date": 1571305967, "question_id": 58429604, "link": "https://stackoverflow.com/questions/58429604/error-in-ssl-handshake-with-openssl-1-0-2j-26-sep-2016-using-netssleay-perl", "title": "Error in SSL handshake with OpenSSL 1.0.2j (26 Sep 2016) using Net::SSLeay perl module", "body": "<p>I am sending a request locally(tomcat 8.5.40 is running in background)  using Net::SSLeay perl module(8.5 version) and I am getting this response:</p>\n\n<pre><code>[8618] 2019/10/16 18:36:39.889  Response:HTTP/1.0   900 NET OR SSL ERROR\n\nSSL_connect 8618: 1 - error:100AE081:elliptic curve routines:EC_GROUP_new_by_curve_name:unknown group\nSSL_connect 8618: 2 - error:1408D010:SSL routines:ssl3_get_key_exchange:EC lib\n</code></pre>\n\n<p>What can be the issue here? \n<strong>This perl script is executing on Centos 8 machine.</strong></p>\n"}]