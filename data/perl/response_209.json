[{"tags": ["perl", "encryption", "coldfusion"], "comments": [{"owner": {"reputation": 185, "user_id": 413516, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/928432d609d2430a65a4645501d4ce1e?s=128&d=identicon&r=PG", "display_name": "WilGeno", "link": "https://stackoverflow.com/users/413516/wilgeno"}, "edited": false, "score": 0, "creation_date": 1547084219, "post_id": 54119144, "comment_id": 95073852, "body": "Next, ColdFusion uses your base64 key as a literal string value and not a base64 value. As @mob noted below, PERL is decoding the base64 encryption key."}, {"owner": {"reputation": 185, "user_id": 413516, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/928432d609d2430a65a4645501d4ce1e?s=128&d=identicon&r=PG", "display_name": "WilGeno", "link": "https://stackoverflow.com/users/413516/wilgeno"}, "edited": false, "score": 0, "creation_date": 1547084373, "post_id": 54119144, "comment_id": 95073877, "body": "For the ColdFusion code, &quot;AES/ECB/PKCS5Padding&quot; is not a documented encryption type for the encrypt() in ColdFusion. Though using this value, ColdFusion does use AES. (AES: NIST FIPS-197)  Here&#39;s a list of valid parameters in ColdFusion for encrypt() <a href=\"https://helpx.adobe.com/coldfusion/cfml-reference/coldfusion-functions/functions-e-g/encrypt.html\" rel=\"nofollow noreferrer\">helpx.adobe.com/coldfusion/cfml-reference/coldfusion-functio&zwnj;&#8203;ns/&hellip;</a>"}, {"owner": {"reputation": 4043, "user_id": 8895292, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/rX1ss.png?s=128&g=1", "display_name": "SOS", "link": "https://stackoverflow.com/users/8895292/sos"}, "reply_to_user": {"reputation": 185, "user_id": 413516, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/928432d609d2430a65a4645501d4ce1e?s=128&d=identicon&r=PG", "display_name": "WilGeno", "link": "https://stackoverflow.com/users/413516/wilgeno"}, "edited": false, "score": 0, "creation_date": 1547084878, "post_id": 54119144, "comment_id": 95073993, "body": "@WilGeno - Actually it is the opposite :-). CF <i>does</i> treat it as base64 encoded. PERL does not. Also, though the latest CF docs don&#39;t enumerate all of the types, AES/ECB/PKCS5Padding is valid for the underlying java lib. It used to be documented somewhere in the old Adobe docs. Can&#39;t recall where though."}, {"owner": {"reputation": 320771, "user_id": 589924, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/b2cf53d5a3d25f95c0db4e025aed4153?s=128&d=identicon&r=PG", "display_name": "ikegami", "link": "https://stackoverflow.com/users/589924/ikegami"}, "edited": false, "score": 1, "creation_date": 1547091835, "post_id": 54119144, "comment_id": 95075302, "body": "Note that your code uses seriously broken encryption since you don&#39;t use an IV (which should be completely random each time)"}, {"owner": {"reputation": 4043, "user_id": 8895292, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/rX1ss.png?s=128&g=1", "display_name": "SOS", "link": "https://stackoverflow.com/users/8895292/sos"}, "reply_to_user": {"reputation": 320771, "user_id": 589924, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/b2cf53d5a3d25f95c0db4e025aed4153?s=128&d=identicon&r=PG", "display_name": "ikegami", "link": "https://stackoverflow.com/users/589924/ikegami"}, "edited": false, "score": 0, "creation_date": 1547133549, "post_id": 54119144, "comment_id": 95094748, "body": "True. Like @ikegami suggested, you should use CBC and a different IV each time for better security."}, {"owner": {"reputation": 4043, "user_id": 8895292, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/rX1ss.png?s=128&g=1", "display_name": "SOS", "link": "https://stackoverflow.com/users/8895292/sos"}, "edited": false, "score": 0, "creation_date": 1547145443, "post_id": 54119144, "comment_id": 95101328, "body": "See for details <a href=\"https://stackoverflow.com/questions/1220751/how-to-choose-an-aes-encryption-mode-cbc-ecb-ctr-ocb-cfb#22958889\" title=\"how to choose an aes encryption mode cbc ecb ctr ocb cfb%2322958889\">stackoverflow.com/questions/1220751/&hellip;</a>"}], "answers": [{"comments": [{"owner": {"reputation": 4043, "user_id": 8895292, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/rX1ss.png?s=128&g=1", "display_name": "SOS", "link": "https://stackoverflow.com/users/8895292/sos"}, "edited": false, "score": 0, "creation_date": 1547084611, "post_id": 54119550, "comment_id": 95073929, "body": "@DonJuanInHeaven - Also note, CF always returns hex in upper case. Though both should decode to the same value."}, {"owner": {"reputation": 53, "user_id": 10892036, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/c93446345e465f5dc6dc21e7ae51b3d7?s=128&d=identicon&r=PG&f=1", "display_name": "Don Juan in Heaven", "link": "https://stackoverflow.com/users/10892036/don-juan-in-heaven"}, "edited": false, "score": 0, "creation_date": 1547133154, "post_id": 54119550, "comment_id": 95094486, "body": "Thank you @mob, that was indeed the problem."}, {"owner": {"reputation": 4043, "user_id": 8895292, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/rX1ss.png?s=128&g=1", "display_name": "SOS", "link": "https://stackoverflow.com/users/8895292/sos"}, "edited": false, "score": 0, "creation_date": 1547151329, "post_id": 54119550, "comment_id": 95104050, "body": "@mob - I&#39;m not famliar with Perl. Does it support CBC mode too, like ikegami mentioned above?"}], "tags": [], "owner": {"reputation": 110113, "user_id": 168657, "user_type": "registered", "accept_rate": 92, "profile_image": "https://www.gravatar.com/avatar/f14e7610fca39322ebbf23530def15f8?s=128&d=identicon&r=PG", "display_name": "mob", "link": "https://stackoverflow.com/users/168657/mob"}, "is_accepted": true, "score": 2, "last_activity_date": 1547076363, "last_edit_date": 1547076363, "creation_date": 1547074264, "answer_id": 54119550, "question_id": 54119144, "link": "https://stackoverflow.com/questions/54119144/coldfusion-encryption-and-perl-decryption/54119550#54119550", "title": "Coldfusion Encryption and Perl Decryption", "body": "<p>Your encryption key is base64 encoded, but <code>Crypt::ECB</code> expects a raw byte string (this isn't clear from the docs, though).</p>\n\n<pre><code>use Convert::Base64;\n...\n\nmy $encryption_key = decode_base64(\"8kbD1Cf8TIMvm8SRxNNfaQ==\");\n...\n</code></pre>\n\n<p>New output:</p>\n\n<pre><code>27b0f3eb1286ffb462bdd3f14f5a41724df1ed888f1befa7174ca981c7898ed2ef841a15cde4332d030818b9923a2dba0c68c8352e128a0744df5f9fa955d3c72469fefdae2120de5d74319ed666ddd0\n</code></pre>\n"}], "owner": {"reputation": 53, "user_id": 10892036, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/c93446345e465f5dc6dc21e7ae51b3d7?s=128&d=identicon&r=PG&f=1", "display_name": "Don Juan in Heaven", "link": "https://stackoverflow.com/users/10892036/don-juan-in-heaven"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 94, "favorite_count": 0, "accepted_answer_id": 54119550, "answer_count": 1, "score": 5, "last_activity_date": 1547076363, "creation_date": 1547071931, "question_id": 54119144, "link": "https://stackoverflow.com/questions/54119144/coldfusion-encryption-and-perl-decryption", "title": "Coldfusion Encryption and Perl Decryption", "body": "<p>I have a situation where I need to encrypt content in Coldfusion and then decrypt in Perl. Here's a sample Coldfusion code:</p>\n\n<pre><code>&lt;cfscript&gt;\n  input = \"Amidst the roar of liberated Rome, Of nations freed, and the world overjoy'd\";\n  encryptionKey = \"8kbD1Cf8TIMvm8SRxNNfaQ==\";\n  encryptedInput = encrypt( input, encryptionKey, \"AES/ECB/PKCS5Padding\", \"hex\" );\n  writeOutput( \"Encrypted Input: #encryptedInput# &lt;br /&gt;\" );\n&lt;/cfscript&gt;\n</code></pre>\n\n<p>This produces:</p>\n\n<pre><code>27B0F3EB1286FFB462BDD3F14F5A41724DF1ED888F1BEFA7174CA981C7898ED2EF841A15CDE4332D030818B9923A2DBA0C68C8352E128A0744DF5F9FA955D3C72469FEFDAE2120DE5D74319ED666DDD0 \n</code></pre>\n\n<p>And the Perl:</p>\n\n<pre><code>use 5.24.1;\nuse Crypt::ECB qw(encrypt_hex);\n\nmy $input = \"Amidst the roar of liberated Rome, Of nations freed, and the world overjoy'd\";\nmy $encryption_key = \"8kbD1Cf8TIMvm8SRxNNfaQ==\";\nmy $encrypted_input = encrypt_hex($encryption_key, 'Rijndael', $input);\nsay $encrypted_input;\n</code></pre>\n\n<p>This produces:</p>\n\n<pre><code>e220ff2efe5d41e92237622ba969f35158d20e2c9c44995d44136d928d517462980321d4d6193fe62dc942fd717128442972524207777366954e5ceb2d1812ac997e06767a27d6a0145176d717c3836b\n</code></pre>\n\n<p>Why is the encrypted content different? Does anyone have any insights into this?</p>\n"}, {"tags": ["perl", "terminal", "ncurses"], "comments": [{"owner": {"reputation": 2652, "user_id": 200304, "user_type": "registered", "accept_rate": 63, "profile_image": "https://www.gravatar.com/avatar/88ded01f5ac55b85bb3dd544dce38989?s=128&d=identicon&r=PG", "display_name": "Johannes Ernst", "link": "https://stackoverflow.com/users/200304/johannes-ernst"}, "reply_to_user": {"reputation": 45481, "user_id": 197758, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/628da6ba2a6c70e35c009b7e3c3a430a?s=128&d=identicon&r=PG", "display_name": "toolic", "link": "https://stackoverflow.com/users/197758/toolic"}, "edited": false, "score": 0, "creation_date": 1547065246, "post_id": 54117553, "comment_id": 95068039, "body": "Does this fall back to no color when I need it? From the description, it does not sound like it."}], "answers": [{"comments": [{"owner": {"reputation": 8718, "user_id": 5848200, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/a8072aaf76dcb4fe5027964252f16382?s=128&d=identicon&r=PG", "display_name": "Grinnz", "link": "https://stackoverflow.com/users/5848200/grinnz"}, "edited": false, "score": 0, "creation_date": 1547163087, "post_id": 54117853, "comment_id": 95108281, "body": "I&#39;d add to this excellent answer: determining if the session is interactive can be tricky. ExtUtils::MakeMaker contains a <a href=\"https://metacpan.org/source/BINGOS/ExtUtils-MakeMaker-7.34/lib/ExtUtils/MakeMaker.pm#L204\" rel=\"nofollow noreferrer\">more comprehensive test</a> for its prompt() function, and <a href=\"https://metacpan.org/pod/IO::Interactive\" rel=\"nofollow noreferrer\">IO::Interactive</a> contains an even better set of heuristics."}], "tags": [], "owner": {"reputation": 110113, "user_id": 168657, "user_type": "registered", "accept_rate": 92, "profile_image": "https://www.gravatar.com/avatar/f14e7610fca39322ebbf23530def15f8?s=128&d=identicon&r=PG", "display_name": "mob", "link": "https://stackoverflow.com/users/168657/mob"}, "is_accepted": true, "score": 5, "last_activity_date": 1547066141, "last_edit_date": 1547066141, "creation_date": 1547065790, "answer_id": 54117853, "question_id": 54117553, "link": "https://stackoverflow.com/questions/54117553/color-terminal-output-in-perl/54117853#54117853", "title": "Color terminal output in Perl", "body": "<p><a href=\"http://metacpan.org/pod/Term::ANSIColor\" rel=\"noreferrer\"><code>Term::ANSIColor</code></a> to produced colored output.</p>\n\n<p><a href=\"http://metacpan.org/pod/perlfunc#-X\" rel=\"noreferrer\"><code>-t STDOUT</code></a> to test whether standard output is opened to a terminal.</p>\n\n<p><a href=\"https://stackoverflow.com/questions/27964065/termansicolor-when-term-doesnt-support-colors\"><code>$ENV{ANSI_COLORS_DISABLED}</code></a> to dynamically disable <code>Term::ANSIColor</code>.</p>\n\n<pre><code>use Term::ANSIColor;\n$ENV{ANSI_COLORS_DISABLED}++ unless -t STDOUT;\nprint colored(\"Hi\",\"red\"),\" mom!\\n\";\n</code></pre>\n"}], "owner": {"reputation": 2652, "user_id": 200304, "user_type": "registered", "accept_rate": 63, "profile_image": "https://www.gravatar.com/avatar/88ded01f5ac55b85bb3dd544dce38989?s=128&d=identicon&r=PG", "display_name": "Johannes Ernst", "link": "https://stackoverflow.com/users/200304/johannes-ernst"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 262, "favorite_count": 0, "accepted_answer_id": 54117853, "answer_count": 1, "score": 2, "last_activity_date": 1547099681, "creation_date": 1547064502, "question_id": 54117553, "link": "https://stackoverflow.com/questions/54117553/color-terminal-output-in-perl", "title": "Color terminal output in Perl", "body": "<p>I'd like to print some output to the terminal in color when the terminal supports colors, print it plain otherwise. Also, I'd like no color when the program is not run interactively, e.g. when piped into grep.</p>\n\n<p>What's the best way to do this in Perl? I'm hoping for some API that's sort of like this:</p>\n\n<pre><code>printColorMaybe( RED, \"Hi\", PLAIN, \" mom!\\n\" );\n</code></pre>\n\n<p>where the implementation will ignore the color codes when not appropriate.</p>\n"}, {"tags": ["regex", "perl"], "answers": [{"tags": [], "owner": {"reputation": 82895, "user_id": 372239, "user_type": "registered", "accept_rate": 80, "profile_image": "https://i.stack.imgur.com/2twLb.jpg?s=128&g=1", "display_name": "Toto", "link": "https://stackoverflow.com/users/372239/toto"}, "is_accepted": false, "score": 2, "last_activity_date": 1547054888, "creation_date": 1547054888, "answer_id": 54115446, "question_id": 54115381, "link": "https://stackoverflow.com/questions/54115381/how-to-add-n-number-of-digits-to-a-string-with-perl/54115446#54115446", "title": "How to add n number of digits to a string with perl", "body": "<p>It will work fine if you change this line:</p>\n\n<pre><code>$newstg = $newstg . sprintf(\"%0$number_of_zerosd\\n\",$subd); \n</code></pre>\n\n<p>to</p>\n\n<pre><code>$newstg = $newstg . sprintf(\"%0${number_of_zeros}d\\n\",$subd); \n#                             __^             __^\n</code></pre>\n"}, {"comments": [{"owner": {"reputation": 576, "user_id": 5252277, "user_type": "registered", "accept_rate": 75, "profile_image": "https://i.stack.imgur.com/jxfJU.jpg?s=128&g=1", "display_name": "gatorreina", "link": "https://stackoverflow.com/users/5252277/gatorreina"}, "edited": false, "score": 0, "creation_date": 1547310309, "post_id": 54115480, "comment_id": 95152743, "body": "All the answers were good. This is what I used in my code. Not sure if any one answer was better than the rest."}, {"owner": {"reputation": 50468, "user_id": 1331451, "user_type": "registered", "accept_rate": 96, "profile_image": "https://i.stack.imgur.com/4ZPmj.png?s=128&g=1", "display_name": "simbabque", "link": "https://stackoverflow.com/users/1331451/simbabque"}, "reply_to_user": {"reputation": 576, "user_id": 5252277, "user_type": "registered", "accept_rate": 75, "profile_image": "https://i.stack.imgur.com/jxfJU.jpg?s=128&g=1", "display_name": "gatorreina", "link": "https://stackoverflow.com/users/5252277/gatorreina"}, "edited": false, "score": 1, "creation_date": 1547310540, "post_id": 54115480, "comment_id": 95152820, "body": "@gatorreina in your case I would say that the one you find clearest is the best way. Readability in your code mostly trumps everything else."}], "tags": [], "owner": {"reputation": 50468, "user_id": 1331451, "user_type": "registered", "accept_rate": 96, "profile_image": "https://i.stack.imgur.com/4ZPmj.png?s=128&g=1", "display_name": "simbabque", "link": "https://stackoverflow.com/users/1331451/simbabque"}, "is_accepted": true, "score": 5, "last_activity_date": 1547054978, "creation_date": 1547054978, "answer_id": 54115480, "question_id": 54115381, "link": "https://stackoverflow.com/questions/54115381/how-to-add-n-number-of-digits-to-a-string-with-perl/54115480#54115480", "title": "How to add n number of digits to a string with perl", "body": "<p>You can use the <a href=\"http://perldoc.perl.org/perlop.html#Multiplicative-Operators\" rel=\"noreferrer\"><code>x</code> repetition operator</a>.</p>\n\n<pre><code>my $number_of_zeros = 3;\nprint '1' . 0 x $number_of_zeros;\n</code></pre>\n"}, {"tags": [], "owner": {"reputation": 110113, "user_id": 168657, "user_type": "registered", "accept_rate": 92, "profile_image": "https://www.gravatar.com/avatar/f14e7610fca39322ebbf23530def15f8?s=128&d=identicon&r=PG", "display_name": "mob", "link": "https://stackoverflow.com/users/168657/mob"}, "is_accepted": false, "score": 6, "last_activity_date": 1547059324, "creation_date": 1547059324, "answer_id": 54116419, "question_id": 54115381, "link": "https://stackoverflow.com/questions/54115381/how-to-add-n-number-of-digits-to-a-string-with-perl/54116419#54116419", "title": "How to add n number of digits to a string with perl", "body": "<p>Use can use the <code>*</code> notation supported by <code>sprintf</code>/<code>printf</code> to use variables in your template.</p>\n\n<pre><code>$newstg .= sprintf(\"%0*d\\n\", $number_of_zeros, $subd);\n#same as   sprintf(\"%03d\\n\", $subd);\n</code></pre>\n"}, {"tags": [], "owner": {"reputation": 320771, "user_id": 589924, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/b2cf53d5a3d25f95c0db4e025aed4153?s=128&d=identicon&r=PG", "display_name": "ikegami", "link": "https://stackoverflow.com/users/589924/ikegami"}, "is_accepted": false, "score": 1, "last_activity_date": 1547092583, "creation_date": 1547092583, "answer_id": 54121755, "question_id": 54115381, "link": "https://stackoverflow.com/questions/54115381/how-to-add-n-number-of-digits-to-a-string-with-perl/54121755#54121755", "title": "How to add n number of digits to a string with perl", "body": "<pre><code>$newstg * ( 10 ** $number_of_zeroes )\n</code></pre>\n\n<p>or</p>\n\n<pre><code>$newstg . ( '0' x $number_of_zeroes )\n</code></pre>\n"}], "owner": {"reputation": 576, "user_id": 5252277, "user_type": "registered", "accept_rate": 75, "profile_image": "https://i.stack.imgur.com/jxfJU.jpg?s=128&g=1", "display_name": "gatorreina", "link": "https://stackoverflow.com/users/5252277/gatorreina"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 74, "favorite_count": 0, "accepted_answer_id": 54115480, "answer_count": 4, "score": 0, "last_activity_date": 1547092583, "creation_date": 1547054614, "question_id": 54115381, "link": "https://stackoverflow.com/questions/54115381/how-to-add-n-number-of-digits-to-a-string-with-perl", "title": "How to add n number of digits to a string with perl", "body": "<p>I need to add a given number of zeros to a string so that the scalar $newstg below comes out to '1000'.</p>\n\n<pre><code>use strict;\nmy $number_of_zeros = 3;\n\nmy $newstg = '1';\n$newstg = $newstg . sprintf(\"%0$number_of_zerosd\\n\",$subd); \nprint \"Subd: $newstg\\n\";\n</code></pre>\n"}, {"tags": ["php", "perl", "for-loop"], "comments": [{"owner": {"reputation": 37580, "user_id": 1248114, "user_type": "registered", "accept_rate": 66, "profile_image": "https://i.stack.imgur.com/4XXrp.jpg?s=128&g=1", "display_name": "arkascha", "link": "https://stackoverflow.com/users/1248114/arkascha"}, "edited": false, "score": 0, "creation_date": 1547053103, "post_id": 54114963, "comment_id": 95062652, "body": "You cannot increment a <i>string</i> variable."}, {"owner": {"reputation": 44030, "user_id": 453002, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/66e564e1221dfd0bfd24e7c47e2079ea?s=128&d=identicon&r=PG", "display_name": "Alex Howansky", "link": "https://stackoverflow.com/users/453002/alex-howansky"}, "edited": false, "score": 1, "creation_date": 1547053153, "post_id": 54114963, "comment_id": 95062684, "body": "Your loop doesn&#39;t iterate because <code>Z</code> is not less than or equal to <code>AL</code>."}, {"owner": {"reputation": 37580, "user_id": 1248114, "user_type": "registered", "accept_rate": 66, "profile_image": "https://i.stack.imgur.com/4XXrp.jpg?s=128&g=1", "display_name": "arkascha", "link": "https://stackoverflow.com/users/1248114/arkascha"}, "edited": false, "score": 0, "creation_date": 1547053214, "post_id": 54114963, "comment_id": 95062727, "body": "<code>var_dump(&quot;Z&quot; &lt;= &quot;AL&quot;);</code> outputs <code>false</code>..."}, {"owner": {"reputation": 44030, "user_id": 453002, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/66e564e1221dfd0bfd24e7c47e2079ea?s=128&d=identicon&r=PG", "display_name": "Alex Howansky", "link": "https://stackoverflow.com/users/453002/alex-howansky"}, "reply_to_user": {"reputation": 37580, "user_id": 1248114, "user_type": "registered", "accept_rate": 66, "profile_image": "https://i.stack.imgur.com/4XXrp.jpg?s=128&g=1", "display_name": "arkascha", "link": "https://stackoverflow.com/users/1248114/arkascha"}, "edited": false, "score": 5, "creation_date": 1547053258, "post_id": 54114963, "comment_id": 95062756, "body": "@arkascha Sure you can. Increment <code>&quot;Z&quot;</code> and you get <code>&quot;AA&quot;</code> -- but the comparison is still done as a string, so the conditional fails."}, {"owner": {"reputation": 37580, "user_id": 1248114, "user_type": "registered", "accept_rate": 66, "profile_image": "https://i.stack.imgur.com/4XXrp.jpg?s=128&g=1", "display_name": "arkascha", "link": "https://stackoverflow.com/users/1248114/arkascha"}, "reply_to_user": {"reputation": 44030, "user_id": 453002, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/66e564e1221dfd0bfd24e7c47e2079ea?s=128&d=identicon&r=PG", "display_name": "Alex Howansky", "link": "https://stackoverflow.com/users/453002/alex-howansky"}, "edited": false, "score": 0, "creation_date": 1547053397, "post_id": 54114963, "comment_id": 95062826, "body": "@AlexHowansky Oh, thanks, I did not know that. Interesting. Pretty strange behavior actually..."}, {"owner": {"reputation": 25756, "user_id": 925913, "user_type": "registered", "accept_rate": 82, "profile_image": "https://www.gravatar.com/avatar/69de717f8f47bc852b7e452d890ef166?s=128&d=identicon&r=PG&f=1", "display_name": "slackwing", "link": "https://stackoverflow.com/users/925913/slackwing"}, "edited": false, "score": 0, "creation_date": 1547054008, "post_id": 54114963, "comment_id": 95063180, "body": "@arkascha- Called a &quot;Hexavegisimal&quot; numbering system. Mainly popularized by Excel&#39;s column numbering. <a href=\"https://gist.github.com/pinguet62/9817978\" rel=\"nofollow noreferrer\">gist.github.com/pinguet62/9817978</a>"}, {"owner": {"reputation": 44030, "user_id": 453002, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/66e564e1221dfd0bfd24e7c47e2079ea?s=128&d=identicon&r=PG", "display_name": "Alex Howansky", "link": "https://stackoverflow.com/users/453002/alex-howansky"}, "edited": false, "score": 0, "creation_date": 1547054340, "post_id": 54114963, "comment_id": 95063351, "body": "Hexavegisimal sounds like a really terrible diet where you only get to eat six carrots a day."}, {"owner": {"reputation": 111, "user_id": 3587889, "user_type": "registered", "accept_rate": 86, "profile_image": "https://www.gravatar.com/avatar/ae36e6c8207bee92d53426b9a572874b?s=128&d=identicon&r=PG&f=1", "display_name": "CrisAlfie", "link": "https://stackoverflow.com/users/3587889/crisalfie"}, "edited": false, "score": 0, "creation_date": 1547054766, "post_id": 54114963, "comment_id": 95063572, "body": "even if compared as string, according to PERL&#39;s documentation Z is not greater than AL.  The for loop shouldn&#39;t compare strings and even if so, I think they should be treated according to their numeric value/code."}, {"owner": {"reputation": 44030, "user_id": 453002, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/66e564e1221dfd0bfd24e7c47e2079ea?s=128&d=identicon&r=PG", "display_name": "Alex Howansky", "link": "https://stackoverflow.com/users/453002/alex-howansky"}, "edited": false, "score": 2, "creation_date": 1547054841, "post_id": 54114963, "comment_id": 95063615, "body": "Why are you reading PERL&#39;s documentation? This is PHP."}, {"owner": {"reputation": 111, "user_id": 3587889, "user_type": "registered", "accept_rate": 86, "profile_image": "https://www.gravatar.com/avatar/ae36e6c8207bee92d53426b9a572874b?s=128&d=identicon&r=PG&f=1", "display_name": "CrisAlfie", "link": "https://stackoverflow.com/users/3587889/crisalfie"}, "edited": false, "score": 0, "creation_date": 1547055579, "post_id": 54114963, "comment_id": 95063971, "body": "PHP follows the same increment rules when treating letters to iterate, is how it determines that BC is not greather than CA for example, not by sorting. And it iterates accordingly."}, {"owner": {"reputation": 44030, "user_id": 453002, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/66e564e1221dfd0bfd24e7c47e2079ea?s=128&d=identicon&r=PG", "display_name": "Alex Howansky", "link": "https://stackoverflow.com/users/453002/alex-howansky"}, "edited": false, "score": 0, "creation_date": 1547056199, "post_id": 54114963, "comment_id": 95064255, "body": "<i>&quot;is how it determines that BC is not greather than CA for example&quot;</i> No. There is no comparison performed when iterating. When comparisons <i>are</i> performed (like in a for loop), they&#39;re compared as strings. So <code>Z</code> increments to <code>AA</code> but <code>AA</code> is less than <code>Z</code> in a straight string comparison."}, {"owner": {"reputation": 111, "user_id": 3587889, "user_type": "registered", "accept_rate": 86, "profile_image": "https://www.gravatar.com/avatar/ae36e6c8207bee92d53426b9a572874b?s=128&d=identicon&r=PG&f=1", "display_name": "CrisAlfie", "link": "https://stackoverflow.com/users/3587889/crisalfie"}, "edited": false, "score": 0, "creation_date": 1547058780, "post_id": 54114963, "comment_id": 95065370, "body": "the comparison is implicit when incrementing.  the For loop should treat the variables used as variables not strings, since an increment will be made. Thanks for your answer tho, you are correct, it treats them as strings therefore it will not iterate. This behavior was corrected by getting the integer value of Z, then of AL, and placing them in a FOR loop afterwards, and it works since Z = 26 and AL = 38."}], "answers": [{"comments": [{"owner": {"reputation": 111, "user_id": 3587889, "user_type": "registered", "accept_rate": 86, "profile_image": "https://www.gravatar.com/avatar/ae36e6c8207bee92d53426b9a572874b?s=128&d=identicon&r=PG&f=1", "display_name": "CrisAlfie", "link": "https://stackoverflow.com/users/3587889/crisalfie"}, "edited": false, "score": 0, "creation_date": 1547054477, "post_id": 54115107, "comment_id": 95063417, "body": "Hi, thanks, both are great ideas. However they will not fully cover the whole range as AL is not included as you have already stated.  The question per se can be divided in two. Why is the iteration returning FALSE, when it should return TRUE and how to make it work (But the answer to the first question will determine the answer to question number 2)."}, {"owner": {"reputation": 44030, "user_id": 453002, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/66e564e1221dfd0bfd24e7c47e2079ea?s=128&d=identicon&r=PG", "display_name": "Alex Howansky", "link": "https://stackoverflow.com/users/453002/alex-howansky"}, "reply_to_user": {"reputation": 111, "user_id": 3587889, "user_type": "registered", "accept_rate": 86, "profile_image": "https://www.gravatar.com/avatar/ae36e6c8207bee92d53426b9a572874b?s=128&d=identicon&r=PG&f=1", "display_name": "CrisAlfie", "link": "https://stackoverflow.com/users/3587889/crisalfie"}, "edited": false, "score": 0, "creation_date": 1547054754, "post_id": 54115107, "comment_id": 95063564, "body": "Right, so... bump $b before the loop or use an infinite loop with a break after you hit the end. Easy fix."}, {"owner": {"reputation": 44030, "user_id": 453002, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/66e564e1221dfd0bfd24e7c47e2079ea?s=128&d=identicon&r=PG", "display_name": "Alex Howansky", "link": "https://stackoverflow.com/users/453002/alex-howansky"}, "reply_to_user": {"reputation": 111, "user_id": 3587889, "user_type": "registered", "accept_rate": 86, "profile_image": "https://www.gravatar.com/avatar/ae36e6c8207bee92d53426b9a572874b?s=128&d=identicon&r=PG&f=1", "display_name": "CrisAlfie", "link": "https://stackoverflow.com/users/3587889/crisalfie"}, "edited": false, "score": 1, "creation_date": 1547054908, "post_id": 54115107, "comment_id": 95063651, "body": "It should <i>not</i> return true. &#39;AL&#39; sorts before &#39;Z&#39;. You can make &#39;Z&#39; sort before &#39;AL&#39; with <code>strnatcmp()</code> but you don&#39;t need to because it&#39;s easier and cheaper to just check equivalency."}, {"owner": {"reputation": 111, "user_id": 3587889, "user_type": "registered", "accept_rate": 86, "profile_image": "https://www.gravatar.com/avatar/ae36e6c8207bee92d53426b9a572874b?s=128&d=identicon&r=PG&f=1", "display_name": "CrisAlfie", "link": "https://stackoverflow.com/users/3587889/crisalfie"}, "edited": false, "score": 0, "creation_date": 1547055369, "post_id": 54115107, "comment_id": 95063868, "body": "You are correct, it sorts before Z, but it shouldn&#39;t be treated as a string?, specially taking in consideration the for loop will require a variable to cicle upon, you cannot increment to a word, only to valid letters as it will be used to increment/decrement and break when the rule is met."}], "tags": [], "owner": {"reputation": 44030, "user_id": 453002, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/66e564e1221dfd0bfd24e7c47e2079ea?s=128&d=identicon&r=PG", "display_name": "Alex Howansky", "link": "https://stackoverflow.com/users/453002/alex-howansky"}, "is_accepted": true, "score": 5, "last_activity_date": 1547054149, "last_edit_date": 1547054149, "creation_date": 1547053489, "answer_id": 54115107, "question_id": 54114963, "link": "https://stackoverflow.com/questions/54114963/php-for-iteration-not-iterating/54115107#54115107", "title": "PHP FOR Iteration not iterating", "body": "<p>Your loop is not iterating because the conditional fails -- 'Z' is greater than 'AL'. You can use <code>strnatcmp()</code> to accomplish what you want:</p>\n\n<pre><code>for ($x = $a; strnatcmp($x, $b); $x++) {\n    echo \"The number is: $x\\n\";\n}\n</code></pre>\n\n<p>Output:</p>\n\n<pre><code>The number is: Z\nThe number is: AA\nThe number is: AB\nThe number is: AC\nThe number is: AD\nThe number is: AE\nThe number is: AF\nThe number is: AG\nThe number is: AH\nThe number is: AI\nThe number is: AJ\nThe number is: AK\n</code></pre>\n\n<p>[EDIT] Actually, duh, that's not even necessary, just check for non-equality:</p>\n\n<pre><code>for ($x = $a; $x !== $b; $x++) {\n</code></pre>\n\n<p>Note this might give you an off-by one error depending on what your desired output is. Just bump $b before the loop if you want one more iteration, or use a while loop like in your example.</p>\n"}], "owner": {"reputation": 111, "user_id": 3587889, "user_type": "registered", "accept_rate": 86, "profile_image": "https://www.gravatar.com/avatar/ae36e6c8207bee92d53426b9a572874b?s=128&d=identicon&r=PG&f=1", "display_name": "CrisAlfie", "link": "https://stackoverflow.com/users/3587889/crisalfie"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 73, "favorite_count": 0, "accepted_answer_id": 54115107, "answer_count": 1, "score": 2, "last_activity_date": 1547054149, "creation_date": 1547052945, "last_edit_date": 1547053643, "question_id": 54114963, "link": "https://stackoverflow.com/questions/54114963/php-for-iteration-not-iterating", "title": "PHP FOR Iteration not iterating", "body": "<p>Does anyone know why a <code>for</code> loop in PHP is not working as expected? Please check the following:</p>\n\n<p>checked documentation and google about operators: <a href=\"http://php.net/manual/en/language.operators.increment.php\" rel=\"nofollow noreferrer\">http://php.net/manual/en/language.operators.increment.php</a></p>\n\n<pre><code>&lt;?php\n    $a = \"Z\";\n    $b = \"AL\";\n\n    echo $a.\"&lt;br&gt;\".$b.\"&lt;br&gt;\";\n\nfor ($x = $a; $x &lt;= $b; $x++) {\n    echo \"The number is: $x &lt;br&gt;\";\n} \n\nwhile(true){\n    if($a == $b)break;\n    echo $a.\"&lt;br&gt;\";\n    $a++;\n\n}   \n\n?&gt;\n</code></pre>\n\n<p>The <code>for</code> loop is not iterating, while the <code>while</code> loop is. Expected output should iterate from <code>Z</code>-<code>AL</code>, the <code>while</code> loop is doing this, but the <code>for</code> loop is not iterating.</p>\n\n<p><code>for</code> loop should follow Perl's iteration (<a href=\"http://php.net/manual/en/language.operators.increment.php\" rel=\"nofollow noreferrer\">http://php.net/manual/en/language.operators.increment.php</a>), but apparently says <code>AL</code> is not greater than <code>Z</code>.</p>\n\n<p>However, when converting these letters to their numeric value, the <code>for</code> loop will work as it is working with integers.</p>\n"}, {"tags": ["git", "perl", "hp-ux"], "comments": [{"owner": {"reputation": 320771, "user_id": 589924, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/b2cf53d5a3d25f95c0db4e025aed4153?s=128&d=identicon&r=PG", "display_name": "ikegami", "link": "https://stackoverflow.com/users/589924/ikegami"}, "edited": false, "score": 0, "creation_date": 1547064039, "post_id": 54114133, "comment_id": 95067558, "body": "Re &quot;<i>Git has a dependency on Perl 5.28</i>&quot;, That&#39;s not true. The docs doesn&#39;t even mention it requires Perl (though it does mention it requires some Perl modules), so I suspect it only requires Perl 5.8."}, {"owner": {"reputation": 1861, "user_id": 1961574, "user_type": "registered", "accept_rate": 64, "profile_image": "https://www.gravatar.com/avatar/184ac1de765a2428c4bbadfbf5beb517?s=128&d=identicon&r=PG&f=1", "display_name": "bluppfisk", "link": "https://stackoverflow.com/users/1961574/bluppfisk"}, "reply_to_user": {"reputation": 320771, "user_id": 589924, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/b2cf53d5a3d25f95c0db4e025aed4153?s=128&d=identicon&r=PG", "display_name": "ikegami", "link": "https://stackoverflow.com/users/589924/ikegami"}, "edited": false, "score": 0, "creation_date": 1547108805, "post_id": 54114133, "comment_id": 95080443, "body": "<a href=\"http://hpux.connect.org.uk/hppd/hpux/Development/Tools/git-2.20.1/\" rel=\"nofollow noreferrer\">hpux.connect.org.uk/hppd/hpux/Development/Tools/git-2.20.1</a> on this website it states perl as a dependency. But yes it doesn&#39;t necessarily mean it has to be 5.28. Just wanted to be sure."}, {"owner": {"reputation": 62184, "user_id": 7231, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/81b76985f3985e35492e25880493d045?s=128&d=identicon&r=PG", "display_name": "Dave Cross", "link": "https://stackoverflow.com/users/7231/dave-cross"}, "edited": false, "score": 0, "creation_date": 1547111913, "post_id": 54114133, "comment_id": 95082063, "body": "Have you considered moving away from a version of Perl that is over twelve years old? What is preventing you from doing that?"}, {"owner": {"reputation": 1861, "user_id": 1961574, "user_type": "registered", "accept_rate": 64, "profile_image": "https://www.gravatar.com/avatar/184ac1de765a2428c4bbadfbf5beb517?s=128&d=identicon&r=PG&f=1", "display_name": "bluppfisk", "link": "https://stackoverflow.com/users/1961574/bluppfisk"}, "edited": false, "score": 0, "creation_date": 1547112182, "post_id": 54114133, "comment_id": 95082229, "body": "rrreaaaaallly strict system administrators and lots of legacy code. And expensive devs. And a general culture of &quot;if it ain&#39;t broken don&#39;t fix it.&quot; which is fair enough. It should be possible to run them side-by-side."}, {"owner": {"reputation": 320771, "user_id": 589924, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/b2cf53d5a3d25f95c0db4e025aed4153?s=128&d=identicon&r=PG", "display_name": "ikegami", "link": "https://stackoverflow.com/users/589924/ikegami"}, "edited": false, "score": 1, "creation_date": 1547113034, "post_id": 54114133, "comment_id": 95082732, "body": "@bluppfisk, No, that doesn&#39;t say git depends on 5.28. It says that package requires the perl 5.28 package. It says that because the git package was created on a system with perl 5.28, not because git requires 5.28 (which came out earlier this year and which I&#39;ve never installed, even though I&#39;ve been using git for many many years)"}, {"owner": {"reputation": 1861, "user_id": 1961574, "user_type": "registered", "accept_rate": 64, "profile_image": "https://www.gravatar.com/avatar/184ac1de765a2428c4bbadfbf5beb517?s=128&d=identicon&r=PG&f=1", "display_name": "bluppfisk", "link": "https://stackoverflow.com/users/1961574/bluppfisk"}, "edited": false, "score": 0, "creation_date": 1547122985, "post_id": 54114133, "comment_id": 95088401, "body": "okay good! I noticed the only reason there&#39;s a perl &quot;dependency&quot; seems to be that there&#39;s a perl API included in the source code."}], "answers": [{"tags": [], "owner": {"reputation": 324088, "user_id": 1256452, "user_type": "registered", "accept_rate": 50, "profile_image": "https://www.gravatar.com/avatar/fa1648baa6108c85886312af93bb32c0?s=128&d=identicon&r=PG", "display_name": "torek", "link": "https://stackoverflow.com/users/1256452/torek"}, "is_accepted": true, "score": 2, "last_activity_date": 1547051945, "creation_date": 1547051945, "answer_id": 54114676, "question_id": 54114133, "link": "https://stackoverflow.com/questions/54114133/specifying-the-right-perl-version-for-git/54114676#54114676", "title": "specifying the right perl version for git", "body": "<p>The Perl scripts that Git runs begin with <code>#!</code> lines.  In the Git source, these lines read <code>#!/usr/bin/perl</code>, but as you build Git to install it, the source-builder <em>replaces</em> these with the correct path.  So if the correct path for a correct version of Perl is <code>/usr/local/bin/perl</code>, tell the build to use that; if it's <code>/compat/perl5.28</code>, tell the build to use that, and so on.</p>\n"}], "owner": {"reputation": 1861, "user_id": 1961574, "user_type": "registered", "accept_rate": 64, "profile_image": "https://www.gravatar.com/avatar/184ac1de765a2428c4bbadfbf5beb517?s=128&d=identicon&r=PG&f=1", "display_name": "bluppfisk", "link": "https://stackoverflow.com/users/1961574/bluppfisk"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 118, "favorite_count": 0, "accepted_answer_id": 54114676, "answer_count": 1, "score": 0, "last_activity_date": 1547051945, "creation_date": 1547050183, "question_id": 54114133, "link": "https://stackoverflow.com/questions/54114133/specifying-the-right-perl-version-for-git", "title": "specifying the right perl version for git", "body": "<p>We want to install git on our system which runs HP UX 11.31 and the standard version of Perl (5.8.8e) which comes with the system. It is of utmost importance that the perl command keeps referring to Perl 5.8.8e so that our scripts run fine.</p>\n\n<p>Git has a dependency on Perl 5.28. Mind, it was working fine with Perl 5.8.8e but we'd rather not risk running into issues later, so we installed it in a separate folder.</p>\n\n<p>Now how can we make sure that git uses the correct version of Perl? </p>\n"}, {"tags": ["python", "perl"], "comments": [{"owner": {"reputation": 78982, "user_id": 1848654, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/84180c0f3c9c04f8b8f0613fc0129dac?s=128&d=identicon&r=PG", "display_name": "melpomene", "link": "https://stackoverflow.com/users/1848654/melpomene"}, "edited": false, "score": 1, "creation_date": 1547050876, "post_id": 54113947, "comment_id": 95061281, "body": "Sounds like <a href=\"https://metacpan.org/pod/Carton\" rel=\"nofollow noreferrer\">carton</a> could help you with that."}, {"owner": {"reputation": 8718, "user_id": 5848200, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/a8072aaf76dcb4fe5027964252f16382?s=128&d=identicon&r=PG", "display_name": "Grinnz", "link": "https://stackoverflow.com/users/5848200/grinnz"}, "edited": false, "score": 0, "creation_date": 1547078945, "post_id": 54113947, "comment_id": 95072745, "body": "I strongly recommend the carton approach going forward, it keeps track of exactly what you&#39;re asking for and makes reproducible deployments easy."}, {"owner": {"reputation": 83, "user_id": 4362605, "user_type": "registered", "profile_image": "https://lh3.googleusercontent.com/-qgwrK4VWMQE/AAAAAAAAAAI/AAAAAAAAAAA/yNJhYD8tp54/photo.jpg?sz=128", "display_name": "Eric Deveaud", "link": "https://stackoverflow.com/users/4362605/eric-deveaud"}, "edited": false, "score": 0, "creation_date": 1547148653, "post_id": 54113947, "comment_id": 95102895, "body": "cartoon is not the answer to the question. initial question is how to get the installed modules and generate the cpanfile  cartoon will be a great tool in our install procedure, but we need to be abble to generate the list of modules from given tree"}], "answers": [{"comments": [{"owner": {"reputation": 83, "user_id": 4362605, "user_type": "registered", "profile_image": "https://lh3.googleusercontent.com/-qgwrK4VWMQE/AAAAAAAAAAI/AAAAAAAAAAA/yNJhYD8tp54/photo.jpg?sz=128", "display_name": "Eric Deveaud", "link": "https://stackoverflow.com/users/4362605/eric-deveaud"}, "edited": false, "score": 0, "creation_date": 1547052951, "post_id": 54114243, "comment_id": 95062549, "body": "thanks, it sort out some of the problems we have. some modules eg: Bio, XML::Parser are matched but noo version given. I can live with that and dig myself to find the correct version used."}], "tags": [], "owner": {"reputation": 3509, "user_id": 4243840, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/aaeabd769bae1bf82fd4b8882fed6653?s=128&d=identicon&r=PG", "display_name": "JGNI", "link": "https://stackoverflow.com/users/4243840/jgni"}, "is_accepted": false, "score": 0, "last_activity_date": 1547051252, "last_edit_date": 1547051252, "creation_date": 1547050588, "answer_id": 54114243, "question_id": 54113947, "link": "https://stackoverflow.com/questions/54113947/perl-equivalent-of-pip-freeze/54114243#54114243", "title": "perl equivalent of pip freeze", "body": "<p>use the following Perl program</p>\n\n<pre><code>#!perl\nuse ExtUtils::Installed;\nmy $inst = ExtUtils::Installed-&gt;new(@ARGV ? (inc_override =&gt; \\@ARGV) : ());\nmy @modules = $inst-&gt;modules;\nforeach (sort @modules) {\n    print \"$_ =&gt; \", $inst-&gt;version($_), \"\\n\";\n}\n</code></pre>\n\n<p>It takes a list of directories to search. If no paramaters are given it uses the contents of @INC</p>\n\n<p>You could also use the autobundle feature of the CPAN module <code>perl -MCPAN -e autobundle</code> which will generate a bundle file of all installed modules </p>\n"}], "owner": {"reputation": 83, "user_id": 4362605, "user_type": "registered", "profile_image": "https://lh3.googleusercontent.com/-qgwrK4VWMQE/AAAAAAAAAAI/AAAAAAAAAAA/yNJhYD8tp54/photo.jpg?sz=128", "display_name": "Eric Deveaud", "link": "https://stackoverflow.com/users/4362605/eric-deveaud"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 181, "favorite_count": 0, "answer_count": 1, "score": 1, "last_activity_date": 1547051252, "creation_date": 1547049569, "question_id": 54113947, "link": "https://stackoverflow.com/questions/54113947/perl-equivalent-of-pip-freeze", "title": "perl equivalent of pip freeze", "body": "<p>I would like to get the list of installed perl modules and versions under a given directory tree.</p>\n\n<p>I would like to achieve the same task as in <code>pip freeze --user</code> for python modules.</p>\n\n<p>We usually install software in a given directory eg <code>foo-1.0.0</code> will be installed to <code>/soft/foo/1.0.0</code> \nand required perl modules will be installed to <code>/soft/foo/1.0.0/lib/perl5</code>.</p>\n\n<p>In order to be able to replicate the build and installation in the same condition we need to be able to get the list of perl modules installed AND their version.</p>\n"}, {"tags": ["regex", "perl", "negative-lookahead"], "comments": [{"owner": {"reputation": 91433, "user_id": 5424988, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/d0b4f91c20dcd87cbd58dd351455198c?s=128&d=identicon&r=PG&f=1", "display_name": "The fourth bird", "link": "https://stackoverflow.com/users/5424988/the-fourth-bird"}, "edited": false, "score": 1, "creation_date": 1547049943, "post_id": 54113943, "comment_id": 95060722, "body": "It does select the last line right?  <a href=\"https://regex101.com/r/toNjzp/1\" rel=\"nofollow noreferrer\">regex101.com/r/toNjzp/1</a>"}], "answers": [{"tags": [], "owner": {"reputation": 82895, "user_id": 372239, "user_type": "registered", "accept_rate": 80, "profile_image": "https://i.stack.imgur.com/2twLb.jpg?s=128&g=1", "display_name": "Toto", "link": "https://stackoverflow.com/users/372239/toto"}, "is_accepted": false, "score": 2, "last_activity_date": 1547052293, "last_edit_date": 1547052293, "creation_date": 1547050415, "answer_id": 54114196, "question_id": 54113943, "link": "https://stackoverflow.com/questions/54113943/perl-regex-negative-lookaheads/54114196#54114196", "title": "Perl Regex: Negative lookaheads", "body": "<p>Your first regex matches the third line</p>\n\n<pre><code>my $re = qr/^(?!.*compiled)(?!.*min).*$/;\nwhile(&lt;DATA&gt;) {\n    chomp;\n    if (/$re/) {\n        say 'OK : ', $_;\n    } else {\n        say 'KO';\n    }\n}\n\n\n__DATA__\ncake/app/webroot/js/compiled/shop.js\ncake/app/webroot/js/compiled/shop.min.js\ncake/app/webroot/js/good/thing.js\n</code></pre>\n\n<p><strong>Output:</strong> </p>\n\n<pre><code>KO\nKO\nOK : cake/app/webroot/js/good/thing.js\n</code></pre>\n\n<hr>\n\n<p>When you add <code>.*</code> at the beginning, it matches the whole line then the negative lookahead is true, there is no <code>compiled</code> or <code>min</code> after the regex has consume all the characters, so the match is true.</p>\n"}], "owner": {"reputation": 2347, "user_id": 388325, "user_type": "registered", "accept_rate": 54, "profile_image": "https://www.gravatar.com/avatar/6935b795a9de2def9a565818e2f63420?s=128&d=identicon&r=PG", "display_name": "Mr Mikk&#233;l", "link": "https://stackoverflow.com/users/388325/mr-mikk%c3%a9l"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 255, "favorite_count": 0, "answer_count": 1, "score": 2, "last_activity_date": 1547052293, "creation_date": 1547049560, "question_id": 54113943, "link": "https://stackoverflow.com/questions/54113943/perl-regex-negative-lookaheads", "title": "Perl Regex: Negative lookaheads", "body": "<p>I have this test text:</p>\n\n<pre><code>cake/app/webroot/js/compiled/shop.js\ncake/app/webroot/js/compiled/shop.min.js\ncake/app/webroot/js/good/thing.js\n</code></pre>\n\n<p>When I try this:</p>\n\n<pre><code>/^(?!.*compiled)(?!.*min).*$/\n</code></pre>\n\n<p>It doesn't match anything. But when I add:</p>\n\n<pre><code>/^.*\n</code></pre>\n\n<p>to the beginning, it matches something on each line. (I only want the last line matched.)</p>\n\n<p>What am I missing?</p>\n"}, {"tags": ["bash", "perl", "unicode"], "comments": [{"owner": {"reputation": 3509, "user_id": 4243840, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/aaeabd769bae1bf82fd4b8882fed6653?s=128&d=identicon&r=PG", "display_name": "JGNI", "link": "https://stackoverflow.com/users/4243840/jgni"}, "edited": false, "score": 0, "creation_date": 1547047893, "post_id": 54113396, "comment_id": 95059366, "body": "You say it doesn&#39;t work with Unicode, there are various Unicode encodings which one is your input file in"}, {"owner": {"reputation": 2008, "user_id": 916945, "user_type": "registered", "accept_rate": 66, "profile_image": "https://www.gravatar.com/avatar/e9eba57c4fec016320a2376e511e0735?s=128&d=identicon&r=PG", "display_name": "Andrew Fount", "link": "https://stackoverflow.com/users/916945/andrew-fount"}, "reply_to_user": {"reputation": 3509, "user_id": 4243840, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/aaeabd769bae1bf82fd4b8882fed6653?s=128&d=identicon&r=PG", "display_name": "JGNI", "link": "https://stackoverflow.com/users/4243840/jgni"}, "edited": false, "score": 0, "creation_date": 1547047925, "post_id": 54113396, "comment_id": 95059391, "body": "How do I check it in ubuntu?"}, {"owner": {"reputation": 3509, "user_id": 4243840, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/aaeabd769bae1bf82fd4b8882fed6653?s=128&d=identicon&r=PG", "display_name": "JGNI", "link": "https://stackoverflow.com/users/4243840/jgni"}, "edited": false, "score": 0, "creation_date": 1547048016, "post_id": 54113396, "comment_id": 95059445, "body": "<code>file input file name</code>"}, {"owner": {"reputation": 2008, "user_id": 916945, "user_type": "registered", "accept_rate": 66, "profile_image": "https://www.gravatar.com/avatar/e9eba57c4fec016320a2376e511e0735?s=128&d=identicon&r=PG", "display_name": "Andrew Fount", "link": "https://stackoverflow.com/users/916945/andrew-fount"}, "reply_to_user": {"reputation": 3509, "user_id": 4243840, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/aaeabd769bae1bf82fd4b8882fed6653?s=128&d=identicon&r=PG", "display_name": "JGNI", "link": "https://stackoverflow.com/users/4243840/jgni"}, "edited": false, "score": 0, "creation_date": 1547048362, "post_id": 54113396, "comment_id": 95059641, "body": "What is this command?"}, {"owner": {"reputation": 3509, "user_id": 4243840, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/aaeabd769bae1bf82fd4b8882fed6653?s=128&d=identicon&r=PG", "display_name": "JGNI", "link": "https://stackoverflow.com/users/4243840/jgni"}, "edited": false, "score": 0, "creation_date": 1547048571, "post_id": 54113396, "comment_id": 95059784, "body": "the <code>file</code> command gives info on a file, for text files it includes the encoding"}, {"owner": {"reputation": 3649, "user_id": 10404329, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/489c51b790b37922d4e80d59b9873cec?s=128&d=identicon&r=PG", "display_name": "Corion", "link": "https://stackoverflow.com/users/10404329/corion"}, "edited": false, "score": 2, "creation_date": 1547048578, "post_id": 54113396, "comment_id": 95059792, "body": "Can you please <a href=\"https://stackoverflow.com/posts/54113396/edit\">edit</a> your post and show us the (anonymized) input for which it works, and the input for which it fails?"}, {"owner": {"reputation": 384453, "user_id": 1126841, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/fa05233b2357f8d11c22ef4cfc7bb85c?s=128&d=identicon&r=PG", "display_name": "chepner", "link": "https://stackoverflow.com/users/1126841/chepner"}, "edited": false, "score": 0, "creation_date": 1547049030, "post_id": 54113396, "comment_id": 95060098, "body": "This is just a Perl question; the fact that you are running <code>perl</code> from <code>bash</code> isn&#39;t really relevant."}, {"owner": {"reputation": 2008, "user_id": 916945, "user_type": "registered", "accept_rate": 66, "profile_image": "https://www.gravatar.com/avatar/e9eba57c4fec016320a2376e511e0735?s=128&d=identicon&r=PG", "display_name": "Andrew Fount", "link": "https://stackoverflow.com/users/916945/andrew-fount"}, "edited": false, "score": 0, "creation_date": 1547049171, "post_id": 54113396, "comment_id": 95060208, "body": "Can you tell me what perl is doing and how to fix unicode?"}, {"owner": {"reputation": 3649, "user_id": 10404329, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/489c51b790b37922d4e80d59b9873cec?s=128&d=identicon&r=PG", "display_name": "Corion", "link": "https://stackoverflow.com/users/10404329/corion"}, "edited": false, "score": 1, "creation_date": 1547049274, "post_id": 54113396, "comment_id": 95060278, "body": "You will need to tell Perl that its input is supposed to be UTF-8. <code>perl -C -ane ...</code> See <a href=\"http://perldoc.perl.org/perlrun.html\" rel=\"nofollow noreferrer\">perlrun</a> for further information."}, {"owner": {"reputation": 2008, "user_id": 916945, "user_type": "registered", "accept_rate": 66, "profile_image": "https://www.gravatar.com/avatar/e9eba57c4fec016320a2376e511e0735?s=128&d=identicon&r=PG", "display_name": "Andrew Fount", "link": "https://stackoverflow.com/users/916945/andrew-fount"}, "edited": false, "score": 0, "creation_date": 1547049441, "post_id": 54113396, "comment_id": 95060393, "body": "Thanks. It works!"}], "answers": [{"comments": [{"owner": {"reputation": 3509, "user_id": 4243840, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/aaeabd769bae1bf82fd4b8882fed6653?s=128&d=identicon&r=PG", "display_name": "JGNI", "link": "https://stackoverflow.com/users/4243840/jgni"}, "edited": false, "score": 1, "creation_date": 1547049627, "post_id": 54113912, "comment_id": 95060522, "body": "That didn&#39;t work for me @Corion&#39;s suggestion in the comments on the question did"}], "tags": [], "owner": {"reputation": 119277, "user_id": 119280, "user_type": "registered", "accept_rate": 73, "profile_image": "https://www.gravatar.com/avatar/a7efd5c795e9797c30fce4126daaa9c0?s=128&d=identicon&r=PG&f=1", "display_name": "DVK", "link": "https://stackoverflow.com/users/119280/dvk"}, "is_accepted": false, "score": -1, "last_activity_date": 1547049681, "last_edit_date": 1547049681, "creation_date": 1547049470, "answer_id": 54113912, "question_id": 54113396, "link": "https://stackoverflow.com/questions/54113396/what-does-it-line-mean-in-bash/54113912#54113912", "title": "What does it line mean in bash?", "body": "<p>Use <code>/u</code> regex modifier. Source: <a href=\"https://perldoc.perl.org/perlre.html\" rel=\"nofollow noreferrer\">https://perldoc.perl.org/perlre.html</a></p>\n\n<pre><code>spkgender=$(perl -ane ' s/.*gender\\:\\W*(.).*/lc($1)/uei &amp;&amp; print; ' &lt;$rdm)\n</code></pre>\n\n<p>Alternately, use the official POSIX character class. instead of <code>\\W</code> use <code>[[:blank:]]</code>. As far as I know it supports Unicode.</p>\n\n<p>Also, please make sure you are using Unicode correctly in general. Reference: <a href=\"https://perldoc.perl.org/perlunicode.html\" rel=\"nofollow noreferrer\">https://perldoc.perl.org/perlunicode.html</a></p>\n\n<blockquote>\n  <p>When the string has come from an external source marked as Unicode<br>\n  The -C command line option can specify that certain inputs to the program are Unicode, and the values of this can be read by your Perl code, see ${^UNICODE} in perlvar.</p>\n</blockquote>\n"}], "owner": {"reputation": 2008, "user_id": 916945, "user_type": "registered", "accept_rate": 66, "profile_image": "https://www.gravatar.com/avatar/e9eba57c4fec016320a2376e511e0735?s=128&d=identicon&r=PG", "display_name": "Andrew Fount", "link": "https://stackoverflow.com/users/916945/andrew-fount"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 68, "favorite_count": 0, "answer_count": 1, "score": 0, "last_activity_date": 1547049681, "creation_date": 1547047670, "last_edit_date": 1547048845, "question_id": 54113396, "link": "https://stackoverflow.com/questions/54113396/what-does-it-line-mean-in-bash", "title": "What does it line mean in bash?", "body": "<p><code>spkgender=$(perl -ane ' s/.*gender\\:\\W*(.).*/lc($1)/ei &amp;&amp; print; ' &lt;$rdm)</code></p>\n\n<p>It is regex and it extracts <code>M</code> from 'Gender: Male', but it doesn't work for unicode.</p>\n\n<p>How to make it work with unicode?</p>\n\n<p>It doesn't work for 'Gender: \u041c\u0443\u0436\u0441\u043a\u043e\u0439' - looks like <code>\\W</code> \"eats\" all unicode symbols.</p>\n"}, {"tags": ["perl", "sed"], "comments": [{"owner": {"reputation": 198290, "user_id": 1030675, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/957956ce51706d03f19a4dc85a767bb1?s=128&d=identicon&r=PG", "display_name": "choroba", "link": "https://stackoverflow.com/users/1030675/choroba"}, "edited": false, "score": 1, "creation_date": 1547047078, "post_id": 54112988, "comment_id": 95058855, "body": "Just run the substitutions directly in Perl, no need to shell out to sed. It will be faster anyway."}], "answers": [{"comments": [{"owner": {"reputation": 35, "user_id": 10890263, "user_type": "registered", "profile_image": "https://lh3.googleusercontent.com/-o1WZ5aounP0/AAAAAAAAAAI/AAAAAAAAAtQ/nB5YRja5GWE/photo.jpg?sz=128", "display_name": "Philip Ankrah", "link": "https://stackoverflow.com/users/10890263/philip-ankrah"}, "edited": false, "score": 0, "creation_date": 1547053987, "post_id": 54113267, "comment_id": 95063174, "body": "Hey thanks for your help! it was really detailed and I learned from it. One more question. what sed command can i use to remove a particular string from the text?"}, {"owner": {"reputation": 3509, "user_id": 4243840, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/aaeabd769bae1bf82fd4b8882fed6653?s=128&d=identicon&r=PG", "display_name": "JGNI", "link": "https://stackoverflow.com/users/4243840/jgni"}, "reply_to_user": {"reputation": 35, "user_id": 10890263, "user_type": "registered", "profile_image": "https://lh3.googleusercontent.com/-o1WZ5aounP0/AAAAAAAAAAI/AAAAAAAAAtQ/nB5YRja5GWE/photo.jpg?sz=128", "display_name": "Philip Ankrah", "link": "https://stackoverflow.com/users/10890263/philip-ankrah"}, "edited": false, "score": 0, "creation_date": 1547111974, "post_id": 54113267, "comment_id": 95082102, "body": "You can use the substitute command with a blanc substitution like the second of your sed commands"}], "tags": [], "owner": {"reputation": 3509, "user_id": 4243840, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/aaeabd769bae1bf82fd4b8882fed6653?s=128&d=identicon&r=PG", "display_name": "JGNI", "link": "https://stackoverflow.com/users/4243840/jgni"}, "is_accepted": true, "score": 0, "last_activity_date": 1547047726, "last_edit_date": 1547047726, "creation_date": 1547047204, "answer_id": 54113267, "question_id": 54112988, "link": "https://stackoverflow.com/questions/54112988/how-do-i-incorporate-sed-commands-to-perl-script/54113267#54113267", "title": "How do I incorporate sed commands to perl script?", "body": "<p>OK so your sed commands are changing the length of the text, so you really need to be doing the alterations before formatting the output, so it really needs doing between the <code>defined $content ...</code> and <code>my $string ...</code> lines.</p>\n\n<p>The sed commands are doing multiple selections across each line of the document. This can be done directly in Perl with a few tweaks to go from sed regex to Perl regex</p>\n\n<pre><code>$content =~ s/^/20181230,/gm; # The m option makes ^ match at the start of each line\n$content =~ s/,2018-12-3[0-9]T[0-9][0-9]:[0-9][0-9]:[0-9][0-9]\\+0000//g;\n$content =~ s/([A-Z][A-Z][A-Z]),[0-9]*\\.[0-9][0-9][0-9][0-9]/$1/g;\n</code></pre>\n\n<p>Then you can format the content and print it to your final file.</p>\n"}], "owner": {"reputation": 35, "user_id": 10890263, "user_type": "registered", "profile_image": "https://lh3.googleusercontent.com/-o1WZ5aounP0/AAAAAAAAAAI/AAAAAAAAAtQ/nB5YRja5GWE/photo.jpg?sz=128", "display_name": "Philip Ankrah", "link": "https://stackoverflow.com/users/10890263/philip-ankrah"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 38, "favorite_count": 0, "accepted_answer_id": 54113267, "answer_count": 1, "score": 0, "last_activity_date": 1547047726, "creation_date": 1547046182, "last_edit_date": 1547046730, "question_id": 54112988, "link": "https://stackoverflow.com/questions/54112988/how-do-i-incorporate-sed-commands-to-perl-script", "title": "How do I incorporate sed commands to perl script?", "body": "<p>I am trying to incorporate these basic sed commands into my perl script. </p>\n\n<pre><code>sed \"1,$s/^/20181230,/g\" usd_jan_ora.txt &gt; u2_1231.txt\nsed \"1,$s/,2018-12-3[0-9]T[0-9][0-9]:[0-9][0-9]:[0-9][0-9]+0000//g\" u2_1231.txt &gt; u3_1231.txt\nsed \"1,$s/\\([A-Z][A-Z][A-Z]\\),[0-9]*\\.[0-9][0-9][0-9][0-9]/\\1/g\" u3_1231.txt &gt; u4_1231.txt\n</code></pre>\n\n<p>Although there have been multiple posts about this, I am still new to perl and I have difficulty translating those answers to my specific problem. </p>\n\n<p>So far I have written this script to navigate to a url and download the webpage as txt file. Now I need to edit this text file to the format needed for the next step. </p>\n\n<pre><code>use strict;\nuse warnings;\nuse HTML::FormatText;\nuse LWP::Simple;\n\n\nmy      $dateField = 'date=2018-12-31';\nmy      $currency  = \"USD\";\nmy      $filename = 'C:\\Users\\My.Name\\Downloads\\doc3.txt';\nmy      $address = \"my.url\";\nmy      $content = get($address);\n\nmy $s = 1;\n\ndefined $content or die \"Cannot read '$address': $!\";\n\nmy $string = HTML::FormatText-&gt;format_string\n(\n    $content,\n    leftmargin  =&gt;  5,\n    rightmargin =&gt; 75,\n);\n\nopen(my $file, '&gt;', $filename) or die $!;\nprint $file $string;\n\nmy $cmd = \"sed '1,$s/^/20181230,/g' doc3.txt &gt; test.txt\";\n\nprint \"Launching [$cmd]\\n\";\n\nsystem($cmd) == 0\n    or die \"Couldn't launch [$cmd]: $! / $?\";\n</code></pre>\n"}, {"tags": ["perl", "debugging", "package"], "answers": [{"comments": [{"owner": {"reputation": 105, "user_id": 8064295, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/605a5080ebf3a877a665fc1ab94d3694?s=128&d=identicon&r=PG&f=1", "display_name": "xksyvone", "link": "https://stackoverflow.com/users/8064295/xksyvone"}, "edited": false, "score": 0, "creation_date": 1547044879, "post_id": 54112424, "comment_id": 95057373, "body": "Yes, i can see all the loaded files, but has no any files i concerned. All pm files i concerned will be loaded when execution, but the call stack is very complex.  If there is a simple way to set break point in my concerned files?"}, {"owner": {"reputation": 110113, "user_id": 168657, "user_type": "registered", "accept_rate": 92, "profile_image": "https://www.gravatar.com/avatar/f14e7610fca39322ebbf23530def15f8?s=128&d=identicon&r=PG", "display_name": "mob", "link": "https://stackoverflow.com/users/168657/mob"}, "edited": false, "score": 0, "creation_date": 1547045858, "post_id": 54112424, "comment_id": 95058063, "body": "winnie, <code>f ...</code> only works with files that have already been loaded and compiled, either visible in <code>%INC</code> or in the keys that start with <code>_&lt;</code> in the <code>main::</code> stash (<code>x grep&#47;^_&lt;&#47;,keys %main::</code>). If your script loads files at runtime, you can&#39;t use <code>f ...</code> with those files until after they have been loaded."}, {"owner": {"reputation": 105, "user_id": 8064295, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/605a5080ebf3a877a665fc1ab94d3694?s=128&d=identicon&r=PG&f=1", "display_name": "xksyvone", "link": "https://stackoverflow.com/users/8064295/xksyvone"}, "edited": false, "score": 0, "creation_date": 1547045999, "post_id": 54112424, "comment_id": 95058155, "body": "Thanks. So it is difficult for me to debug these pm files. Or if i can add debug code in pm files like python?"}, {"owner": {"reputation": 110113, "user_id": 168657, "user_type": "registered", "accept_rate": 92, "profile_image": "https://www.gravatar.com/avatar/f14e7610fca39322ebbf23530def15f8?s=128&d=identicon&r=PG", "display_name": "mob", "link": "https://stackoverflow.com/users/168657/mob"}, "edited": false, "score": 0, "creation_date": 1547046030, "post_id": 54112424, "comment_id": 95058175, "body": "You can set <code>$DB::single = 1</code> inside the files to set a break point, even in compile-time code."}, {"owner": {"reputation": 105, "user_id": 8064295, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/605a5080ebf3a877a665fc1ab94d3694?s=128&d=identicon&r=PG&f=1", "display_name": "xksyvone", "link": "https://stackoverflow.com/users/8064295/xksyvone"}, "edited": false, "score": 0, "creation_date": 1547134565, "post_id": 54112424, "comment_id": 95095359, "body": "It works when i only add one break point. But if i added several $DB::Single = 1 into two pm files, only one $DB::Single = 1 works, the related code of other non-work $DB::Single is exactly executed."}], "tags": [], "owner": {"reputation": 3509, "user_id": 4243840, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/aaeabd769bae1bf82fd4b8882fed6653?s=128&d=identicon&r=PG", "display_name": "JGNI", "link": "https://stackoverflow.com/users/4243840/jgni"}, "is_accepted": false, "score": 3, "last_activity_date": 1547046226, "last_edit_date": 1547046226, "creation_date": 1547044311, "answer_id": 54112424, "question_id": 54112214, "link": "https://stackoverflow.com/questions/54112214/how-to-set-break-point-in-specific-file-using-perl-d/54112424#54112424", "title": "how to set break point in specific file using &#39;perl -d&#39;", "body": "<p>You can see all the files loaded into your program with the command</p>\n\n<pre><code>x values %INC\n</code></pre>\n\n<p><strong>Edit</strong></p>\n\n<p>the b command in the debugger takes several options.</p>\n\n<ul>\n<li><code>b load *filename*</code> breaks when the file is loaded</li>\n<li><code>b compile *subname*</code> breaks when the subroutine is compiled</li>\n<li><code>b postpone *subname*</code> will put a breakpoint on a subroutine that doesn't currently exist.</li>\n</ul>\n"}, {"tags": [], "owner": {"reputation": 771, "user_id": 2341905, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/4fe2ad0aa854994945f9f1829e794231?s=128&d=identicon&r=PG", "display_name": "Rajen", "link": "https://stackoverflow.com/users/2341905/rajen"}, "is_accepted": false, "score": 1, "last_activity_date": 1557220367, "creation_date": 1557220367, "answer_id": 56019248, "question_id": 54112214, "link": "https://stackoverflow.com/questions/54112214/how-to-set-break-point-in-specific-file-using-perl-d/56019248#56019248", "title": "how to set break point in specific file using &#39;perl -d&#39;", "body": "<p>If your framework is trying to emulate the Object oriented approach and the perl file is used as package, then you can try below option:</p>\n\n<pre><code>DB&lt;1&gt; use &lt;package_name_of_file&gt;\nDB&lt;2&gt; b &lt;package_name_of_file&gt;::sub_routine_where_you_want_to_break\n</code></pre>\n\n<p>It worked for me when <code>b postpone</code> and <code>f &lt;file_name&gt;</code> were not working to debug a routine which was going to be loaded at much later point in time. </p>\n"}], "owner": {"reputation": 105, "user_id": 8064295, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/605a5080ebf3a877a665fc1ab94d3694?s=128&d=identicon&r=PG&f=1", "display_name": "xksyvone", "link": "https://stackoverflow.com/users/8064295/xksyvone"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 142, "favorite_count": 0, "answer_count": 2, "score": 2, "last_activity_date": 1557220367, "creation_date": 1547043649, "question_id": 54112214, "link": "https://stackoverflow.com/questions/54112214/how-to-set-break-point-in-specific-file-using-perl-d", "title": "how to set break point in specific file using &#39;perl -d&#39;", "body": "<h2>I used the following command to debug program.</h2>\n\n<p>perl -d -I \"./Dev/lib/\" -I \"./TestCases/Dev/\" ./Dev/bin/mytest.pl</p>\n\n<p>I want to use 'perl -d ' to debug mytest.pl, and there are many *.pm files. I want to  use 'f *.pm' to load this pm file and set a break in this pm file, but it shows 'No file matching'. I give the full path of this pm file and the path exactly exists. </p>\n\n<pre><code>DB&lt;4&gt; f /automation_code/TestCases/Tests/Dev/testcase1.pm\n\nNo file matching '/automation_code/TestCases/Tests/Dev/testcase1.pm' is loaded.\n</code></pre>\n\n<p>But if i give the path composed by ./Dev/bin, it will be loaded successfully.</p>\n\n<pre><code>DB&lt;2&gt; f /automation_code/Dev/bin/../lib/Setup.pm\n\n\n\nDB&lt;3&gt; f /automation_code/Dev/lib/Setup.pm\n\nNo file matching '/automation_code/Dev/lib/Setup.pm' is loaded.\n</code></pre>\n"}, {"tags": ["perl", "catalyst", "dbix-class"], "comments": [{"owner": {"reputation": 3649, "user_id": 10404329, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/489c51b790b37922d4e80d59b9873cec?s=128&d=identicon&r=PG", "display_name": "Corion", "link": "https://stackoverflow.com/users/10404329/corion"}, "edited": false, "score": 2, "creation_date": 1547041737, "post_id": 54111344, "comment_id": 95055322, "body": "Just use <code>my ($res) = ...-&gt;search(...);</code> or <code>-&gt;search(...)-&gt;slice(1)</code>"}, {"owner": {"reputation": 50468, "user_id": 1331451, "user_type": "registered", "accept_rate": 96, "profile_image": "https://i.stack.imgur.com/4ZPmj.png?s=128&g=1", "display_name": "simbabque", "link": "https://stackoverflow.com/users/1331451/simbabque"}, "edited": false, "score": 0, "creation_date": 1547041806, "post_id": 54111344, "comment_id": 95055368, "body": "Or <code>my $res = ...-&gt;search(...)-&gt;first;</code>"}, {"owner": {"reputation": 401, "user_id": 4748387, "user_type": "registered", "accept_rate": 33, "profile_image": "https://i.stack.imgur.com/h8kAO.jpg?s=128&g=1", "display_name": "K&#233;rdez&#246;sk&#246;d\u0151 Indi&#225;n", "link": "https://stackoverflow.com/users/4748387/k%c3%a9rdez%c3%b6sk%c3%b6d%c5%91-indi%c3%a1n"}, "edited": false, "score": 0, "creation_date": 1547042505, "post_id": 54111344, "comment_id": 95055789, "body": "I tested each of the mentioned solutions and they are working. I will use the first one. Thank you."}], "answers": [{"comments": [{"owner": {"reputation": 401, "user_id": 4748387, "user_type": "registered", "accept_rate": 33, "profile_image": "https://i.stack.imgur.com/h8kAO.jpg?s=128&g=1", "display_name": "K&#233;rdez&#246;sk&#246;d\u0151 Indi&#225;n", "link": "https://stackoverflow.com/users/4748387/k%c3%a9rdez%c3%b6sk%c3%b6d%c5%91-indi%c3%a1n"}, "edited": false, "score": 0, "creation_date": 1547103341, "post_id": 54114343, "comment_id": 95078161, "body": "Alexander, you are right. I checked the DB and I can see my statement. It is still open. That means, I have to add a new ResultSet class, extended with this <b>one_row</b>, what uses the generated Result class. Correct? The Result class was generated by Catalyst."}, {"owner": {"reputation": 1853, "user_id": 1005136, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/9fa4e79e60474302c8225172649cbd35?s=128&d=identicon&r=PG", "display_name": "Alexander Hartmaier", "link": "https://stackoverflow.com/users/1005136/alexander-hartmaier"}, "reply_to_user": {"reputation": 401, "user_id": 4748387, "user_type": "registered", "accept_rate": 33, "profile_image": "https://i.stack.imgur.com/h8kAO.jpg?s=128&g=1", "display_name": "K&#233;rdez&#246;sk&#246;d\u0151 Indi&#225;n", "link": "https://stackoverflow.com/users/4748387/k%c3%a9rdez%c3%b6sk%c3%b6d%c5%91-indi%c3%a1n"}, "edited": false, "score": 0, "creation_date": 1547121167, "post_id": 54114343, "comment_id": 95087440, "body": "I have a base class for both all Result and ResultSet classes where I load all components etc. The base Result class sets the base ResultSet class which I override in those Result classes that have a specific ResultSet class. I&#39;d recomment to load Helper instead of implementing it yourself because basically everything in there is DBIC best practise."}, {"owner": {"reputation": 401, "user_id": 4748387, "user_type": "registered", "accept_rate": 33, "profile_image": "https://i.stack.imgur.com/h8kAO.jpg?s=128&g=1", "display_name": "K&#233;rdez&#246;sk&#246;d\u0151 Indi&#225;n", "link": "https://stackoverflow.com/users/4748387/k%c3%a9rdez%c3%b6sk%c3%b6d%c5%91-indi%c3%a1n"}, "edited": false, "score": 0, "creation_date": 1547121713, "post_id": 54114343, "comment_id": 95087716, "body": "Could sketch such a class pair for a simple test table?"}], "tags": [], "owner": {"reputation": 1853, "user_id": 1005136, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/9fa4e79e60474302c8225172649cbd35?s=128&d=identicon&r=PG", "display_name": "Alexander Hartmaier", "link": "https://stackoverflow.com/users/1005136/alexander-hartmaier"}, "is_accepted": false, "score": 0, "last_activity_date": 1547050871, "creation_date": 1547050871, "answer_id": 54114343, "question_id": 54111344, "link": "https://stackoverflow.com/questions/54111344/using-or-clause-inside-of-find/54114343#54114343", "title": "Using OR clause inside of find()", "body": "<p>Either by using the <code>one_row</code> method from the highly recommended <a href=\"https://metacpan.org/pod/DBIx::Class::Helper::ResultSet::OneRow\" rel=\"nofollow noreferrer\">DBIx::Class::Helper</a> distribution or by copying its code.</p>\n\n<p><code>first</code> shouldn't be used because it keeps the database statement handle open.</p>\n"}], "owner": {"reputation": 401, "user_id": 4748387, "user_type": "registered", "accept_rate": 33, "profile_image": "https://i.stack.imgur.com/h8kAO.jpg?s=128&g=1", "display_name": "K&#233;rdez&#246;sk&#246;d\u0151 Indi&#225;n", "link": "https://stackoverflow.com/users/4748387/k%c3%a9rdez%c3%b6sk%c3%b6d%c5%91-indi%c3%a1n"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 63, "favorite_count": 0, "answer_count": 1, "score": 1, "last_activity_date": 1547208784, "creation_date": 1547040711, "last_edit_date": 1547208784, "question_id": 54111344, "link": "https://stackoverflow.com/questions/54111344/using-or-clause-inside-of-find", "title": "Using OR clause inside of find()", "body": "<p>I need to fetch a single row from database table using DBIx::Class when one of the two descriptor columns is like a provided data.</p>\n\n<p>My SQL select looks like this:</p>\n\n<pre><code>select id from products where (code = 'VALUE' or description like '%VALUE%')\n</code></pre>\n\n<p>The table has unique constraint what ensures me that only one row exists for the VALUE.</p>\n\n<p>How can I formulate this SQL using DBIx::Class?</p>\n\n<p>The following code returns me the value <strong>1</strong> but not the correct data:</p>\n\n<pre><code>my $param = 'VALUE';\nmy $res = $c-&gt;stash-&gt;{products_rs}-&gt;search(\n    -or =&gt; [\n        { code =&gt; { '=', $param } },{ description =&gt; { 'like', '%'.$param.'%' } }\n    ],\n);\n</code></pre>\n\n<p>I should use the <strong>find</strong> method to return a single row but then I can not use the <strong>-or</strong> clause.</p>\n\n<p>Any suggestion?</p>\n\n<hr>\n\n<p>Hi, I am back. I decided to create myself the classes. First the schema class:</p>\n\n<pre><code>package prod::Schema;\nuse utf8;\nuse Moose;\nuse MooseX::MarkAsMethods autoclean =&gt; 1;\nextends 'DBIx::Class::Schema';\n__PACKAGE__-&gt;load_namespaces(\n    default_resultset_class =&gt; 'ResultSet',\n);\n__PACKAGE__-&gt;meta-&gt;make_immutable(inline_constructor =&gt; 0);\n1;\n</code></pre>\n\n<p>I am using a base Result class for my table:</p>\n\n<pre><code>package prod::Schema::Result;\nuse strict;\nuse warnings;\nuse base qw( DBIx::Class::Core );\n__PACKAGE__-&gt;load_components(\n    \"InflateColumn::DateTime\", \n    \"TimeStamp\", \n    \"EncodedColumn\"\n);\n1;\n</code></pre>\n\n<p>Each table then uses a ResultSet base class:</p>\n\n<pre><code>package prod::Schema::ResultSet;\nuse strict;\nuse warnings;\nuse base qw( DBIx::Class::ResultSet );\n__PACKAGE__-&gt;load_components('Helper::ResultSet::OneRow');\n1;\n</code></pre>\n\n<p>and the Product class itself:</p>\n\n<pre><code>package prod::Schema::Result::Products;\nuse strict;\nuse warnings;\nuse utf8;\nuse Moose;\nuse MooseX::NonMoose;\nuse MooseX::MarkAsMethods autoclean =&gt; 1;\nextends 'prod::Schema::Result';\n__PACKAGE__-&gt;table(\"prod.products\");\n__PACKAGE__-&gt;add_columns(\"id\",  {\n    data_type =&gt; \"uuid\",\n    default_value =&gt; \\\"uuid_generate_v4()\",\n    is_nullable =&gt; 0,\n    size =&gt; 16,\n}, \"code\", {\n    data_type =&gt; \"varchar\", is_nullable =&gt; 0, size =&gt; 2\n}, \"name\", {\n    data_type =&gt; \"varchar\", is_nullable =&gt; 0, size =&gt; 128 },\n);\n__PACKAGE__-&gt;set_primary_key(\"id\");\n__PACKAGE__-&gt;add_unique_constraint(\"uk_products_code\", [\"code\"]);\n__PACKAGE__-&gt;meta-&gt;make_immutable;\n1;\n</code></pre>\n\n<p>The application uses this model class:</p>\n\n<pre><code>package prod::Model::DB_T;\nuse strict;\nuse base 'Catalyst::Model::DBIC::Schema';\n__PACKAGE__-&gt;config(\n    schema_class =&gt; 'prod::Schema',\n    connect_info =&gt; {\n        dsn =&gt; 'dbi:Pg:dbname=p12;host=localhost',\n        user =&gt; 'username',\n        password =&gt; 'password',\n        AutoCommit =&gt; q{1},\n    }\n);\n1;\n</code></pre>\n\n<p>The Root is this:</p>\n\n<pre><code>package prod::Controller::Root;\nuse Moose;\nuse namespace::autoclean;\nuse Data::Dumper;\nBEGIN { extends 'Catalyst::Controller' }\n__PACKAGE__-&gt;config(namespace =&gt; '');\nsub index :Path :Args(0) {\n    my ($self, $c) = @_;\n    my $Products = $c-&gt;model('DB_T::Products');\n    my $product = $Products-&gt;search(\n        -or =&gt; [\n        { code =&gt; { '=', 'x' } },{ name =&gt; { 'like', '%'.'X'.'%' } }\n        ],\n    )-&gt;one_row;\n    my $str = ''.$product-&gt;name;\n    $c-&gt;response-&gt;body('product: '.$str);\n}\nsub default :Path {\n    my ($self, $c) = @_;\n    $c-&gt;response-&gt;body('Page not found');\n    $c-&gt;response-&gt;status(404);\n}\nsub end : ActionClass('RenderView') {}\n__PACKAGE__-&gt;meta-&gt;make_immutable;\n1;\n</code></pre>\n\n<p>Now, I am using this <strong>one_row</strong> from that helper class, I do get the wanted result but the SQL statement remains open till I shutdown the application.</p>\n\n<p>@Alexander Hartmaier you said that I should avoid this. But how? What is wrong with this code?</p>\n"}, {"tags": ["perl"], "comments": [{"owner": {"reputation": 3649, "user_id": 10404329, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/489c51b790b37922d4e80d59b9873cec?s=128&d=identicon&r=PG", "display_name": "Corion", "link": "https://stackoverflow.com/users/10404329/corion"}, "edited": false, "score": 2, "creation_date": 1547037728, "post_id": 54110234, "comment_id": 95052880, "body": "That number is the memory address of the data structure. It will change between process runs. If you see the same number, that&#39;s luck or coincidence. Referencing that number from another script makes no sense. If you want to copy data between two scripts, see <a href=\"http://perldoc.perl.org/perlipc.html\" rel=\"nofollow noreferrer\">perlipc</a>"}, {"owner": {"reputation": 32176, "user_id": 2173773, "user_type": "registered", "accept_rate": 86, "profile_image": "https://i.stack.imgur.com/M8yh6.jpg?s=128&g=1", "display_name": "H&#229;kon H&#230;gland", "link": "https://stackoverflow.com/users/2173773/h%c3%a5kon-h%c3%a6gland"}, "edited": false, "score": 0, "creation_date": 1547037786, "post_id": 54110234, "comment_id": 95052912, "body": "Why not save the address in a scalar variable <code>my $hashref = \\%MyHash</code>?"}, {"owner": {"user_type": "does_not_exist", "display_name": "user5306780"}, "reply_to_user": {"reputation": 32176, "user_id": 2173773, "user_type": "registered", "accept_rate": 86, "profile_image": "https://i.stack.imgur.com/M8yh6.jpg?s=128&g=1", "display_name": "H&#229;kon H&#230;gland", "link": "https://stackoverflow.com/users/2173773/h%c3%a5kon-h%c3%a6gland"}, "edited": false, "score": 0, "creation_date": 1547038210, "post_id": 54110234, "comment_id": 95053182, "body": "@H&#229;konH&#230;gland jeg vil henvende meg til en bestemt minneadress i et annet script. Lagring er ikke noe problem. Takk for oppmeksomheten din."}, {"owner": {"reputation": 32176, "user_id": 2173773, "user_type": "registered", "accept_rate": 86, "profile_image": "https://i.stack.imgur.com/M8yh6.jpg?s=128&g=1", "display_name": "H&#229;kon H&#230;gland", "link": "https://stackoverflow.com/users/2173773/h%c3%a5kon-h%c3%a6gland"}, "edited": false, "score": 1, "creation_date": 1547038684, "post_id": 54110234, "comment_id": 95053500, "body": "@Kr.Sin You can also obtain the address using <code>refaddr</code> in <a href=\"https://metacpan.org/pod/Scalar::Util#refaddr\" rel=\"nofollow noreferrer\"><code>Scalar::Util</code></a>"}, {"owner": {"reputation": 50468, "user_id": 1331451, "user_type": "registered", "accept_rate": 96, "profile_image": "https://i.stack.imgur.com/4ZPmj.png?s=128&g=1", "display_name": "simbabque", "link": "https://stackoverflow.com/users/1331451/simbabque"}, "edited": false, "score": 4, "creation_date": 1547040599, "post_id": 54110234, "comment_id": 95054708, "body": "Please communicate in English here."}, {"owner": {"reputation": 62184, "user_id": 7231, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/81b76985f3985e35492e25880493d045?s=128&d=identicon&r=PG", "display_name": "Dave Cross", "link": "https://stackoverflow.com/users/7231/dave-cross"}, "edited": false, "score": 1, "creation_date": 1547044522, "post_id": 54110234, "comment_id": 95057123, "body": "If you use <code>Print \\%MyHash</code>, the only output you will get is a syntax error. I expect you mean <code>print \\%MyHash</code>. Please take more care over the information that you give us."}, {"owner": {"user_type": "does_not_exist", "display_name": "user5306780"}, "reply_to_user": {"reputation": 62184, "user_id": 7231, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/81b76985f3985e35492e25880493d045?s=128&d=identicon&r=PG", "display_name": "Dave Cross", "link": "https://stackoverflow.com/users/7231/dave-cross"}, "edited": false, "score": 0, "creation_date": 1547045437, "post_id": 54110234, "comment_id": 95057757, "body": "@DaveCross yes now i see it. Sorry but i have Print implemented on my own that is why it works for me. Sorry that made it unnecessarily dependent on my code base. I altered my question."}], "answers": [{"comments": [{"owner": {"user_type": "does_not_exist", "display_name": "user5306780"}, "edited": false, "score": 0, "creation_date": 1547037913, "post_id": 54110434, "comment_id": 95052994, "body": "I clearly understand that this is very much inconvenient but i would like to know how can i refer to address in the memory. Thank you for your attention though."}, {"owner": {"reputation": 3649, "user_id": 10404329, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/489c51b790b37922d4e80d59b9873cec?s=128&d=identicon&r=PG", "display_name": "Corion", "link": "https://stackoverflow.com/users/10404329/corion"}, "edited": false, "score": 1, "creation_date": 1547038717, "post_id": 54110434, "comment_id": 95053519, "body": "@Kr.Sin Accessing the memory of another process depends very much on your operating system. Again, for copying information between processes, see <code>perlipc</code> or shmem or <code>mmap()</code>"}, {"owner": {"user_type": "does_not_exist", "display_name": "user5306780"}, "edited": false, "score": 0, "creation_date": 1547038825, "post_id": 54110434, "comment_id": 95053591, "body": "Thank you Corion please what should i do with the question now? Delete it?"}], "tags": [], "owner": {"reputation": 1110, "user_id": 9749458, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/001ed2d47a01593ee5c6463c2f5fe224?s=128&d=identicon&r=PG&f=1", "display_name": "Dave Mitchell", "link": "https://stackoverflow.com/users/9749458/dave-mitchell"}, "is_accepted": false, "score": 3, "last_activity_date": 1547037750, "creation_date": 1547037750, "answer_id": 54110434, "question_id": 54110234, "link": "https://stackoverflow.com/questions/54110234/how-to-assign-hash-with-predefined-hash-value-in-perl/54110434#54110434", "title": "How to assign hash with predefined hash value in Perl?", "body": "<p>The hex number is just the address where the hash variable happens to reside in memory. It can and will change with different releases of perl, and different releases of the operating system, or with minor changes in the execution of the code. It cannot be relied upon being the same across scripts, and perl provides no facility to convert an address back into a variable.</p>\n"}, {"tags": [], "owner": {"reputation": 320771, "user_id": 589924, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/b2cf53d5a3d25f95c0db4e025aed4153?s=128&d=identicon&r=PG", "display_name": "ikegami", "link": "https://stackoverflow.com/users/589924/ikegami"}, "is_accepted": false, "score": 1, "last_activity_date": 1547098227, "last_edit_date": 1547098227, "creation_date": 1547097534, "answer_id": 54122339, "question_id": 54110234, "link": "https://stackoverflow.com/questions/54110234/how-to-assign-hash-with-predefined-hash-value-in-perl/54122339#54122339", "title": "How to assign hash with predefined hash value in Perl?", "body": "<p>It's the memory address of the hash.</p>\n\n<p>For example,</p>\n\n<pre><code>use Devel::Peek  qw( Dump );\nuse Scalar::Util qw( refaddr );\nmy %h;\nCORE::say(\\%h);\nCORE::say(sprintf(\"%x\", refaddr(\\%h)));\nDump(\\%h, 0);\n</code></pre>\n\n<p>could output</p>\n\n<pre class=\"lang-none prettyprint-override\"><code>HASH(0x1454af8)                   &lt;-- The stringification of the reference.\n1454af8                           &lt;-- The address of the referenced variable.\nSV = IV(0x1435eb0) at 0x1435ec0   &lt;-- The scalar passed to Dump...\n  REFCNT = 1\n  FLAGS = (TEMP,ROK)              &lt;-- ...is a reference...\n  RV = 0x1454af8                  &lt;-- ...and this is the address of the referenced variable.\n</code></pre>\n\n<p>Since each process has its own memory space, this value is useless outside of the process that generated it. You can't build a reference that references this hash from another process (and it wouldn't be safe to have to processes accessing the same hash if you could).</p>\n\n<hr>\n\n<blockquote>\n  <p>I receive the same output consistently during many executions.</p>\n</blockquote>\n\n<p>By the way, there's no guarantee of that. In fact, it's not the case on my system.</p>\n\n<pre><code>$ for q in 1 2 3; do perl -e'my %h; CORE::say(\\%h);'; done\nHASH(0x100c878)\nHASH(0x1a08758)\nHASH(0x45a31e8)\n</code></pre>\n"}], "owner": {"user_type": "does_not_exist", "display_name": "user5306780"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 89, "favorite_count": 1, "answer_count": 2, "score": 2, "last_activity_date": 1547098227, "creation_date": 1547037034, "last_edit_date": 1547045309, "question_id": 54110234, "link": "https://stackoverflow.com/questions/54110234/how-to-assign-hash-with-predefined-hash-value-in-perl", "title": "How to assign hash with predefined hash value in Perl?", "body": "<p>Suppose i have a hash variable in a Perl script. I print its value in following way:</p>\n\n<pre><code>print \\%MyHash;\n</code></pre>\n\n<p>and obtain following output:\nHASH(0x33fa1fc)</p>\n\n<p>I receive the same output consistently during many executions. For my prototyping purposes i would like to refer to this number in another script.</p>\n\n<p>How can I do it? Should I try something similar to this?</p>\n\n<pre><code>my %MyHash;\n$MyHash = Ox33fa1fc;\n</code></pre>\n"}, {"tags": ["perl", "hp-ux"], "answers": [{"comments": [{"owner": {"reputation": 1861, "user_id": 1961574, "user_type": "registered", "accept_rate": 64, "profile_image": "https://www.gravatar.com/avatar/184ac1de765a2428c4bbadfbf5beb517?s=128&d=identicon&r=PG&f=1", "display_name": "bluppfisk", "link": "https://stackoverflow.com/users/1961574/bluppfisk"}, "edited": false, "score": 0, "creation_date": 1547038469, "post_id": 54108636, "comment_id": 95053357, "body": "Thank you. So they don&#39;t point to the binaries in <code>&#47;opt&#47;perl32&#47;bin&#47;</code> at all?"}], "tags": [], "owner": {"reputation": 81, "user_id": 10748937, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/6299e62261af6bf8135ff9290b0da7da?s=128&d=identicon&r=PG", "display_name": "Tux", "link": "https://stackoverflow.com/users/10748937/tux"}, "is_accepted": false, "score": 6, "last_activity_date": 1547031660, "creation_date": 1547031660, "answer_id": 54108636, "question_id": 54106412, "link": "https://stackoverflow.com/questions/54106412/what-is-the-perl-dynamic-executable/54108636#54108636", "title": "What is the &#39;perl-dynamic&#39; executable", "body": "<pre><code>$ perl -V\n</code></pre>\nWill show you the details.\n\n<p>Both perl-static and perl-dynamic are built with the same configuration (at least for what I can see on my HP-UX 11.31) and both are built with <code>-Dusedl</code></p>\n\n<p><code>perl-static</code> is linked with <code>libperl.a</code> (or linked with all <code>.o</code> files), whereas <code>perl-dynamic</code> is linked using <code>libperl.so</code>. You can check the differences with <code>ldd perl-static</code> and <code>ldd perl-dynamic</code>.</p>\n\n<p>There is no functional difference</p>\n"}], "owner": {"reputation": 1861, "user_id": 1961574, "user_type": "registered", "accept_rate": 64, "profile_image": "https://www.gravatar.com/avatar/184ac1de765a2428c4bbadfbf5beb517?s=128&d=identicon&r=PG&f=1", "display_name": "bluppfisk", "link": "https://stackoverflow.com/users/1961574/bluppfisk"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 60, "favorite_count": 0, "answer_count": 1, "score": 1, "last_activity_date": 1547031660, "creation_date": 1547024523, "question_id": 54106412, "link": "https://stackoverflow.com/questions/54106412/what-is-the-perl-dynamic-executable", "title": "What is the &#39;perl-dynamic&#39; executable", "body": "<p>Investigating an issue with multiple Perl installations on our (HP UX IA64 system), I came across an executable called <code>perl-dynamic</code>. What is this and what exactly does it do?</p>\n\n<p>More importantly, how do I know which perl executable it actually points to (we have multiple versions mixing version numbers and architectures installed).</p>\n\n<pre class=\"lang-sh prettyprint-override\"><code>bash-4.4$ ll /usr/bin/perl    \nlrwxr-xr-x   1 root       sys             18 Jan  8 16:34 /usr/bin/perl -&gt; /opt/perl/bin/perl\nbash-4.4$ ll /opt/perl/bin/perl\nlrwxrwxrwx   1 bin        bin             14 Jan  8 16:45 /opt/perl/bin/perl -&gt; ./perl-dynamic\n</code></pre>\n\n<p>Is this a magical perl binary which decides which version and architecture to use?</p>\n"}, {"tags": ["perl"], "answers": [{"comments": [{"owner": {"reputation": 29, "user_id": 10618876, "user_type": "registered", "profile_image": "https://lh5.googleusercontent.com/-cZHRjEaJ_2U/AAAAAAAAAAI/AAAAAAAAWJc/cOcL5Lwn0LQ/photo.jpg?sz=128", "display_name": "Ravi J", "link": "https://stackoverflow.com/users/10618876/ravi-j"}, "edited": false, "score": 0, "creation_date": 1547025389, "post_id": 54106549, "comment_id": 95045514, "body": "is there any way to do this without using Text::Table extension? with basic perl commands"}, {"owner": {"reputation": 198290, "user_id": 1030675, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/957956ce51706d03f19a4dc85a767bb1?s=128&d=identicon&r=PG", "display_name": "choroba", "link": "https://stackoverflow.com/users/1030675/choroba"}, "reply_to_user": {"reputation": 29, "user_id": 10618876, "user_type": "registered", "profile_image": "https://lh5.googleusercontent.com/-cZHRjEaJ_2U/AAAAAAAAAAI/AAAAAAAAWJc/cOcL5Lwn0LQ/photo.jpg?sz=128", "display_name": "Ravi J", "link": "https://stackoverflow.com/users/10618876/ravi-j"}, "edited": false, "score": 1, "creation_date": 1547026310, "post_id": 54106549, "comment_id": 95046019, "body": "You can always read the source code of <a href=\"http://p3rl.org/Text::Table\" rel=\"nofollow noreferrer\">Text::Table</a> - just click on <a href=\"https://metacpan.org/source/SHLOMIF/Text-Table-1.133/lib/Text/Table.pm\" rel=\"nofollow noreferrer\">Source</a>."}, {"owner": {"reputation": 51521, "user_id": 2566198, "user_type": "registered", "accept_rate": 67, "profile_image": "https://i.stack.imgur.com/Y34ZA.jpg?s=128&g=1", "display_name": "Sobrique", "link": "https://stackoverflow.com/users/2566198/sobrique"}, "edited": false, "score": 1, "creation_date": 1547030244, "post_id": 54106549, "comment_id": 95048373, "body": "<code>sprintf</code> and <code>format</code> give you something similar, but they aren&#39;t dynamic in nature. You&#39;ll have to choose your column widths in advance (although you could maybe &#39;detect&#39; what the widest cell in a column would be, and use that)"}, {"owner": {"reputation": 29, "user_id": 10618876, "user_type": "registered", "profile_image": "https://lh5.googleusercontent.com/-cZHRjEaJ_2U/AAAAAAAAAAI/AAAAAAAAWJc/cOcL5Lwn0LQ/photo.jpg?sz=128", "display_name": "Ravi J", "link": "https://stackoverflow.com/users/10618876/ravi-j"}, "reply_to_user": {"reputation": 51521, "user_id": 2566198, "user_type": "registered", "accept_rate": 67, "profile_image": "https://i.stack.imgur.com/Y34ZA.jpg?s=128&g=1", "display_name": "Sobrique", "link": "https://stackoverflow.com/users/2566198/sobrique"}, "edited": false, "score": 0, "creation_date": 1547714562, "post_id": 54106549, "comment_id": 95288756, "body": "I am printing this data from on file to other will <code>sprintf</code> solution work with this scenario @Sobrique"}], "tags": [], "owner": {"reputation": 198290, "user_id": 1030675, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/957956ce51706d03f19a4dc85a767bb1?s=128&d=identicon&r=PG", "display_name": "choroba", "link": "https://stackoverflow.com/users/1030675/choroba"}, "is_accepted": false, "score": 3, "last_activity_date": 1547025313, "last_edit_date": 1547025313, "creation_date": 1547025002, "answer_id": 54106549, "question_id": 54106273, "link": "https://stackoverflow.com/questions/54106273/how-to-maintain-proper-column-spaces-while-printing-rows-of-a-text-file-in-perl/54106549#54106549", "title": "How to maintain proper column spaces while printing rows of a text file in perl", "body": "<p>That's what <a href=\"http://p3rl.org/Text::Table\" rel=\"nofollow noreferrer\">Text::Table</a> is for:</p>\n\n<pre><code>#!/usr/bin/perl\nuse warnings;\nuse strict;\n\nuse Text::Table;\n\nmy $table = 'Text::Table'-&gt;new;\n\nwhile (&lt;DATA&gt;) {\n    my @RowEdit = split ' ';\n    if ($RowEdit[0] eq 'R3') {\n        $RowEdit[2] .= 'HBB';\n    }\n    $table-&gt;add(@RowEdit);\n}\nprint $table;\nprint $. + 1, \"\\n\";\n\n__DATA__\nR1   X XA  0i  1i   H 0i\nR2   X XA  1i  1i   H 0i\nR3   X XA  1i  1i   H 0i\nR4   X XA  1i  1i   H 0i\nR5   X XA  1i  1i   H 0i\nR6   X XA  0i  0i   X 0i\n</code></pre>\n\n<p>Also note all the other small changes I made:</p>\n\n<ul>\n<li>No need to use a new variable to count lines. Perl already has <code>$.</code>.</li>\n<li><code>/s</code> changes the behaviour of <code>.</code> in a regex. It makes no sense to use it in a regex that doesn't contain a dot. Moreover, <code>eq</code> can be used for string equiality if there's only one string that matches the regex - it's easier to read and faster to run.</li>\n<li><a href=\"http://p3rl.org/split\" rel=\"nofollow noreferrer\">split</a> uses <code>$_</code> as the second argument if none is provided. Typing <code>$_</code> anywhere outside <code>grep</code> or <code>map</code> is a code smell - either it's something worth a name, or could be written without it.</li>\n<li>To append a string, you can use the <code>.=</code> operator.</li>\n</ul>\n"}, {"tags": [], "owner": {"reputation": 62184, "user_id": 7231, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/81b76985f3985e35492e25880493d045?s=128&d=identicon&r=PG", "display_name": "Dave Cross", "link": "https://stackoverflow.com/users/7231/dave-cross"}, "is_accepted": false, "score": 2, "last_activity_date": 1547045507, "last_edit_date": 1547045507, "creation_date": 1547033849, "answer_id": 54109253, "question_id": 54106273, "link": "https://stackoverflow.com/questions/54106273/how-to-maintain-proper-column-spaces-while-printing-rows-of-a-text-file-in-perl/54109253#54109253", "title": "How to maintain proper column spaces while printing rows of a text file in perl", "body": "<p>You can do this with <code>printf()</code>. But you need to make two passes over the data (as there's no way to know what the widest column width are until you have seen every data record).</p>\n\n<p>Something like this seems to do the trick.</p>\n\n<pre><code>#!/usr/bin/perl\n\nuse strict;\nuse warnings;\n\nmy @widths; # Store the max widths for each column\nmy @data;   # Store the actual data\n\nwhile (&lt;DATA&gt;) {\n  my @row;\n\n  # Use the first line to initialise the @widths array\n  if ($. == 1) {\n    @row = /(\\S+\\s*)/g;\n    @widths = map { length() - 1} @row; # Subtract 1 for gutter\n    @row = map { s/\\s+$//; $_ } @row;   # Remove trailing whitespace\n  } else {\n    @row = split;\n  }\n\n  # Split the data\n  my @row = split;\n  # Store the split data\n  push @data, \\@row;\n  # Make the (optional) transformation\n  $row[2] .= 'HBB' if $row[0] eq 'R3';\n\n  # Look at each column in this row of data and\n  # compare it to the widest data that we've previously\n  # seen in that column.\n  for my $i (0 .. $#row) {\n    $widths[$i] = length $row[$i]\n      if length $row[$i] &gt; ($widths[$i] // 0);\n  }\n}\n\n# Create a printf output format using the column\n# widths we've stored in @widths\nmy $fmt = join ' ', map { \"%-${_}s\" } @widths;\n\n# Use printf to display each line of data.\nprintf \"$fmt\\n\", @$_ for @data;\n\n__DATA__\nR1   X XA  0i  1i   H 0i\nR2   X XA  1i  1i   H 0i\nR3   X XA  1i  1i   H 0i\nR4   X XA  1i  1i   H 0i\nR5   X XA  1i  1i   H 0i\nR6   X XA  0i  0i   X 0i\n</code></pre>\n\n<p>The output is:</p>\n\n<pre><code>R1   X XA    0i  1i   H 0i\nR2   X XA    1i  1i   H 0i\nR3   X XAHBB 1i  1i   H 0i\nR4   X XA    1i  1i   H 0i\nR5   X XA    1i  1i   H 0i\nR6   X XA    0i  0i   X 0i\n</code></pre>\n\n<p>But I think the Text::Table solution is better :-)</p>\n"}, {"tags": [], "owner": {"reputation": 5181, "user_id": 8866606, "user_type": "registered", "profile_image": "https://lh6.googleusercontent.com/-Ao_wuU1YCUE/AAAAAAAAAAI/AAAAAAAAAtc/Nc6ExTtKE_A/photo.jpg?sz=128", "display_name": "Stefan Becker", "link": "https://stackoverflow.com/users/8866606/stefan-becker"}, "is_accepted": false, "score": 0, "last_activity_date": 1547127670, "last_edit_date": 1547127670, "creation_date": 1547100503, "answer_id": 54122790, "question_id": 54106273, "link": "https://stackoverflow.com/questions/54106273/how-to-maintain-proper-column-spaces-while-printing-rows-of-a-text-file-in-perl/54122790#54122790", "title": "How to maintain proper column spaces while printing rows of a text file in perl", "body": "<p>As this is one of the tasks Perl was originally written for (<a href=\"https://en.wikipedia.org/wiki/Perl\" rel=\"nofollow noreferrer\">Practical Extraction and Reporting Language</a>), then for completeness also good ol' plain Perl formats should be mentioned, see <code>man perlform</code>. E.g.</p>\n\n<pre><code>format STDOUT =\n@&lt;&lt;&lt;&lt;&lt; @ @&lt;&lt;&lt;&lt;, ....\n$col1, $col2, $col3, ...\n.\n\nfor my ... (...) {\n   # set $col1 .... and then\n   write\n}\n</code></pre>\n"}], "owner": {"reputation": 29, "user_id": 10618876, "user_type": "registered", "profile_image": "https://lh5.googleusercontent.com/-cZHRjEaJ_2U/AAAAAAAAAAI/AAAAAAAAWJc/cOcL5Lwn0LQ/photo.jpg?sz=128", "display_name": "Ravi J", "link": "https://stackoverflow.com/users/10618876/ravi-j"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 157, "favorite_count": 3, "answer_count": 3, "score": 2, "last_activity_date": 1547127670, "creation_date": 1547024014, "last_edit_date": 1547024763, "question_id": 54106273, "link": "https://stackoverflow.com/questions/54106273/how-to-maintain-proper-column-spaces-while-printing-rows-of-a-text-file-in-perl", "title": "How to maintain proper column spaces while printing rows of a text file in perl", "body": "<p>I am trying to edit few lines of my file and create new file with all modifications</p>\n\n<p>My lines are not in paragraph format, it looks something like this below, </p>\n\n<pre><code> R1   X XA  0i  1i   H 0i  \n R2   X XA  1i  1i   H 0i  \n R3   X XA  1i  1i   H 0i  \n R4   X XA  1i  1i   H 0i  \n R5   X XA  1i  1i   H 0i  \n R6   X XA  0i  0i   X 0i  \n</code></pre>\n\n<p>They clearly don't have equal spacing between each item in row, but they are aligned column basis.\nI wand to edit R3 3rd item from XA to XAHBB \nbut unable to maintain the column alignment</p>\n\n<pre><code>my $cur_line_num = 1;\nwhile(&lt;Sourcefile&gt;){\n            my @RowEdit = split (\" \",$_);\n               if($RowEdit[0]=~ m/^R3$/s){\n                  $RowEdit[2]=\"RowEdit[2]HBB\"\n               }\n            my $curr_line = join(\" \", @RowEdit)\n            print $newfile \"curr_line\\n\";\n          $cur_line_num++;\n\n}\nprint \"$cur_line_num\\n\";\n</code></pre>\n\n<p>My current output is as shown below</p>\n\n<pre><code> R1 X XA 0i 1i H 0i  \n R2 X XA 1i 1i H 0i  \n R3 X XAHBB 1i 1i H 0i  \n R4 X XA 1i 1i H 0i  \n R5 X XA 1i 1i H 0i  \n R6 X XA 0i 0i X 0i\n</code></pre>\n\n<p>Where as my expected output should look something like this below</p>\n\n<pre><code> R1   X XA    0i  1i   H 0i  \n R2   X XA    1i  1i   H 0i  \n R3   X XAHBB 1i  1i   H 0i  \n R4   X XA    1i  1i   H 0i  \n R5   X XA    1i  1i   H 0i  \n R6   X XA    0i  0i   X 0i\n</code></pre>\n\n<p>How to maintain column alignment while editing a file?</p>\n"}, {"tags": ["perl", "unix", "awk", "sed", "solaris"], "comments": [{"owner": {"reputation": 144799, "user_id": 2836621, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/suHg4.jpg?s=128&g=1", "display_name": "Mark Setchell", "link": "https://stackoverflow.com/users/2836621/mark-setchell"}, "edited": false, "score": 1, "creation_date": 1547022072, "post_id": 54105144, "comment_id": 95043787, "body": "Cool - that gets my prize for the maddest data storage method!"}], "answers": [{"comments": [{"owner": {"reputation": 53, "user_id": 10842759, "user_type": "registered", "profile_image": "https://lh6.googleusercontent.com/-tMaxGmTRYhg/AAAAAAAAAAI/AAAAAAAABN4/39toVPNi634/photo.jpg?sz=128", "display_name": "Jeevan Patil", "link": "https://stackoverflow.com/users/10842759/jeevan-patil"}, "edited": false, "score": 0, "creation_date": 1547025321, "post_id": 54106420, "comment_id": 95045475, "body": "Thanks .. It works perfectly :)"}], "tags": [], "owner": {"reputation": 144799, "user_id": 2836621, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/suHg4.jpg?s=128&g=1", "display_name": "Mark Setchell", "link": "https://stackoverflow.com/users/2836621/mark-setchell"}, "is_accepted": true, "score": 1, "last_activity_date": 1547024873, "last_edit_date": 1547024873, "creation_date": 1547024551, "answer_id": 54106420, "question_id": 54105144, "link": "https://stackoverflow.com/questions/54105144/need-to-convert-the-binary-values-to-numbers/54106420#54106420", "title": "need to convert the binary values to numbers", "body": "<p>This should work as <strong>Perl</strong> is pretty normal on Solaris:</p>\n\n<pre><code>perl -e '$s=16; foreach (&lt;&gt;=~m/.{2}/g){if($_==\"01\"){print \"$s,\"};$s++}' &lt; test.txt \n</code></pre>\n\n<p><strong>Output</strong></p>\n\n<pre><code>16,18,19,22,23,\n</code></pre>\n\n<p><strong>Explanation</strong></p>\n\n<p><code>$s</code> is just the starting value.</p>\n\n<p><code>foreach (&lt;&gt;=~m/.{2}/g)</code> splits <code>stdin</code> into groups of two characters and then iterates over them setting <code>$_</code> to each one in turn.</p>\n\n<p>The <code>if</code> checks if 2-digit string is <code>\"01\"</code> and prints <code>$s</code> if it is.</p>\n\n<p>Then <code>$s</code> is incremented whether the value was printed or not.</p>\n"}, {"tags": [], "owner": {"reputation": 61, "user_id": 10874800, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/tV5SR.jpg?s=128&g=1", "display_name": "ptc", "link": "https://stackoverflow.com/users/10874800/ptc"}, "is_accepted": false, "score": 1, "last_activity_date": 1547027674, "creation_date": 1547027674, "answer_id": 54107350, "question_id": 54105144, "link": "https://stackoverflow.com/questions/54105144/need-to-convert-the-binary-values-to-numbers/54107350#54107350", "title": "need to convert the binary values to numbers", "body": "<p>To solve your problem I'm going to assume that the number of fields is an even number and that the data values are either <code>00</code> or <code>01</code>.  If these assumptions are correct, then you could do something like this:</p>\n\n<pre><code>use strict;\nuse warnings;\n\nsub pairs_from_line {\n    my $line = shift;\n    my @elems = split(//, $line);\n\n    my @data;\n    while (@elems) {\n        push @data, join('', splice(@elems, 0, 2));\n    }\n\n    return @data;\n}\n\nmy $line = \"0100010100000101000000000000000000000000000000000000000000000000000000000000000000000000000000000000\";\nmy @data = pairs_from_line($line);\n\nmy $conversion = 16;\nmap { print \"$conversion,\" if ($_ == 1); $conversion++ } @data;\n</code></pre>\n\n<p>This code first converts the input data into a list of pairs (via the <code>pairs_from_line()</code> sub), from which we can convert the binary data into the output values you wish to have.  The function works as follows: it splits the input line into its individual elements (<a href=\"https://perldoc.perl.org/functions/split.html\" rel=\"nofollow noreferrer\"><code>split(//, $line)</code></a>) and creates an array of pairs of these elements by taking two elements at a time (<a href=\"https://perldoc.perl.org/functions/splice.html\" rel=\"nofollow noreferrer\"><code>splice(@elems, 0, 2)</code></a>) and then joining them together via <a href=\"https://perldoc.perl.org/functions/join.html\" rel=\"nofollow noreferrer\"><code>join()</code></a>.  The array of pairs is then returned.</p>\n\n<p>To create the output you want, it's just a matter of iterating over the array of pairs<sup>1</sup>, printing the value of the conversion factor if the pair evaluates to <code>1</code><sup>2</sup>, and updating the conversion factor for each pair as the array of pairs is processed.</p>\n\n<hr>\n\n<p><sup>1</sup> I've chosen to use a <a href=\"https://perldoc.perl.org/functions/map.html\" rel=\"nofollow noreferrer\"><code>map</code></a> here, but one could equivalently use a <a href=\"https://perldoc.perl.org/perlsyn.html#For-Loops\" rel=\"nofollow noreferrer\">C-style <code>for</code></a> loop to achieve the same result.</p>\n\n<p><sup>2</sup> Which is what the string <code>\"01\"</code> will resolve to if it is compared in numeric context, e.g. via the <code>==</code> operator as used in this case; see the <a href=\"https://perldoc.perl.org/perlop.html#Equality-Operators\" rel=\"nofollow noreferrer\">Perl documentation about equality operators</a> for more information about which operators to use in string or numeric context.</p>\n"}], "owner": {"reputation": 53, "user_id": 10842759, "user_type": "registered", "profile_image": "https://lh6.googleusercontent.com/-tMaxGmTRYhg/AAAAAAAAAAI/AAAAAAAABN4/39toVPNi634/photo.jpg?sz=128", "display_name": "Jeevan Patil", "link": "https://stackoverflow.com/users/10842759/jeevan-patil"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 63, "favorite_count": 0, "closed_date": 1547027363, "accepted_answer_id": 54106420, "answer_count": 2, "score": -1, "last_activity_date": 1547032146, "creation_date": 1547019084, "last_edit_date": 1547032146, "question_id": 54105144, "link": "https://stackoverflow.com/questions/54105144/need-to-convert-the-binary-values-to-numbers", "closed_reason": "Needs more focus", "title": "need to convert the binary values to numbers", "body": "<p>I have a file with below data</p>\n\n<pre><code>cat test.txt\n010001010000010100000000000000000000000000000000000000000000000000000000000000000000000000000000000\n</code></pre>\n\n<p>two fields in above line represents usage one digit starting from 16</p>\n\n<p>I want the the o/p in such that if 01 then it should print the digit, else put , and check next field. </p>\n\n<p>first two fields 01 means 16 is used so it should be printed in o/p file\n2nd two field 00 mean 17 is not used, so it should not be printed in o/p file\nans so on.</p>\n\n<p>Like wise there are 4000 fields, means 2000 digits starting from 16-2016</p>\n\n<p>For above line , need output like</p>\n\n<pre><code>16,18,19,22,23,\n</code></pre>\n\n<p>Here's what I have so far.</p>\n\n<pre><code>cat counter_mfd.txt | cut -d\\' -f2 | sed 's/.\\{2\\}/&amp; /g' | awk -F, '{a[$2]=$1;} END{for(i in a)print i\" \"a[i];}'\n</code></pre>\n\n<p>awk: record `00 00 00 00 00 00 00...' too long</p>\n"}, {"tags": ["perl", "unix", "find"], "comments": [{"owner": {"reputation": 13, "user_id": 10170449, "user_type": "registered", "profile_image": "https://graph.facebook.com/2544178898929487/picture?type=large", "display_name": "Alan Saldanha", "link": "https://stackoverflow.com/users/10170449/alan-saldanha"}, "edited": false, "score": 0, "creation_date": 1547013397, "post_id": 54103978, "comment_id": 95040382, "body": "find $mainResultPath -name &quot;netlist/config.txt&quot; DOESNT WORK ALSO"}], "answers": [{"comments": [{"owner": {"reputation": 13, "user_id": 10170449, "user_type": "registered", "profile_image": "https://graph.facebook.com/2544178898929487/picture?type=large", "display_name": "Alan Saldanha", "link": "https://stackoverflow.com/users/10170449/alan-saldanha"}, "edited": false, "score": 0, "creation_date": 1547014788, "post_id": 54104153, "comment_id": 95040792, "body": "just what i needed. Thanks!"}], "tags": [], "owner": {"reputation": 5181, "user_id": 8866606, "user_type": "registered", "profile_image": "https://lh6.googleusercontent.com/-Ao_wuU1YCUE/AAAAAAAAAAI/AAAAAAAAAtc/Nc6ExTtKE_A/photo.jpg?sz=128", "display_name": "Stefan Becker", "link": "https://stackoverflow.com/users/8866606/stefan-becker"}, "is_accepted": true, "score": 0, "last_activity_date": 1547015086, "last_edit_date": 1547015086, "creation_date": 1547014251, "answer_id": 54104153, "question_id": 54103978, "link": "https://stackoverflow.com/questions/54103978/seaching-for-a-file-inside-a-main-folder/54104153#54104153", "title": "Seaching for a file inside a main folder", "body": "<p>This should work:</p>\n\n<pre><code>find $mainResultPath -type d -name netlist | \\\n   xargs -I {} find {} -maxdepth 1 -type f -name config.txt\n</code></pre>\n\n<p>i.e. first filter out the <code>netlist</code> directories and then search in those for <code>config.txt</code> files.</p>\n\n<p>Example output from my test:</p>\n\n<pre><code>$\u00a0find $HOME/Documents -type f -name config.txt\n/home/.../Documents/Downloads/RFC/netlist/config.txt\n/home/.../Documents/config.txt\n/home/.../Documents/netlist/config.txt\n\n$ find $HOME/Documents -type d -name netlist\n/home/.../Documents/Downloads/RFC/netlist\n/home/.../Documents/Downloads/netlist\n/home/.../Documents/netlist\n\n$ find $HOME/Documents -type d -name netlist | xargs -I {} find {} -maxdepth 1 -name config.txt\n/home/.../Documents/Downloads/RFC/netlist/config.txt\n/home/.../Documents/netlist/config.txt\n</code></pre>\n\n<p><strong>EDIT 2:</strong> If you don't like the 2nd find, then this works too</p>\n\n<pre><code>$ find $HOME/Documents -type d -name netlist | \\\n     while read _d; do [ -f \"${_d}/config.txt\" ] &amp;&amp; echo \"${_d}/config.txt\"; done\n</code></pre>\n"}], "owner": {"reputation": 13, "user_id": 10170449, "user_type": "registered", "profile_image": "https://graph.facebook.com/2544178898929487/picture?type=large", "display_name": "Alan Saldanha", "link": "https://stackoverflow.com/users/10170449/alan-saldanha"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 37, "favorite_count": 0, "accepted_answer_id": 54104153, "answer_count": 1, "score": 0, "last_activity_date": 1547015086, "creation_date": 1547013074, "question_id": 54103978, "link": "https://stackoverflow.com/questions/54103978/seaching-for-a-file-inside-a-main-folder", "title": "Seaching for a file inside a main folder", "body": "<p>I have a main result folder inside which there are multiple <em>config.txt</em> files.\nHowever, i need to get the paths of only the <em>config.txt</em> files inside the <em>netlist</em> sub-folder, inside the main result folder, which is given.</p>\n\n<p>I have tried this code, but it didn't work out.</p>\n\n<pre><code>find $mainResultPath -name \"config.txt\"\n</code></pre>\n\n<p>Here is a snippet of the code assuming we are already in the <em>$mainResultPath</em>\n<a href=\"https://drive.google.com/open?id=1dq7YFUeNxxpbkrimGbvL9WLAGV9pgjsR\" rel=\"nofollow noreferrer\">Code snippet and reqd files ticked</a></p>\n"}, {"tags": ["perl", "config"], "answers": [{"comments": [{"owner": {"reputation": 110113, "user_id": 168657, "user_type": "registered", "accept_rate": 92, "profile_image": "https://www.gravatar.com/avatar/f14e7610fca39322ebbf23530def15f8?s=128&d=identicon&r=PG", "display_name": "mob", "link": "https://stackoverflow.com/users/168657/mob"}, "edited": false, "score": 0, "creation_date": 1547000490, "post_id": 54102381, "comment_id": 95037691, "body": "You could get that output if you fubared <code>$&#47;</code>"}, {"owner": {"reputation": 21, "user_id": 7987427, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/9ebb54e0f99912bca0b75da37c6ff350?s=128&d=identicon&r=PG&f=1", "display_name": "java learner", "link": "https://stackoverflow.com/users/7987427/java-learner"}, "edited": false, "score": 0, "creation_date": 1547002762, "post_id": 54102381, "comment_id": 95038058, "body": "This is my first program in perl I ll do well keeping this in mind thanks"}, {"owner": {"reputation": 53041, "user_id": 4653379, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/b3953dbedd0dabff5cbc3db9b0835b14?s=128&d=identicon&r=PG&f=1", "display_name": "zdim", "link": "https://stackoverflow.com/users/4653379/zdim"}, "reply_to_user": {"reputation": 110113, "user_id": 168657, "user_type": "registered", "accept_rate": 92, "profile_image": "https://www.gravatar.com/avatar/f14e7610fca39322ebbf23530def15f8?s=128&d=identicon&r=PG", "display_name": "mob", "link": "https://stackoverflow.com/users/168657/mob"}, "edited": false, "score": 0, "creation_date": 1547006120, "post_id": 54102381, "comment_id": 95038670, "body": "@mob Ah, yes! Added a comment"}, {"owner": {"reputation": 21, "user_id": 7987427, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/9ebb54e0f99912bca0b75da37c6ff350?s=128&d=identicon&r=PG&f=1", "display_name": "java learner", "link": "https://stackoverflow.com/users/7987427/java-learner"}, "edited": false, "score": 0, "creation_date": 1547009761, "post_id": 54102381, "comment_id": 95039416, "body": "not working for me please help i still get $VAR1 = {           &#39;rb_acc&#39; =&gt; &#39;country of account opening #,Global #,country_account_open rb_adv&#39;         };"}, {"owner": {"reputation": 53041, "user_id": 4653379, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/b3953dbedd0dabff5cbc3db9b0835b14?s=128&d=identicon&r=PG&f=1", "display_name": "zdim", "link": "https://stackoverflow.com/users/4653379/zdim"}, "reply_to_user": {"reputation": 21, "user_id": 7987427, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/9ebb54e0f99912bca0b75da37c6ff350?s=128&d=identicon&r=PG&f=1", "display_name": "java learner", "link": "https://stackoverflow.com/users/7987427/java-learner"}, "edited": false, "score": 0, "creation_date": 1547012217, "post_id": 54102381, "comment_id": 95040068, "body": "@javalearner Did you see the comment I added at the end? It seems that the global variable <code>$&#47;</code> is undefined somewhere else in your program (it can be directly set to <code>undef</code>, for example). Once that is done, any files that are read (anywhere in the program!) are read whole, not line by line. So look for that.  If you copy-paste the program I posted here, does it work as expected?"}, {"owner": {"reputation": 21, "user_id": 7987427, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/9ebb54e0f99912bca0b75da37c6ff350?s=128&d=identicon&r=PG&f=1", "display_name": "java learner", "link": "https://stackoverflow.com/users/7987427/java-learner"}, "edited": false, "score": 0, "creation_date": 1547012674, "post_id": 54102381, "comment_id": 95040195, "body": "Oh local $/ like that I have used in my other sub is that the issue how to define that $/"}, {"owner": {"reputation": 53041, "user_id": 4653379, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/b3953dbedd0dabff5cbc3db9b0835b14?s=128&d=identicon&r=PG&f=1", "display_name": "zdim", "link": "https://stackoverflow.com/users/4653379/zdim"}, "reply_to_user": {"reputation": 21, "user_id": 7987427, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/9ebb54e0f99912bca0b75da37c6ff350?s=128&d=identicon&r=PG&f=1", "display_name": "java learner", "link": "https://stackoverflow.com/users/7987427/java-learner"}, "edited": false, "score": 0, "creation_date": 1547012815, "post_id": 54102381, "comment_id": 95040238, "body": "@javalearner  Ah, there we go.  So: if you have <code>local $&#47;;</code> in your other sub then that makes <code>$&#47;</code> undefined <i>only in that sub</i> (more precisely, within the smallest scope it&#39;s in).   But, do you possibly have something like <code>$&#47; = undef;</code> somewhere (without <code>local</code>)?"}, {"owner": {"reputation": 53041, "user_id": 4653379, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/b3953dbedd0dabff5cbc3db9b0835b14?s=128&d=identicon&r=PG&f=1", "display_name": "zdim", "link": "https://stackoverflow.com/users/4653379/zdim"}, "reply_to_user": {"reputation": 21, "user_id": 7987427, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/9ebb54e0f99912bca0b75da37c6ff350?s=128&d=identicon&r=PG&f=1", "display_name": "java learner", "link": "https://stackoverflow.com/users/7987427/java-learner"}, "edited": false, "score": 0, "creation_date": 1547013162, "post_id": 54102381, "comment_id": 95040325, "body": "@javalearner  You <i>can</i> simply say <code>$&#47; = &quot;\\n&quot;;</code> at the beginning of this sub and it will work.  But you <i>really want to find</i> where <code>$&#47;</code> is messed with in a way so that it affects it in this sub."}, {"owner": {"reputation": 53041, "user_id": 4653379, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/b3953dbedd0dabff5cbc3db9b0835b14?s=128&d=identicon&r=PG&f=1", "display_name": "zdim", "link": "https://stackoverflow.com/users/4653379/zdim"}, "reply_to_user": {"reputation": 21, "user_id": 7987427, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/9ebb54e0f99912bca0b75da37c6ff350?s=128&d=identicon&r=PG&f=1", "display_name": "java learner", "link": "https://stackoverflow.com/users/7987427/java-learner"}, "edited": false, "score": 0, "creation_date": 1547013539, "post_id": 54102381, "comment_id": 95040410, "body": "@javalearner  The <a href=\"https://perldoc.perl.org/perlvar.html#%24/\" rel=\"nofollow noreferrer\"><code>$&#47;</code> variable</a> sets what the end-of-line is, loosely speaking. It&#39;s normally set to <code>&quot;\\n&quot;</code> of course.  So once it gets undefined, there is no end-of-line (so to say) so each file is just read whole, at once. This is what you do when you want to read the whole file into a scalar; but then you do <code>local $&#47;;</code> so that <code>$&#47;</code> is undefined only within the smallest scope in which that statement is (that&#39;s what <code>local</code> does).  Otherwise ... the <code>$&#47;</code> is a &quot;global&quot; variable so if you simply change it then it&#39;s changed in the whole program!"}], "tags": [], "owner": {"reputation": 53041, "user_id": 4653379, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/b3953dbedd0dabff5cbc3db9b0835b14?s=128&d=identicon&r=PG&f=1", "display_name": "zdim", "link": "https://stackoverflow.com/users/4653379/zdim"}, "is_accepted": true, "score": 2, "last_activity_date": 1547024053, "last_edit_date": 1547024053, "creation_date": 1546999918, "answer_id": 54102381, "question_id": 54102013, "link": "https://stackoverflow.com/questions/54102013/perl-to-read-the-config-value-properly-for-comma-separated-values/54102381#54102381", "title": "Perl to read the config value properly for comma separated values", "body": "<p>The one error is in the regex intended to remove comment lines: it needs an anchor; as it stands it finds the first <code>#</code> anywhere on the line and removes it with everything that follows.</p>\n\n<p>Other than that, I don't see how you get the reported output.  Perhaps it's something else in the program, since your sub (apparently) picks up some <code>%data</code> from outside scope? Just that possibility is enough of a reminder to always declare your variables in the smallest scope. <sup>&dagger;</sup></p>\n\n<p>The program, with a few other fixes (and some personal preferences)</p>\n\n<pre><code>use warnings;\nuse strict;\nuse feature 'say';\n\nuse Data::Dump qw(dd);\n\nsub read_header {\n    my ($file) = @_; \n\n    my %data;\n    open my $fh, '&lt;', $file or die \"Can't open $file: $!\";\n    while (&lt;$fh&gt;) {\n        chomp;    \n        s/^\\s*#.*//;    \n        s/^\\s+//;            #/\n        next if not length;    \n        my ($var, $val) = split /\\s*=\\s*/; \n        $data{$var} = $val;\n    }   \n    close $fh;\n    return \\%data;\n}\n\nmy $file = shift || die \"Usage: $0 config-file\\n\";\n\nmy $data = read_header($file);\n\ndd $data;\n</code></pre>\n\n<p>prints </p>\n\n<pre>\n{\n  rb_acc => \"country of account opening #,Global #,country_account_open\",\n  rb_adv => \"adverse media information #,Global #,adverse_info_flag,adverse_info_severity,adverse_info_date\",\n  rb_arm => \"account relationship manager #,Global #,arm_code,count_of_clients\",\n}\n</pre>\n\n<p>The needed variables -- <code>$file</code> and <code>%data</code> -- are declared and passed (in and out of function), as you should always do. \nSince in this case there is no need to limit the number of terms that <code>split</code> is to return I removed that. </p>\n\n<p>I use <a href=\"https://metacpan.org/pod/Data::Dump\" rel=\"nofollow noreferrer\">Data::Dump</a> to print data.</p>\n\n<hr>\n\n<p><sup>&dagger;</sup> &thinsp; As <code>mob</code> notes, that output can be produced by undefining the <a href=\"https://perldoc.perl.org/perlvar.html#%24/\" rel=\"nofollow noreferrer\">input record separator <code>$/</code></a>, along with <code>s/#.*//</code> which removes the first hash and all else (to the first newline, since the <code>.</code> doesn't match a newline).\nThis means that <code>$/</code> is undefined elsewhere in the program as a global (instead of being <a href=\"https://perldoc.perl.org/functions/local.html\" rel=\"nofollow noreferrer\"><code>local</code></a>-ized to that scope), what is likely wrong and need be fixed; using the function from this post in that program would still fail. </p>\n"}], "owner": {"reputation": 21, "user_id": 7987427, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/9ebb54e0f99912bca0b75da37c6ff350?s=128&d=identicon&r=PG&f=1", "display_name": "java learner", "link": "https://stackoverflow.com/users/7987427/java-learner"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 63, "favorite_count": 0, "accepted_answer_id": 54102381, "answer_count": 1, "score": 1, "last_activity_date": 1547024053, "creation_date": 1546996881, "last_edit_date": 1546997200, "question_id": 54102013, "link": "https://stackoverflow.com/questions/54102013/perl-to-read-the-config-value-properly-for-comma-separated-values", "title": "Perl to read the config value properly for comma separated values", "body": "<p>Config file:</p>\n\n<pre><code>rb_acc=country of account opening #,Global #,country_account_open\nrb_adv=adverse media information #,Global #,adverse_info_flag,adverse_info_severity,adverse_info_date\nrb_arm=account relationship manager #,Global #,arm_code,count_of_clients\n</code></pre>\n\n<p>My reading routine:</p>\n\n<pre><code>sub read_header{    \n    open my $header_file, '&lt;', $header_configuration_path or die \"Can not open '$header_file': $OS_ERROR\"; \n    while (&lt;$header_file&gt;) {        \n        chomp;                 \n        s/#.*//;               \n        s/^\\s+//;               \n        #s/\\s+$//;              \n        next unless length;    \n        my ($var, $val) = split(/\\s*=\\s*/, $_, 2);\n        $data{$var} = $val;\n    }\n    close $header_file;\n\n    print \"Data values\\n\";\n    print Dumper \\%data;\n\n}\n</code></pre>\n\n<p>My output is coming like:</p>\n\n<pre><code>$VAR1 = {\n          'rb_acc' =&gt; 'country of account opening\nrb_adv=adverse media information #,Global #,adverse_info_flag,adverse_info_severity,adverse_info_date\nrb_arm=account relationship manager #,Global #,arm_code,count_of_clients'\n\n        };\n</code></pre>\n\n<p>But i need something like</p>\n\n<pre><code>rb_acc=&gt;country of account opening #,Global #,country_account_open\nrb_adv=&gt;adverse media information #,Global #,adverse_info_flag,adverse_info_severity,adverse_info_date\nrb_arm=&gt;account relationship manager #,Global #,arm_code,count_of_clients\n</code></pre>\n\n<p>Please help. </p>\n\n<p>The split i use is not working i guess i am new to perl.</p>\n"}, {"tags": ["regex", "perl", "escaping", "system"], "comments": [{"owner": {"reputation": 481636, "user_id": 3832970, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/64323e6cf08401474da3bf770ea13b58?s=128&d=identicon&r=PG&f=1", "display_name": "Wiktor Stribi\u017cew", "link": "https://stackoverflow.com/users/3832970/wiktor-stribi%c5%bcew"}, "edited": false, "score": 0, "creation_date": 1546986777, "post_id": 54100672, "comment_id": 95034272, "body": "Actually, the problem here is with <code>+</code>: in BRE, you need to escape it, or use <code>\\{1,\\}</code>. With ERE, you may use <code>+</code> quantifier as is. Again, ERE is more convenient as this syntax is close to all popular NFA regex engines, that is why I advised using <code>-E</code> (POSIX ERE)."}, {"owner": {"reputation": 320771, "user_id": 589924, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/b2cf53d5a3d25f95c0db4e025aed4153?s=128&d=identicon&r=PG", "display_name": "ikegami", "link": "https://stackoverflow.com/users/589924/ikegami"}, "edited": false, "score": 0, "creation_date": 1547001144, "post_id": 54100672, "comment_id": 95037800, "body": "Even when answering your own question, please post the answer as an Answer, not as part of the question."}], "answers": [{"comments": [{"owner": {"reputation": 137100, "user_id": 874188, "user_type": "registered", "accept_rate": 62, "profile_image": "https://i.stack.imgur.com/ZcY77.png?s=128&g=1", "display_name": "tripleee", "link": "https://stackoverflow.com/users/874188/tripleee"}, "edited": false, "score": 0, "creation_date": 1547011514, "post_id": 54102706, "comment_id": 95039860, "body": "On many platforms, <code>\\s</code> is not supported with <code>-E</code>, either.  To portably search for whitespace, use <code>[[:space:]]</code> (where of course &quot;portably&quot; here still requires more or less POSIX)."}, {"owner": {"reputation": 320771, "user_id": 589924, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/b2cf53d5a3d25f95c0db4e025aed4153?s=128&d=identicon&r=PG", "display_name": "ikegami", "link": "https://stackoverflow.com/users/589924/ikegami"}, "reply_to_user": {"reputation": 137100, "user_id": 874188, "user_type": "registered", "accept_rate": 62, "profile_image": "https://i.stack.imgur.com/ZcY77.png?s=128&g=1", "display_name": "tripleee", "link": "https://stackoverflow.com/users/874188/tripleee"}, "edited": false, "score": 0, "creation_date": 1547014088, "post_id": 54102706, "comment_id": 95040560, "body": "@tripleee, Thanks, incorporated."}, {"owner": {"reputation": 137100, "user_id": 874188, "user_type": "registered", "accept_rate": 62, "profile_image": "https://i.stack.imgur.com/ZcY77.png?s=128&g=1", "display_name": "tripleee", "link": "https://stackoverflow.com/users/874188/tripleee"}, "edited": false, "score": 0, "creation_date": 1547014438, "post_id": 54102706, "comment_id": 95040679, "body": "The comments are still off, you probably want to say simply &quot;with -P&quot; or maybe &quot;with -P or (sometimes if you are lucky) with -E&quot;."}, {"owner": {"reputation": 320771, "user_id": 589924, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/b2cf53d5a3d25f95c0db4e025aed4153?s=128&d=identicon&r=PG", "display_name": "ikegami", "link": "https://stackoverflow.com/users/589924/ikegami"}, "reply_to_user": {"reputation": 137100, "user_id": 874188, "user_type": "registered", "accept_rate": 62, "profile_image": "https://i.stack.imgur.com/ZcY77.png?s=128&g=1", "display_name": "tripleee", "link": "https://stackoverflow.com/users/874188/tripleee"}, "edited": false, "score": 0, "creation_date": 1547016461, "post_id": 54102706, "comment_id": 95041322, "body": "@tripleee, Saying it only works if you&#39;re lucky is a far worse description than saying it&#39;s a less portable command."}], "tags": [], "owner": {"reputation": 320771, "user_id": 589924, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/b2cf53d5a3d25f95c0db4e025aed4153?s=128&d=identicon&r=PG", "display_name": "ikegami", "link": "https://stackoverflow.com/users/589924/ikegami"}, "is_accepted": false, "score": 1, "last_activity_date": 1547014072, "last_edit_date": 1547014072, "creation_date": 1547003096, "answer_id": 54102706, "question_id": 54100672, "link": "https://stackoverflow.com/questions/54100672/backtick-grep-call-with-s-throwing-unrecognized-escape-s-passed-through/54102706#54102706", "title": "backtick grep call with \\s+ throwing &quot;Unrecognized escape \\s passed through &quot;", "body": "<p>In double-quoted and other similar string literals such as backticks, <code>\\</code> is significant to Perl.</p>\n\n<p><code>\\</code> followed by a non-word character (such as <code>\\</code> or another symbol) results in the just the escaped character.</p>\n\n<p><code>\\</code> followed by some word characters have special meaning (e.g. <code>\\n</code> results in a line feed, and so does <code>\\x0A</code>). When <code>\\</code> is followed by a word character for which Perl has no meaning (e.g. <code>\\s</code>), you get that warning because your code isn't forward-compatible. You avoid the warning by making your code forward-compatible by escaping the <code>\\</code>.</p>\n\n<pre><code>my $grepp = `grep 'output\\\\s+reg' $file`;   # Executes: grep 'output\\s+reg' some file.txt\n</code></pre>\n\n<hr>\n\n<p>Beyond the problem you asked about, the code has two major problems.</p>\n\n<p>The first major is the code injection bug. You are inserting text (the file name) into code (the shell command) without doing any form of conversion. This will fail if the file name has any shell meta characters (e.g. space, <code>(</code>, <code>;</code>, etc.), and a malicious actor can possibly take advantage of this bug to execute damaging commands.</p>\n\n<p><a href=\"http://search.cpan.org/perldoc?String::ShellQuote\" rel=\"nofollow noreferrer\">String::ShellQuote</a>'s <code>shell_quote</code> can be used to avoid this problem.</p>\n\n<pre><code>use String::ShellQuote qw( shell_quote );\n\nmy $cmd = shell_quote('grep', 'output\\s+reg', $file);\nmy $grepp = `$cmd`;\n</code></pre>\n\n<p>You could also avoid the module and avoid creating a shell using the following:</p>\n\n<pre><code>open(my $pipe, '-|', 'grep', 'output\\s+reg', $file);\nmy $grepp = '';\n$_ .= $grepp while &lt;$pipe&gt;;\nclose($pipe);\n</code></pre>\n\n<hr>\n\n<p>The second major problem is that the pattern you provided doesn't mean what you think it does. The regex pattern language used by <code>grep</code> by default is quite different than Perl's. You want one of the following:</p>\n\n<pre><code>output[[:space:]]\\+reg       # Without -E or -P\n</code></pre>\n\n<p>or</p>\n\n<pre><code>output\\s\\+reg                # Without -E or -P. Less portable\n</code></pre>\n\n<p>or</p>\n\n<pre><code>output\\s+reg                 # With -E or -P\n</code></pre>\n\n<p>So, the following is the final code:</p>\n\n<pre><code>use String::ShellQuote qw( shell_quote );\n\nmy $cmd = shell_quote('grep', '-E', 'output\\s+reg', $file);\nmy $grepp = `$cmd`;\n</code></pre>\n\n<p>Of course, one has to wonder why you executing the <code>grep</code> utility instead of performing the search yourself in Perl.</p>\n"}], "owner": {"reputation": 31, "user_id": 6142244, "user_type": "registered", "accept_rate": 20, "profile_image": "https://i.stack.imgur.com/GEIYL.jpg?s=128&g=1", "display_name": "RossS", "link": "https://stackoverflow.com/users/6142244/rosss"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 191, "favorite_count": 0, "answer_count": 1, "score": 0, "last_activity_date": 1547014072, "creation_date": 1546986639, "last_edit_date": 1547001293, "question_id": 54100672, "link": "https://stackoverflow.com/questions/54100672/backtick-grep-call-with-s-throwing-unrecognized-escape-s-passed-through", "title": "backtick grep call with \\s+ throwing &quot;Unrecognized escape \\s passed through &quot;", "body": "<p>From my Perl code, I want to execute the system call </p>\n\n<pre><code>$grepp = `grep 'output\\s+reg' $file`;\n</code></pre>\n\n<p>But I keep </p>\n\n<pre class=\"lang-none prettyprint-override\"><code>Unrecognized escape \\s passed through at\n</code></pre>\n\n<p>Could you help me understand this error?</p>\n"}, {"tags": ["xml", "perl", "google-maps", "xpath", "kml"], "comments": [{"owner": {"reputation": 1523, "user_id": 4204037, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/ab78fa882cbf4a03c4fd2a0b92622dc5?s=128&d=identicon&r=PG&f=1", "display_name": "bytepusher", "link": "https://stackoverflow.com/users/4204037/bytepusher"}, "edited": false, "score": 1, "creation_date": 1546980491, "post_id": 54098679, "comment_id": 95031738, "body": "When no namespace is specified, an element will be in the default namespace. Have you tried looking for &#39;xmlns:when&#39;?"}, {"owner": {"reputation": 21, "user_id": 10886127, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/a29306bc10de9efb2a5c4934beeefeed?s=128&d=identicon&r=PG&f=1", "display_name": "CharlieATX", "link": "https://stackoverflow.com/users/10886127/charlieatx"}, "reply_to_user": {"reputation": 1523, "user_id": 4204037, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/ab78fa882cbf4a03c4fd2a0b92622dc5?s=128&d=identicon&r=PG&f=1", "display_name": "bytepusher", "link": "https://stackoverflow.com/users/4204037/bytepusher"}, "edited": false, "score": 0, "creation_date": 1547072799, "post_id": 54098679, "comment_id": 95071182, "body": "(@wnodes) = $xpc-&gt;findnodes(&#39;//xmlns:when&#39;);  -- produces correct result.  Thanks!!"}], "answers": [{"comments": [{"owner": {"reputation": 320771, "user_id": 589924, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/b2cf53d5a3d25f95c0db4e025aed4153?s=128&d=identicon&r=PG", "display_name": "ikegami", "link": "https://stackoverflow.com/users/589924/ikegami"}, "edited": false, "score": 0, "creation_date": 1547004853, "post_id": 54101365, "comment_id": 95038427, "body": "Nice, clean meaningful prefixes would be <code>kml</code> and <code>kmlext</code>. I&#39;d go with <code>k</code> and <code>kx</code>."}, {"owner": {"reputation": 7502, "user_id": 6368697, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/yq4cG.jpg?s=128&g=1", "display_name": "Patrick Mevzek", "link": "https://stackoverflow.com/users/6368697/patrick-mevzek"}, "reply_to_user": {"reputation": 320771, "user_id": 589924, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/b2cf53d5a3d25f95c0db4e025aed4153?s=128&d=identicon&r=PG", "display_name": "ikegami", "link": "https://stackoverflow.com/users/589924/ikegami"}, "edited": false, "score": 0, "creation_date": 1547006052, "post_id": 54101365, "comment_id": 95038659, "body": "@ikegami since you already modified almost every single word of my answer, you could as well have changed the prefixes... Please post your text as your own answer and I will then delete mine, it seems more logical."}, {"owner": {"reputation": 21, "user_id": 10886127, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/a29306bc10de9efb2a5c4934beeefeed?s=128&d=identicon&r=PG&f=1", "display_name": "CharlieATX", "link": "https://stackoverflow.com/users/10886127/charlieatx"}, "edited": false, "score": 0, "creation_date": 1547073019, "post_id": 54101365, "comment_id": 95071260, "body": "This suggestion solves my problem - using the appropriate prefix with //when tag. Since the actual file that google produces uses xmlns and gx as prefixes, I&#39;ll stick with those - it works!"}], "tags": [], "owner": {"reputation": 7502, "user_id": 6368697, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/yq4cG.jpg?s=128&g=1", "display_name": "Patrick Mevzek", "link": "https://stackoverflow.com/users/6368697/patrick-mevzek"}, "is_accepted": false, "score": 3, "last_activity_date": 1547004741, "last_edit_date": 1547004741, "creation_date": 1546991153, "answer_id": 54101365, "question_id": 54098679, "link": "https://stackoverflow.com/questions/54098679/xmllibxmlxpathcontext-fails-parsing-google-maps-kml-file-doesnt-find-whe/54101365#54101365", "title": "XML::LibXML::XPathContext fails parsing Google Maps kml file - doesn&#39;t find &quot;when&quot; nodes", "body": "<p>The prefixes used by the XPaths need not match the prefixes used in the XML. In fact, when a default namespace is used in the XML (as is the case here), a prefix is required for XPaths even though none are used in the XML. Simply choose prefixes meaningful to you for use in the XPaths.</p>\n\n<p>Also note that <code>registerNs</code> takes but a prefix, so do not include <code>xmlns:</code>.</p>\n\n<p>So changing:</p>\n\n<pre class=\"lang-perl prettyprint-override\"><code>$xpc-&gt;registerNs('xmlns',    'http://www.opengis.net/kml/2.2');\n$xpc-&gt;registerNs('xmlns:gx', 'http://www.google.com/kml/ext/2.2');\n(@wnodes) = $xpc-&gt;findnodes('//when');\n</code></pre>\n\n<p>to:</p>\n\n<pre class=\"lang-perl prettyprint-override\"><code>$xpc-&gt;registerNs('main', 'http://www.opengis.net/kml/2.2');\n$xpc-&gt;registerNs('gx',   'http://www.google.com/kml/ext/2.2');\n(@wnodes) = $xpc-&gt;findnodes('//main:when');\n</code></pre>\n\n<p>yields the expected:</p>\n\n<pre class=\"lang-none prettyprint-override\"><code>XPath: //when      Matched:  5\nXPath: //gx:coord  Matched:  5\n</code></pre>\n"}, {"tags": [], "owner": {"reputation": 21, "user_id": 10886127, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/a29306bc10de9efb2a5c4934beeefeed?s=128&d=identicon&r=PG&f=1", "display_name": "CharlieATX", "link": "https://stackoverflow.com/users/10886127/charlieatx"}, "is_accepted": false, "score": 1, "last_activity_date": 1547073242, "creation_date": 1547073242, "answer_id": 54119389, "question_id": 54098679, "link": "https://stackoverflow.com/questions/54098679/xmllibxmlxpathcontext-fails-parsing-google-maps-kml-file-doesnt-find-whe/54119389#54119389", "title": "XML::LibXML::XPathContext fails parsing Google Maps kml file - doesn&#39;t find &quot;when&quot; nodes", "body": "<p>bytepusher's answer above works, as does the second answer. adding \"xmlns:\" in front of the \"when\" tag produces the correct result and stays consistent with the file that is downloaded from Google using their Takeout feature (for \"location history\").</p>\n\n<p>I was assuming xmlns acted as a default that didn't need to be specified in an xpath search, but that was a bad assumption.</p>\n\n<p>Thanks for the help!</p>\n"}], "owner": {"reputation": 21, "user_id": 10886127, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/a29306bc10de9efb2a5c4934beeefeed?s=128&d=identicon&r=PG&f=1", "display_name": "CharlieATX", "link": "https://stackoverflow.com/users/10886127/charlieatx"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 84, "favorite_count": 0, "answer_count": 2, "score": 0, "last_activity_date": 1547073242, "creation_date": 1546976525, "last_edit_date": 1547004901, "question_id": 54098679, "link": "https://stackoverflow.com/questions/54098679/xmllibxmlxpathcontext-fails-parsing-google-maps-kml-file-doesnt-find-whe", "title": "XML::LibXML::XPathContext fails parsing Google Maps kml file - doesn&#39;t find &quot;when&quot; nodes", "body": "<p>I am unable to get Perl to read Google <code>LocationHistory.kml</code> files using XML::LibXML. <code>findnodes()</code> doesn't find <code>when</code> tags but does find <code>gx:coord</code> tags.  </p>\n\n<p>If I modify the XML file to put <code>gx:</code> in front of <code>when</code>, it works. But this isn't what Google produces with their takeout service.  </p>\n\n<p>I'd like to read their file without modifying it first.</p>\n\n<p><strong>INPUT DATA FILE - from Google's Takeout service</strong></p>\n\n<pre><code>#++++++++++++++++++++++++++++++++++++++++\n&lt;?xml version='1.0' encoding='UTF-8'?&gt;\n&lt;kml xmlns='http://www.opengis.net/kml/2.2' xmlns:gx='http://www.google.com/kml/ext/2.2'&gt;\n&lt;Document&gt;\n    &lt;Placemark&gt;\n        &lt;open&gt;1&lt;/open&gt;\n        &lt;gx:Track&gt;\n            &lt;altitudeMode&gt;clampToGround&lt;/altitudeMode&gt;\n            &lt;when&gt;2018-05-17T15:59:24Z&lt;/when&gt;\n            &lt;gx:coord&gt;-98.0896248 29.997944600000004 258&lt;/gx:coord&gt;\n            &lt;when&gt;2018-05-17T15:59:24Z&lt;/when&gt;\n            &lt;gx:coord&gt;-98.0896248 29.997944600000004 258&lt;/gx:coord&gt;\n            &lt;when&gt;2018-05-17T15:59:23Z&lt;/when&gt;\n            &lt;gx:coord&gt;-98.0896647 29.9979384 258&lt;/gx:coord&gt;\n            &lt;when&gt;2018-05-17T15:45:14Z&lt;/when&gt;\n            &lt;gx:coord&gt;-98.0896772 29.9979363 258&lt;/gx:coord&gt;\n            &lt;when&gt;2018-05-17T15:40:08Z&lt;/when&gt;\n            &lt;gx:coord&gt;-98.0892224 29.9977119 262&lt;/gx:coord&gt;\n        &lt;/gx:Track&gt;\n    &lt;/Placemark&gt;\n&lt;/Document&gt;\n&lt;/kml&gt;\n</code></pre>\n\n<p><strong>MY CODE</strong></p>\n\n<pre><code>#++++++++++++++++++++++++++++++++++++++++\nsub Test {\nmy ($infile) = @_;\nmy ($dom, $xpc, @gnodes, @wnodes);\n\n\n$dom = XML::LibXML-&gt;load_xml(location =&gt; $infile);\n\n$xpc = XML::LibXML::XPathContext-&gt;new($dom);\n$xpc-&gt;registerNs('xmlns',    'http://www.opengis.net/kml/2.2');\n$xpc-&gt;registerNs('xmlns:gx', 'http://www.google.com/kml/ext/2.2');\n\n# should find 5\n(@wnodes) = $xpc-&gt;findnodes('//when');\nprint 'XPath: //when      Matched:  ', scalar(@wnodes), \"\\n\";;\n\n# should find 5\n(@gnodes) = $xpc-&gt;findnodes('//gx:coord');\nsay 'XPath: //gx:coord  Matched:  ', scalar(@gnodes);\n\n};\n\n\nTHE OUTPUT - five &lt;gx:coord&gt; found, but zero &lt;when&gt; nodes found\nsearching for &lt;gx:when&gt; also produces zero results\n#++++++++++++++++++++++++++++++++++++++++\n\nApple-iMac21:NewProgramLocal user$\n\nXPath: //when      Matched:  0\nXPath: //gx:coord  Matched:  5\n\n\nApple-iMac21:NewProgramLocal user$ \n</code></pre>\n"}, {"tags": ["perl", "if-statement", "conditional"], "answers": [{"comments": [{"owner": {"reputation": 41, "user_id": 6201481, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/a4a93576e639500adf3bb7414804ce42?s=128&d=identicon&r=PG&f=1", "display_name": "user6201481", "link": "https://stackoverflow.com/users/6201481/user6201481"}, "edited": false, "score": 0, "creation_date": 1546994562, "post_id": 54098208, "comment_id": 95036396, "body": "Thank you very much Andrey. Really produce my expected output. I wonder why my coding way can&#39;t work? Can you share your thought on my script? I would like to learn from mistake."}, {"owner": {"reputation": 62184, "user_id": 7231, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/81b76985f3985e35492e25880493d045?s=128&d=identicon&r=PG", "display_name": "Dave Cross", "link": "https://stackoverflow.com/users/7231/dave-cross"}, "edited": false, "score": 0, "creation_date": 1547028460, "post_id": 54098208, "comment_id": 95047316, "body": "@Andrey: There&#39;s a subtle precedence bug in your code. The precedence of <code>||</code> is too high. Your code is interpreted as <code>open my $fh, &quot;&lt;&quot;, (&quot;test_input.txt&quot; || die &quot;can&#39;t open the file&quot;)</code>. You need to either switch to <code>or</code> (<code>open my $fh, &quot;&lt;&quot;, &quot;test_input.txt&quot; or die &quot;can&#39;t open the file&quot;</code>) or use parentheses around your call to <code>open()</code> (<code>open(my $fh, &quot;&lt;&quot;, &quot;test_input.txt&quot;) || die &quot;can&#39;t open the file&quot;</code>)."}, {"owner": {"reputation": 41, "user_id": 6201481, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/a4a93576e639500adf3bb7414804ce42?s=128&d=identicon&r=PG&f=1", "display_name": "user6201481", "link": "https://stackoverflow.com/users/6201481/user6201481"}, "edited": false, "score": 0, "creation_date": 1547106150, "post_id": 54098208, "comment_id": 95079277, "body": "Thank you David and Andrey  for the valuable sharing. I will try to digest them."}], "tags": [], "owner": {"reputation": 1702, "user_id": 880797, "user_type": "registered", "accept_rate": 69, "profile_image": "https://www.gravatar.com/avatar/bace3dcc4a83523d93399ab2bd1f3728?s=128&d=identicon&r=PG", "display_name": "Andrey", "link": "https://stackoverflow.com/users/880797/andrey"}, "is_accepted": false, "score": 1, "last_activity_date": 1547043100, "last_edit_date": 1547043100, "creation_date": 1546974716, "answer_id": 54098208, "question_id": 54094406, "link": "https://stackoverflow.com/questions/54094406/problem-to-read-line-after-the-first-string-match/54098208#54098208", "title": "problem to read line after the first string match", "body": "<p>Try this.\nRead file into array. Process line by line. You can the check the current and next line.</p>\n\n<pre><code>my $file = 'testFile.txt';\nopen my $fh, \"&lt;\", \"test_input.txt\" or die \"can't open the file\"; \nchomp(my @data = &lt;$fh&gt;);\nclose $fh;\n\nfor my $index (0..$#data) { \n    if($data[$index] =~ /work/){\n        my $nextIndex = $index + 1;\n        die \"Bad file format\" unless(defined $data[$nextIndex]);\n        print \"line below search: $data[$nextIndex]\\n\";\n        if ($data[$nextIndex] =~/^good/){\n            print \"found good word\\n\";\n        }\n        else{\n            print \"no good word\\n\";\n        }\n    }\n}\n</code></pre>\n"}, {"tags": [], "owner": {"reputation": 62184, "user_id": 7231, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/81b76985f3985e35492e25880493d045?s=128&d=identicon&r=PG", "display_name": "Dave Cross", "link": "https://stackoverflow.com/users/7231/dave-cross"}, "is_accepted": false, "score": 1, "last_activity_date": 1547023355, "creation_date": 1547023355, "answer_id": 54106103, "question_id": 54094406, "link": "https://stackoverflow.com/questions/54094406/problem-to-read-line-after-the-first-string-match/54106103#54106103", "title": "problem to read line after the first string match", "body": "<p>You were very close. To get your program running as you expected, I only had to make a couple of changes.</p>\n\n<p>You have this code:</p>\n\n<pre><code>&lt;INFILE&gt; or die \"Bad file format\";    \nmy $model = INFILE;\n</code></pre>\n\n<p>I think you're trying to ensure that there is actually another line after the one you've matched. But in the first of those lines, you just read the next line and throw the data away. And in the second of those lines, you set <code>$model</code> to the string \"INLINE\". Perhaps you meant <code>my $model = &lt;INFILE&gt;</code> - but even that doesn't give you what you want as you've already read (and discarded) the record you want in the previous line of code.</p>\n\n<p>So I think you want to replace those two lines with a single line.</p>\n\n<pre><code>my $model = &lt;INFILE&gt; or die \"Bad file format\";\n</code></pre>\n\n<p>If you're interested, here's how I'd write this. Notice, I've got rid of the hard-coded file name. Instead, I read from the generic filehandle, <code>&lt;&gt;</code>. This is automatically connected to the file whose name is passed to the program on the command line. This has the advantage that the code is a) easier to write (as you don't need to explicitly open a file) and b) more flexible (as you can process a file with any name). I've also removed a few unnecessary uses of <code>$_ =~</code>.</p>\n\n<pre><code>#!/usr/bin/perl\n\n# Always use these\nuse strict;\nuse warnings;\n\nuse feature 'say'; # for 'say()'\n\nwhile (&lt;&gt;) {\n  s/^\\s+//; # No need for $_ =~\n  s/\\s+$//;\n\n  if (/work/) {\n    my $model = &lt;&gt; or die \"Bad file format\";\n\n    if ($model =~ /^good/) {\n      say 'found good word';\n    } else {\n      say 'no good word';\n    }\n  }\n}\n</code></pre>\n"}], "owner": {"reputation": 41, "user_id": 6201481, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/a4a93576e639500adf3bb7414804ce42?s=128&d=identicon&r=PG&f=1", "display_name": "user6201481", "link": "https://stackoverflow.com/users/6201481/user6201481"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 45, "favorite_count": 0, "answer_count": 2, "score": 1, "last_activity_date": 1547043100, "creation_date": 1546959423, "last_edit_date": 1546971973, "question_id": 54094406, "link": "https://stackoverflow.com/questions/54094406/problem-to-read-line-after-the-first-string-match", "title": "problem to read line after the first string match", "body": "<p>Not sure why this script isn't working. Can anyone suggest a fix in order to get the expected output?</p>\n\n<p><strong>Perl script:</strong>  </p>\n\n<pre><code>open(INFILE,\"test_input.txt\")||die \"can't open the file\";   \nwhile(&lt;INFILE&gt;){    \n$_=~s/^\\s+//;    \n$_=~s/\\s+$//;    \n    if ($_ =~ /work/){    \n        &lt;INFILE&gt; or die \"Bad file format\";    \n        my $model = INFILE;    \n        print \"line below search: $model\\n\";    \n        if ($model =~/^good/){    \n            print \"found good word\\n\";    \n        }    \n        else{    \n            print \"no good word\\n\";    \n        }    \n    }    \n}    \n</code></pre>\n\n<p><strong>input file:</strong>  </p>\n\n<pre><code>employment  \nwork hard  \ngood people\n</code></pre>\n\n<p><strong>Expected Output:</strong></p>\n\n<pre><code>line below search: good people\nfound good word\n</code></pre>\n\n<p><strong>Actual Output:</strong></p>\n\n<pre><code>line below search:\nno good word\n</code></pre>\n"}, {"tags": ["regex", "perl", "parsing"], "comments": [{"owner": {"reputation": 3649, "user_id": 10404329, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/489c51b790b37922d4e80d59b9873cec?s=128&d=identicon&r=PG", "display_name": "Corion", "link": "https://stackoverflow.com/users/10404329/corion"}, "edited": false, "score": 4, "creation_date": 1546950205, "post_id": 54091730, "comment_id": 95015553, "body": "Why not use a proper HTML parser like <a href=\"https://metacpan.org/pod/Mojo::DOM\" rel=\"nofollow noreferrer\">Mojo::DOM</a>, <a href=\"https://metacpan.org/pod/HTML::TreeBuilder\" rel=\"nofollow noreferrer\">HTML::TreeBuilder</a> or <a href=\"https://metacpan.org/pod/HTML::LinkExtor\" rel=\"nofollow noreferrer\">HTML::LinkExtor</a> ? Please also <a href=\"https://stackoverflow.com/posts/54091730/edit\">edit</a> your post and show us some representative input data that shows how your code fails. Also tell us how your existing Regex fails to work as expected."}, {"owner": {"reputation": 43580, "user_id": 1020526, "user_type": "registered", "accept_rate": 73, "profile_image": "https://i.stack.imgur.com/Scjj8.jpg?s=128&g=1", "display_name": "revo", "link": "https://stackoverflow.com/users/1020526/revo"}, "edited": false, "score": 2, "creation_date": 1546950254, "post_id": 54091730, "comment_id": 95015574, "body": "If you don&#39;t execute match globally,  <code>&lt;a[^&gt;]*&gt;(.*?)&lt;\\&#47;a&gt;</code> is enough. See it here <a href=\"https://regex101.com/r/SvqGvi/1\" rel=\"nofollow noreferrer\">regex101.com/r/SvqGvi/1</a>"}, {"owner": {"reputation": 1625, "user_id": 6380363, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/kPW0n.jpg?s=128&g=1", "display_name": "PrakashG", "link": "https://stackoverflow.com/users/6380363/prakashg"}, "reply_to_user": {"reputation": 3649, "user_id": 10404329, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/489c51b790b37922d4e80d59b9873cec?s=128&d=identicon&r=PG", "display_name": "Corion", "link": "https://stackoverflow.com/users/10404329/corion"}, "edited": false, "score": 0, "creation_date": 1546950258, "post_id": 54091730, "comment_id": 95015579, "body": "@Corion, There is the specified requirement that not to use any ready made modules. Sure, I&#39;ll post the whole script."}, {"owner": {"reputation": 3649, "user_id": 10404329, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/489c51b790b37922d4e80d59b9873cec?s=128&d=identicon&r=PG", "display_name": "Corion", "link": "https://stackoverflow.com/users/10404329/corion"}, "edited": false, "score": 2, "creation_date": 1546950327, "post_id": 54091730, "comment_id": 95015608, "body": "If this is homework, please tell us so upfront. Otherwise, have your sysadmin install the ready made modules."}, {"owner": {"reputation": 1625, "user_id": 6380363, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/kPW0n.jpg?s=128&g=1", "display_name": "PrakashG", "link": "https://stackoverflow.com/users/6380363/prakashg"}, "edited": false, "score": 0, "creation_date": 1546950411, "post_id": 54091730, "comment_id": 95015648, "body": "Not like homework its the requirement given by manager."}, {"owner": {"reputation": 3649, "user_id": 10404329, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/489c51b790b37922d4e80d59b9873cec?s=128&d=identicon&r=PG", "display_name": "Corion", "link": "https://stackoverflow.com/users/10404329/corion"}, "edited": false, "score": 1, "creation_date": 1546950494, "post_id": 54091730, "comment_id": 95015681, "body": "Then <a href=\"https://stackoverflow.com/posts/54091730/edit\">edit</a> your post and tell us how your existing regex fails. We will need a <a href=\"https://stackoverflow.com/help/minimal-reproducible-example\">minimal reproducible example</a> before we can proceed further. On the other hand, it&#39;s not hard to install one of these modules, or copy one of the modules into your source code."}, {"owner": {"reputation": 1625, "user_id": 6380363, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/kPW0n.jpg?s=128&g=1", "display_name": "PrakashG", "link": "https://stackoverflow.com/users/6380363/prakashg"}, "reply_to_user": {"reputation": 3649, "user_id": 10404329, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/489c51b790b37922d4e80d59b9873cec?s=128&d=identicon&r=PG", "display_name": "Corion", "link": "https://stackoverflow.com/users/10404329/corion"}, "edited": false, "score": 1, "creation_date": 1546951459, "post_id": 54091730, "comment_id": 95016144, "body": "@Corion, Edited. Please check now and help me."}, {"owner": {"reputation": 188041, "user_id": 10676716, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/arsQA.jpg?s=128&g=1", "display_name": "GMB", "link": "https://stackoverflow.com/users/10676716/gmb"}, "edited": false, "score": 0, "creation_date": 1546951663, "post_id": 54091730, "comment_id": 95016243, "body": "<code>my $res = $str =~ &#47;&lt;a[^&gt;]*[^&gt;]*&gt;(?!.*4a&gt;.*)a&gt;&#47;;</code> should be <code>my ($res) = ($str =~ &#47;&lt;a[^&gt;]*[^&gt;]*&gt;(?!.*a&gt;.*)a&gt;&#47;);</code>"}, {"owner": {"reputation": 82895, "user_id": 372239, "user_type": "registered", "accept_rate": 80, "profile_image": "https://i.stack.imgur.com/2twLb.jpg?s=128&g=1", "display_name": "Toto", "link": "https://stackoverflow.com/users/372239/toto"}, "edited": false, "score": 0, "creation_date": 1546952746, "post_id": 54091730, "comment_id": 95016768, "body": "Why do you have duplicate <code>[^&gt;]*[^&gt;]*</code> just one is enough <code>[^&gt;]*</code> and what is the negative lookahead for?"}, {"owner": {"reputation": 82895, "user_id": 372239, "user_type": "registered", "accept_rate": 80, "profile_image": "https://i.stack.imgur.com/2twLb.jpg?s=128&g=1", "display_name": "Toto", "link": "https://stackoverflow.com/users/372239/toto"}, "edited": false, "score": 0, "creation_date": 1546952775, "post_id": 54091730, "comment_id": 95016788, "body": "Have a try with: <code>(my $res) = $str =~ m~&lt;a[^&gt;]*&gt;(.*?)&lt;&#47;a&gt;~;</code>"}, {"owner": {"reputation": 1625, "user_id": 6380363, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/kPW0n.jpg?s=128&g=1", "display_name": "PrakashG", "link": "https://stackoverflow.com/users/6380363/prakashg"}, "reply_to_user": {"reputation": 82895, "user_id": 372239, "user_type": "registered", "accept_rate": 80, "profile_image": "https://i.stack.imgur.com/2twLb.jpg?s=128&g=1", "display_name": "Toto", "link": "https://stackoverflow.com/users/372239/toto"}, "edited": false, "score": 1, "creation_date": 1546952888, "post_id": 54091730, "comment_id": 95016862, "body": "@Toto, Yes this worked for me. Many thanks. Please this as Answer so that  many will be benefited. But its adding one white space before &quot;TITLE&quot; ."}, {"owner": {"reputation": 62184, "user_id": 7231, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/81b76985f3985e35492e25880493d045?s=128&d=identicon&r=PG", "display_name": "Dave Cross", "link": "https://stackoverflow.com/users/7231/dave-cross"}, "edited": false, "score": 0, "creation_date": 1546956595, "post_id": 54091730, "comment_id": 95019037, "body": "@PrakashG: Why is your manager forcing you to do this without modules? Sounds like you need a better manager (or a better job). Parsing HTML (or XML) using regexes is a terrible idea."}, {"owner": {"reputation": 1625, "user_id": 6380363, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/kPW0n.jpg?s=128&g=1", "display_name": "PrakashG", "link": "https://stackoverflow.com/users/6380363/prakashg"}, "reply_to_user": {"reputation": 62184, "user_id": 7231, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/81b76985f3985e35492e25880493d045?s=128&d=identicon&r=PG", "display_name": "Dave Cross", "link": "https://stackoverflow.com/users/7231/dave-cross"}, "edited": false, "score": 0, "creation_date": 1547021360, "post_id": 54091730, "comment_id": 95043474, "body": "@DaveCross, Yes, indeed. I&#39;m in search. If you find one plmk."}], "answers": [{"tags": [], "owner": {"reputation": 1146, "user_id": 4969849, "user_type": "registered", "accept_rate": 48, "profile_image": "https://www.gravatar.com/avatar/8ef156578a98474c5e459856ad268159?s=128&d=identicon&r=PG&f=1", "display_name": "JBone", "link": "https://stackoverflow.com/users/4969849/jbone"}, "is_accepted": false, "score": 2, "last_activity_date": 1546953062, "creation_date": 1546953062, "answer_id": 54092575, "question_id": 54091730, "link": "https://stackoverflow.com/questions/54091730/perl-regex-to-parse-first-anchor-a-tag/54092575#54092575", "title": "Perl Regex to parse first anchor &lt;a&gt; tag", "body": "<pre><code>/^(?:&lt;a[^&gt;]*&gt;)([^&lt;]*)/\n</code></pre>\n\n<p>see the demo on regex101\n    <a href=\"https://regex101.com/r/Po3goc/1\" rel=\"nofollow noreferrer\">https://regex101.com/r/Po3goc/1</a></p>\n\n<ul>\n<li>^ asserts position at start of a line Non-capturing group\n(?:]<em>>) ]</em>\n\n<ul>\n<li>Quantifier \u2014 Matches between zero and unlimited times, as many times as possible, giving back as needed (greedy)\n\n<blockquote>\n  <p>matches the character > literally (case sensitive)\n  matches the character > literally (case sensitive) 1st Capturing Group ([^&lt;]<em>) Match a single character not present in the list below\n  [^&lt;]</em></p>\n</blockquote></li>\n<li>Quantifier \u2014 Matches between zero and unlimited times, as many times as possible, giving back as needed (greedy) &lt; matches the\ncharacter &lt; literally (case sensitive)</li>\n</ul></li>\n</ul>\n"}, {"tags": [], "owner": {"reputation": 82895, "user_id": 372239, "user_type": "registered", "accept_rate": 80, "profile_image": "https://i.stack.imgur.com/2twLb.jpg?s=128&g=1", "display_name": "Toto", "link": "https://stackoverflow.com/users/372239/toto"}, "is_accepted": true, "score": 2, "last_activity_date": 1546953075, "creation_date": 1546953075, "answer_id": 54092580, "question_id": 54091730, "link": "https://stackoverflow.com/questions/54091730/perl-regex-to-parse-first-anchor-a-tag/54092580#54092580", "title": "Perl Regex to parse first anchor &lt;a&gt; tag", "body": "<pre><code>my $str = '&lt;a href=\"link.html\"&gt; TITLE &lt;/a&gt; &lt;a href=\"link.html\"&gt; SUB TITLE &lt;/a&gt;';\nmy ($res) = $str =~ m~&lt;a[^&gt;]*&gt;(.*?)&lt;/a&gt;~;\nprint $res,\"\\n\";\n</code></pre>\n\n<p><strong>Explanation:</strong></p>\n\n<pre><code>m~          # match operator, delimiter\n    &lt;a      # literally &lt;a\n    [^&gt;]*   # 0 or more any character tat is not &gt;\n    &gt;       # &gt;\n    (.*?)   # group 1, 1 or more any character, not greedy\n    &lt;/a&gt;    # literally\n~           # regex delimiter\n</code></pre>\n\n<p>You can use <code>m~&lt;a[^&gt;]*&gt;\\h*(.*?)\\h*&lt;/a&gt;~</code> if you don't want the leading and trailing spaces to be matched.</p>\n"}], "owner": {"reputation": 1625, "user_id": 6380363, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/kPW0n.jpg?s=128&g=1", "display_name": "PrakashG", "link": "https://stackoverflow.com/users/6380363/prakashg"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 154, "favorite_count": 0, "accepted_answer_id": 54092580, "answer_count": 2, "score": 0, "last_activity_date": 1549358681, "creation_date": 1546950089, "last_edit_date": 1549358681, "question_id": 54091730, "link": "https://stackoverflow.com/questions/54091730/perl-regex-to-parse-first-anchor-a-tag", "title": "Perl Regex to parse first anchor &lt;a&gt; tag", "body": "<p>I have below HTML page having two <code>anchor</code> tags as input to my perl script:</p>\n\n<pre><code>&lt;a href=\"link.html\"&gt; TITLE &lt;/a&gt; &lt;a href=\"link.html\"&gt; SUB TITLE &lt;/a&gt;\n</code></pre>\n\n<p>I want to extract only title i.e. I need text only from first anchor tag <code>&lt;a&gt;</code> and second anchor tag <code>&lt;a&gt;</code> text should be ignored. And this I need to do using Perl Regex only.</p>\n\n<p>I've tried below Regex, but its not working as expected:<br>\n\n<pre><code>&lt;a[^&gt;]*[^&gt;]*&gt;(?!.*a&gt;.*)a&gt;\n</code></pre>\n\n<p><br>The whole script goes like this:<br></p>\n\n<pre><code>#!/usr/bin/perl\n\nuse strict;\nuse warnings;\n\nmy $str = '&lt;a href=\"link.html\"&gt; TITLE &lt;/a&gt; &lt;a href=\"link.html\"&gt; SUB TITLE &lt;/a&gt;';\n\nmy $res = $str =~ m/&lt;a[^&gt;]*[^&gt;]*&gt;(?!.*a&gt;.*)a&gt;/;\n\nprint $res;\n</code></pre>\n\n<p><strong>Execution:</strong> </p>\n\n<pre><code> prakash@prak-pc:~$ perl regtest.pl \n prakash@prak-pc:~$\n</code></pre>\n"}, {"tags": ["perl", "debugging"], "comments": [{"owner": {"reputation": 3649, "user_id": 10404329, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/489c51b790b37922d4e80d59b9873cec?s=128&d=identicon&r=PG", "display_name": "Corion", "link": "https://stackoverflow.com/users/10404329/corion"}, "edited": false, "score": 2, "creation_date": 1546950299, "post_id": 54090524, "comment_id": 95015598, "body": "Why do you declare subroutines within <code>capture_stderr</code> ? This is unlikely to do what you want."}, {"owner": {"reputation": 3649, "user_id": 10404329, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/489c51b790b37922d4e80d59b9873cec?s=128&d=identicon&r=PG", "display_name": "Corion", "link": "https://stackoverflow.com/users/10404329/corion"}, "edited": false, "score": 0, "creation_date": 1546950403, "post_id": 54090524, "comment_id": 95015644, "body": "Usually, you can set a breakpoint from within your program by setting ` $DB::single = 1` at the location where you want to interrupt."}, {"owner": {"reputation": 320771, "user_id": 589924, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/b2cf53d5a3d25f95c0db4e025aed4153?s=128&d=identicon&r=PG", "display_name": "ikegami", "link": "https://stackoverflow.com/users/589924/ikegami"}, "reply_to_user": {"reputation": 3649, "user_id": 10404329, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/489c51b790b37922d4e80d59b9873cec?s=128&d=identicon&r=PG", "display_name": "Corion", "link": "https://stackoverflow.com/users/10404329/corion"}, "edited": false, "score": 0, "creation_date": 1546951036, "post_id": 54090524, "comment_id": 95015934, "body": "@Corion, Devel::AllSubs is a module they wrote and that they are trying to test."}, {"owner": {"reputation": 87649, "user_id": 17389, "user_type": "registered", "accept_rate": 38, "profile_image": "https://www.gravatar.com/avatar/cd06d1314817ce946ab796af8750b56a?s=128&d=identicon&r=PG", "display_name": "ysth", "link": "https://stackoverflow.com/users/17389/ysth"}, "edited": false, "score": 0, "creation_date": 1546968480, "post_id": 54090524, "comment_id": 95026273, "body": "the debugger won&#39;t work on code that&#39;s compiled normally.  to turn on debugging, you&#39;d have to use Enbugger.  but I don&#39;t know that PERL5DB is checked at runtime even then"}], "answers": [{"comments": [{"owner": {"reputation": 1445, "user_id": 1441592, "user_type": "registered", "accept_rate": 40, "profile_image": "https://www.gravatar.com/avatar/2a58917def8d1523a840b52ae7d59d21?s=128&d=identicon&r=PG", "display_name": "Paul Serikov", "link": "https://stackoverflow.com/users/1441592/paul-serikov"}, "edited": false, "score": 1, "creation_date": 1546962525, "post_id": 54091897, "comment_id": 95022898, "body": "So there is no way to run just part of code under <code>-d</code> flag ?"}, {"owner": {"reputation": 3509, "user_id": 4243840, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/aaeabd769bae1bf82fd4b8882fed6653?s=128&d=identicon&r=PG", "display_name": "JGNI", "link": "https://stackoverflow.com/users/4243840/jgni"}, "reply_to_user": {"reputation": 1445, "user_id": 1441592, "user_type": "registered", "accept_rate": 40, "profile_image": "https://www.gravatar.com/avatar/2a58917def8d1523a840b52ae7d59d21?s=128&d=identicon&r=PG", "display_name": "Paul Serikov", "link": "https://stackoverflow.com/users/1441592/paul-serikov"}, "edited": false, "score": 0, "creation_date": 1547027212, "post_id": 54091897, "comment_id": 95046557, "body": "@PaulSerikov I don&#39;t think so no, however the Perl debugger <code>perl5db.pl</code> has a lot of documentation in it and might be useful. Note that under normal circumstances I would not recommend delving into the guts of the debugger but as you are writing your own debugger it might be worth it."}, {"owner": {"reputation": 50468, "user_id": 1331451, "user_type": "registered", "accept_rate": 96, "profile_image": "https://i.stack.imgur.com/4ZPmj.png?s=128&g=1", "display_name": "simbabque", "link": "https://stackoverflow.com/users/1331451/simbabque"}, "edited": false, "score": 1, "creation_date": 1547028936, "post_id": 54091897, "comment_id": 95047571, "body": "You might also want to look at tests for other debuggers, like <a href=\"https://metacpan.org/source/AWWAIID/Devel-ebug-0.59/t\" rel=\"nofollow noreferrer\">metacpan.org/source/AWWAIID/Devel-ebug-0.59/t</a>"}], "tags": [], "owner": {"reputation": 3509, "user_id": 4243840, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/aaeabd769bae1bf82fd4b8882fed6653?s=128&d=identicon&r=PG", "display_name": "JGNI", "link": "https://stackoverflow.com/users/4243840/jgni"}, "is_accepted": false, "score": 4, "last_activity_date": 1546951170, "last_edit_date": 1546951170, "creation_date": 1546950769, "answer_id": 54091897, "question_id": 54090524, "link": "https://stackoverflow.com/questions/54090524/how-to-run-perl-code-block-under-debugger/54091897#54091897", "title": "How to run perl code block under debugger?", "body": "<p>You can't use <code>$ENV{PERL5DB}</code> the way you want.</p>\n\n<ol>\n<li>It has to be the full command to load in the debugger code such as <code>use Devel::AllSubs</code></li>\n<li>It is only checked when Perl is started with a bare <code>-d</code> switch</li>\n<li>It only gets checked when Perl starts as Perl needs to know that it is running the script under the debugger to create the op codes needed to enter the debugger.</li>\n</ol>\n\n<p>So in order to apply your debugger to only part of the code you will need to first load it in using the -d switch like this</p>\n\n<pre><code>perl -d:AllSubs script.pl\n</code></pre>\n\n<p>and then use a package variable to decide if you want to process the code or not. Looking at your module name I assume you are trying to do something with each subroutine so your test probably wants to be in your <code>DB::sub</code> method</p>\n"}], "owner": {"reputation": 1445, "user_id": 1441592, "user_type": "registered", "accept_rate": 40, "profile_image": "https://www.gravatar.com/avatar/2a58917def8d1523a840b52ae7d59d21?s=128&d=identicon&r=PG", "display_name": "Paul Serikov", "link": "https://stackoverflow.com/users/1441592/paul-serikov"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 80, "favorite_count": 0, "answer_count": 1, "score": 2, "last_activity_date": 1546951170, "creation_date": 1546945765, "question_id": 54090524, "link": "https://stackoverflow.com/questions/54090524/how-to-run-perl-code-block-under-debugger", "title": "How to run perl code block under debugger?", "body": "<p>I'm writing a test for my debugger.</p>\n\n<pre><code>subtest \"main\" =&gt; sub {\n    $ENV{PERL5DB} = 'Devel::AllSubs';\n    my $stderr = capture_stderr {\n        sub foo { bar(); }\n        sub bar { 1; }\n        foo();\n    };\n    $ENV{PERL5DB} = '';\n    is $stderr, \"main::foo\\nmain::bar\";\n};\n</code></pre>\n\n<p>How to apply debugger to </p>\n\n<pre><code>{\nsub foo { bar(); }\nsub bar { 1; }\nfoo();\n}\n</code></pre>\n\n<p>block ?</p>\n\n<p>I tried to use <code>$ENV{PERL5DB}</code> but no effect.</p>\n"}, {"tags": ["perl"], "answers": [{"comments": [{"owner": {"reputation": 3374, "user_id": 3227693, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/10975c33d9a42c36dbc03a939fc1ebc9?s=128&d=identicon&r=PG&f=1", "display_name": "Igor Dvorzhak", "link": "https://stackoverflow.com/users/3227693/igor-dvorzhak"}, "edited": false, "score": 1, "creation_date": 1546957404, "post_id": 54089074, "comment_id": 95019583, "body": "Thank you, it works this way! I didn&#39;t realize that <code>my @members = @$members_ref;</code> creates an array copy (this is my first Perl program)."}], "tags": [], "owner": {"reputation": 3649, "user_id": 10404329, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/489c51b790b37922d4e80d59b9873cec?s=128&d=identicon&r=PG", "display_name": "Corion", "link": "https://stackoverflow.com/users/10404329/corion"}, "is_accepted": true, "score": 5, "last_activity_date": 1546940735, "creation_date": 1546940735, "answer_id": 54089074, "question_id": 54086322, "link": "https://stackoverflow.com/questions/54086322/sort-archivezip-members-in-place/54089074#54089074", "title": "Sort Archive::Zip members in-place", "body": "<p>I don't understand your problem. Of course you can sort an array reference in-place if you sort that array reference. In your program, you create a copy of the array, and sort that array. The original array remains unsorted.</p>\n\n<p>The following program eliminates the array copy and works for me:</p>\n\n<pre><code>#!perl\nuse strict;\nuse warnings;\nuse Archive::Zip;\nuse feature qw(say);\n\nmy $zip = Archive::Zip-&gt;new();\n$zip-&gt;read(\"Q:/cygwin_tools.zip\");\n\nmy $members_ref = $zip-&gt;{'members'};\n\n# Not sorted 1st member:\nsay $members_ref-&gt;[0]-&gt;fileName();\n\n@$members_ref = sort { $b-&gt;fileName() cmp $a-&gt;fileName() } @$members_ref;\n\n# Sorted 1st member:\nsay $members_ref-&gt;[0]-&gt;fileName();\n\n# Should be sorted 1st member if sorted in-place:\nsay @{$zip-&gt;{'members'}}[0]-&gt;fileName();\n\n__END__\ncygwin/\ncygwin/usr/share/bison.simple\ncygwin/usr/share/bison.simple\n</code></pre>\n\n<h3>See also</h3>\n\n<p><a href=\"http://perldoc.perl.org/perlreftut.html\" rel=\"noreferrer\">perlreftut</a></p>\n\n<p><a href=\"https://www.perlmonks.org/?node_id=69927\" rel=\"noreferrer\">References Quick Reference</a></p>\n"}], "owner": {"reputation": 3374, "user_id": 3227693, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/10975c33d9a42c36dbc03a939fc1ebc9?s=128&d=identicon&r=PG&f=1", "display_name": "Igor Dvorzhak", "link": "https://stackoverflow.com/users/3227693/igor-dvorzhak"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 51, "favorite_count": 0, "accepted_answer_id": 54089074, "answer_count": 1, "score": 0, "last_activity_date": 1546940735, "creation_date": 1546929007, "question_id": 54086322, "link": "https://stackoverflow.com/questions/54086322/sort-archivezip-members-in-place", "title": "Sort Archive::Zip members in-place", "body": "<p>I need to sort array members in-place using Perl, but I can not achieve this without using <code>Data::Alias</code> as mentioned in <a href=\"https://stackoverflow.com/questions/5163064/sort-perl-array-in-place/24960868#24960868\">this</a> answer.</p>\n\n<p>Is it possible to achieve this without additional Perl libraries that are not included by default in Debian distribution?</p>\n\n<p>Code:</p>\n\n<pre class=\"lang-perl prettyprint-override\"><code>use Archive::Zip;\nuse feature qw(say);\n\nmy $zip = Archive::Zip-&gt;new();\n$zip-&gt;read(\"&lt;PATH_TO_ZIP&gt;\");\n\nmy $members_ref = $zip-&gt;{'members'};\nmy @members = @$members_ref;\n\n# Not sorted 1st member:\nsay @members[0]-&gt;fileName();\n\n@members = sort { $b-&gt;fileName() cmp $a-&gt;fileName() } @members;\n\n# Sorted 1st member:\nsay @members[0]-&gt;fileName();\n\n# Should be sorted 1st member if sorted in-place:\nsay @{$zip-&gt;{'members'}}[0]-&gt;fileName();\n</code></pre>\n"}, {"tags": ["perl", "command-line-arguments"], "comments": [{"owner": {"reputation": 311, "user_id": 1170224, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/23e42c87e719565725a8dafb1300d78d?s=128&d=identicon&r=PG", "display_name": "Wes", "link": "https://stackoverflow.com/users/1170224/wes"}, "edited": false, "score": 0, "creation_date": 1546925759, "post_id": 54085743, "comment_id": 95004450, "body": "BTW: I&#39;m aware of and willing to live with the facts that:    1) The script makes an initial blank line and omits a \\n from the final line.  2) The script unnecessarily checks for the definition of the $recmark variable each line."}, {"owner": {"reputation": 320771, "user_id": 589924, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/b2cf53d5a3d25f95c0db4e025aed4153?s=128&d=identicon&r=PG", "display_name": "ikegami", "link": "https://stackoverflow.com/users/589924/ikegami"}, "edited": false, "score": 0, "creation_date": 1546931238, "post_id": 54085743, "comment_id": 95006191, "body": "Generally speaking, this is answered by <a href=\"https://stackoverflow.com/q/53524699/589924\">How can I process options using Perl in -n or -p mode?</a>. But in this specific case, the better solution is to stop using <code>-p</code> as the answers say."}, {"owner": {"reputation": 311, "user_id": 1170224, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/23e42c87e719565725a8dafb1300d78d?s=128&d=identicon&r=PG", "display_name": "Wes", "link": "https://stackoverflow.com/users/1170224/wes"}, "reply_to_user": {"reputation": 320771, "user_id": 589924, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/b2cf53d5a3d25f95c0db4e025aed4153?s=128&d=identicon&r=PG", "display_name": "ikegami", "link": "https://stackoverflow.com/users/589924/ikegami"}, "edited": false, "score": 0, "creation_date": 1546947472, "post_id": 54085743, "comment_id": 95014198, "body": "@ikegami, already using the script in various bash scripts and have other users who use the script. Dropping the -p option is not an option for me."}, {"owner": {"reputation": 320771, "user_id": 589924, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/b2cf53d5a3d25f95c0db4e025aed4153?s=128&d=identicon&r=PG", "display_name": "ikegami", "link": "https://stackoverflow.com/users/589924/ikegami"}, "edited": false, "score": 2, "creation_date": 1546950236, "post_id": 54085743, "comment_id": 95015563, "body": "You really should NEVER pass <code>-p</code> to a script. It makes absolutely no sense for the caller to provide part of the program. And of course, you can get into this very problem."}, {"owner": {"reputation": 311, "user_id": 1170224, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/23e42c87e719565725a8dafb1300d78d?s=128&d=identicon&r=PG", "display_name": "Wes", "link": "https://stackoverflow.com/users/1170224/wes"}, "reply_to_user": {"reputation": 320771, "user_id": 589924, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/b2cf53d5a3d25f95c0db4e025aed4153?s=128&d=identicon&r=PG", "display_name": "ikegami", "link": "https://stackoverflow.com/users/589924/ikegami"}, "edited": false, "score": 0, "creation_date": 1546974083, "post_id": 54085743, "comment_id": 95028886, "body": "@ikegami, Next time I&#39;ll be prepared for last time."}, {"owner": {"reputation": 53041, "user_id": 4653379, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/b3953dbedd0dabff5cbc3db9b0835b14?s=128&d=identicon&r=PG&f=1", "display_name": "zdim", "link": "https://stackoverflow.com/users/4653379/zdim"}, "edited": false, "score": 0, "creation_date": 1546976262, "post_id": 54085743, "comment_id": 95029932, "body": "@Wes  With this question you <i>are</i> going to be making changes to how the script is used, no?  Then you can include the change whereby <code>-p</code> is no longer needed, and in the script add <code>while (&lt;&gt;) { }</code> and process files inside, as I show in my answer for example.  (Not to mention that you should introduce proper, named arguments; it will make it much better.)"}, {"owner": {"reputation": 320771, "user_id": 589924, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/b2cf53d5a3d25f95c0db4e025aed4153?s=128&d=identicon&r=PG", "display_name": "ikegami", "link": "https://stackoverflow.com/users/589924/ikegami"}, "edited": false, "score": 0, "creation_date": 1547000802, "post_id": 54085743, "comment_id": 95037739, "body": "If you wanted to ignore <code>-p</code> if it&#39;s provided, you can use something like <code>BEGIN { if (!@ARGV || $ARGV[0] ne &#39;deflagged&#39;) { exec $^X, &#39;--&#39;, $0, &#39;deflagged&#39;, @ARGV or die $!; } shift @ARGV; }</code>."}], "answers": [{"comments": [{"owner": {"user_type": "does_not_exist", "display_name": "user458541"}, "edited": false, "score": 0, "creation_date": 1546927847, "post_id": 54086003, "comment_id": 95005012, "body": "Heh. Posted right before I was about to finish my answer. :)"}, {"owner": {"reputation": 53041, "user_id": 4653379, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/b3953dbedd0dabff5cbc3db9b0835b14?s=128&d=identicon&r=PG&f=1", "display_name": "zdim", "link": "https://stackoverflow.com/users/4653379/zdim"}, "edited": false, "score": 0, "creation_date": 1546932046, "post_id": 54086003, "comment_id": 95006446, "body": "@Alhadis Yeah, around 6 minutes. It&#39;s happened to me as well (not once), and likely to everyone"}], "tags": [], "owner": {"reputation": 53041, "user_id": 4653379, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/b3953dbedd0dabff5cbc3db9b0835b14?s=128&d=identicon&r=PG&f=1", "display_name": "zdim", "link": "https://stackoverflow.com/users/4653379/zdim"}, "is_accepted": false, "score": 1, "last_activity_date": 1546976111, "last_edit_date": 1546976111, "creation_date": 1546927372, "answer_id": 54086003, "question_id": 54085743, "link": "https://stackoverflow.com/questions/54085743/perl-process-argv-in-a-script-called-with-p-and-f-options/54086003#54086003", "title": "Perl process ARGV in a script called with -p and -f options", "body": "<p>The <code>-n</code> <a href=\"https://perldoc.perl.org/perlrun.html#Command-Switches\" rel=\"nofollow noreferrer\">command switch</a></p>\n\n<blockquote>\n  <p>causes Perl to assume the following loop around your program, which makes it iterate over filename arguments somewhat like <code>sed -n</code> or <code>awk</code>:  </p>\n\n<pre><code>LINE:\n  while (&lt;&gt;) {\n     ...        # your program goes here\n  }\n</code></pre>\n</blockquote>\n\n<p>where <a href=\"https://perldoc.perl.org/perlop.html#I/O-Operators\" rel=\"nofollow noreferrer\"><code>&lt;&gt;</code> filehandle</a> is special as</p>\n\n<blockquote>\n  <p>Input from <code>&lt;&gt;</code> comes either from standard input, or from each file listed on the command line.</p>\n</blockquote>\n\n<p>In other words, it reads lines from all files given on the command line.  The <code>-p</code> does the same except that it also prints <code>$_</code> every time through.</p>\n\n<p>Those filenames are found in <a href=\"https://perldoc.perl.org/perlvar.html#@ARGV\" rel=\"nofollow noreferrer\"><code>@ARGV</code> variable</a>, which in your example has <code>filexyy.txt</code> and <code>yy</code>, and which are thus treated as filenames.</p>\n\n<p>One solution: remove the needed parameters (<code>yy</code> here) from <code>@ARGV</code>, in a <code>BEGIN</code> block. Then the operation of <code>&lt;&gt;</code> will indeed have only filenames to work with.  </p>\n\n<p>This brings up the question of your program's desired interface. If you wish that parameter to be supplied last on the command line</p>\n\n<pre><code>my $param;\nBEGIN {\n    $param = pop @ARGV;\n}\n</code></pre>\n\n<p>since <a href=\"https://perldoc.perl.org/functions/pop.html\" rel=\"nofollow noreferrer\">pop</a> removes from the back of an array; if you want the parameter to be given first then use <a href=\"https://perldoc.perl.org/functions/shift.html\" rel=\"nofollow noreferrer\">shift</a>. Note that your <code>$recmark</code> would also have to be removed from <code>@ARGV</code>.</p>\n\n<p>Keeping track of all this is error prone, and inconvenient both for use and further work. </p>\n\n<p>It would be far better to process those arguments using a good module, like <a href=\"http://perldoc.perl.org/Getopt/Long.html\" rel=\"nofollow noreferrer\">Getopt::Long</a>.  Then you can give them names, easily change the interface as need arises, and have each invokation properly checked by the module.</p>\n\n<p>Also note that with filenames in <code>@ARGV</code>, which is what remains after you (or <code>Getopt::Long</code>) are done with options, you can process all lines from all files inside of</p>\n\n<pre><code>while (&lt;&gt;) { ... }\n</code></pre>\n\n<p>using the same <code>&lt;&gt;</code> mentioned above. Inside a script this is far better than <code>-p</code>.</p>\n"}, {"comments": [{"owner": {"reputation": 311, "user_id": 1170224, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/23e42c87e719565725a8dafb1300d78d?s=128&d=identicon&r=PG", "display_name": "Wes", "link": "https://stackoverflow.com/users/1170224/wes"}, "edited": false, "score": 1, "creation_date": 1546947280, "post_id": 54086069, "comment_id": 95014111, "body": "I think I&#39;ll have to use <code>Getopt::Long</code>"}], "tags": [], "owner": {"user_type": "does_not_exist", "display_name": "user458541"}, "is_accepted": true, "score": 1, "last_activity_date": 1547011602, "last_edit_date": 1547011602, "creation_date": 1546927723, "answer_id": 54086069, "question_id": 54085743, "link": "https://stackoverflow.com/questions/54085743/perl-process-argv-in-a-script-called-with-p-and-f-options/54086069#54086069", "title": "Perl process ARGV in a script called with -p and -f options", "body": "<p>From the <a href=\"https://perldoc.perl.org/perlrun.html\" rel=\"nofollow noreferrer\"><code>perlrun(1)</code></a> man page:</p>\n\n<blockquote>\n  <p><strong>-p</strong><br>\n  causes Perl to assume the following loop around your program, which makes it iterate over filename arguments somewhat like <code>sed</code>:</p>\n\n<pre><code> LINE:\n   while (&lt;&gt;) {\n       ...             # your program goes here\n   } continue {\n       print or die \"-p destination: $!\\n\";\n   }\n</code></pre>\n</blockquote>\n\n<p>The most appropriate use of the <code>-p</code> switch is for one-liners, where each file argument is processed in-turn, line-by-line, with the result of the program's execution printed to stdout.</p>\n\n<p>Perl's angle-brackets, which were implicitly added by the <code>-p</code> switch, take a filehandle as input, and iterates through each line until EOF is reached:</p>\n\n<pre><code>while(&lt;$opened_file_handle&gt;) {\n    \u2026\n}\n</code></pre>\n\n<p><strong>HOWEVER</strong>, if no filehandle is passed, the angle-brackets will default to <code>@ARGV</code>, treating each available argument as a filename. If @ARGV is empty, <code>&lt;&gt;</code> falls back to standard input (equivalent to using <code>&lt;STDIN&gt;</code>).</p>\n\n<p>If you want to pass both arguments <em>and</em> filenames on command-line, you have two choices:</p>\n\n<ol>\n<li><p>Order the arguments so the non-file-related args come first, like this:</p>\n\n<pre><code>perl -f opt.pl ABC XYZ file1.txt file2.txt\n</code></pre></li>\n</ol>\n\n<p>And in your script:</p>\n\n<pre><code>my $first = shift;  # Modifies @ARGV in-place, placing \"ABC\" in $first\nmy $second = shift; # Same again, this time plucking \"XYZ\" from @ARGV and putting it in `$second`\n</code></pre>\n\n<ol start=\"2\">\n<li><p>Or, use the <a href=\"http://perldoc.perl.org/Getopt/Long.html\" rel=\"nofollow noreferrer\"><code>Getopt::Long</code></a> module to pass the non-filename arguments as switches (or \"options\"):</p>\n\n<pre><code>perl -f opt.pl --foo ABC --bar XYZ  file1.txt file2.txt \u2026\n</code></pre></li>\n</ol>\n\n<p>And the Perl code to do that:</p>\n\n<pre><code>use Getopt::Long;\nmy $foo = \"\";\nmy $bar = \"\";\nGetOptions(\"foo=s\" =&gt; \\$foo, \"bar=s\" =&gt; \\$bar);\n</code></pre>\n\n<p>Using <code>Getopt::Long</code> is the cleaner (and recommended way) to pass arguments while processing a list of files.</p>\n\n<p>Hope this helps!</p>\n"}, {"comments": [{"owner": {"reputation": 311, "user_id": 1170224, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/23e42c87e719565725a8dafb1300d78d?s=128&d=identicon&r=PG", "display_name": "Wes", "link": "https://stackoverflow.com/users/1170224/wes"}, "edited": false, "score": 0, "creation_date": 1546946980, "post_id": 54086197, "comment_id": 95013925, "body": "Would do this except the script has to run in Windows (Strawberry perl) as well."}], "tags": [], "owner": {"reputation": 110113, "user_id": 168657, "user_type": "registered", "accept_rate": 92, "profile_image": "https://www.gravatar.com/avatar/f14e7610fca39322ebbf23530def15f8?s=128&d=identicon&r=PG", "display_name": "mob", "link": "https://stackoverflow.com/users/168657/mob"}, "is_accepted": false, "score": 1, "last_activity_date": 1546928482, "creation_date": 1546928482, "answer_id": 54086197, "question_id": 54085743, "link": "https://stackoverflow.com/questions/54085743/perl-process-argv-in-a-script-called-with-p-and-f-options/54086197#54086197", "title": "Perl process ARGV in a script called with -p and -f options", "body": "<p>Consider using an environment variable as an alternative to mucking about with your command-line arguments.</p>\n\n<pre><code>recmark=yy perl -pf opl.pl file1 file2 ...\n\nBEGIN { $recmark = $ENV{recmark} // \"xx\" };\n...\n</code></pre>\n"}], "owner": {"reputation": 311, "user_id": 1170224, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/23e42c87e719565725a8dafb1300d78d?s=128&d=identicon&r=PG", "display_name": "Wes", "link": "https://stackoverflow.com/users/1170224/wes"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 110, "favorite_count": 1, "accepted_answer_id": 54086069, "answer_count": 3, "score": 1, "last_activity_date": 1547011602, "creation_date": 1546925731, "last_edit_date": 1546926100, "question_id": 54085743, "link": "https://stackoverflow.com/questions/54085743/perl-process-argv-in-a-script-called-with-p-and-f-options", "title": "Perl process ARGV in a script called with -p and -f options", "body": "<p>I have a perl script that I call with -p and -f options. I'd like to pass command line parameters to ARGV in the script.</p>\n\n<p>For example, <code>opl.pl</code> is a script that concatenates each line that doesn't start with <em>xx</em> onto the previous line that starts with <em>xx</em>, with <em>'#'</em> as a separator, after flagging pre-existing <em>'#'</em> characters:</p>\n\n<pre><code># Usage: perl -pf opl.pl file.txt\nBEGIN {$recmark = @ARGV[0] if $#ARGV; }\n$recmark  = \"xx\" if (! defined $recmark);\nchomp;\nprint \"\\n\" if /$recmark/;\ns/#/\\_\\_hash\\_\\_/g;\n$_ .= \"#\"\n</code></pre>\n\n<p>The script works when no additional parameters are on the command line. E.g., <code>perl -pf oplx.pl filexx.txt</code> with <code>filexx.txt</code>:</p>\n\n<pre><code>xx line #1\nline 2\nline 3\nxx line 4\nline 5\n</code></pre>\n\n<p>Produces (aproximately): </p>\n\n<pre><code>xx line __hash__1#line 2#line 3\nxx line 4#line 5\n</code></pre>\n\n<p>I'd like to use <code>perl -pf oplx.pl filexyy.txt yy</code> with <code>fileyy.txt</code>:</p>\n\n<pre><code>yy line #1\nline 2\nline 3\nyy line 4\nline 5\n</code></pre>\n\n<p>to produce (aproximately): </p>\n\n<pre><code>yy line __hash__1#line 2#line 3\nyy line 4#line 5\n</code></pre>\n\n<p>Unfortunately, perl parses the command line argument <code>yy</code> as a file name, rather than as an argument.</p>\n"}, {"tags": ["string", "perl"], "comments": [{"owner": {"reputation": 1848, "user_id": 1736679, "user_type": "registered", "accept_rate": 83, "profile_image": "https://www.gravatar.com/avatar/8189adf6fa1894b110f58efbfab1d0f0?s=128&d=identicon&r=PG", "display_name": "Efren", "link": "https://stackoverflow.com/users/1736679/efren"}, "edited": false, "score": 0, "creation_date": 1546915050, "post_id": 54084434, "comment_id": 95002259, "body": "Please add an example of what you tried, and what results you obtained, compared to what you would like to obtain."}], "answers": [{"comments": [{"owner": {"reputation": 7646, "user_id": 6867048, "user_type": "registered", "accept_rate": 60, "profile_image": "https://www.gravatar.com/avatar/b939fdb5809fed8097c38bdf4370747b?s=128&d=identicon&r=PG&f=1", "display_name": "stack0114106", "link": "https://stackoverflow.com/users/6867048/stack0114106"}, "edited": false, "score": 0, "creation_date": 1546952366, "post_id": 54085038, "comment_id": 95016584, "body": "@zdim.. great answer!"}, {"owner": {"reputation": 34304, "user_id": 1733163, "user_type": "registered", "accept_rate": 61, "profile_image": "https://i.stack.imgur.com/gmGvj.jpg?s=128&g=1", "display_name": "Miller", "link": "https://stackoverflow.com/users/1733163/miller"}, "edited": false, "score": 0, "creation_date": 1546976809, "post_id": 54085038, "comment_id": 95030181, "body": "<code>echo &quot;0109150103,1807111225,0305102306&quot; | perl -pE &#39;s&#47;(\\d\\d)(?!\\d)&#47;chr(64+$1)&#47;ge&#39;</code>"}, {"owner": {"reputation": 53041, "user_id": 4653379, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/b3953dbedd0dabff5cbc3db9b0835b14?s=128&d=identicon&r=PG&f=1", "display_name": "zdim", "link": "https://stackoverflow.com/users/4653379/zdim"}, "reply_to_user": {"reputation": 34304, "user_id": 1733163, "user_type": "registered", "accept_rate": 61, "profile_image": "https://i.stack.imgur.com/gmGvj.jpg?s=128&g=1", "display_name": "Miller", "link": "https://stackoverflow.com/users/1733163/miller"}, "edited": false, "score": 0, "creation_date": 1546977428, "post_id": 54085038, "comment_id": 95030454, "body": "@Miller Nice, and very efficient :)  I thought they&#39;d need the array anyway."}], "tags": [], "owner": {"reputation": 53041, "user_id": 4653379, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/b3953dbedd0dabff5cbc3db9b0835b14?s=128&d=identicon&r=PG&f=1", "display_name": "zdim", "link": "https://stackoverflow.com/users/4653379/zdim"}, "is_accepted": true, "score": 7, "last_activity_date": 1546919991, "creation_date": 1546919991, "answer_id": 54085038, "question_id": 54084434, "link": "https://stackoverflow.com/questions/54084434/replace-numbers-with-letters-in-a-part-of-string-in-comma-separated-list-in-per/54085038#54085038", "title": "Replace numbers with letters in a part of string, in comma separated list in Perl", "body": "<p>Can use <a href=\"https://perldoc.perl.org/functions/chr.html\" rel=\"noreferrer\">chr</a></p>\n\n<pre><code>echo \"0109150103,1807111225,0305102306\" | \n    perl -wnE'@t = split /,/; s/(..)$/chr(64+$1)/e for @t; say for @t'\n</code></pre>\n\n<p>where <code>/e</code> modifier makes the replacement part in regex be evaluated as code.</p>\n"}, {"comments": [{"owner": {"reputation": 53041, "user_id": 4653379, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/b3953dbedd0dabff5cbc3db9b0835b14?s=128&d=identicon&r=PG&f=1", "display_name": "zdim", "link": "https://stackoverflow.com/users/4653379/zdim"}, "edited": false, "score": 0, "creation_date": 1546977568, "post_id": 54092450, "comment_id": 95030512, "body": "A nice way to process in place, without splitting into a list (some data copying does happen).  Also see @Miller&#39;s comment under my post for similar but which doesn&#39;t restart regex engine in a loop (which is an overhead with regex)"}, {"owner": {"reputation": 7646, "user_id": 6867048, "user_type": "registered", "accept_rate": 60, "profile_image": "https://www.gravatar.com/avatar/b939fdb5809fed8097c38bdf4370747b?s=128&d=identicon&r=PG&f=1", "display_name": "stack0114106", "link": "https://stackoverflow.com/users/6867048/stack0114106"}, "reply_to_user": {"reputation": 53041, "user_id": 4653379, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/b3953dbedd0dabff5cbc3db9b0835b14?s=128&d=identicon&r=PG&f=1", "display_name": "zdim", "link": "https://stackoverflow.com/users/4653379/zdim"}, "edited": false, "score": 0, "creation_date": 1547038034, "post_id": 54092450, "comment_id": 95053077, "body": "@zdim.. need your help on qstn 54105509 - I&#39;m not able to combine backreference and lookahead.. can you give a try"}, {"owner": {"reputation": 53041, "user_id": 4653379, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/b3953dbedd0dabff5cbc3db9b0835b14?s=128&d=identicon&r=PG&f=1", "display_name": "zdim", "link": "https://stackoverflow.com/users/4653379/zdim"}, "edited": false, "score": 0, "creation_date": 1547056241, "post_id": 54092450, "comment_id": 95064269, "body": "OK, that&#39;s a good idea and a good answer ... what other do you want to do? To &quot;match&quot; somehow if backreference is not there (with negative lookahead)?"}], "tags": [], "owner": {"reputation": 7646, "user_id": 6867048, "user_type": "registered", "accept_rate": 60, "profile_image": "https://www.gravatar.com/avatar/b939fdb5809fed8097c38bdf4370747b?s=128&d=identicon&r=PG&f=1", "display_name": "stack0114106", "link": "https://stackoverflow.com/users/6867048/stack0114106"}, "is_accepted": false, "score": 3, "last_activity_date": 1547036002, "last_edit_date": 1547036002, "creation_date": 1546952670, "answer_id": 54092450, "question_id": 54084434, "link": "https://stackoverflow.com/questions/54084434/replace-numbers-with-letters-in-a-part-of-string-in-comma-separated-list-in-per/54092450#54092450", "title": "Replace numbers with letters in a part of string, in comma separated list in Perl", "body": "<p>Another Perl!</p>\n\n<pre><code>$ echo \"0109150103,1807111225,0305102306\" | perl -ne ' while(/(.+?)(..)(,|$)/g) { print \"$1\",chr(64+$2),\"\\n\" } '\n01091501C\n18071112Y\n03051023F\n$\n</code></pre>\n\n<p>adding Miller's solution</p>\n\n<pre><code>echo \"0109150103,1807111225,0305102306\" | perl -pE 's/(\\d\\d)(?!\\d)/chr(64+$1)/ge'\n</code></pre>\n"}], "owner": {"reputation": 43, "user_id": 3947329, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/402b69267b5329953c8aa72d38266c3f?s=128&d=identicon&r=PG&f=1", "display_name": "mark thompson", "link": "https://stackoverflow.com/users/3947329/mark-thompson"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 109, "favorite_count": 1, "accepted_answer_id": 54085038, "answer_count": 2, "score": 4, "last_activity_date": 1560239602, "creation_date": 1546913841, "last_edit_date": 1560239602, "question_id": 54084434, "link": "https://stackoverflow.com/questions/54084434/replace-numbers-with-letters-in-a-part-of-string-in-comma-separated-list-in-per", "title": "Replace numbers with letters in a part of string, in comma separated list in Perl", "body": "<p>If I have a file of comma separated length 10 number strings (<code>0001010101</code> for example) and want to reformat the string to replace the last two characters of each string with a letter where <code>01</code> is <code>A</code>, and so on up to <code>26</code> being <code>Z</code> what is the beat way to do this in Perl? </p>\n\n<p>Sample file content:</p>\n\n<pre><code>0109150103,1807111225,0305102306\n</code></pre>\n\n<p>Output would then be:</p>\n\n<pre><code>01091501C,18071112Y,03051023F\n</code></pre>\n\n<p>Assume I would do a split on the string into an array and then evaluate each to look at last 2 digits with a substr and replace with appropriate letter. Wondering what the most efficient way to do this vice looking to see if <code>01</code> and then setting to <code>A</code>, and so on. </p>\n\n<p>The brute force way I would do is like:</p>\n\n<pre><code>$data=&lt;file.txt&gt;;\n@tokens=split /,/,$data;\nwhile(@tokens)\n{\n print substr($_,0,7).\"A,\" if(substr($_,8,2)=='01');\n print substr($_,0,7).\"B,\" if(substr($_,8,2)=='02');\n#.\n#.\n print substr($_,0,7).\"Z,\" if(substr($_,8,2)=='26');\n}\n</code></pre>\n"}, {"tags": ["perl", "error-handling", "pipe", "ipc"], "answers": [{"comments": [{"owner": {"reputation": 1437, "user_id": 2518556, "user_type": "registered", "accept_rate": 54, "profile_image": "https://i.stack.imgur.com/7mTHZ.jpg?s=128&g=1", "display_name": "yahermann", "link": "https://stackoverflow.com/users/2518556/yahermann"}, "edited": false, "score": 0, "creation_date": 1546888273, "post_id": 54080099, "comment_id": 94994138, "body": "Thanks for the quick and detailed answer! However, <code>or die ...</code> is not catching error returned by <code>gpg</code>. May have something to do with a child process being created by <code>-|</code>, as described in <a href=\"https://perldoc.perl.org/functions/open.html\" rel=\"nofollow noreferrer\">perldoc.perl.org/functions/open.html</a>.  Just checking <code>$!</code> appears to work. Robust enough?"}, {"owner": {"reputation": 126333, "user_id": 14660, "user_type": "registered", "accept_rate": 62, "profile_image": "https://www.gravatar.com/avatar/e55e0ec3c00f834d78fbdddeaa36e308?s=128&d=identicon&r=PG", "display_name": "Schwern", "link": "https://stackoverflow.com/users/14660/schwern"}, "reply_to_user": {"reputation": 1437, "user_id": 2518556, "user_type": "registered", "accept_rate": 54, "profile_image": "https://i.stack.imgur.com/7mTHZ.jpg?s=128&g=1", "display_name": "yahermann", "link": "https://stackoverflow.com/users/2518556/yahermann"}, "edited": false, "score": 0, "creation_date": 1546888479, "post_id": 54080099, "comment_id": 94994246, "body": "@yahermann <code>open ... or die</code> will catch errors when the program is initially executed. Errors while reading or writing have to be caught separately. <code>print</code> does return whether it succeeds or not, so you can check that. And you can use a combination of <code>eof</code> and <a href=\"https://perldoc.perl.org/functions/readline.html\" rel=\"nofollow noreferrer\"><code>readline</code></a> instead of <code>&lt;&gt;</code> to be more robust about reading. As you can see this rapidly gets complicated. I recommend you use the modules or perhaps <a href=\"https://metacpan.org/pod/IPC::Run\" rel=\"nofollow noreferrer\">IPC::Run</a>."}, {"owner": {"reputation": 1437, "user_id": 2518556, "user_type": "registered", "accept_rate": 54, "profile_image": "https://i.stack.imgur.com/7mTHZ.jpg?s=128&g=1", "display_name": "yahermann", "link": "https://stackoverflow.com/users/2518556/yahermann"}, "edited": false, "score": 0, "creation_date": 1546892686, "post_id": 54080099, "comment_id": 94996019, "body": "Further testing without error conditions returns <code>gpg: error writing to &#39;-&#39;: Broken pipe</code>. So unless I&#39;ve goofed it appears your code snippet won&#39;t work.  Also tried using <code>eof</code> and <code>readline</code>, and checking return value of <code>print</code>, and error condition is still not caught. Sigh........ I will try <code>IRC::Run</code>."}, {"owner": {"reputation": 126333, "user_id": 14660, "user_type": "registered", "accept_rate": 62, "profile_image": "https://www.gravatar.com/avatar/e55e0ec3c00f834d78fbdddeaa36e308?s=128&d=identicon&r=PG", "display_name": "Schwern", "link": "https://stackoverflow.com/users/14660/schwern"}, "reply_to_user": {"reputation": 1437, "user_id": 2518556, "user_type": "registered", "accept_rate": 54, "profile_image": "https://i.stack.imgur.com/7mTHZ.jpg?s=128&g=1", "display_name": "yahermann", "link": "https://stackoverflow.com/users/2518556/yahermann"}, "edited": false, "score": 0, "creation_date": 1546900801, "post_id": 54080099, "comment_id": 94999152, "body": "@yahermann Something got goofed up. For example, <code>perl -wle &#39;open my $fh, &quot;-|&quot;, &quot;gpg --version&quot; or die $!; print &lt;$fh&gt;&#39;</code> works fine. May I again suggest using the modules?"}, {"owner": {"reputation": 1437, "user_id": 2518556, "user_type": "registered", "accept_rate": 54, "profile_image": "https://i.stack.imgur.com/7mTHZ.jpg?s=128&g=1", "display_name": "yahermann", "link": "https://stackoverflow.com/users/2518556/yahermann"}, "edited": false, "score": 0, "creation_date": 1546901834, "post_id": 54080099, "comment_id": 94999449, "body": "re modules: of course you&#39;re absolutely right that&#39;s the best way. However I already burned several hours yesterday, getting finicky gpg to work. I&#39;ve reached the end of the line, and your suggestion to use IPC::Run does work well enough (thank you again!)."}, {"owner": {"reputation": 126333, "user_id": 14660, "user_type": "registered", "accept_rate": 62, "profile_image": "https://www.gravatar.com/avatar/e55e0ec3c00f834d78fbdddeaa36e308?s=128&d=identicon&r=PG", "display_name": "Schwern", "link": "https://stackoverflow.com/users/14660/schwern"}, "reply_to_user": {"reputation": 1437, "user_id": 2518556, "user_type": "registered", "accept_rate": 54, "profile_image": "https://i.stack.imgur.com/7mTHZ.jpg?s=128&g=1", "display_name": "yahermann", "link": "https://stackoverflow.com/users/2518556/yahermann"}, "edited": false, "score": 0, "creation_date": 1546912523, "post_id": 54080099, "comment_id": 95001809, "body": "@yahermann I&#39;m glad you got it working. Here&#39;s some further reading. <a href=\"https://www.wikiwand.com/en/Sunk_cost\" rel=\"nofollow noreferrer\">wikiwand.com/en/Sunk_cost</a>"}, {"owner": {"reputation": 320771, "user_id": 589924, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/b2cf53d5a3d25f95c0db4e025aed4153?s=128&d=identicon&r=PG", "display_name": "ikegami", "link": "https://stackoverflow.com/users/589924/ikegami"}, "edited": false, "score": 3, "creation_date": 1546923068, "post_id": 54080099, "comment_id": 95003824, "body": "Re &quot;<i>However, <code>or die ...</code> is not catching error returned by <code>gpg</code>.</i>&quot;, It does if used on the <code>close</code>. Note that you&#39;ll avoid the code injection bugs, get better error reporting and avoid creating a shell if you use <code>open(my $gpg_out, &quot;-|&quot;, &quot;gpg&quot;, &quot;--pinentry-mode&quot;, &quot;loopback&quot;, ...)</code>"}, {"owner": {"reputation": 1437, "user_id": 2518556, "user_type": "registered", "accept_rate": 54, "profile_image": "https://i.stack.imgur.com/7mTHZ.jpg?s=128&g=1", "display_name": "yahermann", "link": "https://stackoverflow.com/users/2518556/yahermann"}, "edited": false, "score": 0, "creation_date": 1546999921, "post_id": 54080099, "comment_id": 95037574, "body": "@Schwern LOL, here&#39;s one for ya <a href=\"https://en.wikipedia.org/wiki/Diminishing_returns\" rel=\"nofollow noreferrer\">en.wikipedia.org/wiki/Diminishing_returns</a>. Touche :-). All kidding aside, thank you for helping me out with this!"}], "tags": [], "owner": {"reputation": 126333, "user_id": 14660, "user_type": "registered", "accept_rate": 62, "profile_image": "https://www.gravatar.com/avatar/e55e0ec3c00f834d78fbdddeaa36e308?s=128&d=identicon&r=PG", "display_name": "Schwern", "link": "https://stackoverflow.com/users/14660/schwern"}, "is_accepted": false, "score": 3, "last_activity_date": 1546886991, "creation_date": 1546886991, "answer_id": 54080099, "question_id": 54079989, "link": "https://stackoverflow.com/questions/54079989/detecting-error-using-perl-system-with-multiple-piped-processes/54080099#54080099", "title": "Detecting error using Perl system() with multiple piped processes", "body": "<p>If you need fine control like that, don't use the shell.</p>\n\n<p>Calls to <code>mysql</code> can be replaced with using the <a href=\"https://metacpan.org/pod/DBI\" rel=\"nofollow noreferrer\">DBI</a> and <a href=\"https://metacpan.org/pod/DBD::mysql\" rel=\"nofollow noreferrer\">DBD::mysql</a> libraries. <code>gpg</code> can be replaced with <a href=\"https://metacpan.org/pod/Crypt::GPG\" rel=\"nofollow noreferrer\">Crypt::GPG</a>.</p>\n\n<p>If this is not possible, do the piping yourself with <a href=\"https://perldoc.perl.org/functions/open.html\" rel=\"nofollow noreferrer\"><code>open</code> and its <code>|-</code> and <code>-|</code> modes</a>.</p>\n\n<pre><code>open(\n    my $gpg_out,\n    \"-|\",\n    \"gpg --pinentry-mode loopback --passphrase $passphrase --decrypt $my_encrypted_backup_file\"\n) or die \"Can't run gpg: $!\";\n\nopen(\n    my $mysql_in,\n    \"|-\",\n    \"mysql --host=myhost --user=myuser --password=mysecret mydatabase\"\n) or die \"Can't run mysql: $!\";\n\nwhile(my $line = &lt;$gpg_out&gt;) {\n    print $mysql_in $line;\n}\n\nclose $gpg_out;\nclose $mysql_in;\n</code></pre>\n"}, {"tags": [], "owner": {"reputation": 1437, "user_id": 2518556, "user_type": "registered", "accept_rate": 54, "profile_image": "https://i.stack.imgur.com/7mTHZ.jpg?s=128&g=1", "display_name": "yahermann", "link": "https://stackoverflow.com/users/2518556/yahermann"}, "is_accepted": false, "score": 2, "last_activity_date": 1546900677, "last_edit_date": 1546900677, "creation_date": 1546900128, "answer_id": 54082769, "question_id": 54079989, "link": "https://stackoverflow.com/questions/54079989/detecting-error-using-perl-system-with-multiple-piped-processes/54082769#54082769", "title": "Detecting error using Perl system() with multiple piped processes", "body": "<p>Thanks to @Schwern for suggesting IPC::Run.  Here is a working and tested solution:</p>\n\n<pre><code>use IPC::Run qw( run );\n\nmy $gpg = [\n  \"gpg\",\n  \"--pinentry-mode=loopback\",\n  \"--passphrase=$my_passphrase\",\n  \"--decrypt\",\n  $my_backupfilepath\n];\n\nmy $mysql = [\n  \"mysql\",\n  \"--host=$mysql_host\"\n  \"--user=$mysql_user\"\n  \"--password=$mysql_pass\"\n  $mysql_dbname\n];\n\nrun( $gpg, '|', $mysql ) || die \"Error\";\n</code></pre>\n\n<p>I still can't manage to capture a detailed error message, and I'm still seeing overly chatty output from gpg &amp; mysql.... but alas I've spent enough time battling Perl and GPG already!  Improvements gladly accepted.</p>\n\n<p>Unrelated to the core question, but for anyone using this recipe as is... to get GPG 2.1+ to accept a passphrase via commandline, and to not cache it, you must add the following to <code>gpg-agent.conf</code>:</p>\n\n<pre><code>allow-loopback-pinentry\ndefault-cache-ttl 1\nmax-cache-ttl 1\n</code></pre>\n\n<p>Source: <a href=\"https://wiki.archlinux.org/index.php/GnuPG#pinentry\" rel=\"nofollow noreferrer\">https://wiki.archlinux.org/index.php/GnuPG#pinentry</a></p>\n"}], "owner": {"reputation": 1437, "user_id": 2518556, "user_type": "registered", "accept_rate": 54, "profile_image": "https://i.stack.imgur.com/7mTHZ.jpg?s=128&g=1", "display_name": "yahermann", "link": "https://stackoverflow.com/users/2518556/yahermann"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 68, "favorite_count": 0, "answer_count": 2, "score": 3, "last_activity_date": 1546923169, "creation_date": 1546886413, "last_edit_date": 1546923169, "question_id": 54079989, "link": "https://stackoverflow.com/questions/54079989/detecting-error-using-perl-system-with-multiple-piped-processes", "title": "Detecting error using Perl system() with multiple piped processes", "body": "<p>I'm trying to implement a MySQL database restore from a GPG-encrypted file.  </p>\n\n<p>The following works perfectly well:</p>\n\n<pre><code>my $status = system(\n    \"gpg --pinentry-mode loopback --passphrase $passphrase --decrypt $my_encrypted_backup_file\"\n  . \" | \"\n  . \"mysql --host=myhost --user=myuser --password=mysecret mydatabase\"\n);\n</code></pre>\n\n<p><em>assuming no error conditions</em>.  </p>\n\n<p>However, if an error condition occurs during the first process (such as an incorrect $passphrase), <code>$status == 0</code> which erroneously indicates success.  I understand this is because the status is returned from the second process, the mysql process.</p>\n\n<p>Is there a generalized way, using <code>system()</code>, to either obtain the status from all the piped-together processes, or to somehow detect an error if <em>any</em> one such process fails?</p>\n\n<p>BTW, I have tested <code>gpg</code> by itself (without its output being piped into mysql) and it does return an error code when an incorrect $passphrase is entered.</p>\n\n<p>A workaround might be some option flag in <code>mysql</code> that returns an error when it receives nothing from <code>gpg</code>. Another workaround is to break up the processes and use a tmp file of some sort. However, I'd love a more generalized solution. Thanks!</p>\n"}, {"tags": ["perl"], "comments": [{"owner": {"reputation": 793701, "user_id": 19068, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/1d2d3229ed1961d2bd81853242493247?s=128&d=identicon&r=PG", "display_name": "Quentin", "link": "https://stackoverflow.com/users/19068/quentin"}, "edited": false, "score": 1, "creation_date": 1546877628, "post_id": 54077908, "comment_id": 94989206, "body": "<a href=\"https://perldoc.perl.org/perlfaq1.html#What&#39;s-the-difference-between-%22perl%22-and-%22Perl%22%3f\" rel=\"nofollow noreferrer\">There is no such thing as PERL</a>"}, {"owner": {"reputation": 793701, "user_id": 19068, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/1d2d3229ed1961d2bd81853242493247?s=128&d=identicon&r=PG", "display_name": "Quentin", "link": "https://stackoverflow.com/users/19068/quentin"}, "edited": false, "score": 7, "creation_date": 1546877723, "post_id": 54077908, "comment_id": 94989257, "body": "<code>exit</code> will, generally, quit the entire program. You need to provide a <a href=\"https://stackoverflow.com/help/minimal-reproducible-example\">minimal reproducible example</a>."}, {"owner": {"reputation": 27648, "user_id": 9952196, "user_type": "registered", "profile_image": "https://graph.facebook.com/10216835866235879/picture?type=large", "display_name": "Shawn", "link": "https://stackoverflow.com/users/9952196/shawn"}, "edited": false, "score": 0, "creation_date": 1546877734, "post_id": 54077908, "comment_id": 94989266, "body": "Er... Show this code where <code>exit</code> doesn&#39;t end the program?"}, {"owner": {"reputation": 4229, "user_id": 3973175, "user_type": "registered", "accept_rate": 52, "profile_image": "https://www.gravatar.com/avatar/9c15391d610e59c350912be638b14074?s=128&d=identicon&r=PG", "display_name": "con", "link": "https://stackoverflow.com/users/3973175/con"}, "edited": false, "score": 1, "creation_date": 1546886546, "post_id": 54077908, "comment_id": 94993414, "body": "Check out <a href=\"https://stackoverflow.com/questions/3940106/how-can-i-redirect-output-of-die-function-to-a-file-in-perl\" title=\"how can i redirect output of die function to a file in perl\">stackoverflow.com/questions/3940106/&hellip;</a>"}, {"owner": {"reputation": 121105, "user_id": 2766176, "user_type": "registered", "accept_rate": 61, "profile_image": "https://www.gravatar.com/avatar/edd8638efe875601bfe394a8aea5b16d?s=128&d=identicon&r=PG", "display_name": "brian d foy", "link": "https://stackoverflow.com/users/2766176/brian-d-foy"}, "edited": false, "score": 0, "creation_date": 1546913745, "post_id": 54077908, "comment_id": 95002050, "body": "I think this is an interesting question although you need to add some specifics to help us answer it. Maybe we can re-open this when we know a bit more."}, {"owner": {"reputation": 367, "user_id": 6288248, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/owuR9.png?s=128&g=1", "display_name": "Leon", "link": "https://stackoverflow.com/users/6288248/leon"}, "edited": false, "score": 0, "creation_date": 1546961846, "post_id": 54077908, "comment_id": 95022451, "body": "Thanks for your comments. Following your suggestion, I added code example in my question. If you have any questions, please let me know. Thanks again."}, {"owner": {"reputation": 367, "user_id": 6288248, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/owuR9.png?s=128&g=1", "display_name": "Leon", "link": "https://stackoverflow.com/users/6288248/leon"}, "reply_to_user": {"reputation": 4229, "user_id": 3973175, "user_type": "registered", "accept_rate": 52, "profile_image": "https://www.gravatar.com/avatar/9c15391d610e59c350912be638b14074?s=128&d=identicon&r=PG", "display_name": "con", "link": "https://stackoverflow.com/users/3973175/con"}, "edited": false, "score": 0, "creation_date": 1546968458, "post_id": 54077908, "comment_id": 95026256, "body": "@con, thanks for your link. I tested it. It does not work on my case. I provided a code example in my questions. Any further help would be highly appreciated."}, {"owner": {"reputation": 8541, "user_id": 8366499, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/z9t89.jpg?s=128&g=1", "display_name": "divibisan", "link": "https://stackoverflow.com/users/8366499/divibisan"}, "edited": false, "score": 0, "creation_date": 1546972673, "post_id": 54077908, "comment_id": 95028217, "body": "You&#39;re missing a closing `` ` `` in your <code>$line</code> line. Does this typo exist in your code?"}, {"owner": {"reputation": 367, "user_id": 6288248, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/owuR9.png?s=128&g=1", "display_name": "Leon", "link": "https://stackoverflow.com/users/6288248/leon"}, "edited": false, "score": 0, "creation_date": 1546976762, "post_id": 54077908, "comment_id": 95030161, "body": "no. Sorry about that. I manually input the code because my original code consists of other settings. I do not want to show everything here."}, {"owner": {"reputation": 367, "user_id": 6288248, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/owuR9.png?s=128&g=1", "display_name": "Leon", "link": "https://stackoverflow.com/users/6288248/leon"}, "reply_to_user": {"reputation": 121105, "user_id": 2766176, "user_type": "registered", "accept_rate": 61, "profile_image": "https://www.gravatar.com/avatar/edd8638efe875601bfe394a8aea5b16d?s=128&d=identicon&r=PG", "display_name": "brian d foy", "link": "https://stackoverflow.com/users/2766176/brian-d-foy"}, "edited": false, "score": 0, "creation_date": 1546980750, "post_id": 54077908, "comment_id": 95031871, "body": "@brian d foy, yes. If you could add command &quot;quit&quot; in PERL, it would be better."}], "answers": [{"comments": [{"owner": {"reputation": 367, "user_id": 6288248, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/owuR9.png?s=128&g=1", "display_name": "Leon", "link": "https://stackoverflow.com/users/6288248/leon"}, "edited": false, "score": 0, "creation_date": 1547135399, "post_id": 54102243, "comment_id": 95095902, "body": "Thanks Brian! Is there any other way to avoid the label. I do not want to &quot;ruin&quot; the program structure. Any further suggestion would be highly appreciated."}, {"owner": {"reputation": 121105, "user_id": 2766176, "user_type": "registered", "accept_rate": 61, "profile_image": "https://www.gravatar.com/avatar/edd8638efe875601bfe394a8aea5b16d?s=128&d=identicon&r=PG", "display_name": "brian d foy", "link": "https://stackoverflow.com/users/2766176/brian-d-foy"}, "reply_to_user": {"reputation": 367, "user_id": 6288248, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/owuR9.png?s=128&g=1", "display_name": "Leon", "link": "https://stackoverflow.com/users/6288248/leon"}, "edited": false, "score": 0, "creation_date": 1547141690, "post_id": 54102243, "comment_id": 95099549, "body": "You aren&#39;t ruining the structure. This is how Perl intends you to do this."}], "tags": [], "owner": {"reputation": 121105, "user_id": 2766176, "user_type": "registered", "accept_rate": 61, "profile_image": "https://www.gravatar.com/avatar/edd8638efe875601bfe394a8aea5b16d?s=128&d=identicon&r=PG", "display_name": "brian d foy", "link": "https://stackoverflow.com/users/2766176/brian-d-foy"}, "is_accepted": true, "score": 1, "last_activity_date": 1546998615, "creation_date": 1546998615, "answer_id": 54102243, "question_id": 54077908, "link": "https://stackoverflow.com/questions/54077908/how-to-force-perl-scripts-quit-when-it-is-running-in-loops/54102243#54102243", "title": "How to force Perl scripts quit when it is running in loops?", "body": "<p>I think what you want are loop controls. You can use <code>next</code>, <code>last</code>, or <code>redo</code> to break out of a loop early, stop a loop completely, or process the same iteration again. With nested loops you can use a label to specify which loop you want to control:</p>\n\n<pre><code>DIR: foreach my $dir ( ... ) {\n    ...\n    LINE: foreach my $line ( ... ) {\n        next LINE if $skip_line;\n        last LINE if ...;\n        next DIR if ...;\n        }\n    }\n</code></pre>\n"}], "owner": {"reputation": 367, "user_id": 6288248, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/owuR9.png?s=128&g=1", "display_name": "Leon", "link": "https://stackoverflow.com/users/6288248/leon"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 506, "favorite_count": 0, "accepted_answer_id": 54102243, "answer_count": 1, "score": 2, "last_activity_date": 1546998615, "creation_date": 1546877489, "last_edit_date": 1546976817, "question_id": 54077908, "link": "https://stackoverflow.com/questions/54077908/how-to-force-perl-scripts-quit-when-it-is-running-in-loops", "title": "How to force Perl scripts quit when it is running in loops?", "body": "<p>I use Perl to analyze my research data (multiple large files which may be edited or modified by users while program is running). </p>\n\n<p>In my program, there are  scripts to check whether the file is complete or not before it analyze the data in one of files. This check is processed in multiple loops. If I simply use \"exit\", it only exit a loop. How can I force the scripts to quit and generate an error message for user before it quit? In my program, there is a defined variable which be output to a log file at the end of the program. I do NOT want to use GOTO command. Any further information is highly appreciated.</p>\n\n<pre><code>    ......\nforeach $dir (@dirs)\n{\n   ...\n   $file=\"$dir$filename\";\n   $file_size=`wc -l $file`;\n   $line=`grep -n TIMESTEP $file`;\n\n   #read the first line no of each frame in a data file\n   @values=split(/\\r?\\n/,$line);\n   $loop_i=0;\n   $tmp=0;   #save line no for the first frame \n   foreach $sub_line (@values)\n   {\n     @sub_values=split(/:/,$sub_line);\n     $line_no[$loop_i]=$sub_values[0];\n     #check the line number in each frame same or not, if not quit\n     if($loop_i==1){$tmp=$line_no[$loop_i]-$line_no[$loop_i-1];}\n     elsif($loop_i&gt;1)\n     { $_=$line_no[$loop_i]-$line_no[$loop_i-1]; \n       if($_ &lt;&gt; $tmp) \n       {$flag=0; $err_message=\"$err_message; incomplete data (each frame has different line number)\"; \n       exit;   #cannot quit the whole program \n       } \n     }\n     else{;}\n     $loop_i++;\n   }#end foreach $sub_line (@values)\n   .....\n}#end foreach $dir (@dirs)\n\n....\n</code></pre>\n"}, {"tags": ["perl", "colors", "terminal", "exec"], "comments": [{"owner": {"reputation": 62184, "user_id": 7231, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/81b76985f3985e35492e25880493d045?s=128&d=identicon&r=PG", "display_name": "Dave Cross", "link": "https://stackoverflow.com/users/7231/dave-cross"}, "edited": false, "score": 0, "creation_date": 1546875976, "post_id": 54077379, "comment_id": 94988275, "body": "Do you mean <code>eval</code> or <code>exec</code>?"}, {"owner": {"reputation": 1507, "user_id": 4296244, "user_type": "registered", "accept_rate": 54, "profile_image": "https://www.gravatar.com/avatar/e8c0940effc84e18a8541145ef2dfbfe?s=128&d=identicon&r=PG&f=1", "display_name": "Natjo", "link": "https://stackoverflow.com/users/4296244/natjo"}, "reply_to_user": {"reputation": 62184, "user_id": 7231, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/81b76985f3985e35492e25880493d045?s=128&d=identicon&r=PG", "display_name": "Dave Cross", "link": "https://stackoverflow.com/users/7231/dave-cross"}, "edited": false, "score": 0, "creation_date": 1546876496, "post_id": 54077379, "comment_id": 94988548, "body": "My mistake, I meant <code>exec</code>"}, {"owner": {"reputation": 62184, "user_id": 7231, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/81b76985f3985e35492e25880493d045?s=128&d=identicon&r=PG", "display_name": "Dave Cross", "link": "https://stackoverflow.com/users/7231/dave-cross"}, "edited": false, "score": 2, "creation_date": 1546876630, "post_id": 54077379, "comment_id": 94988621, "body": "Programming is all about attention to detail :-)"}], "answers": [{"comments": [{"owner": {"reputation": 1507, "user_id": 4296244, "user_type": "registered", "accept_rate": 54, "profile_image": "https://www.gravatar.com/avatar/e8c0940effc84e18a8541145ef2dfbfe?s=128&d=identicon&r=PG&f=1", "display_name": "Natjo", "link": "https://stackoverflow.com/users/4296244/natjo"}, "edited": false, "score": 0, "creation_date": 1546876746, "post_id": 54077658, "comment_id": 94988688, "body": "Thank you! I should have tried <code>exec</code> with something different than <code>ls</code> before posting it here."}, {"owner": {"reputation": 110113, "user_id": 168657, "user_type": "registered", "accept_rate": 92, "profile_image": "https://www.gravatar.com/avatar/f14e7610fca39322ebbf23530def15f8?s=128&d=identicon&r=PG", "display_name": "mob", "link": "https://stackoverflow.com/users/168657/mob"}, "edited": false, "score": 0, "creation_date": 1546883694, "post_id": 54077658, "comment_id": 94992224, "body": "<code>ls</code> doesn&#39;t automatically turn on colors in the regular shell either. But <code>ls</code> is often (by default in Ubuntu, for example) aliased to <code>ls --color=auto</code>."}, {"owner": {"reputation": 62184, "user_id": 7231, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/81b76985f3985e35492e25880493d045?s=128&d=identicon&r=PG", "display_name": "Dave Cross", "link": "https://stackoverflow.com/users/7231/dave-cross"}, "reply_to_user": {"reputation": 110113, "user_id": 168657, "user_type": "registered", "accept_rate": 92, "profile_image": "https://www.gravatar.com/avatar/f14e7610fca39322ebbf23530def15f8?s=128&d=identicon&r=PG", "display_name": "mob", "link": "https://stackoverflow.com/users/168657/mob"}, "edited": false, "score": 0, "creation_date": 1546892452, "post_id": 54077658, "comment_id": 94995936, "body": "@mob: Thanks. I was trying to work out exactly what had happened there."}], "tags": [], "owner": {"reputation": 62184, "user_id": 7231, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/81b76985f3985e35492e25880493d045?s=128&d=identicon&r=PG", "display_name": "Dave Cross", "link": "https://stackoverflow.com/users/7231/dave-cross"}, "is_accepted": true, "score": 3, "last_activity_date": 1546876600, "creation_date": 1546876600, "answer_id": 54077658, "question_id": 54077379, "link": "https://stackoverflow.com/questions/54077379/preserve-color-running-an-external-command-via-exec/54077658#54077658", "title": "Preserve color running an external command via exec", "body": "<p>It appears that <code>ls</code> doesn't automatically turn on colours in a subshell.</p>\n\n<pre><code>$ echo `ls`\n# Output is uncoloured\n</code></pre>\n\n<p>We can work around that by using the <code>--color</code> command-line option.</p>\n\n<pre><code>$ echo `ls --color`\n# Output is coloured\n</code></pre>\n\n<p>You can use a similar trick in a subshell that is invoked from Perl.</p>\n\n<pre><code>$ perl -e 'system \"ls\"'\n# Output is uncoloured\n\n$ perl -e 'system \"ls --color\"'\n# Output is coloured.\n</code></pre>\n"}], "owner": {"reputation": 1507, "user_id": 4296244, "user_type": "registered", "accept_rate": 54, "profile_image": "https://www.gravatar.com/avatar/e8c0940effc84e18a8541145ef2dfbfe?s=128&d=identicon&r=PG&f=1", "display_name": "Natjo", "link": "https://stackoverflow.com/users/4296244/natjo"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 118, "favorite_count": 0, "accepted_answer_id": 54077658, "answer_count": 1, "score": 2, "last_activity_date": 1546876600, "creation_date": 1546875515, "last_edit_date": 1546876479, "question_id": 54077379, "link": "https://stackoverflow.com/questions/54077379/preserve-color-running-an-external-command-via-exec", "title": "Preserve color running an external command via exec", "body": "<p>Is it possible to run an external command in a perl script and preserve the color?</p>\n\n<p>As a simple example, how would I run <code>ls</code> from a perl script and get colored output:</p>\n\n<pre><code>#! /usr/bin/perl\n\nexec \"ls\";\n</code></pre>\n\n<p>When I run this, the output is all white, but I would like to preserve the colors, in this example for the directories and executables, etc...</p>\n"}, {"tags": ["regex", "perl"], "answers": [{"comments": [{"owner": {"reputation": 705, "user_id": 6490359, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/711f0af849e984c1633fe69ae8354b8f?s=128&d=identicon&r=PG&f=1", "display_name": "Silvar", "link": "https://stackoverflow.com/users/6490359/silvar"}, "edited": false, "score": 0, "creation_date": 1546854884, "post_id": 54071793, "comment_id": 94976763, "body": "To clarify for the OP: You get an array of values from <code>(...)</code>, but a reference to an array from <code>[...]</code>. The reference is just one scalar value, and when assigned to an array, becomes the first and only value in the array."}, {"owner": {"reputation": 87649, "user_id": 17389, "user_type": "registered", "accept_rate": 38, "profile_image": "https://www.gravatar.com/avatar/cd06d1314817ce946ab796af8750b56a?s=128&d=identicon&r=PG", "display_name": "ysth", "link": "https://stackoverflow.com/users/17389/ysth"}, "reply_to_user": {"reputation": 705, "user_id": 6490359, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/711f0af849e984c1633fe69ae8354b8f?s=128&d=identicon&r=PG&f=1", "display_name": "Silvar", "link": "https://stackoverflow.com/users/6490359/silvar"}, "edited": false, "score": 2, "creation_date": 1546855513, "post_id": 54071793, "comment_id": 94977147, "body": "@Silvar no, an array is a variable and reference type, not a type of value.  In the correct assignment, there is a list on the right of the <code>=</code>.  And even then,  the <code>()</code> do not make a list, the comma operator in list context does.  The parentheses are only needed because <code>=</code> is higher precedence than <code>,</code>"}, {"owner": {"reputation": 320771, "user_id": 589924, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/b2cf53d5a3d25f95c0db4e025aed4153?s=128&d=identicon&r=PG", "display_name": "ikegami", "link": "https://stackoverflow.com/users/589924/ikegami"}, "edited": false, "score": 1, "creation_date": 1546859524, "post_id": 54071793, "comment_id": 94979337, "body": "Re &quot;<i>You get an array of values from (...)</i>&quot;, No, you simply get the two scalars within. No array; just two scalars on the stack."}], "tags": [], "owner": {"reputation": 198290, "user_id": 1030675, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/957956ce51706d03f19a4dc85a767bb1?s=128&d=identicon&r=PG", "display_name": "choroba", "link": "https://stackoverflow.com/users/1030675/choroba"}, "is_accepted": false, "score": 5, "last_activity_date": 1546854988, "last_edit_date": 1546854988, "creation_date": 1546854036, "answer_id": 54071793, "question_id": 54071708, "link": "https://stackoverflow.com/questions/54071708/expression-in-if-condition-is-returning-true-for-wrong-pattern-matching-if-im/54071793#54071793", "title": "expression in if condition is returning true for wrong pattern matching (if I&#39;m not wrong)", "body": "<p>Your array contains one element, the array reference <code>[\"string\", 12]</code>. When the array reference is used as a string, it stringifies to something like <code>ARRAY(0x1e80cb8)</code> which contains digits.</p>\n\n<p>To assign two elements, use</p>\n\n<pre><code>my @a = ('string', 12);\n</code></pre>\n"}], "owner": {"reputation": 1, "user_id": 10878308, "user_type": "registered", "profile_image": "https://lh4.googleusercontent.com/-t74CVjyHFH0/AAAAAAAAAAI/AAAAAAAAApI/JVTO-p5aPuw/photo.jpg?sz=128", "display_name": "sadana venki", "link": "https://stackoverflow.com/users/10878308/sadana-venki"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 57, "favorite_count": 0, "answer_count": 1, "score": 0, "last_activity_date": 1546854988, "creation_date": 1546853633, "question_id": 54071708, "link": "https://stackoverflow.com/questions/54071708/expression-in-if-condition-is-returning-true-for-wrong-pattern-matching-if-im", "title": "expression in if condition is returning true for wrong pattern matching (if I&#39;m not wrong)", "body": "<p>I'm new to perl. trying the V basic code where i could see that wrong pattern matching was returing true.\nPasting the code here.</p>\n\n<pre><code>my @a =[\"string\", 12]; if( $a[0]=~ /(\\d+)/ ){  print\"anything\";}\n</code></pre>\n\n<p>I think program control shouldn't enter the print statement but actually it does.\nDidn't understand that how come string has matched with the digit value (\\d+).\nThanks in advance.</p>\n"}, {"tags": ["perl", "hash"], "comments": [{"owner": {"reputation": 78982, "user_id": 1848654, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/84180c0f3c9c04f8b8f0613fc0129dac?s=128&d=identicon&r=PG", "display_name": "melpomene", "link": "https://stackoverflow.com/users/1848654/melpomene"}, "edited": false, "score": 0, "creation_date": 1546849056, "post_id": 54070085, "comment_id": 94974045, "body": "<code>Global symbol &quot;@lines&quot; requires explicit package name (did you forget to declare &quot;my @lines&quot;?) at .code.tio line 6.</code>"}, {"owner": {"reputation": 19, "user_id": 7660841, "user_type": "registered", "profile_image": "https://lh5.googleusercontent.com/-RB3yUCQBenw/AAAAAAAAAAI/AAAAAAAABFQ/VROfxXQnCBw/photo.jpg?sz=128", "display_name": "sandeep nagori", "link": "https://stackoverflow.com/users/7660841/sandeep-nagori"}, "reply_to_user": {"reputation": 78982, "user_id": 1848654, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/84180c0f3c9c04f8b8f0613fc0129dac?s=128&d=identicon&r=PG", "display_name": "melpomene", "link": "https://stackoverflow.com/users/1848654/melpomene"}, "edited": false, "score": 0, "creation_date": 1546850652, "post_id": 54070085, "comment_id": 94974660, "body": "it was there in my code but I did not add it in sample.Added it now."}, {"owner": {"reputation": 78982, "user_id": 1848654, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/84180c0f3c9c04f8b8f0613fc0129dac?s=128&d=identicon&r=PG", "display_name": "melpomene", "link": "https://stackoverflow.com/users/1848654/melpomene"}, "edited": false, "score": 0, "creation_date": 1546850731, "post_id": 54070085, "comment_id": 94974701, "body": "<code>testname is hmma_884_row_row_f16_f16</code> Where does this come from?"}, {"owner": {"reputation": 19, "user_id": 7660841, "user_type": "registered", "profile_image": "https://lh5.googleusercontent.com/-RB3yUCQBenw/AAAAAAAAAAI/AAAAAAAABFQ/VROfxXQnCBw/photo.jpg?sz=128", "display_name": "sandeep nagori", "link": "https://stackoverflow.com/users/7660841/sandeep-nagori"}, "reply_to_user": {"reputation": 78982, "user_id": 1848654, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/84180c0f3c9c04f8b8f0613fc0129dac?s=128&d=identicon&r=PG", "display_name": "melpomene", "link": "https://stackoverflow.com/users/1848654/melpomene"}, "edited": false, "score": 0, "creation_date": 1546851644, "post_id": 54070085, "comment_id": 94975077, "body": "you can replace File.txt with hmma_884_row_row_f16_f16.txt"}, {"owner": {"reputation": 3649, "user_id": 10404329, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/489c51b790b37922d4e80d59b9873cec?s=128&d=identicon&r=PG", "display_name": "Corion", "link": "https://stackoverflow.com/users/10404329/corion"}, "edited": false, "score": 0, "creation_date": 1546853399, "post_id": 54070085, "comment_id": 94975956, "body": "Please <a href=\"https://stackoverflow.com/posts/54070085/edit\">edit</a> your post and add a representative input file. Also, you can inspect what your data actually is by using <a href=\"https://metacpan.org/pod/Data::Dumper\" rel=\"nofollow noreferrer\">Data::Dumper</a> and looking at the data you actually have."}, {"owner": {"reputation": 705, "user_id": 6490359, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/711f0af849e984c1633fe69ae8354b8f?s=128&d=identicon&r=PG&f=1", "display_name": "Silvar", "link": "https://stackoverflow.com/users/6490359/silvar"}, "edited": false, "score": 1, "creation_date": 1546854212, "post_id": 54070085, "comment_id": 94976401, "body": "<code>if (!$all_cat eq &quot;&quot;)</code> is an odd construct. Why go out of your way to <i>make it sound</i> like you&#39;re testing for emptiness when you&#39;re actually - in a roundabout way - testing truthness? <code>!$all_cat</code> is evaluated first, giving a truth value, that will be converted to a string (either &quot;1&quot; or &quot;&quot;, the empty string) for string comparison. It&#39;s clearer to say just <code>if ($all_cat)</code> if you want truthness or <code>if ($all_cat ne &#39;&#39;)</code> if you want non-empty."}, {"owner": {"reputation": 705, "user_id": 6490359, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/711f0af849e984c1633fe69ae8354b8f?s=128&d=identicon&r=PG&f=1", "display_name": "Silvar", "link": "https://stackoverflow.com/users/6490359/silvar"}, "edited": false, "score": 0, "creation_date": 1546854643, "post_id": 54070085, "comment_id": 94976616, "body": "Or even <code>if (not $all_cat eq &#39;&#39;)</code> - <code>not</code> has a considerably lower precendence than <code>!</code>. Perldoc <code>perlcheat</code> is handy for double-checking the precedence rules."}, {"owner": {"reputation": 62184, "user_id": 7231, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/81b76985f3985e35492e25880493d045?s=128&d=identicon&r=PG", "display_name": "Dave Cross", "link": "https://stackoverflow.com/users/7231/dave-cross"}, "edited": false, "score": 0, "creation_date": 1546854672, "post_id": 54070085, "comment_id": 94976639, "body": "Your test output (in both runs) includes <code>testname is hmma_884_row_row_f16_f16</code>. When I run your code, I get <code>testname is</code> and a warning about using an uninitialised value. <code>$testname</code> is set using this code - <code>my($testname) = $_ =~ &#47;\\&#47;.*\\&#47;(.*)\\.&#47;</code> and I can see no way to get the results you claim to see from the data and code that you have given us. I&#39;m happy to help here, but unless you show us code and data that actually exhibit the behaviour that you describe, I would just be guessing and that would be a waste of my time."}, {"owner": {"reputation": 62184, "user_id": 7231, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/81b76985f3985e35492e25880493d045?s=128&d=identicon&r=PG", "display_name": "Dave Cross", "link": "https://stackoverflow.com/users/7231/dave-cross"}, "edited": false, "score": 1, "creation_date": 1546854745, "post_id": 54070085, "comment_id": 94976685, "body": "Isn&#39;t <code>if (!$all_cat eq &quot;&quot;)</code> just a deliberately confusing way to write <code>if (length $all_cat)</code> ?"}, {"owner": {"reputation": 62184, "user_id": 7231, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/81b76985f3985e35492e25880493d045?s=128&d=identicon&r=PG", "display_name": "Dave Cross", "link": "https://stackoverflow.com/users/7231/dave-cross"}, "edited": false, "score": 2, "creation_date": 1546854858, "post_id": 54070085, "comment_id": 94976751, "body": "Also, there&#39;s a lot of very confusing reference syntax in here. I&#39;m not sure if the code was written by someone who was very clever or someone who wasn&#39;t anywhere near as clever as they thought they were :-)"}, {"owner": {"reputation": 19, "user_id": 7660841, "user_type": "registered", "profile_image": "https://lh5.googleusercontent.com/-RB3yUCQBenw/AAAAAAAAAAI/AAAAAAAABFQ/VROfxXQnCBw/photo.jpg?sz=128", "display_name": "sandeep nagori", "link": "https://stackoverflow.com/users/7660841/sandeep-nagori"}, "edited": false, "score": 0, "creation_date": 1546935734, "post_id": 54070085, "comment_id": 95007910, "body": "you are correct .code was copied from <a href=\"https://stackoverflow.com/questions/11505100/perl-how-to-turn-array-into-nested-hash-keys/54086289#54086289\" title=\"perl how to turn array into nested hash keys\">stackoverflow.com/questions/11505100/&hellip;</a>"}, {"owner": {"reputation": 19, "user_id": 7660841, "user_type": "registered", "profile_image": "https://lh5.googleusercontent.com/-RB3yUCQBenw/AAAAAAAAAAI/AAAAAAAABFQ/VROfxXQnCBw/photo.jpg?sz=128", "display_name": "sandeep nagori", "link": "https://stackoverflow.com/users/7660841/sandeep-nagori"}, "reply_to_user": {"reputation": 62184, "user_id": 7231, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/81b76985f3985e35492e25880493d045?s=128&d=identicon&r=PG", "display_name": "Dave Cross", "link": "https://stackoverflow.com/users/7231/dave-cross"}, "edited": false, "score": 0, "creation_date": 1546947206, "post_id": 54070085, "comment_id": 95014063, "body": "@Dave Cross ,please create .txt files e.g. from 1 to 3.txt in any folder and have below content in these files   1.txt :  /*TEST-TAG = ABC-&gt;DEF-&gt;fma-&gt;GHI*/  2.txt:ABC-&gt;DEF-&gt;fma 3.txt:ABC-&gt;DEF and then have in perl script  my @lines = `grep -R &#39;TEST-TAG =&#39; &lt;foldername&gt;"}, {"owner": {"reputation": 62184, "user_id": 7231, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/81b76985f3985e35492e25880493d045?s=128&d=identicon&r=PG", "display_name": "Dave Cross", "link": "https://stackoverflow.com/users/7231/dave-cross"}, "edited": false, "score": 0, "creation_date": 1546949862, "post_id": 54070085, "comment_id": 95015375, "body": "@sandeepnagori: If you want to correct your example, please do it by editing your question - not by adding it as a comment."}, {"owner": {"reputation": 19, "user_id": 7660841, "user_type": "registered", "profile_image": "https://lh5.googleusercontent.com/-RB3yUCQBenw/AAAAAAAAAAI/AAAAAAAABFQ/VROfxXQnCBw/photo.jpg?sz=128", "display_name": "sandeep nagori", "link": "https://stackoverflow.com/users/7660841/sandeep-nagori"}, "reply_to_user": {"reputation": 62184, "user_id": 7231, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/81b76985f3985e35492e25880493d045?s=128&d=identicon&r=PG", "display_name": "Dave Cross", "link": "https://stackoverflow.com/users/7231/dave-cross"}, "edited": false, "score": 0, "creation_date": 1547005762, "post_id": 54070085, "comment_id": 95038610, "body": "@dave Cross,I have edited the question."}, {"owner": {"reputation": 62184, "user_id": 7231, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/81b76985f3985e35492e25880493d045?s=128&d=identicon&r=PG", "display_name": "Dave Cross", "link": "https://stackoverflow.com/users/7231/dave-cross"}, "edited": false, "score": 0, "creation_date": 1547022401, "post_id": 54070085, "comment_id": 95043932, "body": "@sandeepnagori: Please take a closer look at your code. The syntax highlighting is there for a reason. You have missed something (probably a closing backtick). Programming is about attention to detail."}, {"owner": {"reputation": 19, "user_id": 7660841, "user_type": "registered", "profile_image": "https://lh5.googleusercontent.com/-RB3yUCQBenw/AAAAAAAAAAI/AAAAAAAABFQ/VROfxXQnCBw/photo.jpg?sz=128", "display_name": "sandeep nagori", "link": "https://stackoverflow.com/users/7660841/sandeep-nagori"}, "reply_to_user": {"reputation": 62184, "user_id": 7231, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/81b76985f3985e35492e25880493d045?s=128&d=identicon&r=PG", "display_name": "Dave Cross", "link": "https://stackoverflow.com/users/7231/dave-cross"}, "edited": false, "score": 0, "creation_date": 1547092837, "post_id": 54070085, "comment_id": 95075533, "body": "@Dave Cross,Thanks for pointing.Fixed the same"}, {"owner": {"reputation": 19, "user_id": 7660841, "user_type": "registered", "profile_image": "https://lh5.googleusercontent.com/-RB3yUCQBenw/AAAAAAAAAAI/AAAAAAAABFQ/VROfxXQnCBw/photo.jpg?sz=128", "display_name": "sandeep nagori", "link": "https://stackoverflow.com/users/7660841/sandeep-nagori"}, "reply_to_user": {"reputation": 78982, "user_id": 1848654, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/84180c0f3c9c04f8b8f0613fc0129dac?s=128&d=identicon&r=PG", "display_name": "melpomene", "link": "https://stackoverflow.com/users/1848654/melpomene"}, "edited": false, "score": 0, "creation_date": 1547113085, "post_id": 54070085, "comment_id": 95082763, "body": "@melpomene Can you please try now as i have edited the question.Thanks"}, {"owner": {"reputation": 560, "user_id": 10850601, "user_type": "registered", "profile_image": "https://lh5.googleusercontent.com/-3R2h7RDJ9yU/AAAAAAAAAAI/AAAAAAAAAAA/AKxrwcYNkQa9HPTd778Jo28o4mlsEFPJpw/mo/photo.jpg?sz=128", "display_name": "Ed Grimm", "link": "https://stackoverflow.com/users/10850601/ed-grimm"}, "edited": false, "score": 0, "creation_date": 1547281070, "post_id": 54070085, "comment_id": 95145950, "body": "if (!$all_cat eq &quot;&quot;) is effectively equal to if ($all_cat ne &quot;&quot;), but it gets there via a rather disconcerting route.  It&#39;s the sort of thing you&#39;d put in your code if you wanted to really bother a bunch of perl programmers when they read it.  I&#39;d really recommend you fix that to some version that&#39;s less obtuse.  My preferred would be if (defined $all_cat and length $all_cat), but that&#39;s probably just me."}], "answers": [{"comments": [{"owner": {"reputation": 19, "user_id": 7660841, "user_type": "registered", "profile_image": "https://lh5.googleusercontent.com/-RB3yUCQBenw/AAAAAAAAAAI/AAAAAAAABFQ/VROfxXQnCBw/photo.jpg?sz=128", "display_name": "sandeep nagori", "link": "https://stackoverflow.com/users/7660841/sandeep-nagori"}, "edited": false, "score": 0, "creation_date": 1547701019, "post_id": 54162958, "comment_id": 95283740, "body": "This line $ref =\\$$ref-&gt;{ _ARRAY }; did the magic.Thanks @Ed."}], "tags": [], "owner": {"reputation": 560, "user_id": 10850601, "user_type": "registered", "profile_image": "https://lh5.googleusercontent.com/-3R2h7RDJ9yU/AAAAAAAAAAI/AAAAAAAAAAA/AKxrwcYNkQa9HPTd778Jo28o4mlsEFPJpw/mo/photo.jpg?sz=128", "display_name": "Ed Grimm", "link": "https://stackoverflow.com/users/10850601/ed-grimm"}, "is_accepted": false, "score": 2, "last_activity_date": 1547319974, "creation_date": 1547319974, "answer_id": 54162958, "question_id": 54070085, "link": "https://stackoverflow.com/questions/54070085/perl-not-a-hash-reference-while-creating-nested-hash-from-multi-dimension-array/54162958#54162958", "title": "Perl :Not a HASH reference while creating nested hash from multi dimension arrays", "body": "<p>After sleeping on it, I realized where you were trying to go with this more.  Your issue of concern is the fact that you're trying to use some hash values as both arrays and as hashes.  There are two approaches to dealing with this.  Detect and handle it, or avoid it.  The avoid code is much cleaner, so I'll show that.</p>\n\n<p>As I mentioned in my original answer, I'm not sure what you had in mind for the 'Dumper' lines, but Data::Dump is probably a useful replacement for what you were using, with less complication than the Data::Dumper module that I was thinking you were somehow managing to use.  I also chose to still provide a replacement for your file name regex, as I still don't want to bother with a full path name.</p>\n\n<pre><code>#!/usr/bin/perl\n\nuse strict;\nuse warnings;\n\nuse Data::Dump;\n\nmy @lines = `grep -R 'TEST-TAG =' foo`;\nmy $hash;\n\n$| = 1; # keep STDOUT and STDERR together\n\n#parse the lines which has pattern /\\*TEST-TAG = ABC-&gt;DEF-&gt;fma-&gt;GHI\\*/\nforeach (@lines) {\n    print \"line is $_\\n\";\n\n    my($all_cat) = $_ =~ /\\=(.*)\\*\\//;\n    print \"all cat is $all_cat\\n\";\n\n    my($testname) = $_ =~ /(?:.*\\/)?(.*?)\\./;\n    print \"testname is $testname\\n\";\n\n    if ($all_cat ne \"\") {\n        $all_cat =~ s/ //g;\n        my @ts = split(',', $all_cat);\n        print \"ts is @ts\\n\";\n        my $i;\n        foreach (@ts) {\n            my @allfeat = split('-&gt;',$_);\n            my $count =  scalar @allfeat;\n            for ($i = 0; $i&lt;$count; $i++) {\n                my @temparr = @allfeat[$i..$count-1];\n                print \"temparr is @temparr\\n\";\n                push @temparr, $testname;\n                ToNestedHash($hash, @temparr);\n            }\n        }\n    }\n}\n\nsub ToNestedHash {\n    my $ref   = \\shift;\n    print \"sandeep in ref \";\n    dd $ref;\n    my $h     = $$ref;\n    print \"sandeep h \";\n    dd $h;\n    my $value = pop;\n    print \"sandeep value is $value\\n\";\n    print \"sandeep array is @_\\n\";\n    print \"refrence\",  ref($h), \"\\n\";\n    foreach my $i (@_) {\n        print \" before INDEX $i\\n\";\n        dd $ref;\n        $ref =\\$$ref-&gt;{ $i };\n        print \"after INDEX $i\\n\";\n        dd $ref;\n    }\n    $ref =\\$$ref-&gt;{ _ARRAY };\n    if (!isinlist(\\@{$$ref},$value)) {\n        push @{$$ref}, $value;\n    }\n    return $h;\n}\n# If element exists in the list\nsub isinlist {\n    my ($aref, $key) = ($_[0], $_[1]);\n\n    foreach my $elem (@$aref){\n        if ($elem eq $key) {\n            return 1;\n        }\n    }\n    return 0;\n}\n</code></pre>\n"}], "owner": {"reputation": 19, "user_id": 7660841, "user_type": "registered", "profile_image": "https://lh5.googleusercontent.com/-RB3yUCQBenw/AAAAAAAAAAI/AAAAAAAABFQ/VROfxXQnCBw/photo.jpg?sz=128", "display_name": "sandeep nagori", "link": "https://stackoverflow.com/users/7660841/sandeep-nagori"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 264, "favorite_count": 0, "answer_count": 1, "score": 0, "last_activity_date": 1547319974, "creation_date": 1546845906, "last_edit_date": 1547127205, "question_id": 54070085, "link": "https://stackoverflow.com/questions/54070085/perl-not-a-hash-reference-while-creating-nested-hash-from-multi-dimension-array", "title": "Perl :Not a HASH reference while creating nested hash from multi dimension arrays", "body": "<p>I want to create a nested hash by reading values from multi dimention arrays which are separated by -> e.g. </p>\n\n<pre><code>Array 1: key1-&gt;key2-&gt;key3-&gt;value\nArray 2: key1-&gt;key2-&gt;value\nArray 3: key1-&gt;value\n</code></pre>\n\n<p>When key has value and sub keys as well e.g. key2 has value and another key key3 as well then get error \"Not a HASH reference \".Seem it is overwriting previous hash and considering it array.</p>\n\n<p>Help is appreciated. I have tried to debug and print the values of variables and output by using dumper module and see that it is ARRAY reference and not hash.</p>\n\n<p>in order to repro, please create .txt files e.g. from 1 to 3.txt in any folder and have below content in these files 1.txt : /<em>TEST-TAG = ABC->DEF->fma->GHI</em>/ 2.txt:/*TEST-TAG = ABC->DEF->fma 3.txt:/*TEST-TAG = ABC->DEF and then have in perl script</p>\n\n<pre><code>#!/usr/bin/perl\nuse strict;\nuse warnings;\n\nmy @lines=`grep -R 'TEST-TAG =' &lt;FOLDER where .txt files present&gt;`;\nmy $hash;\n\n#parse the lines which has pattern /\\*TEST-TAG = ABC-&gt;DEF-&gt;fma-&gt;GHI\\*/\nforeach (@lines)\n    {\n    print \"line is $_\\n\";\n\n    my($all_cat) = $_ =~ /\\=(.*)\\*\\//;\n    print \"all cat is $all_cat\\n\";\n\n    my($testname) = $_ =~ /\\/.*\\/(.*)\\./;\n    print \"testname is $testname\\n\";\n\n    if (!$all_cat eq \"\") {\n        $all_cat =~ s/ //g;\n        my @ts = split(',', $all_cat);\n        print \"ts is @ts\\n\";\n        my $i;\n        foreach (@ts) {\n            my @allfeat = split('-&gt;',$_);\n            my $count =  scalar @allfeat;\n            for ($i = 0; $i&lt;$count; $i++) {\n                my @temparr = @allfeat[$i..$count-1];\n                print \"temparr is @temparr\\n\";\n                push @temparr, $testname;\n                ToNestedHash($hash, @temparr);\n            }\n        }\n    }\n}\nsub ToNestedHash {\n        my $ref   = \\shift;\n        print \"sandeep in ref $ref\\n\";\n        print \"sandeep in ref\", ref($ref), \"\\n\";\n        my $h     = $$ref;\n        print \"sandeep h $h\\n\";\n        my $value = pop;\n        print \"sandeep value is $value\\n\";\n        print \"sandeep array is @_\\n\";\n        print \"refrence\",  ref($h), \"\\n\";\n        foreach my $i (@_) {\n        print \" before INDEX $i\\n\";\n        print Dumper($ref);\n        $ref =\\$$ref-&gt;{ $i };\n        print \"after INDEX $i\\n\";\n        print Dumper($ref);\n        }\n        if (!isinlist(\\@{$$ref},$value)) {\n            push @{$$ref}, $value;\n        }\n        return $h;\n    }\n    # If element exists in the list\n    sub isinlist {\n        my ($aref, $key) = ($_[0], $_[1]);\n\n        foreach my $elem (@$aref){\n            if ($elem eq $key) {\n                return 1;\n            }\n        }\n        return 0;\n    }\n</code></pre>\n\n<p>I get this output with debug prints</p>\n\n<pre><code>line is File.txt:/*TEST-TAG = ABC-&gt;DEF-&gt;fma-&gt;GHI*/\n\nall cat is  ABC-&gt;DEF-&gt;fma-&gt;GHI\ntestname is hmma_884_row_row_f16_f16\nts is ABC-&gt;DEF-&gt;fma-&gt;GHI\ntemparr is ABC DEF fma GHI\nsandeep in ref REF(0x12a1048)\nsandeep in refREF\nsandeep h HASH(0x12a09a0)\nsandeep value is hmma_884_row_row_f16_f16\nsandeep array is ABC DEF fma GHI\nrefrenceHASH\n\nREF\ntemparr is DEF fma GHI\nsandeep in ref REF(0x12a1048)\nsandeep in refREF\nsandeep h HASH(0x12a09a0)\nsandeep value is hmma_884_row_row_f16_f16\nsandeep array is DEF fma GHI\nrefrenceHASH\n\nREF\ntemparr is fma GHI\nsandeep in ref REF(0x12a1048)\nsandeep in refREF\nsandeep h HASH(0x12a09a0)\nsandeep value is hmma_884_row_row_f16_f16\nsandeep array is fma GHI\nrefrenceHASH\nNot a HASH reference at createjson.pl line 80.\n</code></pre>\n\n<p>problematic line is  <code>$ref =\\$$ref-&gt;{$_} foreach (@_);</code></p>\n"}, {"tags": ["perl", "encoding", "character-encoding", "decode", "hexdump"], "comments": [{"owner": {"reputation": 14469, "user_id": 2191105, "user_type": "registered", "accept_rate": 86, "profile_image": "https://i.stack.imgur.com/tPiCW.png?s=128&g=1", "display_name": "David Hoelzer", "link": "https://stackoverflow.com/users/2191105/david-hoelzer"}, "edited": false, "score": 0, "creation_date": 1546773930, "post_id": 54060613, "comment_id": 94955354, "body": "164 = 0xa4, not 0xA401 and not 0x01A4 (in case you were making it little endian).  You have issues with most of the rest of your conversions."}, {"owner": {"reputation": 14469, "user_id": 2191105, "user_type": "registered", "accept_rate": 86, "profile_image": "https://i.stack.imgur.com/tPiCW.png?s=128&g=1", "display_name": "David Hoelzer", "link": "https://stackoverflow.com/users/2191105/david-hoelzer"}, "edited": false, "score": 4, "creation_date": 1546773960, "post_id": 54060613, "comment_id": 94955361, "body": "Possible duplicate of <a href=\"https://stackoverflow.com/questions/10481001/how-do-i-convert-decimal-to-hexadecimal-in-perl\">How do I convert decimal to hexadecimal in Perl?</a>"}, {"owner": {"reputation": 101, "user_id": 2787859, "user_type": "registered", "profile_image": "https://graph.facebook.com/100004041835408/picture?type=large", "display_name": "\u0e15\u0e49\u0e2d\u0e07 \u0e40\u0e2d\u0e01\u0e21\u0e31\u0e22", "link": "https://stackoverflow.com/users/2787859/%e0%b8%95%e0%b9%89%e0%b8%ad%e0%b8%87-%e0%b9%80%e0%b8%ad%e0%b8%81%e0%b8%a1%e0%b8%b1%e0%b8%a2"}, "reply_to_user": {"reputation": 14469, "user_id": 2191105, "user_type": "registered", "accept_rate": 86, "profile_image": "https://i.stack.imgur.com/tPiCW.png?s=128&g=1", "display_name": "David Hoelzer", "link": "https://stackoverflow.com/users/2191105/david-hoelzer"}, "edited": false, "score": 0, "creation_date": 1546775094, "post_id": 54060613, "comment_id": 94955643, "body": "It&#39;s not a normal hex2dec conversion. I think it&#39;s computer code."}, {"owner": {"reputation": 101, "user_id": 2787859, "user_type": "registered", "profile_image": "https://graph.facebook.com/100004041835408/picture?type=large", "display_name": "\u0e15\u0e49\u0e2d\u0e07 \u0e40\u0e2d\u0e01\u0e21\u0e31\u0e22", "link": "https://stackoverflow.com/users/2787859/%e0%b8%95%e0%b9%89%e0%b8%ad%e0%b8%87-%e0%b9%80%e0%b8%ad%e0%b8%81%e0%b8%a1%e0%b8%b1%e0%b8%a2"}, "reply_to_user": {"reputation": 14469, "user_id": 2191105, "user_type": "registered", "accept_rate": 86, "profile_image": "https://i.stack.imgur.com/tPiCW.png?s=128&g=1", "display_name": "David Hoelzer", "link": "https://stackoverflow.com/users/2191105/david-hoelzer"}, "edited": false, "score": 0, "creation_date": 1546775164, "post_id": 54060613, "comment_id": 94955658, "body": "When the DEC value higher than 128, it has 01 at the end."}, {"owner": {"reputation": 14469, "user_id": 2191105, "user_type": "registered", "accept_rate": 86, "profile_image": "https://i.stack.imgur.com/tPiCW.png?s=128&g=1", "display_name": "David Hoelzer", "link": "https://stackoverflow.com/users/2191105/david-hoelzer"}, "edited": false, "score": 0, "creation_date": 1546777457, "post_id": 54060613, "comment_id": 94956224, "body": "Errr, no.... 1 byte, which is 8 bits or 2 nibbles, can represent any value from zero through 255.  128 would be 0x80.... There is no &quot;1&quot; involved."}, {"owner": {"reputation": 3649, "user_id": 10404329, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/489c51b790b37922d4e80d59b9873cec?s=128&d=identicon&r=PG", "display_name": "Corion", "link": "https://stackoverflow.com/users/10404329/corion"}, "edited": false, "score": 1, "creation_date": 1546777801, "post_id": 54060613, "comment_id": 94956308, "body": "I would guess that any byte that has the high-byte set indicates that another byte is following. Mostly a variable-length encoding not unlike UTF-8. So I would assume that the number is the sum*<code>0x80**index</code> of all bytes <code>&amp; 0x7f</code> , until you encounter a byte which doesn&#39;t have bit 8 set. Much like the Excel formula already is, except not <code>-1</code> but <code>-128</code>. Converting the Excel formula to Perl is left as an exercise for the reader."}, {"owner": {"reputation": 101, "user_id": 2787859, "user_type": "registered", "profile_image": "https://graph.facebook.com/100004041835408/picture?type=large", "display_name": "\u0e15\u0e49\u0e2d\u0e07 \u0e40\u0e2d\u0e01\u0e21\u0e31\u0e22", "link": "https://stackoverflow.com/users/2787859/%e0%b8%95%e0%b9%89%e0%b8%ad%e0%b8%87-%e0%b9%80%e0%b8%ad%e0%b8%81%e0%b8%a1%e0%b8%b1%e0%b8%a2"}, "edited": false, "score": 0, "creation_date": 1546784348, "post_id": 54060613, "comment_id": 94957872, "body": "Thank you very much. After google your keyword. I think it&#39;s variable-length 7-bit integers encoding."}], "answers": [{"comments": [{"owner": {"reputation": 320771, "user_id": 589924, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/b2cf53d5a3d25f95c0db4e025aed4153?s=128&d=identicon&r=PG", "display_name": "ikegami", "link": "https://stackoverflow.com/users/589924/ikegami"}, "edited": false, "score": 1, "creation_date": 1546787042, "post_id": 54062546, "comment_id": 94958653, "body": "Differences from UTF-8: UTF-8 uses a length prefix rather than a sentinel value, it uses big-ending byte order, and it &quot;wastes&quot; bits to make seeking possible."}, {"owner": {"reputation": 320771, "user_id": 589924, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/b2cf53d5a3d25f95c0db4e025aed4153?s=128&d=identicon&r=PG", "display_name": "ikegami", "link": "https://stackoverflow.com/users/589924/ikegami"}, "edited": false, "score": 1, "creation_date": 1546808510, "post_id": 54062546, "comment_id": 94964991, "body": "Like UTF-8, this format has multiple ways of encoding the same number. For example, one can be encoded as <code>01</code>, <code>81 00</code>, <code>81 80 00</code>, <code>81 80 80 00</code>, etc. UTF-8 considers &quot;overly long&quot; encodings to be illegal."}, {"owner": {"reputation": 101, "user_id": 2787859, "user_type": "registered", "profile_image": "https://graph.facebook.com/100004041835408/picture?type=large", "display_name": "\u0e15\u0e49\u0e2d\u0e07 \u0e40\u0e2d\u0e01\u0e21\u0e31\u0e22", "link": "https://stackoverflow.com/users/2787859/%e0%b8%95%e0%b9%89%e0%b8%ad%e0%b8%87-%e0%b9%80%e0%b8%ad%e0%b8%81%e0%b8%a1%e0%b8%b1%e0%b8%a2"}, "edited": false, "score": 0, "creation_date": 1546893283, "post_id": 54062546, "comment_id": 94996240, "body": "I am working with seeking job too. Could you please guide more example ?  My data are separated by some bytes and in series/stream.  Eg.  <code>08 XX XX 10 YY YY 20 ZZ ZZ ZZ 30</code>  Sometimes XX XX can be the value of 10 and the seek will invalid."}, {"owner": {"reputation": 320771, "user_id": 589924, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/b2cf53d5a3d25f95c0db4e025aed4153?s=128&d=identicon&r=PG", "display_name": "ikegami", "link": "https://stackoverflow.com/users/589924/ikegami"}, "reply_to_user": {"reputation": 101, "user_id": 2787859, "user_type": "registered", "profile_image": "https://graph.facebook.com/100004041835408/picture?type=large", "display_name": "\u0e15\u0e49\u0e2d\u0e07 \u0e40\u0e2d\u0e01\u0e21\u0e31\u0e22", "link": "https://stackoverflow.com/users/2787859/%e0%b8%95%e0%b9%89%e0%b8%ad%e0%b8%87-%e0%b9%80%e0%b8%ad%e0%b8%81%e0%b8%a1%e0%b8%b1%e0%b8%a2"}, "edited": false, "score": 1, "creation_date": 1546923754, "post_id": 54062546, "comment_id": 95003974, "body": "What I meant is that if you seeked into the middle of an encoded number, you could find the end of the number.  That assumes you know you are seeking into an encoded number (e.g. if the file consists entirely of encoded numbers). If you want help with your seeking problem, ask a Question. Be sure to provide clearer and more comprehensive information."}], "tags": [], "owner": {"reputation": 320771, "user_id": 589924, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/b2cf53d5a3d25f95c0db4e025aed4153?s=128&d=identicon&r=PG", "display_name": "ikegami", "link": "https://stackoverflow.com/users/589924/ikegami"}, "is_accepted": true, "score": 5, "last_activity_date": 1546824395, "last_edit_date": 1546824395, "creation_date": 1546785286, "answer_id": 54062546, "question_id": 54060613, "link": "https://stackoverflow.com/questions/54060613/i-have-data-in-hex-dump-but-dont-know-the-encoding-eg-0x91-0x05-657/54062546#54062546", "title": "I have data in hex dump but don&#39;t know the encoding. Eg. 0x91 0x05 = 657", "body": "<p>What you have is a variable-length encoding. The length is encoded using a form of sentinel value: Each byte of the encoded number except the last has its high bit set. The remaining bits form the two's-complement encoding of the number in little-ending byte order.</p>\n\n<pre class=\"lang-none prettyprint-override\"><code>0xxxxxxx                   \u21d2                   0xxxxxxx\n1xxxxxxx 0yyyyyyy          \u21d2          00yyyyyy yxxxxxxx\n1xxxxxxx 1yyyyyyy 0zzzzzzz \u21d2 000zzzzz zzyyyyyy yxxxxxxx\netc\n</code></pre>\n\n<p>The following can be used to decode a stream:</p>\n\n<pre><code>use strict;\nuse warnings;\nuse feature qw( say );\n\nsub extract_first_num {\n   $_[0] =~ s/^([\\x80-\\xFF]*[\\x00-\\x7F])//\n      or return;\n\n   my $encoded_num = $1;\n   my $num = 0;\n   for (reverse unpack 'C*', $encoded_num) {\n      $num = ( $num &lt;&lt; 7 ) | ( $_ &amp; 0x7F );\n   }\n\n   return $num;\n}\n\nmy $stream_buf = \"\\x10\\x33\\xA4\\x01\\x84\\x03\\xBA\\x04\\x91\\x05\\x81\\x08\\x9C\\x83\\x0F\";\nwhile ( my ($num) = extract_first_num($stream_buf) ) {\n   say $num;\n}\n\ndie(\"Bad data\") if length($stream_buf);\n</code></pre>\n\n<p>Output:</p>\n\n<pre><code>16\n51\n164\n388\n570\n657\n1025\n246172\n</code></pre>\n"}], "owner": {"reputation": 101, "user_id": 2787859, "user_type": "registered", "profile_image": "https://graph.facebook.com/100004041835408/picture?type=large", "display_name": "\u0e15\u0e49\u0e2d\u0e07 \u0e40\u0e2d\u0e01\u0e21\u0e31\u0e22", "link": "https://stackoverflow.com/users/2787859/%e0%b8%95%e0%b9%89%e0%b8%ad%e0%b8%87-%e0%b9%80%e0%b8%ad%e0%b8%81%e0%b8%a1%e0%b8%b1%e0%b8%a2"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 94, "favorite_count": 2, "accepted_answer_id": 54062546, "answer_count": 1, "score": 0, "last_activity_date": 1546893878, "creation_date": 1546770540, "last_edit_date": 1546893878, "question_id": 54060613, "link": "https://stackoverflow.com/questions/54060613/i-have-data-in-hex-dump-but-dont-know-the-encoding-eg-0x91-0x05-657", "title": "I have data in hex dump but don&#39;t know the encoding. Eg. 0x91 0x05 = 657", "body": "<p>I have some data in hexdump code.\nleft hand are DEC and right hand are hexdump code.</p>\n\n<pre><code>16 = 10\n51 = 33\n164 = A4 01\n388 = 84 03\n570 = BA 04\n657 = 91 05\n1025 = 81 08\n246172 = 9C 83 0F\n</code></pre>\n\n<p>How to calculate any hexdump to DEC ? \nIn perl, I tried to use ord() command but don't work. </p>\n\n<p><strong>Update</strong>\nI don't known what it call. It look like 7bits data. I try to build formula in excel look like these:</p>\n\n<pre><code>DEC = hex2dec(X) + (128^1 * hex2dec(Y-1)) + (128^2 * hex2dec(Z-1)) + ...\n</code></pre>\n"}, {"tags": ["python", "perl", "unix"], "comments": [{"owner": {"reputation": 9302, "user_id": 8300135, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/0eaa9ded8087b3af42dd463c95696733?s=128&d=identicon&r=PG&f=1", "display_name": "SpghttCd", "link": "https://stackoverflow.com/users/8300135/spghttcd"}, "edited": false, "score": 2, "creation_date": 1546769950, "post_id": 54060502, "comment_id": 94954502, "body": "Welcome to SO. And what did you try and what does not work with your attempt? Please post your code, too, so that people can help finding errors or optimizing it. See also <a href=\"https://stackoverflow.com/questions/how-to-ask\">How to Ask</a> and <a href=\"https://stackoverflow.com/help/minimal-reproducible-example\">minimal reproducible example</a> Besides that: is your input data stored in a file? Do you want to read it from a file? Btw: please mark data like code by indenting by 4 spaces for readability."}, {"owner": {"reputation": 3649, "user_id": 10404329, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/489c51b790b37922d4e80d59b9873cec?s=128&d=identicon&r=PG", "display_name": "Corion", "link": "https://stackoverflow.com/users/10404329/corion"}, "edited": false, "score": 0, "creation_date": 1546772040, "post_id": 54060502, "comment_id": 94954915, "body": "Why is this tagged [perl]? Where does Perl come into play in your question?"}, {"owner": {"reputation": 1, "user_id": 10874393, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/ffbefb057df23d8348131154a3ba5690?s=128&d=identicon&r=PG&f=1", "display_name": "Basil Thomas", "link": "https://stackoverflow.com/users/10874393/basil-thomas"}, "edited": false, "score": 0, "creation_date": 1546772288, "post_id": 54060502, "comment_id": 94954985, "body": "I have the option to write the code either in Python or Perl"}], "answers": [{"comments": [{"owner": {"reputation": 1, "user_id": 10874393, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/ffbefb057df23d8348131154a3ba5690?s=128&d=identicon&r=PG&f=1", "display_name": "Basil Thomas", "link": "https://stackoverflow.com/users/10874393/basil-thomas"}, "edited": false, "score": 0, "creation_date": 1546772155, "post_id": 54060641, "comment_id": 94954950, "body": "Thanks for the quick response.    My source is a file and reading the data from the same checking for the pattern in each line."}], "tags": [], "owner": {"reputation": 6208, "user_id": 4042267, "user_type": "registered", "accept_rate": 80, "profile_image": "https://www.gravatar.com/avatar/b869ca5adc52b16ef56ab1fb6ed5fe97?s=128&d=identicon&r=PG", "display_name": "Graipher", "link": "https://stackoverflow.com/users/4042267/graipher"}, "is_accepted": true, "score": 0, "last_activity_date": 1546774397, "last_edit_date": 1546774397, "creation_date": 1546770736, "answer_id": 54060641, "question_id": 54060502, "link": "https://stackoverflow.com/questions/54060502/based-on-a-pattern-to-print-next-line-along-with-the-above-pattern-in-python/54060641#54060641", "title": "Based on a pattern to print next line along with the above pattern in python", "body": "<p>In Python you can just make an iterator over your lines and use <code>next</code> to get the next line if needed. Since this will forward the same iterator being iterated over, the BIC will not be read by the <code>for</code> loop in that case.</p>\n\n<pre><code>s = \"\"\"CH0012012300123476\nCH0012012300423458\nBXXXXXXX\nCH0012012300823987\nAXXXXXXX\nCH0012012300523234\"\"\"\n\nit = iter(s.splitlines())\nfor line in it:\n    if line[10:13] in [\"004\", \"008\"]:\n        print(line[12:] + next(it))\n# 423458BXXXXXXX\n# 823987AXXXXXXX\n</code></pre>\n\n<p>Note that while <code>line[10]</code> could raise an <code>IndexError</code> if the line has less than 11 characters, the slicing will just return an empty slice.</p>\n\n<hr>\n\n<p>Iterating over a file provides access to an iterator over the lines (including their newline characters):</p>\n\n<pre><code>with open(filename) as f:\n    for line in f:\n        if line[10:12] == '00' and line[12] in '48':\n            print(line[12:18], next(f), sep='')\n</code></pre>\n\n<p>But in the end it's the same thing as above.</p>\n"}], "owner": {"reputation": 1, "user_id": 10874393, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/ffbefb057df23d8348131154a3ba5690?s=128&d=identicon&r=PG&f=1", "display_name": "Basil Thomas", "link": "https://stackoverflow.com/users/10874393/basil-thomas"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 47, "favorite_count": 0, "closed_date": 1546776428, "accepted_answer_id": 54060641, "answer_count": 1, "score": -2, "last_activity_date": 1546774397, "creation_date": 1546769500, "last_edit_date": 1546770415, "question_id": 54060502, "link": "https://stackoverflow.com/questions/54060502/based-on-a-pattern-to-print-next-line-along-with-the-above-pattern-in-python", "closed_reason": "Needs more focus", "title": "Based on a pattern to print next line along with the above pattern in python", "body": "<p>I have come across a problem in python whether I need to perform the below task.</p>\n\n<ol>\n<li>I need to look for a pattern in a line from 11th position till 13th position whether it is 004 or 008. </li>\n<li>If the above match is successes I need to print the data from 13th position till 18th position and along with that I need to print next line.</li>\n</ol>\n\n<p>Input Data:</p>\n\n<pre><code>CH0012012300123476\nCH0012012300423458\nBXXXXXXX\nCH0012012300823987\nAXXXXXXX\nCH0012012300523234\n</code></pre>\n\n<p>Output:</p>\n\n<pre><code>423458BXXXXXXX\n823987AXXXXXXX\n</code></pre>\n"}, {"tags": ["bash", "perl", "awk", "sed", "xxd"], "comments": [{"owner": {"reputation": 18548, "user_id": 4082052, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/GUNps.jpg?s=128&g=1", "display_name": "Sundeep", "link": "https://stackoverflow.com/users/4082052/sundeep"}, "edited": false, "score": 2, "creation_date": 1546765444, "post_id": 54059656, "comment_id": 94953606, "body": "for <code>sed</code>, see this previous discussion: <a href=\"https://stackoverflow.com/questions/29613304/is-it-possible-to-escape-regex-metacharacters-reliably-with-sed\">Is it possible to escape regex metacharacters reliably with sed</a>"}, {"owner": {"reputation": 32176, "user_id": 2173773, "user_type": "registered", "accept_rate": 86, "profile_image": "https://i.stack.imgur.com/M8yh6.jpg?s=128&g=1", "display_name": "H&#229;kon H&#230;gland", "link": "https://stackoverflow.com/users/2173773/h%c3%a5kon-h%c3%a6gland"}, "edited": false, "score": 0, "creation_date": 1546766144, "post_id": 54059656, "comment_id": 94953759, "body": "See also <a href=\"https://stackoverflow.com/q/52464789/2173773\">Why is the escape of quotes lost in this regex substitution?</a>"}], "answers": [{"comments": [{"owner": {"reputation": 745, "user_id": 3960947, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/14plP.png?s=128&g=1", "display_name": "G-Man Says &#39;Reinstate Monica&#39;", "link": "https://stackoverflow.com/users/3960947/g-man-says-reinstate-monica"}, "edited": false, "score": 1, "creation_date": 1585715667, "post_id": 54059658, "comment_id": 107856513, "body": "When I\u202ffirst saw this answer, I\u202fthought it\u202fwas brilliant.\u2002 A\u202ffew minutes later, I\u202frealized that, like a\u202fdiamond, it\u202fwas flawed.\u2002 For example, if\u202fyou try to\u202fchange <code>E</code> to <code>g</code> in a file that contains <code>$Q</code>, it will change to\u202f<code>&amp;q</code>.\u2002 This\u202fis because <code>E</code> is <code>45</code>, <code>g</code> is <code>67</code>, and <code>$Q</code> is <code>2451</code>, so, when you do <code>s&#47;45&#47;67&#47;</code>, you change <code>2451</code> to <code>2671</code>, which is <code>&amp;q</code> (<code>26</code>\u200a+\u200a<code>71</code>).\u2002 \u2026\u2003I\u202fhave posted an answer that addresses this issue."}], "tags": [], "owner": {"reputation": 353, "user_id": 2731575, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/c4e92000e719b9bdc5e2d8549e5ef0e1?s=128&d=identicon&r=PG&f=1", "display_name": "wef", "link": "https://stackoverflow.com/users/2731575/wef"}, "is_accepted": true, "score": 3, "last_activity_date": 1546926013, "last_edit_date": 1546926013, "creation_date": 1546761357, "answer_id": 54059658, "question_id": 54059656, "link": "https://stackoverflow.com/questions/54059656/how-to-search-replace-arbitrary-literal-strings-in-sed-and-awk-and-perl/54059658#54059658", "title": "How to search &amp; replace arbitrary literal strings in sed and awk (and perl)", "body": "<p>Me again!</p>\n\n<p>Here's a simpler way using <strong>xxd</strong>(1):</p>\n\n<pre><code>t=$( echo -n \"$target\" | xxd -p | tr -d '\\n')\nr=$( echo -n \"$replacement\" | xxd -p | tr -d '\\n')\nxxd -p file.txt | sed \"s/$t/$r/g\" | xxd -p -r\n</code></pre>\n\n<p>... so we're hex-encoding the original text with <strong>xxd</strong>(1) and doing search-replacement using hex-encoded search strings. Finally we hex-decode the result.</p>\n\n<p>EDIT: I forgot to remove <code>\\n</code> from the xxd output (<code>| tr -d '\\n'</code>) so that patterns can span the 60-column output of xxd. Of course, this relies on GNU <code>sed</code>'s ability to operate on very long lines (limited only by memory).</p>\n\n<p>EDIT: this also works on multi-line targets eg</p>\n\n<p>target=$'foo\\nbar'\nreplacement=$'bar\\nfoo'</p>\n"}, {"comments": [{"owner": {"reputation": 28716, "user_id": 828193, "user_type": "registered", "accept_rate": 85, "profile_image": "https://i.stack.imgur.com/pmNlX.png?s=128&g=1", "display_name": "user000001", "link": "https://stackoverflow.com/users/828193/user000001"}, "reply_to_user": {"reputation": 18548, "user_id": 4082052, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/GUNps.jpg?s=128&g=1", "display_name": "Sundeep", "link": "https://stackoverflow.com/users/4082052/sundeep"}, "edited": false, "score": 1, "creation_date": 1546766774, "post_id": 54059703, "comment_id": 94953904, "body": "@Sundeep: You are right, thankfully glenn jackman found a solution for that case"}, {"owner": {"reputation": 353, "user_id": 2731575, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/c4e92000e719b9bdc5e2d8549e5ef0e1?s=128&d=identicon&r=PG&f=1", "display_name": "wef", "link": "https://stackoverflow.com/users/2731575/wef"}, "edited": false, "score": 0, "creation_date": 1546817455, "post_id": 54059703, "comment_id": 94967119, "body": "Thanks for the link - that solution is pretty complex but since it&#39;s all in awk, it&#39;s probably faster than the xxd solution, if performance ever becomes an issue. I do think the xxd solution is simpler to read and understand."}], "tags": [], "owner": {"reputation": 28716, "user_id": 828193, "user_type": "registered", "accept_rate": 85, "profile_image": "https://i.stack.imgur.com/pmNlX.png?s=128&g=1", "display_name": "user000001", "link": "https://stackoverflow.com/users/828193/user000001"}, "is_accepted": false, "score": 1, "last_activity_date": 1546769600, "last_edit_date": 1546769600, "creation_date": 1546761793, "answer_id": 54059703, "question_id": 54059656, "link": "https://stackoverflow.com/questions/54059656/how-to-search-replace-arbitrary-literal-strings-in-sed-and-awk-and-perl/54059703#54059703", "title": "How to search &amp; replace arbitrary literal strings in sed and awk (and perl)", "body": "<p>With awk you could do it like this:</p>\n\n<pre><code>awk -v t=\"$target\" -v r=\"$replacement\" '{gsub(t,r)}' file\n</code></pre>\n\n<p>The above expects <code>t</code> to be a regular expression, to use it a string you can use</p>\n\n<pre><code>awk -v t=\"$target\" -v r=\"$replacement\" '{while(i=index($0,t)){$0 = substr($0,1,i-1) r substr($0,i+length(t))} print}' file\n</code></pre>\n\n<p>Inspired from <a href=\"https://stackoverflow.com/a/20956690/828193\">this post</a></p>\n\n<p>Note that this won't work properly if the replacement string contains the target. The above link has solutions for that too.</p>\n"}, {"comments": [{"owner": {"reputation": 137100, "user_id": 874188, "user_type": "registered", "accept_rate": 62, "profile_image": "https://i.stack.imgur.com/ZcY77.png?s=128&g=1", "display_name": "tripleee", "link": "https://stackoverflow.com/users/874188/tripleee"}, "edited": false, "score": 0, "creation_date": 1546764268, "post_id": 54059744, "comment_id": 94953329, "body": "If <code>$target</code> is a shell variable which contains the separator character, Perl only sees the script after variables have been interpolated by the shell, and ends up with a syntax error at best, and a security problem at worst. You have to tell Perl which part is a variable, perhaps by passing it as a command-line argument."}, {"owner": {"reputation": 53041, "user_id": 4653379, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/b3953dbedd0dabff5cbc3db9b0835b14?s=128&d=identicon&r=PG&f=1", "display_name": "zdim", "link": "https://stackoverflow.com/users/4653379/zdim"}, "reply_to_user": {"reputation": 137100, "user_id": 874188, "user_type": "registered", "accept_rate": 62, "profile_image": "https://i.stack.imgur.com/ZcY77.png?s=128&g=1", "display_name": "tripleee", "link": "https://stackoverflow.com/users/874188/tripleee"}, "edited": false, "score": 0, "creation_date": 1546766380, "post_id": 54059744, "comment_id": 94953816, "body": "@tripleee  Indeed, completely missed their implied context. Edited"}, {"owner": {"reputation": 53041, "user_id": 4653379, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/b3953dbedd0dabff5cbc3db9b0835b14?s=128&d=identicon&r=PG&f=1", "display_name": "zdim", "link": "https://stackoverflow.com/users/4653379/zdim"}, "reply_to_user": {"reputation": 78982, "user_id": 1848654, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/84180c0f3c9c04f8b8f0613fc0129dac?s=128&d=identicon&r=PG", "display_name": "melpomene", "link": "https://stackoverflow.com/users/1848654/melpomene"}, "edited": false, "score": 0, "creation_date": 1546810959, "post_id": 54059744, "comment_id": 94965618, "body": "@melpomene Thank you for the edit, it is absolutely better to quote it in the shell.  (But it&#39;s always worked unquoted in my tests in <code>bash</code>; I wonder whether I&#39;ve been lucking out with specific software versions?)"}, {"owner": {"reputation": 78982, "user_id": 1848654, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/84180c0f3c9c04f8b8f0613fc0129dac?s=128&d=identicon&r=PG", "display_name": "melpomene", "link": "https://stackoverflow.com/users/1848654/melpomene"}, "edited": false, "score": 0, "creation_date": 1546811046, "post_id": 54059744, "comment_id": 94965638, "body": "@zdim Did your <code>$target</code> test strings contain interesting characters like <code>*</code>, <code>?</code> or spaces?"}, {"owner": {"reputation": 78982, "user_id": 1848654, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/84180c0f3c9c04f8b8f0613fc0129dac?s=128&d=identicon&r=PG", "display_name": "melpomene", "link": "https://stackoverflow.com/users/1848654/melpomene"}, "edited": false, "score": 0, "creation_date": 1546811251, "post_id": 54059744, "comment_id": 94965692, "body": "Found a related link: <a href=\"http://mywiki.wooledge.org/BashPitfalls#cp_.24file_.24target\" rel=\"nofollow noreferrer\">mywiki.wooledge.org/BashPitfalls#cp_.24file_.24target</a>"}, {"owner": {"reputation": 53041, "user_id": 4653379, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/b3953dbedd0dabff5cbc3db9b0835b14?s=128&d=identicon&r=PG&f=1", "display_name": "zdim", "link": "https://stackoverflow.com/users/4653379/zdim"}, "reply_to_user": {"reputation": 78982, "user_id": 1848654, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/84180c0f3c9c04f8b8f0613fc0129dac?s=128&d=identicon&r=PG", "display_name": "melpomene", "link": "https://stackoverflow.com/users/1848654/melpomene"}, "edited": false, "score": 0, "creation_date": 1546811724, "post_id": 54059744, "comment_id": 94965811, "body": "@melpomene OK, thank you, good to have a reference.  (I don&#39;t do this often and just forgot that with spaces it&#39;s of course parsed into words if unprotected, and the other &quot;Interesting&quot; chars may as well mess it up).   Thank you, now I need to go to some previous posts and correct it at a few more places I think (recalled one so far)."}, {"owner": {"reputation": 353, "user_id": 2731575, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/c4e92000e719b9bdc5e2d8549e5ef0e1?s=128&d=identicon&r=PG&f=1", "display_name": "wef", "link": "https://stackoverflow.com/users/2731575/wef"}, "edited": false, "score": 0, "creation_date": 1546817195, "post_id": 54059744, "comment_id": 94967061, "body": "Yes, thanks - <code>{ ... }</code> gets over the problem in perl with <code>s&#47;...&#47;...&#47;</code> - although I had to add an extra backslash to fix the syntax: <code>target=&#39;{&#39;; replacement=&#39;&amp;&#39;; echo &#39;{&#39; | perl -s -pe&quot;s{\\Q\\$patt}{$replacement}g&quot; -- -patt=&quot;$target&quot;</code>"}, {"owner": {"reputation": 53041, "user_id": 4653379, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/b3953dbedd0dabff5cbc3db9b0835b14?s=128&d=identicon&r=PG&f=1", "display_name": "zdim", "link": "https://stackoverflow.com/users/4653379/zdim"}, "reply_to_user": {"reputation": 353, "user_id": 2731575, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/c4e92000e719b9bdc5e2d8549e5ef0e1?s=128&d=identicon&r=PG&f=1", "display_name": "wef", "link": "https://stackoverflow.com/users/2731575/wef"}, "edited": false, "score": 0, "creation_date": 1546840644, "post_id": 54059744, "comment_id": 94971301, "body": "@wef  Thank you for the well-meant edit suggestion -- but I can&#39;t do that: what I posted works in my tests, as it should.  I don&#39;t see why you&#39;d need to escape that, and how it would work then? That <code>$patt</code> is a variable in the perl script, set by courtesy of <code>-s</code> to whatever <code>$target</code> was evaluated to in the shell. In my tests I&#39;ve set it in a bash script to <code>hey* wa?\\no</code>, for example, and it gets into the Perl script as it should. I&#39;ve also tried it in a regex as a short string having <code>&#47;</code> and it works.  Doesn&#39;t need the <code>{}{}</code> btw, it works with <code>s&#47;&#47;&#47;</code> as well."}, {"owner": {"reputation": 53041, "user_id": 4653379, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/b3953dbedd0dabff5cbc3db9b0835b14?s=128&d=identicon&r=PG&f=1", "display_name": "zdim", "link": "https://stackoverflow.com/users/4653379/zdim"}, "reply_to_user": {"reputation": 353, "user_id": 2731575, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/c4e92000e719b9bdc5e2d8549e5ef0e1?s=128&d=identicon&r=PG&f=1", "display_name": "wef", "link": "https://stackoverflow.com/users/2731575/wef"}, "edited": false, "score": 0, "creation_date": 1546840875, "post_id": 54059744, "comment_id": 94971374, "body": "@wef Also: pass the <code>$replacement</code> as well. If you use the form with <code>-s</code> then just add another switch, say <code>-repl=&quot;$replacement&quot;</code> and in the regex you can use the variable <code>$repl</code>.  See the linked post for a little more explantion."}, {"owner": {"reputation": 53041, "user_id": 4653379, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/b3953dbedd0dabff5cbc3db9b0835b14?s=128&d=identicon&r=PG&f=1", "display_name": "zdim", "link": "https://stackoverflow.com/users/4653379/zdim"}, "reply_to_user": {"reputation": 353, "user_id": 2731575, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/c4e92000e719b9bdc5e2d8549e5ef0e1?s=128&d=identicon&r=PG&f=1", "display_name": "wef", "link": "https://stackoverflow.com/users/2731575/wef"}, "edited": false, "score": 0, "creation_date": 1546841451, "post_id": 54059744, "comment_id": 94971504, "body": "@wef Added a full example, so that we are on the same page.  This is on CentOS7, Perl v5.16, GNU bash 4.2.46(1)"}, {"owner": {"reputation": 353, "user_id": 2731575, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/c4e92000e719b9bdc5e2d8549e5ef0e1?s=128&d=identicon&r=PG&f=1", "display_name": "wef", "link": "https://stackoverflow.com/users/2731575/wef"}, "edited": false, "score": 0, "creation_date": 1546847530, "post_id": 54059744, "comment_id": 94973540, "body": "Hmmm interesting. I wonder if it&#39;s the different environment - I&#39;m on fedora-29 with perl-interpreter-5.28.1-427.fc29.x86_64 but I&#39;ve also tried them out on fedora-24 and perl-5.22.4-372.fc24.x86_64 and a debian system with perl-5.24 with complete congruence. The command I gave above worked as expected with <code>\\$patt</code> - it&#39;s only soft-quoted so without the backslash the shell expands <code>$patt</code> instead of passing it for <code>perl</code> to expand. Also, piping into <code>perl -p</code> works fine for me - maybe a change in perl since 5.16? You&#39;re quite right that <code>s&#47;...&#47;...&#47;</code> works but, again, only if I use <code>\\$patt</code>."}, {"owner": {"reputation": 353, "user_id": 2731575, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/c4e92000e719b9bdc5e2d8549e5ef0e1?s=128&d=identicon&r=PG&f=1", "display_name": "wef", "link": "https://stackoverflow.com/users/2731575/wef"}, "edited": false, "score": 0, "creation_date": 1546847737, "post_id": 54059744, "comment_id": 94973605, "body": "I think your new examples look better as they have <code>$patt</code> hard-quoted - I&#39;ll have a play with them."}, {"owner": {"reputation": 53041, "user_id": 4653379, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/b3953dbedd0dabff5cbc3db9b0835b14?s=128&d=identicon&r=PG&f=1", "display_name": "zdim", "link": "https://stackoverflow.com/users/4653379/zdim"}, "reply_to_user": {"reputation": 353, "user_id": 2731575, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/c4e92000e719b9bdc5e2d8549e5ef0e1?s=128&d=identicon&r=PG&f=1", "display_name": "wef", "link": "https://stackoverflow.com/users/2731575/wef"}, "edited": false, "score": 0, "creation_date": 1546851082, "post_id": 54059744, "comment_id": 94974849, "body": "@wef  From what I see you do have double-quotes, as you must; so <code>&quot;$target&quot;</code> is evaluated by the shell into a string that is intended, and then that&#39;s what Perl receives (in either way).  (I missed the piping in your comment, sorry -- <code>-p</code> sure works with it. Removed that comment.)"}, {"owner": {"reputation": 53041, "user_id": 4653379, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/b3953dbedd0dabff5cbc3db9b0835b14?s=128&d=identicon&r=PG&f=1", "display_name": "zdim", "link": "https://stackoverflow.com/users/4653379/zdim"}, "reply_to_user": {"reputation": 353, "user_id": 2731575, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/c4e92000e719b9bdc5e2d8549e5ef0e1?s=128&d=identicon&r=PG&f=1", "display_name": "wef", "link": "https://stackoverflow.com/users/2731575/wef"}, "edited": false, "score": 0, "creation_date": 1546896401, "post_id": 54059744, "comment_id": 94997574, "body": "@wef  (1) Tried again, it works for me either way (with data piped, or in file, or in script) (2) Passing arguments directly via <code>@ARGV</code> (and extracting them in the <code>BEGIN</code> block) works for me and should be most reliable"}], "tags": [], "owner": {"reputation": 53041, "user_id": 4653379, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/b3953dbedd0dabff5cbc3db9b0835b14?s=128&d=identicon&r=PG&f=1", "display_name": "zdim", "link": "https://stackoverflow.com/users/4653379/zdim"}, "is_accepted": false, "score": 7, "last_activity_date": 1548817563, "last_edit_date": 1548817563, "creation_date": 1546762277, "answer_id": 54059744, "question_id": 54059656, "link": "https://stackoverflow.com/questions/54059656/how-to-search-replace-arbitrary-literal-strings-in-sed-and-awk-and-perl/54059744#54059744", "title": "How to search &amp; replace arbitrary literal strings in sed and awk (and perl)", "body": "<p>The <a href=\"https://perldoc.perl.org/functions/quotemeta.html\" rel=\"nofollow noreferrer\">quotemeta</a>, which implements <code>\\Q</code>, absolutely does what you ask for</p>\n\n<blockquote>\n  <p>all ASCII characters not matching <code>/[A-Za-z_0-9]/</code> will be preceded by a backslash</p>\n</blockquote>\n\n<p>Since this is presumably in a shell script, the problem really is of how and when shell variables get interpolated and what the Perl program ends up seeing. </p>\n\n<p>The best way is to avoid working out that interpolation mess and instead properly pass those shell variables to the Perl one-liner.  This can be done in several ways; see <a href=\"https://stackoverflow.com/a/51713578/4653379\">this post</a> for details.</p>\n\n<p>Either pass the shell variables simply as arguments</p>\n\n<pre><code>#!/bin/bash\n\n# define $target\n\nperl -pe\"BEGIN { $patt = shift }; s{\\Q$patt}{$replacement}g\" \"$target\" file.txt\n</code></pre>\n\n<p>where the needed arguments are removed from <code>@ARGV</code> and utilized in a <code>BEGIN</code> block, so before the runtime; then <code>file.txt</code> gets processed. There is no need for <code>\\E</code> in the regex here.</p>\n\n<p>Or, use the <a href=\"https://perldoc.perl.org/perlrun.html#Command-Switches\" rel=\"nofollow noreferrer\"><code>-s</code> switch</a>, which enables command-line switches for the program </p>\n\n<pre><code># define $target, etc\n\nperl -s -pe\"s{\\Q$patt}{$replacement}g\" -- -patt=\"$target\" file.txt\n</code></pre>\n\n<p>The <code>--</code> is needed to mark the start of arguments, and switches must come before filenames.</p>\n\n<p>Finally, you can also export the shell variables, which can then be used in the Perl script via <code>%ENV</code>; but in general I'd rather recommend either of the above two approaches.</p>\n\n<hr>\n\n<p>A full example</p>\n\n<pre><code>#!/bin/bash\n# Last modified: 2019 Jan 06 (22:15)\n\ntarget=\"/{\"\nreplacement=\"&amp;\"\n\necho \"Replace $target with $replacement\"\n\nperl -wE'\n    BEGIN { $p = shift; $r = shift }; \n    $_=q(ah/{yes); s/\\Q$p/$r/; say\n' \"$target\" \"$replacement\"\n</code></pre>\n\n<p>This prints</p>\n\n<pre>\nReplace /{ with &\nah&yes\n</pre>\n\n<p>where I've used characters mentioned in a comment. </p>\n\n<p>The other way</p>\n\n<pre><code>#!/bin/bash\n# Last modified: 2019 Jan 06 (22:05)\n\ntarget=\"/{\"\nreplacement=\"&amp;\"\n\necho \"Replace $target with $replacement\"\n\nperl -s -wE'$_ = q(ah/{yes); s/\\Q$patt/$repl/; say' \\\n    -- -patt=\"$target\" -repl=\"$replacement\"\n</code></pre>\n\n<p>where code is broken over lines for readability here (and thus needs the <code>\\</code>). Same printout.</p>\n"}, {"comments": [{"owner": {"reputation": 353, "user_id": 2731575, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/c4e92000e719b9bdc5e2d8549e5ef0e1?s=128&d=identicon&r=PG&f=1", "display_name": "wef", "link": "https://stackoverflow.com/users/2731575/wef"}, "edited": false, "score": 0, "creation_date": 1585985805, "post_id": 60963750, "comment_id": 107962391, "body": "Quite correct AFAICS even though it&#39;s an extreme edge cases - the right thing to do for the completely general case. My original use-case was moderately long targets unlikely to occur. Please accept an upvote and thanks for the thoughtful answer."}], "tags": [], "owner": {"reputation": 745, "user_id": 3960947, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/14plP.png?s=128&g=1", "display_name": "G-Man Says &#39;Reinstate Monica&#39;", "link": "https://stackoverflow.com/users/3960947/g-man-says-reinstate-monica"}, "is_accepted": false, "score": 1, "last_activity_date": 1585715489, "creation_date": 1585715489, "answer_id": 60963750, "question_id": 54059656, "link": "https://stackoverflow.com/questions/54059656/how-to-search-replace-arbitrary-literal-strings-in-sed-and-awk-and-perl/60963750#60963750", "title": "How to search &amp; replace arbitrary literal strings in sed and awk (and perl)", "body": "<p>This is an enhancement\nof <a href=\"https://stackoverflow.com/q/54059656/3960947#54059658\">wef\u2019s answer</a>.</p>\n\n<p>We can remove the issue of the special meaning of various special characters\nand strings (<code>^</code>, <code>.</code>, <code>[</code>, <code>*</code>, <code>$</code>, <code>\\(</code>, <code>\\)</code>, <code>\\{</code>, <code>\\}</code>, <code>\\+</code>, <code>\\?</code>,\n<code>&amp;</code>, <code>\\1</code>, \u2026, whatever, and the <code>/</code> delimiter)\nby <em>removing the special characters.</em>\u00a0\nSpecifically, we can convert everything to hex;\nthen we have only <code>0</code>-<code>9</code> and\u00a0<code>a</code>-<code>f</code> to\u00a0deal with.\u00a0\nThis example demonstrates the principle:</p>\n\n<pre><code>$ echo -n '3.14' | xxd\n0000000: 332e 3134                                3.14\n\n$ echo -n 'pi'   | xxd\n0000000: 7069                                     pi\n\n$ echo '3.14 is a transcendental number.  3614 is an integer.' | xxd\n0000000: 332e 3134 2069 7320 6120 7472 616e 7363  3.14 is a transc\n0000010: 656e 6465 6e74 616c 206e 756d 6265 722e  endental number.\n0000020: 2020 3336 3134 2069 7320 616e 2069 6e74    3614 is an int\n0000030: 6567 6572 2e0a                           eger..\n\n$ echo \"3.14 is a transcendental number.  3614 is an integer.\" | xxd -p \\\n                                                       | sed 's/332e3134/7069/g' | xxd -p -r\npi is a transcendental number.  3614 is an integer.\n</code></pre>\n\n<p>whereas, of course, <code>sed 's/3.14/pi/g'</code> would also change <code>3614</code>.</p>\n\n<p>The above is a slight oversimplification; it doesn\u2019t account for boundaries.\u00a0\nConsider this (somewhat contrived) example:</p>\n\n<pre><code>$ echo -n 'E' | xxd\n0000000: 45                                       E\n\n$ echo -n 'g' | xxd\n0000000: 67                                       g\n\n$ echo '$Q Eak!' | xxd\n0000000: 2451 2045 616b 210a                      $Q Eak!.\n\n$ echo '$Q Eak!' | xxd -p | sed 's/45/67/g' | xxd -p -r\n&amp;q gak!\n</code></pre>\n\n<p>Because <code>$</code> (<code>24</code>) and <code>Q</code> (<code>51</code>)\ncombine to form <code>2<b><i>45</i></b>1</code>,\nthe <code>s/45/67/g</code> command rips it apart from the inside.\u00a0\nIt\u00a0changes <code>2451</code> to <code>2671</code>, which is <code>&amp;q</code> (<code>26</code>\u200a+\u200a<code>71</code>).\u00a0\nWe\u00a0can prevent that by separating the bytes of data in the search text,\nthe replacement text and the file with spaces.\u00a0\nHere\u2019s a\u00a0stylized solution:</p>\n\n<pre><code>encode() {\n        xxd -p    -- \"$@\" | sed 's/../&amp; /g' | tr -d '\\n'\n}\ndecode() {\n        xxd -p -r -- \"$@\"\n}\nleft=$( printf '%s' \"$search\"      | encode)\nright=$(printf '%s' \"$replacement\" | encode)\nencode file.txt | sed \"s/$left/$right/g\" | decode\n</code></pre>\n\n<p>I defined an <code>encode</code> function because I used that functionality three times,\nand then I\u00a0defined <code>decode</code> for symmetry.\u00a0\nIf\u00a0you don\u2019t want to define a\u00a0<code>decode</code> function, just change the last line to</p>\n\n<pre><code>encode file.txt | sed \"s/$left/$right/g\" | xxd -p \u2013r\n</code></pre>\n\n<p>Note that the <code>encode</code> function triples the size of the data (text)\nin the file, and then sends it through <code>sed</code> as a\u00a0single line\n\u2014 without even having a\u00a0newline at the end.\u00a0\nGNU sed seems to be able to handle this;\nother versions might not be able\u00a0to.</p>\n\n<p>As an added bonus, this solution handles multi-line search and replace\n(in other words, search and replacement strings that contain newline(s)).</p>\n"}], "owner": {"reputation": 353, "user_id": 2731575, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/c4e92000e719b9bdc5e2d8549e5ef0e1?s=128&d=identicon&r=PG&f=1", "display_name": "wef", "link": "https://stackoverflow.com/users/2731575/wef"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 1675, "favorite_count": 0, "accepted_answer_id": 54059658, "answer_count": 4, "score": 6, "last_activity_date": 1585715489, "creation_date": 1546761317, "last_edit_date": 1546849459, "question_id": 54059656, "link": "https://stackoverflow.com/questions/54059656/how-to-search-replace-arbitrary-literal-strings-in-sed-and-awk-and-perl", "title": "How to search &amp; replace arbitrary literal strings in sed and awk (and perl)", "body": "<p>Say we have some arbitrary literals in a file that we need to replace with some other literal. </p>\n\n<p>Normally, we'd just reach for <strong>sed</strong>(1) or <strong>awk</strong>(1) and code something like:</p>\n\n<pre><code>sed \"s/$target/$replacement/g\" file.txt\n</code></pre>\n\n<p>But what if the $target and/or $replacement could contain characters that are sensitive to <strong>sed</strong>(1) such as regular expressions. You could escape them but suppose you don't know what they are - they are arbitrary, ok? You'd need to code up something to escape all possible sensitive characters - including the '/' separator. eg</p>\n\n<pre><code>t=$( echo \"$target\" | sed 's/\\./\\\\./g; s/\\*/\\\\*/g; s/\\[/\\\\[/g; ...' ) # arghhh!\n</code></pre>\n\n<p>That's pretty awkward for such a simple problem.</p>\n\n<p><strong>perl</strong>(1) has \\Q ... \\E quotes but even that can't cope with the '/' separator in <code>$target</code>.</p>\n\n<pre><code>perl -pe \"s/\\Q$target\\E/$replacement/g\" file.txt\n</code></pre>\n\n<p>I just posted an answer!! So my real question is, \"is there a better way to do literal replacements in sed/awk/perl?\"</p>\n\n<p>If not, I'll leave this here in case it comes in useful.</p>\n"}, {"tags": ["shell", "perl", "xargs", "tcsh"], "comments": [{"owner": {"reputation": 233489, "user_id": 14122, "user_type": "registered", "accept_rate": 71, "profile_image": "https://www.gravatar.com/avatar/5e2861b08f37fa306fbf5384994af688?s=128&d=identicon&r=PG", "display_name": "Charles Duffy", "link": "https://stackoverflow.com/users/14122/charles-duffy"}, "edited": false, "score": 3, "creation_date": 1546724933, "post_id": 54056562, "comment_id": 94947233, "body": "Why is tcsh involved in this question when OpenBSD has a perfectly good POSIX sh? csh is a relic of the days when pre-POSIX (which is to say, pre-1992) Bourne had an inadequate featureset, and ksh was commercially licensed and cost money; neither of those things has been true for decades."}, {"owner": {"reputation": 233489, "user_id": 14122, "user_type": "registered", "accept_rate": 71, "profile_image": "https://www.gravatar.com/avatar/5e2861b08f37fa306fbf5384994af688?s=128&d=identicon&r=PG", "display_name": "Charles Duffy", "link": "https://stackoverflow.com/users/14122/charles-duffy"}, "edited": false, "score": 1, "creation_date": 1546725341, "post_id": 54056562, "comment_id": 94947311, "body": "...larger issue: Optimizing for terseness over correctness in shell languages is a bad idea in general. There&#39;s a lot of historical baggage in shell -- pretty much the full family of languages inspired by or attempting to be backwards-compatible with any 1970s-era shell -- and working around it generally makes some amount of baggage obligatory."}, {"owner": {"reputation": 21557, "user_id": 1122270, "user_type": "registered", "accept_rate": 20, "profile_image": "https://www.gravatar.com/avatar/1ab0e19086582d27abe75b0635f57f43?s=128&d=identicon&r=PG", "display_name": "cnst", "link": "https://stackoverflow.com/users/1122270/cnst"}, "reply_to_user": {"reputation": 233489, "user_id": 14122, "user_type": "registered", "accept_rate": 71, "profile_image": "https://www.gravatar.com/avatar/5e2861b08f37fa306fbf5384994af688?s=128&d=identicon&r=PG", "display_name": "Charles Duffy", "link": "https://stackoverflow.com/users/14122/charles-duffy"}, "edited": false, "score": 0, "creation_date": 1546726004, "post_id": 54056562, "comment_id": 94947439, "body": "@CharlesDuffy that&#39;s because I use tcsh as my main shell (I like the FreeBSD&#39;s default of <code>history-search-backward</code> for <code>bindkey -k up</code> on my systems), and this is intended to be a snippet for my shell"}, {"owner": {"reputation": 53041, "user_id": 4653379, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/b3953dbedd0dabff5cbc3db9b0835b14?s=128&d=identicon&r=PG&f=1", "display_name": "zdim", "link": "https://stackoverflow.com/users/4653379/zdim"}, "edited": false, "score": 0, "creation_date": 1546755396, "post_id": 54056562, "comment_id": 94951852, "body": "@cnst I also use <code>tcsh</code> as my command-line interpreter, for a few conveniences for daily work, one of which you mention (I bind it to Ctrl-P).  (But I&#39;m considering changing to <code>bash</code> for its many other advantages.)  But then I have a <code>~&#47;bin</code> where there are various utilities, and these are mostly <code>bash</code> scripts (and a few in Perl, and a few C programs working via <code>precmd</code> and <code>period</code> shell features).  You aren&#39;t tied to <code>tcsh</code> for that, and this looks like just a thing that could be done in a nice li&#39;l script."}, {"owner": {"reputation": 137100, "user_id": 874188, "user_type": "registered", "accept_rate": 62, "profile_image": "https://i.stack.imgur.com/ZcY77.png?s=128&g=1", "display_name": "tripleee", "link": "https://stackoverflow.com/users/874188/tripleee"}, "edited": false, "score": 0, "creation_date": 1546835265, "post_id": 54056562, "comment_id": 94970076, "body": "The simple solution to &quot;some things are not compatible with tcsh&quot; is to not use tcsh."}], "answers": [{"comments": [{"owner": {"reputation": 21557, "user_id": 1122270, "user_type": "registered", "accept_rate": 20, "profile_image": "https://www.gravatar.com/avatar/1ab0e19086582d27abe75b0635f57f43?s=128&d=identicon&r=PG", "display_name": "cnst", "link": "https://stackoverflow.com/users/1122270/cnst"}, "edited": false, "score": 0, "creation_date": 1546726131, "post_id": 54056638, "comment_id": 94947468, "body": "This is not an answer, because, 1, it requires <code>sh</code>, and, 2, it it&#39;s already known as part of the question.  Plus, it&#39;s hardly a snippet that could be copy-pasted within the shell, which is what the whole purpose of the question is about."}, {"owner": {"reputation": 233489, "user_id": 14122, "user_type": "registered", "accept_rate": 71, "profile_image": "https://www.gravatar.com/avatar/5e2861b08f37fa306fbf5384994af688?s=128&d=identicon&r=PG", "display_name": "Charles Duffy", "link": "https://stackoverflow.com/users/14122/charles-duffy"}, "reply_to_user": {"reputation": 21557, "user_id": 1122270, "user_type": "registered", "accept_rate": 20, "profile_image": "https://www.gravatar.com/avatar/1ab0e19086582d27abe75b0635f57f43?s=128&d=identicon&r=PG", "display_name": "cnst", "link": "https://stackoverflow.com/users/1122270/cnst"}, "edited": false, "score": 1, "creation_date": 1546739957, "post_id": 54056638, "comment_id": 94949921, "body": "The <code>shell</code> tag, which you used, is for POSIX sh (which, per your spec, OpenBSD ships with). I&#39;ve read and reread the question and see no evidence of (2)."}, {"owner": {"reputation": 68403, "user_id": 3422102, "user_type": "registered", "accept_rate": 100, "profile_image": "https://i.stack.imgur.com/Tg0Gt.png?s=128&g=1", "display_name": "David C. Rankin", "link": "https://stackoverflow.com/users/3422102/david-c-rankin"}, "edited": false, "score": 1, "creation_date": 1546743637, "post_id": 54056638, "comment_id": 94950406, "body": "I guess he never learned you <a href=\"https://english.stackexchange.com/questions/24539/dont-look-a-gift-horse-in-the-mouth\">don&#39;t look at gift-horse in the mouth</a>..."}, {"owner": {"reputation": 53041, "user_id": 4653379, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/b3953dbedd0dabff5cbc3db9b0835b14?s=128&d=identicon&r=PG&f=1", "display_name": "zdim", "link": "https://stackoverflow.com/users/4653379/zdim"}, "reply_to_user": {"reputation": 21557, "user_id": 1122270, "user_type": "registered", "accept_rate": 20, "profile_image": "https://www.gravatar.com/avatar/1ab0e19086582d27abe75b0635f57f43?s=128&d=identicon&r=PG", "display_name": "cnst", "link": "https://stackoverflow.com/users/1122270/cnst"}, "edited": false, "score": 0, "creation_date": 1546755220, "post_id": 54056638, "comment_id": 94951835, "body": "@cnst This most certainly is an answer (and a good one, as an indication which way to go, as far as I&#39;m concerned). You have every right to not like it of course, but your response to it comes across as rude."}, {"owner": {"reputation": 21557, "user_id": 1122270, "user_type": "registered", "accept_rate": 20, "profile_image": "https://www.gravatar.com/avatar/1ab0e19086582d27abe75b0635f57f43?s=128&d=identicon&r=PG", "display_name": "cnst", "link": "https://stackoverflow.com/users/1122270/cnst"}, "edited": false, "score": 0, "creation_date": 1546811443, "post_id": 54056638, "comment_id": 94965739, "body": "@CharlesDuffy, as for (2), I don&#39;t see how your solution is different from the <code>echo $HOSTS | xargs -n1 traceroute -w2</code> that&#39;s present in the question; in fact, you never explain what <code>--</code> is for, and I think it caused the other answer to use the <code>--</code> for no particular reason as well."}, {"owner": {"reputation": 233489, "user_id": 14122, "user_type": "registered", "accept_rate": 71, "profile_image": "https://www.gravatar.com/avatar/5e2861b08f37fa306fbf5384994af688?s=128&d=identicon&r=PG", "display_name": "Charles Duffy", "link": "https://stackoverflow.com/users/14122/charles-duffy"}, "reply_to_user": {"reputation": 21557, "user_id": 1122270, "user_type": "registered", "accept_rate": 20, "profile_image": "https://www.gravatar.com/avatar/1ab0e19086582d27abe75b0635f57f43?s=128&d=identicon&r=PG", "display_name": "cnst", "link": "https://stackoverflow.com/users/1122270/cnst"}, "edited": false, "score": 1, "creation_date": 1546811869, "post_id": 54056638, "comment_id": 94965848, "body": "@cnst, <code>--</code> is an end-of-options sigil, as standardized in <a href=\"http://pubs.opengroup.org/onlinepubs/9699919799/basedefs/V1_chap12.html\" rel=\"nofollow noreferrer\">POSIX utility syntax guidelines</a> #10: <i>The first <code>--</code> argument that is not an option-argument should be accepted as a delimiter indicating the end of options. Any following arguments should be treated as operands, even if they begin with the <code>-</code> character.</i> -- thus, it prevents a hostname starting with a dash from being treated as a collection of single-character options to <code>traceroute</code>."}, {"owner": {"reputation": 233489, "user_id": 14122, "user_type": "registered", "accept_rate": 71, "profile_image": "https://www.gravatar.com/avatar/5e2861b08f37fa306fbf5384994af688?s=128&d=identicon&r=PG", "display_name": "Charles Duffy", "link": "https://stackoverflow.com/users/14122/charles-duffy"}, "reply_to_user": {"reputation": 21557, "user_id": 1122270, "user_type": "registered", "accept_rate": 20, "profile_image": "https://www.gravatar.com/avatar/1ab0e19086582d27abe75b0635f57f43?s=128&d=identicon&r=PG", "display_name": "cnst", "link": "https://stackoverflow.com/users/1122270/cnst"}, "edited": false, "score": 0, "creation_date": 1546811960, "post_id": 54056638, "comment_id": 94965875, "body": "@cnst, ...if your copy of <code>traceroute</code> doesn&#39;t support it, then it&#39;s failing to comply with the relevant standard, which should be reported upstream as a bug."}, {"owner": {"reputation": 233489, "user_id": 14122, "user_type": "registered", "accept_rate": 71, "profile_image": "https://www.gravatar.com/avatar/5e2861b08f37fa306fbf5384994af688?s=128&d=identicon&r=PG", "display_name": "Charles Duffy", "link": "https://stackoverflow.com/users/14122/charles-duffy"}, "reply_to_user": {"reputation": 21557, "user_id": 1122270, "user_type": "registered", "accept_rate": 20, "profile_image": "https://www.gravatar.com/avatar/1ab0e19086582d27abe75b0635f57f43?s=128&d=identicon&r=PG", "display_name": "cnst", "link": "https://stackoverflow.com/users/1122270/cnst"}, "edited": false, "score": 0, "creation_date": 1546812121, "post_id": 54056638, "comment_id": 94965923, "body": "@cnst, ...and use of <code>echo $HOSTS | xargs</code> is buggy, full-stop. You get unwanted glob expansion (f/e, <code>foo[bar]</code> in the inputs gets matched against local filenames and thus potentially replaced with <code>foob</code>, <code>fooa</code>, etc; and also can trigger outright failures if <code>globfail</code> is set, or silently disappear when run on a shell with the <code>nullglob</code> option). You also get xargs doing not-quite-shell-compatible parsing of quotes and other characters in your strings, and various weirdness falling out of that, so you can&#39;t safely use it for arbitrary content."}, {"owner": {"reputation": 233489, "user_id": 14122, "user_type": "registered", "accept_rate": 71, "profile_image": "https://www.gravatar.com/avatar/5e2861b08f37fa306fbf5384994af688?s=128&d=identicon&r=PG", "display_name": "Charles Duffy", "link": "https://stackoverflow.com/users/14122/charles-duffy"}, "reply_to_user": {"reputation": 21557, "user_id": 1122270, "user_type": "registered", "accept_rate": 20, "profile_image": "https://www.gravatar.com/avatar/1ab0e19086582d27abe75b0635f57f43?s=128&d=identicon&r=PG", "display_name": "cnst", "link": "https://stackoverflow.com/users/1122270/cnst"}, "edited": false, "score": 0, "creation_date": 1546812265, "post_id": 54056638, "comment_id": 94965956, "body": "@cnst, ...see <a href=\"http://mywiki.wooledge.org/BashPitfalls#Using_xargs_without_-0\" rel=\"nofollow noreferrer\">BashPitfalls #56</a> and <a href=\"http://mywiki.wooledge.org/BashPitfalls#echo_.24foo\" rel=\"nofollow noreferrer\">BashPitfalls #14</a>."}, {"owner": {"reputation": 21557, "user_id": 1122270, "user_type": "registered", "accept_rate": 20, "profile_image": "https://www.gravatar.com/avatar/1ab0e19086582d27abe75b0635f57f43?s=128&d=identicon&r=PG", "display_name": "cnst", "link": "https://stackoverflow.com/users/1122270/cnst"}, "edited": false, "score": 0, "creation_date": 1546814120, "post_id": 54056638, "comment_id": 94966382, "body": "@CharlesDuffy these would all be very valid points, but not in this context.  However, thanks for teaching me <code>--</code> \u2014 I&#39;ve been asked multiple times about deleting files like <code>-rf</code> in various interviews, and my only solution was always <code>.&#47;-rf</code>, and no interviewer ever revealed the <code>--</code> part \u2014 good to know!"}], "tags": [], "owner": {"reputation": 233489, "user_id": 14122, "user_type": "registered", "accept_rate": 71, "profile_image": "https://www.gravatar.com/avatar/5e2861b08f37fa306fbf5384994af688?s=128&d=identicon&r=PG", "display_name": "Charles Duffy", "link": "https://stackoverflow.com/users/14122/charles-duffy"}, "is_accepted": false, "score": 4, "last_activity_date": 1546725392, "creation_date": 1546725392, "answer_id": 54056638, "question_id": 54056562, "link": "https://stackoverflow.com/questions/54056562/shortest-shell-code-to-run-both-traceroute-and-traceroute6/54056638#54056638", "title": "Shortest shell code to run both traceroute and traceroute6", "body": "<p>Keeping it simple:</p>\n\n<pre><code>#!/bin/sh\nset -- host1 host2 host3 host4 ...\nfor host do traceroute -w2 -- \"$host\"; done\nfor host do traceroute6 -w2 -- \"$host\"; done\n</code></pre>\n"}, {"comments": [{"owner": {"reputation": 21557, "user_id": 1122270, "user_type": "registered", "accept_rate": 20, "profile_image": "https://www.gravatar.com/avatar/1ab0e19086582d27abe75b0635f57f43?s=128&d=identicon&r=PG", "display_name": "cnst", "link": "https://stackoverflow.com/users/1122270/cnst"}, "edited": false, "score": 0, "creation_date": 1546830877, "post_id": 54058325, "comment_id": 94969297, "body": "Thanks for the tool!  I&#39;ve used it in some earlier project a few years ago. :-)  Is there an alternative to <code>{1}</code>?  It gets expanded to <code>1</code> in tcsh, and <code>\\{1}</code> is a bit ugly.  Also, it seems that I get some output out-of-order, e.g., I get some initial banners from <code>traceroute6</code> at the bottom of the output (e.g., running your example ends with the following line: <code>traceroute6 to google.com (2607:f8b0:4005:809::200e) from 2607:fb90:\u2026</code>, which seems out of place and out-of-order)."}, {"owner": {"reputation": 27241, "user_id": 363028, "user_type": "registered", "accept_rate": 59, "profile_image": "https://i.stack.imgur.com/cP1F2.jpg?s=128&g=1", "display_name": "Ole Tange", "link": "https://stackoverflow.com/users/363028/ole-tange"}, "reply_to_user": {"reputation": 21557, "user_id": 1122270, "user_type": "registered", "accept_rate": 20, "profile_image": "https://www.gravatar.com/avatar/1ab0e19086582d27abe75b0635f57f43?s=128&d=identicon&r=PG", "display_name": "cnst", "link": "https://stackoverflow.com/users/1122270/cnst"}, "edited": false, "score": 0, "creation_date": 1546834565, "post_id": 54058325, "comment_id": 94969930, "body": "You can protect against <code>tcsh</code> interpretation by quoting. &quot;{1}&quot; or &#39;{1}&#39; or quoting the whole string. The out-of-order is probably traceroute that prints both to stderr and stdout. GNU Parallel prints stdout first followed by stderr. You can avoid that by redirecting stderr to stdout in your command."}, {"owner": {"reputation": 21557, "user_id": 1122270, "user_type": "registered", "accept_rate": 20, "profile_image": "https://www.gravatar.com/avatar/1ab0e19086582d27abe75b0635f57f43?s=128&d=identicon&r=PG", "display_name": "cnst", "link": "https://stackoverflow.com/users/1122270/cnst"}, "edited": false, "score": 0, "creation_date": 1546835078, "post_id": 54058325, "comment_id": 94970030, "body": "So, how do you do the stderr/stdout merge/redirect as part of parallel?  What about the original problem statement \u2014 can I have a list of commands with one argument each?  E.g., maybe <code>traceroute</code> needs <code>-aw2</code>, but <code>traceroute6</code> doesn&#39;t support <code>-a</code> so, gets just <code>-w2</code>?  Is there a way to do that?"}, {"owner": {"reputation": 27241, "user_id": 363028, "user_type": "registered", "accept_rate": 59, "profile_image": "https://i.stack.imgur.com/cP1F2.jpg?s=128&g=1", "display_name": "Ole Tange", "link": "https://stackoverflow.com/users/363028/ole-tange"}, "reply_to_user": {"reputation": 21557, "user_id": 1122270, "user_type": "registered", "accept_rate": 20, "profile_image": "https://www.gravatar.com/avatar/1ab0e19086582d27abe75b0635f57f43?s=128&d=identicon&r=PG", "display_name": "cnst", "link": "https://stackoverflow.com/users/1122270/cnst"}, "edited": false, "score": 0, "creation_date": 1546835340, "post_id": 54058325, "comment_id": 94970094, "body": "@cnst It is unclear to me what you ask. List the actually commands you want run, and then let us see."}, {"owner": {"reputation": 21557, "user_id": 1122270, "user_type": "registered", "accept_rate": 20, "profile_image": "https://www.gravatar.com/avatar/1ab0e19086582d27abe75b0635f57f43?s=128&d=identicon&r=PG", "display_name": "cnst", "link": "https://stackoverflow.com/users/1122270/cnst"}, "edited": false, "score": 0, "creation_date": 1546837123, "post_id": 54058325, "comment_id": 94970472, "body": "I have the issue that stdout/stderr are not printed in order by <code>parallel</code>, compared to what <code>traceroute6</code> outputs if you run it outside of <code>parallel</code>.  How do I redirect traceroute6&#39;s stderr to stdout as you&#39;ve mentioned earlier, within parallel?"}, {"owner": {"reputation": 21557, "user_id": 1122270, "user_type": "registered", "accept_rate": 20, "profile_image": "https://www.gravatar.com/avatar/1ab0e19086582d27abe75b0635f57f43?s=128&d=identicon&r=PG", "display_name": "cnst", "link": "https://stackoverflow.com/users/1122270/cnst"}, "edited": false, "score": 1, "creation_date": 1546837406, "post_id": 54058325, "comment_id": 94970527, "body": "OK, seems like the following works:  <code>parallel eval \\{1} -w2 -- \\{2} &#39;2&gt;&amp;1&#39; ::: &quot;traceroute -a&quot; traceroute6 ::: ordns.he.net one.one.one.one</code>.  Kinda hairy, but I guess it does work, and is pretty short? :-)"}, {"owner": {"reputation": 21557, "user_id": 1122270, "user_type": "registered", "accept_rate": 20, "profile_image": "https://www.gravatar.com/avatar/1ab0e19086582d27abe75b0635f57f43?s=128&d=identicon&r=PG", "display_name": "cnst", "link": "https://stackoverflow.com/users/1122270/cnst"}, "edited": false, "score": 0, "creation_date": 1566440097, "post_id": 54058325, "comment_id": 101659413, "body": "It seems that I&#39;m getting the output out-of-order (e.g., a random order for each command), and also it would seem that some <code>traceroute</code> instances must be getting killed, as they fail to run to full completion, showing only, like, the first line with the first host.  Any idea how to fix that?"}, {"owner": {"reputation": 27241, "user_id": 363028, "user_type": "registered", "accept_rate": 59, "profile_image": "https://i.stack.imgur.com/cP1F2.jpg?s=128&g=1", "display_name": "Ole Tange", "link": "https://stackoverflow.com/users/363028/ole-tange"}, "reply_to_user": {"reputation": 21557, "user_id": 1122270, "user_type": "registered", "accept_rate": 20, "profile_image": "https://www.gravatar.com/avatar/1ab0e19086582d27abe75b0635f57f43?s=128&d=identicon&r=PG", "display_name": "cnst", "link": "https://stackoverflow.com/users/1122270/cnst"}, "edited": false, "score": 0, "creation_date": 1566485985, "post_id": 54058325, "comment_id": 101679589, "body": "I need more info. Maybe post a new question with an MCVE?"}, {"owner": {"reputation": 21557, "user_id": 1122270, "user_type": "registered", "accept_rate": 20, "profile_image": "https://www.gravatar.com/avatar/1ab0e19086582d27abe75b0635f57f43?s=128&d=identicon&r=PG", "display_name": "cnst", "link": "https://stackoverflow.com/users/1122270/cnst"}, "edited": false, "score": 0, "creation_date": 1566508750, "post_id": 54058325, "comment_id": 101689198, "body": "Well, the order is always random, but the traceroute instances getting killed seems to vary.  Is there a way to get the output in the very same order in which the arguments are provided?"}, {"owner": {"reputation": 27241, "user_id": 363028, "user_type": "registered", "accept_rate": 59, "profile_image": "https://i.stack.imgur.com/cP1F2.jpg?s=128&g=1", "display_name": "Ole Tange", "link": "https://stackoverflow.com/users/363028/ole-tange"}, "reply_to_user": {"reputation": 21557, "user_id": 1122270, "user_type": "registered", "accept_rate": 20, "profile_image": "https://www.gravatar.com/avatar/1ab0e19086582d27abe75b0635f57f43?s=128&d=identicon&r=PG", "display_name": "cnst", "link": "https://stackoverflow.com/users/1122270/cnst"}, "edited": false, "score": 1, "creation_date": 1566510563, "post_id": 54058325, "comment_id": 101689735, "body": "Use --keep-order"}], "tags": [], "owner": {"reputation": 27241, "user_id": 363028, "user_type": "registered", "accept_rate": 59, "profile_image": "https://i.stack.imgur.com/cP1F2.jpg?s=128&g=1", "display_name": "Ole Tange", "link": "https://stackoverflow.com/users/363028/ole-tange"}, "is_accepted": true, "score": 4, "last_activity_date": 1546836165, "last_edit_date": 1546836165, "creation_date": 1546744236, "answer_id": 54058325, "question_id": 54056562, "link": "https://stackoverflow.com/questions/54056562/shortest-shell-code-to-run-both-traceroute-and-traceroute6/54058325#54058325", "title": "Shortest shell code to run both traceroute and traceroute6", "body": "<p>If you have perl:</p>\n\n<pre><code>perl -e 'for(@ARGV){ print qx{  traceroute -w2 -- $_; traceroute6 -w2 -- $_ } }' google.com debian.org\n</code></pre>\n\n<p>As for a better way to join together the list of commands (e.g., a command name with a single parameter) with the list of arguments (e.g., hostnames) the answer could be GNU Parallel, which is built for doing just that:</p>\n\n<pre><code>parallel \"{1}\" -w2 -- \"{2}\" ::: traceroute traceroute6 ::: google.com debian.org\n</code></pre>\n\n<p>If you want special arguments connected with each command you can do:</p>\n\n<pre><code>parallel eval \"{1}\" -- \"{2}\" ::: \"traceroute -a -w2\" \"traceroute6 -w2\" ::: google.com debian.org\n</code></pre>\n\n<p>The <code>eval</code> is needed because GNU Parallel quotes all input, and while you normally want that, we do not want that in this case.</p>\n\n<p>But since that is a GNU tool, it is out of scope for your question. It is only included here for other people that read your question and who do not have that limitation.</p>\n"}, {"tags": [], "owner": {"reputation": 21557, "user_id": 1122270, "user_type": "registered", "accept_rate": 20, "profile_image": "https://www.gravatar.com/avatar/1ab0e19086582d27abe75b0635f57f43?s=128&d=identicon&r=PG", "display_name": "cnst", "link": "https://stackoverflow.com/users/1122270/cnst"}, "is_accepted": false, "score": 0, "last_activity_date": 1566531481, "creation_date": 1566531481, "answer_id": 57619597, "question_id": 54056562, "link": "https://stackoverflow.com/questions/54056562/shortest-shell-code-to-run-both-traceroute-and-traceroute6/57619597#57619597", "title": "Shortest shell code to run both traceroute and traceroute6", "body": "<p>With <a href=\"http://ports.su/sysutils/parallel\" rel=\"nofollow noreferrer\">GNU Parallel</a>, the final solution for the problem at stake would be something like the following snippet, using <a href=\"http://ports.su/shells/tcsh\" rel=\"nofollow noreferrer\"><code>tcsh</code></a> syntax, and OS X <code>traceroute</code> and <code>traceroute6</code>:</p>\n\n<p><code>( history 1 ; parallel --keep-order -j4 eval \\{1} -w1 -- \\{2} '2&gt;&amp;1' ::: \"traceroute -a -f1\" traceroute6 ::: ordns.he.net ns{1,2,3,4,5}.he.net one.one.one.one google-public-dns-a.google.com resolver1.opendns.com ; history 1 ) | &amp; mail -s \"traceroute: ordns.he.net et al from X\" receipient@example.org -f sender@example.org</code></p>\n"}], "owner": {"reputation": 21557, "user_id": 1122270, "user_type": "registered", "accept_rate": 20, "profile_image": "https://www.gravatar.com/avatar/1ab0e19086582d27abe75b0635f57f43?s=128&d=identicon&r=PG", "display_name": "cnst", "link": "https://stackoverflow.com/users/1122270/cnst"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 176, "favorite_count": 0, "accepted_answer_id": 54058325, "answer_count": 3, "score": 1, "last_activity_date": 1566531481, "creation_date": 1546724744, "question_id": 54056562, "link": "https://stackoverflow.com/questions/54056562/shortest-shell-code-to-run-both-traceroute-and-traceroute6", "title": "Shortest shell code to run both traceroute and traceroute6", "body": "<p>I'd like to run both <code>traceroute -w2</code> and <code>traceroute6 -w2</code>, sequentially, in a shell script, to try out multiple different hosts.</p>\n\n<p>A naive approach may just use a temporary variable to gather all the hosts within (e.g., set <code>HOSTS</code> to <code>ordns.he.net one.one.one.one google-public-dns-a.google.com</code>), and then just pipe it individually to each command, like, <code>echo $HOSTS | xargs -n1 traceroute -w2</code> et al, but this would work differently in <code>tcsh</code> than in <code>bash</code>, and may be prone to mistakes if you want to add more commands (as you'd be adding those as code as opposed to a list of things to do), and I'm thinking there's some better way to join together the <strong><em>list of commands</em></strong> (e.g., a command name with a single parameter) with the <strong><em>list of arguments</em></strong> (e.g., hostnames in our example), for the shell to execute every possible combination.</p>\n\n<p>I've tried doing some combination of <code>xargs -n1</code> (for hosts) and <code>xargs -n2</code> (for commands with one parameter) piping into each other, but it didn't really make much sense and didn't work.</p>\n\n<p>I'm looking for a solution that doesn't use any GNU tools and would work in a base OpenBSD install (if necessary, <code>perl</code> is part of the base OpenBSD, so, it's available as well).</p>\n"}, {"tags": ["regex", "perl"], "answers": [{"comments": [{"owner": {"reputation": 21, "user_id": 10391781, "user_type": "registered", "profile_image": "https://graph.facebook.com/2144508755623488/picture?type=large", "display_name": "Amar Vinukonda", "link": "https://stackoverflow.com/users/10391781/amar-vinukonda"}, "edited": false, "score": 1, "creation_date": 1546715837, "post_id": 54055291, "comment_id": 94944734, "body": "hi sir could you please elaborate this has worked for me but i dinn&#39;t understand regex expression"}], "tags": [], "owner": {"reputation": 198290, "user_id": 1030675, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/957956ce51706d03f19a4dc85a767bb1?s=128&d=identicon&r=PG", "display_name": "choroba", "link": "https://stackoverflow.com/users/1030675/choroba"}, "is_accepted": true, "score": 3, "last_activity_date": 1546716237, "last_edit_date": 1546716237, "creation_date": 1546715234, "answer_id": 54055291, "question_id": 54055104, "link": "https://stackoverflow.com/questions/54055104/extraction-of-data-in-a-b-c-and-splitting-them-with-comma/54055291#54055291", "title": "extraction of data in [a, b, c] and splitting them with comma", "body": "<p>If the square brackets are always paired correctly and there's no escaping mechanism, you can just remove all commas followed by <code>]</code> when there's no <code>[</code> in between:</p>\n\n<pre><code>$str =~ s/,(?=[^\\[]*\\])/ /g;\n</code></pre>\n\n<p>It uses the \"look-ahead\" assertion, i.e. <code>(?=...)</code>, which contains <code>[^\\[]*</code>, i.e. character class that contains anything but <code>[</code>, repeated zero or more times, followed by a <code>]</code>. So, it only matches when a comma is followed by any number of non-<code>[</code> characters followed by a <code>]</code>, which means it must be inside square brackets.</p>\n"}], "owner": {"reputation": 21, "user_id": 10391781, "user_type": "registered", "profile_image": "https://graph.facebook.com/2144508755623488/picture?type=large", "display_name": "Amar Vinukonda", "link": "https://stackoverflow.com/users/10391781/amar-vinukonda"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 44, "favorite_count": 0, "accepted_answer_id": 54055291, "answer_count": 1, "score": 0, "last_activity_date": 1546716237, "creation_date": 1546713865, "last_edit_date": 1546714934, "question_id": 54055104, "link": "https://stackoverflow.com/questions/54055104/extraction-of-data-in-a-b-c-and-splitting-them-with-comma", "title": "extraction of data in [a, b, c] and splitting them with comma", "body": "<pre><code>my $str = \"a, [b,c,d], k , [p,q,r], k, [x,y,z]\";\n</code></pre>\n\n<p>I want to remove the commas in between <code>[]</code> so that I would be getting output as :</p>\n\n<pre><code>\"a, [b c d], k , [p q r], k, [x y z]\"\n</code></pre>\n\n<p>I have tried extracting data between <code>[]</code> but was not able to.</p>\n\n<p>Is this possible ?</p>\n\n<p>Thanks and Regards,</p>\n\n<p>Amar</p>\n"}, {"tags": ["perl", "module", "centos"], "comments": [{"owner": {"reputation": 27648, "user_id": 9952196, "user_type": "registered", "profile_image": "https://graph.facebook.com/10216835866235879/picture?type=large", "display_name": "Shawn", "link": "https://stackoverflow.com/users/9952196/shawn"}, "edited": false, "score": 0, "creation_date": 1546774623, "post_id": 54054098, "comment_id": 94955530, "body": "<code>install Net::SSH2</code>, not <code>install Net::SH2</code>. Though I&#39;d see if it&#39;s available as a package in the centos repository before installing manually."}, {"owner": {"reputation": 13, "user_id": 9005992, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/1d2992068ae0bd5a5c6bc5d915235dcb?s=128&d=identicon&r=PG&f=1", "display_name": "b1ackbaron65", "link": "https://stackoverflow.com/users/9005992/b1ackbaron65"}, "reply_to_user": {"reputation": 27648, "user_id": 9952196, "user_type": "registered", "profile_image": "https://graph.facebook.com/10216835866235879/picture?type=large", "display_name": "Shawn", "link": "https://stackoverflow.com/users/9952196/shawn"}, "edited": false, "score": 0, "creation_date": 1546791388, "post_id": 54054098, "comment_id": 94959894, "body": "It&#39;s still now working... I don&#39;t think my cpan is working at all tbh, everything I type into it gives me the exact same response as you can see in my original post. I try googling but I can&#39;t find anything useful..."}], "answers": [{"tags": [], "owner": {"reputation": 793701, "user_id": 19068, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/1d2d3229ed1961d2bd81853242493247?s=128&d=identicon&r=PG", "display_name": "Quentin", "link": "https://stackoverflow.com/users/19068/quentin"}, "is_accepted": false, "score": 4, "last_activity_date": 1546707473, "creation_date": 1546707473, "answer_id": 54054147, "question_id": 54054098, "link": "https://stackoverflow.com/questions/54054098/why-doesnt-perl-find-my-installed-ssh2-module/54054147#54054147", "title": "Why doesn&#39;t perl find my installed SSH2 module?", "body": "<p>libssh is the C library for SSH. Net::SSH2 is a Perl module. They are different piece of software (although Net::SSH2 probably depends on libssh).</p>\n\n<p>You need to install Net::SSH2.</p>\n\n<p>See <a href=\"https://stackoverflow.com/questions/65865/whats-the-easiest-way-to-install-a-missing-perl-module\">What's the easiest way to install a missing Perl module?</a></p>\n"}, {"comments": [{"owner": {"reputation": 13, "user_id": 9005992, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/1d2992068ae0bd5a5c6bc5d915235dcb?s=128&d=identicon&r=PG&f=1", "display_name": "b1ackbaron65", "link": "https://stackoverflow.com/users/9005992/b1ackbaron65"}, "edited": false, "score": 0, "creation_date": 1546903048, "post_id": 54073517, "comment_id": 94999775, "body": "Worked perfectly. Thanks."}], "tags": [], "owner": {"reputation": 61, "user_id": 10874800, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/tV5SR.jpg?s=128&g=1", "display_name": "ptc", "link": "https://stackoverflow.com/users/10874800/ptc"}, "is_accepted": true, "score": 1, "last_activity_date": 1546860461, "creation_date": 1546860461, "answer_id": 54073517, "question_id": 54054098, "link": "https://stackoverflow.com/questions/54054098/why-doesnt-perl-find-my-installed-ssh2-module/54073517#54073517", "title": "Why doesn&#39;t perl find my installed SSH2 module?", "body": "<p>As <a href=\"https://stackoverflow.com/users/19068/quentin\">Quentin</a> mentioned in <a href=\"https://stackoverflow.com/a/54054147/10874800\">his answer</a>, <code>libssh2</code> is the C library for SSH, whereas <code>Net::SSH2</code> is a Perl module.  Since <code>Net::SSH2</code> will be installed from source (which is what the <code>cpan</code> command does in the background), you will need to ensure that a few prerequisites are installed:</p>\n\n<pre><code>sudo yum install libssh2 libssh2-devel gcc\n</code></pre>\n\n<p>The <code>libssh2</code> package was added to this list for completeness.  The development package for <code>libssh2</code> (<code>libssh2-devel</code>) as well as <code>gcc</code> (a C compiler) are required, since the process of installing <code>Net::SSH2</code> from source requires a library to be built so that <code>Net::SSH2</code> can talk to <code>libssh2</code>.</p>\n\n<p>When Perl modules are installed from source, the module's test suite is run by default to check that everything is ok before actually running the install step.  Hence, you will need to ensure that <code>perl-Test-Simple</code> is installed, since <code>Net::SSH2</code> uses this to run its tests:</p>\n\n<pre><code>sudo yum install perl-Test-Simple\n</code></pre>\n\n<p>I personally find it much easier to install Perl modules via <a href=\"https://metacpan.org/pod/App::cpanminus\" rel=\"nofollow noreferrer\"><code>cpanm</code></a> than <code>cpan</code>, thus I recommend installing it (it's available as a <code>yum</code> package):</p>\n\n<pre><code>sudo yum install perl-App-cpanminus\n</code></pre>\n\n<p>Now the installation of <code>Net::SSH2</code> should be as simple as:</p>\n\n<pre><code>cpanm Net::SSH2\n</code></pre>\n\n<p>If you want to install the module system-wide, then you will need to prefix the <code>cpanm</code> call with <code>sudo</code>:</p>\n\n<pre><code>sudo cpanm Net::SSH2\n</code></pre>\n"}], "owner": {"reputation": 13, "user_id": 9005992, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/1d2992068ae0bd5a5c6bc5d915235dcb?s=128&d=identicon&r=PG&f=1", "display_name": "b1ackbaron65", "link": "https://stackoverflow.com/users/9005992/b1ackbaron65"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 1086, "favorite_count": 0, "accepted_answer_id": 54073517, "answer_count": 2, "score": 1, "last_activity_date": 1546860461, "creation_date": 1546707163, "last_edit_date": 1546791264, "question_id": 54054098, "link": "https://stackoverflow.com/questions/54054098/why-doesnt-perl-find-my-installed-ssh2-module", "title": "Why doesn&#39;t perl find my installed SSH2 module?", "body": "<p>So I am trying to run a perl script on my Centos machine. I have tried on Centos 5,6,7 with no success. Every time I run the script I get this:</p>\n\n<pre><code>Can't locate Net/SSH2.pm in @INC (@INC contains: /usr/local/lib64/perl5 /usr/local/share/perl5 /usr/lib64/perl5/vendor_perl /usr/share/perl5/vendor_perl /usr/lib64/perl5 /usr/share/perl5 .)\n</code></pre>\n\n<p>I have installed libssh2</p>\n\n<pre><code>Package libssh2-1.4.3-12.el7.x86_64 already installed and latest version\n</code></pre>\n\n<p>I have tried using cpan but no matter what I do it doesn't seem to work.\nI just don't understand why perl isn't finding the module... Am I missing something?\nIf somebody could guide me to actually installing the SSH2 module because I have looked everywhere and nothing seems to work.\nThanks in advance.</p>\n\n<p>UPDATE:\nWhen I try to install via cpan:</p>\n\n<pre><code>cpan[1]&gt; install Net::SSH2\nReading '/root/.cpan/Metadata'\nReading '/root/.cpan/sources/authors/01mailrc.txt.gz'\n........................................................................DONE\nReading '/root/.cpan/sources/modules/02packages.details.txt.gz'\nDatabase was generated on Fri, 04 Jan 2019 22:17:03 GMT\nHTTP::Date not available\n.............\nNew CPAN.pm version (v2.22) available.\n[Currently running version is v1.9800]\nYou might want to try\ninstall CPAN\nreload cpan\nto both upgrade CPAN.pm and run the new version without leaving\nthe current session.\n\n\n........................................Killed\n</code></pre>\n\n<p>Still getting the same error...</p>\n"}, {"tags": ["javascript", "node.js", "git", "perl", "hash"], "comments": [{"owner": {"reputation": 324088, "user_id": 1256452, "user_type": "registered", "accept_rate": 50, "profile_image": "https://www.gravatar.com/avatar/fa1648baa6108c85886312af93bb32c0?s=128&d=identicon&r=PG", "display_name": "torek", "link": "https://stackoverflow.com/users/1256452/torek"}, "edited": false, "score": 2, "creation_date": 1546701763, "post_id": 54052838, "comment_id": 94940988, "body": "<a href=\"https://github.com/chris3torek/scripts/blob/master/githash.py\" rel=\"nofollow noreferrer\">github.com/chris3torek/scripts/blob/master/githash.py</a> contains Python code to compute Git hashes. Read it carefully!"}, {"owner": {"reputation": 10152, "user_id": 2226755, "user_type": "registered", "accept_rate": 75, "profile_image": "https://i.stack.imgur.com/HBbM7.png?s=128&g=1", "display_name": "A-312", "link": "https://stackoverflow.com/users/2226755/a-312"}, "reply_to_user": {"reputation": 324088, "user_id": 1256452, "user_type": "registered", "accept_rate": 50, "profile_image": "https://www.gravatar.com/avatar/fa1648baa6108c85886312af93bb32c0?s=128&d=identicon&r=PG", "display_name": "torek", "link": "https://stackoverflow.com/users/1256452/torek"}, "edited": false, "score": 0, "creation_date": 1546803364, "post_id": 54052838, "comment_id": 94963508, "body": "Hmmm... I don&#39;t understand the flag &quot;off-topic because... must include the desired behavior, ... to reproduce it in the question itself. Questions without a clear problem statement are not useful to other readers.&quot; ? I made a perl script to show you that my issue isn&#39;t in my hashing function. I use github api instead of filesystem to make my code reproductible..."}, {"owner": {"reputation": 7992, "user_id": 1487756, "user_type": "registered", "accept_rate": 92, "profile_image": "https://www.gravatar.com/avatar/1b0a7537f823b23cf0bfb095673226e2?s=128&d=identicon&r=PG&f=1", "display_name": "Moritz Roessler", "link": "https://stackoverflow.com/users/1487756/moritz-roessler"}, "edited": false, "score": 0, "creation_date": 1547115067, "post_id": 54052838, "comment_id": 95083885, "body": "Just a guess in the wild since objects are generally unordered and you iterate over <code>Object.values (json.tree)</code>. Maybe your hash isn&#39;t right because it needs to be an ordered list. Maybe, just maybe, your array isn&#39;t in the correct order."}, {"owner": {"reputation": 10152, "user_id": 2226755, "user_type": "registered", "accept_rate": 75, "profile_image": "https://i.stack.imgur.com/HBbM7.png?s=128&g=1", "display_name": "A-312", "link": "https://stackoverflow.com/users/2226755/a-312"}, "edited": false, "score": 0, "creation_date": 1547116184, "post_id": 54052838, "comment_id": 95084579, "body": "<code>json.tree.sort((a, b) =&gt; a.path.charCodeAt(0) - b.path.charCodeAt(0));</code> this line gives the same files order that repos on github.com . :/"}, {"owner": {"reputation": 27522, "user_id": 6394138, "user_type": "registered", "accept_rate": 90, "profile_image": "https://i.stack.imgur.com/u64Lc.png?s=128&g=1", "display_name": "Leon", "link": "https://stackoverflow.com/users/6394138/leon"}, "edited": false, "score": 0, "creation_date": 1547206374, "post_id": 54052838, "comment_id": 95122512, "body": "The sorting method <code>json.tree.sort((a, b) =&gt; a.path.charCodeAt(0) - b.path.charCodeAt(0));</code> is faulty - it sorts based only on the first character of the path, rather than fully lexicographically. The result is that the entries with the same first character of the path can be randomly shuffled."}, {"owner": {"reputation": 10152, "user_id": 2226755, "user_type": "registered", "accept_rate": 75, "profile_image": "https://i.stack.imgur.com/HBbM7.png?s=128&g=1", "display_name": "A-312", "link": "https://stackoverflow.com/users/2226755/a-312"}, "edited": false, "score": 0, "creation_date": 1547207045, "post_id": 54052838, "comment_id": 95122829, "body": "I disable this line, I think api as already sorted, I don&#39;t get the same hash for <a href=\"https://github.com/zestedesavoir/zds-site/tree/dev/doc\" rel=\"nofollow noreferrer\">A3</a> &amp; <a href=\"https://github.com/zestedesavoir/zds-site/tree/dev/templates/searchv2\" rel=\"nofollow noreferrer\">A4</a> if i try to sort."}], "answers": [{"comments": [{"owner": {"reputation": 10152, "user_id": 2226755, "user_type": "registered", "accept_rate": 75, "profile_image": "https://i.stack.imgur.com/HBbM7.png?s=128&g=1", "display_name": "A-312", "link": "https://stackoverflow.com/users/2226755/a-312"}, "edited": false, "score": 0, "creation_date": 1547202273, "post_id": 54137728, "comment_id": 95120347, "body": "Ty! I edited my answer.  &quot; GitHub API is that it silently &quot; is it impossible to do that i want ?"}, {"owner": {"reputation": 27522, "user_id": 6394138, "user_type": "registered", "accept_rate": 90, "profile_image": "https://i.stack.imgur.com/u64Lc.png?s=128&g=1", "display_name": "Leon", "link": "https://stackoverflow.com/users/6394138/leon"}, "reply_to_user": {"reputation": 10152, "user_id": 2226755, "user_type": "registered", "accept_rate": 75, "profile_image": "https://i.stack.imgur.com/HBbM7.png?s=128&g=1", "display_name": "A-312", "link": "https://stackoverflow.com/users/2226755/a-312"}, "edited": false, "score": 0, "creation_date": 1547205586, "post_id": 54137728, "comment_id": 95122151, "body": "@HorsSujet In your updated <code>output_a2</code> the entries <code>.flake8</code> and <code>COPYING</code> are in the wrong positions. Moving them to their correct locations results in the expected hash <code>c5c701b8114582e3bb2e353aac157a7febfcd33b</code> of the tree."}, {"owner": {"reputation": 27522, "user_id": 6394138, "user_type": "registered", "accept_rate": 90, "profile_image": "https://i.stack.imgur.com/u64Lc.png?s=128&g=1", "display_name": "Leon", "link": "https://stackoverflow.com/users/6394138/leon"}, "reply_to_user": {"reputation": 10152, "user_id": 2226755, "user_type": "registered", "accept_rate": 75, "profile_image": "https://i.stack.imgur.com/HBbM7.png?s=128&g=1", "display_name": "A-312", "link": "https://stackoverflow.com/users/2226755/a-312"}, "edited": false, "score": 0, "creation_date": 1547205787, "post_id": 54137728, "comment_id": 95122232, "body": "@HorsSujet Regarding your question <i>&quot;is it impossible to do that i want?&quot;</i> - a counter question is: how come you run in that situation (obtaining a commit hash which you treat as a tree hash)? By avoiding that situation, or handling it properly (by resolving the commit hash to the tree hash on your own) will eliminate the problem."}, {"owner": {"reputation": 10152, "user_id": 2226755, "user_type": "registered", "accept_rate": 75, "profile_image": "https://i.stack.imgur.com/HBbM7.png?s=128&g=1", "display_name": "A-312", "link": "https://stackoverflow.com/users/2226755/a-312"}, "edited": false, "score": 0, "creation_date": 1547216416, "post_id": 54137728, "comment_id": 95127641, "body": "I wanted to compare local version and github version, it&#39;s why i want to do that. I think i&#39;ll just compare file hash and not tree hash. Or i will do in another way (with git command or version number)."}, {"owner": {"reputation": 27522, "user_id": 6394138, "user_type": "registered", "accept_rate": 90, "profile_image": "https://i.stack.imgur.com/u64Lc.png?s=128&g=1", "display_name": "Leon", "link": "https://stackoverflow.com/users/6394138/leon"}, "reply_to_user": {"reputation": 10152, "user_id": 2226755, "user_type": "registered", "accept_rate": 75, "profile_image": "https://i.stack.imgur.com/HBbM7.png?s=128&g=1", "display_name": "A-312", "link": "https://stackoverflow.com/users/2226755/a-312"}, "edited": false, "score": 0, "creation_date": 1547631004, "post_id": 54137728, "comment_id": 95253581, "body": "@HorsSujet I slightly updated my answer, but I consider it to be exhaustive even without that last change."}, {"owner": {"reputation": 10152, "user_id": 2226755, "user_type": "registered", "accept_rate": 75, "profile_image": "https://i.stack.imgur.com/HBbM7.png?s=128&g=1", "display_name": "A-312", "link": "https://stackoverflow.com/users/2226755/a-312"}, "edited": false, "score": 0, "creation_date": 1547713385, "post_id": 54137728, "comment_id": 95288180, "body": "I didn&#39;t forget^^"}, {"owner": {"reputation": 27522, "user_id": 6394138, "user_type": "registered", "accept_rate": 90, "profile_image": "https://i.stack.imgur.com/u64Lc.png?s=128&g=1", "display_name": "Leon", "link": "https://stackoverflow.com/users/6394138/leon"}, "reply_to_user": {"reputation": 10152, "user_id": 2226755, "user_type": "registered", "accept_rate": 75, "profile_image": "https://i.stack.imgur.com/HBbM7.png?s=128&g=1", "display_name": "A-312", "link": "https://stackoverflow.com/users/2226755/a-312"}, "edited": false, "score": 0, "creation_date": 1547715048, "post_id": 54137728, "comment_id": 95288988, "body": "@HorsSujet Thanks!"}], "tags": [], "owner": {"reputation": 27522, "user_id": 6394138, "user_type": "registered", "accept_rate": 90, "profile_image": "https://i.stack.imgur.com/u64Lc.png?s=128&g=1", "display_name": "Leon", "link": "https://stackoverflow.com/users/6394138/leon"}, "is_accepted": true, "score": 12, "last_activity_date": 1547630568, "last_edit_date": 1547630568, "creation_date": 1547158843, "answer_id": 54137728, "question_id": 54052838, "link": "https://stackoverflow.com/questions/54052838/how-can-i-calculate-git-tree-hash/54137728#54137728", "title": "How can I calculate git tree hash?", "body": "<p>Your code contains a problem, however fixing it doesn't remove the discrepancy in the A2 case.</p>\n\n<h1>The problem with your code</h1>\n\n<p>The official git algorithm for computing hashes on trees drops leading zeros from the mode field. In your examples, that field contains values <code>100644</code> and <code>040000</code>, and the latter is recorded by git as <code>40000</code>.</p>\n\n<p>Proof:</p>\n\n<pre><code>$ git cat-file tree 4ef57de8e81c8415d6da2b267872e602b1f28cfe|hexdump -C\n00000000  31 30 30 36 34 34 20 2e  63 6f 76 65 72 61 67 65  |100644 .coverage|\n00000010  72 63 00 44 91 70 d0 fa  eb 75 18 23 10 34 55 64  |rc.D.p...u.#.4Ud|\n00000020  fd 18 11 c0 b9 fd 73 31  30 30 36 34 34 20 2e 65  |......s100644 .e|\n00000030  64 69 74 6f 72 63 6f 6e  66 69 67 00 75 88 49 36  |ditorconfig.u.I6|\n00000040  ea 2d 35 b5 31 af 88 6a  ca d7 47 d4 fd 9b 2a 9e  |.-5.1..j..G...*.|\n00000050  31 30 30 36 34 34 20 2e  66 6c 61 6b 65 38 00 69  |100644 .flake8.i|\n00000060  e8 72 e3 0d 30 f5 c7 de  32 76 d2 89 d6 ae e8 1c  |.r..0...2v......|\n00000070  cf 4a f7 34 30 30 30 30  20 2e 67 69 74 68 75 62  |.J.40000 .github|\n...                                                             ^^^^^\n...                                                             !!!!!\n</code></pre>\n\n<p>But adding removal of leading zeros<sup>1</sup> to your perl script still doesn't fix  the A2 case (although the computed hash changes, it is still different from the expected one):</p>\n\n<pre><code>$ cat main.sh\nXX=\"$(perl -sane '$F[2] =~ s/(..)/\\\\x$1/g ; $F[0] =~ s/^0+//g ; print $F[0].\" \".$F[1].\"\\\\\".\"x00\".$F[2]' output_a1)\"\nSIZE=$(echo -en \"$XX\" | wc -c)\n\necho \"original: 8d66139b3acf78fa50e16383693a161c33b5e048 output:\"\necho -en \"tree $SIZE\\x00$XX\" | sha1sum\n\nXX=\"$(perl -sane '$F[2] =~ s/(..)/\\\\x$1/g ; $F[0] =~ s/^0+//g ; print $F[0].\" \".$F[1].\"\\\\\".\"x00\".$F[2]' output_a2)\"\nSIZE=$(echo -en \"$XX\" | wc -c)\n\necho \"original: 4ef57de8e81c8415d6da2b267872e602b1f28cfe output:\"\necho -en \"tree $SIZE\\x00$XX\" | sha1sum\n\n$ ./main.sh \noriginal: 8d66139b3acf78fa50e16383693a161c33b5e048 output:\n8d66139b3acf78fa50e16383693a161c33b5e048  -\noriginal: 4ef57de8e81c8415d6da2b267872e602b1f28cfe output:\nc5c701b8114582e3bb2e353aac157a7febfcd33b  -\n</code></pre>\n\n<h1>The problem (?) with the GitHub API</h1>\n\n<p>The explanation is that the A2 hash <strong>4ef57de8e81c8415d6da2b267872e602b1f28cfe</strong> points to a commit object rather than a tree. That commit object in turn refers to the tree with hash <strong>c5c701b8114582e3bb2e353aac157a7febfcd33b</strong>, which is exactly the value computed by the fixed code:</p>\n\n<pre><code>$ git cat-file -t 4ef57de8e81c8415d6da2b267872e602b1f28cfe\ncommit\n\n$ git cat-file -p 4ef57de8e81c8415d6da2b267872e602b1f28cfe\ntree c5c701b8114582e3bb2e353aac157a7febfcd33b\nparent 502a88b41161ec7dbff0862e3d805db397caf366\n...\n</code></pre>\n\n<p>Had you used for the A2 query the tree rather than the commit hash (<a href=\"https://api.github.com/repos/zestedesavoir/zds-site/git/trees/c5c701b8114582e3bb2e353aac157a7febfcd33b\" rel=\"noreferrer\">try this</a>) you wouldn't have had any problem in the first place.</p>\n\n<p>An arguable issue with the <a href=\"https://developer.github.com/v3/git/trees/#get-a-tree\" rel=\"noreferrer\">GitHub API</a> is that it silently resolves a commit hash to the underlying tree instead of returning an error or including in the response an indication of what happened (for example, by setting the <code>sha</code> field to the hash of the tree rather than the query value).</p>\n\n<hr>\n\n<p><sup>1</sup> The quick&amp;dirty fix won't work correctly in one case, when the mode field consists of only zeros. In that case the mode field will be completely erased instead of being replaced by a single zero. However that case cannot occur in practice, since an object with such a mode value would be simply inaccessible to git.</p>\n"}], "owner": {"reputation": 10152, "user_id": 2226755, "user_type": "registered", "accept_rate": 75, "profile_image": "https://i.stack.imgur.com/HBbM7.png?s=128&g=1", "display_name": "A-312", "link": "https://stackoverflow.com/users/2226755/a-312"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 1230, "favorite_count": 2, "accepted_answer_id": 54137728, "answer_count": 1, "score": 14, "last_activity_date": 1547630568, "creation_date": 1546697419, "last_edit_date": 1547206731, "question_id": 54052838, "link": "https://stackoverflow.com/questions/54052838/how-can-i-calculate-git-tree-hash", "title": "How can I calculate git tree hash?", "body": "<p>For a nodejs project I need to determinate the hash of my folder to check the version. Actually, I made a script to test my code (without filesystem, directly of git api for my test). But it works half the time.</p>\n\n<ul>\n<li><a href=\"https://api.github.com/repos/zestedesavoir/zds-site/git/trees/8d66139b3acf78fa50e16383693a161c33b5e048\" rel=\"noreferrer\">A1</a> works ;</li>\n<li><a href=\"https://api.github.com/repos/zestedesavoir/zds-site/git/trees/4ef57de8e81c8415d6da2b267872e602b1f28cfe\" rel=\"noreferrer\">A2</a> doesn't work because <strong>I don't get the same hash</strong> ;</li>\n<li><a href=\"https://api.github.com/repos/zestedesavoir/zds-site/git/trees/13b54c0bab5e7f7a05398d6d92e65eee2b227136\" rel=\"noreferrer\">A3</a> works.</li>\n<li><a href=\"https://api.github.com/repos/zestedesavoir/zds-site/git/trees/218a8f506fcd3076fad059ec42d4656c635a8171\" rel=\"noreferrer\">A4</a> works.</li>\n</ul>\n\n<p>I used this API to get the hash : <a href=\"https://api.github.com/repos/zestedesavoir/zds-site/branches/dev\" rel=\"noreferrer\">https://api.github.com/repos/zestedesavoir/zds-site/branches/dev</a></p>\n\n<p>I <a href=\"https://repl.it/repls/VainPrizeDebugmonitor\" rel=\"noreferrer\">made a Perl script version</a> to check my code js code. It returns the same things. I think my error is in <code>Object.values(json.tree).forEach(function (blob)</code> the pattern must be not good with <code>text += blob.mode + \" \" + blob.path + \"\\0\" + sha;</code>. I don't know why.</p>\n\n<h1>My js script :</h1>\n\n<p>(Live demo : <a href=\"https://repl.it/repls/FearfulWhiteShelfware\" rel=\"noreferrer\">https://repl.it/repls/FearfulWhiteShelfware</a>)</p>\n\n<pre><code>const crypto = require(\"crypto\"),\n      fs = require(\"fs\"),\n      path = require(\"path\"),\n      getURL = require(\"./ajax.js\").getURL;\n\nconst apiJSON = [];\n//https://api.github.com/\nconst hashs = [\n  \"8d66139b3acf78fa50e16383693a161c33b5e048\",\n  \"4ef57de8e81c8415d6da2b267872e602b1f28cfe\",\n  \"13b54c0bab5e7f7a05398d6d92e65eee2b227136\",\n  \"218a8f506fcd3076fad059ec42d4656c635a8171\"\n];\n\nlet loaded = 0;\n\nconst USEAPI = false; /*  becarful low limit on repl.it */\n\nfor (let i = 0; i &lt; hashs.length; i++) {\n  if (!USEAPI) {\n    apiJSON[i] = JSON.parse(fs.readFileSync(`a${i+1}.json`));\n    console.log(`A${i+1}:`);\n    getTreeSHA(apiJSON[i], false);\n\n    if (i+1 === hashs.length) {\n      console.log(\"\\n\\nPerl ouput:\");\n      for (let j = 0; j &lt; hashs.length; j++)\n        getTreeSHA(apiJSON[j], true);\n    }\n  } else {\n    getURL(\"/repos/zestedesavoir/zds-site/git/trees/\" + hashs[i], function(json) {\n      loaded++; apiJSON[i] = json;\n      if (loaded === hashs.length) {\n        for (let i = 0; i &lt; hashs.length; i++) {\n          console.log(`A${i+1}:`); getTreeSHA(apiJSON[i], false);\n        }\n        console.log(\"\\n\\nPerl ouput:\");\n        for (let i = 0; i &lt; hashs.length; i++)\n          getTreeSHA(apiJSON[i], true);\n      }\n    });\n  }\n}\n\nfunction getTreeSHA(json, getPattern) {\n  /*json.tree.sort((a, b) =&gt; { ---&gt; not good see A3 &amp; A4\n    if (a.type !== b.type)\n      if (a.type === \"tree\")\n        return 1;\n      else if (b.type === \"tree\")\n        return -1;\n    return a.path.charCodeAt(0) - b.path.charCodeAt(0)\n  });*/\n\n  let text = \"\";\n\n  Object.values(json.tree).forEach(function (blob) {\n      const sha = Buffer.from(blob.sha, \"hex\").toString(!getPattern ? \"binary\" : \"hex\");\n      text += (+blob.mode) + \" \" + blob.path;\n      //       ^ https://stackoverflow.com/a/54137728\n      text += (!getPattern) ? (\"\\0\" + sha) : (\" \" + sha + \"\\n\");\n  });\n\n  if (getPattern) return console.log(text.replace(/\\0/g, \"\"));\n\n  console.log(\"Original \" + json.sha);\n  const pattern = \"tree \" + text.length + \"\\0\" + text;\n  console.log(\"Actual : \" + sha1(pattern));\n\n  function sha1(data) {\n      return crypto.createHash(\"sha1\").update(data, \"binary\").digest(\"hex\");\n  }\n}\n</code></pre>\n\n<h1>Output :</h1>\n\n<pre><code>A1:\nOriginal 8d66139b3acf78fa50e16383693a161c33b5e048\nActual : 8d66139b3acf78fa50e16383693a161c33b5e048\nA2:\nOriginal 4ef57de8e81c8415d6da2b267872e602b1f28cfe\nActual : c5c701b8114582e3bb2e353aac157a7febfcd33b &lt;-- not god\nA3:\nOriginal 13b54c0bab5e7f7a05398d6d92e65eee2b227136\nActual : 13b54c0bab5e7f7a05398d6d92e65eee2b227136\nA4:\nOriginal 218a8f506fcd3076fad059ec42d4656c635a8171\nActual : 218a8f506fcd3076fad059ec42d4656c635a8171\n</code></pre>\n\n<h1>Wanted Output :</h1>\n\n<pre><code>//...\nA2:\nOriginal 4ef57de8e81c8415d6da2b267872e602b1f28cfe\nActual\u202f: 4ef57de8e81c8415d6da2b267872e602b1f28cfe\n//...\n</code></pre>\n\n<h1>A2 :</h1>\n\n<pre><code>{\n  \"sha\": \"4ef57de8e81c8415d6da2b267872e602b1f28cfe\",\n  \"url\": \"https://api.github.com/repos/zestedesavoir/zds-site/git/trees/4ef57de8e81c8415d6da2b267872e602b1f28cfe\",\n  \"tree\": [\n    {\n      \"path\": \".coveragerc\",\n      \"mode\": \"100644\",\n      \"type\": \"blob\",\n      \"sha\": \"449170d0faeb75182310345564fd1811c0b9fd73\",\n      \"size\": 163,\n      \"url\": \"https://api.github.com/repos/zestedesavoir/zds-site/git/blobs/449170d0faeb75182310345564fd1811c0b9fd73\"\n    },\n    {\n      \"path\": \".editorconfig\",\n      \"mode\": \"100644\",\n      \"type\": \"blob\",\n      \"sha\": \"75884936ea2d35b531af886acad747d4fd9b2a9e\",\n      \"size\": 328,\n      \"url\": \"https://api.github.com/repos/zestedesavoir/zds-site/git/blobs/75884936ea2d35b531af886acad747d4fd9b2a9e\"\n    },\n    {\n      \"path\": \".flake8\",\n      \"mode\": \"100644\",\n      \"type\": \"blob\",\n      \"sha\": \"69e872e30d30f5c7de3276d289d6aee81ccf4af7\",\n      \"size\": 232,\n      \"url\": \"https://api.github.com/repos/zestedesavoir/zds-site/git/blobs/69e872e30d30f5c7de3276d289d6aee81ccf4af7\"\n    },\n    {\n      \"path\": \".github\",\n      \"mode\": \"040000\",\n      \"type\": \"tree\",\n      \"sha\": \"56b49acad224fdb70fca11809f3e5a4d396cb01c\",\n      \"url\": \"https://api.github.com/repos/zestedesavoir/zds-site/git/trees/56b49acad224fdb70fca11809f3e5a4d396cb01c\"\n    },\n    {\n      \"path\": \".gitignore\",\n      \"mode\": \"100644\",\n      \"type\": \"blob\",\n      \"sha\": \"4832b44b973574253cf1b59ba7a66cfc227cd699\",\n      \"size\": 1439,\n      \"url\": \"https://api.github.com/repos/zestedesavoir/zds-site/git/blobs/4832b44b973574253cf1b59ba7a66cfc227cd699\"\n    },\n    {\n      \"path\": \".jshintrc\",\n      \"mode\": \"100644\",\n      \"type\": \"blob\",\n      \"sha\": \"939efa02939437adece1e3a076d597b2557e36b5\",\n      \"size\": 319,\n      \"url\": \"https://api.github.com/repos/zestedesavoir/zds-site/git/blobs/939efa02939437adece1e3a076d597b2557e36b5\"\n    },\n    {\n      \"path\": \".travis.yml\",\n      \"mode\": \"100644\",\n      \"type\": \"blob\",\n      \"sha\": \"6b5e4f43790874e2cf9db23e964f72b99deeb0d1\",\n      \"size\": 6040,\n      \"url\": \"https://api.github.com/repos/zestedesavoir/zds-site/git/blobs/6b5e4f43790874e2cf9db23e964f72b99deeb0d1\"\n    },\n    {\n      \"path\": \"AUTHORS\",\n      \"mode\": \"100644\",\n      \"type\": \"blob\",\n      \"sha\": \"0b92b7759ce2dd0a7cacf79b273368bb71ac5397\",\n      \"size\": 197,\n      \"url\": \"https://api.github.com/repos/zestedesavoir/zds-site/git/blobs/0b92b7759ce2dd0a7cacf79b273368bb71ac5397\"\n    },\n    {\n      \"path\": \"CODE_OF_CONDUCT.md\",\n      \"mode\": \"100644\",\n      \"type\": \"blob\",\n      \"sha\": \"ae61c31efae6cea565e447467e4377da76125679\",\n      \"size\": 2754,\n      \"url\": \"https://api.github.com/repos/zestedesavoir/zds-site/git/blobs/ae61c31efae6cea565e447467e4377da76125679\"\n    },\n    {\n      \"path\": \"CONTRIBUTING.md\",\n      \"mode\": \"100644\",\n      \"type\": \"blob\",\n      \"sha\": \"ac71ad378faf7fb7ae927b20d4d28a57c6085bf9\",\n      \"size\": 155,\n      \"url\": \"https://api.github.com/repos/zestedesavoir/zds-site/git/blobs/ac71ad378faf7fb7ae927b20d4d28a57c6085bf9\"\n    },\n    {\n      \"path\": \"COPYING\",\n      \"mode\": \"100644\",\n      \"type\": \"blob\",\n      \"sha\": \"94a9ed024d3859793618152ea559a168bbcbb5e2\",\n      \"size\": 35147,\n      \"url\": \"https://api.github.com/repos/zestedesavoir/zds-site/git/blobs/94a9ed024d3859793618152ea559a168bbcbb5e2\"\n    },\n    {\n      \"path\": \"Gulpfile.js\",\n      \"mode\": \"100644\",\n      \"type\": \"blob\",\n      \"sha\": \"5dd951ae61f0913605197fafa018f7db49549a68\",\n      \"size\": 6137,\n      \"url\": \"https://api.github.com/repos/zestedesavoir/zds-site/git/blobs/5dd951ae61f0913605197fafa018f7db49549a68\"\n    },\n    {\n      \"path\": \"LICENSE\",\n      \"mode\": \"100644\",\n      \"type\": \"blob\",\n      \"sha\": \"8a171a155d85927b678068becd046194aea777a9\",\n      \"size\": 717,\n      \"url\": \"https://api.github.com/repos/zestedesavoir/zds-site/git/blobs/8a171a155d85927b678068becd046194aea777a9\"\n    },\n    {\n      \"path\": \"Makefile\",\n      \"mode\": \"100644\",\n      \"type\": \"blob\",\n      \"sha\": \"cc722c2bc71dfbaa1b025c8c56245ed0fcd61739\",\n      \"size\": 3829,\n      \"url\": \"https://api.github.com/repos/zestedesavoir/zds-site/git/blobs/cc722c2bc71dfbaa1b025c8c56245ed0fcd61739\"\n    },\n    {\n      \"path\": \"README.md\",\n      \"mode\": \"100644\",\n      \"type\": \"blob\",\n      \"sha\": \"a6a9013159a3766da62443c4be5e267435469fd9\",\n      \"size\": 3280,\n      \"url\": \"https://api.github.com/repos/zestedesavoir/zds-site/git/blobs/a6a9013159a3766da62443c4be5e267435469fd9\"\n    },\n    {\n      \"path\": \"assets\",\n      \"mode\": \"040000\",\n      \"type\": \"tree\",\n      \"sha\": \"1846a32450eb2a7605acb55cab8206028cfb656f\",\n      \"url\": \"https://api.github.com/repos/zestedesavoir/zds-site/git/trees/1846a32450eb2a7605acb55cab8206028cfb656f\"\n    },\n    {\n      \"path\": \"doc\",\n      \"mode\": \"040000\",\n      \"type\": \"tree\",\n      \"sha\": \"f55b804a2b694db577b20c8e9851ad783fea8ee5\",\n      \"url\": \"https://api.github.com/repos/zestedesavoir/zds-site/git/trees/f55b804a2b694db577b20c8e9851ad783fea8ee5\"\n    },\n    {\n      \"path\": \"errors\",\n      \"mode\": \"040000\",\n      \"type\": \"tree\",\n      \"sha\": \"b37a18162be2bdae7382fc194f1bf2d0ab89bba3\",\n      \"url\": \"https://api.github.com/repos/zestedesavoir/zds-site/git/trees/b37a18162be2bdae7382fc194f1bf2d0ab89bba3\"\n    },\n    {\n      \"path\": \"export-assets\",\n      \"mode\": \"040000\",\n      \"type\": \"tree\",\n      \"sha\": \"3a8b85efa969c389ac3c5e7e6ad62206dbddcaca\",\n      \"url\": \"https://api.github.com/repos/zestedesavoir/zds-site/git/trees/3a8b85efa969c389ac3c5e7e6ad62206dbddcaca\"\n    },\n    {\n      \"path\": \"fixtures\",\n      \"mode\": \"040000\",\n      \"type\": \"tree\",\n      \"sha\": \"89cacb4de6feb81a962b9a992b9434cb44d3b0aa\",\n      \"url\": \"https://api.github.com/repos/zestedesavoir/zds-site/git/trees/89cacb4de6feb81a962b9a992b9434cb44d3b0aa\"\n    },\n    {\n      \"path\": \"geodata\",\n      \"mode\": \"040000\",\n      \"type\": \"tree\",\n      \"sha\": \"635d29035ae7528231edb9b74eb09887c22dda2a\",\n      \"url\": \"https://api.github.com/repos/zestedesavoir/zds-site/git/trees/635d29035ae7528231edb9b74eb09887c22dda2a\"\n    },\n    {\n      \"path\": \"manage.py\",\n      \"mode\": \"100755\",\n      \"type\": \"blob\",\n      \"sha\": \"458f6e2df8b431b9fa819c89e82cebf2e0a91260\",\n      \"size\": 1536,\n      \"url\": \"https://api.github.com/repos/zestedesavoir/zds-site/git/blobs/458f6e2df8b431b9fa819c89e82cebf2e0a91260\"\n    },\n    {\n      \"path\": \"package.json\",\n      \"mode\": \"100644\",\n      \"type\": \"blob\",\n      \"sha\": \"02d231aa0c0fa299581be07bcece0393dc9a9e47\",\n      \"size\": 1402,\n      \"url\": \"https://api.github.com/repos/zestedesavoir/zds-site/git/blobs/02d231aa0c0fa299581be07bcece0393dc9a9e47\"\n    },\n    {\n      \"path\": \"quotes.txt\",\n      \"mode\": \"100644\",\n      \"type\": \"blob\",\n      \"sha\": \"e8e84a048d70bc57c1f725fc12f2101a40c5dcbb\",\n      \"size\": 1552,\n      \"url\": \"https://api.github.com/repos/zestedesavoir/zds-site/git/blobs/e8e84a048d70bc57c1f725fc12f2101a40c5dcbb\"\n    },\n    {\n      \"path\": \"requirements-dev.txt\",\n      \"mode\": \"100644\",\n      \"type\": \"blob\",\n      \"sha\": \"7297a894036fcf70a7209062bb51f45db1b71d39\",\n      \"size\": 227,\n      \"url\": \"https://api.github.com/repos/zestedesavoir/zds-site/git/blobs/7297a894036fcf70a7209062bb51f45db1b71d39\"\n    },\n    {\n      \"path\": \"requirements-prod.txt\",\n      \"mode\": \"100644\",\n      \"type\": \"blob\",\n      \"sha\": \"2f957115bcf3794fdecf3c4848f21ae8f428c31b\",\n      \"size\": 83,\n      \"url\": \"https://api.github.com/repos/zestedesavoir/zds-site/git/blobs/2f957115bcf3794fdecf3c4848f21ae8f428c31b\"\n    },\n    {\n      \"path\": \"requirements.txt\",\n      \"mode\": \"100644\",\n      \"type\": \"blob\",\n      \"sha\": \"805fefa566ef0d8f6a7c7e58d01fa4684078cf50\",\n      \"size\": 998,\n      \"url\": \"https://api.github.com/repos/zestedesavoir/zds-site/git/blobs/805fefa566ef0d8f6a7c7e58d01fa4684078cf50\"\n    },\n    {\n      \"path\": \"robots.txt\",\n      \"mode\": \"100644\",\n      \"type\": \"blob\",\n      \"sha\": \"8ca70253a4bb677cb797a7b409df4c4a9c0baa67\",\n      \"size\": 948,\n      \"url\": \"https://api.github.com/repos/zestedesavoir/zds-site/git/blobs/8ca70253a4bb677cb797a7b409df4c4a9c0baa67\"\n    },\n    {\n      \"path\": \"scripts\",\n      \"mode\": \"040000\",\n      \"type\": \"tree\",\n      \"sha\": \"f6a251faaaa14ba4fcf702cd0556675e70cc80f3\",\n      \"url\": \"https://api.github.com/repos/zestedesavoir/zds-site/git/trees/f6a251faaaa14ba4fcf702cd0556675e70cc80f3\"\n    },\n    {\n      \"path\": \"suggestions.txt\",\n      \"mode\": \"100644\",\n      \"type\": \"blob\",\n      \"sha\": \"5e5d11a62a00d3f1aea8f3825c8ec89860d31ad0\",\n      \"size\": 285,\n      \"url\": \"https://api.github.com/repos/zestedesavoir/zds-site/git/blobs/5e5d11a62a00d3f1aea8f3825c8ec89860d31ad0\"\n    },\n    {\n      \"path\": \"templates\",\n      \"mode\": \"040000\",\n      \"type\": \"tree\",\n      \"sha\": \"5b6dde8b8b616ba078305584e23e55ad0c5b2299\",\n      \"url\": \"https://api.github.com/repos/zestedesavoir/zds-site/git/trees/5b6dde8b8b616ba078305584e23e55ad0c5b2299\"\n    },\n    {\n      \"path\": \"update.md\",\n      \"mode\": \"100644\",\n      \"type\": \"blob\",\n      \"sha\": \"734cb67218ac7ad952ffe2f816e4820427efe809\",\n      \"size\": 45743,\n      \"url\": \"https://api.github.com/repos/zestedesavoir/zds-site/git/blobs/734cb67218ac7ad952ffe2f816e4820427efe809\"\n    },\n    {\n      \"path\": \"yarn.lock\",\n      \"mode\": \"100644\",\n      \"type\": \"blob\",\n      \"sha\": \"9fed208fbed286860cb606c9904eb3bab2b3d960\",\n      \"size\": 193867,\n      \"url\": \"https://api.github.com/repos/zestedesavoir/zds-site/git/blobs/9fed208fbed286860cb606c9904eb3bab2b3d960\"\n    },\n    {\n      \"path\": \"zds\",\n      \"mode\": \"040000\",\n      \"type\": \"tree\",\n      \"sha\": \"45b76aa70ad46e116c491a55def4b396b4ecba89\",\n      \"url\": \"https://api.github.com/repos/zestedesavoir/zds-site/git/trees/45b76aa70ad46e116c491a55def4b396b4ecba89\"\n    },\n    {\n      \"path\": \"zmd\",\n      \"mode\": \"040000\",\n      \"type\": \"tree\",\n      \"sha\": \"89289051d5d1e37ecc12629737d4fc01dd0df06e\",\n      \"url\": \"https://api.github.com/repos/zestedesavoir/zds-site/git/trees/89289051d5d1e37ecc12629737d4fc01dd0df06e\"\n    }\n  ],\n  \"truncated\": false\n}\n</code></pre>\n\n<hr>\n\n<p>I made a Perl script version to check my code and understand this issue.</p>\n\n<h1>Perl :</h1>\n\n<p>(Live demo : <a href=\"https://repl.it/repls/VainPrizeDebugmonitor\" rel=\"noreferrer\">https://repl.it/repls/VainPrizeDebugmonitor</a>)</p>\n\n<p>Files :</p>\n\n<pre><code>output_a1\n\n100644 arborescence-back.rst 05392dacd107b9e2bb931c85632e115ae69c22cb\n100644 featured.rst 20084355452644d3a171b54e9331485e73a897ea\n100644 forum.rst 82efe44d491fbc69fb99b0fc0829ad349a11aae7\n100644 gallery.rst e075f6d1fe182e595b950cc50d1c5701c6c48bb1\n100644 member.rst 157a97545f397f02293a95034989f293cda00ee8\n100644 pages.rst 30d85eb8babc8608a87272eb02a73685a71623c3\n100644 private-message.rst 6e4872283841ddb0edf03f7535003b4cb5e2f3ce\n100644 searchv2.rst a31835f3f39b77408b75548c215d06dcd776d3c2\n100644 tutorialv2.rst e646fef1203c7c9b8137c6420d990fd40c1255ae\n100644 utils.rst 846765fc32bafc05bb58e6b70883acf5de8ae97b\n\noutput_a2\n\n100644 .coveragerc 449170d0faeb75182310345564fd1811c0b9fd73\n100644 .editorconfig 75884936ea2d35b531af886acad747d4fd9b2a9e\n100644 .flake8 69e872e30d30f5c7de3276d289d6aee81ccf4af7\n40000 .github 56b49acad224fdb70fca11809f3e5a4d396cb01c\n100644 .gitignore 4832b44b973574253cf1b59ba7a66cfc227cd699\n100644 .jshintrc 939efa02939437adece1e3a076d597b2557e36b5\n100644 .travis.yml 6b5e4f43790874e2cf9db23e964f72b99deeb0d1\n100644 AUTHORS 0b92b7759ce2dd0a7cacf79b273368bb71ac5397\n100644 CODE_OF_CONDUCT.md ae61c31efae6cea565e447467e4377da76125679\n100644 CONTRIBUTING.md ac71ad378faf7fb7ae927b20d4d28a57c6085bf9\n100644 COPYING 94a9ed024d3859793618152ea559a168bbcbb5e2\n100644 Gulpfile.js 5dd951ae61f0913605197fafa018f7db49549a68\n100644 LICENSE 8a171a155d85927b678068becd046194aea777a9\n100644 Makefile cc722c2bc71dfbaa1b025c8c56245ed0fcd61739\n100644 README.md a6a9013159a3766da62443c4be5e267435469fd9\n40000 assets 1846a32450eb2a7605acb55cab8206028cfb656f\n40000 doc f55b804a2b694db577b20c8e9851ad783fea8ee5\n40000 errors b37a18162be2bdae7382fc194f1bf2d0ab89bba3\n40000 export-assets 3a8b85efa969c389ac3c5e7e6ad62206dbddcaca\n40000 fixtures 89cacb4de6feb81a962b9a992b9434cb44d3b0aa\n40000 geodata 635d29035ae7528231edb9b74eb09887c22dda2a\n100755 manage.py 458f6e2df8b431b9fa819c89e82cebf2e0a91260\n100644 package.json 02d231aa0c0fa299581be07bcece0393dc9a9e47\n100644 quotes.txt e8e84a048d70bc57c1f725fc12f2101a40c5dcbb\n100644 requirements-dev.txt 7297a894036fcf70a7209062bb51f45db1b71d39\n100644 requirements-prod.txt 2f957115bcf3794fdecf3c4848f21ae8f428c31b\n100644 requirements.txt 805fefa566ef0d8f6a7c7e58d01fa4684078cf50\n100644 robots.txt 8ca70253a4bb677cb797a7b409df4c4a9c0baa67\n40000 scripts f6a251faaaa14ba4fcf702cd0556675e70cc80f3\n100644 suggestions.txt 5e5d11a62a00d3f1aea8f3825c8ec89860d31ad0\n40000 templates 5b6dde8b8b616ba078305584e23e55ad0c5b2299\n100644 update.md 734cb67218ac7ad952ffe2f816e4820427efe809\n100644 yarn.lock 9fed208fbed286860cb606c9904eb3bab2b3d960\n40000 zds 45b76aa70ad46e116c491a55def4b396b4ecba89\n40000 zmd 89289051d5d1e37ecc12629737d4fc01dd0df06e\n\noutput_a3\n\n100644 Makefile fd4542fcb89018c3f97901b26992577590db1fe1\n100644 make.bat f17fd5b680fc6dafdba3d1adda49389de4ae0b25\n40000 source 7425440b50da313c10be22342f8a0f575ca64196\n\noutput_a4\n\n40000 includes 52fe1c1c43130c011e78fc7d488ee5cd2d39fc61\n100644 opensearch.xml be2e32c0f7c32a22da4c428438ae6f79965ea4ca\n100644 search.html 5618f244fee4945eb799022f7e109ec8cbb2c696\n</code></pre>\n\n<p>Perl script :</p>\n\n<pre><code>XX=\"$(perl -sane '$F[2] =~ s/(..)/\\\\x$1/g ; print $F[0].\" \".$F[1].\"\\\\\".\"x00\".$F[2]' output_a1)\"\nSIZE=$(echo -en \"$XX\" | wc -c)\n\necho \"A1:\"\necho \"original: 8d66139b3acf78fa50e16383693a161c33b5e048\"\necho \"output :\" $(echo -en \"tree $SIZE\\x00$XX\" | sha1sum)\n\n# ...\n</code></pre>\n\n<p>Output : </p>\n\n<pre><code>A1:\noriginal: 8d66139b3acf78fa50e16383693a161c33b5e048\noutput  : 8d66139b3acf78fa50e16383693a161c33b5e048\nA2:\noriginal: 4ef57de8e81c8415d6da2b267872e602b1f28cfe\noutput  : c5c701b8114582e3bb2e353aac157a7febfcd33b\nA3:\noriginal: 13b54c0bab5e7f7a05398d6d92e65eee2b227136\noutput  : 13b54c0bab5e7f7a05398d6d92e65eee2b227136\nA4:\noriginal: 218a8f506fcd3076fad059ec42d4656c635a8171\noutput  : 218a8f506fcd3076fad059ec42d4656c635a8171\n</code></pre>\n\n<p>Then we see that my JS and Perl Script return the same thing. That mean, that my pattern was malformed, I don't know why.</p>\n"}, {"tags": ["mysql", "perl", "auto-increment", "dbi", "dbd-mysql"], "answers": [{"comments": [{"owner": {"reputation": 3649, "user_id": 10404329, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/489c51b790b37922d4e80d59b9873cec?s=128&d=identicon&r=PG", "display_name": "Corion", "link": "https://stackoverflow.com/users/10404329/corion"}, "edited": false, "score": 1, "creation_date": 1546692520, "post_id": 54052145, "comment_id": 94938624, "body": "Also, please add a link to the DBI catalog functions ( <a href=\"https://metacpan.org/pod/DBI#Catalog-Methods\" rel=\"nofollow noreferrer\">metacpan.org/pod/DBI#Catalog-Methods</a> ) - these allow to do the same in a database-independent way )"}, {"owner": {"reputation": 188041, "user_id": 10676716, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/arsQA.jpg?s=128&g=1", "display_name": "GMB", "link": "https://stackoverflow.com/users/10676716/gmb"}, "reply_to_user": {"reputation": 3649, "user_id": 10404329, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/489c51b790b37922d4e80d59b9873cec?s=128&d=identicon&r=PG", "display_name": "Corion", "link": "https://stackoverflow.com/users/10404329/corion"}, "edited": false, "score": 1, "creation_date": 1546694216, "post_id": 54052145, "comment_id": 94938990, "body": "@Corion : right... I updated my answer to mention that, although I am unsure if DBI (and/or DBD::mysql) give access to all relevant columns in INFORMATION_SCHEMA.COLUMNS"}, {"owner": {"reputation": 21019, "user_id": 198183, "user_type": "registered", "accept_rate": 95, "profile_image": "https://www.gravatar.com/avatar/52f281a988bae754991af26224c796af?s=128&d=identicon&r=PG", "display_name": "sid_com", "link": "https://stackoverflow.com/users/198183/sid-com"}, "reply_to_user": {"reputation": 3649, "user_id": 10404329, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/489c51b790b37922d4e80d59b9873cec?s=128&d=identicon&r=PG", "display_name": "Corion", "link": "https://stackoverflow.com/users/10404329/corion"}, "edited": false, "score": 0, "creation_date": 1546839257, "post_id": 54052145, "comment_id": 94970916, "body": "@Corion: Do you know how this (find out if a column is an autoincrement column) is possible with the DBI catalog functions?"}, {"owner": {"reputation": 3649, "user_id": 10404329, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/489c51b790b37922d4e80d59b9873cec?s=128&d=identicon&r=PG", "display_name": "Corion", "link": "https://stackoverflow.com/users/10404329/corion"}, "reply_to_user": {"reputation": 21019, "user_id": 198183, "user_type": "registered", "accept_rate": 95, "profile_image": "https://www.gravatar.com/avatar/52f281a988bae754991af26224c796af?s=128&d=identicon&r=PG", "display_name": "sid_com", "link": "https://stackoverflow.com/users/198183/sid-com"}, "edited": false, "score": 0, "creation_date": 1546851670, "post_id": 54052145, "comment_id": 94975083, "body": "@sid_com as far as I know there is no convenient way to get at the <code>auto_increment</code> status of a column. Checking the <code>extra</code> field to be <code>like &#39;%auto_increment%&#39;</code> is the only way to my knowledge."}], "tags": [], "owner": {"reputation": 188041, "user_id": 10676716, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/arsQA.jpg?s=128&g=1", "display_name": "GMB", "link": "https://stackoverflow.com/users/10676716/gmb"}, "is_accepted": true, "score": 2, "last_activity_date": 1546706769, "last_edit_date": 1546706769, "creation_date": 1546692408, "answer_id": 54052145, "question_id": 54051900, "link": "https://stackoverflow.com/questions/54051900/mysql-dbi-how-to-tell-if-the-first-column-is-an-auto-increment-column/54052145#54052145", "title": "MySQL - DBI: How to tell if the first column is an auto increment column?", "body": "<p>You can query <a href=\"https://dev.mysql.com/doc/mysql-infoschema-excerpt/5.5/en/columns-table.html\" rel=\"nofollow noreferrer\">table <code>COLUMNS</code> in the mysql information schema</a>, using column <code>EXTRA</code>.</p>\n\n<p>You would assume that an autoincremented column is of integer datatype, is not nullable and has no default value.</p>\n\n<pre><code>my $sql = q{SELECT 1\nFROM INFORMATION_SCHEMA.COLUMNS\nWHERE \n    TABLE_SCHEMA = ?\n    AND TABLE_NAME = ?\n    AND ORDINAL_POSITION = 1\n    AND DATA_TYPE = 'int'\n    AND COLUMN_DEFAULT IS NULL\n    AND IS_NULLABLE = 'NO'\n    AND EXTRA like '%auto_increment%'};\n\nmy ($first_col_is_autoincrement) =         \n   $dbh-&gt;selectrow_array( $sql, undef, $db_name, $table_name );\n</code></pre>\n\n<p>It is also probably possible to use <a href=\"https://metacpan.org/pod/DBI#Catalog-Methods\" rel=\"nofollow noreferrer\">the DBI catalog functions</a> to achieve the same operation in a database-independent way.</p>\n"}], "owner": {"reputation": 21019, "user_id": 198183, "user_type": "registered", "accept_rate": 95, "profile_image": "https://www.gravatar.com/avatar/52f281a988bae754991af26224c796af?s=128&d=identicon&r=PG", "display_name": "sid_com", "link": "https://stackoverflow.com/users/198183/sid-com"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 59, "favorite_count": 0, "accepted_answer_id": 54052145, "answer_count": 1, "score": 1, "last_activity_date": 1546706769, "creation_date": 1546690478, "last_edit_date": 1546692483, "question_id": 54051900, "link": "https://stackoverflow.com/questions/54051900/mysql-dbi-how-to-tell-if-the-first-column-is-an-auto-increment-column", "title": "MySQL - DBI: How to tell if the first column is an auto increment column?", "body": "<p>Is it possible with this information to reliably tell if the first column of the table is an auto increment column?</p>\n\n<p>The available information is as follows :</p>\n\n<pre><code>database handle ($dbh)\ndatabase name\ntable name\n</code></pre>\n"}, {"tags": ["regex", "perl"], "comments": [{"owner": {"reputation": 161, "user_id": 8738086, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/BmwIx.jpg?s=128&g=1", "display_name": "Claude", "link": "https://stackoverflow.com/users/8738086/claude"}, "reply_to_user": {"reputation": 3649, "user_id": 10404329, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/489c51b790b37922d4e80d59b9873cec?s=128&d=identicon&r=PG", "display_name": "Corion", "link": "https://stackoverflow.com/users/10404329/corion"}, "edited": false, "score": 0, "creation_date": 1546680129, "post_id": 54050588, "comment_id": 94935735, "body": "I don&#39;t want want $1! I need a way to get the full expression who match the string."}, {"owner": {"reputation": 25937, "user_id": 338904, "user_type": "registered", "accept_rate": 93, "profile_image": "https://www.gravatar.com/avatar/dea29233fa03ea84f8a853102deb0344?s=128&d=identicon&r=PG", "display_name": "e2-e4", "link": "https://stackoverflow.com/users/338904/e2-e4"}, "edited": false, "score": 1, "creation_date": 1546680402, "post_id": 54050588, "comment_id": 94935796, "body": "Maybe <code>if ( &#47;(expr1)&#47; ) { you know it&#39;s expr1 } ... elsif( &#47;(dear ...)&#47; ) { it&#39;s this re }</code>, meaning replace the <code>|</code>s with a bunch of <code>if</code>s"}, {"owner": {"reputation": 161, "user_id": 8738086, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/BmwIx.jpg?s=128&g=1", "display_name": "Claude", "link": "https://stackoverflow.com/users/8738086/claude"}, "edited": false, "score": 0, "creation_date": 1546680713, "post_id": 54050588, "comment_id": 94935864, "body": "This conditional approach for each regex is not possible. I have hundreds of regexp to match against them."}, {"owner": {"reputation": 161, "user_id": 8738086, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/BmwIx.jpg?s=128&g=1", "display_name": "Claude", "link": "https://stackoverflow.com/users/8738086/claude"}, "edited": false, "score": 0, "creation_date": 1546687499, "post_id": 54050588, "comment_id": 94937445, "body": "Found it... Named backreference. Corion, can you provide some examples as perldoc is very poor."}, {"owner": {"reputation": 3649, "user_id": 10404329, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/489c51b790b37922d4e80d59b9873cec?s=128&d=identicon&r=PG", "display_name": "Corion", "link": "https://stackoverflow.com/users/10404329/corion"}, "edited": false, "score": 0, "creation_date": 1546863083, "post_id": 54050588, "comment_id": 94981104, "body": "If my answer worked for you, can you please accept it? <a href=\"https://stackoverflow.com/help/someone-answers\">stackoverflow.com/help/someone-answers</a>"}], "answers": [{"comments": [{"owner": {"reputation": 3649, "user_id": 10404329, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/489c51b790b37922d4e80d59b9873cec?s=128&d=identicon&r=PG", "display_name": "Corion", "link": "https://stackoverflow.com/users/10404329/corion"}, "edited": false, "score": 1, "creation_date": 1546692721, "post_id": 54051683, "comment_id": 94938658, "body": "Why not build the regexstring from the regexarray and add named captures in the same run? <code>my $i=0;my $regexstring = join &quot;|&quot;, map { qr&#47;(?&lt;$i++&gt;$_)&#47; } @regexarray; if( $string =~ &#47;$regexstring&#47; ) { print @regexstring[ keys %+ ]}</code>"}], "tags": [], "owner": {"reputation": 161, "user_id": 8738086, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/BmwIx.jpg?s=128&g=1", "display_name": "Claude", "link": "https://stackoverflow.com/users/8738086/claude"}, "is_accepted": false, "score": 2, "last_activity_date": 1546688811, "creation_date": 1546688811, "answer_id": 54051683, "question_id": 54050588, "link": "https://stackoverflow.com/questions/54050588/perl-display-regexp-not-match/54051683#54051683", "title": "Perl: display regexp, not match", "body": "<p>I have this working solution. But on too many expressions, I think the loop may slow down the script. Other, better ideas are welcome, but please stop telling me about $1 or $&amp;.</p>\n\n<pre><code>#!/usr/bin/perl\nuse strict;\nuse warnings;\n\n\nmy $string = \"Dear Brother, fgfgfg Test Test2 Soon trthggh\";\nmy $regexstring = \"expr1|expr2|dear.{0,6}(brother|friend)|Soon|out.php\\?s=(7644|4206|6571|4205)\";\nmy @regexarray = (\"expr1\", \"expr2\", \"dear.{0,6}(brother|friend)\", \"Soon\", \"out.php\\?s=(7644|4206|6571|4205)\");\n\nif ($string =~ /($regexstring)/i){\n    my $match = $1; \n    for my $expr (@regexarray){\n        print \"$expr\\n\" if ($match =~ /($expr)/i);\n    }\n}\n</code></pre>\n"}, {"tags": [], "owner": {"reputation": 3649, "user_id": 10404329, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/489c51b790b37922d4e80d59b9873cec?s=128&d=identicon&r=PG", "display_name": "Corion", "link": "https://stackoverflow.com/users/10404329/corion"}, "is_accepted": true, "score": 5, "last_activity_date": 1546693125, "creation_date": 1546693125, "answer_id": 54052234, "question_id": 54050588, "link": "https://stackoverflow.com/questions/54050588/perl-display-regexp-not-match/54052234#54052234", "title": "Perl: display regexp, not match", "body": "<p>If you are creating the regex using a program anyway, it's easy to inject the appropriate <code>(?&lt;...&gt;)</code> sequences and then just look which one(s) matched afterwards. Adapting the program you posted as first attempt:</p>\n\n<pre><code>#!/usr/bin/perl\nuse strict;\nuse warnings;\n\nmy $string = \"Dear Brother, fgfgfg Test Test2 Soon trthggh\";\nmy @regexarray = (qr/expr1/, qr/expr2/, qr/dear.{0,6}(brother|friend)/i, qr/Soon/, qr/out.php\\?s=(7644|4206|6571|4205)/);\nmy $i= 0;\n\nmy $regexstring = join \"|\", map {\n    my $groupname= sprintf 'group_%d', $i++;\n    qr/(?&lt;$groupname&gt;$_)/i\n} @regexarray;\n\nif ($string =~ /($regexstring)/i){\n    my $match = $1; \n    print \"Found &lt;$1&gt;\\n\";\n    print \"Matched via \";\n    (my $found) = keys %+;\n    print \"$found =&gt; $+{$found}\\n\" for keys %+;\n    $found =~ /(\\d+)$/\n        or die \"Invalid group name '$found'\";\n    my $index = $1;\n    print \"Matched via /$regexarray[ $index ]/\\n\";\n}\n</code></pre>\n\n<p>I've switched the strings to regular expressions above to make quoting and case-insensitivity easier.</p>\n\n<h3>Output</h3>\n\n<pre><code>Found &lt;Dear Brother&gt;\nMatched via group_2 =&gt; Dear Brother\nMatched via /(?^i:dear.{0,6}(brother|friend))/\n</code></pre>\n"}, {"tags": [], "owner": {"reputation": 1311, "user_id": 1484850, "user_type": "registered", "accept_rate": 79, "profile_image": "https://www.gravatar.com/avatar/1a4904522e99978b7ffb648cf7ec4f86?s=128&d=identicon&r=PG", "display_name": "jiandingzhe", "link": "https://stackoverflow.com/users/1484850/jiandingzhe"}, "is_accepted": false, "score": -1, "last_activity_date": 1546693140, "creation_date": 1546693140, "answer_id": 54052236, "question_id": 54050588, "link": "https://stackoverflow.com/questions/54050588/perl-display-regexp-not-match/54052236#54052236", "title": "Perl: display regexp, not match", "body": "<p>Maybe you could use this approach:</p>\n\n<pre><code>my $part2 = \"(brother|friend)\";\nmy $part1 = \"(expr1|expr2|dear.{0,6}$part2|Soon)\";\n\nmy $string = \"Dear Brother,fgfgfg Test Test2 Soon trthggh\";\nif ($string =~ /$part1/i){print \"$part1\";}\n</code></pre>\n\n<p>I don't know any more automated way. Maybe you have to hack into a regex engine, not using Perl directly.</p>\n"}], "owner": {"reputation": 161, "user_id": 8738086, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/BmwIx.jpg?s=128&g=1", "display_name": "Claude", "link": "https://stackoverflow.com/users/8738086/claude"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 97, "favorite_count": 0, "accepted_answer_id": 54052234, "answer_count": 3, "score": 2, "last_activity_date": 1546693140, "creation_date": 1546679542, "last_edit_date": 1546680031, "question_id": 54050588, "link": "https://stackoverflow.com/questions/54050588/perl-display-regexp-not-match", "title": "Perl: display regexp, not match", "body": "<p>I have this sample code</p>\n\n<pre><code>#!/usr/bin/perl\nuse strict;\nuse warnings;\nmy $string = \"Dear Brother,fgfgfg Test Test2 Soon trthggh\";\n\nif ($string =~ /(expr1|expr2|dear.{0,6}(brother|friend)|Soon)/i){print \"$1\";}\n</code></pre>\n\n<p>$1 will display the match which is \"Dear Brother\".\nIs there a way to get the full regepx who match this string?</p>\n\n<p>In this case</p>\n\n<pre><code>dear.{0,6}(brother|friend)\n</code></pre>\n\n<p>It is possible to do that?</p>\n"}, {"tags": ["perl", "sed", "colors", "console"], "answers": [{"tags": [], "owner": {"reputation": 353, "user_id": 2731575, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/c4e92000e719b9bdc5e2d8549e5ef0e1?s=128&d=identicon&r=PG&f=1", "display_name": "wef", "link": "https://stackoverflow.com/users/2731575/wef"}, "is_accepted": true, "score": 1, "last_activity_date": 1546672343, "creation_date": 1546672343, "answer_id": 54049828, "question_id": 54049633, "link": "https://stackoverflow.com/questions/54049633/using-console-escape-color-codes-in-sed/54049828#54049828", "title": "using console escape color codes in sed", "body": "<p>Use '\\o033' instead of '\\e':</p>\n\n<pre><code>$ echo -e 'aaa\\n#bbb\\nccc' | sed -r \"s/(#.*)$/\\o033[0;32m\\1\\o033[0m/\"\n</code></pre>\n"}], "owner": {"reputation": 439, "user_id": 2693551, "user_type": "registered", "accept_rate": 66, "profile_image": "https://www.gravatar.com/avatar/589060ef76425b441b2f35c966d8de22?s=128&d=identicon&r=PG&f=1", "display_name": "Martin Vegter", "link": "https://stackoverflow.com/users/2693551/martin-vegter"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 51, "favorite_count": 0, "accepted_answer_id": 54049828, "answer_count": 1, "score": 1, "last_activity_date": 1546672343, "creation_date": 1546670386, "question_id": 54049633, "link": "https://stackoverflow.com/questions/54049633/using-console-escape-color-codes-in-sed", "title": "using console escape color codes in sed", "body": "<p>I need to color lines that start with <code>#</code>.</p>\n\n<p>I have following code in perl, which works fine:</p>\n\n<pre><code>echo 'aaa\\n#bbb\\nccc' | perl -pe \"s/(#.*)$/\\e[0;32m\\1\\e[0m/\"\n</code></pre>\n\n<p>I am trying to do the same in sed, but it just prints the color codes, instead of the color:</p>\n\n<pre><code>echo 'aaa\\n#bbb\\nccc' | sed -r \"s/(#.*)$/\\e[0;32m\\1\\e[0m/\"\naaa\ne[0;32m#bbbe[0m\nccc\n</code></pre>\n\n<p>Why are the color codes not working in sed, and what do I have to do differently ?</p>\n"}, {"tags": ["python", "bash", "perl", "awk"], "answers": [{"comments": [{"owner": {"reputation": 81, "user_id": 10744519, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/4d94293f513bf53230e02870d1c3e02d?s=128&d=identicon&r=PG&f=1", "display_name": "james", "link": "https://stackoverflow.com/users/10744519/james"}, "edited": false, "score": 0, "creation_date": 1546678928, "post_id": 54048886, "comment_id": 94935480, "body": "thank you very much! I run your code &quot;perl -e &#39;while (&lt;&gt;) {chomp($name = $_);chomp($seq = &lt;&gt;);$len = length($seq);for ($i = 0; $i &lt;= $len - 5; $i++) {for ($j = $i + 5; $j &lt;= $len; $j++) {printf(&quot;%s(%d-%d)\\n&quot;, $name, $i+1, $j);print substr($seq, $i, $j-$i), &quot;\\n&quot;;}}}&#39; input.txt&quot;, it is fast and give me result: (1-5)2345.1 ACDEF (1-6)2345.1 ACDEFG (1-7)2345.1 ACDEFGH (1-8)2345.1 ACDEFGH (2-6)2345.1 CDEFG (2-7)2345.1 CDEFGH (2-8)2345.1 CDEFGH (3-7)2345.1 DEFGH (3-8)2345.1 DEFGH (4-8)2345.1 EFGH (1-5)43211.2 KLMNO (1-6)43211.2 KLMNOP (2-6)43211.2 LMNOP"}, {"owner": {"reputation": 81, "user_id": 10744519, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/4d94293f513bf53230e02870d1c3e02d?s=128&d=identicon&r=PG&f=1", "display_name": "james", "link": "https://stackoverflow.com/users/10744519/james"}, "edited": false, "score": 0, "creation_date": 1546678979, "post_id": 54048886, "comment_id": 94935497, "body": "Obviously, (3-7)2345.1 DEFGH (3-8)2345.1 DEFGH"}, {"owner": {"reputation": 81, "user_id": 10744519, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/4d94293f513bf53230e02870d1c3e02d?s=128&d=identicon&r=PG&f=1", "display_name": "james", "link": "https://stackoverflow.com/users/10744519/james"}, "edited": false, "score": 0, "creation_date": 1546679608, "post_id": 54048886, "comment_id": 94935628, "body": "are duplicated, and (4-8)2345.1 EFGH is not the result that I wanted. Another point is that the data structre of the result is different from what I wanted, which is, for example, &gt;NP_12345.1(1-5) ACDEF. Is there any bugs or other problems? Thanks a lot! @tshiono"}, {"owner": {"reputation": 11476, "user_id": 8572380, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/f4a5d854aa543e6bf01abe8351d38782?s=128&d=identicon&r=PG&f=1", "display_name": "tshiono", "link": "https://stackoverflow.com/users/8572380/tshiono"}, "reply_to_user": {"reputation": 81, "user_id": 10744519, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/4d94293f513bf53230e02870d1c3e02d?s=128&d=identicon&r=PG&f=1", "display_name": "james", "link": "https://stackoverflow.com/users/10744519/james"}, "edited": false, "score": 1, "creation_date": 1546688726, "post_id": 54048886, "comment_id": 94937723, "body": "It seems your <code>input.txt</code> is created with DOS newline format, that is, it contains <code>\\r</code> and <code>\\n</code> at the end of lines. I&#39;ve modified my answer to accept the format. Would you test it again? BR."}, {"owner": {"reputation": 81, "user_id": 10744519, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/4d94293f513bf53230e02870d1c3e02d?s=128&d=identicon&r=PG&f=1", "display_name": "james", "link": "https://stackoverflow.com/users/10744519/james"}, "edited": false, "score": 0, "creation_date": 1546690509, "post_id": 54048886, "comment_id": 94938115, "body": "yeah, you are right, it now works perfectly ! You are really genius !!! Thank you for your great help."}], "tags": [], "owner": {"reputation": 11476, "user_id": 8572380, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/f4a5d854aa543e6bf01abe8351d38782?s=128&d=identicon&r=PG&f=1", "display_name": "tshiono", "link": "https://stackoverflow.com/users/8572380/tshiono"}, "is_accepted": true, "score": 1, "last_activity_date": 1546688387, "last_edit_date": 1546688387, "creation_date": 1546661253, "answer_id": 54048886, "question_id": 54048759, "link": "https://stackoverflow.com/questions/54048759/how-to-slice-multiple-fasta-sequences-to-substrings-with-the-length-in-a-range-i/54048886#54048886", "title": "How to slice multiple fasta sequences to substrings with the length in a range in fasta format?", "body": "<p>With Perl, please try:</p>\n\n<pre><code>perl -e '\n$/ = \"\\xd\\xa\";  # required if input.txt is created with DOS newline format\nwhile (&lt;&gt;) {\n    chomp($name = $_);\n    chomp($seq = &lt;&gt;);\n    $len = length($seq);\n    for ($i = 0; $i &lt;= $len - 5; $i++) {\n        for ($j = $i + 5; $j &lt;= $len; $j++) {\n            printf(\"%s(%d-%d)\\n\", $name, $i+1, $j);\n            print substr($seq, $i, $j-$i), \"\\n\";\n        }\n    }\n}' input.txt\n</code></pre>\n\n<p>which yields:</p>\n\n<pre><code>&gt;NP_12345.1(1-5)\nACDEF\n&gt;NP_12345.1(1-6)\nACDEFG\n&gt;NP_12345.1(1-7)\nACDEFGH\n&gt;NP_12345.1(2-6)\nCDEFG\n&gt;NP_12345.1(2-7)\nCDEFGH\n&gt;NP_12345.1(3-7)\nDEFGH\n&gt;XP_543211.2(1-5)\nKLMNO\n&gt;XP_543211.2(1-6)\nKLMNOP\n&gt;XP_543211.2(2-6)\nLMNOP\n</code></pre>\n\n<p>Hope this helps.</p>\n"}], "owner": {"reputation": 81, "user_id": 10744519, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/4d94293f513bf53230e02870d1c3e02d?s=128&d=identicon&r=PG&f=1", "display_name": "james", "link": "https://stackoverflow.com/users/10744519/james"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 106, "favorite_count": 1, "accepted_answer_id": 54048886, "answer_count": 1, "score": 1, "last_activity_date": 1546688387, "creation_date": 1546659428, "question_id": 54048759, "link": "https://stackoverflow.com/questions/54048759/how-to-slice-multiple-fasta-sequences-to-substrings-with-the-length-in-a-range-i", "title": "How to slice multiple fasta sequences to substrings with the length in a range in fasta format?", "body": "<p>Given a file containing multiple protein sequences in fasta format with different lengthes, how to generate a fasta format protein fragments (substrings) with length i ( i is greater or equal to 5 but not more than the length of each protein,respectively) ?</p>\n\n<p>For example,the protein sequences file:</p>\n\n<pre><code>&gt;NP_12345.1\nACDEFGH\n&gt;XP_543211.2\nKLMNOP\n...\n</code></pre>\n\n<p>I want the output fasta format:</p>\n\n<pre><code>&gt;NP_12345.1(1-5)\nACDEF\n&gt;NP_12345.1(1-6)\nACDEFG\n&gt;NP_12345.1(1-7)\nACDEFGH\n&gt;NP_12345.1(2-6)\nCDEFG\n&gt;NP_12345.1(2-7)\nCDEFGH\n&gt;NP_12345.1(3-7)    \nDEFGH\n&gt;XP_543211.2(1-5)\nKLMNO\n&gt;XP_543211.2(1-6)\nKLMNOP\n&gt;XP_543211.2(2-6)\nLMNOP\n...\n</code></pre>\n\n<p>Could anyone help me ? Thanks in advance.</p>\n\n<p>Note:\nI can use </p>\n\n<pre><code>Seqkit sliding -s 1 -W 5 \n</code></pre>\n\n<p>to generate the fasta format of protein fragments or peptides with only 5 amino acids, but if peptides of 6 amino acids, I must modify the parameter -W 6. Any other one-stop solutions?</p>\n"}, {"tags": ["perl", "printf"], "comments": [{"owner": {"reputation": 6124, "user_id": 461887, "user_type": "registered", "accept_rate": 78, "profile_image": "https://www.gravatar.com/avatar/73a86b3136bfdda99045ba5de86dd9ec?s=128&d=identicon&r=PG", "display_name": "sayth", "link": "https://stackoverflow.com/users/461887/sayth"}, "reply_to_user": {"reputation": 53041, "user_id": 4653379, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/b3953dbedd0dabff5cbc3db9b0835b14?s=128&d=identicon&r=PG&f=1", "display_name": "zdim", "link": "https://stackoverflow.com/users/4653379/zdim"}, "edited": false, "score": 0, "creation_date": 1546661537, "post_id": 54048516, "comment_id": 94932972, "body": "I didn&#39;t realize that sprintf was formatting only no print."}], "answers": [{"tags": [], "owner": {"reputation": 25637, "user_id": 6243352, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/715f60f9edc65642a6805752cfeebb27?s=128&d=identicon&r=PG&f=1", "display_name": "ggorlen", "link": "https://stackoverflow.com/users/6243352/ggorlen"}, "is_accepted": true, "score": 3, "last_activity_date": 1546656724, "last_edit_date": 1546656724, "creation_date": 1546656401, "answer_id": 54048546, "question_id": 54048516, "link": "https://stackoverflow.com/questions/54048516/perl-string-s-specifier-void-context-for-date-in-sprintf/54048546#54048546", "title": "Perl string %s specifier void context for date in sprintf", "body": "<p><code>sprintf</code> is not an in-place function, nor does it do any printing; it only formats the string. You can <code>print</code> or do something else with its return value:</p>\n\n<pre><code>print sprintf( \"%-3d\\t%.2f\\t%s\\n\", $item_number, $unit_price, $tp );\n</code></pre>\n\n<p>or just <code>printf</code> directly:</p>\n\n<pre><code>printf \"%-3d\\t%.2f\\t%s\\n\", $item_number, $unit_price, $tp;\n</code></pre>\n\n<p>Sample run:</p>\n\n<pre class=\"lang-none prettyprint-override\"><code>Enter item number: 456\nEnter unit price: 5\nEnter purchase date (mm/dd/yyyy): 03/10/1986\n\nItem     Unit    Purchase\n         Price   Date\n456     5.00    Mon Mar 10 00:00:00 1986\n_______________________________________\n</code></pre>\n"}, {"tags": [], "owner": {"reputation": 31386, "user_id": 9661424, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/rnnvz.png?s=128&g=1", "display_name": "sticky bit", "link": "https://stackoverflow.com/users/9661424/sticky-bit"}, "is_accepted": false, "score": 3, "last_activity_date": 1546656415, "creation_date": 1546656415, "answer_id": 54048547, "question_id": 54048516, "link": "https://stackoverflow.com/questions/54048516/perl-string-s-specifier-void-context-for-date-in-sprintf/54048547#54048547", "title": "Perl string %s specifier void context for date in sprintf", "body": "<p>You're using <code>sprintf()</code>, note the <code>s</code>.</p>\n\n<p>That function doesn't output anything but returns the formatted string. But you do nothing with that returned string, like assigning it to a variable or pass it to another function. And that's the void context Perl warns you about.</p>\n\n<p>Maybe you wanted <code>printf()</code> (without <code>s</code>) or assign the result to a variable for further processing.</p>\n"}], "owner": {"reputation": 6124, "user_id": 461887, "user_type": "registered", "accept_rate": 78, "profile_image": "https://www.gravatar.com/avatar/73a86b3136bfdda99045ba5de86dd9ec?s=128&d=identicon&r=PG", "display_name": "sayth", "link": "https://stackoverflow.com/users/461887/sayth"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 92, "favorite_count": 0, "accepted_answer_id": 54048546, "answer_count": 2, "score": 1, "last_activity_date": 1546656724, "creation_date": 1546655996, "question_id": 54048516, "link": "https://stackoverflow.com/questions/54048516/perl-string-s-specifier-void-context-for-date-in-sprintf", "title": "Perl string %s specifier void context for date in sprintf", "body": "<p>I am accepting user input and printing formatted output. </p>\n\n<p>In my format string %s returns that it is in a void context when I supply it a date. Since its just printing I am assuming string is adequate for display of a date.</p>\n\n<p>This is my code </p>\n\n<pre><code>use strict;\nuse warnings;\n\nuse Time::Piece;\n\nprint \"Enter item number: \";\nchomp( my $item_number = &lt;STDIN&gt; );\n\nprint \"Enter unit price: \";\nchomp( my $unit_price = &lt;STDIN&gt; );\n\nprint \"Enter purchase date (mm/dd/yyyy): \";\nchomp( my $purchase_date = &lt;STDIN&gt; );\n\nmy $tp = Time::Piece-&gt;strptime( $purchase_date, '%m/%d/%Y' );\n\nprint \"\\n\";\nprint \"Item\\t Unit\\t Purchase\\n\\t Price\\t Date\\n\";\n\nsprintf( \"%-3d\\t%.2f\\t%s\\n\", $item_number, $unit_price, $tp );\nprintf(\"_______________________________________\\n\");\n</code></pre>\n\n<p>Playing around it seems %s always has a void context in sprintf.\nIf I do just</p>\n\n<pre><code>sprintf( \"%s\", $tp );\n</code></pre>\n\n<p>I get exactly the same warning. \nHow would I print the date in the sprintf formatted case I have? Or is there a better way in perl than sprintf?</p>\n"}, {"tags": ["perl", "hash"], "comments": [{"owner": {"reputation": 121669, "user_id": 56778, "user_type": "registered", "accept_rate": 93, "profile_image": "https://www.gravatar.com/avatar/34b152ef95a49568ce45df38cd87e54b?s=128&d=identicon&r=PG", "display_name": "Jim Mischel", "link": "https://stackoverflow.com/users/56778/jim-mischel"}, "edited": false, "score": 4, "creation_date": 1546639483, "post_id": 54046689, "comment_id": 94928949, "body": "I suspect you wanted <code>$name</code> rather than <code>$$name</code>. See <a href=\"https://stackoverflow.com/questions/28936160/what-does-in-perl-actually-return\" title=\"what does in perl actually return\">stackoverflow.com/questions/28936160/&hellip;</a>"}, {"owner": {"reputation": 121669, "user_id": 56778, "user_type": "registered", "accept_rate": 93, "profile_image": "https://www.gravatar.com/avatar/34b152ef95a49568ce45df38cd87e54b?s=128&d=identicon&r=PG", "display_name": "Jim Mischel", "link": "https://stackoverflow.com/users/56778/jim-mischel"}, "edited": false, "score": 3, "creation_date": 1546639545, "post_id": 54046689, "comment_id": 94928972, "body": "Oh, and I <i>strongly</i> suggest that you always use strict."}, {"owner": {"reputation": 69, "user_id": 4515908, "user_type": "registered", "accept_rate": 75, "profile_image": "https://www.gravatar.com/avatar/e95e5b6e116e9b8f9c62fd34da7a5687?s=128&d=identicon&r=PG&f=1", "display_name": "xcvbnm", "link": "https://stackoverflow.com/users/4515908/xcvbnm"}, "reply_to_user": {"reputation": 121669, "user_id": 56778, "user_type": "registered", "accept_rate": 93, "profile_image": "https://www.gravatar.com/avatar/34b152ef95a49568ce45df38cd87e54b?s=128&d=identicon&r=PG", "display_name": "Jim Mischel", "link": "https://stackoverflow.com/users/56778/jim-mischel"}, "edited": false, "score": 0, "creation_date": 1546639749, "post_id": 54046689, "comment_id": 94929033, "body": "here $name only refers to a string called hash1 forexample, so what i want is to have a key called $hash1. now i actually dont know why i wanted that, i didn&#39;t need to it seems. but still it is not the problem here - but i will try now - . And for the strict part, i cant even do it without strict : ) i will convert to strict after i find solution"}, {"owner": {"reputation": 69, "user_id": 4515908, "user_type": "registered", "accept_rate": 75, "profile_image": "https://www.gravatar.com/avatar/e95e5b6e116e9b8f9c62fd34da7a5687?s=128&d=identicon&r=PG&f=1", "display_name": "xcvbnm", "link": "https://stackoverflow.com/users/4515908/xcvbnm"}, "reply_to_user": {"reputation": 121669, "user_id": 56778, "user_type": "registered", "accept_rate": 93, "profile_image": "https://www.gravatar.com/avatar/34b152ef95a49568ce45df38cd87e54b?s=128&d=identicon&r=PG", "display_name": "Jim Mischel", "link": "https://stackoverflow.com/users/56778/jim-mischel"}, "edited": false, "score": 0, "creation_date": 1546640003, "post_id": 54046689, "comment_id": 94929126, "body": "@ Jim Mischel you are definitely right, that is the problem : ) thank you very much, if you write your comment as answer, i will gladly accept it. sometimes we need other eyes to see simple things, thank you"}, {"owner": {"reputation": 53041, "user_id": 4653379, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/b3953dbedd0dabff5cbc3db9b0835b14?s=128&d=identicon&r=PG&f=1", "display_name": "zdim", "link": "https://stackoverflow.com/users/4653379/zdim"}, "edited": false, "score": 2, "creation_date": 1546640025, "post_id": 54046689, "comment_id": 94929133, "body": "You are trying to use <i>symbolic references</i>, what is a really bad idea; a lot has been written about why and just how bad it is.  Why? In all likelihood there is absolutely no need for it. Since you don&#39;t state the purpose of this we can&#39;t suggest an alternative, but either a (normal!) hash or array, or some combination of them, should work. If straight up data structures can&#39;t capture complexity of what you want the next step is a class.   Here it seems that you simply want <code>$name</code> instead of <code>$$name</code>."}, {"owner": {"reputation": 8273, "user_id": 1334695, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/431ae6e9f7610b9d6a6a6cdebd0244d5?s=128&d=identicon&r=PG", "display_name": "stevieb", "link": "https://stackoverflow.com/users/1334695/stevieb"}, "reply_to_user": {"reputation": 53041, "user_id": 4653379, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/b3953dbedd0dabff5cbc3db9b0835b14?s=128&d=identicon&r=PG&f=1", "display_name": "zdim", "link": "https://stackoverflow.com/users/4653379/zdim"}, "edited": false, "score": 2, "creation_date": 1546644091, "post_id": 54046689, "comment_id": 94930294, "body": "@zdim Obligatory funny, entertaining and highly enlightening <a href=\"https://perl.plover.com/varvarname.html\" rel=\"nofollow noreferrer\">story by MJD</a>, although it doesn&#39;t exactly fit here."}, {"owner": {"reputation": 53041, "user_id": 4653379, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/b3953dbedd0dabff5cbc3db9b0835b14?s=128&d=identicon&r=PG&f=1", "display_name": "zdim", "link": "https://stackoverflow.com/users/4653379/zdim"}, "reply_to_user": {"reputation": 8273, "user_id": 1334695, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/431ae6e9f7610b9d6a6a6cdebd0244d5?s=128&d=identicon&r=PG", "display_name": "stevieb", "link": "https://stackoverflow.com/users/1334695/stevieb"}, "edited": false, "score": 1, "creation_date": 1546645491, "post_id": 54046689, "comment_id": 94930617, "body": "@stevieb Ah, yes, yes -- that one! I don&#39;t keep links around (and usually forget the title of it). It is totally &quot;obligatory&quot; reading :) Thanks for posting it!"}], "answers": [{"comments": [{"owner": {"reputation": 2936, "user_id": 39791, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/661c7cc5565e5bc21fb0fc22c0354fef?s=128&d=identicon&r=PG", "display_name": "Joe McMahon", "link": "https://stackoverflow.com/users/39791/joe-mcmahon"}, "reply_to_user": {"reputation": 53041, "user_id": 4653379, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/b3953dbedd0dabff5cbc3db9b0835b14?s=128&d=identicon&r=PG&f=1", "display_name": "zdim", "link": "https://stackoverflow.com/users/4653379/zdim"}, "edited": false, "score": 0, "creation_date": 1546768493, "post_id": 54048560, "comment_id": 94954242, "body": "Yep, I\u2019ll clean it up."}, {"owner": {"reputation": 53041, "user_id": 4653379, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/b3953dbedd0dabff5cbc3db9b0835b14?s=128&d=identicon&r=PG&f=1", "display_name": "zdim", "link": "https://stackoverflow.com/users/4653379/zdim"}, "edited": false, "score": 0, "creation_date": 1546840142, "post_id": 54048560, "comment_id": 94971158, "body": "Great. I&#39;d still stick that <code>use warnings</code> there, on general principle"}], "tags": [], "owner": {"reputation": 2936, "user_id": 39791, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/661c7cc5565e5bc21fb0fc22c0354fef?s=128&d=identicon&r=PG", "display_name": "Joe McMahon", "link": "https://stackoverflow.com/users/39791/joe-mcmahon"}, "is_accepted": true, "score": 1, "last_activity_date": 1546768621, "last_edit_date": 1546768621, "creation_date": 1546656597, "answer_id": 54048560, "question_id": 54046689, "link": "https://stackoverflow.com/questions/54046689/perl-using-strings-in-place-of-hash-keys/54048560#54048560", "title": "Perl - Using strings in place of hash keys", "body": "<p>I'd suggest you rewrite that loop slightly and build your key with string interpolation. You don't need <code>$name</code> for anything outside the loop.</p>\n\n<pre><code>use strict;\nmy $number = 1;\nfor my $item (@items)\n{\n  if ( i_care_about($item) )\n  { \n   $clause{\"hash$number\"} =  [ @somearray ];\n   $number++;\n  }\n}\n</code></pre>\n\n<p>Since you want a string for the key, just build a string.</p>\n"}, {"comments": [{"owner": {"reputation": 69, "user_id": 4515908, "user_type": "registered", "accept_rate": 75, "profile_image": "https://www.gravatar.com/avatar/e95e5b6e116e9b8f9c62fd34da7a5687?s=128&d=identicon&r=PG&f=1", "display_name": "xcvbnm", "link": "https://stackoverflow.com/users/4515908/xcvbnm"}, "edited": false, "score": 0, "creation_date": 1552189326, "post_id": 54054357, "comment_id": 96913954, "body": "sorry i just logged in saw your answer now. i actually wrote a series of codes after this question and always used strict, warnings and even diagnostics. i should thank all of you community. and about your last comment about arrays.. because i will call names and get their corresponding values. hash is perfect fit"}], "tags": [], "owner": {"reputation": 320771, "user_id": 589924, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/b2cf53d5a3d25f95c0db4e025aed4153?s=128&d=identicon&r=PG", "display_name": "ikegami", "link": "https://stackoverflow.com/users/589924/ikegami"}, "is_accepted": false, "score": 1, "last_activity_date": 1546709312, "last_edit_date": 1546709312, "creation_date": 1546708923, "answer_id": 54054357, "question_id": 54046689, "link": "https://stackoverflow.com/questions/54046689/perl-using-strings-in-place-of-hash-keys/54054357#54054357", "title": "Perl - Using strings in place of hash keys", "body": "<p>ALWAYS use <code>use strict;</code>. It would have found your problem. (<code>Global symbol \"$hash1\" requires explicit package name</code>)</p>\n\n<p>ALWAYS use <code>use warnings qw( all );</code>. It would have found your problem. (<code>Use of uninitialized value in hash element</code>)</p>\n\n<hr>\n\n<p>Your code uses the value of variable <code>$hash1</code> as the key. Since you never assigned anything to <code>$hash1</code>, that value is <code>undef</code>, which gets stringified to an empty string.  That means that</p>\n\n<pre><code> $name = join '', 'hash', $number; \n $number++;\n $clauses{$$name} =  [ @somearray ];\n</code></pre>\n\n<p>is equivalent to</p>\n\n<pre><code> $number++;\n $clauses{\"\"} =  [ @somearray ];\n</code></pre>\n\n<p>Simply replace <code>$$name</code> (the value of the variable named by <code>$name</code>) with <code>$name</code> (the value of <code>$name</code>).</p>\n\n<pre><code> $name = join '', 'hash', $number; \n $number++;\n $clauses{$name} =  [ @somearray ];\n</code></pre>\n\n<p>Cleaned up:</p>\n\n<pre><code> my $name = 'hash' . $number++;\n $clauses{$name} =  [ @somearray ];\n</code></pre>\n\n<p>But why aren't you using an array?</p>\n\n<pre><code> push @clauses, [ @somearray ];\n</code></pre>\n"}], "owner": {"reputation": 69, "user_id": 4515908, "user_type": "registered", "accept_rate": 75, "profile_image": "https://www.gravatar.com/avatar/e95e5b6e116e9b8f9c62fd34da7a5687?s=128&d=identicon&r=PG&f=1", "display_name": "xcvbnm", "link": "https://stackoverflow.com/users/4515908/xcvbnm"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 208, "favorite_count": 2, "accepted_answer_id": 54048560, "answer_count": 2, "score": 0, "last_activity_date": 1546768621, "creation_date": 1546639140, "question_id": 54046689, "link": "https://stackoverflow.com/questions/54046689/perl-using-strings-in-place-of-hash-keys", "title": "Perl - Using strings in place of hash keys", "body": "<p>in a dynamic loop i want to generate strings and then assign them as hash keys and then bind some values to each of them. what i did is (without using strict)</p>\n\n<pre><code>$number = 1; %clause = ();\n\nfor(condition)\n  {\n     if (condition)\n     { \n       $name = join '', 'hash', $number; \n       $clause{$$name} =  [ @somearray ];\n       $number++;\n    }\n }\n</code></pre>\n\n<p>What i was expecting is to have a clause hash with keys called hash1,hash2.. etc. now it actually works, however only once, only for the last value. For example i write this code, it only outputs the very last array assigned to very last hash key. It seems $name is overwritten</p>\n\n<pre><code>foreach $key (keys %clause)\n\n{ print \"@{$clause{$key}}\"; }\n</code></pre>\n\n<p>Can you show me how i can do this, thanks</p>\n"}, {"tags": ["regex", "perl", "sed"], "comments": [{"owner": {"reputation": 3649, "user_id": 10404329, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/489c51b790b37922d4e80d59b9873cec?s=128&d=identicon&r=PG", "display_name": "Corion", "link": "https://stackoverflow.com/users/10404329/corion"}, "edited": false, "score": 1, "creation_date": 1546629207, "post_id": 54044583, "comment_id": 94925150, "body": "Will your <code>struct</code>s contain (paired) <code>{</code> or <code>}</code> ? Otherwise, the following should basically work: <code>perl -0777 -pi -e &#39;s!\\bstruct\\b\\s+(\\w+)\\s*(\\{.*?\\})!typedef struct\\n$2 $1!s&#39; *.c</code> (see also <a href=\"https://regex101.com/r/OuTTgy/1\" rel=\"nofollow noreferrer\">regex101</a>"}, {"owner": {"reputation": 334, "user_id": 6942488, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/47f8e01491e42e87943e96b4ace9f61c?s=128&d=identicon&r=PG&f=1", "display_name": "Deep", "link": "https://stackoverflow.com/users/6942488/deep"}, "reply_to_user": {"reputation": 3649, "user_id": 10404329, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/489c51b790b37922d4e80d59b9873cec?s=128&d=identicon&r=PG", "display_name": "Corion", "link": "https://stackoverflow.com/users/10404329/corion"}, "edited": false, "score": 0, "creation_date": 1546629924, "post_id": 54044583, "comment_id": 94925412, "body": "@Corion: I did the same thing, but I have one question. How we can use the captured groups using Perl or Python. Like is there any way to extract above implemented solution using Python ?"}, {"owner": {"reputation": 3649, "user_id": 10404329, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/489c51b790b37922d4e80d59b9873cec?s=128&d=identicon&r=PG", "display_name": "Corion", "link": "https://stackoverflow.com/users/10404329/corion"}, "reply_to_user": {"reputation": 334, "user_id": 6942488, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/47f8e01491e42e87943e96b4ace9f61c?s=128&d=identicon&r=PG&f=1", "display_name": "Deep", "link": "https://stackoverflow.com/users/6942488/deep"}, "edited": false, "score": 1, "creation_date": 1546630078, "post_id": 54044583, "comment_id": 94925467, "body": "@Deep - I&#39;m using captured groups in Perl above. For Python, you access them as <code>m = re.search(...); print m.groups(1)</code> - see <a href=\"https://docs.python.org/2/library/re.html\" rel=\"nofollow noreferrer\">Python regex documentation</a> or post this as a (duplicate) question"}], "answers": [{"comments": [{"owner": {"reputation": 139, "user_id": 1042402, "user_type": "registered", "accept_rate": 20, "profile_image": "https://i.stack.imgur.com/hJixX.png?s=128&g=1", "display_name": "RobbyChaps", "link": "https://stackoverflow.com/users/1042402/robbychaps"}, "edited": false, "score": 0, "creation_date": 1546631890, "post_id": 54044996, "comment_id": 94926128, "body": "This is extremely helpful. And thank you for that link to the regex site! One odd thing I noticed, if I have more than 1 struct in the header, the perl command only modifies the first struct. I added a test file to my question for demonstration. In the example above, I used your command and passed test.h containing the 3 struct definitions mentioned above. perl -0777 -pi -e &#39;s!\\bstruct\\b\\s+(\\w+)\\s*(\\{.*?\\})!typedef struct\\n$2 $1!s&#39; test.h. I&#39;m guessing I just need a &quot;global&quot; argument of sorts so that all structs in that file are operated on?"}, {"owner": {"reputation": 139, "user_id": 1042402, "user_type": "registered", "accept_rate": 20, "profile_image": "https://i.stack.imgur.com/hJixX.png?s=128&g=1", "display_name": "RobbyChaps", "link": "https://stackoverflow.com/users/1042402/robbychaps"}, "edited": false, "score": 0, "creation_date": 1546632103, "post_id": 54044996, "comment_id": 94926204, "body": "Awesome. Works like a charm. Thanks!"}], "tags": [], "owner": {"reputation": 3649, "user_id": 10404329, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/489c51b790b37922d4e80d59b9873cec?s=128&d=identicon&r=PG", "display_name": "Corion", "link": "https://stackoverflow.com/users/10404329/corion"}, "is_accepted": true, "score": 6, "last_activity_date": 1546632027, "last_edit_date": 1546632027, "creation_date": 1546630575, "answer_id": 54044996, "question_id": 54044583, "link": "https://stackoverflow.com/questions/54044583/one-liner-to-typedef-c-structure/54044996#54044996", "title": "One liner to typedef c structure", "body": "<p>Assuming that the text within your structure definition contains neither <code>{</code> nor <code>}</code>, the following Perl oneliner will convert all <code>struct</code> declarations to <code>typedef</code> declarations:</p>\n\n<pre><code>perl -0777 -pi -e 's!\\bstruct\\b\\s+(\\w+)\\s*(\\{.*?\\})!typedef struct\\n$2 $1!sg' \n</code></pre>\n\n<p><code>-0777</code> - slurp the file as a whole into <code>$_</code></p>\n\n<p><code>-pi</code>   - in-place edit the file</p>\n\n<p><code>-e</code>    - using this Perl code</p>\n\n<pre><code>s!\\bstruct\\b\\s+(\\w+)\\s*(\\{.*?\\})!typedef struct\\n$2 $1!sg\n</code></pre>\n\n<p>Replace all <code>struct</code> followed by a C identifier and then <code>{</code> ... <code>}</code> by <code>typedef struct</code>, then the braces and stuff and then the identifier. See <a href=\"https://regex101.com/r/OuTTgy/1\" rel=\"nofollow noreferrer\">regex101</a> for details.</p>\n\n<h3>See also</h3>\n\n<p><a href=\"http://perldoc.perl.org/perlre.html\" rel=\"nofollow noreferrer\">perlre</a> - for the explanation of the regex parts</p>\n\n<p><a href=\"http://perldoc.perl.org/perlrun.html\" rel=\"nofollow noreferrer\">perlrun</a> - for the command line switches</p>\n"}], "owner": {"reputation": 139, "user_id": 1042402, "user_type": "registered", "accept_rate": 20, "profile_image": "https://i.stack.imgur.com/hJixX.png?s=128&g=1", "display_name": "RobbyChaps", "link": "https://stackoverflow.com/users/1042402/robbychaps"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 98, "favorite_count": 0, "accepted_answer_id": 54044996, "answer_count": 1, "score": 2, "last_activity_date": 1546632027, "creation_date": 1546628292, "last_edit_date": 1546631332, "question_id": 54044583, "link": "https://stackoverflow.com/questions/54044583/one-liner-to-typedef-c-structure", "title": "One liner to typedef c structure", "body": "<p>I have a use case where I am trying to typedef a group of structures in various header files</p>\n\n<p>For example, I want to convert this:</p>\n\n<pre><code>struct Foo_t\n{\n   uint8_t one\n   uint8_t two;\n   uint8_t three;\n};\n</code></pre>\n\n<p>To this:</p>\n\n<pre><code>typedef struct\n{\n   uint8_t one\n   uint8_t two;\n   uint8_t three;\n} Foo_t;\n</code></pre>\n\n<p>At a high level I want to use a utility such as sed, awk, or perl to:</p>\n\n<ol>\n<li>Find all lines that starts with \"struct\"</li>\n<li>Remember the struct tag that follows, in the example above, Foo_t</li>\n<li>Find the first curly brace \"{\"</li>\n<li>Skip n new lines until the first occurrence of the closing bracket\n\"}\"</li>\n<li>Insert the struct tag(Foo_t) or whatever that particular stuct is\ncalled</li>\n<li>Insert a semicolon to end the struct definition</li>\n</ol>\n\n<p>Unfortunately, the farthest I've got is the following:</p>\n\n<pre><code>find . -regextype egrep -path ./dont_touch -prune -o -name \"*.h\" -print0 | xargs -0 sed -i 's/struct* /typedef struct /g;'\n</code></pre>\n\n<p>This approach clearly doesn't work, but it's at least a starting point for me to build on.</p>\n\n<p>Any help would be greatly appreciated. </p>\n\n<p>Thanks!</p>\n\n<p><strong>Update:</strong></p>\n\n<p>An example of the test data would be:</p>\n\n<p><em>test.h</em></p>\n\n<pre><code>struct Foo_t\n{\n   uint8_t one;\n   uint8_t two;\n   uint8_t three;\n   uint8_t four;\n};\n\nstruct Bar_t\n{\n   float_t one;\n   float_t two;\n};\n\nstruct Baz_t {\n   float_t one;\n   float_t two;\n};\n</code></pre>\n"}, {"tags": ["mysql", "sql", "perl", "mariadb"], "comments": [{"owner": {"reputation": 3649, "user_id": 10404329, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/489c51b790b37922d4e80d59b9873cec?s=128&d=identicon&r=PG", "display_name": "Corion", "link": "https://stackoverflow.com/users/10404329/corion"}, "edited": false, "score": 0, "creation_date": 1546617559, "post_id": 54042288, "comment_id": 94919830, "body": "Why are you using <code>REPLACE</code> without a <code>WHERE</code> clause?"}, {"owner": {"reputation": 198290, "user_id": 1030675, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/957956ce51706d03f19a4dc85a767bb1?s=128&d=identicon&r=PG", "display_name": "choroba", "link": "https://stackoverflow.com/users/1030675/choroba"}, "edited": false, "score": 2, "creation_date": 1546618057, "post_id": 54042288, "comment_id": 94920116, "body": "Also, why don&#39;t you prepare before the loop and use placeholders in execute?"}, {"owner": {"reputation": 33, "user_id": 10612524, "user_type": "registered", "profile_image": "https://lh3.googleusercontent.com/-fxl6Ivr29yo/AAAAAAAAAAI/AAAAAAAAAAA/ABtNlbAbkx1bOAmgHQ48SDOLTH2hyhBSqg/mo/photo.jpg?sz=128", "display_name": "jack94", "link": "https://stackoverflow.com/users/10612524/jack94"}, "edited": false, "score": 0, "creation_date": 1546618075, "post_id": 54042288, "comment_id": 94920132, "body": "with replace i can add more request"}, {"owner": {"reputation": 31386, "user_id": 9661424, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/rnnvz.png?s=128&g=1", "display_name": "sticky bit", "link": "https://stackoverflow.com/users/9661424/sticky-bit"}, "edited": false, "score": 0, "creation_date": 1546618349, "post_id": 54042288, "comment_id": 94920313, "body": "What is the primary key of <code>test</code>?"}, {"owner": {"reputation": 193600, "user_id": 87189, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/98e7d6edce863e7a1bf8199b082eb25e?s=128&d=identicon&r=PG", "display_name": "tadman", "link": "https://stackoverflow.com/users/87189/tadman"}, "edited": false, "score": 2, "creation_date": 1546618704, "post_id": 54042288, "comment_id": 94920508, "body": "Use <b>placeholder values</b>. You can&#39;t just jam in a raw string into your query."}, {"owner": {"reputation": 31386, "user_id": 9661424, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/rnnvz.png?s=128&g=1", "display_name": "sticky bit", "link": "https://stackoverflow.com/users/9661424/sticky-bit"}, "edited": false, "score": 0, "creation_date": 1546618876, "post_id": 54042288, "comment_id": 94920600, "body": "Why did you define <code>time</code> unique, if you want to have the same time twice? Also, you should use @&lt;username&gt; like @jack94 in a comment, if you want that the user you reply to gets a notification about your reply and thus can reply too. And you should edit your question for adding code, like <code>CREATE</code> statements, it&#39;s not formatted in comments and hard to read."}, {"owner": {"reputation": 33, "user_id": 10612524, "user_type": "registered", "profile_image": "https://lh3.googleusercontent.com/-fxl6Ivr29yo/AAAAAAAAAAI/AAAAAAAAAAA/ABtNlbAbkx1bOAmgHQ48SDOLTH2hyhBSqg/mo/photo.jpg?sz=128", "display_name": "jack94", "link": "https://stackoverflow.com/users/10612524/jack94"}, "reply_to_user": {"reputation": 198290, "user_id": 1030675, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/957956ce51706d03f19a4dc85a767bb1?s=128&d=identicon&r=PG", "display_name": "choroba", "link": "https://stackoverflow.com/users/1030675/choroba"}, "edited": false, "score": 0, "creation_date": 1546618951, "post_id": 54042288, "comment_id": 94920642, "body": "@choroba  i create table like that : CREATE TABLE test ( ID INT UNSIGNED NOT NULL AUTO_INCREMENT , time datetime NOT NULL, nb int NOT NULL, os_name nvarchar(100)NOT NULL, program nvarchar(100)NOT NULL, last_line nvarchar(100)NOT NULL, PRIMARY KEY (ID), UNIQUE KEY (time) ) ENGINE=InnoDB;"}, {"owner": {"reputation": 33, "user_id": 10612524, "user_type": "registered", "profile_image": "https://lh3.googleusercontent.com/-fxl6Ivr29yo/AAAAAAAAAAI/AAAAAAAAAAA/ABtNlbAbkx1bOAmgHQ48SDOLTH2hyhBSqg/mo/photo.jpg?sz=128", "display_name": "jack94", "link": "https://stackoverflow.com/users/10612524/jack94"}, "reply_to_user": {"reputation": 193600, "user_id": 87189, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/98e7d6edce863e7a1bf8199b082eb25e?s=128&d=identicon&r=PG", "display_name": "tadman", "link": "https://stackoverflow.com/users/87189/tadman"}, "edited": false, "score": 0, "creation_date": 1546619079, "post_id": 54042288, "comment_id": 94920698, "body": "@tadman , i use placeholder"}, {"owner": {"reputation": 31386, "user_id": 9661424, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/rnnvz.png?s=128&g=1", "display_name": "sticky bit", "link": "https://stackoverflow.com/users/9661424/sticky-bit"}, "edited": false, "score": 0, "creation_date": 1546619367, "post_id": 54042288, "comment_id": 94920840, "body": "Also: What does the script print to the console when you run it?"}, {"owner": {"reputation": 62184, "user_id": 7231, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/81b76985f3985e35492e25880493d045?s=128&d=identicon&r=PG", "display_name": "Dave Cross", "link": "https://stackoverflow.com/users/7231/dave-cross"}, "edited": false, "score": 0, "creation_date": 1546619915, "post_id": 54042288, "comment_id": 94921120, "body": "@jack94: You don&#39;t use placeholders in the code you&#39;ve shown us."}, {"owner": {"reputation": 33, "user_id": 10612524, "user_type": "registered", "profile_image": "https://lh3.googleusercontent.com/-fxl6Ivr29yo/AAAAAAAAAAI/AAAAAAAAAAA/ABtNlbAbkx1bOAmgHQ48SDOLTH2hyhBSqg/mo/photo.jpg?sz=128", "display_name": "jack94", "link": "https://stackoverflow.com/users/10612524/jack94"}, "edited": false, "score": 0, "creation_date": 1546619955, "post_id": 54042288, "comment_id": 94921139, "body": "the script print 2 rows found. and in database only one request is added :  +----+---------------------+-----------+-------------+------&zwnj;&#8203;----------+---------&zwnj;&#8203;--+ | ID | time                | nb        | os_name     | program        | last_line | +----+---------------------+-----------+-------------+------&zwnj;&#8203;----------+---------&zwnj;&#8203;--+ | 15  | 2019-01-04 14:00:00|        33 | titi        | roro           | 109       |"}, {"owner": {"reputation": 193600, "user_id": 87189, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/98e7d6edce863e7a1bf8199b082eb25e?s=128&d=identicon&r=PG", "display_name": "tadman", "link": "https://stackoverflow.com/users/87189/tadman"}, "edited": false, "score": 3, "creation_date": 1546623069, "post_id": 54042288, "comment_id": 94922545, "body": "<code>VALUES($request)</code> says you&#39;re not using placeholders. I can see on an earlier line you have the data just slapped in <b>without escaping</b> which is a <a href=\"http://bobby-tables.com/\" rel=\"nofollow noreferrer\">huge problem</a>."}], "answers": [{"tags": [], "owner": {"reputation": 62184, "user_id": 7231, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/81b76985f3985e35492e25880493d045?s=128&d=identicon&r=PG", "display_name": "Dave Cross", "link": "https://stackoverflow.com/users/7231/dave-cross"}, "is_accepted": false, "score": 1, "last_activity_date": 1546633543, "last_edit_date": 1546633543, "creation_date": 1546619852, "answer_id": 54042878, "question_id": 54042288, "link": "https://stackoverflow.com/questions/54042288/perl-send-multiple-request-in-database/54042878#54042878", "title": "perl - send multiple request in database", "body": "<p>Your table definition (from a comment) includes this:</p>\n\n<pre><code>UNIQUE KEY (time)\n</code></pre>\n\n<p>So your table can only ever include a single row for any value of <code>time</code>.</p>\n\n<p>Also, you use <code>REPLACE</code> in your SQL. So when you run your statement for a second time, your database sees there is an existing row with the same unique key, so it updates the row rather than inserting a new one.</p>\n\n<p>Seems to me that your code is working exactly as expected. If you want to add more rows, you need to change the value in <code>$time</code>.</p>\n\n<p><strong>Update:</strong></p>\n\n<p>From your comment on another answer.</p>\n\n<blockquote>\n  <p>i tested with INSERT but don't work : DBD::mysql::st execute failed: Duplicate entry '2019-01-04 17:45:00' for key 'time'</p>\n</blockquote>\n\n<p>Yes! That's exactly what should happen. By declaring you <code>time</code> column as <code>UNIQUE</code> you are telling your database that each time value can only occur once in your table. So if you try to insert another row with the same time (which is what you are doing) you get that error.</p>\n\n<p>So you switch from <code>INSERT</code> to <code>REPLACE</code> and you get no error, but only one row inserted - because that is what <code>REPLACE</code> does.</p>\n\n<p>The example you give of what you want in the table has two identical values in the time column. That cannot happen while you have the <code>UNIQUE</code> definition on that column. That is exactly what the <code>UNIQUE</code> key is there to prevent.</p>\n\n<p>You need to step back and think about exactly what you want in the table. If you want duplicate time values in the table then you need to remove the <code>UNIQUE</code> key definition on the table (and then change <code>REPLACE</code> with <code>INSERT</code>).</p>\n"}, {"comments": [{"owner": {"reputation": 33, "user_id": 10612524, "user_type": "registered", "profile_image": "https://lh3.googleusercontent.com/-fxl6Ivr29yo/AAAAAAAAAAI/AAAAAAAAAAA/ABtNlbAbkx1bOAmgHQ48SDOLTH2hyhBSqg/mo/photo.jpg?sz=128", "display_name": "jack94", "link": "https://stackoverflow.com/users/10612524/jack94"}, "edited": false, "score": 0, "creation_date": 1546621114, "post_id": 54042962, "comment_id": 94921719, "body": "i tested with INSERT but don&#39;t work : DBD::mysql::st execute failed: Duplicate entry &#39;2019-01-04 17:45:00&#39; for key &#39;time&#39; at test2.pl line 83, &lt;$IN&gt; line 181. DBD::mysql::st execute failed: Duplicate entry &#39;2019-01-04 17:45:00&#39; for key &#39;time&#39; at test2.pl line 83, &lt;$IN&gt; line 181."}, {"owner": {"reputation": 3649, "user_id": 10404329, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/489c51b790b37922d4e80d59b9873cec?s=128&d=identicon&r=PG", "display_name": "Corion", "link": "https://stackoverflow.com/users/10404329/corion"}, "reply_to_user": {"reputation": 33, "user_id": 10612524, "user_type": "registered", "profile_image": "https://lh3.googleusercontent.com/-fxl6Ivr29yo/AAAAAAAAAAI/AAAAAAAAAAA/ABtNlbAbkx1bOAmgHQ48SDOLTH2hyhBSqg/mo/photo.jpg?sz=128", "display_name": "jack94", "link": "https://stackoverflow.com/users/10612524/jack94"}, "edited": false, "score": 1, "creation_date": 1546624743, "post_id": 54042962, "comment_id": 94923326, "body": "@jack94 Do you understand what the <code>unique key (time)</code> does? If you want more rows, you need them to have different timestamps. Alternatively, remove the <code>unique key(time)</code> constraint from the table."}], "tags": [], "owner": {"reputation": 31386, "user_id": 9661424, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/rnnvz.png?s=128&g=1", "display_name": "sticky bit", "link": "https://stackoverflow.com/users/9661424/sticky-bit"}, "is_accepted": false, "score": 0, "last_activity_date": 1546620288, "creation_date": 1546620288, "answer_id": 54042962, "question_id": 54042288, "link": "https://stackoverflow.com/questions/54042288/perl-send-multiple-request-in-database/54042962#54042962", "title": "perl - send multiple request in database", "body": "<p>From the <a href=\"https://dev.mysql.com/doc/refman/8.0/en/replace.html\" rel=\"nofollow noreferrer\">manual for <code>REPLACE</code></a>:</p>\n\n<blockquote>\n  <p><code>REPLACE</code> works exactly like <code>INSERT</code>, except that if an old row in the table has the same value as a new row for a <code>PRIMARY KEY</code> <strong>or a <code>UNIQUE</code> index, the old row is deleted before the new row is inserted</strong>.</p>\n</blockquote>\n\n<p>(Emphasis: Me)</p>\n\n<p>There you have it. You have the same time <code>2019-01-04 14:00:00</code> twice. When <code>REPLACE</code>ing the second one the first one gets deleted</p>\n\n<p>Try to remove the unique index on <code>time</code>.</p>\n"}], "owner": {"reputation": 33, "user_id": 10612524, "user_type": "registered", "profile_image": "https://lh3.googleusercontent.com/-fxl6Ivr29yo/AAAAAAAAAAI/AAAAAAAAAAA/ABtNlbAbkx1bOAmgHQ48SDOLTH2hyhBSqg/mo/photo.jpg?sz=128", "display_name": "jack94", "link": "https://stackoverflow.com/users/10612524/jack94"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 81, "favorite_count": 0, "answer_count": 2, "score": 1, "last_activity_date": 1546851388, "creation_date": 1546617475, "last_edit_date": 1546688576, "question_id": 54042288, "link": "https://stackoverflow.com/questions/54042288/perl-send-multiple-request-in-database", "title": "perl - send multiple request in database", "body": "<p>i have this script in  perl, this program parse a log file and send result in a database, my ploblem is my script insert only one request, i need insert multiple request :</p>\n\n<pre><code>#Connect to the database.\nmy $dbh = DBI-&gt;connect(\"DBI:mysql:database=database;host=IP\",\n\"hostname\", 'password',\n{'RaiseError' =&gt; 1});\n\n\n\nwhile (my ($user, $ref) = each %counts) {\n  while (my ($program, $count) = each %$ref) {\n    #print \"$count OSUSER with session $user and with program $program\\n\";\n    print \"time = $time, count = $count, user = $user, program = $program, last_line = $last_line\\n\";\n\n    $request =\"'$time', '$count', '$user', '$program', $last_line\";\n\n    my $sth = $dbh-&gt;prepare(\"REPLACE `test` (time, nb, os_name, program, last_line) VALUES($request);\")\n    or die \"prepare statement failed: $dbh-&gt;errstr()\";\n\n    $sth-&gt;execute() or die \"execution failed: $dbh-&gt;errstr()\";\n    print $sth-&gt;rows . \" rows found.\\n\";\n    $sth-&gt;finish;\n  }\n}\n</code></pre>\n\n<p>my log:</p>\n\n<pre><code>       ID USER                    TERMINAL        SERVICE                    \n---------- ------------------------- --------------- -------------------------  \n         1 toto                    titi     roro          \n         2 toto                    titi     roro          \n         4 gigi                    gege        fefe      \n</code></pre>\n\n<p>my database:</p>\n\n<pre><code>+----+---------------------+-----------+-------------+----------------+-----------+\n| ID | time                | nb        | os_name     | program        | last_line |\n+----+---------------------+-----------+-------------+----------------+-----------+\n| 15  | 2019-01-04 14:00:00|        33 | titi        | roro           | 109       |\n</code></pre>\n\n<p>i want :</p>\n\n<pre><code>+----+---------------------+-----------+-------------+----------------+-----------+\n| ID | time                | nb        | os_name     | program        | last_line |\n+----+---------------------+-----------+-------------+----------------+-----------+\n| 15  | 2019-01-04 14:00:00|        33 | titi        | roro           | 109       |\n| 16  | 2019-01-04 14:00:00|        9  | gege        | fefe           | 109       |      \n</code></pre>\n\n<p>(Added by Dave Cross - copied from a comment. Here is the table definition.)</p>\n\n<pre><code>CREATE TABLE test (\n  ID INT UNSIGNED NOT NULL AUTO_INCREMENT,\n  time datetime NOT NULL,\n  nb int NOT NULL,\n  os_name nvarchar(100) NOT NULL,\n  program nvarchar(100) NOT NULL,\n  last_line nvarchar(100)NOT NULL,\n  PRIMARY KEY (ID),\n  UNIQUE KEY (time)\n) ENGINE=InnoDB;\n</code></pre>\n"}, {"tags": ["perl", "pdf", "module", "compare"], "comments": [{"owner": {"reputation": 9961, "user_id": 2139766, "user_type": "registered", "accept_rate": 100, "profile_image": "https://i.stack.imgur.com/b3qcA.png?s=128&g=1", "display_name": "AnFi", "link": "https://stackoverflow.com/users/2139766/anfi"}, "edited": false, "score": 0, "creation_date": 1546616983, "post_id": 54042083, "comment_id": 94919480, "body": "Do they look the same or have the same content &quot;byte by byte&quot;?"}, {"owner": {"reputation": 31386, "user_id": 9661424, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/rnnvz.png?s=128&g=1", "display_name": "sticky bit", "link": "https://stackoverflow.com/users/9661424/sticky-bit"}, "edited": false, "score": 4, "creation_date": 1546617073, "post_id": 54042083, "comment_id": 94919528, "body": "If &quot;have exactly the same content&quot; means byte by byte, then <a href=\"https://perldoc.perl.org/File/Compare.html\" rel=\"nofollow noreferrer\">File::Compare</a> may be worth look."}, {"owner": {"reputation": 31386, "user_id": 9661424, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/rnnvz.png?s=128&g=1", "display_name": "sticky bit", "link": "https://stackoverflow.com/users/9661424/sticky-bit"}, "edited": false, "score": 0, "creation_date": 1546617212, "post_id": 54042083, "comment_id": 94919611, "body": "And this question deals with extracting text from a PDF: <a href=\"https://stackoverflow.com/questions/1136990/how-can-i-extract-text-from-a-pdf-file-in-perl\" title=\"how can i extract text from a pdf file in perl\">stackoverflow.com/questions/1136990/&hellip;</a>"}, {"owner": {"reputation": 49, "user_id": 7148029, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/76254bd2aba9068be59c12e66ceed682?s=128&d=identicon&r=PG&f=1", "display_name": "Basque0407", "link": "https://stackoverflow.com/users/7148029/basque0407"}, "edited": false, "score": 1, "creation_date": 1546621891, "post_id": 54042083, "comment_id": 94922052, "body": "File::Compare worked perfectly, thank you!"}], "owner": {"reputation": 49, "user_id": 7148029, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/76254bd2aba9068be59c12e66ceed682?s=128&d=identicon&r=PG&f=1", "display_name": "Basque0407", "link": "https://stackoverflow.com/users/7148029/basque0407"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 89, "favorite_count": 0, "answer_count": 0, "score": 0, "last_activity_date": 1546616642, "creation_date": 1546616642, "question_id": 54042083, "link": "https://stackoverflow.com/questions/54042083/how-to-compare-2-pdfs-if-theyre-the-same-in-perl", "title": "How to compare 2 PDFs if they&#39;re the same in Perl?", "body": "<p>We're just entering the planning phase for a small script using perl. We hope to use it to reduce storage use, by removing duplicated PDFs. These PDFs have different file names, but have exactly the same content. Is there an existing perl module that I can use to open PDFs, and check if 2 PDF files have exactly the same content? Thank you</p>\n"}, {"tags": ["perl", "subroutine"], "comments": [{"owner": {"reputation": 6258, "user_id": 82262, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/8ce15931410b388a52eb2df4a864137f?s=128&d=identicon&r=PG&f=1", "display_name": "Matt Jacob", "link": "https://stackoverflow.com/users/82262/matt-jacob"}, "edited": false, "score": 8, "creation_date": 1546614325, "post_id": 54041420, "comment_id": 94917876, "body": "<code>return</code> inside an <code>eval</code> returns from the <code>eval</code>, not the subroutine."}, {"owner": {"reputation": 43, "user_id": 8374613, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/49e54e29addcb9be66c21ab761540507?s=128&d=identicon&r=PG&f=1", "display_name": "Lost Demondragon", "link": "https://stackoverflow.com/users/8374613/lost-demondragon"}, "reply_to_user": {"reputation": 6258, "user_id": 82262, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/8ce15931410b388a52eb2df4a864137f?s=128&d=identicon&r=PG&f=1", "display_name": "Matt Jacob", "link": "https://stackoverflow.com/users/82262/matt-jacob"}, "edited": false, "score": 0, "creation_date": 1546615029, "post_id": 54041420, "comment_id": 94918277, "body": "now i just feel stupid... thanks anyway... should have known  it better."}, {"owner": {"reputation": 560, "user_id": 10850601, "user_type": "registered", "profile_image": "https://lh5.googleusercontent.com/-3R2h7RDJ9yU/AAAAAAAAAAI/AAAAAAAAAAA/AKxrwcYNkQa9HPTd778Jo28o4mlsEFPJpw/mo/photo.jpg?sz=128", "display_name": "Ed Grimm", "link": "https://stackoverflow.com/users/10850601/ed-grimm"}, "edited": false, "score": 1, "creation_date": 1546734446, "post_id": 54041420, "comment_id": 94949080, "body": "Irrelevant to your question, but I think you could use Data::Dumper more gracefully:  print Data::Dumper-&gt;Dump([$JsonValidationStatus, $readJson], [&#39;*One&#39;, &#39;*Two&#39;]);"}, {"owner": {"reputation": 43, "user_id": 8374613, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/49e54e29addcb9be66c21ab761540507?s=128&d=identicon&r=PG&f=1", "display_name": "Lost Demondragon", "link": "https://stackoverflow.com/users/8374613/lost-demondragon"}, "edited": false, "score": 0, "creation_date": 1546947821, "post_id": 54041420, "comment_id": 95014371, "body": "Thankful for any help that might improve upon my code/coding style  :D... Indeed i have to confess that you&#39;re way of writing is a lot more smoother and sexier. Am and  Matt Jacob would you like to make you&#39;re coment the answer of this thread. I cant axept it if its just a coment, and posting the answer my self  would be injust."}], "owner": {"reputation": 43, "user_id": 8374613, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/49e54e29addcb9be66c21ab761540507?s=128&d=identicon&r=PG&f=1", "display_name": "Lost Demondragon", "link": "https://stackoverflow.com/users/8374613/lost-demondragon"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 70, "favorite_count": 0, "answer_count": 0, "score": 1, "last_activity_date": 1546614438, "creation_date": 1546614057, "last_edit_date": 1546614438, "question_id": 54041420, "link": "https://stackoverflow.com/questions/54041420/when-returning-2-or-more-values-from-a-subroutine-only-the-last-varaible-returns", "title": "When Returning 2 or more values from a Subroutine only the last varaible returns defined", "body": "<p>I'm currently writing a small Perl script to act as a cronjob.</p>\n\n<p>The task of the Subroutinen is to check whether the file I'm writing to is a valid json file or not and to then proceed based on the return of this subroutine and the output of another Subroutine.</p>\n\n<p>Even though I do return the multiple values in a list and then assign the result of the function to the list of variables that i want define, it only seams to work with the last value from the list.</p>\n\n<p>I could just encapsulated the values with an array, but i want to knowe why the method i tried is not functioning as i expected.</p>\n\n<p>(sorry for the bad formatting...)</p>\n\n<pre><code>#!/usr/bin/perl\n\nuse strict;\nuse warnings;\nuse JSON;\nuse Data::Dumper;\n\n\nsub is_valid_json {\n\n my $readJson = do {\n     open(my $readJson, \"+&lt;\", \"../data_out.json\")\n         or die(\"Can't open \\$filename\\\": $!\\n\");\n     local $/;\n     &lt;$readJson&gt;\n };\n\n my $json = JSON-&gt;new;\n\n eval {\n\n     my $result = $json-&gt;decode($readJson);\n     my $JsonValidationStatus = 1;\n\n     return($JsonValidationStatus,$readJson );\n } or do {\n     warn \"Failed to decode_json result\";\n     print \"mission failled\";\n     my $JsonValidationStatus = 0;\n     return($JsonValidationStatus, $readJson);\n };\n}\n\n my ($JsonValidationStatus, $readJson) = is_valid_json();\n print \"One:\". Dumper  \"$JsonValidationStatus\\n\";\n print  \"Two:\" . Dumper \"$readJson\\n\";\n print \"\\n \\n \\n \\n\";\n</code></pre>\n\n<p>ps. sorry forgot to provide the error message:</p>\n\n<blockquote>\n  <p>Use of uninitialized value $readJson in concatenation (.)</p>\n</blockquote>\n"}, {"tags": ["perl"], "comments": [{"owner": {"reputation": 3401, "user_id": 2086966, "user_type": "registered", "accept_rate": 73, "profile_image": "https://www.gravatar.com/avatar/047de0e0aa362e30a75f3bebe840ed48?s=128&d=identicon&r=PG", "display_name": "smilyface", "link": "https://stackoverflow.com/users/2086966/smilyface"}, "edited": false, "score": 0, "creation_date": 1546609342, "post_id": 54039998, "comment_id": 94915120, "body": "It&#39;s better to post the function / part of your program which has this line you mentioned. Then it&#39;s easy to understand and we can provide more information (easily)"}], "answers": [{"comments": [{"owner": {"reputation": 78982, "user_id": 1848654, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/84180c0f3c9c04f8b8f0613fc0129dac?s=128&d=identicon&r=PG", "display_name": "melpomene", "link": "https://stackoverflow.com/users/1848654/melpomene"}, "edited": false, "score": 7, "creation_date": 1546612357, "post_id": 54040128, "comment_id": 94916721, "body": "In practice I prefer using <code>@foo = ()</code> because it&#39;s so much clearer."}], "tags": [], "owner": {"reputation": 2463, "user_id": 2346731, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/54b21109a70f680b9c50261b90d22f87?s=128&d=identicon&r=PG", "display_name": "Marcus", "link": "https://stackoverflow.com/users/2346731/marcus"}, "is_accepted": false, "score": 8, "last_activity_date": 1546609363, "creation_date": 1546609363, "answer_id": 54040128, "question_id": 54039998, "link": "https://stackoverflow.com/questions/54039998/what-does-assigning-1-to-array-do/54040128#54040128", "title": "What does assigning -1 to $#array do?", "body": "<p>It changes the length of the array, in this case it will clear the entire array.</p>\n\n<p>From <a href=\"https://perldoc.perl.org/perldata.html\" rel=\"noreferrer\">perldoc perldata</a>:</p>\n\n<blockquote>\n  <p>Assigning to <code>$#days</code> actually changes the length of the array.\n  Shortening an array this way destroys intervening values.</p>\n</blockquote>\n\n<p>It goes on to say:</p>\n\n<blockquote>\n  <p>The following are equivalent:</p>\n\n<pre><code>    @whatever = ();\n    $#whatever = -1;\n</code></pre>\n</blockquote>\n"}], "owner": {"reputation": 51, "user_id": 10839200, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/06712033093db943ef0c331656778974?s=128&d=identicon&r=PG&f=1", "display_name": "Meenakshi", "link": "https://stackoverflow.com/users/10839200/meenakshi"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 80, "favorite_count": 2, "answer_count": 1, "score": 4, "last_activity_date": 1546612524, "creation_date": 1546608939, "last_edit_date": 1546612524, "question_id": 54039998, "link": "https://stackoverflow.com/questions/54039998/what-does-assigning-1-to-array-do", "title": "What does assigning -1 to $#array do?", "body": "<p>Take this code:</p>\n\n<pre><code>$#mdCntrs = -1;\n</code></pre>\n\n<p><code>$#array</code> returns the index of last element of array and returns <code>-1</code> when array is empty.</p>\n\n<p>But this assigning <code>-1</code>, what does that mean?</p>\n"}, {"tags": ["perl", "uppercase", "ucfirst"], "comments": [{"owner": {"reputation": 3472, "user_id": 4990392, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/89acc35f0339a9c7e6ae36443a23e2d9?s=128&d=identicon&r=PG&f=1", "display_name": "Dada", "link": "https://stackoverflow.com/users/4990392/dada"}, "edited": false, "score": 0, "creation_date": 1546597053, "post_id": 54036744, "comment_id": 94909084, "body": "You probably mean <code>$W</code> instead of <code>$$W</code> ? <code>ucfirst</code> doesn&#39;t take a reference. (you&#39;ll typically write <code>$w = ucfirst $w</code>, not <code>ucfirst \\$w</code> (which doesn&#39;t work))"}, {"owner": {"reputation": 320771, "user_id": 589924, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/b2cf53d5a3d25f95c0db4e025aed4153?s=128&d=identicon&r=PG", "display_name": "ikegami", "link": "https://stackoverflow.com/users/589924/ikegami"}, "edited": false, "score": 0, "creation_date": 1546600249, "post_id": 54036744, "comment_id": 94910745, "body": "Tip: Replace <code>my $line = $_[0]; chomp($line); $line =~ s&#47;^\\s+&#47;&#47;; $line =~ s&#47;\\s+$&#47;&#47;; my @WORD  = split(&#47;\\s+&#47;,$line);</code> with <code>my @WORD = split(&#39; &#39;, $_[0]);</code>"}, {"owner": {"reputation": 320771, "user_id": 589924, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/b2cf53d5a3d25f95c0db4e025aed4153?s=128&d=identicon&r=PG", "display_name": "ikegami", "link": "https://stackoverflow.com/users/589924/ikegami"}, "edited": false, "score": 0, "creation_date": 1546600350, "post_id": 54036744, "comment_id": 94910782, "body": "Tip: Rename <code>@WORD</code> to <code>@words</code>"}, {"owner": {"reputation": 320771, "user_id": 589924, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/b2cf53d5a3d25f95c0db4e025aed4153?s=128&d=identicon&r=PG", "display_name": "ikegami", "link": "https://stackoverflow.com/users/589924/ikegami"}, "edited": false, "score": 0, "creation_date": 1546600379, "post_id": 54036744, "comment_id": 94910804, "body": "Tip: Replace <code>for(my $i=0;$i&lt;scalar(@words);$i++) { ... $words[$i] ... }</code> with <code>for my $word (@words) { ... $word ... }</code>"}, {"owner": {"reputation": 320771, "user_id": 589924, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/b2cf53d5a3d25f95c0db4e025aed4153?s=128&d=identicon&r=PG", "display_name": "ikegami", "link": "https://stackoverflow.com/users/589924/ikegami"}, "edited": false, "score": 1, "creation_date": 1546600429, "post_id": 54036744, "comment_id": 94910832, "body": "Tip: Remove those misused <code>&amp;</code>!"}], "answers": [{"comments": [{"owner": {"reputation": 93695, "user_id": 610569, "user_type": "registered", "accept_rate": 90, "profile_image": "https://www.gravatar.com/avatar/0e9087f2672b0e4f28d91266acf9ce57?s=128&d=identicon&r=PG", "display_name": "alvas", "link": "https://stackoverflow.com/users/610569/alvas"}, "edited": false, "score": 0, "creation_date": 1546598027, "post_id": 54037090, "comment_id": 94909614, "body": "Sadly, in the context <a href=\"https://github.com/moses-smt/mosesdecoder/pull/206/files#diff-876e51db2a1ab71c1ae736182d1e5e04R63\" rel=\"nofollow noreferrer\">github.com/moses-smt/mosesdecoder/pull/206/&hellip;</a> , it seem different"}], "tags": [], "owner": {"reputation": 62184, "user_id": 7231, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/81b76985f3985e35492e25880493d045?s=128&d=identicon&r=PG", "display_name": "Dave Cross", "link": "https://stackoverflow.com/users/7231/dave-cross"}, "is_accepted": false, "score": 2, "last_activity_date": 1546603302, "last_edit_date": 1546603302, "creation_date": 1546597587, "answer_id": 54037090, "question_id": 54036744, "link": "https://stackoverflow.com/questions/54036744/capitalizing-words-by-uppercasing-only-the-first-letter/54037090#54037090", "title": "Capitalizing words by uppercasing only the first letter", "body": "<blockquote>\n  <p>In Perl, there's the ucfirst function.</p>\n  \n  <p>Is it this the equivalent to this:</p>\n</blockquote>\n\n<p>Let's find out...</p>\n\n<pre><code>$ cat testuc\nuse strict;\nuse warnings;\nuse Test::More; \n\nsub uppercase {\n  my ($w) = @_;\n  return uc(substr($w, 0, 1)) . substr($w, 1);\n}\n\nmy @tests = qw[foobar Foobar FOOBar fOObar fOObAR FOOBAR];\n\nfor (@tests) {\n  is(ucfirst($_), uppercase($_), \"correct for $_\");\n}\n\ndone_testing;\n\n$ prove -v testuc\ntestuc ..\nok 1 - correct for foobar\nok 2 - correct for Foobar\nok 3 - correct for FOOBar\nok 4 - correct for fOObar\nok 5 - correct for fOObAR\nok 6 - correct for FOOBAR\n1..6\nok\nAll tests successful.\nFiles=1, Tests=6,  0 wallclock secs ( 0.04 usr  0.03 sys +  0.03 cusr  0.04 csys =  0.14 CPU)\nResult: PASS\n</code></pre>\n\n<p>So, yes, it looks like they're the same thing (at least for my rather limited set of tests).</p>\n\n<p>I'm using Perl 5.26.1 - but I think this will work fine for all Perl versions back to at least 5.10.</p>\n\n<p><strong>Update:</strong></p>\n\n<p>I made a silent edit to your code which I forgot to mention. You code originally worked on a reference to a scalar, but I changed it to work on a scalar (<code>$W</code> instead of <code>$$W</code>). I assumed that would be a harmless substitution.</p>\n\n<p>But now you've shown us <a href=\"https://github.com/moses-smt/mosesdecoder/pull/206/files#diff-876e51db2a1ab71c1ae736182d1e5e04R63\" rel=\"nofollow noreferrer\">your change in context</a> and I can see what's going on.</p>\n\n<p>You had:</p>\n\n<pre><code>&amp;uppercase(\\$WORD[$i])\n</code></pre>\n\n<p>And you changed that to:</p>\n\n<pre><code>ucfirst(\\$WORD[$i])\n</code></pre>\n\n<p>This doesn't work as <code>ucfirst()</code> doesn't change its argument; it returns the changed value. So you actually want:</p>\n\n<pre><code>$WORD[$i] = ucfirst($WORD[$i]);\n</code></pre>\n\n<p>That will then work as expected (modulo the Unicode character issues mentioned in other answers.</p>\n\n<p>Your whole loop can be simplified if you move away from the C-style <code>for</code> loop.</p>\n\n<pre><code>for my $w (@WORD) {\n  $w = ucfirst($w) if $sentence_start;\n\n  if (defined $SENTENCE_END{ $w }) {\n    $sentence_start = 1;\n  } elsif (!defined $DELAYED_SENTENCE_START{ $w }) {\n    $sentence_start = 0;\n  }\n}\n</code></pre>\n"}, {"comments": [{"owner": {"reputation": 93695, "user_id": 610569, "user_type": "registered", "accept_rate": 90, "profile_image": "https://www.gravatar.com/avatar/0e9087f2672b0e4f28d91266acf9ce57?s=128&d=identicon&r=PG", "display_name": "alvas", "link": "https://stackoverflow.com/users/610569/alvas"}, "edited": false, "score": 0, "creation_date": 1546600100, "post_id": 54037485, "comment_id": 94910674, "body": "But given the underspecified <code>foreach</code> how should the <code>$\\_</code> be reassigned?"}, {"owner": {"reputation": 320771, "user_id": 589924, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/b2cf53d5a3d25f95c0db4e025aed4153?s=128&d=identicon&r=PG", "display_name": "ikegami", "link": "https://stackoverflow.com/users/589924/ikegami"}, "reply_to_user": {"reputation": 93695, "user_id": 610569, "user_type": "registered", "accept_rate": 90, "profile_image": "https://www.gravatar.com/avatar/0e9087f2672b0e4f28d91266acf9ce57?s=128&d=identicon&r=PG", "display_name": "alvas", "link": "https://stackoverflow.com/users/610569/alvas"}, "edited": false, "score": 0, "creation_date": 1546600125, "post_id": 54037485, "comment_id": 94910690, "body": "Like I said in my answer, replace <code>uppercase(\\$_)</code> with <code>$_ = ucfirst($_)</code>"}], "tags": [], "owner": {"reputation": 320771, "user_id": 589924, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/b2cf53d5a3d25f95c0db4e025aed4153?s=128&d=identicon&r=PG", "display_name": "ikegami", "link": "https://stackoverflow.com/users/589924/ikegami"}, "is_accepted": true, "score": 2, "last_activity_date": 1546600581, "last_edit_date": 1546600581, "creation_date": 1546599032, "answer_id": 54037485, "question_id": 54036744, "link": "https://stackoverflow.com/questions/54036744/capitalizing-words-by-uppercasing-only-the-first-letter/54037485#54037485", "title": "Capitalizing words by uppercasing only the first letter", "body": "<p><code>ucfirst</code> is not equivalent to the following:</p>\n\n<pre><code>sub uppercase {     \n    my ($W) = @_;       \n    $$W = uc(substr($$W,0,1)).substr($$W,1);        \n}\n</code></pre>\n\n<p><code>ucfirst</code> is mostly<sup>[1]</sup> equivalent to the following:</p>\n\n<pre><code>sub ucfirst {     \n    my ($W) = @_;       \n    return uc(substr($W,0,1)).substr($W,1);        \n}\n</code></pre>\n\n<p>If you wanted to rewrite <code>uppercase</code> in terms of <code>ucfirst</code>, it would look like this:</p>\n\n<pre><code>sub uppercase {     \n    my ($W) = @_;\n    $$W = ucfirst($$W);    \n}\n\nuppercase(\\$string);\n</code></pre>\n\n<p>That means that if you wanted to eliminate <code>uppercase</code> entirely, you'd replace</p>\n\n<pre><code>uppercase(\\$string);\n</code></pre>\n\n<p>with</p>\n\n<pre><code>$string = ucfirst($string);     # Correct\n</code></pre>\n\n<p>You tried using</p>\n\n<pre><code>ucfirst(\\$string);              # Wrong\n</code></pre>\n\n<hr>\n\n<ol>\n<li><code>ucfirst</code> actually does a better job of handling more esoteric characters such as U+01F3 LATIN SMALL LETTER DZ (\"&#x1F3;\").</li>\n</ol>\n"}, {"tags": [], "owner": {"reputation": 65594, "user_id": 459640, "user_type": "registered", "accept_rate": 87, "profile_image": "https://www.gravatar.com/avatar/bc790307b3c4cdbd25f582d9067651f1?s=128&d=identicon&r=PG", "display_name": "aschepler", "link": "https://stackoverflow.com/users/459640/aschepler"}, "is_accepted": false, "score": 2, "last_activity_date": 1546599458, "creation_date": 1546599458, "answer_id": 54037615, "question_id": 54036744, "link": "https://stackoverflow.com/questions/54036744/capitalizing-words-by-uppercasing-only-the-first-letter/54037615#54037615", "title": "Capitalizing words by uppercasing only the first letter", "body": "<p>The functions are not equivalent because of some Unicode details, especially dealing with <a href=\"https://en.wikipedia.org/wiki/Digraph_(orthography)\" rel=\"nofollow noreferrer\">digraphs</a>.</p>\n\n<p>For example, the Hungarian language uses the digraph <a href=\"https://en.wikipedia.org/wiki/Dz_(digraph)\" rel=\"nofollow noreferrer\">\"DZ\"</a>, which is considered a single letter of the alphabet, and so can optionally be represented using the Unicode code points:</p>\n\n<ul>\n<li><code>U+01F1</code>: DZ</li>\n<li><code>U+01F2</code>: Dz</li>\n<li><code>U+01F3</code>: dz</li>\n</ul>\n\n<p>So</p>\n\n<pre><code>my $text1 = \"\\x{1f3}won\";\nmy $text2 = $text1;\n$text1 = ucfirst($text1);\nuppercase(\\$text2);\nprint($text1 eq $text2 ? \"same\\n\" : \"different\\n\");\n</code></pre>\n\n<p>prints \"different\".</p>\n"}], "owner": {"reputation": 93695, "user_id": 610569, "user_type": "registered", "accept_rate": 90, "profile_image": "https://www.gravatar.com/avatar/0e9087f2672b0e4f28d91266acf9ce57?s=128&d=identicon&r=PG", "display_name": "alvas", "link": "https://stackoverflow.com/users/610569/alvas"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 145, "favorite_count": 0, "accepted_answer_id": 54037485, "answer_count": 3, "score": 1, "last_activity_date": 1546603302, "creation_date": 1546596283, "last_edit_date": 1546600693, "question_id": 54036744, "link": "https://stackoverflow.com/questions/54036744/capitalizing-words-by-uppercasing-only-the-first-letter", "title": "Capitalizing words by uppercasing only the first letter", "body": "<p>In Perl, there's the <a href=\"https://perldoc.perl.org/functions/ucfirst.html\" rel=\"nofollow noreferrer\">ucfirst</a> function. </p>\n\n<p>Is it this the equivalent to this:</p>\n\n<pre><code>sub uppercase {     \n    my ($W) = @_;       \n    $$W = uc(substr($$W,0,1)).substr($$W,1);        \n}\n</code></pre>\n\n<p>Does it matter across Perl version? </p>\n\n<hr>\n\n<p>Contextualizing the question, <a href=\"https://github.com/moses-smt/mosesdecoder/pull/206/files#diff-876e51db2a1ab71c1ae736182d1e5e04R63\" rel=\"nofollow noreferrer\">https://github.com/moses-smt/mosesdecoder/pull/206/files#diff-876e51db2a1ab71c1ae736182d1e5e04R63</a> , </p>\n\n<p>Previously, the usage of <code>uppercase</code> is as such:</p>\n\n<pre><code>sub process {\n    my $line = $_[0];\n    chomp($line);\n    $line =~ s/^\\s+//;\n    $line =~ s/\\s+$//;\n    my @WORD  = split(/\\s+/,$line);\n\n    # uppercase at sentence start\n    my $sentence_start = 1;\n    for(my $i=0;$i&lt;scalar(@WORD);$i++) {\n      &amp;uppercase(\\$WORD[$i]) if $sentence_start;\n      if (defined($SENTENCE_END{ $WORD[$i] })) { $sentence_start = 1; }\n      elsif (!defined($DELAYED_SENTENCE_START{$WORD[$i] })) { $sentence_start = 0; }\n    }\n\n    # uppercase headlines {\n    if (defined($SRC) &amp;&amp; $HEADLINE[$sentence]) {\n        foreach (@WORD) {\n            &amp;uppercase(\\$_) unless $ALWAYS_LOWER{$_};\n        }\n    }\n</code></pre>\n\n<p>But it seems like replacing <code>&amp;uppercase(\\$WORD[$i])</code> and <code>&amp;uppercase(\\$_)</code> with <code>ucfirst(\\$WORD[$i])</code> and <code>ucfirst(\\$_)</code> is different.</p>\n"}, {"tags": ["perl"], "comments": [{"owner": {"reputation": 3649, "user_id": 10404329, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/489c51b790b37922d4e80d59b9873cec?s=128&d=identicon&r=PG", "display_name": "Corion", "link": "https://stackoverflow.com/users/10404329/corion"}, "edited": false, "score": 0, "creation_date": 1546591711, "post_id": 54035476, "comment_id": 94906608, "body": "<code>Can&#39;t locate scripts&#47;Config.pm ... at scripts&#47;Training.pl</code> - so please show us what <code>scripts&#47;Training.pl</code> looks like. Maybe you are just missing the line <code>use lib &#39;.&#39;, &#39;scripts&#39;;</code> in <code>Training.pl</code> or you are launching <code>Training.pl</code> from the wrong directory."}, {"owner": {"reputation": 487, "user_id": 9253731, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/8664d633dba3065b7ad8d60369b8086f?s=128&d=identicon&r=PG", "display_name": "Japang LY", "link": "https://stackoverflow.com/users/9253731/japang-ly"}, "reply_to_user": {"reputation": 3649, "user_id": 10404329, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/489c51b790b37922d4e80d59b9873cec?s=128&d=identicon&r=PG", "display_name": "Corion", "link": "https://stackoverflow.com/users/10404329/corion"}, "edited": false, "score": 0, "creation_date": 1546592039, "post_id": 54035476, "comment_id": 94906743, "body": "$| = 1;  if ( @ARGV &lt; 1 ) {    print &quot;usage: Training.pl Config.pm\\n&quot;;    exit(0); }  # load configuration variables require( $ARGV[0] ); (line 54)"}, {"owner": {"reputation": 3649, "user_id": 10404329, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/489c51b790b37922d4e80d59b9873cec?s=128&d=identicon&r=PG", "display_name": "Corion", "link": "https://stackoverflow.com/users/10404329/corion"}, "edited": false, "score": 0, "creation_date": 1546593454, "post_id": 54035476, "comment_id": 94907295, "body": "Ah - so your script expects to be run from the directory where <code>Config.pm</code> exists."}], "answers": [{"comments": [{"owner": {"reputation": 320771, "user_id": 589924, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/b2cf53d5a3d25f95c0db4e025aed4153?s=128&d=identicon&r=PG", "display_name": "ikegami", "link": "https://stackoverflow.com/users/589924/ikegami"}, "edited": false, "score": 0, "creation_date": 1546595216, "post_id": 54036062, "comment_id": 94908124, "body": "Wow. It&#39;s so weird to look for modules relative to the current dir. I was just about to submit an edit that used <code>$RealBin</code> instead of <code>.</code>, but <code>.</code> is actually the &quot;correct&quot; hack here. (The correct fix would be to use <code>do &#39;.&#47;&#39;.$path</code> instead of <code>do $path</code> to forgo using <code>@INC</code>. That still leaves the security hole of using code as data.)"}, {"owner": {"reputation": 3649, "user_id": 10404329, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/489c51b790b37922d4e80d59b9873cec?s=128&d=identicon&r=PG", "display_name": "Corion", "link": "https://stackoverflow.com/users/10404329/corion"}, "reply_to_user": {"reputation": 320771, "user_id": 589924, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/b2cf53d5a3d25f95c0db4e025aed4153?s=128&d=identicon&r=PG", "display_name": "ikegami", "link": "https://stackoverflow.com/users/589924/ikegami"}, "edited": false, "score": 0, "creation_date": 1546595440, "post_id": 54036062, "comment_id": 94908232, "body": "@ikegami <code>$RealBin</code> is likely the preferrable approach, but I don&#39;t know the script and the environment things are run in, so <code>.</code> seems to be less invasive. Still ..."}], "tags": [], "owner": {"reputation": 3649, "user_id": 10404329, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/489c51b790b37922d4e80d59b9873cec?s=128&d=identicon&r=PG", "display_name": "Corion", "link": "https://stackoverflow.com/users/10404329/corion"}, "is_accepted": true, "score": 4, "last_activity_date": 1546593670, "creation_date": 1546593670, "answer_id": 54036062, "question_id": 54035476, "link": "https://stackoverflow.com/questions/54035476/cant-locate-scripts-config-pm-in-inc-you-may-need-to-install-the-scriptscon/54036062#54036062", "title": "Can&#39;t locate scripts/Config.pm in @INC (you may need to install the scripts::Config module)", "body": "<p>The error message is:</p>\n\n<blockquote>\n  <p>Can't locate scripts/Config.pm ... at scripts/Training.pl line 54</p>\n</blockquote>\n\n<p>The lines 53 and 54 look like</p>\n\n<pre><code>#line 53\n$| = 1; if ( @ARGV &lt; 1 ) { print \"usage: Training.pl Config.pm\\n\"; exit(0); } # load configuration variables\nrequire( $ARGV[0] );\n</code></pre>\n\n<p>The script expects to be run from the directory where the file <code>Config.pm</code> exists. Maybe alternatively you can run it as <code>perl scripts/Training.pl scripts/Config.pm</code> or put <code>Config.pm</code> into the current directory instead of having it in <code>scripts/</code>.</p>\n\n<p>You might want to add <code>.</code> to the module search path by adding the following line to <code>scripts/Training.pl</code>, to future-proof it when upgrading Perl from 5.24 to a newer version:</p>\n\n<pre><code>use lib '.';\n</code></pre>\n"}], "owner": {"reputation": 487, "user_id": 9253731, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/8664d633dba3065b7ad8d60369b8086f?s=128&d=identicon&r=PG", "display_name": "Japang LY", "link": "https://stackoverflow.com/users/9253731/japang-ly"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 3589, "favorite_count": 0, "accepted_answer_id": 54036062, "answer_count": 1, "score": 1, "last_activity_date": 1546595582, "creation_date": 1546590885, "last_edit_date": 1546595582, "question_id": 54035476, "link": "https://stackoverflow.com/questions/54035476/cant-locate-scripts-config-pm-in-inc-you-may-need-to-install-the-scriptscon", "title": "Can&#39;t locate scripts/Config.pm in @INC (you may need to install the scripts::Config module)", "body": "<pre><code>Can't locate scripts/Config.pm in @INC\n(you may need to install the scripts::Config module)\n(@INC contains:\n    /etc/perl\n    /usr/local/lib/x86_64-linux-gnu/perl/5.24.1\n    /usr/local/share/perl/5.24.1\n    /usr/lib/x86_64-linux-gnu/perl5/5.24\n    /usr/share/perl5\n    /usr/lib/x86_64-linux-gnu/perl/5.24\n    /usr/share/perl/5.24\n    /usr/local/lib/site_perl\n    /usr/lib/x86_64-linux-gnu/perl-base\n) at scripts/Training.pl line 54.\n</code></pre>\n\n<p>(Line breaks added for readability)</p>\n\n<p>I have tried to install the module with cpan install scripts::Config, but it doesn't work. </p>\n\n<pre><code>Loading internal null logger. Install Log::Log4perl for logging messages\nReading '/home/japangly/.cpan/Metadata'\n  Database was generated on Thu, 03 Jan 2019 13:29:03 GMT\nWarning: Cannot install scripts::Config, don't know what it is.\nTry the command\n    i /scripts::Config/\nto find objects with matching identifiers.\n</code></pre>\n\n<p>I tried to create links in /usr/local but it is empty:</p>\n\n<pre><code>ln -s /usr/{,local/}lib/perl5/5.8.3\n\nln -s /usr/{,local/}lib/perl5/site_perl/5.8.3\n</code></pre>\n\n<p><a href=\"https://www.perlmonks.org/?node_id=746288\" rel=\"nofollow noreferrer\">https://www.perlmonks.org/?node_id=746288</a></p>\n\n<p>I use google cloud platform:</p>\n\n<p>$ which perl <code>/usr/bin/perl</code></p>\n\n<p>$ perl -e \"print join(\\\"\\n\\\", @INC);\"</p>\n\n<pre><code>/etc/perl\n/usr/local/lib/x86_64-linux-gnu/perl/5.24.1\n/usr/local/share/perl/5.24.1\n/usr/lib/x86_64-linux-gnu/perl5/5.24\n/usr/share/perl5\n/usr/lib/x86_64-linux-gnu/perl/5.24\n/usr/share/perl/5.24\n/usr/local/lib/site_perl\n/usr/lib/x86_64-linux-gnu/perl-base\n</code></pre>\n"}, {"tags": ["perl"], "comments": [{"owner": {"reputation": 93172, "user_id": 1734130, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/AZ5Sn.png?s=128&g=1", "display_name": "mvp", "link": "https://stackoverflow.com/users/1734130/mvp"}, "edited": false, "score": 0, "creation_date": 1546552239, "post_id": 54029663, "comment_id": 94896896, "body": "Why would anyone want to strike down this perfectly legit question?"}, {"owner": {"reputation": 4644, "user_id": 1431720, "user_type": "registered", "accept_rate": 89, "profile_image": "https://www.gravatar.com/avatar/f5a1388d4d3b2bf03b11bb5658c68c29?s=128&d=identicon&r=PG", "display_name": "Robert", "link": "https://stackoverflow.com/users/1431720/robert"}, "reply_to_user": {"reputation": 93172, "user_id": 1734130, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/AZ5Sn.png?s=128&g=1", "display_name": "mvp", "link": "https://stackoverflow.com/users/1734130/mvp"}, "edited": false, "score": 6, "creation_date": 1546553395, "post_id": 54029663, "comment_id": 94897311, "body": "@mvp Because the OP shows no effort to solve the problem himself?"}, {"owner": {"reputation": 93172, "user_id": 1734130, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/AZ5Sn.png?s=128&g=1", "display_name": "mvp", "link": "https://stackoverflow.com/users/1734130/mvp"}, "reply_to_user": {"reputation": 4644, "user_id": 1431720, "user_type": "registered", "accept_rate": 89, "profile_image": "https://www.gravatar.com/avatar/f5a1388d4d3b2bf03b11bb5658c68c29?s=128&d=identicon&r=PG", "display_name": "Robert", "link": "https://stackoverflow.com/users/1431720/robert"}, "edited": false, "score": 0, "creation_date": 1546554847, "post_id": 54029663, "comment_id": 94897802, "body": "@Robert: I don&#39;t agree on this one. It took myself quite a bit of time and learning Perl to even know that syntax <code>my ($x, $y) = $str =~ &#47;regex with groups for x and y&#47;;</code> exists."}], "answers": [{"comments": [{"owner": {"reputation": 93172, "user_id": 1734130, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/AZ5Sn.png?s=128&g=1", "display_name": "mvp", "link": "https://stackoverflow.com/users/1734130/mvp"}, "reply_to_user": {"reputation": 60461, "user_id": 3636601, "user_type": "registered", "accept_rate": 75, "profile_image": "https://www.gravatar.com/avatar/69a1b4f750ece89db0e49c94519f1a7d?s=128&d=identicon&r=PG&f=1", "display_name": "Jens", "link": "https://stackoverflow.com/users/3636601/jens"}, "edited": false, "score": 0, "creation_date": 1546552284, "post_id": 54029698, "comment_id": 94896912, "body": "@Jens: this code was pretty self-explanatory. But I added some comments anyway."}], "tags": [], "owner": {"reputation": 93172, "user_id": 1734130, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/AZ5Sn.png?s=128&g=1", "display_name": "mvp", "link": "https://stackoverflow.com/users/1734130/mvp"}, "is_accepted": false, "score": 2, "last_activity_date": 1546552588, "last_edit_date": 1546552588, "creation_date": 1546549051, "answer_id": 54029698, "question_id": 54029663, "link": "https://stackoverflow.com/questions/54029663/perl-getting-the-value-right-after-a-keyword-is-found/54029698#54029698", "title": "Perl - getting the value right after a keyword is found", "body": "<p>Use this code snippet:</p>\n\n<pre><code>my ($connections) = $str =~ /Active connections:\\s*(\\d+).*/;\n</code></pre>\n\n<p>Variable <code>$connections</code> will contain your answer.</p>\n\n<p>You can also extract more than 1 variable at a time, like this:</p>\n\n<pre><code>my ($connections, $reading, $writing) = $str =~ /Active connections:\\s*(\\d+).*Reading:\\s*(\\d+).*Writing:\\s*(\\d+).*/s;\n</code></pre>\n\n<p>In this case variables <code>$connections</code>, <code>$reading</code>, <code>$writing</code> will be extracted at once.</p>\n\n<p>If there is no matching pattern in input string, extracted variables will be <code>undef</code> - I recommend to add a check for this to detect that input string has no interesting data.</p>\n"}], "owner": {"reputation": 13, "user_id": 10222221, "user_type": "registered", "profile_image": "https://lh5.googleusercontent.com/-ouzmCdoDtk4/AAAAAAAAAAI/AAAAAAAAAAQ/take_Sz-cuE/photo.jpg?sz=128", "display_name": "Keith Rutledge", "link": "https://stackoverflow.com/users/10222221/keith-rutledge"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 45, "favorite_count": 0, "answer_count": 1, "score": -3, "last_activity_date": 1546552588, "creation_date": 1546548867, "last_edit_date": 1546549747, "question_id": 54029663, "link": "https://stackoverflow.com/questions/54029663/perl-getting-the-value-right-after-a-keyword-is-found", "title": "Perl - getting the value right after a keyword is found", "body": "<p>I would like to get a script syntax that does the following:  Take the below output that is defined to a variable called @pc</p>\n\n<pre><code>Active connections: 47\nserver accepts handled requests\n 101 101 2434\nReading: 0 Writing: 5 Waiting: 42\n</code></pre>\n\n<p>I want parse this output so that I only get the value associated with \"Active Connections\"</p>\n\n<p>The expected return value would be only 47 in this case.</p>\n"}, {"tags": ["perl"], "comments": [{"owner": {"reputation": 31386, "user_id": 9661424, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/rnnvz.png?s=128&g=1", "display_name": "sticky bit", "link": "https://stackoverflow.com/users/9661424/sticky-bit"}, "edited": false, "score": 2, "creation_date": 1546524064, "post_id": 54023596, "comment_id": 94883705, "body": "If you&#39;d use <code>;</code>, the code would compile and <code>$r_Cntr</code> would be a hash ref."}, {"owner": {"reputation": 3649, "user_id": 10404329, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/489c51b790b37922d4e80d59b9873cec?s=128&d=identicon&r=PG", "display_name": "Corion", "link": "https://stackoverflow.com/users/10404329/corion"}, "edited": false, "score": 3, "creation_date": 1546524065, "post_id": 54023596, "comment_id": 94883707, "body": "<code>$r_Cntr</code> is a scalar (as indicated by the <code>$</code>). Its value is a reference to a hash (as you can see from <code>$r_Cntr = {}</code>."}, {"owner": {"reputation": 27648, "user_id": 9952196, "user_type": "registered", "profile_image": "https://graph.facebook.com/10216835866235879/picture?type=large", "display_name": "Shawn", "link": "https://stackoverflow.com/users/9952196/shawn"}, "edited": false, "score": 1, "creation_date": 1546524985, "post_id": 54023596, "comment_id": 94884231, "body": "<a href=\"http://perldoc.perl.org/perlreftut.html\" rel=\"nofollow noreferrer\">perldoc.perl.org/perlreftut.html</a>"}], "answers": [{"tags": [], "owner": {"reputation": 62184, "user_id": 7231, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/81b76985f3985e35492e25880493d045?s=128&d=identicon&r=PG", "display_name": "Dave Cross", "link": "https://stackoverflow.com/users/7231/dave-cross"}, "is_accepted": false, "score": 5, "last_activity_date": 1546526141, "creation_date": 1546526141, "answer_id": 54024387, "question_id": 54023596, "link": "https://stackoverflow.com/questions/54023596/which-datatype-is-r-cntr-in-the-perl-code-below/54024387#54024387", "title": "which datatype is r_Cntr in the perl code below?", "body": "<blockquote>\n<pre><code>my $r_Cntr = {};\n</code></pre>\n</blockquote>\n\n<p><code>$r_Cntr</code> is a scalar. It contains a reference to a hash. After running this line of code, the referenced hash is empty.</p>\n\n<blockquote>\n<pre><code>$r_Cntr-&gt;{'behaviour'} = $RESET\n</code></pre>\n</blockquote>\n\n<p>After running this line of code, the referenced hash contains a single key ('behaviour') and the associated value is whatever in in <code>$RESET</code>.</p>\n\n<p>Running it through <a href=\"https://metacpan.org/pod/Data::Dumper\" rel=\"noreferrer\">Data::Dumper</a> might be useful.</p>\n\n<pre><code>use Data::Dumper;\n\nmy $RESET = 'Some random text';\n\nmy $r_Cntr = {};\n$r_Cntr-&gt;{'behaviour'} = $RESET; \n\nprint Dumper $r_Cntr;\n</code></pre>\n\n<p>Which produces the following output:</p>\n\n<pre><code>$VAR1 = {\n    'behaviour' =&gt; 'Some random text'\n};\n</code></pre>\n"}], "owner": {"reputation": 51, "user_id": 10839200, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/06712033093db943ef0c331656778974?s=128&d=identicon&r=PG&f=1", "display_name": "Meenakshi", "link": "https://stackoverflow.com/users/10839200/meenakshi"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 54, "favorite_count": 0, "answer_count": 1, "score": 0, "last_activity_date": 1546526141, "creation_date": 1546523372, "question_id": 54023596, "link": "https://stackoverflow.com/questions/54023596/which-datatype-is-r-cntr-in-the-perl-code-below", "title": "which datatype is r_Cntr in the perl code below?", "body": "<pre><code>my $r_Cntr = {} \n$r_Cntr-&gt;{'behaviour'} = $RESET\n</code></pre>\n\n<p>After setting this value r_Cntr is pushed to an array.</p>\n"}, {"tags": ["perl"], "comments": [{"owner": {"reputation": 320771, "user_id": 589924, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/b2cf53d5a3d25f95c0db4e025aed4153?s=128&d=identicon&r=PG", "display_name": "ikegami", "link": "https://stackoverflow.com/users/589924/ikegami"}, "edited": false, "score": 1, "creation_date": 1546505910, "post_id": 54018965, "comment_id": 94874199, "body": "Please don&#39;t lie. The code that produced the output you specified is different than the code you provided. In the code you actually ran, <code>$folderpath</code> had a trailing Carriage Return"}, {"owner": {"reputation": 62184, "user_id": 7231, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/81b76985f3985e35492e25880493d045?s=128&d=identicon&r=PG", "display_name": "Dave Cross", "link": "https://stackoverflow.com/users/7231/dave-cross"}, "edited": false, "score": 0, "creation_date": 1546505914, "post_id": 54018965, "comment_id": 94874204, "body": "Hi. I&#39;ve just added four spaces at the start of your lines of code. That means that StackOverflow will format those lines as code (as you can see). You&#39;re welcome, of course, but please consider doing it yourself in the future."}, {"owner": {"reputation": 1, "user_id": 1534418, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/dd6cb1dc34bdc685f5e2d3c12fc12609?s=128&d=identicon&r=PG", "display_name": "Joeytian", "link": "https://stackoverflow.com/users/1534418/joeytian"}, "edited": false, "score": 0, "creation_date": 1546512294, "post_id": 54018965, "comment_id": 94877392, "body": "This is my first time to process the windows batch command returned file in perl script. And apparently I missed the \\r at the end of the line. Big mistake. Thank you all for the helping."}, {"owner": {"reputation": 62184, "user_id": 7231, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/81b76985f3985e35492e25880493d045?s=128&d=identicon&r=PG", "display_name": "Dave Cross", "link": "https://stackoverflow.com/users/7231/dave-cross"}, "edited": false, "score": 0, "creation_date": 1546513278, "post_id": 54018965, "comment_id": 94877892, "body": "<a href=\"https://stackoverflow.com/help/someone-answers\">What should I do when someone answers my question?</a>"}], "answers": [{"tags": [], "owner": {"reputation": 62184, "user_id": 7231, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/81b76985f3985e35492e25880493d045?s=128&d=identicon&r=PG", "display_name": "Dave Cross", "link": "https://stackoverflow.com/users/7231/dave-cross"}, "is_accepted": false, "score": 3, "last_activity_date": 1546506676, "last_edit_date": 1546506676, "creation_date": 1546506372, "answer_id": 54019146, "question_id": 54018965, "link": "https://stackoverflow.com/questions/54018965/string-get-replaced-at-the-beginning-instead-of-appended-at-the-end-in-perl/54019146#54019146", "title": "string get replaced at the beginning instead of appended at the end in perl", "body": "<p>Running your code gave me exactly the output I expected.</p>\n\n<p>Here's the program I ran:</p>\n\n<pre><code>#!/usr/bin/perl\n\nuse strict;\nuse warnings;\nuse feature 'say';\n\nmy $folderpath = \"/u/username/folder1/folder2/folder3/folder4\";\nmy $filepath = $folderpath . \"/checkfile.tgz\";\n\nsay \"Folder path is: $folderpath\";\nsay \"File path is: $filepath\";\n</code></pre>\n\n<p>And here's the output I got:</p>\n\n<pre><code>Folder path is: /u/username/folder1/folder2/folder3/folder4\nFile path is: /u/username/folder1/folder2/folder3/folder4/checkfile.tgz\n</code></pre>\n\n<p>If that's not what you saw, then please update your question to give a small but complete program that we can run which demonstrates your problem. You should also state exactly what out you expect to see.</p>\n\n<p>As <a href=\"https://stackoverflow.com/users/589924/ikegami\">ikegami</a> says in a comment, it's almost certainly a problem with newlines and carriage returns - possibly compounded by transferring your file between Windows and Linux without making the appropriate line-end conversions.</p>\n\n<p><strong>Update:</strong> To back up ikemami's theory, here's a lightly-edited version of my test program (I've added a carriage return character to the end of <code>$folderpath</code>).</p>\n\n<pre><code>#!/usr/bin/perl\n\nuse strict;\nuse warnings;\nuse feature 'say';\n\nmy $folderpath = \"/u/username/folder1/folder2/folder3/folder4\\r\";\nmy $filepath = $folderpath . \"/checkfile.tgz\";\n\nsay \"Folder path is: $folderpath\";\nsay \"File path is: $filepath\"; \n</code></pre>\n\n<p>And here's the output this program produces:</p>\n\n<pre><code>Folder path is: /u/username/folder1/folder2/folder3/folder4\n/checkfile.tgz/u/username/folder1/folder2/folder3/folder4\n</code></pre>\n"}], "owner": {"reputation": 1, "user_id": 1534418, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/dd6cb1dc34bdc685f5e2d3c12fc12609?s=128&d=identicon&r=PG", "display_name": "Joeytian", "link": "https://stackoverflow.com/users/1534418/joeytian"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 41, "favorite_count": 0, "answer_count": 1, "score": -1, "last_activity_date": 1546506676, "creation_date": 1546505469, "last_edit_date": 1546506462, "question_id": 54018965, "link": "https://stackoverflow.com/questions/54018965/string-get-replaced-at-the-beginning-instead-of-appended-at-the-end-in-perl", "title": "string get replaced at the beginning instead of appended at the end in perl", "body": "<p>My intend is to add the file name to the end of folder path string. For example, adding <code>checkfile.tgz</code> at the end of <code>/u/username/folder1/folder2/folder3/folder4</code>. However, when I run the code as below</p>\n\n<pre><code>my $folderpath = \"/u/username/folder1/folder2/folder3/folder4\";\nmy $filepath = $folderpath . \"/checkfile.tgz\";\n</code></pre>\n\n<p>Instead of giving me</p>\n\n<pre><code>/u/username/folder1/folder2/folder3/folder4/checkfile.tgz\n</code></pre>\n\n<p>it shows</p>\n\n<pre><code>/checkfile.tgzlder1/folder2/folder3/folder4\n</code></pre>\n\n<p>The string length does not change, while the first few characters get replaced by the string that need to append. So how should I solve this issue?</p>\n"}, {"tags": ["perl"], "comments": [{"owner": {"reputation": 3649, "user_id": 10404329, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/489c51b790b37922d4e80d59b9873cec?s=128&d=identicon&r=PG", "display_name": "Corion", "link": "https://stackoverflow.com/users/10404329/corion"}, "edited": false, "score": 0, "creation_date": 1546505351, "post_id": 54016471, "comment_id": 94873992, "body": "Crossposted at <a href=\"https://perlmonks.org/?node_id=1227944\" rel=\"nofollow noreferrer\">perlmonks.org/?node_id=1227944</a> - I wonder if using any templating module would be a good approach to pre-fill a config file for the user?"}, {"owner": {"reputation": 8718, "user_id": 5848200, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/a8072aaf76dcb4fe5027964252f16382?s=128&d=identicon&r=PG", "display_name": "Grinnz", "link": "https://stackoverflow.com/users/5848200/grinnz"}, "edited": false, "score": 1, "creation_date": 1547082137, "post_id": 54016471, "comment_id": 95073441, "body": "You want Dist::Zilla::Plugin::MakeMaker::Awesome, not ::Custom. It still generates the normal Makefile.PL but allows you to hook in and add customizations, whereas the latter requires you to write the whole Makefile.PL."}], "answers": [{"tags": [], "owner": {"reputation": 8718, "user_id": 5848200, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/a8072aaf76dcb4fe5027964252f16382?s=128&d=identicon&r=PG", "display_name": "Grinnz", "link": "https://stackoverflow.com/users/5848200/grinnz"}, "is_accepted": true, "score": 3, "last_activity_date": 1547082499, "creation_date": 1547082499, "answer_id": 54120676, "question_id": 54016471, "link": "https://stackoverflow.com/questions/54016471/how-can-you-run-a-config-script-when-installing-a-perl-module/54120676#54120676", "title": "How can you run a config script when installing a perl module?", "body": "<p>You had discussed this in IRC, and the gist is:</p>\n\n<ol>\n<li><p>You cannot rely on the installation process allowing any interaction, as a large amount of installations are via cpanm which is non-interactive and hides output from Makefile.PL by default. This is because users don't like having to configure things, and as an example, a Carton deployment is frequently non-interactive by its nature. You can allow configuration via environment variables recognized by your Makefile.PL to get around this.</p></li>\n<li><p>You can document to install using the --interactive option for cpanm in order to respond to prompts in your Makefile.PL, injected into the generated file using the <a href=\"https://metacpan.org/pod/Dist::Zilla::Plugin::MakeMaker::Awesome\" rel=\"nofollow noreferrer\">[MakeMaker::Awesome]</a> plugin.</p></li>\n<li><p>You can include a script with the distribution that will set up the configuration so the user can do it themselves separate from the installation.</p></li>\n</ol>\n"}], "owner": {"reputation": 2287, "user_id": 1641112, "user_type": "registered", "accept_rate": 46, "profile_image": "https://www.gravatar.com/avatar/00bee18fb974a0057fb61a56faf66052?s=128&d=identicon&r=PG", "display_name": "StevieD", "link": "https://stackoverflow.com/users/1641112/stevied"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 114, "favorite_count": 0, "accepted_answer_id": 54120676, "answer_count": 1, "score": 4, "last_activity_date": 1547082499, "creation_date": 1546490693, "question_id": 54016471, "link": "https://stackoverflow.com/questions/54016471/how-can-you-run-a-config-script-when-installing-a-perl-module", "title": "How can you run a config script when installing a perl module?", "body": "<p>I've been searching for a couple of hours and I'm coming up empty trying to find a solution. I'm using Dist::Zilla. I have a module that uses a simple config file in <code>.ini</code> format located in the module's <code>share/</code> directory. When my module is installed, I'd like the install script to prompt the user for configuration options and save the user's options in the config file. Then, using <code>File::UserConfig</code>, it will copy the file over to the user's configuration directory where it can be loaded by the module when it runs.</p>\n\n<p>Someone had suggested the <a href=\"https://metacpan.org/pod/Dist%3A%3AZilla%3A%3APlugin%3A%3AMakeMaker%3A%3ACustom\" rel=\"nofollow noreferrer\"><code>Dist::Zilla::Plugin::MakeMaker::Custom</code></a> module but I know next to nothing about MakeMaker and how I might write a custom one to kick off the configuration script.</p>\n\n<p>I'm surprised I can't find anything that makes this easy to do. Perhaps I'm searching on the wrong keywords?</p>\n"}, {"tags": ["perl", "template-toolkit"], "answers": [{"tags": [], "owner": {"reputation": 31386, "user_id": 9661424, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/rnnvz.png?s=128&g=1", "display_name": "sticky bit", "link": "https://stackoverflow.com/users/9661424/sticky-bit"}, "is_accepted": true, "score": 7, "last_activity_date": 1546484796, "creation_date": 1546484796, "answer_id": 54015813, "question_id": 54015557, "link": "https://stackoverflow.com/questions/54015557/foreach-hash-with-perl-template-toolkit/54015813#54015813", "title": "Foreach hash with Perl template toolkit", "body": "<p>It's a hash and not an array. Try to iterate over the keys. </p>\n\n<pre><code>[% FOREACH key IN location.keys %]\n    &lt;p&gt;NMI: [% location.$key.nmi %]&lt;/p&gt;\n[% END %]\n</code></pre>\n"}], "owner": {"reputation": 325, "user_id": 2365884, "user_type": "registered", "accept_rate": 38, "profile_image": "https://www.gravatar.com/avatar/3cf67b8cf7af05ee0e93a1205a8f8de6?s=128&d=identicon&r=PG", "display_name": "Jitesh", "link": "https://stackoverflow.com/users/2365884/jitesh"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 600, "favorite_count": 0, "accepted_answer_id": 54015813, "answer_count": 1, "score": 2, "last_activity_date": 1546484796, "creation_date": 1546482154, "question_id": 54015557, "link": "https://stackoverflow.com/questions/54015557/foreach-hash-with-perl-template-toolkit", "title": "Foreach hash with Perl template toolkit", "body": "<p>I am using Perl template toolkit for rendering my data.\nThis is the hash that I am passing to the template </p>\n\n<pre><code>'location' =&gt; {\n               '1' =&gt; {\n                       'nmi' =&gt; 'QB13557343'\n                },\n               '2' =&gt; {\n                       'nmi' =&gt; 'QB13559843'\n                },\n             },\n</code></pre>\n\n<p>and in the template I am looping this hash to get the result but its not displaying \nThe code in the template is:</p>\n\n<pre><code>[% FOREACH loc IN location %]\n\n    &lt;p&gt;NMI:\u00a0[% loc.nmi %][% location.loc.nmi %]\n\n\n[% END %]\n</code></pre>\n\n<p>I tried both loc.nmi and location.loc.nmi but not getting any result.\nAny help would be greatly appreciated.</p>\n"}]