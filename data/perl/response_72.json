[{"tags": ["perl"], "comments": [{"owner": {"reputation": 21782, "user_id": 176646, "user_type": "registered", "accept_rate": 88, "profile_image": "https://i.stack.imgur.com/HsQyV.png?s=128&g=1", "display_name": "ThisSuitIsBlackNot", "link": "https://stackoverflow.com/users/176646/thissuitisblacknot"}, "edited": false, "score": 0, "creation_date": 1464223081, "post_id": 37449350, "comment_id": 62401179, "body": "Possible duplicate of <a href=\"http://stackoverflow.com/questions/65865/whats-the-easiest-way-to-install-a-missing-perl-module\">What&#39;s the easiest way to install a missing Perl module?</a>"}], "answers": [{"comments": [{"owner": {"reputation": 2565, "user_id": 4593127, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/d661b3425b0e9cd38ee220844e1b8659?s=128&d=identicon&r=PG&f=1", "display_name": "gaganso", "link": "https://stackoverflow.com/users/4593127/gaganso"}, "edited": false, "score": 0, "creation_date": 1464243597, "post_id": 37449960, "comment_id": 62406687, "body": "Could the module be installed but not present in the directories present in @INC?"}, {"owner": {"reputation": 320771, "user_id": 589924, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/b2cf53d5a3d25f95c0db4e025aed4153?s=128&d=identicon&r=PG", "display_name": "ikegami", "link": "https://stackoverflow.com/users/589924/ikegami"}, "reply_to_user": {"reputation": 2565, "user_id": 4593127, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/d661b3425b0e9cd38ee220844e1b8659?s=128&d=identicon&r=PG&f=1", "display_name": "gaganso", "link": "https://stackoverflow.com/users/4593127/gaganso"}, "edited": false, "score": 1, "creation_date": 1464273321, "post_id": 37449960, "comment_id": 62426665, "body": "@SilentMonk, Yes, but unlikely, especially since he&#39;s using a version of Perl that was released just a week ago. If the OP comes back and says he just installed it and he&#39;s still getting the problem, it means either 1) he installed it in a non-default directory, and didn&#39;t tell <code>perl</code>, or 2) he installed it using a different <code>perl</code> (meaning it&#39;s still not installed for the <code>perl</code> in question)."}], "tags": [], "owner": {"reputation": 320771, "user_id": 589924, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/b2cf53d5a3d25f95c0db4e025aed4153?s=128&d=identicon&r=PG", "display_name": "ikegami", "link": "https://stackoverflow.com/users/589924/ikegami"}, "is_accepted": false, "score": 2, "last_activity_date": 1464224856, "creation_date": 1464224856, "answer_id": 37449960, "question_id": 37449350, "link": "https://stackoverflow.com/questions/37449350/pathclass-error-in-perl-5-24-0/37449960#37449960", "title": "Path::Class error in perl 5.24.0", "body": "<p>I don't know why you got the message you did; you should have received the following error message:</p>\n\n<blockquote>\n  <p>Can't locate Path/Class.pm in @INC (<strong>you may need to install the Path::Class module</strong>) (@INC contains: ...)</p>\n</blockquote>\n\n<p>You are trying to use a module you haven't installed yet.</p>\n\n<pre><code>cpan Path::Class\n</code></pre>\n"}], "owner": {"reputation": 486, "user_id": 6383564, "user_type": "registered", "profile_image": "https://lh5.googleusercontent.com/-Kg2rH6F9KNk/AAAAAAAAAAI/AAAAAAAAAA8/HYz7LSjQxPg/photo.jpg?sz=128", "display_name": "akrantz", "link": "https://stackoverflow.com/users/6383564/akrantz"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 1619, "favorite_count": 1, "answer_count": 1, "score": 0, "last_activity_date": 1464224932, "creation_date": 1464219853, "last_edit_date": 1464224932, "question_id": 37449350, "link": "https://stackoverflow.com/questions/37449350/pathclass-error-in-perl-5-24-0", "title": "Path::Class error in perl 5.24.0", "body": "<p>I am just learning how to use Perl and while looking through the examples given on <a href=\"http://learn.perl.org/examples\" rel=\"nofollow\">learn.perl.org/examples/</a>, I came across this error on multiple example programs saying:</p>\n\n<pre><code>Can't locate Path/Class.pm in @INC (@INC contains: C:/Dwimperl/perl/site/lib C:/Dwimperl/perl/vendor/lib C:/Dwimperl/perl/lib .) at read_file.pl line 5. BEGIN failed--compilation aborted at read_file.pl line 5.\n</code></pre>\n\n<p>This is the code from each of the examples:</p>\n\n<pre><code>#!/usr/bin/perl\nuse strict;\nuse warnings;\n\nuse Path::Class;\nuse autodie; # die if problem reading or writing a file\n\nmy $dir = dir(\"/tmp\"); # /tmp\n\nmy $file = $dir-&gt;file(\"file.txt\");\n\n# Read in the entire contents of a file\nmy $content = $file-&gt;slurp();\n\n# openr() returns an IO::File object to read from\nmy $file_handle = $file-&gt;openr();\n\n# Read in line at a time\nwhile( my $line = $file_handle-&gt;getline() ) {\n        print $line;\n}\n</code></pre>\n\n<p>and:</p>\n\n<pre><code>#!/usr/bin/perl\nuse strict;\nuse warnings;\n\nuse Path::Class;\n\nmy $dir = dir('foo','bar'); # foo/bar\n\n# Iterate over the content of foo/bar\nwhile (my $file = $dir-&gt;next) {\n\n    # See if it is a directory and skip\n    next if $file-&gt;is_dir();\n\n    # Print out the file name and path\n    print $file-&gt;stringify . \"\\n\";\n}\n</code></pre>\n"}, {"tags": ["regex", "bash", "perl"], "answers": [{"comments": [{"owner": {"reputation": 21338, "user_id": 145279, "user_type": "registered", "accept_rate": 88, "profile_image": "https://i.stack.imgur.com/r9KgA.jpg?s=128&g=1", "display_name": "Will", "link": "https://stackoverflow.com/users/145279/will"}, "edited": false, "score": 0, "creation_date": 1464218731, "post_id": 37449167, "comment_id": 62400109, "body": "This fails with BSD <code>sed</code>. It doesn&#39;t like <code>&#47;i</code>."}, {"owner": {"reputation": 589595, "user_id": 1491895, "user_type": "registered", "accept_rate": 69, "profile_image": "https://www.gravatar.com/avatar/82f9e178a16364bf561d0ed4da09a35d?s=128&d=identicon&r=PG", "display_name": "Barmar", "link": "https://stackoverflow.com/users/1491895/barmar"}, "reply_to_user": {"reputation": 96909, "user_id": 3030305, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/En2fP.png?s=128&g=1", "display_name": "John1024", "link": "https://stackoverflow.com/users/3030305/john1024"}, "edited": false, "score": 1, "creation_date": 1464219044, "post_id": 37449167, "comment_id": 62400194, "body": "@John1024 In fairness to Will, <code>bash</code> usually implies using tools like <code>sed</code>, <code>awk</code>, <code>tr</code>, etc."}, {"owner": {"reputation": 21338, "user_id": 145279, "user_type": "registered", "accept_rate": 88, "profile_image": "https://i.stack.imgur.com/r9KgA.jpg?s=128&g=1", "display_name": "Will", "link": "https://stackoverflow.com/users/145279/will"}, "edited": false, "score": 0, "creation_date": 1464219883, "post_id": 37449167, "comment_id": 62400383, "body": "I made it clear that this was for perl and upvoted it."}], "tags": [], "owner": {"reputation": 589595, "user_id": 1491895, "user_type": "registered", "accept_rate": 69, "profile_image": "https://www.gravatar.com/avatar/82f9e178a16364bf561d0ed4da09a35d?s=128&d=identicon&r=PG", "display_name": "Barmar", "link": "https://stackoverflow.com/users/1491895/barmar"}, "is_accepted": false, "score": 3, "last_activity_date": 1464219864, "last_edit_date": 1464219864, "creation_date": 1464218357, "answer_id": 37449167, "question_id": 37449110, "link": "https://stackoverflow.com/questions/37449110/inserting-a-comma-in-between-letter-and-number/37449167#37449167", "title": "Inserting a comma in between letter and number", "body": "<p>You need to use capture groups to copy the letter and number into the replacement.</p>\n\n<pre><code>perl -pe 's/([a-z])(\\d)/$1, $2/i'\n</code></pre>\n\n<p><code>$1</code> and <code>$2</code> are replaced with the parts of the original string that matched the patterns enclosed in parentheses.</p>\n"}, {"comments": [{"owner": {"reputation": 157, "user_id": 5237185, "user_type": "registered", "accept_rate": 82, "profile_image": "https://i.stack.imgur.com/kADBj.png?s=128&g=1", "display_name": "JDY", "link": "https://stackoverflow.com/users/5237185/jdy"}, "edited": false, "score": 0, "creation_date": 1464218856, "post_id": 37449178, "comment_id": 62400146, "body": "Thank you.Very informative answer -- thanks for your help! Definitely learned a lot."}, {"owner": {"reputation": 21338, "user_id": 145279, "user_type": "registered", "accept_rate": 88, "profile_image": "https://i.stack.imgur.com/r9KgA.jpg?s=128&g=1", "display_name": "Will", "link": "https://stackoverflow.com/users/145279/will"}, "reply_to_user": {"reputation": 157, "user_id": 5237185, "user_type": "registered", "accept_rate": 82, "profile_image": "https://i.stack.imgur.com/kADBj.png?s=128&g=1", "display_name": "JDY", "link": "https://stackoverflow.com/users/5237185/jdy"}, "edited": false, "score": 0, "creation_date": 1464219909, "post_id": 37449178, "comment_id": 62400390, "body": "No problem, glad I could help you! :)"}], "tags": [], "owner": {"reputation": 21338, "user_id": 145279, "user_type": "registered", "accept_rate": 88, "profile_image": "https://i.stack.imgur.com/r9KgA.jpg?s=128&g=1", "display_name": "Will", "link": "https://stackoverflow.com/users/145279/will"}, "is_accepted": true, "score": 6, "last_activity_date": 1467514053, "last_edit_date": 1467514053, "creation_date": 1464218472, "answer_id": 37449178, "question_id": 37449110, "link": "https://stackoverflow.com/questions/37449110/inserting-a-comma-in-between-letter-and-number/37449178#37449178", "title": "Inserting a comma in between letter and number", "body": "<p>Try this:</p>\n\n<pre><code>$ cat testfile\nBoy0.545, 35, 63, 75\nGirl, 63, 723, 845, 45\nHuman13, 453, 634, 43\n\n$ sed 's/\\([A-Za-z]\\)\\([0-9]\\)/\\1, \\2/g' testfile\nBoy, 0.545, 35, 63, 75\nGirl, 63, 723, 845, 45\nHuman, 13, 453, 634, 43\n</code></pre>\n\n<p><code>\\([A-Za-z]\\)</code> and <code>\\([0-9]\\)</code> are <em>capturing groups</em>, which are referred to in the replacement section by <code>\\1</code> and <code>\\2</code>, respectively. So we look for a number immediately following a letter, and replace it with the letter, then a comma, then a space, then the number.</p>\n\n<p>You can also use <em>POSIX character classes</em> as you mentioned in your post:</p>\n\n<pre><code>sed 's/\\([[:alpha:]]\\)\\([[:digit:]]\\)/\\1, \\2/g' testfile\n</code></pre>\n"}], "owner": {"reputation": 157, "user_id": 5237185, "user_type": "registered", "accept_rate": 82, "profile_image": "https://i.stack.imgur.com/kADBj.png?s=128&g=1", "display_name": "JDY", "link": "https://stackoverflow.com/users/5237185/jdy"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 98, "favorite_count": 0, "accepted_answer_id": 37449178, "answer_count": 2, "score": 1, "last_activity_date": 1467514053, "creation_date": 1464218041, "question_id": 37449110, "link": "https://stackoverflow.com/questions/37449110/inserting-a-comma-in-between-letter-and-number", "title": "Inserting a comma in between letter and number", "body": "<p>I am a beginner to programming and had a quick question about regex matching and wanted to know if a quick solution existed in bash or perl to the following problem: </p>\n\n<p>My file looks something like this. </p>\n\n<pre><code>Boy0.545, 35, 63, 75  \nGirl, 63, 723, 845, 45  \nHuman13, 453, 634, 43\n</code></pre>\n\n<p>How would I insert a comma whenever a letter was followed DIRECTLY after by a number in each line? I was reading up on some regex and felt like something like this could work: /^[:alpha:][:digit:]$/ but am unsure how to continue. I would like to have</p>\n\n<pre><code>Boy, 0.545, 35, 63, 75  \nGirl, 63, 723, 845, 45  \nHuman, 13, 453, 634, 43\n</code></pre>\n\n<p>Any help is appreciated. Apologies for the simple question! Thanks!</p>\n"}, {"tags": ["perl", "ssl", "gentoo"], "comments": [{"owner": {"reputation": 110113, "user_id": 168657, "user_type": "registered", "accept_rate": 92, "profile_image": "https://www.gravatar.com/avatar/f14e7610fca39322ebbf23530def15f8?s=128&d=identicon&r=PG", "display_name": "mob", "link": "https://stackoverflow.com/users/168657/mob"}, "edited": false, "score": 0, "creation_date": 1464213526, "post_id": 37447962, "comment_id": 62398462, "body": "Versions might matter. Verified connections are the default since LWP v6.00. Does it work if you just <a href=\"http://www.linuxquestions.org/questions/linux-newbie-8/how-to-set-perl_lwp_ssl_verify_hostname-to-0-a-869836/\" rel=\"nofollow noreferrer\">slap an <code>$ENV{&#39;PERL_LWP_SSL_VERIFY_HOSTNAME&#39;} = 0;</code> at the beginning of the script</a>?"}, {"owner": {"reputation": 320771, "user_id": 589924, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/b2cf53d5a3d25f95c0db4e025aed4153?s=128&d=identicon&r=PG", "display_name": "ikegami", "link": "https://stackoverflow.com/users/589924/ikegami"}, "reply_to_user": {"reputation": 110113, "user_id": 168657, "user_type": "registered", "accept_rate": 92, "profile_image": "https://www.gravatar.com/avatar/f14e7610fca39322ebbf23530def15f8?s=128&d=identicon&r=PG", "display_name": "mob", "link": "https://stackoverflow.com/users/168657/mob"}, "edited": false, "score": 0, "creation_date": 1464215276, "post_id": 37447962, "comment_id": 62399147, "body": "@mob, Is it really working if you disable security checks to allow it to run..."}, {"owner": {"reputation": 110113, "user_id": 168657, "user_type": "registered", "accept_rate": 92, "profile_image": "https://www.gravatar.com/avatar/f14e7610fca39322ebbf23530def15f8?s=128&d=identicon&r=PG", "display_name": "mob", "link": "https://stackoverflow.com/users/168657/mob"}, "edited": false, "score": 0, "creation_date": 1464215568, "post_id": 37447962, "comment_id": 62399242, "body": "I dunno. Was it working before when the security checks weren&#39;t being made?"}, {"owner": {"reputation": 69, "user_id": 4250997, "user_type": "registered", "accept_rate": 50, "profile_image": "https://www.gravatar.com/avatar/84b572f38cfe1f6dd5f402fb1be6175b?s=128&d=identicon&r=PG&f=1", "display_name": "Dmitry Pismennyy", "link": "https://stackoverflow.com/users/4250997/dmitry-pismennyy"}, "edited": false, "score": 0, "creation_date": 1464241937, "post_id": 37447962, "comment_id": 62405947, "body": "If it is about version: what exact  difference between servers affects on this? It looks not major version diff and I wonder if minor versions break BC so heavy. Actually, I still thinking it is not about version, but unfortunately very limited in debug options cause lack of Perl&#39;s bag."}, {"owner": {"reputation": 69, "user_id": 4250997, "user_type": "registered", "accept_rate": 50, "profile_image": "https://www.gravatar.com/avatar/84b572f38cfe1f6dd5f402fb1be6175b?s=128&d=identicon&r=PG&f=1", "display_name": "Dmitry Pismennyy", "link": "https://stackoverflow.com/users/4250997/dmitry-pismennyy"}, "edited": false, "score": 0, "creation_date": 1464243145, "post_id": 37447962, "comment_id": 62406471, "body": "Seems usage $ENV{&#39;PERL_LWP_SSL_VERIFY_HOSTNAME&#39;} = 0; works for me. I got another error which is fine for now. Important in this error I see mention Net::SSL. On other servers with close error I see mention IO::Socket::SSL. So I will try explicit use definition instead of constant: but still wonder what exactly affects on correct library loading? BTW: there is no explicit use definitions for Net:: packages in code except Net:DNS."}, {"owner": {"reputation": 69, "user_id": 4250997, "user_type": "registered", "accept_rate": 50, "profile_image": "https://www.gravatar.com/avatar/84b572f38cfe1f6dd5f402fb1be6175b?s=128&d=identicon&r=PG&f=1", "display_name": "Dmitry Pismennyy", "link": "https://stackoverflow.com/users/4250997/dmitry-pismennyy"}, "edited": false, "score": 0, "creation_date": 1464255031, "post_id": 37447962, "comment_id": 62413581, "body": "$ENV{&#39;PERL_NET_HTTPS_SSL_SOCKET_CLASS&#39;} = &quot;IO::Socket::SSL&quot;; Does not work."}], "answers": [{"comments": [{"owner": {"reputation": 320771, "user_id": 589924, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/b2cf53d5a3d25f95c0db4e025aed4153?s=128&d=identicon&r=PG", "display_name": "ikegami", "link": "https://stackoverflow.com/users/589924/ikegami"}, "edited": false, "score": 0, "creation_date": 1464215258, "post_id": 37448315, "comment_id": 62399137, "body": "Updated my answer."}, {"owner": {"reputation": 69, "user_id": 4250997, "user_type": "registered", "accept_rate": 50, "profile_image": "https://www.gravatar.com/avatar/84b572f38cfe1f6dd5f402fb1be6175b?s=128&d=identicon&r=PG&f=1", "display_name": "Dmitry Pismennyy", "link": "https://stackoverflow.com/users/4250997/dmitry-pismennyy"}, "edited": false, "score": 0, "creation_date": 1464241710, "post_id": 37448315, "comment_id": 62405856, "body": "Speaking about loading, I don&#39;t see any obvious declaration of ant Net::XXXX package in script except Net::DNS. I will play with explicit use declaration. But I wonder why this script works on other services as-is?"}, {"owner": {"reputation": 320771, "user_id": 589924, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/b2cf53d5a3d25f95c0db4e025aed4153?s=128&d=identicon&r=PG", "display_name": "ikegami", "link": "https://stackoverflow.com/users/589924/ikegami"}, "reply_to_user": {"reputation": 69, "user_id": 4250997, "user_type": "registered", "accept_rate": 50, "profile_image": "https://www.gravatar.com/avatar/84b572f38cfe1f6dd5f402fb1be6175b?s=128&d=identicon&r=PG&f=1", "display_name": "Dmitry Pismennyy", "link": "https://stackoverflow.com/users/4250997/dmitry-pismennyy"}, "edited": false, "score": 0, "creation_date": 1464243409, "post_id": 37448315, "comment_id": 62406609, "body": "Different versions of other modules."}, {"owner": {"reputation": 69, "user_id": 4250997, "user_type": "registered", "accept_rate": 50, "profile_image": "https://www.gravatar.com/avatar/84b572f38cfe1f6dd5f402fb1be6175b?s=128&d=identicon&r=PG&f=1", "display_name": "Dmitry Pismennyy", "link": "https://stackoverflow.com/users/4250997/dmitry-pismennyy"}, "edited": false, "score": 0, "creation_date": 1464251020, "post_id": 37448315, "comment_id": 62410818, "body": "I added  use IO::Socket::SSL as first line in script but got same error:  &gt;Net::SSL from Crypt-SSLeay can&#39;t verify hostnames; either install IO::Socket::SSL or turn off verification by setting the PERL_LWP_SSL_VERIFY_HOSTNAME environment variable to 0 at /usr/lib64/perl5/vendor_perl/5.24.0/LWP/Protocol/http.pm line 47.  Solution with constant works for me, but I don&#39;t want to use those unsecure solution fr whole servers. Any advices, thx?"}, {"owner": {"reputation": 69, "user_id": 4250997, "user_type": "registered", "accept_rate": 50, "profile_image": "https://www.gravatar.com/avatar/84b572f38cfe1f6dd5f402fb1be6175b?s=128&d=identicon&r=PG&f=1", "display_name": "Dmitry Pismennyy", "link": "https://stackoverflow.com/users/4250997/dmitry-pismennyy"}, "edited": false, "score": 0, "creation_date": 1464254989, "post_id": 37448315, "comment_id": 62413544, "body": "$ENV{&#39;PERL_NET_HTTPS_SSL_SOCKET_CLASS&#39;} = &quot;IO::Socket::SSL&quot;;  Does not work also!"}, {"owner": {"reputation": 320771, "user_id": 589924, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/b2cf53d5a3d25f95c0db4e025aed4153?s=128&d=identicon&r=PG", "display_name": "ikegami", "link": "https://stackoverflow.com/users/589924/ikegami"}, "reply_to_user": {"reputation": 69, "user_id": 4250997, "user_type": "registered", "accept_rate": 50, "profile_image": "https://www.gravatar.com/avatar/84b572f38cfe1f6dd5f402fb1be6175b?s=128&d=identicon&r=PG&f=1", "display_name": "Dmitry Pismennyy", "link": "https://stackoverflow.com/users/4250997/dmitry-pismennyy"}, "edited": false, "score": 0, "creation_date": 1464273059, "post_id": 37448315, "comment_id": 62426447, "body": "I don&#39;t think I can help you :( Do you have the latest Net::HTTP?"}, {"owner": {"reputation": 146, "user_id": 3249240, "user_type": "registered", "accept_rate": 100, "profile_image": "https://i.stack.imgur.com/v5tdF.jpg?s=128&g=1", "display_name": "RedSands", "link": "https://stackoverflow.com/users/3249240/redsands"}, "edited": false, "score": 0, "creation_date": 1476323997, "post_id": 37448315, "comment_id": 67300111, "body": "This was my issue: &quot;One way in which this could be accidentally overridden is by loading Net::SSL before loading Net::HTTPS&quot;"}], "tags": [], "owner": {"reputation": 320771, "user_id": 589924, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/b2cf53d5a3d25f95c0db4e025aed4153?s=128&d=identicon&r=PG", "display_name": "ikegami", "link": "https://stackoverflow.com/users/589924/ikegami"}, "is_accepted": false, "score": 4, "last_activity_date": 1464215180, "last_edit_date": 1464215180, "creation_date": 1464213433, "answer_id": 37448315, "question_id": 37447962, "link": "https://stackoverflow.com/questions/37447962/crypt-ssleay-cant-verify-hostnames/37448315#37448315", "title": "Crypt-SSLeay can&#39;t verify hostnames", "body": "<p>The choice can be affected by completely unrelated parts of your programs. I recommend adding the following near the top of your program:</p>\n\n<pre><code>use IO::Socket::SSL;\n</code></pre>\n\n<p>Alternatively, set var <code>PERL_NET_HTTPS_SSL_SOCKET_CLASS</code> to <code>IO::Socket::SSL</code> in the process that launches your program.</p>\n\n<pre><code>export PERL_NET_HTTPS_SSL_SOCKET_CLASS=IO::Socket::SSL\n</code></pre>\n\n<ul>\n<li><p>If your program now throws an exception, this could be why Net::SSL was being used.</p>\n\n<p>Solution: Solve that error, or settle for the less secure Net::SSL (which requires setting env var <code>PERL_LWP_SSL_VERIFY_HOSTNAME</code> to <code>0</code>).</p></li>\n<li><p>If your program now runs perfectly, then Net::SSL is being loaded elsewhere in your program, and this is skewing the decision process.</p>\n\n<p>Solution: Keep using one of the two solution.</p></li>\n</ul>\n\n<hr>\n\n<h2>Detailed version</h2>\n\n<p>That message comes from Net::HTTPS, which is used by LWP::Protocol::https, which is used by LWP::UserAgent and LWP::Simple (and thus WWW::Mechanize).</p>\n\n<p>The following is the process used by Net::HTTPS to determine which SSL class to use:</p>\n\n<pre><code>package Net::HTTPS;\n\nuse vars qw( $SSL_SOCKET_CLASS );\n\n# Figure out which SSL implementation to use\nif ($SSL_SOCKET_CLASS) {\n    # somebody already set it\n}\nelsif ($SSL_SOCKET_CLASS = $ENV{PERL_NET_HTTPS_SSL_SOCKET_CLASS}) {\n    unless ($SSL_SOCKET_CLASS =~ /^(IO::Socket::SSL|Net::SSL)\\z/) {\n        die \"Bad socket class [$SSL_SOCKET_CLASS]\";\n    }\n    eval \"require $SSL_SOCKET_CLASS\";\n    die $@ if $@;\n}\nelsif ($IO::Socket::SSL::VERSION) {\n    $SSL_SOCKET_CLASS = \"IO::Socket::SSL\"; # it was already loaded\n}\nelsif ($Net::SSL::VERSION) {\n    $SSL_SOCKET_CLASS = \"Net::SSL\";\n}\nelse {\n    eval { require IO::Socket::SSL; };\n    if ($@) {\n        my $old_errsv = $@;\n        eval {\n            require Net::SSL;  # from Crypt-SSLeay\n        };\n        if ($@) {\n            $old_errsv =~ s/\\s\\(\\@INC contains:.*\\)/)/g;\n            die $old_errsv . $@;\n        }\n        $SSL_SOCKET_CLASS = \"Net::SSL\";\n    }\n    else {\n        $SSL_SOCKET_CLASS = \"IO::Socket::SSL\";\n    }\n}\n</code></pre>\n\n<p>Generally speaking, Net::HTTPS will use IO::Socket::SSL if installed, and Net::SSL otherwise.</p>\n\n<p>One way in which this could be accidentally overridden is by loading Net::SSL before loading Net::HTTPS (<code>elsif ($Net::SSL::VERSION)</code>).</p>\n\n<pre><code># Causes the \"elsif ($Net::SSL::VERSION)\" path to be taken\nuse Net::SSL;\n</code></pre>\n\n<p>In other words, the choice can be affected by other parts of your programs.</p>\n\n<p>This can be counteracted by loading IO::Socket::SSL before loading Net::HTTPS, or by setting env var <code>PERL_NET_HTTPS_SSL_SOCKET_CLASS</code> to <code>IO::Socket::SSL</code> in the process that launches your program.</p>\n\n<p>So try adding the folowing to the top of your program:</p>\n\n<pre><code># Causes the \"elsif ($IO::Socket::SSL::VERSION)\" path to be taken\nuse IO::Socket::SSL;\n</code></pre>\n\n<p>Or try doing the following in the process that launches your program:</p>\n\n<pre><code># Causes the \"elsif ([...]$ENV{PERL_NET_HTTPS_SSL_SOCKET_CLASS})\" path to be taken\nexport PERL_NET_HTTPS_SSL_SOCKET_CLASS=IO::Socket::SSL\n</code></pre>\n"}], "owner": {"reputation": 69, "user_id": 4250997, "user_type": "registered", "accept_rate": 50, "profile_image": "https://www.gravatar.com/avatar/84b572f38cfe1f6dd5f402fb1be6175b?s=128&d=identicon&r=PG&f=1", "display_name": "Dmitry Pismennyy", "link": "https://stackoverflow.com/users/4250997/dmitry-pismennyy"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 4597, "favorite_count": 0, "answer_count": 1, "score": 1, "last_activity_date": 1465291933, "creation_date": 1464211897, "question_id": 37447962, "link": "https://stackoverflow.com/questions/37447962/crypt-ssleay-cant-verify-hostnames", "title": "Crypt-SSLeay can&#39;t verify hostnames", "body": "<p>I am not Perl guy at all. But for circumstances I have to deploy perl script on new gentoo server. Script works nicely on several other servers that were configured by another guy. So new one server I've installed by myself and have different versions for some packages. As result with given perl script I have an issue:</p>\n\n<blockquote>\n  <p>Net::SSL from Crypt-SSLeay can't verify hostnames; either install IO::Socket::SSL or turn off verification by setting the PERL_LWP_SSL_VERIFY_HOSTNAME environment variable to 0</p>\n</blockquote>\n\n<p>Actually it is installed.</p>\n\n<blockquote>\n  <p>perl -MIO::Socket::SSL -e 'print \"$IO::Socket::SSL::VERSION\\n\"'\n  2.024</p>\n</blockquote>\n\n<p>Why it does not see installed module. And what can I do on new server to fix issue without modification script? Is version difference so important?\nnew server Perl version: 5.24.0\nold server Perl version: 5.22.1</p>\n\n<p>New server:</p>\n\n<blockquote>\n  <p>perl -v</p>\n  \n  <p>This is perl 5, version 24, subversion 0 (v5.24.0) built for x86_64-linux</p>\n  \n  <p>perl -MCrypt::SSLeay -e 'print \"$Crypt::SSLeay::VERSION\\n\"'</p>\n  \n  <p>0.72</p>\n  \n  <p>perl -MIO::Socket::SSL -e 'print \"$IO::Socket::SSL::VERSION\\n\"'</p>\n  \n  <p>2.024</p>\n  \n  <p>env | grep PERL_LWP_SSL_VERIFY_HOSTNAME</p>\n  \n  <p>Old server:\n  perl -v</p>\n  \n  <p>This is perl 5, version 22, subversion 1 (v5.22.1) built for x86_64-linux</p>\n  \n  <p>network6 ~ # perl -MCrypt::SSLeay -e 'print \"$Crypt::SSLeay::VERSION\\n\"'</p>\n  \n  <p>0.72</p>\n  \n  <p>network6 ~ # perl -MIO::Socket::SSL -e 'print \"$IO::Socket::SSL::VERSION\\n\"'</p>\n  \n  <p>2.012</p>\n  \n  <p>env | grep PERL_LWP_SSL_VERIFY_HOSTNAME</p>\n</blockquote>\n"}, {"tags": ["perl"], "comments": [{"owner": {"reputation": 11381, "user_id": 4774918, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/kQQAl.jpg?s=128&g=1", "display_name": "too honest for this site", "link": "https://stackoverflow.com/users/4774918/too-honest-for-this-site"}, "edited": false, "score": 1, "creation_date": 1464210013, "post_id": 37447467, "comment_id": 62397016, "body": "Let me try a summary: You use a script to colorize output, hacked it to generate color-codes for file-output (which it does not normally) and now want to get rid of the color codes? Simple answer: Remove your hacks."}, {"owner": {"reputation": 11381, "user_id": 4774918, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/kQQAl.jpg?s=128&g=1", "display_name": "too honest for this site", "link": "https://stackoverflow.com/users/4774918/too-honest-for-this-site"}, "edited": false, "score": 0, "creation_date": 1464211360, "post_id": 37447467, "comment_id": 62397566, "body": "Please stop adding C tag. This is not related to C, but your build system. There are no &quot;C dependency files&quot;."}], "answers": [{"tags": [], "owner": {"reputation": 1, "user_id": 6383058, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/a613802b06529d43463ca27b5e90a637?s=128&d=identicon&r=PG&f=1", "display_name": "C. Massey", "link": "https://stackoverflow.com/users/6383058/c-massey"}, "is_accepted": false, "score": 0, "last_activity_date": 1464277024, "last_edit_date": 1464277024, "creation_date": 1464273008, "answer_id": 37463794, "question_id": 37447467, "link": "https://stackoverflow.com/questions/37447467/colorgcc-perl-script-with-output-to-non-tty-enabled-writing-to-c-dependency-file/37463794#37463794", "title": "colorgcc perl script with output to non-tty enabled writing to C dependency files", "body": "<p>Here's how I worked around this.  I added the following to colorgcc to search the gcc input for the flag to generate the .d files and just directly called the compiler in that case. This was inserted in place of the original TTY check.</p>\n\n<p><code>for each $argnum (0 .. $#ARGV)\n    {\n        if ($ARGV[$argnum] =~ m/-M{1,2}/)\n        {\n            exec $compiler, @ARGV\n                or die(\"Couldn't exec\");\n        }\n    }</code></p>\n\n<p>I don't know if this is the proper 'perl' way of doing this sort of operation but it seems to work.  Compiling inside directories that build .d files no longer inserts color codes and the source file builds do (both to terminal and my log files like I wanted).  I guess sometimes the answer is more hacks instead of \"hey, did you try giving up?\".</p>\n"}], "owner": {"reputation": 1, "user_id": 6383058, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/a613802b06529d43463ca27b5e90a637?s=128&d=identicon&r=PG&f=1", "display_name": "C. Massey", "link": "https://stackoverflow.com/users/6383058/c-massey"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 62, "favorite_count": 1, "answer_count": 1, "score": 0, "last_activity_date": 1464277024, "creation_date": 1464209769, "last_edit_date": 1464211318, "question_id": 37447467, "link": "https://stackoverflow.com/questions/37447467/colorgcc-perl-script-with-output-to-non-tty-enabled-writing-to-c-dependency-file", "title": "colorgcc perl script with output to non-tty enabled writing to C dependency files", "body": "<p>Ok, so here's my issue.  I have written a build script in bash that pipes output to tee and sorts different output to different log files (so I can summarize errors/warnings at the end and get some statistics on files built).  I wanted to use the colorgcc perl script (colorgcc.1.3.2) to colorize the output from gcc and had found in other places that this won't work piping to tee, since the script checks if it is writing to something that is not a tty.  Having disabled this check everything was working until I did a full build and discovered some of the code we receive from another group builds C dependency files (we don't control this code, changing it or the build process for these isn't really an option). </p>\n\n<p>The problem is that these .d files have the form as follows:<br>\n    <code>filename.o filename.d : filename.c \\<br>\n        dependant_file1.h \\<br>\n        dependant_file2.h (and so on for however many dependencies there are)</code></p>\n\n<p>This output from GCC gets written into the .d file, but, since it is close enough to a warning/error message colorgcc outputs color codes (believe it's the check for <code>filename:lineno:message</code> but not 100% sure, could be <code>filename:message</code> check in the <code>GCCOUT</code> while loop).  I've tried editing the regex to attempt to not match this but my perl-fu is admittedly pretty weak.  So what I end up with is a color code on each line for these dependency files, which obviously causes the build to fail.  </p>\n\n<p>I ended up just replacing the check for <code>! -t STDOUT</code> with a check for a NO_COLOR envar I set and unset in the build script for these directories (emulates the previous behavior of no color for non-tty).  This works great if I run the full script, but doesn't if I cd into the directory and just run make (obviously setting and unsetting manually would work but this is a pain to do every time).  Anyone have any ideas how to prevent this script from writing color codes into dependency files?</p>\n"}, {"tags": ["linux", "perl", "cpan"], "comments": [{"owner": {"reputation": 8273, "user_id": 1334695, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/431ae6e9f7610b9d6a6a6cdebd0244d5?s=128&d=identicon&r=PG", "display_name": "stevieb", "link": "https://stackoverflow.com/users/1334695/stevieb"}, "edited": false, "score": 0, "creation_date": 1464203729, "post_id": 37445683, "comment_id": 62393719, "body": "can you download the distribution manually from <a href=\"https://cpan.metacpan.org/authors/id/D/DA/DAGOLDEN/Capture-Tiny-0.40.tar.gz\" rel=\"nofollow noreferrer\">here</a>, and then run <code>cpanm Capture-Tiny-0.40.tar.gz</code>?"}, {"owner": {"reputation": 21782, "user_id": 176646, "user_type": "registered", "accept_rate": 88, "profile_image": "https://i.stack.imgur.com/HsQyV.png?s=128&g=1", "display_name": "ThisSuitIsBlackNot", "link": "https://stackoverflow.com/users/176646/thissuitisblacknot"}, "edited": false, "score": 2, "creation_date": 1464203811, "post_id": 37445683, "comment_id": 62393759, "body": "Strange that it&#39;s looking for <code>authors&#47;id&#47;C&#47;C&#47;&#47;C&#47;Ca&#47;Capture&#47;Tiny</code>, it should be <code>authors&#47;id&#47;D&#47;DA&#47;DAGOLDEN&#47;</code>. Does this happen for every mirror you&#39;ve tried?"}, {"owner": {"reputation": 8273, "user_id": 1334695, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/431ae6e9f7610b9d6a6a6cdebd0244d5?s=128&d=identicon&r=PG", "display_name": "stevieb", "link": "https://stackoverflow.com/users/1334695/stevieb"}, "reply_to_user": {"reputation": 21782, "user_id": 176646, "user_type": "registered", "accept_rate": 88, "profile_image": "https://i.stack.imgur.com/HsQyV.png?s=128&g=1", "display_name": "ThisSuitIsBlackNot", "link": "https://stackoverflow.com/users/176646/thissuitisblacknot"}, "edited": false, "score": 2, "creation_date": 1464203889, "post_id": 37445683, "comment_id": 62393794, "body": "Good point, @ThisSuitIsBlackNot! I just noticed that the OP is using <code>cpan Capture&#47;Tiny</code>, and not <code>cpan Capture::Tiny</code>, which causes that issue"}, {"owner": {"reputation": 21782, "user_id": 176646, "user_type": "registered", "accept_rate": 88, "profile_image": "https://i.stack.imgur.com/HsQyV.png?s=128&g=1", "display_name": "ThisSuitIsBlackNot", "link": "https://stackoverflow.com/users/176646/thissuitisblacknot"}, "reply_to_user": {"reputation": 8273, "user_id": 1334695, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/431ae6e9f7610b9d6a6a6cdebd0244d5?s=128&d=identicon&r=PG", "display_name": "stevieb", "link": "https://stackoverflow.com/users/1334695/stevieb"}, "edited": false, "score": 0, "creation_date": 1464204015, "post_id": 37445683, "comment_id": 62393868, "body": "@stevieb *facepalm* Can&#39;t believe I missed that."}, {"owner": {"reputation": 8273, "user_id": 1334695, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/431ae6e9f7610b9d6a6a6cdebd0244d5?s=128&d=identicon&r=PG", "display_name": "stevieb", "link": "https://stackoverflow.com/users/1334695/stevieb"}, "edited": false, "score": 0, "creation_date": 1464204028, "post_id": 37445683, "comment_id": 62393876, "body": "I can&#39;t believe I missed the DAGOLDEN piece ;)"}, {"owner": {"reputation": 5139, "user_id": 3293148, "user_type": "registered", "accept_rate": 99, "profile_image": "https://www.gravatar.com/avatar/a5b0a16cfd67f7e3944d886fd1bebde5?s=128&d=identicon&r=PG", "display_name": "Jasmine Lognnes", "link": "https://stackoverflow.com/users/3293148/jasmine-lognnes"}, "edited": false, "score": 0, "creation_date": 1464204068, "post_id": 37445683, "comment_id": 62393908, "body": "I will never do that mistake again =)"}, {"owner": {"reputation": 228853, "user_id": 827263, "user_type": "registered", "accept_rate": 54, "profile_image": "https://www.gravatar.com/avatar/216c1db53d752f87dd8176a6ba0c2190?s=128&d=identicon&r=PG", "display_name": "Keith Thompson", "link": "https://stackoverflow.com/users/827263/keith-thompson"}, "edited": false, "score": 0, "creation_date": 1464204107, "post_id": 37445683, "comment_id": 62393933, "body": "On Ubuntu and Linux Mint (and probably other distributions), it&#39;s available as a package: <code>sudo apt-get install libcapture-tiny-perl</code>"}], "answers": [{"tags": [], "owner": {"reputation": 8273, "user_id": 1334695, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/431ae6e9f7610b9d6a6a6cdebd0244d5?s=128&d=identicon&r=PG", "display_name": "stevieb", "link": "https://stackoverflow.com/users/1334695/stevieb"}, "is_accepted": false, "score": 8, "last_activity_date": 1464203968, "creation_date": 1464203968, "answer_id": 37445873, "question_id": 37445683, "link": "https://stackoverflow.com/questions/37445683/why-do-i-get-404-not-found-and-failed-to-change-directory-errors-when-i-try/37445873#37445873", "title": "Why do I get &quot;404 Not Found&quot; and &quot;Failed to change directory&quot; errors when I try to install a Perl module with cpan?", "body": "<p>Try changing your command from <code>cpan Capture/Tiny</code> to <code>cpan Capture::Tiny</code>. If that fails, download the tarball from <a href=\"https://cpan.metacpan.org/authors/id/D/DA/DAGOLDEN/Capture-Tiny-0.40.tar.gz\">here</a>, and then run <code>cpanm Capture-Tiny-0.40.tar.gz</code></p>\n"}, {"tags": [], "owner": {"reputation": 21782, "user_id": 176646, "user_type": "registered", "accept_rate": 88, "profile_image": "https://i.stack.imgur.com/HsQyV.png?s=128&g=1", "display_name": "ThisSuitIsBlackNot", "link": "https://stackoverflow.com/users/176646/thissuitisblacknot"}, "is_accepted": true, "score": 4, "last_activity_date": 1464215673, "last_edit_date": 1464215673, "creation_date": 1464214655, "answer_id": 37448575, "question_id": 37445683, "link": "https://stackoverflow.com/questions/37445683/why-do-i-get-404-not-found-and-failed-to-change-directory-errors-when-i-try/37448575#37448575", "title": "Why do I get &quot;404 Not Found&quot; and &quot;Failed to change directory&quot; errors when I try to install a Perl module with cpan?", "body": "<p>You ran:</p>\n\n<pre><code>cpan Capture/Tiny\n#           ^-- notice the slash\n</code></pre>\n\n<p>The slash tells <code>cpan</code> to look for the distribution file at the specified path. In this case, <code>cpan</code> searches for the distribution file <code>Tiny</code> by author <code>Capture</code>. This doesn't exist, so the download fails.</p>\n\n<p>Passing a path (<code>Foo/Bar</code>) instead of a module name (<code>Foo::Bar</code>) lets you <a href=\"https://metacpan.org/pod/CPAN#The-four-CPAN::-Classes:-Author-Bundle-Module-Distribution\" rel=\"nofollow\">install a specific version</a> of a distribution. To install <a href=\"https://cpan.metacpan.org/authors/id/D/DA/DAGOLDEN/Capture-Tiny-0.41-TRIAL.tar.gz\" rel=\"nofollow\">Capture-Tiny-0.41-TRIAL</a>, which is a development version, you would run:</p>\n\n<pre><code>cpan DAGOLDEN/Capture-Tiny-0.41-TRIAL.tar.gz\n</code></pre>\n\n<p>But you probably just wanted to install the latest non-development version of Capture::Tiny, so you should run:</p>\n\n<pre><code>cpan Capture::Tiny\n</code></pre>\n"}], "owner": {"reputation": 5139, "user_id": 3293148, "user_type": "registered", "accept_rate": 99, "profile_image": "https://www.gravatar.com/avatar/a5b0a16cfd67f7e3944d886fd1bebde5?s=128&d=identicon&r=PG", "display_name": "Jasmine Lognnes", "link": "https://stackoverflow.com/users/3293148/jasmine-lognnes"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 464, "favorite_count": 0, "accepted_answer_id": 37448575, "answer_count": 2, "score": 1, "last_activity_date": 1464215673, "creation_date": 1464203371, "last_edit_date": 1464215588, "question_id": 37445683, "link": "https://stackoverflow.com/questions/37445683/why-do-i-get-404-not-found-and-failed-to-change-directory-errors-when-i-try", "title": "Why do I get &quot;404 Not Found&quot; and &quot;Failed to change directory&quot; errors when I try to install a Perl module with cpan?", "body": "<p>I tried to install <code>Capture::Tiny</code> with this command:</p>\n\n<pre><code>cpan Capture/Tiny\n</code></pre>\n\n<p>But the installation fails with the following output:</p>\n\n<pre><code>Reading '/root/.cpan/Metadata'\n  Database was generated on Wed, 25 May 2016 08:17:02 GMT\nRunning make for C/C//C/Ca/Capture/Tiny\nFetching with HTTP::Tiny:\nhttp://mirrors.dotsrc.org/cpan/authors/id/C/C//C/Ca/Capture/Tiny\nHTTP::Tiny failed with code[404] message[Not Found]\nFetching with HTTP::Tiny:\nhttp://mirrors.dotsrc.org/cpan/authors/id/C/C//C/Ca/Capture/Tiny.gz\nHTTP::Tiny failed with code[404] message[Not Found]\n\nTrying with\n    /usr/bin/wget -O \"/root/.cpan/sources/authors/id/C/C/C/Ca/Capture/Tiny.tmp1548\"\nto get\n    http://mirrors.dotsrc.org/cpan/authors/id/C/C//C/Ca/Capture/Tiny\n--2016-05-25 21:07:02--  http://mirrors.dotsrc.org/cpan/authors/id/C/C//C/Ca/Capture/Tiny\nResolving mirrors.dotsrc.org (mirrors.dotsrc.org)... 130.225.254.116, 2001:878:346::116\nConnecting to mirrors.dotsrc.org (mirrors.dotsrc.org)|130.225.254.116|:80... connected.\nHTTP request sent, awaiting response... 404 Not Found\n2016-05-25 21:07:02 ERROR 404: Not Found.\n\n\n    Function system(\"/usr/bin/wget -O \"/root/.cpan/sources/authors/id/C/C/C/Ca/Capture/Tiny.tmp1548\" \"http://mirrors.dotsrc.org/cpan/authors/id/C/C//C/Ca/Capture/Tiny\" \")\n    returned status 8 (wstat 2048), left\n/root/.cpan/sources/authors/id/C/C/C/Ca/Capture/Tiny.tmp1548 with size 0\n    Warning: no success downloading '/root/.cpan/sources/authors/id/C/C/C/Ca/Capture/Tiny.tmp1548'. Giving up on it.\nFetching with Net::FTP:\nftp://mirrors.dotsrc.org/cpan/authors/id/C/C//C/Ca/Capture/Tiny\n  Couldn't cwd cpan/authors/id/C/C/C/Ca/Capture: Failed to change directory.\n\nFetching with Net::FTP\nftp://mirrors.dotsrc.org/cpan/authors/id/C/C//C/Ca/Capture/Tiny.gz\n  Couldn't cwd cpan/authors/id/C/C/C/Ca/Capture: Failed to change directory.\n\n\nTrying with\n    /usr/bin/wget -O \"/root/.cpan/sources/authors/id/C/C/C/Ca/Capture/Tiny.tmp1548\"\nto get\n    ftp://mirrors.dotsrc.org/cpan/authors/id/C/C//C/Ca/Capture/Tiny\n--2016-05-25 21:07:03--  ftp://mirrors.dotsrc.org/cpan/authors/id/C/C//C/Ca/Capture/Tiny\n           =&gt; \u2018/root/.cpan/sources/authors/id/C/C/C/Ca/Capture/Tiny.tmp1548\u2019\nResolving mirrors.dotsrc.org (mirrors.dotsrc.org)... 130.225.254.116, 2001:878:346::116\nConnecting to mirrors.dotsrc.org (mirrors.dotsrc.org)|130.225.254.116|:21... connected.\nLogging in as anonymous ... Logged in!\n==&gt; SYST ... done.    ==&gt; PWD ... done.\n==&gt; TYPE I ... done.  ==&gt; CWD (1) /cpan/authors/id/C/C//C/Ca/Capture ... \nNo such directory \u2018cpan/authors/id/C/C//C/Ca/Capture\u2019.\n\n\n    Function system(\"/usr/bin/wget -O \"/root/.cpan/sources/authors/id/C/C/C/Ca/Capture/Tiny.tmp1548\" \"ftp://mirrors.dotsrc.org/cpan/authors/id/C/C//C/Ca/Capture/Tiny\" \")\n    returned status 8 (wstat 2048), left\n/root/.cpan/sources/authors/id/C/C/C/Ca/Capture/Tiny.tmp1548 with size 0\n    Warning: no success downloading '/root/.cpan/sources/authors/id/C/C/C/Ca/Capture/Tiny.tmp1548'. Giving up on it.\n\nTrying with\n    /usr/bin/wget -O \"/root/.cpan/sources/authors/id/C/C/C/Ca/Capture/Tiny.tmp1548\"\nto get\n    http://mirrors.dotsrc.org/cpan/authors/id/C/C//C/Ca/Capture/Tiny\n--2016-05-25 21:07:03--  http://mirrors.dotsrc.org/cpan/authors/id/C/C//C/Ca/Capture/Tiny\nResolving mirrors.dotsrc.org (mirrors.dotsrc.org)... 130.225.254.116, 2001:878:346::116\nConnecting to mirrors.dotsrc.org (mirrors.dotsrc.org)|130.225.254.116|:80... connected.\nHTTP request sent, awaiting response... 404 Not Found\n2016-05-25 21:07:03 ERROR 404: Not Found.\n\n\n    Function system(\"/usr/bin/wget -O \"/root/.cpan/sources/authors/id/C/C/C/Ca/Capture/Tiny.tmp1548\" \"http://mirrors.dotsrc.org/cpan/authors/id/C/C//C/Ca/Capture/Tiny\" \")\n    returned status 8 (wstat 2048), left\n/root/.cpan/sources/authors/id/C/C/C/Ca/Capture/Tiny.tmp1548 with size 0\n\nTrying with\n    /usr/bin/wget -O \"/root/.cpan/sources/authors/id/C/C/C/Ca/Capture/Tiny.tmp1548\"\nto get\n    ftp://mirrors.dotsrc.org/cpan/authors/id/C/C//C/Ca/Capture/Tiny\n--2016-05-25 21:07:03--  ftp://mirrors.dotsrc.org/cpan/authors/id/C/C//C/Ca/Capture/Tiny\n           =&gt; \u2018/root/.cpan/sources/authors/id/C/C/C/Ca/Capture/Tiny.tmp1548\u2019\nResolving mirrors.dotsrc.org (mirrors.dotsrc.org)... 130.225.254.116, 2001:878:346::116\nConnecting to mirrors.dotsrc.org (mirrors.dotsrc.org)|130.225.254.116|:21... connected.\nLogging in as anonymous ... Logged in!\n==&gt; SYST ... done.    ==&gt; PWD ... done.\n==&gt; TYPE I ... done.  ==&gt; CWD (1) /cpan/authors/id/C/C//C/Ca/Capture ... \nNo such directory \u2018cpan/authors/id/C/C//C/Ca/Capture\u2019.\n\n\n    Function system(\"/usr/bin/wget -O \"/root/.cpan/sources/authors/id/C/C/C/Ca/Capture/Tiny.tmp1548\" \"ftp://mirrors.dotsrc.org/cpan/authors/id/C/C//C/Ca/Capture/Tiny\" \")\n    returned status 8 (wstat 2048), left\n/root/.cpan/sources/authors/id/C/C/C/Ca/Capture/Tiny.tmp1548 with size 0\n    Warning: no success downloading '/root/.cpan/sources/authors/id/C/C/C/Ca/Capture/Tiny.tmp1548'. Giving up on it.\nNo external ftp command available\n\nFetching with HTTP::Tiny:\nhttp://mirrors.dotsrc.org/cpan/authors/id/C/C//C/Ca/Capture/Tiny\nHTTP::Tiny failed with code[404] message[Not Found]\nFetching with HTTP::Tiny:\nhttp://mirrors.dotsrc.org/cpan/authors/id/C/C//C/Ca/Capture/Tiny.gz\nHTTP::Tiny failed with code[404] message[Not Found]\n\nTrying with\n    /usr/bin/wget -O \"/root/.cpan/sources/authors/id/C/C/C/Ca/Capture/Tiny.tmp1548\"\nto get\n    http://mirrors.dotsrc.org/cpan/authors/id/C/C//C/Ca/Capture/Tiny\n--2016-05-25 21:07:03--  http://mirrors.dotsrc.org/cpan/authors/id/C/C//C/Ca/Capture/Tiny\nResolving mirrors.dotsrc.org (mirrors.dotsrc.org)... 130.225.254.116, 2001:878:346::116\nConnecting to mirrors.dotsrc.org (mirrors.dotsrc.org)|130.225.254.116|:80... connected.\nHTTP request sent, awaiting response... 404 Not Found\n2016-05-25 21:07:03 ERROR 404: Not Found.\n\n\n    Function system(\"/usr/bin/wget -O \"/root/.cpan/sources/authors/id/C/C/C/Ca/Capture/Tiny.tmp1548\" \"http://mirrors.dotsrc.org/cpan/authors/id/C/C//C/Ca/Capture/Tiny\" \")\n    returned status 8 (wstat 2048), left\n/root/.cpan/sources/authors/id/C/C/C/Ca/Capture/Tiny.tmp1548 with size 0\n    Warning: no success downloading '/root/.cpan/sources/authors/id/C/C/C/Ca/Capture/Tiny.tmp1548'. Giving up on it.\n\nTrying with\n    /usr/bin/wget -O \"/root/.cpan/sources/authors/id/C/C/C/Ca/Capture/Tiny.tmp1548\"\nto get\n    http://mirrors.dotsrc.org/cpan/authors/id/C/C//C/Ca/Capture/Tiny\n--2016-05-25 21:07:03--  http://mirrors.dotsrc.org/cpan/authors/id/C/C//C/Ca/Capture/Tiny\nResolving mirrors.dotsrc.org (mirrors.dotsrc.org)... 130.225.254.116, 2001:878:346::116\nConnecting to mirrors.dotsrc.org (mirrors.dotsrc.org)|130.225.254.116|:80... connected.\nHTTP request sent, awaiting response... 404 Not Found\n2016-05-25 21:07:03 ERROR 404: Not Found.\n\n\n    Function system(\"/usr/bin/wget -O \"/root/.cpan/sources/authors/id/C/C/C/Ca/Capture/Tiny.tmp1548\" \"http://mirrors.dotsrc.org/cpan/authors/id/C/C//C/Ca/Capture/Tiny\" \")\n    returned status 8 (wstat 2048), left\n/root/.cpan/sources/authors/id/C/C/C/Ca/Capture/Tiny.tmp1548 with size 0\n    Warning: no success downloading '/root/.cpan/sources/authors/id/C/C/C/Ca/Capture/Tiny.tmp1548'. Giving up on it.\nFetching with Net::FTP:\nftp://mirrors.dotsrc.org/cpan/authors/id/C/C//C/Ca/Capture/Tiny\n  Couldn't cwd cpan/authors/id/C/C/C/Ca/Capture: Failed to change directory.\n\nFetching with Net::FTP\nftp://mirrors.dotsrc.org/cpan/authors/id/C/C//C/Ca/Capture/Tiny.gz\n  Couldn't cwd cpan/authors/id/C/C/C/Ca/Capture: Failed to change directory.\n\n\nTrying with\n    /usr/bin/wget -O \"/root/.cpan/sources/authors/id/C/C/C/Ca/Capture/Tiny.tmp1548\"\nto get\n    ftp://mirrors.dotsrc.org/cpan/authors/id/C/C//C/Ca/Capture/Tiny\n--2016-05-25 21:07:03--  ftp://mirrors.dotsrc.org/cpan/authors/id/C/C//C/Ca/Capture/Tiny\n           =&gt; \u2018/root/.cpan/sources/authors/id/C/C/C/Ca/Capture/Tiny.tmp1548\u2019\nResolving mirrors.dotsrc.org (mirrors.dotsrc.org)... 130.225.254.116, 2001:878:346::116\nConnecting to mirrors.dotsrc.org (mirrors.dotsrc.org)|130.225.254.116|:21... connected.\nLogging in as anonymous ... Logged in!\n==&gt; SYST ... done.    ==&gt; PWD ... done.\n==&gt; TYPE I ... done.  ==&gt; CWD (1) /cpan/authors/id/C/C//C/Ca/Capture ... \nNo such directory \u2018cpan/authors/id/C/C//C/Ca/Capture\u2019.\n\n\n    Function system(\"/usr/bin/wget -O \"/root/.cpan/sources/authors/id/C/C/C/Ca/Capture/Tiny.tmp1548\" \"ftp://mirrors.dotsrc.org/cpan/authors/id/C/C//C/Ca/Capture/Tiny\" \")\n    returned status 8 (wstat 2048), left\n/root/.cpan/sources/authors/id/C/C/C/Ca/Capture/Tiny.tmp1548 with size 0\n    Warning: no success downloading '/root/.cpan/sources/authors/id/C/C/C/Ca/Capture/Tiny.tmp1548'. Giving up on it.\n\nTrying with\n    /usr/bin/wget -O \"/root/.cpan/sources/authors/id/C/C/C/Ca/Capture/Tiny.tmp1548\"\nto get\n    ftp://mirrors.dotsrc.org/cpan/authors/id/C/C//C/Ca/Capture/Tiny\n--2016-05-25 21:07:03--  ftp://mirrors.dotsrc.org/cpan/authors/id/C/C//C/Ca/Capture/Tiny\n           =&gt; \u2018/root/.cpan/sources/authors/id/C/C/C/Ca/Capture/Tiny.tmp1548\u2019\nResolving mirrors.dotsrc.org (mirrors.dotsrc.org)... 130.225.254.116, 2001:878:346::116\nConnecting to mirrors.dotsrc.org (mirrors.dotsrc.org)|130.225.254.116|:21... connected.\nLogging in as anonymous ... Logged in!\n==&gt; SYST ... done.    ==&gt; PWD ... done.\n==&gt; TYPE I ... done.  ==&gt; CWD (1) /cpan/authors/id/C/C//C/Ca/Capture ... \nNo such directory \u2018cpan/authors/id/C/C//C/Ca/Capture\u2019.\n\n\n    Function system(\"/usr/bin/wget -O \"/root/.cpan/sources/authors/id/C/C/C/Ca/Capture/Tiny.tmp1548\" \"ftp://mirrors.dotsrc.org/cpan/authors/id/C/C//C/Ca/Capture/Tiny\" \")\n    returned status 8 (wstat 2048), left\n/root/.cpan/sources/authors/id/C/C/C/Ca/Capture/Tiny.tmp1548 with size 0\n    Warning: no success downloading '/root/.cpan/sources/authors/id/C/C/C/Ca/Capture/Tiny.tmp1548'. Giving up on it.\nNo external ftp command available\n\nPlease check, if the URLs I found in your configuration file\n(http://mirrors.dotsrc.org/cpan/, ftp://mirrors.dotsrc.org/cpan/) are\nvalid. The urllist can be edited. E.g. with 'o conf urllist push\nftp://myurl/'\n\nCould not fetch authors/id/C/C//C/Ca/Capture/Tiny\n</code></pre>\n\n<p>I've tried multiple mirrors but they all give the same errors. How can I fix this?</p>\n"}, {"tags": ["perl", "file-handling"], "comments": [{"owner": {"reputation": 123805, "user_id": 622310, "user_type": "registered", "accept_rate": 33, "profile_image": "https://www.gravatar.com/avatar/8b6d35219e1808520bc238b28161e2e6?s=128&d=identicon&r=PG", "display_name": "Borodin", "link": "https://stackoverflow.com/users/622310/borodin"}, "edited": false, "score": 1, "creation_date": 1464206030, "post_id": 37444748, "comment_id": 62394925, "body": "I think you should be seeking help to improve your existing code so that it works. It isn&#39;t that far off, but you are mixing Python syntax into a Perl program, and the result won&#39;t compile. What languages do you know? How would you prefer an answer to be phrased?"}], "answers": [{"tags": [], "owner": {"reputation": 320771, "user_id": 589924, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/b2cf53d5a3d25f95c0db4e025aed4153?s=128&d=identicon&r=PG", "display_name": "ikegami", "link": "https://stackoverflow.com/users/589924/ikegami"}, "is_accepted": true, "score": 5, "last_activity_date": 1464200319, "creation_date": 1464200319, "answer_id": 37444840, "question_id": 37444748, "link": "https://stackoverflow.com/questions/37444748/perl-script-to-count-number-of-each-occurrence-in-a-column/37444840#37444840", "title": "Perl script to count number of each occurrence in a column", "body": "<pre><code>$ sort file | uniq -c\n      1 +bat man\n      3 bat man\n      1 bat man and friends\n      1 cat man\n      2 cat woman and bain\n      1 fat man\n      2 hat woman\n      1 super bat man\n</code></pre>\n\n<p>or</p>\n\n<pre><code>$ perl -e'\n   ++$h{$_} while &lt;&gt;;\n   printf \"%7d %s\", $h{$_}, $_ for sort keys(%h);\n' file\n      1 +bat man\n      3 bat man\n      1 bat man and friends\n      1 cat man\n      2 cat woman and bain\n      1 fat man\n      2 hat woman\n      1 super bat man\n</code></pre>\n\n<p>Replace <code>sort</code> with <code>sort { $h{$b} &lt;=&gt; $h{$a} || $a cmp $b }</code> to sort the output be descending count.</p>\n"}, {"tags": [], "owner": {"reputation": 1, "user_id": 6355285, "user_type": "registered", "profile_image": "https://lh5.googleusercontent.com/-HwTZU7XmR4A/AAAAAAAAAAI/AAAAAAAAAS4/lzqqk4oJurs/photo.jpg?sz=128", "display_name": "Chris_", "link": "https://stackoverflow.com/users/6355285/chris"}, "is_accepted": false, "score": 0, "last_activity_date": 1464268332, "creation_date": 1464268332, "answer_id": 37461884, "question_id": 37444748, "link": "https://stackoverflow.com/questions/37444748/perl-script-to-count-number-of-each-occurrence-in-a-column/37461884#37461884", "title": "Perl script to count number of each occurrence in a column", "body": "<p>I would do:</p>\n\n<pre><code>open INFILE, \"&lt;\", \"input.txt\";\nopen OUTFILE, \"+&gt;\", \"output.txt\";\nmy %hash;\nforeach my $line (&lt;INFILE&gt;){\n    chomp $line; # Remove trailing newline\n    $hash{$line}++;\n}\n\nwhile (my($key,$val) = each %hash) {\n    print OUTFILE \"$val - $key\"\n}\n</code></pre>\n"}], "owner": {"reputation": 414, "user_id": 6331353, "user_type": "registered", "accept_rate": 70, "profile_image": "https://www.gravatar.com/avatar/cd7f6cc42c46c3a65c58ff594d962597?s=128&d=identicon&r=PG&f=1", "display_name": "Sam", "link": "https://stackoverflow.com/users/6331353/sam"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 162, "favorite_count": 1, "closed_date": 1464847592, "accepted_answer_id": 37444840, "answer_count": 2, "score": 0, "last_activity_date": 1464268332, "creation_date": 1464200025, "question_id": 37444748, "link": "https://stackoverflow.com/questions/37444748/perl-script-to-count-number-of-each-occurrence-in-a-column", "closed_reason": "Needs more focus", "title": "Perl script to count number of each occurrence in a column", "body": "<p>I want to count the amount of times each line occurs in a file</p>\n\n<p>Given a column of info like</p>\n\n<pre><code>cat woman and bain\nbat man\nhat woman\ncat man\nbat man and friends\nfat man\nhat woman\n+bat man\ncat woman and bain\nsuper bat man\nbat man\nbat man\n</code></pre>\n\n<p>I want to receive something like</p>\n\n<pre><code>2 cat woman and bain \n3 bat man\n2 hat woman\n1 cat man\n1 bat man and friends\n1 fat man\n1 +bat man\n1 super bat man\n</code></pre>\n\n<p>I kind of have some unfinished code like </p>\n\n<pre><code>open OUTFILE, '&gt;text.txt';\nwhile (&lt;&gt;){\n        if( text.txt =~ $_ ){\n                #increment the count for this occurence\n        }else{\n                print OUTFILE $_;\n        }\n}\n</code></pre>\n"}, {"tags": ["perl", "datetime"], "comments": [{"owner": {"reputation": 6068, "user_id": 1799189, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/s4Pcu.jpg?s=128&g=1", "display_name": "xxfelixxx", "link": "https://stackoverflow.com/users/1799189/xxfelixxx"}, "edited": false, "score": 0, "creation_date": 1464196707, "post_id": 37443718, "comment_id": 62389796, "body": "Use Time::HiRes to get microseconds:  <a href=\"http://perldoc.perl.org/Time/HiRes.html\" rel=\"nofollow noreferrer\">perldoc.perl.org/Time/HiRes.html</a>"}, {"owner": {"reputation": 167, "user_id": 298943, "user_type": "registered", "accept_rate": 17, "profile_image": "https://www.gravatar.com/avatar/9006ed3815f7bd22557e346592a85f7d?s=128&d=identicon&r=PG", "display_name": "ruby", "link": "https://stackoverflow.com/users/298943/ruby"}, "reply_to_user": {"reputation": 6068, "user_id": 1799189, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/s4Pcu.jpg?s=128&g=1", "display_name": "xxfelixxx", "link": "https://stackoverflow.com/users/1799189/xxfelixxx"}, "edited": false, "score": 0, "creation_date": 1464196758, "post_id": 37443718, "comment_id": 62389821, "body": "HH:MM:SS.&lt;microseconds&gt;"}, {"owner": {"reputation": 21782, "user_id": 176646, "user_type": "registered", "accept_rate": 88, "profile_image": "https://i.stack.imgur.com/HsQyV.png?s=128&g=1", "display_name": "ThisSuitIsBlackNot", "link": "https://stackoverflow.com/users/176646/thissuitisblacknot"}, "edited": false, "score": 0, "creation_date": 1464196874, "post_id": 37443718, "comment_id": 62389886, "body": "@ruby Sorry, I see it now. The editor was stripping <code>&lt;microseconds&gt;</code> because it thought it was an HTML tag. In the future, please format your input, output, and code as I&#39;ve done above to avoid this kind of confusion."}, {"owner": {"reputation": 167, "user_id": 298943, "user_type": "registered", "accept_rate": 17, "profile_image": "https://www.gravatar.com/avatar/9006ed3815f7bd22557e346592a85f7d?s=128&d=identicon&r=PG", "display_name": "ruby", "link": "https://stackoverflow.com/users/298943/ruby"}, "edited": false, "score": 0, "creation_date": 1464196911, "post_id": 37443718, "comment_id": 62389903, "body": "Any example for TimeHires which i can refer as i tried using gettimeofday() but it did not work"}, {"owner": {"reputation": 52334, "user_id": 702638, "user_type": "registered", "accept_rate": 98, "profile_image": "https://www.gravatar.com/avatar/892f65bc0a8a0949ab88598de7d83cab?s=128&d=identicon&r=PG", "display_name": "Hunter McMillen", "link": "https://stackoverflow.com/users/702638/hunter-mcmillen"}, "edited": false, "score": 0, "creation_date": 1464197160, "post_id": 37443718, "comment_id": 62390038, "body": "@ruby <a href=\"https://metacpan.org/pod/Time::HiRes\" rel=\"nofollow noreferrer\">metacpan.org/pod/Time::HiRes</a>"}, {"owner": {"reputation": 2565, "user_id": 4593127, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/d661b3425b0e9cd38ee220844e1b8659?s=128&d=identicon&r=PG&f=1", "display_name": "gaganso", "link": "https://stackoverflow.com/users/4593127/gaganso"}, "edited": false, "score": 0, "creation_date": 1464198354, "post_id": 37443718, "comment_id": 62390708, "body": "@ruby, seems to provide the solution - <a href=\"http://stackoverflow.com/questions/7997819/get-time-in-milliseconds-without-an-installing-an-extra-package\" title=\"get time in milliseconds without an installing an extra package\">stackoverflow.com/questions/7997819/&hellip;</a>"}], "answers": [{"comments": [{"owner": {"reputation": 167, "user_id": 298943, "user_type": "registered", "accept_rate": 17, "profile_image": "https://www.gravatar.com/avatar/9006ed3815f7bd22557e346592a85f7d?s=128&d=identicon&r=PG", "display_name": "ruby", "link": "https://stackoverflow.com/users/298943/ruby"}, "edited": false, "score": 0, "creation_date": 1464199532, "post_id": 37444288, "comment_id": 62391397, "body": "my $epoch = time(); my $microsecs = ($epoch - int($epoch)) *1e6;  my $finaltime = sprintf(&quot;%s.%.0f&quot;,POSIX::strftime(&quot;%Y-%m-%d %H:%M:%S&quot;,localtime(time),$microsecs)  It prints finaltime as 2016-05-25 13:20:20.146167500000 (microseonds value is too long and i want upto 6 digits only )"}, {"owner": {"reputation": 167, "user_id": 298943, "user_type": "registered", "accept_rate": 17, "profile_image": "https://www.gravatar.com/avatar/9006ed3815f7bd22557e346592a85f7d?s=128&d=identicon&r=PG", "display_name": "ruby", "link": "https://stackoverflow.com/users/298943/ruby"}, "edited": false, "score": 0, "creation_date": 1464200119, "post_id": 37444288, "comment_id": 62391716, "body": "Thank you for your help. I saw reply late :("}], "tags": [], "owner": {"reputation": 320771, "user_id": 589924, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/b2cf53d5a3d25f95c0db4e025aed4153?s=128&d=identicon&r=PG", "display_name": "ikegami", "link": "https://stackoverflow.com/users/589924/ikegami"}, "is_accepted": true, "score": 3, "last_activity_date": 1464200092, "last_edit_date": 1464200092, "creation_date": 1464198335, "answer_id": 37444288, "question_id": 37443718, "link": "https://stackoverflow.com/questions/37443718/how-can-i-display-the-current-date-and-time-including-microseconds/37444288#37444288", "title": "How can I display the current date and time, including microseconds?", "body": "<p>To get what you want,</p>\n\n<pre><code>use POSIX       qw( strftime );\nuse Time::HiRes qw( time );\n\nmy $epoch = time();\nmy $microsecs = ($epoch - int($epoch)) *1e6;\n\nsay strftime(\"%d-%m-%Y %H:%M:%S\", localtime($epoch)) . \".\" . sprintf(\"%06.0f\", $microsecs);\n</code></pre>\n\n<p>Output:</p>\n\n<pre><code>25-05-2016 10:50:01.088676\n</code></pre>\n\n<p><code>sprintf</code> is used to pad and round to the nearest microsecond.</p>\n\n<hr>\n\n<p>Alternative:</p>\n\n<pre><code>use POSIX       qw( strftime );\nuse Time::HiRes qw( gettimeofday );\n\nmy ($epoch, $microsecs) = gettimeofday();\n\nsay strftime(\"%d-%m-%Y %H:%M:%S\", localtime($epoch)) . \".\" . sprintf(\"%06d\", $microsecs);\n</code></pre>\n"}, {"tags": [], "owner": {"reputation": 6068, "user_id": 1799189, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/s4Pcu.jpg?s=128&g=1", "display_name": "xxfelixxx", "link": "https://stackoverflow.com/users/1799189/xxfelixxx"}, "is_accepted": false, "score": 5, "last_activity_date": 1464198800, "last_edit_date": 1464198800, "creation_date": 1464198340, "answer_id": 37444291, "question_id": 37443718, "link": "https://stackoverflow.com/questions/37443718/how-can-i-display-the-current-date-and-time-including-microseconds/37444291#37444291", "title": "How can I display the current date and time, including microseconds?", "body": "<p>Use <a href=\"http://perldoc.perl.org/Time/HiRes.html\" rel=\"noreferrer\">Time::HiRes</a></p>\n\n<p>Example:</p>\n\n<pre><code>#!/usr/bin/env perl                                                                             \n\nuse strict;\nuse warnings;\n\nuse Time::HiRes qw( time );\nuse DateTime;\n\nfor (1..3) {\n    my $dt = DateTime-&gt;from_epoch( epoch =&gt; time() );\n    print $dt-&gt;strftime(\"%d-%m-%Y %H:%M:%S.%6N\") . \"\\n\";\n    sleep 1;\n}\n</code></pre>\n\n<p>Output:</p>\n\n<pre><code>25-05-2016 17:42:16.411722\n25-05-2016 17:42:17.414295\n25-05-2016 17:42:18.415920\n</code></pre>\n"}], "owner": {"reputation": 167, "user_id": 298943, "user_type": "registered", "accept_rate": 17, "profile_image": "https://www.gravatar.com/avatar/9006ed3815f7bd22557e346592a85f7d?s=128&d=identicon&r=PG", "display_name": "ruby", "link": "https://stackoverflow.com/users/298943/ruby"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 1366, "favorite_count": 1, "accepted_answer_id": 37444288, "answer_count": 2, "score": 3, "last_activity_date": 1464200092, "creation_date": 1464196485, "last_edit_date": 1464196761, "question_id": 37443718, "link": "https://stackoverflow.com/questions/37443718/how-can-i-display-the-current-date-and-time-including-microseconds", "title": "How can I display the current date and time, including microseconds?", "body": "<p>I need to display the date in the following format in one of my programs:</p>\n\n<pre><code>day - month - year \"HH:MM:SS\". &lt;microseconds&gt;\n</code></pre>\n\n<p>I am using Perl 5.8 and I have tried using epoch seconds and converting the time to microseconds like this:</p>\n\n<pre><code>my $epoch = time();\nmy $time1 = ($epoch - int($epoch)) *1e6\n</code></pre>\n\n<p>But I am getting this output:</p>\n\n<pre><code>25-05-2016 18:20:20.&lt;incorrect number&gt;\n</code></pre>\n"}, {"tags": ["perl", "odbc", "hana", "unixodbc"], "answers": [{"comments": [{"owner": {"reputation": 75, "user_id": 6381990, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/c699ea3c27f33c6c1b88a48a3cd2f7b4?s=128&d=identicon&r=PG&f=1", "display_name": "Adrian Blanco", "link": "https://stackoverflow.com/users/6381990/adrian-blanco"}, "edited": false, "score": 0, "creation_date": 1464279320, "post_id": 37455139, "comment_id": 62430856, "body": "Already tried and don&#39;t know why it doesn&#39;t work. It&#39;s like my unixODBC doesn&#39;t recognize it. Here my DSN configuration in &quot;odbc.ini&quot; file: <code>[TESTTIMEOUT] Driver=&#47;usr&#47;sap&#47;hdbclient&#47;libodbcHDB.so ServerNode=100.... DMConnAttr = SQL_ATTR_CONNECTION_TIMEOUT=10</code> I&#39;m running a CentOS, don&#39;t  think this could be the issue. It always shows the error message after 63 seconds. This is the message: [unixODBC][SAP AG][LIBODBCHDB SO][HDBODBC] Communication link failure;-10709 Connection failed (RTE:[89006] System call &#39;connect&#39; failed, rc=110:Expir&#243; el tiempo de conexi&#243;n) (SQL-08S01)"}], "tags": [], "owner": {"reputation": 5574, "user_id": 367261, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/b8c106fb177276b7a95bda75c23a7508?s=128&d=identicon&r=PG", "display_name": "bohica", "link": "https://stackoverflow.com/users/367261/bohica"}, "is_accepted": false, "score": 0, "last_activity_date": 1464250269, "creation_date": 1464250269, "answer_id": 37455139, "question_id": 37442176, "link": "https://stackoverflow.com/questions/37442176/odbc-to-sap-hana-connection-timeout-in-perl/37455139#37455139", "title": "ODBC to SAP HANA connection timeout in Perl", "body": "<p>I don't believe there is a way to set SQL_ATTR_LOGIN_TIMEOUT on the connection handle via DBD::ODBC. In any case, few ODBC drivers do anything with it. However, if you are on UNIX and using the unixODBC driver manager - see <a href=\"http://www.easysoft.com/developer/interfaces/odbc/linux.html#env_unixodbc\" rel=\"nofollow\">Setting ODBC driver environment variables automatically</a></p>\n\n<p>You basically add \"DMConnAttr = CONNECTION_ATTRIBUTE=value\" to you odbc.ini file where CONNECTION_ATTRIBUTE is an ODBC connection attribute (e.g., SQL_ATTR_CONNECTION_TIMEOUT) and value is what you want to set it to.</p>\n"}, {"tags": [], "owner": {"reputation": 71, "user_id": 879613, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/2bde6a583fc9d69460b95bdfb41d8ec6?s=128&d=identicon&r=PG", "display_name": "Felippe Silvestre", "link": "https://stackoverflow.com/users/879613/felippe-silvestre"}, "is_accepted": false, "score": 0, "last_activity_date": 1472667415, "creation_date": 1472667415, "answer_id": 39256433, "question_id": 37442176, "link": "https://stackoverflow.com/questions/37442176/odbc-to-sap-hana-connection-timeout-in-perl/39256433#39256433", "title": "ODBC to SAP HANA connection timeout in Perl", "body": "<p>It is commom to confused with connection and query timeout:</p>\n\n<p><code>DMStmtAttr = SQL_ATTR_QUERY_TIMEOUT=2</code> </p>\n<code>DMConnAttr = SQL_ATTR_CONNECTION_TIMEOUT=2</code></p>\n\n<p>Connection may be ok but query response take more time than normal</p>\n"}], "owner": {"reputation": 75, "user_id": 6381990, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/c699ea3c27f33c6c1b88a48a3cd2f7b4?s=128&d=identicon&r=PG&f=1", "display_name": "Adrian Blanco", "link": "https://stackoverflow.com/users/6381990/adrian-blanco"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 961, "favorite_count": 0, "answer_count": 2, "score": 2, "last_activity_date": 1472667415, "creation_date": 1464191579, "question_id": 37442176, "link": "https://stackoverflow.com/questions/37442176/odbc-to-sap-hana-connection-timeout-in-perl", "title": "ODBC to SAP HANA connection timeout in Perl", "body": "<p>Since I'm programming a Perl script to monitor the SAP HANA database, I'm experiencing problems with the connection timeout. I don't know how to set the timeout. This is my connection string:</p>\n\n<pre><code>use DBI;\nuse DBD::ODBC;\n$dbh = DBI-&gt;connect(\"dbi:ODBC:dsn=$dsn\");\n</code></pre>\n\n<p>Meanwhile in another script to monitor a Sybase database it works properly:</p>\n\n<pre><code>use DBI;\n\ndbh = DBI-&gt;connect(\"dbi:Sybase:server=$dbsvr;database=$dbname;\".\n               timeout=$timeout;\".\"loginTimeout=$timeout\", $user, $pass);\n</code></pre>\n\n<p>I think the problem comes with the ODBC. Which is the way to implement a timeout using ODBC connection?</p>\n"}, {"tags": ["arrays", "regex", "perl", "bioinformatics", "fasta"], "comments": [{"owner": {"reputation": 52334, "user_id": 702638, "user_type": "registered", "accept_rate": 98, "profile_image": "https://www.gravatar.com/avatar/892f65bc0a8a0949ab88598de7d83cab?s=128&d=identicon&r=PG", "display_name": "Hunter McMillen", "link": "https://stackoverflow.com/users/702638/hunter-mcmillen"}, "edited": false, "score": 1, "creation_date": 1464190825, "post_id": 37441857, "comment_id": 62386147, "body": "You could check that <code>$1</code> is defined in your inner while loop, and not push the blank rows on in the first place."}, {"owner": {"reputation": 3621, "user_id": 6188402, "user_type": "registered", "accept_rate": 77, "profile_image": "https://www.gravatar.com/avatar/a8bdb7cbe81f5544f0ddc6ded12a23f1?s=128&d=identicon&r=PG&f=1", "display_name": "Washington Guedes", "link": "https://stackoverflow.com/users/6188402/washington-guedes"}, "edited": false, "score": 0, "creation_date": 1464191219, "post_id": 37441857, "comment_id": 62386480, "body": "Your last <code>$seq =~ </code> seems to be missing one <code>)</code>"}, {"owner": {"reputation": 165, "user_id": 5880355, "user_type": "registered", "accept_rate": 90, "profile_image": "https://www.gravatar.com/avatar/b78c85bb76849376873b8e1556d3000d?s=128&d=identicon&r=PG&f=1", "display_name": "Rob", "link": "https://stackoverflow.com/users/5880355/rob"}, "edited": false, "score": 0, "creation_date": 1464197621, "post_id": 37441857, "comment_id": 62390284, "body": "It is always good to have a second pair of eyes check my typing! Sorry for the typo. Good catch."}], "answers": [{"comments": [{"owner": {"reputation": 165, "user_id": 5880355, "user_type": "registered", "accept_rate": 90, "profile_image": "https://www.gravatar.com/avatar/b78c85bb76849376873b8e1556d3000d?s=128&d=identicon&r=PG&f=1", "display_name": "Rob", "link": "https://stackoverflow.com/users/5880355/rob"}, "edited": false, "score": 0, "creation_date": 1464195264, "post_id": 37441999, "comment_id": 62389007, "body": "Awesome. Thank you!"}, {"owner": {"reputation": 2565, "user_id": 4593127, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/d661b3425b0e9cd38ee220844e1b8659?s=128&d=identicon&r=PG&f=1", "display_name": "gaganso", "link": "https://stackoverflow.com/users/4593127/gaganso"}, "reply_to_user": {"reputation": 165, "user_id": 5880355, "user_type": "registered", "accept_rate": 90, "profile_image": "https://www.gravatar.com/avatar/b78c85bb76849376873b8e1556d3000d?s=128&d=identicon&r=PG&f=1", "display_name": "Rob", "link": "https://stackoverflow.com/users/5880355/rob"}, "edited": false, "score": 0, "creation_date": 1464196218, "post_id": 37441999, "comment_id": 62389524, "body": "@Rob, if the answer helped you solve the problem, please accept the answer. This will help other users with the same issue to quickly find the solution."}], "tags": [], "owner": {"reputation": 51521, "user_id": 2566198, "user_type": "registered", "accept_rate": 67, "profile_image": "https://i.stack.imgur.com/Y34ZA.jpg?s=128&g=1", "display_name": "Sobrique", "link": "https://stackoverflow.com/users/2566198/sobrique"}, "is_accepted": true, "score": 5, "last_activity_date": 1464192060, "last_edit_date": 1464192060, "creation_date": 1464191124, "answer_id": 37441999, "question_id": 37441857, "link": "https://stackoverflow.com/questions/37441857/remove-blank-regex-hits-from-an-array/37441999#37441999", "title": "Remove blank regex hits from an array", "body": "<p>If you're filtering an array, the tool is <code>grep</code>. </p>\n\n<p>E.g. </p>\n\n<pre><code>my @new_array = grep { not /^\\s*$/ } @old_array;\n</code></pre>\n\n<p>This will filter any element that is just whitespace. In your case, since it's empty <em>or</em> just a <code>&gt;</code>: </p>\n\n<p><code>/^&gt;?\\s*$/</code> instead. </p>\n\n<p>However, that's fixing a problem that need not exist in the first place. You could instead:</p>\n\n<pre><code>$seq =~ m/([TAGC]{16})(CGGAGCTTTA|GCCATTTCT|TAAAGCTCCG|AGAAATGGGC)/ \n       &amp;&amp; push(@TrimmedSequences, \"&gt;\", $1, \"\\n\", $1, \"\\n\");  \n</code></pre>\n\n<p>And that will only <code>push</code> if the regex matches. </p>\n"}], "owner": {"reputation": 165, "user_id": 5880355, "user_type": "registered", "accept_rate": 90, "profile_image": "https://www.gravatar.com/avatar/b78c85bb76849376873b8e1556d3000d?s=128&d=identicon&r=PG&f=1", "display_name": "Rob", "link": "https://stackoverflow.com/users/5880355/rob"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 76, "favorite_count": 0, "accepted_answer_id": 37441999, "answer_count": 1, "score": 2, "last_activity_date": 1464192060, "creation_date": 1464190753, "question_id": 37441857, "link": "https://stackoverflow.com/questions/37441857/remove-blank-regex-hits-from-an-array", "title": "Remove blank regex hits from an array", "body": "<p>I am performing a regex search and wishing to print out only the hits in fasta format (two lines of data: the first beginning with a carrot \">\" followed by the hit and the second line without a carrot, but still containing the hit information).<br>\nI can successfully generate an output multifasta file, but the carrot and line breaks are included in the output file whether there is a hit or not. </p>\n\n<p>Generated output: </p>\n\n<pre><code>    &gt; \n\n    &gt;\n\n    &gt;TAGCTAGC\n    TAGCTAGC\n    &gt;\n\n    &gt;GCTAGCTA\n    GCTAGCTA \n</code></pre>\n\n<p>Desired output: </p>\n\n<pre><code>    &gt;TAGCTAGC\n    TAGCTAGC  \n    &gt;GCTAGCTA  \n    GCTAGCTA\n</code></pre>\n\n<p>Here is my code: </p>\n\n<pre><code>    #!/usr/bin/perl \n    use warnings; \n    use strict; \n\n    open(CLUSTER, \"&gt;\", \"SequencesToCluster.txt\") or die $!; \n\n    my @TrimmedSequences; \n\n    my @ArrayofFiles = glob (\"~/BLASTdb/Individual_Sequences_*\"); \n\n    foreach my $file (@ArrayofFiles){ \n        open (my $sequence, $file) or die \"can't open file: $!\"; \n        while (my $line = &lt;$sequence&gt;){ \n            if ($line !~/^&gt;/){ \n            my $seq = $line; \n            $seq =~ s/\\R//g; \n            $seq =~ m/([TAGC]{16})(CGGAGCTTTA|GCCATTTCT|TAAAGCTCCG|AGAAATGGGC/; \n            push(@TrimmedSequences, \"&gt;\", $1, \"\\n\", $1, \"\\n\");  \n            } \n       } \n    } \n    #Here I believe I need to manipulate the array to get rid of blank fastas\n    print CLUSTER @TrimmedSequences; \n</code></pre>\n"}, {"tags": ["perl", "unit-testing", "methods", "return-type"], "comments": [{"owner": {"reputation": 50468, "user_id": 1331451, "user_type": "registered", "accept_rate": 96, "profile_image": "https://i.stack.imgur.com/4ZPmj.png?s=128&g=1", "display_name": "simbabque", "link": "https://stackoverflow.com/users/1331451/simbabque"}, "edited": false, "score": 1, "creation_date": 1464187935, "post_id": 37440252, "comment_id": 62383971, "body": "What do you get when you Dumper <code>ASC::Builder::Error-&gt;new(ASC::Builder::Error-&gt;new(&quot;I&#39;ll be back&quot;))</code>?"}, {"owner": {"reputation": 198290, "user_id": 1030675, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/957956ce51706d03f19a4dc85a767bb1?s=128&d=identicon&r=PG", "display_name": "choroba", "link": "https://stackoverflow.com/users/1030675/choroba"}, "edited": false, "score": 1, "creation_date": 1464187981, "post_id": 37440252, "comment_id": 62384007, "body": "Where should I add the test_error_misc? When I created the file structure, I got errors in the Type.pm: <code>&quot;use&quot; not allowed in expression at ASC&#47;Builder&#47;Error&#47;Type.pm line 13, near &quot;&quot;</code>"}, {"owner": {"reputation": 169, "user_id": 6000354, "user_type": "registered", "accept_rate": 81, "profile_image": "https://graph.facebook.com/1122424037792331/picture?type=large", "display_name": "Paul Russell", "link": "https://stackoverflow.com/users/6000354/paul-russell"}, "reply_to_user": {"reputation": 198290, "user_id": 1030675, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/957956ce51706d03f19a4dc85a767bb1?s=128&d=identicon&r=PG", "display_name": "choroba", "link": "https://stackoverflow.com/users/1030675/choroba"}, "edited": false, "score": 0, "creation_date": 1464188587, "post_id": 37440252, "comment_id": 62384493, "body": "That is strange @choroba. I&#39;ll check that now. But @simbabque , I ran a diag explain on that line and received the following <code># bless( { #   &#39;&#39; =&gt; undef, #   &#39;message&#39; =&gt; &#39;I\\&#39;ll be back&#39; # }, &#39;ASC::Builder::Error&#39; )</code>"}, {"owner": {"reputation": 198290, "user_id": 1030675, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/957956ce51706d03f19a4dc85a767bb1?s=128&d=identicon&r=PG", "display_name": "choroba", "link": "https://stackoverflow.com/users/1030675/choroba"}, "edited": false, "score": 0, "creation_date": 1464189036, "post_id": 37440252, "comment_id": 62384875, "body": "Hmm. adding <code>sub</code> before the <code>{</code> fixed it."}], "answers": [{"comments": [{"owner": {"reputation": 169, "user_id": 6000354, "user_type": "registered", "accept_rate": 81, "profile_image": "https://graph.facebook.com/1122424037792331/picture?type=large", "display_name": "Paul Russell", "link": "https://stackoverflow.com/users/6000354/paul-russell"}, "edited": false, "score": 0, "creation_date": 1464189678, "post_id": 37441271, "comment_id": 62385333, "body": "I am trying to run the is_error check on the error hash (or string) , which follows the code argument. I thought be deleting the code argument, the error itself is automatically moved forward into the position of <code>code</code>.  How would I do this? if this is not the case?"}, {"owner": {"reputation": 110113, "user_id": 168657, "user_type": "registered", "accept_rate": 92, "profile_image": "https://www.gravatar.com/avatar/f14e7610fca39322ebbf23530def15f8?s=128&d=identicon&r=PG", "display_name": "mob", "link": "https://stackoverflow.com/users/168657/mob"}, "reply_to_user": {"reputation": 169, "user_id": 6000354, "user_type": "registered", "accept_rate": 81, "profile_image": "https://graph.facebook.com/1122424037792331/picture?type=large", "display_name": "Paul Russell", "link": "https://stackoverflow.com/users/6000354/paul-russell"}, "edited": false, "score": 3, "creation_date": 1464189981, "post_id": 37441271, "comment_id": 62385561, "body": "<code>%args</code> is a hash and key-value pairs in a hash do not have a &quot;position&quot;. It sounds like sometimes you want to receive the arguments to your constructor as a hash and sometimes you want to receive them as a list. That can be done but it might also mean that you should rethink your design."}, {"owner": {"reputation": 169, "user_id": 6000354, "user_type": "registered", "accept_rate": 81, "profile_image": "https://graph.facebook.com/1122424037792331/picture?type=large", "display_name": "Paul Russell", "link": "https://stackoverflow.com/users/6000354/paul-russell"}, "edited": false, "score": 0, "creation_date": 1464190951, "post_id": 37441271, "comment_id": 62386254, "body": "Okay, so would do you think this work better if I used an array, so in that way when I remove <code>code</code> and can shift the next element to the first positon of the array, and then run <code>is_error</code> on the that element of the array. Does that make sense at all?"}, {"owner": {"reputation": 110113, "user_id": 168657, "user_type": "registered", "accept_rate": 92, "profile_image": "https://www.gravatar.com/avatar/f14e7610fca39322ebbf23530def15f8?s=128&d=identicon&r=PG", "display_name": "mob", "link": "https://stackoverflow.com/users/168657/mob"}, "reply_to_user": {"reputation": 169, "user_id": 6000354, "user_type": "registered", "accept_rate": 81, "profile_image": "https://graph.facebook.com/1122424037792331/picture?type=large", "display_name": "Paul Russell", "link": "https://stackoverflow.com/users/6000354/paul-russell"}, "edited": false, "score": 0, "creation_date": 1464191791, "post_id": 37441271, "comment_id": 62386939, "body": "Not to me. If sometimes you want to pass an existing error object to your constructor, how about you prefix it with another key like <code>error =&gt; ...</code> to be consistent?"}, {"owner": {"reputation": 53041, "user_id": 4653379, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/b3953dbedd0dabff5cbc3db9b0835b14?s=128&d=identicon&r=PG&f=1", "display_name": "zdim", "link": "https://stackoverflow.com/users/4653379/zdim"}, "reply_to_user": {"reputation": 169, "user_id": 6000354, "user_type": "registered", "accept_rate": 81, "profile_image": "https://graph.facebook.com/1122424037792331/picture?type=large", "display_name": "Paul Russell", "link": "https://stackoverflow.com/users/6000354/paul-russell"}, "edited": false, "score": 1, "creation_date": 1464203764, "post_id": 37441271, "comment_id": 62393739, "body": "@PaulRussell If you want to be able to call constructor with (1) either a hash (2) or hashref and a hash, see the end of my answer to your previous question.  Also see a comment. Or straighten invocations of <code>new</code> throughout to always just use a hash,  as <a href=\"http://stackoverflow.com/users/168657/mob\">mob</a> says, which is a cleaner design."}], "tags": [], "owner": {"reputation": 110113, "user_id": 168657, "user_type": "registered", "accept_rate": 92, "profile_image": "https://www.gravatar.com/avatar/f14e7610fca39322ebbf23530def15f8?s=128&d=identicon&r=PG", "display_name": "mob", "link": "https://stackoverflow.com/users/168657/mob"}, "is_accepted": true, "score": 3, "last_activity_date": 1464189288, "creation_date": 1464189288, "answer_id": 37441271, "question_id": 37440252, "link": "https://stackoverflow.com/questions/37440252/not-receiving-expected-output-from-unit-test-on-hash-in-perl/37441271#37441271", "title": "Not receiving expected output from unit test on hash in perl", "body": "<p>Your <code>is_error</code> check is on the <code>code</code> argument provided to the constructor</p>\n\n<pre><code>  my $self = delete $args{code};\n  if (is_error($self)) {\n      return $self;\n  }\n</code></pre>\n\n<p>but you don't provide a <code>code</code> argument in your test</p>\n\n<pre><code>is(ASC::Builder::Error-&gt;new(ASC::Builder::Error-&gt;new(\"I'll be back\"))-&gt;message(),...);\n</code></pre>\n\n<p>The last line should probably be</p>\n\n<pre><code>is(ASC::Builder::Error-&gt;new(\n      code =&gt; ASC::Builder::Error-&gt;new(\"I'll be back\")), ...);\n</code></pre>\n\n<p>and you should have gotten a warning about initializing a hash with an odd number of elements. (You do <code>use warnings</code> all the time, don't you?)</p>\n"}], "owner": {"reputation": 169, "user_id": 6000354, "user_type": "registered", "accept_rate": 81, "profile_image": "https://graph.facebook.com/1122424037792331/picture?type=large", "display_name": "Paul Russell", "link": "https://stackoverflow.com/users/6000354/paul-russell"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 93, "favorite_count": 0, "accepted_answer_id": 37441271, "answer_count": 1, "score": 0, "last_activity_date": 1464189288, "creation_date": 1464186697, "last_edit_date": 1464187478, "question_id": 37440252, "link": "https://stackoverflow.com/questions/37440252/not-receiving-expected-output-from-unit-test-on-hash-in-perl", "title": "Not receiving expected output from unit test on hash in perl", "body": "<p>I have integrate my tests with other tests and my error hash and it's method(s) are not outputting the correct/expected outputs. My new() method now also has an      <code>\u00ecs_error</code> check so I think it may be something to do with the output of my new method. \nThe new() method accepts an error hash with/without arguments or an error string with/without arguments. It accepts <code>code</code>as its first argument (which is then deleted and replaced by the error hash or string itself. (Well that's what I'm trying to achieve.</p>\n\n<p>So I'll show you the code now. </p>\n\n<p>Error.pm</p>\n\n<pre><code>package ASC::Builder::Error;\n\n  use strict;\n  use warnings;\n  use parent 'Exporter';\n  our @EXPORT_OK = qw/new/;\n\n  # Method for creating error message\n  sub new {\n      my ($class, %args) = @_;\n      # Takes code in as an argument and then removes it so the error hash it self can be assigned to it\n      my $self = delete $args{code};\n      #my $error = %args{0};\n      if (is_error($self)) {\n          return $self;\n      }\n      # 1st argument will be error hash. Any other arguments will be context params &amp; inserted into\n      # context field of the error hash\n      my @args = keys %args;\n      if (ref $self eq 'HASH' &amp;&amp; (@args &gt; 1)) {\n          foreach my $key (@{ $self-&gt;{context} } ) {\n              # And take the ones we need\n              $self-&gt;{args}-&gt;{$key} = $args{$key};\n         }\n         my @template_args = map { $self-&gt;{args}-&gt;{$_} } @{ $self-&gt;{context} };\n\n         # Map/Insert arguments into context hash and insert into string template\n         $self-&gt;{message} = sprintf ($self-&gt;{template}, @template_args);\n         return bless $self, $class;\n      }\n      # Supporting the old error messaage (string &amp; parameters)\n      else {\n           return bless { message =&gt; %args } , $class;\n      }\n  }\n\n  # Accessor for category\n  sub category {\n      return shift-&gt;{category};\n  }\n\n  # Accessor for message\n  sub template {\n      return shift-&gt;{template};\n  }\n  # Accessor for context\n  sub context {\n      return shift-&gt;{context};\n  }\n# Accessor for template option\n  sub tt {\n      return shift-&gt;{tt}{template};\n  }\n  # Accessor for fatal\n  sub is_fatal {\n      return shift-&gt;{fatal};\n  }\n  # Setter for is_fatal\n  sub set_is_fatal {\n      my ($self, $fatal) = @_;\n      $self-&gt;{fatal} = $fatal;\n  }\n\n  # Accessor for wiki_page\n  sub wiki_page {\n      return shift-&gt;{wiki_page};\n  }\n  # Accessor for args. args are a hash ref of context parameters that are\n  # passed in as a list at construction\n  sub args {\n      return shift-&gt;{args};\n  }\n  # Accessor for error message which is processed inside the new() method.\n  # Will return error message with context parameters inserted.\n  sub message {\n      return shift-&gt;{message};\n\n  }\n  # Stringifies the error to a log message (for SB dashboard), including the\n  # category, message, and wiki_page.\n  sub stringify {\n      my ($self) = @_;\n      return sprintf (\"%s: %s\\nMore info: %s\",$self-&gt;{category}, $self-&gt;{message}, $self-&gt;{wiki_page});\n  }\n\n  # Accessor for old error message type\n  sub details {\n      my $self = shift;\n      return $self-&gt;{details} || $self-&gt;{message};\n  }\n  sub code {\n      return shift-&gt;{code};\n  }\n # Used to deserializ from build json.\n  sub recreate_from_hash {\n      my($class, $hash) = @_;\n      return bless $hash, $class;\n  }\n\n  # Use to check if something is out error.\n  sub is_error {\n      if (scalar(@_) &gt; 1) { # Called as $class-&gt;is_error\n          shift; # Get rid of class\n      }\n      return UNIVERSAL::isa(shift, 'ASC::Builder::Error');\n  }\n  1;\n</code></pre>\n\n<p>Type.pm</p>\n\n<pre><code>package ASC::Builder::Error::Type;\n  use strict;\n  use warnings;\n  use parent 'Exporter';\n\n  # Export the list of errors\n  our @EXPORT_OK = qw/\n  UNABLE_TO_PING_SWITCH_ERROR\n  code\n  /;\n  # List of error message\nuse constant code =&gt; {\n   use constant {\n      CABLING_CHECK_TOR_INCORRECT_CABLING_ERROR =&gt; {\n          category =&gt; 'Cabling Error',\n          template =&gt; \"ToR cabling is not correct at T1.The uplinks must be cabled to exactly one t1 device group\",\n          tt =&gt; { template =&gt; 'disabled'},\n          fatal =&gt; 1,\n          wiki_page =&gt;'http://w.error-fix.com/index.php/Builder/ErrorCodes/CABLING_CHECK_TOR_CABLING_INCORRECT_ERROR',\n      },\n      UPDATE_IMAGE_ERROR =&gt; {\n          category =&gt; 'Imaging Error',\n          template =&gt; \"Cannot determine switch model\",\n          tt =&gt; { template =&gt; 'disabled'},\n          fatal =&gt; 1,\n          wiki_page =&gt;'http://w.error-fx.com/index.php/Builder/ErrorCodes/UPDATE_IMAGE_ERROR',\n      },\n      UNABLE_TO_PING_SWITCH_ERROR =&gt; {\n          category =&gt; 'Connection Error',\n          template =&gt; \"Could not ping switch %s in %s seconds.\",\n          context =&gt; [ qw(switch_ip  timeout) ],\n          tt =&gt; {template =&gt; 'disabled'},\n          fatal =&gt; 1,\n          wiki_page =&gt; 'http://w.error-fix.com/index.php/Builder/ErrorCodes/UNABLE_TO_PING_SWITCH_ERROR',\n      },\n      UNKNOWN_CLIENT_CERT_ID_ERROR =&gt; {\n          category =&gt; 'Services Error',\n          template =&gt; \"Unknown client certificate id: %s\",\n          context =&gt; qw(cert_id),\n          tt =&gt; { template =&gt; 'disabled'},\n          fatal =&gt; 1,\n          wiki_page =&gt;'http://w.error-fix.com/index.php/Builder/ErrorCodes/',\n      },\n  # Add errors to this library\n  };\n  1;\n</code></pre>\n\n<p>Error.t</p>\n\n<pre><code>  use lib ('./t/lib');\n  use strict;\n  no strict 'refs';\n  use warnings;\n\n  use ASC::Builder::Error;\n  use ASC::Builder::Error::Type;\n\n  use Test::More;\n  use Test::Exception;\n  use LWP::Simple 'head'; # Used to test if wiki link is giving a response\n\n  test_functionality_of_old_error();\n  test_functionality_of_new_error();\n  test_correctness_of_type_pm();\n\n  sub test_functionality_of_old_error {\n     # Example runtime parameters\n     my $switch_ip = '192.192.0.0';\n     my $timeout = '30';\n\n      # Correct case\n      {\n          my $error = ASC::Builder::Error-&gt;new(sprintf 'Could not ping switch %s in %s seconds', $switch_ip, $timeout);\n          ok(ASC::Builder::Error-&gt;is_error($error), 'Should detect error');\n          isa_ok ($error, 'ASC::Builder::Error');\n          is($error-&gt;message, 'Could not ping switch 192.192.0.0 in 30 seconds');\n      };\n  };\n\n\n\n  sub test_functionality_of_new_error {\n      my $example_error = {\n          category =&gt; 'Connection Error',\n          template =&gt; 'Could not ping switch %s in %s seconds.',\n          context =&gt; [ qw(switch_ip  timeout) ],\n          tt =&gt; {template =&gt; 'disabled'},\n          fatal =&gt; 1,\n          wiki_page =&gt; 'http://w.error-fix.com/index.php/Builder/ErrorCodes/UNABLE_TO_PING_SWITCH_ERROR',\n      };\n\n      # Correct case\n      {\n          my $error = ASC::Builder::Error-&gt;new( code =&gt; $example_error, timeout =&gt; 30, switch_ip =&gt; '192.192.0.0' );\n\n          isa_ok ($error, 'ASC::Builder::Error');\n can_ok ($error, 'category');\n          is ($error-&gt;category(), 'Connection Error', 'Return the correct category');\n\n          can_ok ($error, 'template');\n          is ($error-&gt;template(), 'Could not ping switch %s in %s seconds.', 'Return the correct category');\n\n          can_ok ($error, 'tt');\n          is ($error-&gt;tt(), 'disabled', 'Return the correct tt template');\n\n          can_ok ($error, 'context');\n          is_deeply($error-&gt;context(), ['switch_ip', 'timeout'], 'Return the correct context params');\n\n          can_ok ($error, 'is_fatal');\n          ok($error-&gt;is_fatal(), 'Return the correct value');\n\n          can_ok ($error, 'message');\n          is ($error-&gt;message(), 'Could not ping switch 192.192.0.0 in 30 seconds.', 'Return the correct message');\n\n          can_ok ($error, 'stringify');\n          is ($error-&gt;stringify(), \"Connection Error: Could not ping switch 192.192.0.0 in 30 seconds.\\nMore info: http://w.error-fix.com/index.php/Builder/ErrorCodes/                     UNABLE_TO_PING_SWITCH_ERROR\", 'stringify creates the correct message');\n\n  };\n\n      # Too many arguments (this is okay)\n      lives_ok( sub { ASC::Builder::Error-&gt;new( code =&gt; $example_error, timeout =&gt; 1, switch_ip =&gt; 2, extra =&gt; 3 ) }, 'Creating with too many arguments lives. (allows for additional         context string to be added in the code)' );\n      };\n\n      sub test_correctness_of_type_pm {\n\n  # These test cases contain all the errors from Type.pm\n      my @test_cases = (\n          {\n              name =&gt; 'UNABLE_TO_PING_SWITCH_ERROR',\n              args =&gt; {\n                  switch_ip =&gt; '192.192.0.0',\n                  timeout =&gt; 30,\n              },\n              message =&gt; 'Could not ping switch 192.192.0.0 in 30 seconds.',\n          },\n      );\n    foreach my $t (@test_cases) {\n         subtest $t-&gt;{name} =&gt; sub {\n            no strict 'refs'; # Because we need to use variable to get to a constant\n            ASC::Builder::Error::Type-&gt;import($t-&gt;{name});\n\n            # Create the Error object from the test data\n            # Will also fail if the name was not exported by Type.pm\n            my $error;\n            lives_ok( sub { $error = ASC::Builder::Error-&gt;new(code =&gt; &amp;{ $t-&gt;{name} },%{ $t-&gt;{args} }) }, 'Error can be created');\n\n            # See if it has the right values\n            is ($error-&gt;message, $t-&gt;{message}, 'Error message is correct');\n\n            # Using LWP::Simple to check if the wiki page link is not broken\n            # ok head($error-&gt;wiki_page); #CANT'T GET THIS TEST TO WORK\n\n\n          }\n      }\n  };\n  done_testing;\n</code></pre>\n\n<p>Here is the unit tests I am trying to add. They all seem to pass except the last one:</p>\n\n<pre><code>sub test_error_misc {\n      ok(ASC::Builder::Error-&gt;is_error(ASC::Builder::Error-&gt;new(\"I'll be back\")), \"Should detect our error\");\n      ok(!ASC::Builder::Error-&gt;is_error(\"I'll be back\"), \"Should not detect string\");\n      ok(!ASC::Builder::Error-&gt;is_error({ message =&gt; \"I'll be back\" }), \"Should not detect hash\");\n      ok(ASC::Builder::Error-&gt;new(\"I'll be back\"));\n      is(ASC::Builder::Error-&gt;new(ASC::Builder::Error-&gt;new(\"I'll be back\"))-&gt;message(),\"I'll be back\", \"Should return the provided argument\");\n  }\n</code></pre>\n\n<p>I think it's something got to do with the return value of the <code>is_error</code> method being called inside <code>new</code>. Any help would be appreciated :)</p>\n\n<pre><code>#Test Output:\n\n#   Failed test 'Should return the provided argument'\n#   at t/01_general_errors.t line 33.\n#          got: 'ASC::Builder::Error=HASH(0x7fbe4bbd5220)'\n#     expected: 'I'll be back'\n</code></pre>\n"}, {"tags": ["perl", "awk"], "answers": [{"comments": [{"owner": {"reputation": 3089, "user_id": 6165935, "user_type": "registered", "profile_image": "https://lh4.googleusercontent.com/-5SjwIcK5M8I/AAAAAAAAAAI/AAAAAAAAAFQ/xyQQHb_jXoQ/photo.jpg?sz=128", "display_name": "Michael Vehrs", "link": "https://stackoverflow.com/users/6165935/michael-vehrs"}, "reply_to_user": {"reputation": 8273, "user_id": 1334695, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/431ae6e9f7610b9d6a6a6cdebd0244d5?s=128&d=identicon&r=PG", "display_name": "stevieb", "link": "https://stackoverflow.com/users/1334695/stevieb"}, "edited": false, "score": 0, "creation_date": 1464187342, "post_id": 37440384, "comment_id": 62383495, "body": "@stevieb I have amended my answer."}, {"owner": {"reputation": 91, "user_id": 6322565, "user_type": "registered", "accept_rate": 36, "profile_image": "https://www.gravatar.com/avatar/1dd101b1717ddd0bc30ffa5a1bfb155c?s=128&d=identicon&r=PG&f=1", "display_name": "mona", "link": "https://stackoverflow.com/users/6322565/mona"}, "edited": false, "score": 0, "creation_date": 1464187598, "post_id": 37440384, "comment_id": 62383709, "body": "sed -i &#39;/\\?/d&#39; file not working,  sed: 1: &quot;ff&quot;: invalid command code"}, {"owner": {"reputation": 3089, "user_id": 6165935, "user_type": "registered", "profile_image": "https://lh4.googleusercontent.com/-5SjwIcK5M8I/AAAAAAAAAAI/AAAAAAAAAFQ/xyQQHb_jXoQ/photo.jpg?sz=128", "display_name": "Michael Vehrs", "link": "https://stackoverflow.com/users/6165935/michael-vehrs"}, "reply_to_user": {"reputation": 91, "user_id": 6322565, "user_type": "registered", "accept_rate": 36, "profile_image": "https://www.gravatar.com/avatar/1dd101b1717ddd0bc30ffa5a1bfb155c?s=128&d=identicon&r=PG&f=1", "display_name": "mona", "link": "https://stackoverflow.com/users/6322565/mona"}, "edited": false, "score": 0, "creation_date": 1464187849, "post_id": 37440384, "comment_id": 62383906, "body": "@mona So you are using OSX, are you?"}, {"owner": {"reputation": 155597, "user_id": 1745001, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/99a3ebae89496eb16afe453aae97f5be?s=128&d=identicon&r=PG", "display_name": "Ed Morton", "link": "https://stackoverflow.com/users/1745001/ed-morton"}, "edited": false, "score": 0, "creation_date": 1464189683, "post_id": 37440384, "comment_id": 62385342, "body": "Don&#39;t escape the <code>?</code> in sed, it&#39;s an ERE metachar, not BRE, so by escaping it you&#39;ll activate it&#39;s ERE properties in some seds. Just leave it as-is <code>sed &#39;&#47;?&#47;d&#39;</code>. For the grep you don&#39;t need <code>-F</code> as, again, it&#39;s just a literal character in a BRE and quote it, don&#39;t escape it: <code>grep -v &#39;?&#39; file</code>."}], "tags": [], "owner": {"reputation": 3089, "user_id": 6165935, "user_type": "registered", "profile_image": "https://lh4.googleusercontent.com/-5SjwIcK5M8I/AAAAAAAAAAI/AAAAAAAAAFQ/xyQQHb_jXoQ/photo.jpg?sz=128", "display_name": "Michael Vehrs", "link": "https://stackoverflow.com/users/6165935/michael-vehrs"}, "is_accepted": false, "score": 2, "last_activity_date": 1464187133, "last_edit_date": 1464187133, "creation_date": 1464187065, "answer_id": 37440384, "question_id": 37440187, "link": "https://stackoverflow.com/questions/37440187/how-to-remove-particular-lines-containing-specific-symbol-using-awk-perl/37440384#37440384", "title": "How to remove particular lines containing specific symbol using AWK / perl", "body": "<p>The easiest solution for a single file is <code>grep -Fv \\? old_file &gt; new_file</code>. You could also use <code>sed -i '/\\?/d' old_file</code>. If you want to handle all files at once, without writing a loop, the second option is more convenient, since <code>sed</code> can handle multiple files at once.</p>\n"}, {"comments": [{"owner": {"reputation": 9406, "user_id": 4923629, "user_type": "registered", "accept_rate": 92, "profile_image": "https://i.stack.imgur.com/2abZO.png?s=128&g=1", "display_name": "123", "link": "https://stackoverflow.com/users/4923629/123"}, "edited": false, "score": 1, "creation_date": 1464187789, "post_id": 37440527, "comment_id": 62383859, "body": "Dont need the next <code>perl -ni -e &#39;print if !&#47;\\?&#47;&#39; *.txt</code>"}, {"owner": {"reputation": 8273, "user_id": 1334695, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/431ae6e9f7610b9d6a6a6cdebd0244d5?s=128&d=identicon&r=PG", "display_name": "stevieb", "link": "https://stackoverflow.com/users/1334695/stevieb"}, "edited": false, "score": 0, "creation_date": 1464188177, "post_id": 37440527, "comment_id": 62384153, "body": "You&#39;re right. I don&#39;t know why I didn&#39;t do it that way. Still pretty early in the AM ;)"}], "tags": [], "owner": {"reputation": 8273, "user_id": 1334695, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/431ae6e9f7610b9d6a6a6cdebd0244d5?s=128&d=identicon&r=PG", "display_name": "stevieb", "link": "https://stackoverflow.com/users/1334695/stevieb"}, "is_accepted": true, "score": 0, "last_activity_date": 1464187432, "creation_date": 1464187432, "answer_id": 37440527, "question_id": 37440187, "link": "https://stackoverflow.com/questions/37440187/how-to-remove-particular-lines-containing-specific-symbol-using-awk-perl/37440527#37440527", "title": "How to remove particular lines containing specific symbol using AWK / perl", "body": "<p>One perly way:</p>\n\n<pre><code>perl -ni -e 'next if /\\?/; print' *.txt\n</code></pre>\n\n<p>The <code>-n</code> flag loops over the file the same way as <code>-p</code>, however it doesn't automatically print the line; it leaves that responsibility to you. So what we do is loop over all lines, skip the ones with a <code>?</code> with <code>next()</code>, and print all others.</p>\n"}], "owner": {"reputation": 91, "user_id": 6322565, "user_type": "registered", "accept_rate": 36, "profile_image": "https://www.gravatar.com/avatar/1dd101b1717ddd0bc30ffa5a1bfb155c?s=128&d=identicon&r=PG&f=1", "display_name": "mona", "link": "https://stackoverflow.com/users/6322565/mona"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 78, "favorite_count": 0, "accepted_answer_id": 37440527, "answer_count": 2, "score": 0, "last_activity_date": 1543720461, "creation_date": 1464186572, "last_edit_date": 1543720461, "question_id": 37440187, "link": "https://stackoverflow.com/questions/37440187/how-to-remove-particular-lines-containing-specific-symbol-using-awk-perl", "title": "How to remove particular lines containing specific symbol using AWK / perl", "body": "<p>I have multiple files with .txt extension, In all files some lines having \"?\" symbol, so how to remove those whole line in all files using single AWK/perl command</p>\n\n<p>I used following command:</p>\n\n<p>perl -pi -e \"s/\\?//g\" *.txt</p>\n\n<p>but it remove only ? symbol not whole line, so please help me to remove whole line contain \"?\" symbol.</p>\n"}, {"tags": ["regex", "perl", "sas"], "comments": [{"owner": {"reputation": 299695, "user_id": 507674, "user_type": "registered", "accept_rate": 74, "profile_image": "https://www.gravatar.com/avatar/6801bf30e40c9f7972987d67e2d5e4f2?s=128&d=identicon&r=PG", "display_name": "Niet the Dark Absol", "link": "https://stackoverflow.com/users/507674/niet-the-dark-absol"}, "edited": false, "score": 0, "creation_date": 1464185398, "post_id": 37439618, "comment_id": 62381834, "body": "A lookbehind would look like <code>&#47;(?&lt;=\\d+\\s)\\w+&#47;</code>"}, {"owner": {"reputation": 10272, "user_id": 1996394, "user_type": "registered", "accept_rate": 80, "profile_image": "https://www.gravatar.com/avatar/bb7cf5d8bf03c5335a0ece8f6673541d?s=128&d=identicon&r=PG", "display_name": "rock321987", "link": "https://stackoverflow.com/users/1996394/rock321987"}, "edited": false, "score": 2, "creation_date": 1464185527, "post_id": 37439618, "comment_id": 62381964, "body": "you need to access the first capturing group in your first answer with a bit modification :- <code>\\d+\\s(\\w)$</code>"}, {"owner": {"reputation": 481636, "user_id": 3832970, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/64323e6cf08401474da3bf770ea13b58?s=128&d=identicon&r=PG&f=1", "display_name": "Wiktor Stribi\u017cew", "link": "https://stackoverflow.com/users/3832970/wiktor-stribi%c5%bcew"}, "edited": false, "score": 0, "creation_date": 1464185617, "post_id": 37439618, "comment_id": 62382046, "body": "See your <a href=\"https://regex101.com/r/nA6zA3/1\" rel=\"nofollow noreferrer\"><code>\\d+\\s(\\w+)</code></a> in action. It captures what you need."}, {"owner": {"reputation": 481636, "user_id": 3832970, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/64323e6cf08401474da3bf770ea13b58?s=128&d=identicon&r=PG&f=1", "display_name": "Wiktor Stribi\u017cew", "link": "https://stackoverflow.com/users/3832970/wiktor-stribi%c5%bcew"}, "edited": false, "score": 0, "creation_date": 1464185870, "post_id": 37439618, "comment_id": 62382241, "body": "What is the language you are using? JS? C#? PHP? As the <a href=\"http://stackoverflow.com/tags/regex/info\">regex tag info</a> states, all questions with this tag should also include a tag specifying the applicable programming language or tool."}, {"owner": {"reputation": 19, "user_id": 6381607, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/62e7ef13c3bced864f1480f2c026c5dd?s=128&d=identicon&r=PG&f=1", "display_name": "chuck_nl", "link": "https://stackoverflow.com/users/6381607/chuck-nl"}, "edited": false, "score": 0, "creation_date": 1464186137, "post_id": 37439618, "comment_id": 62382464, "body": "I use SAS, it uses Perl to parse"}, {"owner": {"reputation": 19, "user_id": 6381607, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/62e7ef13c3bced864f1480f2c026c5dd?s=128&d=identicon&r=PG&f=1", "display_name": "chuck_nl", "link": "https://stackoverflow.com/users/6381607/chuck-nl"}, "edited": false, "score": 0, "creation_date": 1464186168, "post_id": 37439618, "comment_id": 62382491, "body": "If i use \\d+\\s(\\w+) , it will capture &quot;36 A&quot;, while I only want &quot;A&quot;"}, {"owner": {"reputation": 10272, "user_id": 1996394, "user_type": "registered", "accept_rate": 80, "profile_image": "https://www.gravatar.com/avatar/bb7cf5d8bf03c5335a0ece8f6673541d?s=128&d=identicon&r=PG", "display_name": "rock321987", "link": "https://stackoverflow.com/users/1996394/rock321987"}, "edited": false, "score": 0, "creation_date": 1464186339, "post_id": 37439618, "comment_id": 62382636, "body": "use <code>$1</code> to access the first group"}, {"owner": {"reputation": 10272, "user_id": 1996394, "user_type": "registered", "accept_rate": 80, "profile_image": "https://www.gravatar.com/avatar/bb7cf5d8bf03c5335a0ece8f6673541d?s=128&d=identicon&r=PG", "display_name": "rock321987", "link": "https://stackoverflow.com/users/1996394/rock321987"}, "reply_to_user": {"reputation": 299695, "user_id": 507674, "user_type": "registered", "accept_rate": 74, "profile_image": "https://www.gravatar.com/avatar/6801bf30e40c9f7972987d67e2d5e4f2?s=128&d=identicon&r=PG", "display_name": "Niet the Dark Absol", "link": "https://stackoverflow.com/users/507674/niet-the-dark-absol"}, "edited": false, "score": 0, "creation_date": 1464186494, "post_id": 37439618, "comment_id": 62382769, "body": "@NiettheDarkAbsol it may raise an issue as lookbehind should be of zero width"}, {"owner": {"reputation": 19, "user_id": 6381607, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/62e7ef13c3bced864f1480f2c026c5dd?s=128&d=identicon&r=PG&f=1", "display_name": "chuck_nl", "link": "https://stackoverflow.com/users/6381607/chuck-nl"}, "edited": false, "score": 0, "creation_date": 1464187111, "post_id": 37439618, "comment_id": 62383295, "body": "The result is &quot;StreetnameB&quot;, still not the &quot;A&quot; answer"}, {"owner": {"reputation": 10272, "user_id": 1996394, "user_type": "registered", "accept_rate": 80, "profile_image": "https://www.gravatar.com/avatar/bb7cf5d8bf03c5335a0ece8f6673541d?s=128&d=identicon&r=PG", "display_name": "rock321987", "link": "https://stackoverflow.com/users/1996394/rock321987"}, "edited": false, "score": 0, "creation_date": 1464187346, "post_id": 37439618, "comment_id": 62383502, "body": "sorry :- use <code>(?&lt;=\\d\\s)\\w+$</code>"}, {"owner": {"reputation": 19, "user_id": 6381607, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/62e7ef13c3bced864f1480f2c026c5dd?s=128&d=identicon&r=PG&f=1", "display_name": "chuck_nl", "link": "https://stackoverflow.com/users/6381607/chuck-nl"}, "edited": false, "score": 0, "creation_date": 1464187712, "post_id": 37439618, "comment_id": 62383792, "body": "thanks, i tried and added the dollar sign. But there&#39;s no match at all :("}, {"owner": {"reputation": 10272, "user_id": 1996394, "user_type": "registered", "accept_rate": 80, "profile_image": "https://www.gravatar.com/avatar/bb7cf5d8bf03c5335a0ece8f6673541d?s=128&d=identicon&r=PG", "display_name": "rock321987", "link": "https://stackoverflow.com/users/1996394/rock321987"}, "edited": false, "score": 0, "creation_date": 1464187899, "post_id": 37439618, "comment_id": 62383946, "body": "ok then try :- <code>(?&lt;=\\d\\s)\\w+(?!\\w)</code>"}, {"owner": {"reputation": 19, "user_id": 6381607, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/62e7ef13c3bced864f1480f2c026c5dd?s=128&d=identicon&r=PG&f=1", "display_name": "chuck_nl", "link": "https://stackoverflow.com/users/6381607/chuck-nl"}, "edited": false, "score": 1, "creation_date": 1464191511, "post_id": 37439618, "comment_id": 62386723, "body": "That works! Thanks! The key was in the quantifier +"}], "answers": [{"comments": [{"owner": {"reputation": 19, "user_id": 6381607, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/62e7ef13c3bced864f1480f2c026c5dd?s=128&d=identicon&r=PG&f=1", "display_name": "chuck_nl", "link": "https://stackoverflow.com/users/6381607/chuck-nl"}, "edited": false, "score": 0, "creation_date": 1464186628, "post_id": 37440047, "comment_id": 62382878, "body": "If i try this out in <a href=\"https://regex101.com/#python\" rel=\"nofollow noreferrer\">regex101.com/#python</a> i don&#39;t get a match? &quot;string = &quot;StreetnameA 278 StreetnameB 36 A StreetnameC 37&quot;"}, {"owner": {"reputation": 757, "user_id": 6330910, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/Zdo0c.jpg?s=128&g=1", "display_name": "tk78", "link": "https://stackoverflow.com/users/6330910/tk78"}, "reply_to_user": {"reputation": 19, "user_id": 6381607, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/62e7ef13c3bced864f1480f2c026c5dd?s=128&d=identicon&r=PG&f=1", "display_name": "chuck_nl", "link": "https://stackoverflow.com/users/6381607/chuck-nl"}, "edited": false, "score": 0, "creation_date": 1464187782, "post_id": 37440047, "comment_id": 62383852, "body": "@chuck_nl You have global and multi-line on? On the site you mention that&#39;s modifiers g and m."}, {"owner": {"reputation": 58518, "user_id": 1623007, "user_type": "registered", "accept_rate": 60, "profile_image": "https://www.gravatar.com/avatar/40931bddde219f1a9e4514d2f4cfa826?s=128&d=identicon&r=PG", "display_name": "Joe", "link": "https://stackoverflow.com/users/1623007/joe"}, "edited": false, "score": 0, "creation_date": 1464189266, "post_id": 37440047, "comment_id": 62385035, "body": "Thanks for the improvements!"}, {"owner": {"reputation": 19, "user_id": 6381607, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/62e7ef13c3bced864f1480f2c026c5dd?s=128&d=identicon&r=PG&f=1", "display_name": "chuck_nl", "link": "https://stackoverflow.com/users/6381607/chuck-nl"}, "edited": false, "score": 0, "creation_date": 1464191597, "post_id": 37440047, "comment_id": 62395555, "body": "That helps! Now both solutions work, thank you! p.s. multiline and global were on, i put it out now :)"}], "tags": [], "owner": {"reputation": 757, "user_id": 6330910, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/Zdo0c.jpg?s=128&g=1", "display_name": "tk78", "link": "https://stackoverflow.com/users/6330910/tk78"}, "is_accepted": false, "score": 1, "last_activity_date": 1464189177, "last_edit_date": 1464189177, "creation_date": 1464186251, "answer_id": 37440047, "question_id": 37439618, "link": "https://stackoverflow.com/questions/37439618/regex-capture-group-and-lookahead-not-working/37440047#37440047", "title": "regex: capture group and lookahead not working", "body": "<p>The following is</p>\n\n<ol>\n<li>searching for a number (\\d)</li>\n<li>followed by one or more whitespaces (\\s)+</li>\n<li>at the end of the line ($)</li>\n</ol>\n\n<p>(\\w+) is the stuff that we're looking for. I.e. one or multiple word characters.</p>\n\n<pre><code>\\d\\s+(\\w+)$\n</code></pre>\n\n<p>Then read the first group.</p>\n"}], "owner": {"reputation": 19, "user_id": 6381607, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/62e7ef13c3bced864f1480f2c026c5dd?s=128&d=identicon&r=PG&f=1", "display_name": "chuck_nl", "link": "https://stackoverflow.com/users/6381607/chuck-nl"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 119, "favorite_count": 0, "answer_count": 1, "score": 1, "last_activity_date": 1464191597, "creation_date": 1464185202, "last_edit_date": 1464187634, "question_id": 37439618, "link": "https://stackoverflow.com/questions/37439618/regex-capture-group-and-lookahead-not-working", "title": "regex: capture group and lookahead not working", "body": "<p>So I know regexes for a couple of years and recently dived into it again.\nI have been google-en for hours and don't quite understand what is going wrong.\nI would like to extract the housenumber suffix, from:</p>\n\n<blockquote>\n  <p>StreetnameA 278<br>\n  StreetnameB 36 A<br>\n  StreetnameC 37</p>\n</blockquote>\n\n<p>So that I will get the ouput:</p>\n\n<blockquote>\n  <p>A</p>\n</blockquote>\n\n<p>My solutions so far don't work (capture group &amp; positive lookbehind):</p>\n\n<ol>\n<li><code>/\\d+\\s(\\w+)/</code>  </li>\n<li><code>/(?&lt;=\\d+\\s)\\w+/</code></li>\n</ol>\n\n<p>Am I misunderstanding the capture group and positive lookaround functions?</p>\n"}, {"tags": ["perl", "tomcat", "cgi"], "owner": {"reputation": 105, "user_id": 5341411, "user_type": "registered", "accept_rate": 20, "profile_image": "https://i.stack.imgur.com/eCfFI.jpg?s=128&g=1", "display_name": "G555", "link": "https://stackoverflow.com/users/5341411/g555"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 114, "favorite_count": 1, "answer_count": 0, "score": 2, "last_activity_date": 1464240381, "creation_date": 1464183652, "last_edit_date": 1464240381, "question_id": 37439002, "link": "https://stackoverflow.com/questions/37439002/why-do-i-get-a-blank-page-while-loading-cgi-in-tomcat-7", "title": "Why do I get a blank page while loading CGI in tomcat 7?", "body": "<p>I am using tomcat to run CGI. I did all required configuration as per tomcat-CGI docs.</p>\n\n<p>Deleted the comments in web.xml and adding <code>&lt;Context privileged=\"true\"&gt;</code>. In web.xml, I gave the \"cgiPathPrefix\" the value \"cgi-bin\", and I added this cgi-bin folder in the webapps/mycgiproject directory.</p>\n\n<p>When I deploy it tomcat it shows me a blank page. couldn't find a reason since no error or log is generating.</p>\n\n<p>Generally CGI files starts from -</p>\n\n<pre><code>#!/usr/bin/perl -T\n</code></pre>\n\n<p>But when i give space it works. </p>\n\n<pre><code> #! /usr/bin/perl -T\n</code></pre>\n\n<p>I am curious though I may find a way for this issue, but want a real solution to this problem ?</p>\n\n<p>Also anyone knows how should be the folder structure inside tomcat.</p>\n\n<p>My configuration is as follows - </p>\n\n<pre><code>tomcat/webapps/myperlproject/cgi/\"cgi files\"\n</code></pre>\n\n<p>in tomcat/conf/web.xml - </p>\n\n<pre><code>&lt;init-param&gt;\n      &lt;param-name&gt;cgiPathPrefix&lt;/param-name&gt;\n      &lt;param-value&gt;cgi\\&lt;/param-value&gt;\n&lt;/init-param&gt;\n</code></pre>\n\n<p>is it right ? </p>\n"}, {"tags": ["perl"], "answers": [{"comments": [{"owner": {"reputation": 50468, "user_id": 1331451, "user_type": "registered", "accept_rate": 96, "profile_image": "https://i.stack.imgur.com/4ZPmj.png?s=128&g=1", "display_name": "simbabque", "link": "https://stackoverflow.com/users/1331451/simbabque"}, "reply_to_user": {"reputation": 87649, "user_id": 17389, "user_type": "registered", "accept_rate": 38, "profile_image": "https://www.gravatar.com/avatar/cd06d1314817ce946ab796af8750b56a?s=128&d=identicon&r=PG", "display_name": "ysth", "link": "https://stackoverflow.com/users/17389/ysth"}, "edited": false, "score": 0, "creation_date": 1464185890, "post_id": 37438570, "comment_id": 62382258, "body": "Ooops. I got it mixed up with <code>from_json</code>. Your right @ysth."}], "tags": [], "owner": {"reputation": 50468, "user_id": 1331451, "user_type": "registered", "accept_rate": 96, "profile_image": "https://i.stack.imgur.com/4ZPmj.png?s=128&g=1", "display_name": "simbabque", "link": "https://stackoverflow.com/users/1331451/simbabque"}, "is_accepted": true, "score": 3, "last_activity_date": 1464186005, "last_edit_date": 1464186005, "creation_date": 1464182614, "answer_id": 37438570, "question_id": 37438292, "link": "https://stackoverflow.com/questions/37438292/adding-a-key-value-pair-to-an-existing-json-object-in-perl/37438570#37438570", "title": "Adding a key value pair to an existing json object in perl", "body": "<p>Your code is the wrong way around. You need to add the key to the hash reference first, before you turn it into JSON.</p>\n\n<pre><code>$Param{Data}-&gt;{'OldTicketData'}-&gt;{'Body'}=$TicketInfo{Body};\nmy $newParamData = to_json($Param{Data});\n</code></pre>\n\n<p>In addition, since <code>to_json</code> returns a string, which is scalar, you need to use <code>$newParamData</code> instead of <code>%newParamData</code>.</p>\n\n<p>Of course you need to fix your <code>return</code> as well.</p>\n\n<pre><code>return {\n    Success =&gt; 1,\n    Data    =&gt; $newParamData,\n};\n</code></pre>\n"}], "owner": {"reputation": 636, "user_id": 5644090, "user_type": "registered", "accept_rate": 80, "profile_image": "https://i.stack.imgur.com/iF7hI.jpg?s=128&g=1", "display_name": "w1n5rx", "link": "https://stackoverflow.com/users/5644090/w1n5rx"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 259, "favorite_count": 0, "accepted_answer_id": 37438570, "answer_count": 1, "score": -1, "last_activity_date": 1464190031, "creation_date": 1464181965, "last_edit_date": 1464190031, "question_id": 37438292, "link": "https://stackoverflow.com/questions/37438292/adding-a-key-value-pair-to-an-existing-json-object-in-perl", "title": "Adding a key value pair to an existing json object in perl", "body": "<p>I want to add a key value pair to a JSON object. Following is the structure of Param{Data} variable for the below code.</p>\n\n<pre><code>    $VAR1 = {\n  'ArticleID' =&gt; '86',\n  'OldTicketData' =&gt; {\n       ...\n  },\n  'TicketID' =&gt; '67'\n};\n</code></pre>\n\n<p>Following is the function in which I want to perform the mentioned operation:</p>\n\n<pre><code>sub PrepareRequest {\n    my ( $Self, %Param ) = @_;\n    my %TicketInfo = $Self-&gt;{TicketObject}-&gt;ArticleGet(\n        ArticleID =&gt; $Param{Data}-&gt;{ArticleID},\n        userID =&gt; $Param{Data}-&gt;{CustomerID},\n    );\n\n    my %newParamData = to_json($Param{Data});\n    %newParamData-&gt;{'OldTicketData'}-&gt;{'Body'}=$TicketInfo{Body};\n\n    return {\n        Success =&gt; 1,\n        Data    =&gt; %newParamData,\n    };\n}\n</code></pre>\n\n<p>Above function returns 'OldTicketData'. I want following key-pair attached to 'OldTicketData' element of the JSON object ->('Body', $TicketInfo{Body}). Consider, $TicketInfo{Body} returns a string 'someString'.</p>\n"}, {"tags": ["perl"], "comments": [{"owner": {"reputation": 320771, "user_id": 589924, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/b2cf53d5a3d25f95c0db4e025aed4153?s=128&d=identicon&r=PG", "display_name": "ikegami", "link": "https://stackoverflow.com/users/589924/ikegami"}, "edited": false, "score": 2, "creation_date": 1464186652, "post_id": 37438158, "comment_id": 62382897, "body": "Trivia: This experimental behaviour has been removed from 5.24. Doing <code>keys($ref)</code> in 5.24+ will fail as it did before the experiment began."}], "answers": [{"tags": [], "owner": {"reputation": 51521, "user_id": 2566198, "user_type": "registered", "accept_rate": 67, "profile_image": "https://i.stack.imgur.com/Y34ZA.jpg?s=128&g=1", "display_name": "Sobrique", "link": "https://stackoverflow.com/users/2566198/sobrique"}, "is_accepted": true, "score": 9, "last_activity_date": 1464181880, "creation_date": 1464181880, "answer_id": 37438262, "question_id": 37438158, "link": "https://stackoverflow.com/questions/37438158/perl-how-to-get-keys-on-key-keys-on-reference-is-experimental/37438262#37438262", "title": "Perl: How to get keys on key &quot;keys on reference is experimental&quot;", "body": "<pre><code>keys %{$normal{$nuc}{$e}}\n</code></pre>\n\n<p>E.g. dereference it first. </p>\n\n<p>If you had a reference to start off with, you don't need <code>{}</code> E.g.:</p>\n\n<pre><code>my $ref = $normal{$nuc}{$e};\nprint keys %$ref; \n</code></pre>\n"}, {"comments": [{"owner": {"reputation": 4229, "user_id": 3973175, "user_type": "registered", "accept_rate": 52, "profile_image": "https://www.gravatar.com/avatar/9c15391d610e59c350912be638b14074?s=128&d=identicon&r=PG", "display_name": "con", "link": "https://stackoverflow.com/users/3973175/con"}, "edited": false, "score": 1, "creation_date": 1464189282, "post_id": 37438394, "comment_id": 62385047, "body": "thanks, you&#39;re completely correct. I wrote this script more than a year ago, came back to it, and had forgotten what many of the variables mean.  In reading other people&#39;s python scripts, I have come across the problem of poor identifiers.  In a lot of cases, if you know what the hash key can be, you should use a list of them in foreach instead, it makes the code much easier to read."}], "tags": [], "owner": {"reputation": 123805, "user_id": 622310, "user_type": "registered", "accept_rate": 33, "profile_image": "https://www.gravatar.com/avatar/8b6d35219e1808520bc238b28161e2e6?s=128&d=identicon&r=PG", "display_name": "Borodin", "link": "https://stackoverflow.com/users/622310/borodin"}, "is_accepted": false, "score": 5, "last_activity_date": 1464182176, "creation_date": 1464182176, "answer_id": 37438394, "question_id": 37438158, "link": "https://stackoverflow.com/questions/37438158/perl-how-to-get-keys-on-key-keys-on-reference-is-experimental/37438394#37438394", "title": "Perl: How to get keys on key &quot;keys on reference is experimental&quot;", "body": "<p>The problem is that <code>$normal{$nuc}{$e}</code> is a hash <em>reference</em>, and <code>keys</code> will officially only accept a hash. The solution is simple\u2014you must <em>dereference</em> the reference\u2014and you can get around this by writing</p>\n\n<pre><code>for my $f ( keys %{ $normal{$nuc}{$e} } ) { ... }\n</code></pre>\n\n<p>but it may be wiser to extract the hash reference into an intermediate variable. This will make your code much clearer, like so</p>\n\n<pre><code>my $hr = $normal{$nuc}{$e};\n\nfor my $f ( keys %$hr ) { ... }\n</code></pre>\n\n<p>I would encourage you to write more meaningful variable names. <code>$f</code> and <code>$e</code> may tell you a lot while you're writing it, but it is sure to cause others problems, and it may even come back to hit you a year or two down the line</p>\n\n<p>Likewise, I am sure that there is a better identifier than <code>$hr</code>, but I don't know the <em>meaning</em> of the various levels of your data structure so I couldn't do any better. Please call it something that's relevant to the data that it points to</p>\n"}, {"tags": [], "owner": {"reputation": 21, "user_id": 9933968, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/d4f3c4fe19a4a89279fa3ac7d8890805?s=128&d=identicon&r=PG", "display_name": "Lutz Filor", "link": "https://stackoverflow.com/users/9933968/lutz-filor"}, "is_accepted": false, "score": 1, "last_activity_date": 1528871224, "last_edit_date": 1528871224, "creation_date": 1528868770, "answer_id": 50829818, "question_id": 37438158, "link": "https://stackoverflow.com/questions/37438158/perl-how-to-get-keys-on-key-keys-on-reference-is-experimental/50829818#50829818", "title": "Perl: How to get keys on key &quot;keys on reference is experimental&quot;", "body": "<pre><code>keys $hash_ref \n</code></pre>\n\n<p>is the reason for the warning keys on references is experimental </p>\n\n<p>Solution:</p>\n\n<pre><code>keys %{ $hash_ref }\n</code></pre>\n\n<p>Reference:</p>\n\n<p><a href=\"https://www.perl.com/pub/2005/07/14/bestpractices.html/\" rel=\"nofollow noreferrer\">https://www.perl.com/pub/2005/07/14/bestpractices.html/</a></p>\n"}], "owner": {"reputation": 4229, "user_id": 3973175, "user_type": "registered", "accept_rate": 52, "profile_image": "https://www.gravatar.com/avatar/9c15391d610e59c350912be638b14074?s=128&d=identicon&r=PG", "display_name": "con", "link": "https://stackoverflow.com/users/3973175/con"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 5419, "favorite_count": 2, "accepted_answer_id": 37438262, "answer_count": 3, "score": 4, "last_activity_date": 1528871224, "creation_date": 1464181651, "last_edit_date": 1495541426, "question_id": 37438158, "link": "https://stackoverflow.com/questions/37438158/perl-how-to-get-keys-on-key-keys-on-reference-is-experimental", "title": "Perl: How to get keys on key &quot;keys on reference is experimental&quot;", "body": "<p>I am looking for a solution to Perl's warning</p>\n\n<p>\"keys on reference is experimental at\"</p>\n\n<p>I get this from code like this:</p>\n\n<pre><code>foreach my $f (keys($normal{$nuc}{$e})) {#x, y, and z\n</code></pre>\n\n<p>I found something similar on StackOverflow here:</p>\n\n<p><a href=\"https://stackoverflow.com/questions/29613951/perl-throws-keys-on-reference-is-experimental\">Perl throws &quot;keys on reference is experimental&quot;</a></p>\n\n<p>but I don't see how I can apply it in my situation.</p>\n\n<p>How can I get the keys to multiple keyed hashes without throwing this error?</p>\n"}, {"tags": ["perl", "hash"], "comments": [{"owner": {"reputation": 907, "user_id": 6146688, "user_type": "registered", "accept_rate": 80, "profile_image": "https://www.gravatar.com/avatar/8f262dda91bdff7ff11cf7762124764d?s=128&d=identicon&r=PG", "display_name": "Paul L", "link": "https://stackoverflow.com/users/6146688/paul-l"}, "edited": false, "score": 0, "creation_date": 1464179855, "post_id": 37437177, "comment_id": 62377330, "body": "what have you tried so far?  Where did it go wrong?  Show your best attempt and we can help you fix what&#39;s wrong with it.  Also note that entire Perl programs can be written in &quot;a single line&quot;, since Perl doesn&#39;t care about whitespace.  Did you mean &quot;a single statement&quot;?"}, {"owner": {"reputation": 1133, "user_id": 2185890, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/330b262ed789de0997e720dce8ee1af0?s=128&d=identicon&r=PG", "display_name": "LaintalAy", "link": "https://stackoverflow.com/users/2185890/laintalay"}, "edited": false, "score": 0, "creation_date": 1464180064, "post_id": 37437177, "comment_id": 62377539, "body": "From a hash reference, <code>$hash</code>, the one liner would be <code>map {delete $hash-&gt;{$_} unless defined $hash-&gt;{$_}} keys %{$hash};</code>"}, {"owner": {"reputation": 51521, "user_id": 2566198, "user_type": "registered", "accept_rate": 67, "profile_image": "https://i.stack.imgur.com/Y34ZA.jpg?s=128&g=1", "display_name": "Sobrique", "link": "https://stackoverflow.com/users/2566198/sobrique"}, "edited": false, "score": 2, "creation_date": 1464180118, "post_id": 37437177, "comment_id": 62377581, "body": "<code>delete $hash{$_} for grep { defined $hash{$_} } keys %hash; </code>"}, {"owner": {"reputation": 518, "user_id": 3617046, "user_type": "registered", "accept_rate": 69, "profile_image": "https://www.gravatar.com/avatar/afad7c3481df3dcbbcd2b4366782e056?s=128&d=identicon&r=PG&f=1", "display_name": "Bulrush", "link": "https://stackoverflow.com/users/3617046/bulrush"}, "edited": false, "score": 0, "creation_date": 1464181089, "post_id": 37437177, "comment_id": 62378371, "body": "Hint for future development: I always make sure my keys are defined before I save them."}, {"owner": {"reputation": 123805, "user_id": 622310, "user_type": "registered", "accept_rate": 33, "profile_image": "https://www.gravatar.com/avatar/8b6d35219e1808520bc238b28161e2e6?s=128&d=identicon&r=PG", "display_name": "Borodin", "link": "https://stackoverflow.com/users/622310/borodin"}, "reply_to_user": {"reputation": 1133, "user_id": 2185890, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/330b262ed789de0997e720dce8ee1af0?s=128&d=identicon&r=PG", "display_name": "LaintalAy", "link": "https://stackoverflow.com/users/2185890/laintalay"}, "edited": false, "score": 2, "creation_date": 1464181115, "post_id": 37437177, "comment_id": 62378396, "body": "@eballes: It&#39;s frowned upon to use <code>map</code> in void context like that. <code>map</code> is for translating one list into another. If you need a simple iterator you should use <code>for</code>. Your statement is exactly equivalent to <code>delete $hash-&gt;{$_} unless defined $hash-&gt;{$_} for keys %{$hash}</code>"}, {"owner": {"reputation": 51521, "user_id": 2566198, "user_type": "registered", "accept_rate": 67, "profile_image": "https://i.stack.imgur.com/Y34ZA.jpg?s=128&g=1", "display_name": "Sobrique", "link": "https://stackoverflow.com/users/2566198/sobrique"}, "edited": false, "score": 0, "creation_date": 1464181494, "post_id": 37437177, "comment_id": 62378727, "body": "As an alternative though - if undef keys are a a problem, you can use <code>&#47;&#47;</code> to &#39;default&#39;, which may be useful in certain scenarios. E.g. <code>print &quot;$key =&gt; &quot;, $hash{$key} &#47;&#47; &#39;ERRORVALUE&#39;, &quot;\\n&quot;; </code>"}, {"owner": {"reputation": 123805, "user_id": 622310, "user_type": "registered", "accept_rate": 33, "profile_image": "https://www.gravatar.com/avatar/8b6d35219e1808520bc238b28161e2e6?s=128&d=identicon&r=PG", "display_name": "Borodin", "link": "https://stackoverflow.com/users/622310/borodin"}, "reply_to_user": {"reputation": 51521, "user_id": 2566198, "user_type": "registered", "accept_rate": 67, "profile_image": "https://i.stack.imgur.com/Y34ZA.jpg?s=128&g=1", "display_name": "Sobrique", "link": "https://stackoverflow.com/users/2566198/sobrique"}, "edited": false, "score": 0, "creation_date": 1464181782, "post_id": 37437177, "comment_id": 62378977, "body": "@Sobrique: I get what you&#39;re saying, but I think I prefer a simple <code>defined</code> test over <code>ne &#39;ERRORVALUE&#39;</code>. As Bulrush says above, most often the elements with undefined values shouldn&#39;t have got into the hash in the first place, although I can imagine a number of situations where it could be useful to break that rule"}], "answers": [{"comments": [{"owner": {"reputation": 51521, "user_id": 2566198, "user_type": "registered", "accept_rate": 67, "profile_image": "https://i.stack.imgur.com/Y34ZA.jpg?s=128&g=1", "display_name": "Sobrique", "link": "https://stackoverflow.com/users/2566198/sobrique"}, "edited": false, "score": 5, "creation_date": 1464180046, "post_id": 37437444, "comment_id": 62377516, "body": "Needs a <code>defined</code>. Because otherwise you&#39;ll delete <code>&#39;&#39;</code> and <code>0</code>."}, {"owner": {"reputation": 1184, "user_id": 961977, "user_type": "registered", "accept_rate": 31, "profile_image": "https://i.stack.imgur.com/cmMpW.jpg?s=128&g=1", "display_name": "Jesse van Bekkum", "link": "https://stackoverflow.com/users/961977/jesse-van-bekkum"}, "edited": false, "score": 1, "creation_date": 1544522907, "post_id": 37437444, "comment_id": 94297068, "body": "You need $hash-&gt;{$_}  instead of $hash{$_}. I tried to edit the post, but stack overflow needs 6 chars, and I had only 4 chars to improve."}], "tags": [], "owner": {"user_type": "does_not_exist", "display_name": "user6340684"}, "is_accepted": false, "score": 3, "last_activity_date": 1584456455, "last_edit_date": 1584456455, "creation_date": 1464179955, "answer_id": 37437444, "question_id": 37437177, "link": "https://stackoverflow.com/questions/37437177/removing-a-hash-element-if-its-value-is-undef/37437444#37437444", "title": "Removing a hash element if its value is &quot;undef&quot;", "body": "<pre><code>foreach (keys %hash) {\n    delete $hash-&gt;{$_} unless defined $hash-&gt;{$_};\n}\n</code></pre>\n"}, {"tags": [], "owner": {"reputation": 123805, "user_id": 622310, "user_type": "registered", "accept_rate": 33, "profile_image": "https://www.gravatar.com/avatar/8b6d35219e1808520bc238b28161e2e6?s=128&d=identicon&r=PG", "display_name": "Borodin", "link": "https://stackoverflow.com/users/622310/borodin"}, "is_accepted": false, "score": 8, "last_activity_date": 1464180900, "creation_date": 1464180900, "answer_id": 37437828, "question_id": 37437177, "link": "https://stackoverflow.com/questions/37437177/removing-a-hash-element-if-its-value-is-undef/37437828#37437828", "title": "Removing a hash element if its value is &quot;undef&quot;", "body": "<p>I suggest that you delete a hash slice, using <code>grep</code> to determine which keys correspond to an undefined value</p>\n\n<pre><code>use strict;\nuse warnings 'all';\n\nmy %h = (\n    a =&gt; 1,\n    b =&gt; undef,\n    c =&gt; 1,\n    d =&gt; undef,\n);\n\ndelete @h{ grep { not defined $h{$_} } keys %h };\n\nuse Data::Dump;\ndd \\%h;\n</code></pre>\n\n<h3>output</h3>\n\n<pre><code>{ a =&gt; 1, c =&gt; 1 }\n</code></pre>\n"}], "owner": {"reputation": 83, "user_id": 5634392, "user_type": "registered", "accept_rate": 67, "profile_image": "https://i.stack.imgur.com/K9mh4.jpg?s=128&g=1", "display_name": "BashingPerl", "link": "https://stackoverflow.com/users/5634392/bashingperl"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 1655, "favorite_count": 0, "answer_count": 2, "score": -2, "last_activity_date": 1584456455, "creation_date": 1464179340, "last_edit_date": 1464181356, "question_id": 37437177, "link": "https://stackoverflow.com/questions/37437177/removing-a-hash-element-if-its-value-is-undef", "title": "Removing a hash element if its value is &quot;undef&quot;", "body": "<p>I have seen <code>delete</code> that deletes a hash element. But what if some of the elements dates have <code>undef</code> for a value?</p>\n\n<p>I would like to delete all hash elements whose value is <code>undef</code>.</p>\n\n<p>How would I do that in a single line, or the simplest way.</p>\n"}, {"tags": ["bash", "perl", "shell", "cgi-bin"], "comments": [{"owner": {"reputation": 1932, "user_id": 2322941, "user_type": "registered", "accept_rate": 100, "profile_image": "https://i.stack.imgur.com/OCqy9.jpg?s=128&g=1", "display_name": "Stefan Hegny", "link": "https://stackoverflow.com/users/2322941/stefan-hegny"}, "edited": false, "score": 0, "creation_date": 1464178563, "post_id": 37436268, "comment_id": 62376351, "body": "you can&#39;t execute a cgi in the browser, cgi is serverside. I suggest you edit your question. Otherwise, the output of your subsequently triggered cgis will appear appended."}, {"owner": {"reputation": 62184, "user_id": 7231, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/81b76985f3985e35492e25880493d045?s=128&d=identicon&r=PG", "display_name": "Dave Cross", "link": "https://stackoverflow.com/users/7231/dave-cross"}, "edited": false, "score": 1, "creation_date": 1464180145, "post_id": 37436268, "comment_id": 62377604, "body": "Sounds like an X-Y problem. It seems likely that if you took a step back and explained what you are trying to do at a higher level, then we could help you come up with a strategy for solving your problem."}], "answers": [{"comments": [{"owner": {"reputation": 23, "user_id": 6218011, "user_type": "registered", "accept_rate": 17, "profile_image": "https://www.gravatar.com/avatar/d52e272c1b045288167266a115358a24?s=128&d=identicon&r=PG&f=1", "display_name": "anonymous", "link": "https://stackoverflow.com/users/6218011/anonymous"}, "edited": false, "score": 0, "creation_date": 1464856785, "post_id": 37438381, "comment_id": 62658919, "body": "i need to run cgi in browser"}, {"owner": {"reputation": 1932, "user_id": 2322941, "user_type": "registered", "accept_rate": 100, "profile_image": "https://i.stack.imgur.com/OCqy9.jpg?s=128&g=1", "display_name": "Stefan Hegny", "link": "https://stackoverflow.com/users/2322941/stefan-hegny"}, "reply_to_user": {"reputation": 23, "user_id": 6218011, "user_type": "registered", "accept_rate": 17, "profile_image": "https://www.gravatar.com/avatar/d52e272c1b045288167266a115358a24?s=128&d=identicon&r=PG&f=1", "display_name": "anonymous", "link": "https://stackoverflow.com/users/6218011/anonymous"}, "edited": false, "score": 0, "creation_date": 1464857509, "post_id": 37438381, "comment_id": 62659430, "body": "just repeating an impossible question won&#39;t help you get an answer I&#39;m sorry. - if want the earth to rotate westward and want help I won&#39;t get it neither."}], "tags": [], "owner": {"reputation": 1932, "user_id": 2322941, "user_type": "registered", "accept_rate": 100, "profile_image": "https://i.stack.imgur.com/OCqy9.jpg?s=128&g=1", "display_name": "Stefan Hegny", "link": "https://stackoverflow.com/users/2322941/stefan-hegny"}, "is_accepted": false, "score": 0, "last_activity_date": 1464182158, "creation_date": 1464182158, "answer_id": 37438381, "question_id": 37436268, "link": "https://stackoverflow.com/questions/37436268/run-cgi-file-from-shell-script/37438381#37438381", "title": "run cgi file from shell script", "body": "<p>simply add <code>./cgi.cgi</code> after <code>./1.script.sh</code> ? If the second ... 6. scripts are all called inside 1.script.sh then after that call <code>cgi.cgi</code>; or I misunderstood something...</p>\n\n<pre><code>#!/bin/sh\nprintf \"Content-Type: text/plain\\n\\n\"\necho -n \" Starting\"\n./1.script.sh\n./cgi.cgi\n</code></pre>\n"}], "owner": {"reputation": 23, "user_id": 6218011, "user_type": "registered", "accept_rate": 17, "profile_image": "https://www.gravatar.com/avatar/d52e272c1b045288167266a115358a24?s=128&d=identicon&r=PG&f=1", "display_name": "anonymous", "link": "https://stackoverflow.com/users/6218011/anonymous"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 917, "favorite_count": 0, "answer_count": 1, "score": 0, "last_activity_date": 1464182158, "creation_date": 1464177009, "question_id": 37436268, "link": "https://stackoverflow.com/questions/37436268/run-cgi-file-from-shell-script", "title": "run cgi file from shell script", "body": "<p>I have a set of 20 shell script files, in cgi-bin when firest .sh file runs the next one is triggered at the end of each script. i want to execute a .cgi in browser after certain scripts. Any way to achieve it?</p>\n\n<p>this is first sh file which is triggered</p>\n\n<pre><code>#!/bin/sh\nprintf \"Content-Type: text/plain\\n\\n\"\necho -n \" Starting\"\n./1.script.sh\n</code></pre>\n\n<p>1.script runs in same way and triggers 2.script.sh and so on after running 6.script.sh i want cgi.cgi file to be executed in the browser. </p>\n"}, {"tags": ["perl", "rollingfileappender"], "answers": [{"tags": [], "owner": {"reputation": 123805, "user_id": 622310, "user_type": "registered", "accept_rate": 33, "profile_image": "https://www.gravatar.com/avatar/8b6d35219e1808520bc238b28161e2e6?s=128&d=identicon&r=PG", "display_name": "Borodin", "link": "https://stackoverflow.com/users/622310/borodin"}, "is_accepted": false, "score": 5, "last_activity_date": 1464178387, "creation_date": 1464178387, "answer_id": 37436772, "question_id": 37436148, "link": "https://stackoverflow.com/questions/37436148/rotate-a-normal-file-after-certain-size-like-a-log-file-in-perl/37436772#37436772", "title": "Rotate a normal file after certain size like a log file in perl", "body": "<p>The problem has already been solved. CPAN modules <a href=\"https://metacpan.org/pod/Logfile::Rotate\"><code>Logfile::Rotate</code></a> or <a href=\"https://metacpan.org/pod/File::Write::Rotate\"><code>File::Write::Rotate</code></a> have been created exactly for this purpose</p>\n\n<p>Unfortunately I have used neither, and so can't offer an opinion about which of them is the best choice for you</p>\n"}], "owner": {"reputation": 1673, "user_id": 1919092, "user_type": "registered", "accept_rate": 52, "profile_image": "https://i.stack.imgur.com/tAQlZ.jpg?s=128&g=1", "display_name": "learner", "link": "https://stackoverflow.com/users/1919092/learner"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 140, "favorite_count": 0, "answer_count": 1, "score": 0, "last_activity_date": 1464178387, "creation_date": 1464176668, "question_id": 37436148, "link": "https://stackoverflow.com/questions/37436148/rotate-a-normal-file-after-certain-size-like-a-log-file-in-perl", "title": "Rotate a normal file after certain size like a log file in perl", "body": "<p>I have a use case where I am writing to a file directly and wanted it to rotate automatically as log files do.</p>\n\n<p>One solution I have in mind was to check file size before every write and if size exceed move it to filename.1 (and other files to increment there last count and delete last file if it is more than required number of files).</p>\n\n<p>Is there better way to do this?</p>\n\n<p>Please note I am writing this to file only once per invocation of my process.</p>\n"}, {"tags": ["html", "perl", "parsing", "html-table"], "comments": [{"owner": {"reputation": 50468, "user_id": 1331451, "user_type": "registered", "accept_rate": 96, "profile_image": "https://i.stack.imgur.com/4ZPmj.png?s=128&g=1", "display_name": "simbabque", "link": "https://stackoverflow.com/users/1331451/simbabque"}, "edited": false, "score": 2, "creation_date": 1464163508, "post_id": 37431079, "comment_id": 62366128, "body": "I don&#39;t see how you would translate divs to a table. Where are the rows, where are the columns? How can you have a coordinate with a div layout? It would be easier if you show us those websites."}, {"owner": {"reputation": 542, "user_id": 5195778, "user_type": "registered", "accept_rate": 0, "profile_image": "https://www.gravatar.com/avatar/76625f2105397904d15891d665a9a2fc?s=128&d=identicon&r=PG&f=1", "display_name": "JOhnlw009a", "link": "https://stackoverflow.com/users/5195778/johnlw009a"}, "reply_to_user": {"reputation": 50468, "user_id": 1331451, "user_type": "registered", "accept_rate": 96, "profile_image": "https://i.stack.imgur.com/4ZPmj.png?s=128&g=1", "display_name": "simbabque", "link": "https://stackoverflow.com/users/1331451/simbabque"}, "edited": false, "score": 0, "creation_date": 1464167812, "post_id": 37431079, "comment_id": 62368858, "body": "div2table does not work at all? is there somehow another way of parsing, building json/xml out of html, using a module liek HTML::TableExtract  for extracting html5 files?"}, {"owner": {"reputation": 987, "user_id": 2477470, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/c7b7584facc4bb3844860a0e50e9ff20?s=128&d=identicon&r=PG", "display_name": "Richard", "link": "https://stackoverflow.com/users/2477470/richard"}, "edited": false, "score": 0, "creation_date": 1464176037, "post_id": 37431079, "comment_id": 62374496, "body": "download the source <a href=\"http://cpansearch.perl.org/src/MSISK/HTML-TableExtract-2.13/lib/HTML/TableExtract.pm\" rel=\"nofollow noreferrer\">cpansearch.perl.org/src/MSISK/HTML-TableExtract-2.13/lib/HTM&zwnj;&#8203;L/&hellip;</a> make copy, rename to DivExtract and replace &#39;table&#39; &#39;tr&#39; and &#39;td&#39; with divs. The problem would be how to map which div is the 1st level (table), 2nd level (tr - row) or 3rd or more (td)"}, {"owner": {"reputation": 542, "user_id": 5195778, "user_type": "registered", "accept_rate": 0, "profile_image": "https://www.gravatar.com/avatar/76625f2105397904d15891d665a9a2fc?s=128&d=identicon&r=PG&f=1", "display_name": "JOhnlw009a", "link": "https://stackoverflow.com/users/5195778/johnlw009a"}, "edited": false, "score": 0, "creation_date": 1464368073, "post_id": 37431079, "comment_id": 62473817, "body": "Thanks a ton. Is there any other idea so far?"}], "owner": {"reputation": 542, "user_id": 5195778, "user_type": "registered", "accept_rate": 0, "profile_image": "https://www.gravatar.com/avatar/76625f2105397904d15891d665a9a2fc?s=128&d=identicon&r=PG&f=1", "display_name": "JOhnlw009a", "link": "https://stackoverflow.com/users/5195778/johnlw009a"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 1185, "favorite_count": 0, "answer_count": 0, "score": 1, "last_activity_date": 1485111933, "creation_date": 1464163140, "last_edit_date": 1485111933, "question_id": 37431079, "link": "https://stackoverflow.com/questions/37431079/convert-div-to-table-extract-div-or-table", "title": "Convert div to table; extract div or table", "body": "<p>I parsed a website containing main content in a table using HTML::TableExtract. That works fine. Another website has the main content in div tags stored.</p>\n\n<p>I would like to:</p>\n\n<ol>\n<li>convert div to table using HTML::TableExtract\nor</li>\n<li>parsing the div tags like HTML::TableExtract</li>\n</ol>\n\n<p>The major goal is not to find/parse the HTML file with classes and tags, because the website is changing their layout (html classes) in little ways almost every \nweek, so the parsing would would slightly fail at some points. Using HTML::TableExtract and parse with coords of the table, they would be much more independency. </p>\n\n<p>Does anyone has an idea?</p>\n"}, {"tags": ["multithreading", "perl", "semaphore"], "comments": [{"owner": {"reputation": 1133, "user_id": 2185890, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/330b262ed789de0997e720dce8ee1af0?s=128&d=identicon&r=PG", "display_name": "LaintalAy", "link": "https://stackoverflow.com/users/2185890/laintalay"}, "edited": false, "score": 0, "creation_date": 1464162457, "post_id": 37428756, "comment_id": 62365546, "body": "<code>if ($num=$n)</code> should be <code>if ($num==$n)</code>"}, {"owner": {"reputation": 1133, "user_id": 2185890, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/330b262ed789de0997e720dce8ee1af0?s=128&d=identicon&r=PG", "display_name": "LaintalAy", "link": "https://stackoverflow.com/users/2185890/laintalay"}, "edited": false, "score": 0, "creation_date": 1464162784, "post_id": 37428756, "comment_id": 62365712, "body": "also, the last <code>sleep 1</code> which is after the return will never be executed. I strongly recommend not to put several statements in a line, even less <code>if</code> statements except if they are trivial in the form of <code>do_something if $check</code>."}], "answers": [{"tags": [], "owner": {"reputation": 51521, "user_id": 2566198, "user_type": "registered", "accept_rate": 67, "profile_image": "https://i.stack.imgur.com/Y34ZA.jpg?s=128&g=1", "display_name": "Sobrique", "link": "https://stackoverflow.com/users/2566198/sobrique"}, "is_accepted": true, "score": 0, "last_activity_date": 1464164528, "creation_date": 1464164528, "answer_id": 37431553, "question_id": 37428756, "link": "https://stackoverflow.com/questions/37428756/work-with-threadsemaphore-limit-the-number-of-threads/37431553#37431553", "title": "Work with Thread::Semaphore.Limit the number of threads", "body": "<p>Semaphores are nothing more complicated than a shared counter. </p>\n\n<p>When you call <code>down()</code> the counter is decreased - and it will block if it cannot. If you call <code>up()</code> the count is incremented. (And anything blocking will be released). </p>\n\n<p>However, until that 'block' occurs, the threads can - and will - execute in an undefined order, that you should assume is random. (It isn't entirely, but relying on any particular sequence will create race conditions).</p>\n\n<p>It's not complicated, but one of the things that <em>can</em> trip you up is buffering - print statements in threads may get buffered, so appear to arrive in strange order.</p>\n\n<p>E.g.:</p>\n\n<pre><code>#! usr/bin/perl -w\nuse strict;\nuse warnings;\nuse 5.010;\nuse threads;\nuse threads::shared;\nuse Thread::Semaphore;\n\n\nmy $sem = Thread::Semaphore-&gt;new(1);\n#turn off buffering\n$|++;\n\nsub wait_for_sem {\n   print threads -&gt; self -&gt; tid. \": waiting for semaphore\\n\"; \n   $sem -&gt; down(); \n   print threads -&gt; self -&gt; tid. \": got semaphore\\n\"; \n   sleep rand 3;\n   print threads -&gt; self -&gt; tid. \": releasing semaphore\\n\"; \n   $sem -&gt; up; \n\n}\n\nthreads -&gt; create ( \\&amp;wait_for_sem ) for 1..100; \nforeach my $thr ( threads -&gt; list ) { \n   print \"Waiting for \".$thr-&gt;tid.\" to join\\n\"; \n   $thr -&gt; join;\n   print \"Joined \".$thr-&gt;tid.\"\\n\"; \n}\n</code></pre>\n\n<p>I think buffering is what's going wrong with your code - try it with <code>$|++</code>. </p>\n"}], "owner": {"reputation": 129, "user_id": 6378273, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/nsko5.png?s=128&g=1", "display_name": "QWD666", "link": "https://stackoverflow.com/users/6378273/qwd666"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 164, "favorite_count": 0, "accepted_answer_id": 37431553, "answer_count": 1, "score": 0, "last_activity_date": 1464164528, "creation_date": 1464155348, "last_edit_date": 1464163135, "question_id": 37428756, "link": "https://stackoverflow.com/questions/37428756/work-with-threadsemaphore-limit-the-number-of-threads", "title": "Work with Thread::Semaphore.Limit the number of threads", "body": "<p>I can not deal with Semapfor. As they run, so they passed on one stream? In fact, the variable $ n Randomnaya taken from <strong>0</strong> to <strong>2</strong>. When the condition that $ n = $ it (# $ num - stream number), the message, then the flow $ num smokes. Others (# where $ n! = $ Num) should be skipped. The message \"trade does not smoke.\" The situation is that it passes all the threads at once and where it is not necessary, he deduces that the flow $ num smokes (# in fact gives the correct number, but it does not fit the situation).</p>\n\n<pre><code>#! usr/bin/perl -w\nuse strict;\nuse warnings;\nuse 5.010;\nuse threads;\nuse threads::shared;\nuse Thread::Semaphore;\n\n\nmy $sem = Thread::Semaphore-&gt;new(1);\nmy $n   = int rand(3);\nsay $n;\nmy $shr : shared = 1;\nmy $threads = 2;\nmy @threads;\n\nfor my $t ( 0 .. $threads ) {\n   push @threads, threads-&gt;create( \\&amp;smoke, $t );\n}\n# \u0414\u043e\u0436\u0438\u0434\u0430\u0435\u043c\u0441\u044f \u043e\u043a\u043e\u043d\u0447\u0430\u043d\u0438\u044f \u0440\u0430\u0431\u043e\u0442\u044b \u0432\u0441\u0435\u0445 \u043f\u043e\u0442\u043e\u043a\u043e\u0432\nfor my $t (@threads) { $t-&gt;join(); }\n\n\nsub smoke {\n   my $num = shift;\n\n   $sem-&gt;down;\n   say \"+Thread $num started\";\n   sleep 1;\n   if ( $num = $n ) { sleep 2; say \"Thread $num -- smoke\"; }\n   say \"-Thread $num done. \\n\";\n\n   if ( $num != $n ) {\n      say \"-Thread $num dont smoke!. \\n\";\n   }\n   { lock($shr); $shr++ }\n   $sem-&gt;up;\n\n   return;\n   sleep 1;\n}\n</code></pre>\n"}, {"tags": ["perl", "reference"], "comments": [{"owner": {"reputation": 11096, "user_id": 2749717, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/46af1ef54856d737d52b7667afd240ee?s=128&d=identicon&r=PG&f=1", "display_name": "bipll", "link": "https://stackoverflow.com/users/2749717/bipll"}, "edited": false, "score": 0, "creation_date": 1464145306, "post_id": 37427026, "comment_id": 62359017, "body": "And what&#39;s not Perlish to this code? If you have your own standard module included in every script, you can hide this dereferencing in a function exported from that module. Additionally, you can sequence hashes, too."}, {"owner": {"reputation": 22367, "user_id": 2288659, "user_type": "registered", "accept_rate": 90, "profile_image": "https://i.stack.imgur.com/bBg8v.png?s=128&g=1", "display_name": "Silvio Mayolo", "link": "https://stackoverflow.com/users/2288659/silvio-mayolo"}, "reply_to_user": {"reputation": 11096, "user_id": 2749717, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/46af1ef54856d737d52b7667afd240ee?s=128&d=identicon&r=PG&f=1", "display_name": "bipll", "link": "https://stackoverflow.com/users/2749717/bipll"}, "edited": false, "score": 0, "creation_date": 1464145932, "post_id": 37427026, "comment_id": 62359161, "body": "The main thing that bothers me is the fact that the name appears three times in the line. I&#39;d like to avoid that temporary <code>$result</code> variable altogether, but that may be asking too much."}, {"owner": {"reputation": 35763, "user_id": 183181, "user_type": "registered", "accept_rate": 81, "profile_image": "https://www.gravatar.com/avatar/f6642797870d2dd20e4a5c8df347562c?s=128&d=identicon&r=PG", "display_name": "vol7ron", "link": "https://stackoverflow.com/users/183181/vol7ron"}, "edited": false, "score": 0, "creation_date": 1464146426, "post_id": 37427026, "comment_id": 62359264, "body": "Don&#39;t you have control over <code>my_complicated_expression</code>? Why aren&#39;t you <i>always</i> returning an array ref?"}, {"owner": {"reputation": 22367, "user_id": 2288659, "user_type": "registered", "accept_rate": 90, "profile_image": "https://i.stack.imgur.com/bBg8v.png?s=128&g=1", "display_name": "Silvio Mayolo", "link": "https://stackoverflow.com/users/2288659/silvio-mayolo"}, "edited": false, "score": 0, "creation_date": 1464146508, "post_id": 37427026, "comment_id": 62359277, "body": "I don&#39;t. It makes a call to someone else&#39;s old library code that&#39;s (if you ask me) written pretty sloppily. That&#39;s why I have this problem."}, {"owner": {"reputation": 320771, "user_id": 589924, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/b2cf53d5a3d25f95c0db4e025aed4153?s=128&d=identicon&r=PG", "display_name": "ikegami", "link": "https://stackoverflow.com/users/589924/ikegami"}, "edited": false, "score": 0, "creation_date": 1464186857, "post_id": 37427026, "comment_id": 62383068, "body": "It&#39;s not very Perlish, but that&#39;s because your design is not very Perlish. Generally, you want a design that doesn&#39;t make you check what type of data a scalar contains, since such checks aren&#39;t generally reliable."}], "answers": [{"comments": [{"owner": {"reputation": 22367, "user_id": 2288659, "user_type": "registered", "accept_rate": 90, "profile_image": "https://i.stack.imgur.com/bBg8v.png?s=128&g=1", "display_name": "Silvio Mayolo", "link": "https://stackoverflow.com/users/2288659/silvio-mayolo"}, "edited": false, "score": 0, "creation_date": 1464146433, "post_id": 37427187, "comment_id": 62359267, "body": "Unfortunately, I don&#39;t have that luxury. It&#39;s very possible that the value in question is in fact a hash reference, not necessarily just a scalar, in which case I&#39;d like it to do the second thing and iterate once as well."}, {"owner": {"reputation": 2690, "user_id": 5869736, "user_type": "registered", "accept_rate": 75, "profile_image": "https://www.gravatar.com/avatar/b18e361761e0643fd9003f9eae40ba45?s=128&d=identicon&r=PG&f=1", "display_name": "Marty", "link": "https://stackoverflow.com/users/5869736/marty"}, "reply_to_user": {"reputation": 22367, "user_id": 2288659, "user_type": "registered", "accept_rate": 90, "profile_image": "https://i.stack.imgur.com/bBg8v.png?s=128&g=1", "display_name": "Silvio Mayolo", "link": "https://stackoverflow.com/users/2288659/silvio-mayolo"}, "edited": false, "score": 0, "creation_date": 1464146591, "post_id": 37427187, "comment_id": 62359291, "body": "If its a hashref, do you want the keys, the values, or both?  Also, how do you &quot;do the second thing&quot; with a hashref?  The second thing was to print one scalar value, but if you have a hash, there&#39;s going to be more than one value."}, {"owner": {"reputation": 22367, "user_id": 2288659, "user_type": "registered", "accept_rate": 90, "profile_image": "https://i.stack.imgur.com/bBg8v.png?s=128&g=1", "display_name": "Silvio Mayolo", "link": "https://stackoverflow.com/users/2288659/silvio-mayolo"}, "edited": false, "score": 0, "creation_date": 1464146673, "post_id": 37427187, "comment_id": 62359310, "body": "If it&#39;s a hashref, I want to iterate once over the single value which is the whole hashref. I don&#39;t want the loop to do anything special unless it&#39;s an array ref specifically."}, {"owner": {"reputation": 2690, "user_id": 5869736, "user_type": "registered", "accept_rate": 75, "profile_image": "https://www.gravatar.com/avatar/b18e361761e0643fd9003f9eae40ba45?s=128&d=identicon&r=PG&f=1", "display_name": "Marty", "link": "https://stackoverflow.com/users/5869736/marty"}, "reply_to_user": {"reputation": 22367, "user_id": 2288659, "user_type": "registered", "accept_rate": 90, "profile_image": "https://i.stack.imgur.com/bBg8v.png?s=128&g=1", "display_name": "Silvio Mayolo", "link": "https://stackoverflow.com/users/2288659/silvio-mayolo"}, "edited": false, "score": 0, "creation_date": 1464146960, "post_id": 37427187, "comment_id": 62359368, "body": "Then you are going to have to check for ARRAY ref specifically.  I&#39;m going to leave my answer as is for others who don&#39;t have the &quot;other possibilities&quot; problem.  The other possibility is to modify whatever is producing the result to always return an array ref."}, {"owner": {"reputation": 22367, "user_id": 2288659, "user_type": "registered", "accept_rate": 90, "profile_image": "https://i.stack.imgur.com/bBg8v.png?s=128&g=1", "display_name": "Silvio Mayolo", "link": "https://stackoverflow.com/users/2288659/silvio-mayolo"}, "edited": false, "score": 0, "creation_date": 1464147861, "post_id": 37427187, "comment_id": 62359585, "body": "Well, it was worth a shot, but I suppose you answered my question, even though I&#39;m not fond of the conclusion. I&#39;ll just have to do it the long way."}], "tags": [], "owner": {"reputation": 2690, "user_id": 5869736, "user_type": "registered", "accept_rate": 75, "profile_image": "https://www.gravatar.com/avatar/b18e361761e0643fd9003f9eae40ba45?s=128&d=identicon&r=PG&f=1", "display_name": "Marty", "link": "https://stackoverflow.com/users/5869736/marty"}, "is_accepted": true, "score": 3, "last_activity_date": 1464146185, "creation_date": 1464146185, "answer_id": 37427187, "question_id": 37427026, "link": "https://stackoverflow.com/questions/37427026/dereferencing-conditionally-in-perl/37427187#37427187", "title": "Dereferencing Conditionally in Perl", "body": "<p>Being perl, there's going to be several answers to this with the 'right' one being a matter of taste - IMHO, an acceptable shortening involves relying on the fact that <a href=\"http://perldoc.perl.org/functions/ref.html\" rel=\"nofollow\">the ref function returns the empty string</a> if the expression given it is scalar.  This means you don't need the <code>eq 'ARRAY'</code> if you know there are only two possibilities (ie, a scalar value and an array ref).</p>\n\n<p>Secondly, you can iterate over a single scalar value (producing 1 iteration, obviously), so you don't have to put the <code>$result</code> in parentheses in the \"scalar\" case.</p>\n\n<p>Putting these two small simplifications togeather gives;</p>\n\n<pre><code>use v5.12;\n\nmy $result1 = \"Hello World\";\nmy $result2 = [ \"Hello\" , \"World\" ];\n\nfor my $result ($result1, $result2) {\n    for my $value ( ref $result ? @$result : $result) {\n        say $value ;\n    }\n}\n</code></pre>\n\n<p>which produces;</p>\n\n<pre><code>Hello World\nHello\nWorld\n</code></pre>\n\n<p>There's likely to be 'fancier' things you can do, but this seems a reasonable compromise between being terse and readable.  Of course, YMMV.</p>\n"}, {"tags": [], "owner": {"reputation": 35763, "user_id": 183181, "user_type": "registered", "accept_rate": 81, "profile_image": "https://www.gravatar.com/avatar/f6642797870d2dd20e4a5c8df347562c?s=128&d=identicon&r=PG", "display_name": "vol7ron", "link": "https://stackoverflow.com/users/183181/vol7ron"}, "is_accepted": false, "score": 4, "last_activity_date": 1464149170, "last_edit_date": 1464149170, "creation_date": 1464146746, "answer_id": 37427265, "question_id": 37427026, "link": "https://stackoverflow.com/questions/37427026/dereferencing-conditionally-in-perl/37427265#37427265", "title": "Dereferencing Conditionally in Perl", "body": "<p>Just force it before the loop.</p>\n\n<h2>Limited, known ref type</h2>\n\n<pre><code>my $result = *some function call* // [];\n$result    = [$result] if ref $result ne 'ARRAY';\n\nfor my $val ( @$result ){\n   print $val;\n}\n</code></pre>\n\n<h1>Ref type unknown</h1>\n\n<pre><code>#!/usr/bin/perl\nuse 5.012;\n\nuse strict;\nno warnings;\n\nsub array_ref;\n\nmy $result = [qw/foo bar foobar/];\n # $result = 'foo';         # scalar test case \n # $result = {foo=&gt;q{bar}}; # hash   test case\n$result = array_ref $result;\n\nfor my $val ( @$result ){\n  say $val;\n}\n\nsub array_ref {\n  my $ref = shift;\n  given(ref $ref){\n    $ref = [%$ref] when('HASH');\n    $ref = [$ref]  when(['SCALAR','']);\n    when('ARRAY'){}\n    default {\n      die 'Did not prepare for other ref types';\n    }\n  }\n  return $ref;\n}\n</code></pre>\n\n<p>This is for demo purposes (you shouldn't use given/when in production code), but shows you could easily test for the ref type and cast a new response.  However, if you really don't know what type of variable your function is returning, how are you sure it's even a reference.  What if it was an array or hash?</p>\n"}, {"tags": [], "owner": {"reputation": 11096, "user_id": 2749717, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/46af1ef54856d737d52b7667afd240ee?s=128&d=identicon&r=PG&f=1", "display_name": "bipll", "link": "https://stackoverflow.com/users/2749717/bipll"}, "is_accepted": false, "score": -1, "last_activity_date": 1464147124, "creation_date": 1464147124, "answer_id": 37427328, "question_id": 37427026, "link": "https://stackoverflow.com/questions/37427026/dereferencing-conditionally-in-perl/37427328#37427328", "title": "Dereferencing Conditionally in Perl", "body": "<pre><code>sub deref {\n    map ref($_) eq 'ARRAY'? @$_ : ref($_) eq 'HASH'? %$_ : $_, @_\n}\n\nsub myCompExpr {\n    1, 2, 3, [4, 5, 6], {Hello =&gt; 'world', Answer =&gt; 42}\n}\n\nprint $_ for deref myCompExpr\n</code></pre>\n"}, {"comments": [{"owner": {"reputation": 53041, "user_id": 4653379, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/b3953dbedd0dabff5cbc3db9b0835b14?s=128&d=identicon&r=PG&f=1", "display_name": "zdim", "link": "https://stackoverflow.com/users/4653379/zdim"}, "edited": false, "score": 0, "creation_date": 1464155023, "post_id": 37428487, "comment_id": 62361777, "body": "I have to add: with all that punctuation this is &quot;Perlish&quot; as wanted, no?"}, {"owner": {"reputation": 53041, "user_id": 4653379, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/b3953dbedd0dabff5cbc3db9b0835b14?s=128&d=identicon&r=PG&f=1", "display_name": "zdim", "link": "https://stackoverflow.com/users/4653379/zdim"}, "edited": false, "score": 0, "creation_date": 1464294568, "post_id": 37428487, "comment_id": 62439445, "body": "@SilvioMayolo  Just to let you know -- I think that this is what you asked for (as close as it comes, it&#39;s not pretty or nice). For a production solution I would recommend a tiny sub of your own, which then may write it out clearly as it&#39;s out of the way. (Then you can do even more there.)  It makes sense design-wise, since it does handle something particular."}], "tags": [], "owner": {"reputation": 53041, "user_id": 4653379, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/b3953dbedd0dabff5cbc3db9b0835b14?s=128&d=identicon&r=PG&f=1", "display_name": "zdim", "link": "https://stackoverflow.com/users/4653379/zdim"}, "is_accepted": false, "score": 1, "last_activity_date": 1466664589, "last_edit_date": 1466664589, "creation_date": 1464154218, "answer_id": 37428487, "question_id": 37427026, "link": "https://stackoverflow.com/questions/37427026/dereferencing-conditionally-in-perl/37428487#37428487", "title": "Dereferencing Conditionally in Perl", "body": "<p>I see that I'm late to this, but I can't help it. With <code>eval</code> and <code>$@</code>, and the comma operator</p>\n\n<pre><code>my $ra = [ qw(a b c) ];\nmy $x = 23;\n\nmy $var = $ra;\n# my $var = $x;    # swap comment to test the other\n\nforeach my $el ( eval { @{$var} }, $@ &amp;&amp; $var ) \n{\n    next if $el =~ /^$/;  # when @$var is good comma adds empty line\n    print $el, \"\\n\";\n}\n</code></pre>\n\n<p>Prints <code>a b c</code> (one per line), if we swap to <code>my $var = $x</code> it prints <code>23</code>.</p>\n\n<p>When <code>$var</code> has the reference, the <code>$@</code> is empty but the comma is still executed and this adds an empty line, thus the <code>next</code> in the loop. Alternatively to skipping empty lines one can filter them out</p>\n\n<pre><code>foreach my $el ( grep { !/^$/ } eval { @{$var} }, $@ &amp;&amp; $var ) \n</code></pre>\n\n<hr>\n\n<p>This does, in addition, clean out empty lines.  However, most of the time that is desirable.</p>\n"}], "owner": {"reputation": 22367, "user_id": 2288659, "user_type": "registered", "accept_rate": 90, "profile_image": "https://i.stack.imgur.com/bBg8v.png?s=128&g=1", "display_name": "Silvio Mayolo", "link": "https://stackoverflow.com/users/2288659/silvio-mayolo"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 156, "favorite_count": 0, "accepted_answer_id": 37427187, "answer_count": 4, "score": 1, "last_activity_date": 1466664589, "creation_date": 1464144913, "question_id": 37427026, "link": "https://stackoverflow.com/questions/37427026/dereferencing-conditionally-in-perl", "title": "Dereferencing Conditionally in Perl", "body": "<p>I have a scalar that may or may not be a reference to an array. If it is a reference to an array, I would like to dereference it and iterate over it. If not, I would like to treat it as a one-element array and iterate over that.</p>\n\n<pre><code>my $result = my_complicated_expression;\nfor my $value (ref($result) eq 'ARRAY' ? @$result : ($result)) {\n    # Do work with $value\n}\n</code></pre>\n\n<p>Currently, I have the above code, which works fine but feels clunky and not very Perlish. Is there a more concise way to express the idea of dereferencing a value with fallback behavior if the value is not what I expect?</p>\n"}, {"tags": ["perl", "lwp-useragent"], "comments": [{"owner": {"reputation": 89568, "user_id": 3081018, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/Z2NYm.png?s=128&g=1", "display_name": "Steffen Ullrich", "link": "https://stackoverflow.com/users/3081018/steffen-ullrich"}, "edited": false, "score": 0, "creation_date": 1464152034, "post_id": 37424217, "comment_id": 62360704, "body": "The current debug information do not provide much details except that the SSL handshake fails. Could you please provide the packet captures for both the good and the bad connection (the full capture at cloudshark.org, not just some text from tcpdump) and also the debug output and specifications of the system which works for comparison? Of relevance might also be the version of Net::SSLeay and openssl used by the systems, i.e. <code>$Net::SSLeay::VERSION</code> and <code>Net::SSLeay::OPENSSL_VERSION_NUMBER()</code> on both systems."}, {"owner": {"reputation": 41, "user_id": 6378278, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/839449c52f2c563159d0f34f531add49?s=128&d=identicon&r=PG&f=1", "display_name": "MWF", "link": "https://stackoverflow.com/users/6378278/mwf"}, "reply_to_user": {"reputation": 89568, "user_id": 3081018, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/Z2NYm.png?s=128&g=1", "display_name": "Steffen Ullrich", "link": "https://stackoverflow.com/users/3081018/steffen-ullrich"}, "edited": false, "score": 0, "creation_date": 1464732176, "post_id": 37424217, "comment_id": 62601471, "body": "Fails ~~~~ Perl v 5.10.1 IO::Socket::SSL v 2.022 LWP::UserAgent v 6.15 LWP::Protocol v 6.15 LWP::Protocol::https v 6.06  $Net::HTTPS::SSL_SOCKET_CLASS  = IO::Socket::SSL IO::Socket::SSL = v 2.022 $Net::SSLeay::VERSION = v 1.72 Net::SSLeay::OPENSSL_VERSION_NUMBER() = 268439647  Works ~~~~~~~~ Perl v 5.10.1 IO::Socket::SSL v 1.31 LWP::UserAgent v 5.833 LWP::Protocol v 5.829 LWP::Protocol::https (not in https.pm)  $Net::HTTPS::SSL_SOCKET_CLASS  = IO::Socket::SSL IO::Socket::SSL = v 1.31 $Net::SSLeay::VERSION = v 1.35 Net::SSLeay::OPENSSL_VERSION_NUMBER() = 268435459"}, {"owner": {"reputation": 41, "user_id": 6378278, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/839449c52f2c563159d0f34f531add49?s=128&d=identicon&r=PG&f=1", "display_name": "MWF", "link": "https://stackoverflow.com/users/6378278/mwf"}, "reply_to_user": {"reputation": 89568, "user_id": 3081018, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/Z2NYm.png?s=128&g=1", "display_name": "Steffen Ullrich", "link": "https://stackoverflow.com/users/3081018/steffen-ullrich"}, "edited": false, "score": 0, "creation_date": 1464732190, "post_id": 37424217, "comment_id": 62601475, "body": "DEBUG: .../IO/Socket/SSL.pm:1471: new ctx 37998400 DEBUG: .../IO/Socket/SSL.pm:332: socket not yet connected DEBUG: .../IO/Socket/SSL.pm:334: socket connected DEBUG: .../IO/Socket/SSL.pm:347: ssl handshake not started DEBUG: .../IO/Socket/SSL.pm:390: Net::SSLeay::connect -&gt; 1 DEBUG: .../IO/Socket/SSL.pm:445: ssl handshake done DEBUG: .../IO/Socket/SSL.pm:1507: free ctx 37998400 open=37998400 DEBUG: .../IO/Socket/SSL.pm:1515: OK free ctx 37998400"}, {"owner": {"reputation": 41, "user_id": 6378278, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/839449c52f2c563159d0f34f531add49?s=128&d=identicon&r=PG&f=1", "display_name": "MWF", "link": "https://stackoverflow.com/users/6378278/mwf"}, "reply_to_user": {"reputation": 89568, "user_id": 3081018, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/Z2NYm.png?s=128&g=1", "display_name": "Steffen Ullrich", "link": "https://stackoverflow.com/users/3081018/steffen-ullrich"}, "edited": false, "score": 0, "creation_date": 1464732206, "post_id": 37424217, "comment_id": 62601480, "body": "Debug in last comment was from the code that worked."}, {"owner": {"reputation": 41, "user_id": 6378278, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/839449c52f2c563159d0f34f531add49?s=128&d=identicon&r=PG&f=1", "display_name": "MWF", "link": "https://stackoverflow.com/users/6378278/mwf"}, "reply_to_user": {"reputation": 89568, "user_id": 3081018, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/Z2NYm.png?s=128&g=1", "display_name": "Steffen Ullrich", "link": "https://stackoverflow.com/users/3081018/steffen-ullrich"}, "edited": false, "score": 0, "creation_date": 1464732272, "post_id": 37424217, "comment_id": 62601502, "body": "I can&#39;t upload to cloudshark.org.  If there is a way to attach screen shot, I can show you the Secure Sockets Layer output for each."}, {"owner": {"reputation": 41, "user_id": 6378278, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/839449c52f2c563159d0f34f531add49?s=128&d=identicon&r=PG&f=1", "display_name": "MWF", "link": "https://stackoverflow.com/users/6378278/mwf"}, "reply_to_user": {"reputation": 89568, "user_id": 3081018, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/Z2NYm.png?s=128&g=1", "display_name": "Steffen Ullrich", "link": "https://stackoverflow.com/users/3081018/steffen-ullrich"}, "edited": false, "score": 0, "creation_date": 1464732505, "post_id": 37424217, "comment_id": 62601572, "body": "One more thing - I tried the openssl test in the other post and it worked without the server name and failed with it."}, {"owner": {"reputation": 89568, "user_id": 3081018, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/Z2NYm.png?s=128&g=1", "display_name": "Steffen Ullrich", "link": "https://stackoverflow.com/users/3081018/steffen-ullrich"}, "edited": false, "score": 0, "creation_date": 1464757171, "post_id": 37424217, "comment_id": 62607843, "body": "the last comment is very interesting. The old version you use does not attempt to use SNI while the new version does by default. If the connection fails when using SNI this might indicate a very buggy server or that you are trying to access the server with the wrong name. To work around it try to set <code>SSL_hostname=&#39;&#39;</code> in <code>ssl_opts</code>. This should disable SNI unless LWP resets it somewhere. Have you tried to access the server with the same name using a recent web browser, because they all use SNI too?"}, {"owner": {"reputation": 41, "user_id": 6378278, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/839449c52f2c563159d0f34f531add49?s=128&d=identicon&r=PG&f=1", "display_name": "MWF", "link": "https://stackoverflow.com/users/6378278/mwf"}, "reply_to_user": {"reputation": 89568, "user_id": 3081018, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/Z2NYm.png?s=128&g=1", "display_name": "Steffen Ullrich", "link": "https://stackoverflow.com/users/3081018/steffen-ullrich"}, "edited": false, "score": 0, "creation_date": 1464881324, "post_id": 37424217, "comment_id": 62677252, "body": "I updated the original posting with info on SSL_hostname.  I did put the URL in an IE11 browser and it seemed OK, but I can&#39;t pass the required credentials.  I think this has something to do with my cloud proxy."}, {"owner": {"reputation": 41, "user_id": 6378278, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/839449c52f2c563159d0f34f531add49?s=128&d=identicon&r=PG&f=1", "display_name": "MWF", "link": "https://stackoverflow.com/users/6378278/mwf"}, "reply_to_user": {"reputation": 89568, "user_id": 3081018, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/Z2NYm.png?s=128&g=1", "display_name": "Steffen Ullrich", "link": "https://stackoverflow.com/users/3081018/steffen-ullrich"}, "edited": false, "score": 0, "creation_date": 1464881877, "post_id": 37424217, "comment_id": 62677677, "body": "After more research, I discovered I had verify_hostname =&gt; 1 when I set SSL_hostname = &#39;&#39;.  I tried with verify = 0 and got a little further.   See me updates in the original post above."}, {"owner": {"reputation": 89568, "user_id": 3081018, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/Z2NYm.png?s=128&g=1", "display_name": "Steffen Ullrich", "link": "https://stackoverflow.com/users/3081018/steffen-ullrich"}, "edited": false, "score": 0, "creation_date": 1464964013, "post_id": 37424217, "comment_id": 62716467, "body": "I think LWP simply does not really support proxies which gets accessed by https. This worked with older LWP versions only because it did not verify the certificates properly."}, {"owner": {"reputation": 41, "user_id": 6378278, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/839449c52f2c563159d0f34f531add49?s=128&d=identicon&r=PG&f=1", "display_name": "MWF", "link": "https://stackoverflow.com/users/6378278/mwf"}, "reply_to_user": {"reputation": 89568, "user_id": 3081018, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/Z2NYm.png?s=128&g=1", "display_name": "Steffen Ullrich", "link": "https://stackoverflow.com/users/3081018/steffen-ullrich"}, "edited": false, "score": 0, "creation_date": 1465221984, "post_id": 37424217, "comment_id": 62797713, "body": "Thank you Steffen for all the help on this.  I had someone try my Perl Lib without a proxy and it worked, so that confirms your statement.  Is there a way to turn off certificate checking in LWP?  I can do this in &#39;wget&#39; and it works with the proxy."}, {"owner": {"reputation": 89568, "user_id": 3081018, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/Z2NYm.png?s=128&g=1", "display_name": "Steffen Ullrich", "link": "https://stackoverflow.com/users/3081018/steffen-ullrich"}, "edited": false, "score": 0, "creation_date": 1465275512, "post_id": 37424217, "comment_id": 62819322, "body": "I really don&#39;t recommend to switch off certificate validation, but if you want  you will <a href=\"https://www.google.com/search?q=lwp+disable+certificate+verification\" rel=\"nofollow noreferrer\">find lots of information about this</a> on the internet."}], "answers": [{"tags": [], "owner": {"reputation": 2298, "user_id": 1147230, "user_type": "registered", "accept_rate": 80, "profile_image": "https://www.gravatar.com/avatar/fe33f45c5990a98cfcb1388581de07af?s=128&d=identicon&r=PG", "display_name": "Sebastian", "link": "https://stackoverflow.com/users/1147230/sebastian"}, "is_accepted": false, "score": 0, "last_activity_date": 1464156223, "creation_date": 1464156223, "answer_id": 37428953, "question_id": 37424217, "link": "https://stackoverflow.com/questions/37424217/500-error-on-lwpuseragent-part-2/37428953#37428953", "title": "500 Error on LWP::UserAgent part 2", "body": "<p>No solution, but maybe a workaround: Try curl instead of libwww, for example <a href=\"http://search.cpan.org/perldoc?WWW::Curl\" rel=\"nofollow\"><code>WWW::Curl</code></a> or <a href=\"http://search.cpan.org/perldoc?LWP::Curl\" rel=\"nofollow\"><code>LWP::Curl</code></a> (looks like it has the same interface as <code>LWP::UserAgent</code>)</p>\n"}], "owner": {"reputation": 41, "user_id": 6378278, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/839449c52f2c563159d0f34f531add49?s=128&d=identicon&r=PG&f=1", "display_name": "MWF", "link": "https://stackoverflow.com/users/6378278/mwf"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 1129, "favorite_count": 1, "answer_count": 1, "score": 4, "last_activity_date": 1464903455, "creation_date": 1464125323, "last_edit_date": 1495541757, "question_id": 37424217, "link": "https://stackoverflow.com/questions/37424217/500-error-on-lwpuseragent-part-2", "title": "500 Error on LWP::UserAgent part 2", "body": "\n\n<p>I have been researching problems with HTTPS 500 Error via LWP::UserAgent.  I've tried everything in <a href=\"https://stackoverflow.com/questions/26732578/500-error-with-lwpuseragent\">500 error with LWP:UserAgent</a> to no avail.  </p>\n\n<p>I have two Perl libraries on the same server (system and my own).  My own library is more recent, but doesn't work.  </p>\n\n<pre class=\"lang-none prettyprint-override\"><code>Perl v 5.10.1\nIO::Socket::SSL v 2.022\nLWP::UserAgent v 6.15\nLWP::Protocol::https v 6.06\n</code></pre>\n\n<p>All are greater than what is recommended in the referenced post.</p>\n\n<p>When I run this with trace on, I get:</p>\n\n<pre class=\"lang-none prettyprint-override\"><code>DEBUG: .../IO/Socket/SSL.pm:2688: new ctx 26906416\nDEBUG: .../IO/Socket/SSL.pm:605: socket not yet connected\nDEBUG: .../IO/Socket/SSL.pm:607: socket connected\nDEBUG: .../IO/Socket/SSL.pm:629: ssl handshake not started\nDEBUG: .../IO/Socket/SSL.pm:662: using SNI with hostname zscaler.edwardjones.com\nDEBUG: .../IO/Socket/SSL.pm:697: request OCSP stapling\nDEBUG: .../IO/Socket/SSL.pm:716: set socket to non-blocking to enforce timeout=180\nDEBUG: .../IO/Socket/SSL.pm:729: call Net::SSLeay::connect\nDEBUG: .../IO/Socket/SSL.pm:732: done Net::SSLeay::connect -&gt; -1\nDEBUG: .../IO/Socket/SSL.pm:742: ssl handshake in progress\nDEBUG: .../IO/Socket/SSL.pm:752: waiting for fd to become ready: SSL wants a read first\nDEBUG: .../IO/Socket/SSL.pm:772: socket ready, retrying connect\nDEBUG: .../IO/Socket/SSL.pm:729: call Net::SSLeay::connect\nDEBUG: .../IO/Socket/SSL.pm:732: done Net::SSLeay::connect -&gt; -1\nDEBUG: .../IO/Socket/SSL.pm:735: local error: SSL connect attempt failed\nDEBUG: .../IO/Socket/SSL.pm:738: fatal SSL error: SSL connect attempt failed\nDEBUG: ...erl5/Net/HTTPS.pm:69: ignoring less severe local error 'IO::Socket::INET configuration failed', keep 'SSL connect attempt failed'\nDEBUG: .../IO/Socket/SSL.pm:2721: free ctx 26906416 open=26906416\nDEBUG: .../IO/Socket/SSL.pm:2726: free ctx 26906416 callback\nDEBUG: .../IO/Socket/SSL.pm:2733: OK free ctx 26906416\n</code></pre>\n\n<p>I used a packet capture and discovered that this uses Secure Socket Layer -> SSL Record Layer.  The older, system library uses Secure Socket Layer -> TLSv1 Record Layer.  The failing packet is > 254 bytes, but I am using newer Perl code.  </p>\n\n<p>I've tried verify_hostname 0 and 1 with no change.<br>\nI've tried SSL_Version => TLSv1 with no change.</p>\n\n<p>Here is the code:</p>\n\n<pre class=\"lang-perl prettyprint-override\"><code>#!/usr/bin/perl\n\nuse strict;\nuse warnings;\n\nuse lib '/opt/mylib/lib/perl5';\n\nuse Data::Dumper;\nuse LWP::UserAgent;\nuse HTTP::Request;\nuse JSON;\n\nuse Net::SSLeay;\n$Net::SSLeay::trace = 2;\n$Net::SSLeay::ssl_version = 10;  #-- force TLSv1\n\nuse IO::Socket::SSL;\n$IO::Socket::SSL::DEBUG = 3;\n\nuse constant {\n    TOKEN              =&gt; 'xxxx-yyyy-aaaa',\n    GET_URI   =&gt; 'https://support.myvendor.com',\n};\n\nmy $useragent = LWP::UserAgent-&gt;new( ssl_opts =&gt; { verify_hostname =&gt; 0 }, cookie_jar =&gt; {} );\n$useragent-&gt;proxy ('https', 'https://my.proxy.com:443');\n$useragent-&gt;ssl_opts( SSL_version =&gt; 'TLSv1');\n\nsendRequest ('MyData');\n\nexit 1;\n\nsub sendRequest {\n    my ($data) = @_;\n    my $request = HTTP::Request-&gt;new('POST', GET_URI);\n    $request-&gt;header('Content-Type' =&gt; 'application/json');\n    my $json = encode_json {\n        'Token' =&gt; TOKEN,\n        'Data' =&gt; $data\n    };\n    $request-&gt;content($json);\n    my $response = $useragent-&gt;request($request);\n    if (!$response-&gt;is_success) {\n        print Data::Dumper-&gt;Dump([$response], [qw($response)]);\n        return;\n    }\n\n    eval { $json = decode_json $response-&gt;content; 1 } or do {\n        print Data::Dumper-&gt;Dump([$response], [qw($response)]);\n        return;\n    };\n\n    print Data::Dumper-&gt;Dump([$json], [qw($json)]);\n    return;\n}\n</code></pre>\n\n<p>I cannot figure this out.  Please help</p>\n\n<p><strong>UPDATE on 6/2/16:</strong></p>\n\n<p>If I set SSL_hostname = \"\", this is what I get:</p>\n\n<pre class=\"lang-none prettyprint-override\"><code>DEBUG: .../IO/Socket/SSL.pm:2688: new ctx 38074176\nDEBUG: .../IO/Socket/SSL.pm:605: socket not yet connected\nDEBUG: .../IO/Socket/SSL.pm:607: socket connected\nDEBUG: .../IO/Socket/SSL.pm:629: ssl handshake not started\nDEBUG: .../IO/Socket/SSL.pm:665: not using SNI because hostname is unknown\nDEBUG: .../IO/Socket/SSL.pm:697: request OCSP stapling\nDEBUG: .../IO/Socket/SSL.pm:716: set socket to non-blocking to enforce timeout=180\nDEBUG: .../IO/Socket/SSL.pm:729: call Net::SSLeay::connect\nDEBUG: .../IO/Socket/SSL.pm:732: done Net::SSLeay::connect -&gt; -1\nDEBUG: .../IO/Socket/SSL.pm:742: ssl handshake in progress\nDEBUG: .../IO/Socket/SSL.pm:752: waiting for fd to become ready: SSL wants a read first\nDEBUG: .../IO/Socket/SSL.pm:772: socket ready, retrying connect\nDEBUG: .../IO/Socket/SSL.pm:729: call Net::SSLeay::connect\nDEBUG: .../IO/Socket/SSL.pm:2589: did not get stapled OCSP response\nDEBUG: .../IO/Socket/SSL.pm:2542: ok=1 [2] /C=US/O=DigiCert Inc/OU=www.digicert.com/CN=DigiCert High Assurance EV Root CA/C=US/O=DigiCert Inc/OU=www.digicert.com/CN=DigiCert High Assurance EV Root CA\nDEBUG: .../IO/Socket/SSL.pm:2542: ok=1 [1] /C=US/O=DigiCert Inc/OU=www.digicert.com/CN=DigiCert High Assurance EV Root CA/C=US/O=DigiCert Inc/OU=www.digicert.com/CN=DigiCert SHA2 High Assurance Server CA\nDEBUG: .../IO/Socket/SSL.pm:2542: ok=1 [0] /C=US/O=DigiCert Inc/OU=www.digicert.com/CN=DigiCert SHA2 High Assurance Server CA/C=US/ST=California/L=San Jose/O=Zscaler, Inc./CN=*.zscaler.net\nDEBUG: .../IO/Socket/SSL.pm:2543: local error: Cannot determine peer hostname for verification\nDEBUG: .../IO/Socket/SSL.pm:732: done Net::SSLeay::connect -&gt; -1\nDEBUG: .../IO/Socket/SSL.pm:735: SSL connect attempt failed\n\nDEBUG: .../IO/Socket/SSL.pm:735: ignoring less severe local error 'SSL connect attempt failed error:14090086:SSL routines:SSL3_GET_SERVER_CERTIFICATE:certificate verify failed', keep 'Cannot determine peer hostname for verification'\nDEBUG: .../IO/Socket/SSL.pm:738: fatal SSL error: Cannot determine peer hostname for verification\nDEBUG: ...erl5/Net/HTTPS.pm:69: ignoring less severe local error 'IO::Socket::INET configuration failed', keep 'Cannot determine peer hostname for verification'\nDEBUG: .../IO/Socket/SSL.pm:2721: free ctx 38074176 open=38074176\nDEBUG: .../IO/Socket/SSL.pm:2726: free ctx 38074176 callback\nDEBUG: .../IO/Socket/SSL.pm:2733: OK free ctx 38074176\n</code></pre>\n\n<p>If I don't set SSL_hostname, this what I get.  Note that the SNI hostname is\nmy proxy - is that right?  Shouldn't it be the end host?</p>\n\n<pre class=\"lang-none prettyprint-override\"><code>DEBUG: .../IO/Socket/SSL.pm:2688: new ctx 30971328\nDEBUG: .../IO/Socket/SSL.pm:605: socket not yet connected\nDEBUG: .../IO/Socket/SSL.pm:607: socket connected\nDEBUG: .../IO/Socket/SSL.pm:629: ssl handshake not started\nDEBUG: .../IO/Socket/SSL.pm:662: using SNI with hostname my.proxy.com\nDEBUG: .../IO/Socket/SSL.pm:697: request OCSP stapling\nDEBUG: .../IO/Socket/SSL.pm:716: set socket to non-blocking to enforce timeout=180\nDEBUG: .../IO/Socket/SSL.pm:729: call Net::SSLeay::connect\nDEBUG: .../IO/Socket/SSL.pm:732: done Net::SSLeay::connect -&gt; -1\nDEBUG: .../IO/Socket/SSL.pm:742: ssl handshake in progress\nDEBUG: .../IO/Socket/SSL.pm:752: waiting for fd to become ready: SSL wants a read first\n</code></pre>\n\n<p>After more research, I discovered I had verify_hostname => 1 when I set SSL_hostname = ''. I tried with verify = 0 and got a little further.  I think this means I was able to get through my proxy and communicate with the end server?  It still doesn't work like the old library though.</p>\n\n<pre class=\"lang-none prettyprint-override\"><code>DEBUG: .../IO/Socket/SSL.pm:2688: new ctx 44513104\nDEBUG: .../IO/Socket/SSL.pm:605: socket not yet connected\nDEBUG: .../IO/Socket/SSL.pm:607: socket connected\nDEBUG: .../IO/Socket/SSL.pm:629: ssl handshake not started\nDEBUG: .../IO/Socket/SSL.pm:665: not using SNI because hostname is unknown\nDEBUG: .../IO/Socket/SSL.pm:716: set socket to non-blocking to enforce timeout=180\nDEBUG: .../IO/Socket/SSL.pm:729: call Net::SSLeay::connect\nDEBUG: .../IO/Socket/SSL.pm:732: done Net::SSLeay::connect -&gt; -1\nDEBUG: .../IO/Socket/SSL.pm:742: ssl handshake in progress\nDEBUG: .../IO/Socket/SSL.pm:752: waiting for fd to become ready: SSL wants a read first\nDEBUG: .../IO/Socket/SSL.pm:772: socket ready, retrying connect\nDEBUG: .../IO/Socket/SSL.pm:729: call Net::SSLeay::connect\nDEBUG: .../IO/Socket/SSL.pm:732: done Net::SSLeay::connect -&gt; -1\nDEBUG: .../IO/Socket/SSL.pm:742: ssl handshake in progress\nDEBUG: .../IO/Socket/SSL.pm:752: waiting for fd to become ready: SSL wants a read first\nDEBUG: .../IO/Socket/SSL.pm:772: socket ready, retrying connect\nDEBUG: .../IO/Socket/SSL.pm:729: call Net::SSLeay::connect\nDEBUG: .../IO/Socket/SSL.pm:732: done Net::SSLeay::connect -&gt; 1\nDEBUG: .../IO/Socket/SSL.pm:787: ssl handshake done\nDEBUG: .../IO/Socket/SSL.pm:2721: free ctx 44513104 open=44513104\nDEBUG: .../IO/Socket/SSL.pm:2733: OK free ctx 44513104\n$response = bless( {\n                     '_content' =&gt; 'Server closed connection without sending any data back at /opt/ejvfortiprov/lib/perl5/Net/HTTP/Methods.pm line 399.\n',\n                     '_rc' =&gt; 500,\n</code></pre>\n"}, {"tags": ["multithreading", "perl"], "comments": [{"owner": {"reputation": 15917, "user_id": 5211833, "user_type": "registered", "accept_rate": 83, "profile_image": "https://i.stack.imgur.com/Pyme2.jpg?s=128&g=1", "display_name": "Adriaan", "link": "https://stackoverflow.com/users/5211833/adriaan"}, "edited": false, "score": 1, "creation_date": 1464124777, "post_id": 37424090, "comment_id": 62353354, "body": "You will probably want to open an account on <a href=\"http://ru.stackoverflow.com\">ru.stackoverflow.com</a>, since this site is solely for English questions."}, {"owner": {"reputation": 320771, "user_id": 589924, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/b2cf53d5a3d25f95c0db4e025aed4153?s=128&d=identicon&r=PG", "display_name": "ikegami", "link": "https://stackoverflow.com/users/589924/ikegami"}, "edited": false, "score": 3, "creation_date": 1464125452, "post_id": 37424090, "comment_id": 62353659, "body": "The entire work code of the thread is in a block in which <code>lock($shr)</code> is obtained, preventing more than one thread from doing any work."}, {"owner": {"reputation": 129, "user_id": 6378273, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/nsko5.png?s=128&g=1", "display_name": "QWD666", "link": "https://stackoverflow.com/users/6378273/qwd666"}, "edited": false, "score": 0, "creation_date": 1464125699, "post_id": 37424090, "comment_id": 62353772, "body": "ohh, god..Thank you!)"}], "answers": [{"tags": [], "owner": {"reputation": 320771, "user_id": 589924, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/b2cf53d5a3d25f95c0db4e025aed4153?s=128&d=identicon&r=PG", "display_name": "ikegami", "link": "https://stackoverflow.com/users/589924/ikegami"}, "is_accepted": true, "score": 6, "last_activity_date": 1464128316, "last_edit_date": 1464128316, "creation_date": 1464127307, "answer_id": 37424628, "question_id": 37424090, "link": "https://stackoverflow.com/questions/37424090/threads-maximum-value-in-the-array/37424628#37424628", "title": "Threads.maximum value in the array", "body": "<p>The entire work code of the thread is in a block in which <code>lock($shr)</code> is obtained, preventing more than one thread from doing any work. </p>\n\n<hr>\n\n<p>It sounds like you have a large array, and you want worker threads to process parts of that large array.</p>\n\n<p>The only time the thread needs to be synchronized is when grabbing work, and when updating the results.</p>\n\n<p>Note that you need to lock the array when you are accessing it, but you can't keep it lock when you are working, so you'll need to copy to work unit into a thread-local variable.</p>\n\n<p>The follow finds the sum of all elements of an array.</p>\n\n<pre><code>#!/usr/bin/perl\nuse strict;\nuse warnings;\nuse feature qw( say );\n\nuse threads;\nuse threads::shared;\n\nuse List::Util qw( sum );\n\n# This is where the real work is done.\n# Notice how it there's no thread-related code in it\n# and how it doesn't use any shared variables.\nsub work {\n    sleep(1+rand(3));\n    return sum(@_);\n}\n\n{\n    @ARGV == 3\n        or die(\"usage\\n\");\n\n    my ($data_size, $num_threads, $chunk_size) = @ARGV;\n\n    my $next :shared = 0;\n    my @data :shared;\n    my $sum  :shared;\n\n    for (1..$data_size) {\n        push @data, int(rand(9999));\n    }\n\n    say \"Without threads: \", sum @data;\n\n    for my $t (1..$num_threads) {\n        async {\n            say sprintf(\"[%s]: Worker started.\", threads-&gt;tid);\n            LOOP: while (1) {\n                # Grab work.\n                my @local_data;\n                {\n                    lock $next;\n                    last LOOP if $next &gt;= @data;\n\n                    my $new_next = $next + $chunk_size;\n                    $new_next = @data if $new_next &gt; @data;\n\n                    say sprintf(\"[%s] Processing %s..%s\", threads-&gt;tid, $next, $new_next-1);\n                    @local_data = @data[$next .. $new_next-1];\n                    $next = $new_next;\n                }\n\n                my $local_sum = work(@local_data);    \n\n                # Update results.\n                { lock $sum; $sum += $local_sum; }\n            }\n            say sprintf(\"[%s] done.\", threads-&gt;tid)\n        };\n    }\n\n    $_-&gt;join for threads-&gt;list;\n\n    say \"With threads: $sum\";\n}\n</code></pre>\n\n<p>Output:</p>\n\n<pre><code>$ ./a 125 3 20\nWithout threads: 577556\n[1]: Worker started.\n[1] Processing 0..19\n[2]: Worker started.\n[2] Processing 20..39\n[3]: Worker started.\n[3] Processing 40..59\n[2] Processing 60..79\n[1] Processing 80..99\n[3] Processing 100..119\n[1] Processing 120..124\n[2] done.\n[1] done.\n[3] done.\nWith threads: 577556\n</code></pre>\n"}, {"comments": [{"owner": {"reputation": 320771, "user_id": 589924, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/b2cf53d5a3d25f95c0db4e025aed4153?s=128&d=identicon&r=PG", "display_name": "ikegami", "link": "https://stackoverflow.com/users/589924/ikegami"}, "edited": false, "score": 1, "creation_date": 1464235953, "post_id": 37446660, "comment_id": 62404073, "body": "<code>-&gt;end</code> is more actually more explicitly. It says it right there in the name. It&#39;s also less error-prone, and useful in more situations. /// Also, you&#39;re creating the threads and filling up the queue in the wrong order. Get those threads going ASAP so they can start working ASAP. /// Finally, the whole point of the post you copied was that the worker should do anything thready stuff, <i>especially since that&#39;s what got the OP in trouble</i>. It&#39;s <i>far</i> better for the thread loop to be kept separate from the work routine."}, {"owner": {"reputation": 320771, "user_id": 589924, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/b2cf53d5a3d25f95c0db4e025aed4153?s=128&d=identicon&r=PG", "display_name": "ikegami", "link": "https://stackoverflow.com/users/589924/ikegami"}, "edited": false, "score": 0, "creation_date": 1464236187, "post_id": 37446660, "comment_id": 62404131, "body": "I kept the array since I thought he might have wanted to update the array in his real code, but I would actually use Thread::Queue myself here (with the fixes I mentioned in the previous comment)."}, {"owner": {"reputation": 5334, "user_id": 5830574, "user_type": "registered", "accept_rate": 93, "profile_image": "https://i.stack.imgur.com/kCmqs.png?s=128&g=1", "display_name": "PerlDuck", "link": "https://stackoverflow.com/users/5830574/perlduck"}, "reply_to_user": {"reputation": 320771, "user_id": 589924, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/b2cf53d5a3d25f95c0db4e025aed4153?s=128&d=identicon&r=PG", "display_name": "ikegami", "link": "https://stackoverflow.com/users/589924/ikegami"}, "edited": false, "score": 0, "creation_date": 1464262873, "post_id": 37446660, "comment_id": 62418756, "body": "@ikegami <code>-&gt;end()</code> was introduced in T::Q 3.01 (aka Perl 5.18). I use T::Q quite longer and was used to enqueueing undefs. Also I misinterpreted <code>-&gt;end()</code> and wrongly thought it would make <i>one</i> <code>dequeue()</code> call return <i>all</i> remaining items at once. After re-reading the docs I totally agree that <code>-&gt;end()</code> should be preferred (if available). /// Separating worker from thread code would mean to move my <code>List::Util::sum(\u2026);</code> line into a separate function (like your <code>work()</code>). Granted. /// After all, the intention of my post was to show T::Q in action. It&#39;s so elegant!"}, {"owner": {"reputation": 320771, "user_id": 589924, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/b2cf53d5a3d25f95c0db4e025aed4153?s=128&d=identicon&r=PG", "display_name": "ikegami", "link": "https://stackoverflow.com/users/589924/ikegami"}, "edited": false, "score": 1, "creation_date": 1464286745, "post_id": 37446660, "comment_id": 62435192, "body": "Thread::Queue can be installed form CPAN. Upgrading Perl to 5.18 is not necessary."}], "tags": [], "owner": {"reputation": 5334, "user_id": 5830574, "user_type": "registered", "accept_rate": 93, "profile_image": "https://i.stack.imgur.com/kCmqs.png?s=128&g=1", "display_name": "PerlDuck", "link": "https://stackoverflow.com/users/5830574/perlduck"}, "is_accepted": false, "score": 0, "last_activity_date": 1464208833, "last_edit_date": 1464208833, "creation_date": 1464206781, "answer_id": 37446660, "question_id": 37424090, "link": "https://stackoverflow.com/questions/37424090/threads-maximum-value-in-the-array/37446660#37446660", "title": "Threads.maximum value in the array", "body": "<p>You can also use <a href=\"http://perldoc.perl.org/Thread/Queue.html\" rel=\"nofollow\"><code>Thread::Queue</code></a> to deliver <em>jobs</em> or <em>work items</em> to the threads: Split the <code>@data</code> into chunks and push references to copies of them into such a queue. The threads then <code>dequeue</code> these references, dereference them, sum them up, and add the (partial) result to the global <code>$sum</code>. After pushing the <em>work items</em> to the queue you have to insert as many \"undefs\" as there are threads so that each thread gets an \"undef\" in its <code>while</code> loop and stops processing.</p>\n\n<p>Newer versions of <code>Thread::Queue</code> have a method <code>end()</code>. In your case it can be called from the main thread (instead of enqueueing <code>n</code> undefs) but the result is almost the same: the <code>dequeue</code> call in the threads will return the remaining items and then <code>undef</code> for each thread. I prefer enqueueing <code>undef</code> as it's more explicit (and doesn't depend on the actual version of <code>Threads::Queue</code>).</p>\n\n<p>The code would then be:</p>\n\n<pre><code>#!/usr/bin/env perl\n\nuse strict;\nuse warnings;\n\nuse threads;\nuse threads::shared;\nuse Thread::Queue;\nuse List::Util;\n\nmy $sum : shared = 0;\nmy $jobs = Thread::Queue-&gt;new();\n\nsub add_in_thread\n{\n    printf( \"[%s] started\\n\", threads-&gt;tid() );\n    while ( my $workitem = $jobs-&gt;dequeue() ) {\n        printf( \"[%s] Processing %d items\\n\", threads-&gt;tid(), scalar @{$workitem} );\n        my $local_sum = List::Util::sum( @{$workitem} );\n        { lock $sum; $sum += $local_sum; }\n        sleep( 1 + rand(3) );\n    }\n    printf( \"[%s] done\\n\", threads-&gt;tid() );\n}\n\nsub main\n{\n    my ( $data_size, $num_threads, $chunk_size ) = @ARGV;\n\n    my @data = map { int( rand(9999) ) } ( 1 .. $data_size );\n\n    print \"Without threads: \", List::Util::sum(@data), \"\\n\";\n\n    # split @data into chunks and put references\n    # of copies of them into the $jobs queue\n    while ( my @chunk = splice( @data, 0, $chunk_size ) ) {\n        $jobs-&gt;enqueue( [@chunk] );\n    }\n\n    # add 'undef' for each thread so it knows when to finish:\n    $jobs-&gt;enqueue( (undef) x $num_threads );\n\n    # start threads:\n    threads-&gt;create('add_in_thread') foreach ( 1 .. $num_threads );\n\n    # wait for them to finish:                        }\n    $_-&gt;join() for threads-&gt;list();\n\n    print \"With threads:    $sum\\n\";\n\n    return 0;\n}\n\nexit( main() );\n</code></pre>\n\n<p>Output for <code>./so17.pl 125 3 20</code></p>\n\n<pre><code>Without threads: 623399\n[1] started\n[1] Processing 20 items\n[2] started\n[2] Processing 20 items\n[3] started\n[3] Processing 20 items\n[1] Processing 20 items\n[2] Processing 20 items\n[3] Processing 20 items\n[1] Processing 5 items\n[2] done\n[3] done\n[1] done\nWith threads:    623399\n</code></pre>\n\n<hr>\n\n<p>You can also start the threads in advance. They will block at the <code>while</code> loop (actually at the <code>dequeue()</code> call) until something is in that queue. If it's <code>undef</code> (or some other <em>falsy</em> value) they will stop processing and end. Else they will process the item in that queue. The <code>Thread::Queue</code> will do all the locking and syncing. You could even set up a 2nd queue and have the threads push their results into it and make the main thread fetch the results from that 2nd result queue.</p>\n"}], "owner": {"reputation": 129, "user_id": 6378273, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/nsko5.png?s=128&g=1", "display_name": "QWD666", "link": "https://stackoverflow.com/users/6378273/qwd666"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 92, "favorite_count": 0, "accepted_answer_id": 37424628, "answer_count": 2, "score": 2, "last_activity_date": 1464208833, "creation_date": 1464124718, "last_edit_date": 1464124799, "question_id": 37424090, "link": "https://stackoverflow.com/questions/37424090/threads-maximum-value-in-the-array", "title": "Threads.maximum value in the array", "body": "<p>Actually, let's say, 2 thread started. And an array of 5 elements, all calculations are carried out 1 trade. 2 appears and dies for lack of work. Or, if you specify 9999 elements, then he wakes up in the last 30-50 items. It seems to me that he does not really multithreaded.</p>\n\n<pre><code>#! usr/bin/perl -w\nuse strict;\nuse  warnings;\nuse  5.010;\nuse threads;\nuse threads::shared;\nuse Data::Dumper;\n\nmy $n=0;\n\nmy $max:shared=0;\nmy @threads;\nmy $shr:shared=0;\nsay \"Enter the number of threads\";\nmy $threads=&lt;stdin&gt;;\nmy @pack;\n\n#\u0417\u0430\u043f\u043e\u043b\u043d\u044f\u0435\u043c \u043c\u0430\u0441\u0441\u0438\u0432\nsay \"Enter the number of array elements\";\nmy $c=&lt;stdin&gt;;\nfor (my $i=0;$i&lt;$c;$i++){\n    my $r= int rand 999;\n    @pack=(@pack,$r);\n                        }\n                         say  @pack;\n\n# \u0421\u043e\u0437\u0434\u0430\u0451\u043c \u043d\u0443\u0436\u043d\u043e\u0435 \u043a\u043e\u043b\u0438\u0447\u0435\u0441\u0442\u0432\u043e \u043f\u043e\u0442\u043e\u043a\u043e\u0432\nfor my $t (1..$threads) {\n    push @threads,threads-&gt;create(\\&amp;find,$t);\n                        }\n# \u0414\u043e\u0436\u0438\u0434\u0430\u0435\u043c\u0441\u044f \u043e\u043a\u043e\u043d\u0447\u0430\u043d\u0438\u044f \u0440\u0430\u0431\u043e\u0442\u044b \u0432\u0441\u0435\u0445 \u043f\u043e\u0442\u043e\u043a\u043e\u0432\nfor my  $t (@threads){ $t-&gt;join();}\n\nsub find {\n    # \u041d\u043e\u043c\u0435\u0440 \u0442\u0435\u043a\u0443\u0449\u0435\u0433\u043e \u043f\u043e\u0442\u043e\u043a\u0430\n    my $num= shift;\n    say \"+Thread $num started\";\n\n    while($n&lt;=$#pack){\n        # \u0420\u0430\u0441\u043f\u0440\u0435\u0434\u0435\u043b\u044f\u0435\u043c \u044d\u043b\u0435\u043c\u0435\u043d\u0442\u044b \u043f\u043e \u043f\u043e\u0442\u043e\u043a\u0430\u043c\n        lock($shr);#lock ($max);\n        my $stg=1+$shr++;\n\n        # \u0415\u0441\u043b\u0438 \u044d\u043b\u0435\u043c\u0435\u043d\u0442\u044b \u0437\u0430\u043a\u043e\u043d\u0447\u0438\u043b\u0438\u0441\u044c, \u043f\u0440\u0435\u0440\u044b\u0432\u0430\u0435\u043c \u0440\u0430\u0431\u043e\u0442\u0443\n        if ($stg&gt;=$#pack+2) {\n            say \"-Thread $num done. \\n\";\n            return;}\n\n\n        if($max&lt;$pack[$n]){$max=$pack[$n];}\n        say \"Thread: $num \\tStage: $stg  \\tMax: $max\";\n        $n++;\n        sleep 1+int rand (3);       \n             }\n        }\n</code></pre>\n"}, {"tags": ["perl", "parsing"], "comments": [{"owner": {"reputation": 1014, "user_id": 6047952, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/a56a0a74a9848b8796170a9bce83e9fa?s=128&d=identicon&r=PG", "display_name": "infixed", "link": "https://stackoverflow.com/users/6047952/infixed"}, "edited": false, "score": 1, "creation_date": 1464122068, "post_id": 37423222, "comment_id": 62351926, "body": "At <code>$statusCode == &quot;226&quot; </code>  A <code>==</code> is a numeric equate, you are comparing to a string.  use the <code>EQ</code> operator"}, {"owner": {"reputation": 18466, "user_id": 477563, "user_type": "registered", "accept_rate": 90, "profile_image": "https://www.gravatar.com/avatar/07a89fb7b2fd8ece1e9e39e95e004a36?s=128&d=identicon&r=PG", "display_name": "Mr. Llama", "link": "https://stackoverflow.com/users/477563/mr-llama"}, "edited": false, "score": 0, "creation_date": 1464122401, "post_id": 37423222, "comment_id": 62352116, "body": "<code>$statusCode</code> isn&#39;t an array reference but a scalar string so doing <code>foreach ($statusCode)</code> doesn&#39;t make any sense.  What was the intent of the inner <code>foreach</code>?"}, {"owner": {"reputation": 166, "user_id": 5635644, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/f837c49a6f386c8371e01c6585c575f9?s=128&d=identicon&r=PG&f=1", "display_name": "SomeGuy", "link": "https://stackoverflow.com/users/5635644/someguy"}, "edited": false, "score": 0, "creation_date": 1464123107, "post_id": 37423222, "comment_id": 62352483, "body": "The status code is a column of the logs. Each time the status code column has the number 226 in it, I would like to add the instance to the successconnect and sentbytes. The foreach was to trigger this parsing every time the statuscode included the 226 in it."}, {"owner": {"reputation": 166, "user_id": 5635644, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/f837c49a6f386c8371e01c6585c575f9?s=128&d=identicon&r=PG&f=1", "display_name": "SomeGuy", "link": "https://stackoverflow.com/users/5635644/someguy"}, "reply_to_user": {"reputation": 18466, "user_id": 477563, "user_type": "registered", "accept_rate": 90, "profile_image": "https://www.gravatar.com/avatar/07a89fb7b2fd8ece1e9e39e95e004a36?s=128&d=identicon&r=PG", "display_name": "Mr. Llama", "link": "https://stackoverflow.com/users/477563/mr-llama"}, "edited": false, "score": 0, "creation_date": 1464124573, "post_id": 37423222, "comment_id": 62353267, "body": "@Mr.Llama - would &quot;while&quot; serve the same purpose?"}, {"owner": {"reputation": 21782, "user_id": 176646, "user_type": "registered", "accept_rate": 88, "profile_image": "https://i.stack.imgur.com/HsQyV.png?s=128&g=1", "display_name": "ThisSuitIsBlackNot", "link": "https://stackoverflow.com/users/176646/thissuitisblacknot"}, "edited": false, "score": 1, "creation_date": 1464125417, "post_id": 37423222, "comment_id": 62353649, "body": "@MBayley You don&#39;t need an inner loop at all. Just use <code>if ($statusCode == 226) { ... }</code>"}, {"owner": {"reputation": 123805, "user_id": 622310, "user_type": "registered", "accept_rate": 33, "profile_image": "https://www.gravatar.com/avatar/8b6d35219e1808520bc238b28161e2e6?s=128&d=identicon&r=PG", "display_name": "Borodin", "link": "https://stackoverflow.com/users/622310/borodin"}, "edited": false, "score": 0, "creation_date": 1464126260, "post_id": 37423222, "comment_id": 62354031, "body": "Please show your log file data, including all the different types of log record and the header text if there is any"}, {"owner": {"reputation": 518, "user_id": 3617046, "user_type": "registered", "accept_rate": 69, "profile_image": "https://www.gravatar.com/avatar/afad7c3481df3dcbbcd2b4366782e056?s=128&d=identicon&r=PG&f=1", "display_name": "Bulrush", "link": "https://stackoverflow.com/users/3617046/bulrush"}, "edited": false, "score": 0, "creation_date": 1464181337, "post_id": 37423222, "comment_id": 62378602, "body": "FYI: <code>open( my $fh, &#39;&lt;&#39;, &quot;&#47;dir&#47;log&quot; ) or die &quot;Cannot open &lt; &#47;root&#47;fall_log&quot;;</code> Your filenames you  are opening vs in the error msg don&#39;t match. Try this: <code>open( my $fh, &#39;&lt;&#39;, $filename ) or die &quot;Cannot open &lt; $filename&quot;;</code>"}], "answers": [{"comments": [{"owner": {"reputation": 123805, "user_id": 622310, "user_type": "registered", "accept_rate": 33, "profile_image": "https://www.gravatar.com/avatar/8b6d35219e1808520bc238b28161e2e6?s=128&d=identicon&r=PG", "display_name": "Borodin", "link": "https://stackoverflow.com/users/622310/borodin"}, "edited": false, "score": 1, "creation_date": 1464129231, "post_id": 37423264, "comment_id": 62355138, "body": "<code>foreach ($statusCode)</code> wouldn&#39;t be very useful even if <code>$statusCode</code> were an array reference."}], "tags": [], "owner": {"reputation": 18466, "user_id": 477563, "user_type": "registered", "accept_rate": 90, "profile_image": "https://www.gravatar.com/avatar/07a89fb7b2fd8ece1e9e39e95e004a36?s=128&d=identicon&r=PG", "display_name": "Mr. Llama", "link": "https://stackoverflow.com/users/477563/mr-llama"}, "is_accepted": false, "score": 0, "last_activity_date": 1464123328, "last_edit_date": 1464123328, "creation_date": 1464121698, "answer_id": 37423264, "question_id": 37423222, "link": "https://stackoverflow.com/questions/37423222/use-of-uninialized-value-in-numeric-eq-at-line/37423264#37423264", "title": "Use of uninialized value in numeric eq (==) at line &lt;&gt;", "body": "<p><code>$statusCode</code> isn't an array reference but a scalar string so doing <code>foreach ($statusCode)</code> doesn't make any sense.</p>\n\n<p>You should also verify that <code>$statusCode</code> is <a href=\"http://perldoc.perl.org/functions/defined.html\" rel=\"nofollow\"><code>defined</code></a> before you access it.  If it isn't, the results from <code>split</code> are either incorrect or your input line doesn't have the format you expect it to.</p>\n\n<hr>\n\n<p>A few footnotes:</p>\n\n<p><code>==</code> is for numbers, use <code>eq</code> for strings:</p>\n\n<pre><code>if ( $statusCode eq \"226\") {\n</code></pre>\n\n<p>or</p>\n\n<pre><code>if ( $statusCode == 226) {\n</code></pre>\n\n<p>The Perl <a href=\"http://perldoc.perl.org/perlop.html#Relational-Operators\" rel=\"nofollow\">perlop</a> page has more information.</p>\n\n<p>Additionally, don't rely on side-effects of conditionals like <code>$sentcount++ &amp;&amp; $successconnect++;</code>.<br>\nInstead, make it two separate commands: <code>$sentcount++; $successconnect++;</code></p>\n\n<p>Also, you're missing a <code>;</code> after your second <code>$successconnect++</code>.  That said, the following...</p>\n\n<pre><code>if ($SentByClientBytes &gt; 0) {           \n    $sentcount++ &amp;&amp; $successconnect++;\n} else {\n    $successconnect++\n}\n</code></pre>\n\n<p>Should probably be simplified to just:</p>\n\n<pre><code>$successconnect++;\nif ($SentByClientBytes &gt; 0) { $sentcount++; }\n</code></pre>\n"}, {"tags": [], "owner": {"reputation": 123805, "user_id": 622310, "user_type": "registered", "accept_rate": 33, "profile_image": "https://www.gravatar.com/avatar/8b6d35219e1808520bc238b28161e2e6?s=128&d=identicon&r=PG", "display_name": "Borodin", "link": "https://stackoverflow.com/users/622310/borodin"}, "is_accepted": true, "score": 6, "last_activity_date": 1464127985, "last_edit_date": 1464127985, "creation_date": 1464125811, "answer_id": 37424328, "question_id": 37423222, "link": "https://stackoverflow.com/questions/37423222/use-of-uninialized-value-in-numeric-eq-at-line/37424328#37424328", "title": "Use of uninialized value in numeric eq (==) at line &lt;&gt;", "body": "<p>It would help enormously if you could give a sample of your input data and the required output that you want. As it is there is a lot of superfluous code in your program</p>\n\n<p>The errors that others have identified aren't really problems. (Using <code>foreach</code> with a single value will simply execute the loop once, and using a numeric comparison with a string will convert the string to an integer for you first.) But it does indicate a lack of understanding of what you have written</p>\n\n<p>You are trying to extract the ninth field of every line as the value of <code>$statusCode</code>, and the specific error</p>\n\n<blockquote>\n  <p>Use of uninitialized value in numeric eq (==)</p>\n</blockquote>\n\n<p>is almost certainly because one of the lines of the log file contains fewer than nine fields so the variable is set to <code>undef</code></p>\n\n<p>You are also printing the <em>bitwise and</em> of <code>$sentcount</code> <code>$successconnect</code> every time you read a line from the file. That's a very strange value to print, and I imagine you want to print a summary after the entire file is read</p>\n\n<p>Here's a rewrite of your program that does what I think you want</p>\n\n<pre><code>#!/usr/bin/perl\n#V0.1 - testing and initiation\n\nuse strict;\nuse warnings 'all';\n\nuse Scalar::Util 'looks_like_number';\n\nmy $filename = '/dir/log';\n\nopen my $fh, '&lt;', $filename or die qq{Unable to open \"$filename\" for input: $!};\n\nmy $sent_count      = 0;\nmy $success_connect = 0;\n\nwhile ( &lt;$fh&gt; ) {\n\n    my @fields = split;\n    next unless @fields &gt;= 9;\n\n    my ( $status_code, $sent_by_client_bytes) = @fields[8,10];\n\n    if ( defined $status_code and $status_code eq '226' ) {\n\n        ++$success_connect;\n\n        if ( defined $sent_by_client_bytes\n                and looks_like_number($sent_by_client_bytes)\n                and $sent_by_client_bytes &gt; 0 ) {\n\n                ++$sent_count;\n        }\n    }\n}\n\nprint qq{\\$success_connect = $success_connect\\n};\nprint qq{\\$sent_count      = $sent_count\\n};\n</code></pre>\n"}, {"tags": [], "owner": {"reputation": 518, "user_id": 3617046, "user_type": "registered", "accept_rate": 69, "profile_image": "https://www.gravatar.com/avatar/afad7c3481df3dcbbcd2b4366782e056?s=128&d=identicon&r=PG&f=1", "display_name": "Bulrush", "link": "https://stackoverflow.com/users/3617046/bulrush"}, "is_accepted": false, "score": 0, "last_activity_date": 1464182310, "last_edit_date": 1464182310, "creation_date": 1464181815, "answer_id": 37438243, "question_id": 37423222, "link": "https://stackoverflow.com/questions/37423222/use-of-uninialized-value-in-numeric-eq-at-line/37438243#37438243", "title": "Use of uninialized value in numeric eq (==) at line &lt;&gt;", "body": "<p>Your code: <code>if ( $statusCode == \"226\" ) {</code></p>\n\n<p>== is used for comparing numbers but \"226\" is a string because you double quoted it. Use one of these: </p>\n\n<pre><code>my $procname=\"SUBROUTINENAME\";\nif (! defined($statusCode))\n    {\n    print \"$procname ERROR: statusCode not defined\\n\";\n    }\nelsif ($statusCode eq \"226\" ) {...\n}\n</code></pre>\n\n<p>or</p>\n\n<pre><code>my $procname=\"SUBROUTINENAME\";\nif (! defined($statusCode))\n    {\n    print \"$procname ERROR: statusCode not defined\\n\";\n    }\nelsif ($statusCode == 226 ) {...\n}\n</code></pre>\n\n<ul>\n<li><a href=\"http://perldoc.perl.org/perlop.html#Equality-Operators\" rel=\"nofollow\">More info on perl operators</a></li>\n</ul>\n\n<p>I like to put the procedure name in error messages. \nA common mistake, friend.</p>\n"}], "owner": {"reputation": 166, "user_id": 5635644, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/f837c49a6f386c8371e01c6585c575f9?s=128&d=identicon&r=PG&f=1", "display_name": "SomeGuy", "link": "https://stackoverflow.com/users/5635644/someguy"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 218, "favorite_count": 1, "accepted_answer_id": 37424328, "answer_count": 3, "score": 0, "last_activity_date": 1464196600, "creation_date": 1464121565, "last_edit_date": 1464196600, "question_id": 37423222, "link": "https://stackoverflow.com/questions/37423222/use-of-uninialized-value-in-numeric-eq-at-line", "title": "Use of uninialized value in numeric eq (==) at line &lt;&gt;", "body": "<p>I'm having problems writing a log parser. I'm new to writing larger Perl programs/scripts, but understand bash/ksh well so I have some experience with it on a smaller scale. My apologies for the large amount of code, but I don't know where I'm going wrong (errors can be misleading, so I've read). I've checked here, PerlMaven, and a few other sites and can't quite get it working.</p>\n\n<p>I'm trying to feed in a log file to this parser, have it break apart the log by each column, and count by instance of a specific column. </p>\n\n<p>In this parser, the <code>$statusCode</code> represents a successful connection - so I'm trying to count the number of times there's a successful connection using this - AND the number of successful connections where there was a data transfer (as indicated by <code>$sentbyClientBytes &gt; 0</code>). If there was a successful connection but 0 bytes sent, I just want one sum to be increased by one instance (<code>successconnect++</code>)</p>\n\n<p>The rest of the data can be discarded for now, but I will be doing something similar with some of the other columns - just creating this same style of function over and over with different status codes.</p>\n\n<p>Thanks in advance Perl gurus. You guys hold the interwebs together with your knowledge.</p>\n\n<pre><code>#!/usr/bin/perl\n#V0.1 - testing and initiation\n\nuse strict;\nuse warnings;\n\nuse Scalar::Util qw(looks_like_number);\n\nmy $filename = \"/dir/log\";\n\nopen( my $fh, '&lt;', \"/dir/log\" ) or die \"Cannot open &lt; /root/fall_log\";\n\nwhile ( &lt;$fh&gt; ) {\n\n    # wraps whole process from here to end\n\n    my $sentcount      = 0;\n    my $successconnect = 0;\n\n    # define the counts and variables we're using\n\n    my ( $date, $time, $clientIP, $clientPort, $username, $method, $stem,\n         $query, $statusCode, $SentByServerBytes, $SentByClientBytes,\n         $servername, $serverport ) = split;\n\n    chomp;\n\n    ## (use $line parameter?)\n\n    foreach ( $statusCode ) {  # SC 226 is successful action and usually    \n                               # indicates download or login\n\n        if ( $statusCode == \"226\" ) {\n\n            if ( looks_like_number($SentByClientBytes) ) {\n\n                # adding in looks like number because \"-\" shows up in the \n                # fields where there are null values\n\n                if ( $SentByClientBytes &gt; 0 ) {\n                    $sentcount++ &amp;&amp; $successconnect++;\n                }\n                else {\n                    $successconnect++;\n                }\n            }\n\n            # This function counts each successful established connection and \n            # determines whether bytes were sent - if bytes were sent it \n            # should register as a count of \"one\" for successful connection \n            # and sent count. These counts should be measured and totaled and \n            # will equal total number of successful downloads and total number \n            # of successful connections. The numbers should be very close to \n            # each other as nearly all successful connections will include a \n            # download.\n\n            print $sentcount &amp; $successconnect;\n        }\n    }\n}\n</code></pre>\n\n<p>Adding part of a log I want to parse (below). Explanation of attempted outcome afterwards:</p>\n\n<pre><code>    2016-03-01 06:16:24 192.168.1.10 - - [5475]user USERNAME\\admin - 331 - - - 9045 \n2016-03-01 06:16:25 192.168.1.10 - USERNAME\\admin [5476]quit - - 221 - - - 9045 \n2016-03-01 06:26:25 192.168.1.10 - USERNAME\\admin [5475]ssh_disconnect timeout - 421 - - - 9045 \n2016-03-01 06:26:25 192.168.1.10 - USERNAME\\admin [5475]kick - - 421 - - - 9045 \n2016-03-01 06:26:26 192.168.1.10 - USERNAME\\admin [5475]ssh_disconnect timeout - 421 - - - 9045 \n2016-03-01 06:26:26 192.168.1.10 - USERNAME\\admin [5475]kick - - 421 - - - 9045 \n2016-03-01 06:26:26 192.168.1.10 - USERNAME\\admin [5475]quit - - 226 - - - 9045 \n2016-03-01 06:31:26 192.168.1.10 - - [5516]user USERNAME\\admin - 331 - - - 9045 \n2016-03-01 06:31:27 192.168.1.10 - - [5515]user USERNAME\\admin - 226 - - - 9045 \n2016-03-01 06:31:28 192.168.1.10 - - [5516]user USERNAME\\admin - 226 - - - 9045 \n2016-03-01 06:31:28 192.168.1.10 - - [5515]user USERNAME\\admin - 226 - - - 9045 \n2016-03-01 06:31:28 192.168.1.10 - USERNAME\\admin [5516]quit - - 221 - - - 9045 \n2016-03-01 06:41:29 192.168.1.10 - USERNAME\\admin [5515]ssh_disconnect timeout - 421 - - - 9045 \n2016-03-01 06:41:29 192.168.1.10 - USERNAME\\admin [5515]kick - - 421 - - - 9045 \n2016-03-01 06:41:30 192.168.1.10 - USERNAME\\admin [5515]quit - - 221 - - - 9045 \n2016-03-01 06:46:30 192.168.1.10 - - [5545]user USERNAME\\admin - 331 - - - 9045 \n2016-03-01 06:46:31 192.168.1.10 - - [5544]user USERNAME\\admin - 331 - - - 9045 \n2016-03-01 06:46:31 192.168.1.10 - - [5545]user USERNAME\\admin - 331 - - - 9045 \n2016-03-01 06:46:31 192.168.1.10 - - [5544]user USERNAME\\admin - 331 - - - 9045 \n2016-03-01 06:46:32 192.168.1.10 - USERNAME\\admin [5545]quit - - 221 - - - 9045 \n2016-03-01 06:56:32 192.168.1.10 - USERNAME\\admin [5544]ssh_disconnect timeout - 421 - - - 9045 \n2016-03-01 06:56:32 192.168.1.10 - USERNAME\\admin [5544]kick - - 421 - - - 9045 \n2016-03-01 06:56:33 192.168.1.10 - USERNAME\\admin [5544]ssh_disconnect timeout - 421 - - - 9045 \n2016-03-01 06:56:33 192.168.1.10 - USERNAME\\admin [5544]kick - - 421 - - - 9045 \n2016-03-01 06:56:33 192.168.1.10 - USERNAME\\admin [5544]quit - - 221 - - - 9045 \n2016-03-01 07:00:01 192.168.1.10 - - [5565]user USERNAME\\admin - 331 - - - 9045 \n2016-03-01 07:00:02 192.168.1.10 - - [5565]user USERNAME\\admin - 331 - - - 9045 \n2016-03-01 07:00:03 192.168.1.10 - USERNAME\\admin [5565]sent /root/files/otherfiles/5256570.pdf - 226 - 50935 - 9045 \n2016-03-01 07:00:04 192.168.1.10 - USERNAME\\admin [5565]sent /root/files/otherfiles/75256534.pdf - 226 - 52404 - 9045 \n2016-03-01 07:00:05 192.168.1.10 - USERNAME\\admin [5565]sent /root/files/otherfiles/75256671.pdf - 226 - 50336 - 9045 \n2016-03-01 07:00:06 192.168.1.10 - USERNAME\\admin [5565]sent /root/files/otherfiles/75256565.pdf - 226 - 50858 - 9045 \n2016-03-01 07:00:06 192.168.1.10 - USERNAME\\admin [5565]sent /root/files/otherfiles/75256634.pdf - 226 - 51039 - 9045 \n2016-03-01 07:00:07 192.168.1.10 - USERNAME\\admin [5565]sent /root/files/otherfiles/5256536.pdf - 226 - 51657 - 9045 \n2016-03-01 07:00:07 192.168.1.10 - USERNAME\\admin [5565]sent /root/files/otherfiles/75256668.pdf - 226 - 51219 - 9045 \n2016-03-01 07:00:08 192.168.1.10 - USERNAME\\admin [5565]sent /root/files/otherfiles/75256666.pdf - 226 - 50397 - 9045 \n2016-03-01 07:00:09 192.168.1.10 - USERNAME\\admin [5565]sent /root/files/otherfiles/75256641.pdf - 226 - 50652 - 9045 \n2016-03-01 07:00:09 192.168.1.10 - USERNAME\\admin [5565]sent /root/files/otherfiles/75256648.pdf - 226 - 51529 - 9045 \n2016-03-01 07:00:10 192.168.1.10 - USERNAME\\admin [5565]sent /root/files/otherfiles/75256525.pdf - 226 - 50913 - 9045 \n2016-03-01 06:46:30 192.168.1.10 - - [5545]USERNAME\\Admin - 226 - - - 9045 \n2016-03-01 06:46:31 192.168.1.10 - - [5544]USERNAME\\Admin -226 - - - 9045 \n2016-03-01 06:46:31 192.168.1.10 - - [5545]USERNAME\\Admin - 331 - - - 9045 \n2016-03-01 06:46:31 192.168.1.10 - - [5544]USERNAME\\Admin - 331 - - - 9045\n</code></pre>\n\n<p>This should check all the instances where the 9th column <code>($statuscode)</code> includes a 226 (a successful connection), and compare that to the 10th column <code>($SentByServerBytes)</code> to see if data was actually sent. If the 10th column is greater than 0, add one \"instance\" to <code>$successconnect</code> and one instance to <code>$sentcount</code>. If the <code>($SentByServerBytes)</code> column is zero (meaning the connection was successful but did NOT transfer any data (example - lines 7, 9, 10, and 11 on the log file) then add one instance to <code>$successconnect</code>BUT NOT one instance of <code>$sentcount</code>.</p>\n\n<p>To rephrase for clarity:</p>\n\n<p>if the <code>$statuscode</code> is 226, always add one instance to $successconnect. ONLY if <code>($SentByServerBytes)</code> is greater than 0, add one instance to <code>$sentcount</code></p>\n\n<p>Based on this log, I should wind up with </p>\n\n<p><code>$successconnect</code> = 17 successful connections\n<code>$sentcount</code> = 11 successful files sent</p>\n\n<p>I'm currently gettig</p>\n\n<pre><code>[root@localhost ~]# ./logcounter1.pl\nUse of uninitialized value in string eq at ./logcounter1.pl line 22, &lt;$fh&gt; line 998.\n11111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111[root@localhost ~]\n</code></pre>\n\n<p>Thank all of you again for all of your help! I'm stumped but you guys have always been incredibly helpful!!!!!</p>\n"}, {"tags": ["perl", "ncbi"], "comments": [{"owner": {"reputation": 320771, "user_id": 589924, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/b2cf53d5a3d25f95c0db4e025aed4153?s=128&d=identicon&r=PG", "display_name": "ikegami", "link": "https://stackoverflow.com/users/589924/ikegami"}, "edited": false, "score": 0, "creation_date": 1464125325, "post_id": 37423141, "comment_id": 62353611, "body": "I suspect Perl needs to be told about a proxy? No time to look into how to do that right now"}], "answers": [{"comments": [{"owner": {"reputation": 414, "user_id": 6331353, "user_type": "registered", "accept_rate": 70, "profile_image": "https://www.gravatar.com/avatar/cd7f6cc42c46c3a65c58ff594d962597?s=128&d=identicon&r=PG&f=1", "display_name": "Sam", "link": "https://stackoverflow.com/users/6331353/sam"}, "edited": false, "score": 0, "creation_date": 1464124151, "post_id": 37423654, "comment_id": 62353063, "body": "So nothing happened and then this happened  Net::FTP: connect: Operation timed out"}, {"owner": {"reputation": 414, "user_id": 6331353, "user_type": "registered", "accept_rate": 70, "profile_image": "https://www.gravatar.com/avatar/cd7f6cc42c46c3a65c58ff594d962597?s=128&d=identicon&r=PG&f=1", "display_name": "Sam", "link": "https://stackoverflow.com/users/6331353/sam"}, "edited": false, "score": 0, "creation_date": 1464280732, "post_id": 37423654, "comment_id": 62431798, "body": "so some things were fixed by someone from the website but I am still trying to type &quot;perl -MNet::FTP -e &#39;$ftp = new Net::FTP(&quot;ftp.ncbi.nlm.nih.gov&quot;, Passive =&gt; 1); $ftp-&gt;login; $ftp-&gt;binary; $ftp-&gt;get(&quot;/entrez/entrezezdirect/edirect.zip&quot;);&quot; and nothing is happening it&#39;s like if I were just to type &quot;cat&quot; because just a blank line happens @mob"}], "tags": [], "owner": {"reputation": 110113, "user_id": 168657, "user_type": "registered", "accept_rate": 92, "profile_image": "https://www.gravatar.com/avatar/f14e7610fca39322ebbf23530def15f8?s=128&d=identicon&r=PG", "display_name": "mob", "link": "https://stackoverflow.com/users/168657/mob"}, "is_accepted": false, "score": 2, "last_activity_date": 1464123115, "creation_date": 1464123115, "answer_id": 37423654, "question_id": 37423141, "link": "https://stackoverflow.com/questions/37423141/cant-call-method-login-on-an-undefined-value-at-e-line-1/37423654#37423654", "title": "Can&#39;t call method &quot;login&quot; on an undefined value at -e line 1", "body": "<p>There are a lot of things that can go wrong with an FTP connection, and at least one of those things went wrong for you. The <a href=\"http://metacpan.org/pod/Net::FTP\" rel=\"nofollow\"><code>Net::FTP</code> docs for <code>new</code></a> say that</p>\n\n<blockquote>\n  <p>If the constructor fails undef will be returned and an error message will be in <code>$@</code></p>\n</blockquote>\n\n<p>so you can at least start to diagnose the issue with</p>\n\n<pre><code>perl -MNet::FTP -e '$ftp=new Net::FTP(\"ftp.ncbi.nlm.nih.gov\", Passive =&gt; 1) or print $@'\n</code></pre>\n"}, {"comments": [{"owner": {"reputation": 414, "user_id": 6331353, "user_type": "registered", "accept_rate": 70, "profile_image": "https://www.gravatar.com/avatar/cd7f6cc42c46c3a65c58ff594d962597?s=128&d=identicon&r=PG&f=1", "display_name": "Sam", "link": "https://stackoverflow.com/users/6331353/sam"}, "edited": false, "score": 0, "creation_date": 1464124083, "post_id": 37423691, "comment_id": 62353027, "body": "What would the return value of the constructor ($ftp) be, and this isn&#39;t a script it just commands that I&#39;m pasting into the command line, and how would I connect to the host via FTP"}, {"owner": {"reputation": 405, "user_id": 6336615, "user_type": "registered", "profile_image": "https://lh5.googleusercontent.com/-54JWXHU1LhI/AAAAAAAAAAI/AAAAAAAABKc/N9fUA8Ue7e4/photo.jpg?sz=128", "display_name": "Wayne Booth", "link": "https://stackoverflow.com/users/6336615/wayne-booth"}, "reply_to_user": {"reputation": 414, "user_id": 6331353, "user_type": "registered", "accept_rate": 70, "profile_image": "https://www.gravatar.com/avatar/cd7f6cc42c46c3a65c58ff594d962597?s=128&d=identicon&r=PG&f=1", "display_name": "Sam", "link": "https://stackoverflow.com/users/6331353/sam"}, "edited": false, "score": 0, "creation_date": 1464124299, "post_id": 37423691, "comment_id": 62353132, "body": "$ftp will be under if you cannot connect to the FTP host. If it does connect, then $ftp will be a fully populated object (that you can call login on)...."}, {"owner": {"reputation": 405, "user_id": 6336615, "user_type": "registered", "profile_image": "https://lh5.googleusercontent.com/-54JWXHU1LhI/AAAAAAAAAAI/AAAAAAAABKc/N9fUA8Ue7e4/photo.jpg?sz=128", "display_name": "Wayne Booth", "link": "https://stackoverflow.com/users/6336615/wayne-booth"}, "reply_to_user": {"reputation": 414, "user_id": 6331353, "user_type": "registered", "accept_rate": 70, "profile_image": "https://www.gravatar.com/avatar/cd7f6cc42c46c3a65c58ff594d962597?s=128&d=identicon&r=PG&f=1", "display_name": "Sam", "link": "https://stackoverflow.com/users/6331353/sam"}, "edited": false, "score": 0, "creation_date": 1464124456, "post_id": 37423691, "comment_id": 62353208, "body": "You can use an FTP client to check connectivity outside your provided command. On Linux you can issue &quot;ftp {host}&quot;"}], "tags": [], "owner": {"reputation": 405, "user_id": 6336615, "user_type": "registered", "profile_image": "https://lh5.googleusercontent.com/-54JWXHU1LhI/AAAAAAAAAAI/AAAAAAAABKc/N9fUA8Ue7e4/photo.jpg?sz=128", "display_name": "Wayne Booth", "link": "https://stackoverflow.com/users/6336615/wayne-booth"}, "is_accepted": false, "score": -1, "last_activity_date": 1464124610, "last_edit_date": 1464124610, "creation_date": 1464123271, "answer_id": 37423691, "question_id": 37423141, "link": "https://stackoverflow.com/questions/37423141/cant-call-method-login-on-an-undefined-value-at-e-line-1/37423691#37423691", "title": "Can&#39;t call method &quot;login&quot; on an undefined value at -e line 1", "body": "<p>The constructor of Net::FTP is not returning anything. This means that it cannot connect to the host specified.</p>\n\n<p>First, change your script to check the return value of the constructor (<code>$ftp</code>) before trying to call the <code>login</code> method.</p>\n\n<p>Outside your script you should check that you can connect to the host via FTP. If not, check your machine and firewall settings.</p>\n"}, {"comments": [{"owner": {"reputation": 414, "user_id": 6331353, "user_type": "registered", "accept_rate": 70, "profile_image": "https://www.gravatar.com/avatar/cd7f6cc42c46c3a65c58ff594d962597?s=128&d=identicon&r=PG&f=1", "display_name": "Sam", "link": "https://stackoverflow.com/users/6331353/sam"}, "edited": false, "score": 0, "creation_date": 1464125357, "post_id": 37424203, "comment_id": 62353624, "body": "Ok, here is the output  -bash: syntax error near unexpected token `(&#39;"}, {"owner": {"reputation": 140, "user_id": 3452713, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/05fd97300b34ae2140877ab5a8f463bf?s=128&d=identicon&r=PG&f=1", "display_name": "user3452713", "link": "https://stackoverflow.com/users/3452713/user3452713"}, "reply_to_user": {"reputation": 414, "user_id": 6331353, "user_type": "registered", "accept_rate": 70, "profile_image": "https://www.gravatar.com/avatar/cd7f6cc42c46c3a65c58ff594d962597?s=128&d=identicon&r=PG&f=1", "display_name": "Sam", "link": "https://stackoverflow.com/users/6331353/sam"}, "edited": false, "score": 0, "creation_date": 1464125832, "post_id": 37424203, "comment_id": 62353829, "body": "That&#39;s a bash syntax error. Please, type in the shell all the code that you&#39;ve pasted previously, but add the Debug param"}, {"owner": {"reputation": 414, "user_id": 6331353, "user_type": "registered", "accept_rate": 70, "profile_image": "https://www.gravatar.com/avatar/cd7f6cc42c46c3a65c58ff594d962597?s=128&d=identicon&r=PG&f=1", "display_name": "Sam", "link": "https://stackoverflow.com/users/6331353/sam"}, "edited": false, "score": 0, "creation_date": 1464126497, "post_id": 37424203, "comment_id": 62354115, "body": "Same problem      Can&#39;t call method &quot;login&quot; on an undefined value at -e line 1."}], "tags": [], "owner": {"reputation": 140, "user_id": 3452713, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/05fd97300b34ae2140877ab5a8f463bf?s=128&d=identicon&r=PG&f=1", "display_name": "user3452713", "link": "https://stackoverflow.com/users/3452713/user3452713"}, "is_accepted": false, "score": 0, "last_activity_date": 1464125681, "last_edit_date": 1464125681, "creation_date": 1464125262, "answer_id": 37424203, "question_id": 37423141, "link": "https://stackoverflow.com/questions/37423141/cant-call-method-login-on-an-undefined-value-at-e-line-1/37424203#37424203", "title": "Can&#39;t call method &quot;login&quot; on an undefined value at -e line 1", "body": "<p>The code it's working fine for me. Try to set the Debug to 1, and paste here the output:</p>\n\n<pre><code>cd ~\n  perl -MNet::FTP -e \\\n    '$ftp = new Net::FTP(\"ftp.ncbi.nlm.nih.gov\", Passive =&gt; 1, Debug =&gt; 1); $ftp-&gt;login;\n     $ftp-&gt;binary; $ftp-&gt;get(\"/entrez/entrezdirect/edirect.zip\");'\nunzip -u -q edirect.zip\nrm edirect.zip\nexport PATH=$PATH:$HOME/edirect\n./edirect/setup.sh\n</code></pre>\n"}], "owner": {"reputation": 414, "user_id": 6331353, "user_type": "registered", "accept_rate": 70, "profile_image": "https://www.gravatar.com/avatar/cd7f6cc42c46c3a65c58ff594d962597?s=128&d=identicon&r=PG&f=1", "display_name": "Sam", "link": "https://stackoverflow.com/users/6331353/sam"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 1917, "favorite_count": 0, "answer_count": 3, "score": 0, "last_activity_date": 1464281130, "creation_date": 1464121310, "last_edit_date": 1464281130, "question_id": 37423141, "link": "https://stackoverflow.com/questions/37423141/cant-call-method-login-on-an-undefined-value-at-e-line-1", "title": "Can&#39;t call method &quot;login&quot; on an undefined value at -e line 1", "body": "<p>This is the error I'm getting, I copied and pasted a direct set of commands from a website called ncbi that were</p>\n\n<pre><code>cd ~\n  perl -MNet::FTP -e \\\n    '$ftp = new Net::FTP(\"ftp.ncbi.nlm.nih.gov\", Passive =&gt; 1); $ftp-&gt;login;\n     $ftp-&gt;binary; $ftp-&gt;get(\"/entrez/entrezdirect/edirect.zip\");'\n  unzip -u -q edirect.zip\n  rm edirect.zip\n  export PATH=$PATH:$HOME/edirect\n  ./edirect/setup.sh\n</code></pre>\n\n<p>I have no idea what to look for because I'm unfamiliar with these commands</p>\n\n<p>Edit\nSo some things were fixed by someone from the website but I am still trying to type </p>\n\n<pre><code>'perl -MNet::FTP -e '$ftp = new Net::FTP(\"ftp.ncbi.nlm.nih.gov\", Passive =&gt; 1); $ftp-&gt;login; $ftp-&gt;binary; $ftp-&gt;get(\"/entrez/entrezezdirect/edirect.zip\");' \n</code></pre>\n\n<p>and nothing is happening it's like if I were just to type \"cat\" because just a blank line happens</p>\n"}, {"tags": ["perl"], "comments": [{"owner": {"reputation": 20558, "user_id": 2864275, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/p2xKk.png?s=128&g=1", "display_name": "I\u0142ya Bursov", "link": "https://stackoverflow.com/users/2864275/i%c5%82ya-bursov"}, "edited": false, "score": 0, "creation_date": 1464101472, "post_id": 37416965, "comment_id": 62339947, "body": "<code>Why infinite loop appears to the script?</code> where do you see infinite loop?"}, {"owner": {"reputation": 116, "user_id": 6037276, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/c5db32b4fd2fbb593a5997ca0ff9a67b?s=128&d=identicon&r=PG&f=1", "display_name": "ginkgo", "link": "https://stackoverflow.com/users/6037276/ginkgo"}, "edited": false, "score": 0, "creation_date": 1464102935, "post_id": 37416965, "comment_id": 62341009, "body": "I just want to see what context does the ` $hash{&quot;$chr\\t$_&quot;}` hold. I have forced stop the script because of so many elements. The expected output I think should be very few  (32 elements)."}, {"owner": {"reputation": 21782, "user_id": 176646, "user_type": "registered", "accept_rate": 88, "profile_image": "https://i.stack.imgur.com/HsQyV.png?s=128&g=1", "display_name": "ThisSuitIsBlackNot", "link": "https://stackoverflow.com/users/176646/thissuitisblacknot"}, "edited": false, "score": 2, "creation_date": 1464104534, "post_id": 37416965, "comment_id": 62342163, "body": "Hi there. Please don&#39;t edit totally new questions into your post after you&#39;ve gotten answers. Doing so invalidates the work that people did to create their answers and can make things confusing for future visitors because the answers won&#39;t match the question. If you have a new question, you can <a href=\"http://stackoverflow.com/questions/ask\">post a new question</a>. If you don&#39;t understand something in one of the answers, post a comment on it. Thanks!"}], "answers": [{"tags": [], "owner": {"reputation": 320771, "user_id": 589924, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/b2cf53d5a3d25f95c0db4e025aed4153?s=128&d=identicon&r=PG", "display_name": "ikegami", "link": "https://stackoverflow.com/users/589924/ikegami"}, "is_accepted": true, "score": 3, "last_activity_date": 1464102038, "creation_date": 1464102038, "answer_id": 37417265, "question_id": 37416965, "link": "https://stackoverflow.com/questions/37416965/what-does-the-f2-f3-mean/37417265#37417265", "title": "what does the $F[2]..$F[3] mean?", "body": "<blockquote>\n  <p><em>Why infinite loop appears to the script?</em></p>\n</blockquote>\n\n<p>There's no infinite loop. For the input provided, it creates a hash with 239,517 elements, then dumps the hash. The output starts appearing almost immediately.</p>\n\n<blockquote>\n  <p><em>Could you please tell me what does the <code>$F[2]..$F[3]</code> mean?</em></p>\n</blockquote>\n\n<p>In list context, if <code>$F[2]</code> and <code>$F[3]</code> are numbers, it returns a sequence of numbers from <code>$F[2]</code> to <code>$F[3]</code> inclusive.</p>\n\n<pre><code>$ perl -E'for my $i (10..15) { say $i }'\n10\n11\n12\n13\n14\n15\n</code></pre>\n"}], "owner": {"reputation": 116, "user_id": 6037276, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/c5db32b4fd2fbb593a5997ca0ff9a67b?s=128&d=identicon&r=PG&f=1", "display_name": "ginkgo", "link": "https://stackoverflow.com/users/6037276/ginkgo"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 255, "favorite_count": 1, "closed_date": 1464847304, "accepted_answer_id": 37417265, "answer_count": 1, "score": -6, "last_activity_date": 1464104313, "creation_date": 1464101300, "last_edit_date": 1464104313, "question_id": 37416965, "link": "https://stackoverflow.com/questions/37416965/what-does-the-f2-f3-mean", "closed_reason": "Needs details or clarity", "title": "what does the $F[2]..$F[3] mean?", "body": "<p>my input file\uff1a</p>\n\n<pre class=\"lang-none prettyprint-override\"><code>1 chr19 58858171 58874214 A1BG ENSG00000121410\n2 chr12 9220303 9268558 A2M ENSG00000175899\n3 chr12 9381128 9386803 A2MP1 ENSG00000256069\n9 chr8 18027970 18081198 NAT1 ENSG00000171428\n10 chr8 18248754 18258723 NAT2 ENSG00000156006\n12 chr14 95058394 95090390  ENSG00000273259\n13 chr3 151531860 151546276 AADAC ENSG00000114771\n14 chr2 219128851 219134893 AAMP ENSG00000127837\n15 chr17 74449432 74466199 AANAT ENSG00000129673\n16 chr16 70286296 70323412 AARS ENSG00000090861\n</code></pre>\n\n<p>my Perl script\uff1a</p>\n\n<pre><code>open FH, $ARGV[0];\n\nwhile (&lt;FH&gt;) {\n\n    @F = split;\n    $F[1] =~ /chr(\\w+)/;\n\n    $chr = $1;\n\n    foreach ( $F[2] .. $F[3] ) {\n        $hash{\"$chr\\t$_\"} = $F[4];\n    }\n}\n\nclose FH;\n\nforeach $key ( keys %hash ) {\n    print \"$hash{$key}\\n\";\n}\n</code></pre>\n\n<p>I have two question about the script.</p>\n\n<ol>\n<li><p>Why infinite loop appears to the script?</p></li>\n<li><p>Could you please tell me what does the <code>$F[2] .. $F[3]</code> mean?</p></li>\n</ol>\n"}, {"tags": ["regex", "perl", "multiline", "exact-match"], "comments": [{"owner": {"reputation": 320771, "user_id": 589924, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/b2cf53d5a3d25f95c0db4e025aed4153?s=128&d=identicon&r=PG", "display_name": "ikegami", "link": "https://stackoverflow.com/users/589924/ikegami"}, "edited": false, "score": 0, "creation_date": 1464098978, "post_id": 37415704, "comment_id": 62338105, "body": "Most of the time, you are treating newlines as spaces. Then there&#39;s the one time you want to ignore it. Doing either is easy. Doing both is next to impossible."}], "answers": [{"comments": [{"owner": {"reputation": 295, "user_id": 5763564, "user_type": "registered", "accept_rate": 89, "profile_image": "https://www.gravatar.com/avatar/7e5e0ffb79f1ef8a5b6efa0331cc539f?s=128&d=identicon&r=PG", "display_name": "Marijn", "link": "https://stackoverflow.com/users/5763564/marijn"}, "edited": false, "score": 0, "creation_date": 1464098675, "post_id": 37415781, "comment_id": 62337898, "body": "how about my second example (<code>phra\\nse</code>)?"}], "tags": [], "owner": {"reputation": 80721, "user_id": 797049, "user_type": "registered", "accept_rate": 91, "profile_image": "https://www.gravatar.com/avatar/5f4f7a23e3d0134123a66015bdc4edd1?s=128&d=identicon&r=PG", "display_name": "Mark Reed", "link": "https://stackoverflow.com/users/797049/mark-reed"}, "is_accepted": false, "score": 3, "last_activity_date": 1464098171, "creation_date": 1464098171, "answer_id": 37415781, "question_id": 37415704, "link": "https://stackoverflow.com/questions/37415704/perl-regex-multiline-match-without-dot/37415781#37415781", "title": "Perl regex multiline match without dot", "body": "<p>Just replace the literal spaces with a character class that matches a space or a newline:</p>\n\n<pre><code>$pattern = \"Match[ \\n]this[ \\n]exact[ \\n]phrase[ \\n]across[ \\n]newlines\";\n</code></pre>\n\n<p>Or, if you want to be more lenient, use <code>\\s</code> or <code>\\s+</code> instead, since <code>\\s</code> also matches newlines.</p>\n"}, {"tags": [], "owner": {"reputation": 8018, "user_id": 2064981, "user_type": "registered", "accept_rate": 75, "profile_image": "https://www.gravatar.com/avatar/74e3e392c752c4c9acb4ca4fb8f7af65?s=128&d=identicon&r=PG&f=1", "display_name": "SamWhan", "link": "https://stackoverflow.com/users/2064981/samwhan"}, "is_accepted": false, "score": 1, "last_activity_date": 1464099647, "creation_date": 1464099647, "answer_id": 37416345, "question_id": 37415704, "link": "https://stackoverflow.com/questions/37415704/perl-regex-multiline-match-without-dot/37416345#37416345", "title": "Perl regex multiline match without dot", "body": "<p>It certainly is ugly, but it works:</p>\n\n<pre><code>M\\n?a\\n?t\\n?c\\n?h\\st\\n?h\\n?i\\n?s\\se\\n?x\\n?a\\n?ct\\sp\\n?h\\n?r\\n?a\\n?s\\n?e\\sa\\n?c\\n?r\\n?o\\n?s\\n?s\\sn\\n?e\\n?w\\n?l\\n?i\\n?n\\n?e\\n?s\n</code></pre>\n\n<p>For every pair of letters inside a word, allow a newline between them  with <code>\\n?</code>. And replace each space in your regex with <code>\\s</code>.</p>\n\n<p>May not be usable, but it gets the job done ;)</p>\n\n<p><a href=\"https://regex101.com/r/zS6vM2/1\" rel=\"nofollow\">Check it out at regex101</a>.</p>\n"}, {"comments": [{"owner": {"reputation": 320771, "user_id": 589924, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/b2cf53d5a3d25f95c0db4e025aed4153?s=128&d=identicon&r=PG", "display_name": "ikegami", "link": "https://stackoverflow.com/users/589924/ikegami"}, "edited": false, "score": 0, "creation_date": 1464100763, "post_id": 37416410, "comment_id": 62339425, "body": "Note: This assumes <code>$pattern</code> is not a regex pattern, but a string literal to find exactly."}, {"owner": {"reputation": 320771, "user_id": 589924, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/b2cf53d5a3d25f95c0db4e025aed4153?s=128&d=identicon&r=PG", "display_name": "ikegami", "link": "https://stackoverflow.com/users/589924/ikegami"}, "edited": false, "score": 0, "creation_date": 1464100908, "post_id": 37416410, "comment_id": 62339537, "body": "This won&#39;t match is <code>$pattern = &quot;*&quot;</code> and <code>$text = &quot;*&quot;</code>."}, {"owner": {"reputation": 320771, "user_id": 589924, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/b2cf53d5a3d25f95c0db4e025aed4153?s=128&d=identicon&r=PG", "display_name": "ikegami", "link": "https://stackoverflow.com/users/589924/ikegami"}, "edited": false, "score": 0, "creation_date": 1464101457, "post_id": 37416410, "comment_id": 62339930, "body": "This won&#39;t match if <code>$pattern = &quot;foo-bar&quot;</code> and <code>$text = &quot;foo\\n-bar&quot;</code>."}, {"owner": {"reputation": 87649, "user_id": 17389, "user_type": "registered", "accept_rate": 38, "profile_image": "https://www.gravatar.com/avatar/cd06d1314817ce946ab796af8750b56a?s=128&d=identicon&r=PG", "display_name": "ysth", "link": "https://stackoverflow.com/users/17389/ysth"}, "reply_to_user": {"reputation": 320771, "user_id": 589924, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/b2cf53d5a3d25f95c0db4e025aed4153?s=128&d=identicon&r=PG", "display_name": "ikegami", "link": "https://stackoverflow.com/users/589924/ikegami"}, "edited": false, "score": 0, "creation_date": 1464102503, "post_id": 37416410, "comment_id": 62340725, "body": "@ikegami I was assuming no regex metacharacters, yes.  But not thinking about other non-word chars. Use ikegami&#39;s answer instead"}], "tags": [], "owner": {"reputation": 87649, "user_id": 17389, "user_type": "registered", "accept_rate": 38, "profile_image": "https://www.gravatar.com/avatar/cd06d1314817ce946ab796af8750b56a?s=128&d=identicon&r=PG", "display_name": "ysth", "link": "https://stackoverflow.com/users/17389/ysth"}, "is_accepted": true, "score": 2, "last_activity_date": 1464099796, "creation_date": 1464099796, "answer_id": 37416410, "question_id": 37415704, "link": "https://stackoverflow.com/questions/37415704/perl-regex-multiline-match-without-dot/37416410#37416410", "title": "Perl regex multiline match without dot", "body": "<p>It sounds like you want to change your \"exact\" pattern to match newlines anywhere, and also to allow newlines instead of spaces.  So change your pattern to do so:</p>\n\n<pre><code>$pattern = \"Match this exact phrase across newlines\";\n$pattern =~ s/\\S\\K\\B/\\n?/g;\n$pattern =~ s/ /[ \\n]/g;\n</code></pre>\n"}, {"comments": [{"owner": {"reputation": 320771, "user_id": 589924, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/b2cf53d5a3d25f95c0db4e025aed4153?s=128&d=identicon&r=PG", "display_name": "ikegami", "link": "https://stackoverflow.com/users/589924/ikegami"}, "edited": false, "score": 0, "creation_date": 1464101403, "post_id": 37416743, "comment_id": 62339893, "body": "Tested. Made a couple of fixes."}, {"owner": {"reputation": 87649, "user_id": 17389, "user_type": "registered", "accept_rate": 38, "profile_image": "https://www.gravatar.com/avatar/cd06d1314817ce946ab796af8750b56a?s=128&d=identicon&r=PG", "display_name": "ysth", "link": "https://stackoverflow.com/users/17389/ysth"}, "edited": false, "score": 0, "creation_date": 1464102374, "post_id": 37416743, "comment_id": 62340609, "body": "I think that strips a newline just before the desired match"}], "tags": [], "owner": {"reputation": 320771, "user_id": 589924, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/b2cf53d5a3d25f95c0db4e025aed4153?s=128&d=identicon&r=PG", "display_name": "ikegami", "link": "https://stackoverflow.com/users/589924/ikegami"}, "is_accepted": false, "score": 3, "last_activity_date": 1464101366, "last_edit_date": 1464101366, "creation_date": 1464100683, "answer_id": 37416743, "question_id": 37415704, "link": "https://stackoverflow.com/questions/37415704/perl-regex-multiline-match-without-dot/37416743#37416743", "title": "Perl regex multiline match without dot", "body": "<p>Most of the time, you are treating newlines as spaces. If that's all you wanted to do, all you'd need is</p>\n\n<pre><code>$text =~ s/\\n/ /g;\n$text =~ /\\Q$text_to_find/    # or $text =~ /$regex_pattern_to_match/\n</code></pre>\n\n<p>Then there's the one time you want to ignore it. If that's all you wanted to do, all you'd need is</p>\n\n<pre><code>$text =~ s/\\n//g;\n$text =~ /\\Q$text_to_find/    # or $text =~ /$regex_pattern_to_match/\n</code></pre>\n\n<p>Doing both is next to impossible if you have a regex pattern to match. But you seem to want to match literal text, so that opens up some possibilities.</p>\n\n<pre><code>( my $pattern = $text_to_find )\n   =~ s/(.)/ $1 eq \" \" ? \"[ \\\\n]\" : \"\\\\n?\" . quotemeta($1) /seg;\n$pattern =~ s/^\\\\n\\?//;\n$text =~ /$pattern/\n</code></pre>\n"}], "owner": {"reputation": 295, "user_id": 5763564, "user_type": "registered", "accept_rate": 89, "profile_image": "https://www.gravatar.com/avatar/7e5e0ffb79f1ef8a5b6efa0331cc539f?s=128&d=identicon&r=PG", "display_name": "Marijn", "link": "https://stackoverflow.com/users/5763564/marijn"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 219, "favorite_count": 0, "accepted_answer_id": 37416410, "answer_count": 4, "score": 1, "last_activity_date": 1464101366, "creation_date": 1464097988, "question_id": 37415704, "link": "https://stackoverflow.com/questions/37415704/perl-regex-multiline-match-without-dot", "title": "Perl regex multiline match without dot", "body": "<p>There are numerous questions on how to do a multiline regex in Perl. Most of them mention the <code>s</code> switch that makes a dot match a newline. However, I want to match an exact phrase (so, not a pattern) and I don't know where the newlines will be. So the question is: can you <em>ignore</em> newlines, instead of matching them with <code>.</code>?</p>\n\n<p>MWE:</p>\n\n<pre><code>$pattern = \"Match this exact phrase across newlines\";\n\n$text1 = \"Match\\nthis exact\\nphrase across newlines\";\n$text2 = \"Match this\\nexact phra\\nse across\\nnewlines\";\n\n$text3 = \"Keep any newlines\\nMatch this exact\\nphrase across newlines\\noutside\\nof the match\";\n\n$text1 =~ s/$pattern/replacement text/s;\n$text2 =~ s/$pattern/replacement text/s;\n$text3 =~ s/$pattern/replacement text/s;\n\nprint \"$text1\\n---\\n$text2\\n---\\n$text3\\n\";\n</code></pre>\n\n<p>I can put dots in the pattern instead of spaces (<code>\"Match.this.exact.phrase\"</code>) but that does not work for the second example. I can delete all newlines as preprocessing but I would like to keep newlines that are not part of the match (as in the third example).</p>\n\n<p>Desired output:</p>\n\n<pre><code>replacement text\n---\nreplacement text\n---\nKeep any newlines\nreplacement text\noutside\nof the match\n</code></pre>\n"}, {"tags": ["perl"], "answers": [{"comments": [{"owner": {"reputation": 32176, "user_id": 2173773, "user_type": "registered", "accept_rate": 86, "profile_image": "https://i.stack.imgur.com/M8yh6.jpg?s=128&g=1", "display_name": "H&#229;kon H&#230;gland", "link": "https://stackoverflow.com/users/2173773/h%c3%a5kon-h%c3%a6gland"}, "edited": false, "score": 0, "creation_date": 1464112482, "post_id": 37416013, "comment_id": 62346854, "body": "A workaround seems to be to use tags, see: <a href=\"http://stackoverflow.com/questions/24290393/is-there-an-easy-way-to-make-a-blocky-insert-cursor-for-the-tkinter-text-widget\">Is there an easy way to make a blocky insert cursor for the Tkinter Text widget?</a>"}, {"owner": {"reputation": 4237, "user_id": 797308, "user_type": "registered", "accept_rate": 88, "profile_image": "https://www.gravatar.com/avatar/e6e98fb28139b207c708da19e50ce00a?s=128&d=identicon&r=PG", "display_name": "NirMH", "link": "https://stackoverflow.com/users/797308/nirmh"}, "edited": false, "score": 0, "creation_date": 1464763871, "post_id": 37416013, "comment_id": 62610797, "body": "While this is an interesting approach, it is barely seen by the user (it just change the insert cursor &quot;|&quot; color)"}], "tags": [], "owner": {"reputation": 32176, "user_id": 2173773, "user_type": "registered", "accept_rate": 86, "profile_image": "https://i.stack.imgur.com/M8yh6.jpg?s=128&g=1", "display_name": "H&#229;kon H&#230;gland", "link": "https://stackoverflow.com/users/2173773/h%c3%a5kon-h%c3%a6gland"}, "is_accepted": true, "score": 0, "last_activity_date": 1464098713, "creation_date": 1464098713, "answer_id": 37416013, "question_id": 37413098, "link": "https://stackoverflow.com/questions/37413098/how-to-control-the-insert-cursor-in-a-perl-tktext-widget/37416013#37416013", "title": "How to control the insert cursor in a perl Tk::Text widget?", "body": "<p>I was not able to change the cursor image using <code>configure</code> on the text widget. But the background shape of the cursor could be changed. For example, when insert mode is active the cursor can be red, and when insert mode is off, the cursor can be black:</p>\n\n<pre><code>use strict;\nuse warnings;\nuse Tk;\n\nmy $mw = new MainWindow; \n\nmy $text = $mw-&gt;Text(qw/-width 40 -height 10/)-&gt;pack;\nmy $current_color = \"black\";\n$text-&gt;configure(-insertbackground =&gt; $current_color);\n$text-&gt;configure(-cursor =&gt; \"arrow\");\nmy $button = $mw-&gt;Button(-text =&gt; \"Quit\", -command =&gt; sub { exit })-&gt;pack;\n$text-&gt;bind('&lt;Insert&gt;', \\&amp;change_cursor );\nMainLoop;\n\nsub change_cursor {\n    $current_color = $current_color eq \"black\" ? \"red\" : \"black\";\n    $text-&gt;configure(-insertbackground =&gt; $current_color);\n}\n</code></pre>\n"}], "owner": {"reputation": 4237, "user_id": 797308, "user_type": "registered", "accept_rate": 88, "profile_image": "https://www.gravatar.com/avatar/e6e98fb28139b207c708da19e50ce00a?s=128&d=identicon&r=PG", "display_name": "NirMH", "link": "https://stackoverflow.com/users/797308/nirmh"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 319, "favorite_count": 0, "accepted_answer_id": 37416013, "answer_count": 1, "score": 2, "last_activity_date": 1464098713, "creation_date": 1464091641, "question_id": 37413098, "link": "https://stackoverflow.com/questions/37413098/how-to-control-the-insert-cursor-in-a-perl-tktext-widget", "title": "How to control the insert cursor in a perl Tk::Text widget?", "body": "<p>I am writing a text editor and wish to flag the user that the \"insert\" key was pressed.</p>\n\n<p>I am looking for a way to manipulate the \"insert cursor\" (usually a blinking <code>|</code> char) indicating the drawing position of the next clicked-char.</p>\n\n<p>e.g., </p>\n\n<p>When in \"insert\" mode: the cursor will be a blinking pipe (<code>|</code>)</p>\n\n<p>When in \"override\" mode (user clicked the <Kbd>Ctrl</kbd>+<kbd>INS</Kbd>): the cursor will be blinking underscore (<code>_</code>)</p>\n\n<p>While searching the web, i came across a of examples to manipulate the mouse cursor, but none about manipulating the insert cursor.</p>\n"}, {"tags": ["perl"], "comments": [{"owner": {"reputation": 3669, "user_id": 1867151, "user_type": "registered", "accept_rate": 64, "profile_image": "https://www.gravatar.com/avatar/f031f9c0fa73a79510c52afe063d5370?s=128&d=identicon&r=PG", "display_name": "user1867151", "link": "https://stackoverflow.com/users/1867151/user1867151"}, "reply_to_user": {"reputation": 51521, "user_id": 2566198, "user_type": "registered", "accept_rate": 67, "profile_image": "https://i.stack.imgur.com/Y34ZA.jpg?s=128&g=1", "display_name": "Sobrique", "link": "https://stackoverflow.com/users/2566198/sobrique"}, "edited": false, "score": 0, "creation_date": 1464085321, "post_id": 37409536, "comment_id": 62328113, "body": "I added this line to the FETCH code : return (\\@contents); The result is still the same .  Everytime the code goes into FETCH or STORE routines i want it to print the print statements at least . It is also not doing that ."}], "answers": [{"tags": [], "owner": {"reputation": 51521, "user_id": 2566198, "user_type": "registered", "accept_rate": 67, "profile_image": "https://i.stack.imgur.com/Y34ZA.jpg?s=128&g=1", "display_name": "Sobrique", "link": "https://stackoverflow.com/users/2566198/sobrique"}, "is_accepted": true, "score": 6, "last_activity_date": 1464085728, "last_edit_date": 1495539846, "creation_date": 1464085506, "answer_id": 37410830, "question_id": 37409536, "link": "https://stackoverflow.com/questions/37409536/tiescalar-in-perl/37410830#37410830", "title": "Tiescalar in Perl", "body": "<p>I think the root of your problem will be that you don't actually <code>bless</code> your value. </p>\n\n<p>With reference to an example: \n<a href=\"https://stackoverflow.com/questions/37061561/automatically-call-hash-values-that-are-subroutine-references/37067402#37067402\">Automatically call hash values that are subroutine references</a></p>\n\n<p>I think you need to change the last line of <code>TIESCALAR</code> to:</p>\n\n<pre><code>return bless \\$filename, $class;\n</code></pre>\n\n<p>Otherwise all it's doing is 'returning' the filename and not tying it. </p>\n\n<p>I can't entirely reproduce your problem - but I think you will <em>also</em> have problems with the implicit return of your <code>FETCH</code> which doesn't actually return the <code>@contents</code> but rather the return code of <code>close</code>.</p>\n\n<p>I would also suggest - 3 argument <code>open</code> is good, especially when you're doing something like this, because otherwise <code>FILE</code> is a global, and can be clobbered. </p>\n"}], "owner": {"reputation": 3669, "user_id": 1867151, "user_type": "registered", "accept_rate": 64, "profile_image": "https://www.gravatar.com/avatar/f031f9c0fa73a79510c52afe063d5370?s=128&d=identicon&r=PG", "display_name": "user1867151", "link": "https://stackoverflow.com/users/1867151/user1867151"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 96, "favorite_count": 0, "accepted_answer_id": 37410830, "answer_count": 1, "score": 2, "last_activity_date": 1464085728, "creation_date": 1464082222, "last_edit_date": 1464082635, "question_id": 37409536, "link": "https://stackoverflow.com/questions/37409536/tiescalar-in-perl", "title": "Tiescalar in Perl", "body": "<p>I have written the below module as the module to tie my scalar to a particular file contents :</p>\n\n<pre><code>package Scalar;\nuse strict;\nmy $count = 0;\nuse Carp;\n\nsub TIESCALAR{\n  print \"Inside TIESCALAR function \\n\";\n  my $class = shift;\n  my $filename = shift;\n  if ( ! -e $filename )\n  {\n    croak \"Filename : $filename does not exist !\";\n  }\n  else\n  {\n    if ( ! -r $filename || ! -w $filename )\n    {\n      croak \"Filename : $filename is not readable or writable !\";\n    }\n  }\n  $count++;\n  return \\$filename , $class;\n}\n\nsub FETCH {\n  print \"Inside FETCH function \\n\";\n  my $self = shift;\n  croak \"I am not a class method\" unless ref $self;\n  my $myfile = $$self;\n  open (FILE , \"&lt;$myfile\") || die \"Can't open the file for read operation $! \\n\";\n  flock(FILE,1) || die \"Could not apply a shared lock $!\";\n  my @contents = &lt;FILE&gt;;\n  close FILE;\n}\n\nsub STORE {\n  print \"Inside STORE function \\n\";\n  my $self = shift;\n  my $value = shift;\n  croak \"I am not a class method\" unless ref $self;\n  my $myfile = $$self;\n  open (FILE , \"&gt;&gt;$myfile\") or die \"Can't open the file for write operation $! \\n\";\n  flock(FILE,2);\n  print FILE $value;\n  close FILE;\n}\n\n1;\n</code></pre>\n\n<p>===============</p>\n\n<p>The code through which i call this module is as follows :</p>\n\n<pre><code>use strict;\nuse Scalar;\n\nmy $file = \"test.dat\";\n\nmy $filevar = undef;\ntie ($filevar, \"Scalar\", $file) or die \"Can't tie $!\";\n\nprint \"Trying to retrieve file contents \\n\";\nmy $contents = $filevar;\nforeach (@{$contents})\n{\n  print \"$_\";\n}\n\nprint \"Trying to add a line to file \\n\";\n$filevar = \"This is a test line added\";\n\nprint \"Reading contents again \\n\";\n$contents = $filevar;\nforeach (@$contents)\n{\n  print \"$_\";\n}\n</code></pre>\n\n<p>When i try to run this code , the below message comes up :</p>\n\n<pre><code>Inside TIESCALAR function\nTrying to retrieve file contents\nTrying to add a line to file\nReading contents again\nCan't use string (\"This is a test line added\") as an ARRAY ref while \"strict refs\" in use at Scalar.pl line 21.\n</code></pre>\n\n<p>I don't think the code is going into the FETCH and STORE functions of the module . Can someone please point out what the issue here is ?</p>\n"}, {"tags": ["perl", "login", "amazon", "mechanize"], "comments": [{"owner": {"reputation": 123805, "user_id": 622310, "user_type": "registered", "accept_rate": 33, "profile_image": "https://www.gravatar.com/avatar/8b6d35219e1808520bc238b28161e2e6?s=128&d=identicon&r=PG", "display_name": "Borodin", "link": "https://stackoverflow.com/users/622310/borodin"}, "edited": false, "score": 0, "creation_date": 1464090465, "post_id": 37409455, "comment_id": 62331684, "body": "I can imagine that Amazon have put measures in place specifically to prevent what you&#39;re trying to do: it is a huge security problem to allow automated sign-in. I doubt if anyone is going to be able to help you, and your best recourse is probably to compare the message sent by your program to that of a real browser and see if you can emulate it more precisely. Another approach would be to use <a href=\"https://metacpan.org/pod/WWW::Mechanize::Firefox\" rel=\"nofollow noreferrer\">WWW::Mechanize::Firefox</a> instead, which drives a real Firefox browser and should remove most of the problems"}], "owner": {"reputation": 11, "user_id": 6375229, "user_type": "registered", "profile_image": "https://lh3.googleusercontent.com/-bb-oXn47ja0/AAAAAAAAAAI/AAAAAAACU4M/xZfag74gBl4/photo.jpg?sz=128", "display_name": "Michael Wiedemann", "link": "https://stackoverflow.com/users/6375229/michael-wiedemann"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 496, "favorite_count": 1, "protected_date": 1469014351, "answer_count": 0, "score": 1, "last_activity_date": 1469009819, "creation_date": 1464082001, "last_edit_date": 1464087045, "question_id": 37409455, "link": "https://stackoverflow.com/questions/37409455/mechanize-perl-amazon-login-via-forms-unsuccessful", "title": "Mechanize Perl - Amazon Login via forms unsuccessful", "body": "<p>I have a weired problem - since a few days ago, I am unable to login on Amazon using Mechanize in Perl. My goal is to automatically retrieve my order history.</p>\n\n<p>Here is my code (sniplet) which used to work since a few days ago:</p>\n\n<pre><code>my $url = URI-&gt;new( 'http://www.amazon.com/gp/css/order-history/' );\n\n############ LOGIN ############\n# Create browser instance\nmy $browser = WWW::Mechanize-&gt;new(  stack_depth =&gt; 25,\n                                agent =&gt; 'Mac Safari',\n                                autocheck   =&gt; 0   # Turn off autocheck, check manually\n                                );\n$browser-&gt;conn_cache(LWP::ConnCache-&gt;new);                          \n\n# Connect to the login page\nmy $response = $browser-&gt;get( $url );\n# Get the login form - based on the current design.\n$browser-&gt;form_name( 'signIn' );\n\n# Enter the login credentials.\n$browser-&gt;field( email =&gt; $myEmail );\n$browser-&gt;field( password =&gt; $myPassword );\n$browser-&gt;tick(\"rememberMe\", \"true\");\n\nmy $retry = 1; # just once\nRETRY: { \n    while ($retry &gt; 0) {\n        $browser-&gt;submit();\n\n        #check if login successful:\n        if ($browser-&gt;content() =~ m/Your Orders/) {\n            print OUT \"LOGIN: Login was successful - proceeding...&lt;br&gt;\\n\";\n            last RETRY;\n        }\n        else {\n            $browser-&gt;save_content( $errlog );\n            $retry--;\n        }\n    }\n    print OUT \"LOGIN: Login was unsuccessful - please check parameters and \" . $errlog . \"&lt;br&gt;&lt;br&gt; &lt;/body&gt; &lt;/html&gt;\\n\";\n    die(\"Login was unsuccessful - please check parameters and $errlog\\n\");\n}\n</code></pre>\n\n<p>When I execute the script now I get an error page:</p>\n\n<blockquote>\n  <p>There was a problem\n  Your email or password was incorrect. Please try again.</p>\n</blockquote>\n\n<p>But as I did not change anything (username or password), something else not working - it was working until last week. Any ideas?</p>\n"}, {"tags": ["perl", "data-structures"], "answers": [{"comments": [{"owner": {"reputation": 305, "user_id": 1899523, "user_type": "registered", "accept_rate": 83, "profile_image": "https://www.gravatar.com/avatar/62f19f7436b12bc44fc5f6b5cbfe4e59?s=128&d=identicon&r=PG", "display_name": "Antoine", "link": "https://stackoverflow.com/users/1899523/antoine"}, "edited": false, "score": 0, "creation_date": 1464082513, "post_id": 37409075, "comment_id": 62326117, "body": "Thank you Choroba. I have a preference for your second way to do it without extra module, but I find the eballes way a little bit more simple. Thank you for your answer ! :)"}, {"owner": {"reputation": 320771, "user_id": 589924, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/b2cf53d5a3d25f95c0db4e025aed4153?s=128&d=identicon&r=PG", "display_name": "ikegami", "link": "https://stackoverflow.com/users/589924/ikegami"}, "edited": false, "score": 1, "creation_date": 1464104530, "post_id": 37409075, "comment_id": 62342158, "body": "@choroba, You might be interested in seeing <a href=\"http://stackoverflow.com/a/37417801/589924\">this</a>."}], "tags": [], "owner": {"reputation": 198290, "user_id": 1030675, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/957956ce51706d03f19a4dc85a767bb1?s=128&d=identicon&r=PG", "display_name": "choroba", "link": "https://stackoverflow.com/users/1030675/choroba"}, "is_accepted": false, "score": 4, "last_activity_date": 1464088286, "last_edit_date": 1464088286, "creation_date": 1464081053, "answer_id": 37409075, "question_id": 37408725, "link": "https://stackoverflow.com/questions/37408725/how-to-create-recursive-hash-of-hash-with-unlimited-deep/37409075#37409075", "title": "How to create recursive hash of hash ? (With unlimited deep)", "body": "<p><a href=\"http://p3rl.org/Data::Diver\" rel=\"nofollow\">Data::Diver</a> can help you:</p>\n\n<pre><code>#!/usr/bin/perl\nuse warnings;\nuse strict;\n\nuse Data::Diver qw{ DiveVal };\nuse Data::Dumper;\n\nmy %branch;\nDiveVal(\\%branch, map \"level$_\", 1 .. 3) = 'leave';\nprint Dumper \\%branch;\n</code></pre>\n\n<p>Output:</p>\n\n<pre><code>$VAR1 = {\n          'level1' =&gt; {\n                        'level2' =&gt; {\n                                      'level3' =&gt; 'leave'\n                                    }\n                      }\n        };\n</code></pre>\n\n<p>Or, if you want to implement it yourself:</p>\n\n<pre><code>#!/usr/bin/perl\nuse warnings;\nuse strict;\n\nuse Data::Dumper;\n\nsub set_value {\n    my ($struct, @list) = @_;\n    if (@list &gt; 2) {\n        set_value($struct-&gt;{ $list[0] } = {}, @list[ 1 .. $#list ]);\n    } else {\n        $struct-&gt;{ $list[0] } = $list[1];\n    }\n}\n\n\nmy %branch;\nset_value(\\%branch, map(\"level$_\", 1 .. 3), 'leave');\nprint Dumper \\%branch;\n</code></pre>\n"}, {"comments": [{"owner": {"reputation": 320771, "user_id": 589924, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/b2cf53d5a3d25f95c0db4e025aed4153?s=128&d=identicon&r=PG", "display_name": "ikegami", "link": "https://stackoverflow.com/users/589924/ikegami"}, "edited": false, "score": 0, "creation_date": 1464103797, "post_id": 37409241, "comment_id": 62341650, "body": "This can be simplified a lot if you replace both <code>$cursor = ...;</code> with <code>$cursor = \\( ... );</code> and adjust all other instances of <code>$cursor</code>. See my <a href=\"http://stackoverflow.com/a/37417801/589924\">answer</a>."}], "tags": [], "owner": {"reputation": 51521, "user_id": 2566198, "user_type": "registered", "accept_rate": 67, "profile_image": "https://i.stack.imgur.com/Y34ZA.jpg?s=128&g=1", "display_name": "Sobrique", "link": "https://stackoverflow.com/users/2566198/sobrique"}, "is_accepted": true, "score": 3, "last_activity_date": 1464103647, "last_edit_date": 1464103647, "creation_date": 1464081456, "answer_id": 37409241, "question_id": 37408725, "link": "https://stackoverflow.com/questions/37408725/how-to-create-recursive-hash-of-hash-with-unlimited-deep/37409241#37409241", "title": "How to create recursive hash of hash ? (With unlimited deep)", "body": "<p>The simplest way is to remember how perl handles multi-dimensional data structures. It does so by references. So you may find it simpler to start at the top level, as a hash ref instead:</p>\n\n<pre><code>#!/usr/bin/env perl\nuse strict;\nuse warnings;\nuse Data::Dumper;\n\nmy @levels = qw ( level1 level2 level3 );\n\nmy $branch = {};\n\nmy $tail = pop(@levels);\nmy $cursor = $branch;\n#iterate our levels\nforeach my $level (@levels) { \n   #make a new anon-hash if there isn't one. \n   $cursor -&gt; {$level} ||= {};\n   #traverse down\n   $cursor = $cursor-&gt;{$level};\n}\n#set a value\n$cursor -&gt; {$tail} = 'leaf';\n\nprint Dumper $branch;\n</code></pre>\n\n<p>Output:</p>\n\n<pre><code>$VAR1 = {\n          'level1' =&gt; {\n                        'level2' =&gt; {\n                                      'level3' =&gt; 'leaf'\n                                    }\n                      }\n        };\n</code></pre>\n\n<p>Note - you would have to reset the cursor and 're-traverse' in order to do this again, but could 'walk' the structure in a similar fashion. </p>\n"}, {"comments": [{"owner": {"reputation": 305, "user_id": 1899523, "user_type": "registered", "accept_rate": 83, "profile_image": "https://www.gravatar.com/avatar/62f19f7436b12bc44fc5f6b5cbfe4e59?s=128&d=identicon&r=PG", "display_name": "Antoine", "link": "https://stackoverflow.com/users/1899523/antoine"}, "edited": false, "score": 2, "creation_date": 1464082335, "post_id": 37409358, "comment_id": 62325975, "body": "I&#39;m impress how fast everyone answerd ! I really like the way you answer it : I don&#39;t need extra module and I find the recursive way quite elegent. So I get your answer, but the one from Sobrique and Choroba are really nice too. Thank you ! :)"}, {"owner": {"reputation": 320771, "user_id": 589924, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/b2cf53d5a3d25f95c0db4e025aed4153?s=128&d=identicon&r=PG", "display_name": "ikegami", "link": "https://stackoverflow.com/users/589924/ikegami"}, "edited": false, "score": 1, "creation_date": 1464104299, "post_id": 37409358, "comment_id": 62341989, "body": "Unfortunately, this approach can&#39;t be used to add to an existing structure like <code>DiveVal($root, @keys) = $leaf;</code> can."}], "tags": [], "owner": {"reputation": 1133, "user_id": 2185890, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/330b262ed789de0997e720dce8ee1af0?s=128&d=identicon&r=PG", "display_name": "LaintalAy", "link": "https://stackoverflow.com/users/2185890/laintalay"}, "is_accepted": false, "score": 2, "last_activity_date": 1464105768, "last_edit_date": 1464105768, "creation_date": 1464081755, "answer_id": 37409358, "question_id": 37408725, "link": "https://stackoverflow.com/questions/37408725/how-to-create-recursive-hash-of-hash-with-unlimited-deep/37409358#37409358", "title": "How to create recursive hash of hash ? (With unlimited deep)", "body": "<p>A simple recursive solution:</p>\n\n<pre><code>#!/usr/bin/env perl   \nuse strict;\nuse warnings;\nuse Data::Dumper;\n\nsub recursiveHash {\n    my ($result, @rest) = @_;\n    return $result unless @rest;\n\n    my $nextTag = pop @rest;\n    return recursiveHash( {$nextTag =&gt; $result}, @rest);\n}\n\nprint Dumper(recursiveHash('leaf', 'level1', 'level2', 'level3'));\n</code></pre>\n\n<p>Output:</p>\n\n<pre><code>$VAR1 = {\n          'level1' =&gt; {\n                        'level2' =&gt; {\n                                      'level3' =&gt; 'leaf'\n                                    }\n                      }\n        };\n</code></pre>\n\n<p>That said, subroutine calls are rather slow in Perl. Fortunately, the recursion is completely unnecessary here.</p>\n\n<pre><code>sub iterativeHash {\n    my ($result, @rest) = @_;\n    while (@rest) {\n       my $nextTag = pop @rest;\n       $result = { $nextTag =&gt; $result };\n    }\n    return $result;\n}\n</code></pre>\n"}, {"comments": [{"owner": {"reputation": 1133, "user_id": 2185890, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/330b262ed789de0997e720dce8ee1af0?s=128&d=identicon&r=PG", "display_name": "LaintalAy", "link": "https://stackoverflow.com/users/2185890/laintalay"}, "edited": false, "score": 0, "creation_date": 1464106549, "post_id": 37417801, "comment_id": 62343477, "body": "Thanks a lot for this answer, I&#39;ve learnt a lot from it. I just want also to link to the <a href=\"http://perldoc.perl.org/perlsub.html#Lvalue-subroutines\" rel=\"nofollow noreferrer\">documentation of <code>:lvalue</code></a>. I needed it :)"}, {"owner": {"reputation": 518, "user_id": 3617046, "user_type": "registered", "accept_rate": 69, "profile_image": "https://www.gravatar.com/avatar/afad7c3481df3dcbbcd2b4366782e056?s=128&d=identicon&r=PG&f=1", "display_name": "Bulrush", "link": "https://stackoverflow.com/users/3617046/bulrush"}, "edited": false, "score": 0, "creation_date": 1464183948, "post_id": 37417801, "comment_id": 62380660, "body": "@ikegami, if you are the author of Data::Diver I&#39;ve sent you an email via CPAN, i.e. to your cpan.org email address. I&#39;m not sure if the email will be forwarded to your real email address."}, {"owner": {"reputation": 320771, "user_id": 589924, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/b2cf53d5a3d25f95c0db4e025aed4153?s=128&d=identicon&r=PG", "display_name": "ikegami", "link": "https://stackoverflow.com/users/589924/ikegami"}, "reply_to_user": {"reputation": 518, "user_id": 3617046, "user_type": "registered", "accept_rate": 69, "profile_image": "https://www.gravatar.com/avatar/afad7c3481df3dcbbcd2b4366782e056?s=128&d=identicon&r=PG&f=1", "display_name": "Bulrush", "link": "https://stackoverflow.com/users/3617046/bulrush"}, "edited": false, "score": 0, "creation_date": 1464185344, "post_id": 37417801, "comment_id": 62381792, "body": "@Bulrush, I do not maintain that module. My CPAN name the same as my SO name. And yeah, CPAN addresses are mail forwarders."}], "tags": [], "owner": {"reputation": 320771, "user_id": 589924, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/b2cf53d5a3d25f95c0db4e025aed4153?s=128&d=identicon&r=PG", "display_name": "ikegami", "link": "https://stackoverflow.com/users/589924/ikegami"}, "is_accepted": false, "score": 5, "last_activity_date": 1609690037, "last_edit_date": 1609690037, "creation_date": 1464103387, "answer_id": 37417801, "question_id": 37408725, "link": "https://stackoverflow.com/questions/37408725/how-to-create-recursive-hash-of-hash-with-unlimited-deep/37417801#37417801", "title": "How to create recursive hash of hash ? (With unlimited deep)", "body": "<p>I strongly recommend using an existing solution such as <a href=\"http://search.cpan.org/perldoc?Data::Diver\" rel=\"nofollow noreferrer\">Data::Diver</a>.</p>\n<pre><code>use Data::Diver qw( DiveVal );\n\nmy @keys = map &quot;level$_&quot;, 1 .. 3;\n\nmy $branch = {};\nDiveVal($branch, map \\$_, @keys) = 'leaf';\n  -or-\nmy %branch;\nDiveVal(\\%branch, map \\$_, @keys) = 'leaf';\n</code></pre>\n<hr />\n<p>Obviously, it can be done without module too.</p>\n<pre><code>sub DiveVal :lvalue {\n   my $p = \\shift;\n   $p = \\( $$p-&gt;{$_} ) for @_;\n   $$p\n}\n\nmy @keys = map &quot;level$_&quot;, 1 .. 3;\n\nmy $branch;\nDiveVal($branch, @keys) = 'leaf';\n  -or-\nmy %branch;\nDiveVal(\\%branch, @keys) = 'leaf';\n</code></pre>\n<hr />\n<p>How my <code>DiveVal</code> works:</p>\n<pre class=\"lang-none prettyprint-override\"><code>Pre-loop:          $p references $branch\nAfter loop pass 0: $p references $branch-&gt;{level1}\nAfter loop pass 1: $p references $branch-&gt;{level1}{level2}\nAfter loop pass 2: $p references $branch-&gt;{level1}{level2}{level3}\nReturned:          $branch-&gt;{level1}{level2}{level3}\n</code></pre>\n<p>The extra level of indirection has many benefits.</p>\n<ul>\n<li>It removes the need to treat the last key specially.</li>\n<li>It removes the need to create the hash before it's dereferenced.</li>\n<li>It removes the need for the root to be a reference to a hash. Instead, any scalar can be the root, even an undefined one.</li>\n<li>It makes it easy to extend <code>DiveVal</code> to support mixed array/hash structures.</li>\n</ul>\n"}, {"tags": [], "owner": {"reputation": 518, "user_id": 3617046, "user_type": "registered", "accept_rate": 69, "profile_image": "https://www.gravatar.com/avatar/afad7c3481df3dcbbcd2b4366782e056?s=128&d=identicon&r=PG&f=1", "display_name": "Bulrush", "link": "https://stackoverflow.com/users/3617046/bulrush"}, "is_accepted": false, "score": 1, "last_activity_date": 1464261538, "last_edit_date": 1464261538, "creation_date": 1464182929, "answer_id": 37438711, "question_id": 37408725, "link": "https://stackoverflow.com/questions/37408725/how-to-create-recursive-hash-of-hash-with-unlimited-deep/37438711#37438711", "title": "How to create recursive hash of hash ? (With unlimited deep)", "body": "<p>I use DBM::Deep, which you will probably have to install yourself. I needed something that could handle long key values and about 100,000 keys. Normal Perl hashes (the ones installed by default) only handle a combined key and data length of 1008 bytes.  </p>\n\n<ul>\n<li><a href=\"http://www.perlmonks.org/?node_id=1096995\" rel=\"nofollow\">See Perlmonks discussion of persistent hashes</a>. </li>\n<li><a href=\"http://perlmonks.com/?node_id=512676\" rel=\"nofollow\">And about persistent multi-level hashes</a>.</li>\n</ul>\n\n<hr>\n\n<pre><code># LIMITS:\n# - Key size limit: none\n# - Data size limit: limited by OS\n# - Number of keys per hash: millions\n# - Number of nested levels: millions. \"Can handle millions of keys and unlimited levels without significant slow-down. \"\n\n# Basic\nuse Fcntl; # Required for hashes.\nuse DBM::Deep;\nmy($db);\nmy $fn='file.dbm';\n$db=DBM::Deep-&gt;new($fn) or die \"Could not make DBM::Deep in file $fn\";\n$db-&gt;{'key1'}=\"stuff\";\ndelete $db-&gt;{'key1'};\nif ($db-&gt;exists(\"key\"))\n    {\n    print \"Yay\\n\";\n    }\n$db-&gt;clear(); # Delete all keys.\n@k=keys(%$db); # Get all first level keys.\n\n# Alternate\nmy $fn='file.dbm';\ntie my %db, 'DBM::Deep', $fn or die \"Could not tie hash to $fn\";\n$db{key} = 'value';\nprint $db{key};\n\ntied(%db)-&gt;put('key' =&gt; 'value');\nprint tied(%db)-&gt;get('key');\n\n# Multi-level hash\n$db-&gt;{'key1'}-&gt;{'subkey1'}=\"more stuff\";\n$db-&gt;{'wine'}-&gt;{'red'}-&gt;{'taste'}=\"good\";\n$db-&gt;{'invoice'}-&gt;{'16738'}-&gt;{'customernum'}=455;\n\n# get keys or values\n@k=keys(%$db);\n@k=values(%$db);\n@k=keys( %{$dbm-&gt;{'A'}} );  # Gets subkeys for 'A'\n</code></pre>\n"}], "owner": {"reputation": 305, "user_id": 1899523, "user_type": "registered", "accept_rate": 83, "profile_image": "https://www.gravatar.com/avatar/62f19f7436b12bc44fc5f6b5cbfe4e59?s=128&d=identicon&r=PG", "display_name": "Antoine", "link": "https://stackoverflow.com/users/1899523/antoine"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 385, "favorite_count": 1, "accepted_answer_id": 37409241, "answer_count": 5, "score": 4, "last_activity_date": 1609690037, "creation_date": 1464080113, "question_id": 37408725, "link": "https://stackoverflow.com/questions/37408725/how-to-create-recursive-hash-of-hash-with-unlimited-deep", "title": "How to create recursive hash of hash ? (With unlimited deep)", "body": "<p>Please, I try to create a complexe datastructure. I know how to do</p>\n\n<pre><code>$branch{'level1'}{'level2'}{'level3'}='leaf';\n</code></pre>\n\n<p>But I don't know how to create</p>\n\n<pre><code>$branch{'level1'}....{'levelN'}='leaf';\n</code></pre>\n\n<p>I try something like that :</p>\n\n<pre><code>$branch{'leaf'} = \"1\";\n$branchREF = \\%branch;\n$branchtmp{'level3'} = $branchREF;\n</code></pre>\n\n<p>So I succefully get :</p>\n\n<pre><code>$VAR1 = 'level3';\n$VAR2 = {\n          'leaf' =&gt; '1'\n        };\n</code></pre>\n\n<p>But for the next step, to do a recrusive N hash of hash, I try :</p>\n\n<pre><code>%branch = %branchtmp;\n</code></pre>\n\n<p>But the result is completly wrong... <code>%branch</code> is not what I'm expecting. To do my recursivity, I need to reuse my first <code>%branch</code> and not create a new one. How can I do please ?</p>\n\n<p>A.</p>\n"}, {"tags": ["android", "perl", "google-chrome", "ssl", "appium"], "owner": {"reputation": 31, "user_id": 6374941, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/fa060b67f7888b00ac89beaa744bdfb0?s=128&d=identicon&r=PG&f=1", "display_name": "loktora", "link": "https://stackoverflow.com/users/6374941/loktora"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 359, "favorite_count": 0, "answer_count": 0, "score": 3, "last_activity_date": 1464079538, "creation_date": 1464079538, "question_id": 37408511, "link": "https://stackoverflow.com/questions/37408511/how-can-i-get-chrome-on-android-to-check-ssl-errors-again-with-appium", "title": "How can I get Chrome on Android to check SSL errors again with Appium?", "body": "<p>Using Appium I need to bypass SSL-security error to access a page.\nI used the <code>chromeOptions</code> <code>--ignore-certificate-errors</code> to do so and it seems to work.</p>\n\n<p>However after disconnecting the device, I realized that Chrome didn't check for certificates errors anymore, using Appium but also using the device manually.\nI have no idea why and how to get it back to normal (the option <code>don't-ignore-certificate-errors</code> doesn't exist since it's supposed to be the default comportment).</p>\n\n<p>Here is my code for appium (in perl) : </p>\n\n<pre><code>#!/usr/bin/perl -w\nuse strict;\nuse warnings;\nuse Appium;\nuse Test::More;\n\nmy $caps = {\n    'deviceName'       =&gt; 'Nexus 4',\n    'platformName'     =&gt; 'Android',\n    'platformVersion'  =&gt; '4.2',\n    'browserName'      =&gt; 'Chrome',\n    'chromeOptions'    =&gt; {'args' =&gt; ['--ignore-certificate-errors']},\n    };\nmy $appium = Appium-&gt;new(caps =&gt; $caps );\nok($appium, 'We have an Appium driver available!');\n$appium-&gt;get('https://self-signed.badssl.com');\nsleep(5);\n$appium-&gt;quit;\ndone_testing;\n1;\n</code></pre>\n\n<p>After investigating the issue I realized in Appium output that the browser is launched with <code>acceptSslCerts</code> even after removing the chromeOptions from my code.\nHere is a part of Appium response I got when I try <strong>not</strong> to ignore certificate errors : </p>\n\n<pre><code>[debug] [ADB] Creating ADB subprocess with args: -P, 5037, -s, 4df7f73251e5cfe5, shell, uiautomator, runtest, AppiumBootstrap.jar, -c, io.appium.android.bootstrap.Bootstrap, -e, pkg, com.android.chrome, -e, disableAndroidWatchers, false, -e, acceptSslCerts, false\n</code></pre>\n\n<p>Which seems like `acceptSslCerts will be on false, but then :</p>\n\n<pre><code>[JSONWP Proxy] Got response with status 200: {\"sessionId\":\"306888c4d7d59a322b3339e35410b142\",\"status\":0,\"value\":{\"acceptSslCerts\":true,\"applicationCacheEnabled\":false,\"browserConnectionEnabled\":false,\"browserName\":\"chrome\",\"chrome\":{\"chromedr...\n</code></pre>\n\n<p>Why is this happening ?\nIs there something wrong with my code ?</p>\n\n<p>And how to get it back to normal ? (with Appium or manually)</p>\n\n<p>Note: I already tried to clear the cache, the data, to force the app to stop and to reboot he device to no results...\nThis problem has been detected on Android 4.2 and confirmed with 5.0</p>\n"}, {"tags": ["regex", "perl", "yaml"], "comments": [{"owner": {"reputation": 50468, "user_id": 1331451, "user_type": "registered", "accept_rate": 96, "profile_image": "https://i.stack.imgur.com/4ZPmj.png?s=128&g=1", "display_name": "simbabque", "link": "https://stackoverflow.com/users/1331451/simbabque"}, "edited": false, "score": 1, "creation_date": 1464078633, "post_id": 37408053, "comment_id": 62323480, "body": "Why would you do that with a regular expression? Do you want to find something in the yaml, or actually parse it?"}, {"owner": {"reputation": 22436, "user_id": 1954610, "user_type": "registered", "accept_rate": 78, "profile_image": "https://www.gravatar.com/avatar/27d84db27dd0528916e8cd6954bdd328?s=128&d=identicon&r=PG", "display_name": "Tom Lord", "link": "https://stackoverflow.com/users/1954610/tom-lord"}, "edited": false, "score": 0, "creation_date": 1464078682, "post_id": 37408053, "comment_id": 62323515, "body": "Why are you not just opening the YAML file, like how it was designed to be used? <a href=\"https://perltricks.com/article/29/2013/9/17/How-to-Load-YAML-Config-Files/\" rel=\"nofollow noreferrer\">perltricks.com/article/29/2013/9/17/&hellip;</a>"}, {"owner": {"reputation": 1301, "user_id": 1164553, "user_type": "registered", "accept_rate": 25, "profile_image": "https://www.gravatar.com/avatar/4e858c4dccb712a9988d4e072da9a84d?s=128&d=identicon&r=PG", "display_name": "jmkg", "link": "https://stackoverflow.com/users/1164553/jmkg"}, "edited": false, "score": 0, "creation_date": 1464078858, "post_id": 37408053, "comment_id": 62323627, "body": "Sure I could do it with yaml processing, but I&#39;m wondering how to do it with a regex ;-)"}, {"owner": {"reputation": 51521, "user_id": 2566198, "user_type": "registered", "accept_rate": 67, "profile_image": "https://i.stack.imgur.com/Y34ZA.jpg?s=128&g=1", "display_name": "Sobrique", "link": "https://stackoverflow.com/users/2566198/sobrique"}, "edited": false, "score": 2, "creation_date": 1464079455, "post_id": 37408053, "comment_id": 62323993, "body": "It is a bad idea to do it with a regex, for the same reasons it&#39;s bad to try and &#39;do&#39; <code>XML</code> with a regex. YAML is a contextual markup language, and regex doesn&#39;t do context. Thus you are doomed - at best you&#39;ll make some hacky brittle code. Just use a parser. There&#39;s quite a few for YAML."}, {"owner": {"reputation": 1301, "user_id": 1164553, "user_type": "registered", "accept_rate": 25, "profile_image": "https://www.gravatar.com/avatar/4e858c4dccb712a9988d4e072da9a84d?s=128&d=identicon&r=PG", "display_name": "jmkg", "link": "https://stackoverflow.com/users/1164553/jmkg"}, "edited": false, "score": 1, "creation_date": 1464079888, "post_id": 37408053, "comment_id": 62324269, "body": "I switched to the yaml processeing.I thought yaml is regular but since it is a representation of json and now I see json is not regular, so a regex is wrong here."}, {"owner": {"reputation": 51521, "user_id": 2566198, "user_type": "registered", "accept_rate": 67, "profile_image": "https://i.stack.imgur.com/Y34ZA.jpg?s=128&g=1", "display_name": "Sobrique", "link": "https://stackoverflow.com/users/2566198/sobrique"}, "edited": false, "score": 0, "creation_date": 1464079969, "post_id": 37408053, "comment_id": 62324321, "body": "Yes. All the reasons you don&#39;t want to parse <code>JSON</code> with regex apply here too."}, {"owner": {"reputation": 53041, "user_id": 4653379, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/b3953dbedd0dabff5cbc3db9b0835b14?s=128&d=identicon&r=PG&f=1", "display_name": "zdim", "link": "https://stackoverflow.com/users/4653379/zdim"}, "edited": false, "score": 0, "creation_date": 1590715055, "post_id": 37408053, "comment_id": 109792426, "body": "Just ran into this old post ... a reminder, <a href=\"http://stackoverflow.com/help/someone-answers\">What should I do when someone answers my question?</a>"}], "answers": [{"tags": [], "owner": {"reputation": 51521, "user_id": 2566198, "user_type": "registered", "accept_rate": 67, "profile_image": "https://i.stack.imgur.com/Y34ZA.jpg?s=128&g=1", "display_name": "Sobrique", "link": "https://stackoverflow.com/users/2566198/sobrique"}, "is_accepted": false, "score": 2, "last_activity_date": 1464079736, "creation_date": 1464079736, "answer_id": 37408584, "question_id": 37408053, "link": "https://stackoverflow.com/questions/37408053/perl-multiline-regex-for-yaml-file/37408584#37408584", "title": "Perl multiline Regex for yaml file", "body": "<p>It is a bad idea to do it with a regex, for the same reasons it's bad to try and 'do' XML with a regex. YAML is a contextual markup language, and regex doesn't do context. Thus you are doomed - at best you'll make some hacky brittle code.</p>\n\n<p>Just use a parser. There's quite a few for YAML.</p>\n\n<p>Like <code>YAML</code> for example:</p>\n\n<pre><code>#!/usr/bin/env perl\nuse strict;\nuse warnings;\n\nuse Data::Dumper;\nuse YAML;\nmy $yaml = Load(do { local $/; &lt;DATA&gt; } );\n\nprint Dumper \\$yaml;\n\nprint join \"\\n\", @{$yaml-&gt;{a}{ab}},\"\\n\";\n\n__DATA__\na:\n aa:\n  - aaa\n ab:\n  - aba\n  - abb\n ac:\n  - aca\n</code></pre>\n"}, {"comments": [{"owner": {"reputation": 1301, "user_id": 1164553, "user_type": "registered", "accept_rate": 25, "profile_image": "https://www.gravatar.com/avatar/4e858c4dccb712a9988d4e072da9a84d?s=128&d=identicon&r=PG", "display_name": "jmkg", "link": "https://stackoverflow.com/users/1164553/jmkg"}, "edited": false, "score": 0, "creation_date": 1464082568, "post_id": 37408881, "comment_id": 62326158, "body": "Thank you for your reply. I was only curious how to do it with a regex."}, {"owner": {"reputation": 53041, "user_id": 4653379, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/b3953dbedd0dabff5cbc3db9b0835b14?s=128&d=identicon&r=PG&f=1", "display_name": "zdim", "link": "https://stackoverflow.com/users/4653379/zdim"}, "reply_to_user": {"reputation": 1301, "user_id": 1164553, "user_type": "registered", "accept_rate": 25, "profile_image": "https://www.gravatar.com/avatar/4e858c4dccb712a9988d4e072da9a84d?s=128&d=identicon&r=PG", "display_name": "jmkg", "link": "https://stackoverflow.com/users/1164553/jmkg"}, "edited": false, "score": 0, "creation_date": 1464082768, "post_id": 37408881, "comment_id": 62326321, "body": "@jmkg  Yeah, that is how it seemed, which is why I posted this.  For any real work it is really not worth it. It&#39;s just endless trouble."}], "tags": [], "owner": {"reputation": 53041, "user_id": 4653379, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/b3953dbedd0dabff5cbc3db9b0835b14?s=128&d=identicon&r=PG&f=1", "display_name": "zdim", "link": "https://stackoverflow.com/users/4653379/zdim"}, "is_accepted": false, "score": 2, "last_activity_date": 1464292244, "last_edit_date": 1464292244, "creation_date": 1464080519, "answer_id": 37408881, "question_id": 37408053, "link": "https://stackoverflow.com/questions/37408053/perl-multiline-regex-for-yaml-file/37408881#37408881", "title": "Perl multiline Regex for yaml file", "body": "<p>I take this to be play, curiosity, since you are asking for regex.  For anything serious please use one of the many modules to parse any such (irregular) structure.  Please do not use regex for this.</p>\n\n<p>That said, to answer the direct question</p>\n\n<pre><code>perl -0777 -nE '/ab:[^-]+\\-\\s+(\\w+)[^-]+\\-\\s+(\\w+)/gs; say \"$1 $2\"' data.txt\n</code></pre>\n\n<p>With posted data in <code>data.txt</code> file this prints</p>\n\n<pre>\naba abb\n</pre>\n\n<p>This is, of course, for your specific data. Once you start tweaking it for more general data sets you'll quickly see why not to use regex.</p>\n"}], "owner": {"reputation": 1301, "user_id": 1164553, "user_type": "registered", "accept_rate": 25, "profile_image": "https://www.gravatar.com/avatar/4e858c4dccb712a9988d4e072da9a84d?s=128&d=identicon&r=PG", "display_name": "jmkg", "link": "https://stackoverflow.com/users/1164553/jmkg"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 215, "favorite_count": 0, "answer_count": 2, "score": 0, "last_activity_date": 1464292244, "creation_date": 1464078125, "last_edit_date": 1464078738, "question_id": 37408053, "link": "https://stackoverflow.com/questions/37408053/perl-multiline-regex-for-yaml-file", "title": "Perl multiline Regex for yaml file", "body": "<p>I'm trying to match subsections of a yaml file. In this example the content of <code>ab</code>:</p>\n\n<p>Input:</p>\n\n<pre><code>a:\n aa:\n  - aaa\n ab:\n  - aba\n  - abb\n ac:\n  - aca\n</code></pre>\n\n<p>Output:</p>\n\n<pre><code>aba abb\n</code></pre>\n\n<p>I've tryied s.th. like</p>\n\n<pre><code>#!/usr/bin/perl -00 -wnl\n\n/a:ab:[ \\t]*\\n([ \\t]+-[ \\t]+(\\w+)[ \\t]*\\n)/sg and printf \"$2\";\n</code></pre>\n\n<p>But this only gives <code>aba</code>.</p>\n"}, {"tags": ["perl", "unix", "sed", "grep"], "answers": [{"comments": [{"owner": {"reputation": 667, "user_id": 2720382, "user_type": "registered", "accept_rate": 92, "profile_image": "https://www.gravatar.com/avatar/2831debef5de556296f681625ed81052?s=128&d=identicon&r=PG&f=1", "display_name": "no1", "link": "https://stackoverflow.com/users/2720382/no1"}, "edited": false, "score": 0, "creation_date": 1464070507, "post_id": 37405658, "comment_id": 62318974, "body": "Unmatched ) in regex; marked by, I am getting this error!"}], "tags": [], "owner": {"reputation": 41196, "user_id": 887539, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/5baef9617bdee6db2f534c118bcbccee?s=128&d=identicon&r=PG", "display_name": "andlrc", "link": "https://stackoverflow.com/users/887539/andlrc"}, "is_accepted": false, "score": 3, "last_activity_date": 1464070218, "creation_date": 1464070218, "answer_id": 37405658, "question_id": 37405630, "link": "https://stackoverflow.com/questions/37405630/using-unix-commands-like-grep-and-sed-for-the-perl-array/37405658#37405658", "title": "using unix commands like grep and sed for the perl array", "body": "<p>Please <em>don't</em>, just use buildin Perl functions:</p>\n\n<pre><code>@modifiedfiles = map({\n  s/.*something//g;\n  s/#.*$//g;\n} grep({ \n  /DataFiles|Pfgas|Startups/\n} @files));\n</code></pre>\n"}, {"comments": [{"owner": {"reputation": 41196, "user_id": 887539, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/5baef9617bdee6db2f534c118bcbccee?s=128&d=identicon&r=PG", "display_name": "andlrc", "link": "https://stackoverflow.com/users/887539/andlrc"}, "edited": false, "score": 2, "creation_date": 1464070578, "post_id": 37405683, "comment_id": 62319006, "body": "This is a nice answer, with step by step recormendations and. links to documentation +1 :-)"}, {"owner": {"reputation": 51521, "user_id": 2566198, "user_type": "registered", "accept_rate": 67, "profile_image": "https://i.stack.imgur.com/Y34ZA.jpg?s=128&g=1", "display_name": "Sobrique", "link": "https://stackoverflow.com/users/2566198/sobrique"}, "edited": false, "score": 2, "creation_date": 1464075846, "post_id": 37405683, "comment_id": 62321891, "body": "Might be worth mentioning the inplace capability <code>s&#47;.*something&#47;&#47;g for @filteredfiles</code>"}], "tags": [], "owner": {"reputation": 2298, "user_id": 1147230, "user_type": "registered", "accept_rate": 80, "profile_image": "https://www.gravatar.com/avatar/fe33f45c5990a98cfcb1388581de07af?s=128&d=identicon&r=PG", "display_name": "Sebastian", "link": "https://stackoverflow.com/users/1147230/sebastian"}, "is_accepted": true, "score": 8, "last_activity_date": 1464070654, "last_edit_date": 1464070654, "creation_date": 1464070346, "answer_id": 37405683, "question_id": 37405630, "link": "https://stackoverflow.com/questions/37405630/using-unix-commands-like-grep-and-sed-for-the-perl-array/37405683#37405683", "title": "using unix commands like grep and sed for the perl array", "body": "<p>You don't - it makes no sense :)</p>\n\n<p>Perl has <code>grep</code> and <code>map</code> builtin:</p>\n\n<pre><code>my @filteredfiles = grep { /(DataFiles|Pfgas|Startups)/ } @files;\nmy @modifiedfiles = map { s/.*something//g; s/#.*$//g; $_ } @filteredfiles;\n</code></pre>\n\n<p>Also possible in one step:</p>\n\n<pre><code>my @modifiedfiles =\n    map { s/.*something//g; s/#.*$//g; $_ }\n    grep { /(DataFiles|Pfgas|Startups)/ } @files;\n</code></pre>\n\n<p>But Perls <code>grep</code> and <code>map</code> behave differently from the command line <code>grep</code> and <code>map</code>. See the documentation for details:</p>\n\n<ul>\n<li><a href=\"http://perldoc.perl.org/functions/grep.html\">http://perldoc.perl.org/functions/grep.html</a></li>\n<li><a href=\"http://perldoc.perl.org/functions/map.html\">http://perldoc.perl.org/functions/map.html</a></li>\n</ul>\n\n<p>If you really want to do it anyway, it's possible with something like:</p>\n\n<pre><code>use IPC::Open2;\n\n$pid = open2(\\*CHLD_OUT, \\*CHLD_IN,\n    \"grep  -E '(DataFiles|Pfgas|Startups)' | sed -e 's/.*something//g; s/#.*$//g;\"\n);\n\nfor my $file (@files) {\n    print CHLD_OUT $file.\"\\n\";\n    my $result_fn = &lt;CHLD_IN&gt;;\n    chomp $result_fn;\n    push @modifiedfiles, $result_fn;\n}\n</code></pre>\n\n<p>No, you don't want to this :) It has lots of drawbacks and a high risk of failing. I assume the script will even start to block if <code>grep</code> filtered out a file.</p>\n"}], "owner": {"reputation": 667, "user_id": 2720382, "user_type": "registered", "accept_rate": 92, "profile_image": "https://www.gravatar.com/avatar/2831debef5de556296f681625ed81052?s=128&d=identicon&r=PG&f=1", "display_name": "no1", "link": "https://stackoverflow.com/users/2720382/no1"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 527, "favorite_count": 0, "accepted_answer_id": 37405683, "answer_count": 2, "score": 3, "last_activity_date": 1464070654, "creation_date": 1464070125, "question_id": 37405630, "link": "https://stackoverflow.com/questions/37405630/using-unix-commands-like-grep-and-sed-for-the-perl-array", "title": "using unix commands like grep and sed for the perl array", "body": "<p>How do I grep for certain patterns in a perl array and use sed command and save output as another array,like below one</p>\n\n<pre><code>my @modifiedfiles=`echo @files | grep  -E '(DataFiles|Pfgas|Startups)' | sed -e 's/.*something//g; s/#.*$//g;'` \n</code></pre>\n"}, {"tags": ["perl", "http", "header", "cgi", "basic-authentication"], "comments": [{"owner": {"reputation": 2298, "user_id": 1147230, "user_type": "registered", "accept_rate": 80, "profile_image": "https://www.gravatar.com/avatar/fe33f45c5990a98cfcb1388581de07af?s=128&d=identicon&r=PG", "display_name": "Sebastian", "link": "https://stackoverflow.com/users/1147230/sebastian"}, "edited": false, "score": 0, "creation_date": 1464069151, "post_id": 37405293, "comment_id": 62318360, "body": "Your code looks good. Did you try to output the values of each step inbetween (<code>$signin, $basic, $userpass, $user, $pass</code>) to see if everything is as you thought it would be?"}, {"owner": {"reputation": 319, "user_id": 5524404, "user_type": "registered", "accept_rate": 67, "profile_image": "https://i.stack.imgur.com/sRuy8.jpg?s=128&g=1", "display_name": "farzane", "link": "https://stackoverflow.com/users/5524404/farzane"}, "reply_to_user": {"reputation": 2298, "user_id": 1147230, "user_type": "registered", "accept_rate": 80, "profile_image": "https://www.gravatar.com/avatar/fe33f45c5990a98cfcb1388581de07af?s=128&d=identicon&r=PG", "display_name": "Sebastian", "link": "https://stackoverflow.com/users/1147230/sebastian"}, "edited": false, "score": 0, "creation_date": 1464069415, "post_id": 37405293, "comment_id": 62318472, "body": "@Sebastian yes i print them and all of them are correct.you know my code works fine.but after i click on ok button then cancel button!i want it to work after i click on ok button."}], "answers": [{"comments": [{"owner": {"reputation": 319, "user_id": 5524404, "user_type": "registered", "accept_rate": 67, "profile_image": "https://i.stack.imgur.com/sRuy8.jpg?s=128&g=1", "display_name": "farzane", "link": "https://stackoverflow.com/users/5524404/farzane"}, "edited": false, "score": 0, "creation_date": 1464070557, "post_id": 37405583, "comment_id": 62318997, "body": "this answer help me a little but my problem didnt solve.when i click on OK the original request re-send with Authorization header and browser shows dialog again,against check username and password to send a response header.when i click on cancel,response header recieved!!i dont want to show dialog again."}, {"owner": {"reputation": 2298, "user_id": 1147230, "user_type": "registered", "accept_rate": 80, "profile_image": "https://www.gravatar.com/avatar/fe33f45c5990a98cfcb1388581de07af?s=128&d=identicon&r=PG", "display_name": "Sebastian", "link": "https://stackoverflow.com/users/1147230/sebastian"}, "reply_to_user": {"reputation": 319, "user_id": 5524404, "user_type": "registered", "accept_rate": 67, "profile_image": "https://i.stack.imgur.com/sRuy8.jpg?s=128&g=1", "display_name": "farzane", "link": "https://stackoverflow.com/users/5524404/farzane"}, "edited": false, "score": 0, "creation_date": 1464070743, "post_id": 37405583, "comment_id": 62319083, "body": "Do you always send a 401 response code? You must not send it if the authorization succeeded, use a 200 in this case."}, {"owner": {"reputation": 319, "user_id": 5524404, "user_type": "registered", "accept_rate": 67, "profile_image": "https://i.stack.imgur.com/sRuy8.jpg?s=128&g=1", "display_name": "farzane", "link": "https://stackoverflow.com/users/5524404/farzane"}, "edited": false, "score": 0, "creation_date": 1464070954, "post_id": 37405583, "comment_id": 62319190, "body": "i thought this is problem.when should i send 200 OK response header?can you show me a code?thanks"}, {"owner": {"reputation": 2298, "user_id": 1147230, "user_type": "registered", "accept_rate": 80, "profile_image": "https://www.gravatar.com/avatar/fe33f45c5990a98cfcb1388581de07af?s=128&d=identicon&r=PG", "display_name": "Sebastian", "link": "https://stackoverflow.com/users/1147230/sebastian"}, "reply_to_user": {"reputation": 319, "user_id": 5524404, "user_type": "registered", "accept_rate": 67, "profile_image": "https://i.stack.imgur.com/sRuy8.jpg?s=128&g=1", "display_name": "farzane", "link": "https://stackoverflow.com/users/5524404/farzane"}, "edited": false, "score": 0, "creation_date": 1464071235, "post_id": 37405583, "comment_id": 62319342, "body": "Move your whole <code>print</code> block below the auth check and remove that <code>-status =&gt; &#39;401 Not Authorized&#39;</code> in case auth was ok."}, {"owner": {"reputation": 319, "user_id": 5524404, "user_type": "registered", "accept_rate": 67, "profile_image": "https://i.stack.imgur.com/sRuy8.jpg?s=128&g=1", "display_name": "farzane", "link": "https://stackoverflow.com/users/5524404/farzane"}, "edited": false, "score": 0, "creation_date": 1464071547, "post_id": 37405583, "comment_id": 62319505, "body": "move <code>print header(-type =&gt; &#39;text&#47;html&#39;,&#39;WWW-Authenticate&#39; =&gt; &#39;Basic realm=&quot;Videos&quot;&#39;);</code> to if block??i did this but dialog shows again :(("}], "tags": [], "owner": {"reputation": 2298, "user_id": 1147230, "user_type": "registered", "accept_rate": 80, "profile_image": "https://www.gravatar.com/avatar/fe33f45c5990a98cfcb1388581de07af?s=128&d=identicon&r=PG", "display_name": "Sebastian", "link": "https://stackoverflow.com/users/1147230/sebastian"}, "is_accepted": true, "score": 1, "last_activity_date": 1464069953, "creation_date": 1464069953, "answer_id": 37405583, "question_id": 37405293, "link": "https://stackoverflow.com/questions/37405293/how-get-response-http-header/37405583#37405583", "title": "how get response http header?", "body": "<p>HTTP Basic Auth works in two steps:</p>\n\n<p>First step:</p>\n\n<ul>\n<li>Browser sends a request</li>\n<li>Server replies with a full HTTP Response (header, body) with HTTP status code 401</li>\n<li>Browser shows a (browser-specific) dialog to ask for username and password</li>\n<li>\"OK\" on that dialog typicalls starts step 2</li>\n<li>\"Cancel\" on that dialog typically shows the response body received earlier - but that depends on the browser implementation. Don't rely on it!</li>\n</ul>\n\n<p>Second step:</p>\n\n<ul>\n<li>Browser re-sends the original request again, but adds an <code>Authorization</code> header</li>\n<li>Server checks username and password and sends a full response (header, body) with either HTTP status code 200 (OK) or 401 (in this case: \"username or password wrong, try again\")</li>\n<li>For code 401: See browser behavior for step 1</li>\n<li>For code 200: Show the website as usual</li>\n<li>Any other code is also valid: A 302 to redirect the user, a 500 to show an error, etc.</li>\n</ul>\n\n<p>Hope that answers your question. If not, I didn't understand your problem.</p>\n"}], "owner": {"reputation": 319, "user_id": 5524404, "user_type": "registered", "accept_rate": 67, "profile_image": "https://i.stack.imgur.com/sRuy8.jpg?s=128&g=1", "display_name": "farzane", "link": "https://stackoverflow.com/users/5524404/farzane"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 670, "favorite_count": 0, "accepted_answer_id": 37405583, "answer_count": 1, "score": 1, "last_activity_date": 1465649220, "creation_date": 1464068756, "last_edit_date": 1465649220, "question_id": 37405293, "link": "https://stackoverflow.com/questions/37405293/how-get-response-http-header", "title": "how get response http header?", "body": "<p>my last question was about how to implement basic authentication in perl and i got my answer.\nafter that i tried to write my code.i used  <code>-status =&gt; '401 Not Authorized'</code> in my http header and when i try to open my programm it wants me to enter user and password.in my code i got peice of header with ENV variable that include this username and password and check if it was what i want.my problem is that when i enter user and password in authentication box like below <a href=\"https://i.stack.imgur.com/8xkQr.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/8xkQr.png\" alt=\"basic authentication\"></a></p>\n\n<p>i should click on cancel button to get response header!!so what is ok button here?\nits my verification code</p>\n\n<pre><code>print header(-type =&gt; 'text/html', -status =&gt; '401 Not Authorized',\n         'WWW-Authenticate' =&gt; 'Basic realm=\"Videos\"');\n\nprint \"&lt;HTML&gt;\";\nprint \"&lt;HEAD&gt;\";\n\nprint \"&lt;TITLE&gt;this is Test-Case&lt;/TITLE&gt;\";\nprint \"&lt;/HEAD&gt;\";\n\nmy $signin = $ENV{HTTP_AUTHORIZATION};\nmy($basic,$userpass) = split( ' ', $signin );\n($userpass,$eq) = split( '=',$userpass );\n$userpass = decode_base64($userpass);\nmy ($user,$pass) =  split( ':',$userpass );\nmy $query = new CGI;\nif($user eq 'aa' and $pass eq 'aa'){\nshow something\n}\nelse{\n     print \"wrong user or pass\";\n}\n</code></pre>\n\n<p>i tried to use <code>CGI::Auth::Basic</code> before but it doesnt work for me and show error in module.</p>\n\n<p>Thanks for your answers.</p>\n\n<blockquote>\n  <p>i solved my problem after a while so i decided to tell the answer for who have this problem too.\n  you should firs check if $ENV{HTTP_AUTHORIZATION} is defined or not.if its defined you should check the user pass and if its true you print \"Content-Type: text/HTML\", \"\\n\\n\" that means 200ok!and if the ENV not defined you should print print header(-type => 'text/html', -status => '401 Not Authorized','WWW-Authenticate' => 'Basic realm=\"Videos\"') to show the authentication box.</p>\n</blockquote>\n\n<pre><code>    $signin = $ENV{HTTP_AUTHORIZATION};\n    if(defined $signin){\n       check user and password here\n       if(true user and password){\n          print \"Content-Type: text/HTML\", \"\\n\\n\";\n          do your all works here\n       }\n       else{\n          wrong password\n       }\n    }\n    else{\n         print header(-type =&gt; 'text/html', -status =&gt; '401 Not   Authorized','WWW-Authenticate' =&gt; 'Basic realm=\"Videos\"');\n    }\n</code></pre>\n"}, {"tags": ["windows", "ubuntu", "scripting", "perl"], "comments": [{"owner": {"reputation": 110113, "user_id": 168657, "user_type": "registered", "accept_rate": 92, "profile_image": "https://www.gravatar.com/avatar/f14e7610fca39322ebbf23530def15f8?s=128&d=identicon&r=PG", "display_name": "mob", "link": "https://stackoverflow.com/users/168657/mob"}, "edited": false, "score": 1, "creation_date": 1464059561, "post_id": 37403143, "comment_id": 62315679, "body": "As long as you&#39;re calling <code>stat</code>, retrieve the file size with <code>(stat($file))[7]</code>,"}, {"owner": {"reputation": 59, "user_id": 3251311, "user_type": "registered", "accept_rate": 75, "profile_image": "https://www.gravatar.com/avatar/9ba00bdc131ea07fb8f1b3708edae9c4?s=128&d=identicon&r=PG&f=1", "display_name": "A-Kay", "link": "https://stackoverflow.com/users/3251311/a-kay"}, "reply_to_user": {"reputation": 110113, "user_id": 168657, "user_type": "registered", "accept_rate": 92, "profile_image": "https://www.gravatar.com/avatar/f14e7610fca39322ebbf23530def15f8?s=128&d=identicon&r=PG", "display_name": "mob", "link": "https://stackoverflow.com/users/168657/mob"}, "edited": false, "score": 1, "creation_date": 1464061546, "post_id": 37403143, "comment_id": 62316146, "body": "@mob can you tell me the difference between using stat and -s ? Thanks"}, {"owner": {"reputation": 21782, "user_id": 176646, "user_type": "registered", "accept_rate": 88, "profile_image": "https://i.stack.imgur.com/HsQyV.png?s=128&g=1", "display_name": "ThisSuitIsBlackNot", "link": "https://stackoverflow.com/users/176646/thissuitisblacknot"}, "edited": false, "score": 0, "creation_date": 1464100309, "post_id": 37403143, "comment_id": 62339084, "body": "@A-Kay The file test operators like <code>-s</code> actually make a <code>stat</code> system call behind the scenes, so if you call <code>-s</code> followed by <code>stat</code>, you&#39;re making two system calls when only one is necessary."}, {"owner": {"reputation": 21782, "user_id": 176646, "user_type": "registered", "accept_rate": 88, "profile_image": "https://i.stack.imgur.com/HsQyV.png?s=128&g=1", "display_name": "ThisSuitIsBlackNot", "link": "https://stackoverflow.com/users/176646/thissuitisblacknot"}, "edited": false, "score": 0, "creation_date": 1464100488, "post_id": 37403143, "comment_id": 62339201, "body": "<a href=\"http://perldoc.perl.org/perlport.html#stat\" rel=\"nofollow noreferrer\">perlport</a> says the following about <code>stat</code>: &quot;On Win32 <code>stat()</code> needs to open the file to determine the link count and update attributes that may have been changed through hard links. Setting <code>${^WIN32_SLOPPY_STAT}</code> to a true value speeds up <code>stat()</code> by not performing this operation.&quot; Try that, plus mob&#39;s suggestion, and see if it speeds things up. I imagine opening files on the Samba share is time consuming."}, {"owner": {"reputation": 59, "user_id": 3251311, "user_type": "registered", "accept_rate": 75, "profile_image": "https://www.gravatar.com/avatar/9ba00bdc131ea07fb8f1b3708edae9c4?s=128&d=identicon&r=PG&f=1", "display_name": "A-Kay", "link": "https://stackoverflow.com/users/3251311/a-kay"}, "reply_to_user": {"reputation": 21782, "user_id": 176646, "user_type": "registered", "accept_rate": 88, "profile_image": "https://i.stack.imgur.com/HsQyV.png?s=128&g=1", "display_name": "ThisSuitIsBlackNot", "link": "https://stackoverflow.com/users/176646/thissuitisblacknot"}, "edited": false, "score": 0, "creation_date": 1464266652, "post_id": 37403143, "comment_id": 62421346, "body": "@ThisSuitIsBlackNot thanks for that - using WIN32_SLOPPY_STAT really sped things up for me. Thanks mob"}, {"owner": {"reputation": 21782, "user_id": 176646, "user_type": "registered", "accept_rate": 88, "profile_image": "https://i.stack.imgur.com/HsQyV.png?s=128&g=1", "display_name": "ThisSuitIsBlackNot", "link": "https://stackoverflow.com/users/176646/thissuitisblacknot"}, "edited": false, "score": 0, "creation_date": 1464283875, "post_id": 37403143, "comment_id": 62433590, "body": "@A-Kay Great! I&#39;ve moved my comment to an answer in case somebody has the same issue in the future."}], "answers": [{"comments": [{"owner": {"reputation": 59, "user_id": 3251311, "user_type": "registered", "accept_rate": 75, "profile_image": "https://www.gravatar.com/avatar/9ba00bdc131ea07fb8f1b3708edae9c4?s=128&d=identicon&r=PG&f=1", "display_name": "A-Kay", "link": "https://stackoverflow.com/users/3251311/a-kay"}, "edited": false, "score": 0, "creation_date": 1464077420, "post_id": 37404868, "comment_id": 62322737, "body": "Thanks @Glenn. The main problem here is that dir does not give me seconds so I cannot compare it to the current epoch that I&#39;m already getting from the stat. I found a workaround that gives me seconds by using: <code>forfiles &#47;c &quot;cmd &#47;c echo @file @ftime&quot;</code> however this does not work on UNC paths (which mine are). Is using dir going to be my only way forward? I&#39;m seeing about a 20x speed decrease using my current method over dir"}, {"owner": {"reputation": 1119, "user_id": 145511, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/b5a99c5026c0ac0c48f3e89d91f9b1ff?s=128&d=identicon&r=PG", "display_name": "Glenn", "link": "https://stackoverflow.com/users/145511/glenn"}, "reply_to_user": {"reputation": 59, "user_id": 3251311, "user_type": "registered", "accept_rate": 75, "profile_image": "https://www.gravatar.com/avatar/9ba00bdc131ea07fb8f1b3708edae9c4?s=128&d=identicon&r=PG&f=1", "display_name": "A-Kay", "link": "https://stackoverflow.com/users/3251311/a-kay"}, "edited": false, "score": 0, "creation_date": 1464097945, "post_id": 37404868, "comment_id": 62337366, "body": "Your very welcome @A-Kay.  If you need to use UNC paths, I would look up the net command  where you would use net subcommand to mount a UNC path as a drive.  This might be helpful for what you are trying to achieve.  If you need the speed of dir, is is possible that just using minutes for comparisons would be enough granularity for your efforts?"}, {"owner": {"reputation": 518, "user_id": 3617046, "user_type": "registered", "accept_rate": 69, "profile_image": "https://www.gravatar.com/avatar/afad7c3481df3dcbbcd2b4366782e056?s=128&d=identicon&r=PG&f=1", "display_name": "Bulrush", "link": "https://stackoverflow.com/users/3617046/bulrush"}, "edited": false, "score": 0, "creation_date": 1464185387, "post_id": 37404868, "comment_id": 62381826, "body": "@Glenn: Wouldn&#39;t this also work to get the files one file per line? <code>@filelist=`ls -1` </code>  I simply find it easier to loop through an array especially when I have to use the debugger to see what&#39;s in the array."}, {"owner": {"reputation": 1119, "user_id": 145511, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/b5a99c5026c0ac0c48f3e89d91f9b1ff?s=128&d=identicon&r=PG", "display_name": "Glenn", "link": "https://stackoverflow.com/users/145511/glenn"}, "reply_to_user": {"reputation": 518, "user_id": 3617046, "user_type": "registered", "accept_rate": 69, "profile_image": "https://www.gravatar.com/avatar/afad7c3481df3dcbbcd2b4366782e056?s=128&d=identicon&r=PG&f=1", "display_name": "Bulrush", "link": "https://stackoverflow.com/users/3617046/bulrush"}, "edited": false, "score": 1, "creation_date": 1464236583, "post_id": 37404868, "comment_id": 62404237, "body": "@Bulrush: That would work if the number of files was not large and if the command was @filelist = <code>dir &#47;4 &#47;t:w &#47;-c $path</code> as it is a windows machine.  There would be additional parsing for each line.  It might be a bit faster as you are correct that you would not have to read from a file."}, {"owner": {"reputation": 518, "user_id": 3617046, "user_type": "registered", "accept_rate": 69, "profile_image": "https://www.gravatar.com/avatar/afad7c3481df3dcbbcd2b4366782e056?s=128&d=identicon&r=PG&f=1", "display_name": "Bulrush", "link": "https://stackoverflow.com/users/3617046/bulrush"}, "edited": false, "score": 1, "creation_date": 1464260898, "post_id": 37404868, "comment_id": 62417326, "body": "Thanks for teaching me instead of flaming me. So opendir() works on all operating systems and is the preferred method? Since I only work on Linux that&#39;s why I used the format I did."}, {"owner": {"reputation": 59, "user_id": 3251311, "user_type": "registered", "accept_rate": 75, "profile_image": "https://www.gravatar.com/avatar/9ba00bdc131ea07fb8f1b3708edae9c4?s=128&d=identicon&r=PG&f=1", "display_name": "A-Kay", "link": "https://stackoverflow.com/users/3251311/a-kay"}, "edited": false, "score": 0, "creation_date": 1464266982, "post_id": 37404868, "comment_id": 62421570, "body": "@Glenn I&#39;d rather not map a drive. I&#39;m actually only calling -s and stat[9] some of the time - I actually thought that calling [9] specifically would be faster than performing a stat on the file and pulling out what I need - is that the case? Usually I only do one at a time so it probably won&#39;t save a lot but on the ones that do overlap this will save me - which is handy as I&#39;m dealing with millions of files. so thanks!"}], "tags": [], "owner": {"reputation": 1119, "user_id": 145511, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/b5a99c5026c0ac0c48f3e89d91f9b1ff?s=128&d=identicon&r=PG", "display_name": "Glenn", "link": "https://stackoverflow.com/users/145511/glenn"}, "is_accepted": false, "score": 0, "last_activity_date": 1464066854, "creation_date": 1464066854, "answer_id": 37404868, "question_id": 37403143, "link": "https://stackoverflow.com/questions/37403143/why-is-running-opendir-readdir-stat-so-slow-compared-to-the-windows-dir-comman/37404868#37404868", "title": "Why is running opendir, readdir, stat so slow compared to the Windows dir command?", "body": "<p>Dir will be much faster as it is binary code that I suspect is very optimized, so so it can retrieve and format the information quickly.</p>\n\n<p>In your script it seems you are doing several calls which have to be interpreted, one for the time and another for the size.  Even if the lower calls  in Perl are binary code, to get the information it probably has to go through several layers.  You could reduce the number of calls by @mob suggestion by saving the returned values of stat and accessing the parts you need.  For example:</p>\n\n<pre><code>@items = stat($file);\n$size = $items[7];\n$modified = $items[9];\n</code></pre>\n\n<p>which would save one of the calls and possibly speed up the script. </p>\n\n<p>If you want all of the files, you might consider doing a system call to do a directory command and redirect the output to a file, after which you can parse the file to get the information of times and size.  This may be a bit faster depending on the amount of files.  ( /4 will be a 4 digit year, /t:w will be when it was last written/modified and /c will get rid of the commas in the size)</p>\n\n<pre><code>system(\"dir /4 /t:w /-c $path &gt; tempList.txt\");\n</code></pre>\n\n<p>Then open and parse redirected file for the information you desire.</p>\n\n<pre><code>open my $in,\"tempList.txt\" die \"Unable to open file tempList.txt\";\nmy @lines = &lt;$in&gt;;\nclose($in);\nchomp(@lines);\n\nforeach ( @lines ) \n{\n  next if ( ! ( m/^\\d{4}\\/\\d{2}\\/\\d{2}\\s+ ); # Not a line with a file\n  @parts = split('\\s+');\n  # Get the parts you need (time and size, where you may have to some other\n  # work to get it in the desired format\n  #.....\n}\n</code></pre>\n\n<p>It may be possible to add regex to do matching and pull out items as you need them when testing if you want to process the line.  That might save some time and effort as well. </p>\n"}, {"comments": [{"owner": {"reputation": 5334, "user_id": 5830574, "user_type": "registered", "accept_rate": 93, "profile_image": "https://i.stack.imgur.com/kCmqs.png?s=128&g=1", "display_name": "PerlDuck", "link": "https://stackoverflow.com/users/5830574/perlduck"}, "edited": false, "score": 0, "creation_date": 1464284145, "post_id": 37467500, "comment_id": 62433735, "body": "What about <code>-s $file</code> followed by <code>-M _</code>? According to the <a href=\"http://perldoc.perl.org/functions/-X.html\" rel=\"nofollow noreferrer\">docs</a> the <code>-M _</code> won&#39;t do a 2nd <code>stat()</code> but use the last <code>stat</code>&#39;s results, i.e. only <i>one</i> call to <code>stat</code> too."}, {"owner": {"reputation": 21782, "user_id": 176646, "user_type": "registered", "accept_rate": 88, "profile_image": "https://i.stack.imgur.com/HsQyV.png?s=128&g=1", "display_name": "ThisSuitIsBlackNot", "link": "https://stackoverflow.com/users/176646/thissuitisblacknot"}, "reply_to_user": {"reputation": 5334, "user_id": 5830574, "user_type": "registered", "accept_rate": 93, "profile_image": "https://i.stack.imgur.com/kCmqs.png?s=128&g=1", "display_name": "PerlDuck", "link": "https://stackoverflow.com/users/5830574/perlduck"}, "edited": false, "score": 1, "creation_date": 1464284503, "post_id": 37467500, "comment_id": 62433943, "body": "@PerlDog That only makes one <code>stat</code> call, but would give a different result. <code>-M</code> returns the script start time <i>minus</i> file mtime, in days; <code>stat</code> returns the mtime in epoch seconds."}, {"owner": {"reputation": 5334, "user_id": 5830574, "user_type": "registered", "accept_rate": 93, "profile_image": "https://i.stack.imgur.com/kCmqs.png?s=128&g=1", "display_name": "PerlDuck", "link": "https://stackoverflow.com/users/5830574/perlduck"}, "edited": false, "score": 0, "creation_date": 1464284549, "post_id": 37467500, "comment_id": 62433970, "body": "True, but adding <code>$^T</code> would not harm."}, {"owner": {"reputation": 21782, "user_id": 176646, "user_type": "registered", "accept_rate": 88, "profile_image": "https://i.stack.imgur.com/HsQyV.png?s=128&g=1", "display_name": "ThisSuitIsBlackNot", "link": "https://stackoverflow.com/users/176646/thissuitisblacknot"}, "reply_to_user": {"reputation": 5334, "user_id": 5830574, "user_type": "registered", "accept_rate": 93, "profile_image": "https://i.stack.imgur.com/kCmqs.png?s=128&g=1", "display_name": "PerlDuck", "link": "https://stackoverflow.com/users/5830574/perlduck"}, "edited": false, "score": 0, "creation_date": 1464284880, "post_id": 37467500, "comment_id": 62434156, "body": "@PerlDog Sure, you could add a bunch of logic to convert the result of <code>-M</code> from days to seconds and subtract that from <code>$^T</code>, but why would you rather do that than a single <code>stat</code>???"}, {"owner": {"reputation": 5334, "user_id": 5830574, "user_type": "registered", "accept_rate": 93, "profile_image": "https://i.stack.imgur.com/kCmqs.png?s=128&g=1", "display_name": "PerlDuck", "link": "https://stackoverflow.com/users/5830574/perlduck"}, "edited": false, "score": 0, "creation_date": 1464285053, "post_id": 37467500, "comment_id": 62434236, "body": "LOL, ok, you won. :-) Just wanted to tell that using the <code>_</code> as a filehandle/name avoids add&#39;l calls to <code>stat</code>."}], "tags": [], "owner": {"reputation": 21782, "user_id": 176646, "user_type": "registered", "accept_rate": 88, "profile_image": "https://i.stack.imgur.com/HsQyV.png?s=128&g=1", "display_name": "ThisSuitIsBlackNot", "link": "https://stackoverflow.com/users/176646/thissuitisblacknot"}, "is_accepted": true, "score": 3, "last_activity_date": 1464283780, "creation_date": 1464283780, "answer_id": 37467500, "question_id": 37403143, "link": "https://stackoverflow.com/questions/37403143/why-is-running-opendir-readdir-stat-so-slow-compared-to-the-windows-dir-comman/37467500#37467500", "title": "Why is running opendir, readdir, stat so slow compared to the Windows dir command?", "body": "<p>According to <a href=\"http://perldoc.perl.org/perlport.html#stat\" rel=\"nofollow\">perlport</a>:</p>\n\n<blockquote>\n  <p>On Win32 <code>stat()</code> needs to open the file to determine the link count and update attributes that may have been changed through hard links. Setting <code>${^WIN32_SLOPPY_STAT}</code> to a true value speeds up <code>stat()</code> by not performing this operation.</p>\n</blockquote>\n\n<p>Since the files you're accessing are on a Samba share, opening them is probably fairly time consuming. Also, <code>-s</code> makes a <code>stat</code> system call behind the scenes, so calling <code>-s</code> followed by <code>stat</code> is wasteful.</p>\n\n<p>The following should be faster:</p>\n\n<pre><code>local ${^WIN32_SLOPPY_STAT} = 1;\n\nopendir my $dh, $path or die \"Failed to opendir '$path': $!\";\n\nwhile (my $file = readdir $dh) {\n    my ($size, $mtime) = (stat $file)[7, 9];\n\n    say join \"\\t\", $file, $size, $mtime;\n}\n</code></pre>\n"}], "migrated_from": {"other_site": {"markdown_extensions": ["Prettify"], "launch_date": 1243296000, "open_beta_date": 1241049600, "site_state": "normal", "high_resolution_icon_url": "https://cdn.sstatic.net/Sites/serverfault/Img/apple-touch-icon@2.png", "twitter_account": "ServerFault", "favicon_url": "https://cdn.sstatic.net/Sites/serverfault/Img/favicon.ico", "icon_url": "https://cdn.sstatic.net/Sites/serverfault/Img/apple-touch-icon.png", "audience": "system and network administrators", "site_url": "https://serverfault.com", "api_site_parameter": "serverfault", "logo_url": "https://cdn.sstatic.net/Sites/serverfault/Img/logo.png", "name": "Server Fault", "site_type": "main_site"}, "on_date": 1464054515, "question_id": 778592}, "owner": {"reputation": 59, "user_id": 3251311, "user_type": "registered", "accept_rate": 75, "profile_image": "https://www.gravatar.com/avatar/9ba00bdc131ea07fb8f1b3708edae9c4?s=128&d=identicon&r=PG&f=1", "display_name": "A-Kay", "link": "https://stackoverflow.com/users/3251311/a-kay"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 890, "favorite_count": 2, "accepted_answer_id": 37467500, "answer_count": 2, "score": 3, "last_activity_date": 1464288068, "creation_date": 1464050317, "last_edit_date": 1464288068, "question_id": 37403143, "link": "https://stackoverflow.com/questions/37403143/why-is-running-opendir-readdir-stat-so-slow-compared-to-the-windows-dir-comman", "title": "Why is running opendir, readdir, stat so slow compared to the Windows dir command?", "body": "<p>I have a Perl script that is using <code>opendir</code> to read the contents of a directory:</p>\n\n<pre><code>opendir ( DIR, $path ) or next;\n    while (my $file = readdir DIR) {\n</code></pre>\n\n<p>Then I'm doing:</p>\n\n<ul>\n<li><code>-s $file</code> to get the size of each file</li>\n<li><code>(stat($file))[9]</code> to get the modified time of each file</li>\n</ul>\n\n<p>I'm running this from a Windows machine and accessing a Samba share on Ubuntu 14.04.</p>\n\n<p>This is all working fine but the process seems to run very slow compared to when I run a <code>dir</code> listing on the same folder.</p>\n\n<p>Does anyone know why using <code>opendir</code> takes so much longer than a <code>dir</code> listing and if there's any way I can change my script to speed it up?</p>\n"}, {"tags": ["mysql", "perl", "hash", "hashtable"], "comments": [{"owner": {"reputation": 21782, "user_id": 176646, "user_type": "registered", "accept_rate": 88, "profile_image": "https://i.stack.imgur.com/HsQyV.png?s=128&g=1", "display_name": "ThisSuitIsBlackNot", "link": "https://stackoverflow.com/users/176646/thissuitisblacknot"}, "edited": false, "score": 3, "creation_date": 1464035323, "post_id": 37399800, "comment_id": 62308504, "body": "FYI, the output of Data::Dumper is much easier to read if you pass it a reference: <code>print Dumper \\%hash;</code> instead of <code>print Dumper %hash;</code>"}], "answers": [{"comments": [{"owner": {"reputation": 80882, "user_id": 18157, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/4d3de78b198076dd5a5006abd17cb0f8?s=128&d=identicon&r=PG&f=1", "display_name": "Jim Garrison", "link": "https://stackoverflow.com/users/18157/jim-garrison"}, "edited": false, "score": 0, "creation_date": 1464035150, "post_id": 37399905, "comment_id": 62308401, "body": "<code>@keys</code> and <code>@values</code> seem to contain the same thing?"}, {"owner": {"reputation": 23906, "user_id": 459233, "user_type": "registered", "accept_rate": 87, "profile_image": "https://www.gravatar.com/avatar/23bfb69cb2c8a6a028d2376b12db4a73?s=128&d=identicon&r=PG", "display_name": "Tudor Constantin", "link": "https://stackoverflow.com/users/459233/tudor-constantin"}, "reply_to_user": {"reputation": 80882, "user_id": 18157, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/4d3de78b198076dd5a5006abd17cb0f8?s=128&d=identicon&r=PG&f=1", "display_name": "Jim Garrison", "link": "https://stackoverflow.com/users/18157/jim-garrison"}, "edited": false, "score": 0, "creation_date": 1464035189, "post_id": 37399905, "comment_id": 62308427, "body": "true - there are more errors - I try to correct as many as possible now"}, {"owner": {"reputation": 170445, "user_id": 149341, "user_type": "registered", "accept_rate": 50, "profile_image": "https://i.stack.imgur.com/omfTQ.png?s=128&g=1", "display_name": "duskwuff -inactive-", "link": "https://stackoverflow.com/users/149341/duskwuff-inactive"}, "reply_to_user": {"reputation": 80882, "user_id": 18157, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/4d3de78b198076dd5a5006abd17cb0f8?s=128&d=identicon&r=PG&f=1", "display_name": "Jim Garrison", "link": "https://stackoverflow.com/users/18157/jim-garrison"}, "edited": false, "score": 1, "creation_date": 1464035204, "post_id": 37399905, "comment_id": 62308431, "body": "@JimGarrison I&#39;m 99% certain @keys was supposed to be created using <code>keys</code>, not <code>values</code>."}, {"owner": {"reputation": 907, "user_id": 6146688, "user_type": "registered", "accept_rate": 80, "profile_image": "https://www.gravatar.com/avatar/8f262dda91bdff7ff11cf7762124764d?s=128&d=identicon&r=PG", "display_name": "Paul L", "link": "https://stackoverflow.com/users/6146688/paul-l"}, "edited": false, "score": 1, "creation_date": 1464037220, "post_id": 37399905, "comment_id": 62309507, "body": "you already have the values in <code>@values</code>.  Why are you bothering to go back to the hash to get them again for the <code>execute()</code> call?  While the ordering of a hash is (semi-)random, the order <a href=\"http://perldoc.perl.org/functions/values.html\" rel=\"nofollow noreferrer\">is guaranteed to be consistent between <code>keys()</code> and <code>values()</code></a>"}, {"owner": {"reputation": 123805, "user_id": 622310, "user_type": "registered", "accept_rate": 33, "profile_image": "https://www.gravatar.com/avatar/8b6d35219e1808520bc238b28161e2e6?s=128&d=identicon&r=PG", "display_name": "Borodin", "link": "https://stackoverflow.com/users/622310/borodin"}, "edited": false, "score": 0, "creation_date": 1464052154, "post_id": 37399905, "comment_id": 62313963, "body": "This solution doesn&#39;t save the original keys of <code>%Final</code>, which are presumably essential to the data. It&#39;s also very wasteful to repeatedly <code>prepare</code> the same SQL statement, and the SQL statement has no commas between the column names"}, {"owner": {"reputation": 23906, "user_id": 459233, "user_type": "registered", "accept_rate": 87, "profile_image": "https://www.gravatar.com/avatar/23bfb69cb2c8a6a028d2376b12db4a73?s=128&d=identicon&r=PG", "display_name": "Tudor Constantin", "link": "https://stackoverflow.com/users/459233/tudor-constantin"}, "reply_to_user": {"reputation": 123805, "user_id": 622310, "user_type": "registered", "accept_rate": 33, "profile_image": "https://www.gravatar.com/avatar/8b6d35219e1808520bc238b28161e2e6?s=128&d=identicon&r=PG", "display_name": "Borodin", "link": "https://stackoverflow.com/users/622310/borodin"}, "edited": false, "score": 0, "creation_date": 1464064704, "post_id": 37399905, "comment_id": 62316921, "body": "@Borodin, while you were right regarding the lack of comma for <code>@keys</code> in the insert (which I corrected), try and come up with a solution to also insert the original keys of the %Final hash within the given specifications"}, {"owner": {"reputation": 588, "user_id": 1940533, "user_type": "registered", "accept_rate": 33, "profile_image": "https://www.gravatar.com/avatar/9c3fa75cb5aad69bda8770fa335f99d6?s=128&d=identicon&r=PG", "display_name": "Muzammil", "link": "https://stackoverflow.com/users/1940533/muzammil"}, "edited": false, "score": 0, "creation_date": 1464818759, "post_id": 37399905, "comment_id": 62645983, "body": "Though there is no error .. but I also dont see any thing being added to my table... that is pretty weird .. am i missing something ?        54:                 my $sth=$dbh-&gt;prepare(&quot;INSERT INTO $tableName(&quot; . join(&#39;, &#39;,@keys) . &quot;) VALUES ($field_placeholders)&quot;);   DB&lt;2&gt; p &quot;INSERT INTO $tableName(&quot; . join(&#39;, &#39;,@keys) . &quot;) VALUES ($field_placeholders)&quot; INSERT INTO VMtoComputeReport(virtual_network, vrouter, gateway, ip_address, PrimaryKey) VALUES (?, ?, ?, ?, ?)    DB&lt;5&gt; $test = $sth-&gt;execute(@{$real_hashref_to_insert}{@keys})    DB&lt;6&gt; p $test 1"}], "tags": [], "owner": {"reputation": 23906, "user_id": 459233, "user_type": "registered", "accept_rate": 87, "profile_image": "https://www.gravatar.com/avatar/23bfb69cb2c8a6a028d2376b12db4a73?s=128&d=identicon&r=PG", "display_name": "Tudor Constantin", "link": "https://stackoverflow.com/users/459233/tudor-constantin"}, "is_accepted": false, "score": -1, "last_activity_date": 1464064550, "last_edit_date": 1464064550, "creation_date": 1464035074, "answer_id": 37399905, "question_id": 37399800, "link": "https://stackoverflow.com/questions/37399800/perl-inserting-a-2d-hash-into-mysql-db/37399905#37399905", "title": "Perl, Inserting a 2D hash into mySQL db", "body": "<p>try with something like:</p>\n\n<pre><code>foreach my $real_hashref_to_insert ( values %Final ){\n    my @keys = keys %$real_hashref_to_insert;\n    my @values = values %$real_hashref_to_insert;\n    my $field_placeholders = join \", \", map {'?'} @keys;\n    my $sth=$dbh-&gt;prepare(\"INSERT INTO `$table`(\".join ',' @keys.\") VALUES ($field_placeholders)\");\n    $sth-&gt;execute(@{$real_hashref_to_insert}{@keys}); #hash slice\n}\n</code></pre>\n\n<p>Which is heavily inspired from the <a href=\"http://www.perlmonks.org/?node_id=284436#inshash\" rel=\"nofollow\">DBI recipes post on Perl Monks</a>.</p>\n"}], "owner": {"reputation": 588, "user_id": 1940533, "user_type": "registered", "accept_rate": 33, "profile_image": "https://www.gravatar.com/avatar/9c3fa75cb5aad69bda8770fa335f99d6?s=128&d=identicon&r=PG", "display_name": "Muzammil", "link": "https://stackoverflow.com/users/1940533/muzammil"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 202, "favorite_count": 0, "answer_count": 1, "score": 0, "last_activity_date": 1464064550, "creation_date": 1464034729, "question_id": 37399800, "link": "https://stackoverflow.com/questions/37399800/perl-inserting-a-2d-hash-into-mysql-db", "title": "Perl, Inserting a 2D hash into mySQL db", "body": "<p>I have a 2D hash which I have to insert in a mySQL db .. Now the names of the columns in mysql table (report) are the same as </p>\n\n<pre><code>  'vm_uuid'  \n  'ip_addr'  \n  'name'\n  'config_name'\n  'PrimaryKey' \n  'ComputeNode'\n</code></pre>\n\n<p>Data dumper for the hash is:</p>\n\n<pre><code>p Dumper %Final\n$VAR1 = 'ZTestName1',\n$VAR2 = {          'vm_uuid' =&gt; '096a18bd-5955-465f-9bd4-d6bd038a4a56|',\n          'ip_addr' =&gt; '107.250.172.198|172.26.3.8|',\n          'name' =&gt; 'tap6f684e07-7a|tapa19310a9-7a|',\n          'config_name' =&gt; 'TestValue',\n          'PrimaryKey' =&gt; 'TestName',\n          'ComputeNode' =&gt; 'TestName',\n$VAR3 = 'DummyName1';\n$VAR4 = {          'PrimaryKey' =&gt; '',\n          'ComputeNode' =&gt; 'TestName',\n          'ip_addr' =&gt; '|',\n          'vm_uuid' =&gt; '|',\n          'name' =&gt; 'bond0.2004|vhost0|pkt0|',\n          'config_name' =&gt; '|'        };\n$VAR5 = 'DummyName2';\n$VAR6 = {          'name' =&gt; 'tap98655839-61|',\n          'config_name' =&gt; 'TestValue',\n          'ip_addr' =&gt; '107.250.162.244|',\n          'vm_uuid' =&gt; '903904a7-6b05-489c-9945-ee69cbf5c94f|',\n          'ComputeNode' =&gt; 'TestName',\n          'PrimaryKey' =&gt; 'MULTI-SITE: TESTING FOR MULTI-SITE FOR 1607'        };\n$VAR7 = 'ZTestName2',\n$VAR8 = {          'ComputeNode' =&gt; 'TestName',\n          'PrimaryKey' =&gt; 'ZTestName',\n          'config_name' =&gt; 'TestValue',\n          'name' =&gt; 'tap2000b14d-29|tap3ea0942c-66|tap479c2ab0-4e|tapc1c4f00b-de|',\n          'ip_addr' =&gt; '107.239.45.6|107.250.169.168|107.243.36.9|107.239.44.9|',\n          'vm_uuid' =&gt; 'ae7aa321-6e3a-4572-a783-ebfcf250ed98|'        };\n</code></pre>\n\n<p>The code I am trying is </p>\n\n<pre><code>my @keys = keys %Final; \nmy @values=values %Final; #value to be inserted - this doesnt work, as its hash ref in my opinion\nmy $sth=$dbh-&gt;prepare(\"INSERT INTO `$table`(@keys) VALUES (@values)\");\n</code></pre>\n\n<p>This code will get the keynames, and values (which would be a hash ref in itself) .. what would the good way to insert the data of 2D hash presented above into a mysql table?</p>\n"}, {"tags": ["perl", "model", "catalyst"], "comments": [{"owner": {"reputation": 2298, "user_id": 1147230, "user_type": "registered", "accept_rate": 80, "profile_image": "https://www.gravatar.com/avatar/fe33f45c5990a98cfcb1388581de07af?s=128&d=identicon&r=PG", "display_name": "Sebastian", "link": "https://stackoverflow.com/users/1147230/sebastian"}, "edited": false, "score": 0, "creation_date": 1464030158, "post_id": 37397021, "comment_id": 62305698, "body": "Please show what you tried. Don&#39;t know if it&#39;s possible at all."}, {"owner": {"reputation": 320771, "user_id": 589924, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/b2cf53d5a3d25f95c0db4e025aed4153?s=128&d=identicon&r=PG", "display_name": "ikegami", "link": "https://stackoverflow.com/users/589924/ikegami"}, "edited": false, "score": 1, "creation_date": 1464031976, "post_id": 37397021, "comment_id": 62306658, "body": "Backwards. The model should use re-usable libraries"}, {"owner": {"reputation": 50468, "user_id": 1331451, "user_type": "registered", "accept_rate": 96, "profile_image": "https://i.stack.imgur.com/4ZPmj.png?s=128&g=1", "display_name": "simbabque", "link": "https://stackoverflow.com/users/1331451/simbabque"}, "edited": false, "score": 0, "creation_date": 1464043327, "post_id": 37397021, "comment_id": 62311856, "body": "You can write a controller that calls what you want on your model and make a CGI PSGI wrapper that you can call from the command line. Or you can create an instance of your app in a regular Perl script and grab the model. Catalyst&#39;s unit test tools should be helpful for that. It&#39;s all a bit complicated though. But if you want the model to magically know all its settings and it might even have <code>ACCEPT_CONTEXT</code> defined then you cannot just instantiate one yourself. Unless you don&#39;t need anything but e.g. database config. Then you can just <code>use</code> it, instantiate it and be done."}, {"owner": {"reputation": 185733, "user_id": 152948, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/194ef8f807c34a9d7aab0e11a8674768?s=128&d=identicon&r=PG", "display_name": "hobbs", "link": "https://stackoverflow.com/users/152948/hobbs"}, "edited": false, "score": 2, "creation_date": 1464053062, "post_id": 37397021, "comment_id": 62314205, "body": "It&#39;s probably too late for this, but this is the reason why it&#39;s always encouraged to write very thin models that simply provide the glue between Catalyst and a non-Catalyst module. That way, when you want to use the model outside Catalyst, you simply use that module, and nothing is lost. Any code that you put directly into a model requires a Catalyst app, a Catalyst config, and possibly a Catalyst request context, to run properly."}], "owner": {"reputation": 4450, "user_id": 856090, "user_type": "registered", "accept_rate": 55, "profile_image": "https://www.gravatar.com/avatar/fa49a1c90a6af7544d764c5b22ff780d?s=128&d=identicon&r=PG", "display_name": "porton", "link": "https://stackoverflow.com/users/856090/porton"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 75, "favorite_count": 0, "answer_count": 0, "score": 1, "last_activity_date": 1464024287, "creation_date": 1464024287, "question_id": 37397021, "link": "https://stackoverflow.com/questions/37397021/using-a-catalyst-model-in-a-non-catalyst-setting", "title": "Using a Catalyst model in a non-Catalyst setting", "body": "<p>What is the correct way to get a Catalyst model output (for some specific model) from a Perl script? I mean a standalone Perl script, for example a script starting from command line.</p>\n\n<p>What is the correct way to do this? Please provide an example.</p>\n"}, {"tags": ["perl"], "comments": [{"owner": {"reputation": 50468, "user_id": 1331451, "user_type": "registered", "accept_rate": 96, "profile_image": "https://i.stack.imgur.com/4ZPmj.png?s=128&g=1", "display_name": "simbabque", "link": "https://stackoverflow.com/users/1331451/simbabque"}, "edited": false, "score": 1, "creation_date": 1464018208, "post_id": 37395140, "comment_id": 62299144, "body": "Your last sentence made me smile. This is not fun if you have to deal with it daily, but it can be fun to rebuild it once you&#39;ve unraveled it sufficiently."}, {"owner": {"reputation": 50468, "user_id": 1331451, "user_type": "registered", "accept_rate": 96, "profile_image": "https://i.stack.imgur.com/4ZPmj.png?s=128&g=1", "display_name": "simbabque", "link": "https://stackoverflow.com/users/1331451/simbabque"}, "edited": false, "score": 2, "creation_date": 1464018261, "post_id": 37395140, "comment_id": 62299179, "body": "Are those things <code>use</code> or <code>require</code> statements? Are the modules really modules (.pm files with <code>package</code>s in them), or do you have a lot of <code>require &#39;foo.pl&#39;</code> kind of stuff, all in the <code>main</code> namespace?"}, {"owner": {"reputation": 50468, "user_id": 1331451, "user_type": "registered", "accept_rate": 96, "profile_image": "https://i.stack.imgur.com/4ZPmj.png?s=128&g=1", "display_name": "simbabque", "link": "https://stackoverflow.com/users/1331451/simbabque"}, "edited": false, "score": 3, "creation_date": 1464019036, "post_id": 37395140, "comment_id": 62299713, "body": "There is also Devel::NYTProf, which can be helpful to understand who calls whom."}, {"owner": {"reputation": 405, "user_id": 6336615, "user_type": "registered", "profile_image": "https://lh5.googleusercontent.com/-54JWXHU1LhI/AAAAAAAAAAI/AAAAAAAABKc/N9fUA8Ue7e4/photo.jpg?sz=128", "display_name": "Wayne Booth", "link": "https://stackoverflow.com/users/6336615/wayne-booth"}, "edited": false, "score": 0, "creation_date": 1464511777, "post_id": 37395140, "comment_id": 62509971, "body": "@eric If you found an answer provided here helpful, please upvote and/or mark as accepted, so that other users with a similar question can benefit."}], "answers": [{"tags": [], "owner": {"reputation": 405, "user_id": 6336615, "user_type": "registered", "profile_image": "https://lh5.googleusercontent.com/-54JWXHU1LhI/AAAAAAAAAAI/AAAAAAAABKc/N9fUA8Ue7e4/photo.jpg?sz=128", "display_name": "Wayne Booth", "link": "https://stackoverflow.com/users/6336615/wayne-booth"}, "is_accepted": false, "score": 0, "last_activity_date": 1464023721, "last_edit_date": 1464023721, "creation_date": 1464022191, "answer_id": 37396454, "question_id": 37395140, "link": "https://stackoverflow.com/questions/37395140/understanding-perl-use-structures/37396454#37396454", "title": "Understanding perl use structures", "body": "<p>Sorry, but there is no Perl module or other generally available script that can do what your looking for. I had a similar problem once and had to write my own scripts (possibly using NYTProf eg) to parse each module and then analys the collected data externally.</p>\n\n<p>Other than that you're left with commenting out all \"use\" statements then bring them back in one at a time, only after having done this process with any modules you bring in. A touch job, but you'll learn a lot about your code.</p>\n\n<p>When you start to make changes expect unexpected failures because when you have circular use statements like this, the compilation depends on the order that code is introduced - meaning compilation errors in totally unrelated modules.</p>\n\n<p>Good luck.</p>\n"}], "owner": {"reputation": 151, "user_id": 2762725, "user_type": "registered", "accept_rate": 43, "profile_image": "https://www.gravatar.com/avatar/cbcadfb216af8aa55e075227a586ee94?s=128&d=identicon&r=PG&f=1", "display_name": "eric kulcyk", "link": "https://stackoverflow.com/users/2762725/eric-kulcyk"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 132, "favorite_count": 0, "closed_date": 1464027460, "answer_count": 1, "score": 4, "last_activity_date": 1464097822, "creation_date": 1464017926, "last_edit_date": 1464097822, "question_id": 37395140, "link": "https://stackoverflow.com/questions/37395140/understanding-perl-use-structures", "closed_reason": "Not suitable for this site", "title": "Understanding perl use structures", "body": "<p>I am trying to understand some messy Perl where there a lot of modules that use each.  We end up having everything very intertwined and in some cases, global variables are used without using what defines them (for example, A use B, B use C, C defines a variable X which A uses).  It is very difficult to refactor the code this way.  Are there any methods that will help me understand the structure of the code and what uses what?  For what it's worth, we already use strict.</p>\n"}, {"tags": ["python", "regex", "perl"], "comments": [{"owner": {"reputation": 76206, "user_id": 108205, "user_type": "registered", "accept_rate": 86, "profile_image": "https://www.gravatar.com/avatar/ef459127edc89cc575d80a73cd8c567a?s=128&d=identicon&r=PG", "display_name": "jsbueno", "link": "https://stackoverflow.com/users/108205/jsbueno"}, "edited": false, "score": 14, "creation_date": 1464016833, "post_id": 37394710, "comment_id": 62298246, "body": "Given that any decimal number is also a valid hexadecimal number, I feel like you will have some problems ahead."}, {"owner": {"reputation": 76206, "user_id": 108205, "user_type": "registered", "accept_rate": 86, "profile_image": "https://www.gravatar.com/avatar/ef459127edc89cc575d80a73cd8c567a?s=128&d=identicon&r=PG", "display_name": "jsbueno", "link": "https://stackoverflow.com/users/108205/jsbueno"}, "edited": false, "score": 3, "creation_date": 1464016919, "post_id": 37394710, "comment_id": 62298296, "body": "I was been euphemistic: it is actually <b>impossible</b> - unless your hexadecimal numbers are marked as such in your syntax in a distinctive manner (like an &quot;H&quot; suffix, or &quot;0x&quot; prefix)"}, {"owner": {"reputation": 137100, "user_id": 874188, "user_type": "registered", "accept_rate": 62, "profile_image": "https://i.stack.imgur.com/ZcY77.png?s=128&g=1", "display_name": "tripleee", "link": "https://stackoverflow.com/users/874188/tripleee"}, "reply_to_user": {"reputation": 76206, "user_id": 108205, "user_type": "registered", "accept_rate": 86, "profile_image": "https://www.gravatar.com/avatar/ef459127edc89cc575d80a73cd8c567a?s=128&d=identicon&r=PG", "display_name": "jsbueno", "link": "https://stackoverflow.com/users/108205/jsbueno"}, "edited": false, "score": 0, "creation_date": 1464017415, "post_id": 37394710, "comment_id": 62298615, "body": "@jsbueno The ambiguous cases are obviously ambiguous, but the question asks specifically for the unambiguous ones. While I too fail to see any useful applications for this, it&#39;s not hard to do."}, {"owner": {"reputation": 21782, "user_id": 176646, "user_type": "registered", "accept_rate": 88, "profile_image": "https://i.stack.imgur.com/HsQyV.png?s=128&g=1", "display_name": "ThisSuitIsBlackNot", "link": "https://stackoverflow.com/users/176646/thissuitisblacknot"}, "reply_to_user": {"reputation": 137100, "user_id": 874188, "user_type": "registered", "accept_rate": 62, "profile_image": "https://i.stack.imgur.com/ZcY77.png?s=128&g=1", "display_name": "tripleee", "link": "https://stackoverflow.com/users/874188/tripleee"}, "edited": false, "score": 3, "creation_date": 1464017810, "post_id": 37394710, "comment_id": 62298889, "body": "@tripleee It&#39;s unclear what the OP wants. You say they&#39;re asking specifically about the unambiguous cases, but I&#39;m not sure they even realize that 12340 is both valid decimal and valid hex. This seems to be an XY problem based on a misconception."}, {"owner": {"reputation": 76206, "user_id": 108205, "user_type": "registered", "accept_rate": 86, "profile_image": "https://www.gravatar.com/avatar/ef459127edc89cc575d80a73cd8c567a?s=128&d=identicon&r=PG", "display_name": "jsbueno", "link": "https://stackoverflow.com/users/108205/jsbueno"}, "edited": false, "score": 0, "creation_date": 1464017825, "post_id": 37394710, "comment_id": 62298898, "body": "The question (plus now erased comments form the OP)  denotes the OP does not know exactly what he is dealing with. Otherwise, it would simply be a question to detect hexadecimal digits. Blindly answering what is asked, even if it si nonsense, won&#39;t help the author or further readers."}, {"owner": {"reputation": 137100, "user_id": 874188, "user_type": "registered", "accept_rate": 62, "profile_image": "https://i.stack.imgur.com/ZcY77.png?s=128&g=1", "display_name": "tripleee", "link": "https://stackoverflow.com/users/874188/tripleee"}, "edited": false, "score": 0, "creation_date": 1464020577, "post_id": 37394710, "comment_id": 62300624, "body": "Even though this is unmitigated speculation, I can vaguely imagine scenarios where you might have an application ask users for clarification when there is ambiguity; this would then be useful e.g. to avoid asking when there is no ambiguity."}, {"owner": {"reputation": 1321, "user_id": 14351, "user_type": "registered", "accept_rate": 75, "profile_image": "https://www.gravatar.com/avatar/676ad8d1b7e387b294d62458d854d847?s=128&d=identicon&r=PG", "display_name": "Gregory", "link": "https://stackoverflow.com/users/14351/gregory"}, "edited": false, "score": 0, "creation_date": 1464022093, "post_id": 37394710, "comment_id": 62301440, "body": "Thanks for the comments, I&#39;ve updated the question based on feedback."}, {"owner": {"reputation": 21782, "user_id": 176646, "user_type": "registered", "accept_rate": 88, "profile_image": "https://i.stack.imgur.com/HsQyV.png?s=128&g=1", "display_name": "ThisSuitIsBlackNot", "link": "https://stackoverflow.com/users/176646/thissuitisblacknot"}, "edited": false, "score": 1, "creation_date": 1464022816, "post_id": 37394710, "comment_id": 62301809, "body": "Also, that seems like a really terrible idea. You&#39;ll go from having a file with some ambiguous values, to a file where <i>every</i> value is ambiguous."}, {"owner": {"reputation": 1321, "user_id": 14351, "user_type": "registered", "accept_rate": 75, "profile_image": "https://www.gravatar.com/avatar/676ad8d1b7e387b294d62458d854d847?s=128&d=identicon&r=PG", "display_name": "Gregory", "link": "https://stackoverflow.com/users/14351/gregory"}, "reply_to_user": {"reputation": 76206, "user_id": 108205, "user_type": "registered", "accept_rate": 86, "profile_image": "https://www.gravatar.com/avatar/ef459127edc89cc575d80a73cd8c567a?s=128&d=identicon&r=PG", "display_name": "jsbueno", "link": "https://stackoverflow.com/users/108205/jsbueno"}, "edited": false, "score": 0, "creation_date": 1464023381, "post_id": 37394710, "comment_id": 62302098, "body": "@jsbueno see tripleee answer. Seems good."}, {"owner": {"reputation": 1321, "user_id": 14351, "user_type": "registered", "accept_rate": 75, "profile_image": "https://www.gravatar.com/avatar/676ad8d1b7e387b294d62458d854d847?s=128&d=identicon&r=PG", "display_name": "Gregory", "link": "https://stackoverflow.com/users/14351/gregory"}, "reply_to_user": {"reputation": 21782, "user_id": 176646, "user_type": "registered", "accept_rate": 88, "profile_image": "https://i.stack.imgur.com/HsQyV.png?s=128&g=1", "display_name": "ThisSuitIsBlackNot", "link": "https://stackoverflow.com/users/176646/thissuitisblacknot"}, "edited": false, "score": 0, "creation_date": 1464023391, "post_id": 37394710, "comment_id": 62302107, "body": "@ThisSuitIsBlackNot I updated the question, and yes every value will be &quot;ambiguous&quot; but only in this context. Really every value can now be interpreted as an decimal even the ones that weren&#39;t converted. The actual values are less important then no-hex values are in this file."}, {"owner": {"reputation": 21782, "user_id": 176646, "user_type": "registered", "accept_rate": 88, "profile_image": "https://i.stack.imgur.com/HsQyV.png?s=128&g=1", "display_name": "ThisSuitIsBlackNot", "link": "https://stackoverflow.com/users/176646/thissuitisblacknot"}, "edited": false, "score": 2, "creation_date": 1464023609, "post_id": 37394710, "comment_id": 62302230, "body": "@Gregory That doesn&#39;t make any sense. If the values don&#39;t matter, you might as well just treat everything as hex and skip the conversion."}], "answers": [{"comments": [{"owner": {"reputation": 24179, "user_id": 1672429, "user_type": "registered", "accept_rate": 77, "profile_image": "https://www.gravatar.com/avatar/0815eb7d4e9dd58022d51ba2011b9c0a?s=128&d=identicon&r=PG", "display_name": "Stefan Pochmann", "link": "https://stackoverflow.com/users/1672429/stefan-pochmann"}, "edited": false, "score": 0, "creation_date": 1464019015, "post_id": 37394909, "comment_id": 62299706, "body": "I don&#39;t see your problem. Can you show some impossible-to-judge case?"}, {"owner": {"reputation": 13641, "user_id": 1871033, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/30bea353b9b21b063e2be8ab57a1465e?s=128&d=identicon&r=PG", "display_name": "CherryDT", "link": "https://stackoverflow.com/users/1871033/cherrydt"}, "edited": false, "score": 1, "creation_date": 1464020646, "post_id": 37394909, "comment_id": 62300665, "body": "It was already shown by him. Take <code>1234</code>. It can be a decimal number (then it&#39;s decimal 1234), or hexadecimal (then it&#39;s decimal 4660), or octal (then it&#39;s decimal 668), or all other kinds of more obscure bases."}, {"owner": {"reputation": 51521, "user_id": 2566198, "user_type": "registered", "accept_rate": 67, "profile_image": "https://i.stack.imgur.com/Y34ZA.jpg?s=128&g=1", "display_name": "Sobrique", "link": "https://stackoverflow.com/users/2566198/sobrique"}, "edited": false, "score": 3, "creation_date": 1464020673, "post_id": 37394909, "comment_id": 62300680, "body": "<code>10</code>. Is <code>10</code> in dec. Is <code>16</code> in hex. It&#39;s <code>8</code> in octal. And it&#39;s <code>2</code> in binary."}, {"owner": {"reputation": 24179, "user_id": 1672429, "user_type": "registered", "accept_rate": 77, "profile_image": "https://www.gravatar.com/avatar/0815eb7d4e9dd58022d51ba2011b9c0a?s=128&d=identicon&r=PG", "display_name": "Stefan Pochmann", "link": "https://stackoverflow.com/users/1672429/stefan-pochmann"}, "reply_to_user": {"reputation": 13641, "user_id": 1871033, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/30bea353b9b21b063e2be8ab57a1465e?s=128&d=identicon&r=PG", "display_name": "CherryDT", "link": "https://stackoverflow.com/users/1871033/cherrydt"}, "edited": false, "score": 0, "creation_date": 1464027892, "post_id": 37394909, "comment_id": 62304515, "body": "@CherryDT Are you talking to me? 1234 is valid decimal and thus clearly &quot;NO MATCH&quot;. Just like the 12340 in the question."}, {"owner": {"reputation": 13641, "user_id": 1871033, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/30bea353b9b21b063e2be8ab57a1465e?s=128&d=identicon&r=PG", "display_name": "CherryDT", "link": "https://stackoverflow.com/users/1871033/cherrydt"}, "edited": false, "score": 0, "creation_date": 1464031373, "post_id": 37394909, "comment_id": 62306368, "body": "Yeah well, now it is. Because the OP added the &quot;non-ambigous&quot; part in."}], "tags": [], "owner": {"reputation": 76206, "user_id": 108205, "user_type": "registered", "accept_rate": 86, "profile_image": "https://www.gravatar.com/avatar/ef459127edc89cc575d80a73cd8c567a?s=128&d=identicon&r=PG", "display_name": "jsbueno", "link": "https://stackoverflow.com/users/108205/jsbueno"}, "is_accepted": false, "score": 5, "last_activity_date": 1464055587, "last_edit_date": 1464055587, "creation_date": 1464017203, "answer_id": 37394909, "question_id": 37394710, "link": "https://stackoverflow.com/questions/37394710/pattern-to-match-non-ambiguous-hexadecimal-numbers-only-not-decimal-numbers/37394909#37394909", "title": "Pattern to match non-ambiguous hexadecimal numbers only (not decimal numbers)", "body": "<p>As I commented above, unless there is further distinction in your input data between decimal and hexadecimal numbers, it is not possible (as in impossible) to figure out which numbers are hexadecimal. </p>\n\n<p>While hexadecimal numbers allow extra digits beyond the Arabic digits 0-9, numbers formed only by these are also valid hexadecimal numbers, with a different value than the same number if it was a decimal representation.</p>\n\n<p>That is why all programming languages (and data files) that allow for both decimal and hexadecimal numbers to be present (among other possible bases like octal and binary) have distinct markers for them. For example, in C and languages derived from C, the prefix \"0x\" is used, so anyone can spot the difference between 0x1234 and 1234.</p>\n\n<p>If you really have input data mixing both numeric bases like this, you have to go a step back and figure out a way of telling which number means what, possibly as part of some other context. If there is no such context and no way to regenerate your input data, you  may as well just quit whatever you are trying to achieve.</p>\n\n<p><strong>update</strong> - This text had been written when the question text was written in another form, and it was not easy to understand the real intent. The question is much ore clear now - I will keep the answer since it may be good advice for novices trying a magic way to tell hexadecimal from decimal, without any extra markup.</p>\n"}, {"comments": [{"owner": {"reputation": 12629, "user_id": 546871, "user_type": "registered", "accept_rate": 40, "profile_image": "https://i.stack.imgur.com/p1diY.jpg?s=128&g=1", "display_name": "AdrianHHH", "link": "https://stackoverflow.com/users/546871/adrianhhh"}, "edited": false, "score": 4, "creation_date": 1464019084, "post_id": 37394919, "comment_id": 62299747, "body": "For performance and less backtracking <code>[0-9]*[a-f][0-9a-f]*</code> might be better."}, {"owner": {"reputation": 137100, "user_id": 874188, "user_type": "registered", "accept_rate": 62, "profile_image": "https://i.stack.imgur.com/ZcY77.png?s=128&g=1", "display_name": "tripleee", "link": "https://stackoverflow.com/users/874188/tripleee"}, "reply_to_user": {"reputation": 12629, "user_id": 546871, "user_type": "registered", "accept_rate": 40, "profile_image": "https://i.stack.imgur.com/p1diY.jpg?s=128&g=1", "display_name": "AdrianHHH", "link": "https://stackoverflow.com/users/546871/adrianhhh"}, "edited": false, "score": 0, "creation_date": 1464020413, "post_id": 37394919, "comment_id": 62300524, "body": "@AdrianHHH Excellent; updated!"}], "tags": [], "owner": {"reputation": 137100, "user_id": 874188, "user_type": "registered", "accept_rate": 62, "profile_image": "https://i.stack.imgur.com/ZcY77.png?s=128&g=1", "display_name": "tripleee", "link": "https://stackoverflow.com/users/874188/tripleee"}, "is_accepted": false, "score": 3, "last_activity_date": 1464020402, "last_edit_date": 1464020402, "creation_date": 1464017227, "answer_id": 37394919, "question_id": 37394710, "link": "https://stackoverflow.com/questions/37394710/pattern-to-match-non-ambiguous-hexadecimal-numbers-only-not-decimal-numbers/37394919#37394919", "title": "Pattern to match non-ambiguous hexadecimal numbers only (not decimal numbers)", "body": "<p>Require at least one hex digit, bracketed by zero or more hex or dec digits on both sides.</p>\n\n<pre><code>[0-9]*[a-f][0-9a-f]*\n</code></pre>\n\n<p>Updated with the optimization suggested by @AdrianHHH.</p>\n"}, {"tags": [], "owner": {"reputation": 320771, "user_id": 589924, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/b2cf53d5a3d25f95c0db4e025aed4153?s=128&d=identicon&r=PG", "display_name": "ikegami", "link": "https://stackoverflow.com/users/589924/ikegami"}, "is_accepted": false, "score": 2, "last_activity_date": 1464020283, "creation_date": 1464020283, "answer_id": 37395915, "question_id": 37394710, "link": "https://stackoverflow.com/questions/37394710/pattern-to-match-non-ambiguous-hexadecimal-numbers-only-not-decimal-numbers/37395915#37395915", "title": "Pattern to match non-ambiguous hexadecimal numbers only (not decimal numbers)", "body": "<p>I don't see how this could possibly be useful, but you can use</p>\n\n<pre><code>/^[0-9]*[a-fA-F][0-9a-fA-F]*\\z/\n</code></pre>\n"}], "owner": {"reputation": 1321, "user_id": 14351, "user_type": "registered", "accept_rate": 75, "profile_image": "https://www.gravatar.com/avatar/676ad8d1b7e387b294d62458d854d847?s=128&d=identicon&r=PG", "display_name": "Gregory", "link": "https://stackoverflow.com/users/14351/gregory"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 415, "favorite_count": 0, "closed_date": 1464020732, "answer_count": 3, "score": -9, "last_activity_date": 1464055587, "creation_date": 1464016643, "last_edit_date": 1464023028, "question_id": 37394710, "link": "https://stackoverflow.com/questions/37394710/pattern-to-match-non-ambiguous-hexadecimal-numbers-only-not-decimal-numbers", "closed_reason": "Needs details or clarity", "title": "Pattern to match non-ambiguous hexadecimal numbers only (not decimal numbers)", "body": "<p>We are all familiar with the regexp for hex numbers, but what's a clever regular expression which only matches non-ambiguous hex numbers but does not match integers (base-10/decimal). Examples</p>\n\n<ul>\n<li><code>1f345</code> = MATCH</li>\n<li><code>0f123</code> = MATCH</li>\n<li><code>12340</code> = NO MATCH (ambiguous decimal, could be either hex or decimal)</li>\n<li><code>01234</code> = NO MATCH (technically not an integer either)</li>\n</ul>\n\n<p>It seems it requires two regular expressions. First match for hex numbers (and integers) then match the result for at least one <code>[a-f][A-F]</code>.  But is there an easier way?</p>\n\n<p>The application of this is to wholesale replacement of non-ambiguous hex numbers to their converted decimal versions while leaving ambiguous numbers in place.</p>\n"}, {"tags": ["html", "perl", "perl-data-structures"], "comments": [{"owner": {"reputation": 51521, "user_id": 2566198, "user_type": "registered", "accept_rate": 67, "profile_image": "https://i.stack.imgur.com/Y34ZA.jpg?s=128&g=1", "display_name": "Sobrique", "link": "https://stackoverflow.com/users/2566198/sobrique"}, "edited": false, "score": 0, "creation_date": 1464017398, "post_id": 37394685, "comment_id": 62298605, "body": "Give it a try. It&#39;s not too hard if you use <code>XML::Twig</code>. Then come ask if you have problems."}, {"owner": {"reputation": 35, "user_id": 4871106, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/eb9b7aca273b3cc612ae277483c64b58?s=128&d=identicon&r=PG&f=1", "display_name": "vmadhav", "link": "https://stackoverflow.com/users/4871106/vmadhav"}, "reply_to_user": {"reputation": 51521, "user_id": 2566198, "user_type": "registered", "accept_rate": 67, "profile_image": "https://i.stack.imgur.com/Y34ZA.jpg?s=128&g=1", "display_name": "Sobrique", "link": "https://stackoverflow.com/users/2566198/sobrique"}, "edited": false, "score": 0, "creation_date": 1464018676, "post_id": 37394685, "comment_id": 62299460, "body": "` use strict;   use warnings;      use XML::Simple;   use Data::Dumper;      my $xml = new XML::Simple;   my $data = $xml-&gt;XMLin(&quot;/home/rocky/PERL/doc.xml&quot;);      print Dumper($data);   foreach my $imgrec (@{$data-&gt;{DataElement}}) {    my $Serial_Start = $imgrec-&gt;{Serial_Start};    my $Serial_End = $imgrec-&gt;{Serial_End};   \tforeach my $imgrec1(@{data-&gt;{DataElement}-&gt;{Item}}) {   \t\t## Not sure of this code   \t\t## Trying on this part.   \t}   }`"}, {"owner": {"reputation": 51521, "user_id": 2566198, "user_type": "registered", "accept_rate": 67, "profile_image": "https://i.stack.imgur.com/Y34ZA.jpg?s=128&g=1", "display_name": "Sobrique", "link": "https://stackoverflow.com/users/2566198/sobrique"}, "edited": false, "score": 0, "creation_date": 1464018700, "post_id": 37394685, "comment_id": 62299474, "body": "<a href=\"https://stackoverflow.com/posts/37394685/edit\">edit</a> that into your question."}], "answers": [{"tags": [], "owner": {"reputation": 51521, "user_id": 2566198, "user_type": "registered", "accept_rate": 67, "profile_image": "https://i.stack.imgur.com/Y34ZA.jpg?s=128&g=1", "display_name": "Sobrique", "link": "https://stackoverflow.com/users/2566198/sobrique"}, "is_accepted": true, "score": 1, "last_activity_date": 1464019353, "creation_date": 1464019353, "answer_id": 37395615, "question_id": 37394685, "link": "https://stackoverflow.com/questions/37394685/xml-document-parsing/37395615#37395615", "title": "XML document parsing", "body": "<p>OK, so here's your problem:</p>\n\n<pre><code>use XML::Simple;\n</code></pre>\n\n<p>Don't - it only makes your life harder. </p>\n\n<p>Here's a starter for 10 using <code>XML::Twig</code> - it's not entirely clear what you're doing to get the output you're after, so:</p>\n\n<pre><code>#!/usr/bin/env perl\nuse strict;\nuse warnings;\n\nuse XML::Twig;\n\nmy $twig = XML::Twig-&gt; new -&gt; parsefile('/home/rocky/PERL/doc.xml')\nforeach my $data_element ( $twig-&gt;findnodes('//DataElement') ) {\n   print \"Start:\", $data_element-&gt;first_child_text('Serial_Start'), \"\\n\";\n   print \"End:\",   $data_element-&gt;first_child_text('Serial_End'),   \"\\n\";\n   foreach my $item ( $data_element -&gt; children('Item') ){ \n       print \"Item: \", $item -&gt; att('value'),\"\\n\";\n       foreach my $tag ( qw ( Price Sku Qcode ) ) {\n           print \"$tag: \", $item -&gt; findnodes (\".//$tag\", 0 ) -&gt; text,\"\\n\";\n       }\n   }\n}\n</code></pre>\n\n<p>Note - this finds the <em>first</em> instance of a particular tag beneath an item - not all of them.</p>\n"}], "owner": {"reputation": 35, "user_id": 4871106, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/eb9b7aca273b3cc612ae277483c64b58?s=128&d=identicon&r=PG&f=1", "display_name": "vmadhav", "link": "https://stackoverflow.com/users/4871106/vmadhav"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 43, "favorite_count": 1, "closed_date": 1464812523, "accepted_answer_id": 37395615, "answer_count": 1, "score": -4, "last_activity_date": 1464019353, "creation_date": 1464016588, "last_edit_date": 1464018779, "question_id": 37394685, "link": "https://stackoverflow.com/questions/37394685/xml-document-parsing", "closed_reason": "Needs more focus", "title": "XML document parsing", "body": "<pre><code>&lt;?xml version=\"1.0\" encoding=\"UTF-8\"?&gt;\n&lt;Document&gt;\n    &lt;DataElement&gt;\n        &lt;Serial_Start&gt;1000&lt;/Serial_Start&gt;\n        &lt;Serial_End&gt;2000&lt;/Serial_End&gt;\n        &lt;Item value=\"257896\"&gt;\n            &lt;ComItemation&gt;\n                &lt;Price&gt;00&lt;/Price&gt;\n                &lt;Sku&gt;20&lt;/Sku&gt;\n                &lt;Qcode&gt;27&lt;/Qcode&gt;\n            &lt;/ComItemation&gt;\n            &lt;ComItemation&gt;\n                &lt;Price&gt;80&lt;/Price&gt;\n                &lt;Sku&gt;20&lt;/Sku&gt;\n                &lt;Qcode&gt;20&lt;/Qcode&gt;\n            &lt;/ComItemation&gt;\n        &lt;/Item&gt;\n        &lt;Item value=\"523698\"&gt;\n            &lt;ComItemation&gt;\n                &lt;Price&gt;00&lt;/Price&gt;\n                &lt;Sku&gt;20&lt;/Sku&gt;\n                &lt;Qcode&gt;27&lt;/Qcode&gt;\n            &lt;/ComItemation&gt;\n            &lt;ComItemation&gt;\n                &lt;Price&gt;80&lt;/Price&gt;\n                &lt;Sku&gt;20&lt;/Sku&gt;\n                &lt;Qcode&gt;20&lt;/Qcode&gt;\n            &lt;/ComItemation&gt;\n        &lt;/Item&gt;\n        &lt;Item value=\"856987\"&gt;\n            &lt;ComItemation&gt;\n                &lt;Price&gt;00&lt;/Price&gt;\n                &lt;Sku&gt;20&lt;/Sku&gt;\n                &lt;Qcode&gt;27&lt;/Qcode&gt;\n            &lt;/ComItemation&gt;\n        &lt;/Item&gt;\n    &lt;/DataElement&gt;\n    &lt;DataElement&gt;\n        &lt;Serial_Start&gt;&lt;/Serial_Start&gt;\n        &lt;Serial_End&gt;&lt;/Serial_End&gt;\n        &lt;Item value=\"123456\"&gt;\n            &lt;ComItemation&gt;\n                &lt;Price&gt;00&lt;/Price&gt;\n                &lt;Sku&gt;20&lt;/Sku&gt;\n                &lt;Qcode&gt;27&lt;/Qcode&gt;\n            &lt;/ComItemation&gt;\n            &lt;ComItemation&gt;\n                &lt;Price&gt;80&lt;/Price&gt;\n                &lt;Sku&gt;20&lt;/Sku&gt;\n                &lt;Qcode&gt;20&lt;/Qcode&gt;\n            &lt;/ComItemation&gt;\n        &lt;/Item&gt;\n        &lt;Item value=\"123456\"&gt;\n            &lt;ComItemation&gt;\n                &lt;Price&gt;00&lt;/Price&gt;\n                &lt;Sku&gt;20&lt;/Sku&gt;\n                &lt;Qcode&gt;27&lt;/Qcode&gt;\n            &lt;/ComItemation&gt;\n            &lt;ComItemation&gt;\n                &lt;Price&gt;80&lt;/Price&gt;\n                &lt;Sku&gt;20&lt;/Sku&gt;\n                &lt;Qcode&gt;20&lt;/Qcode&gt;\n            &lt;/ComItemation&gt;\n        &lt;/Item&gt;\n        &lt;Item value=\"123456\"&gt;\n            &lt;ComItemation&gt;\n                &lt;Price&gt;00&lt;/Price&gt;\n                &lt;Sku&gt;20&lt;/Sku&gt;\n                &lt;Qcode&gt;27&lt;/Qcode&gt;\n            &lt;/ComItemation&gt;\n            &lt;ComItemation&gt;\n                &lt;Price&gt;80&lt;/Price&gt;\n                &lt;Sku&gt;20&lt;/Sku&gt;\n                &lt;Qcode&gt;20&lt;/Qcode&gt;\n            &lt;/ComItemation&gt;\n        &lt;/Item&gt;\n    &lt;/DataElement&gt;\n&lt;/Document&gt;\n</code></pre>\n\n<p>I'm a new bee to PERL, was trying to parse the above XML document. I\nrequire the output in the below mentioned format.</p>\n\n<pre><code>Serial Start : 1000 \nSerial End   : 2000 \nItem : 257896 \nPrice : 00 \nSku   : 20 \nQcode : 27 \nItem  : 257896 \nPrice : 80 \nSku   : 20 \nQcode : 20\n</code></pre>\n\n<p>... and So on for each child node.</p>\n\n<p>Sample code so far:</p>\n\n<pre><code>#!/usr/bin/env perl\nuse strict;\nuse warnings;\n\nuse XML::Simple;\nuse Data::Dumper;\nmy $xml  = new XML::Simple;\nmy $data = $xml-&gt;XMLin(\"/home/rocky/PERL/doc.xml\");\nprint Dumper($data);\n\nforeach my $imgrec ( @{ $data-&gt;{DataElement} } ) {\n   my $Serial_Start = $imgrec-&gt;{Serial_Start};\n   my $Serial_End   = $imgrec-&gt;{Serial_End};\n   foreach my $imgrec1 ( @{ $data-&gt;{DataElement}-&gt;{Item} } ) {\n      ## Not sure of this code\n      ## Trying on this part.\n   }\n}\n</code></pre>\n"}, {"tags": ["bash", "perl", "awk", "delimiter", "substitution"], "comments": [{"owner": {"reputation": 697, "user_id": 5449244, "user_type": "registered", "accept_rate": 84, "profile_image": "https://www.gravatar.com/avatar/131ad184c67440a0a499852f247b4ea6?s=128&d=identicon&r=PG&f=1", "display_name": "onlyf", "link": "https://stackoverflow.com/users/5449244/onlyf"}, "edited": false, "score": 0, "creation_date": 1464013513, "post_id": 37392441, "comment_id": 62296118, "body": "I dont know why people keep downvoting me. All the answers below reached the desired result, but i can only accept one."}, {"owner": {"reputation": 51521, "user_id": 2566198, "user_type": "registered", "accept_rate": 67, "profile_image": "https://i.stack.imgur.com/Y34ZA.jpg?s=128&g=1", "display_name": "Sobrique", "link": "https://stackoverflow.com/users/2566198/sobrique"}, "edited": false, "score": 2, "creation_date": 1464013555, "post_id": 37392441, "comment_id": 62296146, "body": "Probably because you&#39;ve not made any attempt to solve the problem yourself."}, {"owner": {"reputation": 697, "user_id": 5449244, "user_type": "registered", "accept_rate": 84, "profile_image": "https://www.gravatar.com/avatar/131ad184c67440a0a499852f247b4ea6?s=128&d=identicon&r=PG&f=1", "display_name": "onlyf", "link": "https://stackoverflow.com/users/5449244/onlyf"}, "reply_to_user": {"reputation": 51521, "user_id": 2566198, "user_type": "registered", "accept_rate": 67, "profile_image": "https://i.stack.imgur.com/Y34ZA.jpg?s=128&g=1", "display_name": "Sobrique", "link": "https://stackoverflow.com/users/2566198/sobrique"}, "edited": false, "score": 4, "creation_date": 1464013642, "post_id": 37392441, "comment_id": 62296209, "body": "Fair enough. I dont know as much regex as required to handle this. Next time i ll post some of my failed attempts when i start a question."}], "answers": [{"comments": [{"owner": {"reputation": 697, "user_id": 5449244, "user_type": "registered", "accept_rate": 84, "profile_image": "https://www.gravatar.com/avatar/131ad184c67440a0a499852f247b4ea6?s=128&d=identicon&r=PG&f=1", "display_name": "onlyf", "link": "https://stackoverflow.com/users/5449244/onlyf"}, "edited": false, "score": 0, "creation_date": 1464010834, "post_id": 37392550, "comment_id": 62294199, "body": "I dont need to replace &#39;;&#39;s (semicolons)  i need to replace &#39;.&#39; (full stop) with &#39;,&#39; (comma) after the fifth occurence of &#39;;&#39;."}], "tags": [], "owner": {"reputation": 10642, "user_id": 6309601, "user_type": "registered", "accept_rate": 100, "profile_image": "https://i.stack.imgur.com/RNsPk.png?s=128&g=1", "display_name": "P....", "link": "https://stackoverflow.com/users/6309601/p"}, "is_accepted": false, "score": 0, "last_activity_date": 1464010677, "creation_date": 1464010677, "answer_id": 37392550, "question_id": 37392441, "link": "https://stackoverflow.com/questions/37392441/perl-substitute-after-nth-delimiter/37392550#37392550", "title": "Perl - Substitute after nth delimiter", "body": "<pre><code>  # this should do your work\n  sed -i 's/;/,/6g' filename\n\n  cat filename\n  aoipp;dadada.12312;ss;1245454;Xiop;12.12,45.3,47.897,31.5,\n  asdfafd;14355.54664;peasd;125.1;900.2;76.897,67.456,asdfdf,\n  perio;777.2;ipoes;900.34;2;1980.45,870.98,67.67,\n</code></pre>\n"}, {"comments": [{"owner": {"reputation": 697, "user_id": 5449244, "user_type": "registered", "accept_rate": 84, "profile_image": "https://www.gravatar.com/avatar/131ad184c67440a0a499852f247b4ea6?s=128&d=identicon&r=PG&f=1", "display_name": "onlyf", "link": "https://stackoverflow.com/users/5449244/onlyf"}, "edited": false, "score": 0, "creation_date": 1464011468, "post_id": 37392725, "comment_id": 62294647, "body": "Thank you very much. That &#39;7&#39; in the end is slightly confusing, but what you suggested works."}, {"owner": {"reputation": 172306, "user_id": 164835, "user_type": "registered", "accept_rate": 80, "profile_image": "https://i.stack.imgur.com/ayYoh.jpg?s=128&g=1", "display_name": "Kent", "link": "https://stackoverflow.com/users/164835/kent"}, "reply_to_user": {"reputation": 697, "user_id": 5449244, "user_type": "registered", "accept_rate": 84, "profile_image": "https://www.gravatar.com/avatar/131ad184c67440a0a499852f247b4ea6?s=128&d=identicon&r=PG&f=1", "display_name": "onlyf", "link": "https://stackoverflow.com/users/5449244/onlyf"}, "edited": false, "score": 0, "creation_date": 1464012641, "post_id": 37392725, "comment_id": 62295493, "body": "@onlyf it does just printing,"}, {"owner": {"reputation": 155597, "user_id": 1745001, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/99a3ebae89496eb16afe453aae97f5be?s=128&d=identicon&r=PG", "display_name": "Ed Morton", "link": "https://stackoverflow.com/users/1745001/ed-morton"}, "edited": false, "score": 1, "creation_date": 1464017391, "post_id": 37392725, "comment_id": 62298600, "body": "The first arg for awks *sub() functions is a regexp, not a string, so use regexp delimiters <code>&#47;...&#47;</code> not string delimiters <code>&quot;...&quot;</code> as the latter makes your code more complicated as awk has to convert the string to a regexp before using it."}], "tags": [], "owner": {"reputation": 172306, "user_id": 164835, "user_type": "registered", "accept_rate": 80, "profile_image": "https://i.stack.imgur.com/ayYoh.jpg?s=128&g=1", "display_name": "Kent", "link": "https://stackoverflow.com/users/164835/kent"}, "is_accepted": true, "score": 3, "last_activity_date": 1464011142, "creation_date": 1464011142, "answer_id": 37392725, "question_id": 37392441, "link": "https://stackoverflow.com/questions/37392441/perl-substitute-after-nth-delimiter/37392725#37392725", "title": "Perl - Substitute after nth delimiter", "body": "<p>This awk one-liner should work for you:</p>\n\n<pre><code>awk -F';' -v OFS=\";\" '{for(i=6;i&lt;=NF;i++)gsub(\"[.]\",\",\",$i)}7' file\n</code></pre>\n\n<p>It starts from the 6th field (<code>;</code> separated), for each field replace all <code>.</code> by <code>,</code>. </p>\n\n<p>Test with your data:</p>\n\n<pre><code>kent$  cat f\naoipp;dadada.12312;ss;1245454;Xiop;12.12;45.3;47.897;31.5;\nasdfafd;14355.54664;peasd;125.1;900.2;76.897;67.456;asdfdf;\nperio;777.2;ipoes;900.34;2;1980.45;870.98;67.67;\n\nkent$  awk -F';' -v OFS=\";\" '{for(i=6;i&lt;=NF;i++)gsub(\"[.]\",\",\",$i)}7' f\naoipp;dadada.12312;ss;1245454;Xiop;12,12;45,3;47,897;31,5;\nasdfafd;14355.54664;peasd;125.1;900.2;76,897;67,456;asdfdf;\nperio;777.2;ipoes;900.34;2;1980,45;870,98;67,67;\n</code></pre>\n"}, {"tags": [], "owner": {"reputation": 198290, "user_id": 1030675, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/957956ce51706d03f19a4dc85a767bb1?s=128&d=identicon&r=PG", "display_name": "choroba", "link": "https://stackoverflow.com/users/1030675/choroba"}, "is_accepted": false, "score": 3, "last_activity_date": 1464011324, "creation_date": 1464011324, "answer_id": 37392797, "question_id": 37392441, "link": "https://stackoverflow.com/questions/37392441/perl-substitute-after-nth-delimiter/37392797#37392797", "title": "Perl - Substitute after nth delimiter", "body": "<p>I used an array slice <code>@fields[ 5 .. $#fields ]</code> to access only the elements to be changed.</p>\n\n<pre><code>#!/usr/bin/perl\nuse warnings;\nuse strict;\n\nmy @input = qw( aoipp;dadada.12312;ss;1245454;Xiop;12.12;45.3;47.897;31.5;\n                asdfafd;14355.54664;peasd;125.1;900.2;76.897;67.456;asdfdf;\n                perio;777.2;ipoes;900.34;2;1980.45;870.98;67.67;\n              );\n\nmy @expected = qw( aoipp;dadada.12312;ss;1245454;Xiop;12,12;45,3;47,897;31,5;\n                   asdfafd;14355.54664;peasd;125.1;900.2;76,897;67,456;asdfdf;\n                   perio;777.2;ipoes;900.34;2;1980,45;870,98;67,67;\n                 );\n\nsub process {\n    my (@input) = @_;\n    my @output;\n    for my $line (@input) {\n        my @fields = split /;/, $line;\n        s/\\./,/ for @fields[ 5 .. $#fields ];\n        push @output, join ';', @fields, q();\n    }\n    return \\@output\n}\n\nuse Test::More tests =&gt; 1;\nis_deeply(process(@input), \\@expected);\n</code></pre>\n"}, {"tags": [], "owner": {"reputation": 87649, "user_id": 17389, "user_type": "registered", "accept_rate": 38, "profile_image": "https://www.gravatar.com/avatar/cd06d1314817ce946ab796af8750b56a?s=128&d=identicon&r=PG", "display_name": "ysth", "link": "https://stackoverflow.com/users/17389/ysth"}, "is_accepted": false, "score": 3, "last_activity_date": 1464012387, "creation_date": 1464012387, "answer_id": 37393247, "question_id": 37392441, "link": "https://stackoverflow.com/questions/37392441/perl-substitute-after-nth-delimiter/37393247#37393247", "title": "Perl - Substitute after nth delimiter", "body": "<pre><code>while (my $line = &lt;DATA&gt;) {\n    if ($line =~ /^(?:[^;]*;){5}/) {\n        substr($line, $+[0]) =~ y/./,/;\n    }\n    print $line;\n}\n__DATA__\naoipp;dadada.12312;ss;1245454;Xiop;12.12;45.3;47.897;31.5;\nasdfafd;14355.54664;peasd;125.1;900.2;76.897;67.456;asdfdf;\nperio;777.2;ipoes;900.34;2;1980.45;870.98;67.67;\n</code></pre>\n"}, {"tags": [], "owner": {"reputation": 3751, "user_id": 2991627, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/b1bf3f42fc00dd825eda62f1df4fa304?s=128&d=identicon&r=PG", "display_name": "JJoao", "link": "https://stackoverflow.com/users/2991627/jjoao"}, "is_accepted": false, "score": 1, "last_activity_date": 1464012693, "creation_date": 1464012693, "answer_id": 37393368, "question_id": 37392441, "link": "https://stackoverflow.com/questions/37392441/perl-substitute-after-nth-delimiter/37393368#37393368", "title": "Perl - Substitute after nth delimiter", "body": "<pre><code>perl -pe 's/(.*?;){6}\\K(.*)/$2 =~ s!\\.!,!rg /ge'\n</code></pre>\n\n<ol>\n<li>Skip everything until the 6th <code>;</code>  (<code>(.*?;){6}\\K</code>),</li>\n<li>and aply the substitution . , to rest of the line (<code>$2 =~ s!\\.!,!rg</code>) </li>\n</ol>\n"}], "owner": {"reputation": 697, "user_id": 5449244, "user_type": "registered", "accept_rate": 84, "profile_image": "https://www.gravatar.com/avatar/131ad184c67440a0a499852f247b4ea6?s=128&d=identicon&r=PG&f=1", "display_name": "onlyf", "link": "https://stackoverflow.com/users/5449244/onlyf"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 150, "favorite_count": 2, "accepted_answer_id": 37392725, "answer_count": 5, "score": -2, "last_activity_date": 1464013577, "creation_date": 1464010405, "last_edit_date": 1464013577, "question_id": 37392441, "link": "https://stackoverflow.com/questions/37392441/perl-substitute-after-nth-delimiter", "title": "Perl - Substitute after nth delimiter", "body": "<p>i would like some help with a substitution i want to do on the lines of a file that look like this :</p>\n\n<pre><code>aoipp;dadada.12312;ss;1245454;Xiop;12.12;45.3;47.897;31.5;\nasdfafd;14355.54664;peasd;125.1;900.2;76.897;67.456;asdfdf;\nperio;777.2;ipoes;900.34;2;1980.45;870.98;67.67;\n</code></pre>\n\n<p>I want to replace every <code>.</code> with <code>,</code> but only after the fifth occurrence of the delimiter <code>;</code>. Everything else needs to remain unchanged. So the desired output file would look like this :</p>\n\n<pre><code>aoipp;dadada.12312;ss;1245454;Xiop;12,12;45,3;47,897;31,5;\nasdfafd;14355.54664;peasd;125.1;900.2;76,897;67,456;asdfdf;\nperio;777.2;ipoes;900.34;2;1980,45;870,98;67,67;\n</code></pre>\n\n<p>I m interested in doing this primarily in perl so i can incorporate it to a larger program, but any solutions in bash / awk are welcome as well. Thanks in advance.</p>\n"}, {"tags": ["perl", "hash"], "comments": [{"owner": {"reputation": 793701, "user_id": 19068, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/1d2d3229ed1961d2bd81853242493247?s=128&d=identicon&r=PG", "display_name": "Quentin", "link": "https://stackoverflow.com/users/19068/quentin"}, "edited": false, "score": 0, "creation_date": 1463996113, "post_id": 37387420, "comment_id": 62284559, "body": "<code>map</code> and <code>keys</code> I guess, but I don&#39;t have the tuits to build a test case right now."}], "answers": [{"comments": [{"owner": {"reputation": 3025, "user_id": 1356047, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/da6592df871c28f69e0480dd4edb5f9a?s=128&d=identicon&r=PG", "display_name": "Jonas Berlin", "link": "https://stackoverflow.com/users/1356047/jonas-berlin"}, "edited": false, "score": 2, "creation_date": 1463996599, "post_id": 37387498, "comment_id": 62284901, "body": ".. the beef being here that you can return multiple values from the code block passed to map and they will be flattened into one stream of values from map."}], "tags": [], "owner": {"reputation": 51521, "user_id": 2566198, "user_type": "registered", "accept_rate": 67, "profile_image": "https://i.stack.imgur.com/Y34ZA.jpg?s=128&g=1", "display_name": "Sobrique", "link": "https://stackoverflow.com/users/2566198/sobrique"}, "is_accepted": true, "score": 5, "last_activity_date": 1463998315, "last_edit_date": 1463998315, "creation_date": 1463996197, "answer_id": 37387498, "question_id": 37387420, "link": "https://stackoverflow.com/questions/37387420/double-hash-values-in-perl/37387498#37387498", "title": "Double hash values in Perl", "body": "<p>You can use <code>map</code> again to extract it. Don't be under any illusions though - it's still looping. It might be more elegant though:</p>\n\n<pre><code>for my $val ( map { values %$_ } values %dh ) {\n    #do stuff\n}\n</code></pre>\n\n<p>This is more or less doing the same thing though - it's flattening your hash - getting the <code>values</code> from <code>%dh</code> - which will be a list of hash-refs - and then pulling the <code>values</code> out of those. (I think this should do it,  but without test data I can't tell you for sure). </p>\n\n<p>Note - the return order from <code>values</code> is undefined, so you'll get them in a randomish order. You can control ordering via <code>keys</code> (and maybe <code>sort</code>) if you're so inclined. </p>\n\n<p>What <code>map</code> does is simply evaluate a code block, and returns the results as a list. That's why <code>map { $_ =&gt; 1 } qw ( one two three )</code> works - it's actually returning a pair of values, which <em>when you assign it to a hash</em> is treated as key-value pairs. </p>\n\n<pre><code>use Data::Dumper;\n\nmy @stuff = map { $_ =&gt; 1 } qw ( one two three );\nprint Dumper \\@stuff;\nmy %hash = map { $_ =&gt; 1 } qw ( one two three ); \nprint Dumper \\%hash;\n</code></pre>\n\n<p>So - <code>map</code> is returning 2 values here, which you <em>could</em> write as:</p>\n\n<pre><code>my @stuff = map { $_,  1 } qw ( one two three );\n</code></pre>\n\n<p>Because of course, <code>=&gt;</code> is really just a comma (with some extra functionality around quoting). </p>\n\n<p>So when doing a dereference of an array, you can do the same - <code>values</code> returns a list of values from each element in the <code>map</code>. </p>\n\n<p>For the sake of clarity:</p>\n\n<pre><code>use Data::Dumper;\nmy @stuff = ( [ 1, 2, 3 ], [4, 5, 6], [7, 8, 9] );\nprint Dumper \\@stuff;\nmy @newstuff = map { @$_ } @stuff; \nprint Dumper \\@newstuff;\n</code></pre>\n\n<p>Is doing essentially the same thing - traversing each of the hash references in <code>@stuff</code> (because that's how multi-dimensional arrays are implemented in <code>perl</code>) and then 'unpacks' them, returning the results. </p>\n"}], "owner": {"reputation": 121, "user_id": 2587422, "user_type": "registered", "accept_rate": 38, "profile_image": "https://www.gravatar.com/avatar/41f783a0cead45b4bf168865a01aea67?s=128&d=identicon&r=PG", "display_name": "Luigi D.", "link": "https://stackoverflow.com/users/2587422/luigi-d"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 421, "favorite_count": 0, "accepted_answer_id": 37387498, "answer_count": 1, "score": 3, "last_activity_date": 1463998315, "creation_date": 1463995960, "last_edit_date": 1463997487, "question_id": 37387420, "link": "https://stackoverflow.com/questions/37387420/double-hash-values-in-perl", "title": "Double hash values in Perl", "body": "<p>When using hashes, Perl has the very handy <code>values</code> keyword to handle only the values of the hash.  </p>\n\n<p>Say I have a double hash, i.e. something created like this:</p>\n\n<pre><code>my %dh = map { {$_-&gt;{id1}}{$_-&gt;{id2}} =&gt; $_ } @arr;\n</code></pre>\n\n<p>Then <code>values %dh</code> returns an array of hashes. To access the values I would need something like this:</p>\n\n<pre><code>for my $key1 (keys %dh) {\n    for my $val (values %{ $dh{$key1} }) {\n        # stuff...\n    }\n}\n</code></pre>\n\n<p>Is there a better way to do this, avoiding <code>for</code> cycles? Something like <code>values %{ values %dh }</code>.  </p>\n\n<p>Also, sorry for the poor syntax, I'm quite new to Perl.</p>\n"}, {"tags": ["arrays", "perl", "parsing", "hashtable"], "comments": [{"owner": {"reputation": 53041, "user_id": 4653379, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/b3953dbedd0dabff5cbc3db9b0835b14?s=128&d=identicon&r=PG&f=1", "display_name": "zdim", "link": "https://stackoverflow.com/users/4653379/zdim"}, "edited": false, "score": 0, "creation_date": 1463989052, "post_id": 37384583, "comment_id": 62280336, "body": "I am a little uncertain as to what you are trying to change/update? The <code>%\\@{...}</code> is not valid syntax -- you can either dereference an array, <code>@{$arrayref}</code>, or a hash, <code>%{$hashref}</code>.  What is the &quot;dump&quot; you are showing?  What is shown is: (1) a hashref, so you&#39;d retrieve values by <code>$href-&gt;{key}</code>, (2) the values are formally objects, since <code>bless</code> returns an object.  Can you clarify this a bit?"}, {"owner": {"reputation": 856, "user_id": 1155131, "user_type": "registered", "accept_rate": 93, "profile_image": "https://www.gravatar.com/avatar/5b90b59acf781a17e6fd5aaa2acf4742?s=128&d=identicon&r=PG", "display_name": "CREW", "link": "https://stackoverflow.com/users/1155131/crew"}, "reply_to_user": {"reputation": 53041, "user_id": 4653379, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/b3953dbedd0dabff5cbc3db9b0835b14?s=128&d=identicon&r=PG&f=1", "display_name": "zdim", "link": "https://stackoverflow.com/users/4653379/zdim"}, "edited": false, "score": 0, "creation_date": 1463992403, "post_id": 37384583, "comment_id": 62282200, "body": "google changed their search function on their api to one universal search call instead of a separate subscription and regular user function. It was supposed to only be a naming change, so unsure if there was already a bug in this existing Perl code or they return their data differently"}, {"owner": {"reputation": 53041, "user_id": 4653379, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/b3953dbedd0dabff5cbc3db9b0835b14?s=128&d=identicon&r=PG&f=1", "display_name": "zdim", "link": "https://stackoverflow.com/users/4653379/zdim"}, "edited": false, "score": 0, "creation_date": 1463993045, "post_id": 37384583, "comment_id": 62282575, "body": "Ah, yes they&#39;ll do that.  So the old code is broken now -- the code under <code># How it was originally</code> (for <code>album_hits</code>) isn&#39;t working? If it cannot find a method , (when you changed it to hash)  that may be due to python&#39;s <code>object</code>, which may build on top of Python&#39;s builtins (as I understand) and may not be well understood (bound) by <code>Inline</code>."}], "answers": [{"tags": [], "owner": {"reputation": 308, "user_id": 1986828, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/96txi.jpg?s=128&g=1", "display_name": "Amias", "link": "https://stackoverflow.com/users/1986828/amias"}, "is_accepted": false, "score": 1, "last_activity_date": 1463988362, "creation_date": 1463988362, "answer_id": 37384936, "question_id": 37384583, "link": "https://stackoverflow.com/questions/37384583/not-an-array-reference-when-trying-to-trying-to-update-old-perl-code-hash-to-ar/37384936#37384936", "title": "Not an ARRAY reference when trying to trying to update old Perl code. Hash to Array issue?", "body": "<p>If you use Data::Dumper to print out those data structures you will soon see what form they are in.Then you won't have to guess. Also don't mistake the object oriented calling style with hash access. , they are they same because that's how Perl5 objects are made.</p>\n\n<pre><code>use data::dumper;\nprint \"variable is :\" + Dumper(@variable)\n</code></pre>\n"}, {"comments": [{"owner": {"reputation": 53041, "user_id": 4653379, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/b3953dbedd0dabff5cbc3db9b0835b14?s=128&d=identicon&r=PG&f=1", "display_name": "zdim", "link": "https://stackoverflow.com/users/4653379/zdim"}, "edited": false, "score": 0, "creation_date": 1463990907, "post_id": 37385416, "comment_id": 62281424, "body": "Does this mean that <code>overload</code> will force it to a hashref?  I thought that &quot;<i>How it was ...</i>&quot; is (presumably) correct, so <code>@{$googleResult-&gt;{album_hits}}</code> indicates that data is in arrayref."}, {"owner": {"reputation": 856, "user_id": 1155131, "user_type": "registered", "accept_rate": 93, "profile_image": "https://www.gravatar.com/avatar/5b90b59acf781a17e6fd5aaa2acf4742?s=128&d=identicon&r=PG", "display_name": "CREW", "link": "https://stackoverflow.com/users/1155131/crew"}, "edited": false, "score": 0, "creation_date": 1463991874, "post_id": 37385416, "comment_id": 62281897, "body": "thanks simbaque, I think I accidentally tried this earlier after all! I remember this error, so I thought I did it incorrect. You explained it perfectly.  I get now [16-05-23 10:22:36.7283] Slim::Networking::IO::Select::__ANON__ (131) Error: Select task failed calling Slim::Web::HTTP::processHTTP: Can&#39;t locate object method &quot;FIRSTKEY&quot; via package &quot;Inline::Python::Object::Data&quot; at /usr/lib/arm-linux-gnueabihf/perl/5.20/Data/Dumper.pm line 224. ; fh=Slim::Web::HTTP::ClientConn=GLOB(0x1007a188).   Any ideas as to if it means first &#39;key&#39; in a hash?"}, {"owner": {"reputation": 50468, "user_id": 1331451, "user_type": "registered", "accept_rate": 96, "profile_image": "https://i.stack.imgur.com/4ZPmj.png?s=128&g=1", "display_name": "simbabque", "link": "https://stackoverflow.com/users/1331451/simbabque"}, "edited": false, "score": 0, "creation_date": 1463992276, "post_id": 37385416, "comment_id": 62282121, "body": "No, it means that method isn&#39;t found. The is an autoload there. That&#39;s strange."}, {"owner": {"reputation": 87649, "user_id": 17389, "user_type": "registered", "accept_rate": 38, "profile_image": "https://www.gravatar.com/avatar/cd06d1314817ce946ab796af8750b56a?s=128&d=identicon&r=PG", "display_name": "ysth", "link": "https://stackoverflow.com/users/17389/ysth"}, "edited": false, "score": 2, "creation_date": 1463993375, "post_id": 37385416, "comment_id": 62282806, "body": "Looks like Inline::Python::Object::Data only provides a limited hash interface.  It will let you look up the value for a given key or set it but not find out what the available keys are."}, {"owner": {"reputation": 53041, "user_id": 4653379, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/b3953dbedd0dabff5cbc3db9b0835b14?s=128&d=identicon&r=PG&f=1", "display_name": "zdim", "link": "https://stackoverflow.com/users/4653379/zdim"}, "edited": false, "score": 0, "creation_date": 1463993499, "post_id": 37385416, "comment_id": 62282873, "body": "From what I understand Python&#39;s <code>object</code> allows one to build on top of builtins, creating trouble for <code>Inline</code> to bind things correctly.  Perhaps using Inline&#39;s <code>bind</code> explicitly may help."}, {"owner": {"reputation": 50468, "user_id": 1331451, "user_type": "registered", "accept_rate": 96, "profile_image": "https://i.stack.imgur.com/4ZPmj.png?s=128&g=1", "display_name": "simbabque", "link": "https://stackoverflow.com/users/1331451/simbabque"}, "reply_to_user": {"reputation": 856, "user_id": 1155131, "user_type": "registered", "accept_rate": 93, "profile_image": "https://www.gravatar.com/avatar/5b90b59acf781a17e6fd5aaa2acf4742?s=128&d=identicon&r=PG", "display_name": "CREW", "link": "https://stackoverflow.com/users/1155131/crew"}, "edited": false, "score": 0, "creation_date": 1463994243, "post_id": 37385416, "comment_id": 62283322, "body": "I think we would need a working example to debug this further. Only reading code and speculating is not going to get us anywhere. @CREW, can you provide a <a href=\"https://stackoverflow.com/help/minimal-reproducible-example\">minimal reproducible example</a>? This is the Play Music API, right? I have a subscription myself and can try to debug if you give me something I can run."}], "tags": [], "owner": {"reputation": 50468, "user_id": 1331451, "user_type": "registered", "accept_rate": 96, "profile_image": "https://i.stack.imgur.com/4ZPmj.png?s=128&g=1", "display_name": "simbabque", "link": "https://stackoverflow.com/users/1331451/simbabque"}, "is_accepted": true, "score": 2, "last_activity_date": 1463989774, "creation_date": 1463989774, "answer_id": 37385416, "question_id": 37384583, "link": "https://stackoverflow.com/questions/37384583/not-an-array-reference-when-trying-to-trying-to-update-old-perl-code-hash-to-ar/37385416#37385416", "title": "Not an ARRAY reference when trying to trying to update old Perl code. Hash to Array issue?", "body": "<p>These objects seem to be abstracted away. You can read the <a href=\"https://metacpan.org/pod/distribution/Inline-Python/Python.pod\" rel=\"nofollow\">Inline::Python</a> documentation, but there's nothing about it. In the <a href=\"https://metacpan.org/source/NINE/Inline-Python-0.49/Python.pm#L311\" rel=\"nofollow\">code for the Inline::Python::Object</a> however, there is a hint.</p>\n\n<p>Two lines down, there is this (omission mine).</p>\n\n<blockquote>\n<pre><code>use overload '%{}' =&gt; \\&amp;__data__, # [...]\n</code></pre>\n</blockquote>\n\n<p>If it has <a href=\"http://perldoc.perl.org/overload.html\" rel=\"nofollow\">an overload</a> for when it's used with a hash dereference we can be pretty sure it will return a hash ref in that case.</p>\n\n<p>Now all we need to do is fix your syntax error that you introduced. You did <code>%@{}</code>, which is not valid syntax. Instead of the array deref <code>@{}</code>, you need <code>%{}</code>.</p>\n\n<pre><code>for my $hit (%{ $googleResult-&gt;{song_hits} }) {\n        push @{$result-&gt;{tracks}}, to_slim_track($hit-&gt;{track});\n}\n</code></pre>\n\n<p>But because hashes in Perl are essentially lists, you will now iterate over both the keys and the values. That's hardly ever a good idea. Instead, you should <a href=\"http://perldoc.perl.org/functions/keys.html\" rel=\"nofollow\">iterate over the <code>keys</code></a>, and then work with that. Or more likely, there is only one key in each of them that you are interested in. If there is an API description, I suggest you check it. It might be helpful here.</p>\n\n<p>If not, <code>Dumper</code> it like this.</p>\n\n<pre><code>print Dumper \\%{ $googleResult-&gt;{song_hits} };\n</code></pre>\n\n<p>That dereferences it first, making sure that overload is called. Because Data::Dumper doesn't understand lists as data structures, you are passing it a reference to the returned hash, so you get <code>$VAR1={}</code> instead of <code>$VAR1='foo'; $VAR2='bar'</code> and so on.</p>\n"}, {"tags": [], "owner": {"reputation": 53041, "user_id": 4653379, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/b3953dbedd0dabff5cbc3db9b0835b14?s=128&d=identicon&r=PG&f=1", "display_name": "zdim", "link": "https://stackoverflow.com/users/4653379/zdim"}, "is_accepted": false, "score": 1, "last_activity_date": 1464294397, "last_edit_date": 1464294397, "creation_date": 1463990386, "answer_id": 37385609, "question_id": 37384583, "link": "https://stackoverflow.com/questions/37384583/not-an-array-reference-when-trying-to-trying-to-update-old-perl-code-hash-to-ar/37385609#37385609", "title": "Not an ARRAY reference when trying to trying to update old Perl code. Hash to Array issue?", "body": "<p>I don't see what is the intended \"<em>update</em>\", what needs to be changed. But here are a few comments.</p>\n\n<p>First: the syntax is invalid -- one cannot have <code>%@{...}</code>. You can <em>dereference</em> a reference to either a hash, <code>%{$hashref}</code>, or to an array, <code>@{$arrayref}</code> (or to scalar, <code>$$scalarref</code>).</p>\n\n<hr>\n\n<p>Your data structure is interesting.  First, it is a hash reference. (Or, rather, an <em>anonymous hash</em>.)  You can either dereference it altogether to create a hash, or can pull values for specific keys as</p>\n\n<pre><code>my $href = { 'k1' =&gt; 'val1', 'k2' =&gt; 'val2' };\nmy $value_of_k1_key = $href-&gt;{'k1'};            # will be == val1\n</code></pre>\n\n<p>Next, the 'value' in your code is formally an object. The <code>bless</code> function associates a reference to a data structure (usually a hashref) with a class, making it an object of that class (which it returns).</p>\n\n<p>So you really have</p>\n\n<pre><code>$href = { 'station_hits' =&gt; $object, ... }\n</code></pre>\n\n<p>After you query (any of) the keys, you are getting back that object.</p>\n\n<pre><code>$object = $googleResult-&gt;{song_hits}\n</code></pre>\n\n<p>According to code shown under \"<em># How it was originally</em>\" (which I presume works), the object's data structure is a reference to an array, not a hash, since it dereferences an array. That's OK.  The odd part is that it dereferences it directly, seeking its data/attributes. In terminology of some other languages, it is accessing (presumably) private members.  In Perl that is legal and will retrieve a value but it is generally considered as bad as if it were banned.</p>\n"}], "owner": {"reputation": 856, "user_id": 1155131, "user_type": "registered", "accept_rate": 93, "profile_image": "https://www.gravatar.com/avatar/5b90b59acf781a17e6fd5aaa2acf4742?s=128&d=identicon&r=PG", "display_name": "CREW", "link": "https://stackoverflow.com/users/1155131/crew"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 426, "favorite_count": 0, "accepted_answer_id": 37385416, "answer_count": 3, "score": 1, "last_activity_date": 1464294397, "creation_date": 1463987175, "last_edit_date": 1463992454, "question_id": 37384583, "link": "https://stackoverflow.com/questions/37384583/not-an-array-reference-when-trying-to-trying-to-update-old-perl-code-hash-to-ar", "title": "Not an ARRAY reference when trying to trying to update old Perl code. Hash to Array issue?", "body": "<p>I am trying to update an outdated perl plugin to Google's new API (They changed their search call). I'm new to Perl so I'm not sure how to correctly update the code. I'm pretty sure I'm trying to read a hash when it's supposed to be an array?</p>\n\n<p>Data Structure Dumped:</p>\n\n<pre><code>$VAR1 = {\n          'station_hits' =&gt; bless( do{\\(my $o = 1726698624)}, 'Inline::Python::Object' ),\n          'album_hits' =&gt; bless( do{\\(my $o = 1726698288)}, 'Inline::Python::Object' ),\n          'artist_hits' =&gt; bless( do{\\(my $o = 1726698336)}, 'Inline::Python::Object' ),\n          'situation_hits' =&gt; bless( do{\\(my $o = 1726698384)}, 'Inline::Python::Object' ),\n          'song_hits' =&gt; bless( do{\\(my $o = 1726698432)}, 'Inline::Python::Object' ),\n          'playlist_hits' =&gt; bless( do{\\(my $o = 1726698480)}, 'Inline::Python::Object' ),\n          'video_hits' =&gt; bless( do{\\(my $o = 1726698528)}, 'Inline::Python::Object' )\n        };\n</code></pre>\n\n<p>Code Block:</p>\n\n<pre><code># Search All Access\nsub search {\n        my $query = shift;\n\n        return unless $prefs-&gt;get('all_access_enabled');\n\n        my $uri = 'googlemusic:search:' . $query;\n\n        if (my $result = $cache-&gt;get($uri)) {\n                return $result;\n        }\n\n        my $googleResult;\n        my $result = {\n                tracks =&gt; [],\n                albums =&gt; [],\n                artists =&gt; [],\n        };\n\n        eval {\n                $googleResult = $googleapi-&gt;search($query, $prefs-&gt;get('max_search_items'));\n        };\n\n        if ($@) {\n                $log-&gt;error(\"Not able to search All Access for \\\"$query\\\": $@\");\n                return;\n        }\n        #My Attempt\n        for my $hit (%@{$googleResult-&gt;{song_hits}}) {\n                push @{$result-&gt;{tracks}}, to_slim_track($hit-&gt;{track});\n        }\n        #How it was originally\n        for my $hit (@{$googleResult-&gt;{album_hits}}) {\n                push @{$result-&gt;{albums}}, album_to_slim_album($hit-&gt;{album});\n        }\n</code></pre>\n\n<p>I'm getting this error after making only a name change:</p>\n\n<p>Not an ARRAY reference at [LINE#]</p>\n\n<p>Changed <strong>search_all_access</strong> to <strong>search</strong></p>\n\n<p>Line in question:</p>\n\n<pre><code>for my $hit (@{$googleResult-&gt;{song_hits}}) {\n</code></pre>\n\n<p>I tried researching and <strong>added a % in front</strong>, but now I am getting an error on the following line.</p>\n\n<p>'newlist' object has no attribute 'track' at [LINE#+1]</p>\n\n<pre><code> push @{$result-&gt;{tracks}}, to_slim_track($hit-&gt;{track});\n</code></pre>\n\n<p>EDIT: \nAfter making the changes after explaining well how referencing a hash is supposed to work, I get this:</p>\n\n<pre><code> [16-05-23 10:22:36.7283] Slim::Networking::IO::Select::__ANON__ (131) Error: Select task failed calling Slim::Web::HTTP::processHTTP: Can't locate object method \"FIRSTKEY\" via package \"Inline::Python::Object::Data\" at /usr/lib/arm-linux-gnueabihf/perl/5.20/Data/Dumper.pm line 224.\n; fh=Slim::Web::HTTP::ClientConn=GLOB(0x1007a188)\n</code></pre>\n\n<p>I'm not sure if there was an existing error in their code or that Google is returning the API data in a different structure after this latest error.</p>\n"}, {"tags": ["windows", "perl", "object", "process", "parallel-processing"], "comments": [{"owner": {"reputation": 5426, "user_id": 4887423, "user_type": "registered", "accept_rate": 100, "profile_image": "https://i.stack.imgur.com/yW2L2.jpg?s=128&g=1", "display_name": "Willie Cheng", "link": "https://stackoverflow.com/users/4887423/willie-cheng"}, "edited": false, "score": 1, "creation_date": 1463986773, "post_id": 37384289, "comment_id": 62279112, "body": "please check this <a href=\"http://stackoverflow.com/help\">URL</a> it will be handy to lift your content quality up"}, {"owner": {"reputation": 4173, "user_id": 4450651, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/l6IMB.jpg?s=128&g=1", "display_name": "red0ct", "link": "https://stackoverflow.com/users/4450651/red0ct"}, "edited": false, "score": 0, "creation_date": 1463986887, "post_id": 37384289, "comment_id": 62279186, "body": "Read <a href=\"http://www.perlmonks.org/bare/?node=perlman%3Aperlipc\" rel=\"nofollow noreferrer\">perlipc</a>"}], "answers": [{"comments": [{"owner": {"reputation": 51521, "user_id": 2566198, "user_type": "registered", "accept_rate": 67, "profile_image": "https://i.stack.imgur.com/Y34ZA.jpg?s=128&g=1", "display_name": "Sobrique", "link": "https://stackoverflow.com/users/2566198/sobrique"}, "edited": false, "score": 2, "creation_date": 1463991264, "post_id": 37384489, "comment_id": 62281587, "body": "Perl also has <code>Storable</code> which allows object serialisation. This isn&#39;t portable, but is at least part of the core distribution (where <code>JSON</code> isn&#39;t)."}, {"owner": {"reputation": 123805, "user_id": 622310, "user_type": "registered", "accept_rate": 33, "profile_image": "https://www.gravatar.com/avatar/8b6d35219e1808520bc238b28161e2e6?s=128&d=identicon&r=PG", "display_name": "Borodin", "link": "https://stackoverflow.com/users/622310/borodin"}, "edited": false, "score": 0, "creation_date": 1463998797, "post_id": 37384489, "comment_id": 62286255, "body": "I have never been able to get <code>Win32::MMF</code> to install properly. It builds fine, but perl crashes several times trying to execute the tests. I&#39;ve used various Strawberry and ActiveState builds of perl and got the same result every time"}], "tags": [], "owner": {"reputation": 2298, "user_id": 1147230, "user_type": "registered", "accept_rate": 80, "profile_image": "https://www.gravatar.com/avatar/fe33f45c5990a98cfcb1388581de07af?s=128&d=identicon&r=PG", "display_name": "Sebastian", "link": "https://stackoverflow.com/users/1147230/sebastian"}, "is_accepted": false, "score": 3, "last_activity_date": 1464013317, "last_edit_date": 1464013317, "creation_date": 1463986876, "answer_id": 37384489, "question_id": 37384289, "link": "https://stackoverflow.com/questions/37384289/is-there-any-way-to-share-the-object-between-two-different-process-in-perl-on-wi/37384489#37384489", "title": "Is there any way to share the object between two different process in perl on windows environment?", "body": "<p>The answer depends on what you want to do and which object is affected. Improve your question with more details to get a more specific answer.</p>\n\n<p>You could dump your object using <a href=\"https://metacpan.org/pod/Data::Dumper\" rel=\"nofollow\"><code>Data::Dumper</code></a> or <a href=\"https://metacpan.org/pod/JSON\" rel=\"nofollow\"><code>JSON</code></a> (or many other formats, but those are the most common) in one process, transmit it to the other process (via disk, database, memcache, network, IPC) and recreate the object in the second process. This one will work for all objects without external dependencies (like database connections, open files, etc.). Try to avoid doing it for non-selfmade modules and be careful when doing it with your own modules.</p>\n\n<p>You could also use shared memory (for example <a href=\"https://metacpan.org/pod/Win32::MMF\" rel=\"nofollow\"><code>Win32::MMF</code></a>, but never tried it myself) while writing your own modules, but remember that shared memory is (very) slow, at least on Linux.</p>\n"}], "owner": {"reputation": 1, "user_id": 6369809, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/9cb639292b337e57383d654866ff43e0?s=128&d=identicon&r=PG&f=1", "display_name": "Jayesh", "link": "https://stackoverflow.com/users/6369809/jayesh"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 75, "favorite_count": 0, "answer_count": 1, "score": -1, "last_activity_date": 1464013317, "creation_date": 1463986200, "question_id": 37384289, "link": "https://stackoverflow.com/questions/37384289/is-there-any-way-to-share-the-object-between-two-different-process-in-perl-on-wi", "title": "Is there any way to share the object between two different process in perl on windows environment?", "body": "<p>I am trying to execute two parallel different perl script on Windows.I am create one object in first script. And I want to use that object in another process.</p>\n"}, {"tags": ["perl", "tk"], "answers": [{"tags": [], "owner": {"reputation": 15560, "user_id": 709439, "user_type": "registered", "accept_rate": 92, "profile_image": "https://www.gravatar.com/avatar/19b5c7e6c2772d88adcbd928daddc170?s=128&d=identicon&r=PG", "display_name": "MarcoS", "link": "https://stackoverflow.com/users/709439/marcos"}, "is_accepted": false, "score": 5, "last_activity_date": 1463989385, "creation_date": 1463989385, "answer_id": 37385292, "question_id": 37384105, "link": "https://stackoverflow.com/questions/37384105/running-a-repetitive-task-with-tk-in-perl/37385292#37385292", "title": "Running a repetitive task with tk in perl", "body": "<p>See <a href=\"http://search.cpan.org/dist/Tk/pod/after.pod\">Tk::after</a>.</p>\n\n<p>For example, to repeat <code>push_button()</code> execution every 30 seconds:</p>\n\n<pre><code>$id = $widget-&gt;repeat(30 * 1000, \\&amp;push_button);\n</code></pre>\n"}], "owner": {"reputation": 41, "user_id": 5388037, "user_type": "registered", "profile_image": "https://lh4.googleusercontent.com/-_VQ_DKGQ5ok/AAAAAAAAAAI/AAAAAAAAClY/f_MAR_-xBWM/photo.jpg?sz=128", "display_name": "Srinivas N.C.", "link": "https://stackoverflow.com/users/5388037/srinivas-n-c"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 130, "favorite_count": 0, "answer_count": 1, "score": 2, "last_activity_date": 1463989385, "creation_date": 1463985492, "last_edit_date": 1463988756, "question_id": 37384105, "link": "https://stackoverflow.com/questions/37384105/running-a-repetitive-task-with-tk-in-perl", "title": "Running a repetitive task with tk in perl", "body": "<p>I have task that needs to be continuously performed through gui in perl.</p>\n\n<p>The setup consists of a text field, a button and text area. When the button is pressed, the values in the text field are used by a system command to run repeatedly and the output displayed in the text area. </p>\n\n<p>For example consider the following code:\nuse Tk;</p>\n\n<pre><code># Main Window\nmy $mw = new MainWindow;\n\n#GUI Building Area\nmy $frm_name = $mw -&gt; Frame();\nmy $lab = $frm_name -&gt; Label(-text=&gt;\"Command\");\nmy $ent = $frm_name -&gt; Entry();\n\n#Button and command\nmy $ent = $mw -&gt; Entry() -&gt; pack();\n\nmy $but = $mw -&gt; Button(-text=&gt;\"Run Command\", -command =&gt;\\&amp;push_button) -&gt; pack();\n\n#Text Area\nmy $textarea = $mw -&gt; Frame();\nmy $txt = $textarea -&gt; Text(-width=&gt;40, -height=&gt;10) -&gt; pack();\n\n#Geometry Management\n$lab -&gt; grid(-row=&gt;1,-column=&gt;1);\n$ent -&gt; grid(-row=&gt;2,-column=&gt;1);\n$frm_name -&gt; grid(-row=&gt;1,-column=&gt;1,-rowspan=&gt;2);\n\n\n$but -&gt; grid(-row=&gt;1,-column=&gt;1,-columnspan=&gt;1);\n\n$txt -&gt; grid(-row=&gt;1,-column=&gt;1);\n$textarea -&gt; grid(-row=&gt;5,-column=&gt;1,-columnspan=&gt;2);\n\nMainLoop;\n\n\n## Functions\n#This function will be executed when the button is pushed\n\nsub push_button {\n    my $name = $ent -&gt; get();\n    @out = qx($name);\n    $txt -&gt; insert('end', @out);\n}\n</code></pre>\n\n<p>Now, what I want to do, is make it so that the push_button() sub runs every 30 s or so and prints the output in the text field. </p>\n\n<p>I have looked into the repeat() function but was unable to run it properly. Any help will be appreciated. Thanks.</p>\n"}, {"tags": ["perl"], "comments": [{"owner": {"reputation": 658, "user_id": 5543203, "user_type": "registered", "accept_rate": 67, "profile_image": "https://i.stack.imgur.com/bdYF4.png?s=128&g=1", "display_name": "Henrik supports the community", "link": "https://stackoverflow.com/users/5543203/henrik-supports-the-community"}, "edited": false, "score": 1, "creation_date": 1463985805, "post_id": 37383898, "comment_id": 62278628, "body": "I don&#39;t get that error when running your code. Please supply a minimal example that actually produces the error."}, {"owner": {"reputation": 2324, "user_id": 5334131, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/JU6Bo.jpg?s=128&g=1", "display_name": "Hellmar Becker", "link": "https://stackoverflow.com/users/5334131/hellmar-becker"}, "edited": false, "score": 1, "creation_date": 1463986914, "post_id": 37383898, "comment_id": 62279197, "body": "Try adding an end-line after the EOF."}], "answers": [{"comments": [{"owner": {"reputation": 3946, "user_id": 65706, "user_type": "registered", "accept_rate": 93, "profile_image": "https://www.gravatar.com/avatar/6e0652a12b8a5b2577f91f0e192ea3f9?s=128&d=identicon&r=PG", "display_name": "Yordan Georgiev", "link": "https://stackoverflow.com/users/65706/yordan-georgiev"}, "edited": false, "score": 1, "creation_date": 1595789973, "post_id": 37384213, "comment_id": 111589364, "body": "<code>with no spaces around it</code> and not like in bash with <code>no space in front of it </code>"}], "tags": [], "owner": {"reputation": 2298, "user_id": 1147230, "user_type": "registered", "accept_rate": 80, "profile_image": "https://www.gravatar.com/avatar/fe33f45c5990a98cfcb1388581de07af?s=128&d=identicon&r=PG", "display_name": "Sebastian", "link": "https://stackoverflow.com/users/1147230/sebastian"}, "is_accepted": true, "score": 2, "last_activity_date": 1463985908, "creation_date": 1463985908, "answer_id": 37384213, "question_id": 37383898, "link": "https://stackoverflow.com/questions/37383898/getting-error-in-perl-cant-find-string-terminator-eof-anywhere-before-eof-at/37384213#37384213", "title": "Getting error in perl Can&#39;t find string terminator &quot;EOF&quot; anywhere before EOF at /var/www/sandeep/testeof.cgi line 2", "body": "<p>Your code is correct.</p>\n\n<p>Ensure that your EOF is on a single line with no spaces around it.</p>\n\n<p>Use quotes to designate your terminator:</p>\n\n<pre><code>print &lt;&lt;_EOF_;\nhi $$\n_EOF_\n\nprint &lt;&lt;\"_EOF_\";\nhi $$\n_EOF_\n</code></pre>\n\n<p>Both are exactly the same (print <code>hi 12345</code> where 12345 is the process id of the current process), but the second one is more clear compared to single quotes:</p>\n\n<pre><code>print &lt;&lt;'_EOF_';\nhi $$\n_EOF_\n</code></pre>\n\n<p>This one will print <code>hi $$</code>, because no variable replacing is done with singles quotes.</p>\n\n<p>Web-script always require a header (at least for Apache). Add this line as the first output line to get rid of the <code>malformed header from script</code> error:</p>\n\n<pre><code>print \"Content-type: text/html\\r\\n\\r\\n\";\n</code></pre>\n"}], "owner": {"reputation": 1464, "user_id": 3603374, "user_type": "registered", "accept_rate": 92, "profile_image": "https://i.stack.imgur.com/MRRo6.gif?s=128&g=1", "display_name": "Sandeep", "link": "https://stackoverflow.com/users/3603374/sandeep"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 3022, "favorite_count": 0, "accepted_answer_id": 37384213, "answer_count": 1, "score": 1, "last_activity_date": 1463985908, "creation_date": 1463984733, "last_edit_date": 1495540376, "question_id": 37383898, "link": "https://stackoverflow.com/questions/37383898/getting-error-in-perl-cant-find-string-terminator-eof-anywhere-before-eof-at", "title": "Getting error in perl Can&#39;t find string terminator &quot;EOF&quot; anywhere before EOF at /var/www/sandeep/testeof.cgi line 2", "body": "<p>iam using perl to print some data but it is giving me error as <em>Can't find string terminator \"EOF\" anywhere before EOF at</em></p>\n\n<p><strong>The code is:</strong></p>\n\n<pre><code>#!/usr/local/bin/perl -w\nprint &lt;&lt;EOF;\nhello\nEOF\n</code></pre>\n\n<p><strong>ERROR:</strong></p>\n\n<blockquote>\n  <p>[Mon May 23 11:32:12 2016] [error] [client 192.168.10.117] Directory index forbidden by Options directive: /var/www/, referer: <a href=\"http://192.168.10.100/\" rel=\"nofollow noreferrer\">http://192.168.10.100/</a>\n  [Mon May 23 11:32:12 2016] [error] [client 192.168.10.117] malformed header from script. Bad header=hello: testeof.cgi\n  [Mon May 23 11:32:18 2016] [error] [client 192.168.10.117] Directory index forbidden by Options directive: /var/www/, referer: <a href=\"http://192.168.10.100/\" rel=\"nofollow noreferrer\">http://192.168.10.100/</a>\n  [Mon May 23 11:32:18 2016] [error] [client 192.168.10.117] Can't find string terminator \"EOF\" anywhere before EOF at /var/www/sandeep/testeof.cgi line 2.\n  [Mon May 23 11:32:18 2016] [error] [client 192.168.10.117] Premature end of script headers: testeof.cgi</p>\n</blockquote>\n\n<p>I tried putting EOF in single quotes (print &lt;&lt;'EOF';) as shown in <a href=\"https://stackoverflow.com/a/4108672/3603374\">this answer</a>, but the error is same. Printing by this method is working in otherr files in the same directory.<br>\nI also referred <a href=\"https://stackoverflow.com/q/7761057/3603374\">this question (Why am I getting \u201cCan't find string terminator \u201d'\u201c anywhere before EOF at -e line 1\u201d when I try to run a Perl one-liner on Windows?)</a> but in that question OP is using different method to print and iam using linux(UBUNTU).  </p>\n\n<p>Please guide where I am doing wrong?</p>\n"}, {"tags": ["bash", "perl"], "answers": [{"comments": [{"owner": {"reputation": 40086, "user_id": 499581, "user_type": "registered", "accept_rate": 92, "profile_image": "https://www.gravatar.com/avatar/1ba2cebc4582467916f2ddd6128447f4?s=128&d=identicon&r=PG", "display_name": "l&#39;L&#39;l", "link": "https://stackoverflow.com/users/499581/lll"}, "edited": false, "score": 0, "creation_date": 1463966487, "post_id": 37381334, "comment_id": 62273619, "body": "It&#39;s unclear if it is or isn&#39;t what you want; exporting bash history without the [num] though seems a bit useless."}, {"owner": {"reputation": 575, "user_id": 3926114, "user_type": "registered", "accept_rate": 69, "profile_image": "https://www.gravatar.com/avatar/e0b5c8500685037356c38c073941b0c9?s=128&d=identicon&r=PG&f=1", "display_name": "user53029", "link": "https://stackoverflow.com/users/3926114/user53029"}, "edited": false, "score": 0, "creation_date": 1463967980, "post_id": 37381334, "comment_id": 62273921, "body": "I will look into your suggestion. However I&#39;d like to get this to work using the perl script. I have narrowed the problem down to &quot;PROMPT_COMMAND&quot; line, however when I comment that out in .bash_profile the formatting does not run on the file."}, {"owner": {"reputation": 575, "user_id": 3926114, "user_type": "registered", "accept_rate": 69, "profile_image": "https://www.gravatar.com/avatar/e0b5c8500685037356c38c073941b0c9?s=128&d=identicon&r=PG&f=1", "display_name": "user53029", "link": "https://stackoverflow.com/users/3926114/user53029"}, "edited": false, "score": 0, "creation_date": 1463969096, "post_id": 37381334, "comment_id": 62274163, "body": "I am trying your suggestion however when you say &quot;Then to use&quot; run exphtd do you do that one time at the command line after your source the file or will you have to do that each time you log in?"}, {"owner": {"reputation": 40086, "user_id": 499581, "user_type": "registered", "accept_rate": 92, "profile_image": "https://www.gravatar.com/avatar/1ba2cebc4582467916f2ddd6128447f4?s=128&d=identicon&r=PG", "display_name": "l&#39;L&#39;l", "link": "https://stackoverflow.com/users/499581/lll"}, "reply_to_user": {"reputation": 575, "user_id": 3926114, "user_type": "registered", "accept_rate": 69, "profile_image": "https://www.gravatar.com/avatar/e0b5c8500685037356c38c073941b0c9?s=128&d=identicon&r=PG&f=1", "display_name": "user53029", "link": "https://stackoverflow.com/users/3926114/user53029"}, "edited": false, "score": 0, "creation_date": 1463970712, "post_id": 37381334, "comment_id": 62274477, "body": "I think the <code>$PROMPT_COMMAND</code> at the end of <code>history -a;format_history;$PROMPT_COMMAND</code> might be causing your issue; try removing it (sorry I&#39;m not able to test it atm, since I&#39;m not around my machine). If the perl line in your function is just converting the date you could simply do <code>HISTTIMEFORMAT=&#39;%c &#39;</code>  instead, as it should convert  time/date to &quot;national representation&quot; format."}, {"owner": {"reputation": 40086, "user_id": 499581, "user_type": "registered", "accept_rate": 92, "profile_image": "https://www.gravatar.com/avatar/1ba2cebc4582467916f2ddd6128447f4?s=128&d=identicon&r=PG", "display_name": "l&#39;L&#39;l", "link": "https://stackoverflow.com/users/499581/lll"}, "reply_to_user": {"reputation": 575, "user_id": 3926114, "user_type": "registered", "accept_rate": 69, "profile_image": "https://www.gravatar.com/avatar/e0b5c8500685037356c38c073941b0c9?s=128&d=identicon&r=PG&f=1", "display_name": "user53029", "link": "https://stackoverflow.com/users/3926114/user53029"}, "edited": false, "score": 0, "creation_date": 1463971174, "post_id": 37381334, "comment_id": 62274566, "body": "Regarding your question about &quot;then to use&quot;; <code>exphtd</code> calls the function (like your <code>format_history</code>, I just have it named something else). I&#39;m still not entirely clear on what the exact format you want actually is."}, {"owner": {"reputation": 575, "user_id": 3926114, "user_type": "registered", "accept_rate": 69, "profile_image": "https://www.gravatar.com/avatar/e0b5c8500685037356c38c073941b0c9?s=128&d=identicon&r=PG&f=1", "display_name": "user53029", "link": "https://stackoverflow.com/users/3926114/user53029"}, "edited": false, "score": 0, "creation_date": 1464020670, "post_id": 37381334, "comment_id": 62300678, "body": "I have tried your suggestion and it works, but not without some quirks. First of all, I have to use the absolute path and filename in the redirect, It does not work when I use the &quot;who -m&quot; variable. Second, each time I log out and log back in the history from the last session gets re-apppended over the existing and I get duplicates on each line. Each login/logout appends another timestamp to the same line. Third, if one was to issue a history -c, it would wipe out the history file as well."}, {"owner": {"reputation": 40086, "user_id": 499581, "user_type": "registered", "accept_rate": 92, "profile_image": "https://www.gravatar.com/avatar/1ba2cebc4582467916f2ddd6128447f4?s=128&d=identicon&r=PG", "display_name": "l&#39;L&#39;l", "link": "https://stackoverflow.com/users/499581/lll"}, "reply_to_user": {"reputation": 575, "user_id": 3926114, "user_type": "registered", "accept_rate": 69, "profile_image": "https://www.gravatar.com/avatar/e0b5c8500685037356c38c073941b0c9?s=128&d=identicon&r=PG&f=1", "display_name": "user53029", "link": "https://stackoverflow.com/users/3926114/user53029"}, "edited": false, "score": 0, "creation_date": 1464035442, "post_id": 37381334, "comment_id": 62308570, "body": "I don&#39;t recall mentioning history -c. The way I use my example is by placing the function in ~/.bash_profile; I&#39;ve never had any of the issues you explained. Whenever I want to get the formatted bash_history I just use &quot;exphtd&quot; at the prompt and my file gets generated."}, {"owner": {"reputation": 575, "user_id": 3926114, "user_type": "registered", "accept_rate": 69, "profile_image": "https://www.gravatar.com/avatar/e0b5c8500685037356c38c073941b0c9?s=128&d=identicon&r=PG&f=1", "display_name": "user53029", "link": "https://stackoverflow.com/users/3926114/user53029"}, "edited": false, "score": 0, "creation_date": 1464046154, "post_id": 37381334, "comment_id": 62312635, "body": "Ah..I was putting that into the &quot;PROMPT COMMAND&quot; statement. I will give it another go."}], "tags": [], "owner": {"reputation": 40086, "user_id": 499581, "user_type": "registered", "accept_rate": 92, "profile_image": "https://www.gravatar.com/avatar/1ba2cebc4582467916f2ddd6128447f4?s=128&d=identicon&r=PG", "display_name": "l&#39;L&#39;l", "link": "https://stackoverflow.com/users/499581/lll"}, "is_accepted": false, "score": 2, "last_activity_date": 1463966063, "creation_date": 1463966063, "answer_id": 37381334, "question_id": 37381049, "link": "https://stackoverflow.com/questions/37381049/perl-script-for-history-file-in-bash-profile-appending-to-the-history-command/37381334#37381334", "title": "perl script for history file in .bash_profile appending to the history command", "body": "<p>I created a similar function (some time ago) which does what you're wanting I think:</p>\n\n<pre><code># export detailed history\nexphtd () { HISTTIMEFORMAT='%F %T ' history | grep -v \"^#\" &gt; /root/history/.bash_hist ; }\n</code></pre>\n\n<p>Then to use:</p>\n\n<pre><code>$ exphtd\n</code></pre>\n\n<p><strong>Output:</strong></p>\n\n<pre><code>455  2016-05-20 15:12:46 cd ~\n</code></pre>\n"}], "owner": {"reputation": 575, "user_id": 3926114, "user_type": "registered", "accept_rate": 69, "profile_image": "https://www.gravatar.com/avatar/e0b5c8500685037356c38c073941b0c9?s=128&d=identicon&r=PG&f=1", "display_name": "user53029", "link": "https://stackoverflow.com/users/3926114/user53029"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 140, "favorite_count": 0, "answer_count": 1, "score": 2, "last_activity_date": 1463970357, "creation_date": 1463963198, "last_edit_date": 1463970357, "question_id": 37381049, "link": "https://stackoverflow.com/questions/37381049/perl-script-for-history-file-in-bash-profile-appending-to-the-history-command", "title": "perl script for history file in .bash_profile appending to the history command", "body": "<p>I have .bash_profile setup to export to a history file:</p>\n\n<pre><code>export HISTFILE=/root/history/.bash_hist-$(who -m | awk '{print $1}')\n</code></pre>\n\n<p>Then I am exporting time stamps for the history command.</p>\n\n<pre><code>export HISTTIMEFORMAT=\"%Y/%m/%d %T \"\n</code></pre>\n\n<p>This combination caused epoch time stamps to be written to the history file:</p>\n\n<pre><code>#1463962023\ntop\n</code></pre>\n\n<p>So I wrote in a perl one liner into the .bash_profile to only write in the human readable time stamp into the file thus eliminating the epoch line: ( and a few other lines)</p>\n\n<pre><code>format_history () {\nlocal file=/root/history/.bash_hist-$(who -m | awk '{print $1}')\nperl -i -pe 's/^#(\\d{10})$/\"# \".localtime($1)/e' \"$file\"\n}\n\nshopt -s histappend\nPROMPT_COMMAND=\"history -a;format_history;$PROMPT_COMMAND\"\n</code></pre>\n\n<p>So now my exported file looks like this:</p>\n\n<pre><code># Sun May 22 19:06:41 2016\nlast\n</code></pre>\n\n<p>Which is great and exactly what I want. However, this has the unwanted side effect of appending a dedicated line in the history command which contains nothing but dates that does not need to be there. </p>\n\n<pre><code> 824  2016/05/22 19:07:33 # Sun May 22 19:06:41 2016\n 825  2016/05/22 19:07:33 last\n</code></pre>\n\n<p>How can I write to the file like I want without causing the history command to report these unwanted lines?</p>\n\n<p>NOTE - This anomoly with the history command seems to be \"activated\" when I log in to a system. ( I use ssh) I can be in session, run 10 commands, then run the history command and all looks normal. However as soon as a log out and log back in and run the history command, it will display the erroneous lines. </p>\n\n<p>UPDATE: I have narrowed down the problem to the line:</p>\n\n<pre><code>PROMPT_COMMAND=\"history -a;format_history;$PROMPT_COMMAND\"\n</code></pre>\n\n<p>When I comment out this line the history command works as expected. However, this was also the command that ran the formatting on the history file. I have tried to remove the \"history -a\" part from the line, leaving the rest, but that does not make any difference. If I were to leave the whole line commented out, how could I invoke the formatting on the file using the perl script?</p>\n"}, {"tags": ["regex", "perl"], "comments": [{"owner": {"reputation": 123805, "user_id": 622310, "user_type": "registered", "accept_rate": 33, "profile_image": "https://www.gravatar.com/avatar/8b6d35219e1808520bc238b28161e2e6?s=128&d=identicon&r=PG", "display_name": "Borodin", "link": "https://stackoverflow.com/users/622310/borodin"}, "edited": false, "score": 0, "creation_date": 1463931968, "post_id": 37376154, "comment_id": 62264047, "body": "I think kudos is due to those who can understand what you&#39;re written. <code>my $snum = ($snum{$s} = $snum{$s} &#47;&#47; ($lsnum++))</code> isn&#39;t the clearest code I&#39;ve seen on my desk today"}, {"owner": {"reputation": 201, "user_id": 2647466, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/f911248a4a9c6670be1006dec3dc31a3?s=128&d=identicon&r=PG&f=1", "display_name": "Gro-Tsen", "link": "https://stackoverflow.com/users/2647466/gro-tsen"}, "reply_to_user": {"reputation": 123805, "user_id": 622310, "user_type": "registered", "accept_rate": 33, "profile_image": "https://www.gravatar.com/avatar/8b6d35219e1808520bc238b28161e2e6?s=128&d=identicon&r=PG", "display_name": "Borodin", "link": "https://stackoverflow.com/users/622310/borodin"}, "edited": false, "score": 0, "creation_date": 1463933308, "post_id": 37376154, "comment_id": 62264497, "body": "@Borodin The double equal is the result of a number of edits before I posted.  I&#39;ve rewritten it as <code>my $snum = ($snum{$s} &#47;&#47;= $lsnum++)</code>: is that better? Otherwise, please free to suggest a clearer way to do the same thing, but again, this is really not the point of the question, and I made it clear that only the <code>@test</code> table or output is worth reading (the code is just for the benefit of those who want to check, reproduce or edit the tests)."}, {"owner": {"reputation": 123805, "user_id": 622310, "user_type": "registered", "accept_rate": 33, "profile_image": "https://www.gravatar.com/avatar/8b6d35219e1808520bc238b28161e2e6?s=128&d=identicon&r=PG", "display_name": "Borodin", "link": "https://stackoverflow.com/users/622310/borodin"}, "edited": false, "score": 1, "creation_date": 1463934413, "post_id": 37376154, "comment_id": 62264845, "body": "What exactly is the issue? Do you think that <i>all eight</i> perl results are wrong? It&#39;s hard to know what you&#39;re contesting? Are both <code>perl</code> and <code>egrep</code> wrong, or both correct in your eyes? I assume that you see one of them as being wrong, otherwise there is no question!"}, {"owner": {"reputation": 7715, "user_id": 815386, "user_type": "registered", "accept_rate": 86, "profile_image": "https://www.gravatar.com/avatar/ef59545dc02685334418ee23a2f30777?s=128&d=identicon&r=PG", "display_name": "zb&#39;", "link": "https://stackoverflow.com/users/815386/zb"}, "edited": false, "score": 0, "creation_date": 1463934817, "post_id": 37376154, "comment_id": 62264960, "body": "<code>perl  -e &#39;print (&quot;aabeabcaa&quot; =~ qr&#47;^((a*)b|e?(a*)b)*c\\2$&#47;);print &quot;\\n&quot;;&#39;</code> gives <b>eabaaa</b> I think something in your loops"}, {"owner": {"reputation": 87649, "user_id": 17389, "user_type": "registered", "accept_rate": 38, "profile_image": "https://www.gravatar.com/avatar/cd06d1314817ce946ab796af8750b56a?s=128&d=identicon&r=PG", "display_name": "ysth", "link": "https://stackoverflow.com/users/17389/ysth"}, "edited": false, "score": 1, "creation_date": 1463935484, "post_id": 37376154, "comment_id": 62265192, "body": "before reading this question, my understanding was that \\2 would refer to the capture from the last repetition of the outer <code>()*</code>, so test 0 was a surprise to me.  It does seem that backtracking makes things unpredictable to the point where it seems like a bug; does running the cases under `perl -Mre=debug -e&#39;&quot;string&quot; =~ /regex/&#39; provide you any insight into what is actually happening"}, {"owner": {"reputation": 87649, "user_id": 17389, "user_type": "registered", "accept_rate": 38, "profile_image": "https://www.gravatar.com/avatar/cd06d1314817ce946ab796af8750b56a?s=128&d=identicon&r=PG", "display_name": "ysth", "link": "https://stackoverflow.com/users/17389/ysth"}, "reply_to_user": {"reputation": 123805, "user_id": 622310, "user_type": "registered", "accept_rate": 33, "profile_image": "https://www.gravatar.com/avatar/8b6d35219e1808520bc238b28161e2e6?s=128&d=identicon&r=PG", "display_name": "Borodin", "link": "https://stackoverflow.com/users/622310/borodin"}, "edited": false, "score": 1, "creation_date": 1463935614, "post_id": 37376154, "comment_id": 62265235, "body": "@Borodin from the question it seems like all are expected to match, and at minimum a coherent explanation of <i>why</i> they don&#39;t would be a good answer"}, {"owner": {"user_type": "does_not_exist", "display_name": "user2404501"}, "edited": false, "score": 2, "creation_date": 1463936096, "post_id": 37376154, "comment_id": 62265421, "body": "<code>perl -Mre=Debug,MATCH,BUFFERS</code> also tells what it&#39;s doing with the capture groups. This might make it easier to decide whether this is a bug."}, {"owner": {"reputation": 201, "user_id": 2647466, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/f911248a4a9c6670be1006dec3dc31a3?s=128&d=identicon&r=PG&f=1", "display_name": "Gro-Tsen", "link": "https://stackoverflow.com/users/2647466/gro-tsen"}, "edited": false, "score": 0, "creation_date": 1463938115, "post_id": 37376154, "comment_id": 62266046, "body": "@WumpusQ.Wumbley Thanks for the debug options, I didn&#39;t know about them. I&#39;ll try to understand the output (which is fairly long, for each one of my test cases)."}, {"owner": {"reputation": 201, "user_id": 2647466, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/f911248a4a9c6670be1006dec3dc31a3?s=128&d=identicon&r=PG&f=1", "display_name": "Gro-Tsen", "link": "https://stackoverflow.com/users/2647466/gro-tsen"}, "reply_to_user": {"reputation": 123805, "user_id": 622310, "user_type": "registered", "accept_rate": 33, "profile_image": "https://www.gravatar.com/avatar/8b6d35219e1808520bc238b28161e2e6?s=128&d=identicon&r=PG", "display_name": "Borodin", "link": "https://stackoverflow.com/users/622310/borodin"}, "edited": false, "score": 0, "creation_date": 1463938446, "post_id": 37376154, "comment_id": 62266157, "body": "@Borodin I&#39;m not saying Perl is wrong: my understanding of regexps-with-backreferences as a mathematical construct seems to coincide with the way <code>egrep</code> does it, i.e., all tests are matches, but I can imagine different ways of doing things (JavaScript has an answer both different from that of Perl and of <code>egrep</code>, and I think it also makes sense). Maybe there&#39;s a sensible and/or documented explanation for Perl&#39;s behavior, in which case I&#39;m happy, but at the very least you have to admit that it&#39;s not obvious (whereas predicting the match of such short regeps on such short strings <i>should</i> be)."}, {"owner": {"reputation": 123805, "user_id": 622310, "user_type": "registered", "accept_rate": 33, "profile_image": "https://www.gravatar.com/avatar/8b6d35219e1808520bc238b28161e2e6?s=128&d=identicon&r=PG", "display_name": "Borodin", "link": "https://stackoverflow.com/users/622310/borodin"}, "reply_to_user": {"reputation": 87649, "user_id": 17389, "user_type": "registered", "accept_rate": 38, "profile_image": "https://www.gravatar.com/avatar/cd06d1314817ce946ab796af8750b56a?s=128&d=identicon&r=PG", "display_name": "ysth", "link": "https://stackoverflow.com/users/17389/ysth"}, "edited": false, "score": 0, "creation_date": 1463939244, "post_id": 37376154, "comment_id": 62266414, "body": "@ysth: That makes sense. I&#39;ve written what I thought would be helpful. What do you think?"}, {"owner": {"reputation": 123805, "user_id": 622310, "user_type": "registered", "accept_rate": 33, "profile_image": "https://www.gravatar.com/avatar/8b6d35219e1808520bc238b28161e2e6?s=128&d=identicon&r=PG", "display_name": "Borodin", "link": "https://stackoverflow.com/users/622310/borodin"}, "edited": false, "score": 0, "creation_date": 1463939354, "post_id": 37376154, "comment_id": 62266464, "body": "@Gro-Tsen: Where have you read about <i>&quot;regexps-with-backreferences as a mathematical construct&quot;</i> please? I would like to see what has been written"}, {"owner": {"reputation": 198290, "user_id": 1030675, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/957956ce51706d03f19a4dc85a767bb1?s=128&d=identicon&r=PG", "display_name": "choroba", "link": "https://stackoverflow.com/users/1030675/choroba"}, "edited": false, "score": 1, "creation_date": 1466544187, "post_id": 37376154, "comment_id": 63358023, "body": "My bug report was closed as &quot;Not a bug&quot;. <a href=\"https://rt.perl.org/Public/Bug/Display.html?id=128215\" rel=\"nofollow noreferrer\">rt.perl.org/Public/Bug/Display.html?id=128215</a>"}], "answers": [{"tags": [], "owner": {"reputation": 82895, "user_id": 372239, "user_type": "registered", "accept_rate": 80, "profile_image": "https://i.stack.imgur.com/2twLb.jpg?s=128&g=1", "display_name": "Toto", "link": "https://stackoverflow.com/users/372239/toto"}, "is_accepted": false, "score": 0, "last_activity_date": 1463939887, "last_edit_date": 1463939887, "creation_date": 1463935240, "answer_id": 37376919, "question_id": 37376154, "link": "https://stackoverflow.com/questions/37376154/i-would-like-explanation-of-the-behaviour-of-perls-regular-expression-engine/37376919#37376919", "title": "I would like explanation of the behaviour of Perl&#39;s regular expression engine", "body": "<p>Here is how I understand the behaviour:</p>\n\n<pre><code>test 3: (S3) aababcaa DOES NOT match (R1) (?^:^((a*)b|e?(a*)b)*c\\2$)\n</code></pre>\n\n<p>The first part of the alternative fails here, then we use the second part.</p>\n\n<p>The group 2 contains <code>a</code> so using the backreference the regex is the same as:</p>\n\n<pre><code> ^(e?(a*)b)*ca$\n</code></pre>\n\n<p>That doesn't match the string <code>aababcaa</code> that has <code>aa</code> at the end.</p>\n\n<p>The match is ok if you have a double <code>aa</code> in the middle: <code>aabaabcaa</code></p>\n"}, {"comments": [{"owner": {"reputation": 87649, "user_id": 17389, "user_type": "registered", "accept_rate": 38, "profile_image": "https://www.gravatar.com/avatar/cd06d1314817ce946ab796af8750b56a?s=128&d=identicon&r=PG", "display_name": "ysth", "link": "https://stackoverflow.com/users/17389/ysth"}, "edited": false, "score": 1, "creation_date": 1463942723, "post_id": 37377575, "comment_id": 62267600, "body": "but in general backtracking to a <code>( ... | ... )*</code>  does retry different alternations, and in the debug output (without the additional suggested flags; I will try to look at those later) you can see it trying all four ways of matching the alternation (left left, left right, right left, right right) but at the end it always thinks \\2 is &#39;v&#39;.  So I think this is just a bug"}, {"owner": {"reputation": 198290, "user_id": 1030675, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/957956ce51706d03f19a4dc85a767bb1?s=128&d=identicon&r=PG", "display_name": "choroba", "link": "https://stackoverflow.com/users/1030675/choroba"}, "edited": false, "score": 0, "creation_date": 1463949862, "post_id": 37377575, "comment_id": 62269946, "body": "Interestingly, <code>&#47; ^ ((v*) X | H? (v*) X)* c (?: \\2 | \\3 ) $ &#47;x</code> matches."}, {"owner": {"reputation": 68253, "user_id": 20938, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/CuXSm.jpg?s=128&g=1", "display_name": "Alan Moore", "link": "https://stackoverflow.com/users/20938/alan-moore"}, "edited": false, "score": 1, "creation_date": 1464164077, "post_id": 37377575, "comment_id": 62366433, "body": "I understand why test 4 fails, and the same reasoning would apply to tests 6 and 8, but not the other two.  Why would it try to match the first branch again, when the next character is <code>H</code>?  Your lack of confusion confuses me. :D"}], "tags": [], "owner": {"reputation": 123805, "user_id": 622310, "user_type": "registered", "accept_rate": 33, "profile_image": "https://www.gravatar.com/avatar/8b6d35219e1808520bc238b28161e2e6?s=128&d=identicon&r=PG", "display_name": "Borodin", "link": "https://stackoverflow.com/users/622310/borodin"}, "is_accepted": false, "score": 1, "last_activity_date": 1463945042, "last_edit_date": 1463945042, "creation_date": 1463939058, "answer_id": 37377575, "question_id": 37376154, "link": "https://stackoverflow.com/questions/37376154/i-would-like-explanation-of-the-behaviour-of-perls-regular-expression-engine/37377575#37377575", "title": "I would like explanation of the behaviour of Perl&#39;s regular expression engine", "body": "<p>Let's take a go at the fourth example. (Please don't number them from zero! I people, not computer!)</p>\n\n<pre><code>vvXvXcvv\n</code></pre>\n\n<p>doesn't match</p>\n\n<pre><code>qr/ ^ (\n    (v*) X\n    |\n    H? (v*) X\n)* c \\2 $ /x\n</code></pre>\n\n<ul>\n<li><p>At the beginning of the string, perl matches the first of the two alternatives. <code>vvX</code> matches <code>(v*) X</code> so there is no need to try the alternative. That also saves capture 2 as<code>vv</code></p>\n\n<p>That leaves <code>vXcvv</code> for the engine to match</p></li>\n<li><p>Again, perl uses <code>vX</code> to match <code>(v*) X</code>. It saves capture 2 as <code>v</code> and the engine goes around for another try</p>\n\n<p>That leaves <code>cvv</code></p></li>\n<li><p>The only options left are another iteration of <code>( (v*) X | H? (v*) X )*</code>, or falling out of that loop into <code>c \\2</code></p></li>\n<li><p>The text doesn't start with <code>v</code>, <code>X</code>, or <code>H</code> so the loop ends, and the next match is <code>c \\2</code>, and the regex engine matches the <code>c</code></p>\n\n<p>Now there is only <code>vv</code> to match</p></li>\n<li><p>perl is now looking for a match to capture 2, which is <code>v</code>. That succeeds</p>\n\n<p>The remaining string is just <code>v</code></p></li>\n<li><p>Now perl is looking for <code>$</code>, which is the end of a string, or just before a newline at the end of a string. It sees <code>v</code> and so it fails</p></li>\n</ul>\n\n<p>I really hope that helps. I'm not in a hurry to explain the remaining four examples and I can't yet see why there is confusion</p>\n\n<p>I haven't experimented with <code>egrep</code>, and I'm surprised that it behaves differently. Maybe it doesn't stack the captures like Perl does?</p>\n\n<p>Please let me know if there's anything of further interest</p>\n"}, {"tags": [], "owner": {"reputation": 198290, "user_id": 1030675, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/957956ce51706d03f19a4dc85a767bb1?s=128&d=identicon&r=PG", "display_name": "choroba", "link": "https://stackoverflow.com/users/1030675/choroba"}, "is_accepted": false, "score": 3, "last_activity_date": 1463958975, "last_edit_date": 1463958975, "creation_date": 1463951215, "answer_id": 37379672, "question_id": 37376154, "link": "https://stackoverflow.com/questions/37376154/i-would-like-explanation-of-the-behaviour-of-perls-regular-expression-engine/37379672#37379672", "title": "I would like explanation of the behaviour of Perl&#39;s regular expression engine", "body": "<p>There is an even easier example of the difference between egrep and Perl:</p>\n\n<pre><code>grep -iE '^(([ab])|([ab]))*\\2$' &lt;&lt;&lt; abA\nabA\nperl -wE 'say for shift =~ /^(([ab])|([ab]))*\\2$/i' abA\n</code></pre>\n\n<p>Interestingly, the following matches in Perl (and egrep, too):</p>\n\n<pre><code>grep -iE '^(([ab])|([ab]))*(\\3)$' &lt;&lt;&lt; abA\nabA\nperl -wE 'say for shift =~ /^(([ab])|([ab]))*(\\3)$/i' abA\nb\nb\na\nA\n</code></pre>\n\n<p>So, the first <code>a</code> is matched by the first iteration of <code>*</code>, <code>b</code> is matched by the second one (because <code>\\1 eq 'b'</code>). At the same time, <code>\\3 eq 'a'</code>, but <code>\\4 eq 'A'</code>. Why is <code>\\3 eq 'a'</code>? It seems to be a result of the previous iteration of the <code>*</code>, which I'd say is a bug.</p>\n\n<p><strong>Update:</strong> I've reported a bug.</p>\n"}], "owner": {"reputation": 201, "user_id": 2647466, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/f911248a4a9c6670be1006dec3dc31a3?s=128&d=identicon&r=PG&f=1", "display_name": "Gro-Tsen", "link": "https://stackoverflow.com/users/2647466/gro-tsen"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 249, "favorite_count": 3, "answer_count": 3, "score": 8, "last_activity_date": 1464869071, "creation_date": 1463930712, "last_edit_date": 1464869071, "question_id": 37376154, "link": "https://stackoverflow.com/questions/37376154/i-would-like-explanation-of-the-behaviour-of-perls-regular-expression-engine", "title": "I would like explanation of the behaviour of Perl&#39;s regular expression engine", "body": "<h3>Update by @Borodin</h3>\n\n<p>I've rewritten this code as something I think is more comprehensible. The OP was comparing <code>b</code> with <code>d</code> and suchlike, and I've changed all the symbols to more distinct ASCII characters. The result is equivalent to that of the OP's original code</p>\n\n<p>I've briefly checked manually all of the regex patterns, but I don't see a discrepancy</p>\n\n<pre><code>#! /usr/local/bin/perl\n\nuse strict;\nuse warnings qw/ all FATAL /;\n\nuse List::Util 'max';\n\nmy @tests = (\n    [ vvOHvXcvv =&gt; qr/ ^ ( (v*) O    | H? (v*) X )* c \\2 $ /x ],\n    [ vvOvXcvv  =&gt; qr/ ^ ( (v*) O    | H? (v*) X )* c \\2 $ /x ],\n    [ vvXHvXcvv =&gt; qr/ ^ ( (v*) X    | H? (v*) X )* c \\2 $ /x ],\n    [ vvXvXcvv  =&gt; qr/ ^ ( (v*) X    | H? (v*) X )* c \\2 $ /x ],\n    [ vvOHvXcvv =&gt; qr/ ^ ( (v*) [XO] | H? (v*) X )* c \\2 $ /x ],\n    [ vvOvXcvv  =&gt; qr/ ^ ( (v*) [XO] | H? (v*) X )* c \\2 $ /x ],\n    [ vvXHvXcvv =&gt; qr/ ^ ( (v*) [XO] | H? (v*) X )* c \\2 $ /x ],\n    [ vvXvXcvv  =&gt; qr/ ^ ( (v*) [XO] | H? (v*) X )* c \\2 $ /x ],\n);\n\nmy $w1 = max map length $_-&gt;[0], @tests;\nmy ($no, $yes) = ( 'MATCHES', \"doesn't match\" );\nmy $w2 = max map length, $no, $yes;\n\nfor my $test ( @tests ) {\n    my ( $str, $re ) = @$test;\n\n    printf \"%-*s %-*s %s\\n\",\n            $w1+2, qq{\"$str\"},\n            $w2, $str =~ $re ? 'MATCHES' : \"doesn't match\",\n            $re;\n}\n</code></pre>\n\n<h3>output</h3>\n\n<pre class=\"lang-none prettyprint-override\"><code>\"vvOHvXcvv\" MATCHES       (?^x: ^ ( (v*) O    | H? (v*) X )* c \\2 $ )\n\"vvOvXcvv\"  MATCHES       (?^x: ^ ( (v*) O    | H? (v*) X )* c \\2 $ )\n\"vvXHvXcvv\" MATCHES       (?^x: ^ ( (v*) X    | H? (v*) X )* c \\2 $ )\n\"vvXvXcvv\"  doesn't match (?^x: ^ ( (v*) X    | H? (v*) X )* c \\2 $ )\n\"vvOHvXcvv\" doesn't match (?^x: ^ ( (v*) [XO] | H? (v*) X )* c \\2 $ )\n\"vvOvXcvv\"  doesn't match (?^x: ^ ( (v*) [XO] | H? (v*) X )* c \\2 $ )\n\"vvXHvXcvv\" doesn't match (?^x: ^ ( (v*) [XO] | H? (v*) X )* c \\2 $ )\n\"vvXvXcvv\"  doesn't match (?^x: ^ ( (v*) [XO] | H? (v*) X )* c \\2 $ )\n</code></pre>\n\n<p><br/></p>\n\n<hr>\n\n<p>The following Perl program tests a few strings against various regex patterns that use back-references. It illustrates a behaviour that I cannot understand.</p>\n\n<p>The <code>$snum</code> and <code>$rnum</code> variables are used only to number the strings and patterns in the output for easier reading. The only thing worth reading is the contents of the <code>@test</code> array.</p>\n\n<pre class=\"lang-perl prettyprint-override\"><code>#! /usr/local/bin/perl -w\n\nuse strict;\nuse warnings;\n\nmy @test = (\n    [ \"aadeabcaa\", qr/^((a*)d|e?(a*)b)*c\\2$/ ],\n    [ \"aadabcaa\", qr/^((a*)d|e?(a*)b)*c\\2$/ ],\n    [ \"aabeabcaa\", qr/^((a*)b|e?(a*)b)*c\\2$/ ],\n    [ \"aababcaa\", qr/^((a*)b|e?(a*)b)*c\\2$/ ],\n    [ \"aadeabcaa\", qr/^((a*)[bd]|e?(a*)b)*c\\2$/ ],\n    [ \"aadabcaa\", qr/^((a*)[bd]|e?(a*)b)*c\\2$/ ],\n    [ \"aabeabcaa\", qr/^((a*)[bd]|e?(a*)b)*c\\2$/ ],\n    [ \"aababcaa\", qr/^((a*)[bd]|e?(a*)b)*c\\2$/ ],\n);\n\nmy %snum;\nmy %rnum;\nmy $lsnum;\nmy $lrnum;\n\nfor ( my $i = 0 ; $i &lt; scalar(@test); $i++ ) {\n\n    my $t = $test[$i];  my $s = $t-&gt;[0];  my $r = $t-&gt;[1];\n\n    my $snum = ($snum{$s} //= $lsnum++);\n    my $rnum = ($rnum{$r} //= $lrnum++);\n\n    my $match = ($s =~ $r);\n\n    print \"test $i: (S$snum) $s\" .\n        ($match?\" MATCHES \":\" DOES NOT match \") .\n        \"(R$rnum) $r\\n\";\n}\n</code></pre>\n\n<h3>output</h3>\n\n<pre class=\"lang-none prettyprint-override\"><code>test 0: (S0) aadeabcaa MATCHES (R0) (?^:^((a*)d|e?(a*)b)*c\\2$)\ntest 1: (S1) aadabcaa MATCHES (R0) (?^:^((a*)d|e?(a*)b)*c\\2$)\ntest 2: (S2) aabeabcaa MATCHES (R1) (?^:^((a*)b|e?(a*)b)*c\\2$)\ntest 3: (S3) aababcaa DOES NOT match (R1) (?^:^((a*)b|e?(a*)b)*c\\2$)\ntest 4: (S0) aadeabcaa DOES NOT match (R2) (?^:^((a*)[bd]|e?(a*)b)*c\\2$)\ntest 5: (S1) aadabcaa DOES NOT match (R2) (?^:^((a*)[bd]|e?(a*)b)*c\\2$)\ntest 6: (S2) aabeabcaa DOES NOT match (R2) (?^:^((a*)[bd]|e?(a*)b)*c\\2$)\ntest 7: (S3) aababcaa DOES NOT match (R2) (?^:^((a*)[bd]|e?(a*)b)*c\\2$)\n</code></pre>\n\n<p>Note that <code>egrep</code> (or at any rate, GNU <code>egrep</code>) thinks that every test above is a match.</p>\n\n<p>I think that is the theoretically \"correct\" answer if regexp disjunction is interpreted as a non-deterministic choice, in the sense that there exists a choice of alternatives that will make the match succeed.</p>\n\n<p>Also note that (<code>S2</code>, <code>S3</code>, <code>R1</code>) are obtained by replacing <code>b</code> for <code>d</code> everywhere in (<code>S0</code>, <code>S1</code>, <code>R0</code>), which is another reason to think that the fourth test should be a match.</p>\n\n<p>Intuitively, I would also like tests 4\u20137 to be matches insofar as tests 0\u20133 are.</p>\n\n<p><i>\nI can sort of understand how one would arrive at the fourth test not matching: by trying the left branch and the right right branch in this order at each disjunction, <em>if backtracking does not correctly restore</em> the <code>\\2</code> variable to its prior value, exploring the left branch of the R1 disjunction on the latter <code>ab</code> substring of S3  would clobber <code>\\2</code> to <code>a</code> which would then not be backtracked to its <code>aa</code> value, causing the match to fail (whereas the same thing would not happen in any of the previous tests).\n</i></p>\n\n<p>But I have no idea whether my analysis is correct. Why the fifth test doesn't match really escapes me.</p>\n\n<p>So anyway, my question is a combination of the following:</p>\n\n<ul>\n<li><p>Can someone explain Perl's regexp engine behavior on those examples in detail?</p></li>\n<li><p>Is this behavior intentional?  Is it documented somewhere?</p></li>\n<li><p>Should I file a bug?</p></li>\n</ul>\n"}, {"tags": ["perl"], "answers": [{"comments": [{"owner": {"reputation": 9, "user_id": 6366030, "user_type": "registered", "profile_image": "https://graph.facebook.com/1767508326819157/picture?type=large", "display_name": "Musa Y\u0131ld\u0131r\u0131m", "link": "https://stackoverflow.com/users/6366030/musa-y%c4%b1ld%c4%b1r%c4%b1m"}, "edited": false, "score": 0, "creation_date": 1463929444, "post_id": 37375799, "comment_id": 62263122, "body": "I did but Its not repair, do you have a another way ?"}], "tags": [], "owner": {"reputation": 11, "user_id": 6367371, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/Lcyh2.png?s=128&g=1", "display_name": "SolarSupremacy", "link": "https://stackoverflow.com/users/6367371/solarsupremacy"}, "is_accepted": false, "score": 0, "last_activity_date": 1463928584, "creation_date": 1463928584, "answer_id": 37375799, "question_id": 37375725, "link": "https://stackoverflow.com/questions/37375725/how-to-repair-this-error-unsuccessful-stat-on-filename-containing-newline-at/37375799#37375799", "title": "How to repair this error ? (Unsuccessful stat on filename containing newline at)", "body": "<p>This apparently occurs when there is <em>any</em> error in the operation and the filename contains a newline character \"/n\". To fix this, run the filename through chomp(). That will remove the newline character and should stop the error.</p>\n"}, {"comments": [{"owner": {"reputation": 9, "user_id": 6366030, "user_type": "registered", "profile_image": "https://graph.facebook.com/1767508326819157/picture?type=large", "display_name": "Musa Y\u0131ld\u0131r\u0131m", "link": "https://stackoverflow.com/users/6366030/musa-y%c4%b1ld%c4%b1r%c4%b1m"}, "edited": false, "score": 0, "creation_date": 1463931130, "post_id": 37375991, "comment_id": 62263730, "body": "I wrote like that but this time not checking directory"}, {"owner": {"reputation": 123805, "user_id": 622310, "user_type": "registered", "accept_rate": 33, "profile_image": "https://www.gravatar.com/avatar/8b6d35219e1808520bc238b28161e2e6?s=128&d=identicon&r=PG", "display_name": "Borodin", "link": "https://stackoverflow.com/users/622310/borodin"}, "reply_to_user": {"reputation": 9, "user_id": 6366030, "user_type": "registered", "profile_image": "https://graph.facebook.com/1767508326819157/picture?type=large", "display_name": "Musa Y\u0131ld\u0131r\u0131m", "link": "https://stackoverflow.com/users/6366030/musa-y%c4%b1ld%c4%b1r%c4%b1m"}, "edited": false, "score": 0, "creation_date": 1463932425, "post_id": 37375991, "comment_id": 62264192, "body": "I&#39;m not surprised. I doubt if your <code>sprintf</code> pattern is correct. Please give <b><i>several</i></b> examples of your input and the directories that exist"}, {"owner": {"reputation": 123805, "user_id": 622310, "user_type": "registered", "accept_rate": 33, "profile_image": "https://www.gravatar.com/avatar/8b6d35219e1808520bc238b28161e2e6?s=128&d=identicon&r=PG", "display_name": "Borodin", "link": "https://stackoverflow.com/users/622310/borodin"}, "reply_to_user": {"reputation": 9, "user_id": 6366030, "user_type": "registered", "profile_image": "https://graph.facebook.com/1767508326819157/picture?type=large", "display_name": "Musa Y\u0131ld\u0131r\u0131m", "link": "https://stackoverflow.com/users/6366030/musa-y%c4%b1ld%c4%b1r%c4%b1m"}, "edited": false, "score": 0, "creation_date": 1463940143, "post_id": 37375991, "comment_id": 62266734, "body": "@MusaY\u0131ld\u0131r\u0131m: Please give many examples of your input and output, and the paths to the real directories that they are supposed to match. Bir&#231;ok sizin giri\u015f ve &#231;\u0131k\u0131\u015f &#246;rnekleri ve onlar ma&#231; gerekiyordu ger&#231;ek dizinlerine yollar\u0131 verin"}, {"owner": {"reputation": 9, "user_id": 6366030, "user_type": "registered", "profile_image": "https://graph.facebook.com/1767508326819157/picture?type=large", "display_name": "Musa Y\u0131ld\u0131r\u0131m", "link": "https://stackoverflow.com/users/6366030/musa-y%c4%b1ld%c4%b1r%c4%b1m"}, "edited": false, "score": 0, "creation_date": 1463940198, "post_id": 37375991, "comment_id": 62266749, "body": "for example takipsarayi, neguzel @Borodin"}, {"owner": {"reputation": 123805, "user_id": 622310, "user_type": "registered", "accept_rate": 33, "profile_image": "https://www.gravatar.com/avatar/8b6d35219e1808520bc238b28161e2e6?s=128&d=identicon&r=PG", "display_name": "Borodin", "link": "https://stackoverflow.com/users/622310/borodin"}, "reply_to_user": {"reputation": 9, "user_id": 6366030, "user_type": "registered", "profile_image": "https://graph.facebook.com/1767508326819157/picture?type=large", "display_name": "Musa Y\u0131ld\u0131r\u0131m", "link": "https://stackoverflow.com/users/6366030/musa-y%c4%b1ld%c4%b1r%c4%b1m"}, "edited": false, "score": 0, "creation_date": 1463941018, "post_id": 37375991, "comment_id": 62267039, "body": "@MusaY\u0131ld\u0131r\u0131m: That is only one example. I need to see the contents of <code>meme.txt</code>. And please show the real directories that look like <code>&#47;home&#47;%-31s %s</code>. Bu sadece bir &#246;rnektir. Ben <code>meme.txt</code> i&#231;eri\u011fini g&#246;rmek gerekir. Ve <code>&#47;home&#47;%-31s %s</code> gibi g&#246;r&#252;nen ger&#231;ek dizinleri g&#246;stermek l&#252;tfen ."}, {"owner": {"reputation": 9, "user_id": 6366030, "user_type": "registered", "profile_image": "https://graph.facebook.com/1767508326819157/picture?type=large", "display_name": "Musa Y\u0131ld\u0131r\u0131m", "link": "https://stackoverflow.com/users/6366030/musa-y%c4%b1ld%c4%b1r%c4%b1m"}, "edited": false, "score": 0, "creation_date": 1463943085, "post_id": 37375991, "comment_id": 62267728, "body": "my file <a href=\"https://notepad.cc/meme-txt\" rel=\"nofollow noreferrer\">notepad.cc/meme-txt</a> @Borodin"}, {"owner": {"reputation": 123805, "user_id": 622310, "user_type": "registered", "accept_rate": 33, "profile_image": "https://www.gravatar.com/avatar/8b6d35219e1808520bc238b28161e2e6?s=128&d=identicon&r=PG", "display_name": "Borodin", "link": "https://stackoverflow.com/users/622310/borodin"}, "reply_to_user": {"reputation": 9, "user_id": 6366030, "user_type": "registered", "profile_image": "https://graph.facebook.com/1767508326819157/picture?type=large", "display_name": "Musa Y\u0131ld\u0131r\u0131m", "link": "https://stackoverflow.com/users/6366030/musa-y%c4%b1ld%c4%b1r%c4%b1m"}, "edited": false, "score": 0, "creation_date": 1463990299, "post_id": 37375991, "comment_id": 62281099, "body": "And what do the directory names look like?"}, {"owner": {"reputation": 9, "user_id": 6366030, "user_type": "registered", "profile_image": "https://graph.facebook.com/1767508326819157/picture?type=large", "display_name": "Musa Y\u0131ld\u0131r\u0131m", "link": "https://stackoverflow.com/users/6366030/musa-y%c4%b1ld%c4%b1r%c4%b1m"}, "edited": false, "score": 0, "creation_date": 1464030586, "post_id": 37375991, "comment_id": 62305947, "body": "There are directory names it depends @Borodin"}, {"owner": {"reputation": 9, "user_id": 6366030, "user_type": "registered", "profile_image": "https://graph.facebook.com/1767508326819157/picture?type=large", "display_name": "Musa Y\u0131ld\u0131r\u0131m", "link": "https://stackoverflow.com/users/6366030/musa-y%c4%b1ld%c4%b1r%c4%b1m"}, "edited": false, "score": 0, "creation_date": 1464964886, "post_id": 37375991, "comment_id": 62717056, "body": "I&#39;m waiting your answer, didnt you do it? @Borodin"}, {"owner": {"reputation": 123805, "user_id": 622310, "user_type": "registered", "accept_rate": 33, "profile_image": "https://www.gravatar.com/avatar/8b6d35219e1808520bc238b28161e2e6?s=128&d=identicon&r=PG", "display_name": "Borodin", "link": "https://stackoverflow.com/users/622310/borodin"}, "reply_to_user": {"reputation": 9, "user_id": 6366030, "user_type": "registered", "profile_image": "https://graph.facebook.com/1767508326819157/picture?type=large", "display_name": "Musa Y\u0131ld\u0131r\u0131m", "link": "https://stackoverflow.com/users/6366030/musa-y%c4%b1ld%c4%b1r%c4%b1m"}, "edited": false, "score": 0, "creation_date": 1464969875, "post_id": 37375991, "comment_id": 62720406, "body": "@MusaY\u0131ld\u0131r\u0131m: I need several examples of the directory names that are supposed to match the contents of <code>meme.txt</code>. You didn&#39;t give them to me"}, {"owner": {"reputation": 9, "user_id": 6366030, "user_type": "registered", "profile_image": "https://graph.facebook.com/1767508326819157/picture?type=large", "display_name": "Musa Y\u0131ld\u0131r\u0131m", "link": "https://stackoverflow.com/users/6366030/musa-y%c4%b1ld%c4%b1r%c4%b1m"}, "edited": false, "score": 0, "creation_date": 1465132424, "post_id": 37375991, "comment_id": 62764475, "body": "I Gave you didnt see notepad.cc/meme-txt"}, {"owner": {"reputation": 123805, "user_id": 622310, "user_type": "registered", "accept_rate": 33, "profile_image": "https://www.gravatar.com/avatar/8b6d35219e1808520bc238b28161e2e6?s=128&d=identicon&r=PG", "display_name": "Borodin", "link": "https://stackoverflow.com/users/622310/borodin"}, "reply_to_user": {"reputation": 9, "user_id": 6366030, "user_type": "registered", "profile_image": "https://graph.facebook.com/1767508326819157/picture?type=large", "display_name": "Musa Y\u0131ld\u0131r\u0131m", "link": "https://stackoverflow.com/users/6366030/musa-y%c4%b1ld%c4%b1r%c4%b1m"}, "edited": false, "score": 0, "creation_date": 1465132564, "post_id": 37375991, "comment_id": 62764513, "body": "@MusaY\u0131ld\u0131r\u0131m: I saw that, and I need to know what real directory names correspond to those strings"}, {"owner": {"reputation": 9, "user_id": 6366030, "user_type": "registered", "profile_image": "https://graph.facebook.com/1767508326819157/picture?type=large", "display_name": "Musa Y\u0131ld\u0131r\u0131m", "link": "https://stackoverflow.com/users/6366030/musa-y%c4%b1ld%c4%b1r%c4%b1m"}, "edited": false, "score": 0, "creation_date": 1465133410, "post_id": 37375991, "comment_id": 62764796, "body": "These&#39;re real directory names"}, {"owner": {"reputation": 123805, "user_id": 622310, "user_type": "registered", "accept_rate": 33, "profile_image": "https://www.gravatar.com/avatar/8b6d35219e1808520bc238b28161e2e6?s=128&d=identicon&r=PG", "display_name": "Borodin", "link": "https://stackoverflow.com/users/622310/borodin"}, "reply_to_user": {"reputation": 9, "user_id": 6366030, "user_type": "registered", "profile_image": "https://graph.facebook.com/1767508326819157/picture?type=large", "display_name": "Musa Y\u0131ld\u0131r\u0131m", "link": "https://stackoverflow.com/users/6366030/musa-y%c4%b1ld%c4%b1r%c4%b1m"}, "edited": false, "score": 0, "creation_date": 1465136040, "post_id": 37375991, "comment_id": 62765647, "body": "@MusaY\u0131ld\u0131r\u0131m: Yes, and what are they? One of your errors is <i>&quot;Unsuccessful stat on filename&quot;</i>, and that is probably because the name isn&#39;t being found, so what directories do exist?"}], "tags": [], "owner": {"reputation": 123805, "user_id": 622310, "user_type": "registered", "accept_rate": 33, "profile_image": "https://www.gravatar.com/avatar/8b6d35219e1808520bc238b28161e2e6?s=128&d=identicon&r=PG", "display_name": "Borodin", "link": "https://stackoverflow.com/users/622310/borodin"}, "is_accepted": false, "score": 1, "last_activity_date": 1467561135, "last_edit_date": 1467561135, "creation_date": 1463929687, "answer_id": 37375991, "question_id": 37375725, "link": "https://stackoverflow.com/questions/37375725/how-to-repair-this-error-unsuccessful-stat-on-filename-containing-newline-at/37375991#37375991", "title": "How to repair this error ? (Unsuccessful stat on filename containing newline at)", "body": "<p>You are building a string that is presumably supposed to be a path to a directory. This string</p>\n\n<pre><code> \"/home/%-31s %s\\n\"\n</code></pre>\n\n<p>has a newline at the end that you presumably don't intend</p>\n\n<p>There are also a number of other problems with your program, which I suggest should be written more like this</p>\n\n<pre><code>#!/usr/bin/perl\n\nuse strict;\nuse warnings 'all';\n\n\nmy %count;\nmy $file = 'meme.txt';\n\n{\n    open my $fh, '&lt;', $file or die \"A\u00c3\u00c4lamad\u00c4\u00b1 '$file': $!\";\n\n    while ( &lt;$fh&gt; ) {\n        ++$count{$_} for split;\n    }\n}\n\nfor my $str ( sort keys %count ) {\n\n    my $dir = sprintf '/home/%-31s %s', $str, $count{$str};\n\n    if ( -d $dir ) {\n        print \"Varm\u0131\u015f b\u00f6yle dizin\\n\";\n    }\n    else {\n        print \"Kapat kapat \u00e7ok yazd\u0131\\n\";\n    }\n}\n</code></pre>\n"}], "owner": {"reputation": 9, "user_id": 6366030, "user_type": "registered", "profile_image": "https://graph.facebook.com/1767508326819157/picture?type=large", "display_name": "Musa Y\u0131ld\u0131r\u0131m", "link": "https://stackoverflow.com/users/6366030/musa-y%c4%b1ld%c4%b1r%c4%b1m"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 1272, "favorite_count": 0, "closed_date": 1464984403, "answer_count": 2, "score": 0, "last_activity_date": 1467561135, "creation_date": 1463928033, "last_edit_date": 1592644375, "question_id": 37375725, "link": "https://stackoverflow.com/questions/37375725/how-to-repair-this-error-unsuccessful-stat-on-filename-containing-newline-at", "closed_reason": "Duplicate", "title": "How to repair this error ? (Unsuccessful stat on filename containing newline at)", "body": "<h3>This is my code</h3>\n\n<pre><code>#!/usr/bin/perl\n\nuse strict;\nuse warnings;\n\nmy %count;\nmy $file = &quot;meme.txt&quot; or die &quot;Kullan\u00c4l\u00c4yor: $0 FILE\\n&quot;;\n\nopen my $fh, '&lt;', $file or die &quot;A\u00c3\u00c4lamad\u00c4\u00b1 '$file' $!&quot;;\n\nwhile ( my $line = &lt;$fh&gt; ) {\n\n    chomp $line;\n\n    foreach my $str ( split /\\s+/, $line ) {\n        $count{$str}++;\n    }\n}\n\nforeach my $str ( sort keys %count ) {\n\n    if ( -e &quot;/home/%-31s %s\\n&quot;, $str, $count{$str} and -d &quot;/home/%-31s %s\\n&quot;, $str, $count{$str} ) {\n        print &quot;Varm\u0131\u015f b\u00f6yle dizin\\n&quot;;\n    }\n    else {\n        print &quot;Kapat kapat \u00e7ok yazd\u0131\\n&quot;;\n    }\n}\n</code></pre>\n<p>It is working, but I have a error. How can I repair this error? Could you help me?</p>\n<p>This error:</p>\n<p>usrbin perl</p>\n\n<blockquote>\n<pre class=\"lang-none prettyprint-override\"><code>Found = in conditional, should be == at ./15.pl line 6. Useless use of\nprivate variable in void context at ./15.pl line 18. Useless use of\nprivate variable in void context at ./15.pl line 22. Unsuccessful stat\non filename containing newline at ./15.pl line 16, &lt;$fh&gt; line 2.\nUnsuccessful stat on filename containing newline at ./15.pl line 16,\n&lt;$fh&gt; line 2. Varm\u0131\u015f b\u00f6yle dizin Unsuccessful stat on filename\ncontaining newline at ./15.pl line 16, &lt;$fh&gt; line 2. Unsuccessful stat\non filename containing newline at ./15.pl line 16, &lt;$fh&gt; line 2.\nVarm\u0131\u015f b\u00f6yle dizin\n</code></pre>\n</blockquote>\n"}, {"tags": ["perl", "web-services", "jersey-2.0", "jelastic"], "answers": [{"comments": [{"owner": {"reputation": 71, "user_id": 1453625, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/2fc23b52b5a991de460cb6bbb651ee08?s=128&d=identicon&r=PG", "display_name": "Ahmedy", "link": "https://stackoverflow.com/users/1453625/ahmedy"}, "edited": false, "score": 0, "creation_date": 1464164665, "post_id": 37372422, "comment_id": 62366809, "body": "your solution seems good only if I have all environments are installed on the same node (tomcat, perl)."}, {"owner": {"reputation": 71, "user_id": 1453625, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/2fc23b52b5a991de460cb6bbb651ee08?s=128&d=identicon&r=PG", "display_name": "Ahmedy", "link": "https://stackoverflow.com/users/1453625/ahmedy"}, "edited": false, "score": 0, "creation_date": 1464165246, "post_id": 37372422, "comment_id": 62367184, "body": "In jelastic the tomcat node is separate from the centos node. They act like two different PCs &quot;if I&#39;m right&quot;. So I cannot use your method to call the perl program unless they are in the same node."}, {"owner": {"reputation": 395, "user_id": 2082125, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/564bcce41e915c71567adbc5ae93e39b?s=128&d=identicon&r=PG", "display_name": "Ruslan", "link": "https://stackoverflow.com/users/2082125/ruslan"}, "reply_to_user": {"reputation": 71, "user_id": 1453625, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/2fc23b52b5a991de460cb6bbb651ee08?s=128&d=identicon&r=PG", "display_name": "Ahmedy", "link": "https://stackoverflow.com/users/1453625/ahmedy"}, "edited": false, "score": 0, "creation_date": 1552564389, "post_id": 37372422, "comment_id": 97062610, "body": "@Ahmedy, you can execute perl script on the same tomcat node. Please clarify the reason why you put it into a separate VPS node, maybe some libs are missing?"}], "tags": [], "owner": {"reputation": 123805, "user_id": 622310, "user_type": "registered", "accept_rate": 33, "profile_image": "https://www.gravatar.com/avatar/8b6d35219e1808520bc238b28161e2e6?s=128&d=identicon&r=PG", "display_name": "Borodin", "link": "https://stackoverflow.com/users/622310/borodin"}, "is_accepted": false, "score": 3, "last_activity_date": 1463910057, "last_edit_date": 1463910057, "creation_date": 1463907945, "answer_id": 37372422, "question_id": 37372027, "link": "https://stackoverflow.com/questions/37372027/jelastic-communincation-between-nodes/37372422#37372422", "title": "Jelastic communincation between nodes", "body": "<p>It sounds a reasonable design. You would write something like this.</p>\n\n<pre class=\"lang-java prettyprint-override\"><code>import java.lang.Runtime;\n\nint width = 99;\n\ntry {\n    Runtime runt = Runtime.getRuntime()\n    Process proc = runt.exec('/usr/bin/perl', '/path/to/myperl.pl', Integer.toString(width));\n    proc.waitFor();\n}\ncatch (Exception ioe) {\n    ioe.printStackTrace();\n}\n</code></pre>\n\n<p>Of course you'll have to adjust <code>/usr/bin/perl</code> to where your own perl exeutable really is, or you could invoke the shell to get it to search the path by using</p>\n\n<pre><code>runt.exec( '/bin/bash', '-c', 'perl', '/path/to/myperl.pl', Integer.toString(width) );\n</code></pre>\n\n<p>As for how to get the image back to the client, you don't say much about how your Perl program works, but either you tell it where to write the file or it decides for itself and tells you where it's put it afterwards</p>\n\n<p>If it's the former, then you presumably pass the path on the command line, so you just have to extend the call to <code>runt.exec</code> above to pass another parameter</p>\n\n<p>If it's the latter, then presumably the program prints to STDOUT where it has put the new file, and you need to read that stream from your Java code to collect the information. That would look like this <em>in place</em> of the <code>proc.waitFor()</code> call</p>\n\n<pre class=\"lang-java prettyprint-override\"><code>import java.io.*;\n\nBufferedReader inp = new BufferedReader(\n    new InputStreamReader(proc.getInputStream())\n);\n\nwhile ( ( line = inp.readLine() ) != null ) {\n    // Process output of Perl code to get file location\n}\n</code></pre>\n"}], "owner": {"reputation": 71, "user_id": 1453625, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/2fc23b52b5a991de460cb6bbb651ee08?s=128&d=identicon&r=PG", "display_name": "Ahmedy", "link": "https://stackoverflow.com/users/1453625/ahmedy"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 99, "favorite_count": 0, "answer_count": 1, "score": 0, "last_activity_date": 1463910057, "creation_date": 1463904957, "last_edit_date": 1463905883, "question_id": 37372027, "link": "https://stackoverflow.com/questions/37372027/jelastic-communincation-between-nodes", "title": "Jelastic communincation between nodes", "body": "<p>I have a perl program that dynamically generate images based on given width. I need to create web service that takes image dimensions from client, and pass it to the perl program to create the image then send it back to the client.</p>\n\n<p><img src=\"https://i.stack.imgur.com/i72eU.png\" alt=\"Hope this image helps to understand\"></p>\n\n<p>Now on Jelastic cloud, I created 3 nodes:</p>\n\n<ul>\n<li>Node 1: for tomcat (contains the java code).</li>\n<li>Node 2: for MySql (contains the database).</li>\n<li>Node 3: for Centos VPS (contains the perl code).</li>\n</ul>\n\n<p>My questions:</p>\n\n<ol>\n<li><p>I'm I doing the right thing?? if not what is the best way to do my program?</p></li>\n<li><p>How can I call the perl code (in node 3) from the java service (in node 1), and return the generated image back to client.</p></li>\n</ol>\n"}, {"tags": ["regex", "perl"], "comments": [{"owner": {"reputation": 123805, "user_id": 622310, "user_type": "registered", "accept_rate": 33, "profile_image": "https://www.gravatar.com/avatar/8b6d35219e1808520bc238b28161e2e6?s=128&d=identicon&r=PG", "display_name": "Borodin", "link": "https://stackoverflow.com/users/622310/borodin"}, "edited": false, "score": 2, "creation_date": 1463905148, "post_id": 37369803, "comment_id": 62255874, "body": "Please don&#39;t &quot;fix&quot; your question to remove errors indicated in answers or comments, as it makes nonsense out of them. You are free to <i>add</i> as much code as you wish"}, {"owner": {"reputation": 8353, "user_id": 1366368, "user_type": "registered", "accept_rate": 69, "profile_image": "https://i.stack.imgur.com/9CxXt.jpg?s=128&g=1", "display_name": "Adrian", "link": "https://stackoverflow.com/users/1366368/adrian"}, "reply_to_user": {"reputation": 123805, "user_id": 622310, "user_type": "registered", "accept_rate": 33, "profile_image": "https://www.gravatar.com/avatar/8b6d35219e1808520bc238b28161e2e6?s=128&d=identicon&r=PG", "display_name": "Borodin", "link": "https://stackoverflow.com/users/622310/borodin"}, "edited": false, "score": 0, "creation_date": 1463921640, "post_id": 37369803, "comment_id": 62260472, "body": "@Borodin, the question&#39;s original intent was compromised, distracting from it and the answer. The answer should be fixed, not the question."}, {"owner": {"reputation": 123805, "user_id": 622310, "user_type": "registered", "accept_rate": 33, "profile_image": "https://www.gravatar.com/avatar/8b6d35219e1808520bc238b28161e2e6?s=128&d=identicon&r=PG", "display_name": "Borodin", "link": "https://stackoverflow.com/users/622310/borodin"}, "edited": false, "score": 0, "creation_date": 1463923236, "post_id": 37369803, "comment_id": 62261005, "body": "I disagree. It would have been better to have added corrected code to your question instead of just rolling it back. But please at least edit the answer if you feel it needs fixing. At present your question doesn&#39;t match the answer, which is the worst of both worlds."}, {"owner": {"reputation": 8353, "user_id": 1366368, "user_type": "registered", "accept_rate": 69, "profile_image": "https://i.stack.imgur.com/9CxXt.jpg?s=128&g=1", "display_name": "Adrian", "link": "https://stackoverflow.com/users/1366368/adrian"}, "reply_to_user": {"reputation": 123805, "user_id": 622310, "user_type": "registered", "accept_rate": 33, "profile_image": "https://www.gravatar.com/avatar/8b6d35219e1808520bc238b28161e2e6?s=128&d=identicon&r=PG", "display_name": "Borodin", "link": "https://stackoverflow.com/users/622310/borodin"}, "edited": false, "score": 0, "creation_date": 1463924209, "post_id": 37369803, "comment_id": 62261318, "body": "@Borodin, fine. I figured that was the responsibility of the poster of the answer, but I have now corrected it."}], "answers": [{"comments": [{"owner": {"reputation": 8353, "user_id": 1366368, "user_type": "registered", "accept_rate": 69, "profile_image": "https://i.stack.imgur.com/9CxXt.jpg?s=128&g=1", "display_name": "Adrian", "link": "https://stackoverflow.com/users/1366368/adrian"}, "edited": false, "score": 0, "creation_date": 1463883143, "post_id": 37369845, "comment_id": 62252041, "body": "So then, is it possible to access a named capture group in a subroutine?"}, {"owner": {"reputation": 8353, "user_id": 1366368, "user_type": "registered", "accept_rate": 69, "profile_image": "https://i.stack.imgur.com/9CxXt.jpg?s=128&g=1", "display_name": "Adrian", "link": "https://stackoverflow.com/users/1366368/adrian"}, "edited": false, "score": 0, "creation_date": 1463888755, "post_id": 37369845, "comment_id": 62252813, "body": "Oops. Yeah, the first code was a copy error. Corrected in the question. I also just found out about the <code>(?(DEFINE)...)</code> syntax last week.  I&#39;ve been using the <code>(?!)...|</code> syntax for a couple of years now.  Just never noticed that perl didn&#39;t capture anything above the ground level before because I used <code>(?{...})</code> instead.  I&#39;ve also used <code>...(*ACCEPT)|(?!)(_subroutines_)</code>."}], "tags": [], "owner": {"reputation": 83048, "user_id": 2255089, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/ZNAsT.jpg?s=128&g=1", "display_name": "Casimir et Hippolyte", "link": "https://stackoverflow.com/users/2255089/casimir-et-hippolyte"}, "is_accepted": true, "score": 0, "last_activity_date": 1463925198, "last_edit_date": 1463925198, "creation_date": 1463882658, "answer_id": 37369845, "question_id": 37369803, "link": "https://stackoverflow.com/questions/37369803/how-can-i-access-the-value-in-a-named-capture-group-in-a-regex-in-perl/37369845#37369845", "title": "How can I access the value in a named capture group in a regex in perl?", "body": "<p>Since you force the first branch to fail with <code>(?!)</code>, the named capture group <code>(?&lt;isa&gt;...)</code> that is defined after doesn't capture anything (but is defined as a subpattern).</p>\n\n<p>Only the second branch succeeds, but this one doesn't capture anything for the group \"isa\", it only uses the subpattern alias <code>(?&amp;isa_)</code>.</p>\n\n<p>Your first example returns the warning:</p>\n\n<pre class=\"lang-none prettyprint-override\"><code>Reference to nonexistent named group in regex\n</code></pre>\n\n<p>since \"isa_\" is defined nowhere.</p>\n\n<p>[EDIT] you have changed your \"isa_\" to \"isa\" in your first example, but with this new version, there's no reason anything will be captured in the \"isa\" named group.</p>\n\n<p>Your second example will not populate \"isa\" too, because the capture groups captures things only where they are defined, not elsewhere (even if <code>isa_</code> refers to the group <code>isa</code>.)</p>\n\n<p>The reason is that Perl doesn't store captures in a recursion <em>(only captures at the ground level are kept)</em>. You can test it with this example:</p>\n\n<pre><code>\"this is a test\" =~ /\n  (?!)\n  (?&lt;isa_&gt;\n      (?&lt;isa&gt; is \\s+ a)\n      (?{print \"isa in recursion: $+{isa}\\n\"})\n  )\n|\n  (?&amp;isa_) \\s (?&lt;test&gt; test )\n/x;\n\nprint \"isa: $+{isa}\\ntest: $+{test}\"\n</code></pre>\n\n<hr>\n\n<p>However, you can write:</p>\n\n<pre><code>\"this is a test\" =~ /\n  (?!) (?&lt;isa_&gt; is \\s+ a )\n|\n  (?&lt;isa&gt; (?&amp;isa_) ) \\s (?&lt;test&gt; test )\n/x;\n\nprint \"isa: $+{isa}\\ntest: $+{test}\";\n</code></pre>\n\n<p>But here, the named capture \"isa\" is at the ground level.</p>\n\n<hr>\n\n<p>Note: instead of using <code>(?!)</code> to make the pattern fail and an alternation, you can use the <code>(?(DEFINE)...)</code> syntax:</p>\n\n<pre><code>/(?(DEFINE)\n     (?&lt;isa_&gt; (?&lt;isa&gt; is \\s+ a) )\n )\n (?&amp;isa_) \\s (?&lt;test&gt; test )\n/x\n</code></pre>\n\n<p>or this one:</p>\n\n<pre><code>/(?&lt;isa_&gt; (?&lt;isa&gt; is \\s+ a) ){0}\n (?&amp;isa_) \\s (?&lt;test&gt; test )\n/x\n</code></pre>\n\n<p>In this way you avoid the cost of an alternation.</p>\n"}], "owner": {"reputation": 8353, "user_id": 1366368, "user_type": "registered", "accept_rate": 69, "profile_image": "https://i.stack.imgur.com/9CxXt.jpg?s=128&g=1", "display_name": "Adrian", "link": "https://stackoverflow.com/users/1366368/adrian"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 390, "favorite_count": 0, "accepted_answer_id": 37369845, "answer_count": 1, "score": 0, "last_activity_date": 1463925198, "creation_date": 1463882243, "last_edit_date": 1463921854, "question_id": 37369803, "link": "https://stackoverflow.com/questions/37369803/how-can-i-access-the-value-in-a-named-capture-group-in-a-regex-in-perl", "title": "How can I access the value in a named capture group in a regex in perl?", "body": "<p>I'm trying to access the captured data that was captured in a named capture group called as a subroutine:</p>\n\n<pre><code>use strict;\nuse warnings;\n\"this is a test\" =~ /(?!)\n(?&lt;isa&gt;is\\s+a)\n| (?&amp;isa)\\s\n(?&lt;test&gt;test)/x;\nprint \"isa: $+{isa}\\ntest: $+{test}\"\n</code></pre>\n\n<p>And here's another attempt:</p>\n\n<pre><code>use strict;\nuse warnings;\n\"this is a test\" =~ /(?!)\n(?&lt;isa_&gt;(?&lt;isa&gt;is\\s+a))\n| (?&amp;isa_)\\s\n(?&lt;test&gt;test)/x;\nprint \"isa: $+{isa}\\ntest: $+{test}\"\n</code></pre>\n\n<p>I can't seem to get $+{isa} to be populated.  Why is that and how do I do so?</p>\n"}, {"tags": ["perl", "sqlite", "email"], "answers": [{"comments": [{"owner": {"reputation": 123805, "user_id": 622310, "user_type": "registered", "accept_rate": 33, "profile_image": "https://www.gravatar.com/avatar/8b6d35219e1808520bc238b28161e2e6?s=128&d=identicon&r=PG", "display_name": "Borodin", "link": "https://stackoverflow.com/users/622310/borodin"}, "edited": false, "score": 0, "creation_date": 1463915994, "post_id": 37369847, "comment_id": 62258720, "body": "A better way would be to use single-quotes instead of double-quotes. Since your string already contains single quotes around the email address, you will need to use <code>q&#47;&#47;</code> to supply an alternative delimiter. <code>q{SELECT * FROM accounts WHERE email_address = &#39;xxxxx@xxxxx.xxxxx.edu.au&#39;}</code> will work fine"}], "tags": [], "owner": {"reputation": 97, "user_id": 4010164, "user_type": "registered", "accept_rate": 38, "profile_image": "https://www.gravatar.com/avatar/6e047ccfef3f6e0119f254d858bb2c12?s=128&d=identicon&r=PG&f=1", "display_name": "Rory Perry", "link": "https://stackoverflow.com/users/4010164/rory-perry"}, "is_accepted": false, "score": 0, "last_activity_date": 1463882685, "creation_date": 1463882685, "answer_id": 37369847, "question_id": 37369736, "link": "https://stackoverflow.com/questions/37369736/sqlite-perl-query-issue-with-email-address/37369847#37369847", "title": "SQLite &amp; Perl Query Issue with Email Address", "body": "<p>Ok I'm blind, everyone ignore me. Forgetting that @ dictates an array in perl I didn't think about escaping the @ symbol in the email address. So looks like a minor bit of regex will be needed for email addresses to make sure queries can be put through. </p>\n\n<p>Simple solution: </p>\n\n<pre><code>my $sql = \"SELECT * FROM accounts WHERE email_address = 'xxxxx\\@xxxxx.xxxxx.edu.au'\";\n                                                              ^ inserted escape char!\n</code></pre>\n"}, {"tags": [], "owner": {"reputation": 50468, "user_id": 1331451, "user_type": "registered", "accept_rate": 96, "profile_image": "https://i.stack.imgur.com/4ZPmj.png?s=128&g=1", "display_name": "simbabque", "link": "https://stackoverflow.com/users/1331451/simbabque"}, "is_accepted": false, "score": 1, "last_activity_date": 1463915439, "creation_date": 1463915439, "answer_id": 37373573, "question_id": 37369736, "link": "https://stackoverflow.com/questions/37369736/sqlite-perl-query-issue-with-email-address/37373573#37373573", "title": "SQLite &amp; Perl Query Issue with Email Address", "body": "<p>You correctly identified what the problem is, but your solution is less than optimal. Instead of escaping the input manually in your code, you should be using <a href=\"https://metacpan.org/pod/DBI#Placeholders-and-Bind-Values\" rel=\"nofollow\">placeholders</a>. DBI makes this very comfortable.</p>\n\n<p>That's done putting <code>?</code> without quotes into your SQL, and then passing the arguments to <code>execute</code>. DBI will handle all the escaping of characters that carry a meaning in SQL, thus rendering SQL injection impossible. This was not a problem in this case, but it's a nice bonus.</p>\n\n<pre><code>my $email = 'xxxxx@xxxxx.xxxxx.edu.au';\nmy $sql = \"SELECT * FROM accounts WHERE email_address = ?\";\nmy $sth = $dbh-&gt;prepare($sql) or die \"Can't prepare: \" . $dbh-&gt;errstr;\n$sth-&gt;execute($email) or die \"Can't execute: \" . $sth-&gt;errstr;\n\nmy @row;\nwhile ( @row = $sth-&gt;fetchrow_array ) {\n    print join( q/, /, @row ), \"\\n\";\n}\n</code></pre>\n\n<p>Of course, you could have simply used single quotes <code>'</code> for the whole SQL as well since you're not doing any variable interpolation anyway. However, you should <strong>always use placeholders</strong>.</p>\n\n<hr>\n\n<p>It looks like you are trying to produce a CSV file. Take a look at <a href=\"https://metacpan.org/pod/Text::CSV\" rel=\"nofollow\">Text::CSV</a>, it will make your life easier.</p>\n"}, {"tags": [], "owner": {"reputation": 123805, "user_id": 622310, "user_type": "registered", "accept_rate": 33, "profile_image": "https://www.gravatar.com/avatar/8b6d35219e1808520bc238b28161e2e6?s=128&d=identicon&r=PG", "display_name": "Borodin", "link": "https://stackoverflow.com/users/622310/borodin"}, "is_accepted": false, "score": 1, "last_activity_date": 1463915759, "creation_date": 1463915759, "answer_id": 37373630, "question_id": 37369736, "link": "https://stackoverflow.com/questions/37369736/sqlite-perl-query-issue-with-email-address/37373630#37373630", "title": "SQLite &amp; Perl Query Issue with Email Address", "body": "<p>You are right about perl interpolating arrays into your string, but you should also have seen a message that warned you of that</p>\n\n<pre><code>Possible unintended interpolation of @xxxxx in string\n</code></pre>\n\n<p>It's also much better to use <em>placeholders</em> in your SQL string and pass the real data in your call to <code>execute</code>. It has the advantage that you need only <code>prepare</code> your SQL statement once, but <code>execute</code> it multiple times with different values for the email address. It also handles any necessary quoting of the values for you</p>\n\n<p>I suggest your code should look like this</p>\n\n<pre><code>my $account_by_email = $dbh-&gt;prepare('SELECT * FROM accounts WHERE email_address = ?');\n\n$account_by_email-&gt;execute('xxxxx@xxxxx.xxxxx.edu.au');\n\nwhile ( my @row = $account_by_email-&gt;fetchrow_array ) {\n    print join( ', ', @row ), \"\\n\";\n}\n</code></pre>\n"}], "owner": {"reputation": 97, "user_id": 4010164, "user_type": "registered", "accept_rate": 38, "profile_image": "https://www.gravatar.com/avatar/6e047ccfef3f6e0119f254d858bb2c12?s=128&d=identicon&r=PG&f=1", "display_name": "Rory Perry", "link": "https://stackoverflow.com/users/4010164/rory-perry"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 98, "favorite_count": 0, "answer_count": 3, "score": 1, "last_activity_date": 1463915759, "creation_date": 1463881463, "question_id": 37369736, "link": "https://stackoverflow.com/questions/37369736/sqlite-perl-query-issue-with-email-address", "title": "SQLite &amp; Perl Query Issue with Email Address", "body": "<p>I'm trying to query an SQLite3 database (in preparation for building a perl based webpage with authentication for a university assignment). The problem I have is that the database is returning a null result when trying to query by the email address which is also the username for the purpose of this database. </p>\n\n<p>The query looks as follows:</p>\n\n<pre><code>my $sql = \"SELECT * FROM accounts WHERE email_address = 'xxxxx@xxxxx.xxxxx.edu.au'\";\nmy $sth = $dbh-&gt;prepare( $sql ) or die( \"Can't prepare: \" . $dbh-&gt;errstr() );\n$sth-&gt;execute() or die( \"Can't execute: \" . $sth-&gt;errstr() );\n\nmy @row;\nwhile( @row = $sth-&gt;fetchrow_array() )\n{\n    print join( q/, /, @row ), \"\\n\";\n}\n</code></pre>\n\n<p>This prints out a null result. Yet if I were to query via the first_name or last_name fields on the database I'm able to get the data to print out.</p>\n\n<p>The email address is in the following format: xxx@xxx.xxx.edu.au</p>\n\n<p>The database structure is as follows:</p>\n\n<pre><code>accounts(\nemail_address VARCHAR(50) PRIMARY KEY,\nlast_name VARCHAR(30) NOT NULL,\nfirst_name VARCHAR(30) NOT NULL,\npassword VARCHAR(100) NOT NULL,\npass_salt VARCHAR(10) NOT NULL,\naccount_balance DOUBLE\n);\n</code></pre>\n\n<p>Any advice anyone can offer would be much apreciated!</p>\n"}, {"tags": ["perl", "templates"], "answers": [{"tags": [], "owner": {"reputation": 50468, "user_id": 1331451, "user_type": "registered", "accept_rate": 96, "profile_image": "https://i.stack.imgur.com/4ZPmj.png?s=128&g=1", "display_name": "simbabque", "link": "https://stackoverflow.com/users/1331451/simbabque"}, "is_accepted": false, "score": 2, "last_activity_date": 1463867366, "creation_date": 1463867366, "answer_id": 37368354, "question_id": 37367674, "link": "https://stackoverflow.com/questions/37367674/assigning-inside-textxslate-template-using-tterse-syntax/37368354#37368354", "title": "Assigning inside Text::Xslate template using TTerse syntax", "body": "<p><a href=\"https://metacpan.org/pod/Text::Xslate::Syntax::TTerse#Misc\" rel=\"nofollow\">The manual</a> only talks about making and assigning new variables, not existing ones. It even discourages using that feature at all.</p>\n\n<blockquote>\n  <p>SET and assignments, although the use of them are strongly\n  discouraged.</p>\n\n<pre><code>[% SET var1 = expr1, var2 = expr2 %]\n[% var = expr %]\n</code></pre>\n</blockquote>\n"}, {"tags": [], "owner": {"reputation": 927, "user_id": 5403907, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/F3lnS.jpg?s=128&g=1", "display_name": "mbethke", "link": "https://stackoverflow.com/users/5403907/mbethke"}, "is_accepted": true, "score": 2, "last_activity_date": 1463893121, "creation_date": 1463893121, "answer_id": 37370725, "question_id": 37367674, "link": "https://stackoverflow.com/questions/37367674/assigning-inside-textxslate-template-using-tterse-syntax/37370725#37370725", "title": "Assigning inside Text::Xslate template using TTerse syntax", "body": "<p>No, it's not possible like that, and if you read <a href=\"http://www.cs.usfca.edu/~parrt/papers/mvc.templates.pdf\" rel=\"nofollow\">the MVC paper</a> the manual links to you'll see why this was an explicit design goal. Passing data back from the view to the controller should be a big no-no. You could always work around that by defining a custom function that you can use to call back to Perl from the template but do think twice if you really really want a hack like this.</p>\n"}], "owner": {"reputation": 801, "user_id": 1773755, "user_type": "registered", "accept_rate": 50, "profile_image": "https://www.gravatar.com/avatar/44fb21ce6090a0df87b3694f074a7cdb?s=128&d=identicon&r=PG", "display_name": "Basil", "link": "https://stackoverflow.com/users/1773755/basil"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 129, "favorite_count": 1, "accepted_answer_id": 37370725, "answer_count": 2, "score": 0, "last_activity_date": 1463913876, "creation_date": 1463862622, "last_edit_date": 1463913876, "question_id": 37367674, "link": "https://stackoverflow.com/questions/37367674/assigning-inside-textxslate-template-using-tterse-syntax", "title": "Assigning inside Text::Xslate template using TTerse syntax", "body": "<p>When I use Text::Xslate template engine and gather data that will be supplied to the template within Perl script, everything works fine and as expected:</p>\n\n<pre><code>my %vars = (\n    some =&gt; {\n        nested =&gt; {\n            thing =&gt; 'foobar',\n        },\n    },\n);\n\n# template.tx contains [% some.nested.thing %]\nmy $content = $tx-&gt;render('template.tx', \\%vars);\n</code></pre>\n\n<p>As expected, <code>[% some.nested.thing %]</code> got replaced by \"foobar\".\nIf I assign within template in this way:</p>\n\n<p><code>[% some_nested_thing = 'foobar' %]</code></p>\n\n<p>everything works fine as well.\nBut, when I try to assign this way:</p>\n\n<p><code>[% some.nested.thing = 'foobar' %]</code></p>\n\n<p>it fails with this message: <code>Text::Xslate::Compiler: Cannot modify ., which is not a lexical variable</code>.</p>\n\n<p>So, is it even possible in Text::Xslate to assign inside templates like that?</p>\n\n<hr/>\n\n<p>It is worthy of note that multidimensional hashes still can be created inside Text::Xslate templates:</p>\n\n<pre><code>[% some = {\n    nested =&gt; {\n        thing   =&gt; 'foobar',\n    }\n} %]\n</code></pre>\n\n<p>and then elements in it can be referenced like <code>[% some.nested.thing %]</code>.</p>\n"}, {"tags": ["perl", "hash", "key", "exists"], "comments": [{"owner": {"reputation": 48798, "user_id": 223226, "user_type": "registered", "accept_rate": 93, "profile_image": "https://i.stack.imgur.com/iGqE4.png?s=128&g=1", "display_name": "mpapec", "link": "https://stackoverflow.com/users/223226/mpapec"}, "edited": false, "score": 1, "creation_date": 1463857549, "post_id": 37366918, "comment_id": 62246755, "body": "<a href=\"http://stackoverflow.com/a/9789533/223226\">stackoverflow.com/a/9789533/223226</a>"}, {"owner": {"reputation": 8273, "user_id": 1334695, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/431ae6e9f7610b9d6a6a6cdebd0244d5?s=128&d=identicon&r=PG", "display_name": "stevieb", "link": "https://stackoverflow.com/users/1334695/stevieb"}, "edited": false, "score": 0, "creation_date": 1463857868, "post_id": 37366918, "comment_id": 62246834, "body": "Note that <code>defined</code> does the same thing."}], "answers": [{"tags": [], "owner": {"reputation": 141, "user_id": 6277637, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/2b75bd241571946bd8060b505d56ec4b?s=128&d=identicon&r=PG&f=1", "display_name": "James E Keenan", "link": "https://stackoverflow.com/users/6277637/james-e-keenan"}, "is_accepted": false, "score": 3, "last_activity_date": 1463859668, "creation_date": 1463859668, "answer_id": 37367263, "question_id": 37366918, "link": "https://stackoverflow.com/questions/37366918/fixing-keys-that-spring-into-existence-when-calling-exist-on-a-nested-hash/37367263#37367263", "title": "Fixing keys that spring into existence when calling exist on a nested hash", "body": "<p>Try: <code>perldoc -q multilevel</code></p>\n\n<p>Or <a href=\"http://perldoc.perl.org/perlfaq4.html#How-can-I-check-if-a-key-exists-in-a-multilevel-hash%3F\" rel=\"nofollow\">http://perldoc.perl.org/perlfaq4.html#How-can-I-check-if-a-key-exists-in-a-multilevel-hash%3F</a></p>\n"}, {"tags": [], "owner": {"reputation": 320771, "user_id": 589924, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/b2cf53d5a3d25f95c0db4e025aed4153?s=128&d=identicon&r=PG", "display_name": "ikegami", "link": "https://stackoverflow.com/users/589924/ikegami"}, "is_accepted": true, "score": 3, "last_activity_date": 1464200694, "last_edit_date": 1464200694, "creation_date": 1463860040, "answer_id": 37367315, "question_id": 37366918, "link": "https://stackoverflow.com/questions/37366918/fixing-keys-that-spring-into-existence-when-calling-exist-on-a-nested-hash/37367315#37367315", "title": "Fixing keys that spring into existence when calling exist on a nested hash", "body": "<p>Dereferencing undefined variables<sup>[1]</sup> is what causes autovivification<sup>[2]</sup>. Examples of dereferencing:</p>\n\n<ul>\n<li><code>$ref-&gt;{key}</code> and <code>${$ref}{key}</code></li>\n<li><code>$ref-&gt;[0]</code> and <code>${$ref}[0]</code></li>\n<li><code>$$ref</code></li>\n<li><code>@$ref</code></li>\n<li>etc.</li>\n</ul>\n\n<p>You can avoid it by replacing </p>\n\n<pre><code>exists( $ref-&gt;{\"Some key\"} )\n</code></pre>\n\n<p>with</p>\n\n<pre><code>$ref &amp;&amp; exists( $ref-&gt;{\"Some key\"} )\n</code></pre>\n\n<p>or by adding </p>\n\n<pre><code>no autovivification;\n</code></pre>\n\n<hr>\n\n<ol>\n<li><p>Under certain circumstances.</p></li>\n<li><p>\"Autovivification\" can also be used to refer to the creation of non-existent variables (<code>$x = 1;</code>), elements of hashes (<code>my %h; $h{$key} = 1;</code>) and elements of arrays (<code>my @a; $a[3] = 1;</code>). This post does not address these as it is not relevant here.</p></li>\n</ol>\n"}, {"tags": [], "owner": {"reputation": 405, "user_id": 6336615, "user_type": "registered", "profile_image": "https://lh5.googleusercontent.com/-54JWXHU1LhI/AAAAAAAAAAI/AAAAAAAABKc/N9fUA8Ue7e4/photo.jpg?sz=128", "display_name": "Wayne Booth", "link": "https://stackoverflow.com/users/6336615/wayne-booth"}, "is_accepted": false, "score": 1, "last_activity_date": 1463861680, "creation_date": 1463861680, "answer_id": 37367543, "question_id": 37366918, "link": "https://stackoverflow.com/questions/37366918/fixing-keys-that-spring-into-existence-when-calling-exist-on-a-nested-hash/37367543#37367543", "title": "Fixing keys that spring into existence when calling exist on a nested hash", "body": "<p>You should add</p>\n\n<pre><code>no autovivification;\n</code></pre>\n\n<p>to the top of your module. This will prevent autovivification from creating the structure down to your test point.</p>\n"}], "owner": {"reputation": 28, "user_id": 4263485, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/37ca6cbe4706e9a8bebc05ed68de7e38?s=128&d=identicon&r=PG", "display_name": "Programmers_must_be_bald", "link": "https://stackoverflow.com/users/4263485/programmers-must-be-bald"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 86, "favorite_count": 0, "accepted_answer_id": 37367315, "answer_count": 3, "score": 1, "last_activity_date": 1464200694, "creation_date": 1463857202, "last_edit_date": 1495535317, "question_id": 37366918, "link": "https://stackoverflow.com/questions/37366918/fixing-keys-that-spring-into-existence-when-calling-exist-on-a-nested-hash", "title": "Fixing keys that spring into existence when calling exist on a nested hash", "body": "<p>Dear Stackoverflowers,</p>\n\n<p>When calling exist on a hash for testing the existence of keys much further nested in a hash that does not exist, it will create keys leading to final test to see if the final key exist.</p>\n\n<p>The example from perldoc exists is such:</p>\n\n<pre><code>undef $ref;\nif (exists $ref-&gt;{\"Some key\"}) {}\nprint $ref;  # prints HASH(0x80d3d5c)\n</code></pre>\n\n<p>I absolutely love the autovification feature of perl; however, I am now absolutely frightened of using exists for any future projects I may have.</p>\n\n<p>Does anyone know if and/or how one may edit the library perl uses exists from or perhaps use a module to correct for this?  It is really silly that if it does not exist, it makes one to see if future keys will exist.</p>\n\n<p>Lastly, learning from the question below in <a href=\"https://stackoverflow.com/questions/9789333/checking-for-existence-of-hash-key-creates-key\">Checking for existence of hash key creates key</a>, one of the comments states OO-style for deeply nested hashes are suggested.  Will there be any technical issues with deeply nested (>n=10) and high memory (>8GB) with very simple floating values stored in these nested hashes?  Or just issues like this one?</p>\n"}, {"tags": ["perl"], "comments": [{"owner": {"reputation": 123805, "user_id": 622310, "user_type": "registered", "accept_rate": 33, "profile_image": "https://www.gravatar.com/avatar/8b6d35219e1808520bc238b28161e2e6?s=128&d=identicon&r=PG", "display_name": "Borodin", "link": "https://stackoverflow.com/users/622310/borodin"}, "edited": false, "score": 0, "creation_date": 1463904150, "post_id": 37364935, "comment_id": 62255589, "body": "Note that your use of <code>Exporter</code> is incorrect here. Exporting and inheritance are two completely separate mechanisms, and if you&#39;re writing object-oriented code then you don&#39;t want <code>Exporter</code>. It&#39;s also probably better to write specific accessor methods for the public attributes, as your <code>getattr</code> allows direct access to all instance variables regardless of whether they are meant to be public or private. It&#39;s only a fractional improvement on writing <code>$obj-&gt;{&#39;attr&#39;}</code> in the calling code"}], "answers": [{"comments": [{"owner": {"reputation": 3669, "user_id": 1867151, "user_type": "registered", "accept_rate": 64, "profile_image": "https://www.gravatar.com/avatar/f031f9c0fa73a79510c52afe063d5370?s=128&d=identicon&r=PG", "display_name": "user1867151", "link": "https://stackoverflow.com/users/1867151/user1867151"}, "edited": false, "score": 0, "creation_date": 1463847042, "post_id": 37365229, "comment_id": 62243384, "body": "Helllo @Stevieb . Thanks for your response . Then how does inheriting attributes work in Perl . What are attributes of a class in Perl that can be inherited ?"}, {"owner": {"reputation": 8273, "user_id": 1334695, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/431ae6e9f7610b9d6a6a6cdebd0244d5?s=128&d=identicon&r=PG", "display_name": "stevieb", "link": "https://stackoverflow.com/users/1334695/stevieb"}, "reply_to_user": {"reputation": 3669, "user_id": 1867151, "user_type": "registered", "accept_rate": 64, "profile_image": "https://www.gravatar.com/avatar/f031f9c0fa73a79510c52afe063d5370?s=128&d=identicon&r=PG", "display_name": "user1867151", "link": "https://stackoverflow.com/users/1867151/user1867151"}, "edited": false, "score": 0, "creation_date": 1463847584, "post_id": 37365229, "comment_id": 62243533, "body": "I&#39;ve updated my answer to include one way to inherit object attributes."}, {"owner": {"reputation": 3669, "user_id": 1867151, "user_type": "registered", "accept_rate": 64, "profile_image": "https://www.gravatar.com/avatar/f031f9c0fa73a79510c52afe063d5370?s=128&d=identicon&r=PG", "display_name": "user1867151", "link": "https://stackoverflow.com/users/1867151/user1867151"}, "edited": false, "score": 1, "creation_date": 1463849685, "post_id": 37365229, "comment_id": 62244189, "body": "Thanks @stevieb , but in the way you have shown we don&#39;t have to inherit the Employee class at all .if we replace $class-&gt;SUPER::new();  with Employee-&gt;new().  Apart from using SUPER and calling the superclass constructor is there no other way by which attributes are imported automatically the way methods are?"}, {"owner": {"reputation": 8273, "user_id": 1334695, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/431ae6e9f7610b9d6a6a6cdebd0244d5?s=128&d=identicon&r=PG", "display_name": "stevieb", "link": "https://stackoverflow.com/users/1334695/stevieb"}, "reply_to_user": {"reputation": 3669, "user_id": 1867151, "user_type": "registered", "accept_rate": 64, "profile_image": "https://www.gravatar.com/avatar/f031f9c0fa73a79510c52afe063d5370?s=128&d=identicon&r=PG", "display_name": "user1867151", "link": "https://stackoverflow.com/users/1867151/user1867151"}, "edited": false, "score": 0, "creation_date": 1463849883, "post_id": 37365229, "comment_id": 62244269, "body": "No. Without accessors, you&#39;d have to export and import them. The <code>SUPER</code> package is just a convenience feature. If you ever change to a new base class, you don&#39;t have to change any code later. It&#39;s similar to the special <code>__PACKAGE__</code> variable."}], "tags": [], "owner": {"reputation": 8273, "user_id": 1334695, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/431ae6e9f7610b9d6a6a6cdebd0244d5?s=128&d=identicon&r=PG", "display_name": "stevieb", "link": "https://stackoverflow.com/users/1334695/stevieb"}, "is_accepted": true, "score": 2, "last_activity_date": 1463848928, "last_edit_date": 1463848928, "creation_date": 1463846860, "answer_id": 37365229, "question_id": 37364935, "link": "https://stackoverflow.com/questions/37364935/inheritance-in-perl/37365229#37365229", "title": "Inheritance in Perl", "body": "<p>Variables don't get inherited the same way subs do. To access it, you need to specify the entire package name (and yes, when you declare <code>$private</code>, you need <code>our</code>, not <code>my</code>):</p>\n\n<pre><code>print \"$Employee::private\\n\";\n</code></pre>\n\n<p>It's much more robust to define accessor methods:</p>\n\n<pre><code># Employee package\nsub private {\n    return $private;\n}\n</code></pre>\n\n<p>...then in your script:</p>\n\n<pre><code>my $var = private();\n</code></pre>\n\n<p>To inherit object attributes from Employee, you can do:</p>\n\n<pre><code># Employee\n\nsub new {\n    my $self = bless {\n        dept =&gt; 'HR',\n        hours =&gt; '9-5',\n    }, shift;\n\n    return $self;\n}\n\n# Extend\n\nsub new {\n    my $class = shift;\n    my $self = $class-&gt;SUPER::new; # attrs inherited from Employee\n    $self-&gt;{extended} = 1;\n    return $self;\n}\n\n# script\n\nmy $extend = Extend-&gt;new;\n</code></pre>\n\n<p>Now <code>$extend</code> looks like:</p>\n\n<pre><code>{\n    dept =&gt; 'HR',\n    hours =&gt; '9-5',\n    extended =&gt; 1,\n}\n</code></pre>\n\n<p>You most likely wouldn't set dept or hours in the base class as it will apply to all employees, but I digress.</p>\n"}], "owner": {"reputation": 3669, "user_id": 1867151, "user_type": "registered", "accept_rate": 64, "profile_image": "https://www.gravatar.com/avatar/f031f9c0fa73a79510c52afe063d5370?s=128&d=identicon&r=PG", "display_name": "user1867151", "link": "https://stackoverflow.com/users/1867151/user1867151"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 815, "favorite_count": 1, "accepted_answer_id": 37365229, "answer_count": 1, "score": 2, "last_activity_date": 1463848928, "creation_date": 1463845199, "question_id": 37364935, "link": "https://stackoverflow.com/questions/37364935/inheritance-in-perl", "title": "Inheritance in Perl", "body": "<p>I have two classes, one is the base class(Employee) and the other its subclass which inherits it (Extend) the codes of which are shown below :</p>\n\n<pre><code>package Employee;\nrequire Exporter;\nour @EXPORT = (\"getattr\");\n\nour $private = \"This is a class level variable\";\n\nsub getattr {\n    print \"Inside the getattr function of Employee.pm module \\n\";\n    $self = shift;\n    $attr = shift;\n    return ($self-&gt;{$attr});\n}\n1;\n</code></pre>\n\n<p>================</p>\n\n<pre><code>package Extend;\n\nuse base qw(Employee);\n\nsub new {\n    print \"Inside new method of Employee.pm \\n\";\n    my $class = shift;\n    my %data = (\n                name =&gt; shift,\n                age =&gt; shift,\n               );\n\n    bless \\%data , $class;\n}\n\nsub test {\n    print \"Inside test method of Extend class \\n\";\n}\n\n1;\n</code></pre>\n\n<p>==================</p>\n\n<p>Now I have another piece of code which is using the Extend class :</p>\n\n<pre><code>use Extend;\n\nmy $obj = Extend-&gt;new(\"Subhayan\",30);\nmy $value = $obj-&gt;getattr(\"age\");\nprint (\"The value of variable age is : $value \\n\");\n$obj-&gt;test();\nprint \"Do i get this : $obj.$private \\n\";\n</code></pre>\n\n<p>My question is regarding the variable $private defined in the parent class. As per my concept of inheritance attributes and methods of the parent class should be available through the subclass object . For example the function getattr runs fine . But why am I not being able to access $private variable using the base class Extend object .</p>\n\n<p>What am I missing here ? Can someone please help ?</p>\n"}, {"tags": ["performance", "perl", "sed"], "comments": [{"owner": {"reputation": 123805, "user_id": 622310, "user_type": "registered", "accept_rate": 33, "profile_image": "https://www.gravatar.com/avatar/8b6d35219e1808520bc238b28161e2e6?s=128&d=identicon&r=PG", "display_name": "Borodin", "link": "https://stackoverflow.com/users/622310/borodin"}, "edited": false, "score": 5, "creation_date": 1463838462, "post_id": 37363641, "comment_id": 62240656, "body": "If you already have some session management going on then you should store the <code>seek</code> point for each 100-line block"}, {"owner": {"reputation": 27410, "user_id": 4756299, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/e38adc5559df095cfe10c664916e8ffa?s=128&d=identicon&r=PG&f=1", "display_name": "Andrew Henle", "link": "https://stackoverflow.com/users/4756299/andrew-henle"}, "edited": false, "score": 4, "creation_date": 1463844111, "post_id": 37363641, "comment_id": 62242493, "body": "Try both and find out.  The answer is going to depend on your system to a large degree, and we don&#39;t have access to that."}, {"owner": {"reputation": 3604, "user_id": 436450, "user_type": "registered", "accept_rate": 86, "profile_image": "https://www.gravatar.com/avatar/0afd75178763cf41af43a103b95277ae?s=128&d=identicon&r=PG", "display_name": "jira", "link": "https://stackoverflow.com/users/436450/jira"}, "edited": false, "score": 0, "creation_date": 1463853846, "post_id": 37363641, "comment_id": 62245542, "body": "Also, CGI and speed are not exactly synonyms. Run your script in a persistent environment."}, {"owner": {"reputation": 53041, "user_id": 4653379, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/b3953dbedd0dabff5cbc3db9b0835b14?s=128&d=identicon&r=PG&f=1", "display_name": "zdim", "link": "https://stackoverflow.com/users/4653379/zdim"}, "edited": false, "score": 0, "creation_date": 1463872253, "post_id": 37363641, "comment_id": 62250421, "body": "When you say &quot;read&quot; is it from the disk? Is the user going to page through it at once or can they come back at any time during run time?  Are they going to go back and forth or only down the file? This 100k lines is nothing -- I just counted 400k by reading such a file with one-liner, in under half a second (eyeball-ed). Yes, you can pull it into an array, tie it, seek ... Why this quest to optimize? Please describe the problem better."}, {"owner": {"reputation": 5455, "user_id": 3961170, "user_type": "registered", "accept_rate": 73, "profile_image": "https://i.stack.imgur.com/PtFol.jpg?s=128&g=1", "display_name": "mkHun", "link": "https://stackoverflow.com/users/3961170/mkhun"}, "reply_to_user": {"reputation": 53041, "user_id": 4653379, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/b3953dbedd0dabff5cbc3db9b0835b14?s=128&d=identicon&r=PG&f=1", "display_name": "zdim", "link": "https://stackoverflow.com/users/4653379/zdim"}, "edited": false, "score": 0, "creation_date": 1464326849, "post_id": 37363641, "comment_id": 62448900, "body": "@zdim I tried, I store the content in an array then tie it and read it. For the single user or couple of user it works without any problem(i.e loads fast). But when the user count will increase or there input file size very huge(above 80 MB) my server will hang. <a href=\"http://bioserver2.physics.iisc.ernet.in/cgi-bin/repex/repex_map/repex.pl?filename=143711inputtext.txt.identical&amp;seqflnm=143711inputtext.txt#\" rel=\"nofollow noreferrer\">This is for small size file within 5 MB</a>  And the click the standard view in the bottom of the page which is for above 8 mb with cgi response (i tried it by python cgi with using sed command)."}, {"owner": {"reputation": 5455, "user_id": 3961170, "user_type": "registered", "accept_rate": 73, "profile_image": "https://i.stack.imgur.com/PtFol.jpg?s=128&g=1", "display_name": "mkHun", "link": "https://stackoverflow.com/users/3961170/mkhun"}, "reply_to_user": {"reputation": 53041, "user_id": 4653379, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/b3953dbedd0dabff5cbc3db9b0835b14?s=128&d=identicon&r=PG&f=1", "display_name": "zdim", "link": "https://stackoverflow.com/users/4653379/zdim"}, "edited": false, "score": 0, "creation_date": 1464327123, "post_id": 37363641, "comment_id": 62448994, "body": "@zdim The tool is still under developing"}, {"owner": {"reputation": 53041, "user_id": 4653379, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/b3953dbedd0dabff5cbc3db9b0835b14?s=128&d=identicon&r=PG&f=1", "display_name": "zdim", "link": "https://stackoverflow.com/users/4653379/zdim"}, "edited": false, "score": 0, "creation_date": 1464327863, "post_id": 37363641, "comment_id": 62449237, "body": "OK, so this file is what is served to a number of users. (I didn&#39;t get that.)  So a user requests to view a (part of that) file and they are served via CGI? That&#39;s different. I&#39;d say that the performance problem is elsewhere, with the whole server setup.  For instance as indicated in the answer by amias channer. I don&#39;t think that micro-tuning the speed of seeking and serving 100 lines would solve it.  With how many users does it hang? Without knowing about your circumstances I&#39;d say use the opportunity to pick up some modern approach, not CGI."}], "answers": [{"tags": [], "owner": {"reputation": 308, "user_id": 1986828, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/96txi.jpg?s=128&g=1", "display_name": "Amias", "link": "https://stackoverflow.com/users/1986828/amias"}, "is_accepted": false, "score": 0, "last_activity_date": 1463989811, "creation_date": 1463989811, "answer_id": 37385430, "question_id": 37363641, "link": "https://stackoverflow.com/questions/37363641/how-to-optimize-the-file-processing/37385430#37385430", "title": "How to optimize the file processing?", "body": "<p>If you really want performance then don't use CGI, try using something that keeps a persistent copy of the data in memory between requests. 8mb is tiny these days but loading for every request would not be sensible nor would scanning the whole file.  Modperl was the older way of doing this , it was a perl interpreter embedded in the webserver , the newer way is to use catalyst or dancer, instructions for those are outside the scope of this reply.  You could get away with using CGI if this was only to be use occasionally and was password protected to limit use.</p>\n"}], "owner": {"reputation": 5455, "user_id": 3961170, "user_type": "registered", "accept_rate": 73, "profile_image": "https://i.stack.imgur.com/PtFol.jpg?s=128&g=1", "display_name": "mkHun", "link": "https://stackoverflow.com/users/3961170/mkhun"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 101, "favorite_count": 1, "answer_count": 1, "score": 0, "last_activity_date": 1463989811, "creation_date": 1463837626, "last_edit_date": 1463838636, "question_id": 37363641, "link": "https://stackoverflow.com/questions/37363641/how-to-optimize-the-file-processing", "title": "How to optimize the file processing?", "body": "<p>I'm working on a Perl/CGI script which reads an 8MB file with over 100k lines and displays it in chunks of 100 lines (using pagination).</p>\n\n<p>Which one of the following will be faster </p>\n\n<ol>\n<li><p>Storing the entire input file into an array and extracting 100 lines for each page (using array slicing)  </p>\n\n<pre><code>my @extract = @main_content[101..200];\n</code></pre>\n\n<p>or</p></li>\n<li><p>For each page, using the sed command to extract any 100 lines that the user wants to view. </p>\n\n<pre><code>sed -n '101,200'p filename\n</code></pre></li>\n</ol>\n"}, {"tags": ["linux", "perl"], "comments": [{"owner": {"reputation": 50468, "user_id": 1331451, "user_type": "registered", "accept_rate": 96, "profile_image": "https://i.stack.imgur.com/4ZPmj.png?s=128&g=1", "display_name": "simbabque", "link": "https://stackoverflow.com/users/1331451/simbabque"}, "edited": false, "score": 2, "creation_date": 1463830333, "post_id": 37362323, "comment_id": 62238244, "body": "Where does your <code>$kullaniciadi</code> come from? Is it user input? Also, that program cannot give the result you are claiming. The <code>&#47;meme.txt</code> part of the string is missing. Please <a href=\"https://stackoverflow.com/posts/37362323/edit\">edit</a> your question and show your <b>real</b> code."}, {"owner": {"reputation": 1, "user_id": 6182614, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/0ftzw.png?s=128&g=1", "display_name": "Musa Y\u0131ld\u0131r\u0131m", "link": "https://stackoverflow.com/users/6182614/musa-y%c4%b1ld%c4%b1r%c4%b1m"}, "reply_to_user": {"reputation": 50468, "user_id": 1331451, "user_type": "registered", "accept_rate": 96, "profile_image": "https://i.stack.imgur.com/4ZPmj.png?s=128&g=1", "display_name": "simbabque", "link": "https://stackoverflow.com/users/1331451/simbabque"}, "edited": false, "score": 0, "creation_date": 1463830570, "post_id": 37362323, "comment_id": 62238316, "body": "@simbabque Firstly Thank you for edited. my $kullaniciadi = &lt;STDIN&gt;;"}, {"owner": {"reputation": 113221, "user_id": 100754, "user_type": "registered", "accept_rate": 90, "profile_image": "https://www.gravatar.com/avatar/7804ebae32fbadef38537d74a915c22f?s=128&d=identicon&r=PG", "display_name": "Sinan &#220;n&#252;r", "link": "https://stackoverflow.com/users/100754/sinan-%c3%9cn%c3%bcr"}, "edited": false, "score": 0, "creation_date": 1464014347, "post_id": 37362323, "comment_id": 62296691, "body": "And, of course, using Turkish variable names makes it ambiguous whether you are referring to the English word &quot;<a href=\"https://en.wikipedia.org/wiki/Meme\" rel=\"nofollow noreferrer\">meme</a>&quot; or something else, which, especially when combined with &quot;ne g&#252;zel&quot; may not be approriate on Stackoverflow."}], "answers": [{"tags": [], "owner": {"reputation": 50468, "user_id": 1331451, "user_type": "registered", "accept_rate": 96, "profile_image": "https://i.stack.imgur.com/4ZPmj.png?s=128&g=1", "display_name": "simbabque", "link": "https://stackoverflow.com/users/1331451/simbabque"}, "is_accepted": true, "score": 3, "last_activity_date": 1463830664, "creation_date": 1463830664, "answer_id": 37362409, "question_id": 37362323, "link": "https://stackoverflow.com/questions/37362323/space-error-in-perl/37362409#37362409", "title": "Space error in perl", "body": "<p>You need to <a href=\"http://perldoc.perl.org/functions/chomp.html\" rel=\"nofollow\"><code>chomp</code></a> your input. It has a line break. <code>chomp</code> will remove that newline character <code>\\n</code> for you.</p>\n\n<pre><code>my $kullaniciadi = &lt;STDIN&gt;;\nchomp $kullaniciadi;\n\nmy $dizin = \"/home/$kullaniciadi/public_html/meme.txt\";\nprint $dizin;\n</code></pre>\n"}], "owner": {"reputation": 1, "user_id": 6182614, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/0ftzw.png?s=128&g=1", "display_name": "Musa Y\u0131ld\u0131r\u0131m", "link": "https://stackoverflow.com/users/6182614/musa-y%c4%b1ld%c4%b1r%c4%b1m"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 34, "favorite_count": 0, "accepted_answer_id": 37362409, "answer_count": 1, "score": -5, "last_activity_date": 1464014789, "creation_date": 1463830180, "last_edit_date": 1464014789, "question_id": 37362323, "link": "https://stackoverflow.com/questions/37362323/space-error-in-perl", "title": "Space error in perl", "body": "<p>I have written this code:</p>\n\n<pre><code>my $dizin = \"/home/$kullaniciadi/public_html/dosya.txt\";\nprint $dizin;\n</code></pre>\n\n<p>This result comes:</p>\n\n<pre><code>/home/neguzel\n/public_html\n</code></pre>\n\n<p>But I want it to be <code>/home/username/public_html</code>. I don't want it to be </p>\n\n<pre><code>/home/usernames\n/public_html\n</code></pre>\n\n<p>How can I remove that line break?</p>\n"}, {"tags": ["perl", "hash"], "answers": [{"tags": [], "owner": {"reputation": 320771, "user_id": 589924, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/b2cf53d5a3d25f95c0db4e025aed4153?s=128&d=identicon&r=PG", "display_name": "ikegami", "link": "https://stackoverflow.com/users/589924/ikegami"}, "is_accepted": true, "score": 11, "last_activity_date": 1463891639, "last_edit_date": 1463891639, "creation_date": 1463806143, "answer_id": 37359018, "question_id": 37358958, "link": "https://stackoverflow.com/questions/37358958/keys-vs-values-performance/37359018#37359018", "title": "keys vs values performance", "body": "<p>The keys aren't stored in the hash as scalar. A string scalar must therefore be created for each key returned by <code>keys</code>.</p>\n\n<p>On the other hand, the values are stored as scalars in the hash, and those very scalars are returned by <code>values</code>. Nothing copied but a pointer.</p>\n\n<hr>\n\n<p>The above can be demonstrated using using the following benchmark:</p>\n\n<pre><code>use strict;\nuse warnings;\n\nuse Benchmark qw( cmpthese );\n\nmy %sm_hash = map {                    sprintf('%04d', $_) } 1 .. 1000*2;\nmy %lg_hash = map { ( \"x\" x 10_000 ) . sprintf('%04d', $_) } 1 .. 1000*2;\n\ncmpthese(-3, {\n   sm_values =&gt; sub { 1 for values %sm_hash },\n   lg_values =&gt; sub { 1 for values %lg_hash },\n   sm_keys   =&gt; sub { 1 for keys   %sm_hash },\n   lg_keys   =&gt; sub { 1 for keys   %lg_hash },\n});\n</code></pre>\n\n<p>Output:</p>\n\n<pre><code>             Rate   lg_keys   sm_keys lg_values sm_values\nlg_keys    5286/s        --      -19%      -57%      -58%\nsm_keys    6532/s   ==&gt; 24%        --      -47%      -48%\nlg_values 12247/s      132%       87%        --       -2%\nsm_values 12517/s      137%       92%    ==&gt; 2%        --\n</code></pre>\n\n<p>As you can see, then length of the keys has an effect on how long it takes for <code>keys</code> to be evaluated, but the length of the values has no effect on how long it takes for <code>values</code> to be evaluated.</p>\n\n<hr>\n\n<p>A simpler but less definitive demonstration comes in the form of an attempt to modify the values returned by <code>keys</code> and <code>values</code>.</p>\n\n<pre><code>for (keys(%h)) {\n   $_ = uc($_);  # Has no effect on the hash.\n}\n\nfor (values(%h)) {\n   $_ = uc($_);  # Effects the hash.\n}\n</code></pre>\n"}], "owner": {"reputation": 48798, "user_id": 223226, "user_type": "registered", "accept_rate": 93, "profile_image": "https://i.stack.imgur.com/iGqE4.png?s=128&g=1", "display_name": "mpapec", "link": "https://stackoverflow.com/users/223226/mpapec"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 126, "favorite_count": 2, "accepted_answer_id": 37359018, "answer_count": 1, "score": 4, "last_activity_date": 1463891639, "creation_date": 1463805646, "question_id": 37358958, "link": "https://stackoverflow.com/questions/37358958/keys-vs-values-performance", "title": "keys vs values performance", "body": "<p>I would like to know theoretical background of hash values performing better than keys, and whether perldoc covers this topic.</p>\n\n<pre><code>use strict;\nuse warnings;\nuse Benchmark qw(:all);\n\nmy %hash = 1 .. 30_000;\n\ncmpthese(-3, {\n  values =&gt; sub {\n    for my $v (values %hash) { }\n\n  },\n  keys =&gt; sub {\n    for my $v (keys %hash) { }\n  },\n  avalues =&gt; sub {\n    for my $v (@{[ values %hash ]}) { }\n  },\n  akeys =&gt; sub {\n    for my $v (@{[ keys %hash ]}) { }\n  },\n});\n\n__DATA__\n         Rate   akeys    keys avalues  values\nakeys   196/s      --    -33%    -56%    -71%\nkeys    294/s     50%      --    -35%    -57%\navalues 451/s    130%     54%      --    -33%\nvalues  677/s    245%    131%     50%      --\n</code></pre>\n\n<p>perl is 5.20.0</p>\n"}, {"tags": ["regex", "perl", "replace", "newline"], "comments": [{"owner": {"reputation": 10272, "user_id": 1996394, "user_type": "registered", "accept_rate": 80, "profile_image": "https://www.gravatar.com/avatar/bb7cf5d8bf03c5335a0ece8f6673541d?s=128&d=identicon&r=PG", "display_name": "rock321987", "link": "https://stackoverflow.com/users/1996394/rock321987"}, "edited": false, "score": 2, "creation_date": 1463802845, "post_id": 37358676, "comment_id": 62231928, "body": "the file is read line by line and not at once..so it is happening"}], "answers": [{"tags": [], "owner": {"reputation": 5455, "user_id": 3961170, "user_type": "registered", "accept_rate": 73, "profile_image": "https://i.stack.imgur.com/PtFol.jpg?s=128&g=1", "display_name": "mkHun", "link": "https://stackoverflow.com/users/3961170/mkhun"}, "is_accepted": true, "score": 3, "last_activity_date": 1463805860, "last_edit_date": 1463805860, "creation_date": 1463804097, "answer_id": 37358815, "question_id": 37358676, "link": "https://stackoverflow.com/questions/37358676/replace-all-text-including-newlines-between-two-strings-with-perl/37358815#37358815", "title": "Replace all text, including newlines, between two strings with perl", "body": "<p>You want to add the <code>0777</code>. So your one liner should be.</p>\n\n<pre><code>perl -0777 -pi -e 's/this.*?content/new content/sg;' *.txt\n</code></pre>\n\n<p><code>0777</code> is a slurp mode. It pass entire files to your script in <code>$_</code></p>\n\n<p>This is equal to <code>local $/;</code></p>\n\n<pre><code> open my $fh,\"&lt;\",\"file\";\n local $/;\n my $s = &lt;$fh&gt;;\n</code></pre>\n\n<p>Here the whole file will store into the <code>$s</code>. </p>\n\n<p>Then, no need to add the <code>\\n</code> in your pattern. Because <code>s</code> modifier to allow the <code>.</code> to match the any character including newlines.</p>\n"}], "owner": {"reputation": 3551, "user_id": 4975772, "user_type": "registered", "accept_rate": 75, "profile_image": "https://i.stack.imgur.com/VZfWd.jpg?s=128&g=1", "display_name": "joshuakcockrell", "link": "https://stackoverflow.com/users/4975772/joshuakcockrell"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 970, "favorite_count": 1, "accepted_answer_id": 37358815, "answer_count": 1, "score": 2, "last_activity_date": 1463805860, "creation_date": 1463802633, "last_edit_date": 1495542239, "question_id": 37358676, "link": "https://stackoverflow.com/questions/37358676/replace-all-text-including-newlines-between-two-strings-with-perl", "title": "Replace all text, including newlines, between two strings with perl", "body": "<p>I have several hundred readme files which follow a specific format. I need to replace a chunk of text in each one with different content. Everything is working great except I'm unable to select the words if there are newlines <code>\\n</code> between the words. An example is as follows:</p>\n\n<pre><code>...\nthis\nis\n\nold\n\n\ncontent\n...\n</code></pre>\n\n<p>I would like to replace all the text in these files so they look like this</p>\n\n<pre><code>...\nnew content\n...\n</code></pre>\n\n<p>I have tried the following perl commands but they do not work with the newlines</p>\n\n<pre><code>perl -pi -w -e 's/this(\\n|.)*?content/new content/g;' *.txt\n</code></pre>\n\n<p>I have tried adding the /s tag based on <a href=\"https://stackoverflow.com/a/226601/4975772\">https://stackoverflow.com/a/226601/4975772</a> (perhaps I'm doing this incorrectly..)</p>\n\n<pre><code>perl -pi -w -e 's/this(\\n|.)*?content/new content/gs;' *.txt\n</code></pre>\n\n<p>Without the \"?\"</p>\n\n<pre><code>perl -pi -w -e 's/this(\\n|.)*content/new content/g;' *.txt\n</code></pre>\n\n<p>Using (.+?) instead of (\\n|.) based on <a href=\"https://stackoverflow.com/q/8303488/4975772\">Regex to match any character including new lines</a></p>\n\n<pre><code>perl -pi -w -e 's/this(.+?)*content/new content/g;' *.txt\n</code></pre>\n\n<p>Using [\\s\\S] instead of (\\n|.) based on <a href=\"https://stackoverflow.com/questions/8303488/regex-to-match-any-character-including-new-lines\">Regex to match any character including new lines</a></p>\n\n<pre><code>perl -pi -w -e 's/this[\\s\\S]*content/new content/g;' *.txt\n</code></pre>\n\n<p>I have tried these expressions inside regexpal.com and they reportedly work perfectly.</p>\n\n<p><a href=\"https://i.stack.imgur.com/FCwL7.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/FCwL7.png\" alt=\"regexpal example\"></a></p>\n\n<p>If I remove the newlines from the readme files, everything works perfectly for <strong>all</strong> of these example perl commands. What am I doing wrong?</p>\n"}, {"tags": ["perl"], "answers": [{"tags": [], "owner": {"reputation": 5701, "user_id": 35812, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/6e663162cefd6ac833e0555933b8583f?s=128&d=identicon&r=PG", "display_name": "Chris Charley", "link": "https://stackoverflow.com/users/35812/chris-charley"}, "is_accepted": false, "score": 3, "last_activity_date": 1463848013, "last_edit_date": 1463848013, "creation_date": 1463801612, "answer_id": 37358592, "question_id": 37358489, "link": "https://stackoverflow.com/questions/37358489/perl-tr-operator-is-transliterating-based-on-the-variables-name-not-its-value/37358592#37358592", "title": "Perl tr operator is transliterating based on the variable&#39;s name not its value", "body": "<p>In the section of the <a href=\"http://perldoc.perl.org/perlop.html#Quote-Like-Operators\" rel=\"nofollow\">docs on perlop 'Quote Like Operators'</a>, it states:</p>\n\n<blockquote>\n  <p>Because the transliteration table is built at compile time, neither\n  the SEARCHLIST nor the REPLACEMENTLIST are subjected to double quote\n  interpolation. That means that if you want to use variables, you must\n  use an eval():</p>\n</blockquote>\n"}, {"tags": [], "owner": {"reputation": 53041, "user_id": 4653379, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/b3953dbedd0dabff5cbc3db9b0835b14?s=128&d=identicon&r=PG&f=1", "display_name": "zdim", "link": "https://stackoverflow.com/users/4653379/zdim"}, "is_accepted": true, "score": 3, "last_activity_date": 1464510564, "last_edit_date": 1464510564, "creation_date": 1463802028, "answer_id": 37358633, "question_id": 37358489, "link": "https://stackoverflow.com/questions/37358489/perl-tr-operator-is-transliterating-based-on-the-variables-name-not-its-value/37358633#37358633", "title": "Perl tr operator is transliterating based on the variable&#39;s name not its value", "body": "<p>You cannot use <code>tr</code> that way, it doesn't interpolate variables.  It runs strictly character by character replacement. So this</p>\n\n<pre><code>$string =~ tr/a$v/123/\n</code></pre>\n\n<p>is going to replace every <code>a</code> with <code>1</code>, every <code>$</code> with <code>2</code>, and every <code>v</code> with <code>3</code>.  It is not a regex but a <em>transliteration</em>.  From <a href=\"http://perldoc.perl.org/perlop.html#Quote-Like-Operators\" rel=\"nofollow\"><code>perlop</code></a></p>\n\n<blockquote>\n  <p>Because the transliteration table is built at compile time, neither the SEARCHLIST nor the REPLACEMENTLIST are subjected to double quote interpolation. That means that if you want to use variables, you must use an eval():  </p>\n\n<pre><code>eval \"tr/$oldlist/$newlist/\";\ndie $@ if $@;\neval \"tr/$oldlist/$newlist/, 1\" or die $@;\n</code></pre>\n</blockquote>\n\n<p>The above example from docs hints how to count. For <code>$dlm</code>s in <code>$string</code></p>\n\n<pre><code>$dlm_count = eval \"\\$string =~ tr/$dlm//\";  \n</code></pre>\n\n<p>The <code>$string</code> is escaped so to not be interpolated before it gets to <code>eval</code>.  In your case</p>\n\n<pre><code>$dlm_count = eval \"tr/$dlm//\";\n</code></pre>\n\n<hr>\n\n<p>You can also use tools other than <code>tr</code> (or regex). For example, with string being in <code>$_</code></p>\n\n<pre><code>my $dlm_count = grep { /$dlm/ } split //;\n</code></pre>\n\n<p>When <a href=\"http://perldoc.perl.org/functions/split.html\" rel=\"nofollow\"><code>split</code></a> breaks <code>$_</code> by the pattern that is empty string (<code>//</code>) it returns the list of all characters in it. Then the <a href=\"http://perldoc.perl.org/functions/grep.html\" rel=\"nofollow\"><code>grep</code></a> block tests each against <code>$dlm</code> so returning the list of as many <code>$dlm</code> characters as there were in <code>$_</code>.  Since this is assigned to a scalar, <code>$dlm_count</code> is set to the length of that list, which is the count of all <code>$dlm</code>.</p>\n"}, {"tags": [], "owner": {"reputation": 320771, "user_id": 589924, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/b2cf53d5a3d25f95c0db4e025aed4153?s=128&d=identicon&r=PG", "display_name": "ikegami", "link": "https://stackoverflow.com/users/589924/ikegami"}, "is_accepted": false, "score": 2, "last_activity_date": 1463808711, "last_edit_date": 1463808711, "creation_date": 1463805347, "answer_id": 37358927, "question_id": 37358489, "link": "https://stackoverflow.com/questions/37358489/perl-tr-operator-is-transliterating-based-on-the-variables-name-not-its-value/37358927#37358927", "title": "Perl tr operator is transliterating based on the variable&#39;s name not its value", "body": "<p>As documented and as you discovered, <code>tr///</code> doesn't interpolate. The simple solution is to use <code>s///</code> instead.</p>\n\n<pre><code>my $dlm = \",\";\n$_ = \"abcdefghij,klm,nopqrstuvwxyz\";\nmy $dlm_count = s/\\Q$dlm/\\t/g;\n</code></pre>\n\n<p>If the transliteration is being performed in a loop, the following might speed things up noticeably:</p>\n\n<pre><code>my $dlm = \",\";\nmy $tr = eval \"sub { tr/\\Q$dlm\\E/\\\\t/ }\";\nfor (...) {\n   my $dlm_count = $tr-&gt;();\n   ...\n}\n</code></pre>\n"}, {"comments": [{"owner": {"reputation": 129, "user_id": 6363296, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/1ebacf79144f45d0b875f2dcc019f412?s=128&d=identicon&r=PG&f=1", "display_name": "rbaumann", "link": "https://stackoverflow.com/users/6363296/rbaumann"}, "edited": false, "score": 0, "creation_date": 1463852302, "post_id": 37359114, "comment_id": 62245041, "body": "Wow, this is a gold mine of responses.  Thanks to all who replied, I greatly appreciate it."}], "tags": [], "owner": {"reputation": 32921, "user_id": 5771269, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/be6a5b618f5bd197150a6186318beba7?s=128&d=identicon&r=PG&f=1", "display_name": "cdlane", "link": "https://stackoverflow.com/users/5771269/cdlane"}, "is_accepted": false, "score": 1, "last_activity_date": 1463807138, "creation_date": 1463807138, "answer_id": 37359114, "question_id": 37358489, "link": "https://stackoverflow.com/questions/37358489/perl-tr-operator-is-transliterating-based-on-the-variables-name-not-its-value/37359114#37359114", "title": "Perl tr operator is transliterating based on the variable&#39;s name not its value", "body": "<p>Although several answers have hinted at the <code>eval()</code> idiom for <code>tr///</code>, none have the form that covers cases where the string has <code>tr</code> syntax characters in it, e.g.- (hyphen):</p>\n\n<pre><code>$_ = \"abcdefghij,klm,nopqrstuvwxyz\";\n\nmy $dlm = \",\";\n\nmy $dlm_count = eval sprintf \"tr/%s/%s/\", map quotemeta, $dlm, \"\\t\";\n</code></pre>\n\n<p>But as others have noted, there are lots of ways to count characters in Perl that avoid <code>eval()</code>, here's another:</p>\n\n<pre><code>my $dlm_count = () = m/$dlm/go;\n</code></pre>\n"}], "owner": {"reputation": 129, "user_id": 6363296, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/1ebacf79144f45d0b875f2dcc019f412?s=128&d=identicon&r=PG&f=1", "display_name": "rbaumann", "link": "https://stackoverflow.com/users/6363296/rbaumann"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 404, "favorite_count": 0, "accepted_answer_id": 37358633, "answer_count": 4, "score": 1, "last_activity_date": 1464510564, "creation_date": 1463800383, "last_edit_date": 1463806579, "question_id": 37358489, "link": "https://stackoverflow.com/questions/37358489/perl-tr-operator-is-transliterating-based-on-the-variables-name-not-its-value", "title": "Perl tr operator is transliterating based on the variable&#39;s name not its value", "body": "<p>I'm using Perl 5.16.2 to try to count the number of occurrences of a particular delimiter in the <code>$_</code> string.  The delimiter is passed to my Perl program via the <code>@ARGV</code> array.  I verify that it is correct within the program.  My instruction to count the number of delimiters in the string is:</p>\n\n<pre><code>$dlm_count = tr/$dlm//;\n</code></pre>\n\n<p>If I hardcode the delimiter, e.g. <code>$dlm_count = tr/,//;</code> the count comes out correctly.  But when I use the variable $dlm, the count is wrong.  I modified the instruction to say </p>\n\n<pre><code>$dlm_count = tr/$dlm/\\t/;\n</code></pre>\n\n<p>and realized from how the tabs were inserted in the string that the operation was substituting every instance of any of the four characters \"<code>$</code>\", \"<code>d</code>\", \"<code>l</code>\", or \"<code>m</code>\" to <code>\\t</code> \u2014 i.e. any of the four characters that made up my variable name <code>$dlm</code>.</p>\n\n<p>Here is a sample program that illustrates the problem:</p>\n\n<pre><code>$_ = \"abcdefghij,klm,nopqrstuvwxyz\";\nmy $dlm = \",\";\nmy $dlm_count = tr/$dlm/\\t/;\nprint \"The count is $dlm_count\\n\";\nprint \"The modified string is $_\\n\";\n</code></pre>\n\n<p>There are only two commas in the <code>$_</code> string, but this program prints the following:</p>\n\n<pre><code>The count is 3  \nThe modified string is abc      efghij,k                ,nopqrstuvwxyz\n</code></pre>\n\n<p>Why is the <code>$dlm</code> token being treated as a literal string of four characters instead of as a variable name?</p>\n"}, {"tags": ["java", "perl"], "answers": [{"comments": [{"owner": {"reputation": 3, "user_id": 5905065, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/63ed1da33ae8df07e4b8dbe41a3e6172?s=128&d=identicon&r=PG&f=1", "display_name": "arfaoui haythem", "link": "https://stackoverflow.com/users/5905065/arfaoui-haythem"}, "edited": false, "score": 0, "creation_date": 1463842818, "post_id": 37359085, "comment_id": 62242063, "body": "thank you for helping me but it is the same problem he told me &quot;Can&#39;t locate Uniscan/Crawler.pm in @INC (you may need to install the Uniscan::Crawler module) (@INC contains:&quot; any suggestions ?"}, {"owner": {"reputation": 3, "user_id": 5905065, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/63ed1da33ae8df07e4b8dbe41a3e6172?s=128&d=identicon&r=PG&f=1", "display_name": "arfaoui haythem", "link": "https://stackoverflow.com/users/5905065/arfaoui-haythem"}, "edited": false, "score": 0, "creation_date": 1463854048, "post_id": 37359085, "comment_id": 62245612, "body": "thx it seems work your answer but i found another prob 1- &quot;ERROR: Could not open uniscan.conf for read: No such file or directory&quot; however i have file &quot;uniscan.conf&quot; 2-&quot;Compilation failed in require at path/Uniscan/Crawler.pm line 4&quot; and in line 4 there is use Uniscan::Http; 3-&quot;BEGIN failed--compilation aborted at path/Uniscan/Crawler.pm line &quot; 4-&quot;Compilation failed in require at path\\uniscan.pl line 25.&quot; and in line 25 use Uniscan::Crawler; 5-&quot;BEGIN failed--compilation aborted at path\\uniscan.pl line 25.&quot;"}, {"owner": {"reputation": 320771, "user_id": 589924, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/b2cf53d5a3d25f95c0db4e025aed4153?s=128&d=identicon&r=PG", "display_name": "ikegami", "link": "https://stackoverflow.com/users/589924/ikegami"}, "reply_to_user": {"reputation": 3, "user_id": 5905065, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/63ed1da33ae8df07e4b8dbe41a3e6172?s=128&d=identicon&r=PG&f=1", "display_name": "arfaoui haythem", "link": "https://stackoverflow.com/users/5905065/arfaoui-haythem"}, "edited": false, "score": 0, "creation_date": 1463859374, "post_id": 37359085, "comment_id": 62247232, "body": "Apparently, it makes the same assumption in other places too. Just start the program with <code>C:</code> as the current drive and <code>\\uniscan</code> as its current directory."}, {"owner": {"reputation": 3, "user_id": 5905065, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/63ed1da33ae8df07e4b8dbe41a3e6172?s=128&d=identicon&r=PG&f=1", "display_name": "arfaoui haythem", "link": "https://stackoverflow.com/users/5905065/arfaoui-haythem"}, "edited": false, "score": 0, "creation_date": 1463864411, "post_id": 37359085, "comment_id": 62248705, "body": ":( same problem too thank you anyway i hope that i will find a solution"}], "tags": [], "owner": {"reputation": 320771, "user_id": 589924, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/b2cf53d5a3d25f95c0db4e025aed4153?s=128&d=identicon&r=PG", "display_name": "ikegami", "link": "https://stackoverflow.com/users/589924/ikegami"}, "is_accepted": true, "score": 1, "last_activity_date": 1463848867, "last_edit_date": 1463848867, "creation_date": 1463806929, "answer_id": 37359085, "question_id": 37358129, "link": "https://stackoverflow.com/questions/37358129/you-may-need-to-install-the-mymodule-module/37359085#37359085", "title": "you may need to install the My::Module module", "body": "<p>The program relies on the script's directory being found in the module search path (<code>@INC</code>), but does not ensure this.</p>\n\n<p>If you run the script from the script's directory, it works because <code>.</code> is in <code>@INC</code> by default. But you are running the script from a different directory.</p>\n\n<p>Remove the following useless line:</p>\n\n<pre><code>use lib \"./Uniscan\";\n</code></pre>\n\n<p>Replace it with the following:</p>\n\n<pre><code>use FindBin qw( $RealBin );\nuse lib $RealBin;\n</code></pre>\n"}], "owner": {"reputation": 3, "user_id": 5905065, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/63ed1da33ae8df07e4b8dbe41a3e6172?s=128&d=identicon&r=PG&f=1", "display_name": "arfaoui haythem", "link": "https://stackoverflow.com/users/5905065/arfaoui-haythem"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 1695, "favorite_count": 1, "accepted_answer_id": 37359085, "answer_count": 1, "score": 0, "last_activity_date": 1463848867, "creation_date": 1463795781, "last_edit_date": 1463806993, "question_id": 37358129, "link": "https://stackoverflow.com/questions/37358129/you-may-need-to-install-the-mymodule-module", "title": "you may need to install the My::Module module", "body": "<p>i work now in a project of web vulnerability scanner so i would run my perl script into my java the perl script is the uniscan open source tool from kali linux so when i click go to run the script this message appear </p>\n\n<blockquote>\n  <p>Can't locate Uniscan/Crawler.pm in @INC (you may need to install the\n  Uniscan::Crawler module) (@INC contains: ./Uniscan C:/Perl64/site/lib\n  C:/Perl64/lib .) at C:\\uniscan\\uniscan.pl line 25. BEGIN failed--compilation\n  aborted at test\\uniscan.pl line 25.</p>\n</blockquote>\n\n<p>However when i run hello world script it appear correctly with no probleme in my console. So this is my code of calling perl script in my java </p>\n\n<pre><code>try {\n                String[] commande = {\"perl\", \"C:\\\\uniscan\\uniscan.pl\"};\n                Process p = Runtime.getRuntime().exec(commande);\n                AfficheurFlux fluxSortie = new AfficheurFlux(p.getInputStream());\n                AfficheurFlux fluxErreur = new AfficheurFlux(p.getErrorStream());\n\n                new Thread(fluxSortie).start();\n                new Thread(fluxErreur).start();\n\n                p.waitFor();\n            } catch (IOException e) {\n                e.printStackTrace();\n            } catch (InterruptedException e) {\n                e.printStackTrace();\n            }\n</code></pre>\n\n<p>and the code of uniscan is <a href=\"https://sourceforge.net/p/uniscan/code/ci/ef359f890ddff036544d6a733d540ebfd9be6981/tree/\" rel=\"nofollow\">here</a></p>\n\n<p>Please i need help i'm blocked is for my final degree next week</p>\n"}, {"tags": ["perl", "mp3"], "comments": [{"owner": {"reputation": 518, "user_id": 3617046, "user_type": "registered", "accept_rate": 69, "profile_image": "https://www.gravatar.com/avatar/afad7c3481df3dcbbcd2b4366782e056?s=128&d=identicon&r=PG&f=1", "display_name": "Bulrush", "link": "https://stackoverflow.com/users/3617046/bulrush"}, "edited": false, "score": 0, "creation_date": 1464187924, "post_id": 37357789, "comment_id": 62383964, "body": "You&#39;re not checking for an error condition in this line: <code>$mp3=MP3::Tag-&gt;new(&quot;C:\\Users\\plank223\\Music\\Ellie Goulding - Bright Lights (Deluxe Edition).mp3&quot;);</code>. What is the value of $mp3 if there is an error? Is it undefined?"}], "answers": [{"comments": [{"owner": {"reputation": 91, "user_id": 6363373, "user_type": "registered", "accept_rate": 71, "profile_image": "https://www.gravatar.com/avatar/f5ddc474fa4da5aa4e2f76565f6d5511?s=128&d=identicon&r=PG&f=1", "display_name": "Hadi Nounou", "link": "https://stackoverflow.com/users/6363373/hadi-nounou"}, "edited": false, "score": 0, "creation_date": 1463831302, "post_id": 37358175, "comment_id": 62238499, "body": "Yeah, it kept telling me that I can&#39;t open the file, so I tried another one and corrected some stuff using the other guy&#39;s answer and it worked. Thanks for the answer, it helped me see what&#39;s wrong in the code."}], "tags": [], "owner": {"reputation": 534, "user_id": 6356910, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/17f5d88fc45e4185aa228d3ef08f0442?s=128&d=identicon&r=PG&f=1", "display_name": "Otterbein", "link": "https://stackoverflow.com/users/6356910/otterbein"}, "is_accepted": false, "score": 1, "last_activity_date": 1463796292, "creation_date": 1463796292, "answer_id": 37358175, "question_id": 37357789, "link": "https://stackoverflow.com/questions/37357789/cant-access-an-mp3-file-in-perl/37358175#37358175", "title": "Can&#39;t access an mp3 file in perl", "body": "<p>At the first look your code seems to be correct.\nWhat you can try:</p>\n\n<p>My recommendation to use:</p>\n\n<pre><code>use strict;\nuse warnings;\n</code></pre>\n\n<p>Testing the ->new():</p>\n\n<pre><code>$mp3=MP3::Tag-&gt;new('file.mp3') or die \"Can't open file $!\";\n#if it fails, it prints the message. $! is the error string.\n</code></pre>\n\n<p>looking at the $mp3 itself with Data::Dumper:</p>\n\n<pre><code>use Data::Dumper;\n\nprint Dumper($mp3);\n</code></pre>\n\n<p>I hope this helps a little bit further!</p>\n"}, {"comments": [{"owner": {"reputation": 91, "user_id": 6363373, "user_type": "registered", "accept_rate": 71, "profile_image": "https://www.gravatar.com/avatar/f5ddc474fa4da5aa4e2f76565f6d5511?s=128&d=identicon&r=PG&f=1", "display_name": "Hadi Nounou", "link": "https://stackoverflow.com/users/6363373/hadi-nounou"}, "edited": false, "score": 0, "creation_date": 1463830312, "post_id": 37362242, "comment_id": 62238242, "body": "Thanks for the answer, but it didn&#39;t really work out. Appreciate it, man."}, {"owner": {"reputation": 50468, "user_id": 1331451, "user_type": "registered", "accept_rate": 96, "profile_image": "https://i.stack.imgur.com/4ZPmj.png?s=128&g=1", "display_name": "simbabque", "link": "https://stackoverflow.com/users/1331451/simbabque"}, "reply_to_user": {"reputation": 91, "user_id": 6363373, "user_type": "registered", "accept_rate": 71, "profile_image": "https://www.gravatar.com/avatar/f5ddc474fa4da5aa4e2f76565f6d5511?s=128&d=identicon&r=PG&f=1", "display_name": "Hadi Nounou", "link": "https://stackoverflow.com/users/6363373/hadi-nounou"}, "edited": false, "score": 1, "creation_date": 1463830518, "post_id": 37362242, "comment_id": 62238301, "body": "@Hadi just saying <i>it didn&#39;t really work out</i> is not very helpful. From that, I cannot determine <b>why</b> it didn&#39;t. Instead, you should supply an error message, or explain how the program behaved now."}, {"owner": {"reputation": 91, "user_id": 6363373, "user_type": "registered", "accept_rate": 71, "profile_image": "https://www.gravatar.com/avatar/f5ddc474fa4da5aa4e2f76565f6d5511?s=128&d=identicon&r=PG&f=1", "display_name": "Hadi Nounou", "link": "https://stackoverflow.com/users/6363373/hadi-nounou"}, "edited": false, "score": 0, "creation_date": 1463831062, "post_id": 37362242, "comment_id": 62238431, "body": "I&#39;m really sorry, I messed up between your answer and the other one. Your advice worked fine and the code ran perfectly. Thank you a lot, and yeah I&#39;ll have to write the other guy what errors his code gave."}, {"owner": {"reputation": 50468, "user_id": 1331451, "user_type": "registered", "accept_rate": 96, "profile_image": "https://i.stack.imgur.com/4ZPmj.png?s=128&g=1", "display_name": "simbabque", "link": "https://stackoverflow.com/users/1331451/simbabque"}, "reply_to_user": {"reputation": 91, "user_id": 6363373, "user_type": "registered", "accept_rate": 71, "profile_image": "https://www.gravatar.com/avatar/f5ddc474fa4da5aa4e2f76565f6d5511?s=128&d=identicon&r=PG&f=1", "display_name": "Hadi Nounou", "link": "https://stackoverflow.com/users/6363373/hadi-nounou"}, "edited": false, "score": 0, "creation_date": 1463831269, "post_id": 37362242, "comment_id": 62238485, "body": "@Hadi the advice in Otterbein&#39;s answer is solid, but it&#39;s not a solution, just debugging help. I would have done the exact same thing they said, but in this case, I was already pretty sure what&#39;s wrong."}], "tags": [], "owner": {"reputation": 50468, "user_id": 1331451, "user_type": "registered", "accept_rate": 96, "profile_image": "https://i.stack.imgur.com/4ZPmj.png?s=128&g=1", "display_name": "simbabque", "link": "https://stackoverflow.com/users/1331451/simbabque"}, "is_accepted": true, "score": 2, "last_activity_date": 1463829633, "creation_date": 1463829633, "answer_id": 37362242, "question_id": 37357789, "link": "https://stackoverflow.com/questions/37357789/cant-access-an-mp3-file-in-perl/37362242#37362242", "title": "Can&#39;t access an mp3 file in perl", "body": "<p>There are two things wrong with your program:</p>\n\n<p>You are using double quotes <code>\"</code> and backslashes in your Windows paths. Perl thinks you are trying to escape characters in the path with the backslash <code>\\</code>. If you had read the complete error message, you would have seen something like this.</p>\n\n<blockquote>\n  <p>Unrecognized escape \\m passed through at F:\\scratch3.pl line 10.\n  Unrecognized escape \\D passed through at F:\\scratch3.pl line 10.\n  Unrecognized escape \\D passed through at F:\\scratch3.pl line 10.\n  Unrecognized escape \\D passed through at F:\\scratch3.pl line 10.</p>\n</blockquote>\n\n<p>That's Perl complaining about the escaped parts of the path. These error messages even show up without <code>use strict</code>. <strong>Always read the full error messages, not just the bottom one</strong>.</p>\n\n<p>You can fix that by simply using single quotes <code>'</code> instead of double quotes <code>\"</code> for the path.</p>\n\n<p>This is the reason why <code>MP3::Tag-&gt;new</code> fails. It will return <code>undef</code>, and you will subsequently call the <code>get_tags</code> method on an undefined value, as the last error message says.</p>\n\n<p>After that, inside the loop, there is another mistake. You are using <code>$filename</code>, which you have not declared.</p>\n\n<p>A working version of your program might look like this.</p>\n\n<pre><code>use MP3::Tag;\nuse strict;\nuse warnings;\n\n# single quotes here!\nmy $filename = \n    'C:\\Users\\plank223\\Music\\Ellie Goulding - Bright Lights (Deluxe Edition).mp3'; \nmy $mp3 = MP3::Tag-&gt;new($filename);\n$mp3-&gt;get_tags;\n\nif ( exists $mp3-&gt;{ID3v1} ) {\n    print \"Filename: $filename\\n\";\n    print \"Artist: \" . $mp3-&gt;{ID3v1}-&gt;artist . \"\\n\";\n    print \"Title: \" . $mp3-&gt;{ID3v1}-&gt;title . \"\\n\";\n    print \"Album: \" . $mp3-&gt;{ID3v1}-&gt;album . \"\\n\";\n    print \"Year: \" . $mp3-&gt;{ID3v1}-&gt;year . \"\\n\";\n    print \"Genre: \" . $mp3-&gt;{ID3v1}-&gt;genre . \"\\n\";\n}\nelse {\n    print \"Oi, no data here\";\n}\n$mp3-&gt;close;\n</code></pre>\n"}], "owner": {"reputation": 91, "user_id": 6363373, "user_type": "registered", "accept_rate": 71, "profile_image": "https://www.gravatar.com/avatar/f5ddc474fa4da5aa4e2f76565f6d5511?s=128&d=identicon&r=PG&f=1", "display_name": "Hadi Nounou", "link": "https://stackoverflow.com/users/6363373/hadi-nounou"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 120, "favorite_count": 0, "accepted_answer_id": 37362242, "answer_count": 2, "score": 0, "last_activity_date": 1463829633, "creation_date": 1463791637, "last_edit_date": 1463793212, "question_id": 37357789, "link": "https://stackoverflow.com/questions/37357789/cant-access-an-mp3-file-in-perl", "title": "Can&#39;t access an mp3 file in perl", "body": "<p>I am new to perl and was messing around with mp3 files using this program, but it doesn't seem to work.\nSo I want to access this file in my music folder and print it out, but whenever I'm running the script I'm getting the error:</p>\n\n<blockquote>\n  <p>Can't call method <code>get_tags</code> on an <code>undefined</code> value at line 5.</p>\n</blockquote>\n\n<p>I know it's probably something basic but I couldn't find it on google. Thanks in advance</p>\n\n<pre><code>use 5.0.10;\n#!/usr/bin/perl;\nuse MP3::Tag;\n$mp3=MP3::Tag-&gt;new(\"C:\\Users\\plank223\\Music\\Ellie Goulding - Bright Lights (Deluxe Edition).mp3\");\n$mp3-&gt;get_tags();\nif (exists $mp3-&gt;{ID3v1}) {\n    print \"Filename: $filename\\n\";\n    print \"Artist: \" . $mp3-&gt;{ID3v1}-&gt;artist.\"\\n\";\n    print \"Title: \" . $mp3-&gt;{ID3v1}-&gt;title . \"\\n\";\n    print \"Album: \" . $mp3-&gt;{ID3v1}-&gt;album . \"\\n\";\n    print \"Year: \" . $mp3-&gt;{ID3v1}-&gt;year . \"\\n\";\n    print \"Genre: \" . $mp3-&gt;{ID3v1}-&gt;genre . \"\\n\";\n} else {\n    print \"Oi, no data here\";\n}\n$mp3-&gt;close();\n</code></pre>\n"}, {"tags": ["perl", "sqlite"], "answers": [{"comments": [{"owner": {"reputation": 197, "user_id": 2280349, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/ab88466841e97b4fbae94b85fd2259af?s=128&d=identicon&r=PG&f=1", "display_name": "TomWitt2", "link": "https://stackoverflow.com/users/2280349/tomwitt2"}, "edited": false, "score": 0, "creation_date": 1463840879, "post_id": 37355540, "comment_id": 62241403, "body": "The little endian version worked for me.  Thank you!      One note to other readers is that this appears only to work with more recent versions of SQLite.  The default version of SQLite in the Ubuntu 14.04 (Trusty) repository (version 3.8.2 2013-12-06 14:53:30) doesn&#39;t support hex literals.  The default version of SQLite in the Ubuntu 16.04 (Xenial) repository (version 3.11.0 2016-02-15 17:29:24) does support hex literals"}, {"owner": {"reputation": 320771, "user_id": 589924, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/b2cf53d5a3d25f95c0db4e025aed4153?s=128&d=identicon&r=PG", "display_name": "ikegami", "link": "https://stackoverflow.com/users/589924/ikegami"}, "reply_to_user": {"reputation": 197, "user_id": 2280349, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/ab88466841e97b4fbae94b85fd2259af?s=128&d=identicon&r=PG&f=1", "display_name": "TomWitt2", "link": "https://stackoverflow.com/users/2280349/tomwitt2"}, "edited": false, "score": 0, "creation_date": 1463848986, "post_id": 37355540, "comment_id": 62243974, "body": "They both work; they simply do different things, as mentioned. /// 0xFF is 255. Updated the answer."}], "tags": [], "owner": {"reputation": 320771, "user_id": 589924, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/b2cf53d5a3d25f95c0db4e025aed4153?s=128&d=identicon&r=PG", "display_name": "ikegami", "link": "https://stackoverflow.com/users/589924/ikegami"}, "is_accepted": true, "score": 2, "last_activity_date": 1463849032, "last_edit_date": 1463849032, "creation_date": 1463777011, "answer_id": 37355540, "question_id": 37355227, "link": "https://stackoverflow.com/questions/37355227/can-sqlite-output-a-packed-integer/37355540#37355540", "title": "Can SQLite output a packed integer?", "body": "<p>Big-endian, 32-bit value (<code>l&gt;</code>):</p>\n\n<pre><code>char( (N &gt;&gt; 24) &amp; 255, (N &gt;&gt; 16) &amp; 255, (N &gt;&gt; 8) &amp; 255, N &amp; 255 )\n</code></pre>\n\n<p>Little-endian, 32-bit value (<code>l&lt;</code>):</p>\n\n<pre><code>char( N &amp; 255, (N &gt;&gt; 8) &amp; 255, (N &gt;&gt; 16) &amp; 255, (N &gt;&gt; 24) &amp; 255 )\n</code></pre>\n"}], "owner": {"reputation": 197, "user_id": 2280349, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/ab88466841e97b4fbae94b85fd2259af?s=128&d=identicon&r=PG&f=1", "display_name": "TomWitt2", "link": "https://stackoverflow.com/users/2280349/tomwitt2"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 98, "favorite_count": 0, "accepted_answer_id": 37355540, "answer_count": 1, "score": 1, "last_activity_date": 1463849032, "creation_date": 1463775642, "question_id": 37355227, "link": "https://stackoverflow.com/questions/37355227/can-sqlite-output-a-packed-integer", "title": "Can SQLite output a packed integer?", "body": "<p>Is there a way to have SQLite output an unsigned integer in a packed/binary format?  </p>\n\n<p>I'm looking to have SQLite produce the equivalent of the perl function \"print pack('I', 1_234_567_890)\" where every integer (less than 2^32) is output using exactly 4 bytes (well, on my linux box on intel hardware; I know this stuff varies by hardware and endian-ness.)</p>\n\n<p>Is there some printf formatting magic that will get me what I'm looking for?</p>\n"}, {"tags": ["perl", "file", "parsing"], "answers": [{"comments": [{"owner": {"reputation": 637, "user_id": 1921826, "user_type": "registered", "accept_rate": 62, "profile_image": "https://www.gravatar.com/avatar/590a37833c2b2844cdecf0a96a3cc740?s=128&d=identicon&r=PG", "display_name": "BigRedEO", "link": "https://stackoverflow.com/users/1921826/bigredeo"}, "edited": false, "score": 0, "creation_date": 1464202129, "post_id": 37355374, "comment_id": 62392846, "body": "Not quite what I&#39;m looking for - if that $fields[28] is blank, then the record needs to be written to an error file and NOT parsed and then read the next record.  I think I&#39;m running into problems with where to place my { and } for the ELSE part of my code."}, {"owner": {"reputation": 637, "user_id": 1921826, "user_type": "registered", "accept_rate": 62, "profile_image": "https://www.gravatar.com/avatar/590a37833c2b2844cdecf0a96a3cc740?s=128&d=identicon&r=PG", "display_name": "BigRedEO", "link": "https://stackoverflow.com/users/1921826/bigredeo"}, "edited": false, "score": 0, "creation_date": 1464205148, "post_id": 37355374, "comment_id": 62394512, "body": "I edited my original post to include all my current code and some sample records, if that helps."}], "tags": [], "owner": {"reputation": 51521, "user_id": 2566198, "user_type": "registered", "accept_rate": 67, "profile_image": "https://i.stack.imgur.com/Y34ZA.jpg?s=128&g=1", "display_name": "Sobrique", "link": "https://stackoverflow.com/users/2566198/sobrique"}, "is_accepted": false, "score": 0, "last_activity_date": 1463776285, "creation_date": 1463776285, "answer_id": 37355374, "question_id": 37355217, "link": "https://stackoverflow.com/questions/37355217/perl-parse-file-write-out-to-two-different-files/37355374#37355374", "title": "Perl - parse file - write out to two different files", "body": "<p><code>Text::CSV</code> is useful if you need to handle quotes or embedded linefeeds. <code>Text::ParseWords</code> can do as a substitute instead if you need that capability. </p>\n\n<p>But as long as you don't have quoting to worry about, <code>split</code> works just fine. </p>\n\n<p>You can do something like:</p>\n\n<pre><code>#!/usr/bin/env perl\nuse strict;\nuse warnings; \n\nopen ( my $normal_fh, '&gt;', \"output.txt\" ) or die $!;\nopen ( my $err_fh, '&gt;', \"errors.txt\" ) or die $!;\n\nwhile ( &lt;&gt; ) {\n    if ( ( split /,/ ) [27] =~ /\\w/ ) { \n        select $normal_fh;\n    }\n    else { \n        select $err_fh; \n    }\n    print;\n}\n</code></pre>\n"}], "owner": {"reputation": 637, "user_id": 1921826, "user_type": "registered", "accept_rate": 62, "profile_image": "https://www.gravatar.com/avatar/590a37833c2b2844cdecf0a96a3cc740?s=128&d=identicon&r=PG", "display_name": "BigRedEO", "link": "https://stackoverflow.com/users/1921826/bigredeo"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 83, "favorite_count": 0, "answer_count": 1, "score": -1, "last_activity_date": 1464204916, "creation_date": 1463775591, "last_edit_date": 1464204916, "question_id": 37355217, "link": "https://stackoverflow.com/questions/37355217/perl-parse-file-write-out-to-two-different-files", "title": "Perl - parse file - write out to two different files", "body": "<p>I have written a Perl script to parse through a file, scrub it, and put it in a new file.  Was using test data that I was originally given to work with, but now I've gotten all the actual data and it turns out there are a good deal of records I will NOT want in the newly scrubbed file (mainly because too many of the fields in those records are empty).</p>\n\n<p>So I now need to check if a particular field in a record is empty and if so, write it out to an \"error\" file and not write it out to the scrubbed data file.  Below is my script (and before people bring it up, I do not have the Text::CSV module nor will I ever have it available) </p>\n\n<p>NOTE - until I tried putting the IF/ELSE statement in there, the code was working with the data I had prior to being given the actual data with these problem records.</p>\n\n<pre><code>#!/usr/bin/perl/\n\nuse strict;\nuse warnings;\nuse Data::Dumper;\nuse Time::Piece;\n\nmy $filename = 'uncleanData.csv';\n\nopen my $FH, $filename\n  or die \"Could not read from $filename &lt;$!&gt;, program halting.\";\n\n# Read the header line.\nchomp(my $line = &lt;$FH&gt;);\nmy @fields = split(/,/, $line);\nprint Dumper(@fields), $/;\n\nmy @data;\n# Read the lines one by one.\nwhile($line = &lt;$FH&gt;) {\n\n    chomp($line);\n</code></pre>\n\n<p>Here is the new IF statement I put in with the code below the ELSE having not changed from my prior working script -</p>\n\n<pre><code># Check if the storeNbr field is empty. If so, write record to error file.\n    if (!length $fields[28]) {\n        open ( my $ERR_FH, '&gt;', \"errorFiles.csv\" ) or die $!;\n        print $ERR_FH join(',', @$_), $/ for @data;\n        close $ERR_FH;\n        }\n\n    else\n\n        {\n\n# Scrub data of characters that cause scripting problems down the line.\n    $line =~ s/[\\'\\\\]/ /g;\n\n# split the fields, concatenate fields 28-30, and add the\n# concatenated field to the beginning of each line in the file\n\n    my @fields = split(/,/, $line);\n    unshift @fields, join '_', @fields[28..30];\n\n# Format the DATE fields for MySQL\n    $_ = join '-', (split /\\//)[2,0,1] for @fields[10,14,24,26];\n\n# Scrub colons from the data\n    $line =~ s/:/ /g;\n\n# If Spectro_Model is \"UNKNOWN\", change\n    if($fields[22] eq \"UNKNOWN\"){\n        $_ = 'UNKNOW' for $fields[22];\n        }\n\n# If tran_date is blank, insert 0000-00-00\n    if(!length $fields[10]){\n        $_ = '0000-00-00' for $fields[10];\n        }\n\n# If init_tran_date is blank, insert 0000-00-00\n    if(!length $fields[14]){\n        $_ = '0000-00-00' for $fields[14];\n        }\n\n# If update_tran_date is blank, insert 0000-00-00\n    if(!length $fields[24]){\n        $_ = '0000-00-00' for $fields[24];\n        }\n\n# If cancel_date is blank, insert 0000-00-00\n    if(!length $fields[26]){\n        $_ = '0000-00-00' for $fields[26];\n        }\n\n# Format the PROD_NBR field by deleting any leading zeros before decimals.\n    $fields[12] =~ s/^\\s*0\\././;\n\n# put the records back\n    push @data, \\@fields;\n}\n}\n\nclose $FH;\n\nprint \"Unsorted:\\n\", Dumper(@data); #, $/;\n\n#Sort the clean files on Primary Key, initTranDate, updateTranDate, and updateTranTime\n@data = sort {\n    $a-&gt;[0] cmp $b-&gt;[0] ||\n    $a-&gt;[14] cmp $b-&gt;[14] ||\n    $a-&gt;[26] cmp $b-&gt;[26] ||\n    $a-&gt;[27] cmp $b-&gt; [27]\n} @data;\n\n#open my $OFH, '&gt;', '/swpkg/shared/batch_processing/mistints/parsedMistints.csv';\nopen my $OFH, '&gt;', '/swpkg/shared/batch_processing/mistints/cleaned1502.csv';\nprint $OFH join(',', @$_), $/ for @data;\nclose $OFH;\n\nexit;\n</code></pre>\n\n<p>I'm guessing my problem is where I am putting the closing brace } for the ELSE part of the statement.  Here are some sample records from the file with the last file being one of the \"problem\" records -</p>\n\n<pre><code>650096571,1,1,used as store paint,14,IFC 8012NP,Standalone-9,3596,56,1/31/2015,80813,A97W01251,,1/16/2015,0.25,0.25,,SW,CUSTOM MATCH,TRUE,O,xts,,,,,,,1568,61006,1,FALSE\n650368376,1,3,Tinted Wrong Color,16,IFC 8012NP,01DX8015206,,6,1/31/2015,160720,A87W01151,MATCH,1/31/2015,1,1,ENG,CUST,CUSTOM MATCH,TRUE,O,Ci52,,,,,,,1584,137252,1,FALSE\n650175433,3,1,not tinted - e.w.,16,COROB MODULA HF,Standalone-7,,2,1/31/2015,95555,B20W02651,,1/29/2015,3,3,,COMP,CUSTOM MATCH,TRUE,P,xts,,,,,,,1627,68092,5,FALSE\n650187016,2,1,checked out under cash ,,,,,,,,,,,,,,,,,,,,,,,,,,,,\n</code></pre>\n\n<p>When I run this script, it's still processing the \"error records\" and throwing up all kinds of \"unitialized value\" warnings.</p>\n"}, {"tags": ["regex", "perl", "character"], "comments": [{"owner": {"reputation": 21782, "user_id": 176646, "user_type": "registered", "accept_rate": 88, "profile_image": "https://i.stack.imgur.com/HsQyV.png?s=128&g=1", "display_name": "ThisSuitIsBlackNot", "link": "https://stackoverflow.com/users/176646/thissuitisblacknot"}, "edited": false, "score": 2, "creation_date": 1463773256, "post_id": 37354542, "comment_id": 62224638, "body": "Technically, <a href=\"https://en.wikipedia.org/wiki/Email_address#Syntax\" rel=\"nofollow noreferrer\"><code>@</code> is allowed in the local part of an email address</a>, so just counting the number of <code>@</code>s could give you an incorrect result. I think the more &quot;correct&quot; approach would be to parse your list with a CSV parser, but of course that will only work if you have a properly quoted and escaped CSV, since commas are also allowed in emails."}, {"owner": {"reputation": 907, "user_id": 6146688, "user_type": "registered", "accept_rate": 80, "profile_image": "https://www.gravatar.com/avatar/8f262dda91bdff7ff11cf7762124764d?s=128&d=identicon&r=PG", "display_name": "Paul L", "link": "https://stackoverflow.com/users/6146688/paul-l"}, "edited": false, "score": 1, "creation_date": 1463773519, "post_id": 37354542, "comment_id": 62224769, "body": "I don&#39;t agree that a regex is the best way to handle this, but if you insist upon it, you could simply do <code>&#47;(\\@.+){10,}&#47;</code>, which would allow for 1 or more characters to separate all 10 (or more) instances of <code>@</code>"}], "answers": [{"comments": [{"owner": {"reputation": 305, "user_id": 3157626, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/206f0b774c909eefad0f8ea78fc2583a?s=128&d=identicon&r=PG&f=1", "display_name": "Andrew", "link": "https://stackoverflow.com/users/3157626/andrew"}, "edited": false, "score": 0, "creation_date": 1463779588, "post_id": 37354746, "comment_id": 62227513, "body": "Ugh, why is it called a goatse operator? You&#39;re bringing back terrible memories."}, {"owner": {"reputation": 50468, "user_id": 1331451, "user_type": "registered", "accept_rate": 96, "profile_image": "https://i.stack.imgur.com/4ZPmj.png?s=128&g=1", "display_name": "simbabque", "link": "https://stackoverflow.com/users/1331451/simbabque"}, "edited": false, "score": 1, "creation_date": 1463780181, "post_id": 37354746, "comment_id": 62227745, "body": "I read your answer, wondered what a <i>saturn</i> operator is and was kind of relieved to find the other name down here."}], "tags": [], "owner": {"reputation": 8273, "user_id": 1334695, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/431ae6e9f7610b9d6a6a6cdebd0244d5?s=128&d=identicon&r=PG", "display_name": "stevieb", "link": "https://stackoverflow.com/users/1334695/stevieb"}, "is_accepted": false, "score": 2, "last_activity_date": 1463779761, "last_edit_date": 1463779761, "creation_date": 1463773651, "answer_id": 37354746, "question_id": 37354542, "link": "https://stackoverflow.com/questions/37354542/regex-character-occuring-more-than-x-number-of-times-in-a-string-in-different/37354746#37354746", "title": "Regex \u2014 Character occuring more than x number of times in a string (in different positions)", "body": "<p>To answer your question, you can count the number of matches in a regex using the \"saturn\" operator.</p>\n\n<pre><code>use warnings;\nuse strict;\n\nmy $str = 'a@b.com, m@b.ca, x@c@@@d@xxxxx@@@, @';\n\nmy $count =()= $str =~ /@/g;\n\nif ($count &gt; 10){\n    ...\n}\n</code></pre>\n\n<p>Here's an example without the intermediary <code>$count</code> variable:</p>\n\n<pre><code>if ((() = $str =~ /@/g) &gt; 10){\n</code></pre>\n\n<p>That said, I'm with the others who commented in that regex may not be the best approach here.</p>\n"}, {"tags": [], "owner": {"reputation": 320771, "user_id": 589924, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/b2cf53d5a3d25f95c0db4e025aed4153?s=128&d=identicon&r=PG", "display_name": "ikegami", "link": "https://stackoverflow.com/users/589924/ikegami"}, "is_accepted": true, "score": 1, "last_activity_date": 1463886852, "last_edit_date": 1463886852, "creation_date": 1463780518, "answer_id": 37356286, "question_id": 37354542, "link": "https://stackoverflow.com/questions/37354542/regex-character-occuring-more-than-x-number-of-times-in-a-string-in-different/37356286#37356286", "title": "Regex \u2014 Character occuring more than x number of times in a string (in different positions)", "body": "<p>The following pattern matches strings with more than 10 <code>@</code>:</p>\n\n<pre><code>@.*@.*@.*@.*@.*@.*@.*@.*@.*@.*@\n</code></pre>\n\n<p>After being optimized (<code>.</code> &rArr; <code>[^@]</code>), having redundancies removed, and being embedded into a match operator, it becomes the following:</p>\n\n<pre><code>/\\@(?:[^\\@]*\\@){10}/\n</code></pre>\n\n<p>At one point, you said you wanted to find \"10+\" instead of \"more than 10\". For that, you'd use.</p>\n\n<pre><code>/\\@(?:[^\\@]*\\@){9}/\n</code></pre>\n"}], "owner": {"reputation": 3, "user_id": 5632497, "user_type": "registered", "profile_image": "https://lh5.googleusercontent.com/-GPnAgQZxkt4/AAAAAAAAAAI/AAAAAAAACwg/HrCCVrFLaL0/photo.jpg?sz=128", "display_name": "Oleg", "link": "https://stackoverflow.com/users/5632497/oleg"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 148, "favorite_count": 0, "accepted_answer_id": 37356286, "answer_count": 2, "score": 0, "last_activity_date": 1463886852, "creation_date": 1463772825, "question_id": 37354542, "link": "https://stackoverflow.com/questions/37354542/regex-character-occuring-more-than-x-number-of-times-in-a-string-in-different", "title": "Regex \u2014 Character occuring more than x number of times in a string (in different positions)", "body": "<p>I need regex to find when \"@\" has more than 10 occurrences. The string will contain email addresses, comma separated, so @s will never be next to each other.  </p>\n\n<p>What I have is @{10,} only works if there are 10 @s in a row.  I need for it to work when there is 10+ @s in the string.  TIA!</p>\n"}, {"tags": ["regex", "perl"], "comments": [{"owner": {"reputation": 21782, "user_id": 176646, "user_type": "registered", "accept_rate": 88, "profile_image": "https://i.stack.imgur.com/HsQyV.png?s=128&g=1", "display_name": "ThisSuitIsBlackNot", "link": "https://stackoverflow.com/users/176646/thissuitisblacknot"}, "edited": false, "score": 0, "creation_date": 1463772617, "post_id": 37354495, "comment_id": 62224322, "body": "&quot;I have tried PERL thinking it would be the easiest/fastest and went to jQuery and then back to PERL.&quot; What exactly are you editing that either Perl or jQuery would be an option? Are you using a Perl templating tool like Template Toolkit?"}, {"owner": {"reputation": 907, "user_id": 6146688, "user_type": "registered", "accept_rate": 80, "profile_image": "https://www.gravatar.com/avatar/8f262dda91bdff7ff11cf7762124764d?s=128&d=identicon&r=PG", "display_name": "Paul L", "link": "https://stackoverflow.com/users/6146688/paul-l"}, "edited": false, "score": 0, "creation_date": 1463772971, "post_id": 37354495, "comment_id": 62224499, "body": "<code>perl -lpi.bkp -e&#39;s&#47;TemplateBeginEditable&#47;&quot;$&amp; Event=&quot; . ++$i&#47;ge&#39; file.html</code> is a simple one-liner to do it.  But if this is for a more involved project, of which this is only one small part, you should expand it into a more fully realized program, with <code>strict</code> and <code>warnings</code> enabled, at a minimum."}, {"owner": {"reputation": 378, "user_id": 5616606, "user_type": "registered", "accept_rate": 78, "profile_image": "https://www.gravatar.com/avatar/953094322b0c4d957992d09e40d1b487?s=128&d=identicon&r=PG&f=1", "display_name": "JohnnyP", "link": "https://stackoverflow.com/users/5616606/johnnyp"}, "edited": false, "score": 0, "creation_date": 1463823027, "post_id": 37354495, "comment_id": 62236209, "body": "I am unfortunately, and begrudgingly using a Dreamweaver template/Adobe Contribute &quot;CMS&quot; system. I just did not want to manually  do find/replace+ for 200 editable regions. So the code would not live in production. The one- liner above is similar and likely as effective as the accepted solution."}], "answers": [{"tags": [], "owner": {"reputation": 907, "user_id": 6146688, "user_type": "registered", "accept_rate": 80, "profile_image": "https://www.gravatar.com/avatar/8f262dda91bdff7ff11cf7762124764d?s=128&d=identicon&r=PG", "display_name": "Paul L", "link": "https://stackoverflow.com/users/6146688/paul-l"}, "is_accepted": false, "score": 0, "last_activity_date": 1463773249, "creation_date": 1463773249, "answer_id": 37354644, "question_id": 37354495, "link": "https://stackoverflow.com/questions/37354495/find-replace-multiple-occurrences-of-a-string-and-append-iterating-number/37354644#37354644", "title": "Find-Replace Multiple Occurrences of a string and append iterating number", "body": "<p>Expanding on my one-liner in the comments:</p>\n\n<pre><code>#!/usr/bin/perl\nuse strict;\nuse warnings;\n\nmy $file = shift or die \"Usage: $0 &lt;filename&gt;\\n\";\n\nopen my $fh, '&lt;', $file or die \"Cannot open $file: $!\\n\";\nopen my $ofh, '&gt;', \"$file.modified\" or die \"Cannot open $file.modified: $!\\n\";\n\nmy $i = 1;\nwhile (my $line = &lt;$fh&gt;) {\n   if ($line =~ s/TemplateBeginEditable/$&amp; Event=$i/) {\n      $i++;\n   }\n   print $ofh $line;\n}\n\n__END__\n</code></pre>\n\n<p>Note that this assumes you will never have more than one instance of your desired text on a single line, as shown in your sample input.</p>\n"}, {"comments": [{"owner": {"reputation": 378, "user_id": 5616606, "user_type": "registered", "accept_rate": 78, "profile_image": "https://www.gravatar.com/avatar/953094322b0c4d957992d09e40d1b487?s=128&d=identicon&r=PG&f=1", "display_name": "JohnnyP", "link": "https://stackoverflow.com/users/5616606/johnnyp"}, "edited": false, "score": 0, "creation_date": 1463775204, "post_id": 37354660, "comment_id": 62225552, "body": "In the second and third examples here, for &quot;my $i&quot;, don&#39;t I have to declare  $i=1, before I can add 1 to it at each iteration?"}, {"owner": {"reputation": 83048, "user_id": 2255089, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/ZNAsT.jpg?s=128&g=1", "display_name": "Casimir et Hippolyte", "link": "https://stackoverflow.com/users/2255089/casimir-et-hippolyte"}, "reply_to_user": {"reputation": 378, "user_id": 5616606, "user_type": "registered", "accept_rate": 78, "profile_image": "https://www.gravatar.com/avatar/953094322b0c4d957992d09e40d1b487?s=128&d=identicon&r=PG&f=1", "display_name": "JohnnyP", "link": "https://stackoverflow.com/users/5616606/johnnyp"}, "edited": false, "score": 0, "creation_date": 1463775634, "post_id": 37354660, "comment_id": 62225785, "body": "@JohnnyP: No you don&#39;t need, because <code>$i</code> is incremented <i>(with <code>++$i</code>)</i> before being used in the replacement. Writing <code>$i=0</code> is useless too."}, {"owner": {"reputation": 378, "user_id": 5616606, "user_type": "registered", "accept_rate": 78, "profile_image": "https://www.gravatar.com/avatar/953094322b0c4d957992d09e40d1b487?s=128&d=identicon&r=PG&f=1", "display_name": "JohnnyP", "link": "https://stackoverflow.com/users/5616606/johnnyp"}, "edited": false, "score": 0, "creation_date": 1463787181, "post_id": 37354660, "comment_id": 62229616, "body": "This one liner works for my purposes. Although I do not fully understand the K-switch, even after Googling. Thanks!"}, {"owner": {"reputation": 83048, "user_id": 2255089, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/ZNAsT.jpg?s=128&g=1", "display_name": "Casimir et Hippolyte", "link": "https://stackoverflow.com/users/2255089/casimir-et-hippolyte"}, "reply_to_user": {"reputation": 378, "user_id": 5616606, "user_type": "registered", "accept_rate": 78, "profile_image": "https://www.gravatar.com/avatar/953094322b0c4d957992d09e40d1b487?s=128&d=identicon&r=PG&f=1", "display_name": "JohnnyP", "link": "https://stackoverflow.com/users/5616606/johnnyp"}, "edited": false, "score": 0, "creation_date": 1463788187, "post_id": 37354660, "comment_id": 62229817, "body": "@JohnnyP: The <code>\\K</code> only changes the position where starts the whole match. example for the string &quot;abcb&quot;: <code>s&#47;a\\Kb&#47;x&#47;g</code> returns &quot;axcb&quot; <i>(&quot;ab&quot; is found but only the part starting after <code>\\K</code> is returned, and only b is replaced)</i>"}], "tags": [], "owner": {"reputation": 83048, "user_id": 2255089, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/ZNAsT.jpg?s=128&g=1", "display_name": "Casimir et Hippolyte", "link": "https://stackoverflow.com/users/2255089/casimir-et-hippolyte"}, "is_accepted": true, "score": 1, "last_activity_date": 1463773301, "creation_date": 1463773301, "answer_id": 37354660, "question_id": 37354495, "link": "https://stackoverflow.com/questions/37354495/find-replace-multiple-occurrences-of-a-string-and-append-iterating-number/37354660#37354660", "title": "Find-Replace Multiple Occurrences of a string and append iterating number", "body": "<p>To perform a replacement, you don't need to match the pattern before, you can directly perform the replacement. Example with your code:</p>\n\n<pre><code>while (&lt;INPUTFILE&gt;) {\n    s/TemplateBeginEditable/TemplateBeginEditable Event=/g;\n    print OUTPUTFILE $_; \n}\n</code></pre>\n\n<p>Now to add a counter incremented at each replacement, you can put a piece of code in the pattern itself using this syntax:</p>\n\n<pre><code>my $i;\n\nwhile (&lt;INPUTFILE&gt;) {\n    s/TemplateBeginEditable(?{ ++$i })/TemplateBeginEditable Event=$i/g;\n    print OUTPUTFILE $_; \n}\n</code></pre>\n\n<p>To make it shorter you can use the <code>\\K</code> feature to change the start of the match result:</p>\n\n<pre><code>while (&lt;INPUTFILE&gt;) {\n    s/TemplateBeginEditable\\K(?{ ++$i })/ Event=$i/g;\n    print OUTPUTFILE $_; \n}\n</code></pre>\n\n<p>Or with a one-liner:</p>\n\n<pre><code>perl -pe 's/TemplateBeginEditable\\K(?{++$i})/ Event=$i/g' file &gt; output\n</code></pre>\n"}, {"tags": [], "owner": {"reputation": 2414, "user_id": 5379657, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/7ab4a9ac2ee2c7a27f5d976d6a787970?s=128&d=identicon&r=PG&f=1", "display_name": "Jeff Y", "link": "https://stackoverflow.com/users/5379657/jeff-y"}, "is_accepted": false, "score": 1, "last_activity_date": 1463774701, "last_edit_date": 1463774701, "creation_date": 1463773558, "answer_id": 37354730, "question_id": 37354495, "link": "https://stackoverflow.com/questions/37354495/find-replace-multiple-occurrences-of-a-string-and-append-iterating-number/37354730#37354730", "title": "Find-Replace Multiple Occurrences of a string and append iterating number", "body": "<p>If you have <code>awk</code> available, and the target text only occurs at most once per line, then Perl is overkill I think:</p>\n\n<pre><code>awk 'BEGIN{n=1}{n+=sub(\"TemplateBeginEditable\",\"&amp; Event=\"n)}1'\n</code></pre>\n\n<p>Some explanation: The <code>sub</code> function returns the number of substitutions performed (0 or 1); the <code>&amp;</code> means \"whatever matched\"; <code>\"...\"n</code> is string concatenation (no operator in awk); the <code>1</code> is a \"true\" condition that invokes the default \"action\" of <code>{print}</code>.</p>\n"}, {"tags": [], "owner": {"reputation": 865, "user_id": 5888860, "user_type": "registered", "profile_image": "https://graph.facebook.com/10153265400236581/picture?type=large", "display_name": "Jim Driscoll", "link": "https://stackoverflow.com/users/5888860/jim-driscoll"}, "is_accepted": false, "score": 0, "last_activity_date": 1463774476, "creation_date": 1463774476, "answer_id": 37354945, "question_id": 37354495, "link": "https://stackoverflow.com/questions/37354495/find-replace-multiple-occurrences-of-a-string-and-append-iterating-number/37354945#37354945", "title": "Find-Replace Multiple Occurrences of a string and append iterating number", "body": "<p>I'd just do:</p>\n\n<pre><code>local $/=undef;\nmy $content = &lt;FH&gt;;\nmy $x = 0;\n$content =~ s/(My expected pattern)/$1 . \" time=\" . (++$x)/ge;\n</code></pre>\n"}], "owner": {"reputation": 378, "user_id": 5616606, "user_type": "registered", "accept_rate": 78, "profile_image": "https://www.gravatar.com/avatar/953094322b0c4d957992d09e40d1b487?s=128&d=identicon&r=PG&f=1", "display_name": "JohnnyP", "link": "https://stackoverflow.com/users/5616606/johnnyp"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 98, "favorite_count": 1, "accepted_answer_id": 37354660, "answer_count": 4, "score": 0, "last_activity_date": 1463774701, "creation_date": 1463772518, "question_id": 37354495, "link": "https://stackoverflow.com/questions/37354495/find-replace-multiple-occurrences-of-a-string-and-append-iterating-number", "title": "Find-Replace Multiple Occurrences of a string and append iterating number", "body": "<p>How can I iterate over the code of an html file and find certain recurring text and then append a word and and iterating number to it.</p>\n\n<pre><code>So: \n&lt;!-- TemplateBeginEditable --&gt;\n&lt;!-- TemplateBeginEditable --&gt;\n&lt;!-- TemplateBeginEditable --&gt;   \netc...                    \n\nBecomes :\n&lt;!-- TemplateBeginEditable Event=1 --&gt;\n&lt;!-- TemplateBeginEditable Event=2 --&gt;\n&lt;!-- TemplateBeginEditable Event=3 --&gt;\netc...\n</code></pre>\n\n<p>I have tried PERL thinking it would be the easiest/fastest and went to jQuery and then back to PERL.</p>\n\n<p>It seems simple enough to find/replace many ways with REGEX and return an array of the occurrences, but getting the iterating variable tacked on proves to be more of a challenge.</p>\n\n<p>Latest Example of what I have tried:</p>\n\n<pre><code>#!/usr/bin/perl -w\n\n# Open input file \nopen INPUTFILE, \"&lt;\", $ARGV[0] or die $!;\n# Open output file in write mode\nopen OUTPUTFILE, \"&gt;\", $ARGV[1] or die $!;\n\n# Read the input file line by line\nwhile (&lt;INPUTFILE&gt;) {\n  my @matches = ($_ =~ m/TemplateBeginEditable/g);\n  ### what do I do ith matches array? ###\n  $_ =~ s/TemplateBeginEditable/TemplateBeginEditable Event=/g;\n  print OUTPUTFILE $_; \n\n}\n\n\nclose INPUTFILE;\nclose OUTPUTFILE;\n</code></pre>\n"}, {"tags": ["perl", "scripting", "grep"], "comments": [{"owner": {"reputation": 123805, "user_id": 622310, "user_type": "registered", "accept_rate": 33, "profile_image": "https://www.gravatar.com/avatar/8b6d35219e1808520bc238b28161e2e6?s=128&d=identicon&r=PG", "display_name": "Borodin", "link": "https://stackoverflow.com/users/622310/borodin"}, "edited": false, "score": 0, "creation_date": 1474661788, "post_id": 37354280, "comment_id": 66639333, "body": "First of all, use spaces and blank lines to reveal the structure of your code. It&#39;s a little rude to post code like that when you&#39;re asking for help with it. Didn&#39;t you notice that your program doesn&#39;t look like most of the others that you see? Tale a look at <a href=\"http://perldoc.perl.org/perlstyle.html\" rel=\"nofollow noreferrer\"><code>perldoc perlstyle</code></a> for the rules that most people follow."}], "answers": [{"comments": [{"owner": {"reputation": 205702, "user_id": 7552, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/b60298053f87465641c1b1192338c8cd?s=128&d=identicon&r=PG", "display_name": "glenn jackman", "link": "https://stackoverflow.com/users/7552/glenn-jackman"}, "edited": false, "score": 1, "creation_date": 1463777936, "post_id": 37354513, "comment_id": 62226838, "body": "You don&#39;t need the double parentheses: <code>-&gt;in($dir)</code> is OK."}], "tags": [], "owner": {"reputation": 8273, "user_id": 1334695, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/431ae6e9f7610b9d6a6a6cdebd0244d5?s=128&d=identicon&r=PG", "display_name": "stevieb", "link": "https://stackoverflow.com/users/1334695/stevieb"}, "is_accepted": true, "score": 0, "last_activity_date": 1463772620, "creation_date": 1463772620, "answer_id": 37354513, "question_id": 37354280, "link": "https://stackoverflow.com/questions/37354280/perl-script-sorting-through-log-files/37354513#37354513", "title": "Perl Script: sorting through log files.", "body": "<p>I prefer to use <code>File::Find::Rule</code> for things like this. It preserves path information, and it's easy to use. Here's an example that does what you want.</p>\n\n<pre><code>use strict;\nuse warnings;\n\nuse File::Find::Rule;\n\nmy $dir = '/path/';\nmy $type = '*';\n\nmy @files = File::Find::Rule-&gt;file()\n                            -&gt;name($type)\n                            -&gt;in(($dir));\n\nfor my $file (@files){\n\n    print \"$file\\n\\n\";\n\n    open my $fh, '&lt;', $file or die \"can't open $file: $!\";\n\n    while (my $line = &lt;$fh&gt;){\n        if ($line =~ /Attendance =/){\n            print $line;\n        }\n    }\n}\n</code></pre>\n"}, {"tags": [], "owner": {"reputation": 518, "user_id": 3617046, "user_type": "registered", "accept_rate": 69, "profile_image": "https://www.gravatar.com/avatar/afad7c3481df3dcbbcd2b4366782e056?s=128&d=identicon&r=PG&f=1", "display_name": "Bulrush", "link": "https://stackoverflow.com/users/3617046/bulrush"}, "is_accepted": false, "score": 1, "last_activity_date": 1464188318, "creation_date": 1464188318, "answer_id": 37440892, "question_id": 37354280, "link": "https://stackoverflow.com/questions/37354280/perl-script-sorting-through-log-files/37440892#37440892", "title": "Perl Script: sorting through log files.", "body": "<p>What's your perl experience?</p>\n\n<p>I'm assuming each file is a text file. I'll give you a hint. Try to figure out where to put this code. </p>\n\n<pre><code># Now to open and read a text file.\nmy $fn='file.log';\n# $! is a variable which holds a possible error msg.\nopen(my $INFILE, '&lt;', $fn) or die \"ERROR: could not open $fn. $!\";\nmy @filearr=&lt;$INFILE&gt;; # Read the whole file into an array.\nclose($INFILE);\n\n# Now look in @filearr, which has one entry per line of the original file.\n\nexit; # Normal exit\n</code></pre>\n"}], "owner": {"reputation": 25, "user_id": 6268623, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/13d3d1b7f3fcb0c7d3e102c93057adab?s=128&d=identicon&r=PG&f=1", "display_name": "Sang.P", "link": "https://stackoverflow.com/users/6268623/sang-p"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 52, "favorite_count": 0, "accepted_answer_id": 37354513, "answer_count": 2, "score": -1, "last_activity_date": 1464188318, "creation_date": 1463771727, "question_id": 37354280, "link": "https://stackoverflow.com/questions/37354280/perl-script-sorting-through-log-files", "title": "Perl Script: sorting through log files.", "body": "<p>Trying to write a script which opens a directory and reads bunch of multiple log files line by line and search for information such as example: \n \"Attendance = 0 \" previously I have used <code>grep \"Attendance =\"</code> <code>*</code> to search my information but trying to write a script to search for my information. \nNeed your help to finish this task.</p>\n\n<pre><code>  #!/usr/bin/perl\n\n  use strict;\n  use warnings;\n  my $dir = '/path/';\n  opendir (DIR, $dir) or die $!;\n  while (my $file = readdir(DIR))\n   {\n   print \"$file\\n\";\n   }\n   closedir(DIR);\n   exit 0;\n</code></pre>\n"}, {"tags": ["perl", "parsing"], "answers": [{"tags": [], "owner": {"reputation": 45481, "user_id": 197758, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/628da6ba2a6c70e35c009b7e3c3a430a?s=128&d=identicon&r=PG", "display_name": "toolic", "link": "https://stackoverflow.com/users/197758/toolic"}, "is_accepted": true, "score": 3, "last_activity_date": 1463769555, "creation_date": 1463769555, "answer_id": 37353704, "question_id": 37353586, "link": "https://stackoverflow.com/questions/37353586/parsing-irregular-commands-output-in-perl/37353704#37353704", "title": "Parsing irregular command&#39;s output in perl", "body": "<p>Line-by-line is OK.  You just need to store the prefix line.</p>\n\n<pre><code>use warnings;\nuse strict;\n\nmy $prefix;\nwhile (&lt;DATA&gt;) {\n    if (m{^//}) {\n        chomp;\n        $prefix = $_;\n    }\n    else {\n        my ($num) = /#(\\d+)/;\n        print \"$prefix - $num\\n\";\n    }\n\n}\n\n__DATA__\n//test/some_text/value1\n... #001 some non important text\n... #023 some non important text\n//test/some_text/value2\n... #1123 some non important text\n//test/some_text/value3\n... #001 some non important text\n... #023 some non important text\n... #022 some non important text\n... #566 some non important text\n//test/some_text/value4\n... #42 some non important text\n</code></pre>\n"}], "owner": {"reputation": 23, "user_id": 6362406, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/efbe0f6b5b71fb4af782a68ea23c601f?s=128&d=identicon&r=PG&f=1", "display_name": "andy", "link": "https://stackoverflow.com/users/6362406/andy"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 42, "favorite_count": 0, "accepted_answer_id": 37353704, "answer_count": 1, "score": 2, "last_activity_date": 1463769555, "creation_date": 1463769174, "question_id": 37353586, "link": "https://stackoverflow.com/questions/37353586/parsing-irregular-commands-output-in-perl", "title": "Parsing irregular command&#39;s output in perl", "body": "<p>I'm quite new to Perl and I'm having immense difficulty writing a Perl script that will successfully parse a structured text file.</p>\n\n<p>Basically the file includes text similar to these:</p>\n\n<pre><code>//test/some_text/value1\n... #001 some non important text\n... #023 some non important text\n//test/some_text/value2\n... #1123 some non important text\n//test/some_text/value3\n... #001 some non important text\n... #023 some non important text\n... #022 some non important text\n... #566 some non important text\n//test/some_text/value4\n... #42 some non important text\n</code></pre>\n\n<p>Unfortunately I can not predict how many lines with dots I will have bellow each of line started with // and I would like to get the output like this:</p>\n\n<pre><code>//test/some_text/value1 - 001\n//test/some_text/value1 - 023\n//test/some_text/value2 - 1123\n//test/some_text/value3 - 001\n//test/some_text/value3 - 023\n//test/some_text/value3 - 022\n//test/some_text/value3 - 566\n//test/some_text/value4 - 42\n</code></pre>\n\n<p>I'm reading text file line by line but I feel that it isn't best solution. I would really appreciate your hints and help with solving the problem.</p>\n"}, {"tags": ["perl"], "answers": [{"comments": [{"owner": {"reputation": 43, "user_id": 6260268, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/Y1TKx.jpg?s=128&g=1", "display_name": "Mike Froetscher", "link": "https://stackoverflow.com/users/6260268/mike-froetscher"}, "edited": false, "score": 0, "creation_date": 1463768163, "post_id": 37353228, "comment_id": 62222052, "body": "Absolutely ! Thank you."}], "tags": [], "owner": {"reputation": 320771, "user_id": 589924, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/b2cf53d5a3d25f95c0db4e025aed4153?s=128&d=identicon&r=PG", "display_name": "ikegami", "link": "https://stackoverflow.com/users/589924/ikegami"}, "is_accepted": true, "score": 1, "last_activity_date": 1463767826, "creation_date": 1463767826, "answer_id": 37353228, "question_id": 37352948, "link": "https://stackoverflow.com/questions/37352948/pattern-match-lookahead-and-lookbehind/37353228#37353228", "title": "Pattern match--lookahead and lookbehind", "body": "<p>Are you asking how to filter out the <code>line</code> elements that contain words that start or end with one of the strings in <code>@discard</code>? If so, simply replace the search pattern with the following:</p>\n\n<pre><code>my $filter = join '|', map quotemeta, @discard;\n$filter = \"(?:$filter)\";\n$filter = qr/\\b$filter|$filter\\b/;\n</code></pre>\n\n<p>Output:</p>\n\n<pre><code>&lt;data&gt;&lt;line&gt; sdfe &lt;/line&gt;&lt;line&gt; fhgh kk jj hjsda &lt;/line&gt;\n    ..\n    ..\n    ..\n&lt;/data&gt;\n</code></pre>\n"}], "owner": {"reputation": 43, "user_id": 6260268, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/Y1TKx.jpg?s=128&g=1", "display_name": "Mike Froetscher", "link": "https://stackoverflow.com/users/6260268/mike-froetscher"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 43, "favorite_count": 1, "accepted_answer_id": 37353228, "answer_count": 1, "score": 1, "last_activity_date": 1463767826, "creation_date": 1463766754, "last_edit_date": 1463767558, "question_id": 37352948, "link": "https://stackoverflow.com/questions/37352948/pattern-match-lookahead-and-lookbehind", "title": "Pattern match--lookahead and lookbehind", "body": "<pre><code>use strict;\nuse warnings;\nuse XML::Twig;\nmy @discard = qw / abc de bond/;\nmy $filter = join '|', @discard;\n$filter = qr/\\b(?:$filter)\\b/;\nmy $twig = XML::Twig-&gt;new;\n$twig-&gt;parse(\\*DATA);\nfor my $line ( $twig-&gt;findnodes('//line') ) {\n    $line-&gt;delete if $line-&gt;text =~ $filter;\n}\n$twig-&gt;print;\n\n__DATA__\n&lt;data&gt;\n    &lt;line&gt; sdfe abc adsfefsdf &lt;/line&gt;\n    &lt;line&gt; abcsdffedcfsdf sdf &lt;/line&gt;\n    &lt;line&gt; sdfe &lt;/line&gt;\n    &lt;line&gt; abc &lt;/line&gt;\n    &lt;line&gt; sdabc sfefsdf &lt;/line&gt;\n    &lt;line&gt;\n        &lt;id&gt; bond &lt;/id&gt;\n        &lt;dest&gt; UK &lt;/dest&gt;\n        adsfefsdf\n    &lt;/line&gt;\n    &lt;line&gt; fhgh kk jj hjsda &lt;/line&gt;\n    &lt;line&gt; abc &lt;/line&gt;\n    ..\n    ..\n    ..\n&lt;/data&gt;\n</code></pre>\n\n<p>The above program generates the following result:</p>\n\n<pre><code>&lt;data&gt;&lt;line&gt; abcsdffedcfsdf sdf &lt;/line&gt;&lt;line&gt; sdfe &lt;/line&gt;&lt;line&gt; sdabc sfefsdf &lt;/line&gt;&lt;line&gt; fhgh kk jj hjsda &lt;/line&gt;\n    ..\n    ..\n    ..\n&lt;/data&gt;\n</code></pre>\n\n<p>The follows is the desired output:</p>\n\n<pre><code>&lt;data&gt;\n&lt;line&gt; sdfe &lt;/line&gt;\n&lt;line&gt; fhgh kk jj hjsda &lt;/line&gt;\n    ..\n    ..\n    ..\n&lt;/data&gt;\n</code></pre>\n\n<p>Conditions to be accounted for the desired output:  </p>\n\n<ol>\n<li><p>Match, Pre-match, Post-match the input values provided in the array and remove the tags from input data in which they are present<br>\nExample: \n     Match ---- abc<br>\n     Pre-match ---- sdabc<br>\n     Post-match ---- abcsdffedcfsdf  </p></li>\n<li><p>Ensure the format of output is in a similar fashion as input data </p></li>\n</ol>\n\n<p>**Match,Prematch and Postmatch are my terminologies as described above.</p>\n"}, {"tags": ["perl", "otrs"], "comments": [{"owner": {"reputation": 50468, "user_id": 1331451, "user_type": "registered", "accept_rate": 96, "profile_image": "https://i.stack.imgur.com/4ZPmj.png?s=128&g=1", "display_name": "simbabque", "link": "https://stackoverflow.com/users/1331451/simbabque"}, "edited": false, "score": 0, "creation_date": 1463780378, "post_id": 37352584, "comment_id": 62227810, "body": "Please <a href=\"https://stackoverflow.com/posts/37352584/edit\">edit</a> your question and add the code of TestSimple.pm, or links to the documentation you are referring to."}, {"owner": {"reputation": 636, "user_id": 5644090, "user_type": "registered", "accept_rate": 80, "profile_image": "https://i.stack.imgur.com/iF7hI.jpg?s=128&g=1", "display_name": "w1n5rx", "link": "https://stackoverflow.com/users/5644090/w1n5rx"}, "reply_to_user": {"reputation": 50468, "user_id": 1331451, "user_type": "registered", "accept_rate": 96, "profile_image": "https://i.stack.imgur.com/4ZPmj.png?s=128&g=1", "display_name": "simbabque", "link": "https://stackoverflow.com/users/1331451/simbabque"}, "edited": false, "score": 0, "creation_date": 1464180211, "post_id": 37352584, "comment_id": 62377660, "body": "@simbabque any idea or comments?"}], "answers": [{"tags": [], "owner": {"reputation": 3638, "user_id": 114904, "user_type": "registered", "accept_rate": 70, "profile_image": "https://www.gravatar.com/avatar/8e7f89dbe697baaef1fb80098f6db29d?s=128&d=identicon&r=PG", "display_name": "MichielB", "link": "https://stackoverflow.com/users/114904/michielb"}, "is_accepted": false, "score": 0, "last_activity_date": 1465886090, "creation_date": 1465886090, "answer_id": 37804596, "question_id": 37352584, "link": "https://stackoverflow.com/questions/37352584/fetch-ticket-message-body-using-testsimple-invoker-of-articlecreate-trigger/37804596#37804596", "title": "Fetch Ticket message body using &#39;TestSimple&#39; invoker of &#39;ArticleCreate&#39; trigger", "body": "<p>PrepareRequest only knows about the <code>TicketID</code> and <code>ArticleID</code> it is operating on.\nYou'll need to look up the data you need to pass in the <code>PrepareRequest()</code> sub of your Invoker, and then return it in the Data parameter.</p>\n\n<p>Check the code below for an example how to add the article body:</p>\n\n<pre><code>sub PrepareRequest {\n    my ( $Self, %Param ) = @_;\n\n    my %Article = $Kernel::OM-&gt;Get('Kernel::System::Ticket')-&gt;ArticleGet(\n        ArticleID =&gt; $Param{Data}{ArticleID},\n        UserID =&gt; 1,\n    );\n\n    return {\n        Success =&gt; 1,\n        Data =&gt; {\n            TicketID  =&gt; $Param{Data}{TicketID},\n            ArticleID =&gt; $Param{Data}{ArticleID},\n            Body      =&gt; $Article{Body},\n        },\n    };\n}\n</code></pre>\n"}], "owner": {"reputation": 636, "user_id": 5644090, "user_type": "registered", "accept_rate": 80, "profile_image": "https://i.stack.imgur.com/iF7hI.jpg?s=128&g=1", "display_name": "w1n5rx", "link": "https://stackoverflow.com/users/5644090/w1n5rx"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 455, "favorite_count": 0, "answer_count": 1, "score": 0, "last_activity_date": 1465886090, "creation_date": 1463765504, "last_edit_date": 1464021861, "question_id": 37352584, "link": "https://stackoverflow.com/questions/37352584/fetch-ticket-message-body-using-testsimple-invoker-of-articlecreate-trigger", "title": "Fetch Ticket message body using &#39;TestSimple&#39; invoker of &#39;ArticleCreate&#39; trigger", "body": "<p>I'm using invoker TestSimple.pm of trigger 'ArticleCreate'. (Ideally should've created a new invoker!) I'm able to receive the json data of the ticket correctly via REST web service.\nI want an additional ticket attribute with this-> 'ticket body'. How can i modify the invoker (perl file) so that it also sends ticket body in the json data? Or is their any other trigger that can give me this out-of-the-box?\nI went through OTRS manual and getting confused again-n-again :(\nSo, if someone can give me proper link that will also do!</p>\n\n<p>System details:\n1. OTRS v4.0\n2. Apache web server</p>\n\n<p>[Edit] Added the TestSimple.pm file.\nThis is the <a href=\"http://forums.otterhub.org/viewtopic.php?t=27465\" rel=\"nofollow\">link</a> I referred.</p>\n\n<pre><code>    #copyright (C) 2001-2014 OTRS AG, http://otrs.com/\n# --\n# This software comes with ABSOLUTELY NO WARRANTY. For details, see\n# the enclosed file COPYING for license information (AGPL). If you\n# did not receive this file, see http://www.gnu.org/licenses/agpl.txt.\n# --\n\npackage Kernel::GenericInterface::Invoker::Test::TestSimple;\n\nuse strict;\nuse warnings;\n\nuse Kernel::System::VariableCheck qw(IsString IsStringWithData);\nuse Kernel::System::Ticket;\n\nour $ObjectManagerDisabled = 1;\n\n=head1 NAME\n\nKernel::GenericInterface::Invoker::Test::Test - GenericInterface test Invoker backend\n\n=head1 SYNOPSIS\n\n=head1 PUBLIC INTERFACE\n\n=over 4\n\n=cut\n\n=item new()\n\nusually, you want to create an instance of this\nby using Kernel::GenericInterface::Invoker-&gt;new();\n\n=cut\n\nsub new {\nmy ( $Type, %Param ) = @_;\n\n# allocate new hash for object\nmy $Self = {};\nbless( $Self, $Type );\n\n# check needed params\nif ( !$Param{DebuggerObject} ) {\nreturn {\nSuccess =&gt; 0,\nErrorMessage =&gt; \"Got no DebuggerObject!\"\n};\n}\n\n$Self-&gt;{DebuggerObject} = $Param{DebuggerObject};\n$Self-&gt;{TicketObject} = Kernel::System::Ticket-&gt;new(%Param);\n\nreturn $Self;\n}\n\n=item PrepareRequest()\n\nprepare the invocation of the configured remote webservice.\nThis will just return the data that was passed to the function.\n\nmy $Result = $InvokerObject-&gt;PrepareRequest(\nData =&gt; { # data payload\n...\n},\n);\n\nmy %Article = $TicketObject-&gt;ArticleGet(\nArticleID =&gt; $Param{Data}-&gt;{ArticleID},\nUserID =&gt; $Param{Data}-&gt;{CustomerID},\n);\n\n$Result = {\nSuccess =&gt; 1, # 0 or 1\nErrorMessage =&gt; '', # in case of error\nData =&gt; { # data payload after Invoker\n...\n},\n};\n\n=cut\n\nsub PrepareRequest {\nmy ( $Self, %Param ) = @_;\nmy %TicketInfo = $Self-&gt;{TicketObject}-&gt;ArticleGet(\nArticleID =&gt; $Param{Data}-&gt;{ArticleID},\nuserID =&gt; $Param{Data}-&gt;{CustomerID},\n);\n\nreturn {\nSuccess =&gt; 1,\nData =&gt; $TicketInfo{Body},\n};\n}\n\n=item HandleResponse()\n\nhandle response data of the configured remote webservice.\nThis will just return the data that was passed to the function.\n\nmy $Result = $InvokerObject-&gt;HandleResponse(\n#my $Result = $TicketBodyObject-&gt;HandleResponse(\nResponseSuccess =&gt; 1, # success status of the remote webservice\nResponseErrorMessage =&gt; '', # in case of webservice error\nData =&gt; { # data payload\n...\n},\n);\n\n$Result = {\nSuccess =&gt; 1, # 0 or 1\nErrorMessage =&gt; '', # in case of error\nData =&gt; { # data payload after Invoker\n%Article\n},\n};\n\n=cut\n\nsub HandleResponse {\nmy ( $Self, %Param ) = @_;\n\n# if there was an error in the response, forward it\nif ( !$Param{ResponseSuccess} ) {\nreturn {\nSuccess =&gt; 0,\nErrorMessage =&gt; $Param{ResponseErrorMessage},\n};\n}\n\nreturn {\nSuccess =&gt; 1,\nData =&gt; $Param{Data},\n};\n}\n\n1;\n\n=back\n\n=head1 TERMS AND CONDITIONS\n\nThis software is part of the OTRS project (L&lt;http://otrs.org/&gt;).\n\nThis software comes with ABSOLUTELY NO WARRANTY. For details, see\nthe enclosed file COPYING for license information (AGPL). If you\ndid not receive this file, see L&lt;http://www.gnu.org/licenses/agpl.txt&gt;.\n\n=cut\n</code></pre>\n"}, {"tags": ["mysql", "perl", "dbi"], "comments": [{"owner": {"reputation": 123805, "user_id": 622310, "user_type": "registered", "accept_rate": 33, "profile_image": "https://www.gravatar.com/avatar/8b6d35219e1808520bc238b28161e2e6?s=128&d=identicon&r=PG", "display_name": "Borodin", "link": "https://stackoverflow.com/users/622310/borodin"}, "edited": false, "score": 0, "creation_date": 1463756141, "post_id": 37345188, "comment_id": 62215828, "body": "It is very easy to absorb the situation from a question, and to answer in terms of how one would approach it in the same circumstances. That approach ignores the Stack Overflow rules, and looking back you don&#39;t appear to have a solid question here. Your numbers 1 and 4 are off topic on the grounds of being opinion-based. 2 is inevitably a &quot;yes&quot;, but perhaps not in the sense that you meant. That leaves 3 and, while the limit depends on the driver, it appears to be undocumented for MySQL and it&#39;s safe to say that a 3MB query like yours is &quot;too long&quot;."}], "answers": [{"tags": [], "owner": {"reputation": 123805, "user_id": 622310, "user_type": "registered", "accept_rate": 33, "profile_image": "https://www.gravatar.com/avatar/8b6d35219e1808520bc238b28161e2e6?s=128&d=identicon&r=PG", "display_name": "Borodin", "link": "https://stackoverflow.com/users/622310/borodin"}, "is_accepted": false, "score": 5, "last_activity_date": 1463765457, "last_edit_date": 1463765457, "creation_date": 1463744144, "answer_id": 37345696, "question_id": 37345188, "link": "https://stackoverflow.com/questions/37345188/how-to-update-each-db-record-with-a-different-value-based-on-id-using-perl/37345696#37345696", "title": "How to update each DB record with a different value based on id using Perl?", "body": "<p>Have you tried running either of these? </p>\n\n<p>Your first attempt is correct. That is the sort of thing that databases are made for. Your second version is likely to be much slower. Depending on how the SQL engine is optimised, but regardless of how you formulate your SQL, your database <em>still</em> has to do 50,000 updates. Your second attempt forces it to do a lot more work deciding what those updates are</p>\n\n<p>You can expedite the process, and avoid the possibility that some records are updated and others not, by using a <em>transaction</em></p>\n\n<p>Before you start updating the database, call</p>\n\n<pre><code>$dbh-&gt;begin_work\n</code></pre>\n\n<p>and when they are all done, you need</p>\n\n<pre><code>$dbh-&gt;commit\n</code></pre>\n\n<p>This will create a list of changes to be made to the table and finally <em>make</em> those changes when you call the <code>commit</code> method</p>\n\n<p>You should be working with a test database anyway, so I suggest that you set one up that contains a manageable amount of data that will give your results fairly quickly. Then you can <em>try</em> both of your options, as well as any more that you think of, and know for sure how they behave</p>\n"}, {"tags": [], "owner": {"reputation": 320771, "user_id": 589924, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/b2cf53d5a3d25f95c0db4e025aed4153?s=128&d=identicon&r=PG", "display_name": "ikegami", "link": "https://stackoverflow.com/users/589924/ikegami"}, "is_accepted": false, "score": 1, "last_activity_date": 1463763826, "creation_date": 1463763826, "answer_id": 37352135, "question_id": 37345188, "link": "https://stackoverflow.com/questions/37345188/how-to-update-each-db-record-with-a-different-value-based-on-id-using-perl/37352135#37352135", "title": "How to update each DB record with a different value based on id using Perl?", "body": "<p>This could possibly be faster:</p>\n\n<pre><code>CREATE TEMPORARY TABLE `Updates` (\n           `user_id` ... NOT NULL,\n           `grade`   ... NOT NULL\n       );\n\nINSERT INTO `Updates` VALUES\n       ( ..., ... ),\n       ( ..., ... ),\n       ...;\n\nALTER TABLE `Updates` ADD UNIQUE `user_id`;\n\nUPDATE `User`\n  JOIN `Updates`\n    ON `User`.`user_id` = `Updates`.`user_id`\n   SET `User`.`grade` = `Updates`.`grade`;\n</code></pre>\n"}], "owner": {"reputation": 9030, "user_id": 202940, "user_type": "registered", "accept_rate": 75, "profile_image": "https://i.stack.imgur.com/JNQ86.jpg?s=128&g=1", "display_name": "Ashraf Bashir", "link": "https://stackoverflow.com/users/202940/ashraf-bashir"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 69, "favorite_count": 0, "answer_count": 2, "score": 2, "last_activity_date": 1463765457, "creation_date": 1463742703, "last_edit_date": 1592644375, "question_id": 37345188, "link": "https://stackoverflow.com/questions/37345188/how-to-update-each-db-record-with-a-different-value-based-on-id-using-perl", "title": "How to update each DB record with a different value based on id using Perl?", "body": "<p>I have a hash which contains all computed users' exam grades (users of the system are students in my case), where <code>user_id</code> is the key of the hash, and the grade is the corresponding value. This hash has more than 50,000 elements. I want to update the database with these computed grades.</p>\n<h3>My <em>first attempt</em></h3>\n<pre><code>my %grade_of = compute_grades_hash( ... );   # Some logic to compute grades\nmy $dbh = DBI-&gt;connect( ... ) or die( ... ); # DBI parameters are hidden in this sample\nmy $sql = &quot;UPDATE User SET grade = ? WHERE id = ?&quot;;\nmy $sth = $dbh-&gt;prepare($sql);\nforeach my $user_id ( keys %grade_of ) {\n    $sth-&gt;execute( $grade_of{$user_id}, $user_id );\n}\n</code></pre>\n<p>But, if I am right, this causes more than 50,000 queries to be executed, which means more than 50,000 trips to the database (Feel free to correct me in this statement if what I am assuming is wrong.)</p>\n<h3>So I wrote this <em>second attempt</em></h3>\n<pre><code>my %grade_of = compute_grades_hash( ... );   # Some logic to compute grades\nmy $dbh = DBI-&gt;connect( ... ) or die( ... ); # DBI parameters are hidden in this sample\nmy $sql = build_query ( \\%grade_of );\nmy $sth = $dbh-&gt;prepare($sql);\n$sth-&gt;execute();\n\nsub build_query {\n    # Builds a string in the followig form:\n    #     UPDATE User\n    #     SET grade = (case when user_id = 10 then 96\n    #                       when user_id = 14 then 92\n    #                       when user_id = 26 then 85\n    #                       ... \n    #                  end)\n    # So it generates a very long query-string for the 50000 records\n\n    ...\n    return $sql_query;\n}\n</code></pre>\n<p>Here are my questions:</p>\n<ol>\n<li><p>Is this the right solution for the case?</p>\n</li>\n<li><p>Does the very long SQL statement affect query performance?</p>\n</li>\n<li><p>Is there any limitation on query length in Perl DBI and/or MySQL?</p>\n</li>\n<li><p>Is there any more elegant solution ? Am I missing a built-in functionality\nwhich I may use for instance ?</p>\n</li>\n</ol>\n<p>By the way, just in case the answer is depending on the following info, here are my system specifications for completeness:</p>\n<blockquote>\n<pre><code>$ mysql --version \nmysql  Ver 14.14 Distrib 5.6.25, for Linux (x86_64)\n\n$ perldoc -m DBI | grep -m1 VERSION \n$VERSION = &quot;1.621&quot;;\n\n$ perl --version \nThis is perl 5, version 18, subversion 2 (v5.18.2) built for x86_64-linux\n</code></pre>\n</blockquote>\n"}, {"tags": ["perl"], "comments": [{"owner": {"reputation": 320771, "user_id": 589924, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/b2cf53d5a3d25f95c0db4e025aed4153?s=128&d=identicon&r=PG", "display_name": "ikegami", "link": "https://stackoverflow.com/users/589924/ikegami"}, "edited": false, "score": 0, "creation_date": 1463761850, "post_id": 37344769, "comment_id": 62218737, "body": "Tip: Use <code>s&#47;$pattern&#47;interpolate($replace)&#47;egr</code> (not <code>$replace = interpolate($replace); s&#47;$pattern&#47;$replace&#47;gr</code>) to handle <code>$1</code> when using String::Interpolate"}], "answers": [{"tags": [], "owner": {"reputation": 123805, "user_id": 622310, "user_type": "registered", "accept_rate": 33, "profile_image": "https://www.gravatar.com/avatar/8b6d35219e1808520bc238b28161e2e6?s=128&d=identicon&r=PG", "display_name": "Borodin", "link": "https://stackoverflow.com/users/622310/borodin"}, "is_accepted": false, "score": 7, "last_activity_date": 1467554125, "last_edit_date": 1467554125, "creation_date": 1463742343, "answer_id": 37345082, "question_id": 37344769, "link": "https://stackoverflow.com/questions/37344769/how-to-interpolate-the-escape-characters-stored-in-a-variable-in-perl/37345082#37345082", "title": "How to interpolate the escape characters stored in a variable in perl?", "body": "<p>Please, you <em>must always</em> <code>use strict</code> and <code>use warnings 'all'</code> at the top of every Perl program you write, end declare every variable with <code>my</code>. You should also use lexical file handles and the three-parameter form of <code>open</code>, and <em>always</em> check that a call to <code>open</code> has succeeded. So</p>\n\n<pre><code>open DES, \"&gt;&gt;$input\"\n</code></pre>\n\n<p>should be more like</p>\n\n<pre><code>open my $des_fh, '&gt;&gt;', $input or die qq{Unable to open \"$input\" for appending: $!}\n</code></pre>\n\n<p><br/></p>\n\n<hr>\n\n<p>You could use <code>eval</code> for this, but it's much cleaner and safer to use the <a href=\"https://metacpan.org/pod/String::Interpolate\" rel=\"nofollow\"><code>String::Interpolate</code></a> module, which provides access to the code within perl that processes double-quoted strings. It exports The <code>interpolate</code> function, which will correctly translate all variable references as well as any special characters like <code>\\n</code> or <code>\\t</code></p>\n\n<p>It would look like this</p>\n\n<pre><code>use strict;\nuse warnings 'all';\n\nuse String::Interpolate 'interpolate';\n\nchomp( my $in_file = &lt;&gt; );\nopen my $in_fh, '&lt;', $in_file or die qq{Unable to open \"$in_file\" for input: $!};\n\nchomp( my $out_file = &lt;&gt; );\nopen my $out_fh, '&gt;&gt;', $out_file or die qq{Unable to open \"$out_file\" for input: $!};\n\nchomp( my $pattern = &lt;&gt; );\n\nchomp( my $replace = &lt;&gt; );\n$replace = interpolate($replace);\n\nwhile ( &lt;$in_fh&gt; ) {\n    s/$pattern/$replace/g;\n    print $out_fh $_;\n}\n</code></pre>\n\n<p>Note that you could enter the parameters on the command line instead of having your program prompt for them</p>\n\n<pre><code>use strict;\nuse warnings 'all';\n\nuse String::Interpolate 'interpolate';\n\nmy $pattern = shift;\nmy $replace = shift;\n$replace = interpolate($replace);\n\nprint s/$pattern/$replace/gr while &lt;&gt;;\n</code></pre>\n\n<p>You would call this like so</p>\n\n<pre><code>$ perl replace.pl ' '  '\\n'  sample.txt\n</code></pre>\n\n<p>and you can redirect the output to a file in the normal way</p>\n\n<pre><code>$ perl replace.pl ' '  '\\n'  sample.txt &gt; output.txt\n</code></pre>\n"}, {"tags": [], "owner": {"reputation": 320771, "user_id": 589924, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/b2cf53d5a3d25f95c0db4e025aed4153?s=128&d=identicon&r=PG", "display_name": "ikegami", "link": "https://stackoverflow.com/users/589924/ikegami"}, "is_accepted": false, "score": 1, "last_activity_date": 1463754158, "last_edit_date": 1463754158, "creation_date": 1463753823, "answer_id": 37349083, "question_id": 37344769, "link": "https://stackoverflow.com/questions/37344769/how-to-interpolate-the-escape-characters-stored-in-a-variable-in-perl/37349083#37349083", "title": "How to interpolate the escape characters stored in a variable in perl?", "body": "<p>I strongly recommend the functions provided by <a href=\"http://search.cpan.org/perldoc?String::Substitution\" rel=\"nofollow\">String::Substitution</a>.</p>\n\n<p>Replace</p>\n\n<pre><code>s/$pattern/$replace/g;\n</code></pre>\n\n<p>with</p>\n\n<pre><code>use String::Substitution qw( gsub_modify );\n\ngsub_modify($_, $pattern, $replace);\n</code></pre>\n\n<p>This won't just handle <code>\\n</code>; it'll handle <code>$1</code> too!</p>\n\n<hr>\n\n<p>Notes:</p>\n\n<ul>\n<li><p>There is a lot of advice to use <code>eval EXPR</code> (sometimes disguised as <code>/ee</code>), but this is very error-prone and dangerous.</p></li>\n<li><p>In the past, I've provided solutions that use String::Interpolate, but the module provides an extremely weird interface.</p></li>\n</ul>\n"}], "owner": {"reputation": 171, "user_id": 5060800, "user_type": "registered", "profile_image": "https://lh3.googleusercontent.com/-rClwOHM5848/AAAAAAAAAAI/AAAAAAAAABk/3DBFZKA7ERE/photo.jpg?sz=128", "display_name": "adhi .b", "link": "https://stackoverflow.com/users/5060800/adhi-b"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 97, "favorite_count": 0, "answer_count": 2, "score": 2, "last_activity_date": 1467554125, "creation_date": 1463741420, "last_edit_date": 1463741807, "question_id": 37344769, "link": "https://stackoverflow.com/questions/37344769/how-to-interpolate-the-escape-characters-stored-in-a-variable-in-perl", "title": "How to interpolate the escape characters stored in a variable in perl?", "body": "<p>I have written a perl code to get the source filename ,destination filename, pattern and replacement string.The below one is the code I have written.</p>\n\n<pre><code>chomp($input=&lt;stdin&gt;);   #source file name.\nopen SRC, $input;        #opening the file .\n\nchomp($input=&lt;stdin&gt;);   #destination file name.\nopen DES, \"&gt;&gt;$input\";     #opening the file.\n\nchomp($pattern=&lt;stdin&gt;);   #pattern to be matched.\n\nchomp($replace=&lt;stdin&gt;);   #replacement string.\n\nwhile(&lt;SRC&gt;){\n    s/$pattern/$replace/g;\n    print DES $_;\n}\n</code></pre>\n\n<p>I have written this code to replace the particular value in a file and store it in another file. As per the code if I have given the pattern \" \"(white space) and replacement string as \\n ,it should give the output as follows.</p>\n\n<h3>Sample Input</h3>\n\n<pre><code>Hai hello this for testing .\n</code></pre>\n\n<h3>sample output</h3>\n\n<pre><code>Hai \nhello\nthis\nfor\ntesting\n.\n</code></pre>\n\n<p>But it has given the output as follows.</p>\n\n<h3>Output</h3>\n\n<pre><code>hai\\nhello\\nthis\\nis\\nfor\\ntesting\\n.\n</code></pre>\n\n<p>Please help me to solve this problem.</p>\n"}, {"tags": ["postgresql", "perl"], "comments": [{"owner": {"reputation": 50468, "user_id": 1331451, "user_type": "registered", "accept_rate": 96, "profile_image": "https://i.stack.imgur.com/4ZPmj.png?s=128&g=1", "display_name": "simbabque", "link": "https://stackoverflow.com/users/1331451/simbabque"}, "edited": false, "score": 0, "creation_date": 1463735362, "post_id": 37341897, "comment_id": 62201743, "body": "What&#39;s in line 121? You should <a href=\"https://stackoverflow.com/posts/37341897/edit\">edit</a> your question and include the SQL CREATE statements for those two tables."}, {"owner": {"reputation": 3604, "user_id": 436450, "user_type": "registered", "accept_rate": 86, "profile_image": "https://www.gravatar.com/avatar/0afd75178763cf41af43a103b95277ae?s=128&d=identicon&r=PG", "display_name": "jira", "link": "https://stackoverflow.com/users/436450/jira"}, "edited": false, "score": 2, "creation_date": 1463761746, "post_id": 37341897, "comment_id": 62218686, "body": "Create a self contained example that exhibits your problem. You posted an edited excerpt, from which it is not possible to see what is wrong."}], "owner": {"reputation": 21, "user_id": 1445977, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/ad2bfd7721b64ca7751e1d1c190359ef?s=128&d=identicon&r=PG", "display_name": "user1445977", "link": "https://stackoverflow.com/users/1445977/user1445977"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 75, "favorite_count": 1, "answer_count": 0, "score": 1, "last_activity_date": 1463733415, "creation_date": 1463733415, "last_edit_date": 1592644375, "question_id": 37341897, "link": "https://stackoverflow.com/questions/37341897/postgresql-and-perl-violates-foreign-key-constraint", "title": "PostgreSQL and Perl: violates foreign key constraint", "body": "<p>I have table lv and referenced table pozemek, that contains:</p>\n<pre><code>&quot;pozemek_lv_id_fkey&quot; FOREIGN KEY (lv_id) REFERENCES lv(id)\n</code></pre>\n<p>and I want create record in lv and subsequently in pozemek:</p>\n<pre><code>my $lv_ins = $kadadbh-&gt;prepare(&quot;INSERT INTO lv ...&quot;);\nmy $poz_ins= $kadadbh-&gt;prepare(&quot;INSERT INTO pozemek (lv_id,...) VALUES (?,...)&quot;);\n$lv_ins-&gt;execute(...);\n$lv_id = $kadadbh-&gt;last_insert_id(undef,undef,'lv','id');\nprint &quot;lv_id=$lv_id\\n&quot;;\n$poz_ins-&gt;execute($lv_id,...);\n</code></pre>\n<p>It returns a new lv_id, but consequently fails:</p>\n<blockquote>\n<p>lv_id=8990</p>\n<p>ERROR:  insert or update on table &quot;pozemek&quot; violates foreign key constraint &quot;pozemek_lv_id_fkey&quot;</p>\n<p>DETAIL:  Key (lv_id)=(8990) is not present in table &quot;lv&quot;. at ./dznxml.pl line 121</p>\n</blockquote>\n"}, {"tags": ["perl", "module"], "comments": [{"owner": {"reputation": 13, "user_id": 6359417, "user_type": "registered", "profile_image": "https://graph.facebook.com/1112651225443154/picture?type=large", "display_name": "Tiago Sousa Neves", "link": "https://stackoverflow.com/users/6359417/tiago-sousa-neves"}, "reply_to_user": {"reputation": 320771, "user_id": 589924, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/b2cf53d5a3d25f95c0db4e025aed4153?s=128&d=identicon&r=PG", "display_name": "ikegami", "link": "https://stackoverflow.com/users/589924/ikegami"}, "edited": false, "score": 0, "creation_date": 1463884912, "post_id": 37338927, "comment_id": 62252273, "body": "Thanks @ikegami How can I do that?"}, {"owner": {"reputation": 13, "user_id": 6359417, "user_type": "registered", "profile_image": "https://graph.facebook.com/1112651225443154/picture?type=large", "display_name": "Tiago Sousa Neves", "link": "https://stackoverflow.com/users/6359417/tiago-sousa-neves"}, "reply_to_user": {"reputation": 320771, "user_id": 589924, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/b2cf53d5a3d25f95c0db4e025aed4153?s=128&d=identicon&r=PG", "display_name": "ikegami", "link": "https://stackoverflow.com/users/589924/ikegami"}, "edited": false, "score": 0, "creation_date": 1463894584, "post_id": 37338927, "comment_id": 62253695, "body": "cpan install Module::Build - Module::Build is up to date (0.4218)"}, {"owner": {"reputation": 320771, "user_id": 589924, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/b2cf53d5a3d25f95c0db4e025aed4153?s=128&d=identicon&r=PG", "display_name": "ikegami", "link": "https://stackoverflow.com/users/589924/ikegami"}, "edited": false, "score": 0, "creation_date": 1463895486, "post_id": 37338927, "comment_id": 62253827, "body": "ug, it&#39;s because GD&#39;s Build.PL doesn&#39;t pass its options to Module::Build as per convention."}], "owner": {"reputation": 13, "user_id": 6359417, "user_type": "registered", "profile_image": "https://graph.facebook.com/1112651225443154/picture?type=large", "display_name": "Tiago Sousa Neves", "link": "https://stackoverflow.com/users/6359417/tiago-sousa-neves"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 294, "favorite_count": 0, "closed_date": 1463895658, "answer_count": 0, "score": 0, "last_activity_date": 1463726165, "creation_date": 1463723728, "last_edit_date": 1463726165, "question_id": 37338927, "link": "https://stackoverflow.com/questions/37338927/installing-some-module-build-pl-installdirs-site-not-ok", "closed_reason": "Duplicate", "title": "Installing some Module ------- Build.PL --installdirs site -- NOT OK", "body": "<p>When I try install some Modules like <code>GD</code> I got this error message. Seems that the option <code>installdirs</code> in <code>Build.PL</code> is no more recognized.</p>\n\n<p>Anyone could help me please?</p>\n\n<pre><code>.\n.\n.\nDEL(17/18): /home/uce/.cpan/build/Moo-2.001001-dPJd5X.yml \nDEL(18/18): /home/uce/.cpan/build/Array-Compare-2.11-6HHi2g.yml \nConfiguring L/LD/LDS/GD-2.56.tar.gz with Build.PL\nConfiguring for libgd version 2.1.1-dev@.\nChecking for stray libgd header files...none found.\n\nUnknown option: installdirs\nUsage: perl Build.PL [options]\n\nConfigure GD module.\n\n Options:\n     -options       \"JPEG,FT,PNG,GIF,XPM,ANIMGIF\"   feature options, separated by commas\n     -lib_gd_path   path            path to libgd\n     -lib_ft_path   path            path to Freetype library\n     -lib_png_path  path            path to libpng\n     -lib_jpeg_path path            path to libjpeg\n     -lib_xpm_path  path            path to libxpm\n     -lib_zlib_path path            path to libpng\n     -ignore_missing_gd             Ignore missing or old libgd installations and try to compile anyway\n\nIf no options are passed on the command line.  The program will\nattempt to autoconfigure itself with the gdlib-config program (present\nin GD versions 2.0.27 or later).  Otherwise it will prompt for these\nvalues interactively.\nWarning: No success on command[/usr/local/bin/perl Build.PL --installdirs site]\n  LDS/GD-2.56.tar.gz\n  /usr/local/bin/perl Build.PL --installdirs site -- NOT OK\nFailed during this command:\n LDS/GD-2.56.tar.gz                           : writemakefile NO '/usr/local/bin/perl Build.PL --installdirs site' returned status 512\n</code></pre>\n"}, {"tags": ["arrays", "perl"], "answers": [{"tags": [], "owner": {"user_type": "does_not_exist", "display_name": "user6340684"}, "is_accepted": false, "score": 3, "last_activity_date": 1463733784, "last_edit_date": 1463733784, "creation_date": 1463722069, "answer_id": 37338538, "question_id": 37338404, "link": "https://stackoverflow.com/questions/37338404/why-the-array-could-not-hold-the-keys-of-hash-in-the-following-perl-script/37338538#37338538", "title": "Why the array could not hold the keys of hash in the following perl script?", "body": "<p>Variable names are case sensitive, so %K... and %k... are not the same.\nAlways use</p>\n\n<pre><code>use strict;\nuse warnings;\n</code></pre>\n\n<p>and declare your variables with <code>my</code>. That prevents you from making this kind of mistakes.</p>\n"}, {"tags": [], "owner": {"reputation": 53041, "user_id": 4653379, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/b3953dbedd0dabff5cbc3db9b0835b14?s=128&d=identicon&r=PG&f=1", "display_name": "zdim", "link": "https://stackoverflow.com/users/4653379/zdim"}, "is_accepted": true, "score": 5, "last_activity_date": 1484554841, "last_edit_date": 1484554841, "creation_date": 1463723228, "answer_id": 37338799, "question_id": 37338404, "link": "https://stackoverflow.com/questions/37338404/why-the-array-could-not-hold-the-keys-of-hash-in-the-following-perl-script/37338799#37338799", "title": "Why the array could not hold the keys of hash in the following perl script?", "body": "<p>You assign the array every time in the <code>foreach</code>, thus overwriting it every time. So you end up with only having the last thing assigned to it. If you move the <code>print</code> inside the <code>foreach</code> you'll see that they are all there.  </p>\n\n<p>To store those keys you need to add them to the array, not assign the array. I've corrected the typo <code>$k</code> to <code>$K</code>, and changed <code>aa</code> that goes with <code>f</code> to <code>ff</code> (expecting it to be a typo as well).</p>\n\n<pre><code>my @c;\nforeach my $el (@a) {\n   push @c, sort keys %{$K{$el}};\n}\nprint \"@c\\n\";\n</code></pre>\n\n<p>This prints the line: <code>ff aa bb</code>.  Every time through the loop all keys found in the hash for a particular array element are added to <code>@c</code>, each as a separate element. So <code>@c</code> will contain all bottom-level keys across the whole data structure.</p>\n\n<hr>\n\n<p>However, there is more that I would like to suggest.</p>\n\n<ul>\n<li><p><em>Always</em> <code>use strict;</code> and <code>use warnings;</code> This is not pedantry but it <em>directly</em> helps. I never write code without them.  The typo would be caught here, for example.</p></li>\n<li><p>Use descriptive variable names. Specifically, single-letter variable names are just too easy to confuse, unless in very short loops or where it is crystal clear what they are. (For example, a typo like this couldn't really happen.) Most importantly, the code is going to be far nicer to work with. That generally results in better code.</p></li>\n<li><p>Please use good indentation and spacing.  It helps a lot, in many ways.</p></li>\n</ul>\n\n<p>A useful package for nested data structures is <a href=\"http://perldoc.perl.org/Data/Dumper.html\" rel=\"nofollow noreferrer\"><code>Data::Dumper</code></a>, which can print the whole thing nicely formatted so we can <em>see</em> it. Try to add to the end of your code</p>\n\n<pre><code>use Data::Dumper;\nprint Dumper(\\%K);\n</code></pre>\n\n<p>This is a core module, no need to install it. There are yet others that do the same or similar.</p>\n\n<hr>\n\n<p>Here is another way to do what you ask.</p>\n\n<pre><code>my @lowest_keys = map { sort keys %{$K{$_}} } @a;\n</code></pre>\n\n<p>I call them <code>lowest_keys</code> to emphasize that these are the ones from the last hash in your data structure, the bottom of it. The <a href=\"http://perldoc.perl.org/functions/map.html\" rel=\"nofollow noreferrer\"><code>map</code></a> applies processing in the block <code>{ ... }</code> to each element of <code>@a</code> in turn, returning a list with all these results. (If any one result itself is a <em>list</em>, with more elements than one, it gets merged into the overall output list. So this may create the output list with many more elements than the input.)  This <em>list</em> can then be assigned to an array, as above, or passed on to another function that expects a list as input.</p>\n\n<p>The <code>map</code> is generally used to transform an array into another, by doing to each element what is in <code>{ ... }</code> block.  Its close cousin is <a href=\"http://perldoc.perl.org/functions/grep.html\" rel=\"nofollow noreferrer\"><code>grep</code></a>, which is used to <em>filter</em>, by passing through only the elements of the input list for which the condition in <code>{ ... }</code> evaluates to true, thus forming the output list. For example, filter out undefined array elements: <code>my @good = grep { defined } @all</code></p>\n"}], "owner": {"reputation": 116, "user_id": 6037276, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/c5db32b4fd2fbb593a5997ca0ff9a67b?s=128&d=identicon&r=PG&f=1", "display_name": "ginkgo", "link": "https://stackoverflow.com/users/6037276/ginkgo"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 83, "favorite_count": 0, "accepted_answer_id": 37338799, "answer_count": 2, "score": 0, "last_activity_date": 1484554841, "creation_date": 1463721296, "last_edit_date": 1592644375, "question_id": 37338404, "link": "https://stackoverflow.com/questions/37338404/why-the-array-could-not-hold-the-keys-of-hash-in-the-following-perl-script", "title": "Why the array could not hold the keys of hash in the following perl script?", "body": "<h3>hash_test.pl</h3>\n<pre><code>@a=(&quot;f&quot;,&quot;a&quot;,&quot;b&quot;);\n$K{&quot;f&quot;}{&quot;aa&quot;}=1;\n$K{&quot;a&quot;}{&quot;aa&quot;}=1;\n$k{&quot;b&quot;}{&quot;bb&quot;}=1;\n\nforeach(@a){\n@c= sort keys %{$k{$_}};\n}\nprint &quot;@c\\n&quot;;\n\nforeach(@c) {...}\n</code></pre>\n\n<pre><code>perl hash_test.pl \nbb\n</code></pre>\n<p>I want to keep the keys of the hash into an array, so that I can use the array as an input for the following statements.\nBut it seemed that the assay <code>@c</code> just only hold the last element.</p>\n<p>Could anyone tell me why or help me to improve the script?</p>\n"}, {"tags": ["perl"], "comments": [{"owner": {"reputation": 5886, "user_id": 2019415, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/645958eb08719fa5119052d7d1d079ff?s=128&d=identicon&r=PG", "display_name": "G. Cito", "link": "https://stackoverflow.com/users/2019415/g-cito"}, "edited": false, "score": 0, "creation_date": 1463716952, "post_id": 37337096, "comment_id": 62192753, "body": "The nested if statements are a bit awkward but this should work. The formatting - <code>print join &quot; &quot;, @num;</code>  might help - shouldn&#39;t affect the sorting (which you don&#39;t show)."}, {"owner": {"reputation": 2690, "user_id": 5869736, "user_type": "registered", "accept_rate": 75, "profile_image": "https://www.gravatar.com/avatar/b18e361761e0643fd9003f9eae40ba45?s=128&d=identicon&r=PG&f=1", "display_name": "Marty", "link": "https://stackoverflow.com/users/5869736/marty"}, "edited": false, "score": 0, "creation_date": 1463966684, "post_id": 37337096, "comment_id": 62273649, "body": "In your output, where does the line &quot;0.2 0.2&quot; come from?"}, {"owner": {"reputation": 21, "user_id": 6358929, "user_type": "registered", "profile_image": "https://graph.facebook.com/10208951346476298/picture?type=large", "display_name": "Terry Cheng Fei Yang", "link": "https://stackoverflow.com/users/6358929/terry-cheng-fei-yang"}, "reply_to_user": {"reputation": 2690, "user_id": 5869736, "user_type": "registered", "accept_rate": 75, "profile_image": "https://www.gravatar.com/avatar/b18e361761e0643fd9003f9eae40ba45?s=128&d=identicon&r=PG&f=1", "display_name": "Marty", "link": "https://stackoverflow.com/users/5869736/marty"}, "edited": false, "score": 0, "creation_date": 1464137248, "post_id": 37337096, "comment_id": 62357324, "body": "@marty , it is not reflected in the input source. it&#39;s just a random number to illustrate what my intended output looks like"}, {"owner": {"reputation": 518, "user_id": 3617046, "user_type": "registered", "accept_rate": 69, "profile_image": "https://www.gravatar.com/avatar/afad7c3481df3dcbbcd2b4366782e056?s=128&d=identicon&r=PG&f=1", "display_name": "Bulrush", "link": "https://stackoverflow.com/users/3617046/bulrush"}, "edited": false, "score": 0, "creation_date": 1464188881, "post_id": 37337096, "comment_id": 62384743, "body": "Your <code>print &quot;@num&quot;</code> is the problem. That&#39;s how Perl prints arrays. Go into debug mode and do this to view the @num array: <code>x @num</code>. It will print one line per array item."}], "answers": [{"comments": [{"owner": {"reputation": 663663, "user_id": 15168, "user_type": "registered", "accept_rate": 100, "profile_image": "https://i.stack.imgur.com/WtEI9.png?s=128&g=1", "display_name": "Jonathan Leffler", "link": "https://stackoverflow.com/users/15168/jonathan-leffler"}, "edited": false, "score": 1, "creation_date": 1463717538, "post_id": 37337407, "comment_id": 62192879, "body": "The <code>if (&#47;PIN vcc&#47;..&#47;END vcc&#47;) {</code> notation skips lines before a line containing <code>PIN vcc</code> (even if they contain &#39;Layer&#39; lines), and also skips lines after <code>END vcc</code> (even if they contain &#39;Layer&#39; lines).  There can be multiple blocks with the begin/end markers; they&#39;ll all end up being treated the same, I believe (that is, as if they were all part of a single big block)."}, {"owner": {"reputation": 2690, "user_id": 5869736, "user_type": "registered", "accept_rate": 75, "profile_image": "https://www.gravatar.com/avatar/b18e361761e0643fd9003f9eae40ba45?s=128&d=identicon&r=PG&f=1", "display_name": "Marty", "link": "https://stackoverflow.com/users/5869736/marty"}, "reply_to_user": {"reputation": 663663, "user_id": 15168, "user_type": "registered", "accept_rate": 100, "profile_image": "https://i.stack.imgur.com/WtEI9.png?s=128&g=1", "display_name": "Jonathan Leffler", "link": "https://stackoverflow.com/users/15168/jonathan-leffler"}, "edited": false, "score": 0, "creation_date": 1463720597, "post_id": 37337407, "comment_id": 62193732, "body": "Ahh - now I see.  I&#39;ve updated my answer accordingly."}, {"owner": {"reputation": 21, "user_id": 6358929, "user_type": "registered", "profile_image": "https://graph.facebook.com/10208951346476298/picture?type=large", "display_name": "Terry Cheng Fei Yang", "link": "https://stackoverflow.com/users/6358929/terry-cheng-fei-yang"}, "edited": false, "score": 0, "creation_date": 1463725224, "post_id": 37337407, "comment_id": 62195597, "body": "Jonathan Leffler. you are right . the input source i pasted is a repeated unit from a file. The file that i am referring is LEF file by the way"}, {"owner": {"reputation": 21, "user_id": 6358929, "user_type": "registered", "profile_image": "https://graph.facebook.com/10208951346476298/picture?type=large", "display_name": "Terry Cheng Fei Yang", "link": "https://stackoverflow.com/users/6358929/terry-cheng-fei-yang"}, "edited": false, "score": 0, "creation_date": 1463727323, "post_id": 37337407, "comment_id": 62196809, "body": "i m trying but i&#39;m am not sure how to integrate all of the suggestion into my codes :( . i did try out suggestion by @\u0421\u0443\u0445\u043e\u043927 as her&#39;s is without while() . but the output is not what i want in my mind. let me update with more code/details. would like your kind help again :("}, {"owner": {"reputation": 907, "user_id": 6146688, "user_type": "registered", "accept_rate": 80, "profile_image": "https://www.gravatar.com/avatar/8f262dda91bdff7ff11cf7762124764d?s=128&d=identicon&r=PG", "display_name": "Paul L", "link": "https://stackoverflow.com/users/6146688/paul-l"}, "edited": false, "score": 0, "creation_date": 1463748969, "post_id": 37337407, "comment_id": 62210703, "body": "The default separating value (stored in <code>$,</code>) when you print any list - whether it&#39;s contained in an array or not - is indeed the empty string.  However, that&#39;s not what the OP was doing.  His code shows <code>print &quot;@num&quot;;</code>, not <code>print @num;</code>.  When interpolating an array, the default separating value (stored in <code>$&quot;</code>) is the string containing a single space character.  Unless the OP futzed with <code>$&quot;</code> elsewhere in his code, <code>print &quot;@num&quot;;</code> should have printed all the elements of the array, separated by a space."}], "tags": [], "owner": {"reputation": 2690, "user_id": 5869736, "user_type": "registered", "accept_rate": 75, "profile_image": "https://www.gravatar.com/avatar/b18e361761e0643fd9003f9eae40ba45?s=128&d=identicon&r=PG&f=1", "display_name": "Marty", "link": "https://stackoverflow.com/users/5869736/marty"}, "is_accepted": false, "score": 2, "last_activity_date": 1463720575, "last_edit_date": 1463720575, "creation_date": 1463714496, "answer_id": 37337407, "question_id": 37337096, "link": "https://stackoverflow.com/questions/37337096/how-to-get-the-max-value-from-an-array-in-perl/37337407#37337407", "title": "How to get the max value from an array in Perl?", "body": "<p>Your code is capturing the numbers ok, it's just that you're printing the whole array.  Perl's default separator for array elements when you print an array is <code>\"\"</code> ie, nothing - so, it looks like a single string but it's three (or however many) elements printed next to each other without a separator.</p>\n\n<p>You can iterate over input line by line in Unix filter style with <code>while (&lt;&gt;) {</code>.  You can switch on a \"scanning mode\" flag when \"PIN vcc\" is found and switch it off when \"END vcc\" is found.  After that, use a regex to search for the layer line but always use 'extended mode' <code>/x</code> so you can use whitespace in your regex.</p>\n\n<p>As the regex's for switching modes and capturing the layer number are mutually exclusive, you can let the other checks happen after a check succeeds - just be aware that if future changes result in overlapping cases, you need to do a <code>next</code> when one of the regex succeeds.</p>\n\n<p>Finally, <a href=\"http://perldoc.perl.org/List/Util.html\" rel=\"nofollow\">List::Util</a> is a core module so, you might as well grab the <a href=\"http://perldoc.perl.org/List/Util.html#max\" rel=\"nofollow\">max function</a> from it;</p>\n\n<pre><code>use v5.12;\nuse warnings;\nuse List::Util qw( max );\n\nmy @num ;\nmy $scanning = 0;\nwhile (&lt;&gt;) {\n    $scanning = 1  if /PIN vcc/ ;\n    $scanning = 0  if /END vcc/ ;\n    next unless $scanning ;\n    push @num, $1  if /Layer \\s+ m (\\d+) /x ;\n}\nsay \"Max layer number found: \", max(@num) ;\n</code></pre>\n"}, {"tags": [], "owner": {"reputation": 5455, "user_id": 3961170, "user_type": "registered", "accept_rate": 73, "profile_image": "https://i.stack.imgur.com/PtFol.jpg?s=128&g=1", "display_name": "mkHun", "link": "https://stackoverflow.com/users/3961170/mkhun"}, "is_accepted": false, "score": 1, "last_activity_date": 1463716410, "creation_date": 1463716410, "answer_id": 37337665, "question_id": 37337096, "link": "https://stackoverflow.com/questions/37337096/how-to-get-the-max-value-from-an-array-in-perl/37337665#37337665", "title": "How to get the max value from an array in Perl?", "body": "<p>Or simply use <code>sort</code> function for to do it.</p>\n\n<pre><code>my @values ;\nwhile (&lt;DATA&gt;) \n{    \n       push (@values , $1) if (/Layer\\s+m(\\d+)\\s;/);\n}\nmy ($max) = sort{$b &lt;=&gt; $a} @values ;\nprint \"$max\\n\";\n\n__DATA__\nPin vcc\naaaa\nbbbb\nPort\n  Layer m3 ;\nEND\nCCC\nDDD\nPort \n  Layer m1 ;\nEND\nEEE\nFFF\nPort\n  Layer m0 ;\nEND\n</code></pre>\n\n<p>use <code>sort</code> function and store the first result into list contain the variable <code>$max</code>.</p>\n"}, {"tags": [], "owner": {"reputation": 5886, "user_id": 2019415, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/645958eb08719fa5119052d7d1d079ff?s=128&d=identicon&r=PG", "display_name": "G. Cito", "link": "https://stackoverflow.com/users/2019415/g-cito"}, "is_accepted": false, "score": 0, "last_activity_date": 1463717820, "creation_date": 1463717820, "answer_id": 37337856, "question_id": 37337096, "link": "https://stackoverflow.com/questions/37337096/how-to-get-the-max-value-from-an-array-in-perl/37337856#37337856", "title": "How to get the max value from an array in Perl?", "body": "<pre><code>my @data = &lt;DATA&gt; ;\nmy @num ;\n\nforeach (@data) {\n push @num, $1 if /Layer\\s+m(\\S+)/ ;\n} \n# home made max() - sorts an anonymous array and prints the last element\nprint [ sort { $a &lt;=&gt; $b } @num ]-&gt;[-1] , \"\\n\" ;\n\n__DATA__\nPin vcc\naaaa\nbbbb\nPort\n  Layer m2 ;\nEND\nCCC\nDDD\nPort \n  Layer m1 ;\nEND\nEEE\nFFF\nPort\n  Layer m0 ;\nEND\nEND vcc\n</code></pre>\n"}, {"tags": [], "owner": {"reputation": 766, "user_id": 4445448, "user_type": "registered", "accept_rate": 47, "profile_image": "https://www.gravatar.com/avatar/3fbf664dc5d850436aac1fd98700c0ae?s=128&d=identicon&r=PG&f=1", "display_name": "SSN", "link": "https://stackoverflow.com/users/4445448/ssn"}, "is_accepted": false, "score": 0, "last_activity_date": 1463719541, "creation_date": 1463719541, "answer_id": 37338102, "question_id": 37337096, "link": "https://stackoverflow.com/questions/37337096/how-to-get-the-max-value-from-an-array-in-perl/37338102#37338102", "title": "How to get the max value from an array in Perl?", "body": "<p>Using <code>map</code> to fetch numbers from file. <code>sort</code> the number and get maximum number.</p>\n\n<pre><code>#!/usr/bin/perl\nuse strict;\nuse warnings;\n\nmy $max = (sort{$b &lt;=&gt; $a }map{/Layer\\s+m(\\d+)/} &lt;DATA&gt;)[0];\nprint $max,\"\\n\";\n\n__DATA__\nPin vcc\naaaa\nbbbb\nPort\n  Layer m3 ;\nEND\nCCC\nDDD\nPort \n  Layer m1 ;\nEND\nEEE\nFFF\nPort\n  Layer m0 ;\nEND\n</code></pre>\n"}, {"comments": [{"owner": {"reputation": 21, "user_id": 6358929, "user_type": "registered", "profile_image": "https://graph.facebook.com/10208951346476298/picture?type=large", "display_name": "Terry Cheng Fei Yang", "link": "https://stackoverflow.com/users/6358929/terry-cheng-fei-yang"}, "edited": false, "score": 0, "creation_date": 1464144020, "post_id": 37338595, "comment_id": 62358727, "body": "hi \u0421\u0443\u0445\u043e\u043927, would you explain to me what does this mean ? and $max &lt; $1;"}, {"owner": {"reputation": 48798, "user_id": 223226, "user_type": "registered", "accept_rate": 93, "profile_image": "https://i.stack.imgur.com/iGqE4.png?s=128&g=1", "display_name": "mpapec", "link": "https://stackoverflow.com/users/223226/mpapec"}, "reply_to_user": {"reputation": 21, "user_id": 6358929, "user_type": "registered", "profile_image": "https://graph.facebook.com/10208951346476298/picture?type=large", "display_name": "Terry Cheng Fei Yang", "link": "https://stackoverflow.com/users/6358929/terry-cheng-fei-yang"}, "edited": false, "score": 0, "creation_date": 1464160156, "post_id": 37338595, "comment_id": 62364269, "body": "@TerryChengFeiYang <code>$max</code> starts with infinite negative value, and later it checks <code>$1</code> (which is capturing group of <code>(\\S+)</code>) whether it is greater than <code>$max</code>"}], "tags": [], "owner": {"reputation": 48798, "user_id": 223226, "user_type": "registered", "accept_rate": 93, "profile_image": "https://i.stack.imgur.com/iGqE4.png?s=128&g=1", "display_name": "mpapec", "link": "https://stackoverflow.com/users/223226/mpapec"}, "is_accepted": false, "score": 0, "last_activity_date": 1463722350, "creation_date": 1463722350, "answer_id": 37338595, "question_id": 37337096, "link": "https://stackoverflow.com/questions/37337096/how-to-get-the-max-value-from-an-array-in-perl/37338595#37338595", "title": "How to get the max value from an array in Perl?", "body": "<p>First, you don't need to store all values if you're looking only for max value; and second, print the max value after the loop is over,</p>\n\n<pre><code>my $max = \"-inf\";\nif (/PIN vcc/ .. /END vcc/) {\n    $max = $1 if /LAYER\\s+m(\\S+)/ and $max &lt; $1;\n}\n\n# ..\nprint $max, \"\\n\";\n</code></pre>\n"}], "owner": {"reputation": 21, "user_id": 6358929, "user_type": "registered", "profile_image": "https://graph.facebook.com/10208951346476298/picture?type=large", "display_name": "Terry Cheng Fei Yang", "link": "https://stackoverflow.com/users/6358929/terry-cheng-fei-yang"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 1149, "favorite_count": 0, "answer_count": 5, "score": 2, "last_activity_date": 1463731623, "creation_date": 1463711920, "last_edit_date": 1463731623, "question_id": 37337096, "link": "https://stackoverflow.com/questions/37337096/how-to-get-the-max-value-from-an-array-in-perl", "title": "How to get the max value from an array in Perl?", "body": "<p>I have an input source as follows. What I want to do is capture the numeric value on each of the <code>Layer</code> lines into an array and then print out the maximum value.</p>\n\n<h3>input</h3>\n\n<pre class=\"lang-none prettyprint-override\"><code>MACRO cell_1\n size 0.1 by 0.1 ; \n\n pin a\n (....same topology as pin vcc)\n END a\n\n pin b\n (.....same topology as pin vcc)\n END b\n\n Pin vcc\n  aaaa\n  bbbb\n  Port\n   Layer m2 ;\n  END\n  CCC\n  DDD\n  Port \n   Layer m1 ;\n  END\n  EEE\n  FFF\n  Port\n   Layer m0 ;\n  END\n END vcc\n\n pin d\n (....same topology as pin vcc)\n END d\nEND cell_1\n\nMACRO cell_2\n(repeated)\nEND cell_2 \n</code></pre>\n\n<h3>my code:</h3>\n\n<pre class=\"lang-perl prettyprint-override\"><code>foreach my $file ( @files ) {   # @files = multiple path  of abc/def/fgh/cell_lef\n\n    open( INFILE, \"&lt;$file\" ) || die \"Can not open stdcell_file\\n\";\n    my @lines = &lt;INFILE&gt;;\n    close INFILE;\n\n    $init = 1;\n    $delimiter =~ /^$/;      # between each MACRO. haven't utilize this yet\n\n    foreach (@lines) {\n\n        if ( $init ) {\n            $path = 1;\n            $init = 0;\n            @num  = ();\n        }\n\n        if ( $path ) {\n\n            if ( /MACRO\\s+(\\S+) /) {\n                $cellname = $1; print \"$cellname\\n\";\n            }\n\n            if ( /SIZE\\s+(\\S+)\\s+(\\S+)\\s+(\\S+)/ ) {\n                $footprint_x = $1;\n                $footprint_y = $3;\n                print \"$footprint_x $footprint_y\\n\";\n            }\n\n            if ( /PIN vcc/ .. /END vcc/ ) {\n\n                #grab the highest value from layer (m*)\n                #print \"max layer = m*\"\n            }\n\n            $init = 1;\n        }\n    }\n}\n</code></pre>\n\n<h3>intended output</h3>\n\n<pre class=\"lang-none prettyprint-override\"><code>cell_1\n0.1 0.1\nm2\n\ncell_2\n0.2 0.2\nm3\n</code></pre>\n\n<h3>The code I am attempting to use:</h3>\n\n<pre><code>if ( /PIN vcc/../END vcc/ ) {\n    if ( /LAYER\\s+m(\\S+) / ) {\n        push(@num, $1);\n        print \"@num\";\n    }                               \n}    \n</code></pre>\n\n<p>The problem with my code so far is that when I print the value of <code>@num</code>, all the values are joined together as a string (<code>210</code>) instead of individual elements: <code>2 1 0</code> \u2014 so I am not able to do the sorting to get the max value.</p>\n\n<p><strong><em>Update</em></strong>: I am not sure how to integrate the <code>while</code> into my code as I'm using foreach as my main loop</p>\n"}, {"tags": ["perl"], "comments": [{"owner": {"reputation": 185733, "user_id": 152948, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/194ef8f807c34a9d7aab0e11a8674768?s=128&d=identicon&r=PG", "display_name": "hobbs", "link": "https://stackoverflow.com/users/152948/hobbs"}, "edited": false, "score": 5, "creation_date": 1463711838, "post_id": 37335674, "comment_id": 62191602, "body": "You got an answer to your question. If you have a new question, please ask it in a new question. (Or just search for the answer)."}], "answers": [{"comments": [{"owner": {"reputation": 69, "user_id": 4991529, "user_type": "registered", "accept_rate": 0, "profile_image": "https://www.gravatar.com/avatar/553cdab1d9274f1856f03da1b2b70f18?s=128&d=identicon&r=PG&f=1", "display_name": "Live Com", "link": "https://stackoverflow.com/users/4991529/live-com"}, "edited": false, "score": 0, "creation_date": 1463707282, "post_id": 37335757, "comment_id": 62190569, "body": "i did the same thing and i am getting below error now.  -bash: ./Script_GS.pl: /usr/local/share/perl: bad interpreter: No such file or directory"}, {"owner": {"reputation": 110113, "user_id": 168657, "user_type": "registered", "accept_rate": 92, "profile_image": "https://www.gravatar.com/avatar/f14e7610fca39322ebbf23530def15f8?s=128&d=identicon&r=PG", "display_name": "mob", "link": "https://stackoverflow.com/users/168657/mob"}, "reply_to_user": {"reputation": 69, "user_id": 4991529, "user_type": "registered", "accept_rate": 0, "profile_image": "https://www.gravatar.com/avatar/553cdab1d9274f1856f03da1b2b70f18?s=128&d=identicon&r=PG&f=1", "display_name": "Live Com", "link": "https://stackoverflow.com/users/4991529/live-com"}, "edited": false, "score": 0, "creation_date": 1463709756, "post_id": 37335757, "comment_id": 62191171, "body": "@LiveCom: What is the output of <code>&#47;usr&#47;local&#47;share&#47;perl -v</code>?"}, {"owner": {"reputation": 69, "user_id": 4991529, "user_type": "registered", "accept_rate": 0, "profile_image": "https://www.gravatar.com/avatar/553cdab1d9274f1856f03da1b2b70f18?s=128&d=identicon&r=PG&f=1", "display_name": "Live Com", "link": "https://stackoverflow.com/users/4991529/live-com"}, "edited": false, "score": 0, "creation_date": 1463710819, "post_id": 37335757, "comment_id": 62191366, "body": "@Stevieb i think i got it what you were saying.. I corrected that but now its giving me different error i updated above in script mode"}, {"owner": {"reputation": 8273, "user_id": 1334695, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/431ae6e9f7610b9d6a6a6cdebd0244d5?s=128&d=identicon&r=PG", "display_name": "stevieb", "link": "https://stackoverflow.com/users/1334695/stevieb"}, "edited": false, "score": 0, "creation_date": 1463746697, "post_id": 37335757, "comment_id": 62209233, "body": "You have to install <code>Net::SSH</code>, then put <code>use Net::SSH</code> at the top of your script. You should also put <code>use strict;</code> and <code>use warnings;</code> as well."}, {"owner": {"reputation": 8273, "user_id": 1334695, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/431ae6e9f7610b9d6a6a6cdebd0244d5?s=128&d=identicon&r=PG", "display_name": "stevieb", "link": "https://stackoverflow.com/users/1334695/stevieb"}, "edited": false, "score": 2, "creation_date": 1463746739, "post_id": 37335757, "comment_id": 62209266, "body": "Also, you should have asked a new question, instead of asking a new one in an existing thread."}], "tags": [], "owner": {"reputation": 8273, "user_id": 1334695, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/431ae6e9f7610b9d6a6a6cdebd0244d5?s=128&d=identicon&r=PG", "display_name": "stevieb", "link": "https://stackoverflow.com/users/1334695/stevieb"}, "is_accepted": false, "score": 3, "last_activity_date": 1463701237, "creation_date": 1463701237, "answer_id": 37335757, "question_id": 37335674, "link": "https://stackoverflow.com/questions/37335674/bad-interpreter-no-such-file-or-directory-in-perl-script-for-beginner-in-perl/37335757#37335757", "title": "bad interpreter: No such file or directory in perl script (for beginner in perl scripting)", "body": "<p>You have Windows line endings, but you're running the script on a Unix system.</p>\n\n<p>To fix this, you can use <code>dos2unix script_GS.pl</code>, or if that isn't available, <code>vi script_GS.pl</code>, then in the editor, type <code>:set ff=unix</code>, then hit ENTER, then <code>:wq</code> and then ENTER again.</p>\n"}, {"tags": [], "owner": {"user_type": "does_not_exist", "display_name": "user6340684"}, "is_accepted": false, "score": 0, "last_activity_date": 1463701439, "last_edit_date": 1463701439, "creation_date": 1463701347, "answer_id": 37335767, "question_id": 37335674, "link": "https://stackoverflow.com/questions/37335674/bad-interpreter-no-such-file-or-directory-in-perl-script-for-beginner-in-perl/37335767#37335767", "title": "bad interpreter: No such file or directory in perl script (for beginner in perl scripting)", "body": "<p>You have transferred the file from Windows to Unix/Linux without changing the newlines. (ascii-mode in ftp)</p>\n\n<p>There are lots of tools and ways to do that afterwards.</p>\n\n<p>In vi:</p>\n\n<pre><code>:%s/^M//g\n</code></pre>\n\n<p>To enter ^M: type </p>\n\n<blockquote>\n  <p>Ctrl-V + ENTER</p>\n</blockquote>\n"}, {"tags": [], "owner": {"reputation": 1559, "user_id": 5553202, "user_type": "registered", "accept_rate": 20, "profile_image": "https://i.stack.imgur.com/n9E6O.jpg?s=128&g=1", "display_name": "Sravan", "link": "https://stackoverflow.com/users/5553202/sravan"}, "is_accepted": false, "score": 0, "last_activity_date": 1463717741, "creation_date": 1463717741, "answer_id": 37337843, "question_id": 37335674, "link": "https://stackoverflow.com/questions/37335674/bad-interpreter-no-such-file-or-directory-in-perl-script-for-beginner-in-perl/37337843#37337843", "title": "bad interpreter: No such file or directory in perl script (for beginner in perl scripting)", "body": "<p>It appears that your perl script isn't detecting the Net::OpenSSH module. Reinstalling this module should help. Also include \"use Net::OpenSSH;\" above the importing library code.</p>\n"}, {"comments": [{"owner": {"reputation": 195, "user_id": 6912508, "user_type": "registered", "accept_rate": 67, "profile_image": "https://www.gravatar.com/avatar/305090e7b12657dd094d28d369921f9a?s=128&d=identicon&r=PG&f=1", "display_name": "sam1370", "link": "https://stackoverflow.com/users/6912508/sam1370"}, "edited": false, "score": 0, "creation_date": 1564525390, "post_id": 37347267, "comment_id": 101057810, "body": "&quot;Obviously&quot; the condescension is high here."}], "tags": [], "owner": {"reputation": 812, "user_id": 6295044, "user_type": "registered", "accept_rate": 12, "profile_image": "https://www.gravatar.com/avatar/38ab6febb244b0351671858cc0c699fc?s=128&d=identicon&r=PG&f=1", "display_name": "deosha", "link": "https://stackoverflow.com/users/6295044/deosha"}, "is_accepted": false, "score": 1, "last_activity_date": 1463748734, "creation_date": 1463748734, "answer_id": 37347267, "question_id": 37335674, "link": "https://stackoverflow.com/questions/37335674/bad-interpreter-no-such-file-or-directory-in-perl-script-for-beginner-in-perl/37347267#37347267", "title": "bad interpreter: No such file or directory in perl script (for beginner in perl scripting)", "body": "<p>Obviously you are not importing NET::SSH but using it. Its like using JDBC conn in java without importing java.sql.* package. </p>\n\n<p>Something like <strong>use Net::OpenSSH;</strong> at the top of the script should fix this error but if you are really so novice, be prepared to get errors like can't locate in @INC or something like these. So you might need to get basic perl lessons first before going to use NET::OpenSSH which is advanced perl package.</p>\n"}], "owner": {"reputation": 69, "user_id": 4991529, "user_type": "registered", "accept_rate": 0, "profile_image": "https://www.gravatar.com/avatar/553cdab1d9274f1856f03da1b2b70f18?s=128&d=identicon&r=PG&f=1", "display_name": "Live Com", "link": "https://stackoverflow.com/users/4991529/live-com"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 7166, "favorite_count": 1, "answer_count": 4, "score": 0, "last_activity_date": 1583213679, "creation_date": 1463700632, "last_edit_date": 1463710880, "question_id": 37335674, "link": "https://stackoverflow.com/questions/37335674/bad-interpreter-no-such-file-or-directory-in-perl-script-for-beginner-in-perl", "title": "bad interpreter: No such file or directory in perl script (for beginner in perl scripting)", "body": "<p>We created 1 perl script which will run from one remote server and access the server and will get the data by running the top command for particular process. However whenever i try to run the script i am getting below error.</p>\n\n<p><code>./script_GS.pl\n-bash: ./script_GS.pl: /usr/local/share/perl^M: bad interpreter: No such file or directory\n</code>\nScript we created as below.</p>\n\n<pre><code>#!/usr/bin/perl\nuse lib \"/usr/CSV-2/lib\";\nuse lib \"/usr/share/lib\";\nuse lib \"/usr/local/lib/perl/5.10.1/auto/\"; \nuse lib \"/usr/share/man/man3/\";\nuse lib \"/usr/local/share/man/man3/\";\n\nmy $username = 'root';\nmy $password = 'xxxxxxxx';\nmy $ip = '1.1.1.1';\nmy $TERM ;\nmy $ssh = Net::OpenSSH-&gt;new(\"$username:$password\\@$ip\", timeout =&gt; 30);\n$ssh-&gt;system(\"echo $TERM\");\n$ssh-&gt;system(\"export TERM=xterm\");\nmy ($CPU,$stderr) = $ssh-&gt;capture(\"top -b | head -n 8 | grep -w gis | awk '{    \nprint \\$6}' \");\n\nprint \"CPU:\".$CPU.\" \";\n</code></pre>\n\n<p>Can seniors please help.</p>\n\n<p>Error which i am getting is </p>\n\n<pre><code> ./Script_GS.pl\n Can't locate object method \"new\" via package \"Net::OpenSSH\" (perhaps you   \n forgot to load \"Net::OpenSSH\"?) at ./Script_GS.pl line 12.\n</code></pre>\n"}, {"tags": ["apache", "perl", "httprequest", "restart"], "answers": [{"tags": [], "owner": {"reputation": 308, "user_id": 1986828, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/96txi.jpg?s=128&g=1", "display_name": "Amias", "link": "https://stackoverflow.com/users/1986828/amias"}, "is_accepted": true, "score": 0, "last_activity_date": 1477306965, "last_edit_date": 1477306965, "creation_date": 1463990417, "answer_id": 37385621, "question_id": 37334602, "link": "https://stackoverflow.com/questions/37334602/apache-reload-mid-request/37385621#37385621", "title": "Apache reload mid request", "body": "<p>The webserver is most likely asking the client to cache by setting http headers in its response</p>\n"}], "owner": {"reputation": 11, "user_id": 6358336, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/de3560a2a7943f4b62c688a28605faf3?s=128&d=identicon&r=PG&f=1", "display_name": "trinz", "link": "https://stackoverflow.com/users/6358336/trinz"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 44, "favorite_count": 0, "accepted_answer_id": 37385621, "answer_count": 1, "score": 0, "last_activity_date": 1477306965, "creation_date": 1463694434, "question_id": 37334602, "link": "https://stackoverflow.com/questions/37334602/apache-reload-mid-request", "title": "Apache reload mid request", "body": "<p>I need a request to reload the server and use the updated source without the user having to intervene. </p>\n\n<p>As it stands, I ping the server with a request to update source using git. I reload Apache to flush INC/conf files (I'm aware the current request hasn't been flushed). To prevent the user from having to interact, I return a silent JSON to the client with details needed to continue. The client script then POSTs back to the server. Problem is, the second request is run with the previous source. Shouldn't it be a new request of the updated parent process? </p>\n\n<p>What am I missing? Thanks.</p>\n"}, {"tags": ["perl", "wildcard", "string-comparison"], "comments": [{"owner": {"reputation": 198290, "user_id": 1030675, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/957956ce51706d03f19a4dc85a767bb1?s=128&d=identicon&r=PG", "display_name": "choroba", "link": "https://stackoverflow.com/users/1030675/choroba"}, "edited": false, "score": 1, "creation_date": 1463677290, "post_id": 37329623, "comment_id": 62178155, "body": "<a href=\"http://www.perlmonks.org/?node_id=1163469\" rel=\"nofollow noreferrer\">perlmonks.org/?node_id=1163469</a>"}, {"owner": {"reputation": 1139, "user_id": 6266602, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/b0fa60ab2c1ac1b185db45679cabe8c9?s=128&d=identicon&r=PG&f=1", "display_name": "Thomas B Preusser", "link": "https://stackoverflow.com/users/6266602/thomas-b-preusser"}, "edited": false, "score": 0, "creation_date": 1463677343, "post_id": 37329623, "comment_id": 62178186, "body": "Are you trying to have <code>forbidden.txt</code> provide you with exclusion patterns? Or must the contents of this file be applied in order? It looks a little bit like a task for <code>grep</code>."}, {"owner": {"reputation": 198290, "user_id": 1030675, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/957956ce51706d03f19a4dc85a767bb1?s=128&d=identicon&r=PG", "display_name": "choroba", "link": "https://stackoverflow.com/users/1030675/choroba"}, "edited": false, "score": 0, "creation_date": 1463677423, "post_id": 37329623, "comment_id": 62178233, "body": "What do you mean by &quot;wild cards&quot;?"}], "answers": [{"comments": [{"owner": {"reputation": 1, "user_id": 6357216, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/1e27f59f75aa330bafdca0385c0c5da1?s=128&d=identicon&r=PG&f=1", "display_name": "sk.sree", "link": "https://stackoverflow.com/users/6357216/sk-sree"}, "edited": false, "score": 0, "creation_date": 1463724829, "post_id": 37331832, "comment_id": 62195395, "body": "&gt;what I need to do is file1.txt  E: not matching signals (&lt;file path&gt;; line no .*) file2.txt  E: not matching signals (&lt;file path&gt;; line no 1)  E: not matching signals (&lt;file path&gt;; line no 63)  E: too lengthy names    (&lt;file path&gt;; line no 354&gt;) output expected file3.txt E: too lengthy names    (&lt;file path&gt;; line no 354&gt;) .* shld be able to match 2 scenarios in file2.txt"}, {"owner": {"reputation": 1, "user_id": 6357216, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/1e27f59f75aa330bafdca0385c0c5da1?s=128&d=identicon&r=PG&f=1", "display_name": "sk.sree", "link": "https://stackoverflow.com/users/6357216/sk-sree"}, "edited": false, "score": 0, "creation_date": 1463725099, "post_id": 37331832, "comment_id": 62195531, "body": "Is there any other way I can say to ignore the string line no and do pattern matching or edit file1.txt to do the multiple matching. I need to filter out the non matching ones"}, {"owner": {"reputation": 534, "user_id": 6356910, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/17f5d88fc45e4185aa228d3ef08f0442?s=128&d=identicon&r=PG&f=1", "display_name": "Otterbein", "link": "https://stackoverflow.com/users/6356910/otterbein"}, "reply_to_user": {"reputation": 1, "user_id": 6357216, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/1e27f59f75aa330bafdca0385c0c5da1?s=128&d=identicon&r=PG&f=1", "display_name": "sk.sree", "link": "https://stackoverflow.com/users/6357216/sk-sree"}, "edited": false, "score": 0, "creation_date": 1463725880, "post_id": 37331832, "comment_id": 62195966, "body": "well, I also have an error in my solution. Th File::Slurp isn&#39;t a core module, so you have to downlaod and install it from cpan.  Try this first, if it apperas to be the same issue I wil have another look!"}, {"owner": {"reputation": 534, "user_id": 6356910, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/17f5d88fc45e4185aa228d3ef08f0442?s=128&d=identicon&r=PG&f=1", "display_name": "Otterbein", "link": "https://stackoverflow.com/users/6356910/otterbein"}, "reply_to_user": {"reputation": 1, "user_id": 6357216, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/1e27f59f75aa330bafdca0385c0c5da1?s=128&d=identicon&r=PG&f=1", "display_name": "sk.sree", "link": "https://stackoverflow.com/users/6357216/sk-sree"}, "edited": false, "score": 0, "creation_date": 1463728908, "post_id": 37331832, "comment_id": 62197773, "body": "Hm, I don&#39;t catch what you want. If you want the non-mathing lines from these two files you can use my code from above, maybe extended with the -&gt;get_Ronly to find the other non-matching lines. Or just use the symmetric difference -&gt;get_symmetric_difference()"}, {"owner": {"reputation": 1, "user_id": 6357216, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/1e27f59f75aa330bafdca0385c0c5da1?s=128&d=identicon&r=PG&f=1", "display_name": "sk.sree", "link": "https://stackoverflow.com/users/6357216/sk-sree"}, "edited": false, "score": 0, "creation_date": 1463736068, "post_id": 37331832, "comment_id": 62202238, "body": "yes I need the non-matching lines but with a condition. My work scenario is that one of the files is like a filter file. Lines from second file need to be filtered out as per filter file. I wanted to reduce lines of code of filter file so I add &quot;.* &quot; to match multiple lines with same strings in the work file but some values in the line will be different. so i need perl to match 1 line of the filter file to multiple lines of work file.meanwhile I will download file::slurp and check the provided solution"}, {"owner": {"reputation": 534, "user_id": 6356910, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/17f5d88fc45e4185aa228d3ef08f0442?s=128&d=identicon&r=PG&f=1", "display_name": "Otterbein", "link": "https://stackoverflow.com/users/6356910/otterbein"}, "reply_to_user": {"reputation": 1, "user_id": 6357216, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/1e27f59f75aa330bafdca0385c0c5da1?s=128&d=identicon&r=PG&f=1", "display_name": "sk.sree", "link": "https://stackoverflow.com/users/6357216/sk-sree"}, "edited": false, "score": 0, "creation_date": 1463736893, "post_id": 37331832, "comment_id": 62202813, "body": "Now i got it!  if each line in the filter.txt represents a string you want to match in the bigFile.txt you can do the following:  split up each file into lines: foreach filterLine do: <code>@filteredLines = grep{ &#47;yourFilterString&#47;} @bigFileLines</code> <code>push(@result, @filteredLines)</code>"}], "tags": [], "owner": {"reputation": 534, "user_id": 6356910, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/17f5d88fc45e4185aa228d3ef08f0442?s=128&d=identicon&r=PG&f=1", "display_name": "Otterbein", "link": "https://stackoverflow.com/users/6356910/otterbein"}, "is_accepted": false, "score": 0, "last_activity_date": 1463738063, "last_edit_date": 1463738063, "creation_date": 1463684043, "answer_id": 37331832, "question_id": 37329623, "link": "https://stackoverflow.com/questions/37329623/perl-code-for-comparing-file-contents/37331832#37331832", "title": "perl code for comparing file contents", "body": "<p>I'm not sure what you mean with \"wild card\".</p>\n\n<p>Nevertheless there are many ways to do what you want. Since it's prettier to use some existing modules you can use the <a href=\"http://search.cpan.org/~jkeenan/List-Compare-0.53/lib/List/Compare.pm\" rel=\"nofollow\">List::Compare</a> module available at cpan.</p>\n\n<p>With the following code you use this module to store all the lines contained in the one file (file.txt) but not in the other file (forbidden.txt). So you implicitly <strong>match</strong> the lines which are equal. This code <strong>doesn't delete</strong> them from the file, but find them.</p>\n\n<p>Your code would look like:</p>\n\n<pre><code>use strict;\nuse warnings;\nuse File::Slurp qw(read_file); #cpan-module\nuse List::Compare; #cpan-module\n\nchomp( my @a_file = read_file 'file.txt' );\nchomp( my @b_file = read_file 'forbidden.txt' );\n\n#here it stores all the lines contained in the 'file.txt' \n#but not in the 'forbidden.txt' in an array \nmy @a_file_only = List::Compare-&gt;new( \\@a_file, \\@b_file )-&gt;get_Lonly;\n\nprint \"$_\\n\" for @a_file_only; \n#here you could write these lines in a new file to store them. \n#At this point I just print them out.\n</code></pre>\n\n<p>the new approach:</p>\n\n<pre><code>foreach my $filter (@b_file){\n    @a_file = grep{ /${filter}/} @a_file;\n}\n print Dumper(@a_file);\n</code></pre>\n\n<p>It will reduce the lines in the @a_file step by step by using each filter.</p>\n"}], "owner": {"reputation": 1, "user_id": 6357216, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/1e27f59f75aa330bafdca0385c0c5da1?s=128&d=identicon&r=PG&f=1", "display_name": "sk.sree", "link": "https://stackoverflow.com/users/6357216/sk-sree"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 245, "favorite_count": 0, "answer_count": 1, "score": 0, "last_activity_date": 1463738063, "creation_date": 1463676946, "last_edit_date": 1463677190, "question_id": 37329623, "link": "https://stackoverflow.com/questions/37329623/perl-code-for-comparing-file-contents", "title": "perl code for comparing file contents", "body": "<p>I'm a newbie in perl scripting. I have 2 files. I want to compare contents line by line and delete the matching ones. if i use a wild card in 1 file to match multiple lines in second file, it should delete multiple matches and write the rest to another file. I got a bit from another mail it does not take care of wild cards</p>\n\n<pre><code>use strict;\nuse warnings;\n$\\=\"\\n\";\n\nopen my $FILE, \"&lt;\", \"file.txt\" or die \"Can't open file.txt: $!\";\nmy %Set = map {$_ =&gt; undef} &lt;$FILE&gt;;\nopen my $FORBIDDEN, \"&lt;\", \"forbidden.txt\" or die \"Can't open forbidden.txt: $!\";\nmy %Forbidden = map {$_ =&gt; undef} &lt;$FORBIDDEN&gt;;\nopen my $OUT, '&gt;', 'output' or die $!;\nmy %Result = %Set; # make a copy\ndelete $Result{$_} for keys %Forbidden;\nprint $OUT keys %Result\n</code></pre>\n"}, {"tags": ["perl"], "comments": [{"owner": {"reputation": 5334, "user_id": 5830574, "user_type": "registered", "accept_rate": 93, "profile_image": "https://i.stack.imgur.com/kCmqs.png?s=128&g=1", "display_name": "PerlDuck", "link": "https://stackoverflow.com/users/5830574/perlduck"}, "edited": false, "score": 0, "creation_date": 1463692568, "post_id": 37328441, "comment_id": 62186155, "body": "This hasn&#39;t anything to do with parsing the output (you have answers already) but I <b>strongly</b> recommend to apply the <code>-P</code> switch to <code>df</code>, i.e. <code>df -hP</code>. Else you may get the output of <code>df</code> split up in <i>two</i> lines if the filesystem&#39;s name is too long. <a href=\"http://askubuntu.com/q/55702/504066\">See here</a> for an example."}], "answers": [{"comments": [{"owner": {"reputation": 5334, "user_id": 5830574, "user_type": "registered", "accept_rate": 93, "profile_image": "https://i.stack.imgur.com/kCmqs.png?s=128&g=1", "display_name": "PerlDuck", "link": "https://stackoverflow.com/users/5830574/perlduck"}, "edited": false, "score": 1, "creation_date": 1463693014, "post_id": 37328649, "comment_id": 62186369, "body": "Just a side note: malformed output of <code>df</code> (<a href=\"http://askubuntu.com/q/55702/504066\">like here</a>) can also be avoided by applying <code>-P</code> (<code>df -hP</code>)."}], "tags": [], "owner": {"reputation": 50468, "user_id": 1331451, "user_type": "registered", "accept_rate": 96, "profile_image": "https://i.stack.imgur.com/4ZPmj.png?s=128&g=1", "display_name": "simbabque", "link": "https://stackoverflow.com/users/1331451/simbabque"}, "is_accepted": false, "score": 3, "last_activity_date": 1463673972, "creation_date": 1463673972, "answer_id": 37328649, "question_id": 37328441, "link": "https://stackoverflow.com/questions/37328441/split-number-and-percent-sign-for-comparison/37328649#37328649", "title": "Split number and percent sign for comparison", "body": "<p>You need to remove the <code>%</code> sign. A good way to do that is to use a regular expression match and a capture group. At the same time, this helps to find malformed output from <code>df</code>.</p>\n\n<pre><code>my $res = `df -h $LZE |awk 'FNR == 2 {print \\$5}'`;\n$res =~ m/(\\d+)%/;\nmy $used_space = $1 or die \"Something went wrong with df: $!\";\n\ngiven ($used_space) {\n    when ($used_space &lt; 75) { ... }\n}\n</code></pre>\n\n<p>The line <code>my $used_space = $1 or die \"Something went wrong with df: $!\";</code> assigns the value of the match (<code>$1</code> is the first capture group) to <code>$user_space</code>. That operation returns that same value. If it's not a true value (i.e. <code>undef</code>), the low-binding <code>or</code> will trigger its right-hand-side command, and the program will die.</p>\n\n<p>See <a href=\"http://perldoc.perl.org/perlre.html\" rel=\"nofollow\">perlre</a> for more information.</p>\n"}, {"comments": [{"owner": {"reputation": 51521, "user_id": 2566198, "user_type": "registered", "accept_rate": 67, "profile_image": "https://i.stack.imgur.com/Y34ZA.jpg?s=128&g=1", "display_name": "Sobrique", "link": "https://stackoverflow.com/users/2566198/sobrique"}, "edited": false, "score": 0, "creation_date": 1463674127, "post_id": 37328667, "comment_id": 62176350, "body": "That&#39;s still doing stringwise comparisons, so hasn&#39;t actually fixed the problem."}, {"owner": {"reputation": 8273, "user_id": 1334695, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/431ae6e9f7610b9d6a6a6cdebd0244d5?s=128&d=identicon&r=PG", "display_name": "stevieb", "link": "https://stackoverflow.com/users/1334695/stevieb"}, "reply_to_user": {"reputation": 51521, "user_id": 2566198, "user_type": "registered", "accept_rate": 67, "profile_image": "https://i.stack.imgur.com/Y34ZA.jpg?s=128&g=1", "display_name": "Sobrique", "link": "https://stackoverflow.com/users/2566198/sobrique"}, "edited": false, "score": 1, "creation_date": 1463674342, "post_id": 37328667, "comment_id": 62176474, "body": "updated, but it does work properly with the string comparison operators (at least on 5.24.0)"}], "tags": [], "owner": {"reputation": 8273, "user_id": 1334695, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/431ae6e9f7610b9d6a6a6cdebd0244d5?s=128&d=identicon&r=PG", "display_name": "stevieb", "link": "https://stackoverflow.com/users/1334695/stevieb"}, "is_accepted": false, "score": 2, "last_activity_date": 1463674300, "last_edit_date": 1463674300, "creation_date": 1463674041, "answer_id": 37328667, "question_id": 37328441, "link": "https://stackoverflow.com/questions/37328441/split-number-and-percent-sign-for-comparison/37328667#37328667", "title": "Split number and percent sign for comparison", "body": "<p>Note that <code>given/when</code> is experimental, you might want to reconsider using it. Either way, I've made some slight changes to make your code do what you want.</p>\n\n<p>It removes the <code>%</code> from <code>$used_space</code> in a regex search/replace, removed the <code>%</code> sign from the actual comaprisons, and added it into the print results.</p>\n\n<pre><code>my $used_space = `df -h $LZE |awk 'FNR == 2 {print \\$5}'`;\n\n$used_space =~ s/%//;\n\ngiven ($used_space) {\n    chomp($used_space);\n    when ($used_space &lt; 75) { print \"OK - $used_space% of disk space used by $LZE\\n\"; exit(0); }\n    when ($used_space == 75) { print \"WARNING - $used_space% of disk space used by $LZE\\n\"; exit(1);  }\n    when ($used_space &gt; 75) { print \"CRITICAL - $used_space% of disk space used by $LZE\\n\"; exit(2); }\n    default { print \"UNKNOWN - $used_space% of disk space used by $LZE\\n\"; exit(3); }\n}\n</code></pre>\n"}, {"tags": [], "owner": {"reputation": 51521, "user_id": 2566198, "user_type": "registered", "accept_rate": 67, "profile_image": "https://i.stack.imgur.com/Y34ZA.jpg?s=128&g=1", "display_name": "Sobrique", "link": "https://stackoverflow.com/users/2566198/sobrique"}, "is_accepted": false, "score": 1, "last_activity_date": 1463674392, "last_edit_date": 1463674392, "creation_date": 1463674090, "answer_id": 37328682, "question_id": 37328441, "link": "https://stackoverflow.com/questions/37328441/split-number-and-percent-sign-for-comparison/37328682#37328682", "title": "Split number and percent sign for comparison", "body": "<p>The problem here is that <code>eq</code> and the like aren't doing what you assume. They're string value comparisons, so are doing alphanumeric comparisons.</p>\n\n<p>See: <a href=\"http://perldoc.perl.org/perlop.html#Relational-Operators\" rel=\"nofollow\"><code>perlop</code></a> </p>\n\n<p>You're getting away with it, because alphabetically comparing 'two digit' percentages gets you the right result. </p>\n\n<p>But if you're sorting alphabetically: <code>ab</code> comes before <code>cdefg</code>. </p>\n\n<p>So basically - don't use those operators. Make a numeric value out of your numbers (<code>s/%//g</code>  will do it) and then compare with <code>==</code> or <code>&lt;</code> or <code>&gt;</code>. </p>\n\n<pre><code>#!/usr/bin/env perl\nuse strict;\nuse warnings;\n\nmy @values = ( '7%', '8%', '9%', '10%', '11%', '75%', '80%', '100%' );\n\nprint join \"\\n\", sort { $a cmp $b } @values;\n</code></pre>\n\n<p>This gives you an order of: </p>\n\n<pre><code>10%\n100%\n11%\n7%\n75%\n8%\n80%\n9%\n</code></pre>\n\n<p>I'm pretty sure that's almost exactly what you <em>don't</em> want. (because '100% full' is less that <code>75%</code>!)</p>\n\n<p>Changing the values to lose the percent, then using the numeric operators is the way to go. </p>\n\n<pre><code>s/%//g for @values;\nprint join \"\\n\", sort { $a &lt;=&gt; $b } @values;\n</code></pre>\n"}, {"tags": [], "owner": {"reputation": 12672, "user_id": 1200821, "user_type": "registered", "accept_rate": 100, "profile_image": "https://i.stack.imgur.com/Cm117.jpg?s=128&g=1", "display_name": "Juan Diego Godoy Robles", "link": "https://stackoverflow.com/users/1200821/juan-diego-godoy-robles"}, "is_accepted": false, "score": 0, "last_activity_date": 1463674705, "creation_date": 1463674705, "answer_id": 37328892, "question_id": 37328441, "link": "https://stackoverflow.com/questions/37328441/split-number-and-percent-sign-for-comparison/37328892#37328892", "title": "Split number and percent sign for comparison", "body": "<p>Just want to point that <code>awk</code> is useless here:</p>\n\n<pre><code>my $used_space = `df -h $LZE`;\n$used_space =~ m/(\\d+)%/;\n$used_space = $1;\n\ngiven ($used_space) {\n    when ($used_space &lt;  75) { print \"OK - $used_space of disk space used by $LZE\\n\"; exit(0); }\n...\n</code></pre>\n"}, {"tags": [], "owner": {"reputation": 52821, "user_id": 632407, "user_type": "registered", "accept_rate": 86, "profile_image": "https://i.stack.imgur.com/AfGWW.jpg?s=128&g=1", "display_name": "jm666", "link": "https://stackoverflow.com/users/632407/jm666"}, "is_accepted": false, "score": 2, "last_activity_date": 1463676794, "creation_date": 1463676794, "answer_id": 37329564, "question_id": 37328441, "link": "https://stackoverflow.com/questions/37328441/split-number-and-percent-sign-for-comparison/37329564#37329564", "title": "Split number and percent sign for comparison", "body": "<p>Or without the unnecessary forking of 3 external binaries (<code>bash</code> + <code>df</code> + <code>awk</code>) and parsing its output - by using the <a href=\"https://metacpan.org/pod/Filesys::Df\" rel=\"nofollow\">Filesys::Df</a> or the <a href=\"https://metacpan.org/pod/Filesys::DfPortable\" rel=\"nofollow\">Filesys::DfPortable</a> for example as:</p>\n\n<pre><code>#!/usr/bin/env perl\nuse 5.014;\nuse warnings;\nuse Filesys::Df;\nmy $limit = 75;\nmy @txt = qw(OK WARNING CRITICAL);\n\nfor my $fs (@ARGV) {\n    my $ref = df($fs);\n    unless($ref) { warn \"Unknown filesystem $fs\"; next }\n    my $lev = $ref-&gt;{per} &lt; $limit ? 0 : $ref-&gt;{per} == $limit ? 1 : 2;\n    say \"$txt[$lev] - $ref-&gt;{per}% of disk space used by $fs\";\n}\n</code></pre>\n\n<p>using it as <code>./mydf / /foobar /tmp</code> prints</p>\n\n<pre><code>OK - 66% of disk space used by /\nUnknown filesystem /foobar at ./mydf line 10.\nOK - 10% of disk space used by /tmp\n</code></pre>\n"}], "owner": {"reputation": 29, "user_id": 6357079, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/ff47d68304c8b2e8727a7ebedeaa2058?s=128&d=identicon&r=PG&f=1", "display_name": "JoeL", "link": "https://stackoverflow.com/users/6357079/joel"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 627, "favorite_count": 0, "answer_count": 5, "score": 2, "last_activity_date": 1463676794, "creation_date": 1463673386, "last_edit_date": 1463673744, "question_id": 37328441, "link": "https://stackoverflow.com/questions/37328441/split-number-and-percent-sign-for-comparison", "title": "Split number and percent sign for comparison", "body": "<p>I have written a small perl script to detect, if a partition has problems due to fillup.</p>\n\n<p>I call my script by bash shell like this:</p>\n\n<pre><code>chk_part.sh /PARTITION\n</code></pre>\n\n<p>It works well, but i have problems with counters beginning with 8 or 9.\ne.g. if my partition has 8% filled up i get \"critical\"</p>\n\n<p>I think the problem is that I'm using character (<code>%</code>) and digit (8) mixed up for my comparisons (<code>lt</code>, <code>gt</code>, <code>eq</code>).</p>\n\n<p>How can I fix it?</p>\n\n<pre><code>#!/usr/bin/perl -w\nuse strict;\nuse warnings;\nuse feature qw(switch say);\n\nmy $LZE = shift(@ARGV);\n\n# die \"Usage: $0 Partition\\n\" if @ARGV &lt; 1;\n\nmy $used_space = `df -h $LZE |awk 'FNR == 2 {print \\$5}'`;\n\ngiven ($used_space) {\n    chomp($used_space);\n    when ($used_space lt '75%') { print \"OK - $used_space of disk space used by $LZE\\n\"; exit(0); }\n    when ($used_space eq '75%') { print \"WARNING - $used_space of disk space used by $LZE\\n\"; exit(1);  }\n    when ($used_space gt '75%') { print \"CRITICAL - $used_space of disk space used by $LZE\\n\"; exit(2); }\n    default { print \"UNKNOWN - $used_space of disk space used by $LZE\\n\"; exit(3); }\n}\n</code></pre>\n"}, {"tags": ["string", "perl", "search"], "comments": [{"owner": {"reputation": 51521, "user_id": 2566198, "user_type": "registered", "accept_rate": 67, "profile_image": "https://i.stack.imgur.com/Y34ZA.jpg?s=128&g=1", "display_name": "Sobrique", "link": "https://stackoverflow.com/users/2566198/sobrique"}, "edited": false, "score": 0, "creation_date": 1463688376, "post_id": 37328163, "comment_id": 62184183, "body": "<code>Text::Levenshtein</code> might make if faster."}, {"owner": {"reputation": 169, "user_id": 5106204, "user_type": "registered", "accept_rate": 55, "profile_image": "https://www.gravatar.com/avatar/ea44da36974d202ff23940ec61348965?s=128&d=identicon&r=PG&f=1", "display_name": "SSh", "link": "https://stackoverflow.com/users/5106204/ssh"}, "reply_to_user": {"reputation": 51521, "user_id": 2566198, "user_type": "registered", "accept_rate": 67, "profile_image": "https://i.stack.imgur.com/Y34ZA.jpg?s=128&g=1", "display_name": "Sobrique", "link": "https://stackoverflow.com/users/2566198/sobrique"}, "edited": false, "score": 1, "creation_date": 1463690716, "post_id": 37328163, "comment_id": 62185349, "body": "@Sobrique : This gives distance between strings. Here, one string is searched against another larger string, how the distance can be used here? Thanks"}, {"owner": {"reputation": 32176, "user_id": 2173773, "user_type": "registered", "accept_rate": 86, "profile_image": "https://i.stack.imgur.com/M8yh6.jpg?s=128&g=1", "display_name": "H&#229;kon H&#230;gland", "link": "https://stackoverflow.com/users/2173773/h%c3%a5kon-h%c3%a6gland"}, "edited": false, "score": 0, "creation_date": 1463691274, "post_id": 37328163, "comment_id": 62185603, "body": "I am trying to understand the code: Why are you counting characters in the range (ASCII) 1-173 (octal 001-255)?"}, {"owner": {"reputation": 4687, "user_id": 1114453, "user_type": "registered", "accept_rate": 61, "profile_image": "https://www.gravatar.com/avatar/9f0cf0b5d4bba4afef7cc27c21578a17?s=128&d=identicon&r=PG", "display_name": "dariober", "link": "https://stackoverflow.com/users/1114453/dariober"}, "edited": false, "score": 0, "creation_date": 1463728646, "post_id": 37328163, "comment_id": 62197631, "body": "This looks like problems that appear often in bioinformatics. There are algorithms and programs implemented to align reads to reference sequences very quickly. For example bwa (<a href=\"https://github.com/lh3/bwa\" rel=\"nofollow noreferrer\">github.com/lh3/bwa</a>) implementing Burrow Wheeler transform. If this sounds like the right track and you get stuck you might want to ask for help on Biostars (<a href=\"https://www.biostars.org/\" rel=\"nofollow noreferrer\">biostars.org</a>)."}, {"owner": {"reputation": 169, "user_id": 5106204, "user_type": "registered", "accept_rate": 55, "profile_image": "https://www.gravatar.com/avatar/ea44da36974d202ff23940ec61348965?s=128&d=identicon&r=PG&f=1", "display_name": "SSh", "link": "https://stackoverflow.com/users/5106204/ssh"}, "reply_to_user": {"reputation": 4687, "user_id": 1114453, "user_type": "registered", "accept_rate": 61, "profile_image": "https://www.gravatar.com/avatar/9f0cf0b5d4bba4afef7cc27c21578a17?s=128&d=identicon&r=PG", "display_name": "dariober", "link": "https://stackoverflow.com/users/1114453/dariober"}, "edited": false, "score": 0, "creation_date": 1463775686, "post_id": 37328163, "comment_id": 62225814, "body": "@dariober : this is demultiplexing based on barcodes not the alignment."}, {"owner": {"reputation": 320771, "user_id": 589924, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/b2cf53d5a3d25f95c0db4e025aed4153?s=128&d=identicon&r=PG", "display_name": "ikegami", "link": "https://stackoverflow.com/users/589924/ikegami"}, "edited": false, "score": 0, "creation_date": 1463849924, "post_id": 37328163, "comment_id": 62244279, "body": "You were previously given three solutions. I would have pegged this one as the slowest (unless it were to be converted into C)"}, {"owner": {"reputation": 320771, "user_id": 589924, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/b2cf53d5a3d25f95c0db4e025aed4153?s=128&d=identicon&r=PG", "display_name": "ikegami", "link": "https://stackoverflow.com/users/589924/ikegami"}, "edited": false, "score": 0, "creation_date": 1464150931, "post_id": 37328163, "comment_id": 62360383, "body": "You&#39;re calling <code>make_barcode_fragments</code> 4,000,000,000,000 times when it only needs to be called 2000!!! You&#39;ll also want to compile the patterns (using <code>qr&#47;&#47;</code>) in advance."}], "answers": [{"comments": [{"owner": {"reputation": 53041, "user_id": 4653379, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/b3953dbedd0dabff5cbc3db9b0835b14?s=128&d=identicon&r=PG&f=1", "display_name": "zdim", "link": "https://stackoverflow.com/users/4653379/zdim"}, "edited": false, "score": 0, "creation_date": 1463771795, "post_id": 37350808, "comment_id": 62223954, "body": "Thanks for inline example, a question -- are there big downsides/issues with simply using this (<code>Inline</code>) to use C?  I somehow thought that I&#39;d have to go to XS and there&#39;s a bit more to do."}, {"owner": {"reputation": 32176, "user_id": 2173773, "user_type": "registered", "accept_rate": 86, "profile_image": "https://i.stack.imgur.com/M8yh6.jpg?s=128&g=1", "display_name": "H&#229;kon H&#230;gland", "link": "https://stackoverflow.com/users/2173773/h%c3%a5kon-h%c3%a6gland"}, "reply_to_user": {"reputation": 53041, "user_id": 4653379, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/b3953dbedd0dabff5cbc3db9b0835b14?s=128&d=identicon&r=PG&f=1", "display_name": "zdim", "link": "https://stackoverflow.com/users/4653379/zdim"}, "edited": false, "score": 0, "creation_date": 1463772188, "post_id": 37350808, "comment_id": 62224147, "body": "@zdim I am not sure, I just started writing C in Perl. I think you are right about that there is more work for the programmer to write directly in XS. But I have not programmed anything in XS yet. But I hope to learn it soon :)"}, {"owner": {"reputation": 53041, "user_id": 4653379, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/b3953dbedd0dabff5cbc3db9b0835b14?s=128&d=identicon&r=PG&f=1", "display_name": "zdim", "link": "https://stackoverflow.com/users/4653379/zdim"}, "edited": false, "score": 0, "creation_date": 1463772380, "post_id": 37350808, "comment_id": 62224229, "body": "I remember looking for how to use C in Perl and (I think) finding caveats with <code>Inline</code> (and feeling sorry about it since it&#39;s so straightforward). I also want to get into XS but never got around to it yet."}, {"owner": {"reputation": 320771, "user_id": 589924, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/b2cf53d5a3d25f95c0db4e025aed4153?s=128&d=identicon&r=PG", "display_name": "ikegami", "link": "https://stackoverflow.com/users/589924/ikegami"}, "reply_to_user": {"reputation": 53041, "user_id": 4653379, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/b3953dbedd0dabff5cbc3db9b0835b14?s=128&d=identicon&r=PG&f=1", "display_name": "zdim", "link": "https://stackoverflow.com/users/4653379/zdim"}, "edited": false, "score": 0, "creation_date": 1463849285, "post_id": 37350808, "comment_id": 62244064, "body": "@zdim, It creates files at runtime, so you can run into permission problems. And like all self-installed modules, it requires a working compiler. That&#39;s about it. If you intended to distribute it, you&#39;d make an actual XS module."}, {"owner": {"reputation": 53041, "user_id": 4653379, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/b3953dbedd0dabff5cbc3db9b0835b14?s=128&d=identicon&r=PG&f=1", "display_name": "zdim", "link": "https://stackoverflow.com/users/4653379/zdim"}, "reply_to_user": {"reputation": 320771, "user_id": 589924, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/b2cf53d5a3d25f95c0db4e025aed4153?s=128&d=identicon&r=PG", "display_name": "ikegami", "link": "https://stackoverflow.com/users/589924/ikegami"}, "edited": false, "score": 0, "creation_date": 1464590586, "post_id": 37350808, "comment_id": 62531169, "body": "@ikegami Thank you very much. I somehow remember that there were caveats, it&#39;s very good to know that it&#39;s only this. (I will have to learn the XS finally though. Seems hairy and fun.)"}], "tags": [], "owner": {"reputation": 32176, "user_id": 2173773, "user_type": "registered", "accept_rate": 86, "profile_image": "https://i.stack.imgur.com/M8yh6.jpg?s=128&g=1", "display_name": "H&#229;kon H&#230;gland", "link": "https://stackoverflow.com/users/2173773/h%c3%a5kon-h%c3%a6gland"}, "is_accepted": false, "score": 1, "last_activity_date": 1463759510, "creation_date": 1463759510, "answer_id": 37350808, "question_id": 37328163, "link": "https://stackoverflow.com/questions/37328163/fastest-way-to-search-string-with-two-mismatch-in-big-files-in-perl/37350808#37350808", "title": "Fastest way to search string with two mismatch in big files in perl?", "body": "<p>If your algorithm cannot be changed/improved in Perl itself, you can still get speedup by writing the time consuming parts in C. Here is an example using inline C:</p>\n\n<pre><code>use strict;\nuse warnings;\nuse Benchmark qw(timethese);\nuse Inline C =&gt; './check_line_c.c';\n\nmy $find    = \"MATCH1\";\nmy $search = \"saasdadadadadasd\";\n\nmy %sub_info = (\n    c    =&gt; sub { check_line_c( $find, $search ) },\n    perl =&gt; sub { check_line_perl( $find, $search ) },\n);\n\ntimethese( 4_000_000, \\%sub_info );\n\nsub check_line_perl {\n    my ($find, $search ) = @_;\n\n    my $max_distance = 2;\n\n    for my $offset ( 0 .. length($search) - length($find) ) {\n        my $substr = substr( $search, $offset, length($find) );\n        my $hd = hd( $find, $substr );\n        if ( $hd &lt;= $max_distance ) {\n            return ( $hd, $substr );\n        }\n    }\n    return ( undef, undef );\n}\n\nsub hd {\n    return ( $_[0] ^ $_[1] ) =~ tr/\\001-\\377//;\n}\n</code></pre>\n\n<p>where <code>check_line_c.c</code> is:</p>\n\n<pre class=\"lang-c prettyprint-override\"><code>void check_line_c( char* find, char * search ) {\n    int max_distance = 2;\n    int flen = strlen(find);\n    int last_ind = strlen(search) - flen;\n\n    SV *dis = &amp;PL_sv_undef;\n    SV *match = &amp;PL_sv_undef;\n    for ( int ind = 0; ind &lt;= last_ind; ind++ ) \n    {\n        int count = 0;\n        for ( int j = 0; j &lt; flen; j++ ) \n        {\n            if ( find[j] ^ search[ind+j] ) count++; \n        }\n        if ( count &lt; max_distance )\n        {\n            match = newSV(flen);\n            sv_catpvn(match, search+ind, flen );\n            dis = newSViv(count);\n            break;\n        }\n    }\n    Inline_Stack_Vars;\n    Inline_Stack_Reset;\n    Inline_Stack_Push(sv_2mortal(dis));\n    Inline_Stack_Push(sv_2mortal(match));\n    Inline_Stack_Done;\n}\n</code></pre>\n\n<p>The output is (Ubuntu Laptop using Intel Core i7-4702MQ CPU @2.20GHz): </p>\n\n<pre><code>Benchmark: timing 4000000 iterations of c, perl...\n         c:  2 wallclock secs ( 0.76 usr +  0.00 sys =  0.76 CPU) @ 5263157.89/s (n=4000000)\n      perl: 19 wallclock secs (18.30 usr +  0.00 sys = 18.30 CPU) @ 218579.23/s (n=4000000)\n</code></pre>\n\n<p>So this gives a 24-fold speedup for this case.</p>\n"}, {"tags": [], "owner": {"reputation": 13033, "user_id": 4029014, "user_type": "registered", "accept_rate": 67, "profile_image": "https://i.stack.imgur.com/ndZhu.jpg?s=128&g=1", "display_name": "aghast", "link": "https://stackoverflow.com/users/4029014/aghast"}, "is_accepted": false, "score": 0, "last_activity_date": 1464148009, "creation_date": 1464148009, "answer_id": 37427458, "question_id": 37328163, "link": "https://stackoverflow.com/questions/37328163/fastest-way-to-search-string-with-two-mismatch-in-big-files-in-perl/37427458#37427458", "title": "Fastest way to search string with two mismatch in big files in perl?", "body": "<p>I'd suggest creating a really bad hashing algorithm. Something nice and reversible and inefficient, like the sum of the characters. Or maybe the sum of unique values (1-4) represented by the characters.</p>\n\n<p>Compute the target sums, and also compute the maximum allowed variance. That is, if the objective is a match with two substitutions, then what is the maximum possible difference? (4-1 + 4-1 = 6). </p>\n\n<p>Then, for each \"window\" of text of the appropriate length in the target data file, compute a running score. (Add a character to the end, drop a character from the start, update the hash score.) If the score for a window is within the allowable range, you can do further investigation.</p>\n\n<p>You might want to implement this as different passes. Possibly even as different stages in a shell pipeline or script. The idea being that you might be able to parallelize parts of the search. (For instance, all the match strings with the same length could be searched by one process, since the hash windows are the same.)</p>\n\n<p>Also, of course, it is beneficial that you can keep your early work if your program crashes in the later stages. And you can even have the early parts of the process running while you are still developing the end stages.</p>\n"}], "owner": {"reputation": 169, "user_id": 5106204, "user_type": "registered", "accept_rate": 55, "profile_image": "https://www.gravatar.com/avatar/ea44da36974d202ff23940ec61348965?s=128&d=identicon&r=PG&f=1", "display_name": "SSh", "link": "https://stackoverflow.com/users/5106204/ssh"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 177, "favorite_count": 1, "answer_count": 2, "score": 0, "last_activity_date": 1464148009, "creation_date": 1463672680, "last_edit_date": 1464146836, "question_id": 37328163, "link": "https://stackoverflow.com/questions/37328163/fastest-way-to-search-string-with-two-mismatch-in-big-files-in-perl", "title": "Fastest way to search string with two mismatch in big files in perl?", "body": "<p>I modified the code to work with two files. to_search.txt has string to be searched. big_file.fastq has lines where to be searched and if string found (2 mismatch allowed with exact length which range from 8-10, no addition and deletion), place in respective name. So each string is searched in all lines (2nd line) in big_file.fastq.</p>\n\n<pre><code># to_search.txt: (length can be from 8-20 characters)\n\n1       TCCCTTGT\n2       ACGAGACT\n3       GCTGTACG\n4       ATCACCAG\n5       TGGTCAAC\n6       ATCGCACA\n7       GTCGTGTA\n8       AGCGGAGG\n9       ATCCTTTG\n10      TACAGCGC\n#2000 search needed\n\n# big_file.fastq: 2 billions lines (each 4 lines are associated: string search is in second line of each 4 lines). \n# Second line can have 100-200 characters\n@M04398:19:000000000-APDK3:1:1101:21860:1000 1:N:0:1\nTCttTTGTGATCGATCGATCGATCGATCGGTCGTGTAGCCTCCAACCAAGCACCCCATCTGTTCCAAATCTTCTCCCACTGCTACTTGAAGACGCTGAAGTTGAAGGGCCACCTTCATCATTCTGG\n+\n#8ACCDGGGGGGGGGGGGGEGGGGGGGGDFFEGGG@FFGGGGGGGGGGGGGGGGGCF@&lt;FFGGGGGFE9FGGGFEACE8EFFFGGGGGF9F?CECEFEG,CFGF,CF@CCC?BFFG&lt;,9&lt;9AEFG,,\n@M04398:19:000000000-APDK3:1:1101:13382:1000 1:N:0:1\nNTCGATCGATCGATCGATCGATCGATCGTTCTGAGAGGTACCAACCAAGCACACCACGGGCGACACAGACAGCTCCGTGTTGAACGGGTTGTTCTTCTTCTTGCCTTCATCATCCCCATCCTCAGTGGACGCAGCTTGCTCATCCTTCCTC\n+\n#8BCCGGGGGGGGGGGGGGGGGGGGGGGGGGGGGGGGGGGGGGGGGGGGGGGGGGGGGGGGGGGGGGGGGGGGGGGGGGGGGGGGGGGGGGGGGGGGGGGGGGGGGGGGGGGGGGGGGGGGGGGGGGGGGGGGGGGGGGGGGGGGGGGGGG\n@M04398:19:000000000-APDK3:1:1101:18888:1000 1:N:0:1\nNCAGAATGAGGAAGGATGAGCCCCGTCGTGTCGAAGCTATTGACACAGCGCTATTCCGTCTTTATGTTCACTTTAAGCGGTACAAGGAGCTGCTTGTTCTGATTCAGGAACCGAACCCTGGTGGTGTGCTTGGTTGGCAAGTTTACGGCTC\n+\n#8BCCGGGGGGGGGGGGGGGGGGGGGGGGGGGGGGGGGGGGCGGGGGGGGGGGGGGGGGGGGGGGGGGGGGGGGGGGGGGGGGGGGGGGGGGGGGGGGGGGGGGGGGGGGGGGGGGGGGGGGFGGGGGGGGGGGGGGGGGGGGGGGGGGGE\n</code></pre>\n\n<p>Here is the code for two mismatches. I tried with exact match, speed is not bad: takes around a day. I have used Time::Progress module. When I use 2 mismatch: shows 115 days to finish. How the speed can be improved here?</p>\n\n<pre><code>#!/usr/bin/perl\nuse strict;\nuse warnings;\n\n$| = 1;\n\nopen( IN_P1, \"big_file.fastq\" ) or die \"File not found\";\n\nmy ( @sample_file_names, @barcode1 );\nopen( BC_FILE, \"to_search.txt\" ) or die \"No barcode file\";\nmy @barcode_file_content = &lt;BC_FILE&gt;;\n\nforeach (@barcode_file_content) {\n    chomp $_;\n    $_ =~ s/\\r//;\n    $_ =~ s/\\n//;\n\n    #print $_;\n    my @elements = split( \"(\\t|,| )\", $_ );\n    push @sample_file_names, $elements[0];\n    push @barcode1,   $elements[2];\n}\n\n# open FH\nmy @fh_array_R1;\nforeach (@sample_file_names) {\n    chomp $_;\n    local *OUT_R1;\n    open( OUT_R1, \"&gt;\", \"$_\\.fq\" ) or die \"cannot write file\";\n    push @fh_array_R1, *OUT_R1;\n}\n\n# unknown barcode file\nopen( UNKNOWN_R1, \"&gt;unknown-barcode_SE.fq\" ) or die \"cannot create unknown-r1 file\";\n\nwhile ( defined( my $firstp1 = &lt;IN_P1&gt; ) ) {\n\n    my $p1_first_line  = $firstp1;\n    my $p1_second_line = &lt;IN_P1&gt;;\n    my $p1_third_line  = &lt;IN_P1&gt;;\n    my $p1_fourth_line = &lt;IN_P1&gt;;\n\n    chomp( $p1_first_line, $p1_second_line, $p1_third_line, $p1_fourth_line, );\n\n    my $matched_R1 = \"$p1_first_line\\n$p1_second_line\\n$p1_third_line\\n$p1_fourth_line\\n\";\n\n    for ( my $j = 0 ; $j &lt; scalar @barcode1 ; $j++ ) {\n        chomp $barcode1[$j];\n\n        my $barcode1_regex = make_barcode_fragments( $barcode1[$j] );\n\n        if ( $p1_second_line =~ /$barcode1_regex/i ) {\n            # keep if matched\n            print { $fh_array_R1[$j] } $matched_R1;\n            last;\n        }\n        else {\n            #print to unknown;\n            print UNKNOWN_R1 $matched_R1;\n        }\n    }\n}\n\n# make two mismatch patterm of barcode\nsub make_barcode_fragments {\n    my ($in1) = @_;\n    my @subpats;\n    for my $i ( 0 .. length($in1) - 1 ) {\n        for my $j ( $i + 1 .. length($in1) - 1 ) {\n            my $subpat = join( '',\n                substr( $in1, 0, $i ),\n                '\\\\w', substr( $in1, $i + 1, $j - $i - 1 ),\n                '\\\\w', substr( $in1, $j + 1 ),\n            );\n            push @subpats, $subpat;\n        }\n    }\n    my $pat = join( '|', @subpats );\n\n    #print $pat;\n    return \"$pat\";\n}\nexit;\n</code></pre>\n"}, {"tags": ["perl", "methods", "constants", "hash-of-hashes"], "answers": [{"comments": [{"owner": {"reputation": 169, "user_id": 6000354, "user_type": "registered", "accept_rate": 81, "profile_image": "https://graph.facebook.com/1122424037792331/picture?type=large", "display_name": "Paul Russell", "link": "https://stackoverflow.com/users/6000354/paul-russell"}, "edited": false, "score": 0, "creation_date": 1463672966, "post_id": 37327746, "comment_id": 62175532, "body": "So do I specify <code>$error = &#39;code&#39;</code> at the start of my new method, or will I just be inserting that at the start of my test. If I&#39;m putting it in at the start of my test , how would I carry this over outside of testing? Do you know what I&#39;m asking ? Also I&#39;m not sure if I fully understand what&#39;s happening in your alteration of the new method ?"}, {"owner": {"reputation": 169, "user_id": 6000354, "user_type": "registered", "accept_rate": 81, "profile_image": "https://graph.facebook.com/1122424037792331/picture?type=large", "display_name": "Paul Russell", "link": "https://stackoverflow.com/users/6000354/paul-russell"}, "edited": false, "score": 0, "creation_date": 1463673162, "post_id": 37327746, "comment_id": 62175681, "body": "The only line I dont really understand what&#39;s happening in is <code>unshift(@args, &#39;code&#39;) if (@args % 2);</code>"}, {"owner": {"reputation": 621, "user_id": 1713351, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/8b5f6f80d7ad92101ee021e9d013fafd?s=128&d=identicon&r=PG", "display_name": "kjpires", "link": "https://stackoverflow.com/users/1713351/kjpires"}, "reply_to_user": {"reputation": 169, "user_id": 6000354, "user_type": "registered", "accept_rate": 81, "profile_image": "https://graph.facebook.com/1122424037792331/picture?type=large", "display_name": "Paul Russell", "link": "https://stackoverflow.com/users/6000354/paul-russell"}, "edited": false, "score": 0, "creation_date": 1463673266, "post_id": 37327746, "comment_id": 62175754, "body": "I think your biggest problem is the scope of the <code>code</code> constant: I believe it is local to the package and thus it is just the scalar <code>&#39;code&#39;</code> when you call <code>new</code>, but I believe you are thinking the constant is global and a hash reference everywhere."}, {"owner": {"reputation": 621, "user_id": 1713351, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/8b5f6f80d7ad92101ee021e9d013fafd?s=128&d=identicon&r=PG", "display_name": "kjpires", "link": "https://stackoverflow.com/users/1713351/kjpires"}, "reply_to_user": {"reputation": 169, "user_id": 6000354, "user_type": "registered", "accept_rate": 81, "profile_image": "https://graph.facebook.com/1122424037792331/picture?type=large", "display_name": "Paul Russell", "link": "https://stackoverflow.com/users/6000354/paul-russell"}, "edited": false, "score": 0, "creation_date": 1463673509, "post_id": 37327746, "comment_id": 62175934, "body": "You should put a break point before the first line of code in <code>new</code> and inspect your arguments: that will give you more details of why your code failed."}], "tags": [], "owner": {"reputation": 621, "user_id": 1713351, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/8b5f6f80d7ad92101ee021e9d013fafd?s=128&d=identicon&r=PG", "display_name": "kjpires", "link": "https://stackoverflow.com/users/1713351/kjpires"}, "is_accepted": false, "score": 0, "last_activity_date": 1463673106, "last_edit_date": 1463673106, "creation_date": 1463671558, "answer_id": 37327746, "question_id": 37326269, "link": "https://stackoverflow.com/questions/37326269/trying-to-access-a-hash-in-a-constant-list-of-hashes-in-perl/37327746#37327746", "title": "Trying to access a hash in a constant list of hashes in perl", "body": "<p>In <code>new</code>, this is what you have (from your test):</p>\n\n<pre><code>$error = code; # Scalar or Hash Reference (depending on scope of code constant)\n%args = (UNABLE_TO_PING_SWITCH_ERROR, switch_ip =&gt; 192.192.0.0, timeout =&gt; 30);\n</code></pre>\n\n<p>Which is not what I think you want to have:</p>\n\n<pre><code>$args{UNABLE_TO_PING_SWITCH_ERROR} = 'switch_ip';\n$args{'192.192.0.0'} = 'timeout';\n$args{30} = undef;\n</code></pre>\n\n<p>This should be true even with <code>code</code> and <code>UNABLE_TO_PING_SWITCH_ERROR</code> being either scalars and/or a hash references.</p>\n\n<p>You need to alter <code>new</code> to determine if the first one/two arguments are hash references and/or there is an even number of arguments after it.</p>\n"}, {"comments": [{"owner": {"reputation": 169, "user_id": 6000354, "user_type": "registered", "accept_rate": 81, "profile_image": "https://graph.facebook.com/1122424037792331/picture?type=large", "display_name": "Paul Russell", "link": "https://stackoverflow.com/users/6000354/paul-russell"}, "edited": false, "score": 0, "creation_date": 1463753750, "post_id": 37331806, "comment_id": 62214182, "body": "This solution seems to be working. Thanks a lot. I never thought of taking code as an argument and then deleting it. Great idea."}, {"owner": {"reputation": 169, "user_id": 6000354, "user_type": "registered", "accept_rate": 81, "profile_image": "https://graph.facebook.com/1122424037792331/picture?type=large", "display_name": "Paul Russell", "link": "https://stackoverflow.com/users/6000354/paul-russell"}, "edited": false, "score": 0, "creation_date": 1463755663, "post_id": 37331806, "comment_id": 62215513, "body": "I can get this to work for my first subtest, but I can&#39;t figure out how I should access the error through <code>code</code> in my second subtest."}, {"owner": {"reputation": 169, "user_id": 6000354, "user_type": "registered", "accept_rate": 81, "profile_image": "https://graph.facebook.com/1122424037792331/picture?type=large", "display_name": "Paul Russell", "link": "https://stackoverflow.com/users/6000354/paul-russell"}, "edited": false, "score": 0, "creation_date": 1463762190, "post_id": 37331806, "comment_id": 62218913, "body": "I have since got it to work. But I still receive the &quot;Odd number of elements&quot;  warning. Is this because there is an odd number off elements including &#39;code&#39; and then code is deleted?"}, {"owner": {"reputation": 53041, "user_id": 4653379, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/b3953dbedd0dabff5cbc3db9b0835b14?s=128&d=identicon&r=PG&f=1", "display_name": "zdim", "link": "https://stackoverflow.com/users/4653379/zdim"}, "reply_to_user": {"reputation": 169, "user_id": 6000354, "user_type": "registered", "accept_rate": 81, "profile_image": "https://graph.facebook.com/1122424037792331/picture?type=large", "display_name": "Paul Russell", "link": "https://stackoverflow.com/users/6000354/paul-russell"}, "edited": false, "score": 0, "creation_date": 1463804871, "post_id": 37331806, "comment_id": 62232233, "body": "@PaulRussell  Why do you have in test, <code>code =&gt; { my $example_error = { category =&gt; ...</code> ?  This is a very complicated data structure.  Why not just <code>code =&gt; { category =&gt; ... </code>  -- so that <code>code</code> is a key with the value being a hashref which is precisely your <code>Type.pm</code> instance.  The class I posted presumes that, sorry I didn&#39;t notice this test business.  I&#39;ll look through it more carefully."}, {"owner": {"reputation": 53041, "user_id": 4653379, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/b3953dbedd0dabff5cbc3db9b0835b14?s=128&d=identicon&r=PG&f=1", "display_name": "zdim", "link": "https://stackoverflow.com/users/4653379/zdim"}, "reply_to_user": {"reputation": 169, "user_id": 6000354, "user_type": "registered", "accept_rate": 81, "profile_image": "https://graph.facebook.com/1122424037792331/picture?type=large", "display_name": "Paul Russell", "link": "https://stackoverflow.com/users/6000354/paul-russell"}, "edited": false, "score": 0, "creation_date": 1463820767, "post_id": 37331806, "comment_id": 62235650, "body": "@PaulRussell  Is <code>&#39;Functionality of Error&#39;</code> giving you trouble?  Are you getting the error on the first line under <code># Correct case</code>, where you call <code>new</code>?"}, {"owner": {"reputation": 53041, "user_id": 4653379, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/b3953dbedd0dabff5cbc3db9b0835b14?s=128&d=identicon&r=PG&f=1", "display_name": "zdim", "link": "https://stackoverflow.com/users/4653379/zdim"}, "reply_to_user": {"reputation": 169, "user_id": 6000354, "user_type": "registered", "accept_rate": 81, "profile_image": "https://graph.facebook.com/1122424037792331/picture?type=large", "display_name": "Paul Russell", "link": "https://stackoverflow.com/users/6000354/paul-russell"}, "edited": false, "score": 1, "creation_date": 1463904835, "post_id": 37331806, "comment_id": 62255786, "body": "@PaulRussell As for <i>odd number of elements...</i>, see the following.  (1) this is a hash -- <code>%h = (1, one, 2, two)</code>. (2) This is <b>not</b> a hash -- <code>%h = (&#39;hey&#39;, 1, one, 2, two)</code> -- you get error &quot;<i>odd number ...</i>&quot;.  This is what happens when you send <code>new-&gt;(code =&gt; { ...}, %hash)</code> <i>and then use it</i> as <code>($scalar, %hash) = @_  </code>.  With <code>new-&gt;(code =&gt; ...</code> (above) you pass a hash.  When you take off an element it&#39;s not any more.  What you pass in the <code>Functionality of Error</code> test is even more complicated and seems to unravel as odd number of elements, being assigned to a would-be hash."}, {"owner": {"reputation": 169, "user_id": 6000354, "user_type": "registered", "accept_rate": 81, "profile_image": "https://graph.facebook.com/1122424037792331/picture?type=large", "display_name": "Paul Russell", "link": "https://stackoverflow.com/users/6000354/paul-russell"}, "edited": false, "score": 0, "creation_date": 1464107021, "post_id": 37331806, "comment_id": 62343743, "body": "My tests all pass but give me warnings that there is an odd number of elements, will this be a problem. If so, I am not sure how I fix this?"}, {"owner": {"reputation": 53041, "user_id": 4653379, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/b3953dbedd0dabff5cbc3db9b0835b14?s=128&d=identicon&r=PG&f=1", "display_name": "zdim", "link": "https://stackoverflow.com/users/4653379/zdim"}, "reply_to_user": {"reputation": 169, "user_id": 6000354, "user_type": "registered", "accept_rate": 81, "profile_image": "https://graph.facebook.com/1122424037792331/picture?type=large", "display_name": "Paul Russell", "link": "https://stackoverflow.com/users/6000354/paul-russell"}, "edited": false, "score": 0, "creation_date": 1464144092, "post_id": 37331806, "comment_id": 62358738, "body": "@PaulRussell  Sure, it can be a problem.  It&#39;s probably something with how the test is set up (per my comment above), I&#39;ll look into it."}, {"owner": {"reputation": 169, "user_id": 6000354, "user_type": "registered", "accept_rate": 81, "profile_image": "https://graph.facebook.com/1122424037792331/picture?type=large", "display_name": "Paul Russell", "link": "https://stackoverflow.com/users/6000354/paul-russell"}, "edited": false, "score": 0, "creation_date": 1464177207, "post_id": 37331806, "comment_id": 62375372, "body": "Oh sorry, I didn&#39;t read the above I missed it. Maybe if I had the <code>$error</code> variable back in and then delete code from that , which then allows it to take the error hash as it&#39;s first argument, would that work. Since this I&#39;ve had to add an is_error check to the start of this method, but I don&#39;t think it should affect what I am trying to achieve here as it is only a check. And in my data structure I actually am not using this data structure for my example error <code>use constant code =&gt;</code> , I have removed the constant list wrapping the error. I have modified the code accordingly."}, {"owner": {"reputation": 53041, "user_id": 4653379, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/b3953dbedd0dabff5cbc3db9b0835b14?s=128&d=identicon&r=PG&f=1", "display_name": "zdim", "link": "https://stackoverflow.com/users/4653379/zdim"}, "reply_to_user": {"reputation": 169, "user_id": 6000354, "user_type": "registered", "accept_rate": 81, "profile_image": "https://graph.facebook.com/1122424037792331/picture?type=large", "display_name": "Paul Russell", "link": "https://stackoverflow.com/users/6000354/paul-russell"}, "edited": false, "score": 0, "creation_date": 1464204245, "post_id": 37331806, "comment_id": 62394028, "body": "@PaulRussell  Ah, I see now that you saw that comment.  I&#39;ll look through both.  In short: the last code snippet allows you to call <code>new</code> either way, as <code>new(%hash)</code> or <code>new($hashref, %some_hash)</code>.  As for my comment further above, it seems from your new question that you did clean up that complicated construction in the test. You still pass a list to the constructor at one place, and the constructor isn&#39;t ready to take that."}], "tags": [], "owner": {"reputation": 53041, "user_id": 4653379, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/b3953dbedd0dabff5cbc3db9b0835b14?s=128&d=identicon&r=PG&f=1", "display_name": "zdim", "link": "https://stackoverflow.com/users/4653379/zdim"}, "is_accepted": true, "score": 1, "last_activity_date": 1463908705, "last_edit_date": 1463908705, "creation_date": 1463683924, "answer_id": 37331806, "question_id": 37326269, "link": "https://stackoverflow.com/questions/37326269/trying-to-access-a-hash-in-a-constant-list-of-hashes-in-perl/37331806#37331806", "title": "Trying to access a hash in a constant list of hashes in perl", "body": "<p>Your constructor expects that you pass it the following arguments: scalar, hash.  The scalar is then used in the code as a hashref</p>\n\n<pre><code>my ($class, $error, %args) = @_;\nmy $self = $error;\n# If the error contains  [...]\nif (ref $self eq 'HASH' &amp;&amp; %args) \n</code></pre>\n\n<p>When you call it with </p>\n\n<pre><code>ASC::Builder:Error-&gt;new(UNABLE_TO_PING_SWITCH_ERROR, ...\n</code></pre>\n\n<p>that is exactly what is happening and all is well. If you want to call it as</p>\n\n<pre><code>ASC::Builder:Error-&gt;new(code =&gt; UNABLE_TO_PING_SWITCH_ERROR, ...\n</code></pre>\n\n<p>then you'd be passing a whole hash to it, with an even number of elements. There is no hashref (scalar) first. The constructor as it stands should give you an error about a list with odd number of elements assigned to hash, as it will first take the scalar string <code>'code'</code> into <code>$error</code> and then attempt to assign the remaining list, <code>UNABLE.., ...</code> to a hash. Alas, that rest now has an <em>odd</em> number of elements what doesn't work for a hash. Remember that <code>(a =&gt; 'A', b =&gt; 'B')</code> is the same as <code>('a', 'A', 'b', 'B')</code>, and when <code>a</code> is removed the rest can't be a hash any more.</p>\n\n<p>If you want to call it that way and have the processing in your constructor the same, you'd need to change the constructor to first fetch the value of the key <code>'code'</code> from the submitted hash (into <code>$error</code>) and remove that element from it, so that the rest can then be assigned to <code>%args</code>, for later processing. Some example code would be</p>\n\n<pre><code>my ($class, %args) = @_;\nmy $self = delete $args{code};\n# Now %args contains what is needed by existing code\n</code></pre>\n\n<p>The <a href=\"http://perldoc.perl.org/functions/delete.html\" rel=\"nofollow\"><code>delete</code></a> removes the element from hash, <em>and</em> returns it.</p>\n\n<blockquote>\n  <p>delete EXPR<br>\n  Given an expression that specifies an element or slice of a hash, delete deletes the specified elements from that hash so that exists() on that element no longer returns true.  Setting a hash element to the undefined value does not remove its key, but deleting it does; see exists.<br>\n  [...]<br>\n  In list context, returns the value or values deleted, or the last such element in scalar context.</p>\n</blockquote>\n\n<p>You can also support both calling conventions, by pre-processing <code>@_</code> once <code>$class</code> has been <code>shift</code>-ed from it. If it <em>does not</em> contain a hashref first, you do the above (or something like it), otherwise you need not. Your current processing stays as it is. For example</p>\n\n<pre><code>my $class = shift;\nmy ($self, %args);\nif (ref $_[0] eq 'HASH') {\n    $self = shift @_;\n    %args = @_;\n}\nelse {     \n    %args = @_;        \n    $self = delete $args{code};     \n}\n</code></pre>\n\n<p>You can add more checking at this point. The above can be done differently, I tried to keep it clear.</p>\n"}], "owner": {"reputation": 169, "user_id": 6000354, "user_type": "registered", "accept_rate": 81, "profile_image": "https://graph.facebook.com/1122424037792331/picture?type=large", "display_name": "Paul Russell", "link": "https://stackoverflow.com/users/6000354/paul-russell"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 217, "favorite_count": 0, "accepted_answer_id": 37331806, "answer_count": 2, "score": 1, "last_activity_date": 1464178918, "creation_date": 1463668019, "last_edit_date": 1464178918, "question_id": 37326269, "link": "https://stackoverflow.com/questions/37326269/trying-to-access-a-hash-in-a-constant-list-of-hashes-in-perl", "title": "Trying to access a hash in a constant list of hashes in perl", "body": "<p>Okay so this is my current code which works, but I need to access each error hash in a different way in order to be compatible with other parts of the program.\nHere is my Error list library: \nType.pm</p>\n\n<pre><code>package ASC::Builder::Error::Type;\n  use strict;\n  use warnings;\n  use parent 'Exporter';\n\n  # Export the list of errors\n  our @EXPORT_OK = qw/\n  UNABLE_TO_PING_SWITCH_ERROR\n  /;\n  # List of error messages\n  use constant code =&gt; {\n\n      CABLING_CHECK_TOR_INCORRECT_CABLING_ERROR =&gt; {\n          category =&gt; 'Cabling Error',\n          template =&gt; \"ToR cabling is not correct at T1.The uplinks must be cabled to exactly one t1 device group\",\n          tt =&gt; { template =&gt; 'disabled'},\n          fatal =&gt; 1,\n          wiki_page =&gt;'http://www.error-fix.com/',\n      },\n      UPDATE_IMAGE_ERROR =&gt; {\n          category =&gt; 'Imaging Error',\n          template =&gt; \"Cannot determine switch model\",\n          tt =&gt; { template =&gt; 'disabled'},\n          fatal =&gt; 1,\n          wiki_page =&gt;'http://www.error-fix.com/',\n      },\n      UNABLE_TO_PING_SWITCH_ERROR =&gt; {\n          category =&gt; 'Connection Error',\n          template =&gt; \"Could not ping switch %s in %s seconds.\",\n          context =&gt; [ qw(switch_ip  timeout) ],\n          tt =&gt; {template =&gt; 'disabled'},\n          fatal =&gt; 1,\n          wiki_page =&gt; 'http://www.error-fix.com/',\n      },\n      UNKNOWN_CLIENT_CERT_ID_ERROR =&gt; {\n          category =&gt; 'Services Error',\n          template =&gt; \"Unknown client certificate id: %s\",\n          context =&gt; qw(cert_id),\n          tt =&gt; { template =&gt; 'disabled'},\n          fatal =&gt; 1,\n          wiki_page =&gt;'http://www.error-fix.com/',\n      },\n  # Add errors to this library\n  };\n  1;\n</code></pre>\n\n<p>Here is my Error.pm file.\nThe new method is called for accessing and outputting a new error message and the rest are either getters or are called in the new method.</p>\n\n<pre><code>package ASC::Builder::Error;\n\n  use strict;\n  use warnings;\n  use parent 'Exporter';\n  our @EXPORT_OK = qw/new/;\n\n  # Method for creating error message\n  sub new {\n      my ( $class, $error, %args ) = @_;\n      # Initialize error with data\n      my $self = $error;\n      # If the error contains context parameters... Insert parameters into string template\n      if( ref $self eq 'HASH' &amp;&amp; %args) {\n          foreach my $key (@{ $self-&gt;{context} } ) {\n              # And take the ones we need\n              $self-&gt;{args}-&gt;{$key} = $args{$key};\n          }\n          my @template_args = map { $self-&gt;{args}-&gt;{$_} } @{ $self-&gt;{context} };\n\n          # map/insert arguments into context hash and insert into string template\n          $self-&gt;{message} = sprintf ($self-&gt;{template}, @template_args);\n\n      }\n      return bless $self, $class;\n  }\n\n\n  # Accessor for category\n  sub category {\n      return shift-&gt;{category};\n  }\n  # Accessor for message\n  sub template {\n      return shift-&gt;{template};\n  }\n  # Accessor for context\n  sub context {\n      return shift-&gt;{context};\n  }\n  # Accessor for template option\n  sub tt {\n      return shift-&gt;{tt}{template};\n  }\n  # Accessor for fatal\n  sub is_fatal {\n      return shift-&gt;{fatal};\n  }\n  # Accessor for wiki_page\n  sub wiki_page {\n      return shift-&gt;{wiki_page};\n  }\n  # Accessor for args. args are a hash ref of context parameters that are\n  # passed in as a list at construction\n  sub args {\n      return shift-&gt;{args};\n  }\n  # Builds the message string from the template. maps the input params from new\n  # into context key\n\n  #sub message {\n  #    my ($self) = @_;\n  #    return sprintf $self-&gt;template,\n  #             map { $self-&gt;args-&gt;{$_} } @{ $self-&gt;context };\n  #}\n  sub message {\n      return shift-&gt;{message};\n  }\n  # Stringifies the error to a log message (for SB dashboard), including the\n  # category, message, and wiki_page.\n  sub stringify {\n      my $self = @_;\n      return sprintf (\"%s: %s\\nMore info: %s\",$self-&gt;{category}, $self-&gt;{message}, $self-&gt;{wiki_page});\n  }\n  1;\n</code></pre>\n\n<p>I will also include my test (where I am running this program &amp; testing the error output). This also shows how an error is called. In the systems code it would be called like so:</p>\n\n<pre><code>ASC::Builder:Error-&gt;new(UNABLE_TO_PING_SWITCH_ERROR, switch_ip =&gt; 192.192.0.0, timeout =&gt; 30);\n</code></pre>\n\n<p>Error.t</p>\n\n<pre><code>#!/usr/bin/env perl\n\n  use lib ('./t/lib');\n  use strict;\n  no strict 'refs';\n  use warnings;\n\n  use ASC::Builder::Error;\n  use ASC::Builder::Error::Type;\n  use Test::More;\n  use Test::Exception;\n  use LWP::Simple 'head'; # Used to test if wiki link is giving a response\n\n  subtest 'Functionality of Error' =&gt; sub {\n      my $example_error = {\n              category =&gt; 'Connection Error',\n              template =&gt; 'Could not ping switch %s in %s seconds.',\n              context =&gt; [ qw(switch_ip  timeout) ],\n              tt =&gt; {template =&gt; 'disabled'},\n              fatal =&gt; 1,\n              wiki_page =&gt; 'http://www.error-fix.com/',\n      };\n\n      # Correct case\n      {\n          my $error = ASC::Builder::Error-&gt;new( code =&gt; $example_error, timeout =&gt; 30, switch_ip =&gt; '192.192.0.0' );\n\n          isa_ok ($error, 'ASC::Builder::Error');\n\n          can_ok ($error, 'category');\n          is ($error-&gt;category(), 'Connection Error', 'Return the correct category');\n\n          can_ok ($error, 'template');\n          is ($error-&gt;template(), 'Could not ping switch %s in %s seconds.', 'Return the correct category');\n\n          can_ok ($error, 'tt');\n          is ($error-&gt;tt(), 'disabled', 'Return the correct tt template');\n\n          can_ok ($error, 'context');\n          is_deeply($error-&gt;context(), ['switch_ip', 'timeout'], 'Return the correct context params');\n\n          can_ok ($error, 'is_fatal');\n          ok($error-&gt;is_fatal(), 'Return the correct value');\n\n          can_ok ($error, 'message');\n          is ($error-&gt;message(), 'Could not ping switch 192.192.0.0 in 30 seconds.', 'Return the correct message');\n          can_ok ($error, 'stringify');\n          is ($error-&gt;stringify(), \"Connection Error : Could not ping switch 192.192.0.0 in 30 seconds.\\nMore info: http://www.error-fix.com/\" , 'stringify creates the correct message');\n\n  };\n\n      # Too many arguments (this is okay)\n      lives_ok( sub { ASC::Builder::Error-&gt;new($example_error, timeout =&gt; 1, switch_ip =&gt; 2, extra =&gt; 3 ) }, 'Creating with too many arguments lives. (allows for additional context string   to be added in the code)' );\n      };\n\n      subtest 'Correctness of Type.pm' =&gt; sub {\n\n  # These test cases contain all the errors from Type.pm\n      my @test_cases = (\n         {\n              name =&gt; 'UNABLE_TO_PING_SWITCH_ERROR',\n              args =&gt; {\n                  switch_ip =&gt; '192.192.0.0',\n                  timeout =&gt; 30,\n              },\n              message =&gt; 'Could not ping switch 192.192.0.0 in 30 seconds.',\n          },\n      );\n\n\n      foreach my $t (@test_cases) {\n          subtest $t-&gt;{name} =&gt; sub {\n              no strict 'refs'; # Because we need to use variable to get to a constant\n              ASC::Builder::Error::Type-&gt;import($t-&gt;{name});\n\n              # Create the Error object from the test data\n              # Will also fail if the name was not exported by Type.pm\n              my $error;\n              lives_ok( sub { $error = ASC::Builder::Error-&gt;new( &amp;{ $t-&gt;{name} },%{ $t-&gt;{args} }) }, 'Error can be created');\n\n              # See if it has the right values\n              is ($error-&gt;message, $t-&gt;{message}, 'Error message is correct');\n\n              # Using LWP::Simple to check if the wiki page link is not broken\n              #ok head($error-&gt;wiki_page); #CANT'T GET THIS TEST TO WORK\n\n          }\n      }\n  };\n  done_testing;\n</code></pre>\n\n<p>I am trying to change it so that I can call each error something like:</p>\n\n<pre><code>ASC::Builder:Error-&gt;new(code =&gt; UNABLE_TO_PING_SWITCH_ERROR, switch_ip =&gt; 192.192.0.0, timeout =&gt; 30);\n</code></pre>\n"}, {"tags": ["perl", "scope", "subroutine"], "comments": [{"owner": {"reputation": 50468, "user_id": 1331451, "user_type": "registered", "accept_rate": 96, "profile_image": "https://i.stack.imgur.com/4ZPmj.png?s=128&g=1", "display_name": "simbabque", "link": "https://stackoverflow.com/users/1331451/simbabque"}, "edited": false, "score": 0, "creation_date": 1463667028, "post_id": 37325639, "comment_id": 62170727, "body": "I don&#39;t agree with the close vote. This is not unclear. It&#39;s just unpossible I&#39;m afraid."}, {"owner": {"reputation": 50468, "user_id": 1331451, "user_type": "registered", "accept_rate": 96, "profile_image": "https://i.stack.imgur.com/4ZPmj.png?s=128&g=1", "display_name": "simbabque", "link": "https://stackoverflow.com/users/1331451/simbabque"}, "edited": false, "score": 0, "creation_date": 1463667241, "post_id": 37325639, "comment_id": 62170942, "body": "Perl6 can do it, though. <a href=\"https://perl6advent.wordpress.com/2014/12/10/day-10-introspecting-the-symbol-tables/\" rel=\"nofollow noreferrer\">This</a> looks pretty neat."}, {"owner": {"reputation": 62184, "user_id": 7231, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/81b76985f3985e35492e25880493d045?s=128&d=identicon&r=PG", "display_name": "Dave Cross", "link": "https://stackoverflow.com/users/7231/dave-cross"}, "edited": false, "score": 1, "creation_date": 1463672499, "post_id": 37325639, "comment_id": 62175177, "body": "Please don&#39;t call subroutines using <code>&amp;</code>. It&#39;s never necessary."}], "answers": [{"comments": [{"owner": {"reputation": 385, "user_id": 1825360, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/aa94eaa60d040abf40b5ab8249d0f6b5?s=128&d=identicon&r=PG", "display_name": "The August", "link": "https://stackoverflow.com/users/1825360/the-august"}, "edited": false, "score": 0, "creation_date": 1463667349, "post_id": 37325860, "comment_id": 62171033, "body": "I agree, but very common variable names, like $t, $n, $count etc can creep in accidentally.  Is there any way or module to check it up?"}, {"owner": {"reputation": 51521, "user_id": 2566198, "user_type": "registered", "accept_rate": 67, "profile_image": "https://i.stack.imgur.com/Y34ZA.jpg?s=128&g=1", "display_name": "Sobrique", "link": "https://stackoverflow.com/users/2566198/sobrique"}, "edited": false, "score": 1, "creation_date": 1463672116, "post_id": 37325860, "comment_id": 62174878, "body": "Don&#39;t use single letter variable names. Get in to the habit of using narrowest scope you can. (E.g. current code block only if at all possible)."}, {"owner": {"reputation": 5334, "user_id": 5830574, "user_type": "registered", "accept_rate": 93, "profile_image": "https://i.stack.imgur.com/kCmqs.png?s=128&g=1", "display_name": "PerlDuck", "link": "https://stackoverflow.com/users/5830574/perlduck"}, "edited": false, "score": 0, "creation_date": 1463691617, "post_id": 37325860, "comment_id": 62185783, "body": "It pleases me that you call Perl5 &quot;regular&quot; and thus Perl6 implicitly &quot;irregular&quot;. I&#39;m sure that wasn&#39;t your intention but I agree anyhow. :-)"}, {"owner": {"reputation": 50468, "user_id": 1331451, "user_type": "registered", "accept_rate": 96, "profile_image": "https://i.stack.imgur.com/4ZPmj.png?s=128&g=1", "display_name": "simbabque", "link": "https://stackoverflow.com/users/1331451/simbabque"}, "reply_to_user": {"reputation": 5334, "user_id": 5830574, "user_type": "registered", "accept_rate": 93, "profile_image": "https://i.stack.imgur.com/kCmqs.png?s=128&g=1", "display_name": "PerlDuck", "link": "https://stackoverflow.com/users/5830574/perlduck"}, "edited": false, "score": 0, "creation_date": 1463730029, "post_id": 37325860, "comment_id": 62198381, "body": "@PerlDog they are different languages. When I wrote the answer, I was convinced there is some way to do this with XS, and there is probably some module out there (or more likely it&#39;s in core anyway) that can do introspection up to a point where it can tell you about your scope. But I wasn&#39;t sure. Since we try to be on the spot here, I added a disclaimer. That&#39;s why I said <i>regular Perl</i>, as opposed to dark, arcane magic. I added the comment about Perl6 later, when I researched that arcane magic. Once I found that one, I gave up though. I see what you mean though. Perl6 can be weird, but fun :)"}], "tags": [], "owner": {"reputation": 50468, "user_id": 1331451, "user_type": "registered", "accept_rate": 96, "profile_image": "https://i.stack.imgur.com/4ZPmj.png?s=128&g=1", "display_name": "simbabque", "link": "https://stackoverflow.com/users/1331451/simbabque"}, "is_accepted": true, "score": 6, "last_activity_date": 1463667498, "last_edit_date": 1463667498, "creation_date": 1463667102, "answer_id": 37325860, "question_id": 37325639, "link": "https://stackoverflow.com/questions/37325639/perl-subroutine-local-global-issue/37325860#37325860", "title": "Perl subroutine local global issue", "body": "<p>With regular Perl you cannot do that. The solution is <strong>not to reuse the same variable names</strong> in smaller scopes.</p>\n\n<hr>\n\n<p>If you want to enforce this programmatically, you can use <a href=\"https://metacpan.org/pod/Perl::Critic\">Perl::Critic</a>. The policy <a href=\"https://metacpan.org/pod/Perl::Critic::Policy::Variables::ProhibitReusedNames\">Perl::Critic::Policy::Variables::ProhibitReusedNames</a> tells you if you have reused variable names that are already defined in an outer scope.</p>\n"}, {"tags": [], "owner": {"reputation": 320771, "user_id": 589924, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/b2cf53d5a3d25f95c0db4e025aed4153?s=128&d=identicon&r=PG", "display_name": "ikegami", "link": "https://stackoverflow.com/users/589924/ikegami"}, "is_accepted": false, "score": 0, "last_activity_date": 1463752871, "last_edit_date": 1463752871, "creation_date": 1463689809, "answer_id": 37333436, "question_id": 37325639, "link": "https://stackoverflow.com/questions/37325639/perl-subroutine-local-global-issue/37333436#37333436", "title": "Perl subroutine local global issue", "body": "<ol>\n<li><p>Organize your code better. </p>\n\n<pre><code>use strict;\nuse warnings;\n\nsub mysub{\n    print \"@x\";\n}\n\n{\n    my @x=qw/1 2 3/;\n    mysub();\n}\n</code></pre>\n\n<p>By properly localizing variables, there's no change of accidentally referring to the wrong one.</p></li>\n<li><p>Don't use such meaningless variable names.</p>\n\n<p>There's little chance of accessing <code>@frobs_by_name</code> by accident.</p></li>\n</ol>\n"}], "owner": {"reputation": 385, "user_id": 1825360, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/aa94eaa60d040abf40b5ab8249d0f6b5?s=128&d=identicon&r=PG", "display_name": "The August", "link": "https://stackoverflow.com/users/1825360/the-august"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 90, "favorite_count": 0, "accepted_answer_id": 37325860, "answer_count": 2, "score": 1, "last_activity_date": 1463752871, "creation_date": 1463666590, "question_id": 37325639, "link": "https://stackoverflow.com/questions/37325639/perl-subroutine-local-global-issue", "title": "Perl subroutine local global issue", "body": "<p>For this tiny code, it always prints the values of @x in the Global block of code. How to issue an warning if I accidentally don't initialize a variable inside a subroutine without 'my @x'. I wan't a local variable in the subroutine as @x.</p>\n\n<pre><code>use strict;\nuse warnings;\nmy @x=qw/1 2 3/;\n\n&amp;mysub();\n\nsub mysub{\n\n    print \"@x\";\n}\n</code></pre>\n"}, {"tags": ["list", "perl", "unique", "xs"], "comments": [{"owner": {"reputation": 50468, "user_id": 1331451, "user_type": "registered", "accept_rate": 96, "profile_image": "https://i.stack.imgur.com/4ZPmj.png?s=128&g=1", "display_name": "simbabque", "link": "https://stackoverflow.com/users/1331451/simbabque"}, "edited": false, "score": 0, "creation_date": 1463659821, "post_id": 37322649, "comment_id": 62164851, "body": "Can you add some examples of how you would call that please?"}, {"owner": {"reputation": 48798, "user_id": 223226, "user_type": "registered", "accept_rate": 93, "profile_image": "https://i.stack.imgur.com/iGqE4.png?s=128&g=1", "display_name": "mpapec", "link": "https://stackoverflow.com/users/223226/mpapec"}, "reply_to_user": {"reputation": 50468, "user_id": 1331451, "user_type": "registered", "accept_rate": 96, "profile_image": "https://i.stack.imgur.com/4ZPmj.png?s=128&g=1", "display_name": "simbabque", "link": "https://stackoverflow.com/users/1331451/simbabque"}, "edited": false, "score": 0, "creation_date": 1463660675, "post_id": 37322649, "comment_id": 62165491, "body": "@simbabque please check update."}, {"owner": {"reputation": 51521, "user_id": 2566198, "user_type": "registered", "accept_rate": 67, "profile_image": "https://i.stack.imgur.com/Y34ZA.jpg?s=128&g=1", "display_name": "Sobrique", "link": "https://stackoverflow.com/users/2566198/sobrique"}, "edited": false, "score": 5, "creation_date": 1463661820, "post_id": 37322649, "comment_id": 62166410, "body": "... am I being dense, or are you describing a hash?"}, {"owner": {"reputation": 48798, "user_id": 223226, "user_type": "registered", "accept_rate": 93, "profile_image": "https://i.stack.imgur.com/iGqE4.png?s=128&g=1", "display_name": "mpapec", "link": "https://stackoverflow.com/users/223226/mpapec"}, "reply_to_user": {"reputation": 51521, "user_id": 2566198, "user_type": "registered", "accept_rate": 67, "profile_image": "https://i.stack.imgur.com/Y34ZA.jpg?s=128&g=1", "display_name": "Sobrique", "link": "https://stackoverflow.com/users/2566198/sobrique"}, "edited": false, "score": 0, "creation_date": 1463662043, "post_id": 37322649, "comment_id": 62166593, "body": "@Sobrique yes I am, but currently not happy with <code>keys</code> performance, and it would get invoked a lot."}, {"owner": {"reputation": 123805, "user_id": 622310, "user_type": "registered", "accept_rate": 33, "profile_image": "https://www.gravatar.com/avatar/8b6d35219e1808520bc238b28161e2e6?s=128&d=identicon&r=PG", "display_name": "Borodin", "link": "https://stackoverflow.com/users/622310/borodin"}, "edited": false, "score": 7, "creation_date": 1463663148, "post_id": 37322649, "comment_id": 62167475, "body": "I&#39;m sure you won&#39;t be able to write something in Perl that is faster than the built-in <code>keys</code> operator, which is written in C. I think you need to explain more about what you&#39;re doing that is giving you unacceptable performance. <code>keys</code> is a trivial operation and does little more than return a pre-existing list of C strings reformatted as Perl scalars"}, {"owner": {"reputation": 52821, "user_id": 632407, "user_type": "registered", "accept_rate": 86, "profile_image": "https://i.stack.imgur.com/AfGWW.jpg?s=128&g=1", "display_name": "jm666", "link": "https://stackoverflow.com/users/632407/jm666"}, "reply_to_user": {"reputation": 123805, "user_id": 622310, "user_type": "registered", "accept_rate": 33, "profile_image": "https://www.gravatar.com/avatar/8b6d35219e1808520bc238b28161e2e6?s=128&d=identicon&r=PG", "display_name": "Borodin", "link": "https://stackoverflow.com/users/622310/borodin"}, "edited": false, "score": 3, "creation_date": 1463668397, "post_id": 37322649, "comment_id": 62171880, "body": "@Borodin returning the ready array ref <code>$members</code> is faster as <code>return [keys %$seen]</code>. So, if the factory must be very fast for the <code>$factory-&gt;(members =&gt; 1)</code> then the <code>keys</code> isn&#39;t the fastest solution."}, {"owner": {"reputation": 48798, "user_id": 223226, "user_type": "registered", "accept_rate": 93, "profile_image": "https://i.stack.imgur.com/iGqE4.png?s=128&g=1", "display_name": "mpapec", "link": "https://stackoverflow.com/users/223226/mpapec"}, "edited": false, "score": 1, "creation_date": 1463673060, "post_id": 37322649, "comment_id": 62175595, "body": "keys() is very far from O(1), not to mention what jm666 wrote. I see this as a worthy memory/speed tradeoff in case when elements are often being retrieved."}, {"owner": {"reputation": 28131, "user_id": 1956010, "user_type": "registered", "accept_rate": 83, "profile_image": "https://www.gravatar.com/avatar/bfdcb4596e9da98cccbf9a0069fdff6c?s=128&d=identicon&r=PG", "display_name": "nwellnhof", "link": "https://stackoverflow.com/users/1956010/nwellnhof"}, "edited": false, "score": 0, "creation_date": 1463684773, "post_id": 37322649, "comment_id": 62182294, "body": "At some point, you will iterate the member array which is O(n) anyway. So I don&#39;t understand why you insist on returning the member array in O(1)."}, {"owner": {"reputation": 48798, "user_id": 223226, "user_type": "registered", "accept_rate": 93, "profile_image": "https://i.stack.imgur.com/iGqE4.png?s=128&g=1", "display_name": "mpapec", "link": "https://stackoverflow.com/users/223226/mpapec"}, "reply_to_user": {"reputation": 28131, "user_id": 1956010, "user_type": "registered", "accept_rate": 83, "profile_image": "https://www.gravatar.com/avatar/bfdcb4596e9da98cccbf9a0069fdff6c?s=128&d=identicon&r=PG", "display_name": "nwellnhof", "link": "https://stackoverflow.com/users/1956010/nwellnhof"}, "edited": false, "score": 1, "creation_date": 1463689715, "post_id": 37322649, "comment_id": 62184876, "body": "@nwellnhof that is a valid point so I did some benchmarks which include member iteration, <a href=\"https://gist.github.com/mpapec/29198302b7cca8d3c74be45ff4b12230\" rel=\"nofollow noreferrer\">gist.github.com/mpapec/29198302b7cca8d3c74be45ff4b12230</a> (<code>keys()</code> and a few flavors of <code>each()</code>) and differences are significant."}, {"owner": {"reputation": 28131, "user_id": 1956010, "user_type": "registered", "accept_rate": 83, "profile_image": "https://www.gravatar.com/avatar/bfdcb4596e9da98cccbf9a0069fdff6c?s=128&d=identicon&r=PG", "display_name": "nwellnhof", "link": "https://stackoverflow.com/users/1956010/nwellnhof"}, "edited": false, "score": 1, "creation_date": 1463698156, "post_id": 37322649, "comment_id": 62188322, "body": "@\u0421\u0443\u0445\u043e\u043927 Interesting, I didn&#39;t realize that <code>keys</code> and <code>each</code> are so slow. <code>for my $v (keys %hash1)</code> is a bit faster but still considerably slower than your uarray."}], "answers": [{"tags": [], "owner": {"reputation": 110113, "user_id": 168657, "user_type": "registered", "accept_rate": 92, "profile_image": "https://www.gravatar.com/avatar/f14e7610fca39322ebbf23530def15f8?s=128&d=identicon&r=PG", "display_name": "mob", "link": "https://stackoverflow.com/users/168657/mob"}, "is_accepted": false, "score": 1, "last_activity_date": 1463682470, "creation_date": 1463682470, "answer_id": 37331348, "question_id": 37322649, "link": "https://stackoverflow.com/questions/37322649/data-structure-for-unique-element-storage/37331348#37331348", "title": "Data structure for unique element storage", "body": "<p>Ironically, maybe <a href=\"https://metacpan.org/pod/Tie::IxHash\" rel=\"nofollow\"><code>Tie::IxHash</code></a>, which was motivated by the desire to retrieve the keys of a hash in a specified order, is as close as you're going to get to what you want.</p>\n\n<p>In <a href=\"https://metacpan.org/source/CHORNY/Tie-IxHash-1.23/lib/Tie/IxHash.pm\" rel=\"nofollow\">the <code>Tie::IxHash</code> implementation</a>, keys and values are stored in array references. <code>keys</code> returns a copy of the set of keys, but something like <code>(tied %hash)-&gt;[1]</code> would give you direct access to it.</p>\n\n<p>Removing elements in a <code>Tie::IxHash</code> is O(n). A possible workaround for that would be to replace values with <code>undef</code> rather than deleting them. That is, preferring</p>\n\n<pre><code>$ixhash{$obsolete_key} = undef;\n</code></pre>\n\n<p>to</p>\n\n<pre><code>delete $ixhash{$obsolete_key};\n</code></pre>\n\n<p>Or if you were able to pool your deletions -- if you could organize your code so that you usually called <code>delete</code> on several keys around the same time and in between other operations on the hash -- then there are opportunities for improving on <code>Tie::IxHash</code>.</p>\n"}, {"comments": [{"owner": {"reputation": 48798, "user_id": 223226, "user_type": "registered", "accept_rate": 93, "profile_image": "https://i.stack.imgur.com/iGqE4.png?s=128&g=1", "display_name": "mpapec", "link": "https://stackoverflow.com/users/223226/mpapec"}, "edited": false, "score": 0, "creation_date": 1463722561, "post_id": 37335652, "comment_id": 62194386, "body": "Great to see <code>values()</code> performing much better, although performance gap is greater on <code>v5.20.3</code> (above 20%). Which perl version did you use?"}, {"owner": {"reputation": 28131, "user_id": 1956010, "user_type": "registered", "accept_rate": 83, "profile_image": "https://www.gravatar.com/avatar/bfdcb4596e9da98cccbf9a0069fdff6c?s=128&d=identicon&r=PG", "display_name": "nwellnhof", "link": "https://stackoverflow.com/users/1956010/nwellnhof"}, "reply_to_user": {"reputation": 48798, "user_id": 223226, "user_type": "registered", "accept_rate": 93, "profile_image": "https://i.stack.imgur.com/iGqE4.png?s=128&g=1", "display_name": "mpapec", "link": "https://stackoverflow.com/users/223226/mpapec"}, "edited": false, "score": 1, "creation_date": 1463746500, "post_id": 37335652, "comment_id": 62209090, "body": "I was using 5.18 on OS X. With 5.22 on Ubuntu I get -13% and 15%."}], "tags": [], "owner": {"reputation": 28131, "user_id": 1956010, "user_type": "registered", "accept_rate": 83, "profile_image": "https://www.gravatar.com/avatar/bfdcb4596e9da98cccbf9a0069fdff6c?s=128&d=identicon&r=PG", "display_name": "nwellnhof", "link": "https://stackoverflow.com/users/1956010/nwellnhof"}, "is_accepted": true, "score": 2, "last_activity_date": 1463700483, "creation_date": 1463700483, "answer_id": 37335652, "question_id": 37322649, "link": "https://stackoverflow.com/questions/37322649/data-structure-for-unique-element-storage/37335652#37335652", "title": "Data structure for unique element storage", "body": "<p><code>keys</code> and <code>each</code> are surprisingly slow indeed. But if you store each element as a value of a hash and use <code>values</code>, things get a low faster. With</p>\n\n<pre><code>use strict;\nuse warnings;\nuse Benchmark qw(:all);\n\nmy $i;\nmy $fa;\nmy %hash;\n\nmy %compare = (\n  uarray =&gt; sub {\n    $fa-&gt;(add =&gt; $i++);\n    my $memb = $fa-&gt;(members =&gt; 1);\n    for my $v (@$memb) { next if !defined $v; }\n  },\n  hash =&gt; sub {\n    $hash{ $i } = $i;\n    for my $v (values %hash) {}\n    $i++;\n  },\n);\n\n$i = 0; $fa = uniqArrayFactory(); %hash = ();\ncmpthese(10000, \\%compare);\n\nsub uniqArrayFactory {\n  my $members = [];\n  my $seen = {};\n  my $gaps = [];\n\n  return sub {\n    my (%arg) = @_;\n\n    return $members if exists $arg{members};\n    my $m;\n    if (defined ($m = $arg{del})) {\n\n      return if !$seen-&gt;{$m};\n      ${ $seen-&gt;{$m} } = undef;\n      push @$gaps, delete($seen-&gt;{$m});\n    }\n    elsif (defined ($m = $arg{add})) {\n\n      return if $seen-&gt;{$m};\n      if (@$gaps) {\n        $seen-&gt;{$m} = pop @$gaps;\n        ${ $seen-&gt;{$m} } = $m;\n      }\n      else {\n        push @$members, $m;\n        $seen-&gt;{$m} = \\( $members-&gt;[-1] );\n      }\n    }\n    return $m;\n  };\n}\n</code></pre>\n\n<p>I get:</p>\n\n<pre><code>         Rate   hash uarray\nhash   3205/s     --    -6%\nuarray 3401/s     6%     --\n</code></pre>\n"}], "owner": {"reputation": 48798, "user_id": 223226, "user_type": "registered", "accept_rate": 93, "profile_image": "https://i.stack.imgur.com/iGqE4.png?s=128&g=1", "display_name": "mpapec", "link": "https://stackoverflow.com/users/223226/mpapec"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 389, "favorite_count": 3, "accepted_answer_id": 37335652, "answer_count": 2, "score": 6, "last_activity_date": 1463700483, "creation_date": 1463659348, "last_edit_date": 1463660668, "question_id": 37322649, "link": "https://stackoverflow.com/questions/37322649/data-structure-for-unique-element-storage", "title": "Data structure for unique element storage", "body": "<p>I'm looking for a data structure which should preferably perform equal O(1)? for any number of elements when adding/removing/retrieving elements.</p>\n\n<p>Here are some additional guidelines,</p>\n\n<ul>\n<li>retrieving elements should not involve slow <code>keys()</code></li>\n<li>elements must be always unique and defined</li>\n<li>element order is not significant</li>\n<li>addition or removal of element should not involve iteration over other elements</li>\n<li>gaps in retrieved list of elements are tolerable and can be represented with <code>undef</code> value</li>\n</ul>\n\n<p>Please suggest better solution than,</p>\n\n<pre><code>sub uniqArrayFactory {\n  my $members = [];\n  my $seen = {};\n  my $gaps = [];\n\n  return sub {\n    my (%arg) = @_;\n\n    return $members if $arg{members};\n    my $m;\n    if (defined ($m = $arg{del})) {\n\n      return if !$seen-&gt;{$m};\n      ${ $seen-&gt;{$m} } = undef;\n      push @$gaps, delete($seen-&gt;{$m});\n    }\n    elsif (defined ($m = $arg{add})) {\n\n      return if $seen-&gt;{$m};\n      if (@$gaps) {\n        $seen-&gt;{$m} = pop @$gaps;\n        ${ $seen-&gt;{$m} } = $m;\n      }\n      else {\n        push @$members, $m;\n        $seen-&gt;{$m} = \\( $members-&gt;[-1] );\n      }\n    }\n    return $m;\n  };\n}\n</code></pre>\n\n<p><strong>UPDATE</strong> (usage)</p>\n\n<pre><code>my $fa = uniqArrayFactory();\n\n$fa-&gt;(add =&gt; 10);\n$fa-&gt;(del =&gt; 10);\nmy $members = $fa-&gt;(mebers =&gt; 1);\n</code></pre>\n"}, {"tags": ["perl", "utf-8"], "comments": [{"owner": {"reputation": 5334, "user_id": 5830574, "user_type": "registered", "accept_rate": 93, "profile_image": "https://i.stack.imgur.com/kCmqs.png?s=128&g=1", "display_name": "PerlDuck", "link": "https://stackoverflow.com/users/5830574/perlduck"}, "reply_to_user": {"reputation": 1665, "user_id": 1848140, "user_type": "registered", "accept_rate": 59, "profile_image": "https://www.gravatar.com/avatar/c0bc64ef33e6ab5560ce5c534190a6a0?s=128&d=identicon&r=PG&f=1", "display_name": "Nagaraju", "link": "https://stackoverflow.com/users/1848140/nagaraju"}, "edited": false, "score": 3, "creation_date": 1463660592, "post_id": 37322535, "comment_id": 62165423, "body": "No, @Raju! He <b>intentionally</b> omitted it to produce an error. The OP&#39;s problem is that the error isn&#39;t properly reported when he uses utf8."}, {"owner": {"reputation": 3984, "user_id": 1801086, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/ef4c0400ffff14d5e1c16ca3856c09ba?s=128&d=identicon&r=PG", "display_name": "tjd", "link": "https://stackoverflow.com/users/1801086/tjd"}, "edited": false, "score": 1, "creation_date": 1463663311, "post_id": 37322535, "comment_id": 62167585, "body": "I tend to avoid <code>use diagnostics</code>.  All it really does is take the output of <code>use warnings</code> and looks it up in <a href=\"http://perldoc.perl.org/perldiag.html\" rel=\"nofollow noreferrer\">perldiag</a> to print out instead, which would be great and all if most Editors &amp; IDEs weren&#39;t actually <i>looking</i> for the output of the <code>warnings</code> module to highlight you problems."}, {"owner": {"reputation": 405, "user_id": 6336615, "user_type": "registered", "profile_image": "https://lh5.googleusercontent.com/-54JWXHU1LhI/AAAAAAAAAAI/AAAAAAAABKc/N9fUA8Ue7e4/photo.jpg?sz=128", "display_name": "Wayne Booth", "link": "https://stackoverflow.com/users/6336615/wayne-booth"}, "edited": false, "score": 0, "creation_date": 1464511604, "post_id": 37322535, "comment_id": 62509937, "body": "@BlueGF, If you found an answer provided here helpful, please upvote and/or mark as accepted, so that other users with a similar question can benefit."}, {"owner": {"reputation": 33, "user_id": 6355855, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/ce893da42bab48021938d902346a184e?s=128&d=identicon&r=PG&f=1", "display_name": "BlueGF", "link": "https://stackoverflow.com/users/6355855/bluegf"}, "reply_to_user": {"reputation": 3984, "user_id": 1801086, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/ef4c0400ffff14d5e1c16ca3856c09ba?s=128&d=identicon&r=PG", "display_name": "tjd", "link": "https://stackoverflow.com/users/1801086/tjd"}, "edited": false, "score": 0, "creation_date": 1465218682, "post_id": 37322535, "comment_id": 62795394, "body": "Thanks for that advice @tjd I now comment out &quot;use diagnostics&quot;. If I have a problem I can&#39;t figure out then I will go search the internet anyway to get more info. The alternate is to upgrade to a newer version of Perl."}], "answers": [{"comments": [{"owner": {"reputation": 320771, "user_id": 589924, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/b2cf53d5a3d25f95c0db4e025aed4153?s=128&d=identicon&r=PG", "display_name": "ikegami", "link": "https://stackoverflow.com/users/589924/ikegami"}, "edited": false, "score": 1, "creation_date": 1463677015, "post_id": 37323935, "comment_id": 62178019, "body": "It was fixed in 5.16"}], "tags": [], "owner": {"reputation": 405, "user_id": 6336615, "user_type": "registered", "profile_image": "https://lh5.googleusercontent.com/-54JWXHU1LhI/AAAAAAAAAAI/AAAAAAAABKc/N9fUA8Ue7e4/photo.jpg?sz=128", "display_name": "Wayne Booth", "link": "https://stackoverflow.com/users/6336615/wayne-booth"}, "is_accepted": true, "score": 3, "last_activity_date": 1463662715, "creation_date": 1463662715, "answer_id": 37323935, "question_id": 37322535, "link": "https://stackoverflow.com/questions/37322535/perl-warnings-strict-diagnostic-errors-are-not-output-when-using-utf8/37323935#37323935", "title": "Perl warnings, strict &amp; diagnostic errors are not output when using utf8", "body": "<p>This is a known issue and happens outside Strawberry Perl. Check out this post:\n<a href=\"http://www.perlmonks.org/?node_id=884018\" rel=\"nofollow\">http://www.perlmonks.org/?node_id=884018</a></p>\n"}], "owner": {"reputation": 33, "user_id": 6355855, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/ce893da42bab48021938d902346a184e?s=128&d=identicon&r=PG&f=1", "display_name": "BlueGF", "link": "https://stackoverflow.com/users/6355855/bluegf"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 227, "favorite_count": 0, "accepted_answer_id": 37323935, "answer_count": 1, "score": 3, "last_activity_date": 1463662715, "creation_date": 1463659084, "question_id": 37322535, "link": "https://stackoverflow.com/questions/37322535/perl-warnings-strict-diagnostic-errors-are-not-output-when-using-utf8", "title": "Perl warnings, strict &amp; diagnostic errors are not output when using utf8", "body": "<p>I have installed Strawberry Perl 5.22 on Windows 7 then Padre/Dwimperl (which includes Strawberry 5.14). I then uninstalled 5.22. Then I installed SDL using \"cpan SDL\" from \"D:\\Dwimperl\\perl\\bin\". It appeared to install correctly.</p>\n\n<p>Using Padre (and/or the command line) I can run Perl scripts. However, if I introduce an error (\"$r=0;\") then I will not see the normal output from warnings/strict/diagnostics unless I comment out \"use utf8;\"</p>\n\n<p>With \"use utf8;\" I get this un-helpful error:</p>\n\n<pre><code>BEGIN not safe after errors--compilation aborted at D:/Dwimperl/perl/lib/diagnos\ntics.pm line 599.\n</code></pre>\n\n<p>Without it I get this more helpful error:</p>\n\n<pre><code>Global symbol \"$r\" requires explicit package name at sdl2.pl line 12.\nExecution of sdl2.pl aborted due to compilation errors (#1)\n    (F) You've said \"use strict\" or \"use strict vars\", which indicates\n    that all variables must either be lexically scoped (using \"my\" or \"state\"),\n\n    declared beforehand using \"our\", or explicitly qualified to say\n    which package the global variable is in (using \"::\").\n\nUncaught exception from user code:\n        Global symbol \"$r\" requires explicit package name at sdl2.pl line 12.\nExecution of sdl2.pl aborted due to compilation errors.\n at sdl2.pl line 15\n</code></pre>\n\n<p>This is the script I am using:</p>\n\n<pre><code>#! D:\\Dwimperl\\perl\\bin\\perl.exe\nuse warnings;\nuse strict;\nuse diagnostics;\nuse utf8;\nbinmode STDOUT, ':utf8';\n$r = 0;\nprint \"Hello World!\\n\";\nexit 0;\n</code></pre>\n\n<p>Can anyone advise how I can keep the useful errors and also use utf8?</p>\n"}, {"tags": ["windows", "perl", "active-directory"], "comments": [{"owner": {"reputation": 103376, "user_id": 712649, "user_type": "registered", "accept_rate": 100, "profile_image": "https://i.stack.imgur.com/tP0yV.jpg?s=128&g=1", "display_name": "Mathias R. Jessen", "link": "https://stackoverflow.com/users/712649/mathias-r-jessen"}, "edited": false, "score": 0, "creation_date": 1463657621, "post_id": 37321851, "comment_id": 62163234, "body": "Why? Active Directory won&#39;t care about case when you search for a username"}, {"owner": {"reputation": 123805, "user_id": 622310, "user_type": "registered", "accept_rate": 33, "profile_image": "https://www.gravatar.com/avatar/8b6d35219e1808520bc238b28161e2e6?s=128&d=identicon&r=PG", "display_name": "Borodin", "link": "https://stackoverflow.com/users/622310/borodin"}, "edited": false, "score": 0, "creation_date": 1463658140, "post_id": 37321851, "comment_id": 62163573, "body": "Ah the eternal <i>&quot;they don&#39;t work&quot;</i>! Would you explain what is wrong with each of these, please?"}, {"owner": {"reputation": 123805, "user_id": 622310, "user_type": "registered", "accept_rate": 33, "profile_image": "https://www.gravatar.com/avatar/8b6d35219e1808520bc238b28161e2e6?s=128&d=identicon&r=PG", "display_name": "Borodin", "link": "https://stackoverflow.com/users/622310/borodin"}, "edited": false, "score": 0, "creation_date": 1463658369, "post_id": 37321851, "comment_id": 62163747, "body": "Have you thought of parsing the output of <code>wmic useraccount get name</code>? It will be simple to find the relevant username that is a case-independent match for <code>$ENV{USERNAME}</code>"}, {"owner": {"reputation": 1550, "user_id": 1366011, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/CL1aI.jpg?s=128&g=1", "display_name": "Smylers", "link": "https://stackoverflow.com/users/1366011/smylers"}, "reply_to_user": {"reputation": 103376, "user_id": 712649, "user_type": "registered", "accept_rate": 100, "profile_image": "https://i.stack.imgur.com/tP0yV.jpg?s=128&g=1", "display_name": "Mathias R. Jessen", "link": "https://stackoverflow.com/users/712649/mathias-r-jessen"}, "edited": false, "score": 0, "creation_date": 1463658963, "post_id": 37321851, "comment_id": 62164205, "body": "@MathiasR.Jessen I need the username in the correct case for making an SSH connection to a Unix server. (I didn&#39;t mention that cos I didn&#39;t think why was relevant to the question. Apologies if it is.)"}, {"owner": {"reputation": 103376, "user_id": 712649, "user_type": "registered", "accept_rate": 100, "profile_image": "https://i.stack.imgur.com/tP0yV.jpg?s=128&g=1", "display_name": "Mathias R. Jessen", "link": "https://stackoverflow.com/users/712649/mathias-r-jessen"}, "edited": false, "score": 0, "creation_date": 1463659219, "post_id": 37321851, "comment_id": 62164398, "body": "I would probably do an ldap search using <code>Net::LDAP</code> for the username <code>bIlLyBiRd</code> and see what value the returned accounts <code>samaccountname</code> has"}, {"owner": {"reputation": 1550, "user_id": 1366011, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/CL1aI.jpg?s=128&g=1", "display_name": "Smylers", "link": "https://stackoverflow.com/users/1366011/smylers"}, "reply_to_user": {"reputation": 123805, "user_id": 622310, "user_type": "registered", "accept_rate": 33, "profile_image": "https://www.gravatar.com/avatar/8b6d35219e1808520bc238b28161e2e6?s=128&d=identicon&r=PG", "display_name": "Borodin", "link": "https://stackoverflow.com/users/622310/borodin"}, "edited": false, "score": 0, "creation_date": 1463659674, "post_id": 37321851, "comment_id": 62164750, "body": "@Borodin Sorry if it isn&#39;t clear. The rest of the sentence, following the 3 words you quote is \u201cthey return the username in the case it was typed\u201d. What more information do you need?"}, {"owner": {"reputation": 1550, "user_id": 1366011, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/CL1aI.jpg?s=128&g=1", "display_name": "Smylers", "link": "https://stackoverflow.com/users/1366011/smylers"}, "reply_to_user": {"reputation": 123805, "user_id": 622310, "user_type": "registered", "accept_rate": 33, "profile_image": "https://www.gravatar.com/avatar/8b6d35219e1808520bc238b28161e2e6?s=128&d=identicon&r=PG", "display_name": "Borodin", "link": "https://stackoverflow.com/users/622310/borodin"}, "edited": false, "score": 0, "creation_date": 1463660277, "post_id": 37321851, "comment_id": 62165186, "body": "@Borodin Thanks. I wasn&#39;t aware of <code>wmic</code> before now."}, {"owner": {"reputation": 123805, "user_id": 622310, "user_type": "registered", "accept_rate": 33, "profile_image": "https://www.gravatar.com/avatar/8b6d35219e1808520bc238b28161e2e6?s=128&d=identicon&r=PG", "display_name": "Borodin", "link": "https://stackoverflow.com/users/622310/borodin"}, "edited": false, "score": 0, "creation_date": 1463722802, "post_id": 37321851, "comment_id": 62194472, "body": "@Smylers: Oh, so you&#39;re saying they <i>all</i> produce the same value--the value actually typed to log in?"}, {"owner": {"reputation": 1550, "user_id": 1366011, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/CL1aI.jpg?s=128&g=1", "display_name": "Smylers", "link": "https://stackoverflow.com/users/1366011/smylers"}, "reply_to_user": {"reputation": 123805, "user_id": 622310, "user_type": "registered", "accept_rate": 33, "profile_image": "https://www.gravatar.com/avatar/8b6d35219e1808520bc238b28161e2e6?s=128&d=identicon&r=PG", "display_name": "Borodin", "link": "https://stackoverflow.com/users/622310/borodin"}, "edited": false, "score": 0, "creation_date": 1463735786, "post_id": 37321851, "comment_id": 62202046, "body": "@Borodin Yes. I&#39;ve rephrased that bit of the question which hopefully makes that clearer. Thanks for your help."}, {"owner": {"reputation": 1550, "user_id": 1366011, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/CL1aI.jpg?s=128&g=1", "display_name": "Smylers", "link": "https://stackoverflow.com/users/1366011/smylers"}, "reply_to_user": {"reputation": 103376, "user_id": 712649, "user_type": "registered", "accept_rate": 100, "profile_image": "https://i.stack.imgur.com/tP0yV.jpg?s=128&g=1", "display_name": "Mathias R. Jessen", "link": "https://stackoverflow.com/users/712649/mathias-r-jessen"}, "edited": false, "score": 0, "creation_date": 1464088240, "post_id": 37321851, "comment_id": 62330069, "body": "@MathiasR.Jessen I looked at <code>Net::LDAP</code> but it seems to require a username and password to query Active Directory, which is hassle to have to provide securely, especially when the information is available by other means."}], "answers": [{"comments": [{"owner": {"reputation": 3984, "user_id": 1801086, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/ef4c0400ffff14d5e1c16ca3856c09ba?s=128&d=identicon&r=PG", "display_name": "tjd", "link": "https://stackoverflow.com/users/1801086/tjd"}, "edited": false, "score": 1, "creation_date": 1463687226, "post_id": 37322381, "comment_id": 62183577, "body": "<code>use List::Util; my $username = first {fc eq $comparable_username} @all_username;</code>"}, {"owner": {"reputation": 1550, "user_id": 1366011, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/CL1aI.jpg?s=128&g=1", "display_name": "Smylers", "link": "https://stackoverflow.com/users/1366011/smylers"}, "reply_to_user": {"reputation": 3984, "user_id": 1801086, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/ef4c0400ffff14d5e1c16ca3856c09ba?s=128&d=identicon&r=PG", "display_name": "tjd", "link": "https://stackoverflow.com/users/1801086/tjd"}, "edited": false, "score": 0, "creation_date": 1463734557, "post_id": 37322381, "comment_id": 62201185, "body": "@tjd Good idea \u2014 that&#39;s much better way of writing this. But it still seems a suboptimal thing to have to be doing in the first place, checking through every user one at a time."}], "tags": [], "owner": {"reputation": 1550, "user_id": 1366011, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/CL1aI.jpg?s=128&g=1", "display_name": "Smylers", "link": "https://stackoverflow.com/users/1366011/smylers"}, "is_accepted": false, "score": 0, "last_activity_date": 1463658677, "creation_date": 1463658677, "answer_id": 37322381, "question_id": 37321851, "link": "https://stackoverflow.com/questions/37321851/getting-windows-domain-username-in-correct-case-to-match-active-directory/37322381#37322381", "title": "Getting Windows domain username in correct case (to match Active Directory)", "body": "<p>This gets the right value, but involves fetching the list of all domain users over the network and iterating over them looking for a case-insensitive match, which seems excessive just for returning something about the current user:</p>\n\n<pre><code>use v5.16;\nuse Win32::NetAdmin qw&lt;GetDomainController GetUsers FILTER_NORMAL_ACCOUNT&gt;;\nmy $comparable_username = fc getlogin;\nGetDomainController('', '', my $domain_controller);\nGetUsers($domain_controller, FILTER_NORMAL_ACCOUNT, \\my @all_username);\nmy $username;\nfor (@all_username)\n{\n  if (fc eq $comparable_username)\n  {\n    $username = $_;\n    last;\n  }\n}\n</code></pre>\n"}, {"comments": [{"owner": {"reputation": 50468, "user_id": 1331451, "user_type": "registered", "accept_rate": 96, "profile_image": "https://i.stack.imgur.com/4ZPmj.png?s=128&g=1", "display_name": "simbabque", "link": "https://stackoverflow.com/users/1331451/simbabque"}, "edited": false, "score": 0, "creation_date": 1463666579, "post_id": 37322438, "comment_id": 62170372, "body": "This is not an answer. Please don&#39;t use answers as a way to add more information. Edit your question instead."}, {"owner": {"reputation": 1550, "user_id": 1366011, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/CL1aI.jpg?s=128&g=1", "display_name": "Smylers", "link": "https://stackoverflow.com/users/1366011/smylers"}, "reply_to_user": {"reputation": 50468, "user_id": 1331451, "user_type": "registered", "accept_rate": 96, "profile_image": "https://i.stack.imgur.com/4ZPmj.png?s=128&g=1", "display_name": "simbabque", "link": "https://stackoverflow.com/users/1331451/simbabque"}, "edited": false, "score": 0, "creation_date": 1464087810, "post_id": 37322438, "comment_id": 62329790, "body": "@simbabque: This <i>is</i> an answer, in that it does yield the desired output. It has its pros and cons, so there may be better answers out there (and I&#39;m hoping somebody will provide one), but that doesn&#39;t make this not an answer, and it may be the best answer in some circumstances. By posting it as a separate answer, users can vote on this compared with alternative answers (which have different pros and cons)."}], "tags": [], "owner": {"reputation": 1550, "user_id": 1366011, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/CL1aI.jpg?s=128&g=1", "display_name": "Smylers", "link": "https://stackoverflow.com/users/1366011/smylers"}, "is_accepted": false, "score": -1, "last_activity_date": 1464173748, "last_edit_date": 1464173748, "creation_date": 1463658866, "answer_id": 37322438, "question_id": 37321851, "link": "https://stackoverflow.com/questions/37321851/getting-windows-domain-username-in-correct-case-to-match-active-directory/37322438#37322438", "title": "Getting Windows domain username in correct case (to match Active Directory)", "body": "<p>This is a possible solution; it gets the username in the right case:</p>\n\n<pre><code>use IPC::System::Simple qw&lt;capturex&gt;;\nmy $username;\nforeach (capturex qw&lt;NET USER /DOMAIN&gt;, getlogin)\n{\n  if (/^User name\\s*(\\S+)$/)\n  {\n    $username = $1;\n    last;\n  }\n}\n</code></pre>\n\n<p>However it involves running an external system command to parse its output (which is relatively slow), and relies on that output always being in English. An alternative solution that used an API for directly looking up whatever the <code>NET USER</code> command is doing would be superior to this one.</p>\n"}, {"comments": [{"owner": {"reputation": 1550, "user_id": 1366011, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/CL1aI.jpg?s=128&g=1", "display_name": "Smylers", "link": "https://stackoverflow.com/users/1366011/smylers"}, "edited": false, "score": 0, "creation_date": 1463736811, "post_id": 37339552, "comment_id": 62202757, "body": "Thanks. I had to make that <code>wmic useraccount where LocalAccount=&quot;FALSE&quot; get name</code> to avoid picking up a local non-domain account with different casing. It&#39;s a shame it still involves getting and searching through all users. Unfortunately even <code>where Name=&quot;$ENV{USERNAME}&quot;</code> returns <code>name</code> as supplied, not the way it&#39;s returned if I don&#39;t request a specific name."}, {"owner": {"reputation": 123805, "user_id": 622310, "user_type": "registered", "accept_rate": 33, "profile_image": "https://www.gravatar.com/avatar/8b6d35219e1808520bc238b28161e2e6?s=128&d=identicon&r=PG", "display_name": "Borodin", "link": "https://stackoverflow.com/users/622310/borodin"}, "reply_to_user": {"reputation": 1550, "user_id": 1366011, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/CL1aI.jpg?s=128&g=1", "display_name": "Smylers", "link": "https://stackoverflow.com/users/1366011/smylers"}, "edited": false, "score": 0, "creation_date": 1463738491, "post_id": 37339552, "comment_id": 62203937, "body": "@Smylers: I&#39;ve added an update to my solution which may help you"}, {"owner": {"reputation": 1550, "user_id": 1366011, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/CL1aI.jpg?s=128&g=1", "display_name": "Smylers", "link": "https://stackoverflow.com/users/1366011/smylers"}, "edited": false, "score": 0, "creation_date": 1464174234, "post_id": 37339552, "comment_id": 62373357, "body": "Thanks. <code>LIKE</code> works even though <code>=</code> doesn&#39;t. Unfortunately it&#39;s still very slow though, taking about 2 s. Obviously some of that is the overhead of running an external command, but it&#39;s about 8-times slower than running and parsing <code>NET USER</code> (~0.25 s)."}, {"owner": {"reputation": 123805, "user_id": 622310, "user_type": "registered", "accept_rate": 33, "profile_image": "https://www.gravatar.com/avatar/8b6d35219e1808520bc238b28161e2e6?s=128&d=identicon&r=PG", "display_name": "Borodin", "link": "https://stackoverflow.com/users/622310/borodin"}, "reply_to_user": {"reputation": 1550, "user_id": 1366011, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/CL1aI.jpg?s=128&g=1", "display_name": "Smylers", "link": "https://stackoverflow.com/users/1366011/smylers"}, "edited": false, "score": 0, "creation_date": 1464175259, "post_id": 37339552, "comment_id": 62374004, "body": "@Smylers: How about creating a hash during initialisation of your program that maps the lower-case version of all user names to their &quot;official&quot; versions? Thereafter the operation is just <code>$real_user{lc $ENV{USERNAME}}</code>"}], "tags": [], "owner": {"reputation": 123805, "user_id": 622310, "user_type": "registered", "accept_rate": 33, "profile_image": "https://www.gravatar.com/avatar/8b6d35219e1808520bc238b28161e2e6?s=128&d=identicon&r=PG", "display_name": "Borodin", "link": "https://stackoverflow.com/users/622310/borodin"}, "is_accepted": false, "score": 0, "last_activity_date": 1467562749, "last_edit_date": 1592644375, "creation_date": 1463726177, "answer_id": 37339552, "question_id": 37321851, "link": "https://stackoverflow.com/questions/37321851/getting-windows-domain-username-in-correct-case-to-match-active-directory/37339552#37339552", "title": "Getting Windows domain username in correct case (to match Active Directory)", "body": "<p>Here's my thought about using <code>wmic</code> put into practice</p>\n<pre><code>use strict;\nuse warnings 'all';\n\nsay username();\n\nsub username {\n    for ( `wmic useraccount get name` ) {\n        return $1 if /\\A($ENV{USERNAME})\\s*\\z/i;\n    }\n    return;\n}\n</code></pre>\n<br/>\n<hr />\n<h3>Update</h3>\n<p>To prevent <code>wmic</code> from fetching the full user name list, you can use the <code>LIKE</code> operator in a <code>WHERE</code> cal</p>\n<pre><code>sub username {\n    my @user = `wmic UserAccount WHERE ( name LIKE '$ENV{username}' ) GET name`;\n    return unless $user[1] =~ /\\S/;\n    $user[1] =~ s/\\s+\\z//r;\n}\n</code></pre>\n"}], "owner": {"reputation": 1550, "user_id": 1366011, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/CL1aI.jpg?s=128&g=1", "display_name": "Smylers", "link": "https://stackoverflow.com/users/1366011/smylers"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 215, "favorite_count": 0, "answer_count": 3, "score": 0, "last_activity_date": 1467562749, "creation_date": 1463657341, "last_edit_date": 1463735712, "question_id": 37321851, "link": "https://stackoverflow.com/questions/37321851/getting-windows-domain-username-in-correct-case-to-match-active-directory", "title": "Getting Windows domain username in correct case (to match Active Directory)", "body": "<p>How can I sensibly get a Windows\u00a07 user's username, but in the case that it's stored in the Active Directory domain (such as <code>BillyBird</code>), not using whatever case the user happened to type it when logging in (probably <code>billybird</code>, but could even be something like <code>bILlYbIRd</code>)?</p>\n\n<p>This is in Perl, but since it's interacting with the operating system, solutions in other languages may be translatable.</p>\n\n<p>I've tried these and they don't work; they all return the username in the case it was typed by the user when logging in*:</p>\n\n<ul>\n<li><code>getlogin</code></li>\n<li><code>Win32::LoginName</code></li>\n<li><code>$ENV{USERNAME}</code></li>\n<li><code>Win32::OLE-&gt;new('WScript.Network')-&gt;UserName</code></li>\n<li><code>Win32API::Net::UserGetInfo</code></li>\n</ul>\n\n<p>I have come up with a couple of bad ways of getting the right value. I'll post those as answers and hope that somebody else has a better one. Thanks.</p>\n\n<p>* At least they do some of the time. For some users it alternates each time they log in between giving the as-typed and the as-AD values, but in all cases the above methods all agree with each other and <code>%USERNAME%</code>.</p>\n"}, {"tags": ["arrays", "perl"], "answers": [{"comments": [{"owner": {"reputation": 1246, "user_id": 4577456, "user_type": "registered", "accept_rate": 62, "profile_image": "https://graph.facebook.com/10152662960092727/picture?type=large", "display_name": "Liam Fell", "link": "https://stackoverflow.com/users/4577456/liam-fell"}, "edited": false, "score": 0, "creation_date": 1463654257, "post_id": 37320663, "comment_id": 62160885, "body": "oh thanks, how can I access the the value out of interest?"}, {"owner": {"reputation": 51521, "user_id": 2566198, "user_type": "registered", "accept_rate": 67, "profile_image": "https://i.stack.imgur.com/Y34ZA.jpg?s=128&g=1", "display_name": "Sobrique", "link": "https://stackoverflow.com/users/2566198/sobrique"}, "reply_to_user": {"reputation": 1246, "user_id": 4577456, "user_type": "registered", "accept_rate": 62, "profile_image": "https://graph.facebook.com/10152662960092727/picture?type=large", "display_name": "Liam Fell", "link": "https://stackoverflow.com/users/4577456/liam-fell"}, "edited": false, "score": 0, "creation_date": 1463654346, "post_id": 37320663, "comment_id": 62160949, "body": "Index values? Typically <code>for my $index ( 0..$#test ) { </code>"}], "tags": [], "owner": {"reputation": 51521, "user_id": 2566198, "user_type": "registered", "accept_rate": 67, "profile_image": "https://i.stack.imgur.com/Y34ZA.jpg?s=128&g=1", "display_name": "Sobrique", "link": "https://stackoverflow.com/users/2566198/sobrique"}, "is_accepted": true, "score": 2, "last_activity_date": 1463654578, "last_edit_date": 1463654578, "creation_date": 1463654066, "answer_id": 37320663, "question_id": 37320240, "link": "https://stackoverflow.com/questions/37320240/match-array-based-on-existing-array/37320663#37320663", "title": "Match array based on existing array", "body": "<p>You're misunderstanding what 'header' is set to. It's set to (an alias of) the value in the array. </p>\n\n<p>So</p>\n\n<pre><code>foreach my $header (@test) {\n   print $header,\"\\n\";\n}\n</code></pre>\n\n<p>Will give you <code>a</code>, <code>b</code>, <code>c</code> etc. </p>\n\n<p>However, then you're trying to access <code>$test2['a']</code> which isn't valid, because it should be numeric. </p>\n\n<p>So actually, a good case study in why you should use <code>strict</code> and <code>warnings</code> because this would have told you the problem:</p>\n\n<pre><code>Argument \"a\" isn't numeric in array or hash lookup at \nArgument \"b\" isn't numeric in array or hash lookup at \n</code></pre>\n\n<p>etc.</p>\n\n<p>So it's not <em>actually</em> doing anything. </p>\n\n<p>You shouldn't use delete in this way either though, because you're deleting from a list whilst iterating it. That's not good, even without the fact that it's nonsense to use a letter as an array index.</p>\n\n<p>You could do it like this instead though:</p>\n\n<pre><code>#!/usr/bin/env perl\nuse strict;\nuse warnings;\nuse Data::Dumper;\n\nmy @test = ('a','b','c','d','e','f','g','h');\n\nmy @test2 = ('h','b','d');\n\nmy %is_in_test2 = map { $_ =&gt; 1 } @test2; \n@test = grep { $is_in_test2{$_} } @test;\n\nprint Dumper \\@test;\n</code></pre>\n\n<p>If you do want to iterate by index, you can do it like this:</p>\n\n<pre><code>for my $index ( 0..$#test ) {  \n   print \"$index =&gt; $test[$index]\\n\";\n}\n</code></pre>\n\n<p>But I would still suggest that deleting whilst iterating isn't a great plan, because modifying a thing you're iterating it ( and aiming to resize the array) is a good way to end up with strange bugs.</p>\n\n<p>So whilst you could:</p>\n\n<pre><code>for my $index ( 0..$#test ) {  \n   print \"$index =&gt; $test[$index]\\n\";\n   delete $test[$index] if not $is_in_test2{$test[$index]};\n}\nprint Dumper \\@test;\n</code></pre>\n\n<p>What you'll end up with is:</p>\n\n<pre><code>$VAR1 = [\n          undef,\n          'b',\n          undef,\n          'd',\n          undef,\n          undef,\n          undef,\n          'h'\n        ];\n</code></pre>\n\n<p>For the more general case there is a a <a href=\"http://perldoc.perl.org/perlfaq4.html#How-do-I-compute-the-difference-of-two-arrays%3F-How-do-I-compute-the-intersection-of-two-arrays%3F\" rel=\"nofollow\"><code>FAQ: How do I computer the difference/intersection of two arrays</code></a></p>\n"}, {"comments": [{"owner": {"reputation": 51521, "user_id": 2566198, "user_type": "registered", "accept_rate": 67, "profile_image": "https://i.stack.imgur.com/Y34ZA.jpg?s=128&g=1", "display_name": "Sobrique", "link": "https://stackoverflow.com/users/2566198/sobrique"}, "edited": false, "score": 0, "creation_date": 1463654621, "post_id": 37320856, "comment_id": 62161132, "body": "It&#39;s an O(N^2) algorithm, so yeah. As arrays embiggen, this will get slow."}], "tags": [], "owner": {"reputation": 1665, "user_id": 1848140, "user_type": "registered", "accept_rate": 59, "profile_image": "https://www.gravatar.com/avatar/c0bc64ef33e6ab5560ce5c534190a6a0?s=128&d=identicon&r=PG&f=1", "display_name": "Nagaraju", "link": "https://stackoverflow.com/users/1848140/nagaraju"}, "is_accepted": false, "score": 0, "last_activity_date": 1463654566, "creation_date": 1463654566, "answer_id": 37320856, "question_id": 37320240, "link": "https://stackoverflow.com/questions/37320240/match-array-based-on-existing-array/37320856#37320856", "title": "Match array based on existing array", "body": "<pre><code>use strict;\nuse warnings;\n\n\nmy @test = ('a','b','c','d','e','f','g','h');\nmy @test2 = ('h','b','d');\n\nforeach my $header (@test) {\n    foreach my $header2 (@test2) {\n        if( $header eq $header2) {\n            print \"$header,\";     #prints only existing values\n        }\n        else {\n            #doNothing\n        }\n    }\n}\n</code></pre>\n\n<p><strong>Note: This method is not feasible when you are dealing an array with huge elements.</strong></p>\n"}], "owner": {"reputation": 1246, "user_id": 4577456, "user_type": "registered", "accept_rate": 62, "profile_image": "https://graph.facebook.com/10152662960092727/picture?type=large", "display_name": "Liam Fell", "link": "https://stackoverflow.com/users/4577456/liam-fell"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 44, "favorite_count": 0, "accepted_answer_id": 37320663, "answer_count": 2, "score": 0, "last_activity_date": 1463654578, "creation_date": 1463652904, "question_id": 37320240, "link": "https://stackoverflow.com/questions/37320240/match-array-based-on-existing-array", "title": "Match array based on existing array", "body": "<p>I have two arrays, </p>\n\n<pre><code>my @test = ('a','b','c','d','e',f,'g','h');\n\nmy @test2 = ('h','b','d');\n</code></pre>\n\n<p>I'm attempting to loop through the array <code>@test</code>, and match elements against those in <code>@test2,</code> deleting those elements that do not exist.</p>\n\n<p>I have the following code:</p>\n\n<pre><code>foreach my $header (@test) {\n        if( exists $test2[$header]){\n            # do nothing\n        }\n        else {\n            delete $test[$header];\n        }\n    }\n</code></pre>\n\n<p>So, I want array @test to look like this (ignore the fact this could be sorted alphabetically): </p>\n\n<pre><code>my @test = ('b','d','h');\n</code></pre>\n\n<p>However currently my array remains the same after the foreach loop, can anyone suggest why?</p>\n"}, {"tags": ["perl", "mount-point"], "comments": [{"owner": {"reputation": 62184, "user_id": 7231, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/81b76985f3985e35492e25880493d045?s=128&d=identicon&r=PG", "display_name": "Dave Cross", "link": "https://stackoverflow.com/users/7231/dave-cross"}, "edited": false, "score": 1, "creation_date": 1463652850, "post_id": 37319533, "comment_id": 62159878, "body": "&quot;I am aware now that this is only for arrays&quot;. But you <b>can</b> store the results from backticks in an array."}, {"owner": {"reputation": 123805, "user_id": 622310, "user_type": "registered", "accept_rate": 33, "profile_image": "https://www.gravatar.com/avatar/8b6d35219e1808520bc238b28161e2e6?s=128&d=identicon&r=PG", "display_name": "Borodin", "link": "https://stackoverflow.com/users/622310/borodin"}, "edited": false, "score": 1, "creation_date": 1463654723, "post_id": 37319533, "comment_id": 62161212, "body": "The <code>-h</code> option for <code>df</code> means <i>human-readable</i>. Since this is for computer consumption I suggest you use <code>df -l</code> instead, to remove all the formatting characters like <code>K</code>, <code>M</code> and <code>G</code> that we real people like"}, {"owner": {"reputation": 69, "user_id": 5409336, "user_type": "registered", "accept_rate": 60, "profile_image": "https://www.gravatar.com/avatar/ec9a49052af863fc64c1f68d6e219e05?s=128&d=identicon&r=PG&f=1", "display_name": "dplatt", "link": "https://stackoverflow.com/users/5409336/dplatt"}, "reply_to_user": {"reputation": 123805, "user_id": 622310, "user_type": "registered", "accept_rate": 33, "profile_image": "https://www.gravatar.com/avatar/8b6d35219e1808520bc238b28161e2e6?s=128&d=identicon&r=PG", "display_name": "Borodin", "link": "https://stackoverflow.com/users/622310/borodin"}, "edited": false, "score": 0, "creation_date": 1463655148, "post_id": 37319533, "comment_id": 62161510, "body": "Good shout, cheers @Borodin, saved me some trouble there, was ending up pulling off the last digits otherwise!"}, {"owner": {"reputation": 69, "user_id": 5409336, "user_type": "registered", "accept_rate": 60, "profile_image": "https://www.gravatar.com/avatar/ec9a49052af863fc64c1f68d6e219e05?s=128&d=identicon&r=PG&f=1", "display_name": "dplatt", "link": "https://stackoverflow.com/users/5409336/dplatt"}, "reply_to_user": {"reputation": 62184, "user_id": 7231, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/81b76985f3985e35492e25880493d045?s=128&d=identicon&r=PG", "display_name": "Dave Cross", "link": "https://stackoverflow.com/users/7231/dave-cross"}, "edited": false, "score": 0, "creation_date": 1463655159, "post_id": 37319533, "comment_id": 62161516, "body": "@DaveCross, have stored in an array now, don&#39;t know why I didn&#39;t think of that. Thank you for your suggestions!"}, {"owner": {"reputation": 52821, "user_id": 632407, "user_type": "registered", "accept_rate": 86, "profile_image": "https://i.stack.imgur.com/AfGWW.jpg?s=128&g=1", "display_name": "jm666", "link": "https://stackoverflow.com/users/632407/jm666"}, "edited": false, "score": 0, "creation_date": 1463655526, "post_id": 37319533, "comment_id": 62161776, "body": "dup? <a href=\"http://stackoverflow.com/q/6350466/632407\">stackoverflow.com/q/6350466/632407</a> and check <a href=\"https://metacpan.org/pod/Filesys::Df\" rel=\"nofollow noreferrer\">metacpan.org/pod/Filesys::Df</a>"}], "answers": [{"comments": [{"owner": {"reputation": 69, "user_id": 5409336, "user_type": "registered", "accept_rate": 60, "profile_image": "https://www.gravatar.com/avatar/ec9a49052af863fc64c1f68d6e219e05?s=128&d=identicon&r=PG&f=1", "display_name": "dplatt", "link": "https://stackoverflow.com/users/5409336/dplatt"}, "edited": false, "score": 0, "creation_date": 1463655212, "post_id": 37319777, "comment_id": 62161549, "body": "Different way of looking at it! Definitely interested in hashes, will try and incorporate this in another aspect of my code, thank you."}], "tags": [], "owner": {"reputation": 51521, "user_id": 2566198, "user_type": "registered", "accept_rate": 67, "profile_image": "https://i.stack.imgur.com/Y34ZA.jpg?s=128&g=1", "display_name": "Sobrique", "link": "https://stackoverflow.com/users/2566198/sobrique"}, "is_accepted": false, "score": 1, "last_activity_date": 1463651710, "creation_date": 1463651710, "answer_id": 37319777, "question_id": 37319533, "link": "https://stackoverflow.com/questions/37319533/perl-split-up-variable-from-system-output-df-lh/37319777#37319777", "title": "Perl: Split up variable from system output (df -lh)", "body": "<p>How about using a hash slice approach? </p>\n\n<pre><code>#!/usr/bin/env perl\nuse strict;\nuse warnings;\n\nuse Data::Dumper;\n\nchomp ( my @header = split ' ', &lt;DATA&gt;, 9 ); \n\nmy @rows; \nwhile ( &lt;DATA&gt; ) { \n   chomp; \n   my %this_row;\n   push @rows, \\%this_row;\n   @this_row{@header} = split ' ', $_, 9; \n   print Dumper \\%this_row;\n}\n\nprint Dumper \\@rows; \n\n\nforeach my $row ( @rows ) { \n   print $row -&gt; {Filesystem}, \" =&gt; \", $row -&gt; {Size},\"\\n\";\n}\n\n\n__DATA__\nFilesystem     Size   Used  Avail Capacity  iused     ifree %iused  Mounted on\n/dev/disk0s2  931Gi   82Gi  849Gi     9% 21503280 222477462    9%   /\n/dev/disk1s2   19Gi  5.0Gi   14Gi    27%  1303373   3579438   27%   /Volumes/Install OS X Yosemite\n/dev/disk1s3  1.8Ti  174Gi  1.6Ti    10% 45714072 437656799    9%   /Volumes/store\n</code></pre>\n\n<p>We specify a count to split, because it <em>looks</em> like it's only your last field that contains spaces. (Otherwise you'd have another column 'on' and that <code>'Install OS X Yosemite'</code> would get split too). </p>\n\n<p>This builds a data structure like this:</p>\n\n<pre><code>$VAR1 = [\n          {\n            'Filesystem' =&gt; '/dev/disk0s2',\n            'Mounted on' =&gt; '/',\n            'Avail' =&gt; '849Gi',\n            '%iused' =&gt; '9%',\n            'Size' =&gt; '931Gi',\n            'iused' =&gt; '21503280',\n            'Capacity' =&gt; '9%',\n            'Used' =&gt; '82Gi',\n            'ifree' =&gt; '222477462'\n          },\n          {\n            'Capacity' =&gt; '27%',\n            'iused' =&gt; '1303373',\n            'Size' =&gt; '19Gi',\n            '%iused' =&gt; '27%',\n            'Filesystem' =&gt; '/dev/disk1s2',\n            'Mounted on' =&gt; '/Volumes/Install OS X Yosemite',\n            'Avail' =&gt; '14Gi',\n            'ifree' =&gt; '3579438',\n            'Used' =&gt; '5.0Gi'\n          },\n          {\n            'ifree' =&gt; '437656799',\n            'Used' =&gt; '174Gi',\n            'Capacity' =&gt; '10%',\n            'iused' =&gt; '45714072',\n            '%iused' =&gt; '9%',\n            'Size' =&gt; '1.8Ti',\n            'Avail' =&gt; '1.6Ti',\n            'Mounted on' =&gt; '/Volumes/store',\n            'Filesystem' =&gt; '/dev/disk1s3'\n          }\n        ];\n</code></pre>\n\n<p>Which is an array of hashes. (e.g. each value is 'keyed').</p>\n\n<p>But you could do something similar where you just <code>split</code> the values into an array instead. </p>\n"}, {"comments": [{"owner": {"reputation": 123805, "user_id": 622310, "user_type": "registered", "accept_rate": 33, "profile_image": "https://www.gravatar.com/avatar/8b6d35219e1808520bc238b28161e2e6?s=128&d=identicon&r=PG", "display_name": "Borodin", "link": "https://stackoverflow.com/users/622310/borodin"}, "edited": false, "score": 1, "creation_date": 1463655567, "post_id": 37321118, "comment_id": 62161803, "body": "Okay, so why did you ask for help with this?"}, {"owner": {"reputation": 69, "user_id": 5409336, "user_type": "registered", "accept_rate": 60, "profile_image": "https://www.gravatar.com/avatar/ec9a49052af863fc64c1f68d6e219e05?s=128&d=identicon&r=PG&f=1", "display_name": "dplatt", "link": "https://stackoverflow.com/users/5409336/dplatt"}, "reply_to_user": {"reputation": 123805, "user_id": 622310, "user_type": "registered", "accept_rate": 33, "profile_image": "https://www.gravatar.com/avatar/8b6d35219e1808520bc238b28161e2e6?s=128&d=identicon&r=PG", "display_name": "Borodin", "link": "https://stackoverflow.com/users/622310/borodin"}, "edited": false, "score": 0, "creation_date": 1463659529, "post_id": 37321118, "comment_id": 62164638, "body": "Didn&#39;t realise you could store as an array!"}, {"owner": {"reputation": 123805, "user_id": 622310, "user_type": "registered", "accept_rate": 33, "profile_image": "https://www.gravatar.com/avatar/8b6d35219e1808520bc238b28161e2e6?s=128&d=identicon&r=PG", "display_name": "Borodin", "link": "https://stackoverflow.com/users/622310/borodin"}, "edited": false, "score": 0, "creation_date": 1463663469, "post_id": 37321118, "comment_id": 62167691, "body": "That&#39;s fine, but I don&#39;t see why you wanted to publish a solution of your own when there is already one that says the same thing and more. Unfortunately it happens to be my own answer, but I&#39;m not asking you to accept it, I&#39;m just wondering whether you realise that Stack Overflow isn&#39;t a forum, but more like a wiki. It may help you to take a look at <a href=\"http://stackoverflow.com/help/someone-answers\"><i>What should I do when someone answers my question?</i></a>"}, {"owner": {"reputation": 123805, "user_id": 622310, "user_type": "registered", "accept_rate": 33, "profile_image": "https://www.gravatar.com/avatar/8b6d35219e1808520bc238b28161e2e6?s=128&d=identicon&r=PG", "display_name": "Borodin", "link": "https://stackoverflow.com/users/622310/borodin"}, "edited": false, "score": 0, "creation_date": 1463664018, "post_id": 37321118, "comment_id": 62168136, "body": "Unless you&#39;re <i>certain</i> that the <i>mounted</i> field never contains whitespace, you should use <code>split &#39; &#39;, $_, 6</code> as I did"}], "tags": [], "owner": {"reputation": 69, "user_id": 5409336, "user_type": "registered", "accept_rate": 60, "profile_image": "https://www.gravatar.com/avatar/ec9a49052af863fc64c1f68d6e219e05?s=128&d=identicon&r=PG&f=1", "display_name": "dplatt", "link": "https://stackoverflow.com/users/5409336/dplatt"}, "is_accepted": false, "score": 0, "last_activity_date": 1463655277, "creation_date": 1463655277, "answer_id": 37321118, "question_id": 37319533, "link": "https://stackoverflow.com/questions/37319533/perl-split-up-variable-from-system-output-df-lh/37321118#37321118", "title": "Perl: Split up variable from system output (df -lh)", "body": "<p>My finished code:     </p>\n\n<pre><code> my @var= `df -l`;\n      my $local_id = 2;\n      shift @var; ## REMOVE TOP LINE\n      foreach my $line (@var) {\n          chomp $line;\n          my( $filesystem, $size, $used, $avail, $cap, $mounted ) = split (/\\s+/, $line);\n          ## DIRTY QUICK WAY TO PULL OFF %\n          $cap = substr($cap, 0, -1);\n}\n</code></pre>\n\n<p>Df -l does not get rid of the % of capacity, so got rid of that in order to add it into my db. Stored as an array. Thanks everyone for your help and comments!</p>\n"}, {"comments": [{"owner": {"reputation": 5334, "user_id": 5830574, "user_type": "registered", "accept_rate": 93, "profile_image": "https://i.stack.imgur.com/kCmqs.png?s=128&g=1", "display_name": "PerlDuck", "link": "https://stackoverflow.com/users/5830574/perlduck"}, "edited": false, "score": 0, "creation_date": 1463670432, "post_id": 37321167, "comment_id": 62173529, "body": "I&#39;d suggest you also use the <code>-P</code> switch (POSIX-output) to <code>df</code>: if filesystem names are long enough, <code>df</code> might else split the output into two lines (<a href=\"http://askubuntu.com/q/55702/504066\">shown here</a>) which makes them harder to parse. <code>-P</code> guarantees <i>&quot;one line of information for each specified file system&quot;</i>. Note that the output will then <i>not</i> contain the inode columns (as in the OP)."}], "tags": [], "owner": {"reputation": 123805, "user_id": 622310, "user_type": "registered", "accept_rate": 33, "profile_image": "https://www.gravatar.com/avatar/8b6d35219e1808520bc238b28161e2e6?s=128&d=identicon&r=PG", "display_name": "Borodin", "link": "https://stackoverflow.com/users/622310/borodin"}, "is_accepted": false, "score": 3, "last_activity_date": 1467562773, "last_edit_date": 1467562773, "creation_date": 1463655418, "answer_id": 37321167, "question_id": 37319533, "link": "https://stackoverflow.com/questions/37319533/perl-split-up-variable-from-system-output-df-lh/37321167#37321167", "title": "Perl: Split up variable from system output (df -lh)", "body": "<p>Yes, <code>shift</code> does work on arrays. But backticks in list context will return a list of lines output by the command. You can assign that list to an array and then <code>shift</code> the header line off the beginning</p>\n\n<p>Here's an example of what you might write, and the output when I run it on my VBox system. All I do with the fields is print their values as you haven't mentioned what you might want to do with them</p>\n\n<pre><code>use strict;\nuse warnings 'all';\nuse feature 'say';\n\nmy @df = `df -l`;\n\nshift @df;\nchomp @df;\n\nfor ( @df ) {\n    my ( $filesystem, $size, $used, $avail, $cap, $mounted ) = split ' ', $_, 6;\n    say \"( $filesystem, $size, $used, $avail, $cap, $mounted )\";\n}\n</code></pre>\n\n<h3>output</h3>\n\n<pre><code>( udev, 1004960, 0, 1004960, 0%, /dev )\n( tmpfs, 204852, 6264, 198588, 4%, /run )\n( /dev/sda1, 49409840, 4925512, 41951416, 11%, / )\n( tmpfs, 1024260, 132, 1024128, 1%, /dev/shm )\n( tmpfs, 5120, 4, 5116, 1%, /run/lock )\n( tmpfs, 1024260, 0, 1024260, 0%, /sys/fs/cgroup )\n( tmpfs, 204852, 52, 204800, 1%, /run/user/1000 )\n( /dev/sr0, 56782, 56782, 0, 100%, /media/rob/VBOXADDITIONS_5.0.18_106667 )\n</code></pre>\n"}], "owner": {"reputation": 69, "user_id": 5409336, "user_type": "registered", "accept_rate": 60, "profile_image": "https://www.gravatar.com/avatar/ec9a49052af863fc64c1f68d6e219e05?s=128&d=identicon&r=PG&f=1", "display_name": "dplatt", "link": "https://stackoverflow.com/users/5409336/dplatt"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 418, "favorite_count": 0, "answer_count": 3, "score": 0, "last_activity_date": 1467562773, "creation_date": 1463651150, "question_id": 37319533, "link": "https://stackoverflow.com/questions/37319533/perl-split-up-variable-from-system-output-df-lh", "title": "Perl: Split up variable from system output (df -lh)", "body": "<p>I've managed to use back-ticks to store my <code>df -lh</code> command as a variable, <code>$var</code>, but I would like to split it up so that each part of the variable can be assigned to another variable.</p>\n\n<p>Here is my output when I print <code>$var</code>:</p>\n\n<pre><code>Filesystem     Size   Used  Avail Capacity  iused     ifree %iused  Mounted on\n/dev/disk0s2  931Gi   82Gi  849Gi     9% 21503280 222477462    9%   /\n/dev/disk1s2   19Gi  5.0Gi   14Gi    27%  1303373   3579438   27%   /Volumes/Install OS X Yosemite\n/dev/disk1s3  1.8Ti  174Gi  1.6Ti    10% 45714072 437656799    9%   /Volumes/store\n</code></pre>\n\n<p>What I would like is to remove the first line of headers, then split it down into the following categories of:</p>\n\n<p><code>$filesystem</code>, <code>$size</code>, <code>$used</code>, <code>$avail</code>, <code>$cap</code>, <code>$mounted</code>.</p>\n\n<p>I've tried using shift to get rid of the first line, but I am aware now that this is only for arrays. For a different array I have, I use chomp, i.e.</p>\n\n<pre><code>foreach my $line (@output) {\n              chomp $line;\n              my( $filesystem, $size, $used, $avail, $cap, $mounted ) = split (/\\s+/, $line);\n}\n</code></pre>\n\n<p>But as this is not an array, I don't know how to go about it, unless there is a way to store my system output as an array?</p>\n\n<p>Many thanks.</p>\n"}, {"tags": ["perl", "websocket", "client"], "comments": [{"owner": {"reputation": 50468, "user_id": 1331451, "user_type": "registered", "accept_rate": 96, "profile_image": "https://i.stack.imgur.com/4ZPmj.png?s=128&g=1", "display_name": "simbabque", "link": "https://stackoverflow.com/users/1331451/simbabque"}, "edited": false, "score": 0, "creation_date": 1463656834, "post_id": 37318581, "comment_id": 62162679, "body": "As you&#39;re going to need a lot of trying to get this to work, maybe you should look into alternatives. <a href=\"https://metacpan.org/pod/AnyEvent::WebSocket::Client\" rel=\"nofollow noreferrer\">metacpan.org/pod/AnyEvent::WebSocket::Client</a> seems promising."}, {"owner": {"reputation": 123805, "user_id": 622310, "user_type": "registered", "accept_rate": 33, "profile_image": "https://www.gravatar.com/avatar/8b6d35219e1808520bc238b28161e2e6?s=128&d=identicon&r=PG", "display_name": "Borodin", "link": "https://stackoverflow.com/users/622310/borodin"}, "edited": false, "score": 1, "creation_date": 1463657242, "post_id": 37318581, "comment_id": 62162978, "body": "The author of the module emailed this to me: <i>&quot;I wanted to comment, but I don&#39;t have enough reputation or whatever it is called. <a href=\"https://github.com/vti/protocol-websocket/blob/master/util/wsconsole\" rel=\"nofollow noreferrer\">A good client example is here</a>.&quot;</i>"}], "answers": [{"comments": [{"owner": {"reputation": 50468, "user_id": 1331451, "user_type": "registered", "accept_rate": 96, "profile_image": "https://i.stack.imgur.com/4ZPmj.png?s=128&g=1", "display_name": "simbabque", "link": "https://stackoverflow.com/users/1331451/simbabque"}, "edited": false, "score": 0, "creation_date": 1463655556, "post_id": 37318881, "comment_id": 62161793, "body": "Good find. Are you going to fix it and make a pr?"}, {"owner": {"reputation": 123805, "user_id": 622310, "user_type": "registered", "accept_rate": 33, "profile_image": "https://www.gravatar.com/avatar/8b6d35219e1808520bc238b28161e2e6?s=128&d=identicon&r=PG", "display_name": "Borodin", "link": "https://stackoverflow.com/users/622310/borodin"}, "reply_to_user": {"reputation": 50468, "user_id": 1331451, "user_type": "registered", "accept_rate": 96, "profile_image": "https://i.stack.imgur.com/4ZPmj.png?s=128&g=1", "display_name": "simbabque", "link": "https://stackoverflow.com/users/1331451/simbabque"}, "edited": false, "score": 2, "creation_date": 1463655755, "post_id": 37318881, "comment_id": 62161932, "body": "@simbabque: I&#39;ve emailed the author. But I&#39;m not going to submit a fix as the sample is still broken with that correction and I&#39;m unclear how to fix it."}, {"owner": {"reputation": 50468, "user_id": 1331451, "user_type": "registered", "accept_rate": 96, "profile_image": "https://i.stack.imgur.com/4ZPmj.png?s=128&g=1", "display_name": "simbabque", "link": "https://stackoverflow.com/users/1331451/simbabque"}, "edited": false, "score": 0, "creation_date": 1463656397, "post_id": 37318881, "comment_id": 62162409, "body": "I see. The documentation is sparse at best, too."}, {"owner": {"reputation": 123805, "user_id": 622310, "user_type": "registered", "accept_rate": 33, "profile_image": "https://www.gravatar.com/avatar/8b6d35219e1808520bc238b28161e2e6?s=128&d=identicon&r=PG", "display_name": "Borodin", "link": "https://stackoverflow.com/users/622310/borodin"}, "reply_to_user": {"reputation": 50468, "user_id": 1331451, "user_type": "registered", "accept_rate": 96, "profile_image": "https://i.stack.imgur.com/4ZPmj.png?s=128&g=1", "display_name": "simbabque", "link": "https://stackoverflow.com/users/1331451/simbabque"}, "edited": false, "score": 1, "creation_date": 1463656654, "post_id": 37318881, "comment_id": 62162571, "body": "@simbabque: It is. And I should clarify that by <i>broken</i> I mean incomplete. It has things like <code>...get non-blocking socket...</code> and <code>...do smth with read data...</code> which prevent it from compiling. It&#39;s ten years since I did any Sockets programming, and I would be more than likely to get it wrong if I attempted to fill those gaps."}], "tags": [], "owner": {"reputation": 123805, "user_id": 622310, "user_type": "registered", "accept_rate": 33, "profile_image": "https://www.gravatar.com/avatar/8b6d35219e1808520bc238b28161e2e6?s=128&d=identicon&r=PG", "display_name": "Borodin", "link": "https://stackoverflow.com/users/622310/borodin"}, "is_accepted": false, "score": 3, "last_activity_date": 1463649431, "creation_date": 1463649431, "answer_id": 37318881, "question_id": 37318581, "link": "https://stackoverflow.com/questions/37318581/simple-perl-websocket-client/37318881#37318881", "title": "Simple Perl websocket client", "body": "<p>There is an error in the example code. <code>Protocol::WebSocket-&gt;new</code> should be <code>Protocol::WebSocket::Client-&gt;new</code></p>\n"}, {"tags": [], "owner": {"reputation": 61, "user_id": 6355793, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/2dd7d9c4b810953447efab064c5328c9?s=128&d=identicon&r=PG", "display_name": "vti", "link": "https://stackoverflow.com/users/6355793/vti"}, "is_accepted": false, "score": 6, "last_activity_date": 1463747667, "last_edit_date": 1592644375, "creation_date": 1463663400, "answer_id": 37324221, "question_id": 37318581, "link": "https://stackoverflow.com/questions/37318581/simple-perl-websocket-client/37324221#37324221", "title": "Simple Perl websocket client", "body": "<p><a href=\"https://metacpan.org/pod/Protocol::WebSocket\" rel=\"noreferrer\"><code>Protocol::WebSocket</code></a> is a low-level implementation of <a href=\"https://en.wikipedia.org/wiki/WebSocket\" rel=\"noreferrer\"><em>WebSocket</em></a> protocol. It doesn't contain the code that sends/receives data; it just parses the protocol messages.</p>\n<p>You might want to look into examples for using <code>Protocol::WebSocket</code> with various modules, see <code>examples</code>. A good client example is implemented in the <code>wsconsole</code> utility which comes with this module.</p>\n<p>There are several high-level modules on CPAN that implement WebSockets hiding all low level stuff, and most of them use <code>Protocol::WebSocket</code>. Take a look at <a href=\"https://metacpan.org/pod/AnyEvent::WebSocket::Client\" rel=\"noreferrer\"><code>AnyEvent::WebSocket::Client</code></a> or <a href=\"https://metacpan.org/pod/Net::Async::WebSocket::Client\" rel=\"noreferrer\"><code>Net::Async::WebSocket::Client</code></a>.</p>\n"}], "owner": {"reputation": 51, "user_id": 6354856, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/MeRe8.png?s=128&g=1", "display_name": "Francois Corthay", "link": "https://stackoverflow.com/users/6354856/francois-corthay"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 6775, "favorite_count": 0, "answer_count": 2, "score": 3, "last_activity_date": 1463747667, "creation_date": 1463648614, "last_edit_date": 1463651341, "question_id": 37318581, "link": "https://stackoverflow.com/questions/37318581/simple-perl-websocket-client", "title": "Simple Perl websocket client", "body": "<p>I am trying to write a simple websocket client in Perl:</p>\n\n<pre class=\"lang-perl prettyprint-override\"><code>use Protocol::WebSocket::Client;\n\nmy $client = Protocol::WebSocket-&gt;new(url =&gt; 'ws://myserver:port');\n\n# Sends a correct handshake header\n$client-&gt;connect;\n\n# Register on connect handler\n$client-&gt;on(\n    connect =&gt; sub {\n        $client-&gt;write('hi there');\n    }\n);\n\n# Parses incoming data and on every frame calls on_read\n$client-&gt;read($reply);\nprint \"$reply\\n\";\n\n# Sends correct close header\n$client-&gt;disconnect;\n</code></pre>\n\n<p>as shown in <a href=\"http://search.cpan.org/~vti/Protocol-WebSocket-0.18/lib/Protocol/WebSocket/Client.pm\" rel=\"nofollow\">the documentation for <code>Protocol::WebSocket::Client</code></a>,\nbut I receive the message:</p>\n\n<pre class=\"lang-none prettyprint-override\"><code>Can't locate object method \"new\" via package \"Protocol::WebSocket\" at ./webSocketClient.pl.\n</code></pre>\n\n<p>What do I do wrong ?</p>\n"}, {"tags": ["regex", "perl", "multiline"], "comments": [{"owner": {"reputation": 24713, "user_id": 3150943, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/06074c6f020f2509f0b51a2c0ad3a9a8?s=128&d=identicon&r=PG", "display_name": "nu11p01n73R", "link": "https://stackoverflow.com/users/3150943/nu11p01n73r"}, "edited": false, "score": 2, "creation_date": 1463644904, "post_id": 37317248, "comment_id": 62154290, "body": "It is because the perl one liner reads line by line from the input file"}, {"owner": {"reputation": 825, "user_id": 395222, "user_type": "registered", "accept_rate": 73, "profile_image": "https://www.gravatar.com/avatar/4dac21aea5a5fb6051dc78a582dfcee9?s=128&d=identicon&r=PG", "display_name": "Patrik", "link": "https://stackoverflow.com/users/395222/patrik"}, "reply_to_user": {"reputation": 24713, "user_id": 3150943, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/06074c6f020f2509f0b51a2c0ad3a9a8?s=128&d=identicon&r=PG", "display_name": "nu11p01n73R", "link": "https://stackoverflow.com/users/3150943/nu11p01n73r"}, "edited": false, "score": 0, "creation_date": 1463645273, "post_id": 37317248, "comment_id": 62154498, "body": "Is it an unavoidable limitation? Right now, I&#39;m using this sed expression to solve the problem  &#39;1h;1\\!H;${;g;s/\\n+ / /g;p;}&#39;  but people advised my to not use this with large files"}, {"owner": {"reputation": 825, "user_id": 395222, "user_type": "registered", "accept_rate": 73, "profile_image": "https://www.gravatar.com/avatar/4dac21aea5a5fb6051dc78a582dfcee9?s=128&d=identicon&r=PG", "display_name": "Patrik", "link": "https://stackoverflow.com/users/395222/patrik"}, "reply_to_user": {"reputation": 24713, "user_id": 3150943, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/06074c6f020f2509f0b51a2c0ad3a9a8?s=128&d=identicon&r=PG", "display_name": "nu11p01n73R", "link": "https://stackoverflow.com/users/3150943/nu11p01n73r"}, "edited": false, "score": 0, "creation_date": 1463645558, "post_id": 37317248, "comment_id": 62154702, "body": "Ok, the -0777 option makes it work. Are there any inconveniences in the use of this option?"}, {"owner": {"reputation": 3327, "user_id": 1604311, "user_type": "registered", "accept_rate": 73, "profile_image": "https://i.stack.imgur.com/0frKT.jpg?s=128&g=1", "display_name": "Arunesh Singh", "link": "https://stackoverflow.com/users/1604311/arunesh-singh"}, "edited": false, "score": 0, "creation_date": 1463645640, "post_id": 37317248, "comment_id": 62154765, "body": "Yes, -0777 will slurp the whole file into memory. So, If file is huge and your memory is limited then it may cause inconveniences."}, {"owner": {"reputation": 825, "user_id": 395222, "user_type": "registered", "accept_rate": 73, "profile_image": "https://www.gravatar.com/avatar/4dac21aea5a5fb6051dc78a582dfcee9?s=128&d=identicon&r=PG", "display_name": "Patrik", "link": "https://stackoverflow.com/users/395222/patrik"}, "edited": false, "score": 0, "creation_date": 1463645824, "post_id": 37317248, "comment_id": 62154893, "body": "Ok, thanks. I wanted an one liner because this operation will be performed in a shell script. I&#39;ll have to ask the people who will use it about their file size. I think they are up to 100k lines"}, {"owner": {"reputation": 123805, "user_id": 622310, "user_type": "registered", "accept_rate": 33, "profile_image": "https://www.gravatar.com/avatar/8b6d35219e1808520bc238b28161e2e6?s=128&d=identicon&r=PG", "display_name": "Borodin", "link": "https://stackoverflow.com/users/622310/borodin"}, "edited": false, "score": 1, "creation_date": 1463649736, "post_id": 37317248, "comment_id": 62157640, "body": "@Patrik: That is tiny, and will only occupy around 1MB of memory maximum"}], "answers": [{"comments": [{"owner": {"reputation": 825, "user_id": 395222, "user_type": "registered", "accept_rate": 73, "profile_image": "https://www.gravatar.com/avatar/4dac21aea5a5fb6051dc78a582dfcee9?s=128&d=identicon&r=PG", "display_name": "Patrik", "link": "https://stackoverflow.com/users/395222/patrik"}, "edited": false, "score": 0, "creation_date": 1463903960, "post_id": 37317892, "comment_id": 62255542, "body": "Yes, in the end this one liner is the solution I adopted"}], "tags": [], "owner": {"reputation": 123805, "user_id": 622310, "user_type": "registered", "accept_rate": 33, "profile_image": "https://www.gravatar.com/avatar/8b6d35219e1808520bc238b28161e2e6?s=128&d=identicon&r=PG", "display_name": "Borodin", "link": "https://stackoverflow.com/users/622310/borodin"}, "is_accepted": true, "score": 3, "last_activity_date": 1467562813, "last_edit_date": 1467562813, "creation_date": 1463646671, "answer_id": 37317892, "question_id": 37317248, "link": "https://stackoverflow.com/questions/37317248/combine-continuation-lines-starting-with/37317892#37317892", "title": "Combine continuation lines starting with &quot;+&quot;", "body": "<p>Presumably these are relatively small files and so will easily fit into memory?</p>\n\n<p>This is the simplest way</p>\n\n<pre class=\"lang-perl prettyprint-override\"><code>use strict;\nuse warnings 'all';\n\nmy $data = do {\n    local $/;\n    &lt;DATA&gt;;\n};\n\n$data =~ s/\\n\\+//g;\n\nprint $data;\n\n__DATA__\nabc\ndef\n+ ghj\nklm\n</code></pre>\n\n<h3>output</h3>\n\n<pre class=\"lang-none prettyprint-override\"><code>abc\ndef ghj\nklm\n</code></pre>\n\n<p>In a Perl one-liner that would be</p>\n\n<pre><code>perl -0777 -pe 's/\\n\\+//g' &lt; input\n</code></pre>\n"}, {"comments": [{"owner": {"reputation": 825, "user_id": 395222, "user_type": "registered", "accept_rate": 73, "profile_image": "https://www.gravatar.com/avatar/4dac21aea5a5fb6051dc78a582dfcee9?s=128&d=identicon&r=PG", "display_name": "Patrik", "link": "https://stackoverflow.com/users/395222/patrik"}, "edited": false, "score": 0, "creation_date": 1463904274, "post_id": 37321136, "comment_id": 62255619, "body": "I assume this will keep reading lines until it finds a \\n+. Then it removes it and print the chomped &quot;row&quot;. Original \\n are kept so lined that should not be joined are not joined in the print. Is this corrent? BTW, shouldn&#39;t \\n+ match &quot;one or more \\n&quot;?"}, {"owner": {"reputation": 123805, "user_id": 622310, "user_type": "registered", "accept_rate": 33, "profile_image": "https://www.gravatar.com/avatar/8b6d35219e1808520bc238b28161e2e6?s=128&d=identicon&r=PG", "display_name": "Borodin", "link": "https://stackoverflow.com/users/622310/borodin"}, "reply_to_user": {"reputation": 825, "user_id": 395222, "user_type": "registered", "accept_rate": 73, "profile_image": "https://www.gravatar.com/avatar/4dac21aea5a5fb6051dc78a582dfcee9?s=128&d=identicon&r=PG", "display_name": "Patrik", "link": "https://stackoverflow.com/users/395222/patrik"}, "edited": false, "score": 0, "creation_date": 1463904629, "post_id": 37321136, "comment_id": 62255728, "body": "@Patrik The contents of <code>$&#47;</code> are a simple string, not a regex pattern"}, {"owner": {"reputation": 83048, "user_id": 2255089, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/ZNAsT.jpg?s=128&g=1", "display_name": "Casimir et Hippolyte", "link": "https://stackoverflow.com/users/2255089/casimir-et-hippolyte"}, "reply_to_user": {"reputation": 825, "user_id": 395222, "user_type": "registered", "accept_rate": 73, "profile_image": "https://www.gravatar.com/avatar/4dac21aea5a5fb6051dc78a582dfcee9?s=128&d=identicon&r=PG", "display_name": "Patrik", "link": "https://stackoverflow.com/users/395222/patrik"}, "edited": false, "score": 0, "creation_date": 1463914696, "post_id": 37321136, "comment_id": 62258352, "body": "@Patrik: yes it is. As mentioned by Borodin <code>\\n+</code> is indeed a string with two literal characters, not a regex pattern. The main advantage of this method is that the whole file isn&#39;t loaded in memory, but is read paragraph by paragraph. It can be useful for large files. <i>(except for giant paragraphs, but you can have the same problem reading a file line by line)</i>"}], "tags": [], "owner": {"reputation": 83048, "user_id": 2255089, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/ZNAsT.jpg?s=128&g=1", "display_name": "Casimir et Hippolyte", "link": "https://stackoverflow.com/users/2255089/casimir-et-hippolyte"}, "is_accepted": false, "score": 2, "last_activity_date": 1463915196, "last_edit_date": 1463915196, "creation_date": 1463655336, "answer_id": 37321136, "question_id": 37317248, "link": "https://stackoverflow.com/questions/37317248/combine-continuation-lines-starting-with/37321136#37321136", "title": "Combine continuation lines starting with &quot;+&quot;", "body": "<p>You can change the input record separator <code>$/</code> to the string <code>\"\\n+\"</code> <em>(or <code>\"\\r\\n+\"</code> for a Windows file)</em>, then you only need to chomp each records:</p>\n\n<pre><code>perl -pe 'BEGIN{$/=\"\\n+\"}chomp' file\n</code></pre>\n"}, {"comments": [{"owner": {"reputation": 825, "user_id": 395222, "user_type": "registered", "accept_rate": 73, "profile_image": "https://www.gravatar.com/avatar/4dac21aea5a5fb6051dc78a582dfcee9?s=128&d=identicon&r=PG", "display_name": "Patrik", "link": "https://stackoverflow.com/users/395222/patrik"}, "edited": false, "score": 0, "creation_date": 1463904300, "post_id": 37338883, "comment_id": 62255630, "body": "Yes, thanks. I knew about the -i option, as with sed"}, {"owner": {"reputation": 308, "user_id": 1986828, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/96txi.jpg?s=128&g=1", "display_name": "Amias", "link": "https://stackoverflow.com/users/1986828/amias"}, "edited": false, "score": 0, "creation_date": 1463989203, "post_id": 37338883, "comment_id": 62280443, "body": "This is the most correct answer because inline replace is more efficient because it only loads what it needs"}], "tags": [], "owner": {"reputation": 191, "user_id": 6108023, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/9df32fc148979b199f947b3ac80a7c90?s=128&d=identicon&r=PG&f=1", "display_name": "Jay.Zhao", "link": "https://stackoverflow.com/users/6108023/jay-zhao"}, "is_accepted": false, "score": 1, "last_activity_date": 1463723577, "creation_date": 1463723577, "answer_id": 37338883, "question_id": 37317248, "link": "https://stackoverflow.com/questions/37317248/combine-continuation-lines-starting-with/37338883#37338883", "title": "Combine continuation lines starting with &quot;+&quot;", "body": "<p>@Borodin has provided a good solution for your question. Besides, if you need to update that into the old file , just add \"-i\": </p>\n\n<pre><code>perl -0777 -i -pe 's/\\n\\+//g' input\n</code></pre>\n\n<p>or if you want to keep an source file as backup ,use:</p>\n\n<pre><code>perl -0777 -i.bak -pe 's/\\n\\+//g' input\n</code></pre>\n\n<p>this will generate a file named input.bak in case you want to recovery. </p>\n"}], "owner": {"reputation": 825, "user_id": 395222, "user_type": "registered", "accept_rate": 73, "profile_image": "https://www.gravatar.com/avatar/4dac21aea5a5fb6051dc78a582dfcee9?s=128&d=identicon&r=PG", "display_name": "Patrik", "link": "https://stackoverflow.com/users/395222/patrik"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 127, "favorite_count": 1, "accepted_answer_id": 37317892, "answer_count": 3, "score": 2, "last_activity_date": 1467562813, "creation_date": 1463644742, "last_edit_date": 1463649673, "question_id": 37317248, "link": "https://stackoverflow.com/questions/37317248/combine-continuation-lines-starting-with", "title": "Combine continuation lines starting with &quot;+&quot;", "body": "<p>I know this is a question that was asked many times, I didn't find an answer that answers my specific question.</p>\n\n<p>Essentially, I have an input file where some lines begin with a <code>+</code> string. These lines must be appended at the end of the previous line and the <code>+</code> character must be removed. So</p>\n\n<pre><code>abc\ndef\n+ ghj\nklm\n</code></pre>\n\n<p>should become</p>\n\n<pre><code>abc\ndef ghj\nklm\n</code></pre>\n\n<p>This is the perl command I crafted by looking at other answers</p>\n\n<pre><code>perl -pe 's/\\n\\+ //m' &lt; input\n</code></pre>\n\n<p>but it prints the input file without changing it. The odd thing is that, on websites like <a href=\"https://regex101.com/\" rel=\"nofollow\">regex101.com</a>, my regex produces the expected result.</p>\n\n<p>What am I missing?</p>\n"}, {"tags": ["perl"], "answers": [{"tags": [], "owner": {"reputation": 5455, "user_id": 3961170, "user_type": "registered", "accept_rate": 73, "profile_image": "https://i.stack.imgur.com/PtFol.jpg?s=128&g=1", "display_name": "mkHun", "link": "https://stackoverflow.com/users/3961170/mkhun"}, "is_accepted": false, "score": 3, "last_activity_date": 1463643066, "last_edit_date": 1463643066, "creation_date": 1463642253, "answer_id": 37316392, "question_id": 37316159, "link": "https://stackoverflow.com/questions/37316159/what-does-k2kodc-1-do-in-perl/37316392#37316392", "title": "what does &quot;$K2ko{$D}{$C} = 1&quot; do in perl?", "body": "<p>This is called a <a href=\"http://perldoc.perl.org/perldsc.html#HASHES-OF-HASHES\" rel=\"nofollow\">hash of hashes</a>, which gives you a multidimensional hash. Here, \"1\" is the value for the above mentioned hash key.</p>\n\n<p>Try to use <a href=\"http://search.cpan.org/~smueller/Data-Dumper-2.154/Dumper.pm\" rel=\"nofollow\">Data::Dumper</a> for know the structure of your data.</p>\n\n<pre><code>use Data::Dumper;\nmy %K2ko;\nmy $D = \"val1\";\nmy $C = \"val2\";\n$K2ko{$D}{$C} = 1;\nprint Dumper \\%K2ko;\n</code></pre>\n\n<p>Output</p>\n\n<pre><code>$VAR1 = {\n          'val1' =&gt; {\n                      'val2' =&gt; 1\n                    }\n        };\n</code></pre>\n"}, {"comments": [{"owner": {"reputation": 116, "user_id": 6037276, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/c5db32b4fd2fbb593a5997ca0ff9a67b?s=128&d=identicon&r=PG&f=1", "display_name": "ginkgo", "link": "https://stackoverflow.com/users/6037276/ginkgo"}, "edited": false, "score": 0, "creation_date": 1463710302, "post_id": 37316766, "comment_id": 62191279, "body": "May I assign any &#39;int&#39; or &#39;string&#39; to <code>$K2ko{$D}{$C}</code>, such as <code>$K2ko{$D}{$C}=2;</code> <code>$K2ko{$D}{$C}=a</code> and so on? Is that OK?"}, {"owner": {"reputation": 5455, "user_id": 3961170, "user_type": "registered", "accept_rate": 73, "profile_image": "https://i.stack.imgur.com/PtFol.jpg?s=128&g=1", "display_name": "mkHun", "link": "https://stackoverflow.com/users/3961170/mkhun"}, "reply_to_user": {"reputation": 116, "user_id": 6037276, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/c5db32b4fd2fbb593a5997ca0ff9a67b?s=128&d=identicon&r=PG&f=1", "display_name": "ginkgo", "link": "https://stackoverflow.com/users/6037276/ginkgo"}, "edited": false, "score": 0, "creation_date": 1463712658, "post_id": 37316766, "comment_id": 62191768, "body": "@user6037276 yep. We use string or integer. But if you use string use quotes for interpolation for example <code>$K2ko{$D}{$C}=&quot;a&quot;;</code>"}], "tags": [], "owner": {"reputation": 44607, "user_id": 833073, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/7b2e4376123477a31727c54096d1d117?s=128&d=identicon&r=PG", "display_name": "fthiella", "link": "https://stackoverflow.com/users/833073/fthiella"}, "is_accepted": true, "score": 2, "last_activity_date": 1463643317, "creation_date": 1463643317, "answer_id": 37316766, "question_id": 37316159, "link": "https://stackoverflow.com/questions/37316159/what-does-k2kodc-1-do-in-perl/37316766#37316766", "title": "what does &quot;$K2ko{$D}{$C} = 1&quot; do in perl?", "body": "<p>Using your sample data:</p>\n\n<pre><code>if (/^A&lt;b&gt;(.+)&lt;\\/b&gt;/) {$A=$1;}\n</code></pre>\n\n<p>sets <code>$A</code> to <code>'Metabolism'</code></p>\n\n<pre><code>elsif (/^B\\s+&lt;b&gt;(.+)&lt;\\/b&gt;/) {$B=$1;}\n</code></pre>\n\n<p>sets <code>$B</code> to <code>'Overview'</code></p>\n\n<pre><code>elsif (/^C\\s+\\d+\\s+(.+)\\s+\\[PATH:(ko\\d+)\\]/) {...}\n</code></pre>\n\n<p>sets <code>$path_DESC</code> to <code>'Carbon metabolism'</code>, <code>$C</code> to <code>'ko01200'</code> and the hash</p>\n\n<pre><code>$ko2desc{'ko01200'} = \"Metabolism\\tOverview\\tCarbon metabolism\"\n</code></pre>\n\n<p>and finally</p>\n\n<pre><code>elsif (/^D\\s+(K\\d+)\\s+(.*)/) {...}\n</code></pre>\n\n<p>will set</p>\n\n<pre><code>$D='K12407';\n$KO_DESC='GCK; glucokinase [EC:2.7.1.2]';\n$K2ko{'K12407'}{'ko01200'} = 1;\n$K2DESC{'K12407'} = 'GCK; glucokinase [EC:2.7.1.2]';\n</code></pre>\n\n<p><code>$K2ko</code> is an hash of hashes, setting it to 1 you can easily see where the component <code>K12407</code> is used:</p>\n\n<pre><code>print join ',', keys %{$K2ko{'K12407'}};\n</code></pre>\n"}], "owner": {"reputation": 116, "user_id": 6037276, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/c5db32b4fd2fbb593a5997ca0ff9a67b?s=128&d=identicon&r=PG&f=1", "display_name": "ginkgo", "link": "https://stackoverflow.com/users/6037276/ginkgo"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 107, "favorite_count": 0, "accepted_answer_id": 37316766, "answer_count": 2, "score": 0, "last_activity_date": 1463643317, "creation_date": 1463641549, "question_id": 37316159, "link": "https://stackoverflow.com/questions/37316159/what-does-k2kodc-1-do-in-perl", "title": "what does &quot;$K2ko{$D}{$C} = 1&quot; do in perl?", "body": "<pre><code>cat inputfile\nA&lt;b&gt;Metabolism&lt;/b&gt;\nB\nB  &lt;b&gt;Overview&lt;/b&gt;\nC    01200 Carbon metabolism [PATH:ko01200]\nD      K00844  HK; hexokinase [EC:2.7.1.1]\nD      K12407  GCK; glucokinase [EC:2.7.1.2]\n...\n</code></pre>\n\n<p>#</p>\n\n<pre><code>open KO,'&lt;',\"inputfile\" or die $!;\nmy ($A,$B,$C,$D,$path_DESC,$KO_DESC);\nmy %K2ko; my %K2DESC; my %ko2desc;\nwhile (&lt;KO&gt;) {\n    if (/^A&lt;b&gt;(.+)&lt;\\/b&gt;/) {$A=$1;}\n    elsif (/^B\\s+&lt;b&gt;(.+)&lt;\\/b&gt;/) {$B=$1;}\n    elsif (/^C\\s+\\d+\\s+(.+)\\s+\\[PATH:(ko\\d+)\\]/) {\n        $path_DESC=$1;\n        $C=$2;\n        $ko2desc{$C} = \"$A\\t$B\\t$path_DESC\";\n    }\n    elsif (/^D\\s+(K\\d+)\\s+(.*)/) {\n        $D=$1;\n        $KO_DESC=$2;\n        $K2ko{$D}{$C} = 1;\n        $K2DESC{$D} = $KO_DESC;\n    }\n}\nclose KO;\n</code></pre>\n\n<p>#</p>\n\n<p>Could anyone would like to tell me what does  \"$K2ko{$D}{$C} = 1\"  do in the perl script?</p>\n\n<p>Thank you for any advice.</p>\n"}, {"tags": ["perl", "matching"], "answers": [{"comments": [{"owner": {"reputation": 697, "user_id": 5449244, "user_type": "registered", "accept_rate": 84, "profile_image": "https://www.gravatar.com/avatar/131ad184c67440a0a499852f247b4ea6?s=128&d=identicon&r=PG&f=1", "display_name": "onlyf", "link": "https://stackoverflow.com/users/5449244/onlyf"}, "edited": false, "score": 0, "creation_date": 1463647711, "post_id": 37316284, "comment_id": 62156199, "body": "is there a way to reverse that if statement, basicly - if the condition doesnt apply, print the line, i tried a !=~, got no error, but clearly did not work. I also tried if not. Basicly, dont print the line if there&#39;s a * after the 3rd delimiter."}, {"owner": {"reputation": 5334, "user_id": 5830574, "user_type": "registered", "accept_rate": 93, "profile_image": "https://i.stack.imgur.com/kCmqs.png?s=128&g=1", "display_name": "PerlDuck", "link": "https://stackoverflow.com/users/5830574/perlduck"}, "reply_to_user": {"reputation": 697, "user_id": 5449244, "user_type": "registered", "accept_rate": 84, "profile_image": "https://www.gravatar.com/avatar/131ad184c67440a0a499852f247b4ea6?s=128&d=identicon&r=PG&f=1", "display_name": "onlyf", "link": "https://stackoverflow.com/users/5449244/onlyf"}, "edited": false, "score": 1, "creation_date": 1463649573, "post_id": 37316284, "comment_id": 62157512, "body": "@onlyf To revert the <code>if</code> statement use either <code>unless</code> instead of <code>if</code> (which I don&#39;t recommend because of its ugliness) or use <code>!~</code> instead of <code>=~</code>."}, {"owner": {"reputation": 53041, "user_id": 4653379, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/b3953dbedd0dabff5cbc3db9b0835b14?s=128&d=identicon&r=PG&f=1", "display_name": "zdim", "link": "https://stackoverflow.com/users/4653379/zdim"}, "reply_to_user": {"reputation": 697, "user_id": 5449244, "user_type": "registered", "accept_rate": 84, "profile_image": "https://www.gravatar.com/avatar/131ad184c67440a0a499852f247b4ea6?s=128&d=identicon&r=PG&f=1", "display_name": "onlyf", "link": "https://stackoverflow.com/users/5449244/onlyf"}, "edited": false, "score": 0, "creation_date": 1463649990, "post_id": 37316284, "comment_id": 62157847, "body": "@onlyf  As PerlDog says, you can use <code>!~</code>, so the <code>if</code> evaluates true if there is no match.  You can also negate it explicitly, <code>if (not  &#47;regex&#47;)</code> (or use <code>unless</code> as PerlDog says)."}, {"owner": {"reputation": 697, "user_id": 5449244, "user_type": "registered", "accept_rate": 84, "profile_image": "https://www.gravatar.com/avatar/131ad184c67440a0a499852f247b4ea6?s=128&d=identicon&r=PG&f=1", "display_name": "onlyf", "link": "https://stackoverflow.com/users/5449244/onlyf"}, "edited": false, "score": 0, "creation_date": 1463651971, "post_id": 37316284, "comment_id": 62159294, "body": "Thank you both. I really appreciate the help."}], "tags": [], "owner": {"reputation": 53041, "user_id": 4653379, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/b3953dbedd0dabff5cbc3db9b0835b14?s=128&d=identicon&r=PG&f=1", "display_name": "zdim", "link": "https://stackoverflow.com/users/4653379/zdim"}, "is_accepted": true, "score": 2, "last_activity_date": 1463643097, "last_edit_date": 1463643097, "creation_date": 1463641946, "answer_id": 37316284, "question_id": 37315985, "link": "https://stackoverflow.com/questions/37315985/grabbing-one-character-after-the-nth-pattern-match-perl/37316284#37316284", "title": "Grabbing one character after the Nth pattern match - PERL", "body": "<p>You can do it simply by <code>split</code>-ing on <code>;</code>, then checking the first character of the required field.</p>\n\n<pre><code>use strict;\nuse warnings;\n\nmy $char = '*';\nmy $nth = 3;\n\nmy $file = 'data_delim.txt';\nopen my $fh, '&lt;', $file or die \"Cannot open $file -- $!\";\n\nwhile (my $line = &lt;$fh&gt;) \n{\n    my @fields = split ';', $line, $nth+1;\n\n    if ($fields[$nth] =~ m/^\\Q$char/) {\n        print $line;\n    }   \n}\n</code></pre>\n\n<p>The <code>$nth</code> above stands for \"Nth\" specification, <code>3</code> in the question example.  We tell <a href=\"http://perldoc.perl.org/functions/split.html\" rel=\"nofollow\"><code>split</code></a> to take only the needed N+1 elements, by passing the last argument. The <code>\\Q</code> escapes the <code>*</code>, denying it its special meaning. See <a href=\"http://perldoc.perl.org/functions/quotemeta.html\" rel=\"nofollow\">quotemeta</a>.  You can pick only the field needed for the check and shorten the loop body to </p>\n\n<pre><code>print $line if (split ';', $line)[3] =~ m/^\\Q$char/; # or /\\*/\n</code></pre>\n\n<p>I suspect that there may be more involved in the question and keep all preceding terms.</p>\n\n<p>For the input file <code>data_delim.txt</code> with shown input this prints</p>\n\n<pre>\n1112283569;AOEEEEAOAO.;*;*;;0.00;0.;;;;;;;;;00;0.00;0.00;79149449.66;0.00;79149449.66;0.00;79149\n;CONE:;*;*;;0.00;0.00;0.00;0.00;79149449.66;0.00;79149449.66;0.00;;;79149449.66;0.00\n</pre>\n\n<p>I used sample input and output as I didn't fully understand the description.  I can only hope that this is a correct interpretation of the question.</p>\n"}], "owner": {"reputation": 697, "user_id": 5449244, "user_type": "registered", "accept_rate": 84, "profile_image": "https://www.gravatar.com/avatar/131ad184c67440a0a499852f247b4ea6?s=128&d=identicon&r=PG&f=1", "display_name": "onlyf", "link": "https://stackoverflow.com/users/5449244/onlyf"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 51, "favorite_count": 0, "accepted_answer_id": 37316284, "answer_count": 1, "score": 1, "last_activity_date": 1463643138, "creation_date": 1463641083, "last_edit_date": 1463643138, "question_id": 37315985, "link": "https://stackoverflow.com/questions/37315985/grabbing-one-character-after-the-nth-pattern-match-perl", "title": "Grabbing one character after the Nth pattern match - PERL", "body": "<p>i have a sample file that is structured like below, and i would like to perform some operations on it :    </p>\n\n<pre><code>1112283569;AOEEEEAOAO.;300012299419;0030000302;ALLE;0.00;0.00;0.00;0.00;79149449.66;0.00;7914944\n1112283569;AOEEEEAOAO.;300012;;;;AAAAA299419;*;;0.00;0.00;0.00;0.00;79149449.66;0.00;79149449.66\n1112283569;AOEEEEAOAO.;*;*;;0.00;0.;;;;;;;;;00;0.00;0.00;79149449.66;0.00;79149449.66;0.00;79149\n*;CON;*;0030000302;\u0391LLEO;0.00;0.00;0.00;0.00;79149449.66;0.00;79149449.66;0.00;79149449.66;0.00\n;CONE:;*;*;;0.00;0.00;0.00;0.00;79149449.66;0.00;79149449.66;0.00;;;79149449.66;0.00\n</code></pre>\n\n<p>I m trying to come up with a solution for this. I need to read a file that looks like the one above,\ndelimited by ';' and i need to run a check on the character after the 3rd delimiter on each line at a time. It will not be in a \nstatic column, so i need some way to capture the character after the nth delimiter (;), i might be able do this with a regex (i think.) </p>\n\n<p>Ie, for the above output :</p>\n\n<p>Line 1 - Doesnt meet condition\nLine 2 - Doesnt meet condition\nLine 3 - Meets condition\nLine 4 - Doesnt meet condition\nLine 5 - Meets condition</p>\n\n<p>Finally it would output something like : </p>\n\n<pre><code>1112283569;AOEEEEAOAO.;*;*;;0.00;0.;;;;;;;;;00;0.00;0.00;79149449.66;0.00;79149449.66;0.00;79149\n;CONE:;*;*;;0.00;0.00;0.00;0.00;79149449.66;0.00;79149449.66;0.00;;;79149449.66;0.00\n</code></pre>\n\n<p>(Only the lines where the first character after the third delimiter is *)\nI ve found this type of regex, but i m not sure it would apply in this situation? : </p>\n\n<pre><code>   /\\%(^\\%([^ ]* \\)\\{6\\}\\)\\@&lt;=.\n</code></pre>\n"}, {"tags": ["perl"], "comments": [{"owner": {"reputation": 28990, "user_id": 1114966, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/af8712b05e5cfb862323a07c83749054?s=128&d=identicon&r=PG", "display_name": "squiguy", "link": "https://stackoverflow.com/users/1114966/squiguy"}, "edited": false, "score": 1, "creation_date": 1463639779, "post_id": 37315424, "comment_id": 62151118, "body": "Don&#39;t forget to <code>use strict; use warnings;</code>"}], "answers": [{"comments": [{"owner": {"reputation": 50468, "user_id": 1331451, "user_type": "registered", "accept_rate": 96, "profile_image": "https://i.stack.imgur.com/4ZPmj.png?s=128&g=1", "display_name": "simbabque", "link": "https://stackoverflow.com/users/1331451/simbabque"}, "edited": false, "score": 0, "creation_date": 1463640793, "post_id": 37315774, "comment_id": 62151667, "body": "You were actually faster :)"}, {"owner": {"reputation": 3327, "user_id": 1604311, "user_type": "registered", "accept_rate": 73, "profile_image": "https://i.stack.imgur.com/0frKT.jpg?s=128&g=1", "display_name": "Arunesh Singh", "link": "https://stackoverflow.com/users/1604311/arunesh-singh"}, "reply_to_user": {"reputation": 50468, "user_id": 1331451, "user_type": "registered", "accept_rate": 96, "profile_image": "https://i.stack.imgur.com/4ZPmj.png?s=128&g=1", "display_name": "simbabque", "link": "https://stackoverflow.com/users/1331451/simbabque"}, "edited": false, "score": 0, "creation_date": 1463641042, "post_id": 37315774, "comment_id": 62151823, "body": "Yes, verily I was :). But, you were more precise."}], "tags": [], "owner": {"reputation": 3327, "user_id": 1604311, "user_type": "registered", "accept_rate": 73, "profile_image": "https://i.stack.imgur.com/0frKT.jpg?s=128&g=1", "display_name": "Arunesh Singh", "link": "https://stackoverflow.com/users/1604311/arunesh-singh"}, "is_accepted": false, "score": 3, "last_activity_date": 1463641170, "last_edit_date": 1463641170, "creation_date": 1463640456, "answer_id": 37315774, "question_id": 37315424, "link": "https://stackoverflow.com/questions/37315424/how-to-access-global-variable-in-subroutine/37315774#37315774", "title": "How to access global variable in subroutine", "body": "<p>You need to declare a package variable instead of lexical variable using <a href=\"http://perldoc.perl.org/functions/our.html\" rel=\"nofollow\"><code>our</code></a>. Inside a subroutine you need to fully qualify it to address it. If you need to share variables across packages you should use our. </p>\n\n<p><a href=\"http://perldoc.perl.org/functions/my.html\" rel=\"nofollow\"><code>my</code></a> declares the variable in lexical scope. So, the variable dies once it is out of scope. These variables are also private and can't be acessed by other packages.</p>\n\n<pre><code>#!/usr/bin/perl\nuse strict;\nuse warnings;\n\nour $name = \"Krishna\";\n\nsub printName {\n    my $name = \"Sankalp\";\n    print ( \"Local \\$name: \", $name,\"\\n\" );\n    print ( \"Global \\$name: \", $main::name, \"\\n\" ); # or $::name inside the same package\n}\n\nprintName;\nprint( \"Global name : \", $name, \"\\n\" );\n</code></pre>\n"}, {"comments": [{"owner": {"reputation": 3514, "user_id": 4007560, "user_type": "registered", "accept_rate": 78, "profile_image": "https://www.gravatar.com/avatar/1162aef118e8e02c61cb16e2ec3778ab?s=128&d=identicon&r=PG&f=1", "display_name": "Robin Hsu", "link": "https://stackoverflow.com/users/4007560/robin-hsu"}, "edited": false, "score": 0, "creation_date": 1531531071, "post_id": 37315788, "comment_id": 89644194, "body": "Does not work.  Got error  <code>Variable &quot;$name&quot; is not imported at xxx.pl  line yy</code>"}, {"owner": {"reputation": 3514, "user_id": 4007560, "user_type": "registered", "accept_rate": 78, "profile_image": "https://www.gravatar.com/avatar/1162aef118e8e02c61cb16e2ec3778ab?s=128&d=identicon&r=PG&f=1", "display_name": "Robin Hsu", "link": "https://stackoverflow.com/users/4007560/robin-hsu"}, "edited": false, "score": 0, "creation_date": 1531531704, "post_id": 37315788, "comment_id": 89644256, "body": "Forget to mention: not working if  &quot;use strict&quot; is used."}, {"owner": {"reputation": 50468, "user_id": 1331451, "user_type": "registered", "accept_rate": 96, "profile_image": "https://i.stack.imgur.com/4ZPmj.png?s=128&g=1", "display_name": "simbabque", "link": "https://stackoverflow.com/users/1331451/simbabque"}, "reply_to_user": {"reputation": 3514, "user_id": 4007560, "user_type": "registered", "accept_rate": 78, "profile_image": "https://www.gravatar.com/avatar/1162aef118e8e02c61cb16e2ec3778ab?s=128&d=identicon&r=PG&f=1", "display_name": "Robin Hsu", "link": "https://stackoverflow.com/users/4007560/robin-hsu"}, "edited": false, "score": 0, "creation_date": 1531541615, "post_id": 37315788, "comment_id": 89645523, "body": "@RobinHsu how did you declare that variable? The error indicates you didn&#39;t. Also, what Perl version is this?"}], "tags": [], "owner": {"reputation": 50468, "user_id": 1331451, "user_type": "registered", "accept_rate": 96, "profile_image": "https://i.stack.imgur.com/4ZPmj.png?s=128&g=1", "display_name": "simbabque", "link": "https://stackoverflow.com/users/1331451/simbabque"}, "is_accepted": true, "score": 7, "last_activity_date": 1463640481, "creation_date": 1463640481, "answer_id": 37315788, "question_id": 37315424, "link": "https://stackoverflow.com/questions/37315424/how-to-access-global-variable-in-subroutine/37315788#37315788", "title": "How to access global variable in subroutine", "body": "<p>If your <em>global</em> variable is in fact a package variable, you can access it through the package namespace. The default package is <code>main</code>.</p>\n\n<pre><code>print \"Local name : $main::name\\n\";\n</code></pre>\n\n<p>Since you're staying in the same namespace, you can omit the <code>main</code>, so <code>$::name</code> works, too. Both solutions <strong>do not work</strong> if your outside variable was also defined using <code>my</code>.</p>\n\n<p>You can define a package variable with <a href=\"http://perldoc.perl.org/functions/our.html\"><code>our</code></a> or via <code>use names qw($name)</code>.</p>\n\n<hr>\n\n<p>That said, you should never do that. Always use lexical variables, and put them in the smallest scope possible. <code>use strict</code> and <code>use warnings</code> will help you, and there is <a href=\"https://metacpan.org/pod/Perl::Critic::Policy::Variables::ProhibitReusedNames\">a Perl::Critic rules that complains</a> if you define a variable with the same name as an existing one in a smaller scope.</p>\n"}], "owner": {"reputation": 2579, "user_id": 3302424, "user_type": "registered", "accept_rate": 70, "profile_image": "https://www.gravatar.com/avatar/70d64f2369ad3cfd0d9271792bdccf3c?s=128&d=identicon&r=PG&f=1", "display_name": "Hari Krishna", "link": "https://stackoverflow.com/users/3302424/hari-krishna"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 6281, "favorite_count": 0, "accepted_answer_id": 37315788, "answer_count": 2, "score": 3, "last_activity_date": 1463641170, "creation_date": 1463639337, "question_id": 37315424, "link": "https://stackoverflow.com/questions/37315424/how-to-access-global-variable-in-subroutine", "title": "How to access global variable in subroutine", "body": "<p>Suppose, my global variable and local variables has same name, how can i access the global variable value in subroutine?</p>\n\n<pre><code>#! /usr/bin/perl\n\n$name = \"Krishna\";\n\nsub printName{\n my $name = \"Sankalp\";\n\n print (\"Local name : \", $name, \"\\n\");\n # How to print global variable here\n}\n\n&amp;printName;\nprint(\"Global name : \", $name, \"\\n\");\n</code></pre>\n"}, {"tags": ["perl", "system"], "comments": [{"owner": {"reputation": 4644, "user_id": 1431720, "user_type": "registered", "accept_rate": 89, "profile_image": "https://www.gravatar.com/avatar/f5a1388d4d3b2bf03b11bb5658c68c29?s=128&d=identicon&r=PG", "display_name": "Robert", "link": "https://stackoverflow.com/users/1431720/robert"}, "edited": false, "score": 0, "creation_date": 1463630373, "post_id": 37313560, "comment_id": 62148023, "body": "What happens when you just print the password? <code>system(&quot;echo $password&quot;)</code>?"}, {"owner": {"reputation": 5375, "user_id": 1254208, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/8cc39122a90bc586faa0804b7ddf823d?s=128&d=identicon&r=PG", "display_name": "GregHNZ", "link": "https://stackoverflow.com/users/1254208/greghnz"}, "edited": false, "score": 0, "creation_date": 1463631380, "post_id": 37313560, "comment_id": 62148243, "body": "Have you verified that this will actually works in bash?  - i.e. without perl.  Some apps that I&#39;ve come across do something funky with passwords and won&#39;t pick up stuff using that format.  So open bash and just run <code>echo TheRealPassword | hdiutil create -size 200g -type SPARSEBUNDLE -encryption -stdinpass -volname \\&quot;Encrypted Storage for Matt\\&quot; -fs \\&quot;Case-sensitive Journaled HFS+\\&quot; -verbose ~&#47;Desktop&#47;SparseBundle</code>"}, {"owner": {"reputation": 320771, "user_id": 589924, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/b2cf53d5a3d25f95c0db4e025aed4153?s=128&d=identicon&r=PG", "display_name": "ikegami", "link": "https://stackoverflow.com/users/589924/ikegami"}, "reply_to_user": {"reputation": 5375, "user_id": 1254208, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/8cc39122a90bc586faa0804b7ddf823d?s=128&d=identicon&r=PG", "display_name": "GregHNZ", "link": "https://stackoverflow.com/users/1254208/greghnz"}, "edited": false, "score": 0, "creation_date": 1463634069, "post_id": 37313560, "comment_id": 62148944, "body": "@GregHNZ, Why? That&#39;s not what&#39;s he&#39;s passing to the shell using Perl."}, {"owner": {"reputation": 320771, "user_id": 589924, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/b2cf53d5a3d25f95c0db4e025aed4153?s=128&d=identicon&r=PG", "display_name": "ikegami", "link": "https://stackoverflow.com/users/589924/ikegami"}, "edited": false, "score": 0, "creation_date": 1463634167, "post_id": 37313560, "comment_id": 62148976, "body": "@Matt O., The reason it takes the password via STDIN instead of as an argument is that commands are visible to other users on the machine. Use IPC::Run3&#39;s <code>run3</code> to do it right"}, {"owner": {"reputation": 907, "user_id": 6146688, "user_type": "registered", "accept_rate": 80, "profile_image": "https://www.gravatar.com/avatar/8f262dda91bdff7ff11cf7762124764d?s=128&d=identicon&r=PG", "display_name": "Paul L", "link": "https://stackoverflow.com/users/6146688/paul-l"}, "edited": false, "score": 0, "creation_date": 1463659470, "post_id": 37313560, "comment_id": 62164593, "body": "put <code>print $password;</code> right after you do <code>$password = chomp($password);</code>   Is that what you expected it to be?"}, {"owner": {"reputation": 266, "user_id": 5854293, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/e0af3a813548edea0fe73e9ccba14f25?s=128&d=identicon&r=PG", "display_name": "Matt O.", "link": "https://stackoverflow.com/users/5854293/matt-o"}, "reply_to_user": {"reputation": 5375, "user_id": 1254208, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/8cc39122a90bc586faa0804b7ddf823d?s=128&d=identicon&r=PG", "display_name": "GregHNZ", "link": "https://stackoverflow.com/users/1254208/greghnz"}, "edited": false, "score": 0, "creation_date": 1463671438, "post_id": 37313560, "comment_id": 62174329, "body": "@GregHNZ Yes, it works in Bash. I just tested it again."}, {"owner": {"reputation": 839, "user_id": 2261349, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/9e843e82fbb2a5a476808321e72c720c?s=128&d=identicon&r=PG", "display_name": "Znik", "link": "https://stackoverflow.com/users/2261349/znik"}, "edited": false, "score": 0, "creation_date": 1474026704, "post_id": 37313560, "comment_id": 66375959, "body": "We know about password completly nothing. Maybe this has some special characters interpreted by bash. I suggest swap beginning of line: <code>echo $password | into </code>echo \\&#39;$password\\&#39; |   . This is typical bashs&#39; trap for unwary :)"}], "answers": [{"comments": [{"owner": {"reputation": 320771, "user_id": 589924, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/b2cf53d5a3d25f95c0db4e025aed4153?s=128&d=identicon&r=PG", "display_name": "ikegami", "link": "https://stackoverflow.com/users/589924/ikegami"}, "edited": false, "score": 0, "creation_date": 1463634300, "post_id": 37313998, "comment_id": 62149013, "body": "It can also be done without the three extraneous processes and without showing the password to everyone on the machine using <code>use IPC::Run3 qw( run3 ); run3([ &#39;hdutil&#39;, ... ], \\&quot;$password\\0&quot;, \\my $stdout);</code>"}, {"owner": {"reputation": 907, "user_id": 6146688, "user_type": "registered", "accept_rate": 80, "profile_image": "https://www.gravatar.com/avatar/8f262dda91bdff7ff11cf7762124764d?s=128&d=identicon&r=PG", "display_name": "Paul L", "link": "https://stackoverflow.com/users/6146688/paul-l"}, "edited": false, "score": 0, "creation_date": 1463659601, "post_id": 37313998, "comment_id": 62164704, "body": "No, what it&#39;s seeing is <code>&quot;1\\n&quot;</code> because he assigned <code>$password</code> to be the return value of <code>chomp</code>."}, {"owner": {"reputation": 192, "user_id": 5185210, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/DNqsL.png?s=128&g=1", "display_name": "oals", "link": "https://stackoverflow.com/users/5185210/oals"}, "edited": false, "score": 0, "creation_date": 1463662501, "post_id": 37313998, "comment_id": 62166948, "body": "For portability: use <code>printf</code> instead of <code>echo -e</code>"}, {"owner": {"reputation": 266, "user_id": 5854293, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/e0af3a813548edea0fe73e9ccba14f25?s=128&d=identicon&r=PG", "display_name": "Matt O.", "link": "https://stackoverflow.com/users/5854293/matt-o"}, "edited": false, "score": 0, "creation_date": 1463671619, "post_id": 37313998, "comment_id": 62174472, "body": "I&#39;m pretty sure because of the stdinpass that the printf has to be piped to the command. I don&#39;t know if I&#39;m exactly right on that."}, {"owner": {"reputation": 839, "user_id": 2261349, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/9e843e82fbb2a5a476808321e72c720c?s=128&d=identicon&r=PG", "display_name": "Znik", "link": "https://stackoverflow.com/users/2261349/znik"}, "edited": false, "score": 0, "creation_date": 1474026968, "post_id": 37313998, "comment_id": 66376113, "body": "What for that big complication? hdutil can accept end of string by detecting \\0 ending character, or by detecting EOF on stdin. We know nothing about password, maybe in it is included some special sequence or character interpreted by bash. Then I suggest to surround password variable by quotes. it is all what is needed."}, {"owner": {"reputation": 22495, "user_id": 5382650, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/THfCr.png?s=128&g=1", "display_name": "Craig Estey", "link": "https://stackoverflow.com/users/5382650/craig-estey"}, "reply_to_user": {"reputation": 839, "user_id": 2261349, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/9e843e82fbb2a5a476808321e72c720c?s=128&d=identicon&r=PG", "display_name": "Znik", "link": "https://stackoverflow.com/users/2261349/znik"}, "edited": false, "score": 0, "creation_date": 1474050838, "post_id": 37313998, "comment_id": 66390056, "body": "@Znik No, <code>hdiutil</code> <i>requires</i> an EOS [<code>\\0</code>] terminated string--check the documentation. Merely getting EOF is <i>not</i> sufficient. I think you should reread my answer [a few times] as what you&#39;re suggesting was covered."}], "tags": [], "owner": {"reputation": 22495, "user_id": 5382650, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/THfCr.png?s=128&g=1", "display_name": "Craig Estey", "link": "https://stackoverflow.com/users/5382650/craig-estey"}, "is_accepted": true, "score": 1, "last_activity_date": 1463693208, "last_edit_date": 1463693208, "creation_date": 1463632351, "answer_id": 37313998, "question_id": 37313560, "link": "https://stackoverflow.com/questions/37313560/perl-system-call-not-interpretting-variable-correctly/37313998#37313998", "title": "Perl System Call not Interpretting Variable Correctly", "body": "<p>The <code>hdiutil</code> utility requires a null-terminated password.</p>\n\n<p>That is, <code>\"mypass\"</code> isn't good enough. It needs to see <code>\"mypass\\0\"</code> because the password is allowed to contain funny characters like embedded newlines.</p>\n\n<p>So, what it's seeing is <code>\"mypass\\n\"</code> instead of <code>\"mypass\\0\"</code></p>\n\n<p>You <em>could</em> try this as it will work under linux:</p>\n\n<pre><code>echo -n -e \"mypass\\x00\" | hdiutil ...\n</code></pre>\n\n<p>But ... AFAICT, the OSX version of echo doesn't have <code>-e</code>, so you may need to experiment.</p>\n\n<p>If all else fails, replace the <code>echo</code> with:</p>\n\n<pre><code>echo \"mypass\" | perl -e '$_ = &lt;STDIN&gt;; chomp ; print $_,\"\\x00\"'\n</code></pre>\n\n<p>There may be simpler ways to do/express this. You could create a second perl script (call it <code>passme</code>):</p>\n\n<pre><code>#!/usr/bin/perl\nprint $ARGV[0],\"\\x00\";\n</code></pre>\n\n<p>Then replace the <code>echo</code> with <code>passme</code>. I <em>would</em> put double quotes around the argument.</p>\n\n<hr>\n\n<p><strong>UPDATE:</strong></p>\n\n<blockquote>\n  <p>I'm pretty sure because of the stdinpass that the printf has to be piped to the command. I don't know if I'm exactly right on that.</p>\n</blockquote>\n\n<p><code>echo</code> and <code>printf</code> will be piped to the command. But, there are even more ways to do this that I will recommend over those.</p>\n\n<p>As others have mentioned, the cleanest way may be to use <code>IPC::Run3</code>. It's one stop shopping.</p>\n\n<p>But, it may not be installed by default on your system [or other OSX systems]. Dunno--YMMV. You may need to investigate this. So, you might have to install it yourself [from CPAN, I presume(?)]</p>\n\n<p>If your script is <em>only</em> for your own usage, the above may be fine. However, if you're creating the script to be used by others, it may end up on a system that does not have Run3 and the sysadm won't install it.</p>\n\n<p>So, you have to balance ease of use vs ubiquity. That will be <em>your</em> choice.</p>\n\n<p>Run3 sets up <em>both</em> <code>stdin</code> and <code>stdout</code> on the <code>hdiutil</code> command, which is what you need because you want to give it the password <em>and</em> capture its output.</p>\n\n<p>If you only needed one, you could use perl's <code>open</code> function in \"pipe\" mode. See <code>man perlipc</code> for details. It's pretty simple to use. I've got an example for this--see below.</p>\n\n<p>Or, you could \"roll your own\" equivalent of what <code>run3</code> does by using perl's intrinsic <code>pipe</code> call. You would need <em>two</em> pipes. It's a bit of work, so maybe something for the future.</p>\n\n<p>The biggest problem with the <code>echo</code>, <code>printf</code>, [and <code>passme</code>] approaches is [as others pointed out], is that because they use argv to get the password, they \"bleed\" it to other processes [briefly].</p>\n\n<p>So, we'd like to have a method that is secure [e.g. Run3 would be]. That's why <code>hdiutil</code> takes a password on <code>stdin</code> instead of a command line argument.</p>\n\n<hr>\n\n<p>(1) Actually, the simplest way may be to dump the password to a temp file:</p>\n\n<pre><code>use Fcntl;\n\nmy $fd;\nmy $tmp = \"/tmp/pwfile\";\n\nmy $password = \"whatever\";\n\n# NOTE: by using sysopen and setting the 600 permission atomically, we avoid a\n# race condition that may allow another user to open this file\nunlink($tmp);\nsysopen($fd,$tmp,O_WRONLY | O_CREAT | O_EXCL,0600) or\n    die(\"unable to open '$tmp' -- $!\\n\");\nsyswrite($fd,$password . \"\\x00\");\nclose($fd)\n\nmy $cmd = `hdiutil ... &lt; $tmp`;\nunlink($tmp);\n</code></pre>\n\n<hr>\n\n<p>(2) If you don't want to write the password to a temp file, no matter how briefly it may linger around, there is yet another way. It's similar to the <code>passme</code> script approach above, <em>except</em> it passes down the password as an environment variable. This avoids exposure of the password via command line arguments.</p>\n\n<p>Here's the <code>passme</code> variant:</p>\n\n<pre><code>#!/usr/bin/perl\nprint($ENV{\"PASSME\"},\"\\x00\");\n</code></pre>\n\n<p>This could also be done with an inline:</p>\n\n<pre><code>perl -e 'print($ENV{\"PASSME\"},\"\\x00\")'\n</code></pre>\n\n<p>Then, your script becomes:</p>\n\n<pre><code>my $password = \"whatever\";\n\n$ENV{\"PASSME\"} = $password;\nmy $cmd = `passme | hdiutil ...`;\ndelete($ENV{\"PASSME\"});\n</code></pre>\n\n<hr>\n\n<p>(3) Yet another way is the use [the aforementioned] use of perl's <code>open</code> in pipe mode. Set it up as an input pipe to <code>hdiutil</code> and divert the output to a temp file which you read back after the command has executed.</p>\n\n<pre><code>my $fdout;\nmy $fdin;\nmy $tmp = \"/tmp/results\";\nmy $buf;\n\nmy $password = \"whatever\";\n\nopen($fdout,\"| hdiutil ... &gt; $tmp\") ||\n    die(\"unable to open hdiutil pope -- $!\\n\");\nprint($fdout $password,\"\\x00\");\nclose($fdout);\n\nopen($fdin,\"&lt;$tmp\") ||\n    die(\"unable to open '$tmp' -- $!\\n\");\nwhile ($buf = &lt;$fdin&gt;) {\n    chomp($buf);\n    # do whatever ...\n}\nclose($fdin);\n</code></pre>\n"}, {"comments": [{"owner": {"reputation": 266, "user_id": 5854293, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/e0af3a813548edea0fe73e9ccba14f25?s=128&d=identicon&r=PG", "display_name": "Matt O.", "link": "https://stackoverflow.com/users/5854293/matt-o"}, "edited": false, "score": 0, "creation_date": 1463671470, "post_id": 37315926, "comment_id": 62174364, "body": "I removed <code>chomp</code> and I&#39;m still getting issues. I&#39;ll update what I show uptop."}], "tags": [], "owner": {"reputation": 4173, "user_id": 4450651, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/l6IMB.jpg?s=128&g=1", "display_name": "red0ct", "link": "https://stackoverflow.com/users/4450651/red0ct"}, "is_accepted": false, "score": 6, "last_activity_date": 1463641602, "last_edit_date": 1463641602, "creation_date": 1463640887, "answer_id": 37315926, "question_id": 37313560, "link": "https://stackoverflow.com/questions/37313560/perl-system-call-not-interpretting-variable-correctly/37315926#37315926", "title": "Perl System Call not Interpretting Variable Correctly", "body": "<p>Read about what the <code>chomp</code> returns. Your code at least rewrites the <code>$password</code> variable with an integer presumably <code>0</code> or <code>1</code>. That caught my eye.</p>\n\n<hr>\n\n<p>The <a href=\"http://perldoc.perl.org/functions/chomp.html\"><code>chomp</code></a> returns the total number of characters removed from all its arguments.</p>\n"}], "owner": {"reputation": 266, "user_id": 5854293, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/e0af3a813548edea0fe73e9ccba14f25?s=128&d=identicon&r=PG", "display_name": "Matt O.", "link": "https://stackoverflow.com/users/5854293/matt-o"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 163, "favorite_count": 0, "accepted_answer_id": 37313998, "answer_count": 2, "score": 0, "last_activity_date": 1463693208, "creation_date": 1463629174, "question_id": 37313560, "link": "https://stackoverflow.com/questions/37313560/perl-system-call-not-interpretting-variable-correctly", "title": "Perl System Call not Interpretting Variable Correctly", "body": "<p>I'm using Perl to pass a string ($password) to a system line to be interpreted. It doesn't seem to be interpreted correctly though, because when I go to attach the Sparse Bundle it says the authentication failed. As a note, everything after the pipe works fine.</p>\n\n<pre><code>$password = chomp($password);\n\n### Create the bash system call to create the sparse bundle with the password\nmy $cmd = `echo $password | hdiutil create -size 200g -type SPARSEBUNDLE -encryption -stdinpass -volname \\\"Encrypted Storage for Matt\\\" -fs \\\"Case-sensitive Journaled HFS+\\\" -verbose ~/Desktop/SparseBundle`;\n</code></pre>\n\n<p><strong>Some sample output:</strong></p>\n\n<pre><code>SLC1087-Matt:backups matt$ ./create_sparsebundle.pl \nDIDiskImageCreatorProbe: interface  1, score     1000, CSparseBundleDiskImage\nDIDiskImageCreatorProbe: interface  2, score    -1000, CSparseDiskImage\nDIDiskImageCreatorProbe: interface  3, score    -1000, CRawDiskImage\nDIDiskImageCreatorProbe: interface  7, score    -1000, CWOUDIFDiskImage\nDIDiskImageCreatorProbe: interface  9, score    -1000, CCFPlugInDiskImage\nDIDiskImageCreateWithCFURL: CSparseBundleDiskImage\nCBSDBackingStore::createProbe directory, not a valid image file.\nDIBackingStoreCreatorProbe: interface  0, score    -1000, CBSDBackingStore\nDIBackingStoreCreatorProbe: interface  1, score     1000, CBundleBackingStore\nDIBackingStoreCreatorProbe: interface  2, score        0, CRAMBackingStore\nDIBackingStoreCreatorProbe: interface  3, score      100, CCarbonBackingStore\nDIBackingStoreCreatorProbe: interface  5, score     -100, CCURLBackingStore\nDIBackingStoreCreateWithCFURL: CBundleBackingStore\nDIFileEncodingCreatorProbe: interface  2, score     1000, CEncryptedEncoding\nDIFileEncodingCreateWithCFURL: CEncryptedEncoding\nDIFileEncodingCreatorProbe: interface  2, score    -1000, CEncryptedEncoding\nDIBackingStoreCreatorProbe: interface  0, score      100, CBSDBackingStore\nDIBackingStoreCreatorProbe: interface  1, score    -1000, CBundleBackingStore\nDIBackingStoreCreatorProbe: interface  2, score        0, CRAMBackingStore\nDIBackingStoreCreatorProbe: interface  3, score      100, CCarbonBackingStore\nDIBackingStoreCreatorProbe: interface  5, score     -100, CCURLBackingStore\nDIBackingStoreCreateWithCFURL: CBSDBackingStore\nDIBackingStoreCreateWithCFURL: creator returned 0\nDIFileEncodingCreateWithCFURL: creator returned 0\nDIBackingStoreCreateWithCFURL: creator returned 0\nDIDiskImageCreateWithCFURL: creator returned 0\nDI_kextWaitQuiet: about to call IOServiceWaitQuiet...\nDI_kextWaitQuiet: IOServiceWaitQuiet took 0.000003 seconds\n2016-05-18 20:59:09.627 diskimages-helper[68122:1796245] *** -[NSMachPort handlePortMessage:]: dropping incoming DO message because the connection is invalid\nhdiutil: create: returning 0\nSLC1087-Matt:backups matt$ hdiutil attach ~/Desktop/SparseBundle.sparsebundle\nEnter password to access \"SparseBundle.sparsebundle\": \nhdiutil: attach failed - Authentication error\n</code></pre>\n\n<p>Everything seems to work fine but the password is apparently wrong.</p>\n"}, {"tags": ["string", "perl", "file"], "comments": [{"owner": {"reputation": 193600, "user_id": 87189, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/98e7d6edce863e7a1bf8199b082eb25e?s=128&d=identicon&r=PG", "display_name": "tadman", "link": "https://stackoverflow.com/users/87189/tadman"}, "edited": false, "score": 1, "creation_date": 1463629057, "post_id": 37313498, "comment_id": 62147699, "body": "Possible duplicate of <a href=\"http://stackoverflow.com/questions/953707/in-perl-how-can-i-read-an-entire-file-into-a-string\">In Perl, how can I read an entire file into a string?</a>"}, {"owner": {"reputation": 20550, "user_id": 327528, "user_type": "registered", "accept_rate": 37, "profile_image": "https://www.gravatar.com/avatar/dfea36f0a3ab8c5f8ad73bcc6cea241a?s=128&d=identicon&r=PG", "display_name": "CJ7", "link": "https://stackoverflow.com/users/327528/cj7"}, "reply_to_user": {"reputation": 193600, "user_id": 87189, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/98e7d6edce863e7a1bf8199b082eb25e?s=128&d=identicon&r=PG", "display_name": "tadman", "link": "https://stackoverflow.com/users/87189/tadman"}, "edited": false, "score": 0, "creation_date": 1463629186, "post_id": 37313498, "comment_id": 62147730, "body": "Clearly a different question. I am asking how to do it in one line.  I already have the code for reading in a file in my question, so clearly I am not asking that question."}, {"owner": {"reputation": 193600, "user_id": 87189, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/98e7d6edce863e7a1bf8199b082eb25e?s=128&d=identicon&r=PG", "display_name": "tadman", "link": "https://stackoverflow.com/users/87189/tadman"}, "edited": false, "score": 0, "creation_date": 1463629264, "post_id": 37313498, "comment_id": 62147743, "body": "Read it into one string, remove the newlines. Why is this hard?"}, {"owner": {"reputation": 20550, "user_id": 327528, "user_type": "registered", "accept_rate": 37, "profile_image": "https://www.gravatar.com/avatar/dfea36f0a3ab8c5f8ad73bcc6cea241a?s=128&d=identicon&r=PG", "display_name": "CJ7", "link": "https://stackoverflow.com/users/327528/cj7"}, "reply_to_user": {"reputation": 193600, "user_id": 87189, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/98e7d6edce863e7a1bf8199b082eb25e?s=128&d=identicon&r=PG", "display_name": "tadman", "link": "https://stackoverflow.com/users/87189/tadman"}, "edited": false, "score": 0, "creation_date": 1463629602, "post_id": 37313498, "comment_id": 62147830, "body": "You misunderstood my question.  See my edited question."}, {"owner": {"reputation": 193600, "user_id": 87189, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/98e7d6edce863e7a1bf8199b082eb25e?s=128&d=identicon&r=PG", "display_name": "tadman", "link": "https://stackoverflow.com/users/87189/tadman"}, "edited": false, "score": 3, "creation_date": 1463629749, "post_id": 37313498, "comment_id": 62147860, "body": "Delete the newline between the statements and stack them up if you prefer. You&#39;re asking some very bizarre questions here. Why does two lines vs. one matter? It certainly doesn&#39;t to Perl."}, {"owner": {"reputation": 20550, "user_id": 327528, "user_type": "registered", "accept_rate": 37, "profile_image": "https://www.gravatar.com/avatar/dfea36f0a3ab8c5f8ad73bcc6cea241a?s=128&d=identicon&r=PG", "display_name": "CJ7", "link": "https://stackoverflow.com/users/327528/cj7"}, "reply_to_user": {"reputation": 193600, "user_id": 87189, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/98e7d6edce863e7a1bf8199b082eb25e?s=128&d=identicon&r=PG", "display_name": "tadman", "link": "https://stackoverflow.com/users/87189/tadman"}, "edited": false, "score": 0, "creation_date": 1463629938, "post_id": 37313498, "comment_id": 62147909, "body": "I want to know how to do it in one line of perl code.  You don&#39;t seem to understand the question."}, {"owner": {"reputation": 48798, "user_id": 223226, "user_type": "registered", "accept_rate": 93, "profile_image": "https://i.stack.imgur.com/iGqE4.png?s=128&g=1", "display_name": "mpapec", "link": "https://stackoverflow.com/users/223226/mpapec"}, "edited": false, "score": 4, "creation_date": 1463629949, "post_id": 37313498, "comment_id": 62147913, "body": "<code>open FILE, $file; while (&lt;FILE&gt;) { $filestr .= $_; }</code> here you go. <code>:)</code>"}, {"owner": {"reputation": 193600, "user_id": 87189, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/98e7d6edce863e7a1bf8199b082eb25e?s=128&d=identicon&r=PG", "display_name": "tadman", "link": "https://stackoverflow.com/users/87189/tadman"}, "reply_to_user": {"reputation": 48798, "user_id": 223226, "user_type": "registered", "accept_rate": 93, "profile_image": "https://i.stack.imgur.com/iGqE4.png?s=128&g=1", "display_name": "mpapec", "link": "https://stackoverflow.com/users/223226/mpapec"}, "edited": false, "score": 0, "creation_date": 1463630022, "post_id": 37313498, "comment_id": 62147934, "body": "@\u0421\u0443\u0445\u043e\u043927 You&#39;re a rockstar. Exactly!"}, {"owner": {"reputation": 48798, "user_id": 223226, "user_type": "registered", "accept_rate": 93, "profile_image": "https://i.stack.imgur.com/iGqE4.png?s=128&g=1", "display_name": "mpapec", "link": "https://stackoverflow.com/users/223226/mpapec"}, "reply_to_user": {"reputation": 193600, "user_id": 87189, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/98e7d6edce863e7a1bf8199b082eb25e?s=128&d=identicon&r=PG", "display_name": "tadman", "link": "https://stackoverflow.com/users/87189/tadman"}, "edited": false, "score": 0, "creation_date": 1463630497, "post_id": 37313498, "comment_id": 62148053, "body": "@tadman OP probably meant <code>one statement</code> but that is only a speculation."}, {"owner": {"reputation": 4636, "user_id": 4411559, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/a8792b137591b65d0ecdc3798c513369?s=128&d=identicon&r=PG&f=1", "display_name": "steveb", "link": "https://stackoverflow.com/users/4411559/steveb"}, "edited": false, "score": 0, "creation_date": 1595369800, "post_id": 37313498, "comment_id": 111449749, "body": "I know this is an old question, but I found an option on some other webpage. This does what you want in one line: <code>my $inputdata = do{local(@ARGV,$&#47;)=&quot;path&#47;to&#47;input.txt&quot;;&lt;&gt;}</code>"}], "answers": [{"tags": [], "owner": {"reputation": 320771, "user_id": 589924, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/b2cf53d5a3d25f95c0db4e025aed4153?s=128&d=identicon&r=PG", "display_name": "ikegami", "link": "https://stackoverflow.com/users/589924/ikegami"}, "is_accepted": false, "score": 4, "last_activity_date": 1463635012, "last_edit_date": 1463635012, "creation_date": 1463634563, "answer_id": 37314333, "question_id": 37313498, "link": "https://stackoverflow.com/questions/37313498/read-file-into-string-in-one-statement/37314333#37314333", "title": "Read file into string in one statement?", "body": "<pre><code>open FILE, $file; while (&lt;FILE&gt;) { $filestr .= $_; }\n</code></pre>\n\n<hr>\n\n<p>However, the presence of a newline is the last thing that would worry me about that snippet. I'd be more worried about the following:</p>\n\n<ul>\n<li>The use of two-arg <code>open</code>,</li>\n<li>the lack of error checking on that <code>open</code>,</li>\n<li>the use of a global variables,</li>\n<li>the lack of use of <code>use strict;</code>, and</li>\n<li>the poor variable names.</li>\n</ul>\n\n<p>&#x20;</p>\n\n<pre><code>open(my $fh, '&lt;', $qfn)\n   or die(\"Can't open \\\"$qfn\\\": $!\\n\");\n\nmy $file; { local $/; $file = &lt;$fh&gt;; }\n</code></pre>\n"}, {"tags": [], "owner": {"reputation": 40406, "user_id": 459, "user_type": "registered", "accept_rate": 81, "profile_image": "https://www.gravatar.com/avatar/0db193fbf6f0929c49dd9704698204ff?s=128&d=identicon&r=PG", "display_name": "dlamblin", "link": "https://stackoverflow.com/users/459/dlamblin"}, "is_accepted": false, "score": 0, "last_activity_date": 1463637074, "last_edit_date": 1463637074, "creation_date": 1463635595, "answer_id": 37314530, "question_id": 37313498, "link": "https://stackoverflow.com/questions/37313498/read-file-into-string-in-one-statement/37314530#37314530", "title": "Read file into string in one statement?", "body": "<h1>\ud83d\udcce : It looks like you want to slurp a file, would you like me to undef the input record separator?</h1>\n\n<pre><code>$ perldoc perlvar # /slurp&lt;enter&gt;&lt;copy example code&gt;&lt;paste&gt;\n$ perl -E '\nmy $file = \"test.txt\";\nmy $content = \"\";\nopen my $fh, \"&lt;\", $file or die $!;\n{\n  local $/;\n  $content = &lt;$fh&gt;;\n}\nclose $fh;\nprint $content;'\n</code></pre>\n\n<p>It's never going to be one statement. But anything can be \"one line of code\" in perl.<br>\nSo\u2026 we're good right? You meant no looping didn't you.</p>\n\n<p>Other stuff to consider:</p>\n\n<pre><code>open my FILE, '&lt;', $file or die $!;\nmy @filestrs = &lt;FILE&gt;;\n</code></pre>\n\n<p>Or after <code>cpanm File::Map</code>:</p>\n\n<pre><code>use File::Map qw(map_file);\nmap_file my $filestr, $file;\n</code></pre>\n\n<p>Similarly with <code>Path::Tiny</code>:</p>\n\n<pre><code>use Path::Tiny;\nmy $filestr = path($file)-&gt;slurp; # or -&gt;slurp_utf8;\n</code></pre>\n\n<p>Sort of one line:</p>\n\n<pre><code>my $filestr = do { local(@ARGV, $/) = $file; &lt;&gt; };\n</code></pre>\n\n<p>Fewer statements still:</p>\n\n<pre><code>open(my $fh, '&lt;', $file);\nread($fh, $filestr, -s $fh);\n</code></pre>\n"}, {"tags": [], "owner": {"reputation": 32176, "user_id": 2173773, "user_type": "registered", "accept_rate": 86, "profile_image": "https://i.stack.imgur.com/M8yh6.jpg?s=128&g=1", "display_name": "H&#229;kon H&#230;gland", "link": "https://stackoverflow.com/users/2173773/h%c3%a5kon-h%c3%a6gland"}, "is_accepted": false, "score": 0, "last_activity_date": 1463734639, "creation_date": 1463734639, "answer_id": 37342328, "question_id": 37313498, "link": "https://stackoverflow.com/questions/37313498/read-file-into-string-in-one-statement/37342328#37342328", "title": "Read file into string in one statement?", "body": "<p>I would interpret your question to be: </p>\n\n<blockquote>\n  <p>How can the two statements be written as a single statement without\n  using additional modules or subroutines.</p>\n</blockquote>\n\n<p>Perl does not prevent you from shooting yourself in the foot, so if you consider semicolon to be the statement separator, the following  could be considered as one statement:</p>\n\n<pre><code>open (FILE, $file) and do {$filestr .= $_ while (&lt;FILE&gt;)};\n</code></pre>\n\n<p>although there is an implicit semicolon at the end of the <code>do</code> block, and this construction should never be used in real code since it prevents checking for <code>open</code> errors the usual way:</p>\n\n<pre><code>open (FILE, $file) or die \"Could not open file '$file': $!\";\n</code></pre>\n"}], "owner": {"reputation": 20550, "user_id": 327528, "user_type": "registered", "accept_rate": 37, "profile_image": "https://www.gravatar.com/avatar/dfea36f0a3ab8c5f8ad73bcc6cea241a?s=128&d=identicon&r=PG", "display_name": "CJ7", "link": "https://stackoverflow.com/users/327528/cj7"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 1217, "favorite_count": 0, "answer_count": 3, "score": -4, "last_activity_date": 1463734639, "creation_date": 1463628703, "last_edit_date": 1463706527, "question_id": 37313498, "link": "https://stackoverflow.com/questions/37313498/read-file-into-string-in-one-statement", "title": "Read file into string in one statement?", "body": "<p>I have the following code but can it be done in one statement?</p>\n\n<pre><code>open FILE, $file;\nwhile (&lt;FILE&gt;) { $filestr .= $_; }\n</code></pre>\n"}, {"tags": ["perl", "smtp"], "comments": [{"owner": {"reputation": 89568, "user_id": 3081018, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/Z2NYm.png?s=128&g=1", "display_name": "Steffen Ullrich", "link": "https://stackoverflow.com/users/3081018/steffen-ullrich"}, "edited": false, "score": 0, "creation_date": 1463632875, "post_id": 37312790, "comment_id": 62148596, "body": "The debug output does not show any error. 354 is just the normal response to the DATA command. Please add the error you are actually getting (i.e. from your <code>die &quot;Error...</code>) and at which statement you are getting this error."}, {"owner": {"reputation": 320771, "user_id": 589924, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/b2cf53d5a3d25f95c0db4e025aed4153?s=128&d=identicon&r=PG", "display_name": "ikegami", "link": "https://stackoverflow.com/users/589924/ikegami"}, "edited": false, "score": 0, "creation_date": 1463634532, "post_id": 37312790, "comment_id": 62149073, "body": "Re &quot;<i>what&#39;s the problem here</i>&quot;, I could ask you the same thing. You say you&#39;re getting an error, but you didn&#39;t say what it was."}, {"owner": {"reputation": 50468, "user_id": 1331451, "user_type": "registered", "accept_rate": 96, "profile_image": "https://i.stack.imgur.com/4ZPmj.png?s=128&g=1", "display_name": "simbabque", "link": "https://stackoverflow.com/users/1331451/simbabque"}, "edited": false, "score": 0, "creation_date": 1463643478, "post_id": 37312790, "comment_id": 62153421, "body": "There is an extra <code>`</code> after the email address string in the second line."}, {"owner": {"reputation": 69, "user_id": 4912479, "user_type": "registered", "accept_rate": 0, "profile_image": "https://lh6.googleusercontent.com/-FvnnEIUsA68/AAAAAAAAAAI/AAAAAAAAK4E/_D5Rt8cXBaQ/photo.jpg?sz=128", "display_name": "Tuyen Quang", "link": "https://stackoverflow.com/users/4912479/tuyen-quang"}, "edited": false, "score": 0, "creation_date": 1463712759, "post_id": 37312790, "comment_id": 62191788, "body": "The debug output does not show any error but email not sending..   if i add some text in $smtp-&gt;data()    like $smtp-&gt;data(abbb)    i can recived email.  \t \t There is an extra ` i remove it from code."}, {"owner": {"reputation": 69, "user_id": 4912479, "user_type": "registered", "accept_rate": 0, "profile_image": "https://lh6.googleusercontent.com/-FvnnEIUsA68/AAAAAAAAAAI/AAAAAAAAK4E/_D5Rt8cXBaQ/photo.jpg?sz=128", "display_name": "Tuyen Quang", "link": "https://stackoverflow.com/users/4912479/tuyen-quang"}, "edited": false, "score": 0, "creation_date": 1463715174, "post_id": 37312790, "comment_id": 62192324, "body": "after i edit code they have new error ;  Net::SMTP::SSL=GLOB(0x15bba60)&gt;&gt;&gt; --_----------=_146371495983980-- Net::SMTP::SSL: Net::Cmd::datasend(): unexpected EOF on command channel:  at send_report.pl line 78. Net::SMTP::SSL: Net::Cmd::_is_closed(): unexpected EOF on command channel:  at send_report.pl line 79. Error:[Net::SMTP::SSL] Connection closed at send_report.pl line 79.  ====== &lt;br&gt;$smtp-&gt;datasend($msg-&gt;as_string);"}], "answers": [{"tags": [], "owner": {"reputation": 89568, "user_id": 3081018, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/Z2NYm.png?s=128&g=1", "display_name": "Steffen Ullrich", "link": "https://stackoverflow.com/users/3081018/steffen-ullrich"}, "is_accepted": false, "score": 1, "last_activity_date": 1463775132, "creation_date": 1463775132, "answer_id": 37355090, "question_id": 37312790, "link": "https://stackoverflow.com/questions/37312790/354-end-data-with-crlf-crlf-perl-use-netsmtp/37355090#37355090", "title": "354 End data with &lt;CR&gt;&lt;LF&gt;.&lt;CR&gt;&lt;LF&gt; perl use Net::SMTP:", "body": "<blockquote>\n<pre><code>$smtp-&gt;datasend($msg) or die \"Error:\".$smtp-&gt;message();\n</code></pre>\n</blockquote>\n\n<p><code>$msg</code> is a MIME::Lite object and not a string.\nWhat you want here is a string, i.e. <code>$msg-&gt;as_string</code>.</p>\n\n<p>Apart from that you are calling <code>$msg-&gt;send</code> earlier which means that it already tries to send the message via the default transport. This does not really make sense, unless you want to send the message twice.</p>\n"}], "owner": {"reputation": 69, "user_id": 4912479, "user_type": "registered", "accept_rate": 0, "profile_image": "https://lh6.googleusercontent.com/-FvnnEIUsA68/AAAAAAAAAAI/AAAAAAAAK4E/_D5Rt8cXBaQ/photo.jpg?sz=128", "display_name": "Tuyen Quang", "link": "https://stackoverflow.com/users/4912479/tuyen-quang"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 3618, "favorite_count": 0, "answer_count": 1, "score": 1, "last_activity_date": 1463775132, "creation_date": 1463623356, "last_edit_date": 1463712783, "question_id": 37312790, "link": "https://stackoverflow.com/questions/37312790/354-end-data-with-crlf-crlf-perl-use-netsmtp", "title": "354 End data with &lt;CR&gt;&lt;LF&gt;.&lt;CR&gt;&lt;LF&gt; perl use Net::SMTP:", "body": "<p>I'm writting a perl script for sending email and attach zip file but have error \n     <br/></p>\n\n<p>below is error when running code :</p>\n\n<pre><code>        Net::SMTP::SSL=GLOB(0x1b79e68)&gt;&gt;&gt; RCPT TO:&lt;ttranquang@tiaxa.as&gt;\n        Net::SMTP::SSL=GLOB(0x1b79e68)&lt;&lt;&lt; 250 2.1.5 Ok\n        Net::SMTP::SSL=GLOB(0x1b79e68)&gt;&gt;&gt; DATA\n        Net::SMTP::SSL=GLOB(0x1b79e68)&lt;&lt;&lt; 354 End data with &lt;CR&gt;&lt;LF&gt;.&lt;CR&gt;&lt;LF&gt;\n</code></pre>\n\n<p>======</p>\n\n<pre><code>$msg = MIME::Lite-&gt;new(\n        To =&gt;'ttranquang@tiaxa.as',\n        Subject =&gt;'VTT:Daily Report ['.$TimeDate.']',\n        Type    =&gt; 'multipart/mixed'\n    );\n    ### Create a part:\n    $part = MIME::Lite-&gt;new(\n        Top      =&gt; 0,\n        Type     =&gt;'text/html',\n        Data     =&gt;'&lt;H1&gt;Daily Report&lt;/H1&gt;',\n    );\n    $part-&gt;attr('content-type.charset' =&gt; 'UTF-8');\n\n    $part-&gt;add('X-Comment' =&gt; 'A report for you');\n    $msg-&gt;attach($part);\n          $msg-&gt;attach(\n                        Type     =&gt; 'application/zip',\n                        Path     =&gt; '/home/appaxa/scripts/rommel/send_report',\n                        Filename =&gt; 'dailyreport.zip',\n                        Dispostion =&gt; 'attachment'\n                    );\n    $msg-&gt;send();\n\nmy $smtp;\n$smtp = Net::SMTP::SSL-&gt;new($host, Port=&gt;465, Debug   =&gt; 1,\n                           SSL     =&gt; 0,) or die \"Can't connect\";\n$smtp-&gt;auth($user, $pass)                 or die \"Can't authenticate:\".$smtp-&gt;message();\n$smtp-&gt;mail('xtime@tel.co')       or die \"Error:\".$smtp-&gt;message();\n$smtp-&gt;to('ttranquang@tiaxa.as') or die \"Error:\".$smtp-&gt;message();\n\n$smtp-&gt;data()                    or die \"Error:\".$smtp-&gt;message();\n$smtp-&gt;datasend($msg) or die \"Error:\".$smtp-&gt;message();\n$smtp-&gt;dataend()                 or die \"Error:\".$smtp-&gt;message();\n$smtp-&gt;quit()                    or die \"Error:\".$smtp-&gt;message()\n</code></pre>\n\n<p>what's the problem here ?? thanks all.</p>\n"}]