[{"tags": ["regex", "perl"], "comments": [{"owner": {"reputation": 1728, "user_id": 263053, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/c65436946251c32cb1dccb36901dee70?s=128&d=identicon&r=PG", "display_name": "gymbrall", "link": "https://stackoverflow.com/users/263053/gymbrall"}, "edited": false, "score": 0, "creation_date": 1437605765, "post_id": 31574749, "comment_id": 51105672, "body": "Do you want to print out the entire line or only part of it? In your question above, you say the entire line, but in your comment below, you say you only want to print out the value after (VIA). Which is it?"}, {"owner": {"reputation": 55, "user_id": 4959823, "user_type": "registered", "accept_rate": 60, "profile_image": "https://lh5.googleusercontent.com/-ple1O0zA5RY/AAAAAAAAAAI/AAAAAAAAFuQ/gjbYsGTQOYg/photo.jpg?sz=128", "display_name": "SKG", "link": "https://stackoverflow.com/users/4959823/skg"}, "reply_to_user": {"reputation": 1728, "user_id": 263053, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/c65436946251c32cb1dccb36901dee70?s=128&d=identicon&r=PG", "display_name": "gymbrall", "link": "https://stackoverflow.com/users/263053/gymbrall"}, "edited": false, "score": 0, "creation_date": 1437661901, "post_id": 31574749, "comment_id": 51132557, "body": "HI, first I tried to print the entire line. once it is done, I was trying to print only the value. So I added it up in the end."}], "answers": [{"comments": [{"owner": {"reputation": 55, "user_id": 4959823, "user_type": "registered", "accept_rate": 60, "profile_image": "https://lh5.googleusercontent.com/-ple1O0zA5RY/AAAAAAAAAAI/AAAAAAAAFuQ/gjbYsGTQOYg/photo.jpg?sz=128", "display_name": "SKG", "link": "https://stackoverflow.com/users/4959823/skg"}, "edited": false, "score": 0, "creation_date": 1437602644, "post_id": 31574767, "comment_id": 51104455, "body": "I am trying to print only the value in it. Should I use split function to split the line and print it?"}, {"owner": {"reputation": 935, "user_id": 144541, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/7fbe0a4ad223004ad599f2b738e4f425?s=128&d=identicon&r=PG", "display_name": "Adam Prescott", "link": "https://stackoverflow.com/users/144541/adam-prescott"}, "edited": false, "score": 1, "creation_date": 1437602919, "post_id": 31574767, "comment_id": 51104574, "body": "If you want just the value, you really don&#39;t need to mess with the rest: <code>(-?\\d+\\.\\d+)</code>"}, {"owner": {"reputation": 55, "user_id": 4959823, "user_type": "registered", "accept_rate": 60, "profile_image": "https://lh5.googleusercontent.com/-ple1O0zA5RY/AAAAAAAAAAI/AAAAAAAAFuQ/gjbYsGTQOYg/photo.jpg?sz=128", "display_name": "SKG", "link": "https://stackoverflow.com/users/4959823/skg"}, "edited": false, "score": 0, "creation_date": 1437603014, "post_id": 31574767, "comment_id": 51104623, "body": "HI Adam, Thank you. I want to print the value in the strings which I matched. Like I wanna print only  -0.090 instead of the other values."}, {"owner": {"reputation": 658023, "user_id": 548225, "user_type": "registered", "accept_rate": 90, "profile_image": "https://www.gravatar.com/avatar/dab08478b226280d4a30894c9a7ed719?s=128&d=identicon&r=PG", "display_name": "anubhava", "link": "https://stackoverflow.com/users/548225/anubhava"}, "edited": false, "score": 2, "creation_date": 1437603200, "post_id": 31574767, "comment_id": 51104701, "body": "You can use: <code>$line =~ &#47;abc \\(VIA\\) +(.+)&#47;</code> and print <code>$1</code>"}], "tags": [], "owner": {"reputation": 658023, "user_id": 548225, "user_type": "registered", "accept_rate": 90, "profile_image": "https://www.gravatar.com/avatar/dab08478b226280d4a30894c9a7ed719?s=128&d=identicon&r=PG", "display_name": "anubhava", "link": "https://stackoverflow.com/users/548225/anubhava"}, "is_accepted": true, "score": 1, "last_activity_date": 1437602442, "creation_date": 1437602442, "answer_id": 31574767, "question_id": 31574749, "link": "https://stackoverflow.com/questions/31574749/matching-multiple-words-and-print-the-string/31574767#31574767", "title": "Matching multiple words and print the string", "body": "<p>Escape parentheses and match only the string you want to match i.e.:</p>\n\n<pre><code>$line =~ /abc \\(VIA\\)/\n</code></pre>\n\n<p>no need to match numbers after this as per your question.</p>\n"}, {"tags": [], "owner": {"reputation": 38, "user_id": 5145189, "user_type": "registered", "profile_image": "https://graph.facebook.com/1076533502374293/picture?type=large", "display_name": "Chandar Kakarlapudi", "link": "https://stackoverflow.com/users/5145189/chandar-kakarlapudi"}, "is_accepted": false, "score": 1, "last_activity_date": 1437602986, "creation_date": 1437602986, "answer_id": 31574889, "question_id": 31574749, "link": "https://stackoverflow.com/questions/31574749/matching-multiple-words-and-print-the-string/31574889#31574889", "title": "Matching multiple words and print the string", "body": "<p>Each of the match is saved in default variables.</p>\n\n<p>Match as:</p>\n\n<pre><code>$line =~ /(abc)(\\s)(\\(VIA\\))/;\n\n$1 will have first match i.e., abc\n$2 will have second match i.e., space character\n$3 will have third match i.e., (VIA) and so on.\n</code></pre>\n\n<p>Just use the variables.They are filled by default.</p>\n"}], "owner": {"reputation": 55, "user_id": 4959823, "user_type": "registered", "accept_rate": 60, "profile_image": "https://lh5.googleusercontent.com/-ple1O0zA5RY/AAAAAAAAAAI/AAAAAAAAFuQ/gjbYsGTQOYg/photo.jpg?sz=128", "display_name": "SKG", "link": "https://stackoverflow.com/users/4959823/skg"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 46, "favorite_count": 0, "accepted_answer_id": 31574767, "answer_count": 2, "score": -1, "last_activity_date": 1437602986, "creation_date": 1437602343, "last_edit_date": 1437602382, "question_id": 31574749, "link": "https://stackoverflow.com/questions/31574749/matching-multiple-words-and-print-the-string", "title": "Matching multiple words and print the string", "body": "<p>I want to match     abc (VIA) and display the entire line</p>\n\n<p>INPUT:</p>\n\n<pre><code>abc (VIA)                    -0.090\n\ntotal : abc                   0.021\n\nabc (sometext) (VIA)         -0.080\n\nabc (without text)  (VIA)   -0.059\n</code></pre>\n\n<p>OUTPUT:</p>\n\n<pre><code>abc (VIA)                    -0.090\n</code></pre>\n\n<p>I am using code like this:</p>\n\n<pre><code>    if ($line =~ /abc (VIA) (\\-\\d+\\.\\d+) / )\n\n         {\n\n          print OUT \" $line \\n\"   ;\n\n          }\n</code></pre>\n"}, {"tags": ["perl", "optimization"], "comments": [{"owner": {"reputation": 61610, "user_id": 725418, "user_type": "registered", "accept_rate": 86, "profile_image": "https://www.gravatar.com/avatar/82ac2dc3e1ad4b7187f245c416528df9?s=128&d=identicon&r=PG", "display_name": "TLP", "link": "https://stackoverflow.com/users/725418/tlp"}, "edited": false, "score": 0, "creation_date": 1437605765, "post_id": 31574404, "comment_id": 51105673, "body": "Import the files into a database?"}], "answers": [{"comments": [{"owner": {"reputation": 149, "user_id": 3591048, "user_type": "registered", "accept_rate": 64, "profile_image": "https://i.stack.imgur.com/vr3Mm.jpg?s=128&g=1", "display_name": "theo4786", "link": "https://stackoverflow.com/users/3591048/theo4786"}, "edited": false, "score": 0, "creation_date": 1437603845, "post_id": 31574755, "comment_id": 51104971, "body": "This script is very fast, thank you. I did notice however that your script is outputting incorrect value for field 7 in some cases. For example, where File1 is: <code>22\trs1296744\t0\t17968155\tA\tG</code> and File2 is <code>22\trs1296744\tA\tG\t17968155\t0.956\t0.9977\t0.0108\t0.831\t0</code> the output is <code>22 rs1296744 A G 17968155 0.956 1.00230530219505 0.0108 0.831 0</code> where field 7 should actually remain 0.9977. Strangely my script is outputting two lines for this one row, one with the correct field 7 and one with the adjusted field 7"}, {"owner": {"reputation": 198290, "user_id": 1030675, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/957956ce51706d03f19a4dc85a767bb1?s=128&d=identicon&r=PG", "display_name": "choroba", "link": "https://stackoverflow.com/users/1030675/choroba"}, "reply_to_user": {"reputation": 149, "user_id": 3591048, "user_type": "registered", "accept_rate": 64, "profile_image": "https://i.stack.imgur.com/vr3Mm.jpg?s=128&g=1", "display_name": "theo4786", "link": "https://stackoverflow.com/users/3591048/theo4786"}, "edited": false, "score": 0, "creation_date": 1437604094, "post_id": 31574755, "comment_id": 51105075, "body": "@theo4786: There&#39;s probably another line influencing the output. With only these two lines, I&#39;m getting the same results from both the scripts."}, {"owner": {"reputation": 149, "user_id": 3591048, "user_type": "registered", "accept_rate": 64, "profile_image": "https://i.stack.imgur.com/vr3Mm.jpg?s=128&g=1", "display_name": "theo4786", "link": "https://stackoverflow.com/users/3591048/theo4786"}, "edited": false, "score": 0, "creation_date": 1437604434, "post_id": 31574755, "comment_id": 51105223, "body": "Yes you&#39;re right, for these instances there are two input lines containing duplicate fields 1 and 4 in File1, but different values in the other fields."}, {"owner": {"reputation": 198290, "user_id": 1030675, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/957956ce51706d03f19a4dc85a767bb1?s=128&d=identicon&r=PG", "display_name": "choroba", "link": "https://stackoverflow.com/users/1030675/choroba"}, "reply_to_user": {"reputation": 149, "user_id": 3591048, "user_type": "registered", "accept_rate": 64, "profile_image": "https://i.stack.imgur.com/vr3Mm.jpg?s=128&g=1", "display_name": "theo4786", "link": "https://stackoverflow.com/users/3591048/theo4786"}, "edited": false, "score": 0, "creation_date": 1437604544, "post_id": 31574755, "comment_id": 51105274, "body": "@theo4786: Can you show such lines and indicate correct output?"}, {"owner": {"reputation": 149, "user_id": 3591048, "user_type": "registered", "accept_rate": 64, "profile_image": "https://i.stack.imgur.com/vr3Mm.jpg?s=128&g=1", "display_name": "theo4786", "link": "https://stackoverflow.com/users/3591048/theo4786"}, "edited": false, "score": 0, "creation_date": 1437605047, "post_id": 31574755, "comment_id": 51105444, "body": "For example, these lines in File1: <code>22\trs1296744\t0\t17968155\tA\tG</code> and <code>22\trs201055523\t0\t17968155\tAGG\tA</code>. Correct output is <code>22 rs1296744 A G 17968155 0.956 0.9977 0.0108 0.831 0</code>. I believe I can achieve this by <code>$lookup{&quot;$chr:$snpID:$bp:$A1&quot;}</code>, as I want output where $snpID also matches."}, {"owner": {"reputation": 198290, "user_id": 1030675, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/957956ce51706d03f19a4dc85a767bb1?s=128&d=identicon&r=PG", "display_name": "choroba", "link": "https://stackoverflow.com/users/1030675/choroba"}, "reply_to_user": {"reputation": 149, "user_id": 3591048, "user_type": "registered", "accept_rate": 64, "profile_image": "https://i.stack.imgur.com/vr3Mm.jpg?s=128&g=1", "display_name": "theo4786", "link": "https://stackoverflow.com/users/3591048/theo4786"}, "edited": false, "score": 0, "creation_date": 1437605879, "post_id": 31574755, "comment_id": 51105699, "body": "@theo4786: If there are no duplicates when you add the $snpID, it should be enough."}], "tags": [], "owner": {"reputation": 198290, "user_id": 1030675, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/957956ce51706d03f19a4dc85a767bb1?s=128&d=identicon&r=PG", "display_name": "choroba", "link": "https://stackoverflow.com/users/1030675/choroba"}, "is_accepted": true, "score": 4, "last_activity_date": 1437603932, "last_edit_date": 1437603932, "creation_date": 1437602370, "answer_id": 31574755, "question_id": 31574404, "link": "https://stackoverflow.com/questions/31574404/need-to-optimize-perl-script/31574755#31574755", "title": "need to optimize perl script", "body": "<p>Use a hash instead of an array.</p>\n\n<p>The following script should give the same output as yours (unless A1 and A2 are the same in File1):</p>\n\n<pre><code>#! /usr/bin/perl\nuse warnings;\nuse strict;\n\nmy %lookup;\nopen my $LOCI, '&lt;', 'File1' or die $!;\nwhile (&lt;$LOCI&gt;) {\n    next if /Chromosome/;\n    my ($chr, $snpID, $dist, $bp, $A1, $A2) = split;\n    $lookup{\"$chr:$bp:$A1\"} = 1;\n    $lookup{\"$chr:$bp:$A2\"} = 2;\n}\n\nopen my $IN, '&lt;', 'File2' or die $!;\nwhile (&lt;$IN&gt;) {\n    next if m/hg19chrc/;\n    my ($chr, $snpID, $A1, $A2, $bp, $info, $or, $se, $p, $ngt) = split;\n    my $new_or = ( sub {},\n                   sub { shift },\n                   sub { 1 / shift },\n                 )[ $lookup{\"$chr:$bp:$A1\"} || 0 ]-&gt;($or);\n    print \"$chr $snpID $A1 $A2 $bp $info $new_or $se $p $ngt\\n\"\n        if defined $new_or;\n}\n</code></pre>\n\n<p>This is how I created testing data:</p>\n\n<pre><code>perl -MList::Util=shuffle -wE '\n    $i = 1;\n    $pos = 1;\n    for (1 .. 10000) {\n        say join \" \", $i, \"rs$pos\", int rand 5, 1000 + int rand 10000,\n            (shuffle(qw(A C T G)))[0,1];\n        ++$i if rand 1 &gt; .99;\n        $pos += int rand 20;\n    }' &gt; File1\n\nperl -wE '\n    $i = 1;\n    $pos = 1;\n    for (1 .. 10000) {\n        say join \" \", $i, \"rs$pos\", (map qw(A C T G)[rand 4],1,2),\n            1000 + int rand 10000, rand 1, rand 5, rand 1, rand 1,\n            int rand 3;\n        ++$i if rand 1 &gt; .99;\n        $pos += int rand 20;\n    }' &gt; File2\n</code></pre>\n\n<p>Results: the old script takes 16 seconds, the new one less than 0.1s. For larger files (700_000 lines), the new script takes 4s.</p>\n"}], "owner": {"reputation": 149, "user_id": 3591048, "user_type": "registered", "accept_rate": 64, "profile_image": "https://i.stack.imgur.com/vr3Mm.jpg?s=128&g=1", "display_name": "theo4786", "link": "https://stackoverflow.com/users/3591048/theo4786"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 84, "favorite_count": 0, "accepted_answer_id": 31574755, "answer_count": 1, "score": 0, "last_activity_date": 1437603932, "creation_date": 1437600901, "question_id": 31574404, "link": "https://stackoverflow.com/questions/31574404/need-to-optimize-perl-script", "title": "need to optimize perl script", "body": "<p>I have two files, each approximately 700,000 lines, that look like:</p>\n\n<p>File1</p>\n\n<pre><code>1 rs58108140 0 10583 A G\n1 rs189107123 0 10611 G C\n1 rs180734498 0 13302 T C\n1 rs144762171 0 13327 C G\n22 rs1001008 0 44928369 G A\n</code></pre>\n\n<p>File2</p>\n\n<pre><code>hg19chrc snpid a1 a2 bp info or se p ngt\n1 rs4951859 C G 729679 0.631 0.97853 0.0173 0.2083 0\n1 rs142557973 T C 731718 0.665 1.01949 0.0198 0.3298 0\n22 rs1001008 A G 44928369 0.969 0.98649 0.0107 0.2023 0\n</code></pre>\n\n<p>I have a script where I'm finding lines where fields 1 and 4 from File 1 and fields 1 and 5 from File 2 match. Then if fields 5 and 6 from File 1 match fields 3 and 4 from File 2, I'm simply printing out the line from File 2. However, if fields 3 and 4 (File2) are flipped with respect to fields 5 and 6 (File1), I'm taking the reciprocal of field 7 from File2, and printing the line with that adjusted field 7:</p>\n\n<pre><code>#! perl -w                                                                                                           \nuse strict;\nuse warnings;\n\nmy @kgloci;\nopen( my $loci_in, \"&lt;\", \"File1\" ) or die $!;\nwhile (&lt;$loci_in&gt;) {\n    my ($chr, $snpID, $dist, $bp, $A1, $A2) = split;\n    next if m/Chromosome/;\n    push @kgloci, [$chr, $snpID, $dist, $bp, $A1, $A2];\n}\nclose $loci_in;\n\nmy $filename = shift @ARGV;\nopen( my $input, \"&lt;\", \"File2\" ) or die $!;\nwhile (&lt;$input&gt;) {\n    next if m/hg19chrc/;\n    my ($chr, $snpID, $A1, $A2, $bp, $info, $or, $se, $p, $ngt) = split;\n    foreach my $kglocus (@kgloci) {\n        if (    $chr == $kglocus-&gt;[0]\n                and $bp == $kglocus-&gt;[3]\n                and $A1 eq $kglocus-&gt;[4] ){\n        print \"$chr $snpID $A1 $A2 $bp $info $or $se $p $ngt\\n\";\n            next;\n        }\n        elsif ( $chr == $kglocus-&gt;[0]\n            and $bp == $kglocus-&gt;[3]\n            and $A1 eq $kglocus-&gt;[5]){\n        my $new_or = 1/$or;\n        print \"$chr $snpID $A1 $A2 $bp $info $new_or $se $p $ngt\\n\";  \n        next;\n        }\n    }\n}\nclose($input);\n</code></pre>\n\n<p>As is, the script will run for days. Can someone point out a way to increase efficiency?</p>\n"}, {"tags": ["arrays", "perl"], "answers": [{"tags": [], "owner": {"reputation": 52334, "user_id": 702638, "user_type": "registered", "accept_rate": 98, "profile_image": "https://www.gravatar.com/avatar/892f65bc0a8a0949ab88598de7d83cab?s=128&d=identicon&r=PG", "display_name": "Hunter McMillen", "link": "https://stackoverflow.com/users/702638/hunter-mcmillen"}, "is_accepted": false, "score": 1, "last_activity_date": 1437597358, "creation_date": 1437597358, "answer_id": 31573503, "question_id": 31573423, "link": "https://stackoverflow.com/questions/31573423/perls-array-variable-length-of-array/31573503#31573503", "title": "perls, array, variable length of array", "body": "<p>You can use an <a href=\"http://perldoc.perl.org/perldata.html#Slices\" rel=\"nofollow\"><code>array slice</code></a>, which will return a list of elements from the <code>@tmp</code> array that you are interested in:</p>\n\n<pre><code>my @list = @tmp[0..$input-1];\n</code></pre>\n\n<p>The basic idea is that you copy the elements starting at index 0 to the maximum index you are interested in <code>$input</code>. </p>\n"}, {"comments": [{"owner": {"reputation": 193, "user_id": 138787, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/506f4b97912b9b3dd76e2df550d55305?s=128&d=identicon&r=PG", "display_name": "kato sheen", "link": "https://stackoverflow.com/users/138787/kato-sheen"}, "edited": false, "score": 0, "creation_date": 1437598501, "post_id": 31573508, "comment_id": 51102513, "body": "I tested both, what I requested ( as you put it ) is what works in program I modify, thank you."}, {"owner": {"reputation": 320771, "user_id": 589924, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/b2cf53d5a3d25f95c0db4e025aed4153?s=128&d=identicon&r=PG", "display_name": "ikegami", "link": "https://stackoverflow.com/users/589924/ikegami"}, "reply_to_user": {"reputation": 193, "user_id": 138787, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/506f4b97912b9b3dd76e2df550d55305?s=128&d=identicon&r=PG", "display_name": "kato sheen", "link": "https://stackoverflow.com/users/138787/kato-sheen"}, "edited": false, "score": 2, "creation_date": 1437598894, "post_id": 31573508, "comment_id": 51102711, "body": "It&#39;s using an array to store a single value (a reference to the array that contains the actual values), which is silly."}, {"owner": {"reputation": 320771, "user_id": 589924, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/b2cf53d5a3d25f95c0db4e025aed4153?s=128&d=identicon&r=PG", "display_name": "ikegami", "link": "https://stackoverflow.com/users/589924/ikegami"}, "reply_to_user": {"reputation": 193, "user_id": 138787, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/506f4b97912b9b3dd76e2df550d55305?s=128&d=identicon&r=PG", "display_name": "kato sheen", "link": "https://stackoverflow.com/users/138787/kato-sheen"}, "edited": false, "score": 0, "creation_date": 1437600730, "post_id": 31573508, "comment_id": 51103658, "body": "(Unless, you add more to it later)"}], "tags": [], "owner": {"reputation": 320771, "user_id": 589924, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/b2cf53d5a3d25f95c0db4e025aed4153?s=128&d=identicon&r=PG", "display_name": "ikegami", "link": "https://stackoverflow.com/users/589924/ikegami"}, "is_accepted": true, "score": 6, "last_activity_date": 1437598042, "last_edit_date": 1437598042, "creation_date": 1437597371, "answer_id": 31573508, "question_id": 31573423, "link": "https://stackoverflow.com/questions/31573423/perls-array-variable-length-of-array/31573508#31573508", "title": "perls, array, variable length of array", "body": "<p>The following does what you requested:</p>\n\n<pre><code>@list = [ @tmp[ 0 .. $input-1 ] ];\n</code></pre>\n\n<p>The following does what you want:</p>\n\n<pre><code>my @list = @tmp[ 0 .. $input-1 ];\n</code></pre>\n\n<p>You can also do the latter in-place very efficiently using the following:</p>\n\n<pre><code>splice(@tmp, $input);\n</code></pre>\n"}], "owner": {"reputation": 193, "user_id": 138787, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/506f4b97912b9b3dd76e2df550d55305?s=128&d=identicon&r=PG", "display_name": "kato sheen", "link": "https://stackoverflow.com/users/138787/kato-sheen"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 62, "favorite_count": 0, "accepted_answer_id": 31573508, "answer_count": 2, "score": 2, "last_activity_date": 1437598661, "creation_date": 1437597079, "question_id": 31573423, "link": "https://stackoverflow.com/questions/31573423/perls-array-variable-length-of-array", "title": "perls, array, variable length of array", "body": "<p>I wish to modify one particular line in perl script :</p>\n\n<pre><code>@list = ([$tmp[0],$tmp[1],$tmp[2]]);\n</code></pre>\n\n<p>I have change it to this:</p>\n\n<pre><code>if( $input == 3 )\n{\n        @list = ([$tmp[0],$tmp[1],$tmp[2]]);\n}\nif( $input == 2 )\n{\n        @list = ([$tmp[0],$tmp[1]]);\n}\nif( $input == 1 )\n{\n        @list = ([$tmp[0]]);\n}\n</code></pre>\n\n<p>Above code works, but I would like it to works with <code>$input</code> values up to 40 .</p>\n\n<p>I try few different approaches but I am not able to code it in more elegant way, which really bother me.</p>\n\n<p>Much appreciated any help with it.</p>\n"}, {"tags": ["perl", "unicode", "utf-8", "readline"], "answers": [{"comments": [{"owner": {"reputation": 32176, "user_id": 2173773, "user_type": "registered", "accept_rate": 86, "profile_image": "https://i.stack.imgur.com/M8yh6.jpg?s=128&g=1", "display_name": "H&#229;kon H&#230;gland", "link": "https://stackoverflow.com/users/2173773/h%c3%a5kon-h%c3%a6gland"}, "edited": false, "score": 0, "creation_date": 1437599764, "post_id": 31574072, "comment_id": 51103155, "body": "Thanks, but why would it still work with command line option <code>-CS</code>?"}, {"owner": {"reputation": 32176, "user_id": 2173773, "user_type": "registered", "accept_rate": 86, "profile_image": "https://i.stack.imgur.com/M8yh6.jpg?s=128&g=1", "display_name": "H&#229;kon H&#230;gland", "link": "https://stackoverflow.com/users/2173773/h%c3%a5kon-h%c3%a6gland"}, "edited": false, "score": 0, "creation_date": 1437602295, "post_id": 31574072, "comment_id": 51104300, "body": "I see.. then it would be interesting to know why the <code>open qw( :std :utf8 )</code> pragma does not set <code>${^UNICODE}</code> variable.. maybe because it is read-only at that point? See <a href=\"https://metacpan.org/pod/distribution/perl/pod/perlvar.pod\" rel=\"nofollow noreferrer\">metacpan.org/pod/distribution/perl/pod/perlvar.pod</a> .."}, {"owner": {"reputation": 2450, "user_id": 1186729, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/ec301bbe6bfd4c849a29d715f6094745?s=128&d=identicon&r=PG", "display_name": "Denis Ibaev", "link": "https://stackoverflow.com/users/1186729/denis-ibaev"}, "reply_to_user": {"reputation": 32176, "user_id": 2173773, "user_type": "registered", "accept_rate": 86, "profile_image": "https://i.stack.imgur.com/M8yh6.jpg?s=128&g=1", "display_name": "H&#229;kon H&#230;gland", "link": "https://stackoverflow.com/users/2173773/h%c3%a5kon-h%c3%a6gland"}, "edited": false, "score": 1, "creation_date": 1437602938, "post_id": 31574072, "comment_id": 51104581, "body": "@H&#229;konH&#230;gland The <code>open qw(:std :utf8)</code> pragma makes <code>binmode(STDIN, &#39;:utf8&#39;)</code> (and <code>STDOUT</code>, and <code>STDERR</code>) only."}, {"owner": {"reputation": 32176, "user_id": 2173773, "user_type": "registered", "accept_rate": 86, "profile_image": "https://i.stack.imgur.com/M8yh6.jpg?s=128&g=1", "display_name": "H&#229;kon H&#230;gland", "link": "https://stackoverflow.com/users/2173773/h%c3%a5kon-h%c3%a6gland"}, "edited": false, "score": 0, "creation_date": 1437603287, "post_id": 31574072, "comment_id": 51104738, "body": "Ok, nice to know.. Then I wonder if <code>Term::ReadLine</code> should be patched to check if <code>:utf8</code> layer is set on <code>STDIN</code> maybe?  Also, regarding my last question: Any idea why <code>Term::ReadLine::Stub</code> corrupts the string if <code>-CS</code> is given?"}, {"owner": {"reputation": 2450, "user_id": 1186729, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/ec301bbe6bfd4c849a29d715f6094745?s=128&d=identicon&r=PG", "display_name": "Denis Ibaev", "link": "https://stackoverflow.com/users/1186729/denis-ibaev"}, "reply_to_user": {"reputation": 32176, "user_id": 2173773, "user_type": "registered", "accept_rate": 86, "profile_image": "https://i.stack.imgur.com/M8yh6.jpg?s=128&g=1", "display_name": "H&#229;kon H&#230;gland", "link": "https://stackoverflow.com/users/2173773/h%c3%a5kon-h%c3%a6gland"}, "edited": false, "score": 0, "creation_date": 1437649992, "post_id": 31574072, "comment_id": 51123487, "body": "I\u2019m not shure this behavior is wrong. What do you mean by speaking about corrupt?"}, {"owner": {"reputation": 32176, "user_id": 2173773, "user_type": "registered", "accept_rate": 86, "profile_image": "https://i.stack.imgur.com/M8yh6.jpg?s=128&g=1", "display_name": "H&#229;kon H&#230;gland", "link": "https://stackoverflow.com/users/2173773/h%c3%a5kon-h%c3%a6gland"}, "edited": false, "score": 0, "creation_date": 1437652046, "post_id": 31574072, "comment_id": 51124829, "body": "It transforms <code>&quot;&#229;&quot;</code> into two characters <code>&quot;&#195;&#165;&quot;</code>.. (octal &quot;\\303\\203\\302\\245&quot;).. this happens probably because UTF-8 <code>&quot;&#229;&quot;</code> is 0xc3 0xa5, If the latter two bytes are encoded again we obtain the corruption.."}, {"owner": {"reputation": 2450, "user_id": 1186729, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/ec301bbe6bfd4c849a29d715f6094745?s=128&d=identicon&r=PG", "display_name": "Denis Ibaev", "link": "https://stackoverflow.com/users/1186729/denis-ibaev"}, "reply_to_user": {"reputation": 32176, "user_id": 2173773, "user_type": "registered", "accept_rate": 86, "profile_image": "https://i.stack.imgur.com/M8yh6.jpg?s=128&g=1", "display_name": "H&#229;kon H&#230;gland", "link": "https://stackoverflow.com/users/2173773/h%c3%a5kon-h%c3%a6gland"}, "edited": false, "score": 0, "creation_date": 1437672967, "post_id": 31574072, "comment_id": 51140525, "body": "If you use <code>open qw(:std :utf8)</code> pragma and <code>-CS</code> option at the same time then code looks like <code>perl -MEncode=encode_utf8 -E &#39;my $s=&quot;\\xc3\\xa5&quot;; utf8::upgrade($s); say(encode_utf8($s))&#39;</code>. <code>Term::ReadLine</code> does <code>utf8::upgrade()</code> and <code>open</code> does <code>encode_utf8()</code>. As a result string will be corrupt."}], "tags": [], "owner": {"reputation": 2450, "user_id": 1186729, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/ec301bbe6bfd4c849a29d715f6094745?s=128&d=identicon&r=PG", "display_name": "Denis Ibaev", "link": "https://stackoverflow.com/users/1186729/denis-ibaev"}, "is_accepted": true, "score": 1, "last_activity_date": 1437602264, "last_edit_date": 1437602264, "creation_date": 1437599547, "answer_id": 31574072, "question_id": 31573117, "link": "https://stackoverflow.com/questions/31573117/using-termreadline-with-unicode-input/31574072#31574072", "title": "Using Term::ReadLine with Unicode input", "body": "<p><code>Term::ReadLine</code> does not read <code>STDIN</code>, it <a href=\"http://metacpan.org/source/FLORA/Term-ReadLine-1.14/lib/Term/ReadLine.pm#L272\" rel=\"nofollow\">opens new</a> filehandle. And so <code>use open qw(:std :utf8);</code> has no effect.</p>\n\n<p>You need to do something like this:</p>\n\n<pre class=\"lang-perl prettyprint-override\"><code>my $term = Term::ReadLine-&gt;new('name');\nbinmode($term-&gt;IN, ':utf8');\n</code></pre>\n\n<p><strong>Update about <code>-CS</code>:</strong></p>\n\n<p>Option <code>-C</code> sets some value to the magic variable <code>${^UNICODE}</code>. <code>-CS</code> (or <code>-CI</code>) option makes expression <code>${^UNICODE} &amp; 0x0001</code> true. And <code>Term::ReadLine</code> <a href=\"http://metacpan.org/source/FLORA/Term-ReadLine-1.14/lib/Term/ReadLine.pm#L222\" rel=\"nofollow\">sets UTF-8 flag on</a> for input string if <code>${^UNICODE} &amp; 0x0001</code> is true.</p>\n\n<p>Notice, option <code>-CS</code> is different from <code>binmode($term-&gt;IN, ':utf8')</code>. The first of which sets UTF-8 flag only, and the second encodes string.</p>\n"}, {"tags": [], "owner": {"reputation": 32176, "user_id": 2173773, "user_type": "registered", "accept_rate": 86, "profile_image": "https://i.stack.imgur.com/M8yh6.jpg?s=128&g=1", "display_name": "H&#229;kon H&#230;gland", "link": "https://stackoverflow.com/users/2173773/h%c3%a5kon-h%c3%a6gland"}, "is_accepted": false, "score": 1, "last_activity_date": 1463302655, "last_edit_date": 1495541346, "creation_date": 1463302655, "answer_id": 37236307, "question_id": 31573117, "link": "https://stackoverflow.com/questions/31573117/using-termreadline-with-unicode-input/37236307#37236307", "title": "Using Term::ReadLine with Unicode input", "body": "<p>As explained by Denis Ibaev in his <a href=\"https://stackoverflow.com/a/31574072/2173773\">answer</a>, the problem is that <code>Term::ReadLine</code> does not read <code>STDIN</code>, it opens a new input filehandle. As an alternative to calling <code>binmode($term-&gt;IN, ':utf8')</code>, it turns out one can make either of command line option <code>-CS</code> or <code>use open qw( :std :utf8)</code> work out of the box with <code>Term::ReadLine</code> by supplying <code>STDIN</code> as an argument to <code>Term::ReadLine-&gt;new()</code>, as explained in the answer to this question: <a href=\"https://stackoverflow.com/a/4967029/2173773\">Term::Readline: encoding-question</a>. </p>\n\n<p>For example:</p>\n\n<pre><code>use strict;\nuse utf8;\nuse open qw( :std :utf8 );\nuse warnings;\nuse Term::ReadLine;\n\nmy $term   = Term::ReadLine-&gt;new('Test', \\*STDIN, \\*STDOUT);\nmy $answer = $term-&gt;readline( 'Enter input: ' );\n</code></pre>\n"}], "owner": {"reputation": 32176, "user_id": 2173773, "user_type": "registered", "accept_rate": 86, "profile_image": "https://i.stack.imgur.com/M8yh6.jpg?s=128&g=1", "display_name": "H&#229;kon H&#230;gland", "link": "https://stackoverflow.com/users/2173773/h%c3%a5kon-h%c3%a6gland"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 348, "favorite_count": 1, "accepted_answer_id": 31574072, "answer_count": 2, "score": 2, "last_activity_date": 1463302655, "creation_date": 1437596032, "question_id": 31573117, "link": "https://stackoverflow.com/questions/31573117/using-termreadline-with-unicode-input", "title": "Using Term::ReadLine with Unicode input", "body": "<p>I am trying to figure out how to read Unicode input from the terminal using <a href=\"https://metacpan.org/pod/Term::ReadLine\" rel=\"nofollow\"><code>Term::ReadLine</code></a>. It turns out, if I enter a Unicode character at the prompt, the returned string varies depending on various settings. (I am running Ubuntu 14.10, and have installed <a href=\"https://metacpan.org/pod/Term::ReadLine::Gnu\" rel=\"nofollow\"><code>Term::ReadLine::Gnu</code></a>). For example (<code>p.pl</code>):</p>\n\n<pre><code>use open qw( :std :utf8 );\nuse strict;\nuse warnings;\n\nuse Devel::Peek;\nuse Term::ReadLine;\n\nmy $term   = Term::ReadLine-&gt;new('ProgramName');\n$term-&gt;ornaments( 0 );\nmy $ans = $term-&gt;readline(\"Enter message: \");\nDump ( $ans );\n</code></pre>\n\n<p>Running <code>p.pl</code> and typing <code>\u00e5</code> at the prompt gives output:</p>\n\n<pre><code>Enter message: \u00e5\nSV = PV(0x83a5a0) at 0x87c080\n  REFCNT = 1\n  FLAGS = (PADMY,POK,pPOK)\n  PV = 0x917500 \"\\303\\245\"\\0\n  CUR = 2\n  LEN = 10\n</code></pre>\n\n<p>So the returned string <code>$ans</code> has not set the <code>UTF-8</code> flag. However, if I run the program using <code>perl -CS p.pl</code>, the output is:</p>\n\n<pre><code>Enter message: \u00e5\nSV = PVMG(0x24c12e0) at 0x23050a0\n  REFCNT = 1\n  FLAGS = (PADMY,POK,pPOK,UTF8)\n  IV = 0\n  NV = 0\n  PV = 0x248faf0 \"\\303\\245\"\\0 [UTF8 \"\\x{e5}\"]\n  CUR = 2\n  LEN = 10\n</code></pre>\n\n<p>the UTF-8 flag is correctly set on <code>$ans</code>. So the first question is: Why is command line option <code>-CS</code> different from using the pragma <code>use open qw( :std :utf8 )</code>?</p>\n\n<p>Next, I tested <code>Term::ReadLine::Stub</code> with <code>-CS</code> option: </p>\n\n<pre><code>$ PERL_RL=Stub perl -CS p.pl\n</code></pre>\n\n<p>the output is now:</p>\n\n<pre><code>Enter message: \u00e5\nSV = PV(0xf97260) at 0xfd90c8\n  REFCNT = 1\n  FLAGS = (PADMY,POK,pPOK,UTF8)\n  PV = 0x10746e0 \"\\303\\203\\302\\245\"\\0 [UTF8 \"\\x{c3}\\x{a5}\"]\n  CUR = 4\n  LEN = 10\n</code></pre>\n\n<p>and the output string <code>$ans</code> has been doubly encoded, so the output is corrupted.. Is this a bug, or is it expected behavior?</p>\n"}, {"tags": ["perl", "hash"], "comments": [{"owner": {"reputation": 198290, "user_id": 1030675, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/957956ce51706d03f19a4dc85a767bb1?s=128&d=identicon&r=PG", "display_name": "choroba", "link": "https://stackoverflow.com/users/1030675/choroba"}, "edited": false, "score": 0, "creation_date": 1437593270, "post_id": 31571451, "comment_id": 51099419, "body": "What is the problem/question? Can you show 3 lines of input?"}, {"owner": {"reputation": 320771, "user_id": 589924, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/b2cf53d5a3d25f95c0db4e025aed4153?s=128&d=identicon&r=PG", "display_name": "ikegami", "link": "https://stackoverflow.com/users/589924/ikegami"}, "edited": false, "score": 0, "creation_date": 1437593865, "post_id": 31571451, "comment_id": 51099762, "body": "The only thing odd I see is <code>push @{$rollUpHash{$hashKey}}, $sumDeduct_NonDeduct_ytd;</code>"}, {"owner": {"reputation": 3135, "user_id": 4372759, "user_type": "registered", "accept_rate": 80, "profile_image": "https://i.stack.imgur.com/6zzjk.jpg?s=128&g=1", "display_name": "flybonzai", "link": "https://stackoverflow.com/users/4372759/flybonzai"}, "reply_to_user": {"reputation": 198290, "user_id": 1030675, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/957956ce51706d03f19a4dc85a767bb1?s=128&d=identicon&r=PG", "display_name": "choroba", "link": "https://stackoverflow.com/users/1030675/choroba"}, "edited": false, "score": 0, "creation_date": 1437595094, "post_id": 31571451, "comment_id": 51100436, "body": "@choroba it has been added to the OP."}], "answers": [{"tags": [], "owner": {"reputation": 38, "user_id": 5145189, "user_type": "registered", "profile_image": "https://graph.facebook.com/1076533502374293/picture?type=large", "display_name": "Chandar Kakarlapudi", "link": "https://stackoverflow.com/users/5145189/chandar-kakarlapudi"}, "is_accepted": false, "score": 0, "last_activity_date": 1437596827, "last_edit_date": 1437596827, "creation_date": 1437596165, "answer_id": 31573157, "question_id": 31571451, "link": "https://stackoverflow.com/questions/31571451/having-trouble-getting-values-to-sum-up-in-a-hash/31573157#31573157", "title": "Having trouble getting values to sum up in a hash", "body": "<p>There are different problems with this:</p>\n\n<p>First address issues when the keys does not repeat </p>\n\n<ol>\n<li>Your foreach print statement is in while loop.</li>\n</ol>\n\n<p>I printed the output and it is weird. \n3 lines of input gives 4 lines of output (add more new lines to see that)</p>\n\n<p>I will help fixing other issues as updates</p>\n"}, {"comments": [{"owner": {"reputation": 3135, "user_id": 4372759, "user_type": "registered", "accept_rate": 80, "profile_image": "https://i.stack.imgur.com/6zzjk.jpg?s=128&g=1", "display_name": "flybonzai", "link": "https://stackoverflow.com/users/4372759/flybonzai"}, "edited": false, "score": 0, "creation_date": 1437597062, "post_id": 31573184, "comment_id": 51101713, "body": "Fantastic, thank you.  Do the [] around my array make a copy of it?"}, {"owner": {"reputation": 25491, "user_id": 49197, "user_type": "registered", "accept_rate": 75, "profile_image": "https://www.gravatar.com/avatar/15ebf24a33a29b9efbf9924f530dd736?s=128&d=identicon&r=PG", "display_name": "Hynek -Pichi- Vychodil", "link": "https://stackoverflow.com/users/49197/hynek-pichi-vychodil"}, "reply_to_user": {"reputation": 3135, "user_id": 4372759, "user_type": "registered", "accept_rate": 80, "profile_image": "https://i.stack.imgur.com/6zzjk.jpg?s=128&g=1", "display_name": "flybonzai", "link": "https://stackoverflow.com/users/4372759/flybonzai"}, "edited": false, "score": 0, "creation_date": 1437598442, "post_id": 31573184, "comment_id": 51102490, "body": "Yep, exactly. You can think about it as <code>[@a]</code> is an equivalent of <code>do { my @b = @a; \\@b }</code> where <code>=</code> copy the content of the array. But I personally would prefer moving variable declaration inside of the loop."}], "tags": [], "owner": {"reputation": 25491, "user_id": 49197, "user_type": "registered", "accept_rate": 75, "profile_image": "https://www.gravatar.com/avatar/15ebf24a33a29b9efbf9924f530dd736?s=128&d=identicon&r=PG", "display_name": "Hynek -Pichi- Vychodil", "link": "https://stackoverflow.com/users/49197/hynek-pichi-vychodil"}, "is_accepted": false, "score": 1, "last_activity_date": 1437596227, "creation_date": 1437596227, "answer_id": 31573184, "question_id": 31571451, "link": "https://stackoverflow.com/questions/31571451/having-trouble-getting-values-to-sum-up-in-a-hash/31573184#31573184", "title": "Having trouble getting values to sum up in a hash", "body": "<p>You are storing a pointer to variable <code>@lineFields</code> inside to the <code>rollUpHash</code> hash, but it is the same variable. So you end up with hash which all values are the pointer to the same one array which content you repeatedly destroy and fill with some other content. It doesn't make sense. You have to move <code>my @lineFields</code> inside the <code>while</code> cycle or change line</p>\n\n<pre><code>$rollUpHash{$hashKey} = \\@lineFields;\n</code></pre>\n\n<p>into</p>\n\n<pre><code>$rollUpHash{$hashKey} = [@lineFields];\n</code></pre>\n"}, {"comments": [{"owner": {"reputation": 3135, "user_id": 4372759, "user_type": "registered", "accept_rate": 80, "profile_image": "https://i.stack.imgur.com/6zzjk.jpg?s=128&g=1", "display_name": "flybonzai", "link": "https://stackoverflow.com/users/4372759/flybonzai"}, "edited": false, "score": 0, "creation_date": 1437597695, "post_id": 31573199, "comment_id": 51102078, "body": "Thank you for the tips!! I will be walking through these to try and understand them a little better."}, {"owner": {"reputation": 3135, "user_id": 4372759, "user_type": "registered", "accept_rate": 80, "profile_image": "https://i.stack.imgur.com/6zzjk.jpg?s=128&g=1", "display_name": "flybonzai", "link": "https://stackoverflow.com/users/4372759/flybonzai"}, "edited": false, "score": 0, "creation_date": 1437600210, "post_id": 31573199, "comment_id": 51103384, "body": "Thank you sir, this did exactly what I wanted.  Now I just need to walk through the TEXT::CSV module to understand all the syntax!:)"}], "tags": [], "owner": {"reputation": 198290, "user_id": 1030675, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/957956ce51706d03f19a4dc85a767bb1?s=128&d=identicon&r=PG", "display_name": "choroba", "link": "https://stackoverflow.com/users/1030675/choroba"}, "is_accepted": true, "score": 2, "last_activity_date": 1437597788, "last_edit_date": 1437597788, "creation_date": 1437596285, "answer_id": 31573199, "question_id": 31571451, "link": "https://stackoverflow.com/questions/31571451/having-trouble-getting-values-to-sum-up-in-a-hash/31573199#31573199", "title": "Having trouble getting values to sum up in a hash", "body": "<p>It's not clear what you want to do with the <code>$sumDeduct_NonDeduct_ytd</code>: do you really want to append new sums to the line, or just replace the last column with it?</p>\n\n<p>Also, using <code>split /,/</code> on CSV that contains quoted commas is wrong. Use <a href=\"http://p3rl.org/Text::CSV\" rel=\"nofollow\">Text::CSV</a>:</p>\n\n<pre><code>#! /usr/bin/perl\nuse warnings;\nuse strict;\nuse feature qw{ say };\n\nuse Text::CSV;\n\nuse constant {\n    ND_AMT        =&gt; 14,\n    DEDUCT_AMT    =&gt; 15,\n    NONDEDUCT_YTD =&gt; 16,\n    DEDUCT_YTD    =&gt; 17,\n    PID           =&gt; 18,\n    DON_DATE      =&gt; 19,\n    AMOUNT        =&gt; 24,\n};\n\n\nmy $csv = 'Text::CSV'-&gt;new({ binary =&gt; 1 });\n\nmy %hash;\nopen my $IN, '&lt;:encoding(utf-8)', shift or die $!;\nwhile (my $row = $csv-&gt;getline($IN)) {\n    my $key = join ':', @{$row}[PID, DON_DATE];\n    if (exists $hash{$key}) {\n        $hash{$key}[$_] += $row-&gt;[$_] for ND_AMT, DEDUCT_AMT, NONDEDUCT_YTD,\n                                          DEDUCT_YTD, AMOUNT;\n        my $sum = $row-&gt;[DEDUCT_YTD] + $row-&gt;[NONDEDUCT_YTD];\n        $hash{$key}[-1] = $sum;      # Or do you mean something else?\n    } else {\n        $hash{$key} = $row;          # You can store the reference directly,\n    }                                # as you get a fresh new one for each iteration.\n}\n\nfor my $key (keys %hash) {\n    say \"$key : @{ $hash{$key} }\";   # You should rather use $csv-&gt;print.\n}\n</code></pre>\n"}], "owner": {"reputation": 3135, "user_id": 4372759, "user_type": "registered", "accept_rate": 80, "profile_image": "https://i.stack.imgur.com/6zzjk.jpg?s=128&g=1", "display_name": "flybonzai", "link": "https://stackoverflow.com/users/4372759/flybonzai"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 81, "favorite_count": 0, "accepted_answer_id": 31573199, "answer_count": 3, "score": 1, "last_activity_date": 1437597788, "creation_date": 1437590500, "last_edit_date": 1437595058, "question_id": 31571451, "link": "https://stackoverflow.com/questions/31571451/having-trouble-getting-values-to-sum-up-in-a-hash", "title": "Having trouble getting values to sum up in a hash", "body": "<p>I'm creating a pre-process script that will read in a csv file, look at two fields (P_ID and don_date), concatenate the two together to create a key for my hash entry, and then keep the line (split into an array) as my value for the key.  </p>\n\n<p>If another line in the file has the same p_id and don_date (which will match my catted hash key), I want to take the other values you see in the code and add them to the values of the existing hash entry.  I'm doing some testing, but I'm a little confused as to how referencing/de-referencing and all that works in Perl (I'm a Python guy), so that each line will have a unique P_ID/Don_Date value, or else it will be rolled up into an existing one.</p>\n\n<pre><code>my @lineFields = ();\nmy %rollUpHash = ();\n\n# Open file and loop through lines\n#foreach my $line (&lt;INFH&gt;)\nwhile(my $line = &lt;INFH&gt;)\n  {\n      # chomp($line);\n      # print STDERR \"New line in file\\n\";\n      # &lt;STDIN&gt;;\n      @lineFields = split(/,/, $line);\n\n      # Pull out pertinent values for possible roll-up into a total\n      my $p_id = $lineFields[18];\n      my $don_date = $lineFields[19];\n      my $nd_amt = $lineFields[14];\n      my $deduct_amt = $lineFields[15];\n      my $nondeduct_ytd = $lineFields[16];\n      my $deduct_ytd = $lineFields[17];\n      my $amount = $lineFields[24];\n      my $anonymous = $lineFields[26];\n      my $int_code_ex0003 = $lineFields[39];\n      my $int_code_ex0006 = $lineFields[40];\n      my $int_code_ex0028 = $lineFields[41];\n      my $sumDeduct_NonDeduct_ytd = $deduct_ytd + $nondeduct_ytd;\n      my $hashKey = $p_id . $don_date;\n      # say \"P_ID is $p_id\\nDon_Date is $don_date\\nND_Amt is $nd_amt\\nDeduct_Amt is $deduct_amt\\nNonDeduct_YTD is $nondeduct_ytd\\nDeduct_YTD is $deduct_ytd\\nAmount is $amount\\nAnonymous is $anonymous\\n0003 is $int_code_ex0003\\n0006 is $int_code_ex0006\\n0028 is $int_code_ex0028\";\n      # say \"hashKey is $hashKey\";\n      # say \"$sumDeduct_NonDeduct_ytd\";\n\n      if (exists($rollUpHash{$hashKey}))\n        {\n          say(\"Same key found, summing up!\")\n          $rollUpHash{$hashKey}[14] += $lineFields[14];\n          $rollUpHash{$hashKey}[15] += $lineFields[15];\n          $rollUpHash{$hashKey}[16] += $lineFields[16];\n          $rollUpHash{$hashKey}[17] += $lineFields[17];\n          $rollUpHash{$hashKey}[24] += $lineFields[24];\n          push @{$rollUpHash{$hashKey}}, $sumDeduct_NonDeduct_ytd;\n          # print %rollUpHash;\n        }\n      else\n        {\n          $rollUpHash{$hashKey} = \\@lineFields;\n        }\n        foreach my $key (keys %rollUpHash)\n        {\n            print OUTFH \"$key is @{$rollUpHash{$key}}\";\n        }\n</code></pre>\n\n<p>Here are three lines of scrubbed input data:</p>\n\n<pre><code>152099-00001,,100,100,400,100,175,100,700,200,200,500,0,0,0,300,0,2575,105666,10/28/14,197800,23764962,\"Jefferson,Mark\",300,1004,N,N,N,D,Mike and Bonnie,Mike and Bonnie Gregorovitch,715 81st St NE,,,Central,IL,52402-7256,UNITED STATES,,,,,Y,soandso@email.com,,(888) 888-8888,\"Jefferson,Mark\",2222B,BASIC,,\n342029-00015,,200,0,400,200,200,200,200,200,200,200,0,0,0,200,0,2000,3184444,09/27/14,197800,40949,\"Macrow,Gregory\",100,1004,N,N,N,D,John and Amber, John and Amber Meadows,PO Box 706,,,Logan,MD,01111-0704,UNITED STATES,,,,,Y,othersoandso@email,,(999) 999-9999,\"Macrow,Gregory\",2222B,BASIC,,\n342029-00014,,200,0,400,200,200,200,200,200,200,200,0,0,0,200,0,2000,3184444,09/27/14,197800,22145,\"Bartholomew,Vincent\",100,1004,N,N,N,D,John and Amber, John and Amber Meadows,PO Box 706,,,Logan,MD,01111-0704,UNITED STATES,,,,,Y,othersoandso@email,,(999) 999-9999,\"Bartholomew,Vincent\",2222B,BASIC,,\n</code></pre>\n\n<p>Any help sorting this problem out would be much appreciated!</p>\n"}, {"tags": ["regex", "perl"], "comments": [{"owner": {"reputation": 123805, "user_id": 622310, "user_type": "registered", "accept_rate": 33, "profile_image": "https://www.gravatar.com/avatar/8b6d35219e1808520bc238b28161e2e6?s=128&d=identicon&r=PG", "display_name": "Borodin", "link": "https://stackoverflow.com/users/622310/borodin"}, "edited": false, "score": 3, "creation_date": 1437588466, "post_id": 31570597, "comment_id": 51096383, "body": "I am uncomfortable with aiding what sounds like a simple prejudice against perfectly satisfactory Windows tools. Yes, Perl will do what you ask, and it may be exactly what Dreamweaver does, but I would hope to encourage you towards something <i>better</i> rather than replicating the same poor design on anything non-Windows. If I have misunderstood you then please explain"}, {"owner": {"reputation": 81037, "user_id": 8454, "user_type": "registered", "accept_rate": 100, "profile_image": "https://i.stack.imgur.com/2NlHs.png?s=128&g=1", "display_name": "Andy Lester", "link": "https://stackoverflow.com/users/8454/andy-lester"}, "edited": false, "score": 1, "creation_date": 1437590209, "post_id": 31570597, "comment_id": 51097433, "body": "It sounds like what you&#39;re doing is writing your own templating system, but Perl already has a number of templating systems for you to choose from.  I suggest you start with Template Toolkit.  <a href=\"http://template-toolkit.org/\" rel=\"nofollow noreferrer\">template-toolkit.org</a>"}, {"owner": {"reputation": 257, "user_id": 4651567, "user_type": "registered", "accept_rate": 83, "profile_image": "https://lh4.googleusercontent.com/-l0TbyUB0W20/AAAAAAAAAAI/AAAAAAAAAGM/6j-KMoMDHzg/photo.jpg?sz=128", "display_name": "David Provost", "link": "https://stackoverflow.com/users/4651567/david-provost"}, "reply_to_user": {"reputation": 123805, "user_id": 622310, "user_type": "registered", "accept_rate": 33, "profile_image": "https://www.gravatar.com/avatar/8b6d35219e1808520bc238b28161e2e6?s=128&d=identicon&r=PG", "display_name": "Borodin", "link": "https://stackoverflow.com/users/622310/borodin"}, "edited": false, "score": 0, "creation_date": 1437590381, "post_id": 31570597, "comment_id": 51097567, "body": "@Borodin - My thing against Adobe products is they are very processor intensive.  And running Linux I have to run Dreamweaver in Virtual Machine, which is more processor intensive.  And since I like to program, why wouldn&#39;t I take the time to learn how to do it in code instead of relying on third party software which costs money??? The command line is also faster. Using ImageMagick instead of Adobe saves me lots of time.  Not having to open up Dreamweaver (after booting Windows VM) just to update the nav when I can run a script is more ideal to a Linux programmer."}], "answers": [{"comments": [{"owner": {"reputation": 257, "user_id": 4651567, "user_type": "registered", "accept_rate": 83, "profile_image": "https://lh4.googleusercontent.com/-l0TbyUB0W20/AAAAAAAAAAI/AAAAAAAAAGM/6j-KMoMDHzg/photo.jpg?sz=128", "display_name": "David Provost", "link": "https://stackoverflow.com/users/4651567/david-provost"}, "edited": false, "score": 0, "creation_date": 1437778029, "post_id": 31571725, "comment_id": 51190815, "body": "How can I write back out the file rather than print?"}, {"owner": {"reputation": 257, "user_id": 4651567, "user_type": "registered", "accept_rate": 83, "profile_image": "https://lh4.googleusercontent.com/-l0TbyUB0W20/AAAAAAAAAAI/AAAAAAAAAGM/6j-KMoMDHzg/photo.jpg?sz=128", "display_name": "David Provost", "link": "https://stackoverflow.com/users/4651567/david-provost"}, "edited": false, "score": 0, "creation_date": 1437876983, "post_id": 31571725, "comment_id": 51212930, "body": "How do I run this on multiple files at once?  i.e. - I want to script to update each .html page in directory with the nav.lbi."}, {"owner": {"reputation": 4161, "user_id": 449215, "user_type": "registered", "accept_rate": 38, "profile_image": "https://www.gravatar.com/avatar/02b9a3cc087554f3426b4c83c1c68bff?s=128&d=identicon&r=PG", "display_name": "Dov Grobgeld", "link": "https://stackoverflow.com/users/449215/dov-grobgeld"}, "reply_to_user": {"reputation": 257, "user_id": 4651567, "user_type": "registered", "accept_rate": 83, "profile_image": "https://lh4.googleusercontent.com/-l0TbyUB0W20/AAAAAAAAAAI/AAAAAAAAAGM/6j-KMoMDHzg/photo.jpg?sz=128", "display_name": "David Provost", "link": "https://stackoverflow.com/users/4651567/david-provost"}, "edited": false, "score": 0, "creation_date": 1437939500, "post_id": 31571725, "comment_id": 51228838, "body": "If you are going to use a language, I suggest that you take the time to learn it. ;-) At least basic things like opening files for reading and writing. Besides I see that someone already elaborated on my answer. And I who was going to suggest a function called <code>burp()</code> doing the opposite of <code>slurp()</code>. :-)"}], "tags": [], "owner": {"reputation": 4161, "user_id": 449215, "user_type": "registered", "accept_rate": 38, "profile_image": "https://www.gravatar.com/avatar/02b9a3cc087554f3426b4c83c1c68bff?s=128&d=identicon&r=PG", "display_name": "Dov Grobgeld", "link": "https://stackoverflow.com/users/449215/dov-grobgeld"}, "is_accepted": false, "score": 1, "last_activity_date": 1437881308, "last_edit_date": 1437881308, "creation_date": 1437591436, "answer_id": 31571725, "question_id": 31570597, "link": "https://stackoverflow.com/questions/31570597/replace-all-text-within-two-strings-on-different-lines-using-perl/31571725#31571725", "title": "Replace all text within two strings on different lines using Perl", "body": "<p>Just add a <code>s</code> at the end of the regular expression to make dot match new lines as well. See <code>man perlre</code>:</p>\n\n<pre><code># or use File::Slurp;\nsub slurp {\n    my $fn = shift;\n    open(IN,$fn);\n    return join('',&lt;IN&gt;);\n}\n\nmy $_ = slurp(\"in.html\");\nmy $new_menu_items = slurp(\"nav.lbi\");\n\ns/&lt;!--MENUITEMS--&gt;(.*)&lt;!--MENUEND--&gt;/$new_menu_items/s;\nprint;\n</code></pre>\n\n<p><br>\nTo save the output to a new file rather than just printing it, you need to specifiy the output file, and print to it, so the above code would become:</p>\n\n<pre><code>sub slurp {\n     my $fn = shift;\n     open(IN,$fn);\n     return join('',&lt;IN&gt;);\n }   \n\n my $_ = slurp(\"in.html\");\n my $new_menu_items = slurp(\"nav.lbi\");\n open my $output_file, '&gt;', 'output.html';\n\n s/&lt;!--MENUITEM--&gt;(.*)&lt;!--MENUEND--&gt;/$new_menu_items/s;\n print $output_file $_;\n</code></pre>\n\n<p>For more information on slurping in Perl:<br>\n<a href=\"http://www.perl.com/pub/2003/11/21/slurp.html\" rel=\"nofollow\">http://www.perl.com/pub/2003/11/21/slurp.html</a></p>\n"}, {"tags": [], "owner": {"reputation": 565, "user_id": 4671121, "user_type": "registered", "accept_rate": 80, "profile_image": "https://i.stack.imgur.com/eyiN7.png?s=128&g=1", "display_name": "OB7", "link": "https://stackoverflow.com/users/4671121/ob7"}, "is_accepted": true, "score": 0, "last_activity_date": 1443630567, "last_edit_date": 1443630567, "creation_date": 1437882182, "answer_id": 31633419, "question_id": 31570597, "link": "https://stackoverflow.com/questions/31570597/replace-all-text-within-two-strings-on-different-lines-using-perl/31633419#31633419", "title": "Replace all text within two strings on different lines using Perl", "body": "<p>The following builds upon Dov Grobgelds answer, but has the additional functionality added asked about in the comments to his answer. Precisely it runs the multi line find and replace on all html files in the directory and overwrites the original file:</p>\n\n<pre><code>#!/usr/bin/perl\n\nuse strict;\nuse warnings;\n\nsub slurp {\n    my $fn = shift;\n    open(IN,$fn);\n    return join('',&lt;IN&gt;);\n}\n\nmy @files = grep ( -f ,&lt;*.html&gt;);\nfor my $file (@files) {\n    print \"$file\\n\";\n    my $_ = slurp(\"$file\");\n    my $new_menu_items = slurp(\"nav.lbi\");\n    open my $output_file, '&gt;', \"$file\";\n    s/&lt;!--MENUITEMS--&gt;(.*)&lt;!--MENUEND--&gt;/$new_menu_items/s;\n    print $output_file $_;\n}\n</code></pre>\n\n<p><b>Explanation:</b><br>\nThe first question was how to print the output to a file, rather than just the terminal. (refer to Dov Grobgelds answer to compare the original code)<br>\n1.Specifiy what that output file will be:<br></p>\n\n<pre><code>open my $output_file, '&gt;', 'output.html';\n</code></pre>\n\n<p>Then print its output to the file:<br>\n    <code>print;</code> - from original answer <br>\nbecomes:</p>\n\n<pre><code>print $output_file $_;\n</code></pre>\n\n<p>Now to make your script run on all the html files in the directory, we need to turn this script into something more dynamic.  We need to store all .html files in vars in an array, and then iterate through the array, storing each .html to var, then running the slurp/regex code on each file.<br>\nFirst declare the variable that holds the html files and populate it with .html files in current directory:<br></p>\n\n<pre><code>my @files = grep ( -f ,&lt;*.html&gt;);\n</code></pre>\n\n<p>The rest of the magic happens by wrapping the original slurp and regex code in a for loop:</p>\n\n<pre><code>#for each file in files array, file is stored via my $file:\nfor my $file (@files) {\n    #unecessary put prints out file filename loop is working on:\n    print \"$file\\n\";\n    #default var becomes current file contents:\n    my $_ = slurp(\"$file\");\n    #this part isn't dynamic, its same each loop, there might be a better\n    #place to put this:\n    my $new_menu_items = slurp(\"nav.lbi\");\n    #makes your output filename the same as the input:\n    open my $output_file, '&gt;', \"$file\";\n    #runs the regex replace on the file contents of orig file\n    s/&lt;!--MENUITEMS--&gt;(.*)&lt;!--MENUEND--&gt;/$new_menu_items/s;\n    #saves the contents back out to the original file \n    #(overwriting it with original data loaded after running regex on it:)\n    print $output_file $_;\n}\n</code></pre>\n\n<p><br>\nNow lets say your closing tag is not unique, as in a Dreamweaver template, you can add ? to (.*) to match only to the first occurance, instead of the last:<br></p>\n\n<pre><code>s/&lt;!--MENUITEMS--&gt;(.*?)&lt;!--LIBRARYITEMEND--&gt;/$new_menu_items/s;\n</code></pre>\n"}], "owner": {"reputation": 257, "user_id": 4651567, "user_type": "registered", "accept_rate": 83, "profile_image": "https://lh4.googleusercontent.com/-l0TbyUB0W20/AAAAAAAAAAI/AAAAAAAAAGM/6j-KMoMDHzg/photo.jpg?sz=128", "display_name": "David Provost", "link": "https://stackoverflow.com/users/4651567/david-provost"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 146, "favorite_count": 0, "accepted_answer_id": 31633419, "answer_count": 2, "score": 0, "last_activity_date": 1598216038, "creation_date": 1437587814, "last_edit_date": 1598216038, "question_id": 31570597, "link": "https://stackoverflow.com/questions/31570597/replace-all-text-within-two-strings-on-different-lines-using-perl", "title": "Replace all text within two strings on different lines using Perl", "body": "<p>I am a web developer.  The agency I work for uses Dreamweaver for its templating/library item features.  The library items really come in handy for updating a nav bar or some piece of content thats the same on every page.  We work with static HTML most of the time.  So to change a menu item, we use a dreamweaver library item, we update that item once, we press update, and it changes it across every html page in the project.<br>\n<br>\nBut I would like to make a perl script I can run from the command line instead of opening up a GUI, it would simply be faster.</p>\n<p>So for example, lets say I have a menu coded like this:</p>\n<pre><code>&lt;!--MENUITEMS--&gt;\n&lt;li&gt;&lt;a href=&quot;products.html&quot;&gt;Products&lt;/a&gt;&lt;/li&gt;\n&lt;li&gt;&lt;a href=&quot;about_us.html&quot;&gt;About Us&lt;/a&gt;&lt;/li&gt;\n&lt;li&gt;&lt;a href=&quot;commercial.html&quot;&gt;Commercial&lt;/a&gt;&lt;/li&gt;\n&lt;li&gt;&lt;a href=&quot;contact.html&quot;&gt;Contact&lt;/a&gt;&lt;/li&gt;\n&lt;!--MENUEND--&gt;\n</code></pre>\n<p>I will store the li items code in their own file: nav.lbi:</p>\n<pre><code>&lt;li&gt;&lt;a href=&quot;products.html&quot;&gt;Products&lt;/a&gt;&lt;/li&gt;\n&lt;li&gt;&lt;a href=&quot;about_us.html&quot;&gt;About Us&lt;/a&gt;&lt;/li&gt;\n&lt;li&gt;&lt;a href=&quot;commercial.html&quot;&gt;Commercial&lt;/a&gt;&lt;/li&gt;\n&lt;li&gt;&lt;a href=&quot;contact.html&quot;&gt;Contact&lt;/a&gt;&lt;/li&gt;\n</code></pre>\n<p>The perl script needs to replace in each file it scans all the text between <code>&lt;!--MENUITEMS--&gt;</code>\nand <code>&lt;!--MENUEND--&gt;</code> with the contents of nav.lbi.</p>\n<p>I was going to first try this in SED, but SED is tailored for line by line stuff. I have had success using SED to insert an entire text file somewhere in another file, but this is a bit different.  With Perl I know I should be able to replace all the text between every occurance of <code>&lt;!---MENUITEMS--&gt;</code> and <code>&lt;!--MENUEND--&gt;</code> with the contents of nav.lbi, even though it spans multiple lines.<br>\n<br>\nIf I need to add the <code>&lt;!--MENUITEMS--&gt;</code> and <code>&lt;!--MENUEND--&gt;</code> tags to the actually nav.lbi file, since its doing a search and replace, if that would make it easier, that is fine too.  This is just so I can update the navigation bar across multiple html files without needing to touch Dreamweaver.<br><br>\nOne last thing to note is there is multiple occurances of <code>&lt;!--MENUITEMS--&gt;</code> and the closing <code>&lt;!--MENUEND--&gt;</code> because the navigation in the header is often identical to the navigation in the footer, so I need to update the file recursively.</p>\n"}, {"tags": ["perl"], "comments": [{"owner": {"reputation": 21782, "user_id": 176646, "user_type": "registered", "accept_rate": 88, "profile_image": "https://i.stack.imgur.com/HsQyV.png?s=128&g=1", "display_name": "ThisSuitIsBlackNot", "link": "https://stackoverflow.com/users/176646/thissuitisblacknot"}, "edited": false, "score": 5, "creation_date": 1437585875, "post_id": 31569878, "comment_id": 51094838, "body": "There&#39;s no connection. The online documentation automatically adds a link when it encounters the name of a built-in function/operator. Notice that there&#39;s also a link to <code>for</code> in the line <code>Same for access time.</code> later in the page, even though there&#39;s no talk of loops. These links do not exist in the original POD documentation."}], "answers": [{"tags": [], "owner": {"reputation": 228853, "user_id": 827263, "user_type": "registered", "accept_rate": 54, "profile_image": "https://www.gravatar.com/avatar/216c1db53d752f87dd8176a6ba0c2190?s=128&d=identicon&r=PG", "display_name": "Keith Thompson", "link": "https://stackoverflow.com/users/827263/keith-thompson"}, "is_accepted": true, "score": 5, "last_activity_date": 1437586534, "last_edit_date": 1437586534, "creation_date": 1437585890, "answer_id": 31569984, "question_id": 31569878, "link": "https://stackoverflow.com/questions/31569878/is-there-a-relationship-between-the-e-file-test-and-exists-function/31569984#31569984", "title": "Is there a relationship between the -e file test and exists function?", "body": "<p>The word \"exists\" there doesn't refer to the <code>exists()</code> function; it's just using the word with its ordinary English meaning. The <code>-e</code> operator and the <code>exists</code> function are unrelated.</p>\n\n<p><code>-e filename</code> tests whether the named file exists in the file system.</p>\n\n<p>The <code>exists</code> function tests whether a specified hash or array element exists (even if the corresponding value is <code>undef</code>).</p>\n\n<p>Apparently, as ThisSuitIsBlackNot points out in a comment, the online documentation has automatically created links for certain words, including <code>exists</code>. Similarly, the description of the <code>-l</code> operator:</p>\n\n<blockquote>\n  <p><code>-l</code>  File is a symbolic <em>link</em> (false <em>if</em> symlinks aren't supported by the file <em>system</em>).</p>\n</blockquote>\n\n<p>has HTML links for <code>link</code>, <code>if</code>, and <code>system</code>, none of which are directly relevant.</p>\n\n<p>Given that the web pages for the Perl documents have links like this, it might be nice if POD had a syntax to say that a particular word should not be linked -- but I'm not convinced it's worth the effort. The links are easy enough to ignore once you realize what's going on.</p>\n"}, {"tags": [], "owner": {"reputation": 113221, "user_id": 100754, "user_type": "registered", "accept_rate": 90, "profile_image": "https://www.gravatar.com/avatar/7804ebae32fbadef38537d74a915c22f?s=128&d=identicon&r=PG", "display_name": "Sinan &#220;n&#252;r", "link": "https://stackoverflow.com/users/100754/sinan-%c3%9cn%c3%bcr"}, "is_accepted": false, "score": 1, "last_activity_date": 1437616518, "creation_date": 1437616518, "answer_id": 31576932, "question_id": 31569878, "link": "https://stackoverflow.com/questions/31569878/is-there-a-relationship-between-the-e-file-test-and-exists-function/31576932#31576932", "title": "Is there a relationship between the -e file test and exists function?", "body": "<p>Not only does the link not exist in the original POD, there is also no such link when you look at it on <a href=\"https://metacpan.org/pod/perlfunc#X\" rel=\"nofollow noreferrer\">metacpan</a>:</p>\n\n<p><a href=\"https://i.stack.imgur.com/hPxQi.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/hPxQi.png\" alt=\"-e docs on metacpan\"></a></p>\n"}], "owner": {"reputation": 751, "user_id": 3299282, "user_type": "registered", "accept_rate": 52, "profile_image": "https://www.gravatar.com/avatar/669a479b873fa683ddd20e4b03d6751d?s=128&d=identicon&r=PG&f=1", "display_name": "lzc", "link": "https://stackoverflow.com/users/3299282/lzc"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 53, "favorite_count": 0, "accepted_answer_id": 31569984, "answer_count": 2, "score": -1, "last_activity_date": 1437616518, "creation_date": 1437585520, "last_edit_date": 1437616274, "question_id": 31569878, "link": "https://stackoverflow.com/questions/31569878/is-there-a-relationship-between-the-e-file-test-and-exists-function", "title": "Is there a relationship between the -e file test and exists function?", "body": "<p>Reading the docs for the <a href=\"http://perldoc.perl.org/functions/-X.html\" rel=\"nofollow\">-e file test</a> it says:</p>\n\n<p>-e  File <strong><a href=\"http://perldoc.perl.org/functions/exists.html\" rel=\"nofollow\">exists</a></strong></p>\n\n<p>Is there something, I'm missing about any relationship between <code>-e</code> and the <code>exists</code> function ?</p>\n"}, {"tags": ["perl"], "answers": [{"comments": [{"owner": {"reputation": 320771, "user_id": 589924, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/b2cf53d5a3d25f95c0db4e025aed4153?s=128&d=identicon&r=PG", "display_name": "ikegami", "link": "https://stackoverflow.com/users/589924/ikegami"}, "edited": false, "score": 2, "creation_date": 1437588673, "post_id": 31570193, "comment_id": 51096525, "body": "<code>@array[1..3]</code> isn&#39;t a list; it&#39;s an array slice. In list context, it returns the last scalar that would have been returned in list context. This is actually different than a list in scalar context."}, {"owner": {"reputation": 123805, "user_id": 622310, "user_type": "registered", "accept_rate": 33, "profile_image": "https://www.gravatar.com/avatar/8b6d35219e1808520bc238b28161e2e6?s=128&d=identicon&r=PG", "display_name": "Borodin", "link": "https://stackoverflow.com/users/622310/borodin"}, "reply_to_user": {"reputation": 320771, "user_id": 589924, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/b2cf53d5a3d25f95c0db4e025aed4153?s=128&d=identicon&r=PG", "display_name": "ikegami", "link": "https://stackoverflow.com/users/589924/ikegami"}, "edited": false, "score": 0, "creation_date": 1437590387, "post_id": 31570193, "comment_id": 51097573, "body": "<b><i>&quot;In list context, it returns the last scalar that would have been returned in list context&quot;</i></b> Uh, it <i>is</i> in list context. Do you want to rewrite that?"}, {"owner": {"reputation": 320771, "user_id": 589924, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/b2cf53d5a3d25f95c0db4e025aed4153?s=128&d=identicon&r=PG", "display_name": "ikegami", "link": "https://stackoverflow.com/users/589924/ikegami"}, "edited": false, "score": 1, "creation_date": 1437590838, "post_id": 31570193, "comment_id": 51097882, "body": "s/In list context/In scalar context/"}], "tags": [], "owner": {"reputation": 123805, "user_id": 622310, "user_type": "registered", "accept_rate": 33, "profile_image": "https://www.gravatar.com/avatar/8b6d35219e1808520bc238b28161e2e6?s=128&d=identicon&r=PG", "display_name": "Borodin", "link": "https://stackoverflow.com/users/622310/borodin"}, "is_accepted": false, "score": 1, "last_activity_date": 1437586574, "creation_date": 1437586574, "answer_id": 31570193, "question_id": 31569777, "link": "https://stackoverflow.com/questions/31569777/why-does-perl-only-dereference-the-last-index-when-the-range-operator-is-used/31570193#31570193", "title": "Why does perl only dereference the last index when the range operator is used?", "body": "<p>The <code>@{ ... }</code> construction dereferences the <em>scalar value</em> of the code within the braces as an array</p>\n\n<p>I'm unclear what you expect from <code>@{ @array[1..3] }</code>, but the list<code>@array[1..3]</code> in <em>scalar context</em> returns just the last element of the list -- <code>$array[3]</code> -- so you are asking for <code>@{  $array[3]  }</code> which I guess is what you got</p>\n\n<p>If you explain what you want to print then I am sure we can help, but dereferencing a list makes little sense</p>\n"}, {"tags": [], "owner": {"reputation": 110113, "user_id": 168657, "user_type": "registered", "accept_rate": 92, "profile_image": "https://www.gravatar.com/avatar/f14e7610fca39322ebbf23530def15f8?s=128&d=identicon&r=PG", "display_name": "mob", "link": "https://stackoverflow.com/users/168657/mob"}, "is_accepted": false, "score": 1, "last_activity_date": 1437586617, "creation_date": 1437586617, "answer_id": 31570205, "question_id": 31569777, "link": "https://stackoverflow.com/questions/31569777/why-does-perl-only-dereference-the-last-index-when-the-range-operator-is-used/31570205#31570205", "title": "Why does perl only dereference the last index when the range operator is used?", "body": "<p><code>@array[1..3]</code> is a list of 3 array references. You can't dereference them all at once, so you should iterate over this list and dereference each element separately:</p>\n\n<pre><code>print @$_ for @array[1..3];\nprint \"@$_\\n\" for @array[1..3];  # for better looking output\n</code></pre>\n"}, {"comments": [{"owner": {"reputation": 123805, "user_id": 622310, "user_type": "registered", "accept_rate": 33, "profile_image": "https://www.gravatar.com/avatar/8b6d35219e1808520bc238b28161e2e6?s=128&d=identicon&r=PG", "display_name": "Borodin", "link": "https://stackoverflow.com/users/622310/borodin"}, "edited": false, "score": 4, "creation_date": 1437587869, "post_id": 31570212, "comment_id": 51096015, "body": "<b><i>\u201cThe rule is that there is no general rule\u201d</i></b> That just isn&#39;t true. A <i>list</i> in scalar context evaluates to the last element of the list. An <i>array</i> in scalar context evaluates to the number of elements in the array."}, {"owner": {"reputation": 320771, "user_id": 589924, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/b2cf53d5a3d25f95c0db4e025aed4153?s=128&d=identicon&r=PG", "display_name": "ikegami", "link": "https://stackoverflow.com/users/589924/ikegami"}, "reply_to_user": {"reputation": 123805, "user_id": 622310, "user_type": "registered", "accept_rate": 33, "profile_image": "https://www.gravatar.com/avatar/8b6d35219e1808520bc238b28161e2e6?s=128&d=identicon&r=PG", "display_name": "Borodin", "link": "https://stackoverflow.com/users/622310/borodin"}, "edited": false, "score": 2, "creation_date": 1437588404, "post_id": 31570212, "comment_id": 51096339, "body": "@Borodin, Re &lt;&lt;\u201cThe rule is that there is no general rule\u201d That just isn&#39;t true.&gt;&gt; So what&#39;s the general rule? You only mentioned two specific operators. What general rules covers the 100s of others? What about the one the OP used (array slice)? The thing is, Wumpus is correct. <a href=\"http://www.perlmonks.org/?node_id=347416\" rel=\"nofollow noreferrer\"><b>There isn&#39;t a general rule</b></a>."}, {"owner": {"reputation": 123805, "user_id": 622310, "user_type": "registered", "accept_rate": 33, "profile_image": "https://www.gravatar.com/avatar/8b6d35219e1808520bc238b28161e2e6?s=128&d=identicon&r=PG", "display_name": "Borodin", "link": "https://stackoverflow.com/users/622310/borodin"}, "reply_to_user": {"reputation": 320771, "user_id": 589924, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/b2cf53d5a3d25f95c0db4e025aed4153?s=128&d=identicon&r=PG", "display_name": "ikegami", "link": "https://stackoverflow.com/users/589924/ikegami"}, "edited": false, "score": 0, "creation_date": 1437590134, "post_id": 31570212, "comment_id": 51097391, "body": "@ikegami: Oh dear. Announcing that there is no pattern, rhyme or reason to Perl&#39;s behaviour is just fodder to its detractors and isn&#39;t true. I didn&#39;t mention <i>any</i> operators, but the binding operator <code>=~</code> and the horrible smart match <code>~~</code> are irregular. Everything else is more or less predictable, which is what <b><i>general</i></b> means. And I&#39;m going to bail out right now before you indulge yourself in another unprovable semantics argument."}, {"owner": {"user_type": "does_not_exist", "display_name": "user2404501"}, "edited": false, "score": 1, "creation_date": 1437590379, "post_id": 31570212, "comment_id": 51097564, "body": "I was quoting (approximately, from memory) perlfunc itself. Here&#39;s the exact sentence: <code>There is no rule that relates the behavior of an expression in list context to its behavior in scalar context, or vice versa.</code>"}, {"owner": {"reputation": 320771, "user_id": 589924, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/b2cf53d5a3d25f95c0db4e025aed4153?s=128&d=identicon&r=PG", "display_name": "ikegami", "link": "https://stackoverflow.com/users/589924/ikegami"}, "reply_to_user": {"reputation": 123805, "user_id": 622310, "user_type": "registered", "accept_rate": 33, "profile_image": "https://www.gravatar.com/avatar/8b6d35219e1808520bc238b28161e2e6?s=128&d=identicon&r=PG", "display_name": "Borodin", "link": "https://stackoverflow.com/users/622310/borodin"}, "edited": false, "score": 1, "creation_date": 1437590713, "post_id": 31570212, "comment_id": 51097788, "body": "@Borodin, Re &quot;I didn&#39;t mention any operators&quot;, You gave the behaviour of the list operator and the array operator while incorrectly claiming there&#39;s a general rule governing what operators return in scalar context. <b>It&#39;s impossible to predict how an operator will behave in scalar context; there is no rule or guidelines to help.</b>"}, {"owner": {"reputation": 123805, "user_id": 622310, "user_type": "registered", "accept_rate": 33, "profile_image": "https://www.gravatar.com/avatar/8b6d35219e1808520bc238b28161e2e6?s=128&d=identicon&r=PG", "display_name": "Borodin", "link": "https://stackoverflow.com/users/622310/borodin"}, "edited": false, "score": 0, "creation_date": 1437590951, "post_id": 31570212, "comment_id": 51097954, "body": "And yet millions of Perl programmers daily write fully-functional software without memorising huge tables of context and behaviour per operator and function. Amazing!"}, {"owner": {"reputation": 320771, "user_id": 589924, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/b2cf53d5a3d25f95c0db4e025aed4153?s=128&d=identicon&r=PG", "display_name": "ikegami", "link": "https://stackoverflow.com/users/589924/ikegami"}, "reply_to_user": {"reputation": 123805, "user_id": 622310, "user_type": "registered", "accept_rate": 33, "profile_image": "https://www.gravatar.com/avatar/8b6d35219e1808520bc238b28161e2e6?s=128&d=identicon&r=PG", "display_name": "Borodin", "link": "https://stackoverflow.com/users/622310/borodin"}, "edited": false, "score": 1, "creation_date": 1437591039, "post_id": 31570212, "comment_id": 51098003, "body": "@Borodin, Yup, but they did it by learning or looking up how those operators behave in scalar context, not by learning some non-existent rule. (Aside from the obvious one: If an operator normally returns a scalar in list context, it&#39;ll return that same scalar in scalar context)"}, {"owner": {"reputation": 21782, "user_id": 176646, "user_type": "registered", "accept_rate": 88, "profile_image": "https://i.stack.imgur.com/HsQyV.png?s=128&g=1", "display_name": "ThisSuitIsBlackNot", "link": "https://stackoverflow.com/users/176646/thissuitisblacknot"}, "edited": false, "score": 0, "creation_date": 1437591544, "post_id": 31570212, "comment_id": 51098339, "body": "Is there documentation explaining that <code>@{ }</code> evaluates its operand in scalar context? (It makes sense conceptually, but I&#39;m just curious.)"}, {"owner": {"reputation": 320771, "user_id": 589924, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/b2cf53d5a3d25f95c0db4e025aed4153?s=128&d=identicon&r=PG", "display_name": "ikegami", "link": "https://stackoverflow.com/users/589924/ikegami"}, "reply_to_user": {"reputation": 21782, "user_id": 176646, "user_type": "registered", "accept_rate": 88, "profile_image": "https://i.stack.imgur.com/HsQyV.png?s=128&g=1", "display_name": "ThisSuitIsBlackNot", "link": "https://stackoverflow.com/users/176646/thissuitisblacknot"}, "edited": false, "score": 0, "creation_date": 1437594711, "post_id": 31570212, "comment_id": 51100218, "body": "@ThisSuitIsBlackNot, That&#39;s really just an array, so it should and does behave as <code>@a</code>.  In fact, if <code>@a</code> isn&#39;t a lexical, there&#39;s no difference between <code>@a</code> and <code>@{&quot;a&quot;}</code> except when the glob is located."}, {"owner": {"reputation": 21782, "user_id": 176646, "user_type": "registered", "accept_rate": 88, "profile_image": "https://i.stack.imgur.com/HsQyV.png?s=128&g=1", "display_name": "ThisSuitIsBlackNot", "link": "https://stackoverflow.com/users/176646/thissuitisblacknot"}, "reply_to_user": {"reputation": 320771, "user_id": 589924, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/b2cf53d5a3d25f95c0db4e025aed4153?s=128&d=identicon&r=PG", "display_name": "ikegami", "link": "https://stackoverflow.com/users/589924/ikegami"}, "edited": false, "score": 0, "creation_date": 1437604882, "post_id": 31570212, "comment_id": 51105395, "body": "@ikegami I didn&#39;t know you could do <code>@{&quot;a&quot;}</code>, thanks. After reading <a href=\"http://stackoverflow.com/a/2338348/176646\">this</a>, I <i>think</i> I understand how <code>@{@array[1..3]}</code> is parsed (<code>@array[1..3]</code> is not an identifier so it&#39;s evaluated as code; if the result is a reference, it&#39;s dereferenced, if not, the result is stringified and treated as a symbolic reference). What I don&#39;t get is where scalar context comes into play; <code>print</code> imposes list context on its operands, so I would expect the slice in <code>print @{@array[1..3]}</code> to be evaluated in list context. Can you explain?"}, {"owner": {"reputation": 320771, "user_id": 589924, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/b2cf53d5a3d25f95c0db4e025aed4153?s=128&d=identicon&r=PG", "display_name": "ikegami", "link": "https://stackoverflow.com/users/589924/ikegami"}, "reply_to_user": {"reputation": 21782, "user_id": 176646, "user_type": "registered", "accept_rate": 88, "profile_image": "https://i.stack.imgur.com/HsQyV.png?s=128&g=1", "display_name": "ThisSuitIsBlackNot", "link": "https://stackoverflow.com/users/176646/thissuitisblacknot"}, "edited": false, "score": 0, "creation_date": 1437606263, "post_id": 31570212, "comment_id": 51105813, "body": "@ThisSuitIsBlackNot, It&#39;s called a &quot;symbolic reference&quot;, and it&#39;s what <code>use strict &#39;refs&#39;;</code> prevents. <code>@{ ... }</code> needs a reference (a scalar), so it evaluates the block in scalar context, so <code>@array[1..3]</code> returns <code>$array[3]</code>. (Probably warns too.) Whatever&#39;s inside is treated as a real or symbolic reference."}, {"owner": {"reputation": 21782, "user_id": 176646, "user_type": "registered", "accept_rate": 88, "profile_image": "https://i.stack.imgur.com/HsQyV.png?s=128&g=1", "display_name": "ThisSuitIsBlackNot", "link": "https://stackoverflow.com/users/176646/thissuitisblacknot"}, "reply_to_user": {"reputation": 320771, "user_id": 589924, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/b2cf53d5a3d25f95c0db4e025aed4153?s=128&d=identicon&r=PG", "display_name": "ikegami", "link": "https://stackoverflow.com/users/589924/ikegami"}, "edited": false, "score": 0, "creation_date": 1437749238, "post_id": 31570212, "comment_id": 51176625, "body": "@ikegami Thanks. I think I found where this happens...<code>Perl_newAVREF</code> in op.c ends with <code>return newUNOP(OP_RV2AV, 0, scalar(o));</code>"}, {"owner": {"reputation": 320771, "user_id": 589924, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/b2cf53d5a3d25f95c0db4e025aed4153?s=128&d=identicon&r=PG", "display_name": "ikegami", "link": "https://stackoverflow.com/users/589924/ikegami"}, "reply_to_user": {"reputation": 21782, "user_id": 176646, "user_type": "registered", "accept_rate": 88, "profile_image": "https://i.stack.imgur.com/HsQyV.png?s=128&g=1", "display_name": "ThisSuitIsBlackNot", "link": "https://stackoverflow.com/users/176646/thissuitisblacknot"}, "edited": false, "score": 0, "creation_date": 1437750826, "post_id": 31570212, "comment_id": 51177711, "body": "@ThisSuitIsBlackNot, That happens regardless of context. In fact, I think context is applied later. The sub you want is probably named <code>pp_rv2av</code>"}, {"owner": {"reputation": 320771, "user_id": 589924, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/b2cf53d5a3d25f95c0db4e025aed4153?s=128&d=identicon&r=PG", "display_name": "ikegami", "link": "https://stackoverflow.com/users/589924/ikegami"}, "reply_to_user": {"reputation": 21782, "user_id": 176646, "user_type": "registered", "accept_rate": 88, "profile_image": "https://i.stack.imgur.com/HsQyV.png?s=128&g=1", "display_name": "ThisSuitIsBlackNot", "link": "https://stackoverflow.com/users/176646/thissuitisblacknot"}, "edited": false, "score": 0, "creation_date": 1437753092, "post_id": 31570212, "comment_id": 51179051, "body": "@ThisSuitIsBlackNot, Look at the <code>if (is_pp_rv2av) {</code> bit in <code>pp_rv2av</code>. <code>gimme</code> is the context. <code>G_ARRAY</code> indicates list context. You can guess <code>G_SCALAR</code> and <code>G_VOID</code>. The code literally does <code>return wantarray ? @av : defined(wantarray) ? $#av + 1 : ();</code>"}], "tags": [], "owner": {"user_type": "does_not_exist", "display_name": "user2404501"}, "is_accepted": true, "score": 3, "last_activity_date": 1437586629, "creation_date": 1437586629, "answer_id": 31570212, "question_id": 31569777, "link": "https://stackoverflow.com/questions/31569777/why-does-perl-only-dereference-the-last-index-when-the-range-operator-is-used/31570212#31570212", "title": "Why does perl only dereference the last index when the range operator is used?", "body": "<p><code>@{@array[1..3]}</code> is a strange-looking construct. <code>@{ ... }</code> is the array dereference operator. It needs a reference, which is a type of scalar. But <code>@array[ ... ]</code> produces a list.</p>\n\n<p>This is one of those situations where you need to remember the rule for list evaluation in scalar context. The rule is that there is no general rule. Each list-producing operator does its own thing. In this case, apparently the array slice operator used in scalar context returns the last element of the list. <code>@array[1..3]</code> in scalar context is the same as <code>$array[3]</code>.</p>\n\n<p>As you have noticed, this is not useful. Array slices aren't meant to be used in scalar context</p>\n\n<p>If you want to flatten a 2-dimensional nested array structure into a 1-dimensional list, use <code>map</code>:</p>\n\n<pre><code>print join ' ', map { @$_ } @array[1..3]\n</code></pre>\n\n<p>You still use the range operator for slicing. You just need some kind of looping construct (e.g. <code>map</code>) to apply the array dereference operator separately to each element of the outer array.</p>\n"}, {"tags": [], "owner": {"reputation": 52334, "user_id": 702638, "user_type": "registered", "accept_rate": 98, "profile_image": "https://www.gravatar.com/avatar/892f65bc0a8a0949ab88598de7d83cab?s=128&d=identicon&r=PG", "display_name": "Hunter McMillen", "link": "https://stackoverflow.com/users/702638/hunter-mcmillen"}, "is_accepted": false, "score": 4, "last_activity_date": 1437586761, "creation_date": 1437586761, "answer_id": 31570251, "question_id": 31569777, "link": "https://stackoverflow.com/questions/31569777/why-does-perl-only-dereference-the-last-index-when-the-range-operator-is-used/31570251#31570251", "title": "Why does perl only dereference the last index when the range operator is used?", "body": "<p>From <a href=\"http://perldoc.perl.org/perldata.html#Slices\"><code>perldata</code></a>:</p>\n\n<blockquote>\n  <p>Slices in scalar context return the last item of the slice.</p>\n</blockquote>\n\n<p><code>@{ ... }</code> dereferences a <em>scalar</em> value as an array, this implies that the value being dereferenced is in scalar context. From the perldata quote above we know that this will return the last element. Therefore the result is the last element.</p>\n\n<p>A more reasonable approach would be to loop through your slice and print each individual array reference:</p>\n\n<pre><code>use strict; \nuse warnings; \n\nuse feature qw(say);\n\nmy @array_of_arrayrefs = (\n   [qw(1 2 3)],\n   [qw(4 5 6)],\n   [qw(7 8 9)],\n   [qw(a b c)],\n);\n\nforeach my $aref ( @array_of_arrayrefs[1..3] ) {\n   say join ',', @$aref;\n}\n</code></pre>\n"}], "owner": {"reputation": 527, "user_id": 2561579, "user_type": "registered", "accept_rate": 74, "profile_image": "https://www.gravatar.com/avatar/bbbe41b11b947fed6fe1e10a366a01e4?s=128&d=identicon&r=PG", "display_name": "EarthIsHome", "link": "https://stackoverflow.com/users/2561579/earthishome"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 149, "favorite_count": 0, "accepted_answer_id": 31570212, "answer_count": 4, "score": 6, "last_activity_date": 1437586761, "creation_date": 1437585217, "question_id": 31569777, "link": "https://stackoverflow.com/questions/31569777/why-does-perl-only-dereference-the-last-index-when-the-range-operator-is-used", "title": "Why does perl only dereference the last index when the range operator is used?", "body": "<p>I have an array, <code>@array</code>, of array references. If I use the range operator to print elements 1 through 3 of <code>@array</code>, <code>print @array[1..3]</code>, perl prints the array references for elements 1 through 3.</p>\n\n<p>Why when I try to dereference the array references indexed between 1 and 3, <code>@{@array[1..3]}</code>, perl only dereferences and prints out the last element indexed in the range operator?</p>\n\n<p>Is there a way to use the range operator while dereferencing an array?</p>\n\n<h3>Example Code</h3>\n\n<pre><code>#!/bin/perl\n\nuse strict;\nuse warnings;\n\nmy @array = ();\nforeach my $i (0..10) {\n    push @array, [rand(1000), int(rand(3))];\n}\n\nforeach my $i (@array) {\n    print \"@$i\\n\";\n}\n\nprint \"\\n\\n================\\n\\n\";\n\nprint @{@array[1..3]};\n\nprint \"\\n\\n================\\n\\n\";\n</code></pre>\n"}, {"tags": ["perl", "makefile", "xs", "dmake"], "comments": [{"owner": {"reputation": 198290, "user_id": 1030675, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/957956ce51706d03f19a4dc85a767bb1?s=128&d=identicon&r=PG", "display_name": "choroba", "link": "https://stackoverflow.com/users/1030675/choroba"}, "edited": false, "score": 0, "creation_date": 1437581557, "post_id": 31568039, "comment_id": 51092251, "body": "How do you use the source dir in the generated (made) file?"}, {"owner": {"reputation": 334, "user_id": 3019319, "user_type": "registered", "accept_rate": 50, "profile_image": "https://www.gravatar.com/avatar/4c56b68b36e135148e30fe1eb4667cbf?s=128&d=identicon&r=PG&f=1", "display_name": "user3019319", "link": "https://stackoverflow.com/users/3019319/user3019319"}, "reply_to_user": {"reputation": 198290, "user_id": 1030675, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/957956ce51706d03f19a4dc85a767bb1?s=128&d=identicon&r=PG", "display_name": "choroba", "link": "https://stackoverflow.com/users/1030675/choroba"}, "edited": false, "score": 0, "creation_date": 1437581962, "post_id": 31568039, "comment_id": 51092520, "body": "in the generated file i get INC =&gt; q[-I/opt/src] for the above example"}, {"owner": {"reputation": 198290, "user_id": 1030675, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/957956ce51706d03f19a4dc85a767bb1?s=128&d=identicon&r=PG", "display_name": "choroba", "link": "https://stackoverflow.com/users/1030675/choroba"}, "edited": false, "score": 0, "creation_date": 1437582042, "post_id": 31568039, "comment_id": 51092577, "body": "<code>-lopt</code> or <code>-l&#47;opt</code>?"}, {"owner": {"reputation": 334, "user_id": 3019319, "user_type": "registered", "accept_rate": 50, "profile_image": "https://www.gravatar.com/avatar/4c56b68b36e135148e30fe1eb4667cbf?s=128&d=identicon&r=PG&f=1", "display_name": "user3019319", "link": "https://stackoverflow.com/users/3019319/user3019319"}, "reply_to_user": {"reputation": 198290, "user_id": 1030675, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/957956ce51706d03f19a4dc85a767bb1?s=128&d=identicon&r=PG", "display_name": "choroba", "link": "https://stackoverflow.com/users/1030675/choroba"}, "edited": false, "score": 0, "creation_date": 1437582222, "post_id": 31568039, "comment_id": 51092699, "body": "it is  INC =&gt; q[-I/opt/src]"}], "owner": {"reputation": 334, "user_id": 3019319, "user_type": "registered", "accept_rate": 50, "profile_image": "https://www.gravatar.com/avatar/4c56b68b36e135148e30fe1eb4667cbf?s=128&d=identicon&r=PG&f=1", "display_name": "user3019319", "link": "https://stackoverflow.com/users/3019319/user3019319"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 62, "favorite_count": 0, "answer_count": 0, "score": 2, "last_activity_date": 1437580213, "creation_date": 1437580213, "question_id": 31568039, "link": "https://stackoverflow.com/questions/31568039/makefile-pl-check-if-source-directory-found", "title": "Makefile.PL check if source directory found", "body": "<p>I am using ExtUtils::MakeMaker to create Makefile.PL\nI added the following function to the makefile.PL to check if source directory is exist</p>\n\n<pre><code>sub  check_directory  {\n\n\nmy ($argv) = @_;\n\nunless (defined $argv-&gt;{'source'} and -d $argv-&gt;{'source'}) {\n\n\n    die 'directory not found ';\n}\n\n}\n</code></pre>\n\n<p>now when i run <strong>perl MakeFile.pl --source=/opt/src</strong> everything is ok</p>\n\n<p>but after that whe i run <strong>make/dmake</strong> everything compiles ok but\ni am always get the \"directory not found \" message  and  \"Error code 255\" any idea why i get it and if there are different way to check if directory found when writting MakeFile.PL worth to mention if i remove the above code the compliation finish with success.</p>\n"}, {"tags": ["perl"], "comments": [{"owner": {"reputation": 48919, "user_id": 238814, "user_type": "registered", "accept_rate": 75, "profile_image": "https://www.gravatar.com/avatar/4f93d624a8c2c7792b56547b662435de?s=128&d=identicon&r=PG", "display_name": "Daniel V&#233;rit&#233;", "link": "https://stackoverflow.com/users/238814/daniel-v%c3%a9rit%c3%a9"}, "reply_to_user": {"reputation": 45481, "user_id": 197758, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/628da6ba2a6c70e35c009b7e3c3a430a?s=128&d=identicon&r=PG", "display_name": "toolic", "link": "https://stackoverflow.com/users/197758/toolic"}, "edited": false, "score": 0, "creation_date": 1437579926, "post_id": 31567699, "comment_id": 51091108, "body": "@toolic: but the Encode.pm that goes with 5.14 (wheezy) has <code>use warnings;</code> in it just the same"}], "answers": [{"comments": [{"owner": {"reputation": 48919, "user_id": 238814, "user_type": "registered", "accept_rate": 75, "profile_image": "https://www.gravatar.com/avatar/4f93d624a8c2c7792b56547b662435de?s=128&d=identicon&r=PG", "display_name": "Daniel V&#233;rit&#233;", "link": "https://stackoverflow.com/users/238814/daniel-v%c3%a9rit%c3%a9"}, "edited": false, "score": 1, "creation_date": 1437580032, "post_id": 31567851, "comment_id": 51091190, "body": "old Encode.pm is <code>$Id: Encode.pm,v 2.42 2010&#47;12&#47;31 22:48:10 dankogai Exp </code>"}, {"owner": {"reputation": 51521, "user_id": 2566198, "user_type": "registered", "accept_rate": 67, "profile_image": "https://i.stack.imgur.com/Y34ZA.jpg?s=128&g=1", "display_name": "Sobrique", "link": "https://stackoverflow.com/users/2566198/sobrique"}, "reply_to_user": {"reputation": 48919, "user_id": 238814, "user_type": "registered", "accept_rate": 75, "profile_image": "https://www.gravatar.com/avatar/4f93d624a8c2c7792b56547b662435de?s=128&d=identicon&r=PG", "display_name": "Daniel V&#233;rit&#233;", "link": "https://stackoverflow.com/users/238814/daniel-v%c3%a9rit%c3%a9"}, "edited": false, "score": 2, "creation_date": 1437580486, "post_id": 31567851, "comment_id": 51091537, "body": "Hmm, I shall dig a bit deeper. I suspect we&#39;ll find this is within the <code>perldelta</code> somewhere."}, {"owner": {"reputation": 320771, "user_id": 589924, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/b2cf53d5a3d25f95c0db4e025aed4153?s=128&d=identicon&r=PG", "display_name": "ikegami", "link": "https://stackoverflow.com/users/589924/ikegami"}, "edited": false, "score": 1, "creation_date": 1437583821, "post_id": 31567851, "comment_id": 51093655, "body": "Re &quot;<code>@_[0]</code> isn&#39;t undefined - <code>@_</code> is undefined&quot;, This makes no sense; arrays can&#39;t be undefined, only empty. It&#39;s <code>LvTARG( $_[0] )</code> that&#39;s undefined."}], "tags": [], "owner": {"reputation": 51521, "user_id": 2566198, "user_type": "registered", "accept_rate": 67, "profile_image": "https://i.stack.imgur.com/Y34ZA.jpg?s=128&g=1", "display_name": "Sobrique", "link": "https://stackoverflow.com/users/2566198/sobrique"}, "is_accepted": false, "score": 1, "last_activity_date": 1437579645, "creation_date": 1437579645, "answer_id": 31567851, "question_id": 31567699, "link": "https://stackoverflow.com/questions/31567699/why-does-encode-raise-use-of-uninitialized-value-within/31567851#31567851", "title": "Why does encode raise &quot;Use of uninitialized value within @_&quot;?", "body": "<p>Interesting. If you do almost the same thing but:</p>\n\n<pre><code>my $a=undef;\nmy $b = substr($a,0,1);\nmy $r=test_encode($b);\n</code></pre>\n\n<p>It works fine. </p>\n\n<p>Or:</p>\n\n<pre><code>my $r=test_encode(scalar substr($a,0,1));\n</code></pre>\n\n<p>So I think I would have to say - this has got to be to do with return values from <code>substr</code> and context.</p>\n\n<p>E.g. <code>@_[0]</code> isn't undefined - <code>@_</code> is undefined.</p>\n\n<p>The <code>Encode</code> module has:</p>\n\n<pre><code>#\n# $Id: Encode.pm,v 2.75 2015/06/30 09:57:15 dankogai Exp $\n#\npackage Encode;\nuse strict;\nuse warnings;\n</code></pre>\n\n<p>Which will be overriding your <code>no warnings</code> directive - but hiding warnings like that isn't really desirable anyway. That's been in for a while though:</p>\n\n<pre><code>2.18 2006/06/03 20:28:48\n! bin/enc2xs\n  overhauled the -C option\n  - added ascii-ctrl', 'null', 'utf-8-strict' to core\n  - auto-generated Encode::ConfigLocal no longer use v-string for version\n  - now searches modules via File::Find so Encode/JP/Mobile is happy\n! Byte/Byte.pm CN/CN.pm EBCDIC/EBCDIC.pm JP/JP.pm KR/KR.pm Symbol/Symbol.pm\n  use strict added; though all they do is load XS, it's\n  still better a practice\n! *.pm\n  use warnings added to all of them for better practices' sake.\n</code></pre>\n\n<p>So I would suggest you might be using an older version of Encode when it's working. </p>\n"}, {"comments": [{"owner": {"reputation": 48919, "user_id": 238814, "user_type": "registered", "accept_rate": 75, "profile_image": "https://www.gravatar.com/avatar/4f93d624a8c2c7792b56547b662435de?s=128&d=identicon&r=PG", "display_name": "Daniel V&#233;rit&#233;", "link": "https://stackoverflow.com/users/238814/daniel-v%c3%a9rit%c3%a9"}, "edited": false, "score": 0, "creation_date": 1437583019, "post_id": 31568522, "comment_id": 51093173, "body": "So given the deferred evaluation of substr, is there a simple way the warning can be muted? (short of avoiding <code>substr(undef,...)</code> to begin with)."}, {"owner": {"reputation": 320771, "user_id": 589924, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/b2cf53d5a3d25f95c0db4e025aed4153?s=128&d=identicon&r=PG", "display_name": "ikegami", "link": "https://stackoverflow.com/users/589924/ikegami"}, "reply_to_user": {"reputation": 48919, "user_id": 238814, "user_type": "registered", "accept_rate": 75, "profile_image": "https://www.gravatar.com/avatar/4f93d624a8c2c7792b56547b662435de?s=128&d=identicon&r=PG", "display_name": "Daniel V&#233;rit&#233;", "link": "https://stackoverflow.com/users/238814/daniel-v%c3%a9rit%c3%a9"}, "edited": false, "score": 0, "creation_date": 1437583045, "post_id": 31568522, "comment_id": 51093185, "body": "Not using <code>use warnings;</code> will mute the warning... But that&#39;s not what you&#39;re really asking. Read the section I just added to the bottom."}, {"owner": {"reputation": 320771, "user_id": 589924, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/b2cf53d5a3d25f95c0db4e025aed4153?s=128&d=identicon&r=PG", "display_name": "ikegami", "link": "https://stackoverflow.com/users/589924/ikegami"}, "reply_to_user": {"reputation": 48919, "user_id": 238814, "user_type": "registered", "accept_rate": 75, "profile_image": "https://www.gravatar.com/avatar/4f93d624a8c2c7792b56547b662435de?s=128&d=identicon&r=PG", "display_name": "Daniel V&#233;rit&#233;", "link": "https://stackoverflow.com/users/238814/daniel-v%c3%a9rit%c3%a9"}, "edited": false, "score": 1, "creation_date": 1437583583, "post_id": 31568522, "comment_id": 51093513, "body": "Trivia: The four operators that return assignable values: <code>substr</code>, <code>keys</code>, <code>vec</code> and <code>$#array</code>."}], "tags": [], "owner": {"reputation": 320771, "user_id": 589924, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/b2cf53d5a3d25f95c0db4e025aed4153?s=128&d=identicon&r=PG", "display_name": "ikegami", "link": "https://stackoverflow.com/users/589924/ikegami"}, "is_accepted": true, "score": 5, "last_activity_date": 1437584073, "last_edit_date": 1437584073, "creation_date": 1437581466, "answer_id": 31568522, "question_id": 31567699, "link": "https://stackoverflow.com/questions/31567699/why-does-encode-raise-use-of-uninitialized-value-within/31568522#31568522", "title": "Why does encode raise &quot;Use of uninitialized value within @_&quot;?", "body": "<p>It's <code>substr</code> that's warning.</p>\n\n<hr>\n\n<p><code>substr</code> warns when its first argument is undefined.</p>\n\n<pre><code>$ perl -we'\n   my $x;\n   my $y = substr($x, 0, 1);   # Line 3\n'\nUse of uninitialized value $x in substr at -e line 3.\n</code></pre>\n\n<p><a href=\"http://perldoc.perl.org/perl5160delta.html#The-substr-operator\" rel=\"nofollow\">Since 5.16.0</a>, the warning now happens when the substring operation is actually performed instead of when <code>substr</code> is called. When <code>substr</code> is used as an lvalue, the actual substring operation is performed when the a value is fetched or stored in the returned scalar.</p>\n\n<pre><code>$ perl -we'\n   my $x;\n   my $r = \\substr($x, 0, 1);\n   my $y = $$r;                # Line 4\n'\nUse of uninitialized value in scalar assignment at -e line 4.\n</code></pre>\n\n<p>The substring operation is done then to allow the following to work:</p>\n\n<pre><code>$ perl -wE'$_ = \"abc\"; substr($_, 0, 1) = \"!!!\"; say'\n!!!bc\n</code></pre>\n\n<p>Since the warning now happens when the substring operation is done, it's the context of the op in Encode that determines whether the warning will be visible or not.</p>\n\n<pre><code>$ 5.14.2t/bin/perl -e'use warnings; my $r = \\substr(my $x, 0, 1); no  warnings; my $y = $$r;'\nUse of uninitialized value in scalar assignment at -e line 1.\n\n$ 5.14.2t/bin/perl -e'no  warnings; my $r = \\substr(my $x, 0, 1); use warnings; my $y = $$r;'\n\n$ 5.22.0t/bin/perl -e'use warnings; my $r = \\substr(my $x, 0, 1); no  warnings; my $y = $$r;'\n\n$ 5.22.0t/bin/perl -e'no  warnings; my $r = \\substr(my $x, 0, 1); use warnings; my $y = $$r;'\nUse of uninitialized value in scalar assignment at -e line 1.\n</code></pre>\n\n<hr>\n\n<p>Why did the warning starting happening where the substring operation is actually perform instead of when <code>substr</code> is called? I'm guessing, but it might be to fix the following and similar problems:</p>\n\n<pre><code>$ perl -wE'\n    my $x = \"def\";\n    my $r = \\substr($x, 0, 1);\n    $x = \"abc\";\n    say \"&lt;$$r&gt;\";\n'\n&lt;a&gt;\n\n$ 5.14.2t/bin/perl -wE'\n    my $x;\n    my $r = \\substr($x, 0, 1);\n    $x = \"abc\";\n    say \"&lt;$$r&gt;\";\n'\nUse of uninitialized value $x in substr at -e line 4.\n&lt;&gt;\n\n$ 5.22.0t/bin/perl -wE'\n    my $x;\n    my $r = \\substr($x, 0, 1);\n    $x = \"abc\";\n    say \"&lt;$$r&gt;\";\n'\n&lt;a&gt;\n</code></pre>\n\n<hr>\n\n<p>Prefixing <code>substr</code> with <code>scalar</code> calls it as an rvalue, though that's not documented.</p>\n\n<pre><code>$ perl -MO=Concise,-exec -e'1 for        substr($_, 0, 1)' 2&gt;&amp;1 | grep substr\n7  &lt;@&gt; substr[t4] sKM/3\n                    ^\n                   This flag causes the special lvalue behaviour.\n\n$ perl -MO=Concise,-exec -e'1 for scalar substr($_, 0, 1)' 2&gt;&amp;1 | grep substr\n7  &lt;@&gt; substr[t2] sK/3\n</code></pre>\n\n<p>You could also force stringification.</p>\n\n<pre><code>$ perl -MO=Concise,-exec -e'1 for     \"\".substr($_, 0, 1)' 2&gt;&amp;1 | grep substr\n8  &lt;@&gt; substr[t2] sK/3\n</code></pre>\n"}], "owner": {"reputation": 48919, "user_id": 238814, "user_type": "registered", "accept_rate": 75, "profile_image": "https://www.gravatar.com/avatar/4f93d624a8c2c7792b56547b662435de?s=128&d=identicon&r=PG", "display_name": "Daniel V&#233;rit&#233;", "link": "https://stackoverflow.com/users/238814/daniel-v%c3%a9rit%c3%a9"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 975, "favorite_count": 0, "accepted_answer_id": 31568522, "answer_count": 2, "score": 4, "last_activity_date": 1437586930, "creation_date": 1437579249, "last_edit_date": 1437586930, "question_id": 31567699, "link": "https://stackoverflow.com/questions/31567699/why-does-encode-raise-use-of-uninitialized-value-within", "title": "Why does encode raise &quot;Use of uninitialized value within @_&quot;?", "body": "<p>With Perl v5.14.2 (provided by Debian Wheezy) this code:</p>\n\n<pre><code>use Encode qw(encode);\nno warnings \"all\";\n\nsub test_encode {\n  return Encode::encode(\"utf8\", $_[0]);\n}\n\nmy $a=undef;\nmy $r=test_encode(substr($a,0,1));\n</code></pre>\n\n<p>produces an empty string in <code>$r</code>. I'm fine with that.</p>\n\n<hr>\n\n<p>With Perl 5.18.2 (Ubuntu 14.04), it appears to produces this output:</p>\n\n<blockquote>\n  <p>Use of uninitialized value within @_ in list assignment at\n  /usr/lib/perl/5.18/Encode.pm line 147.</p>\n</blockquote>\n\n<p>(even with warnings disabled in the main scop, so apparently it's not a warning. EDIT: per answers, it's definitely a warning):</p>\n\n<p>That list assignment  would be, in <code>Encode.pm</code>:</p>\n\n<pre><code> 146 sub encode($$;$) {\n 147     my ( $name, $string, $check ) = @_;\n 148     return undef unless defined $string;\n 149     $string .= '';    # stringify;\n</code></pre>\n\n<p>Tweaking the code, if <code>undef</code> is passed to <code>encode</code> instead of <code>$_[0]</code>, it no longer complains. If a copy of <code>$_[0]</code> in a temp variable is passed instead of <code>$_[0]</code>, it doesn't complain too.</p>\n\n<p>My question are: What would have changed in Perl between these versions that would explain the new behavior? What exactly does Perl see inside <code>@_</code> in Encode.pm line 147 ?</p>\n\n<hr>\n\n<p>ADDENDUM: adding <code>Dump($_[0]);</code> from <code>Devel::Peek</code> at the start of <code>test_encode</code>, it outputs:</p>\n\n<p>Perl 5.14.2:</p>\n\n<pre>\nSV = PVLV(0x23a2c10) at 0x2340998\n  REFCNT = 1\n  FLAGS = (GMG,SMG)\n  IV = 0\n  NV = 0\n  PV = 0\n  MAGIC = 0x235f950\n    MG_VIRTUAL = &PL_vtbl_substr\n    MG_TYPE = PERL_MAGIC_substr(x)\n  TYPE = x\n  TARGOFF = 0\n  TARGLEN = 0\n  TARG = 0x235e370\n  SV = PV(0x233ec20) at 0x235e370\n    REFCNT = 2\n    FLAGS = (PADMY,POK,pPOK)\n    PV = 0x23576b0 \"\"\\0\n    CUR = 0\n    LEN = 16\n</pre>\n\n<p>Perl 5.18.2:</p>\n\n<pre>\nSV = PVLV(0x25c07c0) at 0x2546cb8\n  REFCNT = 1\n  FLAGS = (GMG,SMG)\n  IV = 0\n  NV = 0\n  PV = 0\n  MAGIC = 0x2567dd0\n    MG_VIRTUAL = &PL_vtbl_substr\n    MG_TYPE = PERL_MAGIC_substr(x)\n  TYPE = x\n  TARGOFF = 0\n  TARGLEN = 1\n  TARG = 0x256f328\n  FLAGS = 0\n  SV = NULL(0x0) at 0x256f328\n    REFCNT = 2\n    FLAGS = (PADMY)\n</pre>\n\n<p>Not sure what to think of that, but the <code>SV</code> part at the end differs significantly, looks like empty string versus NULL(0x0).</p>\n"}, {"tags": ["asp.net", "perl", "url"], "comments": [{"owner": {"reputation": 322, "user_id": 300113, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/0a2e2857243a00c807abd5e6b5d9e3a6?s=128&d=identicon&r=PG", "display_name": "Hugh Barnard", "link": "https://stackoverflow.com/users/300113/hugh-barnard"}, "edited": false, "score": 0, "creation_date": 1437578524, "post_id": 31566897, "comment_id": 51090098, "body": "Is that the whole of the Perl script? Otherwise, to begin with, have a look at this thread: <a href=\"http://www.perlmonks.org/?node_id=529565\" rel=\"nofollow noreferrer\">perlmonks.org/?node_id=529565</a> on Perl Monks. <code>LWP::Debug</code> may help. The 500 suggests that you should also look in the server log, if you are able to."}, {"owner": {"reputation": 51521, "user_id": 2566198, "user_type": "registered", "accept_rate": 67, "profile_image": "https://i.stack.imgur.com/Y34ZA.jpg?s=128&g=1", "display_name": "Sobrique", "link": "https://stackoverflow.com/users/2566198/sobrique"}, "edited": false, "score": 3, "creation_date": 1437578675, "post_id": 31566897, "comment_id": 51090209, "body": "I note that&#39;s an <code>https</code> url. Have you installed <code>LWP::Protocol::https</code>?"}, {"owner": {"reputation": 1, "user_id": 4520669, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/7e73aed10dbcec555544ac2560e51d6e?s=128&d=identicon&r=PG&f=1", "display_name": "dragonfly", "link": "https://stackoverflow.com/users/4520669/dragonfly"}, "edited": false, "score": 0, "creation_date": 1437578875, "post_id": 31566897, "comment_id": 51090357, "body": "Hi and thank you. Yes, it&#39;s the whole script. It is just a test script. LWR::Protocol::https is installed, yes. To the server unfortunately I do not have access"}, {"owner": {"reputation": 51521, "user_id": 2566198, "user_type": "registered", "accept_rate": 67, "profile_image": "https://i.stack.imgur.com/Y34ZA.jpg?s=128&g=1", "display_name": "Sobrique", "link": "https://stackoverflow.com/users/2566198/sobrique"}, "edited": false, "score": 1, "creation_date": 1437579011, "post_id": 31566897, "comment_id": 51090460, "body": "500 is a server error. so it&#39;s doing <i>something</i> differently with the URL you&#39;re sending. It might be as simple as checking the user agent string or other environment vars. But it&#39;s really hard to tell from the client side (deliberately so)"}, {"owner": {"reputation": 1, "user_id": 4520669, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/7e73aed10dbcec555544ac2560e51d6e?s=128&d=identicon&r=PG&f=1", "display_name": "dragonfly", "link": "https://stackoverflow.com/users/4520669/dragonfly"}, "edited": false, "score": 0, "creation_date": 1437579345, "post_id": 31566897, "comment_id": 51090692, "body": "When I replaced https with http it gives a bit different error message: 500 Can&#39;t connect to www.website.com:80 (connect: timeout) at test2.pl line 26.  Why it adds port 80 ?"}, {"owner": {"reputation": 51521, "user_id": 2566198, "user_type": "registered", "accept_rate": 67, "profile_image": "https://i.stack.imgur.com/Y34ZA.jpg?s=128&g=1", "display_name": "Sobrique", "link": "https://stackoverflow.com/users/2566198/sobrique"}, "edited": false, "score": 0, "creation_date": 1437579384, "post_id": 31566897, "comment_id": 51090715, "body": "How different? Does it actually say what went wrong?"}, {"owner": {"reputation": 1, "user_id": 4520669, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/7e73aed10dbcec555544ac2560e51d6e?s=128&d=identicon&r=PG&f=1", "display_name": "dragonfly", "link": "https://stackoverflow.com/users/4520669/dragonfly"}, "edited": false, "score": 0, "creation_date": 1437579614, "post_id": 31566897, "comment_id": 51090897, "body": "I mean the only difference is the name of the server - www.website.com - and the port appended - :80 - that&#39;s all, otherwise the error is the same, e.g. 500, just it is a bit more verbose. I am beginner in Perl, how can I use LWP::Debug to get more info? I added in the script this line: <b>use LWP::Debug qw(+)</b>"}, {"owner": {"reputation": 4475, "user_id": 1421665, "user_type": "registered", "accept_rate": 67, "profile_image": "https://i.stack.imgur.com/btXSP.jpg?s=128&g=1", "display_name": "vogomatix", "link": "https://stackoverflow.com/users/1421665/vogomatix"}, "edited": false, "score": 0, "creation_date": 1437580574, "post_id": 31566897, "comment_id": 51091597, "body": "Is the login form expecting the data to be a POST instead of a GET? Is that URL the URL you put in the browser or are you simply completed the login form and submitting. Try your request to a different web page also. Can your Perl script talk to a different URL or is it just this URL?"}, {"owner": {"reputation": 1, "user_id": 4520669, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/7e73aed10dbcec555544ac2560e51d6e?s=128&d=identicon&r=PG&f=1", "display_name": "dragonfly", "link": "https://stackoverflow.com/users/4520669/dragonfly"}, "edited": false, "score": 0, "creation_date": 1437581378, "post_id": 31566897, "comment_id": 51092152, "body": "No, the script expects <b>GET</b>. Copying the GET request from the perl script and pasting it into a browser works just fine. I&#39;m just trying now with another URL - <a href=\"http://www.perlmonks.org\" rel=\"nofollow noreferrer\">perlmonks.org</a> - and it failed again with - 500 Can&#39;t connect to www.perlmonks.org:80 (connect: timeout) at test2.pl line 27. There is something wrong with my script or some settings. The scripts is exactly as I pasted it in the initial post."}, {"owner": {"reputation": 2279, "user_id": 13563, "user_type": "registered", "accept_rate": 91, "profile_image": "https://i.stack.imgur.com/VoEyi.jpg?s=128&g=1", "display_name": "jimtut", "link": "https://stackoverflow.com/users/13563/jimtut"}, "edited": false, "score": 0, "creation_date": 1437588023, "post_id": 31566897, "comment_id": 51096114, "body": "Can you try without <code>$ua-&gt;env_proxy;</code>? I&#39;ve never used that LWP option, but then again we don&#39;t use proxies."}, {"owner": {"reputation": 1, "user_id": 4520669, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/7e73aed10dbcec555544ac2560e51d6e?s=128&d=identicon&r=PG&f=1", "display_name": "dragonfly", "link": "https://stackoverflow.com/users/4520669/dragonfly"}, "edited": false, "score": 0, "creation_date": 1437597928, "post_id": 31566897, "comment_id": 51102197, "body": "I tried without <code>$ua-&gt;env_proxy</code>. The same. What I also tried though is to perform the test at home on my personal computer and <b>it does work</b>!. So it is something on the working environment that prevents it from working properly... Is there any setting in Perl, Windows (it runs on windows) that might cause this? Any idea would be very appreciated."}, {"owner": {"reputation": 142, "user_id": 4277620, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/1c5a3072c70061910402da089e5dac80?s=128&d=identicon&r=PG&f=1", "display_name": "sandeep", "link": "https://stackoverflow.com/users/4277620/sandeep"}, "edited": false, "score": 0, "creation_date": 1437631683, "post_id": 31566897, "comment_id": 51112394, "body": "I believe after accepting username and password, it must be routing to the different URL, i would suggest to use WWW::Mechanize which is the best module for form/login submission"}, {"owner": {"reputation": 1, "user_id": 4520669, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/7e73aed10dbcec555544ac2560e51d6e?s=128&d=identicon&r=PG&f=1", "display_name": "dragonfly", "link": "https://stackoverflow.com/users/4520669/dragonfly"}, "edited": false, "score": 0, "creation_date": 1437639550, "post_id": 31566897, "comment_id": 51116648, "body": "I am happy to announce that I found the issue! It has to go through a proxy. The solution is to set <code>$ENV{HTTP_PROXY}</code> and then <code>$ua-&gt;env_proxy</code>. Having this it works!"}, {"owner": {"reputation": 9030, "user_id": 202940, "user_type": "registered", "accept_rate": 75, "profile_image": "https://i.stack.imgur.com/JNQ86.jpg?s=128&g=1", "display_name": "Ashraf Bashir", "link": "https://stackoverflow.com/users/202940/ashraf-bashir"}, "edited": false, "score": 0, "creation_date": 1439909762, "post_id": 31566897, "comment_id": 52048128, "body": "@dragonfly, please add your solution as an answer, and mark it as solved. So that people who face the same issue know how to solve it, especially that the discussion thread in comments is very long and may be unnoticeable for many."}], "owner": {"reputation": 1, "user_id": 4520669, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/7e73aed10dbcec555544ac2560e51d6e?s=128&d=identicon&r=PG&f=1", "display_name": "dragonfly", "link": "https://stackoverflow.com/users/4520669/dragonfly"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 180, "favorite_count": 0, "answer_count": 0, "score": 0, "last_activity_date": 1437577233, "creation_date": 1437577233, "question_id": 31566897, "link": "https://stackoverflow.com/questions/31566897/perl-execute-aspx-login-script-from-perl", "title": "Perl: Execute aspx &#39;login&#39; script from Perl", "body": "<p>I have aspx script which is called login.aspx. It receives two parameters - username and password. It authenticates a user. It is run in a browser like this:</p>\n\n<p><a href=\"https://www.website.com/login.aspx?username=myusername&amp;password=mypassword\" rel=\"nofollow\">https://www.website.com/login.aspx?username=myusername&amp;password=mypassword</a></p>\n\n<p>When I execute it from a browser with correct username/password it runs successfully and loads some web page.</p>\n\n<p>When I run it from Perl (completely the same URL, correct username/password) I get this error:\n<em>500 Connect failed: connect: Unknown error; Unknown error at test2.pl line 24.</em></p>\n\n<p>My Perl scripts is as follows. Please help me understand why it fails from Perl.</p>\n\n<pre><code>#!/usr/bin/perl\n\nuse strict; use warnings;\n\nuse Data::Dumper;\n\nuse LWP::UserAgent;\n\n# URL Addresses\n\nmy $url_auth = 'https://www.website.com/login.aspx?username=myusername&amp;password=mypassword';\n\nmy $ua = LWP::UserAgent-&gt;new; $ua-&gt;env_proxy;\n\nmy $response = $ua-&gt;get($url_auth);\n\n if ($response-&gt;is_success) {\n     print $response-&gt;decoded_content;  }  else {\n     die $response-&gt;status_line;  }\n</code></pre>\n\n<p>Thank you very much!</p>\n"}, {"tags": ["perl", "rest", "mojolicious"], "comments": [{"owner": {"reputation": 50468, "user_id": 1331451, "user_type": "registered", "accept_rate": 96, "profile_image": "https://i.stack.imgur.com/4ZPmj.png?s=128&g=1", "display_name": "simbabque", "link": "https://stackoverflow.com/users/1331451/simbabque"}, "edited": false, "score": 1, "creation_date": 1437578890, "post_id": 31566880, "comment_id": 51090371, "body": "Take a look at hooks. Maybe you can hook around the dispatching and Try::Tiny in there to catch errors."}], "answers": [{"tags": [], "owner": {"reputation": 322, "user_id": 300113, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/0a2e2857243a00c807abd5e6b5d9e3a6?s=128&d=identicon&r=PG", "display_name": "Hugh Barnard", "link": "https://stackoverflow.com/users/300113/hugh-barnard"}, "is_accepted": false, "score": 0, "last_activity_date": 1437578935, "creation_date": 1437578935, "answer_id": 31567575, "question_id": 31566880, "link": "https://stackoverflow.com/questions/31566880/catching-errors-in-a-perl-rest-api/31567575#31567575", "title": "Catching errors in a Perl REST API", "body": "<p>On the question of logging, see: <a href=\"http://search.cpan.org/~garu/MojoX-Log-Log4perl-0.10/lib/MojoX/Log/Log4perl.pm\" rel=\"nofollow\">http://search.cpan.org/~garu/MojoX-Log-Log4perl-0.10/lib/MojoX/Log/Log4perl.pm</a> Log4perl is pretty much best practice in the wider Perl world.</p>\n\n<p>Without knowing a lot of deep detail about the application, I far prefer your 'tedious' method which will [hopefully] provide some information on the receiving side of the API, rather than a crash and burn with <code>$SIG{__DIE__}</code>.</p>\n\n<p>Hope that helps, a bit, anyway!</p>\n"}], "owner": {"reputation": 708, "user_id": 2348668, "user_type": "registered", "accept_rate": 53, "profile_image": "https://www.gravatar.com/avatar/01a3034479d75cafcbb36061ed78cdf9?s=128&d=identicon&r=PG", "display_name": "user2348668", "link": "https://stackoverflow.com/users/2348668/user2348668"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 139, "favorite_count": 0, "answer_count": 1, "score": 0, "last_activity_date": 1437578935, "creation_date": 1437577186, "question_id": 31566880, "link": "https://stackoverflow.com/questions/31566880/catching-errors-in-a-perl-rest-api", "title": "Catching errors in a Perl REST API", "body": "<p>I am coding a REST API using Perl/Mojolicious\nSometimes when I want to throw an error, for example \"Invalid token\" I store the error on a variable called \"Object->lastError\" and then I render the JSON response with the error message/code.</p>\n\n<p>However it gets tedious to do it that way after a while. I was wondering if there is a better way to do this I was considering just dying and catching the die error with<code>$SIG{__DIE__}</code> </p>\n\n<p>Any suggestions? \nAlso, I am not using any logger yet but I would like to log those errors </p>\n"}, {"tags": ["perl", "parameters", "options"], "answers": [{"tags": [], "owner": {"reputation": 45481, "user_id": 197758, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/628da6ba2a6c70e35c009b7e3c3a430a?s=128&d=identicon&r=PG", "display_name": "toolic", "link": "https://stackoverflow.com/users/197758/toolic"}, "is_accepted": false, "score": 1, "last_activity_date": 1437573883, "creation_date": 1437573883, "answer_id": 31565467, "question_id": 31565326, "link": "https://stackoverflow.com/questions/31565326/getoptions-check-option-values/31565467#31565467", "title": "GetOptions Check Option Values", "body": "<p>One way is to use <a href=\"http://perldoc.perl.org/functions/grep.html\" rel=\"nofollow\">grep</a> to check if the value is legal:</p>\n\n<pre><code>use warnings;\nuse strict;\nuse Getopt::Long;\n\nmy $value = 'small';\nGetOptions('size=s'  =&gt; \\$value);\n\nmy @legals = qw(small medium large);\ndie \"Error: must specify one of @legals\" unless grep { $_ eq $value } @legals;\n\nprint \"$value\\n\";\n</code></pre>\n"}, {"comments": [{"owner": {"reputation": 50468, "user_id": 1331451, "user_type": "registered", "accept_rate": 96, "profile_image": "https://i.stack.imgur.com/4ZPmj.png?s=128&g=1", "display_name": "simbabque", "link": "https://stackoverflow.com/users/1331451/simbabque"}, "edited": false, "score": 0, "creation_date": 1437575291, "post_id": 31565780, "comment_id": 51087525, "body": "I didn&#39;t see that Getopt::Long actually has that feature too. Consider this as a TIMTOWTDI alternative."}], "tags": [], "owner": {"reputation": 50468, "user_id": 1331451, "user_type": "registered", "accept_rate": 96, "profile_image": "https://i.stack.imgur.com/4ZPmj.png?s=128&g=1", "display_name": "simbabque", "link": "https://stackoverflow.com/users/1331451/simbabque"}, "is_accepted": false, "score": 0, "last_activity_date": 1437574691, "creation_date": 1437574691, "answer_id": 31565780, "question_id": 31565326, "link": "https://stackoverflow.com/questions/31565326/getoptions-check-option-values/31565780#31565780", "title": "GetOptions Check Option Values", "body": "<p>This might be overkill, but also take a look <a href=\"https://metacpan.org/pod/Getopt::Again\" rel=\"nofollow\">Getopt::Again</a>, which implements validation through its <a href=\"https://metacpan.org/pod/Getopt::Again#process\" rel=\"nofollow\"><code>process</code> configuration value</a> per command line argument.</p>\n\n<pre><code>use strict;\nuse warnings;\nuse Getopt::Again;\n\nopt_add my_opt =&gt; (\n    type        =&gt; 'string',\n    default     =&gt; 'small',     \n    process     =&gt; qr/^(?:small|medium|large)$/, \n    description =&gt; \"My option ...\",\n);\n\nmy (%opts, @args) = opt_parse(@ARGV);\n</code></pre>\n"}, {"comments": [{"owner": {"reputation": 1050, "user_id": 1636683, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/c5f282a2b7d41f9a3e3f9eced4c3fcf7?s=128&d=identicon&r=PG", "display_name": "Ron Bergin", "link": "https://stackoverflow.com/users/1636683/ron-bergin"}, "reply_to_user": {"reputation": 45481, "user_id": 197758, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/628da6ba2a6c70e35c009b7e3c3a430a?s=128&d=identicon&r=PG", "display_name": "toolic", "link": "https://stackoverflow.com/users/197758/toolic"}, "edited": false, "score": 0, "creation_date": 1437575273, "post_id": 31565818, "comment_id": 51087509, "body": "According to the docs it should have died, but you&#39;re right, it didn&#39;t.  Let me run another test."}, {"owner": {"reputation": 62184, "user_id": 7231, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/81b76985f3985e35492e25880493d045?s=128&d=identicon&r=PG", "display_name": "Dave Cross", "link": "https://stackoverflow.com/users/7231/dave-cross"}, "edited": false, "score": 2, "creation_date": 1437575537, "post_id": 31565818, "comment_id": 51087714, "body": "From the docs - &quot;If the subroutine needs to signal an error, it should call die() with the desired error message as its argument. GetOptions() will catch the die(), issue the error message, and record that an error result must be returned upon completion.&quot; So the module is calling the subroutine in an <code>eval</code>."}, {"owner": {"reputation": 1050, "user_id": 1636683, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/c5f282a2b7d41f9a3e3f9eced4c3fcf7?s=128&d=identicon&r=PG", "display_name": "Ron Bergin", "link": "https://stackoverflow.com/users/1636683/ron-bergin"}, "edited": false, "score": 0, "creation_date": 1437576895, "post_id": 31565818, "comment_id": 51088815, "body": "The issue I have with having to call die() twice, which was not real clear to me when I read the docs, is that the error message will then also include &quot;Died at .... line x&quot; which is fine for the developer, but IMO not real clean as an end user message."}, {"owner": {"reputation": 62184, "user_id": 7231, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/81b76985f3985e35492e25880493d045?s=128&d=identicon&r=PG", "display_name": "Dave Cross", "link": "https://stackoverflow.com/users/7231/dave-cross"}, "edited": false, "score": 0, "creation_date": 1437577871, "post_id": 31565818, "comment_id": 51089564, "body": "But you can make them both into useful end user error messages. The one inside the validation subroutine explains what the actual problem is and the one on the call to <code>GetOptions</code> can be <code>or die &quot;Error in command line options</code> or something vague like that."}, {"owner": {"reputation": 1050, "user_id": 1636683, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/c5f282a2b7d41f9a3e3f9eced4c3fcf7?s=128&d=identicon&r=PG", "display_name": "Ron Bergin", "link": "https://stackoverflow.com/users/1636683/ron-bergin"}, "edited": false, "score": 0, "creation_date": 1437578547, "post_id": 31565818, "comment_id": 51090110, "body": "Yes, you&#39;re right and I should have thought of that especially since I normally couple Getopt::Long with Pod::Usage and do this: <code>GetOptions(&#39;size=s&#39;  =&gt; \\&amp;size) or pod2usage(2);</code>"}], "tags": [], "owner": {"reputation": 1050, "user_id": 1636683, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/c5f282a2b7d41f9a3e3f9eced4c3fcf7?s=128&d=identicon&r=PG", "display_name": "Ron Bergin", "link": "https://stackoverflow.com/users/1636683/ron-bergin"}, "is_accepted": false, "score": 3, "last_activity_date": 1437575919, "last_edit_date": 1437575919, "creation_date": 1437574776, "answer_id": 31565818, "question_id": 31565326, "link": "https://stackoverflow.com/questions/31565326/getoptions-check-option-values/31565818#31565818", "title": "GetOptions Check Option Values", "body": "<p>You could use a subroutine to handle the processing of that option.\n<a href=\"https://metacpan.org/pod/Getopt::Long#User-defined-subroutines-to-handle-options\" rel=\"nofollow\">User-defined subroutines to handle options</a></p>\n\n<pre><code>my $size = 'small';  # default\nGetOptions('size=s'  =&gt; \\&amp;size);\nprint \"$size\\n\";\n\nsub size {\n    my %sizes = (\n            small  =&gt; 1,\n            medium =&gt; 1,\n            large  =&gt; 1\n    );\n\n    if (! exists $sizes{$_[1]}) {\n        # die \"$_[1] is not a valid size\\n\";\n\n        # Changing it to use an exit statement works as expected\n        print \"$_[1] is not a valid size\\n\";\n        exit;\n    }\n\n    $size = $_[1];\n}\n</code></pre>\n\n<p>I put the sizes into a hash, but you could use an array and grep as toolic showed.</p>\n"}, {"tags": [], "owner": {"reputation": 52334, "user_id": 702638, "user_type": "registered", "accept_rate": 98, "profile_image": "https://www.gravatar.com/avatar/892f65bc0a8a0949ab88598de7d83cab?s=128&d=identicon&r=PG", "display_name": "Hunter McMillen", "link": "https://stackoverflow.com/users/702638/hunter-mcmillen"}, "is_accepted": false, "score": 0, "last_activity_date": 1437577022, "creation_date": 1437577022, "answer_id": 31566806, "question_id": 31565326, "link": "https://stackoverflow.com/questions/31565326/getoptions-check-option-values/31566806#31566806", "title": "GetOptions Check Option Values", "body": "<p>An alternative to Getopt::Long is <a href=\"https://metacpan.org/pod/Getopt::Declare\" rel=\"nofollow\"><code>Getopt::Declare</code></a> which has built in pattern support, but is slightly more verbose:</p>\n\n<pre><code>use strict; \nuse warnings; \n\nuse feature qw/say/;\nuse Getopt::Declare; \n\nmy $args = Getopt::Declare-&gt;new(\n   join \"\\n\",\n      '[strict]', \n      \"-size &lt;s:/small|medium|large/&gt;\\t small, medium, or large [required]\"\n) or exit(1);\n\nsay $args-&gt;{-size};\n</code></pre>\n\n<p>Test runs:</p>\n\n<pre><code>[hmcmillen]$ perl test.pl -size small\nsmall\n[hmcmillen]$ perl test.pl -size medium\nmedium\n[hmcmillen]$ perl test.pl -size large\nlarge\n[hmcmillen]$ perl test.pl -size extra-large\nError: incorrect specification of '-size' parameter\nError: required parameter -size not found.\nError: unrecognizable argument ('extra-large')\n\n(try 'test.pl -help' for more information)\n</code></pre>\n"}, {"tags": [], "owner": {"reputation": 320771, "user_id": 589924, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/b2cf53d5a3d25f95c0db4e025aed4153?s=128&d=identicon&r=PG", "display_name": "ikegami", "link": "https://stackoverflow.com/users/589924/ikegami"}, "is_accepted": false, "score": 1, "last_activity_date": 1437577245, "creation_date": 1437577245, "answer_id": 31566902, "question_id": 31565326, "link": "https://stackoverflow.com/questions/31565326/getoptions-check-option-values/31566902#31566902", "title": "GetOptions Check Option Values", "body": "<p>It's just one of a few checks you need to perform after <code>GetOptions</code> returned.</p>\n\n<ul>\n<li>You need to check if <code>GetOptions</code> succeeded.</li>\n<li>You may need to check the value provided for each optional argument.</li>\n<li>You may need to check the number of arguments in <code>@ARGV</code>.</li>\n<li>You may need to check the arguments in <code>@ARGV</code>.</li>\n</ul>\n\n<p>Here's how I perform those checks:</p>\n\n<pre><code>use Getopt::Long qw( );\n\nmy %sizes = map { $_ =&gt; 1 } qw( small medium large );\n\nmy $opt_size;\n\nsub parse_args {\n   Getopt::Long::Configure(qw( :posix_default ));\n\n   $opt_size = undef;\n\n   Getopt::Long::GetOptions(\n      'help|h|?' =&gt; \\&amp;exit_with_usage,\n      'size=s'   =&gt; \\$opt_size,\n   )\n      or exit_bad_usage();\n\n   exit_bad_usage(\"Invalid size.\\n\")\n      if defined($size) &amp;&amp; !$sizes{$size};\n\n   exit_bad_usage(\"Invalid number of arguments.\\n\")\n      if @ARGV;\n}\n</code></pre>\n\n<p>Here's how I handle failures:</p>\n\n<pre><code>use File::Basename qw( basename );\n\nsub exit_with_usage {\n   my $prog = basename($0);\n   print(\"usage: $prog [options]\\n\");\n   print(\"       $prog --help\\n\");\n   print(\"\\n\");\n   print(\"Options:\");\n   print(\"   --size {small|medium|large}\\n\");\n   print(\"      Controls the size of ...\\n\"\n   exit(0);\n} \n\nsub exit_bad_usage {\n   my $prog = basename($0);\n   warn(@_) if @_;\n   die(\"Use $prog --help for help\\n\");\n   exit(1);\n} \n</code></pre>\n"}], "owner": {"reputation": 5821, "user_id": 1045004, "user_type": "registered", "accept_rate": 55, "profile_image": "https://www.gravatar.com/avatar/637fa57272759210cf9f6d3237ba21f3?s=128&d=identicon&r=PG", "display_name": "Samuel", "link": "https://stackoverflow.com/users/1045004/samuel"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 1938, "favorite_count": 0, "answer_count": 5, "score": 0, "last_activity_date": 1437577245, "creation_date": 1437573513, "last_edit_date": 1437574851, "question_id": 31565326, "link": "https://stackoverflow.com/questions/31565326/getoptions-check-option-values", "title": "GetOptions Check Option Values", "body": "<p>I am updating an existing Perl script that uses <code>GetOptions</code> from <a href=\"http://perldoc.perl.org/Getopt/Long.html\" rel=\"nofollow\">Getopt::Long</a>. I want to add an option that takes a string as its parameter and can only have one of 3 values: small, medium, or large. Is there any way to make Perl throw an error or kill the script if any other string value is specified? So far I have:</p>\n\n<pre><code>my $value = 'small';\nGetOptions('size=s'  =&gt; \\$value);\n</code></pre>\n"}, {"tags": ["perl", "moose"], "comments": [{"owner": {"reputation": 50468, "user_id": 1331451, "user_type": "registered", "accept_rate": 96, "profile_image": "https://i.stack.imgur.com/4ZPmj.png?s=128&g=1", "display_name": "simbabque", "link": "https://stackoverflow.com/users/1331451/simbabque"}, "edited": false, "score": 2, "creation_date": 1437572953, "post_id": 31565023, "comment_id": 51085493, "body": "Take a look at <a href=\"http://p3rl.org/Data::Printer\" rel=\"nofollow noreferrer\">Data::Printer</a>, which is very usefull if you work with objects."}], "answers": [{"tags": [], "owner": {"reputation": 50468, "user_id": 1331451, "user_type": "registered", "accept_rate": 96, "profile_image": "https://i.stack.imgur.com/4ZPmj.png?s=128&g=1", "display_name": "simbabque", "link": "https://stackoverflow.com/users/1331451/simbabque"}, "is_accepted": true, "score": 5, "last_activity_date": 1437572910, "creation_date": 1437572910, "answer_id": 31565070, "question_id": 31565023, "link": "https://stackoverflow.com/questions/31565023/arrayrefofhashrefs-subtype-not-working-in-moose/31565070#31565070", "title": "&quot;ArrayRefOfHashrefs&quot; subtype not working in Moose", "body": "<p>You have a typo. The <code>Hashref</code> is called a <code>HashRef</code> with a capital <strong>R</strong>. The rest is fine.</p>\n"}], "owner": {"reputation": 1742, "user_id": 132319, "user_type": "registered", "accept_rate": 74, "profile_image": "https://www.gravatar.com/avatar/9265668ccda89e3007dcef4409aa3381?s=128&d=identicon&r=PG", "display_name": "Kit Peters", "link": "https://stackoverflow.com/users/132319/kit-peters"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 42, "favorite_count": 0, "accepted_answer_id": 31565070, "answer_count": 1, "score": 1, "last_activity_date": 1437572910, "creation_date": 1437572806, "question_id": 31565023, "link": "https://stackoverflow.com/questions/31565023/arrayrefofhashrefs-subtype-not-working-in-moose", "title": "&quot;ArrayRefOfHashrefs&quot; subtype not working in Moose", "body": "<p>So I have this little sketch, trying to get the hang of subtypes:</p>\n\n<pre><code>#!/usr/bin/perl\n#\nuse strict;\nuse warnings;\n\npackage Foo;\nuse Moose;\nuse Moose::Util::TypeConstraints;\nuse Data::Dumper;\n\nsubtype 'ArrayRefOfHashrefs' =&gt; as 'ArrayRef[Hashref]';\n\nhas 'thingy' =&gt; ( 'is' =&gt; 'ro', 'isa' =&gt; 'ArrayRefOfHashrefs' );\n\npackage main;\n\nmy $foo = Foo-&gt;new('thingy' =&gt; [{ 'id' =&gt; 12 }]);\n\n# The above produces: \n\n\nuse Data::Dumper;\nprint Dumper $foo-&gt;thingy;\n</code></pre>\n\n<p>And when I try to run it, I get: </p>\n\n<blockquote>\n<p>Attribute (thingy) does not pass the type constraint because: Validation failed for 'ArrayRefOfHashrefs' with value ARRAY(0x7fda83028e08) at /[PATH]/site_perl/5.18.4/darwin2level/Moose/Object.pm line 24</p>\n<p>Moose::Object::new('Foo', 'thingy', 'ARRAY(0x7fda83028e08)') called at ../sketches/arrayrefofhashrefs.pl line 17</p>\n</blockquote>\n\n<p>What am I doing wrong?</p>\n"}, {"tags": ["perl", "datetime"], "comments": [{"owner": {"reputation": 62184, "user_id": 7231, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/81b76985f3985e35492e25880493d045?s=128&d=identicon&r=PG", "display_name": "Dave Cross", "link": "https://stackoverflow.com/users/7231/dave-cross"}, "edited": false, "score": 5, "creation_date": 1437573729, "post_id": 31563718, "comment_id": 51086171, "body": "How was that version of Perl installed on that system? Seems likely that the installation is broken in interesting ways."}], "answers": [{"comments": [{"owner": {"reputation": 62184, "user_id": 7231, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/81b76985f3985e35492e25880493d045?s=128&d=identicon&r=PG", "display_name": "Dave Cross", "link": "https://stackoverflow.com/users/7231/dave-cross"}, "edited": false, "score": 5, "creation_date": 1437573656, "post_id": 31563948, "comment_id": 51086094, "body": "Time::Piece was <a href=\"https://metacpan.org/source/RGARCIA/perl-5.10.0/ext/Time/Piece/Piece.pm\" rel=\"nofollow noreferrer\">definitely included in Perl 5.10.0</a>. I&#39;d be deeply suspicious of any installation of 5.10 that didn&#39;t include it."}, {"owner": {"reputation": 123805, "user_id": 622310, "user_type": "registered", "accept_rate": 33, "profile_image": "https://www.gravatar.com/avatar/8b6d35219e1808520bc238b28161e2e6?s=128&d=identicon&r=PG", "display_name": "Borodin", "link": "https://stackoverflow.com/users/622310/borodin"}, "reply_to_user": {"reputation": 62184, "user_id": 7231, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/81b76985f3985e35492e25880493d045?s=128&d=identicon&r=PG", "display_name": "Dave Cross", "link": "https://stackoverflow.com/users/7231/dave-cross"}, "edited": false, "score": 0, "creation_date": 1437574355, "post_id": 31563948, "comment_id": 51086738, "body": "You&#39;re quite right. I was working from memory, but <code>corelist</code> says it came in v5.9.5. I&#39;m pretty sure there is a core module that was introduced in v5.10.1 though"}, {"owner": {"reputation": 62184, "user_id": 7231, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/81b76985f3985e35492e25880493d045?s=128&d=identicon&r=PG", "display_name": "Dave Cross", "link": "https://stackoverflow.com/users/7231/dave-cross"}, "edited": false, "score": 0, "creation_date": 1437574404, "post_id": 31563948, "comment_id": 51086779, "body": "I think you&#39;re thinking of autodie."}, {"owner": {"reputation": 123805, "user_id": 622310, "user_type": "registered", "accept_rate": 33, "profile_image": "https://www.gravatar.com/avatar/8b6d35219e1808520bc238b28161e2e6?s=128&d=identicon&r=PG", "display_name": "Borodin", "link": "https://stackoverflow.com/users/622310/borodin"}, "reply_to_user": {"reputation": 62184, "user_id": 7231, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/81b76985f3985e35492e25880493d045?s=128&d=identicon&r=PG", "display_name": "Dave Cross", "link": "https://stackoverflow.com/users/7231/dave-cross"}, "edited": false, "score": 0, "creation_date": 1437574455, "post_id": 31563948, "comment_id": 51086823, "body": "@DaveCross: Most likely. Thanks Dave"}], "tags": [], "owner": {"reputation": 123805, "user_id": 622310, "user_type": "registered", "accept_rate": 33, "profile_image": "https://www.gravatar.com/avatar/8b6d35219e1808520bc238b28161e2e6?s=128&d=identicon&r=PG", "display_name": "Borodin", "link": "https://stackoverflow.com/users/622310/borodin"}, "is_accepted": true, "score": 1, "last_activity_date": 1437574281, "last_edit_date": 1437574281, "creation_date": 1437570122, "answer_id": 31563948, "question_id": 31563718, "link": "https://stackoverflow.com/questions/31563718/missing-timepiece-on-perl-5-10/31563948#31563948", "title": "Missing Time::Piece on Perl 5.10", "body": "<p><strike><code>Time::Piece</code> was introduced to core Perl in v5.10.1. If you have v5.10.0 then you are just out of luck</strike></p>\n\n<p>You can download the installation package on an internet-connected PC <a href=\"https://cpan.metacpan.org/authors/id/R/RJ/RJBS/Time-Piece-1.30.tar.gz\" rel=\"nofollow\">from here</a> onto, say, a flash drive, and follow the instructions in <a href=\"http://perldoc.perl.org/perlmodinstall.html\" rel=\"nofollow\"><code>perlmodinstall</code></a> to install it onto your target system</p>\n"}, {"comments": [{"owner": {"reputation": 701, "user_id": 2007843, "user_type": "registered", "accept_rate": 91, "profile_image": "https://www.gravatar.com/avatar/eb1e32c61d2047d1b4e8c3cdac6d9cb4?s=128&d=identicon&r=PG", "display_name": "user2007843", "link": "https://stackoverflow.com/users/2007843/user2007843"}, "edited": false, "score": 0, "creation_date": 1437588456, "post_id": 31566591, "comment_id": 51096375, "body": "hmm so you&#39;re saying that I do have Time::Piece on the computer but its not installed?"}, {"owner": {"reputation": 320771, "user_id": 589924, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/b2cf53d5a3d25f95c0db4e025aed4153?s=128&d=identicon&r=PG", "display_name": "ikegami", "link": "https://stackoverflow.com/users/589924/ikegami"}, "reply_to_user": {"reputation": 701, "user_id": 2007843, "user_type": "registered", "accept_rate": 91, "profile_image": "https://www.gravatar.com/avatar/eb1e32c61d2047d1b4e8c3cdac6d9cb4?s=128&d=identicon&r=PG", "display_name": "user2007843", "link": "https://stackoverflow.com/users/2007843/user2007843"}, "edited": false, "score": 0, "creation_date": 1437589096, "post_id": 31566591, "comment_id": 51096776, "body": "It would more likely be fetched for you from a online repository, though there are surely ways of downloading the package and installing it offline."}], "tags": [], "owner": {"reputation": 320771, "user_id": 589924, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/b2cf53d5a3d25f95c0db4e025aed4153?s=128&d=identicon&r=PG", "display_name": "ikegami", "link": "https://stackoverflow.com/users/589924/ikegami"}, "is_accepted": false, "score": 1, "last_activity_date": 1437576517, "creation_date": 1437576517, "answer_id": 31566591, "question_id": 31563718, "link": "https://stackoverflow.com/questions/31563718/missing-timepiece-on-perl-5-10/31566591#31566591", "title": "Missing Time::Piece on Perl 5.10", "body": "<p>Some OS distributors (e.g. Fedora) have split the <code>perl</code> distribution into multiple packages. Use your OS's package manager (<code>apt-get</code>, <code>yum</code>, etc) to install the missing package.</p>\n"}], "owner": {"reputation": 701, "user_id": 2007843, "user_type": "registered", "accept_rate": 91, "profile_image": "https://www.gravatar.com/avatar/eb1e32c61d2047d1b4e8c3cdac6d9cb4?s=128&d=identicon&r=PG", "display_name": "user2007843", "link": "https://stackoverflow.com/users/2007843/user2007843"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 696, "favorite_count": 0, "accepted_answer_id": 31563948, "answer_count": 2, "score": 1, "last_activity_date": 1437576517, "creation_date": 1437569559, "last_edit_date": 1437570301, "question_id": 31563718, "link": "https://stackoverflow.com/questions/31563718/missing-timepiece-on-perl-5-10", "title": "Missing Time::Piece on Perl 5.10", "body": "<p>I am reading that Perl 5.10 already has the <code>Time::Piece</code> module installed on it. I am working on another Linux computer that doesn't have internet capabilities and has Perl 5.10 installed. I wrote a program that uses <code>Time::Piece</code> and am getting this error when I run it on that machine.</p>\n\n<pre><code>Cant locate Time/Piece.pm in @INC (@INC contains: /usr/local/lib64/perl5/site_perl/5.10.0/\nx86_64-linux-thread-multi\n</code></pre>\n\n<p>It then lists some more folders and says the error occurs at the line I say <code>use Time::Piece</code></p>\n\n<p>Like I said I don't have internet access on that machine so I can't just run a command to update it. I guess I need to download the <code>Time::Piece</code> module onto a USB and update it manually?</p>\n"}, {"tags": ["xml", "perl"], "comments": [{"owner": {"reputation": 60461, "user_id": 3636601, "user_type": "registered", "accept_rate": 75, "profile_image": "https://www.gravatar.com/avatar/69a1b4f750ece89db0e49c94519f1a7d?s=128&d=identicon&r=PG&f=1", "display_name": "Jens", "link": "https://stackoverflow.com/users/3636601/jens"}, "edited": false, "score": 1, "creation_date": 1437567413, "post_id": 31562809, "comment_id": 51081363, "body": "And what is your question?"}, {"owner": {"reputation": 51521, "user_id": 2566198, "user_type": "registered", "accept_rate": 67, "profile_image": "https://i.stack.imgur.com/Y34ZA.jpg?s=128&g=1", "display_name": "Sobrique", "link": "https://stackoverflow.com/users/2566198/sobrique"}, "edited": false, "score": 1, "creation_date": 1437574715, "post_id": 31562809, "comment_id": 51087037, "body": "Activeperl has definitely got XML::Twig. <code>ppm install XML::Twig</code> will install it, and that&#39;s still a much better parser than XML::Simple."}], "answers": [{"tags": [], "owner": {"reputation": 198290, "user_id": 1030675, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/957956ce51706d03f19a4dc85a767bb1?s=128&d=identicon&r=PG", "display_name": "choroba", "link": "https://stackoverflow.com/users/1030675/choroba"}, "is_accepted": false, "score": 4, "last_activity_date": 1437567513, "creation_date": 1437567513, "answer_id": 31562922, "question_id": 31562809, "link": "https://stackoverflow.com/questions/31562809/not-able-to-read-xml-using-perl/31562922#31562922", "title": "Not able to read XML using perl", "body": "<p><a href=\"http://p3rl.org/XML::LibXML\" rel=\"nofollow\">XML::LibXML</a> is a XS module, so just copying the sources (or even the compiled files) doesn't usually work. You have to install it properly.</p>\n\n<p>The syntax <code>%$ref-&gt;{version}</code> is strange. Do you mean </p>\n\n<pre><code>%{ $ref-&gt;version }\n</code></pre>\n\n<p>or something else? Can you show <a href=\"http://p3rl.org/Data::Dumper\" rel=\"nofollow\">Data::Dumper</a>'s <code>Dumper($ref)</code>?</p>\n"}, {"comments": [{"owner": {"reputation": 874, "user_id": 3649361, "user_type": "registered", "accept_rate": 49, "profile_image": "https://www.gravatar.com/avatar/3cbaec70ec177be15919e4bb3d6d4406?s=128&d=identicon&r=PG&f=1", "display_name": "user3649361", "link": "https://stackoverflow.com/users/3649361/user3649361"}, "edited": false, "score": 0, "creation_date": 1437569191, "post_id": 31563391, "comment_id": 51082664, "body": "ok so my xml file is like &quot;&lt;Install&gt; &lt;version number=&quot;6.0&quot; build=&quot;latest&quot; /&gt; &lt;/Install&gt;&quot; so how I am supposed to read the values of number and build ??"}, {"owner": {"reputation": 62184, "user_id": 7231, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/81b76985f3985e35492e25880493d045?s=128&d=identicon&r=PG", "display_name": "Dave Cross", "link": "https://stackoverflow.com/users/7231/dave-cross"}, "reply_to_user": {"reputation": 874, "user_id": 3649361, "user_type": "registered", "accept_rate": 49, "profile_image": "https://www.gravatar.com/avatar/3cbaec70ec177be15919e4bb3d6d4406?s=128&d=identicon&r=PG&f=1", "display_name": "user3649361", "link": "https://stackoverflow.com/users/3649361/user3649361"}, "edited": false, "score": 3, "creation_date": 1437569295, "post_id": 31563391, "comment_id": 51082735, "body": "If you have a new question, then please ask it as a new question."}], "tags": [], "owner": {"reputation": 62184, "user_id": 7231, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/81b76985f3985e35492e25880493d045?s=128&d=identicon&r=PG", "display_name": "Dave Cross", "link": "https://stackoverflow.com/users/7231/dave-cross"}, "is_accepted": true, "score": 3, "last_activity_date": 1437568602, "creation_date": 1437568602, "answer_id": 31563391, "question_id": 31562809, "link": "https://stackoverflow.com/questions/31562809/not-able-to-read-xml-using-perl/31563391#31563391", "title": "Not able to read XML using perl", "body": "<p>Your XML::Simple problem is just a misunderstanding of syntax. Looks like you realise that you need to use <code>%</code> to dereference a hash reference, but you don't realise that you need to put the expression which returns the hash reference in a small <code>{ ... }</code> block.</p>\n\n<p>So where you have:</p>\n\n<pre><code>%$ref-&gt;{version}\n</code></pre>\n\n<p>you actually want:</p>\n\n<pre><code>%{$ref-&gt;{version}}\n</code></pre>\n\n<p>Oh, and it's slightly worse than that. You have an extra <code>{ ... }</code> around that expression - so you're explicitly turning the expression back into a hash reference. What you want is:</p>\n\n<pre><code>foreach my $k (keys %{$ref-&gt;{version}})\n</code></pre>\n\n<p>Each value you get back in <code>$k</code>will be a hash key. And hash keys are always strings. So your call to <code>Dumper</code> in the next line is unnecessary too.</p>\n"}], "owner": {"reputation": 874, "user_id": 3649361, "user_type": "registered", "accept_rate": 49, "profile_image": "https://www.gravatar.com/avatar/3cbaec70ec177be15919e4bb3d6d4406?s=128&d=identicon&r=PG&f=1", "display_name": "user3649361", "link": "https://stackoverflow.com/users/3649361/user3649361"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 119, "favorite_count": 1, "accepted_answer_id": 31563391, "answer_count": 2, "score": 2, "last_activity_date": 1439815808, "creation_date": 1437567194, "last_edit_date": 1439815808, "question_id": 31562809, "link": "https://stackoverflow.com/questions/31562809/not-able-to-read-xml-using-perl", "title": "Not able to read XML using perl", "body": "<p>I am trying to read an <code>xml</code> file using Perl.</p>\n\n<p>I tried <code>XML::Simple</code> and use <code>XML::LibXML</code>, but in both cases I am facing problems.  </p>\n\n<p>For <code>XML::Simple</code> it says </p>\n\n<pre><code>\"keys on reference is experimental\nUsing a hash as a reference is deprecated\"\n</code></pre>\n\n<p>when I use following</p>\n\n<pre><code>foreach my $k ({keys %$ref-&gt;{version}}) # output to conf\n{\n    print STDERR Dumper($k);\n}\n</code></pre>\n\n<p>And for <code>XML::LibXML</code>, I am getting <code>\"Can't locate XML/LibXML/Error.pm in @INC (you may need to install the XML::LibXML::Error module)\"</code>.</p>\n\n<p>When I tried to install <code>LibXML</code> using <code>Activeperl ppm UI</code>, I didn't find the package there. Then I downloaded the <code>LibXML</code> from some other source and copied the required files in <code>\"C:\\Perl64\\lib\"</code> and <code>\"C:\\Perl64\\site\\lib\"</code>.</p>\n\n<p>I am using perl 5, version 20.\nHow can I make it work ?</p>\n"}, {"tags": ["perl", "csv"], "comments": [{"owner": {"reputation": 46287, "user_id": 143505, "user_type": "registered", "accept_rate": 88, "profile_image": "https://www.gravatar.com/avatar/8873b6c42ea2d345bcafb32119700fca?s=128&d=identicon&r=PG", "display_name": "ccheneson", "link": "https://stackoverflow.com/users/143505/ccheneson"}, "edited": false, "score": 1, "creation_date": 1437557797, "post_id": 31559292, "comment_id": 51074762, "body": "Have a look at quotemeta <a href=\"http://perldoc.perl.org/functions/quotemeta.html\" rel=\"nofollow noreferrer\">perldoc.perl.org/functions/quotemeta.html</a>"}, {"owner": {"reputation": 198290, "user_id": 1030675, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/957956ce51706d03f19a4dc85a767bb1?s=128&d=identicon&r=PG", "display_name": "choroba", "link": "https://stackoverflow.com/users/1030675/choroba"}, "edited": false, "score": 6, "creation_date": 1437558579, "post_id": 31559292, "comment_id": 51075313, "body": "Please, show a line that contains the problematic comma."}, {"owner": {"reputation": 79, "user_id": 5127920, "user_type": "registered", "accept_rate": 7, "profile_image": "https://www.gravatar.com/avatar/07c09c8813d1b23b93cc7d7c6f30b6a5?s=128&d=identicon&r=PG&f=1", "display_name": "Animesh Sheolikar", "link": "https://stackoverflow.com/users/5127920/animesh-sheolikar"}, "edited": false, "score": 0, "creation_date": 1437558880, "post_id": 31559292, "comment_id": 51075543, "body": "Input line : For WI Packaging Operations: For finishing operations, the use of a protective apron and nitrile gloves is mandatory."}, {"owner": {"reputation": 79, "user_id": 5127920, "user_type": "registered", "accept_rate": 7, "profile_image": "https://www.gravatar.com/avatar/07c09c8813d1b23b93cc7d7c6f30b6a5?s=128&d=identicon&r=PG&f=1", "display_name": "Animesh Sheolikar", "link": "https://stackoverflow.com/users/5127920/animesh-sheolikar"}, "edited": false, "score": 0, "creation_date": 1437558954, "post_id": 31559292, "comment_id": 51075602, "body": "output result : For WI Packaging Operations: For finishing operations"}, {"owner": {"reputation": 79, "user_id": 5127920, "user_type": "registered", "accept_rate": 7, "profile_image": "https://www.gravatar.com/avatar/07c09c8813d1b23b93cc7d7c6f30b6a5?s=128&d=identicon&r=PG&f=1", "display_name": "Animesh Sheolikar", "link": "https://stackoverflow.com/users/5127920/animesh-sheolikar"}, "edited": false, "score": 0, "creation_date": 1437558995, "post_id": 31559292, "comment_id": 51075625, "body": "problematic field is : $note_text = $fields[3];"}, {"owner": {"reputation": 79, "user_id": 5127920, "user_type": "registered", "accept_rate": 7, "profile_image": "https://www.gravatar.com/avatar/07c09c8813d1b23b93cc7d7c6f30b6a5?s=128&d=identicon&r=PG&f=1", "display_name": "Animesh Sheolikar", "link": "https://stackoverflow.com/users/5127920/animesh-sheolikar"}, "reply_to_user": {"reputation": 46287, "user_id": 143505, "user_type": "registered", "accept_rate": 88, "profile_image": "https://www.gravatar.com/avatar/8873b6c42ea2d345bcafb32119700fca?s=128&d=identicon&r=PG", "display_name": "ccheneson", "link": "https://stackoverflow.com/users/143505/ccheneson"}, "edited": false, "score": 0, "creation_date": 1437559030, "post_id": 31559292, "comment_id": 51075642, "body": "@ccheneson quotemeta does worked the way i wanted."}, {"owner": {"reputation": 61610, "user_id": 725418, "user_type": "registered", "accept_rate": 86, "profile_image": "https://www.gravatar.com/avatar/82ac2dc3e1ad4b7187f245c416528df9?s=128&d=identicon&r=PG", "display_name": "TLP", "link": "https://stackoverflow.com/users/725418/tlp"}, "edited": false, "score": 0, "creation_date": 1437562374, "post_id": 31559292, "comment_id": 51077911, "body": "You should give us some sample data to work with."}, {"owner": {"reputation": 61610, "user_id": 725418, "user_type": "registered", "accept_rate": 86, "profile_image": "https://www.gravatar.com/avatar/82ac2dc3e1ad4b7187f245c416528df9?s=128&d=identicon&r=PG", "display_name": "TLP", "link": "https://stackoverflow.com/users/725418/tlp"}, "edited": false, "score": 3, "creation_date": 1437563720, "post_id": 31559292, "comment_id": 51078810, "body": "That is not valid csv, as the comma is unquoted. Does it always occur in the last field on the line? Or what other means can you use to distinguish the line?"}, {"owner": {"reputation": 61610, "user_id": 725418, "user_type": "registered", "accept_rate": 86, "profile_image": "https://www.gravatar.com/avatar/82ac2dc3e1ad4b7187f245c416528df9?s=128&d=identicon&r=PG", "display_name": "TLP", "link": "https://stackoverflow.com/users/725418/tlp"}, "edited": false, "score": 2, "creation_date": 1437563938, "post_id": 31559292, "comment_id": 51078958, "body": "Also, is that a line break in the last field?"}, {"owner": {"reputation": 62184, "user_id": 7231, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/81b76985f3985e35492e25880493d045?s=128&d=identicon&r=PG", "display_name": "Dave Cross", "link": "https://stackoverflow.com/users/7231/dave-cross"}, "edited": false, "score": 0, "creation_date": 1437564175, "post_id": 31559292, "comment_id": 51079103, "body": "Does it really have all those spaces? Is this a file with fixed width fields?"}, {"owner": {"reputation": 79, "user_id": 5127920, "user_type": "registered", "accept_rate": 7, "profile_image": "https://www.gravatar.com/avatar/07c09c8813d1b23b93cc7d7c6f30b6a5?s=128&d=identicon&r=PG&f=1", "display_name": "Animesh Sheolikar", "link": "https://stackoverflow.com/users/5127920/animesh-sheolikar"}, "edited": false, "score": 0, "creation_date": 1437565435, "post_id": 31559292, "comment_id": 51079953, "body": "i have putted comma just for seperation of data .CSV file will not have comma seperating with column.no file will not be having fixed width."}, {"owner": {"reputation": 61610, "user_id": 725418, "user_type": "registered", "accept_rate": 86, "profile_image": "https://www.gravatar.com/avatar/82ac2dc3e1ad4b7187f245c416528df9?s=128&d=identicon&r=PG", "display_name": "TLP", "link": "https://stackoverflow.com/users/725418/tlp"}, "edited": false, "score": 2, "creation_date": 1437566257, "post_id": 31559292, "comment_id": 51080523, "body": "&quot;No file will not be having fixed width&quot;? Did you mean to say &quot;All files will have fixed width&quot;? Are you also saying that you manually put the commas in, and that the real data will not have commas? Please enter the <b>real</b> data you intend to process, exactly as it occurs. Use the code formatting option so we can see it."}, {"owner": {"reputation": 62184, "user_id": 7231, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/81b76985f3985e35492e25880493d045?s=128&d=identicon&r=PG", "display_name": "Dave Cross", "link": "https://stackoverflow.com/users/7231/dave-cross"}, "edited": false, "score": 2, "creation_date": 1437566602, "post_id": 31559292, "comment_id": 51080767, "body": "I suspect he meant &quot;no, file will not be fixed width&quot;. Damn those pesky commas :-)"}], "answers": [{"comments": [{"owner": {"reputation": 62184, "user_id": 7231, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/81b76985f3985e35492e25880493d045?s=128&d=identicon&r=PG", "display_name": "Dave Cross", "link": "https://stackoverflow.com/users/7231/dave-cross"}, "reply_to_user": {"reputation": 79, "user_id": 5127920, "user_type": "registered", "accept_rate": 7, "profile_image": "https://www.gravatar.com/avatar/07c09c8813d1b23b93cc7d7c6f30b6a5?s=128&d=identicon&r=PG&f=1", "display_name": "Animesh Sheolikar", "link": "https://stackoverflow.com/users/5127920/animesh-sheolikar"}, "edited": false, "score": 0, "creation_date": 1437562233, "post_id": 31560263, "comment_id": 51077822, "body": "Can you edit your question to add in four or five complete lines of your input data (including one or two of the problematic ones)."}, {"owner": {"reputation": 61610, "user_id": 725418, "user_type": "registered", "accept_rate": 86, "profile_image": "https://www.gravatar.com/avatar/82ac2dc3e1ad4b7187f245c416528df9?s=128&d=identicon&r=PG", "display_name": "TLP", "link": "https://stackoverflow.com/users/725418/tlp"}, "edited": false, "score": 0, "creation_date": 1437563987, "post_id": 31560263, "comment_id": 51078988, "body": "If the last field has line breaks in it, like the sample implies, you cannot use this method."}, {"owner": {"reputation": 62184, "user_id": 7231, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/81b76985f3985e35492e25880493d045?s=128&d=identicon&r=PG", "display_name": "Dave Cross", "link": "https://stackoverflow.com/users/7231/dave-cross"}, "edited": false, "score": 3, "creation_date": 1437564114, "post_id": 31560263, "comment_id": 51079057, "body": "Ah. It didn&#39;t look like a line break when I looked at it. No, that would complicate things massively :-/"}, {"owner": {"reputation": 61610, "user_id": 725418, "user_type": "registered", "accept_rate": 86, "profile_image": "https://www.gravatar.com/avatar/82ac2dc3e1ad4b7187f245c416528df9?s=128&d=identicon&r=PG", "display_name": "TLP", "link": "https://stackoverflow.com/users/725418/tlp"}, "edited": false, "score": 0, "creation_date": 1437564235, "post_id": 31560263, "comment_id": 51079151, "body": "It is possible to use the same method, include the <code>binary =&gt; 1</code> option, and join the 4th field after parsing. E.g. <code>$field[3] = join &quot;&quot;, @field[3..$#field]</code>."}, {"owner": {"reputation": 79, "user_id": 5127920, "user_type": "registered", "accept_rate": 7, "profile_image": "https://www.gravatar.com/avatar/07c09c8813d1b23b93cc7d7c6f30b6a5?s=128&d=identicon&r=PG&f=1", "display_name": "Animesh Sheolikar", "link": "https://stackoverflow.com/users/5127920/animesh-sheolikar"}, "edited": false, "score": 0, "creation_date": 1437565574, "post_id": 31560263, "comment_id": 51080042, "body": "Yes u r right.It worked @DaveCross for me at last thanks for ur effort.but it was dirty to do so.but works thanks.i learned from it."}, {"owner": {"reputation": 62184, "user_id": 7231, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/81b76985f3985e35492e25880493d045?s=128&d=identicon&r=PG", "display_name": "Dave Cross", "link": "https://stackoverflow.com/users/7231/dave-cross"}, "edited": false, "score": 0, "creation_date": 1437566641, "post_id": 31560263, "comment_id": 51080797, "body": "If you found my answer useful, then please consider accepting it."}, {"owner": {"reputation": 79, "user_id": 5127920, "user_type": "registered", "accept_rate": 7, "profile_image": "https://www.gravatar.com/avatar/07c09c8813d1b23b93cc7d7c6f30b6a5?s=128&d=identicon&r=PG&f=1", "display_name": "Animesh Sheolikar", "link": "https://stackoverflow.com/users/5127920/animesh-sheolikar"}, "edited": false, "score": 0, "creation_date": 1437567169, "post_id": 31560263, "comment_id": 51081171, "body": "i would love but dont have reputation enough"}], "tags": [], "owner": {"reputation": 62184, "user_id": 7231, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/81b76985f3985e35492e25880493d045?s=128&d=identicon&r=PG", "display_name": "Dave Cross", "link": "https://stackoverflow.com/users/7231/dave-cross"}, "is_accepted": false, "score": 6, "last_activity_date": 1437563757, "last_edit_date": 1437563757, "creation_date": 1437560162, "answer_id": 31560263, "question_id": 31559292, "link": "https://stackoverflow.com/questions/31559292/how-to-escape-comma-in-csv-perl/31560263#31560263", "title": "How to escape comma in csv perl", "body": "<p>It is possible to have commas in records in CSV files if the fields that contain them are quoted.</p>\n\n<pre><code>field1,field2,\"field3, with embedded comma\",field4\n</code></pre>\n\n<p>But Text::CSV knows all about that, so if you're using Text::CSV and still getting truncated records, then it seems likely that the problem is with your input data. If the embedded commas aren't quoted then obviously there is no way for the parser to differentiate between separator commas and commas that are part of the text.</p>\n\n<pre><code>field1,field2,field3, with embedded comma,field4\n</code></pre>\n\n<p>In the example above, how can the computer possibly know that the third comma should be ignored?</p>\n\n<p>If this is your problem and you can't get the input data fixed, then there is one possible workaround. If the extra commas only ever exist in the last field of a record, then you can use the little-known third parameter to <code>split()</code> to limit the number of fields created from a record.</p>\n\n<p>So if your record looks like this:</p>\n\n<pre><code>field1,field2,field3,field4 with, embedded, commas\n</code></pre>\n\n<p>You can use:</p>\n\n<pre><code>my @data = split /,/ $input, 4;\n</code></pre>\n\n<p>to force <code>split()</code> to only split the data into four fields. Anything after the third comma is all put into the fourth field.</p>\n\n<p>Usually it's a very bad idea to parse CSV data using <code>split()</code> (because it doesn't know to ignore quoted commas), but in controlled circumstances like this, it can work well.</p>\n\n<p><strong>Update:</strong> Now I have seen some (well, one line!) of your input data, I see that my prediction was right. You have unquoted commas in your data. So using Text::CSV is not going to work.</p>\n\n<p>But my <code>split()</code> solution works fine. Here's an example:</p>\n\n<pre><code>#!/usr/bin/perl\n\nuse strict;\nuse warnings;\nuse 5.010;\n\nwhile (&lt;DATA&gt;) {\n  my @fields = split /,/, $_, 4;\n  say $fields[3];\n}\n\n__END__\n112194 , 521 , 77 , For WI Packaging Operations: For finishing operations, the use of a protective\n</code></pre>\n\n<p>And the output I get is:</p>\n\n<pre><code>For WI Packaging Operations: For finishing operations, the use of a protective\n</code></pre>\n"}], "owner": {"reputation": 79, "user_id": 5127920, "user_type": "registered", "accept_rate": 7, "profile_image": "https://www.gravatar.com/avatar/07c09c8813d1b23b93cc7d7c6f30b6a5?s=128&d=identicon&r=PG&f=1", "display_name": "Animesh Sheolikar", "link": "https://stackoverflow.com/users/5127920/animesh-sheolikar"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 1127, "favorite_count": 0, "answer_count": 1, "score": 2, "last_activity_date": 1437563757, "creation_date": 1437557664, "last_edit_date": 1437563623, "question_id": 31559292, "link": "https://stackoverflow.com/questions/31559292/how-to-escape-comma-in-csv-perl", "title": "How to escape comma in csv perl", "body": "<p>In my csv file there are thousands of records.And those records contain data with comma.How i should escape .I seen few links which mentioned about using module\nTEXT::CSV.But still issue persist ie recofds gets break where ever comma comes.\nHere is sample code i have been working:</p>\n\n<pre><code> use Data::Dumper qw(Dumper);\n my $file = $ARGV[0] or die \"Need to get CSV file on the command line\\n\";\n use Text::CSV;\n my $csv = Text::CSV-&gt;new({ sep_char =&gt; ',' });\n my $file = 'Pkg_Notes_small.csv';\n my %data;\n  my %dupes;\n  open(my $data, '&lt;', $file) or die \"Could not open '$file' $!\\n\";\n\n while (my $line = &lt;$data&gt;) \n {\n\n  my $catalog_num ='';\n  my $catalog_sid ='';\n  my $note_text ='';\n  my $packing_notes_id ='';\n  #($catalog_num,$catalog_sid,$packing_notes_id,$note_text) = split ',', $line;\n  if ($csv-&gt;parse($line)) \n  {\n      my @fields = $csv-&gt;fields();\n      $catalog_num = $fields[0];\n      $catalog_sid = $fields[1];\n      $packing_notes_id = $fields[2];\n      $note_text = $fields[3];\n     }\n   }\n</code></pre>\n\n<p>i will add sample data from csv file : </p>\n\n<pre><code>CATALOG_NUM  CATALOG_SID    PACKAGING_NOTES_SID    PACKAGING_NOTES_DESC\n\n\n112194  ,     521     ,        77      ,        For WI Packaging Operations: For \n                               finishing  operations, the  use of a protective \n</code></pre>\n\n<p>comma used above for clarity. Now converting this data to query based on my requirement for which i am getting:</p>\n\n<p>for which <strong>Notetext</strong> field i am getting is :</p>\n\n<pre><code>    For WI Packaging Operations: For finishing operations  \n</code></pre>\n\n<p>remaining part for this line after processing is missed out.the data iam expecting  is :</p>\n\n<pre><code>  For WI Packaging Operations: For \n  finishing  operations, the  use of a protective\n</code></pre>\n"}, {"tags": ["regex", "bash", "perl", "function", "text-processing"], "comments": [{"owner": {"reputation": 4323, "user_id": 2057091, "user_type": "registered", "accept_rate": 89, "profile_image": "https://i.stack.imgur.com/7kWv6.png?s=128&g=1", "display_name": "Aserre", "link": "https://stackoverflow.com/users/2057091/aserre"}, "edited": false, "score": 2, "creation_date": 1437553666, "post_id": 31557677, "comment_id": 51072011, "body": "What happens when you put double quotes inside your function ? (i.e. write <code>perl -ne &quot;s&#47;($1)&#47;**\\1**&#47;&amp;&amp;print&quot;</code>)"}, {"owner": {"reputation": 240629, "user_id": 224132, "user_type": "registered", "accept_rate": 83, "profile_image": "https://i.stack.imgur.com/N4ivW.png?s=128&g=1", "display_name": "Peter Cordes", "link": "https://stackoverflow.com/users/224132/peter-cordes"}, "edited": false, "score": 0, "creation_date": 1437555457, "post_id": 31557677, "comment_id": 51073120, "body": "You could do the same thing more efficiently with <code>sed</code>.  See simbabque&#39;s answer for how to quote it."}, {"owner": {"reputation": 796, "user_id": 1226389, "user_type": "registered", "accept_rate": 75, "profile_image": "https://www.gravatar.com/avatar/65ee87ab50e1ecd786a47841bffb3681?s=128&d=identicon&r=PG", "display_name": "Rafal", "link": "https://stackoverflow.com/users/1226389/rafal"}, "reply_to_user": {"reputation": 4323, "user_id": 2057091, "user_type": "registered", "accept_rate": 89, "profile_image": "https://i.stack.imgur.com/7kWv6.png?s=128&g=1", "display_name": "Aserre", "link": "https://stackoverflow.com/users/2057091/aserre"}, "edited": false, "score": 0, "creation_date": 1437579438, "post_id": 31557677, "comment_id": 51090756, "body": "@Ploutox Using double quotes solves the issue. In my earlier testing I assumed I need to use double quotes for variable expansion, but it caused some unexpected results. Now all is fine. I will need to do more testing to find out what what the issue earlier."}, {"owner": {"reputation": 796, "user_id": 1226389, "user_type": "registered", "accept_rate": 75, "profile_image": "https://www.gravatar.com/avatar/65ee87ab50e1ecd786a47841bffb3681?s=128&d=identicon&r=PG", "display_name": "Rafal", "link": "https://stackoverflow.com/users/1226389/rafal"}, "reply_to_user": {"reputation": 240629, "user_id": 224132, "user_type": "registered", "accept_rate": 83, "profile_image": "https://i.stack.imgur.com/N4ivW.png?s=128&g=1", "display_name": "Peter Cordes", "link": "https://stackoverflow.com/users/224132/peter-cordes"}, "edited": false, "score": 1, "creation_date": 1437579523, "post_id": 31557677, "comment_id": 51090813, "body": "@PeterCordes I can not use sed, because I am using perl regular expressions and some of them won&#39;t work directly with sed. Since I am also doing some manual work with them in text editor, porting expressions to sed is additional step which can be skipped. But thanks for suggestion."}], "answers": [{"comments": [{"owner": {"reputation": 50468, "user_id": 1331451, "user_type": "registered", "accept_rate": 96, "profile_image": "https://i.stack.imgur.com/4ZPmj.png?s=128&g=1", "display_name": "simbabque", "link": "https://stackoverflow.com/users/1331451/simbabque"}, "edited": false, "score": 0, "creation_date": 1437578945, "post_id": 31557818, "comment_id": 51090406, "body": "When I tested it with this, it worked. You definitely need the double quotes though."}, {"owner": {"reputation": 796, "user_id": 1226389, "user_type": "registered", "accept_rate": 75, "profile_image": "https://www.gravatar.com/avatar/65ee87ab50e1ecd786a47841bffb3681?s=128&d=identicon&r=PG", "display_name": "Rafal", "link": "https://stackoverflow.com/users/1226389/rafal"}, "edited": false, "score": 1, "creation_date": 1437579976, "post_id": 31557818, "comment_id": 51091143, "body": "Before writing my comment, I tested it, but I checked different file for output, which was from another function and led me to incorrect conclusion that your solution doesn&#39;t work. I discovered that after writing my first comment, so I deleted it. <b>Your solution works</b>, which is great. But as far as I can see <b>it is because of double quotes</b> (that expand variable), not because of using <code>$1</code> instead of <code>\\1</code> for replace."}, {"owner": {"reputation": 50468, "user_id": 1331451, "user_type": "registered", "accept_rate": 96, "profile_image": "https://i.stack.imgur.com/4ZPmj.png?s=128&g=1", "display_name": "simbabque", "link": "https://stackoverflow.com/users/1331451/simbabque"}, "reply_to_user": {"reputation": 796, "user_id": 1226389, "user_type": "registered", "accept_rate": 75, "profile_image": "https://www.gravatar.com/avatar/65ee87ab50e1ecd786a47841bffb3681?s=128&d=identicon&r=PG", "display_name": "Rafal", "link": "https://stackoverflow.com/users/1226389/rafal"}, "edited": false, "score": 0, "creation_date": 1437580226, "post_id": 31557818, "comment_id": 51091332, "body": "Probably. Though @\u0421\u0443\u0445\u043e\u043927 is also right about the <code>$1</code> vs <code>\\1</code> which gives a warning."}, {"owner": {"reputation": 50468, "user_id": 1331451, "user_type": "registered", "accept_rate": 96, "profile_image": "https://i.stack.imgur.com/4ZPmj.png?s=128&g=1", "display_name": "simbabque", "link": "https://stackoverflow.com/users/1331451/simbabque"}, "reply_to_user": {"reputation": 796, "user_id": 1226389, "user_type": "registered", "accept_rate": 75, "profile_image": "https://www.gravatar.com/avatar/65ee87ab50e1ecd786a47841bffb3681?s=128&d=identicon&r=PG", "display_name": "Rafal", "link": "https://stackoverflow.com/users/1226389/rafal"}, "edited": false, "score": 0, "creation_date": 1437580319, "post_id": 31557818, "comment_id": 51091411, "body": "I added that to the answer."}, {"owner": {"reputation": 796, "user_id": 1226389, "user_type": "registered", "accept_rate": 75, "profile_image": "https://www.gravatar.com/avatar/65ee87ab50e1ecd786a47841bffb3681?s=128&d=identicon&r=PG", "display_name": "Rafal", "link": "https://stackoverflow.com/users/1226389/rafal"}, "edited": false, "score": 1, "creation_date": 1437580995, "post_id": 31557818, "comment_id": 51091886, "body": "I think that information about double quotes should be added at the top of the answer, as this is really source of the issue. Information about <code>\\1</code> vs <code>$1</code> with explanation why that way is really better could be added as side note. As is, it suggests that <code>\\1</code> is a problem here, which it isn&#39;t. So I am reluctant to accept answer that solves the problem, but suggest that its source lays elsewhere than in reality."}, {"owner": {"reputation": 796, "user_id": 1226389, "user_type": "registered", "accept_rate": 75, "profile_image": "https://www.gravatar.com/avatar/65ee87ab50e1ecd786a47841bffb3681?s=128&d=identicon&r=PG", "display_name": "Rafal", "link": "https://stackoverflow.com/users/1226389/rafal"}, "edited": false, "score": 0, "creation_date": 1437581160, "post_id": 31557818, "comment_id": 51092018, "body": "I accepted the answer, even though I still don&#39;t know why <code>$1</code> is better. But that is probably thing for another question, not comments."}, {"owner": {"reputation": 50468, "user_id": 1331451, "user_type": "registered", "accept_rate": 96, "profile_image": "https://i.stack.imgur.com/4ZPmj.png?s=128&g=1", "display_name": "simbabque", "link": "https://stackoverflow.com/users/1331451/simbabque"}, "reply_to_user": {"reputation": 796, "user_id": 1226389, "user_type": "registered", "accept_rate": 75, "profile_image": "https://www.gravatar.com/avatar/65ee87ab50e1ecd786a47841bffb3681?s=128&d=identicon&r=PG", "display_name": "Rafal", "link": "https://stackoverflow.com/users/1226389/rafal"}, "edited": false, "score": 0, "creation_date": 1437581586, "post_id": 31557818, "comment_id": 51092266, "body": "@Rafal I added an explanation for that"}, {"owner": {"reputation": 796, "user_id": 1226389, "user_type": "registered", "accept_rate": 75, "profile_image": "https://www.gravatar.com/avatar/65ee87ab50e1ecd786a47841bffb3681?s=128&d=identicon&r=PG", "display_name": "Rafal", "link": "https://stackoverflow.com/users/1226389/rafal"}, "edited": false, "score": 0, "creation_date": 1437581650, "post_id": 31557818, "comment_id": 51092315, "body": "Thanks a lot, that explains it."}], "tags": [], "owner": {"reputation": 50468, "user_id": 1331451, "user_type": "registered", "accept_rate": 96, "profile_image": "https://i.stack.imgur.com/4ZPmj.png?s=128&g=1", "display_name": "simbabque", "link": "https://stackoverflow.com/users/1331451/simbabque"}, "is_accepted": true, "score": 4, "last_activity_date": 1437581430, "last_edit_date": 1495541649, "creation_date": 1437553689, "answer_id": 31557818, "question_id": 31557677, "link": "https://stackoverflow.com/questions/31557677/how-to-pass-a-regular-expression-as-a-parameter-to-a-perl-one-liner-in-a-bash-sc/31557818#31557818", "title": "How to pass a regular expression as a parameter to a perl one-liner in a bash script?", "body": "<p>You need to use double-quotes <code>\"</code> because <strong>the shell does not interpolate variables in single-quotes</strong> <code>'</code>. This is also nicely explained in <a href=\"https://stackoverflow.com/a/13802438/1331451\">this answer</a>.</p>\n\n<pre><code>function reg {\n    perl -ne \"s/($1)/**\\$1**/g&amp;&amp;print\" input.pl &gt; regfunctionoutput.txt\n}\n</code></pre>\n\n<p>Furthermore, in Perl the regex capture groups end up in <code>$1</code>, <code>$2</code> and so on. Not in <code>\\1</code>. If you turn on warnings (with <code>-w</code> in your one-liner) you will get a <em>\\1 better written as $1</em> warning. It is explained in <a href=\"http://perldoc.perl.org/perldiag.html\" rel=\"nofollow noreferrer\">perldiag</a>.</p>\n\n<blockquote>\n  <h3>\\%d better written as $%d</h3>\n  \n  <p>(W syntax) Outside of patterns,\n  backreferences live on as variables. The use of backslashes is\n  grandfathered on the right-hand side of a substitution, but\n  stylistically it's better to use the variable form because other Perl\n  programmers will expect it, and it works better if there are more than\n  9 backreferences.</p>\n</blockquote>\n\n<p>The <em>(W syntax)</em> means that you can turn this warning off with <code>no warnings 'syntax';</code></p>\n"}, {"comments": [{"owner": {"reputation": 796, "user_id": 1226389, "user_type": "registered", "accept_rate": 75, "profile_image": "https://www.gravatar.com/avatar/65ee87ab50e1ecd786a47841bffb3681?s=128&d=identicon&r=PG", "display_name": "Rafal", "link": "https://stackoverflow.com/users/1226389/rafal"}, "edited": false, "score": 1, "creation_date": 1437581726, "post_id": 31563152, "comment_id": 51092363, "body": "Do your answer have any advantage over using double quotes instead single ones (which also solves the issue)?"}, {"owner": {"reputation": 48798, "user_id": 223226, "user_type": "registered", "accept_rate": 93, "profile_image": "https://i.stack.imgur.com/iGqE4.png?s=128&g=1", "display_name": "mpapec", "link": "https://stackoverflow.com/users/223226/mpapec"}, "reply_to_user": {"reputation": 796, "user_id": 1226389, "user_type": "registered", "accept_rate": 75, "profile_image": "https://www.gravatar.com/avatar/65ee87ab50e1ecd786a47841bffb3681?s=128&d=identicon&r=PG", "display_name": "Rafal", "link": "https://stackoverflow.com/users/1226389/rafal"}, "edited": false, "score": 1, "creation_date": 1437589170, "post_id": 31563152, "comment_id": 51096819, "body": "@Rafal Yes, double quotes suck as they also interpolate variables which you don&#39;t want to."}], "tags": [], "owner": {"reputation": 48798, "user_id": 223226, "user_type": "registered", "accept_rate": 93, "profile_image": "https://i.stack.imgur.com/iGqE4.png?s=128&g=1", "display_name": "mpapec", "link": "https://stackoverflow.com/users/223226/mpapec"}, "is_accepted": false, "score": 1, "last_activity_date": 1437568049, "creation_date": 1437568049, "answer_id": 31563152, "question_id": 31557677, "link": "https://stackoverflow.com/questions/31557677/how-to-pass-a-regular-expression-as-a-parameter-to-a-perl-one-liner-in-a-bash-sc/31563152#31563152", "title": "How to pass a regular expression as a parameter to a perl one-liner in a bash script?", "body": "<p>You can pass <code>$1</code> regex as command line parameter, and compile it with <code>qr//</code> as single quotes for perl script don't interpolate under shell,</p>\n\n<pre><code>perl -ne'\n  BEGIN{ ($re) = map qr/$_/, shift @ARGV }\n  s/($re)/**\\1**/ &amp;&amp; print\n' \"$1\" input.txt &gt; regfunctionoutput.txt\n</code></pre>\n\n<p>using <code>%ENV</code> environment variable</p>\n\n<pre><code>perl -ne'\n  BEGIN{ ($re) = map qr/$_/, $ENV{1} }\n  s/($re)/**\\1**/ &amp;&amp; print\n' input.txt &gt; regfunctionoutput.txt\n</code></pre>\n\n<p>and as a side note, if you enable warnings with <code>-w</code> it will tell you that <code>\\1 better written as $1</code> for the substitution part of <code>s///</code></p>\n"}], "owner": {"reputation": 796, "user_id": 1226389, "user_type": "registered", "accept_rate": 75, "profile_image": "https://www.gravatar.com/avatar/65ee87ab50e1ecd786a47841bffb3681?s=128&d=identicon&r=PG", "display_name": "Rafal", "link": "https://stackoverflow.com/users/1226389/rafal"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 1041, "favorite_count": 0, "accepted_answer_id": 31557818, "answer_count": 2, "score": 4, "last_activity_date": 1437581430, "creation_date": 1437553317, "last_edit_date": 1437569710, "question_id": 31557677, "link": "https://stackoverflow.com/questions/31557677/how-to-pass-a-regular-expression-as-a-parameter-to-a-perl-one-liner-in-a-bash-sc", "title": "How to pass a regular expression as a parameter to a perl one-liner in a bash script?", "body": "<p>I have this <code>input.txt</code> file:</p>\n\n<pre class=\"lang-none prettyprint-override\"><code>Dog walks in the park\nMan runs in the park\nMan walks in the park\nDog runs in the park\nDog stays still\nThey run in the park\nWoman runs in the park\n</code></pre>\n\n<p>I want to search for matches of the <code>runs?</code> regular expression and output them to a file, while highlighting matches with two asterisks on both sides of the match. So my desired output is this:</p>\n\n<pre class=\"lang-none prettyprint-override\"><code>Man **runs** in the park\nDog **runs** in the park\nThey **run** in the park\nWoman **runs** in the park\n</code></pre>\n\n<p>What I want to do is to write a function that would be a wrapper for this perl one-liner (and it would do few other things) and then invoke it with a regular expression as its parameter. I wrote following script:</p>\n\n<pre class=\"lang-bash prettyprint-override\"><code>#!/bin/bash\n\nfunction reg {\n    perl -ne 's/($1)/**\\1**/&amp;&amp;print' input.txt &gt; regfunctionoutput.txt\n}\n\nfunction rega {\n    regex=\"$1\"\n    perl -ne 's/($regex)/**\\1**/&amp;&amp;print' input.txt &gt; regafunctionoutput.txt\n}\n\nperl -ne 's/(runs?)/**\\1**/&amp;&amp;print' input.txt &gt; regularoutput.txt\nreg 'runs?'\nrega 'runs?'\n</code></pre>\n\n<p>Output of first perl one-liner is what I want. But when I try to wrap it in a <code>reg</code> function and pass the expression as a parameter, instead of desired output I get:</p>\n\n<pre class=\"lang-none prettyprint-override\"><code>****Dog walks in the park\n****Man runs in the park\n****Man walks in the park\n****Dog runs in the park\n****Dog stays still\n****They run in the park\n****Woman runs in the park\n</code></pre>\n\n<p>I thought the issue was some conflict between <code>$1</code> as a function parameter and the first capturing group in the perl one-liner. So I created a second function <code>rega</code> which first assigns that expression to a different variable and only then passes it to perl. But the output is the same as previous function.</p>\n\n<p>So, how can I pass a regular expression to a perl one-liner inside the function? What I am doing wrong?</p>\n"}, {"tags": ["perl", "module", "blob"], "answers": [{"tags": [], "owner": {"reputation": 50468, "user_id": 1331451, "user_type": "registered", "accept_rate": 96, "profile_image": "https://i.stack.imgur.com/4ZPmj.png?s=128&g=1", "display_name": "simbabque", "link": "https://stackoverflow.com/users/1331451/simbabque"}, "is_accepted": true, "score": 5, "last_activity_date": 1437553028, "creation_date": 1437553028, "answer_id": 31557579, "question_id": 31557464, "link": "https://stackoverflow.com/questions/31557464/write-blob-string-into-a-file-via-perl/31557579#31557579", "title": "Write blob string into a file via Perl", "body": "<p>Just open a filehandle, set it to <a href=\"http://perldoc.perl.org/functions/binmode.html\" rel=\"noreferrer\">binary mode</a> and write out your data.</p>\n\n<pre><code>open my $fh, '&gt;', 'foo.jpg' or die $!;\nbinmode $fh;\nprint $fh $blob;\nclose $fh;\n</code></pre>\n\n<p>Also take a look at <a href=\"http://perldoc.perl.org/perlopentut.html\" rel=\"noreferrer\">perlopentut</a>.</p>\n"}], "owner": {"reputation": 3782, "user_id": 972828, "user_type": "registered", "accept_rate": 64, "profile_image": "https://i.stack.imgur.com/8OSD1.jpg?s=128&g=1", "display_name": "netdjw", "link": "https://stackoverflow.com/users/972828/netdjw"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 917, "favorite_count": 0, "accepted_answer_id": 31557579, "answer_count": 1, "score": 0, "last_activity_date": 1437553110, "creation_date": 1437552689, "last_edit_date": 1437553110, "question_id": 31557464, "link": "https://stackoverflow.com/questions/31557464/write-blob-string-into-a-file-via-perl", "title": "Write blob string into a file via Perl", "body": "<p>I have a blob srting (a jpg image) in perl. How can I write it into a jpg file to disk on the server using perl?</p>\n\n<p>I found <a href=\"https://metacpan.org/pod/File::BLOB\" rel=\"nofollow\">File::BLOB</a> module on CPAN, but it is not clear it can convert file to blob only, or it can convert blob to file too.</p>\n\n<p>The File::BLOB capability to blob to file conversion or is there any other working module or process to do this?</p>\n"}, {"tags": ["arrays", "perl"], "answers": [{"comments": [{"owner": {"reputation": 25491, "user_id": 49197, "user_type": "registered", "accept_rate": 75, "profile_image": "https://www.gravatar.com/avatar/15ebf24a33a29b9efbf9924f530dd736?s=128&d=identicon&r=PG", "display_name": "Hynek -Pichi- Vychodil", "link": "https://stackoverflow.com/users/49197/hynek-pichi-vychodil"}, "reply_to_user": {"reputation": 123805, "user_id": 622310, "user_type": "registered", "accept_rate": 33, "profile_image": "https://www.gravatar.com/avatar/8b6d35219e1808520bc238b28161e2e6?s=128&d=identicon&r=PG", "display_name": "Borodin", "link": "https://stackoverflow.com/users/622310/borodin"}, "edited": false, "score": 0, "creation_date": 1437574241, "post_id": 31557975, "comment_id": 51086635, "body": "@Borodin: <code>perl -E&#39;my $re = &quot;aa|bb&quot;; $re = qr&#47;$re&#47;; say &quot;No it does not, Borodin.&quot; unless &quot;abb&quot; =~ &#47;^$re&#47;&#39;</code>"}], "tags": [], "owner": {"reputation": 25491, "user_id": 49197, "user_type": "registered", "accept_rate": 75, "profile_image": "https://www.gravatar.com/avatar/15ebf24a33a29b9efbf9924f530dd736?s=128&d=identicon&r=PG", "display_name": "Hynek -Pichi- Vychodil", "link": "https://stackoverflow.com/users/49197/hynek-pichi-vychodil"}, "is_accepted": false, "score": 4, "last_activity_date": 1437575772, "last_edit_date": 1495539840, "creation_date": 1437554095, "answer_id": 31557975, "question_id": 31557392, "link": "https://stackoverflow.com/questions/31557392/how-to-process-large-text-files-more-efficiently-with-perl/31557975#31557975", "title": "How to process large text files more efficiently with Perl", "body": "<p>The key is to transform your O(N*M) code into O(N+M):</p>\n\n<pre><code>use strict;\nuse warnings;\nuse v5.10;  # For autodie\nuse autodie;\n\ndie &lt;&lt;ERROR unless @ARGV &gt; 1;\nIdentifiers file missing.\nUsage: $0 identifiers_file [ inventory_file ]\nERROR\n\nmy $keywords_re = do {\n    my $keywords_file = shift;\n    open my $fh, '&lt;', $keywords_file;\n    my @keywords = &lt;$fh&gt;;\n    chomp @keywords;\n    my $re = join '|', map quotemeta, @keywords;\n    qr/$re/;\n};\n\nwhile (&lt;&gt;) { print if /^$keywords_re\\s/ }\n</code></pre>\n\n<p>An alternative if you are sure your keywords can't contain whitespace inspired by <a href=\"https://stackoverflow.com/users/100754/sinan-%c3%9cn%c3%bcr\">Sinan \u00dcn\u00fcr</a>'s <a href=\"https://stackoverflow.com/a/31562034/49197\">solution</a>.</p>\n\n<pre><code>my %keywords;\n{\n    my $keywords_file = shift;\n    open my $fh, '&lt;', $keywords_file;\n    @keywords{ map s/\\s//gr, &lt;$fh&gt; } = (); #/ make syntax highlight happy\n};\n\nwhile (&lt;&gt;) { print if /^(\\S+)/ and exists $keywords{$1} }\n</code></pre>\n"}, {"tags": [], "owner": {"reputation": 2799, "user_id": 1485311, "user_type": "registered", "accept_rate": 100, "profile_image": "https://i.stack.imgur.com/sNWZV.jpg?s=128&g=1", "display_name": "ChatterOne", "link": "https://stackoverflow.com/users/1485311/chatterone"}, "is_accepted": false, "score": 1, "last_activity_date": 1437556450, "creation_date": 1437556450, "answer_id": 31558841, "question_id": 31557392, "link": "https://stackoverflow.com/questions/31557392/how-to-process-large-text-files-more-efficiently-with-perl/31558841#31558841", "title": "How to process large text files more efficiently with Perl", "body": "<p>You're asking for an optimization and this hugely depends on the context.</p>\n\n<p>If you file is sorted (with \"sorted\" actually meaning \"sorted according to your own criteria\"), you could decide to waste some disk space and create a new file that contains the same lines padded to have all the same length.</p>\n\n<p>Then you use a binary search on that file to get the line number of at least one of the occurrences of the identifier you're looking for (that's why you need the same line length, the <em>seek</em> on the file will not work correctly otherwise).</p>\n\n<p>If the identifiers are unique inside the file, you're done.\nIf they're not, you just move up one line until the identifier changes and down one line until the identifier changes and you have the interval.</p>\n\n<p>Again: this only works if the file is sorted and the lines have all the same length, but if that's the case, then you're going to see a huge speed improvement. I know because I've done this myself to search inside a 200Mb+ text file :)</p>\n"}, {"comments": [{"owner": {"reputation": 123805, "user_id": 622310, "user_type": "registered", "accept_rate": 33, "profile_image": "https://www.gravatar.com/avatar/8b6d35219e1808520bc238b28161e2e6?s=128&d=identicon&r=PG", "display_name": "Borodin", "link": "https://stackoverflow.com/users/622310/borodin"}, "edited": false, "score": 0, "creation_date": 1437570920, "post_id": 31562034, "comment_id": 51083979, "body": "The <code>^</code> anchor is pointless unless you handle the case where the regex doesn&#39;t match"}, {"owner": {"reputation": 113221, "user_id": 100754, "user_type": "registered", "accept_rate": 90, "profile_image": "https://www.gravatar.com/avatar/7804ebae32fbadef38537d74a915c22f?s=128&d=identicon&r=PG", "display_name": "Sinan &#220;n&#252;r", "link": "https://stackoverflow.com/users/100754/sinan-%c3%9cn%c3%bcr"}, "reply_to_user": {"reputation": 123805, "user_id": 622310, "user_type": "registered", "accept_rate": 33, "profile_image": "https://www.gravatar.com/avatar/8b6d35219e1808520bc238b28161e2e6?s=128&d=identicon&r=PG", "display_name": "Borodin", "link": "https://stackoverflow.com/users/622310/borodin"}, "edited": false, "score": 2, "creation_date": 1437574052, "post_id": 31562034, "comment_id": 51086463, "body": "@Borodin I write what I mean. If the identifier is expected to be at the beginning of the line, I write that. The point of the answer is to get rid of the repeated reading of the file ... The OP can handle the rest depending on the whether leading whitespace is allowed on data lines."}], "tags": [], "owner": {"reputation": 113221, "user_id": 100754, "user_type": "registered", "accept_rate": 90, "profile_image": "https://www.gravatar.com/avatar/7804ebae32fbadef38537d74a915c22f?s=128&d=identicon&r=PG", "display_name": "Sinan &#220;n&#252;r", "link": "https://stackoverflow.com/users/100754/sinan-%c3%9cn%c3%bcr"}, "is_accepted": false, "score": 3, "last_activity_date": 1437606961, "last_edit_date": 1437606961, "creation_date": 1437565141, "answer_id": 31562034, "question_id": 31557392, "link": "https://stackoverflow.com/questions/31557392/how-to-process-large-text-files-more-efficiently-with-perl/31562034#31562034", "title": "How to process large text files more efficiently with Perl", "body": "<p>For most common line lengths, 1.5 million lines of data is not a huge amount. If each line is 1K, you have 1.5GB of data which fit neatly in memory even on my decade old laptop.</p>\n\n<p>Your problem is due to the fact that you process the file over-and-over again for each identifier.</p>\n\n<p>So, if you have 10,000 identifiers, and it takes one second to process the file, your process will still take 3 hours. If it takes one minute to process the file, your method will take 7 days.</p>\n\n<p>Put your 10,000 identifiers in a hash as keys. Then, as you iterate through the file, capture the initial sequence of non-space characters on each line, check if it is a key in the hash; print if it is.</p>\n\n<p>Untested:</p>\n\n<pre><code> my %keywords = map { $_ =&gt; undef } @keywords;\n while (my $line = &lt;$in&gt;) {\n     my ($id) = ($line =~ /^(\\S+)/);\n     if (exists $keywords{$id}) {\n          print $line;\n     }\n }\n</code></pre>\n"}], "owner": {"reputation": 889, "user_id": 1149781, "user_type": "registered", "accept_rate": 77, "profile_image": "https://www.gravatar.com/avatar/33c9ae143a8de23e06b97d6e70b5bbe9?s=128&d=identicon&r=PG", "display_name": "Shaw", "link": "https://stackoverflow.com/users/1149781/shaw"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 761, "favorite_count": 0, "closed_date": 1437570491, "answer_count": 3, "score": 2, "last_activity_date": 1437606961, "creation_date": 1437552513, "last_edit_date": 1437570386, "question_id": 31557392, "link": "https://stackoverflow.com/questions/31557392/how-to-process-large-text-files-more-efficiently-with-perl", "closed_reason": "Duplicate", "title": "How to process large text files more efficiently with Perl", "body": "<p>Problem: </p>\n\n<p>I need to search a huge text file (containing around 1.5 million lines of data) extracting those lines which match a unique ID. I have stored my unique IDs in an array and iterate through the entire file once per array element. </p>\n\n<p>While this method is ok for small arrays, if the array is pretty big it slows down my program considerably as there are so many operations to do. </p>\n\n<p>My array could contain up to 10,000 unique identifiers in the form of: </p>\n\n<pre class=\"lang-none prettyprint-override\"><code>DC888U1\nDC888U2\nDC888U3 \n... \n...\n</code></pre>\n\n<p>and lines in my datafile will always begin with a unique identifier. </p>\n\n<pre class=\"lang-none prettyprint-override\"><code>DC888U1 Apples 0.99 75\nDC888U2 Oranges 0.75 1002\nDC888U3 Bread 1.35 100\n... ... ... ...\n... ... ... ...\n</code></pre>\n\n<p>My code below: </p>\n\n<pre><code>#array containing identifiers\nopen (IDENTIFIERS \"&lt; keywords.txt\") or die \"Cannot open file: $!\";\n    chomp(my @keywords = &lt;IDENTIFIERS&gt;);\nclose (IDENTIFIERS);\n\n#iterate through the array element by element\nforeach my $element (@keywords) {\n    open (FH \"&lt; inventory.txt\") or die \"cannot open file: $!\";\n    while (&lt;FH&gt;) {\n        if ($_ =~ /^\\Q$element\\E/) {\n            print $_;\n        }\n    }\nclose (FH);\n}\n</code></pre>\n\n<p>I've looked at Tie::File to see if that can speed up my processing but have had no luck. I'm wondering is there a way I can cache the lines already printed so that when I pass through the file the next time the amount of data to search through is less each time. </p>\n\n<p>Is there? </p>\n"}, {"tags": ["perl", "posix", "strftime"], "comments": [{"owner": {"reputation": 129, "user_id": 2452689, "user_type": "registered", "accept_rate": 57, "profile_image": "https://www.gravatar.com/avatar/f3e025aca39b97ad6a15593255b2bfdf?s=128&d=identicon&r=PG", "display_name": "Bastian", "link": "https://stackoverflow.com/users/2452689/bastian"}, "reply_to_user": {"reputation": 50468, "user_id": 1331451, "user_type": "registered", "accept_rate": 96, "profile_image": "https://i.stack.imgur.com/4ZPmj.png?s=128&g=1", "display_name": "simbabque", "link": "https://stackoverflow.com/users/1331451/simbabque"}, "edited": false, "score": 0, "creation_date": 1437552517, "post_id": 31557031, "comment_id": 51071342, "body": "I have tried this                                                                                        use POSIX qw(strftime); printf( strftime(&quot;%H:%M:%S&quot;,localtime(1500)));     But output is 00:25:00, I need output to be 00:15:00"}, {"owner": {"reputation": 50468, "user_id": 1331451, "user_type": "registered", "accept_rate": 96, "profile_image": "https://i.stack.imgur.com/4ZPmj.png?s=128&g=1", "display_name": "simbabque", "link": "https://stackoverflow.com/users/1331451/simbabque"}, "edited": false, "score": 1, "creation_date": 1437552910, "post_id": 31557031, "comment_id": 51071543, "body": "I have added your code to the question. You can also do that yourself by clicking <a href=\"https://stackoverflow.com/posts/31557031/edit\">edit</a>. The reason that doesn&#39;t work is that <code>localtime</code> takes epoch seconds and converts them to a date and time representation. But you do not have seconds. You just have a badly formatted timestamp."}], "answers": [{"comments": [{"owner": {"reputation": 129, "user_id": 2452689, "user_type": "registered", "accept_rate": 57, "profile_image": "https://www.gravatar.com/avatar/f3e025aca39b97ad6a15593255b2bfdf?s=128&d=identicon&r=PG", "display_name": "Bastian", "link": "https://stackoverflow.com/users/2452689/bastian"}, "edited": false, "score": 0, "creation_date": 1437559097, "post_id": 31557350, "comment_id": 51075691, "body": "Yup thanks this working but next thing is number is 24 hour format that I need to convert to 12 hour format. ie if its 130000 then it should be 01:00:00"}, {"owner": {"reputation": 50468, "user_id": 1331451, "user_type": "registered", "accept_rate": 96, "profile_image": "https://i.stack.imgur.com/4ZPmj.png?s=128&g=1", "display_name": "simbabque", "link": "https://stackoverflow.com/users/1331451/simbabque"}, "reply_to_user": {"reputation": 129, "user_id": 2452689, "user_type": "registered", "accept_rate": 57, "profile_image": "https://www.gravatar.com/avatar/f3e025aca39b97ad6a15593255b2bfdf?s=128&d=identicon&r=PG", "display_name": "Bastian", "link": "https://stackoverflow.com/users/2452689/bastian"}, "edited": false, "score": 2, "creation_date": 1437559378, "post_id": 31557350, "comment_id": 51075903, "body": "Please create a new question for that and try yourselves first"}, {"owner": {"reputation": 129, "user_id": 2452689, "user_type": "registered", "accept_rate": 57, "profile_image": "https://www.gravatar.com/avatar/f3e025aca39b97ad6a15593255b2bfdf?s=128&d=identicon&r=PG", "display_name": "Bastian", "link": "https://stackoverflow.com/users/2452689/bastian"}, "edited": false, "score": 0, "creation_date": 1437568474, "post_id": 31557350, "comment_id": 51082130, "body": "Here can we use sprintf and regular expression together? I mean in printf only I need to do padding and regular expression to insert colons : after every two disgits"}, {"owner": {"reputation": 50468, "user_id": 1331451, "user_type": "registered", "accept_rate": 96, "profile_image": "https://i.stack.imgur.com/4ZPmj.png?s=128&g=1", "display_name": "simbabque", "link": "https://stackoverflow.com/users/1331451/simbabque"}, "reply_to_user": {"reputation": 129, "user_id": 2452689, "user_type": "registered", "accept_rate": 57, "profile_image": "https://www.gravatar.com/avatar/f3e025aca39b97ad6a15593255b2bfdf?s=128&d=identicon&r=PG", "display_name": "Bastian", "link": "https://stackoverflow.com/users/2452689/bastian"}, "edited": false, "score": 0, "creation_date": 1437568739, "post_id": 31557350, "comment_id": 51082348, "body": "Do you mean save a line? You can, if your perl is new enough to have the <code>&#47;r</code> modifier. <code>my $formatted = sprintf(&#39;%06d&#39;, $date) =~ s&#47;...&#47;...&#47;r;</code> You need Perl 5.14 for that. <a href=\"http://perldoc.perl.org/perl5140delta.html#Regular-Expressions\" rel=\"nofollow noreferrer\">perldoc.perl.org/perl5140delta.html#Regular-Expressions</a>"}], "tags": [], "owner": {"reputation": 50468, "user_id": 1331451, "user_type": "registered", "accept_rate": 96, "profile_image": "https://i.stack.imgur.com/4ZPmj.png?s=128&g=1", "display_name": "simbabque", "link": "https://stackoverflow.com/users/1331451/simbabque"}, "is_accepted": false, "score": 4, "last_activity_date": 1437552955, "last_edit_date": 1437552955, "creation_date": 1437552381, "answer_id": 31557350, "question_id": 31557031, "link": "https://stackoverflow.com/questions/31557031/how-can-i-convert-a-time-to-hhmmss-format-in-perl/31557350#31557350", "title": "How can I convert a time to hh:mm:ss format in Perl?", "body": "<p>You first need to get the number to six digits by adding left zero padding. After that, you need to insert colons <code>:</code> after every two digits. The easiest way to do that is using <a href=\"http://perldoc.perl.org/functions/sprintf.html\" rel=\"nofollow\"><code>sprintf</code></a> and a regular expression.</p>\n\n<pre><code>use strict;\nuse warnings;\nuse feature 'say';\n\nmy $date = '11500';\nmy $formatted = sprintf '%06d', $date;\n$formatted =~ s/(\\d\\d)(\\d\\d)(\\d\\d)/$1:$2:$3/;\n\nsay $formatted;\n</code></pre>\n\n<p><strong>Output</strong></p>\n\n<pre><code>01:15:00\n00:15:00 (for 1150)\n</code></pre>\n\n<p>Note it will break for strings with length larger than six.</p>\n"}, {"comments": [{"owner": {"reputation": 50468, "user_id": 1331451, "user_type": "registered", "accept_rate": 96, "profile_image": "https://i.stack.imgur.com/4ZPmj.png?s=128&g=1", "display_name": "simbabque", "link": "https://stackoverflow.com/users/1331451/simbabque"}, "edited": false, "score": 1, "creation_date": 1437552734, "post_id": 31557460, "comment_id": 51071468, "body": "That does not answer the question. OP wants to know how to convert a time string into a readable representation, not display the current time."}, {"owner": {"reputation": 129, "user_id": 2452689, "user_type": "registered", "accept_rate": 57, "profile_image": "https://www.gravatar.com/avatar/f3e025aca39b97ad6a15593255b2bfdf?s=128&d=identicon&r=PG", "display_name": "Bastian", "link": "https://stackoverflow.com/users/2452689/bastian"}, "edited": false, "score": 0, "creation_date": 1437553060, "post_id": 31557460, "comment_id": 51071633, "body": "Thanks for the reply , but this is also not working when I put value as localtime(1500) still am getting output as 00:25:00, expected output is 00:15:00"}, {"owner": {"reputation": 248, "user_id": 2575098, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/d6778cb8d3b320b0fa8eaddd95c0389d?s=128&d=identicon&r=PG&f=1", "display_name": "Lasantha", "link": "https://stackoverflow.com/users/2575098/lasantha"}, "edited": false, "score": 0, "creation_date": 1437553204, "post_id": 31557460, "comment_id": 51071725, "body": "<a href=\"http://perlmaven.com/simple-timestamp-generation-using-posix-strftime\" rel=\"nofollow noreferrer\">perlmaven.com/simple-timestamp-generation-using-posix-strfti&zwnj;&#8203;me</a> use this tutorial. u can get an idea,"}, {"owner": {"reputation": 62184, "user_id": 7231, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/81b76985f3985e35492e25880493d045?s=128&d=identicon&r=PG", "display_name": "Dave Cross", "link": "https://stackoverflow.com/users/7231/dave-cross"}, "edited": false, "score": 0, "creation_date": 1437555165, "post_id": 31557460, "comment_id": 51072909, "body": "He&#39;s not generating a timestamp. He&#39;s converting the timestamp from one format to another."}], "tags": [], "owner": {"reputation": 248, "user_id": 2575098, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/d6778cb8d3b320b0fa8eaddd95c0389d?s=128&d=identicon&r=PG&f=1", "display_name": "Lasantha", "link": "https://stackoverflow.com/users/2575098/lasantha"}, "is_accepted": false, "score": -2, "last_activity_date": 1437555115, "last_edit_date": 1437555115, "creation_date": 1437552679, "answer_id": 31557460, "question_id": 31557031, "link": "https://stackoverflow.com/questions/31557031/how-can-i-convert-a-time-to-hhmmss-format-in-perl/31557460#31557460", "title": "How can I convert a time to hh:mm:ss format in Perl?", "body": "<p>I found this code, please try</p>\n\n<pre><code>#!/usr/local/bin/perl\n\n($sec,$min,$hour,$mday,$mon,$year,$wday,$yday,$isdst) = localtime();\n\nprintf(\"Time Format - HH:MM:SS\\n\");\nprintf(\"%02d:%02d:%02d\", $hour, $min, $sec);\n</code></pre>\n\n<p>Our Put : \nTime Format - HH:MM:SS\n06:58:52</p>\n"}, {"comments": [{"owner": {"reputation": 50468, "user_id": 1331451, "user_type": "registered", "accept_rate": 96, "profile_image": "https://i.stack.imgur.com/4ZPmj.png?s=128&g=1", "display_name": "simbabque", "link": "https://stackoverflow.com/users/1331451/simbabque"}, "edited": false, "score": 4, "creation_date": 1437563516, "post_id": 31560970, "comment_id": 51078677, "body": "Since I&#39;m seeing this in the Low Quality Posts Review section I&#39;ll leave a note here: Please add some explanation. :)"}, {"owner": {"reputation": 22505, "user_id": 1411457, "user_type": "registered", "accept_rate": 50, "profile_image": "https://i.stack.imgur.com/XqssD.png?s=128&g=1", "display_name": "harmic", "link": "https://stackoverflow.com/users/1411457/harmic"}, "edited": false, "score": 5, "creation_date": 1437563719, "post_id": 31560970, "comment_id": 51078809, "body": "Of course this will work but will OP ever be able to understand it? Teach a man to fish and all that"}, {"owner": {"reputation": 123805, "user_id": 622310, "user_type": "registered", "accept_rate": 33, "profile_image": "https://www.gravatar.com/avatar/8b6d35219e1808520bc238b28161e2e6?s=128&d=identicon&r=PG", "display_name": "Borodin", "link": "https://stackoverflow.com/users/622310/borodin"}, "edited": false, "score": 0, "creation_date": 1437655502, "post_id": 31560970, "comment_id": 51127314, "body": "I&#39;ve added a new solution to allow for conversion from 24-hour to 12-hour times"}], "tags": [], "owner": {"reputation": 123805, "user_id": 622310, "user_type": "registered", "accept_rate": 33, "profile_image": "https://www.gravatar.com/avatar/8b6d35219e1808520bc238b28161e2e6?s=128&d=identicon&r=PG", "display_name": "Borodin", "link": "https://stackoverflow.com/users/622310/borodin"}, "is_accepted": true, "score": 2, "last_activity_date": 1437655657, "last_edit_date": 1437655657, "creation_date": 1437562138, "answer_id": 31560970, "question_id": 31557031, "link": "https://stackoverflow.com/questions/31557031/how-can-i-convert-a-time-to-hhmmss-format-in-perl/31560970#31560970", "title": "How can I convert a time to hh:mm:ss format in Perl?", "body": "<h3>Update</h3>\n\n<p>To also convert from 24-hour to 12-hour time, it is probably best to use the <code>Time::Piece</code> module to convert from <code>%H%M%S</code> to <code>%I:%M:%S%p</code>. <code>sprintf</code> is still necessary as an initial step to pad the string with zeroes to six digits</p>\n\n<p>This example program formats and prints time values each hour from 5900 to 235900</p>\n\n<pre><code>use strict;\nuse warnings;\nuse 5.010;\n\nuse Time::Piece;\n\nsay format_time(1500);\nsay format_time(11500);\nsay '';\n\nfor my $time (0 .. 23) {\n    $time = $time * 10000 + 5900;\n    say format_time($time);\n}\n\nsub format_time {\n    my ($time) = @_;\n    $time = Time::Piece-&gt;strptime(sprintf('%06d', $time), '%H%M%S');\n    lc $time-&gt;strftime('%I:%M:%S%p');\n}\n</code></pre>\n\n<h3>output</h3>\n\n<pre><code>12:15:00am\n01:15:00am\n\n12:59:00am\n01:59:00am\n02:59:00am\n03:59:00am\n04:59:00am\n05:59:00am\n06:59:00am\n07:59:00am\n08:59:00am\n09:59:00am\n10:59:00am\n11:59:00am\n12:59:00pm\n01:59:00pm\n02:59:00pm\n03:59:00pm\n04:59:00pm\n05:59:00pm\n06:59:00pm\n07:59:00pm\n08:59:00pm\n09:59:00pm\n10:59:00pm\n11:59:00pm\n</code></pre>\n\n<hr>\n\n<h3>Original solution</h3>\n\n<p>In this solution, <code>sprintf('%06d', $time)</code> is used to pad the string to six digits using zeroes, and <code>/../g</code> splits the result into (three) chunks of two characters. The <code>join ':'</code> reassembles those chunks with colons in between to achieve the desired pattern</p>\n\n<pre><code>my $time = 1500;\n\nmy $converted = join ':', sprintf('%06d', $time) =~ /../g;\n\nprint $converted, \"\\n\";\n</code></pre>\n\n<h3>output</h3>\n\n<pre><code>00:15:00\n</code></pre>\n"}], "owner": {"reputation": 129, "user_id": 2452689, "user_type": "registered", "accept_rate": 57, "profile_image": "https://www.gravatar.com/avatar/f3e025aca39b97ad6a15593255b2bfdf?s=128&d=identicon&r=PG", "display_name": "Bastian", "link": "https://stackoverflow.com/users/2452689/bastian"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 1509, "favorite_count": 0, "accepted_answer_id": 31560970, "answer_count": 3, "score": 1, "last_activity_date": 1437655657, "creation_date": 1437551479, "last_edit_date": 1437569986, "question_id": 31557031, "link": "https://stackoverflow.com/questions/31557031/how-can-i-convert-a-time-to-hhmmss-format-in-perl", "title": "How can I convert a time to hh:mm:ss format in Perl?", "body": "<p>We need to convert the time column which is in number format to standard time format ie hh:mm:ss in perl.</p>\n\n<p>Example:</p>\n\n<ol>\n<li>If the time value is <code>1500</code>, the converted value should be <code>00:15:00</code>.</li>\n<li>If the time value is <code>11500</code>, the converted value should be <code>01:15:00</code>.</li>\n</ol>\n\n<p>I have tried this:</p>\n\n<pre><code>use POSIX qw(strftime); \nprintf( strftime(\"%H:%M:%S\",localtime(1500))); \n</code></pre>\n\n<p>But the output is <code>00:25:00</code> and I need the output to be <code>00:15:00</code>.</p>\n\n<p>How can I solve this?</p>\n"}, {"tags": ["perl", "perl-module"], "answers": [{"comments": [{"owner": {"reputation": 19, "user_id": 4061894, "user_type": "registered", "profile_image": "https://lh4.googleusercontent.com/-OO-2GbbrpEY/AAAAAAAAAAI/AAAAAAAAMaE/47bFL626_4c/photo.jpg?sz=128", "display_name": "Atul Jain", "link": "https://stackoverflow.com/users/4061894/atul-jain"}, "edited": false, "score": 0, "creation_date": 1437548554, "post_id": 31555901, "comment_id": 51069083, "body": "Thanks for your quick response Steffen ...  Even I got Net::IMAPServer but as you said this is complex.. I was not able to understand the functionality properly.. Anyway thanks. .And I will check dovecot..."}], "tags": [], "owner": {"reputation": 89568, "user_id": 3081018, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/Z2NYm.png?s=128&g=1", "display_name": "Steffen Ullrich", "link": "https://stackoverflow.com/users/3081018/steffen-ullrich"}, "is_accepted": false, "score": 2, "last_activity_date": 1437548022, "creation_date": 1437548022, "answer_id": 31555901, "question_id": 31555731, "link": "https://stackoverflow.com/questions/31555731/how-do-i-mock-an-imap-server-in-perl/31555901#31555901", "title": "How do I mock an IMAP server in Perl", "body": "<p>I don't know how you searched, but searching for <a href=\"https://www.google.com/q=metacpan+imapserver\" rel=\"nofollow\">metacpan imapserver</a> points you to <a href=\"https://metacpan.org/release/Net-IMAP-Server\" rel=\"nofollow\">Net::IMAPServer</a>.</p>\n\n<p>But, this module is far from simple because IMAP itself is a complex protocol. This means writing a server which is both simple but also has enough of functionality needed in practice might not be possible. And if you need to check the performance of your client you better install a real server like <a href=\"http://www.dovecot.org/\" rel=\"nofollow\">dovecot</a>, because otherwise you might be restricted by the performance offered by your simple test server.</p>\n"}], "owner": {"reputation": 19, "user_id": 4061894, "user_type": "registered", "profile_image": "https://lh4.googleusercontent.com/-OO-2GbbrpEY/AAAAAAAAAAI/AAAAAAAAMaE/47bFL626_4c/photo.jpg?sz=128", "display_name": "Atul Jain", "link": "https://stackoverflow.com/users/4061894/atul-jain"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 147, "favorite_count": 0, "answer_count": 1, "score": 1, "last_activity_date": 1437548022, "creation_date": 1437547467, "question_id": 31555731, "link": "https://stackoverflow.com/questions/31555731/how-do-i-mock-an-imap-server-in-perl", "title": "How do I mock an IMAP server in Perl", "body": "<p>Does anyone know how can we implement dummy IMAP server to check my IMAP client performance...</p>\n\n<p>Can anyone help me in this.. I am not able to find out any IMAP Server module in perl.. ?</p>\n"}, {"tags": ["arrays", "perl", "hash"], "answers": [{"comments": [{"owner": {"reputation": 3327, "user_id": 1604311, "user_type": "registered", "accept_rate": 73, "profile_image": "https://i.stack.imgur.com/0frKT.jpg?s=128&g=1", "display_name": "Arunesh Singh", "link": "https://stackoverflow.com/users/1604311/arunesh-singh"}, "edited": false, "score": 1, "creation_date": 1437545545, "post_id": 31554981, "comment_id": 51067599, "body": "Sorry didn&#39;t stand this line <code>$p = \\( $$p-&gt;{$_} ) for @_;</code>. <code>$$p</code> is hashref, <code>$$p-&gt;$_</code> is value , after that I didn&#39;t get what <code>\\()</code>?"}, {"owner": {"reputation": 320771, "user_id": 589924, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/b2cf53d5a3d25f95c0db4e025aed4153?s=128&d=identicon&r=PG", "display_name": "ikegami", "link": "https://stackoverflow.com/users/589924/ikegami"}, "reply_to_user": {"reputation": 3327, "user_id": 1604311, "user_type": "registered", "accept_rate": 73, "profile_image": "https://i.stack.imgur.com/0frKT.jpg?s=128&g=1", "display_name": "Arunesh Singh", "link": "https://stackoverflow.com/users/1604311/arunesh-singh"}, "edited": false, "score": 0, "creation_date": 1437545648, "post_id": 31554981, "comment_id": 51067645, "body": "<code>$$p</code> can be a hashref, but not necessarily. Within the loop, it can be undef or a hash ref. At the end of the loop, it can be anything. <code>\\ </code> gets a reference. The parens are just there to override precedence."}, {"owner": {"reputation": 3327, "user_id": 1604311, "user_type": "registered", "accept_rate": 73, "profile_image": "https://i.stack.imgur.com/0frKT.jpg?s=128&g=1", "display_name": "Arunesh Singh", "link": "https://stackoverflow.com/users/1604311/arunesh-singh"}, "edited": false, "score": 0, "creation_date": 1437545743, "post_id": 31554981, "comment_id": 51067694, "body": "and why you are taking reference of reference of hash here  <code>my $p = \\shift;</code>"}, {"owner": {"reputation": 320771, "user_id": 589924, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/b2cf53d5a3d25f95c0db4e025aed4153?s=128&d=identicon&r=PG", "display_name": "ikegami", "link": "https://stackoverflow.com/users/589924/ikegami"}, "reply_to_user": {"reputation": 3327, "user_id": 1604311, "user_type": "registered", "accept_rate": 73, "profile_image": "https://i.stack.imgur.com/0frKT.jpg?s=128&g=1", "display_name": "Arunesh Singh", "link": "https://stackoverflow.com/users/1604311/arunesh-singh"}, "edited": false, "score": 0, "creation_date": 1437545808, "post_id": 31554981, "comment_id": 51067734, "body": "Because that&#39;s what&#39;s needed. Look at the chart in the answer."}], "tags": [], "owner": {"reputation": 320771, "user_id": 589924, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/b2cf53d5a3d25f95c0db4e025aed4153?s=128&d=identicon&r=PG", "display_name": "ikegami", "link": "https://stackoverflow.com/users/589924/ikegami"}, "is_accepted": true, "score": 7, "last_activity_date": 1511367889, "last_edit_date": 1511367889, "creation_date": 1437544758, "answer_id": 31554981, "question_id": 31554916, "link": "https://stackoverflow.com/questions/31554916/create-a-multidimesional-key-of-hash-from-array/31554981#31554981", "title": "Create a multidimesional key of hash from array?", "body": "<p>First, use <code>pop</code> to separate the value to assign from the keys. Then, you can use either of the following:</p>\n\n<pre><code>use Data::Diver qw( DiveVal );\n\nmy %hash;\nDiveVal(\\%hash, map \\$_, @keys) = $val;\n</code></pre>\n\n<p>or</p>\n\n<pre><code>sub dive_val :lvalue {\n   my $p = \\shift;\n   $p = \\( $$p-&gt;{$_} ) for @_;\n   $$p\n}\n\nmy %hash;\ndive_val(\\%hash, @keys) = $val;\n</code></pre>\n\n<p><code>dive_val</code> works by having <code>$p</code> reference the next value to dereference and/or modify.</p>\n\n<pre><code>Pre-loop:            $p references $hash (the anon scalar referencing %hash)\nAfter loop pass 0:   $p references $hash-&gt;{1}\nAfter loop pass 1:   $p references $hash-&gt;{1}{2}\nAfter loop pass 2:   $p references $hash-&gt;{1}{2}{3}\nAfter loop pass 3:   $p references $hash-&gt;{1}{2}{3}{4}\n</code></pre>\n\n<p>The extra level of indirection has many benefits.</p>\n\n<ul>\n<li>It removes the need to treat the last key specially.</li>\n<li>It removes the need to create the hash before it's dereferenced. </li>\n<li>It removes the need for the root to be a reference to a hash. Instead, any scalar can be the root, even an undefined one.</li>\n<li>It makes it easy to extend <code>dive_val</code> to support mixed array/hash structures.</li>\n</ul>\n"}], "owner": {"reputation": 3327, "user_id": 1604311, "user_type": "registered", "accept_rate": 73, "profile_image": "https://i.stack.imgur.com/0frKT.jpg?s=128&g=1", "display_name": "Arunesh Singh", "link": "https://stackoverflow.com/users/1604311/arunesh-singh"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 112, "favorite_count": 0, "accepted_answer_id": 31554981, "answer_count": 1, "score": 2, "last_activity_date": 1511367889, "creation_date": 1437544502, "last_edit_date": 1437544835, "question_id": 31554916, "link": "https://stackoverflow.com/questions/31554916/create-a-multidimesional-key-of-hash-from-array", "title": "Create a multidimesional key of hash from array?", "body": "<p>I want to create a multidimensional <code>%hash</code> from the <code>@array</code>.</p>\n\n<p>Suppose <code>@array</code> is like </p>\n\n<pre><code>my @array=(1,2,3,4,5);\n</code></pre>\n\n<p>I want to assign <code>@array</code> last value as final value to multidimensional <code>%hash</code> i.e </p>\n\n<pre><code>%hash=(\n        1=&gt;{ \n              2=&gt;\n                 {\n                  3=&gt;\n                      {\n                        4=&gt;5\n                       }\n                  }\n              }\n           )\n</code></pre>\n\n<p>Which means <code>$hash{1}{2}{3}{4}=5;</code></p>\n\n<p>I want to do it in something like:</p>\n\n<pre><code>for my $i (0..$#array){\n    #push $i as key until second last element and assign last element as value\n} \n</code></pre>\n\n<p>Note : The <code>@array</code> may be of any size, Just I want to assign last element of <code>@array</code> as value to the keys of elements before the last element in <code>%hash</code>.</p>\n"}, {"tags": ["perl", "compression", "gzip"], "answers": [{"tags": [], "owner": {"reputation": 4514, "user_id": 4248931, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/HijcJ.png?s=128&g=1", "display_name": "serenesat", "link": "https://stackoverflow.com/users/4248931/serenesat"}, "is_accepted": false, "score": 2, "last_activity_date": 1437540419, "last_edit_date": 1437540419, "creation_date": 1437540104, "answer_id": 31553996, "question_id": 31553933, "link": "https://stackoverflow.com/questions/31553933/perl-parsing-compressed-files/31553996#31553996", "title": "Perl: parsing compressed files", "body": "<p><a href=\"http://perldoc.perl.org/IO/Uncompress/Unzip.html\" rel=\"nofollow\">IO::Uncompress::Unzip</a> module can help you.</p>\n\n<pre><code>use IO::Uncompress::Unzip qw(unzip $UnzipError) ;\nunzip $input_filename_or_reference =&gt; $output_filename_or_reference [,OPTS] \n    or die \"unzip failed: $UnzipError\\n\";\n</code></pre>\n\n<p>The functional interface needs Perl5.005 or better.</p>\n\n<p>Or You can use CPAN module <a href=\"http://search.cpan.org/~nwclark/PerlIO-gzip-0.19/gzip.pm\" rel=\"nofollow\">PerlIO::gzip</a>:</p>\n\n<pre><code>use PerlIO::gzip;\nopen FOO, \"&lt;:gzip\", \"file.gz\" or die $!;\nprint while &lt;FOO&gt;; # And it will be uncompressed...\n\nbinmode FOO, \":gzip(none)\" # Starts reading deflate stream from here on\n</code></pre>\n\n<p><code>PerlIO::gzip</code> provides a PerlIO layer that manipulates files in the format used by the <code>gzip</code> program. Compression and Decompression are implemented, but not together. If you attempt to open a file for reading and writing the open will fail.</p>\n"}], "owner": {"reputation": 325, "user_id": 4803909, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/ca3d57d08f19bbbd6ba80df4ba2f7ea8?s=128&d=identicon&r=PG&f=1", "display_name": "paperazzo79", "link": "https://stackoverflow.com/users/4803909/paperazzo79"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 175, "favorite_count": 0, "answer_count": 1, "score": 0, "last_activity_date": 1437542837, "creation_date": 1437539706, "last_edit_date": 1437541842, "question_id": 31553933, "link": "https://stackoverflow.com/questions/31553933/perl-parsing-compressed-files", "title": "Perl: parsing compressed files", "body": "<p>I have a script that opens a big text-file and extracts data to create a report.</p>\n\n<p><strong>Question:</strong> </p>\n\n<p>Is there a way to open the file in perl even if the file has been compressed with <code>gzip</code>?</p>\n\n<p><code>Gunzip</code> the file before opening would be to slow.</p>\n\n<p><strong>Example:</strong></p>\n\n<pre><code>open(my $fh, \"&lt;\", \"input.txt.gz\")\n</code></pre>\n"}, {"tags": ["javascript", "ajax", "perl", "unix", "cgi"], "comments": [{"owner": {"reputation": 3327, "user_id": 1604311, "user_type": "registered", "accept_rate": 73, "profile_image": "https://i.stack.imgur.com/0frKT.jpg?s=128&g=1", "display_name": "Arunesh Singh", "link": "https://stackoverflow.com/users/1604311/arunesh-singh"}, "edited": false, "score": 2, "creation_date": 1437540067, "post_id": 31553840, "comment_id": 51065603, "body": "Show your ajax and cgi script?"}, {"owner": {"reputation": 322, "user_id": 300113, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/0a2e2857243a00c807abd5e6b5d9e3a6?s=128&d=identicon&r=PG", "display_name": "Hugh Barnard", "link": "https://stackoverflow.com/users/300113/hugh-barnard"}, "edited": false, "score": 0, "creation_date": 1437579680, "post_id": 31553840, "comment_id": 51090937, "body": "I&#39;d consider re-working this using: <a href=\"https://github.com/DataTables/TableTools\" rel=\"nofollow noreferrer\">github.com/DataTables/TableTools</a> but obviously, I don&#39;t know exactly what you&#39;re doing. I used to do workarounds with generated names for the cells fields etc. but this may be easier."}], "answers": [{"tags": [], "owner": {"reputation": 320771, "user_id": 589924, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/b2cf53d5a3d25f95c0db4e025aed4153?s=128&d=identicon&r=PG", "display_name": "ikegami", "link": "https://stackoverflow.com/users/589924/ikegami"}, "is_accepted": false, "score": 0, "last_activity_date": 1437543831, "creation_date": 1437543831, "answer_id": 31554750, "question_id": 31553840, "link": "https://stackoverflow.com/questions/31553840/editing-a-table-with-perl-ajax/31554750#31554750", "title": "Editing a table with perl ajax", "body": "<p>Include the row and col inside the name of the control. Then you can use the following or the JavaScript equivalent:</p>\n\n<pre><code>my ($row, $col) = $param_name =~ /^cell([0-9]+)_([0-9]+)\\z/\n   or die;\n</code></pre>\n"}], "owner": {"reputation": 1, "user_id": 5141782, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/661cc601a021367449fc8108ea027bad?s=128&d=identicon&r=PG&f=1", "display_name": "anand1777", "link": "https://stackoverflow.com/users/5141782/anand1777"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 59, "favorite_count": 0, "answer_count": 1, "score": 0, "last_activity_date": 1437543831, "creation_date": 1437539063, "last_edit_date": 1437543595, "question_id": 31553840, "link": "https://stackoverflow.com/questions/31553840/editing-a-table-with-perl-ajax", "title": "Editing a table with perl ajax", "body": "<p>I am in the middle of a perl script where basically I am reading data from a xls file and showing it in the page as an input text. The idea is that, once a user selects edit option from a menu, it will show the entire table which is fetched from a xls file and show the existing value in a text box.</p>\n\n<p>Now, when a user edits the cells and clicks on save, I am able to send all the ids to a perl function. My problem is that I am not able to map the cells.</p>\n\n<p>Eg: If a user enters a new value A for column1 row 1 and another Value B for column 2 and row 1 and then saves it, then is there a way to tell my perl function that new value A belongs to Column1 row1 and new value B belongs to Column2 row 1. Something similar to sending a 2d array to a perl subroutine from a submit button in ajax. </p>\n"}, {"tags": ["perl", "scp"], "answers": [{"tags": [], "owner": {"reputation": 380, "user_id": 1092055, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/49f5e09bc8b02c521f04ed70126f5f5b?s=128&d=identicon&r=PG", "display_name": "sabertiger", "link": "https://stackoverflow.com/users/1092055/sabertiger"}, "is_accepted": false, "score": 0, "last_activity_date": 1437537094, "creation_date": 1437537094, "answer_id": 31553550, "question_id": 31553170, "link": "https://stackoverflow.com/questions/31553170/terminating-the-password-prompt-during-scp-in-perl-after-certain-amount-of-time/31553550#31553550", "title": "terminating the password prompt during scp in perl after certain amount of time", "body": "<p>You should set BatchMode when calling from an non interactive session to disable the password prompt altogether.</p>\n\n<pre><code>$test = `scp -o BatchMode=yes foo.txt bar@baz:/`;\n</code></pre>\n\n<p>See below</p>\n\n<pre><code> BatchMode\n         If set to ``yes'', passphrase/password querying will be disabled.\n         This option is useful in scripts and other batch jobs where no\n         user is present to supply the password.  The argument must be\n         ``yes'' or ``no''.  The default is ``no''.\n</code></pre>\n"}, {"tags": [], "owner": {"reputation": 2289, "user_id": 3678433, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/C3npm.jpg?s=128&g=1", "display_name": "Yuvraj Gupta", "link": "https://stackoverflow.com/users/3678433/yuvraj-gupta"}, "is_accepted": false, "score": 0, "last_activity_date": 1437581762, "creation_date": 1437581762, "answer_id": 31568629, "question_id": 31553170, "link": "https://stackoverflow.com/questions/31553170/terminating-the-password-prompt-during-scp-in-perl-after-certain-amount-of-time/31568629#31568629", "title": "terminating the password prompt during scp in perl after certain amount of time", "body": "<p>Also you can use the following parameter to disable the host_key checking using:-</p>\n\n<blockquote>\n  <p>$test = scp -o BatchMode=yes -o StrictHostKeyChecking=no foo.txt bar@baz:/;</p>\n</blockquote>\n"}, {"tags": [], "owner": {"reputation": 1629, "user_id": 493892, "user_type": "registered", "accept_rate": 92, "profile_image": "https://www.gravatar.com/avatar/b9ba82cf7f994f43e3be72962921ea4d?s=128&d=identicon&r=PG", "display_name": "made_in_india", "link": "https://stackoverflow.com/users/493892/made-in-india"}, "is_accepted": true, "score": 0, "last_activity_date": 1437597261, "creation_date": 1437597261, "answer_id": 31573469, "question_id": 31553170, "link": "https://stackoverflow.com/questions/31553170/terminating-the-password-prompt-during-scp-in-perl-after-certain-amount-of-time/31573469#31573469", "title": "terminating the password prompt during scp in perl after certain amount of time", "body": "<p>I made the use of <code>IPC::Run</code> <a href=\"http://search.cpan.org/~toddr/IPC-Run-0.94/lib/IPC/Run.pm\" rel=\"nofollow\">module</a> to achieve the above object, to terminate the password prompt after certain time.</p>\n\n<p>So my current code looks like this</p>\n\n<pre><code>my $in  = '';\nmy $out = '';\nmy $err = '';\nmy @cmd = ('scp' , 'foo.txt' , 'bar@baz:/');\n\neval {\n        run \\@cmd, \\$in, \\$out, \\$err,IPC::Run::timeout(5)\n            or die \"SSH Error: $? $err\\n\";\n    };\nif ($@) {\n   print \"TimeOut\";\n}\n</code></pre>\n"}], "owner": {"reputation": 1629, "user_id": 493892, "user_type": "registered", "accept_rate": 92, "profile_image": "https://www.gravatar.com/avatar/b9ba82cf7f994f43e3be72962921ea4d?s=128&d=identicon&r=PG", "display_name": "made_in_india", "link": "https://stackoverflow.com/users/493892/made-in-india"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 215, "favorite_count": 0, "accepted_answer_id": 31573469, "answer_count": 3, "score": 0, "last_activity_date": 1437597261, "creation_date": 1437534457, "question_id": 31553170, "link": "https://stackoverflow.com/questions/31553170/terminating-the-password-prompt-during-scp-in-perl-after-certain-amount-of-time", "title": "terminating the password prompt during scp in perl after certain amount of time", "body": "<p>I am trying exit the password input prompt  during a scp command in the perl script after certain amount time for the server which do not have the ssh public key. In this script, I am using the back-tick for copying of file from one server to another, but the script get stuck on the password prompt and do not exit out even after the assigned timeout.</p>\n\n<pre><code>my $test       = '';\nmy $exit_value = '';\neval {\n          my $timeout = 2;\n          local $SIG{ALRM} = sub { die \"timeout\\n\" };\n          alarm($timeout);\n          $test       = `scp foo.txt bar@baz:/`;\n          $exit_value = $? &gt;&gt; 8;\n          alarm(0);\n     }\n\nif ($@) {\n    print \"Time out\";\n}\n</code></pre>\n\n<p>Is there any way handle the above scenario ?</p>\n"}, {"tags": ["regex", "perl"], "comments": [{"owner": {"reputation": 123805, "user_id": 622310, "user_type": "registered", "accept_rate": 33, "profile_image": "https://www.gravatar.com/avatar/8b6d35219e1808520bc238b28161e2e6?s=128&d=identicon&r=PG", "display_name": "Borodin", "link": "https://stackoverflow.com/users/622310/borodin"}, "edited": false, "score": 1, "creation_date": 1437528731, "post_id": 31552327, "comment_id": 51062934, "body": "<code>(?&lt;=class=&quot;Source&quot;&gt;&lt;strong&gt;IP Address&lt;&#47;strong&gt;:)\\s*([\\d.]+)\\s*(?=&lt;&#47;div&gt;)</code> But you really should use a proper XML parser"}], "answers": [{"tags": [], "owner": {"reputation": 5455, "user_id": 3961170, "user_type": "registered", "accept_rate": 73, "profile_image": "https://i.stack.imgur.com/PtFol.jpg?s=128&g=1", "display_name": "mkHun", "link": "https://stackoverflow.com/users/3961170/mkhun"}, "is_accepted": false, "score": -2, "last_activity_date": 1437533498, "creation_date": 1437533498, "answer_id": 31553046, "question_id": 31552327, "link": "https://stackoverflow.com/questions/31552327/using-lookahead-lookbehind-while-ignoring-whitespace-and-duplicates/31553046#31553046", "title": "Using lookahead &amp; lookbehind while ignoring whitespace and duplicates", "body": "<p>Try this</p>\n\n<pre><code>my %dup;\nwhile(&lt;DATA&gt;)\n{\n    ($ip) = $_ =~/(?&lt;=class=\"Source\"&gt;&lt;strong&gt;IP Address&lt;\\/strong&gt;:)\\s*(.+?)(?=\\&lt;\\/div\\&gt;)/g;\n    $dup{$ip} = $ip;\n}\n\nmy @ip_ad = keys %dup;\nprint @ip_ad;\n\n\n__DATA__\n&lt;div style=\"margin-left: 12em;\" class=\"Source\"&gt;&lt;strong&gt;Label&lt;/strong&gt;:  Superman&lt;/div&gt;\n&lt;div style=\"margin-left: 12em;\" class=\"Source\"&gt;&lt;strong&gt;IP Address&lt;/strong&gt;:  999.24.135.50&lt;/div&gt;\n&lt;div style=\"margin-left: 12em;\" class=\"Source\"&gt;&lt;strong&gt;IP Address&lt;/strong&gt;:  333.24.333.50&lt;/div&gt;\n&lt;div style=\"margin-left: 12em;\" class=\"Source\"&gt;&lt;strong&gt;IP Address&lt;/strong&gt;:  333.24.333.50&lt;/div&gt;\n</code></pre>\n"}, {"comments": [{"owner": {"reputation": 171, "user_id": 2253387, "user_type": "registered", "accept_rate": 60, "profile_image": "https://www.gravatar.com/avatar/31fc0f1b43f88fcd5034618a1c4daf1a?s=128&d=identicon&r=PG&f=1", "display_name": "Voldemort", "link": "https://stackoverflow.com/users/2253387/voldemort"}, "edited": false, "score": 0, "creation_date": 1437544318, "post_id": 31553531, "comment_id": 51067077, "body": "I am trying to accomplish this using just regex.  Do you think it is possible to do?  Borodin&#39;s answer seems to be the best way to capture without spaces, however I am not sure if this can dedup: (?&lt;=class=&quot;Source&quot;&gt;&lt;strong&gt;IP Address&lt;/strong&gt;:)\\s*([\\d.]+)\\s*(?=&lt;/div&gt;)"}], "tags": [], "owner": {"reputation": 65435, "user_id": 2206004, "user_type": "registered", "accept_rate": 100, "profile_image": "https://i.stack.imgur.com/HCB1e.png?s=128&g=1", "display_name": "hwnd", "link": "https://stackoverflow.com/users/2206004/hwnd"}, "is_accepted": false, "score": 1, "last_activity_date": 1437536971, "creation_date": 1437536971, "answer_id": 31553531, "question_id": 31552327, "link": "https://stackoverflow.com/questions/31552327/using-lookahead-lookbehind-while-ignoring-whitespace-and-duplicates/31553531#31553531", "title": "Using lookahead &amp; lookbehind while ignoring whitespace and duplicates", "body": "<p>I'm sure this can be shortened or an easier way, but here is my attempt.</p>\n\n<p>Using <a href=\"https://metacpan.org/pod/Mojo%3A%3ADOM\" rel=\"nofollow\"><code>Mojo::DOM</code></a>:</p>\n\n<pre><code>use strict;\nuse warnings;\n\nuse Mojo::DOM;\nuse List::MoreUtils qw(uniq);\n\nmy $dom = Mojo::DOM-&gt;new(do {local $/; &lt;DATA&gt;});\n\nmy @results;\nfor my $div ($dom-&gt;find('div[class=Source]')\n                 -&gt;grep(sub{$_-&gt;all_text =~ /IP Address/})\n                 -&gt;each) {\n    push @results, (split /:\\s*/, $div-&gt;text)[1]\n}\n\nmy @ips = sort(uniq(@results));\nprint \"$_\\n\" for @ips;\n\n__DATA__\n&lt;html&gt;\n&lt;head&gt;&lt;title&gt;foo&lt;/title&gt;&lt;/head&gt;\n&lt;body&gt;\n&lt;div style=\"margin-left: 12em;\" class=\"Source\"&gt;&lt;strong&gt;Label&lt;/strong&gt;:  Superman&lt;/div&gt;\n&lt;div style=\"margin-left: 12em;\" class=\"Source\"&gt;&lt;strong&gt;IP Address&lt;/strong&gt;:  999.24.135.50&lt;/div&gt;\n&lt;div style=\"margin-left: 12em;\" class=\"Source\"&gt;&lt;strong&gt;IP Address&lt;/strong&gt;:  333.24.333.50&lt;/div&gt;\n&lt;div style=\"margin-left: 12em;\" class=\"Source\"&gt;&lt;strong&gt;IP Address&lt;/strong&gt;:  333.24.333.50&lt;/div&gt;\n&lt;/body&gt;\n&lt;/html&gt;\n</code></pre>\n\n<p><strong>Output</strong></p>\n\n<pre><code>333.24.333.50\n999.24.135.50\n</code></pre>\n"}], "owner": {"reputation": 171, "user_id": 2253387, "user_type": "registered", "accept_rate": 60, "profile_image": "https://www.gravatar.com/avatar/31fc0f1b43f88fcd5034618a1c4daf1a?s=128&d=identicon&r=PG&f=1", "display_name": "Voldemort", "link": "https://stackoverflow.com/users/2253387/voldemort"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 121, "favorite_count": 0, "answer_count": 2, "score": -1, "last_activity_date": 1437536971, "creation_date": 1437528019, "last_edit_date": 1437528401, "question_id": 31552327, "link": "https://stackoverflow.com/questions/31552327/using-lookahead-lookbehind-while-ignoring-whitespace-and-duplicates", "title": "Using lookahead &amp; lookbehind while ignoring whitespace and duplicates", "body": "<p>I am having some trouble with the following regex:</p>\n\n<pre><code>(?&lt;=class=\"Source\"&gt;&lt;strong&gt;IP Address&lt;/strong&gt;:).*(?=&lt;/div&gt;)\n</code></pre>\n\n<p>It seems to capture just fine, however I can't get it to ignore whitespace.  I have tried the following and it does not work:</p>\n\n<pre><code>(?&lt;=class=\"Source\"&gt;&lt;strong&gt;IP Address&lt;/strong&gt;:)\\S*(?=&lt;/div&gt;)\n(?&lt;=class=\"Source\"&gt;&lt;strong&gt;IP Address&lt;/strong&gt;:)[^\\s]*(?=&lt;/div&gt;)\n</code></pre>\n\n<p>In addition, I don't want duplicates to be captured.  I should mention that I am doing a multi/global search in perl (/g)</p>\n\n<p>For the following text:</p>\n\n<pre><code>&lt;div style=\"margin-left: 12em;\" class=\"Source\"&gt;&lt;strong&gt;Label&lt;/strong&gt;:  Superman&lt;/div&gt;\n&lt;div style=\"margin-left: 12em;\" class=\"Source\"&gt;&lt;strong&gt;IP Address&lt;/strong&gt;:  999.24.135.50&lt;/div&gt;\n&lt;div style=\"margin-left: 12em;\" class=\"Source\"&gt;&lt;strong&gt;IP Address&lt;/strong&gt;:  333.24.333.50&lt;/div&gt;\n&lt;div style=\"margin-left: 12em;\" class=\"Source\"&gt;&lt;strong&gt;IP Address&lt;/strong&gt;:  333.24.333.50&lt;/div&gt;\n</code></pre>\n\n<p>The desired result would be:</p>\n\n<pre><code>333.24.333.50\n999.24.135.50\n</code></pre>\n\n<p>If there is a simpler/better way of going about this please let me know.</p>\n\n<p>Thanks in advance.</p>\n"}, {"tags": ["regex", "string", "perl", "replace", "double-quotes"], "comments": [{"owner": {"reputation": 3135, "user_id": 3597746, "user_type": "registered", "accept_rate": 92, "profile_image": "https://www.gravatar.com/avatar/35dd4b015d9f5c53ebb7d1a31a0d1f08?s=128&d=identicon&r=PG&f=1", "display_name": "Ammad", "link": "https://stackoverflow.com/users/3597746/ammad"}, "edited": false, "score": 0, "creation_date": 1437522163, "post_id": 31551465, "comment_id": 51061320, "body": "In other words I want final value to be   !dev-phase-to-improve == &quot;&quot; from existing dev-phase-to-improve == &quot;NOTEQUAL&quot;"}, {"owner": {"reputation": 61610, "user_id": 725418, "user_type": "registered", "accept_rate": 86, "profile_image": "https://www.gravatar.com/avatar/82ac2dc3e1ad4b7187f245c416528df9?s=128&d=identicon&r=PG", "display_name": "TLP", "link": "https://stackoverflow.com/users/725418/tlp"}, "edited": false, "score": 0, "creation_date": 1437522425, "post_id": 31551465, "comment_id": 51061389, "body": "That&#39;s not what you said in the question. Which is it?"}, {"owner": {"reputation": 61610, "user_id": 725418, "user_type": "registered", "accept_rate": 86, "profile_image": "https://www.gravatar.com/avatar/82ac2dc3e1ad4b7187f245c416528df9?s=128&d=identicon&r=PG", "display_name": "TLP", "link": "https://stackoverflow.com/users/725418/tlp"}, "edited": false, "score": 0, "creation_date": 1437522479, "post_id": 31551465, "comment_id": 51061405, "body": "You do not have a <code>&#39;</code> in your string, therefore that regex can never match."}, {"owner": {"reputation": 3135, "user_id": 3597746, "user_type": "registered", "accept_rate": 92, "profile_image": "https://www.gravatar.com/avatar/35dd4b015d9f5c53ebb7d1a31a0d1f08?s=128&d=identicon&r=PG&f=1", "display_name": "Ammad", "link": "https://stackoverflow.com/users/3597746/ammad"}, "reply_to_user": {"reputation": 61610, "user_id": 725418, "user_type": "registered", "accept_rate": 86, "profile_image": "https://www.gravatar.com/avatar/82ac2dc3e1ad4b7187f245c416528df9?s=128&d=identicon&r=PG", "display_name": "TLP", "link": "https://stackoverflow.com/users/725418/tlp"}, "edited": false, "score": 0, "creation_date": 1437522776, "post_id": 31551465, "comment_id": 51061484, "body": "Any special handling for single or double quote that i need to do  at s/&#39;dev-phase-to-improve == &quot;NOTEQUAL&quot;&#39;/!dev-phase-to-improve=&quot;&quot;/ig;  ?"}, {"owner": {"reputation": 663663, "user_id": 15168, "user_type": "registered", "accept_rate": 100, "profile_image": "https://i.stack.imgur.com/WtEI9.png?s=128&g=1", "display_name": "Jonathan Leffler", "link": "https://stackoverflow.com/users/15168/jonathan-leffler"}, "edited": false, "score": 1, "creation_date": 1437523290, "post_id": 31551465, "comment_id": 51061604, "body": "Where the pattern is the complete source string, you can simply replace one value with the new one (there&#39;s no need for a <code>s&#47;&#47;&#47;</code> command).  So, since you&#39;re probably not doing it just for the sheer hell of it, what does the source string really look like, and how flexible is the matching?  You have <code>ig</code> qualifiers after the <code>s&#47;&#47;&#47;</code>, so apparently the string can repeat in the source, and the match may need to be case-insensitive.  That&#39;s legitimate, but not the impression the question gives.  In other words, it is not yet clear what you&#39;re really trying to achieve."}, {"owner": {"reputation": 3135, "user_id": 3597746, "user_type": "registered", "accept_rate": 92, "profile_image": "https://www.gravatar.com/avatar/35dd4b015d9f5c53ebb7d1a31a0d1f08?s=128&d=identicon&r=PG&f=1", "display_name": "Ammad", "link": "https://stackoverflow.com/users/3597746/ammad"}, "edited": false, "score": 0, "creation_date": 1437523532, "post_id": 31551465, "comment_id": 51061659, "body": "Hi Jonathan,     $rc_link= &#39;dev-phase-to-improve == &quot;NOTEQUAL&quot;&#39;; $rc_link =~ s/dev-phase-to-improve == &quot;NOTEQUAL&quot;/!dev-phase-to-improve=&quot;&quot;/ig; print $rc_link ;"}, {"owner": {"reputation": 61610, "user_id": 725418, "user_type": "registered", "accept_rate": 86, "profile_image": "https://www.gravatar.com/avatar/82ac2dc3e1ad4b7187f245c416528df9?s=128&d=identicon&r=PG", "display_name": "TLP", "link": "https://stackoverflow.com/users/725418/tlp"}, "edited": false, "score": 0, "creation_date": 1437523542, "post_id": 31551465, "comment_id": 51061662, "body": "@Ammad <code>!dev-phase-to-improve=&quot;&quot;</code> is not the same string as <code>!dev-phase-to-improve == &quot;&quot;</code>."}, {"owner": {"reputation": 123805, "user_id": 622310, "user_type": "registered", "accept_rate": 33, "profile_image": "https://www.gravatar.com/avatar/8b6d35219e1808520bc238b28161e2e6?s=128&d=identicon&r=PG", "display_name": "Borodin", "link": "https://stackoverflow.com/users/622310/borodin"}, "edited": false, "score": 1, "creation_date": 1437524655, "post_id": 31551465, "comment_id": 51061940, "body": "I suggest you just write <code>$rc_link = &#39;!dev-phase-to-improve == &quot;&quot;&#39;</code>"}, {"owner": {"user_type": "does_not_exist", "display_name": "user557597"}, "edited": false, "score": 0, "creation_date": 1437526403, "post_id": 31551465, "comment_id": 51062358, "body": "You do not have a <code>&#39;</code> in your string, therefore that regex can never match"}], "answers": [{"tags": [], "owner": {"reputation": 142, "user_id": 4277620, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/1c5a3072c70061910402da089e5dac80?s=128&d=identicon&r=PG&f=1", "display_name": "sandeep", "link": "https://stackoverflow.com/users/4277620/sandeep"}, "is_accepted": true, "score": 1, "last_activity_date": 1437543284, "creation_date": 1437543284, "answer_id": 31554618, "question_id": 31551465, "link": "https://stackoverflow.com/questions/31551465/perl-string-replacement-issue/31554618#31554618", "title": "Perl String replacement issue", "body": "<p>It is working, check out this</p>\n\n<pre><code>my $str = 'dev-phase-to-improve == \"NOTEQUAL\"';\n$str=~ s/dev-phase-to-improve == \"NOTEQUAL\"/\\!dev-phase-to-improve=\"\"/g;\nprint $str.\"\\n\";\n</code></pre>\n"}], "owner": {"reputation": 3135, "user_id": 3597746, "user_type": "registered", "accept_rate": 92, "profile_image": "https://www.gravatar.com/avatar/35dd4b015d9f5c53ebb7d1a31a0d1f08?s=128&d=identicon&r=PG&f=1", "display_name": "Ammad", "link": "https://stackoverflow.com/users/3597746/ammad"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 54, "favorite_count": 1, "accepted_answer_id": 31554618, "answer_count": 1, "score": -1, "last_activity_date": 1437543284, "creation_date": 1437521813, "last_edit_date": 1437522055, "question_id": 31551465, "link": "https://stackoverflow.com/questions/31551465/perl-string-replacement-issue", "title": "Perl String replacement issue", "body": "<p>I have a string as shown below,</p>\n\n<pre><code>$str = 'dev-phase-to-improve == \"NOTEQUAL\"'\n</code></pre>\n\n<p>I want to replace:</p>\n\n<pre><code>dev-phase-to-improve == \"NOTEQUAL\"  \n</code></pre>\n\n<p>to  </p>\n\n<pre><code>!dev-phase-to-improve=\"\"\n</code></pre>\n\n<p>wondering how can i do that my code is some thing like as shown below,</p>\n\n<pre><code>$rc_link =~ s/'dev-phase-to-improve == \"NOTEQUAL\"/!dev-phase-to-improve=\"\"/ig;\n</code></pre>\n\n<p>but it is not working. Any idea?</p>\n"}, {"tags": ["oracle", "perl"], "answers": [{"tags": [], "owner": {"reputation": 320771, "user_id": 589924, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/b2cf53d5a3d25f95c0db4e025aed4153?s=128&d=identicon&r=PG", "display_name": "ikegami", "link": "https://stackoverflow.com/users/589924/ikegami"}, "is_accepted": false, "score": 0, "last_activity_date": 1437524588, "creation_date": 1437524588, "answer_id": 31551849, "question_id": 31550658, "link": "https://stackoverflow.com/questions/31550658/oracle-perl-and-system-perl-install-side-by-side/31551849#31551849", "title": "oracle perl and system perl install side by side", "body": "\n\n<p>You don't need to do anything. Just use the path to the desired instance of <code>perl</code>.</p>\n\n<pre class=\"lang-none prettyprint-override\"><code>$ /usr/bin/perl -E'say \"This is the system Perl. $]\"'\nThis is the system Perl. 5.014002\n\n$ 5.20.1t/bin/perl -E'say \"This isn'\\''t. $]\"'\nThis isn't. 5.020001\n\n$ 5.22.0t/bin/perl -E'say \"Neither is this. $]\"'\nNeither is this. 5.022000\n</code></pre>\n"}], "owner": {"reputation": 1, "user_id": 5141152, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/d48df77fa30a64d1301c6444e51534cf?s=128&d=identicon&r=PG&f=1", "display_name": "Kyle Bender", "link": "https://stackoverflow.com/users/5141152/kyle-bender"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 33, "favorite_count": 0, "answer_count": 1, "score": -1, "last_activity_date": 1437524588, "creation_date": 1437517281, "question_id": 31550658, "link": "https://stackoverflow.com/questions/31550658/oracle-perl-and-system-perl-install-side-by-side", "title": "oracle perl and system perl install side by side", "body": "<p>I installed oracle, and there is a conflict between oracles version of perl and system perl. I want to leave system perl where it is (working, and NOT a soft link to oracles perl) and I want oracle to just point to its perl. I know this can be done but finding an answer online has been hard. What is the standard procedure for this? Thanks!</p>\n"}, {"tags": ["perl"], "comments": [{"owner": {"reputation": 123372, "user_id": 1252759, "user_type": "moderator", "accept_rate": 100, "profile_image": "https://i.stack.imgur.com/aGFfT.jpg?s=128&g=1", "display_name": "Jon Clements", "link": "https://stackoverflow.com/users/1252759/jon-clements"}, "edited": false, "score": 0, "creation_date": 1437528448, "post_id": 31550606, "comment_id": 51062856, "body": "<b>Moderator note</b>: Keep comments to requesting clarification necessary to answer the question - they needn&#39;t be used for other purposes. Thank you."}], "answers": [{"comments": [{"owner": {"reputation": 21782, "user_id": 176646, "user_type": "registered", "accept_rate": 88, "profile_image": "https://i.stack.imgur.com/HsQyV.png?s=128&g=1", "display_name": "ThisSuitIsBlackNot", "link": "https://stackoverflow.com/users/176646/thissuitisblacknot"}, "edited": false, "score": 2, "creation_date": 1437518185, "post_id": 31550771, "comment_id": 51060076, "body": "Or without the C-style loop: <code>foreach my $max_element (reverse 0 .. $num_of_things - 1) { }</code>"}, {"owner": {"reputation": 80721, "user_id": 797049, "user_type": "registered", "accept_rate": 91, "profile_image": "https://www.gravatar.com/avatar/5f4f7a23e3d0134123a66015bdc4edd1?s=128&d=identicon&r=PG", "display_name": "Mark Reed", "link": "https://stackoverflow.com/users/797049/mark-reed"}, "edited": false, "score": 1, "creation_date": 1437518418, "post_id": 31550771, "comment_id": 51060156, "body": "Or, if <code>@value_array</code> is empty coming into this, since there&#39;s no dependency in the loop body on the ordering, just create it with a map: <code>my @value_array = map { $starting_hash{$key}[$_] } 0 .. $num_of_things-1;</code>"}, {"owner": {"reputation": 43, "user_id": 4970866, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/6034c75527159d9ef5eb0220ce64cc70?s=128&d=identicon&r=PG&f=1", "display_name": "chrisyyy", "link": "https://stackoverflow.com/users/4970866/chrisyyy"}, "edited": false, "score": 0, "creation_date": 1437518911, "post_id": 31550771, "comment_id": 51060317, "body": "Thanks. I&#39;ll delete the question, but will it remove any reputation points or whatever you get from answering this? I don&#39;t wanna take those away if you took the time to answer this lol (assuming u care about them)"}, {"owner": {"reputation": 21782, "user_id": 176646, "user_type": "registered", "accept_rate": 88, "profile_image": "https://i.stack.imgur.com/HsQyV.png?s=128&g=1", "display_name": "ThisSuitIsBlackNot", "link": "https://stackoverflow.com/users/176646/thissuitisblacknot"}, "reply_to_user": {"reputation": 43, "user_id": 4970866, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/6034c75527159d9ef5eb0220ce64cc70?s=128&d=identicon&r=PG&f=1", "display_name": "chrisyyy", "link": "https://stackoverflow.com/users/4970866/chrisyyy"}, "edited": false, "score": 2, "creation_date": 1437520623, "post_id": 31550771, "comment_id": 51060885, "body": "@chrisyyy There&#39;s no need to delete the question, it&#39;s perfectly on-topic, well-scoped, and answerable. In fact, you <i>can&#39;t</i> delete it because this answer was upvoted."}], "tags": [], "owner": {"reputation": 9961, "user_id": 2139766, "user_type": "registered", "accept_rate": 100, "profile_image": "https://i.stack.imgur.com/b3qcA.png?s=128&g=1", "display_name": "AnFi", "link": "https://stackoverflow.com/users/2139766/anfi"}, "is_accepted": true, "score": 1, "last_activity_date": 1437518555, "last_edit_date": 1437518555, "creation_date": 1437517920, "answer_id": 31550771, "question_id": 31550606, "link": "https://stackoverflow.com/questions/31550606/useless-use-of-private-variable-in-void-context-in-simple-perl-loop-no-idea-whe/31550771#31550771", "title": "Useless use of private variable in void context in simple perl loop, no idea where the error is", "body": "<p>Move initialization (and declaration) of $max_element into <code>for</code> statement.<br>\n[see <a href=\"https://stackoverflow.com/users/3213868/ooga\">ooga</a> comment ]</p>\n\n<pre><code>for( my $max_element=$num_of_things-1; $max_element&gt;= 0; $max_element--) {\n    $value_array[$max_element] = $starting_hash{$key}[$max_element];\n}\n</code></pre>\n"}], "owner": {"reputation": 43, "user_id": 4970866, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/6034c75527159d9ef5eb0220ce64cc70?s=128&d=identicon&r=PG&f=1", "display_name": "chrisyyy", "link": "https://stackoverflow.com/users/4970866/chrisyyy"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 237, "favorite_count": 0, "accepted_answer_id": 31550771, "answer_count": 1, "score": 0, "last_activity_date": 1437518555, "creation_date": 1437517030, "question_id": 31550606, "link": "https://stackoverflow.com/questions/31550606/useless-use-of-private-variable-in-void-context-in-simple-perl-loop-no-idea-whe", "title": "Useless use of private variable in void context in simple perl loop, no idea where the error is", "body": "<pre><code>if ( $num_of_things &gt; 1) {\n    my $max_element = $num_of_things -1;\n    for($max_element; $max_element &gt;= 0; $max_element--) {\n        $value_array[$max_element] = $starting_hash{$key}[$max_element];\n    }\n</code></pre>\n\n<p>All of my variables not initialized in this code snippet have been initialized as part of the larger subroutine (which I don't want to put up due to length). I'm not sure where I'm getting the useless use of private variable in void context error in this code, my compiler is telling me it's the last line (with nothing but the closing brace \"}\"). All help is hugely appreciated as I've been staring at this loop for almost an hour with no idea what is wrong.</p>\n"}, {"tags": ["c", "perl", "ssl", "openssl", "swig"], "comments": [{"owner": {"reputation": 113221, "user_id": 100754, "user_type": "registered", "accept_rate": 90, "profile_image": "https://www.gravatar.com/avatar/7804ebae32fbadef38537d74a915c22f?s=128&d=identicon&r=PG", "display_name": "Sinan &#220;n&#252;r", "link": "https://stackoverflow.com/users/100754/sinan-%c3%9cn%c3%bcr"}, "edited": false, "score": 0, "creation_date": 1437516040, "post_id": 31549652, "comment_id": 51059250, "body": "I have nightmares whenever I see <code>sizeof(char)</code>."}, {"owner": {"reputation": 82953, "user_id": 608639, "user_type": "registered", "accept_rate": 64, "profile_image": "https://i.stack.imgur.com/aPIhh.jpg?s=128&g=1", "display_name": "jww", "link": "https://stackoverflow.com/users/608639/jww"}, "edited": false, "score": 1, "creation_date": 1437517537, "post_id": 31549652, "comment_id": 51059846, "body": "The answer does not have to do with freeing memory. It has to do with the 0x140A90F1 error. You can fetch it from OpenSSL via <code>openssl errstr 0x140A90F1</code> (which you already have). With that knowledge, your problem is reduced to <a href=\"https://www.google.com/search?q=openssl+error+140A90F1\" rel=\"nofollow noreferrer\">openssl error 140A90F1</a>."}, {"owner": {"reputation": 663663, "user_id": 15168, "user_type": "registered", "accept_rate": 100, "profile_image": "https://i.stack.imgur.com/WtEI9.png?s=128&g=1", "display_name": "Jonathan Leffler", "link": "https://stackoverflow.com/users/15168/jonathan-leffler"}, "reply_to_user": {"reputation": 113221, "user_id": 100754, "user_type": "registered", "accept_rate": 90, "profile_image": "https://www.gravatar.com/avatar/7804ebae32fbadef38537d74a915c22f?s=128&d=identicon&r=PG", "display_name": "Sinan &#220;n&#252;r", "link": "https://stackoverflow.com/users/100754/sinan-%c3%9cn%c3%bcr"}, "edited": false, "score": 0, "creation_date": 1437528632, "post_id": 31549652, "comment_id": 51062910, "body": "@Sinan&#220;n&#252;r: <a href=\"https://en.wikipedia.org/wiki/To_a_Mouse\" rel=\"nofollow noreferrer\"><i>Wee, sleekit, cow&#39;rin, tim&#39;rous beastie, O, what a panic&#39;s in thy breastie!</i></a>."}, {"owner": {"reputation": 663663, "user_id": 15168, "user_type": "registered", "accept_rate": 100, "profile_image": "https://i.stack.imgur.com/WtEI9.png?s=128&g=1", "display_name": "Jonathan Leffler", "link": "https://stackoverflow.com/users/15168/jonathan-leffler"}, "edited": false, "score": 3, "creation_date": 1437528761, "post_id": 31549652, "comment_id": 51062944, "body": "Are you sure your version of SSL is built with support for SSL2 and MD5?  On the face of it, it might well be that you don&#39;t have that support compiled in."}, {"owner": {"reputation": 1778, "user_id": 209933, "user_type": "registered", "accept_rate": 69, "profile_image": "https://www.gravatar.com/avatar/553eab5e7c739c9ece84212dd04d191c?s=128&d=identicon&r=PG", "display_name": "philosodad", "link": "https://stackoverflow.com/users/209933/philosodad"}, "reply_to_user": {"reputation": 663663, "user_id": 15168, "user_type": "registered", "accept_rate": 100, "profile_image": "https://i.stack.imgur.com/WtEI9.png?s=128&g=1", "display_name": "Jonathan Leffler", "link": "https://stackoverflow.com/users/15168/jonathan-leffler"}, "edited": false, "score": 0, "creation_date": 1437578992, "post_id": 31549652, "comment_id": 51090440, "body": "@JonathanLeffler the request works fine if we don&#39;t call the generateSinFromPem function first, and the generateSinFromPem function works in all cases, with openssl098, 101, and libressl2x. Is that behavior consistent with the hypothesis that we don&#39;t have ssl2 and md5 support compiled in?"}, {"owner": {"reputation": 1778, "user_id": 209933, "user_type": "registered", "accept_rate": 69, "profile_image": "https://www.gravatar.com/avatar/553eab5e7c739c9ece84212dd04d191c?s=128&d=identicon&r=PG", "display_name": "philosodad", "link": "https://stackoverflow.com/users/209933/philosodad"}, "reply_to_user": {"reputation": 82953, "user_id": 608639, "user_type": "registered", "accept_rate": 64, "profile_image": "https://i.stack.imgur.com/aPIhh.jpg?s=128&g=1", "display_name": "jww", "link": "https://stackoverflow.com/users/608639/jww"}, "edited": false, "score": 1, "creation_date": 1437579096, "post_id": 31549652, "comment_id": 51090517, "body": "@jww having already looked over some of those links pretty carefully, I can&#39;t find anything that relates to my situation. Perhaps you could expand on your comment in an answer and explain more about what you think is going on?"}, {"owner": {"reputation": 663663, "user_id": 15168, "user_type": "registered", "accept_rate": 100, "profile_image": "https://i.stack.imgur.com/WtEI9.png?s=128&g=1", "display_name": "Jonathan Leffler", "link": "https://stackoverflow.com/users/15168/jonathan-leffler"}, "edited": false, "score": 0, "creation_date": 1437583688, "post_id": 31549652, "comment_id": 51093572, "body": "Have you looked at <a href=\"http://stackoverflow.com/questions/25282939/\">Openssl SSL_CTX_new(SSLv3_method()) returns NULL</a>; the question mentions your error message: <code>error:140A90F1:SSL routines:SSL_CTX_new:unable to load ssl2 md5 routines</code> (or something very close to it).  The answer there indicates how you might be able to identify it.  However, if the code works without calling <code>generateSinFromPem()</code>, then you probably need to look at the interaction of that call with what you&#39;re trying.  One response to a bug report to OpenSSL suggested using <a href=\"http://valgrind.org/\" rel=\"nofollow noreferrer\"><code>valgrind</code></a>."}, {"owner": {"reputation": 82953, "user_id": 608639, "user_type": "registered", "accept_rate": 64, "profile_image": "https://i.stack.imgur.com/aPIhh.jpg?s=128&g=1", "display_name": "jww", "link": "https://stackoverflow.com/users/608639/jww"}, "edited": false, "score": 0, "creation_date": 1437610024, "post_id": 31549652, "comment_id": 51106737, "body": "@philosodad - <i>Perhaps you could expand on your comment...&quot;</i> - Yeah, no problem. Where can I get a copy of the libraries in question? I need to examine them with tools like <code>nm</code>. (I know what you mean about unhelpful comments. What is obvious to me is not obvious to you)."}, {"owner": {"reputation": 1778, "user_id": 209933, "user_type": "registered", "accept_rate": 69, "profile_image": "https://www.gravatar.com/avatar/553eab5e7c739c9ece84212dd04d191c?s=128&d=identicon&r=PG", "display_name": "philosodad", "link": "https://stackoverflow.com/users/209933/philosodad"}, "reply_to_user": {"reputation": 82953, "user_id": 608639, "user_type": "registered", "accept_rate": 64, "profile_image": "https://i.stack.imgur.com/aPIhh.jpg?s=128&g=1", "display_name": "jww", "link": "https://stackoverflow.com/users/608639/jww"}, "edited": false, "score": 0, "creation_date": 1437664059, "post_id": 31549652, "comment_id": 51134485, "body": "@jww the libraries are linked where they are referenced in the first paragraph. <a href=\"https://github.com/bitpay/bitpay-c-keyutils\" rel=\"nofollow noreferrer\">github.com/bitpay/bitpay-c-keyutils</a>, <a href=\"https://github.com/bitpay/bitpay-perl-keyutils\" rel=\"nofollow noreferrer\">github.com/bitpay/bitpay-perl-keyutils</a>"}], "answers": [{"tags": [], "owner": {"reputation": 1778, "user_id": 209933, "user_type": "registered", "accept_rate": 69, "profile_image": "https://www.gravatar.com/avatar/553eab5e7c739c9ece84212dd04d191c?s=128&d=identicon&r=PG", "display_name": "philosodad", "link": "https://stackoverflow.com/users/209933/philosodad"}, "is_accepted": true, "score": 0, "last_activity_date": 1437674306, "creation_date": 1437674306, "answer_id": 31594818, "question_id": 31549652, "link": "https://stackoverflow.com/questions/31549652/ssl-ctx-newunable-to-load-ssl2-md5-routines/31594818#31594818", "title": "SSL_CTX_new:unable to load ssl2 md5 routines", "body": "<p>Our temporary, and probably very bad, solution to this problem was to eliminate the call to <code>EVP_Cleanup()</code> in the <strong>digestOfBytes()</strong> method.</p>\n\n<p>What apparently was happening is something like this: the Perl libraries that we were importing use openSSL, and load tables through something like <strong>OpenSSL_add_all_x</strong>. Because <a href=\"https://github.com/google/keyczar/issues/135\" rel=\"nofollow\"><strong>EVP_Cleanup()</strong> is global</a>, the Perl libraries (probably LWP::Protocol::https) couldn't find the tables of algorithms when they went to look them up.</p>\n\n<p>While this works, I'd really prefer to do something safer... not cleaning up seems like a sloppy solution.</p>\n"}], "owner": {"reputation": 1778, "user_id": 209933, "user_type": "registered", "accept_rate": 69, "profile_image": "https://www.gravatar.com/avatar/553eab5e7c739c9ece84212dd04d191c?s=128&d=identicon&r=PG", "display_name": "philosodad", "link": "https://stackoverflow.com/users/209933/philosodad"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 1627, "favorite_count": 0, "accepted_answer_id": 31594818, "answer_count": 1, "score": 2, "last_activity_date": 1437674465, "creation_date": 1437512960, "last_edit_date": 1437674465, "question_id": 31549652, "link": "https://stackoverflow.com/questions/31549652/ssl-ctx-newunable-to-load-ssl2-md5-routines", "title": "SSL_CTX_new:unable to load ssl2 md5 routines", "body": "<p>We are having trouble running a program built with OpenSSL. The specific error that we are encountering is: <strong><em><code>global error: SSL Context init failed error:140A90F1:SSL routines:SSL_CTX_new:unable to load ssl2 md5 routines</code></em></strong>.</p>\n\n<p>The context is a <a href=\"https://github.com/bitpay/bitpay-c-keyutils\" rel=\"nofollow\">C library</a> which is being wrapped by a <a href=\"https://github.com/bitpay/bitpay-perl-keyutils\" rel=\"nofollow\">Perl library</a> using SWIG. The error occurs when attempting to connect to an HTTPS address using the Perl library.</p>\n\n<p>For example, this code will cause the error:</p>\n\n<pre><code>#These are just the imports I felt were relevant to this problem\nuse LWP::UserAgent;\nuse HTTP::Request;\nuse LWP::Protocol::https;\nuse IO::Socket::SSL;\n\nsub test_can_connect_to_bitpay_api {\n  my $uri = \"https://www.google.com\";\n  my $pem = Business::OnlinePayment::BitPay::KeyUtils::bpGeneratePem();\n  my $sin = Business::OnlinePayment::BitPay::KeyUtils::bpGenerateSinFromPem($pem);\n  my $request = HTTP::Request-&gt;new(POST =&gt; $uri);\n  my $ua = LWP::UserAgent-&gt;new;\n  my $response = $ua-&gt;request($request);\n  ok($response-&gt;is_success, \"TEST CONNECTION\");\n}\n</code></pre>\n\n<p>But the same code will not error if the call to <code>bpGenerateSinFromPem()</code> is not made.</p>\n\n<p><code>bpGenerateSinFromPem</code> is the wrapper function in the *.i file.</p>\n\n<pre><code>%inline %{\n  char *bpGenerateSinFromPem(char *pem) {\n    char *ret = malloc(sizeof(char)*36);\n    char *err = \"ERROR\";\n    int errorCode;\n\n    errorCode = generateSinFromPem(pem, &amp;ret);\n\n    if (errorCode == NOERROR) {\n      return ret;\n    } else {\n      return err;\n    }\n\n  }\n%}\n</code></pre>\n\n<p>Which calls the C function:</p>\n\n<pre><code>int GenerateSinFromPem(char *pem, char **sin) {\n\n    char *pub =     calloc(67, sizeof(char));\n\n    u_int8_t *outBytesPub = calloc(SHA256_STRING, sizeof(u_int8_t));\n    u_int8_t *outBytesOfStep1 = calloc(SHA256_STRING, sizeof(u_int8_t));\n    u_int8_t *outBytesOfStep3 = calloc(RIPEMD_AND_PADDING_STRING, sizeof(u_int8_t));\n    u_int8_t *outBytesOfStep4a = calloc(SHA256_STRING, sizeof(u_int8_t));\n\n    char *step1 =   calloc(SHA256_HEX_STRING, sizeof(char));\n    char *step2 =   calloc(RIPEMD_HEX_STRING, sizeof(char));\n    char *step3 =   calloc(RIPEMD_AND_PADDING_HEX_STRING, sizeof(char));\n    char *step4a =  calloc(SHA256_HEX_STRING, sizeof(char));\n    char *step4b =  calloc(SHA256_HEX_STRING, sizeof(char));\n    char *step5 =   calloc(CHECKSUM_STRING, sizeof(char));\n    char *step6 =   calloc(RIPEMD_AND_PADDING_HEX + CHECKSUM_STRING, sizeof(char));\n\n    char *base58OfStep6 = calloc(SIN_STRING, sizeof(char));\n\n    getPublicKeyFromPem(pem, &amp;pub);\n    pub[66] = '\\0';\n\n    createDataWithHexString(pub, &amp;outBytesPub);\n    digestOfBytes(outBytesPub, &amp;step1, \"sha256\", SHA256_STRING);\n    step1[64] = '\\0';\n\n    createDataWithHexString(step1, &amp;outBytesOfStep1);\n    digestOfBytes(outBytesOfStep1, &amp;step2, \"ripemd160\", SHA256_DIGEST_LENGTH);\n    step2[40] = '\\0';\n\n    memcpy(step3, \"0F02\", 4);\n    memcpy(step3+4, step2, RIPEMD_HEX);\n    step3[44] = '\\0';\n\n    createDataWithHexString(step3, &amp;outBytesOfStep3);\n    digestOfBytes(outBytesOfStep3, &amp;step4a, \"sha256\", RIPEMD_AND_PADDING);\n    step4a[64] = '\\0';\n\n    createDataWithHexString(step4a, &amp;outBytesOfStep4a);\n    digestOfBytes(outBytesOfStep4a, &amp;step4b, \"sha256\", SHA256_DIGEST_LENGTH);\n    step4b[64] = '\\0';\n\n    memcpy(step5, step4b, CHECKSUM);\n\n    sprintf(step6, \"%s%s\", step3, step5);\n    step6[RIPEMD_AND_PADDING_HEX + CHECKSUM] = '\\0';\n\n    base58encode(step6, base58OfStep6);\n    base58OfStep6[SIN] = '\\0';\n    memcpy(*sin, base58OfStep6, SIN_STRING);\n\n    free(pub);\n    free(step1);\n    free(step2);\n    free(step3);\n    free(step4a);\n    free(step4b);\n    free(step5);\n    free(step6);\n    free(base58OfStep6);\n\n    free(outBytesPub);\n    free(outBytesOfStep1);\n    free(outBytesOfStep3);\n    free(outBytesOfStep4a);\n    return NOERROR;\n}\n</code></pre>\n\n<p>Which finally calls the digestOfBytes() method:</p>\n\n<pre><code>static int digestOfBytes(uint8_t *message, char **output, char *type, int inLength) {\n    EVP_MD_CTX *mdctx;\n    const EVP_MD *md;\n    unsigned char md_value[EVP_MAX_MD_SIZE];\n    unsigned int md_len, i;\n\n    OpenSSL_add_all_digests();\n\n    md = EVP_get_digestbyname(type);\n    mdctx = EVP_MD_CTX_create();\n    EVP_DigestInit_ex(mdctx, md, NULL);\n    EVP_DigestUpdate(mdctx, message, inLength);\n    EVP_DigestFinal_ex(mdctx, md_value, &amp;md_len);\n    EVP_MD_CTX_destroy(mdctx);\n\n    char *digest = calloc((md_len*2) + 1, sizeof(char));\n    for(i = 0; i &lt; md_len; i++){\n      sprintf(&amp;digest[2*i], \"%02x\", md_value[i]);\n    };\n    digest[md_len * 2] = '\\0';\n    memcpy(*output, digest, strlen(digest));\n    free(digest);\n    /* Call this once before exit. */\n    EVP_cleanup();\n    return 0;\n}\n</code></pre>\n\n<p>There seems to be some possibility that this is being caused by not releasing some resources in our C library, but it looks like we are freeing all the memory that can be freed. Why would we be seeing this conflict?</p>\n"}, {"tags": ["oracle", "perl", "dbi"], "comments": [{"owner": {"reputation": 4071, "user_id": 3806046, "user_type": "registered", "accept_rate": 90, "profile_image": "https://www.gravatar.com/avatar/5fedf50ce7cd2659bca902e9a2969158?s=128&d=identicon&r=PG&f=1", "display_name": "jkeuhlen", "link": "https://stackoverflow.com/users/3806046/jkeuhlen"}, "edited": false, "score": 1, "creation_date": 1437503237, "post_id": 31546787, "comment_id": 51052523, "body": "Is the query actually executing? I like to add an <code>or die $!</code> after my executes in case they fail."}, {"owner": {"reputation": 4071, "user_id": 3806046, "user_type": "registered", "accept_rate": 90, "profile_image": "https://www.gravatar.com/avatar/5fedf50ce7cd2659bca902e9a2969158?s=128&d=identicon&r=PG&f=1", "display_name": "jkeuhlen", "link": "https://stackoverflow.com/users/3806046/jkeuhlen"}, "edited": false, "score": 0, "creation_date": 1437503403, "post_id": 31546787, "comment_id": 51052609, "body": "You could also try to use <code>my $code = q{A-50C}</code> and see if that escapes it properly. Just a thought."}, {"owner": {"reputation": 119, "user_id": 1992484, "user_type": "registered", "accept_rate": 67, "profile_image": "https://www.gravatar.com/avatar/f126964233b9e4e203a2d5030b697785?s=128&d=identicon&r=PG", "display_name": "Sheddy", "link": "https://stackoverflow.com/users/1992484/sheddy"}, "reply_to_user": {"reputation": 4071, "user_id": 3806046, "user_type": "registered", "accept_rate": 90, "profile_image": "https://www.gravatar.com/avatar/5fedf50ce7cd2659bca902e9a2969158?s=128&d=identicon&r=PG&f=1", "display_name": "jkeuhlen", "link": "https://stackoverflow.com/users/3806046/jkeuhlen"}, "edited": false, "score": 0, "creation_date": 1437504083, "post_id": 31546787, "comment_id": 51053068, "body": "It is executing, I&#39;ve tried with or die before and even with a print error, but it completed anyway.  Also I tried your suggestion, but it completed identically (0 rows).  To make it easier on myself I changed my query to instead do a <code>SELECT COUNT(*)</code> and calling it explicitly returns 1 row --as expected-- all other ways returns a count of 0 and no errors."}, {"owner": {"reputation": 4071, "user_id": 3806046, "user_type": "registered", "accept_rate": 90, "profile_image": "https://www.gravatar.com/avatar/5fedf50ce7cd2659bca902e9a2969158?s=128&d=identicon&r=PG&f=1", "display_name": "jkeuhlen", "link": "https://stackoverflow.com/users/3806046/jkeuhlen"}, "edited": false, "score": 0, "creation_date": 1437504223, "post_id": 31546787, "comment_id": 51053138, "body": "Hmm interesting. What flavor of SQL?"}, {"owner": {"reputation": 61610, "user_id": 725418, "user_type": "registered", "accept_rate": 86, "profile_image": "https://www.gravatar.com/avatar/82ac2dc3e1ad4b7187f245c416528df9?s=128&d=identicon&r=PG", "display_name": "TLP", "link": "https://stackoverflow.com/users/725418/tlp"}, "edited": false, "score": 3, "creation_date": 1437504554, "post_id": 31546787, "comment_id": 51053293, "body": "Get the error reported with DBI&#39;s error reporting method. <code>$!</code> won&#39;t contain errors that occur in the DBI module."}, {"owner": {"reputation": 61610, "user_id": 725418, "user_type": "registered", "accept_rate": 86, "profile_image": "https://www.gravatar.com/avatar/82ac2dc3e1ad4b7187f245c416528df9?s=128&d=identicon&r=PG", "display_name": "TLP", "link": "https://stackoverflow.com/users/725418/tlp"}, "edited": false, "score": 0, "creation_date": 1437504665, "post_id": 31546787, "comment_id": 51053336, "body": "Does your query work if you remove the dash from the input string?"}, {"owner": {"reputation": 119, "user_id": 1992484, "user_type": "registered", "accept_rate": 67, "profile_image": "https://www.gravatar.com/avatar/f126964233b9e4e203a2d5030b697785?s=128&d=identicon&r=PG", "display_name": "Sheddy", "link": "https://stackoverflow.com/users/1992484/sheddy"}, "edited": false, "score": 0, "creation_date": 1437504880, "post_id": 31546787, "comment_id": 51053456, "body": "I set up complete error checking in the way described here (<a href=\"http://docstore.mik.ua/orelly/linux/dbi/ch04_05.htm\" rel=\"nofollow noreferrer\">docstore.mik.ua/orelly/linux/dbi/ch04_05.htm</a>) in section 4.5.1.1 (towards the top) and saw no errors, yet still got my count of 0. I did this removing the dash as well; however 0 is expected in that case.  All values in this field will have a dash."}, {"owner": {"reputation": 61610, "user_id": 725418, "user_type": "registered", "accept_rate": 86, "profile_image": "https://www.gravatar.com/avatar/82ac2dc3e1ad4b7187f245c416528df9?s=128&d=identicon&r=PG", "display_name": "TLP", "link": "https://stackoverflow.com/users/725418/tlp"}, "edited": false, "score": 0, "creation_date": 1437504985, "post_id": 31546787, "comment_id": 51053520, "body": "Include the code that contains the error checking, please. You should never leave stuff like that out when asking a question."}, {"owner": {"reputation": 119, "user_id": 1992484, "user_type": "registered", "accept_rate": 67, "profile_image": "https://www.gravatar.com/avatar/f126964233b9e4e203a2d5030b697785?s=128&d=identicon&r=PG", "display_name": "Sheddy", "link": "https://stackoverflow.com/users/1992484/sheddy"}, "edited": false, "score": 0, "creation_date": 1437505452, "post_id": 31546787, "comment_id": 51053736, "body": "Changing it to 1 from 0 had no change in output or visible errors."}, {"owner": {"reputation": 320771, "user_id": 589924, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/b2cf53d5a3d25f95c0db4e025aed4153?s=128&d=identicon&r=PG", "display_name": "ikegami", "link": "https://stackoverflow.com/users/589924/ikegami"}, "edited": false, "score": 0, "creation_date": 1437505567, "post_id": 31546787, "comment_id": 51053804, "body": "Your first snippet should work. Which DBD are you using? (The word after DBI in the DSN) What version?"}, {"owner": {"reputation": 4462, "user_id": 1018580, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/757fafb944d47f80a2336d097dcef7c5?s=128&d=identicon&r=PG", "display_name": "Trenton Trama", "link": "https://stackoverflow.com/users/1018580/trenton-trama"}, "edited": false, "score": 0, "creation_date": 1437505621, "post_id": 31546787, "comment_id": 51053838, "body": "Have you imported the DBI type constants before using the 3 argument form of bind_param?  <code>use DBI qw(:sql_types);</code>  More information can be found at <a href=\"http://search.cpan.org/~timb/DBI-1.633/DBI.pm#DBI_Constants\" rel=\"nofollow noreferrer\">search.cpan.org/~timb/DBI-1.633/DBI.pm#DBI_Constants</a>"}, {"owner": {"reputation": 119, "user_id": 1992484, "user_type": "registered", "accept_rate": 67, "profile_image": "https://www.gravatar.com/avatar/f126964233b9e4e203a2d5030b697785?s=128&d=identicon&r=PG", "display_name": "Sheddy", "link": "https://stackoverflow.com/users/1992484/sheddy"}, "edited": false, "score": 0, "creation_date": 1437505787, "post_id": 31546787, "comment_id": 51053930, "body": "DBD::Oracle (v1.30) and DBI (1.616) I think, if that&#39;s what you&#39;re asking. I added the module of sql_types which now lets me write it { TYPE =&gt; SQL_VARCHAR }, but still the same result (no more error at least for doing it that way.)"}, {"owner": {"reputation": 119, "user_id": 1992484, "user_type": "registered", "accept_rate": 67, "profile_image": "https://www.gravatar.com/avatar/f126964233b9e4e203a2d5030b697785?s=128&d=identicon&r=PG", "display_name": "Sheddy", "link": "https://stackoverflow.com/users/1992484/sheddy"}, "edited": false, "score": 0, "creation_date": 1437506807, "post_id": 31546787, "comment_id": 51054409, "body": "0 rows with the wildcard and like regardless of the fashion in which I call it bind parameter or explicit."}, {"owner": {"reputation": 50468, "user_id": 1331451, "user_type": "registered", "accept_rate": 96, "profile_image": "https://i.stack.imgur.com/4ZPmj.png?s=128&g=1", "display_name": "simbabque", "link": "https://stackoverflow.com/users/1331451/simbabque"}, "edited": false, "score": 2, "creation_date": 1437507171, "post_id": 31546787, "comment_id": 51054612, "body": "Take a look at DBI&#39;s tracing facilities: <a href=\"https://metacpan.org/pod/DBI#TRACING\" rel=\"nofollow noreferrer\">metacpan.org/pod/DBI#TRACING</a>"}, {"owner": {"reputation": 14265, "user_id": 4808122, "user_type": "registered", "accept_rate": 89, "profile_image": "https://i.stack.imgur.com/T2JjI.jpg?s=128&g=1", "display_name": "Marmite Bomber", "link": "https://stackoverflow.com/users/4808122/marmite-bomber"}, "edited": false, "score": 1, "creation_date": 1437507721, "post_id": 31546787, "comment_id": 51054907, "body": "To see the exact value of the bind variable you may try SELECT DUMP(?,16) FROM DUAL"}, {"owner": {"reputation": 119, "user_id": 1992484, "user_type": "registered", "accept_rate": 67, "profile_image": "https://www.gravatar.com/avatar/f126964233b9e4e203a2d5030b697785?s=128&d=identicon&r=PG", "display_name": "Sheddy", "link": "https://stackoverflow.com/users/1992484/sheddy"}, "edited": false, "score": 0, "creation_date": 1437508429, "post_id": 31546787, "comment_id": 51055328, "body": "Ran a trace (Ignore that its p2):     <code>-&gt; bind_param for DBD::Oracle::st (DBI::st=HASH(0x22fbcc0)~0x3bcf48 2 &#39;A-50C&#39; HASH(0x22fbac8)) thr#3b66c8 dbd_bind_ph(1): bind :p2 &lt;== &#39;A-50C&#39; (type 0 (DEFAULT (varchar)), attribs: HASH(0x22fbac8)) dbd_rebind_ph_char() (1): bind :p2 &lt;== &#39;A-50C&#39; (size 5&#47;16&#47;0, ptype 4(VARCHAR), otype 1 ) dbd_rebind_ph_char() (2): bind :p2 &lt;== &#39;&#39;A-50&#39; (size 5&#47;16, otype 1(VARCHAR), indp 0, at_exec 1) \t  bind :p2 as ftype 1 (VARCHAR) dbd_rebind_ph(): bind :p2 &lt;== &#39;A-50C&#39; (in, not-utf8, csid 178-&gt;0-&gt;178, ftype 1 (VARCHAR), csform 0(0)-&gt;0(0), maxlen 16, maxdata_size 0)</code>"}, {"owner": {"reputation": 119, "user_id": 1992484, "user_type": "registered", "accept_rate": 67, "profile_image": "https://www.gravatar.com/avatar/f126964233b9e4e203a2d5030b697785?s=128&d=identicon&r=PG", "display_name": "Sheddy", "link": "https://stackoverflow.com/users/1992484/sheddy"}, "edited": false, "score": 0, "creation_date": 1437508728, "post_id": 31546787, "comment_id": 51055499, "body": "DUMP results: <code>Typ=1 Len=5: 41,2d,35,30,43 </code>"}, {"owner": {"reputation": 50468, "user_id": 1331451, "user_type": "registered", "accept_rate": 96, "profile_image": "https://i.stack.imgur.com/4ZPmj.png?s=128&g=1", "display_name": "simbabque", "link": "https://stackoverflow.com/users/1331451/simbabque"}, "edited": false, "score": 0, "creation_date": 1437510733, "post_id": 31546787, "comment_id": 51056610, "body": "Can you add that to the question including line breaks?"}, {"owner": {"reputation": 119, "user_id": 1992484, "user_type": "registered", "accept_rate": 67, "profile_image": "https://www.gravatar.com/avatar/f126964233b9e4e203a2d5030b697785?s=128&d=identicon&r=PG", "display_name": "Sheddy", "link": "https://stackoverflow.com/users/1992484/sheddy"}, "edited": false, "score": 0, "creation_date": 1437512562, "post_id": 31546787, "comment_id": 51057637, "body": "Updated the original question"}, {"owner": {"reputation": 6009, "user_id": 4687355, "user_type": "registered", "profile_image": "https://lh3.googleusercontent.com/-ObdEUI7mMYo/AAAAAAAAAAI/AAAAAAAAAgc/fwxal6_6cBA/photo.jpg?sz=128", "display_name": "Sentinel", "link": "https://stackoverflow.com/users/4687355/sentinel"}, "edited": false, "score": 0, "creation_date": 1437519597, "post_id": 31546787, "comment_id": 51060562, "body": "What results do you get from <code>my $code = &#39;A-50C&#39;; $sth = $dbh-&gt;prepare(&quot;SELECT DUMP(&#39;A-50C&#39;) col1, DUMP(?) col2 FROM DUAL&quot;); $sth-&gt;execute($code);</code>? do both dumps contain the same results?"}], "answers": [{"comments": [{"owner": {"reputation": 119, "user_id": 1992484, "user_type": "registered", "accept_rate": 67, "profile_image": "https://www.gravatar.com/avatar/f126964233b9e4e203a2d5030b697785?s=128&d=identicon&r=PG", "display_name": "Sheddy", "link": "https://stackoverflow.com/users/1992484/sheddy"}, "edited": false, "score": 0, "creation_date": 1437578987, "post_id": 31552109, "comment_id": 51090437, "body": "Interesting solution.  In this case, I do not have control over the database to change data types, but the explanation definitely makes sense and the implementation works."}], "tags": [], "owner": {"reputation": 7363, "user_id": 905488, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/efb324daddc3ad22736171ba863234d8?s=128&d=identicon&r=PG", "display_name": "Mick Mnemonic", "link": "https://stackoverflow.com/users/905488/mick-mnemonic"}, "is_accepted": true, "score": 7, "last_activity_date": 1437526379, "creation_date": 1437526379, "answer_id": 31552109, "question_id": 31546787, "link": "https://stackoverflow.com/questions/31546787/dashes-causing-sql-trouble-in-dbi/31552109#31552109", "title": "Dashes Causing SQL Trouble in DBI", "body": "<p>Your problem is likely a result of comparing <code>CHAR</code> and <code>VARCHAR</code> data together.</p>\n\n<p>The <code>CHAR</code> data type is notorious (and should be avoided), because it stores data in fixed-length format. It should never be used for holding varying-length data. In your case, data stored in the <code>ACC_TYPE</code> column will always take up 10 characters of storage. When you store a value whose length is less than the size of the column, like <code>A-50C</code>, the database will implicitly pad the string up to 10 characters, so the actual value stored becomes <code>A-50C_____</code> (where <code>_</code> represents a whitespace).</p>\n\n<p>Your first query works because when you use a hard-code literal, Oracle will automatically right-pad the value for you (<code>A-50C</code> -> <code>A-50C_____</code>). However, in your second query where you use bind variables, you're comparing a <code>VARCHAR</code> against a <code>CHAR</code> and no auto-padding will happen.</p>\n\n<p>As a quick fix to the problem, you could add right-padding to the query:</p>\n\n<pre><code>SELECT STATUS_CODE FROM MyTable WHERE ACC_TYPE = rpad(?, 10)\n</code></pre>\n\n<p>A long-term solution would be to avoid using the <code>CHAR</code> data type in your table definitions and switch to <code>VARCHAR2</code> instead.</p>\n"}, {"tags": [], "owner": {"reputation": 51391, "user_id": 132382, "user_type": "registered", "accept_rate": 98, "profile_image": "https://www.gravatar.com/avatar/20fc7ee8f405aa42e36eb73e841e5a36?s=128&d=identicon&r=PG", "display_name": "pilcrow", "link": "https://stackoverflow.com/users/132382/pilcrow"}, "is_accepted": false, "score": 2, "last_activity_date": 1437538524, "last_edit_date": 1495539834, "creation_date": 1437538524, "answer_id": 31553755, "question_id": 31546787, "link": "https://stackoverflow.com/questions/31546787/dashes-causing-sql-trouble-in-dbi/31553755#31553755", "title": "Dashes Causing SQL Trouble in DBI", "body": "<p>As your DBI_TRACE revealed, the <code>ACC_TYPE</code> column is CHAR(10) but the bound parameter is understood as VARCHAR.</p>\n\n<p>When comparing CHAR, NCHAR, or literal strings to one another, trailing blanks are effectively ignored.  (Remember, CHAR(10) means that <code>ACC_TYPE</code> values are padded to 10 characters long.)  Thus, <code>'A   '</code> and <code>'A'</code>, as CHARs, compare equal.  When comparing with the VARCHAR family, however, trailing blanks become significant, and <code>'A  '</code> no longer equals '<code>A</code>' if one is a VARCHAR variant.</p>\n\n<p>You can confirm in <em>sqlplus</em> or via quick DBI query:</p>\n\n<pre><code>SELECT COUNT(1) FROM DUAL WHERE CAST('A' AS CHAR(2)) = 'A'; -- or CAST AS CHAR(whatever)\nSELECT COUNT(1) FROM DUAL WHERE CAST('A' AS CHAR(2)) = CAST('A' AS VARCHAR(1));\n</code></pre>\n\n<p>(Oracle terms these <a href=\"http://docs.oracle.com/cd/B19306_01/server.102/b14200/sql_elements002.htm#BABJJGBI\" rel=\"nofollow noreferrer\">blank-padded and nonpadded comparison semantics</a>, since the actual behavior per the ANSI-92 spec is to pad the shorter CHAR or literal to the length of the longer and then compare.  The effective behavior, whatever the name, is that one ignores trailing blanks and the other does not.)</p>\n\n<p>As <a href=\"https://stackoverflow.com/a/31552109/132382\">@MickMnemonic suggested</a>, RPAD()ing the bound value will work, or, better, altering the column type to VARCHAR.  You could also <code>CAST(? AS CHAR(10))</code>.  TRIM(TRAILING FROM ACC_TYPE) would work, too, at the cost of ignoring any index on that column.</p>\n"}], "owner": {"reputation": 119, "user_id": 1992484, "user_type": "registered", "accept_rate": 67, "profile_image": "https://www.gravatar.com/avatar/f126964233b9e4e203a2d5030b697785?s=128&d=identicon&r=PG", "display_name": "Sheddy", "link": "https://stackoverflow.com/users/1992484/sheddy"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 281, "favorite_count": 0, "accepted_answer_id": 31552109, "answer_count": 2, "score": 4, "last_activity_date": 1437538524, "creation_date": 1437502951, "last_edit_date": 1437518915, "question_id": 31546787, "link": "https://stackoverflow.com/questions/31546787/dashes-causing-sql-trouble-in-dbi", "title": "Dashes Causing SQL Trouble in DBI", "body": "<p>I have a SQL query with a WHERE clause that typically has values including a dash as stored in the database as a CHAR(10).  When I explicitly call it like in the following:</p>\n\n<p><code>$sth = $dbh-&gt;prepare(\"SELECT STATUS_CODE FROM MyTable WHERE ACC_TYPE = 'A-50C'\");</code></p>\n\n<p>It works and properly returns my 1 row; however if I do the following:</p>\n\n<pre><code>my $code = 'A-50C';\n$sth = $dbh-&gt;prepare(\"SELECT STATUS_CODE FROM MyTable WHERE ACC_TYPE = ?\");\n$sth-&gt;execute($code);\n</code></pre>\n\n<p>or I do:</p>\n\n<pre><code>my $code = 'A-50C';\n$sth = $dbh-&gt;prepare(\"SELECT STATUS_CODE FROM MyTable WHERE ACC_TYPE = ?\");\n$sth-&gt;bind_param(1, $code);\n$sth-&gt;execute();\n</code></pre>\n\n<p>The query completes, but I get no results.  I suspect it has to do with the dash being interpretted incorrectly, but I can't link it to a Perl issue as I have printed my $code variable using print <code>\"My Content: $code\\n\";</code> so I can confirm its not being strangely converted.  I also tried including a third value for bind_param and if I specify something like ORA_VARCHAR2, SQL_VARCHAR (tried all possibilities) I still get no results.  If I change it to the long form i.e. { TYPE => SQL_VARCHAR } it gives me an error of</p>\n\n<blockquote>\n  <p>DBI::st=HASH&lt;0x232a210>->bind_param(...): attribute parameter\n  'SQL_VARCHAR' is not a hash ref</p>\n</blockquote>\n\n<p>Lastly, I tried single and double quotes in different ways as well as back ticks to escape the values, but nothing got me the 1 row, only 0. Any ideas?  Haven't found anything in documentation or searching. This is oracle for reference.</p>\n\n<p>Code with error checking:</p>\n\n<pre><code>my $dbh = DBI-&gt;connect($dsn, $user, $pw, {PrintError =&gt; 0, RaiseError =&gt; 0})\n  or die \"$DBI::errstr\\n\";\n\n# my $dbh = DBI-&gt;connect(); # connect\n\nmy $code = 'A-50C';\nprint \"My Content: $code\\n\";\n$sth = $dbh-&gt;prepare( \"SELECT COUNT(*) FROM MyTable WHERE CODE = ?\" )\n  or die \"Can't prepare SQL statement: $DBI::errstr\\n\";\n$sth-&gt;bind_param(1, $code);\n$sth-&gt;execute() or die \"Can't execute SQL statement: $DBI::errstr\\n\";\n\nmy $outfile = 'output.txt';\nopen OUTFILE, '&gt;', $outfile or die \"Unable to open $outfile: $!\";\n\nwhile(my @re = $sth-&gt;fetchrow_array) {\n    print OUTFILE @re,\"\\n\";\n}\n\nwarn \"Data fetching terminated early by error: $DBI::errstr\\n\"\n  if $DBI::err;\n\nclose OUTFILE;\n\n$sth-&gt;finish();\n$dbh-&gt;disconnect();\n</code></pre>\n\n<p>I ran a trace and got back:</p>\n\n<pre><code>-&gt; bind_param for DBD::Oracle::st (DBI::st=HASH(0x22fbcc0)~0x3bcf48 2 'A-50C' HASH(0x22fbac8)) thr#3b66c8\ndbd_bind_ph(1): bind :p2 &lt;== 'A-50C' (type 0 (DEFAULT (varchar)), attribs: HASH(0x22fbac8))\ndbd_rebind_ph_char() (1): bind :p2 &lt;== 'A-50C' (size 5/16/0, ptype 4(VARCHAR), otype 1 )\ndbd_rebind_ph_char() (2): bind :p2 &lt;== ''A-50' (size 5/16, otype 1(VARCHAR), indp 0, at_exec 1)\n    bind :p2 as ftype 1 (VARCHAR)\ndbd_rebind_ph(): bind :p2 &lt;== 'A-50C' (in, not-utf8, csid 178-&gt;0-&gt;178, ftype 1 (VARCHAR), csform 0(0)-&gt;0(0), maxlen 16, maxdata_size 0)\n</code></pre>\n"}, {"tags": ["arrays", "perl"], "comments": [{"owner": {"reputation": 21782, "user_id": 176646, "user_type": "registered", "accept_rate": 88, "profile_image": "https://i.stack.imgur.com/HsQyV.png?s=128&g=1", "display_name": "ThisSuitIsBlackNot", "link": "https://stackoverflow.com/users/176646/thissuitisblacknot"}, "edited": false, "score": 0, "creation_date": 1437502176, "post_id": 31546409, "comment_id": 51051921, "body": "Do you have to use an array? It might be easier to use a hash where the letters A through Z are the keys and the number of times picked are the values."}, {"owner": {"reputation": 5913, "user_id": 2893712, "user_type": "registered", "accept_rate": 90, "profile_image": "https://www.gravatar.com/avatar/ba3bea502f3cde271b0d8d9a0b957afc?s=128&d=identicon&r=PG", "display_name": "Bijan", "link": "https://stackoverflow.com/users/2893712/bijan"}, "reply_to_user": {"reputation": 21782, "user_id": 176646, "user_type": "registered", "accept_rate": 88, "profile_image": "https://i.stack.imgur.com/HsQyV.png?s=128&g=1", "display_name": "ThisSuitIsBlackNot", "link": "https://stackoverflow.com/users/176646/thissuitisblacknot"}, "edited": false, "score": 0, "creation_date": 1437502253, "post_id": 31546409, "comment_id": 51051965, "body": "Well the A-Z was just a simple example. My actual use is that I load a file in as an array <code>open ($fhi, &quot;rand.txt&quot;); my @list = $fhi-&gt;getlines;</code>"}, {"owner": {"reputation": 21782, "user_id": 176646, "user_type": "registered", "accept_rate": 88, "profile_image": "https://i.stack.imgur.com/HsQyV.png?s=128&g=1", "display_name": "ThisSuitIsBlackNot", "link": "https://stackoverflow.com/users/176646/thissuitisblacknot"}, "edited": false, "score": 0, "creation_date": 1437502347, "post_id": 31546409, "comment_id": 51052025, "body": "You can load that into a hash with <code>my %lines = map { $_ =&gt; 0 } $fh-&gt;getlines;</code>, but ikegami has already given a nice solution using arrays."}], "answers": [{"comments": [{"owner": {"reputation": 5913, "user_id": 2893712, "user_type": "registered", "accept_rate": 90, "profile_image": "https://www.gravatar.com/avatar/ba3bea502f3cde271b0d8d9a0b957afc?s=128&d=identicon&r=PG", "display_name": "Bijan", "link": "https://stackoverflow.com/users/2893712/bijan"}, "edited": false, "score": 0, "creation_date": 1437503234, "post_id": 31546555, "comment_id": 51052519, "body": "I did not realize but I had the solution mostly in front of me. I was running my code @ 5 threads so the subroutine was already being run 5 times at once. All I had to do was use <code>my $pick = shift(@list)</code> instead of multiplying @list x5. I chose yours as an answer since it would work in any normal circumstance."}], "tags": [], "owner": {"reputation": 320771, "user_id": 589924, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/b2cf53d5a3d25f95c0db4e025aed4153?s=128&d=identicon&r=PG", "display_name": "ikegami", "link": "https://stackoverflow.com/users/589924/ikegami"}, "is_accepted": true, "score": 10, "last_activity_date": 1437503661, "last_edit_date": 1437503661, "creation_date": 1437502230, "answer_id": 31546555, "question_id": 31546409, "link": "https://stackoverflow.com/questions/31546409/perl-remove-item-from-array-if-selected-a-certain-number-of-times/31546555#31546555", "title": "Perl remove item from array if selected a certain number of times", "body": "<p>I'd use the following: (This is an O(N) solution)</p>\n\n<pre><code>use List::Util qw( shuffle );\n\nfor my $pick (shuffle((@list) x 5)) {\n   ...\n}\n</code></pre>\n\n<p>To really remove it from the array: (This is an O(N<sup>2</sup>) solution)</p>\n\n<pre><code>my %counts = map { $_ =&gt; 0 } @list;\n\nwhile (@list) {\n   my $pick = $list[rand(@list)];\n\n   if ($counts{$pick}++ == 5) {\n      delete($counts{$pick});\n      @list = keys(%counts);\n   }\n\n   ...\n}\n</code></pre>\n\n<hr>\n\n<p>Why the second solution is O(N<sup>2</sup>):</p>\n\n<p>N-1 elements are copied the first time <code>@list = keys(%counts);</code> is executed.\n<br>N-2 elements are copied the second time <code>@list = keys(%counts);</code> is executed.\n<br>...\n<br>1 element is copied the second last time <code>@list = keys(%counts);</code> is executed.\n<br>0 elements are copied the last time <code>@list = keys(%counts);</code> is executed.</p>\n\n<p>O( (N-1)+(N-2)+...+1+0 )\n<br>= O( N(N-1)/2 ) <a href=\"https://en.wikipedia.org/wiki/Triangular_number\" rel=\"nofollow\">Reference</a>\n<br>= O( N<sup>2</sup>/2 - N/2 )\n<br>= O(N<sup>2</sup>)</p>\n"}, {"comments": [{"owner": {"reputation": 320771, "user_id": 589924, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/b2cf53d5a3d25f95c0db4e025aed4153?s=128&d=identicon&r=PG", "display_name": "ikegami", "link": "https://stackoverflow.com/users/589924/ikegami"}, "edited": false, "score": 0, "creation_date": 1437502961, "post_id": 31546599, "comment_id": 51052370, "body": "Slightly more efficient to populate <code>@possibilities</code> on delete."}], "tags": [], "owner": {"reputation": 81037, "user_id": 8454, "user_type": "registered", "accept_rate": 100, "profile_image": "https://i.stack.imgur.com/2NlHs.png?s=128&g=1", "display_name": "Andy Lester", "link": "https://stackoverflow.com/users/8454/andy-lester"}, "is_accepted": false, "score": 1, "last_activity_date": 1437502347, "creation_date": 1437502347, "answer_id": 31546599, "question_id": 31546409, "link": "https://stackoverflow.com/questions/31546409/perl-remove-item-from-array-if-selected-a-certain-number-of-times/31546599#31546599", "title": "Perl remove item from array if selected a certain number of times", "body": "<p>You will need to keep track of each letter's count.  For that, you'll need a hash.</p>\n\n<p>Each time through the loop, you'll pick a letter.  If you've picked it 5 times, then delete it from the hash of possibilities.  After all the letters have been deleted, you're done.</p>\n\n<pre><code>use strict;\nuse warnings;\n\nmy %letters = map { ($_ =&gt; 1) } 'A' ..'C';\n\nmy $maxpicks = 5;\nwhile ( keys %letters ) {\n    my @possibilities = keys %letters;\n\n    my $pick = $possibilities[ rand @possibilities ];\n    print \"I picked $pick\\n\";\n    if ( ++$letters{$pick} &gt;= $maxpicks ) {\n        print \"Deleting $pick after being picked $maxpicks times\\n\";\n        delete $letters{$pick};\n    }\n}\n\n\nI picked B\nI picked A\nI picked B\nI picked A\nI picked A\nI picked B\nI picked C\nI picked C\nI picked A\nDeleting A after being picked 5 times\nI picked B\nDeleting B after being picked 5 times\nI picked C\nI picked C\nDeleting C after being picked 5 times\n</code></pre>\n"}, {"tags": [], "owner": {"reputation": 52334, "user_id": 702638, "user_type": "registered", "accept_rate": 98, "profile_image": "https://www.gravatar.com/avatar/892f65bc0a8a0949ab88598de7d83cab?s=128&d=identicon&r=PG", "display_name": "Hunter McMillen", "link": "https://stackoverflow.com/users/702638/hunter-mcmillen"}, "is_accepted": false, "score": 1, "last_activity_date": 1437502519, "creation_date": 1437502519, "answer_id": 31546659, "question_id": 31546409, "link": "https://stackoverflow.com/questions/31546409/perl-remove-item-from-array-if-selected-a-certain-number-of-times/31546659#31546659", "title": "Perl remove item from array if selected a certain number of times", "body": "<p>You can maintain the number of times that a letter has been selected using a hash then filter out the elements that have been chosen 5 times with <a href=\"http://perldoc.perl.org/functions/grep.html\" rel=\"nofollow\"><code>grep</code></a>:</p>\n\n<pre><code>my @letters = ('A' .. 'Z');\n\nmy %seen_letters; \nwhile ( @letters ) {\n    my $pick = $letters[rand @letters];\n\n    print $pick . \"\\n\";\n    if ( ++$seen_letters{$pick} == 5 ) {\n       @letters = grep { $_ ne $pick } @letters;\n       delete $seen_letters{$pick};\n    }\n}\n</code></pre>\n"}], "owner": {"reputation": 5913, "user_id": 2893712, "user_type": "registered", "accept_rate": 90, "profile_image": "https://www.gravatar.com/avatar/ba3bea502f3cde271b0d8d9a0b957afc?s=128&d=identicon&r=PG", "display_name": "Bijan", "link": "https://stackoverflow.com/users/2893712/bijan"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 65, "favorite_count": 0, "accepted_answer_id": 31546555, "answer_count": 3, "score": 2, "last_activity_date": 1437503661, "creation_date": 1437501720, "question_id": 31546409, "link": "https://stackoverflow.com/questions/31546409/perl-remove-item-from-array-if-selected-a-certain-number-of-times", "title": "Perl remove item from array if selected a certain number of times", "body": "<p>I have an array of strings and a subroutine that randomly selects one of the items from the array and continues to do so. My problem is that I want to remove an element from the array if it has already been picked 5 times.</p>\n\n<p>Here is a simple example:</p>\n\n<pre><code>@list = ('A' .. 'Z'); #Create array composing of A-Z\n\nwhile(@list) { # While @list is not empty\n    my $pick = $list[rand @list];\n    print $pick . \"\\n\";\n    ### REMOVE $PICK FROM @LIST AFTER $PICK HAS BEEN SELECTED 5 TIMES ###\n}\n\n### WILL EXIT LOOP ONCE EACH LETTER HAS BEEN PICKED 5 TIMES ###\n</code></pre>\n"}, {"tags": ["perl", "sorting"], "answers": [{"comments": [{"owner": {"reputation": 527, "user_id": 2561579, "user_type": "registered", "accept_rate": 74, "profile_image": "https://www.gravatar.com/avatar/bbbe41b11b947fed6fe1e10a366a01e4?s=128&d=identicon&r=PG", "display_name": "EarthIsHome", "link": "https://stackoverflow.com/users/2561579/earthishome"}, "edited": false, "score": 0, "creation_date": 1437499731, "post_id": 31545491, "comment_id": 51050499, "body": "Thanks so much! I thought I was dereferencing it with <code>my @arr = @$_[0];</code>. :p"}, {"owner": {"reputation": 52334, "user_id": 702638, "user_type": "registered", "accept_rate": 98, "profile_image": "https://www.gravatar.com/avatar/892f65bc0a8a0949ab88598de7d83cab?s=128&d=identicon&r=PG", "display_name": "Hunter McMillen", "link": "https://stackoverflow.com/users/702638/hunter-mcmillen"}, "reply_to_user": {"reputation": 527, "user_id": 2561579, "user_type": "registered", "accept_rate": 74, "profile_image": "https://www.gravatar.com/avatar/bbbe41b11b947fed6fe1e10a366a01e4?s=128&d=identicon&r=PG", "display_name": "EarthIsHome", "link": "https://stackoverflow.com/users/2561579/earthishome"}, "edited": false, "score": 2, "creation_date": 1437501859, "post_id": 31545491, "comment_id": 51051748, "body": "@SinTrans It would have worked if you placed <code>$_[0]</code> in braces e.g. <code>my @arr = @{ $_[0] };</code>"}, {"owner": {"reputation": 4191, "user_id": 1466640, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/c0630f2d5ac5fb844675c58d3d2dfa57?s=128&d=identicon&r=PG&f=1", "display_name": "AKHolland", "link": "https://stackoverflow.com/users/1466640/akholland"}, "reply_to_user": {"reputation": 527, "user_id": 2561579, "user_type": "registered", "accept_rate": 74, "profile_image": "https://www.gravatar.com/avatar/bbbe41b11b947fed6fe1e10a366a01e4?s=128&d=identicon&r=PG", "display_name": "EarthIsHome", "link": "https://stackoverflow.com/users/2561579/earthishome"}, "edited": false, "score": 3, "creation_date": 1437502182, "post_id": 31545491, "comment_id": 51051924, "body": "@SinTrans A side note, you&#39;re using <code>cmp</code> (string comparison) when the data seems to be numeric. It should probably be <code>&lt;=&gt;</code> (numeric comparison) instead."}, {"owner": {"reputation": 527, "user_id": 2561579, "user_type": "registered", "accept_rate": 74, "profile_image": "https://www.gravatar.com/avatar/bbbe41b11b947fed6fe1e10a366a01e4?s=128&d=identicon&r=PG", "display_name": "EarthIsHome", "link": "https://stackoverflow.com/users/2561579/earthishome"}, "reply_to_user": {"reputation": 52334, "user_id": 702638, "user_type": "registered", "accept_rate": 98, "profile_image": "https://www.gravatar.com/avatar/892f65bc0a8a0949ab88598de7d83cab?s=128&d=identicon&r=PG", "display_name": "Hunter McMillen", "link": "https://stackoverflow.com/users/702638/hunter-mcmillen"}, "edited": false, "score": 0, "creation_date": 1437508058, "post_id": 31545491, "comment_id": 51055093, "body": "@HunterMcMillen Thanks!  @AKHolland Yes, but I believe perl managed to figure it out with <code>cmp</code> as perl usually decides ambiguous things like that. :D"}, {"owner": {"reputation": 123805, "user_id": 622310, "user_type": "registered", "accept_rate": 33, "profile_image": "https://www.gravatar.com/avatar/8b6d35219e1808520bc238b28161e2e6?s=128&d=identicon&r=PG", "display_name": "Borodin", "link": "https://stackoverflow.com/users/622310/borodin"}, "reply_to_user": {"reputation": 527, "user_id": 2561579, "user_type": "registered", "accept_rate": 74, "profile_image": "https://www.gravatar.com/avatar/bbbe41b11b947fed6fe1e10a366a01e4?s=128&d=identicon&r=PG", "display_name": "EarthIsHome", "link": "https://stackoverflow.com/users/2561579/earthishome"}, "edited": false, "score": 1, "creation_date": 1437508865, "post_id": 31545491, "comment_id": 51055589, "body": "@SinTrans: No. Numeric and string comparisons are very different. If Perl could &quot;figure it out&quot; there wouldn&#39;t be two operators"}, {"owner": {"reputation": 4191, "user_id": 1466640, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/c0630f2d5ac5fb844675c58d3d2dfa57?s=128&d=identicon&r=PG&f=1", "display_name": "AKHolland", "link": "https://stackoverflow.com/users/1466640/akholland"}, "edited": false, "score": 0, "creation_date": 1437509102, "post_id": 31545491, "comment_id": 51055732, "body": "It will seem to work until you end up with a data set like <code>[1, 2, 36, 4, 50, 6]</code>."}, {"owner": {"reputation": 527, "user_id": 2561579, "user_type": "registered", "accept_rate": 74, "profile_image": "https://www.gravatar.com/avatar/bbbe41b11b947fed6fe1e10a366a01e4?s=128&d=identicon&r=PG", "display_name": "EarthIsHome", "link": "https://stackoverflow.com/users/2561579/earthishome"}, "reply_to_user": {"reputation": 123805, "user_id": 622310, "user_type": "registered", "accept_rate": 33, "profile_image": "https://www.gravatar.com/avatar/8b6d35219e1808520bc238b28161e2e6?s=128&d=identicon&r=PG", "display_name": "Borodin", "link": "https://stackoverflow.com/users/622310/borodin"}, "edited": false, "score": 0, "creation_date": 1437574059, "post_id": 31545491, "comment_id": 51086471, "body": "@Borodin thanks for sorting everything out (pun intended) :p"}], "tags": [], "owner": {"reputation": 4191, "user_id": 1466640, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/c0630f2d5ac5fb844675c58d3d2dfa57?s=128&d=identicon&r=PG&f=1", "display_name": "AKHolland", "link": "https://stackoverflow.com/users/1466640/akholland"}, "is_accepted": true, "score": 5, "last_activity_date": 1437498762, "creation_date": 1437498762, "answer_id": 31545491, "question_id": 31545360, "link": "https://stackoverflow.com/questions/31545360/sorting-an-array-of-array-references-in-perl/31545491#31545491", "title": "Sorting an array of array references in Perl", "body": "<p>You're passing an array reference into the subroutine and then trying to use it as an array. You need to dereference it first.</p>\n\n<pre><code>sub sort_arr {\n    my ($arr) = @_;\n    my @sorted_arr = sort { $a-&gt;[1] cmp $b-&gt;[1] } @{ $arr };\n    return \\@sorted_arr;\n}\n</code></pre>\n"}], "owner": {"reputation": 527, "user_id": 2561579, "user_type": "registered", "accept_rate": 74, "profile_image": "https://www.gravatar.com/avatar/bbbe41b11b947fed6fe1e10a366a01e4?s=128&d=identicon&r=PG", "display_name": "EarthIsHome", "link": "https://stackoverflow.com/users/2561579/earthishome"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 219, "favorite_count": 0, "accepted_answer_id": 31545491, "answer_count": 1, "score": 0, "last_activity_date": 1437543557, "creation_date": 1437498352, "last_edit_date": 1495535223, "question_id": 31545360, "link": "https://stackoverflow.com/questions/31545360/sorting-an-array-of-array-references-in-perl", "title": "Sorting an array of array references in Perl", "body": "<h3>Synopsis</h3>\n\n<p>I'm trying to sort an array of array references based on the arrays' second element.</p>\n\n<p>For example, I would like to sort the following arrays, in <code>@array</code> into another, sorted array:</p>\n\n<pre><code>632.8 5\n422.1 4\n768.6 34\n</code></pre>\n\n<p>This is the end array, <code>@sorted_array</code></p>\n\n<pre><code>422.1 4\n632.8 5\n768.6 34\n</code></pre>\n\n<h3>Attempted Code</h3>\n\n<p>I came across this <a href=\"https://stackoverflow.com/questions/12590318/perl-sorting-an-array-of-references-to-arrays\">answer</a> and have modified it slightly. However, I receive an error: <code>Use of uninitialized value in print at .\\test.pl line 17</code> when I try to dereference the sorted array.</p>\n\n<pre><code>#!/bin/perl\nuse strict;\nuse warnings;\n\nmy @array = ();\nforeach my $i (0..10) {\n    push @array, [rand(1000), int(rand(100))];\n}\n\nforeach my $i (@array) {\n    print \"@$i\\n\";\n}\nprint \"================\\n\";\n\nmy $sorted_ref = sort_arr(\\@array);\nprint @$sorted_ref;\n\nsub sort_arr {\n    my @arr = @$_[0];\n    my @sorted_arr = sort { $a-&gt;[1] cmp $b-&gt;[1] } @arr;\n    return \\@sorted_arr;\n}\n</code></pre>\n"}, {"tags": ["perl", "regex-lookarounds"], "answers": [{"comments": [{"owner": {"reputation": 59411, "user_id": 8355, "user_type": "registered", "accept_rate": 80, "profile_image": "https://www.gravatar.com/avatar/8d0099a2574719d7a67eab012851bf9b?s=128&d=identicon&r=PG", "display_name": "cjm", "link": "https://stackoverflow.com/users/8355/cjm"}, "edited": false, "score": 5, "creation_date": 1437493698, "post_id": 31543325, "comment_id": 51046845, "body": "While this doesn&#39;t answer the question as posed, it is a better solution to what the OP is trying to do."}, {"owner": {"reputation": 5361, "user_id": 2112028, "user_type": "registered", "accept_rate": 35, "profile_image": "https://www.gravatar.com/avatar/6c9ad74e5d192e2207eb5008e6af8224?s=128&d=identicon&r=PG", "display_name": "Alec Teal", "link": "https://stackoverflow.com/users/2112028/alec-teal"}, "edited": false, "score": 1, "creation_date": 1437509048, "post_id": 31543325, "comment_id": 51055709, "body": "I am constantly amazed that people can read this gibberish. That top while loop - not a clue WTF it does."}, {"owner": {"reputation": 48798, "user_id": 223226, "user_type": "registered", "accept_rate": 93, "profile_image": "https://i.stack.imgur.com/iGqE4.png?s=128&g=1", "display_name": "mpapec", "link": "https://stackoverflow.com/users/223226/mpapec"}, "edited": false, "score": 0, "creation_date": 1437514113, "post_id": 31543325, "comment_id": 51058378, "body": "Luckily you&#39;re in the right place as SO users can give you answers to all kind of programming questions."}, {"owner": {"reputation": 320771, "user_id": 589924, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/b2cf53d5a3d25f95c0db4e025aed4153?s=128&d=identicon&r=PG", "display_name": "ikegami", "link": "https://stackoverflow.com/users/589924/ikegami"}, "reply_to_user": {"reputation": 5361, "user_id": 2112028, "user_type": "registered", "accept_rate": 35, "profile_image": "https://www.gravatar.com/avatar/6c9ad74e5d192e2207eb5008e6af8224?s=128&d=identicon&r=PG", "display_name": "Alec Teal", "link": "https://stackoverflow.com/users/2112028/alec-teal"}, "edited": false, "score": 2, "creation_date": 1437544356, "post_id": 31543325, "comment_id": 51067089, "body": "@Alec Teal, Chinese appears to be gibberish to someone who only knows English, but it&#39;s not, and it&#39;s rude to say it is. Rather than proudly announcing your ignorance, perhaps you should seek education? <code>&#47;...&#47;</code> matches the regex pattern within against the variable bound by the <code>=~</code> operator (<code>$data</code>, in this case). In scalar context (as it is here), it returns true if there is match. In scalar context, the <code>g</code> option causes the position at which the match ended to be saved as the starting position of the next attempt."}, {"owner": {"reputation": 173, "user_id": 2540964, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/d738d69bac7af07e70c5da4e6237ecf3?s=128&d=identicon&r=PG", "display_name": "A T - student", "link": "https://stackoverflow.com/users/2540964/a-t-student"}, "edited": false, "score": 0, "creation_date": 1574377952, "post_id": 31543325, "comment_id": 104222760, "body": "A better explanation of look-ahead assertions can be found at <a href=\"https://www.regular-expressions.info/lookaround.html\" rel=\"nofollow noreferrer\">regular-expressions.info/lookaround.html</a>"}], "tags": [], "owner": {"reputation": 110113, "user_id": 168657, "user_type": "registered", "accept_rate": 92, "profile_image": "https://www.gravatar.com/avatar/f14e7610fca39322ebbf23530def15f8?s=128&d=identicon&r=PG", "display_name": "mob", "link": "https://stackoverflow.com/users/168657/mob"}, "is_accepted": false, "score": 12, "last_activity_date": 1437504184, "last_edit_date": 1437504184, "creation_date": 1437492336, "answer_id": 31543325, "question_id": 31543223, "link": "https://stackoverflow.com/questions/31543223/how-to-rewind-next-search-start-position-by-1/31543325#31543325", "title": "How to rewind next-search start position by 1?", "body": "<p>One approach is to use a <a href=\"https://metacpan.org/pod/distribution/perl/pod/perlre.pod#Look-Around-Assertions\" rel=\"nofollow noreferrer\">look-ahead assertion</a>:</p>\n\n<pre><code>while ( $data =~ /#(\\d)(?=#)/g ) {\n  print $1, \"\\n\";\n}\n</code></pre>\n\n<p>The characters in the look-ahead assertion are not part of the matched expression and do not update <code>pos()</code> past the <code>\\d</code> part of the regular expression.</p>\n\n<p>More demos:</p>\n\n<pre><code>say \"#1#2#3#4#\" =~ /#(\\d)/g;          #  1234\nsay \"#1#2#3#4\"  =~ /#(\\d)/g;          #  1234\nsay \"#1#2#3#4#\" =~ /#(\\d)(?=#)/g;     #  1234\nsay \"#1#2#3#4\"  =~ /#(\\d)(?=#)/g;     #  123\n</code></pre>\n"}, {"tags": [], "owner": {"reputation": 48798, "user_id": 223226, "user_type": "registered", "accept_rate": 93, "profile_image": "https://i.stack.imgur.com/iGqE4.png?s=128&g=1", "display_name": "mpapec", "link": "https://stackoverflow.com/users/223226/mpapec"}, "is_accepted": true, "score": 8, "last_activity_date": 1437492351, "creation_date": 1437492351, "answer_id": 31543331, "question_id": 31543223, "link": "https://stackoverflow.com/questions/31543223/how-to-rewind-next-search-start-position-by-1/31543331#31543331", "title": "How to rewind next-search start position by 1?", "body": "<p>You're calling <code>pos()</code> on <code>$_</code>, instead of <code>$data</code></p>\n\n<p>From <a href=\"http://perldoc.perl.org/functions/pos.html\"><code>perldoc</code></a></p>\n\n<blockquote>\n  <p>Returns the offset of where the last m//g search left off for the variable in question ($_ is used when the variable is not specified)</p>\n</blockquote>\n\n<p>So,</p>\n\n<pre><code>pos($data) = pos($data) - 1;\n</code></pre>\n"}], "owner": {"reputation": 1714, "user_id": 1839508, "user_type": "registered", "accept_rate": 89, "profile_image": "https://www.gravatar.com/avatar/530d84518abcb1591e5e7cedf682097d?s=128&d=identicon&r=PG", "display_name": "n.r.", "link": "https://stackoverflow.com/users/1839508/n-r"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 525, "favorite_count": 0, "accepted_answer_id": 31543331, "answer_count": 2, "score": 8, "last_activity_date": 1437504184, "creation_date": 1437492066, "last_edit_date": 1437503056, "question_id": 31543223, "link": "https://stackoverflow.com/questions/31543223/how-to-rewind-next-search-start-position-by-1", "title": "How to rewind next-search start position by 1?", "body": "<p>How can I rewind the start of the next search position by 1?  For example, suppose I want to match all digits between <code>#</code>. The following will give me only <strong>odd</strong> numbers.</p>\n\n<pre><code>my $data=\"#1#2#3#4#\";\n\nwhile ( $data =~ /#(\\d)#/g ) {\n  print $1, \"\\n\";\n}\n</code></pre>\n\n<p>But if I could rewind the start of the next position by 1, I would get both even and odd numbers.</p>\n\n<p>This doesn't work: <code>pos() = pos() - 1;</code></p>\n\n<p>I know I can accomplish this using <code>split</code>. But this doesn't answer my question.</p>\n\n<pre><code>for (split /#/, $data) {\n  print $_, \"\\n\";\n}\n</code></pre>\n"}, {"tags": ["perl", "ssh", "mod-perl"], "answers": [{"comments": [{"owner": {"reputation": 315, "user_id": 3224680, "user_type": "registered", "accept_rate": 50, "profile_image": "https://www.gravatar.com/avatar/c38596f17c1c18bfbd13d75eaa64b733?s=128&d=identicon&r=PG&f=1", "display_name": "raj", "link": "https://stackoverflow.com/users/3224680/raj"}, "edited": false, "score": 0, "creation_date": 1437497667, "post_id": 31543785, "comment_id": 51049247, "body": "thanks for your reply. but the problem is, as I am using third party SSH module to accomplish this, so there is no -n option for me. is there any other way to stop this ?"}], "tags": [], "owner": {"reputation": 51521, "user_id": 2566198, "user_type": "registered", "accept_rate": 67, "profile_image": "https://i.stack.imgur.com/Y34ZA.jpg?s=128&g=1", "display_name": "Sobrique", "link": "https://stackoverflow.com/users/2566198/sobrique"}, "is_accepted": false, "score": 2, "last_activity_date": 1437493545, "creation_date": 1437493545, "answer_id": 31543785, "question_id": 31542862, "link": "https://stackoverflow.com/questions/31542862/unable-to-take-user-input-in-perl/31543785#31543785", "title": "unable to take user input in perl", "body": "<p>One of the classic gotchas with <code>ssh</code> is this - that it <em>normally</em> runs interactively, and as such will attach <code>STDIN</code> by default.</p>\n\n<p>This can result in <code>STDIN</code> being consumed by <code>ssh</code> rather than your script. </p>\n\n<p>Try it with <code>ssh -n</code> instead. </p>\n"}, {"tags": [], "owner": {"reputation": 59, "user_id": 5019187, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/834ece1d11606fb67c4575cc1ffdedf5?s=128&d=identicon&r=PG&f=1", "display_name": "chetangb", "link": "https://stackoverflow.com/users/5019187/chetangb"}, "is_accepted": false, "score": 1, "last_activity_date": 1437501397, "creation_date": 1437501397, "answer_id": 31546306, "question_id": 31542862, "link": "https://stackoverflow.com/questions/31542862/unable-to-take-user-input-in-perl/31546306#31546306", "title": "unable to take user input in perl", "body": "<p>As per <a href=\"https://support.ssh.com/manuals/client-user/62/sshg3.html\" rel=\"nofollow\">https://support.ssh.com/manuals/client-user/62/sshg3.html</a> there is an  option for redirecting input use <code>--dev-null (*nix) or --null (Windows)</code>.</p>\n\n<pre><code>-n, --dev-null (Unix), -n, --null (Windows)\nRedirects input from /dev/null (Unix) and from NUL (Windows).\n</code></pre>\n"}, {"tags": [], "owner": {"reputation": 391, "user_id": 5120388, "user_type": "registered", "accept_rate": 57, "profile_image": "https://www.gravatar.com/avatar/1d94e7732afe08416a8936be339d9e52?s=128&d=identicon&r=PG&f=1", "display_name": "Rajarshi", "link": "https://stackoverflow.com/users/5120388/rajarshi"}, "is_accepted": true, "score": 1, "last_activity_date": 1437578669, "creation_date": 1437578669, "answer_id": 31567473, "question_id": 31542862, "link": "https://stackoverflow.com/questions/31542862/unable-to-take-user-input-in-perl/31567473#31567473", "title": "unable to take user input in perl", "body": "<p>You can redirect the output in command prompt if -n option is not available for you.</p>\n\n<p>try this one it might work for you.</p>\n\n<pre><code>system(\"$com /&gt;null\");\n</code></pre>\n"}], "owner": {"reputation": 315, "user_id": 3224680, "user_type": "registered", "accept_rate": 50, "profile_image": "https://www.gravatar.com/avatar/c38596f17c1c18bfbd13d75eaa64b733?s=128&d=identicon&r=PG&f=1", "display_name": "raj", "link": "https://stackoverflow.com/users/3224680/raj"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 156, "favorite_count": 0, "accepted_answer_id": 31567473, "answer_count": 3, "score": 0, "last_activity_date": 1437578669, "creation_date": 1437491136, "question_id": 31542862, "link": "https://stackoverflow.com/questions/31542862/unable-to-take-user-input-in-perl", "title": "unable to take user input in perl", "body": "<p>I am having a strange issue. I have written a script which is basically running a perl script in remote server using ssh.</p>\n\n<p>This script is working fine but after completion of the above operation it will ask user to choose the next operation.</p>\n\n<p>it is showing the options in the command prompt but while I am giving any input it is not showing in the screen even after hitting enter also it remain same.</p>\n\n<p>I am not getting what is the exact issue, but it seems there is some issue with the ssh command because if I am commenting out the ssh command it is working fine.</p>\n\n<pre><code>OPERATION:\nprint \"1: run the script in remote server \\n2: Exit\\n\\nEnter your choice:\";\nmy $input=&lt;STDIN&gt;;\nchomp($input);\n..........\nsub run_script()\n{\n  my $com=\"sshg3.exe server -q --user=user --password=pass -exec script &gt;/dev/null\";\nsystem(\"$com\");\n\ngoto OPERATION;\n}\n</code></pre>\n\n<p>after completing this ssh script it is showing in screen:</p>\n\n<p>1: run remote script \n2: exit</p>\n\n<p>Enter your choice:</p>\n\n<p>but while I am giving any input it is not displaying in the screen until and unless I am exiting it using crtl C.</p>\n\n<p>Please can anyone help what might be the issue here ?</p>\n"}, {"tags": ["perl", "calendar", "julian-date"], "comments": [{"owner": {"reputation": 1253964, "user_id": 22656, "user_type": "registered", "accept_rate": 86, "profile_image": "https://www.gravatar.com/avatar/6d8ebb117e8d83d74ea95fbdd0f87e13?s=128&d=identicon&r=PG", "display_name": "Jon Skeet", "link": "https://stackoverflow.com/users/22656/jon-skeet"}, "edited": false, "score": 1, "creation_date": 1437491200, "post_id": 31542821, "comment_id": 51044930, "body": "That&#39;s not a Julian date format in the normal sense as far as I&#39;m aware - normally &quot;Julian date format&quot; is just a day number, not a day within a specific year. Perhaps you mean a JDE Julian Date? (<a href=\"http://stackoverflow.com/questions/1171208\">stackoverflow.com/questions/1171208</a>)"}, {"owner": {"reputation": 13, "user_id": 4080102, "user_type": "registered", "profile_image": "https://graph.facebook.com/100000000108938/picture?type=large", "display_name": "Manuel de Oca", "link": "https://stackoverflow.com/users/4080102/manuel-de-oca"}, "edited": false, "score": 0, "creation_date": 1437491401, "post_id": 31542821, "comment_id": 51045082, "body": "yes. you are correct."}, {"owner": {"reputation": 13, "user_id": 4080102, "user_type": "registered", "profile_image": "https://graph.facebook.com/100000000108938/picture?type=large", "display_name": "Manuel de Oca", "link": "https://stackoverflow.com/users/4080102/manuel-de-oca"}, "edited": false, "score": 0, "creation_date": 1437494893, "post_id": 31542821, "comment_id": 51047635, "body": "Simbabque. no boss asked me to write a small script to the do that in perl and i have no experience in perl."}, {"owner": {"reputation": 320771, "user_id": 589924, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/b2cf53d5a3d25f95c0db4e025aed4153?s=128&d=identicon&r=PG", "display_name": "ikegami", "link": "https://stackoverflow.com/users/589924/ikegami"}, "edited": false, "score": 2, "creation_date": 1437495822, "post_id": 31542821, "comment_id": 51048178, "body": "Why do you want us to copy a module here?"}], "answers": [{"comments": [{"owner": {"reputation": 13, "user_id": 4080102, "user_type": "registered", "profile_image": "https://graph.facebook.com/100000000108938/picture?type=large", "display_name": "Manuel de Oca", "link": "https://stackoverflow.com/users/4080102/manuel-de-oca"}, "edited": false, "score": 0, "creation_date": 1437495138, "post_id": 31544087, "comment_id": 51047769, "body": "Thanks for this Dave Cross, i dont have a problem doing the comparison or search. i just need guidence or help converting from YYYYMMDD to YYYYJJJ.  example: Input : 20150101 convert to : 2015001"}, {"owner": {"reputation": 13, "user_id": 4080102, "user_type": "registered", "profile_image": "https://graph.facebook.com/100000000108938/picture?type=large", "display_name": "Manuel de Oca", "link": "https://stackoverflow.com/users/4080102/manuel-de-oca"}, "edited": false, "score": 0, "creation_date": 1437497962, "post_id": 31544087, "comment_id": 51049437, "body": "thanks again, but i dont have access to any modules, just need to convert it doing simple math."}, {"owner": {"reputation": 62184, "user_id": 7231, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/81b76985f3985e35492e25880493d045?s=128&d=identicon&r=PG", "display_name": "Dave Cross", "link": "https://stackoverflow.com/users/7231/dave-cross"}, "reply_to_user": {"reputation": 13, "user_id": 4080102, "user_type": "registered", "profile_image": "https://graph.facebook.com/100000000108938/picture?type=large", "display_name": "Manuel de Oca", "link": "https://stackoverflow.com/users/4080102/manuel-de-oca"}, "edited": false, "score": 2, "creation_date": 1437499208, "post_id": 31544087, "comment_id": 51050211, "body": "Time:: Piece is a core module. You&#39;ll have access to that."}, {"owner": {"reputation": 21782, "user_id": 176646, "user_type": "registered", "accept_rate": 88, "profile_image": "https://i.stack.imgur.com/HsQyV.png?s=128&g=1", "display_name": "ThisSuitIsBlackNot", "link": "https://stackoverflow.com/users/176646/thissuitisblacknot"}, "reply_to_user": {"reputation": 13, "user_id": 4080102, "user_type": "registered", "profile_image": "https://graph.facebook.com/100000000108938/picture?type=large", "display_name": "Manuel de Oca", "link": "https://stackoverflow.com/users/4080102/manuel-de-oca"}, "edited": false, "score": 1, "creation_date": 1437500340, "post_id": 31544087, "comment_id": 51050824, "body": "@ManueldeOca &quot;20150101 convert to : 2015001&quot; That&#39;s not the J.D. Edwards Julian date format. JDE format for January 1, 2015 would be <code>1000 * (2015 - 1900) + 1</code>, or <code>115001</code>. Please edit your question to clarify, since you said in a comment that you were using JDE format."}], "tags": [], "owner": {"reputation": 62184, "user_id": 7231, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/81b76985f3985e35492e25880493d045?s=128&d=identicon&r=PG", "display_name": "Dave Cross", "link": "https://stackoverflow.com/users/7231/dave-cross"}, "is_accepted": true, "score": 1, "last_activity_date": 1437495739, "last_edit_date": 1437495739, "creation_date": 1437494497, "answer_id": 31544087, "question_id": 31542821, "link": "https://stackoverflow.com/questions/31542821/how-to-convert-from-a-calendar-date-to-an-ordinal-date-with-out-any-modules/31544087#31544087", "title": "how to convert from a calendar date to an ordinal date with out any modules", "body": "<p>The fact that these number are date/time values makes no difference. They are integers (albeit rather large ones) and they can be compared in exactly the same way as any other integer.</p>\n\n<pre><code>while (&lt;$your_input_filehandle&gt;) {\n  # I have no idea of the format of your input data, so I can't\n  # begin to implement extract_timestamp()\n  my $this_records_timestamp = extract_timestamp($_);\n\n  if ($this_records_timestamp &gt;= $min_timestamp and\n      $this_records_timestamp &lt;= $max_timestamp) {\n    # timestamp is within the given range\n  }\n}\n</code></pre>\n\n<p><strong>Update:</strong> To convert YYYYMMDD to YYYYJJ</p>\n\n<pre><code>#!/usr/bin/perl\n\nuse strict;\nuse warnings;\nuse 5.010;\n\nuse Time::Piece;\n\nmy $in_format  = '%Y%m%d';\nmy $out_format = '%Y%j';\n\nmy $in_date = shift\n  || die \"Please pass date in format YYYYMMDD\\n\";\n\nmy $date = Time::Piece-&gt;strptime($in_date, $in_format);\n\nsay $date-&gt;strftime($out_format);\n</code></pre>\n"}, {"tags": [], "owner": {"reputation": 25491, "user_id": 49197, "user_type": "registered", "accept_rate": 75, "profile_image": "https://www.gravatar.com/avatar/15ebf24a33a29b9efbf9924f530dd736?s=128&d=identicon&r=PG", "display_name": "Hynek -Pichi- Vychodil", "link": "https://stackoverflow.com/users/49197/hynek-pichi-vychodil"}, "is_accepted": false, "score": -1, "last_activity_date": 1437509145, "last_edit_date": 1437509145, "creation_date": 1437498645, "answer_id": 31545446, "question_id": 31542821, "link": "https://stackoverflow.com/questions/31542821/how-to-convert-from-a-calendar-date-to-an-ordinal-date-with-out-any-modules/31545446#31545446", "title": "how to convert from a calendar date to an ordinal date with out any modules", "body": "<p>You should have access at least to core modules as <code>POSIX</code>:</p>\n\n\n\n<pre class=\"lang-none prettyprint-override\"><code>perl -MPOSIX=mktime -pe'@F=/(\\d{4})(\\d\\d)(\\d\\d)(\\d\\d)(\\d\\d)(\\d\\d)/;$j=sprintf\"%03d\",1+(localtime(mktime(@F[5,4,3,2],$F[1]-1,$F[0]-1900)))[7];s/.{4}\\K.{4}/$j/;'\n</code></pre>\n\n<p>or with <code>Time::Piece</code></p>\n\n<pre class=\"lang-none prettyprint-override\"><code>perl -MTime::Piece -ne'print Time::Piece-&gt;strptime($_,\"%Y%m%d%H%M%S\\n\")-&gt;strftime(\"%Y%j%H%M%S\\n\")'\n</code></pre>\n"}], "owner": {"reputation": 13, "user_id": 4080102, "user_type": "registered", "profile_image": "https://graph.facebook.com/100000000108938/picture?type=large", "display_name": "Manuel de Oca", "link": "https://stackoverflow.com/users/4080102/manuel-de-oca"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 517, "favorite_count": 0, "accepted_answer_id": 31544087, "answer_count": 2, "score": 0, "last_activity_date": 1437543807, "creation_date": 1437491030, "last_edit_date": 1495539885, "question_id": 31542821, "link": "https://stackoverflow.com/questions/31542821/how-to-convert-from-a-calendar-date-to-an-ordinal-date-with-out-any-modules", "title": "how to convert from a calendar date to an ordinal date with out any modules", "body": "<p>I need to search for a time range in a log file. The time stamps are in <a href=\"https://stackoverflow.com/questions/1171208/what-is-the-precise-definition-of-jdes-julian-date-format\">JDE Julian date format</a> and I cannot use modules.</p>\n\n<p>The date format is <code>YYYYJJJHHMMSS</code> where <code>JJJ</code> is the days in Julian.</p>\n\n<p>I need to convert the user input in JDE with out using a module.</p>\n"}, {"tags": ["perl", "datetime"], "answers": [{"comments": [{"owner": {"reputation": 701, "user_id": 2007843, "user_type": "registered", "accept_rate": 91, "profile_image": "https://www.gravatar.com/avatar/eb1e32c61d2047d1b4e8c3cdac6d9cb4?s=128&d=identicon&r=PG", "display_name": "user2007843", "link": "https://stackoverflow.com/users/2007843/user2007843"}, "edited": false, "score": 0, "creation_date": 1437489868, "post_id": 31541845, "comment_id": 51043841, "body": "One other quick question. I want to add a check if the start date is at a later date than the end date. Can&#39;t I just say <code>if (start_epoch &gt; end_epoch)</code>"}, {"owner": {"reputation": 51521, "user_id": 2566198, "user_type": "registered", "accept_rate": 67, "profile_image": "https://i.stack.imgur.com/Y34ZA.jpg?s=128&g=1", "display_name": "Sobrique", "link": "https://stackoverflow.com/users/2566198/sobrique"}, "reply_to_user": {"reputation": 701, "user_id": 2007843, "user_type": "registered", "accept_rate": 91, "profile_image": "https://www.gravatar.com/avatar/eb1e32c61d2047d1b4e8c3cdac6d9cb4?s=128&d=identicon&r=PG", "display_name": "user2007843", "link": "https://stackoverflow.com/users/2007843/user2007843"}, "edited": false, "score": 2, "creation_date": 1437490008, "post_id": 31541845, "comment_id": 51043945, "body": "In that case, you don&#39;t need to compare the <code>epoch</code> values at all. E.g.: <code>print &quot;Earlier than now&quot; if $parsed &lt; DateTime-&gt;now;</code> - you can compare the <code>DateTime</code> objects directly."}], "tags": [], "owner": {"reputation": 51521, "user_id": 2566198, "user_type": "registered", "accept_rate": 67, "profile_image": "https://i.stack.imgur.com/Y34ZA.jpg?s=128&g=1", "display_name": "Sobrique", "link": "https://stackoverflow.com/users/2566198/sobrique"}, "is_accepted": true, "score": 3, "last_activity_date": 1437489231, "last_edit_date": 1437489231, "creation_date": 1437488730, "answer_id": 31541845, "question_id": 31541773, "link": "https://stackoverflow.com/questions/31541773/check-if-date-is-valid/31541845#31541845", "title": "check if date is valid", "body": "<p>If the date is invalid, then the parser will return <code>undef</code>. You will see this quite quickly if you do:</p>\n\n<pre><code>my $start_date = \"Feb 30\";\nmy $year = DateTime-&gt;now-&gt;year;                                          # adds a year to the date\nmy $date_parser = DateTime::Format::Strptime-&gt;new(pattern =&gt; '%Y %B %d', # YYYY Month DD\n);\nmy $start_epoch = $date_parser-&gt;parse_datetime(\"$year $start_date\")-&gt;epoch(); \n</code></pre>\n\n<p>The solution:</p>\n\n<pre><code>my $parsed =  $date_parser-&gt;parse_datetime(\"$year $start_date\");\nif ( not defined $parsed ) { print \"Error - invalid date\\n\"; }\n</code></pre>\n"}, {"comments": [{"owner": {"reputation": 1101, "user_id": 5015957, "user_type": "registered", "accept_rate": 75, "profile_image": "https://www.gravatar.com/avatar/d1e5002dacf9002752eaa9d37ad13de8?s=128&d=identicon&r=PG&f=1", "display_name": "Huang Chen", "link": "https://stackoverflow.com/users/5015957/huang-chen"}, "reply_to_user": {"reputation": 81653, "user_id": 168175, "user_type": "moderator", "accept_rate": 88, "profile_image": "https://i.stack.imgur.com/qxeUf.jpg?s=128&g=1", "display_name": "Flexo", "link": "https://stackoverflow.com/users/168175/flexo"}, "edited": false, "score": 0, "creation_date": 1437498646, "post_id": 31542020, "comment_id": 51049845, "body": "thanks, didn&#39;t really know how to do it, thought I had the hyperlink originally @Flexo"}], "tags": [], "owner": {"reputation": 1101, "user_id": 5015957, "user_type": "registered", "accept_rate": 75, "profile_image": "https://www.gravatar.com/avatar/d1e5002dacf9002752eaa9d37ad13de8?s=128&d=identicon&r=PG&f=1", "display_name": "Huang Chen", "link": "https://stackoverflow.com/users/5015957/huang-chen"}, "is_accepted": false, "score": 0, "last_activity_date": 1437498192, "last_edit_date": 1437498192, "creation_date": 1437489158, "answer_id": 31542020, "question_id": 31541773, "link": "https://stackoverflow.com/questions/31541773/check-if-date-is-valid/31542020#31542020", "title": "check if date is valid", "body": "<p>From <a href=\"http://www.perlmonks.org/?node_id=564594\" rel=\"nofollow\">perlmonks</a>:</p>\n\n<blockquote>\n<pre><code>use Time::Local;\nmy $date = ' 19990230'; # 30th Feb 1999\n$date =~ s/\\s+$//;\n$date =~ s/^\\s*//;\nmy ($year, $month, $day) = unpack \"A4 A2 A2\", $date;\neval{ \n    timelocal(0,0,0,$day, $month-1, $year); # dies in case of bad date\n+ \n    1;\n} or print \"Bad date: $@\";\n</code></pre>\n</blockquote>\n\n<p>This should do you justice</p>\n"}], "owner": {"reputation": 701, "user_id": 2007843, "user_type": "registered", "accept_rate": 91, "profile_image": "https://www.gravatar.com/avatar/eb1e32c61d2047d1b4e8c3cdac6d9cb4?s=128&d=identicon&r=PG", "display_name": "user2007843", "link": "https://stackoverflow.com/users/2007843/user2007843"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 1258, "favorite_count": 0, "accepted_answer_id": 31541845, "answer_count": 2, "score": 0, "last_activity_date": 1437498192, "creation_date": 1437488530, "last_edit_date": 1437489647, "question_id": 31541773, "link": "https://stackoverflow.com/questions/31541773/check-if-date-is-valid", "title": "check if date is valid", "body": "<p>In my program I have the user input a date in the format of \"Month Day\" (example May 25) and I want to be able to print an error message if it is an invalid date (example February 30). </p>\n\n<p>So here's some code</p>\n\n<pre><code>$start_date = ARGV[0];\nmy $year = DateTime-&gt;now-&gt;year;                                          # adds a year to the date\nmy $date_parser = DateTime::Format::Strptime-&gt;new(pattern =&gt; '%Y %B %d', # YYYY Month DD\n);\nmy $start_epoch = $date_parser-&gt;parse_datetime(\"$year $start_date\")-&gt;epoch();   \n</code></pre>\n\n<p>Right after this I need some kind of if statement right?</p>\n"}, {"tags": ["perl", "shell", "email"], "comments": [{"owner": {"reputation": 198290, "user_id": 1030675, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/957956ce51706d03f19a4dc85a767bb1?s=128&d=identicon&r=PG", "display_name": "choroba", "link": "https://stackoverflow.com/users/1030675/choroba"}, "edited": false, "score": 0, "creation_date": 1437487477, "post_id": 31541336, "comment_id": 51041844, "body": "How do you send the email? What library do you use?"}, {"owner": {"reputation": 1019, "user_id": 2730331, "user_type": "registered", "accept_rate": 78, "profile_image": "https://www.gravatar.com/avatar/ff73fdc2c4b7f1600823fb392a0ff36b?s=128&d=identicon&r=PG", "display_name": "user081608", "link": "https://stackoverflow.com/users/2730331/user081608"}, "reply_to_user": {"reputation": 198290, "user_id": 1030675, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/957956ce51706d03f19a4dc85a767bb1?s=128&d=identicon&r=PG", "display_name": "choroba", "link": "https://stackoverflow.com/users/1030675/choroba"}, "edited": false, "score": 1, "creation_date": 1437487591, "post_id": 31541336, "comment_id": 51041957, "body": "I use mailx to send them"}, {"owner": {"reputation": 51521, "user_id": 2566198, "user_type": "registered", "accept_rate": 67, "profile_image": "https://i.stack.imgur.com/Y34ZA.jpg?s=128&g=1", "display_name": "Sobrique", "link": "https://stackoverflow.com/users/2566198/sobrique"}, "edited": false, "score": 0, "creation_date": 1437487744, "post_id": 31541336, "comment_id": 51042089, "body": "Well, you can &#39;specify&#39; the email via <code>my $to = q{o&#39;connell@website.com};</code> - there&#39;s no guarantee the mailserver will accept it though."}, {"owner": {"reputation": 1019, "user_id": 2730331, "user_type": "registered", "accept_rate": 78, "profile_image": "https://www.gravatar.com/avatar/ff73fdc2c4b7f1600823fb392a0ff36b?s=128&d=identicon&r=PG", "display_name": "user081608", "link": "https://stackoverflow.com/users/2730331/user081608"}, "edited": false, "score": 0, "creation_date": 1437487807, "post_id": 31541336, "comment_id": 51042140, "body": "Interesting. What does the q mean?"}, {"owner": {"reputation": 9961, "user_id": 2139766, "user_type": "registered", "accept_rate": 100, "profile_image": "https://i.stack.imgur.com/b3qcA.png?s=128&g=1", "display_name": "AnFi", "link": "https://stackoverflow.com/users/2139766/anfi"}, "edited": false, "score": 1, "creation_date": 1437487833, "post_id": 31541336, "comment_id": 51042165, "body": "@user081608 Could you post the error message you receive?  It is important which part of email delivery pipeline rejects the address."}, {"owner": {"reputation": 198290, "user_id": 1030675, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/957956ce51706d03f19a4dc85a767bb1?s=128&d=identicon&r=PG", "display_name": "choroba", "link": "https://stackoverflow.com/users/1030675/choroba"}, "edited": false, "score": 1, "creation_date": 1437487862, "post_id": 31541336, "comment_id": 51042193, "body": "<code>mailx</code>? You mean you call <code>system</code> or backticks?"}, {"owner": {"reputation": 1019, "user_id": 2730331, "user_type": "registered", "accept_rate": 78, "profile_image": "https://www.gravatar.com/avatar/ff73fdc2c4b7f1600823fb392a0ff36b?s=128&d=identicon&r=PG", "display_name": "user081608", "link": "https://stackoverflow.com/users/2730331/user081608"}, "edited": false, "score": 0, "creation_date": 1437487923, "post_id": 31541336, "comment_id": 51042249, "body": "I am actually not getting an error message from the error checking i have set up. Thats what is confusing me. I can send an email to everyone else besides someone with an apostrophe in it. I will post the mailx line in the top that i send the email with."}, {"owner": {"reputation": 35069, "user_id": 1324, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/883238a436c061eaf848af87b8fda561?s=128&d=identicon&r=PG", "display_name": "Paul Roub", "link": "https://stackoverflow.com/users/1324/paul-roub"}, "edited": false, "score": 2, "creation_date": 1437488123, "post_id": 31541336, "comment_id": 51042414, "body": "The problem&#39;s not the Perl string - it&#39;s getting it escaped properly for your shell, since you&#39;re piping into it via <code>system</code>. Take a look at: <a href=\"http://stackoverflow.com/questions/6306386/how-can-i-escape-an-arbitrary-string-for-use-as-a-command-line-argument-in-bash\" title=\"how can i escape an arbitrary string for use as a command line argument in bash\">stackoverflow.com/questions/6306386/&hellip;</a>"}, {"owner": {"reputation": 4071, "user_id": 3806046, "user_type": "registered", "accept_rate": 90, "profile_image": "https://www.gravatar.com/avatar/5fedf50ce7cd2659bca902e9a2969158?s=128&d=identicon&r=PG&f=1", "display_name": "jkeuhlen", "link": "https://stackoverflow.com/users/3806046/jkeuhlen"}, "reply_to_user": {"reputation": 51521, "user_id": 2566198, "user_type": "registered", "accept_rate": 67, "profile_image": "https://i.stack.imgur.com/Y34ZA.jpg?s=128&g=1", "display_name": "Sobrique", "link": "https://stackoverflow.com/users/2566198/sobrique"}, "edited": false, "score": 0, "creation_date": 1437488432, "post_id": 31541336, "comment_id": 51042664, "body": "@Sobrique shouldn&#39;t that be <code>qw</code>?"}, {"owner": {"reputation": 18565, "user_id": 10593, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/b3eeb7653c4df9b0f1332b9b0ec201ec?s=128&d=identicon&r=PG", "display_name": "Max Lybbert", "link": "https://stackoverflow.com/users/10593/max-lybbert"}, "edited": false, "score": 0, "creation_date": 1437488609, "post_id": 31541336, "comment_id": 51042808, "body": "You&#39;ve shown the value you put in a variable.  Please show what you do with that variable (e.g., <b>how</b> you pass it to mailx) to send the email.  &quot;I am actually not getting an error message from the error checking i have set up&quot; doesn&#39;t mean a lot if we don&#39;t see the error checking you have set up."}, {"owner": {"reputation": 51521, "user_id": 2566198, "user_type": "registered", "accept_rate": 67, "profile_image": "https://i.stack.imgur.com/Y34ZA.jpg?s=128&g=1", "display_name": "Sobrique", "link": "https://stackoverflow.com/users/2566198/sobrique"}, "edited": false, "score": 0, "creation_date": 1437488634, "post_id": 31541336, "comment_id": 51042831, "body": "No. I meant what I said. <code>q{}</code> is a quote operator <i>like</i> <code>qw</code> but it&#39;s not the same. It&#39;s comparable to single quotes <code>&#39;</code>."}, {"owner": {"reputation": 1019, "user_id": 2730331, "user_type": "registered", "accept_rate": 78, "profile_image": "https://www.gravatar.com/avatar/ff73fdc2c4b7f1600823fb392a0ff36b?s=128&d=identicon&r=PG", "display_name": "user081608", "link": "https://stackoverflow.com/users/2730331/user081608"}, "reply_to_user": {"reputation": 18565, "user_id": 10593, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/b3eeb7653c4df9b0f1332b9b0ec201ec?s=128&d=identicon&r=PG", "display_name": "Max Lybbert", "link": "https://stackoverflow.com/users/10593/max-lybbert"}, "edited": false, "score": 0, "creation_date": 1437488961, "post_id": 31541336, "comment_id": 51043109, "body": "@MaxLybbert I posted above the system call I use to send the mail."}], "answers": [{"comments": [{"owner": {"reputation": 1019, "user_id": 2730331, "user_type": "registered", "accept_rate": 78, "profile_image": "https://www.gravatar.com/avatar/ff73fdc2c4b7f1600823fb392a0ff36b?s=128&d=identicon&r=PG", "display_name": "user081608", "link": "https://stackoverflow.com/users/2730331/user081608"}, "edited": false, "score": 0, "creation_date": 1437488584, "post_id": 31541760, "comment_id": 51042784, "body": "Interesting I did not think about that. So would I just set $to = &quot;o&#39;connell@website.com&quot; with that format in system?"}, {"owner": {"reputation": 1019, "user_id": 2730331, "user_type": "registered", "accept_rate": 78, "profile_image": "https://www.gravatar.com/avatar/ff73fdc2c4b7f1600823fb392a0ff36b?s=128&d=identicon&r=PG", "display_name": "user081608", "link": "https://stackoverflow.com/users/2730331/user081608"}, "edited": false, "score": 0, "creation_date": 1437488911, "post_id": 31541760, "comment_id": 51043076, "body": "The first system call you used fixed the issue but the second one did not work correctly. Should that be a single q?"}, {"owner": {"reputation": 21782, "user_id": 176646, "user_type": "registered", "accept_rate": 88, "profile_image": "https://i.stack.imgur.com/HsQyV.png?s=128&g=1", "display_name": "ThisSuitIsBlackNot", "link": "https://stackoverflow.com/users/176646/thissuitisblacknot"}, "reply_to_user": {"reputation": 1019, "user_id": 2730331, "user_type": "registered", "accept_rate": 78, "profile_image": "https://www.gravatar.com/avatar/ff73fdc2c4b7f1600823fb392a0ff36b?s=128&d=identicon&r=PG", "display_name": "user081608", "link": "https://stackoverflow.com/users/2730331/user081608"}, "edited": false, "score": 0, "creation_date": 1437489109, "post_id": 31541760, "comment_id": 51043210, "body": "@user081608 If you do <code>$to = &quot;o&#39;connell@website.com&quot;;</code> with double quotes and you&#39;re not using strict, <code>@website</code> will be interpolated as an (empty) array, so you&#39;re actually setting the value of <code>$to</code> to <code>o&#39;connell.com</code>. Use <code>$to = q{o&#39;connell@website.com};</code> instead (and always <code>use strict; use warnings;</code>)."}, {"owner": {"reputation": 21782, "user_id": 176646, "user_type": "registered", "accept_rate": 88, "profile_image": "https://i.stack.imgur.com/HsQyV.png?s=128&g=1", "display_name": "ThisSuitIsBlackNot", "link": "https://stackoverflow.com/users/176646/thissuitisblacknot"}, "reply_to_user": {"reputation": 1019, "user_id": 2730331, "user_type": "registered", "accept_rate": 78, "profile_image": "https://www.gravatar.com/avatar/ff73fdc2c4b7f1600823fb392a0ff36b?s=128&d=identicon&r=PG", "display_name": "user081608", "link": "https://stackoverflow.com/users/2730331/user081608"}, "edited": false, "score": 2, "creation_date": 1437490415, "post_id": 31541760, "comment_id": 51044262, "body": "@user081608 No, it should be <code>qq</code>, and both of those snippets should do exactly the same thing. <code>qq</code> interpolates variables while <code>q</code> doesn&#39;t. See the section on <a href=\"http://perldoc.perl.org/perlop.html#Quote-Like-Operators\" rel=\"nofollow noreferrer\">quote-like operators</a> in <code>perldoc perlop</code>."}, {"owner": {"reputation": 320771, "user_id": 589924, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/b2cf53d5a3d25f95c0db4e025aed4153?s=128&d=identicon&r=PG", "display_name": "ikegami", "link": "https://stackoverflow.com/users/589924/ikegami"}, "edited": false, "score": 1, "creation_date": 1437512438, "post_id": 31541760, "comment_id": 51057566, "body": "That&#39;s still no good. An email address can legitimately contain <code>&quot;</code>."}], "tags": [], "owner": {"reputation": 198290, "user_id": 1030675, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/957956ce51706d03f19a4dc85a767bb1?s=128&d=identicon&r=PG", "display_name": "choroba", "link": "https://stackoverflow.com/users/1030675/choroba"}, "is_accepted": true, "score": 5, "last_activity_date": 1437488658, "last_edit_date": 1437488658, "creation_date": 1437488492, "answer_id": 31541760, "question_id": 31541336, "link": "https://stackoverflow.com/questions/31541336/send-an-email-in-perl-to-someone-with-apostrophe-in-the-address/31541760#31541760", "title": "Send an email in Perl to someone with apostrophe in the address", "body": "<p>That's not a Perl problem, it's a shell problem. You have to escape the values properly:</p>\n\n<pre><code>system(\"echo $message | mailx -s $subject \\\"$to\\\" \");\n</code></pre>\n\n<p>or, more readable:</p>\n\n<pre><code>system qq(echo $message | mailx -s $subject \"$to\");\n</code></pre>\n\n<p>I'd escape the subject, too, and you should be very careful about $message, as well - what if it contained</p>\n\n<pre><code>; rm -rf /\n</code></pre>\n\n<p>See <a href=\"http://p3rl.org/Task::Kensho::Email\">Task::Kensho::Email</a> on how to send email from Perl directly.</p>\n"}, {"tags": [], "owner": {"reputation": 9961, "user_id": 2139766, "user_type": "registered", "accept_rate": 100, "profile_image": "https://i.stack.imgur.com/b3qcA.png?s=128&g=1", "display_name": "AnFi", "link": "https://stackoverflow.com/users/2139766/anfi"}, "is_accepted": false, "score": 3, "last_activity_date": 1437498706, "last_edit_date": 1437498706, "creation_date": 1437490166, "answer_id": 31542447, "question_id": 31541336, "link": "https://stackoverflow.com/questions/31541336/send-an-email-in-perl-to-someone-with-apostrophe-in-the-address/31542447#31542447", "title": "Send an email in Perl to someone with apostrophe in the address", "body": "<p>You may make perl execute mailx directly without shell \"in between\".<br>\n[ Take a look at simpler implementation in <a href=\"https://stackoverflow.com/a/31542950/2139766\">wdebeaum answer</a> ]</p>\n\n<pre><code>$message=\"message\\n\";\n$to='$to = 'o\\'connell\\@website.com';\n$subject= \"x's \" . time(); # string with apostrophe and time mark for testing\n</code></pre>\n\n<p># separator to make stackoverflow syntax coloring work after confusion above</p>\n\n<pre><code>if( my $child_pid = open(my $TO_KID,   \"|-\")) {\n   # I am the parent:\n   print $TO_KID $message;\n   close($TO_KID);\n   waitpid $child_pid, 0;\n} elsif(defined($child_pid)) {\n   # I am the child; use STDIN/STDOUT normally\n   exec 'mailx','-s',$subject,$to;\n   die \"couldn't exec mailx: $!\";\n}else{\n   # $child_pid is undefined - fork (in open) failed\n   die \"can't fork: $!\";\n}\n</code></pre>\n"}, {"tags": [], "owner": {"reputation": 3801, "user_id": 183250, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/5c8b5c78d7e5b81cf3798d5b4dd549b4?s=128&d=identicon&r=PG", "display_name": "wdebeaum", "link": "https://stackoverflow.com/users/183250/wdebeaum"}, "is_accepted": false, "score": 3, "last_activity_date": 1437491371, "creation_date": 1437491371, "answer_id": 31542950, "question_id": 31541336, "link": "https://stackoverflow.com/questions/31541336/send-an-email-in-perl-to-someone-with-apostrophe-in-the-address/31542950#31542950", "title": "Send an email in Perl to someone with apostrophe in the address", "body": "<p>Like Andrzej, I'd say avoid using the shell. But there's a simpler way to accomplish that:</p>\n\n<pre><code>open(FH, \"|-\", \"mailx\", \"-s\", $subject, $to) or die \"Can't mailx: $!\";\nprint FH $message;\nclose(FH);\n</code></pre>\n\n<p>If you give the command and its arguments to open with the \"|-\" mode, <code>open</code> and <code>close</code> will handle the <code>exec</code>ing and <code>waitpid</code>ing for you.</p>\n\n<p>From <code>perldoc -f open</code>:</p>\n\n<blockquote>\n<pre><code>         The following blocks are more or less equivalent:\n\n            open(FOO, \"|tr '[a-z]' '[A-Z]'\");\n            open(FOO, \"|-\", \"tr '[a-z]' '[A-Z]'\");\n            open(FOO, \"|-\") || exec 'tr', '[a-z]', '[A-Z]';\n            open(FOO, \"|-\", \"tr\", '[a-z]', '[A-Z]');\n\n            open(FOO, \"cat -n '$file'|\");\n            open(FOO, \"-|\", \"cat -n '$file'\");\n            open(FOO, \"-|\") || exec \"cat\", \"-n\", $file;\n            open(FOO, \"-|\", \"cat\", \"-n\", $file);\n\n        The last two examples in each block show the pipe as \"list form\",\n        which is not yet supported on all platforms. A good rule of thumb\n        is that if your platform has a real \"fork()\" (in other words, if\n        your platform is Unix, including Linux and MacOS X), you can use\n        the list form. You would want to use the list form of the pipe so\n        you can pass literal arguments to the command without risk of the\n        shell interpreting any shell metacharacters in them. However, this\n        also bars you from opening pipes to commands that intentionally\n        contain shell metacharacters, such as:\n\n            open(FOO, \"|cat -n | expand -4 | lpr\")\n                // die \"Can't open pipeline to lpr: $!\";\n\n        See \"Safe Pipe Opens\" in perlipc for more examples of this.\n</code></pre>\n</blockquote>\n\n<p>...</p>\n\n<blockquote>\n<pre><code>        Closing any piped filehandle causes the parent process to wait for\n        the child to finish, then returns the status value in $? and\n        \"${^CHILD_ERROR_NATIVE}\".\n</code></pre>\n</blockquote>\n"}, {"tags": [], "owner": {"reputation": 320771, "user_id": 589924, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/b2cf53d5a3d25f95c0db4e025aed4153?s=128&d=identicon&r=PG", "display_name": "ikegami", "link": "https://stackoverflow.com/users/589924/ikegami"}, "is_accepted": false, "score": 2, "last_activity_date": 1437512528, "creation_date": 1437512528, "answer_id": 31549551, "question_id": 31541336, "link": "https://stackoverflow.com/questions/31541336/send-an-email-in-perl-to-someone-with-apostrophe-in-the-address/31549551#31549551", "title": "Send an email in Perl to someone with apostrophe in the address", "body": "<p>You are improperly building the shell command. Use the following:</p>\n\n<pre><code>use String::ShellQuote qw( shell_quote );\n\nmy $cmd1 = shell_quote('echo', $message);\nmy $cmd2 = shell_quote('mailx', '-s', $subject, $to);\nsystem(\"$cmd1 | $cmd2\");\n</code></pre>\n\n<p>But you can avoid using <code>echo</code> and involving a shell by using the following:</p>\n\n<pre><code>open(my $pipe, \"|-\", \"mailx\", \"-s\", $subject, $to)\n   or die(\"Can't execute mailx: $!\\n\");\nprint($pipe $message);\nclose($pipe);\n</code></pre>\n\n<p>Even better would be to use a module designed to help you send emails.</p>\n"}], "owner": {"reputation": 1019, "user_id": 2730331, "user_type": "registered", "accept_rate": 78, "profile_image": "https://www.gravatar.com/avatar/ff73fdc2c4b7f1600823fb392a0ff36b?s=128&d=identicon&r=PG", "display_name": "user081608", "link": "https://stackoverflow.com/users/2730331/user081608"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 297, "favorite_count": 0, "accepted_answer_id": 31541760, "answer_count": 4, "score": 1, "last_activity_date": 1437512813, "creation_date": 1437487383, "last_edit_date": 1437512813, "question_id": 31541336, "link": "https://stackoverflow.com/questions/31541336/send-an-email-in-perl-to-someone-with-apostrophe-in-the-address", "title": "Send an email in Perl to someone with apostrophe in the address", "body": "<p>I am currently trying to write an email in Perl to a user who has an apostrophe in it and can not figure out how to get it to send. Here is what the line looks like:</p>\n\n<pre><code>$to = \"o'connell\\@website.com\";\n</code></pre>\n\n<p>Here is the line I use to send the email:</p>\n\n<pre><code>system(\"echo $message | mailx -s $subject $to \");\n</code></pre>\n\n<p>This is an example email of <code>o'connell@website.com</code>. It will not send it because of the apostrophe. I have tried the following and it hasn't worked. I am using <code>mailx</code> to send the email </p>\n\n<pre><code>$to = \"o'connell\\@website.com\";\n$to = \"o''connell\\@website.com\";\n$to = \"o\"'\"connell\\@website.com\";\n</code></pre>\n\n<p>None of these worked. I can send an email to somebody who doesn't have it in their email though. Any suggestions?</p>\n"}, {"tags": ["perl"], "answers": [{"comments": [{"owner": {"reputation": 110113, "user_id": 168657, "user_type": "registered", "accept_rate": 92, "profile_image": "https://www.gravatar.com/avatar/f14e7610fca39322ebbf23530def15f8?s=128&d=identicon&r=PG", "display_name": "mob", "link": "https://stackoverflow.com/users/168657/mob"}, "edited": false, "score": 0, "creation_date": 1437487212, "post_id": 31540609, "comment_id": 51041627, "body": "<code>grep</code> can be used for changing data. <code>@arr = grep s&#47;\\..*&#47;&#47;, @arr</code> would also work in this case"}, {"owner": {"reputation": 198290, "user_id": 1030675, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/957956ce51706d03f19a4dc85a767bb1?s=128&d=identicon&r=PG", "display_name": "choroba", "link": "https://stackoverflow.com/users/1030675/choroba"}, "reply_to_user": {"reputation": 110113, "user_id": 168657, "user_type": "registered", "accept_rate": 92, "profile_image": "https://www.gravatar.com/avatar/f14e7610fca39322ebbf23530def15f8?s=128&d=identicon&r=PG", "display_name": "mob", "link": "https://stackoverflow.com/users/168657/mob"}, "edited": false, "score": 2, "creation_date": 1437487283, "post_id": 31540609, "comment_id": 51041679, "body": "@mob: Modifying $_ in <code>grep</code> is possible, but not recommended."}, {"owner": {"reputation": 214, "user_id": 4462797, "user_type": "registered", "accept_rate": 72, "profile_image": "https://www.gravatar.com/avatar/06ad54ed33711c0c99e35b3961ec9c1e?s=128&d=identicon&r=PG&f=1", "display_name": "abhillier", "link": "https://stackoverflow.com/users/4462797/abhillier"}, "edited": false, "score": 0, "creation_date": 1437488530, "post_id": 31540609, "comment_id": 51042743, "body": "Is there any built-in functions u have used in first option ?"}, {"owner": {"reputation": 198290, "user_id": 1030675, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/957956ce51706d03f19a4dc85a767bb1?s=128&d=identicon&r=PG", "display_name": "choroba", "link": "https://stackoverflow.com/users/1030675/choroba"}, "reply_to_user": {"reputation": 214, "user_id": 4462797, "user_type": "registered", "accept_rate": 72, "profile_image": "https://www.gravatar.com/avatar/06ad54ed33711c0c99e35b3961ec9c1e?s=128&d=identicon&r=PG&f=1", "display_name": "abhillier", "link": "https://stackoverflow.com/users/4462797/abhillier"}, "edited": false, "score": 1, "creation_date": 1437488876, "post_id": 31540609, "comment_id": 51043048, "body": "@abhishek: The first part is a hash slice asignment, the second one is normal array assignment."}], "tags": [], "owner": {"reputation": 198290, "user_id": 1030675, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/957956ce51706d03f19a4dc85a767bb1?s=128&d=identicon&r=PG", "display_name": "choroba", "link": "https://stackoverflow.com/users/1030675/choroba"}, "is_accepted": true, "score": 6, "last_activity_date": 1437485673, "creation_date": 1437485673, "answer_id": 31540609, "question_id": 31540503, "link": "https://stackoverflow.com/questions/31540503/how-do-i-remove-elements-from-an-array-in-perl/31540609#31540609", "title": "How do I remove elements from an array in Perl?", "body": "<p><code>grep</code> is for filtering, not for changing the data. To remove everything after a dot, use substitution:</p>\n\n<pre><code>s/\\..*// for @arr;\n</code></pre>\n\n<p>If you want unique elements, use a hash:</p>\n\n<pre><code>my %uniq;\n@uniq{@arr} = ();\n@arr = keys %uniq;\n</code></pre>\n\n<p>Or, use <code>uniq</code> from <a href=\"http://p3rl.org/List::MoreUtils\" rel=\"noreferrer\">List::MoreUtils</a>:</p>\n\n<pre><code>use List::MoreUtils qw{ uniq };\n@arr = uniq(@arr);\n</code></pre>\n"}, {"comments": [{"owner": {"reputation": 214, "user_id": 4462797, "user_type": "registered", "accept_rate": 72, "profile_image": "https://www.gravatar.com/avatar/06ad54ed33711c0c99e35b3961ec9c1e?s=128&d=identicon&r=PG&f=1", "display_name": "abhillier", "link": "https://stackoverflow.com/users/4462797/abhillier"}, "edited": false, "score": 0, "creation_date": 1437548170, "post_id": 31543087, "comment_id": 51068871, "body": "what about values??what if i want to put it both in one array..so that i can access any values with the help of keys.."}, {"owner": {"reputation": 62184, "user_id": 7231, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/81b76985f3985e35492e25880493d045?s=128&d=identicon&r=PG", "display_name": "Dave Cross", "link": "https://stackoverflow.com/users/7231/dave-cross"}, "reply_to_user": {"reputation": 214, "user_id": 4462797, "user_type": "registered", "accept_rate": 72, "profile_image": "https://www.gravatar.com/avatar/06ad54ed33711c0c99e35b3961ec9c1e?s=128&d=identicon&r=PG&f=1", "display_name": "abhillier", "link": "https://stackoverflow.com/users/4462797/abhillier"}, "edited": false, "score": 0, "creation_date": 1437552350, "post_id": 31543087, "comment_id": 51071239, "body": "As I said, what you get in <code>$cfg</code> is a reference to a two-level hash (not an array, I don&#39;t think an array would really be helpful here). The values in the first level hash are hash references representing each block in the config file. So, for example, <code>$cfg-&gt;{&#39;Dialer Onboard1&#39;}{pass}</code> would give you &quot;pass1&quot;."}, {"owner": {"reputation": 214, "user_id": 4462797, "user_type": "registered", "accept_rate": 72, "profile_image": "https://www.gravatar.com/avatar/06ad54ed33711c0c99e35b3961ec9c1e?s=128&d=identicon&r=PG&f=1", "display_name": "abhillier", "link": "https://stackoverflow.com/users/4462797/abhillier"}, "edited": false, "score": 0, "creation_date": 1437552939, "post_id": 31543087, "comment_id": 51071562, "body": "Useless use of hash element in void context at test2.pl line 15. i am getting this error..."}, {"owner": {"reputation": 62184, "user_id": 7231, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/81b76985f3985e35492e25880493d045?s=128&d=identicon&r=PG", "display_name": "Dave Cross", "link": "https://stackoverflow.com/users/7231/dave-cross"}, "reply_to_user": {"reputation": 214, "user_id": 4462797, "user_type": "registered", "accept_rate": 72, "profile_image": "https://www.gravatar.com/avatar/06ad54ed33711c0c99e35b3961ec9c1e?s=128&d=identicon&r=PG&f=1", "display_name": "abhillier", "link": "https://stackoverflow.com/users/4462797/abhillier"}, "edited": false, "score": 0, "creation_date": 1437553047, "post_id": 31543087, "comment_id": 51071626, "body": "It&#39;s not an error, it&#39;s a warning. Obviously (or, at least, I thought it was obvious) you need to do something with the result of that expression - store it in a variable, print it out, something like that."}, {"owner": {"reputation": 214, "user_id": 4462797, "user_type": "registered", "accept_rate": 72, "profile_image": "https://www.gravatar.com/avatar/06ad54ed33711c0c99e35b3961ec9c1e?s=128&d=identicon&r=PG&f=1", "display_name": "abhillier", "link": "https://stackoverflow.com/users/4462797/abhillier"}, "edited": false, "score": 0, "creation_date": 1437561724, "post_id": 31543087, "comment_id": 51077497, "body": "i am not getting any value...can u show me one example..so that i will understand"}, {"owner": {"reputation": 62184, "user_id": 7231, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/81b76985f3985e35492e25880493d045?s=128&d=identicon&r=PG", "display_name": "Dave Cross", "link": "https://stackoverflow.com/users/7231/dave-cross"}, "reply_to_user": {"reputation": 214, "user_id": 4462797, "user_type": "registered", "accept_rate": 72, "profile_image": "https://www.gravatar.com/avatar/06ad54ed33711c0c99e35b3961ec9c1e?s=128&d=identicon&r=PG&f=1", "display_name": "abhillier", "link": "https://stackoverflow.com/users/4462797/abhillier"}, "edited": false, "score": 0, "creation_date": 1437561894, "post_id": 31543087, "comment_id": 51077604, "body": "Add <code>say $cfg-&gt;{&#39;Dialer Onboard1&#39;}{pass};</code> to the end of the code in my answer. It will print &quot;pass1&quot; (given the INI file in your question)."}, {"owner": {"reputation": 214, "user_id": 4462797, "user_type": "registered", "accept_rate": 72, "profile_image": "https://www.gravatar.com/avatar/06ad54ed33711c0c99e35b3961ec9c1e?s=128&d=identicon&r=PG&f=1", "display_name": "abhillier", "link": "https://stackoverflow.com/users/4462797/abhillier"}, "edited": false, "score": 0, "creation_date": 1437562400, "post_id": 31543087, "comment_id": 51077932, "body": "Use of uninitialized value in say at test2.pl line 13. this error is encountering"}, {"owner": {"reputation": 62184, "user_id": 7231, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/81b76985f3985e35492e25880493d045?s=128&d=identicon&r=PG", "display_name": "Dave Cross", "link": "https://stackoverflow.com/users/7231/dave-cross"}, "reply_to_user": {"reputation": 214, "user_id": 4462797, "user_type": "registered", "accept_rate": 72, "profile_image": "https://www.gravatar.com/avatar/06ad54ed33711c0c99e35b3961ec9c1e?s=128&d=identicon&r=PG&f=1", "display_name": "abhillier", "link": "https://stackoverflow.com/users/4462797/abhillier"}, "edited": false, "score": 0, "creation_date": 1437562600, "post_id": 31543087, "comment_id": 51078080, "body": "Let us <a href=\"http://chat.stackoverflow.com/rooms/83961/discussion-between-dave-cross-and-abhishek\">continue this discussion in chat</a>."}], "tags": [], "owner": {"reputation": 62184, "user_id": 7231, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/81b76985f3985e35492e25880493d045?s=128&d=identicon&r=PG", "display_name": "Dave Cross", "link": "https://stackoverflow.com/users/7231/dave-cross"}, "is_accepted": false, "score": 0, "last_activity_date": 1437491669, "creation_date": 1437491669, "answer_id": 31543087, "question_id": 31540503, "link": "https://stackoverflow.com/questions/31540503/how-do-i-remove-elements-from-an-array-in-perl/31543087#31543087", "title": "How do I remove elements from an array in Perl?", "body": "<p>You have a fix that gives you what you want. But I'm slightly surprised that no-one noticed what you actually wanted to do.</p>\n\n<p>The reason why you are getting more complicated keys (and more keys) than you wanted is because you are using a generalised config parser to read a config file in a format that the parser isn't really suited for. Config::Simple assumes a pretty flat key/value structure, whereas the INI-style config that you actually want is more naturally represented as a two-level hash.</p>\n\n<p>So if you use a real INI parser (e.g. <a href=\"https://metacpan.org/pod/Config::INI\" rel=\"nofollow\">Config::INI</a>), your life immediately gets a lot easier.</p>\n\n<pre><code>#!/usr/bin/perl\n\nuse strict;\nuse warnings;\nuse 5.010;\n\nuse Config::INI::Reader;\n\nmy $cfg = Config::INI::Reader-&gt;read_file('new.conf');\nmy @arr = ( keys %$cfg );\n\nsay for @arr;\n</code></pre>\n\n<p>Config::INI gives you a two-level hash where the top-level keys are the names of the blocks. And that's what you are looking for. So simply calling <code>keys</code> on that hash gives you what you want.</p>\n\n<p>Using the right tool often simplifies things.</p>\n"}], "owner": {"reputation": 214, "user_id": 4462797, "user_type": "registered", "accept_rate": 72, "profile_image": "https://www.gravatar.com/avatar/06ad54ed33711c0c99e35b3961ec9c1e?s=128&d=identicon&r=PG&f=1", "display_name": "abhillier", "link": "https://stackoverflow.com/users/4462797/abhillier"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 142, "favorite_count": 0, "accepted_answer_id": 31540609, "answer_count": 2, "score": 1, "last_activity_date": 1437491669, "creation_date": 1437485420, "last_edit_date": 1437486560, "question_id": 31540503, "link": "https://stackoverflow.com/questions/31540503/how-do-i-remove-elements-from-an-array-in-perl", "title": "How do I remove elements from an array in Perl?", "body": "<p>I am doing the configuration file using <code>Config::Simple</code></p>\n\n<p>The configuration file i.e. new.conf</p>\n\n<pre><code>[Dialer External]\npass=pass2\nuser=user2\n\n[Dialer Onboard]\npass=pass1\nuser=user1\n\n[Dialer Onboard1]\npass=pass1\nuser=user1\n\n[Dialer Onboard2]\npass=pass1\nuser=user1\n</code></pre>\n\n<p>I am reading the configuration file and here is my code</p>\n\n<pre><code>#!/usr/bin/perl\nuse Config::Simple;\nuse Data::Dumper;\n\n$cfg = new Config::Simple(syntax =&gt; 'ini');\n$cfg-&gt;read('new.conf');\n$cfg = Config::Simple-&gt;import_from('new.conf', \\%Config);\nmy @arr = ( keys %Config );\nprint \"@arr\";\n</code></pre>\n\n<p>The hash reference i.e.<code>%Config</code> i am assigning to the array <code>@arr</code>the output would be </p>\n\n<pre><code>Dialer Onboard1.pass \nDialer Onboard.pass \nDialer Onboard.user \nDialer Onboard2.pass \nDialer Onboard2.user \nDialer External.user \nDialer External.pass \nDialer Onboard1.user\n</code></pre>\n\n<p>Till here is correct. Now i want to remove some element and assign it to new array that should be something like this </p>\n\n<pre><code>Dialer Onboard1\nDialer Onboard \nDialer Onboard \nDialer Onboard2 \nDialer Onboard2 \nDialer External \nDialer External \nDialer Onboard1\n</code></pre>\n\n<p>so that after the dot (<code>.</code>) i don't want any data. For this i am trying to use the <code>grep</code> function.Here is my code for that</p>\n\n<pre><code>@arr = grep { !/./ } @arr;\nmy @result;\nfor (@arr) {\n    if (/./) {\n        push @result, $_;\n    } \n}\n</code></pre>\n\n<p>But this is not working for me or it may be wrong approach. I am not able to identify where i am going wrong.\nAnd finally i want to remove the duplicate keys from that and that gives me output something like this.</p>\n\n<pre><code>Dialer External \nDialer Onboard \nDialer Onboard1 \nDialer Onboard2\n</code></pre>\n\n<p>Please somebody help me and suggest me how to achieve this.Thanks in advance.</p>\n"}, {"tags": ["xml", "perl", "xml-parsing", "perl-module"], "comments": [{"owner": {"reputation": 50468, "user_id": 1331451, "user_type": "registered", "accept_rate": 96, "profile_image": "https://i.stack.imgur.com/4ZPmj.png?s=128&g=1", "display_name": "simbabque", "link": "https://stackoverflow.com/users/1331451/simbabque"}, "edited": false, "score": 0, "creation_date": 1437485011, "post_id": 31540145, "comment_id": 51039853, "body": "Start by adding <code>use strict</code> and <code>use warnings</code>."}, {"owner": {"reputation": 51521, "user_id": 2566198, "user_type": "registered", "accept_rate": 67, "profile_image": "https://i.stack.imgur.com/Y34ZA.jpg?s=128&g=1", "display_name": "Sobrique", "link": "https://stackoverflow.com/users/2566198/sobrique"}, "edited": false, "score": 0, "creation_date": 1437485015, "post_id": 31540145, "comment_id": 51039857, "body": "What&#39;s your desired output?"}], "answers": [{"comments": [{"owner": {"reputation": 50468, "user_id": 1331451, "user_type": "registered", "accept_rate": 96, "profile_image": "https://i.stack.imgur.com/4ZPmj.png?s=128&g=1", "display_name": "simbabque", "link": "https://stackoverflow.com/users/1331451/simbabque"}, "edited": false, "score": 1, "creation_date": 1437485281, "post_id": 31540391, "comment_id": 51040091, "body": "You really like to fight against XML::Simple :D I challenge you to give a talk like SawyerX&#39;s <i>CGI.pm must die!</i> on the next YAPC::EU in Granada :)"}, {"owner": {"reputation": 51521, "user_id": 2566198, "user_type": "registered", "accept_rate": 67, "profile_image": "https://i.stack.imgur.com/Y34ZA.jpg?s=128&g=1", "display_name": "Sobrique", "link": "https://stackoverflow.com/users/2566198/sobrique"}, "reply_to_user": {"reputation": 50468, "user_id": 1331451, "user_type": "registered", "accept_rate": 96, "profile_image": "https://i.stack.imgur.com/4ZPmj.png?s=128&g=1", "display_name": "simbabque", "link": "https://stackoverflow.com/users/1331451/simbabque"}, "edited": false, "score": 0, "creation_date": 1437486081, "post_id": 31540391, "comment_id": 51040680, "body": "Hah, I&#39;d be tempted. I mean, if nothing else - <code>XML::Twig</code> has <code>simplify</code> which lets it be backwards compatible with <code>XML::Simple</code>. But otherwise is just Much Better at representing the nature of XML - which perl can&#39;t really do natively, thanks to XML not having arrays, and perl not having duplicate key hashes."}, {"owner": {"reputation": 50468, "user_id": 1331451, "user_type": "registered", "accept_rate": 96, "profile_image": "https://i.stack.imgur.com/4ZPmj.png?s=128&g=1", "display_name": "simbabque", "link": "https://stackoverflow.com/users/1331451/simbabque"}, "edited": false, "score": 0, "creation_date": 1437486230, "post_id": 31540391, "comment_id": 51040793, "body": "See you in Granada then. I bet @Mirod will be there as well."}, {"owner": {"reputation": 51521, "user_id": 2566198, "user_type": "registered", "accept_rate": 67, "profile_image": "https://i.stack.imgur.com/Y34ZA.jpg?s=128&g=1", "display_name": "Sobrique", "link": "https://stackoverflow.com/users/2566198/sobrique"}, "reply_to_user": {"reputation": 50468, "user_id": 1331451, "user_type": "registered", "accept_rate": 96, "profile_image": "https://i.stack.imgur.com/4ZPmj.png?s=128&g=1", "display_name": "simbabque", "link": "https://stackoverflow.com/users/1331451/simbabque"}, "edited": false, "score": 0, "creation_date": 1437486562, "post_id": 31540391, "comment_id": 51041084, "body": "Having googled, I suspect not this year, but will investigate next."}, {"owner": {"reputation": 101, "user_id": 5138949, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/7b1e86a638ce25774b0c64c33257f765?s=128&d=identicon&r=PG&f=1", "display_name": "Niraj", "link": "https://stackoverflow.com/users/5138949/niraj"}, "edited": false, "score": 0, "creation_date": 1437487953, "post_id": 31540391, "comment_id": 51042276, "body": "Thanks Sobrique! It works :) But the code is printing all the entries simultaneously. I want each and every entry text to be access separately e.g.  get only the 4th element in the entry array, which is Description. or get only 2nd lement in the entry array, which is OFFSET."}, {"owner": {"reputation": 51521, "user_id": 2566198, "user_type": "registered", "accept_rate": 67, "profile_image": "https://i.stack.imgur.com/Y34ZA.jpg?s=128&g=1", "display_name": "Sobrique", "link": "https://stackoverflow.com/users/2566198/sobrique"}, "edited": false, "score": 0, "creation_date": 1437488580, "post_id": 31540391, "comment_id": 51042781, "body": "OK. Amended answer slightly."}, {"owner": {"reputation": 101, "user_id": 5138949, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/7b1e86a638ce25774b0c64c33257f765?s=128&d=identicon&r=PG&f=1", "display_name": "Niraj", "link": "https://stackoverflow.com/users/5138949/niraj"}, "edited": false, "score": 0, "creation_date": 1437492256, "post_id": 31540391, "comment_id": 51045773, "body": "Thank you Sobrique for your quick response! The solution you have provided, works for me :)"}, {"owner": {"reputation": 101, "user_id": 5138949, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/7b1e86a638ce25774b0c64c33257f765?s=128&d=identicon&r=PG&f=1", "display_name": "Niraj", "link": "https://stackoverflow.com/users/5138949/niraj"}, "edited": false, "score": 0, "creation_date": 1437573562, "post_id": 31540391, "comment_id": 51086009, "body": "Added one more query..above in comment section for question."}, {"owner": {"reputation": 51521, "user_id": 2566198, "user_type": "registered", "accept_rate": 67, "profile_image": "https://i.stack.imgur.com/Y34ZA.jpg?s=128&g=1", "display_name": "Sobrique", "link": "https://stackoverflow.com/users/2566198/sobrique"}, "edited": false, "score": 0, "creation_date": 1437573701, "post_id": 31540391, "comment_id": 51086149, "body": "I would suggest asking a new question. It&#39;s hard to tell what you mean from a comment."}, {"owner": {"reputation": 101, "user_id": 5138949, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/7b1e86a638ce25774b0c64c33257f765?s=128&d=identicon&r=PG&f=1", "display_name": "Niraj", "link": "https://stackoverflow.com/users/5138949/niraj"}, "edited": false, "score": 0, "creation_date": 1437574432, "post_id": 31540391, "comment_id": 51086804, "body": "OK. Amended the question."}, {"owner": {"reputation": 51521, "user_id": 2566198, "user_type": "registered", "accept_rate": 67, "profile_image": "https://i.stack.imgur.com/Y34ZA.jpg?s=128&g=1", "display_name": "Sobrique", "link": "https://stackoverflow.com/users/2566198/sobrique"}, "edited": false, "score": 0, "creation_date": 1437574644, "post_id": 31540391, "comment_id": 51086980, "body": "No, I mean literally - if you ask it as a separate question, then you&#39;ll get other people looking at it, and you may elicit better answers. I&#39;m unclear exactly what you mean by it. But you should be able to <code>get_xpath ( &#39;&#47;&#47;b&#39; )</code> for example."}, {"owner": {"reputation": 123805, "user_id": 622310, "user_type": "registered", "accept_rate": 33, "profile_image": "https://www.gravatar.com/avatar/8b6d35219e1808520bc238b28161e2e6?s=128&d=identicon&r=PG", "display_name": "Borodin", "link": "https://stackoverflow.com/users/622310/borodin"}, "edited": false, "score": 0, "creation_date": 1437575236, "post_id": 31540391, "comment_id": 51087483, "body": "I find it&#39;s almost always clearer and more straightforward to build an XML document and query it with XPath expressions rather than use the <code>XML::Twig</code> callbacks, which are meant primarily for keeping huge XML documents manageable"}], "tags": [], "owner": {"reputation": 51521, "user_id": 2566198, "user_type": "registered", "accept_rate": 67, "profile_image": "https://i.stack.imgur.com/Y34ZA.jpg?s=128&g=1", "display_name": "Sobrique", "link": "https://stackoverflow.com/users/2566198/sobrique"}, "is_accepted": true, "score": 2, "last_activity_date": 1437488571, "last_edit_date": 1437488571, "creation_date": 1437485183, "answer_id": 31540391, "question_id": 31540145, "link": "https://stackoverflow.com/questions/31540145/in-perl-xmlsimple-is-not-able-to-dereference-multi-dimensional-associative-ar/31540391#31540391", "title": "In Perl, XML::Simple is not able to dereference multi dimensional associative array parsed by Data::Dumper", "body": "<p>Don't use <a href=\"http://search.cpan.org/~grantm/XML-Simple-2.20/lib/XML/Simple.pm\" rel=\"nofollow\"><code>XML::Simple</code></a>.</p>\n\n<p>Even <code>XML::Simple</code> says \"don't use <code>XML::Simple</code>\".</p>\n\n<blockquote>\n  <p>The use of this module in new code is discouraged. Other modules are available which provide more straightforward and consistent interfaces.</p>\n</blockquote>\n\n<p>Try instead something like this:</p>\n\n<pre><code>use strict;\nuse warnings;\nuse XML::Twig;\n\nXML::Twig-&gt;new(\n    'twig_handlers' =&gt; {\n        'entry' =&gt; sub { print $_ -&gt;text, \"\\n\" }\n    }\n)-&gt;parsefile ('your_file.xml');\n</code></pre>\n\n<p>This will print the text content of all the <code>entry</code> elements, which appears to be what you're trying to do? </p>\n\n<p><code>XML::Twig</code> has two really handy mechanisms - one of using a <code>twig_handler</code> to find and print nodes matching a spec - this works 'as you go' which is particularly useful when handling large XML, or if you want to edit it before processing. </p>\n\n<p>However, it also allows you to 'handle' data afterwards:</p>\n\n<pre><code>my $twig = XML::Twig-&gt;new( 'pretty_print' =&gt; 'indented_a' )-&gt;parsefile('your_xml_file');\n\nforeach my $element ( $twig -&gt; get_xpath (\"//entry\") )\n{\n    print $element -&gt;text, \"\\n\";\n}\n</code></pre>\n\n<p>Or you could use a full path to the node as you're doing above:</p>\n\n<pre><code>$twig-&gt;root-&gt;get_xpath(\"body/p/table/tgroup/tbody/row/entry\") )\n</code></pre>\n\n<p>In response to your question though: </p>\n\n<blockquote>\n  <p>Above code only is only accessing the 'Description' column. How to do that?</p>\n</blockquote>\n\n<p>That's because you're doing this:</p>\n\n<pre><code>foreach $entry ((@{$row-&gt;{entry}})-&gt;[3])\n</code></pre>\n\n<p>E.g. trying to get the 4th element in the <code>entry</code> array, which is <code>Description</code>. </p>\n\n<p>With reference to the comments - I'd suggest you convert your 'entries' into a hash outside the XML data structure. </p>\n\n<p>Like this:</p>\n\n<pre><code>use strict;\nuse warnings;\nuse XML::Twig;\n\nuse Data::Dumper;\n\nmy @headers;\n\nmy $column_to_show = 'Field';\n\nsub process_row {\n    my %entries;\n\n    my ( $twig, $row ) = @_;\n    my @row_entries = map { $_-&gt;text } $row-&gt;children;\n    if (@headers) {\n        @entries{@headers} = @row_entries;\n        print $column_to_show, \" =&gt; \", $entries{$column_to_show}, \"\\n\";\n    }\n    else {\n        @headers = @row_entries;\n    }\n}\n\nmy $twig = XML::Twig-&gt;new(\n    'pretty_print' =&gt; 'indented_a',\n    twig_handlers  =&gt; { 'row' =&gt; \\&amp;process_row }\n)-&gt;parsefile ( 'your_file.xml' ); \n</code></pre>\n\n<p>What this does is:</p>\n\n<ul>\n<li>fire that handler on each <code>row</code> element. </li>\n<li>extract the <code>entry</code> subelements (and their text) into an array. <code>@row_entries</code>. </li>\n<li>Use the \"header\" row to turn that into a hash. </li>\n<li>Print the hash value that matches a specific key <code>$column_to_show</code>. </li>\n</ul>\n\n<p>Depending on whether you're doing any more with the data than print it, you can turn that into a hash of arrays or similar. </p>\n\n<p>Or you could just print <code>$row_entries[3]</code> instead of course ;). </p>\n"}, {"tags": [], "owner": {"reputation": 123805, "user_id": 622310, "user_type": "registered", "accept_rate": 33, "profile_image": "https://www.gravatar.com/avatar/8b6d35219e1808520bc238b28161e2e6?s=128&d=identicon&r=PG", "display_name": "Borodin", "link": "https://stackoverflow.com/users/622310/borodin"}, "is_accepted": false, "score": 0, "last_activity_date": 1437576585, "last_edit_date": 1437576585, "creation_date": 1437575034, "answer_id": 31565936, "question_id": 31540145, "link": "https://stackoverflow.com/questions/31540145/in-perl-xmlsimple-is-not-able-to-dereference-multi-dimensional-associative-ar/31565936#31565936", "title": "In Perl, XML::Simple is not able to dereference multi dimensional associative array parsed by Data::Dumper", "body": "<p>It is always swifter and more accurate to use a proper XML parsing module that will allow you to access the XML data using XPath expressions</p>\n\n<p>Here's a solution using [<code>XML::Twig</code>][XML::Twig]</p>\n\n<p>I wasn't sure what you meant about the <strong>bold</strong> fields in <code>&lt;b&gt;</code>...<code>&lt;/b&gt;</code> as there is only one in the example data you show, but I've accessed that using the XPath <code>//body/p/b</code> and printed it at the start of the output</p>\n\n<p>The rest of the output is the values of the <code>&lt;entry&gt;</code> elements in each <code>&lt;row&gt;</code> which I access using <code>//table/tgroup/tbody/row</code>. The contents of the first row are used as field names to label subsequent values</p>\n\n<pre><code>use strict;\nuse warnings;\nuse 5.010;\n\nuse open qw/ :std :encoding(UTF-8) /;\n\nuse XML::Twig;\nuse List::Util qw/ max /;\nuse List::MoreUtils qw/ pairwise /;\n\nmy $twig = XML::Twig-&gt;new;\n$twig-&gt;parsefile('topic.xml');\n\nsay $twig-&gt;findvalues('//body/p/b');\nsay '';\n\nmy (@fields, $size);\nfor my $row ( $twig-&gt;findnodes('//table/tgroup/tbody/row') ) {\n\n  unless ( @fields ) {\n    @fields = map \"$_:\", $row-&gt;findvalues('entry');\n    $size = max map length, @fields;\n    next;\n  }\n\n  my @values = $row-&gt;findvalues('entry');\n  say for pairwise { sprintf '%-*s %s', $size, $a, $b } @fields, @values;\n  say '---';\n}\n</code></pre>\n\n<h3>output</h3>\n\n<pre class=\"lang-none prettyprint-override\"><code>CCU_CNT_ADDR: (Address=0x004 Reset=32'h1)\n\nField:       reg2sm_cnt\nOFFSET:      15:0\nR/W Access:  R/W\nDescription: Count Value to increment in the extenral memory at the specified location.\n            Default Value of 1. A Count value of 0 will clear the counter value\n---\nField:       ccu2bus_endianess\nOFFSET:      24\nR/W Access:  R/W\nDescription: Endianess of the data structure bit\n---\nField:       ccu_lane_sel\nOFFSET:      25\nR/W Access:  R/W\nDescription: ccu_lane_sel bit. Indicates the lane selection bit of the 32-bit location to\n            update\n---\nField:       ccu_rdinvalid\nOFFSET:      26\nR/W Access:  R/W\nDescription: ccu_rdinvalid bit. Indicates if the read value from the bus needs to be stored\n            or not.\n---\n</code></pre>\n"}], "owner": {"reputation": 101, "user_id": 5138949, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/7b1e86a638ce25774b0c64c33257f765?s=128&d=identicon&r=PG&f=1", "display_name": "Niraj", "link": "https://stackoverflow.com/users/5138949/niraj"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 91, "favorite_count": 0, "accepted_answer_id": 31540391, "answer_count": 2, "score": 0, "last_activity_date": 1437576585, "creation_date": 1437484597, "last_edit_date": 1437574388, "question_id": 31540145, "link": "https://stackoverflow.com/questions/31540145/in-perl-xmlsimple-is-not-able-to-dereference-multi-dimensional-associative-ar", "title": "In Perl, XML::Simple is not able to dereference multi dimensional associative array parsed by Data::Dumper", "body": "<p>Following is the xml file that I want to parse:</p>\n\n<pre><code>&lt;?xml version=\"1.0\" encoding=\"UTF-8\"?&gt;\n\n&lt;topic id=\"yerus5\" xmlns:ditaarch=\"http://dita.oasis-open.org/architecture/2005/\"&gt;\n\n\n\n&lt;title/&gt;\n  &lt;shortdesc/&gt;\n  &lt;body&gt;\n&lt;p&gt;&lt;b&gt;CCU_CNT_ADDR: (Address=0x004 Reset=32'h1)&lt;/b&gt;&lt;table id=\"table_r5b_1xj_ts\"&gt;\n&lt;tgroup cols=\"4\"&gt;\n  &lt;colspec colnum=\"1\" colname=\"col1\"/&gt;\n  &lt;colspec colnum=\"2\" colname=\"col2\"/&gt;\n  &lt;colspec colnum=\"3\" colname=\"col3\"/&gt;\n  &lt;colspec colnum=\"4\" colname=\"col4\"/&gt;\n  &lt;tbody&gt;\n        &lt;row&gt;\n          &lt;entry&gt;Field&lt;/entry&gt;\n          &lt;entry&gt;OFFSET&lt;/entry&gt;\n          &lt;entry&gt;R/W Access&lt;/entry&gt;\n          &lt;entry&gt;Description&lt;/entry&gt;\n        &lt;/row&gt;\n        &lt;row&gt;\n          &lt;entry&gt;reg2sm_cnt&lt;/entry&gt;\n          &lt;entry&gt;15:0&lt;/entry&gt;\n          &lt;entry&gt;R/W&lt;/entry&gt;\n          &lt;entry&gt;Count Value to increment in the extenral memory at the specified location.\n            Default Value of 1. A Count value of 0 will clear the counter value&lt;/entry&gt;\n        &lt;/row&gt;\n        &lt;row&gt;\n          &lt;entry&gt;ccu2bus_endianess&lt;/entry&gt;\n          &lt;entry&gt;24&lt;/entry&gt;\n          &lt;entry&gt;R/W&lt;/entry&gt;\n          &lt;entry&gt;Endianess of the data structure bit&lt;/entry&gt;\n        &lt;/row&gt;\n        &lt;row&gt;\n          &lt;entry&gt;ccu_lane_sel&lt;/entry&gt;\n          &lt;entry&gt;25&lt;/entry&gt;\n          &lt;entry&gt;R/W&lt;/entry&gt;\n          &lt;entry&gt;ccu_lane_sel bit. Indicates the lane selection bit of the 32-bit location to\n            update&lt;/entry&gt;\n        &lt;/row&gt;\n        &lt;row&gt;\n          &lt;entry&gt;ccu_rdinvalid&lt;/entry&gt;\n          &lt;entry&gt;26&lt;/entry&gt;\n          &lt;entry&gt;R/W&lt;/entry&gt;\n          &lt;entry&gt;ccu_rdinvalid bit. Indicates if the read value from the bus needs to be stored\n            or not.&lt;/entry&gt;\n        &lt;/row&gt;\n      &lt;/tbody&gt;\n    &lt;/tgroup&gt;\n  &lt;/table&gt;&lt;/p&gt;\n\n\n&lt;/body&gt;\n&lt;/topic&gt;\n</code></pre>\n\n<p>After running following code:</p>\n\n<pre><code>#!/usr/bin/perl\n\n\n# use module\nuse XML::Simple;\nuse Data::Dumper;\n\n# create object\n$xml = new XML::Simple(); #(KeyAttr=&gt;[]);\n\n# read XML file\n$data = $xml-&gt;XMLin(\"test.xml\");\n\n# access XML data\nprint Dumper($data);\n\n\n\n# dereference hash ref\n\n\n\n    # foreach $b (@{$p-&gt;{b}})\n    # {\n\n# }\nforeach $body (@{$data-&gt;{body}})\n{\n foreach $p (@{$body-&gt;{p}})\n {\n     foreach $table (@{$p-&gt;{table}})\n     {\n\n        foreach $tgroup (@{$table-&gt;{tgroup}})\n        {\n\n            foreach $tbody (@{$tgroup-&gt;{tbody}})\n            {\n\n                foreach $row (@{$tbody-&gt;{row}})\n                {\n                    foreach $entry ((@{$row-&gt;{entry}})-&gt;[3])\n                    {\n                    print $entry,\"\\n\";\n                    }\n\n                }\n            }\n        }\n    }\n}\n\n}\n</code></pre>\n\n<p>I am getting this error: <strong>Not an ARRAY reference at ppfe.pl line 28.</strong> (at <code>foreach $body (@{$data-&gt;{body}})</code>)</p>\n\n<p>I want to access each data of the <code>&lt;entry&gt;&lt;/entry&gt;</code>. Above code only is only accessing the 'Description' column. How to do that?</p>\n\n<p>With reference to above question,</p>\n\n<p>I am not able to extract details particularly for each <code>&lt;b&gt;&lt;/b&gt;</code> text. Following is sample output:</p>\n\n<pre><code>Name: CCU_CNT_ADDR: (Address=0x004 Reset=32'h1)\nField: reg2sm_cnt \nOFFSET: 15:0 \nAccess: R/W \nDescription: Count Value to increment in the extenral memory at the specified location. Default Value of 1. A Count value of 0 will clear the counter value \nFiled: ccu2bus_endianess \nOFFSET: 24 \nAccess: R/W \nDescription: Endianess of the data structure bit \n .\n .\n .\n .\n .\n .\n .\nName: CCU_STAT_ADDR: (Address=0x008 Reset=32'h0) \nField: fifo_cnt \n.\n .\n .\n .\n .\n .\n .\n</code></pre>\n"}, {"tags": ["perl", "www-mechanize"], "comments": [{"owner": {"reputation": 50468, "user_id": 1331451, "user_type": "registered", "accept_rate": 96, "profile_image": "https://i.stack.imgur.com/4ZPmj.png?s=128&g=1", "display_name": "simbabque", "link": "https://stackoverflow.com/users/1331451/simbabque"}, "edited": false, "score": 0, "creation_date": 1437484161, "post_id": 31539687, "comment_id": 51039121, "body": "Oh. I just understood. You want to save the 2nd of two images in the page, which you already found. But you do not know how to save it. Correct?"}, {"owner": {"user_type": "does_not_exist", "display_name": "user4284509"}, "reply_to_user": {"reputation": 50468, "user_id": 1331451, "user_type": "registered", "accept_rate": 96, "profile_image": "https://i.stack.imgur.com/4ZPmj.png?s=128&g=1", "display_name": "simbabque", "link": "https://stackoverflow.com/users/1331451/simbabque"}, "edited": false, "score": 0, "creation_date": 1437484235, "post_id": 31539687, "comment_id": 51039179, "body": "@simbabque Yes i don&#39;t know how to save it.. Can you edit my question if you understood..?"}, {"owner": {"reputation": 50468, "user_id": 1331451, "user_type": "registered", "accept_rate": 96, "profile_image": "https://i.stack.imgur.com/4ZPmj.png?s=128&g=1", "display_name": "simbabque", "link": "https://stackoverflow.com/users/1331451/simbabque"}, "edited": false, "score": 1, "creation_date": 1437484678, "post_id": 31539687, "comment_id": 51039557, "body": "done, and answered :)"}], "answers": [{"comments": [{"owner": {"user_type": "does_not_exist", "display_name": "user4284509"}, "edited": false, "score": 0, "creation_date": 1437485227, "post_id": 31540140, "comment_id": 51040036, "body": "@simbabqye. Thank you for your answer but it reports error  <code>Can&#39;t call method &quot;URI&quot; on an undefined value</code>."}, {"owner": {"reputation": 50468, "user_id": 1331451, "user_type": "registered", "accept_rate": 96, "profile_image": "https://i.stack.imgur.com/4ZPmj.png?s=128&g=1", "display_name": "simbabque", "link": "https://stackoverflow.com/users/1331451/simbabque"}, "edited": false, "score": 0, "creation_date": 1437485607, "post_id": 31540140, "comment_id": 51040333, "body": "Then it doesn&#39;t find the image. I will change the regex in the answer. The <code>.+</code> is not needed."}], "tags": [], "owner": {"reputation": 50468, "user_id": 1331451, "user_type": "registered", "accept_rate": 96, "profile_image": "https://i.stack.imgur.com/4ZPmj.png?s=128&g=1", "display_name": "simbabque", "link": "https://stackoverflow.com/users/1331451/simbabque"}, "is_accepted": false, "score": 3, "last_activity_date": 1437551238, "last_edit_date": 1437551238, "creation_date": 1437484585, "answer_id": 31540140, "question_id": 31539687, "link": "https://stackoverflow.com/questions/31539687/how-do-i-download-an-image-file-from-a-website-using-wwwmechanize/31540140#31540140", "title": "How do I download an image file from a website using WWW::Mechanize?", "body": "<p>The <a href=\"https://metacpan.org/pod/WWW::Mechanize#mech-find_image\" rel=\"nofollow\"><code>find_image</code> method of WWW::Mechanize</a> <strong>returns</strong> a <a href=\"https://metacpan.org/pod/WWW::Mechanize::Image\" rel=\"nofollow\">WWW::Mechanize::Image</a> object. That only contains the URI, filename and alt tag info about the image, not the content of the image itself. You need to <strong>download</strong> the image file first.</p>\n\n<p>Luckily, you can use your <code>$mech</code> for that. The <code>$image</code> has <a href=\"https://metacpan.org/pod/WWW::Mechanize::Image#link-URI\" rel=\"nofollow\">a <code>URI</code> method</a> that returns the <a href=\"https://metacpan.org/pod/URI::URL\" rel=\"nofollow\">full URL</a> of that image file. Your <a href=\"https://metacpan.org/pod/WWW::Mechanize#mech-get-uri\" rel=\"nofollow\"><code>$mech</code> can <code>get</code></a> that image. It comes as a HTTP::Response.</p>\n\n<pre><code>my $image = $mech-&gt;find_image( url_regex =&gt; qr/sopma2\\.gif$/ );\nmy $res = $mech-&gt;get($image-&gt;URI);\n\nif ($res-&gt;is_success) {\n  open (my $fh, '&gt;', 'soi.gif') or die $!;\n  binmode $fh;\n  print $fh $res-&gt;decoded_content;\n  # no need to close lexical filehandle\n}\n</code></pre>\n\n<p>Et voila, there's your image file.</p>\n"}, {"comments": [{"owner": {"reputation": 50468, "user_id": 1331451, "user_type": "registered", "accept_rate": 96, "profile_image": "https://i.stack.imgur.com/4ZPmj.png?s=128&g=1", "display_name": "simbabque", "link": "https://stackoverflow.com/users/1331451/simbabque"}, "edited": false, "score": 0, "creation_date": 1437484804, "post_id": 31540161, "comment_id": 51039669, "body": "This is the more concise answer. It&#39;s a better way than mine. But it currently lacks some explanation."}], "tags": [], "owner": {"reputation": 9961, "user_id": 2139766, "user_type": "registered", "accept_rate": 100, "profile_image": "https://i.stack.imgur.com/b3qcA.png?s=128&g=1", "display_name": "AnFi", "link": "https://stackoverflow.com/users/2139766/anfi"}, "is_accepted": false, "score": 1, "last_activity_date": 1437513626, "last_edit_date": 1437513626, "creation_date": 1437484640, "answer_id": 31540161, "question_id": 31539687, "link": "https://stackoverflow.com/questions/31539687/how-do-i-download-an-image-file-from-a-website-using-wwwmechanize/31540161#31540161", "title": "How do I download an image file from a website using WWW::Mechanize?", "body": "<p>You can use <code>$mech-&gt;get(...)</code> to store URL content into local file.</p>\n\n<pre><code>if( my $image = $mech-&gt;find_image( alt_regex =&gt; qr/.+sopma2.gif/ )) {\n  $mech-&gt;get( $img-&gt;url, ':content_file' =&gt; 'soi.gif');\n}\n</code></pre>\n\n<p><a href=\"http://www.perlmonks.org/?node_id=737473\" rel=\"nofollow\">How do i save an image with www::mechanize</a></p>\n\n<p><code>man WWW::Mechanize</code></p>\n\n<blockquote>\n  <p>$mech->find_image()<br>\n         Finds an image in the current page. It returns a WWW::Mechanize::Image object which describes the image.  If it fails to find an image it returns undef.<br>\n  ...<br>\n  $mech->get( $uri )<br>\n         Given a URL/URI, fetches it.  Returns an HTTP::Response object.  $uri can be a well-formed URL string, a URI object, or a WWW::Mechanize::Link object. [...]<br>\n  \"get()\" is a well-behaved overloaded version of the method in LWP::UserAgent.  This lets you do things like<br>\n  <code>$mech-&gt;get( $uri, ':content_file' =&gt; $tempfile );</code></p>\n</blockquote>\n"}, {"tags": [], "owner": {"reputation": 5455, "user_id": 3961170, "user_type": "registered", "accept_rate": 73, "profile_image": "https://i.stack.imgur.com/PtFol.jpg?s=128&g=1", "display_name": "mkHun", "link": "https://stackoverflow.com/users/3961170/mkhun"}, "is_accepted": true, "score": -1, "last_activity_date": 1437491317, "creation_date": 1437491317, "answer_id": 31542925, "question_id": 31539687, "link": "https://stackoverflow.com/questions/31539687/how-do-i-download-an-image-file-from-a-website-using-wwwmechanize/31542925#31542925", "title": "How do I download an image file from a website using WWW::Mechanize?", "body": "<p>use <a href=\"http://search.cpan.org/~ether/libwww-perl-6.13/lib/LWP/Simple.pm\" rel=\"nofollow\">LWP::Simple</a> with WWW::Mechanize. </p>\n\n<pre><code>use WWW::Mechanize;\nuse LWP::Simple;\nmy $sequence = \"MIPTLAA......\";\n\nmy $mech = WWW::Mechanize -&gt; new;\n$mech-&gt;get('https://npsa-prabi.ibcp.fr/cgi-bin/npsa_automat.pl?page=/NPSA/npsa_sopma.html');\n    $mech-&gt;submit_form(\n        form_number =&gt; 1,\n        fields =&gt; {\n        'notice' =&gt; $sequence,\n        },\n    );\n\nmy $cont = $mech-&gt;content;  \n($img) = $cont =~m/SRC=(.+sopma2\\.gif)/g; \n$urL = \"https://npsa-prabi.ibcp.fr/$img\";\ngetstore($urL,\"soi.gif\");\n</code></pre>\n\n<p><code>$img</code> stores the url of the image </p>\n\n<p>Then save the image by using <code>getstore</code> method from the <code>LWP::Simple</code></p>\n\n<p><strong>It is not good idea. See the @simbabque answer.</strong> But it give the result what you need.</p>\n"}, {"tags": [], "owner": {"reputation": 123805, "user_id": 622310, "user_type": "registered", "accept_rate": 33, "profile_image": "https://www.gravatar.com/avatar/8b6d35219e1808520bc238b28161e2e6?s=128&d=identicon&r=PG", "display_name": "Borodin", "link": "https://stackoverflow.com/users/622310/borodin"}, "is_accepted": false, "score": 1, "last_activity_date": 1437515917, "creation_date": 1437515917, "answer_id": 31550342, "question_id": 31539687, "link": "https://stackoverflow.com/questions/31539687/how-do-i-download-an-image-file-from-a-website-using-wwwmechanize/31550342#31550342", "title": "How do I download an image file from a website using WWW::Mechanize?", "body": "<p>The problem is that you are searching for an image whose alt text contains the string <code>sopma2.gif</code>. That image doesn't have an alt text so your program doesn't find it</p>\n\n<p>This program will fetch the gif file that you want. I'm using <code>url_regex =&gt; qr/sopma2/i</code> to find <code>sopma2</code> in the URL instead. That succeeds and returns a <code>WWW::Mechanize::Image</code> object. Then all that is necessary is to fetch that objects absolute URL and use <code>get</code> with a <code>:content_file</code> parameter to save the data to a disk file</p>\n\n<pre><code>use strict;\nuse warnings;\nuse 5.010;\n\nuse WWW::Mechanize;\n\nSTDOUT-&gt;autoflush;\n\nmy $sequence = \"MIPTLAAEPRKPARPPLPVRRESREEPVDAVIVGTGAGGAPLLARLAQAGLKVVALEAGNHWDPAADFATDEREQNKLFWFDERLSAGADPLAFGRNNSGIGVGGSTLHYTAYVPRPQPDDFRLYSDFGVGEDWPIGYGDLEPYFDELECFLGVSGPSPYPWGPARTPYPLAPMPLNAAAQLMARGCAALGLRTSPAANAVLSAPYFQSGVGWRSPCTNRGFCQAGCTTGGKAGMDVTFIPLALAHGAEVRSGAFVTRIETDRAGRVTGVVYVREGREERQRCRTLFLAAGAIETPRLLLLNGLANQSGEVGRNFMAHPGLQLWGQFSEATRPFKGVPGSLISEDTHRPKDADFAGGYLLQSIGVMPVTYATQTARGGGLWGEKLQSHMHGYNHTAGINILGECLPYAHNYLELSDEPDQRGLPKPRIHFSNGKNERRLRDHAEALMRRIWEAAGAQAVWTFERNAHTIGTCRMGADPKRAVVDPEGRAFDVPNLYIIDNSVFPSALSVNPALTIMALSLRTADRFIERTQRGEY\";\n\nmy $mech = WWW::Mechanize-&gt;new;\n$mech-&gt;get('https://npsa-prabi.ibcp.fr/cgi-bin/npsa_automat.pl?page=/NPSA/npsa_sopma.html');\n\nsay $mech-&gt;res-&gt;status_line;\nsay $mech-&gt;title;\n\n$mech-&gt;submit_form(\n    form_number =&gt; 1,\n    fields =&gt; {\n      notice =&gt; $sequence,\n    },\n);\n\nsay $mech-&gt;res-&gt;status_line;\nsay $mech-&gt;title;\n\nmy $image = $mech-&gt;find_image( url_regex =&gt; qr/sopma2/i );\nmy ($file) = $image-&gt;url =~ m|([^/]+\\z)|;\n$mech-&gt;get($image-&gt;url_abs, ':content_file' =&gt; $file);\nsay \"$file saved\";\n</code></pre>\n\n<h2>output</h2>\n\n<pre><code>200 OK\nNPS@ : SOPMA secondary structure prediction\n200 OK\nNPS@ SOPMA secondary structure prediction results\n373025433891.sopma2.gif saved\n</code></pre>\n"}], "owner": {"user_type": "does_not_exist", "display_name": "user4284509"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 513, "favorite_count": 0, "accepted_answer_id": 31542925, "answer_count": 4, "score": 1, "last_activity_date": 1437551238, "creation_date": 1437483486, "last_edit_date": 1437484673, "question_id": 31539687, "link": "https://stackoverflow.com/questions/31539687/how-do-i-download-an-image-file-from-a-website-using-wwwmechanize", "title": "How do I download an image file from a website using WWW::Mechanize?", "body": "<p>I try to download the image from the server. I try so far,</p>\n\n<pre><code>use warnings;\nuse strict; \nuse WWW::Mechanize;\n\nmy $sequence = \"MIPTLAAEPRKPARPPLPVRRESREEPVDAVIVGTGAGGAPLLARLAQAGLKVVALEAGNHWDPAADFATDEREQNKLFWFDERLSAGADPLAFGRNNSGIGVGGSTLHYTAYVPRPQPDDFRLYSDFGVGEDWPIGYGDLEPYFDELECFLGVSGPSPYPWGPARTPYPLAPMPLNAAAQLMARGCAALGLRTSPAANAVLSAPYFQSGVGWRSPCTNRGFCQAGCTTGGKAGMDVTFIPLALAHGAEVRSGAFVTRIETDRAGRVTGVVYVREGREERQRCRTLFLAAGAIETPRLLLLNGLANQSGEVGRNFMAHPGLQLWGQFSEATRPFKGVPGSLISEDTHRPKDADFAGGYLLQSIGVMPVTYATQTARGGGLWGEKLQSHMHGYNHTAGINILGECLPYAHNYLELSDEPDQRGLPKPRIHFSNGKNERRLRDHAEALMRRIWEAAGAQAVWTFERNAHTIGTCRMGADPKRAVVDPEGRAFDVPNLYIIDNSVFPSALSVNPALTIMALSLRTADRFIERTQRGEY\";\n\nmy $mech = WWW::Mechanize -&gt; new;\n$mech-&gt;get('https://npsa-prabi.ibcp.fr/cgi-bin/npsa_automat.pl?page=/NPSA/npsa_sopma.html');\n    $mech-&gt;submit_form(\n        form_number =&gt; 1,\n        fields =&gt; {\n        'notice' =&gt; $sequence,\n        },\n    );\n\n\n$mech-&gt;find_image( alt_regex =&gt; qr/.+sopma2.gif/ );\nopen (FH, \"&gt;soi.gif\");\nbinmode (FH);\nprint FH $mech;\n</code></pre>\n\n<p>The image tag was like this:</p>\n\n<pre><code>&lt;img align=\"TOP\" src=\"/tmp/e3a3c2b34201.sopma2.gif\"&gt;\n</code></pre>\n\n<p>I already have the link to the image parsed from the website, but I want to download this image. How can I do it?</p>\n"}, {"tags": ["javascript", "perl", "dom", "selenium", "gwt"], "comments": [{"owner": {"reputation": 2956, "user_id": 1037754, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/b64b3fd43d05802068ac057e5c7fe1df?s=128&d=identicon&r=PG", "display_name": "Michal", "link": "https://stackoverflow.com/users/1037754/michal"}, "edited": false, "score": 0, "creation_date": 1437479791, "post_id": 31538155, "comment_id": 51035913, "body": "Can you paste HTML code which is related to your problem?"}, {"owner": {"reputation": 105, "user_id": 5138911, "user_type": "registered", "accept_rate": 33, "profile_image": "https://www.gravatar.com/avatar/d8635028fabee63246d43cd491af74b3?s=128&d=identicon&r=PG&f=1", "display_name": "Roland Schmitz", "link": "https://stackoverflow.com/users/5138911/roland-schmitz"}, "reply_to_user": {"reputation": 2956, "user_id": 1037754, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/b64b3fd43d05802068ac057e5c7fe1df?s=128&d=identicon&r=PG", "display_name": "Michal", "link": "https://stackoverflow.com/users/1037754/michal"}, "edited": false, "score": 0, "creation_date": 1437480151, "post_id": 31538155, "comment_id": 51036156, "body": "The field which contains the result <b>on the screen</b> is &lt;input class=&quot;GM53QT1CF GM53QT1CF-readonly&quot; type=&quot;text&quot; style=&quot;height: 26px; width: 98px;&quot; readonly=&quot;&quot;&gt;"}, {"owner": {"reputation": 2357, "user_id": 4787944, "user_type": "registered", "accept_rate": 57, "profile_image": "https://lh6.googleusercontent.com/-SyK9P2bYgDE/AAAAAAAAAAI/AAAAAAAAAP0/5GbyzS97oDk/photo.jpg?sz=128", "display_name": "Saritha G", "link": "https://stackoverflow.com/users/4787944/saritha-g"}, "edited": false, "score": 0, "creation_date": 1437483544, "post_id": 31538155, "comment_id": 51038570, "body": "Once give Thread.sleep() before closing browser. So that you can able to see the result. or else you can get the result from that page by using getText() and print it in log."}, {"owner": {"reputation": 2357, "user_id": 4787944, "user_type": "registered", "accept_rate": 57, "profile_image": "https://lh6.googleusercontent.com/-SyK9P2bYgDE/AAAAAAAAAAI/AAAAAAAAAP0/5GbyzS97oDk/photo.jpg?sz=128", "display_name": "Saritha G", "link": "https://stackoverflow.com/users/4787944/saritha-g"}, "edited": false, "score": 0, "creation_date": 1437483933, "post_id": 31538155, "comment_id": 51038942, "body": "Use this xpath to get total cycle time input value:    ** html/body/table/tbody/tr[2]/td[1]/table/tbody/tr/td/table/tb&zwnj;&#8203;ody/tr[2]/td/table/t&zwnj;&#8203;body/tr[1]/td/table/&zwnj;&#8203;tbody/tr/td[1]/table&zwnj;&#8203;/tbody/tr[1]/td[2]/d&zwnj;&#8203;iv/table/tbody/tr/td&zwnj;&#8203;[1]/input **"}, {"owner": {"reputation": 105, "user_id": 5138911, "user_type": "registered", "accept_rate": 33, "profile_image": "https://www.gravatar.com/avatar/d8635028fabee63246d43cd491af74b3?s=128&d=identicon&r=PG&f=1", "display_name": "Roland Schmitz", "link": "https://stackoverflow.com/users/5138911/roland-schmitz"}, "edited": false, "score": 0, "creation_date": 1437484521, "post_id": 31538155, "comment_id": 51039420, "body": "Wait/sleep made no difference, getText did not get the value. Addressing the field is not the problem, i belive, i wrote a highlight method, wich flashes this field without problems. So using the full xpath might not change anything."}, {"owner": {"reputation": 2357, "user_id": 4787944, "user_type": "registered", "accept_rate": 57, "profile_image": "https://lh6.googleusercontent.com/-SyK9P2bYgDE/AAAAAAAAAAI/AAAAAAAAAP0/5GbyzS97oDk/photo.jpg?sz=128", "display_name": "Saritha G", "link": "https://stackoverflow.com/users/4787944/saritha-g"}, "edited": false, "score": 0, "creation_date": 1437484824, "post_id": 31538155, "comment_id": 51039691, "body": "which xpath have you used..can you post that xpath??"}, {"owner": {"reputation": 2956, "user_id": 1037754, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/b64b3fd43d05802068ac057e5c7fe1df?s=128&d=identicon&r=PG", "display_name": "Michal", "link": "https://stackoverflow.com/users/1037754/michal"}, "reply_to_user": {"reputation": 2357, "user_id": 4787944, "user_type": "registered", "accept_rate": 57, "profile_image": "https://lh6.googleusercontent.com/-SyK9P2bYgDE/AAAAAAAAAAI/AAAAAAAAAP0/5GbyzS97oDk/photo.jpg?sz=128", "display_name": "Saritha G", "link": "https://stackoverflow.com/users/4787944/saritha-g"}, "edited": false, "score": 0, "creation_date": 1437484967, "post_id": 31538155, "comment_id": 51039809, "body": "@SarithaG such hard coded xpaths are error prone and hard to maintain - it should be avoided"}, {"owner": {"reputation": 2357, "user_id": 4787944, "user_type": "registered", "accept_rate": 57, "profile_image": "https://lh6.googleusercontent.com/-SyK9P2bYgDE/AAAAAAAAAAI/AAAAAAAAAP0/5GbyzS97oDk/photo.jpg?sz=128", "display_name": "Saritha G", "link": "https://stackoverflow.com/users/4787944/saritha-g"}, "edited": false, "score": 0, "creation_date": 1437485248, "post_id": 31538155, "comment_id": 51040058, "body": "Then how did you called that element to get the result?"}, {"owner": {"reputation": 2956, "user_id": 1037754, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/b64b3fd43d05802068ac057e5c7fe1df?s=128&d=identicon&r=PG", "display_name": "Michal", "link": "https://stackoverflow.com/users/1037754/michal"}, "edited": false, "score": 0, "creation_date": 1437485991, "post_id": 31538155, "comment_id": 51040611, "body": "As I mentioned in my response - I was able to select it with class name input.GM53QT1CF"}], "answers": [{"tags": [], "owner": {"reputation": 5923, "user_id": 1943133, "user_type": "registered", "accept_rate": 62, "profile_image": "https://i.stack.imgur.com/wAuRI.jpg?s=128&g=1", "display_name": "drkthng", "link": "https://stackoverflow.com/users/1943133/drkthng"}, "is_accepted": false, "score": 0, "last_activity_date": 1437480862, "creation_date": 1437480862, "answer_id": 31538752, "question_id": 31538155, "link": "https://stackoverflow.com/questions/31538155/selenium-unable-to-find-a-element-in-gwt-app/31538752#31538752", "title": "Selenium: unable to find a element in GWT App", "body": "<p>You could try a combination of copying the input element's text to the clipboard via [ctrl + a] and then reading the clipboard, might be a workaround.</p>\n\n<p>Make sure that you correctly locate your input element!</p>\n\n<pre><code>WebElement inputElement = driver.findElement(inputLocator);\n\n//copy all text inside input element\ninputElement.sendKeys(Keys.chord(Keys.CONTROL, \"a\"));\n\n//now read the clipboard\nClipboard clipboard = Toolkit.getDefaultToolkit().getSystemClipboard();\nSystem.out.println(clipboard.getData(DataFlavor.stringFlavor));\n</code></pre>\n"}, {"comments": [{"owner": {"reputation": 105, "user_id": 5138911, "user_type": "registered", "accept_rate": 33, "profile_image": "https://www.gravatar.com/avatar/d8635028fabee63246d43cd491af74b3?s=128&d=identicon&r=PG&f=1", "display_name": "Roland Schmitz", "link": "https://stackoverflow.com/users/5138911/roland-schmitz"}, "edited": false, "score": 0, "creation_date": 1437482263, "post_id": 31538844, "comment_id": 51037617, "body": "My script switches to this IFrame directly after it clicked on &quot;Rotary indexing table&quot;. Even switch to this fraim again on the results page makes no difference. As i said, i can&#39;t see &quot;0.518&quot; or any of the other result values in the HTML Tab of FireBug, i can only see it in the DOM Tab."}, {"owner": {"reputation": 2956, "user_id": 1037754, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/b64b3fd43d05802068ac057e5c7fe1df?s=128&d=identicon&r=PG", "display_name": "Michal", "link": "https://stackoverflow.com/users/1037754/michal"}, "reply_to_user": {"reputation": 105, "user_id": 5138911, "user_type": "registered", "accept_rate": 33, "profile_image": "https://www.gravatar.com/avatar/d8635028fabee63246d43cd491af74b3?s=128&d=identicon&r=PG&f=1", "display_name": "Roland Schmitz", "link": "https://stackoverflow.com/users/5138911/roland-schmitz"}, "edited": false, "score": 0, "creation_date": 1437483151, "post_id": 31538844, "comment_id": 51038266, "body": "I&#39;m able to select this element with firebug - just selected firebug&#39;s &#39;inspect arrow&#39; and pointed it on the element. Then I also could evaluate css selector with FirePath extension. Just had to select proper iframe. That are the only options I could use to verify your locators"}, {"owner": {"reputation": 105, "user_id": 5138911, "user_type": "registered", "accept_rate": 33, "profile_image": "https://www.gravatar.com/avatar/d8635028fabee63246d43cd491af74b3?s=128&d=identicon&r=PG&f=1", "display_name": "Roland Schmitz", "link": "https://stackoverflow.com/users/5138911/roland-schmitz"}, "edited": false, "score": 0, "creation_date": 1437484308, "post_id": 31538844, "comment_id": 51039248, "body": "If i use the &quot;inspect arrow&quot; an click on the field, i see this in the HTML Tab <code>&lt;input type=&quot;text&quot; class=&quot;GM53QT1CF GM53QT1CF-readonly&quot; style=&quot;height: 26px; width: 98px;&quot; readonly=&quot;&quot;&gt;</code>  Do i have to select the Frame in FireBug too? if yes, how?"}, {"owner": {"reputation": 2956, "user_id": 1037754, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/b64b3fd43d05802068ac057e5c7fe1df?s=128&d=identicon&r=PG", "display_name": "Michal", "link": "https://stackoverflow.com/users/1037754/michal"}, "reply_to_user": {"reputation": 105, "user_id": 5138911, "user_type": "registered", "accept_rate": 33, "profile_image": "https://www.gravatar.com/avatar/d8635028fabee63246d43cd491af74b3?s=128&d=identicon&r=PG&f=1", "display_name": "Roland Schmitz", "link": "https://stackoverflow.com/users/5138911/roland-schmitz"}, "edited": false, "score": 0, "creation_date": 1437484863, "post_id": 31538844, "comment_id": 51039720, "body": "Yes, that&#39;s ok. But FirePath <a href=\"https://addons.mozilla.org/pl/firefox/addon/firepath/\" rel=\"nofollow noreferrer\">addons.mozilla.org/pl/firefox/addon/firepath</a> allows you to evaluate your locators on the page. On the left of its top menu you can chose desirable frame and check if it&#39;s fine."}, {"owner": {"reputation": 105, "user_id": 5138911, "user_type": "registered", "accept_rate": 33, "profile_image": "https://www.gravatar.com/avatar/d8635028fabee63246d43cd491af74b3?s=128&d=identicon&r=PG&f=1", "display_name": "Roland Schmitz", "link": "https://stackoverflow.com/users/5138911/roland-schmitz"}, "edited": false, "score": 0, "creation_date": 1437485160, "post_id": 31538844, "comment_id": 51039976, "body": "Even in the FirePath Tab i dont see the resulting value if i click on it."}, {"owner": {"reputation": 105, "user_id": 5138911, "user_type": "registered", "accept_rate": 33, "profile_image": "https://www.gravatar.com/avatar/d8635028fabee63246d43cd491af74b3?s=128&d=identicon&r=PG&f=1", "display_name": "Roland Schmitz", "link": "https://stackoverflow.com/users/5138911/roland-schmitz"}, "edited": false, "score": 0, "creation_date": 1437485629, "post_id": 31538844, "comment_id": 51040345, "body": "With Chrome using the developer tools, it&#39;s the same, i don&#39;t see the value"}, {"owner": {"reputation": 2956, "user_id": 1037754, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/b64b3fd43d05802068ac057e5c7fe1df?s=128&d=identicon&r=PG", "display_name": "Michal", "link": "https://stackoverflow.com/users/1037754/michal"}, "reply_to_user": {"reputation": 105, "user_id": 5138911, "user_type": "registered", "accept_rate": 33, "profile_image": "https://www.gravatar.com/avatar/d8635028fabee63246d43cd491af74b3?s=128&d=identicon&r=PG&f=1", "display_name": "Roland Schmitz", "link": "https://stackoverflow.com/users/5138911/roland-schmitz"}, "edited": false, "score": 0, "creation_date": 1437485931, "post_id": 31538844, "comment_id": 51040571, "body": "Ah, ok I see your point now. So I would try either as drkthng mentioned with pointing to the input field and copying its content to the clipboard. Or maybe with some direct JavaScript call."}, {"owner": {"reputation": 105, "user_id": 5138911, "user_type": "registered", "accept_rate": 33, "profile_image": "https://www.gravatar.com/avatar/d8635028fabee63246d43cd491af74b3?s=128&d=identicon&r=PG&f=1", "display_name": "Roland Schmitz", "link": "https://stackoverflow.com/users/5138911/roland-schmitz"}, "edited": false, "score": 1, "creation_date": 1437485998, "post_id": 31538844, "comment_id": 51040613, "body": "PEBCAK - Problem exists between chair and Keyboard!!!  After trying to get this VALUE for days, i just noticed that the get_attribute(&#39;value&#39;) statement was disabled (commented). I guess i disabled it before i noticed yesterday to switch to this iFrame. afterwards i was so focused on FireBug that i missed it.  Thanks a lot siemic!"}, {"owner": {"reputation": 105, "user_id": 5138911, "user_type": "registered", "accept_rate": 33, "profile_image": "https://www.gravatar.com/avatar/d8635028fabee63246d43cd491af74b3?s=128&d=identicon&r=PG&f=1", "display_name": "Roland Schmitz", "link": "https://stackoverflow.com/users/5138911/roland-schmitz"}, "edited": false, "score": 0, "creation_date": 1437486386, "post_id": 31538844, "comment_id": 51040922, "body": "get_attribute(&#39;type&#39;), get_attribute(&#39;title&#39;) and get_text() where still active"}], "tags": [], "owner": {"reputation": 2956, "user_id": 1037754, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/b64b3fd43d05802068ac057e5c7fe1df?s=128&d=identicon&r=PG", "display_name": "Michal", "link": "https://stackoverflow.com/users/1037754/michal"}, "is_accepted": true, "score": 0, "last_activity_date": 1437501622, "last_edit_date": 1437501622, "creation_date": 1437481135, "answer_id": 31538844, "question_id": 31538155, "link": "https://stackoverflow.com/questions/31538155/selenium-unable-to-find-a-element-in-gwt-app/31538844#31538844", "title": "Selenium: unable to find a element in GWT App", "body": "<p>GWT uses iframes - this is not friendly for Selenium tests. \nYour element is included in this iframe: <code>CamosIFramecamosFSV22E4A4C1E_EDC0_768B_CC78_8BA85ABADCCD</code></p>\n\n<p>You need to switch to the iframe first with something like:</p>\n\n<pre><code>driver.switchTo().frame(\"Your-frame-id\");\n</code></pre>\n\n<p>When frames are generated dynamically, which can be the case here, you could try with passing index.</p>\n\n<p>When you're on the correct frame you can try to find your element with css class: <code>input.GM53QT1CF</code> - but as I see it selects all input fields on the page. Selenium takes first one from the list, so in your case it should be ok.</p>\n"}], "owner": {"reputation": 105, "user_id": 5138911, "user_type": "registered", "accept_rate": 33, "profile_image": "https://www.gravatar.com/avatar/d8635028fabee63246d43cd491af74b3?s=128&d=identicon&r=PG&f=1", "display_name": "Roland Schmitz", "link": "https://stackoverflow.com/users/5138911/roland-schmitz"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 207, "favorite_count": 0, "accepted_answer_id": 31538844, "answer_count": 2, "score": 1, "last_activity_date": 1437501622, "creation_date": 1437479098, "question_id": 31538155, "link": "https://stackoverflow.com/questions/31538155/selenium-unable-to-find-a-element-in-gwt-app", "title": "Selenium: unable to find a element in GWT App", "body": "<p>i need to get the text/value from an Element in an GWT app. The app and the Element can be found here:</p>\n\n<p>-open <a href=\"http://www.festo.com/cat/en-us_us/products\" rel=\"nofollow\">http://www.festo.com/cat/en-us_us/products</a></p>\n\n<p>-click on \"Products\"</p>\n\n<p>-click on \"Software\"</p>\n\n<p>-click on \"Rotary indexing table\"</p>\n\n<p>-click on \"Next\"</p>\n\n<p>-click on \"Next\"*</p>\n\n<p>Now you're on page \"3. Load Settings\"</p>\n\n<p>-Enter 50 (kg cm\u00b2) as Mass moment of inertia</p>\n\n<p>-Enter 50 (kg) as Mass</p>\n\n<p>-Enter 50 (mm) as r for as Distance/Lever arm</p>\n\n<p>-Enter 50 (deg) as greek letter theta</p>\n\n<p>-Enter 50 (mm) as Z</p>\n\n<p>-click next \"Next\"</p>\n\n<p>Now your on page \"4. Results\"</p>\n\n<p>Here you see the result for \"C: total cycle time\" (and other results) which will be 0.518 s for the values entered on the Page before.</p>\n\n<p>I'm able to do all this automaticly  with selenium (in perl) till i reach page 4, here i can't grab the results. Can anyone give me an advice what to do? I guess it's not a perl problem.</p>\n\n<p>If i use FireBug to get some more details, i also can't find the resulting value \"0.518\" in the HTML Tab. If i switch to the DOM Tab of FireBug i'm able to find it.</p>\n\n<p>Thx</p>\n\n<p>Roland</p>\n"}, {"tags": ["perl"], "comments": [{"owner": {"reputation": 607, "user_id": 4653950, "user_type": "registered", "profile_image": "https://lh4.googleusercontent.com/-FrV47gEVz_k/AAAAAAAAAAI/AAAAAAAAAVk/dFzylsPK9cE/photo.jpg?sz=128", "display_name": "Turrican", "link": "https://stackoverflow.com/users/4653950/turrican"}, "edited": false, "score": 0, "creation_date": 1437478945, "post_id": 31537907, "comment_id": 51035323, "body": "I think you need to unzip them into a stream and save the stream as file."}, {"owner": {"reputation": 151, "user_id": 4648383, "user_type": "registered", "accept_rate": 29, "profile_image": "https://www.gravatar.com/avatar/e6183bf8be9fd0a6b50b7b813ba9fd2c?s=128&d=identicon&r=PG&f=1", "display_name": "Aditya K", "link": "https://stackoverflow.com/users/4648383/aditya-k"}, "reply_to_user": {"reputation": 607, "user_id": 4653950, "user_type": "registered", "profile_image": "https://lh4.googleusercontent.com/-FrV47gEVz_k/AAAAAAAAAAI/AAAAAAAAAVk/dFzylsPK9cE/photo.jpg?sz=128", "display_name": "Turrican", "link": "https://stackoverflow.com/users/4653950/turrican"}, "edited": false, "score": 0, "creation_date": 1437479173, "post_id": 31537907, "comment_id": 51035473, "body": "without unzipping its not possible??"}, {"owner": {"reputation": 607, "user_id": 4653950, "user_type": "registered", "profile_image": "https://lh4.googleusercontent.com/-FrV47gEVz_k/AAAAAAAAAAI/AAAAAAAAAVk/dFzylsPK9cE/photo.jpg?sz=128", "display_name": "Turrican", "link": "https://stackoverflow.com/users/4653950/turrican"}, "edited": false, "score": 0, "creation_date": 1437479556, "post_id": 31537907, "comment_id": 51035741, "body": "If you really want to merge two zip files into one, you need to concat this files into one file. Later when you need to unzip them, split them again."}, {"owner": {"reputation": 151, "user_id": 4648383, "user_type": "registered", "accept_rate": 29, "profile_image": "https://www.gravatar.com/avatar/e6183bf8be9fd0a6b50b7b813ba9fd2c?s=128&d=identicon&r=PG&f=1", "display_name": "Aditya K", "link": "https://stackoverflow.com/users/4648383/aditya-k"}, "reply_to_user": {"reputation": 607, "user_id": 4653950, "user_type": "registered", "profile_image": "https://lh4.googleusercontent.com/-FrV47gEVz_k/AAAAAAAAAAI/AAAAAAAAAVk/dFzylsPK9cE/photo.jpg?sz=128", "display_name": "Turrican", "link": "https://stackoverflow.com/users/4653950/turrican"}, "edited": false, "score": 1, "creation_date": 1437479684, "post_id": 31537907, "comment_id": 51035834, "body": "that only i am asking , how to merge two zipped files??"}, {"owner": {"reputation": 607, "user_id": 4653950, "user_type": "registered", "profile_image": "https://lh4.googleusercontent.com/-FrV47gEVz_k/AAAAAAAAAAI/AAAAAAAAAVk/dFzylsPK9cE/photo.jpg?sz=128", "display_name": "Turrican", "link": "https://stackoverflow.com/users/4653950/turrican"}, "edited": false, "score": 0, "creation_date": 1437480025, "post_id": 31537907, "comment_id": 51036066, "body": "The problem is not to merge two files... the real proble is split them latter. You can use &quot;cat&quot; to append file data, but you need to know where is the beginning of the next file to split them again. Then, try to insert a string with iteration number before next file."}, {"owner": {"reputation": 151, "user_id": 4648383, "user_type": "registered", "accept_rate": 29, "profile_image": "https://www.gravatar.com/avatar/e6183bf8be9fd0a6b50b7b813ba9fd2c?s=128&d=identicon&r=PG&f=1", "display_name": "Aditya K", "link": "https://stackoverflow.com/users/4648383/aditya-k"}, "reply_to_user": {"reputation": 607, "user_id": 4653950, "user_type": "registered", "profile_image": "https://lh4.googleusercontent.com/-FrV47gEVz_k/AAAAAAAAAAI/AAAAAAAAAVk/dFzylsPK9cE/photo.jpg?sz=128", "display_name": "Turrican", "link": "https://stackoverflow.com/users/4653950/turrican"}, "edited": false, "score": 0, "creation_date": 1437480350, "post_id": 31537907, "comment_id": 51036279, "body": "no need of spliting sir, just i need to cat those files"}, {"owner": {"reputation": 607, "user_id": 4653950, "user_type": "registered", "profile_image": "https://lh4.googleusercontent.com/-FrV47gEVz_k/AAAAAAAAAAI/AAAAAAAAAVk/dFzylsPK9cE/photo.jpg?sz=128", "display_name": "Turrican", "link": "https://stackoverflow.com/users/4653950/turrican"}, "edited": false, "score": 0, "creation_date": 1437480461, "post_id": 31537907, "comment_id": 51036351, "body": "But if you need to unzip later..."}, {"owner": {"reputation": 151, "user_id": 4648383, "user_type": "registered", "accept_rate": 29, "profile_image": "https://www.gravatar.com/avatar/e6183bf8be9fd0a6b50b7b813ba9fd2c?s=128&d=identicon&r=PG&f=1", "display_name": "Aditya K", "link": "https://stackoverflow.com/users/4648383/aditya-k"}, "reply_to_user": {"reputation": 607, "user_id": 4653950, "user_type": "registered", "profile_image": "https://lh4.googleusercontent.com/-FrV47gEVz_k/AAAAAAAAAAI/AAAAAAAAAVk/dFzylsPK9cE/photo.jpg?sz=128", "display_name": "Turrican", "link": "https://stackoverflow.com/users/4653950/turrican"}, "edited": false, "score": 0, "creation_date": 1437480828, "post_id": 31537907, "comment_id": 51036594, "body": "thats not my part of work, my work is to concatinate all zipped files thats it"}], "answers": [{"tags": [], "owner": {"reputation": 142, "user_id": 4277620, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/1c5a3072c70061910402da089e5dac80?s=128&d=identicon&r=PG&f=1", "display_name": "sandeep", "link": "https://stackoverflow.com/users/4277620/sandeep"}, "is_accepted": false, "score": 0, "last_activity_date": 1442851943, "last_edit_date": 1442851943, "creation_date": 1437545413, "answer_id": 31555167, "question_id": 31537907, "link": "https://stackoverflow.com/questions/31537907/how-to-copy-zipped-file-data-to-one-txt-file/31555167#31555167", "title": "How to copy zipped file data to one txt file", "body": "<p>without unzipping the file you can extract the content, the simple and easiest way to do so without using modules is, to use unix command in perl</p>\n\n<pre><code>use strict;\nuse warnings;\nmy $text = `unzip -c customer.xml.gz`;\nprint $text .\"\\n\";\n</code></pre>\n\n<p>AFter extracting the contents, write the same into one.txt file</p>\n"}], "owner": {"reputation": 151, "user_id": 4648383, "user_type": "registered", "accept_rate": 29, "profile_image": "https://www.gravatar.com/avatar/e6183bf8be9fd0a6b50b7b813ba9fd2c?s=128&d=identicon&r=PG&f=1", "display_name": "Aditya K", "link": "https://stackoverflow.com/users/4648383/aditya-k"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 331, "favorite_count": 0, "answer_count": 1, "score": -1, "last_activity_date": 1442851943, "creation_date": 1437478415, "last_edit_date": 1437480908, "question_id": 31537907, "link": "https://stackoverflow.com/questions/31537907/how-to-copy-zipped-file-data-to-one-txt-file", "title": "How to copy zipped file data to one txt file", "body": "<p>Now i need to copy data inside the zip files to one .txt file i.e all R1 folder file data should copy and save in one R1.txt file similarly R2 folder file data should save in one single R2.txt file. is it possible to copy data from zipped files??  </p>\n\n<pre><code>#!/usr/bin/perl\nuse File::Copy;\nuse strict;\nuse warnings;\n\nprint\"Enter Folder name \\n\";\nprint\"File name: \";\nchomp(my $Filename=&lt;&gt;);\n\nmkdir \"R1\";\nmkdir \"R2\";\n\n\nopendir(DIR,\"$Filename\") or die \"cannot open directory\";\nforeach my $name (readdir(DIR))\n{\nnext if ($name =~ /^\\./);\n  if($name =~ /R1/) { #compare $name not $Filename\n   copy(\"$Filename/$name\", \"R1\"); # copy the file from folder to R1 directory\n   system(\"cat  $Filename\\/$name &gt;&gt; R1.txt\");\n}\nelsif($name =~ /R2/){\n   copy(\"$Filename/$name\",\"R2\"); ## copy the file from folder to R2 directory\n system(\"cat  $Filename\\/$name &gt;&gt; R2.txt\");\n    }\n  }\n</code></pre>\n\n<p>thanks in advance.</p>\n"}, {"tags": ["arrays", "perl", "multidimensional-array"], "answers": [{"comments": [{"owner": {"reputation": 392, "user_id": 3598367, "user_type": "registered", "accept_rate": 62, "profile_image": "https://i.stack.imgur.com/qNg18.png?s=128&g=1", "display_name": "Monti Chandra", "link": "https://stackoverflow.com/users/3598367/monti-chandra"}, "edited": false, "score": 0, "creation_date": 1437481062, "post_id": 31538149, "comment_id": 51036748, "body": "Yes. you are right @chankey. Can you please analyse this code-&#39;sub TwoDArrayOutputString2{ \tmy ($array1)= @_;  \tmy $finaloutput=&quot;{&quot;;          foreach my $aref (@array1){     foreach my $inner (@$aref){         $finaloutput.=&quot;{&quot;;         foreach my $elem (@$inner){              $finaloutput.=$elem.&quot;,&quot;;                      }         $finaloutput.=&quot;}&quot;.&quot;,&quot;;     }          }     return $finaloutput;     }                my @array1=[[1,2,3],[1,2,3],[1,2,3]]; print TwoDArrayOutputString2(\\@array1);&#39;"}], "tags": [], "owner": {"reputation": 19192, "user_id": 257635, "user_type": "registered", "accept_rate": 89, "profile_image": "https://i.stack.imgur.com/El2tc.jpg?s=128&g=1", "display_name": "Chankey Pathak", "link": "https://stackoverflow.com/users/257635/chankey-pathak"}, "is_accepted": false, "score": 1, "last_activity_date": 1437480362, "last_edit_date": 1437480362, "creation_date": 1437479086, "answer_id": 31538149, "question_id": 31537862, "link": "https://stackoverflow.com/questions/31537862/in-perl-how-can-i-stringify-a-two-dimensional-array/31538149#31538149", "title": "In Perl, how can I stringify a two dimensional array?", "body": "<p>You could do something like below:</p>\n\n<pre><code>#!/usr/bin/perl\nuse strict;\nuse warnings;\nmy @array1=[[1,2,3],[1,2,3],[1,2,3]];\nforeach my $aref (@array1){\n    foreach my $inner (@$aref){\n        print \"{\";\n        foreach my $elem (@$inner){\n            print \"$elem\";\n            print \",\";\n        }\n        print \"}\";\n    }\n}\n</code></pre>\n\n<p>PS: I did not understand second array in your example i.e. <code>my @array2=((1,2,3),(1,2,3),(1,2,3));</code>. It's basically just <code>my @array2=(1,2,3,1,2,3,1,2,3);</code>. </p>\n"}, {"tags": [], "owner": {"reputation": 3327, "user_id": 1604311, "user_type": "registered", "accept_rate": 73, "profile_image": "https://i.stack.imgur.com/0frKT.jpg?s=128&g=1", "display_name": "Arunesh Singh", "link": "https://stackoverflow.com/users/1604311/arunesh-singh"}, "is_accepted": false, "score": 1, "last_activity_date": 1437481020, "creation_date": 1437481020, "answer_id": 31538807, "question_id": 31537862, "link": "https://stackoverflow.com/questions/31537862/in-perl-how-can-i-stringify-a-two-dimensional-array/31538807#31538807", "title": "In Perl, how can I stringify a two dimensional array?", "body": "<p>One way could be with <code>Data::Dumper</code>. But correctly pass <code>array</code> or <code>array-refs</code> to <code>Dumper</code>. Your <code>@array2</code> is one-dimensional array.</p>\n\n<pre><code>#!/usr/bin/perl\nuse strict;\nuse warnings;\nuse Data::Dumper;\n\nmy @array1=[[1,2,3],[1,2,3],[1,2,3]];\nmy $string = Dumper(@array1);\n\n$string =~ s/\\n|\\s+|.*?=|;//g;  \n$string =~ s/\\[/\\{/g;\n$string =~ s/\\]/\\}/g;\n\nprint $string.\"\\n\";\n</code></pre>\n\n<p><strong>output:</strong></p>\n\n<pre><code>{{1,2,3},{1,2,3},{1,2,3}}\n</code></pre>\n"}, {"tags": [], "owner": {"reputation": 113221, "user_id": 100754, "user_type": "registered", "accept_rate": 90, "profile_image": "https://www.gravatar.com/avatar/7804ebae32fbadef38537d74a915c22f?s=128&d=identicon&r=PG", "display_name": "Sinan &#220;n&#252;r", "link": "https://stackoverflow.com/users/100754/sinan-%c3%9cn%c3%bcr"}, "is_accepted": false, "score": 2, "last_activity_date": 1437492817, "last_edit_date": 1437492817, "creation_date": 1437492173, "answer_id": 31543266, "question_id": 31537862, "link": "https://stackoverflow.com/questions/31537862/in-perl-how-can-i-stringify-a-two-dimensional-array/31543266#31543266", "title": "In Perl, how can I stringify a two dimensional array?", "body": "<p>First off, both of your syntaxes are wrong (compared to what I think you think they do):</p>\n\n<blockquote>\n<pre><code>my @array1=[[1,2,3],[1,2,3],[1,2,3]];\n</code></pre>\n</blockquote>\n\n<p>This results in <code>@array1</code> holding a single reference to an anonymous array which further holds three references to three anonymous arrays when what I think you want is:</p>\n\n<pre><code>my $array1 = [[1,2,3],[1,2,3],[1,2,3]];\n</code></pre>\n\n<p><code>$array1</code> now is a reference to an array that holds three references to three anonymous arrays.</p>\n\n<blockquote>\n<pre><code>my @array2=((1,2,3),(1,2,3),(1,2,3));\n</code></pre>\n</blockquote>\n\n<p>In this case, you are just fooling yourself with all the extra parentheses: All you have is a single array whose elements are <code>1, 2, 3, 1, 2, 3, 1, 2, 3</code>.</p>\n\n<p>You say</p>\n\n<blockquote>\n  <p>now I need to create a subroutine that will return string as {{1,2,3},{1,2,3},{1,2,3}}.</p>\n</blockquote>\n\n<p>That is an odd requirement. Why exactly do you need to create such a subroutine?</p>\n\n<p>If you want to serialize the array as a string, you'd be better off using one of the more standard and interoperable ways of doing it, and pick a format such as <a href=\"https://metacpan.org/pod/JSON::MaybeXS\" rel=\"nofollow\">JSON</a>, <a href=\"https://metacpan.org/pod/YAML::XS\" rel=\"nofollow\">YAML</a>, <a href=\"https://metacpan.org/pod/XML::Simple\" rel=\"nofollow\">XML</a>, <a href=\"https://metacpan.org/pod/Data::Dumper\" rel=\"nofollow\">Data::Dumper</a>, or something else.</p>\n\n<p>For example:</p>\n\n<pre>$ perl -MJSON::MaybeXS=encode_json -E '@array1=([1,2,3],[1,2,3],[1,2,3]); say encode_json \\@array1'\n[[1,2,3],[1,2,3],[1,2,3]]</pre>\n\n<p>or</p>\n\n<pre>$ perl -MData::Dumper -E '@array1=([1,2,3],[1,2,3],[1,2,3]); say Dumper \\@array1'\n$VAR1 = [\n          [\n            1,\n            2,\n            3\n          ],\n          [\n            1,\n            2,\n            3\n          ],\n          [\n            1,\n            2,\n            3\n          ]\n        ];</pre>\n\n<p>or</p>\n\n<pre>$ perl -MYAML::XS -E '@array1=([1,2,3],[1,2,3],[1,2,3]); say Dump \\@array1'\n---\n- - 1\n  - 2\n  - 3\n- - 1\n  - 2\n  - 3\n- - 1\n  - 2\n  - 3</pre>\n\n<p>or</p>\n\n<pre>$ perl -MXML::Simple -E '@array1=([1,2,3],[1,2,3],[1,2,3]); say XMLout(\\@array1)'</pre>\n\n<pre><code>&lt;opt&gt;\n  &lt;anon&gt;\n    &lt;anon&gt;1&lt;/anon&gt;\n    &lt;anon&gt;2&lt;/anon&gt;\n    &lt;anon&gt;3&lt;/anon&gt;\n  &lt;/anon&gt;\n  &lt;anon&gt;\n    &lt;anon&gt;1&lt;/anon&gt;\n    &lt;anon&gt;2&lt;/anon&gt;\n    &lt;anon&gt;3&lt;/anon&gt;\n  &lt;/anon&gt;\n  &lt;anon&gt;\n    &lt;anon&gt;1&lt;/anon&gt;\n    &lt;anon&gt;2&lt;/anon&gt;\n    &lt;anon&gt;3&lt;/anon&gt;\n  &lt;/anon&gt;\n&lt;/opt&gt;\n</code></pre>\n\n<p>If your purpose is to learn how to traverse a multi-dimensional structure and print it, doing it correctly requires attention to a few details. You could study the source of <a href=\"https://metacpan.org/source/ETHER/YAML-Tiny-1.67/lib/YAML/Tiny.pm#L692\" rel=\"nofollow\">YAML::Tiny</a>:</p>\n\n<pre><code>sub _dump_array {\n    my ($self, $array, $indent, $seen) = @_;\n    if ( $seen-&gt;{refaddr($array)}++ ) {\n        die \\\"YAML::Tiny does not support circular references\";\n    }\n    my @lines  = ();\n    foreach my $el ( @$array ) {\n        my $line = ('  ' x $indent) . '-';\n        my $type = ref $el;\n        if ( ! $type ) {\n            $line .= ' ' . $self-&gt;_dump_scalar( $el );\n            push @lines, $line;\n\n        } elsif ( $type eq 'ARRAY' ) {\n            if ( @$el ) {\n                push @lines, $line;\n                push @lines, $self-&gt;_dump_array( $el, $indent + 1, $seen );\n            } else {\n                $line .= ' []';\n                push @lines, $line;\n            }\n\n        } elsif ( $type eq 'HASH' ) {\n            if ( keys %$el ) {\n                push @lines, $line;\n                push @lines, $self-&gt;_dump_hash( $el, $indent + 1, $seen );\n            } else {\n                $line .= ' {}';\n                push @lines, $line;\n            }\n\n        } else {\n            die \\\"YAML::Tiny does not support $type references\";\n        }\n    }\n\n    @lines;\n}\n</code></pre>\n\n<p>Now, for your simple case, you could do something like this:</p>\n\n<pre><code>#!/usr/bin/env perl\n\nuse feature 'say';\nuse strict;\nuse warnings;\n\nmy @array = ([1, 2, 3], [4, 5, 6], [7, 8, 9]);\n\nsay arrayref_to_string([ map arrayref_to_string($_), @array]);\n\nsub arrayref_to_string { sprintf '{%s}', join(q{,}, @{$_[0]}) }\n</code></pre>\n\n<p>Output:</p>\n\n<pre>{{1,2,3},{4,5,6},{7,8,9}}</pre>\n"}], "owner": {"reputation": 392, "user_id": 3598367, "user_type": "registered", "accept_rate": 62, "profile_image": "https://i.stack.imgur.com/qNg18.png?s=128&g=1", "display_name": "Monti Chandra", "link": "https://stackoverflow.com/users/3598367/monti-chandra"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 640, "favorite_count": 0, "answer_count": 3, "score": 1, "last_activity_date": 1437492817, "creation_date": 1437478309, "last_edit_date": 1437492291, "question_id": 31537862, "link": "https://stackoverflow.com/questions/31537862/in-perl-how-can-i-stringify-a-two-dimensional-array", "title": "In Perl, how can I stringify a two dimensional array?", "body": "<p>Technically speaking there are no multi-dimensional arrays in Perl, but you can use single dimensional arrays in Perl to act as if they had more than one dimension.</p>\n\n<p>In Perl each element of an array can be a reference to another array, but syntactically they would look like a two-dimensional array.</p>\n\n<p>I want to convert 2-dimensional integer array into string in Perl. I have declared 2-dimensional integer array as follows:</p>\n\n<pre><code>my @array1=[[1,2,3],[1,2,3],[1,2,3]];\n</code></pre>\n\n<p>OR</p>\n\n<pre><code>my @array2=((1,2,3),(1,2,3),(1,2,3));\n</code></pre>\n\n<p>now I need to create a subroutine that will return string as <code>\"{{1,2,3},{1,2,3},{1,2,3}}\"</code>. I have tried the following subroutine:</p>\n\n<pre><code>sub TwoDArrayOutputString { \n    my ($outputs)= @_; \n    my $finaloutput=\"{\";\n    foreach my $output ($outputs) { \n        foreach my $out (@$output) { \n        $finaloutput.=\"{\".\"}\";\n        #$finaloutput.=\"{\".join(',',@output).\"}\";\n        }\n        $finaloutput.=\",\";\n    }   \n    $finaloutput.=\"}\";\n    return $finaloutput;  \n}  \n\n\nsub TwoDArrayOutputString1 { \n    my ($outputs)= @_; \n    if ( ref($outputs) eq \"REF\" ) {$outputs = ${$outputs};}\n    my $finaloutput=\"{\";\n    foreach my $output ($outputs) {        \n        foreach my $out (@$output) { \n        $finaloutput.=\"{\".\"}\";\n        #$finaloutput.=\"{\".join(',',@output).\"}\";\n        }\n        $finaloutput.=\",\";\n    }   \n    $finaloutput.=\"}\";\n    return $finaloutput;  \n}  \n\n\nsub TwoDArrayOutputString2{\n    my ($array)= @_; \n    my $finaloutput=\"{\";\n    for my $row ( 0..$#array ) {    \n    my @columns = @{ $array[$row] };  # Dereferencing my array reference\n    $finaloutput.=\"{\";\n    for my $column ( @columns ) {\n        $finaloutput.=$column.\",\";\n    }   \n    $finaloutput=substr($finaloutput,0,length($finaloutput)-1);\n    $finaloutput.=\"}\".\",\";  \n    }\n    $finaloutput=substr($finaloutput,0,length($finaloutput)-1);\n    $finaloutput.=\"}\";    \n    return $finaloutput;  \n} \n\n\n\nprint TwoDArrayOutputString(@array1).\"\\n\";\n\nprint TwoDArrayOutputString1(@array1).\"\\n\";\n\nprint TwoDArrayOutputString2(@array1).\"\\n\".\"\\n\".\"\\n\".\"\\n\";\n\nprint TwoDArrayOutputString(@array2).\"\\n\";\n\nprint TwoDArrayOutputString1(@array2).\"\\n\";\n\nprint TwoDArrayOutputString2(@array2).\"\\n\".\"\\n\".\"\\n\".\"\\n\";\n</code></pre>\n\n<p>Output: </p>\n\n<pre><code>{{}{}{},}\n{{}{}{},}\n}\n\n\n\n{,}\n{,}\n}\n</code></pre>\n\n<p>and my expected output is <code>{{1,2,3},{1,2,3},{1,2,3}}</code>.</p>\n"}, {"tags": ["perl", "overwrite"], "answers": [{"comments": [{"owner": {"reputation": 3, "user_id": 5137383, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/6d0f9eac74ed59438a6314597b836a7f?s=128&d=identicon&r=PG&f=1", "display_name": "data group", "link": "https://stackoverflow.com/users/5137383/data-group"}, "edited": false, "score": 0, "creation_date": 1437474732, "post_id": 31536408, "comment_id": 51032663, "body": "can you expalin more ellaborative with some examples"}, {"owner": {"reputation": 51521, "user_id": 2566198, "user_type": "registered", "accept_rate": 67, "profile_image": "https://i.stack.imgur.com/Y34ZA.jpg?s=128&g=1", "display_name": "Sobrique", "link": "https://stackoverflow.com/users/2566198/sobrique"}, "reply_to_user": {"reputation": 3, "user_id": 5137383, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/6d0f9eac74ed59438a6314597b836a7f?s=128&d=identicon&r=PG&f=1", "display_name": "data group", "link": "https://stackoverflow.com/users/5137383/data-group"}, "edited": false, "score": 1, "creation_date": 1437475898, "post_id": 31536408, "comment_id": 51033334, "body": "Not really - what you&#39;re trying to do <i>doesn&#39;t work</i> with plain text."}], "tags": [], "owner": {"reputation": 51521, "user_id": 2566198, "user_type": "registered", "accept_rate": 67, "profile_image": "https://i.stack.imgur.com/Y34ZA.jpg?s=128&g=1", "display_name": "Sobrique", "link": "https://stackoverflow.com/users/2566198/sobrique"}, "is_accepted": false, "score": 4, "last_activity_date": 1437474754, "last_edit_date": 1437474754, "creation_date": 1437474155, "answer_id": 31536408, "question_id": 31536231, "link": "https://stackoverflow.com/questions/31536231/how-to-read-write-append-the-input-file-using-perl/31536408#31536408", "title": "How to read, write, append the input file using perl", "body": "<p>Bear in mind what you're looking at doing here - you're opening a file for reading, reading it one line at a time.</p>\n\n<p>What do you <em>think</em> is going to happen when you modify that file in the process? </p>\n\n<p>There's also some constraints - Windows doesn't support concurrent opening for read/write anyway.</p>\n\n<p>However take a look at <a href=\"http://perldoc.perl.org/functions/open.html\" rel=\"nofollow\"><code>open</code></a> specifically:</p>\n\n<blockquote>\n  <p>You can put a <code>+</code> in front of the <code>&gt;</code> or <code>&lt;</code> to indicate that you want both read and write access to the file; thus <code>+&lt;</code> is almost always preferred for read/write updates--the <code>+&gt;</code> mode would clobber the file first. <strong>You can't usually use either read-write mode for updating textfiles, since they have variable-length records.</strong> See the -i switch in perlrun for a better approach. The file is created with permissions of 0666 modified by the process's umask value.</p>\n</blockquote>\n\n<p>What I would suggest instead though - don't read and write from the same file at all. Rename one, execute your process, verify that it worked properly, and <em>then</em> tidy up afterwards. </p>\n\n<p>That way a partial success won't mean corrupted data. </p>\n\n<p>You can use the <code>-i</code> flag - see <a href=\"http://perldoc.perl.org/perlrun.html\" rel=\"nofollow\"><code>perlrun</code></a> - this allows you to in place edit as you might be used to with <code>sed</code>. (Can be used within program via <code>$^I</code> - see <a href=\"http://perldoc.perl.org/perlvar.html\" rel=\"nofollow\"><code>perlvar</code></a> )</p>\n\n<p>There's a couple of constraints on doing this though - specifically it <em>only</em> works if you're using the <code>while ( &lt;&gt; ) {</code> construct. Practically speaking, I think this wouldn't be a good choice outside more simplistic programs - it's doing something implicitly, so might not be entirely clear to future readers, and it's doing essentially the same thing as opening and renaming anyway. </p>\n"}], "owner": {"reputation": 3, "user_id": 5137383, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/6d0f9eac74ed59438a6314597b836a7f?s=128&d=identicon&r=PG&f=1", "display_name": "data group", "link": "https://stackoverflow.com/users/5137383/data-group"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 423, "favorite_count": 0, "answer_count": 1, "score": 0, "last_activity_date": 1437474754, "creation_date": 1437473670, "last_edit_date": 1437474127, "question_id": 31536231, "link": "https://stackoverflow.com/questions/31536231/how-to-read-write-append-the-input-file-using-perl", "title": "How to read, write, append the input file using perl", "body": "<p>How to read and overwrite the same input file using perl?</p>\n\n<p>My input:</p>\n\n<pre><code>GCGCCACTGCACTCCAGCCTGGGCGACAGAGC (873 TO 904)   GCTCTGTCGCCCAGGCTGGAGTGCAGTGGCGC (3033 TO 3064)\nCAAAAAAAAAAAAAAAAAAA (917 TO 936)   TTTTTTTTTTTTTTTTTTTG (2998 TO 3017)\nAAAAAAAAAAAAAAAAAAAG (922 TO 941)   CTTTTTTTTTTTTTTTTTTT (2997 TO 3016)\n</code></pre>\n\n<p>I tried the below code:</p>\n\n<pre><code>#!/usr/local/bin/perl \nopen($in,'&lt;',\"/home/httpd/cgi-bin/exa.txt\") || die(\"error\");\nopen($out,'&gt;&gt;',\"/home/httpd/cgi-bin/exa.txt\")||die(\"error\");\nwhile(&lt;$in&gt;)\n{\n\nprint $out;\n}\nclose $in;\nclose $out;\n</code></pre>\n"}, {"tags": ["perl", "ubuntu", "command"], "comments": [{"owner": {"reputation": 48798, "user_id": 223226, "user_type": "registered", "accept_rate": 93, "profile_image": "https://i.stack.imgur.com/iGqE4.png?s=128&g=1", "display_name": "mpapec", "link": "https://stackoverflow.com/users/223226/mpapec"}, "edited": false, "score": 1, "creation_date": 1437474834, "post_id": 31535859, "comment_id": 51032724, "body": "File::Copy and perdoc -f mkdir"}, {"owner": {"reputation": 51521, "user_id": 2566198, "user_type": "registered", "accept_rate": 67, "profile_image": "https://i.stack.imgur.com/Y34ZA.jpg?s=128&g=1", "display_name": "Sobrique", "link": "https://stackoverflow.com/users/2566198/sobrique"}, "edited": false, "score": 0, "creation_date": 1437474860, "post_id": 31535859, "comment_id": 51032740, "body": "Also - what problem are you having?"}, {"owner": {"reputation": 151, "user_id": 4648383, "user_type": "registered", "accept_rate": 29, "profile_image": "https://www.gravatar.com/avatar/e6183bf8be9fd0a6b50b7b813ba9fd2c?s=128&d=identicon&r=PG&f=1", "display_name": "Aditya K", "link": "https://stackoverflow.com/users/4648383/aditya-k"}, "edited": false, "score": 0, "creation_date": 1437475234, "post_id": 31535859, "comment_id": 51032952, "body": "its not copying to particular directory"}, {"owner": {"reputation": 3327, "user_id": 1604311, "user_type": "registered", "accept_rate": 73, "profile_image": "https://i.stack.imgur.com/0frKT.jpg?s=128&g=1", "display_name": "Arunesh Singh", "link": "https://stackoverflow.com/users/1604311/arunesh-singh"}, "edited": false, "score": 0, "creation_date": 1437477788, "post_id": 31535859, "comment_id": 51034594, "body": "Hi @aditya please don&#39;t remove the question here. If you wish you can add to previous question or ask a new question."}, {"owner": {"reputation": 151, "user_id": 4648383, "user_type": "registered", "accept_rate": 29, "profile_image": "https://www.gravatar.com/avatar/e6183bf8be9fd0a6b50b7b813ba9fd2c?s=128&d=identicon&r=PG&f=1", "display_name": "Aditya K", "link": "https://stackoverflow.com/users/4648383/aditya-k"}, "edited": false, "score": 0, "creation_date": 1437477934, "post_id": 31535859, "comment_id": 51034687, "body": "how to retrive the question again, because i have updated by deleting that. now how can i retrive that?"}, {"owner": {"reputation": 3327, "user_id": 1604311, "user_type": "registered", "accept_rate": 73, "profile_image": "https://i.stack.imgur.com/0frKT.jpg?s=128&g=1", "display_name": "Arunesh Singh", "link": "https://stackoverflow.com/users/1604311/arunesh-singh"}, "edited": false, "score": 0, "creation_date": 1437478147, "post_id": 31535859, "comment_id": 51034826, "body": "make it this question again <a href=\"http://stackoverflow.com/posts/31535859/edit/4bcc4f8d-edee-42f4-87a2-145d01c15923\">stackoverflow.com/posts/31535859/edit/&hellip;</a> .Use edit option"}], "answers": [{"comments": [{"owner": {"reputation": 151, "user_id": 4648383, "user_type": "registered", "accept_rate": 29, "profile_image": "https://www.gravatar.com/avatar/e6183bf8be9fd0a6b50b7b813ba9fd2c?s=128&d=identicon&r=PG&f=1", "display_name": "Aditya K", "link": "https://stackoverflow.com/users/4648383/aditya-k"}, "edited": false, "score": 0, "creation_date": 1437475352, "post_id": 31536749, "comment_id": 51033020, "body": "its just creating folders but not copying anything"}], "tags": [], "owner": {"reputation": 51521, "user_id": 2566198, "user_type": "registered", "accept_rate": 67, "profile_image": "https://i.stack.imgur.com/Y34ZA.jpg?s=128&g=1", "display_name": "Sobrique", "link": "https://stackoverflow.com/users/2566198/sobrique"}, "is_accepted": false, "score": 0, "last_activity_date": 1437475457, "last_edit_date": 1437475457, "creation_date": 1437475142, "answer_id": 31536749, "question_id": 31535859, "link": "https://stackoverflow.com/questions/31535859/how-to-copy-whole-directory-to-perticular-folder-in-perl-script/31536749#31536749", "title": "How to copy whole directory to perticular folder in perl script", "body": "<p>I think your problem is this line:</p>\n\n<pre><code>if ( $Filename =~ /\\S+(R\\d)/ ) {\n</code></pre>\n\n<p>Because what it's matching is <code>R</code> followed by any digit. So will be true for files called <code>R1</code>, <code>R2</code>, <code>R9</code> or indeed <code>R99999</code></p>\n\n<p>You need to capture the result of that regular expression match. (By the way - an unanchored <code>\\S+</code> isn't going to do much in this example either. That just means 'one or more non spaces' before the R. </p>\n\n<p>How about:</p>\n\n<pre><code> if ( my ( $R_Num ) = ( $Filename =~ /_(R\\d+)_/ ) {\n     print \"R number is $R_Num\\n\"; \n }\n</code></pre>\n\n<p>Because then you can work based on what that's set to (and if the match fails, the <code>if</code> will test false). </p>\n"}, {"comments": [{"owner": {"reputation": 151, "user_id": 4648383, "user_type": "registered", "accept_rate": 29, "profile_image": "https://www.gravatar.com/avatar/e6183bf8be9fd0a6b50b7b813ba9fd2c?s=128&d=identicon&r=PG&f=1", "display_name": "Aditya K", "link": "https://stackoverflow.com/users/4648383/aditya-k"}, "edited": false, "score": 0, "creation_date": 1437476879, "post_id": 31536950, "comment_id": 51033959, "body": "Its working sir, my next step is pooling the data, consider updated question . thanks for ur answer !!!!"}, {"owner": {"reputation": 151, "user_id": 4648383, "user_type": "registered", "accept_rate": 29, "profile_image": "https://www.gravatar.com/avatar/e6183bf8be9fd0a6b50b7b813ba9fd2c?s=128&d=identicon&r=PG&f=1", "display_name": "Aditya K", "link": "https://stackoverflow.com/users/4648383/aditya-k"}, "edited": false, "score": 0, "creation_date": 1437477730, "post_id": 31536950, "comment_id": 51034561, "body": "did u got my new question? kindly work on that its very urgent"}, {"owner": {"reputation": 3327, "user_id": 1604311, "user_type": "registered", "accept_rate": 73, "profile_image": "https://i.stack.imgur.com/0frKT.jpg?s=128&g=1", "display_name": "Arunesh Singh", "link": "https://stackoverflow.com/users/1604311/arunesh-singh"}, "reply_to_user": {"reputation": 151, "user_id": 4648383, "user_type": "registered", "accept_rate": 29, "profile_image": "https://www.gravatar.com/avatar/e6183bf8be9fd0a6b50b7b813ba9fd2c?s=128&d=identicon&r=PG&f=1", "display_name": "Aditya K", "link": "https://stackoverflow.com/users/4648383/aditya-k"}, "edited": false, "score": 0, "creation_date": 1437477924, "post_id": 31536950, "comment_id": 51034679, "body": "Don&#39;t remove the previous question. When you edited you removed the question . Please rollback the edit and ask a new question regarding the text copy part."}, {"owner": {"reputation": 151, "user_id": 4648383, "user_type": "registered", "accept_rate": 29, "profile_image": "https://www.gravatar.com/avatar/e6183bf8be9fd0a6b50b7b813ba9fd2c?s=128&d=identicon&r=PG&f=1", "display_name": "Aditya K", "link": "https://stackoverflow.com/users/4648383/aditya-k"}, "edited": false, "score": 0, "creation_date": 1437477971, "post_id": 31536950, "comment_id": 51034712, "body": "how to retrive the question again, because i have updated by deleting that. now how can i retrive that?"}, {"owner": {"reputation": 151, "user_id": 4648383, "user_type": "registered", "accept_rate": 29, "profile_image": "https://www.gravatar.com/avatar/e6183bf8be9fd0a6b50b7b813ba9fd2c?s=128&d=identicon&r=PG&f=1", "display_name": "Aditya K", "link": "https://stackoverflow.com/users/4648383/aditya-k"}, "edited": false, "score": 0, "creation_date": 1437478486, "post_id": 31536950, "comment_id": 51035024, "body": "i have asked new question which is contineation of this question, kindly help me out"}], "tags": [], "owner": {"reputation": 3327, "user_id": 1604311, "user_type": "registered", "accept_rate": 73, "profile_image": "https://i.stack.imgur.com/0frKT.jpg?s=128&g=1", "display_name": "Arunesh Singh", "link": "https://stackoverflow.com/users/1604311/arunesh-singh"}, "is_accepted": true, "score": 0, "last_activity_date": 1437475765, "last_edit_date": 1437475765, "creation_date": 1437475656, "answer_id": 31536950, "question_id": 31535859, "link": "https://stackoverflow.com/questions/31535859/how-to-copy-whole-directory-to-perticular-folder-in-perl-script/31536950#31536950", "title": "How to copy whole directory to perticular folder in perl script", "body": "<p>Use <code>File::Copy</code> to copy the files. As @sobrique said <code>$Filename =~ /\\S+(R\\d)</code> it matches any digit followed by R.But I guess you are intersted in <code>R1</code> and <code>R2</code> only. Try this:  </p>\n\n<pre><code>#!/usr/bin/perl\nuse File::Copy;\nuse strict;\nuse warnings;\n\nprint\"Enter Folder name \\n\";\nprint\"File name: \";\nchomp(my $Filename=&lt;&gt;);\n\nmkdir \"R1\";\nmkdir \"R2\";\n\n\nopendir(DIR,\"$Filename\") or die \"cannot open directory\";\nforeach my $name (readdir(DIR))\n{\nnext if ($name =~ /^\\./);\nif($name =~ /R1/) { #compare $name not $Filename\n   copy(\"$Filename/$name\", \"R1\"); # copy the file from folder to R1 directory\n   }\nelsif($name =~ /R2/){\n   copy(\"$Filename/$name\",\"R2\"); ## copy the file from folder to R2 directory\n    }\n  }\n</code></pre>\n"}], "owner": {"reputation": 151, "user_id": 4648383, "user_type": "registered", "accept_rate": 29, "profile_image": "https://www.gravatar.com/avatar/e6183bf8be9fd0a6b50b7b813ba9fd2c?s=128&d=identicon&r=PG&f=1", "display_name": "Aditya K", "link": "https://stackoverflow.com/users/4648383/aditya-k"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 342, "favorite_count": 0, "accepted_answer_id": 31536950, "answer_count": 2, "score": -2, "last_activity_date": 1437478170, "creation_date": 1437472649, "last_edit_date": 1437478170, "question_id": 31535859, "link": "https://stackoverflow.com/questions/31535859/how-to-copy-whole-directory-to-perticular-folder-in-perl-script", "title": "How to copy whole directory to perticular folder in perl script", "body": "<p>I am trying to copy zipped files which are stored in one directory to another folder by matching there names.<br>\nBelow image are the folder names which is the input for my program.<br>\n<img src=\"https://i.stack.imgur.com/HOp2e.png\" alt=\"enter image description here\"></p>\n\n<p>From this list i am taking only \"Sample_51\" folder , inside this folder i have Zipped files like below,<br>\n<img src=\"https://i.stack.imgur.com/9hxEq.png\" alt=\"enter image description here\">\nNow i need to copy all \"R1\" name files to R1 folder and all \"R2\" named files to R2 folder.  </p>\n\n<p>Below i have tried to do so , help me out to do as explained above,   </p>\n\n<pre><code>#! use/bin/perl\n\nprint \"Enter Folder name \\n\";\nprint \"File name: \";\nchomp( my $Filename = &lt;&gt; );\n\nsystem(\"mkdir R1\");\nsystem(\"mkdir R2\");\n\nopendir( DIR, \"$Filename\" ) or die \"cannot open directory\";\nforeach my $name ( readdir(DIR) ) {\n    next if ( $name =~ /^\\./ );\n    next if ( $name =~ /^\\.\\./ );\n\n    if ( $Filename =~ /\\S+(R\\d)/ ) {\n\n        system(\"cp -r $Filename R1\");\n    }\n    else {\n        system(\"cp -r $Filename R2\");\n    }\n}\n</code></pre>\n\n<p>After copying this one more step is there, than i will update after fixing this issue,<br>\nthanks in advance </p>\n"}, {"tags": ["perl", "coding-style"], "comments": [{"owner": {"reputation": 29951, "user_id": 8233, "user_type": "registered", "accept_rate": 69, "profile_image": "https://www.gravatar.com/avatar/5ed2571484765d12fcb3230f235a8ecc?s=128&d=identicon&r=PG", "display_name": "Michael Carman", "link": "https://stackoverflow.com/users/8233/michael-carman"}, "edited": false, "score": 0, "creation_date": 1437485687, "post_id": 31533842, "comment_id": 51040386, "body": "You can put the <code>);</code> right after the opening <code>&lt;&lt;&#39;SQL&#39;</code> instead of the closing one."}], "answers": [{"comments": [{"owner": {"reputation": 48798, "user_id": 223226, "user_type": "registered", "accept_rate": 93, "profile_image": "https://i.stack.imgur.com/iGqE4.png?s=128&g=1", "display_name": "mpapec", "link": "https://stackoverflow.com/users/223226/mpapec"}, "edited": false, "score": 0, "creation_date": 1437471764, "post_id": 31534994, "comment_id": 51030624, "body": "Second one look&#39;s nice, but not sure how to dynamically build a query with literals like now()."}, {"owner": {"reputation": 62184, "user_id": 7231, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/81b76985f3985e35492e25880493d045?s=128&d=identicon&r=PG", "display_name": "Dave Cross", "link": "https://stackoverflow.com/users/7231/dave-cross"}, "reply_to_user": {"reputation": 48798, "user_id": 223226, "user_type": "registered", "accept_rate": 93, "profile_image": "https://i.stack.imgur.com/iGqE4.png?s=128&g=1", "display_name": "mpapec", "link": "https://stackoverflow.com/users/223226/mpapec"}, "edited": false, "score": 0, "creation_date": 1437471939, "post_id": 31534994, "comment_id": 51030738, "body": "The first one is <b>much</b> nicer :-)"}, {"owner": {"reputation": 48798, "user_id": 223226, "user_type": "registered", "accept_rate": 93, "profile_image": "https://i.stack.imgur.com/iGqE4.png?s=128&g=1", "display_name": "mpapec", "link": "https://stackoverflow.com/users/223226/mpapec"}, "edited": false, "score": 1, "creation_date": 1437473981, "post_id": 31534994, "comment_id": 51032154, "body": "No offence Dave but I&#39;m more familiar and confident with SQL. With dbix I would always think about how does SQL look under the hood."}, {"owner": {"reputation": 62184, "user_id": 7231, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/81b76985f3985e35492e25880493d045?s=128&d=identicon&r=PG", "display_name": "Dave Cross", "link": "https://stackoverflow.com/users/7231/dave-cross"}, "reply_to_user": {"reputation": 48798, "user_id": 223226, "user_type": "registered", "accept_rate": 93, "profile_image": "https://i.stack.imgur.com/iGqE4.png?s=128&g=1", "display_name": "mpapec", "link": "https://stackoverflow.com/users/223226/mpapec"}, "edited": false, "score": 2, "creation_date": 1437474315, "post_id": 31534994, "comment_id": 51032399, "body": "I used to be exactly the same. But you can get DBIC to show you the SQL it&#39;s running and after a few weeks of checking it, I realised that it was as good (or, perhaps, better) at writing SQL than I was :-)"}], "tags": [], "owner": {"reputation": 62184, "user_id": 7231, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/81b76985f3985e35492e25880493d045?s=128&d=identicon&r=PG", "display_name": "Dave Cross", "link": "https://stackoverflow.com/users/7231/dave-cross"}, "is_accepted": true, "score": 5, "last_activity_date": 1437470251, "creation_date": 1437470251, "answer_id": 31534994, "question_id": 31533842, "link": "https://stackoverflow.com/questions/31533842/how-to-format-sql-statements-in-perl-code-style/31534994#31534994", "title": "How to format SQL statements in perl (code-style)", "body": "<p>I'd recommend removing all SQL from your program completely by switching to <a href=\"https://metacpan.org/pod/DBIx::Class\">DBIx::Class</a>. If that's a little scary, then perhaps a halfway house like <a href=\"https://metacpan.org/pod/Data::Phrasebook::SQL\">Data::Phrasebook::SQL</a>.</p>\n\n<p>In general, having raw SQL statements in your Perl code is a pretty bad idea.</p>\n"}], "owner": {"reputation": 1662, "user_id": 136109, "user_type": "registered", "accept_rate": 50, "profile_image": "https://www.gravatar.com/avatar/45a59c427c320dd7ea7ef38f4990ae4f?s=128&d=identicon&r=PG", "display_name": "MyGGaN", "link": "https://stackoverflow.com/users/136109/myggan"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 394, "favorite_count": 0, "accepted_answer_id": 31534994, "answer_count": 1, "score": 2, "last_activity_date": 1437470251, "creation_date": 1437466946, "last_edit_date": 1437468163, "question_id": 31533842, "link": "https://stackoverflow.com/questions/31533842/how-to-format-sql-statements-in-perl-code-style", "title": "How to format SQL statements in perl (code-style)", "body": "<p>I'd like to please <a href=\"http://search.cpan.org/dist/Perl-Critic/bin/perlcritic\" rel=\"nofollow\">perlcritic</a> and have easy to read SQL queries in my code. Currently this is how I do it:</p>\n\n<pre><code>if (defined $dbh) {\n    $sth = $dbh-&gt;prepare(&lt;&lt;'SQL'\nSELECT firstname, lastname, email, country\nFROM Person\nJOIN Country ON Person.countryID = Country.ID\nWHERE age = ?\n  AND sex = ?\nLIMIT 100\nSQL\n    );\n}\n</code></pre>\n\n<p>The statement is not indented at all witch makes it pop if the context is indented. I find this nice since it makes it easy to spot the stmt and they're split into several lines to make them easy to read.</p>\n\n<p>However, if the context is not indented this looks really messy. And if possible I don't like to introduce newlines or unnecessary white spaces in my stmt. Also <code>SQL</code> at the end of the stmt and the dangling <code>);</code> is not nice either.</p>\n\n<p>Please suggest a good style-guide on this matter that I can adopt.</p>\n"}, {"tags": ["perl"], "answers": [{"comments": [{"owner": {"reputation": 1154, "user_id": 3388005, "user_type": "registered", "accept_rate": 41, "profile_image": "https://www.gravatar.com/avatar/517c4aefa072b993dffcf04a90229172?s=128&d=identicon&r=PG&f=1", "display_name": "Saurabh Shrivastava", "link": "https://stackoverflow.com/users/3388005/saurabh-shrivastava"}, "edited": false, "score": 0, "creation_date": 1437472050, "post_id": 31533471, "comment_id": 51030798, "body": "Thanks a lot, i searched a lot and people gave suggestions like make different notepad file for each child and then merge it etc etc. Your solution is awesome. Highly appreciated."}], "tags": [], "owner": {"reputation": 2450, "user_id": 1186729, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/ec301bbe6bfd4c849a29d715f6094745?s=128&d=identicon&r=PG", "display_name": "Denis Ibaev", "link": "https://stackoverflow.com/users/1186729/denis-ibaev"}, "is_accepted": true, "score": 4, "last_activity_date": 1437465772, "creation_date": 1437465772, "answer_id": 31533471, "question_id": 31533054, "link": "https://stackoverflow.com/questions/31533054/how-to-extract-data-from-parallelforkmanager-in-perl/31533471#31533471", "title": "How to extract data from Parallel::ForkManager in perl", "body": "<p>You need to add <code>run_on_finish</code> <a href=\"http://metacpan.org/pod/Parallel::ForkManager#CALLBACKS\" rel=\"nofollow\">callback</a> to the manager instance \u0430nd call <code>finish</code> <a href=\"http://metacpan.org/pod/Parallel::ForkManager#METHODS\" rel=\"nofollow\">method</a> with 2 arguments into the child. So you can get second parameter of the <code>finish</code> call as sixth argument of the <code>run_on_finish</code> callback.</p>\n\n<pre class=\"lang-perl prettyprint-override\"><code># parent\nmy @arr;\n$pm-&gt;run_on_finish(sub {\n    push(@arr, ${$_[5]});\n});\n\n# child\nmy $val = 42;\n$pm-&gt;finish(0, \\$val);\n\n# parent\n$pm-&gt;wait_all_children();\nprint($_, \"\\n\") for @arr;\n</code></pre>\n"}, {"comments": [{"owner": {"reputation": 238, "user_id": 1100614, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/WUKbM.jpg?s=128&g=1", "display_name": "Martin von Wittich", "link": "https://stackoverflow.com/users/1100614/martin-von-wittich"}, "edited": false, "score": 0, "creation_date": 1481149137, "post_id": 31534111, "comment_id": 69264259, "body": "Hmm... wouldn&#39;t this block the parent until the respective child has closed the pipe?"}], "tags": [], "owner": {"reputation": 51521, "user_id": 2566198, "user_type": "registered", "accept_rate": 67, "profile_image": "https://i.stack.imgur.com/Y34ZA.jpg?s=128&g=1", "display_name": "Sobrique", "link": "https://stackoverflow.com/users/2566198/sobrique"}, "is_accepted": false, "score": 2, "last_activity_date": 1437467767, "creation_date": 1437467767, "answer_id": 31534111, "question_id": 31533054, "link": "https://stackoverflow.com/questions/31533054/how-to-extract-data-from-parallelforkmanager-in-perl/31534111#31534111", "title": "How to extract data from Parallel::ForkManager in perl", "body": "<p>It's not so much a limitation of <code>Parallel::ForkManager</code> as a general limit of parallel code.  <code>fork</code> spawns a new process that is a copy of the existing one. It has it's own memory space, and anything that changes between child and parent is ... well, changed.</p>\n\n<p>Threading has much the same problem. </p>\n\n<p>There's quite a big chapter on how to work with interprocess communications - <a href=\"http://perldoc.perl.org/perlipc.html\" rel=\"nofollow\"><code>perlipc</code></a> </p>\n\n<p><code>Parallel::ForkManager</code> in particular has a couple of mechanisms for returning data to the parent process. Personally - I don't really get along iwth it, because whilst it works, it's also trying to be rather a general solution to the problem. </p>\n\n<p>I'd be thinking rather something like using pipes to transfer the information back to the parent process. </p>\n\n<pre><code>use strict;\nuse warnings;\nuse Data::Dumper;\n\nuse Parallel::ForkManager;\nuse IO::Pipe;\n\nmy $pm = Parallel::ForkManager-&gt;new(2);\n\nfor ( 1 .. 4 ) {\n    my $pipe = IO::Pipe-&gt;new();\n    my $pid  = $pm-&gt;start;\n    if ($pid) {\n\n        #parent\n        $pipe-&gt;reader-&gt;autoflush;\n        while (&lt;$pipe&gt;) {\n            print \"Got data from $pid: $_\\n\";\n        }\n        close ( $pipe );\n    }\n    else {\n        #is child\n        $pipe-&gt;writer-&gt;autoflush;\n        print {$pipe} \"Child $$ says hello!\";\n        close($pipe);\n        print \"Child $$ exiting\\n\";\n    }\n    $pm-&gt;finish;\n}\n</code></pre>\n"}], "owner": {"reputation": 1154, "user_id": 3388005, "user_type": "registered", "accept_rate": 41, "profile_image": "https://www.gravatar.com/avatar/517c4aefa072b993dffcf04a90229172?s=128&d=identicon&r=PG&f=1", "display_name": "Saurabh Shrivastava", "link": "https://stackoverflow.com/users/3388005/saurabh-shrivastava"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 458, "favorite_count": 0, "accepted_answer_id": 31533471, "answer_count": 2, "score": 1, "last_activity_date": 1437467767, "creation_date": 1437464526, "question_id": 31533054, "link": "https://stackoverflow.com/questions/31533054/how-to-extract-data-from-parallelforkmanager-in-perl", "title": "How to extract data from Parallel::ForkManager in perl", "body": "<p>I am using google just for explaining my issue.<br>\nI have calculated Latency time for search request on google and i am printing it.<br>\nNow, i need data like max time, min time, average time. So i am trying to push data to array which can be manipulated later on. \nArray is coming out to be blank. Seems this is limitation of parallel-forkmanager. Please suggest some work around.</p>\n\n<p>My code:</p>\n\n<pre><code>use Parallel::ForkManager;\nuse WWW::Mechanize;\nuse LWP::UserAgent;\nuse Time::HiRes qw/gettimeofday/;\nuse Time::Format qw/%time/;\nuse POSIX       qw( strftime );\nuse Time::HiRes qw( gettimeofday );\n$count=5;\n@arr=();\n$pm = new Parallel::ForkManager($count);   \nfor(1..$count)  \n{     \n  $pm-&gt;start and next;      \n  $m = WWW::Mechanize-&gt;new();\n  $m-&gt;get( \"http://www.google.com\" );\n  $s1=gettimeofday;\n  my ($secs, $microsecs) = gettimeofday();\n  print strftime(\"%H:%M:%S\", localtime($secs)) . sprintf(\".%04d\",\n\n$microsecs/10);\n  $m-&gt;submit_form(\n  form_number =&gt; 1,\n  fields    =&gt; {q=&gt;'abcd'},\n  );\n\n  print \" \";\n  print $m-&gt;title;\n  print \" \";\n  $s2=gettimeofday;\n  my ($secs, $microsecs) = gettimeofday();\n  print strftime(\"%H:%M:%S\", localtime($secs)) . sprintf(\".%04d\",   \n\n$microsecs/10);\n  $s3=$s2-$s1;\n  $s3=$s3*1000;\n  print \"  $s3\\n\";\n  push(@arr,$s3);\n  $pm-&gt;finish   }  \n\n$pm-&gt;wait_all_children; ## wait for the child processes\nforeach(@arr)\n{\nprint \"$_\\n\";\n}\n</code></pre>\n"}, {"tags": ["git", "perl", "gitweb"], "comments": [{"owner": {"reputation": 50468, "user_id": 1331451, "user_type": "registered", "accept_rate": 96, "profile_image": "https://i.stack.imgur.com/4ZPmj.png?s=128&g=1", "display_name": "simbabque", "link": "https://stackoverflow.com/users/1331451/simbabque"}, "edited": false, "score": 2, "creation_date": 1437466248, "post_id": 31532625, "comment_id": 51027107, "body": "That looks like you are missing CGI. Did you install the latest Perl, which is 5.22 right now? <a href=\"http://perldoc.perl.org/perl5220delta.html#Removed-Modules-and-Pragmata\" rel=\"nofollow noreferrer\">CGI got removed from the Perl core with that release</a>, so you need to install it from <a href=\"https://metacpan.org/pod/distribution/CGI/lib/CGI.pod\" rel=\"nofollow noreferrer\">CPAN</a>."}, {"owner": {"reputation": 438, "user_id": 3729039, "user_type": "registered", "accept_rate": 100, "profile_image": "https://i.stack.imgur.com/YOSum.jpg?s=128&g=1", "display_name": "Mohamed Amjad LASRI", "link": "https://stackoverflow.com/users/3729039/mohamed-amjad-lasri"}, "reply_to_user": {"reputation": 50468, "user_id": 1331451, "user_type": "registered", "accept_rate": 96, "profile_image": "https://i.stack.imgur.com/4ZPmj.png?s=128&g=1", "display_name": "simbabque", "link": "https://stackoverflow.com/users/1331451/simbabque"}, "edited": false, "score": 0, "creation_date": 1437467870, "post_id": 31532625, "comment_id": 51028063, "body": "Using CPAN:   Database was generated on Mon, 20 Jul 2015 12:29:02 GMT CGI is up to date (4.21). My perl version: v5.14.2"}, {"owner": {"reputation": 50468, "user_id": 1331451, "user_type": "registered", "accept_rate": 96, "profile_image": "https://i.stack.imgur.com/4ZPmj.png?s=128&g=1", "display_name": "simbabque", "link": "https://stackoverflow.com/users/1331451/simbabque"}, "edited": false, "score": 0, "creation_date": 1437480380, "post_id": 31532625, "comment_id": 51036298, "body": "What version of gitweb is that? In the newest version there is no <code>gitweb&#47;index.cgi</code>, there is only a <code>index.perl</code> file, and te string <code>startform</code> is not in that file. Also <a href=\"http://repo.or.cz/w/git.git/blob/HEAD:/gitweb/gitweb.perl#l5267\" rel=\"nofollow noreferrer\">line 5267 is something else entirely</a>."}, {"owner": {"reputation": 50468, "user_id": 1331451, "user_type": "registered", "accept_rate": 96, "profile_image": "https://i.stack.imgur.com/4ZPmj.png?s=128&g=1", "display_name": "simbabque", "link": "https://stackoverflow.com/users/1331451/simbabque"}, "edited": false, "score": 0, "creation_date": 1437480606, "post_id": 31532625, "comment_id": 51036453, "body": "Maybe relevant, though I didn&#39;t read all of it: <a href=\"https://bugs.debian.org/cgi-bin/bugreport.cgi?bug=767960\" rel=\"nofollow noreferrer\">bugs.debian.org/cgi-bin/bugreport.cgi?bug=767960</a> - is your gitweb up to date?"}, {"owner": {"reputation": 438, "user_id": 3729039, "user_type": "registered", "accept_rate": 100, "profile_image": "https://i.stack.imgur.com/YOSum.jpg?s=128&g=1", "display_name": "Mohamed Amjad LASRI", "link": "https://stackoverflow.com/users/3729039/mohamed-amjad-lasri"}, "reply_to_user": {"reputation": 50468, "user_id": 1331451, "user_type": "registered", "accept_rate": 96, "profile_image": "https://i.stack.imgur.com/4ZPmj.png?s=128&g=1", "display_name": "simbabque", "link": "https://stackoverflow.com/users/1331451/simbabque"}, "edited": false, "score": 0, "creation_date": 1437483456, "post_id": 31532625, "comment_id": 51038510, "body": "I installed gitweb using apt-get install gitweb. I ll install the latest stable version. <a href=\"https://git-scm.com/book/en/v2/Git-on-the-Server-GitWeb\" rel=\"nofollow noreferrer\">git-scm.com/book/en/v2/Git-on-the-Server-GitWeb</a>"}], "answers": [{"tags": [], "owner": {"reputation": 1337, "user_id": 3969362, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/cE9IP.png?s=128&g=1", "display_name": "Slion", "link": "https://stackoverflow.com/users/3969362/slion"}, "is_accepted": false, "score": 0, "last_activity_date": 1444991771, "creation_date": 1444991771, "answer_id": 33168394, "question_id": 31532625, "link": "https://stackoverflow.com/questions/31532625/xml-parsing-error-when-trying-to-configure-gitweb-after-installing-bugzilla-perl/33168394#33168394", "title": "XML parsing error when trying to configure gitweb after installing BugZilla perl dependencies", "body": "<p>On Windows with either ActivePerl or Strawberry 5.22 I was getting that same error. Installing CGI module and replacing both \"startform\" instances in gitweb.cgi with \"start_form\" fixed the problem.</p>\n\n<p>However I still could not get gitweb to list my projects for some reason.\nGit version is 1.9.5.</p>\n"}, {"tags": [], "owner": {"reputation": 36, "user_id": 6845826, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/2fc79398fb0ab13ce8a04bb8932b9287?s=128&d=identicon&r=PG&f=1", "display_name": "djoerch", "link": "https://stackoverflow.com/users/6845826/djoerch"}, "is_accepted": true, "score": 2, "last_activity_date": 1474215382, "creation_date": 1474215382, "answer_id": 39559855, "question_id": 31532625, "link": "https://stackoverflow.com/questions/31532625/xml-parsing-error-when-trying-to-configure-gitweb-after-installing-bugzilla-perl/39559855#39559855", "title": "XML parsing error when trying to configure gitweb after installing BugZilla perl dependencies", "body": "<p>Had the same error message for gitweb with apache on Ubuntu after upgrading to 16.04. As stated by Slion, changing the two instances of \"startform\" to \"start_form\" in gitweb.cgi worked and I could use gitweb as before.</p>\n"}, {"comments": [{"owner": {"reputation": 608, "user_id": 984799, "user_type": "registered", "accept_rate": 73, "profile_image": "https://www.gravatar.com/avatar/6cebbf62a3d35e99fed44775f2dc1577?s=128&d=identicon&r=PG", "display_name": "lowq", "link": "https://stackoverflow.com/users/984799/lowq"}, "edited": false, "score": 0, "creation_date": 1594848199, "post_id": 62920644, "comment_id": 111274751, "body": "This solved my problem (<i>within three hours?</i>), although I believe this is why they recommend you always do a system upgrade when installing packages. (Full disclosure: <i>I didn&#39;t</i>)"}], "tags": [], "owner": {"reputation": 1838, "user_id": 8776746, "user_type": "registered", "accept_rate": 83, "profile_image": "https://www.gravatar.com/avatar/53083a92cbf253fb60fdbf5684f7aa4b?s=128&d=identicon&r=PG", "display_name": "ynn", "link": "https://stackoverflow.com/users/8776746/ynn"}, "is_accepted": false, "score": 1, "last_activity_date": 1594865022, "last_edit_date": 1594865022, "creation_date": 1594834353, "answer_id": 62920644, "question_id": 31532625, "link": "https://stackoverflow.com/questions/31532625/xml-parsing-error-when-trying-to-configure-gitweb-after-installing-bugzilla-perl/62920644#62920644", "title": "XML parsing error when trying to configure gitweb after installing BugZilla perl dependencies", "body": "<p>In my case, the commands below worked like a charm on Arch Linux.</p>\n<pre class=\"lang-sh prettyprint-override\"><code>$ sudo pacman -Rs perl-cgi #uninstalls\n$ sudo pacman -S perl #updates to the latest version\n$ sudo pacman -S perl-cgi #installs\n</code></pre>\n<p>(You may think this is the same as <code>sudo pacman -S perl-cgi</code> but, in my case, <code>perl-cgi</code> was already latest. Though perhaps just upgrading <code>perl</code> will do, the commands above are what I did anyway.)</p>\n<p>I found this solution because I encountered the error on my server (with <code>perl 5.30.2</code>) after succeeding a simple test on my main desktop computer (with <code>perl 5.30.3</code>).</p>\n"}], "owner": {"reputation": 438, "user_id": 3729039, "user_type": "registered", "accept_rate": 100, "profile_image": "https://i.stack.imgur.com/YOSum.jpg?s=128&g=1", "display_name": "Mohamed Amjad LASRI", "link": "https://stackoverflow.com/users/3729039/mohamed-amjad-lasri"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 537, "favorite_count": 0, "accepted_answer_id": 39559855, "answer_count": 3, "score": 3, "last_activity_date": 1594865022, "creation_date": 1437463060, "last_edit_date": 1437468117, "question_id": 31532625, "link": "https://stackoverflow.com/questions/31532625/xml-parsing-error-when-trying-to-configure-gitweb-after-installing-bugzilla-perl", "title": "XML parsing error when trying to configure gitweb after installing BugZilla perl dependencies", "body": "<p>I installed and configured git, gitolite and gitweb on a personal sever it works fine at the begining and I had my web view on my repositories. but when I tried to install BugZilla (with <a href=\"https://www.bugzilla.org/docs/2.18/html/installation.html#install-perlmodules\" rel=\"nofollow\">all perl dependencies</a>) I had a an error message on the racine of my gitweb URL:</p>\n\n<pre><code>XML Parsing Error: XML or text declaration not at start of entity Location: http://xxx.xxx.xx.xx/gitweb/ Line Number 22, Column 1:\n</code></pre>\n\n<p>\nThe generated web page (firebug):</p>\n\n<pre class=\"lang-html prettyprint-override\"><code>&lt;?xml version=\"1.0\" encoding=\"utf-8\"?&gt;\n&lt;!DOCTYPE html PUBLIC \"-//W3C//DTD XHTML 1.0 Strict//EN\" \"http://www.w3.org/TR/xhtml1/DTD/xhtml1-strict.dtd\"&gt;\n&lt;html xmlns=\"http://www.w3.org/1999/xhtml\" xml:lang=\"en-US\" lang=\"en-US\"&gt;\n&lt;!-- git web interface version 1.7.10.4, (C) 2005-2006, Kay Sievers &lt;kay.sievers@vrfy.org&gt;, Christian Gierke --&gt;\n&lt;!-- git core binaries version 1.7.10.4 --&gt;\n&lt;head&gt;\n&lt;meta http-equiv=\"content-type\" content=\"application/xhtml+xml; charset=utf-8\"/&gt;\n&lt;meta name=\"generator\" content=\"gitweb/1.7.10.4 git/1.7.10.4\"/&gt;\n&lt;meta name=\"robots\" content=\"index, nofollow\"/&gt;\n&lt;title&gt;xxx.xxx.xx.xx Git&lt;/title&gt;\n&lt;link rel=\"stylesheet\" type=\"text/css\" href=\"static/gitweb.css\"/&gt;\n&lt;link rel=\"alternate\" title=\"xxx.xxx.xx.xx Git projects list\" href=\"/gitweb/?a=project_index\" type=\"text/plain; charset=utf-8\" /&gt;\n&lt;link rel=\"alternate\" title=\"xxx.xxx.xx.xx Git projects feeds\" href=\"/gitweb/?a=opml\" type=\"text/x-opml\" /&gt;\n&lt;link rel=\"shortcut icon\" href=\"static/git-favicon.png\" type=\"image/png\" /&gt;\n&lt;/head&gt;\n&lt;body&gt;\n&lt;div class=\"page_header\"&gt;\n&lt;a href=\"http://git-scm.com/\" title=\"git homepage\"&gt;&lt;img alt=\"git\" class=\"logo\" height=\"27\" src=\"static/git-logo.png\" width=\"72\" /&gt;&lt;/a&gt;&lt;a href=\"/gitweb/\"&gt;projects&lt;/a&gt; / &lt;/div&gt;\n&lt;div class=\"projsearch\"&gt;\nContent-type: text/html\n\n&lt;?xml version=\"1.0\" encoding=\"utf-8\"?&gt;\n&lt;!DOCTYPE html PUBLIC \"-//W3C//DTD XHTML 1.0 Strict//EN\" \"http://www.w3.org/TR/xhtml1/DTD/xhtml1-strict.dtd\"&gt;\n&lt;html xmlns=\"http://www.w3.org/1999/xhtml\" xml:lang=\"en-US\" lang=\"en-US\"&gt;\n&lt;!-- git web interface version 1.7.10.4, (C) 2005-2006, Kay Sievers &lt;kay.sievers@vrfy.org&gt;, Christian Gierke --&gt;\n&lt;!-- git core binaries version 1.7.10.4 --&gt;\n&lt;head&gt;\n&lt;meta http-equiv=\"content-type\" content=\"application/xhtml+xml; charset=utf-8\"/&gt;\n&lt;meta name=\"generator\" content=\"gitweb/1.7.10.4 git/1.7.10.4\"/&gt;\n&lt;meta name=\"robots\" content=\"index, nofollow\"/&gt;\n&lt;title&gt;xxx.xxx.xx.xx Git&lt;/title&gt;\n&lt;link rel=\"stylesheet\" type=\"text/css\" href=\"static/gitweb.css\"/&gt;\n&lt;link rel=\"shortcut icon\" href=\"static/git-favicon.png\" type=\"image/png\" /&gt;\n&lt;/head&gt;\n&lt;body&gt;\n&lt;div class=\"page_header\"&gt;\n&lt;a href=\"http://git-scm.com/\" title=\"git homepage\"&gt;&lt;img alt=\"git\" class=\"logo\" height=\"27\" src=\"static/git-logo.png\" width=\"72\" /&gt;&lt;/a&gt;&lt;a href=\"/gitweb/\"&gt;projects&lt;/a&gt; / &lt;/div&gt;\n&lt;div class=\"page_body\"&gt;\n&lt;br /&gt;&lt;br /&gt;\n500 - Internal Server Error\n&lt;br /&gt;\n&lt;hr /&gt;\nCan't locate object method &amp;quot;startform&amp;quot; via package &amp;quot;CGI&amp;quot; at /usr/share/gitweb/index.cgi line 5267.\n\n&lt;/div&gt;\n&lt;div class=\"page_footer\"&gt;\n&lt;a class=\"rss_logo\" href=\"/gitweb/?a=opml\"&gt;OPML&lt;/a&gt; &lt;a class=\"rss_logo\" href=\"/gitweb/?a=project_index\"&gt;TXT&lt;/a&gt;\n&lt;/div&gt;\n&lt;script type=\"text/javascript\" src=\"static/gitweb.js\"&gt;&lt;/script&gt;\n&lt;script type=\"text/javascript\"&gt;\nwindow.onload = function () {\n    var tz_cookie = { name: 'gitweb_tz', expires: 14, path: '/' };\n    onloadTZSetup('local', tz_cookie, 'datetime');\n};\n&lt;/script&gt;\n&lt;/body&gt;\n&lt;/html&gt;\n</code></pre>\n\n<p>I think that this error is due to the perl modules installed when I tried to install BugZilla.</p>\n\n<p>How to de-install all perl modules and re-install default modules?</p>\n\n<p>I use Apache as web server.</p>\n\n<p>Does anyone have any idea on how to solve this?</p>\n\n<p><strong>UPDATE1:</strong></p>\n\n<p>My perl version is : v5.14.2</p>\n\n<p>CGI version: 4.21</p>\n"}, {"tags": ["perl", "csv", "automation"], "answers": [{"comments": [{"owner": {"reputation": 204, "user_id": 1789095, "user_type": "registered", "accept_rate": 38, "profile_image": "https://i.stack.imgur.com/qbBuS.jpg?s=128&g=1", "display_name": "arka.b", "link": "https://stackoverflow.com/users/1789095/arka-b"}, "edited": false, "score": 0, "creation_date": 1437459219, "post_id": 31531468, "comment_id": 51023468, "body": "I am getting an error <code>Unknown PerlIO layer &quot;outfile&quot; at htmlparse.pl line 22. Unable to open &lt;outfile&gt; for writing : No such file or directory at htmlparse.pl   line 22.</code>. Here the line 22 is <b>open(my $OUTFILE, &quot;&lt;outfile&gt;&quot;, &quot;rw&quot;)</b>"}, {"owner": {"reputation": 60461, "user_id": 3636601, "user_type": "registered", "accept_rate": 75, "profile_image": "https://www.gravatar.com/avatar/69a1b4f750ece89db0e49c94519f1a7d?s=128&d=identicon&r=PG&f=1", "display_name": "Jens", "link": "https://stackoverflow.com/users/3636601/jens"}, "reply_to_user": {"reputation": 204, "user_id": 1789095, "user_type": "registered", "accept_rate": 38, "profile_image": "https://i.stack.imgur.com/qbBuS.jpg?s=128&g=1", "display_name": "arka.b", "link": "https://stackoverflow.com/users/1789095/arka-b"}, "edited": false, "score": 0, "creation_date": 1437459364, "post_id": 31531468, "comment_id": 51023525, "body": "@arka.b You have to replace &quot;&lt;outfile&gt;&quot; with the real file name."}, {"owner": {"reputation": 204, "user_id": 1789095, "user_type": "registered", "accept_rate": 38, "profile_image": "https://i.stack.imgur.com/qbBuS.jpg?s=128&g=1", "display_name": "arka.b", "link": "https://stackoverflow.com/users/1789095/arka-b"}, "edited": false, "score": 0, "creation_date": 1437459615, "post_id": 31531468, "comment_id": 51023657, "body": "I am using now as this <code>open(my $OUTFILE, &quot;test.csv&quot;, &quot;rw&quot;)</code> and I am getting this error <i>Unknown open() mode &#39;test&#39; at htmlparse.pl line 22.</i>"}, {"owner": {"reputation": 60461, "user_id": 3636601, "user_type": "registered", "accept_rate": 75, "profile_image": "https://www.gravatar.com/avatar/69a1b4f750ece89db0e49c94519f1a7d?s=128&d=identicon&r=PG&f=1", "display_name": "Jens", "link": "https://stackoverflow.com/users/3636601/jens"}, "reply_to_user": {"reputation": 204, "user_id": 1789095, "user_type": "registered", "accept_rate": 38, "profile_image": "https://i.stack.imgur.com/qbBuS.jpg?s=128&g=1", "display_name": "arka.b", "link": "https://stackoverflow.com/users/1789095/arka-b"}, "edited": false, "score": 0, "creation_date": 1437459902, "post_id": 31531468, "comment_id": 51023775, "body": "Have changed my answer to <code>open(my $OUTFILE, &quot;&gt;&quot;, &quot;&lt;outfile&gt;&quot; )</code>. Try again."}, {"owner": {"reputation": 204, "user_id": 1789095, "user_type": "registered", "accept_rate": 38, "profile_image": "https://i.stack.imgur.com/qbBuS.jpg?s=128&g=1", "display_name": "arka.b", "link": "https://stackoverflow.com/users/1789095/arka-b"}, "edited": false, "score": 0, "creation_date": 1437460469, "post_id": 31531468, "comment_id": 51024036, "body": "It is working, but the entire output in two boxes. How about using comma (,) <b>in the excel output</b> <code>ConnectionTime,signalstrength,ulCurrentDataRate, batterystatus</code> and then in the next line <code>03:20:59:46,Good,2.48 Kbps,Fully Charged</code>"}, {"owner": {"reputation": 60461, "user_id": 3636601, "user_type": "registered", "accept_rate": 75, "profile_image": "https://www.gravatar.com/avatar/69a1b4f750ece89db0e49c94519f1a7d?s=128&d=identicon&r=PG&f=1", "display_name": "Jens", "link": "https://stackoverflow.com/users/3636601/jens"}, "reply_to_user": {"reputation": 204, "user_id": 1789095, "user_type": "registered", "accept_rate": 38, "profile_image": "https://i.stack.imgur.com/qbBuS.jpg?s=128&g=1", "display_name": "arka.b", "link": "https://stackoverflow.com/users/1789095/arka-b"}, "edited": false, "score": 0, "creation_date": 1437460798, "post_id": 31531468, "comment_id": 51024215, "body": "If you want to use comma as a seperator change <code>join(&quot;\\t&quot;,@</code> to <code>join(&quot;,&quot;,@</code>. And if you are running under windows you have to change <code>\\n</code> to `\\r\\n`."}, {"owner": {"reputation": 204, "user_id": 1789095, "user_type": "registered", "accept_rate": 38, "profile_image": "https://i.stack.imgur.com/qbBuS.jpg?s=128&g=1", "display_name": "arka.b", "link": "https://stackoverflow.com/users/1789095/arka-b"}, "edited": false, "score": 0, "creation_date": 1437632241, "post_id": 31531468, "comment_id": 51112618, "body": "Small problem here, How can I fix the output in a particular cell of the CSV ?"}, {"owner": {"reputation": 60461, "user_id": 3636601, "user_type": "registered", "accept_rate": 75, "profile_image": "https://www.gravatar.com/avatar/69a1b4f750ece89db0e49c94519f1a7d?s=128&d=identicon&r=PG&f=1", "display_name": "Jens", "link": "https://stackoverflow.com/users/3636601/jens"}, "reply_to_user": {"reputation": 204, "user_id": 1789095, "user_type": "registered", "accept_rate": 38, "profile_image": "https://i.stack.imgur.com/qbBuS.jpg?s=128&g=1", "display_name": "arka.b", "link": "https://stackoverflow.com/users/1789095/arka-b"}, "edited": false, "score": 0, "creation_date": 1437632315, "post_id": 31531468, "comment_id": 51112664, "body": "@arka.b Sorry can&#39;t get you."}, {"owner": {"reputation": 204, "user_id": 1789095, "user_type": "registered", "accept_rate": 38, "profile_image": "https://i.stack.imgur.com/qbBuS.jpg?s=128&g=1", "display_name": "arka.b", "link": "https://stackoverflow.com/users/1789095/arka-b"}, "edited": false, "score": 0, "creation_date": 1437632382, "post_id": 31531468, "comment_id": 51112685, "body": "For example <code>imsi</code> was in cell <code>A2</code>, so when I rerun the code that same <code>imsi</code> is now on <code>G1</code> .."}, {"owner": {"reputation": 60461, "user_id": 3636601, "user_type": "registered", "accept_rate": 75, "profile_image": "https://www.gravatar.com/avatar/69a1b4f750ece89db0e49c94519f1a7d?s=128&d=identicon&r=PG&f=1", "display_name": "Jens", "link": "https://stackoverflow.com/users/3636601/jens"}, "reply_to_user": {"reputation": 204, "user_id": 1789095, "user_type": "registered", "accept_rate": 38, "profile_image": "https://i.stack.imgur.com/qbBuS.jpg?s=128&g=1", "display_name": "arka.b", "link": "https://stackoverflow.com/users/1789095/arka-b"}, "edited": false, "score": 0, "creation_date": 1437632532, "post_id": 31531468, "comment_id": 51112756, "body": "@arka.b I have no idea how this can be happend."}], "tags": [], "owner": {"reputation": 60461, "user_id": 3636601, "user_type": "registered", "accept_rate": 75, "profile_image": "https://www.gravatar.com/avatar/69a1b4f750ece89db0e49c94519f1a7d?s=128&d=identicon&r=PG&f=1", "display_name": "Jens", "link": "https://stackoverflow.com/users/3636601/jens"}, "is_accepted": true, "score": 2, "last_activity_date": 1437459730, "last_edit_date": 1437459730, "creation_date": 1437458665, "answer_id": 31531468, "question_id": 31531371, "link": "https://stackoverflow.com/questions/31531371/perl-output-into-csv-file/31531468#31531468", "title": "Perl output into CSV file", "body": "<p>Store the input values in an array and then print them to a file.</p>\n\n<pre><code>#!usr/bin/perl\n\nuse strict;\nuse warnings;\nuse HTML::TokeParser::Simple;\n\nmy $url = '&lt;some URL&gt;';\nmy $parser = HTML::TokeParser::Simple-&gt;new(url =&gt; $url);\nmy %tags;\nwhile (my $tag = $parser-&gt;get_tag('input')) {\n           my $id=$tag-&gt;get_attr('id'); # get id attribute value    \n           my $value = $tag-&gt;get_attr('value'); # get value attribute value\n           $tags{$id}=$value;\n }\nmy @tags;\nmy @values;\nfor (keys %tags){\n   push (@tags, $_);\n   push (@values, $tags{$_});\n}\n\nopen(my $OUTFILE, \"&gt;\", \"&lt;outfile&gt;\" )\n    or die \"Unable to open &lt;outfile&gt; for writing : $!\";\nprint $OUTFILE join(\"\\t\",@tags).\"\\n\";\nprint $OUTFILE join(\"\\t\",@values).\"\\n\";\n</code></pre>\n"}], "owner": {"reputation": 204, "user_id": 1789095, "user_type": "registered", "accept_rate": 38, "profile_image": "https://i.stack.imgur.com/qbBuS.jpg?s=128&g=1", "display_name": "arka.b", "link": "https://stackoverflow.com/users/1789095/arka-b"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 1272, "favorite_count": 0, "accepted_answer_id": 31531468, "answer_count": 1, "score": 2, "last_activity_date": 1437463448, "creation_date": 1437458264, "last_edit_date": 1437459143, "question_id": 31531371, "link": "https://stackoverflow.com/questions/31531371/perl-output-into-csv-file", "title": "Perl output into CSV file", "body": "<p><strong>Question:</strong>\nI would like to <em>print</em> the output into CSV file instead of in the command prompt itself. </p>\n\n<p>Here is the piece of code in perl:</p>\n\n<pre><code>#!/usr/bin/perl\n\nuse strict;\nuse warnings;\nuse HTML::TokeParser::Simple;\n\nmy $url = '&lt;some URL&gt;';\nmy $parser = HTML::TokeParser::Simple-&gt;new( url =&gt; $url );\nmy %tags;\nwhile ( my $tag = $parser-&gt;get_tag('input') ) {\n    my $id    = $tag-&gt;get_attr('id');    # get id attribute value    \n    my $value = $tag-&gt;get_attr('value'); # get value attribute value\n    $tags{$id} = $value;\n}\n\nfor (keys %tags) {\n    print \"$_ =&gt; $tags{$_} \\n\";  \n}\n</code></pre>\n\n<p><strong>Output in command prompt</strong></p>\n\n<pre><code>ConnectionTime =&gt; 03:20:59:46\nsignalstrength =&gt; Good\nulCurrentDataRate =&gt; 2.48 Kbps\nbatterystatus =&gt; Fully Charged\n</code></pre>\n\n<p><strong>Required Output in CSV file</strong></p>\n\n<p><code>ConnectionTime signalstrength ulCurrentDataRate batterystatus</code><br>\n<code>03:20:59:46       Good        2.48 Kbps          Fully Charged</code></p>\n"}, {"tags": ["regex", "perl", "split"], "comments": [{"owner": {"reputation": 62184, "user_id": 7231, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/81b76985f3985e35492e25880493d045?s=128&d=identicon&r=PG", "display_name": "Dave Cross", "link": "https://stackoverflow.com/users/7231/dave-cross"}, "edited": false, "score": 2, "creation_date": 1437465340, "post_id": 31530121, "comment_id": 51026628, "body": "Yet another example where <code>use strict</code> and <code>use warnings</code> would have got you a lot closer to a solution."}], "answers": [{"comments": [{"owner": {"reputation": 3327, "user_id": 1604311, "user_type": "registered", "accept_rate": 73, "profile_image": "https://i.stack.imgur.com/0frKT.jpg?s=128&g=1", "display_name": "Arunesh Singh", "link": "https://stackoverflow.com/users/1604311/arunesh-singh"}, "reply_to_user": {"reputation": 61610, "user_id": 725418, "user_type": "registered", "accept_rate": 86, "profile_image": "https://www.gravatar.com/avatar/82ac2dc3e1ad4b7187f245c416528df9?s=128&d=identicon&r=PG", "display_name": "TLP", "link": "https://stackoverflow.com/users/725418/tlp"}, "edited": false, "score": 0, "creation_date": 1437453425, "post_id": 31530289, "comment_id": 51021629, "body": "Right but from the OP point, I guess he wants 4th field. The third field is <code>is</code> which is quite redundant and useless"}], "tags": [], "owner": {"reputation": 3327, "user_id": 1604311, "user_type": "registered", "accept_rate": 73, "profile_image": "https://i.stack.imgur.com/0frKT.jpg?s=128&g=1", "display_name": "Arunesh Singh", "link": "https://stackoverflow.com/users/1604311/arunesh-singh"}, "is_accepted": true, "score": 3, "last_activity_date": 1437457385, "last_edit_date": 1437457385, "creation_date": 1437452292, "answer_id": 31530289, "question_id": 31530121, "link": "https://stackoverflow.com/questions/31530121/how-to-extract-third-column-from-multiple-lines-using-perl-split/31530289#31530289", "title": "How to extract third column from multiple lines using perl split?", "body": "<p>In your example you are taking the whole data in array and trying to <code>split $m[3]</code> i.e you are referring <code>$m</code> as array, where <code>$m</code>is scalar. When you will use <code>use strict</code> and <code>use warnings</code>,\nthen you will get error:</p>\n\n<pre><code>Global symbol \"@m\" requires explicit package name at data.pl\n</code></pre>\n\n<p>That's why you are not getting your output. You should try this:</p>\n\n<pre><code>#!usr/local/bin/perl \nuse strict;\nuse warnings;\n\n\nmy @arr=&lt;DATA&gt;;\nforeach my $m (@arr)\n{\nmy @res=split(/\\s+/,$m); # $m will contain each line of file split it with one or more spaces\nprint \"$res[3]\\n\"; # print the fourth field\n}\n</code></pre>\n\n<p>A shorter version will be:</p>\n\n<pre><code>print ((split)[3].\"\\n\") while(&lt;DATA&gt;);\n</code></pre>\n\n<p>Output:</p>\n\n<pre><code>9.00am\n10.00am\n11.00am\n12.00am\n13.00pm\n</code></pre>\n"}, {"tags": [], "owner": {"reputation": 4514, "user_id": 4248931, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/HijcJ.png?s=128&g=1", "display_name": "serenesat", "link": "https://stackoverflow.com/users/4248931/serenesat"}, "is_accepted": false, "score": 0, "last_activity_date": 1437471784, "creation_date": 1437471784, "answer_id": 31535556, "question_id": 31530121, "link": "https://stackoverflow.com/questions/31530121/how-to-extract-third-column-from-multiple-lines-using-perl-split/31535556#31535556", "title": "How to extract third column from multiple lines using perl split?", "body": "<p>Here is the Perl one liner to extract a column (note: this will work for whitespace delimited file only):</p>\n\n<pre><code>perl -ane \"print qq(@F[3]\\n)\" filename.txt\n</code></pre>\n\n<p>Output:</p>\n\n<pre><code>9.00am\n10.00am\n11.00am\n12.00am\n13.00pm\n</code></pre>\n\n<p>See <a href=\"http://perldoc.perl.org/perlrun.html\" rel=\"nofollow\">perlrun</a> to understand execution the Perl interpreter.</p>\n"}], "owner": {"reputation": 3, "user_id": 5137383, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/6d0f9eac74ed59438a6314597b836a7f?s=128&d=identicon&r=PG&f=1", "display_name": "data group", "link": "https://stackoverflow.com/users/5137383/data-group"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 300, "favorite_count": 0, "accepted_answer_id": 31530289, "answer_count": 2, "score": 0, "last_activity_date": 1437471941, "creation_date": 1437451168, "last_edit_date": 1437471941, "question_id": 31530121, "link": "https://stackoverflow.com/questions/31530121/how-to-extract-third-column-from-multiple-lines-using-perl-split", "title": "How to extract third column from multiple lines using perl split?", "body": "<p>To extract the third column from the sentence of multiple lines in a file I tried using <code>map</code> and <code>split</code>. I get the fine result and I tried to extract only using split:</p>\n\n<pre><code>#!usr/local/bin/perl \n@arr=&lt;DATA&gt;;  \nforeach $m (@arr)\n{\n@res=split(/\\s+/,$m[3]);\nprint \"@res\\n\";\n}\n</code></pre>\n\n<hr>\n\n<pre><code>__DATA__\nthe time is 9.00am\nthe time is 10.00am\nthe time is 11.00am\nthe time is 12.00am\nthe time is 13.00pm\n</code></pre>\n"}, {"tags": ["perl", "google-api", "google-sheets", "google-spreadsheet-api"], "answers": [{"tags": [], "owner": {"reputation": 165, "user_id": 771598, "user_type": "registered", "accept_rate": 33, "profile_image": "https://www.gravatar.com/avatar/2a681cc0b8305198e9b4310815ebc215?s=128&d=identicon&r=PG", "display_name": "sushil", "link": "https://stackoverflow.com/users/771598/sushil"}, "is_accepted": false, "score": 0, "last_activity_date": 1437515245, "last_edit_date": 1437515245, "creation_date": 1437502346, "answer_id": 31546598, "question_id": 31527911, "link": "https://stackoverflow.com/questions/31527911/perl-using-netgooglespreadsheets-gives-error-in-libxml/31546598#31546598", "title": "Perl: Using Net::Google::Spreadsheets gives error in libxml", "body": "<p>For anyone having the same problem here is the solution.</p>\n\n<p>Looks like between the time when this module was written and today google has changed their API so the documentation of the module needs to be modified.</p>\n\n<p>By changing the key => 'the key' to id => 'the key' solved the problem.</p>\n\n<p>So the correct way to get the spreadsheet would be </p>\n\n<pre><code>my $spreadsheet = $service-&gt;spreadsheet( { id =&gt; '&lt;spread sheet key&gt;' }) or die \n$!;\n</code></pre>\n\n<p>The key is part of the url\n<a href=\"https://docs.google.com/spreadsheets/d/[spreadsheetkey]/edit\" rel=\"nofollow\">https://docs.google.com/spreadsheets/d/[spreadsheetkey]/edit</a></p>\n"}], "owner": {"reputation": 165, "user_id": 771598, "user_type": "registered", "accept_rate": 33, "profile_image": "https://www.gravatar.com/avatar/2a681cc0b8305198e9b4310815ebc215?s=128&d=identicon&r=PG", "display_name": "sushil", "link": "https://stackoverflow.com/users/771598/sushil"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 202, "favorite_count": 0, "answer_count": 1, "score": 0, "last_activity_date": 1437515245, "creation_date": 1437434501, "question_id": 31527911, "link": "https://stackoverflow.com/questions/31527911/perl-using-netgooglespreadsheets-gives-error-in-libxml", "title": "Perl: Using Net::Google::Spreadsheets gives error in libxml", "body": "<p>I am trying to use Perl google spreadsheet API and i am getting stuck in this error. I did exactly as per the doc at <a href=\"http://search.cpan.org/~danjou/Net-Google-Spreadsheets-0.1501/lib/Net/Google/Spreadsheets.pm\" rel=\"nofollow\">http://search.cpan.org/~danjou/Net-Google-Spreadsheets-0.1501/lib/Net/Google/Spreadsheets.pm</a></p>\n\n<p>Here is the code</p>\n\n<pre><code>use Net::Google::Spreadsheets;\nuse Net::Google::DataAPI::Auth::OAuth2;\nuse Net::OAuth2::AccessToken;\n\nmy $oauth2;\nmy $service;\n\n$oauth2 = Net::Google::DataAPI::Auth::OAuth2-&gt;new(\n  client_id =&gt; '&lt;clientid&gt;',\n  client_secret =&gt; '&lt;client secret&gt;',\n  scope =&gt; ['http://spreadsheets.google.com/feeds/'],\n);\n\nmy $url = $oauth2-&gt;authorize_url(\n     access_type =&gt; 'offline',\n     approval_prompt =&gt; 'force',\n);\n\nprint \"$url\\nEnter the code: \";\nmy $code = &lt;STDIN&gt;;\nmy $access_token = $oauth2-&gt;get_access_token($code) or die;\n\n$service = Net::Google::Spreadsheets-&gt;new(auth =&gt; $oauth2);\n\nprint \"Testing Spreadsheet\";\n# find a spreadsheet by key\nmy $spreadsheet = $service-&gt;spreadsheet( { key =&gt; '&lt;spread sheet key&gt;' }) or die $!;\n</code></pre>\n\n<p>It does not throw error during Oauth but when I try to access the spreadsheet API it gives me the following error.</p>\n\n<blockquote>\n  <p>Use of uninitialized value $nsURI in string eq at\n  /usr/local/lib/perl5/site_perl/5.14.2/mach/XML/LibXML.pm line 1705. \n  at /usr/local/lib/perl5/site_perl/5.14.2/mach/XML/LibXML.pm line 1699.\n          XML::LibXML::Element::getElementsByTagNameNS(XML::LibXML::Element=SCALAR(0x80416ed20),\n  undef, \"entry\") called at\n  /usr/local/lib/perl5/site_perl/5.14.2/XML/Atom/Feed.pm line 84\n          XML::Atom::Feed::entries_libxml(XML::Atom::Feed=HASH(0x8041938e8))\n  called at /usr/local/lib/perl5/site_perl/5.14.2/Net/Google/DataAPI.pm\n  line 113\n          Net::Google::Spreadsheets::spreadsheets(Net::Google::Spreadsheets=HASH(0x803045600),\n  HASH(0x802a5cb70)) called at\n  /usr/local/lib/perl5/site_perl/5.14.2/Net/Google/Spreadsheets.pm line\n  57\n          Net::Google::Spreadsheets::<strong>ANON</strong>(CODE(0x803020438), Net::Google::Spreadsheets=HASH(0x803045600), HASH(0x802a5cb70)) called\n  at /usr/local/lib/perl5/site_perl/5.14.2/mach/Mouse/Meta/Class.pm line\n  381\n          Mouse::Meta::Class::<strong>ANON</strong>(Net::Google::Spreadsheets=HASH(0x803045600),\n  HASH(0x802a5cb70)) called at\n  /usr/local/lib/perl5/site_perl/5.14.2/mach/Mouse/Meta/Class.pm line\n  334\n          Net::Google::Spreadsheets::spreadsheets(Net::Google::Spreadsheets=HASH(0x803045600),\n  HASH(0x802a5cb70)) called at\n  /usr/local/lib/perl5/site_perl/5.14.2/Net/Google/DataAPI.pm line 132\n          Net::Google::Spreadsheets::spreadsheet(Net::Google::Spreadsheets=HASH(0x803045600),\n  HASH(0x802a5cb70)) called at try.pl line 62</p>\n</blockquote>\n"}, {"tags": ["multithreading", "perl", "batch-file"], "answers": [{"comments": [{"owner": {"reputation": 21, "user_id": 4976615, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/c398153bb1162b7249cd41aa8e5c25dc?s=128&d=identicon&r=PG&f=1", "display_name": "Himanshu", "link": "https://stackoverflow.com/users/4976615/himanshu"}, "edited": false, "score": 0, "creation_date": 1437458335, "post_id": 31526674, "comment_id": 51023137, "body": "Yes, the batch file is the last thing i want to call, and i wan&#39;t my script to end after it calls the batch file. However even with exec it is waiting for the batch file to finish it&#39;s job first and then returns."}], "tags": [], "owner": {"reputation": 29951, "user_id": 8233, "user_type": "registered", "accept_rate": 69, "profile_image": "https://www.gravatar.com/avatar/5ed2571484765d12fcb3230f235a8ecc?s=128&d=identicon&r=PG", "display_name": "Michael Carman", "link": "https://stackoverflow.com/users/8233/michael-carman"}, "is_accepted": false, "score": 2, "last_activity_date": 1437429088, "last_edit_date": 1437429088, "creation_date": 1437427743, "answer_id": 31526674, "question_id": 31526336, "link": "https://stackoverflow.com/questions/31526336/how-to-start-a-batch-file-from-within-a-perl-script-and-detach-from-it/31526674#31526674", "title": "How to start a batch file from within a perl script and detach from it", "body": "<p>Assuming that launching the batch file is the last thing you want to do before exiting run it via <code>exec</code>.</p>\n\n<blockquote>\n  <p>The <code>exec</code> function executes a system command <em>and never\n  returns</em>; use <code>system</code> instead of <code>exec</code> if you want it to\n  return.</p>\n</blockquote>\n\n<p>If you want your script to continue running after launching the batch file you'll want to launch it as a background process. There's no specific way to do that; <a href=\"http://perldoc.perl.org/perlfaq8.html#How-do-I-start-a-process-in-the-background%3F\" rel=\"nofollow\">perlfaq8</a> lists a number of possible approaches.</p>\n\n<p>For Windows, you could use <a href=\"https://metacpan.org/pod/Win32::Console\" rel=\"nofollow\">Win32::Process</a> with the <code>DETACHED_PROCESS</code> flag.</p>\n\n<pre><code>Win32::Process::Create(\n  $process,         # process object\n  'myfile.bat',     # application name\n  '',               # application arguments\n  0,                # don't inherit handles\n  DETACHED_PROCESS, # create as detached process\n  '.'               # working directory for new process\n);\n</code></pre>\n"}, {"tags": [], "owner": {"reputation": 110113, "user_id": 168657, "user_type": "registered", "accept_rate": 92, "profile_image": "https://www.gravatar.com/avatar/f14e7610fca39322ebbf23530def15f8?s=128&d=identicon&r=PG", "display_name": "mob", "link": "https://stackoverflow.com/users/168657/mob"}, "is_accepted": false, "score": 2, "last_activity_date": 1437428759, "creation_date": 1437428759, "answer_id": 31526893, "question_id": 31526336, "link": "https://stackoverflow.com/questions/31526336/how-to-start-a-batch-file-from-within-a-perl-script-and-detach-from-it/31526893#31526893", "title": "How to start a batch file from within a perl script and detach from it", "body": "<p>In Windows, the special call <a href=\"https://metacpan.org/pod/perlport#system\" rel=\"nofollow\"><code>system 1, ...</code></a> is available. This uses Windows-specific functions to create a separate process for your command to run in.</p>\n\n<pre><code>system 1, '.\\mybatch.bat';\n</code></pre>\n\n<p>Unlike a process launched by <code>exec</code> or a regular <code>system</code> call, Windows perl will not wait for the child process to complete before it can terminate the parent process; though you can capture the process id (<code>$pid = system 1, ...</code>) and pass it to <code>waitpid</code>.</p>\n\n<p>Greater control of your background processes are available through the <a href=\"http://metacpan.org/pod/Win32::Process\" rel=\"nofollow\"><code>Win32::Process</code></a> module, but this may be overkill for most cases.</p>\n"}], "owner": {"reputation": 21, "user_id": 4976615, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/c398153bb1162b7249cd41aa8e5c25dc?s=128&d=identicon&r=PG&f=1", "display_name": "Himanshu", "link": "https://stackoverflow.com/users/4976615/himanshu"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 511, "favorite_count": 0, "answer_count": 2, "score": 2, "last_activity_date": 1437429088, "creation_date": 1437426214, "question_id": 31526336, "link": "https://stackoverflow.com/questions/31526336/how-to-start-a-batch-file-from-within-a-perl-script-and-detach-from-it", "title": "How to start a batch file from within a perl script and detach from it", "body": "<p>I want to call a batch file from my script, and want to terminate my perl script with the batch file still running in background, as it takes a lot of time.</p>\n"}, {"tags": ["perl", "datetime"], "comments": [{"owner": {"reputation": 21782, "user_id": 176646, "user_type": "registered", "accept_rate": 88, "profile_image": "https://i.stack.imgur.com/HsQyV.png?s=128&g=1", "display_name": "ThisSuitIsBlackNot", "link": "https://stackoverflow.com/users/176646/thissuitisblacknot"}, "edited": false, "score": 0, "creation_date": 1437414689, "post_id": 31523080, "comment_id": 51007269, "body": "If you want to include messages between June 10th and June 20th, why are you using <code>DateTime-&gt;now</code>?"}, {"owner": {"reputation": 701, "user_id": 2007843, "user_type": "registered", "accept_rate": 91, "profile_image": "https://www.gravatar.com/avatar/eb1e32c61d2047d1b4e8c3cdac6d9cb4?s=128&d=identicon&r=PG", "display_name": "user2007843", "link": "https://stackoverflow.com/users/2007843/user2007843"}, "reply_to_user": {"reputation": 21782, "user_id": 176646, "user_type": "registered", "accept_rate": 88, "profile_image": "https://i.stack.imgur.com/HsQyV.png?s=128&g=1", "display_name": "ThisSuitIsBlackNot", "link": "https://stackoverflow.com/users/176646/thissuitisblacknot"}, "edited": false, "score": 0, "creation_date": 1437414792, "post_id": 31523080, "comment_id": 51007325, "body": "Its just an example. I may want to search for dates up to now"}, {"owner": {"reputation": 51521, "user_id": 2566198, "user_type": "registered", "accept_rate": 67, "profile_image": "https://i.stack.imgur.com/Y34ZA.jpg?s=128&g=1", "display_name": "Sobrique", "link": "https://stackoverflow.com/users/2566198/sobrique"}, "edited": false, "score": 0, "creation_date": 1437415507, "post_id": 31523080, "comment_id": 51007723, "body": "I wouldn&#39;t do it like this - you&#39;re better off parsing the date into a timestamp and comparing that."}], "answers": [{"comments": [{"owner": {"reputation": 51521, "user_id": 2566198, "user_type": "registered", "accept_rate": 67, "profile_image": "https://i.stack.imgur.com/Y34ZA.jpg?s=128&g=1", "display_name": "Sobrique", "link": "https://stackoverflow.com/users/2566198/sobrique"}, "edited": false, "score": 1, "creation_date": 1437422453, "post_id": 31524241, "comment_id": 51011778, "body": "Marvellous. This was the sort of thing I was thinking of - although I was thinking more in terms of <code>Time::Piece</code> so this is probably better yet as it&#39;s using the module requested."}, {"owner": {"reputation": 701, "user_id": 2007843, "user_type": "registered", "accept_rate": 91, "profile_image": "https://www.gravatar.com/avatar/eb1e32c61d2047d1b4e8c3cdac6d9cb4?s=128&d=identicon&r=PG", "display_name": "user2007843", "link": "https://stackoverflow.com/users/2007843/user2007843"}, "edited": false, "score": 0, "creation_date": 1437587081, "post_id": 31524241, "comment_id": 51095581, "body": "Is there any way to do something like this without Time:Piece or Datetime::Format::Strptime?"}, {"owner": {"reputation": 62184, "user_id": 7231, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/81b76985f3985e35492e25880493d045?s=128&d=identicon&r=PG", "display_name": "Dave Cross", "link": "https://stackoverflow.com/users/7231/dave-cross"}, "edited": false, "score": 0, "creation_date": 1437659289, "post_id": 31524241, "comment_id": 51130434, "body": "Almost certainly. But why would you? Time::Piece has been a part of any standard Perl installation since Dec 2007."}], "tags": [], "owner": {"reputation": 6068, "user_id": 1799189, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/s4Pcu.jpg?s=128&g=1", "display_name": "xxfelixxx", "link": "https://stackoverflow.com/users/1799189/xxfelixxx"}, "is_accepted": true, "score": 6, "last_activity_date": 1437662674, "last_edit_date": 1437662674, "creation_date": 1437418571, "answer_id": 31524241, "question_id": 31523080, "link": "https://stackoverflow.com/questions/31523080/searching-through-a-logfile-with-datetimes/31524241#31524241", "title": "Searching through a logfile with datetimes", "body": "<p>You should use timestamps / epochs for your comparisons.  Here is an example:</p>\n\n<pre><code>#!/usr/bin/env perl                                                                         \n\nuse DateTime::Format::Strptime;\nuse DateTime;\n\nmy $year = DateTime-&gt;now-&gt;year;\n\nmy $date_parser = DateTime::Format::Strptime-&gt;new(\n    pattern =&gt; '%Y %B %d', # YYYY Month DD\n);\n\nmy $start_date = 'June 10';\nmy $end_date   = 'June 20';\nmy $start_epoch = $date_parser-&gt;parse_datetime(\"$year $start_date\")\n                              -&gt;epoch();\nmy $end_epoch   = $date_parser-&gt;parse_datetime(\"$year $end_date\")\n                              -&gt;add( days =&gt; 1 )\n                              -&gt;epoch(); # Add one to get next day                                                                \n\nmy $parser = DateTime::Format::Strptime-&gt;new(\n    pattern =&gt; '%Y %b %d %T', # YYYY Mon DD HH:MM:SS                                        \n);\n\nprint \"Start Epoch : $start_epoch [ $start_date ]\\n\";\nprint \"End   Epoch : $end_epoch [ $end_date ]\\n\";\n\nfor my $log_date ('May 27 09:33:33',\n                  'Jun 05 09:33:33',\n                  'Jun 10 09:33:33',\n                  'Jun 20 09:33:33',\n                  'Jun 30 09:33:33',) {\n    my $epoch = $parser-&gt;parse_datetime(\"$year $log_date\")-&gt;epoch();\n    print \"Log   Epoch : $epoch [ $log_date ]\\n\";\n    if ( $start_epoch &lt;= $epoch and $epoch &lt; $end_epoch) {\n        # Less than end_epoch (midnight) to match previous day                              \n        print \"==&gt; Log Epoch is in range\\n\";\n    }\n}\n</code></pre>\n\n<p>Outputs the following:</p>\n\n<pre><code>Start Epoch : 1433894400 [ June 10 ]\nEnd   Epoch : 1434844800 [ June 20 ]\nLog   Epoch : 1432719213 [ May 27 09:33:33 ]\nLog   Epoch : 1433496813 [ Jun 05 09:33:33 ]\nLog   Epoch : 1433928813 [ Jun 10 09:33:33 ]\n==&gt; Log Epoch is in range\nLog   Epoch : 1434792813 [ Jun 20 09:33:33 ]\n==&gt; Log Epoch is in range\nLog   Epoch : 1435656813 [ Jun 30 09:33:33 ]\n</code></pre>\n\n<p>Calculating epoch dates without using a core library is unwise, because now you would need to worry about days since the unix birth date (jan 1, 1970), leap days, leap seconds, and you would have so many edge cases trying to spoil your fun.  There are many ways of getting this wrong.  However there is an alternative:</p>\n\n<p>If for some reason, you are opposed to using core library modules, you can search through a log file by converting the dates to a canonical form and then just selecting dates which fall into the range.</p>\n\n<p>Here is the same example, but without using any modules, but using normalized (canonical) dates instead:</p>\n\n<pre><code>#!/usr/bin/env perl\n\nuse strict;\nuse warnings;\n\nmy %months = ( jan =&gt; 1, feb =&gt; 2,  mar =&gt; 3,  apr =&gt; 4,\n               may =&gt; 5, jun =&gt; 6,  jul =&gt; 7,  aug =&gt; 8,\n               sep =&gt; 9, oct =&gt; 10, nov =&gt; 11, dec =&gt; 12 );\n\nmy $year = 2015; # TODO: what year is it? Need to worry about Dec/Jan rollover\n\nmy @log_dates = (\n    'May 27 09:33:33',\n    'Jun 05 09:33:33',\n    'Jun 10 09:33:33',\n    'Jun 20 09:33:33',\n    'Jun 30 09:33:33',\n);\n\nmy $start_date = 'June 10';\nmy $end_date   = 'June 20';\nmy $start_canonical = canonical_date_for_mmmdd_hhmmss(\"$year $start_date 00:00:00\");\nmy $end_canonical   = canonical_date_for_mmmdd_hhmmss(\"$year $end_date 23:59:59\");\n\nfor my $log_date (@log_dates) {\n    my $canonical_date = canonical_date_for_mmmdd_hhmmss(\"$year $log_date\");\n    print \"Log Canonical Date : $canonical_date [ $log_date ]\\n\";\n    if ($start_canonical &lt;= $canonical_date and\n        $canonical_date  &lt;= $end_canonical) {\n        print \"===&gt; Date in range\\n\";\n    }\n}\n\nsub canonical_date_for_mmmdd_hhmmss {\n    my ($datestr) = @_;\n    my ($year, $mon, $day, $hr, $min, $sec) =\n        $datestr =~ m|^(\\d+)\\s+(\\w+)\\s+(\\d+)\\s+(\\d+):(\\d+):(\\d+)$|; # YYYY Month DD HH:MM:SS\n    $year &gt; 1900\n        or die \"Unable to handle year '$year'\";\n    my $month_first_three = lc( substr($mon,0,3) );\n    my $month_num = $months{$month_first_three};\n    defined $month_num\n        or die \"Unable to handle month '$mon'\";\n    (1 &lt;= $day and $day &lt;= 31)\n        or die \"Unable to handle day '$day'\";\n    (0 &lt;= $hr and $hr &lt;= 23)\n        or die \"Unable to handle hour '$hr'\";\n    (0 &lt;= $min and $min &lt;= 59)\n        or die \"Unable to handle minute '$min'\";\n    (0 &lt;= $sec and $sec &lt;= 59)\n        or die \"Unable to handle second '$sec'\";\n    my $fmt = \"%04d%02d%02d%02d%02d%02d\"; # YYYYMMDDHHMMSS\n    return sprintf($fmt, $year, $month_num, $day, $hr, $min, $sec);\n}\n</code></pre>\n\n<p>Which outputs the following:</p>\n\n<pre><code>Log Canonical Date : 20150527093333 [ May 27 09:33:33 ]\nLog Canonical Date : 20150605093333 [ Jun 05 09:33:33 ]\nLog Canonical Date : 20150610093333 [ Jun 10 09:33:33 ]\n===&gt; Date in range\nLog Canonical Date : 20150620093333 [ Jun 20 09:33:33 ]\n===&gt; Date in range\nLog Canonical Date : 20150630093333 [ Jun 30 09:33:33 ]\n</code></pre>\n\n<p>See also <a href=\"https://en.wikipedia.org/wiki/ISO_8601\" rel=\"nofollow\">ISO 8601</a> (<em>Data elements and interchange formats</em>) for other properties of using a normalized / canonical timestamp.</p>\n"}], "owner": {"reputation": 701, "user_id": 2007843, "user_type": "registered", "accept_rate": 91, "profile_image": "https://www.gravatar.com/avatar/eb1e32c61d2047d1b4e8c3cdac6d9cb4?s=128&d=identicon&r=PG", "display_name": "user2007843", "link": "https://stackoverflow.com/users/2007843/user2007843"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 173, "favorite_count": 1, "accepted_answer_id": 31524241, "answer_count": 1, "score": 4, "last_activity_date": 1437662674, "creation_date": 1437414507, "question_id": 31523080, "link": "https://stackoverflow.com/questions/31523080/searching-through-a-logfile-with-datetimes", "title": "Searching through a logfile with datetimes", "body": "<p>I am reading from a logfile and want the option to limit the search to a specific date range. The lines in the log file are in the following format <code>May 27 09:33:33</code>. I've already separated out the dates from the rest of the text in each line of the logfile. I just want to be able to write a statement like this</p>\n\n<pre><code>if(the date falls between June 10th and June 20th)\n</code></pre>\n\n<p>So just as an example I am trying to get the current time</p>\n\n<pre><code>use DateTime;\n\nmy $dt   = DateTime-&gt;now;\nmy $date = $dt-&gt;md;  \nmy $time = $dt-&gt;hms;   \n</code></pre>\n\n<p>but wouldn't that put it in the format of mm-dd?</p>\n"}, {"tags": ["perl", "gd", "cpan"], "comments": [{"owner": {"reputation": 81037, "user_id": 8454, "user_type": "registered", "accept_rate": 100, "profile_image": "https://i.stack.imgur.com/2NlHs.png?s=128&g=1", "display_name": "Andy Lester", "link": "https://stackoverflow.com/users/8454/andy-lester"}, "edited": false, "score": 2, "creation_date": 1437410133, "post_id": 31521570, "comment_id": 51004589, "body": "Have you installed the underlying libgd package?  GD.pm is a wrapper around it."}, {"owner": {"reputation": 21782, "user_id": 176646, "user_type": "registered", "accept_rate": 88, "profile_image": "https://i.stack.imgur.com/HsQyV.png?s=128&g=1", "display_name": "ThisSuitIsBlackNot", "link": "https://stackoverflow.com/users/176646/thissuitisblacknot"}, "edited": false, "score": 3, "creation_date": 1437410190, "post_id": 31521570, "comment_id": 51004623, "body": "Did <code>apt-get install libgd-gd2-perl</code> not install the Perl module? Usually package names ending in <code>-perl</code> install the associated Perl module, so I wouldn&#39;t expect you to need to use CPAN."}, {"owner": {"reputation": 320771, "user_id": 589924, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/b2cf53d5a3d25f95c0db4e025aed4153?s=128&d=identicon&r=PG", "display_name": "ikegami", "link": "https://stackoverflow.com/users/589924/ikegami"}, "edited": false, "score": 0, "creation_date": 1437416894, "post_id": 31521570, "comment_id": 51008499, "body": "It&#39;s not nothing to do with a missing underlying library. The other two apparently missed the error message: <b>Unknown option: installdirs Usage: perl Build.PL [options]</b>. <code>cpan</code> expects <code>Build.PL</code> to pass its arguments to Module::Build, but GD has a funky <code>Build.PL</code>. Answer in a bit."}, {"owner": {"reputation": 4155, "user_id": 2006878, "user_type": "registered", "accept_rate": 74, "profile_image": "https://i.stack.imgur.com/VepQx.jpg?s=128&g=1", "display_name": "Andrew Newby", "link": "https://stackoverflow.com/users/2006878/andrew-newby"}, "edited": false, "score": 0, "creation_date": 1437417526, "post_id": 31521570, "comment_id": 51008870, "body": "Thanks for the replies guys. Now I feel like a total pillock! For some reason, $string was empty (still gotta debug why that is, as it worked fine on the old server). As such, when it was trying to output the png image via the perl script - it was empty (so I was getting an error). Face palm!!!!"}, {"owner": {"reputation": 21782, "user_id": 176646, "user_type": "registered", "accept_rate": 88, "profile_image": "https://i.stack.imgur.com/HsQyV.png?s=128&g=1", "display_name": "ThisSuitIsBlackNot", "link": "https://stackoverflow.com/users/176646/thissuitisblacknot"}, "edited": false, "score": 0, "creation_date": 1437421180, "post_id": 31521570, "comment_id": 51011031, "body": "For future reference, if a module you use in your code isn&#39;t installed or perl can&#39;t find it, you&#39;ll get <code>Can&#39;t locate Foo&#47;Bar.pm in @INC</code>; it sounds like you were getting a different error."}], "answers": [{"comments": [{"owner": {"reputation": 4155, "user_id": 2006878, "user_type": "registered", "accept_rate": 74, "profile_image": "https://i.stack.imgur.com/VepQx.jpg?s=128&g=1", "display_name": "Andrew Newby", "link": "https://stackoverflow.com/users/2006878/andrew-newby"}, "edited": false, "score": 0, "creation_date": 1437417785, "post_id": 31523966, "comment_id": 51009020, "body": "Thanks for the time to reply. I&#39;m going to mark you as valid, as I recon this would have fixed my issue (I found a few posts where it was said to &quot;fix&quot; the Build.PL file - but never gave any info on what to do!). Either way, I think I must have got lucky as some point with something I installed - as it works now &lt;G&gt;"}, {"owner": {"reputation": 4155, "user_id": 2006878, "user_type": "registered", "accept_rate": 74, "profile_image": "https://i.stack.imgur.com/VepQx.jpg?s=128&g=1", "display_name": "Andrew Newby", "link": "https://stackoverflow.com/users/2006878/andrew-newby"}, "edited": false, "score": 0, "creation_date": 1438275189, "post_id": 31523966, "comment_id": 51394998, "body": "ikegami - just trying this out on a dev server (as I&#39;m upgrading to debian 8.1), and it seems to get hung up on <code>perl -i~ -pE&#39;say &quot;Getopt::Long::Configure(qw( pass_through ));&quot; if &#47;GetOptions&#47;;&quot; Build.PL</code> .,.. just shows <code>&gt;</code> on the next line, as it is waiting on more of a command?"}, {"owner": {"reputation": 4155, "user_id": 2006878, "user_type": "registered", "accept_rate": 74, "profile_image": "https://i.stack.imgur.com/VepQx.jpg?s=128&g=1", "display_name": "Andrew Newby", "link": "https://stackoverflow.com/users/2006878/andrew-newby"}, "edited": false, "score": 0, "creation_date": 1438429089, "post_id": 31523966, "comment_id": 51455298, "body": "any ideas? Stuck going live with this server, til I can get  GD going :("}, {"owner": {"reputation": 320771, "user_id": 589924, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/b2cf53d5a3d25f95c0db4e025aed4153?s=128&d=identicon&r=PG", "display_name": "ikegami", "link": "https://stackoverflow.com/users/589924/ikegami"}, "reply_to_user": {"reputation": 4155, "user_id": 2006878, "user_type": "registered", "accept_rate": 74, "profile_image": "https://i.stack.imgur.com/VepQx.jpg?s=128&g=1", "display_name": "Andrew Newby", "link": "https://stackoverflow.com/users/2006878/andrew-newby"}, "edited": false, "score": 1, "creation_date": 1438450275, "post_id": 31523966, "comment_id": 51460725, "body": "The double quote is suppose to be a single quote. Fixed."}, {"owner": {"reputation": 4155, "user_id": 2006878, "user_type": "registered", "accept_rate": 74, "profile_image": "https://i.stack.imgur.com/VepQx.jpg?s=128&g=1", "display_name": "Andrew Newby", "link": "https://stackoverflow.com/users/2006878/andrew-newby"}, "edited": false, "score": 0, "creation_date": 1438465676, "post_id": 31523966, "comment_id": 51464954, "body": "thanks @ikegami - managed to get it going by using <code>apt-get install libgd2-xpm-dev</code>, as that seems to install ok :)"}], "tags": [], "owner": {"reputation": 320771, "user_id": 589924, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/b2cf53d5a3d25f95c0db4e025aed4153?s=128&d=identicon&r=PG", "display_name": "ikegami", "link": "https://stackoverflow.com/users/589924/ikegami"}, "is_accepted": true, "score": 5, "last_activity_date": 1438450291, "last_edit_date": 1438450291, "creation_date": 1437417689, "answer_id": 31523966, "question_id": 31521570, "link": "https://stackoverflow.com/questions/31521570/perl-gd-module-wont-install/31523966#31523966", "title": "Perl GD module won&#39;t install -", "body": "\n\n<p>The error you are getting is</p>\n\n<pre class=\"lang-none prettyprint-override\"><code>Unknown option: installdirs\nUsage: perl Build.PL [options]\n</code></pre>\n\n<p><code>cpan</code> expects <code>Build.PL</code> to pass its arguments to Module::Build, but GD has a funky <code>Build.PL</code>. Let's \"fix\" it.</p>\n\n<p>Execute the following from a temporary directory:</p>\n\n<pre class=\"lang-none prettyprint-override\"><code>wget http://search.cpan.org/CPAN/authors/id/L/LD/LDS/GD-2.56.tar.gz\n  -or-\ncurl -L http://search.cpan.org/CPAN/authors/id/L/LD/LDS/GD-2.56.tar.gz &gt;GD-2.56.tar.gz\n\ntar xvzf GD-2.56.tar.gz\ncd GD-2.56\nperl -i~ -pE'say \"Getopt::Long::Configure(qw( pass_through ));\" if /GetOptions/;' Build.PL\n/usr/bin/perl Build.PL --installdirs site\nsudo ./Build.PL installdeps\n./Build.PL make\n./Build.PL test\nsudo ./Build.PL install\n</code></pre>\n"}, {"tags": [], "owner": {"reputation": 51, "user_id": 5700906, "user_type": "unregistered", "profile_image": "https://www.gravatar.com/avatar/bf67537e2d31983ff816bd14f0d1c8f2?s=128&d=identicon&r=PG", "display_name": "A.T.", "link": "https://stackoverflow.com/users/5700906/a-t"}, "is_accepted": false, "score": 4, "last_activity_date": 1450632611, "last_edit_date": 1450632611, "creation_date": 1450630584, "answer_id": 34383425, "question_id": 31521570, "link": "https://stackoverflow.com/questions/31521570/perl-gd-module-wont-install/34383425#34383425", "title": "Perl GD module won&#39;t install -", "body": "<p>In Ubuntu 15.04, a slight modification of the above intelligent answer seemed necessary in order to get it to install GD. This worked so that the 'cpan' program could then install GD then e.g. Image::Resize (which uses GD) afterwards. I did it after</p>\n\n<pre><code>sudo -i\n</code></pre>\n\n<p>in a Terminal, and after 'cd' into a temporary folder. Whether of value or not, I first did</p>\n\n<pre><code>apt-get install libgd-dev\n</code></pre>\n\n<p>Then this, which may contain one or more redundant lines, but it works:</p>\n\n<pre><code>wget http://search.cpan.org/CPAN/authors/id/L/LD/LDS/GD-2.56.tar.gz\ntar xvzf GD-2.56.tar.gz\ncd GD*\nperl -i~ -pE'say \"Getopt::Long::Configure(qw( pass_through ));\" if /GetOptions/;' Build.PL\n/usr/bin/perl Build.PL --installdirs site\nchmod 755 Build.PL\n./Build.PL installdeps\n./Build installdeps\n./Build test\n./Build install\n</code></pre>\n"}], "owner": {"reputation": 4155, "user_id": 2006878, "user_type": "registered", "accept_rate": 74, "profile_image": "https://i.stack.imgur.com/VepQx.jpg?s=128&g=1", "display_name": "Andrew Newby", "link": "https://stackoverflow.com/users/2006878/andrew-newby"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 9423, "favorite_count": 0, "accepted_answer_id": 31523966, "answer_count": 2, "score": 4, "last_activity_date": 1450632611, "creation_date": 1437409461, "last_edit_date": 1437410504, "question_id": 31521570, "link": "https://stackoverflow.com/questions/31521570/perl-gd-module-wont-install", "title": "Perl GD module won&#39;t install -", "body": "<p>I'm trying to figure out why I can't get the GD perl module to install on my Debian 7 server. Here is how I installed the core stuff:</p>\n\n<pre class=\"lang-none prettyprint-override\"><code>sudo apt-get install libgd-gd2-perl\n</code></pre>\n\n<p>Then running the -MCPAN to install, I get:</p>\n\n<pre class=\"lang-none prettyprint-override\"><code>root@myserver:~# sudo perl -MCPAN -e 'install GD'\nGoing to read '/root/.cpan/Metadata'\n  Database was generated on Sun, 19 Jul 2015 21:41:02 GMT\nRunning install for module 'GD'\nRunning make for L/LD/LDS/GD-2.56.tar.gz\nChecksum for /root/.cpan/sources/authors/id/L/LD/LDS/GD-2.56.tar.gz ok\n\n  CPAN.pm: Going to build L/LD/LDS/GD-2.56.tar.gz\n\nConfiguring for libgd version 2.0.36.\nChecking for stray libgd header files...none found.\n\nUnknown option: installdirs\nUsage: perl Build.PL [options]\n\nConfigure GD module.\n\n Options:\n     -options       \"JPEG,FT,PNG,GIF,XPM,ANIMGIF\"   feature options, separated by commas\n     -lib_gd_path   path            path to libgd\n     -lib_ft_path   path            path to Freetype library\n     -lib_png_path  path            path to libpng\n     -lib_jpeg_path path            path to libjpeg\n     -lib_xpm_path  path            path to libxpm\n     -lib_zlib_path path            path to libpng\n     -ignore_missing_gd             Ignore missing or old libgd installations and try to compile anyway\n\nIf no options are passed on the command line.  The program will\nattempt to autoconfigure itself with the gdlib-config program (present\nin GD versions 2.0.27 or later).  Otherwise it will prompt for these\nvalues interactively.\nWarning: No success on command[/usr/bin/perl Build.PL --installdirs site]\n  LDS/GD-2.56.tar.gz\n  /usr/bin/perl Build.PL --installdirs site -- NOT OK\nRunning Build test\n  Make had some problems, won't test\nRunning Build install\n  Make had some problems, won't install\nCould not read metadata file. Falling back to other methods to determine prerequisites\n</code></pre>\n\n<p>I've done a load of googling, but nothing seems to fix it. Any suggestions?</p>\n"}, {"tags": ["regex", "perl"], "comments": [{"owner": {"reputation": 1573, "user_id": 748910, "user_type": "registered", "accept_rate": 79, "profile_image": "https://www.gravatar.com/avatar/ef3395a924e030974f23677c45bbafe3?s=128&d=identicon&r=PG", "display_name": "mjr", "link": "https://stackoverflow.com/users/748910/mjr"}, "edited": false, "score": 2, "creation_date": 1437407075, "post_id": 31520729, "comment_id": 51002722, "body": "How are you reading in the data?  Have you printed them with &lt;&gt; around the value to look for white space at the beginning/end?"}, {"owner": {"reputation": 21782, "user_id": 176646, "user_type": "registered", "accept_rate": 88, "profile_image": "https://i.stack.imgur.com/HsQyV.png?s=128&g=1", "display_name": "ThisSuitIsBlackNot", "link": "https://stackoverflow.com/users/176646/thissuitisblacknot"}, "edited": false, "score": 2, "creation_date": 1437407474, "post_id": 31520729, "comment_id": 51002981, "body": "Welcome to Stack Overflow! You don&#39;t need to apologize for poor formatting, your post is <i>vastly</i> better than most first posts on the site. I made some edits, but they&#39;re just minor things."}, {"owner": {"reputation": 362892, "user_id": 256196, "user_type": "moderator", "accept_rate": 77, "profile_image": "https://www.gravatar.com/avatar/d84b558fd67be10d5a718fb94231909d?s=128&d=identicon&r=PG", "display_name": "Bohemian", "link": "https://stackoverflow.com/users/256196/bohemian"}, "edited": false, "score": 1, "creation_date": 1437407769, "post_id": 31520729, "comment_id": 51003165, "body": "<a href=\"http://codepad.org/NNCY5LGf\" rel=\"nofollow noreferrer\">Works for me</a>."}, {"owner": {"reputation": 198290, "user_id": 1030675, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/957956ce51706d03f19a4dc85a767bb1?s=128&d=identicon&r=PG", "display_name": "choroba", "link": "https://stackoverflow.com/users/1030675/choroba"}, "edited": false, "score": 0, "creation_date": 1437408442, "post_id": 31520729, "comment_id": 51003610, "body": "Also, are you sure &quot;some&quot; &lt; 10?"}, {"owner": {"user_type": "does_not_exist", "display_name": "user557597"}, "edited": false, "score": 0, "creation_date": 1437408510, "post_id": 31520729, "comment_id": 51003658, "body": "What error did you get when you ran the perl code ?"}, {"owner": {"reputation": 123805, "user_id": 622310, "user_type": "registered", "accept_rate": 33, "profile_image": "https://www.gravatar.com/avatar/8b6d35219e1808520bc238b28161e2e6?s=128&d=identicon&r=PG", "display_name": "Borodin", "link": "https://stackoverflow.com/users/622310/borodin"}, "edited": false, "score": 1, "creation_date": 1437408537, "post_id": 31520729, "comment_id": 51003675, "body": "You need to copy and paste the code that <i>doesn&#39;t</i> work. There&#39;s nothing we can tell from code that <i>does</i>"}], "answers": [{"comments": [{"owner": {"reputation": 39, "user_id": 4875621, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/11c84918d70d9dd5e92bd73e2f419495?s=128&d=identicon&r=PG&f=1", "display_name": "pporras", "link": "https://stackoverflow.com/users/4875621/pporras"}, "edited": false, "score": 0, "creation_date": 1437466628, "post_id": 31521228, "comment_id": 51027309, "body": "Thanks! This really helped."}], "tags": [], "owner": {"reputation": 123805, "user_id": 622310, "user_type": "registered", "accept_rate": 33, "profile_image": "https://www.gravatar.com/avatar/8b6d35219e1808520bc238b28161e2e6?s=128&d=identicon&r=PG", "display_name": "Borodin", "link": "https://stackoverflow.com/users/622310/borodin"}, "is_accepted": false, "score": 5, "last_activity_date": 1437408388, "creation_date": 1437408388, "answer_id": 31521228, "question_id": 31520729, "link": "https://stackoverflow.com/questions/31520729/why-isnt-my-regex-matching-my-input-data/31521228#31521228", "title": "Why isn&#39;t my regex matching my input data?", "body": "<p>It works fine. Here it is fixed (you didn't terminate your regex) and incorporated into a working program</p>\n\n<pre class=\"lang-perl prettyprint-override\"><code>use strict;\nuse warnings;\nuse v5.10;\n\nwhile ( my $value = &lt;DATA&gt; ) {\n\n  my $qualifier;\n\n  if ( $value =~ /^[[:alpha:]]{3}\\d{1,9}[[:alpha:]]{3}$/ ) {\n\n      $qualifier = \"ok\";\n  }\n  else {\n      $qualifier = \"needs cleaning\";\n  }\n\n  say $qualifier;\n}\n\n__DATA__\narg123ala\narg345ala_r\nthr567por thr789pro\npro1ala,thr2leu\n</code></pre>\n\n<h3>output</h3>\n\n<pre class=\"lang-none prettyprint-override\"><code>ok\nneeds cleaning\nneeds cleaning\nneeds cleaning\n</code></pre>\n"}, {"tags": [], "owner": {"reputation": 137, "user_id": 3679380, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/OYUD4.jpg?s=128&g=1", "display_name": "mickvav", "link": "https://stackoverflow.com/users/3679380/mickvav"}, "is_accepted": false, "score": 0, "last_activity_date": 1437457154, "creation_date": 1437457154, "answer_id": 31531164, "question_id": 31520729, "link": "https://stackoverflow.com/questions/31520729/why-isnt-my-regex-matching-my-input-data/31531164#31531164", "title": "Why isn&#39;t my regex matching my input data?", "body": "<p>Looks like topic starter forgot final / in regexp.\nI would use expression like this: /^[a-z]{3}\\d+[a-z]{3}$/</p>\n"}], "owner": {"reputation": 39, "user_id": 4875621, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/11c84918d70d9dd5e92bd73e2f419495?s=128&d=identicon&r=PG&f=1", "display_name": "pporras", "link": "https://stackoverflow.com/users/4875621/pporras"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 77, "favorite_count": 0, "answer_count": 2, "score": 1, "last_activity_date": 1437457154, "creation_date": 1437406827, "last_edit_date": 1437407295, "question_id": 31520729, "link": "https://stackoverflow.com/questions/31520729/why-isnt-my-regex-matching-my-input-data", "title": "Why isn&#39;t my regex matching my input data?", "body": "<p>I have a column of values (strings) that look like this:</p>\n\n<pre><code>arg123ala\narg345ala_r\nthr567por thr789pro\npro1ala,thr2leu\n</code></pre>\n\n<p>I am trying to identify those values where the following pattern is met only once and no extra text is present:</p>\n\n<pre><code>three letters-some numbers-three letters \n</code></pre>\n\n<p>In the previous example, this would match the first value, but not the other three, because they have extra bits of text or there are two instances of the pattern separated by blank spaces or commas. </p>\n\n<p>I tried using something like this in Perl:</p>\n\n<pre><code>if ( $value =~ /^[[:alpha:]]{3}\\d{1,9}[[:alpha:]]{3}$) {\n    $qualifier = \"ok\";\n}\nelse {\n    $qualifier = \"needs cleaning\";\n}\n</code></pre>\n\n<p>And actually checked the regular expression in regexplanet.com, where it worked beautifully. However, when I used it in my code it wasn't matching any of the values I listed above, missing even the first one. Any idea why this could be happening? Any advice on an alternative for this?</p>\n"}, {"tags": ["regex", "perl"], "answers": [{"tags": [], "owner": {"reputation": 362892, "user_id": 256196, "user_type": "moderator", "accept_rate": 77, "profile_image": "https://www.gravatar.com/avatar/d84b558fd67be10d5a718fb94231909d?s=128&d=identicon&r=PG", "display_name": "Bohemian", "link": "https://stackoverflow.com/users/256196/bohemian"}, "is_accepted": false, "score": 2, "last_activity_date": 1437405640, "last_edit_date": 1437405640, "creation_date": 1437405224, "answer_id": 31520147, "question_id": 31520056, "link": "https://stackoverflow.com/questions/31520056/splitting-a-string-using-regex-in-perl/31520147#31520147", "title": "Splitting a string using regex in Perl", "body": "<p>I don't know that <code>split()</code> is the best approach. This code matches your target ID and extracts it:</p>\n\n<pre><code>($id) = $data =~ m/(?&lt;=ID )[^_]+/g;\n</code></pre>\n\n<p>The regex uses a look-behind <code>(?&lt;=ID )</code> to anchor the start of the match just to the right of <code>\"ID \"</code>, then grabs everything <em>not</em> an underscore that follows.</p>\n\n<hr>\n\n<p>Here's some test code:</p>\n\n<pre><code>my $data = 'May 26 09:33:33 localhost archiver: saving ID 0091070818_1432647213_489715 took 180 msec';\n($id) = $data =~ m/(?&lt;=ID )[^_]+/g;\nprint $id\n</code></pre>\n\n<p>Output:</p>\n\n<pre><code>0091070818\n</code></pre>\n\n<p>See <a href=\"http://codepad.org/3qC07WoB\" rel=\"nofollow\">live demo</a>.</p>\n"}, {"comments": [{"owner": {"reputation": 123805, "user_id": 622310, "user_type": "registered", "accept_rate": 33, "profile_image": "https://www.gravatar.com/avatar/8b6d35219e1808520bc238b28161e2e6?s=128&d=identicon&r=PG", "display_name": "Borodin", "link": "https://stackoverflow.com/users/622310/borodin"}, "edited": false, "score": 0, "creation_date": 1437406051, "post_id": 31520247, "comment_id": 51002001, "body": "Using <code>\\d</code> with the <code>&#47;a</code> modifier is a nice alternative to <code>[0-9]</code>"}, {"owner": {"reputation": 198290, "user_id": 1030675, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/957956ce51706d03f19a4dc85a767bb1?s=128&d=identicon&r=PG", "display_name": "choroba", "link": "https://stackoverflow.com/users/1030675/choroba"}, "reply_to_user": {"reputation": 123805, "user_id": 622310, "user_type": "registered", "accept_rate": 33, "profile_image": "https://www.gravatar.com/avatar/8b6d35219e1808520bc238b28161e2e6?s=128&d=identicon&r=PG", "display_name": "Borodin", "link": "https://stackoverflow.com/users/622310/borodin"}, "edited": false, "score": 2, "creation_date": 1437406211, "post_id": 31520247, "comment_id": 51002112, "body": "@Borodin: In 5.14+, yes."}], "tags": [], "owner": {"reputation": 198290, "user_id": 1030675, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/957956ce51706d03f19a4dc85a767bb1?s=128&d=identicon&r=PG", "display_name": "choroba", "link": "https://stackoverflow.com/users/1030675/choroba"}, "is_accepted": false, "score": 3, "last_activity_date": 1438013094, "last_edit_date": 1438013094, "creation_date": 1437405470, "answer_id": 31520247, "question_id": 31520056, "link": "https://stackoverflow.com/questions/31520056/splitting-a-string-using-regex-in-perl/31520247#31520247", "title": "Splitting a string using regex in Perl", "body": "<p><code>split</code> doesn't look like the correct tool for the job. I'd use a regex match:</p>\n\n<pre><code>my @values = $data =~ /^([[:alpha:]]{3}\\s[0-9][0-9]\\s[0-9][0-9]:[0-9][0-9]:[0-9][0-9]) # date &amp; time\n                       \\s.*?\\sID\\s\n                       ([0-9]+)            # ID\n                       .*\\stook\\s\n                       ([0-9]+)            # duration\n                       \\smsec/x;\nprint join(',', @values), \"\\n\";\n</code></pre>\n"}, {"comments": [{"owner": {"reputation": 701, "user_id": 2007843, "user_type": "registered", "accept_rate": 91, "profile_image": "https://www.gravatar.com/avatar/eb1e32c61d2047d1b4e8c3cdac6d9cb4?s=128&d=identicon&r=PG", "display_name": "user2007843", "link": "https://stackoverflow.com/users/2007843/user2007843"}, "edited": false, "score": 0, "creation_date": 1437406524, "post_id": 31520261, "comment_id": 51002322, "body": "Thank you! Now if I was reading multiple lines from a text file that were similar to that line would I do something like this? <code>while(&lt;IN&gt;){    if(&#47;saving ID&#47;){       my ($time_str) = ( m&#47;^(\\w+ \\d+ \\d{2}:\\d{2}:\\d{2})&#47; );</code>"}, {"owner": {"reputation": 51521, "user_id": 2566198, "user_type": "registered", "accept_rate": 67, "profile_image": "https://i.stack.imgur.com/Y34ZA.jpg?s=128&g=1", "display_name": "Sobrique", "link": "https://stackoverflow.com/users/2566198/sobrique"}, "reply_to_user": {"reputation": 701, "user_id": 2007843, "user_type": "registered", "accept_rate": 91, "profile_image": "https://www.gravatar.com/avatar/eb1e32c61d2047d1b4e8c3cdac6d9cb4?s=128&d=identicon&r=PG", "display_name": "user2007843", "link": "https://stackoverflow.com/users/2007843/user2007843"}, "edited": false, "score": 0, "creation_date": 1437407176, "post_id": 31520261, "comment_id": 51002788, "body": "Yes, pretty much. Although I&#39;d suggest using <code>open ( my $input, &quot;&lt;&quot;, $filename ) or die $!</code> and then using <code>while ( &lt;$input&gt; ) {</code> instead. (It&#39;s more or less the same, but better style)"}], "tags": [], "owner": {"reputation": 51521, "user_id": 2566198, "user_type": "registered", "accept_rate": 67, "profile_image": "https://i.stack.imgur.com/Y34ZA.jpg?s=128&g=1", "display_name": "Sobrique", "link": "https://stackoverflow.com/users/2566198/sobrique"}, "is_accepted": true, "score": 4, "last_activity_date": 1437405508, "creation_date": 1437405508, "answer_id": 31520261, "question_id": 31520056, "link": "https://stackoverflow.com/questions/31520056/splitting-a-string-using-regex-in-perl/31520261#31520261", "title": "Splitting a string using regex in Perl", "body": "<p>OK. That split just isn't going to work - because you've used single quotes, the string is used literally. As it doesn't occur in your sample text, it doesn't do anything at all. </p>\n\n<p>Split 'cuts up' a string based on a field separator, which probably isn't what you want. E.g. </p>\n\n<pre><code> split ( ' ', $data ); \n</code></pre>\n\n<p>Will give you:</p>\n\n<pre><code>$VAR1 = [\n          'May',\n          '26',\n          '09:33:33',\n          'localhost',\n          'archiver:',\n          'saving',\n          'ID',\n          '0091070818_1432647213_489715',\n          'took',\n          '180',\n          'msec'\n        ];\n</code></pre>\n\n<p>Given your string doesn't really 'fieldify' like that properly, I'd suggest a different approach:</p>\n\n<p>You need to select the things you want out of it. Assuming you're not getting some somewhat odd records mixed in:</p>\n\n<pre><code>my $data = 'May 26 09:33:33 localhost archiver: saving ID 0091070818_1432647213_489715 took 180 msec';\n\nmy ($time_str) = ( $data =~ m/^(\\w+ \\d+ \\d{2}:\\d{2}:\\d{2})/ );\nmy ($id)       = ( $data =~ m/(\\d+)_/ );\nmy ($msec)     = ( $data =~ m/(\\d+) msec/ );\nprint \"$time_str, $id, $msec,\\n\";\n</code></pre>\n\n<p>Note - you can combine your regex patterns (as some of the examples indicate). I've done it this way hopefully to simplify and clarify what's happening. The regular expression match is applied to <code>$data</code> (because of <code>=~</code>). The 'matching' elements in brackets <code>()</code> are then extracted and 'returned' to be inserted into the variable on the lefthand side. </p>\n\n<p>(Note - you need to have the 'my ( $msec)' in brackets, because that way the value is used, rather than the result of the test (true/false))</p>\n"}, {"tags": [], "owner": {"reputation": 81037, "user_id": 8454, "user_type": "registered", "accept_rate": 100, "profile_image": "https://i.stack.imgur.com/2NlHs.png?s=128&g=1", "display_name": "Andy Lester", "link": "https://stackoverflow.com/users/8454/andy-lester"}, "is_accepted": false, "score": 1, "last_activity_date": 1437405604, "creation_date": 1437405604, "answer_id": 31520291, "question_id": 31520056, "link": "https://stackoverflow.com/questions/31520056/splitting-a-string-using-regex-in-perl/31520291#31520291", "title": "Splitting a string using regex in Perl", "body": "<p><code>split</code> is not the tool to use here.  Here is a regex that works at least for your specific case you listed.</p>\n\n<pre><code>my $data = 'May 26 09:33:33 localhost archiver: saving ID 0091070818_1432647213_489715 took 180 msec';\n\n$data =~ m/^(\\w+ \\d+ \\d\\d:\\d\\d:\\d\\d).+saving ID (\\d+).+took (\\d+) msec$/;\n\nmy ($date, $id, $msec) = ($1,$2,$3);\n\nprint \"$date, $id, $msec\\n\";\n</code></pre>\n"}, {"tags": [], "owner": {"reputation": 123805, "user_id": 622310, "user_type": "registered", "accept_rate": 33, "profile_image": "https://www.gravatar.com/avatar/8b6d35219e1808520bc238b28161e2e6?s=128&d=identicon&r=PG", "display_name": "Borodin", "link": "https://stackoverflow.com/users/622310/borodin"}, "is_accepted": false, "score": 2, "last_activity_date": 1437405621, "creation_date": 1437405621, "answer_id": 31520299, "question_id": 31520056, "link": "https://stackoverflow.com/questions/31520056/splitting-a-string-using-regex-in-perl/31520299#31520299", "title": "Splitting a string using regex in Perl", "body": "<p>It's probably best to do this with three separate patterns. The code below demonstrates</p>\n\n<p>I've used the <code>/x</code> modifier so that I can put spaces in the regex patterns for improved readability</p>\n\n<p>Unless you are certain that your data will be well-formed (i.e. it is the output of a program) you should add tests to make sure that all three values are <em>defined</em> after the pattern match. Or you can directly test the pattern match itself</p>\n\n<pre><code>use strict;\nuse warnings;\nuse v5.10;\n\nmy $s = 'May 26 09:33:33 localhost archiver: saving ID 0191070818_1462647213_489705 took 180 msec';\n\nfor ( $s ) {\n\n    my ($date)  = / ^ ( [a-z]+ \\s+ \\d+ \\s+ [\\d:]+ ) /ix;\n    my ($id)    = / ID \\s+ (\\d+) _ /x;\n    my ($msecs) = / (\\d+) \\s+ msec /x;\n\n    say join ',', $date, $id, $msecs;\n}\n</code></pre>\n\n<h3>output</h3>\n\n<pre><code>May 26 09:33:33,0191070818,180\n</code></pre>\n"}, {"tags": [], "owner": {"reputation": 62184, "user_id": 7231, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/81b76985f3985e35492e25880493d045?s=128&d=identicon&r=PG", "display_name": "Dave Cross", "link": "https://stackoverflow.com/users/7231/dave-cross"}, "is_accepted": false, "score": 4, "last_activity_date": 1437406089, "creation_date": 1437406089, "answer_id": 31520466, "question_id": 31520056, "link": "https://stackoverflow.com/questions/31520056/splitting-a-string-using-regex-in-perl/31520466#31520466", "title": "Splitting a string using regex in Perl", "body": "<p>It might even be simplest to just split the data on whitespace (and then reconstruct the date by joining together the first three fields). It's not very sophisticated, but it gets the job done.</p>\n\n<pre><code>#!/usr/bin/perl\n\nuse strict;\nuse warnings;\nuse 5.010;\n\nmy $data = 'May 26 09:33:33 localhost archiver: saving ID 0091070818_1432647213_489715 took 180 msec';\n\nmy @values = split(/\\s+/, $data);\n\nmy $date = join ' ', @values[0,1,2];\nmy $id   = $values[7];\nmy $time = $values[9];\n\nsay \"Date: $date\";\nsay \"ID:   $id\";\nsay \"Time: $time\";\n</code></pre>\n\n<p>Which gives:</p>\n\n<pre><code>Date: May 26 09:33:33\nID:   0091070818_1432647213_489715\nTime: 180\n</code></pre>\n"}], "owner": {"reputation": 701, "user_id": 2007843, "user_type": "registered", "accept_rate": 91, "profile_image": "https://www.gravatar.com/avatar/eb1e32c61d2047d1b4e8c3cdac6d9cb4?s=128&d=identicon&r=PG", "display_name": "user2007843", "link": "https://stackoverflow.com/users/2007843/user2007843"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 121, "favorite_count": 0, "accepted_answer_id": 31520261, "answer_count": 6, "score": 3, "last_activity_date": 1542680287, "creation_date": 1437405002, "last_edit_date": 1542680287, "question_id": 31520056, "link": "https://stackoverflow.com/questions/31520056/splitting-a-string-using-regex-in-perl", "title": "Splitting a string using regex in Perl", "body": "<p>I need help splitting the following string into (Date, ID, msecs)</p>\n\n<p><code>May 26 09:33:33 localhost archiver: saving ID 0191070818_1462647213_489705 took 180 msec</code></p>\n\n<p>I only want the first part of the ID before the first underscore.</p>\n\n<p>So this is what I want the output to look like</p>\n\n<p><code>May 26 09:33:33, 0191070818, 180</code></p>\n\n<p>I am having trouble figuring out what to put in the regex</p>\n\n<pre><code>use strict;\nuse warnings;\n\nmy $data = 'May 26 09:33:33 localhost archiver: saving ID 0091070818_1432647213_489715 took 180 msec';\n\nmy @values = split('/[]/', $data);\n\nforeach my $val (@values) {\n  print \"$val\\n\";\n}\n\nexit 0;\n</code></pre>\n"}, {"tags": ["perl", "dancer"], "comments": [{"owner": {"reputation": 21782, "user_id": 176646, "user_type": "registered", "accept_rate": 88, "profile_image": "https://i.stack.imgur.com/HsQyV.png?s=128&g=1", "display_name": "ThisSuitIsBlackNot", "link": "https://stackoverflow.com/users/176646/thissuitisblacknot"}, "edited": false, "score": 0, "creation_date": 1437404571, "post_id": 31518827, "comment_id": 51000957, "body": "Hmm, works for me with a new Dancer app. Can you reproduce this behavior with a new app? Also, I can&#39;t find any documentation for <code>Dancer::Config::settings</code>...you generally shouldn&#39;t use undocumented functions."}, {"owner": {"reputation": 349, "user_id": 2773127, "user_type": "registered", "accept_rate": 75, "profile_image": "https://www.gravatar.com/avatar/6fef172929e808d472f63d56950a4b62?s=128&d=identicon&r=PG&f=1", "display_name": "Peter Staab", "link": "https://stackoverflow.com/users/2773127/peter-staab"}, "reply_to_user": {"reputation": 21782, "user_id": 176646, "user_type": "registered", "accept_rate": 88, "profile_image": "https://i.stack.imgur.com/HsQyV.png?s=128&g=1", "display_name": "ThisSuitIsBlackNot", "link": "https://stackoverflow.com/users/176646/thissuitisblacknot"}, "edited": false, "score": 2, "creation_date": 1437407765, "post_id": 31518827, "comment_id": 51003162, "body": "Looks like I tracked down my error.  It seems to be coming from loading in additional routes.  I originally wrote my other routes as packages and loaded with <code>use</code>, but appears I should be using <code>load</code> instead.  Some of this code dates back a couple of years and maybe things have changed."}], "owner": {"reputation": 349, "user_id": 2773127, "user_type": "registered", "accept_rate": 75, "profile_image": "https://www.gravatar.com/avatar/6fef172929e808d472f63d56950a4b62?s=128&d=identicon&r=PG&f=1", "display_name": "Peter Staab", "link": "https://stackoverflow.com/users/2773127/peter-staab"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 125, "favorite_count": 1, "answer_count": 0, "score": 1, "last_activity_date": 1437401665, "creation_date": 1437401665, "question_id": 31518827, "link": "https://stackoverflow.com/questions/31518827/setting-the-appdir-in-dancertest", "title": "setting the appdir in Dancer::Test", "body": "<p>I have an dancer webapp that I'm trying to test, and I have a few issues related to paths.  It appears that the appdir setting isn't being set correctly.  </p>\n\n<p>The top of my test code is:</p>\n\n<pre><code>use MyApp;\nuse Dancer::Test;\n</code></pre>\n\n<p>if I dump out the settings (using dd from Data::Dump) from:</p>\n\n<pre><code>my $settings = Dancer::Config::settings();\ndd $settings; \n</code></pre>\n\n<p>I get: </p>\n\n<pre><code>{  appdir        =&gt; \"/Library/WebServer/Documents/myapp/lib\",\napphandler    =&gt; \"Standalone\",\nauto_reload   =&gt; 0,\ncharset       =&gt; \"\",\nconfdir       =&gt; \"/Library/WebServer/Documents/myapp/lib\",\ncontent_type  =&gt; \"text/html\",\ndaemon        =&gt; 0,\nengines       =&gt; {},\nenvdir        =&gt; \"/Library/WebServer/Documents/myapp/lib/environments\",\nenvironment   =&gt; \"development\",\nhandlers      =&gt; {},\nlogger        =&gt; \"file\",\nplugins       =&gt; {},\nport          =&gt; 3000,\npublic        =&gt; \"/Library/WebServer/Documents/myapp/lib/public\",\nserver        =&gt; \"0.0.0.0\",\nserver_tokens =&gt; 1,\nstartup_info  =&gt; 1,\ntemplate      =&gt; \"simple\",\ntraces        =&gt; 0,\nviews         =&gt; \"/Library/WebServer/Documents/myapp/lib/views\",\nwarnings      =&gt; 0}\n</code></pre>\n\n<p>clearly it's not setting the appdir correctly.  It doesn't appear that it matters how I call code (i.e. the working directory). </p>\n\n<p>I've been calling it as <code>perl -I lib -I ../lib t/001_base.t</code>  with the additional library calls as MyApp.pm needs modules in both <code>lib</code> and <code>../lib</code>.  </p>\n\n<p>When I run the same code as a standalone webapp which is the following in <code>bin/app.pl</code> which has the code:</p>\n\n<pre><code>use Dancer;\nuse MyApp;\ndance;\n</code></pre>\n\n<p>dumping the settings gives me the right appdir, which loads the configuration file and sets all of the other correctly. </p>\n\n<p>In my test code, I thought that adding the lines:</p>\n\n<pre><code>Dancer::set appdir=&gt;\"/Library/WebServer/Documents/myapp\"\nDancer::Config-&gt;load;\n</code></pre>\n\n<p>would do it.  However that sets the appdir correctly, but doesn't change any other parameters.  From the <code>Dancer::Test</code> code, there is an import command which appears to do what I want, but didn't help at all. Any other thoughts?</p>\n"}, {"tags": ["json", "perl"], "comments": [{"owner": {"reputation": 793701, "user_id": 19068, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/1d2d3229ed1961d2bd81853242493247?s=128&d=identicon&r=PG", "display_name": "Quentin", "link": "https://stackoverflow.com/users/19068/quentin"}, "edited": false, "score": 4, "creation_date": 1437401029, "post_id": 31518513, "comment_id": 50998225, "body": "Parsing means converting from a data format into an in-memory data structure. You&#39;re already successfully parsing it. You just seem to lack any knowledge of how to deal with arrays and references. Have you tried anything? <a href=\"http://perldoc.perl.org/perldata.html\" rel=\"nofollow noreferrer\">perldoc.perl.org/perldata.html</a> and <a href=\"http://perldoc.perl.org/perlref.html\" rel=\"nofollow noreferrer\">perldoc.perl.org/perlref.html</a> make for good starting points."}, {"owner": {"reputation": 51521, "user_id": 2566198, "user_type": "registered", "accept_rate": 67, "profile_image": "https://i.stack.imgur.com/Y34ZA.jpg?s=128&g=1", "display_name": "Sobrique", "link": "https://stackoverflow.com/users/2566198/sobrique"}, "edited": false, "score": 0, "creation_date": 1437401671, "post_id": 31518513, "comment_id": 50998684, "body": "I don&#39;t know if that&#39;s necessarily fair - a simple array of arrays isn&#39;t hard to parse, but this isn&#39;t. It&#39;s an array containing some array refs, and some that aren&#39;t, which is rather more complex than the basic case."}, {"owner": {"reputation": 123805, "user_id": 622310, "user_type": "registered", "accept_rate": 33, "profile_image": "https://www.gravatar.com/avatar/8b6d35219e1808520bc238b28161e2e6?s=128&d=identicon&r=PG", "display_name": "Borodin", "link": "https://stackoverflow.com/users/622310/borodin"}, "edited": false, "score": 1, "creation_date": 1437401885, "post_id": 31518513, "comment_id": 50998848, "body": "This is different from the data in your <a href=\"http://stackoverflow.com/questions/31492440/parsing-this-kind-of-data\">previous question</a>. Are you using a different API?"}, {"owner": {"reputation": 5328, "user_id": 1305947, "user_type": "registered", "accept_rate": 81, "profile_image": "https://www.gravatar.com/avatar/660bcd99a216234e04adb27125cbf0a3?s=128&d=identicon&r=PG", "display_name": "Joel G Mathew", "link": "https://stackoverflow.com/users/1305947/joel-g-mathew"}, "reply_to_user": {"reputation": 123805, "user_id": 622310, "user_type": "registered", "accept_rate": 33, "profile_image": "https://www.gravatar.com/avatar/8b6d35219e1808520bc238b28161e2e6?s=128&d=identicon&r=PG", "display_name": "Borodin", "link": "https://stackoverflow.com/users/622310/borodin"}, "edited": false, "score": 0, "creation_date": 1437401926, "post_id": 31518513, "comment_id": 50998878, "body": "@Borodin. It&#39;s the same API, but a different method."}], "answers": [{"comments": [{"owner": {"reputation": 5328, "user_id": 1305947, "user_type": "registered", "accept_rate": 81, "profile_image": "https://www.gravatar.com/avatar/660bcd99a216234e04adb27125cbf0a3?s=128&d=identicon&r=PG", "display_name": "Joel G Mathew", "link": "https://stackoverflow.com/users/1305947/joel-g-mathew"}, "edited": false, "score": 1, "creation_date": 1437401742, "post_id": 31518778, "comment_id": 50998732, "body": "Thank you for explaining with actual code! I wasn&#39;t familiar with this kind of nested structure."}, {"owner": {"reputation": 5328, "user_id": 1305947, "user_type": "registered", "accept_rate": 81, "profile_image": "https://www.gravatar.com/avatar/660bcd99a216234e04adb27125cbf0a3?s=128&d=identicon&r=PG", "display_name": "Joel G Mathew", "link": "https://stackoverflow.com/users/1305947/joel-g-mathew"}, "edited": false, "score": 0, "creation_date": 1437403687, "post_id": 31518778, "comment_id": 51000294, "body": "I had to go one more level deeper to get the data. I submitted an edit to the code."}, {"owner": {"reputation": 21782, "user_id": 176646, "user_type": "registered", "accept_rate": 88, "profile_image": "https://i.stack.imgur.com/HsQyV.png?s=128&g=1", "display_name": "ThisSuitIsBlackNot", "link": "https://stackoverflow.com/users/176646/thissuitisblacknot"}, "reply_to_user": {"reputation": 5328, "user_id": 1305947, "user_type": "registered", "accept_rate": 81, "profile_image": "https://www.gravatar.com/avatar/660bcd99a216234e04adb27125cbf0a3?s=128&d=identicon&r=PG", "display_name": "Joel G Mathew", "link": "https://stackoverflow.com/users/1305947/joel-g-mathew"}, "edited": false, "score": 1, "creation_date": 1437410938, "post_id": 31518778, "comment_id": 51005041, "body": "@Droidzone Sobrique&#39;s code works with the data you posted in your question, so your proposed edit doesn&#39;t really make sense. Future visitors to this post could be confused if the code in the answer weren&#39;t consistent with the data in the question."}], "tags": [], "owner": {"reputation": 51521, "user_id": 2566198, "user_type": "registered", "accept_rate": 67, "profile_image": "https://i.stack.imgur.com/Y34ZA.jpg?s=128&g=1", "display_name": "Sobrique", "link": "https://stackoverflow.com/users/2566198/sobrique"}, "is_accepted": true, "score": 3, "last_activity_date": 1437401867, "last_edit_date": 1437401867, "creation_date": 1437401528, "answer_id": 31518778, "question_id": 31518513, "link": "https://stackoverflow.com/questions/31518513/how-to-retrieve-data-from-this-nested-array/31518778#31518778", "title": "How to retrieve data from this nested array?", "body": "<p><code>[]</code> denotes an array in Perl. This is a 3 deep array. So you need to iterate it, extracting values. </p>\n\n<pre><code>foreach my $element ( @files ) {\n   if ( ref $element eq \"ARRAY\" ) {\n       foreach my $subelement ( @$element ) { \n           print $subelement-&gt;[0],\"\\n\";\n       }\n   }\n   else { \n      print $element,\"\\n\";\n   }\n\n}\n</code></pre>\n\n<p>This process is complicated a little by <em>not</em> being an array of arrays - it's actually rather a messy data structure. So you need to use something like <code>ref</code> to tell if you're looking at an array now, or a text element. </p>\n\n<p>One of the useful tricks to know here is - if you have an array, you access a value by <code>$array[0]</code>. If you have an array reference you can use <code>-&gt;</code> which dereferences the array first. </p>\n\n<p>E.g. </p>\n\n<pre><code>my @array = qw ( fish ); \nmy $ref_to_array = \\@array;\nprint $ref_to_array,\"\\n\";\nprint $ref_to_array -&gt; [0],\"\\n\"; \n</code></pre>\n"}], "owner": {"reputation": 5328, "user_id": 1305947, "user_type": "registered", "accept_rate": 81, "profile_image": "https://www.gravatar.com/avatar/660bcd99a216234e04adb27125cbf0a3?s=128&d=identicon&r=PG", "display_name": "Joel G Mathew", "link": "https://stackoverflow.com/users/1305947/joel-g-mathew"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 136, "favorite_count": 0, "accepted_answer_id": 31518778, "answer_count": 1, "score": 0, "last_activity_date": 1437401867, "creation_date": 1437400846, "last_edit_date": 1437401329, "question_id": 31518513, "link": "https://stackoverflow.com/questions/31518513/how-to-retrieve-data-from-this-nested-array", "title": "How to retrieve data from this nested array?", "body": "<p>I'm having a hard time retrieving data from a nested array. The result of converting a HTTP::Response to JSON results in the following Dumper result:</p>\n\n<pre><code>$VAR1 = [\n          'FE93DEC4505772CE9CFCE353A1F07027A165032F',\n          [\n            [\n              'myshow.S01E03.HDTV.x264-ASAP.mp4',\n              192494228,\n              192494228,\n              2,\n              0,\n              735,\n              bless( do{\\(my $o = 1)}, 'JSON::PP::Boolean' ),\n              0,\n              0,\n              0,\n              0,\n              -1,\n              0\n            ],\n            [\n              'Downloaded.txt',\n              172,\n              172,\n              2,\n              734,\n              1,\n              bless( do{\\(my $o = 0)}, 'JSON::PP::Boolean' ),\n              -1,\n              -1,\n              -1,\n              -1,\n              -1,\n              0\n            ],\n            [\n              'myshow.s01e03.hdtv.x264-asap.nfo',\n              4798,\n              4798,\n              2,\n              734,\n              1,\n              $VAR1-&gt;[1][1][6],\n              -1,\n              -1,\n              -1,\n              -1,\n              -1,\n              0\n            ]\n          ]\n        ];\n</code></pre>\n\n<p>I wish to print out the list:</p>\n\n<pre><code>myshow.S01E03.HDTV.x264-ASAP.mp4\nDownloaded.txt\nmyshow.s01e03.hdtv.x264-asap.nfo\n</code></pre>\n\n<p>and also get 'FE93DEC4505772CE9CFCE353A1F07027A165032F' into a string variable.\nI'm having a hard time figuring out what can do this.</p>\n\n<p>My code upto this point:</p>\n\n<pre><code>my $response = $ua-&gt;get( $url, @ns_headers );\nmy $content = from_json $response-&gt;decoded_content;\nmy @files=$content-&gt;{files};\nprint Dumper(@files);\n</code></pre>\n"}, {"tags": ["perl"], "answers": [{"tags": [], "owner": {"reputation": 149, "user_id": 4010567, "user_type": "registered", "accept_rate": 12, "profile_image": "https://www.gravatar.com/avatar/787b4aadc8f1972a24bf22b974e9f637?s=128&d=identicon&r=PG&f=1", "display_name": "chenna", "link": "https://stackoverflow.com/users/4010567/chenna"}, "is_accepted": false, "score": 0, "last_activity_date": 1444131087, "creation_date": 1444131087, "answer_id": 32968824, "question_id": 31518095, "link": "https://stackoverflow.com/questions/31518095/linklint-error-can-only-check-case-under-windows-dos/32968824#32968824", "title": "linklint error: can only check case under Windows/Dos", "body": "<p>My System path has Two cygwins, Removing one cygwin from path solves this issue</p>\n"}], "owner": {"reputation": 149, "user_id": 4010567, "user_type": "registered", "accept_rate": 12, "profile_image": "https://www.gravatar.com/avatar/787b4aadc8f1972a24bf22b974e9f637?s=128&d=identicon&r=PG&f=1", "display_name": "chenna", "link": "https://stackoverflow.com/users/4010567/chenna"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 38, "favorite_count": 0, "answer_count": 1, "score": 0, "last_activity_date": 1444131087, "creation_date": 1437399721, "last_edit_date": 1437400015, "question_id": 31518095, "link": "https://stackoverflow.com/questions/31518095/linklint-error-can-only-check-case-under-windows-dos", "title": "linklint error: can only check case under Windows/Dos", "body": "<p>I am running the following command on Windows cygwin</p>\n\n<pre><code>perl ../../donotship/linklint-2.3.5/linklint-2.3.5 -silent -quiet -case -orphan -error -warn -xref -doc WinNT_Debug/report -out WinNT_Debug/report/report.txt -root WinNT_Debug/ship /@s\n</code></pre>\n\n<p>This command fails by saying <strong>linklint error: can only check case under Windows/Dos</strong>, I am running on Windows only. If I remove case option it works fine.</p>\n\n<p>How to resolve this error ? </p>\n"}, {"tags": ["perl", "benchmarking", "www-mechanize"], "comments": [{"owner": {"reputation": 50468, "user_id": 1331451, "user_type": "registered", "accept_rate": 96, "profile_image": "https://i.stack.imgur.com/4ZPmj.png?s=128&g=1", "display_name": "simbabque", "link": "https://stackoverflow.com/users/1331451/simbabque"}, "edited": false, "score": 4, "creation_date": 1437397108, "post_id": 31516902, "comment_id": 50995389, "body": "While not related to the problem, check out <a href=\"https://metacpan.org/pod/Benchmark\" rel=\"nofollow noreferrer\">Benchmark</a>, it&#39;s the core module to meassure stuff."}, {"owner": {"reputation": 51521, "user_id": 2566198, "user_type": "registered", "accept_rate": 67, "profile_image": "https://i.stack.imgur.com/Y34ZA.jpg?s=128&g=1", "display_name": "Sobrique", "link": "https://stackoverflow.com/users/2566198/sobrique"}, "edited": false, "score": 1, "creation_date": 1437399506, "post_id": 31516902, "comment_id": 50997103, "body": "<code>strict</code> and <code>warnings</code> are also highly recommended."}, {"owner": {"reputation": 51521, "user_id": 2566198, "user_type": "registered", "accept_rate": 67, "profile_image": "https://i.stack.imgur.com/Y34ZA.jpg?s=128&g=1", "display_name": "Sobrique", "link": "https://stackoverflow.com/users/2566198/sobrique"}, "edited": false, "score": 0, "creation_date": 1437399940, "post_id": 31516902, "comment_id": 50997419, "body": "I can&#39;t actually reproduce you problem. If you set the ForkManager value to <code>0</code>, it shouldn&#39;t actually <code>fork()</code> at all, running the code normally (because <code>next</code> doesn&#39;t execute)."}, {"owner": {"reputation": 123805, "user_id": 622310, "user_type": "registered", "accept_rate": 33, "profile_image": "https://www.gravatar.com/avatar/8b6d35219e1808520bc238b28161e2e6?s=128&d=identicon&r=PG", "display_name": "Borodin", "link": "https://stackoverflow.com/users/622310/borodin"}, "edited": false, "score": 4, "creation_date": 1437400309, "post_id": 31516902, "comment_id": 50997713, "body": "Do you realise that you&#39;re not measuring the time taken by the web request? All that happens between the two times is a few utility calls and four print statements. You&#39;re seeing times of 738\u03bcs and 282\u03bcs which are far too small to assign any meaning to. Internet response times will be of the order of a second or so"}, {"owner": {"reputation": 1154, "user_id": 3388005, "user_type": "registered", "accept_rate": 41, "profile_image": "https://www.gravatar.com/avatar/517c4aefa072b993dffcf04a90229172?s=128&d=identicon&r=PG&f=1", "display_name": "Saurabh Shrivastava", "link": "https://stackoverflow.com/users/3388005/saurabh-shrivastava"}, "reply_to_user": {"reputation": 123805, "user_id": 622310, "user_type": "registered", "accept_rate": 33, "profile_image": "https://www.gravatar.com/avatar/8b6d35219e1808520bc238b28161e2e6?s=128&d=identicon&r=PG", "display_name": "Borodin", "link": "https://stackoverflow.com/users/622310/borodin"}, "edited": false, "score": 0, "creation_date": 1437408266, "post_id": 31516902, "comment_id": 51003498, "body": "@Borodin: my $t1 is time immediately after submitting form and then i am printing title of response page and then recording $t2. Is it not giving web request time?"}, {"owner": {"reputation": 1154, "user_id": 3388005, "user_type": "registered", "accept_rate": 41, "profile_image": "https://www.gravatar.com/avatar/517c4aefa072b993dffcf04a90229172?s=128&d=identicon&r=PG&f=1", "display_name": "Saurabh Shrivastava", "link": "https://stackoverflow.com/users/3388005/saurabh-shrivastava"}, "reply_to_user": {"reputation": 51521, "user_id": 2566198, "user_type": "registered", "accept_rate": 67, "profile_image": "https://i.stack.imgur.com/Y34ZA.jpg?s=128&g=1", "display_name": "Sobrique", "link": "https://stackoverflow.com/users/2566198/sobrique"}, "edited": false, "score": 0, "creation_date": 1437408344, "post_id": 31516902, "comment_id": 51003548, "body": "@Sobrique: So you are getting same time for both the code? Try running few times."}, {"owner": {"reputation": 123805, "user_id": 622310, "user_type": "registered", "accept_rate": 33, "profile_image": "https://www.gravatar.com/avatar/8b6d35219e1808520bc238b28161e2e6?s=128&d=identicon&r=PG", "display_name": "Borodin", "link": "https://stackoverflow.com/users/622310/borodin"}, "edited": false, "score": 0, "creation_date": 1437408723, "post_id": 31516902, "comment_id": 51003790, "body": "The <code>submit_form</code> method call sends the request and waits for the response. It doesn&#39;t continue until you call <code>title</code> and then wait until it has the response information to print"}, {"owner": {"reputation": 51521, "user_id": 2566198, "user_type": "registered", "accept_rate": 67, "profile_image": "https://i.stack.imgur.com/Y34ZA.jpg?s=128&g=1", "display_name": "Sobrique", "link": "https://stackoverflow.com/users/2566198/sobrique"}, "edited": false, "score": 0, "creation_date": 1437408748, "post_id": 31516902, "comment_id": 51003808, "body": "I did. 10 iterations, pretty consistent results. But as Borodin notes - what you&#39;re <i>testing</i> is the time taken to <code>print</code>, because you don&#39;t &quot;start the clock&quot; until after the request."}, {"owner": {"reputation": 1154, "user_id": 3388005, "user_type": "registered", "accept_rate": 41, "profile_image": "https://www.gravatar.com/avatar/517c4aefa072b993dffcf04a90229172?s=128&d=identicon&r=PG&f=1", "display_name": "Saurabh Shrivastava", "link": "https://stackoverflow.com/users/3388005/saurabh-shrivastava"}, "edited": false, "score": 0, "creation_date": 1437409162, "post_id": 31516902, "comment_id": 51004049, "body": "So, where should i put my $t1 and $t2? :( :( :("}], "answers": [{"comments": [{"owner": {"reputation": 1154, "user_id": 3388005, "user_type": "registered", "accept_rate": 41, "profile_image": "https://www.gravatar.com/avatar/517c4aefa072b993dffcf04a90229172?s=128&d=identicon&r=PG&f=1", "display_name": "Saurabh Shrivastava", "link": "https://stackoverflow.com/users/3388005/saurabh-shrivastava"}, "edited": false, "score": 0, "creation_date": 1437411046, "post_id": 31521514, "comment_id": 51005115, "body": "ok, so i need to put $t0 just before submit instead of immediately after submit. Right? Also, my application is calling an API on submit and printing  response code received from API on next page. So, i am using $m-&gt;content to get content, regex to read response code and then print response code and then noting $t1. Is my method correct?"}, {"owner": {"reputation": 123805, "user_id": 622310, "user_type": "registered", "accept_rate": 33, "profile_image": "https://www.gravatar.com/avatar/8b6d35219e1808520bc238b28161e2e6?s=128&d=identicon&r=PG", "display_name": "Borodin", "link": "https://stackoverflow.com/users/622310/borodin"}, "reply_to_user": {"reputation": 1154, "user_id": 3388005, "user_type": "registered", "accept_rate": 41, "profile_image": "https://www.gravatar.com/avatar/517c4aefa072b993dffcf04a90229172?s=128&d=identicon&r=PG&f=1", "display_name": "Saurabh Shrivastava", "link": "https://stackoverflow.com/users/3388005/saurabh-shrivastava"}, "edited": false, "score": 0, "creation_date": 1437417766, "post_id": 31521514, "comment_id": 51009005, "body": "@user3388005: If you&#39;re timing <i>only</i> the internet transaction then you want to grab the time before and after the <code>get</code> call (which may be a <code>submit_form</code> call or something similar) <code>$mech-&gt;content</code> uses only local data that has been retrieved, and you can get the response code using <code>$mech-&gt;res-&gt;code</code>"}], "tags": [], "owner": {"reputation": 123805, "user_id": 622310, "user_type": "registered", "accept_rate": 33, "profile_image": "https://www.gravatar.com/avatar/8b6d35219e1808520bc238b28161e2e6?s=128&d=identicon&r=PG", "display_name": "Borodin", "link": "https://stackoverflow.com/users/622310/borodin"}, "is_accepted": false, "score": 3, "last_activity_date": 1437511022, "last_edit_date": 1437511022, "creation_date": 1437409248, "answer_id": 31521514, "question_id": 31516902, "link": "https://stackoverflow.com/questions/31516902/latency-time-difference-when-use-parallelforkmanager-in-perl/31521514#31521514", "title": "Latency time difference when use parallel::forkmanager in Perl", "body": "<p>You aren't measuring the internet response time, you're just timing a few print statements and function calls. If you have an internet connection that responds within half a millisecond then I'm amazed!</p>\n\n<p>Try this code, which does something similar but times the internet request/response round trip</p>\n\n<pre class=\"lang-perl prettyprint-override\"><code>use strict;\nuse warnings;\n\nuse WWW::Mechanize;\nuse Time::HiRes 'gettimeofday';\n\nmy $mech = WWW::Mechanize-&gt;new;\n\n$mech-&gt;get( 'http://www.google.com/' );\n\nmy $t0 = gettimeofday;\n\n$mech-&gt;submit_form(\n    form_number =&gt; 1,\n    fields      =&gt; { q =&gt; 'abcd' },\n);\n\nmy $t1 = gettimeofday;\n\nprintf \"Title: %s\\n\",  $mech-&gt;title;\nprintf \"Delay: %5.3fs\\n\", $t1 - $t0;\n</code></pre>\n\n<h3>output</h3>\n\n<pre class=\"lang-none prettyprint-override\"><code>Title: abcd - Google Search\nDelay: 1.784s\n</code></pre>\n"}], "owner": {"reputation": 1154, "user_id": 3388005, "user_type": "registered", "accept_rate": 41, "profile_image": "https://www.gravatar.com/avatar/517c4aefa072b993dffcf04a90229172?s=128&d=identicon&r=PG&f=1", "display_name": "Saurabh Shrivastava", "link": "https://stackoverflow.com/users/3388005/saurabh-shrivastava"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 128, "favorite_count": 0, "answer_count": 1, "score": 0, "last_activity_date": 1437511022, "creation_date": 1437396334, "last_edit_date": 1437420437, "question_id": 31516902, "link": "https://stackoverflow.com/questions/31516902/latency-time-difference-when-use-parallelforkmanager-in-perl", "title": "Latency time difference when use parallel::forkmanager in Perl", "body": "<p>I am using the Google website just to explain my problem.</p>\n\n<p>I have a webpage with a form. I am using <a href=\"https://metacpan.org/pod/WWW::Mechanize\" rel=\"nofollow\"><code>WWW::Mechanize</code></a> to fetch and fill the form, noting the start time in <code>$s1</code>.</p>\n\n<p>I am reading the title on the next page and noting end time in <code>$s2</code>.  </p>\n\n<p>Then I calculate the wait time by <code>$s2 - $s1</code>.</p>\n\n<p>This is my code</p>\n\n<pre><code>use WWW::Mechanize;\nuse LWP::UserAgent;\nuse Time::HiRes qw/gettimeofday/;\nuse Time::Format qw/%time/;\nuse POSIX qw( strftime );\nuse Time::HiRes qw( gettimeofday );\n\n$m = WWW::Mechanize-&gt;new();\n$m-&gt;get( \"http://www.google.com\" );\n$m-&gt;submit_form(\n    form_number =&gt; 1,\n    fields      =&gt; { q =&gt; 'abcd' },\n);\n\n$s1 = gettimeofday;\nmy ($secs, $microsecs) = gettimeofday();\nprint strftime(\"%H:%M:%S\", localtime($secs)) . sprintf(\".%04d\", $microsecs/10);\n\nprint \" \";\nprint $m-&gt;title;\nprint \" \";\n\n$s2 = gettimeofday;\nmy ($secs, $microsecs) = gettimeofday();\nprint strftime(\"%H:%M:%S\", localtime($secs)) . sprintf(\".%04d\", $microsecs/10);\n\n$s3 = $s2 - $s1;\n$s3 = $s3 * 1000;\nprint \"  $s3\\n\";\n</code></pre>\n\n<p>The output is:</p>\n\n<pre><code>18:02:42.71923 abcd - Google Search 18:02:42.71996  0.737905502319336\n</code></pre>\n\n<p>Now, i used same code in Parallel Fork Manager keeping loopcount as 1.<br>\nMy code:</p>\n\n<pre><code>use Parallel::ForkManager;\nuse WWW::Mechanize;\nuse LWP::UserAgent;\nuse Time::HiRes qw/gettimeofday/;\nuse Time::Format qw/%time/;\nuse POSIX qw( strftime );\nuse Time::HiRes qw( gettimeofday );\n\n$count = 1;\n\n$pm = new Parallel::ForkManager($count);\n\nfor ( 1 .. $count ) {\n\n  $pm-&gt;start and next;\n\n  $m = WWW::Mechanize-&gt;new();\n  $m-&gt;get( \"http://www.google.com\" );\n  $m-&gt;submit_form(\n      form_number =&gt; 1,\n      fields      =&gt; { q =&gt; 'abcd' },\n  );\n\n  $s1 = gettimeofday;\n  my ($secs, $microsecs) = gettimeofday();\n  print strftime(\"%H:%M:%S\", localtime($secs)) . sprintf(\".%04d\", $microsecs/10);\n\n  print \" \";\n  print $m-&gt;title;\n  print \" \";\n\n  $s2 = gettimeofday;\n  my ($secs, $microsecs) = gettimeofday();\n  print strftime(\"%H:%M:%S\", localtime($secs)) . sprintf(\".%04d\", $microsecs/10);\n\n  $s3 = $s2 - $s1;\n  $s3 = $s3 * 1000;\n  print \"  $s3\\n\";\n\n  $pm-&gt;finish\n}  \n\n$pm-&gt;wait_all_children; ## wait for the child processes\n</code></pre>\n\n<p>My output:</p>\n\n<pre><code>18:02:48.55297 abcd - Google Search 18:02:48.55325  0.282049179077148\n</code></pre>\n\n<p>I am not able to understand why there is so much difference in Latency time when use fork(reduce to 1/3). It should be same. Any idea. My main purpose is to record Latency time for 1000-2000 requests and find average. Since there is so much difference between direct code and same code under fork, i am not sure if Latency time is correct.</p>\n"}, {"tags": ["perl", "rest", "perl-module", "perl5.16"], "comments": [{"owner": {"reputation": 50468, "user_id": 1331451, "user_type": "registered", "accept_rate": 96, "profile_image": "https://i.stack.imgur.com/4ZPmj.png?s=128&g=1", "display_name": "simbabque", "link": "https://stackoverflow.com/users/1331451/simbabque"}, "reply_to_user": {"reputation": 123805, "user_id": 622310, "user_type": "registered", "accept_rate": 33, "profile_image": "https://www.gravatar.com/avatar/8b6d35219e1808520bc238b28161e2e6?s=128&d=identicon&r=PG", "display_name": "Borodin", "link": "https://stackoverflow.com/users/622310/borodin"}, "edited": false, "score": 0, "creation_date": 1437397007, "post_id": 31516238, "comment_id": 50995303, "body": "@borodin you invented a new tag!"}, {"owner": {"reputation": 123805, "user_id": 622310, "user_type": "registered", "accept_rate": 33, "profile_image": "https://www.gravatar.com/avatar/8b6d35219e1808520bc238b28161e2e6?s=128&d=identicon&r=PG", "display_name": "Borodin", "link": "https://stackoverflow.com/users/622310/borodin"}, "reply_to_user": {"reputation": 50468, "user_id": 1331451, "user_type": "registered", "accept_rate": 96, "profile_image": "https://i.stack.imgur.com/4ZPmj.png?s=128&g=1", "display_name": "simbabque", "link": "https://stackoverflow.com/users/1331451/simbabque"}, "edited": false, "score": 0, "creation_date": 1437397259, "post_id": 31516238, "comment_id": 50995505, "body": "@simbabque: I did! You can share it if you like"}, {"owner": {"reputation": 123805, "user_id": 622310, "user_type": "registered", "accept_rate": 33, "profile_image": "https://www.gravatar.com/avatar/8b6d35219e1808520bc238b28161e2e6?s=128&d=identicon&r=PG", "display_name": "Borodin", "link": "https://stackoverflow.com/users/622310/borodin"}, "edited": false, "score": 1, "creation_date": 1437397306, "post_id": 31516238, "comment_id": 50995543, "body": "I don&#39;t know if it&#39;s like that in your real code, but <code>folder&#47;file</code> should be <code>&#47;folder&#47;file</code>"}], "answers": [{"comments": [{"owner": {"reputation": 889, "user_id": 1505752, "user_type": "registered", "accept_rate": 46, "profile_image": "https://www.gravatar.com/avatar/f115c18fc65d4914c7ae1dac7997308c?s=128&d=identicon&r=PG", "display_name": "VSr", "link": "https://stackoverflow.com/users/1505752/vsr"}, "edited": false, "score": 0, "creation_date": 1437459853, "post_id": 31516688, "comment_id": 51023756, "body": "I tried with above, but getting an error HTTP Status 401  Bad credentials&lt;/h1&gt;&lt;b&gt;message&lt;/b&gt; This request requires HTTP authentication"}, {"owner": {"reputation": 50468, "user_id": 1331451, "user_type": "registered", "accept_rate": 96, "profile_image": "https://i.stack.imgur.com/4ZPmj.png?s=128&g=1", "display_name": "simbabque", "link": "https://stackoverflow.com/users/1331451/simbabque"}, "reply_to_user": {"reputation": 889, "user_id": 1505752, "user_type": "registered", "accept_rate": 46, "profile_image": "https://www.gravatar.com/avatar/f115c18fc65d4914c7ae1dac7997308c?s=128&d=identicon&r=PG", "display_name": "VSr", "link": "https://stackoverflow.com/users/1505752/vsr"}, "edited": false, "score": 0, "creation_date": 1437460636, "post_id": 31516688, "comment_id": 51024125, "body": "Now is the time to learn what those HTTP status codes mean. Your password is wrong."}, {"owner": {"reputation": 889, "user_id": 1505752, "user_type": "registered", "accept_rate": 46, "profile_image": "https://www.gravatar.com/avatar/f115c18fc65d4914c7ae1dac7997308c?s=128&d=identicon&r=PG", "display_name": "VSr", "link": "https://stackoverflow.com/users/1505752/vsr"}, "edited": false, "score": 0, "creation_date": 1437461053, "post_id": 31516688, "comment_id": 51024326, "body": "Using this login credentials I can GET using Chrome advance REST Client."}, {"owner": {"reputation": 50468, "user_id": 1331451, "user_type": "registered", "accept_rate": 96, "profile_image": "https://i.stack.imgur.com/4ZPmj.png?s=128&g=1", "display_name": "simbabque", "link": "https://stackoverflow.com/users/1331451/simbabque"}, "reply_to_user": {"reputation": 889, "user_id": 1505752, "user_type": "registered", "accept_rate": 46, "profile_image": "https://www.gravatar.com/avatar/f115c18fc65d4914c7ae1dac7997308c?s=128&d=identicon&r=PG", "display_name": "VSr", "link": "https://stackoverflow.com/users/1505752/vsr"}, "edited": false, "score": 0, "creation_date": 1437461148, "post_id": 31516688, "comment_id": 51024375, "body": "Look at the header that produces, take the base64 encoded string from there and compare."}, {"owner": {"reputation": 889, "user_id": 1505752, "user_type": "registered", "accept_rate": 46, "profile_image": "https://www.gravatar.com/avatar/f115c18fc65d4914c7ae1dac7997308c?s=128&d=identicon&r=PG", "display_name": "VSr", "link": "https://stackoverflow.com/users/1505752/vsr"}, "edited": false, "score": 0, "creation_date": 1438834250, "post_id": 31516688, "comment_id": 51614425, "body": "Hi Simbabque, user name and password is correct. I have checked and this is defined in variable my $username = &#39;test&#39;; my $password = &#39;test&#39;;"}, {"owner": {"reputation": 50468, "user_id": 1331451, "user_type": "registered", "accept_rate": 96, "profile_image": "https://i.stack.imgur.com/4ZPmj.png?s=128&g=1", "display_name": "simbabque", "link": "https://stackoverflow.com/users/1331451/simbabque"}, "reply_to_user": {"reputation": 889, "user_id": 1505752, "user_type": "registered", "accept_rate": 46, "profile_image": "https://www.gravatar.com/avatar/f115c18fc65d4914c7ae1dac7997308c?s=128&d=identicon&r=PG", "display_name": "VSr", "link": "https://stackoverflow.com/users/1505752/vsr"}, "edited": false, "score": 0, "creation_date": 1438841902, "post_id": 31516688, "comment_id": 51616993, "body": "@sen did you compare the base64 or just the pain user name and password? Of course those need to be correct, but the server sees them in a different way. Just must look at that."}], "tags": [], "owner": {"reputation": 50468, "user_id": 1331451, "user_type": "registered", "accept_rate": 96, "profile_image": "https://i.stack.imgur.com/4ZPmj.png?s=128&g=1", "display_name": "simbabque", "link": "https://stackoverflow.com/users/1331451/simbabque"}, "is_accepted": false, "score": 5, "last_activity_date": 1437395741, "creation_date": 1437395741, "answer_id": 31516688, "question_id": 31516238, "link": "https://stackoverflow.com/questions/31516238/perl-rest-client-authentication-issue/31516688#31516688", "title": "Perl REST client, authentication issue", "body": "<p>It looks like you are doing <a href=\"https://en.wikipedia.org/wiki/Basic_access_authentication\" rel=\"noreferrer\">HTTP Basic authentication</a>. For that, you need to have your header as follows:</p>\n\n<pre><code>Authorization: Basic foobar\n</code></pre>\n\n<p>Where <code>foobar</code> is the base64 representation of <code>username:password</code>.</p>\n\n<p>In Perl, that gives:</p>\n\n<pre><code>my $headers = {\n  Accept =&gt; 'application/json',  \n  Authorization =&gt; 'Basic ' . encode_base64($username . ':' . $password)\n  #                      ^ note the space here                      \n};\n</code></pre>\n\n<hr>\n\n<p>Note that <a href=\"https://metacpan.org/pod/HTTP::Headers#h-authorization_basic\" rel=\"noreferrer\">HTTP::Headers also provides a method to set HTTP Basic authentication</a>. Unfortunately that's not directly accepted by REST::Client.</p>\n"}, {"tags": [], "owner": {"reputation": 1, "user_id": 4518202, "user_type": "registered", "profile_image": "https://lh4.googleusercontent.com/-Czs0cmJYdU4/AAAAAAAAAAI/AAAAAAAAADA/ykoY-EBKH88/photo.jpg?sz=128", "display_name": "Androidia", "link": "https://stackoverflow.com/users/4518202/androidia"}, "is_accepted": false, "score": 0, "last_activity_date": 1541090960, "creation_date": 1541090960, "answer_id": 53105755, "question_id": 31516238, "link": "https://stackoverflow.com/questions/31516238/perl-rest-client-authentication-issue/53105755#53105755", "title": "Perl REST client, authentication issue", "body": "<p>I faced a similar issue and found that I had to tell encode_base64 to not break up the response string e.g encode_base64($username . ':' . $password, \"\")</p>\n"}], "owner": {"reputation": 889, "user_id": 1505752, "user_type": "registered", "accept_rate": 46, "profile_image": "https://www.gravatar.com/avatar/f115c18fc65d4914c7ae1dac7997308c?s=128&d=identicon&r=PG", "display_name": "VSr", "link": "https://stackoverflow.com/users/1505752/vsr"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 7026, "favorite_count": 0, "answer_count": 2, "score": 3, "last_activity_date": 1541090960, "creation_date": 1437394438, "last_edit_date": 1467198866, "question_id": 31516238, "link": "https://stackoverflow.com/questions/31516238/perl-rest-client-authentication-issue", "title": "Perl REST client, authentication issue", "body": "<p>I am using Perl 5.16 with <a href=\"https://metacpan.org/pod/REST::Client\" rel=\"nofollow\"><code>REST::Client</code></a> for REST call with GET, but it shows an error 401 authentication issue. I am not clear how to resolve this issue.</p>\n\n<p><strong>Code</strong></p>\n\n<pre><code>use REST::Client;\nuse JSON;\nuse Data::Dumper;\nuse MIME::Base64;\n\nmy $username = 'test';\nmy $password = 'test';\n\nmy $client = REST::Client-&gt;new();\n$client-&gt;setHost('http://myurl');\n\nmy $headers = {\n    Accept        =&gt; 'application/json',\n    Authorization =&gt; 'Full' . encode_base64($username . ':' . $password)\n};\n$client-&gt;GET('folder/file', $headers);\n\nprint $client-&gt;responseCode();\nprint $client-&gt;responseContent();\n</code></pre>\n"}, {"tags": ["perl"], "comments": [{"owner": {"reputation": 50468, "user_id": 1331451, "user_type": "registered", "accept_rate": 96, "profile_image": "https://i.stack.imgur.com/4ZPmj.png?s=128&g=1", "display_name": "simbabque", "link": "https://stackoverflow.com/users/1331451/simbabque"}, "edited": false, "score": 0, "creation_date": 1437392760, "post_id": 31515371, "comment_id": 50992499, "body": "You should check out the Perl tag wiki. it has a load of useful information on modern techniques."}, {"owner": {"reputation": 320771, "user_id": 589924, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/b2cf53d5a3d25f95c0db4e025aed4153?s=128&d=identicon&r=PG", "display_name": "ikegami", "link": "https://stackoverflow.com/users/589924/ikegami"}, "edited": false, "score": 0, "creation_date": 1437496920, "post_id": 31515371, "comment_id": 51048827, "body": "See also: <a href=\"http://stackoverflow.com/q/8023959/589924\">Why use strict and warnings?</a>"}], "answers": [{"comments": [{"owner": {"reputation": 51521, "user_id": 2566198, "user_type": "registered", "accept_rate": 67, "profile_image": "https://i.stack.imgur.com/Y34ZA.jpg?s=128&g=1", "display_name": "Sobrique", "link": "https://stackoverflow.com/users/2566198/sobrique"}, "edited": false, "score": 0, "creation_date": 1437392353, "post_id": 31515453, "comment_id": 50992252, "body": "Would suggest differentiating between &#39;declaring&#39; and &#39;initializing&#39;. The OP asks about the latter, but seems to mean the former. Declaring is necessary under strict. Initializing isn&#39;t."}, {"owner": {"reputation": 50468, "user_id": 1331451, "user_type": "registered", "accept_rate": 96, "profile_image": "https://i.stack.imgur.com/4ZPmj.png?s=128&g=1", "display_name": "simbabque", "link": "https://stackoverflow.com/users/1331451/simbabque"}, "reply_to_user": {"reputation": 51521, "user_id": 2566198, "user_type": "registered", "accept_rate": 67, "profile_image": "https://i.stack.imgur.com/Y34ZA.jpg?s=128&g=1", "display_name": "Sobrique", "link": "https://stackoverflow.com/users/2566198/sobrique"}, "edited": false, "score": 0, "creation_date": 1437392625, "post_id": 31515453, "comment_id": 50992413, "body": "@Sobrique: better? :)"}], "tags": [], "owner": {"reputation": 50468, "user_id": 1331451, "user_type": "registered", "accept_rate": 96, "profile_image": "https://i.stack.imgur.com/4ZPmj.png?s=128&g=1", "display_name": "simbabque", "link": "https://stackoverflow.com/users/1331451/simbabque"}, "is_accepted": true, "score": 6, "last_activity_date": 1437392737, "last_edit_date": 1437392737, "creation_date": 1437392067, "answer_id": 31515453, "question_id": 31515371, "link": "https://stackoverflow.com/questions/31515371/is-initializing-a-hash-in-perl-optional/31515453#31515453", "title": "Is initializing a hash in perl optional?", "body": "<p>You get that error when you <a href=\"http://perldoc.perl.org/strict.html\"><code>use strict</code></a>, which you should always do. You should also always <a href=\"http://perldoc.perl.org/warnings.html\"><code>use warnings</code></a> to turn warnings on.</p>\n\n<p>It is considered good practice and called Modern Perl (which is everything more or less after Perl 5.08, don't quote me on that) to always have strict and warnings. They make sure you don't have stupid mistakes, enforce that you <em>declare</em> variables, tell you about declaring them twice and so on.</p>\n\n<p>So the answer is, you <strong>do not need</strong> to <em>declare</em><sup>*</sup> any kind of variable in Perl, but you <strong>should</strong> do it anyway. Frankly, if you work with other people, those will hate you if you don't.</p>\n\n<pre><code>#!/usr/bin/env perl\nuse strict;\nuse warnings;\nuse feature 'say';\n\nmy %color_of; # no need to put () unless you explicitly want an empty list\n$color_of{apple} = 'red';\n\nsay $color_of{apple};\n</code></pre>\n\n<hr>\n\n<p><sup>*)</sup> <a href=\"https://en.wikipedia.org/wiki/Declaration_(computer_programming)\"><em>Declaring</em></a> a variable means you tell Perl that there is a variable. You do that with <a href=\"http://perldoc.perl.org/functions/my.html\"><code>my</code></a>, which makes <a href=\"http://perldoc.perl.org/perlsub.html#Private-Variables-via-my()\">a <em>lexical</em> variable</a> that only lives inside a block (like a <code>sub</code>, or inside of the curly braces of  <code>if (1) { ... }</code>. <a href=\"https://en.wikipedia.org/wiki/Initialization_(programming)\"><em>Initializing</em></a> a variable means to give it a value before you use it. Usually that is done at the same time as declaring it in Perl. If you do not do that, the variable will be <code>undef</code>, which is perfectly fine.</p>\n\n<hr>\n\n<p>An even stricter approach is to <a href=\"https://metacpan.org/pod/strictures\"><code>use strictures</code></a>, which you need to install from CPAN.</p>\n"}], "owner": {"reputation": 10021, "user_id": 1737817, "user_type": "registered", "accept_rate": 100, "profile_image": "https://i.stack.imgur.com/tJBhZ.jpg?s=128&g=1", "display_name": "Nikunj Banka", "link": "https://stackoverflow.com/users/1737817/nikunj-banka"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 91, "favorite_count": 0, "accepted_answer_id": 31515453, "answer_count": 1, "score": 2, "last_activity_date": 1437401428, "creation_date": 1437391859, "last_edit_date": 1437401428, "question_id": 31515371, "link": "https://stackoverflow.com/questions/31515371/is-initializing-a-hash-in-perl-optional", "title": "Is initializing a hash in perl optional?", "body": "<pre><code>$color_of{apple} = \"red\";\nprint $color_of{apple}; \n</code></pre>\n\n<p>The above code is printing <em>red</em> when I have not even initialized the hash. Is this allowed in perl and will it always compile? </p>\n\n<p>I can't remember the exact code but once I got the following error when the map wasn't initialized explicitly. </p>\n\n<pre><code>Global symbol \"%map\" requires explicit package name at ....\n</code></pre>\n\n<p>Code link : <a href=\"http://ideone.com/NJDTUj\" rel=\"nofollow\">http://ideone.com/NJDTUj</a> </p>\n"}, {"tags": ["perl", "ubuntu"], "comments": [{"owner": {"reputation": 538, "user_id": 4316166, "user_type": "registered", "accept_rate": 50, "profile_image": "https://i.stack.imgur.com/jszIp.jpg?s=128&g=1", "display_name": "kos", "link": "https://stackoverflow.com/users/4316166/kos"}, "edited": false, "score": 0, "creation_date": 1437388493, "post_id": 31514206, "comment_id": 50989925, "body": "We indeed need to see the code; if it&#39;s extremely long post it on <a href=\"http://pastebin.com/\" rel=\"nofollow noreferrer\">pastebin</a>"}, {"owner": {"reputation": 4514, "user_id": 4248931, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/HijcJ.png?s=128&g=1", "display_name": "serenesat", "link": "https://stackoverflow.com/users/4248931/serenesat"}, "edited": false, "score": 0, "creation_date": 1437388963, "post_id": 31514206, "comment_id": 50990161, "body": "Please post your code. We can not guess line 36 without seeing code."}, {"owner": {"reputation": 139, "user_id": 5096819, "user_type": "registered", "accept_rate": 100, "profile_image": "https://lh5.googleusercontent.com/-91V9rjnY_Zc/AAAAAAAAAAI/AAAAAAAABE0/8bTvoWWIWno/photo.jpg?sz=128", "display_name": "Leith Hawkins", "link": "https://stackoverflow.com/users/5096819/leith-hawkins"}, "edited": false, "score": 0, "creation_date": 1437389760, "post_id": 31514206, "comment_id": 50990658, "body": "Added pastebin link to original post"}, {"owner": {"reputation": 50468, "user_id": 1331451, "user_type": "registered", "accept_rate": 96, "profile_image": "https://i.stack.imgur.com/4ZPmj.png?s=128&g=1", "display_name": "simbabque", "link": "https://stackoverflow.com/users/1331451/simbabque"}, "reply_to_user": {"reputation": 538, "user_id": 4316166, "user_type": "registered", "accept_rate": 50, "profile_image": "https://i.stack.imgur.com/jszIp.jpg?s=128&g=1", "display_name": "kos", "link": "https://stackoverflow.com/users/4316166/kos"}, "edited": false, "score": 0, "creation_date": 1437391624, "post_id": 31514206, "comment_id": 50991809, "body": "@kos it is indeed <b>extremely long</b>..."}, {"owner": {"reputation": 50468, "user_id": 1331451, "user_type": "registered", "accept_rate": 96, "profile_image": "https://i.stack.imgur.com/4ZPmj.png?s=128&g=1", "display_name": "simbabque", "link": "https://stackoverflow.com/users/1331451/simbabque"}, "edited": false, "score": 1, "creation_date": 1437391786, "post_id": 31514206, "comment_id": 50991906, "body": "The error is in your <code>ccd_defs.json</code> file. It&#39;s a syntax error in the JSON structure. Take a look at that file, grep for <i>Mantis i23</i> or use an editor that alows you to go to character 11081 directly. If you created that file, fix it. If it&#39;s auto-generated, it might have broken escaping. Fix that yourself if it&#39;s a one-time thing."}], "answers": [{"tags": [], "owner": {"reputation": 6068, "user_id": 1799189, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/s4Pcu.jpg?s=128&g=1", "display_name": "xxfelixxx", "link": "https://stackoverflow.com/users/1799189/xxfelixxx"}, "is_accepted": true, "score": 0, "last_activity_date": 1437395022, "last_edit_date": 1437395022, "creation_date": 1437394692, "answer_id": 31516323, "question_id": 31514206, "link": "https://stackoverflow.com/questions/31514206/running-open-drone-map-getting-an-error-from-perl-script/31516323#31516323", "title": "Running open Drone Map - getting an error from perl script", "body": "<p>Update your version of OpenDroneMap, it looks like it has already been fixed.</p>\n\n<p><a href=\"https://github.com/OpenDroneMap/OpenDroneMap\" rel=\"nofollow\">https://github.com/OpenDroneMap/OpenDroneMap</a></p>\n\n<p>Latest commit:</p>\n\n<pre><code>commit 6b4d8b8cfc106182031f6b5f78976aff42836c54\nAuthor: Stephen Mather &lt;stephen@smathermather.com&gt;\nDate:   Sat Jul 18 15:56:53 2015 -0400\n\n    fix for missing comma\n\nccd_defs.json | 2 +-\n1 file changed, 1 insertion(+), 1 deletion(-)\n</code></pre>\n"}, {"tags": [], "owner": {"reputation": 1, "user_id": 5141432, "user_type": "unregistered", "profile_image": "https://www.gravatar.com/avatar/d7f8bc6ac80f7dbc54f4e3ed1c83f59b?s=128&d=identicon&r=PG", "display_name": "user5141432", "link": "https://stackoverflow.com/users/5141432/user5141432"}, "is_accepted": false, "score": 0, "last_activity_date": 1437526157, "creation_date": 1437526157, "answer_id": 31552072, "question_id": 31514206, "link": "https://stackoverflow.com/questions/31514206/running-open-drone-map-getting-an-error-from-perl-script/31552072#31552072", "title": "Running open Drone Map - getting an error from perl script", "body": "<p>Try to erase last line (not \"}\") from ccd_defs.json file. There is a non correct \":\" character in Mantis i23 definition line. </p>\n"}], "owner": {"reputation": 139, "user_id": 5096819, "user_type": "registered", "accept_rate": 100, "profile_image": "https://lh5.googleusercontent.com/-91V9rjnY_Zc/AAAAAAAAAAI/AAAAAAAABE0/8bTvoWWIWno/photo.jpg?sz=128", "display_name": "Leith Hawkins", "link": "https://stackoverflow.com/users/5096819/leith-hawkins"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 299, "favorite_count": 0, "accepted_answer_id": 31516323, "answer_count": 2, "score": -1, "last_activity_date": 1437526157, "creation_date": 1437388229, "last_edit_date": 1437389737, "question_id": 31514206, "link": "https://stackoverflow.com/questions/31514206/running-open-drone-map-getting-an-error-from-perl-script", "title": "Running open Drone Map - getting an error from perl script", "body": "<p>I am trying to run  Open Drone Map which I have cloned to an Ubuntu 15.04 server I have installed all the required libraries. After I execute the code:</p>\n\n<pre><code>perl ../OpenDroneMap/run.pl \n</code></pre>\n\n<p>from within the directory I have all the  photos in  I get this error:</p>\n\n<pre><code>: , or } expected while parsing object /hash at character offset 11081 (before \" \" Mantis i23\" : 45.00\\n...\") at ../OpenDroneMap/run.pl line 36, &lt;$fh&gt; chunk1.\n</code></pre>\n\n<p>Any help or suggestions greatly appreciated. Let me know if you need to see the perl code that executes.</p>\n\n<p><a href=\"http://pastebin.com/nCy12Ezu\" rel=\"nofollow\">http://pastebin.com/nCy12Ezu</a></p>\n"}, {"tags": ["xml", "perl", "hash"], "comments": [{"owner": {"reputation": 123805, "user_id": 622310, "user_type": "registered", "accept_rate": 33, "profile_image": "https://www.gravatar.com/avatar/8b6d35219e1808520bc238b28161e2e6?s=128&d=identicon&r=PG", "display_name": "Borodin", "link": "https://stackoverflow.com/users/622310/borodin"}, "edited": false, "score": 0, "creation_date": 1437387907, "post_id": 31513773, "comment_id": 50989597, "body": "To get that result you must have options <code>ForceArray =&gt; 1</code> and <code>KeyAttr =&gt; 0</code> or something similar. Is that correct?"}, {"owner": {"reputation": 51521, "user_id": 2566198, "user_type": "registered", "accept_rate": 67, "profile_image": "https://i.stack.imgur.com/Y34ZA.jpg?s=128&g=1", "display_name": "Sobrique", "link": "https://stackoverflow.com/users/2566198/sobrique"}, "edited": false, "score": 6, "creation_date": 1437387980, "post_id": 31513773, "comment_id": 50989636, "body": "Obligatory: Even XML::Simple says &#39;don&#39;t use XML::Simple&#39;."}], "answers": [{"tags": [], "owner": {"reputation": 198290, "user_id": 1030675, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/957956ce51706d03f19a4dc85a767bb1?s=128&d=identicon&r=PG", "display_name": "choroba", "link": "https://stackoverflow.com/users/1030675/choroba"}, "is_accepted": false, "score": 1, "last_activity_date": 1437387340, "creation_date": 1437387340, "answer_id": 31513928, "question_id": 31513773, "link": "https://stackoverflow.com/questions/31513773/parse-xml-tables-with-xmlsimple/31513928#31513928", "title": "Parse XML tables with XML::Simple", "body": "<p>I'm guessing you use <a href=\"http://p3rl.org/XML::Simple\" rel=\"nofollow\">XML::Simple</a>.</p>\n\n<p>Square brackets introduce arrays (not tables) in Perl. To index arrays, use square brackets:</p>\n\n<pre><code>for my $element (@{ $xml-&gt;{lvl1}[0]{lvl2} }) {\n</code></pre>\n"}, {"comments": [{"owner": {"reputation": 3014, "user_id": 4560470, "user_type": "registered", "accept_rate": 88, "profile_image": "https://www.gravatar.com/avatar/9b9512cafbd363be4b552bddb31d3f23?s=128&d=identicon&r=PG&f=1", "display_name": "Arcyno", "link": "https://stackoverflow.com/users/4560470/arcyno"}, "edited": false, "score": 0, "creation_date": 1437394716, "post_id": 31514084, "comment_id": 50993614, "body": "Thanks for the ForceArray tip."}], "tags": [], "owner": {"reputation": 352, "user_id": 4296256, "user_type": "registered", "accept_rate": 80, "profile_image": "https://www.gravatar.com/avatar/a95172d4146a185d7b7e7fd69f4d397c?s=128&d=identicon&r=PG&f=1", "display_name": "alisea", "link": "https://stackoverflow.com/users/4296256/alisea"}, "is_accepted": true, "score": 3, "last_activity_date": 1437387810, "creation_date": 1437387810, "answer_id": 31514084, "question_id": 31513773, "link": "https://stackoverflow.com/questions/31513773/parse-xml-tables-with-xmlsimple/31514084#31514084", "title": "Parse XML tables with XML::Simple", "body": "<p>Your data structure has a couple of array references thrown in (delimited by [] instead of {} for hash references). Given that you didn't use the ForceArray option, I'm assuming in your real file you have several lvl2 elements under lvl1? </p>\n\n<p>XML::Simple introduces arrays into the data structure whenever there is more than one element of the same name grouped. If you're not sure if you will get one or more elements, you can force the array using the ForceArray option:</p>\n\n<pre><code>my $xml = XMLin('filename.xml', ForceArray =&gt; ['lvl1']);\n</code></pre>\n\n<p>You can then access the array under lvl2 with the Code choroba gave:</p>\n\n<pre><code>for my $element (@{ $xml-&gt;{lvl1}[0]{lvl2} }) {\n</code></pre>\n"}], "owner": {"reputation": 3014, "user_id": 4560470, "user_type": "registered", "accept_rate": 88, "profile_image": "https://www.gravatar.com/avatar/9b9512cafbd363be4b552bddb31d3f23?s=128&d=identicon&r=PG&f=1", "display_name": "Arcyno", "link": "https://stackoverflow.com/users/4560470/arcyno"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 195, "favorite_count": 0, "accepted_answer_id": 31514084, "answer_count": 2, "score": 0, "last_activity_date": 1437387810, "creation_date": 1437386917, "last_edit_date": 1437387339, "question_id": 31513773, "link": "https://stackoverflow.com/questions/31513773/parse-xml-tables-with-xmlsimple", "title": "Parse XML tables with XML::Simple", "body": "<p>I have been using <a href=\"https://metacpan.org/pod/XML::Simple\" rel=\"nofollow\"><code>XML::Simple</code></a> for a long time with no problem, but I am facing a situation I had never encountered that I can't solve.  </p>\n\n<p>I have an XML file that looks like this</p>\n\n<pre><code>$VAR1 = {\n          'lvl1' =&gt; [\n                     {\n                       'lvl2' =&gt; [\n                                 {\n                                   'id' =&gt; 'myID1',\n                                   'type' =&gt; 'Type1',\n                                 },\n                                 {\n                                   'id' =&gt; 'myId2',\n                                   'type' =&gt; 'Type2',\n                                 }\n                               ]\n                     }\n                   ]\n        };\n</code></pre>\n\n<p>I usually use:</p>\n\n<pre><code>my $xml = XMLin('filename.xml');\n\nforeach my $element (@{$xml-&gt;{lvl1}-&gt;{lvl2}) {\n    ...\n}\n</code></pre>\n\n<p>but it does not work in that case because of the <code>[]</code> that are introducing tables inside the hash. I have tried a lot of things to try to go through this but I can't find any way that allows me to access all the element without throwing a <code>not a hash reference</code> error.</p>\n"}, {"tags": ["perl", "installation", "cpan", "cpanm"], "comments": [{"owner": {"reputation": 21782, "user_id": 176646, "user_type": "registered", "accept_rate": 88, "profile_image": "https://i.stack.imgur.com/HsQyV.png?s=128&g=1", "display_name": "ThisSuitIsBlackNot", "link": "https://stackoverflow.com/users/176646/thissuitisblacknot"}, "edited": false, "score": 1, "creation_date": 1437401761, "post_id": 31513538, "comment_id": 50998740, "body": "Looks like this has <a href=\"https://rt.cpan.org/Public/Bug/Display.html?id=103130\" rel=\"nofollow noreferrer\">already been reported</a> as a bug. (For future reference, metacpan has a link to &quot;Issues&quot; on the sidebar that you should check any time you have a build failure.)"}, {"owner": {"reputation": 32176, "user_id": 2173773, "user_type": "registered", "accept_rate": 86, "profile_image": "https://i.stack.imgur.com/M8yh6.jpg?s=128&g=1", "display_name": "H&#229;kon H&#230;gland", "link": "https://stackoverflow.com/users/2173773/h%c3%a5kon-h%c3%a6gland"}, "reply_to_user": {"reputation": 21782, "user_id": 176646, "user_type": "registered", "accept_rate": 88, "profile_image": "https://i.stack.imgur.com/HsQyV.png?s=128&g=1", "display_name": "ThisSuitIsBlackNot", "link": "https://stackoverflow.com/users/176646/thissuitisblacknot"}, "edited": false, "score": 0, "creation_date": 1437405432, "post_id": 31513538, "comment_id": 51001585, "body": "@ThisSuitIsBlackNot Thanks! Do you know how I can add this information to the existing bug history?"}, {"owner": {"reputation": 21782, "user_id": 176646, "user_type": "registered", "accept_rate": 88, "profile_image": "https://i.stack.imgur.com/HsQyV.png?s=128&g=1", "display_name": "ThisSuitIsBlackNot", "link": "https://stackoverflow.com/users/176646/thissuitisblacknot"}, "edited": false, "score": 0, "creation_date": 1437406001, "post_id": 31513538, "comment_id": 51001967, "body": "If you don&#39;t have a login to rt.cpan.org you should be able to send an email to <code>bug-Proc-Daemon@rt.cpan.org</code> with <code>[rt.cpan.org #103130]</code> somewhere in the subject line."}, {"owner": {"reputation": 6068, "user_id": 1799189, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/s4Pcu.jpg?s=128&g=1", "display_name": "xxfelixxx", "link": "https://stackoverflow.com/users/1799189/xxfelixxx"}, "edited": false, "score": 0, "creation_date": 1437423831, "post_id": 31513538, "comment_id": 51012604, "body": "Proc::Daemon version 0.20 builds for me on Ubuntu 14.10 (perl 5.20.1) just using a vanilla <code>cpan install Proc::Daemon</code>"}], "answers": [{"tags": [], "owner": {"reputation": 126333, "user_id": 14660, "user_type": "registered", "accept_rate": 62, "profile_image": "https://www.gravatar.com/avatar/e55e0ec3c00f834d78fbdddeaa36e308?s=128&d=identicon&r=PG", "display_name": "Schwern", "link": "https://stackoverflow.com/users/14660/schwern"}, "is_accepted": true, "score": 1, "last_activity_date": 1442466698, "creation_date": 1442466698, "answer_id": 32622984, "question_id": 31513538, "link": "https://stackoverflow.com/questions/31513538/failed-to-install-procdaemon-on-ubuntu-14-10/32622984#32622984", "title": "Failed to install Proc::Daemon on Ubuntu 14.10", "body": "<p><a href=\"https://rt.cpan.org/Ticket/Display.html?id=103130\" rel=\"nofollow\">This issue was reported</a> and has been resolved in <a href=\"https://metacpan.org/pod/Proc::Daemon\" rel=\"nofollow\">version 0.21</a>.</p>\n"}], "owner": {"reputation": 32176, "user_id": 2173773, "user_type": "registered", "accept_rate": 86, "profile_image": "https://i.stack.imgur.com/M8yh6.jpg?s=128&g=1", "display_name": "H&#229;kon H&#230;gland", "link": "https://stackoverflow.com/users/2173773/h%c3%a5kon-h%c3%a6gland"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 606, "favorite_count": 0, "accepted_answer_id": 32622984, "answer_count": 1, "score": 1, "last_activity_date": 1442466698, "creation_date": 1437386193, "last_edit_date": 1437389480, "question_id": 31513538, "link": "https://stackoverflow.com/questions/31513538/failed-to-install-procdaemon-on-ubuntu-14-10", "title": "Failed to install Proc::Daemon on Ubuntu 14.10", "body": "<p>I am trying to install <a href=\"https://metacpan.org/pod/distribution/Proc-Daemon/lib/Proc/Daemon.pod\" rel=\"nofollow\"><code>Proc::Daemon</code></a> on Ubuntu 14.10 (Perl v5.20) :</p>\n\n<pre><code>$ cpanm Proc::Daemon\n--&gt; Working on Proc::Daemon\nFetching http://www.cpan.org/authors/id/A/AK/AKREAL/Proc-Daemon-0.20.tar.gz ... OK\nConfiguring Proc-Daemon-0.20 ... OK\nBuilding and testing Proc-Daemon-0.20 ... FAIL\n! Installing Proc::Daemon failed. See /home/hakon/.cpanm/work/1437385026.3674/build.log for details. Retry with --force to force install it.\n</code></pre>\n\n<p>The complete log is here: <a href=\"http://pastebin.com/8s7ndGaC\" rel=\"nofollow\">http://pastebin.com/8s7ndGaC</a>.\nThe first failed test seems to be:</p>\n\n<pre><code>#   Failed test ''kid.pl' daemon is still running'\n#   at /home/hakon/.cpanm/work/1437385026.3674/Proc-Daemon-0.20/t/02_testmodule.t line 116.\n#   Failed test 'stop daemon 'kid.pl''\n#   at /home/hakon/.cpanm/work/1437385026.3674/Proc-Daemon-0.20/t/02_testmodule.t line 119.\nUse of uninitialized value in numeric eq (==) at /home/hakon/.cpanm/work/1437385026.3674/Proc-Daemon-0.20/t/02_testmodule.t line 129.\n</code></pre>\n\n<p>The test script <code>02_testmodule.t</code> is here: <a href=\"https://api.metacpan.org/source/AKREAL/Proc-Daemon-0.20/t/02_testmodule.t\" rel=\"nofollow\">https://api.metacpan.org/source/AKREAL/Proc-Daemon-0.20/t/02_testmodule.t</a> (and here <a href=\"http://pastebin.com/E0n116bA\" rel=\"nofollow\">http://pastebin.com/E0n116bA</a>)</p>\n\n<p>Lines 115-119 in the test script:</p>\n\n<pre><code>$pid = $daemon-&gt;Status( \"$cwd/pid_1.file\" );\n                    ok( $pid == $Kid_PID2, \"'kid.pl' daemon is still running\" );\n\n                    my $stopped = $daemon-&gt;Kill_Daemon();\n                    ok( $stopped == 1, \"stop daemon 'kid.pl'\" );\n</code></pre>\n"}, {"tags": ["perl"], "comments": [{"owner": {"reputation": 4514, "user_id": 4248931, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/HijcJ.png?s=128&g=1", "display_name": "serenesat", "link": "https://stackoverflow.com/users/4248931/serenesat"}, "edited": false, "score": 0, "creation_date": 1437370540, "post_id": 31509298, "comment_id": 50981194, "body": "<a href=\"http://perldoc.perl.org/functions/continue.html\" rel=\"nofollow noreferrer\">perldoc.perl.org/functions/continue.html</a>"}, {"owner": {"reputation": 62184, "user_id": 7231, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/81b76985f3985e35492e25880493d045?s=128&d=identicon&r=PG", "display_name": "Dave Cross", "link": "https://stackoverflow.com/users/7231/dave-cross"}, "reply_to_user": {"reputation": 3327, "user_id": 1604311, "user_type": "registered", "accept_rate": 73, "profile_image": "https://i.stack.imgur.com/0frKT.jpg?s=128&g=1", "display_name": "Arunesh Singh", "link": "https://stackoverflow.com/users/1604311/arunesh-singh"}, "edited": false, "score": 1, "creation_date": 1437382871, "post_id": 31509298, "comment_id": 50986593, "body": "@AruneshSingh - Please don&#39;t post links to pirate copies of books. You open up StackOverflow to being sued for piracy. Please delete your comment."}, {"owner": {"reputation": 320771, "user_id": 589924, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/b2cf53d5a3d25f95c0db4e025aed4153?s=128&d=identicon&r=PG", "display_name": "ikegami", "link": "https://stackoverflow.com/users/589924/ikegami"}, "reply_to_user": {"reputation": 62184, "user_id": 7231, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/81b76985f3985e35492e25880493d045?s=128&d=identicon&r=PG", "display_name": "Dave Cross", "link": "https://stackoverflow.com/users/7231/dave-cross"}, "edited": false, "score": 2, "creation_date": 1437386311, "post_id": 31509298, "comment_id": 50988660, "body": "@Dave Cross, Re &quot;You open up StackOverflow to being sued for piracy.&quot;, No, he didn&#39;t. SO is not guilty of the actions of others. SO would not be sued; SO would be given a DMCA takedown request. He shouldn&#39;t post the link for many other reasons, but that&#39;s not one of them."}, {"owner": {"reputation": 62184, "user_id": 7231, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/81b76985f3985e35492e25880493d045?s=128&d=identicon&r=PG", "display_name": "Dave Cross", "link": "https://stackoverflow.com/users/7231/dave-cross"}, "edited": false, "score": 0, "creation_date": 1437386703, "post_id": 31509298, "comment_id": 50988900, "body": "Ok. Fair point. It&#39;s been removed anyway."}], "answers": [{"comments": [{"owner": {"reputation": 4514, "user_id": 4248931, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/HijcJ.png?s=128&g=1", "display_name": "serenesat", "link": "https://stackoverflow.com/users/4248931/serenesat"}, "edited": false, "score": 1, "creation_date": 1437371310, "post_id": 31509436, "comment_id": 50981431, "body": "It would be more helpful if you can give some example or more explanation about <i>&#39;next will advance to the next iteration, but redo will redo the current iteration&#39;</i>."}], "tags": [], "owner": {"reputation": 468, "user_id": 2505890, "user_type": "registered", "accept_rate": 12, "profile_image": "https://www.gravatar.com/avatar/2ddff8f550fdaaf40c47ffe801b14e97?s=128&d=identicon&r=PG", "display_name": "Rohit", "link": "https://stackoverflow.com/users/2505890/rohit"}, "is_accepted": false, "score": 2, "last_activity_date": 1437375050, "last_edit_date": 1437375050, "creation_date": 1437370648, "answer_id": 31509436, "question_id": 31509298, "link": "https://stackoverflow.com/questions/31509298/perl-difference-between-next-and-redo/31509436#31509436", "title": "Perl - Difference between next and redo", "body": "<p><strong>Next</strong>-Program Execution continues with the next iteration of the loop.It is like <code>continue</code> operator in C.Next keyword is use to skip the code in the rest of the loop if some condition is met.</p>\n\n<p><strong>Redo</strong>-It makes program execution to go back to the top of the current loop, without testing any conditional expression or advancing to the next iteration.</p>\n\n<p>For Example,</p>\n\n<p>In case of next</p>\n\n<pre><code>foreach (split){\n    next;   ## next comes here ##\n            # statements are skipped\n}\n</code></pre>\n\n<p>In case of Redo          </p>\n\n<pre><code>    LOOPLABEL:\n        {\n           $count++;\n           redo LOOPLABEL if ($count &lt; 3);\n           #Does not advance to the next iteration        \n        }\n</code></pre>\n\n<p>The main difference between next and redo is that next will advance to the next iteration by reevaluating a condition, but redo will redo the current iteration starting execution from topmost statement in a loop.</p>\n"}, {"comments": [{"owner": {"reputation": 320771, "user_id": 589924, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/b2cf53d5a3d25f95c0db4e025aed4153?s=128&d=identicon&r=PG", "display_name": "ikegami", "link": "https://stackoverflow.com/users/589924/ikegami"}, "edited": false, "score": 0, "creation_date": 1437386657, "post_id": 31510154, "comment_id": 50988877, "body": "Re my edit: Oh, you had mentioned it, but only later in your answer?!? Not sure why. Adjust as you want."}], "tags": [], "owner": {"reputation": 185733, "user_id": 152948, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/194ef8f807c34a9d7aab0e11a8674768?s=128&d=identicon&r=PG", "display_name": "hobbs", "link": "https://stackoverflow.com/users/152948/hobbs"}, "is_accepted": false, "score": 12, "last_activity_date": 1437386467, "last_edit_date": 1437386467, "creation_date": 1437374264, "answer_id": 31510154, "question_id": 31509298, "link": "https://stackoverflow.com/questions/31509298/perl-difference-between-next-and-redo/31510154#31510154", "title": "Perl - Difference between next and redo", "body": "<pre><code>for (1 .. 9) {\n    next if $_ % 2;\n    print;\n}\n</code></pre>\n\n<p>prints \"2468\" because every time <code>$_</code> is an odd number, <code>next</code> jumps out of the loop and continues with the next number.</p>\n\n<pre><code>for (1 .. 9) {\n    redo if $_ % 2;\n    print;\n}\n</code></pre>\n\n<p>loops forever and prints nothing because 1 is odd, so <code>redo</code> jumps back to the beginning of the loop body <em>without advancing the loop</em>, so <code>$_</code> stays 1 and nothing ever happens.</p>\n\n<ul>\n<li><code>next</code> will advance to the next item in a <code>foreach</code> loop; <code>redo</code> won't.</li>\n<li><code>next</code> will run the increment (middle) statement in a C-style <code>for</code> loop; <code>redo</code> won't.</li>\n<li><code>next</code> will re-check the condition in a <code>while</code> loop or C-style <code>for</code> loop; <code>redo</code> won't.</li>\n<li><code>next</code> will exit a bare loop (<code>{ ... }</code>); <code>redo</code> will restart it.</li>\n<li><code>next</code> will run a <code>continue</code> block; <code>redo</code> won't.</li>\n</ul>\n\n<p>Semantically, <code>next</code> finishes the current iteration and then does whatever happens <em>after</em>. <code>redo</code> runs all of the code for the current iteration <em>over again</em>. <code>next</code> is like jumping to the <em>bottom</em> of the block (in fact, if you use it in a block that's not a loop, it will just jump to the end), and <code>redo</code> is like jumping to the <em>top</em> of the block (in fact, you can use <code>redo</code> to make a loop... <code>{ print \"Hello\"; redo }</code> is equivalent to <code>while (1) { print \"Hello\" }</code>.</p>\n"}, {"comments": [{"owner": {"reputation": 12075, "user_id": 1137055, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/59d7b43b9eb7d01bd8f7e51febe6053c?s=128&d=identicon&r=PG", "display_name": "dgw", "link": "https://stackoverflow.com/users/1137055/dgw"}, "edited": false, "score": 0, "creation_date": 1437381271, "post_id": 31510264, "comment_id": 50985722, "body": "Your <code>redo</code> example will not work because it is not within a block."}, {"owner": {"reputation": 7958, "user_id": 1069726, "user_type": "registered", "accept_rate": 67, "profile_image": "https://www.gravatar.com/avatar/2cbbae354bb4f5f320b93ab3ad4b0fa1?s=128&d=identicon&r=PG", "display_name": "LeoNerd", "link": "https://stackoverflow.com/users/1069726/leonerd"}, "reply_to_user": {"reputation": 12075, "user_id": 1137055, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/59d7b43b9eb7d01bd8f7e51febe6053c?s=128&d=identicon&r=PG", "display_name": "dgw", "link": "https://stackoverflow.com/users/1137055/dgw"}, "edited": false, "score": 0, "creation_date": 1437386747, "post_id": 31510264, "comment_id": 50988921, "body": "@dgw the braces on the very first and last lines of the example form a &quot;bare block&quot; - a loop that executes exactly once, unless modified by a control keyword. This is the loop that the <code>redo</code> operates on."}], "tags": [], "owner": {"reputation": 4514, "user_id": 4248931, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/HijcJ.png?s=128&g=1", "display_name": "serenesat", "link": "https://stackoverflow.com/users/4248931/serenesat"}, "is_accepted": false, "score": 2, "last_activity_date": 1437382123, "last_edit_date": 1437382123, "creation_date": 1437374856, "answer_id": 31510264, "question_id": 31509298, "link": "https://stackoverflow.com/questions/31509298/perl-difference-between-next-and-redo/31510264#31510264", "title": "Perl - Difference between next and redo", "body": "<p><strong>next</strong>:<br>\nThe <em>next</em> keyword lets you skip the rest of the statement block and start the next iteration. One use of this behavior could be to select specific array elements for processing and ignoring the rest.</p>\n\n<p>For example:</p>\n\n<pre><code>my @array = (0..9);\nprint \"@array\\n\";\nfor (my $index = 0; $index &lt; @array; $index++)\n{\n    if ($index == 3 || $index == 5)\n    {\n        next;\n    }\n    $array[$index] = \"*\";\n}\nprint \"@array\\n\";\n</code></pre>\n\n<p>Above example changes every array element, except the 3rd and 5th, to asterisks regardless of their former value. The <em>next</em> keyword forces Perl to skip over the assignment statement and go directly to the increment/decrement expression. You can also use the <em>next</em> keyword in nested loops.</p>\n\n<p><strong>redo</strong>:<br>\nThe <em>redo</em> keyword causes Perl to restart the current statement block. Neither the increment/decrement expression nor the conditional expression is evaluated before restarting the block. This keyword is usually used when getting input from outside the program, either from the keyboard or from a file. It is essential that the conditions that caused the <em>redo</em> statement to execute can be changed so that an endless loop does not occur.</p>\n\n<p>For example:</p>\n\n<pre><code>{   #start a statement block \n    print \"What is your name?\\n\";\n    my $name = &lt;STDIN&gt;;\n    chop($name);\n\n    if (! length($name))\n    {\n        print \"Zero length input. Please try again\\n\";\n        redo;\n    }\n\n    print \"Thank you, \" . $name, \"\\n\";\n}\n</code></pre>\n\n<p>It's worth noting that the statement block in <em>redo</em> example acts like a single-time loop construct.</p>\n"}, {"tags": [], "owner": {"reputation": 123805, "user_id": 622310, "user_type": "registered", "accept_rate": 33, "profile_image": "https://www.gravatar.com/avatar/8b6d35219e1808520bc238b28161e2e6?s=128&d=identicon&r=PG", "display_name": "Borodin", "link": "https://stackoverflow.com/users/622310/borodin"}, "is_accepted": true, "score": 11, "last_activity_date": 1437375738, "creation_date": 1437375738, "answer_id": 31510471, "question_id": 31509298, "link": "https://stackoverflow.com/questions/31509298/perl-difference-between-next-and-redo/31510471#31510471", "title": "Perl - Difference between next and redo", "body": "<p><code>redo</code>, <code>next</code> and <code>last</code> are used inside <em>loop blocks</em> in Perl. Most often you will see them in <code>for</code> or <code>while</code> blocks, but you can use them in a bare block if you need to</p>\n\n<p>The essential difference is</p>\n\n<ul>\n<li><code>redo</code> jumps to the <em>beginning</em> of the block -- the opening brace <code>{</code></li>\n<li><code>next</code> jumps to the <em>end</em> of the block -- the closing brace <code>}</code></li>\n<li><code>last</code> jumps out of the block altogether</li>\n</ul>\n\n<p><code>next</code> and <code>last</code> are only different for the blocks of <code>while</code> and <code>for</code> loops (and for blocks that have a <code>continue</code> section)</p>\n\n<p>So you could write a loop like this</p>\n\n<pre><code>my $n;\n{\n    ++$n;\n    print $n, \"\\n\";\n    redo if $n &lt; 10;\n}\n</code></pre>\n\n<p>which would print the numbers from 1 to 10</p>\n"}], "owner": {"reputation": 315, "user_id": 5133719, "user_type": "registered", "accept_rate": 67, "profile_image": "https://lh5.googleusercontent.com/-s4Ogtdj2uFI/AAAAAAAAAAI/AAAAAAAAAEg/00P6zA_0aO4/photo.jpg?sz=128", "display_name": "Ravi Shanker Reddy", "link": "https://stackoverflow.com/users/5133719/ravi-shanker-reddy"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 3895, "favorite_count": 1, "accepted_answer_id": 31510471, "answer_count": 4, "score": 3, "last_activity_date": 1437386467, "creation_date": 1437369816, "last_edit_date": 1437370120, "question_id": 31509298, "link": "https://stackoverflow.com/questions/31509298/perl-difference-between-next-and-redo", "title": "Perl - Difference between next and redo", "body": "<p>When I am executing a program both giving the same result. Please explain the difference between 'next' &amp; 'redo'.</p>\n"}, {"tags": ["perl"], "comments": [{"owner": {"reputation": 3327, "user_id": 1604311, "user_type": "registered", "accept_rate": 73, "profile_image": "https://i.stack.imgur.com/0frKT.jpg?s=128&g=1", "display_name": "Arunesh Singh", "link": "https://stackoverflow.com/users/1604311/arunesh-singh"}, "edited": false, "score": 5, "creation_date": 1437369894, "post_id": 31509214, "comment_id": 50981020, "body": "why you are ignoring <code>&quot;-value&quot;</code>, <code>&quot;-a&quot;</code> and <code>&quot;-data&quot;</code> from the string in hash?"}, {"owner": {"reputation": 12075, "user_id": 1137055, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/59d7b43b9eb7d01bd8f7e51febe6053c?s=128&d=identicon&r=PG", "display_name": "dgw", "link": "https://stackoverflow.com/users/1137055/dgw"}, "edited": false, "score": 0, "creation_date": 1437381512, "post_id": 31509214, "comment_id": 50985860, "body": "And why is <code>this</code> inside the hash?"}], "answers": [{"comments": [{"owner": {"reputation": 381798, "user_id": 1863229, "user_type": "registered", "accept_rate": 58, "profile_image": "https://i.stack.imgur.com/4sh1l.png?s=128&g=1", "display_name": "Tim Biegeleisen", "link": "https://stackoverflow.com/users/1863229/tim-biegeleisen"}, "edited": false, "score": 0, "creation_date": 1437376691, "post_id": 31510645, "comment_id": 50983437, "body": "I don&#39;t even have a Perl compiler installed, but I think I will install one now thanks to your input."}, {"owner": {"reputation": 123805, "user_id": 622310, "user_type": "registered", "accept_rate": 33, "profile_image": "https://www.gravatar.com/avatar/8b6d35219e1808520bc238b28161e2e6?s=128&d=identicon&r=PG", "display_name": "Borodin", "link": "https://stackoverflow.com/users/622310/borodin"}, "reply_to_user": {"reputation": 381798, "user_id": 1863229, "user_type": "registered", "accept_rate": 58, "profile_image": "https://i.stack.imgur.com/4sh1l.png?s=128&g=1", "display_name": "Tim Biegeleisen", "link": "https://stackoverflow.com/users/1863229/tim-biegeleisen"}, "edited": false, "score": 0, "creation_date": 1437377421, "post_id": 31510645, "comment_id": 50983832, "body": "@TimBiegeleisen: Always wise if you&#39;re answering Perl questions! Go for Strawberry if you&#39;re on Windows"}], "tags": [], "owner": {"reputation": 123805, "user_id": 622310, "user_type": "registered", "accept_rate": 33, "profile_image": "https://www.gravatar.com/avatar/8b6d35219e1808520bc238b28161e2e6?s=128&d=identicon&r=PG", "display_name": "Borodin", "link": "https://stackoverflow.com/users/622310/borodin"}, "is_accepted": false, "score": 1, "last_activity_date": 1437376378, "creation_date": 1437376378, "answer_id": 31510645, "question_id": 31509214, "link": "https://stackoverflow.com/questions/31509214/split-string-and-store-in-hash-in-perl/31510645#31510645", "title": "Split string and store in hash in perl", "body": "<p>You can do this with a regular expression. Note that options without a value like <code>is</code> will be stored as <code>undef</code>, whereas options with an empty parameter like <code>empty=</code> will be stored as a null string</p>\n\n<p>Your parameter <code>this</code> isn't found because it doesn't start with a hyphen <code>-</code></p>\n\n<pre><code>use strict;\nuse warnings;\n\nmy $string = \"this -is -a -test=2 -empty= -value=1 -data=num -string=8\";\n\nmy %options = $string =~ /-(\\w+)(?:=(\\S*))?/g;\n\nuse Data::Dump;\ndd \\%options;\n</code></pre>\n\n<h3>output</h3>\n\n<pre><code>{\n  a =&gt; undef,\n  data =&gt; \"num\",\n  empty =&gt; \"\",\n  is =&gt; undef,\n  string =&gt; 8,\n  test =&gt; 2,\n  value =&gt; 1,\n}\n</code></pre>\n"}, {"tags": [], "owner": {"reputation": 6068, "user_id": 1799189, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/s4Pcu.jpg?s=128&g=1", "display_name": "xxfelixxx", "link": "https://stackoverflow.com/users/1799189/xxfelixxx"}, "is_accepted": false, "score": 0, "last_activity_date": 1437423536, "creation_date": 1437423536, "answer_id": 31525595, "question_id": 31509214, "link": "https://stackoverflow.com/questions/31509214/split-string-and-store-in-hash-in-perl/31525595#31525595", "title": "Split string and store in hash in perl", "body": "<p>Although using a regular expression will work here, you should consider using <code>Getopt::Long</code> for any non-trivial command line argument parsing.</p>\n\n<p><a href=\"http://perldoc.perl.org/Getopt/Long.html\" rel=\"nofollow\">perldoc Getopt::Long</a></p>\n"}], "owner": {"reputation": 1249, "user_id": 1105325, "user_type": "registered", "accept_rate": 46, "profile_image": "https://i.stack.imgur.com/hsiOi.jpg?s=128&g=1", "display_name": "Dexter", "link": "https://stackoverflow.com/users/1105325/dexter"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 388, "favorite_count": 0, "answer_count": 2, "score": 1, "last_activity_date": 1437423536, "creation_date": 1437369209, "question_id": 31509214, "link": "https://stackoverflow.com/questions/31509214/split-string-and-store-in-hash-in-perl", "title": "Split string and store in hash in perl", "body": "<p>I have a string of the format :</p>\n\n<pre><code>my $string = \"this -is -a -test=2 -value=1 -data=num -string=8\";\n</code></pre>\n\n<p>Basically, this is a some sort of cmd line format where we have a option, followed by some value.\nI want to split this string so as to create a hash so as to store each option with its value. </p>\n\n<p>my hash should look like :</p>\n\n<pre><code>my %hash = (\n\"this\" =&gt; \"\",\n\"is\"   =&gt; \"\",\n\"test\" =&gt; \"2\",\n\"string\" =&gt; \"8\",\n);\n</code></pre>\n\n<p>Can this be done in one single line in perl ?</p>\n"}, {"tags": ["perl", "expect.pm"], "comments": [{"owner": {"reputation": 50468, "user_id": 1331451, "user_type": "registered", "accept_rate": 96, "profile_image": "https://i.stack.imgur.com/4ZPmj.png?s=128&g=1", "display_name": "simbabque", "link": "https://stackoverflow.com/users/1331451/simbabque"}, "edited": false, "score": 0, "creation_date": 1437380108, "post_id": 31509157, "comment_id": 50985141, "body": "Are you talking about the session that contains process groups, as explained <a href=\"http://www.win.tue.nl/~aeb/linux/lk/lk-10.html\" rel=\"nofollow noreferrer\">here</a>? Please clarify."}], "answers": [{"tags": [], "owner": {"reputation": 7801, "user_id": 1212401, "user_type": "registered", "accept_rate": 62, "profile_image": "https://www.gravatar.com/avatar/ed478436fcb05fd3ae15da650d2a8cd6?s=128&d=identicon&r=PG", "display_name": "Chris Doyle", "link": "https://stackoverflow.com/users/1212401/chris-doyle"}, "is_accepted": true, "score": 1, "last_activity_date": 1437381794, "creation_date": 1437381794, "answer_id": 31512139, "question_id": 31509157, "link": "https://stackoverflow.com/questions/31509157/get-session-id-of-spawned-session-using-expect-in-perl/31512139#31512139", "title": "Get session ID of spawned session using Expect in Perl", "body": "<p>Have you tried using the <code>$exp-&gt;pid()</code> method of Expect. the documentation for the Expect module says:</p>\n\n<pre><code>$object-&gt;pid()\nReturn pid of $object, if one exists. Initialized filehandles will not have pids (of course).\n</code></pre>\n\n<p>I have tried this in a simple test to telnet to local host, and do a unix ps command to see the processes and also the <code>$exp-&gt;pid()</code> command and they match.</p>\n\n<pre><code>use strict;\nuse Expect;\nmy $exp = Expect-&gt;spawn(\"ssh localhost\") or die \"cannot spawn command\\n\";\nprint `ps -ef | grep -i \"ssh localhost\\$\"` ;\nprint \"PID of spawned process is: \", $exp-&gt;pid(), \"\\n\";\n</code></pre>\n\n<p><strong>OUTPUT</strong></p>\n\n<pre><code>providnt  4389  4302  0 09:42 pts/1    00:00:00 ssh localhost\nPID of spawned process is: 4389\n</code></pre>\n"}], "owner": {"reputation": 1779, "user_id": 2214576, "user_type": "registered", "accept_rate": 56, "profile_image": "https://www.gravatar.com/avatar/ca0629dcdb8d4d3747c78674e90d5203?s=128&d=identicon&r=PG", "display_name": "Randomly Named User", "link": "https://stackoverflow.com/users/2214576/randomly-named-user"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 404, "favorite_count": 0, "accepted_answer_id": 31512139, "answer_count": 1, "score": 1, "last_activity_date": 1504623947, "creation_date": 1437368825, "last_edit_date": 1504623947, "question_id": 31509157, "link": "https://stackoverflow.com/questions/31509157/get-session-id-of-spawned-session-using-expect-in-perl", "title": "Get session ID of spawned session using Expect in Perl", "body": "<p>I'm using <code>Expect</code> to ssh. I want to know the Session ID of the spawned session. How do I do that?</p>\n\n<p>This is my code:</p>\n\n<pre><code>my $addr = \"10.101.10.102\";\nmy $cmd = \"ssh username@\".$addr;\nmy $exp = Expect-&gt;spawn($cmd) or die \"Cannot spawn command\\n\";\n</code></pre>\n"}, {"tags": ["perl", "sorting"], "answers": [{"comments": [{"owner": {"user_type": "does_not_exist", "display_name": "user5132812"}, "edited": false, "score": 0, "creation_date": 1437331527, "post_id": 31504551, "comment_id": 50972179, "body": "I have a question about one of the functions you used. When you use push @selected, \\@data  what specifically is it doing? I&#39;m relatively new to perl and have not seen &quot;\\&quot; before."}, {"owner": {"reputation": 14280, "user_id": 3213868, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/4c996b05d00dac2362ca4804e78f564e?s=128&d=identicon&r=PG&f=1", "display_name": "ooga", "link": "https://stackoverflow.com/users/3213868/ooga"}, "edited": false, "score": 0, "creation_date": 1437331667, "post_id": 31504551, "comment_id": 50972223, "body": "It pushes a &quot;reference&quot; to the array instead of the values. See <a href=\"http://perldoc.perl.org/perlref.html\" rel=\"nofollow noreferrer\">perldoc.perl.org/perlref.html</a>"}], "tags": [], "owner": {"reputation": 14280, "user_id": 3213868, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/4c996b05d00dac2362ca4804e78f564e?s=128&d=identicon&r=PG&f=1", "display_name": "ooga", "link": "https://stackoverflow.com/users/3213868/ooga"}, "is_accepted": true, "score": 2, "last_activity_date": 1437330768, "creation_date": 1437330768, "answer_id": 31504551, "question_id": 31504382, "link": "https://stackoverflow.com/questions/31504382/sorting-arrays-from-table/31504551#31504551", "title": "Sorting Arrays from Table", "body": "<pre><code>use warnings;\nuse strict;\n\nmy @selected;\n\nwhile(my $line = &lt;DATA&gt;)  {\n    my @data = split(\" \", $line);\n    if ($data[3] &lt;= 0.5) {\n        push @selected, \\@data;\n    }\n}\n\n@selected = sort {$a-&gt;[3] &lt;=&gt; $b-&gt;[3];} @selected;\n\nfor my $x (@selected) {\n    print \"$x-&gt;[0]\\t$x-&gt;[1]\\t$x-&gt;[3]\\n\";\n}\n\n__DATA__\nbob smith 15 0.5\nwill smith 13 0.25\ncool smith 12 1.0\n</code></pre>\n"}, {"tags": [], "owner": {"reputation": 123805, "user_id": 622310, "user_type": "registered", "accept_rate": 33, "profile_image": "https://www.gravatar.com/avatar/8b6d35219e1808520bc238b28161e2e6?s=128&d=identicon&r=PG", "display_name": "Borodin", "link": "https://stackoverflow.com/users/622310/borodin"}, "is_accepted": false, "score": 3, "last_activity_date": 1437382533, "last_edit_date": 1437382533, "creation_date": 1437380843, "answer_id": 31511882, "question_id": 31504382, "link": "https://stackoverflow.com/questions/31504382/sorting-arrays-from-table/31511882#31511882", "title": "Sorting Arrays from Table", "body": "<p>This is quite clear in a simple <code>map</code> / <code>grep</code></p>\n\n<pre><code>use strict;\nuse warnings;\n\nprint for sort {\n  my ($aa, $bb) = map { (split)[3] } ($a, $b);\n  $aa &lt;=&gt; $bb;\n} grep { (split)[3] &lt;= 0.5 } &lt;DATA&gt;;\n\n__DATA__\nbob smith 15 0.5\nwill smith 13 0.25\ncool smith 12 1.0\n</code></pre>\n\n<p>or, as a variant of the Schwartzian Transform (which means this will probably run a little faster if that is a useful thing)</p>\n\n<pre><code>print $_-&gt;[-1] for\n    sort { $a-&gt;[3] &lt;=&gt; $b-&gt;[3] }\n    grep { $_-&gt;[3] &lt;= 0.5 }\n    map  { [ split, $_ ] } &lt;DATA&gt;;\n</code></pre>\n\n<h3>output</h3>\n\n<pre><code>will smith 13 0.25\nbob smith 15 0.5\n</code></pre>\n"}], "owner": {"user_type": "does_not_exist", "display_name": "user5132812"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 67, "favorite_count": 0, "accepted_answer_id": 31504551, "answer_count": 2, "score": 2, "last_activity_date": 1477685025, "creation_date": 1437329756, "last_edit_date": 1477685025, "question_id": 31504382, "link": "https://stackoverflow.com/questions/31504382/sorting-arrays-from-table", "title": "Sorting Arrays from Table", "body": "<p>Below is a code I have created to parse out from a table. The columns being parsed out are columns that are 0.5 or less in column 4. I want to sort the parsed out results that fit the parameter set.</p>\n\n<p>Sample Data</p>\n\n<pre><code>bob smith 15 0.5\nwill smith 13 0.25\ncool smith 12 1.0\n</code></pre>\n\n<p>Expected Output</p>\n\n<pre><code>will smith 0.25\nbob smith 0.5\n</code></pre>\n\n<p>what I need to add to this script is a sort function based on the values in $data[3] preferably from lowest to highest. I am working with a much bigger set of data and names. I attempted to use sort { $a &lt;=> $b } but I don't think I was using it correctly.</p>\n\n<pre><code>my $value;\nopen(FILE, $ARGV[0]) or die \"Cannot open the file: $!\";\n\n   while(my $line = &lt;FILE&gt;)  {\n   my @data = split(\" \", $line);\n   $value = \"$data[3]\";\n   if ($value &lt;= 0.5) { \n       print \"$data[0]\\t$data[1]\\t$data[3]\\n\";\n   }\n}\nclose FILE;\nexit;\n</code></pre>\n"}, {"tags": ["perl", "unicode", "encoding", "utf-8"], "comments": [{"owner": {"reputation": 69587, "user_id": 42585, "user_type": "registered", "accept_rate": 67, "profile_image": "https://i.stack.imgur.com/upFCW.jpg?s=128&g=1", "display_name": "Alohci", "link": "https://stackoverflow.com/users/42585/alohci"}, "edited": false, "score": 0, "creation_date": 1437330101, "post_id": 31504252, "comment_id": 50971669, "body": "Unicode to UTF8 mappings are not one-to-one. For example, if we take <code>AA</code> as mapping to  the replacement character as per your table, then so do a range of other codes."}, {"owner": {"reputation": 32176, "user_id": 2173773, "user_type": "registered", "accept_rate": 86, "profile_image": "https://i.stack.imgur.com/M8yh6.jpg?s=128&g=1", "display_name": "H&#229;kon H&#230;gland", "link": "https://stackoverflow.com/users/2173773/h%c3%a5kon-h%c3%a6gland"}, "reply_to_user": {"reputation": 69587, "user_id": 42585, "user_type": "registered", "accept_rate": 67, "profile_image": "https://i.stack.imgur.com/upFCW.jpg?s=128&g=1", "display_name": "Alohci", "link": "https://stackoverflow.com/users/42585/alohci"}, "edited": false, "score": 0, "creation_date": 1437330232, "post_id": 31504252, "comment_id": 50971722, "body": "@Alohci Yes you are right, so I will remove <code>one-to-one</code> mapping and replace with <code>mapping</code>. Thanks."}, {"owner": {"reputation": 74715, "user_id": 471272, "user_type": "registered", "accept_rate": 100, "profile_image": "https://i.stack.imgur.com/jSlyx.gif?s=128&g=1", "display_name": "tchrist", "link": "https://stackoverflow.com/users/471272/tchrist"}, "edited": false, "score": 0, "creation_date": 1437336575, "post_id": 31504252, "comment_id": 50973776, "body": "This question is confusing because that\u2019s not a valid UTF-8 string. What are you really trying to do?  If you just want to read a UTF-8 stream, set its encoding. But I\u2019m sure you know that, so please explain the real goal here."}, {"owner": {"reputation": 32176, "user_id": 2173773, "user_type": "registered", "accept_rate": 86, "profile_image": "https://i.stack.imgur.com/M8yh6.jpg?s=128&g=1", "display_name": "H&#229;kon H&#230;gland", "link": "https://stackoverflow.com/users/2173773/h%c3%a5kon-h%c3%a6gland"}, "reply_to_user": {"reputation": 74715, "user_id": 471272, "user_type": "registered", "accept_rate": 100, "profile_image": "https://i.stack.imgur.com/jSlyx.gif?s=128&g=1", "display_name": "tchrist", "link": "https://stackoverflow.com/users/471272/tchrist"}, "edited": false, "score": 1, "creation_date": 1437338032, "post_id": 31504252, "comment_id": 50974195, "body": "@tchrist For example if I run <code>hexdump -C</code> on a file. It would be nice to be able to display the corresponding Unicode characters. The reason I but in the invalid UTF-8 byte, was to indicate that the mapping should also be able to handle invalid UTF8 in a sensible manner.."}], "answers": [{"comments": [{"owner": {"reputation": 320771, "user_id": 589924, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/b2cf53d5a3d25f95c0db4e025aed4153?s=128&d=identicon&r=PG", "display_name": "ikegami", "link": "https://stackoverflow.com/users/589924/ikegami"}, "edited": false, "score": 1, "creation_date": 1437345780, "post_id": 31505952, "comment_id": 50976145, "body": "You asked for this to work on a stream, but your solution doesn&#39;t work for a stream. If you have received a partial character, you can&#39;t assume it&#39;s invalid as your code does since the next read might complete it."}], "tags": [], "owner": {"reputation": 32176, "user_id": 2173773, "user_type": "registered", "accept_rate": 86, "profile_image": "https://i.stack.imgur.com/M8yh6.jpg?s=128&g=1", "display_name": "H&#229;kon H&#230;gland", "link": "https://stackoverflow.com/users/2173773/h%c3%a5kon-h%c3%a6gland"}, "is_accepted": false, "score": 0, "last_activity_date": 1437340149, "creation_date": 1437340149, "answer_id": 31505952, "question_id": 31504252, "link": "https://stackoverflow.com/questions/31504252/convert-utf-8-byte-stream-to-unicode/31505952#31505952", "title": "Convert UTF-8 byte stream to Unicode", "body": "<p>Here is a way to do it (the script takes the byte sequence as the first command line argument):</p>\n\n<pre><code>use feature qw(say);\nuse strict;\nuse warnings;\n\nuse Encode;\n\nmy @hex = split \" \", shift;\nmy $bytes = join '', map { chr hex } @hex;\nmy @abytes;\nmy @achr;\nwhile (1) {\n    my $str = decode( 'UTF-8', $bytes, Encode::FB_QUIET );\n    if ( length $str &gt; 0 ) {\n        for my $char ( split //, $str ) {\n            my $bytes = encode( \"UTF-8\", $char, Encode::FB_CROAK | Encode::LEAVE_SRC);\n            push @abytes, $bytes;\n            push @achr, $char;\n        }\n    }\n    last if length $bytes == 0;\n    push @abytes, substr $bytes, 0, 1;\n    push @achr, chr 0xfffd;\n    $bytes = substr $bytes, 1;\n}\n\nmy $fmt = '%-20s%-20s';\nsay sprintf $fmt, qw(UTF8 UNICODE);\nsay \"-\" x 40;\nfor my $char ( @achr ) {\n    my $bytes = shift @abytes;\n    my $str1 = join ' ', map { sprintf '%X', ord $_} split //, $bytes;\n    my $str2 = sprintf '%08X', ord $char;\n    say sprintf $fmt, $str1, $str2;\n}\n</code></pre>\n"}, {"comments": [{"owner": {"reputation": 2317, "user_id": 711515, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/8b5b6edf26acc698b27a585417bb9bb6?s=128&d=identicon&r=PG", "display_name": "chansen", "link": "https://stackoverflow.com/users/711515/chansen"}, "edited": false, "score": 0, "creation_date": 1437377952, "post_id": 31507702, "comment_id": 50984109, "body": "Your solution will not work with encoded code points in the following sets: <code>[U+2000, U+D7FF]</code> (prefix code unit <code>[E2, ED]</code>), <code>[U+E000, U+FFFF]</code> (prefix code unit <code>[EE, EF]</code>) and <code>[U+80000, U+10FFFF]</code> (prefix code unit <code>[F2, F4]</code>)."}, {"owner": {"reputation": 320771, "user_id": 589924, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/b2cf53d5a3d25f95c0db4e025aed4153?s=128&d=identicon&r=PG", "display_name": "ikegami", "link": "https://stackoverflow.com/users/589924/ikegami"}, "reply_to_user": {"reputation": 2317, "user_id": 711515, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/8b5b6edf26acc698b27a585417bb9bb6?s=128&d=identicon&r=PG", "display_name": "chansen", "link": "https://stackoverflow.com/users/711515/chansen"}, "edited": false, "score": 0, "creation_date": 1437381251, "post_id": 31507702, "comment_id": 50985711, "body": "@chansen, Fixed. Testing obviously needed. It still demonstrates the solution."}, {"owner": {"reputation": 2317, "user_id": 711515, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/8b5b6edf26acc698b27a585417bb9bb6?s=128&d=identicon&r=PG", "display_name": "chansen", "link": "https://stackoverflow.com/users/711515/chansen"}, "edited": false, "score": 0, "creation_date": 1437383378, "post_id": 31507702, "comment_id": 50986886, "body": "Better, but still not good enough! You need to reject encoded surrogates <code>[U+D800, U+DFFF]</code> which is Ill-formed UTF-8. <code>utf8::decode()</code> decodes Perl&#39;s internal format, UTF-X not UTF-8."}, {"owner": {"reputation": 320771, "user_id": 589924, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/b2cf53d5a3d25f95c0db4e025aed4153?s=128&d=identicon&r=PG", "display_name": "ikegami", "link": "https://stackoverflow.com/users/589924/ikegami"}, "reply_to_user": {"reputation": 2317, "user_id": 711515, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/8b5b6edf26acc698b27a585417bb9bb6?s=128&d=identicon&r=PG", "display_name": "chansen", "link": "https://stackoverflow.com/users/711515/chansen"}, "edited": false, "score": 0, "creation_date": 1437383425, "post_id": 31507702, "comment_id": 50986905, "body": "@chansen, 1) They&#39;re not ill-formed, (they may or may not be allowed in certain contexts, but they&#39;re not ill-formed) 2) Encode doesn&#39;t consider those errors either, 3) The internal format is called &quot;utf8&quot;, 4) I don&#39;t care if I don&#39;t support EBCDIC machines."}, {"owner": {"reputation": 2317, "user_id": 711515, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/8b5b6edf26acc698b27a585417bb9bb6?s=128&d=identicon&r=PG", "display_name": "chansen", "link": "https://stackoverflow.com/users/711515/chansen"}, "edited": false, "score": 0, "creation_date": 1437383675, "post_id": 31507702, "comment_id": 50987059, "body": "Encode&#39;s UTF-8 implementation either reject or replaces (depending on passed flags) encoded surrogates!  <code>$ perl -MEncode -E &#39;printf &quot;U+%.4X\\n&quot;, ord Encode::decode(&quot;UTF-8&quot;, &quot;\\xED\\xBF\\xBF&quot;);&#39;</code> outputs <code>U+FFFD</code>"}, {"owner": {"reputation": 320771, "user_id": 589924, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/b2cf53d5a3d25f95c0db4e025aed4153?s=128&d=identicon&r=PG", "display_name": "ikegami", "link": "https://stackoverflow.com/users/589924/ikegami"}, "reply_to_user": {"reputation": 2317, "user_id": 711515, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/8b5b6edf26acc698b27a585417bb9bb6?s=128&d=identicon&r=PG", "display_name": "chansen", "link": "https://stackoverflow.com/users/711515/chansen"}, "edited": false, "score": 0, "creation_date": 1437383932, "post_id": 31507702, "comment_id": 50987193, "body": "@chansen, Oh, I used <code>decode_utf8</code>, and it&#39;s the equivalent to <code>decode &#39;utf8&#39;</code>, not <code>decode &#39;UTF-8&#39;</code>. Anyway, my answer explicitly lists when U+FFFD is returned. If you want to perform post-decoding checks, you&#39;re free to do so. It doesn&#39;t affect the decoding at all."}, {"owner": {"reputation": 2317, "user_id": 711515, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/8b5b6edf26acc698b27a585417bb9bb6?s=128&d=identicon&r=PG", "display_name": "chansen", "link": "https://stackoverflow.com/users/711515/chansen"}, "edited": false, "score": 0, "creation_date": 1437384253, "post_id": 31507702, "comment_id": 50987384, "body": "The question is about decoding UTF-8 and encoded surrogates are Ill-formed! The first conformance requirement in the Unicode standard says &#39;C1 A process shall not interpret a high-surrogate code point or a low-surrogate code point as an abstract character.&#39;"}, {"owner": {"reputation": 2317, "user_id": 711515, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/8b5b6edf26acc698b27a585417bb9bb6?s=128&d=identicon&r=PG", "display_name": "chansen", "link": "https://stackoverflow.com/users/711515/chansen"}, "edited": false, "score": 0, "creation_date": 1437385332, "post_id": 31507702, "comment_id": 50988054, "body": "The Unicode standard is very clear on the matter, they provide a table which specifies all possible well-formed UTF-8 byte pattern sequences and explicitly says that any UTF-8 byte sequence that doesn&#39;t match the patterns in the table is ill-formed! I&#39;m not going to debate this any further, I suggest you read <a href=\"http://www.unicode.org/versions/Unicode7.0.0/ch03.pdf\" rel=\"nofollow noreferrer\">The Unicode Standard \u2013 Core Specification</a>."}, {"owner": {"reputation": 320771, "user_id": 589924, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/b2cf53d5a3d25f95c0db4e025aed4153?s=128&d=identicon&r=PG", "display_name": "ikegami", "link": "https://stackoverflow.com/users/589924/ikegami"}, "reply_to_user": {"reputation": 2317, "user_id": 711515, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/8b5b6edf26acc698b27a585417bb9bb6?s=128&d=identicon&r=PG", "display_name": "chansen", "link": "https://stackoverflow.com/users/711515/chansen"}, "edited": false, "score": 0, "creation_date": 1437386051, "post_id": 31507702, "comment_id": 50988511, "body": "@chansen, Indeed it does. Adjusted my answer to indicate I do what <code>decode</code> does rather than what Unicode requires. I suggest you file a bug report with Encode for returning FFFD FFFD for C0 80 but only FFFD for F5 80 80 80 and for EF BF BD."}, {"owner": {"reputation": 2317, "user_id": 711515, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/8b5b6edf26acc698b27a585417bb9bb6?s=128&d=identicon&r=PG", "display_name": "chansen", "link": "https://stackoverflow.com/users/711515/chansen"}, "edited": false, "score": 1, "creation_date": 1437387677, "post_id": 31507702, "comment_id": 50989464, "body": "Encode&#39;s behavior is inconsistent but permitted by the Unicode Standard which says (page 127 in the previously linked document) <code>Although a UTF-8 conversion process is required to never consume well-formed subse- quences as part of its error handling for ill-formed subsequences, such a process is not otherwise constrained in how it deals with any ill-formed subsequence itself.</code>. If you want an implementation that implements Unicode&#39;s Best Practices for Using U+FFFD, you can use my implementation, <a href=\"https://metacpan.org/pod/Unicode::UTF8\" rel=\"nofollow noreferrer\">Unicode::UTF8</a>."}], "tags": [], "owner": {"reputation": 320771, "user_id": 589924, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/b2cf53d5a3d25f95c0db4e025aed4153?s=128&d=identicon&r=PG", "display_name": "ikegami", "link": "https://stackoverflow.com/users/589924/ikegami"}, "is_accepted": true, "score": 4, "last_activity_date": 1437385764, "last_edit_date": 1437385764, "creation_date": 1437355662, "answer_id": 31507702, "question_id": 31504252, "link": "https://stackoverflow.com/questions/31504252/convert-utf-8-byte-stream-to-unicode/31507702#31507702", "title": "Convert UTF-8 byte stream to Unicode", "body": "<p>A solution that works with streams:</p>\n\n<pre><code>use READ_SIZE =&gt; 64*1024;\n\nmy $buf = '';\nwhile (1) {\n   my $rv = sysread($fh, $buf, READ_SIZE, length($buf));\n   die(\"Read error: $!\\n\") if !defined($rv);\n   last if !$rv;\n\n   while (length($buf)) {\n      if ($buf =~ s/\n         ^\n         ( [\\x00-\\x7F]\n         | [\\xC2-\\xDF] [\\x80-\\xBF]\n         | \\xE0        [\\xA0-\\xBF] [\\x80-\\xBF]\n         | [\\xE1-\\xEF] [\\x80-\\xBF] [\\x80-\\xBF]\n         | \\xF0        [\\x90-\\xBF] [\\x80-\\xBF] [\\x80-\\xBF]\n         | [\\xF1-\\xF7] [\\x80-\\xBF] [\\x80-\\xBF] [\\x80-\\xBF]\n         )\n      //x) {\n         # Something valid\n         my $utf8 = $1;\n         utf8::decode( my $ucp = $utf8 );\n         handle($utf8, $ucp);\n      }\n\n      elsif ($buf =~ s/\n         ^\n         (?: [\\xC2-\\xDF]\n         |   \\xE0            [\\xA0-\\xBF]?\n         |   [\\xE1-\\xEF]     [\\x80-\\xBF]?\n         |   \\xF0        (?: [\\x90-\\xBF] [\\x80-\\xBF]? )?\n         |   [\\xF1-\\xF7] (?: [\\x80-\\xBF] [\\x80-\\xBF]? )?\n         )\n         \\z\n      //x) {\n         # Something possibly valid\n         last;\n      }\n\n      else {\n         # Something invalid\n         handle(substr($buf, 0, 1, ''), \"\\x{FFFD}\");\n      }\n}\n\nwhile (length($buf)) {\n   handle(substr($buf, 0, 1, ''), \"\\x{FFFD}\");\n}\n</code></pre>\n\n<p>The above only returns U+FFFD for what <code>Encode::decode('UTF-8', $bytes)</code> considered ill-formed. In other words, it only returns U+FFFD when it encounters on of the following:</p>\n\n<ul>\n<li>An unexpected continuation byte.</li>\n<li>A start byte not followed by enough continuation bytes.</li>\n<li>The first byte of an \"overlong\" encoding.</li>\n</ul>\n\n<p>Post-decoding checks are still needed to return U+FFFD for what <code>Encode::decode('UTF-8', $bytes)</code> considers otherwise illegal.</p>\n"}, {"tags": [], "owner": {"reputation": 2317, "user_id": 711515, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/8b5b6edf26acc698b27a585417bb9bb6?s=128&d=identicon&r=PG", "display_name": "chansen", "link": "https://stackoverflow.com/users/711515/chansen"}, "is_accepted": false, "score": 3, "last_activity_date": 1437379826, "creation_date": 1437379826, "answer_id": 31511581, "question_id": 31504252, "link": "https://stackoverflow.com/questions/31504252/convert-utf-8-byte-stream-to-unicode/31511581#31511581", "title": "Convert UTF-8 byte stream to Unicode", "body": "<p><a href=\"https://metacpan.org/pod/Encode\" rel=\"nofollow\">Encode</a> has an API for incremental decoding but it's undocumented, Your mileage may vary! It's used by subclasses of <a href=\"https://metacpan.org/pod/Encode::Encoding\" rel=\"nofollow\">Encode::Encoding</a> and <a href=\"https://metacpan.org/pod/PerlIO::encoding\" rel=\"nofollow\">PerlIO::encoding</a>. As with any  undocumented API it's a subject to change at any time. There has been an effort to <a href=\"https://rt.cpan.org/Public/Bug/Display.html?id=67065\" rel=\"nofollow\">document the API</a>.</p>\n\n<pre><code>#!/usr/bin/perl\nuse strict;\nuse warnings;\n\nuse Encode qw[STOP_AT_PARTIAL];\n\nmy $encoding = Encode::find_encoding('UTF-8');\n\nmy @octets = map { pack 'C', hex } qw&lt;C3 A5 76 AA E2 82 AC F0 9F 90 A2&gt;;\nmy $buffer = '';\nwhile (@octets) {\n    my $octets = $buffer . shift @octets;\n\n    printf \"--&gt; processing: &lt;%s&gt;\\n\", \n      join ' ', map { sprintf '%.2X', ord } split //, $octets;\n\n    my $string = $encoding-&gt;decode($octets, STOP_AT_PARTIAL);\n\n    $buffer = $octets;\n\n    if (length $buffer) {\n        printf \"buffered code units: &lt;%s&gt;\\n\", \n          join ' ', map { sprintf '%.2X', ord } split //, $buffer;\n    }\n\n    if (length $string) {\n        printf \"received code points: &lt;%s&gt;\\n\",\n          join ' ', map { sprintf 'U+%.4X', ord } split //, $string;\n    }\n}\n</code></pre>\n\n<p>Output:</p>\n\n<pre><code>--&gt; processing: &lt;C3&gt;\nbuffered code units: &lt;C3&gt;\n--&gt; processing: &lt;C3 A5&gt;\nreceived code points: &lt;U+00E5&gt;\n--&gt; processing: &lt;76&gt;\nreceived code points: &lt;U+0076&gt;\n--&gt; processing: &lt;AA&gt;\nreceived code points: &lt;U+FFFD&gt;\n--&gt; processing: &lt;E2&gt;\nbuffered code units: &lt;E2&gt;\n--&gt; processing: &lt;E2 82&gt;\nbuffered code units: &lt;E2 82&gt;\n--&gt; processing: &lt;E2 82 AC&gt;\nreceived code points: &lt;U+20AC&gt;\n--&gt; processing: &lt;F0&gt;\nbuffered code units: &lt;F0&gt;\n--&gt; processing: &lt;F0 9F&gt;\nbuffered code units: &lt;F0 9F&gt;\n--&gt; processing: &lt;F0 9F 90&gt;\nbuffered code units: &lt;F0 9F 90&gt;\n--&gt; processing: &lt;F0 9F 90 A2&gt;\nreceived code points: &lt;U+1F422&gt;\n</code></pre>\n"}], "owner": {"reputation": 32176, "user_id": 2173773, "user_type": "registered", "accept_rate": 86, "profile_image": "https://i.stack.imgur.com/M8yh6.jpg?s=128&g=1", "display_name": "H&#229;kon H&#230;gland", "link": "https://stackoverflow.com/users/2173773/h%c3%a5kon-h%c3%a6gland"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 1018, "favorite_count": 2, "accepted_answer_id": 31507702, "answer_count": 3, "score": 0, "last_activity_date": 1437385764, "creation_date": 1437328914, "last_edit_date": 1437330252, "question_id": 31504252, "link": "https://stackoverflow.com/questions/31504252/convert-utf-8-byte-stream-to-unicode", "title": "Convert UTF-8 byte stream to Unicode", "body": "<p>How can I easily create a mapping from a UTF-8 bytestream to a Unicode codepoint array? To clarify, if for example I have the byte sequence:</p>\n\n<pre><code>c3 a5 76 aa e2 82 ac\n</code></pre>\n\n<p>The mapping should produce two arrays of the same length; one with UTF-8 byte sequences, and the other with the corresponding Unicode codepoint. Then, the arrays could be printed side-by-side like: </p>\n\n<pre><code>UTF8                UNICODE             \n----------------------------------------\nC3 A5               000000E5            \n76                  00000076            \nAA                  0000FFFD            \nE2 82 AC            000020AC            \n</code></pre>\n"}, {"tags": ["perl"], "comments": [{"owner": {"reputation": 37, "user_id": 4970450, "user_type": "registered", "accept_rate": 20, "profile_image": "https://www.gravatar.com/avatar/5268910ced760e5978f92985712fda03?s=128&d=identicon&r=PG&f=1", "display_name": "Ken Renalds", "link": "https://stackoverflow.com/users/4970450/ken-renalds"}, "reply_to_user": {"reputation": 18883, "user_id": 2612235, "user_type": "registered", "accept_rate": 84, "profile_image": "https://i.stack.imgur.com/dpsjq.jpg?s=128&g=1", "display_name": "nowox", "link": "https://stackoverflow.com/users/2612235/nowox"}, "edited": false, "score": 0, "creation_date": 1437329925, "post_id": 31503926, "comment_id": 50971614, "body": "That line should be removed because it contains &quot;privacy&quot; which is in remove.txt - It only seems to remove words that end in privacy, for example abc@xyz.privacy"}, {"owner": {"reputation": 123805, "user_id": 622310, "user_type": "registered", "accept_rate": 33, "profile_image": "https://www.gravatar.com/avatar/8b6d35219e1808520bc238b28161e2e6?s=128&d=identicon&r=PG", "display_name": "Borodin", "link": "https://stackoverflow.com/users/622310/borodin"}, "edited": false, "score": 0, "creation_date": 1437380274, "post_id": 31503926, "comment_id": 50985219, "body": "The main problem is that your regex is nonsense. The <code>AUX</code> file contains <code>print unless m!@(privacy|xxx|yyy|=)\\b!i</code> and I don&#39;t see what you&#39;re trying to do with the <code>@</code> and the <code>=</code>. You also have a word boundary <code>\\b</code> at the end, so it won&#39;t match something like <code>whoisprivacyprotect</code>"}], "answers": [{"comments": [{"owner": {"reputation": 37, "user_id": 4970450, "user_type": "registered", "accept_rate": 20, "profile_image": "https://www.gravatar.com/avatar/5268910ced760e5978f92985712fda03?s=128&d=identicon&r=PG&f=1", "display_name": "Ken Renalds", "link": "https://stackoverflow.com/users/4970450/ken-renalds"}, "edited": false, "score": 0, "creation_date": 1437338173, "post_id": 31505356, "comment_id": 50974236, "body": "Hello, thank you for your help but both of these gave errors. First ---- Scalar found where operator expected at ./A line 4, near &quot;) $re&quot;         (Missing semicolon on previous line?) Can&#39;t modify concatenation (.) or string in scalar assignment at ./A line 4, near &quot;&lt;$fp&gt;) &quot; syntax error at ./A line 4, near &quot;) $re &quot; syntax error at ./A line 5, near &quot;/$re/ while&quot; Execution of ./A aborted due to compilation errors. ----- The second error gave  syntax error at -e line 4, near &quot;/$re/ while&quot; Execution of -e aborted due to compilation errors."}, {"owner": {"reputation": 18883, "user_id": 2612235, "user_type": "registered", "accept_rate": 84, "profile_image": "https://i.stack.imgur.com/dpsjq.jpg?s=128&g=1", "display_name": "nowox", "link": "https://stackoverflow.com/users/2612235/nowox"}, "reply_to_user": {"reputation": 37, "user_id": 4970450, "user_type": "registered", "accept_rate": 20, "profile_image": "https://www.gravatar.com/avatar/5268910ced760e5978f92985712fda03?s=128&d=identicon&r=PG&f=1", "display_name": "Ken Renalds", "link": "https://stackoverflow.com/users/4970450/ken-renalds"}, "edited": false, "score": 0, "creation_date": 1437338292, "post_id": 31505356, "comment_id": 50974273, "body": "Edit your question and I&#39;ll give you a working answer"}, {"owner": {"reputation": 37, "user_id": 4970450, "user_type": "registered", "accept_rate": 20, "profile_image": "https://www.gravatar.com/avatar/5268910ced760e5978f92985712fda03?s=128&d=identicon&r=PG&f=1", "display_name": "Ken Renalds", "link": "https://stackoverflow.com/users/4970450/ken-renalds"}, "edited": false, "score": 0, "creation_date": 1437349064, "post_id": 31505356, "comment_id": 50976830, "body": "Thank you for your reply but I am getting &quot;cat: remove: No such file or directory&quot; - None of the commands you posted include remove.txt, how can I use that? I need to load them from a file as there are several thousand entries."}], "tags": [], "owner": {"reputation": 18883, "user_id": 2612235, "user_type": "registered", "accept_rate": 84, "profile_image": "https://i.stack.imgur.com/dpsjq.jpg?s=128&g=1", "display_name": "nowox", "link": "https://stackoverflow.com/users/2612235/nowox"}, "is_accepted": false, "score": 0, "last_activity_date": 1437367615, "last_edit_date": 1437367615, "creation_date": 1437335959, "answer_id": 31505356, "question_id": 31503926, "link": "https://stackoverflow.com/questions/31503926/perl-remove-line-of-data-containing-x/31505356#31505356", "title": "perl - Remove line of data containing X", "body": "<p>From what I understand from your last comment, you have a file named <code>Filelist.txt</code> that contain data like this: </p>\n\n<pre><code>\"albu*****holmes**\",\"ab***foo@bar.com\",\"aef\" *22\",\"Angel**or\",\"FR\",\"2***3\",\"FRANCE\"\n\"copperhill*****omes**\",\"pg***trj@whoisprivacyprotect.com\",\"***ox *39\",\"Kir**and\",\"WA\",\"9***3\",\"UNITED STATES\"\n\"ironhill*****shelock**\",\"dd***trejo@foo.com\",\"***oxtho *42\",\"Kiss**or\",\"CA\",\"2***3\",\"UNITED STATES\"\n</code></pre>\n\n<p>You want to remove each entry that contain words mentionned in the file <code>remove.txt</code>. This file looks like: </p>\n\n<pre><code>privacy\nstandard\nlucy\n</code></pre>\n\n<p>Any of the entry that match any of these words will be skipped.</p>\n\n<p>If I follow your philosophy, you first want to build a regex from the words in <code>remove.txt</code>, then apply this regex to your file. </p>\n\n<p>So from the <code>remove.txt</code> shown above, we want to get this: </p>\n\n<pre><code>m/(privacy|standard|lucy)/i\n</code></pre>\n\n<p>We need to quotemeta to make sure words like <code>remo\\nve</code> will be properly escaped:</p>\n\n<pre><code>$ perl -ne 'chomp; push @words, quotemeta; END{print \"m/(\".join(\"|\",@words).\")/i\"}' remove\nm/(privacy|standard|lucy)/i\n</code></pre>\n\n<p>If you don't need to escape invalid characters you can use</p>\n\n<pre><code>$ cat remove.txt | tr '\\n' '|' | awk '{print \"m/(\"$0\")/i\"}'\nm/(privacy|standard|lucy)/i\n</code></pre>\n\n<p>Your second step is to apply this regex in your data</p>\n\n<pre><code>$ cat filelist.txt | perl -ne \"print unless `cat regex`\"\n\"albu*****holmes**\",\"ab***foo@bar.com\",\"aef\" *22\",\"Angel**or\",\"FR\",\"2***3\",\"FRANCE\"\n\"ironhill*****shelock**\",\"dd***trejo@foo.com\",\"***oxtho *42\",\"Kiss**or\",\"CA\",\"2***3\",\"UNITED STATES\"\n</code></pre>\n\n<p>However thing can be simpler with grep: </p>\n\n<pre><code>$ cat filelist.txt | egrep -v `cat remove.txt | tr '\\n' '|'`\n</code></pre>\n\n<p>In all of this be careful that you don't have any trailing <code>\\n</code> in you file <code>remove.txt</code> because you regex will become <code>m/(a|b|c|)/i</code> instead of <code>m/(a|b|c)/i</code> which will match everything. </p>\n"}, {"comments": [{"owner": {"reputation": 37, "user_id": 4970450, "user_type": "registered", "accept_rate": 20, "profile_image": "https://www.gravatar.com/avatar/5268910ced760e5978f92985712fda03?s=128&d=identicon&r=PG&f=1", "display_name": "Ken Renalds", "link": "https://stackoverflow.com/users/4970450/ken-renalds"}, "edited": false, "score": 0, "creation_date": 1437398809, "post_id": 31511771, "comment_id": 50996604, "body": "This gives perl errors. Do I need to install something? - Can&#39;t locate autodie.pm in @INC (@INC contains: /usr/local/lib64/perl5 /usr/local/share/perl5 /usr/lib64/perl5/vendor_perl /usr/share/perl5/vendor_perl /usr/lib64/perl5 /usr/share/perl5 .) at p.pl line 4. BEGIN failed--compilation aborted at p.pl line 4."}, {"owner": {"reputation": 123805, "user_id": 622310, "user_type": "registered", "accept_rate": 33, "profile_image": "https://www.gravatar.com/avatar/8b6d35219e1808520bc238b28161e2e6?s=128&d=identicon&r=PG", "display_name": "Borodin", "link": "https://stackoverflow.com/users/622310/borodin"}, "reply_to_user": {"reputation": 37, "user_id": 4970450, "user_type": "registered", "accept_rate": 20, "profile_image": "https://www.gravatar.com/avatar/5268910ced760e5978f92985712fda03?s=128&d=identicon&r=PG&f=1", "display_name": "Ken Renalds", "link": "https://stackoverflow.com/users/4970450/ken-renalds"}, "edited": false, "score": 0, "creation_date": 1437399491, "post_id": 31511771, "comment_id": 50997091, "body": "@KenRenalds: Yes, it requires <code>autodie</code> which was introduced in Perl v5.10.1. I added <code>use 5.010</code> to check for that. Have you fallen through the gap, and are running v5.10.0? The easiest fix is probably to install <code>autodie</code> from CPAN. Or you could upgrade Perl, or delete the last two <code>use</code> statements and add <code>or die $!</code> to the end of each <code>open</code> statement?"}], "tags": [], "owner": {"reputation": 123805, "user_id": 622310, "user_type": "registered", "accept_rate": 33, "profile_image": "https://www.gravatar.com/avatar/8b6d35219e1808520bc238b28161e2e6?s=128&d=identicon&r=PG", "display_name": "Borodin", "link": "https://stackoverflow.com/users/622310/borodin"}, "is_accepted": false, "score": 0, "last_activity_date": 1437380449, "creation_date": 1437380449, "answer_id": 31511771, "question_id": 31503926, "link": "https://stackoverflow.com/questions/31503926/perl-remove-line-of-data-containing-x/31511771#31511771", "title": "perl - Remove line of data containing X", "body": "<p>I would do it in a similar way, but all within one Perl program</p>\n\n<p>Here's an example. It expects both the input files as parameters on the command line, so you would run it as</p>\n\n<pre><code>perl program.pl remove.txt Filelist.txt\n</code></pre>\n\n<pre class=\"lang-perl prettyprint-override\"><code>use strict;\nuse warnings;\nuse 5.010;\nuse autodie;\n\nmy @lines = do {\n  open my $fh, '&lt;', $ARGV[0];\n  &lt;$fh&gt;;\n};\nchomp @lines;\nmy $re = join '|', @lines;\n$re = qr/(?:$re)/;\n\nopen my $fh, '&lt;', $ARGV[1];\nwhile ( &lt;$fh&gt; ) {\n  print unless /$re/;\n}\n</code></pre>\n\n<h3>output</h3>\n\n<pre class=\"lang-none prettyprint-override\"><code>\"albu*****holmes**\",\"ab***foo@bar.com\",\"aef\" *22\",\"Angel**or\",\"FR\",\"2***3\",\"FRANCE\"\n\"ironhill*****shelock**\",\"dd***trejo@foo.com\",\"***oxtho *42\",\"Kiss**or\",\"CA\",\"2***3\",\"UNITED STATES\"\n</code></pre>\n"}], "owner": {"reputation": 37, "user_id": 4970450, "user_type": "registered", "accept_rate": 20, "profile_image": "https://www.gravatar.com/avatar/5268910ced760e5978f92985712fda03?s=128&d=identicon&r=PG&f=1", "display_name": "Ken Renalds", "link": "https://stackoverflow.com/users/4970450/ken-renalds"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 100, "favorite_count": 0, "answer_count": 2, "score": -3, "last_activity_date": 1437380449, "creation_date": 1437326937, "last_edit_date": 1437349467, "question_id": 31503926, "link": "https://stackoverflow.com/questions/31503926/perl-remove-line-of-data-containing-x", "title": "perl - Remove line of data containing X", "body": "<p>I would like to ignore each line of a file that contains words listed into <code>remove.txt</code>. </p>\n\n<p>How can I modify the command below which does not work even if <code>remove.txt</code> contains the word <code>privacy</code>. </p>\n\n<pre><code>cat remove.txt | \n  perl -n0E 's/\\n/|/g; say \"print unless m!@($_=)\\\\b!i\\n\" ' &gt; AUX\nperl -n AUX   Filelist.txt &gt; outfile\n</code></pre>\n\n<p>Here is an example of my data:</p>\n\n<pre><code>\"albu*****holmes**\",\"ab***foo@bar.com\",\"aef\" *22\",\"Angel**or\",\"FR\",\"2***3\",\"FRANCE\"\n\"copperhill*****omes**\",\"pg***trj@whoisprivacyprotect.com\",\"***ox *39\",\"Kir**and\",\"WA\",\"9***3\",\"UNITED STATES\"\n\"ironhill*****shelock**\",\"dd***trejo@foo.com\",\"***oxtho *42\",\"Kiss**or\",\"CA\",\"2***3\",\"UNITED STATES\"\n</code></pre>\n\n<p>You see that the second entry contains the word <code>privacy</code>. So it should not appear in the output. </p>\n\n<p>So eventually I want to get this: </p>\n\n<pre><code>\"albu*****holmes**\",\"ab***foo@bar.com\",\"aef\" *22\",\"Angel**or\",\"FR\",\"2***3\",\"FRANCE\"\n\"ironhill*****shelock**\",\"dd***trejo@foo.com\",\"***oxtho *42\",\"Kiss**or\",\"CA\",\"2***3\",\"UNITED STATES\"\n</code></pre>\n"}, {"tags": ["python", "perl", "awk", "sed", "scripting"], "comments": [{"owner": {"reputation": 49793, "user_id": 4014959, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/GdqQJ.jpg?s=128&g=1", "display_name": "PM 2Ring", "link": "https://stackoverflow.com/users/4014959/pm-2ring"}, "edited": false, "score": 2, "creation_date": 1437290435, "post_id": 31498844, "comment_id": 50961178, "body": "If an item currently has a quantity &gt; 1 can it be selected multiple times in one set?"}, {"owner": {"reputation": 49793, "user_id": 4014959, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/GdqQJ.jpg?s=128&g=1", "display_name": "PM 2Ring", "link": "https://stackoverflow.com/users/4014959/pm-2ring"}, "edited": false, "score": 1, "creation_date": 1437290858, "post_id": 31498844, "comment_id": 50961252, "body": "BTW, this isn&#39;t a good question for SO. This isn&#39;t a site for programming challenges, it&#39;s a Q&amp;A site to help you fix programs that aren&#39;t working correctly. Maybe you should take a look at  <a href=\"http://codegolf.stackexchange.com\">Programming Puzzles &amp; Code Golf</a>."}, {"owner": {"reputation": 65, "user_id": 3742796, "user_type": "registered", "accept_rate": 67, "profile_image": "https://www.gravatar.com/avatar/44a88052cacb36d22bfdc4b775edadf8?s=128&d=identicon&r=PG&f=1", "display_name": "user3742796", "link": "https://stackoverflow.com/users/3742796/user3742796"}, "reply_to_user": {"reputation": 49793, "user_id": 4014959, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/GdqQJ.jpg?s=128&g=1", "display_name": "PM 2Ring", "link": "https://stackoverflow.com/users/4014959/pm-2ring"}, "edited": false, "score": 0, "creation_date": 1437290905, "post_id": 31498844, "comment_id": 50961259, "body": "yes, If an item currently has a quantity &gt; 1 can it be selected multiple times"}, {"owner": {"reputation": 65, "user_id": 3742796, "user_type": "registered", "accept_rate": 67, "profile_image": "https://www.gravatar.com/avatar/44a88052cacb36d22bfdc4b775edadf8?s=128&d=identicon&r=PG&f=1", "display_name": "user3742796", "link": "https://stackoverflow.com/users/3742796/user3742796"}, "reply_to_user": {"reputation": 49793, "user_id": 4014959, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/GdqQJ.jpg?s=128&g=1", "display_name": "PM 2Ring", "link": "https://stackoverflow.com/users/4014959/pm-2ring"}, "edited": false, "score": 0, "creation_date": 1437290948, "post_id": 31498844, "comment_id": 50961263, "body": "for example:- I have full list of items with available quantity. I need to generate random list [mutilple list] of more than one item picked from the given list. I need an option to select number of items per random list and till the quantity is greater than zero item has to be picked from the given list."}, {"owner": {"reputation": 49793, "user_id": 4014959, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/GdqQJ.jpg?s=128&g=1", "display_name": "PM 2Ring", "link": "https://stackoverflow.com/users/4014959/pm-2ring"}, "edited": false, "score": 0, "creation_date": 1437291355, "post_id": 31498844, "comment_id": 50961315, "body": "So it&#39;s ok if one of these random list has several of <code>COME001</code> in it?"}, {"owner": {"reputation": 65, "user_id": 3742796, "user_type": "registered", "accept_rate": 67, "profile_image": "https://www.gravatar.com/avatar/44a88052cacb36d22bfdc4b775edadf8?s=128&d=identicon&r=PG&f=1", "display_name": "user3742796", "link": "https://stackoverflow.com/users/3742796/user3742796"}, "reply_to_user": {"reputation": 49793, "user_id": 4014959, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/GdqQJ.jpg?s=128&g=1", "display_name": "PM 2Ring", "link": "https://stackoverflow.com/users/4014959/pm-2ring"}, "edited": false, "score": 0, "creation_date": 1437291521, "post_id": 31498844, "comment_id": 50961341, "body": "yes that would be fine"}, {"owner": {"reputation": 65, "user_id": 3742796, "user_type": "registered", "accept_rate": 67, "profile_image": "https://www.gravatar.com/avatar/44a88052cacb36d22bfdc4b775edadf8?s=128&d=identicon&r=PG&f=1", "display_name": "user3742796", "link": "https://stackoverflow.com/users/3742796/user3742796"}, "reply_to_user": {"reputation": 49793, "user_id": 4014959, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/GdqQJ.jpg?s=128&g=1", "display_name": "PM 2Ring", "link": "https://stackoverflow.com/users/4014959/pm-2ring"}, "edited": false, "score": 0, "creation_date": 1437291587, "post_id": 31498844, "comment_id": 50961355, "body": "I  want multiple random list with some may have 3 iterms, some may have 4 items, and upto 7"}, {"owner": {"reputation": 65, "user_id": 3742796, "user_type": "registered", "accept_rate": 67, "profile_image": "https://www.gravatar.com/avatar/44a88052cacb36d22bfdc4b775edadf8?s=128&d=identicon&r=PG&f=1", "display_name": "user3742796", "link": "https://stackoverflow.com/users/3742796/user3742796"}, "reply_to_user": {"reputation": 49793, "user_id": 4014959, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/GdqQJ.jpg?s=128&g=1", "display_name": "PM 2Ring", "link": "https://stackoverflow.com/users/4014959/pm-2ring"}, "edited": false, "score": 0, "creation_date": 1437291725, "post_id": 31498844, "comment_id": 50961383, "body": "Let us <a href=\"http://chat.stackoverflow.com/rooms/83655/discussion-between-user3742796-and-pm-2ring\">continue this discussion in chat</a>."}, {"owner": {"reputation": 12709, "user_id": 1320237, "user_type": "registered", "accept_rate": 85, "profile_image": "https://www.gravatar.com/avatar/c8053e7d7aac8830f25a47135ce07bec?s=128&d=identicon&r=PG", "display_name": "User", "link": "https://stackoverflow.com/users/1320237/user"}, "edited": false, "score": 0, "creation_date": 1437291734, "post_id": 31498844, "comment_id": 50961385, "body": "possible duplicate of <a href=\"http://stackoverflow.com/questions/10324015/fitness-proportionate-selection-roulette-wheel-selection-in-python\">Fitness proportionate selection (roulette wheel selection) in Python</a>"}, {"owner": {"reputation": 13165, "user_id": 950430, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/rKBkO.jpg?s=128&g=1", "display_name": "Dennis", "link": "https://stackoverflow.com/users/950430/dennis"}, "reply_to_user": {"reputation": 49793, "user_id": 4014959, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/GdqQJ.jpg?s=128&g=1", "display_name": "PM 2Ring", "link": "https://stackoverflow.com/users/4014959/pm-2ring"}, "edited": false, "score": 1, "creation_date": 1437315215, "post_id": 31498844, "comment_id": 50966959, "body": "@PM2Ring: This question is completely off topic on PPCG and has been closed and deleted since the user posted it. Please don&#39;t suggest posting on sites you&#39;re not at all familiar with."}, {"owner": {"reputation": 49793, "user_id": 4014959, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/GdqQJ.jpg?s=128&g=1", "display_name": "PM 2Ring", "link": "https://stackoverflow.com/users/4014959/pm-2ring"}, "reply_to_user": {"reputation": 13165, "user_id": 950430, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/rKBkO.jpg?s=128&g=1", "display_name": "Dennis", "link": "https://stackoverflow.com/users/950430/dennis"}, "edited": false, "score": 0, "creation_date": 1437315943, "post_id": 31498844, "comment_id": 50967178, "body": "Sorry @Dennis. I&#39;ll be more careful in future. But in my defence I only told him to <i>look</i> at PPCG, I didn&#39;t actually suggest that he post this question there. Although I&#39;m not a member of PPCG I understand that this question would be quite unsuitable for PPCG in its current form."}], "answers": [{"comments": [{"owner": {"reputation": 49793, "user_id": 4014959, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/GdqQJ.jpg?s=128&g=1", "display_name": "PM 2Ring", "link": "https://stackoverflow.com/users/4014959/pm-2ring"}, "edited": false, "score": 0, "creation_date": 1437293800, "post_id": 31499170, "comment_id": 50961800, "body": "It does <i>seem</i> inefficient creating <code>lnon_zero</code> each time in the loop, but it&#39;s actually not too bad, especially if the size of <code>items</code> isn&#39;t too big. However, the OP wants the code to spit out lists of various length, with each list containing multiple choices; the same item is allowed to occur multiple times in a given list."}, {"owner": {"reputation": 65, "user_id": 3742796, "user_type": "registered", "accept_rate": 67, "profile_image": "https://www.gravatar.com/avatar/44a88052cacb36d22bfdc4b775edadf8?s=128&d=identicon&r=PG&f=1", "display_name": "user3742796", "link": "https://stackoverflow.com/users/3742796/user3742796"}, "edited": false, "score": 0, "creation_date": 1437299037, "post_id": 31499170, "comment_id": 50962897, "body": "File &quot;test.in&quot;, line 28     ditems = {item: quantity for item, quantity in items}                                ^ SyntaxError: invalid syntax"}, {"owner": {"reputation": 65, "user_id": 3742796, "user_type": "registered", "accept_rate": 67, "profile_image": "https://www.gravatar.com/avatar/44a88052cacb36d22bfdc4b775edadf8?s=128&d=identicon&r=PG&f=1", "display_name": "user3742796", "link": "https://stackoverflow.com/users/3742796/user3742796"}, "edited": false, "score": 0, "creation_date": 1437299220, "post_id": 31499170, "comment_id": 50962938, "body": "[root@xcatmn ~]# python --version Python 2.6.6 [root@xcatmn ~]#"}, {"owner": {"reputation": 37454, "user_id": 4985733, "user_type": "registered", "accept_rate": 100, "profile_image": "https://i.stack.imgur.com/r7daF.jpg?s=128&g=1", "display_name": "Martin Evans", "link": "https://stackoverflow.com/users/4985733/martin-evans"}, "edited": false, "score": 0, "creation_date": 1437299412, "post_id": 31499170, "comment_id": 50962980, "body": "It uses a dictionary compression which I think was added in Python 2.7. A list compression could also be used or even a loop."}, {"owner": {"reputation": 37454, "user_id": 4985733, "user_type": "registered", "accept_rate": 100, "profile_image": "https://i.stack.imgur.com/r7daF.jpg?s=128&g=1", "display_name": "Martin Evans", "link": "https://stackoverflow.com/users/4985733/martin-evans"}, "edited": false, "score": 0, "creation_date": 1437300096, "post_id": 31499170, "comment_id": 50963146, "body": "See <a href=\"http://stackoverflow.com/questions/1747817/python-create-a-dictionary-with-list-comprehension\">this post</a> for an example on how to change it."}, {"owner": {"reputation": 65, "user_id": 3742796, "user_type": "registered", "accept_rate": 67, "profile_image": "https://www.gravatar.com/avatar/44a88052cacb36d22bfdc4b775edadf8?s=128&d=identicon&r=PG&f=1", "display_name": "user3742796", "link": "https://stackoverflow.com/users/3742796/user3742796"}, "edited": false, "score": 0, "creation_date": 1437375876, "post_id": 31499170, "comment_id": 50983076, "body": "on 1st output COME001 has been picked and 1 qty got reduced from stock but 2nd output COME001 not picked and again its show qty as 10 whereas i expect 9 Output 1:- Picked: [&#39;COMT000&#39;, &#39;COMH000&#39;, &#39;COMT001&#39;, &#39;COM#005&#39;, &#39;COME001&#39;, &#39;CT100H000&#39;] Stock left: {&#39;COMH000&#39;: 0, &#39;COMT000&#39;: 2, &#39;COMT001&#39;: 2, &#39;CT100H000&#39;: 0, &#39;COM#005&#39;: 2, &#39;COM#004&#39;: 2, &#39;COM#006&#39;: 2, &#39;COME001&#39;: 9}  Output 2:- Picked: [&#39;CT100H000&#39;, &#39;COM#005&#39;, &#39;COM#005&#39;, &#39;COM#004&#39;, &#39;COMH000&#39;, &#39;COM#006&#39;] Stock left: {&#39;COMH000&#39;: 0, &#39;COMT000&#39;: 3, &#39;COMT001&#39;: 3, &#39;CT100H000&#39;: 0, &#39;COM#005&#39;: 1, &#39;COM#004&#39;: 1, &#39;COM#006&#39;: 1, &#39;COME001&#39;: 10}"}, {"owner": {"reputation": 37454, "user_id": 4985733, "user_type": "registered", "accept_rate": 100, "profile_image": "https://i.stack.imgur.com/r7daF.jpg?s=128&g=1", "display_name": "Martin Evans", "link": "https://stackoverflow.com/users/4985733/martin-evans"}, "edited": false, "score": 0, "creation_date": 1437636262, "post_id": 31499170, "comment_id": 51114816, "body": "Try now, I&#39;d not spotted you had multiple items with the same name. They are now added together. If you need them left seperate the dictionary solution would need to be changed to a slower list lookup."}, {"owner": {"reputation": 65, "user_id": 3742796, "user_type": "registered", "accept_rate": 67, "profile_image": "https://www.gravatar.com/avatar/44a88052cacb36d22bfdc4b775edadf8?s=128&d=identicon&r=PG&f=1", "display_name": "user3742796", "link": "https://stackoverflow.com/users/3742796/user3742796"}, "edited": false, "score": 0, "creation_date": 1438188413, "post_id": 31499170, "comment_id": 51351232, "body": "stock need to maintained for example 1st OP:- COME001 is picked and stock shows as 9 but on output 2 it has not been picked that&#39;s OK its picks randomly but stock should be maintained as 9 instead of 10  2nd OP:-  $ python test.py Picked: [&#39;COM#004&#39;, &#39;COM#005&#39;, &#39;COMH000&#39;, &#39;COM#004&#39;, &#39;CT100H000&#39;, &#39;COME001&#39;]  Stock left COMH000 1 COMT000 3 COMT001 3 CT100H000 0 COM#005 2 COM#004 0 COM#006 2 COME001 9  Output 2:- $ python test.py Picked: [&#39;COMH000&#39;, &#39;COMT000&#39;, &#39;COM#004&#39;, &#39;COM#006&#39;, &#39;COM#005&#39;, &#39;COMH000&#39;]  Stock left COMH000 0 COMT000 2 COMT001 3 CT100H000 1 COM#005 2 COM#004 1 COM#006 1 COME001 10"}, {"owner": {"reputation": 65, "user_id": 3742796, "user_type": "registered", "accept_rate": 67, "profile_image": "https://www.gravatar.com/avatar/44a88052cacb36d22bfdc4b775edadf8?s=128&d=identicon&r=PG&f=1", "display_name": "user3742796", "link": "https://stackoverflow.com/users/3742796/user3742796"}, "edited": false, "score": 0, "creation_date": 1438189081, "post_id": 31499170, "comment_id": 51351683, "body": "For the first random pick:- 1. Pick item randomly from the main list 2. Updated stock on the main list for all the items including item picked and not picked.  Please help Martin  For the second random pick:- 1. Pick item randomly from the updated list 2. Updated stock on the main list for all the items including item picked and not picked.  Martin, Code which you have given is what i wanted by it doesn&#39;t maintain stock. Please help"}, {"owner": {"reputation": 37454, "user_id": 4985733, "user_type": "registered", "accept_rate": 100, "profile_image": "https://i.stack.imgur.com/r7daF.jpg?s=128&g=1", "display_name": "Martin Evans", "link": "https://stackoverflow.com/users/4985733/martin-evans"}, "edited": false, "score": 0, "creation_date": 1438191725, "post_id": 31499170, "comment_id": 51353209, "body": "To maintain stock levels between invocations of the script, the data would need to be stored in a file, not statically in the script itself. The script would need to read the file in, process it and write the updated results back to the file. The script as it stands will always start with the same stock levels. The data will need to be stored in CSV format."}, {"owner": {"reputation": 37454, "user_id": 4985733, "user_type": "registered", "accept_rate": 100, "profile_image": "https://i.stack.imgur.com/r7daF.jpg?s=128&g=1", "display_name": "Martin Evans", "link": "https://stackoverflow.com/users/4985733/martin-evans"}, "edited": false, "score": 0, "creation_date": 1438193375, "post_id": 31499170, "comment_id": 51354208, "body": "The new script reads your stock from a CSV file. You will need to create this. I have assumed tab delimited looking the same as your question."}], "tags": [], "owner": {"reputation": 37454, "user_id": 4985733, "user_type": "registered", "accept_rate": 100, "profile_image": "https://i.stack.imgur.com/r7daF.jpg?s=128&g=1", "display_name": "Martin Evans", "link": "https://stackoverflow.com/users/4985733/martin-evans"}, "is_accepted": true, "score": 0, "last_activity_date": 1438193302, "last_edit_date": 1438193302, "creation_date": 1437293137, "answer_id": 31499170, "question_id": 31498844, "link": "https://stackoverflow.com/questions/31498844/how-do-i-randomly-select-more-than-one-item-from-a-list-in-linux-scripting/31499170#31499170", "title": "How do i randomly select more than one item from a list in linux scripting?", "body": "<p>If speed is not important, the following approach could be used in Python. The data must be stored in a CSV file and updated each time. I am assuming a simple tab delimited file as shown in the question:</p>\n\n<pre><code>import random, collections, csv\n\ndef pick_non_zero(count):\n    ditems = collections.defaultdict(int)\n\n    # Read the current stock file in\n    with open(\"stock.csv\", \"r\") as f_input:\n        csv_input = csv.reader(f_input, delimiter=\"\\t\")\n        headers = csv_input.next()\n\n        for item, quantity in csv_input:\n            ditems[item] += int(quantity)\n\n    lchoices = []\n\n    for n in range(count):\n        # Create a list of items with quantity remaining\n        lnon_zero = [item for item, quantity in ditems.items() if quantity &gt; 0]\n\n        if len(lnon_zero) == 0:\n            lchoices.append(\"No more stock\")\n            break\n\n        # Pick one\n        choice = random.choice(lnon_zero)\n        # Reduce quantity by 1\n        ditems[choice] -= 1\n        lchoices.append(choice)\n\n    # Write the updated stock back to the file\n    with open(\"stock.csv\", \"wb\") as f_output:\n        csv_output = csv.writer(f_output, delimiter=\"\\t\")\n        csv_output.writerow(headers)\n\n        for item, quantity in ditems.items():\n            csv_output.writerow([item, quantity])\n\n    print \"Stock left\"\n\n    for item, quantity in ditems.items():\n        print \"%-10s  %d\" % (item, quantity)\n\n    return lchoices\n\nlpicked = pick_non_zero(6)\n\nprint\nprint \"Picked:\", lpicked\n</code></pre>\n\n<p>Giving the following possible output:</p>\n\n<pre><code>Stock left\nCOMH000     0\nCOMT000     2\nCOMT001     3\nCT100H000   0\nCOM#005     3\nCOM#004     2\nCOM#006     2\nCOME001     8\n\nPicked: ['CT100H000', 'COMH000', 'COME001', 'COME001', 'COMH000', 'COMT000']\n</code></pre>\n\n<p>Updated to use a CSV file. Tested using Python 2.7.</p>\n"}, {"comments": [{"owner": {"reputation": 49793, "user_id": 4014959, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/GdqQJ.jpg?s=128&g=1", "display_name": "PM 2Ring", "link": "https://stackoverflow.com/users/4014959/pm-2ring"}, "edited": false, "score": 0, "creation_date": 1437293392, "post_id": 31499173, "comment_id": 50961716, "body": "This doesn&#39;t do what the OP wants."}, {"owner": {"reputation": 1268, "user_id": 3129752, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/9TDZu.jpg?s=128&g=1", "display_name": "Baris Demiray", "link": "https://stackoverflow.com/users/3129752/baris-demiray"}, "reply_to_user": {"reputation": 49793, "user_id": 4014959, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/GdqQJ.jpg?s=128&g=1", "display_name": "PM 2Ring", "link": "https://stackoverflow.com/users/4014959/pm-2ring"}, "edited": false, "score": 0, "creation_date": 1437293520, "post_id": 31499173, "comment_id": 50961738, "body": "Indeed, so that the OP can actually start writing the code, perhaps."}, {"owner": {"reputation": 49793, "user_id": 4014959, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/GdqQJ.jpg?s=128&g=1", "display_name": "PM 2Ring", "link": "https://stackoverflow.com/users/4014959/pm-2ring"}, "edited": false, "score": 0, "creation_date": 1437294154, "post_id": 31499173, "comment_id": 50961875, "body": "Fair enough (although at this stage it&#39;s still not clear that the OP can code in any of the tagged languages). And I guess your code <i>does</i> address the question in the 1st line of the post. :)"}], "tags": [], "owner": {"reputation": 1268, "user_id": 3129752, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/9TDZu.jpg?s=128&g=1", "display_name": "Baris Demiray", "link": "https://stackoverflow.com/users/3129752/baris-demiray"}, "is_accepted": false, "score": 0, "last_activity_date": 1437293161, "creation_date": 1437293161, "answer_id": 31499173, "question_id": 31498844, "link": "https://stackoverflow.com/questions/31498844/how-do-i-randomly-select-more-than-one-item-from-a-list-in-linux-scripting/31499173#31499173", "title": "How do i randomly select more than one item from a list in linux scripting?", "body": "<p>You can use <code>random.sample()</code> for that,</p>\n\n<pre><code>import random\n\n# Reading in all the lines\nwith open('input') as f:\n    lines = f.readlines()\n\n# Deleting first line\ndel lines[:1]\n\n# Picking 6 unique list items randomly\nprint(\"\\n\".join(random.sample(lines, 6)))\n</code></pre>\n\n<p>See <a href=\"https://docs.python.org/2/library/random.html?highlight=random%20sample#random.sample\" rel=\"nofollow\">https://docs.python.org/2/library/random.html?highlight=random%20sample#random.sample</a>.</p>\n"}], "owner": {"reputation": 65, "user_id": 3742796, "user_type": "registered", "accept_rate": 67, "profile_image": "https://www.gravatar.com/avatar/44a88052cacb36d22bfdc4b775edadf8?s=128&d=identicon&r=PG&f=1", "display_name": "user3742796", "link": "https://stackoverflow.com/users/3742796/user3742796"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 191, "favorite_count": 0, "closed_date": 1437294660, "accepted_answer_id": 31499170, "answer_count": 2, "score": -3, "last_activity_date": 1438193302, "creation_date": 1437289930, "last_edit_date": 1438188151, "question_id": 31498844, "link": "https://stackoverflow.com/questions/31498844/how-do-i-randomly-select-more-than-one-item-from-a-list-in-linux-scripting", "closed_reason": "Not suitable for this site", "title": "How do i randomly select more than one item from a list in linux scripting?", "body": "<p><code>enter code here</code>How do i randomly select more than one item from a list in linux scripting ?</p>\n\n<p>For example:-</p>\n\n<p>Column A    Column B</p>\n\n<pre><code>Itemcode    Quantity\nCOM#004     2\nCOM#005     3\nCOME001     10\nCOMT000     3\nCOMT001     3\nCOMH000     1\nCOMH000     1\nCOM#006     2\nCT100H000   1\n</code></pre>\n\n<p>Inputs:-\nthe number of item to select </p>\n\n<p>for example :- the number of item to select = 6 </p>\n\n<pre><code>COME001\nCOMT000\nCOM#004\nCOM#006\nCOMT001\nCOMH000\n</code></pre>\n\n<p>after an set of items been selected, quatity has to be reduced. should be able to pick item for next select till its quantity gets zero.</p>\n\n<p>It works but I wanted the stock to be maintained for example. on the output 1:- COME001 is picked and stock shows as 9 but on output 2 it has not been picked that's ok its picks randomly but stock should be maintained as 9 instead of 10</p>\n\n<p>Output 1:-\n$ python test.py\nPicked: ['COM#004', 'COM#005', 'COMH000', 'COM#004', 'CT100H000', 'COME001']</p>\n\n<p>Stock left\nCOMH000     1\nCOMT000     3\nCOMT001     3\nCT100H000   0\nCOM#005     2\nCOM#004     0\nCOM#006     2\nCOME001     9</p>\n\n<p>Output 2:-\n$ python test.py\nPicked: ['COMH000', 'COMT000', 'COM#004', 'COM#006', 'COM#005', 'COMH000']</p>\n\n<p>Stock left\nCOMH000     0\nCOMT000     2\nCOMT001     3\nCT100H000   1\nCOM#005     2\nCOM#004     1\nCOM#006     1\nCOME001     10</p>\n"}, {"tags": ["perl", "file", "env"], "answers": [{"comments": [{"owner": {"reputation": 466, "user_id": 4895979, "user_type": "registered", "accept_rate": 94, "profile_image": "https://i.stack.imgur.com/uFYyR.png?s=128&g=1", "display_name": "Arsenii", "link": "https://stackoverflow.com/users/4895979/arsenii"}, "edited": false, "score": 0, "creation_date": 1437243415, "post_id": 31494094, "comment_id": 50951757, "body": "Thanks, but.. hm... This is not what I am looking for... I know how to create a file manually..)) What I need is to create it, using ONLY PERL."}, {"owner": {"reputation": 2418, "user_id": 5128826, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/03b54c3cd8c70aad8122d9391ce8028a?s=128&d=identicon&r=PG&f=1", "display_name": "nsilent22", "link": "https://stackoverflow.com/users/5128826/nsilent22"}, "reply_to_user": {"reputation": 466, "user_id": 4895979, "user_type": "registered", "accept_rate": 94, "profile_image": "https://i.stack.imgur.com/uFYyR.png?s=128&g=1", "display_name": "Arsenii", "link": "https://stackoverflow.com/users/4895979/arsenii"}, "edited": false, "score": 4, "creation_date": 1437243743, "post_id": 31494094, "comment_id": 50951870, "body": "You won&#39;t &quot;skip&quot; over the privileges. If it were possible, it would be a HUGE security flaw. Another thing that comes to my mind is to create a simple &quot;wrapper&quot; program that writes from stdin to /.envfile, give it suid root privileges and run it from your perl script."}, {"owner": {"reputation": 466, "user_id": 4895979, "user_type": "registered", "accept_rate": 94, "profile_image": "https://i.stack.imgur.com/uFYyR.png?s=128&g=1", "display_name": "Arsenii", "link": "https://stackoverflow.com/users/4895979/arsenii"}, "edited": false, "score": 0, "creation_date": 1437243902, "post_id": 31494094, "comment_id": 50951924, "body": "Yepp! Ok, when we install, say, Perl, this program AUTOMATICALLY creates ENVs in the system, as we run the installation script from $ sudo. The question is: is it possible to make a run with $ sudo param FROM WITHIN the script?"}, {"owner": {"reputation": 2418, "user_id": 5128826, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/03b54c3cd8c70aad8122d9391ce8028a?s=128&d=identicon&r=PG&f=1", "display_name": "nsilent22", "link": "https://stackoverflow.com/users/5128826/nsilent22"}, "reply_to_user": {"reputation": 466, "user_id": 4895979, "user_type": "registered", "accept_rate": 94, "profile_image": "https://i.stack.imgur.com/uFYyR.png?s=128&g=1", "display_name": "Arsenii", "link": "https://stackoverflow.com/users/4895979/arsenii"}, "edited": false, "score": 0, "creation_date": 1437244161, "post_id": 31494094, "comment_id": 50952006, "body": "Well, it should be possible IF the sudo is properly configured (e.g. won&#39;t prompt for the password)."}, {"owner": {"reputation": 466, "user_id": 4895979, "user_type": "registered", "accept_rate": 94, "profile_image": "https://i.stack.imgur.com/uFYyR.png?s=128&g=1", "display_name": "Arsenii", "link": "https://stackoverflow.com/users/4895979/arsenii"}, "edited": false, "score": 0, "creation_date": 1437244691, "post_id": 31494094, "comment_id": 50952109, "body": "well, is it possible, if we prompt a user to type in the sudo password and send it in the request within the thread?"}, {"owner": {"reputation": 2418, "user_id": 5128826, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/03b54c3cd8c70aad8122d9391ce8028a?s=128&d=identicon&r=PG&f=1", "display_name": "nsilent22", "link": "https://stackoverflow.com/users/5128826/nsilent22"}, "reply_to_user": {"reputation": 466, "user_id": 4895979, "user_type": "registered", "accept_rate": 94, "profile_image": "https://i.stack.imgur.com/uFYyR.png?s=128&g=1", "display_name": "Arsenii", "link": "https://stackoverflow.com/users/4895979/arsenii"}, "edited": false, "score": 3, "creation_date": 1437245032, "post_id": 31494094, "comment_id": 50952193, "body": "With -S parameter sudo reads password from stdin, so you can do it. But I think solution with wrapper with u+s privilege is better, because sudo called from apache process requires that apache&#39;s process owner is allowed to use sudo, which most likely is not true."}], "tags": [], "owner": {"reputation": 2418, "user_id": 5128826, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/03b54c3cd8c70aad8122d9391ce8028a?s=128&d=identicon&r=PG&f=1", "display_name": "nsilent22", "link": "https://stackoverflow.com/users/5128826/nsilent22"}, "is_accepted": false, "score": 2, "last_activity_date": 1437243261, "creation_date": 1437243261, "answer_id": 31494094, "question_id": 31493998, "link": "https://stackoverflow.com/questions/31493998/how-to-create-a-file-in-the-root-dir-with-perl/31494094#31494094", "title": "How to create a file in the root dir with perl?", "body": "<p>Create the file 'by hand' and set it's owner to the owner of the apache process, e.g.:</p>\n\n<pre>sudo touch /.envfile\nsudo chown www-data:www-data /.envfile\nsudo chmod u+rw /.envfile</pre>\n"}, {"tags": [], "owner": {"reputation": 320771, "user_id": 589924, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/b2cf53d5a3d25f95c0db4e025aed4153?s=128&d=identicon&r=PG", "display_name": "ikegami", "link": "https://stackoverflow.com/users/589924/ikegami"}, "is_accepted": false, "score": 1, "last_activity_date": 1437252913, "creation_date": 1437252913, "answer_id": 31495504, "question_id": 31493998, "link": "https://stackoverflow.com/questions/31493998/how-to-create-a-file-in-the-root-dir-with-perl/31495504#31495504", "title": "How to create a file in the root dir with perl?", "body": "<p>You're executing your Perl program as a user without sufficient privilege. Run the Perl program using a user with sufficient privilege (e.g. using <code>sudo</code> or <code>su</code>).</p>\n"}, {"comments": [{"owner": {"reputation": 466, "user_id": 4895979, "user_type": "registered", "accept_rate": 94, "profile_image": "https://i.stack.imgur.com/uFYyR.png?s=128&g=1", "display_name": "Arsenii", "link": "https://stackoverflow.com/users/4895979/arsenii"}, "edited": false, "score": 1, "creation_date": 1437310009, "post_id": 31499075, "comment_id": 50965553, "body": "Thank you, mate! Great answer! What I decided is to create an installer for my software (a perl script) which will be ran under ROOT from terminal and it will create that files ONLY on the server side (not as a CGI) and ONLY ONCE on installation. The file that will be created will be deployed (as you greatly advised) in /etc or in /var/local/mysoftware"}, {"owner": {"reputation": 42833, "user_id": 18914, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/7a20a39ae2ef47ae042a3eddd5b5bd19?s=128&d=identicon&r=PG", "display_name": "Dave Sherohman", "link": "https://stackoverflow.com/users/18914/dave-sherohman"}, "reply_to_user": {"reputation": 466, "user_id": 4895979, "user_type": "registered", "accept_rate": 94, "profile_image": "https://i.stack.imgur.com/uFYyR.png?s=128&g=1", "display_name": "Arsenii", "link": "https://stackoverflow.com/users/4895979/arsenii"}, "edited": false, "score": 1, "creation_date": 1437383063, "post_id": 31499075, "comment_id": 50986690, "body": "Sounds like a good plan. Running the installer from the command line instead of CGI/web is pretty much the best way of keeping it secure."}], "tags": [], "owner": {"reputation": 42833, "user_id": 18914, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/7a20a39ae2ef47ae042a3eddd5b5bd19?s=128&d=identicon&r=PG", "display_name": "Dave Sherohman", "link": "https://stackoverflow.com/users/18914/dave-sherohman"}, "is_accepted": true, "score": 2, "last_activity_date": 1437292239, "creation_date": 1437292239, "answer_id": 31499075, "question_id": 31493998, "link": "https://stackoverflow.com/questions/31493998/how-to-create-a-file-in-the-root-dir-with-perl/31499075#31499075", "title": "How to create a file in the root dir with perl?", "body": "<p>If I understand the question correctly, it appears that you also control the software which will ultimately read the file you're trying to create.  Is that accurate?  If so, <strong>change the program to get its environment from somewhere else</strong>.  Where else?  Preferably a new directory, so that you can make it writable by your web server without affecting anything else.  I'd probably use <code>/etc/myprogram</code> (because <code>/etc</code> is the standard place for configuration files) or <code>/var/local/myprogram</code> (because <code>/var</code> is the standard place for persistent data files).  But not an existing directory which is <strong>and should remain</strong> writable solely by root.</p>\n\n<p>Short of exploiting a security flaw, Perl does not allow you to sidestep filesystem security (permissions). And that is a Good Thing.  If it were allowed, it would mean that anyone who finds an exploit in your Perl code could then change any file on your computer, potentially replacing it with the most malicious code ever written.</p>\n\n<p>Thus, the <strong>only</strong> way that your Perl can create a file in <code>/</code> is if it runs as root or uses <code>su</code>/<code>suid</code> to run some other program as root.  And you really, really, really do not want CGI scripts or web applications running as root because, unless you do everything absolutely perfectly in your code, and there are no exploitable bugs in <code>perl</code> itself, or apache, or the kernel, then, by running your web code as root, you're potentially handing root access to any random script kiddie on the internet.</p>\n\n<p>If you really, truly, absolutely have no choice other than to have web-accessible code write arbitrary files to <code>/</code>, then the least-bad, least-insecure way to do it would be to create a very tiny helper program which takes a file name and file contents as inputs, checks to verify that the named file does not already exist (so that an attacker can't use it to overwrite, say, your kernel), and then creates the named file with the provided contents.  Aside from maybe a little additional sanity/security checking, it should do <em>absolutely nothing else</em> because the more complex this helper program is, the more likely it is to contain exploitable flaws.  Then have the web code use <code>suid</code> to run the helper program, with <code>suid</code> configured to allow the web user (and <em>only</em> the web user) to run the helper program (and <em>only</em> the helper program) with no password.</p>\n\n<p>But don't do that unless you really, truly, absolutely have no other option.  It is not the <em>best</em> way to do it, it is the <em>least bad</em> way.  Which means it's still a bad idea.</p>\n"}], "owner": {"reputation": 466, "user_id": 4895979, "user_type": "registered", "accept_rate": 94, "profile_image": "https://i.stack.imgur.com/uFYyR.png?s=128&g=1", "display_name": "Arsenii", "link": "https://stackoverflow.com/users/4895979/arsenii"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 201, "favorite_count": 0, "accepted_answer_id": 31499075, "answer_count": 3, "score": -2, "last_activity_date": 1437292239, "creation_date": 1437242639, "question_id": 31493998, "link": "https://stackoverflow.com/questions/31493998/how-to-create-a-file-in-the-root-dir-with-perl", "title": "How to create a file in the root dir with perl?", "body": "<p>I have an error with perl while trying to CREATE a file called <code>.envfile</code> in the root dir <code>/</code> (only for <em>UNIX</em>). Permission denied, which is understood. But, is there a way to write this file? I need to do it without any modules, just with a built-in functions. I expect for using <code>chmod</code>, but... honestly, have no idea of how to implement it in the same thread SAFELY.</p>\n\n<p>I need this file to write in it my own ENVs for my software (as it is a big project with many dirs and needs to operate with many own ENVs).</p>\n\n<p>Trying simple:</p>\n\n<pre><code>my $filename = '.envfile';\n\nopen FH, '&gt;', $filename or die $!;\n\nprint FH \"some data\\n\";\n\nclose(FH);\n</code></pre>\n\n<p>Apache says: <code>Permission denied at /var/www/cgi-bin/env.cgi line 41.</code></p>\n\n<p>Any help appreciated!\nThanks!</p>\n"}, {"tags": ["apache", "perl"], "comments": [{"owner": {"reputation": 3327, "user_id": 1604311, "user_type": "registered", "accept_rate": 73, "profile_image": "https://i.stack.imgur.com/0frKT.jpg?s=128&g=1", "display_name": "Arunesh Singh", "link": "https://stackoverflow.com/users/1604311/arunesh-singh"}, "edited": false, "score": 0, "creation_date": 1437241540, "post_id": 31493790, "comment_id": 50951196, "body": "Where is test.cgi script?"}, {"owner": {"reputation": 197, "user_id": 3387520, "user_type": "registered", "accept_rate": 75, "profile_image": "https://i.stack.imgur.com/khEnj.jpg?s=128&g=1", "display_name": "CrackSmoker9000", "link": "https://stackoverflow.com/users/3387520/cracksmoker9000"}, "reply_to_user": {"reputation": 3327, "user_id": 1604311, "user_type": "registered", "accept_rate": 73, "profile_image": "https://i.stack.imgur.com/0frKT.jpg?s=128&g=1", "display_name": "Arunesh Singh", "link": "https://stackoverflow.com/users/1604311/arunesh-singh"}, "edited": false, "score": 0, "creation_date": 1437241621, "post_id": 31493790, "comment_id": 50951231, "body": "the script is located at: /srv/http/forum.fgfugees.ca/htdocs/cgi-bin/"}, {"owner": {"reputation": 3327, "user_id": 1604311, "user_type": "registered", "accept_rate": 73, "profile_image": "https://i.stack.imgur.com/0frKT.jpg?s=128&g=1", "display_name": "Arunesh Singh", "link": "https://stackoverflow.com/users/1604311/arunesh-singh"}, "edited": false, "score": 0, "creation_date": 1437241833, "post_id": 31493790, "comment_id": 50951295, "body": "I meant to share <code>test.cgi</code> it in question. Anyways modify the shebang line to <code>#!&#47;usr&#47;bin&#47;env perl</code>. Then check once."}, {"owner": {"reputation": 197, "user_id": 3387520, "user_type": "registered", "accept_rate": 75, "profile_image": "https://i.stack.imgur.com/khEnj.jpg?s=128&g=1", "display_name": "CrackSmoker9000", "link": "https://stackoverflow.com/users/3387520/cracksmoker9000"}, "reply_to_user": {"reputation": 3327, "user_id": 1604311, "user_type": "registered", "accept_rate": 73, "profile_image": "https://i.stack.imgur.com/0frKT.jpg?s=128&g=1", "display_name": "Arunesh Singh", "link": "https://stackoverflow.com/users/1604311/arunesh-singh"}, "edited": false, "score": 0, "creation_date": 1437242661, "post_id": 31493790, "comment_id": 50951524, "body": "check the new edit for the file source"}, {"owner": {"reputation": 3327, "user_id": 1604311, "user_type": "registered", "accept_rate": 73, "profile_image": "https://i.stack.imgur.com/0frKT.jpg?s=128&g=1", "display_name": "Arunesh Singh", "link": "https://stackoverflow.com/users/1604311/arunesh-singh"}, "edited": false, "score": 0, "creation_date": 1437243996, "post_id": 31493790, "comment_id": 50951952, "body": "what is output of <code>ls -la &#47;usr&#47;bin&#47;perl</code> and <code>ls -la &#47;srv&#47;http&#47;forum.fgfugees.ca&#47;htdocs&#47;cgi-bin&#47;test.cgi</code>"}, {"owner": {"reputation": 197, "user_id": 3387520, "user_type": "registered", "accept_rate": 75, "profile_image": "https://i.stack.imgur.com/khEnj.jpg?s=128&g=1", "display_name": "CrackSmoker9000", "link": "https://stackoverflow.com/users/3387520/cracksmoker9000"}, "reply_to_user": {"reputation": 3327, "user_id": 1604311, "user_type": "registered", "accept_rate": 73, "profile_image": "https://i.stack.imgur.com/0frKT.jpg?s=128&g=1", "display_name": "Arunesh Singh", "link": "https://stackoverflow.com/users/1604311/arunesh-singh"}, "edited": false, "score": 0, "creation_date": 1437244129, "post_id": 31493790, "comment_id": 50951991, "body": "# ls -la /usr/bin/perl ls: /usr/bin/perl: No such file or directory # ls -la /srv/http/forum.fgfugees.ca/htdocs/cgi-bin/test.cgi -rwxr-xr-x  1 www  www  77 Jul 18 17:13 /srv/http/forum.fgfugees.ca/htdocs/cgi-bin/test.cgi"}, {"owner": {"reputation": 3327, "user_id": 1604311, "user_type": "registered", "accept_rate": 73, "profile_image": "https://i.stack.imgur.com/0frKT.jpg?s=128&g=1", "display_name": "Arunesh Singh", "link": "https://stackoverflow.com/users/1604311/arunesh-singh"}, "reply_to_user": {"reputation": 197, "user_id": 3387520, "user_type": "registered", "accept_rate": 75, "profile_image": "https://i.stack.imgur.com/khEnj.jpg?s=128&g=1", "display_name": "CrackSmoker9000", "link": "https://stackoverflow.com/users/3387520/cracksmoker9000"}, "edited": false, "score": 0, "creation_date": 1437244385, "post_id": 31493790, "comment_id": 50952058, "body": "Let us <a href=\"http://chat.stackoverflow.com/rooms/83628/discussion-between-arunesh-singh-and-cracksmoker9000\">continue this discussion in chat</a>."}], "answers": [{"tags": [], "owner": {"reputation": 197, "user_id": 3387520, "user_type": "registered", "accept_rate": 75, "profile_image": "https://i.stack.imgur.com/khEnj.jpg?s=128&g=1", "display_name": "CrackSmoker9000", "link": "https://stackoverflow.com/users/3387520/cracksmoker9000"}, "is_accepted": false, "score": -1, "last_activity_date": 1437254555, "last_edit_date": 1437254555, "creation_date": 1437252623, "answer_id": 31495462, "question_id": 31493790, "link": "https://stackoverflow.com/questions/31493790/apache24-wont-run-cgi-scripts/31495462#31495462", "title": "apache24 won&#39;t run cgi scripts", "body": "<p>Apache couldn't run /usr/bin/env perl for some reason.</p>\n\n<p>Some sort of permission error that I bypassed by using the shebang line <code>#!/usr/local/bin/perl</code> instead</p>\n"}, {"tags": [], "owner": {"reputation": 320771, "user_id": 589924, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/b2cf53d5a3d25f95c0db4e025aed4153?s=128&d=identicon&r=PG", "display_name": "ikegami", "link": "https://stackoverflow.com/users/589924/ikegami"}, "is_accepted": false, "score": 0, "last_activity_date": 1437381894, "last_edit_date": 1437381894, "creation_date": 1437263474, "answer_id": 31496671, "question_id": 31493790, "link": "https://stackoverflow.com/questions/31493790/apache24-wont-run-cgi-scripts/31496671#31496671", "title": "apache24 won&#39;t run cgi scripts", "body": "<p>In your shell's login script, you alter PATH, allowing <code>perl</code> to be located from your shell. But only from your shell. Replace</p>\n\n<pre><code>/usr/bin/env perl\n</code></pre>\n\n<p>in the shebang line with the actual path to your <code>perl</code>. </p>\n\n<pre><code>type -p perl\n</code></pre>\n\n<p>or</p>\n\n<pre><code>which perl\n</code></pre>\n\n<p>may help you determine what that path is.</p>\n"}], "owner": {"reputation": 197, "user_id": 3387520, "user_type": "registered", "accept_rate": 75, "profile_image": "https://i.stack.imgur.com/khEnj.jpg?s=128&g=1", "display_name": "CrackSmoker9000", "link": "https://stackoverflow.com/users/3387520/cracksmoker9000"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 506, "favorite_count": 0, "answer_count": 2, "score": -4, "last_activity_date": 1437381894, "creation_date": 1437241290, "last_edit_date": 1437244551, "question_id": 31493790, "link": "https://stackoverflow.com/questions/31493790/apache24-wont-run-cgi-scripts", "title": "apache24 won&#39;t run cgi scripts", "body": "<p><code>httpd-error.log</code>:</p>\n\n<pre><code>[Sat Jul 18 17:30:22.505894 2015] [cgi:error] [pid 30498] [client 24.224.147.251:40394] AH01215: env: perl: No such file or directory: /srv/http/forum.fgfugees.ca/htdocs/cgi-bin/test.cgi\n\n[Sat Jul 18 17:30:22.505987 2015] [cgi:error] [pid 30498] [client 24.224.147.251:40394] End of script output before headers: test.cgi\n</code></pre>\n\n<p>that file does exist, i can successfully run it by typing </p>\n\n<pre><code>/usr/bin/env perl /srv/http/forum.fgfugees.ca/htdocs/cgi-bin/test.cgi \n</code></pre>\n\n<p>into my CLI. </p>\n\n<p>httpd.conf: <a href=\"http://pastebin.com/MGGFNcyQ\" rel=\"nofollow\">http://pastebin.com/MGGFNcyQ</a></p>\n\n<p>i'm testing the script under the forum.fgfugees.ca virtual host, which begins at line 287</p>\n\n<p>the script is located at: /srv/http/forum.fgfugees.ca/htdocs/cgi-bin/</p>\n\n<p>test.cgi:</p>\n\n<pre><code>#!/usr/bin/env perl\n\nprint \"Content-type: text/html\\n\\n\";\nprint \"sup bitch\";\n</code></pre>\n"}, {"tags": ["perl"], "comments": [{"owner": {"reputation": 320771, "user_id": 589924, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/b2cf53d5a3d25f95c0db4e025aed4153?s=128&d=identicon&r=PG", "display_name": "ikegami", "link": "https://stackoverflow.com/users/589924/ikegami"}, "edited": false, "score": 4, "creation_date": 1437263007, "post_id": 31492653, "comment_id": 50956759, "body": "You&#39;re confusing &quot;passing a reference&quot; and &quot;passing by reference&quot;. In Perl, arguments are always passed by reference, so changing the elements of <code>@_</code> changes the corresponding variables in the caller.."}], "answers": [{"comments": [{"owner": {"reputation": 320771, "user_id": 589924, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/b2cf53d5a3d25f95c0db4e025aed4153?s=128&d=identicon&r=PG", "display_name": "ikegami", "link": "https://stackoverflow.com/users/589924/ikegami"}, "edited": false, "score": 3, "creation_date": 1437270323, "post_id": 31492760, "comment_id": 50957929, "body": "Or, since the user asked about <code>chomp</code>, <code>sub mychomp { $_[0] =~ s&#47;\\s+\\z&#47;&#47;; }</code>. Or more accurately, <code>sub mychomp { my $c = 0; for (@_) { $c += length($&#47;) if s{\\Q$&#47;\\E\\z}{}; } $c }</code>"}, {"owner": {"reputation": 74715, "user_id": 471272, "user_type": "registered", "accept_rate": 100, "profile_image": "https://i.stack.imgur.com/jSlyx.gif?s=128&g=1", "display_name": "tchrist", "link": "https://stackoverflow.com/users/471272/tchrist"}, "edited": false, "score": 2, "creation_date": 1437336978, "post_id": 31492760, "comment_id": 50973891, "body": "I recommend instead <code>sub convert_to_uppercase { for (@_) { $_ = uc } }</code> since that works no matter how many arguments or whether they are old ASCII or modern Unicode text. Some people would write that <code>$_ = uc for @_</code>  I suppose."}], "tags": [], "owner": {"reputation": 123805, "user_id": 622310, "user_type": "registered", "accept_rate": 33, "profile_image": "https://www.gravatar.com/avatar/8b6d35219e1808520bc238b28161e2e6?s=128&d=identicon&r=PG", "display_name": "Borodin", "link": "https://stackoverflow.com/users/622310/borodin"}, "is_accepted": true, "score": 14, "last_activity_date": 1437237836, "last_edit_date": 1437237836, "creation_date": 1437233856, "answer_id": 31492760, "question_id": 31492653, "link": "https://stackoverflow.com/questions/31492653/how-is-it-that-chomp-is-able-to-change-the-value-of-a-variable-not-passed-by-ref/31492760#31492760", "title": "How is it that chomp is able to change the value of a variable not passed by reference?", "body": "<p>All Perl parameters are \"passed by reference\"; more accurately, the contents of <code>@_</code> are <em>aliases</em> for the actual parameters</p>\n\n<p>Observe</p>\n\n<pre><code>use strict;\nuse warnings;\nuse 5.010;\n\nmy $s = 'abc';\n\nupper_case($s);\n\nsay $s;\n\n\nsub upper_case {\n  $_[0] =~ tr/a-z/A-Z/;\n}\n</code></pre>\n\n<h3>output</h3>\n\n<pre><code>ABC\n</code></pre>\n\n<p>Note that calling this function with a data literal, such as</p>\n\n<pre><code>upper_case('def')\n</code></pre>\n\n<p>will generate the fatal error</p>\n\n<pre class=\"lang-none prettyprint-override\"><code>Modification of a read-only value attempted\n</code></pre>\n"}], "owner": {"reputation": 1714, "user_id": 1839508, "user_type": "registered", "accept_rate": 89, "profile_image": "https://www.gravatar.com/avatar/530d84518abcb1591e5e7cedf682097d?s=128&d=identicon&r=PG", "display_name": "n.r.", "link": "https://stackoverflow.com/users/1839508/n-r"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 301, "favorite_count": 0, "accepted_answer_id": 31492760, "answer_count": 1, "score": 5, "last_activity_date": 1437237836, "creation_date": 1437233146, "question_id": 31492653, "link": "https://stackoverflow.com/questions/31492653/how-is-it-that-chomp-is-able-to-change-the-value-of-a-variable-not-passed-by-ref", "title": "How is it that chomp is able to change the value of a variable not passed by reference?", "body": "<p><code>chomp</code> seems to be able to change the value of a variable not passed by reference; that is, the syntax is <code>chomp $var</code> instead of <code>chomp \\$var</code>.</p>\n\n<p>How is this possible?  How can I imitate this behavior in a function? </p>\n\n<p><code>chomp</code>:</p>\n\n<pre class=\"lang-perl prettyprint-override\"><code>my $var=\"foo\\n\";\nchomp $var;\nprint $var\n</code></pre>\n\n<p><code>mychomp</code>:</p>\n\n<pre class=\"lang-perl prettyprint-override\"><code>my $var=\"foo\\n\";\nmychomp(\\$var);\nprint $var;\n\nsub mychomp {\n  my $ref=shift;\n  $$ref=~s/\\s+$//;\n}\n</code></pre>\n"}, {"tags": ["perl", "object"], "comments": [{"owner": {"reputation": 123805, "user_id": 622310, "user_type": "registered", "accept_rate": 33, "profile_image": "https://www.gravatar.com/avatar/8b6d35219e1808520bc238b28161e2e6?s=128&d=identicon&r=PG", "display_name": "Borodin", "link": "https://stackoverflow.com/users/622310/borodin"}, "edited": false, "score": 3, "creation_date": 1437234787, "post_id": 31492440, "comment_id": 50949165, "body": "You&#39;re looking at an <code>HTTP::Response</code> object, and the correct way to access data from it is to call its <i>methods</i> as described in <a href=\"https://metacpan.org/pod/HTTP::Response\" rel=\"nofollow noreferrer\">the module documnetation</a>"}], "answers": [{"comments": [{"owner": {"reputation": 78982, "user_id": 1848654, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/84180c0f3c9c04f8b8f0613fc0129dac?s=128&d=identicon&r=PG", "display_name": "melpomene", "link": "https://stackoverflow.com/users/1848654/melpomene"}, "edited": false, "score": 0, "creation_date": 1437235556, "post_id": 31492998, "comment_id": 50949405, "body": "You want <code>decode_json</code>, not <code>from_json</code> (or <code>decoded_content</code> instead of <code>content</code>)."}, {"owner": {"reputation": 78982, "user_id": 1848654, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/84180c0f3c9c04f8b8f0613fc0129dac?s=128&d=identicon&r=PG", "display_name": "melpomene", "link": "https://stackoverflow.com/users/1848654/melpomene"}, "edited": false, "score": 0, "creation_date": 1437235862, "post_id": 31492998, "comment_id": 50949502, "body": "What different effects?"}, {"owner": {"reputation": 123805, "user_id": 622310, "user_type": "registered", "accept_rate": 33, "profile_image": "https://www.gravatar.com/avatar/8b6d35219e1808520bc238b28161e2e6?s=128&d=identicon&r=PG", "display_name": "Borodin", "link": "https://stackoverflow.com/users/622310/borodin"}, "reply_to_user": {"reputation": 78982, "user_id": 1848654, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/84180c0f3c9c04f8b8f0613fc0129dac?s=128&d=identicon&r=PG", "display_name": "melpomene", "link": "https://stackoverflow.com/users/1848654/melpomene"}, "edited": false, "score": 0, "creation_date": 1437236002, "post_id": 31492998, "comment_id": 50949556, "body": "@melpomene: <code>decoded_content</code> returns the body of the message decompressed according to the method specified in the <code>Content-Encoding</code> HTTP header. <code>decode_json</code> decodes a UTF-8-encoded JSON string. Neither are applicable here"}, {"owner": {"reputation": 78982, "user_id": 1848654, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/84180c0f3c9c04f8b8f0613fc0129dac?s=128&d=identicon&r=PG", "display_name": "melpomene", "link": "https://stackoverflow.com/users/1848654/melpomene"}, "edited": false, "score": 1, "creation_date": 1437236347, "post_id": 31492998, "comment_id": 50949669, "body": "Not quite true; <code>decoded_content</code> also decodes text according to the content <a href=\"https://metacpan.org/pod/HTTP::Message#mess-content_charset\" rel=\"nofollow noreferrer\"><code>charset</code></a>. The point is that JSON-over-HTTP is almost universally UTF-8 encoded and you somehow need to handle that <code>content</code> returns bytestrings but <code>from_json</code> takes unicode text."}, {"owner": {"reputation": 78982, "user_id": 1848654, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/84180c0f3c9c04f8b8f0613fc0129dac?s=128&d=identicon&r=PG", "display_name": "melpomene", "link": "https://stackoverflow.com/users/1848654/melpomene"}, "edited": false, "score": 0, "creation_date": 1437236661, "post_id": 31492998, "comment_id": 50949779, "body": "<a href=\"https://tools.ietf.org/html/rfc7159#section-8.1\" rel=\"nofollow noreferrer\">tools.ietf.org/html/rfc7159#section-8.1</a> says you&#39;re supposed to use UTF-8, UTF-16, or UTF-32, and I&#39;ve never seen the latter two in the wild."}, {"owner": {"reputation": 123805, "user_id": 622310, "user_type": "registered", "accept_rate": 33, "profile_image": "https://www.gravatar.com/avatar/8b6d35219e1808520bc238b28161e2e6?s=128&d=identicon&r=PG", "display_name": "Borodin", "link": "https://stackoverflow.com/users/622310/borodin"}, "reply_to_user": {"reputation": 78982, "user_id": 1848654, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/84180c0f3c9c04f8b8f0613fc0129dac?s=128&d=identicon&r=PG", "display_name": "melpomene", "link": "https://stackoverflow.com/users/1848654/melpomene"}, "edited": false, "score": 0, "creation_date": 1437237310, "post_id": 31492998, "comment_id": 50949992, "body": "This message has no <code>Content-Encoding</code> header and no <code>charset</code> on the <code>Content-Type</code> header. Even the content type is a simple <code>text&#47;plain</code> instead of <code>application&#47;json</code>. The <code>HTTP::Response</code> object returns <code>US-ASCII</code> as the content charset. Nothing would be gained by your measures, but I will consent to a change to <code>decoded_content</code> as it can&#39;t do any harm unless the message happens to specify an unknown encoding"}], "tags": [], "owner": {"reputation": 123805, "user_id": 622310, "user_type": "registered", "accept_rate": 33, "profile_image": "https://www.gravatar.com/avatar/8b6d35219e1808520bc238b28161e2e6?s=128&d=identicon&r=PG", "display_name": "Borodin", "link": "https://stackoverflow.com/users/622310/borodin"}, "is_accepted": true, "score": 4, "last_activity_date": 1437237419, "last_edit_date": 1437237419, "creation_date": 1437235471, "answer_id": 31492998, "question_id": 31492440, "link": "https://stackoverflow.com/questions/31492440/parsing-this-kind-of-data/31492998#31492998", "title": "Parsing this kind of data", "body": "<p>If you read the <a href=\"https://metacpan.org/pod/HTTP::Response\" rel=\"nofollow\">documentation for <code>HTTP::Response</code></a>, you will see that there is a <code>content</code> method, which will return the content of your HTTP message, and a <code>decoded_content</code> method that does the same but also decompresses the data if it happens to be compressed (in your case the data is uncompressed.)</p>\n\n<p>In this case it looks like the content is encoded as JSON data, so you will also need to load the <a href=\"https://metacpan.org/pod/JSON\" rel=\"nofollow\"><code>JSON</code></a> module to decode it into a Perl data structure</p>\n\n<p>For example</p>\n\n<pre class=\"lang-perl prettyprint-override\"><code>use JSON 'from_json';\n\nmy $content = from_json $response-&gt;decoded_content;\nmy $torrents = $content-&gt;{torrents};\n\nfor my $torrent ( @$torrents ) {\n  say for @$torrent[0,1,2];\n  say '';\n}\n</code></pre>\n\n<h3>output</h3>\n\n<pre class=\"lang-none prettyprint-override\"><code>043CC5FA0C741CDAD9D2E5CC20DF64A4A400FA34\n136\nEpi.S01E03.720p.HDTV.x264-IMMERSE[rarbg]\n\n097AA60280AE3E4BA8741192CB015EE06BD9F992\n200\nEpi.S01E04.HDTV.x264-KILLERS[ettv]\n</code></pre>\n"}], "owner": {"reputation": 5328, "user_id": 1305947, "user_type": "registered", "accept_rate": 81, "profile_image": "https://www.gravatar.com/avatar/660bcd99a216234e04adb27125cbf0a3?s=128&d=identicon&r=PG", "display_name": "Joel G Mathew", "link": "https://stackoverflow.com/users/1305947/joel-g-mathew"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 64, "favorite_count": 0, "accepted_answer_id": 31492998, "answer_count": 1, "score": 0, "last_activity_date": 1437237918, "creation_date": 1437231486, "last_edit_date": 1437237918, "question_id": 31492440, "link": "https://stackoverflow.com/questions/31492440/parsing-this-kind-of-data", "title": "Parsing this kind of data", "body": "<p>I have written a wrapper for an API. Previously I'd worked on simple string-based GET requests to PHP scripts using Perl.</p>\n\n<p>As part of analysing the response, I have to analyse the following data which appears to be an object. Unfortunately, I'm not sure how to extract usable data from this.</p>\n\n<p><code>print Dumper</code> on the data returns this:</p>\n\n<pre><code>$VAR1 = bless( {\n         '_rc' =&gt; '200',\n         '_request' =&gt; bless( {\n                '_uri_canonical' =&gt; bless( do{\\(my $o = 'http://example.com/?list=1&amp;token=h_DQ-3lru6uy_Zy0w-KXGbPm_b9llY3LAAAAALSF1roAAAAANxAtg49JqlUAAAAA')}, 'URI::http' ),\n                '_content'       =&gt; '',\n                '_uri'           =&gt; $VAR1-&gt;{'_request'}{'_uri_canonical'},\n                '_method'        =&gt; 'GET',\n                '_headers'       =&gt; bless( {\n                       'accept-charset' =&gt; 'iso-8859-1,*,utf-8',\n                       'accept'         =&gt; 'image/gif, image/x-xbitmap, image/jpeg, image/pjpeg, image/png, */*',\n                       'cookie'         =&gt; 'GUID=cHoW3DLOljP4K9LzposM',\n                       'user-agent'     =&gt; 'Mozilla/5.0 (Windows; U; Windows NT 5.1; en-US; rv:1.7) Gecko/20041107 Firefox/1.0',\n                       'authorization'  =&gt; 'Basic YWRtaW46bmljb2xl',\n                       'cookie2'        =&gt; '$Version=\"1\"',\n                       '::std_case'     =&gt; {\n                         'cookie' =&gt; 'Cookie',\n                         'cookie2' =&gt; 'Cookie2'\n                               },\n                       'accept-language' =&gt; 'en-US'\n                     }, 'HTTP::Headers' )\n              }, 'HTTP::Request' ),\n         '_headers' =&gt; bless( {\n                'client-peer'   =&gt; 'myip:8085',\n                'content-type'  =&gt; 'text/plain',\n                'cache-control' =&gt; 'no-cache',\n                'connection'    =&gt; 'keep-alive',\n                'client-date'   =&gt; 'Sat, 18 Jul 2015 12:41:00 GMT',\n                '::std_case'    =&gt; {\n                  'client-response-num' =&gt; 'Client-Response-Num',\n                  'set-cookie2'         =&gt; 'Set-Cookie2',\n                  'client-date'         =&gt; 'Client-Date',\n                  'client-peer'         =&gt; 'Client-Peer',\n                  'set-cookie'          =&gt; 'Set-Cookie'\n                },\n                'client-response-num' =&gt; 1,\n                'content-length' =&gt; '8684'\n              }, 'HTTP::Headers' ),\n         '_msg' =&gt; 'OK',\n         '_protocol' =&gt; 'HTTP/1.1',\n         '_content' =&gt; '{\"build\":30470,\"torrents\": [\n            [\"043CC5FA0C741CDAD9D2E5CC20DF64A4A400FA34\",136,\"Epi.S01E03.720p.HDTV.x264-IMMERSE[rarbg]\",690765843,39,26951680,671744,24,0,0,0,\"\",0,1454,0,114,2436,1,663814163,\"\",\"\",\"Stopped\",\"512840d7\",1437022635,0,\"\",\"/mydir/Epi.S01E03.720p.HDTV.x264-IMMERSE[rarbg]\",0,\"0368737A\",false],\n            [\"097AA60280AE3E4BA8741192CB015EE06BD9F992\",200,\"Epi.S01E04.HDTV.x264-KILLERS[ettv]\",221928759,1000,221928759,8890308649,40059,0,0,0,\"\",0,1461,0,4395,65536,-1,0,\"\",\"\",\"Queued Seed\",\"512840d8\",1437022635,1437023190,\"\",\"/mydir/Epi.S01E04.HDTV.x264-KILLERS[ettv]\",0,\"8F52310A\",false]],\n            \"label\": [],\"torrentc\": \"350372445\"\n            ,\"rssfeeds\": []\n            ,\"rssfilters\": []\n            }\n         ',\n         '_msg' =&gt; 'OK',\n         '_protocol' =&gt; 'HTTP/1.1'\n       }, 'HTTP::Response' );\n</code></pre>\n\n<p>I would like to extract each of the following strings from the returned object</p>\n\n<pre><code>097AA60280AE3E4BA8741192CB015EE06BD9F992\n200\nEpi.S01E04.HDTV.x264-KILLERS[ettv]\n</code></pre>\n\n<p>Unfortunately, my understanding of objects in Perl is very elementary.</p>\n\n<p>The original code which returns this data looks like this:</p>\n\n<pre><code>my $ua = LWP::UserAgent-&gt;new();\nmy $response = $ua-&gt;get( $url, @ns_headers );\nprint Dumper($response);\n</code></pre>\n\n<p>How can I work on the strings that of interest?</p>\n"}, {"tags": ["linux", "perl", "csv", "awk"], "comments": [{"owner": {"reputation": 1418, "user_id": 2754695, "user_type": "registered", "accept_rate": 62, "profile_image": "https://www.gravatar.com/avatar/6ae5401c573a88e36c4f3fd6f637db85?s=128&d=identicon&r=PG", "display_name": "Constantin", "link": "https://stackoverflow.com/users/2754695/constantin"}, "edited": false, "score": 0, "creation_date": 1437231913, "post_id": 31492411, "comment_id": 50948358, "body": "how do you differentiate between a newline in your token and a newline that ends the set of tokens?"}, {"owner": {"reputation": 123805, "user_id": 622310, "user_type": "registered", "accept_rate": 33, "profile_image": "https://www.gravatar.com/avatar/8b6d35219e1808520bc238b28161e2e6?s=128&d=identicon&r=PG", "display_name": "Borodin", "link": "https://stackoverflow.com/users/622310/borodin"}, "reply_to_user": {"reputation": 1418, "user_id": 2754695, "user_type": "registered", "accept_rate": 62, "profile_image": "https://www.gravatar.com/avatar/6ae5401c573a88e36c4f3fd6f637db85?s=128&d=identicon&r=PG", "display_name": "Constantin", "link": "https://stackoverflow.com/users/2754695/constantin"}, "edited": false, "score": 0, "creation_date": 1437233653, "post_id": 31492411, "comment_id": 50948861, "body": "@Constantin: I think it&#39;s fair to assume that the data may not include newlines"}, {"owner": {"reputation": 155597, "user_id": 1745001, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/99a3ebae89496eb16afe453aae97f5be?s=128&d=identicon&r=PG", "display_name": "Ed Morton", "link": "https://stackoverflow.com/users/1745001/ed-morton"}, "edited": false, "score": 0, "creation_date": 1437317225, "post_id": 31492411, "comment_id": 50967560, "body": "Your expected output doesn&#39;t match you sample input. Where did the spaces before <code>Refer</code> go? Where did <code>great procedure</code> go? If you really want a tool that makes those changes then explain how it&#39;d know to do that."}], "answers": [{"comments": [{"owner": {"reputation": 79, "user_id": 5127920, "user_type": "registered", "accept_rate": 7, "profile_image": "https://www.gravatar.com/avatar/07c09c8813d1b23b93cc7d7c6f30b6a5?s=128&d=identicon&r=PG&f=1", "display_name": "Animesh Sheolikar", "link": "https://stackoverflow.com/users/5127920/animesh-sheolikar"}, "edited": false, "score": 0, "creation_date": 1437310803, "post_id": 31492650, "comment_id": 50965770, "body": "Thanks @Borodin for your answer.But still column in csv contains multiple lines"}, {"owner": {"reputation": 123805, "user_id": 622310, "user_type": "registered", "accept_rate": 33, "profile_image": "https://www.gravatar.com/avatar/8b6d35219e1808520bc238b28161e2e6?s=128&d=identicon&r=PG", "display_name": "Borodin", "link": "https://stackoverflow.com/users/622310/borodin"}, "reply_to_user": {"reputation": 79, "user_id": 5127920, "user_type": "registered", "accept_rate": 7, "profile_image": "https://www.gravatar.com/avatar/07c09c8813d1b23b93cc7d7c6f30b6a5?s=128&d=identicon&r=PG&f=1", "display_name": "Animesh Sheolikar", "link": "https://stackoverflow.com/users/5127920/animesh-sheolikar"}, "edited": false, "score": 0, "creation_date": 1437311006, "post_id": 31492650, "comment_id": 50965818, "body": "@AnimeshSheolikar: Are you working with a file from a Windows system? <code>s&#47;\\R(?!\\d+,)&#47; &#47;g</code> may help. If not, then please post your data on pastebin.com or similar"}, {"owner": {"reputation": 79, "user_id": 5127920, "user_type": "registered", "accept_rate": 7, "profile_image": "https://www.gravatar.com/avatar/07c09c8813d1b23b93cc7d7c6f30b6a5?s=128&d=identicon&r=PG&f=1", "display_name": "Animesh Sheolikar", "link": "https://stackoverflow.com/users/5127920/animesh-sheolikar"}, "edited": false, "score": 0, "creation_date": 1437314139, "post_id": 31492650, "comment_id": 50966665, "body": "Hi @Boroding : i am sending link for file :"}, {"owner": {"reputation": 123805, "user_id": 622310, "user_type": "registered", "accept_rate": 33, "profile_image": "https://www.gravatar.com/avatar/8b6d35219e1808520bc238b28161e2e6?s=128&d=identicon&r=PG", "display_name": "Borodin", "link": "https://stackoverflow.com/users/622310/borodin"}, "reply_to_user": {"reputation": 79, "user_id": 5127920, "user_type": "registered", "accept_rate": 7, "profile_image": "https://www.gravatar.com/avatar/07c09c8813d1b23b93cc7d7c6f30b6a5?s=128&d=identicon&r=PG&f=1", "display_name": "Animesh Sheolikar", "link": "https://stackoverflow.com/users/5127920/animesh-sheolikar"}, "edited": false, "score": 0, "creation_date": 1437315035, "post_id": 31492650, "comment_id": 50966921, "body": "@AnimeshSheolikar: Yes, you have a Windows file there. Are you running your program on Linux?"}, {"owner": {"reputation": 79, "user_id": 5127920, "user_type": "registered", "accept_rate": 7, "profile_image": "https://www.gravatar.com/avatar/07c09c8813d1b23b93cc7d7c6f30b6a5?s=128&d=identicon&r=PG&f=1", "display_name": "Animesh Sheolikar", "link": "https://stackoverflow.com/users/5127920/animesh-sheolikar"}, "edited": false, "score": 0, "creation_date": 1437315496, "post_id": 31492650, "comment_id": 50967024, "body": "I tried both in linux as well as windows.I am doing it manually to as of now since i did not got any sol.so you can see top few records in one line."}, {"owner": {"reputation": 123805, "user_id": 622310, "user_type": "registered", "accept_rate": 33, "profile_image": "https://www.gravatar.com/avatar/8b6d35219e1808520bc238b28161e2e6?s=128&d=identicon&r=PG", "display_name": "Borodin", "link": "https://stackoverflow.com/users/622310/borodin"}, "reply_to_user": {"reputation": 79, "user_id": 5127920, "user_type": "registered", "accept_rate": 7, "profile_image": "https://www.gravatar.com/avatar/07c09c8813d1b23b93cc7d7c6f30b6a5?s=128&d=identicon&r=PG&f=1", "display_name": "Animesh Sheolikar", "link": "https://stackoverflow.com/users/5127920/animesh-sheolikar"}, "edited": false, "score": 0, "creation_date": 1437315781, "post_id": 31492650, "comment_id": 50967137, "body": "@AnimeshSheolikar:  It works fine on Windows. Are you <b>A)</b> Using double quotes instead of single quotes and <b>B)</b> redirecting your output to the new file? It should look like <code>perl -0777 -pe&quot;s&#47;\\n(?!\\d+,)&#47; &#47;g&quot; myfile &gt; newfile</code>"}, {"owner": {"reputation": 79, "user_id": 5127920, "user_type": "registered", "accept_rate": 7, "profile_image": "https://www.gravatar.com/avatar/07c09c8813d1b23b93cc7d7c6f30b6a5?s=128&d=identicon&r=PG&f=1", "display_name": "Animesh Sheolikar", "link": "https://stackoverflow.com/users/5127920/animesh-sheolikar"}, "edited": false, "score": 0, "creation_date": 1437316327, "post_id": 31492650, "comment_id": 50967300, "body": "yes u r write .Thanks @Borodin.u r my saviour.I cant vote bcoz of my reputation sure i ll do it later."}, {"owner": {"reputation": 123805, "user_id": 622310, "user_type": "registered", "accept_rate": 33, "profile_image": "https://www.gravatar.com/avatar/8b6d35219e1808520bc238b28161e2e6?s=128&d=identicon&r=PG", "display_name": "Borodin", "link": "https://stackoverflow.com/users/622310/borodin"}, "reply_to_user": {"reputation": 79, "user_id": 5127920, "user_type": "registered", "accept_rate": 7, "profile_image": "https://www.gravatar.com/avatar/07c09c8813d1b23b93cc7d7c6f30b6a5?s=128&d=identicon&r=PG&f=1", "display_name": "Animesh Sheolikar", "link": "https://stackoverflow.com/users/5127920/animesh-sheolikar"}, "edited": false, "score": 0, "creation_date": 1437318933, "post_id": 31492650, "comment_id": 50968073, "body": "@AnimeshSheolikar: I&#39;m glad to help. I don&#39;t care much about points, but it&#39;s nice to mark a question as having been answered so that others don&#39;t come here thinking help is still required"}], "tags": [], "owner": {"reputation": 123805, "user_id": 622310, "user_type": "registered", "accept_rate": 33, "profile_image": "https://www.gravatar.com/avatar/8b6d35219e1808520bc238b28161e2e6?s=128&d=identicon&r=PG", "display_name": "Borodin", "link": "https://stackoverflow.com/users/622310/borodin"}, "is_accepted": false, "score": 1, "last_activity_date": 1437233142, "creation_date": 1437233142, "answer_id": 31492650, "question_id": 31492411, "link": "https://stackoverflow.com/questions/31492411/how-to-keep-all-data-of-column-in-one-line-together-in-csv/31492650#31492650", "title": "how to keep all data of column in one line together in csv", "body": "<p>Just read the whole file and replace all newlines with spaces if they are not followed by digits and a comma</p>\n\n<pre><code>perl -0777 -pe's/\\n(?!\\d+,)/ /g' myfile\n</code></pre>\n\n<h3>output</h3>\n\n<pre><code>catalog_SID, Note_Text\n584,\"Sample in a Glove Bag only.  Refer to SOP 489-701 for sampling great procedure.\"\n647,\"Do not use hotplate\"\n680,Sample in a Glove Bag\n</code></pre>\n"}, {"tags": [], "owner": {"reputation": 155597, "user_id": 1745001, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/99a3ebae89496eb16afe453aae97f5be?s=128&d=identicon&r=PG", "display_name": "Ed Morton", "link": "https://stackoverflow.com/users/1745001/ed-morton"}, "is_accepted": false, "score": 0, "last_activity_date": 1437316634, "creation_date": 1437316634, "answer_id": 31502338, "question_id": 31492411, "link": "https://stackoverflow.com/questions/31492411/how-to-keep-all-data-of-column-in-one-line-together-in-csv/31502338#31502338", "title": "how to keep all data of column in one line together in csv", "body": "<p>Just keep count of how many quotes have been seen so far and if that number's even put a newline at the end of the current line, otherwise a space char:</p>\n\n<pre><code>$ awk '{ORS=( (c+=gsub(/\"/,\"&amp;\"))%2 ? FS : RS )} 1' file\n**catalog_SID, Note_Text**\n584,\"Sample in a Glove Bag only.  Refer to SOP 489-701 for sampling great procedure.\"\n647,\"Do not use hotplate\"\n680,Sample in a Glove Bag\n</code></pre>\n"}], "owner": {"reputation": 79, "user_id": 5127920, "user_type": "registered", "accept_rate": 7, "profile_image": "https://www.gravatar.com/avatar/07c09c8813d1b23b93cc7d7c6f30b6a5?s=128&d=identicon&r=PG&f=1", "display_name": "Animesh Sheolikar", "link": "https://stackoverflow.com/users/5127920/animesh-sheolikar"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 86, "favorite_count": 0, "answer_count": 2, "score": 1, "last_activity_date": 1437316634, "creation_date": 1437231315, "last_edit_date": 1437238043, "question_id": 31492411, "link": "https://stackoverflow.com/questions/31492411/how-to-keep-all-data-of-column-in-one-line-together-in-csv", "title": "how to keep all data of column in one line together in csv", "body": "<p>I have a csv file which has 2 columns id, notetext.  In second column (notetext), data comes in multiple lines.  What I want is to bring all data in one line.</p>\n\n<p>Here is sample:</p>\n\n<pre><code>**catalog_SID, Note_Text**\n584,\"Sample in a Glove Bag only.  Refer to SOP\n489-701 for sampling\ngreat\nprocedure.\"\n647,\"Do not use\nhotplate\"\n680,Sample in a Glove Bag\n</code></pre>\n\n<p>What I need is all data in notetext in one line like these:</p>\n\n<pre><code>**catalog_SID, Note_Text**\n584,\"Sample in a Glove Bag only.Refer to SOP 489-701 for sampling.\"\n647,\"Do not use hotplate\"\n680,Sample in a Glove Bag\n</code></pre>\n\n<p>Any idea how to accomplish this?</p>\n"}, {"tags": ["c", "perl", "xs"], "comments": [{"owner": {"reputation": 11381, "user_id": 4774918, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/kQQAl.jpg?s=128&g=1", "display_name": "too honest for this site", "link": "https://stackoverflow.com/users/4774918/too-honest-for-this-site"}, "edited": false, "score": 0, "creation_date": 1437220787, "post_id": 31490111, "comment_id": 50945502, "body": "I don&#39;t know Perl (XS), but if tthe language does not provide integers larger than 32 bit, you cannot &quot;use 64 bit integers&quot;. It&#39;s the same as if you have no hammer, you cannot use a hammer. Only way might be to use two 32 bit variables and program the required operations yourself, but that is not trivial. (Sidenote: <code>U32</code> etc sounds like unsigned, while the term <i>integer</i> normally includes the negative range)"}, {"owner": {"reputation": 9262, "user_id": 124951, "user_type": "registered", "accept_rate": 20, "profile_image": "https://www.gravatar.com/avatar/c46d5911a8fb4ffd5fb8523d56a60de0?s=128&d=identicon&r=PG", "display_name": "salva", "link": "https://stackoverflow.com/users/124951/salva"}, "edited": false, "score": 0, "creation_date": 1494921476, "post_id": 31490111, "comment_id": 75019673, "body": "NVs can represent precisely integers up to 2**53. In practice that is enough in quite a few cases, otherwise use <code>Math::Int64</code> as advised bellow."}], "answers": [{"tags": [], "owner": {"reputation": 113221, "user_id": 100754, "user_type": "registered", "accept_rate": 90, "profile_image": "https://www.gravatar.com/avatar/7804ebae32fbadef38537d74a915c22f?s=128&d=identicon&r=PG", "display_name": "Sinan &#220;n&#252;r", "link": "https://stackoverflow.com/users/100754/sinan-%c3%9cn%c3%bcr"}, "is_accepted": false, "score": 4, "last_activity_date": 1437221804, "last_edit_date": 1592644375, "creation_date": 1437221467, "answer_id": 31491013, "question_id": 31490111, "link": "https://stackoverflow.com/questions/31490111/using-64-bits-integers-with-perl-xs/31491013#31491013", "title": "Using 64 bits integers with Perl XS", "body": "<pre><code>$ perl -MConfig -le 'print $Config{use64bitint}'\n</code></pre>\n<p>will show if your <code>perl</code> was compiled to use 64 bit integers. If so, IV is 64-bit.</p>\n<p>See also <a href=\"https://metacpan.org/pod/perlguts#What-is-an-IV\" rel=\"nofollow noreferrer\">perldoc perlguts</a>:</p>\n<blockquote>\n<h3>What is an &quot;IV&quot;?</h3>\n<p>Perl uses a special typedef IV which is a simple signed integer type that is guaranteed to be large enough to hold a pointer (as well as an integer). Additionally, there is the UV, which is simply an unsigned IV.</p>\n<p>Perl also uses two special typedefs, I32 and I16, which will always be at least 32-bits and 16-bits long, respectively. (Again, there are U32 and U16, as well.) They will usually be exactly 32 and 16 bits long, but on Crays they will both be 64 bits.</p>\n</blockquote>\n<p>See also <a href=\"https://metacpan.org/pod/Math::Int64\" rel=\"nofollow noreferrer\">Math::Int64</a>:</p>\n<blockquote>\n<p>This module adds support for 64 bit integers, signed and unsigned, to Perl.</p>\n<p>...</p>\n<h3>Fallback to native 64bit support if available</h3>\n<p>If the lexical pragma <code>Math::Int64::native_if_available</code> is used in your program and the version of perl in use has native support for 64bit integers, the functions imported from the module that create 64bit integers (i.e. <code>uint64</code>, <code>int64</code>, <code>string_to_int64</code>, <code>native_to_int64</code>, etc.) will return regular perl scalars.</p>\n</blockquote>\n"}, {"tags": [], "owner": {"reputation": 34922, "user_id": 586873, "user_type": "registered", "accept_rate": 95, "profile_image": "https://www.gravatar.com/avatar/11ba1f932f0af556969448ffba230d9a?s=128&d=identicon&r=PG", "display_name": "Grzegorz Szpetkowski", "link": "https://stackoverflow.com/users/586873/grzegorz-szpetkowski"}, "is_accepted": false, "score": 5, "last_activity_date": 1437302771, "last_edit_date": 1437302771, "creation_date": 1437223568, "answer_id": 31491303, "question_id": 31490111, "link": "https://stackoverflow.com/questions/31490111/using-64-bits-integers-with-perl-xs/31491303#31491303", "title": "Using 64 bits integers with Perl XS", "body": "<p>The <code>uint64_t</code> type is not defined in default <code>typemap</code>, that comes with Perl distribution. According to <a href=\"http://perldoc.perl.org/perlxstypemap.html\" rel=\"nofollow\"><code>perlxstypemap</code></a>:</p>\n\n<blockquote>\n  <p>In more practical terms, the typemap is a collection of code fragments\n  which are used by the <code>xsubpp</code> compiler to map C function parameters and\n  values to Perl values.</p>\n</blockquote>\n\n<p>You can define your own <code>typemap</code> (in the same directory as <code>.xs</code> file). It might look like:</p>\n\n<pre><code>TYPEMAP\nunsigned long long T_U_LONG_LONG\nuint64_t T_U_LONG_LONG              # equivalent to typedef unsigned long long uint64_t;\n\nINPUT\nT_U_LONG_LONG\n    $var = (unsigned long long)SvUV($arg)\n\nOUTPUT\nT_U_LONG_LONG\n    sv_setuv($arg, (UV)$var);\n</code></pre>\n\n<p>I am not sure about these mappings, especially <code>SvUV</code> and <code>UV</code> part, so you need to test it carefully in any real code. I suspect that they are just \"plain\" integers, thus <code>uint64_t</code> is fully functional only for internal usage, that is within function's definition.</p>\n\n<p>Note that <code>unsigned long long</code> type is <em>at least</em> 64-bits wide according to C Standard (since C99), but it's 64-bit on every implementation I am aware of.</p>\n\n<p>With <code>test.xs</code> as:</p>\n\n<pre><code>#include \"EXTERN.h\"\n#include \"perl.h\"\n#include \"XSUB.h\"\n#include \"ppport.h\"\n\nMODULE = test       PACKAGE = test\n\nunsigned int\nu64_mul_high(a, b)\n    unsigned int a\n    unsigned int b\nCODE:\n    RETVAL = ((uint64_t) a * b) &gt;&gt; 32;\nOUTPUT:\n    RETVAL\n</code></pre>\n\n<p>and <code>test.pl</code> defined as:</p>\n\n<pre><code>#!/usr/bin/perl\nuse ExtUtils::testlib;\nuse test;\n\nprint test::u64_mul_high(2147483647, 1000), \"\\n\";\n</code></pre>\n\n<p>you get an result of:</p>\n\n<pre><code>499 (0001 1111 0011)\n</code></pre>\n\n<p>that is higher 32-bit limb of an <code>32-bit x 32-bit</code> multiplication that results into 64-bit integer.</p>\n\n<p>I checked this on 32-bit GNU/Linux with <code>sizeof(long) = 4</code> and Perl 5.10.</p>\n"}, {"tags": [], "owner": {"reputation": 28131, "user_id": 1956010, "user_type": "registered", "accept_rate": 83, "profile_image": "https://www.gravatar.com/avatar/bfdcb4596e9da98cccbf9a0069fdff6c?s=128&d=identicon&r=PG", "display_name": "nwellnhof", "link": "https://stackoverflow.com/users/1956010/nwellnhof"}, "is_accepted": false, "score": 5, "last_activity_date": 1490029190, "last_edit_date": 1490029190, "creation_date": 1437300563, "answer_id": 31500089, "question_id": 31490111, "link": "https://stackoverflow.com/questions/31490111/using-64-bits-integers-with-perl-xs/31500089#31500089", "title": "Using 64 bits integers with Perl XS", "body": "<p>Perl's internal type for unsigned integers is <code>UV</code>. If your platform has 64-bit UVs, you should be fine.</p>\n\n<p>With 32-bit UVs (32-bit OS and Perl was compiled without use64bitint), you can convert large integers to and from floating point numbers (<code>NV</code> which is typically a <code>double</code>). But since IEEE doubles only have 53 bits of mantissa, this will cause a loss of precision for large numbers.</p>\n\n<pre class=\"lang-c prettyprint-override\"><code>uint64_t integer;\n\n// Convert uint64_t to SV.\n\nif (integer &lt;= UV_MAX) {\n    RETVAL = newSVuv((UV)integer);\n}\nelse {\n    RETVAL = newSVnv((NV)integer);\n}\n\n// Convert SV to uint64_t with range checks.\n\nif (SvUOK(sv)) {\n    integer = (uint64_t)SvUV(sv);\n}\nelse if (SvIOK(sv)) {\n    IV iv = SvIV(sv);\n    if (iv &lt; 0) croak(...);\n    integer = (uint64_t)iv;\n}\nelse if (SvNOK(sv)) {\n    NV nv = SvNV(sv);\n    if (nv &lt; 0.0 || nv &gt;= 18446744073709551616.0) croak(...);\n    integer = (uint64_t)nv;\n}\nelse {\n    // Parse a uint64_t from the string value, or whatever.\n}\n</code></pre>\n\n<p>If you can't live with loss of precision and want to support 32-bit UVs, you can use the <a href=\"https://metacpan.org/pod/Math::Int64#C-API\" rel=\"nofollow noreferrer\">C API</a> of <code>Math::Int64</code> (also see <a href=\"https://metacpan.org/pod/Module::CAPIMaker#USAGE-OF-THE-C-API-FROM-OTHER-MODULES\" rel=\"nofollow noreferrer\"><code>Module::CAPIMaker</code></a>):</p>\n\n<pre><code>#define MATH_INT64_NATIVE_IF_AVAILABLE\n#include \"perl_math_int64.h\"\n\nMODULE = ...\n\nBOOT:\n    PERL_MATH_INT64_LOAD_OR_CROAK;\n\nSV*\nfoo(args...)\nCODE:\n    uint64_t integer = ...\n    RETVAL = newSVu64(integer);\nOUTPUT:\n    RETVAL\n</code></pre>\n\n<p>With a typemap like</p>\n\n<pre><code>TYPEMAP\nuint64_t T_UINT64\n\nINPUT\nT_UINT64\n    $var = SvU64($arg)\n\nOUTPUT\nT_UINT64\n    $arg = newSVu64($var);\n</code></pre>\n\n<p>you can use <code>uint64_t</code> directly in your XS:</p>\n\n<pre><code>uint64_t\nfoo(arg)\n    uint64_t arg\n</code></pre>\n"}], "owner": {"reputation": 61, "user_id": 3573115, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/5e1af6270cda1438cae02881cabc5d26?s=128&d=identicon&r=PG&f=1", "display_name": "Tosh", "link": "https://stackoverflow.com/users/3573115/tosh"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 748, "favorite_count": 0, "answer_count": 3, "score": 6, "last_activity_date": 1490029190, "creation_date": 1437214735, "last_edit_date": 1437215051, "question_id": 31490111, "link": "https://stackoverflow.com/questions/31490111/using-64-bits-integers-with-perl-xs", "title": "Using 64 bits integers with Perl XS", "body": "<p>I want to port a C function using 64 bits integers to Perl code. To do that, I use Perl XS.</p>\n\n<p>My problem is there are no 64 bits integers in Perl XS types (only U32, U16 and U8).</p>\n\n<p>So, what is the best way to use 64 bit integers in Perl XS code?</p>\n\n<p>Here is a code example of what I want to do:</p>\n\n<pre><code>uint64_t\nfoo(integer)\n   uint64_t integer\n\n   CODE:\n      RETVAL = foo(integer);\n\n   OUTPUT:\n      RETVAL\n</code></pre>\n\n<p>foo() has the C prototype:</p>\n\n<pre><code>uint64_t foo(uint64_t);\n</code></pre>\n\n<p>I didn't find anything useful in the perlxs documentation and in stackoverflow.com.</p>\n"}, {"tags": ["perl"], "comments": [{"owner": {"reputation": 198290, "user_id": 1030675, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/957956ce51706d03f19a4dc85a767bb1?s=128&d=identicon&r=PG", "display_name": "choroba", "link": "https://stackoverflow.com/users/1030675/choroba"}, "edited": false, "score": 1, "creation_date": 1437203676, "post_id": 31488329, "comment_id": 50941810, "body": "Definitely doable, but without details, it&#39;s hard to say more."}, {"owner": {"reputation": 32176, "user_id": 2173773, "user_type": "registered", "accept_rate": 86, "profile_image": "https://i.stack.imgur.com/M8yh6.jpg?s=128&g=1", "display_name": "H&#229;kon H&#230;gland", "link": "https://stackoverflow.com/users/2173773/h%c3%a5kon-h%c3%a6gland"}, "edited": false, "score": 0, "creation_date": 1437211620, "post_id": 31488329, "comment_id": 50943346, "body": "If you need to extract data from a HTML file, you should probably use a dedicated parser, see <a href=\"http://radar.oreilly.com/2014/02/parsing-html-with-perl-2.html\" rel=\"nofollow noreferrer\">radar.oreilly.com/2014/02/parsing-html-with-perl-2.html</a>"}], "answers": [{"comments": [{"owner": {"reputation": 2877, "user_id": 3553494, "user_type": "registered", "accept_rate": 76, "profile_image": "https://i.stack.imgur.com/ZoUgd.png?s=128&g=1", "display_name": "HixField", "link": "https://stackoverflow.com/users/3553494/hixfield"}, "edited": false, "score": 0, "creation_date": 1437318934, "post_id": 31495038, "comment_id": 50968074, "body": "thanks currently travelling but will try this and build further on it!"}], "tags": [], "owner": {"reputation": 369, "user_id": 4440690, "user_type": "registered", "profile_image": "https://lh6.googleusercontent.com/-G2j3g5MlOr0/AAAAAAAAAAI/AAAAAAAAACc/sfvUuoAgu6M/photo.jpg?sz=128", "display_name": "Oleg Komarov", "link": "https://stackoverflow.com/users/4440690/oleg-komarov"}, "is_accepted": true, "score": 2, "last_activity_date": 1437249436, "creation_date": 1437249436, "answer_id": 31495038, "question_id": 31488329, "link": "https://stackoverflow.com/questions/31488329/leave-only-nth-text-between-two-marker-strings/31495038#31495038", "title": "Leave only Nth text between two marker strings", "body": "<p>Assuming your file is really that simple and doesn't have any other h1 tags, this probably should work:</p>\n\n<pre><code>use strict;\nuse warnings;\nuse open qw(:std :encoding(utf8));\n\nopen my $input, '&lt;', 'data.html';\nmy $content = join '', &lt;$input&gt;;\nclose $input;\n\nmy @parts = split /&lt;\\/?h1&gt;/, $content;\nmy $top_text_and_styles = shift @parts;\nmy $count = 0;\nwhile (my ($topic, $body) = splice @parts, 0, 2) {\n    my $topic_content = join \"\", $top_text_and_styles, $topic, $body;\n    $count += 1;\n    my $output_name = \"topic${count}.html\";\n    open my $output, '&gt;', $output_name;\n    print $output $topic_content;\n    close $output;\n}\n</code></pre>\n"}], "owner": {"reputation": 2877, "user_id": 3553494, "user_type": "registered", "accept_rate": 76, "profile_image": "https://i.stack.imgur.com/ZoUgd.png?s=128&g=1", "display_name": "HixField", "link": "https://stackoverflow.com/users/3553494/hixfield"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 51, "favorite_count": 0, "accepted_answer_id": 31495038, "answer_count": 1, "score": 0, "last_activity_date": 1437249436, "creation_date": 1437199603, "last_edit_date": 1437211530, "question_id": 31488329, "link": "https://stackoverflow.com/questions/31488329/leave-only-nth-text-between-two-marker-strings", "title": "Leave only Nth text between two marker strings", "body": "<p>I am working on Mac os and am looking for the most elegant solution for the below problem. Since it purely text related I thought perl would be the best choice?</p>\n\n<ul>\n<li>I have a data file on disk eg data.html (does not matter its html)</li>\n<li>It contains Chinese characters (so file is utf8 encoded I believe)</li>\n<li><p>Its structure is like this:</p>\n\n<pre><code>Some top text\nSome too text\nSome top styles text\n&lt;h1&gt;Topic 1 text&lt;/h1&gt;\nSome text that is applicable to topic 1 with formatting...\n&lt;h1&gt;Topic 2 title&lt;/h1&gt;\nSome text applicable to topic 2...\n</code></pre></li>\n</ul>\n\n<p>I want to write a file for each topic that contains the top text and styles. So input os data.html output is topic1.html, topic2.html...</p>\n"}, {"tags": ["perl", "string-matching"], "comments": [{"owner": {"reputation": 32176, "user_id": 2173773, "user_type": "registered", "accept_rate": 86, "profile_image": "https://i.stack.imgur.com/M8yh6.jpg?s=128&g=1", "display_name": "H&#229;kon H&#230;gland", "link": "https://stackoverflow.com/users/2173773/h%c3%a5kon-h%c3%a6gland"}, "edited": false, "score": 0, "creation_date": 1437163893, "post_id": 31483904, "comment_id": 50933003, "body": "<code>if (grep {$_ eq $columns[2]} qw (string1 string2 string3)) {} </code>"}, {"owner": {"reputation": 1858, "user_id": 4799193, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/a87fb12a6ad909323fb42a48e78b3f28?s=128&d=identicon&r=PG&f=1", "display_name": "ramana_k", "link": "https://stackoverflow.com/users/4799193/ramana-k"}, "edited": false, "score": 0, "creation_date": 1437164055, "post_id": 31483904, "comment_id": 50933076, "body": "If the string&#39;s are similar looking, you may explore a regex that represents a match of those strings"}], "answers": [{"comments": [{"owner": {"reputation": 52334, "user_id": 702638, "user_type": "registered", "accept_rate": 98, "profile_image": "https://www.gravatar.com/avatar/892f65bc0a8a0949ab88598de7d83cab?s=128&d=identicon&r=PG", "display_name": "Hunter McMillen", "link": "https://stackoverflow.com/users/702638/hunter-mcmillen"}, "reply_to_user": {"reputation": 21782, "user_id": 176646, "user_type": "registered", "accept_rate": 88, "profile_image": "https://i.stack.imgur.com/HsQyV.png?s=128&g=1", "display_name": "ThisSuitIsBlackNot", "link": "https://stackoverflow.com/users/176646/thissuitisblacknot"}, "edited": false, "score": 0, "creation_date": 1437164153, "post_id": 31483931, "comment_id": 50933118, "body": "@ThisSuitIsBlackNot Nope, <code>any</code> makes more sense."}, {"owner": {"reputation": 21782, "user_id": 176646, "user_type": "registered", "accept_rate": 88, "profile_image": "https://i.stack.imgur.com/HsQyV.png?s=128&g=1", "display_name": "ThisSuitIsBlackNot", "link": "https://stackoverflow.com/users/176646/thissuitisblacknot"}, "edited": false, "score": 0, "creation_date": 1437164551, "post_id": 31483931, "comment_id": 50933299, "body": "Yeah, if you use <code>first</code> you should probably check that <code>$element_exists</code> is defined in case it matched a falsey value; <code>any</code> always returns a boolean."}], "tags": [], "owner": {"reputation": 52334, "user_id": 702638, "user_type": "registered", "accept_rate": 98, "profile_image": "https://www.gravatar.com/avatar/892f65bc0a8a0949ab88598de7d83cab?s=128&d=identicon&r=PG", "display_name": "Hunter McMillen", "link": "https://stackoverflow.com/users/702638/hunter-mcmillen"}, "is_accepted": true, "score": 6, "last_activity_date": 1437164652, "last_edit_date": 1437164652, "creation_date": 1437163816, "answer_id": 31483931, "question_id": 31483904, "link": "https://stackoverflow.com/questions/31483904/in-perl-how-can-i-match-one-string-against-a-list-of-other-strings/31483931#31483931", "title": "In Perl, how can I match one string against a list of other strings?", "body": "<p>This is exactly what <a href=\"http://perldoc.perl.org/search.html?q=grep\" rel=\"nofollow\"><code>grep</code></a> is for: </p>\n\n<pre><code>my $element_exists = \n   grep { $columns[2] eq $_ } qw(string1 string2 ... stringN);\n</code></pre>\n\n<p>An alternative would be to use <a href=\"http://perldoc.perl.org/List/Util.html#first\" rel=\"nofollow\"><code>first</code></a>, which will stop processing once it finds a match. This way if you first string matches <code>$columns[2]</code> you don't have to compare the remaining n-1 strings:</p>\n\n<pre><code>use List::Util qw/first/;\n\nmy $element_exists = \n   defined first { $columns[2] eq $_ } qw(string1 string2 ... stringN);\n</code></pre>\n\n<p>You could also you <a href=\"http://perldoc.perl.org/List/Util.html#any\" rel=\"nofollow\"><code>any</code></a> (as @ThisSuitIsBlackNot suggests below) for this purpose, the slight difference being that first returns the value of the element that matches the condition, any returns a boolean:</p>\n\n<pre><code>use List::Util qw/any/;\n\nmy $element_exists = \n   any { $columns[2] eq $_ } qw(string1 string2 ... stringN);\n</code></pre>\n"}, {"comments": [{"owner": {"reputation": 65, "user_id": 4833027, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/ED2eV.png?s=128&g=1", "display_name": "Nathan Peterson", "link": "https://stackoverflow.com/users/4833027/nathan-peterson"}, "edited": false, "score": 0, "creation_date": 1586358795, "post_id": 31484009, "comment_id": 108100558, "body": "That should be:&quot;if( $columns[2] =~ /^($string1|$string2|$string3)$/&quot;  Otherwise it will match string2 as a substring"}], "tags": [], "owner": {"reputation": 37, "user_id": 5119846, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/801ad618315b8bafa4fe1a7f8470da50?s=128&d=identicon&r=PG&f=1", "display_name": "Matan P", "link": "https://stackoverflow.com/users/5119846/matan-p"}, "is_accepted": false, "score": 0, "last_activity_date": 1437164147, "creation_date": 1437164147, "answer_id": 31484009, "question_id": 31483904, "link": "https://stackoverflow.com/questions/31483904/in-perl-how-can-i-match-one-string-against-a-list-of-other-strings/31484009#31484009", "title": "In Perl, how can I match one string against a list of other strings?", "body": "<p>You can use regex. if( $columns[2] =~ /^$string1|$string2|$string3$/</p>\n\n<p>Make sure to use the ^ and $ to make sure that $string1,2 or 3 is not just contained in $columns[2].</p>\n"}], "owner": {"reputation": 59, "user_id": 4013285, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/a789188f947af970dc1474db57d14640?s=128&d=identicon&r=PG&f=1", "display_name": "Matthew", "link": "https://stackoverflow.com/users/4013285/matthew"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 887, "favorite_count": 0, "closed_date": 1437165451, "accepted_answer_id": 31483931, "answer_count": 2, "score": 1, "last_activity_date": 1437165220, "creation_date": 1437163670, "last_edit_date": 1437163952, "question_id": 31483904, "link": "https://stackoverflow.com/questions/31483904/in-perl-how-can-i-match-one-string-against-a-list-of-other-strings", "closed_reason": "Duplicate", "title": "In Perl, how can I match one string against a list of other strings?", "body": "<p>I want to check an element in an array, <code>$columns[2]</code>, against a small list of strings. The way I have it now is; </p>\n\n<pre><code>if (   $columns[2] eq 'string1' \n    || $columns[2] eq 'string2' \n    || $columns[2] eq 'string3' \n    || ...) { \n   ...\n}\n</code></pre>\n\n<p>It seems there must be a better way than all the OR's. </p>\n"}, {"tags": ["perl", "cgi"], "comments": [{"owner": {"reputation": 21782, "user_id": 176646, "user_type": "registered", "accept_rate": 88, "profile_image": "https://i.stack.imgur.com/HsQyV.png?s=128&g=1", "display_name": "ThisSuitIsBlackNot", "link": "https://stackoverflow.com/users/176646/thissuitisblacknot"}, "edited": false, "score": 3, "creation_date": 1437159160, "post_id": 31482705, "comment_id": 50930713, "body": "Does the webserver user have read permissions on <code>conn.pm</code> and all of the directories in the path?"}, {"owner": {"reputation": 10720, "user_id": 527312, "user_type": "registered", "accept_rate": 73, "profile_image": "https://i.stack.imgur.com/IHufc.jpg?s=128&g=1", "display_name": "ktm5124", "link": "https://stackoverflow.com/users/527312/ktm5124"}, "reply_to_user": {"reputation": 21782, "user_id": 176646, "user_type": "registered", "accept_rate": 88, "profile_image": "https://i.stack.imgur.com/HsQyV.png?s=128&g=1", "display_name": "ThisSuitIsBlackNot", "link": "https://stackoverflow.com/users/176646/thissuitisblacknot"}, "edited": false, "score": 2, "creation_date": 1437159420, "post_id": 31482705, "comment_id": 50930871, "body": "Yeah, <code>conn.pm</code> has permissions <code>rwxr-xr-x</code>, and every directory in its path has the same permissions."}, {"owner": {"reputation": 51391, "user_id": 132382, "user_type": "registered", "accept_rate": 98, "profile_image": "https://www.gravatar.com/avatar/20fc7ee8f405aa42e36eb73e841e5a36?s=128&d=identicon&r=PG", "display_name": "pilcrow", "link": "https://stackoverflow.com/users/132382/pilcrow"}, "edited": false, "score": 0, "creation_date": 1437160094, "post_id": 31482705, "comment_id": 50931186, "body": "What does <code>-e &quot;&#47;www&#47;my&#47;lib&#47;conn.pm&quot;</code> tell you, if run within the CGI environment?"}, {"owner": {"reputation": 320771, "user_id": 589924, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/b2cf53d5a3d25f95c0db4e025aed4153?s=128&d=identicon&r=PG", "display_name": "ikegami", "link": "https://stackoverflow.com/users/589924/ikegami"}, "edited": false, "score": 0, "creation_date": 1437160130, "post_id": 31482705, "comment_id": 50931211, "body": "What&#39;s the output of <a href=\"http://pastebin.com/7pUtuDG0\" rel=\"nofollow noreferrer\">this CGI script</a>"}, {"owner": {"reputation": 10720, "user_id": 527312, "user_type": "registered", "accept_rate": 73, "profile_image": "https://i.stack.imgur.com/IHufc.jpg?s=128&g=1", "display_name": "ktm5124", "link": "https://stackoverflow.com/users/527312/ktm5124"}, "reply_to_user": {"reputation": 51391, "user_id": 132382, "user_type": "registered", "accept_rate": 98, "profile_image": "https://www.gravatar.com/avatar/20fc7ee8f405aa42e36eb73e841e5a36?s=128&d=identicon&r=PG", "display_name": "pilcrow", "link": "https://stackoverflow.com/users/132382/pilcrow"}, "edited": false, "score": 0, "creation_date": 1437161108, "post_id": 31482705, "comment_id": 50931660, "body": "@pilcrow what does it mean to run it within the CGI environment? I haven&#39;t worked with CGI before."}, {"owner": {"reputation": 10720, "user_id": 527312, "user_type": "registered", "accept_rate": 73, "profile_image": "https://i.stack.imgur.com/IHufc.jpg?s=128&g=1", "display_name": "ktm5124", "link": "https://stackoverflow.com/users/527312/ktm5124"}, "reply_to_user": {"reputation": 320771, "user_id": 589924, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/b2cf53d5a3d25f95c0db4e025aed4153?s=128&d=identicon&r=PG", "display_name": "ikegami", "link": "https://stackoverflow.com/users/589924/ikegami"}, "edited": false, "score": 0, "creation_date": 1437161670, "post_id": 31482705, "comment_id": 50931937, "body": "@ikegami I included the output in my post. I removed the <code>ls -ld</code> command but kept the rest of the script."}, {"owner": {"reputation": 10720, "user_id": 527312, "user_type": "registered", "accept_rate": 73, "profile_image": "https://i.stack.imgur.com/IHufc.jpg?s=128&g=1", "display_name": "ktm5124", "link": "https://stackoverflow.com/users/527312/ktm5124"}, "edited": false, "score": 0, "creation_date": 1437161829, "post_id": 31482705, "comment_id": 50932026, "body": "Okay. I&#39;ll add it back in. The whole <code>&#47;www&#47;my&#47;lib</code> path is actually a substitution for my employer&#39;s domain name. That&#39;s why I removed it. I&#39;ll substitute it with the domain name."}, {"owner": {"reputation": 10720, "user_id": 527312, "user_type": "registered", "accept_rate": 73, "profile_image": "https://i.stack.imgur.com/IHufc.jpg?s=128&g=1", "display_name": "ktm5124", "link": "https://stackoverflow.com/users/527312/ktm5124"}, "reply_to_user": {"reputation": 320771, "user_id": 589924, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/b2cf53d5a3d25f95c0db4e025aed4153?s=128&d=identicon&r=PG", "display_name": "ikegami", "link": "https://stackoverflow.com/users/589924/ikegami"}, "edited": false, "score": 0, "creation_date": 1437162620, "post_id": 31482705, "comment_id": 50932416, "body": "@ikegami i see what you are saying. I updated my post again to point out my index page, which redirects to the <code>login.cgi</code> script. Does my new update shed any light on the issue?"}, {"owner": {"reputation": 10720, "user_id": 527312, "user_type": "registered", "accept_rate": 73, "profile_image": "https://i.stack.imgur.com/IHufc.jpg?s=128&g=1", "display_name": "ktm5124", "link": "https://stackoverflow.com/users/527312/ktm5124"}, "edited": false, "score": 0, "creation_date": 1437162835, "post_id": 31482705, "comment_id": 50932519, "body": "The issue is this: When I open index.html in my web browser, I get the error message I first alluded to in my post, <code>Can&#39;t locate conn.pm in @INC (@INC contains: &#47;www&#47;my&#47;lib, etc.)</code>."}, {"owner": {"reputation": 21782, "user_id": 176646, "user_type": "registered", "accept_rate": 88, "profile_image": "https://i.stack.imgur.com/HsQyV.png?s=128&g=1", "display_name": "ThisSuitIsBlackNot", "link": "https://stackoverflow.com/users/176646/thissuitisblacknot"}, "edited": false, "score": 0, "creation_date": 1437162856, "post_id": 31482705, "comment_id": 50932527, "body": "When you ran ikegami&#39;s script, did you run it as the webserver user or as yourself?"}, {"owner": {"reputation": 10720, "user_id": 527312, "user_type": "registered", "accept_rate": 73, "profile_image": "https://i.stack.imgur.com/IHufc.jpg?s=128&g=1", "display_name": "ktm5124", "link": "https://stackoverflow.com/users/527312/ktm5124"}, "edited": false, "score": 0, "creation_date": 1437162892, "post_id": 31482705, "comment_id": 50932548, "body": "I ran it as myself, not as the webserver user. How can I figure out who the webserver user is?"}, {"owner": {"reputation": 320771, "user_id": 589924, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/b2cf53d5a3d25f95c0db4e025aed4153?s=128&d=identicon&r=PG", "display_name": "ikegami", "link": "https://stackoverflow.com/users/589924/ikegami"}, "edited": false, "score": 1, "creation_date": 1437162916, "post_id": 31482705, "comment_id": 50932563, "body": "It&#39;s a CGI script. Point your browser to it. If you want to do any substitutions in what you show us, consistently replace all instances of each word for another word (e.g. all meow.com =&gt; foo.com, all admin =&gt; someuser)"}, {"owner": {"reputation": 10720, "user_id": 527312, "user_type": "registered", "accept_rate": 73, "profile_image": "https://i.stack.imgur.com/IHufc.jpg?s=128&g=1", "display_name": "ktm5124", "link": "https://stackoverflow.com/users/527312/ktm5124"}, "reply_to_user": {"reputation": 320771, "user_id": 589924, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/b2cf53d5a3d25f95c0db4e025aed4153?s=128&d=identicon&r=PG", "display_name": "ikegami", "link": "https://stackoverflow.com/users/589924/ikegami"}, "edited": false, "score": 0, "creation_date": 1437163760, "post_id": 31482705, "comment_id": 50932939, "body": "@ikegami When I point my browser to your script I get an Internal Server Error. <code>The server encountered an internal error or misconfiguration and was unable to complete your request.</code>"}, {"owner": {"reputation": 10720, "user_id": 527312, "user_type": "registered", "accept_rate": 73, "profile_image": "https://i.stack.imgur.com/IHufc.jpg?s=128&g=1", "display_name": "ktm5124", "link": "https://stackoverflow.com/users/527312/ktm5124"}, "reply_to_user": {"reputation": 320771, "user_id": 589924, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/b2cf53d5a3d25f95c0db4e025aed4153?s=128&d=identicon&r=PG", "display_name": "ikegami", "link": "https://stackoverflow.com/users/589924/ikegami"}, "edited": false, "score": 0, "creation_date": 1437163787, "post_id": 31482705, "comment_id": 50932952, "body": "@ikegami Even when I only run the first 6 lines of your script, up to but <b>not</b> including the <code>ls -ld</code> command, I get the internal server error."}, {"owner": {"reputation": 21782, "user_id": 176646, "user_type": "registered", "accept_rate": 88, "profile_image": "https://i.stack.imgur.com/HsQyV.png?s=128&g=1", "display_name": "ThisSuitIsBlackNot", "link": "https://stackoverflow.com/users/176646/thissuitisblacknot"}, "edited": false, "score": 0, "creation_date": 1437167160, "post_id": 31482705, "comment_id": 50934362, "body": "@ktm5124 Check your webserver&#39;s error log to see exactly why you&#39;re getting the error. If you get it only running the first six lines of ikegami&#39;s script, it&#39;s almost certainly a permissions or webserver configuration issue (e.g. the script doesn&#39;t have execute permissions)."}], "owner": {"reputation": 10720, "user_id": 527312, "user_type": "registered", "accept_rate": 73, "profile_image": "https://i.stack.imgur.com/IHufc.jpg?s=128&g=1", "display_name": "ktm5124", "link": "https://stackoverflow.com/users/527312/ktm5124"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 485, "favorite_count": 1, "answer_count": 0, "score": 2, "last_activity_date": 1437162569, "creation_date": 1437158943, "last_edit_date": 1437162569, "question_id": 31482705, "link": "https://stackoverflow.com/questions/31482705/why-cant-perl-find-my-module-in-inc", "title": "Why can&#39;t Perl find my module in @INC?", "body": "<p>I'm running a CGI script (which used to work but stopped working suddenly) and getting the following error message:</p>\n\n<p><code>Can't locate conn.pm in @INC (@INC contains: /www/my/lib, etc.)</code></p>\n\n<p>However, the file <code>conn.pm</code> is stored in the directory <code>/www/my/lib</code>. My CGI script has these lines at the top:</p>\n\n<pre><code>#!/usr/bin/perl -w\nuse strict;\nuse CGI;\nuse CGI::Carp qw(fatalsToBrowser);\nuse CGI qw(:standard);\n\nuse lib \"/www/my/lib\";\nuse conn;\n\n// rest of code here ...\n</code></pre>\n\n<p>Could anyone weigh in on why I might be getting this error message? Because the @INC variable should have <code>/www/my/lib</code>, and <code>conn.pm</code> is located in that directory.</p>\n\n<p><strong>Update:</strong> In answer to a comment below, <code>conn.pm</code> has permissions <code>rwxr-xr-x</code> and every directory in its path has permissions <code>drwxr-xr-x</code>.</p>\n\n<p><strong>Update 2:</strong> In answer to another comment, here is the output from <code>@ikegami's</code> shell script.</p>\n\n<pre><code>$ ./diagnostic.sh\nContent-Type: text/plain\n\nUSER=&lt;user&gt;\nPWD=/home/&lt;user&gt;\n===\n/www/my/lib\n/gedi/dev/lib/perl/BioPerl-1.6.1\n/usr/lib64/perl5/site_perl/5.8.8/x86_64-linux-thread-multi\n/usr/lib/perl5/site_perl/5.8.8\n/usr/lib/perl5/site_perl\n/usr/lib64/perl5/vendor_perl/5.8.8/x86_64-linux-thread-multi\n/usr/lib/perl5/vendor_perl/5.8.8\n/usr/lib/perl5/vendor_perl\n/usr/lib64/perl5/5.8.8/x86_64-linux-thread-multi\n/usr/lib/perl5/5.8.8\n.\n===\n</code></pre>\n\n<p><strong>Update 3:</strong> Okay, when I run my CGI script on its own with Perl it works, per <code>@ikegami's</code> comment. The script is called \"login.cgi\" and when I run <code>perl login.cgi</code> I get no errors.</p>\n\n<p>The problem is when I point a web browser to my index page. The index page has a refresh which does this:</p>\n\n<p><code>&lt;meta HTTP-EQUIV=\"REFRESH\" content=\"0; url=/www/my/cgi/login/login.cgi\"&gt;</code></p>\n\n<p>Could it have anything to do with the index page which redirects to <code>login.cgi</code>?</p>\n"}, {"tags": ["ruby", "perl", "cron"], "comments": [{"owner": {"reputation": 814, "user_id": 1753389, "user_type": "registered", "accept_rate": 14, "profile_image": "https://i.stack.imgur.com/5DPUE.jpg?s=128&g=1", "display_name": "Peter", "link": "https://stackoverflow.com/users/1753389/peter"}, "edited": false, "score": 0, "creation_date": 1437157173, "post_id": 31482131, "comment_id": 50929680, "body": "Just after posting I noticed that /usr/lib/ruby/site_ruby/1.8 is being reference whereas twurl is running under 1.9.3, and 1.9.3 is the default version. I don&#39;t know enough about ruby to know if this could be an issue or how to fix it."}, {"owner": {"reputation": 320771, "user_id": 589924, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/b2cf53d5a3d25f95c0db4e025aed4153?s=128&d=identicon&r=PG", "display_name": "ikegami", "link": "https://stackoverflow.com/users/589924/ikegami"}, "edited": false, "score": 0, "creation_date": 1437157773, "post_id": 31482131, "comment_id": 50930009, "body": "Are you saying <code>$ENV{PATH}</code> includes the path to <code>ruby_executable_hooks</code>? Then it&#39;s probably a permission issue."}, {"owner": {"reputation": 51391, "user_id": 132382, "user_type": "registered", "accept_rate": 98, "profile_image": "https://www.gravatar.com/avatar/20fc7ee8f405aa42e36eb73e841e5a36?s=128&d=identicon&r=PG", "display_name": "pilcrow", "link": "https://stackoverflow.com/users/132382/pilcrow"}, "edited": false, "score": 2, "creation_date": 1437157917, "post_id": 31482131, "comment_id": 50930055, "body": "The <code>cron</code> execution environment is often not what one thinks it is.  What happens if you run a script that is merely <code>id; pwd; env | sort</code> both (a) interactively, and (b) under cron ?  Do you see a difference of significance?"}, {"owner": {"reputation": 814, "user_id": 1753389, "user_type": "registered", "accept_rate": 14, "profile_image": "https://i.stack.imgur.com/5DPUE.jpg?s=128&g=1", "display_name": "Peter", "link": "https://stackoverflow.com/users/1753389/peter"}, "edited": false, "score": 0, "creation_date": 1437252826, "post_id": 31482131, "comment_id": 50954519, "body": "Thank you Carl, ikegami and pilcrow. The output from the command line is too long to show here. I will shorten it and put it in a separate comment. Here is the output from the cron job: HOME=/home/username LANG=C LOGNAME=username MAILTO=cron@servername.com PATH=/usr/bin:/bin PWD=/home/username SHELL=/bin/bash SHLVL=1 USER=username _=/usr/bin/env"}, {"owner": {"reputation": 814, "user_id": 1753389, "user_type": "registered", "accept_rate": 14, "profile_image": "https://i.stack.imgur.com/5DPUE.jpg?s=128&g=1", "display_name": "Peter", "link": "https://stackoverflow.com/users/1753389/peter"}, "edited": false, "score": 0, "creation_date": 1437252840, "post_id": 31482131, "comment_id": 50954523, "body": "Here is a very truncated output from command line. I have removed irrelevant stuff and PATH, which is in next comment. CLASSPATH=.:/usr/local/jdk/lib/classes.zip GEM_HOME=/home/username/.rvm/gems/ruby-1.9.3-p551 GEM_PATH=/home/username/.rvm/gems/ruby-1.9.3-p551:/home/user&zwnj;&#8203;name/.rvm/gems/r\u200c\u200bub&zwnj;&#8203;y-1.9.3-p551@global IRBRC=/home/username/.rvm/rubies/ruby-1.9.3-p551/.irbrc MY_RUBY_HOME=/home/username/.rvm/rubies/ruby-1.9.3-p551 RUBY_VERSION=ruby-1.9.3-p551 rvm_bin_path=/home/username/.rvm/bin rvm_path=/home/username/.rvm rvm_prefix=/home/username rvm_version=1.26.11 (latest)"}, {"owner": {"reputation": 814, "user_id": 1753389, "user_type": "registered", "accept_rate": 14, "profile_image": "https://i.stack.imgur.com/5DPUE.jpg?s=128&g=1", "display_name": "Peter", "link": "https://stackoverflow.com/users/1753389/peter"}, "edited": false, "score": 0, "creation_date": 1437252851, "post_id": 31482131, "comment_id": 50954528, "body": "Here is PATH from command line. PATH=/usr/local/jdk/bin:/home/username/.rvm/gems/ruby-1.9.3-&zwnj;&#8203;p551/bin:/home/for\u200c\u200b&zwnj;&#8203;exdaily/.rvm/gems/ru&zwnj;&#8203;by-1.9.3-p551@global&zwnj;&#8203;/bin:/home/username/&zwnj;&#8203;.rvm/rubies/ruby-1.\u200c&zwnj;&#8203;\u200b9.3-p551/bin:/home/&zwnj;&#8203;username/perl5/bin:/&zwnj;&#8203;usr/local/bin:/bin:/&zwnj;&#8203;usr/bin:/usr/local/s&zwnj;&#8203;\u200c\u200bbin:/usr/sbin:/sbi&zwnj;&#8203;n:/home/username/.rv&zwnj;&#8203;m/bin:/usr/local/bin&zwnj;&#8203;:/usr/X11R6/bin:/hom&zwnj;&#8203;e\u200c\u200b/username/.rvm/bi&zwnj;&#8203;n:/home/username/bin&zwnj;&#8203;:/home/username/.rvm&zwnj;&#8203;/rubies/ruby-1.9.3\u200c\u200b&zwnj;&#8203;-p551/lib/ruby/gems/&zwnj;&#8203;1.9.1/bin"}, {"owner": {"reputation": 814, "user_id": 1753389, "user_type": "registered", "accept_rate": 14, "profile_image": "https://i.stack.imgur.com/5DPUE.jpg?s=128&g=1", "display_name": "Peter", "link": "https://stackoverflow.com/users/1753389/peter"}, "edited": false, "score": 0, "creation_date": 1437252887, "post_id": 31482131, "comment_id": 50954534, "body": "Is there any way to include the missing stuff either in the cron tab or permanently in the environment variables?"}], "answers": [{"tags": [], "owner": {"reputation": 38790, "user_id": 665240, "user_type": "registered", "accept_rate": 83, "profile_image": "https://www.gravatar.com/avatar/32fc08ee80cf129f6b1e8593eccb9a03?s=128&d=identicon&r=PG", "display_name": "Carl Zulauf", "link": "https://stackoverflow.com/users/665240/carl-zulauf"}, "is_accepted": false, "score": 0, "last_activity_date": 1437158555, "creation_date": 1437158555, "answer_id": 31482603, "question_id": 31482131, "link": "https://stackoverflow.com/questions/31482131/only-with-cron-usr-bin-env-ruby-executable-hooks-no-such-file-or-directory/31482603#31482603", "title": "Only with cron: /usr/bin/env: ruby_executable_hooks: No such file or directory", "body": "<p>It's almost certainly an issue with your environment variables. When running something from cron your <code>.bashrc</code> isn't activated, so environment variables that might set up, like which ruby version you are pointed to and what your <code>PATH</code> looks like are likely different.</p>\n\n<p>How to fix this will depend on your environment and what tools, if any, you might be using to select your ruby version (rvm, chruby, rbenv, etc...).</p>\n\n<p>You might want to use something like <code>which ruby</code> to figure out exactly what ruby to execute and use that in your crontab.</p>\n"}, {"comments": [{"owner": {"reputation": 447, "user_id": 3948755, "user_type": "registered", "accept_rate": 60, "profile_image": "https://graph.facebook.com/100001350709974/picture?type=large", "display_name": "Ricardo Vigatti", "link": "https://stackoverflow.com/users/3948755/ricardo-vigatti"}, "edited": false, "score": 0, "creation_date": 1498023858, "post_id": 31523328, "comment_id": 76320215, "body": "OMG thank you so much! Almost 15 hours trying to solve and now it&#39;s fixed. thanks thanks and thanks"}], "tags": [], "owner": {"reputation": 814, "user_id": 1753389, "user_type": "registered", "accept_rate": 14, "profile_image": "https://i.stack.imgur.com/5DPUE.jpg?s=128&g=1", "display_name": "Peter", "link": "https://stackoverflow.com/users/1753389/peter"}, "is_accepted": false, "score": 4, "last_activity_date": 1437415426, "last_edit_date": 1492086984, "creation_date": 1437415426, "answer_id": 31523328, "question_id": 31482131, "link": "https://stackoverflow.com/questions/31482131/only-with-cron-usr-bin-env-ruby-executable-hooks-no-such-file-or-directory/31523328#31523328", "title": "Only with cron: /usr/bin/env: ruby_executable_hooks: No such file or directory", "body": "<p>I found the answer here:\n<a href=\"https://unix.stackexchange.com/questions/27289/how-can-i-run-a-cron-command-with-existing-environmental-variables\">https://unix.stackexchange.com/questions/27289/how-can-i-run-a-cron-command-with-existing-environmental-variables</a></p>\n\n<p>Specifically, I just put \". $HOME/.profile;\" in front of the cron command like so:</p>\n\n<p>0 5 * * * . $HOME/.profile; /path/to/command/to/run</p>\n\n<p>Thank you all for putting me on the right track.</p>\n"}, {"tags": [], "owner": {"reputation": 11793, "user_id": 148390, "user_type": "registered", "accept_rate": 95, "profile_image": "https://www.gravatar.com/avatar/8607c58f9797d1f64fdd826e1c0db76a?s=128&d=identicon&r=PG&f=1", "display_name": "Dex", "link": "https://stackoverflow.com/users/148390/dex"}, "is_accepted": false, "score": 0, "last_activity_date": 1587299975, "creation_date": 1587299975, "answer_id": 61304484, "question_id": 31482131, "link": "https://stackoverflow.com/questions/31482131/only-with-cron-usr-bin-env-ruby-executable-hooks-no-such-file-or-directory/61304484#61304484", "title": "Only with cron: /usr/bin/env: ruby_executable_hooks: No such file or directory", "body": "<p>I'm not quite sure why this works but if anyone is using RVM on MacOS this worked for me. I am running database backups using a gem called <code>backup</code>. I had to put the gem inside my app's Gemfile. Not sure why I have to cd to the app directory.</p>\n\n<p><code>* * * * * source /Users/john/.rvm/environments/ruby-2.7.1; cd /path/to/app &amp;&amp; bundle exec backup perform -t mybackup</code></p>\n"}], "owner": {"reputation": 814, "user_id": 1753389, "user_type": "registered", "accept_rate": 14, "profile_image": "https://i.stack.imgur.com/5DPUE.jpg?s=128&g=1", "display_name": "Peter", "link": "https://stackoverflow.com/users/1753389/peter"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 4741, "favorite_count": 2, "answer_count": 3, "score": 3, "last_activity_date": 1587299975, "creation_date": 1437156644, "question_id": 31482131, "link": "https://stackoverflow.com/questions/31482131/only-with-cron-usr-bin-env-ruby-executable-hooks-no-such-file-or-directory", "title": "Only with cron: /usr/bin/env: ruby_executable_hooks: No such file or directory", "body": "<p>I have a perl script that uses system() to call a shell command, which uses ruby_executable_hooks.</p>\n\n<p>When I run this script from the command line it executes flawlessly.</p>\n\n<p>However when it runs from a cron job, I get one of two errors:\nA) if I do not chdir() ie. working dir is /home/foobar</p>\n\n<pre><code>/usr/bin/env: ruby_executable_hooks: No such file or directory\n</code></pre>\n\n<p>B) if I chdir( \"[doc root]/cgi-bin\" )</p>\n\n<pre><code>/usr/lib/ruby/site_ruby/1.8/rubygems.rb:779:in `report_activate_error': Could not find RubyGem twurl (&gt;= 0) (Gem::LoadError)\nfrom /usr/lib/ruby/site_ruby/1.8/rubygems.rb:214:in `activate'\nfrom /usr/lib/ruby/site_ruby/1.8/rubygems.rb:1082:in `gem'\nfrom /home/foobar/.rvm/gems/ruby-1.9.3-p551/bin/twurl:22\nfrom /home/foobar/.rvm/rubies/ruby-1.9.3-p551/lib/ruby/gems/1.9.1/bin/ruby_executable_hooks:15\n</code></pre>\n\n<p>What might be the reason it cannot find certain files when run from cron?</p>\n"}, {"tags": ["perl", "loops", "count"], "comments": [{"owner": {"reputation": 158803, "user_id": 246342, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/a8ba0aea3f521082f18dd7c186e7d4c3?s=128&d=identicon&r=PG", "display_name": "Alex K.", "link": "https://stackoverflow.com/users/246342/alex-k"}, "edited": false, "score": 4, "creation_date": 1437152197, "post_id": 31480905, "comment_id": 50927115, "body": "As a one off thing? If not this is what databases are for"}, {"owner": {"reputation": 21782, "user_id": 176646, "user_type": "registered", "accept_rate": 88, "profile_image": "https://i.stack.imgur.com/HsQyV.png?s=128&g=1", "display_name": "ThisSuitIsBlackNot", "link": "https://stackoverflow.com/users/176646/thissuitisblacknot"}, "edited": false, "score": 1, "creation_date": 1437152771, "post_id": 31480905, "comment_id": 50927396, "body": "Have you tried something that was too slow?"}, {"owner": {"reputation": 5718, "user_id": 2058811, "user_type": "registered", "accept_rate": 70, "profile_image": "https://www.gravatar.com/avatar/ad0e6441bee814f7ef31646db6b3a27a?s=128&d=identicon&r=PG&f=1", "display_name": "UserYmY", "link": "https://stackoverflow.com/users/2058811/userymy"}, "edited": false, "score": 0, "creation_date": 1437152848, "post_id": 31480905, "comment_id": 50927435, "body": "No I have not tried with Perl actually , I do not know perl that well, just a beginner. I tried with python at it is very slow"}, {"owner": {"reputation": 52334, "user_id": 702638, "user_type": "registered", "accept_rate": 98, "profile_image": "https://www.gravatar.com/avatar/892f65bc0a8a0949ab88598de7d83cab?s=128&d=identicon&r=PG", "display_name": "Hunter McMillen", "link": "https://stackoverflow.com/users/702638/hunter-mcmillen"}, "edited": false, "score": 2, "creation_date": 1437154182, "post_id": 31480905, "comment_id": 50928103, "body": "@UserYmY can you quantify slow? I imagine there will not be that large of a difference in performance for a reasonable solution in Perl vs Python; the issue is probably with your implementation."}, {"owner": {"reputation": 81037, "user_id": 8454, "user_type": "registered", "accept_rate": 100, "profile_image": "https://i.stack.imgur.com/2NlHs.png?s=128&g=1", "display_name": "Andy Lester", "link": "https://stackoverflow.com/users/8454/andy-lester"}, "edited": false, "score": 1, "creation_date": 1437154396, "post_id": 31480905, "comment_id": 50928217, "body": "Can you show us the Python code that was too slow?  Maybe we can help speed that up rather than writing it over.  It usually makes more sense to modify existing working code than to start over from scratch."}, {"owner": {"reputation": 21782, "user_id": 176646, "user_type": "registered", "accept_rate": 88, "profile_image": "https://i.stack.imgur.com/HsQyV.png?s=128&g=1", "display_name": "ThisSuitIsBlackNot", "link": "https://stackoverflow.com/users/176646/thissuitisblacknot"}, "edited": false, "score": 1, "creation_date": 1437155788, "post_id": 31480905, "comment_id": 50928949, "body": "Are the rows in your input file sorted such that domains are always grouped together?"}], "answers": [{"comments": [{"owner": {"reputation": 110113, "user_id": 168657, "user_type": "registered", "accept_rate": 92, "profile_image": "https://www.gravatar.com/avatar/f14e7610fca39322ebbf23530def15f8?s=128&d=identicon&r=PG", "display_name": "mob", "link": "https://stackoverflow.com/users/168657/mob"}, "edited": false, "score": 1, "creation_date": 1437152997, "post_id": 31481155, "comment_id": 50927498, "body": "<code>sort</code> on a 300M line input stream is going to take a while"}, {"owner": {"reputation": 1858, "user_id": 4799193, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/a87fb12a6ad909323fb42a48e78b3f28?s=128&d=identicon&r=PG&f=1", "display_name": "ramana_k", "link": "https://stackoverflow.com/users/4799193/ramana-k"}, "reply_to_user": {"reputation": 110113, "user_id": 168657, "user_type": "registered", "accept_rate": 92, "profile_image": "https://www.gravatar.com/avatar/f14e7610fca39322ebbf23530def15f8?s=128&d=identicon&r=PG", "display_name": "mob", "link": "https://stackoverflow.com/users/168657/mob"}, "edited": false, "score": 0, "creation_date": 1437153693, "post_id": 31481155, "comment_id": 50927848, "body": "I tried to solve problems like these with maintaining a running count with a hash table and using Unix sort. In my experience, the solution using sort command almost always outperforms the one using hash table approach."}], "tags": [], "owner": {"reputation": 1858, "user_id": 4799193, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/a87fb12a6ad909323fb42a48e78b3f28?s=128&d=identicon&r=PG&f=1", "display_name": "ramana_k", "link": "https://stackoverflow.com/users/4799193/ramana-k"}, "is_accepted": false, "score": 0, "last_activity_date": 1437159909, "last_edit_date": 1437159909, "creation_date": 1437152923, "answer_id": 31481155, "question_id": 31480905, "link": "https://stackoverflow.com/questions/31480905/perl-fastest-way-to-count-with-big-data-300million-lines/31481155#31481155", "title": "Perl: fastest way to count with big data (300million+ lines)", "body": "<p>You can use this command line</p>\n\n<pre><code>cat FileName | awk -F, '{print $1, $3}' | sort | uniq -c\n</code></pre>\n\n<p>If the file is too big and unwieldy, it can be split up using one of the fields, like so:</p>\n\n<pre><code>awk -F, '{gsub(\" \", \"_\", $3); print $0 &gt;&gt; $3; close($3); }' FileName\n</code></pre>\n\n<p>I chose 3rd field assuming number of organizations is relatively small compared to number of domains. This command replaces spaces with '_' in the file name. After getting counts from the smaller files, they can be combined easily.</p>\n\n<p>EDIT: The relative performance of solutions depends on the ratio: </p>\n\n<pre><code>number of unique keys (combinations of organization and domain) / Total number of lines in the file\n</code></pre>\n\n<p>If this ratio is very small, counting using a hash table performs better and uses less memory. If the ratio is large, sorting would be better.</p>\n"}, {"comments": [{"owner": {"reputation": 21782, "user_id": 176646, "user_type": "registered", "accept_rate": 88, "profile_image": "https://i.stack.imgur.com/HsQyV.png?s=128&g=1", "display_name": "ThisSuitIsBlackNot", "link": "https://stackoverflow.com/users/176646/thissuitisblacknot"}, "edited": false, "score": 0, "creation_date": 1437155537, "post_id": 31481241, "comment_id": 50928823, "body": "Tough to avoid, but depending on the number of duplicate rows, this could eat a <i>lot</i> of memory for a 300 million+ row file (at least 10s of GB according to my [conservative] back-of-the-napkin estimate)."}], "tags": [], "owner": {"reputation": 6068, "user_id": 1799189, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/s4Pcu.jpg?s=128&g=1", "display_name": "xxfelixxx", "link": "https://stackoverflow.com/users/1799189/xxfelixxx"}, "is_accepted": false, "score": 0, "last_activity_date": 1437153209, "creation_date": 1437153209, "answer_id": 31481241, "question_id": 31480905, "link": "https://stackoverflow.com/questions/31480905/perl-fastest-way-to-count-with-big-data-300million-lines/31481241#31481241", "title": "Perl: fastest way to count with big data (300million+ lines)", "body": "<p>data.csv</p>\n\n<pre><code>domain,ip,org\nemileaben.com, 94.31.44.1, Level 3 Communications\nanaplan.com, 94.31.44.12, Level 3 Communications\nanaplan.com, 94.31.44.15, abc\nanaplan.com, 94.31.44.19, Level 3 Communications\n</code></pre>\n\n<p>count.pl</p>\n\n<pre><code>#!/usr/bin/env perl\n\nuse warnings;\nuse strict;\n\nmy $results = {};\nwhile (&lt;&gt;) {\n    next if $. == 1; # Skip Header\n    chomp;\n    my ($domain, $ip, $org) = split /,\\s*/;\n    $results-&gt;{$domain}-&gt;{$org}-&gt;{$ip} = 1;  # Ignore duplicates\n}\n\nprint \"domain,ip,org\\n\";\nfor my $domain (sort keys %$results) {\n    for my $org (sort keys %{ $results-&gt;{$domain} }) {\n        my $ips_per_domain = scalar keys %{ $results-&gt;{$domain}-&gt;{$org} };\n        print join(', ', $domain, $ips_per_domain, $org) . \"\\n\";\n    }\n}\n</code></pre>\n\n<p>cat data.csv | count.pl</p>\n\n<pre><code>domain,ip,org\nanaplan.com, 2, Level 3 Communications\nanaplan.com, 1, abc\nemileaben.com, 1, Level 3 Communications\n</code></pre>\n"}, {"comments": [{"owner": {"reputation": 48798, "user_id": 223226, "user_type": "registered", "accept_rate": 93, "profile_image": "https://i.stack.imgur.com/iGqE4.png?s=128&g=1", "display_name": "mpapec", "link": "https://stackoverflow.com/users/223226/mpapec"}, "edited": false, "score": 2, "creation_date": 1437155470, "post_id": 31481667, "comment_id": 50928787, "body": "Btw, is available RAM important issue? <code>:)</code>"}, {"owner": {"reputation": 123805, "user_id": 622310, "user_type": "registered", "accept_rate": 33, "profile_image": "https://www.gravatar.com/avatar/8b6d35219e1808520bc238b28161e2e6?s=128&d=identicon&r=PG", "display_name": "Borodin", "link": "https://stackoverflow.com/users/622310/borodin"}, "edited": false, "score": 0, "creation_date": 1437164146, "post_id": 31481667, "comment_id": 50933116, "body": "<code>++$h{&quot;@F[0,2]&quot;} if $. &gt; 1</code>?"}, {"owner": {"reputation": 48798, "user_id": 223226, "user_type": "registered", "accept_rate": 93, "profile_image": "https://i.stack.imgur.com/iGqE4.png?s=128&g=1", "display_name": "mpapec", "link": "https://stackoverflow.com/users/223226/mpapec"}, "reply_to_user": {"reputation": 123805, "user_id": 622310, "user_type": "registered", "accept_rate": 33, "profile_image": "https://www.gravatar.com/avatar/8b6d35219e1808520bc238b28161e2e6?s=128&d=identicon&r=PG", "display_name": "Borodin", "link": "https://stackoverflow.com/users/622310/borodin"}, "edited": false, "score": 0, "creation_date": 1437165202, "post_id": 31481667, "comment_id": 50933618, "body": "Yes, that is shorter."}], "tags": [], "owner": {"reputation": 48798, "user_id": 223226, "user_type": "registered", "accept_rate": 93, "profile_image": "https://i.stack.imgur.com/iGqE4.png?s=128&g=1", "display_name": "mpapec", "link": "https://stackoverflow.com/users/223226/mpapec"}, "is_accepted": false, "score": 3, "last_activity_date": 1437154884, "creation_date": 1437154884, "answer_id": 31481667, "question_id": 31480905, "link": "https://stackoverflow.com/questions/31480905/perl-fastest-way-to-count-with-big-data-300million-lines/31481667#31481667", "title": "Perl: fastest way to count with big data (300million+ lines)", "body": "<p>From command line, no sorting,</p>\n\n<pre><code>perl -F, -ane'\n  BEGIN { $\" = \",\" }\n  $. &gt;1 or next;\n  $h{\"@F[0,2]\"}++;\n  END { print $k =~ s|,\\K| $v,|r while ($k,$v) = each(%h)  }\n' file\n</code></pre>\n\n<p>with sorting,</p>\n\n<pre><code>perl -F, -ane'\n  BEGIN { $\" = \",\" }\n  $. &gt;1 or next;\n  $h{\"@F[0,2]\"}++;\n  END { print s|,\\K| $h{$_},|r for sort {$h{$b} &lt;=&gt; $h{$a}} keys %h  }\n' file\n</code></pre>\n"}, {"comments": [{"owner": {"reputation": 21782, "user_id": 176646, "user_type": "registered", "accept_rate": 88, "profile_image": "https://i.stack.imgur.com/HsQyV.png?s=128&g=1", "display_name": "ThisSuitIsBlackNot", "link": "https://stackoverflow.com/users/176646/thissuitisblacknot"}, "edited": false, "score": 0, "creation_date": 1437160683, "post_id": 31482924, "comment_id": 50931443, "body": "Certainly safer than the other solutions in terms of memory usage, but depending on the number of unique organizations, could easily hit the limit on open file descriptors (on my machine, 98422 for the entire system, or 4096 for a single process)."}, {"owner": {"reputation": 52334, "user_id": 702638, "user_type": "registered", "accept_rate": 98, "profile_image": "https://www.gravatar.com/avatar/892f65bc0a8a0949ab88598de7d83cab?s=128&d=identicon&r=PG", "display_name": "Hunter McMillen", "link": "https://stackoverflow.com/users/702638/hunter-mcmillen"}, "reply_to_user": {"reputation": 21782, "user_id": 176646, "user_type": "registered", "accept_rate": 88, "profile_image": "https://i.stack.imgur.com/HsQyV.png?s=128&g=1", "display_name": "ThisSuitIsBlackNot", "link": "https://stackoverflow.com/users/176646/thissuitisblacknot"}, "edited": false, "score": 0, "creation_date": 1437160922, "post_id": 31482924, "comment_id": 50931556, "body": "yeah, good point . Same thing could follow from fork()ing too many processes, one per org."}], "tags": [], "owner": {"reputation": 52334, "user_id": 702638, "user_type": "registered", "accept_rate": 98, "profile_image": "https://www.gravatar.com/avatar/892f65bc0a8a0949ab88598de7d83cab?s=128&d=identicon&r=PG", "display_name": "Hunter McMillen", "link": "https://stackoverflow.com/users/702638/hunter-mcmillen"}, "is_accepted": false, "score": 0, "last_activity_date": 1437161070, "last_edit_date": 1437161070, "creation_date": 1437159622, "answer_id": 31482924, "question_id": 31480905, "link": "https://stackoverflow.com/questions/31480905/perl-fastest-way-to-count-with-big-data-300million-lines/31482924#31482924", "title": "Perl: fastest way to count with big data (300million+ lines)", "body": "<p>Slightly different solution that might take longer in complete processing time, but is more memory safe. It works by first grouping the input file by organization then computing ip counts based on these smaller \"org\" files:</p>\n\n<pre><code>use strict;\nuse warnings;\n\nuse Data::Dumper; \nuse feature qw/say/;\n\nmy %fhs_by_organization;\nwhile ( my $row = &lt;&gt; ) {\n    next if $. == 1; # Skip Header\n    chomp($row);\n\n    my ($domain, $ip, $org) = split(/,\\s*/, $row);\n    unless ( exists $fhs_by_organization{$org} ) {\n       my $outfilename = join('_', split(/\\s+/, $org)) . '.txt';\n       open my $fh, '&gt;', $outfilename\n          or die \"$!\";\n       $fhs_by_organization{$org} = $fh;\n    }\n    say { $fhs_by_organization{$org} } \"$domain, $ip\";\n}\n\n# close resources\nclose($_) foreach values %fhs_by_organization;\n\n# read each org file in separately to reduce memory load\nmy %ipcount_by_org_domain;\nforeach my $org ( keys %fhs_by_organization ) {\n    if ( fork() == 0 ) { # child code \n       my $infilename = join('_', split(/\\s+/, $org)) . '.txt';\n       open my $fh, '&lt;', $infilename\n          or die \"$!\";\n\n       my %seen_domainips;\n       while ( my $org_row = &lt;$fh&gt; ) {\n          my ($domain, $ip) = split /,\\s*/, $org_row;\n\n          # only count unique ips \n          next if $seen_domainips{$domain . $ip};\n\n          $ipcount_by_org_domain{$org}-&gt;{$domain}++;\n          $seen_domainips{$domain . $ip} = 1;\n       }\n       close $fh;\n       unlink $infilename;\n       exit;\n    }\n}\n\n# wait for all of the child processes to finish\nwait for 0 .. scalar keys %fhs_by_organization;\n\n# dump results\n$Data::Dumper::Terse = 1;\nprint Dumper \\%ipcount_by_org_domain;\n</code></pre>\n\n<p>Also: organizations are unique, so you can use fork to process them in parallel. Processing a 3.5m line file on my machine took ~19 seconds. </p>\n\n<p>outputs: </p>\n\n<pre><code>{\n  'Level 3 Communications' =&gt; {\n                                'emileaben.com' =&gt; 1,\n                                'anaplan.com' =&gt; 2\n                              },\n  'abc' =&gt; {\n             'anaplan.com' =&gt; 1\n           }\n}\n</code></pre>\n"}], "owner": {"reputation": 5718, "user_id": 2058811, "user_type": "registered", "accept_rate": 70, "profile_image": "https://www.gravatar.com/avatar/ad0e6441bee814f7ef31646db6b3a27a?s=128&d=identicon&r=PG&f=1", "display_name": "UserYmY", "link": "https://stackoverflow.com/users/2058811/userymy"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 156, "favorite_count": 1, "answer_count": 4, "score": 0, "last_activity_date": 1437161070, "creation_date": 1437152039, "question_id": 31480905, "link": "https://stackoverflow.com/questions/31480905/perl-fastest-way-to-count-with-big-data-300million-lines", "title": "Perl: fastest way to count with big data (300million+ lines)", "body": "<p>I have a dataset:</p>\n\n<pre><code>domain,ip,org\nemileaben.com, 94.31.44.1, Level 3 Communications\nanaplan.com, 94.31.44.12, Level 3 Communications\nanaplan.com, 94.31.44.15, abc\nanaplan.com, 94.31.44.19, Level 3 Communications\n</code></pre>\n\n<p>and I would like to count number of ips per domain per organization which would give me this result:</p>\n\n<pre><code>domain,countip,org\nanaplan.com, 2, Level 3 Communications\nemileaben.com, 1, Level 3 Communications\nanaplan.com, 1, abc\n</code></pre>\n\n<p>Can anybody help?</p>\n"}, {"tags": ["perl"], "answers": [{"comments": [{"owner": {"reputation": 27, "user_id": 4948398, "user_type": "registered", "accept_rate": 50, "profile_image": "https://www.gravatar.com/avatar/36663db9d500fce951fab1169d4929f9?s=128&d=identicon&r=PG&f=1", "display_name": "cs87", "link": "https://stackoverflow.com/users/4948398/cs87"}, "edited": false, "score": 0, "creation_date": 1443662235, "post_id": 31480193, "comment_id": 53586984, "body": "Thanks for the explaination ."}], "tags": [], "owner": {"reputation": 320771, "user_id": 589924, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/b2cf53d5a3d25f95c0db4e025aed4153?s=128&d=identicon&r=PG", "display_name": "ikegami", "link": "https://stackoverflow.com/users/589924/ikegami"}, "is_accepted": true, "score": 2, "last_activity_date": 1437149574, "creation_date": 1437149574, "answer_id": 31480193, "question_id": 31480031, "link": "https://stackoverflow.com/questions/31480031/perl-argument-unable-to-detect-in-directory-name/31480193#31480193", "title": "Perl - Argument unable to detect in Directory name", "body": "<pre><code>'/home/Folder/Master_File/$device'\n</code></pre>\n\n<p>should be</p>\n\n<pre><code>\"/home/Folder/Master_File/$device\"\n</code></pre>\n\n<p>or</p>\n\n<pre><code>'/home/Folder/Master_File/' . $device\n</code></pre>\n\n<p>Single-quote don't interpolate.</p>\n"}], "owner": {"reputation": 27, "user_id": 4948398, "user_type": "registered", "accept_rate": 50, "profile_image": "https://www.gravatar.com/avatar/36663db9d500fce951fab1169d4929f9?s=128&d=identicon&r=PG&f=1", "display_name": "cs87", "link": "https://stackoverflow.com/users/4948398/cs87"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 43, "favorite_count": 0, "accepted_answer_id": 31480193, "answer_count": 1, "score": -1, "last_activity_date": 1437156950, "creation_date": 1437149033, "last_edit_date": 1437156950, "question_id": 31480031, "link": "https://stackoverflow.com/questions/31480031/perl-argument-unable-to-detect-in-directory-name", "title": "Perl - Argument unable to detect in Directory name", "body": "<p>I was trying to get directory from Argument0 but the argument name was not show in directory when i print it out. Below is the script i am writing. I am using unix to run the perl program. Running Try.pl script file with command  ./Try.pl Device1 . </p>\n\n<p>The Output should be : /home/Folder/Master_File/Device1\nAs my argument0 was Device1. \nBut for now my output was /home/Folder/Master_File/$device</p>\n\n<p>Can you help to advices what is going on with it. Thanks. </p>\n\n<pre><code>my $device;\n$device = \"$ARGV[0]\";\n\nprint \"$device\\n\";    # Device1\n\nmy $directory = '/home/Folder/Master_File/$device';\n\nprint \"$directory\\n\"; # /home/Folder/Master_File/$device\n\nprint \"$ARGV[0]\\n\";   # Device1\n\nprint \"$device\\n\";    # Device1\n</code></pre>\n"}, {"tags": ["perl"], "comments": [{"owner": {"reputation": 6068, "user_id": 1799189, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/s4Pcu.jpg?s=128&g=1", "display_name": "xxfelixxx", "link": "https://stackoverflow.com/users/1799189/xxfelixxx"}, "edited": false, "score": 0, "creation_date": 1437149521, "post_id": 31480008, "comment_id": 50925595, "body": "try <code>foreach my $f ( @$decoded ) {</code>"}, {"owner": {"reputation": 320771, "user_id": 589924, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/b2cf53d5a3d25f95c0db4e025aed4153?s=128&d=identicon&r=PG", "display_name": "ikegami", "link": "https://stackoverflow.com/users/589924/ikegami"}, "edited": false, "score": 3, "creation_date": 1437149809, "post_id": 31480008, "comment_id": 50925753, "body": "The program you gave does not give the output you claim it does; it gives a strict error."}, {"owner": {"reputation": 3102, "user_id": 1686626, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/cc855759fde692f7c1773b0968faaea7?s=128&d=identicon&r=PG", "display_name": "Reflective", "link": "https://stackoverflow.com/users/1686626/reflective"}, "edited": false, "score": 0, "creation_date": 1437154903, "post_id": 31480008, "comment_id": 50928493, "body": "and I think it&#39;s better to use JSON::XS module in case of huge data"}, {"owner": {"reputation": 25491, "user_id": 49197, "user_type": "registered", "accept_rate": 75, "profile_image": "https://www.gravatar.com/avatar/15ebf24a33a29b9efbf9924f530dd736?s=128&d=identicon&r=PG", "display_name": "Hynek -Pichi- Vychodil", "link": "https://stackoverflow.com/users/49197/hynek-pichi-vychodil"}, "edited": false, "score": 1, "creation_date": 1437164650, "post_id": 31480008, "comment_id": 50933349, "body": "You are pulling our leg. The code you posted do not even compile: <code>Global symbol &quot;@decoded&quot; requires explicit package name at - line 10. Execution of - aborted due to compilation errors.</code>"}], "answers": [{"comments": [{"owner": {"reputation": 13, "user_id": 5128103, "user_type": "registered", "profile_image": "https://graph.facebook.com/10205751548502151/picture?type=large", "display_name": "Florent Sailly", "link": "https://stackoverflow.com/users/5128103/florent-sailly"}, "edited": false, "score": 0, "creation_date": 1437257509, "post_id": 31480399, "comment_id": 50955690, "body": "Thank you so much ! you solved my problem :) one array in an array ... so easy when anybody says the solution."}], "tags": [], "owner": {"reputation": 320771, "user_id": 589924, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/b2cf53d5a3d25f95c0db4e025aed4153?s=128&d=identicon&r=PG", "display_name": "ikegami", "link": "https://stackoverflow.com/users/589924/ikegami"}, "is_accepted": true, "score": 5, "last_activity_date": 1437154551, "last_edit_date": 1437154551, "creation_date": 1437150209, "answer_id": 31480399, "question_id": 31480008, "link": "https://stackoverflow.com/questions/31480008/extracting-data-from-json-in-perl/31480399#31480399", "title": "Extracting data from JSON in Perl", "body": "<p>At the top level, you have <code>[]</code>, so <code>$decoded</code> is reference to an array.</p>\n\n<pre><code>for my $f (@$decoded) {\n   ...\n}\n</code></pre>\n\n<p>Inside you have <code>{}</code>, so <code>$f</code> is a reference to a hash.</p>\n\n<pre><code>   my $details = $f-&gt;{details};\n</code></pre>\n\n<p>Inside you have <code>[]</code>, so <code>$details</code> is a reference to an array.</p>\n\n<pre><code>   for my $detail (@$details) {\n      ...\n   }\n</code></pre>\n\n<p>Inside you have <code>{}</code>, so <code>$detail</code> is a reference to a hash.</p>\n\n<pre><code>      my $ip_address = $detail-&gt;{ip_address};\n</code></pre>\n\n<p>All together:</p>\n\n<pre><code>for my $f (@$decoded) {\n   my $details = $f-&gt;{details};\n   for my $detail (@$details) {\n      my $ip_address = $detail-&gt;{ip_address};\n      ...\n   }\n}\n</code></pre>\n"}], "owner": {"reputation": 13, "user_id": 5128103, "user_type": "registered", "profile_image": "https://graph.facebook.com/10205751548502151/picture?type=large", "display_name": "Florent Sailly", "link": "https://stackoverflow.com/users/5128103/florent-sailly"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 467, "favorite_count": 0, "accepted_answer_id": 31480399, "answer_count": 1, "score": -1, "last_activity_date": 1437154551, "creation_date": 1437148948, "last_edit_date": 1437154517, "question_id": 31480008, "link": "https://stackoverflow.com/questions/31480008/extracting-data-from-json-in-perl", "title": "Extracting data from JSON in Perl", "body": "<p>The following is a sample of my 60MB JSON file:</p>\n\n<pre><code>[\n   {\n      \"phish_id\":\"3332444\",\n      \"url\":\"http://shydroservice.ru/plugins/content/fboxbot/standardbank3/inet.php\",\n      \"phish_detail_url\":\"http://www.phishtank.com/phish_detail.php?phish_id=3332444\",\n      \"submission_time\":\"2015-07-17T09:58:13+00:00\",\n      \"verified\":\"yes\",\n      \"verification_time\":\"2015-07-17T10:14:15+00:00\",\n      \"online\":\"yes\",\n      \"details\":[\n         {\n            \"ip_address\":\"37.140.192.240\",\n            \"cidr_block\":\"37.140.192.0/24\",\n            \"announcing_network\":\"197695\",\n            \"rir\":\"ripencc\",\n            \"country\":\"RU\",\n            \"detail_time\":\"2015-07-17T09:59:28+00:00\"\n         }\n      ],\n      \"target\":\"Other\"\n   },\n   ...\n]\n</code></pre>\n\n<p>I would like get the <code>ip_address</code> of <code>details</code>, but my code doesn't find <code>details</code> array :'(</p>\n\n<pre><code>use strict;\nuse warnings FATAL =&gt; 'all';\nuse LWP::Simple qw(get);\nuse JSON qw(decode_json);\n\nmy $url = \"http://127.0.0.1/test.json\";\n\nmy $decoded = decode_json(get($url));\n\nforeach my $f ( @decoded ) {\n  print $f-&gt;{\"details\"} . \"\\n\";\n}\n</code></pre>\n\n<p>I have this message:</p>\n\n<pre><code>Not a HASH reference at ./get_article.pl line 15.\n</code></pre>\n\n<p>Can anyone help me?\nThanks.</p>\n"}, {"tags": ["perl", "syntax", "syntax-error"], "answers": [{"comments": [{"owner": {"reputation": 110113, "user_id": 168657, "user_type": "registered", "accept_rate": 92, "profile_image": "https://www.gravatar.com/avatar/f14e7610fca39322ebbf23530def15f8?s=128&d=identicon&r=PG", "display_name": "mob", "link": "https://stackoverflow.com/users/168657/mob"}, "edited": false, "score": 1, "creation_date": 1437148931, "post_id": 31479521, "comment_id": 50925270, "body": "Another use case for the <code>&amp;</code> sigil!"}, {"owner": {"reputation": 62184, "user_id": 7231, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/81b76985f3985e35492e25880493d045?s=128&d=identicon&r=PG", "display_name": "Dave Cross", "link": "https://stackoverflow.com/users/7231/dave-cross"}, "edited": false, "score": 6, "creation_date": 1437149098, "post_id": 31479521, "comment_id": 50925360, "body": "More likely, a argument against single-letter subroutine names :-)"}, {"owner": {"reputation": 59411, "user_id": 8355, "user_type": "registered", "accept_rate": 80, "profile_image": "https://www.gravatar.com/avatar/8d0099a2574719d7a67eab012851bf9b?s=128&d=identicon&r=PG", "display_name": "cjm", "link": "https://stackoverflow.com/users/8355/cjm"}, "reply_to_user": {"reputation": 110113, "user_id": 168657, "user_type": "registered", "accept_rate": 92, "profile_image": "https://www.gravatar.com/avatar/f14e7610fca39322ebbf23530def15f8?s=128&d=identicon&r=PG", "display_name": "mob", "link": "https://stackoverflow.com/users/168657/mob"}, "edited": false, "score": 6, "creation_date": 1437150967, "post_id": 31479521, "comment_id": 50926406, "body": "@mob, no, this is a job for the space bar."}], "tags": [], "owner": {"reputation": 48798, "user_id": 223226, "user_type": "registered", "accept_rate": 93, "profile_image": "https://i.stack.imgur.com/iGqE4.png?s=128&g=1", "display_name": "mpapec", "link": "https://stackoverflow.com/users/223226/mpapec"}, "is_accepted": true, "score": 9, "last_activity_date": 1437152462, "last_edit_date": 1437152462, "creation_date": 1437147429, "answer_id": 31479521, "question_id": 31479428, "link": "https://stackoverflow.com/questions/31479428/dash-or-minus-or-subtraction-followed-by-letter-or-function-name-causing-syn/31479521#31479521", "title": "Dash (or minus or subtraction) followed by letter (or function name) causing syntax error in Perl", "body": "<p><a href=\"http://perldoc.perl.org/functions/-X.html\" rel=\"nofollow\"><code>-f</code></a> tests whether a file is a plain file, so it does not make sense to perl as it does not see <code>-</code> sign. That is why this works as you expect, as there is no <code>-fo</code> test.</p>\n\n<pre><code>sub fo{1} my $answer = 1-fo(1);  \n</code></pre>\n\n<p>(nor there is <code>+f</code> test)</p>\n\n<pre><code>sub f{1} my $answer = 1+f(1);  \n</code></pre>\n"}], "owner": {"reputation": 2354, "user_id": 2203144, "user_type": "registered", "accept_rate": 84, "profile_image": "https://www.gravatar.com/avatar/75c7fa1dd3aa4baa131c45c7e6cbd82d?s=128&d=identicon&r=PG", "display_name": "mareoraft", "link": "https://stackoverflow.com/users/2203144/mareoraft"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 173, "favorite_count": 0, "accepted_answer_id": 31479521, "answer_count": 1, "score": 5, "last_activity_date": 1437177928, "creation_date": 1437147113, "last_edit_date": 1437177928, "question_id": 31479428, "link": "https://stackoverflow.com/questions/31479428/dash-or-minus-or-subtraction-followed-by-letter-or-function-name-causing-syn", "title": "Dash (or minus or subtraction) followed by letter (or function name) causing syntax error in Perl", "body": "<p>I was surprised when</p>\n\n<pre><code>sub f{1};\n\nmy $answer = 1-f(1);\n</code></pre>\n\n<p>gave me a syntax error in Perl when I was expecting it to perform subtraction.  Adding a space made it work okay again:</p>\n\n<pre><code>sub f{1};\n\nmy $answer = 1- f(1);\n</code></pre>\n\n<p>Why does this cause a syntax error in Perl? Is there an ambiguity? Is the dash interpreted as part of the function name?</p>\n"}, {"tags": ["perl", "sql-server-2005", "odbc", "freetds"], "answers": [{"comments": [{"owner": {"reputation": 518, "user_id": 3617046, "user_type": "registered", "accept_rate": 69, "profile_image": "https://www.gravatar.com/avatar/afad7c3481df3dcbbcd2b4366782e056?s=128&d=identicon&r=PG&f=1", "display_name": "Bulrush", "link": "https://stackoverflow.com/users/3617046/bulrush"}, "edited": false, "score": 0, "creation_date": 1437418061, "post_id": 31477829, "comment_id": 51009195, "body": "Got it. Thanks! I don&#39;t think that&#39;s part of the man page for isql."}], "tags": [], "owner": {"reputation": 1100, "user_id": 792583, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/1fa9809566b5a9f2d8c23fecd3bd41b3?s=128&d=identicon&r=PG", "display_name": "Nick Gorham", "link": "https://stackoverflow.com/users/792583/nick-gorham"}, "is_accepted": true, "score": 5, "last_activity_date": 1437142248, "creation_date": 1437142248, "answer_id": 31477829, "question_id": 31477202, "link": "https://stackoverflow.com/questions/31477202/sql-statement-doesnt-work-for-ms-sql-2005/31477829#31477829", "title": "SQL statement doesn&#39;t work for MS SQL 2005", "body": "<p>By default isql treats each line as its own query, so you need to merge the lines all onto the single line.</p>\n\n<p>isql is only a simple test app, not designed for more than proving the connection and a quick simple way of issuing queries.</p>\n\n<p>the -n option in later builds of isql will go closer to what you want, looking for a line that ends in a semicolon before calling SQLPrepare.</p>\n"}], "owner": {"reputation": 518, "user_id": 3617046, "user_type": "registered", "accept_rate": 69, "profile_image": "https://www.gravatar.com/avatar/afad7c3481df3dcbbcd2b4366782e056?s=128&d=identicon&r=PG&f=1", "display_name": "Bulrush", "link": "https://stackoverflow.com/users/3617046/bulrush"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 448, "favorite_count": 0, "accepted_answer_id": 31477829, "answer_count": 1, "score": 0, "last_activity_date": 1437142248, "creation_date": 1437140359, "question_id": 31477202, "link": "https://stackoverflow.com/questions/31477202/sql-statement-doesnt-work-for-ms-sql-2005", "title": "SQL statement doesn&#39;t work for MS SQL 2005", "body": "<ul>\n<li>SQL client: Ubuntu 14.04LTS</li>\n<li>DB Server: MS SQL server 2005, accessing via odbc and Freetds. Works fine for my other MS SQL 2005 server.</li>\n<li>isql 2.2.14</li>\n<li>Freetds 0.91</li>\n<li>Text editor: Notepad++ 6.5.5 for windows 7 is editing my .sql file on Ubuntu via a Samba share.</li>\n<li>No I can't upgrade anything, I'm stuck with what I have.</li>\n</ul>\n\n<p>This has me stumped. I copied and pasted an SQL statement from i-net Clear Reports, and pasted it into a Windows editor, which is editing an Ubuntu .sql file, which is just a text file. I'm already connecting to another MS SQL 2005 server with no problem via isql and Perl. So I was having problems with a big SQL statement with about 10 joins, and simplified the statement to these multiple lines: </p>\n\n<pre><code>SELECT PKG.SO_ID\nFROM\n   PACKAGES AS PKG\nWHERE\n    PKG.tracking_no = '640038823199'\n;\n</code></pre>\n\n<p>This file consists of multiple lines with unix line endings. My isql command is: <code>cat test1.sql | isql dsnname 'domain\\username' password -v -b</code>.</p>\n\n<p>I used -b for batch mode because I'm sending input to isql via a file.\nThe errors start immediately on the first line, but I double checked the syntax and for SQL Server 2005 the 'AS' is optional in 'PACKAGES AS PKG'. </p>\n\n<pre><code>[37000][unixODBC][FreeTDS][SQL Server]Statement(s) could not be prepared.\n[37000][unixODBC][FreeTDS][SQL Server]The multi-part identifier \"PKG.SO_ID\" could not be bound.\n[ISQL]ERROR: Could not SQLExecute\n[37000][unixODBC][FreeTDS][SQL Server]Incorrect syntax near the keyword 'FROM'.\n[37000][unixODBC][FreeTDS][SQL Server]Statement(s) could not be prepared.\n[ISQL]ERROR: Could not SQLExecute\n[37000][unixODBC][FreeTDS][SQL Server]Incorrect syntax near the keyword 'AS'.\n[37000][unixODBC][FreeTDS][SQL Server]Statement(s) could not be prepared.\n[ISQL]ERROR: Could not SQLExecute\n[37000][unixODBC][FreeTDS][SQL Server]Incorrect syntax near the keyword 'WHERE'.\n[37000][unixODBC][FreeTDS][SQL Server]Statement(s) could not be prepared.\n[ISQL]ERROR: Could not SQLExecute\n[37000][unixODBC][FreeTDS][SQL Server]Incorrect syntax near '='.\n[37000][unixODBC][FreeTDS][SQL Server]Statement(s) could not be prepared.\n[ISQL]ERROR: Could not SQLExecute\n</code></pre>\n\n<ul>\n<li>What in the world is going on here? </li>\n<li>Is it possible isql or MS SQL has a problem with tabs in the test1.sql file? There is one tab before <code>PKG.tracking_no</code>.</li>\n<li>I'm assuming a .sql file is just a text file with SQL statements on it, spanning one or more lines. </li>\n</ul>\n\n<p>Thank you.</p>\n"}, {"tags": ["perl", "config"], "comments": [{"owner": {"reputation": 8202, "user_id": 58074, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/297b31165c5ef426c8fa89c3375b0d2a?s=128&d=identicon&r=PG", "display_name": "dsolimano", "link": "https://stackoverflow.com/users/58074/dsolimano"}, "edited": false, "score": 0, "creation_date": 1437140050, "post_id": 31477055, "comment_id": 50919229, "body": "What you want to do with them?  Can you open the file and search for lines that start with a &#39;;&#39;?"}, {"owner": {"reputation": 109, "user_id": 4846332, "user_type": "registered", "accept_rate": 62, "profile_image": "https://www.gravatar.com/avatar/50720660a60facd09b3b86f06cd1ffcc?s=128&d=identicon&r=PG&f=1", "display_name": "Awanti", "link": "https://stackoverflow.com/users/4846332/awanti"}, "reply_to_user": {"reputation": 8202, "user_id": 58074, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/297b31165c5ef426c8fa89c3375b0d2a?s=128&d=identicon&r=PG", "display_name": "dsolimano", "link": "https://stackoverflow.com/users/58074/dsolimano"}, "edited": false, "score": 0, "creation_date": 1437140364, "post_id": 31477055, "comment_id": 50919441, "body": "this configuration file will be used by two programs, so that with comment parameter will be read by one application and remaining by others application."}, {"owner": {"reputation": 50468, "user_id": 1331451, "user_type": "registered", "accept_rate": 96, "profile_image": "https://i.stack.imgur.com/4ZPmj.png?s=128&g=1", "display_name": "simbabque", "link": "https://stackoverflow.com/users/1331451/simbabque"}, "edited": false, "score": 0, "creation_date": 1437143389, "post_id": 31477055, "comment_id": 50921560, "body": "If you controll both consumers of the file and the file itself, you simply use a different format to mark (&quot;comment&quot;) the settings you only want one of them to read, and implement that in both consumers accordingly."}], "answers": [{"comments": [{"owner": {"reputation": 109, "user_id": 4846332, "user_type": "registered", "accept_rate": 62, "profile_image": "https://www.gravatar.com/avatar/50720660a60facd09b3b86f06cd1ffcc?s=128&d=identicon&r=PG&f=1", "display_name": "Awanti", "link": "https://stackoverflow.com/users/4846332/awanti"}, "edited": false, "score": 0, "creation_date": 1437141011, "post_id": 31477362, "comment_id": 50919892, "body": "i have tried to find in the source...but that has not helped"}, {"owner": {"reputation": 1072, "user_id": 3488735, "user_type": "registered", "accept_rate": 82, "profile_image": "https://i.stack.imgur.com/8DatZ.jpg?s=128&g=1", "display_name": "Gewure", "link": "https://stackoverflow.com/users/3488735/gewure"}, "reply_to_user": {"reputation": 109, "user_id": 4846332, "user_type": "registered", "accept_rate": 62, "profile_image": "https://www.gravatar.com/avatar/50720660a60facd09b3b86f06cd1ffcc?s=128&d=identicon&r=PG&f=1", "display_name": "Awanti", "link": "https://stackoverflow.com/users/4846332/awanti"}, "edited": false, "score": 0, "creation_date": 1437141232, "post_id": 31477362, "comment_id": 50920044, "body": "well then i would suggest you write the parser yourself:  <code>while(&lt;&gt;) {          if($_ ~= &#47;;&#47;) {                   #push it onto some datastructure          } }</code>"}], "tags": [], "owner": {"reputation": 1072, "user_id": 3488735, "user_type": "registered", "accept_rate": 82, "profile_image": "https://i.stack.imgur.com/8DatZ.jpg?s=128&g=1", "display_name": "Gewure", "link": "https://stackoverflow.com/users/3488735/gewure"}, "is_accepted": false, "score": 0, "last_activity_date": 1437140833, "creation_date": 1437140833, "answer_id": 31477362, "question_id": 31477055, "link": "https://stackoverflow.com/questions/31477055/perl-configuration-files-reading/31477362#31477362", "title": "perl configuration files reading", "body": "<p>Ofcourse this is possible - but rather not with the module Config::Simple as it is <em>now</em>. I just read in the <a href=\"http://search.cpan.org/~sherzodr/Config-Simple-4.59/Simple.pm\" rel=\"nofollow\">CPAN</a> that <em>'Retaining comments while writing the configuration files back and/or methods for manipulating comments. Everyone loves comments!'</em> is a <strong>TODO</strong> of this module right now.</p>\n\n<p>have you digged in the source? it should be rather simple to manipulate the read() in such a way that ;-prefixed lines are not ignored, but aswell pushed into the hash.</p>\n"}, {"tags": [], "owner": {"reputation": 62184, "user_id": 7231, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/81b76985f3985e35492e25880493d045?s=128&d=identicon&r=PG", "display_name": "Dave Cross", "link": "https://stackoverflow.com/users/7231/dave-cross"}, "is_accepted": true, "score": 1, "last_activity_date": 1437143749, "creation_date": 1437143749, "answer_id": 31478326, "question_id": 31477055, "link": "https://stackoverflow.com/questions/31477055/perl-configuration-files-reading/31478326#31478326", "title": "perl configuration files reading", "body": "<p>You could try removing <a href=\"https://metacpan.org/source/SHERZODR/Config-Simple-4.59/Simple.pm#L221\" rel=\"nofollow\">the semicolon on this line</a> of the source code. But you would also need to then remove semicolons from the start of option names.</p>\n"}], "owner": {"reputation": 109, "user_id": 4846332, "user_type": "registered", "accept_rate": 62, "profile_image": "https://www.gravatar.com/avatar/50720660a60facd09b3b86f06cd1ffcc?s=128&d=identicon&r=PG&f=1", "display_name": "Awanti", "link": "https://stackoverflow.com/users/4846332/awanti"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 147, "favorite_count": 1, "accepted_answer_id": 31478326, "answer_count": 2, "score": 1, "last_activity_date": 1437143749, "creation_date": 1437139933, "last_edit_date": 1437140289, "question_id": 31477055, "link": "https://stackoverflow.com/questions/31477055/perl-configuration-files-reading", "title": "perl configuration files reading", "body": "<p>Hi i am doing the perl configuration files using <code>Config::Simple</code>\nAnd my configuration file is</p>\n\n<pre class=\"lang-none prettyprint-override\"><code>[Dialer External]\npass=pass2\nuser=user2\n\n[Dialer Onboard]\npass=pass1\nuser=user1\n</code></pre>\n\n<p>Now my actual requirement is that i have to read the comment lines also.\nIf i have file like this</p>\n\n<pre class=\"lang-none prettyprint-override\"><code>[Dialer External]\npass=pass2\nuser=user2\n\n[Dialer Onboard]\npass=pass1\n;user=user1\n</code></pre>\n\n<p>I will be able to read the line <code>;user=user1</code> also.I know it is not fair to read the comments.\nBut is there any way to read  and write the data in comment line.With the help of  <code>Config::Simple</code> i guess it is not possible to do this.</p>\n\n<p>Is there any way to do like this in perl. \nplease suggest and correct me in this regard. Thanks in advance.</p>\n"}, {"tags": ["perl", "post", "utf-8", "get", "cgi"], "comments": [{"owner": {"reputation": 62184, "user_id": 7231, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/81b76985f3985e35492e25880493d045?s=128&d=identicon&r=PG", "display_name": "Dave Cross", "link": "https://stackoverflow.com/users/7231/dave-cross"}, "edited": false, "score": 3, "creation_date": 1437137442, "post_id": 31474840, "comment_id": 50917588, "body": "You&#39;re missing some example code. Without it we would all just be guessing."}, {"owner": {"reputation": 62184, "user_id": 7231, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/81b76985f3985e35492e25880493d045?s=128&d=identicon&r=PG", "display_name": "Dave Cross", "link": "https://stackoverflow.com/users/7231/dave-cross"}, "edited": false, "score": 0, "creation_date": 1437142100, "post_id": 31474840, "comment_id": 50920632, "body": "Discussing this with the CGI.pm maintainer on IRC and it would be helpful to know which version of CGI.pm you are using."}, {"owner": {"reputation": 320771, "user_id": 589924, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/b2cf53d5a3d25f95c0db4e025aed4153?s=128&d=identicon&r=PG", "display_name": "ikegami", "link": "https://stackoverflow.com/users/589924/ikegami"}, "edited": false, "score": 0, "creation_date": 1437145906, "post_id": 31474840, "comment_id": 50923348, "body": "Please provide a minimal, runnable demonstration of the problem. Any demonstration at all would be a good start."}], "answers": [{"tags": [], "owner": {"reputation": 101, "user_id": 4827512, "user_type": "registered", "profile_image": "https://lh3.googleusercontent.com/-w8n2K5cozik/AAAAAAAAAAI/AAAAAAAAABI/HUQjB31UgDc/photo.jpg?sz=128", "display_name": "leejo", "link": "https://stackoverflow.com/users/4827512/leejo"}, "is_accepted": true, "score": 4, "last_activity_date": 1437309788, "last_edit_date": 1437309788, "creation_date": 1437142737, "answer_id": 31478000, "question_id": 31474840, "link": "https://stackoverflow.com/questions/31474840/html-form-get-data-is-utf8-but-post-data-is-not/31478000#31478000", "title": "HTML Form get data is UTF8 but post data is not?", "body": "<p>I just tested this with the <a href=\"https://metacpan.org/source/LEEJO/CGI-4.21/examples/wikipedia_example.cgi\" rel=\"nofollow\">example</a> included in the CGI distribution, which uses a simple form to POST data in a text field. The example works in its current state with utf8 data. If the <code>-utf8</code> flag to <code>use CGI</code> is <strong>included</strong> the \u00f6 char will be corrupted. So this is most likely a bug.</p>\n\n<p>Edit: Digging a bit deeper this is because the utf-8 bit is not set on the variable - CGI <a href=\"https://github.com/leejo/CGI.pm/blob/master/lib/CGI.pm#L448\" rel=\"nofollow\">tries</a> to DTRT, but if the utf-8 bit is not set then it <em>will</em> decode. I'll try to look into this sometime soon, no promises though...</p>\n"}], "owner": {"reputation": 57, "user_id": 1393967, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/2d1836dfe3dbf6de462aa27e34d2a4d5?s=128&d=identicon&r=PG", "display_name": "Reims", "link": "https://stackoverflow.com/users/1393967/reims"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 120, "favorite_count": 0, "accepted_answer_id": 31478000, "answer_count": 1, "score": 2, "last_activity_date": 1437309788, "creation_date": 1437132675, "last_edit_date": 1437133384, "question_id": 31474840, "link": "https://stackoverflow.com/questions/31474840/html-form-get-data-is-utf8-but-post-data-is-not", "title": "HTML Form get data is UTF8 but post data is not?", "body": "<p>I have a problem with some perl CGI scripts that have to deal with special german letters. </p>\n\n<p>My problem is that for example an <code>\u00f6</code> character that I input into a text field is being read correctly if my form uses GET but if I use POST it becomes <code>\u00c3\u00b6</code>. I need it to work with POST, so switching to GET is not a possibility.</p>\n\n<p>The webserver uses utf8, my script is saved as utf8, I explicitly told perl to treat all CGI input as utf8 with \"use CGI -utf8;\" and my databases has the client encoding set to utf8.</p>\n\n<p>What may I be missing?</p>\n"}, {"tags": ["perl"], "comments": [{"owner": {"reputation": 73, "user_id": 5081715, "user_type": "registered", "accept_rate": 0, "profile_image": "https://www.gravatar.com/avatar/f2ca982541b9f4a19e4ff99b38eb8df1?s=128&d=identicon&r=PG&f=1", "display_name": "ktoui", "link": "https://stackoverflow.com/users/5081715/ktoui"}, "edited": false, "score": 0, "creation_date": 1437134790, "post_id": 31474738, "comment_id": 50915883, "body": "catn you provide the full changed skript please..."}, {"owner": {"reputation": 73, "user_id": 5081715, "user_type": "registered", "accept_rate": 0, "profile_image": "https://www.gravatar.com/avatar/f2ca982541b9f4a19e4ff99b38eb8df1?s=128&d=identicon&r=PG&f=1", "display_name": "ktoui", "link": "https://stackoverflow.com/users/5081715/ktoui"}, "edited": false, "score": 0, "creation_date": 1437136813, "post_id": 31474738, "comment_id": 50917159, "body": "@ sobrique updated the answer..the question ....could you PLEASE havea loo at IT"}, {"owner": {"reputation": 51521, "user_id": 2566198, "user_type": "registered", "accept_rate": 67, "profile_image": "https://i.stack.imgur.com/Y34ZA.jpg?s=128&g=1", "display_name": "Sobrique", "link": "https://stackoverflow.com/users/2566198/sobrique"}, "edited": false, "score": 0, "creation_date": 1437137814, "post_id": 31474738, "comment_id": 50917803, "body": "You&#39;re still using <code>&lt;&gt;</code> - which doesn&#39;t work any more. That <code>$header</code> line needs changing too."}], "answers": [{"tags": [], "owner": {"reputation": 51521, "user_id": 2566198, "user_type": "registered", "accept_rate": 67, "profile_image": "https://i.stack.imgur.com/Y34ZA.jpg?s=128&g=1", "display_name": "Sobrique", "link": "https://stackoverflow.com/users/2566198/sobrique"}, "is_accepted": false, "score": 0, "last_activity_date": 1437133094, "creation_date": 1437133094, "answer_id": 31474960, "question_id": 31474738, "link": "https://stackoverflow.com/questions/31474738/modification-of-script-in-perl/31474960#31474960", "title": "modification of script in perl", "body": "<p>The problem you've got is that the diamond operator <code>&lt;&gt;</code> is a piece of special perl magic. </p>\n\n<p>It takes 'all filenames on command line' opens them and processes them in order. </p>\n\n<p>To do what you're trying to do:</p>\n\n<pre><code>my ( $suffix, $filename ) = @ARGV;\nopen ( my $input, \"&lt;\", $filename ) or die $!; \n</code></pre>\n\n<p>Then you can change your while loop to:</p>\n\n<pre><code>while ( &lt;$input&gt; ) {\n</code></pre>\n\n<p>And modify the output filename according to your desires. The key different there is that it'll only take one filename at that point - first arg is suffix, second is name.</p>\n\n<p>You could perhaps extend this with:</p>\n\n<pre><code>my ( $suffix, @names ) = @ARGV;\n</code></pre>\n\n<p>And then run a foreach loop:</p>\n\n<pre><code>foreach my $filename ( @names ) { \n    open .... #etc\n</code></pre>\n"}, {"tags": [], "owner": {"reputation": 62184, "user_id": 7231, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/81b76985f3985e35492e25880493d045?s=128&d=identicon&r=PG", "display_name": "Dave Cross", "link": "https://stackoverflow.com/users/7231/dave-cross"}, "is_accepted": false, "score": 2, "last_activity_date": 1437137301, "creation_date": 1437137301, "answer_id": 31476210, "question_id": 31474738, "link": "https://stackoverflow.com/questions/31474738/modification-of-script-in-perl/31476210#31476210", "title": "modification of script in perl", "body": "<p>As Sobrique says, your problem is the magical nature of <code>&lt;&gt;</code>. But I don't think that it's as hard to deal with as he thinks.</p>\n\n<p>The point is that <code>&lt;&gt;</code> looks at the <em>current</em> value of <code>@ARGV</code>. So you can add other command line arguments as long as you ensure that you have removed them from <code>@ARGV</code> before you use <code>&lt;&gt;</code> for the first time.</p>\n\n<p>So change your code so that it starts like this:</p>\n\n<pre><code>my %seen;\n\nmy $prefix = shift;\n\nmy $header = &lt;&gt; . &lt;&gt;;\n</code></pre>\n\n<p>You can then call your program like this:</p>\n\n<pre><code>$ your_program.pl prefix_goes_here list of file names...\n</code></pre>\n\n<p>Everything else should now work the same as it currently does, but you have your prefix stored away in <code>$prefix</code> so that you can use it in your <code>print</code> statements.</p>\n\n<p>I hope that's what you wanted. Your question isn't particularly clear.</p>\n"}, {"tags": [], "owner": {"reputation": 25491, "user_id": 49197, "user_type": "registered", "accept_rate": 75, "profile_image": "https://www.gravatar.com/avatar/15ebf24a33a29b9efbf9924f530dd736?s=128&d=identicon&r=PG", "display_name": "Hynek -Pichi- Vychodil", "link": "https://stackoverflow.com/users/49197/hynek-pichi-vychodil"}, "is_accepted": false, "score": 1, "last_activity_date": 1437145346, "creation_date": 1437145346, "answer_id": 31478857, "question_id": 31474738, "link": "https://stackoverflow.com/questions/31474738/modification-of-script-in-perl/31478857#31478857", "title": "modification of script in perl", "body": "<p>I would do something like this.</p>\n\n<pre><code>#!/usr/bin/env perl\nuse strict;\nuse warnings;\nuse autodie;\nuse Getopt::Long qw(:config bundling);\nuse Pod::Usage;\n\n{\n    my $man          = 0;\n    my $help         = 0;\n    my $verbose      = 0;\n    my $prefix       = '';\n    my $suffix       = '';\n    my $header_lines = 2;\n    my $bunch_size   = 1000;\n\n    GetOptions(\n        'help|?'                 =&gt; \\$help,\n        'man'                    =&gt; \\$man,\n        'verbose|v+'             =&gt; \\$verbose,\n        'prefix|p=s'             =&gt; \\$prefix,\n        'suffix|s=s'             =&gt; \\$suffix,\n        'header|h=i'             =&gt; \\$header_lines,\n        'bunch|batch|bucket|b=i' =&gt; \\$bunch_size\n    ) or pod2usage(2);\n    pod2usage(1) if $help;\n    pod2usage( -exitval =&gt; 0, -verbose =&gt; 2 ) if $man;\n    pod2usage(\n        -exitval =&gt; 3,\n        -message =&gt; \"Headers lines can't be negative number\"\n    ) if $header_lines &lt; 0;\n    pod2usage(\n        -exitval =&gt; 4,\n        -message =&gt; \"Bunch size has to be positive\"\n    ) unless $bunch_size &gt; 0;\n\n    my $header = '';\n    $header .= &lt;&gt; for 1 .. $header_lines;\n\n    my %seen;\n    my $current_output_number = -1;\n\n    sub key2output { int( shift() / $bunch_size ) }\n\n    sub set_output {\n        my $output_number = shift;\n        if ( $output_number != $current_output_number ) {\n            my $seen = $seen{$output_number}++;\n            printf STDOUT \"Opening %sfile for %d\\n\", $seen ? '' : 'new ',\n                $output_number\n                if $verbose;\n            open my $fh, $seen ? '&gt;&gt;' : '&gt;',\n                $prefix . $output_number . $suffix;\n            select $fh;\n            print $header unless $seen;\n            $current_output_number = $output_number;\n        }\n    }\n}\n\nwhile (&lt;&gt;) {\n    my ($key) = /^(\\d+)\\s/;\n    next unless defined $key;\n    set_output( key2output($key) );\n    print;\n}\n\n__END__\n\n=head1 NAME\n\ncode.pl - splits file by first number by thousands\n\n=head1 SYNOPSIS\n\ncode.pl [options] [file ...]\n\n Options:\n   --help            brief help message\n   --man             full documentation\n   --prefix          output filename prefix\n   --suffix          outpit filename suffix\n   --header          number of header lines (default: 2)\n\n=head1 OPTIONS\n\n=over 8\n\n=item B&lt;--help&gt;\n\nPrint a brief help message and exits.\n\n=item B&lt;--man&gt;\n\nPrints the manual page and exits.\n\n=back\n\n=head1 DESCRIPTION\n\nB&lt;This program&gt; will read the given input file(s) and do something\nuseful with the contents thereof.\n\n=cut\n</code></pre>\n\n<p>Just finish documentation and you can ship it to your colleagues.</p>\n"}], "owner": {"reputation": 73, "user_id": 5081715, "user_type": "registered", "accept_rate": 0, "profile_image": "https://www.gravatar.com/avatar/f2ca982541b9f4a19e4ff99b38eb8df1?s=128&d=identicon&r=PG&f=1", "display_name": "ktoui", "link": "https://stackoverflow.com/users/5081715/ktoui"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 81, "favorite_count": 0, "answer_count": 3, "score": 0, "last_activity_date": 1437145346, "creation_date": 1437132296, "last_edit_date": 1437137136, "question_id": 31474738, "link": "https://stackoverflow.com/questions/31474738/modification-of-script-in-perl", "title": "modification of script in perl", "body": "<p>currently I have the following script</p>\n\n<pre><code>#!/usr/bin/env perl\nuse strict;\nuse warnings;\n\nmy %seen;\n\nmy $header = &lt;&gt; . &lt;&gt;;\nprint $header;\n\nmy $last_sequence_number = 0;\n\nopen( my $output, \"&gt;\", \"output.$last_sequence_number.out\" ) or die $!;\nprint {$output} $header;\n$seen{$last_sequence_number}++;\n\nwhile (&lt;&gt;) {\n    my ($key) = split;\n    next unless $key =~ m/^\\d+$/;\n    my $sequence_number = int( $key / 1000 );\n    if ( not $sequence_number == $last_sequence_number ) {\n        print \"Opening new file for $sequence_number\\n\";\n        close($output);\n        open( $output, \"&gt;\", \"output.$sequence_number.out\" ) or die $!;\n        print {$output} $header unless $seen{$sequence_number}++;\n        $last_sequence_number = $sequence_number;\n    }\n    print {$output} $_;\n}\n</code></pre>\n\n<p>the script splits a file into other files with the pattern file 1 file 2 ... now I would need to pass to the script another parameter which allows to specify a prefix for the output so if this additional input is <code>1</code> then the output would be</p>\n\n<p><code>1_file1</code>,<code>1_file2</code>....and so on.. how could I do that?</p>\n\n<p>I know that something like </p>\n\n<pre><code>use Getopt::Long;\n</code></pre>\n\n<p>could be used?</p>\n\n<p>tried this</p>\n\n<pre><code>#!/usr/bin/env perl\nuse strict;\nuse warnings;\n\nmy %seen;\n\nmy $header = &lt;&gt; . &lt;&gt;;\nprint $header;\nmy ( $suffix, $filename ) = @ARGV;\nopen ( my $input, \"&lt;\", $filename ) or die $!;                                   \nmy $last_sequence_number = 0;\n\nopen( my $output, \"&gt;\", \"output.$last_sequence_number.out\" ) or die $!;\nprint {$output} $header;\n$seen{$last_sequence_number}++;\n\nwhile (&lt;$input&gt;) {\n    my ($key) = split;\n    next unless $key =~ m/^\\d+$/;\n    my $sequence_number = int( $key / 1000 );\n    if ( not $sequence_number == $last_sequence_number ) {\n        print \"Opening new file for $sequence_number\\n\";\n        close($output);\n        open( $output, \"&gt;\", \"output.$sequence_number.out\" ) or die $!;\n        print {$output} $header unless $seen{$sequence_number}++;\n        $last_sequence_number = $sequence_number;\n    }\n    print {$output} $_;\n}\n</code></pre>\n\n<p>but that is not working. What is wrong?</p>\n\n<p>I get </p>\n\n<pre><code> No such file or directory at ./spl.pl line 10, &lt;&gt; line 2.\n</code></pre>\n\n<p>after the header is printed.</p>\n"}, {"tags": ["regex", "perl", "increment"], "answers": [{"comments": [{"owner": {"reputation": 617, "user_id": 2088022, "user_type": "registered", "accept_rate": 50, "profile_image": "https://www.gravatar.com/avatar/a1a6f18974e6dd66dd55dc370e3ab9f3?s=128&d=identicon&r=PG", "display_name": "vervenumen", "link": "https://stackoverflow.com/users/2088022/vervenumen"}, "edited": false, "score": 0, "creation_date": 1437153335, "post_id": 31474572, "comment_id": 50927674, "body": "It worked, thanks! Can you explain what are the changes for: ?= and x (in xge) ?"}, {"owner": {"reputation": 617, "user_id": 2088022, "user_type": "registered", "accept_rate": 50, "profile_image": "https://www.gravatar.com/avatar/a1a6f18974e6dd66dd55dc370e3ab9f3?s=128&d=identicon&r=PG", "display_name": "vervenumen", "link": "https://stackoverflow.com/users/2088022/vervenumen"}, "edited": false, "score": 1, "creation_date": 1437153567, "post_id": 31474572, "comment_id": 50927773, "body": "Ok! I got it from <a href=\"http://perldoc.perl.org/perlre.html#Regular-Expressions\" rel=\"nofollow noreferrer\">perldoc.perl.org/perlre.html#Regular-Expressions</a> that it is a look-ahead assertion. Very neat! Thanks again!"}, {"owner": {"reputation": 48798, "user_id": 223226, "user_type": "registered", "accept_rate": 93, "profile_image": "https://i.stack.imgur.com/iGqE4.png?s=128&g=1", "display_name": "mpapec", "link": "https://stackoverflow.com/users/223226/mpapec"}, "reply_to_user": {"reputation": 617, "user_id": 2088022, "user_type": "registered", "accept_rate": 50, "profile_image": "https://www.gravatar.com/avatar/a1a6f18974e6dd66dd55dc370e3ab9f3?s=128&d=identicon&r=PG", "display_name": "vervenumen", "link": "https://stackoverflow.com/users/2088022/vervenumen"}, "edited": false, "score": 0, "creation_date": 1437153609, "post_id": 31474572, "comment_id": 50927806, "body": "@vervenumen <code>(?= )</code> is positive look ahead (doesn&#39;t go into <code>$1</code>), and <code>&#47;x</code> ignores spaces/newlines when you want to write a regex which may be easier for reader/maintenance."}], "tags": [], "owner": {"reputation": 48798, "user_id": 223226, "user_type": "registered", "accept_rate": 93, "profile_image": "https://i.stack.imgur.com/iGqE4.png?s=128&g=1", "display_name": "mpapec", "link": "https://stackoverflow.com/users/223226/mpapec"}, "is_accepted": true, "score": 11, "last_activity_date": 1437131799, "creation_date": 1437131799, "answer_id": 31474572, "question_id": 31474533, "link": "https://stackoverflow.com/questions/31474533/incrementing-integers-in-particular-positions-in-perl/31474572#31474572", "title": "Incrementing integers in particular positions in perl", "body": "<p>You were close enough, but it has to match at least one digit, followed by <code>:</code>, and substitution part has to return desired result, not print it.</p>\n\n<pre><code>my $s = \"1,2,4 0:5 1:10 3:14\"; \n$s =~ s/([0-9]+) (?=:)/ $1+1 /xge; \nprint $s, \"\\n\";\n</code></pre>\n"}], "owner": {"reputation": 617, "user_id": 2088022, "user_type": "registered", "accept_rate": 50, "profile_image": "https://www.gravatar.com/avatar/a1a6f18974e6dd66dd55dc370e3ab9f3?s=128&d=identicon&r=PG", "display_name": "vervenumen", "link": "https://stackoverflow.com/users/2088022/vervenumen"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 73, "favorite_count": 0, "accepted_answer_id": 31474572, "answer_count": 1, "score": 4, "last_activity_date": 1437131799, "creation_date": 1437131665, "question_id": 31474533, "link": "https://stackoverflow.com/questions/31474533/incrementing-integers-in-particular-positions-in-perl", "title": "Incrementing integers in particular positions in perl", "body": "<p>I have a string like this: </p>\n\n<pre><code>1,2,4 0:5 1:10 3:14\n</code></pre>\n\n<p>which I want to convert into </p>\n\n<pre><code>1,2,4 1:5 2:10 4:14\n</code></pre>\n\n<p>Only numbers before \":\" have to be incremented by 1.</p>\n\n<p>I have tried:</p>\n\n<pre><code>perl -w -e '$s=\"1,2,4 0:5 1:10 3:14\"; \n$s =~ s/([0-9]*):/print(($1+1).\":\")/ge; \nprint(\"$s\\n\");'\n</code></pre>\n\n<p>which strangely returns</p>\n\n<pre><code>1:2:4:1,2,4 15 110 114\n</code></pre>\n\n<p>Is there any easy way of achieving my objective?</p>\n"}, {"tags": ["string", "perl", "permutation", "glob", "case-insensitive"], "comments": [{"owner": {"reputation": 5923, "user_id": 2105156, "user_type": "registered", "accept_rate": 76, "profile_image": "https://i.stack.imgur.com/oRMc0.jpg?s=128&g=1", "display_name": "fugu", "link": "https://stackoverflow.com/users/2105156/fugu"}, "edited": false, "score": 2, "creation_date": 1437130757, "post_id": 31474164, "comment_id": 50913622, "body": "Great. What are you having trouble with?"}, {"owner": {"reputation": 682, "user_id": 4811285, "user_type": "registered", "accept_rate": 100, "profile_image": "https://i.stack.imgur.com/d60KB.jpg?s=128&g=1", "display_name": "theoden8", "link": "https://stackoverflow.com/users/4811285/theoden8"}, "reply_to_user": {"reputation": 5923, "user_id": 2105156, "user_type": "registered", "accept_rate": 76, "profile_image": "https://i.stack.imgur.com/oRMc0.jpg?s=128&g=1", "display_name": "fugu", "link": "https://stackoverflow.com/users/2105156/fugu"}, "edited": false, "score": 0, "creation_date": 1437131013, "post_id": 31474164, "comment_id": 50913765, "body": "@fugu, actually, I need case-insensitive <code>glob</code> to find all files in folders with no matter to cases. As I couldn&#39;t get glob working case-insensitively, I thought that feeding it all possible cases of a string is the best way out. To my mind, there&#39;s no better language that <b>Perl</b> to cope with such things, but I don&#39;t know how to do it without monkeycode."}, {"owner": {"reputation": 51521, "user_id": 2566198, "user_type": "registered", "accept_rate": 67, "profile_image": "https://i.stack.imgur.com/Y34ZA.jpg?s=128&g=1", "display_name": "Sobrique", "link": "https://stackoverflow.com/users/2566198/sobrique"}, "edited": false, "score": 0, "creation_date": 1437132365, "post_id": 31474164, "comment_id": 50914477, "body": "Offering a sample of what you tried is usually a route to better answers.  Because in that case - there&#39;s a better answer. Have a look here and look for <code>:nocase</code> : <a href=\"http://perldoc.perl.org/File/Glob.html\" rel=\"nofollow noreferrer\">perldoc.perl.org/File/Glob.html</a>"}, {"owner": {"reputation": 682, "user_id": 4811285, "user_type": "registered", "accept_rate": 100, "profile_image": "https://i.stack.imgur.com/d60KB.jpg?s=128&g=1", "display_name": "theoden8", "link": "https://stackoverflow.com/users/4811285/theoden8"}, "reply_to_user": {"reputation": 51521, "user_id": 2566198, "user_type": "registered", "accept_rate": 67, "profile_image": "https://i.stack.imgur.com/Y34ZA.jpg?s=128&g=1", "display_name": "Sobrique", "link": "https://stackoverflow.com/users/2566198/sobrique"}, "edited": false, "score": 0, "creation_date": 1437132499, "post_id": 31474164, "comment_id": 50914550, "body": "@Sobrique, doesn&#39;t it distract people who want to be the first from the point?"}, {"owner": {"reputation": 51521, "user_id": 2566198, "user_type": "registered", "accept_rate": 67, "profile_image": "https://i.stack.imgur.com/Y34ZA.jpg?s=128&g=1", "display_name": "Sobrique", "link": "https://stackoverflow.com/users/2566198/sobrique"}, "edited": false, "score": 3, "creation_date": 1437132649, "post_id": 31474164, "comment_id": 50914626, "body": "Well, no, not really. Stack Overflow is about helping people fixing coding problems. It&#39;s a lot easier to do this if we can see the code that we&#39;re fixing. Or indeed - an example of what they&#39;re <i>actually</i> trying to do, because by doing so you get a better idea of an appropriate answer. Your question above looks a lot like an XY problem now, because the problem you&#39;re trying to solve is a case insensitive glob. Which is a lot easier."}, {"owner": {"reputation": 682, "user_id": 4811285, "user_type": "registered", "accept_rate": 100, "profile_image": "https://i.stack.imgur.com/d60KB.jpg?s=128&g=1", "display_name": "theoden8", "link": "https://stackoverflow.com/users/4811285/theoden8"}, "reply_to_user": {"reputation": 51521, "user_id": 2566198, "user_type": "registered", "accept_rate": 67, "profile_image": "https://i.stack.imgur.com/Y34ZA.jpg?s=128&g=1", "display_name": "Sobrique", "link": "https://stackoverflow.com/users/2566198/sobrique"}, "edited": false, "score": 0, "creation_date": 1437132730, "post_id": 31474164, "comment_id": 50914673, "body": "@Sobrique, okay, I&#39;ll try to edit the answer."}, {"owner": {"reputation": 123805, "user_id": 622310, "user_type": "registered", "accept_rate": 33, "profile_image": "https://www.gravatar.com/avatar/8b6d35219e1808520bc238b28161e2e6?s=128&d=identicon&r=PG", "display_name": "Borodin", "link": "https://stackoverflow.com/users/622310/borodin"}, "edited": false, "score": 1, "creation_date": 1437134142, "post_id": 31474164, "comment_id": 50915473, "body": "<b><i>&quot;doesn&#39;t it distract people who want to be the first from the point&quot;</i></b> Does this mean what I think it means -- that you imagine a race amongst contributors to get the first answer in and thereby score points, and an example of what you have tried may slow such people down? While there may be people like that, the best posters just try to write the best answer that they can"}, {"owner": {"reputation": 682, "user_id": 4811285, "user_type": "registered", "accept_rate": 100, "profile_image": "https://i.stack.imgur.com/d60KB.jpg?s=128&g=1", "display_name": "theoden8", "link": "https://stackoverflow.com/users/4811285/theoden8"}, "reply_to_user": {"reputation": 123805, "user_id": 622310, "user_type": "registered", "accept_rate": 33, "profile_image": "https://www.gravatar.com/avatar/8b6d35219e1808520bc238b28161e2e6?s=128&d=identicon&r=PG", "display_name": "Borodin", "link": "https://stackoverflow.com/users/622310/borodin"}, "edited": false, "score": 1, "creation_date": 1437135368, "post_id": 31474164, "comment_id": 50916253, "body": "@Borodin, I don&#39;t think this means what you think it means. There are several ways to quicker get <a href=\"http://meta.stackexchange.com/questions/17204/six-simple-tips-to-get-reputation-fast-on-any-stack-exchange-site\">reputation</a>. Sometimes people make a raw answer and then polish it. There&#39;s nothing more that it means."}, {"owner": {"reputation": 682, "user_id": 4811285, "user_type": "registered", "accept_rate": 100, "profile_image": "https://i.stack.imgur.com/d60KB.jpg?s=128&g=1", "display_name": "theoden8", "link": "https://stackoverflow.com/users/4811285/theoden8"}, "reply_to_user": {"reputation": 123805, "user_id": 622310, "user_type": "registered", "accept_rate": 33, "profile_image": "https://www.gravatar.com/avatar/8b6d35219e1808520bc238b28161e2e6?s=128&d=identicon&r=PG", "display_name": "Borodin", "link": "https://stackoverflow.com/users/622310/borodin"}, "edited": false, "score": 1, "creation_date": 1437136875, "post_id": 31474164, "comment_id": 50917201, "body": "@Borodin, exactly what is told in a comment above. People have different aims and needs on stackexchange. One of the ways of asking my as little as 65-rep practice says is that if your question isn&#39;t as clear as two words, you gonna get a disambiguation in answers, partially because people are in a hurry, partially because they are too lazy to understand what you want. As it can be seen in my <a href=\"http://stackoverflow.com/questions/29783196/stdcerr-cant-print-float-variable\">first question</a>, too much code makes it too complicated and unclear."}, {"owner": {"reputation": 682, "user_id": 4811285, "user_type": "registered", "accept_rate": 100, "profile_image": "https://i.stack.imgur.com/d60KB.jpg?s=128&g=1", "display_name": "theoden8", "link": "https://stackoverflow.com/users/4811285/theoden8"}, "reply_to_user": {"reputation": 123805, "user_id": 622310, "user_type": "registered", "accept_rate": 33, "profile_image": "https://www.gravatar.com/avatar/8b6d35219e1808520bc238b28161e2e6?s=128&d=identicon&r=PG", "display_name": "Borodin", "link": "https://stackoverflow.com/users/622310/borodin"}, "edited": false, "score": 0, "creation_date": 1437138122, "post_id": 31474164, "comment_id": 50917999, "body": "@Borodin, I tried to do what you said. Is it more comprehensible now?"}, {"owner": {"reputation": 123805, "user_id": 622310, "user_type": "registered", "accept_rate": 33, "profile_image": "https://www.gravatar.com/avatar/8b6d35219e1808520bc238b28161e2e6?s=128&d=identicon&r=PG", "display_name": "Borodin", "link": "https://stackoverflow.com/users/622310/borodin"}, "edited": false, "score": 0, "creation_date": 1437139346, "post_id": 31474164, "comment_id": 50918766, "body": "@theoden: Yes, it&#39;s clear. But it still doesn&#39;t look like you&#39;ve made any effort to find or write your own solution"}, {"owner": {"reputation": 682, "user_id": 4811285, "user_type": "registered", "accept_rate": 100, "profile_image": "https://i.stack.imgur.com/d60KB.jpg?s=128&g=1", "display_name": "theoden8", "link": "https://stackoverflow.com/users/4811285/theoden8"}, "reply_to_user": {"reputation": 123805, "user_id": 622310, "user_type": "registered", "accept_rate": 33, "profile_image": "https://www.gravatar.com/avatar/8b6d35219e1808520bc238b28161e2e6?s=128&d=identicon&r=PG", "display_name": "Borodin", "link": "https://stackoverflow.com/users/622310/borodin"}, "edited": false, "score": 0, "creation_date": 1437139945, "post_id": 31474164, "comment_id": 50919160, "body": "@Borodin, before I write anything, the more strict the language, the more exactly I must know what I want to achieve. In this question I&#39;m asking what should I achieve : what are the ways of doing it. That&#39;s at least what I think I asked. Perhaps, it sounded a bit rude and stupid. This time."}, {"owner": {"reputation": 123805, "user_id": 622310, "user_type": "registered", "accept_rate": 33, "profile_image": "https://www.gravatar.com/avatar/8b6d35219e1808520bc238b28161e2e6?s=128&d=identicon&r=PG", "display_name": "Borodin", "link": "https://stackoverflow.com/users/622310/borodin"}, "edited": false, "score": 0, "creation_date": 1437141826, "post_id": 31474164, "comment_id": 50920451, "body": "@theoden: If that&#39;s what you&#39;re asking then it&#39;s <i>off topic</i> for Stack Overflow"}, {"owner": {"reputation": 682, "user_id": 4811285, "user_type": "registered", "accept_rate": 100, "profile_image": "https://i.stack.imgur.com/d60KB.jpg?s=128&g=1", "display_name": "theoden8", "link": "https://stackoverflow.com/users/4811285/theoden8"}, "reply_to_user": {"reputation": 123805, "user_id": 622310, "user_type": "registered", "accept_rate": 33, "profile_image": "https://www.gravatar.com/avatar/8b6d35219e1808520bc238b28161e2e6?s=128&d=identicon&r=PG", "display_name": "Borodin", "link": "https://stackoverflow.com/users/622310/borodin"}, "edited": false, "score": 0, "creation_date": 1437141858, "post_id": 31474164, "comment_id": 50920468, "body": "Let us <a href=\"http://chat.stackoverflow.com/rooms/83557/discussion-between-theoden-and-borodin\">continue this discussion in chat</a>."}], "answers": [{"comments": [{"owner": {"reputation": 682, "user_id": 4811285, "user_type": "registered", "accept_rate": 100, "profile_image": "https://i.stack.imgur.com/d60KB.jpg?s=128&g=1", "display_name": "theoden8", "link": "https://stackoverflow.com/users/4811285/theoden8"}, "edited": false, "score": 0, "creation_date": 1437131741, "post_id": 31474446, "comment_id": 50914154, "body": "Thanks, that&#39;s what I was aiming to get. However, I wrote <b>Note</b> especially to get the answer about getting all cases. Could you, please, slightly edit the answer, so it fully answers the question?"}, {"owner": {"reputation": 123805, "user_id": 622310, "user_type": "registered", "accept_rate": 33, "profile_image": "https://www.gravatar.com/avatar/8b6d35219e1808520bc238b28161e2e6?s=128&d=identicon&r=PG", "display_name": "Borodin", "link": "https://stackoverflow.com/users/622310/borodin"}, "reply_to_user": {"reputation": 682, "user_id": 4811285, "user_type": "registered", "accept_rate": 100, "profile_image": "https://i.stack.imgur.com/d60KB.jpg?s=128&g=1", "display_name": "theoden8", "link": "https://stackoverflow.com/users/4811285/theoden8"}, "edited": false, "score": 0, "creation_date": 1437133714, "post_id": 31474446, "comment_id": 50915205, "body": "@theoden: How does it not fully-answer the question?"}, {"owner": {"reputation": 682, "user_id": 4811285, "user_type": "registered", "accept_rate": 100, "profile_image": "https://i.stack.imgur.com/d60KB.jpg?s=128&g=1", "display_name": "theoden8", "link": "https://stackoverflow.com/users/4811285/theoden8"}, "edited": false, "score": 0, "creation_date": 1437134081, "post_id": 31474446, "comment_id": 50915434, "body": "It shows how you use <code>glob</code>. I was asking for getting all cases. It&#39;s not any kind of making it strict, it just misunderstanding the question: What I was interested in is how to create a list of cases for general purpose, and mentioned a task where I faced such problem. But I&#39;ve given upvote for good and useful code you provided."}, {"owner": {"reputation": 123805, "user_id": 622310, "user_type": "registered", "accept_rate": 33, "profile_image": "https://www.gravatar.com/avatar/8b6d35219e1808520bc238b28161e2e6?s=128&d=identicon&r=PG", "display_name": "Borodin", "link": "https://stackoverflow.com/users/622310/borodin"}, "reply_to_user": {"reputation": 682, "user_id": 4811285, "user_type": "registered", "accept_rate": 100, "profile_image": "https://i.stack.imgur.com/d60KB.jpg?s=128&g=1", "display_name": "theoden8", "link": "https://stackoverflow.com/users/4811285/theoden8"}, "edited": false, "score": 0, "creation_date": 1437134309, "post_id": 31474446, "comment_id": 50915594, "body": "Thank you, but just because I happen to use <code>glob</code> doesn&#39;t mean the code searches for files. As you see in my answer, it simply generates all mixed-case strings as you asked. Try it yourself, and try different values for <code>$filename</code> -- those names don&#39;t have to exist"}], "tags": [], "owner": {"reputation": 123805, "user_id": 622310, "user_type": "registered", "accept_rate": 33, "profile_image": "https://www.gravatar.com/avatar/8b6d35219e1808520bc238b28161e2e6?s=128&d=identicon&r=PG", "display_name": "Borodin", "link": "https://stackoverflow.com/users/622310/borodin"}, "is_accepted": true, "score": 3, "last_activity_date": 1437131348, "creation_date": 1437131348, "answer_id": 31474446, "question_id": 31474164, "link": "https://stackoverflow.com/questions/31474164/perl-get-array-of-all-possible-cases-of-a-string/31474446#31474446", "title": "Perl : Get array of all possible cases of a string", "body": "<p>If you're aiming to use if for <code>glob</code> anyway then you can use <code>glob</code>'s built-in pattern generation</p>\n\n<pre><code>my $filename = 'File.CSV';\n\nmy $test = $filename =~ s/([a-z])/sprintf '{%s,%s}', uc($1), lc($1)/iegr;\n\nsay $test, \"\\n\";\nsay for glob $test;\n</code></pre>\n\n<h3>output</h3>\n\n<pre><code>{F,f}{I,i}{L,l}{E,e}.{C,c}{S,s}{V,v}\n\nFILE.CSV\nFILE.CSv\nFILE.CsV\nFILE.Csv\nFILE.cSV\nFILE.cSv\nFILE.csV\nFILE.csv\nFILe.CSV\nFILe.CSv\nFILe.CsV\nFILe.Csv\nFILe.cSV\nFILe.cSv\nFILe.csV\nFILe.csv\nFIlE.CSV\nFIlE.CSv\nFIlE.CsV\nFIlE.Csv\nFIlE.cSV\nFIlE.cSv\nFIlE.csV\nFIlE.csv\nFIle.CSV\nFIle.CSv\nFIle.CsV\nFIle.Csv\nFIle.cSV\nFIle.cSv\nFIle.csV\nFIle.csv\nFiLE.CSV\nFiLE.CSv\nFiLE.CsV\nFiLE.Csv\nFiLE.cSV\nFiLE.cSv\nFiLE.csV\nFiLE.csv\nFiLe.CSV\nFiLe.CSv\nFiLe.CsV\nFiLe.Csv\nFiLe.cSV\nFiLe.cSv\nFiLe.csV\nFiLe.csv\nFilE.CSV\nFilE.CSv\nFilE.CsV\nFilE.Csv\nFilE.cSV\nFilE.cSv\nFilE.csV\nFilE.csv\nFile.CSV\nFile.CSv\nFile.CsV\nFile.Csv\nFile.cSV\nFile.cSv\nFile.csV\nFile.csv\nfILE.CSV\nfILE.CSv\nfILE.CsV\nfILE.Csv\nfILE.cSV\nfILE.cSv\nfILE.csV\nfILE.csv\nfILe.CSV\nfILe.CSv\nfILe.CsV\nfILe.Csv\nfILe.cSV\nfILe.cSv\nfILe.csV\nfILe.csv\nfIlE.CSV\nfIlE.CSv\nfIlE.CsV\nfIlE.Csv\nfIlE.cSV\nfIlE.cSv\nfIlE.csV\nfIlE.csv\nfIle.CSV\nfIle.CSv\nfIle.CsV\nfIle.Csv\nfIle.cSV\nfIle.cSv\nfIle.csV\nfIle.csv\nfiLE.CSV\nfiLE.CSv\nfiLE.CsV\nfiLE.Csv\nfiLE.cSV\nfiLE.cSv\nfiLE.csV\nfiLE.csv\nfiLe.CSV\nfiLe.CSv\nfiLe.CsV\nfiLe.Csv\nfiLe.cSV\nfiLe.cSv\nfiLe.csV\nfiLe.csv\nfilE.CSV\nfilE.CSv\nfilE.CsV\nfilE.Csv\nfilE.cSV\nfilE.cSv\nfilE.csV\nfilE.csv\nfile.CSV\nfile.CSv\nfile.CsV\nfile.Csv\nfile.cSV\nfile.cSv\nfile.csV\nfile.csv\n</code></pre>\n"}, {"comments": [{"owner": {"reputation": 123805, "user_id": 622310, "user_type": "registered", "accept_rate": 33, "profile_image": "https://www.gravatar.com/avatar/8b6d35219e1808520bc238b28161e2e6?s=128&d=identicon&r=PG", "display_name": "Borodin", "link": "https://stackoverflow.com/users/622310/borodin"}, "edited": false, "score": 0, "creation_date": 1437133931, "post_id": 31474707, "comment_id": 50915351, "body": "This will produce a lot of duplicates where there are non-alphabetic characters in the target string"}, {"owner": {"reputation": 51521, "user_id": 2566198, "user_type": "registered", "accept_rate": 67, "profile_image": "https://i.stack.imgur.com/Y34ZA.jpg?s=128&g=1", "display_name": "Sobrique", "link": "https://stackoverflow.com/users/2566198/sobrique"}, "edited": false, "score": 0, "creation_date": 1437134052, "post_id": 31474707, "comment_id": 50915417, "body": "Yes, this is true. The original referenced question is about a &#39;normal&#39; alpha string though, and generates pretty much the same way, which is why I did it this way."}, {"owner": {"reputation": 682, "user_id": 4811285, "user_type": "registered", "accept_rate": 100, "profile_image": "https://i.stack.imgur.com/d60KB.jpg?s=128&g=1", "display_name": "theoden8", "link": "https://stackoverflow.com/users/4811285/theoden8"}, "reply_to_user": {"reputation": 123805, "user_id": 622310, "user_type": "registered", "accept_rate": 33, "profile_image": "https://www.gravatar.com/avatar/8b6d35219e1808520bc238b28161e2e6?s=128&d=identicon&r=PG", "display_name": "Borodin", "link": "https://stackoverflow.com/users/622310/borodin"}, "edited": false, "score": 0, "creation_date": 1437134288, "post_id": 31474707, "comment_id": 50915576, "body": "Peace, it&#39;s just about filenames. I was writing a simple program to quickly access my conspects. However, @Borodin, could you please give a cleaner solution?"}, {"owner": {"reputation": 123805, "user_id": 622310, "user_type": "registered", "accept_rate": 33, "profile_image": "https://www.gravatar.com/avatar/8b6d35219e1808520bc238b28161e2e6?s=128&d=identicon&r=PG", "display_name": "Borodin", "link": "https://stackoverflow.com/users/622310/borodin"}, "edited": false, "score": 0, "creation_date": 1437134472, "post_id": 31474707, "comment_id": 50915690, "body": "It&#39;s far from clear from the question what strings the OP will be processing. I think you should at least point out that a string like <code>12345678</code> will produce 256 copies of <code>12345678</code>"}, {"owner": {"reputation": 51521, "user_id": 2566198, "user_type": "registered", "accept_rate": 67, "profile_image": "https://i.stack.imgur.com/Y34ZA.jpg?s=128&g=1", "display_name": "Sobrique", "link": "https://stackoverflow.com/users/2566198/sobrique"}, "edited": false, "score": 0, "creation_date": 1437134673, "post_id": 31474707, "comment_id": 50915808, "body": "The referenced post says: &quot;I want a program to generate: Abcdefghij ABcdef.. . . aBcdef.. . ABCDEFGHIJ&quot; which was what I was going on. However I shall amend to make explicit."}], "tags": [], "owner": {"reputation": 51521, "user_id": 2566198, "user_type": "registered", "accept_rate": 67, "profile_image": "https://i.stack.imgur.com/Y34ZA.jpg?s=128&g=1", "display_name": "Sobrique", "link": "https://stackoverflow.com/users/2566198/sobrique"}, "is_accepted": false, "score": 1, "last_activity_date": 1437134897, "last_edit_date": 1437134897, "creation_date": 1437132225, "answer_id": 31474707, "question_id": 31474164, "link": "https://stackoverflow.com/questions/31474164/perl-get-array-of-all-possible-cases-of-a-string/31474707#31474707", "title": "Perl : Get array of all possible cases of a string", "body": "<p>I'd be thinking in terms of: </p>\n\n<ul>\n<li>Loop through the number of possibilities. (2^length).</li>\n<li>Print the 'count' in binary, because that gives a bit mask.</li>\n<li>Use that bit mask to flip the bits on each iteration.</li>\n</ul>\n\n<p>Something like this:</p>\n\n<pre><code>#!/usr/bin/env perl\n\nuse strict;\nuse warnings;\n\nmy $string = \"abcde\";\n\nfor my $mask ( 0 .. 2**length($string) - 1 ) {\n    my @bits = split( '', sprintf( \"%0\" . length($string) . \"b\\n\", $mask ) );\n\n    for ( split( '', $string ) ) {\n        if ( shift @bits ) {tr/a-z/A-Z/}\n        print;\n    }\n    print \"\\n\";\n}\n</code></pre>\n\n<p>This works on pure alphabetical strings to the transformations, but it will always generated 2^length strings, and any character that <em>isn't</em> alphabetic will create duplicates. </p>\n\n<p>'abcdef' will generate case variants to 'abcdeF, abcdEf, abcdEF...ABCDEF'. However '12345678' will generate 256 identical strings. </p>\n\n<p>The easiest way of dealing with that case if it's problematic is to use a hash of strings rather than an array, and use <code>keys</code> to extract the uniques. </p>\n\n<p>However, as you note in your comments:</p>\n\n<blockquote>\n  <p>I need case-insensitive glob to find all files in folders with no matter to cases. As I couldn't get glob working case-insensitively, I thought that feeding it all possible cases of a string is the best way out. To my mind, there's no better language that Perl to cope with such things, but I don't know how to do it without monkeycode.</p>\n</blockquote>\n\n<p>What you want is to be looking at <a href=\"http://perldoc.perl.org/File/Glob.html\" rel=\"nofollow\"><code>File::Glob</code></a> - specifically the <code>:nocase</code> parameter. </p>\n"}], "owner": {"reputation": 682, "user_id": 4811285, "user_type": "registered", "accept_rate": 100, "profile_image": "https://i.stack.imgur.com/d60KB.jpg?s=128&g=1", "display_name": "theoden8", "link": "https://stackoverflow.com/users/4811285/theoden8"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 142, "favorite_count": 0, "accepted_answer_id": 31474446, "answer_count": 2, "score": -2, "last_activity_date": 1437145903, "creation_date": 1437130388, "last_edit_date": 1495541835, "question_id": 31474164, "link": "https://stackoverflow.com/questions/31474164/perl-get-array-of-all-possible-cases-of-a-string", "title": "Perl : Get array of all possible cases of a string", "body": "<p>I need to get an array of all possible cases of a string. Like it's written here:</p>\n\n<p><a href=\"https://stackoverflow.com/questions/6747123/combination-of-all-possible-cases-of-a-string\">Combination of all possible cases of a string</a></p>\n\n<p>How do I do that in <strong>Perl</strong> efficiently?</p>\n\n<p>I want something like this:</p>\n\n<pre><code>print \"$_\\n\" for GetCases('perl');\n\n# Output:\nperl\nPerl\n...\npERl\n...\nPERL\n</code></pre>\n\n<p><strong>Note</strong></p>\n\n<p>I tagged <code>glob</code> because it's the function to which I want to feed the result, so people as me will later find the question. However, The question is not only about this particular case of usage.</p>\n\n<p><strong>Related question : <a href=\"https://meta.stackoverflow.com/questions/299531/should-i-insert-some-code-when-asking-for-idea\">Should I insert some code when asking for idea?</a></strong></p>\n"}, {"tags": ["perl", "hash", "reference"], "comments": [{"owner": {"reputation": 48798, "user_id": 223226, "user_type": "registered", "accept_rate": 93, "profile_image": "https://i.stack.imgur.com/iGqE4.png?s=128&g=1", "display_name": "mpapec", "link": "https://stackoverflow.com/users/223226/mpapec"}, "edited": false, "score": 4, "creation_date": 1437126160, "post_id": 31472689, "comment_id": 50910955, "body": "Check for <code>JSON</code> or <code>Storable</code> with <code>MIME::Base64</code> on CPAN."}, {"owner": {"reputation": 32176, "user_id": 2173773, "user_type": "registered", "accept_rate": 86, "profile_image": "https://i.stack.imgur.com/M8yh6.jpg?s=128&g=1", "display_name": "H&#229;kon H&#230;gland", "link": "https://stackoverflow.com/users/2173773/h%c3%a5kon-h%c3%a6gland"}, "edited": false, "score": 0, "creation_date": 1437126543, "post_id": 31472689, "comment_id": 50911229, "body": "Possible duplicates <a href=\"http://stackoverflow.com/questions/21325492/how-to-pass-array-and-hash-from-one-script-to-another-script\" title=\"how to pass array and hash from one script to another script\">stackoverflow.com/questions/21325492/&hellip;</a>, <a href=\"http://stackoverflow.com/questions/17082007/passing-a-2d-array-from-one-perl-script-to-another?rq=1\" title=\"passing a 2d array from one perl script to another\">stackoverflow.com/questions/17082007/&hellip;</a>"}, {"owner": {"reputation": 4514, "user_id": 4248931, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/HijcJ.png?s=128&g=1", "display_name": "serenesat", "link": "https://stackoverflow.com/users/4248931/serenesat"}, "edited": false, "score": 1, "creation_date": 1437127882, "post_id": 31472689, "comment_id": 50912042, "body": "No need to use <code>-w</code> in <i>shebang</i> line when using <code>use warnings</code>."}, {"owner": {"reputation": 7570, "user_id": 17945, "user_type": "registered", "accept_rate": 36, "profile_image": "https://www.gravatar.com/avatar/e8cbc0b9ed29b027a127d8df309af5a6?s=128&d=identicon&r=PG", "display_name": "reinierpost", "link": "https://stackoverflow.com/users/17945/reinierpost"}, "edited": false, "score": 0, "creation_date": 1437130369, "post_id": 31472689, "comment_id": 50913405, "body": "Don&#39;t use <code>system</code>, use <code>require</code> instead."}], "answers": [{"comments": [{"owner": {"reputation": 1584, "user_id": 1218046, "user_type": "registered", "accept_rate": 75, "profile_image": "https://www.gravatar.com/avatar/2feb5b477b063c4d4bb67087baef2802?s=128&d=identicon&r=PG", "display_name": "Haritz", "link": "https://stackoverflow.com/users/1218046/haritz"}, "edited": false, "score": 1, "creation_date": 1437125875, "post_id": 31472730, "comment_id": 50910770, "body": "And how can I do this? Thanks."}], "tags": [], "owner": {"reputation": 311848, "user_id": 6782, "user_type": "registered", "accept_rate": 78, "profile_image": "https://www.gravatar.com/avatar/dc8c4ddd99b446c28d2e1546c457e508?s=128&d=identicon&r=PG", "display_name": "Alnitak", "link": "https://stackoverflow.com/users/6782/alnitak"}, "is_accepted": false, "score": 0, "last_activity_date": 1437125762, "creation_date": 1437125762, "answer_id": 31472730, "question_id": 31472689, "link": "https://stackoverflow.com/questions/31472689/passing-hash-reference-as-an-argument-to-perl-script-from-perl-script/31472730#31472730", "title": "Passing hash reference as an argument to perl script from perl script", "body": "<p>You can't pass a reference from one script to another - that reference only has meaning within the currently running instance of perl.</p>\n\n<p>You would need to \"serialise\" the data in the first script, and then \"deserialise\" it in the second.</p>\n"}, {"comments": [{"owner": {"reputation": 32176, "user_id": 2173773, "user_type": "registered", "accept_rate": 86, "profile_image": "https://i.stack.imgur.com/M8yh6.jpg?s=128&g=1", "display_name": "H&#229;kon H&#230;gland", "link": "https://stackoverflow.com/users/2173773/h%c3%a5kon-h%c3%a6gland"}, "edited": false, "score": 1, "creation_date": 1437128253, "post_id": 31473030, "comment_id": 50912239, "body": "Nice explanation. You could also use <a href=\"https://metacpan.org/pod/FreezeThaw\" rel=\"nofollow noreferrer\"><code>FreezeThaw</code></a> and pass the freezed string in <code>ARGV</code>.."}, {"owner": {"reputation": 51521, "user_id": 2566198, "user_type": "registered", "accept_rate": 67, "profile_image": "https://i.stack.imgur.com/Y34ZA.jpg?s=128&g=1", "display_name": "Sobrique", "link": "https://stackoverflow.com/users/2566198/sobrique"}, "reply_to_user": {"reputation": 32176, "user_id": 2173773, "user_type": "registered", "accept_rate": 86, "profile_image": "https://i.stack.imgur.com/M8yh6.jpg?s=128&g=1", "display_name": "H&#229;kon H&#230;gland", "link": "https://stackoverflow.com/users/2173773/h%c3%a5kon-h%c3%a6gland"}, "edited": false, "score": 0, "creation_date": 1437128936, "post_id": 31473030, "comment_id": 50912627, "body": "Hadn&#39;t run into that, but have managed to accomplish similar with <code>Storable</code>. The major reason I didn&#39;t suggest that first is because I&#39;m not entirely sure that a frozen scalar is that easy to pass on command line, because of binary content."}], "tags": [], "owner": {"reputation": 51521, "user_id": 2566198, "user_type": "registered", "accept_rate": 67, "profile_image": "https://i.stack.imgur.com/Y34ZA.jpg?s=128&g=1", "display_name": "Sobrique", "link": "https://stackoverflow.com/users/2566198/sobrique"}, "is_accepted": true, "score": 9, "last_activity_date": 1437126617, "creation_date": 1437126617, "answer_id": 31473030, "question_id": 31472689, "link": "https://stackoverflow.com/questions/31472689/passing-hash-reference-as-an-argument-to-perl-script-from-perl-script/31473030#31473030", "title": "Passing hash reference as an argument to perl script from perl script", "body": "<p>A hash is an in memory data structure. Processes 'own' their own memory space, and other processes can't just access it. If you think about it, I'm sure you'll spot why quite quickly.</p>\n\n<p>A hash reference is an address of that memory location. Even if the other process could 'understand' it, it still wouldn't be able to access the memory space.</p>\n\n<p>What we're talking about here is actually quite a big concept - Inter Process Communication or IPC - so much so there's a whole chapter of the documentation about it, called <a href=\"http://perldoc.perl.org/perlipc.html\"><code>perlipc</code></a>.</p>\n\n<p>The long and short of it is this - you can't do what you're trying to do. Sharing memory between processes is much more difficult than you imagine. </p>\n\n<p>What you can do is transfer the data back and forth - not by reference, but the actual information contained. </p>\n\n<p>I would suggest that for your example, the tool for the job is JSON, because then you can encode and decode your hash:</p>\n\n<pre><code>#!/usr/bin/perl -w\n\nuse strict;\nuse warnings;\n\nuse JSON;\n\nmy %hash = (\n    'a' =&gt; \"Harsha\",\n    'b' =&gt; \"Manager\"\n);\n\nmy $json_string = to_json( \\%hash );\n\nprint $json_string;\n</code></pre>\n\n<p>This gives:</p>\n\n<pre><code>{\"b\":\"Manager\",\"a\":\"Harsha\"}\n</code></pre>\n\n<p>Then your can 'pass' your <code>$json_string</code> - either on the command line, although bear in mind that any spaces in it confuses <code>@ARGV</code> a bit if you're not careful - or via <code>STDIN</code>. </p>\n\n<p>And then decode in your sub process:</p>\n\n<pre><code>use strict;\nuse warnings;\n\nuse JSON;\n\nmy $json_string = '{\"b\":\"Manager\",\"a\":\"Harsha\"}';\n\nmy $json = from_json ( $json_string );\n\nmy $string = \"a\";\n\nif (exists($json -&gt; {$string} )){\n    print \"$string = \",$json -&gt; {$string},\"\\n\";\n}\n</code></pre>\n\n<p>(You can make it more similar to your code by doing:</p>\n\n<pre><code>my $json = from_json ( $json_string );\nmy %hash = %$json;\n</code></pre>\n\n<p>Other options would be:</p>\n\n<ul>\n<li>use <code>Storable</code> - either freezing and thawing ( memory) or storing and retrieving (disk)</li>\n<li>use <code>IPC::Open2</code> and send data on <code>STDIN</code>. </li>\n</ul>\n\n<p>There's a variety of options really - have a look at <code>perlipc</code>. But it's not as simple a matter as 'just passing a reference' unfortunately. </p>\n"}, {"tags": [], "owner": {"reputation": 19192, "user_id": 257635, "user_type": "registered", "accept_rate": 89, "profile_image": "https://i.stack.imgur.com/El2tc.jpg?s=128&g=1", "display_name": "Chankey Pathak", "link": "https://stackoverflow.com/users/257635/chankey-pathak"}, "is_accepted": false, "score": 1, "last_activity_date": 1437128448, "creation_date": 1437128448, "answer_id": 31473606, "question_id": 31472689, "link": "https://stackoverflow.com/questions/31472689/passing-hash-reference-as-an-argument-to-perl-script-from-perl-script/31473606#31473606", "title": "Passing hash reference as an argument to perl script from perl script", "body": "<p>Use <a href=\"https://m...content-available-to-author-only...n.org/pod/Storable\" rel=\"nofollow\">Storable</a> to store data in first script and retrieve it from other.</p>\n\n<p>firstscript.pl</p>\n\n<pre><code>store (\\%hash, \"/home/chankey/secondscript.$$\") or die \"could not store\";\n  system(\"perl\", \"secondscript.pl\", $$) == 0 or die \"error\";\n</code></pre>\n\n<p>secondscript.pl</p>\n\n<pre><code>my $parentpid = shift;\nmy $ref = retrieve(\"/home/chankey/secondscript.$parentpid\") or die \"couldn't retrieve\";\nprint Dumper $ref;\n</code></pre>\n\n<p>You've received the %hash in $ref. Now use it the way you want.</p>\n"}, {"comments": [{"owner": {"reputation": 51521, "user_id": 2566198, "user_type": "registered", "accept_rate": 67, "profile_image": "https://i.stack.imgur.com/Y34ZA.jpg?s=128&g=1", "display_name": "Sobrique", "link": "https://stackoverflow.com/users/2566198/sobrique"}, "edited": false, "score": 0, "creation_date": 1437134282, "post_id": 31475159, "comment_id": 50915573, "body": "Are you sure that works? It doesn&#39;t look like it should."}, {"owner": {"reputation": 21782, "user_id": 176646, "user_type": "registered", "accept_rate": 88, "profile_image": "https://i.stack.imgur.com/HsQyV.png?s=128&g=1", "display_name": "ThisSuitIsBlackNot", "link": "https://stackoverflow.com/users/176646/thissuitisblacknot"}, "reply_to_user": {"reputation": 51521, "user_id": 2566198, "user_type": "registered", "accept_rate": 67, "profile_image": "https://i.stack.imgur.com/Y34ZA.jpg?s=128&g=1", "display_name": "Sobrique", "link": "https://stackoverflow.com/users/2566198/sobrique"}, "edited": false, "score": 1, "creation_date": 1437144191, "post_id": 31475159, "comment_id": 50922154, "body": "@Sobrique In this case it does work, because <code>%hash</code> is flattened in the <code>system</code> call, so it&#39;s really doing the equivalent of <code>system(&quot;perl&quot;, &quot;script2.pl&quot;, &quot;a&quot;, &quot;Harsha&quot;, &quot;b&quot;, &quot;Manager&quot;);</code>. It won&#39;t work for nested data structures, objects, or a number of edge cases so I would serialize the data instead."}], "tags": [], "owner": {"reputation": 23, "user_id": 5122532, "user_type": "registered", "profile_image": "https://lh5.googleusercontent.com/-HMQHTf7woOY/AAAAAAAAAAI/AAAAAAAAABg/phltdFBvN-Q/photo.jpg?sz=128", "display_name": "Mukesh Bhoj", "link": "https://stackoverflow.com/users/5122532/mukesh-bhoj"}, "is_accepted": false, "score": -2, "last_activity_date": 1437133751, "creation_date": 1437133751, "answer_id": 31475159, "question_id": 31472689, "link": "https://stackoverflow.com/questions/31472689/passing-hash-reference-as-an-argument-to-perl-script-from-perl-script/31475159#31475159", "title": "Passing hash reference as an argument to perl script from perl script", "body": "<p>Your way of calling perl file is wrong.\nJust change the way of calling it and you are done.</p>\n\n<pre><code>Script1.pl\n---------------------------------\n\n#!/usr/bin/perl -w\n\nuse strict;\nuse warnings;\n\nmy %hash = (\n    'a'      =&gt; \"Harsha\",\n    'b'      =&gt; \"Manager\"\n);\n\nsystem(\"perl\",\"script2.pl\",%hash);\n</code></pre>\n\n<p>Use this <code>%hash</code> in another perl script as shown below.</p>\n\n<pre><code>Script2.pl\n----------------------------------\n\n#!/usr/bin/perl -w\n\nuse strict;\nuse warnings;\n\nmy %hash = @ARGV;\n\nmy $string = \"a\";\n\nif (exists($hash{$string})){\n    print \"$string = $hash{$string}\\n\";\n}\n</code></pre>\n\n<h2>OutPut is</h2>\n\n<pre><code>a = Harsha\n</code></pre>\n"}], "owner": {"reputation": 1584, "user_id": 1218046, "user_type": "registered", "accept_rate": 75, "profile_image": "https://www.gravatar.com/avatar/2feb5b477b063c4d4bb67087baef2802?s=128&d=identicon&r=PG", "display_name": "Haritz", "link": "https://stackoverflow.com/users/1218046/haritz"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 2183, "favorite_count": 0, "accepted_answer_id": 31473030, "answer_count": 4, "score": 1, "last_activity_date": 1437133751, "creation_date": 1437125669, "question_id": 31472689, "link": "https://stackoverflow.com/questions/31472689/passing-hash-reference-as-an-argument-to-perl-script-from-perl-script", "title": "Passing hash reference as an argument to perl script from perl script", "body": "<p>I want to pass a hash reference as an argument from one perl script (script1.pl) to another perl script (script2.pl). This is how my code looks:</p>\n\n<p>----------------------------script1.pl---------------------------------</p>\n\n<pre><code>#!/usr/bin/perl -w\n\nuse strict;\nuse warnings;\n\nmy %hash = (\n'a'      =&gt; \"Harsha\",\n'b'      =&gt; \"Manager\"\n);\n\nmy $ref = \\%hash;\n\nsystem \"perl script2.pl $ref\";\n</code></pre>\n\n<p>----------------------------script2.pl---------------------------------</p>\n\n<pre><code>#!/usr/bin/perl -w\n\nuse strict;\nuse warnings;\n\nmy %hash = %{$ARGV[0]};\n\nmy $string = \"a\";\n\nif (exists($hash{$string})){\n    print \"$string = $hash{$string}\\n\";\n}\n</code></pre>\n\n<p>And this is the output error:</p>\n\n<pre><code>sh: -c: line 0: syntax error near unexpected token `('\nsh: -c: line 0: `perl script2.pl HASH(0x8fbed0)'\n</code></pre>\n\n<p>I can't figure out the right way to pass the reference.</p>\n"}, {"tags": ["perl", "hamming-distance"], "answers": [{"comments": [{"owner": {"reputation": 41, "user_id": 4856490, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/c5b67e63c097301cd5f4c5259c746dc8?s=128&d=identicon&r=PG&f=1", "display_name": "Mck18", "link": "https://stackoverflow.com/users/4856490/mck18"}, "edited": false, "score": 0, "creation_date": 1437132027, "post_id": 31473014, "comment_id": 50914317, "body": "Thanks for your help. I ran the code but the results came back very differently than I was expecting. For example I got b\u0280\u0265i - f\u0280\u0265i : 1 I was expecting b\u0280\u0265i - f\u0280\u0265i : 5."}, {"owner": {"reputation": 198290, "user_id": 1030675, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/957956ce51706d03f19a4dc85a767bb1?s=128&d=identicon&r=PG", "display_name": "choroba", "link": "https://stackoverflow.com/users/1030675/choroba"}, "reply_to_user": {"reputation": 41, "user_id": 4856490, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/c5b67e63c097301cd5f4c5259c746dc8?s=128&d=identicon&r=PG&f=1", "display_name": "Mck18", "link": "https://stackoverflow.com/users/4856490/mck18"}, "edited": false, "score": 0, "creation_date": 1437132449, "post_id": 31473014, "comment_id": 50914527, "body": "@Mck18: Are you sure no characters are missing in sounds.txt? Check the updated script for a check. I&#39;m getting 5."}, {"owner": {"reputation": 41, "user_id": 4856490, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/c5b67e63c097301cd5f4c5259c746dc8?s=128&d=identicon&r=PG&f=1", "display_name": "Mck18", "link": "https://stackoverflow.com/users/4856490/mck18"}, "edited": false, "score": 1, "creation_date": 1437133629, "post_id": 31473014, "comment_id": 50915156, "body": "Nevermind, the code worked perfectly, the sounds file wasn&#39;t in Unicode for somereason! Thank you so much for your help!"}, {"owner": {"reputation": 402, "user_id": 3631856, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/aUUwT.jpg?s=128&g=1", "display_name": "Helmut Wollmersdorfer", "link": "https://stackoverflow.com/users/3631856/helmut-wollmersdorfer"}, "edited": false, "score": 0, "creation_date": 1573580808, "post_id": 31473014, "comment_id": 103924874, "body": "@choroba IMHO in this sort of comparison it gives plausible results, if the shorter word is padded with \\0 (sound &quot;\u0259&quot;). Maybe the two words should be aligned by the Levenshtein algorithm before, if this makes phonetically sense."}], "tags": [], "owner": {"reputation": 198290, "user_id": 1030675, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/957956ce51706d03f19a4dc85a767bb1?s=128&d=identicon&r=PG", "display_name": "choroba", "link": "https://stackoverflow.com/users/1030675/choroba"}, "is_accepted": false, "score": 2, "last_activity_date": 1437132571, "last_edit_date": 1437132571, "creation_date": 1437126549, "answer_id": 31473014, "question_id": 31472400, "link": "https://stackoverflow.com/questions/31472400/calculate-hamming-distance-in-perl/31473014#31473014", "title": "Calculate hamming distance in perl", "body": "<p>Store the mapping from IPA characters to the binary codes in a hash. You can't simply break each word into characters and map them to the hash, as some of the \"characters\" are not represented by a single codepoint in Unicode. So, I just replaced each known combination by the code, and then used XOR to remove common ones or zeros.</p>\n\n<p>Some of the characters are missing in your sample, I had to add them (\u0280 and \u0261).</p>\n\n<pre><code>#!/usr/bin/perl\nuse warnings;\nuse strict;\n\nuse open IO =&gt; 'encoding(utf-8)', ':std';\n\nmy @words;\nopen my $WORDS, '&lt;:encoding(utf-8)', 'words.txt' or die $!;\nchomp(@words = &lt;$WORDS&gt;);\n\nmy %sound;\nopen my $SOUNDS, '&lt;:encoding(utf-8)', 'sounds.txt' or die $!;\nwhile (&lt;$SOUNDS&gt;) {\n    my ($ipa, $features) = /\"(.*?)\":\\[([01]+)\\]/;\n    $sound{$ipa} = $features;\n}\n\nmy $chars = join '|', sort { length $b &lt;=&gt; length $a } keys %sound;\nmy $regex = qr/($chars)/;\n\nmy @sounds;\nfor my $word (@words) {\n    (my $wsound = $word) =~ s/$regex/$sound{$1},/g; # / SO bug\n    push @sounds, $wsound;\n}\n\nfor my $i1 (0 .. $#words - 1) {\n    for my $i2 ($i1 + 1 .. $#words) {\n        warn \"Different length: $words[$i1] - $words[$i2]\"\n            if length $sounds[$i1] != length $sounds[$i2];\n        my $hamming = $sounds[$i1] ^ $sounds[$i2];\n        $hamming =~ tr/\\0//d;\n        $hamming = length $hamming;\n        print \"$words[$i1] - $words[$i2] : $hamming\\n\";\n    }\n}\n</code></pre>\n"}], "owner": {"reputation": 41, "user_id": 4856490, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/c5b67e63c097301cd5f4c5259c746dc8?s=128&d=identicon&r=PG&f=1", "display_name": "Mck18", "link": "https://stackoverflow.com/users/4856490/mck18"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 771, "favorite_count": 0, "answer_count": 1, "score": 2, "last_activity_date": 1437132571, "creation_date": 1437124861, "last_edit_date": 1437131882, "question_id": 31472400, "link": "https://stackoverflow.com/questions/31472400/calculate-hamming-distance-in-perl", "title": "Calculate hamming distance in perl", "body": "<p>I have the following list of words (words.txt) in a file shown in IPA characters (international phonetic alphabet). </p>\n\n<p>Below, I have assigned each IPA character with a binary code in a separate file (sounds.txt). I want to compare each word in the words.txt file using the values for each \"character\" ( for example \"b\" or \"\u014b\" as below) from the sounds.txt file. </p>\n\n<p>I want to print the words and their number value results to a separate file. </p>\n\n<p>First desired output example: the output value for b\u0280\u0265i and f\u0280\u0265i will be 5 because the two binary strings for the characters \"b\" and \"f\" differ in 5 places. </p>\n\n<pre><code>\"b\":[10000100000000010000]\n\"f\":[00100010000000000000] \n</code></pre>\n\n<p>Second example: the output value for b\u0280\u0265i and pl\u0265i will be 6 because the characters \"b\" and \"p\" differ in 1 place and the characters \"\u0280\" and \"1\" differ in 5 places. The final value for the calculation of each pair of words is a sum of the differences in the binary code for each character.  </p>\n\n<pre><code>\"b\":[10000100000000010000]\n\"p\":[10000100000000000000]\n\n\"\u0281\":[00100000000001010000]\n\"l\":[00011000100000010000]\n</code></pre>\n\n<p>I know the code for calculating each individual letter is going to look something like this but I'm not sure how to incorporate the values from the sound.txt file and then getting the compared values from two whole words. I've been reading through a lot of perl tutorials but nothing I've seen yet seems similar to what I want to accomplish. Any advice would be great. </p>\n\n<pre><code>open(my $f1, \"words.txt\");\n    string1 [$f1]\n    string2 [$f1]\n        for (i=0,i&lt;string.length,i++)\n            if(string1[i]!=string2[i])\n                    sum = sum+1\n\nb\u0280\u0265i\nk\u0280wa\nd\u0280wa\nf\u0280wa\nf\u0280\u0265i\n\u0261\u0280w\u025b\u0303\npl\u0265i\np\u0280wa\nt\u0280\u0265i\n\n\"p\":[10000100000000000000]\n\"b\":[10000100000000010000]\n\"f\":[00100010000000000000]\n\"v\":[00100010000000010000]\n\"t\":[10000001000000000000]\n\"d\":[10000001000000010000]\n\"k\":[10000000000010000000]\n\"g\":[10000000000010010000]\n\"s\":[00100000100000000000]\n\"z\":[00100000100000010000]\n\"m\":[01000100000000010000]\n\"n\":[01000001000000010000]\n\"\u0272\":[01000000001000010000]\n\"\u014b\":[01000000000010010000]\n\"\u0283\":[00100000010000000000]\n\"\u0292\":[00100000010000010000]\n\"\u0280\":[00100000000001010000]\n\"w\":[00010000000000110000]\n\"j\":[00010000001000010000]\n\"\u0265\":[00010000000100010000]\n\"l\":[00011000100000010000]\n\"a\":[00000000001000011000]\n\"\u0251\":[00000000000010011000]\n\"\u0251\u0303\":[01000000000010011000]\n\"e\":[00000000001000010010]\n\"\u025b\":[00000000001000010100]\n\"\u025b\u0303\":[01000000001000010100]\n\"\u0259\":[00000000000000000000]\n\"i\":[00000000001000010001]\n\"o\":[00000000000000110010]\n\"\u0254\":[00000000000000110100]\n\"\u0254\u0303\":[01000000000000110100]\n\"\u0153\":[00000000000100010100]\n\"\u0153\u0303\":[01000000000100010100]\n\"\u00f8\":[00000000000100010010]\n\"u\":[00000000000000110001]\n\"y\":[00000000000100010001]\n</code></pre>\n"}, {"tags": ["perl", "perl-module"], "answers": [{"tags": [], "owner": {"reputation": 19192, "user_id": 257635, "user_type": "registered", "accept_rate": 89, "profile_image": "https://i.stack.imgur.com/El2tc.jpg?s=128&g=1", "display_name": "Chankey Pathak", "link": "https://stackoverflow.com/users/257635/chankey-pathak"}, "is_accepted": true, "score": 1, "last_activity_date": 1437115519, "creation_date": 1437115519, "answer_id": 31469832, "question_id": 31469667, "link": "https://stackoverflow.com/questions/31469667/perl-generate-a-file-based-on-a-template/31469832#31469832", "title": "Perl generate a file based on a template", "body": "<p>I use <a href=\"http://metacpan.org/pod/Text::Template\" rel=\"nofollow\">Text::Template</a> for such tasks.</p>\n"}, {"tags": [], "owner": {"reputation": 62184, "user_id": 7231, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/81b76985f3985e35492e25880493d045?s=128&d=identicon&r=PG", "display_name": "Dave Cross", "link": "https://stackoverflow.com/users/7231/dave-cross"}, "is_accepted": false, "score": 4, "last_activity_date": 1437120594, "creation_date": 1437120594, "answer_id": 31471144, "question_id": 31469667, "link": "https://stackoverflow.com/questions/31469667/perl-generate-a-file-based-on-a-template/31471144#31471144", "title": "Perl generate a file based on a template", "body": "<p>There's a Perl FAQ, <a href=\"http://perldoc.perl.org/perlfaq4.html#How-can-I-expand-variables-in-text-strings%3F\" rel=\"nofollow\">How can I expand variables in text strings?</a>. It starts like this:</p>\n\n<blockquote>\n  <p>If you can avoid it, don't, or if you can use a templating system,\n  such as <a href=\"http://search.cpan.org/perldoc/Text::Template\" rel=\"nofollow\">Text::Template</a> or <a href=\"http://search.cpan.org/perldoc/Template\" rel=\"nofollow\">Template</a> Toolkit, do that instead.\n  You might even be able to get the job done with <code>sprintf</code> or <code>printf</code>:</p>\n\n<pre><code>my $string = sprintf 'Say hello to %s and %s', $foo, $bar;\n</code></pre>\n  \n  <p>However, for the one-off simple case where I don't want to pull out a\n  full templating system, I'll use a string that has two Perl scalar\n  variables in it. In this example, I want to expand <code>$foo</code> and <code>$bar</code> to\n  their variable's values:</p>\n\n<pre><code>my $foo = 'Fred';\nmy $bar = 'Barney';\n$string = 'Say hello to $foo and $bar';\n</code></pre>\n  \n  <p>One way I can do this involves the substitution operator and a double <code>/e</code> \n  flag. The first <code>/e</code> evaluates <code>$1</code> on the replacement side and turns it \n  into <code>$foo</code>. The second <code>/e</code> starts with <code>$foo</code> and replaces it with its \n  value. <code>$foo</code>, then, turns into 'Fred', and that's finally what's left in \n  the string:</p>\n\n<pre><code>$string =~ s/(\\$\\w+)/$1/eeg; # 'Say hello to Fred and Barney'\n</code></pre>\n  \n  <p>The <code>/e</code> will also silently ignore violations of strict, replacing \n  undefined variable names with the empty string. Since I'm using the <code>/e</code>\n  flag (twice even!), I have all of the same security problems I have with\n  eval in its string form. If there's something odd in <code>$foo</code> , perhaps\n  something like <code>@{[ system \"rm -rf /\" ]}</code>, then I could get myself in\n  trouble.</p>\n</blockquote>\n\n<p>I'd highly recommend you ignore most of this advice and go directly to a templating system (as recommended in the first line).</p>\n"}], "owner": {"reputation": 1805, "user_id": 1410711, "user_type": "registered", "accept_rate": 77, "profile_image": "https://www.gravatar.com/avatar/2872680a6b9ef5b0407b4fef88966e2e?s=128&d=identicon&r=PG", "display_name": "Recker", "link": "https://stackoverflow.com/users/1410711/recker"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 737, "favorite_count": 1, "accepted_answer_id": 31469832, "answer_count": 2, "score": 0, "last_activity_date": 1437120594, "creation_date": 1437114784, "question_id": 31469667, "link": "https://stackoverflow.com/questions/31469667/perl-generate-a-file-based-on-a-template", "title": "Perl generate a file based on a template", "body": "<p>I am working on a use case that requires me to generate .hpp files based on a template. So something like </p>\n\n<pre><code>#ifdef changethis_hpp\n#define changethis_hpp\n\n#include&lt;fixedheader1&gt;\n...\n#include&lt;fixedheaderN&gt;\n\nclass changethis\n{\n....\n};\n</code></pre>\n\n<p>needs to be generated based on the requirement of <code>changethis</code> string.\nHow can I achieve this in perl? </p>\n\n<p><strong>WHITSF</strong>\nI wrote a fixed template.txt file and and then replaced the text with <code>changethis</code> string and then dumped it as a changethis.hpp. </p>\n\n<p>But is there any other way I can achieve this in perl?</p>\n"}, {"tags": ["perl", "mojolicious"], "answers": [{"tags": [], "owner": {"reputation": 51521, "user_id": 2566198, "user_type": "registered", "accept_rate": 67, "profile_image": "https://i.stack.imgur.com/Y34ZA.jpg?s=128&g=1", "display_name": "Sobrique", "link": "https://stackoverflow.com/users/2566198/sobrique"}, "is_accepted": true, "score": 1, "last_activity_date": 1437133858, "creation_date": 1437133858, "answer_id": 31475196, "question_id": 31469574, "link": "https://stackoverflow.com/questions/31469574/structuring-a-mojolicious-lite-app/31475196#31475196", "title": "Structuring a Mojolicious Lite app", "body": "<p>Having hit something similar, and assuming you're wanting to keep <code>Mojolicious::Lite</code> - the easy solution is to 'outsource' subroutines into packages/modules, that you then <code>use</code>. </p>\n\n<p>You don't need to do anything particularly special though - with <code>Mojolicious::Lite</code> you need 'helpers' which are basically a way of designating subroutines.</p>\n\n<p>You can skip that, and create a separate module that just has subroutines defined that you import. </p>\n\n<p>E.g.</p>\n\n<pre><code>#!/usr/bin/env perl\nuse strict;\nuse warnings;\n\npackage ExtraStuff;\n\n\nsub generate_a_value {\n     return 4; # generated by random dice roll, so guaranteed to be fair and random\n }\n\n1; \n</code></pre>\n\n<p>Then just <code>use</code> that in your Mojolicious app. </p>\n\n<p>Works quite nicely for 'config' type stuff too, especially if you're reusing it. </p>\n\n<p>I wouldn't suggest doing it for direct HTML generation - Mojolicious already handles that for you, and probably better -  but rather just 'outsourcing' stuff that you might be doing via helpers instead anyway. </p>\n"}, {"tags": [], "owner": {"reputation": 11, "user_id": 5993984, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/f2b8f4298881ae434a89692630e4359f?s=128&d=identicon&r=PG&f=1", "display_name": "Nyanstep", "link": "https://stackoverflow.com/users/5993984/nyanstep"}, "is_accepted": false, "score": 0, "last_activity_date": 1462090154, "creation_date": 1462090154, "answer_id": 36964490, "question_id": 31469574, "link": "https://stackoverflow.com/questions/31469574/structuring-a-mojolicious-lite-app/36964490#36964490", "title": "Structuring a Mojolicious Lite app", "body": "<p>When you unpack a lite app, you end up with your routes defined in <code>YourApp.pm</code>, in the <code>startup</code> sub... <a href=\"http://mojolicious.org/perldoc/Mojolicious/Guides/Growing#Simplified-application-class\" rel=\"nofollow\" title=\"like in the guide\">like in the guide</a>. Since you can still dispatch to code-refs by passing the to via <code>$r-&gt;get...</code> and friends, you don't lose anything of that by moving away from light.</p>\n\n<p>The full layout does encourage use of controllers, but you really don't have to do that.</p>\n"}], "owner": {"reputation": 3574, "user_id": 676192, "user_type": "registered", "accept_rate": 72, "profile_image": "https://www.gravatar.com/avatar/fcef8c55deae46cc0bfe986b2c189f70?s=128&d=identicon&r=PG", "display_name": "simone", "link": "https://stackoverflow.com/users/676192/simone"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 254, "favorite_count": 1, "accepted_answer_id": 31475196, "answer_count": 2, "score": 2, "last_activity_date": 1462090154, "creation_date": 1437114439, "last_edit_date": 1437129570, "question_id": 31469574, "link": "https://stackoverflow.com/questions/31469574/structuring-a-mojolicious-lite-app", "title": "Structuring a Mojolicious Lite app", "body": "<p>I really like the fact that with Mojolicious::Lite I have an overview of routes in one file like this.</p>\n\n<pre><code>get '/foo/#bar' =&gt; sub {\n     my $c = shift;\n     ...;\n};\n\nget '/baz/#foo' =&gt; sub {\n     my $c = shift;\n     ...;\n};\n</code></pre>\n\n<p>However in some cases the subs in the file grow too long and complex, and I'd like to split them off, while still keeping the Lite approach.</p>\n\n<p>What's the best way to do that? Is it by creating controllers like in a full Mojolicious app, or should I create helpers in separate modules, and <code>use</code> them?</p>\n\n<p>I can't find pointers to this in the docs.</p>\n"}, {"tags": ["perl", "parsing", "web", "mechanize"], "comments": [{"owner": {"reputation": 50468, "user_id": 1331451, "user_type": "registered", "accept_rate": 96, "profile_image": "https://i.stack.imgur.com/4ZPmj.png?s=128&g=1", "display_name": "simbabque", "link": "https://stackoverflow.com/users/1331451/simbabque"}, "edited": false, "score": 0, "creation_date": 1437129773, "post_id": 31468576, "comment_id": 50913094, "body": "Please post your solution as an answer to the question and accept it. That way others will find it, and people trying to help will see more easily that there is already a solution. You can also <a href=\"https://stackoverflow.com/posts/31468576/edit\">edit</a> the question and remove it there, as it doesn&#39;t belong in the question, or just roll back the change. Thank you."}], "answers": [{"tags": [], "owner": {"reputation": 111, "user_id": 5126039, "user_type": "registered", "accept_rate": 75, "profile_image": "https://www.gravatar.com/avatar/10625023cd60654bbcf3b73c368ff675?s=128&d=identicon&r=PG&f=1", "display_name": "hohel", "link": "https://stackoverflow.com/users/5126039/hohel"}, "is_accepted": true, "score": 3, "last_activity_date": 1437179794, "last_edit_date": 1437179794, "creation_date": 1437149826, "answer_id": 31480277, "question_id": 31468576, "link": "https://stackoverflow.com/questions/31468576/im-not-getting-html-tag-while-parsing/31480277#31480277", "title": "I&#39;m not getting HTML tag while parsing", "body": "<p>I handled it, but totally different way - using HTML::TagParser:</p>\n\n<pre><code>my $html = HTML::TagParser-&gt;new(\"overwrite.xml\");\nmy @li = $html-&gt;getElementsByAttribute('class','author');\n\nforeach(@li){\n    my $a = $_-&gt;firstChild();\n    my $link = $a-&gt;getAttribute('href');\n    say $_-&gt;innerText;\n\n    say $link;\n}\n</code></pre>\n"}], "owner": {"reputation": 111, "user_id": 5126039, "user_type": "registered", "accept_rate": 75, "profile_image": "https://www.gravatar.com/avatar/10625023cd60654bbcf3b73c368ff675?s=128&d=identicon&r=PG&f=1", "display_name": "hohel", "link": "https://stackoverflow.com/users/5126039/hohel"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 92, "favorite_count": 0, "accepted_answer_id": 31480277, "answer_count": 1, "score": 4, "last_activity_date": 1437179794, "creation_date": 1437108666, "last_edit_date": 1437178527, "question_id": 31468576, "link": "https://stackoverflow.com/questions/31468576/im-not-getting-html-tag-while-parsing", "title": "I&#39;m not getting HTML tag while parsing", "body": "<p>The fragment of HTML code which i want to parse is like this:</p>\n\n<pre><code>&lt;ul class=\"authors\"&gt;\n    &lt;li class=\"author\" itemprop=\"author\" itemscope=\"itemscope\" itemtype=\"http://schema.org/Person\"&gt;\n        &lt;a href=\"/search?facet-creator=%22Charles+L.+Fefferman%22\" itemprop=\"name\"&gt;Charles L. Fefferman&lt;/a&gt;,\n    &lt;/li&gt;\n    &lt;li class=\"author\" itemprop=\"author\" itemscope=\"itemscope\" itemtype=\"http://schema.org/Person\"&gt;\n        &lt;a href=\"/search?facet-creator=%22Jos%C3%A9+L.+Rodrigo%22\" itemprop=\"name\"&gt;Jos\u00c3\u00a9 L. Rodrigo&lt;/a&gt;\n    &lt;/li&gt;\n</code></pre>\n\n<p>I want to extract whole <code>&lt;a&gt;</code> elements, but while I'm trying to parse it with <code>WWW::Mechanize::TreeBuilder</code> the only content I get is the names of the authors. So:</p>\n\n<p>Content I'm expecting:</p>\n\n<pre><code>&lt;a href=\"/search?facet-creator=%22Charles+L.+Fefferman%22\" itemprop=\"name\"&gt;Charles L. Fefferman&lt;/a&gt;,\n\n&lt;a href=\"/search?facet-creator=%22Jos%C3%A9+L.+Rodrigo%22\" itemprop=\"name\"&gt;Jos\u00c3\u00a9 L. Rodrigo&lt;/a&gt;\n</code></pre>\n\n<p>Content I'm receiving:</p>\n\n<pre><code>Charles L. Fefferman,\nJos\u00e9 L. Rodrigo\n</code></pre>\n\n<p>Here is the code responsible for parsing this:</p>\n\n<pre><code>my $mech = WWW::Mechanize-&gt;new();\nWWW::Mechanize::TreeBuilder-&gt;meta-&gt;apply($mech);\n$mech-&gt;get($addressdio);\n\nmy @authors = $mech-&gt;look_down('class', 'author');\n\nprint \"Authors: &lt;br /&gt;\";\nforeach ( @authors ) {\n    say $_-&gt;as_text(), \"&lt;br /&gt;\";\n}\n</code></pre>\n\n<p>I thought that it could be to do with <code>as_text()</code>, and also that while CGI gets HTML it doesn't take it as text. </p>\n"}, {"tags": ["regex", "perl"], "answers": [{"comments": [{"owner": {"reputation": 320771, "user_id": 589924, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/b2cf53d5a3d25f95c0db4e025aed4153?s=128&d=identicon&r=PG", "display_name": "ikegami", "link": "https://stackoverflow.com/users/589924/ikegami"}, "edited": false, "score": 1, "creation_date": 1437112331, "post_id": 31467435, "comment_id": 50904056, "body": "ow, that&#39;s a rather awful implementation! 1) Poor performance. 2) Unpredictable recursive replacement (for other map entries). 3) Lack of anchoring (&quot;offwhite&quot; =&gt; &quot;offblanco&quot;)"}], "tags": [], "owner": {"reputation": 74715, "user_id": 471272, "user_type": "registered", "accept_rate": 100, "profile_image": "https://i.stack.imgur.com/jSlyx.gif?s=128&g=1", "display_name": "tchrist", "link": "https://stackoverflow.com/users/471272/tchrist"}, "is_accepted": false, "score": 7, "last_activity_date": 1437099193, "creation_date": 1437099193, "answer_id": 31467435, "question_id": 31467385, "link": "https://stackoverflow.com/questions/31467385/how-to-write-regular-expression-in-perl-with-generic-way/31467435#31467435", "title": "How to write Regular Expression in perl with generic way", "body": "<p>This is a solved problem as currently phrased:</p>\n\n<pre><code>use HTML::Entities qw(decode_entities);\n$unescaped_body = decode_entities($escaped_body);\n</code></pre>\n\n<p>If you really want to do arbitrary pairs of in and out, you should set it up as a hash.</p>\n\n<pre><code>my %remap = (\n   red   =&gt; \"rojo\",\n   white =&gt; \"blanco\",\n   blue  =&gt; \"azul\",\n);\n\nwhile (my($from, $to) = each %remap) {\n    $text =~ s/\\Q$from/$to/g;\n}\n</code></pre>\n\n<p>But that will be slow; there are better ways of doing it, but you probably aren't ready for them yet.</p>\n"}], "owner": {"reputation": 51, "user_id": 3576411, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/KeedJ.jpg?s=128&g=1", "display_name": "Raj", "link": "https://stackoverflow.com/users/3576411/raj"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 90, "favorite_count": 0, "answer_count": 1, "score": 2, "last_activity_date": 1437099550, "creation_date": 1437098870, "last_edit_date": 1437099550, "question_id": 31467385, "link": "https://stackoverflow.com/questions/31467385/how-to-write-regular-expression-in-perl-with-generic-way", "title": "How to write Regular Expression in perl with generic way", "body": "<p>I have written code as: </p>\n\n<pre><code>$body =~ s/&amp;Iacute;/\u00cd/g;    \n$body =~ s/&amp;Oacute;/\u00d3/g;    \n$body =~ s/&amp;Uacute;/\u00da/g;   \n$body =~ s/&amp;Yacute;/\u00dd/g;\n</code></pre>\n\n<p>But this is not a good way. </p>\n\n<p>Could you please provide a generic solution?</p>\n"}]