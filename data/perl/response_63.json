[{"tags": ["perl"], "comments": [{"owner": {"reputation": 42737, "user_id": 4518274, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/UPurS.png?s=128&g=1", "display_name": "Thomas Dickey", "link": "https://stackoverflow.com/users/4518274/thomas-dickey"}, "edited": false, "score": 0, "creation_date": 1458773135, "post_id": 36190015, "comment_id": 60015250, "body": "Possible duplicate of <a href=\"http://stackoverflow.com/questions/8023959/why-use-strict-and-warnings\">Why use strict and warnings?</a>"}, {"owner": {"reputation": 42737, "user_id": 4518274, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/UPurS.png?s=128&g=1", "display_name": "Thomas Dickey", "link": "https://stackoverflow.com/users/4518274/thomas-dickey"}, "edited": false, "score": 0, "creation_date": 1458773192, "post_id": 36190015, "comment_id": 60015271, "body": "short: add &quot;use warnings &#39;all&#39;;&quot; to improve the script."}, {"owner": {"reputation": 32176, "user_id": 2173773, "user_type": "registered", "accept_rate": 86, "profile_image": "https://i.stack.imgur.com/M8yh6.jpg?s=128&g=1", "display_name": "H&#229;kon H&#230;gland", "link": "https://stackoverflow.com/users/2173773/h%c3%a5kon-h%c3%a6gland"}, "edited": false, "score": 1, "creation_date": 1458774973, "post_id": 36190015, "comment_id": 60015915, "body": "If you omit <code>use strict</code> the use of undeclared variables will not cause a compile time failure. So the <code>eval</code> will succeed, but a warning is printed. If you include <code>use strict</code>, <code>eval</code> will fail, and no warning is printed."}, {"owner": {"reputation": 21782, "user_id": 176646, "user_type": "registered", "accept_rate": 88, "profile_image": "https://i.stack.imgur.com/HsQyV.png?s=128&g=1", "display_name": "ThisSuitIsBlackNot", "link": "https://stackoverflow.com/users/176646/thissuitisblacknot"}, "edited": false, "score": 0, "creation_date": 1458790284, "post_id": 36190015, "comment_id": 60020074, "body": "Why are you using <code>eval</code>? It&#39;s completely unnecessary here."}, {"owner": {"reputation": 1019, "user_id": 1524623, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/6cf3087c305d6dc80f3ac41882ff6416?s=128&d=identicon&r=PG", "display_name": "owler", "link": "https://stackoverflow.com/users/1524623/owler"}, "edited": false, "score": 0, "creation_date": 1458798041, "post_id": 36190015, "comment_id": 60021860, "body": "This is the reduction to smallest example of a problem I found in a longer program."}, {"owner": {"reputation": 61610, "user_id": 725418, "user_type": "registered", "accept_rate": 86, "profile_image": "https://www.gravatar.com/avatar/82ac2dc3e1ad4b7187f245c416528df9?s=128&d=identicon&r=PG", "display_name": "TLP", "link": "https://stackoverflow.com/users/725418/tlp"}, "edited": false, "score": 2, "creation_date": 1458806623, "post_id": 36190015, "comment_id": 60024771, "body": "Do not use empty parentheses in sub declaration, it does not add anything that you need, and it does not work like in other languages. Parentheses in sub declarations are used to add prototypes, which are meant to help subroutines work like certain built-in functions. (E.g. <code>map { ... } @list</code> or <code>push @array, $value</code>.)"}], "answers": [{"comments": [{"owner": {"reputation": 1019, "user_id": 1524623, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/6cf3087c305d6dc80f3ac41882ff6416?s=128&d=identicon&r=PG", "display_name": "owler", "link": "https://stackoverflow.com/users/1524623/owler"}, "edited": false, "score": 0, "creation_date": 1458797959, "post_id": 36190282, "comment_id": 60021838, "body": "Thanks, I learned that I need to explicitly check for errors when using <code>eval</code>.  (I still think it&#39;s odd that <code>use strict</code> causes warnings to disappear but I get that it&#39;s because <code>eval</code> has a special way of reporting errors)."}, {"owner": {"reputation": 87649, "user_id": 17389, "user_type": "registered", "accept_rate": 38, "profile_image": "https://www.gravatar.com/avatar/cd06d1314817ce946ab796af8750b56a?s=128&d=identicon&r=PG", "display_name": "ysth", "link": "https://stackoverflow.com/users/17389/ysth"}, "reply_to_user": {"reputation": 1019, "user_id": 1524623, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/6cf3087c305d6dc80f3ac41882ff6416?s=128&d=identicon&r=PG", "display_name": "owler", "link": "https://stackoverflow.com/users/1524623/owler"}, "edited": false, "score": 7, "creation_date": 1458801177, "post_id": 36190282, "comment_id": 60022847, "body": "the warning appears when stringizing an undefined value, but use strict makes it die while the eval is compiling <code>$rule</code>, well before it even starts the substitution search"}], "tags": [], "owner": {"reputation": 87649, "user_id": 17389, "user_type": "registered", "accept_rate": 38, "profile_image": "https://www.gravatar.com/avatar/cd06d1314817ce946ab796af8750b56a?s=128&d=identicon&r=PG", "display_name": "ysth", "link": "https://stackoverflow.com/users/17389/ysth"}, "is_accepted": true, "score": 21, "last_activity_date": 1458773754, "creation_date": 1458773754, "answer_id": 36190282, "question_id": 36190015, "link": "https://stackoverflow.com/questions/36190015/in-perl-use-strict-disables-important-warnings/36190282#36190282", "title": "in perl, &#39;use strict&#39; disables important warnings", "body": "<p>Instead of a warning, it throws an exception.  And you aren't testing to see if eval gave an exception.</p>\n\n<p>Try:</p>\n\n<pre><code>eval \"$rule; 1\" or warn \"exception thrown: $@\\n\";\n</code></pre>\n"}], "owner": {"reputation": 1019, "user_id": 1524623, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/6cf3087c305d6dc80f3ac41882ff6416?s=128&d=identicon&r=PG", "display_name": "owler", "link": "https://stackoverflow.com/users/1524623/owler"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 402, "favorite_count": 0, "accepted_answer_id": 36190282, "answer_count": 1, "score": 3, "last_activity_date": 1458798409, "creation_date": 1458772498, "last_edit_date": 1495542302, "question_id": 36190015, "link": "https://stackoverflow.com/questions/36190015/in-perl-use-strict-disables-important-warnings", "title": "in perl, &#39;use strict&#39; disables important warnings", "body": "<p>Adding <code>use strict</code> to a perl program disables an important warning message.  Is this a bug in perl?</p>\n\n<p>This little program has a problem</p>\n\n<pre><code>#!/usr/bin/perl -w\nmy $rule;\nsub applyRule() {\n    eval $rule;\n}\nmy $foo_bar;\n$foo_bar = \"mega-foo-bar-ness\";\n$rule = 's/#FOO_BAR/$foo_bar/g';\n$_ = \"Please replace #FOO_BAR with something.\";\napplyRule();\nprint STDERR \"OUTPUT: $_\\n\";\n</code></pre>\n\n<p>and we get a helpful warning message when running that program:</p>\n\n<pre class=\"lang-none prettyprint-override\"><code>$ ./test1.pl\nUse of uninitialized value $foo_bar in substitution (s///) at (eval 1) line 1.\nOUTPUT: Please replace  with something.\n</code></pre>\n\n<p>Now add <code>use strict;</code></p>\n\n<pre><code>#!/usr/bin/perl -w\nuse strict;\nmy $rule;\nsub applyRule() {\n    eval $rule;\n}\nmy $foo_bar;\n$foo_bar = \"mega-foo-bar-ness\";\n$rule = 's/#FOO_BAR/$foo_bar/g';\n$_ = \"Please replace #FOO_BAR with something.\";\napplyRule();\nprint STDERR \"OUTPUT: $_\\n\";\n</code></pre>\n\n<p>The substitution just silently fails.</p>\n\n<pre class=\"lang-none prettyprint-override\"><code>$ ./test1.pl\nOUTPUT: Please replace #FOO_BAR with something.\n</code></pre>\n\n<p>When I have mysterious errors in perl should I always try removing <code>use strict</code> to see if I get some helpful warnings?</p>\n\n<p><strong>edit 1</strong> stackoverflow is asking me to describe why this is not a duplicate of <a href=\"https://stackoverflow.com/questions/8023959/why-use-strict-and-warnings\">Why use strict and warnings?</a>.  This is a case where adding <code>use strict</code> results in fewer warnings, which makes debugging harder -- the opposite of what I expect <code>use strict</code> would do; the opposite of what is suggested in the answers to that question: </p>\n\n<blockquote>\n  <p>The pragmas catch many errors sooner than they would be caught otherwise, which makes it easier to find the root causes of the errors.</p>\n</blockquote>\n\n<p><strong>edit 2</strong>:  For anyone else seeing this:  another way is:</p>\n\n<pre><code>defined (eval $rule) or warn \"eval error: $@\\n\";\n</code></pre>\n\n<p>because eval returns undefined if there is an error.  The <em>Programming Perl</em> book states in the section about <code>eval</code></p>\n\n<blockquote>\n  <p>If there is a syntax error or run-time error, eval returns the undefined value and puts the error message in $@.  If there is no error, $@ is guaranteed to be set to the null string, so you can test it reliably afterward for errors.</p>\n</blockquote>\n\n<p>Note however that <a href=\"http://perldoc.perl.org/functions/eval.html\" rel=\"nofollow noreferrer\">with versions prior to Perl 5.14 there can be problems relying on '$@`</a>.</p>\n"}, {"tags": ["perl"], "comments": [{"owner": {"reputation": 53041, "user_id": 4653379, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/b3953dbedd0dabff5cbc3db9b0835b14?s=128&d=identicon&r=PG&f=1", "display_name": "zdim", "link": "https://stackoverflow.com/users/4653379/zdim"}, "edited": false, "score": 2, "creation_date": 1458767263, "post_id": 36188592, "comment_id": 60012695, "body": "<i>Always</i> <code>use warnings;</code> and <code>use strict</code>.  It would tell you about assigning a single value to a hash."}, {"owner": {"reputation": 1790, "user_id": 2934827, "user_type": "registered", "accept_rate": 85, "profile_image": "https://www.gravatar.com/avatar/67024440419e02c6c2bfca52faa2c708?s=128&d=identicon&r=PG&f=1", "display_name": "jsh6303", "link": "https://stackoverflow.com/users/2934827/jsh6303"}, "reply_to_user": {"reputation": 53041, "user_id": 4653379, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/b3953dbedd0dabff5cbc3db9b0835b14?s=128&d=identicon&r=PG&f=1", "display_name": "zdim", "link": "https://stackoverflow.com/users/4653379/zdim"}, "edited": false, "score": 0, "creation_date": 1458767334, "post_id": 36188592, "comment_id": 60012723, "body": "@zdim I did in the main block"}, {"owner": {"reputation": 53041, "user_id": 4653379, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/b3953dbedd0dabff5cbc3db9b0835b14?s=128&d=identicon&r=PG&f=1", "display_name": "zdim", "link": "https://stackoverflow.com/users/4653379/zdim"}, "edited": false, "score": 0, "creation_date": 1458767382, "post_id": 36188592, "comment_id": 60012749, "body": "But then how do you not get <code>Odd number of elements in hash assignment at ...</code> ?"}, {"owner": {"reputation": 53041, "user_id": 4653379, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/b3953dbedd0dabff5cbc3db9b0835b14?s=128&d=identicon&r=PG&f=1", "display_name": "zdim", "link": "https://stackoverflow.com/users/4653379/zdim"}, "edited": false, "score": 0, "creation_date": 1458767493, "post_id": 36188592, "comment_id": 60012793, "body": "The shift gives you the first argument in <code>@_</code> -- this cannot be a hash. A reference to a hash, perhaps? Assuming that it were a hash, a value for a given key is <code>$obj{$field}</code>. If a reference to a hash is indeed passed in, <code>my $robj = shift</code> and then <code>$robj-&gt;{$field}</code>."}, {"owner": {"reputation": 50468, "user_id": 1331451, "user_type": "registered", "accept_rate": 96, "profile_image": "https://i.stack.imgur.com/4ZPmj.png?s=128&g=1", "display_name": "simbabque", "link": "https://stackoverflow.com/users/1331451/simbabque"}, "edited": false, "score": 0, "creation_date": 1458767679, "post_id": 36188592, "comment_id": 60012895, "body": "Comments in Perl are written with a <code>#</code>, not with <code>&#47;&#47;</code>. Please show code that at least doesn&#39;t have syntax errors."}, {"owner": {"reputation": 6130, "user_id": 299242, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/f9bda794bc71267206358bf04ea0a179?s=128&d=identicon&r=PG", "display_name": "mscha", "link": "https://stackoverflow.com/users/299242/mscha"}, "edited": false, "score": 0, "creation_date": 1458772772, "post_id": 36188592, "comment_id": 60015116, "body": "Basically, all that <code>displayObj</code> is trying to do is: <code>say $obj{$field}</code>, right?  You don&#39;t need a separate sub for that."}, {"owner": {"reputation": 123805, "user_id": 622310, "user_type": "registered", "accept_rate": 33, "profile_image": "https://www.gravatar.com/avatar/8b6d35219e1808520bc238b28161e2e6?s=128&d=identicon&r=PG", "display_name": "Borodin", "link": "https://stackoverflow.com/users/622310/borodin"}, "reply_to_user": {"reputation": 53041, "user_id": 4653379, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/b3953dbedd0dabff5cbc3db9b0835b14?s=128&d=identicon&r=PG&f=1", "display_name": "zdim", "link": "https://stackoverflow.com/users/4653379/zdim"}, "edited": false, "score": 0, "creation_date": 1458790737, "post_id": 36188592, "comment_id": 60020199, "body": "@zdim: It&#39;s not a hash reference, it&#39;s a string <code>&quot;{}&quot;</code>. Please would you try to cut down on the number if comments you make? You always write a <i>lot</i> of comments and it becomes confusing. You have written five comments here -- half of all that have been made -- and all that you have said would be fine in a single comment. Are you aware that you can edit and delete your comments?"}, {"owner": {"reputation": 62184, "user_id": 7231, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/81b76985f3985e35492e25880493d045?s=128&d=identicon&r=PG", "display_name": "Dave Cross", "link": "https://stackoverflow.com/users/7231/dave-cross"}, "edited": false, "score": 0, "creation_date": 1458813741, "post_id": 36188592, "comment_id": 60028353, "body": "&quot;It is giving me a compilation error in the <code>if</code> block.&quot; And you didn&#39;t think it might be useful to tell us what the syntax error was?"}], "answers": [{"tags": [], "owner": {"reputation": 33, "user_id": 1216952, "user_type": "registered", "accept_rate": 75, "profile_image": "https://i.stack.imgur.com/6NLC0.jpg?s=128&g=1", "display_name": "Minli Xu", "link": "https://stackoverflow.com/users/1216952/minli-xu"}, "is_accepted": false, "score": -1, "last_activity_date": 1458768663, "creation_date": 1458768663, "answer_id": 36189069, "question_id": 36188592, "link": "https://stackoverflow.com/questions/36188592/accessing-and-displaying-key-value-pairs-in-perl-from-subroutine/36189069#36189069", "title": "Accessing and displaying key-value pairs in Perl from subroutine", "body": "<p>I usually do this way:</p>\n\n<pre><code>sub displayObj{\n   my $objref = shift;\n   my %obj = %{$objref}; \n\n}\n</code></pre>\n"}, {"comments": [{"owner": {"reputation": 1790, "user_id": 2934827, "user_type": "registered", "accept_rate": 85, "profile_image": "https://www.gravatar.com/avatar/67024440419e02c6c2bfca52faa2c708?s=128&d=identicon&r=PG&f=1", "display_name": "jsh6303", "link": "https://stackoverflow.com/users/2934827/jsh6303"}, "edited": false, "score": 0, "creation_date": 1458826043, "post_id": 36192821, "comment_id": 60035989, "body": "Thanks.  This is exactly my first edit before the compile error. But I got error in run time shown as <code>Can&#39;t use string (&quot;{}&quot;) as a HASH ref while &quot;strict refs&quot; in use </code>. What can be the cause of it?"}, {"owner": {"reputation": 123805, "user_id": 622310, "user_type": "registered", "accept_rate": 33, "profile_image": "https://www.gravatar.com/avatar/8b6d35219e1808520bc238b28161e2e6?s=128&d=identicon&r=PG", "display_name": "Borodin", "link": "https://stackoverflow.com/users/622310/borodin"}, "reply_to_user": {"reputation": 1790, "user_id": 2934827, "user_type": "registered", "accept_rate": 85, "profile_image": "https://www.gravatar.com/avatar/67024440419e02c6c2bfca52faa2c708?s=128&d=identicon&r=PG&f=1", "display_name": "jsh6303", "link": "https://stackoverflow.com/users/2934827/jsh6303"}, "edited": false, "score": 1, "creation_date": 1458832246, "post_id": 36192821, "comment_id": 60040337, "body": "@JiajuShen: That is really a separate question so you should post it as one. I had to do a lot of guessing to write this solution, so please include your full program in your question, together with any relevant data files and the desired output. It will help you to read <a href=\"http://stackoverflow.com/help/mcve\"><i>How to create a Minimal, Complete, and Verifiable example</i></a>"}], "tags": [], "owner": {"reputation": 123805, "user_id": 622310, "user_type": "registered", "accept_rate": 33, "profile_image": "https://www.gravatar.com/avatar/8b6d35219e1808520bc238b28161e2e6?s=128&d=identicon&r=PG", "display_name": "Borodin", "link": "https://stackoverflow.com/users/622310/borodin"}, "is_accepted": true, "score": 2, "last_activity_date": 1467554907, "last_edit_date": 1467554907, "creation_date": 1458790431, "answer_id": 36192821, "question_id": 36188592, "link": "https://stackoverflow.com/questions/36188592/accessing-and-displaying-key-value-pairs-in-perl-from-subroutine/36192821#36192821", "title": "Accessing and displaying key-value pairs in Perl from subroutine", "body": "<p>I think you're trying to write a subroutine that displays the value of a hash element given its key</p>\n\n<p>But you're missing the basic purpose of hashes: they're <em>content-addressable</em>. That means there's no need to iterate through all the keys of a hash comparing them to the string you're looking for, you can write just <code>$hash{key}</code> and the search will be done for you very quickly using a <em>hashing</em> system (hence the name of the data type). This is just the same as using <code>$array[$i]</code> to access an array element directly instead of looping over all of the indices of the array comparing each one to <code>$i</code> until you find the element you're looking for</p>\n\n<p>If you're really dealing with objects then you shouldn't be accessing their internal data like this anyway. An object will have <em>accessor</em> methods that return the values you're supposed to be using; anything else is part of the internal working of the class and is meant to be private</p>\n\n<p>The syntax error is in this line</p>\n\n<pre><code>$serialized = %obj[{$field}]\n</code></pre>\n\n<p>where it looks like you're trying to use <em>both</em> a hash key <code>{...}</code> and an array index <code>[...]</code>. That won't work</p>\n\n<p>You don't show how you're calling your subroutine, but I imagine you're passing a <em>reference</em> to a hash, which is a scalar value and must be treated as such inside the subroutine</p>\n\n<p>This program shows a working version of what I think you intended</p>\n\n<pre><code>use strict;\nuse warnings 'all';\n\nmy $obj = {\n    aa =&gt; 1,\n    cc =&gt; 2,\n};\n\ndisplayObj($obj, 'cc');\ndisplayObj($obj, 'bb');\n\nsub displayObj {\n\n    my $obj   = shift; # The hash. It is a JSON object after decode_json()\n    my $field = shift; # The key we are searching. It is a string.\n\n    my $serialized = '{}'; # Initialization\n\n    foreach my $key ( keys %$obj ) {\n        if ( $key eq $field ) {\n            $serialized = $obj-&gt;{$field};\n        }\n    }\n\n    print \"$serialized\\n\";\n}\n</code></pre>\n\n<h3>output</h3>\n\n<pre><code>2\n{}\n</code></pre>\n\n<p>But the loop can be removed altogether as I described, leaving</p>\n\n<pre><code>sub displayObj {\n\n    my ($obj, $field) = @_;\n\n    my $serialized = $obj-&gt;{$field} // '{}';\n\n    print \"$serialized\\n\";\n}\n</code></pre>\n\n<p>which produces exactly the same result. In fact there's little point in creating a subroutine to do this; you can write just</p>\n\n<pre><code>print $obj-&gt;{bb} // '{}', \"\\n\"\n</code></pre>\n\n<p>with the same effect</p>\n"}], "owner": {"reputation": 1790, "user_id": 2934827, "user_type": "registered", "accept_rate": 85, "profile_image": "https://www.gravatar.com/avatar/67024440419e02c6c2bfca52faa2c708?s=128&d=identicon&r=PG&f=1", "display_name": "jsh6303", "link": "https://stackoverflow.com/users/2934827/jsh6303"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 279, "favorite_count": 0, "accepted_answer_id": 36192821, "answer_count": 2, "score": -1, "last_activity_date": 1467554907, "creation_date": 1458766818, "last_edit_date": 1458767216, "question_id": 36188592, "link": "https://stackoverflow.com/questions/36188592/accessing-and-displaying-key-value-pairs-in-perl-from-subroutine", "title": "Accessing and displaying key-value pairs in Perl from subroutine", "body": "<p>New to Perl. Got syntax errors in accessing key-value pairs from subroutine.</p>\n\n<pre><code> sub displayObj{\n    my %obj = shift; //the hash. It is a JSON object after decode_json()\n    my $field = shift; //the key we are searching. It is a string. \n    my $serialized = \"{}\"; //Initialization\n    foreach my $key (keys %obj){\n    if($key eq $field){\n      $serialized = $obj[{$field}];\n    }\n  }\n  print \"$serialized\\n\";\n }\n</code></pre>\n\n<p>It is giving me a compilation error in the <code>if</code> block.</p>\n\n<p>I would like to know: </p>\n\n<p>Should I use <code>%</code> or <code>$</code> in <code>my %obj</code>?</p>\n\n<p>How to access the key-value pair (also a JSON object) and assign it to $serialized using $obj?</p>\n"}, {"tags": ["perl"], "answers": [{"comments": [{"owner": {"reputation": 860, "user_id": 1543853, "user_type": "registered", "accept_rate": 86, "profile_image": "https://www.gravatar.com/avatar/72dc5271019735b6ec8f979e4dc17ef9?s=128&d=identicon&r=PG", "display_name": "SES", "link": "https://stackoverflow.com/users/1543853/ses"}, "edited": false, "score": 0, "creation_date": 1458923085, "post_id": 36188251, "comment_id": 60078721, "body": "This is the best answer for this specific question because strictly taking the longest sequence will lead to unexpected results."}], "tags": [], "owner": {"reputation": 320771, "user_id": 589924, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/b2cf53d5a3d25f95c0db4e025aed4153?s=128&d=identicon&r=PG", "display_name": "ikegami", "link": "https://stackoverflow.com/users/589924/ikegami"}, "is_accepted": false, "score": 2, "last_activity_date": 1458769933, "last_edit_date": 1458769933, "creation_date": 1458765486, "answer_id": 36188251, "question_id": 36188057, "link": "https://stackoverflow.com/questions/36188057/printing-longest-seq-in-an-array-using-perl/36188251#36188251", "title": "Printing longest seq in an array using perl", "body": "<p>A simple solution that returns the first of the longest strings:</p>\n\n<pre><code>use List::Util qw( reduce );\n\nmy $longest = reduce { length($a) &gt;= length($b) ? $a : $b } @a;\n</code></pre>\n\n<p>A simple solution that returns the all of the longest strings:</p>\n\n<pre><code>use List::Util qw( max );\n\nmy $max_len = max map { length($_) } @a;\nmy @longests = grep { length($_) == $max_len } @a;\n</code></pre>\n"}, {"comments": [{"owner": {"reputation": 320771, "user_id": 589924, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/b2cf53d5a3d25f95c0db4e025aed4153?s=128&d=identicon&r=PG", "display_name": "ikegami", "link": "https://stackoverflow.com/users/589924/ikegami"}, "edited": false, "score": 0, "creation_date": 1458766570, "post_id": 36188376, "comment_id": 60012337, "body": "I&#39;m not sure that ST helps here. It only helps if time it takes to find the length of a string the second time is longer than the time it takes to do <code>-&gt;[1]</code> (and that&#39;s not even counting ST&#39;s overhead). It might actually make things slower."}, {"owner": {"reputation": 320771, "user_id": 589924, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/b2cf53d5a3d25f95c0db4e025aed4153?s=128&d=identicon&r=PG", "display_name": "ikegami", "link": "https://stackoverflow.com/users/589924/ikegami"}, "edited": false, "score": 0, "creation_date": 1458766638, "post_id": 36188376, "comment_id": 60012373, "body": "This solution doesn&#39;t scale well. It&#39;s O(N log N), while there exists an O(N) solution."}], "tags": [], "owner": {"reputation": 6258, "user_id": 82262, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/8ce15931410b388a52eb2df4a864137f?s=128&d=identicon&r=PG&f=1", "display_name": "Matt Jacob", "link": "https://stackoverflow.com/users/82262/matt-jacob"}, "is_accepted": false, "score": -1, "last_activity_date": 1458765966, "creation_date": 1458765966, "answer_id": 36188376, "question_id": 36188057, "link": "https://stackoverflow.com/questions/36188057/printing-longest-seq-in-an-array-using-perl/36188376#36188376", "title": "Printing longest seq in an array using perl", "body": "<p>Use a <a href=\"https://en.wikipedia.org/wiki/Schwartzian_transform\" rel=\"nofollow\">Schwartzian transform</a>:</p>\n\n<pre><code>use strict;\nuse warnings;\nuse v5.10;\n\nmy @sorted = map  { $_-&gt;[0] }\n             sort { $a-&gt;[1] &lt;=&gt; $b-&gt;[1] }\n             map  { [$_, length($_)] }\n             qw(AAAA CGTGATG CGTGATTTGG);\n\nsay $sorted[-1];\nsay pop(@sorted);\n</code></pre>\n"}, {"comments": [{"owner": {"reputation": 320771, "user_id": 589924, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/b2cf53d5a3d25f95c0db4e025aed4153?s=128&d=identicon&r=PG", "display_name": "ikegami", "link": "https://stackoverflow.com/users/589924/ikegami"}, "edited": false, "score": 1, "creation_date": 1458769780, "post_id": 36188585, "comment_id": 60013839, "body": "Note that this only finds one of the longest (the first one)"}, {"owner": {"reputation": 79972, "user_id": 298607, "user_type": "registered", "accept_rate": 88, "profile_image": "https://i.stack.imgur.com/DVW9g.jpg?s=128&g=1", "display_name": "dawg", "link": "https://stackoverflow.com/users/298607/dawg"}, "reply_to_user": {"reputation": 320771, "user_id": 589924, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/b2cf53d5a3d25f95c0db4e025aed4153?s=128&d=identicon&r=PG", "display_name": "ikegami", "link": "https://stackoverflow.com/users/589924/ikegami"}, "edited": false, "score": 0, "creation_date": 1458775111, "post_id": 36188585, "comment_id": 60015969, "body": "The OP stated: <b>&quot;I just want to print the seq with the longest string&quot;</b> This does that."}, {"owner": {"reputation": 320771, "user_id": 589924, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/b2cf53d5a3d25f95c0db4e025aed4153?s=128&d=identicon&r=PG", "display_name": "ikegami", "link": "https://stackoverflow.com/users/589924/ikegami"}, "edited": false, "score": 0, "creation_date": 1458775208, "post_id": 36188585, "comment_id": 60016004, "body": "Again, only if there&#39;s only one string that&#39;s longest. If there&#39;s more than one sing tied for longest, it returns <b>one of the longest</b> instead."}, {"owner": {"reputation": 320771, "user_id": 589924, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/b2cf53d5a3d25f95c0db4e025aed4153?s=128&d=identicon&r=PG", "display_name": "ikegami", "link": "https://stackoverflow.com/users/589924/ikegami"}, "edited": false, "score": 1, "creation_date": 1458775540, "post_id": 36188585, "comment_id": 60016117, "body": "I&#39;m not saying your solution is wrong; I&#39;m just making a note of how it behaves in the situation the OP forgot to cover."}], "tags": [], "owner": {"reputation": 79972, "user_id": 298607, "user_type": "registered", "accept_rate": 88, "profile_image": "https://i.stack.imgur.com/DVW9g.jpg?s=128&g=1", "display_name": "dawg", "link": "https://stackoverflow.com/users/298607/dawg"}, "is_accepted": false, "score": 0, "last_activity_date": 1458766797, "last_edit_date": 1495535648, "creation_date": 1458766797, "answer_id": 36188585, "question_id": 36188057, "link": "https://stackoverflow.com/questions/36188057/printing-longest-seq-in-an-array-using-perl/36188585#36188585", "title": "Printing longest seq in an array using perl", "body": "<p>Here is the fastest from the <a href=\"https://stackoverflow.com/questions/4182010/the-fastest-way-execution-time-to-find-the-longest-element-in-an-list\">previous post</a> on this topic:</p>\n\n<pre><code>sub longest {\n    my $max = -1;\n    my $max_ref;\n    for (@_) {\n        if (length &gt; $max) {  # no temp variable, length() twice is faster\n            $max = length;\n            $max_ref = \\$_;   # avoid any copying\n        }\n    }\n    $$max_ref\n}\n</code></pre>\n"}], "owner": {"reputation": 373, "user_id": 3138373, "user_type": "registered", "accept_rate": 55, "profile_image": "https://www.gravatar.com/avatar/3a952083dbeb745df5ab4f9bda2abe7c?s=128&d=identicon&r=PG&f=1", "display_name": "user3138373", "link": "https://stackoverflow.com/users/3138373/user3138373"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 226, "favorite_count": 2, "closed_date": 1458813629, "answer_count": 3, "score": 0, "last_activity_date": 1458773457, "creation_date": 1458764820, "last_edit_date": 1458765411, "question_id": 36188057, "link": "https://stackoverflow.com/questions/36188057/printing-longest-seq-in-an-array-using-perl", "closed_reason": "Duplicate", "title": "Printing longest seq in an array using perl", "body": "<p>I have an array with sequences as shown below in it</p>\n\n<pre><code>my @a = qw(AAAA CGTGATG CGTGATTTGG);\n</code></pre>\n\n<p>I want to print out the sequence which is longest in the length using perl.\nSo output should be </p>\n\n<pre><code>CGTGATTTGG\n\n#!/usr/bin/perl-w\nuse strict;\nuse warnings;\nuse List::Util qw( min max );\n\nmy %hash = ();\nmy @a = qw(AAAA CGTGATG CGTGATTTGG);\n\nforeach(@a){\n    print join(\"\\t\",$_,length($_)),\"\\n\";\n}\n</code></pre>\n\n<p>Which prints out</p>\n\n<pre><code>AAAA    4\nCGTGATG 7\nCGTGATTTGG  10\n</code></pre>\n\n<p>I just want to print the seq with the longest string that is 10</p>\n\n<p>How can I do it</p>\n\n<p>Thanks</p>\n"}, {"tags": ["arrays", "perl"], "comments": [{"owner": {"reputation": 11, "user_id": 5451507, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/f08ca302fe738fc658a4d1025278415e?s=128&d=identicon&r=PG&f=1", "display_name": "john castello", "link": "https://stackoverflow.com/users/5451507/john-castello"}, "edited": false, "score": 0, "creation_date": 1458762454, "post_id": 36187342, "comment_id": 60010012, "body": "thanks Hunter McMillen I was trying to figure out how to do that just now."}], "answers": [{"tags": [], "owner": {"reputation": 2414, "user_id": 5379657, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/7ab4a9ac2ee2c7a27f5d976d6a787970?s=128&d=identicon&r=PG&f=1", "display_name": "Jeff Y", "link": "https://stackoverflow.com/users/5379657/jeff-y"}, "is_accepted": false, "score": 1, "last_activity_date": 1458763144, "creation_date": 1458763144, "answer_id": 36187594, "question_id": 36187342, "link": "https://stackoverflow.com/questions/36187342/how-to-multiply-a-value-in-an-array-from-a-text-file-in-perl/36187594#36187594", "title": "how to multiply a value in an array from a text file in perl", "body": "<p>You don't want to read a file into an array generally. Get rid of <code>my @galaxy</code> entirely and use the default internal \"current record\" variable <code>$_</code> instead. And you might as well use the default split separator (whitespace) as well:</p>\n\n<pre><code>while (&lt;$fh&gt;){\n   ... = split;\n   ...\n      print;\n...\n</code></pre>\n"}, {"comments": [{"owner": {"reputation": 21782, "user_id": 176646, "user_type": "registered", "accept_rate": 88, "profile_image": "https://i.stack.imgur.com/HsQyV.png?s=128&g=1", "display_name": "ThisSuitIsBlackNot", "link": "https://stackoverflow.com/users/176646/thissuitisblacknot"}, "edited": false, "score": 0, "creation_date": 1458765860, "post_id": 36187647, "comment_id": 60011932, "body": "<code>%foo = (x =&gt; 37);</code> would probably be a better example than <code>$foo{&quot;x&quot;} = 37;</code> since it uses the hash sigil."}, {"owner": {"reputation": 22495, "user_id": 5382650, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/THfCr.png?s=128&g=1", "display_name": "Craig Estey", "link": "https://stackoverflow.com/users/5382650/craig-estey"}, "reply_to_user": {"reputation": 21782, "user_id": 176646, "user_type": "registered", "accept_rate": 88, "profile_image": "https://i.stack.imgur.com/HsQyV.png?s=128&g=1", "display_name": "ThisSuitIsBlackNot", "link": "https://stackoverflow.com/users/176646/thissuitisblacknot"}, "edited": false, "score": 0, "creation_date": 1458767252, "post_id": 36187647, "comment_id": 60012686, "body": "@ThisSuitIsBlackNot Yes, I knew that [and tried it but was in a hurry]. IMO, the <code>=&gt;</code> is a syntactic hack as it translates to <code>,</code> [so I never use it]. But, even though I&#39;ve been writing perl for 23 years,  I don&#39;t write &quot;idiomatic&quot; perl. My perl looks like a C programmer did it [by design].  I&#39;ve got 250,000 lines of it. For a small sample [which is just autogenerated by another script of mine], see <a href=\"http://pastebin.com/Ny1w6pUh\" rel=\"nofollow noreferrer\">pastebin.com/Ny1w6pUh</a> To see my flavor, note the <code>master</code> [which <i>all</i> my programs have] and <code>vbq*</code>"}, {"owner": {"reputation": 21782, "user_id": 176646, "user_type": "registered", "accept_rate": 88, "profile_image": "https://i.stack.imgur.com/HsQyV.png?s=128&g=1", "display_name": "ThisSuitIsBlackNot", "link": "https://stackoverflow.com/users/176646/thissuitisblacknot"}, "edited": false, "score": 0, "creation_date": 1458768346, "post_id": 36187647, "comment_id": 60013235, "body": "<code>=&gt;</code> is syntactic sugar, but I don&#39;t know why that makes you want to avoid it. To each his own, I guess. Regardless, my point wasn&#39;t about <code>=&gt;</code>, I just thought it would be more consistent and helpful to show each of the different sigils in your declarations; <code>%foo = (&quot;x&quot;, 37);</code> would be fine, too."}, {"owner": {"reputation": 22495, "user_id": 5382650, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/THfCr.png?s=128&g=1", "display_name": "Craig Estey", "link": "https://stackoverflow.com/users/5382650/craig-estey"}, "reply_to_user": {"reputation": 21782, "user_id": 176646, "user_type": "registered", "accept_rate": 88, "profile_image": "https://i.stack.imgur.com/HsQyV.png?s=128&g=1", "display_name": "ThisSuitIsBlackNot", "link": "https://stackoverflow.com/users/176646/thissuitisblacknot"}, "edited": false, "score": 0, "creation_date": 1458770102, "post_id": 36187647, "comment_id": 60014002, "body": "@ThisSuitIsBlackNot It&#39;s not just syntax. I don&#39;t ever use <code>%foo = @bar</code> either. I only do <code>%foo = %bar</code> (or <code>%foo = %$myref</code>). I either build complex hashes by reading from <code>__DATA__</code> or other methods. Isn&#39;t that the mantra: &quot;In perl, there&#39;s more than one way to do it&quot;?. In fact, all my scripts run through a preprocessor (see <code>perldoc -f require</code> and the last half about inserting hooks). I use the subroutine hook to morph code as it&#39;s read by the interpreter (expanding macros, etc.). I don&#39;t use &quot;use strict&quot; either. I have a script that does much more powerful checking."}], "tags": [], "owner": {"reputation": 22495, "user_id": 5382650, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/THfCr.png?s=128&g=1", "display_name": "Craig Estey", "link": "https://stackoverflow.com/users/5382650/craig-estey"}, "is_accepted": false, "score": 1, "last_activity_date": 1458769664, "last_edit_date": 1458769664, "creation_date": 1458763332, "answer_id": 36187647, "question_id": 36187342, "link": "https://stackoverflow.com/questions/36187342/how-to-multiply-a-value-in-an-array-from-a-text-file-in-perl/36187647#36187647", "title": "how to multiply a value in an array from a text file in perl", "body": "<p>Change [this reads into an <em>array</em> variable]:</p>\n\n<pre><code>while ( my @galaxy = &lt;$fh&gt;) {\n</code></pre>\n\n<p>Into [this reads into a <em>scalar</em> variable]:</p>\n\n<pre><code>while ( my $galaxy = &lt;$fh&gt;) {\n</code></pre>\n\n<p>Your split:</p>\n\n<pre><code>my($planet,$number_moons,...) = split / /, $galaxy;\n</code></pre>\n\n<p>uses a <em>scalar</em> variable.</p>\n\n<p>In perl, you can have three types of variables, all with the same name and they are <em>not</em> related. They are distinguished by the syntax:</p>\n\n<pre><code># scalar:\n$foo = 17;\n\n# array:\n@foo = (23);\n\n# hash:\n$bar{\"x\"} = 37;\n%foo = %bar;\n\nprintf(\"scalar: %d\\n\",$foo);\nprintf(\"array: %d\\n\",$foo[0]);\nprintf(\"hash: %d\\n\",$foo{\"x\"});\n</code></pre>\n"}, {"comments": [{"owner": {"reputation": 11, "user_id": 5451507, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/f08ca302fe738fc658a4d1025278415e?s=128&d=identicon&r=PG&f=1", "display_name": "john castello", "link": "https://stackoverflow.com/users/5451507/john-castello"}, "edited": false, "score": 0, "creation_date": 1458772333, "post_id": 36187987, "comment_id": 60014940, "body": "thank you so much @Ed Dunn, this is very helful. the only part that is confusing me a little bit is the last part (for my $keys.....). is there any way you could elaborate more?"}, {"owner": {"reputation": 962, "user_id": 4204127, "user_type": "registered", "accept_rate": 33, "profile_image": "https://graph.facebook.com/1241595301/picture?type=large", "display_name": "Ed Dunn", "link": "https://stackoverflow.com/users/4204127/ed-dunn"}, "reply_to_user": {"reputation": 11, "user_id": 5451507, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/f08ca302fe738fc658a4d1025278415e?s=128&d=identicon&r=PG&f=1", "display_name": "john castello", "link": "https://stackoverflow.com/users/5451507/john-castello"}, "edited": false, "score": 0, "creation_date": 1458825920, "post_id": 36187987, "comment_id": 60035911, "body": "so the first part of that for loop is assigning the key of each hash key (celestial, which are the planet names) to the variable keys.  The print $leys prints the first part of the line, the planet name.  The second foreach loop assigns the value (which in this case is an array reference) to the variable $k, so @{$celestial{$keys}} = the value of the current $keys value we grabbed from the for loop above, so if the current value of $keys is &quot;earth&quot; then the value of $k is what ever array we assigned to earth.  Hope that makes some sense,"}, {"owner": {"reputation": 11, "user_id": 5451507, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/f08ca302fe738fc658a4d1025278415e?s=128&d=identicon&r=PG&f=1", "display_name": "john castello", "link": "https://stackoverflow.com/users/5451507/john-castello"}, "edited": false, "score": 0, "creation_date": 1459006215, "post_id": 36187987, "comment_id": 60104698, "body": "yes it does thank you so much, you are a great help.!!"}], "tags": [], "owner": {"reputation": 962, "user_id": 4204127, "user_type": "registered", "accept_rate": 33, "profile_image": "https://graph.facebook.com/1241595301/picture?type=large", "display_name": "Ed Dunn", "link": "https://stackoverflow.com/users/4204127/ed-dunn"}, "is_accepted": true, "score": 0, "last_activity_date": 1458766240, "last_edit_date": 1458766240, "creation_date": 1458764519, "answer_id": 36187987, "question_id": 36187342, "link": "https://stackoverflow.com/questions/36187342/how-to-multiply-a-value-in-an-array-from-a-text-file-in-perl/36187987#36187987", "title": "how to multiply a value in an array from a text file in perl", "body": "<p>I'd probably do something along these lines</p>\n\n<pre><code>#!/usr/bin/perl\n\nuse warnings;\nuse strict;\n\nmy $file = 'planets.txt';\n\nopen my $fh, '&lt;', $file;\n\nwhile (my $galaxy = &lt;$fh&gt;){\n    chomp $galaxy;\n    my($planet,$number_moons,$obj_orbit,$orbital_radius,$orbital_period,$orbital_inclination, $orbtial_eccentricity, $discoverer, $year) = split ' ', $galaxy;\n\n    if (my ($inseconds) = $orbital_period =~ /([0-9.]+)/){\n        $inseconds = $orbital_period * 86400;\n        $galaxy =~ s/$orbital_period/$inseconds/;\n    }\n    print $galaxy . \"\\n\";\n}\nclose($fh);\n</code></pre>\n\n<p>The only problem I forsee with this is if any value BEFORE the orbital period is the same as the orbital period that value will be replaced by the regex match.  There is another option and that would be loading the line into a hash and update the value that way, I'll provide an example</p>\n\n<p><b>--- UPDATE ---</b></p>\n\n<p>Here's an example using a hash, the downside of a hash is that it will not print things out in the same order so in order to get around that you could populate a hash with an array like so</p>\n\n<pre><code>#!/usr/bin/perl\n\nuse warnings;\nuse strict;\n\nmy $file = 'planets.txt';\nmy %celestial;\n\nopen my $fh, '&lt;', $file;\n\nwhile (my $galaxy = &lt;$fh&gt;){\n    chomp $galaxy;\n    my($planet,$number_moons,$obj_orbit,$orbital_radius,$orbital_period,$orbital_inclination, $orbtial_eccentricity, $discoverer, $year) = split ' ', $galaxy;\n\n    if ($orbital_period =~ /([0-9.]+)/){ $orbital_period = $orbital_period * 86400; }\n\n    my @info;\n    push @info, ($number_moons,$obj_orbit,$orbital_radius,$orbital_period,$orbital_inclination, $orbtial_eccentricity, $discoverer, $year);\n    $celestial{$planet} = \\@info;\n}\n\nclose($fh);\n\nfor my $keys (sort keys %celestial){\n    print $keys;\n    foreach my $k(@{$celestial{$keys}}) {\n        print \" $k\";\n    }\n    print \"\\n\"; \n}\n</code></pre>\n\n<p>Hope this helps you out</p>\n"}, {"tags": [], "owner": {"reputation": 62184, "user_id": 7231, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/81b76985f3985e35492e25880493d045?s=128&d=identicon&r=PG", "display_name": "Dave Cross", "link": "https://stackoverflow.com/users/7231/dave-cross"}, "is_accepted": false, "score": 0, "last_activity_date": 1458813574, "creation_date": 1458813574, "answer_id": 36197430, "question_id": 36187342, "link": "https://stackoverflow.com/questions/36187342/how-to-multiply-a-value-in-an-array-from-a-text-file-in-perl/36197430#36197430", "title": "how to multiply a value in an array from a text file in perl", "body": "<pre><code># Read from STDIN rather than explicitly opening a file\n# Read data into $_\nwhile (&lt;&gt;) {\n  # Split on comma to get individual fields\n  my @satellite = split /,/, $_;\n  # Update the fifth field\n  $satellite[4] *= 86_400;\n  # Join the array back into a string\n  print join ',', @satellite;\n}\n</code></pre>\n"}], "owner": {"reputation": 11, "user_id": 5451507, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/f08ca302fe738fc658a4d1025278415e?s=128&d=identicon&r=PG&f=1", "display_name": "john castello", "link": "https://stackoverflow.com/users/5451507/john-castello"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 104, "favorite_count": 0, "accepted_answer_id": 36187987, "answer_count": 4, "score": -1, "last_activity_date": 1458813574, "creation_date": 1458762282, "last_edit_date": 1458762312, "question_id": 36187342, "link": "https://stackoverflow.com/questions/36187342/how-to-multiply-a-value-in-an-array-from-a-text-file-in-perl", "title": "how to multiply a value in an array from a text file in perl", "body": "<p>hey guys so ive been attempting to teach myself perl. so I found this project online, and I've begun to do it, but now I am stuck. the question is asking for me to  print each record with the orbital period given in seconds rather than days. now this is the input file text: </p>\n\n<pre><code>Adrastea XV Jupiter 129000 0.30 0.00 0.00 Jewitt 1979\nAmalthea V Jupiter 181000 0.50 0.40 0.00 Barnard 1892\nAnanke XII Jupiter 21200000 -631 147.00 0.17 Nicholson 1951\nAriel I Uranus 191000 2.52 0.00 0.00 Lassell 1851\nAtlas XV Saturn 138000 0.60 0.00 0.00 Terrile 1980\nBelinda XIV Uranus 75000 0.62 0.03 0.00 Voyager2 1986\nBianca VIII Uranus 59000 0.43 0.16 0.00 Voyager2 1986\nCaliban XVI Uranus 7169000 -580 140. 0.08 Gladman 1997\nCallirrhoe XVII Jupiter 24100000 ? ? ? Sheppard 2000\nCallisto IV Jupiter 1883000 16.69 0.28 0.01 Galileo 1610\nCalypso XIV Saturn 295000 1.89 0.00 0.00 Pascu 1980\nCarme XI Jupiter 22600000 -692 163.00 0.21 Nicholson 1938\nChaldene XXI Jupiter 23387000  -733.7 165.2 0.238 Sheppard 2000\nCharon I Pluto 20000 6.39 98.80 0.00 Christy 1978\nCordelia VI Uranus 50000 0.34 0.14 0.00 Voyager2 1986\nCressida IX Uranus 62000 0.46 0.04 0.00 Voyager2 1986\nDeimos II Mars 23000 1.26 1.80 0.00 Hall 1877\nDesdemona X Uranus 63000 0.47 0.16 0.00 Voyager2 1986\nDespina V Neptune 53000 0.33 0.00 0.00 Voyager2 1989\nDione IV Saturn 377000 2.74 0.02 0.00 Cassini 1684\nEarth III Sun 149600000 365.26 0.00 0.02 - -\nElara VII Jupiter 11737000 259.65 28.00 0.21 Perrine 1905\nEnceladus II Saturn 238000 1.37 0.02 0.00 Herschel 1789\nEpimetheus XI Saturn 151000 0.69 0.34 0.01 Walker 1980\nErinome XXV Jupiter 23279000 728 164.9 0.266 Sheppard 2000\nEuropa II Jupiter 671000 3.55 0.47 0.01 Galileo 1610\nGalatea VI Neptune 62000 0.43 0.00 0.00 Voyager2 1989\nGanymede III Jupiter 1070000 7.15 0.19 0.00 Galileo 1610\nHarpalyke XXII Jupiter 21132000 623.3 148.6 0.226 Sheppard 2000\nHelene XII Saturn 377000 2.74 0.20 0.01 Laques 1980\nHimalia VI Jupiter 11480000 250.57 28.00 0.16 Perrine 1904\nHyperion VII Saturn 1481000 21.28 0.43 0.10 Bond 1848\nIapetus VIII Saturn 3561000 79.33 14.72 0.03 Cassini 1671\nIo I Jupiter 422000 1.77 0.04 0.00 Galileo 1610\nIocaste XXIV Jupiter 20216000 ? ? ? Sheppard 2000\nIsonoe XXVI Jupiter 23078000 ? ? ? Sheppard 2000\nJanus X Saturn 151000 0.69 0.14 0.01 Dollfus 1966\nJuliet XI Uranus 64000 0.49 0.06 0.00 Voyager2 1986\nJupiter V Sun 778330000 4332.71 1.31 0.05 - -\nKalyke XXIII Jupiter 23745000 ? ? ? Sheppard 2000\nLarissa VII Neptune 74000 0.55 0.00 0.00 Reitsema 1989\nLeda XIII Jupiter 11094000 238.72 27.00 0.15 Kowal 1974\nLysithea X Jupiter 11720000 259.22 29.00 0.11 Nicholson 1938\nMars IV Sun 227940000 686.98 1.85 0.09 - -\nMegaclite XIX Jupiter 23911000 ? ? ? Sheppard 2000\nMercury I Sun 57910000 87.97 7.00 0.21 - -\nMetis XVI Jupiter 128000 0.29 0.00 0.00 Synnott 1979\nMimas I Saturn 186000 0.94 1.53 0.02 Herschel 1789\nMiranda V Uranus 130000 1.41 4.22 0.00 Kuiper 1948\nMoon I Earth 384000 27.32 5.14 0.05 - -\nNaiad III Neptune 48000 0.29 0.00 0.00 Voyager2 1989\nNeptune VIII Sun 4504300000 60190.00 1.77 0.01 Adams 1846\nNereid II Neptune 5513000 360.13 29.00 0.75 Kuiper 1949\nOberon IV Uranus 583000 13.46 0.00 0.00 Herschel 1787\nOphelia VII Uranus 54000 0.38 0.09 0.00 Voyager2 1986\nPan XVIII Saturn 134000 0.58 0.00 0.00 Showalter 1990\nPandora XVII Saturn 142000 0.63 0.00 0.00 Collins 1980\nPasiphae VIII Jupiter 23500000 -735 147.00 0.38 Melotte 1908\nPhobos I Mars 9000 0.32 1.00 0.02 Hall 1877\nPhoebe IX Saturn 12952000 -550.48 175.30 0.16 Pickering 1898\nPluto IX Sun 5913520000 90550 17.15 0.25 Tombaugh 1930\nPortia XII Uranus 66000 0.51 0.09 0.00 Voyager2 1986\nPraxidike XXVII Jupiter 20964000 ? ? ? Sheppard 2000\nPrometheus XVI Saturn 139000 0.61 0.00 0.00 Collins 1980\nProspero XVIII Uranus 16568000 -2019 152. 0.44 Holman 1999\nProteus VIII Neptune 118000 1.12 0.00 0.00 Voyager2 1989\nPuck XV Uranus 86000 0.76 0.31 0.00 Voyager2 1985\nRhea V Saturn 527000 4.52 0.35 0.00 Cassini 1672\nRosalind XIII Uranus 70000 0.56 0.28 0.00 Voyager2 1986\nSaturn VI Sun 1429400000 10759.50 2.49 0.06 - -\nSetebos XIX Uranus 17681000 -2239 158. 0.57 Kavelaars 1999\nSinope IX Jupiter 23700000 -758 153.00 0.28 Nicholson 1914\nStephano XX Uranus 7948000 -674 143. 0.24 Gladman 1999\nSun - - - - - - - -\nSycorax XVII Uranus 12213000 -1289 153. 0.51 Nicholson 1997\nTaygete XX Jupiter 23312000 ? ? ? Sheppard 2000\nTelesto XIII Saturn 295000 1.89 0.00 0.00 Smith 1980\nTethys III Saturn 295000 1.89 1.09 0.00 Cassini 1684\nThalassa IV Neptune 50000 0.31 4.50 0.00 Voyager2 1989\nThebe XIV Jupiter 222000 0.67 0.80 0.02 Synnott 1979\nThemisto XVIII Jupiter 7507000 ? ? ? Sheppard 2000\nTitan VI Saturn 1222000 15.95 0.33 0.03 Huygens 1655\nTitania III Uranus 436000 8.71 0.00 0.00 Herschel 1787\nTrinculo XXI Uranus 8578000 -759 167.0 0.208 Gladman 2001\nTriton I Neptune 355000 -5.88 157.00 0.00 Lassell 1846\nUmbriel II Uranus 266000 4.14 0.00 0.00 Lassell 1851\nUranus VII Sun 2870990000 30685.00 0.77 0.05 Herschel 1781\nVenus II Sun 108200000 224.70 3.39 0.01 - -\n</code></pre>\n\n<p>and this is what I came up with for my code, but it doesn't work :/ help me please.</p>\n\n<pre><code>    !/usr/bin/perl \n    use strict;\n    my $period;\n    my $galaxy;\n    my $solar = 'solar.txt';\n    open(my $fh, '&lt;:encoding(UTF -8)', $solar)\n      or die \"could not open file!!!\";\n\n    while ( my @galaxy = &lt;$fh&gt;){\n        my($planet,$number_moons,$obj_orbit,$orbital_radius,$orbital_period,$orbital_inclination, $orbtial_eccentricity, $discoverer, $year) = split / /, $galaxy;\n        if($orbital_period ne '0'){\n            $period = $orbital_period * 86400;\n                    s/$orbital_period/$period/g;\n                    print @galaxy;\n                    }\n    }\n</code></pre>\n"}, {"tags": ["perl", "date", "unix", "informix"], "comments": [{"owner": {"reputation": 21782, "user_id": 176646, "user_type": "registered", "accept_rate": 88, "profile_image": "https://i.stack.imgur.com/HsQyV.png?s=128&g=1", "display_name": "ThisSuitIsBlackNot", "link": "https://stackoverflow.com/users/176646/thissuitisblacknot"}, "edited": false, "score": 0, "creation_date": 1458761746, "post_id": 36187097, "comment_id": 60009670, "body": "I assume your Perl script will be running on the client and connecting to a remote database with DBI or something similar?"}, {"owner": {"reputation": 125, "user_id": 2581290, "user_type": "registered", "accept_rate": 62, "profile_image": "https://i.stack.imgur.com/AloEc.png?s=128&g=1", "display_name": "PopperJuan", "link": "https://stackoverflow.com/users/2581290/popperjuan"}, "reply_to_user": {"reputation": 21782, "user_id": 176646, "user_type": "registered", "accept_rate": 88, "profile_image": "https://i.stack.imgur.com/HsQyV.png?s=128&g=1", "display_name": "ThisSuitIsBlackNot", "link": "https://stackoverflow.com/users/176646/thissuitisblacknot"}, "edited": false, "score": 0, "creation_date": 1458761978, "post_id": 36187097, "comment_id": 60009794, "body": "@ThisSuitIsBlackNot the Perl script will be running on the same server as the database. The same went for the ESQL program"}, {"owner": {"reputation": 50468, "user_id": 1331451, "user_type": "registered", "accept_rate": 96, "profile_image": "https://i.stack.imgur.com/4ZPmj.png?s=128&g=1", "display_name": "simbabque", "link": "https://stackoverflow.com/users/1331451/simbabque"}, "edited": false, "score": 0, "creation_date": 1458762102, "post_id": 36187097, "comment_id": 60009849, "body": "I think what you need to figure out is the way they calculate their <code>internal date</code> (the variable called <code>i_date</code> in the example script there."}, {"owner": {"reputation": 21782, "user_id": 176646, "user_type": "registered", "accept_rate": 88, "profile_image": "https://i.stack.imgur.com/HsQyV.png?s=128&g=1", "display_name": "ThisSuitIsBlackNot", "link": "https://stackoverflow.com/users/176646/thissuitisblacknot"}, "edited": false, "score": 0, "creation_date": 1458762526, "post_id": 36187097, "comment_id": 60010041, "body": "<a href=\"http://perldoc.perl.org/functions/time.html\" rel=\"nofollow noreferrer\"><code>time()</code></a> should get the system time in epoch seconds. See if that matches what you get from <code>rtoday()</code>."}, {"owner": {"reputation": 125, "user_id": 2581290, "user_type": "registered", "accept_rate": 62, "profile_image": "https://i.stack.imgur.com/AloEc.png?s=128&g=1", "display_name": "PopperJuan", "link": "https://stackoverflow.com/users/2581290/popperjuan"}, "reply_to_user": {"reputation": 21782, "user_id": 176646, "user_type": "registered", "accept_rate": 88, "profile_image": "https://i.stack.imgur.com/HsQyV.png?s=128&g=1", "display_name": "ThisSuitIsBlackNot", "link": "https://stackoverflow.com/users/176646/thissuitisblacknot"}, "edited": false, "score": 0, "creation_date": 1458762779, "post_id": 36187097, "comment_id": 60010179, "body": "@ThisSuitIsBlackNot tried that...it does not match:  username@myserver:/u/myDir $ perl -e &quot;print time()&quot;; 1458762740"}, {"owner": {"reputation": 21782, "user_id": 176646, "user_type": "registered", "accept_rate": 88, "profile_image": "https://i.stack.imgur.com/HsQyV.png?s=128&g=1", "display_name": "ThisSuitIsBlackNot", "link": "https://stackoverflow.com/users/176646/thissuitisblacknot"}, "edited": false, "score": 0, "creation_date": 1458762937, "post_id": 36187097, "comment_id": 60010268, "body": "That corresponds to Wed Mar 23 13:52:20 2016 in my time zone. What output do you get from <code>rtoday()</code>?"}, {"owner": {"reputation": 125, "user_id": 2581290, "user_type": "registered", "accept_rate": 62, "profile_image": "https://i.stack.imgur.com/AloEc.png?s=128&g=1", "display_name": "PopperJuan", "link": "https://stackoverflow.com/users/2581290/popperjuan"}, "reply_to_user": {"reputation": 21782, "user_id": 176646, "user_type": "registered", "accept_rate": 88, "profile_image": "https://i.stack.imgur.com/HsQyV.png?s=128&g=1", "display_name": "ThisSuitIsBlackNot", "link": "https://stackoverflow.com/users/176646/thissuitisblacknot"}, "edited": false, "score": 0, "creation_date": 1458763079, "post_id": 36187097, "comment_id": 60010351, "body": "@ThisSuitIsBlackNot i get 42448 in rtoday() for March 23, 2016"}, {"owner": {"reputation": 21782, "user_id": 176646, "user_type": "registered", "accept_rate": 88, "profile_image": "https://i.stack.imgur.com/HsQyV.png?s=128&g=1", "display_name": "ThisSuitIsBlackNot", "link": "https://stackoverflow.com/users/176646/thissuitisblacknot"}, "edited": false, "score": 0, "creation_date": 1458763491, "post_id": 36187097, "comment_id": 60010603, "body": "What is the value of the <a href=\"http://www.ibm.com/support/knowledgecenter/SSBJG3_2.5.0/com.ibm.gen_busug.doc/c_fgl_EnvVariables_DBDATE.htm\" rel=\"nofollow noreferrer\"><code>DBDATE</code></a> environment variable? <code>rtoday</code> gets the database&#39;s internal representation of the date, so we&#39;re comparing apples and oranges here."}, {"owner": {"reputation": 125, "user_id": 2581290, "user_type": "registered", "accept_rate": 62, "profile_image": "https://i.stack.imgur.com/AloEc.png?s=128&g=1", "display_name": "PopperJuan", "link": "https://stackoverflow.com/users/2581290/popperjuan"}, "reply_to_user": {"reputation": 21782, "user_id": 176646, "user_type": "registered", "accept_rate": 88, "profile_image": "https://i.stack.imgur.com/HsQyV.png?s=128&g=1", "display_name": "ThisSuitIsBlackNot", "link": "https://stackoverflow.com/users/176646/thissuitisblacknot"}, "edited": false, "score": 0, "creation_date": 1458764182, "post_id": 36187097, "comment_id": 60010978, "body": "@ThisSuitIsBlackNot it returns an empty string..."}, {"owner": {"reputation": 125, "user_id": 2581290, "user_type": "registered", "accept_rate": 62, "profile_image": "https://i.stack.imgur.com/AloEc.png?s=128&g=1", "display_name": "PopperJuan", "link": "https://stackoverflow.com/users/2581290/popperjuan"}, "reply_to_user": {"reputation": 21782, "user_id": 176646, "user_type": "registered", "accept_rate": 88, "profile_image": "https://i.stack.imgur.com/HsQyV.png?s=128&g=1", "display_name": "ThisSuitIsBlackNot", "link": "https://stackoverflow.com/users/176646/thissuitisblacknot"}, "edited": false, "score": 1, "creation_date": 1458764544, "post_id": 36187097, "comment_id": 60011186, "body": "@ThisSuitIsBlackNot i think i found it:    Informix ESQL/C supports the SQL DATE data type with the Informix ESQL/C date data type for host variables. The date data type stores internal DATE values. It is implemented as a 4-byte integer whose value is the number of days since December 31, 1899. Dates before December 31, 1899, are negative numbers, while dates after December 31, 1899, are positive numbers. For a complete description of the SQL DATE data type, see the IBM&#174; Informix&#174; Guide to SQL: Reference."}, {"owner": {"reputation": 21782, "user_id": 176646, "user_type": "registered", "accept_rate": 88, "profile_image": "https://i.stack.imgur.com/HsQyV.png?s=128&g=1", "display_name": "ThisSuitIsBlackNot", "link": "https://stackoverflow.com/users/176646/thissuitisblacknot"}, "edited": false, "score": 0, "creation_date": 1458765138, "post_id": 36187097, "comment_id": 60011536, "body": "Ah okay. You can calculate that with the <a href=\"https://metacpan.org/pod/DateTime#dt-delta_days-datetime\" rel=\"nofollow noreferrer\"><code>delta_days</code></a> method from the <a href=\"https://metacpan.org/pod/DateTime\" rel=\"nofollow noreferrer\">DateTime</a> module."}, {"owner": {"reputation": 663663, "user_id": 15168, "user_type": "registered", "accept_rate": 100, "profile_image": "https://i.stack.imgur.com/WtEI9.png?s=128&g=1", "display_name": "Jonathan Leffler", "link": "https://stackoverflow.com/users/15168/jonathan-leffler"}, "edited": false, "score": 1, "creation_date": 1458765689, "post_id": 36187097, "comment_id": 60011856, "body": "I&#39;m very puzzled about why you&#39;re getting such a different value from me for the date \u2014 I get 42451 on 2016-03-23, yet your value is 3 different (42448).  Have you checked the system clock and/or TZ value on you system?"}], "answers": [{"comments": [{"owner": {"reputation": 125, "user_id": 2581290, "user_type": "registered", "accept_rate": 62, "profile_image": "https://i.stack.imgur.com/AloEc.png?s=128&g=1", "display_name": "PopperJuan", "link": "https://stackoverflow.com/users/2581290/popperjuan"}, "edited": false, "score": 0, "creation_date": 1458763188, "post_id": 36187369, "comment_id": 60010408, "body": "Does not give me the same results as rtoday()"}, {"owner": {"reputation": 125, "user_id": 2581290, "user_type": "registered", "accept_rate": 62, "profile_image": "https://i.stack.imgur.com/AloEc.png?s=128&g=1", "display_name": "PopperJuan", "link": "https://stackoverflow.com/users/2581290/popperjuan"}, "edited": false, "score": 0, "creation_date": 1458763237, "post_id": 36187369, "comment_id": 60010442, "body": "i get 42448 in rtoday() for March 23, 2016"}], "tags": [], "owner": {"reputation": 106, "user_id": 6067877, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/5ced37d73bb140428c94e5507b77ecc1?s=128&d=identicon&r=PG&f=1", "display_name": "Krzysztof Kielak", "link": "https://stackoverflow.com/users/6067877/krzysztof-kielak"}, "is_accepted": false, "score": 0, "last_activity_date": 1458762347, "creation_date": 1458762347, "answer_id": 36187369, "question_id": 36187097, "link": "https://stackoverflow.com/questions/36187097/rtoday-esql-function-for-perl/36187369#36187369", "title": "rtoday() ESQL function for Perl?", "body": "<p>Have you tried calling <code>system</code> with <code>echo $DATE</code> as command?</p>\n\n<pre><code>   @args = (\"command\", \"arg1\", \"arg2\");\n   system(@args) == 0\n        or die \"system @args failed: $?\"\n</code></pre>\n\n<p>Or you can access environment variables from Perl using <code>%ENV</code> hash:</p>\n\n<pre><code>$ perl -e 'print $ENV{\"DATE\"}'\n</code></pre>\n"}, {"comments": [{"owner": {"reputation": 663663, "user_id": 15168, "user_type": "registered", "accept_rate": 100, "profile_image": "https://i.stack.imgur.com/WtEI9.png?s=128&g=1", "display_name": "Jonathan Leffler", "link": "https://stackoverflow.com/users/15168/jonathan-leffler"}, "edited": false, "score": 0, "creation_date": 1458765871, "post_id": 36187862, "comment_id": 60011938, "body": "It is an implementation-dependent encoding for dates, but it is machine-independent (and O/S independent) and portable between systems using Informix.  There are support functions for DATE manipulation in the Informix ESQL/C library \u2014 such as <code>rtoday()</code> and <code>rdatestr()</code> and a number of others."}], "tags": [], "owner": {"reputation": 106, "user_id": 6067877, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/5ced37d73bb140428c94e5507b77ecc1?s=128&d=identicon&r=PG&f=1", "display_name": "Krzysztof Kielak", "link": "https://stackoverflow.com/users/6067877/krzysztof-kielak"}, "is_accepted": false, "score": 0, "last_activity_date": 1458764054, "creation_date": 1458764054, "answer_id": 36187862, "question_id": 36187097, "link": "https://stackoverflow.com/questions/36187097/rtoday-esql-function-for-perl/36187862#36187862", "title": "rtoday() ESQL function for Perl?", "body": "<p>From the code (pasted below) posted on the IBM website that you are referring to it seems that rtoday() returns <em>internal representation</em> of today's date and this representation needs to be formatted with <code>rdatestr</code> function. It might mean, that this representation is totally implementation dependent.</p>\n\n<pre><code>#include &lt;stdio.h&gt;\n\nmain()\n{\n   mint errnum;\n   char today_date[20];\n   int4 i_date;\n\n   printf(\"RTODAY Sample ESQL Program running.\\n\\n\");\n\n    /* Get todays date in the internal format */\n   rtoday(&amp;i_date);\n\n    /* Convert date from internal format into a mm/dd/yyyy string */\n   if ((errnum = rdatestr(i_date, today_date)) == 0)\n      printf(\"\\n\\tTodays date is %s.\\n\", today_date);\n   else\n      printf(\"\\n\\tError %d in converting date to mm/dd/yyyy\\n\", errnum);\n\n   printf(\"\\nRTODAY Sample Program over.\\n\\n\");\n}\n</code></pre>\n"}, {"tags": [], "owner": {"reputation": 663663, "user_id": 15168, "user_type": "registered", "accept_rate": 100, "profile_image": "https://i.stack.imgur.com/WtEI9.png?s=128&g=1", "display_name": "Jonathan Leffler", "link": "https://stackoverflow.com/users/15168/jonathan-leffler"}, "is_accepted": true, "score": 3, "last_activity_date": 1458765970, "last_edit_date": 1458765970, "creation_date": 1458764907, "answer_id": 36188086, "question_id": 36187097, "link": "https://stackoverflow.com/questions/36187097/rtoday-esql-function-for-perl/36188086#36188086", "title": "rtoday() ESQL function for Perl?", "body": "<p>The manual page is from Informix ESQL/C.</p>\n\n<p>You need to know that the date in Informix is the number of days since day 0, which was 1899-12-31 \u2013 so day 1 was 1900-01-01.</p>\n\n<pre><code>#include &lt;stdio.h&gt;\n#include \"sqlhdr.h\"\n\nint main(void)\n{\n    int4 date;\n    rtoday(&amp;date);\n    printf(\"%ld\\n\", date);\n    return 0;\n}\n</code></pre>\n\n<p>When I run this (Informix ESQL/C) program on 2016-03-23, I get the response 42451.  When I tested the SQL:</p>\n\n<pre><code>$ sqlcmd -d stores \"select date('2016-03-22') - date('1899-12-31')\n&gt;                     from informix.systables where tabid = 1\"\n</code></pre>\n\n<p>The output was 42450, which is consistent with the ESQL/C program (though <code>sqlcmd</code> \u2014 the one from the <a href=\"http://www.iiug.org/software/index_ESQLC.html\" rel=\"nofollow\">IIUG</a>, not Microsoft's recent invention of the same name \u2014 is also an ESQL/C program).  It is not consistent with the value shown in the question (42447 for 2016-03-22); I don't know why there's a discrepancy.  Just for the record, I was using ESQL/C 3.70.FC4 (and Informix 11.70.FC4) on RHEL 5 Linux for x86_64 \u2014 and with ESQL/C 4.10.FC5 (and Informix 12.10.FC5) on Mac OS X 10.11.4.  I would not expect any difference with ESQL/C 3.50 (Informix 11.50) on any other platform.</p>\n\n<p>The date 1970-01-01 has the ordinal number 25568 using this same scheme.  You could therefore convert a value from <code>time</code> to the correct value with:</p>\n\n<pre><code>$ perl -le 'print time, \" \", int(time/(24*60*60))+25568'               \n1458764790 42451\n$ perl -le 'sub informix_date_from_unix_time { return int($_[0]/86400) + 25568; }\n&gt;           print time, \" \", informix_date_from_unix_time(time)'\n1458765443 42451\n$\n</code></pre>\n\n<p>This is the core answer and is accurate in the UTC time zone; you need to consider carefully about day boundaries and time zones and the answer you want.</p>\n"}, {"comments": [{"owner": {"reputation": 663663, "user_id": 15168, "user_type": "registered", "accept_rate": 100, "profile_image": "https://i.stack.imgur.com/WtEI9.png?s=128&g=1", "display_name": "Jonathan Leffler", "link": "https://stackoverflow.com/users/15168/jonathan-leffler"}, "edited": false, "score": 0, "creation_date": 1458847404, "post_id": 36189027, "comment_id": 60050131, "body": "Ahah; you have 2016-03-19 producing 42447; that&#39;s consistent with what I&#39;d expect."}], "tags": [], "owner": {"reputation": 125, "user_id": 2581290, "user_type": "registered", "accept_rate": 62, "profile_image": "https://i.stack.imgur.com/AloEc.png?s=128&g=1", "display_name": "PopperJuan", "link": "https://stackoverflow.com/users/2581290/popperjuan"}, "is_accepted": false, "score": 0, "last_activity_date": 1458814542, "last_edit_date": 1458814542, "creation_date": 1458768490, "answer_id": 36189027, "question_id": 36187097, "link": "https://stackoverflow.com/questions/36187097/rtoday-esql-function-for-perl/36189027#36189027", "title": "rtoday() ESQL function for Perl?", "body": "<p>So after some work and the detail definition of what the value I'm looking for I came up with this:</p>\n\n<pre><code>#!/opt/standard_perl/perl5881/bin/perl\nuse Date::Calc qw(:all);\n\n\nmy $date = \"03/19/2016\";\n\nprint getSQLDate($date);\n\nsub getSQLDate\n{\n\nmy $value = shift;\nmy @date = split('/', $value);\n\nmy $alphaDay = 31;\nmy $alphaMonth = 12;\nmy $alphaYear = 1899;\n\nmy @alphaDate = ($alphaYear, $alphaMonth,$alphaDay);\nmy @currentDate = ($date[2], $date[0], $date[1]);\nreturn Delta_Days(@alphaDate, @currentDate);\n\n}\n</code></pre>\n\n<p>my output is:</p>\n\n<pre><code>42447\n</code></pre>\n\n<p>I did this based off of this definition that I found about my SQL Date:</p>\n\n<blockquote>\n  <p>Informix ESQL/C supports the SQL DATE data type with the Informix ESQL/C \n      date data type for host variables. The date data type stores internal DATE \n      values. It is implemented as a 4-byte integer whose value is the number of days\n      since December 31, 1899. Dates before December 31, 1899, are negative numbers,\n      while dates after December 31, 1899, are positive numbers. For a complete \n      description of the SQL DATE data type, see the IBM\u00ae Informix\u00ae Guide to SQL: \n      Reference.</p>\n</blockquote>\n"}], "owner": {"reputation": 125, "user_id": 2581290, "user_type": "registered", "accept_rate": 62, "profile_image": "https://i.stack.imgur.com/AloEc.png?s=128&g=1", "display_name": "PopperJuan", "link": "https://stackoverflow.com/users/2581290/popperjuan"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 374, "favorite_count": 0, "accepted_answer_id": 36188086, "answer_count": 4, "score": 1, "last_activity_date": 1495762706, "creation_date": 1458761399, "last_edit_date": 1495762706, "question_id": 36187097, "link": "https://stackoverflow.com/questions/36187097/rtoday-esql-function-for-perl", "title": "rtoday() ESQL function for Perl?", "body": "<p>I am currently re-writing an Informix ESQL/C program into Perl. One of the issues that I come across is trying to get the exact same value as from <code>rtoday()</code> in Perl.</p>\n\n<p>After looking at the doc from IBM:\n<a href=\"http://www.ibm.com/support/knowledgecenter/SSGU8G_11.50.0/com.ibm.esqlc.doc/sii-xbrstod-41016.htm%23sii-xbrstod-41016\" rel=\"nofollow\">http://www.ibm.com/support/knowledgecenter/SSGU8G_11.50.0/com.ibm.esqlc.doc/sii-xbrstod-41016.htm%23sii-xbrstod-41016</a></p>\n\n<pre><code>\"today\nA pointer to an int4 value that receives the internal DATE.\nUsage\nThe rtoday() function obtains the system date on the client computer, not \nthe server computer.\"\n</code></pre>\n\n<p>When doing echo $DATE on the command line, I get:</p>\n\n<pre><code>username@myServer:/u/aDir/ $ echo $DATE\n2457470 for March 23, 2016\n</code></pre>\n\n<p>but when I get the value via my logs from yesterday on my Unix machine I have:</p>\n\n<pre><code>42447 for March 22,2016\n</code></pre>\n\n<p>(The logs are from my ESQL program)</p>\n\n<p>The question is I need to work with the <code>rtoday()</code> value in order to export that value into a flat file (along with other data) in order for other programs to process. </p>\n\n<p>I just need to know how can I get this value in Perl or via the system command line so I can use it.</p>\n"}, {"tags": ["sql-server", "bash", "perl", "jdbc", "odbc"], "answers": [{"comments": [{"owner": {"reputation": 383, "user_id": 4784731, "user_type": "registered", "accept_rate": 67, "profile_image": "https://www.gravatar.com/avatar/1a9ef360c58b60333239f46629b63765?s=128&d=identicon&r=PG&f=1", "display_name": "Matt", "link": "https://stackoverflow.com/users/4784731/matt"}, "edited": false, "score": 0, "creation_date": 1458762704, "post_id": 36187082, "comment_id": 60010140, "body": "Thanks for the reply simbabque, I really appreciate the help..! That didn&#39;t exactly work. I was getting an error on the DBI connect line saying: &quot;failed: [unixODBC][Driver Manager]Data source name not found, and no default driver specified (SQL-IM002)&quot;... So this got me thinking, and I replaced the entire <code>$dsn = &quot;...&quot;</code>, with just the name of the DSN, *i.e. &quot;[MyDB]&quot;.. So I had <code>my $dsn = &quot;MyDB&quot;;</code>. And this time the command took a long while to eventually fail, and I got a different error this time: &quot;Lost connection to MySQL server at &#39;reading initial communication packet&#39;, system error: 104&quot;"}, {"owner": {"reputation": 50468, "user_id": 1331451, "user_type": "registered", "accept_rate": 96, "profile_image": "https://i.stack.imgur.com/4ZPmj.png?s=128&g=1", "display_name": "simbabque", "link": "https://stackoverflow.com/users/1331451/simbabque"}, "reply_to_user": {"reputation": 383, "user_id": 4784731, "user_type": "registered", "accept_rate": 67, "profile_image": "https://www.gravatar.com/avatar/1a9ef360c58b60333239f46629b63765?s=128&d=identicon&r=PG&f=1", "display_name": "Matt", "link": "https://stackoverflow.com/users/4784731/matt"}, "edited": false, "score": 0, "creation_date": 1458762821, "post_id": 36187082, "comment_id": 60010200, "body": "Why would it try to connect to MySQL? Aren&#39;t we talking about a Microsoft sql server?"}, {"owner": {"reputation": 383, "user_id": 4784731, "user_type": "registered", "accept_rate": 67, "profile_image": "https://www.gravatar.com/avatar/1a9ef360c58b60333239f46629b63765?s=128&d=identicon&r=PG&f=1", "display_name": "Matt", "link": "https://stackoverflow.com/users/4784731/matt"}, "edited": false, "score": 0, "creation_date": 1458766397, "post_id": 36187082, "comment_id": 60012237, "body": "I attempted to use each of the Drivers that I had added to the ODBCConfig GUI, which are written in odbcinst.ini... And that one seemed like it had gotten a little bit further then the others, the driver for that test was the <i>&quot;/usr/lib/unixODBC/libmyodbc3.so&quot;</i> one which I&#39;m seeing now is for MySQL not SQL Server. My bad..."}, {"owner": {"reputation": 383, "user_id": 4784731, "user_type": "registered", "accept_rate": 67, "profile_image": "https://www.gravatar.com/avatar/1a9ef360c58b60333239f46629b63765?s=128&d=identicon&r=PG&f=1", "display_name": "Matt", "link": "https://stackoverflow.com/users/4784731/matt"}, "edited": false, "score": 2, "creation_date": 1458766468, "post_id": 36187082, "comment_id": 60012284, "body": "I&#39;m going to give <b>DBD::JDBC</b> a try and see if I can get that one to work... I&#39;ll comment back shortly... Thanks again!"}], "tags": [], "owner": {"reputation": 50468, "user_id": 1331451, "user_type": "registered", "accept_rate": 96, "profile_image": "https://i.stack.imgur.com/4ZPmj.png?s=128&g=1", "display_name": "simbabque", "link": "https://stackoverflow.com/users/1331451/simbabque"}, "is_accepted": false, "score": 0, "last_activity_date": 1458761339, "creation_date": 1458761339, "answer_id": 36187082, "question_id": 36186508, "link": "https://stackoverflow.com/questions/36186508/running-sql-statement-from-bash-or-perl-script/36187082#36187082", "title": "Running SQL Statement from Bash or Perl Script?", "body": "<p>After a bit of browsing through the DBD::ODBC documentation, I found some examples. <a href=\"https://metacpan.org/source/MJEVANS/DBD-ODBC-1.52/examples/DbiTest.pl\" rel=\"nofollow\">This one</a> does the following (I removed some parts, this is not a literal quote).</p>\n\n<pre><code>my $dsn = \"DRIVER={SQL Server};SERVER=$options{DbSrcServer};DATABASE=$options{DbSrcDatabase};NETWORK=dbmssocn;UID=$options{DbSrcLoginName};PWD=$options{DbSrcPassword}\";\nmy $dbh = DBI-&gt;connect(\"DBI:ODBC:$dsn\") || die \"DBI connect failed: $DBI::errstr\\n\";\n$dbh-&gt;{AutoCommit} = 0;      # enable transactions, if possible\n$dbh-&gt;{RaiseError} = 0;\n$dbh-&gt;{PrintError} = 1;      # use RaiseError instead\n$dbh-&gt;{ShowErrorStatement} = 1;\n</code></pre>\n\n<p>Unfortunately, there are no real explanations in the driver's docs, so lets go with that. We know that there is a <code>DRIVER=</code> and a <code>SERVER=</code> and so on. Those are also present in your <em>odbc.ini</em>, so you should try them.</p>\n\n<pre><code>my $dsn = \"DRIVER=/usr/lib/unixODBC/libtdsS.so;SERVER=serverName.foo.bar.local;PORT=1433;DATABASE=ActiveDB;UID=user1;PWD=abc123\";\n</code></pre>\n\n<p><strong>Disclaimer</strong>: I cannot test this, and I have no idea if it works. It's just an educated guess that I would try. </p>\n\n<hr>\n\n<p>You can also try using DBD::JDBC, which sounds relatively easier. <a href=\"https://metacpan.org/pod/distribution/DBD-JDBC/JDBC.pod#Connecting-to-the-server\" rel=\"nofollow\">This part of its docs describe the dsn</a>. But you need a few dependencies. I believe you have covered some of them already though.</p>\n"}, {"tags": [], "owner": {"reputation": 383, "user_id": 4784731, "user_type": "registered", "accept_rate": 67, "profile_image": "https://www.gravatar.com/avatar/1a9ef360c58b60333239f46629b63765?s=128&d=identicon&r=PG&f=1", "display_name": "Matt", "link": "https://stackoverflow.com/users/4784731/matt"}, "is_accepted": false, "score": 0, "last_activity_date": 1458827872, "last_edit_date": 1458827872, "creation_date": 1458773817, "answer_id": 36190295, "question_id": 36186508, "link": "https://stackoverflow.com/questions/36186508/running-sql-statement-from-bash-or-perl-script/36190295#36190295", "title": "Running SQL Statement from Bash or Perl Script?", "body": "<p>Alrighty... I believe I have this working. Thanks again simbadque for suggestions, I VERY much appreciate you taking the time to assist!</p>\n\n<p>I had gotten so mixed-up and turned-around during all of this, I wasn't even sure which way was UP anymore... So, I decided to ignore everything I did so far and start looking at this again. And I ended up finding an EXCELLENT guide someone wrote up for doing exactly what I wanted to do <em>(*shocker...)</em>!!</p>\n\n<p>I found these instructions on <em>PerlMonks.org</em> at the link below <em>(*I know the title is pretty obvious)</em>:\n<strong>Accessing Microsoft SQL Server from Linux using DBD::Sybase</strong> --> <a href=\"http://www.perlmonks.org/?node_id=392385\" rel=\"nofollow\">http://www.perlmonks.org/?node_id=392385</a></p>\n\n<p>Basically, in short, I needed to do the following:</p>\n\n<ol>\n<li><p><strong>Uninstall FreeTDS:</strong> I needed to do a <code>make uninstall</code> in the source directory where I originally compiled/installed it from...</p></li>\n<li><p><strong>Re-Compile &amp; Re-Install FreeTDS:</strong> reconfigured freetds using this as the configure command --> <code>./configure --prefix=/usr/local/freetds --with-tdsver=7.0</code>.</p></li>\n<li><p><strong>Configure FreeTDS.conf</strong> <em>(*after <code>make install</code>)<strong></em>:</strong> Added the following lines to the config file:\n<code>try server login = yes\ntry domain login = no\ntds version = 7.0</code><br>\nThese lines make it so it uses the Database login creds and NOT the Windows Domain login info. And tds version 7 tells freetds what version to connect to the DB with, and read that version 7 is for SQL Server versions newer then <em>MS SQL Server 2000</em>...</p></li>\n<li><p><strong>Create a Server Entry in <em>freetds.conf</em>:</strong> I added the following lines to add my Server running the MS SQL Server 2005 Database.<br>\n<code>[mydb]\n    host = jwp-eim02.paoli.jwpepper.local\n    port = 1433\n    tds version = 8.0</code></p></li>\n<li><p><strong>Test \"mydb\" Entry:</strong> <code>/usr/local/freetds/bin/tsql -S mydb -U sqlUsername</code>\nAfter running that command I get prompted for a password and then I get a command prompt that looks like <strong>\"1> \"</strong>, which tells you it logged-in successfully.!</p></li>\n<li><p><strong>Finally, Test in Perl:</strong> <em>*Below is the sample code I used to get data from the SQLServer Database...</em></p>\n\n<pre><code>#!/usr/bin/perl\n\nuse DBI;\n\n$dsn = 'DBI:Sybase:server=mydb';\n\nmy $dbh = DBI-&gt;connect($dsn, \"sqlUsername\", 'sqlUserPwd');\ndie \"unable to connect to server $DBI::errstr\" unless $dbh;\n\n$dbh-&gt;do(\"use DatabaseName\");\n\n$query = \"Select * from EXAMPLE_TABLENAME\";\n$sth = $dbh-&gt;prepare ($query) or die \"prepare failed\\n\";\n$sth-&gt;execute( ) or die \"unable to execute query $query   error $DBI::errstr\";\n\n$rows = $sth-&gt;rows ;\nprint \"$row rows returned by query\\n\";\n\nwhile ( @first = $sth-&gt;fetchrow_array ) {\n    foreach $field (@first) {\n        print \"field: $field\\n\";\n    }\n}\n</code></pre></li>\n</ol>\n\n<p>I then executed that Perl Script and VIOLA...!! I got data back from the Select Statement!</p>\n\n<p>Hopefully this helps someone else looking to do the same thing... And I guess if I wanted to do this with something like Bash, I could probably use one of the commands that came with FreeTDS, like tsql, osql, etc... But, I'm not positive about that.</p>\n"}], "owner": {"reputation": 383, "user_id": 4784731, "user_type": "registered", "accept_rate": 67, "profile_image": "https://www.gravatar.com/avatar/1a9ef360c58b60333239f46629b63765?s=128&d=identicon&r=PG&f=1", "display_name": "Matt", "link": "https://stackoverflow.com/users/4784731/matt"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 2381, "favorite_count": 0, "answer_count": 2, "score": 0, "last_activity_date": 1458827872, "creation_date": 1458759373, "last_edit_date": 1458827847, "question_id": 36186508, "link": "https://stackoverflow.com/questions/36186508/running-sql-statement-from-bash-or-perl-script", "title": "Running SQL Statement from Bash or Perl Script?", "body": "<p>I am wanting to write a Script, either Perl or Bash, where I can run one or more <strong><em>Select</em></strong> SQL statements to get some info off a Database on a Remote Server.</p>\n\n<p>Currently I can use GUI Tools like RazorSQL and DbVisualizer to connect to the Database and view Tables, run SQL commands, etc... But, I want to try and run some SQL commands from a script so I can use the results from the cmds in a Bash/Perl Script.</p>\n\n<p>The Server running the Database has the following details:</p>\n\n<ul>\n<li><strong>Operating System:</strong> Microsoft Windows Server 2003 RS Standard Edition SP2</li>\n<li><strong>Database:</strong> Microsoft SQL Server 2005</li>\n</ul>\n\n<p>When connecting to the Database using RazorSQL on a Windows PC, my connection uses the Driver <strong>\"net.sourceforge.jtds.jdbc.Driver\"</strong>.<br>\nThen, when using DbVisualizer on my linux box I use the JDBC Driver <strong>\"SQL Server (jTDS)\"</strong>, both of which seem to work just fine.</p>\n\n<p>So in an attempt to try this from Perl I downloaded the following Packages:</p>\n\n<ul>\n<li>unixODBC</li>\n<li>FreeTDS</li>\n<li>SQSH ---> <em>*however, I could not get it compiled because of Sybase...</em></li>\n<li>The Perl Modules: DBD::ODBC, DBD::JDBC, DBI</li>\n</ul>\n\n<p>To install, test and setup unixODBC I used this site: <a href=\"http://www.easysoft.com/developer/languages/perl/dbd_odbc_tutorial_part_1.html\" rel=\"nofollow\">http://www.easysoft.com/developer/languages/perl/dbd_odbc_tutorial_part_1.html</a><br>\nAnd used this site: <a href=\"http://www.unixodbc.org/doc/UserManual/\" rel=\"nofollow\">http://www.unixodbc.org/doc/UserManual/</a>, to add DSNs...</p>\n\n<p>Now I attempted to use these directions here: <a href=\"http://www.freetds.org/userguide/perl.htm\" rel=\"nofollow\">http://www.freetds.org/userguide/perl.htm</a>, to connect to the Database from Perl, but I am having some trouble getting it to connect.</p>\n\n<p>Could anyone tell me if I am on the correct path for this, or what my connect() string should look like...? In RazorSQL the JDBC \"URL\" looks like this:</p>\n\n<pre><code>jdbc:jtds:sqlserver://192.168.2.200:1433/ActiveDB;appName=RazorSQL;useCursors=true\n</code></pre>\n\n<p>And I'm confused as to how to use a DSN I created with the GUI command <strong>ODBCConfig</strong> from within the Perl Script... I'm having trouble finding a real-life example for connecting to MS SQL Server in Perl.</p>\n\n<p>The file listing the Drivers looks like:\n<strong>odbcinst.ini</strong></p>\n\n<pre><code>[MySQL ODBC 3.51.27r695 Driver]\nDriver      = /usr/lib/unixODBC/libmyodbc3.so\nSetup       = /usr/lib/unixODBC/libmyodbc3S.so\nUsageCount  = 1\n\n[JDBC/ODBC bridge driver for java-1_6_0-sun]\nDriver      = /usr/lib/jvm/java-1.6.0-sun-1.6.0/jre/lib/i386/libJdbcOdbc.so\nSetup       = /usr/lib/jvm/java-1.6.0-sun-1.6.0/jre/lib/i386/libJdbcOdbc.so\nUsageCount  = 1\n\n[TDS Driver]\nDriver      = /usr/lib/unixODBC/libtdsS.so\nSetup       = /usr/lib/unixODBC/libtdsS.so\nUsageCount  = 1\n\n[net.sourceforge.jtds.jdbc.Driver]\nDriver      = /opt/jtds-1.3.1/jtds-1.3.1.jar\nSetup       = /opt/jtds-1.3.1/jtds-1.3.1.jar\nUsageCount  = 1\n</code></pre>\n\n<p><em>*The last one in this list is the same Driver used by RazorSQL, but since it's a jar file I guess it can only be used with Java programs...</em></p>\n\n<p>And this is in <strong>~/.odbc.ini</strong></p>\n\n<pre><code>[MyDB]\nDriver      = /usr/lib/unixODBC/libtdsS.so\nDescription = \nSERVER      = serverName.foo.bar.local\nPORT        = 1433\nUSER        = user1\nPassword    = abc123\nDatabase    = ActiveDB\n</code></pre>\n\n<p>Given that, how should my \"connect()\" string look in Perl, and would that be the right Driver to use...?</p>\n\n<p>I'm new at attempting this with a Script, and my head is currently spinning with information.... So ANY help someone could offer would be greatly appreciated!</p>\n"}, {"tags": ["perl", "hash", "constants", "subroutine", "bless"], "comments": [{"owner": {"reputation": 50468, "user_id": 1331451, "user_type": "registered", "accept_rate": 96, "profile_image": "https://i.stack.imgur.com/4ZPmj.png?s=128&g=1", "display_name": "simbabque", "link": "https://stackoverflow.com/users/1331451/simbabque"}, "edited": false, "score": 0, "creation_date": 1458759487, "post_id": 36186279, "comment_id": 60008279, "body": "Why do you have a constant? Please <a href=\"https://stackoverflow.com/posts/36186279/edit\">edit</a> your question and add an example call for the constructor with input and output. - Actually, do you know at all what the <code>bless</code> does? It doesn&#39;t sound like that. Please try to also explain a bit more what this is supposed to do, and in what context. I smell an X/Y problem. ;)"}, {"owner": {"reputation": 113221, "user_id": 100754, "user_type": "registered", "accept_rate": 90, "profile_image": "https://www.gravatar.com/avatar/7804ebae32fbadef38537d74a915c22f?s=128&d=identicon&r=PG", "display_name": "Sinan &#220;n&#252;r", "link": "https://stackoverflow.com/users/100754/sinan-%c3%9cn%c3%bcr"}, "reply_to_user": {"reputation": 50468, "user_id": 1331451, "user_type": "registered", "accept_rate": 96, "profile_image": "https://i.stack.imgur.com/4ZPmj.png?s=128&g=1", "display_name": "simbabque", "link": "https://stackoverflow.com/users/1331451/simbabque"}, "edited": false, "score": 0, "creation_date": 1458760314, "post_id": 36186279, "comment_id": 60008757, "body": "@simbabque makes good points. I am just going to point out that <i>if</i> you need to define a constant hash, you should use a module such as <code>Const::Fast</code>. The fields of <code>CABLING_ERROR</code> defined above are modifiable. Also, post code that others can easily run. Your code should <b><i>NOT</i></b> contain any <i>syntax errors</i> unless those are the focus of your question."}, {"owner": {"reputation": 113221, "user_id": 100754, "user_type": "registered", "accept_rate": 90, "profile_image": "https://www.gravatar.com/avatar/7804ebae32fbadef38537d74a915c22f?s=128&d=identicon&r=PG", "display_name": "Sinan &#220;n&#252;r", "link": "https://stackoverflow.com/users/100754/sinan-%c3%9cn%c3%bcr"}, "edited": false, "score": 0, "creation_date": 1458760468, "post_id": 36186279, "comment_id": 60008841, "body": "You are better off using <a href=\"https://metacpan.org/pod/Exception::Class\" rel=\"nofollow noreferrer\">Exception::Class</a> or <a href=\"https://metacpan.org/pod/Throwable::Error\" rel=\"nofollow noreferrer\">Throwable::Error</a>"}, {"owner": {"reputation": 169, "user_id": 6000354, "user_type": "registered", "accept_rate": 81, "profile_image": "https://graph.facebook.com/1122424037792331/picture?type=large", "display_name": "Paul Russell", "link": "https://stackoverflow.com/users/6000354/paul-russell"}, "edited": false, "score": 0, "creation_date": 1458760831, "post_id": 36186279, "comment_id": 60009085, "body": "I will take a look at Const::Fast . Apologies , I am very new to perl.  The system already has its own Exception module in place. I am only dealing with the fatal errors that will cause the system to crash (die)."}, {"owner": {"reputation": 50468, "user_id": 1331451, "user_type": "registered", "accept_rate": 96, "profile_image": "https://i.stack.imgur.com/4ZPmj.png?s=128&g=1", "display_name": "simbabque", "link": "https://stackoverflow.com/users/1331451/simbabque"}, "edited": false, "score": 1, "creation_date": 1458761064, "post_id": 36186279, "comment_id": 60009256, "body": "Besides the syntax error in the last code block (it&#39;s supposed to be <code>Arc::Builder::Error</code> with two <code>::</code>), I think it might be wiser to subclass that thing, and make one subclass per error type. That way you have something that is <i>constant</i> (adjective), but you are avoiding complicated constants. I agree with Sinan about the exception modules though. What <code>bless</code> does can best be described as taking a data structure and sticking a label on it. But it does not have to be a hash. The hash is just very typical, because it&#39;s flexible."}], "answers": [{"tags": [], "owner": {"reputation": 50468, "user_id": 1331451, "user_type": "registered", "accept_rate": 96, "profile_image": "https://i.stack.imgur.com/4ZPmj.png?s=128&g=1", "display_name": "simbabque", "link": "https://stackoverflow.com/users/1331451/simbabque"}, "is_accepted": true, "score": 2, "last_activity_date": 1458761714, "creation_date": 1458761714, "answer_id": 36187192, "question_id": 36186279, "link": "https://stackoverflow.com/questions/36186279/i-am-trying-to-modify-a-method-that-returns-an-error-string-so-that-it-can-accep/36187192#36187192", "title": "I am trying to modify a method that returns an error string so that it can accept a hash in Perl", "body": "<p>What you actually want is your constructor to distinguish between if it was called with a message string, or with a hash of a known form that contains the message string. Basically you want to <em>coerce</em> the message attribute.</p>\n\n<pre><code>sub new {\n  my ($package, $thing) = (shift, shift);\n  my %params = @_;\n\n  if (ref $thing eq 'HASH') {\n    return bless { message =&gt; $thing-&gt;{message}, %params }, $package;\n  }\n\n  return bless { message =&gt; $thing, %params }, $package;\n}\n</code></pre>\n\n<p>That's it. Just check the <code>ref</code> of the param you are getting. If it's a hash reference, it will be <code>'HASH'</code>. If it's a simple string, it will be <code>undef</code>.</p>\n\n<p>In case you want to build up more <code>%params</code> automatically from your hash reference, that would look something like this.</p>\n\n<pre><code>return bless { message =&gt; $thing-&gt;{message}, foo =&gt; $thing-&gt;{foo}, %params }, $package;\n</code></pre>\n"}], "owner": {"reputation": 169, "user_id": 6000354, "user_type": "registered", "accept_rate": 81, "profile_image": "https://graph.facebook.com/1122424037792331/picture?type=large", "display_name": "Paul Russell", "link": "https://stackoverflow.com/users/6000354/paul-russell"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 43, "favorite_count": 0, "accepted_answer_id": 36187192, "answer_count": 1, "score": -2, "last_activity_date": 1459260520, "creation_date": 1458758565, "last_edit_date": 1459260520, "question_id": 36186279, "link": "https://stackoverflow.com/questions/36186279/i-am-trying-to-modify-a-method-that-returns-an-error-string-so-that-it-can-accep", "title": "I am trying to modify a method that returns an error string so that it can accept a hash in Perl", "body": "<p>Here is the current method:</p>\n\n<pre><code>sub new {\n    my ($package, $message) = (shift, shift);\n    my %params = @_;\n    return bless { message =&gt; $message, %params }, $package;\n}\n</code></pre>\n\n<p>This method returns basically an error string , but I want to modify it so it will also be able to take my new error structure and return the string from the error hash. I can't get my head around how to use bless.\nThe %params accepts runtime parameter but they can be ignored for now I would think.</p>\n\n<p>Here is the error structure:</p>\n\n<pre><code> # this constant is an example of an error library (just included 1 error for example)\n    use constant {\n\n        CABLING_ERROR =&gt; {\n        errorCode =&gt; 561,\n        message =&gt; \"Cabling incorrect to device in server A4r, contact DCT \",\n        tt =&gt; { template =&gt; 'cable'},\n        fatal =&gt; 1,\n        link =&gt;'http://www.error-fix.com/cabling\n        },\n};\n</code></pre>\n\n<p>I just started throwing down some code to start , it's a poor attempt but this is how I began modifying the new() method:</p>\n\n<pre><code>sub new {\n    my ($package, $message) = (shift, shift);\n    # defining new error hash\n    my $hash($errorCode, $message, $tt, $fatal, $link) = (shift, shift, shift, shift);\n    my %params = @_;\n\n    if(exists $hash-&gt;{errorCode}) {\n    return bless { errorCode =&gt; $errorCode, message =&gt; $message, tt =&gt; $tt, fatal =&gt; $fatal, link =&gt; $link}, %params;\n}   \n    else {\n        return bless { message =&gt; $message, %params }, $package;\n}\n}\n</code></pre>\n\n<p>My understanding of bless is that it makes object of hash refs.\nThe errors are held in the constant list. \nHere is an example of how it is to be executed:</p>\n\n<pre><code>if(!device_model) {\n    die  ARC::Builder::Error-&gt;new(CABLING_ERROR);\n\n}\n</code></pre>\n\n<p>UPDATE:\nI have been trying to unit test your solution @simbabque but I keep getting an empty string as a return value instead of the error message string.\nMaybe it's my test that it isn't set up correctly? Below is an example of the test I created:</p>\n\n<pre><code>my $error = CABLING_ERROR;\n\nmy $exp_out_A = ($error-&gt;{message});\n\nmy $error_in = new($error);\n\ndiag($error_in);\n\nis($error_in, $exp_out_A, 'Correct message output');\n</code></pre>\n"}, {"tags": ["perl", "parsing", "templates", "cartesian-product"], "comments": [{"owner": {"reputation": 341, "user_id": 4907162, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/84964fcbf9e3aa4403333eaccc36c3d8?s=128&d=identicon&r=PG&f=1", "display_name": "\u017daMan", "link": "https://stackoverflow.com/users/4907162/%c5%bdaman"}, "edited": false, "score": 0, "creation_date": 1458757731, "post_id": 36185827, "comment_id": 60007253, "body": "Would an accepted solution for you involve using <code>s&#47;\\[a\\]&#47;is&#47;</code> on <code>$string</code>?"}, {"owner": {"reputation": 49, "user_id": 4705673, "user_type": "registered", "profile_image": "https://lh4.googleusercontent.com/-yWQJUy1EoMM/AAAAAAAAAAI/AAAAAAAAAXg/VsMuloD23Y4/photo.jpg?sz=128", "display_name": "Colton Love", "link": "https://stackoverflow.com/users/4705673/colton-love"}, "reply_to_user": {"reputation": 341, "user_id": 4907162, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/84964fcbf9e3aa4403333eaccc36c3d8?s=128&d=identicon&r=PG&f=1", "display_name": "\u017daMan", "link": "https://stackoverflow.com/users/4907162/%c5%bdaman"}, "edited": false, "score": 0, "creation_date": 1458757824, "post_id": 36185827, "comment_id": 60007314, "body": "Wouldn&#39;t that just modify my original string."}, {"owner": {"reputation": 4191, "user_id": 1466640, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/c0630f2d5ac5fb844675c58d3d2dfa57?s=128&d=identicon&r=PG&f=1", "display_name": "AKHolland", "link": "https://stackoverflow.com/users/1466640/akholland"}, "edited": false, "score": 0, "creation_date": 1458757903, "post_id": 36185827, "comment_id": 60007360, "body": "It sounds like you&#39;re looking for <code>sprintf</code>, if you&#39;re not married to the &quot;[a]&quot; thing."}, {"owner": {"reputation": 341, "user_id": 4907162, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/84964fcbf9e3aa4403333eaccc36c3d8?s=128&d=identicon&r=PG&f=1", "display_name": "\u017daMan", "link": "https://stackoverflow.com/users/4907162/%c5%bdaman"}, "edited": false, "score": 0, "creation_date": 1458757968, "post_id": 36185827, "comment_id": 60007408, "body": "@ColtonLove Yes, or if you want to create an enclosing block with a temporary variable along with using <code>map</code> then that could leave <code>$string</code> untouched."}, {"owner": {"reputation": 49, "user_id": 4705673, "user_type": "registered", "profile_image": "https://lh4.googleusercontent.com/-yWQJUy1EoMM/AAAAAAAAAAI/AAAAAAAAAXg/VsMuloD23Y4/photo.jpg?sz=128", "display_name": "Colton Love", "link": "https://stackoverflow.com/users/4705673/colton-love"}, "edited": false, "score": 0, "creation_date": 1458757996, "post_id": 36185827, "comment_id": 60007427, "body": "I am married to the [a] syntax."}, {"owner": {"reputation": 320771, "user_id": 589924, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/b2cf53d5a3d25f95c0db4e025aed4153?s=128&d=identicon&r=PG", "display_name": "ikegami", "link": "https://stackoverflow.com/users/589924/ikegami"}, "edited": false, "score": 1, "creation_date": 1458758010, "post_id": 36185827, "comment_id": 60007437, "body": "What about <code>$string = &#39;[a] [a]&#39;;</code>? Should that result in <code>&#39;test test&#39;, &#39;test demo&#39;, &#39;demo test&#39;, &#39;demo demo&#39;</code> or just <code>&#39;test test&#39;, &#39;demo demo&#39;</code>?"}, {"owner": {"reputation": 49, "user_id": 4705673, "user_type": "registered", "profile_image": "https://lh4.googleusercontent.com/-yWQJUy1EoMM/AAAAAAAAAAI/AAAAAAAAAXg/VsMuloD23Y4/photo.jpg?sz=128", "display_name": "Colton Love", "link": "https://stackoverflow.com/users/4705673/colton-love"}, "reply_to_user": {"reputation": 320771, "user_id": 589924, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/b2cf53d5a3d25f95c0db4e025aed4153?s=128&d=identicon&r=PG", "display_name": "ikegami", "link": "https://stackoverflow.com/users/589924/ikegami"}, "edited": false, "score": 0, "creation_date": 1458758068, "post_id": 36185827, "comment_id": 60007479, "body": "@ikegami that would be 4 values."}, {"owner": {"reputation": 21782, "user_id": 176646, "user_type": "registered", "accept_rate": 88, "profile_image": "https://i.stack.imgur.com/HsQyV.png?s=128&g=1", "display_name": "ThisSuitIsBlackNot", "link": "https://stackoverflow.com/users/176646/thissuitisblacknot"}, "edited": false, "score": 2, "creation_date": 1458759508, "post_id": 36185827, "comment_id": 60008290, "body": "FYI, what you&#39;re looking for is called the Cartesian product or cross product. There are several modules that will determine the Cartesian product; I like Set::CrossProduct since it lets you iterate through the results without loading them all into memory at once."}], "answers": [{"comments": [{"owner": {"reputation": 49, "user_id": 4705673, "user_type": "registered", "profile_image": "https://lh4.googleusercontent.com/-yWQJUy1EoMM/AAAAAAAAAAI/AAAAAAAAAXg/VsMuloD23Y4/photo.jpg?sz=128", "display_name": "Colton Love", "link": "https://stackoverflow.com/users/4705673/colton-love"}, "edited": false, "score": 0, "creation_date": 1458758672, "post_id": 36186237, "comment_id": 60007822, "body": "I mean that looks almost identical to my first attempt at this. I guess I will just reuse that. I was hoping there could have been a one liner solution."}, {"owner": {"reputation": 320771, "user_id": 589924, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/b2cf53d5a3d25f95c0db4e025aed4153?s=128&d=identicon&r=PG", "display_name": "ikegami", "link": "https://stackoverflow.com/users/589924/ikegami"}, "reply_to_user": {"reputation": 49, "user_id": 4705673, "user_type": "registered", "profile_image": "https://lh4.googleusercontent.com/-yWQJUy1EoMM/AAAAAAAAAAI/AAAAAAAAAXg/VsMuloD23Y4/photo.jpg?sz=128", "display_name": "Colton Love", "link": "https://stackoverflow.com/users/4705673/colton-love"}, "edited": false, "score": 0, "creation_date": 1458758740, "post_id": 36186237, "comment_id": 60007865, "body": "You can&#39;t expect a oneliner if you invent your own template system."}, {"owner": {"reputation": 49, "user_id": 4705673, "user_type": "registered", "profile_image": "https://lh4.googleusercontent.com/-yWQJUy1EoMM/AAAAAAAAAAI/AAAAAAAAAXg/VsMuloD23Y4/photo.jpg?sz=128", "display_name": "Colton Love", "link": "https://stackoverflow.com/users/4705673/colton-love"}, "edited": false, "score": 0, "creation_date": 1458758781, "post_id": 36186237, "comment_id": 60007877, "body": "Thanks though, you are who I was hoping would respond."}, {"owner": {"reputation": 320771, "user_id": 589924, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/b2cf53d5a3d25f95c0db4e025aed4153?s=128&d=identicon&r=PG", "display_name": "ikegami", "link": "https://stackoverflow.com/users/589924/ikegami"}, "reply_to_user": {"reputation": 49, "user_id": 4705673, "user_type": "registered", "profile_image": "https://lh4.googleusercontent.com/-yWQJUy1EoMM/AAAAAAAAAAI/AAAAAAAAAXg/VsMuloD23Y4/photo.jpg?sz=128", "display_name": "Colton Love", "link": "https://stackoverflow.com/users/4705673/colton-love"}, "edited": false, "score": 0, "creation_date": 1458762309, "post_id": 36186237, "comment_id": 60009954, "body": "Added to my answer"}], "tags": [], "owner": {"reputation": 320771, "user_id": 589924, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/b2cf53d5a3d25f95c0db4e025aed4153?s=128&d=identicon&r=PG", "display_name": "ikegami", "link": "https://stackoverflow.com/users/589924/ikegami"}, "is_accepted": true, "score": 2, "last_activity_date": 1458761745, "last_edit_date": 1458761745, "creation_date": 1458758444, "answer_id": 36186237, "question_id": 36185827, "link": "https://stackoverflow.com/questions/36185827/perl-expand-a-string-into-a-list/36186237#36186237", "title": "Perl - Expand a string into a list.", "body": "<p>Given inputs of the form</p>\n\n<pre><code>my %dict = (\n   a =&gt; [\"is\", \"isn't\"],\n   b =&gt; [\"test\", \"demo\"],\n);\n\nmy $template = 'This [a] a [b]';\n</code></pre>\n\n<hr>\n\n<p>Algorithm::Loops version:</p>\n\n<pre><code>use Algorithm::Loops qw( NestedLoops );\n\nmy @loops;\nfor ($template) {\n   if (/\\G \\[ /xgc) {\n      /\\G ( [^\\]]* ) \\] /xgc\n         or die(\"Missing \\\"]\\\"\\n\");\n\n      my $var = $1;\n      length($var)\n         or die(\"Empty \\\"[]\\\"\\n\");\n\n      $dict{$var}      \n         or die(\"Unknown var \\\"$var\\\"\\n\");\n\n      push @loops, $dict{$var};\n      redo;\n   }\n\n   if (/\\G ( [^\\[]+ ) /xgc) {\n      push @loops, [ $1 ];\n      redo;\n   }\n\n   /\\G \\z /xgc\n      or die(\"Internal error\");\n}\n\nmy $iter = NestedLoops(\\@loops);\nwhile (my @parts = $iter-&gt;()) {\n   print(join('', @parts), \"\\n\");\n}\n</code></pre>\n\n<p>Output:</p>\n\n<pre><code>This is a test\nThis is a demo\nThis isn't a test\nThis isn't a demo\n</code></pre>\n\n<hr>\n\n<p><code>glob</code>-based version:</p>\n\n<pre><code>$_ = '{'.join(',', map quotemeta($_), @$_).'}'\n   for values(%dict);\n\nmy $glob;\nfor ($template) {\n   if (/\\G \\[ /xgc) {\n      /\\G ( [^\\]]* ) \\] /xgc\n         or die(\"Missing \\\"]\\\"\\n\");\n\n      my $var = $1;\n      length($var)\n         or die(\"Empty \\\"[]\\\"\\n\");\n\n      $dict{$var}\n         or die(\"Unknown var \\\"$var\\\"\\n\");\n\n      $glob .= $dict{$var};\n      redo;\n   }\n\n   if (/\\G ( [^\\[]+ ) /xgc) {\n      $glob .= $1;\n      redo;\n   }\n\n   /\\G \\z /xgc\n      or die(\"Internal error\");\n}\n\nwhile (defined( my $string = glob($glob) )) {\n   print($string, \"\\n\");\n}\n</code></pre>\n\n<hr>\n\n<p>Without error checking and for that specific dictionary, this can be shrunk quite a bit:</p>\n\n<pre><code>$ perl -E'say for glob shift=~s/\\[((a)|b)]|(.)/$3?\"\\Q$3\":$1?\"{is,isn'\\''t}\":\"{test,demo}\"/serg' \\\n   'This [a] a [b]'\nThis is a test\nThis is a demo\nThis isn't a test\nThis isn't a demo\n</code></pre>\n"}], "owner": {"reputation": 49, "user_id": 4705673, "user_type": "registered", "profile_image": "https://lh4.googleusercontent.com/-yWQJUy1EoMM/AAAAAAAAAAI/AAAAAAAAAXg/VsMuloD23Y4/photo.jpg?sz=128", "display_name": "Colton Love", "link": "https://stackoverflow.com/users/4705673/colton-love"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 75, "favorite_count": 0, "accepted_answer_id": 36186237, "answer_count": 1, "score": -3, "last_activity_date": 1458761745, "creation_date": 1458757162, "last_edit_date": 1458759538, "question_id": 36185827, "link": "https://stackoverflow.com/questions/36185827/perl-expand-a-string-into-a-list", "title": "Perl - Expand a string into a list.", "body": "<p>Trying to do something like the following. </p>\n\n<pre><code>#expand [a] to is, and isn't\n#expand [b] to test, and demo\nmy $string = 'This [a] a [b]';\n</code></pre>\n\n<p>so basically  I would end up with </p>\n\n<pre><code>my @strings = ('This is a test', 'This isn\\'t a test', 'This is a demo', 'This isn\\'t a demo');\n</code></pre>\n\n<p>I've done this before using recursion but that was on a very big set of data and a lot of rules I feel like there could be an easier way using map or grep or List::MoreUtils I just can't think of it.</p>\n"}, {"tags": ["perl", "cpan"], "comments": [{"owner": {"reputation": 21782, "user_id": 176646, "user_type": "registered", "accept_rate": 88, "profile_image": "https://i.stack.imgur.com/HsQyV.png?s=128&g=1", "display_name": "ThisSuitIsBlackNot", "link": "https://stackoverflow.com/users/176646/thissuitisblacknot"}, "edited": false, "score": 0, "creation_date": 1458757335, "post_id": 36185771, "comment_id": 60007017, "body": "Please <a href=\"https://stackoverflow.com/posts/36185771/edit\">edit</a> your question with the path that the module was installed to and the full error message you get when you try to use it. Also, Perl is case-sensitive; are you really doing <code>use Tk;</code> and not <code>use tk;</code>, for example?"}], "answers": [{"tags": [], "owner": {"reputation": 1444, "user_id": 6062567, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/6e87060f0ce67ed68a097ac5186027c5?s=128&d=identicon&r=PG&f=1", "display_name": "oldtechaa", "link": "https://stackoverflow.com/users/6062567/oldtechaa"}, "is_accepted": false, "score": 1, "last_activity_date": 1458764206, "creation_date": 1458764206, "answer_id": 36187909, "question_id": 36185771, "link": "https://stackoverflow.com/questions/36185771/perl-module-not-available-after-cpan-installation/36187909#36187909", "title": "Perl Module not available after cpan Installation", "body": "<p>It would generally be recommended to install perl modules from the packaging system. For example, in Debian/Ubuntu, Tk would be \"perl-tk\". Also, since the Tk module includes Tk inside of it, it can't take advantage of newer versions until it is updated to include them. You might look instead at something like <a href=\"http://search.cpan.org/~gaas/Tkx-1.09/\" rel=\"nofollow\">Tkx</a> which is libtkx-perl in Debian/Ubuntu. The upside is it uses the system Tk libraries for newer versions; the downside is you have to be more familiar with Tcl as it is a simple binding.</p>\n"}], "owner": {"reputation": 3199, "user_id": 2759385, "user_type": "registered", "accept_rate": 57, "profile_image": "https://www.gravatar.com/avatar/8e5fbf51ed249b017926f975b2999d2d?s=128&d=identicon&r=PG&f=1", "display_name": "Ahdee", "link": "https://stackoverflow.com/users/2759385/ahdee"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 49, "favorite_count": 0, "answer_count": 1, "score": -1, "last_activity_date": 1458764206, "creation_date": 1458757021, "question_id": 36185771, "link": "https://stackoverflow.com/questions/36185771/perl-module-not-available-after-cpan-installation", "title": "Perl Module not available after cpan Installation", "body": "<p>I'm running Ubuntu 14.  I tried installing Tk module via cpan.  It appears to have installed correctly, however when I tried to use Tk; in my script it still says its unavailable.  Is there anything I can do, perhaps add it to @INC somehow? thanks! \nAhdee</p>\n"}, {"tags": ["linux", "bash", "perl", "server", "newline"], "comments": [{"owner": {"reputation": 51553, "user_id": 557306, "user_type": "registered", "accept_rate": 98, "profile_image": "https://i.stack.imgur.com/OAmpG.jpg?s=128&g=1", "display_name": "sidyll", "link": "https://stackoverflow.com/users/557306/sidyll"}, "edited": false, "score": 3, "creation_date": 1458756472, "post_id": 36185528, "comment_id": 60006510, "body": "<code>echo &#47;bin&#47;false &gt;&gt; &#47;etc&#47;shells</code>"}, {"owner": {"reputation": 1, "user_id": 5959214, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/e3731746ad5d586ae75766eec1f283dd?s=128&d=identicon&r=PG&f=1", "display_name": "Daniel Kappers", "link": "https://stackoverflow.com/users/5959214/daniel-kappers"}, "reply_to_user": {"reputation": 51553, "user_id": 557306, "user_type": "registered", "accept_rate": 98, "profile_image": "https://i.stack.imgur.com/OAmpG.jpg?s=128&g=1", "display_name": "sidyll", "link": "https://stackoverflow.com/users/557306/sidyll"}, "edited": false, "score": 0, "creation_date": 1458756871, "post_id": 36185528, "comment_id": 60006757, "body": "Oh wow.. That simple!? Please make it an answer, than i will approve it :)"}, {"owner": {"reputation": 53041, "user_id": 4653379, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/b3953dbedd0dabff5cbc3db9b0835b14?s=128&d=identicon&r=PG&f=1", "display_name": "zdim", "link": "https://stackoverflow.com/users/4653379/zdim"}, "edited": false, "score": 1, "creation_date": 1459324312, "post_id": 36185528, "comment_id": 60229517, "body": "A gentle reminder to <a href=\"http://stackoverflow.com/help/someone-answers\">mark answers accordingly</a> ..."}], "answers": [{"tags": [], "owner": {"reputation": 51553, "user_id": 557306, "user_type": "registered", "accept_rate": 98, "profile_image": "https://i.stack.imgur.com/OAmpG.jpg?s=128&g=1", "display_name": "sidyll", "link": "https://stackoverflow.com/users/557306/sidyll"}, "is_accepted": false, "score": 1, "last_activity_date": 1458757382, "creation_date": 1458757382, "answer_id": 36185905, "question_id": 36185528, "link": "https://stackoverflow.com/questions/36185528/perl-script-to-add-newline-to-end-of-textfile/36185905#36185905", "title": "Perl script to add newline to end of textfile", "body": "<p>This:</p>\n\n<pre><code>s///usr//bin//screen///usr//bin//screen\"\\n\"//bin//false/g\n</code></pre>\n\n<p>Indeed has  syntax errors. Starting from  the fact that you  used double\nbars on  the path, where you  should have escaped them  (<code>\\/</code>), and also\nthe strange newline string in the middle of it. You could also use other\ndelimiters rather than forward slash, to avoid having to escape all.</p>\n\n<pre><code>s!/usr/bin/screen\\n!/usr/bin/screen\\n/bin/false!\n</code></pre>\n\n<p>Also, don't forget  to close your last  line. And you can  also use <code>\\K</code>\n(see <code>perldoc perlre</code> for details) to  simplify your regex, with a final\nresult of:</p>\n\n<pre><code>s!/usr/bin/screen\\n\\K!/bin/false\\n!\n</code></pre>\n\n<p>But anyway, this  seems to be overkill. You can  use your shell features\nto echo a line and redirect to a file, by appending with <code>&gt;&gt;</code>:</p>\n\n<pre><code>echo /bin/false &gt;&gt; /etc/shells\n</code></pre>\n"}], "owner": {"reputation": 1, "user_id": 5959214, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/e3731746ad5d586ae75766eec1f283dd?s=128&d=identicon&r=PG&f=1", "display_name": "Daniel Kappers", "link": "https://stackoverflow.com/users/5959214/daniel-kappers"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 151, "favorite_count": 1, "answer_count": 1, "score": -1, "last_activity_date": 1458757382, "creation_date": 1458756255, "question_id": 36185528, "link": "https://stackoverflow.com/questions/36185528/perl-script-to-add-newline-to-end-of-textfile", "title": "Perl script to add newline to end of textfile", "body": "<p>I have tried to make a perl script add a newline to the end of a text file and then write in the following:</p>\n\n<p>/bin/false</p>\n\n<p>The file looks like this:</p>\n\n<blockquote>\n  <p>/bin/sh<br/>\n  /bin/dash<br/>\n  /bin/bash<br/>\n  /bin/rbash<br/>\n  /usr/bin/tmux<br/>\n  /usr/bin/screen<br/></p>\n</blockquote>\n\n<p>I have tried running the following script:</p>\n\n<blockquote>\n  <p>perl -pi -e 's///usr//bin//screen///usr//bin//screen\"\\n\"//bin//false/g' /etc/shells</p>\n</blockquote>\n\n<p>But without any luck. It does not accept the newline and just returns an error for the syntax. Can you help!?</p>\n"}, {"tags": ["regex", "perl", "backtracking"], "comments": [{"owner": {"reputation": 35130, "user_id": 1255289, "user_type": "registered", "accept_rate": 89, "profile_image": "https://www.gravatar.com/avatar/5ed02658b2440179f00eeff8beb7aa4c?s=128&d=identicon&r=PG", "display_name": "miken32", "link": "https://stackoverflow.com/users/1255289/miken32"}, "edited": false, "score": 1, "creation_date": 1458766786, "post_id": 36184124, "comment_id": 60012452, "body": "Possible duplicate of <a href=\"http://stackoverflow.com/questions/253760/have-you-used-the-perl-5-10-backtracking-control-verbs-in-your-regexes-yet\">Have you used the Perl 5.10 backtracking control verbs in your regexes yet?</a>"}, {"owner": {"reputation": 35130, "user_id": 1255289, "user_type": "registered", "accept_rate": 89, "profile_image": "https://www.gravatar.com/avatar/5ed02658b2440179f00eeff8beb7aa4c?s=128&d=identicon&r=PG", "display_name": "miken32", "link": "https://stackoverflow.com/users/1255289/miken32"}, "edited": false, "score": 0, "creation_date": 1458766869, "post_id": 36184124, "comment_id": 60012486, "body": "I fail to see how this question (&quot;So, in what situation is it useful to include a backtracking-related verb in a regex, in practice?&quot;) is different from the linked, and rightfully closed one (&quot;Have you used the Perl 5.10 backtracking control verbs in your regexes yet? And what problems did they help you [solve]?&quot;)"}, {"owner": {"reputation": 5492, "user_id": 6083675, "user_type": "registered", "accept_rate": 29, "profile_image": "https://i.stack.imgur.com/D2CgS.png?s=128&g=1", "display_name": "Laurel", "link": "https://stackoverflow.com/users/6083675/laurel"}, "reply_to_user": {"reputation": 35130, "user_id": 1255289, "user_type": "registered", "accept_rate": 89, "profile_image": "https://www.gravatar.com/avatar/5ed02658b2440179f00eeff8beb7aa4c?s=128&d=identicon&r=PG", "display_name": "miken32", "link": "https://stackoverflow.com/users/1255289/miken32"}, "edited": false, "score": 0, "creation_date": 1458770262, "post_id": 36184124, "comment_id": 60014093, "body": "@miken32 I updated my question with a more detailed explanation of why it doesn&#39;t answer the question. Is it clear now how what I&#39;m asking is different? I&#39;m not asking <i>just</i> for examples."}, {"owner": {"reputation": 11918, "user_id": 5527985, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/CfG3C.png?s=128&g=1", "display_name": "bobble bubble", "link": "https://stackoverflow.com/users/5527985/bobble-bubble"}, "edited": false, "score": 0, "creation_date": 1458821922, "post_id": 36184124, "comment_id": 60033302, "body": "Rexegg has a <a href=\"http://www.rexegg.com/backtracking-control-verbs.html\" rel=\"nofollow noreferrer\">tutorial worth reading</a>. The most used practical verbs are probably <a href=\"http://www.rexegg.com/regex-best-trick.html#pcrevariation\" rel=\"nofollow noreferrer\"><code>(*SKIP)(*FAIL)</code> or <code>(*SKIP)(*F)</code> together with this trick</a>. As an example, let&#39;s say you want to <i>match <code>is</code> if not inside parenthesis</i>. What&#39;s inside can be <a href=\"https://regex101.com/r/dL1dJ9/1\" rel=\"nofollow noreferrer\">skipped by use of these verbs (demo)</a>."}], "answers": [{"comments": [{"owner": {"reputation": 5492, "user_id": 6083675, "user_type": "registered", "accept_rate": 29, "profile_image": "https://i.stack.imgur.com/D2CgS.png?s=128&g=1", "display_name": "Laurel", "link": "https://stackoverflow.com/users/6083675/laurel"}, "edited": false, "score": 0, "creation_date": 1460774379, "post_id": 36658928, "comment_id": 60911841, "body": "Does the linked material use Perl 6 regexes? I&#39;m not very familiar with Perl 6 regexes, although it seems like it&#39;s more similar to BNF. (I&#39;ve learned a lot since I originally asked this q, but I still have no clue what <code>bless</code>, for example, does in Perl.)"}, {"owner": {"reputation": 382, "user_id": 334931, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/1f34fd19efd04f944b9db5d053afab57?s=128&d=identicon&r=PG", "display_name": "polettix", "link": "https://stackoverflow.com/users/334931/polettix"}, "reply_to_user": {"reputation": 5492, "user_id": 6083675, "user_type": "registered", "accept_rate": 29, "profile_image": "https://i.stack.imgur.com/D2CgS.png?s=128&g=1", "display_name": "Laurel", "link": "https://stackoverflow.com/users/6083675/laurel"}, "edited": false, "score": 0, "creation_date": 1460787344, "post_id": 36658928, "comment_id": 60914231, "body": "No, the link refers to a Perl 5 module that works back up to 5.6.2 <a href=\"http://matrix.cpantesters.org/?dist=Parse-RecDescent+1.967013\" rel=\"nofollow noreferrer\">matrix.cpantesters.org/?dist=Parse-RecDescent+1.967013</a> - the link was intended just to give you one example of where pruning of the search space might make sense anyway."}], "tags": [], "owner": {"reputation": 382, "user_id": 334931, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/1f34fd19efd04f944b9db5d053afab57?s=128&d=identicon&r=PG", "display_name": "polettix", "link": "https://stackoverflow.com/users/334931/polettix"}, "is_accepted": false, "score": 2, "last_activity_date": 1460767417, "creation_date": 1460767417, "answer_id": 36658928, "question_id": 36184124, "link": "https://stackoverflow.com/questions/36184124/when-should-regex-backtracking-controls-like-prune-be-used/36658928#36658928", "title": "When should regex backtracking controls, like (*PRUNE), be used?", "body": "<p>One good piece of documentation you can look at is the <a href=\"https://metacpan.org/pod/Parse::RecDescent#Directives\" rel=\"nofollow\">section about directives in Parse::RecDescent</a>. The <code>&lt;commit&gt;</code> directive, in particular, seems somehow related to <code>(*PRUNE)</code> (although there is a <code>(*COMMIT)</code> too), and contains an instructive example.</p>\n\n<p>My personal impression is that most of the times they provide you tools to make your regexes <em>better</em> (e.g. more performing, or clearer) but not necessarily more effective. As an example, you can probably live without <code>(*PRUNE)</code>, but you would suffer from heavier backtracking and how this affects you depends on what you're trying to match. Re <code>(*FAIL)</code>, it might probably be emulated with a non-matching sub-regex, but it's much more clear what the intent is that it at least enhances readability.</p>\n"}, {"tags": [], "owner": {"reputation": 61, "user_id": 5862421, "user_type": "registered", "profile_image": "https://lh5.googleusercontent.com/-8KGB9B-pJm0/AAAAAAAAAAI/AAAAAAAAAFg/DKGw-PTGaaM/photo.jpg?sz=128", "display_name": "belg4mit", "link": "https://stackoverflow.com/users/5862421/belg4mit"}, "is_accepted": false, "score": 0, "last_activity_date": 1467736575, "creation_date": 1467736575, "answer_id": 38208483, "question_id": 36184124, "link": "https://stackoverflow.com/questions/36184124/when-should-regex-backtracking-controls-like-prune-be-used/38208483#38208483", "title": "When should regex backtracking controls, like (*PRUNE), be used?", "body": "<p>In short: You'll know if you need to use them, and if you're not sure, don't. </p>\n\n<p>As others have alluded to, these tend to be performance based optimization tools suitable for grammatical processing. Not only is premature optimization the root of all evil, these features were marked as experimental until only recently. Therefore one might reasonably deduce that they are not necessary for most use cases, and that it's best not go borrowing trouble/complexity unless necessary.</p>\n"}], "owner": {"reputation": 5492, "user_id": 6083675, "user_type": "registered", "accept_rate": 29, "profile_image": "https://i.stack.imgur.com/D2CgS.png?s=128&g=1", "display_name": "Laurel", "link": "https://stackoverflow.com/users/6083675/laurel"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 565, "favorite_count": 3, "answer_count": 2, "score": 11, "last_activity_date": 1615211247, "creation_date": 1458751825, "last_edit_date": 1615211247, "question_id": 36184124, "link": "https://stackoverflow.com/questions/36184124/when-should-regex-backtracking-controls-like-prune-be-used", "title": "When should regex backtracking controls, like (*PRUNE), be used?", "body": "<p>Some regex engines support backtracking-related verbs: <code>(*PRUNE)</code>, <code>(*SKIP)</code>, <code>(?{doSomeCode();})</code>*, etc. I already know what these verbs <em>do</em>, from <a href=\"https://stackoverflow.com/q/22937618/6083675\">Reference - What does this regex mean?</a>.</p>\n<p>I'm inclined to think that these verbs are somewhat esoteric, or at least an unnecessary step to a more low-level type of programming. Instead of needing a <code>(*PRUNE)</code>, wouldn't it be better (reducing the complexity for both regex writer/programmer and reader) to have more optimizations behind the scenes (like in the compiler or engine)?</p>\n<p>So, in what situation is it useful to include a backtracking-related verb in a regex, in practice? Is there ever a benefit to do so?</p>\n<hr />\n<p><code>*</code> While not technically a backtracking control verb, many examples that execute arbitrary code in regexes do it in a way that affects or is affected by backtracking.</p>\n<hr />\n<p><strong>Background</strong></p>\n<p>These features were originally experimental, though they are no longer labeled as such in <a href=\"http://perldoc.perl.org/perlretut.html\" rel=\"nofollow noreferrer\">the Perl regex tutorial</a>. It's no wonder that I am unable to find much about these constructs on the Internet (especially when the search is clogged with irrelevant results that have <code>skip</code> or <code>prune</code> outside the code). I'll bet that there are numerous people advanced enough in regex to use these verbs that simply don't know about them.</p>\n<p>So there are a number of practical barriers preventing widespread use:</p>\n<ol>\n<li>Features are experimental</li>\n<li>Features are obscure</li>\n<li>Features are advanced</li>\n</ol>\n<p>Trying to find an answer that looks past this and finds a good use-case, or the reasoning from the developers who created these features.</p>\n<p>I'm also aware that a similar <a href=\"https://stackoverflow.com/q/253760/6083675\">closed (too opinion-based) question</a> exists, but it didn\u2019t answer my question as the only answer to say &quot;yes&quot; to that question gave two links, one of which was an esoteric use (additionally, I cannot understand it...). The other one, while it gave a situation of when to use <code>(*FAIL)</code>, did not did not address any of the other constructs I mentioned, nor did it use <code>(*FAIL)</code> as a <strong>Backtracking mechanism</strong>. From what I understand, <code>(*FAIL)</code> can be emulated by <a href=\"https://stackoverflow.com/q/1723182/6083675\">any regex that always fails</a>.</p>\n<p>Let me respecify what I am looking for in an answer:</p>\n<ul>\n<li>Relates specifically to backtracking</li>\n<li>Non-Esoteric</li>\n<li>Practical</li>\n<li>More than an example of usage</li>\n<li>Has an explanation for any examples given</li>\n<li>May include background on reason for adding features</li>\n<li>May include updates, with sources, relevant to the future of the features (in Perl or other regex flavors)</li>\n</ul>\n"}, {"tags": ["xml", "perl"], "comments": [{"owner": {"reputation": 6468, "user_id": 293652, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/820308d5db420d7f0e1d0ba97e09f520?s=128&d=identicon&r=PG", "display_name": "Grant McLean", "link": "https://stackoverflow.com/users/293652/grant-mclean"}, "edited": false, "score": 1, "creation_date": 1459107776, "post_id": 36182961, "comment_id": 60133233, "body": "As the author of XML::Simple I heartily endorse XML::LibXML as a better choice - even for simple projects.  In fact I wrote <a href=\"http://grantm.github.io/perl-libxml-by-example/\" rel=\"nofollow noreferrer\">Perl XML::LibXML by Example</a> specifically to help people make the move."}], "answers": [{"comments": [{"owner": {"reputation": 23, "user_id": 4584683, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/e790057b8ac2b4eca7e9ceab90127cf9?s=128&d=identicon&r=PG&f=1", "display_name": "Michael Osten", "link": "https://stackoverflow.com/users/4584683/michael-osten"}, "edited": false, "score": 0, "creation_date": 1458751445, "post_id": 36183068, "comment_id": 60003245, "body": "How would I open an xml file for input and assign longitude as a variable?"}, {"owner": {"reputation": 51521, "user_id": 2566198, "user_type": "registered", "accept_rate": 67, "profile_image": "https://i.stack.imgur.com/Y34ZA.jpg?s=128&g=1", "display_name": "Sobrique", "link": "https://stackoverflow.com/users/2566198/sobrique"}, "reply_to_user": {"reputation": 23, "user_id": 4584683, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/e790057b8ac2b4eca7e9ceab90127cf9?s=128&d=identicon&r=PG&f=1", "display_name": "Michael Osten", "link": "https://stackoverflow.com/users/4584683/michael-osten"}, "edited": false, "score": 0, "creation_date": 1458762614, "post_id": 36183068, "comment_id": 60010088, "body": "If you read the docs on XML::Twig, you will see there is a <code>parsefile</code> method.  Or you can just <code>parse(&lt;&gt;)</code>"}], "tags": [], "owner": {"reputation": 51521, "user_id": 2566198, "user_type": "registered", "accept_rate": 67, "profile_image": "https://i.stack.imgur.com/Y34ZA.jpg?s=128&g=1", "display_name": "Sobrique", "link": "https://stackoverflow.com/users/2566198/sobrique"}, "is_accepted": false, "score": 5, "last_activity_date": 1458748994, "last_edit_date": 1495535311, "creation_date": 1458748994, "answer_id": 36183068, "question_id": 36182961, "link": "https://stackoverflow.com/questions/36182961/xmlsimple-and-multilevel/36183068#36183068", "title": "XML:Simple and multilevel", "body": "<p>I wouldn't suggest using <code>XML::Simple</code> at all. It lies. It's not simple. \nSee here: <a href=\"https://stackoverflow.com/questions/33267765/why-is-xmlsimple-discouraged\">Why is XML::Simple &quot;Discouraged&quot;?</a></p>\n\n<p>Instead:</p>\n\n<pre><code>#!/usr/bin/perl\nuse strict;\nuse warnings;\n\nuse XML::Twig;\n\nprint XML::Twig -&gt; parse ( \\*DATA) -&gt; get_xpath('//longitude',0) -&gt; text;\n\n__DATA__\n&lt;response&gt;\n&lt;feedMessageResponse&gt;\n&lt;count&gt;1&lt;/count&gt;\n&lt;feed&gt;...&lt;/feed&gt;\n&lt;totalCount&gt;1&lt;/totalCount&gt;\n&lt;activityCount&gt;0&lt;/activityCount&gt;\n&lt;messages&gt;\n&lt;message clientUnixTime=\"0\"&gt;\n&lt;id&gt;527604536&lt;/id&gt;\n&lt;messengerId&gt;0-2136339&lt;/messengerId&gt;\n&lt;messengerName&gt;michael&lt;/messengerName&gt;\n&lt;unixTime&gt;1458736183&lt;/unixTime&gt;\n&lt;messageType&gt;TRACK&lt;/messageType&gt;\n&lt;latitude&gt;35.3825&lt;/latitude&gt;\n&lt;longitude&gt;-80.92035&lt;/longitude&gt;\n&lt;modelId&gt;SPOTCONNECT&lt;/modelId&gt;\n&lt;showCustomMsg&gt;N&lt;/showCustomMsg&gt;\n&lt;dateTime&gt;2016-03-23T12:29:43+0000&lt;/dateTime&gt;\n&lt;messageDetail/&gt;\n&lt;batteryState&gt;GOOD&lt;/batteryState&gt;\n&lt;hidden&gt;0&lt;/hidden&gt;\n&lt;/message&gt;\n&lt;/messages&gt;\n&lt;/feedMessageResponse&gt;\n&lt;/response&gt;\n</code></pre>\n\n<p>Output:</p>\n\n<pre><code>-80.92035\n</code></pre>\n"}, {"comments": [{"owner": {"reputation": 23, "user_id": 4584683, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/e790057b8ac2b4eca7e9ceab90127cf9?s=128&d=identicon&r=PG&f=1", "display_name": "Michael Osten", "link": "https://stackoverflow.com/users/4584683/michael-osten"}, "edited": false, "score": 0, "creation_date": 1458761153, "post_id": 36184435, "comment_id": 60009324, "body": "With the XML::LibXML example above.  How would you specify the second instance of &quot;id&quot;?"}, {"owner": {"reputation": 62184, "user_id": 7231, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/81b76985f3985e35492e25880493d045?s=128&d=identicon&r=PG", "display_name": "Dave Cross", "link": "https://stackoverflow.com/users/7231/dave-cross"}, "reply_to_user": {"reputation": 23, "user_id": 4584683, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/e790057b8ac2b4eca7e9ceab90127cf9?s=128&d=identicon&r=PG&f=1", "display_name": "Michael Osten", "link": "https://stackoverflow.com/users/4584683/michael-osten"}, "edited": false, "score": 0, "creation_date": 1458809144, "post_id": 36184435, "comment_id": 60025900, "body": "The parameter to <code>findvalue()</code> is an <a href=\"https://www.w3.org/TR/xpath/\" rel=\"nofollow noreferrer\">XPath</a> expression. I think you&#39;ll need the <code>position()</code> function."}], "tags": [], "owner": {"reputation": 62184, "user_id": 7231, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/81b76985f3985e35492e25880493d045?s=128&d=identicon&r=PG", "display_name": "Dave Cross", "link": "https://stackoverflow.com/users/7231/dave-cross"}, "is_accepted": false, "score": 1, "last_activity_date": 1458752705, "creation_date": 1458752705, "answer_id": 36184435, "question_id": 36182961, "link": "https://stackoverflow.com/questions/36182961/xmlsimple-and-multilevel/36184435#36184435", "title": "XML:Simple and multilevel", "body": "<p>From the documentation for <a href=\"https://metacpan.org/pod/XML::Simple\" rel=\"nofollow\">XML::Simple</a>:</p>\n\n<blockquote>\n  <p>The use of this module in new code is discouraged. Other modules are\n  available which provide more straightforward and consistent\n  interfaces. In particular, XML::LibXML is highly recommended and\n  XML::Twig is an excellent alternative.</p>\n  \n  <p>The major problems with this module are the large number of options\n  (some of which have unfortunate defaults) and the arbitrary ways in\n  which these options interact - often producing unexpected results.</p>\n</blockquote>\n\n<p>But if you want to ignore that warning, you can use XML::Simple like this:</p>\n\n<pre><code>#!/usr/bin/perl\n\nuse strict;\nuse warnings;\nuse 5.010;\n\nuse XML::Simple;\n\nmy $doc = XMLin('data.xml');\n\nsay $doc-&gt;{feedMessageResponse}{messages}{message}{longitude};\n</code></pre>\n\n<p>Personally, I much prefer XML::LibXML.</p>\n\n<pre><code>#!/usr/bin/perl\n\nuse strict;\nuse warnings;\nuse 5.010;\n\nuse XML::LibXML;\n\nmy $parser = XML::LibXML-&gt;new();\nmy $doc = $parser-&gt;parse_file('data.xml');\n\nsay $doc-&gt;findvalue('//longitude');\n</code></pre>\n"}, {"tags": [], "owner": {"reputation": 962, "user_id": 4204127, "user_type": "registered", "accept_rate": 33, "profile_image": "https://graph.facebook.com/1241595301/picture?type=large", "display_name": "Ed Dunn", "link": "https://stackoverflow.com/users/4204127/ed-dunn"}, "is_accepted": false, "score": 1, "last_activity_date": 1458762189, "creation_date": 1458762189, "answer_id": 36187312, "question_id": 36182961, "link": "https://stackoverflow.com/questions/36182961/xmlsimple-and-multilevel/36187312#36187312", "title": "XML:Simple and multilevel", "body": "<p>I agree with Dave Cross, I find XML::LibXML to be a lot easier.  This is what I would do if your file contained multiple longitude values</p>\n\n<pre><code>#!/usr/bin/perl\n\nuse warnings;\nuse strict;\nuse XML::LibXML;\n\nmy $file = 'test.xml'; #location of the file or it could be a url as well\n\nmy $parser = XML::LibXML-&gt;new();\nmy $tree = $parser-&gt;parse_file($file);\nmy $root = $tree-&gt;getDocumentElement;\nmy @longitude = $root-&gt;getElementsByTagName('longitude');\n\nforeach my $res (@longitude) {\n    print \"Longitude : \" . $res-&gt;textContent() . \"\\n\";\n}\n</code></pre>\n\n<p>This is just a simple example, you can change it to suit your needs</p>\n"}], "owner": {"reputation": 23, "user_id": 4584683, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/e790057b8ac2b4eca7e9ceab90127cf9?s=128&d=identicon&r=PG&f=1", "display_name": "Michael Osten", "link": "https://stackoverflow.com/users/4584683/michael-osten"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 64, "favorite_count": 0, "answer_count": 3, "score": -1, "last_activity_date": 1458762189, "creation_date": 1458748706, "last_edit_date": 1458761377, "question_id": 36182961, "link": "https://stackoverflow.com/questions/36182961/xmlsimple-and-multilevel", "title": "XML:Simple and multilevel", "body": "<p>I'm trying to get the value of \"longitude\" from the following with XML::Simple.</p>\n\n<p>Could anyone provide a code example?</p>\n\n<pre><code>&lt;response&gt;\n&lt;feedMessageResponse&gt;\n&lt;count&gt;1&lt;/count&gt;\n&lt;feed&gt;...\n&lt;id&gt;02JvgufQqMhyMgAB5Rv7DOgge0LJjSly0&lt;/id&gt;\n&lt;/feed&gt;\n&lt;totalCount&gt;1&lt;/totalCount&gt;\n&lt;activityCount&gt;0&lt;/activityCount&gt;\n&lt;messages&gt;\n&lt;message clientUnixTime=\"0\"&gt;\n&lt;id&gt;527604536&lt;/id&gt;\n&lt;messengerId&gt;0-2136339&lt;/messengerId&gt;\n&lt;messengerName&gt;michael&lt;/messengerName&gt;\n&lt;unixTime&gt;1458736183&lt;/unixTime&gt;\n&lt;messageType&gt;TRACK&lt;/messageType&gt;\n&lt;latitude&gt;35.3825&lt;/latitude&gt;\n&lt;longitude&gt;-80.92035&lt;/longitude&gt;\n&lt;modelId&gt;SPOTCONNECT&lt;/modelId&gt;\n&lt;showCustomMsg&gt;N&lt;/showCustomMsg&gt;\n&lt;dateTime&gt;2016-03-23T12:29:43+0000&lt;/dateTime&gt;\n&lt;messageDetail/&gt;\n&lt;batteryState&gt;GOOD&lt;/batteryState&gt;\n&lt;hidden&gt;0&lt;/hidden&gt;\n&lt;/message&gt;\n&lt;/messages&gt;\n&lt;/feedMessageResponse&gt;\n&lt;/response&gt;\n</code></pre>\n"}, {"tags": ["apache", "perl"], "answers": [{"comments": [{"owner": {"reputation": 683, "user_id": 5438797, "user_type": "registered", "accept_rate": 0, "profile_image": "https://lh6.googleusercontent.com/-Rru377-I1WE/AAAAAAAAAAI/AAAAAAAAAAw/VepE7cxBZIw/photo.jpg?sz=128", "display_name": "Ysh", "link": "https://stackoverflow.com/users/5438797/ysh"}, "edited": false, "score": 0, "creation_date": 1458746222, "post_id": 36181162, "comment_id": 59999315, "body": "I tried it, but it didn&#39;t work. It decrypted exactly like before."}, {"owner": {"reputation": 922, "user_id": 6007479, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/2985836ad658cadbd1d128859dd936fc?s=128&d=identicon&r=PG", "display_name": "Johan", "link": "https://stackoverflow.com/users/6007479/johan"}, "reply_to_user": {"reputation": 683, "user_id": 5438797, "user_type": "registered", "accept_rate": 0, "profile_image": "https://lh6.googleusercontent.com/-Rru377-I1WE/AAAAAAAAAAI/AAAAAAAAAAw/VepE7cxBZIw/photo.jpg?sz=128", "display_name": "Ysh", "link": "https://stackoverflow.com/users/5438797/ysh"}, "edited": false, "score": 0, "creation_date": 1458749120, "post_id": 36181162, "comment_id": 60001584, "body": "How long does it take before the decrypt stops? (not the movie but the script)"}, {"owner": {"reputation": 683, "user_id": 5438797, "user_type": "registered", "accept_rate": 0, "profile_image": "https://lh6.googleusercontent.com/-Rru377-I1WE/AAAAAAAAAAI/AAAAAAAAAAw/VepE7cxBZIw/photo.jpg?sz=128", "display_name": "Ysh", "link": "https://stackoverflow.com/users/5438797/ysh"}, "edited": false, "score": 0, "creation_date": 1458749698, "post_id": 36181162, "comment_id": 60002035, "body": "It takes around 6-8 mins to decrpyt that movie file. I didn&#39;t exactly understand your question."}, {"owner": {"reputation": 922, "user_id": 6007479, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/2985836ad658cadbd1d128859dd936fc?s=128&d=identicon&r=PG", "display_name": "Johan", "link": "https://stackoverflow.com/users/6007479/johan"}, "reply_to_user": {"reputation": 683, "user_id": 5438797, "user_type": "registered", "accept_rate": 0, "profile_image": "https://lh6.googleusercontent.com/-Rru377-I1WE/AAAAAAAAAAI/AAAAAAAAAAw/VepE7cxBZIw/photo.jpg?sz=128", "display_name": "Ysh", "link": "https://stackoverflow.com/users/5438797/ysh"}, "edited": false, "score": 0, "creation_date": 1458753987, "post_id": 36181162, "comment_id": 60004961, "body": "Well your script only decrypts the first 12 minutes of the movie. So after a certain amount of time, the decryption stops/fails. The amount of time may indicate which timeout is interrupting your script."}], "tags": [], "owner": {"reputation": 922, "user_id": 6007479, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/2985836ad658cadbd1d128859dd936fc?s=128&d=identicon&r=PG", "display_name": "Johan", "link": "https://stackoverflow.com/users/6007479/johan"}, "is_accepted": false, "score": 2, "last_activity_date": 1458754030, "last_edit_date": 1458754030, "creation_date": 1458743869, "answer_id": 36181162, "question_id": 36180826, "link": "https://stackoverflow.com/questions/36180826/large-file-execution-on-apache2/36181162#36181162", "title": "Large file execution on apache2", "body": "<p>You're probably hitting a timeout of the server. Check <a href=\"http://httpd.apache.org/docs/2.2/mod/core.html#timeout\" rel=\"nofollow\">Timeout</a> for the apache setting.</p>\n"}], "owner": {"reputation": 683, "user_id": 5438797, "user_type": "registered", "accept_rate": 0, "profile_image": "https://lh6.googleusercontent.com/-Rru377-I1WE/AAAAAAAAAAI/AAAAAAAAAAw/VepE7cxBZIw/photo.jpg?sz=128", "display_name": "Ysh", "link": "https://stackoverflow.com/users/5438797/ysh"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 38, "favorite_count": 0, "answer_count": 1, "score": 0, "last_activity_date": 1458754030, "creation_date": 1458743000, "question_id": 36180826, "link": "https://stackoverflow.com/questions/36180826/large-file-execution-on-apache2", "title": "Large file execution on apache2", "body": "<p>I have a perl code which decrypts large movie files(which are encrypted). It runs fine and decrypts a movie completely when I run it from my linux terminal, but when I test it on apache on my local host, it decrypts only a small part of the movie.</p>\n\n<p>If the movie is for like 2:30 mins, it decrypts only first 12 minutes of the movie.</p>\n\n<p>Also, it works works fine with short length movies.</p>\n\n<p>Does apache2 have any server limitations? or there can be any other problem? Please help. </p>\n"}, {"tags": ["regex", "perl"], "comments": [{"owner": {"reputation": 50468, "user_id": 1331451, "user_type": "registered", "accept_rate": 96, "profile_image": "https://i.stack.imgur.com/4ZPmj.png?s=128&g=1", "display_name": "simbabque", "link": "https://stackoverflow.com/users/1331451/simbabque"}, "edited": false, "score": 0, "creation_date": 1458741242, "post_id": 36179996, "comment_id": 59995213, "body": "Welcome to Stack Overflow and the Perl tag. While your question is on-topic and actually shows effort, it reads a lot like homework, which it probably is. I think you should <a href=\"https://stackoverflow.com/posts/36179996/edit\">edit</a> and change the question to simply show example input and desired output, explain what you want to capture and where you are struggling, but get rid of the assignment. That will probably get you a way better reception here. Stuff that yells <i>homework</i> right in the front usually is not well received, even if the question is actually good."}, {"owner": {"reputation": 50468, "user_id": 1331451, "user_type": "registered", "accept_rate": 96, "profile_image": "https://i.stack.imgur.com/4ZPmj.png?s=128&g=1", "display_name": "simbabque", "link": "https://stackoverflow.com/users/1331451/simbabque"}, "edited": false, "score": 0, "creation_date": 1458741367, "post_id": 36179996, "comment_id": 59995313, "body": "Besides that, I would recommend to split your problem into two things. First, write code that takes known input and converts it to known output. Ignore the file operations, just print to the screen. Once you have that working, use it with the data that you read from the input file, and write the results to the output file. It will be way easier to verify what you are doing, and you will not get stuck on two different problems at once."}, {"owner": {"reputation": 31, "user_id": 2940923, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/82eb5cf4ee5b155fd734abe0ecedfb22?s=128&d=identicon&r=PG&f=1", "display_name": "BSileNTz", "link": "https://stackoverflow.com/users/2940923/bsilentz"}, "reply_to_user": {"reputation": 50468, "user_id": 1331451, "user_type": "registered", "accept_rate": 96, "profile_image": "https://i.stack.imgur.com/4ZPmj.png?s=128&g=1", "display_name": "simbabque", "link": "https://stackoverflow.com/users/1331451/simbabque"}, "edited": false, "score": 0, "creation_date": 1458741596, "post_id": 36179996, "comment_id": 59995503, "body": "It is but i&#39;m not asking for the whole code here, i just want to know how can i write a Regex that find something like 12A and replace it with (12/10)nm. That&#39;s all."}], "answers": [{"comments": [{"owner": {"reputation": 31, "user_id": 2940923, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/82eb5cf4ee5b155fd734abe0ecedfb22?s=128&d=identicon&r=PG&f=1", "display_name": "BSileNTz", "link": "https://stackoverflow.com/users/2940923/bsilentz"}, "edited": false, "score": 0, "creation_date": 1458755501, "post_id": 36182414, "comment_id": 60005940, "body": "Thank you very much for the time you put into writing such a detailed answer."}, {"owner": {"reputation": 5455, "user_id": 3961170, "user_type": "registered", "accept_rate": 73, "profile_image": "https://i.stack.imgur.com/PtFol.jpg?s=128&g=1", "display_name": "mkHun", "link": "https://stackoverflow.com/users/3961170/mkhun"}, "edited": false, "score": 0, "creation_date": 1458758228, "post_id": 36182414, "comment_id": 60007573, "body": "@sorbrique Your every answer have very clear explanation. I had a doubt , Is any need to close the file handle while using select?"}], "tags": [], "owner": {"reputation": 51521, "user_id": 2566198, "user_type": "registered", "accept_rate": 67, "profile_image": "https://i.stack.imgur.com/Y34ZA.jpg?s=128&g=1", "display_name": "Sobrique", "link": "https://stackoverflow.com/users/2566198/sobrique"}, "is_accepted": false, "score": 1, "last_activity_date": 1458747875, "last_edit_date": 1458747875, "creation_date": 1458747243, "answer_id": 36182414, "question_id": 36179996, "link": "https://stackoverflow.com/questions/36179996/perl-how-to-user-regex-for-replacement-in-file/36182414#36182414", "title": "Perl: How to user regex for replacement in file?", "body": "<p>The problem with regular expressions is - they aren't all that good at 'understanding' a numeric value. They're about text. </p>\n\n<p>You can do it in this specific case, because you're dividing by 10, but I wouldn't normally call it a good idea. </p>\n\n<p>So instead - extract the value to change, and apply a multiplication to it:</p>\n\n<pre><code>s|([\\d\\.]+) angstroms|$1 / 10 . \" nm\"|eig;\n</code></pre>\n\n<p>This will capture the 'digit+decimals' preceeding the word 'angstrom', divide by 10, and then add in 'nm' instead.</p>\n\n<ul>\n<li>The <code>i</code> flag makes the match case insensitive. </li>\n<li>The <code>e</code> flag says to 'evaluate' the replacement as perl. </li>\n<li>The <code>g</code> to do it \"globally\" per line - this may be irrelevant based on your sample data. </li>\n</ul>\n\n<p>Note - we also use <code>|</code> instead of the more common <code>/</code> delimiter, because we use <code>/</code> in the expression. (You could escape it, but I think this is clearer)</p>\n\n<p>So to do this to your file - we can make use of a <a href=\"http://perldoc.perl.org/perlrun.html\" rel=\"nofollow\"><code>perlrun</code></a> flag <code>-i</code> - inplace edit. (Specify an extension after - it renames source to that extension, and then rewrites the file in place)</p>\n\n<pre><code>perl -i.bak -pe 's|([\\d\\.]+) angstroms|$1 / 10 . \" nm\"|eig' angstrom.txt\n</code></pre>\n\n<p>Or you could splice the above into your code. </p>\n\n<p>I would normally suggest avoiding a 'read-write' operation like that, because it does mean that a code glitch means you lose your source data. Open a new output file, and write to it - and then rename it once you're finished (successfully) is a better practice. </p>\n\n<p>(It also consumes memory proportionate to your source file. This is often a non-issue, but can sometimes become relevant). </p>\n\n<p>Given your code needs to match A, Angstrom or Angstroms (I assume you have no 'amps' to worry about?)</p>\n\n<pre><code>perl -i.bak -pe 's|([\\d\\.]+)\\s*a(?:ngstroms)?\\b|$1 / 10 . \" nm\"|ei'  angstrom.txt\n</code></pre>\n\n<p>This goes the extra step of matching <code>a</code>, <code>A</code>, <code>angstroms</code> or <code>Anstroms</code>, and we have <code>\\b</code> to require a word break immediately after. So \"12 Apples\" won't catch us out. </p>\n\n<p>Perhaps ironically - <code>-i.bak -pe</code> actually is probably easier than writing it longhand. However if you were to want to:</p>\n\n<pre><code>#!/usr/bin/perl\nuse strict;\nuse warnings;\n\nmy $filename = 'angstrom.txt';   \n\nopen(my $input, '&lt;', $filename) or die \"Can't open $filename: $!\";\nopen(my $output, '&gt;', $filename.\".new\" ) or die $!; \n\nselect $output; \nwhile ( &lt;$input&gt; ) {\n    s|([\\d\\.]+)\\s*a(?:ngstroms)?\\b|$1 / 10 . \" nm\"|eig;\n    print;\n}\nclose ( $input );\nclose ( $output );\n\n#rename .new here\n</code></pre>\n"}], "owner": {"reputation": 31, "user_id": 2940923, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/82eb5cf4ee5b155fd734abe0ecedfb22?s=128&d=identicon&r=PG&f=1", "display_name": "BSileNTz", "link": "https://stackoverflow.com/users/2940923/bsilentz"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 70, "favorite_count": 0, "answer_count": 1, "score": 1, "last_activity_date": 1458747875, "creation_date": 1458740807, "last_edit_date": 1458743746, "question_id": 36179996, "link": "https://stackoverflow.com/questions/36179996/perl-how-to-user-regex-for-replacement-in-file", "title": "Perl: How to user regex for replacement in file?", "body": "<p>I am working on a script which will read this file containing measurements in Angstroms and will convert them into nm(1 angstrom = 0.1 nm). </p>\n\n<p>Following are some examples, it should find and replace:</p>\n\n<pre><code>3A\n\n12 A\n\n2.75 angstroms\n\n0.123 Angstroms\n</code></pre>\n\n<p>It should not alter the following examples:\nI like the number 3. A very nice number.There are 27 Aardvarks in London Zoo.</p>\n\n<p>This is what i got so far. There are 2 things i have problem with, How i can perform that \"devide by 10\" after a match is found and write it back to the file? I just don't have any idea how the regex should look like for this question. </p>\n\n<pre><code>use strict;\nuse warnings;\n\nmy $filename = 'angstrom.txt';   \n\nopen(FILE, $filename) or die \"Can't open $filename: $!\";\nmy @lines = &lt;FILE&gt;;\nclose(FILE);\n\nopen(FILE, \"&gt;$filename\") or die \"Can't write to $filename: $!\";\nforeach my $line (@lines) {\n    if($line =~ s/\\d{2}\\w//e)\n    {   \n        print FILE (@lines); \n    }\n}\nclose(FILE);\n</code></pre>\n"}, {"tags": ["windows", "perl", "error-handling", "external"], "comments": [{"owner": {"reputation": 15576, "user_id": 523168, "user_type": "registered", "accept_rate": 77, "profile_image": "https://i.stack.imgur.com/DzsTt.jpg?s=128&g=1", "display_name": "Valter Silva", "link": "https://stackoverflow.com/users/523168/valter-silva"}, "edited": false, "score": 0, "creation_date": 1458738546, "post_id": 36179018, "comment_id": 59993285, "body": "I&#39;m not an expert in Perl, but can&#39;t you just caught this exception in a <code>try&#47;catch</code> and then just show it in a popup window ?"}, {"owner": {"reputation": 10150, "user_id": 341362, "user_type": "registered", "accept_rate": 89, "profile_image": "https://www.gravatar.com/avatar/deb483e59f08e28083464e8e35a352db?s=128&d=identicon&r=PG", "display_name": "Charles", "link": "https://stackoverflow.com/users/341362/charles"}, "reply_to_user": {"reputation": 15576, "user_id": 523168, "user_type": "registered", "accept_rate": 77, "profile_image": "https://i.stack.imgur.com/DzsTt.jpg?s=128&g=1", "display_name": "Valter Silva", "link": "https://stackoverflow.com/users/523168/valter-silva"}, "edited": false, "score": 0, "creation_date": 1458738604, "post_id": 36179018, "comment_id": 59993330, "body": "@ValterHenrique: There&#39;s no exception to catch -- the program is still working as far as Perl knows."}, {"owner": {"reputation": 50468, "user_id": 1331451, "user_type": "registered", "accept_rate": 96, "profile_image": "https://i.stack.imgur.com/4ZPmj.png?s=128&g=1", "display_name": "simbabque", "link": "https://stackoverflow.com/users/1331451/simbabque"}, "edited": false, "score": 0, "creation_date": 1458739006, "post_id": 36179018, "comment_id": 59993596, "body": "Do you need to wait for the external program to finish running to continue?"}, {"owner": {"reputation": 10150, "user_id": 341362, "user_type": "registered", "accept_rate": 89, "profile_image": "https://www.gravatar.com/avatar/deb483e59f08e28083464e8e35a352db?s=128&d=identicon&r=PG", "display_name": "Charles", "link": "https://stackoverflow.com/users/341362/charles"}, "reply_to_user": {"reputation": 50468, "user_id": 1331451, "user_type": "registered", "accept_rate": 96, "profile_image": "https://i.stack.imgur.com/4ZPmj.png?s=128&g=1", "display_name": "simbabque", "link": "https://stackoverflow.com/users/1331451/simbabque"}, "edited": false, "score": 0, "creation_date": 1458739161, "post_id": 36179018, "comment_id": 59993702, "body": "@simbabque: That&#39;s the intent, yes. The next thing the script does relies on changes caused by the program."}, {"owner": {"reputation": 581, "user_id": 6065774, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/IuXLi.png?s=128&g=1", "display_name": "Mikitori", "link": "https://stackoverflow.com/users/6065774/mikitori"}, "edited": false, "score": 0, "creation_date": 1458739192, "post_id": 36179018, "comment_id": 59993716, "body": "Maybe check this post: <a href=\"http://stackoverflow.com/questions/2646694/running-job-in-the-background-from-perl-without-waiting-for-return/2647237#2647237\" title=\"running job in the background from perl without waiting for return\">stackoverflow.com/questions/2646694/&hellip;</a>"}, {"owner": {"reputation": 10150, "user_id": 341362, "user_type": "registered", "accept_rate": 89, "profile_image": "https://www.gravatar.com/avatar/deb483e59f08e28083464e8e35a352db?s=128&d=identicon&r=PG", "display_name": "Charles", "link": "https://stackoverflow.com/users/341362/charles"}, "reply_to_user": {"reputation": 581, "user_id": 6065774, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/IuXLi.png?s=128&g=1", "display_name": "Mikitori", "link": "https://stackoverflow.com/users/6065774/mikitori"}, "edited": false, "score": 0, "creation_date": 1458739338, "post_id": 36179018, "comment_id": 59993816, "body": "@Mikitori: The script needs the program to run before it can continue (though it&#39;s possible to skip a small fraction of its invocations if they fail for some reason)."}], "answers": [{"comments": [{"owner": {"reputation": 5334, "user_id": 5830574, "user_type": "registered", "accept_rate": 93, "profile_image": "https://i.stack.imgur.com/kCmqs.png?s=128&g=1", "display_name": "PerlDuck", "link": "https://stackoverflow.com/users/5830574/perlduck"}, "edited": false, "score": 1, "creation_date": 1458742444, "post_id": 36179318, "comment_id": 59996217, "body": "Huh? <code>exec</code> without <code>fork</code>? The docs say <i>&quot;Since it&#39;s a common mistake to use exec instead of system, Perl warns you if exec is called in void context and if there is a following statement that isn&#39;t die, warn, or exit&quot;</i>."}, {"owner": {"reputation": 50468, "user_id": 1331451, "user_type": "registered", "accept_rate": 96, "profile_image": "https://i.stack.imgur.com/4ZPmj.png?s=128&g=1", "display_name": "simbabque", "link": "https://stackoverflow.com/users/1331451/simbabque"}, "reply_to_user": {"reputation": 5334, "user_id": 5830574, "user_type": "registered", "accept_rate": 93, "profile_image": "https://i.stack.imgur.com/kCmqs.png?s=128&g=1", "display_name": "PerlDuck", "link": "https://stackoverflow.com/users/5830574/perlduck"}, "edited": false, "score": 0, "creation_date": 1458744052, "post_id": 36179318, "comment_id": 59997542, "body": "I guess that would be better so you don&#39;t get the warning. I will improve the answer latee. Thanks."}, {"owner": {"reputation": 5334, "user_id": 5830574, "user_type": "registered", "accept_rate": 93, "profile_image": "https://i.stack.imgur.com/kCmqs.png?s=128&g=1", "display_name": "PerlDuck", "link": "https://stackoverflow.com/users/5830574/perlduck"}, "edited": false, "score": 0, "creation_date": 1458744641, "post_id": 36179318, "comment_id": 59998046, "body": "No problem. Not sure whether <code>fork</code> really works on Windows. Plus: the OP wants blocking behaviour which makes <code>fork&#39;n&#39;exec</code> a bit more complicated."}, {"owner": {"reputation": 50468, "user_id": 1331451, "user_type": "registered", "accept_rate": 96, "profile_image": "https://i.stack.imgur.com/4ZPmj.png?s=128&g=1", "display_name": "simbabque", "link": "https://stackoverflow.com/users/1331451/simbabque"}, "reply_to_user": {"reputation": 5334, "user_id": 5830574, "user_type": "registered", "accept_rate": 93, "profile_image": "https://i.stack.imgur.com/kCmqs.png?s=128&g=1", "display_name": "PerlDuck", "link": "https://stackoverflow.com/users/5830574/perlduck"}, "edited": false, "score": 0, "creation_date": 1458745688, "post_id": 36179318, "comment_id": 59998852, "body": "That&#39;s why I naively put the sleep there. Forking as such works in Windows. I&#39;ve used Parallel::FoekManager quite a bit at some point."}], "tags": [], "owner": {"reputation": 50468, "user_id": 1331451, "user_type": "registered", "accept_rate": 96, "profile_image": "https://i.stack.imgur.com/4ZPmj.png?s=128&g=1", "display_name": "simbabque", "link": "https://stackoverflow.com/users/1331451/simbabque"}, "is_accepted": false, "score": 0, "last_activity_date": 1458739148, "creation_date": 1458739148, "answer_id": 36179318, "question_id": 36179018, "link": "https://stackoverflow.com/questions/36179018/how-can-i-handle-a-system-call-which-fails/36179318#36179318", "title": "How can I handle a `system` call which fails?", "body": "<p>If you do not need to wait for the external program to finish running to continue, you can do <a href=\"http://perldoc.perl.org/functions/exec.html\" rel=\"nofollow\"><code>exec</code></a> instead of <a href=\"http://perldoc.perl.org/functions/system.html\" rel=\"nofollow\"><code>system</code></a> and it will never return.</p>\n\n<p>You could always add a <code>sleep $n</code> afterwards to make it wait for the external program to theoretically finish.</p>\n\n<pre><code>exec('maybe_dies.exe');\nsleep 1; # make sure it does stuff before it dies, or not, or whatever...\n</code></pre>\n"}, {"comments": [{"owner": {"reputation": 10150, "user_id": 341362, "user_type": "registered", "accept_rate": 89, "profile_image": "https://www.gravatar.com/avatar/deb483e59f08e28083464e8e35a352db?s=128&d=identicon&r=PG", "display_name": "Charles", "link": "https://stackoverflow.com/users/341362/charles"}, "edited": false, "score": 0, "creation_date": 1458739263, "post_id": 36179326, "comment_id": 59993768, "body": "Blocking is the desired behavior. The script&#39;s next step depends on the external program&#39;s output. In a pinch it can be skipped, if it fails or just runs too long."}, {"owner": {"reputation": 3984, "user_id": 1801086, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/ef4c0400ffff14d5e1c16ca3856c09ba?s=128&d=identicon&r=PG", "display_name": "tjd", "link": "https://stackoverflow.com/users/1801086/tjd"}, "reply_to_user": {"reputation": 10150, "user_id": 341362, "user_type": "registered", "accept_rate": 89, "profile_image": "https://www.gravatar.com/avatar/deb483e59f08e28083464e8e35a352db?s=128&d=identicon&r=PG", "display_name": "Charles", "link": "https://stackoverflow.com/users/341362/charles"}, "edited": false, "score": 0, "creation_date": 1458739386, "post_id": 36179326, "comment_id": 59993849, "body": "@Charles, that&#39;s why the 1st option might not fit for you, but waking up on occasion to see if the child is in a comma may not be the worst idea..."}], "tags": [], "owner": {"reputation": 3984, "user_id": 1801086, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/ef4c0400ffff14d5e1c16ca3856c09ba?s=128&d=identicon&r=PG", "display_name": "tjd", "link": "https://stackoverflow.com/users/1801086/tjd"}, "is_accepted": true, "score": 3, "last_activity_date": 1458744545, "last_edit_date": 1458744545, "creation_date": 1458739169, "answer_id": 36179326, "question_id": 36179018, "link": "https://stackoverflow.com/questions/36179018/how-can-i-handle-a-system-call-which-fails/36179326#36179326", "title": "How can I handle a `system` call which fails?", "body": "<p>The problem with your current approach is that backticks &amp; <code>system</code> block while the external program is running/hanging.  Possible other aproaches might include.</p>\n\n<ul>\n<li>Using threads &amp; various modules from the <code>Win32</code> family to busy-wait for the process end or click on the dialong box.  This is probably overkill.</li>\n<li>Use an Alarm Signal or Event to wake up your program when the external program has taken 'too long' to respond.</li>\n<li>Use an IPC Module to open the program and monitor it's progress.</li>\n<li>If you don't need the child program's return value, STDOUT or STDERR, simbabque's <code>exec</code> option has merit, but if you need to keep a handle on the process, try <code>Win32::Process</code>.  I've found this useful on many an occasion.  The module's <code>wait</code> method can be an excellent alternative to my Alarm suggestion or simabque's sleep suggestion with the added benefit that your program will not sleep longer than required by the child.</li>\n</ul>\n"}], "owner": {"reputation": 10150, "user_id": 341362, "user_type": "registered", "accept_rate": 89, "profile_image": "https://www.gravatar.com/avatar/deb483e59f08e28083464e8e35a352db?s=128&d=identicon&r=PG", "display_name": "Charles", "link": "https://stackoverflow.com/users/341362/charles"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 82, "favorite_count": 0, "accepted_answer_id": 36179326, "answer_count": 2, "score": 1, "last_activity_date": 1458744545, "creation_date": 1458738338, "question_id": 36179018, "link": "https://stackoverflow.com/questions/36179018/how-can-i-handle-a-system-call-which-fails", "title": "How can I handle a `system` call which fails?", "body": "<p>I have a Perl script which calls an external program. (Right now I'm actually using backticks, but I could just as easily use <code>system</code> or something from cpan.) Sometimes the program fails, causing Windows to create a dialog box \"(external program) has stopped working\" with the text</p>\n\n<blockquote>\n  <p>Windows is checking for a solution to the problem...</p>\n</blockquote>\n\n<p>shortly replaced with</p>\n\n<blockquote>\n  <p>A problem caused the program to stop working correctly. windows will close the program and notify you if a solution is available.</p>\n</blockquote>\n\n<p>Unfortunately, this error message stops the process from dying, causing Perl to  not return until the user (me!) clicks \"Cancel\" or \"Close Program\". Is there a way to avoid this behavior?</p>\n\n<p>In my use case it is acceptable to have the program fail -- it does useful but strictly not necessary work. But as it needs to run unattended I can't have it block the program's remaining work.</p>\n"}, {"tags": ["perl", "elasticsearch"], "comments": [{"owner": {"reputation": 138, "user_id": 2599723, "user_type": "registered", "accept_rate": 86, "profile_image": "https://www.gravatar.com/avatar/c98264a9837d650b27363874f0674bdc?s=128&d=identicon&r=PG", "display_name": "Himanshu", "link": "https://stackoverflow.com/users/2599723/himanshu"}, "edited": false, "score": 0, "creation_date": 1476705239, "post_id": 36178998, "comment_id": 67443767, "body": "Hi, I am facing the same issue, did you got any resolution?"}, {"owner": {"reputation": 925, "user_id": 1567701, "user_type": "registered", "accept_rate": 75, "profile_image": "https://www.gravatar.com/avatar/3dc218b79269c784c25579c8b052a456?s=128&d=identicon&r=PG", "display_name": "jordivador", "link": "https://stackoverflow.com/users/1567701/jordivador"}, "reply_to_user": {"reputation": 138, "user_id": 2599723, "user_type": "registered", "accept_rate": 86, "profile_image": "https://www.gravatar.com/avatar/c98264a9837d650b27363874f0674bdc?s=128&d=identicon&r=PG", "display_name": "Himanshu", "link": "https://stackoverflow.com/users/2599723/himanshu"}, "edited": false, "score": 1, "creation_date": 1476777274, "post_id": 36178998, "comment_id": 67476961, "body": "HI @Himanshu, not clear solution I guess. As I&#39;ve explained in my answer I updated the life time of scroll to 5 minutes, and this behaviour made the magic. Here the example:  <code>my $scroll = $self-&gt;{ELASTIC}-&gt;scroll_helper( \t\tindex              =&gt; $self-&gt;{INDEXES}, \t\tsearch_type        =&gt; &#39;scan&#39;, \t\tscroll             =&gt; &#39;5m&#39;, \t\tignore_unavailable =&gt; 1, \t\tbody               =&gt; { \t\t\tsize  =&gt; $self-&gt;{PAGINATION}, \t\t\tquery =&gt; { \t\t\t\tbool =&gt; { \t\t\t\t\tfilter =&gt; { \t\t\t\t\t\tterm =&gt; {media_id =&gt; $item-&gt;{profileId}} \t\t\t\t\t} \t\t\t\t} \t\t\t} \t\t} \t);</code>"}], "answers": [{"tags": [], "owner": {"reputation": 326, "user_id": 435820, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/614715c42030748ddd9a4abcc5bdcf6a?s=128&d=identicon&r=PG", "display_name": "CatOsMandros", "link": "https://stackoverflow.com/users/435820/catosmandros"}, "is_accepted": false, "score": 1, "last_activity_date": 1459344863, "creation_date": 1459344863, "answer_id": 36310455, "question_id": 36178998, "link": "https://stackoverflow.com/questions/36178998/elasticsearch-search-context-missing-exception-with-searchelasticsearchscr/36310455#36310455", "title": "ElasticSearch (search_context_missing_exception) with Search::ElasticSearch::Scroll", "body": "<p>The first thing that comes to mind is that the timer is not updated. Have you checked this? You can do a query every 10 seconds for example and see if at the 6th query it gives you the error ...</p>\n"}, {"tags": [], "owner": {"reputation": 925, "user_id": 1567701, "user_type": "registered", "accept_rate": 75, "profile_image": "https://www.gravatar.com/avatar/3dc218b79269c784c25579c8b052a456?s=128&d=identicon&r=PG", "display_name": "jordivador", "link": "https://stackoverflow.com/users/1567701/jordivador"}, "is_accepted": true, "score": 0, "last_activity_date": 1484816704, "creation_date": 1484816704, "answer_id": 41737695, "question_id": 36178998, "link": "https://stackoverflow.com/questions/36178998/elasticsearch-search-context-missing-exception-with-searchelasticsearchscr/41737695#41737695", "title": "ElasticSearch (search_context_missing_exception) with Search::ElasticSearch::Scroll", "body": "<p>Well, a good rule of thumb is inside a <code>-&gt;next()</code> block, don't stay by iteration more than time that you've configured in scroll.</p>\n\n<p>Between each call of <code>-&gt;next()</code> you cannot stay more than that time configured. If you stay more, the scroll may be not be there and the error <code>earch_context_missing_exception</code> will appear.</p>\n\n<p>My solution for this problem was inside next block only store data into array/hash structure and once the scroll process ended work with all data.</p>\n\n<p>The solution of the question example:</p>\n\n<pre><code>   # Retrieve scroll \n   my $scroll = $self-&gt;getScrollBySignature($item);\n\n   # Retrieve all affected documents ids \n   my @allDocs;\n   while (my @docs = $scroll-&gt;next(500)) {\n       push @allDocs, map {$_-&gt;{_id}} @docs\n   }\n\n   foreach (@allDocs) {\n      # Do stuff with doc\n   }\n</code></pre>\n"}], "owner": {"reputation": 925, "user_id": 1567701, "user_type": "registered", "accept_rate": 75, "profile_image": "https://www.gravatar.com/avatar/3dc218b79269c784c25579c8b052a456?s=128&d=identicon&r=PG", "display_name": "jordivador", "link": "https://stackoverflow.com/users/1567701/jordivador"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 2151, "favorite_count": 0, "accepted_answer_id": 41737695, "answer_count": 2, "score": 6, "last_activity_date": 1484816704, "creation_date": 1458738291, "question_id": 36178998, "link": "https://stackoverflow.com/questions/36178998/elasticsearch-search-context-missing-exception-with-searchelasticsearchscr", "title": "ElasticSearch (search_context_missing_exception) with Search::ElasticSearch::Scroll", "body": "<p>I'm using Search::Elasticsearch and Search::Elasticsearch::Scroll for search and scroll into my elasticsearch server.</p>\n\n<p>In scrolling process, for some querys, I'm seeing the next errors while I'm scrolling the search results:</p>\n\n<pre><code>2016/03/22 11:03:38 - 265885 FATAL: [Daemon.pm][8221]: Something gone wrong, error $VAR1 = bless( {\n 'msg' =&gt; '[Missing] ** [http://localhost:9200]-[404] Not Found, called from sub Search::Elasticsearch::Scroll::next at searcher.pl line 92. With vars: {\\'body\\' =&gt; {\\'hits\\' =&gt; {\\'hits\\' =&gt; [],\\'max_score\\' =&gt; \\'0\\',\\'total\\' =&gt; 5215},\\'timed_out\\' =&gt; bless( do{\\\\(my $o = 0)}, \\'JSON::XS::Boolean\\' ),\\'_shards\\' =&gt; {\\'failures\\' =&gt; [{\\'index\\' =&gt; undef,\\'reason\\' =&gt; {\\'reason\\' =&gt; \\'No search context found for id [4920053]\\',\\'type\\' =&gt; \\'search_context_missing_exception\\'},\\'shard\\' =&gt; -1},{\\'index\\' =&gt; undef,\\'reason\\' =&gt; {\\'reason\\' =&gt; \\'No search context found for id [5051485]\\',\\'type\\' =&gt; \\'search_context_missing_exception\\'},\\'shard\\' =&gt; -1},{\\'index\\' =&gt; undef,\\'reason\\' =&gt; {\\'reason\\' =&gt; \\'No search context found for id [4920059]\\',\\'type\\' =&gt; \\'search_context_missing_exception\\'},\\'shard\\' =&gt; -1},{\\'index\\' =&gt; undef,\\'reason\\' =&gt; {\\'reason\\' =&gt; \\'No search context found for id [5051496]\\',\\'type\\' =&gt; \\'search_context_missing_exception\\'},\\'shard\\' =&gt; -1},{\\'index\\' =&gt; undef,\\'reason\\' =&gt; {\\'reason\\' =&gt; \\'No search context found for id [5051500]\\',\\'type\\' =&gt; \\'search_context_missing_exception\\'},\\'shard\\' =&gt; -1}],\\'failed\\' =&gt; 5,\\'successful\\' =&gt; 0,\\'total\\' =&gt; 5},\\'_scroll_id\\' =&gt; \\'c2NhbjswOzE7dG90YWxfaGl0czo1MjE1Ow==\\',\\'took\\' =&gt; 2},\\'request\\' =&gt; {\\'serialize\\' =&gt; \\'std\\',\\'path\\' =&gt; \\'/_search/scroll\\',\\'ignore\\' =&gt; [],\\'mime_type\\' =&gt; \\'application/json\\',\\'body\\' =&gt; \\'c2Nhbjs1OzQ5MjAwNTM6bHExbENzRDVReEc0OV9UMUgzd3Vkdzs1MDUxNDg1OnJrQ3lsUkRKVHRxRWRWeURoOTB4WVE7NDkyMDA1OTpscTFsQ3NENVF4RzQ5X1QxSDN3dWR3OzUwNTE0OTY6cmtDeWxSREpUdHFFZFZ5RGg5MHhZUTs1MDUxNTAwOnJrQ3lsUkRKVHRxRWRWeURoOTB4WVE7MTt0b3RhbF9oaXRzOjUyMTU7\\',\\'qs\\' =&gt; {\\'scroll\\' =&gt; \\'1m\\'},\\'method\\' =&gt; \\'GET\\'},\\'status_code\\' =&gt; 404}\n',\n 'stack' =&gt; [\n              [\n                'searcher.pl',\n                92,\n                'Search::Elasticsearch::Scroll::next'\n              ]\n            ],\n 'text' =&gt; '[http://localhost:9200]-[404] Not Found',\n 'vars' =&gt; {\n             'body' =&gt; {\n                         'hits' =&gt; {\n                                     'hits' =&gt; [],\n                                     'max_score' =&gt; '0',\n                                     'total' =&gt; 5215\n                                   },\n                         'timed_out' =&gt; bless( do{\\(my $o = 0)}, 'JSON::XS::Boolean' ),\n                         '_shards' =&gt; {\n                                        'failures' =&gt; [\n                                                        {\n                                                          'index' =&gt; undef,\n                                                          'reason' =&gt; {\n                                                                        'reason' =&gt; 'No search context found for id [4920053]',\n                                                                        'type' =&gt; 'search_context_missing_exception'\n                                                                      },\n                                                          'shard' =&gt; -1\n                                                        },\n                                                        {\n                                                          'index' =&gt; undef,\n                                                          'reason' =&gt; {\n                                                                        'reason' =&gt; 'No search context found for id [5051485]',\n                                                                        'type' =&gt; 'search_context_missing_exception'\n                                                                      },\n                                                          'shard' =&gt; -1\n                                                        },\n                                                        {\n                                                          'index' =&gt; undef,\n                                                          'reason' =&gt; {\n                                                                        'reason' =&gt; 'No search context found for id [4920059]',\n                                                                        'type' =&gt; 'search_context_missing_exception'\n                                                                      },\n                                                          'shard' =&gt; -1\n                                                        },\n                                                        {\n                                                          'index' =&gt; undef,\n                                                          'reason' =&gt; {\n                                                                        'reason' =&gt; 'No search context found for id [5051496]',\n                                                                        'type' =&gt; 'search_context_missing_exception'\n                                                                      },\n                                                          'shard' =&gt; -1\n\n                                                                                                        },\n                                                        {\n                                                          'index' =&gt; undef,\n                                                          'reason' =&gt; {\n                                                                        'reason' =&gt; 'No search context found for id [5051500]',\n                                                                        'type' =&gt; 'search_context_missing_exception'\n                                                                      },\n                                                          'shard' =&gt; -1\n                                                        }\n                                                      ],\n                                        'failed' =&gt; 5,\n                                        'successful' =&gt; 0,\n                                        'total' =&gt; 5\n                                      },\n                         '_scroll_id' =&gt; 'c2NhbjswOzE7dG90YWxfaGl0czo1MjE1Ow==',\n                         'took' =&gt; 2\n                       },\n             'request' =&gt; {\n                            'serialize' =&gt; 'std',\n                            'path' =&gt; '/_search/scroll',\n                            'ignore' =&gt; [],\n                            'mime_type' =&gt; 'application/json',\n                            'body' =&gt; 'c2Nhbjs1OzQ5MjAwNTM6bHExbENzRDVReEc0OV9UMUgzd3Vkdzs1MDUxNDg1OnJrQ3lsUkRKVHRxRWRWeURoOTB4WVE7NDkyMDA1OTpscTFsQ3NENVF4RzQ5X1QxSDN3dWR3OzUwNTE0OTY6cmtDeWxSREpUdHFFZFZ5RGg5MHhZUTs1MDUxNTAwOnJrQ3lsUkRKVHRxRWRWeURoOTB4WVE7MTt0b3RhbF9oaXRzOjUyMTU7',\n                            'qs' =&gt; {\n                                      'scroll' =&gt; '1m'\n                                    },\n                            'method' =&gt; 'GET'\n                          },\n             'status_code' =&gt; 404\n           },\n 'type' =&gt; 'Missing'\n}, 'Search::Elasticsearch::Error::Missing' );\n</code></pre>\n\n<p>The code I'm using is the next one (simplified) :</p>\n\n<pre><code># Retrieve scroll \nmy $scroll = $self-&gt;getScrollBySignature($item);\n\n# Retrieve all affected documents ids \nwhile (my @docs = $scroll-&gt;next(500)) {\n    # Do stuff with @docs\n}\n</code></pre>\n\n<p>The function getScrollBySignature have the next code in order to call to elasticSearch</p>\n\n<pre><code>my $scroll = $self-&gt;{ELASTIC}-&gt;scroll_helper(\n    index              =&gt; $self-&gt;{INDEXES},\n    search_type        =&gt; 'scan',\n    ignore_unavailable =&gt; 1,\n    body               =&gt; {\n        size  =&gt; $self-&gt;{PAGINATION},\n        query =&gt; {\n            filtered =&gt; {\n                filter =&gt; {\n                    bool =&gt; {\n                        must =&gt; [{term =&gt; {signature_id =&gt; $item-&gt;{profileId}}}, {terms =&gt; {channel_type_id =&gt; $type}}]\n                    }\n                }\n            }\n        }\n    }\n);\n</code></pre>\n\n<p>As you can see, I'm doing the scroll without passing scroll parameter then as documentation says, the time that scroll is alive is 1 min.</p>\n\n<p>The elasticSearch is a cluster of 3 servers, and the query that ends with that error retrieves a bit more than 5000 docs.</p>\n\n<p>My first solution was to update the life time for scroll to 5 minutes and the error didn't appear. </p>\n\n<p>The question is, as I understand every time I'm calling $scroll->next() the life time off scroll affected is upgraded 1m more, then how is possible to receive those context related errors? </p>\n\n<p>I'm doing something in a bad manner?</p>\n\n<p>Thank you all.</p>\n"}, {"tags": ["arrays", "perl", "loops"], "comments": [{"owner": {"reputation": 50468, "user_id": 1331451, "user_type": "registered", "accept_rate": 96, "profile_image": "https://i.stack.imgur.com/4ZPmj.png?s=128&g=1", "display_name": "simbabque", "link": "https://stackoverflow.com/users/1331451/simbabque"}, "edited": false, "score": 0, "creation_date": 1458738543, "post_id": 36178898, "comment_id": 59993284, "body": "What does <code>take</code> do?"}, {"owner": {"reputation": 51391, "user_id": 132382, "user_type": "registered", "accept_rate": 98, "profile_image": "https://www.gravatar.com/avatar/20fc7ee8f405aa42e36eb73e841e5a36?s=128&d=identicon&r=PG", "display_name": "pilcrow", "link": "https://stackoverflow.com/users/132382/pilcrow"}, "edited": false, "score": 0, "creation_date": 1458740349, "post_id": 36178898, "comment_id": 59994541, "body": "Would <a href=\"http://stackoverflow.com/q/974656/132382\">iterating with an index variable</a> do what you want?"}, {"owner": {"reputation": 24266, "user_id": 946226, "user_type": "registered", "accept_rate": 59, "profile_image": "https://www.gravatar.com/avatar/5823d09208b1e4b63bbfcd189492032c?s=128&d=identicon&r=PG", "display_name": "Joachim Breitner", "link": "https://stackoverflow.com/users/946226/joachim-breitner"}, "edited": false, "score": 0, "creation_date": 1458749109, "post_id": 36178898, "comment_id": 60001578, "body": "Not really; I\u2019m looking for a way to get the elements."}], "answers": [{"comments": [{"owner": {"reputation": 34726, "user_id": 133939, "user_type": "registered", "accept_rate": 95, "profile_image": "https://i.stack.imgur.com/pN9C5.png?s=128&g=1", "display_name": "Zaid", "link": "https://stackoverflow.com/users/133939/zaid"}, "edited": false, "score": 0, "creation_date": 1458741999, "post_id": 36179208, "comment_id": 59995846, "body": "Not just <code>undef</code>... anything that evaluates to false (<code>0</code>, <code>&quot;&quot;</code>), etc."}, {"owner": {"reputation": 50468, "user_id": 1331451, "user_type": "registered", "accept_rate": 96, "profile_image": "https://i.stack.imgur.com/4ZPmj.png?s=128&g=1", "display_name": "simbabque", "link": "https://stackoverflow.com/users/1331451/simbabque"}, "reply_to_user": {"reputation": 34726, "user_id": 133939, "user_type": "registered", "accept_rate": 95, "profile_image": "https://i.stack.imgur.com/pN9C5.png?s=128&g=1", "display_name": "Zaid", "link": "https://stackoverflow.com/users/133939/zaid"}, "edited": false, "score": 0, "creation_date": 1458742080, "post_id": 36179208, "comment_id": 59995916, "body": "@zaid Yes, of course. Feel free to edit, I&#39;m on the phone."}, {"owner": {"reputation": 24266, "user_id": 946226, "user_type": "registered", "accept_rate": 59, "profile_image": "https://www.gravatar.com/avatar/5823d09208b1e4b63bbfcd189492032c?s=128&d=identicon&r=PG", "display_name": "Joachim Breitner", "link": "https://stackoverflow.com/users/946226/joachim-breitner"}, "edited": false, "score": 1, "creation_date": 1458749179, "post_id": 36179208, "comment_id": 60001628, "body": "\u201cBut that would not work on arrays that have undef values in between, like these\u201d \u2013 that\u2019d be a show-stopper for me, as it seems to be very unreliable then."}, {"owner": {"reputation": 5886, "user_id": 2019415, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/645958eb08719fa5119052d7d1d079ff?s=128&d=identicon&r=PG", "display_name": "G. Cito", "link": "https://stackoverflow.com/users/2019415/g-cito"}, "reply_to_user": {"reputation": 24266, "user_id": 946226, "user_type": "registered", "accept_rate": 59, "profile_image": "https://www.gravatar.com/avatar/5823d09208b1e4b63bbfcd189492032c?s=128&d=identicon&r=PG", "display_name": "Joachim Breitner", "link": "https://stackoverflow.com/users/946226/joachim-breitner"}, "edited": false, "score": 0, "creation_date": 1458755145, "post_id": 36179208, "comment_id": 60005717, "body": "@JoachimBreitner If you don&#39;t want to add a lot of checks to your subroutine you could use a CPAN module for that part.  Would  <a href=\"https://metacpan.org/release/boolean\" rel=\"nofollow noreferrer\"><code>boolean</code></a> be appropriate? See the end of my <code>gather&#47;take</code> response for an example."}], "tags": [], "owner": {"reputation": 50468, "user_id": 1331451, "user_type": "registered", "accept_rate": 96, "profile_image": "https://i.stack.imgur.com/4ZPmj.png?s=128&g=1", "display_name": "simbabque", "link": "https://stackoverflow.com/users/1331451/simbabque"}, "is_accepted": false, "score": 1, "last_activity_date": 1458744280, "last_edit_date": 1458744280, "creation_date": 1458738874, "answer_id": 36179208, "question_id": 36178898, "link": "https://stackoverflow.com/questions/36178898/iterate-over-first-at-most-n-elements-of-an-perl-array/36179208#36179208", "title": "Iterate over first at most n elements of an perl array", "body": "<p>You could add an additional check inside of your loop to break once the end is reached.</p>\n\n<pre><code>my @arr = (1 .. 90);\n\nfor ( @arr[0..99]) {\n    last unless defined $_;\n    say;\n}\n</code></pre>\n\n<p>But that would not work on arrays that have <code>undef</code> values in between, like these:</p>\n\n<pre><code>my @foo = (1, 2, undef, 4);\nmy @bar;\n$bar[2] = 'foo'; # (undef, undef, 'foo')\n</code></pre>\n"}, {"comments": [{"owner": {"reputation": 24266, "user_id": 946226, "user_type": "registered", "accept_rate": 59, "profile_image": "https://www.gravatar.com/avatar/5823d09208b1e4b63bbfcd189492032c?s=128&d=identicon&r=PG", "display_name": "Joachim Breitner", "link": "https://stackoverflow.com/users/946226/joachim-breitner"}, "edited": false, "score": 0, "creation_date": 1458749421, "post_id": 36179772, "comment_id": 60001816, "body": "Thanks; I was hoping for something more elegant, but I guess that\u2019s the best solution available."}, {"owner": {"reputation": 21782, "user_id": 176646, "user_type": "registered", "accept_rate": 88, "profile_image": "https://i.stack.imgur.com/HsQyV.png?s=128&g=1", "display_name": "ThisSuitIsBlackNot", "link": "https://stackoverflow.com/users/176646/thissuitisblacknot"}, "edited": false, "score": 0, "creation_date": 1458834883, "post_id": 36179772, "comment_id": 60042268, "body": "Do you know where it&#39;s documented (if anywhere) that this doesn&#39;t generate a temporary list? I know <a href=\"http://stackoverflow.com/q/25214138/176646\">the range operator by itself is optimized in <code>for</code> loops</a>, although even the documentation for that is terse."}, {"owner": {"reputation": 51391, "user_id": 132382, "user_type": "registered", "accept_rate": 98, "profile_image": "https://www.gravatar.com/avatar/20fc7ee8f405aa42e36eb73e841e5a36?s=128&d=identicon&r=PG", "display_name": "pilcrow", "link": "https://stackoverflow.com/users/132382/pilcrow"}, "reply_to_user": {"reputation": 21782, "user_id": 176646, "user_type": "registered", "accept_rate": 88, "profile_image": "https://i.stack.imgur.com/HsQyV.png?s=128&g=1", "display_name": "ThisSuitIsBlackNot", "link": "https://stackoverflow.com/users/176646/thissuitisblacknot"}, "edited": false, "score": 2, "creation_date": 1458835236, "post_id": 36179772, "comment_id": 60042504, "body": "@ThisSuitIsBlackNot, no, I don&#39;t.  I used a <code>tie()</code>d array that barked about every FETCH to persuade myself that this optimization was in place.  (One successive FETCH per loop, rather than all at once.)"}, {"owner": {"reputation": 21782, "user_id": 176646, "user_type": "registered", "accept_rate": 88, "profile_image": "https://i.stack.imgur.com/HsQyV.png?s=128&g=1", "display_name": "ThisSuitIsBlackNot", "link": "https://stackoverflow.com/users/176646/thissuitisblacknot"}, "edited": false, "score": 0, "creation_date": 1458838438, "post_id": 36179772, "comment_id": 60044699, "body": "Nice approach! Didn&#39;t think of that."}], "tags": [], "owner": {"reputation": 51391, "user_id": 132382, "user_type": "registered", "accept_rate": 98, "profile_image": "https://www.gravatar.com/avatar/20fc7ee8f405aa42e36eb73e841e5a36?s=128&d=identicon&r=PG", "display_name": "pilcrow", "link": "https://stackoverflow.com/users/132382/pilcrow"}, "is_accepted": true, "score": 8, "last_activity_date": 1458741571, "last_edit_date": 1458741571, "creation_date": 1458740266, "answer_id": 36179772, "question_id": 36178898, "link": "https://stackoverflow.com/questions/36178898/iterate-over-first-at-most-n-elements-of-an-perl-array/36179772#36179772", "title": "Iterate over first at most n elements of an perl array", "body": "<blockquote>\n  <p><em><code>for (@array[0..min(99,$#array)]) {...}</code></em><br/>\n  <em>but min is not a standard function in Perl</em></p>\n</blockquote>\n\n<p><a href=\"http://perldoc.perl.org/List/Util.html#min\" rel=\"noreferrer\"><code>min</code></a> is a standard function in the module <a href=\"http://perldoc.perl.org/List/Util.html\" rel=\"noreferrer\">List::Util</a>, which is part of core as of 5.7.3.</p>\n\n<pre><code>use List::Util qw(min);\n\nfor (@array[0..min(99,$#array)]) {  # generator in 5.8.8+\n  ...\n}\n</code></pre>\n\n<p>Note that perl 5.8.8 onward, and perhaps earlier, is smart enough to understand that expression as a generator rather than a slice.  That is, elements 0 through $terminus are fetched one at a time from @array instead of an anonymous slice being taken and copied.</p>\n"}, {"comments": [{"owner": {"reputation": 21782, "user_id": 176646, "user_type": "registered", "accept_rate": 88, "profile_image": "https://i.stack.imgur.com/HsQyV.png?s=128&g=1", "display_name": "ThisSuitIsBlackNot", "link": "https://stackoverflow.com/users/176646/thissuitisblacknot"}, "edited": false, "score": 0, "creation_date": 1458744780, "post_id": 36180631, "comment_id": 59998161, "body": "In other words, write a subroutine."}], "tags": [], "owner": {"reputation": 320771, "user_id": 589924, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/b2cf53d5a3d25f95c0db4e025aed4153?s=128&d=identicon&r=PG", "display_name": "ikegami", "link": "https://stackoverflow.com/users/589924/ikegami"}, "is_accepted": false, "score": 2, "last_activity_date": 1458742449, "creation_date": 1458742449, "answer_id": 36180631, "question_id": 36178898, "link": "https://stackoverflow.com/questions/36178898/iterate-over-first-at-most-n-elements-of-an-perl-array/36180631#36180631", "title": "Iterate over first at most n elements of an perl array", "body": "<p>You've indicated you've found the following the cleanest:</p>\n\n<pre><code>take(100, @array)\n</code></pre>\n\n<p>So to answer your question as to what's the cleanest, that is! I don't see why you're trying to find an alternative.</p>\n"}, {"comments": [{"owner": {"reputation": 24266, "user_id": 946226, "user_type": "registered", "accept_rate": 59, "profile_image": "https://www.gravatar.com/avatar/5823d09208b1e4b63bbfcd189492032c?s=128&d=identicon&r=PG", "display_name": "Joachim Breitner", "link": "https://stackoverflow.com/users/946226/joachim-breitner"}, "edited": false, "score": 2, "creation_date": 1458749254, "post_id": 36182845, "comment_id": 60001682, "body": "Same problem as @simbabque\u2019s solution: This breaks if not all elements are defined. Might be a corner case, but I don\u2019t see a reason why the code should not be reliable."}, {"owner": {"reputation": 5886, "user_id": 2019415, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/645958eb08719fa5119052d7d1d079ff?s=128&d=identicon&r=PG", "display_name": "G. Cito", "link": "https://stackoverflow.com/users/2019415/g-cito"}, "edited": false, "score": 0, "creation_date": 1458755667, "post_id": 36182845, "comment_id": 60006044, "body": "I think <a href=\"https://metacpan.org/release/boolean\" rel=\"nofollow noreferrer\"><code>boolean</code></a> would work here too :-D <code>perl -Mboolean -E &#39;@array = (&quot;a&quot; .. &quot;g&quot;, &quot;&quot;, undef, undef, &quot;x&quot;, &quot;0&quot;, &quot;z&quot;); print join &quot;\\n&quot;, map { boolean($_) ? $_ : () } @array[0..100]; &#39;</code>"}, {"owner": {"reputation": 51521, "user_id": 2566198, "user_type": "registered", "accept_rate": 67, "profile_image": "https://i.stack.imgur.com/Y34ZA.jpg?s=128&g=1", "display_name": "Sobrique", "link": "https://stackoverflow.com/users/2566198/sobrique"}, "edited": false, "score": 0, "creation_date": 1458810898, "post_id": 36182845, "comment_id": 60026843, "body": "Granted - it does filter <code>undef</code> as a result of what it&#39;s doing. I don&#39;t think that&#39;s much of a problem, because I very rarely have present-but-<code>undef</code> that I need to act on within a loop context."}], "tags": [], "owner": {"reputation": 51521, "user_id": 2566198, "user_type": "registered", "accept_rate": 67, "profile_image": "https://i.stack.imgur.com/Y34ZA.jpg?s=128&g=1", "display_name": "Sobrique", "link": "https://stackoverflow.com/users/2566198/sobrique"}, "is_accepted": false, "score": 2, "last_activity_date": 1458748365, "creation_date": 1458748365, "answer_id": 36182845, "question_id": 36178898, "link": "https://stackoverflow.com/questions/36178898/iterate-over-first-at-most-n-elements-of-an-perl-array/36182845#36182845", "title": "Iterate over first at most n elements of an perl array", "body": "<p>How about using <code>map</code>:</p>\n\n<pre><code>my @array = qw ( 1 2 3 4 );\nprint join \"\\n\", map { $_ // () } @array[0..10]; \n</code></pre>\n\n<p>This takes 10 elements from a list, but applies the 'defined' test to it - and if it's not defined, returns an empty list. </p>\n\n<p>So you could:</p>\n\n<pre><code>for ( map { $_ // () } @array[0..100] ) { \n   #do something\n}\n</code></pre>\n\n<p>Note - <code>//</code> is a defined-or operator, only available from perl 5.10+. You could use instead a <code>defined</code> ternary:</p>\n\n<pre><code>print join \"\\n\", map { defined ? $_ : () } @array[0..10]; \n</code></pre>\n"}, {"comments": [{"owner": {"reputation": 5886, "user_id": 2019415, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/645958eb08719fa5119052d7d1d079ff?s=128&d=identicon&r=PG", "display_name": "G. Cito", "link": "https://stackoverflow.com/users/2019415/g-cito"}, "edited": false, "score": 0, "creation_date": 1458749915, "post_id": 36183337, "comment_id": 60002207, "body": "<code>head</code> almost sounds like a basic &quot;utility&quot;  ...  for lists ;-)"}, {"owner": {"reputation": 5886, "user_id": 2019415, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/645958eb08719fa5119052d7d1d079ff?s=128&d=identicon&r=PG", "display_name": "G. Cito", "link": "https://stackoverflow.com/users/2019415/g-cito"}, "edited": false, "score": 0, "creation_date": 1458750007, "post_id": 36183337, "comment_id": 60002272, "body": "Well, more &quot;basic utility&quot; than funky things like <code>gather&#47;take</code>."}, {"owner": {"reputation": 7958, "user_id": 1069726, "user_type": "registered", "accept_rate": 67, "profile_image": "https://www.gravatar.com/avatar/2cbbae354bb4f5f320b93ab3ad4b0fa1?s=128&d=identicon&r=PG", "display_name": "LeoNerd", "link": "https://stackoverflow.com/users/1069726/leonerd"}, "reply_to_user": {"reputation": 5886, "user_id": 2019415, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/645958eb08719fa5119052d7d1d079ff?s=128&d=identicon&r=PG", "display_name": "G. Cito", "link": "https://stackoverflow.com/users/2019415/g-cito"}, "edited": false, "score": 1, "creation_date": 1458750321, "post_id": 36183337, "comment_id": 60002475, "body": "@G.Cito - yup. See <a href=\"https://github.com/Scalar-List-Utils/Scalar-List-Utils/pull/23\" rel=\"nofollow noreferrer\">github.com/Scalar-List-Utils/Scalar-List-Utils/pull/23</a>"}, {"owner": {"reputation": 24266, "user_id": 946226, "user_type": "registered", "accept_rate": 59, "profile_image": "https://www.gravatar.com/avatar/5823d09208b1e4b63bbfcd189492032c?s=128&d=identicon&r=PG", "display_name": "Joachim Breitner", "link": "https://stackoverflow.com/users/946226/joachim-breitner"}, "edited": false, "score": 0, "creation_date": 1458756187, "post_id": 36183337, "comment_id": 60006336, "body": "Yes, I wish such a thing were easily expressible in the language itself, or at least be shipped by default."}, {"owner": {"reputation": 51391, "user_id": 132382, "user_type": "registered", "accept_rate": 98, "profile_image": "https://www.gravatar.com/avatar/20fc7ee8f405aa42e36eb73e841e5a36?s=128&d=identicon&r=PG", "display_name": "pilcrow", "link": "https://stackoverflow.com/users/132382/pilcrow"}, "edited": false, "score": 1, "creation_date": 1458763849, "post_id": 36183337, "comment_id": 60010794, "body": "The only downside is that in a <code>for</code> loop, this function will copy <i>n</i> elements to an anonymous array that is then iterated over.  By contrast an explicit conventional slice in a <code>for</code> loop fetches elements one-by-one on each an iteration.  Doesn&#39;t matter unless <i>n</i> gets big."}], "tags": [], "owner": {"reputation": 7958, "user_id": 1069726, "user_type": "registered", "accept_rate": 67, "profile_image": "https://www.gravatar.com/avatar/2cbbae354bb4f5f320b93ab3ad4b0fa1?s=128&d=identicon&r=PG", "display_name": "LeoNerd", "link": "https://stackoverflow.com/users/1069726/leonerd"}, "is_accepted": false, "score": 6, "last_activity_date": 1458749706, "creation_date": 1458749706, "answer_id": 36183337, "question_id": 36178898, "link": "https://stackoverflow.com/questions/36178898/iterate-over-first-at-most-n-elements-of-an-perl-array/36183337#36183337", "title": "Iterate over first at most n elements of an perl array", "body": "<p>You want the CPAN module <a href=\"http://metacpan.org/pod/List::Slice\" rel=\"noreferrer\"><code>List::Slice</code></a></p>\n\n<pre><code>use List::Slice 'head';\n\nforeach my $elem ( head 100, @things ) { ... }\n</code></pre>\n"}, {"tags": [], "owner": {"reputation": 5886, "user_id": 2019415, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/645958eb08719fa5119052d7d1d079ff?s=128&d=identicon&r=PG", "display_name": "G. Cito", "link": "https://stackoverflow.com/users/2019415/g-cito"}, "is_accepted": false, "score": 1, "last_activity_date": 1458825880, "last_edit_date": 1458825880, "creation_date": 1458749793, "answer_id": 36183370, "question_id": 36178898, "link": "https://stackoverflow.com/questions/36178898/iterate-over-first-at-most-n-elements-of-an-perl-array/36183370#36183370", "title": "Iterate over first at most n elements of an perl array", "body": "<p>The other responses have this covered but, just for thoroughness, there <strong>are</strong> a couple of \"pumpkin perl\" <code>gather/take</code> implementations on CPAN :-) </p>\n\n<ul>\n<li><a href=\"https://metacpan.org/pod/List::Gather\" rel=\"nofollow\"><code>List::Gather</code></a> </li>\n<li><a href=\"https://metacpan.org/pod/Syntax::Keyword::Gather\" rel=\"nofollow\"><code>Syntax::Keyword::Gather</code></a></li>\n</ul>\n\n<p>There is also Damian Conway's <a href=\"https://metacpan.org/pod/Perl6::Gather\" rel=\"nofollow\"><code>Perl6::Gather</code></a> which is pretty much the same but requires <code>Perl6::Export</code>. </p>\n\n<p>They let you work with lists in the way you want. <em>e.g.</em> to \"<code>take</code>\" half the alphabet:</p>\n\n<pre><code> perl -E 'use List::Gather; @lpha = (\"a\" .. \"z\"); \n         @half = gather { for (@lpha){ take $_ if gathered &lt; 13 } } ; say @half'\n abcdefghijklm\n</code></pre>\n\n<p>or less if we aren't halfway there yet :</p>\n\n<pre><code> perl -E 'use List::Gather; @lpha = (\"a\" .. \"c\");  \n         @half = gather { for (@lpha) { take $_ if gathered &lt; 13 } } ; say @half'\n abc\n</code></pre>\n\n<p>With <a href=\"https://metacpan.org/pod/List::Gather\" rel=\"nofollow\"><code>List::Gather</code></a> the <code>gather</code> block can take a loop (because of lexical scoping inside <code>gather{}</code> ??) and the topic <code>$_</code> is required inside the block:</p>\n\n<pre><code>perl -E 'use List::Gather; @lpha = (\"a\" .. \"g\"); \n          @half = gather for (@lpha) { take $_ if gathered &lt; 13 }; say @half'\n</code></pre>\n\n<p>With <a href=\"https://metacpan.org/pod/Syntax::Keyword::Gather\" rel=\"nofollow\"><code>Syntax::Keyword::Gather</code></a> you do that inside the <code>gather{}</code> block (which is also possible with <code>List::Gather</code>):</p>\n\n<pre><code>perl -E 'use Syntax::Keyword::Gather; @lpha = (\"a\"..\"g\"); \n        @half = gather { for (@lpha){ take if gathered &lt; 13 } }; say @half'\n</code></pre>\n\n<p>I find <code>gather/take</code> to be a nice alternative way to work with lists. Whether it is nice enough to ship with perl one day - say in <code>List::Util</code> - is an interesting implicit part of your question ;-) but they are on CPAN.</p>\n\n<hr>\n\n<p><strong>Postscript</strong></p>\n\n<p>To address some of the concerns about <code>defined</code>-ness  raised by @simbabque, @zaid and @Joachim Breitner more checks can be added to the <code>take()</code> routine.</p>\n\n<p>Here I use Ingy's <a href=\"https://metacpan.org/release/boolean\" rel=\"nofollow\"><code>boolean</code></a>:</p>\n\n<pre><code>perl -E 'use boolean; use List::Gather; \n        @lpha = (\"a\" .. \"g\", \"\", undef, undef, \"x\", \"0\", \"z\"); \n        @half = gather { for (@lpha){ take $_ if boolean($_) &amp;&amp; gathered &lt; 13 }};\n        use DDP; p @half;'\n</code></pre>\n\n<p><strong>Output:</strong></p>\n\n<pre><code>[\n    [0] \"a\",\n    [1] \"b\",\n    [2] \"c\",\n    [3] \"d\",\n    [4] \"e\",\n    [5] \"f\",\n    [6] \"g\",\n    [7] \"x\",\n    [8] \"z\"\n]\n</code></pre>\n"}, {"comments": [{"owner": {"reputation": 24266, "user_id": 946226, "user_type": "registered", "accept_rate": 59, "profile_image": "https://www.gravatar.com/avatar/5823d09208b1e4b63bbfcd189492032c?s=128&d=identicon&r=PG", "display_name": "Joachim Breitner", "link": "https://stackoverflow.com/users/946226/joachim-breitner"}, "edited": false, "score": 0, "creation_date": 1459170720, "post_id": 36263059, "comment_id": 60154133, "body": "This shares with the other answers the downside that is breaks if <code>undef</code> is in the list."}], "tags": [], "owner": {"reputation": 603, "user_id": 2625346, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/4ee31fca82dd2895bc5eb68ead5f973e?s=128&d=identicon&r=PG", "display_name": "Ivan Baidakou", "link": "https://stackoverflow.com/users/2625346/ivan-baidakou"}, "is_accepted": false, "score": 0, "last_activity_date": 1459170526, "creation_date": 1459170526, "answer_id": 36263059, "question_id": 36178898, "link": "https://stackoverflow.com/questions/36178898/iterate-over-first-at-most-n-elements-of-an-perl-array/36263059#36263059", "title": "Iterate over first at most n elements of an perl array", "body": "<p>I think you should use iterator pattern, i.e. </p>\n\n<pre><code>my $iterator = create_iterator(100);\nwhile (my $element = $iterator-&gt;()) {\n   ...;\n}\n</code></pre>\n\n<p>There <code>limit</code> might be either embedded into iterator creation, i.e. </p>\n\n<pre><code>sub create_iterator {\n     my $limit = shift;\n     my @data = (0 x 1000);\n     my $i = 0;\n     return sub {\n        return $data[$i++] if ($i &lt; @data);\n     }\n}\n</code></pre>\n\n<p>PS. There is a limitation, that <code>undef</code> cannot be part of <code>@data</code></p>\n"}], "owner": {"reputation": 24266, "user_id": 946226, "user_type": "registered", "accept_rate": 59, "profile_image": "https://www.gravatar.com/avatar/5823d09208b1e4b63bbfcd189492032c?s=128&d=identicon&r=PG", "display_name": "Joachim Breitner", "link": "https://stackoverflow.com/users/946226/joachim-breitner"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 2350, "favorite_count": 1, "accepted_answer_id": 36179772, "answer_count": 7, "score": 3, "last_activity_date": 1459170526, "creation_date": 1458737968, "last_edit_date": 1458749073, "question_id": 36178898, "link": "https://stackoverflow.com/questions/36178898/iterate-over-first-at-most-n-elements-of-an-perl-array", "title": "Iterate over first at most n elements of an perl array", "body": "<p>What is the most pleasant idiomatic way of writing</p>\n\n<pre><code>for (take(100,@array)) {...}\n</code></pre>\n\n<p>given that there is no <code>take</code> (which takes the first <em>n</em> elements of a list, but fewer if there are not <em>n</em> elements)?</p>\n\n<p>Things I considered:</p>\n\n<ul>\n<li><p><code>for (@array[0..99]) {...}</code></p>\n\n<p>but that fails ungraceful if <code>@array</code> has fewer than 100 elements</p></li>\n<li><p><code>for (@array[0..min(99,$#array)]) {...}</code></p>\n\n<p>but <code>min</code> is not a standard function in Perl</p></li>\n<li><p><code>for (splice @array,0,100) {...}</code></p>\n\n<p>bu that changes the array.</p></li>\n</ul>\n"}, {"tags": ["perl", "mongodb-query"], "answers": [{"comments": [{"owner": {"reputation": 33, "user_id": 6104254, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/839e932a77822241ba66b8d10c5f9f4c?s=128&d=identicon&r=PG&f=1", "display_name": "Babu Prasad", "link": "https://stackoverflow.com/users/6104254/babu-prasad"}, "edited": false, "score": 0, "creation_date": 1458737910, "post_id": 36178781, "comment_id": 59992803, "body": "Thanks that works !!, I feel for every run of MongoDB::OID-&gt;new( value =&gt; $_ ) there is a DB call. I was looking for something with a single DB call to fetch the information. Is that possible?"}, {"owner": {"reputation": 50468, "user_id": 1331451, "user_type": "registered", "accept_rate": 96, "profile_image": "https://i.stack.imgur.com/4ZPmj.png?s=128&g=1", "display_name": "simbabque", "link": "https://stackoverflow.com/users/1331451/simbabque"}, "reply_to_user": {"reputation": 33, "user_id": 6104254, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/839e932a77822241ba66b8d10c5f9f4c?s=128&d=identicon&r=PG&f=1", "display_name": "Babu Prasad", "link": "https://stackoverflow.com/users/6104254/babu-prasad"}, "edited": false, "score": 0, "creation_date": 1458738202, "post_id": 36178781, "comment_id": 59993016, "body": "@Babu I have no idea I&#39;m afraid. Never used MongoDB. You would need to check the documentation or read the code (you can do that at metacpan.org). Otherwise, please ask a new question as that changes the question of this one considerably."}, {"owner": {"reputation": 33, "user_id": 6104254, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/839e932a77822241ba66b8d10c5f9f4c?s=128&d=identicon&r=PG&f=1", "display_name": "Babu Prasad", "link": "https://stackoverflow.com/users/6104254/babu-prasad"}, "edited": false, "score": 0, "creation_date": 1458738317, "post_id": 36178781, "comment_id": 59993108, "body": "Anyways thanks for your quick help, this solves my immediate problem :-)"}, {"owner": {"reputation": 50468, "user_id": 1331451, "user_type": "registered", "accept_rate": 96, "profile_image": "https://i.stack.imgur.com/4ZPmj.png?s=128&g=1", "display_name": "simbabque", "link": "https://stackoverflow.com/users/1331451/simbabque"}, "reply_to_user": {"reputation": 33, "user_id": 6104254, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/839e932a77822241ba66b8d10c5f9f4c?s=128&d=identicon&r=PG&f=1", "display_name": "Babu Prasad", "link": "https://stackoverflow.com/users/6104254/babu-prasad"}, "edited": false, "score": 0, "creation_date": 1458738348, "post_id": 36178781, "comment_id": 59993134, "body": "Actually, I just checked <a href=\"https://metacpan.org/source/MONGODB/MongoDB-v1.2.3/lib/MongoDB/OID.pm#L47\" rel=\"nofollow noreferrer\">the code of MongoDB::OID</a>. There certainly is no DB call. It just creates a random OID if there is none given."}, {"owner": {"reputation": 50468, "user_id": 1331451, "user_type": "registered", "accept_rate": 96, "profile_image": "https://i.stack.imgur.com/4ZPmj.png?s=128&g=1", "display_name": "simbabque", "link": "https://stackoverflow.com/users/1331451/simbabque"}, "reply_to_user": {"reputation": 33, "user_id": 6104254, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/839e932a77822241ba66b8d10c5f9f4c?s=128&d=identicon&r=PG&f=1", "display_name": "Babu Prasad", "link": "https://stackoverflow.com/users/6104254/babu-prasad"}, "edited": false, "score": 0, "creation_date": 1458738439, "post_id": 36178781, "comment_id": 59993216, "body": "Also check <a href=\"https://metacpan.org/source/MONGODB/MongoDB-v1.2.3/lib/MongoDB/OID.pm#L131\" rel=\"nofollow noreferrer\">metacpan.org/source/MONGODB/MongoDB-v1.2.3/lib/MongoDB/&hellip;</a> and just use the same thing in your <code>&#39;$in&#39;</code> to avoid the object. That way you can monitor if there really is a call to the DB. Something like <code>[ map { { &#39;$oid&#39; =&gt; $_ } } @list ]</code>."}, {"owner": {"reputation": 50468, "user_id": 1331451, "user_type": "registered", "accept_rate": 96, "profile_image": "https://i.stack.imgur.com/4ZPmj.png?s=128&g=1", "display_name": "simbabque", "link": "https://stackoverflow.com/users/1331451/simbabque"}, "reply_to_user": {"reputation": 33, "user_id": 6104254, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/839e932a77822241ba66b8d10c5f9f4c?s=128&d=identicon&r=PG&f=1", "display_name": "Babu Prasad", "link": "https://stackoverflow.com/users/6104254/babu-prasad"}, "edited": false, "score": 0, "creation_date": 1458738505, "post_id": 36178781, "comment_id": 59993257, "body": "@BabuPrasad and welcome to Stack Overlfow and the Perl tag, by the way. Make sure to at least take the <a href=\"https://stackoverflow.com/tour\">tour</a> so you learn how to use this platform and how to accept helpful answers. :)"}], "tags": [], "owner": {"reputation": 50468, "user_id": 1331451, "user_type": "registered", "accept_rate": 96, "profile_image": "https://i.stack.imgur.com/4ZPmj.png?s=128&g=1", "display_name": "simbabque", "link": "https://stackoverflow.com/users/1331451/simbabque"}, "is_accepted": true, "score": 2, "last_activity_date": 1458737660, "creation_date": 1458737660, "answer_id": 36178781, "question_id": 36178710, "link": "https://stackoverflow.com/questions/36178710/how-do-i-give-a-list-dynamically-without-hardcoding-to-mongodbs-in/36178781#36178781", "title": "How do I give a list dynamically without hardcoding to MongoDB&#39;s $in?", "body": "<p>If those things in the array ref need to be MongoDB::OID objects, you need to create those. </p>\n\n<p>You can use <a href=\"http://perldoc.perl.org/functions/map.html\" rel=\"nofollow\"><code>map</code></a> to do that dynamically. It's like a <code>foreach</code> loop. You should be familiar with it as the <em>map</em> in _map_reduce in MongoDB is the same thing. The iterator variable in Perl is <code>$_</code>.</p>\n\n<pre><code>my @list = (\n  '56de679ce64cfa37a61b94f3',\n  '56d533dee64cfa2a970b2631',\n);\n\n$db-&gt;$collection-&gt;find( {\n    \"_id\" =&gt; { \n               '$in' =&gt; [  map { MongoDB::OID-&gt;new( value =&gt; $_ ) } @list   ]\n             } \n } );\n</code></pre>\n"}], "owner": {"reputation": 33, "user_id": 6104254, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/839e932a77822241ba66b8d10c5f9f4c?s=128&d=identicon&r=PG&f=1", "display_name": "Babu Prasad", "link": "https://stackoverflow.com/users/6104254/babu-prasad"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 93, "favorite_count": 1, "accepted_answer_id": 36178781, "answer_count": 1, "score": 3, "last_activity_date": 1458737859, "creation_date": 1458737436, "last_edit_date": 1458737859, "question_id": 36178710, "link": "https://stackoverflow.com/questions/36178710/how-do-i-give-a-list-dynamically-without-hardcoding-to-mongodbs-in", "title": "How do I give a list dynamically without hardcoding to MongoDB&#39;s $in?", "body": "<p>I have a list of ids that I want to search in the mongoDB collection.</p>\n\n<p>Below code works fine, but there are multiple DB calls for each id and I cannot pass an array list without hardcoding.</p>\n\n<pre><code>$db-&gt;$collection-&gt;find( {\n\"_id\" =&gt; { \n    '$in' =&gt; [ MongoDB::OID-&gt;new( value =&gt; \"56de679ce64cfa37a61b94f3\" ), \n               MongoDB::OID-&gt;new( value =&gt; \"56d533dee64cfa2a970b2631\" )\n             ]\n         } \n} );\n</code></pre>\n\n<p>But I want to pass the ids dynamically, something like this</p>\n\n<pre><code>$db-&gt;$collection-&gt;find( {\n    \"_id\" =&gt; { \n               '$in' =&gt; [  @list   ]\n             } \n } );\n</code></pre>\n\n<p>Where @list contains two elements:</p>\n\n<pre><code>[\n  '56de679ce64cfa37a61b94f3',\n  '56d533dee64cfa2a970b2631'\n]\n</code></pre>\n\n<p>How can I make this work by passing a dynamic array of ids?</p>\n"}, {"tags": ["regex", "perl"], "comments": [{"owner": {"reputation": 83048, "user_id": 2255089, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/ZNAsT.jpg?s=128&g=1", "display_name": "Casimir et Hippolyte", "link": "https://stackoverflow.com/users/2255089/casimir-et-hippolyte"}, "edited": false, "score": 2, "creation_date": 1458735005, "post_id": 36177389, "comment_id": 59990672, "body": "use <a href=\"https://metacpan.org/pod/Text::CSV\" rel=\"nofollow noreferrer\">metacpan.org/pod/Text::CSV</a> . As an aside, you can&#39;t use a backreference (and you don&#39;t need here) in a character class."}, {"owner": {"reputation": 61610, "user_id": 725418, "user_type": "registered", "accept_rate": 86, "profile_image": "https://www.gravatar.com/avatar/82ac2dc3e1ad4b7187f245c416528df9?s=128&d=identicon&r=PG", "display_name": "TLP", "link": "https://stackoverflow.com/users/725418/tlp"}, "edited": false, "score": 0, "creation_date": 1458738179, "post_id": 36177389, "comment_id": 59992997, "body": "<a href=\"https://metacpan.org/pod/Text::ParseWords\" rel=\"nofollow noreferrer\">metacpan.org/pod/Text::ParseWords</a> can also handle escaped quotes and delimiters."}], "answers": [{"tags": [], "owner": {"reputation": 11149, "user_id": 589206, "user_type": "registered", "accept_rate": 69, "profile_image": "https://www.gravatar.com/avatar/4296350a4653b1e62d2ee4d5659b3792?s=128&d=identicon&r=PG", "display_name": "hochl", "link": "https://stackoverflow.com/users/589206/hochl"}, "is_accepted": true, "score": 2, "last_activity_date": 1458735746, "last_edit_date": 1458735746, "creation_date": 1458735443, "answer_id": 36177961, "question_id": 36177389, "link": "https://stackoverflow.com/questions/36177389/perl-regex-how-to-parse-string-from-to-without/36177961#36177961", "title": "Perl Regex: How to parse string from &quot; to&quot; without \\&quot;?", "body": "<p>The following program performs matches according to your specification:</p>\n\n<pre><code>while (&lt;&gt;) {\n    @arr = ();\n    while (/(\"(?:\\\\\"|[^\"])*\")/) {\n            push @arr, $1;\n            $_ = $';\n    }\n    print join(' ', @arr), \"\\n\";\n}\n</code></pre>\n\n<p>Input file <code>input.txt</code>:</p>\n\n<pre><code>\"abc\", \"def\"\n\"abc\\\",\",\"\\\",\"\n</code></pre>\n\n<p>Output:</p>\n\n<pre><code>$ ./test.pl &lt; input.txt\n\"abc\" \"def\"\n\"abc\\\",\" \"\\\",\"\n</code></pre>\n\n<p>It can be improved to match more strictly because in this form a lot of input is possible that is maybe not desirable, but it serves as a first pointer. Additionally, it is better matching a <code>CSV</code> file with the corresponding module and not with regular expressions, but you have not stated if your input is really a <code>CSV</code> file.</p>\n"}, {"tags": [], "owner": {"reputation": 62184, "user_id": 7231, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/81b76985f3985e35492e25880493d045?s=128&d=identicon&r=PG", "display_name": "Dave Cross", "link": "https://stackoverflow.com/users/7231/dave-cross"}, "is_accepted": false, "score": 1, "last_activity_date": 1458740186, "creation_date": 1458740186, "answer_id": 36179739, "question_id": 36177389, "link": "https://stackoverflow.com/questions/36177389/perl-regex-how-to-parse-string-from-to-without/36179739#36179739", "title": "Perl Regex: How to parse string from &quot; to&quot; without \\&quot;?", "body": "<p>Regexes aren't the best tool for this task. The standard <a href=\"https://metacpan.org/pod/Text::ParseWords\" rel=\"nofollow\">Text::ParseWords</a> module does this easily.</p>\n\n<pre><code>#!/usr/bin/perl\n\nuse strict;\nuse warnings;\nuse 5.010;\n\nuse Text::ParseWords;\n\nmy $line = '\"abc\\\",\",\"\\\",\"';\n\nmy @fields = parse_line(',', 1, $line);\n\nfor (0 .. $#fields) {\n  say \"$_: $fields[$_]\"\n}\n</code></pre>\n\n<p>The output is:</p>\n\n<pre><code>0: \"abc\\\",\"\n1: \"\\\",\"\n</code></pre>\n"}, {"tags": [], "owner": {"reputation": 122, "user_id": 6104068, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/AbGf0.png?s=128&g=1", "display_name": "Marco Munari", "link": "https://stackoverflow.com/users/6104068/marco-munari"}, "is_accepted": false, "score": 0, "last_activity_date": 1458740617, "creation_date": 1458740617, "answer_id": 36179903, "question_id": 36177389, "link": "https://stackoverflow.com/questions/36177389/perl-regex-how-to-parse-string-from-to-without/36179903#36179903", "title": "Perl Regex: How to parse string from &quot; to&quot; without \\&quot;?", "body": "<p><code>split /(?&lt;!\\\\)\",(?&lt;!\\\\)\"/, $_</code></p>\n\n<p>(preceded by cleaning the boundary of $_ with <code>s/^\"// &amp;&amp; s/\"$//;</code> because enclosing external quotes didn't need to be in the definition of the input string, but you have them)</p>\n\n<p>returns directly the array you want (without the need of external loop as the loop is inside the core perl function <code>split</code>, you might add \\s* surrounding the comma according to how the string might be provided).</p>\n\n<p>..but (actually just a note as you didn't mention) there could be a deeper case\nIf you have <code>\\\"</code> meaning <code>\"</code> you possibly have also <code>\\\\</code> meaning <code>\\</code>, so you might have <code>\\\\\\\"</code> and <code>\\\\\"</code>, the last one (more generally an even number of <code>\\</code> preceding <code>\"</code>) is complicate with one line regexp because look-behind is implemented for fixed size, and the unsupported regexp form <code>(?&lt;!\\\\(?:\\\\\\\\)*)\"</code> which would potentially get well also a string delimiter after backslash not intending as escape quote <code>\\\"</code> from the sequence <code>\\\\\"</code>, is inapplicable and a less efficient code that mine would be required, but again this marginal consideration is about the case that <code>\\\\</code> has to be hypothetically interpreted too.</p>\n"}, {"tags": [], "owner": {"reputation": 320771, "user_id": 589924, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/b2cf53d5a3d25f95c0db4e025aed4153?s=128&d=identicon&r=PG", "display_name": "ikegami", "link": "https://stackoverflow.com/users/589924/ikegami"}, "is_accepted": false, "score": 2, "last_activity_date": 1458742716, "creation_date": 1458742716, "answer_id": 36180733, "question_id": 36177389, "link": "https://stackoverflow.com/questions/36177389/perl-regex-how-to-parse-string-from-to-without/36180733#36180733", "title": "Perl Regex: How to parse string from &quot; to&quot; without \\&quot;?", "body": "<p>Don't reinvent the wheel. If you have CSV, use a CSV parser.</p>\n\n<pre><code>use Text::CSV_XS qw( );\n\nmy $string = '\"abc\\\",\",\"\\\",\"';\n\nmy $csv = Text::CSV_XS-&gt;new ({ binary =&gt; 1, auto_diag =&gt; 1 });\n$csv-&gt;parse($_)\nmy @fields = $csv-&gt;fields();\n</code></pre>\n"}], "owner": {"reputation": 117, "user_id": 5393884, "user_type": "registered", "accept_rate": 71, "profile_image": "https://graph.facebook.com/143763902642314/picture?type=large", "display_name": "Mi Ka", "link": "https://stackoverflow.com/users/5393884/mi-ka"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 155, "favorite_count": 0, "accepted_answer_id": 36177961, "answer_count": 4, "score": 1, "last_activity_date": 1458742716, "creation_date": 1458733763, "last_edit_date": 1458734749, "question_id": 36177389, "link": "https://stackoverflow.com/questions/36177389/perl-regex-how-to-parse-string-from-to-without", "title": "Perl Regex: How to parse string from &quot; to&quot; without \\&quot;?", "body": "<p>I have to parse current line <code>\"abc\\\",\",\"\\\",\"</code> by regex in Perl, \nand get this result <code>\"abc\\\",\"</code> and <code>\"\\\",\"</code> \n<br/> I do this </p>\n\n<pre><code>while (/(\\s*)/gc) {\n  if (m{\\G([\"])([^\\1]+)\\1,}gc){\n    say $2;\n  }\n}\n</code></pre>\n\n<p>but it is wrong, because this regexp go to the last \", \n<br> My question is,  How can I jump over this \\\" and stop on first \", ?</p>\n"}, {"tags": ["arrays", "perl"], "answers": [{"comments": [{"owner": {"reputation": 677, "user_id": 4300271, "user_type": "registered", "accept_rate": 73, "profile_image": "https://i.stack.imgur.com/nZNJG.jpg?s=128&g=1", "display_name": "Louis Kuang", "link": "https://stackoverflow.com/users/4300271/louis-kuang"}, "edited": false, "score": 0, "creation_date": 1458733501, "post_id": 36177277, "comment_id": 59989677, "body": "But what if I don&#39;t want to change the value? Do I have to copy it every time I want to make some temporary changes?"}, {"owner": {"reputation": 677, "user_id": 4300271, "user_type": "registered", "accept_rate": 73, "profile_image": "https://i.stack.imgur.com/nZNJG.jpg?s=128&g=1", "display_name": "Louis Kuang", "link": "https://stackoverflow.com/users/4300271/louis-kuang"}, "edited": false, "score": 0, "creation_date": 1458733705, "post_id": 36177277, "comment_id": 59989826, "body": "What should be the correct way of accessing it in a subroutine?"}, {"owner": {"reputation": 50468, "user_id": 1331451, "user_type": "registered", "accept_rate": 96, "profile_image": "https://i.stack.imgur.com/4ZPmj.png?s=128&g=1", "display_name": "simbabque", "link": "https://stackoverflow.com/users/1331451/simbabque"}, "reply_to_user": {"reputation": 677, "user_id": 4300271, "user_type": "registered", "accept_rate": 73, "profile_image": "https://i.stack.imgur.com/nZNJG.jpg?s=128&g=1", "display_name": "Louis Kuang", "link": "https://stackoverflow.com/users/4300271/louis-kuang"}, "edited": false, "score": 1, "creation_date": 1458734047, "post_id": 36177277, "comment_id": 59990042, "body": "@LouisKwong can you explain more on your first question? Re the second question, you should define accessors for a specific field, so you can go <code>$obj-&gt;tile( $x, $y )</code> where tile is a field in the board."}], "tags": [], "owner": {"reputation": 19681, "user_id": 936986, "user_type": "registered", "accept_rate": 62, "profile_image": "https://www.gravatar.com/avatar/075f0ea7418371ace9bba5b901409ab1?s=128&d=identicon&r=PG", "display_name": "Oleg V. Volkov", "link": "https://stackoverflow.com/users/936986/oleg-v-volkov"}, "is_accepted": false, "score": 1, "last_activity_date": 1458733436, "creation_date": 1458733436, "answer_id": 36177277, "question_id": 36176815, "link": "https://stackoverflow.com/questions/36176815/defining-2d-array-inside-class-of-perl/36177277#36177277", "title": "Defining 2D array inside class of Perl", "body": "<p>You need to place a reference to array inside your <code>$self</code> hash. Right now you're placing a value of array in scalar context - which is its length <code>8</code>. Of course you can't later use this as a reference to anything.</p>\n\n<pre><code>$self-&gt;{board} = \\@board;\n</code></pre>\n"}, {"comments": [{"owner": {"reputation": 50468, "user_id": 1331451, "user_type": "registered", "accept_rate": 96, "profile_image": "https://i.stack.imgur.com/4ZPmj.png?s=128&g=1", "display_name": "simbabque", "link": "https://stackoverflow.com/users/1331451/simbabque"}, "edited": false, "score": 0, "creation_date": 1458734142, "post_id": 36177485, "comment_id": 59990102, "body": "Welcome to Stack Overflow and the Perl tag. This is a pretty good first answer! Make sure your formatting of inline code is consistent and maybe add a link to documentation. Keep up the good work! :)"}, {"owner": {"reputation": 677, "user_id": 4300271, "user_type": "registered", "accept_rate": 73, "profile_image": "https://i.stack.imgur.com/nZNJG.jpg?s=128&g=1", "display_name": "Louis Kuang", "link": "https://stackoverflow.com/users/4300271/louis-kuang"}, "edited": false, "score": 0, "creation_date": 1458734334, "post_id": 36177485, "comment_id": 59990226, "body": "I changed according to your code version #1, but I still got the same error when I try to access it in a subroutine."}, {"owner": {"reputation": 677, "user_id": 4300271, "user_type": "registered", "accept_rate": 73, "profile_image": "https://i.stack.imgur.com/nZNJG.jpg?s=128&g=1", "display_name": "Louis Kuang", "link": "https://stackoverflow.com/users/4300271/louis-kuang"}, "edited": false, "score": 0, "creation_date": 1458734479, "post_id": 36177485, "comment_id": 59990302, "body": "Oh, I seem to find the problem, I try to use $self-&gt;{board}[$i][$j] directly in the subroutine, which is empty in subroutine. But don&#39;t subroutine have access to the attribute of their own class?"}], "tags": [], "owner": {"reputation": 122, "user_id": 6104068, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/AbGf0.png?s=128&g=1", "display_name": "Marco Munari", "link": "https://stackoverflow.com/users/6104068/marco-munari"}, "is_accepted": true, "score": 5, "last_activity_date": 1458734045, "creation_date": 1458734045, "answer_id": 36177485, "question_id": 36176815, "link": "https://stackoverflow.com/questions/36176815/defining-2d-array-inside-class-of-perl/36177485#36177485", "title": "Defining 2D array inside class of Perl", "body": "<p>I changed your code to what I'm sure was your intention,\nsee the lines changed and comment # not</p>\n\n<pre><code>sub new{\nmy $class = shift;\nmy $self = {};\n\nmy @board = ();  # not []\nfor (my $i = 0; $i &lt; 8; $i++){\n    for(my $j = 0; $j &lt; 8; $j++){\n        $board[$i][$j] = '.';\n    }\n}\n$self-&gt;{board} = \\@board; # not @board\nbless($self, $class);\nreturn $self;\n}\n</code></pre>\n\n<p>or</p>\n\n<pre><code>sub new{\nmy $class = shift;\nmy $self = {};\n\nmy $board = []; # not @board\nfor (my $i = 0; $i &lt; 8; $i++){\n    for(my $j = 0; $j &lt; 8; $j++){\n        $board-&gt;[$i][$j] = '.';\n    }\n}\n$self-&gt;{board} = $board; # not @board\nbless($self, $class);\nreturn $self;\n}\n</code></pre>\n\n<p>about your <code>my @board=[];</code> is the same as <code>=([],);</code> assign a list (that perl calls ARRAY) whose first element is a reference to an ARRAY to @board, but this is neither what make your code fail because you overwrite this empty array reference allocation and assignment to position zero.\nThe @board is a list not a reference to it as $self->{board} expect</p>\n"}, {"tags": [], "owner": {"reputation": 62184, "user_id": 7231, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/81b76985f3985e35492e25880493d045?s=128&d=identicon&r=PG", "display_name": "Dave Cross", "link": "https://stackoverflow.com/users/7231/dave-cross"}, "is_accepted": false, "score": 0, "last_activity_date": 1458735813, "creation_date": 1458735813, "answer_id": 36178106, "question_id": 36176815, "link": "https://stackoverflow.com/questions/36176815/defining-2d-array-inside-class-of-perl/36178106#36178106", "title": "Defining 2D array inside class of Perl", "body": "<p>Others have given you explanations of what the problem is with your constructor. I'll add, that you can simplify it a bit by omitting the <code>$board</code> variable and using C-style loops.</p>\n\n<pre><code>sub new {\n  my $class = shift;\n\n  my $self = {};\n  $self-&gt;{board} = [];\n\n  for my $i (1 .. 8) {\n    for my $j (1 .. 8) {\n      $self-&gt;{board}[$i][$j] = '.';\n    }\n  }\n\n  return bless $self, $class;\n}\n</code></pre>\n\n<p>I'd also add the following three methods which make it easier to set and get the elements of the board:</p>\n\n<pre><code>sub board {\n  my $self = shift;\n  return $self-&gt;{board};\n}\n\nsub set_board_element {\n  my $self = shift;\n  my ($i, $j, $val) = @_;\n\n  $self-&gt;board-&gt;[$i][$j] = $val;\n}\n\nsub get_board_element {\n  my $self = shift;\n  my ($i, $j) = @_;\n\n  return $self-&gt;board-&gt;[$i][$j];\n}\n</code></pre>\n\n<p>Have you considered using <a href=\"https://metacpan.org/pod/Moose\" rel=\"nofollow\">Moose</a> to write your class? It will make your life easier. In particular, <a href=\"https://metacpan.org/pod/Moose::Meta::Attribute::Native::Trait::Array\" rel=\"nofollow\">Array traits</a> seem like a good fit for your problem.</p>\n"}], "owner": {"reputation": 677, "user_id": 4300271, "user_type": "registered", "accept_rate": 73, "profile_image": "https://i.stack.imgur.com/nZNJG.jpg?s=128&g=1", "display_name": "Louis Kuang", "link": "https://stackoverflow.com/users/4300271/louis-kuang"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 151, "favorite_count": 0, "accepted_answer_id": 36177485, "answer_count": 3, "score": -1, "last_activity_date": 1458735813, "creation_date": 1458732157, "question_id": 36176815, "link": "https://stackoverflow.com/questions/36176815/defining-2d-array-inside-class-of-perl", "title": "Defining 2D array inside class of Perl", "body": "<p>I am new to Perl and I am trying to define a 2D array as an attribute of my class in Perl. I define my class as follows,</p>\n\n<pre><code>sub new{\nmy $class = shift;\nmy $self = {};\n\nmy @board = [];\nfor (my $i = 0; $i &lt; 8; $i++){\n    for(my $j = 0; $j &lt; 8; $j++){\n        $board[$i][$j] = '.';\n    }\n}\n$self-&gt;{board} = @board;\nbless($self, $class);\nreturn $self;\n}\n</code></pre>\n\n<p>But later on when I try to access the board field like this</p>\n\n<pre><code>$self-&gt;{board}[$i][$j] = ' ';\n</code></pre>\n\n<p>I got an error saying</p>\n\n<pre><code>Can't use string (\"8\") as an ARRAY ref while \"strict refs\" in use\n</code></pre>\n\n<p>Can anyone tell me what is the correct way of doing this? I do not want to just delete use strict. </p>\n"}, {"tags": ["windows", "perl", "shell", "putty"], "comments": [{"owner": {"reputation": 50468, "user_id": 1331451, "user_type": "registered", "accept_rate": 96, "profile_image": "https://i.stack.imgur.com/4ZPmj.png?s=128&g=1", "display_name": "simbabque", "link": "https://stackoverflow.com/users/1331451/simbabque"}, "edited": false, "score": 1, "creation_date": 1458727791, "post_id": 36175060, "comment_id": 59985883, "body": "Take a look at <a href=\"https://metacpan.org/pod/Object::Remote\" rel=\"nofollow noreferrer\">Object::Remote</a>. It lets you run a local Perl program on a target machine and all it needs there is some kind of Perl. Also watch <a href=\"https://www.youtube.com/watch?v=7hIyawUrCcQ\" rel=\"nofollow noreferrer\">this talk</a> the author gave at a Perl workshop about it."}, {"owner": {"reputation": 1, "user_id": 6029902, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/23d5a916ed786d178e9724c68fddc550?s=128&d=identicon&r=PG&f=1", "display_name": "Mikou ", "link": "https://stackoverflow.com/users/6029902/mikou"}, "reply_to_user": {"reputation": 50468, "user_id": 1331451, "user_type": "registered", "accept_rate": 96, "profile_image": "https://i.stack.imgur.com/4ZPmj.png?s=128&g=1", "display_name": "simbabque", "link": "https://stackoverflow.com/users/1331451/simbabque"}, "edited": false, "score": 0, "creation_date": 1458730011, "post_id": 36175060, "comment_id": 59987407, "body": "@ simbabque thank you"}], "answers": [{"comments": [{"owner": {"reputation": 1, "user_id": 7064002, "user_type": "registered", "profile_image": "https://lh4.googleusercontent.com/-eWWJnDVBgio/AAAAAAAAAAI/AAAAAAAAAAA/uMm_VI1USeM/photo.jpg?sz=128", "display_name": "Farhan khan", "link": "https://stackoverflow.com/users/7064002/farhan-khan"}, "edited": false, "score": 0, "creation_date": 1477306415, "post_id": 40216585, "comment_id": 67696723, "body": "Or use &quot;autoit&quot; open its recorder do the same tast only onces it will record everything (your clicks and commands)"}], "tags": [], "owner": {"reputation": 1, "user_id": 7064002, "user_type": "registered", "profile_image": "https://lh4.googleusercontent.com/-eWWJnDVBgio/AAAAAAAAAAI/AAAAAAAAAAA/uMm_VI1USeM/photo.jpg?sz=128", "display_name": "Farhan khan", "link": "https://stackoverflow.com/users/7064002/farhan-khan"}, "is_accepted": false, "score": 0, "last_activity_date": 1477306261, "creation_date": 1477306261, "answer_id": 40216585, "question_id": 36175060, "link": "https://stackoverflow.com/questions/36175060/how-to-run-a-script-in-alcatel-switches/40216585#40216585", "title": "How to run a script in alcatel switches?", "body": "<p>Best way to run anyscript is to use \"logmeTT\" program for windows. \nIf you are a linux user try to create your own script by using \"expect /send\" \nHow ever another way to achive the same task is use secure CRT simple script or vbs scripts </p>\n"}], "owner": {"reputation": 1, "user_id": 6029902, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/23d5a916ed786d178e9724c68fddc550?s=128&d=identicon&r=PG&f=1", "display_name": "Mikou ", "link": "https://stackoverflow.com/users/6029902/mikou"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 431, "favorite_count": 0, "answer_count": 1, "score": 0, "last_activity_date": 1477306261, "creation_date": 1458727505, "last_edit_date": 1458901661, "question_id": 36175060, "link": "https://stackoverflow.com/questions/36175060/how-to-run-a-script-in-alcatel-switches", "title": "How to run a script in alcatel switches?", "body": "<p>Can you help me to know how to run a script in a remote Alcatel Switches via putty (ssh session) please?</p>\n\n<p>To run commands list, I do this:</p>\n\n<pre><code>C:\\Desktop&gt;putty.exe -ssh Username@host -pw password -m command.txt\n</code></pre>\n\n<p>but I have no idea how to do it for a script.</p>\n"}, {"tags": ["perl", "unix", "snmp", "net-snmp", "snmp-trap"], "comments": [{"owner": {"reputation": 2502, "user_id": 501739, "user_type": "registered", "accept_rate": 67, "profile_image": "https://www.gravatar.com/avatar/6b8fa3bc7278508dd85dc6090608f26c?s=128&d=identicon&r=PG", "display_name": "Jolta", "link": "https://stackoverflow.com/users/501739/jolta"}, "edited": false, "score": 0, "creation_date": 1486998912, "post_id": 36173700, "comment_id": 71575970, "body": "Does not look like a programming question. Looks like a question about network management."}], "answers": [{"tags": [], "owner": {"reputation": 442, "user_id": 6033520, "user_type": "registered", "accept_rate": 88, "profile_image": "https://www.gravatar.com/avatar/f5eb9177101aa7c32944b5cf13cb5704?s=128&d=identicon&r=PG", "display_name": "Nicolas Frbezar", "link": "https://stackoverflow.com/users/6033520/nicolas-frbezar"}, "is_accepted": true, "score": 1, "last_activity_date": 1458730783, "creation_date": 1458730783, "answer_id": 36176310, "question_id": 36173700, "link": "https://stackoverflow.com/questions/36173700/snmptt-and-perl-snmp-module-troubleshooting/36176310#36176310", "title": "SNMPTT and perl snmp module troubleshooting", "body": "<p>Found the solution : just install a different package :</p>\n\n<p>yum install net-snmp-perl  =/= yum install perl-Net-SNMP</p>\n"}, {"tags": [], "owner": {"reputation": 3, "user_id": 10078240, "user_type": "registered", "profile_image": "https://lh3.googleusercontent.com/-nQUFPPECyVE/AAAAAAAAAAI/AAAAAAAAAg4/aLdN1iTObPo/photo.jpg?sz=128", "display_name": "Paul", "link": "https://stackoverflow.com/users/10078240/paul"}, "is_accepted": false, "score": 0, "last_activity_date": 1532012118, "last_edit_date": 1532012118, "creation_date": 1532004618, "answer_id": 51423168, "question_id": 36173700, "link": "https://stackoverflow.com/questions/36173700/snmptt-and-perl-snmp-module-troubleshooting/51423168#51423168", "title": "SNMPTT and perl snmp module troubleshooting", "body": "<p>The provided solution also worked for <code>SNMPTT</code> on <em>Oracle Linux 7.5</em>.</p>\n\n<pre><code>yum install net-snmp-perl\n</code></pre>\n\n<p>worked for me.</p>\n"}], "owner": {"reputation": 442, "user_id": 6033520, "user_type": "registered", "accept_rate": 88, "profile_image": "https://www.gravatar.com/avatar/f5eb9177101aa7c32944b5cf13cb5704?s=128&d=identicon&r=PG", "display_name": "Nicolas Frbezar", "link": "https://stackoverflow.com/users/6033520/nicolas-frbezar"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 1930, "favorite_count": 0, "accepted_answer_id": 36176310, "answer_count": 2, "score": 1, "last_activity_date": 1532012118, "creation_date": 1458723648, "last_edit_date": 1487006461, "question_id": 36173700, "link": "https://stackoverflow.com/questions/36173700/snmptt-and-perl-snmp-module-troubleshooting", "title": "SNMPTT and perl snmp module troubleshooting", "body": "<p>I'm on centos6.7 and i need to install <code>snmptt</code> to get all SNMP traps and log them into Nagios. I made it work yesterday, but today, not the same story...</p>\n\n<p>I've run the <code>yum install perl-Net-SNMP</code> command, it told me that the package is already installed (from epel)\nI've enabled the module on the snmptt.ini and now, when i'm trying to run it, I've a failed message :</p>\n\n<pre><code>root@SLINUX01:[~]$service snmptt restart\nStopping snmptt:                                           [FAILED]\nStarting snmptt: Can't locate SNMP.pm in @INC (@INC contains: /usr/local/lib/perl5 /usr/local/share/perl5 /usr/lib/perl5/vendor_perl /usr/share/perl5/vendor_perl /usr/lib/perl5 /usr/share/perl5 .) at (eval 12) line 1.\n\nCould not load the Perl module SNMP!  If net_snmp_perl_enable is\nenabled then the SNMP module is required.  Please see snmptt.html\nfor system requirements.  Note:  SNMPTT uses the Net-SNMP package's\nSNMP module, NOT the CPAN Net::SNMP module!\n\ndied at /usr/sbin/snmptt line 426.\n</code></pre>\n\n<p>Suggestions ?</p>\n"}, {"tags": ["perl"], "comments": [{"owner": {"reputation": 1003, "user_id": 615982, "user_type": "registered", "accept_rate": 80, "profile_image": "https://www.gravatar.com/avatar/f0be626806a146529a4b2cd684be0db4?s=128&d=identicon&r=PG", "display_name": "Dave W", "link": "https://stackoverflow.com/users/615982/dave-w"}, "edited": false, "score": 1, "creation_date": 1458747812, "post_id": 36172741, "comment_id": 60000567, "body": "I don&#39;t really know ksh interpolation rules, but I&#39;m guessing the first $ in  &quot;my \\$i = $i&quot; is escaped to prevent ksh from interpolating it. If this is the case, why isn&#39;t the $ in  &quot;$time_epo = ...&quot;  escaped too?  I think mkHun&#39;s answer will remove any potential ambiguity in variable interpolation and fix your problem."}], "answers": [{"tags": [], "owner": {"reputation": 5455, "user_id": 3961170, "user_type": "registered", "accept_rate": 73, "profile_image": "https://i.stack.imgur.com/PtFol.jpg?s=128&g=1", "display_name": "mkHun", "link": "https://stackoverflow.com/users/3961170/mkhun"}, "is_accepted": false, "score": 2, "last_activity_date": 1458721992, "last_edit_date": 1458721992, "creation_date": 1458721536, "answer_id": 36173038, "question_id": 36172741, "link": "https://stackoverflow.com/questions/36172741/perl-timegm-error-inside-unix-shell-script/36173038#36173038", "title": "perl timegm() error inside unix shell script", "body": "<p>use <code>-e</code> flag for perl to execute. Then pass the shell variable to perl script by using argument method. Then handle the value inside the perl using <code>$ARGV[0]</code></p>\n\n<pre><code>echo \"I M IN KSH\"\ni=10\necho \"value of i in ksh is $i\"\nperl -e '\n\nprint \"I M IN PERL\\n\";\nuse Time::Local;\n\nmy $i = $ARGV[0];\nprint \"Value of i in perl $i\\n\";\n$time_epoo = timegm(13,06,22,29,2,2016-1900);\n\nprint \"$time_epoo\"\n\n'   $i\n\necho \"BACK IN KSH\"\n</code></pre>\n"}], "owner": {"reputation": 1, "user_id": 6097141, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/ab0b02d26fb984d2f333876f91453075?s=128&d=identicon&r=PG&f=1", "display_name": "Sidd", "link": "https://stackoverflow.com/users/6097141/sidd"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 107, "favorite_count": 0, "answer_count": 1, "score": 0, "last_activity_date": 1458721992, "creation_date": 1458720472, "question_id": 36172741, "link": "https://stackoverflow.com/questions/36172741/perl-timegm-error-inside-unix-shell-script", "title": "perl timegm() error inside unix shell script", "body": "<p>I am trying to run perl script inside a unix script. But while executing it I am getting an error.It works fine without timegm() perl  function. Here is the code and the error message.            </p>\n\n<p>#!/bin/ksh</p>\n\n<pre><code>    echo \"I M IN KSH\"\n    i=10\n    echo \"value of i in ksh is $i\"\n    perl &lt;&lt; _MYCODE_\n\n    print \"I M IN PERL\\n\";\n    use Time::Local;\n\n    my \\$i = $i;    \n    print \"Value of i in perl $i\\n\";    \n    $time_epoo = timegm(13,06,22,29,2,2016-1900);     \n\n    print \"$time_epoo\"\n\n    _MYCODE_   \n\n    echo \"BACK IN KSH\"\n\n------------------------OUTPUT WITH ERROR--------------\nI M IN KSH\nvalue of i in ksh is 10\nsyntax error at - line 7, near \"=\"\nExecution of - aborted due to compilation errors.\nBACK IN KSH\n-------------------------------------------------------\n</code></pre>\n"}, {"tags": ["perl", "csv", "unix", "scripting"], "answers": [{"comments": [{"owner": {"reputation": 35, "user_id": 4564568, "user_type": "registered", "accept_rate": 80, "profile_image": "https://www.gravatar.com/avatar/76c56dac9ff7562af885eb5d2485a6de?s=128&d=identicon&r=PG&f=1", "display_name": "PythonCobra", "link": "https://stackoverflow.com/users/4564568/pythoncobra"}, "edited": false, "score": 0, "creation_date": 1458709241, "post_id": 36170109, "comment_id": 59977115, "body": "Sorry it might be a typo ! but still when I run the program it gets <code>Argument &quot;SITE ENGINEERS 2&quot; isn&#39;t numeric in addition (+) at .&#47;script1.pl line 16, &lt;$filedata&gt; line 1. Argument &quot;ELECTRICIANS&quot; isn&#39;t numeric in addition (+) at .&#47;script1.pl line 17, &lt;$filedata&gt; line 1. 30,13 26,12 30,19 30,14 26,18 22,20 23,12 20,16 29,16 23,17</code>  It still does not let me print the addition because of the string heading of column"}, {"owner": {"reputation": 723, "user_id": 4568433, "user_type": "registered", "profile_image": "https://lh5.googleusercontent.com/-A0ltyCE72fA/AAAAAAAAAAI/AAAAAAAAADY/4U7GU992t_E/photo.jpg?sz=128", "display_name": "Alexandr Evstigneev", "link": "https://stackoverflow.com/users/4568433/alexandr-evstigneev"}, "edited": false, "score": 0, "creation_date": 1458710787, "post_id": 36170109, "comment_id": 59977555, "body": "input file would be really helpful"}, {"owner": {"reputation": 35, "user_id": 4564568, "user_type": "registered", "accept_rate": 80, "profile_image": "https://www.gravatar.com/avatar/76c56dac9ff7562af885eb5d2485a6de?s=128&d=identicon&r=PG&f=1", "display_name": "PythonCobra", "link": "https://stackoverflow.com/users/4564568/pythoncobra"}, "edited": false, "score": 0, "creation_date": 1458717729, "post_id": 36170109, "comment_id": 59980174, "body": "here is the input <code>WEEK,SITE ENGINEERS,SITE ENGINEERS 2,ELECTRICIANS,ELECTRICIANS 2,ON SITE INSPECTORS,ON SITE INSPECTORS 2,CRANE OPERATOR,CRANE OPERATOR 2 ONE,16,30,13,24,19,20,17,22 TWO,15,26,12,29,19,30,20,27 THREE,13,30,19,21,16,25,19,20 FOUR,16,30,14,25,18,24,15,26 FIVE,12,26,18,29,16,23,12,26 SIX,15,22,20,20,13,27,14,20 SEVEN,13,23,12,21,15,21,18,28 EIGHT,16,20,16,23,12,22,18,20 NINE,14,29,16,28,15,28,16,28 TEN,17,23,17,28,14,30,17,20</code>"}, {"owner": {"reputation": 632, "user_id": 1059847, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/d4d496a88afeda3b4e7339d1e0138f14?s=128&d=identicon&r=PG", "display_name": "amaslenn", "link": "https://stackoverflow.com/users/1059847/amaslenn"}, "edited": false, "score": 0, "creation_date": 1458719489, "post_id": 36170109, "comment_id": 59981013, "body": "It seems to be one line. Is it correct? And <code>$fields[$column_number]</code> contains exactly <code>&#39;SITE ENGINEERS 2&#39;</code> for <code>$column_number == 2</code>."}, {"owner": {"reputation": 35, "user_id": 4564568, "user_type": "registered", "accept_rate": 80, "profile_image": "https://www.gravatar.com/avatar/76c56dac9ff7562af885eb5d2485a6de?s=128&d=identicon&r=PG&f=1", "display_name": "PythonCobra", "link": "https://stackoverflow.com/users/4564568/pythoncobra"}, "edited": false, "score": 0, "creation_date": 1458721310, "post_id": 36170109, "comment_id": 59981908, "body": "Input file is just looks like e   <code>WEEK,SITE ENGINEERS,SITE ENGINEERS 2,ELECTRICIANS,ELECTRICIANS 2,ON SITE INSPECTORS,ON SITE INSPECTORS 2,CRANE OPERATOR,CRANE OPERATOR 2 ONE,16,30,13,24,19,20,17,22 TWO,15,26,12,29,19,30,20,27 THREE,13,30,19,21,16,25,19,20 FOUR,16,30,14,25,18,24,15,26 FIVE,12,26,18,29,16,23,12,26 SIX,15,22,20,20,13,27,14,20 SEVEN,13,23,12,21,15,21,18,28 EIGHT,16,20,16,23,12,22,18,20 NINE,14,29,16,28,15,28,16,28 TEN,17,23,17,28,14,30,17,2</code>"}, {"owner": {"reputation": 632, "user_id": 1059847, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/d4d496a88afeda3b4e7339d1e0138f14?s=128&d=identicon&r=PG", "display_name": "amaslenn", "link": "https://stackoverflow.com/users/1059847/amaslenn"}, "edited": false, "score": 0, "creation_date": 1458752381, "post_id": 36170109, "comment_id": 60003920, "body": "Yeah, OK, but I don&#39;t see any new lines here. Please update your question with two-three lines from your file. It is really hard to understand what do you have for input."}], "tags": [], "owner": {"reputation": 632, "user_id": 1059847, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/d4d496a88afeda3b4e7339d1e0138f14?s=128&d=identicon&r=PG", "display_name": "amaslenn", "link": "https://stackoverflow.com/users/1059847/amaslenn"}, "is_accepted": false, "score": 0, "last_activity_date": 1458708785, "creation_date": 1458708785, "answer_id": 36170109, "question_id": 36169999, "link": "https://stackoverflow.com/questions/36169999/extract-column-from-csv-file-and-add-the-column-using-filename-and-column-number/36170109#36170109", "title": "extract column from CSV file and add the column using filename and column number in argument", "body": "<p>You missed <code>$</code> in <code>$addition += $fields[coloumn_number+1];</code>. Should be <code>$addition += $fields[$coloumn_number+1];</code></p>\n"}], "owner": {"reputation": 35, "user_id": 4564568, "user_type": "registered", "accept_rate": 80, "profile_image": "https://www.gravatar.com/avatar/76c56dac9ff7562af885eb5d2485a6de?s=128&d=identicon&r=PG&f=1", "display_name": "PythonCobra", "link": "https://stackoverflow.com/users/4564568/pythoncobra"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 100, "favorite_count": 0, "answer_count": 1, "score": 0, "last_activity_date": 1458708785, "creation_date": 1458708150, "last_edit_date": 1458708256, "question_id": 36169999, "link": "https://stackoverflow.com/questions/36169999/extract-column-from-csv-file-and-add-the-column-using-filename-and-column-number", "title": "extract column from CSV file and add the column using filename and column number in argument", "body": "<p>I wrote a script to extract the two column; first is the column entered by the user in argument and second column is the next column to the first one; Now I have to perform addition of the columns separately.</p>\n\n<p>Please note the file is a CSV file and has the string as heading of coloumns</p>\n\n<pre><code>#!/usr/bin/perl\n\nuse warnings;\nuse strict;\n\nmy $file = $ARGV[0];\nmy $coloumn_number = $ARGV[1];\nmy $addition = 0;\nmy $sum = 0;\nopen(my $filedata, '&lt;', $file) or die \"Can't read file '$file'\\n\";\nwhile (my $line = &lt;$filedata&gt;) {\n    chomp $line;\n        my @fields = split(\",\", $line);\n         print \"$fields[$coloumn_number],\";\n         print \"$fields[$coloumn_number+1]\\n\";\n         $sum += $fields[$coloumn_number];\n         $addition += $fields[coloumn_number+1];\n\n          }\nprint \"$sum\";\nprint \"$addition\";\n</code></pre>\n\n<p>When I run this script I get the error </p>\n\n<pre><code>-bash-4.1$ ./script1.pl /diff2.csv 2\nBareword \"coloumn_number\" not allowed while \"strict subs\" in use at ./script1.pl line 17.\nExecution of ./script1.pl aborted due to compilation errors.\n</code></pre>\n\n<p>when I run the script without the last 5 lines of addition part it works fine.</p>\n"}, {"tags": ["perl"], "comments": [{"owner": {"reputation": 126333, "user_id": 14660, "user_type": "registered", "accept_rate": 62, "profile_image": "https://www.gravatar.com/avatar/e55e0ec3c00f834d78fbdddeaa36e308?s=128&d=identicon&r=PG", "display_name": "Schwern", "link": "https://stackoverflow.com/users/14660/schwern"}, "edited": false, "score": 1, "creation_date": 1458697681, "post_id": 36168195, "comment_id": 59974001, "body": "The time it takes to open a file is independent of how big it is. 5 or 10 minutes is a long time to search even a few gigabytes. Could you post the actual search code?"}, {"owner": {"reputation": 347, "user_id": 463415, "user_type": "registered", "accept_rate": 75, "profile_image": "https://www.gravatar.com/avatar/8c325313565c843f16d04d613b15572b?s=128&d=identicon&r=PG", "display_name": "scryptKiddy", "link": "https://stackoverflow.com/users/463415/scryptkiddy"}, "reply_to_user": {"reputation": 126333, "user_id": 14660, "user_type": "registered", "accept_rate": 62, "profile_image": "https://www.gravatar.com/avatar/e55e0ec3c00f834d78fbdddeaa36e308?s=128&d=identicon&r=PG", "display_name": "Schwern", "link": "https://stackoverflow.com/users/14660/schwern"}, "edited": false, "score": 0, "creation_date": 1458698547, "post_id": 36168195, "comment_id": 59974226, "body": "I added a print after the <code>while (&lt;LOG&gt;) { $count++; print line $count\\n&quot;</code> and its incrementing at a rate of 5000 lines per second. However, by the 7th hour, my current hour&#39;s worth of logs are on lines 600000-70000. The code is pretty long and on a box not on this network so hard to port over, thus the small snippet. Basically, I don&#39;t want to reread lines 1-600000 for every hour that I&#39;m checking the log for the current hour&#39;s worth of logs. Hope that makes sense."}, {"owner": {"reputation": 347, "user_id": 463415, "user_type": "registered", "accept_rate": 75, "profile_image": "https://www.gravatar.com/avatar/8c325313565c843f16d04d613b15572b?s=128&d=identicon&r=PG", "display_name": "scryptKiddy", "link": "https://stackoverflow.com/users/463415/scryptkiddy"}, "reply_to_user": {"reputation": 126333, "user_id": 14660, "user_type": "registered", "accept_rate": 62, "profile_image": "https://www.gravatar.com/avatar/e55e0ec3c00f834d78fbdddeaa36e308?s=128&d=identicon&r=PG", "display_name": "Schwern", "link": "https://stackoverflow.com/users/14660/schwern"}, "edited": false, "score": 0, "creation_date": 1458698660, "post_id": 36168195, "comment_id": 59974262, "body": "The actual search is right after the print above which says <code>if ($_ =~ &#47;^$time_search_str&#47; ) {...do some stuff</code>"}, {"owner": {"reputation": 126333, "user_id": 14660, "user_type": "registered", "accept_rate": 62, "profile_image": "https://www.gravatar.com/avatar/e55e0ec3c00f834d78fbdddeaa36e308?s=128&d=identicon&r=PG", "display_name": "Schwern", "link": "https://stackoverflow.com/users/14660/schwern"}, "edited": false, "score": 0, "creation_date": 1458698841, "post_id": 36168195, "comment_id": 59974294, "body": "Could you add the actual code to the post? It&#39;s hard to follow additions to the question in comments. Editing the post is easier to read and more likely to be seen by others. You&#39;ll probably have to remove the business logic, but the basic &quot;read the file and look for the right timestamps&quot; should be postable."}, {"owner": {"reputation": 347, "user_id": 463415, "user_type": "registered", "accept_rate": 75, "profile_image": "https://www.gravatar.com/avatar/8c325313565c843f16d04d613b15572b?s=128&d=identicon&r=PG", "display_name": "scryptKiddy", "link": "https://stackoverflow.com/users/463415/scryptkiddy"}, "reply_to_user": {"reputation": 126333, "user_id": 14660, "user_type": "registered", "accept_rate": 62, "profile_image": "https://www.gravatar.com/avatar/e55e0ec3c00f834d78fbdddeaa36e308?s=128&d=identicon&r=PG", "display_name": "Schwern", "link": "https://stackoverflow.com/users/14660/schwern"}, "edited": false, "score": 0, "creation_date": 1458699347, "post_id": 36168195, "comment_id": 59974420, "body": "Sorry Schwern, read above, its on a non internet attached box and is not easily typed. I&#39;m still learning how to post in a much more readable way, apologies."}, {"owner": {"reputation": 5334, "user_id": 5830574, "user_type": "registered", "accept_rate": 93, "profile_image": "https://i.stack.imgur.com/kCmqs.png?s=128&g=1", "display_name": "PerlDuck", "link": "https://stackoverflow.com/users/5830574/perlduck"}, "edited": false, "score": 0, "creation_date": 1458746324, "post_id": 36168195, "comment_id": 59999403, "body": "I apologize for these questions in advance, but I&#39;ve seen things here you wouldn&#39;t believe. 1) Do you open the file exactly once? 2) Do you read it with simple <code>while (my $line = &lt;LOG&gt;) {...}</code>? 3) Do you close the file exactly once? Again, sorry, I don&#39;t want to insult you. It&#39;s just because you cannot show code."}, {"owner": {"reputation": 347, "user_id": 463415, "user_type": "registered", "accept_rate": 75, "profile_image": "https://www.gravatar.com/avatar/8c325313565c843f16d04d613b15572b?s=128&d=identicon&r=PG", "display_name": "scryptKiddy", "link": "https://stackoverflow.com/users/463415/scryptkiddy"}, "reply_to_user": {"reputation": 5334, "user_id": 5830574, "user_type": "registered", "accept_rate": 93, "profile_image": "https://i.stack.imgur.com/kCmqs.png?s=128&g=1", "display_name": "PerlDuck", "link": "https://stackoverflow.com/users/5830574/perlduck"}, "edited": false, "score": 0, "creation_date": 1458759165, "post_id": 36168195, "comment_id": 60008085, "body": "@PerlDog no problem. I do open the file just once using a <code>while (&lt;LOG&gt;) {</code>. I then process the lines using the default variable <code>$_</code> As far as closing the file, I do not explicitly say <code>close LOG;</code> I simply allow the code to exit the while loop once all the lines have been read. Hope that helps."}], "answers": [{"comments": [{"owner": {"reputation": 347, "user_id": 463415, "user_type": "registered", "accept_rate": 75, "profile_image": "https://www.gravatar.com/avatar/8c325313565c843f16d04d613b15572b?s=128&d=identicon&r=PG", "display_name": "scryptKiddy", "link": "https://stackoverflow.com/users/463415/scryptkiddy"}, "edited": false, "score": 0, "creation_date": 1458699150, "post_id": 36168526, "comment_id": 59974369, "body": "All great suggestions Schwern. I definitely have no control over the log rotation, but I thought of that as well. As far as profiling, that is an interesting tool, I determined the cause via the $count printouts. They printed out for a few minutes until finally I hit my search string and my code began to process.  &lt;br/&gt; I like the binary search method, reminds me of the half step method. I&#39;m assuming <code>seek</code> is a PERL function? &lt;br/&gt; I did think about reading the file backwards, but not sure how it would be stored in the variable. In otherwords would I have to reverse process it."}, {"owner": {"reputation": 347, "user_id": 463415, "user_type": "registered", "accept_rate": 75, "profile_image": "https://www.gravatar.com/avatar/8c325313565c843f16d04d613b15572b?s=128&d=identicon&r=PG", "display_name": "scryptKiddy", "link": "https://stackoverflow.com/users/463415/scryptkiddy"}, "edited": false, "score": 0, "creation_date": 1458699216, "post_id": 36168526, "comment_id": 59974386, "body": "The database is something I&#39;m pushing for, especially because they desire historical statistics, however, I&#39;m focused on the first step which is the fixing the processing which seems to take for ever, hence the post."}, {"owner": {"reputation": 126333, "user_id": 14660, "user_type": "registered", "accept_rate": 62, "profile_image": "https://www.gravatar.com/avatar/e55e0ec3c00f834d78fbdddeaa36e308?s=128&d=identicon&r=PG", "display_name": "Schwern", "link": "https://stackoverflow.com/users/14660/schwern"}, "reply_to_user": {"reputation": 347, "user_id": 463415, "user_type": "registered", "accept_rate": 75, "profile_image": "https://www.gravatar.com/avatar/8c325313565c843f16d04d613b15572b?s=128&d=identicon&r=PG", "display_name": "scryptKiddy", "link": "https://stackoverflow.com/users/463415/scryptkiddy"}, "edited": false, "score": 3, "creation_date": 1458699632, "post_id": 36168526, "comment_id": 59974478, "body": "<a href=\"http://perldoc.perl.org/functions/seek.html\" rel=\"nofollow noreferrer\"><code>seek()</code></a> is a Perl function, its common to most programming languages, and it moves the cursor around the file like you would in an editor. As for the database, you don&#39;t need to wait for someone to install a database server, you can use <a href=\"https://en.wikipedia.org/wiki/SQLite\" rel=\"nofollow noreferrer\">SQLite</a>."}, {"owner": {"reputation": 12075, "user_id": 1137055, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/59d7b43b9eb7d01bd8f7e51febe6053c?s=128&d=identicon&r=PG", "display_name": "dgw", "link": "https://stackoverflow.com/users/1137055/dgw"}, "edited": false, "score": 0, "creation_date": 1458724020, "post_id": 36168526, "comment_id": 59983445, "body": "The script could also simply remember the last line number processed and then start processing the file after this line when next run."}, {"owner": {"reputation": 126333, "user_id": 14660, "user_type": "registered", "accept_rate": 62, "profile_image": "https://www.gravatar.com/avatar/e55e0ec3c00f834d78fbdddeaa36e308?s=128&d=identicon&r=PG", "display_name": "Schwern", "link": "https://stackoverflow.com/users/14660/schwern"}, "reply_to_user": {"reputation": 12075, "user_id": 1137055, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/59d7b43b9eb7d01bd8f7e51febe6053c?s=128&d=identicon&r=PG", "display_name": "dgw", "link": "https://stackoverflow.com/users/1137055/dgw"}, "edited": false, "score": 0, "creation_date": 1458760978, "post_id": 36168526, "comment_id": 60009190, "body": "@dgw Not the line number, because it will have to read the whole file to get back to that line number (at least it doesn&#39;t have to also parse each line). Instead remember the byte position of the end of that line. Then it can <code>seek</code> straight there next time. That&#39;s the second to last suggestion in the answer."}], "tags": [], "owner": {"reputation": 126333, "user_id": 14660, "user_type": "registered", "accept_rate": 62, "profile_image": "https://www.gravatar.com/avatar/e55e0ec3c00f834d78fbdddeaa36e308?s=128&d=identicon&r=PG", "display_name": "Schwern", "link": "https://stackoverflow.com/users/14660/schwern"}, "is_accepted": true, "score": 7, "last_activity_date": 1458699063, "last_edit_date": 1458699063, "creation_date": 1458698395, "answer_id": 36168526, "question_id": 36168195, "link": "https://stackoverflow.com/questions/36168195/perl-scripting-for-syslog/36168526#36168526", "title": "Perl scripting for syslog", "body": "<p>You have a bunch of possible solutions.</p>\n\n<hr>\n\n<p>First is to implement hourly, instead of daily, log rotation. Then your program only has to read the hourly log file. This is probably a good idea in general if your logs are getting into the gigabyte range per day.</p>\n\n<hr>\n\n<p>If that's not possible, there's probably work which can be done to improve the performance of your search code. The first step would be to run a code profiler like <a href=\"https://metacpan.org/pod/Devel::NYTProf\">Devel::NYTProf</a> to find out where your program is spending its time.</p>\n\n<hr>\n\n<p>Instead of doing a linear search you can do a <a href=\"https://en.wikipedia.org/wiki/Binary_search_algorithm\">binary search</a>.  Assuming your logfile entries are something like this:</p>\n\n<pre><code>Mar 22 01:22:34 blah blah blah\nMar 22 01:22:35 blah blah blah\n</code></pre>\n\n<p><code>seek</code> to the halfway point of the file, read a partial line, throw it out, and read the next full line.  Check its timestamp.  If its too new, <code>seek</code> backwards half the remaining space, if it's too old, <code>seek</code> forward half the remaining space.  Repeat until you find the start of the hour.</p>\n\n<p>For a billion records this will take about log<sub>2</sub>(2<sup>30</sup>) or 30 steps.</p>\n\n<hr>\n\n<p>Another option is to read the file backwards.  Start at the end (the newest log entry) and work back until you hit the start of the hour.  <a href=\"https://metacpan.org/pod/File::ReadBackwards\">File::ReadBackwards</a> can do this fairly efficiently.</p>\n\n<hr>\n\n<p>You could change your log statistics program to write its results to a database including the position in the log file of the last record it wrote.  Then the next time it runs it <code>seek</code>s to that position, verifies it's correct, and reads forward from there.</p>\n\n<hr>\n\n<p>Finally, consider using a database.  You can have syslogd log to a database itself, this avoids the overhead of every program having to log to the database.  For example, <a href=\"https://en.wikipedia.org/wiki/Rsyslog\">rsyslog</a> and <a href=\"https://en.wikipedia.org/wiki/Syslog-ng\">syslog-ng</a> can do this.</p>\n"}], "owner": {"reputation": 347, "user_id": 463415, "user_type": "registered", "accept_rate": 75, "profile_image": "https://www.gravatar.com/avatar/8c325313565c843f16d04d613b15572b?s=128&d=identicon&r=PG", "display_name": "scryptKiddy", "link": "https://stackoverflow.com/users/463415/scryptkiddy"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 469, "favorite_count": 0, "accepted_answer_id": 36168526, "answer_count": 1, "score": 0, "last_activity_date": 1458699063, "creation_date": 1458696128, "question_id": 36168195, "link": "https://stackoverflow.com/questions/36168195/perl-scripting-for-syslog", "title": "Perl scripting for syslog", "body": "<p>I'd like a more efficient way for my Perl Script to parse through syslogs. </p>\n\n<p>My script runs on a cron on an hourly basis to output some statistics. I noticed it takes almost 5-10 minutes to complete as the day progresses (syslogs are archived daily) because the syslog files are several GB in size and the script does a simple:</p>\n\n<pre><code>open LOG, $logfile or die \"fatal error. Could not open $logfile\"\n</code></pre>\n\n<p>The problem is that initially the first hours worth of logs are the first lines in the logs. As the day progresses, the \"current hour\" of log entries in the syslog are now from, let's say lines 600000 to 700000. So each hour it gets slower and slower. </p>\n\n<p>A complex approach would be to have a grep run against the file based on the time and store the results in a tmp file then have my perl script process the tmp file, then remove the tmp file, repeat. </p>\n\n<p>Is there a more programmatic way to ensure I'm not rereading the thousands of lines everytime? </p>\n\n<p>SK</p>\n"}, {"tags": ["perl", "listbox", "tk"], "comments": [{"owner": {"reputation": 32176, "user_id": 2173773, "user_type": "registered", "accept_rate": 86, "profile_image": "https://i.stack.imgur.com/M8yh6.jpg?s=128&g=1", "display_name": "H&#229;kon H&#230;gland", "link": "https://stackoverflow.com/users/2173773/h%c3%a5kon-h%c3%a6gland"}, "edited": false, "score": 0, "creation_date": 1458728304, "post_id": 36168058, "comment_id": 59986240, "body": "Works fine here. I am using Ubuntu 15.10. I put your code except first 3 lines in a sub, and nothing odd happened.. Can you give some more details on how your sub looks like?"}, {"owner": {"reputation": 801, "user_id": 4652826, "user_type": "registered", "accept_rate": 80, "profile_image": "https://www.gravatar.com/avatar/811835123cd52e84642a1b972b9bd77a?s=128&d=identicon&r=PG&f=1", "display_name": "annena", "link": "https://stackoverflow.com/users/4652826/annena"}, "reply_to_user": {"reputation": 32176, "user_id": 2173773, "user_type": "registered", "accept_rate": 86, "profile_image": "https://i.stack.imgur.com/M8yh6.jpg?s=128&g=1", "display_name": "H&#229;kon H&#230;gland", "link": "https://stackoverflow.com/users/2173773/h%c3%a5kon-h%c3%a6gland"}, "edited": false, "score": 0, "creation_date": 1458738722, "post_id": 36168058, "comment_id": 59993406, "body": "I have posted my subroutine in this thread <a href=\"http://www.perlmonks.org/?node_id=1158589\" rel=\"nofollow noreferrer\">perlmonks.org/?node_id=1158589</a>. It would be great if you could help me take a look."}], "owner": {"reputation": 801, "user_id": 4652826, "user_type": "registered", "accept_rate": 80, "profile_image": "https://www.gravatar.com/avatar/811835123cd52e84642a1b972b9bd77a?s=128&d=identicon&r=PG&f=1", "display_name": "annena", "link": "https://stackoverflow.com/users/4652826/annena"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 71, "favorite_count": 0, "answer_count": 0, "score": 1, "last_activity_date": 1458696025, "creation_date": 1458695294, "last_edit_date": 1458696025, "question_id": 36168058, "link": "https://stackoverflow.com/questions/36168058/perl-tk-unable-to-return-from-mainloop-when-implemented-in-a-subroutine", "title": "Perl Tk unable to return from MainLoop when implemented in a subroutine", "body": "<p>I am using the following code to display a list and get an array of selected entries from user. </p>\n\n<pre><code>#!/mu/bin/perl\n\nuse Tk; use strict; use warnings;\nmy @selections; \nmy @choices = (\"choice1\", \"choice2\", \"choice3\", \"choice4\", \"choice5\", \"choice6\", \"choice7\", \"choice8\");\n\nmy $mw = MainWindow-&gt;new(-title=&gt;\"ListBox\");\n$mw-&gt;Label(-text =&gt; 'Select your choices')-&gt;pack();\n\nmy $lb = $mw-&gt;Listbox(-selectmode =&gt; 'extended');\n$lb-&gt;insert('end', sort @choices);$lb-&gt;pack();\n$mw-&gt;Button(-text =&gt; 'Select',\n                   -command =&gt; sub {@selections = $lb-&gt;curselection;$mw-&gt;destroy;})-&gt;pack();\nMainLoop;\n\nforeach (@selections) {\n    print $_.\"\\n\";\n}\n</code></pre>\n\n<p>This code works fine on its own, after clicking the button, I am able to execute the print statements after <code>MainLoop;</code>. However, when I use this code (without the first 3 lines of course) in a subroutine called in my program, clicking the button only closes the GUI window, anything below the <code>MainLoop;</code> statement is not executed. The whole program just hangs as the subroutine is stuck in the MainLoop.</p>\n\n<p>Any suggestion of what I might have done wrong and how can I fix this? Thanks.</p>\n"}, {"tags": ["perl", "time", "epoch"], "comments": [{"owner": {"reputation": 110113, "user_id": 168657, "user_type": "registered", "accept_rate": 92, "profile_image": "https://www.gravatar.com/avatar/f14e7610fca39322ebbf23530def15f8?s=128&d=identicon&r=PG", "display_name": "mob", "link": "https://stackoverflow.com/users/168657/mob"}, "edited": false, "score": 3, "creation_date": 1458682328, "post_id": 36165048, "comment_id": 59968408, "body": "That&#39;s not a flaw, it&#39;s DWIM."}], "answers": [{"tags": [], "owner": {"reputation": 21782, "user_id": 176646, "user_type": "registered", "accept_rate": 88, "profile_image": "https://i.stack.imgur.com/HsQyV.png?s=128&g=1", "display_name": "ThisSuitIsBlackNot", "link": "https://stackoverflow.com/users/176646/thissuitisblacknot"}, "is_accepted": true, "score": 6, "last_activity_date": 1458747067, "last_edit_date": 1458747067, "creation_date": 1458682102, "answer_id": 36165579, "question_id": 36165048, "link": "https://stackoverflow.com/questions/36165048/converting-times-before-the-year-999-to-epoch/36165579#36165579", "title": "Converting times before the year 999 to epoch", "body": "<blockquote>\n  <p>Given a time before the year 999 how can I accurately convert it to its corresponding epoch value?</p>\n</blockquote>\n\n<p>You can't with Time::Local. <code>timegm</code> (which is used by <code>timelocal</code>) <a href=\"https://metacpan.org/source/DROLSKY/Time-Local-1.2300/lib/Time/Local.pm#L100\" rel=\"nofollow\">contains</a> the following:</p>\n\n<pre><code>if ( $year &gt;= 1000 ) {\n    $year -= 1900;\n}\nelsif ( $year &lt; 100 and $year &gt;= 0 ) {\n    $year += ( $year &gt; $Breakpoint ) ? $Century : $NextCentury;\n}\n</code></pre>\n\n<p>If the year is between 0 and 100, it's automatically converted to a year in the current century as described in the documentation; years between 100 and 999 are treated as offsets from 1900. You can't get around that without hacking the source.</p>\n\n<hr>\n\n<p>If your perl was compiled to use 64-bit integers*, you can use the <a href=\"https://metacpan.org/pod/DateTime\" rel=\"nofollow\">DateTime</a> module instead:</p>\n\n<pre><code>use strict;\nuse warnings 'all';\nuse 5.010;\n\nuse DateTime;\n\nmy $dt = DateTime-&gt;new(\n    year       =&gt; 1,\n    month      =&gt; 1,\n    day        =&gt; 1,\n    hour       =&gt; 0,\n    minute     =&gt; 0,\n    second     =&gt; 0,\n    time_zone  =&gt; 'UTC'\n);\n\nsay $dt-&gt;epoch;\n</code></pre>\n\n<p>Output:</p>\n\n<pre class=\"lang-none prettyprint-override\"><code>-62135596800\n</code></pre>\n\n<p>Note that the Gregorian calendar wasn't even adopted until 1582, so DateTime uses what's called the \"proleptic Gregorian calendar\" by simply extending it backwards from 1582.</p>\n\n<hr>\n\n<p>* With 32-bit integers, dates too far in the past or future will cause integer overflow. Your perl supports 64-bit integers if <code>use64bitint=define</code> appears in the output to <code>perl -V</code> (with a capital 'V').</p>\n"}, {"comments": [{"owner": {"reputation": 21782, "user_id": 176646, "user_type": "registered", "accept_rate": 88, "profile_image": "https://i.stack.imgur.com/HsQyV.png?s=128&g=1", "display_name": "ThisSuitIsBlackNot", "link": "https://stackoverflow.com/users/176646/thissuitisblacknot"}, "edited": false, "score": 0, "creation_date": 1458692731, "post_id": 36166809, "comment_id": 59972631, "body": "Now that&#39;s interesting. The code for calculating the epoch is <code>( $self-&gt;{utc_rd_days} - 719163 ) * SECONDS_PER_DAY + $self-&gt;{utc_rd_secs}</code>, where <code>utc_rd_days</code> are the number of days since January 1st, year 1. With 32-bit ints, 719163 * 86400 would overflow."}, {"owner": {"reputation": 21782, "user_id": 176646, "user_type": "registered", "accept_rate": 88, "profile_image": "https://i.stack.imgur.com/HsQyV.png?s=128&g=1", "display_name": "ThisSuitIsBlackNot", "link": "https://stackoverflow.com/users/176646/thissuitisblacknot"}, "edited": false, "score": 0, "creation_date": 1458696539, "post_id": 36166809, "comment_id": 59973692, "body": "Also, your calculations are off. The length of a year in the Gregorian calendar is 365.2425 days. In your last calculation, you&#39;re using the length of the tropical year."}, {"owner": {"reputation": 2690, "user_id": 5869736, "user_type": "registered", "accept_rate": 75, "profile_image": "https://www.gravatar.com/avatar/b18e361761e0643fd9003f9eae40ba45?s=128&d=identicon&r=PG&f=1", "display_name": "Marty", "link": "https://stackoverflow.com/users/5869736/marty"}, "reply_to_user": {"reputation": 21782, "user_id": 176646, "user_type": "registered", "accept_rate": 88, "profile_image": "https://i.stack.imgur.com/HsQyV.png?s=128&g=1", "display_name": "ThisSuitIsBlackNot", "link": "https://stackoverflow.com/users/176646/thissuitisblacknot"}, "edited": false, "score": 0, "creation_date": 1458696784, "post_id": 36166809, "comment_id": 59973757, "body": "Thank you for pointing that out.  It&#39;s all a bit relative - you see I started off using 365.25 - the idea, of course, is just to get a feel for it to determine if things like ignoring leap seconds can be ignored.  Turns out the thing is, IMO, very accurate.  I&#39;m glad someone found it interesting - I spent too much time on it and two other answers appeared in the mean time."}, {"owner": {"reputation": 21782, "user_id": 176646, "user_type": "registered", "accept_rate": 88, "profile_image": "https://i.stack.imgur.com/HsQyV.png?s=128&g=1", "display_name": "ThisSuitIsBlackNot", "link": "https://stackoverflow.com/users/176646/thissuitisblacknot"}, "edited": false, "score": 0, "creation_date": 1458697078, "post_id": 36166809, "comment_id": 59973850, "body": "There were no leap seconds before 1972, so for the purposes of this question, they can be ignored. But I&#39;m glad you pointed out the limitations with 32-bit ints, I need to add that to my answer."}], "tags": [], "owner": {"reputation": 2690, "user_id": 5869736, "user_type": "registered", "accept_rate": 75, "profile_image": "https://www.gravatar.com/avatar/b18e361761e0643fd9003f9eae40ba45?s=128&d=identicon&r=PG&f=1", "display_name": "Marty", "link": "https://stackoverflow.com/users/5869736/marty"}, "is_accepted": false, "score": 1, "last_activity_date": 1458687895, "last_edit_date": 1458687895, "creation_date": 1458687480, "answer_id": 36166809, "question_id": 36165048, "link": "https://stackoverflow.com/questions/36165048/converting-times-before-the-year-999-to-epoch/36166809#36166809", "title": "Converting times before the year 999 to epoch", "body": "<p>Looking at the votes and reviews, the <a href=\"https://metacpan.org/pod/DateTime\" rel=\"nofollow\">DateTime</a> module would seem to be the authoritative, go-to module for this sort of stuff.  Unfortunately its <a href=\"https://metacpan.org/pod/DateTime#dt-epoch\" rel=\"nofollow\">$dt->epoch()</a>  documentation comes with these caveats;</p>\n\n<pre><code>Since the epoch does not account for leap seconds, the epoch time for \n1972-12-31T23:59:60 (UTC) is exactly the same as that for 1973-01-01T00:00:00.\n\nThis module uses Time::Local to calculate the epoch, which may or may not \nhandle epochs before 1904 or after 2038 (depending on the size of your system's \nintegers, and whether or not Perl was compiled with 64-bit int support).\n</code></pre>\n\n<p>It would appear these are the limits you going to have to work within.</p>\n\n<p>Having said that, this comment is probably a sensible warning for users who</p>\n\n<ol>\n<li>Are using a machine with 32-bit ints; or</li>\n<li>Have a low error tolerance even for \"old\" dates</li>\n</ol>\n\n<p>The first <em>is</em> going to be a problem if you have a 32-bit machine.  The range (in years) for a signed 32-bit based epoch is around 2^31 / (3600*24*365) or (only) 68 years to/from 1970 (presuming a unix epoch).  For a 64 bit int however, it becomes 290,000 years to/from 1970 - which would be ok, I presume.  :-)</p>\n\n<p>Only you can say if the second issue is going to be a problem.\nHerewith are the results of a back-of-the-envelope examination of the degree of error;</p>\n\n<pre><code>$ perl -MDateTime -E 'say DateTime-&gt;new( year =&gt; 0 )-&gt;epoch / (365.25 * 24 * 3600)'\n-1969.96030116359  # Year 0ad is 1969.96 years before 1970\n$ perl -MDateTime -E 'say DateTime-&gt;new( year =&gt; -1000 )-&gt;epoch / (365.25*24*3600)'\n-2969.93839835729  # year 1000bc is 2969.94 years before 1970\n$ perl -MDateTime -E 'say ((DateTime-&gt;new( year =&gt; -1000 )-&gt;epoch - DateTime-&gt;new( year =&gt; 0 )-&gt;epoch ) / (365.25*24*3600))'\n-999.978097193703  # 1,000bc has an error of 0.022 years\n$ perl -MDateTime -E 'say 1000*365.25 + ((DateTime-&gt;new( year =&gt; -1000 )-&gt;epoch - DateTime-&gt;new( year =&gt; 0 )-&gt;epoch ) / (24 * 3600))'\n8  # ... or 8 days\n$\n</code></pre>\n\n<p><strong>NOTE:</strong> I don't know how much of this \"error\" is due to the way I'm examining it - a year is not 365.25 days.  In fact, let me correct that - I took a better definition of days in a year from <a href=\"http://www.timeanddate.com/date/leapyear.html\" rel=\"nofollow\">here</a> and we get;</p>\n\n<pre><code>$ perl -MDateTime -E 'say 1000*365.242189  + ((DateTime-&gt;new( year =&gt; -1000 )-&gt;epoch - DateTime-&gt;new( year =&gt; 0 )-&gt;epoch ) / (24 * 3600))'\n0.189000000013039\n</code></pre>\n\n<p>So, an error of something-like 0.2 days when working with dates around 1,000bc.</p>\n\n<p>In short, if you have 64 bit machine, you should be fine.</p>\n"}, {"tags": [], "owner": {"reputation": 2317, "user_id": 711515, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/8b5b6edf26acc698b27a585417bb9bb6?s=128&d=identicon&r=PG", "display_name": "chansen", "link": "https://stackoverflow.com/users/711515/chansen"}, "is_accepted": false, "score": 1, "last_activity_date": 1459875985, "creation_date": 1459875985, "answer_id": 36432766, "question_id": 36165048, "link": "https://stackoverflow.com/questions/36165048/converting-times-before-the-year-999-to-epoch/36432766#36432766", "title": "Converting times before the year 999 to epoch", "body": "<p>The Gregorian calendar repeat completely every 146,097 days, which equals 400 years. We can map a year less than 1000 to an equivalent year within the cycle. The following implementation map a year less than 1000 to a year in the third cycle, for example 0001 maps to 1201.</p>\n\n<pre><code>#!/usr/bin/perl\nuse strict;\nuse warnings;\nuse Time::Local qw[timegm timelocal];\n\nuse constant CYCLE_YEARS   =&gt; 400;\nuse constant CYCLE_DAYS    =&gt; 146097;\nuse constant CYCLE_SECONDS =&gt; CYCLE_DAYS * 86400;\n\nsub mytimelocal {\n    my ($sec, $min, $hour, $mday, $month, $year) = @_;\n\n    my $adjust = 0;\n    if ($year &lt; 1000) {\n        my $cycles = 3 - int($year/CYCLE_YEARS) + ($year &lt; 0);\n        $year   += $cycles * CYCLE_YEARS;\n        $adjust  = $cycles * CYCLE_SECONDS;\n    }\n    return timelocal($sec, $min, $hour, $mday, $month, $year) - $adjust;\n}\n\n\nuse Test::More tests =&gt; CYCLE_DAYS;\n\nuse constant STD_OFFSET =&gt; \n  timelocal(0, 0, 0, 1, 0, 1200) - timegm(0, 0, 0, 1, 0, 1200);\n\nmy $seconds = -5 * CYCLE_SECONDS; # -0030-01-01\nwhile ($seconds &lt; -4 * CYCLE_SECONDS) { # 0370-01-01\n    my @tm  = gmtime($seconds);\n       $tm[5] += 1900;\n    my $got = mytimelocal(@tm);\n    my $exp = $seconds + STD_OFFSET;\n    is($got, $exp, scalar gmtime($seconds));\n    $seconds += 86400;\n}\n</code></pre>\n"}], "owner": {"reputation": 7704, "user_id": 3964397, "user_type": "registered", "accept_rate": 86, "profile_image": "https://www.gravatar.com/avatar/640272a326ae5f3cd89364b78f2108c9?s=128&d=identicon&r=PG", "display_name": "tjwrona1992", "link": "https://stackoverflow.com/users/3964397/tjwrona1992"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 254, "favorite_count": 0, "accepted_answer_id": 36165579, "answer_count": 3, "score": 4, "last_activity_date": 1459875985, "creation_date": 1458680194, "question_id": 36165048, "link": "https://stackoverflow.com/questions/36165048/converting-times-before-the-year-999-to-epoch", "title": "Converting times before the year 999 to epoch", "body": "<p>In Perl a function called <a href=\"http://perldoc.perl.org/Time/Local.html\" rel=\"nofollow\"><code>timelocal</code></a> exists to convert times to epoch.</p>\n\n<p><strong>example:</strong> <code>my $epoch = timelocal($sec, $min, $hour, $mday, $mon, $year)</code></p>\n\n<p>This function however appears to be inherently flawed when dealing with times very far in the past (before the year 999) - see the section on <a href=\"http://perldoc.perl.org/Time/Local.html#Year-Value-Interpretation\" rel=\"nofollow\">Year Value Interpretation</a>.  To make things worse, the way it processes 2 digit years complicates things even more...</p>\n\n<p>Given a time before the year 999 how can I accurately convert it to its corresponding epoch value?</p>\n"}, {"tags": ["perl"], "comments": [{"owner": {"reputation": 53041, "user_id": 4653379, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/b3953dbedd0dabff5cbc3db9b0835b14?s=128&d=identicon&r=PG&f=1", "display_name": "zdim", "link": "https://stackoverflow.com/users/4653379/zdim"}, "edited": false, "score": 0, "creation_date": 1458679042, "post_id": 36164467, "comment_id": 59966617, "body": "Can you clarify your expected output?  What you have seems like a hash, with keys being the original top-level keys and values being array-references -- but &quot;<i>mod(pol)</i>&quot; doesn&#39;t fit into that."}, {"owner": {"reputation": 23, "user_id": 6043564, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/3e7592282d2e8bb3019d2ae0536b3494?s=128&d=identicon&r=PG&f=1", "display_name": "Sampath", "link": "https://stackoverflow.com/users/6043564/sampath"}, "reply_to_user": {"reputation": 53041, "user_id": 4653379, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/b3953dbedd0dabff5cbc3db9b0835b14?s=128&d=identicon&r=PG&f=1", "display_name": "zdim", "link": "https://stackoverflow.com/users/4653379/zdim"}, "edited": false, "score": 0, "creation_date": 1458681347, "post_id": 36164467, "comment_id": 59967868, "body": "@zdim,  If I understand correctly, you are saying that mod(pol) is not key and value. yes you are correct it is set of top level keys and values are list. my $value ((@{$new{$id}{$name}{$address}{$mod}}) is returning the expected &quot;pol&quot; value of respective &quot;mod&quot;."}, {"owner": {"reputation": 53041, "user_id": 4653379, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/b3953dbedd0dabff5cbc3db9b0835b14?s=128&d=identicon&r=PG&f=1", "display_name": "zdim", "link": "https://stackoverflow.com/users/4653379/zdim"}, "edited": false, "score": 0, "creation_date": 1458681539, "post_id": 36164467, "comment_id": 59967963, "body": "Your second code is almost right -- it has a missing <code>}</code> in <code>$mod</code> loop, and it is not assembling all array values in the inner-most loop.  If you want a hash with array-ref, then what exactly is &quot;<i>mod1(pol1)</i>&quot;?  Is that meant to be a string with that content, <code>&#39;mod1(pol1)&#39;</code>?  What is written is not valid Perl."}, {"owner": {"reputation": 23, "user_id": 6043564, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/3e7592282d2e8bb3019d2ae0536b3494?s=128&d=identicon&r=PG&f=1", "display_name": "Sampath", "link": "https://stackoverflow.com/users/6043564/sampath"}, "reply_to_user": {"reputation": 53041, "user_id": 4653379, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/b3953dbedd0dabff5cbc3db9b0835b14?s=128&d=identicon&r=PG&f=1", "display_name": "zdim", "link": "https://stackoverflow.com/users/4653379/zdim"}, "edited": false, "score": 0, "creation_date": 1458682214, "post_id": 36164467, "comment_id": 59968332, "body": "yes &quot;mod1(pol1)&quot; is sting with content ( mod1 = $mod, pol1 = $value).  Please suggest how to assemble all array values in inner-most loop."}, {"owner": {"reputation": 23, "user_id": 6043564, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/3e7592282d2e8bb3019d2ae0536b3494?s=128&d=identicon&r=PG&f=1", "display_name": "Sampath", "link": "https://stackoverflow.com/users/6043564/sampath"}, "reply_to_user": {"reputation": 53041, "user_id": 4653379, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/b3953dbedd0dabff5cbc3db9b0835b14?s=128&d=identicon&r=PG&f=1", "display_name": "zdim", "link": "https://stackoverflow.com/users/4653379/zdim"}, "edited": false, "score": 0, "creation_date": 1458682629, "post_id": 36164467, "comment_id": 59968572, "body": "yes, thats correct"}, {"owner": {"reputation": 53041, "user_id": 4653379, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/b3953dbedd0dabff5cbc3db9b0835b14?s=128&d=identicon&r=PG&f=1", "display_name": "zdim", "link": "https://stackoverflow.com/users/4653379/zdim"}, "edited": false, "score": 0, "creation_date": 1458686358, "post_id": 36164467, "comment_id": 59970337, "body": "This is a good question in my opinion, but all of this discussion should have been in it to start with.  For the future :)"}], "answers": [{"comments": [{"owner": {"reputation": 23, "user_id": 6043564, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/3e7592282d2e8bb3019d2ae0536b3494?s=128&d=identicon&r=PG&f=1", "display_name": "Sampath", "link": "https://stackoverflow.com/users/6043564/sampath"}, "edited": false, "score": 0, "creation_date": 1458685658, "post_id": 36166361, "comment_id": 59970010, "body": "Thank you for sharing the details. Sry if I have confused you.  The output is not grouped at &quot;name&quot; level.  Expected output:                                                                                              ID1=&gt;[Name1,Address1,Mod1(pol1), Name2,Address1,Mod2(pol2) ]            ID2=&gt;[Name3,Address3,Mod3(pol3)] ID3=&gt;[Name4,Address4,Mod4(pol1, pol2, pol3)]"}, {"owner": {"reputation": 23, "user_id": 6043564, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/3e7592282d2e8bb3019d2ae0536b3494?s=128&d=identicon&r=PG&f=1", "display_name": "Sampath", "link": "https://stackoverflow.com/users/6043564/sampath"}, "edited": false, "score": 0, "creation_date": 1458687148, "post_id": 36166361, "comment_id": 59970661, "body": "no still not grouped. say for example ID1 has name1 and name 2 as unique values with pol1 and pol2 as values.  The output should be          ID1=&gt;[Name1,Address1,Mod1(pol1), Name2,Address1,Mod2(pol2) ]"}, {"owner": {"reputation": 23, "user_id": 6043564, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/3e7592282d2e8bb3019d2ae0536b3494?s=128&d=identicon&r=PG&f=1", "display_name": "Sampath", "link": "https://stackoverflow.com/users/6043564/sampath"}, "edited": false, "score": 0, "creation_date": 1458689121, "post_id": 36166361, "comment_id": 59971414, "body": ",please let me know if am missing any information on the expected output."}, {"owner": {"reputation": 53041, "user_id": 4653379, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/b3953dbedd0dabff5cbc3db9b0835b14?s=128&d=identicon&r=PG&f=1", "display_name": "zdim", "link": "https://stackoverflow.com/users/4653379/zdim"}, "reply_to_user": {"reputation": 23, "user_id": 6043564, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/3e7592282d2e8bb3019d2ae0536b3494?s=128&d=identicon&r=PG&f=1", "display_name": "Sampath", "link": "https://stackoverflow.com/users/6043564/sampath"}, "edited": false, "score": 0, "creation_date": 1458691008, "post_id": 36166361, "comment_id": 59972084, "body": "@Sampath  Note: your input has <code>[&#39;pol1, pol2, pol3&#39;]</code>, as one string.  If these are meant to be three string in an anonumous array, <code>[&#39;pol1&#39;, &#39;pol2&#39;, &#39;pol3&#39;]</code> then rewrite them.  The solution will then assemble that as <code>pol1,pol2,pol3</code> (no spaces)."}, {"owner": {"reputation": 53041, "user_id": 4653379, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/b3953dbedd0dabff5cbc3db9b0835b14?s=128&d=identicon&r=PG&f=1", "display_name": "zdim", "link": "https://stackoverflow.com/users/4653379/zdim"}, "reply_to_user": {"reputation": 23, "user_id": 6043564, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/3e7592282d2e8bb3019d2ae0536b3494?s=128&d=identicon&r=PG&f=1", "display_name": "Sampath", "link": "https://stackoverflow.com/users/6043564/sampath"}, "edited": false, "score": 0, "creation_date": 1458692023, "post_id": 36166361, "comment_id": 59972423, "body": "@Sampath  I would say, instead of &quot;<i>Expected output</i>&quot;, something like &#39;I want to build a hash with keys being <code>id</code> and values being array references, with such-and-such in them&#39;.  And then in that be careful to quote those strings, <code>&#39;Name1&#39;</code>, <code>&#39;mod1(pol1)&#39;</code>, etc.  So you can keep what you put there for &quot;Expected output&quot;, just make it correct Perl (by quoting all those strings).  It goes without saying that those are really variables, but at least your post has correct Perl. Otherwise it&#39;s good, and great that you provided your work.  [Btw: what is <code>slurp</code>?]"}, {"owner": {"reputation": 23, "user_id": 6043564, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/3e7592282d2e8bb3019d2ae0536b3494?s=128&d=identicon&r=PG&f=1", "display_name": "Sampath", "link": "https://stackoverflow.com/users/6043564/sampath"}, "edited": false, "score": 0, "creation_date": 1458692939, "post_id": 36166361, "comment_id": 59972696, "body": "excellent, its worked like a charm.  awesome solution, you made my day.  I will work on this to fit my solution by creating a function so that I can re-use this. Also I will customize little to have the output in array format so that I can adding few more details to output.   Once again thank you very much.  I will get back to you in case I come across  any issues"}, {"owner": {"reputation": 23, "user_id": 6043564, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/3e7592282d2e8bb3019d2ae0536b3494?s=128&d=identicon&r=PG&f=1", "display_name": "Sampath", "link": "https://stackoverflow.com/users/6043564/sampath"}, "edited": false, "score": 0, "creation_date": 1458693566, "post_id": 36166361, "comment_id": 59972882, "body": "Zdim, Thanks for correction, sure I will make a note of it. I just tried to use Deep::Hash::Utils for iterating over nested hashes and this package used slurp to return hash reference."}, {"owner": {"reputation": 53041, "user_id": 4653379, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/b3953dbedd0dabff5cbc3db9b0835b14?s=128&d=identicon&r=PG&f=1", "display_name": "zdim", "link": "https://stackoverflow.com/users/4653379/zdim"}, "reply_to_user": {"reputation": 23, "user_id": 6043564, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/3e7592282d2e8bb3019d2ae0536b3494?s=128&d=identicon&r=PG&f=1", "display_name": "Sampath", "link": "https://stackoverflow.com/users/6043564/sampath"}, "edited": false, "score": 0, "creation_date": 1458698113, "post_id": 36166361, "comment_id": 59974106, "body": "@Sampath  OK, good. You should explore modules. Then you include that in the post, the <code>use</code> line. Let me know if there are further questions.  Complex data structures are needed, of course, and this is good to play with.  However, if you find yourself descending too far into nesting levels it may (or may not) be a sign that the algorithm should be changed."}, {"owner": {"reputation": 53041, "user_id": 4653379, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/b3953dbedd0dabff5cbc3db9b0835b14?s=128&d=identicon&r=PG&f=1", "display_name": "zdim", "link": "https://stackoverflow.com/users/4653379/zdim"}, "reply_to_user": {"reputation": 23, "user_id": 6043564, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/3e7592282d2e8bb3019d2ae0536b3494?s=128&d=identicon&r=PG&f=1", "display_name": "Sampath", "link": "https://stackoverflow.com/users/6043564/sampath"}, "edited": false, "score": 0, "creation_date": 1458698451, "post_id": 36166361, "comment_id": 59974196, "body": "@Sampath  If this solved your problem, it is customary to <a href=\"http://stackoverflow.com/help/someone-answers\">mark the answer</a> accordingly.   See the link.  And please let me know if more questions on this come up."}], "tags": [], "owner": {"reputation": 53041, "user_id": 4653379, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/b3953dbedd0dabff5cbc3db9b0835b14?s=128&d=identicon&r=PG&f=1", "display_name": "zdim", "link": "https://stackoverflow.com/users/4653379/zdim"}, "is_accepted": true, "score": 1, "last_activity_date": 1458761314, "last_edit_date": 1458761314, "creation_date": 1458685329, "answer_id": 36166361, "question_id": 36164467, "link": "https://stackoverflow.com/questions/36164467/perl-hash-of-hashes-for-eacy-key-group-inner-keys-and-respective-values/36166361#36166361", "title": "perl hash of hashes - for eacy key group inner keys and respective values", "body": "<p>With such a nested structure you want to go systematically, like in your \"<em>Code2</em>\".</p>\n\n<pre><code>use warnings;\nuse strict;\nuse feature qw(say);\n\nmy %id_list = ( \n    ID1 =&gt; { \n        Name1 =&gt; {'Address1' =&gt; {'Mod1' =&gt; ['pol1']}}, \n        Name2 =&gt; {'Address1' =&gt; {'Mod2' =&gt; ['pol2']}}\n    },  \n    ID2 =&gt; { 'Name3' =&gt; {'Address3' =&gt; {'Mod3' =&gt; ['pol3']}} },\n    ID3 =&gt; { 'Name4' =&gt; {'Address4' =&gt; {'Mod4' =&gt; ['pol1, pol2, pol3']}} }\n);\n\nmy (%flattened, @ar, $modvals);\nforeach my $id (sort keys %id_list){\n    foreach my $name (keys %{$id_list{$id} }) {\n        foreach my $address (keys %{$id_list{$id}{$name}}) {\n            foreach my $mod (keys %{$id_list{$id}{$name}{$address}}) {\n                $modvals = \"$mod(\" . \n                    join(',', @{$id_list{$id}{$name}{$address}{$mod}})\n                    . ')';\n                $modvals =~ s/,$//; # strip the last comma\n                push @ar, $name, $address, $modvals;\n            }   \n        }   \n    }\n    $flattened{$id} = [ @ar ];\n    @ar = ();\n}\n\nsay \"$_ =&gt; @{$h{$_}}\" for sort keys %flattened;\n</code></pre>\n\n<p>Output</p>\n\n<pre>\nID1 => Name1 Address1 Mod1(pol1) Name2 Address1 Mod2(pol2)\nID2 => Name3 Address3 Mod3(pol3)\nID3 => Name4 Address4 Mod4(pol1, pol2, pol3)\n</pre>\n\n<p>This generates the string for <code>mod3</code> as <code>(pol1, ...)</code> -- as given in input, as a <em>single</em> string.  If that is chaged to a list of <code>pol</code> in input, the spaces between <code>pol</code>'s will be gone in output. </p>\n\n<p>A hash with <code>id</code> keys and array ref with respective entries is generated.</p>\n"}], "owner": {"reputation": 23, "user_id": 6043564, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/3e7592282d2e8bb3019d2ae0536b3494?s=128&d=identicon&r=PG&f=1", "display_name": "Sampath", "link": "https://stackoverflow.com/users/6043564/sampath"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 401, "favorite_count": 0, "accepted_answer_id": 36166361, "answer_count": 1, "score": 2, "last_activity_date": 1458761314, "creation_date": 1458678251, "last_edit_date": 1458714535, "question_id": 36164467, "link": "https://stackoverflow.com/questions/36164467/perl-hash-of-hashes-for-eacy-key-group-inner-keys-and-respective-values", "title": "perl hash of hashes - for eacy key group inner keys and respective values", "body": "<p>I have a hash of hashes retrieved from json and I am trying to flatten hash, group and print values. That is, for each key1 group all keys and respective values.Trying to achieve this in perl using below code but, it is printing individual values each ID and names but not grouped values. Could you please help me how to group and print keys and values.  </p>\n\n<p>Data: </p>\n\n<pre><code>VAR1= {\n        'ID1' =&gt; {'Name1' =&gt; {'Address1' =&gt; {'Mod1' =&gt; ['pol1']}},\n                  Name2' =&gt; {'Address1' =&gt; {'Mod2' =&gt; ['pol2']}}},\n        'ID2' =&gt; {'Name3' =&gt; {'Address3' =&gt; {'Mod3' =&gt; ['pol3']}}},\n        'ID3' =&gt; {'Name4' =&gt; {'Address4' =&gt; {'Mod4' =&gt; ['pol1, pol2, pol3']}}}\n}\n</code></pre>\n\n<p>Expected Output:</p>\n\n<pre><code>ID1 =&gt; [Name1,Address1,mod1(pol1), Name2,Address1,mod2(pol2)],\nID2 =&gt; [Name3,Address3,mod3(pol3)],\nID3 =&gt; [Name4,Address4,mod4(pol1,pol2,pol3)]\n</code></pre>\n\n<p>Code1:</p>\n\n<pre><code>for my $id (@id_list) {\n     foreach my $item (sort (slurp(\\%{$new{$id}}))) {\n     my $data = join(',', @$item);\n     print \"data..  $data\\n\";\n     push(@results,$data);\n  } \n}\n\nprint map {\"$_\"}  @results;\n</code></pre>\n\n<p>Code2:</p>\n\n<pre><code>foreach my $id (sort keys %new){\n   foreach my $name (keys %{$new{$id} }) {\n      foreach my $address (keys %{$new{$id}{$name}}) {\n         foreach my $mod (keys %{$new{$id}{$name}{$address}) {\n            foreach my $value (@{$new{$id}{$name}{$address}{$mod}}) {\n               my $sp = \":\";\n               my $reasons = join(',',$id,$name,$address,$mod,$value.$sp);\n               push (@rea, $reasons);\n            }\n         }\n      }\n   }\n}\n</code></pre>\n"}, {"tags": ["regex", "bash", "perl", "command-line", "sed"], "answers": [{"tags": [], "owner": {"reputation": 57412, "user_id": 236465, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/IoAkG.jpg?s=128&g=1", "display_name": "Diego Torres Milano", "link": "https://stackoverflow.com/users/236465/diego-torres-milano"}, "is_accepted": false, "score": 0, "last_activity_date": 1458675049, "last_edit_date": 1458675049, "creation_date": 1458674646, "answer_id": 36163374, "question_id": 36163158, "link": "https://stackoverflow.com/questions/36163158/extract-section-of-file-to-a-variable-from-within-a-shell-script/36163374#36163374", "title": "Extract section of file to a variable, from within a shell script", "body": "<p>You can use <code>awk</code> ranges:</p>\n\n<pre><code>awk '/^## Heading 2/,/^## Heading [^2]/ {if (!/^## Heading 2/&amp;&amp;!/^## Heading [^2]/) { print}}'\n</code></pre>\n\n<p>or with variables</p>\n\n<pre><code>awk '/s/,/e/ {if ($0 !~ s &amp;&amp; $0 !~ e) { print}}' s='^## Heading 2' e='^## Heading [^2]'\n</code></pre>\n"}, {"tags": [], "owner": {"reputation": 658023, "user_id": 548225, "user_type": "registered", "accept_rate": 90, "profile_image": "https://www.gravatar.com/avatar/dab08478b226280d4a30894c9a7ed719?s=128&d=identicon&r=PG", "display_name": "anubhava", "link": "https://stackoverflow.com/users/548225/anubhava"}, "is_accepted": false, "score": 1, "last_activity_date": 1458674764, "creation_date": 1458674764, "answer_id": 36163408, "question_id": 36163158, "link": "https://stackoverflow.com/questions/36163158/extract-section-of-file-to-a-variable-from-within-a-shell-script/36163408#36163408", "title": "Extract section of file to a variable, from within a shell script", "body": "<p>Using <code>sed</code>:</p>\n\n<pre><code>head2=\"$(sed -n '/## Heading 2/,/## Heading 3/{s/^## Heading .*//;p;}' file)\"\n\necho \"$head2\"\n\n\n* List item 1\n* List item 2\n</code></pre>\n\n<p>Using <code>perl</code>:</p>\n\n<pre><code>head2=\"$(perl -0pe 's/(?s).*## Heading 2\\s*(.*)\\s*## Heading 3.*/\\1/' file)\"\n\necho \"$head2\"\n* List item 1\n* List item 2\n</code></pre>\n\n<p>You can also install <strong>gnu</strong> <code>grep</code> using <code>home brew</code> and use this regex:</p>\n\n<pre><code>head2=\"$(grep -zoP '## Heading 2\\s*\\K[\\s\\S]*(?=\\s*## Heading 3)' file)\"\n</code></pre>\n"}, {"comments": [{"owner": {"reputation": 13943, "user_id": 105717, "user_type": "registered", "accept_rate": 75, "profile_image": "https://www.gravatar.com/avatar/a1a4723f0bcd9ea701a6a0f2e24075b4?s=128&d=identicon&r=PG", "display_name": "Dov", "link": "https://stackoverflow.com/users/105717/dov"}, "edited": false, "score": 0, "creation_date": 1458675139, "post_id": 36163465, "comment_id": 59964215, "body": "Thanks, that works - how would I read &quot;Heading 2&quot; as an argument to the bash script? I tried replacing it with <code>$1</code>, but I got no output."}, {"owner": {"reputation": 589595, "user_id": 1491895, "user_type": "registered", "accept_rate": 69, "profile_image": "https://www.gravatar.com/avatar/82f9e178a16364bf561d0ed4da09a35d?s=128&d=identicon&r=PG", "display_name": "Barmar", "link": "https://stackoverflow.com/users/1491895/barmar"}, "reply_to_user": {"reputation": 13943, "user_id": 105717, "user_type": "registered", "accept_rate": 75, "profile_image": "https://www.gravatar.com/avatar/a1a4723f0bcd9ea701a6a0f2e24075b4?s=128&d=identicon&r=PG", "display_name": "Dov", "link": "https://stackoverflow.com/users/105717/dov"}, "edited": false, "score": 1, "creation_date": 1458675205, "post_id": 36163465, "comment_id": 59964259, "body": "@Dov Variables are expanded inside double-quoted strings, not single-quoted strings."}, {"owner": {"reputation": 13943, "user_id": 105717, "user_type": "registered", "accept_rate": 75, "profile_image": "https://www.gravatar.com/avatar/a1a4723f0bcd9ea701a6a0f2e24075b4?s=128&d=identicon&r=PG", "display_name": "Dov", "link": "https://stackoverflow.com/users/105717/dov"}, "edited": false, "score": 0, "creation_date": 1458679307, "post_id": 36163465, "comment_id": 59966781, "body": "I need to make some adjustments - would you be able to give a breakdown of what each part of your <code>sed</code> expression is doing?"}], "tags": [], "owner": {"reputation": 14395, "user_id": 1344961, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/0b7ad173373ce2a48950108f5adc4b6d?s=128&d=identicon&r=PG", "display_name": "SLePort", "link": "https://stackoverflow.com/users/1344961/sleport"}, "is_accepted": true, "score": 1, "last_activity_date": 1458717151, "last_edit_date": 1458717151, "creation_date": 1458674946, "answer_id": 36163465, "question_id": 36163158, "link": "https://stackoverflow.com/questions/36163158/extract-section-of-file-to-a-variable-from-within-a-shell-script/36163465#36163465", "title": "Extract section of file to a variable, from within a shell script", "body": "<p>With sed :</p>\n\n<pre><code>$ myvar=$(sed \"/^## $1$/,/^## Heading/!d;//d;/^$/d\" file)\n$ echo \"$myvar\"\n* List item 1\n* List item 2\n</code></pre>\n\n<p>You can remove <code>/^$/d</code> if you want to preserve blank lines.</p>\n\n<p><strong>Update :</strong></p>\n\n<p>I've replaced single quotes with double quotes to allow shell expansion.</p>\n\n<p>You can call it with <code>./scriptname.sh \"Heading 2\"</code>.</p>\n\n<p>Some explanations :</p>\n\n<ul>\n<li><code>/^## $1$/,/^## Heading/</code> applies subsequent commands to lines matching the first pattern up to next line containing the second pattern.</li>\n<li><code>!d</code> deletes all lines except those corresponding to the range.</li>\n<li><code>//d</code> matches the same pattern as the address(es) and removes it.</li>\n</ul>\n"}], "owner": {"reputation": 13943, "user_id": 105717, "user_type": "registered", "accept_rate": 75, "profile_image": "https://www.gravatar.com/avatar/a1a4723f0bcd9ea701a6a0f2e24075b4?s=128&d=identicon&r=PG", "display_name": "Dov", "link": "https://stackoverflow.com/users/105717/dov"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 387, "favorite_count": 0, "accepted_answer_id": 36163465, "answer_count": 3, "score": 1, "last_activity_date": 1458717151, "creation_date": 1458673860, "last_edit_date": 1458674972, "question_id": 36163158, "link": "https://stackoverflow.com/questions/36163158/extract-section-of-file-to-a-variable-from-within-a-shell-script", "title": "Extract section of file to a variable, from within a shell script", "body": "<p>I'm writing a script intended to run under bash in OS X. I have Markdown files that look like this:</p>\n\n\n\n<pre class=\"lang-none prettyprint-override\"><code># File name\n\n## Heading 1\n\nSome text\n\n\n## Heading 2\n\n* List item 1\n* List item 2\n\n\n## Some other section\n...\n</code></pre>\n\n<p>I'm trying to read everything inside <code>Heading 2</code> into a variable, and I've tried using <code>sed</code>, <code>grep</code>, and <code>perl</code>, but can't get a working solution. Of those tools, it looked to (in theory) be possible and easiest with Perl, especially given that I need multiple lines. It looks like this regex works (at least with javascript syntax):</p>\n\n<pre class=\"lang-none prettyprint-override\"><code>## Heading 2\\s+(.+)\\s+\n</code></pre>\n\n<p>I'd like to keep it a one-liner, and stick to only tools available on stock OS X (El Capitan, 10.11). Assume I only know \"Heading 2\" up front, not the following header caption.</p>\n"}, {"tags": ["regex", "perl", "posix"], "comments": [{"owner": {"reputation": 5886, "user_id": 2019415, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/645958eb08719fa5119052d7d1d079ff?s=128&d=identicon&r=PG", "display_name": "G. Cito", "link": "https://stackoverflow.com/users/2019415/g-cito"}, "edited": false, "score": 0, "creation_date": 1458672982, "post_id": 36162764, "comment_id": 59962912, "body": "Then there&#39;s <code>if &#47;\\A\\Z&#47; </code> and <code>if &#47;\\A\\z&#47; </code> ... which are pretty consistent across different languages <a href=\"http://stackoverflow.com/questions/7063420/perl-compatible-regular-expression-pcre-in-python\">except python but that&#39;s OK</a>."}, {"owner": {"reputation": 5886, "user_id": 2019415, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/645958eb08719fa5119052d7d1d079ff?s=128&d=identicon&r=PG", "display_name": "G. Cito", "link": "https://stackoverflow.com/users/2019415/g-cito"}, "edited": false, "score": 0, "creation_date": 1458673673, "post_id": 36162764, "comment_id": 59963343, "body": "<code>This is perl 5, version 22, subversion 0 (v5.22.0) built for amd64-freebsd</code>"}, {"owner": {"reputation": 21782, "user_id": 176646, "user_type": "registered", "accept_rate": 88, "profile_image": "https://i.stack.imgur.com/HsQyV.png?s=128&g=1", "display_name": "ThisSuitIsBlackNot", "link": "https://stackoverflow.com/users/176646/thissuitisblacknot"}, "edited": false, "score": 1, "creation_date": 1458675065, "post_id": 36162764, "comment_id": 59964167, "body": "Not related to your core question, but <code>my $string = &quot;\\n&quot;, &quot;foo\\n\\n&quot;</code> assigns a single newline to <code>$string</code>. The rest is thrown away because of the comma operator."}, {"owner": {"reputation": 123805, "user_id": 622310, "user_type": "registered", "accept_rate": 33, "profile_image": "https://www.gravatar.com/avatar/8b6d35219e1808520bc238b28161e2e6?s=128&d=identicon&r=PG", "display_name": "Borodin", "link": "https://stackoverflow.com/users/622310/borodin"}, "edited": false, "score": 1, "creation_date": 1458675674, "post_id": 36162764, "comment_id": 59964518, "body": "I addressed this at length in <a href=\"http://stackoverflow.com/questions/36128040/extract-and-filter-a-range-of-lines-from-the-input-using-perl/36129515?noredirect=1#comment59963005_36129515\">my answer to your recent comment</a> I won&#39;t write it up again to match your newly-phrased question. The only delinquent in the patterns you have used is <code>$</code>, which will match the end of a string or before the newline of it is the last character. <code>\\p{IsBlank}</code>, <code>[[:blank:]]</code> are simple character classes and you can check what they do from <a href=\"http://perldoc.perl.org/perluniprops.html\" rel=\"nofollow noreferrer\">perldoc perluniprops</a>"}, {"owner": {"reputation": 5886, "user_id": 2019415, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/645958eb08719fa5119052d7d1d079ff?s=128&d=identicon&r=PG", "display_name": "G. Cito", "link": "https://stackoverflow.com/users/2019415/g-cito"}, "reply_to_user": {"reputation": 123805, "user_id": 622310, "user_type": "registered", "accept_rate": 33, "profile_image": "https://www.gravatar.com/avatar/8b6d35219e1808520bc238b28161e2e6?s=128&d=identicon&r=PG", "display_name": "Borodin", "link": "https://stackoverflow.com/users/622310/borodin"}, "edited": false, "score": 0, "creation_date": 1458695564, "post_id": 36162764, "comment_id": 59973429, "body": "@Borodin - thanks.  I&#39;m trying to get straightened out about the character classes from the charts in <a href=\"http://perldoc.perl.org/perlrecharclass.html\" rel=\"nofollow noreferrer\"><code>perlrecharclass</code></a> by lining them up with well their known perl equivalents (such as <code>&#47;\\S&#47;</code>) and/or related &quot;idioms&quot;. I was getting results I couldn&#39;t explain: specifically how <code>\\v</code>, \\s&#39; and <code>\\h</code> interact with  <code>\\n</code> and <code>&quot; &quot;</code>. I think I have it figured out now and will add a separate answer if one doesn&#39;t appear."}, {"owner": {"reputation": 5886, "user_id": 2019415, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/645958eb08719fa5119052d7d1d079ff?s=128&d=identicon&r=PG", "display_name": "G. Cito", "link": "https://stackoverflow.com/users/2019415/g-cito"}, "edited": false, "score": 0, "creation_date": 1499967186, "post_id": 36162764, "comment_id": 77147296, "body": "@thissuitisnotblack typo ... I think.  Still not sure if correction illustrates the need to approach non-emptiness carefully &#224; la borodin"}, {"owner": {"reputation": 5886, "user_id": 2019415, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/645958eb08719fa5119052d7d1d079ff?s=128&d=identicon&r=PG", "display_name": "G. Cito", "link": "https://stackoverflow.com/users/2019415/g-cito"}, "reply_to_user": {"reputation": 123805, "user_id": 622310, "user_type": "registered", "accept_rate": 33, "profile_image": "https://www.gravatar.com/avatar/8b6d35219e1808520bc238b28161e2e6?s=128&d=identicon&r=PG", "display_name": "Borodin", "link": "https://stackoverflow.com/users/622310/borodin"}, "edited": false, "score": 0, "creation_date": 1499967202, "post_id": 36162764, "comment_id": 77147301, "body": "<i>i.e.</i> carefully &#224; la @borodin"}, {"owner": {"reputation": 123805, "user_id": 622310, "user_type": "registered", "accept_rate": 33, "profile_image": "https://www.gravatar.com/avatar/8b6d35219e1808520bc238b28161e2e6?s=128&d=identicon&r=PG", "display_name": "Borodin", "link": "https://stackoverflow.com/users/622310/borodin"}, "edited": false, "score": 0, "creation_date": 1499967795, "post_id": 36162764, "comment_id": 77147665, "body": "@G.Cito: I don&#39;t understand what issue you have. Your main mistake is to expect any character class to identify whether a line is &quot;empty&quot; or &quot;blank&quot;. I suggest you open anew question."}], "answers": [{"comments": [{"owner": {"reputation": 5886, "user_id": 2019415, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/645958eb08719fa5119052d7d1d079ff?s=128&d=identicon&r=PG", "display_name": "G. Cito", "link": "https://stackoverflow.com/users/2019415/g-cito"}, "edited": false, "score": 0, "creation_date": 1458696108, "post_id": 36163771, "comment_id": 59973579, "body": "Thanks, beginning to grok ... since <code>$nonblank++ if &#47;\\P{IsBlank}&#47;</code> (without the anchors) gives me &quot;8&quot; (<code>__DATA__</code> has 8 lines) I assume it is counting <code>\\n</code> as non-<code>{IsBlank}</code> (due to <code>\\P</code>) and thus is seeing 8 matches. Then, as <code>&#47;^\\P{IsBlank}$&#47;</code>, incrementing is based on the three lines of single non-blank horizontal characters (<code>\\n</code>) so I get &quot;3&quot;.  However <code>&#47;\\p{IsBlank}</code> gives me a count of &quot;5&quot; because there are five rows with <code>\\s</code> style horizontal &quot;blank characters&quot;: the four with text (and whitespace between words), and line number 5 which consists of <code>&quot; &quot;\\n</code> appearing as an empty row."}], "tags": [], "owner": {"reputation": 320771, "user_id": 589924, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/b2cf53d5a3d25f95c0db4e025aed4153?s=128&d=identicon&r=PG", "display_name": "ikegami", "link": "https://stackoverflow.com/users/589924/ikegami"}, "is_accepted": true, "score": 2, "last_activity_date": 1458676241, "last_edit_date": 1458676241, "creation_date": 1458675922, "answer_id": 36163771, "question_id": 36162764, "link": "https://stackoverflow.com/questions/36162764/differences-between-empty-and-blank-lines-in-regexps/36163771#36163771", "title": "Differences between empty and blank lines in regexps", "body": "<p><code>/\\p{IsBlank}/</code> doesn't check for a empty string. <code>\\p</code> matches a character that has the specified Unicode property.</p>\n\n<pre><code>$ unichars '\\p{IsBlank}' | cat\n ---- U+0009 CHARACTER TABULATION\n ---- U+0020 SPACE\n ---- U+00A0 NO-BREAK SPACE\n ---- U+1680 OGHAM SPACE MARK\n ---- U+2000 EN QUAD\n ---- U+2001 EM QUAD\n ---- U+2002 EN SPACE\n ---- U+2003 EM SPACE\n ---- U+2004 THREE-PER-EM SPACE\n ---- U+2005 FOUR-PER-EM SPACE\n ---- U+2006 SIX-PER-EM SPACE\n ---- U+2007 FIGURE SPACE\n ---- U+2008 PUNCTUATION SPACE\n ---- U+2009 THIN SPACE\n ---- U+200A HAIR SPACE\n ---- U+202F NARROW NO-BREAK SPACE\n ---- U+205F MEDIUM MATHEMATICAL SPACE\n ---- U+3000 IDEOGRAPHIC SPACE\n</code></pre>\n\n<p>It matches <code>\" \\n\"</code> since SPACE has the IsBlank property.</p>\n\n<hr>\n\n<p><code>/[[:blank:]]/</code> doesn't check for a empty string. <code>[...]</code> matches a character that is a member of the specified class.</p>\n\n<pre><code>$ unichars '[[:blank:]]' | cat\n ---- U+0009 CHARACTER TABULATION\n ---- U+0020 SPACE\n ---- U+00A0 NO-BREAK SPACE\n ---- U+1680 OGHAM SPACE MARK\n ---- U+2000 EN QUAD\n ---- U+2001 EM QUAD\n ---- U+2002 EN SPACE\n ---- U+2003 EM SPACE\n ---- U+2004 THREE-PER-EM SPACE\n ---- U+2005 FOUR-PER-EM SPACE\n ---- U+2006 SIX-PER-EM SPACE\n ---- U+2007 FIGURE SPACE\n ---- U+2008 PUNCTUATION SPACE\n ---- U+2009 THIN SPACE\n ---- U+200A HAIR SPACE\n ---- U+202F NARROW NO-BREAK SPACE\n ---- U+205F MEDIUM MATHEMATICAL SPACE\n ---- U+3000 IDEOGRAPHIC SPACE\n</code></pre>\n\n<p>It matches <code>\" \\n\"</code> since SPACE is a member of the <code>[:blank:]</code> POSIX character class and thus a member of the <code>[[:blank:]]</code> character class.</p>\n"}], "owner": {"reputation": 5886, "user_id": 2019415, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/645958eb08719fa5119052d7d1d079ff?s=128&d=identicon&r=PG", "display_name": "G. Cito", "link": "https://stackoverflow.com/users/2019415/g-cito"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 165, "favorite_count": 2, "accepted_answer_id": 36163771, "answer_count": 1, "score": 1, "last_activity_date": 1499967039, "creation_date": 1458672521, "last_edit_date": 1499967039, "question_id": 36162764, "link": "https://stackoverflow.com/questions/36162764/differences-between-empty-and-blank-lines-in-regexps", "title": "Differences between empty and blank lines in regexps", "body": "<p>There are already several <a href=\"https://stackoverflow.com/questions/19127384/what-is-a-regex-to-match-only-an-empty-string/36161782#36161782\">good discussions</a> of <a href=\"https://stackoverflow.com/questions/17618634/matching-an-empty-string-with-regex\">regular expressions and empty lines</a> on SO. I'll remove this question if it is a duplicate.</p>\n\n<p>Can anyone explain why this script outputs <code>5 3 4 5 4 3</code> instead of <code>4 3 4 4 4 3</code>? When I run it in the debugger <code>$blank</code> and <code>$classyblank</code> stay at \"4\" (which I assume is the correct value) until the just before the print statement.</p>\n\n<pre><code>my ( $blank, $nonblank, $non_nonblank, \n     $classyblank,  $classyspace, $blanketyblank ) = 0 ;\n\nwhile (&lt;DATA&gt;) {\n\n  $blank++ if /\\p{IsBlank}/         ; # POSIXly blank - 4?\n  $nonblank++ if /^\\P{IsBlank}$/    ; # POSIXly non-blank - 3\n  $non_nonblank++ if not /\\S/       ; # perlishly not non-blank - 4\n  $classyblank++ if /[[:blank:]]/   ; # older(?) charclass blankness - 4?\n  $classyspace++ if /^[[:space:]]$/ ; # older(?) charclass whitespace - 4\n  $blanketyblank++ if /^$/          ; # perlishly *really empty*  - 3\n\n}\n\nprint join \" \", $blank, $nonblank, $non_nonblank,\n            $classyblank, $classyspace, $blanketyblank , \"\\n\" ;\n\n__DATA__\n\nline above only has a linefeed this one is not blank because: words\n\nthis line is followed by a line with white space (you may need to add it)\n\nthen another blank line following this one\n\nTHE END :-\\\n</code></pre>\n\n<p>Is it something to do with the <code>__DATA__</code> section or am I misunderstanding POSIX regular expressions?</p>\n\n<hr>\n\n<p><strong>ps:</strong></p>\n\n<p>As noted in  comment on a timely post <a href=\"https://stackoverflow.com/a/36129515/2019415\">elsewhere</a>, \"really empty\" (<code>/^$/</code>) can miss non-emptiness: </p>\n\n<pre><code>perl -E 'my $string = \"\\n\" . \"foo\\n\\n\" ; say \"empty\" if $string =~ /^$/ ;'\nperl -E 'my $string = \"\\n\" . \"bar\\n\\n\" ; say \"empty\" if $string =~ /\\A\\z/ ;'\nperl -E 'my $string = \"\\n\" . \"baz\\n\\n\" ; say \"empty\" if $string =~ /\\S/ ;' \n</code></pre>\n"}, {"tags": ["perl", "debugging", "soap"], "comments": [{"owner": {"reputation": 6592, "user_id": 3005251, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/a5331f7e467aae3d581fe8bc814ef572?s=128&d=identicon&r=PG", "display_name": "bolav", "link": "https://stackoverflow.com/users/3005251/bolav"}, "edited": false, "score": 0, "creation_date": 1458829063, "post_id": 36162437, "comment_id": 60038060, "body": "The bless construct is a xs binding in perl. It&#39;s perfectly normal when dumping objects that are not perl objects. Did you try to get the data from $r-&gt;read and to create the request?"}, {"owner": {"reputation": 194, "user_id": 1700499, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/a6dd377fb3329a736f008b24e5a0ad4b?s=128&d=identicon&r=PG", "display_name": "martinw", "link": "https://stackoverflow.com/users/1700499/martinw"}, "edited": false, "score": 0, "creation_date": 1614585389, "post_id": 36162437, "comment_id": 117419707, "body": "I know this is old but did you find a solution to the problem? I would be very interested, I am also migrating some very old stuff to a new platform."}], "answers": [{"comments": [{"owner": {"reputation": 73, "user_id": 3397312, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/c9d60760c8ab00ecd7c040a1ddaf7b6e?s=128&d=identicon&r=PG", "display_name": "Pyromancer", "link": "https://stackoverflow.com/users/3397312/pyromancer"}, "edited": false, "score": 0, "creation_date": 1458818751, "post_id": 36195431, "comment_id": 60031362, "body": "Thanks for that!  This will have to be in several sections:  It didn&#39;t seem to like that <code>my $data = do{}</code> section, so I went with this:      use Data::Dumper;     my ($data);     open (L1, &quot;&gt;&gt;/tmp/testlog1.txt&quot;);     print L1 &quot;Starting to dump data...\\n&quot;;     my $method = $r-&gt;method();     print L1 &quot;Dumping \\$r\\n&quot; . Dumper($r);     print L1 &quot;Dumping \\$method\\n&quot; . Dumper($method);     my $uri = $r-&gt;uri;     print L1 &quot;\\$method = $method =&gt; $uri\\n&quot;;     my $headers = HTTP::Headers-&gt;new($r-&gt;headers_in);     print L1 &quot;Dumping headers\\n&quot; . Dumper($headers);  Which produced the output below."}, {"owner": {"reputation": 73, "user_id": 3397312, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/c9d60760c8ab00ecd7c040a1ddaf7b6e?s=128&d=identicon&r=PG", "display_name": "Pyromancer", "link": "https://stackoverflow.com/users/3397312/pyromancer"}, "edited": false, "score": 0, "creation_date": 1458819101, "post_id": 36195431, "comment_id": 60031579, "body": "Ignore above, it won&#39;t let me format it sensibly and now won&#39;t allow edits.  Will include response in original question.  Sorry!"}], "tags": [], "owner": {"reputation": 6592, "user_id": 3005251, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/a5331f7e467aae3d581fe8bc814ef572?s=128&d=identicon&r=PG", "display_name": "bolav", "link": "https://stackoverflow.com/users/3005251/bolav"}, "is_accepted": false, "score": 1, "last_activity_date": 1458859134, "last_edit_date": 1458859134, "creation_date": 1458806046, "answer_id": 36195431, "question_id": 36162437, "link": "https://stackoverflow.com/questions/36162437/what-is-the-best-way-to-debug-illegal-field-name-in-a-perl-soap-module/36195431#36195431", "title": "What is the best way to debug &#39;Illegal field name&#39; in a Perl SOAP module?", "body": "<p>To debug this further try to debug what values you are sending to <code>$self-&gt;request</code>, and what command is actually causing the error.</p>\n\n<p>I would try something like this (replacing the <code>$self-&gt;request</code> statement):</p>\n\n<pre><code>use Data::Dumper;\nmy $method = $r-&gt;method();\nmy $uri = $r-&gt;uri;\nwarn \"$method =&gt; $uri\";\nmy $headers = HTTP::Headers-&gt;new($r-&gt;headers_in);\nwarn Dumper($headers);\nmy $data; \n{ \n    my ($buf); \n    while ($r-&gt;read($buf,$cl)) { $data.=$buf; } \n}\nwarn \"data: $data\";\n\nmy $req = HTTP::Request-&gt;new(\n  $method =&gt; $uri,\n  $headers,\n  $data\n);\nwarn Dumper($req);\n\n$self-&gt;request($req);\n</code></pre>\n"}], "owner": {"reputation": 73, "user_id": 3397312, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/c9d60760c8ab00ecd7c040a1ddaf7b6e?s=128&d=identicon&r=PG", "display_name": "Pyromancer", "link": "https://stackoverflow.com/users/3397312/pyromancer"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 914, "favorite_count": 0, "answer_count": 1, "score": 2, "last_activity_date": 1458859134, "creation_date": 1458671516, "last_edit_date": 1458819238, "question_id": 36162437, "link": "https://stackoverflow.com/questions/36162437/what-is-the-best-way-to-debug-illegal-field-name-in-a-perl-soap-module", "title": "What is the best way to debug &#39;Illegal field name&#39; in a Perl SOAP module?", "body": "<p>I am attempting top virtualise an old system for a client.  This uses SOAP to pass data from the front end to the back end and back again.  All the code has been copied across and the relevant Perl modules installed from CPAN.  Most of the front end system works however when a SOAP call is made the system crashes, with this error in the API logs:</p>\n\n<pre><code>Illegal field name 'APR::Table=HASH(0x7fe19a0c41e0)' at /usr/lib/perl5/site_perl/5.20.1/SOAP/Transport/HTTP2.pm line 103.\n</code></pre>\n\n<p>Looking at the module in question the section that is erroring is this one, with Line 103 being the <code>do {}</code> block:</p>\n\n<pre><code>  my $cl = ($self-&gt;{'MOD_PERL_VERSION'} == 1) ?\n    $r-&gt;header_in('Content-length') : $r-&gt;headers_in-&gt;{'Content-length'};\n  $self-&gt;request(HTTP::Request-&gt;new(\n    $r-&gt;method() =&gt; $r-&gt;uri,\n    HTTP::Headers-&gt;new($r-&gt;headers_in),\n    do { my ($c,$buf); while ($r-&gt;read($buf,$cl)) { $c.=$buf; } $c; }\n  ));\n  $self-&gt;SUPER::handle;\n</code></pre>\n\n<p>I struggle a bit with OO Perl (I think in procedural ways) but as far as I can tell it's building an object where the method is the URI and then constructing headers in the <code>do{}</code> loop, appending them to <code>$c</code> and finally adding <code>$c</code> to the object.  I'm assuming it doesn't like one or more of the field names that the loop is returning, but when I tried to add debug to print the <code>$buf</code> variable to a file in /tmp as it looped it didn't generate any output.</p>\n\n<p>In attempting to resolve this I came across this advice (though this relates to Transport::HTTP not the Transport::HTTP2 we are using): <a href=\"https://www.tnpi.net/support/forums/index.php?topic=1037.0\" rel=\"nofollow\">https://www.tnpi.net/support/forums/index.php?topic=1037.0</a>  I've downgraded HTTP::Message to version 6.04, however the error remains.</p>\n\n<p>So I'm wondering a) how to get some debug output to see what the problem actually is, and b) any suggestions as to how to get it to work?</p>\n\n<p>Update 1 (responding to first reply):</p>\n\n<p>Thanks for that!  </p>\n\n<p>It didn't seem to like that <code>my $data = do{}</code> section, so I went with this:</p>\n\n<pre><code>use Data::Dumper;\nmy ($data);\nopen (L1, \"&gt;&gt;/tmp/testlog1.txt\");\nprint L1 \"Starting to dump data...\\n\";\nmy $method = $r-&gt;method();\nprint L1 \"Dumping \\$r\\n\" . Dumper($r);\nprint L1 \"Dumping \\$method\\n\" . Dumper($method);\nmy $uri = $r-&gt;uri;\nprint L1 \"\\$method = $method =&gt; $uri\\n\";\nmy $headers = HTTP::Headers-&gt;new($r-&gt;headers_in);\nprint L1 \"Dumping headers\\n\" . Dumper($headers);\n</code></pre>\n\n<p>Which produced the output below.</p>\n\n<pre><code>Starting to dump data...\nDumping $r\n$VAR1 = bless( do{\\(my $o = '140277572968608')}, 'Apache2::RequestRec' );\nDumping $method\n$VAR1 = 'POST';\n$method = POST =&gt; /\nDumping headers\n$VAR1 = bless( {}, 'HTTP::Headers' );\n</code></pre>\n\n<p>Should a variable really contain that \"bless\" construct?</p>\n"}, {"tags": ["json", "perl"], "comments": [{"owner": {"reputation": 21782, "user_id": 176646, "user_type": "registered", "accept_rate": 88, "profile_image": "https://i.stack.imgur.com/HsQyV.png?s=128&g=1", "display_name": "ThisSuitIsBlackNot", "link": "https://stackoverflow.com/users/176646/thissuitisblacknot"}, "edited": false, "score": 0, "creation_date": 1458670832, "post_id": 36162213, "comment_id": 59961602, "body": "JSON::PP::Boolean is just an object wrapping 0 (falsy in Perl) and 1 (truthy in Perl). Nothing is being corrupted."}, {"owner": {"reputation": 905, "user_id": 1188611, "user_type": "registered", "accept_rate": 26, "profile_image": "https://www.gravatar.com/avatar/67b60365e971b8b9cf5f0b901868bfd7?s=128&d=identicon&r=PG", "display_name": "user1188611", "link": "https://stackoverflow.com/users/1188611/user1188611"}, "reply_to_user": {"reputation": 21782, "user_id": 176646, "user_type": "registered", "accept_rate": 88, "profile_image": "https://i.stack.imgur.com/HsQyV.png?s=128&g=1", "display_name": "ThisSuitIsBlackNot", "link": "https://stackoverflow.com/users/176646/thissuitisblacknot"}, "edited": false, "score": 0, "creation_date": 1458670915, "post_id": 36162213, "comment_id": 59961641, "body": "Why i am seeing value like this                                                              &#39;isOK&#39; =&gt; bless( do{&#40;my $o = 0)}, &#39;JSON::PP::Boolean&#39; ), &#39;enabled&#39; =&gt; $VAR1-&gt;{&#39;entries&#39;}[0]{&#39;content&#39;}{&#39;isOK&#39;},"}, {"owner": {"reputation": 905, "user_id": 1188611, "user_type": "registered", "accept_rate": 26, "profile_image": "https://www.gravatar.com/avatar/67b60365e971b8b9cf5f0b901868bfd7?s=128&d=identicon&r=PG", "display_name": "user1188611", "link": "https://stackoverflow.com/users/1188611/user1188611"}, "reply_to_user": {"reputation": 21782, "user_id": 176646, "user_type": "registered", "accept_rate": 88, "profile_image": "https://i.stack.imgur.com/HsQyV.png?s=128&g=1", "display_name": "ThisSuitIsBlackNot", "link": "https://stackoverflow.com/users/176646/thissuitisblacknot"}, "edited": false, "score": 0, "creation_date": 1458670951, "post_id": 36162213, "comment_id": 59961667, "body": "Correct conversion should be like below                                                          &#39;isOK&#39; =&gt; false,  &#39;enabled&#39; =&gt; false,"}, {"owner": {"reputation": 21782, "user_id": 176646, "user_type": "registered", "accept_rate": 88, "profile_image": "https://i.stack.imgur.com/HsQyV.png?s=128&g=1", "display_name": "ThisSuitIsBlackNot", "link": "https://stackoverflow.com/users/176646/thissuitisblacknot"}, "edited": false, "score": 0, "creation_date": 1458671084, "post_id": 36162213, "comment_id": 59961748, "body": "Because the string <code>false</code> is truthy in Perl. JSON.pm creates a wrapper for boolean values so they mean the same thing in Perl as they do in the original JSON. See <a href=\"https://metacpan.org/pod/JSON#true-false\" rel=\"nofollow noreferrer\">metacpan.org/pod/JSON#true-false</a>"}, {"owner": {"reputation": 905, "user_id": 1188611, "user_type": "registered", "accept_rate": 26, "profile_image": "https://www.gravatar.com/avatar/67b60365e971b8b9cf5f0b901868bfd7?s=128&d=identicon&r=PG", "display_name": "user1188611", "link": "https://stackoverflow.com/users/1188611/user1188611"}, "reply_to_user": {"reputation": 21782, "user_id": 176646, "user_type": "registered", "accept_rate": 88, "profile_image": "https://i.stack.imgur.com/HsQyV.png?s=128&g=1", "display_name": "ThisSuitIsBlackNot", "link": "https://stackoverflow.com/users/176646/thissuitisblacknot"}, "edited": false, "score": 0, "creation_date": 1458671247, "post_id": 36162213, "comment_id": 59961827, "body": "Correct I agree to that. But my question is why i see value as &#39;bless( do{(my $o = 0)}, &#39;JSON::PP::Boolean&#39; )&#39; instead of false or 1/0. How can i avoid conversion like above."}, {"owner": {"reputation": 905, "user_id": 1188611, "user_type": "registered", "accept_rate": 26, "profile_image": "https://www.gravatar.com/avatar/67b60365e971b8b9cf5f0b901868bfd7?s=128&d=identicon&r=PG", "display_name": "user1188611", "link": "https://stackoverflow.com/users/1188611/user1188611"}, "reply_to_user": {"reputation": 21782, "user_id": 176646, "user_type": "registered", "accept_rate": 88, "profile_image": "https://i.stack.imgur.com/HsQyV.png?s=128&g=1", "display_name": "ThisSuitIsBlackNot", "link": "https://stackoverflow.com/users/176646/thissuitisblacknot"}, "edited": false, "score": 0, "creation_date": 1458671310, "post_id": 36162213, "comment_id": 59961882, "body": "depending on value of element &#39;enabled&#39; and &#39;isOK&#39; i am writing some business logic if I get value as above after using from_json or decode_json then it does not help me"}, {"owner": {"reputation": 905, "user_id": 1188611, "user_type": "registered", "accept_rate": 26, "profile_image": "https://www.gravatar.com/avatar/67b60365e971b8b9cf5f0b901868bfd7?s=128&d=identicon&r=PG", "display_name": "user1188611", "link": "https://stackoverflow.com/users/1188611/user1188611"}, "reply_to_user": {"reputation": 21782, "user_id": 176646, "user_type": "registered", "accept_rate": 88, "profile_image": "https://i.stack.imgur.com/HsQyV.png?s=128&g=1", "display_name": "ThisSuitIsBlackNot", "link": "https://stackoverflow.com/users/176646/thissuitisblacknot"}, "edited": false, "score": 0, "creation_date": 1458671320, "post_id": 36162213, "comment_id": 59961886, "body": "hope this clears my question"}, {"owner": {"reputation": 21782, "user_id": 176646, "user_type": "registered", "accept_rate": 88, "profile_image": "https://i.stack.imgur.com/HsQyV.png?s=128&g=1", "display_name": "ThisSuitIsBlackNot", "link": "https://stackoverflow.com/users/176646/thissuitisblacknot"}, "edited": false, "score": 0, "creation_date": 1458671433, "post_id": 36162213, "comment_id": 59961953, "body": "You see it because you&#39;re using Data::Dumper to dump a Perl data structure that includes objects. Just use the data structure as you normally would instead of dumping it, e.g. <code>print &quot;isOK&quot; if $data-&gt;{content}{isOK};</code>"}, {"owner": {"reputation": 905, "user_id": 1188611, "user_type": "registered", "accept_rate": 26, "profile_image": "https://www.gravatar.com/avatar/67b60365e971b8b9cf5f0b901868bfd7?s=128&d=identicon&r=PG", "display_name": "user1188611", "link": "https://stackoverflow.com/users/1188611/user1188611"}, "reply_to_user": {"reputation": 21782, "user_id": 176646, "user_type": "registered", "accept_rate": 88, "profile_image": "https://i.stack.imgur.com/HsQyV.png?s=128&g=1", "display_name": "ThisSuitIsBlackNot", "link": "https://stackoverflow.com/users/176646/thissuitisblacknot"}, "edited": false, "score": 0, "creation_date": 1458673439, "post_id": 36162213, "comment_id": 59963203, "body": "That is what exactly i am doing in actual code. But value of the field &quot;isOK&quot; is not coming as &#39;false&#39; instead it is coming as &quot;bless( do{&#40;my $o = 0)}, &#39;JSON::PP::Boolean&#39; )&quot; which is issue here."}, {"owner": {"reputation": 905, "user_id": 1188611, "user_type": "registered", "accept_rate": 26, "profile_image": "https://www.gravatar.com/avatar/67b60365e971b8b9cf5f0b901868bfd7?s=128&d=identicon&r=PG", "display_name": "user1188611", "link": "https://stackoverflow.com/users/1188611/user1188611"}, "reply_to_user": {"reputation": 21782, "user_id": 176646, "user_type": "registered", "accept_rate": 88, "profile_image": "https://i.stack.imgur.com/HsQyV.png?s=128&g=1", "display_name": "ThisSuitIsBlackNot", "link": "https://stackoverflow.com/users/176646/thissuitisblacknot"}, "edited": false, "score": 0, "creation_date": 1458673512, "post_id": 36162213, "comment_id": 59963254, "body": "Again my question is original value of field is coming as &#39;false&#39; but after using from_json or decode_json its value becomes  &#39;bless( do{&#40;my $o = 0)}, &#39;JSON::PP::Boolean&#39; )&#39;"}, {"owner": {"reputation": 21782, "user_id": 176646, "user_type": "registered", "accept_rate": 88, "profile_image": "https://i.stack.imgur.com/HsQyV.png?s=128&g=1", "display_name": "ThisSuitIsBlackNot", "link": "https://stackoverflow.com/users/176646/thissuitisblacknot"}, "edited": false, "score": 0, "creation_date": 1458673823, "post_id": 36162213, "comment_id": 59963425, "body": "Please <a href=\"https://stackoverflow.com/posts/36162213/edit\">edit</a> your question to show the actual code you&#39;re using. <code>print &quot;isOK&quot; if $data-&gt;{content}{isOK};</code> will not return <code>bless( do{(my $o = 0)}, &#39;JSON::PP::Boolean&#39; )</code>."}, {"owner": {"reputation": 905, "user_id": 1188611, "user_type": "registered", "accept_rate": 26, "profile_image": "https://www.gravatar.com/avatar/67b60365e971b8b9cf5f0b901868bfd7?s=128&d=identicon&r=PG", "display_name": "user1188611", "link": "https://stackoverflow.com/users/1188611/user1188611"}, "reply_to_user": {"reputation": 21782, "user_id": 176646, "user_type": "registered", "accept_rate": 88, "profile_image": "https://i.stack.imgur.com/HsQyV.png?s=128&g=1", "display_name": "ThisSuitIsBlackNot", "link": "https://stackoverflow.com/users/176646/thissuitisblacknot"}, "edited": false, "score": 0, "creation_date": 1458674094, "post_id": 36162213, "comment_id": 59963602, "body": "This is the code from_json when gets as input this value   ---&gt;  {&quot;entries&quot;:[{&quot;content&quot;:{&quot;eStatus&quot;:0,&quot;id&quot;:&quot;0&quot;,&quot;enabled&quot;:false&zwnj;&#8203;,&quot;isOK&quot;:false,}}]}..&zwnj;&#8203;. Following output is generated..   &#39;content&#39; =&gt; {                                       &#39;id&#39; =&gt; &#39;0&#39;,                                       &#39;esrsVeAddress&#39; =&gt; &#39;&#39;,                                       &#39;isOK&#39; =&gt; bless( do{&#40;my $o = 0)}, &#39;JSON::PP::Boolean&#39; ),                                       &#39;enabled&#39; =&gt; $VAR1-&gt;{&#39;entries&#39;}[0]{&#39;content&#39;}{&#39;isOK&#39;},                                       &#39;eStatus&#39; =&gt; 0                                     }"}, {"owner": {"reputation": 21782, "user_id": 176646, "user_type": "registered", "accept_rate": 88, "profile_image": "https://i.stack.imgur.com/HsQyV.png?s=128&g=1", "display_name": "ThisSuitIsBlackNot", "link": "https://stackoverflow.com/users/176646/thissuitisblacknot"}, "edited": false, "score": 0, "creation_date": 1458674210, "post_id": 36162213, "comment_id": 59963666, "body": "You already showed that. That&#39;s just the output from Data::Dumper. Show how you actually <i>use</i> the data structure in your code that&#39;s giving unexpected results. And please don&#39;t include giant blocks of code in comments, <a href=\"https://stackoverflow.com/posts/36162213/edit\">edit</a> them into your question."}, {"owner": {"reputation": 21782, "user_id": 176646, "user_type": "registered", "accept_rate": 88, "profile_image": "https://i.stack.imgur.com/HsQyV.png?s=128&g=1", "display_name": "ThisSuitIsBlackNot", "link": "https://stackoverflow.com/users/176646/thissuitisblacknot"}, "edited": false, "score": 0, "creation_date": 1458674919, "post_id": 36162213, "comment_id": 59964088, "body": "Change <code>if (  $isOK = $responseContent-&gt;{&#39;entries&#39;}[0]-&gt;{&#39;content&#39;}-&gt;     {&#39;isOK&#39;} eq &quot;1&quot; ) {</code> to <code>if ($responseContent-&gt;{&#39;entries&#39;}[0]-&gt;{&#39;content&#39;}-&gt;     {&#39;isOK&#39;}) {</code>."}], "answers": [{"comments": [{"owner": {"reputation": 905, "user_id": 1188611, "user_type": "registered", "accept_rate": 26, "profile_image": "https://www.gravatar.com/avatar/67b60365e971b8b9cf5f0b901868bfd7?s=128&d=identicon&r=PG", "display_name": "user1188611", "link": "https://stackoverflow.com/users/1188611/user1188611"}, "edited": false, "score": 0, "creation_date": 1458673798, "post_id": 36163062, "comment_id": 59963407, "body": "Correct. My question is how can i avoid the conversion here. My code tries to use the value of specific element &#39;isOK&#39; and &#39;enabled&#39; to perform some logic. But in current case value does not comes as expected"}, {"owner": {"reputation": 905, "user_id": 1188611, "user_type": "registered", "accept_rate": 26, "profile_image": "https://www.gravatar.com/avatar/67b60365e971b8b9cf5f0b901868bfd7?s=128&d=identicon&r=PG", "display_name": "user1188611", "link": "https://stackoverflow.com/users/1188611/user1188611"}, "edited": false, "score": 0, "creation_date": 1458673843, "post_id": 36163062, "comment_id": 59963439, "body": "also if you will see value of enabled becomes as follows :  &#39;enabled&#39; =&gt; $VAR1-&gt;{&#39;entries&#39;}[0]{&#39;content&#39;}{&#39;isOK&#39;}.   It refers isOK, this looks strange to me"}, {"owner": {"reputation": 905, "user_id": 1188611, "user_type": "registered", "accept_rate": 26, "profile_image": "https://www.gravatar.com/avatar/67b60365e971b8b9cf5f0b901868bfd7?s=128&d=identicon&r=PG", "display_name": "user1188611", "link": "https://stackoverflow.com/users/1188611/user1188611"}, "edited": false, "score": 0, "creation_date": 1458673912, "post_id": 36163062, "comment_id": 59963489, "body": "All i want is false either remains false or I get 1/0. Some reliable value which I can always rely on to make the logic work"}, {"owner": {"reputation": 905, "user_id": 1188611, "user_type": "registered", "accept_rate": 26, "profile_image": "https://www.gravatar.com/avatar/67b60365e971b8b9cf5f0b901868bfd7?s=128&d=identicon&r=PG", "display_name": "user1188611", "link": "https://stackoverflow.com/users/1188611/user1188611"}, "edited": false, "score": 0, "creation_date": 1458674140, "post_id": 36163062, "comment_id": 59963623, "body": "What can be done here to make the value as I am expecting which is either false or any value which i can always reply on"}, {"owner": {"reputation": 905, "user_id": 1188611, "user_type": "registered", "accept_rate": 26, "profile_image": "https://www.gravatar.com/avatar/67b60365e971b8b9cf5f0b901868bfd7?s=128&d=identicon&r=PG", "display_name": "user1188611", "link": "https://stackoverflow.com/users/1188611/user1188611"}, "edited": false, "score": 0, "creation_date": 1458674201, "post_id": 36163062, "comment_id": 59963664, "body": "example converted json can be like below :                                                 &#39;content&#39; =&gt; {                                       &#39;id&#39; =&gt; &#39;0&#39;,                                       &#39;esrsVeAddress&#39; =&gt; &#39;&#39;,                                       &#39;isOK&#39; =&gt; false,                                       &#39;enabled&#39; =&gt; false,                                       &#39;eStatus&#39; =&gt; 0                                     }                                                                                        instead of one shown above."}, {"owner": {"reputation": 905, "user_id": 1188611, "user_type": "registered", "accept_rate": 26, "profile_image": "https://www.gravatar.com/avatar/67b60365e971b8b9cf5f0b901868bfd7?s=128&d=identicon&r=PG", "display_name": "user1188611", "link": "https://stackoverflow.com/users/1188611/user1188611"}, "edited": false, "score": 0, "creation_date": 1458674562, "post_id": 36163062, "comment_id": 59963873, "body": "see I have added an example to show how i am trying to use the value of element"}, {"owner": {"reputation": 320771, "user_id": 589924, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/b2cf53d5a3d25f95c0db4e025aed4153?s=128&d=identicon&r=PG", "display_name": "ikegami", "link": "https://stackoverflow.com/users/589924/ikegami"}, "reply_to_user": {"reputation": 905, "user_id": 1188611, "user_type": "registered", "accept_rate": 26, "profile_image": "https://www.gravatar.com/avatar/67b60365e971b8b9cf5f0b901868bfd7?s=128&d=identicon&r=PG", "display_name": "user1188611", "link": "https://stackoverflow.com/users/1188611/user1188611"}, "edited": false, "score": 0, "creation_date": 1458675185, "post_id": 36163062, "comment_id": 59964245, "body": "Updated my answer."}], "tags": [], "owner": {"reputation": 320771, "user_id": 589924, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/b2cf53d5a3d25f95c0db4e025aed4153?s=128&d=identicon&r=PG", "display_name": "ikegami", "link": "https://stackoverflow.com/users/589924/ikegami"}, "is_accepted": false, "score": 1, "last_activity_date": 1458675310, "last_edit_date": 1458675310, "creation_date": 1458673500, "answer_id": 36163062, "question_id": 36162213, "link": "https://stackoverflow.com/questions/36162213/from-json-and-decode-json-in-perl-not-working-as-expected/36163062#36163062", "title": "from_json and decode_json in perl not working as expected", "body": "<blockquote>\n  <p><em>If you will see value of element 'enabled' and 'isOK' both are wrong.</em></p>\n</blockquote>\n\n<p>No, they are correct. Both <code>-&gt;{enabled}</code> and <code>-&gt;{isOK}</code> are false as in the JSON.</p>\n\n<blockquote>\n  <p><em>How can i avoid conversion like above</em></p>\n</blockquote>\n\n<p>You are actually asking why the module <em>doesn't</em> convert the value (to a string or number). That would cause information to be lost. For example, if the conversion you desire would be performed, <code>encode_json(decode_json($json))</code> would change the data.</p>\n\n<blockquote>\n  <p><em>What can be done here to make the value as I am expecting [which is] <code>'content' =&gt; { 'id' =&gt; '0', 'esrsVeAddress' =&gt; '', 'isOK' =&gt; false, 'enabled' =&gt; false, 'eStatus' =&gt; 0 }</code></em></p>\n</blockquote>\n\n<p>That's impossible using Data::Dumper. Data::Dumper produces valid Perl code, and that's not valid Perl code. However, you can get close to that by using</p>\n\n<pre><code>print(Data::Dumper-&gt;Dump(\n   [ JSON::false, JSON::true, $responseContent ],\n   [qw( $false $true $responseContent )]));\n</code></pre>\n\n<p>It produces the following output:</p>\n\n<pre><code>$false = bless( do{\\(my $o = 0)}, 'JSON::PP::Boolean' );\n$true = bless( do{\\(my $o = 1)}, 'JSON::PP::Boolean' );\n$responseContent = {\n                     'entries' =&gt; [\n                                    {\n                                      'content' =&gt; {\n                                                     'id' =&gt; '0',\n                                                     'eStatus' =&gt; 0,\n                                                     'enabled' =&gt; $false,\n                                                     'isOK' =&gt; $false\n                                                   }\n                                    }\n                                  ]\n                   };\n</code></pre>\n\n<blockquote>\n  <p><em>This is the way i am trying to use value of element <code>isOK</code> and <code>enabled</code>.</em></p>\n</blockquote>\n\n<p>It's wrong to expect a boolean to have a specific value. Change</p>\n\n<pre><code>my $isOK;  \nif ($isOK = $responseContent-&gt;{'entries'}[0]-&gt;{'content'}-&gt;{'isOK'} eq \"1\")\n</code></pre>\n\n<p>to</p>\n\n<pre><code>if ($responseContent-&gt;{'entries'}[0]-&gt;{'content'}-&gt;{'isOK'})\n</code></pre>\n\n<p>That can be simplified to</p>\n\n<pre><code>if ($responseContent-&gt;{entries}[0]{content}{isOK})\n</code></pre>\n\n<p>If you want to store the result for later, use</p>\n\n<pre><code>my $isOK = $responseContent-&gt;{entries}[0]{content}{isOK};\nif ($isOK)\n</code></pre>\n"}], "owner": {"reputation": 905, "user_id": 1188611, "user_type": "registered", "accept_rate": 26, "profile_image": "https://www.gravatar.com/avatar/67b60365e971b8b9cf5f0b901868bfd7?s=128&d=identicon&r=PG", "display_name": "user1188611", "link": "https://stackoverflow.com/users/1188611/user1188611"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 1409, "favorite_count": 0, "answer_count": 1, "score": 0, "last_activity_date": 1458675310, "creation_date": 1458670702, "last_edit_date": 1458674526, "question_id": 36162213, "link": "https://stackoverflow.com/questions/36162213/from-json-and-decode-json-in-perl-not-working-as-expected", "title": "from_json and decode_json in perl not working as expected", "body": "<p>I am having a json like below.</p>\n\n<pre><code>$response = {\"entries\":[{\"content\":{\"eStatus\":0,\"id\":\"0\",\"enabled\":false,\"isOK\":false,}}]}\n $responseContent = from_json($response);\n</code></pre>\n\n<p>when i am using from_json or decode_json within my perl code I get following as the converted json.</p>\n\n<pre><code>                     'content' =&gt; {\n                                      'id' =&gt; '0',\n                                      'esrsVeAddress' =&gt; '',\n                                      'isOK' =&gt; bless( do{\\(my $o = 0)}, 'JSON::PP::Boolean' ),\n                                      'enabled' =&gt; $VAR1-&gt;{'entries'}[0]{'content'}{'isOK'},\n                                      'eStatus' =&gt; 0\n                                    }\n</code></pre>\n\n<p>When value of element is not boolean ( true/false ) conversion happens properly but when its boolean then output is corrupted.</p>\n\n<p>If you will see value of element 'enabled' and 'isOK' both are wrong.</p>\n\n<p>Am i using wrong function 'from_json' or 'decode_json' here.</p>\n\n<p>Any suggestions or guidance is appreciated. </p>\n\n<p>This is the way i am trying to use value of element isOK and enabled.</p>\n\n<pre><code>  if (  $isOK = $responseContent-&gt;{'entries'}[0]-&gt;{'content'}-&gt;     {'isOK'} eq \"1\" ) {\n     c4lx_log \"value is found to be true and so do some business logic\";\n }\n else {\n    c4lx_log \"value is found to be false and so dont do anything here\";\n }\n</code></pre>\n\n<p>NOTE:\nInput to fucntion 'from_json' or 'decode_json' is coming from the REST response in format as shown above. I have verified that input is passed correctly and as expected. Its just the conversion that is issue here.</p>\n"}, {"tags": ["perl"], "comments": [{"owner": {"reputation": 21782, "user_id": 176646, "user_type": "registered", "accept_rate": 88, "profile_image": "https://i.stack.imgur.com/HsQyV.png?s=128&g=1", "display_name": "ThisSuitIsBlackNot", "link": "https://stackoverflow.com/users/176646/thissuitisblacknot"}, "edited": false, "score": 0, "creation_date": 1458669101, "post_id": 36161697, "comment_id": 59960497, "body": "Are you actually trying to count the frequency of each permutation as your title suggests?"}, {"owner": {"reputation": 23, "user_id": 5903795, "user_type": "registered", "accept_rate": 80, "profile_image": "https://www.gravatar.com/avatar/5385e3f185864964a310a6c002f9e80c?s=128&d=identicon&r=PG&f=1", "display_name": "m.lochhead", "link": "https://stackoverflow.com/users/5903795/m-lochhead"}, "reply_to_user": {"reputation": 21782, "user_id": 176646, "user_type": "registered", "accept_rate": 88, "profile_image": "https://i.stack.imgur.com/HsQyV.png?s=128&g=1", "display_name": "ThisSuitIsBlackNot", "link": "https://stackoverflow.com/users/176646/thissuitisblacknot"}, "edited": false, "score": 0, "creation_date": 1458669231, "post_id": 36161697, "comment_id": 59960583, "body": "I need to count the frequency in order to tell perl to execute for each frequency of each pairing. (if that makes any sense)"}, {"owner": {"reputation": 21782, "user_id": 176646, "user_type": "registered", "accept_rate": 88, "profile_image": "https://i.stack.imgur.com/HsQyV.png?s=128&g=1", "display_name": "ThisSuitIsBlackNot", "link": "https://stackoverflow.com/users/176646/thissuitisblacknot"}, "edited": false, "score": 0, "creation_date": 1458669382, "post_id": 36161697, "comment_id": 59960675, "body": "Ok, so what does that have to do with the body of your question? I don&#39;t see anything about counting the frequency of the pairs. I would expect the frequency of <code>2,1</code> to be 2, not <code>0 1</code>, since <code>2,1</code> appears twice in your sample data."}, {"owner": {"reputation": 23, "user_id": 5903795, "user_type": "registered", "accept_rate": 80, "profile_image": "https://www.gravatar.com/avatar/5385e3f185864964a310a6c002f9e80c?s=128&d=identicon&r=PG&f=1", "display_name": "m.lochhead", "link": "https://stackoverflow.com/users/5903795/m-lochhead"}, "reply_to_user": {"reputation": 21782, "user_id": 176646, "user_type": "registered", "accept_rate": 88, "profile_image": "https://i.stack.imgur.com/HsQyV.png?s=128&g=1", "display_name": "ThisSuitIsBlackNot", "link": "https://stackoverflow.com/users/176646/thissuitisblacknot"}, "edited": false, "score": 0, "creation_date": 1458669504, "post_id": 36161697, "comment_id": 59960747, "body": "ok so my over all problem is getting perl to get the frequency of each pairing and then printing it as &quot;firstvalue secondvalue: lastvalue&quot;"}, {"owner": {"reputation": 23, "user_id": 5903795, "user_type": "registered", "accept_rate": 80, "profile_image": "https://www.gravatar.com/avatar/5385e3f185864964a310a6c002f9e80c?s=128&d=identicon&r=PG&f=1", "display_name": "m.lochhead", "link": "https://stackoverflow.com/users/5903795/m-lochhead"}, "reply_to_user": {"reputation": 21782, "user_id": 176646, "user_type": "registered", "accept_rate": 88, "profile_image": "https://i.stack.imgur.com/HsQyV.png?s=128&g=1", "display_name": "ThisSuitIsBlackNot", "link": "https://stackoverflow.com/users/176646/thissuitisblacknot"}, "edited": false, "score": 0, "creation_date": 1458669556, "post_id": 36161697, "comment_id": 59960790, "body": "but my more specific question that i am stuck on is actually getting perl to count the frequency first"}, {"owner": {"reputation": 21782, "user_id": 176646, "user_type": "registered", "accept_rate": 88, "profile_image": "https://i.stack.imgur.com/HsQyV.png?s=128&g=1", "display_name": "ThisSuitIsBlackNot", "link": "https://stackoverflow.com/users/176646/thissuitisblacknot"}, "edited": false, "score": 0, "creation_date": 1458669733, "post_id": 36161697, "comment_id": 59960905, "body": "That&#39;s called an <a href=\"http://meta.stackexchange.com/questions/66377/what-is-the-xy-problem\">XY problem</a> and you&#39;ll usually get much better answers by explaining your end goal instead of how you&#39;re trying to do it. Am I right that you&#39;re trying to get <code>2 1: 2</code>, <code>2 3: 1</code>, <code>5 1: 1</code>, <code>5 2: 3</code>, etc? Or do you want to store the frequency somewhere (without outputting it) and output the last value found for each match?"}, {"owner": {"reputation": 23, "user_id": 5903795, "user_type": "registered", "accept_rate": 80, "profile_image": "https://www.gravatar.com/avatar/5385e3f185864964a310a6c002f9e80c?s=128&d=identicon&r=PG&f=1", "display_name": "m.lochhead", "link": "https://stackoverflow.com/users/5903795/m-lochhead"}, "reply_to_user": {"reputation": 21782, "user_id": 176646, "user_type": "registered", "accept_rate": 88, "profile_image": "https://i.stack.imgur.com/HsQyV.png?s=128&g=1", "display_name": "ThisSuitIsBlackNot", "link": "https://stackoverflow.com/users/176646/thissuitisblacknot"}, "edited": false, "score": 0, "creation_date": 1458736462, "post_id": 36161697, "comment_id": 59991705, "body": "my apologies. I am trying to store the frequency somehere (without outputting it) and out the last value for each row with each of the respecting pairing....i.e: <code>2 1: 0 1 \\n 2 3: 0 \\n</code> etc.."}], "answers": [{"comments": [{"owner": {"reputation": 23, "user_id": 5903795, "user_type": "registered", "accept_rate": 80, "profile_image": "https://www.gravatar.com/avatar/5385e3f185864964a310a6c002f9e80c?s=128&d=identicon&r=PG&f=1", "display_name": "m.lochhead", "link": "https://stackoverflow.com/users/5903795/m-lochhead"}, "edited": false, "score": 0, "creation_date": 1458753563, "post_id": 36183174, "comment_id": 60004671, "body": "this helps a lot but i need it to check if the current first 2 elements are equal to the previous first 2 elements (which i found to be near impossible) but was given a hint to have the program find out the frequency of the pairing in the data set and then have pearl print the last value of every row that exact many times and then executes for the next pairing. if were up to me id clean it up for what i have and turn this in but its not what is wanted. thus me just simply asking for finding the frequency of a pairing of numbers then i could implement it. Thank you for the help so far though!:)"}, {"owner": {"reputation": 1003, "user_id": 615982, "user_type": "registered", "accept_rate": 80, "profile_image": "https://www.gravatar.com/avatar/f0be626806a146529a4b2cd684be0db4?s=128&d=identicon&r=PG", "display_name": "Dave W", "link": "https://stackoverflow.com/users/615982/dave-w"}, "reply_to_user": {"reputation": 23, "user_id": 5903795, "user_type": "registered", "accept_rate": 80, "profile_image": "https://www.gravatar.com/avatar/5385e3f185864964a310a6c002f9e80c?s=128&d=identicon&r=PG&f=1", "display_name": "m.lochhead", "link": "https://stackoverflow.com/users/5903795/m-lochhead"}, "edited": false, "score": 0, "creation_date": 1458804493, "post_id": 36183174, "comment_id": 60023895, "body": "It&#39;s still not clear to me what you want - can you update your question to add an example of the input &amp; output you expect ?"}], "tags": [], "owner": {"reputation": 1003, "user_id": 615982, "user_type": "registered", "accept_rate": 80, "profile_image": "https://www.gravatar.com/avatar/f0be626806a146529a4b2cd684be0db4?s=128&d=identicon&r=PG", "display_name": "Dave W", "link": "https://stackoverflow.com/users/615982/dave-w"}, "is_accepted": false, "score": 0, "last_activity_date": 1458749273, "creation_date": 1458749273, "answer_id": 36183174, "question_id": 36161697, "link": "https://stackoverflow.com/questions/36161697/how-to-count-the-frequency-of-two-occurances-at-the-same-time/36183174#36183174", "title": "how to count the frequency of two occurances at the same time?", "body": "<p>Not sure what you mean by frequencies, but this code</p>\n\n<pre><code>#!perl\nuse strict;\nuse warnings;\n\ngenerate_output(2, 1);\ngenerate_output(2, 3);\ngenerate_output(5, 1);\ngenerate_output(5, 2);\ngenerate_output(5, 3);\ngenerate_output(8, 2);\n\nsub generate_output\n{\n    my ($a, $b) = @_;\n\n    print \"$a $b:\";\n\n    my $data_start = tell DATA;\n\n    while (&lt;DATA&gt;) {\n        chomp;\n        my @columns = split /,/; \n        if ($columns[0] == $a and $columns[1] == $b)\n        {\n            print \" \", $columns[-1];\n        }\n    }\n    print \"\\n\";\n    seek DATA, $data_start, 0;\n}\n\n__DATA__\n2,1,10,2,0\n2,1,23,2,1\n2,3,6,2,0\n5,1,4,3,0\n5,2,2,2,0\n5,2,2,3,1\n5,2,8,1,2\n5,3,6,3,1\n8,2,12,1,0\n</code></pre>\n\n<p>generates the output you wanted:</p>\n\n<pre><code>2 1: 0 1\n2 3: 0\n5 1: 0\n5 2: 0 1 2\n5 3: 1\n8 2: 0\n</code></pre>\n"}, {"comments": [{"owner": {"reputation": 23, "user_id": 5903795, "user_type": "registered", "accept_rate": 80, "profile_image": "https://www.gravatar.com/avatar/5385e3f185864964a310a6c002f9e80c?s=128&d=identicon&r=PG&f=1", "display_name": "m.lochhead", "link": "https://stackoverflow.com/users/5903795/m-lochhead"}, "edited": false, "score": 0, "creation_date": 1458825831, "post_id": 36184140, "comment_id": 60035853, "body": "thank you so much! now my question is what is the <code>$h</code> for? is that the data set?"}, {"owner": {"reputation": 2347, "user_id": 1717259, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/f70451a8ea5b380bf1a28fe529b190cc?s=128&d=identicon&r=PG", "display_name": "user1717259", "link": "https://stackoverflow.com/users/1717259/user1717259"}, "reply_to_user": {"reputation": 23, "user_id": 5903795, "user_type": "registered", "accept_rate": 80, "profile_image": "https://www.gravatar.com/avatar/5385e3f185864964a310a6c002f9e80c?s=128&d=identicon&r=PG&f=1", "display_name": "m.lochhead", "link": "https://stackoverflow.com/users/5903795/m-lochhead"}, "edited": false, "score": 0, "creation_date": 1458829073, "post_id": 36184140, "comment_id": 60038068, "body": "Yes, $h is the data set. It&#39;s a hash, keyed by the first two characters in each line. The value of each key-value pair is an array, containing an incrementing number [0,1,2...] for each time this key occurs in your file. The size of this array is the frequency of the key. If you uncomment the two Data::Dumper lines, you&#39;ll see what data structure has been created."}, {"owner": {"reputation": 23, "user_id": 5903795, "user_type": "registered", "accept_rate": 80, "profile_image": "https://www.gravatar.com/avatar/5385e3f185864964a310a6c002f9e80c?s=128&d=identicon&r=PG&f=1", "display_name": "m.lochhead", "link": "https://stackoverflow.com/users/5903795/m-lochhead"}, "edited": false, "score": 0, "creation_date": 1458837011, "post_id": 36184140, "comment_id": 60043743, "body": "oh ok so how would that work if the data set is stored in a file and we need to call to that? would you do the <code>open($h, &#39;&lt;&#39;, filename)</code> and call to that $h?"}, {"owner": {"reputation": 2347, "user_id": 1717259, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/f70451a8ea5b380bf1a28fe529b190cc?s=128&d=identicon&r=PG", "display_name": "user1717259", "link": "https://stackoverflow.com/users/1717259/user1717259"}, "reply_to_user": {"reputation": 23, "user_id": 5903795, "user_type": "registered", "accept_rate": 80, "profile_image": "https://www.gravatar.com/avatar/5385e3f185864964a310a6c002f9e80c?s=128&d=identicon&r=PG&f=1", "display_name": "m.lochhead", "link": "https://stackoverflow.com/users/5903795/m-lochhead"}, "edited": false, "score": 0, "creation_date": 1458839467, "post_id": 36184140, "comment_id": 60045354, "body": "With the <code>while (&lt;&gt;)</code>  that I&#39;ve used, it will open whatever file you name on the command line. Hence <code>perl tmp.pl tmp.txt</code>. If you want to put the name of the file into the script, then yes, you do: <code>open(FILEHANDLE, &#39;&lt;&#39;, &quot;filename&quot;);</code> and then change the <code>(&lt;&gt;)</code> to <code>(&lt;FILEHANDLE&gt;)</code>. The script populates $h."}, {"owner": {"reputation": 23, "user_id": 5903795, "user_type": "registered", "accept_rate": 80, "profile_image": "https://www.gravatar.com/avatar/5385e3f185864964a310a6c002f9e80c?s=128&d=identicon&r=PG&f=1", "display_name": "m.lochhead", "link": "https://stackoverflow.com/users/5903795/m-lochhead"}, "edited": false, "score": 0, "creation_date": 1458915598, "post_id": 36184140, "comment_id": 60074764, "body": "it works so far but prints out different values than what is in the file...should i have perl delete whatever is stored as $h?"}, {"owner": {"reputation": 2347, "user_id": 1717259, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/f70451a8ea5b380bf1a28fe529b190cc?s=128&d=identicon&r=PG", "display_name": "user1717259", "link": "https://stackoverflow.com/users/1717259/user1717259"}, "reply_to_user": {"reputation": 23, "user_id": 5903795, "user_type": "registered", "accept_rate": 80, "profile_image": "https://www.gravatar.com/avatar/5385e3f185864964a310a6c002f9e80c?s=128&d=identicon&r=PG&f=1", "display_name": "m.lochhead", "link": "https://stackoverflow.com/users/5903795/m-lochhead"}, "edited": false, "score": 0, "creation_date": 1459018306, "post_id": 36184140, "comment_id": 60108940, "body": "Are you sure it&#39;s different? It will likely be in a different order."}, {"owner": {"reputation": 23, "user_id": 5903795, "user_type": "registered", "accept_rate": 80, "profile_image": "https://www.gravatar.com/avatar/5385e3f185864964a310a6c002f9e80c?s=128&d=identicon&r=PG&f=1", "display_name": "m.lochhead", "link": "https://stackoverflow.com/users/5903795/m-lochhead"}, "edited": false, "score": 0, "creation_date": 1459164757, "post_id": 36184140, "comment_id": 60150896, "body": "I just verified, the data is the same but completely out of order. thank you!!"}], "tags": [], "owner": {"reputation": 2347, "user_id": 1717259, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/f70451a8ea5b380bf1a28fe529b190cc?s=128&d=identicon&r=PG", "display_name": "user1717259", "link": "https://stackoverflow.com/users/1717259/user1717259"}, "is_accepted": true, "score": 0, "last_activity_date": 1458829116, "last_edit_date": 1458829116, "creation_date": 1458751865, "answer_id": 36184140, "question_id": 36161697, "link": "https://stackoverflow.com/questions/36161697/how-to-count-the-frequency-of-two-occurances-at-the-same-time/36184140#36184140", "title": "how to count the frequency of two occurances at the same time?", "body": "<pre><code>use strict;\n#use Data::Dumper;\nmy $h;\n\nwhile (&lt;&gt;){\n    chomp;\n    my @linechars = split /,/;\n    #Use the first two characters of the input line as the key to a hash.\n    my $key = $linechars[0].\" \".$linechars[1];\n    #stick the last character into an array for this key\n    push @{$h-&gt;{$key}}, $linechars[4];\n}\n\n#print Dumper($h);\n\nforeach my $key (keys%{$h}){\n    print \"$key:\";\n    foreach (@{$h-&gt;{$key}})\n    {\n        print \" $_\";\n    }\n    print \"\\n\";\n}\n</code></pre>\n\n<p>Gives</p>\n\n<pre><code>-bash-3.2$ perl tmp.pl tmp.txt\n5 1: 0\n2 3: 0\n8 2: 0\n2 1: 0 1\n5 2: 0 1 2\n5 3: 1\n</code></pre>\n\n<p>If you just want the frequency, replace </p>\n\n<pre><code>    foreach (@{$h-&gt;{$key}})\n    {\n        print \" $_\";\n    }\n</code></pre>\n\n<p>with</p>\n\n<pre><code>    print scalar (@{$h-&gt;{$key}}).\"\\n\"\n</code></pre>\n"}], "owner": {"reputation": 23, "user_id": 5903795, "user_type": "registered", "accept_rate": 80, "profile_image": "https://www.gravatar.com/avatar/5385e3f185864964a310a6c002f9e80c?s=128&d=identicon&r=PG&f=1", "display_name": "m.lochhead", "link": "https://stackoverflow.com/users/5903795/m-lochhead"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 84, "favorite_count": 0, "accepted_answer_id": 36184140, "answer_count": 2, "score": -2, "last_activity_date": 1458829116, "creation_date": 1458668951, "question_id": 36161697, "link": "https://stackoverflow.com/questions/36161697/how-to-count-the-frequency-of-two-occurances-at-the-same-time", "title": "how to count the frequency of two occurances at the same time?", "body": "<p>So i have a data set that looks like this:</p>\n\n<pre><code>2,1,10,2,0\n2,1,23,2,1\n2,3,6,2,0\n5,1,4,3,0\n5,2,2,2,0\n5,2,2,3,1\n5,2,8,1,2\n5,3,6,3,1\n8,2,12,1,0\n</code></pre>\n\n<p>I am trying to have perl print the last value for each occurance of the first 2 values in each line. So for instance it is my goal to have it print the following:</p>\n\n<pre><code>2 1: 0 1\n2 3: 0\n5 1: 0\n5 2: 0 1 2\n5 3: 1\n8 2: 0\n</code></pre>\n\n<p>how do i tell perl to print the last value of the row for each occurance of the pairing of the numbers?</p>\n"}, {"tags": ["python", "bash", "perl", "awk", "sed"], "comments": [{"owner": {"reputation": 1014, "user_id": 6047952, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/a56a0a74a9848b8796170a9bce83e9fa?s=128&d=identicon&r=PG", "display_name": "infixed", "link": "https://stackoverflow.com/users/6047952/infixed"}, "edited": false, "score": 0, "creation_date": 1458666629, "post_id": 36160653, "comment_id": 59958829, "body": "You should expand with more detail of how that &#39;key-variable` behavior is supposed to work..   Tentatively, I&#39;d probably use perl with <code>split</code>  to break the columns into arrays, and then compare.  But details?  Fuzzy questions get fuzzy answers"}, {"owner": {"reputation": 668, "user_id": 4322048, "user_type": "registered", "accept_rate": 54, "profile_image": "https://i.stack.imgur.com/5pqyS.jpg?s=128&g=1", "display_name": "Sander W. van der Laan", "link": "https://stackoverflow.com/users/4322048/sander-w-van-der-laan"}, "reply_to_user": {"reputation": 1014, "user_id": 6047952, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/a56a0a74a9848b8796170a9bce83e9fa?s=128&d=identicon&r=PG", "display_name": "infixed", "link": "https://stackoverflow.com/users/6047952/infixed"}, "edited": false, "score": 0, "creation_date": 1458668422, "post_id": 36160653, "comment_id": 59960027, "body": "I&#39;ve changed it. Thanks for the feedback."}, {"owner": {"reputation": 155597, "user_id": 1745001, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/99a3ebae89496eb16afe453aae97f5be?s=128&d=identicon&r=PG", "display_name": "Ed Morton", "link": "https://stackoverflow.com/users/1745001/ed-morton"}, "edited": false, "score": 1, "creation_date": 1458669919, "post_id": 36160653, "comment_id": 59961037, "body": "Edit your question to include some concise, testable sample input and expected output to remove some of the guesswork. sed and awk are 2 completely different tools, there is no <code>awk&#47;sed</code> just as there is no <code>perl&#47;grep</code>. This is not a job for sed at all and there&#39;s no reason to assume an awk solution would be slower than a perl or python one."}, {"owner": {"reputation": 668, "user_id": 4322048, "user_type": "registered", "accept_rate": 54, "profile_image": "https://i.stack.imgur.com/5pqyS.jpg?s=128&g=1", "display_name": "Sander W. van der Laan", "link": "https://stackoverflow.com/users/4322048/sander-w-van-der-laan"}, "edited": false, "score": 0, "creation_date": 1458810915, "post_id": 36160653, "comment_id": 60026855, "body": "I&#39;ve edited the post/question. I&#39;ve included <code>head</code> of file1 and file2, as well as an expected result. I hope this is informative and one can help me instead of putting this question on hold. I understand the question might be to broad, however try to use the principle of charity: imagine you&#39;re a biologist with zero education in scripting trying to find a solution for this problem by asking people that are (more) educated in scripting for help. I would think that would go a long way.  @thissuitisblacknot   @andras-deak   @mseifert   @prasun   @mpromonet  ."}], "answers": [{"comments": [{"owner": {"reputation": 668, "user_id": 4322048, "user_type": "registered", "accept_rate": 54, "profile_image": "https://i.stack.imgur.com/5pqyS.jpg?s=128&g=1", "display_name": "Sander W. van der Laan", "link": "https://stackoverflow.com/users/4322048/sander-w-van-der-laan"}, "edited": false, "score": 0, "creation_date": 1458668468, "post_id": 36161118, "comment_id": 59960069, "body": "Would this be fast? And do I/we assume that the files are in exactly the same order?"}, {"owner": {"reputation": 2549, "user_id": 245915, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/cca4132dc8568480af19f032a5b9b2bc?s=128&d=identicon&r=PG", "display_name": "nofinator", "link": "https://stackoverflow.com/users/245915/nofinator"}, "reply_to_user": {"reputation": 668, "user_id": 4322048, "user_type": "registered", "accept_rate": 54, "profile_image": "https://i.stack.imgur.com/5pqyS.jpg?s=128&g=1", "display_name": "Sander W. van der Laan", "link": "https://stackoverflow.com/users/4322048/sander-w-van-der-laan"}, "edited": false, "score": 0, "creation_date": 1458671655, "post_id": 36161118, "comment_id": 59962098, "body": "@SanderW.vanderLaan It won&#39;t be terribly fast because the join step needs to pull both the enormous input files into memory. The order step should be more efficient at streaming the output to a file. Also, it looks like the ordering of the join output is based on the first file, not the second. I edited the answer so the row ordering in the output matches that of file2."}], "tags": [], "owner": {"reputation": 2549, "user_id": 245915, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/cca4132dc8568480af19f032a5b9b2bc?s=128&d=identicon&r=PG", "display_name": "nofinator", "link": "https://stackoverflow.com/users/245915/nofinator"}, "is_accepted": true, "score": 2, "last_activity_date": 1458671540, "last_edit_date": 1458671540, "creation_date": 1458667294, "answer_id": 36161118, "question_id": 36160653, "link": "https://stackoverflow.com/questions/36160653/how-to-replace-contents-of-column-in-one-file-with-that-of-another-file-based-on/36161118#36161118", "title": "How to replace contents of column in one file with that of another file based on key variable?", "body": "<p>You could use the command-line tool <a href=\"http://neilb.bitbucket.org/csvfix/\" rel=\"nofollow\">csvfix</a>.</p>\n\n<p>First you join the two tables together using the first column, then you only choose the rows that you want from the joined rows.</p>\n\n<p>For example, if file1 has 6 columns and file2 has 1,529 columns, the joined rows will have 1,534 fields. (The key-variable isn't repeated.) So if you need the key-variable, columns 2 and 3 from file1, and the other columns from file2, you can specify them like so:</p>\n\n<pre><code>csvfix join -f 1:1 file2.csv file1.csv | csvfix order -f 1,1530,1531,4:1529\n</code></pre>\n\n<p>Note that file2.csv is listed first to preserve the order of that file's rows in the output.</p>\n\n<p>If your fields are not delimited by commas, you can pick another separator using the <code>-sep</code> option.</p>\n"}, {"tags": [], "owner": {"reputation": 155597, "user_id": 1745001, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/99a3ebae89496eb16afe453aae97f5be?s=128&d=identicon&r=PG", "display_name": "Ed Morton", "link": "https://stackoverflow.com/users/1745001/ed-morton"}, "is_accepted": false, "score": 1, "last_activity_date": 1458670700, "last_edit_date": 1458670700, "creation_date": 1458670365, "answer_id": 36162110, "question_id": 36160653, "link": "https://stackoverflow.com/questions/36160653/how-to-replace-contents-of-column-in-one-file-with-that-of-another-file-based-on/36162110#36162110", "title": "How to replace contents of column in one file with that of another file based on key variable?", "body": "<p>Without sample input and expected output it's just a guess but this may be what you want:</p>\n\n<pre><code>$ cat file1\na b c\nd e f\ng h i\n\n$ cat file2\na 2 3\ne 4 5\nh 6 7\n\n$ join -o '1.1 2.2 2.3' file2 file1\na b c\n</code></pre>\n\n<p>or maybe:</p>\n\n<pre><code>$ join -a 2 file2 file1 | cut -d' ' -f1,2,3\na 2 3\nd e f\ng h i\n</code></pre>\n\n<p>or:</p>\n\n<pre><code>$ join -a 1 file2 file1 | awk '{print $1, $(NF-1), $NF}'\na b c\ne 4 5\nh 6 7\n</code></pre>\n\n<p>or....</p>\n"}, {"comments": [{"owner": {"reputation": 1014, "user_id": 6047952, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/a56a0a74a9848b8796170a9bce83e9fa?s=128&d=identicon&r=PG", "display_name": "infixed", "link": "https://stackoverflow.com/users/6047952/infixed"}, "edited": false, "score": 1, "creation_date": 1458675818, "post_id": 36162335, "comment_id": 59964586, "body": "if his file2 was small enough, I considered making a hash array for file2 with the key being the column 1, the contents being columns 2+3,  Then for each line in file 1, uses the <code>exists</code> function to see if the key exists in the hash.  If so, replace the column 2-3 members with what is in the hash.  The join aand print the result.   But this approach depends on wheter you can get file2&#39;s hash table to fit in memory"}, {"owner": {"reputation": 53041, "user_id": 4653379, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/b3953dbedd0dabff5cbc3db9b0835b14?s=128&d=identicon&r=PG&f=1", "display_name": "zdim", "link": "https://stackoverflow.com/users/4653379/zdim"}, "reply_to_user": {"reputation": 1014, "user_id": 6047952, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/a56a0a74a9848b8796170a9bce83e9fa?s=128&d=identicon&r=PG", "display_name": "infixed", "link": "https://stackoverflow.com/users/6047952/infixed"}, "edited": false, "score": 0, "creation_date": 1458675952, "post_id": 36162335, "comment_id": 59964674, "body": "@infixed  It&#39;s not small -- OP say 8.3 million rows, and long ones at that."}, {"owner": {"reputation": 1014, "user_id": 6047952, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/a56a0a74a9848b8796170a9bce83e9fa?s=128&d=identicon&r=PG", "display_name": "infixed", "link": "https://stackoverflow.com/users/6047952/infixed"}, "edited": false, "score": 1, "creation_date": 1458676214, "post_id": 36162335, "comment_id": 59964846, "body": "Oh,  I was thinking of them backwards.  Even if I refactor my thinking, if  file1 had 8 million rows, it&#39;s probably a problem even with only 6 items per row.     Perhaps one of the files can be split to manageable sizes, processed, and then rejoined later.   Flat file fun."}, {"owner": {"reputation": 668, "user_id": 4322048, "user_type": "registered", "accept_rate": 54, "profile_image": "https://i.stack.imgur.com/5pqyS.jpg?s=128&g=1", "display_name": "Sander W. van der Laan", "link": "https://stackoverflow.com/users/4322048/sander-w-van-der-laan"}, "edited": false, "score": 0, "creation_date": 1458812660, "post_id": 36162335, "comment_id": 60027726, "body": "Thanks @zdim. This was very useful. Almost there. If this questions is not on hold anymore I&#39;ll post the answer..."}, {"owner": {"reputation": 668, "user_id": 4322048, "user_type": "registered", "accept_rate": 54, "profile_image": "https://i.stack.imgur.com/5pqyS.jpg?s=128&g=1", "display_name": "Sander W. van der Laan", "link": "https://stackoverflow.com/users/4322048/sander-w-van-der-laan"}, "edited": false, "score": 0, "creation_date": 1458813045, "post_id": 36162335, "comment_id": 60027952, "body": "Thanks @zdim. This was very useful. Almost there. It throws an error at the line where it states <code>while ($cnt++ &lt; $size2)</code>. The error is: <code>Argument &quot;&quot; isn&#39;t numeric in numeric lt (&lt;) </code>. How do I interpret this? If this questions is not on hold anymore I&#39;ll post the answer..."}, {"owner": {"reputation": 668, "user_id": 4322048, "user_type": "registered", "accept_rate": 54, "profile_image": "https://i.stack.imgur.com/5pqyS.jpg?s=128&g=1", "display_name": "Sander W. van der Laan", "link": "https://stackoverflow.com/users/4322048/sander-w-van-der-laan"}, "edited": false, "score": 0, "creation_date": 1458813722, "post_id": 36162335, "comment_id": 60028342, "body": "Also when I write this: <code>my $size1 = (split &#39;\\s+&#39;, </code>wc -l $file1<code>)[0]; print STDERR &quot;* The size of file1 ($file1) is: $size1.\\n&quot;; print STDERR &quot;\\n&quot;; my $size2 = (split &#39;\\s+&#39;, </code>wc -l $file2<code>)[0]; print STDERR &quot;* The size of file2 ($file2) is: $file2.\\n&quot;;</code>, the output is: <code>* The size of file1 (file1.txt) is: .  * The size of file2 (file2.txt) is: file2.txt.</code>. I interpreted $size1 as a counting of lines. Is that not the case?"}, {"owner": {"reputation": 53041, "user_id": 4653379, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/b3953dbedd0dabff5cbc3db9b0835b14?s=128&d=identicon&r=PG&f=1", "display_name": "zdim", "link": "https://stackoverflow.com/users/4653379/zdim"}, "reply_to_user": {"reputation": 668, "user_id": 4322048, "user_type": "registered", "accept_rate": 54, "profile_image": "https://i.stack.imgur.com/5pqyS.jpg?s=128&g=1", "display_name": "Sander W. van der Laan", "link": "https://stackoverflow.com/users/4322048/sander-w-van-der-laan"}, "edited": false, "score": 1, "creation_date": 1458851614, "post_id": 36162335, "comment_id": 60052429, "body": "@SanderW.vanderLaan  Updated:  column 1 is compared directly and not to a fixed key (right?), and files are processed differently, <code>file1</code> being so much smaller.  Would&#39;ve helped having this -- post carefully please. Also, there is no need to first get sizes, so external commands are gone."}], "tags": [], "owner": {"reputation": 53041, "user_id": 4653379, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/b3953dbedd0dabff5cbc3db9b0835b14?s=128&d=identicon&r=PG&f=1", "display_name": "zdim", "link": "https://stackoverflow.com/users/4653379/zdim"}, "is_accepted": false, "score": 1, "last_activity_date": 1458852595, "last_edit_date": 1458852595, "creation_date": 1458671150, "answer_id": 36162335, "question_id": 36160653, "link": "https://stackoverflow.com/questions/36160653/how-to-replace-contents-of-column-in-one-file-with-that-of-another-file-based-on/36162335#36162335", "title": "How to replace contents of column in one file with that of another file based on key variable?", "body": "<p><strong>Updated</strong> &nbsp; <em>for clarifications: first columns need match each other; and, the other file is <strong>much</strong> smaller.</em> </p>\n\n<hr>\n\n<p>Processes line at a time of <code>file1</code> and once it runs out copy the rest of <code>file2</code>. </p>\n\n<pre><code>use warnings;\nuse strict;\n\nmy $file1 = 'file1.txt';\nmy $file2 = 'file2.txt';\nmy $outfile = 'new_file2.txt';\n\nopen my $fh1, '&lt;', $file1 or die \"Can't open $file1: $!\";\nopen my $fh2, '&lt;', $file2 or die \"Can't open $file2: $!\";\nopen my $outfh, '&gt;', $outfile;\n\nmy ($line1, @ln1, @ln2);\n# Need be certain that file2 &gt;= file1 (by number of lines)\nwhile($line1 = &lt;$fh1&gt;) {\n    @ln2 = split '\\s+', &lt;$fh2&gt;, 4;\n    @ln1 = split '\\s+', $line1, 4;\n    if ($ln1[0] eq $ln2[0]) \n    {\n        @ln2[1,2] = @ln1[1,2];\n    }\n    print $outfh \"@ln2\";\n}\n\n# Copy the rest of file2\nwhile (&lt;$fh2&gt;) { print $outfh }\n\n# Close filehandles if not the end of script\n</code></pre>\n\n<p>Limit <code>split</code> to 4 -- the needed fields and the rest of the line. This can be sped up further, but the <code>file1</code> is specified to be small, and by a factor of thousand in comparison with <code>file2</code>.</p>\n"}, {"tags": [], "owner": {"reputation": 70791, "user_id": 997358, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/f849cfde4e526e22e916fa69103ef7e7?s=128&d=identicon&r=PG", "display_name": "peak", "link": "https://stackoverflow.com/users/997358/peak"}, "is_accepted": false, "score": 1, "last_activity_date": 1458683300, "creation_date": 1458683300, "answer_id": 36165885, "question_id": 36160653, "link": "https://stackoverflow.com/questions/36160653/how-to-replace-contents-of-column-in-one-file-with-that-of-another-file-based-on/36165885#36165885", "title": "How to replace contents of column in one file with that of another file based on key variable?", "body": "<p>When run, the following script produces the output shown under the <code>Output</code> heading.  So long as file1 does not have too many lines, I think you'll find it quite satisfactory, in that memory requirements basically only depend on the space required to hold the first three columns in file1, and there is no dependence on any sorting:</p>\n\n<pre><code>#!/bin/bash\n\nfunction file1 {\ncat&lt;&lt;EOF\na b c\nd e f\ne x y\ng h i\nEOF\n}\n\nfunction file2 {\ncat&lt;&lt;EOF\na 2 3 many columns one\ne 4 5 many columns two\nh 6 7 many columns three\nEOF\n}\n\nawk '\n  NR==FNR { \n    if (NF==0) { next }\n    col2[$1]=$2; col3[$1]=$3; \n    next\n  }\n  { if ($1 in col2) { $2=col2[$1]; $3=col3[$1] } }\n  { print }      \n' &lt;(file1) &lt;(file2)\n</code></pre>\n\n<h3>Output:</h3>\n\n<pre><code>a b c many columns one\ne x y many columns two\nh 6 7 many columns three\n</code></pre>\n"}], "owner": {"reputation": 668, "user_id": 4322048, "user_type": "registered", "accept_rate": 54, "profile_image": "https://i.stack.imgur.com/5pqyS.jpg?s=128&g=1", "display_name": "Sander W. van der Laan", "link": "https://stackoverflow.com/users/4322048/sander-w-van-der-laan"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 357, "favorite_count": 2, "closed_date": 1458717898, "accepted_answer_id": 36161118, "answer_count": 4, "score": 2, "last_activity_date": 1458852595, "creation_date": 1458665930, "last_edit_date": 1495540890, "question_id": 36160653, "link": "https://stackoverflow.com/questions/36160653/how-to-replace-contents-of-column-in-one-file-with-that-of-another-file-based-on", "closed_reason": "Needs more focus", "title": "How to replace contents of column in one file with that of another file based on key variable?", "body": "<p>I'd like to use a script to do the following. I have two files. I'd like to replace the contents of column 2 (\"A1\" in the example below) and 3 (\"A2\" in the example below) in file2 with the contents of column 2 (\"A1_new\" in the example below) and 3 (\"A2_new\" in the example below) in file1. There are two conditions:</p>\n\n<ul>\n<li>This has to be done based on a key-variable (\"SNP\" in the examples below) which is present in both files in column 1. Meaning: the script should check the presence of key-variable X in file1 and file2 and then replace the contents of file2 with file1 as described above. If there is no match, nothing should be done.</li>\n<li>Both files are very large: file2 is about 38Gb in size (1,529 columns and ~8.3 million rows), file1 is smaller as it only has 6 columns instead of 1,529. </li>\n<li>I can make file1 such that it will only contain the changes to be implemented. The number of rows would then be around 8,000 I guesstimate.</li>\n<li>I should also note that the <em>number</em> of keys isn't necessarily equal nor in sorted in the same order!</li>\n</ul>\n\n<p>Below I have put the heads of the two files. So the expected result would look like this for the_new_file2:</p>\n\n<blockquote>\n  <p>SNP A1 A2 UPID00126-UPID00126-A318-0034 UPID01799-UPID01799-A318-0492 UPID01890-UPID01890-A318-0151 UPID00306-UPID00306-A318-0245 UPID00629-UPID00629-A318-0033 UPID01934-UPID01934-A318-0215 UPID00526-UPID00526-A318-0526<br>\n  rs12565286 C G 0.0190125 0.0339966 0.0130005 0.00500488 0.0109863 0.0180054 0.00500488<br>\n  rs11804171 A T 0.0249939 0.154999 0.0310059 0.0169983 0.0159912 0.0230103 0.0159912<br>\n  rs2977670 C G 1.95801 1.745 1.31201 1.97299 1.97198 1.96301 1.97299<br>\n  rs143225517 C T 0 0.93399 0.989014 0 0 0 0<br>\n  rs3094315 A G 2 1 1 2 2 2 2<br>\n  rs3131972 G A 1.99701 0.997009 0.997986 1.99701 1.99499 1.987 1.99701<br>\n  rs3131971 C T 1.89301 1.07901 1.08902 1.98901 1.86801 1.92798 1.982<br>\n  rs2073814 G C 1.98001 0.983002 0.993988 1.97601 1.98401 1.979 1.97601<br>\n  rs2073813 A G 0.00299072 0.915039 0.899017 0.00299072 0.00299072 0.00201416 0.00299072<br>\n  rs3131969 G A 1.996 1.03097 1.09598 1.99701 1.99701 1.99701 1.996<br>\n  rs3131968 G A 1.996 1.02801 1.09396 1.996 1.99701 1.99701 1.99499<br>\n  rs3131967 C T 1.931 1.01202 1.08701 1.98999 1.93298 1.97101 1.987<br>\n  rs3115859 A G 1.996 1.02502 1.09497 1.99701 1.99399 1.98599 1.991<br>\n  rs34927559 G A 1.91898 1.61298 1.845 1.91901 1.94299 1.77402 1.952<br>\n  rs115173026 T G 0.423004 0.420013 0.11499 1.09097 0.51001 0.618988 0.114013<br>\n  <strong>chr1:956061:I I D</strong> 0.356018 0.395996 0.10202 1.09903 0.530975 0.505005 0.0679932<br>\n  rs116130865 T C 0.420014 0.420013 0.113983 1.09003 0.503968 0.535004 0.11203<br>\n  rs111893801 T C 0.0239868 0.0180054 0.00601196 0.0209961 0.019989 0.0610046 0.00299072 </p>\n</blockquote>\n\n<p>You can see in bold in the above \"expected result\" and below in the <code>head</code> of file1 and file2 that columns 2 and 2 for key \"chr1:956061:I\" changed. From \"AG G\" to \"I D\".</p>\n\n<p>I do have some experience in bash. But I'm thinking <code>awk</code> will be quite slow, and probably <code>perl</code> or <code>python</code> might be much faster. I've seen something here: <a href=\"https://stackoverflow.com/questions/17140886/how-to-search-and-replace-text-in-a-file-using-python\"><a href=\"https://stackoverflow.com/questions/17140886/how-to-search-and-replace-text-in-a-file-using-python\">How to search and replace text in a file using Python?</a></a>. But that is just replacing, and not based on a key-variable.</p>\n\n<p>It would be awesome if someone can give me some pointers on how to go about this.</p>\n\n<p>Thanks!</p>\n\n<hr>\n\n<p>Upon popular request below the <code>head</code> of file 1 and file 2.</p>\n\n<p><strong><em>Head file1</em></strong></p>\n\n<blockquote>\n  <p>SNP A1_new A2_new<br>\n  <strong>chr1:956061:I I D</strong><br>\n  chr1:3716325:I I D<br>\n  chr1:4095845:I I D<br>\n  chr1:4097079:I I D  </p>\n</blockquote>\n\n<p><strong><em>Head file2</em></strong></p>\n\n<blockquote>\n  <p>SNP A1 A2 UPID00126-UPID00126-A318-0034 UPID01799-UPID01799-A318-0492 UPID01890-UPID01890-A318-0151 UPID00306-UPID00306-A318-0245 UPID00629-UPID00629-A318-0033 UPID01934-UPID01934-A318-0215 UPID00526-UPID00526-A318-0526<br>\n  rs12565286 C G 0.0190125 0.0339966 0.0130005 0.00500488 0.0109863 0.0180054 0.00500488<br>\n  rs11804171 A T 0.0249939 0.154999 0.0310059 0.0169983 0.0159912 0.0230103 0.0159912<br>\n  rs2977670 C G 1.95801 1.745 1.31201 1.97299 1.97198 1.96301 1.97299<br>\n  rs143225517 C T 0 0.93399 0.989014 0 0 0 0<br>\n  rs3094315 A G 2 1 1 2 2 2 2<br>\n  rs3131972 G A 1.99701 0.997009 0.997986 1.99701 1.99499 1.987 1.99701<br>\n  rs3131971 C T 1.89301 1.07901 1.08902 1.98901 1.86801 1.92798 1.982<br>\n  rs2073814 G C 1.98001 0.983002 0.993988 1.97601 1.98401 1.979 1.97601<br>\n  rs2073813 A G 0.00299072 0.915039 0.899017 0.00299072 0.00299072 0.00201416 0.00299072<br>\n  rs3131969 G A 1.996 1.03097 1.09598 1.99701 1.99701 1.99701 1.996<br>\n  rs3131968 G A 1.996 1.02801 1.09396 1.996 1.99701 1.99701 1.99499<br>\n  rs3131967 C T 1.931 1.01202 1.08701 1.98999 1.93298 1.97101 1.987<br>\n  rs3115859 A G 1.996 1.02502 1.09497 1.99701 1.99399 1.98599 1.991<br>\n  rs34927559 G A 1.91898 1.61298 1.845 1.91901 1.94299 1.77402 1.952<br>\n  rs115173026 T G 0.423004 0.420013 0.11499 1.09097 0.51001 0.618988 0.114013<br>\n  <strong>chr1:956061:I AG A</strong> 0.356018 0.395996 0.10202 1.09903 0.530975 0.505005 0.0679932<br>\n  rs116130865 T C 0.420014 0.420013 0.113983 1.09003 0.503968 0.535004 0.11203<br>\n  rs111893801 T C 0.0239868 0.0180054 0.00601196 0.0209961 0.019989 0.0610046 0.00299072<br>\n  rs9777931 T C 1.54102 1.27399 1.75003 0.863983 1.46597 1.33801 1.07199<br>\n  rs3121553 C G 0.419007 0.364014 0.112976 1.08801 0.562989 0.546997 0.110016<br>\n  rs809912 T C 1 1 0 1 1 0 1<br>\n  rs196128 G T 1 1 0 1 1 0 1<br>\n  rs262676 A T 1 1 0 1 1 0 1<br>\n  rs196127 A T 1 1 0 1 1 0 1<br>\n  rs149435595 C A 0.019989 0.0509949 0.478027 0.0580139 0.337006 0.0169983 0.705994<br>\n  rs12082939 T C 1.021 1.17899 0.442963 1.22 1.008 0.00900269 1.056<br>\n  rs262675 G A 0.998993 0.822998 0 1 0.997986 0 0.971985<br>\n  rs262672 T G 1 1 0 1 1 0 1<br>\n  rs262671 A C 1 1 0 1 0.997986 0 1<br>\n  rs3107126 A C 0 0 0.0039978 0.0119934 0 0.00100708 0.0150146<br>\n  rs11583093 A G 0.00799561 0.184998 0.0130005 0.00698853 0 0.0159912 0.00900269<br>\n  rs262670 T C 1 1 0 1 1 0 1<br>\n  rs262669 A G 1 1 0.0039978 1.01199 1 0 1.01501<br>\n  rs9442619 T C 0 0 0.0039978 0.0109863 0 0 0.0150146<br>\n  rs2257182 C T 1.021 1.17899 0.442963 1.22 1.008 0.00900269 1.056<br>\n  rs262668 G A 1 1 0.0039978 1.01199 1 0 1.01501<br>\n  rs262667 C T 1 1 0 1 1 0 1<br>\n  rs34944978 A G 0 0 0 0 0 0 0<br>\n  rs262665 G A 1 1 0 1 1 0 1<br>\n  rs262664 C G 1 1 0.0039978 1.01199 1 0 1.01501<br>\n  rs2503704 C T 1.43301 1.43503 1.28302 1.5 1.86999 1.444 1.85998<br>\n  rs262663 C T 1 1 0.0039978 1.01199 1 0.00100708 1.01501<br>\n  rs262662 G A 1 1 0.0039978 1.01199 1 0 1.01501<br>\n  rs3107125 A G 0 0 0 0 0 0 0<br>\n  rs2459984 G A 1.021 1.17899 0.442963 1.22 1.008 0.00799561 1.056<br>\n  rs61776606 A G 0.0169983 0 0.00299072 0.0289917 0.00601196 0.676025 0<br>\n  rs2459983 G A 1.39798 1.858 1.871 1.798 1.91199 1.54697 1.92499<br>\n  rs262661 C T 1 1 0 1 1 0 1<br>\n  rs262660 G A 1 1 0 1 1 0 1<br>\n  chr1:2087094:I AATG A 0.997986 1.00101 0.00900269 1.04199 1 0.00201416 1.01599<br>\n  rs3123592 C T 0 0 0.0039978 0.0109863 0 0 0.0159912<br>\n  rs381664 G A 1 1 0 1 1 0 1<br>\n  rs72629470 A G 1 1 0 1.00101 0 0 0<br>\n  rs151048557 T C 0.0039978 0 0 0.00201416 0.0180054 0.00100708 0<br>\n  rs72629471 G C 1 1 0 1 0 0 0<br>\n  rs72629472 C G 1 0 0 1 0 0 0<br>\n  rs116329948 T C 0 0.266998 0 0 0 0.0039978 0<br>\n  rs16823335 A G 1 1 0 1 0 0 0<br>\n  rs12028094 T C 1 1 0 1 0 0 0<br>\n  rs141183701 T C 0 0 0.00201416 0 0.00100708 0.00299072 0.0150146<br>\n  rs10797377 A G 1 1.004 0 1 0 0 0<br>\n  rs72629473 A G 0.00201416 0 0 0.985992 0 0 0<br>\n  rs12063869 A T 1 1.004 0 1 0 0 0<br>\n  rs2889476 C T 1.08701 1.30301 0.019989 1.004 0.052002 0.00299072 0.0100098<br>\n  rs946175 G A 1.08801 1.30301 0.019989 1.004 0.052002 0.00299072 0.00900269<br>\n  rs946176 T C 1 1 0 1 0 0 0<br>\n  rs946177 G A 1.08701 1.302 0.019989 1.004 0.052002 0.00299072 0.00900269<br>\n  rs61763644 T C 0.0710144 0.0039978 0.0690002 0.0209961 0.00100708 0 0<br>\n  rs2027262 C T 1 1 0 1 0 0 0<br>\n  rs2027263 G A 1 1.004 0 1 0.00100708 0 0<br>\n  rs2027264 A G 1 1 0 1 0 0 0<br>\n  rs111412502 T C 1 1.00201 0 1 0 0 0<br>\n  rs11802804 G T 1 1.00699 0 1 0.00100708 0 0<br>\n  rs111668563 G T 1 0.944 0 1 0 0 0<br>\n  rs112539394 A G 1 0.941986 0 1 0 0 0<br>\n  rs12028439 G A 1.00601 1.01001 0 1.00201 0.00100708 0 0<br>\n  rs12024879 A G 1 1.00903 0 1 0.00100708 0 0<br>\n  rs12027818 T C 1.02399 1.013 0.00100708 1.03799 0.131989 0 0.00100708<br>\n  rs6685625 C T 0.109985 0.0169983 0.00799561 0.131012 0.0390015 0.00299072 0.14801<br>\n  rs12027883 T C 1 1.00998 0 1 0 0 0<br>\n  rs7534897 T C 0.0130005 0.596985 0.562012 0.00500488 0.0159912 1.11197 0.317993<br>\n  rs6681651 T C 1.09698 1.591 0.0390015 1.01999 0.0539856 0.00201416 0.00900269<br>\n  rs6691208 A C 1.091 1.65201 0.019989 1.005 0.0539856 0.00299072 0.00799561<br>\n  rs4357486 C G 1 1.04901 0.0700073 1 0 0 0.00299072<br>\n  rs4486390 T C 1 1.04901 0.0700073 1 0 0 0.00299072<br>\n  rs7536203 A G 0.437012 0 0.00100708 0.0119934 0.148987 0.00201416 0<br>\n  rs59869348 C T 1.091 1.629 0.019989 1.004 0.0549927 0.00201416 0.00799561<br>\n  rs59041920 T C 1.091 1.629 0.0190125 1.004 0.0549927 0.00201416 0.00799561<br>\n  rs60366070 T C 0.0910034 0.604034 0.019989 0.00500488 0.0549927 0.00201416 0.00799561<br>\n  rs56401121 A G 0.0910034 0.604034 0.019989 0.00500488 0.0549927 0.00201416 0.00799561<br>\n  rs72629480 T C 1 1.061 0 1 0 0 0<br>\n  rs58317195 G A 0.0910034 0.60498 0.019989 0.00500488 0.0549927 0.00201416 0.00799561<br>\n  rs114933164 C A 0.645996 0.54602 0.0190125 0.0039978 0.0549927 0.00201416 0.00698853<br>\n  rs6680039 G C 0.0920105 0.603027 0.0190125 0.00500488 0.0549927 0.00201416 0.00799561<br>\n  rs114412925 A G 0.0270081 0 0 0.0450134 0.131012 0 0<br>\n  rs6680573 G C 1.09201 1.67703 0.0190125 1.005 0.0559998 0.00201416 0.00799561<br>\n  rs56200661 T C 1 0.0039978 0 0.919006 0 0 0<br>\n  rs72629481 A G 1 0.0039978 0 0.919006 0 0 0<br>\n  rs17389878 A G 0 0 0 0 0 0 0<br>\n  rs116142632 T G 0.00500488 0.00201416 0.274994 0 0.00799561 0.567017 0.127991<br>\n  rs16823357 C T 0 0.609985 0 0 0.00100708 0 0.00100708<br>\n  rs12564456 G C 1 1.974 0 1 0.00100708 0.00100708 0.00201416<br>\n  rs55949537 T A 1 1.978 0 1.00201 0.00100708 0 0.00201416<br>\n  rs55784203 T G 1 1.98001 0 1.00201 0.00100708 0 0.00201416<br>\n  rs56091202 G A 1 1.98001 0 1.00201 0.00100708 0 0.00201416<br>\n  rs10909862 A G 1 0.0190125 2 0.989014 1.99799 1.99799 1.99701<br>\n  rs10492936 A G 0 0.615021 0 0 0 0 0.00201416<br>\n  rs67758087 G A 1 1.98401 0 1.00201 0.00100708 0 0.00201416<br>\n  rs12033927 G A 1 1.37503 0 1.00101 0 0 0<br>\n  rs12034794 G T 1 1.98999 0 1.00201 0.00100708 0 0.00201416<br>\n  rs4576609 T C 1 1.99301 0 1 0 0 0<br>\n  rs3795262 G T 1 1.98901 0 1 0 0 0<br>\n  rs3795263 A G 0.0950012 0 0.453033 0.627014 1.10703 0.880981 0.627991<br>\n  rs55873718 G A 1 1.996 0 1 0 0 0<br>\n  rs61763646 A G 0.052002 0 0.0910034 0.0209961 0.0039978 0 0<br>\n  rs56176404 G A 1 1.38098 0 1 0 0 0<br>\n  rs7412983 C A 1 1.99701 0 1 0 0 0<br>\n  rs58265521 A C 1 1.99701 0 1 0 0 0<br>\n  rs117759489 A C 0.00201416 0 0.0039978 0.0119934 0.00201416 0 0<br>\n  rs60287244 G A 1 1.99701 0 1 0 0 0<br>\n  rs12034766 G A 1 1.99701 0 1 0 0 0<br>\n  rs12033401 T C 1 1.35101 0 1 0 0 0<br>\n  rs2142569 A G 0.105988 0 1.00403 0.628998 1.11801 1.992 0.930023<br>\n  rs143965216 T C 0 0 0.00100708 0 0 0 0<br>\n  rs57893585 A T 1 1.99799 0 1 0 0 0<br>\n  rs189380075 G C 0 0.00299072 0.026001 0.00100708 0 0 0<br>\n  rs6693975 A G 1 1.362 0 1 0 0 0<br>\n  rs6693982 A G 0.878998 1.991 0 1 0 0 0<br>\n  rs141204614 T G 0.00500488 0.00100708 0.276001 0 0.00799561 1.05502 0.130005<br>\n  rs12038530 A T 1 1.99799 0 1 0 0 0<br>\n  rs12037307 A C 1 1.35101 0 1 0 0 0<br>\n  rs12039548 C T 1 1.99899 0 1 0 0 0<br>\n  rs12034573 A G 1 1.99899 0 1 0 0 0<br>\n  rs10909864 C T 1 2 0 1 0 0 0<br>\n  rs1890338 T C 1 2 0 1 0 0 0<br>\n  rs58311021 A G 0 0.621979 0 0 0 0 0<br>\n  rs12039132 T C 1 1.97199 0 1 0 0 0<br>\n  rs7514166 C G 1 2 0 1 0 0 0<br>\n  rs34408665 C T 1 2 0 1 0 0 0<br>\n  rs58052947 C T 1 2 0 1 0 0 0<br>\n  rs56398543 A G 1 2 0 1 0 0 0<br>\n  rs6661908 A G 1 2 0 1 0 0 0<br>\n  rs41334845 T G 1 0.269012 0 1 0 0 0<br>\n  rs6679678 C T 1 2 0 1 0 0 0<br>\n  rs12042403 C T 0.45401 1.99799 0 1 0 0 0<br>\n  rs12041583 G A 0.45401 1.99799 0 1 0 0 0<br>\n  rs12041634 T A 1 2 0 1 0 0 0<br>\n  rs12040299 T C 1 2 0 1 0 0 0<br>\n  rs10489589 C T 1 2 0 1 0 0 0<br>\n  rs72629493 A G 1 2 0 1 0 0 0<br>\n  rs72629494 C T 1 2 0 1 0 0 0<br>\n  rs12408197 T C 1 2 0 1 0 0 0<br>\n  rs67025412 C T 1 2 0 1 0 0 0<br>\n  rs10489588 A G 1 2 0 1 0 0 0<br>\n  rs67630839 T C 1 2 0 1 0 0 0<br>\n  rs78841195 G A 0 0 0 0 0 0 0<br>\n  rs1005471 C T 1 2 0 1 0 0 0<br>\n  rs9660819 T C 1 2 0 1 0 0 0<br>\n  rs9661525 G T 1 2 0 1 0 0 0<br>\n  rs72629496 A G 1 0.269012 0 1 0 0 0<br>\n  rs16823392 G C 1 2 0 1 0 0 0<br>\n  rs116556794 T C 0 0 0 0 0 0 0<br>\n  rs74048148 G A 1 1.99701 0 1 0 0 0<br>\n  rs77415878 G C 1 1.99701 0 1 0 0 0<br>\n  rs113272167 T C 1 1.99701 0 1 0 0 0<br>\n  rs112690788 G A 1 1.99701 0 1 0 0 0<br>\n  rs72856433 A G 1 1.99701 0 1 0 0 0<br>\n  rs72629497 C T 1 2 0 1 0 0 0<br>\n  rs67872056 T C 1 2 0 1 0 0 0<br>\n  rs72629498 T C 1 1.35199 0 1 0 0 0<br>\n  rs67289919 A G 1 2 0 1 0 0 0<br>\n  rs67919793 C T 1 2 0 1 0 0 0<br>\n  rs67908307 C T 1 2 0 1 0 0 0<br>\n  rs75400926 C T 0.877991 1.82599 0 0.928009 0 0 0<br>\n  rs12036378 A G 1 2 0.00100708 1 0 0 0<br>\n  rs55863899 G C 1 0.268005 0 1 0 0 0<br>\n  rs74048152 T G 0 0.64801 0 0 0 0 0<br>\n  rs66693767 G A 1 2 0 1 0 0 0<br>\n  rs10909865 G A 1 2 0.00299072 1 0 0 0<br>\n  rs72856440 G A 1 2 0 1 0 0 0<br>\n  rs2993510 C T 1 2 0 1 0 0 0<br>\n  rs113884577 A G 0.0180054 0 0.0039978 0.0239868 0.0039978 0 0<br>\n  rs12567620 G T 1 2 0 1 0 0 0<br>\n  rs12566487 A G 0 0.64801 0 0 0 0 0<br>\n  rs12409277 C T 1 2 0 1 0 0 0<br>\n  rs12044162 G A 1 1.992 0 1 0 0 0<br>\n  rs12724379 A C 0.00100708 0 0.312988 0.0039978 0.00100708 0 0<br>\n  rs6684233 A C 0 0.650024 0 0 0 0 0<br>\n  rs6692292 C T 1 1.93701 0 1 0.00201416 0 0<br>\n  rs56213325 A G 0.0039978 0 0 0.0190125 0.00100708 0.00100708 0.00201416<br>\n  rs12045368 G A 1 1.28 0 1 0.00201416 0 0<br>\n  chr1:2960196:I TCAAACAAA T 1 1.931 0 0.98999 0.00201416 0 0<br>\n  rs10909866 T C 1 1.92801 0 1 0.00201416 0 0<br>\n  rs12046233 G A 1 1.28 0 1 0.00201416 0 0<br>\n  rs12044848 T C 1 1.92499 0 1 0.00201416 0 0<br>\n  rs12120940 A G 0.0150146 0.0180054 0.0710144 0.0299988 0.0100098 0.0820007 0.00900269<br>\n  rs2651900 T G 0.388 0.0039978 0.665985 0.230011 0.600006 0 0.21698<br>\n  rs2075968 T C 0.442993 0 0.312988 0.756989 0.320007 0 0.888001<br>\n  rs1627080 C T 1.00201 0.0969849 1.009 1.008 1 0.00799561 2<br>\n  rs116609258 A C 0.0820007 0 0.556 0.00900269 0.0830078 0 0.019989<br>\n  rs117719590 C T 0.0830078 0 0.0230103 0.0100098 0.0710144 0 0.871978<br>\n  rs2817128 C T 2 2 2 2 1.99799 2 1.91199<br>\n  rs2817129 C G 1.68399 1.923 1.327 1.867 1.48898 1.99399 1.84402<br>\n  rs79551700 T C 0.07901 0.00100708 0.0039978 0.0429993 0.0570068 0.00201416 0.0320129<br>\n  rs35019643 G C 0.07901 0.00100708 0.0039978 0.0429993 0.0570068 0.00201416 0.0320129<br>\n  chr1:3089167:I CG C 0.07901 0.00100708 0.0039978 0.0429993 0.0570068 0.00201416 0.0320129<br>\n  rs34503920 T C 0.07901 0.00201416 0.0039978 0.0429993 0.0570068 0.00201416 0.0320129<br>\n  rs2455110 A G 0.132995 0.0329895 0.0870361 0.0930176 0.510986 0.137024 0.052002<br>\n  rs56788035 A G 0.0700074 0.00799561 0.0629883 0.0209961 0.427032 0.0799866 0.0409851<br>\n  rs2455109 T A 0.15799 0.0549927 0.0950317 0.557984 0.529023 0.150024 0.10199<br>\n  rs11807062 C A 0.15799 0.332031 0.0940246 0.543 0.526001 0.150024 0.0969849<br>\n  rs60951434 A G 0.0700074 0.00799561 0.0629883 0.0220032 0.485992 0.0799866 0.0409851<br>\n  rs113002511 G A 0.00100708 0.00799561 0.00601196 0.0100098 0.0100098 0.0100098 0.00201416<br>\n  rs4648372 G A 0.156983 0.32901 0.0950317 0.55603 0.473999 0.0809937 0.0960083<br>\n  rs4648373 T C 0.156983 0.32901 0.0940246 0.548981 0.466003 0.0809937 0.0549927<br>\n  rs10909907 G A 0.165009 0.32901 0.0950317 0.55603 0.843994 0.0849915 0.0950012<br>\n  rs2249336 C T 0.132995 0.307984 0.0910339 0.107971 0.46698 0.0700073 0.0539856<br>\n  rs2249319 T C 0.0710144 0.00799561 0.0650024 0.0239868 0.437988 0.0150146 0.0400085<br>\n  rs2249318 T C 0.0710144 0.00799561 0.0650024 0.0239868 0.437988 0.0150146 0.0400085<br>\n  rs2455112 G A 0.413971 0.323975 0.36502 0.163025 0.5 0.369018 1.13498<br>\n  rs12755504 G A 0.0419922 0.00799561 0.0599976 0.026001 0.378021 0.0130005 0.0390015<br>\n  rs12071366 G C 1 0 0.00100708 0 0 0 0<br>\n  rs6424052 G A 0 0.998993 0.0509949 1.98901 0 0 0.993988<br>\n  rs7543006 G C 1 0 0 0 0 0 0<br>\n  rs56710549 G C 0 0 0.234985 0 0 0 0<br>\n  rs140255410 A G 0 0.00601196 0.0130005 0 0.0190125 0.00201416 0.00299072<br>\n  rs111484302 G A 0 0 0.467987 0 0 0 0<br>\n  rs9424286 T G 0.0100098 0 0.0379944 0 0 0 0.00299072<br>\n  rs112460330 C T 0 0 0 0 0 0 0<br>\n  chr1:3716325:I GCCCTGCACCC G 0.00100708 0 0 0.0039978 0 0 0<br>\n  rs9424299 G A 1.96399 1.72199 1.73801 2 0.850006 0.98703 1.85998<br>\n  rs60615207 A G 0.0509949 0.00698853 0.237 0.0180054 0.0249939 0 0.0339966<br>\n  rs77743432 A C 0.473999 0 0.00100708 0 0 0 0  </p>\n</blockquote>\n"}, {"tags": ["perl", "oop", "constructor", "accessor"], "comments": [{"owner": {"reputation": 320771, "user_id": 589924, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/b2cf53d5a3d25f95c0db4e025aed4153?s=128&d=identicon&r=PG", "display_name": "ikegami", "link": "https://stackoverflow.com/users/589924/ikegami"}, "edited": false, "score": 2, "creation_date": 1458665597, "post_id": 36159668, "comment_id": 59958155, "body": "Perl doesn&#39;t have a concept of constructor. <code>new</code> is just a static method like any other."}], "answers": [{"comments": [{"owner": {"reputation": 7704, "user_id": 3964397, "user_type": "registered", "accept_rate": 86, "profile_image": "https://www.gravatar.com/avatar/640272a326ae5f3cd89364b78f2108c9?s=128&d=identicon&r=PG", "display_name": "tjwrona1992", "link": "https://stackoverflow.com/users/3964397/tjwrona1992"}, "edited": false, "score": 0, "creation_date": 1458664112, "post_id": 36159940, "comment_id": 59957161, "body": "I have used Moose before, but it isn&#39;t readily available on the server I am working on and there is a long process to request new software or libraries that I just don&#39;t want to deal with...  I do really like the idea of an init function though.  It looks quite elegant.  Thanks!"}, {"owner": {"reputation": 50468, "user_id": 1331451, "user_type": "registered", "accept_rate": 96, "profile_image": "https://i.stack.imgur.com/4ZPmj.png?s=128&g=1", "display_name": "simbabque", "link": "https://stackoverflow.com/users/1331451/simbabque"}, "reply_to_user": {"reputation": 7704, "user_id": 3964397, "user_type": "registered", "accept_rate": 86, "profile_image": "https://www.gravatar.com/avatar/640272a326ae5f3cd89364b78f2108c9?s=128&d=identicon&r=PG", "display_name": "tjwrona1992", "link": "https://stackoverflow.com/users/3964397/tjwrona1992"}, "edited": false, "score": 0, "creation_date": 1458664166, "post_id": 36159940, "comment_id": 59957202, "body": "@tjwrona1992 you can go with Moo, and in the worst case <a href=\"https://metacpan.org/pod/App::FatPacker\" rel=\"nofollow noreferrer\">fatpack</a> it with your application."}, {"owner": {"reputation": 50468, "user_id": 1331451, "user_type": "registered", "accept_rate": 96, "profile_image": "https://i.stack.imgur.com/4ZPmj.png?s=128&g=1", "display_name": "simbabque", "link": "https://stackoverflow.com/users/1331451/simbabque"}, "reply_to_user": {"reputation": 7704, "user_id": 3964397, "user_type": "registered", "accept_rate": 86, "profile_image": "https://www.gravatar.com/avatar/640272a326ae5f3cd89364b78f2108c9?s=128&d=identicon&r=PG", "display_name": "tjwrona1992", "link": "https://stackoverflow.com/users/3964397/tjwrona1992"}, "edited": false, "score": 0, "creation_date": 1458664260, "post_id": 36159940, "comment_id": 59957268, "body": "And on the other hand, if you deal with it once, you have it for all your projects. Having a process is soooo much better than most people here complaining that they are not allowed to use CPAN. ;)"}], "tags": [], "owner": {"reputation": 50468, "user_id": 1331451, "user_type": "registered", "accept_rate": 96, "profile_image": "https://i.stack.imgur.com/4ZPmj.png?s=128&g=1", "display_name": "simbabque", "link": "https://stackoverflow.com/users/1331451/simbabque"}, "is_accepted": true, "score": 2, "last_activity_date": 1458664114, "last_edit_date": 1458664114, "creation_date": 1458663926, "answer_id": 36159940, "question_id": 36159668, "link": "https://stackoverflow.com/questions/36159668/can-i-use-accessor-methods-in-a-constructor/36159940#36159940", "title": "Can I use accessor methods in a constructor?", "body": "<p><strong>Yes</strong>, you can do that. </p>\n\n<p>But from an OOP perspective it might make sense to move that code into an <code>init</code> method, so the constructor only <em>creates</em> the object. It's basically done after you've called <code>bless</code>.</p>\n\n<pre><code>sub new {\n    my $class = shift;\n\n    # Create an empty object\n    my $self = bless {};\n\n    # initialize the object\n    $self-&gt;init(@_);\n\n    return $self;\n}\n\nsub init {\n    my ($self, %args) = @_;\n\n    # Get input arguments\n    my $second = exists $args{'second'} ? $args{'second'} : (localtime)[0];\n\n    # Use the accessor to validate and populate object data\n    $self-&gt;second($second);\n\n    return;\n}\n</code></pre>\n\n<hr>\n\n<p>Have you considered using <a href=\"http://p3rl.org/Moose\" rel=\"nofollow\">Moose</a>? You can also use <a href=\"https://metacpan.org/pod/Type::Tiny\" rel=\"nofollow\">Type::Tiny</a> for your type constraints, even if you want to stick with <em>manual oop</em>.</p>\n"}], "owner": {"reputation": 7704, "user_id": 3964397, "user_type": "registered", "accept_rate": 86, "profile_image": "https://www.gravatar.com/avatar/640272a326ae5f3cd89364b78f2108c9?s=128&d=identicon&r=PG", "display_name": "tjwrona1992", "link": "https://stackoverflow.com/users/3964397/tjwrona1992"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 187, "favorite_count": 0, "accepted_answer_id": 36159940, "answer_count": 1, "score": 3, "last_activity_date": 1458664114, "creation_date": 1458663249, "question_id": 36159668, "link": "https://stackoverflow.com/questions/36159668/can-i-use-accessor-methods-in-a-constructor", "title": "Can I use accessor methods in a constructor?", "body": "<p>I am writing a simple Perl module that handles time and date information.  Below is a simplified version of the constructor and one of the accessor methods:</p>\n\n<pre><code>package Time;\n\n# Constructor\nsub new {\n    my $class = shift;\n    my %args  = @_;\n\n    # Create an empty object\n    my $self = bless {};\n\n    # Get input arguments\n    my $second = exists $args{'second'} ? $args{'second'} : (localtime)[0];\n\n    # Use the accessor to validate and populate object data\n    $self-&gt;second($second);\n\n    return $self;\n}\n\n# Second accessor\nsub second {\n    my $self   = shift;\n    my $second = shift;\n\n    # Input validation\n    if (defined $second) {\n        if ($second =~ m{^\\d+$} &amp;&amp; $second &gt;= 0 &amp;&amp; $second &lt;= 59) {\n            $self-&gt;{'second'} = $second;\n        }\n        else {\n            die \"'second' must be an integer between 0 and 59!\";\n        }\n    }\n\n    return $self-&gt;{'second'};\n}\n</code></pre>\n\n<p>My question is... <strong><em>Is it acceptable to use an accessor in object construction in Perl?</em></strong></p>\n\n<p>Using the accessor inside of the constructor makes it so I don't need all of the validation code in the constructor itself since the input is validated by the accessor, but is this bad practice?</p>\n\n<p>Is there any reason I would not want to do this?</p>\n"}, {"tags": ["perl", "testing", "makefile", "nmake"], "answers": [{"tags": [], "owner": {"reputation": 50468, "user_id": 1331451, "user_type": "registered", "accept_rate": 96, "profile_image": "https://i.stack.imgur.com/4ZPmj.png?s=128&g=1", "display_name": "simbabque", "link": "https://stackoverflow.com/users/1331451/simbabque"}, "is_accepted": false, "score": 2, "last_activity_date": 1458664556, "creation_date": 1458664556, "answer_id": 36160153, "question_id": 36159250, "link": "https://stackoverflow.com/questions/36159250/running-specific-test-which-is-part-of-goal-test-in-makefile/36160153#36160153", "title": "Running specific test which is part of goal test in Makefile", "body": "<p>You can't. Those are commands inside of the <a href=\"https://metacpan.org/source/SHAY/perl-5.22.1/lib/File/Copy.t\" rel=\"nofollow\">Copy.t</a> file. What you can do is run just the Copy.t with prove and add the <code>-v</code> flag to get it to be verbose though, and it will tell you exactly <em>which one</em> fails. But there is no way to just run one piece of a .t file.</p>\n\n<p>That would look like this:</p>\n\n<pre><code>foo@bar: ~/file-copy $ prove -vl File/Copy.t\n</code></pre>\n"}], "owner": {"reputation": 1, "user_id": 4978360, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/150a5da36aa910d2fecae37698775cdc?s=128&d=identicon&r=PG&f=1", "display_name": "Sergey", "link": "https://stackoverflow.com/users/4978360/sergey"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 37, "favorite_count": 0, "answer_count": 1, "score": 0, "last_activity_date": 1458664556, "creation_date": 1458662216, "question_id": 36159250, "link": "https://stackoverflow.com/questions/36159250/running-specific-test-which-is-part-of-goal-test-in-makefile", "title": "Running specific test which is part of goal test in Makefile", "body": "<p>I'm running \"nmake test\" and experience 2 failing tests.</p>\n\n<p>Here is the Test Summary Report:</p>\n\n<pre><code>Test Summary Report\n-------------------\n../lib/File/Copy.t                                              (Wstat: 256 Tests: 466 Failed: 1)\n  Failed test:  53\n  Non-zero exit status: 1\n../lib/locale.t                                                 (Wstat: 0 Tests: 660 Failed: 1)\n  Failed test:  424\nFiles=2384, Tests=696984, 1309 wallclock secs (73.41 usr +  4.73 sys = 78.14 CPU)\n</code></pre>\n\n<p>How to run these 2 tests without running whole goal?</p>\n"}, {"tags": ["regex", "perl", "awk", "sed"], "comments": [{"owner": {"reputation": 2847, "user_id": 5049185, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/46f0d2dc8ee06f428e43d0d115a57c4f?s=128&d=identicon&r=PG&f=1", "display_name": "syck", "link": "https://stackoverflow.com/users/5049185/syck"}, "edited": false, "score": 1, "creation_date": 1458651631, "post_id": 36155035, "comment_id": 59947219, "body": "<code>accessibility (S (S (access:stem) (ible:stem)) ity:suffix))</code> is incorrect, it should be <code>accessibility (S (S (access:stem) (ible:suffix) (ity:suffix))</code>, I think. The last three lines as well."}, {"owner": {"reputation": 43, "user_id": 4502433, "user_type": "registered", "accept_rate": 67, "profile_image": "https://lh3.googleusercontent.com/-5YMgYfxJlIw/AAAAAAAAAAI/AAAAAAAAANU/aMQqs-BQgy8/photo.jpg?sz=128", "display_name": "Karun", "link": "https://stackoverflow.com/users/4502433/karun"}, "reply_to_user": {"reputation": 2847, "user_id": 5049185, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/46f0d2dc8ee06f428e43d0d115a57c4f?s=128&d=identicon&r=PG&f=1", "display_name": "syck", "link": "https://stackoverflow.com/users/5049185/syck"}, "edited": false, "score": 0, "creation_date": 1458651761, "post_id": 36155035, "comment_id": 59947324, "body": "@syck. This is the format of data set"}, {"owner": {"reputation": 2847, "user_id": 5049185, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/46f0d2dc8ee06f428e43d0d115a57c4f?s=128&d=identicon&r=PG&f=1", "display_name": "syck", "link": "https://stackoverflow.com/users/5049185/syck"}, "edited": false, "score": 0, "creation_date": 1458651863, "post_id": 36155035, "comment_id": 59947383, "body": "Yes, but above you have suffix and below you have stem, and the last three lines do not have parens round the suffixes... what is the reason for?"}, {"owner": {"reputation": 2847, "user_id": 5049185, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/46f0d2dc8ee06f428e43d0d115a57c4f?s=128&d=identicon&r=PG&f=1", "display_name": "syck", "link": "https://stackoverflow.com/users/5049185/syck"}, "edited": false, "score": 2, "creation_date": 1458651955, "post_id": 36155035, "comment_id": 59947443, "body": "The parentheses for accessibility also do not match."}, {"owner": {"reputation": 43, "user_id": 4502433, "user_type": "registered", "accept_rate": 67, "profile_image": "https://lh3.googleusercontent.com/-5YMgYfxJlIw/AAAAAAAAAAI/AAAAAAAAANU/aMQqs-BQgy8/photo.jpg?sz=128", "display_name": "Karun", "link": "https://stackoverflow.com/users/4502433/karun"}, "reply_to_user": {"reputation": 2847, "user_id": 5049185, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/46f0d2dc8ee06f428e43d0d115a57c4f?s=128&d=identicon&r=PG&f=1", "display_name": "syck", "link": "https://stackoverflow.com/users/5049185/syck"}, "edited": false, "score": 0, "creation_date": 1458651976, "post_id": 36155035, "comment_id": 59947460, "body": "@syck I don&#39;t know. why it is like that. I am interested in presenting data in prescribed form. I have around 10000 pairs"}, {"owner": {"reputation": 123805, "user_id": 622310, "user_type": "registered", "accept_rate": 33, "profile_image": "https://www.gravatar.com/avatar/8b6d35219e1808520bc238b28161e2e6?s=128&d=identicon&r=PG", "display_name": "Borodin", "link": "https://stackoverflow.com/users/622310/borodin"}, "edited": false, "score": 1, "creation_date": 1458656026, "post_id": 36155035, "comment_id": 59950757, "body": "@Karun: The problems we have are with your required output that you have labelled <i>I need to convert it to this format</i>. Presumably you have written it yourself? Have you made a mistake with the last three lines, where the suffixes have a closing parenthesis but no opening one? For example, <code>abrasion</code> has <code>(ion:suffix)</code> whereas <code>addiction</code> has <code>ion:suffix)</code>"}, {"owner": {"reputation": 2847, "user_id": 5049185, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/46f0d2dc8ee06f428e43d0d115a57c4f?s=128&d=identicon&r=PG&f=1", "display_name": "syck", "link": "https://stackoverflow.com/users/5049185/syck"}, "edited": false, "score": 0, "creation_date": 1458662681, "post_id": 36155035, "comment_id": 59956112, "body": "Interesting thing that OP posted an almost identical question yesterday that already has an accepted and upvoted answer and contains more information on the topic than here, reposting here the code from that answer  and claiming it does not work. This is what I call wasting my time and I do not like it."}, {"owner": {"reputation": 43, "user_id": 4502433, "user_type": "registered", "accept_rate": 67, "profile_image": "https://lh3.googleusercontent.com/-5YMgYfxJlIw/AAAAAAAAAAI/AAAAAAAAANU/aMQqs-BQgy8/photo.jpg?sz=128", "display_name": "Karun", "link": "https://stackoverflow.com/users/4502433/karun"}, "reply_to_user": {"reputation": 2847, "user_id": 5049185, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/46f0d2dc8ee06f428e43d0d115a57c4f?s=128&d=identicon&r=PG&f=1", "display_name": "syck", "link": "https://stackoverflow.com/users/5049185/syck"}, "edited": false, "score": 0, "creation_date": 1458741300, "post_id": 36155035, "comment_id": 59995251, "body": "@syck. The funny fact is that no one really read the post and decided to mark it as duplicate."}, {"owner": {"reputation": 2847, "user_id": 5049185, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/46f0d2dc8ee06f428e43d0d115a57c4f?s=128&d=identicon&r=PG&f=1", "display_name": "syck", "link": "https://stackoverflow.com/users/5049185/syck"}, "edited": false, "score": 0, "creation_date": 1458749998, "post_id": 36155035, "comment_id": 60002270, "body": "borodin did. But it did not look like a question that has been asked here before, so noone did search for that. It would have been fair to give a link to the previous question and to give the additional information that you provided there. Even more as the example you provided here is not valid in the clause structure notation documented in the linked PDF document."}, {"owner": {"reputation": 43, "user_id": 4502433, "user_type": "registered", "accept_rate": 67, "profile_image": "https://lh3.googleusercontent.com/-5YMgYfxJlIw/AAAAAAAAAAI/AAAAAAAAANU/aMQqs-BQgy8/photo.jpg?sz=128", "display_name": "Karun", "link": "https://stackoverflow.com/users/4502433/karun"}, "reply_to_user": {"reputation": 2847, "user_id": 5049185, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/46f0d2dc8ee06f428e43d0d115a57c4f?s=128&d=identicon&r=PG&f=1", "display_name": "syck", "link": "https://stackoverflow.com/users/5049185/syck"}, "edited": false, "score": 0, "creation_date": 1458770895, "post_id": 36155035, "comment_id": 60014347, "body": "@syck. I took the code that was already there and I stated the problem.  The problem was  different because I tried to work with the code.  I just asked about the  problem of the code.  &quot;This code fails to produce desired output and produce results for only 5 tokens.&quot;  in the last line. Yeah, It is true that I did not link the old question. My mistake! And I accept it. This is not a justification."}], "answers": [{"tags": [], "owner": {"reputation": 2847, "user_id": 5049185, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/46f0d2dc8ee06f428e43d0d115a57c4f?s=128&d=identicon&r=PG&f=1", "display_name": "syck", "link": "https://stackoverflow.com/users/5049185/syck"}, "is_accepted": false, "score": 1, "last_activity_date": 1458653614, "last_edit_date": 1458653614, "creation_date": 1458653168, "answer_id": 36155630, "question_id": 36155035, "link": "https://stackoverflow.com/questions/36155035/printing-a-text-file-in-a-patteren/36155630#36155630", "title": "Printing a text file in a patteren", "body": "<p>Have look at <a href=\"https://eval.in/540393\" rel=\"nofollow\">this</a>:</p>\n\n<pre><code>#!/usr/bin/perl\n\n# provide data\n$t = &lt;&lt;'EOT';\nabrasion abrade:stem&lt;&gt;ion:suffix\nabstainer abstain:stem&lt;&gt;er:suffix\nabstention abstain:stem&lt;&gt;ion:suffix\naccessibility access:stem&lt;&gt;ible:suffix&lt;&gt;ity:suffix\naccretion accrete:stem&lt;&gt;ion:suffix\nactivist active:stem&lt;&gt;ist:suffix\nadaptable adapt:stem&lt;&gt;able:suffix\naddiction addict:stem&lt;&gt;ion:suffix\nEOT\n\n# iterate over lines\nforeach $line (split /\\n/, $t) {\n\n    # split the line\n    ($word, $def) = split /\\s+/, $line, 2;\n    @parts = split /\\&lt;\\&gt;/, $def;\n\n    # loop over attributes\n    $new = '';\n    for ($pos = 0; $pos&lt;$#parts; $pos++) {\n            $new = \n                $new eq '' ?\n                qq[(S ($parts[0]) ($parts[1]))] :  # create new entry\n                qq[(S $new ($parts[$pos]))];       # encapsulate existing entry\n    }\n\n    # output\n    print qq($word $new\\n);\n}\n</code></pre>\n\n<p>produces:</p>\n\n<pre><code>abrasion (S (abrade:stem) (ion:suffix))\nabstainer (S (abstain:stem) (er:suffix))\nabstention (S (abstain:stem) (ion:suffix))\naccessibility (S (S (access:stem) (ible:suffix)) (ible:suffix))\naccretion (S (accrete:stem) (ion:suffix))\nactivist (S (active:stem) (ist:suffix))\nadaptable (S (adapt:stem) (able:suffix))\naddiction (S (addict:stem) (ion:suffix))\n</code></pre>\n\n<p>Possibly the groupings at accessibility should be the other way round, but this is not proofable for me, because your example seems to be syntactically incorrect there.</p>\n\n<p>If this is the case, you would have to loop from <code>$#parts-1</code>to <code>0</code> instead.</p>\n\n<p>Or possibly all stems and all suffices should be grouped into an <code>S()</code> group seperately.</p>\n"}, {"tags": [], "owner": {"reputation": 723, "user_id": 4568433, "user_type": "registered", "profile_image": "https://lh5.googleusercontent.com/-A0ltyCE72fA/AAAAAAAAAAI/AAAAAAAAADY/4U7GU992t_E/photo.jpg?sz=128", "display_name": "Alexandr Evstigneev", "link": "https://stackoverflow.com/users/4568433/alexandr-evstigneev"}, "is_accepted": false, "score": 1, "last_activity_date": 1458653291, "creation_date": 1458653291, "answer_id": 36155677, "question_id": 36155035, "link": "https://stackoverflow.com/questions/36155035/printing-a-text-file-in-a-patteren/36155677#36155677", "title": "Printing a text file in a patteren", "body": "<pre><code>use v5.10;\nuse strict;\n\nwhile( my $line = &lt;&gt;)\n{\n    chomp $line;\n    if( $line =~ /^(\\w+)\\s+(.+)/)\n    {\n        my $word = $1;\n        my @stems = split '&lt;&gt;', $2;\n\n        if( @stems )\n        {\n            my $stems = sprintf '(%s)', shift @stems;\n            while( @stems )\n            {\n                $stems = sprintf '(S %s (%s))', $stems, shift @stems;\n            }\n            say \"$word $stems\";\n        }\n    }\n}\n</code></pre>\n"}, {"tags": [], "owner": {"reputation": 6728, "user_id": 2156952, "user_type": "registered", "accept_rate": 80, "profile_image": "https://i.stack.imgur.com/3mMoE.gif?s=128&g=1", "display_name": "TrueY", "link": "https://stackoverflow.com/users/2156952/truey"}, "is_accepted": false, "score": 1, "last_activity_date": 1458654244, "last_edit_date": 1458654244, "creation_date": 1458653703, "answer_id": 36155860, "question_id": 36155035, "link": "https://stackoverflow.com/questions/36155035/printing-a-text-file-in-a-patteren/36155860#36155860", "title": "Printing a text file in a patteren", "body": "<p>Although the example seems to be not correct I try to give an <a href=\"/questions/tagged/awk\" class=\"post-tag\" title=\"show questions tagged &#39;awk&#39;\" rel=\"tag\">awk</a> solution:</p>\n\n<pre><code>cat &gt;infile.txt &lt;&lt;TXT\nabrasion abrade:stem&lt;&gt;ion:suffix\nabstainer abstain:stem&lt;&gt;er:suffix\nabstention abstain:stem&lt;&gt;ion:suffix\naccessibility access:stem&lt;&gt;ible:suffix&lt;&gt;ity:suffix\naccretion accrete:stem&lt;&gt;ion:suffix\nactivist active:stem&lt;&gt;ist:suffix\nadaptable adapt:stem&lt;&gt;able:suffix\naddiction addict:stem&lt;&gt;ion:suffix\nTXT\n\nawk '\nfunction proc(desc,    p1, p2) { \n  if (match(desc, /^.*&lt;&gt;/, arr)) {\n    p1 = substr(desc, 1, RLENGTH - 2);\n    p2 = substr(desc, RLENGTH + 1);\n    return \"S (\" proc(p1) \") (\"p2\")\";\n  } \n\n  return desc;\n}\n\n{\n  print $1, \"(\" proc($2) \")\"\n}\n' infile.txt\n</code></pre>\n\n<p>Output:</p>\n\n<pre><code>abrasion (S (abrade:stem) (ion:suffix))\nabstainer (S (abstain:stem) (er:suffix))\nabstention (S (abstain:stem) (ion:suffix))\naccessibility (S (S (access:stem) (ible:suffix)) (ity:suffix))\naccretion (S (accrete:stem) (ion:suffix))\nactivist (S (active:stem) (ist:suffix))\nadaptable (S (adapt:stem) (able:suffix))\naddiction (S (addict:stem) (ion:suffix))\n</code></pre>\n\n<p>The code calls the recursive function <code>proc</code> for the second field. It finds the last occurence of '&lt;>' and then formats the string calling itself again for the first part. That's it. The only trick is to add the local p1 and p2 variables to the argument list of <code>proc</code> to make them really local.</p>\n"}, {"tags": [], "owner": {"reputation": 32176, "user_id": 2173773, "user_type": "registered", "accept_rate": 86, "profile_image": "https://i.stack.imgur.com/M8yh6.jpg?s=128&g=1", "display_name": "H&#229;kon H&#230;gland", "link": "https://stackoverflow.com/users/2173773/h%c3%a5kon-h%c3%a6gland"}, "is_accepted": false, "score": 1, "last_activity_date": 1458655915, "last_edit_date": 1458655915, "creation_date": 1458655333, "answer_id": 36156503, "question_id": 36155035, "link": "https://stackoverflow.com/questions/36155035/printing-a-text-file-in-a-patteren/36156503#36156503", "title": "Printing a text file in a patteren", "body": "<p>Here is a possible <code>awk</code> solution:</p>\n\n<pre><code>{\n    a = gensub(/([a-zA-Z]*:stem)&lt;&gt;([a-zA-Z]*:suffix)/,\"(S (\\\\1) (\\\\2))\", \"1\")\n    while ( a ~ /&lt;&gt;[a-zA-Z]*:suffix/) {\n        a = gensub(/(\\(S.*)&lt;&gt;([a-zA-Z]*:suffix)/,\"(S \\\\1 (\\\\2))\", \"1\", a)\n    }\n    print a\n}\n</code></pre>\n\n<p>Output:</p>\n\n<pre><code>abrasion (S (abrade:stem) (ion:suffix))\nabstainer (S (abstain:stem) (er:suffix))\nabstention (S (abstain:stem) (ion:suffix))\naccessibility (S (S (access:stem) (ible:suffix)) (ity:suffix))\naccretion (S (accrete:stem) (ion:suffix))\nactivist (S (active:stem) (ist:suffix))\nadaptable (S (adapt:stem) (able:suffix))\naddiction (S (addict:stem) (ion:suffix))\n</code></pre>\n"}, {"tags": [], "owner": {"reputation": 123805, "user_id": 622310, "user_type": "registered", "accept_rate": 33, "profile_image": "https://www.gravatar.com/avatar/8b6d35219e1808520bc238b28161e2e6?s=128&d=identicon&r=PG", "display_name": "Borodin", "link": "https://stackoverflow.com/users/622310/borodin"}, "is_accepted": false, "score": 1, "last_activity_date": 1467889625, "last_edit_date": 1467889625, "creation_date": 1458655526, "answer_id": 36156581, "question_id": 36155035, "link": "https://stackoverflow.com/questions/36155035/printing-a-text-file-in-a-patteren/36156581#36156581", "title": "Printing a text file in a patteren", "body": "<p>I think this Perl program will do what you need</p>\n\n<p>The data sample is really too short, and you have given no explanation for the mismatched parentheses in your desired output for <code>activist</code>, <code>adaptable</code> and <code>addiction</code>, but I have programmed the pattern that I can see</p>\n\n<p>I trust you are able to open a file in Perl? If you supply the path to your input file as a parameter on the command line then all you need to do is change <code>&lt;DATA&gt;</code> to <code>&lt;&gt;</code> and it will work. The output is sent to STDOUT, so if you want to store it to a file then simply redirect the output on the command line</p>\n\n<pre><code>use strict;\nuse warnings 'all';\n\nwhile ( &lt;DATA&gt; ) {\n    my ($word, $ss) = split;\n    my @ss = split /&lt;&gt;/, $ss;\n\n    while ( @ss &gt; 1 ) {\n        my $s = sprintf 'S (%s) (%s)', @ss[0,1];\n        splice @ss, 0, 2, $s;\n    }\n\n    printf \"%s (%s)\\n\", $word, $ss[0];\n}\n\n\n__DATA__\nabrasion abrade:stem&lt;&gt;ion:suffix\nabstainer abstain:stem&lt;&gt;er:suffix\nabstention abstain:stem&lt;&gt;ion:suffix\naccessibility access:stem&lt;&gt;ible:suffix&lt;&gt;ity:suffix\naccretion accrete:stem&lt;&gt;ion:suffix\nactivist active:stem&lt;&gt;ist:suffix\nadaptable adapt:stem&lt;&gt;able:suffix\naddiction addict:stem&lt;&gt;ion:suffix\n</code></pre>\n\n<h3>output</h3>\n\n<pre><code>abrasion (S (abrade:stem) (ion:suffix))\nabstainer (S (abstain:stem) (er:suffix))\nabstention (S (abstain:stem) (ion:suffix))\naccessibility (S (S (access:stem) (ible:suffix)) (ity:suffix))\naccretion (S (accrete:stem) (ion:suffix))\nactivist (S (active:stem) (ist:suffix))\nadaptable (S (adapt:stem) (able:suffix))\naddiction (S (addict:stem) (ion:suffix))\n</code></pre>\n"}], "owner": {"reputation": 43, "user_id": 4502433, "user_type": "registered", "accept_rate": 67, "profile_image": "https://lh3.googleusercontent.com/-5YMgYfxJlIw/AAAAAAAAAAI/AAAAAAAAANU/aMQqs-BQgy8/photo.jpg?sz=128", "display_name": "Karun", "link": "https://stackoverflow.com/users/4502433/karun"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 83, "favorite_count": 0, "closed_date": 1458656432, "answer_count": 5, "score": -1, "last_activity_date": 1467889625, "creation_date": 1458651507, "last_edit_date": 1458651826, "question_id": 36155035, "link": "https://stackoverflow.com/questions/36155035/printing-a-text-file-in-a-patteren", "closed_reason": "Duplicate", "title": "Printing a text file in a patteren", "body": "<p>I have a very large amount of text(100000 words)  to parse and it has got following format </p>\n\n<pre><code>abrasion abrade:stem&lt;&gt;ion:suffix\nabstainer abstain:stem&lt;&gt;er:suffix\nabstention abstain:stem&lt;&gt;ion:suffix\naccessibility access:stem&lt;&gt;ible:suffix&lt;&gt;ity:suffix\naccretion accrete:stem&lt;&gt;ion:suffix\nactivist active:stem&lt;&gt;ist:suffix\nadaptable adapt:stem&lt;&gt;able:suffix\naddiction addict:stem&lt;&gt;ion:suffix\n</code></pre>\n\n<p>I need to convert it to this format</p>\n\n<pre><code>abrasion (S (abrade:stem) (ion:suffix))\nabstainer (S (abstain:stem) (er:suffix))\nabstention (S (abstain:stem) (ion:suffix))\naccessibility (S (S (access:stem) (ible:suffix)) ity:suffix))\naccretion (S (accrete:stem) (ion:suffix))\nactivist (S (active:stem) ist:suffix))\nadaptable (S (adapt:stem) able:suffix))\naddiction (S (addict:stem) ion:suffix))\n</code></pre>\n\n<p>The awk code, I use is </p>\n\n<pre><code>awk 'BEGIN{FS=OFS=\"\\n\"}{\n   a=gensub(/([a-zA-Z]*):stem/,\"( S\\\\1:stem)\", \"g\");\n   while ( a ~ /stem)&lt;&gt;.*:suffix/) {\n     a=gensub(/(\\([a-zA-Z]*:stem\\).*?)&lt;&gt;([a-zA-Z]*):suffix/,\"(\\\\1\\\\2:suffix)\", \"g\", a);\n   }\n   while ( a ~ /&lt;&gt;/) {\n     a=gensub(/([a-zA-Z]*?:prefix)&lt;&gt;(.*)/,\"(S\\\\1\\\\2)\", \"g\", a);\n   }\n   print a;}\n</code></pre>\n\n<p>This code fails to produce desired output and produce results for only 5 tokens.</p>\n"}, {"tags": ["regex", "perl"], "answers": [{"comments": [{"owner": {"reputation": 459, "user_id": 6036220, "user_type": "registered", "accept_rate": 95, "profile_image": "https://www.gravatar.com/avatar/395afbeee673a5b025aa004bf8a200a5?s=128&d=identicon&r=PG&f=1", "display_name": "Tom Boy", "link": "https://stackoverflow.com/users/6036220/tom-boy"}, "edited": false, "score": 0, "creation_date": 1458652228, "post_id": 36155024, "comment_id": 59947645, "body": "Does it take into account the newline character? Because in one of the example I have seen, when <code>&#47;[^0-9]+&#47;</code> is used, a line with just the number 4 on it is a match. But when <code>m&#47;[^0-9]+&#47;</code> is used  and a chop() function is used on that same line, the line with just 4 on it is no longer a match ."}, {"owner": {"reputation": 50468, "user_id": 1331451, "user_type": "registered", "accept_rate": 96, "profile_image": "https://i.stack.imgur.com/4ZPmj.png?s=128&g=1", "display_name": "simbabque", "link": "https://stackoverflow.com/users/1331451/simbabque"}, "reply_to_user": {"reputation": 459, "user_id": 6036220, "user_type": "registered", "accept_rate": 95, "profile_image": "https://www.gravatar.com/avatar/395afbeee673a5b025aa004bf8a200a5?s=128&d=identicon&r=PG&f=1", "display_name": "Tom Boy", "link": "https://stackoverflow.com/users/6036220/tom-boy"}, "edited": false, "score": 0, "creation_date": 1458653197, "post_id": 36155024, "comment_id": 59948436, "body": "I don&#39;t understand completely what you mean. Why don&#39;t you try yourself? You can also do <code>use re &#39;debug&#39; ;</code> to get additional explanations of what is going on."}], "tags": [], "owner": {"reputation": 50468, "user_id": 1331451, "user_type": "registered", "accept_rate": 96, "profile_image": "https://i.stack.imgur.com/4ZPmj.png?s=128&g=1", "display_name": "simbabque", "link": "https://stackoverflow.com/users/1331451/simbabque"}, "is_accepted": false, "score": 3, "last_activity_date": 1458652863, "last_edit_date": 1458652863, "creation_date": 1458651481, "answer_id": 36155024, "question_id": 36154969, "link": "https://stackoverflow.com/questions/36154969/what-is-the-diffrence-between-these-three-regular-expressions/36155024#36155024", "title": "What is the diffrence between these three regular expressions", "body": "<p>All of them have [^0-9]+, which is one or more characters that are <strong>not</strong> the numbers <code>0</code>, <code>1</code>, ... to <code>9</code>.</p>\n\n<ul>\n<li>The first one <code>/^[^0-9]+$/</code> is anchored at the start and end of the string, so it will match any string that only contains non-digits.</li>\n<li>The second one <code>/[^0-9]+/</code> is not anchored, so it matches any string that contains at least one (or more) non-digits.</li>\n<li>The third one <code>m/[^0-9]+/</code> is the same as the second, but uses the <a href=\"http://perldoc.perl.org/functions/m.html\" rel=\"nofollow\"><code>m//</code> match operator</a> explicitly.</li>\n</ul>\n\n<p>For a good explanation, check out <a href=\"http://regex101.com\" rel=\"nofollow\">regex101.com</a> for the <a href=\"https://regex101.com/r/eS7nO8/1\" rel=\"nofollow\">first</a> and <a href=\"https://regex101.com/r/eS7nO8/2\" rel=\"nofollow\">second</a> regex.</p>\n"}, {"comments": [{"owner": {"reputation": 459, "user_id": 6036220, "user_type": "registered", "accept_rate": 95, "profile_image": "https://www.gravatar.com/avatar/395afbeee673a5b025aa004bf8a200a5?s=128&d=identicon&r=PG&f=1", "display_name": "Tom Boy", "link": "https://stackoverflow.com/users/6036220/tom-boy"}, "edited": false, "score": 0, "creation_date": 1458655252, "post_id": 36155929, "comment_id": 59950119, "body": "Does 2 / 3 consider a newline character to be a match? Because in a example I have seen , the number &quot;4&quot; is on its own line and when /[^0-9]+/ is used it matches with that line. But when a chop() function is used and the newline character is removed, the line is no longer matched."}, {"owner": {"reputation": 62184, "user_id": 7231, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/81b76985f3985e35492e25880493d045?s=128&d=identicon&r=PG", "display_name": "Dave Cross", "link": "https://stackoverflow.com/users/7231/dave-cross"}, "reply_to_user": {"reputation": 459, "user_id": 6036220, "user_type": "registered", "accept_rate": 95, "profile_image": "https://www.gravatar.com/avatar/395afbeee673a5b025aa004bf8a200a5?s=128&d=identicon&r=PG&f=1", "display_name": "Tom Boy", "link": "https://stackoverflow.com/users/6036220/tom-boy"}, "edited": false, "score": 0, "creation_date": 1458661880, "post_id": 36155929, "comment_id": 59955498, "body": "Is your question &quot;does a newline match <code>[^0-9]</code>, then I would have thought that was pretty simple to test - <code>perl -E&#39;say &quot;\\n&quot; =~ &#47;[^0-9]&#47; ? &quot;Yes&quot; : &quot;No&quot;&#39;</code> (that prints &quot;Yes&quot;)"}], "tags": [], "owner": {"reputation": 62184, "user_id": 7231, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/81b76985f3985e35492e25880493d045?s=128&d=identicon&r=PG", "display_name": "Dave Cross", "link": "https://stackoverflow.com/users/7231/dave-cross"}, "is_accepted": false, "score": 2, "last_activity_date": 1458653910, "creation_date": 1458653910, "answer_id": 36155929, "question_id": 36154969, "link": "https://stackoverflow.com/questions/36154969/what-is-the-diffrence-between-these-three-regular-expressions/36155929#36155929", "title": "What is the diffrence between these three regular expressions", "body": "<p>There's a difference between a regular expression and the match operator which takes a regular expression as its operand.</p>\n\n<p>You only have two regular expressions there - <code>^[^0-9]+$</code> and <code>[^0-9]+</code>. Option 3 uses the same regex as option 2, but it uses a different version of the match operator.</p>\n\n<p>The difference between 1 and 2 is that 1 is anchored at the start and the end of the string, whereas 2 isn't anchored at all.</p>\n\n<p>So 1 says \"match the start of the string, followed by one or more non-digits, followed by the end of the string\". 2 says \"match one or more non-digits anywhere in the string\".</p>\n\n<p>Does that help at all?</p>\n"}, {"comments": [{"owner": {"reputation": 459, "user_id": 6036220, "user_type": "registered", "accept_rate": 95, "profile_image": "https://www.gravatar.com/avatar/395afbeee673a5b025aa004bf8a200a5?s=128&d=identicon&r=PG&f=1", "display_name": "Tom Boy", "link": "https://stackoverflow.com/users/6036220/tom-boy"}, "edited": false, "score": 0, "creation_date": 1458654993, "post_id": 36155960, "comment_id": 59949921, "body": "Does 2 / 3 consider a newline character to be a match? Because in a example I have seen , the number &quot;4&quot; is on its own line and when /[^0-9]+/ is used it matches with that line. But when  a chop() function is used and the newline character is removed, the line is no longer matched."}, {"owner": {"reputation": 123805, "user_id": 622310, "user_type": "registered", "accept_rate": 33, "profile_image": "https://www.gravatar.com/avatar/8b6d35219e1808520bc238b28161e2e6?s=128&d=identicon&r=PG", "display_name": "Borodin", "link": "https://stackoverflow.com/users/622310/borodin"}, "reply_to_user": {"reputation": 459, "user_id": 6036220, "user_type": "registered", "accept_rate": 95, "profile_image": "https://www.gravatar.com/avatar/395afbeee673a5b025aa004bf8a200a5?s=128&d=identicon&r=PG&f=1", "display_name": "Tom Boy", "link": "https://stackoverflow.com/users/6036220/tom-boy"}, "edited": false, "score": 0, "creation_date": 1458656764, "post_id": 36155960, "comment_id": 59951378, "body": "@J.Doe: Yes. A newline is just like any other character for every regex construct apart from <code>$</code>. As I said, <code>[^0-9]+</code> will match anything that contains at least one character as long as there is a non-digit in there. So it will match <code>&quot;\\n&quot;</code> just fine. When you are reading lines of text from a file or from the terminal you <i>must</i> <code>chomp</code> the result as the newline will confuse any checking that you do. Checking for an all-numeric input should be <code>next unless &#47;\\S&#47; and not &#47;\\D&#47;</code> i.e. skip this line unless has non-whitespace and no non-digits"}], "tags": [], "owner": {"reputation": 123805, "user_id": 622310, "user_type": "registered", "accept_rate": 33, "profile_image": "https://www.gravatar.com/avatar/8b6d35219e1808520bc238b28161e2e6?s=128&d=identicon&r=PG", "display_name": "Borodin", "link": "https://stackoverflow.com/users/622310/borodin"}, "is_accepted": false, "score": 1, "last_activity_date": 1458654310, "last_edit_date": 1458654310, "creation_date": 1458653983, "answer_id": 36155960, "question_id": 36154969, "link": "https://stackoverflow.com/questions/36154969/what-is-the-diffrence-between-these-three-regular-expressions/36155960#36155960", "title": "What is the diffrence between these three regular expressions", "body": "<p>The pattern <code>[^0-9]</code> is common to these three regexes, and will match any single character that is <em>not</em> a decimal digit</p>\n\n<ol>\n<li><p><code>/^[^0-9]+$/</code></p>\n\n<p>This <em>anchors</em> the pattern to the beginning and end of the string, and insists that it contains one or more non-digit characters</p>\n\n<p>The circumflex <code>^</code> is a zero-width anchor that matches the beginning of the string</p>\n\n<p>The dollar sign <code>$</code> is also a zero-width anchor that will match either at the end of the string, or before a newline character if that newline is the last in the string. So this will match <code>\"aaa\"</code> and <code>\"aaa\\n\"</code> but not <code>\"aa7bb\\n\"</code></p></li>\n<li><p><code>/[^0-9]+/</code></p>\n\n<p>This has no anchors, and so will return <em>true</em> if the string contains at least one non-digit character anywhere</p>\n\n<p>It will match <code>\"12x345\"</code> and <em>fail</em> to match <code>\"12345\"</code>. Note that a trailing newline counts as a non-digit character, so this pattern will match <code>\"123\\n\"</code></p></li>\n<li><p><code>m/[^0-9]+/</code></p>\n\n<p>This is identical to #2, but with the <code>m</code> placed explicitly. This is unnecessary if you are using the default slashes for delimiters, but it can be convenient to use something different if you are matching a pattern for, say, a file path, which itself contains slashes</p>\n\n<p>Using <code>m</code> lets you choose your own delimiter, for example <code>m{/my/path}</code> instead of <code>/\\/my\\/path/</code></p></li>\n</ol>\n\n<p>In essence, #1 is asking whether the string is <em>wholly composed of</em> non-digit characters, while #2 and #3 are identical, and test whether the string <em>contains at least one</em> non-digit character</p>\n"}], "owner": {"reputation": 459, "user_id": 6036220, "user_type": "registered", "accept_rate": 95, "profile_image": "https://www.gravatar.com/avatar/395afbeee673a5b025aa004bf8a200a5?s=128&d=identicon&r=PG&f=1", "display_name": "Tom Boy", "link": "https://stackoverflow.com/users/6036220/tom-boy"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 60, "favorite_count": 0, "answer_count": 3, "score": -2, "last_activity_date": 1458654310, "creation_date": 1458651313, "question_id": 36154969, "link": "https://stackoverflow.com/questions/36154969/what-is-the-diffrence-between-these-three-regular-expressions", "title": "What is the diffrence between these three regular expressions", "body": "<p>What is the main difference between the following 3 regular expressions.  </p>\n\n<p>1) <code>/^[^0-9]+$/</code></p>\n\n<p>2)<code>/[^0-9]+/</code></p>\n\n<p>3) <code>m/[^0-9]+/</code></p>\n\n<p>I am really trying to understand this, since researching online has not helped me much I was hoping I could find some help here. </p>\n"}, {"tags": ["regex", "perl"], "comments": [{"owner": {"reputation": 2847, "user_id": 5049185, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/46f0d2dc8ee06f428e43d0d115a57c4f?s=128&d=identicon&r=PG&f=1", "display_name": "syck", "link": "https://stackoverflow.com/users/5049185/syck"}, "edited": false, "score": 0, "creation_date": 1458649386, "post_id": 36154189, "comment_id": 59945552, "body": "<code>$quoted = quotemeta($regex); $string =~ s&#47;$quoted&#47;$new&#47;g;</code>? As I understand you, the quotemeta should not be part of the search pattern."}, {"owner": {"reputation": 53, "user_id": 5672000, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/11a8e32daaac1dbf06b5ab65dfcc8db2?s=128&d=identicon&r=PG&f=1", "display_name": "ayoub aboussaad", "link": "https://stackoverflow.com/users/5672000/ayoub-aboussaad"}, "reply_to_user": {"reputation": 2847, "user_id": 5049185, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/46f0d2dc8ee06f428e43d0d115a57c4f?s=128&d=identicon&r=PG&f=1", "display_name": "syck", "link": "https://stackoverflow.com/users/5049185/syck"}, "edited": false, "score": 0, "creation_date": 1458649609, "post_id": 36154189, "comment_id": 59945719, "body": "yes but i need to do it in one line , is it possible"}, {"owner": {"reputation": 2847, "user_id": 5049185, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/46f0d2dc8ee06f428e43d0d115a57c4f?s=128&d=identicon&r=PG&f=1", "display_name": "syck", "link": "https://stackoverflow.com/users/5049185/syck"}, "edited": false, "score": 1, "creation_date": 1458650003, "post_id": 36154189, "comment_id": 59945988, "body": "That actually was one line, I think =) But, in addition to the excellent answers below, <a href=\"http://perldoc.perl.org/perlretut.html#A-bit-of-magic%3a-executing-Perl-code-in-a-regular-expression\" rel=\"nofollow noreferrer\">this doc on executing perl code inside regexes</a> may be helpful."}], "answers": [{"tags": [], "owner": {"reputation": 113221, "user_id": 100754, "user_type": "registered", "accept_rate": 90, "profile_image": "https://www.gravatar.com/avatar/7804ebae32fbadef38537d74a915c22f?s=128&d=identicon&r=PG", "display_name": "Sinan &#220;n&#252;r", "link": "https://stackoverflow.com/users/100754/sinan-%c3%9cn%c3%bcr"}, "is_accepted": true, "score": 5, "last_activity_date": 1458649553, "creation_date": 1458649553, "answer_id": 36154339, "question_id": 36154189, "link": "https://stackoverflow.com/questions/36154189/how-can-i-use-a-pattern-that-includes-regex-special-characters-in-perls-s-op/36154339#36154339", "title": "How can I use a pattern that includes regex special characters in Perl&#39;s s/// operator?", "body": "<p>You mean you want to quote the <strong><em>pattern</em></strong> in a <code>s///</code> operator.</p>\n\n<p>You can do that using the <code>\\Q</code> and <code>\\E</code> escapes:</p>\n\n<pre><code>$s =~ /\\Q[a-z]\\E//;\n</code></pre>\n\n<p>would look for the literal string <code>[a-z]</code> instead of a single character among <code>a ... z</code>.</p>\n\n<p>You can find this, and other useful information in <a href=\"https://metacpan.org/pod/perlreref#ESCAPE-SEQUENCES\">perldoc perlreref</a> which is installed on your computer alongside <code>perl</code>.</p>\n\n<p>Perl comes with excellent documentation. One should periodically skim/read all of it.</p>\n"}, {"tags": [], "owner": {"reputation": 723, "user_id": 4568433, "user_type": "registered", "profile_image": "https://lh5.googleusercontent.com/-A0ltyCE72fA/AAAAAAAAAAI/AAAAAAAAADY/4U7GU992t_E/photo.jpg?sz=128", "display_name": "Alexandr Evstigneev", "link": "https://stackoverflow.com/users/4568433/alexandr-evstigneev"}, "is_accepted": false, "score": 3, "last_activity_date": 1458649565, "creation_date": 1458649565, "answer_id": 36154346, "question_id": 36154189, "link": "https://stackoverflow.com/questions/36154189/how-can-i-use-a-pattern-that-includes-regex-special-characters-in-perls-s-op/36154346#36154346", "title": "How can I use a pattern that includes regex special characters in Perl&#39;s s/// operator?", "body": "<p>few ways:</p>\n\n<pre><code>my $quotedregex = quotemeta($regex);\n$string =~ s/$quotedregex/$new/g;\n</code></pre>\n\n<p>or</p>\n\n<pre><code>$string =~ s/${\\quotemeta($regex)}/$new/g;\n</code></pre>\n\n<p>or </p>\n\n<pre><code>$string =~ s/\\Q$regex\\E/$new/g;\n</code></pre>\n"}, {"tags": [], "owner": {"reputation": 123805, "user_id": 622310, "user_type": "registered", "accept_rate": 33, "profile_image": "https://www.gravatar.com/avatar/8b6d35219e1808520bc238b28161e2e6?s=128&d=identicon&r=PG", "display_name": "Borodin", "link": "https://stackoverflow.com/users/622310/borodin"}, "is_accepted": false, "score": 1, "last_activity_date": 1467625027, "last_edit_date": 1467625027, "creation_date": 1458653235, "answer_id": 36155656, "question_id": 36154189, "link": "https://stackoverflow.com/questions/36154189/how-can-i-use-a-pattern-that-includes-regex-special-characters-in-perls-s-op/36155656#36155656", "title": "How can I use a pattern that includes regex special characters in Perl&#39;s s/// operator?", "body": "<p>People may well come here hoping to find a way to insert the return value of a subroutine into a regex pattern <em>in situ</em>. Note that this also applies to constants implemented with the <a href=\"https://p3rl.org/constant\" rel=\"nofollow\"><code>constant</code></a> pragma, which are implemented as inlined subroutines</p>\n\n<p>There are ways to do that, the traditional ones being to take a reference to the subroutine's return value and dereference the result. This works either as a scalar reference or an anonymous array</p>\n\n<p>There is also the <a href=\"https://p3rl.org/Interpolation\" rel=\"nofollow\"><code>Interpolation</code></a> module, which provides tied hashes that look very much like procedure calls and so make your code neater and easier to read</p>\n\n<p>Given this basic program</p>\n\n<pre><code>use strict;\nuse warnings 'all';\n\nuse Interpolation E =&gt; 'eval', mysub =&gt; \\&amp;mysub;\n\nmy $string = '&lt;&lt;&lt;OLD&gt;&gt;&gt;';\nmy $new    = 'NEW';\n\nsub mysub { 'OLD' }\n</code></pre>\n\n<p>any of the following will replace <code>OLD</code> with <code>NEW</code> in <code>$string</code></p>\n\n<ul>\n<li><p>Dereferencing a reference to the subroutine's return value</p>\n\n<pre><code>$string =~ s/${\\mysub($regex)}/$new/;\n</code></pre></li>\n<li><p>Dereferencing an anonymous array containing the subroutine's return value</p>\n\n<pre><code>$string =~ s/@{[mysub($regex)]}/$new/;\n</code></pre></li>\n<li><p>Using <code>Interpolation</code>, a simple <code>eval</code> (the safe sort)</p>\n\n<pre><code>$string =~ s/$E{mysub($regex)}/$new/;\n</code></pre></li>\n<li><p>Using <code>Interpolation</code> with a tied hash <code>%mysub</code> to call the subroutine directly</p>\n\n<pre><code>$string =~ s/$mysub{$regex}/$new/;\n</code></pre></li>\n</ul>\n\n<p>This demonstrates an answer the original question using <code>Interpolation</code> and <code>quotemeta</code></p>\n\n<pre><code>use strict;\nuse warnings 'all';\n\nuse Interpolation Q =&gt; \\&amp;CORE::quotemeta;\n\nmy $string = '&lt;&lt;&lt;+*.$^&gt;&gt;&gt;';\nmy $regex  = '+*.$^';\nmy $new    = 'NEW';\n\n$string =~ s/$Q{$regex}/XXX/;\n\nprint $string, \"\\n\";\n</code></pre>\n\n<h3>output</h3>\n\n<pre><code>&lt;&lt;&lt;XXX&gt;&gt;&gt;\n</code></pre>\n\n<p><strong><em>But note</em></strong> that the built-in escape <code>\\Q</code> is clearer and intended for this purpose, so you should use</p>\n\n<pre><code>$string =~ s/\\Q$regex\\E/XXX/\n</code></pre>\n\n<p>in this specific case</p>\n"}], "owner": {"reputation": 53, "user_id": 5672000, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/11a8e32daaac1dbf06b5ab65dfcc8db2?s=128&d=identicon&r=PG&f=1", "display_name": "ayoub aboussaad", "link": "https://stackoverflow.com/users/5672000/ayoub-aboussaad"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 88, "favorite_count": 0, "accepted_answer_id": 36154339, "answer_count": 3, "score": 0, "last_activity_date": 1467625027, "creation_date": 1458649034, "last_edit_date": 1458657133, "question_id": 36154189, "link": "https://stackoverflow.com/questions/36154189/how-can-i-use-a-pattern-that-includes-regex-special-characters-in-perls-s-op", "title": "How can I use a pattern that includes regex special characters in Perl&#39;s s/// operator?", "body": "<p>The pattern I am using in my <code>s///</code> contains regex special characters. How can I quote them so that the regex engine treats them as literal characters.</p>\n\n<p>Can I call a subroutine (<code>quotemeta</code>) in the pattern like this?</p>\n\n<pre><code>$string =~ s/quotemeta($regex)/$new/g;\n</code></pre>\n\n<p>How can I do it please?</p>\n"}, {"tags": ["perl", "installation"], "comments": [{"owner": {"reputation": 561, "user_id": 2881857, "user_type": "registered", "accept_rate": 96, "profile_image": "https://www.gravatar.com/avatar/a60fe035da7c6e4bdd41787720cd1f18?s=128&d=identicon&r=PG&f=1", "display_name": "Geroge", "link": "https://stackoverflow.com/users/2881857/geroge"}, "edited": false, "score": 0, "creation_date": 1466589790, "post_id": 36153467, "comment_id": 63375901, "body": "Newest version work perfectly fine - there was internal bug."}], "owner": {"reputation": 561, "user_id": 2881857, "user_type": "registered", "accept_rate": 96, "profile_image": "https://www.gravatar.com/avatar/a60fe035da7c6e4bdd41787720cd1f18?s=128&d=identicon&r=PG&f=1", "display_name": "Geroge", "link": "https://stackoverflow.com/users/2881857/geroge"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 908, "favorite_count": 0, "answer_count": 0, "score": 1, "last_activity_date": 1487316280, "creation_date": 1458646954, "question_id": 36153467, "link": "https://stackoverflow.com/questions/36153467/trouble-with-installing-vep", "title": "Trouble with installing VEP", "body": "<p>I would like to install on my Ubuntu 14.04 Variant Effect Predictor and I have still trouble during installation.  Very interesting is that I have vep installed on the same linux distribution with no troubles (biolinux). </p>\n\n<p>After perl INSTALL.pl</p>\n\n<p>I have message:</p>\n\n<pre><code>Created MYMETA.yml and MYMETA.json\nCreating new 'Build' script for 'Bio-DB-HTS' version '1.11'\nModule::Build version 0.42 required--this is only version 0.4003 at ./Build line 41.\nERROR: Shared Bio::DB:HTS library not found\n</code></pre>\n\n<p>After trying install separetly Bio-HTS I have error:</p>\n\n<pre><code>&gt; *** Building Bio::DB::HTSlib *** Created MYMETA.yml and MYMETA.json Creating new 'Build' script for 'Bio-DB-HTS' version '1.11'\n&gt; Module::Build version 0.42 required--this is only version 0.4003 at\n&gt; ./Build line 41. Module::Build version 0.42 required--this is only\n&gt; version 0.4003 at ./Build line 41. Build test failed. Not continuing\n&gt; at INSTALL.pl line 115. cannot remove path when cwd is\n&gt; /tmp/WCNpSQrdt4/Bio-HTS for /tmp/WCNpSQrdt4:  at\n&gt; /usr/share/perl/5.18/File/Temp.pm line 921.\n</code></pre>\n\n<p>Please do you have any idea how to avoid this error mesages?</p>\n\n<p>Thank you so much.</p>\n"}, {"tags": ["javascript", "perl", "cgi"], "comments": [{"owner": {"reputation": 51521, "user_id": 2566198, "user_type": "registered", "accept_rate": 67, "profile_image": "https://i.stack.imgur.com/Y34ZA.jpg?s=128&g=1", "display_name": "Sobrique", "link": "https://stackoverflow.com/users/2566198/sobrique"}, "edited": false, "score": 2, "creation_date": 1458642281, "post_id": 36151678, "comment_id": 59940607, "body": "Impossible to tell with what you&#39;ve given us. We need more detail on what you&#39;re doing, and what you&#39;re trying to accomplish."}, {"owner": {"reputation": 50468, "user_id": 1331451, "user_type": "registered", "accept_rate": 96, "profile_image": "https://i.stack.imgur.com/4ZPmj.png?s=128&g=1", "display_name": "simbabque", "link": "https://stackoverflow.com/users/1331451/simbabque"}, "edited": false, "score": 4, "creation_date": 1458642652, "post_id": 36151678, "comment_id": 59940899, "body": "It&#39;s also helpful to ask a question. :)"}, {"owner": {"reputation": 49, "user_id": 5462683, "user_type": "registered", "accept_rate": 100, "profile_image": "https://lh3.googleusercontent.com/-1Wx7lkBR4t8/AAAAAAAAAAI/AAAAAAAAFIo/ntksApZlMyw/photo.jpg?sz=128", "display_name": "Markus", "link": "https://stackoverflow.com/users/5462683/markus"}, "edited": false, "score": 0, "creation_date": 1458644195, "post_id": 36151678, "comment_id": 59942001, "body": "Ok. Example:   <code>if ($lqcgi-&gt;param(&#39;sel_cl&#39;)){ \t\t\t$selected_action = $lqcgi-&gt;param(&#39;sel_cl&#39;); \t\t\tprint &quot;&lt;TR&gt;&lt;TD&gt;$line $ssh_command_flow User: $ENV{ REMOTE_USER }&lt;&#47;TD&gt;&lt;&#47;TR&gt;\\n&quot;; \t\t\tprint &quot;&lt;TD&gt;&lt;script&gt;&lt;button type=\\&quot;button\\&quot; id=\\&quot;delete\\&quot;&gt;Delete&lt;&#47;button&gt;&lt;&#47;script&gt;&lt;&#47;TD&gt;&lt;&#47;TR&gt;\\n&quot;; \t\t}</code>"}, {"owner": {"reputation": 50468, "user_id": 1331451, "user_type": "registered", "accept_rate": 96, "profile_image": "https://i.stack.imgur.com/4ZPmj.png?s=128&g=1", "display_name": "simbabque", "link": "https://stackoverflow.com/users/1331451/simbabque"}, "edited": false, "score": 0, "creation_date": 1458645261, "post_id": 36151678, "comment_id": 59942720, "body": "That&#39;s the same code you have in your question. But you have still not asked a question."}, {"owner": {"reputation": 62184, "user_id": 7231, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/81b76985f3985e35492e25880493d045?s=128&d=identicon&r=PG", "display_name": "Dave Cross", "link": "https://stackoverflow.com/users/7231/dave-cross"}, "edited": false, "score": 0, "creation_date": 1458645940, "post_id": 36151678, "comment_id": 59943184, "body": "Please edit you question to add more information. In particular, tell us what unexpected behaviour you are seeing."}, {"owner": {"reputation": 793701, "user_id": 19068, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/1d2d3229ed1961d2bd81853242493247?s=128&d=identicon&r=PG", "display_name": "Quentin", "link": "https://stackoverflow.com/users/19068/quentin"}, "edited": false, "score": 1, "creation_date": 1458646456, "post_id": 36151678, "comment_id": 59943550, "body": "HTML nested inside JavaScript nested inside (invalid!) HTML nested in Perl. Oh the pain. The pain. Use <a href=\"https://developer.mozilla.org/en-US/docs/Web/API/Document_Object_Model/Examples\" rel=\"nofollow noreferrer\">DOM</a> not <code>document.write</code>. Use <a href=\"https://metacpan.org/pod/Template::Toolkit\" rel=\"nofollow noreferrer\">templates</a> not string literals. <a href=\"https://metacpan.org/pod/distribution/CGI/lib/CGI.pod#CGI.pm-HAS-BEEN-REMOVED-FROM-THE-PERL-CORE\" rel=\"nofollow noreferrer\">Avoid CGI.pm</a>. Use <a href=\"https://validator.w3.org/nu/\" rel=\"nofollow noreferrer\">a validator</a>."}], "answers": [{"comments": [{"owner": {"reputation": 793701, "user_id": 19068, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/1d2d3229ed1961d2bd81853242493247?s=128&d=identicon&r=PG", "display_name": "Quentin", "link": "https://stackoverflow.com/users/19068/quentin"}, "edited": false, "score": 1, "creation_date": 1458646517, "post_id": 36153200, "comment_id": 59943597, "body": "Won&#39;t the <code>\\</code> characters be treated as Perl escape characters when they are intended to be JavaScript escape characters?"}, {"owner": {"reputation": 62184, "user_id": 7231, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/81b76985f3985e35492e25880493d045?s=128&d=identicon&r=PG", "display_name": "Dave Cross", "link": "https://stackoverflow.com/users/7231/dave-cross"}, "reply_to_user": {"reputation": 793701, "user_id": 19068, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/1d2d3229ed1961d2bd81853242493247?s=128&d=identicon&r=PG", "display_name": "Quentin", "link": "https://stackoverflow.com/users/19068/quentin"}, "edited": false, "score": 0, "creation_date": 1458646697, "post_id": 36153200, "comment_id": 59943724, "body": "Absolutely. Fixed now. Thanks for pointing it out."}], "tags": [], "owner": {"reputation": 62184, "user_id": 7231, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/81b76985f3985e35492e25880493d045?s=128&d=identicon&r=PG", "display_name": "Dave Cross", "link": "https://stackoverflow.com/users/7231/dave-cross"}, "is_accepted": true, "score": 2, "last_activity_date": 1458646883, "last_edit_date": 1458646883, "creation_date": 1458646183, "answer_id": 36153200, "question_id": 36151678, "link": "https://stackoverflow.com/questions/36151678/perl-with-javascript-perlscript/36153200#36153200", "title": "Perl with Javascript (Perlscript)", "body": "<p>It's hard to know what your problem is as you haven't actually asked a question. But I'll just point out that you have a double-quoted string that contains double quote characters. And not all of them are escaped correctly.</p>\n\n<p>Perl has the <code>qq(...)</code> operator which makes it easier to produce double-quoted strings that contain double quote characters.</p>\n\n<pre><code>if ($lqcgi-&gt;param('sel_cl')){\n    $selected_action = $lqcgi-&gt;param('sel_cl');\n    print qq(&lt;TR&gt;&lt;script&gt; document.write(\"&lt;button type=\\\\\"button\\\\\" id=\\\\\"delete\\\\\"&gt;Delete&lt;/button&gt;\")&lt;/script&gt;$line $ssh_command_flow User: $ENV{ REMOTE_USER }&lt;/TR&gt;\\n);\n}\n</code></pre>\n\n<p><strong>Update:</strong> You also need to double the \"<code>\\</code>\"s so that they get passed through to the Javascript.</p>\n"}], "owner": {"reputation": 49, "user_id": 5462683, "user_type": "registered", "accept_rate": 100, "profile_image": "https://lh3.googleusercontent.com/-1Wx7lkBR4t8/AAAAAAAAAAI/AAAAAAAAFIo/ntksApZlMyw/photo.jpg?sz=128", "display_name": "Markus", "link": "https://stackoverflow.com/users/5462683/markus"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 74, "favorite_count": 0, "closed_date": 1458646869, "accepted_answer_id": 36153200, "answer_count": 1, "score": -1, "last_activity_date": 1501157302, "creation_date": 1458641956, "last_edit_date": 1501157302, "question_id": 36151678, "link": "https://stackoverflow.com/questions/36151678/perl-with-javascript-perlscript", "closed_reason": "Needs details or clarity", "title": "Perl with Javascript (Perlscript)", "body": "<p>I'm to trying for Perl CGI with Javascript. It is difficult for me.</p>\n\n<p>Try:</p>\n\n<pre><code>    if ($lqcgi-&gt;param('sel_cl')){\n        $selected_action = $lqcgi-&gt;param('sel_cl');\n        print \"&lt;TR&gt;&lt;script&gt; document.write(\"&lt;button type=\\\"button\\\" id=\\\"delete\\\"&gt;Delete&lt;/button&gt;\")&lt;/script&gt;$line $ssh_command_flow User: $ENV{ REMOTE_USER }&lt;/TR&gt;\\n\";\n    }\n</code></pre>\n\n<p>I don't know whether that's correct or wrong. Pls help me. Thank you.</p>\n"}, {"tags": ["perl"], "answers": [{"comments": [{"owner": {"reputation": 50468, "user_id": 1331451, "user_type": "registered", "accept_rate": 96, "profile_image": "https://i.stack.imgur.com/4ZPmj.png?s=128&g=1", "display_name": "simbabque", "link": "https://stackoverflow.com/users/1331451/simbabque"}, "edited": false, "score": 2, "creation_date": 1458642380, "post_id": 36151240, "comment_id": 59940684, "body": "There is no need to put <code>$m</code> in double quotes as you don&#39;t need interpolation on a single variable. It&#39;s also a best practice to use <code>$fh</code> for file handles. In general, the problem OP has is not finding and opening the right files. You suggest <code>glob</code>, which is indeed an easier way, but the OP is really struggling with getting the second line. All that <code>seek</code> action going on in the question. You can improve your answer by <i>explaining</i> why your code, and how."}, {"owner": {"reputation": 5455, "user_id": 3961170, "user_type": "registered", "accept_rate": 73, "profile_image": "https://i.stack.imgur.com/PtFol.jpg?s=128&g=1", "display_name": "mkHun", "link": "https://stackoverflow.com/users/3961170/mkhun"}, "reply_to_user": {"reputation": 50468, "user_id": 1331451, "user_type": "registered", "accept_rate": 96, "profile_image": "https://i.stack.imgur.com/4ZPmj.png?s=128&g=1", "display_name": "simbabque", "link": "https://stackoverflow.com/users/1331451/simbabque"}, "edited": false, "score": 0, "creation_date": 1458644217, "post_id": 36151240, "comment_id": 59942018, "body": "@simbabque Thank you for your use full comment.  In after my every program i&#39;ll follow your tips :) ."}, {"owner": {"reputation": 5455, "user_id": 3961170, "user_type": "registered", "accept_rate": 73, "profile_image": "https://i.stack.imgur.com/PtFol.jpg?s=128&g=1", "display_name": "mkHun", "link": "https://stackoverflow.com/users/3961170/mkhun"}, "reply_to_user": {"reputation": 723, "user_id": 4568433, "user_type": "registered", "profile_image": "https://lh5.googleusercontent.com/-A0ltyCE72fA/AAAAAAAAAAI/AAAAAAAAADY/4U7GU992t_E/photo.jpg?sz=128", "display_name": "Alexandr Evstigneev", "link": "https://stackoverflow.com/users/4568433/alexandr-evstigneev"}, "edited": false, "score": 0, "creation_date": 1458649781, "post_id": 36151240, "comment_id": 59945834, "body": "@AlexandrEvstigneev Thank you. while editing makes mistake. Post edited. :)"}, {"owner": {"reputation": 31, "user_id": 5130576, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/a5bf09e7ef355bb7219259eae3e8234f?s=128&d=identicon&r=PG&f=1", "display_name": "Tree_Chee", "link": "https://stackoverflow.com/users/5130576/tree-chee"}, "edited": false, "score": 0, "creation_date": 1458689006, "post_id": 36151240, "comment_id": 59971383, "body": "Is it i need to use glob for this? Can i use back the one i am writing (counter) ? Cause i need to print out the filename and the 2nd line of the file together. If i use your code than i only able to get all the 2nd line of the files."}, {"owner": {"reputation": 5455, "user_id": 3961170, "user_type": "registered", "accept_rate": 73, "profile_image": "https://i.stack.imgur.com/PtFol.jpg?s=128&g=1", "display_name": "mkHun", "link": "https://stackoverflow.com/users/3961170/mkhun"}, "reply_to_user": {"reputation": 31, "user_id": 5130576, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/a5bf09e7ef355bb7219259eae3e8234f?s=128&d=identicon&r=PG&f=1", "display_name": "Tree_Chee", "link": "https://stackoverflow.com/users/5130576/tree-chee"}, "edited": false, "score": 0, "creation_date": 1458705101, "post_id": 36151240, "comment_id": 59975920, "body": "@Tree_Chee Simply extract the filename from <code>$m</code> using pattern matching. :) Post Edited"}], "tags": [], "owner": {"reputation": 5455, "user_id": 3961170, "user_type": "registered", "accept_rate": 73, "profile_image": "https://i.stack.imgur.com/PtFol.jpg?s=128&g=1", "display_name": "mkHun", "link": "https://stackoverflow.com/users/3961170/mkhun"}, "is_accepted": true, "score": 1, "last_activity_date": 1458705032, "last_edit_date": 1458705032, "creation_date": 1458640736, "answer_id": 36151240, "question_id": 36150942, "link": "https://stackoverflow.com/questions/36150942/using-counter-to-get-2nd-line-on-the-files-for-multiple-files-in-a-folder/36151240#36151240", "title": "using counter to get 2nd line on the files for multiple files in a folder", "body": "<p>Simply use <a href=\"http://perldoc.perl.org/functions/glob.html\" rel=\"nofollow\">glob</a></p>\n\n<pre><code>my $foldername = \"folder\";\n\nforeach my $m (glob(\"$foldername/*\"))\n{\n    open my $fh, \"&lt;\", $m or die \"$_ $!\";\n    &lt;$fh&gt;;\n    my $second = &lt;$fh&gt;;\n    ($fname) = $m=~m/\\/(.+)/g;  \n    print \"$fname $second\";\n}\n</code></pre>\n\n<p>glob returns the list of files in a directory. </p>\n\n<p>So the <code>foreach</code> Iterate for the each file in the folder.</p>\n\n<p>After opening the file i continuously used the file handle. That the reason was you want the second line of the data in a file, so <code>&lt;$fh&gt;</code> will return the first line of the file. Then the second line of the content is stored into the <code>$second</code>. Then it will print</p>\n"}, {"comments": [{"owner": {"reputation": 5455, "user_id": 3961170, "user_type": "registered", "accept_rate": 73, "profile_image": "https://i.stack.imgur.com/PtFol.jpg?s=128&g=1", "display_name": "mkHun", "link": "https://stackoverflow.com/users/3961170/mkhun"}, "edited": false, "score": 1, "creation_date": 1458641691, "post_id": 36151442, "comment_id": 59940206, "body": "When using lexical file handle no need to close it :)."}, {"owner": {"reputation": 723, "user_id": 4568433, "user_type": "registered", "profile_image": "https://lh5.googleusercontent.com/-A0ltyCE72fA/AAAAAAAAAAI/AAAAAAAAADY/4U7GU992t_E/photo.jpg?sz=128", "display_name": "Alexandr Evstigneev", "link": "https://stackoverflow.com/users/4568433/alexandr-evstigneev"}, "reply_to_user": {"reputation": 5455, "user_id": 3961170, "user_type": "registered", "accept_rate": 73, "profile_image": "https://i.stack.imgur.com/PtFol.jpg?s=128&g=1", "display_name": "mkHun", "link": "https://stackoverflow.com/users/3961170/mkhun"}, "edited": false, "score": 0, "creation_date": 1458642068, "post_id": 36151442, "comment_id": 59940453, "body": "yep, didn&#39;t know that :) anyway, just a habit"}, {"owner": {"reputation": 31, "user_id": 5130576, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/a5bf09e7ef355bb7219259eae3e8234f?s=128&d=identicon&r=PG&f=1", "display_name": "Tree_Chee", "link": "https://stackoverflow.com/users/5130576/tree-chee"}, "edited": false, "score": 0, "creation_date": 1458689608, "post_id": 36151442, "comment_id": 59971584, "body": "@AlexandrEvstigneev Hi Sir , want to ask you where should i put my directory path on the code? i see you pass argument to $foldername right?"}, {"owner": {"reputation": 723, "user_id": 4568433, "user_type": "registered", "profile_image": "https://lh5.googleusercontent.com/-A0ltyCE72fA/AAAAAAAAAAI/AAAAAAAAADY/4U7GU992t_E/photo.jpg?sz=128", "display_name": "Alexandr Evstigneev", "link": "https://stackoverflow.com/users/4568433/alexandr-evstigneev"}, "reply_to_user": {"reputation": 31, "user_id": 5130576, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/a5bf09e7ef355bb7219259eae3e8234f?s=128&d=identicon&r=PG&f=1", "display_name": "Tree_Chee", "link": "https://stackoverflow.com/users/5130576/tree-chee"}, "edited": false, "score": 0, "creation_date": 1458714666, "post_id": 36151442, "comment_id": 59978926, "body": "@Tree_Chee you may pass it to the script, like ./myscript.pl dir_name or you may hardcode it instead of shift ARGV"}, {"owner": {"reputation": 31, "user_id": 5130576, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/a5bf09e7ef355bb7219259eae3e8234f?s=128&d=identicon&r=PG&f=1", "display_name": "Tree_Chee", "link": "https://stackoverflow.com/users/5130576/tree-chee"}, "edited": false, "score": 0, "creation_date": 1458741155, "post_id": 36151442, "comment_id": 59995148, "body": "@AlexandrEvstigneev Thanks Sir. I try and it works well. The Output i having was the 2nd line and ## Usable for P9038 [15March2016] . How come there is ## Usable for P9038 [15March2016] ?"}], "tags": [], "owner": {"reputation": 723, "user_id": 4568433, "user_type": "registered", "profile_image": "https://lh5.googleusercontent.com/-A0ltyCE72fA/AAAAAAAAAAI/AAAAAAAAADY/4U7GU992t_E/photo.jpg?sz=128", "display_name": "Alexandr Evstigneev", "link": "https://stackoverflow.com/users/4568433/alexandr-evstigneev"}, "is_accepted": false, "score": -1, "last_activity_date": 1458641350, "creation_date": 1458641350, "answer_id": 36151442, "question_id": 36150942, "link": "https://stackoverflow.com/questions/36150942/using-counter-to-get-2nd-line-on-the-files-for-multiple-files-in-a-folder/36151442#36151442", "title": "using counter to get 2nd line on the files for multiple files in a folder", "body": "<p>Slightly adjusted example from mkHun:</p>\n\n<pre><code>my $foldername = shift @ARGV;\n\nforeach my $filename (glob(\"$foldername/*\"))\n{\n    if(  open my $handler, \"&lt;\", $filename )\n    {\n        &lt;$handler&gt;;\n        print scalar &lt;$handler&gt;;\n        close $handler;\n    }\n    else\n    {\n        warn \"Error opening $filename: $!\";\n    }\n}\n</code></pre>\n\n<p>You are passing foldername as argument to a script and getting output to stdout.</p>\n"}], "owner": {"reputation": 31, "user_id": 5130576, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/a5bf09e7ef355bb7219259eae3e8234f?s=128&d=identicon&r=PG&f=1", "display_name": "Tree_Chee", "link": "https://stackoverflow.com/users/5130576/tree-chee"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 65, "favorite_count": 0, "accepted_answer_id": 36151240, "answer_count": 2, "score": 2, "last_activity_date": 1458705032, "creation_date": 1458639974, "question_id": 36150942, "link": "https://stackoverflow.com/questions/36150942/using-counter-to-get-2nd-line-on-the-files-for-multiple-files-in-a-folder", "title": "using counter to get 2nd line on the files for multiple files in a folder", "body": "<p>I am trying to get all the 2nd line of each files from a folder. \nThere is few files in the folder and i wish to get all the data in 2nd line and result in a single files. \nBut my problem is when i run the script , i only get one data from a file. \nI cant get all the data from all the files. Need help on this. </p>\n\n<pre><code>#!/usr/bin/perl\n\nuse strict;\nuse warnings;\n\nmy $first_line = 1;\nmy $last_line = 1;\nmy $file1; my $filename; my @file;\nmy $line; #read line\nmy $no_files=0; # total number of files\nmy $input_file; #input , output\nmy $directory = 'C:\\Users\\AAA';\nmy $count = 0;\n\nopendir (DIR, $directory) or die $!;\nwhile (my $file = readdir(DIR))\n{\n     if ($file =~ m/(sum\\_)(\\S+)\\_(\\S+)\\_(\\S+)\\_\\_(\\d+)\\_(\\d+)\\.txt$/)\n    {\n        $filename = \"$directory\\\\$`$&amp;\"; # take text filename\n            print \"reading******** $filename\\n\";\n            push (@file, \"$filename\") # save into array\n    }\n}\n\n\nforeach $file1(@file)\n{\n    $input_file = $file1;\n    open(INPUT, \"$input_file\") or die \"$!\";     # parse in txt file\n    $no_files =$no_files + 1;\n    print \"foreach* $input_file\\n\";\n    seek $input_file, 0, 0;\nwhile ( &lt;INPUT&gt;)\n{\n  print \"Beginning****** $input_file\\n\";\n  print \"$count\\n\";\n  if ($count &gt; $last_line)     # exit the program when you get to the last line\n  {\n    $count=0;\n    close INPUT;\n    exit;\n  }\n\nif ($count &gt;= $first_line)  # print the current line if the line number is greater than our first param\n{\nprint $_;\n}\n   $count++;  # increment the line counter\n}\n\nclose INPUT;\n\n} #foreach\n</code></pre>\n\n<p><strong>Input file example</strong>\n<em>File 1</em></p>\n\n<pre><code>  Summary report\n  12/05/2015 09:11:28\n       Prog Name:    AAAF.xls\n       Job Name:     FT_ROOM\n       Lot:          U5AAAY_1A\n</code></pre>\n\n<p><strong>Input file example</strong>\n<em>File 2</em></p>\n\n<pre><code>  Summary report\n  12/05/2016 09:11:28\n       Prog Name:    AAAF.xls\n       Job Name:     FT_ROOM\n       Lot:          U5AAAY_1A\n</code></pre>\n\n<p><strong>Input file example</strong>\n<em>File 3</em></p>\n\n<pre><code>  Summary report\n  12/05/2017 09:11:28\n       Prog Name:    AAAF.xls\n       Job Name:     FT_ROOM\n       Lot:          U5AAAY_1A\n</code></pre>\n\n<p><strong>Output</strong> </p>\n\n<pre><code>reading******** C:\\Users\\csleow\\Desktop\\P9038\\FT_ROOM_sum_U59925MY_1A_K4B7501__12052015_042219.txt\nreading******** C:\\Users\\csleow\\Desktop\\P9038\\FT_ROOM_sum_U61853PY_2B_K4B7521__03112016_173308.txt\nforeach* C:\\Users\\csleow\\Desktop\\P9038\\FT_ROOM_sum_U59925MY_1A_K4B7501__12052015_042219.txt\nBeginning****** C:\\Users\\csleow\\Desktop\\P9038\\FT_ROOM_sum_U59925MY_1A_K4B7501__12052015_042219.txt\n0\nBeginning****** C:\\Users\\csleow\\Desktop\\P9038\\FT_ROOM_sum_U59925MY_1A_K4B7501__12052015_042219.txt\n1\n12/05/2015 09:11:28\nBeginning****** C:\\Users\\csleow\\Desktop\\P9038\\FT_ROOM_sum_U59925MY_1A_K4B7501__12052015_042219.txt\n2\n</code></pre>\n\n<p><strong>Output i would like to see :</strong> </p>\n\n<pre><code>12/05/2015 09:11:28\n12/05/2016 09:11:28\n12/05/2017 09:11:28\n</code></pre>\n"}, {"tags": ["arrays", "perl", "split"], "comments": [{"owner": {"reputation": 453, "user_id": 3834663, "user_type": "registered", "accept_rate": 44, "profile_image": "https://www.gravatar.com/avatar/5d57a494e224d18d06846290386de89b?s=128&d=identicon&r=PG&f=1", "display_name": "user3834663", "link": "https://stackoverflow.com/users/3834663/user3834663"}, "edited": false, "score": 0, "creation_date": 1458640111, "post_id": 36150923, "comment_id": 59938997, "body": "i parsed the input file perl script.pl input.txt"}, {"owner": {"reputation": 5455, "user_id": 3961170, "user_type": "registered", "accept_rate": 73, "profile_image": "https://i.stack.imgur.com/PtFol.jpg?s=128&g=1", "display_name": "mkHun", "link": "https://stackoverflow.com/users/3961170/mkhun"}, "edited": false, "score": 0, "creation_date": 1458641754, "post_id": 36150923, "comment_id": 59940254, "body": "Simply, Use missed the semicolon end of the split statement <code>my @lines = split(&#47;\\&#47;&#47;, $line);</code>"}, {"owner": {"reputation": 453, "user_id": 3834663, "user_type": "registered", "accept_rate": 44, "profile_image": "https://www.gravatar.com/avatar/5d57a494e224d18d06846290386de89b?s=128&d=identicon&r=PG&f=1", "display_name": "user3834663", "link": "https://stackoverflow.com/users/3834663/user3834663"}, "reply_to_user": {"reputation": 5455, "user_id": 3961170, "user_type": "registered", "accept_rate": 73, "profile_image": "https://i.stack.imgur.com/PtFol.jpg?s=128&g=1", "display_name": "mkHun", "link": "https://stackoverflow.com/users/3961170/mkhun"}, "edited": false, "score": 0, "creation_date": 1458642443, "post_id": 36150923, "comment_id": 59940727, "body": "apart from rhe regex, this isn&#39;t really possible simply printing the values based on the delimiters ?"}, {"owner": {"reputation": 453, "user_id": 3834663, "user_type": "registered", "accept_rate": 44, "profile_image": "https://www.gravatar.com/avatar/5d57a494e224d18d06846290386de89b?s=128&d=identicon&r=PG&f=1", "display_name": "user3834663", "link": "https://stackoverflow.com/users/3834663/user3834663"}, "reply_to_user": {"reputation": 5455, "user_id": 3961170, "user_type": "registered", "accept_rate": 73, "profile_image": "https://i.stack.imgur.com/PtFol.jpg?s=128&g=1", "display_name": "mkHun", "link": "https://stackoverflow.com/users/3961170/mkhun"}, "edited": false, "score": 0, "creation_date": 1458642501, "post_id": 36150923, "comment_id": 59940775, "body": "I&#39;m considering the delimiter as &#39;/&#39;"}], "answers": [{"tags": [], "owner": {"reputation": 8687, "user_id": 325117, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/2f0766debb859466aed4b305cc915d8e?s=128&d=identicon&r=PG", "display_name": "Martin Broadhurst", "link": "https://stackoverflow.com/users/325117/martin-broadhurst"}, "is_accepted": false, "score": 1, "last_activity_date": 1458640462, "creation_date": 1458640462, "answer_id": 36151140, "question_id": 36150923, "link": "https://stackoverflow.com/questions/36150923/split-a-string-in-each-line-in-a-file-and-print-the-fields/36151140#36151140", "title": "split a string in each line in a file and print the fields", "body": "<p>Your split command is splitting on <code>/</code>, which produces 5 fields with the first one always empty. The fields you want are 3 and 4. To get the output you want, you need to remove the subject after the score, for which you could use the <code>s//</code> operator:</p>\n\n<pre><code>my $student = $lines[3];\nmy $score = $lines[4];\n$score =~ s/ subject:.*$//;\nprint \"$student $score\\n\";\n</code></pre>\n"}, {"tags": [], "owner": {"reputation": 723, "user_id": 4568433, "user_type": "registered", "profile_image": "https://lh5.googleusercontent.com/-A0ltyCE72fA/AAAAAAAAAAI/AAAAAAAAADY/4U7GU992t_E/photo.jpg?sz=128", "display_name": "Alexandr Evstigneev", "link": "https://stackoverflow.com/users/4568433/alexandr-evstigneev"}, "is_accepted": false, "score": 1, "last_activity_date": 1458640935, "creation_date": 1458640935, "answer_id": 36151301, "question_id": 36150923, "link": "https://stackoverflow.com/questions/36150923/split-a-string-in-each-line-in-a-file-and-print-the-fields/36151301#36151301", "title": "split a string in each line in a file and print the fields", "body": "<p>In such cases i'm using regex built from the source. </p>\n\n<p>You have the line: </p>\n\n<pre><code>/u02/users/student1/marks score: 97 subject: sub1 status: passed\n</code></pre>\n\n<p>From this line you really need student and it's score, so you are building regex like:</p>\n\n<pre><code>/u02/users/(.+?)/(marks score: \\d+) subject:\n</code></pre>\n\n<p>And the code will be:</p>\n\n<pre><code>use v5.10;\n\nwhile (my $line = &lt;&gt;) {\n    if( $line =~ m{/u02/users/(.+?)/(marks score: \\d+) subject} ){\n        say \"$1 $2\";\n    }\n}\n</code></pre>\n"}, {"tags": [], "owner": {"reputation": 5455, "user_id": 3961170, "user_type": "registered", "accept_rate": 73, "profile_image": "https://i.stack.imgur.com/PtFol.jpg?s=128&g=1", "display_name": "mkHun", "link": "https://stackoverflow.com/users/3961170/mkhun"}, "is_accepted": false, "score": 0, "last_activity_date": 1458641554, "creation_date": 1458641554, "answer_id": 36151529, "question_id": 36150923, "link": "https://stackoverflow.com/questions/36150923/split-a-string-in-each-line-in-a-file-and-print-the-fields/36151529#36151529", "title": "split a string in each line in a file and print the fields", "body": "<p>You missed the semicolon and the end of the splitting. That is the reason of the syntax error</p>\n\n<pre><code>#!/usr/bin/perl\nuse strict;\nuse warnings;\nwhile (defined (my $line = &lt;&gt;)) {\n    my @lines = split(/\\//, $line);\n    my ($scr) = $lines[4] =~m/(.+?)subject/;\n    print \" $lines[3] $scr \\n\";\n}\n</code></pre>\n"}, {"tags": [], "owner": {"reputation": 123805, "user_id": 622310, "user_type": "registered", "accept_rate": 33, "profile_image": "https://www.gravatar.com/avatar/8b6d35219e1808520bc238b28161e2e6?s=128&d=identicon&r=PG", "display_name": "Borodin", "link": "https://stackoverflow.com/users/622310/borodin"}, "is_accepted": false, "score": 0, "last_activity_date": 1467625568, "last_edit_date": 1467625568, "creation_date": 1458657867, "answer_id": 36157530, "question_id": 36150923, "link": "https://stackoverflow.com/questions/36150923/split-a-string-in-each-line-in-a-file-and-print-the-fields/36157530#36157530", "title": "split a string in each line in a file and print the fields", "body": "<p>It's very unclear what you want to achieve, but the syntax error is because you have a missing semicolon after <code>my @lines = split(/\\//, $line)</code></p>\n\n<p>You will also find that your <code>split</code> doesn't divide each line as you expect. For instance, the first line of input produces this</p>\n\n<pre class=\"lang-none prettyprint-override\"><code>@lines = (\n  \"    \",\n  \"u02\",\n  \"users\",\n  \"student1\",\n  \"marks score: 97 subject: sub1 status: passed\\n\",\n)\n</code></pre>\n\n<p>You don't say what result you're hoping for, but at a guess you want just the varying information: the student, score, subject and status</p>\n\n<p>You could write it this way, splitting the data on <em>either</em> slashes or whitespace</p>\n\n<pre><code>use strict;\nuse warnings 'all';\n\nwhile ( &lt;DATA&gt; ) {\n    my @lines = split qr{/|\\s};\n    shift @lines until $lines[0] =~ /\\S/;\n    print \"$lines[2] $lines[5] $lines[7] $lines[9]\\n\";\n}\n\n__DATA__\n/u02/users/student1/marks score: 97 subject: sub1 status: passed\n/u02/users/student2/marks score: 20 subject: sub1 status: failed\n/u02/users/student3/marks score: 80 subject: sub1 status: passed\n/u02/users/student4/marks score: 60 subject: sub1 status: passed\n/u02/users/student5/marks score: 50 subject: sub1 status: passed\n/u02/users/student6/marks score: 45 subject: sub1 status: failed\n/u02/users/student7/marks score: 99 subject: sub1 status: passed\n</code></pre>\n\n<h3>output</h3>\n\n<pre class=\"lang-none prettyprint-override\"><code>student1 97 sub1 passed\nstudent2 20 sub1 failed\nstudent3 80 sub1 passed\nstudent4 60 sub1 passed\nstudent5 50 sub1 passed\nstudent6 45 sub1 failed\nstudent7 99 sub1 passed\n</code></pre>\n"}], "owner": {"reputation": 453, "user_id": 3834663, "user_type": "registered", "accept_rate": 44, "profile_image": "https://www.gravatar.com/avatar/5d57a494e224d18d06846290386de89b?s=128&d=identicon&r=PG&f=1", "display_name": "user3834663", "link": "https://stackoverflow.com/users/3834663/user3834663"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 56, "favorite_count": 0, "answer_count": 4, "score": -1, "last_activity_date": 1467625568, "creation_date": 1458639915, "last_edit_date": 1458640971, "question_id": 36150923, "link": "https://stackoverflow.com/questions/36150923/split-a-string-in-each-line-in-a-file-and-print-the-fields", "title": "split a string in each line in a file and print the fields", "body": "<p>I have the following details in 'input.txt' file.</p>\n\n<pre><code> /u02/users/student1/marks score: 97 subject: sub1 status: passed\n /u02/users/student2/marks score: 20 subject: sub1 status: failed\n /u02/users/student3/marks score: 80 subject: sub1 status: passed\n /u02/users/student4/marks score: 60 subject: sub1 status: passed\n /u02/users/student5/marks score: 50 subject: sub1 status: passed\n /u02/users/student6/marks score: 45 subject: sub1 status: failed\n /u02/users/student7/marks score: 99 subject: sub1 status: passed\n</code></pre>\n\n<p>I'm trying to split the strings and print specific fields.\nThe output i'm looking for:\n    student1 marks score: 97\n    student2 marks score: 20\n    student3 marks score: 80\n    student4 marks score: 60 \n    student5 marks score: 50 \n    student6 marks score: 45 \n    student7 marks score: 99</p>\n\n<p>Here is the code i wrote. but looks to be having some problem and getting below error. please correct me.</p>\n\n<p>syntax error at script.pl line 6, near \")\nprint\"\nExecution of script.pl aborted due to compilation errors.</p>\n\n<pre><code>#!/usr/bin/perl\nuse strict;\nuse warnings;\nwhile (defined (my $line = &lt;&gt;)) {\nmy @lines = split(/\\//, $line)\nprint \"$lines[3] $lines[4] $lines[5] $lines[6]\\n\";\n}\n</code></pre>\n"}, {"tags": ["perl", "modal-dialog"], "comments": [{"owner": {"reputation": 50468, "user_id": 1331451, "user_type": "registered", "accept_rate": 96, "profile_image": "https://i.stack.imgur.com/4ZPmj.png?s=128&g=1", "display_name": "simbabque", "link": "https://stackoverflow.com/users/1331451/simbabque"}, "edited": false, "score": 0, "creation_date": 1458638633, "post_id": 36150418, "comment_id": 59938035, "body": "Can you please be a bit more specific? What kind of stuff are you using in general? So this is on Windows, with a window-based application, right? Not web. Your use of the word <i>script</i> is misleading. Please clarify the question a bit."}, {"owner": {"reputation": 2111, "user_id": 4090903, "user_type": "registered", "accept_rate": 22, "profile_image": "https://www.gravatar.com/avatar/852d1cca847148adca9647aa4931c6ac?s=128&d=identicon&r=PG&f=1", "display_name": "thepace", "link": "https://stackoverflow.com/users/4090903/thepace"}, "reply_to_user": {"reputation": 50468, "user_id": 1331451, "user_type": "registered", "accept_rate": 96, "profile_image": "https://i.stack.imgur.com/4ZPmj.png?s=128&g=1", "display_name": "simbabque", "link": "https://stackoverflow.com/users/1331451/simbabque"}, "edited": false, "score": 0, "creation_date": 1458638949, "post_id": 36150418, "comment_id": 59938262, "body": "Its pure Perl with no CPAN library. I am executing it on Windows cmd prompt."}, {"owner": {"reputation": 50468, "user_id": 1331451, "user_type": "registered", "accept_rate": 96, "profile_image": "https://i.stack.imgur.com/4ZPmj.png?s=128&g=1", "display_name": "simbabque", "link": "https://stackoverflow.com/users/1331451/simbabque"}, "edited": false, "score": 0, "creation_date": 1458639297, "post_id": 36150418, "comment_id": 59938478, "body": "So it&#39;s not window-based? Can you show a <a href=\"https://stackoverflow.com/help/minimal-reproducible-example\">minimal reproducible example</a>?"}, {"owner": {"reputation": 2111, "user_id": 4090903, "user_type": "registered", "accept_rate": 22, "profile_image": "https://www.gravatar.com/avatar/852d1cca847148adca9647aa4931c6ac?s=128&d=identicon&r=PG&f=1", "display_name": "thepace", "link": "https://stackoverflow.com/users/4090903/thepace"}, "reply_to_user": {"reputation": 50468, "user_id": 1331451, "user_type": "registered", "accept_rate": 96, "profile_image": "https://i.stack.imgur.com/4ZPmj.png?s=128&g=1", "display_name": "simbabque", "link": "https://stackoverflow.com/users/1331451/simbabque"}, "edited": false, "score": 0, "creation_date": 1458639427, "post_id": 36150418, "comment_id": 59938555, "body": "Assume I have a perl file that just prints hello. Now, I wish to show the hello in  a non-blocking window. Let me know if this clarifies he question. I run it from cmd.exe"}], "answers": [{"tags": [], "owner": {"reputation": 110113, "user_id": 168657, "user_type": "registered", "accept_rate": 92, "profile_image": "https://www.gravatar.com/avatar/f14e7610fca39322ebbf23530def15f8?s=128&d=identicon&r=PG", "display_name": "mob", "link": "https://stackoverflow.com/users/168657/mob"}, "is_accepted": false, "score": 1, "last_activity_date": 1458670503, "creation_date": 1458670503, "answer_id": 36162149, "question_id": 36150418, "link": "https://stackoverflow.com/questions/36150418/showing-a-non-blocking-window-popup-dialog-box-notification-in-perl-without-tk/36162149#36162149", "title": "Showing a non-blocking window/popup/dialog-box/notification in Perl without TK", "body": "<p>Use a blocking notification, but run it from a child process after a <code>fork</code>.</p>\n\n<pre><code>sub dialog {\n    my $msg = shift;\n    if (fork() == 0) {\n        my_Win32_GUI_function_to_display_dialog($msg);\n        exit;\n    }\n}\n</code></pre>\n"}], "owner": {"reputation": 2111, "user_id": 4090903, "user_type": "registered", "accept_rate": 22, "profile_image": "https://www.gravatar.com/avatar/852d1cca847148adca9647aa4931c6ac?s=128&d=identicon&r=PG&f=1", "display_name": "thepace", "link": "https://stackoverflow.com/users/4090903/thepace"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 510, "favorite_count": 0, "answer_count": 1, "score": 1, "last_activity_date": 1458670503, "creation_date": 1458638456, "last_edit_date": 1458638914, "question_id": 36150418, "link": "https://stackoverflow.com/questions/36150418/showing-a-non-blocking-window-popup-dialog-box-notification-in-perl-without-tk", "title": "Showing a non-blocking window/popup/dialog-box/notification in Perl without TK", "body": "<p>I wish to execute a Perl script (without Tk) which should show a non-blocking notification (via window/dialog/popup/notification, etc). Currently, I have tried using:</p>\n\n<ul>\n<li>Dialog box </li>\n<li>Notify using Win32::GUI.</li>\n</ul>\n\n<p>In both cases, the window is blocked for user input.\nAlso, if there is any option using Windows' system commands, please do mention that as well.</p>\n\n<p>The perl script is a standalone script executed on windows.</p>\n"}, {"tags": ["regex", "perl"], "comments": [{"owner": {"reputation": 159902, "user_id": 3297613, "user_type": "registered", "accept_rate": 74, "profile_image": "https://i.stack.imgur.com/KHhzd.jpg?s=128&g=1", "display_name": "Avinash Raj", "link": "https://stackoverflow.com/users/3297613/avinash-raj"}, "edited": false, "score": 0, "creation_date": 1458630515, "post_id": 36147907, "comment_id": 59933809, "body": "try <code>perl -pe -0777</code>"}, {"owner": {"reputation": 2699, "user_id": 1729501, "user_type": "registered", "accept_rate": 79, "profile_image": "https://www.gravatar.com/avatar/ea8e08644c9bef0d92007c15f8e9fee9?s=128&d=identicon&r=PG", "display_name": "user13107", "link": "https://stackoverflow.com/users/1729501/user13107"}, "reply_to_user": {"reputation": 159902, "user_id": 3297613, "user_type": "registered", "accept_rate": 74, "profile_image": "https://i.stack.imgur.com/KHhzd.jpg?s=128&g=1", "display_name": "Avinash Raj", "link": "https://stackoverflow.com/users/3297613/avinash-raj"}, "edited": false, "score": 0, "creation_date": 1458630624, "post_id": 36147907, "comment_id": 59933858, "body": "@AvinashRaj <code>perl -p -e -0777 &#39;s&#47;\\nbb&#47;==&#47;g&#39; tmp</code> Can&#39;t open s/\\nbb/==/g: No such file or directory."}, {"owner": {"reputation": 87649, "user_id": 17389, "user_type": "registered", "accept_rate": 38, "profile_image": "https://www.gravatar.com/avatar/cd06d1314817ce946ab796af8750b56a?s=128&d=identicon&r=PG", "display_name": "ysth", "link": "https://stackoverflow.com/users/17389/ysth"}, "edited": false, "score": 1, "creation_date": 1458630779, "post_id": 36147907, "comment_id": 59933946, "body": "<code>perl -0777 -p -e ...</code>"}, {"owner": {"reputation": 159902, "user_id": 3297613, "user_type": "registered", "accept_rate": 74, "profile_image": "https://i.stack.imgur.com/KHhzd.jpg?s=128&g=1", "display_name": "Avinash Raj", "link": "https://stackoverflow.com/users/3297613/avinash-raj"}, "edited": false, "score": 0, "creation_date": 1458630871, "post_id": 36147907, "comment_id": 59933988, "body": "sorry, your regex must be next to <code>-e</code>"}], "answers": [{"tags": [], "owner": {"reputation": 723, "user_id": 4568433, "user_type": "registered", "profile_image": "https://lh5.googleusercontent.com/-A0ltyCE72fA/AAAAAAAAAAI/AAAAAAAAADY/4U7GU992t_E/photo.jpg?sz=128", "display_name": "Alexandr Evstigneev", "link": "https://stackoverflow.com/users/4568433/alexandr-evstigneev"}, "is_accepted": true, "score": 6, "last_activity_date": 1458652334, "last_edit_date": 1458652334, "creation_date": 1458630660, "answer_id": 36148182, "question_id": 36147907, "link": "https://stackoverflow.com/questions/36147907/per-replace-newlines-not-working-as-expected/36148182#36148182", "title": "Per replace newlines not working as expected", "body": "<p>The problem here that -p flag loops your code like: </p>\n\n<pre><code>LINE:\n    while (&lt;&gt;) {\n    ...     # your program goes here\n    } continue {\n    print or die \"-p destination: $!\\n\";\n    }\n</code></pre>\n\n<p>So your regexp runs for each line. Just use <code>-0777</code> option to read the entire file as one line:</p>\n\n<pre><code>perl -p -0777 -e 's/\\nbb/==/g' tmp\n</code></pre>\n"}], "owner": {"reputation": 2699, "user_id": 1729501, "user_type": "registered", "accept_rate": 79, "profile_image": "https://www.gravatar.com/avatar/ea8e08644c9bef0d92007c15f8e9fee9?s=128&d=identicon&r=PG", "display_name": "user13107", "link": "https://stackoverflow.com/users/1729501/user13107"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 48, "favorite_count": 0, "accepted_answer_id": 36148182, "answer_count": 1, "score": 0, "last_activity_date": 1458652334, "creation_date": 1458629618, "question_id": 36147907, "link": "https://stackoverflow.com/questions/36147907/per-replace-newlines-not-working-as-expected", "title": "Per replace newlines not working as expected", "body": "<p>I'm trying to replace newlines in a file <code>tmp</code> using Perl, but getting unexpected behavior as shown below.</p>\n\n<pre><code>user$ cat tmp\naa\nbb\ncc\n\n\nuser$ perl -p -e 's/\\n/==/g' tmp\naa==bb==cc==\n\nuser$ perl -p -e 's/\\nbb/==/g' tmp\naa\nbb\ncc\n</code></pre>\n\n<p>Why is the output not</p>\n\n<pre><code>aa==\ncc\n</code></pre>\n\n<p>instead?</p>\n"}, {"tags": ["linux", "git", "perl", "ssh"], "comments": [{"owner": {"reputation": 53041, "user_id": 4653379, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/b3953dbedd0dabff5cbc3db9b0835b14?s=128&d=identicon&r=PG&f=1", "display_name": "zdim", "link": "https://stackoverflow.com/users/4653379/zdim"}, "edited": false, "score": 0, "creation_date": 1458626459, "post_id": 36147089, "comment_id": 59931884, "body": "I recall a related question.  Do you really have to do this, ssh in chains? Why not drop back to host and ssh from it again?"}, {"owner": {"reputation": 51, "user_id": 2851145, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/f2d8e1235c4009ec994deec4bd53247d?s=128&d=identicon&r=PG&f=1", "display_name": "nebula", "link": "https://stackoverflow.com/users/2851145/nebula"}, "reply_to_user": {"reputation": 53041, "user_id": 4653379, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/b3953dbedd0dabff5cbc3db9b0835b14?s=128&d=identicon&r=PG&f=1", "display_name": "zdim", "link": "https://stackoverflow.com/users/4653379/zdim"}, "edited": false, "score": 0, "creation_date": 1458626530, "post_id": 36147089, "comment_id": 59931910, "body": "SSH to second remote machine can only be done from first remote machine"}, {"owner": {"reputation": 32176, "user_id": 2173773, "user_type": "registered", "accept_rate": 86, "profile_image": "https://i.stack.imgur.com/M8yh6.jpg?s=128&g=1", "display_name": "H&#229;kon H&#230;gland", "link": "https://stackoverflow.com/users/2173773/h%c3%a5kon-h%c3%a6gland"}, "edited": false, "score": 0, "creation_date": 1458632489, "post_id": 36147089, "comment_id": 59934793, "body": "See also <a href=\"http://stackoverflow.com/questions/23597777/quoting-in-bash-and-perl-in-recursive-ssh-command\">Quoting in bash and perl in recursive ssh command</a>"}, {"owner": {"reputation": 941, "user_id": 6061216, "user_type": "registered", "accept_rate": 100, "profile_image": "https://i.stack.imgur.com/sRsZ4.png?s=128&g=1", "display_name": "DevilaN", "link": "https://stackoverflow.com/users/6061216/devilan"}, "edited": false, "score": 0, "creation_date": 1458638748, "post_id": 36147089, "comment_id": 59938128, "body": "There should be possibility to create chain ssh command using method from this answer: <a href=\"http://stackoverflow.com/questions/35961937/is-this-possible-in-one-ssh-session-bash-python/35991359#35991359\" title=\"is this possible in one ssh session bash python\">stackoverflow.com/questions/35961937/&hellip;</a>"}], "answers": [{"tags": [], "owner": {"reputation": 2273, "user_id": 6079822, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/dd85eaf50e8480af8e68c574634ed18b?s=128&d=identicon&r=PG&f=1", "display_name": "jil", "link": "https://stackoverflow.com/users/6079822/jil"}, "is_accepted": false, "score": 2, "last_activity_date": 1458737159, "creation_date": 1458737159, "answer_id": 36178608, "question_id": 36147089, "link": "https://stackoverflow.com/questions/36147089/performing-second-ssh-within-ssh-in-perl/36178608#36178608", "title": "Performing second SSH within SSH in perl", "body": "<p>Net::SSH::Perl is seriously limited. I propose you would use <a href=\"http://search.cpan.org/~salva/Net-OpenSSH-0.70/lib/Net/OpenSSH.pm\" rel=\"nofollow\" title=\"Net::OpenSSH\">Net::OpenSSH</a> instead if possible. It supports proxy command and tunnels which make it easy to use <a href=\"https://en.wikibooks.org/wiki/OpenSSH/Cookbook/Proxies_and_Jump_Hosts\" rel=\"nofollow\">jump host</a>.</p>\n\n<p>If Net::SSH is your only option, then I'm afraid that the only way to do it is to use some sort of expect-like behaviour e.g. Net::SSH::Expect.</p>\n"}], "owner": {"reputation": 51, "user_id": 2851145, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/f2d8e1235c4009ec994deec4bd53247d?s=128&d=identicon&r=PG&f=1", "display_name": "nebula", "link": "https://stackoverflow.com/users/2851145/nebula"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 183, "favorite_count": 0, "answer_count": 1, "score": 2, "last_activity_date": 1458737159, "creation_date": 1458625988, "question_id": 36147089, "link": "https://stackoverflow.com/questions/36147089/performing-second-ssh-within-ssh-in-perl", "title": "Performing second SSH within SSH in perl", "body": "<p>I have to perform a SSH from remote machine in which I've logged in using Net::SSH::Perl i.e. the 'cmd' passed to $ssh->cmd in the below code is another SSH(say username@hostname). Is there a way to pass the password for this second SSH and then execute command on this second remote machine.\nAlso, I cannot use tools like ssh key-pair logins or sshpass. Can someone help?</p>\n\n<pre><code>use Net::SSH::Perl;\n\n    my $hostname = \"hostname\";\n    my $username = \"username\";\n    my $password = \"password\";\n\n    my $cmd = &lt;command to be executed on remote machine&gt;;\n\n    my $ssh = Net::SSH::Perl-&gt;new(\"$hostname\", debug=&gt;0);\n    $ssh-&gt;login(\"$username\",\"$password\");\n    my ($stdout,$stderr,$exit) = $ssh-&gt;cmd(\"$cmd\");\n    print $stdout;\n</code></pre>\n"}, {"tags": ["mysql", "perl", "cpan"], "comments": [{"owner": {"reputation": 21782, "user_id": 176646, "user_type": "registered", "accept_rate": 88, "profile_image": "https://i.stack.imgur.com/HsQyV.png?s=128&g=1", "display_name": "ThisSuitIsBlackNot", "link": "https://stackoverflow.com/users/176646/thissuitisblacknot"}, "edited": false, "score": 1, "creation_date": 1458658004, "post_id": 36146361, "comment_id": 59952376, "body": "You should make sure to install this somewhere that it won&#39;t be upgraded accidentally. All of <a href=\"https://metacpan.org/requires/distribution/DBD-mysql?sort=%5B%5B2,1%5D%5D\" rel=\"nofollow noreferrer\">these modules</a> depend on DBD::mysql. If any of them require a newer version (very likely since 3.0008 is <i>ancient</i>), upgrading them will automatically upgrade DBD::mysql to the latest version, breaking your script. This can happen even if you don&#39;t use any of those modules directly, since you may use a module that depends on one of them."}], "answers": [{"tags": [], "owner": {"reputation": 13167, "user_id": 546205, "user_type": "registered", "accept_rate": 60, "profile_image": "https://www.gravatar.com/avatar/5d7dd187ae1f4400664cbc0e66c8a2ce?s=128&d=identicon&r=PG", "display_name": "Miguel Prz", "link": "https://stackoverflow.com/users/546205/miguel-prz"}, "is_accepted": true, "score": 9, "last_activity_date": 1458650878, "last_edit_date": 1458650878, "creation_date": 1458628904, "answer_id": 36147754, "question_id": 36146361, "link": "https://stackoverflow.com/questions/36146361/how-to-install-obsolete-perl-cpan-modules/36147754#36147754", "title": "How to install obsolete Perl CPAN modules", "body": "<p>It's easy with the help of cpan tool:</p>\n\n<pre><code>cpan CAPTTOFU/DBD-mysql-3.0008.tar.gz\n</code></pre>\n\n<p>Note you have to specify the concrete version, instead of</p>\n\n<pre><code>cpan DBD::mysql\n</code></pre>\n\n<p>which installs the lastest version.\nYou also can use the <a href=\"https://metacpan.org/pod/App::cpanminus\" rel=\"nofollow\">cpanm</a> tool, in this way:</p>\n\n<pre><code>cpanm DBD::mysql@3.0008\n</code></pre>\n"}], "owner": {"reputation": 3739, "user_id": 405763, "user_type": "registered", "accept_rate": 97, "profile_image": "https://www.gravatar.com/avatar/6b82901f73413a8061f2d0784d7726b8?s=128&d=identicon&r=PG&f=1", "display_name": "Joseph", "link": "https://stackoverflow.com/users/405763/joseph"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 123, "favorite_count": 0, "accepted_answer_id": 36147754, "answer_count": 1, "score": 3, "last_activity_date": 1461483288, "creation_date": 1458622521, "last_edit_date": 1461483288, "question_id": 36146361, "link": "https://stackoverflow.com/questions/36146361/how-to-install-obsolete-perl-cpan-modules", "title": "How to install obsolete Perl CPAN modules", "body": "<p>I need to get a program up and running and at this point in time cannot upgrade the obsolete Perl module.</p>\n\n<p>In particular, I want to install this:</p>\n\n<p><a href=\"http://search.cpan.org/~capttofu/DBD-mysql-3.0008/lib/Mysql.pm\" rel=\"nofollow\">DBD-mysql-3.0008</a></p>\n\n<p>Usage:</p>\n\n<pre><code>use Msql;\n\n$dbh = Msql-&gt;connect($host);\n</code></pre>\n\n<p>How can I get this module working? In the long term of course the software will be rewritten to use:</p>\n\n<p><a href=\"http://search.cpan.org/~capttofu/DBD-mysql-4.033/lib/DBD/mysql.pm\" rel=\"nofollow\">DBD::mysql</a></p>\n"}, {"tags": ["regex", "perl"], "answers": [{"comments": [{"owner": {"reputation": 459, "user_id": 6036220, "user_type": "registered", "accept_rate": 95, "profile_image": "https://www.gravatar.com/avatar/395afbeee673a5b025aa004bf8a200a5?s=128&d=identicon&r=PG&f=1", "display_name": "Tom Boy", "link": "https://stackoverflow.com/users/6036220/tom-boy"}, "edited": false, "score": 0, "creation_date": 1458621355, "post_id": 36146067, "comment_id": 59930036, "body": "So it takes each arg and reads its file till it reaches the end and then goes to the next argument?"}, {"owner": {"reputation": 167912, "user_id": 240443, "user_type": "registered", "accept_rate": 79, "profile_image": "https://www.gravatar.com/avatar/495d675e3bc42ed1dee469e2ce701f1b?s=128&d=identicon&r=PG", "display_name": "Amadan", "link": "https://stackoverflow.com/users/240443/amadan"}, "reply_to_user": {"reputation": 459, "user_id": 6036220, "user_type": "registered", "accept_rate": 95, "profile_image": "https://www.gravatar.com/avatar/395afbeee673a5b025aa004bf8a200a5?s=128&d=identicon&r=PG&f=1", "display_name": "Tom Boy", "link": "https://stackoverflow.com/users/6036220/tom-boy"}, "edited": false, "score": 0, "creation_date": 1458621549, "post_id": 36146067, "comment_id": 59930085, "body": "Yes. It will open the file named by first argument and return each line; when it&#39;s done, it will open the next one. At that moment, your <code>ARGV</code> contains <code>&quot;File1&quot;</code> and <code>&quot;File2&quot;</code> due to shell glob expansion, so it will go through those two files."}], "tags": [], "owner": {"reputation": 167912, "user_id": 240443, "user_type": "registered", "accept_rate": 79, "profile_image": "https://www.gravatar.com/avatar/495d675e3bc42ed1dee469e2ce701f1b?s=128&d=identicon&r=PG", "display_name": "Amadan", "link": "https://stackoverflow.com/users/240443/amadan"}, "is_accepted": true, "score": 3, "last_activity_date": 1458629172, "last_edit_date": 1458629172, "creation_date": 1458620721, "answer_id": 36146067, "question_id": 36146019, "link": "https://stackoverflow.com/questions/36146019/need-help-understanding-this-perl-code/36146067#36146067", "title": "Need help understanding this perl code", "body": "<p><code>while(&lt;ARGV&gt;)</code> is a bit of Perl magic: it will give you <em>lines</em> from each file listed in <code>@ARGV</code>. Relevant docs: <a href=\"http://perldoc.perl.org/perlop.html#I/O-Operators\" rel=\"nofollow\">perlio: I/O Operators</a> and <a href=\"http://perldoc.perl.org/perlvar.html#ARGV\" rel=\"nofollow\">perlvar: ARGV</a>.</p>\n"}], "owner": {"reputation": 459, "user_id": 6036220, "user_type": "registered", "accept_rate": 95, "profile_image": "https://www.gravatar.com/avatar/395afbeee673a5b025aa004bf8a200a5?s=128&d=identicon&r=PG&f=1", "display_name": "Tom Boy", "link": "https://stackoverflow.com/users/6036220/tom-boy"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 52, "favorite_count": 0, "accepted_answer_id": 36146067, "answer_count": 1, "score": 1, "last_activity_date": 1458629172, "creation_date": 1458620402, "question_id": 36146019, "link": "https://stackoverflow.com/questions/36146019/need-help-understanding-this-perl-code", "title": "Need help understanding this perl code", "body": "<pre><code>$pattern = shift(@ARGV)\nwhile(&lt;ARGV&gt;){\n    if(/$pattern/){\n        print $ARGV,\": \",$_;\n    }\n}\n</code></pre>\n\n<p>The command: ./myprog.pl Size File*</p>\n\n<p>Where File1:</p>\n\n<pre><code>SetSize\nResetSize\nSETSIZE\nresetSIZE\n</code></pre>\n\n<p>File2:</p>\n\n<pre><code>This is a new file\nand its Size is very small.\n</code></pre>\n\n<p>The output:</p>\n\n<pre><code>File1: SetSize\nFile1: ResetSize\nFile2: and its Size is very small\n</code></pre>\n\n<p>Could someone please explain that main code to me. I really dont understand how there are two File print outs where each while loop is running each argument once and there is only 1 if condition. How is arg1 (File 1) outputting twice?</p>\n"}, {"tags": ["git", "perl", "curl"], "comments": [{"owner": {"reputation": 4925, "user_id": 1770246, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/f81463fa8b438fed5d8bdd6b3d60635b?s=128&d=identicon&r=PG", "display_name": "sschale", "link": "https://stackoverflow.com/users/1770246/sschale"}, "edited": false, "score": 1, "creation_date": 1458607141, "post_id": 36144126, "comment_id": 59926208, "body": "DELETE YOUR CREDENTIALS! Never expose secrets in a question."}, {"owner": {"reputation": 21782, "user_id": 176646, "user_type": "registered", "accept_rate": 88, "profile_image": "https://i.stack.imgur.com/HsQyV.png?s=128&g=1", "display_name": "ThisSuitIsBlackNot", "link": "https://stackoverflow.com/users/176646/thissuitisblacknot"}, "edited": false, "score": 1, "creation_date": 1458616895, "post_id": 36144126, "comment_id": 59928933, "body": "sschale wasn&#39;t clear enough. You need to <i>change</i> your credentials, because they&#39;re still in the <a href=\"http://stackoverflow.com/posts/36144126/revisions\">edit history</a> and the original version of your question has almost certainly already been cached by search engines and copycat sites."}], "answers": [{"tags": [], "owner": {"reputation": 1174, "user_id": 412175, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/cd3b70ed5998a15139eb9dcab36f3851?s=128&d=identicon&r=PG", "display_name": "nicomen", "link": "https://stackoverflow.com/users/412175/nicomen"}, "is_accepted": true, "score": 2, "last_activity_date": 1520496101, "last_edit_date": 1520496101, "creation_date": 1458608003, "answer_id": 36144384, "question_id": 36144126, "link": "https://stackoverflow.com/questions/36144126/return-combination-of-variable-and-string-in-perl/36144384#36144384", "title": "Return combination of variable and string in perl", "body": "<p>Since you are reading an <code>INI</code> file, I would strongly recommend to use a Config module like: <a href=\"http://p3rl.org/Config::ZOMG\" rel=\"nofollow noreferrer\">Config::ZOMG</a> or <a href=\"http://p3rl.org/Config::INI\" rel=\"nofollow noreferrer\">Config::INI</a></p>\n\n<p>The latter should be simple:</p>\n\n<pre><code>my $config = Config::INI::Reader-&gt;read_file('config.ini');\nprint $config-&gt;{location}-&gt;{file};\n</code></pre>\n\n<p>With a proper OO like Moo your code would be:</p>\n\n<p><strong>MyClass.pm:</strong></p>\n\n<pre><code>package MyClass;\n\nuse Config::INI::Reader;\n\nuse Moo;\n\nhas 'config_file' =&gt; (is =&gt; 'ro',   required =&gt; 1);\nhas 'config'      =&gt; (is =&gt; 'lazy', default =&gt; sub { Config::INI::Reader-&gt;read_file(shift-&gt;config_file); });\n\nsub setup {\n    my ($self) = @_;\n\n    my $path = $self-&gt;config-&gt;{location}-&gt;{path};\n    my $file = $self-&gt;config-&gt;{location}-&gt;{file};\n    my $host = $self-&gt;config-&gt;{credentials}-&gt;{host};\n\n    return sprintf \"%s --eg-config '%s' -H 'Host: %s' -ik https://%s\", ($file, $path, $host, $host); \n}\n</code></pre>\n\n<p><strong>script:</strong></p>\n\n<pre><code>use MyClass;\n\nmy $mc = MyClass-&gt;new( config_file =&gt; 'config.ini');\n$mc-&gt;setup();\n</code></pre>\n\n<p>Anyway, the actual problem with your file is that you are trying to call a method on $self named after the contents of <code>$command</code>. Perhaps you just wanted to return the $command variable in the <code>_setup</code> method?</p>\n"}, {"tags": [], "owner": {"reputation": 2690, "user_id": 5869736, "user_type": "registered", "accept_rate": 75, "profile_image": "https://www.gravatar.com/avatar/b18e361761e0643fd9003f9eae40ba45?s=128&d=identicon&r=PG&f=1", "display_name": "Marty", "link": "https://stackoverflow.com/users/5869736/marty"}, "is_accepted": false, "score": 1, "last_activity_date": 1458616201, "creation_date": 1458616201, "answer_id": 36145489, "question_id": 36144126, "link": "https://stackoverflow.com/questions/36144126/return-combination-of-variable-and-string-in-perl/36145489#36145489", "title": "Return combination of variable and string in perl", "body": "<p>I suspect you are wanting the <strong>_setup</strong> method to actually execute the command.  Your best bet for that is <a href=\"http://perldoc.perl.org/functions/system.html\" rel=\"nofollow\">system()</a>.  To use \"system\", you need to check the return value is 0.  From the previously linked documentation:</p>\n\n<pre><code>Since \"SIGINT\" and \"SIGQUIT\" are ignored during the execution\nof \"system\", if you expect your program to terminate on receipt\nof these signals you will need to arrange to do so yourself\nbased on the return value.\n\n   @args = (\"command\", \"arg1\", \"arg2\");\n   system(@args) == 0\n       or die \"system @args failed: $?\"\n</code></pre>\n\n<p>Before you do that though, I highly recommend you verify that the final command string is exactly the way you want it by printing it to standard out first.  And since this is part of a config/setup module, you may as well add another config option called \"testing\" or something similar.  Then, when <strong>_setup()</strong> is called, it can either print the command or execute it depending on the value of \"testing\".</p>\n\n<p>If the return value is non-zero, something has gone wrong and you might as well <strong>die()</strong> there and then.  However, once you've ironed out bugs and got it going, the command failures are usually going to be caused by bad configuration values supplied by the module user - so, you should use <a href=\"http://perldoc.perl.org/Carp.html\" rel=\"nofollow\">croak() from the Carp module</a> (I notice you're already using the module).  This will highlight the failure from the callers perspective rather than your module's perspective.</p>\n\n<p>Putting this togeather gives us something like:</p>\n\n<pre><code>    ... as above ...\n    bless ($self, $class);       #turning self into an object by telling which ...\n    $self-&gt;{_created} = 1;       #syntax for accessing the contemts of a hash: ...\n    $self-&gt;{_testing} = 0        # Initialize new config option\n    return $self;\n}\n... etc ...\n\nsub _setup{\n    my ($self, @location) = @_;\n    my $command = sprintf(\"%s --eg-config '%s' -H 'Host: %s' -ik https://%s\",\n                          @location[1,0,2,2]);\n    if $self-&gt;_testing {\n        print \"Would have executed: $command\\n\"\n    }\n    else {\n        system($command) == 0 or croak \"system $command failed: $?\"\n    }\n}\n</code></pre>\n"}], "owner": {"reputation": 21, "user_id": 6062646, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/4293863c0337c3b7b75c753d4d8cbfe4?s=128&d=identicon&r=PG&f=1", "display_name": "Harsh", "link": "https://stackoverflow.com/users/6062646/harsh"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 76, "favorite_count": 0, "accepted_answer_id": 36144384, "answer_count": 2, "score": 2, "last_activity_date": 1520496101, "creation_date": 1458606273, "last_edit_date": 1458614031, "question_id": 36144126, "link": "https://stackoverflow.com/questions/36144126/return-combination-of-variable-and-string-in-perl", "title": "Return combination of variable and string in perl", "body": "<p>I have a Module that reads from the config file. It fetches and stores the values from the config file into $path, $file, $host. When I pass these values into a new subroutine and concatinate with a string and try to return it, it fails. Gives me an error:</p>\n\n<p><strong>Module :</strong></p>\n\n<pre><code>package Module;\n\nuse strict;\nuse Carp;\n\n# Constructor and initialisation \nsub new {                               #class method\n    my $class = shift;              #shift without arguments is shift @_ , takes 1st element of argument array\n    my $self = {};          #created a Hash reference with @_ helping to store values in a hash\n    bless ($self, $class);          #turning self into an object by telling which class it belongs to without hardcode name in\n    $self-&gt;{_created} = 1; #syntax for accessing the contemts of a hash: refrence $object_name-&gt;{property_name}.\n    return $self;\n}\n\n #reading from config file\n sub read {\n    my ($self, $file) = @_;\n    my ($line, $section);\n    open(HFILE, \"$file\") || die \"Could not open file '$file' $!\";\n    $self-&gt;{_filename} = $file;     # Store a special property containing the name of the file\n\n    while (chomp (my $line = &lt;HFILE&gt;))\n    {\n            if ($line =~ /^\\[(.*)\\]/)\n            {\n                    $section = $1;\n            }\n            elsif ($line =~ /^([^=]+)=(.*)/)\n            {\n                    my ($config_name, $config_val) = ($1, $2);\n                    if ($section)\n                            {\n                                    $self-&gt;{\"$section.$config_name\"} = $config_val;\n                            } else {\n                                    $self-&gt;{$config_name} = $config_val;\n                                    }\n            }\n    }\n\n    close HFILE;\n    return 1;\n    }\n\n\n\n#fetching values needed\nsub fetch {\n    my ($self, $key) = @_;\n    return $self-&gt;{$key};\n}\n\nsub _setup{\n    my ($self, @location) = @_;\n    my $command = ''.$location[1].' --eg-config '.$location[0].' -H \"Host:'.$location[2].'\" -ik https://'.$location[2].'';\n    return $self-&gt;$command;\n}\n</code></pre>\n\n<p><strong>Script:</strong></p>\n\n<pre><code>#!/usr/bin/perl\n\nuse Module;\nuse strict;\n\nmy $value = Module-&gt;new();\n\n$value-&gt;read(\"/Users/hhansraj/git/edgegrid-curl/api.txt\") or die \"Couldn't read config file: $!\";\nmy $path=$value-&gt;fetch('location.path');\nmy $file=$value-&gt;fetch('location.file');\nmy $host=$value-&gt;fetch('credentials.host');\n$value-&gt;_setup($path,$file,$host);\n</code></pre>\n"}, {"tags": ["regex", "perl"], "comments": [{"owner": {"user_type": "does_not_exist", "display_name": "user2705585"}, "edited": false, "score": 0, "creation_date": 1458604628, "post_id": 36143840, "comment_id": 59925432, "body": "Actually <code>&#47;[^0-9]+&#47;</code> would match <code>I</code> <code>see</code> <code>dogs</code> in option <b>C</b>. More about <code>m</code> <a href=\"https://www.cs.cf.ac.uk/Dave/PERL/node83.html\" rel=\"nofollow noreferrer\">here</a>."}, {"owner": {"reputation": 51521, "user_id": 2566198, "user_type": "registered", "accept_rate": 67, "profile_image": "https://i.stack.imgur.com/Y34ZA.jpg?s=128&g=1", "display_name": "Sobrique", "link": "https://stackoverflow.com/users/2566198/sobrique"}, "edited": false, "score": 0, "creation_date": 1458638994, "post_id": 36143840, "comment_id": 59938281, "body": "It wouldn&#39;t, without a <code>g</code> modifier."}, {"owner": {"reputation": 110113, "user_id": 168657, "user_type": "registered", "accept_rate": 92, "profile_image": "https://www.gravatar.com/avatar/f14e7610fca39322ebbf23530def15f8?s=128&d=identicon&r=PG", "display_name": "mob", "link": "https://stackoverflow.com/users/168657/mob"}, "edited": false, "score": 0, "creation_date": 1458670690, "post_id": 36143840, "comment_id": 59961517, "body": "This is a basic question, but I don&#39;t see why it should have 7 downvotes and 4 close votes."}], "answers": [{"tags": [], "owner": {"reputation": 843, "user_id": 6020333, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/bea9014ebf1e1188cac53beb61560df8?s=128&d=identicon&r=PG&f=1", "display_name": "bart", "link": "https://stackoverflow.com/users/6020333/bart"}, "is_accepted": true, "score": 0, "last_activity_date": 1458604839, "creation_date": 1458604839, "answer_id": 36143903, "question_id": 36143840, "link": "https://stackoverflow.com/questions/36143840/regular-expressions-doubts/36143903#36143903", "title": "Regular expressions doubts", "body": "<p><code>m//</code> is the match operator. <code>//</code> are delimiters of the regex that you are mathing. If you are using default delimiters (<code>//</code>), then you can skip specifying <code>m</code> at the beginning. </p>\n\n<p>If you want to use some other charaters as delimiters, for example <code>!</code>, then <code>m</code> is required: <code>m!/some/string/with/slashes!</code>.</p>\n"}], "owner": {"reputation": 459, "user_id": 6036220, "user_type": "registered", "accept_rate": 95, "profile_image": "https://www.gravatar.com/avatar/395afbeee673a5b025aa004bf8a200a5?s=128&d=identicon&r=PG&f=1", "display_name": "Tom Boy", "link": "https://stackoverflow.com/users/6036220/tom-boy"}, "delete_vote_count": 1, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 68, "favorite_count": 0, "closed_date": 1459196743, "accepted_answer_id": 36143903, "answer_count": 1, "score": -7, "last_activity_date": 1458604839, "creation_date": 1458604485, "question_id": 36143840, "link": "https://stackoverflow.com/questions/36143840/regular-expressions-doubts", "closed_reason": "Not suitable for this site", "title": "Regular expressions doubts", "body": "<p>I have a few doubts that I have not managed to clear up by research and am hoping for some help.</p>\n\n<p>1) What does the <code>m</code> do, and what do the <code>/ /</code> before the m and at the end do?\n        $var  =~  m/[^0-9]+/</p>\n\n<p>2) <code>/[^0-9]+/</code> Which of the following lines does this regex match?</p>\n\n<pre><code>     A) `123`\n\n     B) `4`\n\n     C) `I see 5 dogs`\n\n     D) `I see five dogs`\n</code></pre>\n\n<p>My answer to 2): It matches <code>C</code> and <code>D</code>, and not <code>A</code> and <code>B</code> because there is no character or wold that does not contain <code>0-9</code>.</p>\n"}, {"tags": ["arrays", "postgresql", "perl"], "comments": [{"owner": {"reputation": 6258, "user_id": 82262, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/8ce15931410b388a52eb2df4a864137f?s=128&d=identicon&r=PG&f=1", "display_name": "Matt Jacob", "link": "https://stackoverflow.com/users/82262/matt-jacob"}, "edited": false, "score": 0, "creation_date": 1458600586, "post_id": 36142940, "comment_id": 59924121, "body": "Something is wrong with your example. <code>fetchrow</code> is an old alias for <code>fetchrow_array</code>, which would not return an array reference as one of its list items."}], "answers": [{"tags": [], "owner": {"reputation": 198290, "user_id": 1030675, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/957956ce51706d03f19a4dc85a767bb1?s=128&d=identicon&r=PG", "display_name": "choroba", "link": "https://stackoverflow.com/users/1030675/choroba"}, "is_accepted": true, "score": 0, "last_activity_date": 1458600273, "creation_date": 1458600273, "answer_id": 36143025, "question_id": 36142940, "link": "https://stackoverflow.com/questions/36142940/how-to-process-a-postgres-array-in-perl/36143025#36143025", "title": "How to process a postgres array in Perl?", "body": "<p>Dereference the array reference by prepending the <code>@</code>:</p>\n\n<pre><code>for my $track_number (@$p_track_numbers) {\n    print $track_number, \"\\n\"\n}\n</code></pre>\n"}], "owner": {"reputation": 15, "user_id": 6095843, "user_type": "registered", "profile_image": "https://lh5.googleusercontent.com/-jUWVNKPRyh0/AAAAAAAAAAI/AAAAAAAAAMA/acH9ABjfrzI/photo.jpg?sz=128", "display_name": "Graham S", "link": "https://stackoverflow.com/users/6095843/graham-s"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 473, "favorite_count": 0, "accepted_answer_id": 36143025, "answer_count": 1, "score": 0, "last_activity_date": 1458600273, "creation_date": 1458599759, "last_edit_date": 1458599972, "question_id": 36142940, "link": "https://stackoverflow.com/questions/36142940/how-to-process-a-postgres-array-in-perl", "title": "How to process a postgres array in Perl?", "body": "<p>I'm new at Perl. I'm trying to select an array column in a postgres view using a Perl script, but I'm unsure on how to break the scalar array as it comes into Perl into a Perl array, so that I can step through each field. </p>\n\n<p>What advise can you offer?</p>\n\n<p>(using postgres 9.3, relatively new Perl)</p>\n\n<pre><code>#!/usr/bin/perl\nuse strict;\nuse warnings;\nuse DBI;\nuse Data::Dumper;\n# open database connection\nmy $dbh = DBI- &gt;connect(\"dbi:Pg:dbname=$db::DB_name;host=$db::DB_host;port=$db::DB_port\",\"$db::DB_user\",\"$db::DB_pwd\");\nif ( !defined $dbh ) {&amp;log_print(\"Cannot connect to database!\\n\"); die\"dieing...\\n\";} \n#fetch record from postgres database\n$sth = $dbh-&gt;prepare(\"select progno, track_numbers from processing\");\nif ( !defined $sth ) {    die \"Cannot prepare statement: $DBI::errstr\\n\";} \n$rows = $sth-&gt;execute();\nmy ($p_progno, $p_track_numbers) = $sth-&gt;fetchrow();\n$sth-&gt;finish;\n#output scalar\n&amp;log_print(\"$p_track_numbers\\n\"); \n#result: ARRAY(0x1975d38)\nprint Dumper($p_track_numbers);\n#result:\n#$VAR1 = [\n#          16,\n#          17,\n#          18,\n#          19,\n#          20,\n#          21,\n#          22\n#        ];\n#? How do I step through each $p_track_numbers in a foreach?\n</code></pre>\n"}, {"tags": ["mysql", "sql", "perl"], "comments": [{"owner": {"reputation": 21782, "user_id": 176646, "user_type": "registered", "accept_rate": 88, "profile_image": "https://i.stack.imgur.com/HsQyV.png?s=128&g=1", "display_name": "ThisSuitIsBlackNot", "link": "https://stackoverflow.com/users/176646/thissuitisblacknot"}, "edited": false, "score": 0, "creation_date": 1458598082, "post_id": 36142498, "comment_id": 59923138, "body": "Are you trying to mirror the entire database, copy an entire table, copy a subset of records into a table with the same structure, copy a subset of records into a table with a different structure, or something else entirely?"}, {"owner": {"reputation": 373, "user_id": 3133072, "user_type": "registered", "accept_rate": 10, "profile_image": "https://www.gravatar.com/avatar/e161cb72818708e81d8e16e03e433743?s=128&d=identicon&r=PG&f=1", "display_name": "cikavladimir", "link": "https://stackoverflow.com/users/3133072/cikavladimir"}, "reply_to_user": {"reputation": 21782, "user_id": 176646, "user_type": "registered", "accept_rate": 88, "profile_image": "https://i.stack.imgur.com/HsQyV.png?s=128&g=1", "display_name": "ThisSuitIsBlackNot", "link": "https://stackoverflow.com/users/176646/thissuitisblacknot"}, "edited": false, "score": 0, "creation_date": 1458601068, "post_id": 36142498, "comment_id": 59924291, "body": "Copy subset of records (also selected columns) from one table to another - edited my question."}], "answers": [{"tags": [], "owner": {"reputation": 13167, "user_id": 546205, "user_type": "registered", "accept_rate": 60, "profile_image": "https://www.gravatar.com/avatar/5d7dd187ae1f4400664cbc0e66c8a2ce?s=128&d=identicon&r=PG", "display_name": "Miguel Prz", "link": "https://stackoverflow.com/users/546205/miguel-prz"}, "is_accepted": false, "score": 0, "last_activity_date": 1458598157, "creation_date": 1458598157, "answer_id": 36142563, "question_id": 36142498, "link": "https://stackoverflow.com/questions/36142498/how-to-insert-table-values-from-one-mysql-database-to-another-mysql-database-whe/36142563#36142563", "title": "How to insert table values from one MySQL database to another MySQL database when they are on 2 different servers with different ports?", "body": "<p>you could use the <a href=\"http://dev.mysql.com/doc/refman/5.0/en/replication-options-slave.html#option_mysqld_replicate-do-table\" rel=\"nofollow\">replication facilities</a> of MySQL</p>\n"}, {"tags": [], "owner": {"reputation": 102, "user_id": 5419190, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/k0LSb.jpg?s=128&g=1", "display_name": "Christine", "link": "https://stackoverflow.com/users/5419190/christine"}, "is_accepted": false, "score": 0, "last_activity_date": 1458739763, "creation_date": 1458739763, "answer_id": 36179563, "question_id": 36142498, "link": "https://stackoverflow.com/questions/36142498/how-to-insert-table-values-from-one-mysql-database-to-another-mysql-database-whe/36179563#36179563", "title": "How to insert table values from one MySQL database to another MySQL database when they are on 2 different servers with different ports?", "body": "<p>I don't have enough reputation to just comment, but I think the easiest approach would be to create a view on server A with just that data that server B needs, then create a cron job on server B to periodically query the view &amp; import the data during the day. For the job on B I would suggest you script it and create logfiles for debugging, but you could just put a mysql command in your crontab if you want it quick and dirty. </p>\n"}], "owner": {"reputation": 373, "user_id": 3133072, "user_type": "registered", "accept_rate": 10, "profile_image": "https://www.gravatar.com/avatar/e161cb72818708e81d8e16e03e433743?s=128&d=identicon&r=PG&f=1", "display_name": "cikavladimir", "link": "https://stackoverflow.com/users/3133072/cikavladimir"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 74, "favorite_count": 0, "answer_count": 2, "score": 0, "last_activity_date": 1458739763, "creation_date": 1458597881, "last_edit_date": 1458598259, "question_id": 36142498, "link": "https://stackoverflow.com/questions/36142498/how-to-insert-table-values-from-one-mysql-database-to-another-mysql-database-whe", "title": "How to insert table values from one MySQL database to another MySQL database when they are on 2 different servers with different ports?", "body": "<p>I have one MySQL db on server A and another MySQL instance on a server B. There is a need to copy records (fastest possible) from one table to another (based on user providing ID for records that match) from server A -> B many times during the day. <br>Is there a way to create an SQL statement to do this or data need to be extracted by some programming language (e.g. Perl, Python etc.), then store result in variables and then prepare Insert statement in order to to insert data to server B?<br>\nServers have 2 different IPs and DBs are on 2 different ports but they are the same version of MySQL (5.6.29).</p>\n"}, {"tags": ["perl"], "comments": [{"owner": {"reputation": 193600, "user_id": 87189, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/98e7d6edce863e7a1bf8199b082eb25e?s=128&d=identicon&r=PG", "display_name": "tadman", "link": "https://stackoverflow.com/users/87189/tadman"}, "edited": false, "score": 1, "creation_date": 1458592981, "post_id": 36141150, "comment_id": 59920588, "body": "If you capture the result to <code>$rc</code> there&#39;s no chance of <code>$?</code> changing on you before you get around to using that value."}, {"owner": {"reputation": 5334, "user_id": 5830574, "user_type": "registered", "accept_rate": 93, "profile_image": "https://i.stack.imgur.com/kCmqs.png?s=128&g=1", "display_name": "PerlDuck", "link": "https://stackoverflow.com/users/5830574/perlduck"}, "reply_to_user": {"reputation": 193600, "user_id": 87189, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/98e7d6edce863e7a1bf8199b082eb25e?s=128&d=identicon&r=PG", "display_name": "tadman", "link": "https://stackoverflow.com/users/87189/tadman"}, "edited": false, "score": 0, "creation_date": 1458594365, "post_id": 36141150, "comment_id": 59921384, "body": "Thanks @tadman. I added a comment to the accepted answer which also applies to your comment. Using <code>$rc</code> seems the cleaner way to me."}], "answers": [{"comments": [{"owner": {"reputation": 5334, "user_id": 5830574, "user_type": "registered", "accept_rate": 93, "profile_image": "https://i.stack.imgur.com/kCmqs.png?s=128&g=1", "display_name": "PerlDuck", "link": "https://stackoverflow.com/users/5830574/perlduck"}, "edited": false, "score": 0, "creation_date": 1458594223, "post_id": 36141243, "comment_id": 59921311, "body": "Great! That&#39;s what I wanted to hear and make sure. Thank you. I&#39;m aware of <code>$?</code>&#39;s volatility (like errno in C) and only use it if there&#39;s no explicit $rc available (like with backticks). I prefer explicit vars anyway and even avoid <code>$_</code> when possible. IMHO readability and maintainability suffer from using too many <i>magic</i> vars. So I&#39;ll stick with <code>$rc</code>. :-)"}, {"owner": {"reputation": 193600, "user_id": 87189, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/98e7d6edce863e7a1bf8199b082eb25e?s=128&d=identicon&r=PG", "display_name": "tadman", "link": "https://stackoverflow.com/users/87189/tadman"}, "edited": false, "score": 2, "creation_date": 1458594538, "post_id": 36141243, "comment_id": 59921490, "body": "<code>$?</code> is pretty much exactly the same as C&#39;s venerable <code>errno</code> which means it has a lot of the same problems. Magical global variables sure seemed like a great idea once, but thankfully we&#39;ve moved on."}, {"owner": {"reputation": 21782, "user_id": 176646, "user_type": "registered", "accept_rate": 88, "profile_image": "https://i.stack.imgur.com/HsQyV.png?s=128&g=1", "display_name": "ThisSuitIsBlackNot", "link": "https://stackoverflow.com/users/176646/thissuitisblacknot"}, "reply_to_user": {"reputation": 193600, "user_id": 87189, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/98e7d6edce863e7a1bf8199b082eb25e?s=128&d=identicon&r=PG", "display_name": "tadman", "link": "https://stackoverflow.com/users/87189/tadman"}, "edited": false, "score": 3, "creation_date": 1458596975, "post_id": 36141243, "comment_id": 59922637, "body": "@tadman Actually, <code>$!</code> is pretty much exactly the same as <code>errno</code> (it simply retrieves the current value of <code>errno</code>). <code>$?</code> is slightly different because it gets set by each <code>wait</code> or pipe close, even if they succeed (<code>$!</code> is only valid immediately after a failure). But you&#39;re right about global variables."}, {"owner": {"reputation": 193600, "user_id": 87189, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/98e7d6edce863e7a1bf8199b082eb25e?s=128&d=identicon&r=PG", "display_name": "tadman", "link": "https://stackoverflow.com/users/87189/tadman"}, "reply_to_user": {"reputation": 21782, "user_id": 176646, "user_type": "registered", "accept_rate": 88, "profile_image": "https://i.stack.imgur.com/HsQyV.png?s=128&g=1", "display_name": "ThisSuitIsBlackNot", "link": "https://stackoverflow.com/users/176646/thissuitisblacknot"}, "edited": false, "score": 1, "creation_date": 1458597143, "post_id": 36141243, "comment_id": 59922706, "body": "@ThisSuitIsBlackNot Good point. Another reason why <code>$?</code> is confusingly unreliable compared to direct capture of the return value."}], "tags": [], "owner": {"reputation": 52334, "user_id": 702638, "user_type": "registered", "accept_rate": 98, "profile_image": "https://www.gravatar.com/avatar/892f65bc0a8a0949ab88598de7d83cab?s=128&d=identicon&r=PG", "display_name": "Hunter McMillen", "link": "https://stackoverflow.com/users/702638/hunter-mcmillen"}, "is_accepted": true, "score": 11, "last_activity_date": 1458593150, "creation_date": 1458593150, "answer_id": 36141243, "question_id": 36141150, "link": "https://stackoverflow.com/questions/36141150/is-the-value-returned-by-system-the-same-as/36141243#36141243", "title": "Is the value returned by system() the same as &quot;$?&quot;?", "body": "<p>Yes, the return value of <a href=\"http://perldoc.perl.org/functions/system.html\"><code>system</code></a> <em>should</em> equal <code>$?</code>. </p>\n\n<p>However since <code>$?</code> does not <em>only</em> apply to <code>system</code> calls and <code>$?</code> is a global variable, it could be overwritten by other actions that are occurring. From <code>perldoc -v '$?'</code> these include:  </p>\n\n<blockquote>\n  <p>$CHILD_ERROR</p>\n  \n  <p>$?     </p>\n  \n  <p>The status returned by the last pipe close, backtick (\"``\") command, successful call to \"wait()\" or \"waitpid()\", or from the \"system()\" operator.</p>\n</blockquote>\n\n<p>It is far safer to store the value immediately then compare:</p>\n\n<pre><code>my $rc = system('ls myfile.txt');\nif ( $rc &gt;&gt; 8 != 0 ) {\n   # do something because ls exited with an error\n}\n</code></pre>\n"}], "owner": {"reputation": 5334, "user_id": 5830574, "user_type": "registered", "accept_rate": 93, "profile_image": "https://i.stack.imgur.com/kCmqs.png?s=128&g=1", "display_name": "PerlDuck", "link": "https://stackoverflow.com/users/5830574/perlduck"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 196, "favorite_count": 1, "accepted_answer_id": 36141243, "answer_count": 1, "score": 14, "last_activity_date": 1458597038, "creation_date": 1458592845, "last_edit_date": 1458597038, "question_id": 36141150, "link": "https://stackoverflow.com/questions/36141150/is-the-value-returned-by-system-the-same-as", "title": "Is the value returned by system() the same as &quot;$?&quot;?", "body": "<p>When I do <code>system()</code> calls in Perl, I usually inspect the return code according to the <a href=\"http://perldoc.perl.org/functions/system.html\">perldocs</a>. <em>Well, I thought so.</em> Most of the time <code>$rc!=0</code> is sufficient for me. Recently I helped two people here which had trouble with <code>system()</code> calls when running their .cgi scripts under apache. I instructed them to examine the <code>$rc</code> of</p>\n\n<pre><code>my $rc = system(...);\n</code></pre>\n\n<p>and linked them to the <code>system()</code> docs. Then I looked closer and noticed the docs aren't really talking about the <code>$rc</code> but instead about <code>$?</code> and I felt a bit embarassed and the following question arose:</p>\n\n<p>Is there a difference between:</p>\n\n<pre><code>system(...);\nif ($? == -1) {\n    print \"failed to execute: $!\\n\";\n}\nelsif ($? &amp; 127) {\n    printf \"child died with signal %d, %s coredump\\n\",\n        ($? &amp; 127),  ($? &amp; 128) ? 'with' : 'without';\n}\nelse {\n    printf \"child exited with value %d\\n\", $? &gt;&gt; 8;\n}\n</code></pre>\n\n<p>and</p>\n\n<pre><code>my $rc = system(...);\nif ($rc == -1) {\n    print \"failed to execute: $!\\n\";\n}\nelsif ($rc &amp; 127) {\n    printf \"child died with signal %d, %s coredump\\n\",\n        ($rc &amp; 127),  ($rc &amp; 128) ? 'with' : 'without';\n}\nelse {\n    printf \"child exited with value %d\\n\", $rc &gt;&gt; 8;\n}\n</code></pre>\n\n<p>Or, for short, is <code>$rc</code> equal to <code>$?</code> for <code>system()</code>?</p>\n\n<p>I looked through the docs of <a href=\"http://perldoc.perl.org/functions/system.html\">system</a>, <a href=\"http://perldoc.perl.org/functions/wait.html\">wait</a>, and <a href=\"http://perldoc.perl.org/perlvar.html#Error-Variables\">$?</a> but it's not quite clear to me. Did I do wrong for the last 15 years by using <code>$rc</code>?</p>\n"}, {"tags": ["arrays", "linux", "perl", "ubuntu"], "comments": [{"owner": {"reputation": 52334, "user_id": 702638, "user_type": "registered", "accept_rate": 98, "profile_image": "https://www.gravatar.com/avatar/892f65bc0a8a0949ab88598de7d83cab?s=128&d=identicon&r=PG", "display_name": "Hunter McMillen", "link": "https://stackoverflow.com/users/702638/hunter-mcmillen"}, "edited": false, "score": 0, "creation_date": 1458585134, "post_id": 36138930, "comment_id": 59916325, "body": "What is the value of <code>$item</code>? You can easily print a hash with <a href=\"https://metacpan.org/pod/Data::Dumper\" rel=\"nofollow noreferrer\"><code>Data::Dumper</code></a>"}, {"owner": {"reputation": 21782, "user_id": 176646, "user_type": "registered", "accept_rate": 88, "profile_image": "https://i.stack.imgur.com/HsQyV.png?s=128&g=1", "display_name": "ThisSuitIsBlackNot", "link": "https://stackoverflow.com/users/176646/thissuitisblacknot"}, "edited": false, "score": 3, "creation_date": 1458585299, "post_id": 36138930, "comment_id": 59916424, "body": "Those parentheses are surely wrong. <code>ref($foo eq &quot;bar&quot;)</code> will always return an empty string because the result of <code>eq</code> is never a reference."}], "answers": [{"tags": [], "owner": {"reputation": 61610, "user_id": 725418, "user_type": "registered", "accept_rate": 86, "profile_image": "https://www.gravatar.com/avatar/82ac2dc3e1ad4b7187f245c416528df9?s=128&d=identicon&r=PG", "display_name": "TLP", "link": "https://stackoverflow.com/users/725418/tlp"}, "is_accepted": false, "score": 0, "last_activity_date": 1458586412, "creation_date": 1458586412, "answer_id": 36139308, "question_id": 36138930, "link": "https://stackoverflow.com/questions/36138930/use-of-uninitialized-value-in-string-eq-at-parse-rss-pl-line-27/36139308#36139308", "title": "Use of uninitialized value in string eq at ./parse_rss.pl line 27", "body": "<p>Your parentheses are in the wrong place</p>\n\n<pre><code>if (ref($item-&gt;{'company:symbol'} eq 'ARRAY')) {\n</code></pre>\n\n<p>Should be</p>\n\n<pre><code>if (ref($item-&gt;{'company:symbol'}) eq 'ARRAY') {\n</code></pre>\n\n<p><code>ref</code> returns a string, which in the case of an array happens to be <code>ARRAY</code>. Hence this checks whether the reference in that hash element is an array reference.</p>\n"}, {"tags": [], "owner": {"reputation": 123805, "user_id": 622310, "user_type": "registered", "accept_rate": 33, "profile_image": "https://www.gravatar.com/avatar/8b6d35219e1808520bc238b28161e2e6?s=128&d=identicon&r=PG", "display_name": "Borodin", "link": "https://stackoverflow.com/users/622310/borodin"}, "is_accepted": false, "score": 0, "last_activity_date": 1458589264, "last_edit_date": 1495541266, "creation_date": 1458589264, "answer_id": 36140135, "question_id": 36138930, "link": "https://stackoverflow.com/questions/36138930/use-of-uninitialized-value-in-string-eq-at-parse-rss-pl-line-27/36140135#36140135", "title": "Use of uninitialized value in string eq at ./parse_rss.pl line 27", "body": "<p>As <a href=\"https://stackoverflow.com/a/36139308/622310\"><strong><em>TLP</strong> says</em></a>, the problem is with your line</p>\n\n<pre><code>if (ref($item-&gt;{'company:symbol'} eq 'ARRAY'))\n</code></pre>\n\n<p>The expression <code>$item-&gt;{'company:symbol'} eq 'ARRAY'</code> evaluates to either <em>true</em> or <em>false</em>\u20141 or the empty string\u2014and the <code>ref</code> operator returns false\u2014the empty string\u2014in both cases because neither is a reference</p>\n\n<p>You meant to check whether the hash element was an array reference, so</p>\n\n<pre><code>if (ref $item-&gt;{'company:symbol'} eq 'ARRAY')\n</code></pre>\n\n<p>with no parentheses at all would would fine</p>\n\n<p>There's a number of other issues with your code. In particular I think it's neater to extract the functions of an iterated value at the start of the loop. </p>\n\n<p>So, for instance</p>\n\n<pre><code>if (ref($item-&gt;{'company:symbol'} eq 'ARRAY')) {\n    next;\n}\n</code></pre>\n\n<p>is clearer written as</p>\n\n<pre><code>my $company_symbol = $item-&gt;{'company:symbol'};\n\nnext if ref $company_symbol eq 'ARRAY';\n</code></pre>\n\n<p>Here's a version of your code that you may prefer</p>\n\n<pre><code>#!/usr/bin/perl\n\nuse warnings;\nuse strict;\n\nuse DateTime;\nuse DateTime::Format::ISO8601;\nuse XML::FeedPP;\n\nmy $starttime;\n\nif ( @ARGV ) {\n    $starttime = DateTime::Format::ISO8601-&gt;parse_datetime( $ARGV[0] );\n}\nelse {\n    $starttime = DateTime::Format::ISO8601-&gt;parse_datetime('1970-01-01T00:00:00');\n}\n\nmy $feed      = XML::FeedPP-&gt;new('http://rss.feed.url');\nmy $num_items = $feed-&gt;get_item;\n\nfor ( my $i = $num_items - 1; $i &gt;= 0; --$i ) {\n\n    my $item           = $feed-&gt;get_item($i);\n    my $company_symbol = $item-&gt;{'company:symbol'};\n    my $pub_date       = DateTime::Format::ISO8601-&gt;parse_datetime( $item-&gt;pubDate );\n    my $title          = $item-&gt;title;\n\n    last if $pub_date &lt; $starttime;\n\n    next if ref $company_symbol eq 'ARRAY';\n\n    if ( $title =~ /(.+?) (upgraded|downgraded) to (.+?) from (.+?) at (.+)/ ) {\n\n        print join('|',\n            $pub_date-&gt;strftime('%Y-%m-%d %h:%m:%s'),\n            $1,\n            $company_symbol,\n            $2,\n            $3,\n            $4,\n            $5\n        ), \"\\n\";\n    }\n    elsif ( $title =~ /(.+?) (initiated) with (\\w+) (.+?) at (.+)/ ) {\n\n        print join('|',\n            $pub_date-&gt;strftime('%Y-%m-%d %h:%m:%s'),\n            $1,\n            $company_symbol,\n            $2,\n            $4,\n            '...None...',\n            $5\n        ), \"\\n\";\n    }\n}\n</code></pre>\n"}], "owner": {"reputation": 47, "user_id": 3842699, "user_type": "registered", "accept_rate": 0, "profile_image": "https://www.gravatar.com/avatar/d06dbf3dde6e573197c50a042a5a6f6d?s=128&d=identicon&r=PG&f=1", "display_name": "virtual020", "link": "https://stackoverflow.com/users/3842699/virtual020"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 376, "favorite_count": 0, "answer_count": 2, "score": 0, "last_activity_date": 1458589264, "creation_date": 1458585019, "question_id": 36138930, "link": "https://stackoverflow.com/questions/36138930/use-of-uninitialized-value-in-string-eq-at-parse-rss-pl-line-27", "title": "Use of uninitialized value in string eq at ./parse_rss.pl line 27", "body": "<p><strong>Background:</strong></p>\n\n<p>Im not a PERL expert but working on migrating some scripts to a new server with newer versions of Perl and PHP all the others work but this particular one doesnt work.</p>\n\n<p>I have installed all of the modules this script depends on to run, and those PM related errors have ceased.</p>\n\n<p><strong>Environment:</strong></p>\n\n<ul>\n<li>Web Server Running </li>\n<li>Ubuntu 12.04 LTS 64-bit</li>\n<li>Apache 2 </li>\n<li>Mysql </li>\n<li>PHP5</li>\n<li>FREETDS </li>\n<li>ALL Firewall permission and remote Database Connectivity\ntested and verified </li>\n<li>ALL required Perl Modules and Apache/PHP5\nextensions tested and verified</li>\n</ul>\n\n<p><strong>Script functionality:</strong></p>\n\n<p>The script is meant to pull stories from an RSS feed and place them into a remote database. </p>\n\n<p><strong>Problem:</strong> </p>\n\n<p>On the old server the script runs with no problems on this new server i get the following error:</p>\n\n<blockquote>\n  <p>Use of uninitialized value in string eq at ./parse_rss.pl line 27.</p>\n</blockquote>\n\n<p><strong>Line 27 is the following:</strong></p>\n\n<pre><code>if (ref($item-&gt;{'company:symbol'} eq 'ARRAY')) {\n                next;\n</code></pre>\n\n<p><strong>Please view the full Script below:</strong></p>\n\n<pre><code>#!/usr/bin/perl\n#\n\nuse warnings;\nuse strict;\nuse DateTime;\nuse DateTime::Format::ISO8601;\nuse XML::FeedPP;\n\nmy $starttime;\nif ($#ARGV == -1) {\n        $starttime = DateTime::Format::ISO8601-&gt;parse_datetime(\"1970-01-01T00:00:00\");\n}\nelse {\n        $starttime = DateTime::Format::ISO8601-&gt;parse_datetime($ARGV[0]);\n}\n\nmy $feed = XML::FeedPP-&gt;new(\"http://RSS.FEED.URL\");\nmy $num_items = $feed-&gt;get_item();\nfor (my $i = $num_items - 1; $i &gt;= 0; $i--)\n{\n        my $item = $feed-&gt;get_item($i);\n        my $dt = DateTime::Format::ISO8601-&gt;parse_datetime($item-&gt;pubDate);\n        if ($dt &lt; $starttime) {\n                last;\n        }\n        if (ref($item-&gt;{'company:symbol'} eq 'ARRAY')) {\n                next;\n        }\n        if ($item-&gt;title =~ /(.+?) (upgraded|downgraded) to (.+?) from (.+?) at (.+)/) {\n                print sprintf(\"%04d-%02d-%02d %02d:%02d:%02d\", $dt-&gt;year(), $dt-&gt;month(), $dt-&gt;day(), $dt-&gt;hour(), $dt-&gt;minute(), $dt-&gt;second()) . \"|$1|\" . $item-&gt;{'company:symbol'} . \"|$2|$3|$4|$5\\n\";\n        }\n        elsif ($item-&gt;title =~ /(.+?) (initiated) with (\\w+) (.+?) at (.+)/) {\n                print sprintf(\"%04d-%02d-%02d %02d:%02d:%02d\", $dt-&gt;year(), $dt-&gt;month(), $dt-&gt;day(), $dt-&gt;hour(), $dt-&gt;minute(), $dt-&gt;second()) . \"|$1|\" . $item-&gt;{'company:symbol'} . \"|$2|$4|...None...|$5\\n\";\n        }\n}\n</code></pre>\n\n<p>Any help on this would be greatly appreciated</p>\n"}, {"tags": ["perl", "perl-module"], "answers": [{"comments": [{"owner": {"reputation": 3, "user_id": 6083809, "user_type": "registered", "accept_rate": 50, "profile_image": "https://www.gravatar.com/avatar/bfb54c7054ed20c799f4d18a785b6873?s=128&d=identicon&r=PG&f=1", "display_name": "virat", "link": "https://stackoverflow.com/users/6083809/virat"}, "edited": false, "score": 0, "creation_date": 1458588035, "post_id": 36139576, "comment_id": 59917952, "body": "How do i define the hash in the function ?"}, {"owner": {"reputation": 5334, "user_id": 5830574, "user_type": "registered", "accept_rate": 93, "profile_image": "https://i.stack.imgur.com/kCmqs.png?s=128&g=1", "display_name": "PerlDuck", "link": "https://stackoverflow.com/users/5830574/perlduck"}, "reply_to_user": {"reputation": 3, "user_id": 6083809, "user_type": "registered", "accept_rate": 50, "profile_image": "https://www.gravatar.com/avatar/bfb54c7054ed20c799f4d18a785b6873?s=128&d=identicon&r=PG&f=1", "display_name": "virat", "link": "https://stackoverflow.com/users/6083809/virat"}, "edited": false, "score": 1, "creation_date": 1458588490, "post_id": 36139576, "comment_id": 59918222, "body": "@virat Martin already gave you all you need (+1 for that!): His return statement returns a reference to an anonymous hash with 5 key/value pairs. Like you returned a list <code>(...)</code> without explicitly defining it, he returned a hashref without explicitly defining it."}], "tags": [], "owner": {"reputation": 8687, "user_id": 325117, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/2f0766debb859466aed4b305cc915d8e?s=128&d=identicon&r=PG", "display_name": "Martin Broadhurst", "link": "https://stackoverflow.com/users/325117/martin-broadhurst"}, "is_accepted": true, "score": 2, "last_activity_date": 1458588846, "last_edit_date": 1458588846, "creation_date": 1458587285, "answer_id": 36139576, "question_id": 36138778, "link": "https://stackoverflow.com/questions/36138778/return-multiple-values-from-a-function-in-hash/36139576#36139576", "title": "Return multiple values from a function in hash", "body": "<p>Try this:</p>\n\n<pre><code>return { 'status' =&gt; $status, 'peer_ip' =&gt; $peer_ip,\n    'session_id' =&gt; $session_id, 'session_state' =&gt; $session_state,\n    'time' =&gt; $time };\n</code></pre>\n\n<p>And then you can do this:</p>\n\n<pre><code>my $stuff = $sshobject-&gt;session_status(\"Tunnel1\");\nprint \"TUNNEL STATUS : $stuff-&gt;{'status'}\\n\";\nprint \"PEER IP : $stuff-&gt;{'peer_ip'}\\n\";\n# etc\n</code></pre>\n"}], "owner": {"reputation": 3, "user_id": 6083809, "user_type": "registered", "accept_rate": 50, "profile_image": "https://www.gravatar.com/avatar/bfb54c7054ed20c799f4d18a785b6873?s=128&d=identicon&r=PG&f=1", "display_name": "virat", "link": "https://stackoverflow.com/users/6083809/virat"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 267, "favorite_count": 0, "accepted_answer_id": 36139576, "answer_count": 1, "score": -1, "last_activity_date": 1458588846, "creation_date": 1458584480, "question_id": 36138778, "link": "https://stackoverflow.com/questions/36138778/return-multiple-values-from-a-function-in-hash", "title": "Return multiple values from a function in hash", "body": "<p>I have created a function which essentially logs into a router,executes a command, parses the command output and prints the <code>Peer status</code>  and <code>Peer ip</code><br>\nFunction returns the values as expected. In addition to status and peer ip if i want to return 3 more values say for eg:  $session_id, $session_state and $time. How do I do that with hash ? I want the function to return all the five values in a Hash. </p>\n\n<pre><code>sub session_status {\n    my ($self,$interface_name)  = @_;\n    my $status  = 0;\n    my $peer_ip = 0;\n\n    #command to chek the status\n    my $cmd     = 'show crypto session interface ' . $interface_name;\n    $self-&gt;_login();\n    my $tunnel_status = $self-&gt;exec($cmd);\n\n    #Regex to match the 'tunnel status' and 'peer ip' string in the cmd output\n\n    foreach my $line (  $tunnel_status ) {\n      if ( $line =~ m/Session\\s+status:\\s+(.*)/ ) {\n            $status = $1;\n      }\n      if ( $line =~ m/Peer:\\s+(\\d+.\\d+.\\d+.\\d+)/ ) {\n            $peer_ip = $1;\n      }\n    }\n    return ($status,$peer_ip);\n}\n</code></pre>\n\n<p>Function call:</p>\n\n<pre><code> my ($tunnel_status, $peer_ip) = $sshobject-&gt;session_status(\"Tunnel1\");\n     print \"TUNNEL STATUS : $tunnel_status\\n\";\n     print \"PEER IP : $peer_ip\\n\";\n</code></pre>\n\n<p>output :</p>\n\n<pre><code>TUNNEL STATUS : DOWN\nPEER IP : 100.81.1.42\n</code></pre>\n"}, {"tags": ["excel", "perl"], "comments": [{"owner": {"reputation": 50468, "user_id": 1331451, "user_type": "registered", "accept_rate": 96, "profile_image": "https://i.stack.imgur.com/4ZPmj.png?s=128&g=1", "display_name": "simbabque", "link": "https://stackoverflow.com/users/1331451/simbabque"}, "edited": false, "score": 1, "creation_date": 1458576929, "post_id": 36136021, "comment_id": 59910847, "body": "It looks like you are doing it right. Check for typos. The only thing I see in the docs that I&#39;m not clear on is <i>(Applicable to value axes only.)</i> at <a href=\"https://metacpan.org/pod/Excel::Writer::XLSX::Chart#set_x_axis\" rel=\"nofollow noreferrer\">metacpan.org/pod/Excel::Writer::XLSX::Chart#set_x_axis</a>. The code there looks pretty clean to me. And a typo would just give you an error message as far as I can tell."}, {"owner": {"reputation": 15, "user_id": 1475463, "user_type": "registered", "accept_rate": 0, "profile_image": "https://www.gravatar.com/avatar/3edf1382620f621bedd14f435cf018c3?s=128&d=identicon&r=PG", "display_name": "user1475463", "link": "https://stackoverflow.com/users/1475463/user1475463"}, "reply_to_user": {"reputation": 50468, "user_id": 1331451, "user_type": "registered", "accept_rate": 96, "profile_image": "https://i.stack.imgur.com/4ZPmj.png?s=128&g=1", "display_name": "simbabque", "link": "https://stackoverflow.com/users/1331451/simbabque"}, "edited": false, "score": 0, "creation_date": 1458588859, "post_id": 36136021, "comment_id": 59918389, "body": "Nope, no error message.  In fact the script creates the proper chart, with the exception of the y-axis displaying the transactions in millions.  The label name &#39;Transactions&#39; exists as well."}], "answers": [{"tags": [], "owner": {"reputation": 6592, "user_id": 3005251, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/a5331f7e467aae3d581fe8bc814ef572?s=128&d=identicon&r=PG", "display_name": "bolav", "link": "https://stackoverflow.com/users/3005251/bolav"}, "is_accepted": false, "score": 0, "last_activity_date": 1459242534, "creation_date": 1459242534, "answer_id": 36279925, "question_id": 36136021, "link": "https://stackoverflow.com/questions/36136021/excelwriterxlsx-display-units-on-y-axis/36279925#36279925", "title": "Excel::Writer::XLSX display_units on y-axis", "body": "<p>Excel::Writer::XLSX works for me.</p>\n\n<p>In <a href=\"https://github.com/jmcnamara/excel-writer-xlsx/tree/master/t\" rel=\"nofollow\">Excel::Writer::XLSX</a> there is a regression test for displaying units in the millions. </p>\n\n<p>The test is called <a href=\"https://github.com/jmcnamara/excel-writer-xlsx/blob/master/t/regression/chart_display_units06.t\" rel=\"nofollow\">chart_display_units06.t</a>, and it's comparing to <a href=\"https://github.com/jmcnamara/excel-writer-xlsx/blob/master/t/regression/xlsx_files/chart_display_units06.xlsx\" rel=\"nofollow\">chart_display_units06.xlsx</a>.</p>\n\n<p>When I open the Excel file that is included, it shows correctly on my machine, and the test is passing, with this command:</p>\n\n<pre><code>prove -lv t/regression/chart_display_units06.t\n</code></pre>\n\n<p>Also changing the y-axis to <code>$chart-&gt;set_y_axis( display_units =&gt; 'millions', name =&gt; 'Transactions' );</code> stills show correctly in my Excel.</p>\n\n<p>I think you need to either give the excel file you are creating, or post more code for us to be able to reproduce the error.</p>\n"}], "owner": {"reputation": 15, "user_id": 1475463, "user_type": "registered", "accept_rate": 0, "profile_image": "https://www.gravatar.com/avatar/3edf1382620f621bedd14f435cf018c3?s=128&d=identicon&r=PG", "display_name": "user1475463", "link": "https://stackoverflow.com/users/1475463/user1475463"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 87, "favorite_count": 0, "answer_count": 1, "score": 0, "last_activity_date": 1459242534, "creation_date": 1458576239, "last_edit_date": 1458576770, "question_id": 36136021, "link": "https://stackoverflow.com/questions/36136021/excelwriterxlsx-display-units-on-y-axis", "title": "Excel::Writer::XLSX display_units on y-axis", "body": "<p>I have a chart which contains a y-axis with values in the millions.  Instead of listing such large numbers I wanted to use the display_units => 'millions' option.  If I open up excel and select the axis and change the display units to millions it works.  However in the script I'm running I have this coded:</p>\n\n<pre><code>$chart-&gt;set_y_axis( display_units =&gt; 'millions', name =&gt; 'Transactions' );\n</code></pre>\n\n<p>But the chart still lists the y_axis in millions.  Am I missing something or could there be a bug in this option?</p>\n"}, {"tags": ["excel", "perl", "win32ole"], "comments": [{"owner": {"reputation": 50468, "user_id": 1331451, "user_type": "registered", "accept_rate": 96, "profile_image": "https://i.stack.imgur.com/4ZPmj.png?s=128&g=1", "display_name": "simbabque", "link": "https://stackoverflow.com/users/1331451/simbabque"}, "edited": false, "score": 0, "creation_date": 1458576742, "post_id": 36135941, "comment_id": 59910703, "body": "Copying the whole <code>$sheet</code> to a new <code>$Book</code> might work."}], "answers": [{"tags": [], "owner": {"reputation": 8687, "user_id": 325117, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/2f0766debb859466aed4b305cc915d8e?s=128&d=identicon&r=PG", "display_name": "Martin Broadhurst", "link": "https://stackoverflow.com/users/325117/martin-broadhurst"}, "is_accepted": false, "score": 1, "last_activity_date": 1458577287, "creation_date": 1458577287, "answer_id": 36136420, "question_id": 36135941, "link": "https://stackoverflow.com/questions/36135941/save-excel-spreadsheet-file-without-the-password/36136420#36136420", "title": "Save Excel spreadsheet file without the password", "body": "<p>Try:</p>\n\n<pre><code>$Book-&gt;Unprotect('test'); # Where 'test' is your password\n</code></pre>\n\n<p>Reference: <a href=\"https://msdn.microsoft.com/en-us/library/office/ff196695.aspx\" rel=\"nofollow\">Workbook.Unprotect Method (Excel)</a></p>\n"}, {"tags": [], "owner": {"reputation": 1702, "user_id": 880797, "user_type": "registered", "accept_rate": 69, "profile_image": "https://www.gravatar.com/avatar/bace3dcc4a83523d93399ab2bd1f3728?s=128&d=identicon&r=PG", "display_name": "Andrey", "link": "https://stackoverflow.com/users/880797/andrey"}, "is_accepted": true, "score": 1, "last_activity_date": 1458578884, "creation_date": 1458578884, "answer_id": 36137013, "question_id": 36135941, "link": "https://stackoverflow.com/questions/36135941/save-excel-spreadsheet-file-without-the-password/36137013#36137013", "title": "Save Excel spreadsheet file without the password", "body": "<p>I figured out the answer:</p>\n\n<pre><code>$Book-&gt;SaveAs({Filename=&gt;\"$outFile\",FileFormat=&gt;xlWorkbookNormal, Password =&gt; undef});\n</code></pre>\n\n<p>Thanks guys.</p>\n"}], "owner": {"reputation": 1702, "user_id": 880797, "user_type": "registered", "accept_rate": 69, "profile_image": "https://www.gravatar.com/avatar/bace3dcc4a83523d93399ab2bd1f3728?s=128&d=identicon&r=PG", "display_name": "Andrey", "link": "https://stackoverflow.com/users/880797/andrey"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 636, "favorite_count": 0, "accepted_answer_id": 36137013, "answer_count": 2, "score": 0, "last_activity_date": 1458578884, "creation_date": 1458576012, "question_id": 36135941, "link": "https://stackoverflow.com/questions/36135941/save-excel-spreadsheet-file-without-the-password", "title": "Save Excel spreadsheet file without the password", "body": "<p>I am trying to open password protected excel and save it with no password.\nI know the password. When I am trying to run the code below, the file is being saved with the password.</p>\n\n<pre><code>#!/usr/bin/perl\n\nuse strict;\nuse warnings,\n\nuse Win32::OLE qw(in with);\nuse Win32::OLE::Const 'Microsoft Excel *';\n\nmy $file = \"in.xls\";\nmy $outFile = \"out.xls\";\n\nmy $Excel = Win32::OLE-&gt;new ('Excel.Application', 'Quit');\n$Excel-&gt;{'Visible'} = 0;    #0 is hidden, 1 is visible\n$Excel-&gt;{'DisplayAlerts'} = 0;  #0 is hide alerts\n\nmy $Book = $Excel-&gt;Workbooks-&gt;Open({FileName =&gt; \"$file\", Password =&gt; 'test'});\nmy $Sheet = $Book-&gt;Worksheets('test');\n$Sheet-&gt;Activate();\n$Book-&gt;SaveAs({Filename=&gt;\"$outFile\",FileFormat=&gt;xlWorkbookNormal});\n$Excel-&gt;Quit();\n</code></pre>\n\n<p>Please advise.</p>\n\n<p>Thank you,\n-Andrey</p>\n"}, {"tags": ["regex", "perl"], "comments": [{"owner": {"reputation": 21782, "user_id": 176646, "user_type": "registered", "accept_rate": 88, "profile_image": "https://i.stack.imgur.com/HsQyV.png?s=128&g=1", "display_name": "ThisSuitIsBlackNot", "link": "https://stackoverflow.com/users/176646/thissuitisblacknot"}, "edited": false, "score": 1, "creation_date": 1458571138, "post_id": 36133955, "comment_id": 59906412, "body": "What part of the regex are you unsure about? <a href=\"http://perldoc.perl.org/perlretut.html\" rel=\"nofollow noreferrer\">perlretut</a> (the official Perl regex tutorial) is a great resource for learning about regular expressions in Perl."}], "answers": [{"comments": [{"owner": {"reputation": 683, "user_id": 5438797, "user_type": "registered", "accept_rate": 0, "profile_image": "https://lh6.googleusercontent.com/-Rru377-I1WE/AAAAAAAAAAI/AAAAAAAAAAw/VepE7cxBZIw/photo.jpg?sz=128", "display_name": "Ysh", "link": "https://stackoverflow.com/users/5438797/ysh"}, "edited": false, "score": 0, "creation_date": 1458571361, "post_id": 36134020, "comment_id": 59906587, "body": "So what does $1 here indicates exactly?"}, {"owner": {"reputation": 50468, "user_id": 1331451, "user_type": "registered", "accept_rate": 96, "profile_image": "https://i.stack.imgur.com/4ZPmj.png?s=128&g=1", "display_name": "simbabque", "link": "https://stackoverflow.com/users/1331451/simbabque"}, "edited": false, "score": 0, "creation_date": 1458571646, "post_id": 36134020, "comment_id": 59906843, "body": "<code>$1</code> is the first capture group, so everything inside of the <code>(  )</code>. And that would be what ikegami highlighted here."}, {"owner": {"reputation": 683, "user_id": 5438797, "user_type": "registered", "accept_rate": 0, "profile_image": "https://lh6.googleusercontent.com/-Rru377-I1WE/AAAAAAAAAAI/AAAAAAAAAAw/VepE7cxBZIw/photo.jpg?sz=128", "display_name": "Ysh", "link": "https://stackoverflow.com/users/5438797/ysh"}, "edited": false, "score": 0, "creation_date": 1458581480, "post_id": 36134020, "comment_id": 59914098, "body": "so, how can i get only the file name from the whole url? i.e., i want only hale_bopp_2.mpg string from url: <a href=\"http://127.0.0.1/test.pl/content/dist/hale_bopp_2.mpg\" rel=\"nofollow noreferrer\">127.0.0.1/test.pl/content/dist/hale_bopp_2.mpg</a>"}, {"owner": {"reputation": 320771, "user_id": 589924, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/b2cf53d5a3d25f95c0db4e025aed4153?s=128&d=identicon&r=PG", "display_name": "ikegami", "link": "https://stackoverflow.com/users/589924/ikegami"}, "edited": false, "score": 0, "creation_date": 1458585252, "post_id": 36134020, "comment_id": 59916398, "body": "What you actually want is the last segment of the path in <code>$target</code>."}], "tags": [], "owner": {"reputation": 320771, "user_id": 589924, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/b2cf53d5a3d25f95c0db4e025aed4153?s=128&d=identicon&r=PG", "display_name": "ikegami", "link": "https://stackoverflow.com/users/589924/ikegami"}, "is_accepted": false, "score": 5, "last_activity_date": 1458572229, "last_edit_date": 1458572229, "creation_date": 1458571197, "answer_id": 36134020, "question_id": 36133955, "link": "https://stackoverflow.com/questions/36133955/perl-regular-expression-pattern-matching-the-urls/36134020#36134020", "title": "Perl regular expression pattern matching the urls", "body": "<p>Is extracts the \"path info\" component of the URL, the extra segments of the path after the path to the script.</p>\n\n<pre><code>http://127.0.0.1/test.pl/content/dist/hale_bopp_2.mpg\n                        ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n</code></pre>\n\n<p>(It should really be <code>$target = unescape_uri($1)</code> to handle escaped characters.)</p>\n"}, {"tags": [], "owner": {"reputation": 723, "user_id": 4568433, "user_type": "registered", "profile_image": "https://lh5.googleusercontent.com/-A0ltyCE72fA/AAAAAAAAAAI/AAAAAAAAADY/4U7GU992t_E/photo.jpg?sz=128", "display_name": "Alexandr Evstigneev", "link": "https://stackoverflow.com/users/4568433/alexandr-evstigneev"}, "is_accepted": false, "score": -1, "last_activity_date": 1458571795, "creation_date": 1458571795, "answer_id": 36134273, "question_id": 36133955, "link": "https://stackoverflow.com/questions/36133955/perl-regular-expression-pattern-matching-the-urls/36134273#36134273", "title": "Perl regular expression pattern matching the urls", "body": "<p>From the language perspective, it matches $url with regexp enclosed in m| | and if it matches, put first capture (part of regex in parens) into $target. </p>\n"}], "owner": {"reputation": 683, "user_id": 5438797, "user_type": "registered", "accept_rate": 0, "profile_image": "https://lh6.googleusercontent.com/-Rru377-I1WE/AAAAAAAAAAI/AAAAAAAAAAw/VepE7cxBZIw/photo.jpg?sz=128", "display_name": "Ysh", "link": "https://stackoverflow.com/users/5438797/ysh"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 181, "favorite_count": 0, "answer_count": 2, "score": 0, "last_activity_date": 1458572229, "creation_date": 1458571037, "question_id": 36133955, "link": "https://stackoverflow.com/questions/36133955/perl-regular-expression-pattern-matching-the-urls", "title": "Perl regular expression pattern matching the urls", "body": "<p>I have an old perl code which I need to improvise it by debugging it in apache server but it has some regular expressions in it which I am not able to figure out exactly as I am new to perl. Could some one please explain what does the following code do?</p>\n\n<pre><code>my $target = \" \";\n$target = $1 if( $url =~ m|^$shorturl(\\/.*)$|);\n</code></pre>\n\n<p>Here,\nurl is <a href=\"http://127.0.0.1/test.pl/content/dist/hale_bopp_2.mpg\" rel=\"nofollow\">http://127.0.0.1/test.pl/content/dist/hale_bopp_2.mpg</a>\nshorturl is <a href=\"http://127.0.0.1/test.pl\" rel=\"nofollow\">http://127.0.0.1/test.pl</a></p>\n"}, {"tags": ["perl", "azure", "azure-storage"], "comments": [{"owner": {"reputation": 64493, "user_id": 272109, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/32170c62eb744820e8afdd023379a95a?s=128&d=identicon&r=PG", "display_name": "David Makogon", "link": "https://stackoverflow.com/users/272109/david-makogon"}, "edited": false, "score": 0, "creation_date": 1458563123, "post_id": 36130885, "comment_id": 59900499, "body": "Regardless of error, it would really help if you edited your question to include your block-upload code."}, {"owner": {"reputation": 1091, "user_id": 4474629, "user_type": "registered", "accept_rate": 95, "profile_image": "https://www.gravatar.com/avatar/e3d1d6e41980939611b75370816b8843?s=128&d=identicon&r=PG&f=1", "display_name": "Little Code", "link": "https://stackoverflow.com/users/4474629/little-code"}, "reply_to_user": {"reputation": 64493, "user_id": 272109, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/32170c62eb744820e8afdd023379a95a?s=128&d=identicon&r=PG", "display_name": "David Makogon", "link": "https://stackoverflow.com/users/272109/david-makogon"}, "edited": false, "score": 0, "creation_date": 1458563581, "post_id": 36130885, "comment_id": 59900843, "body": "Done. Sorry David.  ;-("}, {"owner": {"reputation": 50468, "user_id": 1331451, "user_type": "registered", "accept_rate": 96, "profile_image": "https://i.stack.imgur.com/4ZPmj.png?s=128&g=1", "display_name": "simbabque", "link": "https://stackoverflow.com/users/1331451/simbabque"}, "edited": false, "score": 0, "creation_date": 1458565102, "post_id": 36130885, "comment_id": 59901906, "body": "Seeing your name under that wall of code made me smile. :)"}, {"owner": {"reputation": 50468, "user_id": 1331451, "user_type": "registered", "accept_rate": 96, "profile_image": "https://i.stack.imgur.com/4ZPmj.png?s=128&g=1", "display_name": "simbabque", "link": "https://stackoverflow.com/users/1331451/simbabque"}, "edited": false, "score": 0, "creation_date": 1458565181, "post_id": 36130885, "comment_id": 59901959, "body": "Can you please mark the area in the code where that error occurs?"}, {"owner": {"reputation": 1091, "user_id": 4474629, "user_type": "registered", "accept_rate": 95, "profile_image": "https://www.gravatar.com/avatar/e3d1d6e41980939611b75370816b8843?s=128&d=identicon&r=PG&f=1", "display_name": "Little Code", "link": "https://stackoverflow.com/users/4474629/little-code"}, "edited": false, "score": 0, "creation_date": 1458565342, "post_id": 36130885, "comment_id": 59902092, "body": "As you might expect, the error occurs at the http_request call... I&#39;ve marked it now."}, {"owner": {"reputation": 1091, "user_id": 4474629, "user_type": "registered", "accept_rate": 95, "profile_image": "https://www.gravatar.com/avatar/e3d1d6e41980939611b75370816b8843?s=128&d=identicon&r=PG&f=1", "display_name": "Little Code", "link": "https://stackoverflow.com/users/4474629/little-code"}, "edited": false, "score": 0, "creation_date": 1458565389, "post_id": 36130885, "comment_id": 59902126, "body": "Hehe ...sorry for the &quot;wall of code&quot; ... once I&#39;ve got it working, I can then work on optimising it ! ;-)"}, {"owner": {"reputation": 1591, "user_id": 3547195, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/a9c48d43daae3a4e30ac4798af7a3e4b?s=128&d=identicon&r=PG&f=1", "display_name": "Michael Roberson - MSFT", "link": "https://stackoverflow.com/users/3547195/michael-roberson-msft"}, "edited": false, "score": 0, "creation_date": 1458664332, "post_id": 36130885, "comment_id": 59957324, "body": "Error 596 is a client-side error returned by AnyEvent::HTTP. You need to investigate locally to see why you are hitting this error. See this page for more info: <a href=\"https://metacpan.org/pod/AnyEvent::HTTP\" rel=\"nofollow noreferrer\">metacpan.org/pod/AnyEvent::HTTP</a>"}], "answers": [{"tags": [], "owner": {"reputation": 1591, "user_id": 3547195, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/a9c48d43daae3a4e30ac4798af7a3e4b?s=128&d=identicon&r=PG&f=1", "display_name": "Michael Roberson - MSFT", "link": "https://stackoverflow.com/users/3547195/michael-roberson-msft"}, "is_accepted": true, "score": 3, "last_activity_date": 1458751731, "creation_date": 1458751731, "answer_id": 36184096, "question_id": 36130885, "link": "https://stackoverflow.com/questions/36130885/azure-rest-api-put-block-error-596/36184096#36184096", "title": "Azure REST API &quot;Put Block&quot; error 596?", "body": "<p>Error 596 is a client-side error returned by AnyEvent::HTTP. You need to investigate locally to see why you are hitting this error.</p>\n\n<p>See this page for more info:\n<a href=\"https://metacpan.org/pod/AnyEvent::HTTP\" rel=\"nofollow\">https://metacpan.org/pod/AnyEvent::HTTP</a></p>\n\n<blockquote>\n  <p>596 - errors during TLS negotiation, request sending and header processing.</p>\n</blockquote>\n"}], "owner": {"reputation": 1091, "user_id": 4474629, "user_type": "registered", "accept_rate": 95, "profile_image": "https://www.gravatar.com/avatar/e3d1d6e41980939611b75370816b8843?s=128&d=identicon&r=PG&f=1", "display_name": "Little Code", "link": "https://stackoverflow.com/users/4474629/little-code"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 216, "favorite_count": 0, "accepted_answer_id": 36184096, "answer_count": 1, "score": 0, "last_activity_date": 1458751731, "creation_date": 1458562854, "last_edit_date": 1458565318, "question_id": 36130885, "link": "https://stackoverflow.com/questions/36130885/azure-rest-api-put-block-error-596", "title": "Azure REST API &quot;Put Block&quot; error 596?", "body": "<p>I can't see any information in the Azure Blob Service Error Code list <a href=\"https://msdn.microsoft.com/en-us/library/dd179439.aspx\" rel=\"nofollow\">https://msdn.microsoft.com/en-us/library/dd179439.aspx</a> that relates to error 596.</p>\n\n<p>I am trying to upload some blocks to the Azure service and am getting a response back from the API with code 596 and description 'Broken pipe'.</p>\n\n<p>Has anyone encountered this before ?</p>\n\n<p>(N.B. Yes, I know the code below is not complete yet in that the code as-is does not upload the final chunk)</p>\n\n<pre><code>#!/usr/bin/perl\n\nuse 5.014;\nuse strict;\nuse warnings;\nuse autodie;\n\nuse Data::Dumper;\nuse Digest::MD5 qw(md5_base64);\nuse Crypt::PRNG::Fortuna qw(random_bytes_b64u random_bytes);\nuse Digest::SHA qw(hmac_sha256_base64);\nuse Getopt::Long;\nuse Sys::Syslog qw( :DEFAULT setlogsock);\nuse File::stat;\nuse AnyEvent;\nuse AnyEvent::HTTP;\nuse Time::Piece;\nuse Encode qw(decode encode);\nuse MIME::Base64 qw(encode_base64 decode_base64 encode_base64url);\nuse FileHandle;\nuse Fcntl ':flock', 'SEEK_SET';\n\ndelete @ENV{'PATH', 'IFS', 'CDPATH', 'ENV', 'BASH_ENV'};\nuse sigtrap 'handler' =&gt; \\&amp;term_handler, 'normal-signals';\n\n####### PARAMS\n\nmy $script=\"upload.pl\";\nmy $maxSingleUpload=1048576; # Maximum size of a single attempt upload (in bytes);\nmy $multiChunkSize=4194304; # Maximum size of a single block (in bytes)\nmy $multiLimit=6; # Maximum number of parallel HTTP requests\n\n####### AZURE\nmy $azureKey=\"&lt;REMOVED&gt;\";\nmy $azureKeyBin=decode_base64($azureKey);\n\n####### ARGS\n\nmy ($vault,$container,$localfile,$remotefile);\nmy $debug=0;\n\nGetOptions(\n        \"vault|v=s\" =&gt; \\$vault,\n        \"container|c=s\" =&gt; \\$container,\n    \"localfile|l=s\" =&gt; \\$localfile,\n    \"remotefile|r=s\" =&gt; \\$remotefile,\n        \"debug|d+\" =&gt; \\$debug\n        );\n\nif (!defined $vault || !defined $container || !defined $localfile || !defined $remotefile) {\n    say \"USAGE: -v &lt;vault&gt; -c &lt;container&gt; -l &lt;localfile&gt; -r &lt;remotefile&gt; [-d (debug)]\";\n    exit 1;\n}\n\nif (!-e $localfile) {\n    say \"Local file does not exist !\";\n    exit 1;\n}\n\n####### Vars\n\nmy ($wholeChunks,$chunkRemainder,$runID,$condvar,@offsets,@blocklist);\nmy $activeCount=0;\n\nmy $putBlockURL=\"https://${vault}.blob.core.windows.net/${container}/${remotefile}?comp=block&amp;blockid=\";\n\n####### FUNCTIONS\n\n# Quotient remainder calculator\n\nsub qrem {\n    use integer;\n    my( $dividend, $divisor ) = @_;\n    my $quotient = $dividend / $divisor;\n    my $remainder = $dividend % $divisor;\n    my @result = ( $quotient, $remainder );\n    return @result;\n}\n\n# Do pad\nsub doPad {\n        my ($raw) = @_;\n        while (length($raw) % 4) {\n                $raw .= '=';\n        }\n        return $raw;\n}\n\n# Random\n\nsub getRandom {\n    my ($len) = @_;\n    #return doPad(random_bytes_b64u($len));\n    return doPad(encode_base64(random_bytes($len)));\n}\n\n# Term handler\n\nsub term_handler {\n        doLog(\"err\",\"term_handler: Program terminated early due to user input\");\n        exit 2;\n}\n\n# Log sub\nsub doLog {\n        my ($priority,$msg) = @_;\n        return 0 unless ($priority =~ /info|err|debug/);\n        setlogsock('unix');\n        openlog($script, 'pid,cons', 'user');\n        syslog($priority, $msg);\n        closelog();\n        return 1;\n}\n\n# Get file size\nsub fileSz {\n    my($file) = @_;\n    my $stat = stat($file);\n    return $stat-&gt;size;\n}\n\n# Get data\nsub readData {\n    my ($file,$length,$offset)=@_;\n    my $fh = FileHandle-&gt;new;\n    my ($data);\n    if ($debug) { say \"Reading ${file} offset ${offset} for length ${length}\";}\n    #open ($fh,\"&lt;\",$file);\n    $fh-&gt;open(\"&lt; $file\");\n    binmode($fh);\n    seek($fh,$offset,SEEK_SET);\n    read($fh,$data,$length);\n    if ($debug) { say \"readData read \".byteSize($data);}\n    #close($fh);\n    $fh-&gt;close;\n    return $data;\n}\n\n# Calc MD5 \nsub calcMD5 {\n    my ($data)=@_;\n    my $hash = md5_base64($data);\n    return doPad($hash);\n}\n\n# Populate offsets\nsub populateOffsets {\n    my ($count,$offsetSize)=@_;\n    if (!defined $count || !defined $offsetSize) {exit 1;}\n    my $offset=0;\n    my @offsets;\n    for my $i (1..$count) {\n        push @offsets,$offset;\n        $offset = $offset + $offsetSize;\n    }\n    return @offsets;\n}\n\n# Calc auth string\nsub azureAuth {\n    my($t,$signstring)=@_;\n    if (!defined $signstring) { exit 1;}\n    if ($debug) {say \"String to sign:${signstring}\";}\n    my $auth;\n    $auth=doPad(hmac_sha256_base64($signstring,$azureKeyBin));\n    if ($debug) { say \"Sig:${auth}\";}\n    return $auth;\n}\n\n# Byte size\n\nsub byteSize {\n    use bytes;\n    my ($inval)=@_;\n    return length($inval);\n}\n\n# Process\n\nsub doProcess {\n    return if $activeCount &gt;= $multiLimit;\n\n    my $offset = shift @offsets;\n    return if !defined $offset;\n\n    $activeCount++;\n\n    if ($debug) { say \"Active:${activeCount}, Offset:${offset}\";}\n    $condvar-&gt;begin;\n\n    my $t = localtime;\n    my $tNow = $t-&gt;strftime();\n    my $blockid = getRandom(8);\n    my $subRunID=getRandom(5);\n    my $contentLength=$multiChunkSize-1;\n    my $content = readData($localfile,$contentLength,$offset);\n    my $hash = calcMD5($content);\n    if ($debug) { say \"Block ID:${blockid}, Hash: ${hash}\";}\n\n    my $url = $putBlockURL.$blockid;\n        my $canocResource=\"/${vault}/${container}/${remotefile}\\nblockid:${blockid}\\ncomp:block\";\n    my $hdrs=\"x-ms-client-request-id:${runID}\\nx-ms-date:${tNow}\\nx-ms-version:2009-09-19\";\n    my $byteLength=byteSize(${content});\n    my $canocHeaders=encode('UTF-8',\"PUT\\n\\n\\n${byteLength}\\n${hash}\\n\\n\\n\\n\\n\\n\\n\\n${hdrs}\\n${canocResource}\",Encode::FB_CROAK);\n    my $authData=azureAuth($t,$canocHeaders);\n    if ($debug) {say \"Length:${byteLength}\";say \"Sig: ${authData}\"; say \"URL:${url}\";}\n\n    my $azureArr =  {\n    \"Authorization\"=&gt;\"SharedKey ${vault}:${authData}\",\n    \"Content-Length\"=&gt;${byteLength},\n    \"Content-MD5\"=&gt;${hash},\n        \"x-ms-version\"=&gt;\"2009-09-19\",\n        \"x-ms-date\"=&gt;${tNow},\n        \"x-ms-client-request-id\"=&gt;\"${runID}\"\n    };\n\n    ####### ERROR OCCURS HERE ....\n    http_request \"PUT\" =&gt; $url,\n        persistent=&gt;0,\n        headers=&gt;$azureArr,\n        body=&gt;$content,\n        sub {\n            my ($body, $hdr) = @_;\n            say Dumper($hdr);\n            #say \"received, Size: \", length $body;\n            #say $body;\n            $activeCount--;\n            $condvar-&gt;end;\n            doProcess(); \n        };\n    return 1;\n}\n\n\n\n####### MAIN\n\n$runID=getRandom(5);\n\ndoLog(\"info\",\"${runID} Starting upload for ${localfile} (${remotefile})\");\n\nif (fileSz($localfile)&lt;$maxSingleUpload) {\n    if ($debug) {say \"Using single upload method\";}\n} else {\n    if ($debug) {say \"Using multi-upload method\";}\n    # Calculate chunk quantity\n    my @chunks = qrem(fileSz($localfile),$multiChunkSize);\n    $wholeChunks=$chunks[0];\n    $chunkRemainder=$chunks[1];\n    if ($debug) {say \"Whole chunks (${multiChunkSize}):${wholeChunks}, Remainder:${chunkRemainder}\";}\n    # Init\n    @offsets=populateOffsets(${wholeChunks},${multiChunkSize});\n    say Dumper(@offsets);\n    $condvar = AnyEvent-&gt;condvar;\n    # DO IT \n    for (1..$multiLimit) {\n        doProcess();\n    }\n    $condvar-&gt;recv;\n\n}\n\ndoLog(\"info\",\"${runID} Upload complete\");\n\nexit 0;\n</code></pre>\n"}, {"tags": ["perl", "foreach"], "comments": [{"owner": {"reputation": 50468, "user_id": 1331451, "user_type": "registered", "accept_rate": 96, "profile_image": "https://i.stack.imgur.com/4ZPmj.png?s=128&g=1", "display_name": "simbabque", "link": "https://stackoverflow.com/users/1331451/simbabque"}, "edited": false, "score": 1, "creation_date": 1458555847, "post_id": 36128040, "comment_id": 59895724, "body": "<code>for</code> and <code>foreach</code> are synonyms in Perl. Both support C-style and map-style syntax. What you need is a <code>while</code> loop. Also note that comments in Perl are made using <code>#</code>."}], "answers": [{"tags": [], "owner": {"reputation": 941, "user_id": 6061216, "user_type": "registered", "accept_rate": 100, "profile_image": "https://i.stack.imgur.com/sRsZ4.png?s=128&g=1", "display_name": "DevilaN", "link": "https://stackoverflow.com/users/6061216/devilan"}, "is_accepted": false, "score": 2, "last_activity_date": 1458555488, "creation_date": 1458555488, "answer_id": 36128293, "question_id": 36128040, "link": "https://stackoverflow.com/questions/36128040/extract-and-filter-a-range-of-lines-from-the-input-using-perl/36128293#36128293", "title": "Extract and filter a range of lines from the input using Perl", "body": "<p>Use additional counter, that will say on which condition print line. Something like this:</p>\n\n<pre><code>$skipCounter = 3;\n</code></pre>\n\n<p>And in foreach:</p>\n\n<pre><code>if ($skipCounter == 2) {\n    // print OUT\n}\nif ( $line =~ m/^FIRST ITERATION/) {\n    $skipCounter = 0;\n}\n\n$skipCounter++;\n</code></pre>\n"}, {"comments": [{"owner": {"reputation": 320771, "user_id": 589924, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/b2cf53d5a3d25f95c0db4e025aed4153?s=128&d=identicon&r=PG", "display_name": "ikegami", "link": "https://stackoverflow.com/users/589924/ikegami"}, "edited": false, "score": 0, "creation_date": 1458572623, "post_id": 36128297, "comment_id": 59907610, "body": "Your first solution actually prints <code>foo</code>+<code>bar</code>+<code>baz</code>+blank line."}], "tags": [], "owner": {"reputation": 50468, "user_id": 1331451, "user_type": "registered", "accept_rate": 96, "profile_image": "https://i.stack.imgur.com/4ZPmj.png?s=128&g=1", "display_name": "simbabque", "link": "https://stackoverflow.com/users/1331451/simbabque"}, "is_accepted": false, "score": 1, "last_activity_date": 1458556437, "last_edit_date": 1458556437, "creation_date": 1458555497, "answer_id": 36128297, "question_id": 36128040, "link": "https://stackoverflow.com/questions/36128040/extract-and-filter-a-range-of-lines-from-the-input-using-perl/36128297#36128297", "title": "Extract and filter a range of lines from the input using Perl", "body": "<p>You're on the right track. What you need to use is the <a href=\"http://perldoc.perl.org/perlop.html#Range-Operators\" rel=\"nofollow\">flip-flop operator</a> (which is basically the range operator) <code>..</code>. It will toggle for you between two matches, so you get everything in between. After that, it's a matter of keeping track of the lines you want to skip.</p>\n\n<p>So basically we are checking for <code>FIRST ITERATION</code> and for an empty line, and grab everything in between those. <code>$skip</code> is used to remember how many lines were skipped. It starts at <code>0</code> and gets incremented for the first two lines after we start being in the flip-flop <code>if</code> block. In the <code>else</code> case, where we are <em>after</em> the flip-flop, it gets reset to <code>0</code> so we can start over with the next block.</p>\n\n<p>Since you know how to open and write files, I'll skip that.</p>\n\n<pre><code>use strict;\nuse warnings;\n\nmy $skip = 0;\nwhile (&lt;DATA&gt;) {\n    if (/^FIRST ITERATION$/ .. /^$/) {\n        next if $skip++ &lt;= 2;\n        print $_;\n    } else {\n        $skip = 0;\n    }\n}\n__DATA__\nFIRST ITERATION\nskip1\nskip2\nfoo\nbar\nbaz\n\ndon't print this\n</code></pre>\n\n<p>The output of this is:</p>\n\n<pre><code>foo\nbar\nbaz\n</code></pre>\n\n<hr>\n\n<p>To stick with your own code, here's a very verbose solution that uses a <code>foreach</code> and no flip-flop. It does the same thing, just with a lot more words.</p>\n\n<pre><code>my $skip = 0;   # skip lines\nmy $match = 0;  # keep track of if we're in between the borders\nforeach my $line (&lt;DATA&gt;) {\n    if ( $line =~ m/^FIRST ITERATION/ ) {\n        $match = 1; # we are inside the match\n        next;\n    }\n    if ($line =~ m/^$/) {\n        $match = 0; # we are done matching\n        next;\n    }\n    if ($match) {\n        $skip++;     # count skip-lines\n        if ($skip &lt;= 2) {\n            next;    # ... and skip the first two\n        }\n        print $line; # this is the content we want  \n    }\n}\n</code></pre>\n"}, {"comments": [{"owner": {"reputation": 50468, "user_id": 1331451, "user_type": "registered", "accept_rate": 96, "profile_image": "https://i.stack.imgur.com/4ZPmj.png?s=128&g=1", "display_name": "simbabque", "link": "https://stackoverflow.com/users/1331451/simbabque"}, "edited": false, "score": 2, "creation_date": 1458557487, "post_id": 36128675, "comment_id": 59896843, "body": "If you change to three-argument <code>open</code> and lexical file handles, this is a really good answer. But you don&#39;t need <code>;</code> after blocks, and the line ending might not be <code>\\n</code>. It could be a Windows or Mac file."}, {"owner": {"reputation": 21782, "user_id": 176646, "user_type": "registered", "accept_rate": 88, "profile_image": "https://i.stack.imgur.com/HsQyV.png?s=128&g=1", "display_name": "ThisSuitIsBlackNot", "link": "https://stackoverflow.com/users/176646/thissuitisblacknot"}, "reply_to_user": {"reputation": 50468, "user_id": 1331451, "user_type": "registered", "accept_rate": 96, "profile_image": "https://i.stack.imgur.com/4ZPmj.png?s=128&g=1", "display_name": "simbabque", "link": "https://stackoverflow.com/users/1331451/simbabque"}, "edited": false, "score": 2, "creation_date": 1458570618, "post_id": 36128675, "comment_id": 59906023, "body": "@simbabque In text mode, <a href=\"http://perldoc.perl.org/perlport.html#Newlines\" rel=\"nofollow noreferrer\">Perl translates <code>\\n</code> to the appropriate value for your platform</a> (and vice versa)."}, {"owner": {"reputation": 21782, "user_id": 176646, "user_type": "registered", "accept_rate": 88, "profile_image": "https://i.stack.imgur.com/HsQyV.png?s=128&g=1", "display_name": "ThisSuitIsBlackNot", "link": "https://stackoverflow.com/users/176646/thissuitisblacknot"}, "reply_to_user": {"reputation": 50468, "user_id": 1331451, "user_type": "registered", "accept_rate": 96, "profile_image": "https://i.stack.imgur.com/4ZPmj.png?s=128&g=1", "display_name": "simbabque", "link": "https://stackoverflow.com/users/1331451/simbabque"}, "edited": false, "score": 2, "creation_date": 1458572313, "post_id": 36128675, "comment_id": 59907364, "body": "@simbabque (Of course, that only works if the file already has the native line endings for whatever platform you&#39;re running on; the above code won&#39;t work if you&#39;re reading a CRLF file on *nix, so it should really check for vertical whitespace instead of <code>\\n</code> to be more robust.)"}], "tags": [], "owner": {"reputation": 723, "user_id": 4568433, "user_type": "registered", "profile_image": "https://lh5.googleusercontent.com/-A0ltyCE72fA/AAAAAAAAAAI/AAAAAAAAADY/4U7GU992t_E/photo.jpg?sz=128", "display_name": "Alexandr Evstigneev", "link": "https://stackoverflow.com/users/4568433/alexandr-evstigneev"}, "is_accepted": false, "score": 2, "last_activity_date": 1458556436, "creation_date": 1458556436, "answer_id": 36128675, "question_id": 36128040, "link": "https://stackoverflow.com/questions/36128040/extract-and-filter-a-range-of-lines-from-the-input-using-perl/36128675#36128675", "title": "Extract and filter a range of lines from the input using Perl", "body": "<p>Advice: Use STDIN and STDOUT instead of files, this will allowes you to change them without modifying script</p>\n\n<p>Code:</p>\n\n<pre><code>#!/usr/bin/perl\nuse 5.010;\nuse strict;\nuse warnings;\n\n\nopen(INPUT, \"xxx.txt\" ) or die \"Could not open log file: $!.\";\nopen(OUT, \"&gt;yyy.txt\") or die \"Could not open output file: $!\";\nwhile( my $line = &lt;INPUT&gt; )\n{\n    if ( $line =~ m/^FIRST ITERATION/) {\n        &lt;INPUT&gt;; # skip line\n        &lt;INPUT&gt;; # skip line\n        while( $line = &lt;INPUT&gt;) # print till empty line\n        {\n            last if $line eq \"\\n\";\n            print OUT $line;\n        }\n    };\n};\nclose (OUT);\nclose (INPUT);\n</code></pre>\n"}, {"comments": [{"owner": {"reputation": 5886, "user_id": 2019415, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/645958eb08719fa5119052d7d1d079ff?s=128&d=identicon&r=PG", "display_name": "G. Cito", "link": "https://stackoverflow.com/users/2019415/g-cito"}, "edited": false, "score": 0, "creation_date": 1458672618, "post_id": 36129515, "comment_id": 59962692, "body": "++ <code>not &#47;\\S&#47;</code> reads oddly (&quot;match on not non-blank&quot;) but looks nicer/clearer than <code>&#47;^$&#47;</code> and <code>&#47;\\A\\z&#47;</code> and is slightly and usefully different . I am trying to undersatnd <code>&#47;^\\p{Blank}&#47;</code> here: <a href=\"http://stackoverflow.com/q/36162764/2019415\">stackoverflow.com/q/36162764/2019415</a> if you can help :-\\"}, {"owner": {"reputation": 123805, "user_id": 622310, "user_type": "registered", "accept_rate": 33, "profile_image": "https://www.gravatar.com/avatar/8b6d35219e1808520bc238b28161e2e6?s=128&d=identicon&r=PG", "display_name": "Borodin", "link": "https://stackoverflow.com/users/622310/borodin"}, "reply_to_user": {"reputation": 5886, "user_id": 2019415, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/645958eb08719fa5119052d7d1d079ff?s=128&d=identicon&r=PG", "display_name": "G. Cito", "link": "https://stackoverflow.com/users/2019415/g-cito"}, "edited": false, "score": 0, "creation_date": 1458673130, "post_id": 36129515, "comment_id": 59963005, "body": "@G.Cito: I disagree. A non-blank line is <code>&#47;\\S&#47;</code> so a blank line is <code>not &#47;\\S&#47;</code>. You&#39;re clearly from the neighbourhood that don&#39;t like <code>unless</code>! Just <code>&#47;\\A\\z&#47;</code> won&#39;t do\u2014the equivalent to <code>not &#47;\\S&#47;</code> is <code>&#47;\\A\\s*\\z&#47;</code>, and I think <i>that</i> is far uglier, and clearly prone to error as you made one yourself. Of course you may choose whichever form you prefer, but please do remember any others that may need to read and work with your code"}, {"owner": {"reputation": 5886, "user_id": 2019415, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/645958eb08719fa5119052d7d1d079ff?s=128&d=identicon&r=PG", "display_name": "G. Cito", "link": "https://stackoverflow.com/users/2019415/g-cito"}, "edited": false, "score": 0, "creation_date": 1458673563, "post_id": 36129515, "comment_id": 59963285, "body": ":-D they <i>all</i> read oddly !   But <code>not &#47;\\S&#47;</code> is the best of the bunch so ++. <code>&#47;^$&#47;</code> has become so familiar to perl programmers it&#39;s almost a real (unreadable) word. BUT no one expects the &quot;Spanish Inquisition&quot;:  <code>my $string = &quot;\\n&quot;, &quot;Inquisition time!\\n\\n&quot; ; say &quot;whee&quot; if $string =~ &#47;^$&#47; ;</code>"}], "tags": [], "owner": {"reputation": 123805, "user_id": 622310, "user_type": "registered", "accept_rate": 33, "profile_image": "https://www.gravatar.com/avatar/8b6d35219e1808520bc238b28161e2e6?s=128&d=identicon&r=PG", "display_name": "Borodin", "link": "https://stackoverflow.com/users/622310/borodin"}, "is_accepted": false, "score": 5, "last_activity_date": 1458574378, "last_edit_date": 1458574378, "creation_date": 1458558769, "answer_id": 36129515, "question_id": 36128040, "link": "https://stackoverflow.com/questions/36128040/extract-and-filter-a-range-of-lines-from-the-input-using-perl/36129515#36129515", "title": "Extract and filter a range of lines from the input using Perl", "body": "<p>The simplest way is to process the file a line at a time and keep a state flag which is set to 1 if the current line is begins with <code>FIRST ITERATION</code> and 0 if it is blank, otherwise it is incremented if it is already positive so that it provides a count of the line number within the current block</p>\n\n<p>This solution expects the path to the input file as a parameter on the command line and prints its output to STDOUT, so you will need to redirect the output to the file on the command line as necessary</p>\n\n<p>Note that the regex pattern <code>/\\S/</code> checks whether there is a non-blank character anywhere in the current line, so <code>not /\\S/</code> is true if the line is empty or all blank characters</p>\n\n<pre><code>use strict;\nuse warnings;\n\nmy $lines = 0;\n\nwhile ( &lt;&gt; ) {\n\n    if ( /^FIRST ITERATION/ ) {\n        $lines = 1;\n    }\n    elsif ( not /\\S/ ) {\n        $lines = 0;\n    }\n    elsif ( $lines &gt; 0 ) {\n        ++$lines;\n    }\n\n    print if $lines &gt; 3;\n}\n</code></pre>\n\n<p>This can be simplified substantially by using Perl's built-in <em>range operator</em>, which keeps its own internal state and returns the number of times it has been evaluated. So the above may be written</p>\n\n<pre><code>use strict;\nuse warnings;\n\nwhile ( &lt;&gt; ) {\n    my $s = /^FIRST ITERATION/ ... not /\\S/;\n    print if $s and $s &gt; 3;\n}\n</code></pre>\n\n<p>And the last can be rewritten as a one-line command line program like this</p>\n\n<pre><code>$ perl -ne '$s = /^FIRST ITERATION/ ... not /\\S/; print if $s and $s &gt; 3' myfile.txt\n</code></pre>\n"}, {"tags": [], "owner": {"reputation": 320771, "user_id": 589924, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/b2cf53d5a3d25f95c0db4e025aed4153?s=128&d=identicon&r=PG", "display_name": "ikegami", "link": "https://stackoverflow.com/users/589924/ikegami"}, "is_accepted": false, "score": 1, "last_activity_date": 1458560261, "creation_date": 1458560261, "answer_id": 36130020, "question_id": 36128040, "link": "https://stackoverflow.com/questions/36128040/extract-and-filter-a-range-of-lines-from-the-input-using-perl/36130020#36130020", "title": "Extract and filter a range of lines from the input using Perl", "body": "<p>Using paragraph mode (which returns blocks separated by blank lines rather than lines):</p>\n\n<pre><code>local $/ = \"\";  # Paragraph mode.\n\nwhile (&lt;&gt;) {\n    s/\\n\\K\\n+//;  # Get rid of trailing empty lines.\n    print /^FIRST ITERATION\\n[^\\n]*\\n[^\\n]*\\n(.*)/ms;\n}\n</code></pre>\n"}, {"comments": [{"owner": {"reputation": 5886, "user_id": 2019415, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/645958eb08719fa5119052d7d1d079ff?s=128&d=identicon&r=PG", "display_name": "G. Cito", "link": "https://stackoverflow.com/users/2019415/g-cito"}, "edited": false, "score": 0, "creation_date": 1458662229, "post_id": 36130090, "comment_id": 59955777, "body": "The <a href=\"http://perldoc.perl.org/perlop.html#Range-Operators\" rel=\"nofollow noreferrer\">flip-flop/range operators</a> documentation covers the (somewhat obscure) <code>E0</code>:  &quot;<i>The final sequence number in a range has the string &quot;<code>E0</code>&quot; appended to it, which doesn&#39;t affect its numeric value, but gives you something to search for if you want to exclude the endpoint</i>.&quot; @ikegami - I almost rolled that into your question as a slight improvement :-)"}], "tags": [], "owner": {"reputation": 320771, "user_id": 589924, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/b2cf53d5a3d25f95c0db4e025aed4153?s=128&d=identicon&r=PG", "display_name": "ikegami", "link": "https://stackoverflow.com/users/589924/ikegami"}, "is_accepted": false, "score": 1, "last_activity_date": 1458572537, "last_edit_date": 1458572537, "creation_date": 1458560470, "answer_id": 36130090, "question_id": 36128040, "link": "https://stackoverflow.com/questions/36128040/extract-and-filter-a-range-of-lines-from-the-input-using-perl/36130090#36130090", "title": "Extract and filter a range of lines from the input using Perl", "body": "<p>Using the flip-flop operator:</p>\n\n<pre><code>while (&lt;&gt;) {\n    if (my $line_num = /^FIRST ITERATION$/ .. /^$/) {\n        print if $line_num &gt; 3 &amp;&amp; $line_num !~ /E0/;\n    }\n}\n</code></pre>\n\n<p><code>$line_num !~ /E0/</code> is true when the flip-flop is flopping (i.e. for the first empty line after <code>FIRST ITERATION</code>). This is checked to avoid printing the blank line.</p>\n"}], "owner": {"reputation": 21, "user_id": 6092792, "user_type": "registered", "profile_image": "https://lh4.googleusercontent.com/-qxWI1rR0Kk0/AAAAAAAAAAI/AAAAAAAAAbU/Vf9c7Ar8_y0/photo.jpg?sz=128", "display_name": "Ren&#233;", "link": "https://stackoverflow.com/users/6092792/ren%c3%a9"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 1050, "favorite_count": 1, "answer_count": 6, "score": 2, "last_activity_date": 1458664743, "creation_date": 1458554804, "last_edit_date": 1458664743, "question_id": 36128040, "link": "https://stackoverflow.com/questions/36128040/extract-and-filter-a-range-of-lines-from-the-input-using-perl", "title": "Extract and filter a range of lines from the input using Perl", "body": "<p>I'm quite new to Perl and I have some problems in skipping lines using a <code>foreach</code> loop. I want to copy some lines of a text file to a new one.</p>\n\n<p>When the first words of a line are <code>FIRST ITERATION</code>, skip two more lines and print everything following until the end of the file or an empty line is encountered.</p>\n\n<p>I've tried to find out a similar post but nobody talks about working with text files.</p>\n\n<p>This is the form I thought of</p>\n\n<pre><code>use 5.010;\nuse strict;\nuse warnings;\n\nopen( INPUT, \"xxx.txt\" ) or die(\"Could not open log file.\");\nopen( OUT, \"&gt;&gt;yyy.txt\" );\n\nforeach my $line (&lt;INPUT&gt;) {\n\n    if ( $line =~ m/^FIRST ITERATION/ ) {\n\n        # print OUT\n    }\n}\n\nclose(OUT);\nclose(INFO);\n</code></pre>\n\n<p>I tried using <code>next</code> and <code>$line++</code> but my program prints only the line that begins with <code>FIRST ITERATION</code>.</p>\n\n<p>I may try to use a <code>for</code> loop but I don't know how many lines my file may have, nor do I know how many lines there are between \"First Iteration\" and the next empty line.</p>\n"}, {"tags": ["linux", "perl", "shell", "variables", "environment"], "comments": [{"owner": {"reputation": 123805, "user_id": 622310, "user_type": "registered", "accept_rate": 33, "profile_image": "https://www.gravatar.com/avatar/8b6d35219e1808520bc238b28161e2e6?s=128&d=identicon&r=PG", "display_name": "Borodin", "link": "https://stackoverflow.com/users/622310/borodin"}, "edited": false, "score": 6, "creation_date": 1458552008, "post_id": 36126796, "comment_id": 59893214, "body": "It&#39;s all explained in <a href=\"https://p3rl.org/perlrun\" rel=\"nofollow noreferrer\">perlrun</a>"}, {"owner": {"reputation": 50468, "user_id": 1331451, "user_type": "registered", "accept_rate": 96, "profile_image": "https://i.stack.imgur.com/4ZPmj.png?s=128&g=1", "display_name": "simbabque", "link": "https://stackoverflow.com/users/1331451/simbabque"}, "reply_to_user": {"reputation": 123805, "user_id": 622310, "user_type": "registered", "accept_rate": 33, "profile_image": "https://www.gravatar.com/avatar/8b6d35219e1808520bc238b28161e2e6?s=128&d=identicon&r=PG", "display_name": "Borodin", "link": "https://stackoverflow.com/users/622310/borodin"}, "edited": false, "score": 0, "creation_date": 1458556742, "post_id": 36126796, "comment_id": 59896362, "body": "@Borodin did you know that from using it, or did you go hunting? I&#39;ve never fully read that page before."}, {"owner": {"reputation": 123805, "user_id": 622310, "user_type": "registered", "accept_rate": 33, "profile_image": "https://www.gravatar.com/avatar/8b6d35219e1808520bc238b28161e2e6?s=128&d=identicon&r=PG", "display_name": "Borodin", "link": "https://stackoverflow.com/users/622310/borodin"}, "reply_to_user": {"reputation": 50468, "user_id": 1331451, "user_type": "registered", "accept_rate": 96, "profile_image": "https://i.stack.imgur.com/4ZPmj.png?s=128&g=1", "display_name": "simbabque", "link": "https://stackoverflow.com/users/1331451/simbabque"}, "edited": false, "score": 3, "creation_date": 1458558027, "post_id": 36126796, "comment_id": 59897217, "body": "@simbabque: I make a point of reading through all of the documentation at least once year. You would be surprised what you can find!"}], "answers": [{"tags": [], "owner": {"reputation": 320771, "user_id": 589924, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/b2cf53d5a3d25f95c0db4e025aed4153?s=128&d=identicon&r=PG", "display_name": "ikegami", "link": "https://stackoverflow.com/users/589924/ikegami"}, "is_accepted": true, "score": 1, "last_activity_date": 1458561031, "last_edit_date": 1458561031, "creation_date": 1458559558, "answer_id": 36129783, "question_id": 36126796, "link": "https://stackoverflow.com/questions/36126796/can-someone-tell-what-this-code-snippet-does/36129783#36129783", "title": "can someone tell what this code snippet does", "body": "<blockquote>\n  <p><em>can someone tell what this code snippet does</em></p>\n</blockquote>\n\n<p>It executes the embedded Perl script using the Perl interpreter specified by env var <code>MYPERL</code>. Options specified in env var <code>PERLDB</code> (if any) are passed to the interpreter. Warnings are enabled globally.</p>\n\n<blockquote>\n  <p><em>how i can change MYPERL variable value /home/Desktop/goudar/perl/ and execute rest of the script</em></p>\n</blockquote>\n\n<p>If the process that will launch the script is a bourne-based, then</p>\n\n<pre><code>export MYPERL=/home/Desktop/goudar/perl/\n</code></pre>\n\n<p>That said, I don't know why you want to assign that value to the <code>MYPERL</code> env variable since the script expects it to be the path to a Perl interpreter.</p>\n"}], "owner": {"reputation": 1040, "user_id": 3882175, "user_type": "registered", "accept_rate": 31, "profile_image": "https://i.stack.imgur.com/93YQI.jpg?s=128&g=1", "display_name": "Shantesh", "link": "https://stackoverflow.com/users/3882175/shantesh"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 82, "favorite_count": 0, "accepted_answer_id": 36129783, "answer_count": 1, "score": -2, "last_activity_date": 1458561031, "creation_date": 1458551305, "question_id": 36126796, "link": "https://stackoverflow.com/questions/36126796/can-someone-tell-what-this-code-snippet-does", "title": "can someone tell what this code snippet does", "body": "<p>I am trying to understand this below mentioned code snippet, currently i am stuck at line number 3 and after digging alot i got to know that $MYPERL is where perl binaries are defined/located and for $PERLDB is what perl debugger i,e -d:ptkdb and basically this is a perl script and some how person who coded this wrapps it to use the latest perl version. can some one tell me how i can change MYPERL variable value /home/Desktop/goudar/perl/ and execute rest of the script ?</p>\n\n<pre><code>#!/bin/sh\n# -*- cperl -*-\nexec $MYPERL -x $PERLDB -wS $0 ${1+\"$@\"}\n#!perl\n#line 6\n\n### perl \nuse Cwd;\nuse Data::Dumper;\nuse List::MoreUtils qw/ uniq /;\nuse JSON;\nuse Mojo::JSON;\n\n#rest of the code go here#\n</code></pre>\n"}, {"tags": ["regex", "perl", "command-line", "multiline"], "answers": [{"comments": [{"owner": {"reputation": 5455, "user_id": 3961170, "user_type": "registered", "accept_rate": 73, "profile_image": "https://i.stack.imgur.com/PtFol.jpg?s=128&g=1", "display_name": "mkHun", "link": "https://stackoverflow.com/users/3961170/mkhun"}, "edited": false, "score": 0, "creation_date": 1458550595, "post_id": 36126419, "comment_id": 59892414, "body": "Can you share the reference for difference types of switch values in perl?"}, {"owner": {"reputation": 123805, "user_id": 622310, "user_type": "registered", "accept_rate": 33, "profile_image": "https://www.gravatar.com/avatar/8b6d35219e1808520bc238b28161e2e6?s=128&d=identicon&r=PG", "display_name": "Borodin", "link": "https://stackoverflow.com/users/622310/borodin"}, "reply_to_user": {"reputation": 5455, "user_id": 3961170, "user_type": "registered", "accept_rate": 73, "profile_image": "https://i.stack.imgur.com/PtFol.jpg?s=128&g=1", "display_name": "mkHun", "link": "https://stackoverflow.com/users/3961170/mkhun"}, "edited": false, "score": 3, "creation_date": 1458551196, "post_id": 36126419, "comment_id": 59892735, "body": "@mkHun: You can read the documentation that came with Perl by using <code>perldoc perlrun</code> or the same information is on line <a href=\"https://p3rl.org/perlrun\" rel=\"nofollow noreferrer\">here</a>"}], "tags": [], "owner": {"reputation": 123805, "user_id": 622310, "user_type": "registered", "accept_rate": 33, "profile_image": "https://www.gravatar.com/avatar/8b6d35219e1808520bc238b28161e2e6?s=128&d=identicon&r=PG", "display_name": "Borodin", "link": "https://stackoverflow.com/users/622310/borodin"}, "is_accepted": true, "score": 4, "last_activity_date": 1458562119, "last_edit_date": 1458562119, "creation_date": 1458550143, "answer_id": 36126419, "question_id": 36125488, "link": "https://stackoverflow.com/questions/36125488/multiple-regexps-on-perl-command-line-doesnt-work-as-expected/36126419#36126419", "title": "Multiple regexps on perl command-line doesn&#39;t work as expected", "body": "<p>The problem is that your input file is being read one line at a time; the code is executed once for each line of input. Because the newline character is at the <em>end</em> of each line, the second regex pattern <code>\\\\n#.*$</code> can never match</p>\n\n<p>The solution is to enable <em>slurp</em> mode which fetches the whole file in a single read. Then your subsitutions will happen only once. A switch value of <code>-0777</code> will do this for you</p>\n\n<pre><code>$ perl -0777 -pe 's/\\n/\\\\n/g; s/\\\\n#.*$/CHEESE/' test\n</code></pre>\n\n<h3>output</h3>\n\n<pre><code>foo\\nbarCHEESE\n</code></pre>\n"}], "owner": {"reputation": 14731, "user_id": 13365, "user_type": "registered", "accept_rate": 70, "profile_image": "https://www.gravatar.com/avatar/c2c5b0152d840d838de072a4ef32453b?s=128&d=identicon&r=PG", "display_name": "neu242", "link": "https://stackoverflow.com/users/13365/neu242"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 84, "favorite_count": 0, "accepted_answer_id": 36126419, "answer_count": 1, "score": 0, "last_activity_date": 1458595116, "creation_date": 1458546252, "last_edit_date": 1458562039, "question_id": 36125488, "link": "https://stackoverflow.com/questions/36125488/multiple-regexps-on-perl-command-line-doesnt-work-as-expected", "title": "Multiple regexps on perl command-line doesn&#39;t work as expected", "body": "<p>I am using two regexp expressions in a perl command-line, but it doesn't give the expected result:</p>\n\n<pre><code>$ cat test\nfoo\nbar\n#baz\n#haz\nnaz\n$ perl -pe 's/\\n/\\\\n/g; s/\\\\n#.*$/CHEESE/' test\nfoo\\nbar\\n#baz\\n#haz\\nnaz\\n\\n\n</code></pre>\n\n<p>I would expect the result to be <code>foo\\nbarCHEESE</code>.  What am I doing wrong?</p>\n"}, {"tags": ["linux", "perl", "ubuntu-14.04", "ubuntu-12.04", "executable"], "comments": [{"owner": {"reputation": 14928, "user_id": 360695, "user_type": "registered", "accept_rate": 67, "profile_image": "https://www.gravatar.com/avatar/d2c44123afa326f8088914089161248e?s=128&d=identicon&r=PG", "display_name": "Dummy00001", "link": "https://stackoverflow.com/users/360695/dummy00001"}, "edited": false, "score": 0, "creation_date": 1458556981, "post_id": 36124182, "comment_id": 59896516, "body": "Have you tried installing <code>libgif4</code> which it says in the error message it failed to load ?"}, {"owner": {"reputation": 582, "user_id": 1862330, "user_type": "registered", "accept_rate": 48, "profile_image": "https://www.gravatar.com/avatar/2c38f99284fc1d1f9b30bd359bec95e5?s=128&d=identicon&r=PG", "display_name": "BioDeveloper", "link": "https://stackoverflow.com/users/1862330/biodeveloper"}, "reply_to_user": {"reputation": 14928, "user_id": 360695, "user_type": "registered", "accept_rate": 67, "profile_image": "https://www.gravatar.com/avatar/d2c44123afa326f8088914089161248e?s=128&d=identicon&r=PG", "display_name": "Dummy00001", "link": "https://stackoverflow.com/users/360695/dummy00001"}, "edited": false, "score": 0, "creation_date": 1458624544, "post_id": 36124182, "comment_id": 59931093, "body": "after installing libgif4 It gave error about libtiff4 i installed it too and the problem is now solved."}], "answers": [{"tags": [], "owner": {"reputation": 582, "user_id": 1862330, "user_type": "registered", "accept_rate": 48, "profile_image": "https://www.gravatar.com/avatar/2c38f99284fc1d1f9b30bd359bec95e5?s=128&d=identicon&r=PG", "display_name": "BioDeveloper", "link": "https://stackoverflow.com/users/1862330/biodeveloper"}, "is_accepted": false, "score": 0, "last_activity_date": 1458624870, "creation_date": 1458624870, "answer_id": 36146857, "question_id": 36124182, "link": "https://stackoverflow.com/questions/36124182/cava-packger-executable-made-from-perl-not-working-in-64-bit-ubuntu-14-04/36146857#36146857", "title": "Cava Packger executable (made from perl) not working in 64 bit Ubuntu 14.04", "body": "<p>Ubuntu 14.04 LTS includes libtiff5 by default. Versions up to 13.04 had libtiff4. I made the executable compatible with libtiff4. also just installing libtiff4 by Ubuntu Software Center did not help so I installed it manually.<br>\nDownloaded it from <a href=\"http://old-releases.ubuntu.com/ubuntu/pool/universe/t/tiff3/libtiff4_3.9.7-2ubuntu1_amd64.deb\" rel=\"nofollow\">here</a> and installed by command:  </p>\n\n<pre><code>sudo dpkg -i ./libtiff4_3.9.7-2ubuntu1_amd64.deb \n</code></pre>\n"}], "owner": {"reputation": 582, "user_id": 1862330, "user_type": "registered", "accept_rate": 48, "profile_image": "https://www.gravatar.com/avatar/2c38f99284fc1d1f9b30bd359bec95e5?s=128&d=identicon&r=PG", "display_name": "BioDeveloper", "link": "https://stackoverflow.com/users/1862330/biodeveloper"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 104, "favorite_count": 0, "answer_count": 1, "score": 0, "last_activity_date": 1458625020, "creation_date": 1458540412, "last_edit_date": 1458625020, "question_id": 36124182, "link": "https://stackoverflow.com/questions/36124182/cava-packger-executable-made-from-perl-not-working-in-64-bit-ubuntu-14-04", "title": "Cava Packger executable (made from perl) not working in 64 bit Ubuntu 14.04", "body": "<p>I have prepared executable from my perl code for distribution<br>\nIt works fine on my own ubuntu 12.04 where it was created<br>\nIt should work without perl on any system<br>\nBut After execution of executable on Ubuntu 14.04 LTS, (64 bit) it gives<br>\nError:</p>\n\n<pre><code>Can't load '/home/osboxes/Version-1/lib/vrt/16e8aba612e215bf6a5195289f1a16d8/Prima.so' for module Prima: libgif.so.4: cannot open shared object file: No such file or directory at &lt;content&gt;/DynaLoader.pm line 157.  \n</code></pre>\n\n<p>After installing libgif4 it gave error  </p>\n\n<pre><code>libtiff.so.4: cannot open shared object file: No such file or directory\n</code></pre>\n\n<p>What may be the cause for this and solution for this.</p>\n"}, {"tags": ["perl", "cmusphinx"], "comments": [{"owner": {"reputation": 53041, "user_id": 4653379, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/b3953dbedd0dabff5cbc3db9b0835b14?s=128&d=identicon&r=PG&f=1", "display_name": "zdim", "link": "https://stackoverflow.com/users/4653379/zdim"}, "edited": false, "score": 0, "creation_date": 1458521727, "post_id": 36121496, "comment_id": 59883330, "body": "On a quick look: (1) line enumeration doesn&#39;t make sense (l.60 of script is empty, l.61 doesn&#39;t seem relevant either.  (Did you alter the file when copying it in any way, added comments or such?)  (2) tracing the variable reported in the error back through the script I&#39;d venture a guess that something&#39;s not right with the first input file."}, {"owner": {"reputation": 34, "user_id": 6075257, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/8f0a4daae7806e9da5cd3934071f403d?s=128&d=identicon&r=PG&f=1", "display_name": "A.M.", "link": "https://stackoverflow.com/users/6075257/a-m"}, "reply_to_user": {"reputation": 53041, "user_id": 4653379, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/b3953dbedd0dabff5cbc3db9b0835b14?s=128&d=identicon&r=PG&f=1", "display_name": "zdim", "link": "https://stackoverflow.com/users/4653379/zdim"}, "edited": false, "score": 0, "creation_date": 1458522176, "post_id": 36121496, "comment_id": 59883427, "body": "@zdim no I haven&#39;t altered the script in any way. As far as I understood both files should be .txt files with the following format: &lt;s&gt; text &lt;/s&gt; (file12) where the filenames -those inside the brackets- should be the same in both files"}], "answers": [{"comments": [{"owner": {"reputation": 34, "user_id": 6075257, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/8f0a4daae7806e9da5cd3934071f403d?s=128&d=identicon&r=PG&f=1", "display_name": "A.M.", "link": "https://stackoverflow.com/users/6075257/a-m"}, "edited": false, "score": 0, "creation_date": 1458586891, "post_id": 36122594, "comment_id": 59917331, "body": "How can I supply you with my file?  Note: I tried running the command but with adding -i at the end and it worked fine! Can you explain why is this?"}, {"owner": {"reputation": 123805, "user_id": 622310, "user_type": "registered", "accept_rate": 33, "profile_image": "https://www.gravatar.com/avatar/8b6d35219e1808520bc238b28161e2e6?s=128&d=identicon&r=PG", "display_name": "Borodin", "link": "https://stackoverflow.com/users/622310/borodin"}, "reply_to_user": {"reputation": 34, "user_id": 6075257, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/8f0a4daae7806e9da5cd3934071f403d?s=128&d=identicon&r=PG&f=1", "display_name": "A.M.", "link": "https://stackoverflow.com/users/6075257/a-m"}, "edited": false, "score": 0, "creation_date": 1458589509, "post_id": 36122594, "comment_id": 59918764, "body": "You could edit your question to post a short representative sample of your data there, or you could put your file on <a href=\"http://pastebin.com/\" rel=\"nofollow noreferrer\">pastebin.com</a> and link to it here. I&#39;m about to go to bed so I won&#39;t be able to assess anything until the morning"}, {"owner": {"reputation": 34, "user_id": 6075257, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/8f0a4daae7806e9da5cd3934071f403d?s=128&d=identicon&r=PG&f=1", "display_name": "A.M.", "link": "https://stackoverflow.com/users/6075257/a-m"}, "edited": false, "score": 0, "creation_date": 1458996020, "post_id": 36122594, "comment_id": 60101306, "body": "I&#39;ve added a link to my ref file, it is basically a text script of one of the ted talks. Thank you for your help"}], "tags": [], "owner": {"reputation": 123805, "user_id": 622310, "user_type": "registered", "accept_rate": 33, "profile_image": "https://www.gravatar.com/avatar/8b6d35219e1808520bc238b28161e2e6?s=128&d=identicon&r=PG", "display_name": "Borodin", "link": "https://stackoverflow.com/users/622310/borodin"}, "is_accepted": false, "score": 1, "last_activity_date": 1458532978, "last_edit_date": 1458532978, "creation_date": 1458530232, "answer_id": 36122594, "question_id": 36121496, "link": "https://stackoverflow.com/questions/36121496/uninitialized-value-error-when-running-word-align-pl-script/36122594#36122594", "title": "&quot;Uninitialized value&quot; error when running word_align.pl script", "body": "<p>The answer is in this error message</p>\n\n<blockquote>\n  <p>UttID is not ignored but it could not found in any entries of the hypothesis file on line3 1 UTTID</p>\n</blockquote>\n\n<p>The reference file that you are passing is malformed, specifically its first line isn't formatted as it should be</p>\n\n<p>More precisely, each line of the reference file requires a UTT ID\u2014a unique string in parentheses like <code>(output00000)</code>. It must be unique because it is used as a hash key. A simple digit like <code>(1)</code> won't work as it will be mistaken for an <em>alternative pronunciation</em></p>\n\n<p>The first line of your file must be different from that. You suggest</p>\n\n<pre><code>&lt;s&gt; text &lt;/s&gt; (file12)\n</code></pre>\n\n<p>which actually works fine\u2014I have tested it\u2014and <code>$ref_uttid</code> comes out as <code>FILE12</code>. If you tell us what is actually in your file then I am sure we could help you better</p>\n"}], "owner": {"reputation": 34, "user_id": 6075257, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/8f0a4daae7806e9da5cd3934071f403d?s=128&d=identicon&r=PG&f=1", "display_name": "A.M.", "link": "https://stackoverflow.com/users/6075257/a-m"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 242, "favorite_count": 0, "answer_count": 1, "score": 0, "last_activity_date": 1458995770, "creation_date": 1458521073, "last_edit_date": 1458995770, "question_id": 36121496, "link": "https://stackoverflow.com/questions/36121496/uninitialized-value-error-when-running-word-align-pl-script", "title": "&quot;Uninitialized value&quot; error when running word_align.pl script", "body": "<p>I'm trying to run the word_align.pl script provided by CMUSphinx. I write the command as follows:</p>\n\n<pre class=\"lang-none prettyprint-override\"><code>perl word_align.pl actualtext.txt batchOutputText.txt\n</code></pre>\n\n<p>But the terminal gives me the following errors:</p>\n\n<blockquote>\n  <p>Use of uninitialized value $ref_uttid in hash element at word_align.pl line 60,  line 1.\n  <br/>Use of uninitialized value $ref_uttid in concatenation (.) or string at word_align.pl line 61,  line 1.\n  <br/>UttID is not ignored but it could not found in any entries of the hypothesis file on line3 1 UTTID</p>\n</blockquote>\n\n<p>I am not quite familiar with Perl and I can't figure out what is the problem here though I followed the instructions provided by CMUSphinx to run that script</p>\n\n<p>You can find the script <a href=\"https://github.com/cmusphinx/pocketsphinx/blob/master/regression/word_align.pl\" rel=\"nofollow\">here</a></p>\n\n<p>Edit: <a href=\"https://drive.google.com/file/d/0B-LA-pgCMUVvWFlSbDVUYVRMM1k/view?usp=sharing\" rel=\"nofollow\">here</a> is the reference's file link</p>\n"}, {"tags": ["regex", "bash", "perl", "hex", "mac-address"], "answers": [{"comments": [{"owner": {"user_type": "does_not_exist", "display_name": "user6090770"}, "edited": false, "score": 0, "creation_date": 1458508505, "post_id": 36119579, "comment_id": 59879426, "body": "that line works. It prints, for example c2 if I set the variable as c2 in bash. How would I integrate it into the line:"}, {"owner": {"user_type": "does_not_exist", "display_name": "user6090770"}, "edited": false, "score": 0, "creation_date": 1458508561, "post_id": 36119579, "comment_id": 59879444, "body": "perl -ne &#39;while(/[0-9A-F]{2}[:-][0-9A-F]{2}[:-](&quot;$ENV{&#39;$octet&#39;}&quot;)[:-]&zwnj;&#8203;[0-9A-F]{2}[:-][0-9A&zwnj;&#8203;-F]{2}[:-][0-9A-F]{2&zwnj;&#8203;}(?=((\\s)|(\\/)))/ig)&zwnj;&#8203;{print &quot;$&amp;\\n&quot;;}&#39; manuf.txt"}, {"owner": {"user_type": "does_not_exist", "display_name": "user6090770"}, "edited": false, "score": 0, "creation_date": 1458508684, "post_id": 36119579, "comment_id": 59879477, "body": "besides changing the -ne to an se? I have changed the &quot;-ne&quot; to an &quot;-se&quot; and changed the $octet to $var and added &quot;-- -var=$SOME_VAR&quot; after the &#39; and before the &quot;manuf.txt&quot;, but it does not work"}, {"owner": {"reputation": 843, "user_id": 6020333, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/bea9014ebf1e1188cac53beb61560df8?s=128&d=identicon&r=PG&f=1", "display_name": "bart", "link": "https://stackoverflow.com/users/6020333/bart"}, "edited": false, "score": 0, "creation_date": 1458508950, "post_id": 36119579, "comment_id": 59879573, "body": "You need both <code>-n</code> (to read the manuf.txt file) and <code>-s</code>. So the simplified one-liner would be: <code>perl -nse &#39;print if &#47;$octet&#47;&#39; -- -octet=$octet manuf.txt</code>"}, {"owner": {"user_type": "does_not_exist", "display_name": "user6090770"}, "edited": false, "score": 0, "creation_date": 1458509657, "post_id": 36119579, "comment_id": 59879848, "body": "so I change it to: perl -nse &#39;print if /[0-9A-F]{2}[:-][0-9A-F]{2}[:-](&quot;$ENV{&#39;$octet&#39;}&quot;)[:-][0-9A-F&zwnj;&#8203;]{2}[:-][0-9A-F]{2}[&zwnj;&#8203;:-][0-9A-F]{2}(?=((\\&zwnj;&#8203;s)|(\\/)))/ig&#39; -- -octet=$octet manuf.txt"}, {"owner": {"user_type": "does_not_exist", "display_name": "user6090770"}, "edited": false, "score": 0, "creation_date": 1458509700, "post_id": 36119579, "comment_id": 59879866, "body": "and it prints nothing when I enter c2 as the variable. I know there&#39;s a third octet in the file that says &quot;c2&quot;"}, {"owner": {"reputation": 843, "user_id": 6020333, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/bea9014ebf1e1188cac53beb61560df8?s=128&d=identicon&r=PG&f=1", "display_name": "bart", "link": "https://stackoverflow.com/users/6020333/bart"}, "edited": false, "score": 0, "creation_date": 1458509963, "post_id": 36119579, "comment_id": 59879947, "body": "Change <code>&quot;$ENV{&#39;$octet&#39;}&quot;</code> to <code>$octet</code>. <code>%ENV</code> is used for accessing environment variables from within Perl, which you don&#39;t need to do, as the variable is passed as <code>$octet</code>."}, {"owner": {"user_type": "does_not_exist", "display_name": "user6090770"}, "edited": false, "score": 0, "creation_date": 1458510826, "post_id": 36119579, "comment_id": 59880273, "body": "This is strange, for some reason when I use perl -nse &#39;print if /[0-9A-F]{2}[:-][0-9A-F]{2}[:-]$octet[:-][0-9A-F]{2}[:-][0-9&zwnj;&#8203;A-F]{2}[:-][0-9A-F]{&zwnj;&#8203;2}(?=((\\s)|(\\/)))/ig&zwnj;&#8203;&#39; -- -octet=$octet manuf.txt it only prints matches that have a &quot;:&quot; and ignore matches that have a &quot;-&quot;"}, {"owner": {"user_type": "does_not_exist", "display_name": "user6090770"}, "edited": false, "score": 0, "creation_date": 1458513706, "post_id": 36119579, "comment_id": 59881225, "body": "much thanks for your help, it is matching the third octet with : and - after creating seperate sets of queries for the alternate notation"}], "tags": [], "owner": {"reputation": 843, "user_id": 6020333, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/bea9014ebf1e1188cac53beb61560df8?s=128&d=identicon&r=PG&f=1", "display_name": "bart", "link": "https://stackoverflow.com/users/6020333/bart"}, "is_accepted": false, "score": 3, "last_activity_date": 1458507823, "creation_date": 1458507823, "answer_id": 36119579, "question_id": 36119396, "link": "https://stackoverflow.com/questions/36119396/bash-script-passes-variable-that-is-a-hex-number-to-a-perl-regex-search-to-match/36119579#36119579", "title": "Bash Script Passes Variable that is a Hex Number to a Perl Regex Search to Match MAC Address", "body": "<p>To pass shell variable to a Perl one-liner, use <code>-s</code> option. For example:</p>\n\n<pre><code>SOME_VAR=test\nperl -se 'print $var' -- -var=$SOME_VAR\n</code></pre>\n"}, {"comments": [{"owner": {"user_type": "does_not_exist", "display_name": "user6090770"}, "edited": false, "score": 0, "creation_date": 1458510927, "post_id": 36119780, "comment_id": 59880310, "body": "This script works exactly like I wanted, but in a stand alone. How would you change it so that I could enter &quot;c2:00&quot; or &quot;c2:00:00&quot; as input?"}, {"owner": {"user_type": "does_not_exist", "display_name": "user6090770"}, "edited": false, "score": 0, "creation_date": 1458512856, "post_id": 36119780, "comment_id": 59880938, "body": "ah, ideally I would be grep&#39;ing a result to input into the perl script when it runs. so I might get a result that is 00:50:C2:D5:60:22, I&#39;d want to try C2:D5:60 first, then if no matches C2:D5, then if no matches C2 to try to get the smallest list possible. rn on the third octet, I&#39;m getting 4000 matches, but if I do a search in my text editor for C2:D5:60 I get one result, C2:D5 16 results"}, {"owner": {"user_type": "does_not_exist", "display_name": "user6090770"}, "edited": false, "score": 0, "creation_date": 1458518210, "post_id": 36119780, "comment_id": 59882424, "body": "I could just replace all the &quot;-&quot; in the manufacturer file with &quot;:&quot; then follow your suggestion to format the input into a &quot;:&quot; notation if I did that, how could I rewrite the script to take &quot;C2:56:40&quot; as my input variable, try &quot;C2:56:40&quot; followed by &quot;C2:56&quot; followed by &quot;C2&quot; ?"}, {"owner": {"user_type": "does_not_exist", "display_name": "user6090770"}, "edited": false, "score": 0, "creation_date": 1458519748, "post_id": 36119780, "comment_id": 59882829, "body": "I&#39;m going to take some time and play with this, post my results when I have something that works just like I want it. Thank you again for your help!"}], "tags": [], "owner": {"reputation": 51521, "user_id": 2566198, "user_type": "registered", "accept_rate": 67, "profile_image": "https://i.stack.imgur.com/Y34ZA.jpg?s=128&g=1", "display_name": "Sobrique", "link": "https://stackoverflow.com/users/2566198/sobrique"}, "is_accepted": false, "score": 1, "last_activity_date": 1458511703, "last_edit_date": 1458511703, "creation_date": 1458508996, "answer_id": 36119780, "question_id": 36119396, "link": "https://stackoverflow.com/questions/36119396/bash-script-passes-variable-that-is-a-hex-number-to-a-perl-regex-search-to-match/36119780#36119780", "title": "Bash Script Passes Variable that is a Hex Number to a Perl Regex Search to Match MAC Address", "body": "<p>Why not just do it all in perl? </p>\n\n<pre><code>#!/usr/bin/env perl\nuse strict;\nuse warnings;\n\n#get input\nprint \"Enter third octet:\\n\";\nchomp ( my $input = &lt;&gt; );\n\n#open our file for reading. \nopen ( my $manuf, '&lt;', 'manuf.txt') or die $!;\n\n#iterate line by line\nwhile (&lt;$manuf&gt;) {\n   #match instances of octets from the file, into $mac\n   my ($mac) = m/((?:[0-9a-fA-F]{2}[:-]?){3})/ or next;\n   #split it on 'nonwords' which means pretty much any delimiter. \n   #map {lc} lowercases the elements, this makes the whole thing case\n   #insensitive.  \n   my @octets = map { lc } split /\\W/, $mac;\n   #print if there's a match\n   print if $octets[2] eq lc $input; \n}\n\nclose ( $manuf );\n</code></pre>\n\n<p>IF you want to match multiple, then the easiest way is to probably reformat your input to be delimiter blind, and <code>regex</code> match it. Something like this:</p>\n\n<pre><code>$input =~ s/\\W/:/g;\n</code></pre>\n\n<p>Will convert the input delimiters to <code>:</code> regardless of what someone gives. So you can enter:</p>\n\n<pre><code>00:00:0A\n00-0A-00\n00 0A-FF\n</code></pre>\n\n<p>Then, you can match in in the loop - rather than testing an octet match, use a regex match:</p>\n\n<pre><code>while (&lt;$manuf&gt;) {\n   my ($mac) = m/^((?:[0-9a-fA-F]{2}[:-]?){3})/ or next;\n   my $reformatted_mac = join \":\", map { lc } split /\\W/, $mac;\n   print if $reformatted_mac =~ m/$input/; \n}\n</code></pre>\n\n<p>Now, this is using regular expressions, so it's actually a substring match. It's also unanchored, so if you 'input' '0A' you'll match everything with an <code>0A</code> in the string. </p>\n\n<p>But you could instead: </p>\n\n<pre><code>   print if $reformatted_mac =~ m/^$input/; \n</code></pre>\n\n<p>But then you'll always have to enter the 'starting' octets. (But it wouldn't be too hard to support regex input at that point too). </p>\n"}, {"tags": [], "owner": {"user_type": "does_not_exist", "display_name": "user6090770"}, "is_accepted": false, "score": 0, "last_activity_date": 1459211721, "creation_date": 1459211721, "answer_id": 36273491, "question_id": 36119396, "link": "https://stackoverflow.com/questions/36119396/bash-script-passes-variable-that-is-a-hex-number-to-a-perl-regex-search-to-match/36273491#36273491", "title": "Bash Script Passes Variable that is a Hex Number to a Perl Regex Search to Match MAC Address", "body": "<p>My final code ended up being</p>\n\n<p><div class=\"snippet\" data-lang=\"js\" data-hide=\"false\">\r\n<div class=\"snippet-code\">\r\n<pre class=\"snippet-code-js lang-js prettyprint-override\"><code>  #!\\bin\\sh \r\n#requires perl\r\n#requires manuf.txt available from wireshark\r\n#requires last 4 octets of mac address available from Ubertooth-scan\r\n#use responsibly and don't use for any unauthorized purposes\r\n#based in part on code from http://stackoverflow.com/questions/36119396/bash-script-passes-variable-that-is-a-hex-number-to-a-perl-regex-search-to-match?noredirect=1#comment59878958_36119396\r\n\r\nread -p \"Enter Third and Fourth and Fifth and Sixth Octet Here (AB:CD:EF:12) \" STR\r\n\r\noctet6=$(echo $STR | cut -c 1-11)\r\noctet5=$(echo $STR | cut -c 1-8)\r\noctet4=$(echo $STR | cut -c 1-5)\r\noctet=$(echo $STR | cut -c 1-2)\r\n\r\n#Makes sure the manuf.txt file only contains \":\" notation\r\nsed -i 's/-/:/ig' manuf.txt\r\n\r\n#third and fourth and fifth octet\r\nperl -nse 'print if /[0-9A-F]{2}[:][0-9A-F]{2}[:]$octet[:][0-9A-F]{2}[:][0-9A-F]{2}[:][0-9A-F]{2}(?=((\\s)|(\\/)))/ig' -- -octet=$octet5 manuf.txt\r\n\r\nperl -nse 'print if /[0-9A-F]{2}[:][0-9A-F]{2}[:]$octet(?=((\\s)|(\\/)))/ig' -- -octet=$octet5 manuf.txt\r\n\r\n#third and fourth octet\r\nperl -nse 'print if /[0-9A-F]{2}[:][0-9A-F]{2}[:]$octet[:][0-9A-F]{2}[:][0-9A-F]{2}[:][0-9A-F]{2}(?=((\\s)|(\\/)))/ig' -- -octet=$octet4 manuf.txt\r\n\r\nperl -nse 'print if /[0-9A-F]{2}[:][0-9A-F]{2}[:]$octet(?=((\\s)|(\\/)))/ig' -- -octet=$octet4 manuf.txt\r\n\r\n#Third octet. Kind of pointless bc it might generate hundreds or thousands of matches\r\nperl -nse 'print if /[0-9A-F]{2}[:][0-9A-F]{2}[:]$octet[:][0-9A-F]{2}[:][0-9A-F]{2}[:][0-9A-F]{2}(?=((\\s)|(\\/)))/ig' -- -octet=$octet manuf.txt\r\n\r\nperl -nse 'print if /[0-9A-F]{2}[:][0-9A-F]{2}[:]$octet(?=((\\s)|(\\/)))/ig' -- -octet=$octet manuf.txt\r\n\r\n#Trim things up and make them look neat and tidy\r\nsed -i -E 's/^([0-9A-F]{2}[:][0-9A-F]{2}[:][0-9A-F]{2}[:][0-9A-F]{2}[:][0-9A-F]{2}[:][0-9A-F]{2}).*/\\1/g' matches.txt\r\nsed -i -E 's/^([0-9A-F]{2}[:][0-9A-F]{2}[:][0-9A-F]{2})\\s.*/\\1/ig' matches.txt\r\n\r\n#Replace everything after the third octet with the rest of the Mac address for 6 octetc strings\r\nsed -i -E 's/^([0-9A-F]{2}[:][0-9A-F]{2}[:])[0-9A-F]{2}[:][0-9A-F]{2}[:][0-9A-F]{2}[:][0-9A-F]{2}/\\1'$octet6'/g' matches.txt\r\n\r\n#Replace everything after the third octet with the rest of the Mac address for 3 octetc strings\r\nsed -i -E 's/^([0-9A-F]{2}:[0-9A-F]{2}):[0-9A-F]{2}$/\\1:'$octet6'/g' matches.txt\r\n\r\n#Remove repeated strings\r\nsed -i '$!N; /^\\(.*\\)\\n\\1$/!P; D' matches.txt</code></pre>\r\n</div>\r\n</div>\r\n</p>\n\n<p>Not pretty, but it gets the job done and it creates a list of matches useful for a PoC code</p>\n"}], "owner": {"user_type": "does_not_exist", "display_name": "user6090770"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 165, "favorite_count": 0, "answer_count": 3, "score": 0, "last_activity_date": 1459211721, "creation_date": 1458506953, "last_edit_date": 1458507087, "question_id": 36119396, "link": "https://stackoverflow.com/questions/36119396/bash-script-passes-variable-that-is-a-hex-number-to-a-perl-regex-search-to-match", "title": "Bash Script Passes Variable that is a Hex Number to a Perl Regex Search to Match MAC Address", "body": "<p>I have be hitting my head against the wall trying to figure out what I'm doing wrong. My code currently is this:</p>\n\n<pre><code>#!\\bin\\sh \n\nread -p \"Enter Third Octet Here \" octet\nperl -ne 'while(/[0-9A-F]{2}[:-][0-9A-F]{2}[:-](\"$ENV{'$octet'}\")[:-][0-9A-F]{2}[:-][0-9A-F]{2}[:-][0-9A-F]{2}(?=((\\s)|(\\/)))/ig){print \"$&amp;\\n\";}' manuf.txt\nperl -ne 'while(/[0-9A-F]{2}[:-][0-9A-F]{2}[:-](\"$ENV{'$octet'}\")(?=((\\s)|(\\/)))/ig){print \"$&amp;\\n\";}' manuf.txt\n</code></pre>\n\n<p>What I'm trying to do is identify the third octet of a MAC address against a manufacturer lookup list (<a href=\"https://code.wireshark.org/review/gitweb?p=wireshark.git;a=blob_plain;f=manuf\" rel=\"nofollow\">https://code.wireshark.org/review/gitweb?p=wireshark.git;a=blob_plain;f=manuf</a>). I want the script to pass the variable 55,B3,b3,FF to the perl one-liner and have it insert it into the MAC regex and then print matches line by line. So far, without the variable, it will find every MAC address in the file whether it is denoted with a : or a - and whether it is a 6 octet string or a 3 octet string. with the env variable, it returns nothing. I've tried everything and nothing seems to work. I've hit a wall</p>\n\n<p>I also want to be able to do a secondary match based on the 3rd and 4th octet and a tertiary match based on the 3rd and 4th and 5th octet as well, but that is a distant goal beyond just getting it to work</p>\n"}, {"tags": ["perl", "data-structures", "hash", "find", "perl-data-structures"], "comments": [{"owner": {"reputation": 51521, "user_id": 2566198, "user_type": "registered", "accept_rate": 67, "profile_image": "https://i.stack.imgur.com/Y34ZA.jpg?s=128&g=1", "display_name": "Sobrique", "link": "https://stackoverflow.com/users/2566198/sobrique"}, "edited": false, "score": 1, "creation_date": 1458509505, "post_id": 36118491, "comment_id": 59879785, "body": "Is there any particular reason why you need to call <code>find</code>? <code>File::Find</code> and <code>File::Find::Rule</code> are quite effective."}, {"owner": {"reputation": 123805, "user_id": 622310, "user_type": "registered", "accept_rate": 33, "profile_image": "https://www.gravatar.com/avatar/8b6d35219e1808520bc238b28161e2e6?s=128&d=identicon&r=PG", "display_name": "Borodin", "link": "https://stackoverflow.com/users/622310/borodin"}, "edited": false, "score": 1, "creation_date": 1458533639, "post_id": 36118491, "comment_id": 59885862, "body": "<code>$variable = qx(...)</code> will put the whole of the response string into the scalar variable instead of separated into lines as it is in the case of the array. <code>$hash_file{$some_extension} = $variable</code> will just copy that string to a hash element, depending on the value of <code>$some_extension</code>. But it&#39;s unclear what you&#39;re actually trying to do. What do you want in your hash? I&#39;m guessing you&#39;re trying to filter the list of names by extension?"}, {"owner": {"reputation": 11, "user_id": 6090575, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/8ef3d0f63682014dccd49c2923a1eeaf?s=128&d=identicon&r=PG&f=1", "display_name": "Milania", "link": "https://stackoverflow.com/users/6090575/milania"}, "edited": false, "score": 1, "creation_date": 1458560799, "post_id": 36118491, "comment_id": 59898974, "body": "Yes Borodin that is exactly what I am trying to do. Any pointers on how that can be done?"}], "answers": [{"tags": [], "owner": {"reputation": 5886, "user_id": 2019415, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/645958eb08719fa5119052d7d1d079ff?s=128&d=identicon&r=PG", "display_name": "G. Cito", "link": "https://stackoverflow.com/users/2019415/g-cito"}, "is_accepted": false, "score": -1, "last_activity_date": 1460063913, "last_edit_date": 1495541262, "creation_date": 1458505124, "answer_id": 36119012, "question_id": 36118491, "link": "https://stackoverflow.com/questions/36118491/reading-unix-find1-output-into-a-hash-rather-than-array/36119012#36119012", "title": "Reading Unix find(1) output into a hash rather than array", "body": "<p>You can use the <a href=\"http://perldoc.perl.org/functions/map.html\" rel=\"nofollow noreferrer\"><code>map()</code></a> built-in function to create a hash with the file names as the keys and setting the values to <code>undef</code> or <code>1</code> or some other more useful value:</p>\n\n<pre><code>perl -E 'map { $filehash{$_} = undef } \n         qx( find ./ -type f -maxdepth 3  2&gt;/dev/null ) ; \n         say keys %filehash ;'\n</code></pre>\n\n<p>For example you could use the file extension as the value for each hash key (grabbing the extension with <code>fileparse()</code> from <a href=\"http://perldoc.perl.org/File/Basename.html\" rel=\"nofollow noreferrer\"><code>File::Basename</code></a>):</p>\n\n<pre><code>perl -MFile::Basename -E '\n         map { chomp; $filehash{$_} = ( fileparse($_, qr/\\..[^.]*$/))[2] } \n         qx( find ./ -type f -maxdepth 3 2&gt;/dev/null ) ;\n         say \"$_  has $filehash{$_}  extension\" for keys %filehash  ;'\n</code></pre>\n\n<p>which you could then filter with:</p>\n\n<pre><code>perl -MFile::Basename -E ' \n         map { chomp; $files_ext{$_} = ( fileparse($_, qr/\\..[^.]*$/))[2] }\n         qx( find ./ -type f -maxdepth 3 2&gt;/dev/null ) ;\n         for $k (keys %files_ext) { say $k if $files_ext{$k} eq \".pdf\" } ;'\n</code></pre>\n\n<p>You could then rewrite this as a script:</p>\n\n<pre><code>use v5.22;\nuse File::Basename ;\nuse List::Util 'any';\n\nmy %files_ext ;\nmy @ext  = qw(.doc .xls) ;\nmy @list =  qx( find ./ -type f -maxdepth 3 2&gt;/dev/null ) ;\n\nmap { \n   chomp; \n   $files_ext{$_} = ( fileparse($_, qr/\\..[^.]*$/))[2] \n} @list ;\n\nfor my $k (keys %files_ext) {   \n        say $k if (any { $_ eq $files_ext{$k} } @ext ) ;\n} \n</code></pre>\n\n<p>But, rather than building a hash to filter files this way you could use one of the various <strong>modules that will help you find files using perl without running a system command to do so</strong>. <em>e.g.</em> <a href=\"http://perldoc.perl.org/File/Find.html\" rel=\"nofollow noreferrer\"><code>File::Find</code></a> which comes with the core perl distribution. From <a href=\"https://www.metacpan.org/\" rel=\"nofollow noreferrer\"><strong>CPAN</strong></a> one of my favorites is <a href=\"https://metacpan.org/pod/Path::Iterator::Rule\" rel=\"nofollow noreferrer\"><code>Path:::Iterator::Rule</code></a>. Since your question asks how to add the output of <code>find</code> to a hash my answer focuses on that approach.</p>\n\n<p>Here is a script that uses <code>Path::Iterator::Rule</code> to find files and then filters the results as above. </p>\n\n<pre><code>use File::Basename ;\nuse List::Util 'any';\nuse Path::Iterator::Rule;\n\nmy @exts = qw(.doc .xls);    \nmy $rule = Path::Iterator::Rule-&gt;new()-&gt;max_depth(3);\n\nmy @dirs = $rule-&gt;all( \".\" ) ;\n\nfor my $file ( @dirs ) {\n  if ( any { $_ eq ( fileparse($file, qr/\\..[^.]*$/))[2] } @exts ) {\n    print \"$file \\n\" ;\n  }\n}\n</code></pre>\n\n<p>On a large set of files it may be possible to make this faster (see the <a href=\"https://metacpan.org/pod/Path::Iterator::Rule#PERFORMANCE\" rel=\"nofollow noreferrer\">PERFORMANCE</a> section of the <code>Path::Iterator::Rule</code> documentation)  by replacing <code>-&gt;all()</code> method with <code>-&gt;all_fast()</code> or shifting the filtering portion (<em>i.e.</em> the calls to <code>any()</code> and <code>fileparse()</code>) into a custom rule that uses an anonymous subroutine <code>sub{ ...}</code> to directly construct the filtered list of files. </p>\n\n<p>Using the \"lazy\" iterator methods <code>-&gt;iter()</code> or <code>-&gt;iter_fast()</code>instead of the list interface also seems to help:</p>\n\n<pre><code>use File::Basename;\nuse List::Util 'any';\nuse Path::Iterator::Rule;\n\nmy @exts = qw(.doc .xls);   \nmy $rule = Path::Iterator::Rule-&gt;new()-&gt;max_depth(3);  \n\n$rule-&gt;and(\n  sub {\n    my $ext = ( fileparse($_, qr/\\..[^.]*$/))[2];\n    any { $_ eq $ext } @exts;\n  }\n);\n\nmy $next = $rule-&gt;iter_fast(\".\");\n\nwhile (defined(my $file = $next-&gt;())) {\n  print \"$file\\n\";\n}\n</code></pre>\n\n<p>On my system using a system call to Unix <code>find()</code> is fastest of all. Fast isn't always \"best\" though. The perl modules can give you error handling and safety that you otherwise would not get by simply slurping the output of a system command.</p>\n\n<p><strong>Other References</strong></p>\n\n<ul>\n<li><p><a href=\"https://stackoverflow.com/questions/17754931/finding-files-with-perl\">Finding files with Perl</a> has some good responses to a more specific <code>File::Find</code> question and has some good links in the <strong>Related</strong> section.</p></li>\n<li><p>Your question is also more generally about data structures in perl so you probably want to read the \"Perl Data Structures Cookbook\" documentation available on your system as <a href=\"http://perldoc.perl.org/perldsc.html\" rel=\"nofollow noreferrer\"><code>perldoc perldsc</code></a>.</p></li>\n</ul>\n"}, {"tags": [], "owner": {"reputation": 68, "user_id": 5850890, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/pmQPR.jpg?s=128&g=1", "display_name": "JMa", "link": "https://stackoverflow.com/users/5850890/jma"}, "is_accepted": false, "score": 1, "last_activity_date": 1458696774, "last_edit_date": 1458696774, "creation_date": 1458577368, "answer_id": 36136446, "question_id": 36118491, "link": "https://stackoverflow.com/questions/36118491/reading-unix-find1-output-into-a-hash-rather-than-array/36136446#36136446", "title": "Reading Unix find(1) output into a hash rather than array", "body": "<p>Here is quick &amp; dirty tip</p>\n\n<pre><code>#!/usr/bin/env perl\n\nuse strict;\nuse warnings;\n\nuse File::Find;\nuse Data::Dumper;\n\nmy $Input      = shift @ARGV;\nmy @SuffixList = qw(\\.txt \\.doc \\.xls \\.csv);\nmy $Suffixes   = join '|', @SuffixList;\nmy $Sources    = {};\nmy $MyDepth    = 5;\n\nfind({\n    wanted   =&gt; sub { my $Depth = tr!/!!; \n                     push @{ $Sources-&gt;{$1} }, $_ if ($_ =~ m{($Suffixes)\\z}xms \n                     &amp;&amp; $Depth &lt; $MyDepth) \n                },\n    no_chdir =&gt; 1,\n}, $Input);\n\nprint Dumper $Sources;\n</code></pre>\n\n<p>The trick with tr is from <a href=\"http://www.perlmonks.org/index.pl?node=170969\" rel=\"nofollow\">here</a>.</p>\n"}], "owner": {"reputation": 11, "user_id": 6090575, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/8ef3d0f63682014dccd49c2923a1eeaf?s=128&d=identicon&r=PG&f=1", "display_name": "Milania", "link": "https://stackoverflow.com/users/6090575/milania"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 284, "favorite_count": 1, "answer_count": 2, "score": 1, "last_activity_date": 1460063913, "creation_date": 1458502303, "last_edit_date": 1458698693, "question_id": 36118491, "link": "https://stackoverflow.com/questions/36118491/reading-unix-find1-output-into-a-hash-rather-than-array", "title": "Reading Unix find(1) output into a hash rather than array", "body": "<p>Learning on my own but wanted to know how to put the output of a UNIX find command into a hash instead of an array. </p>\n\n<p>I know this works: </p>\n\n<pre><code>@file_array= qx(find / -path '/{directory_path}/*' -type f -maxdepth 3 \n               -name \"{extension list}\" 2&gt;/dev/null );\n</code></pre>\n\n<p>But I want to do something like this:</p>\n\n<pre><code>$variable = qx(find / -path '/{directory_path}/*' -type f -maxdepth 3\n              -name \"{extension list}\" 2&gt;/dev/null);\n              $hash_file{$some_extension} = $variable;\n</code></pre>\n\n<p>I am new to perl (just started learning) but any help would be greatly appreciated. </p>\n"}, {"tags": ["string", "perl", "parsing", "csv", "text-parsing"], "comments": [{"owner": {"reputation": 198290, "user_id": 1030675, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/957956ce51706d03f19a4dc85a767bb1?s=128&d=identicon&r=PG", "display_name": "choroba", "link": "https://stackoverflow.com/users/1030675/choroba"}, "edited": false, "score": 0, "creation_date": 1458505217, "post_id": 36118210, "comment_id": 59878278, "body": "What is line 22? What&#39;s on line 10 of the input?"}, {"owner": {"reputation": 57, "user_id": 2348235, "user_type": "registered", "accept_rate": 73, "profile_image": "https://www.gravatar.com/avatar/fc1998b00f3fb4358fe4b28a298cb1fe?s=128&d=identicon&r=PG", "display_name": "user2348235", "link": "https://stackoverflow.com/users/2348235/user2348235"}, "reply_to_user": {"reputation": 198290, "user_id": 1030675, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/957956ce51706d03f19a4dc85a767bb1?s=128&d=identicon&r=PG", "display_name": "choroba", "link": "https://stackoverflow.com/users/1030675/choroba"}, "edited": false, "score": 0, "creation_date": 1458505428, "post_id": 36118210, "comment_id": 59878351, "body": "N&#194;&#176; 107 9 de Julio;alberdi juan bautista 942;4724473\\n N&#194;&#176; 1078 John F. Kennedy;grandoli 4800;4729682\\n N&#194;&#176; 1080 Gabriela Mistral;san lorenzo 8154;4727581\\n"}, {"owner": {"reputation": 57, "user_id": 2348235, "user_type": "registered", "accept_rate": 73, "profile_image": "https://www.gravatar.com/avatar/fc1998b00f3fb4358fe4b28a298cb1fe?s=128&d=identicon&r=PG", "display_name": "user2348235", "link": "https://stackoverflow.com/users/2348235/user2348235"}, "reply_to_user": {"reputation": 198290, "user_id": 1030675, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/957956ce51706d03f19a4dc85a767bb1?s=128&d=identicon&r=PG", "display_name": "choroba", "link": "https://stackoverflow.com/users/1030675/choroba"}, "edited": false, "score": 0, "creation_date": 1458505802, "post_id": 36118210, "comment_id": 59878482, "body": "Input is like that...  And these are lines that cause trouble in the upper code  ($word) = split(/\\s/,$fields[1]); \t if (($word ne &#39;SAN&#39;)&amp;&amp;($word ne &#39;LA&#39;)&amp;&amp;($word ne &#39;EL&#39;))  These line produce the error I posted"}, {"owner": {"reputation": 57, "user_id": 2348235, "user_type": "registered", "accept_rate": 73, "profile_image": "https://www.gravatar.com/avatar/fc1998b00f3fb4358fe4b28a298cb1fe?s=128&d=identicon&r=PG", "display_name": "user2348235", "link": "https://stackoverflow.com/users/2348235/user2348235"}, "reply_to_user": {"reputation": 198290, "user_id": 1030675, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/957956ce51706d03f19a4dc85a767bb1?s=128&d=identicon&r=PG", "display_name": "choroba", "link": "https://stackoverflow.com/users/1030675/choroba"}, "edited": false, "score": 0, "creation_date": 1458505878, "post_id": 36118210, "comment_id": 59878508, "body": "Please note that I wrote \\n in the example of the input because I wasn&#39;t able to insert a line-break when editing the comment"}, {"owner": {"reputation": 198290, "user_id": 1030675, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/957956ce51706d03f19a4dc85a767bb1?s=128&d=identicon&r=PG", "display_name": "choroba", "link": "https://stackoverflow.com/users/1030675/choroba"}, "edited": false, "score": 0, "creation_date": 1458506187, "post_id": 36118210, "comment_id": 59878631, "body": "John Kennedy seems to have no <code>$fields[1]</code>, hence the warnings (it&#39;s not an error)."}, {"owner": {"reputation": 57, "user_id": 2348235, "user_type": "registered", "accept_rate": 73, "profile_image": "https://www.gravatar.com/avatar/fc1998b00f3fb4358fe4b28a298cb1fe?s=128&d=identicon&r=PG", "display_name": "user2348235", "link": "https://stackoverflow.com/users/2348235/user2348235"}, "reply_to_user": {"reputation": 198290, "user_id": 1030675, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/957956ce51706d03f19a4dc85a767bb1?s=128&d=identicon&r=PG", "display_name": "choroba", "link": "https://stackoverflow.com/users/1030675/choroba"}, "edited": false, "score": 0, "creation_date": 1458515361, "post_id": 36118210, "comment_id": 59881679, "body": "I thought the way to refer to an element of an array was this: my @array = [3, 2, 3, 4, 6]; my $3rd_element_of_array = $array[2];  Correct me if I&#39;m wrong"}, {"owner": {"reputation": 57, "user_id": 2348235, "user_type": "registered", "accept_rate": 73, "profile_image": "https://www.gravatar.com/avatar/fc1998b00f3fb4358fe4b28a298cb1fe?s=128&d=identicon&r=PG", "display_name": "user2348235", "link": "https://stackoverflow.com/users/2348235/user2348235"}, "reply_to_user": {"reputation": 198290, "user_id": 1030675, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/957956ce51706d03f19a4dc85a767bb1?s=128&d=identicon&r=PG", "display_name": "choroba", "link": "https://stackoverflow.com/users/1030675/choroba"}, "edited": false, "score": 0, "creation_date": 1458515662, "post_id": 36118210, "comment_id": 59881765, "body": "Clarification: the file I&#39;m using is really a semicolon-separed-value one but for simplicity sake I posted that was csv initially. John Kennedy does have a $fields[1]!=0 Its value is &quot;grandoli 4800&quot;"}, {"owner": {"reputation": 62184, "user_id": 7231, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/81b76985f3985e35492e25880493d045?s=128&d=identicon&r=PG", "display_name": "Dave Cross", "link": "https://stackoverflow.com/users/7231/dave-cross"}, "edited": false, "score": 0, "creation_date": 1458556390, "post_id": 36118210, "comment_id": 59896114, "body": "@user2348235: You should use round brackets to initialise an array - <code>my @array = (3, 2, 3, 4, 6)</code>. Square brackets are used to initialise an array reference - <code>my $array_ref = [3, 2, 3, 4, 6]</code>."}, {"owner": {"reputation": 57, "user_id": 2348235, "user_type": "registered", "accept_rate": 73, "profile_image": "https://www.gravatar.com/avatar/fc1998b00f3fb4358fe4b28a298cb1fe?s=128&d=identicon&r=PG", "display_name": "user2348235", "link": "https://stackoverflow.com/users/2348235/user2348235"}, "edited": false, "score": 0, "creation_date": 1458563164, "post_id": 36118210, "comment_id": 59900538, "body": "Thanks Dave for the clarification ;)"}], "answers": [{"comments": [{"owner": {"reputation": 57, "user_id": 2348235, "user_type": "registered", "accept_rate": 73, "profile_image": "https://www.gravatar.com/avatar/fc1998b00f3fb4358fe4b28a298cb1fe?s=128&d=identicon&r=PG", "display_name": "user2348235", "link": "https://stackoverflow.com/users/2348235/user2348235"}, "edited": false, "score": 0, "creation_date": 1458563630, "post_id": 36121368, "comment_id": 59900893, "body": "As you and Dave pointed out the warning was appearing due to an empty line on the input file... I know that you entered your answer first, but I think Dave one is going to be more enlightening for newbies entering this question so I&#39;m going to select his answer as solution. I wish I could select both since both of you are right on point but I can&#39;t."}, {"owner": {"reputation": 2690, "user_id": 5869736, "user_type": "registered", "accept_rate": 75, "profile_image": "https://www.gravatar.com/avatar/b18e361761e0643fd9003f9eae40ba45?s=128&d=identicon&r=PG&f=1", "display_name": "Marty", "link": "https://stackoverflow.com/users/5869736/marty"}, "reply_to_user": {"reputation": 57, "user_id": 2348235, "user_type": "registered", "accept_rate": 73, "profile_image": "https://www.gravatar.com/avatar/fc1998b00f3fb4358fe4b28a298cb1fe?s=128&d=identicon&r=PG", "display_name": "user2348235", "link": "https://stackoverflow.com/users/2348235/user2348235"}, "edited": false, "score": 0, "creation_date": 1458587682, "post_id": 36121368, "comment_id": 59917742, "body": "Your motivation is to help newbies and you&#39;ve acknowledged my answering first - I&#39;m happy with that."}], "tags": [], "owner": {"reputation": 2690, "user_id": 5869736, "user_type": "registered", "accept_rate": 75, "profile_image": "https://www.gravatar.com/avatar/b18e361761e0643fd9003f9eae40ba45?s=128&d=identicon&r=PG&f=1", "display_name": "Marty", "link": "https://stackoverflow.com/users/5869736/marty"}, "is_accepted": false, "score": 1, "last_activity_date": 1458545959, "last_edit_date": 1458545959, "creation_date": 1458519981, "answer_id": 36121368, "question_id": 36118210, "link": "https://stackoverflow.com/questions/36118210/errors-in-declaration-when-trying-to-parse-a-csv-file/36121368#36121368", "title": "Errors in declaration when trying to parse a csv file", "body": "<p>The error message you provided ends with: <code>line 22, &lt;$in&gt; line 10.</code> but your question doesn't show line 10 of the data (<code>$in</code>) requiring some speculation in this answer - but, I'd say that the second field, <code>$field[1]</code>, of line 10 of <code>in.txt</code> is empty.</p>\n\n<p>Consequently, this line: <code>($word) = split(/\\s/,$fields[1]);</code> is causing <code>$word</code> to be undefined.  As a result, some use of it latter - be it the <code>ne</code> operator (as displayed in the message) or anything else is going to generate an error.</p>\n\n<p>As an aside - there's little point in interpolating a variable in a string on its own; instead of <code>\"$fields[0]\"</code>, say <code>$fields[0]</code> unless you're going to put something else in there, like <code>\"$fields[0];\"</code>. You may want to consider replacing </p>\n\n<pre><code>printf $out \"$fields[0]\".';'.\"$word\".';'.\"$fields[2]\"; \n</code></pre>\n\n<p>with</p>\n\n<pre><code>printf $out $fields[0] . ';' . $word . ';' . $fields[2];\n</code></pre>\n\n<p>or</p>\n\n<pre><code>printf $out \"$fields[0];$word;$fields[2]\"; \n</code></pre>\n\n<p>Of course, TMTOWTDI - so you may want to tell me to mind my own business instead. :-)</p>\n"}, {"comments": [{"owner": {"reputation": 57, "user_id": 2348235, "user_type": "registered", "accept_rate": 73, "profile_image": "https://www.gravatar.com/avatar/fc1998b00f3fb4358fe4b28a298cb1fe?s=128&d=identicon&r=PG", "display_name": "user2348235", "link": "https://stackoverflow.com/users/2348235/user2348235"}, "edited": false, "score": 0, "creation_date": 1458563691, "post_id": 36128601, "comment_id": 59900941, "body": "Yes, that was the warning cause, an empty line in the input text file. Thank you."}], "tags": [], "owner": {"reputation": 62184, "user_id": 7231, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/81b76985f3985e35492e25880493d045?s=128&d=identicon&r=PG", "display_name": "Dave Cross", "link": "https://stackoverflow.com/users/7231/dave-cross"}, "is_accepted": true, "score": 1, "last_activity_date": 1458556259, "creation_date": 1458556259, "answer_id": 36128601, "question_id": 36118210, "link": "https://stackoverflow.com/questions/36118210/errors-in-declaration-when-trying-to-parse-a-csv-file/36128601#36128601", "title": "Errors in declaration when trying to parse a csv file", "body": "<p>I think you're misunderstanding the error. It's not a problem with the declaration of the variable, but with the data that you're putting into the variable.</p>\n\n<blockquote>\n  <p>Use of uninitialized value</p>\n</blockquote>\n\n<p>This means that you are trying to use a value that is undefined (not undeclared). That means you are using a variable that you haven't given a value.</p>\n\n<p>You can get more details about the warning (and it's a warning, not an error) by adding <code>use diagnostics</code> to your code. You'll get something like this:</p>\n\n<blockquote>\n  <p>(W uninitialized) An undefined value was used as if it were already\n      defined.  It was interpreted as a \"\" or a 0, but maybe it was a mistake.\n      To suppress this warning assign a defined value to your variables.</p>\n  \n  <p>To help you figure out what was undefined, perl will try to tell you\n      the name of the variable (if any) that was undefined.  In some cases\n      it cannot do this, so it also tells you what operation you used the\n      undefined value in.  Note, however, that perl optimizes your program\n      and the operation displayed in the warning may not necessarily appear\n      literally in your program.  For example, \"that $foo\" is usually\n      optimized into \"that \" . $foo, and the warning will refer to the\n      concatenation (.) operator, even though there is no . in\n      your program.</p>\n</blockquote>\n\n<p>So, when you're populating <code>$word</code>, it's not getting a value. Presumably, that's because some lines in your input file have an empty record there.</p>\n\n<p>I have no way of knowing whether or not that's a valid input for your program, so I can't really give any helpful suggestions on how to fix this.</p>\n"}], "owner": {"reputation": 57, "user_id": 2348235, "user_type": "registered", "accept_rate": 73, "profile_image": "https://www.gravatar.com/avatar/fc1998b00f3fb4358fe4b28a298cb1fe?s=128&d=identicon&r=PG", "display_name": "user2348235", "link": "https://stackoverflow.com/users/2348235/user2348235"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 75, "favorite_count": 0, "accepted_answer_id": 36128601, "answer_count": 2, "score": 0, "last_activity_date": 1458556259, "creation_date": 1458500863, "last_edit_date": 1458505180, "question_id": 36118210, "link": "https://stackoverflow.com/questions/36118210/errors-in-declaration-when-trying-to-parse-a-csv-file", "title": "Errors in declaration when trying to parse a csv file", "body": "<p>I'm trying to parse a CSV file that is formatted like this:</p>\n\n<pre><code>    dog cats,yellow blue tomorrow,12445\n    birds,window bank door,-novalue-\n    birds,window door,5553\n    aspirin man,red,567\n</code></pre>\n\n<p>(there is no value where -novalue- is written)</p>\n\n<hr>\n\n<pre><code>use strict;\nuse warnings;\n\n\nmy $filename = 'in.txt';\nmy $filename2 = 'out.txt';\n\nopen(my $in, '&lt;:encoding(UTF-8)', $filename)\nor die \"Could not open file '$filename' $!\";\n\nmy $word = \"\";\n\nwhile (my $row = &lt;$in&gt;) {\n    chomp $row;\n\n    my @fields = split(/,/,$row);\n\n    #Save the first word of the second column\n    ($word) = split(/\\s/,$fields[1]);\n\n    if ($word eq 'importartWord')\n    {\n        printf $out \"$fields[0]\".';'.\"$word\".';'.\"$fields[2]\";\n    }   \n    else #keep as it was\n    {\n        printf $out \"$fields[0]\".';'.\"$fields[1]\".';'.\"$fields[2]\";\n    }\n</code></pre>\n\n<hr>\n\n<pre><code>Use of uninitialized value $word in string ne at prueba7.pl line 22, &lt;$in&gt; line 10.\n</code></pre>\n\n<p>No matter where I define $word I cannot stop receiving that error and can't understand why. I think I have initialized $word correctly. I would really appreciate your help here.</p>\n\n<p>Please if you are going to suggest using Text::CSV post a working code example since I haven't been able to apply it for the propose I have explained here. That's the reason I ended up writing the above code.</p>\n\n<hr>\n\n<p>PD:\n   Because I know you are going to ask for my previous code using Text::CSV, here it is:</p>\n\n<pre><code>#!/usr/bin/perl\nuse strict;\nuse warnings;\n\nuse Text::CSV;\n\nmy $csv = Text::CSV-&gt;new({ sep_char =&gt; ';', binary =&gt; 1 }) or \n                    die \"Cannot use CSV: \".Text::CSV-&gt;error_diag ();\n\n\n#directorio donde esta esc_prim2.csv\nmy $file = 'C:\\Users\\Sergio\\Desktop\\GIS\\perl\\esc_prim2.csv';\nmy $sal = 'C:\\Users\\Sergio\\Desktop\\GIS\\perl\\esc_prim3.csv';\n\n\nopen my $data, \"&lt;:encoding(utf8)\", \"$file\" or die \"$file: $!\";\nopen my $out, \"&gt;:encoding(utf8)\", \"$sal\" or die \"$sal: $!\";\n\n$csv-&gt;eol (\"\\r\\n\");\n\n\n#initializing variables\nmy $row = \"\";\nmy $word = \"\";\nmy $validar = 0;\nmy $line1 = \"\";\nmy @mwords = [\"\"];#Just a try to initialize mwords... doesn't work, error keeps showing\n\n\n#save the first line with field names on the other file\n$line1 = &lt;$data&gt;;\n$csv-&gt;parse($line1);\nmy @fields = $csv-&gt;fields();\n$csv-&gt;print($out,[$fields[0], $fields[1], $fields[2]]);\n\n\n\nwhile ($row = &lt;$data&gt;) {\n\n    if ($csv-&gt;parse($row)) {\n        @fields = $csv-&gt;fields();\n\n        #save first word of the field's second element \n        @mwords = split (/\\s/, $fields[1]);\n\n        #keep the first one\n        $word = $mwords[0];\n\n        printf($mwords[0]);\n\n        #if that word is not one of SAN, EL y LA... writes a line in the new file with the updated second field.\n        $validar = ($word ne 'SAN') &amp;&amp; ($word ne 'EL') &amp;&amp; ($word ne 'LA');\n        if ($validar)\n        {\n            $csv-&gt;print($out,[$fields[0], $word, $fields[2]]);\n        }\n        else { #Saves the line in the new file as it was in the old one.\n            $csv-&gt;print($out,[$fields[0], $fields[1], $fields[2]]);\n        }\n\n\n    } else {#error procesing row\n        warn \"La row no se ha podido procesar\\n\";\n    }\n}\n\nclose $data or die \"$file: $!\";\nclose $out or die \"$sal: $!\";\n</code></pre>\n\n<p>Here the line where $validar is declared brings the same error of \"uninitialized value\" although I did it.</p>\n\n<p>I also tried the <em>push @rows, $row;</em> approach but I don't really know how to handle the $rows[$i] since they are references to arrays (pointers) and I know they can't be operated as variables... Couldn't find a working example on how to use them.</p>\n"}, {"tags": ["perl", "substitution"], "comments": [{"owner": {"reputation": 52821, "user_id": 632407, "user_type": "registered", "accept_rate": 86, "profile_image": "https://i.stack.imgur.com/AfGWW.jpg?s=128&g=1", "display_name": "jm666", "link": "https://stackoverflow.com/users/632407/jm666"}, "edited": false, "score": 0, "creation_date": 1458495704, "post_id": 36117092, "comment_id": 59874821, "body": "So you want remove multiline and keep single line text between the <code>{}</code>?"}, {"owner": {"reputation": 501, "user_id": 5124117, "user_type": "registered", "accept_rate": 100, "profile_image": "https://i.stack.imgur.com/nIDkp.png?s=128&g=1", "display_name": "toogley", "link": "https://stackoverflow.com/users/5124117/toogley"}, "reply_to_user": {"reputation": 52821, "user_id": 632407, "user_type": "registered", "accept_rate": 86, "profile_image": "https://i.stack.imgur.com/AfGWW.jpg?s=128&g=1", "display_name": "jm666", "link": "https://stackoverflow.com/users/632407/jm666"}, "edited": false, "score": 0, "creation_date": 1458495810, "post_id": 36117092, "comment_id": 59874870, "body": "i want to remove anything between those <code>{ }</code>"}, {"owner": {"reputation": 52821, "user_id": 632407, "user_type": "registered", "accept_rate": 86, "profile_image": "https://i.stack.imgur.com/AfGWW.jpg?s=128&g=1", "display_name": "jm666", "link": "https://stackoverflow.com/users/632407/jm666"}, "edited": false, "score": 1, "creation_date": 1458495867, "post_id": 36117092, "comment_id": 59874899, "body": "then EDIT your question - because you said for want: <code>\\Gruss{test}</code>... :("}, {"owner": {"reputation": 501, "user_id": 5124117, "user_type": "registered", "accept_rate": 100, "profile_image": "https://i.stack.imgur.com/nIDkp.png?s=128&g=1", "display_name": "toogley", "link": "https://stackoverflow.com/users/5124117/toogley"}, "reply_to_user": {"reputation": 52821, "user_id": 632407, "user_type": "registered", "accept_rate": 86, "profile_image": "https://i.stack.imgur.com/AfGWW.jpg?s=128&g=1", "display_name": "jm666", "link": "https://stackoverflow.com/users/632407/jm666"}, "edited": false, "score": 0, "creation_date": 1458496022, "post_id": 36117092, "comment_id": 59874946, "body": "ah, sorry. i misunderstood you. I want anything in between the <code>\\Adresse{}</code> to be removed. Anything else before <code>\\Adresse{}</code> and after <code>\\Adresse{}</code> should not be touched. so i want to keep<code>\\Gruss{test}</code>"}, {"owner": {"reputation": 34304, "user_id": 1733163, "user_type": "registered", "accept_rate": 61, "profile_image": "https://i.stack.imgur.com/gmGvj.jpg?s=128&g=1", "display_name": "Miller", "link": "https://stackoverflow.com/users/1733163/miller"}, "edited": false, "score": 2, "creation_date": 1458496043, "post_id": 36117092, "comment_id": 59874961, "body": "<code>echo -e &quot;\\\\Adresse{tes\\ntest\\ntest}\\n\\\\Gruss{test}&quot; | perl -0777 -pe &#39;s&#47;\\\\Adresse\\{\\K[^}]*&#47;&#47;g&#39;</code>"}, {"owner": {"reputation": 501, "user_id": 5124117, "user_type": "registered", "accept_rate": 100, "profile_image": "https://i.stack.imgur.com/nIDkp.png?s=128&g=1", "display_name": "toogley", "link": "https://stackoverflow.com/users/5124117/toogley"}, "reply_to_user": {"reputation": 34304, "user_id": 1733163, "user_type": "registered", "accept_rate": 61, "profile_image": "https://i.stack.imgur.com/gmGvj.jpg?s=128&g=1", "display_name": "Miller", "link": "https://stackoverflow.com/users/1733163/miller"}, "edited": false, "score": 0, "creation_date": 1458496781, "post_id": 36117092, "comment_id": 59875248, "body": "@Miller this works also as expected. if you want, you can rewrite that as a answer, so that i can upvote it."}, {"owner": {"reputation": 87649, "user_id": 17389, "user_type": "registered", "accept_rate": 38, "profile_image": "https://www.gravatar.com/avatar/cd06d1314817ce946ab796af8750b56a?s=128&d=identicon&r=PG", "display_name": "ysth", "link": "https://stackoverflow.com/users/17389/ysth"}, "edited": false, "score": 0, "creation_date": 1458498989, "post_id": 36117092, "comment_id": 59876112, "body": "Are there ever going to be <code>\\command{...}</code>s inside the Adresse argument?"}, {"owner": {"reputation": 501, "user_id": 5124117, "user_type": "registered", "accept_rate": 100, "profile_image": "https://i.stack.imgur.com/nIDkp.png?s=128&g=1", "display_name": "toogley", "link": "https://stackoverflow.com/users/5124117/toogley"}, "reply_to_user": {"reputation": 87649, "user_id": 17389, "user_type": "registered", "accept_rate": 38, "profile_image": "https://www.gravatar.com/avatar/cd06d1314817ce946ab796af8750b56a?s=128&d=identicon&r=PG", "display_name": "ysth", "link": "https://stackoverflow.com/users/17389/ysth"}, "edited": false, "score": 0, "creation_date": 1458500447, "post_id": 36117092, "comment_id": 59876589, "body": "@ysth nope. Why do you think so?"}, {"owner": {"reputation": 87649, "user_id": 17389, "user_type": "registered", "accept_rate": 38, "profile_image": "https://www.gravatar.com/avatar/cd06d1314817ce946ab796af8750b56a?s=128&d=identicon&r=PG", "display_name": "ysth", "link": "https://stackoverflow.com/users/17389/ysth"}, "edited": false, "score": 0, "creation_date": 1458502042, "post_id": 36117092, "comment_id": 59877133, "body": "I don&#39;t think so; I was just asking because that would make the answer very different."}], "answers": [{"comments": [{"owner": {"reputation": 24966, "user_id": 2001031, "user_type": "registered", "accept_rate": 93, "profile_image": "https://www.gravatar.com/avatar/bd4f0d39f82be9c22f6f01c80d7ad800?s=128&d=identicon&r=PG", "display_name": "Neil Slater", "link": "https://stackoverflow.com/users/2001031/neil-slater"}, "edited": false, "score": 0, "creation_date": 1458495733, "post_id": 36117166, "comment_id": 59874836, "body": "The greedy vs non-greedy aspect is correct, but why remove the match to <code>\\\\Adresse</code>? OP appears to want contents of other starting curly brackets to remain in place, just empty the <code>\\\\Adresse{}</code> ones. . ."}], "tags": [], "owner": {"reputation": 843, "user_id": 6020333, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/bea9014ebf1e1188cac53beb61560df8?s=128&d=identicon&r=PG&f=1", "display_name": "bart", "link": "https://stackoverflow.com/users/6020333/bart"}, "is_accepted": false, "score": 1, "last_activity_date": 1458495575, "creation_date": 1458495575, "answer_id": 36117166, "question_id": 36117092, "link": "https://stackoverflow.com/questions/36117092/perl-oneliner-substitutes-anything-after-intended-matching/36117166#36117166", "title": "perl oneliner substitutes anything after intended matching", "body": "<p>You can try using \"non-greedy\" match combined with <code>/s</code> regex modifier to match newlines with <code>.</code>. Also, you can replace <code>BEGIN{undef $/;}</code> with <code>-0</code> option:</p>\n\n<pre><code>perl -0 -pe 's/{.*?}/{}/sg' test\n</code></pre>\n"}, {"comments": [{"owner": {"reputation": 501, "user_id": 5124117, "user_type": "registered", "accept_rate": 100, "profile_image": "https://i.stack.imgur.com/nIDkp.png?s=128&g=1", "display_name": "toogley", "link": "https://stackoverflow.com/users/5124117/toogley"}, "edited": false, "score": 0, "creation_date": 1458535513, "post_id": 36117357, "comment_id": 59886365, "body": "could you additionally please  explain why my command does not work and yours does? is the non-greedy behavior standard in perl?"}, {"owner": {"reputation": 52821, "user_id": 632407, "user_type": "registered", "accept_rate": 86, "profile_image": "https://i.stack.imgur.com/AfGWW.jpg?s=128&g=1", "display_name": "jm666", "link": "https://stackoverflow.com/users/632407/jm666"}, "reply_to_user": {"reputation": 501, "user_id": 5124117, "user_type": "registered", "accept_rate": 100, "profile_image": "https://i.stack.imgur.com/nIDkp.png?s=128&g=1", "display_name": "toogley", "link": "https://stackoverflow.com/users/5124117/toogley"}, "edited": false, "score": 1, "creation_date": 1458558463, "post_id": 36117357, "comment_id": 59897539, "body": "@toogley, every regex is greedy by default - e.g tries match the most of possible characters. Not only in perl. The <code>.*?</code> says - be non-greedy -  match the few possible characters - e.g. stop in the first found of the <code>}</code>."}], "tags": [], "owner": {"reputation": 52821, "user_id": 632407, "user_type": "registered", "accept_rate": 86, "profile_image": "https://i.stack.imgur.com/AfGWW.jpg?s=128&g=1", "display_name": "jm666", "link": "https://stackoverflow.com/users/632407/jm666"}, "is_accepted": true, "score": 1, "last_activity_date": 1458496471, "creation_date": 1458496471, "answer_id": 36117357, "question_id": 36117092, "link": "https://stackoverflow.com/questions/36117092/perl-oneliner-substitutes-anything-after-intended-matching/36117357#36117357", "title": "perl oneliner substitutes anything after intended matching", "body": "<p>Could try</p>\n\n<pre><code>perl -0 -pe 's/(\\\\Adresse\\{).*?}/$1}/sg'\n</code></pre>\n\n<p>from</p>\n\n<pre><code>\\Adresse{tes\ntest\ntest}\n\\Gruss{test}\n</code></pre>\n\n<p>produces</p>\n\n<pre><code>\\Adresse{}\n\\Gruss{test}\n</code></pre>\n\n<p>from</p>\n\n<pre><code>\\Email{test}\n\\Adresse{tes \\\\\ntest \\\\\ntest}\n\\Gruss{test}\n</code></pre>\n\n<p>produces</p>\n\n<pre><code>\\Email{test}\n\\Adresse{}\n\\Gruss{test}\n</code></pre>\n"}], "owner": {"reputation": 501, "user_id": 5124117, "user_type": "registered", "accept_rate": 100, "profile_image": "https://i.stack.imgur.com/nIDkp.png?s=128&g=1", "display_name": "toogley", "link": "https://stackoverflow.com/users/5124117/toogley"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 54, "favorite_count": 0, "accepted_answer_id": 36117357, "answer_count": 2, "score": 0, "last_activity_date": 1458496471, "creation_date": 1458495256, "last_edit_date": 1495540229, "question_id": 36117092, "link": "https://stackoverflow.com/questions/36117092/perl-oneliner-substitutes-anything-after-intended-matching", "title": "perl oneliner substitutes anything after intended matching", "body": "<p>i have this file <code>test</code> (the amount of lines between the curly braces can vary a few lines):</p>\n\n<pre><code>\\Email{test}\n\\Adresse{tes \\\\\ntest \\\\\ntest}\n\\Gruss{test}\n</code></pre>\n\n<p>what i want:</p>\n\n<pre><code>\\Email{test}\n\\Adresse{}\n\\Gruss{test}\n</code></pre>\n\n<p>But the <a href=\"https://stackoverflow.com/a/1030819/5124117\">suggested solution</a><code>perl -i -pe 'BEGIN{undef $/;} s/\\\\Adresse.*}/\\\\Adresse{}/smg' test</code></p>\n\n<p>converts the text to </p>\n\n<pre><code>\\Email{}\n\\Adresse{}\n\\Gruss{}\n</code></pre>\n\n<p>and deletes the <code>\\Gruss{test}</code>. How i can prevent this behavior?</p>\n\n<p><strong>EDIT</strong> to clarify: i want to keep the whole text after and before \\Adresse{}. Additionally, i had some problems with one of the provided solutions on my \"real file\", so i improved my description of the problem.</p>\n"}, {"tags": ["arrays", "list", "perl"], "answers": [{"comments": [{"owner": {"reputation": 87649, "user_id": 17389, "user_type": "registered", "accept_rate": 38, "profile_image": "https://www.gravatar.com/avatar/cd06d1314817ce946ab796af8750b56a?s=128&d=identicon&r=PG", "display_name": "ysth", "link": "https://stackoverflow.com/users/17389/ysth"}, "edited": false, "score": 0, "creation_date": 1458533898, "post_id": 36116839, "comment_id": 59885921, "body": "Or <code>print join &quot;\\n&quot;, $txt =~ &#47;^(\\w+)&#47;mg, &#39;&#39;;</code>"}, {"owner": {"reputation": 87649, "user_id": 17389, "user_type": "registered", "accept_rate": 38, "profile_image": "https://www.gravatar.com/avatar/cd06d1314817ce946ab796af8750b56a?s=128&d=identicon&r=PG", "display_name": "ysth", "link": "https://stackoverflow.com/users/17389/ysth"}, "edited": false, "score": 0, "creation_date": 1458539186, "post_id": 36116839, "comment_id": 59887528, "body": "Just another way, yes"}, {"owner": {"reputation": 320771, "user_id": 589924, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/b2cf53d5a3d25f95c0db4e025aed4153?s=128&d=identicon&r=PG", "display_name": "ikegami", "link": "https://stackoverflow.com/users/589924/ikegami"}, "edited": false, "score": 0, "creation_date": 1458559092, "post_id": 36116839, "comment_id": 59897948, "body": "<code>print $1 if &#47;^(\\w+) &#47;;</code> is a long way of writing <code>print &#47;^(\\w+) &#47;;</code>. I&#39;m not sure why you added the space, either. It should simply be <code>&#47;^(\\w+)&#47;</code> or <code>&#47;^(\\S+)&#47;</code>. <code>&#47;^(\\w+) &#47;</code> makes no sense."}], "tags": [], "owner": {"reputation": 79972, "user_id": 298607, "user_type": "registered", "accept_rate": 88, "profile_image": "https://i.stack.imgur.com/DVW9g.jpg?s=128&g=1", "display_name": "dawg", "link": "https://stackoverflow.com/users/298607/dawg"}, "is_accepted": false, "score": 3, "last_activity_date": 1458569285, "last_edit_date": 1458569285, "creation_date": 1458493999, "answer_id": 36116839, "question_id": 36116763, "link": "https://stackoverflow.com/questions/36116763/using-perl-to-get-only-the-first-word-of-every-line-in-a-string/36116839#36116839", "title": "Using Perl to get only the FIRST WORD of every line in a string?", "body": "<p>Given:  </p>\n\n<pre><code>$ echo \"$txt\" \nCaterpillar1 is red and hairy\nCaterpillar2 is green and schwifty\nCaterpillar3 is yellow and schwifty\n</code></pre>\n\n<p>You can do a line-by-line regex of the input:</p>\n\n<pre><code>$ echo \"$txt\" | perl -nle 'print $1 if /^(\\w+)/'\nCaterpillar1\nCaterpillar2\nCaterpillar3\n</code></pre>\n\n<p>Or, as in comments, <code>$ echo \"$txt\" | perl -nle 'print /^(\\w+)/'</code></p>\n\n<p>You can also use the line-by-line auto split mode (which is similar to <code>awk</code> split on whitespace):</p>\n\n<pre><code>$ echo \"$txt\" | perl -lane 'print $F[0]'\nCaterpillar1\nCaterpillar2\nCaterpillar3\n</code></pre>\n\n<p>If that multi line string is a single string, just use a global regex:</p>\n\n<pre><code>print \"$1\\n\" while $txt=~/^(\\w+)/gm;\n</code></pre>\n\n<p>Or, as in comments, </p>\n\n<pre><code>print join \"\\n\", $txt =~ /^(\\w+)/mg, '';\n</code></pre>\n"}, {"comments": [{"owner": {"reputation": 61610, "user_id": 725418, "user_type": "registered", "accept_rate": 86, "profile_image": "https://www.gravatar.com/avatar/82ac2dc3e1ad4b7187f245c416528df9?s=128&d=identicon&r=PG", "display_name": "TLP", "link": "https://stackoverflow.com/users/725418/tlp"}, "edited": false, "score": 0, "creation_date": 1458502733, "post_id": 36116840, "comment_id": 59877318, "body": "<code>split &#47; &#47;</code> splits on <i>one</i> space (meaning two consecutive spaces makes a blank element). You probably want <code>split &#39; &#39;</code>, which splits on one or more whitespaces."}], "tags": [], "owner": {"reputation": 843, "user_id": 6020333, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/bea9014ebf1e1188cac53beb61560df8?s=128&d=identicon&r=PG&f=1", "display_name": "bart", "link": "https://stackoverflow.com/users/6020333/bart"}, "is_accepted": false, "score": 1, "last_activity_date": 1458494006, "creation_date": 1458494006, "answer_id": 36116840, "question_id": 36116763, "link": "https://stackoverflow.com/questions/36116763/using-perl-to-get-only-the-first-word-of-every-line-in-a-string/36116840#36116840", "title": "Using Perl to get only the FIRST WORD of every line in a string?", "body": "<p>Use <code>split</code> to turn that string into lines, then use it again to turn lines into words:</p>\n\n<pre><code>foreach my $line (split /\\n/, $LIST)\n{\n    print ((split / /, $line)[0]);\n    print \"\\n\";\n}\n</code></pre>\n"}, {"tags": [], "owner": {"reputation": 4173, "user_id": 4450651, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/l6IMB.jpg?s=128&g=1", "display_name": "red0ct", "link": "https://stackoverflow.com/users/4450651/red0ct"}, "is_accepted": false, "score": 2, "last_activity_date": 1458647590, "last_edit_date": 1458647590, "creation_date": 1458545435, "answer_id": 36125290, "question_id": 36116763, "link": "https://stackoverflow.com/questions/36116763/using-perl-to-get-only-the-first-word-of-every-line-in-a-string/36125290#36125290", "title": "Using Perl to get only the FIRST WORD of every line in a string?", "body": "<p>You can just do:\n<code>@list = map { /^(\\S+)/ } split /\\n/, $str</code> to get a list of first words of every line in your string.</p>\n\n<p>Or more elegant:\n<code>@list = $str =~ /^(\\S+)/mg</code></p>\n"}], "owner": {"reputation": 123, "user_id": 5164527, "user_type": "registered", "accept_rate": 23, "profile_image": "https://graph.facebook.com/10153040192953595/picture?type=large", "display_name": "driedupsharpie", "link": "https://stackoverflow.com/users/5164527/driedupsharpie"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 2865, "favorite_count": 0, "answer_count": 3, "score": 1, "last_activity_date": 1458647590, "creation_date": 1458493559, "last_edit_date": 1458506417, "question_id": 36116763, "link": "https://stackoverflow.com/questions/36116763/using-perl-to-get-only-the-first-word-of-every-line-in-a-string", "title": "Using Perl to get only the FIRST WORD of every line in a string?", "body": "<p>Suppose I have <code>my $LIST</code> which is something like the following:</p>\n\n<pre><code>Caterpillar1 is red and hairy\nCaterpillar2 is green and schwifty\nCaterpillar3 is yellow and schwifty\n</code></pre>\n\n<p>Now what I want to do to list is essentially the equivilant of <code>awk {'print $1'}</code>. I want to pull from this the following list:</p>\n\n<pre><code>Caterpillar1\nCaterpillar2\nCaterpillar3\n</code></pre>\n\n<p>How can this be accomplished in perl without utilizing any outside system commands?</p>\n"}, {"tags": ["perl", "bioinformatics"], "comments": [{"owner": {"reputation": 24080, "user_id": 1816093, "user_type": "registered", "accept_rate": 57, "profile_image": "https://i.stack.imgur.com/ZImpg.jpg?s=128&g=1", "display_name": "Drew", "link": "https://stackoverflow.com/users/1816093/drew"}, "edited": false, "score": 7, "creation_date": 1458484535, "post_id": 36114241, "comment_id": 59870649, "body": "Carey, just an fyi, and <a href=\"http://stackoverflow.com/posts/36114241/timeline\">the timeline</a> . We don&#39;t ask questions, receive help, then delete the question. That is not how we roll here."}, {"owner": {"reputation": 123805, "user_id": 622310, "user_type": "registered", "accept_rate": 33, "profile_image": "https://www.gravatar.com/avatar/8b6d35219e1808520bc238b28161e2e6?s=128&d=identicon&r=PG", "display_name": "Borodin", "link": "https://stackoverflow.com/users/622310/borodin"}, "edited": false, "score": 1, "creation_date": 1458493262, "post_id": 36114241, "comment_id": 59873857, "body": "Please take a look at <a href=\"http://stackoverflow.com/help/someone-answers\"><b><i>What should I do when someone answers my question?</i></b></a>. Hint: it doesn&#39;t say <i>delete your question</i>"}, {"owner": {"reputation": 13, "user_id": 5864818, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/fbb735d11f2ec60e5a9482353910f55a?s=128&d=identicon&r=PG&f=1", "display_name": "Carey ", "link": "https://stackoverflow.com/users/5864818/carey"}, "edited": false, "score": 0, "creation_date": 1458593043, "post_id": 36114241, "comment_id": 59920625, "body": "I realised that the question was kind of stupid"}], "answers": [{"comments": [{"owner": {"reputation": 13, "user_id": 5864818, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/fbb735d11f2ec60e5a9482353910f55a?s=128&d=identicon&r=PG&f=1", "display_name": "Carey ", "link": "https://stackoverflow.com/users/5864818/carey"}, "edited": false, "score": 1, "creation_date": 1458482597, "post_id": 36114398, "comment_id": 59870002, "body": "Thank you, I think I&#39;ve sorted at least some of the errors now. This is what comes of trying to learn perl on a tight deadline (very messy code)"}, {"owner": {"reputation": 87649, "user_id": 17389, "user_type": "registered", "accept_rate": 38, "profile_image": "https://www.gravatar.com/avatar/cd06d1314817ce946ab796af8750b56a?s=128&d=identicon&r=PG", "display_name": "ysth", "link": "https://stackoverflow.com/users/17389/ysth"}, "reply_to_user": {"reputation": 13, "user_id": 5864818, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/fbb735d11f2ec60e5a9482353910f55a?s=128&d=identicon&r=PG&f=1", "display_name": "Carey ", "link": "https://stackoverflow.com/users/5864818/carey"}, "edited": false, "score": 3, "creation_date": 1458490373, "post_id": 36114398, "comment_id": 59872780, "body": "@Carey especially when learning or on a tight deadline, it really helps to get one small piece at a time working, using known good input and verifying output"}, {"owner": {"reputation": 51521, "user_id": 2566198, "user_type": "registered", "accept_rate": 67, "profile_image": "https://i.stack.imgur.com/Y34ZA.jpg?s=128&g=1", "display_name": "Sobrique", "link": "https://stackoverflow.com/users/2566198/sobrique"}, "edited": false, "score": 2, "creation_date": 1458491075, "post_id": 36114398, "comment_id": 59873052, "body": "The best trick is: Turn on strict and warnings. Use <code>Data::Dumper</code> to check you&#39;re getting what you think you&#39;re getting at each point in the program."}], "tags": [], "owner": {"reputation": 51521, "user_id": 2566198, "user_type": "registered", "accept_rate": 67, "profile_image": "https://i.stack.imgur.com/Y34ZA.jpg?s=128&g=1", "display_name": "Sobrique", "link": "https://stackoverflow.com/users/2566198/sobrique"}, "is_accepted": false, "score": 3, "last_activity_date": 1458481367, "last_edit_date": 1458481367, "creation_date": 1458480936, "answer_id": 36114398, "question_id": 36114241, "link": "https://stackoverflow.com/questions/36114241/problems-with-my/36114398#36114398", "title": "Problems with &#39;my&#39;", "body": "<p>As a hint - any time you get a load of errors like that, it's <em>usually</em> because you've missed a semicolon or close bracket.</p>\n\n<p>Like on this line:</p>\n\n<pre><code>open(my $outfile, '&gt;', 'out.txt') or die\nclose (my $outfile)\n</code></pre>\n\n<p>You need a semilcolon there. You also need to not <code>my</code> it, because you've already declared <code>$outfile</code> as part of the <code>open</code> statement. </p>\n\n<p>Of course, it also doesn't make a great deal of sense to be closing it immediately after opening either. </p>\n\n<p>(Also - what's going on with that <code>!</code> in the shebang line?)</p>\n\n<p>There's also a few other quite strange things going on here. Like: </p>\n\n<pre><code>print $outfile \"$out_fh\"; # append the content of the temp out to the main outfile\n</code></pre>\n\n<p>I don't think that'll be doing what you want. Because <code>$out_fh</code> is a file handle, you'll print \"GLOB(0xDEADBEEF)\" or similar. </p>\n"}], "owner": {"reputation": 13, "user_id": 5864818, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/fbb735d11f2ec60e5a9482353910f55a?s=128&d=identicon&r=PG&f=1", "display_name": "Carey ", "link": "https://stackoverflow.com/users/5864818/carey"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 143, "favorite_count": 0, "closed_date": 1459376248, "answer_count": 1, "score": -9, "last_activity_date": 1458481367, "creation_date": 1458480159, "last_edit_date": 1592644375, "question_id": 36114241, "link": "https://stackoverflow.com/questions/36114241/problems-with-my", "closed_reason": "Not suitable for this site", "title": "Problems with &#39;my&#39;", "body": "<p>I have a program designed to pull lines out of multifasta and run them through THREADER:</p>\n<pre><code>#\u00a1/usr/bin/perl\nuse warnings;\nuse strict;\nuse File::Temp qw(tempfile);\n\nmy $filename = 'unchar_prot';   #open file\nopen (my $fh, '&lt;:encoding(UTF-8)', $filename)\n    or die &quot;Error - cannot open file&quot;;\n\nmy %id2seq = (); #create a hash\nmy $seq_id = '';\nwhile (my $line = &lt;$fh&gt;) {\n    chomp $line;\n    if ($line =~ /^&gt;(.+)/) { #Find lines starting in &gt;\n        $seq_id = $1;\n    } else {\n        $id2seq{$seq_id} .= $line; #Store seq and ID on hash\n    }\n}\n\nopen(my $outfile, '&gt;', 'out.txt') or die\nclose (my $outfile)\n\nwhile (my ($seq_id, $seq) = each %id2seq) { #Call key and value from hash \n    my ($temp_fh, $prot) = tempfile (&quot;tempXXXX&quot;, SUFFIX =&gt; '.seq'); #create a temporary file\n    print $temp_fh &quot;&gt;$seq_id\\n$seq\\n&quot;; #print the 2 lines to the temp file \n    my ($out_fh, $out) = tempfile(&quot;outXXXX&quot;, SUFFIX =&gt; '.txt'); # create a temporary outfile \n    system ('nohup threader -p $temp_fh $out_fh cdc6.lst &amp;'); #call threader \n    open($outfile, '&gt;&gt;', 'out.txt');\n    print $outfile &quot;$out_fh&quot;; # append the content of the temp out to the main outfile\n} \n</code></pre>\n<p>When I try to run it I get a lot of issues cropping up with 'my':</p>\n<blockquote>\n<p>&quot;my&quot; variable $outfile masks earlier declaration in same statement at testfile4.pl line 22.</p>\n<p>&quot;my&quot; variable $seq_id masks earlier declaration in same scope at testfile4.pl line 24.</p>\n<p>&quot;my&quot; variable $temp_fh masks earlier declaration in same statement at testfile4.pl line 26.</p>\n<p>&quot;my&quot; variable $seq_id masks earlier declaration in same statement at testfile4.pl line 26.</p>\n<p>&quot;my&quot; variable $seq masks earlier declaration in same statement at testfile4.pl line 26.</p>\n<p>syntax error at testfile4.pl line 24, near &quot;) {&quot;</p>\n<p>syntax error at testfile4.pl line 31, near &quot;}&quot;</p>\n<p>Execution of testfile4.pl aborted due to compilation errors.</p>\n</blockquote>\n<p>Does anyone know what's going on here? How can I get it to run?</p>\n<p>PS I know there are probably a lot of other issues with how this is written. I'm very much a beginner, I don't need this to be tidy or efficient yet, I just need it to work.</p>\n"}, {"tags": ["regex", "perl", "csv", "split"], "comments": [{"owner": {"reputation": 48798, "user_id": 223226, "user_type": "registered", "accept_rate": 93, "profile_image": "https://i.stack.imgur.com/iGqE4.png?s=128&g=1", "display_name": "mpapec", "link": "https://stackoverflow.com/users/223226/mpapec"}, "edited": false, "score": 1, "creation_date": 1458421321, "post_id": 36107033, "comment_id": 59856077, "body": "<a href=\"http://stackoverflow.com/a/633837/223226\">stackoverflow.com/a/633837/223226</a>"}, {"owner": {"reputation": 198290, "user_id": 1030675, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/957956ce51706d03f19a4dc85a767bb1?s=128&d=identicon&r=PG", "display_name": "choroba", "link": "https://stackoverflow.com/users/1030675/choroba"}, "reply_to_user": {"reputation": 48798, "user_id": 223226, "user_type": "registered", "accept_rate": 93, "profile_image": "https://i.stack.imgur.com/iGqE4.png?s=128&g=1", "display_name": "mpapec", "link": "https://stackoverflow.com/users/223226/mpapec"}, "edited": false, "score": 1, "creation_date": 1458421409, "post_id": 36107033, "comment_id": 59856096, "body": "@\u0421\u0443\u0445\u043e\u043927: The accepted answer there is even better."}, {"owner": {"reputation": 415, "user_id": 2049083, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/cc7fa8b5486247f7015f252df619282e?s=128&d=identicon&r=PG", "display_name": "MicrobicTiger", "link": "https://stackoverflow.com/users/2049083/microbictiger"}, "edited": false, "score": 0, "creation_date": 1458421621, "post_id": 36107033, "comment_id": 59856167, "body": "I saw the Text::CSV answers, I might be wrong but it looked like it requires the csv to be read in its entirety. I have 70million lines in this file. So I&#39;m trying to avoid that."}, {"owner": {"reputation": 48798, "user_id": 223226, "user_type": "registered", "accept_rate": 93, "profile_image": "https://i.stack.imgur.com/iGqE4.png?s=128&g=1", "display_name": "mpapec", "link": "https://stackoverflow.com/users/223226/mpapec"}, "edited": false, "score": 1, "creation_date": 1458421733, "post_id": 36107033, "comment_id": 59856211, "body": "@MicrobicTiger you can iterate line by line with Text::CSV over your file."}, {"owner": {"reputation": 48798, "user_id": 223226, "user_type": "registered", "accept_rate": 93, "profile_image": "https://i.stack.imgur.com/iGqE4.png?s=128&g=1", "display_name": "mpapec", "link": "https://stackoverflow.com/users/223226/mpapec"}, "reply_to_user": {"reputation": 198290, "user_id": 1030675, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/957956ce51706d03f19a4dc85a767bb1?s=128&d=identicon&r=PG", "display_name": "choroba", "link": "https://stackoverflow.com/users/1030675/choroba"}, "edited": false, "score": 1, "creation_date": 1458421785, "post_id": 36107033, "comment_id": 59856227, "body": "@choroba yes, Text::CSV might be better suited for the task."}, {"owner": {"reputation": 415, "user_id": 2049083, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/cc7fa8b5486247f7015f252df619282e?s=128&d=identicon&r=PG", "display_name": "MicrobicTiger", "link": "https://stackoverflow.com/users/2049083/microbictiger"}, "edited": false, "score": 0, "creation_date": 1458421914, "post_id": 36107033, "comment_id": 59856267, "body": "Okay, I&#39;ll look at that a bot more closely then."}], "answers": [{"comments": [{"owner": {"reputation": 51521, "user_id": 2566198, "user_type": "registered", "accept_rate": 67, "profile_image": "https://i.stack.imgur.com/Y34ZA.jpg?s=128&g=1", "display_name": "Sobrique", "link": "https://stackoverflow.com/users/2566198/sobrique"}, "edited": false, "score": 1, "creation_date": 1458488717, "post_id": 36108244, "comment_id": 59872153, "body": "Could rewrite that middle bit as <code>s&#47;,&#47;&#47;g for @fields[3..5];</code>"}, {"owner": {"reputation": 415, "user_id": 2049083, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/cc7fa8b5486247f7015f252df619282e?s=128&d=identicon&r=PG", "display_name": "MicrobicTiger", "link": "https://stackoverflow.com/users/2049083/microbictiger"}, "reply_to_user": {"reputation": 51521, "user_id": 2566198, "user_type": "registered", "accept_rate": 67, "profile_image": "https://i.stack.imgur.com/Y34ZA.jpg?s=128&g=1", "display_name": "Sobrique", "link": "https://stackoverflow.com/users/2566198/sobrique"}, "edited": false, "score": 0, "creation_date": 1458712260, "post_id": 36108244, "comment_id": 59978055, "body": "Thanks @sobrique - looks nicer that way."}], "tags": [], "owner": {"reputation": 415, "user_id": 2049083, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/cc7fa8b5486247f7015f252df619282e?s=128&d=identicon&r=PG", "display_name": "MicrobicTiger", "link": "https://stackoverflow.com/users/2049083/microbictiger"}, "is_accepted": true, "score": 0, "last_activity_date": 1458712296, "last_edit_date": 1458712296, "creation_date": 1458428318, "answer_id": 36108244, "question_id": 36107033, "link": "https://stackoverflow.com/questions/36107033/perl-split-8gb-csv-with-as-pattern/36108244#36108244", "title": "perl split 8gb csv with &quot;,&quot; as pattern", "body": "<p>I guess I should have been braver and had a crack with Text::CSV to start with rather than asking a question.\nMany thanks to \u0421\u0443\u0445\u043e\u043927 and choroba for pointing me in the right direction.</p>\n\n<p>Here is the code I ended up with. Probably not the tidiest.</p>\n\n<pre><code>use strict;\nuse warnings;\nuse Text::CSV;\n\nmy $file  = \"DEM_Export.csv\";\nmy $file2 = \"DEM_ExportProcessed.csv\";\n\nopen (FH2, '&gt;', $file2) or die \"Can't open file $file2: $!\";\nprint FH2 \"EASTING, NORTHING, ELEVATION,\\n\";\nprint \"Starting file processing...\\n\";\nmy $csv = Text::CSV-&gt;new ({ binary =&gt; 1, eol =&gt; $/ });\nopen my $io, \"&lt;\", $file or die \"$file: $!\";\nwhile (my $row = $csv-&gt;getline ($io)) {\n    my @fields = @$row;\n    s/,//g for @fields[3..5];     \n    my $string = sprintf(\"%.3f,%.3f,%.3f\\n\", $fields[4],$fields[5],$fields[3]); \n    print FH2 $string;\n}\nprint \"Finished!\";\nclose FH2;  \n</code></pre>\n\n<p>Worked a treat!\nThank you.</p>\n"}, {"comments": [{"owner": {"reputation": 415, "user_id": 2049083, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/cc7fa8b5486247f7015f252df619282e?s=128&d=identicon&r=PG", "display_name": "MicrobicTiger", "link": "https://stackoverflow.com/users/2049083/microbictiger"}, "edited": false, "score": 0, "creation_date": 1458429149, "post_id": 36108319, "comment_id": 59858619, "body": "Thanks Borodin, I wasn&#39;t brave enough to take on a new module straight up. In the end I have used this to solve the problem."}, {"owner": {"reputation": 123805, "user_id": 622310, "user_type": "registered", "accept_rate": 33, "profile_image": "https://www.gravatar.com/avatar/8b6d35219e1808520bc238b28161e2e6?s=128&d=identicon&r=PG", "display_name": "Borodin", "link": "https://stackoverflow.com/users/622310/borodin"}, "reply_to_user": {"reputation": 415, "user_id": 2049083, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/cc7fa8b5486247f7015f252df619282e?s=128&d=identicon&r=PG", "display_name": "MicrobicTiger", "link": "https://stackoverflow.com/users/2049083/microbictiger"}, "edited": false, "score": 2, "creation_date": 1458429423, "post_id": 36108319, "comment_id": 59858688, "body": "@MicrobicTiger: That&#39;s understandable. If you&#39;re not certain what a module will do you may well spend hours getting into it only to find it&#39;s not what you needed. I posted this because I thought you may like to see how concise it could be. Your own code unnecessarily removes quotation marks from the data, which are already parsed out by the module on input. If your run time is longer than you would like then there&#39;s a <a href=\"https://p3rl.org/Text::CSV_XS\" rel=\"nofollow noreferrer\">Text::CSV_XS</a> that has the same API but is written partially in C so will run a little faster."}, {"owner": {"reputation": 123805, "user_id": 622310, "user_type": "registered", "accept_rate": 33, "profile_image": "https://www.gravatar.com/avatar/8b6d35219e1808520bc238b28161e2e6?s=128&d=identicon&r=PG", "display_name": "Borodin", "link": "https://stackoverflow.com/users/622310/borodin"}, "reply_to_user": {"reputation": 415, "user_id": 2049083, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/cc7fa8b5486247f7015f252df619282e?s=128&d=identicon&r=PG", "display_name": "MicrobicTiger", "link": "https://stackoverflow.com/users/2049083/microbictiger"}, "edited": false, "score": 2, "creation_date": 1458429642, "post_id": 36108319, "comment_id": 59858737, "body": "@MicrobicTiger: I notice that you&#39;ve also reordered your output fields from the final three in the original, so I&#39;ve duplicated that in my own code. Please mark one of the solutions as accepted so that others can see that your problem has been resolved\u2014your own is fine if that&#39;s the one that you prefer"}, {"owner": {"reputation": 415, "user_id": 2049083, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/cc7fa8b5486247f7015f252df619282e?s=128&d=identicon&r=PG", "display_name": "MicrobicTiger", "link": "https://stackoverflow.com/users/2049083/microbictiger"}, "edited": false, "score": 0, "creation_date": 1458434116, "post_id": 36108319, "comment_id": 59859826, "body": "I wondered if I might have been pulling those quotes out unnecessarily, I have edited my code to reflect that. I would have chosen my own answer once I had posted it. It appears I have a 2 day lockout before I can do that. Appreciate your time teaching me!"}], "tags": [], "owner": {"reputation": 123805, "user_id": 622310, "user_type": "registered", "accept_rate": 33, "profile_image": "https://www.gravatar.com/avatar/8b6d35219e1808520bc238b28161e2e6?s=128&d=identicon&r=PG", "display_name": "Borodin", "link": "https://stackoverflow.com/users/622310/borodin"}, "is_accepted": false, "score": 4, "last_activity_date": 1467889650, "last_edit_date": 1467889650, "creation_date": 1458428855, "answer_id": 36108319, "question_id": 36107033, "link": "https://stackoverflow.com/questions/36107033/perl-split-8gb-csv-with-as-pattern/36108319#36108319", "title": "perl split 8gb csv with &quot;,&quot; as pattern", "body": "<p>This is really very straightforward using the <a href=\"https://p3rl.org/Text::CSV\" rel=\"nofollow\"><code>Text::CSV</code></a> to handle the nastiness of CSV data</p>\n\n<p>Here's an example, which works fine with the sample data you have shown. As long as your input file is plain ASCII and the rows are about the size you have shown it should work fine</p>\n\n<p>It prints its output to STDOUT, so you'll want to use a command-line redirect to put it into the file you want</p>\n\n<pre><code>use strict;\nuse warnings 'all';\n\nuse Text::CSV;\n\nmy $csv_file = 'DEM_Export.csv';\n\nopen my $in_fh, '&lt;', $csv_file or die qq{Unable to open \"$csv_file\" for input: $!};\n\nmy $csv = Text::CSV-&gt;new({ eol =&gt; \"\\n\" });\n\nprint \"EASTING,NORTHING,ELEVATION\\n\";\n\nwhile ( my $row = $csv-&gt;getline($in_fh) ) {\n\n   $csv-&gt;print(\\*STDOUT, [ map tr/,//dr, @$row[-2,-1,-3] ] );\n}\n</code></pre>\n\n<h3>output</h3>\n\n<pre><code>1455503.936,5173996.331,1058.83\n</code></pre>\n"}], "owner": {"reputation": 415, "user_id": 2049083, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/cc7fa8b5486247f7015f252df619282e?s=128&d=identicon&r=PG", "display_name": "MicrobicTiger", "link": "https://stackoverflow.com/users/2049083/microbictiger"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 100, "favorite_count": 0, "accepted_answer_id": 36108244, "answer_count": 2, "score": 0, "last_activity_date": 1467889650, "creation_date": 1458420893, "last_edit_date": 1458434331, "question_id": 36107033, "link": "https://stackoverflow.com/questions/36107033/perl-split-8gb-csv-with-as-pattern", "title": "perl split 8gb csv with &quot;,&quot; as pattern", "body": "<p>I recognise this might be a duplicate but the size of the file I have to split requires a method with doesn't load the csv into memory before processing it. ie I'm looking for a line by line method to read and split and output my file. I I only need my output to be the last 3 field without the quotes and without the thousand delimiting comma.</p>\n\n<p>I have a file of arcGIS coordinates which contain quotes and commas internal to the fields. Data example below.</p>\n\n<p>\"0\",\"0\",\"1\",\"1\",\"1,058.83\",\"1,455,503.936\",\"5,173,996.331\"</p>\n\n<p>I have been trying to do this using variations on split( '\",\"' , $line);.\nHere'e my code.</p>\n\n<pre><code>use strict;\nuse warnings;\n\nopen (FH, '&lt;', \"DEM_Export.csv\") or die \"Can't open file DEM_Export.csv\";\n\nopen (FH2, '&gt;', \"DEM_ExportProcessed.csv\") or die \"Can't open file DEM_ExportProcessed.csv\"; \nprint FH2 \"EASTING, NORTHING, ELEVATION,\\n\";\nmy $count = 0;\nforeach my $line (&lt;FH&gt;) {\n    chomp;\n    # if ($count == 0){next;}\n\n    print $line, \"\\n\";\n    my @list = split( '\",\"' , $line);\n    print \"1st print $list[5],$list[6],$list[4]\\n\";\n    $list[4] =~ s/,//g;\n    $list[5] =~ s/,//g;\n    $list[6] =~ s/,//g;\n    $list[4] =~ s/\"//g;\n    $list[5] =~ s/\"//g;\n    $list[6] =~ s/\"//g;\n    print \"2nd print $list[5],$list[6],$list[4]\\n\";\n    if ($count == 10) { \n        exit;\n    }      \n    my $string = sprintf(\"%.3f,%.3f,%.3f\\n\", $list[5],$list[6],$list[4]); \n    print FH2 $string;\n    $count++;\n}\n\nclose FH;\nclose FH2;\n</code></pre>\n\n<p>I'm getting close my my wits end with this and really need a solution.\nAny help will be gratefully received.\nCheers</p>\n"}, {"tags": ["perl", "variable-assignment", "filehandle"], "comments": [{"owner": {"reputation": 663663, "user_id": 15168, "user_type": "registered", "accept_rate": 100, "profile_image": "https://i.stack.imgur.com/WtEI9.png?s=128&g=1", "display_name": "Jonathan Leffler", "link": "https://stackoverflow.com/users/15168/jonathan-leffler"}, "edited": false, "score": 0, "creation_date": 1458415380, "post_id": 36106061, "comment_id": 59854191, "body": "<code>my %fh; foreach my $token(@tokenslines) {   open(my $fh{$token}, &#39;&gt;&gt;&#39;, $token.&quot;data.txt&quot;) or die &quot;A horrible death&quot;; }</code>?"}, {"owner": {"reputation": 30226, "user_id": 2107876, "user_type": "registered", "accept_rate": 88, "profile_image": "https://www.gravatar.com/avatar/975e7190aac72397465126f04f46f3f6?s=128&d=identicon&r=PG", "display_name": "laune", "link": "https://stackoverflow.com/users/2107876/laune"}, "edited": false, "score": 0, "creation_date": 1458415865, "post_id": 36106061, "comment_id": 59854372, "body": "A clean solution might come with a good OO flavouring thrown into the kettle ;-)"}, {"owner": {"reputation": 51521, "user_id": 2566198, "user_type": "registered", "accept_rate": 67, "profile_image": "https://i.stack.imgur.com/Y34ZA.jpg?s=128&g=1", "display_name": "Sobrique", "link": "https://stackoverflow.com/users/2566198/sobrique"}, "edited": false, "score": 0, "creation_date": 1458419647, "post_id": 36106061, "comment_id": 59855544, "body": "Oh, and some sample data would be good - this looks like XML, so an XML parser is recommended."}, {"owner": {"reputation": 123805, "user_id": 622310, "user_type": "registered", "accept_rate": 33, "profile_image": "https://www.gravatar.com/avatar/8b6d35219e1808520bc238b28161e2e6?s=128&d=identicon&r=PG", "display_name": "Borodin", "link": "https://stackoverflow.com/users/622310/borodin"}, "edited": false, "score": 0, "creation_date": 1458419983, "post_id": 36106061, "comment_id": 59855633, "body": "Please <i>always</i> <code>use strict</code> and <code>use warnings &#39;all&#39;</code>. Your code would throw several warnings telling you that your <code>$token</code> variable is uninitialized, with the result that you are reopening the file <code>data.txt</code> for output multiple times on the file handle <code>fh</code>"}, {"owner": {"reputation": 22591, "user_id": 1150683, "user_type": "registered", "accept_rate": 96, "profile_image": "https://www.gravatar.com/avatar/4171d32ed59549af71dff8c1682f17cc?s=128&d=identicon&r=PG&f=1", "display_name": "Bram Vanroy", "link": "https://stackoverflow.com/users/1150683/bram-vanroy"}, "reply_to_user": {"reputation": 123805, "user_id": 622310, "user_type": "registered", "accept_rate": 33, "profile_image": "https://www.gravatar.com/avatar/8b6d35219e1808520bc238b28161e2e6?s=128&d=identicon&r=PG", "display_name": "Borodin", "link": "https://stackoverflow.com/users/622310/borodin"}, "edited": false, "score": 0, "creation_date": 1458421671, "post_id": 36106061, "comment_id": 59856191, "body": "@Borodin I did use those two, but seems to clutter the core to the problem here so I didn&#39;t include it in the question. I typed the example from scratch and didn&#39;t test it because I was just throwing out the general idea."}, {"owner": {"reputation": 22591, "user_id": 1150683, "user_type": "registered", "accept_rate": 96, "profile_image": "https://www.gravatar.com/avatar/4171d32ed59549af71dff8c1682f17cc?s=128&d=identicon&r=PG&f=1", "display_name": "Bram Vanroy", "link": "https://stackoverflow.com/users/1150683/bram-vanroy"}, "reply_to_user": {"reputation": 51521, "user_id": 2566198, "user_type": "registered", "accept_rate": 67, "profile_image": "https://i.stack.imgur.com/Y34ZA.jpg?s=128&g=1", "display_name": "Sobrique", "link": "https://stackoverflow.com/users/2566198/sobrique"}, "edited": false, "score": 0, "creation_date": 1458421723, "post_id": 36106061, "comment_id": 59856206, "body": "@Sobrique I was typing up some example for the sake of this question, I didn&#39;t test this code nor is the data representative. I am not working with XML but with tab separated data."}], "answers": [{"comments": [{"owner": {"reputation": 5701, "user_id": 35812, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/6e663162cefd6ac833e0555933b8583f?s=128&d=identicon&r=PG", "display_name": "Chris Charley", "link": "https://stackoverflow.com/users/35812/chris-charley"}, "edited": false, "score": 0, "creation_date": 1458417968, "post_id": 36106360, "comment_id": 59855023, "body": "From <a href=\"http://perldoc.perl.org/functions/print.html\" rel=\"nofollow noreferrer\">print</a>, it says: <i>If you&#39;re storing handles in an array or hash, or in general whenever you&#39;re using any expression more complex than a bareword handle or a plain, unsubscripted scalar variable to retrieve it, you will have to use a block returning the filehandle value instead, in which case the LIST may not be omitted:</i>. So, I think this says the block is mandatory."}, {"owner": {"reputation": 22591, "user_id": 1150683, "user_type": "registered", "accept_rate": 96, "profile_image": "https://www.gravatar.com/avatar/4171d32ed59549af71dff8c1682f17cc?s=128&d=identicon&r=PG&f=1", "display_name": "Bram Vanroy", "link": "https://stackoverflow.com/users/1150683/bram-vanroy"}, "edited": false, "score": 0, "creation_date": 1458418091, "post_id": 36106360, "comment_id": 59855070, "body": "So, even though $token and $datatoken would be the same thing, we cannot use the same variable name? (Note that you forgot the embedded for loop.)"}, {"owner": {"reputation": 51521, "user_id": 2566198, "user_type": "registered", "accept_rate": 67, "profile_image": "https://i.stack.imgur.com/Y34ZA.jpg?s=128&g=1", "display_name": "Sobrique", "link": "https://stackoverflow.com/users/2566198/sobrique"}, "edited": false, "score": 0, "creation_date": 1458418120, "post_id": 36106360, "comment_id": 59855083, "body": "Yeah, good point. I wasn&#39;t sure - I know I&#39;ve hit places where it was, I just couldn&#39;t remember if this was one."}, {"owner": {"reputation": 51521, "user_id": 2566198, "user_type": "registered", "accept_rate": 67, "profile_image": "https://i.stack.imgur.com/Y34ZA.jpg?s=128&g=1", "display_name": "Sobrique", "link": "https://stackoverflow.com/users/2566198/sobrique"}, "edited": false, "score": 0, "creation_date": 1458418378, "post_id": 36106360, "comment_id": 59855177, "body": "You can use the same variable name if you wish. I just used what you were using. As long as the variable contains &#39;coconut&#39; it will print to the coconut filehandle. You should probably include an &#39;or warn&#39; after the print, to make sure it does work."}, {"owner": {"reputation": 123805, "user_id": 622310, "user_type": "registered", "accept_rate": 33, "profile_image": "https://www.gravatar.com/avatar/8b6d35219e1808520bc238b28161e2e6?s=128&d=identicon&r=PG", "display_name": "Borodin", "link": "https://stackoverflow.com/users/622310/borodin"}, "edited": false, "score": 0, "creation_date": 1458419881, "post_id": 36106360, "comment_id": 59855606, "body": "<i>&quot;It&#39;s very nasty to use a variable variable name&quot;</i> It&#39;s actually <i>wrong</i> here because <code>open my $token.&#39;fh&#39;, &#39;&gt;&gt;&#39;, $token.&quot;data.txt&quot;</code> will declare a new <code>$token</code> set to <code>undef</code>, and then do <code>open &#39;fh&#39;, &#39;&gt;&gt;&#39;, &#39;data&#39;</code>. It will warn about the uninitialised value in each case of course"}], "tags": [], "owner": {"reputation": 51521, "user_id": 2566198, "user_type": "registered", "accept_rate": 67, "profile_image": "https://i.stack.imgur.com/Y34ZA.jpg?s=128&g=1", "display_name": "Sobrique", "link": "https://stackoverflow.com/users/2566198/sobrique"}, "is_accepted": false, "score": 3, "last_activity_date": 1458418174, "last_edit_date": 1458418174, "creation_date": 1458416866, "answer_id": 36106360, "question_id": 36106061, "link": "https://stackoverflow.com/questions/36106061/using-the-same-variable-to-open-and-close-files-in-foreach-loop-in-perl/36106360#36106360", "title": "Using the same variable to open and close files in foreach loop in Perl", "body": "<p>Don't do this. It's very nasty to use a variable variable name. See this link for a more detailed explanation of why: <a href=\"http://perl.plover.com/varvarname.html\" rel=\"nofollow\">http://perl.plover.com/varvarname.html</a></p>\n\n<p>You're much better off if you need named filehandles, to use a hash of filehandles. A hash is a portable namespace which is exactly what you need here. </p>\n\n<p>So:</p>\n\n<pre><code>my %fh_for; \nforeach my $token ( @tokenlines ) { \n   open ( my $fh_for{$token}, '&gt;', \"$token.txt\" ) or die $!; \n}\n\nforeach my $datalinetoken (@tokenslines) {\n    if ($datalinetoken eq $datatoken ) {\n      # print $somedata to specific file\n      print {$fh_for{$datalinetoken}} \"average run time\\n\";\n    }\n}\n</code></pre>\n\n<p>Then you can write to a filehandle keyed by your token name, without needing the icky messyness of dynamic variable naming. Note, I've included your fh in <code>{}</code> - it's necessary to tell perl to 'evaluate this'. </p>\n"}, {"tags": [], "owner": {"reputation": 123805, "user_id": 622310, "user_type": "registered", "accept_rate": 33, "profile_image": "https://www.gravatar.com/avatar/8b6d35219e1808520bc238b28161e2e6?s=128&d=identicon&r=PG", "display_name": "Borodin", "link": "https://stackoverflow.com/users/622310/borodin"}, "is_accepted": true, "score": 3, "last_activity_date": 1467889671, "last_edit_date": 1467889671, "creation_date": 1458419090, "answer_id": 36106733, "question_id": 36106061, "link": "https://stackoverflow.com/questions/36106061/using-the-same-variable-to-open-and-close-files-in-foreach-loop-in-perl/36106733#36106733", "title": "Using the same variable to open and close files in foreach loop in Perl", "body": "<p>You can use the same global variable name repeatedly as long as they are declared in different scopes. Perl will warn you if you declare the same variable twice. I have used the same name <code>$fh</code> for a file handle in my code below without any consequences</p>\n\n<p>In this case you need the file handles to be opened for most of the program, so you need a whole set of them, and it looks like it's easiest to use a hash, so that you can just pick the correct file handle by indexing the hash with the token string</p>\n\n<p>It would look something like this. Note that I've used <code>use autodie</code> to avoid having to check the status of every IO operation explicitly. You may also want to consider whether you will need to handle the difference between <code>apple</code>, <code>APPLE</code> and <code>Apple</code>, which at the moment will create three file handles (and would confuse Windows dreadfully!)</p>\n\n<p>Oh, and by the way, it's far nicer just to process each file line by line with a <code>while</code> instead of reading it all into an array and processing the data from there</p>\n\n<pre><code>use strict;\nuse warnings 'all';\nuse v5.14.1; # For autodie\nuse autodie;\n\nuse constant TOKENS_FILE =&gt; 'tokens.txt';\nuse constant XML_FILE    =&gt; 'data.xml';\n\nmy %token_fh;\n\n{\n    open my $fh, '&lt;', TOKENS_FILE;\n\n    while ( &lt;$fh&gt; ) {\n        chomp;\n        open $token_fh{$_}, '&gt;', \"${_}data.txt\";\n    }\n}\n\n{\n    open my $fh, '&lt;', XML_FILE;\n\n    while ( &lt;$fh&gt; ) {\n\n        next unless my ($token) = m|&lt;fruit&gt;(.+)&lt;/fruit&gt;|;\n        next unless my $fh = $token_fh{$token};\n\n        print $fh \"average run time\\n\";\n    }\n}\n\nclose $_ for values %token_fh;\n</code></pre>\n\n<p><br/></p>\n\n<hr>\n\n<p>An alternative way would be to forget about the tokens file altogether, and just open files as they are encountered in the XML. That would look like this</p>\n\n<pre><code>use strict;\nuse warnings 'all';\nuse v5.14.1; # For autodie\nuse autodie;\n\nuse constant XML_FILE    =&gt; 'data.xml';\n\nmy %token_fh;\n\nopen my $fh, '&lt;', XML_FILE;\n\nwhile ( &lt;$fh&gt; ) {\n\n    next unless my ($token) = m|&lt;fruit&gt;(.+)&lt;/fruit&gt;|;\n\n    unless ( exists $token_fh{$token} ) {\n        open $token_fh{$token}, '&gt;', \"${token}data.txt\";\n    }\n    my $fh = $token_fh{$token};\n\n    print $fh \"average run time\\n\";\n}\n\nclose $_ for values %token_fh;\n</code></pre>\n"}], "owner": {"reputation": 22591, "user_id": 1150683, "user_type": "registered", "accept_rate": 96, "profile_image": "https://www.gravatar.com/avatar/4171d32ed59549af71dff8c1682f17cc?s=128&d=identicon&r=PG&f=1", "display_name": "Bram Vanroy", "link": "https://stackoverflow.com/users/1150683/bram-vanroy"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 1398, "favorite_count": 0, "accepted_answer_id": 36106733, "answer_count": 2, "score": 2, "last_activity_date": 1467889671, "creation_date": 1458415164, "question_id": 36106061, "link": "https://stackoverflow.com/questions/36106061/using-the-same-variable-to-open-and-close-files-in-foreach-loop-in-perl", "title": "Using the same variable to open and close files in foreach loop in Perl", "body": "<p>I am having difficulty getting my head around this considering variable declarations. Scenario: I have a file with ten words, one per line. First I want to loop through the file and create new files based on the data. Example</p>\n\n<pre><code>banana\napple\ncoconut\nstrawberry\n\n--&gt;\n\nbanana.txt\napple.txt\ncoconut.txt\nstrawberry.txt\n</code></pre>\n\n<p>The first problem that I'm having is: <strong>how do I assign a unique variable for the file handle for each file in the loop?</strong> I would write something like this but I don't know if that's the way to go:</p>\n\n<pre><code>open(my $tokensfh, '&lt;', $tokensfile)\n  or die \"cannot open file $tokensfile\";\nchomp(my @tokenslines = &lt;$tokensfh&gt;);\nclose $tokensfh;\n\nforeach my $token(@tokenslines) {\n  open(my $token.'fh', '&gt;&gt;', $token.\"data.txt\");\n} \n</code></pre>\n\n<p>A bit further down the line I match other data against the $token, but I'm unsure how to deal with the variables:</p>\n\n<pre><code>foreach my $somedata(@data) {\n    my $datatoken = $somedata=~  /&lt;fruit&gt;(.+)&lt;\\/fruit&gt;/;\n\n    # Do I need a new variable name here?\n    foreach my $tokensline(@tokenslines) {\n        if ($datalinetoken eq $datatoken ) {\n          # print $somedata to specific file\n          print $tokensline.'fh' \"average run time\\n\";\n        }\n    }\n}\n</code></pre>\n\n<p><strong>Do I need a new variable name?</strong> If not, how can I re-use the earlier variable without getting variable assignment issues? Is there a better way to do this? (Please answer all questions.)</p>\n"}, {"tags": ["perl", "shell"], "comments": [{"owner": {"reputation": 5334, "user_id": 5830574, "user_type": "registered", "accept_rate": 93, "profile_image": "https://i.stack.imgur.com/kCmqs.png?s=128&g=1", "display_name": "PerlDuck", "link": "https://stackoverflow.com/users/5830574/perlduck"}, "edited": false, "score": 2, "creation_date": 1458406387, "post_id": 36104053, "comment_id": 59851163, "body": "Would you be so kind to show us your effort so far and where you got stuck? And please observe <a href=\"https://stackoverflow.com/questions/how-to-ask\">How to Ask</a>."}], "answers": [{"comments": [{"owner": {"reputation": 30226, "user_id": 2107876, "user_type": "registered", "accept_rate": 88, "profile_image": "https://www.gravatar.com/avatar/975e7190aac72397465126f04f46f3f6?s=128&d=identicon&r=PG", "display_name": "laune", "link": "https://stackoverflow.com/users/2107876/laune"}, "edited": false, "score": 0, "creation_date": 1458455841, "post_id": 36104273, "comment_id": 59863395, "body": "My cal (on Linux) has 2 trailing spaces in these lines, so your pipeline fails. Cut might be a more reliable option, and made to work for other days of the week as well."}], "tags": [], "owner": {"reputation": 4887, "user_id": 897295, "user_type": "registered", "accept_rate": 100, "profile_image": "https://i.stack.imgur.com/Kql9J.png?s=128&g=1", "display_name": "mauro", "link": "https://stackoverflow.com/users/897295/mauro"}, "is_accepted": false, "score": 0, "last_activity_date": 1458405424, "creation_date": 1458405424, "answer_id": 36104273, "question_id": 36104053, "link": "https://stackoverflow.com/questions/36104053/how-to-get-second-saturday-of-a-month-using-shell-perl-script/36104273#36104273", "title": "How to get second saturday of a month using shell/perl script?", "body": "<p>Very  easy:</p>\n\n<pre><code>$ cal | sed -n '4s/^.* //gp'\n12\n</code></pre>\n\n<p>This will print the day of the second Saturday in this month (March 2016). If you want the second Saturday of March 1959:</p>\n\n<pre><code>$ cal 3 1959 | sed -n '4s/^.* //gp'\n14\n</code></pre>\n\n<p>If you want the First Saturday replace <code>4s</code> with <code>3s</code>, if you want the third Saturday use <code>5s</code>...</p>\n"}, {"tags": [], "owner": {"reputation": 123805, "user_id": 622310, "user_type": "registered", "accept_rate": 33, "profile_image": "https://www.gravatar.com/avatar/8b6d35219e1808520bc238b28161e2e6?s=128&d=identicon&r=PG", "display_name": "Borodin", "link": "https://stackoverflow.com/users/622310/borodin"}, "is_accepted": false, "score": 2, "last_activity_date": 1458410229, "last_edit_date": 1458410229, "creation_date": 1458409330, "answer_id": 36104989, "question_id": 36104053, "link": "https://stackoverflow.com/questions/36104053/how-to-get-second-saturday-of-a-month-using-shell-perl-script/36104989#36104989", "title": "How to get second saturday of a month using shell/perl script?", "body": "<p>You can use the <a href=\"https://p3rl.org/DateTime::Format::Natural\" rel=\"nofollow\"><code>DateTime::Format::Natural</code></a> module, like this</p>\n\n<pre><code>$ echo 2nd saturday in april | perl -MDateTime::Format::Natural -E 'say DateTime::Format::Natural-&gt;new-&gt;parse_datetime(&lt;&gt;)-&gt;mdy'\n</code></pre>\n\n<h3>output</h3>\n\n<pre><code>04-09-2016\n</code></pre>\n\n<p>Or the module comes with a command-line tool <code>dateparse</code> which works like this</p>\n\n<pre><code>$ dateparse\n\ndateparse&gt; 2nd saturday in april\n2016-04-09 00:00:00\n\ndateparse&gt; q\n\n$\n</code></pre>\n"}], "owner": {"reputation": 1, "user_id": 6087032, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/ce9862e68bd727d433e58081b569b8ee?s=128&d=identicon&r=PG&f=1", "display_name": "mercy maluja", "link": "https://stackoverflow.com/users/6087032/mercy-maluja"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 430, "favorite_count": 0, "closed_date": 1458417783, "answer_count": 2, "score": -8, "last_activity_date": 1458410229, "creation_date": 1458404122, "question_id": 36104053, "link": "https://stackoverflow.com/questions/36104053/how-to-get-second-saturday-of-a-month-using-shell-perl-script", "closed_reason": "Needs more focus", "title": "How to get second saturday of a month using shell/perl script?", "body": "<p>Please provide me the scripting code to find out the second saturday in a month</p>\n"}, {"tags": ["c", "perl", "cgi"], "comments": [{"owner": {"reputation": 56828, "user_id": 4062354, "user_type": "registered", "accept_rate": 100, "profile_image": "https://i.stack.imgur.com/xcV4d.png?s=128&g=1", "display_name": "MikeCAT", "link": "https://stackoverflow.com/users/4062354/mikecat"}, "edited": false, "score": 4, "creation_date": 1458391715, "post_id": 36101900, "comment_id": 59846683, "body": "is the executable file in the correct directory? Using absolute path may be good."}, {"owner": {"reputation": 113221, "user_id": 100754, "user_type": "registered", "accept_rate": 90, "profile_image": "https://www.gravatar.com/avatar/7804ebae32fbadef38537d74a915c22f?s=128&d=identicon&r=PG", "display_name": "Sinan &#220;n&#252;r", "link": "https://stackoverflow.com/users/100754/sinan-%c3%9cn%c3%bcr"}, "edited": false, "score": 0, "creation_date": 1458394767, "post_id": 36101900, "comment_id": 59847610, "body": "In addition, use a list of arguments to <code>system</code>, and <a href=\"https://metacpan.org/pod/perlfunc#system-LIST\" rel=\"nofollow noreferrer\">check the return value</a>: <code>system &#39;&#47;absolute&#47;path&#47;read_image&#39;, &#39;http:&#47;&#47;....&#47;animals-42.jpg&#39;</code>."}, {"owner": {"reputation": 20255, "user_id": 645128, "user_type": "registered", "accept_rate": 84, "profile_image": "https://i.stack.imgur.com/G0V8Q.jpg?s=128&g=1", "display_name": "ryyker", "link": "https://stackoverflow.com/users/645128/ryyker"}, "edited": false, "score": 0, "creation_date": 1458399025, "post_id": 36101900, "comment_id": 59848859, "body": "Nice moniker, but how can you be addressed (eg in comments) if someone tries to respond?  I am not sure how your moniker can be reproduced - @[?]"}, {"owner": {"reputation": 5334, "user_id": 5830574, "user_type": "registered", "accept_rate": 93, "profile_image": "https://i.stack.imgur.com/kCmqs.png?s=128&g=1", "display_name": "PerlDuck", "link": "https://stackoverflow.com/users/5830574/perlduck"}, "reply_to_user": {"reputation": 20255, "user_id": 645128, "user_type": "registered", "accept_rate": 84, "profile_image": "https://i.stack.imgur.com/G0V8Q.jpg?s=128&g=1", "display_name": "ryyker", "link": "https://stackoverflow.com/users/645128/ryyker"}, "edited": false, "score": 0, "creation_date": 1458402023, "post_id": 36101900, "comment_id": 59849791, "body": "@ryyker, I got it. Interesting question, though! I cut&#39;n&#39;pasted the symbols \u8d75\u5b50\u9f99 from his profile. Not sure whether it works. The <code>tab</code> does not work at last. But the OP is always notified."}, {"owner": {"reputation": 20255, "user_id": 645128, "user_type": "registered", "accept_rate": 84, "profile_image": "https://i.stack.imgur.com/G0V8Q.jpg?s=128&g=1", "display_name": "ryyker", "link": "https://stackoverflow.com/users/645128/ryyker"}, "reply_to_user": {"reputation": 5334, "user_id": 5830574, "user_type": "registered", "accept_rate": 93, "profile_image": "https://i.stack.imgur.com/kCmqs.png?s=128&g=1", "display_name": "PerlDuck", "link": "https://stackoverflow.com/users/5830574/perlduck"}, "edited": false, "score": 0, "creation_date": 1458402645, "post_id": 36101900, "comment_id": 59849944, "body": "@PerlDog - \u8d75\u5b50\u9f99, Cool, did not know that it would be that easy.  Thanks."}, {"owner": {"reputation": 1, "user_id": 5815240, "user_type": "registered", "profile_image": "https://graph.facebook.com/631391330332340/picture?type=large", "display_name": "zhao_zilong", "link": "https://stackoverflow.com/users/5815240/zhao-zilong"}, "reply_to_user": {"reputation": 56828, "user_id": 4062354, "user_type": "registered", "accept_rate": 100, "profile_image": "https://i.stack.imgur.com/xcV4d.png?s=128&g=1", "display_name": "MikeCAT", "link": "https://stackoverflow.com/users/4062354/mikecat"}, "edited": false, "score": 0, "creation_date": 1458482922, "post_id": 36101900, "comment_id": 59870104, "body": "@MikeCAT   i tried this <code>system(&quot;&#47;Library&#47;WebServer&#47;CGI-Executables&#47;read_image&quot;,&quot;http&zwnj;&#8203;:&#47;&#47;www.allkpop.com&#47;u&zwnj;&#8203;pload&#47;2015&#47;07&#47;conten&zwnj;&#8203;t&#47;Shin-Se-Kyung_1437&zwnj;&#8203;525895_shin2.jpg&quot;); </code>  but it still did&#39;t work, when i make command like <code>cat test.txt</code>  il works well, so i must do something wrong there"}, {"owner": {"reputation": 1, "user_id": 5815240, "user_type": "registered", "profile_image": "https://graph.facebook.com/631391330332340/picture?type=large", "display_name": "zhao_zilong", "link": "https://stackoverflow.com/users/5815240/zhao-zilong"}, "reply_to_user": {"reputation": 113221, "user_id": 100754, "user_type": "registered", "accept_rate": 90, "profile_image": "https://www.gravatar.com/avatar/7804ebae32fbadef38537d74a915c22f?s=128&d=identicon&r=PG", "display_name": "Sinan &#220;n&#252;r", "link": "https://stackoverflow.com/users/100754/sinan-%c3%9cn%c3%bcr"}, "edited": false, "score": 1, "creation_date": 1458485066, "post_id": 36101900, "comment_id": 59870836, "body": "@Sinan&#220;n&#252;r   return value is 256"}, {"owner": {"reputation": 5334, "user_id": 5830574, "user_type": "registered", "accept_rate": 93, "profile_image": "https://i.stack.imgur.com/kCmqs.png?s=128&g=1", "display_name": "PerlDuck", "link": "https://stackoverflow.com/users/5830574/perlduck"}, "edited": false, "score": 0, "creation_date": 1458488797, "post_id": 36101900, "comment_id": 59872185, "body": "@\u8d75\u5b50\u9f99 That&#39;s &quot;good&quot; news. According to the <a href=\"http://perldoc.perl.org/functions/system.html\" rel=\"nofollow noreferrer\">docs</a> this means your <code>read_image</code> <i>was</i> actually executed, but returned itself <code>rc=1</code>. (If <code>system</code> couldn&#39;t execute your script, it would have returned <code>-1</code>). So there must be a problem with <code>read_image</code>, not with the call. We are narrowing it down :-)"}, {"owner": {"reputation": 5334, "user_id": 5830574, "user_type": "registered", "accept_rate": 93, "profile_image": "https://i.stack.imgur.com/kCmqs.png?s=128&g=1", "display_name": "PerlDuck", "link": "https://stackoverflow.com/users/5830574/perlduck"}, "edited": false, "score": 0, "creation_date": 1458489071, "post_id": 36101900, "comment_id": 59872271, "body": "Try <code>system(&quot;$FindBin::Bin&#47;read_image http:&#47;&#47;... 2&gt;&#47;tmp&#47;my-error.txt&quot;)</code> and look into the file /tmp/my-error.txt after failure. Perhaps it contains sth. useful. Do you have access to apache&#39;s error.log? Look there."}, {"owner": {"reputation": 1, "user_id": 5815240, "user_type": "registered", "profile_image": "https://graph.facebook.com/631391330332340/picture?type=large", "display_name": "zhao_zilong", "link": "https://stackoverflow.com/users/5815240/zhao-zilong"}, "reply_to_user": {"reputation": 5334, "user_id": 5830574, "user_type": "registered", "accept_rate": 93, "profile_image": "https://i.stack.imgur.com/kCmqs.png?s=128&g=1", "display_name": "PerlDuck", "link": "https://stackoverflow.com/users/5830574/perlduck"}, "edited": false, "score": 0, "creation_date": 1458549941, "post_id": 36101900, "comment_id": 59892073, "body": "@PerlDog  i just saw in my error/log <code>[Mon Mar 21 08:53:57.868339 2016] [cgi:error] [pid 6769] [client ::1:65154] AH01215: sh: wget: command not found: &#47;Library&#47;WebServer&#47;CGI-Executables&#47;distance.pl [Mon Mar 21 08:53:57.877116 2016] [cgi:error] [pid 6769] [client ::1:65154] AH01215: Empty input file: &#47;Library&#47;WebServer&#47;CGI-Executables&#47;distance.pl</code>    it seems like the command wget in my read_image didn&#39;t work, but when i execute in command line, it didn&#39;t have that error,  I&#39;m sure i have wget, do you think it&#39;s the problem of permission or path of wget?"}, {"owner": {"reputation": 1, "user_id": 5815240, "user_type": "registered", "profile_image": "https://graph.facebook.com/631391330332340/picture?type=large", "display_name": "zhao_zilong", "link": "https://stackoverflow.com/users/5815240/zhao-zilong"}, "reply_to_user": {"reputation": 5334, "user_id": 5830574, "user_type": "registered", "accept_rate": 93, "profile_image": "https://i.stack.imgur.com/kCmqs.png?s=128&g=1", "display_name": "PerlDuck", "link": "https://stackoverflow.com/users/5830574/perlduck"}, "edited": false, "score": 0, "creation_date": 1458550285, "post_id": 36101900, "comment_id": 59892245, "body": "@PerlDog actually when i want to use a local image, i get almost the same error <code>AH01215: &#47;usr&#47;local&#47;bin&#47;djpeg: can&#39;t open &#47;Users&#47;zhaozilong&#47;Documents&#47;s8&#47;ri&#47;tp_media&#47;img&#47;winter.jpg: &#47;Library&#47;WebServer&#47;CGI-Executables&#47;distance.pl</code>   it&#39;s so weird, in command line, everything goes so well"}, {"owner": {"reputation": 5334, "user_id": 5830574, "user_type": "registered", "accept_rate": 93, "profile_image": "https://i.stack.imgur.com/kCmqs.png?s=128&g=1", "display_name": "PerlDuck", "link": "https://stackoverflow.com/users/5830574/perlduck"}, "edited": false, "score": 0, "creation_date": 1458583576, "post_id": 36101900, "comment_id": 59915436, "body": "@\u8d75\u5b50\u9f99 I updated my answer, see below."}], "answers": [{"comments": [{"owner": {"reputation": 1654, "user_id": 3652920, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/qKRou.jpg?s=128&g=1", "display_name": "CDahn", "link": "https://stackoverflow.com/users/3652920/cdahn"}, "edited": false, "score": 0, "creation_date": 1458416375, "post_id": 36103532, "comment_id": 59854539, "body": "This could work, but remember that the CGI script is running as whatever user the web server is running as, and the environment is not a login shell environment. As such, the PATH variable may not be what one would expect. Using an absolute path here, or putting the binary in the CGI directory may be a more predictable option."}, {"owner": {"reputation": 5334, "user_id": 5830574, "user_type": "registered", "accept_rate": 93, "profile_image": "https://i.stack.imgur.com/kCmqs.png?s=128&g=1", "display_name": "PerlDuck", "link": "https://stackoverflow.com/users/5830574/perlduck"}, "reply_to_user": {"reputation": 1654, "user_id": 3652920, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/qKRou.jpg?s=128&g=1", "display_name": "CDahn", "link": "https://stackoverflow.com/users/3652920/cdahn"}, "edited": false, "score": 0, "creation_date": 1458422539, "post_id": 36103532, "comment_id": 59856487, "body": "@CDahn To my understanding <code>FindBin</code> has nothing to do with the <code>PATH</code> variable. I does a <code>getcwd()</code> in all possible flavours to figure out the location of the script that <code>use</code>s it. Putting the binary in the CGI directory works only if <i>apache</i> (for that matter) <code>cd</code>&#39;s to the CGI directory prior to executing the .cgi. I don&#39;t want to argue, I just had <i>never</i> bad experience with FindBin."}, {"owner": {"reputation": 1, "user_id": 5815240, "user_type": "registered", "profile_image": "https://graph.facebook.com/631391330332340/picture?type=large", "display_name": "zhao_zilong", "link": "https://stackoverflow.com/users/5815240/zhao-zilong"}, "edited": false, "score": 0, "creation_date": 1458483232, "post_id": 36103532, "comment_id": 59870222, "body": "@PerlDog  i used this way to make the command, but it doesn&#39;t work, i tried to show the $FindBin, it&#39;s &#39;/Library/WebServer/CGI-Executables/&#39;, i also tried this path absolute, but it didn&#39;t work, i run my .pl in command line, it works well, i really have no idea where is wrong"}, {"owner": {"reputation": 1, "user_id": 5815240, "user_type": "registered", "profile_image": "https://graph.facebook.com/631391330332340/picture?type=large", "display_name": "zhao_zilong", "link": "https://stackoverflow.com/users/5815240/zhao-zilong"}, "edited": false, "score": 0, "creation_date": 1458483407, "post_id": 36103532, "comment_id": 59870285, "body": "@PerlDog  and i have the permission -rwxrwxrwx   1 root        wheel     9296 Mar 20 15:03 read_image"}, {"owner": {"reputation": 5334, "user_id": 5830574, "user_type": "registered", "accept_rate": 93, "profile_image": "https://i.stack.imgur.com/kCmqs.png?s=128&g=1", "display_name": "PerlDuck", "link": "https://stackoverflow.com/users/5830574/perlduck"}, "reply_to_user": {"reputation": 1, "user_id": 5815240, "user_type": "registered", "profile_image": "https://graph.facebook.com/631391330332340/picture?type=large", "display_name": "zhao_zilong", "link": "https://stackoverflow.com/users/5815240/zhao-zilong"}, "edited": false, "score": 0, "creation_date": 1458489240, "post_id": 36103532, "comment_id": 59872320, "body": "@\u8d75\u5b50\u9f99 Slightly off-topic, but set the mode to 755 (-rwxr-xr-x) once you get it working. Else everybody can change/delete your file."}, {"owner": {"reputation": 1654, "user_id": 3652920, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/qKRou.jpg?s=128&g=1", "display_name": "CDahn", "link": "https://stackoverflow.com/users/3652920/cdahn"}, "edited": false, "score": 0, "creation_date": 1458559103, "post_id": 36103532, "comment_id": 59897957, "body": "@PerlDog You&#39;re absolutely right. I must be getting old and starting to lose my mind."}, {"owner": {"reputation": 5334, "user_id": 5830574, "user_type": "registered", "accept_rate": 93, "profile_image": "https://i.stack.imgur.com/kCmqs.png?s=128&g=1", "display_name": "PerlDuck", "link": "https://stackoverflow.com/users/5830574/perlduck"}, "reply_to_user": {"reputation": 1654, "user_id": 3652920, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/qKRou.jpg?s=128&g=1", "display_name": "CDahn", "link": "https://stackoverflow.com/users/3652920/cdahn"}, "edited": false, "score": 0, "creation_date": 1458595631, "post_id": 36103532, "comment_id": 59922073, "body": "@CDahn I hope you do! (getting old, not loosing your mind) :-) Cheers!"}, {"owner": {"reputation": 1, "user_id": 5815240, "user_type": "registered", "profile_image": "https://graph.facebook.com/631391330332340/picture?type=large", "display_name": "zhao_zilong", "link": "https://stackoverflow.com/users/5815240/zhao-zilong"}, "edited": false, "score": 0, "creation_date": 1458682095, "post_id": 36103532, "comment_id": 59968284, "body": "@PerlDog  hello genius, i used your solution, get where locate wget, use absolute path and it works,  thank you a lot!"}], "tags": [], "owner": {"reputation": 5334, "user_id": 5830574, "user_type": "registered", "accept_rate": 93, "profile_image": "https://i.stack.imgur.com/kCmqs.png?s=128&g=1", "display_name": "PerlDuck", "link": "https://stackoverflow.com/users/5830574/perlduck"}, "is_accepted": false, "score": 2, "last_activity_date": 1458583542, "last_edit_date": 1458583542, "creation_date": 1458401143, "answer_id": 36103532, "question_id": 36101900, "link": "https://stackoverflow.com/questions/36101900/cant-execute-external-command-in-cgi/36103532#36103532", "title": "can&#39;t execute external command in cgi", "body": "<p>I think it's because when your webserver runs your CGI then it does so from some wierd directory (<code>/var/www/htdocs</code> or <code>/</code> or whatever). Then your <code>read_image</code> is also expected to be in that directory because of the <code>./read_image</code>.<br>\n<code>./</code> means <em>current directory</em>, which is not necessarily the directory where your .cgi is located.<br>\nI'd suggest using the Perl module <a href=\"http://perldoc.perl.org/FindBin.html\" rel=\"nofollow\">FindBin</a>:</p>\n\n<p><strong>your cgi:</strong></p>\n\n<pre><code>...\nuse strict;\nuse warnings;\nuse FindBin;\n\n...\nsystem(\"$FindBin::Bin/read_image http://echopaw.fr/wp-content/uploads/2015/09/animals-41.jpg\");\n</code></pre>\n\n<p><code>$FindBin::Bin</code> resolves to the path where your .cgi is located -- no matter where you call it from. It's a quite handy module and can also be used to pimp the @INC path to find your own modules:</p>\n\n<pre><code>use lib \"$FindBin::Bin/../lib\";\nuse MyModule;\n</code></pre>\n\n<p>This way <code>MyModule.pm</code> is expected to be in <code>$current_script_path/../lib</code>. Very convenient.</p>\n\n<hr>\n\n<h2>Addendum</h2>\n\n<p>As the discussion evolves this is apparently not only a problem of whether apache can or cannot find the <code>read_image</code> command but also of whether <code>read_image</code> in turn can find the <code>wget</code> command which it tries to execute.</p>\n\n<p>As @CDahn already noted in a comment apache runs CGI scripts and the like with a <em>limited environment</em> for security reasons. If you run <code>read_image</code> from your shell, then you have a fully working environment with, say, PATH including 15 different directories (like <code>/usr/bin:/opt/bin:/usr/share/bin:/usr/local/bin:...</code>, whatever). When apache runs your scripts, PATH may only contain 2 or 3 directories that are absolutely necessary, e.g. <code>/usr/bin:/usr/local/bin</code>. The same applies to other environment variables.</p>\n\n<p>You can verify this with a little .cgi script that simply echoes the current environment, like</p>\n\n<pre><code>while (my ($key,$value) = each %ENV) {\n    print \"$key=$value\\n\";\n}\n</code></pre>\n\n<p>(Taken from <a href=\"http://perldoc.perl.org/functions/each.html\" rel=\"nofollow\">http://perldoc.perl.org/functions/each.html</a>)<br>\nCall this .cgi from your browser and you'll see the difference.</p>\n\n<p>When your <code>read_image</code> cannot find the <code>wget</code> command then probably because <code>wget</code> is located in a PATH apache doesn't know of. Instead of teaching apache about the additional directory (bad idea), I would give the full path to <code>wget</code> command in your <code>read_image</code> program. From your terminal window run</p>\n\n<pre><code>$ which wget\n/usr/bin/wget\n</code></pre>\n\n<p>and use that very path when calling <code>wget</code> from your <code>read_image</code>.</p>\n"}], "owner": {"reputation": 1, "user_id": 5815240, "user_type": "registered", "profile_image": "https://graph.facebook.com/631391330332340/picture?type=large", "display_name": "zhao_zilong", "link": "https://stackoverflow.com/users/5815240/zhao-zilong"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 336, "favorite_count": 0, "answer_count": 1, "score": 0, "last_activity_date": 1458583542, "creation_date": 1458391466, "last_edit_date": 1458391524, "question_id": 36101900, "link": "https://stackoverflow.com/questions/36101900/cant-execute-external-command-in-cgi", "title": "can&#39;t execute external command in cgi", "body": "<p>I have this line code in my file <code>.pl</code></p>\n\n<pre><code>system(\"./read_image http://echopaw.fr/wp-content/uploads/2015/09/animals-41.jpg\");\n</code></pre>\n\n<p><code>read_image</code> is a C executable file, it works well in command line, but when I run my <code>.pl</code> file in web server, this line didn't work, its function is to write some data into a file, so I can see if it works</p>\n\n<p>I also tried `` , but it still didn't work</p>\n\n<p>anyone gets some ideas? </p>\n"}, {"tags": ["perl", "dbix-class"], "comments": [{"owner": {"reputation": 123805, "user_id": 622310, "user_type": "registered", "accept_rate": 33, "profile_image": "https://www.gravatar.com/avatar/8b6d35219e1808520bc238b28161e2e6?s=128&d=identicon&r=PG", "display_name": "Borodin", "link": "https://stackoverflow.com/users/622310/borodin"}, "edited": false, "score": 0, "creation_date": 1458388088, "post_id": 36101277, "comment_id": 59845593, "body": "I don&#39;t understand what problem the additional information is causing you. Can you give us some background to your question please?"}, {"owner": {"reputation": 1, "user_id": 4267232, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/17751c2d0f8d9cd9dbdce3f374d75120?s=128&d=identicon&r=PG&f=1", "display_name": "Michael ViPub", "link": "https://stackoverflow.com/users/4267232/michael-vipub"}, "reply_to_user": {"reputation": 123805, "user_id": 622310, "user_type": "registered", "accept_rate": 33, "profile_image": "https://www.gravatar.com/avatar/8b6d35219e1808520bc238b28161e2e6?s=128&d=identicon&r=PG", "display_name": "Borodin", "link": "https://stackoverflow.com/users/622310/borodin"}, "edited": false, "score": 0, "creation_date": 1458389010, "post_id": 36101277, "comment_id": 59845893, "body": "sorry. the result i want is just the column name: <b>PACKAGE</b>-&gt;add_columns( &quot;partition_id&quot;,column1,column2....blabla); I dont want the column info  such as {     data_type =&gt; &quot;numeric&quot;,     is_nullable =&gt; 0,     original =&gt; { data_type =&gt; &quot;number&quot; },     size =&gt; [4, 0],   }, @Borodin"}, {"owner": {"reputation": 123805, "user_id": 622310, "user_type": "registered", "accept_rate": 33, "profile_image": "https://www.gravatar.com/avatar/8b6d35219e1808520bc238b28161e2e6?s=128&d=identicon&r=PG", "display_name": "Borodin", "link": "https://stackoverflow.com/users/622310/borodin"}, "edited": false, "score": 1, "creation_date": 1458389748, "post_id": 36101277, "comment_id": 59846112, "body": "Please <a href=\"http://stackoverflow.com/posts/36101277/edit\"><i>edit your question</i></a> to provide information like that. I&#39;ve done it for you this time. And yes, I understand what you&#39;re asking for, but I&#39;m wondering what harm the additional column information is doing. Can&#39;t you just ignore it? It&#39;s not using a significant amount of space"}, {"owner": {"reputation": 50468, "user_id": 1331451, "user_type": "registered", "accept_rate": 96, "profile_image": "https://i.stack.imgur.com/4ZPmj.png?s=128&g=1", "display_name": "simbabque", "link": "https://stackoverflow.com/users/1331451/simbabque"}, "edited": false, "score": 0, "creation_date": 1458411061, "post_id": 36101277, "comment_id": 59852764, "body": "Just a guess, but are you trying to use the Schema with SQLite and are afraid the additional info is going to make deploying there fail? DBIC will take care of that for you."}], "answers": [{"tags": [], "owner": {"reputation": 123805, "user_id": 622310, "user_type": "registered", "accept_rate": 33, "profile_image": "https://www.gravatar.com/avatar/8b6d35219e1808520bc238b28161e2e6?s=128&d=identicon&r=PG", "display_name": "Borodin", "link": "https://stackoverflow.com/users/622310/borodin"}, "is_accepted": false, "score": 1, "last_activity_date": 1458413918, "creation_date": 1458413918, "answer_id": 36105837, "question_id": 36101277, "link": "https://stackoverflow.com/questions/36101277/how-to-generate-schema-without-column-info-i-just-want-the-column-names-using/36105837#36105837", "title": "how to generate schema without column info (I just want the column names) using DBIx::Class::Schema::Loader", "body": "<p>Without any more information I'm going to have to say the answer is that you can't do that. I've looked at the source in <code>DBIx/Class/Schema/Loader/Base.pm</code> and there's no option for disabling output of the column information, although of course it's trivial to do either by hand or automatically</p>\n\n<p>If you could have explained more about <em>why</em> you want to do this then I am sure we could have helped you</p>\n"}], "owner": {"reputation": 1, "user_id": 4267232, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/17751c2d0f8d9cd9dbdce3f374d75120?s=128&d=identicon&r=PG&f=1", "display_name": "Michael ViPub", "link": "https://stackoverflow.com/users/4267232/michael-vipub"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 64, "favorite_count": 0, "answer_count": 1, "score": -1, "last_activity_date": 1458423464, "creation_date": 1458387893, "last_edit_date": 1458423464, "question_id": 36101277, "link": "https://stackoverflow.com/questions/36101277/how-to-generate-schema-without-column-info-i-just-want-the-column-names-using", "title": "how to generate schema without column info (I just want the column names) using DBIx::Class::Schema::Loader", "body": "<p>I want to use <code>DBIx::Class::Schema::Loader</code> to generate the schema from Oracle database.\nMy code is below. My question is how to generate the schema without column info .\nI just want the column names.</p>\n\n<pre><code>#============== generate code =================\nuse strict;\nuse warnings;\nuse utf8;\n\nuse DBIx::Class::Schema::Loader qw/ make_schema_at /;\nmake_schema_at(\n    'My::Schema',\n    { debug =&gt; 1,\n        skip_relationships =&gt; 1,\n        skip_load_external  =&gt; 1,\n      dump_directory =&gt; './lib',\n      constraint =&gt; qr/\\ATF_F_.*\\z/,\n      generate_pod =&gt; '0',\n    },\n    [ 'dbi:Oracle:test', 'test', 'test',\n    ],\n);\n\n\n#========= result TfFUser.pm=================\nuse warnings;\n\nuse base 'DBIx::Class::Core';\n__PACKAGE__-&gt;table(\"TF_F_USER\");\n__PACKAGE__-&gt;add_columns(\n  \"partition_id\",\n  {\n    data_type =&gt; \"numeric\",\n    is_nullable =&gt; 0,\n    original =&gt; { data_type =&gt; \"number\" },\n    size =&gt; [4, 0],\n  },\n</code></pre>\n\n<p>The result I want is just</p>\n\n<pre><code>use warnings;\n\nuse base 'DBIx::Class::Core';\n__PACKAGE__-&gt;table(\"TF_F_USER\");\n__PACKAGE__-&gt;add_columns( \"partition_id\", column1, column2, ...\n</code></pre>\n\n<p>I don't want the column info such as</p>\n\n<pre><code>  {\n    data_type =&gt; \"numeric\",\n    is_nullable =&gt; 0,\n    original =&gt; { data_type =&gt; \"number\" },\n    size =&gt; [4, 0],\n  }\n</code></pre>\n"}, {"tags": ["perl", "regex", "sed"], "comments": [{"owner": {"reputation": 48798, "user_id": 223226, "user_type": "registered", "accept_rate": 93, "profile_image": "https://i.stack.imgur.com/iGqE4.png?s=128&g=1", "display_name": "mpapec", "link": "https://stackoverflow.com/users/223226/mpapec"}, "edited": false, "score": 0, "creation_date": 1458384500, "post_id": 36100678, "comment_id": 59844512, "body": "<code>perl -pe &#39;s!!!e&#39; in.txt &gt; out.txt</code>"}], "answers": [{"comments": [{"owner": {"reputation": 5334, "user_id": 5830574, "user_type": "registered", "accept_rate": 93, "profile_image": "https://i.stack.imgur.com/kCmqs.png?s=128&g=1", "display_name": "PerlDuck", "link": "https://stackoverflow.com/users/5830574/perlduck"}, "edited": false, "score": 1, "creation_date": 1458402362, "post_id": 36100727, "comment_id": 59849870, "body": "The first one is awesome! I often wondered what <code>\\G</code> is good for in practice, now you gave a nice example. Thanks."}, {"owner": {"reputation": 83048, "user_id": 2255089, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/ZNAsT.jpg?s=128&g=1", "display_name": "Casimir et Hippolyte", "link": "https://stackoverflow.com/users/2255089/casimir-et-hippolyte"}, "reply_to_user": {"reputation": 5334, "user_id": 5830574, "user_type": "registered", "accept_rate": 93, "profile_image": "https://i.stack.imgur.com/kCmqs.png?s=128&g=1", "display_name": "PerlDuck", "link": "https://stackoverflow.com/users/5830574/perlduck"}, "edited": false, "score": 1, "creation_date": 1458403112, "post_id": 36100727, "comment_id": 59850104, "body": "@PerlDog: Thanks. The main interest of this anchor is to ensure contiguous results when you perform a global research. It isn&#39;t always easy to use because most of the time you need a first match that is not at the start of the line (in this case the pattern becomes more complicated), but here all the conditions are fulfilled for use it easily."}], "tags": [], "owner": {"reputation": 83048, "user_id": 2255089, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/ZNAsT.jpg?s=128&g=1", "display_name": "Casimir et Hippolyte", "link": "https://stackoverflow.com/users/2255089/casimir-et-hippolyte"}, "is_accepted": false, "score": 7, "last_activity_date": 1458402201, "last_edit_date": 1458402201, "creation_date": 1458384527, "answer_id": 36100727, "question_id": 36100678, "link": "https://stackoverflow.com/questions/36100678/perl-pe-one-liner-replace-all-matched-characters-with-same-number-of-a-differe/36100727#36100727", "title": "perl -pe one liner: Replace all matched characters with same number of a different character. Not global", "body": "<p>Yes, with the <code>\\G</code> anchor that matches the start of a string or the position after the previous match:</p>\n\n<pre><code>perl -pe 's/\\G-/^/g'\n</code></pre>\n\n<hr>\n\n<p>An other way you can use with either Perl or sed: a test and a translation</p>\n\n<pre><code>perl -pe 'y/-/^/ if /^-+$/'\n</code></pre>\n\n<p>or</p>\n\n<pre><code>sed '/^--*$/y/-/^/'\n</code></pre>\n"}, {"comments": [{"owner": {"reputation": 173, "user_id": 5648317, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/ba490f6f05925d63fba34fbea814fa82?s=128&d=identicon&r=PG&f=1", "display_name": "lancepants", "link": "https://stackoverflow.com/users/5648317/lancepants"}, "edited": false, "score": 1, "creation_date": 1458529047, "post_id": 36100889, "comment_id": 59884870, "body": "Ahh, damn! I tried exactly that but missed the /e on the end and ended up having the literal text &quot;^&quot; x length... printed out. Thanks"}], "tags": [], "owner": {"reputation": 123805, "user_id": 622310, "user_type": "registered", "accept_rate": 33, "profile_image": "https://www.gravatar.com/avatar/8b6d35219e1808520bc238b28161e2e6?s=128&d=identicon&r=PG", "display_name": "Borodin", "link": "https://stackoverflow.com/users/622310/borodin"}, "is_accepted": true, "score": 2, "last_activity_date": 1458386385, "last_edit_date": 1458386385, "creation_date": 1458385454, "answer_id": 36100889, "question_id": 36100678, "link": "https://stackoverflow.com/questions/36100678/perl-pe-one-liner-replace-all-matched-characters-with-same-number-of-a-differe/36100889#36100889", "title": "perl -pe one liner: Replace all matched characters with same number of a different character. Not global", "body": "<p>You appear to have all the ingredients in your question. Your subject line asks for <code>perl -pe</code> and you have written a working substitution, so you simply need to combine the two</p>\n\n<p>I'm not sure what your <code>\\b</code> is for; you need <code>^</code> to anchor the start of a line. And it's probably best to stick with the usual slash delimiters if anyone else is reading your code. But all you need to do is wrap your substitution in quotes like this</p>\n\n<pre class=\"lang-none prettyprint-override\"><code>perl -pe 's/^(-+)/\"^\" x length($1)/e' myfile.txt\n</code></pre>\n\n<h3>output</h3>\n\n<pre class=\"lang-none prettyprint-override\"><code>Title 1\n^^^^^^^\nTitle two\n^^^^^^^^^\n   +--------+\n   |asciibox|\n   +--------+\n</code></pre>\n"}, {"tags": [], "owner": {"reputation": 185733, "user_id": 152948, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/194ef8f807c34a9d7aab0e11a8674768?s=128&d=identicon&r=PG", "display_name": "hobbs", "link": "https://stackoverflow.com/users/152948/hobbs"}, "is_accepted": false, "score": 1, "last_activity_date": 1458530276, "creation_date": 1458530276, "answer_id": 36122602, "question_id": 36100678, "link": "https://stackoverflow.com/questions/36100678/perl-pe-one-liner-replace-all-matched-characters-with-same-number-of-a-differe/36122602#36122602", "title": "perl -pe one liner: Replace all matched characters with same number of a different character. Not global", "body": "<p>More or less for fun, two (more) solutions avoiding <code>/e</code>:</p>\n\n<pre><code>perl -pe '1 while s/^-*\\K-/^/'\n</code></pre>\n\n<p>Repeatedly replace the last in a series of dashes beginning at the beginning of the line with a caret. Prior to perl 5.10, <code>1 while s/^(-*)-/$1^/</code> can be used instead.</p>\n\n<pre><code>perl -pe '$_=reverse; s/-(?=-*$)/^/g; $_=reverse'\n</code></pre>\n\n<p>First, reverse the line front-to-back. Then, repeatedly replace any dash which has nothing but other dashes between it and the end of the line with a caret. Finally, put the line back in the right order. The two <code>reverse</code>s allow a single replacement, since <code>s///g</code> operates left-to-right and variable-length lookahead is allowed, but the mirror-image statements aren't true.</p>\n"}], "migrated_from": {"other_site": {"markdown_extensions": ["Prettify"], "launch_date": 1243296000, "open_beta_date": 1241049600, "site_state": "normal", "high_resolution_icon_url": "https://cdn.sstatic.net/Sites/serverfault/Img/apple-touch-icon@2.png", "twitter_account": "ServerFault", "favicon_url": "https://cdn.sstatic.net/Sites/serverfault/Img/favicon.ico", "icon_url": "https://cdn.sstatic.net/Sites/serverfault/Img/apple-touch-icon.png", "audience": "system and network administrators", "site_url": "https://serverfault.com", "api_site_parameter": "serverfault", "logo_url": "https://cdn.sstatic.net/Sites/serverfault/Img/logo.png", "name": "Server Fault", "site_type": "main_site"}, "on_date": 1458384194, "question_id": 764770}, "owner": {"reputation": 173, "user_id": 5648317, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/ba490f6f05925d63fba34fbea814fa82?s=128&d=identicon&r=PG&f=1", "display_name": "lancepants", "link": "https://stackoverflow.com/users/5648317/lancepants"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 269, "favorite_count": 0, "accepted_answer_id": 36100889, "answer_count": 3, "score": 2, "last_activity_date": 1458530276, "creation_date": 1458383362, "last_edit_date": 1458529092, "question_id": 36100678, "link": "https://stackoverflow.com/questions/36100678/perl-pe-one-liner-replace-all-matched-characters-with-same-number-of-a-differe", "title": "perl -pe one liner: Replace all matched characters with same number of a different character. Not global", "body": "<p>I'm wondering if there is a Perl (or other) one-liner which will replace all hyphens <code>-</code> with <em>the same number of</em> circumflexes <code>^</code>, provided the hyphens start at the beginning of the line.</p>\n\n<p>Example input:</p>\n\n<pre class=\"lang-none prettyprint-override\"><code>Title 1\n-------\nTitle two\n---------\n   +--------+\n   |asciibox|\n   +--------+\n</code></pre>\n\n<p>for which the output should be:</p>\n\n<pre class=\"lang-none prettyprint-override\"><code>Title 1\n^^^^^^^\nTitle two\n^^^^^^^^^\n   +--------+\n   |asciibox|\n   +--------+\n</code></pre>\n\n<p>In Perl itself I could run something like this:</p>\n\n<pre><code>s!(-+)!\"^\" x length($1)!e;\n</code></pre>\n\n<p>But is there a way to do this from command line?</p>\n"}, {"tags": ["perl", "asynchronous", "mojolicious"], "comments": [{"owner": {"reputation": 1220, "user_id": 1520793, "user_type": "registered", "accept_rate": 71, "profile_image": "https://www.gravatar.com/avatar/d0155363af97f63765cf92e647adb003?s=128&d=identicon&r=PG", "display_name": "sotona", "link": "https://stackoverflow.com/users/1520793/sotona"}, "edited": false, "score": 0, "creation_date": 1458373492, "post_id": 36097903, "comment_id": 59841877, "body": "what mojo version do you use?"}, {"owner": {"reputation": 962, "user_id": 3784644, "user_type": "registered", "accept_rate": 69, "profile_image": "https://i.stack.imgur.com/GnY64.jpg?s=128&g=1", "display_name": "DTSCode", "link": "https://stackoverflow.com/users/3784644/dtscode"}, "reply_to_user": {"reputation": 1220, "user_id": 1520793, "user_type": "registered", "accept_rate": 71, "profile_image": "https://www.gravatar.com/avatar/d0155363af97f63765cf92e647adb003?s=128&d=identicon&r=PG", "display_name": "sotona", "link": "https://stackoverflow.com/users/1520793/sotona"}, "edited": false, "score": 0, "creation_date": 1458381510, "post_id": 36097903, "comment_id": 59843750, "body": "6.56 Clinking Beer Mugs it looks like"}], "answers": [{"comments": [{"owner": {"reputation": 962, "user_id": 3784644, "user_type": "registered", "accept_rate": 69, "profile_image": "https://i.stack.imgur.com/GnY64.jpg?s=128&g=1", "display_name": "DTSCode", "link": "https://stackoverflow.com/users/3784644/dtscode"}, "edited": false, "score": 0, "creation_date": 1458418284, "post_id": 36104443, "comment_id": 59855141, "body": "Thank you so much! That actually makes a lot of sense. You are also right, the while loop was blocking, but I was going to handle that later. I appreciate the help!"}], "tags": [], "owner": {"reputation": 3472, "user_id": 4990392, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/89acc35f0339a9c7e6ae36443a23e2d9?s=128&d=identicon&r=PG&f=1", "display_name": "Dada", "link": "https://stackoverflow.com/users/4990392/dada"}, "is_accepted": true, "score": 3, "last_activity_date": 1580116594, "last_edit_date": 1580116594, "creation_date": 1458406402, "answer_id": 36104443, "question_id": 36097903, "link": "https://stackoverflow.com/questions/36097903/asynchronous-chat-server-using-mojolicious/36104443#36104443", "title": "Asynchronous Chat Server using Mojolicious", "body": "<p>While <code>$handle</code> is something like a stream you can write on, <code>$server</code> is a <code>Mojo::IOloop::Server</code> object, so it's not a surprise you can't write on it like you're trying to do.</p>\n\n<p>Even if I use Mojolicious quite often, I'm not familiar with every possibilities (there are a lot), but here what I would suggest : you need to store a list of all connected clients (in a hash or an array for instance), and when you receive a message, you iterate through that client list, to send the message to all of them.</p>\n\n<p>You also need a way (not hard to do) to delete clients from your clients list when they disconnect.</p>\n\n<p>Also I'm not quite sure about your infinite loop : I wouldn't be surprised if it was blocking the server on the 1st connected client.\nIt's better to use Mojolicious functions to do so :  </p>\n\n<pre><code>$serv-&gt;on(message =&gt; sub { send the message to all clients });\n</code></pre>\n\n<p>And that function would be called every time a message is received.</p>\n\n<p>Here is a good example, using <code>Mojolicious::Light</code>, pretty easy to understand I think : <a href=\"https://github.com/kraih/mojo/wiki/Writing-websocket-chat-using-Mojolicious-Lite\" rel=\"nofollow noreferrer\">https://github.com/kraih/mojo/wiki/Writing-websocket-chat-using-Mojolicious-Lite</a></p>\n"}], "owner": {"reputation": 962, "user_id": 3784644, "user_type": "registered", "accept_rate": 69, "profile_image": "https://i.stack.imgur.com/GnY64.jpg?s=128&g=1", "display_name": "DTSCode", "link": "https://stackoverflow.com/users/3784644/dtscode"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 416, "favorite_count": 0, "accepted_answer_id": 36104443, "answer_count": 1, "score": 3, "last_activity_date": 1580116594, "creation_date": 1458362315, "last_edit_date": 1514139043, "question_id": 36097903, "link": "https://stackoverflow.com/questions/36097903/asynchronous-chat-server-using-mojolicious", "title": "Asynchronous Chat Server using Mojolicious", "body": "<p>Hello Ladies and Gentleman! I am currently writing a minimalistic chat server that will somewhat resemble IRC. I am writing it in perl using the Mojolicious, but unfortunately have run into an issue. I have the following code:</p>\n\n<pre><code>#!/usr/bin/perl\n\nuse warnings;\nuse strict;\n\nuse Mojo::IOLoop::Server;\n\nmy $server = Mojo::IOLoop::Server-&gt;new;\n\n$server-&gt;on(accept =&gt; sub {\n    my ($server, $handle) = @_;\n    my $data;\n\n    print $handle \"Connected!\\n\";\n\n    while(1) {\n        $handle-&gt;recv($data, 4096);\n\n        if($data) {\n            print $server \"$data\";\n        }\n    }\n});\n\n$server-&gt;listen(port =&gt; $ARGV[0]);\n$server-&gt;start;\n$server-&gt;reactor-&gt;start unless $server-&gt;reactor-&gt;is_running;\n</code></pre>\n\n<p>Unfortunately, the print $server \"$data\"; line does not actually work. It gives off the error:</p>\n\n<pre><code>Mojo::Reactor::Poll: I/O watcher failed: Not a GLOB reference at ./server.pl line 20.\n</code></pre>\n\n<p>I have looked through the documentation for Mojolicious, but cannot find how to send the line I get from client A to the rest of the clients connected.</p>\n"}, {"tags": ["perl"], "answers": [{"tags": [], "owner": {"reputation": 87649, "user_id": 17389, "user_type": "registered", "accept_rate": 38, "profile_image": "https://www.gravatar.com/avatar/cd06d1314817ce946ab796af8750b56a?s=128&d=identicon&r=PG", "display_name": "ysth", "link": "https://stackoverflow.com/users/17389/ysth"}, "is_accepted": false, "score": 5, "last_activity_date": 1458390801, "last_edit_date": 1458390801, "creation_date": 1458340896, "answer_id": 36095433, "question_id": 36095315, "link": "https://stackoverflow.com/questions/36095315/getoptionsfromstring-is-not-exported-by-the-getoptlong-module/36095433#36095433", "title": "&quot;GetOptionsFromString&quot; is not exported by the Getopt::Long module", "body": "<p>That was added in version 2.36.  (The current version is 2.48.)</p>\n\n<p>You will need to update <a href=\"https://metacpan.org/pod/Getopt::Long\" rel=\"nofollow\">Getopt::Long</a> from CPAN.</p>\n"}], "owner": {"reputation": 57, "user_id": 6084769, "user_type": "registered", "accept_rate": 50, "profile_image": "https://www.gravatar.com/avatar/e2c7742f418a419211dd4d2b4aa27954?s=128&d=identicon&r=PG&f=1", "display_name": "Aparna", "link": "https://stackoverflow.com/users/6084769/aparna"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 416, "favorite_count": 0, "answer_count": 1, "score": 4, "last_activity_date": 1458390877, "creation_date": 1458340206, "last_edit_date": 1458390877, "question_id": 36095315, "link": "https://stackoverflow.com/questions/36095315/getoptionsfromstring-is-not-exported-by-the-getoptlong-module", "title": "&quot;GetOptionsFromString&quot; is not exported by the Getopt::Long module", "body": "<p>I am trying to use <a href=\"https://metacpan.org/pod/Getopt::Long#Parsing-options-from-an-arbitrary-string\" rel=\"nofollow\">GetOptionsFromString</a> function and facing the following error:</p>\n\n<blockquote>\n  <p>\"GetOptionsFromString\" is not exported by the Getopt::Long module</p>\n</blockquote>\n\n<p>In the program I have the following lines added:</p>\n\n<pre><code>use Getopt::Long qw(GetOptionsFromString); \nuse Getopt::Long;\n</code></pre>\n\n<p>I tried <code>perl -MGetopt::Long -e 'print $Getopt::Long::VERSION, \"\\n\"'</code> and it prints 2.35.</p>\n\n<p>Can someone help me in resolving this issue?</p>\n"}, {"tags": ["perl"], "comments": [{"owner": {"reputation": 51521, "user_id": 2566198, "user_type": "registered", "accept_rate": 67, "profile_image": "https://i.stack.imgur.com/Y34ZA.jpg?s=128&g=1", "display_name": "Sobrique", "link": "https://stackoverflow.com/users/2566198/sobrique"}, "edited": false, "score": 4, "creation_date": 1458381522, "post_id": 36094454, "comment_id": 59843754, "body": "Why do you need to do this? There&#39;s definitely a possible can of worms implicit in globally altering something that everyone <i>thinks</i> they know how it works."}], "answers": [{"comments": [{"owner": {"reputation": 21782, "user_id": 176646, "user_type": "registered", "accept_rate": 88, "profile_image": "https://i.stack.imgur.com/HsQyV.png?s=128&g=1", "display_name": "ThisSuitIsBlackNot", "link": "https://stackoverflow.com/users/176646/thissuitisblacknot"}, "edited": false, "score": 4, "creation_date": 1458337546, "post_id": 36094724, "comment_id": 59833888, "body": "Note that this is not global, but only applies to the current lexical scope. A global flag would be a bad idea, since modules (including things like <code>strict</code>) rely on case-sensitive matching."}, {"owner": {"reputation": 53041, "user_id": 4653379, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/b3953dbedd0dabff5cbc3db9b0835b14?s=128&d=identicon&r=PG&f=1", "display_name": "zdim", "link": "https://stackoverflow.com/users/4653379/zdim"}, "reply_to_user": {"reputation": 21782, "user_id": 176646, "user_type": "registered", "accept_rate": 88, "profile_image": "https://i.stack.imgur.com/HsQyV.png?s=128&g=1", "display_name": "ThisSuitIsBlackNot", "link": "https://stackoverflow.com/users/176646/thissuitisblacknot"}, "edited": false, "score": 1, "creation_date": 1458339956, "post_id": 36094724, "comment_id": 59834840, "body": "There are more implications and specifics. (Example: <code>re &#47;flag</code> overrides <code>locale</code> pragma and the &#39;unicode_strings&#39; <code>feature</code> for regex -- which is all restored after <code>no re &#47;flag</code>.)"}], "tags": [], "owner": {"reputation": 53041, "user_id": 4653379, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/b3953dbedd0dabff5cbc3db9b0835b14?s=128&d=identicon&r=PG&f=1", "display_name": "zdim", "link": "https://stackoverflow.com/users/4653379/zdim"}, "is_accepted": true, "score": 9, "last_activity_date": 1505629644, "last_edit_date": 1505629644, "creation_date": 1458337336, "answer_id": 36094724, "question_id": 36094454, "link": "https://stackoverflow.com/questions/36094454/change-default-regexp-behavior-in-perl/36094724#36094724", "title": "Change default regexp behavior in Perl?", "body": "<p>You may be looking for <a href=\"http://perldoc.perl.org/re.html\" rel=\"nofollow noreferrer\"><code>re</code> pragma</a></p>\n\n<blockquote>\n<pre><code>use re '/ix';  \n\"FOO\" =~ / foo /; # /ix implied  \nno re '/x';  \n\"FOO\" =~ /foo/;   # just /i implied\n</code></pre>\n</blockquote>\n"}], "owner": {"reputation": 17943, "user_id": 396383, "user_type": "registered", "accept_rate": 77, "profile_image": "https://i.stack.imgur.com/9WwJr.jpg?s=128&g=1", "display_name": "Thomson", "link": "https://stackoverflow.com/users/396383/thomson"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 91, "favorite_count": 0, "accepted_answer_id": 36094724, "answer_count": 1, "score": 0, "last_activity_date": 1505629644, "creation_date": 1458336118, "question_id": 36094454, "link": "https://stackoverflow.com/questions/36094454/change-default-regexp-behavior-in-perl", "title": "Change default regexp behavior in Perl?", "body": "<p>Is there some global option available in Perl which specifies the default behavior regexp match behavior? Like ignore case by default even without <code>i</code> option match operator.</p>\n"}, {"tags": ["perl"], "comments": [{"owner": {"reputation": 5334, "user_id": 5830574, "user_type": "registered", "accept_rate": 93, "profile_image": "https://i.stack.imgur.com/kCmqs.png?s=128&g=1", "display_name": "PerlDuck", "link": "https://stackoverflow.com/users/5830574/perlduck"}, "edited": false, "score": 4, "creation_date": 1458333873, "post_id": 36093692, "comment_id": 59832067, "body": "Please show some sample input and the desired output. It&#39;s not clear to me what you mean."}, {"owner": {"reputation": 53041, "user_id": 4653379, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/b3953dbedd0dabff5cbc3db9b0835b14?s=128&d=identicon&r=PG&f=1", "display_name": "zdim", "link": "https://stackoverflow.com/users/4653379/zdim"}, "edited": false, "score": 1, "creation_date": 1458341457, "post_id": 36093692, "comment_id": 59835370, "body": "This is an exact duplicate -- please see the link in <a href=\"http://stackoverflow.com/users/1257035/a3f\">a3f</a> comment."}], "answers": [{"comments": [{"owner": {"reputation": 31, "user_id": 6052792, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/ctNp6.jpg?s=128&g=1", "display_name": "Joel Schmidt", "link": "https://stackoverflow.com/users/6052792/joel-schmidt"}, "edited": false, "score": 0, "creation_date": 1458588506, "post_id": 36093737, "comment_id": 59918230, "body": "I need to print the result so that I can see the bits flipped. The reason for this is to configure the Tx Load for a Bluetooth Low Energy beacon. For example, I would put in 0xEE and see the 8-bit representation of -18."}], "tags": [], "owner": {"reputation": 185733, "user_id": 152948, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/194ef8f807c34a9d7aab0e11a8674768?s=128&d=identicon&r=PG", "display_name": "hobbs", "link": "https://stackoverflow.com/users/152948/hobbs"}, "is_accepted": false, "score": 4, "last_activity_date": 1458356785, "last_edit_date": 1458356785, "creation_date": 1458333219, "answer_id": 36093737, "question_id": 36093692, "link": "https://stackoverflow.com/questions/36093692/make-perl-script-to-compute-twos-complement-on-an-8-bit-integer/36093737#36093737", "title": "Make Perl Script to Compute Two&#39;s Complement on An 8-Bit Integer", "body": "<p>The two's complement of a number <code>$n</code> is just <code>-$n</code>. To limit the result to 8 bits, mask off the rest using <code>(-$n)&amp;0xff</code>. </p>\n"}, {"tags": [], "owner": {"reputation": 57, "user_id": 6084769, "user_type": "registered", "accept_rate": 50, "profile_image": "https://www.gravatar.com/avatar/e2c7742f418a419211dd4d2b4aa27954?s=128&d=identicon&r=PG&f=1", "display_name": "Aparna", "link": "https://stackoverflow.com/users/6084769/aparna"}, "is_accepted": false, "score": 1, "last_activity_date": 1458356878, "last_edit_date": 1458356878, "creation_date": 1458348857, "answer_id": 36096598, "question_id": 36093692, "link": "https://stackoverflow.com/questions/36093692/make-perl-script-to-compute-twos-complement-on-an-8-bit-integer/36096598#36096598", "title": "Make Perl Script to Compute Two&#39;s Complement on An 8-Bit Integer", "body": "<pre><code>#Hex to Binary and check whether it is signed or unsigned. \n print \"Enter hexidecimal number:\";\n chomp ($hexNum = &lt;STDIN&gt;);\n print $hexNum . \"\\n\";\n my $bin_value = sprintf( \"%08b\", hex( $hexNum ));\n my $msb = ($bin_value &amp; 0x080);\n if($msb){\n print \"Unsigned Number\\n\"}\n else {\n print \"Signed Number\\n\";}\n</code></pre>\n\n<p>In case you are converting hexadecimal to decimal in that case you need to take 2's complement for which you can use <code>-</code> operator. </p>\n"}], "owner": {"reputation": 31, "user_id": 6052792, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/ctNp6.jpg?s=128&g=1", "display_name": "Joel Schmidt", "link": "https://stackoverflow.com/users/6052792/joel-schmidt"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 1427, "favorite_count": 2, "closed_date": 1458391068, "answer_count": 2, "score": 3, "last_activity_date": 1458400253, "creation_date": 1458333007, "last_edit_date": 1495540855, "question_id": 36093692, "link": "https://stackoverflow.com/questions/36093692/make-perl-script-to-compute-twos-complement-on-an-8-bit-integer", "closed_reason": "Duplicate", "title": "Make Perl Script to Compute Two&#39;s Complement on An 8-Bit Integer", "body": "<p>I have written a Perl script that takes an input hexadecimal value and then returns the binary equivalent. I need to sign that 8-bit integer and view the signed integer's value. This particular scenario does not seem to be covered in the Perl documentation that I have seen. The script is pasted below:</p>\n\n<pre><code>    #! perl\n    use warnings;\n    print \"Enter hexidecimal number:\";\n    chomp ($hexNum = &lt;STDIN&gt;);\n    print $hexNum . \"\\n\";\n    print  join \"\\n\", map { unpack ('B*', pack ('H*',$_)) } split ':', \n    $hexNum;\n</code></pre>\n\n<p>This question is not the same as other entries (specifically <a href=\"https://stackoverflow.com/questions/2111839/converting-hexadecimal-numbers-in-strings-to-negative-numbers-in-perl/%22Converting%20hexadecimal%20numbers%20in%20strings%20to%20negative%20numbers,%20in%20Perl%22\">Converting hexadecimal numbers in strings to negative numbers, in Perl</a> because it deals specifically with an 8 bit integer, not simply converting to decimal.</p>\n"}, {"tags": ["perl", "hash"], "comments": [{"owner": {"reputation": 843, "user_id": 6020333, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/bea9014ebf1e1188cac53beb61560df8?s=128&d=identicon&r=PG&f=1", "display_name": "bart", "link": "https://stackoverflow.com/users/6020333/bart"}, "edited": false, "score": 1, "creation_date": 1458328051, "post_id": 36092370, "comment_id": 59829127, "body": "There is no hash creation in this code."}, {"owner": {"reputation": 123805, "user_id": 622310, "user_type": "registered", "accept_rate": 33, "profile_image": "https://www.gravatar.com/avatar/8b6d35219e1808520bc238b28161e2e6?s=128&d=identicon&r=PG", "display_name": "Borodin", "link": "https://stackoverflow.com/users/622310/borodin"}, "edited": false, "score": 1, "creation_date": 1458328547, "post_id": 36092370, "comment_id": 59829424, "body": "@AnkP: You can ask your question wherever you want, but it&#39;s only polite to say in each case where else you have posted it, otherwise you may well have people working on a solution for you when you already have a working answer"}, {"owner": {"reputation": 123805, "user_id": 622310, "user_type": "registered", "accept_rate": 33, "profile_image": "https://www.gravatar.com/avatar/8b6d35219e1808520bc238b28161e2e6?s=128&d=identicon&r=PG", "display_name": "Borodin", "link": "https://stackoverflow.com/users/622310/borodin"}, "edited": false, "score": 0, "creation_date": 1458328688, "post_id": 36092370, "comment_id": 59829487, "body": "But you don&#39;t create the hash referred to by <code>$fields</code> anywhere. You just mess with <code>$sParam</code>, <code>$sValue</code> and <code>$sDesc</code> for a bit and then write code that uses the contents of <code>%$fields</code>.  Your question is very confusing"}, {"owner": {"reputation": 551, "user_id": 5621995, "user_type": "registered", "accept_rate": 78, "profile_image": "https://www.gravatar.com/avatar/2fbc9889325c4e90e235b64ff5fe018b?s=128&d=identicon&r=PG&f=1", "display_name": "AnkP", "link": "https://stackoverflow.com/users/5621995/ankp"}, "reply_to_user": {"reputation": 843, "user_id": 6020333, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/bea9014ebf1e1188cac53beb61560df8?s=128&d=identicon&r=PG&f=1", "display_name": "bart", "link": "https://stackoverflow.com/users/6020333/bart"}, "edited": false, "score": 0, "creation_date": 1458328765, "post_id": 36092370, "comment_id": 59829532, "body": "@bart - Sorry I missed adding the write out part of code, I have updated my post. thanks!"}, {"owner": {"reputation": 123805, "user_id": 622310, "user_type": "registered", "accept_rate": 33, "profile_image": "https://www.gravatar.com/avatar/8b6d35219e1808520bc238b28161e2e6?s=128&d=identicon&r=PG", "display_name": "Borodin", "link": "https://stackoverflow.com/users/622310/borodin"}, "edited": false, "score": 2, "creation_date": 1458328939, "post_id": 36092370, "comment_id": 59829621, "body": "@AnkP: You still don&#39;t populate the hash. And what is <code>$input.file</code>? I&#39;m pretty certain it doesn&#39;t do what you think it does. And I think you don&#39;t have <code>use strict</code> and <code>use warnings &#39;all&#39;</code> in place at the top of your program, which is <i>essential</i>"}, {"owner": {"reputation": 551, "user_id": 5621995, "user_type": "registered", "accept_rate": 78, "profile_image": "https://www.gravatar.com/avatar/2fbc9889325c4e90e235b64ff5fe018b?s=128&d=identicon&r=PG&f=1", "display_name": "AnkP", "link": "https://stackoverflow.com/users/5621995/ankp"}, "reply_to_user": {"reputation": 123805, "user_id": 622310, "user_type": "registered", "accept_rate": 33, "profile_image": "https://www.gravatar.com/avatar/8b6d35219e1808520bc238b28161e2e6?s=128&d=identicon&r=PG", "display_name": "Borodin", "link": "https://stackoverflow.com/users/622310/borodin"}, "edited": false, "score": 0, "creation_date": 1458329490, "post_id": 36092370, "comment_id": 59829935, "body": "@Borodin, thanks for looking at my code, I have made several edits, sorry my code has gone really messy, I tried to break down the code in two subroutines, one for reading in the file and one out writing out. I will clean up my code further, any suggestions will be really great!"}], "answers": [{"comments": [{"owner": {"reputation": 551, "user_id": 5621995, "user_type": "registered", "accept_rate": 78, "profile_image": "https://www.gravatar.com/avatar/2fbc9889325c4e90e235b64ff5fe018b?s=128&d=identicon&r=PG&f=1", "display_name": "AnkP", "link": "https://stackoverflow.com/users/5621995/ankp"}, "edited": false, "score": 0, "creation_date": 1458510030, "post_id": 36107849, "comment_id": 59879977, "body": "Thanks a lot for your suggestions @Marty! your code looks much clear, my files are short, so adding into new hash will be better. Just one question on pattern match (which I am still learning) - I am getting this error - <code>Missing braces on \\N{} at test.pl line 25, within pattern Sequence (?&lt;k...) not recognized in regex; marked by &lt;-- HERE in m&#47; ^ \\$ ; (?&lt;k &lt;-- HERE ey&gt;\\w+) \\s* = \\s* (?&lt;val&gt;*) $ &#47; at config.pl line 25</code> which is <code>my $attr_re  = qr&#47; ^ \\$ ; (?&lt;key&gt;\\w+) \\s* = \\s* (?&lt;val&gt;\\N*) $ &#47;x ;</code> should I get rid of &quot;?&quot; ? thanks again!"}, {"owner": {"reputation": 2690, "user_id": 5869736, "user_type": "registered", "accept_rate": 75, "profile_image": "https://www.gravatar.com/avatar/b18e361761e0643fd9003f9eae40ba45?s=128&d=identicon&r=PG&f=1", "display_name": "Marty", "link": "https://stackoverflow.com/users/5869736/marty"}, "reply_to_user": {"reputation": 551, "user_id": 5621995, "user_type": "registered", "accept_rate": 78, "profile_image": "https://www.gravatar.com/avatar/2fbc9889325c4e90e235b64ff5fe018b?s=128&d=identicon&r=PG&f=1", "display_name": "AnkP", "link": "https://stackoverflow.com/users/5621995/ankp"}, "edited": false, "score": 0, "creation_date": 1458517101, "post_id": 36107849, "comment_id": 59882155, "body": "That line uses &quot;named capture variables.&quot;  It works at my end.  Try replacing that line with this <code>my $attr_re  = qr&#47; ^ \\$ ; (\\w+) \\s* = \\s* (.*) $ &#47;x ;</code> and line 31 has to change to this: <code>$obj{ $1 } = $2 if  &#47;$attr_re&#47; ;</code>"}, {"owner": {"reputation": 551, "user_id": 5621995, "user_type": "registered", "accept_rate": 78, "profile_image": "https://www.gravatar.com/avatar/2fbc9889325c4e90e235b64ff5fe018b?s=128&d=identicon&r=PG&f=1", "display_name": "AnkP", "link": "https://stackoverflow.com/users/5621995/ankp"}, "edited": false, "score": 0, "creation_date": 1458520987, "post_id": 36107849, "comment_id": 59883170, "body": "Marty, Thanks a lot, but I am still not abel to run it, do I need to use some specific module? I am getting error <code>Search pattern not terminated at test.pl line 41.</code> for line <code>my $obref = $db{ $cat } &#47;&#47;  { cat =&gt; $cat } ;</code>. Can you please share how you execute this? Thanks again!"}, {"owner": {"reputation": 2690, "user_id": 5869736, "user_type": "registered", "accept_rate": 75, "profile_image": "https://www.gravatar.com/avatar/b18e361761e0643fd9003f9eae40ba45?s=128&d=identicon&r=PG&f=1", "display_name": "Marty", "link": "https://stackoverflow.com/users/5869736/marty"}, "reply_to_user": {"reputation": 551, "user_id": 5621995, "user_type": "registered", "accept_rate": 78, "profile_image": "https://www.gravatar.com/avatar/2fbc9889325c4e90e235b64ff5fe018b?s=128&d=identicon&r=PG&f=1", "display_name": "AnkP", "link": "https://stackoverflow.com/users/5621995/ankp"}, "edited": false, "score": 0, "creation_date": 1458521781, "post_id": 36107849, "comment_id": 59883341, "body": "It might be the use of the defined-or operator, <code>&#47;&#47;</code>, which came out in v5.10.  Try replacing that line with: <code>my $obref = defined $db{ $cat }  ?   $db{ $cat }  :  { cat =&gt; $cat } ;</code>"}, {"owner": {"reputation": 551, "user_id": 5621995, "user_type": "registered", "accept_rate": 78, "profile_image": "https://www.gravatar.com/avatar/2fbc9889325c4e90e235b64ff5fe018b?s=128&d=identicon&r=PG&f=1", "display_name": "AnkP", "link": "https://stackoverflow.com/users/5621995/ankp"}, "edited": false, "score": 0, "creation_date": 1458522996, "post_id": 36107849, "comment_id": 59883598, "body": "Thanks marty for the prompt response, my script works now but if I give values for only component/category, like - <code>perl config4.pl --cat California --first Ana --last kov --age 27</code> the output looks like <code>[] $;First_Name = $;Last_Name = $;Age =  [California] $;First_Name = Ana $;Last_Name = kov $;Age = 27</code> It does not print out retain rest of the components in the input file"}, {"owner": {"reputation": 2690, "user_id": 5869736, "user_type": "registered", "accept_rate": 75, "profile_image": "https://www.gravatar.com/avatar/b18e361761e0643fd9003f9eae40ba45?s=128&d=identicon&r=PG&f=1", "display_name": "Marty", "link": "https://stackoverflow.com/users/5869736/marty"}, "reply_to_user": {"reputation": 551, "user_id": 5621995, "user_type": "registered", "accept_rate": 78, "profile_image": "https://www.gravatar.com/avatar/2fbc9889325c4e90e235b64ff5fe018b?s=128&d=identicon&r=PG&f=1", "display_name": "AnkP", "link": "https://stackoverflow.com/users/5621995/ankp"}, "edited": false, "score": 0, "creation_date": 1458524591, "post_id": 36107849, "comment_id": 59883933, "body": "What you are seeing there is a &quot;blank&quot; entry followed by a correct entry - possibly due the input file being empty.  I didn&#39;t test the script with an empty input file - could you edit the db file, leave one or more correct entries in it and the try it again?"}, {"owner": {"reputation": 551, "user_id": 5621995, "user_type": "registered", "accept_rate": 78, "profile_image": "https://www.gravatar.com/avatar/2fbc9889325c4e90e235b64ff5fe018b?s=128&d=identicon&r=PG&f=1", "display_name": "AnkP", "link": "https://stackoverflow.com/users/5621995/ankp"}, "edited": false, "score": 0, "creation_date": 1458526758, "post_id": 36107849, "comment_id": 59884397, "body": "thanks a lot Marty, I used the sample file I posted above in the question as input file, not an empty file..I just did not give input for any other category except California in the command line. The code does populate the values for [California] but does not retain rest of the categories in the input file, instead of that it outputs a blank entry"}, {"owner": {"reputation": 2690, "user_id": 5869736, "user_type": "registered", "accept_rate": 75, "profile_image": "https://www.gravatar.com/avatar/b18e361761e0643fd9003f9eae40ba45?s=128&d=identicon&r=PG&f=1", "display_name": "Marty", "link": "https://stackoverflow.com/users/5869736/marty"}, "reply_to_user": {"reputation": 551, "user_id": 5621995, "user_type": "registered", "accept_rate": 78, "profile_image": "https://www.gravatar.com/avatar/2fbc9889325c4e90e235b64ff5fe018b?s=128&d=identicon&r=PG&f=1", "display_name": "AnkP", "link": "https://stackoverflow.com/users/5621995/ankp"}, "edited": false, "score": 0, "creation_date": 1458531961, "post_id": 36107849, "comment_id": 59885493, "body": "What that means is that it&#39;s not recognizing any of the existing data.  The reason why you see values for California is because it fails to read in anything and then proceeds to add a new California.  Line 28, <code>next unless &#47;$cat_re&#47; ;</code> means &quot;go back and read the next line if this doesn&#39;t match&quot; so, it will tear through the whole file reading in nothing if the <code>$cat_re</code> doesn&#39;t match.  That&#39;s my guess on what&#39;s happening.  Are there any spaces around the square brackets in the data file?  Try moving the RE into the statement directly - ie: <code>next unless &#47;  \\[  \\s* (\\w+)  \\s* \\]  \\s*  &#47;x</code>"}, {"owner": {"reputation": 551, "user_id": 5621995, "user_type": "registered", "accept_rate": 78, "profile_image": "https://www.gravatar.com/avatar/2fbc9889325c4e90e235b64ff5fe018b?s=128&d=identicon&r=PG&f=1", "display_name": "AnkP", "link": "https://stackoverflow.com/users/5621995/ankp"}, "edited": false, "score": 0, "creation_date": 1458536890, "post_id": 36107849, "comment_id": 59886757, "body": "Marty, I made the edits, can you please explain just one thing - how will user input multiple category names in one command using Getoptions? Thanks!"}, {"owner": {"reputation": 2690, "user_id": 5869736, "user_type": "registered", "accept_rate": 75, "profile_image": "https://www.gravatar.com/avatar/b18e361761e0643fd9003f9eae40ba45?s=128&d=identicon&r=PG&f=1", "display_name": "Marty", "link": "https://stackoverflow.com/users/5869736/marty"}, "reply_to_user": {"reputation": 551, "user_id": 5621995, "user_type": "registered", "accept_rate": 78, "profile_image": "https://www.gravatar.com/avatar/2fbc9889325c4e90e235b64ff5fe018b?s=128&d=identicon&r=PG&f=1", "display_name": "AnkP", "link": "https://stackoverflow.com/users/5621995/ankp"}, "edited": false, "score": 1, "creation_date": 1458537819, "post_id": 36107849, "comment_id": 59887071, "body": "That&#39;s great news!  Re, multiple categories - you can&#39;t do it with this script.  If you specified <code>--cat=California --first=Ted --cat=NewYork --last=Smith</code>, there is now way for the script to tell if &quot;Smith&quot; belongs to NewYork or California.  Same with &quot;Ted&quot;.  You could make a script that would do that but it would be much bigger.  Instead, simply do two runs; perl config4.pl --cat California --first Ana --last kov --age 27   and then after that config4.pl --cat NewYork --first Terry --last Smith --age 34.  Finally, if this has been useful, please consider ticking the answer."}, {"owner": {"reputation": 551, "user_id": 5621995, "user_type": "registered", "accept_rate": 78, "profile_image": "https://www.gravatar.com/avatar/2fbc9889325c4e90e235b64ff5fe018b?s=128&d=identicon&r=PG&f=1", "display_name": "AnkP", "link": "https://stackoverflow.com/users/5621995/ankp"}, "edited": false, "score": 0, "creation_date": 1458589645, "post_id": 36107849, "comment_id": 59918826, "body": "Thanks a lot Marty, yes your solution resolved my problem!"}, {"owner": {"reputation": 2690, "user_id": 5869736, "user_type": "registered", "accept_rate": 75, "profile_image": "https://www.gravatar.com/avatar/b18e361761e0643fd9003f9eae40ba45?s=128&d=identicon&r=PG&f=1", "display_name": "Marty", "link": "https://stackoverflow.com/users/5869736/marty"}, "reply_to_user": {"reputation": 551, "user_id": 5621995, "user_type": "registered", "accept_rate": 78, "profile_image": "https://www.gravatar.com/avatar/2fbc9889325c4e90e235b64ff5fe018b?s=128&d=identicon&r=PG&f=1", "display_name": "AnkP", "link": "https://stackoverflow.com/users/5621995/ankp"}, "edited": false, "score": 0, "creation_date": 1458604405, "post_id": 36107849, "comment_id": 59925357, "body": "Would you then please consider ticking the answer?"}], "tags": [], "owner": {"reputation": 2690, "user_id": 5869736, "user_type": "registered", "accept_rate": 75, "profile_image": "https://www.gravatar.com/avatar/b18e361761e0643fd9003f9eae40ba45?s=128&d=identicon&r=PG&f=1", "display_name": "Marty", "link": "https://stackoverflow.com/users/5869736/marty"}, "is_accepted": false, "score": 2, "last_activity_date": 1458425657, "creation_date": 1458425657, "answer_id": 36107849, "question_id": 36092370, "link": "https://stackoverflow.com/questions/36092370/read-an-file-in-two-hashes-inorder-to-retain-the-order/36107849#36107849", "title": "Read an file in two hashes inorder to retain the order", "body": "<p>I think you're getting lost in the detail and skipping over some basics which is unnecessarily complicating the problem.  Those basics are;</p>\n\n<ol>\n<li>Indent your code properly (it's amazing the difference this makes)</li>\n<li>Always use the <strong>/x</strong> modifier on regex and lots of whitespace to increase readability</li>\n<li>When using lots of regexs, use \"quote rule\", <strong>qr</strong>, to seperate regex definition from regex use</li>\n</ol>\n\n<p>Apart from that, you were headed in the right direction but there are a couple of insights on the algorithm you were missing which further increased the complexity.  </p>\n\n<p>Firstly, for small-time parsing of data, look out for the possibility that matching one type of line immediately disqualifies matching of other types of line.  All the <code>elsif</code>'s aren't necessary since a line that matches a category is never going to match a LastName or Age and vice versa.</p>\n\n<p>Secondly, when you get a match, see if you can do what's needed immediately rather than storing the result of the match for processing later.  In this case, instead of saving a <em>\"component\"</em> or <em>\"category\"</em> in a variable, put it immediately into the hash you're building.</p>\n\n<p>Thirdly, if you're updating text files that are not huge, consider working on a new version of the file and then at the end of the program declare the current version old, and the new version current.  This reduces the chances of unintentionally modifying something in place and allows comparison of the update with the original after execution - if necessary, \"rollback\" of the change in trivially easy which one of your users may be very grateful for one day.</p>\n\n<p>Fourthly and most of all, you've only got a couple of attributes or components to worry about, so deal with them in the concrete rather than the abstract.  You can see below that I've looped over <code>qw( First_Name Last_Name Age)</code> rather than all keys of the hash.  Now obviously, if you have to deal with open-ended or unknown attributes you can't do it this way but in this case, AFAICT, your fields are fixed.</p>\n\n<p>Here's a version that basically works given the above mentioned constraints.</p>\n\n<pre><code>#!/usr/bin/env perl\nuse v5.12 ;\nuse Getopt::Long ;\n\nmy %db ;                 # DB hash\nmy $dbf = \"data.txt\" ;   # DB file name\nmy $dbu = \"data.new\" ;   # updated DB file name\nmy $dbo = \"data.old\" ;   # Old DB file name\n\nmy  ($cat, $first, $last, $age)    ;    # Default is undef\nGetOptions( 'cat=s'   =&gt;  \\$cat    ,\n            'first=s' =&gt;  \\$first  ,\n            'last=s'  =&gt;  \\$last   ,\n            'age=i'   =&gt;  \\$age\n          );\n\ndie \"Category option (--cat=...) is compolsory\\n\" unless $cat ;\n\nopen my $dbh, '&lt;', $dbf or die \"$dbf: $!\\n\";    # DB Handle\nopen my $uph, '&gt;', $dbu or die \"$dbu: $!\\n\";    # UPdate Handle\n\n# REs for blank line, category header and attribute specification\nmy $blank_re = qr/ ^ \\s* $ /x ;\nmy $cat_re   = qr/ ^  \\[ (\\w+) \\] \\s* $ /x ;\nmy $attr_re  = qr/ ^ \\$ ; (?&lt;key&gt;\\w+) \\s* = \\s* (?&lt;val&gt;\\N*) $ /x ;\n\nwhile ( &lt;$dbh&gt; ) {\n    next unless /$cat_re/ ;\n    my %obj = ( cat =&gt; $1 ) ;\n    while ( &lt;$dbh&gt; )  {\n        $obj{ $+{key} } = $+{val} if  /$attr_re/ ;\n        last if /$blank_re/\n    }\n    $db{ $obj{cat} }  = \\%obj\n}\n\n# Grab existing obj, otherwise presume we're adding a new one\nmy $obref = $db{ $cat } //  { cat =&gt; $cat } ;\n$obref-&gt;{ First_Name }  =   $first if defined $first ;\n$obref-&gt;{ Last_Name }   =   $last  if defined $last  ;\n$obref-&gt;{ Age }         =   $age   if defined $age   ;\n\n# Update the DB with the modified/new one\n$db{ $obref-&gt;{cat} }  =  $obref ;\n\nfor (sort keys %db) {\n    my $obref = $db{ $_ } ;\n    printf $uph \"[%s]\\n\", $obref-&gt;{ cat } ;\n    for (qw(  First_Name Last_Name Age  ))  {\n        printf $uph '$;' . \"%s = %s\\n\",  $_, $obref-&gt;{ $_ }\n    }\n    print $uph \"\\n\"\n}\n\nclose $dbh ;\nclose $dbu ;\nrename $dbf , $dbo ;\nrename $dbu , $dbf ;\nexit 0\n</code></pre>\n"}, {"tags": [], "owner": {"reputation": 53041, "user_id": 4653379, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/b3953dbedd0dabff5cbc3db9b0835b14?s=128&d=identicon&r=PG&f=1", "display_name": "zdim", "link": "https://stackoverflow.com/users/4653379/zdim"}, "is_accepted": true, "score": 1, "last_activity_date": 1458602596, "last_edit_date": 1458602596, "creation_date": 1458551358, "answer_id": 36126819, "question_id": 36092370, "link": "https://stackoverflow.com/questions/36092370/read-an-file-in-two-hashes-inorder-to-retain-the-order/36126819#36126819", "title": "Read an file in two hashes inorder to retain the order", "body": "<p>User input here need be organized, and for this we can use named options for each field, plus one for state.  The <a href=\"http://perldoc.perl.org/Getopt/Long.html#Storing-options-values-in-a-hash\" rel=\"nofollow\">Getopt option</a> for reading into a hash is useful here. We also need to associate names of these options with field names. With that in hand it is simple to process the file since we have a ready mechanism to identify lines of interest. </p>\n\n<p>By putting lines on a ref-array we can keep the order as well, and that refarray is a value for the section-key in the hash.  The hash is not necessary but adds flexibility for future development. Once we are at it we can also keep the order of sections by using a simple auxiliary array.</p>\n\n<pre><code>use warnings;\nuse strict;\nuse Getopt::Long;\nuse feature qw(say);\n\n# Translate between user input and field name ($;) in file\nmy ($o1, $o2, $o3) = qw(first last age);\nmy @tags = ('FIrst_Name', 'Last_Name', 'Age');\nmy %desc = ($tags[0] =&gt; $o1, $tags[1] =&gt; $o2, $tags[2] =&gt; $o3);\nmy (%input, $state);\nGetOptions(\\%input, \"$o1=s\", \"$o2=s\", \"$o3=i\", 'state=s' =&gt; \\$state);\n\nmy $locinfo = 'loc_info.txt';\nopen my $in_fh, '&lt;', $locinfo;\n\nmy (%conf, @sec_order, $section, $field);\nwhile (my $line = &lt;$in_fh&gt;)\n{\n    chomp($line);\n    next if $line =~ m/^\\s*$/;\n    # New section ([]), for hash and order-array\n    if ($line =~ m/^\\s*\\[(.*)\\]/) {\n        push @sec_order, $section = $1;\n        next;\n    }\n\n    # If we are in a wrong state just copy the line\n    if ($section ne $state) {\n        push @{$conf{$section}}, $line . \"\\n\";\n        next;\n    }\n\n    if (($field) = $line =~ m/^\\$;\\s*(.*?)\\s*=/ ) {\n        if (exists $input{$desc{$field}}) {\n            # Overwrite what is there or append\n            $line =~ s|^\\s*(.*?=\\s*)(.*)|$1 $input{$desc{$field}}|;\n        }\n    }\n    else { warn \"Unexpected line: |$line|  --\" }\n\n    push @{$conf{$section}}, $line . \"\\n\";\n}\nclose $in_fh;\n\nfor (@sec_order) { say \"[$_]\";  say @{$conf{$_}}; }\n</code></pre>\n\n<p>Invocation</p>\n\n<pre><code>script.pl -state STATE -first FIRST_NAME -last LAST_NAME -age INT\n</code></pre>\n\n<p>Any option may be left out in which case that field is not touched.  A field supplied on the command line will be overwritten if it has something.  (This can be changed easily.)  This works for a single-state entry as it stands but which is simple to modify if needed.</p>\n\n<p>This is a basic solution.  The first next thing would be to read the field names from the file itself, instead of having them hard-coded.  (This would avoid the need to spot the typo <code>FIrst</code> and inconsistent spacings before <code>=</code>, for one thing.)  But the more refinements are added, the more one is getting into template development. At some point soon it will be a good idea to use a module.</p>\n\n<p><em>Note</em>  The regex delimiter above is different than elsewhere (<code>|</code>) to avoid the editor coloring all red.</p>\n"}], "owner": {"reputation": 551, "user_id": 5621995, "user_type": "registered", "accept_rate": 78, "profile_image": "https://www.gravatar.com/avatar/2fbc9889325c4e90e235b64ff5fe018b?s=128&d=identicon&r=PG&f=1", "display_name": "AnkP", "link": "https://stackoverflow.com/users/5621995/ankp"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 120, "favorite_count": 0, "accepted_answer_id": 36126819, "answer_count": 2, "score": 1, "last_activity_date": 1458602596, "creation_date": 1458327627, "last_edit_date": 1458511661, "question_id": 36092370, "link": "https://stackoverflow.com/questions/36092370/read-an-file-in-two-hashes-inorder-to-retain-the-order", "title": "Read an file in two hashes inorder to retain the order", "body": "<p>I am trying to read a file with user information categorized under a location, I want to fill in the some of the fields using user input and output the file while keeping the fields under each location intact for eg - file</p>\n\n<pre><code>[California] \n$;FIrst_Name = \n$;Last_Name=\n$;Age =\n\n[NewYork]\n$;FIrst_Name = \n$;Last_Name=\n$;Age =\n\n[Washington]\n$;FIrst_Name = \n$;Last_Name=\n$;Age =\n</code></pre>\n\n<p>Once user provides input from command line it should look it</p>\n\n<pre><code>[California] \n$;FIrst_Name = Jack\n$;Last_Name= Daner\n$;Age = 27\n\n[NewYork]\n$;FIrst_Name = Jill\n$;Last_Name= XYZ\n$;Age = 30\n\n[Washington]\n$;FIrst_Name = Kim\n$;Last_Name= ABC\n$;Age = 25\n</code></pre>\n\n<p>The order of First_Name, Last_Name and Age within each location can change and even order of locations can change, but each location section should remain separate and intact. I wrote following code so far and some of my code works for taking whole file in one hash, but i am not able to preserve each location section within it! I tried using two hashes - can someone please help me as it is getting really complex for me! Thanks a lot. ( I had another issue with a similar file as well, but unfortunately could not resolve it either) </p>\n\n<p>EDITED code</p>\n\n<pre><code>Open the file \n\n\nuse strict;\nuse warnings;\nuse Getopt::Long;\n\n    sub read_config {\nmy $phCmdLineOption = shift;\nmy $phConfig        = shift;\nmy $sInputfile      = shift;\nopen($input.file, \"&lt;$InputFile\") or die \"Error! Cannot open $InputFile\n    + for reading: $!\";\n\n            while (&lt;$input.file&gt;) {\n                    $_ =~ s/\\s+$//;\n                    next if ($_ =~ /^#/);\n                    next if ($_ =~ /^$/);\n\n                if ($_ =~ m/^\\[(\\S+)\\]$/) {\n                $sComponent = $1;\n                    next;\n                }\n                elsif ($_ =~ m/^;;\\s*(.*)/) {\n                    $sDesc .= \"$1.\";\n                    next;\n                }\n                elsif ($_ =~ m/\\$;(\\S+)\\$;\\s*=\\s*(.*)/) {\n                    $sParam = $1;\n\n\n     $sValue = $2;\n\nif ((defined $sValue) &amp;&amp; ($sValue !~ m/^\\s*$/)) {\n                $phfield-&gt;{$sCategory}{$sParam} = [\"$sValue\", \"$sDesc\"];\n            }\n            else {\n                $field-&gt;{$sCategory}{$sParam} = [undef, \"$sDesc\"];\n            }\n                        }\n\n                        $sParam = $sValue = $sDesc = \"\";\n                        next;\n                    }\n                }\n</code></pre>\n\n<p>Write the new file - </p>\n\n<pre><code>sub write_config {\n\nmy $phCmdLineOption = shift;\n    my $phConfig        = shift;\n    my $sOut        = shift;\nopen(outfile, \"&gt;$sOut\") or die \" $!\";\n\n        foreach $sCategory (sort {$a cmp $b} keys %{$fields}) {\n                print $outfile \"[$sCategory]\\n\";\n                foreach $sParam (sort {$a cmp $b} keys %{$fields-{$sCategory}}) {\n                        $sDesc = ((defined $phConfig-&gt;{$sCategory}{$sParam}[1]) $fields-&gt;{$sCategory}{$sParam}[1] : \"\");\n                        print $outfile \";;$sDesc\\n\" if ((defined $sDesc) &amp;&amp; ($sDesc !~ m/^$/));\n\n                        $sValue = ((defined $fields-&gt;{$sCategory}{$sParam}[0]) ? $fields-&gt;{$sCategory}{$sParam}[0] : undef);\n\n                        print $outfile \"$sValue\" if (defined $sValue);\n                        print $outfile \"\\n\";\n                }\n                print $outfile \"\\n\";\n        }\n\n        close($outfile);\n\n    return;\n</code></pre>\n\n<p>Note -  I have posted this question on PerlMonks forum as well. Thanks a lot!</p>\n"}, {"tags": ["perl"], "comments": [{"owner": {"reputation": 21782, "user_id": 176646, "user_type": "registered", "accept_rate": 88, "profile_image": "https://i.stack.imgur.com/HsQyV.png?s=128&g=1", "display_name": "ThisSuitIsBlackNot", "link": "https://stackoverflow.com/users/176646/thissuitisblacknot"}, "edited": false, "score": 1, "creation_date": 1458326877, "post_id": 36092082, "comment_id": 59828421, "body": "What are you trying to do with the line <code>s&#47;\\s+&#47;&#47;g;</code>?"}, {"owner": {"reputation": 843, "user_id": 6020333, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/bea9014ebf1e1188cac53beb61560df8?s=128&d=identicon&r=PG&f=1", "display_name": "bart", "link": "https://stackoverflow.com/users/6020333/bart"}, "edited": false, "score": 0, "creation_date": 1458327359, "post_id": 36092082, "comment_id": 59828746, "body": "The code you provided does not produce the output you claim it does for the sample input. It produces empty file. The reason is that you are searching for <code>^M0|MT</code>, which is not present in the sample File.txt. Changing sample file to match that regex, still does not produce the output you claim. Instead, the original line is stored into the Output.txt file (with the newline missing)."}, {"owner": {"reputation": 149, "user_id": 3059096, "user_type": "registered", "accept_rate": 75, "profile_image": "https://www.gravatar.com/avatar/d12ffc0cd9482e260f377fa9a3c0f3bb?s=128&d=identicon&r=PG&f=1", "display_name": "PhoenixJay", "link": "https://stackoverflow.com/users/3059096/phoenixjay"}, "reply_to_user": {"reputation": 843, "user_id": 6020333, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/bea9014ebf1e1188cac53beb61560df8?s=128&d=identicon&r=PG&f=1", "display_name": "bart", "link": "https://stackoverflow.com/users/6020333/bart"}, "edited": false, "score": 0, "creation_date": 1458327741, "post_id": 36092082, "comment_id": 59828958, "body": "due to private information i removed the first line it looks for, sorry about that, i should of added a generic line.  On my (/$find/) how would I set the print NEW to state, only print NEW if the characters match the first to columns of the line? @bart"}, {"owner": {"reputation": 21782, "user_id": 176646, "user_type": "registered", "accept_rate": 88, "profile_image": "https://i.stack.imgur.com/HsQyV.png?s=128&g=1", "display_name": "ThisSuitIsBlackNot", "link": "https://stackoverflow.com/users/176646/thissuitisblacknot"}, "edited": false, "score": 0, "creation_date": 1458327956, "post_id": 36092082, "comment_id": 59829070, "body": "@PhoenixJay That&#39;s a totally different question, it would be better to make a new post for that."}, {"owner": {"reputation": 149, "user_id": 3059096, "user_type": "registered", "accept_rate": 75, "profile_image": "https://www.gravatar.com/avatar/d12ffc0cd9482e260f377fa9a3c0f3bb?s=128&d=identicon&r=PG&f=1", "display_name": "PhoenixJay", "link": "https://stackoverflow.com/users/3059096/phoenixjay"}, "edited": false, "score": 0, "creation_date": 1458329708, "post_id": 36092082, "comment_id": 59830048, "body": "Sorry about that, I found out what i was missing.. () around my find ^M0|MT"}, {"owner": {"reputation": 87649, "user_id": 17389, "user_type": "registered", "accept_rate": 38, "profile_image": "https://www.gravatar.com/avatar/cd06d1314817ce946ab796af8750b56a?s=128&d=identicon&r=PG", "display_name": "ysth", "link": "https://stackoverflow.com/users/17389/ysth"}, "edited": false, "score": 1, "creation_date": 1458332026, "post_id": 36092082, "comment_id": 59831123, "body": "Note that that means &quot;begins with M0 or contains MT&quot;.  If you want &quot;begins with M0 or MT&quot; you need to change it"}], "answers": [{"comments": [{"owner": {"reputation": 149, "user_id": 3059096, "user_type": "registered", "accept_rate": 75, "profile_image": "https://www.gravatar.com/avatar/d12ffc0cd9482e260f377fa9a3c0f3bb?s=128&d=identicon&r=PG&f=1", "display_name": "PhoenixJay", "link": "https://stackoverflow.com/users/3059096/phoenixjay"}, "edited": false, "score": 0, "creation_date": 1458327946, "post_id": 36092305, "comment_id": 59829063, "body": "Thank you! @ThisSuitIsBlackNot , I knew it was something simple I just couldn&#39;t figure it out for the life of me. I am very new to PERL so I have been slowly learning the language as I go."}], "tags": [], "owner": {"reputation": 3845, "user_id": 5982110, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/3697e0ab47bfe2f56ade505b61527f23?s=128&d=identicon&r=PG&f=1", "display_name": "rpy", "link": "https://stackoverflow.com/users/5982110/rpy"}, "is_accepted": true, "score": 1, "last_activity_date": 1458327360, "creation_date": 1458327360, "answer_id": 36092305, "question_id": 36092082, "link": "https://stackoverflow.com/questions/36092082/perl-script-is-removing-spaces-in-match/36092305#36092305", "title": "Perl Script Is Removing Spaces In Match", "body": "<p>As @ThisSuitIsBlackNot already pointed to:</p>\n\n<p>The line </p>\n\n<pre><code>s/\\s+//g;\n</code></pre>\n\n<p>Is eating your spaces. It states: replace a sequence of one or more spaces by nothing and repeat for the complete input string.</p>\n\n<p>Looks like you intended to say:</p>\n\n<pre><code>s/\\s+/ /g;\n</code></pre>\n\n<p>so, just replacing the sequences of  spaces by a single space.</p>\n"}], "owner": {"reputation": 149, "user_id": 3059096, "user_type": "registered", "accept_rate": 75, "profile_image": "https://www.gravatar.com/avatar/d12ffc0cd9482e260f377fa9a3c0f3bb?s=128&d=identicon&r=PG&f=1", "display_name": "PhoenixJay", "link": "https://stackoverflow.com/users/3059096/phoenixjay"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 37, "favorite_count": 0, "accepted_answer_id": 36092305, "answer_count": 1, "score": 0, "last_activity_date": 1458327360, "creation_date": 1458326628, "question_id": 36092082, "link": "https://stackoverflow.com/questions/36092082/perl-script-is-removing-spaces-in-match", "title": "Perl Script Is Removing Spaces In Match", "body": "<p>I have script that works well but the problem I am having is that it is combining all the words in the match and removing the spacing. If anyone can help tell me what extra I have or I am missing to prevent the script from combining the words in the match.</p>\n\n<pre><code>use strict;\n\nmy $find = '^M0|MT';\nmy $match = 0;\n\nopen (NEW, \"&gt;\", \"Output.txt\" ) or die \"could not open:$!\";\nopen (FILE, \"&lt;\", \"File.txt\") or die \"could not open:$!\";\n\nwhile (&lt;FILE&gt;) {\n    chomp;\n\nif ($match){\n    $match = 0;\n    s/\\s+//g;\n    print NEW \"$_\\n\";\n}\n\nif (/$find/){\n    $match = 1;\n    print NEW \"$_\"\n}\n}\nclose (FILE);\nclose (NEW);\n</code></pre>\n\n<p>File Example</p>\n\n<pre><code>          U# mul acc       UNIT # HAS MULTIPLE ACCOUNTS          FAIL\n</code></pre>\n\n<p>Output Example (What is currently happening with my script)</p>\n\n<pre><code>          U#mulaccUNIT#HASMULTIPLEACCOUNTSFAIL\n</code></pre>\n"}, {"tags": ["perl", "debugging"], "comments": [{"owner": {"reputation": 80882, "user_id": 18157, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/4d3de78b198076dd5a5006abd17cb0f8?s=128&d=identicon&r=PG&f=1", "display_name": "Jim Garrison", "link": "https://stackoverflow.com/users/18157/jim-garrison"}, "edited": false, "score": 1, "creation_date": 1458324853, "post_id": 36091495, "comment_id": 59827212, "body": "Have you tried anything?  Without knowing more details about what you&#39;re trying to do, there doesn&#39;t seem to be an actual question here."}, {"owner": {"reputation": 21782, "user_id": 176646, "user_type": "registered", "accept_rate": 88, "profile_image": "https://i.stack.imgur.com/HsQyV.png?s=128&g=1", "display_name": "ThisSuitIsBlackNot", "link": "https://stackoverflow.com/users/176646/thissuitisblacknot"}, "edited": false, "score": 1, "creation_date": 1458324956, "post_id": 36091495, "comment_id": 59827274, "body": "Can you clarify what you mean by &quot;debug the debugger&quot;? Are you trying to debug a custom debugger you&#39;ve written? Can you give a specific example?"}, {"owner": {"reputation": 15304, "user_id": 4632019, "user_type": "registered", "accept_rate": 57, "profile_image": "https://www.gravatar.com/avatar/8937eb40752cf51c7da61bd4a322a4ef?s=128&d=identicon&r=PG&f=1", "display_name": "Eugen Konkov", "link": "https://stackoverflow.com/users/4632019/eugen-konkov"}, "reply_to_user": {"reputation": 21782, "user_id": 176646, "user_type": "registered", "accept_rate": 88, "profile_image": "https://i.stack.imgur.com/HsQyV.png?s=128&g=1", "display_name": "ThisSuitIsBlackNot", "link": "https://stackoverflow.com/users/176646/thissuitisblacknot"}, "edited": false, "score": 0, "creation_date": 1458593829, "post_id": 36091495, "comment_id": 59921100, "body": "@ThisSuitIsBlackNot, Yes, I am trying to debug a custome debugger."}, {"owner": {"reputation": 21782, "user_id": 176646, "user_type": "registered", "accept_rate": 88, "profile_image": "https://i.stack.imgur.com/HsQyV.png?s=128&g=1", "display_name": "ThisSuitIsBlackNot", "link": "https://stackoverflow.com/users/176646/thissuitisblacknot"}, "edited": false, "score": 0, "creation_date": 1458754159, "post_id": 36091495, "comment_id": 60005085, "body": "I&#39;m not sure setting <code>$^D</code> to <code>1&lt;&lt;30</code> even works properly. For one thing, printing it resets the value to 0 because it doesn&#39;t match the <a href=\"http://perldoc.perl.org/perlrun.html#%2A-D%2A_letters_\" rel=\"nofollow noreferrer\">standard debug flags</a>: <code>perl -MDevel::Peek -e&#39;$^D |= (1&lt;&lt;30); Dump $^D; print &quot;$^D\\n&quot;; Dump $^D&#39;</code>"}, {"owner": {"reputation": 15304, "user_id": 4632019, "user_type": "registered", "accept_rate": 57, "profile_image": "https://www.gravatar.com/avatar/8937eb40752cf51c7da61bd4a322a4ef?s=128&d=identicon&r=PG&f=1", "display_name": "Eugen Konkov", "link": "https://stackoverflow.com/users/4632019/eugen-konkov"}, "reply_to_user": {"reputation": 21782, "user_id": 176646, "user_type": "registered", "accept_rate": 88, "profile_image": "https://i.stack.imgur.com/HsQyV.png?s=128&g=1", "display_name": "ThisSuitIsBlackNot", "link": "https://stackoverflow.com/users/176646/thissuitisblacknot"}, "edited": false, "score": 0, "creation_date": 1458816409, "post_id": 36091495, "comment_id": 60029897, "body": "@ThisSuitIsBlackNot: am confusing also because of that."}, {"owner": {"reputation": 21782, "user_id": 176646, "user_type": "registered", "accept_rate": 88, "profile_image": "https://i.stack.imgur.com/HsQyV.png?s=128&g=1", "display_name": "ThisSuitIsBlackNot", "link": "https://stackoverflow.com/users/176646/thissuitisblacknot"}, "edited": false, "score": 0, "creation_date": 1458837596, "post_id": 36091495, "comment_id": 60044141, "body": "I edited your question pretty heavily to make it clear what you&#39;re asking, I hope you don&#39;t mind. You can call subroutines from inside <code>DB::DB</code>, which means you can call <code>DB::DB</code> recursively, but I&#39;m not sure how useful that is. More useful would be a way to temporarily restore the default debugger (<code>perl5db.pl</code>). Maybe you could alias <code>DB::DB</code> to the version in <code>perl5db.pl</code>? Also, have you tried asking on <a href=\"http://lists.perl.org/list/perl5-porters.html\" rel=\"nofollow noreferrer\">perl5-porters</a>? If anyone knows, it would be them."}, {"owner": {"reputation": 15304, "user_id": 4632019, "user_type": "registered", "accept_rate": 57, "profile_image": "https://www.gravatar.com/avatar/8937eb40752cf51c7da61bd4a322a4ef?s=128&d=identicon&r=PG&f=1", "display_name": "Eugen Konkov", "link": "https://stackoverflow.com/users/4632019/eugen-konkov"}, "edited": false, "score": 1, "creation_date": 1460183787, "post_id": 36091495, "comment_id": 60633064, "body": "#p5p says that is not possible to trace any DB::* subs. but I invented a trick how to complete that. I think I may answer the question myself in a month after complete that feature in my custom debugger"}], "answers": [{"comments": [{"owner": {"reputation": 6980, "user_id": 4558029, "user_type": "registered", "accept_rate": 90, "profile_image": "https://www.gravatar.com/avatar/f2e68ee36e4352eed3fbd2c3131d01a1?s=128&d=identicon&r=PG&f=1", "display_name": "lokusking", "link": "https://stackoverflow.com/users/4558029/lokusking"}, "edited": false, "score": 0, "creation_date": 1471168571, "post_id": 36236544, "comment_id": 65237274, "body": "Please use the edit link on your question to add additional information. The Post Answer button should be used only for complete answers to the question. - <a href=\"/review/low-quality-posts/13327349\">From Review</a>"}, {"owner": {"reputation": 15304, "user_id": 4632019, "user_type": "registered", "accept_rate": 57, "profile_image": "https://www.gravatar.com/avatar/8937eb40752cf51c7da61bd4a322a4ef?s=128&d=identicon&r=PG&f=1", "display_name": "Eugen Konkov", "link": "https://stackoverflow.com/users/4632019/eugen-konkov"}, "reply_to_user": {"reputation": 6980, "user_id": 4558029, "user_type": "registered", "accept_rate": 90, "profile_image": "https://www.gravatar.com/avatar/f2e68ee36e4352eed3fbd2c3131d01a1?s=128&d=identicon&r=PG&f=1", "display_name": "lokusking", "link": "https://stackoverflow.com/users/4558029/lokusking"}, "edited": false, "score": 0, "creation_date": 1471180181, "post_id": 36236544, "comment_id": 65240071, "body": "It is not complete answer so I do not accept it. I am working on my custom debugger now. After I complete it I will complete this answer too."}], "tags": [], "owner": {"reputation": 15304, "user_id": 4632019, "user_type": "registered", "accept_rate": 57, "profile_image": "https://www.gravatar.com/avatar/8937eb40752cf51c7da61bd4a322a4ef?s=128&d=identicon&r=PG&f=1", "display_name": "Eugen Konkov", "link": "https://stackoverflow.com/users/4632019/eugen-konkov"}, "is_accepted": false, "score": 1, "last_activity_date": 1459002977, "creation_date": 1459002977, "answer_id": 36236544, "question_id": 36091495, "link": "https://stackoverflow.com/questions/36091495/how-can-i-debug-a-custom-debugger/36236544#36236544", "title": "How can I debug a custom debugger?", "body": "<p>This is my custom debugger <a href=\"https://github.com/KES777/Devel-DebugHooks/tree/develop\" rel=\"nofollow\">Devel::DebugHooks</a> which I want to debug.</p>\n\n<p>When I run this expression from debugger <code>$^D|=(1&lt;&lt;30)</code> and after that run debugger command, like <code>vars 2 $x</code>, this will allow me to debug code which is called from DB:: namespace.</p>\n\n<blockquote>\n  <p>This feature is disabled when executing inside DB::DB(), including functions called from it unless <code>$^D &amp; (1&lt;&lt;30)</code> is true</p>\n</blockquote>\n\n<p>This sentence from DOC just makes confusion.<br>\nThe feature is <strong>NOT</strong> disabled when executing inside <code>DB::DB()</code> unless <code>$^D &amp; (1&lt;&lt;30)</code> is true.<br>\n<strong>This feature is disabled only for functions called from <code>DB::DB()</code> when <code>$^D &amp; (1&lt;&lt;30)</code> is true</strong></p>\n"}], "owner": {"reputation": 15304, "user_id": 4632019, "user_type": "registered", "accept_rate": 57, "profile_image": "https://www.gravatar.com/avatar/8937eb40752cf51c7da61bd4a322a4ef?s=128&d=identicon&r=PG&f=1", "display_name": "Eugen Konkov", "link": "https://stackoverflow.com/users/4632019/eugen-konkov"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 236, "favorite_count": 3, "answer_count": 1, "score": 4, "last_activity_date": 1470596493, "creation_date": 1458324714, "last_edit_date": 1592644375, "question_id": 36091495, "link": "https://stackoverflow.com/questions/36091495/how-can-i-debug-a-custom-debugger", "title": "How can I debug a custom debugger?", "body": "<p>I wrote a custom debugger as described in <a href=\"http://perldoc.perl.org/perldebguts.html#Writing-Your-Own-Debugger\" rel=\"noreferrer\">perldebguts</a>. There's something wrong with my debugger code, though, so I want to step through my <code>DB::DB()</code> and <code>DB::sub()</code> routines line-by-line to isolate the problem.</p>\n<p>I suppose I can do this by setting <a href=\"http://perldoc.perl.org/perlvar.html#%24%5ED\" rel=\"noreferrer\"><code>$^D</code></a> to <code>1&lt;&lt;30</code>, since the <a href=\"http://perldoc.perl.org/perldebguts.html#Debugger-Internals\" rel=\"noreferrer\">documentation</a> says:</p>\n<blockquote>\n<p>When the execution of your program reaches a point that can hold a breakpoint, the <code>DB::DB()</code> subroutine is called if any of the variables <code>$DB::trace</code>, <code>$DB::single</code>, or <code>$DB::signal</code> is true. These variables are not localizable. This feature is disabled when executing inside <code>DB::DB()</code>, including functions called from it <strong>unless <code>$^D &amp; (1&lt;&lt;30)</code> is true.</strong></p>\n<p>When execution of the program reaches a subroutine call, a call to <code>&amp;DB::sub (args)</code> is made instead, with <code>$DB::sub</code> holding the name of the called subroutine. (This doesn't happen if the subroutine was compiled in the DB package.)</p>\n</blockquote>\n<p><em>(emphasis added)</em></p>\n<p>People on the IRC #perl-help channel said that with <code>$^D &amp; (1&lt;&lt;30)</code> I may be able to debug my debugger but they didn't know any details beyond that.</p>\n<p>How can I trace the execution of my <code>DB::DB()</code> and <code>DB::sub()</code> subroutines step-by-step?</p>\n<p><strong>UPD</strong>\nAccording to the answer below. When set <code>$^D |= (1&lt;&lt;30)</code> flag this allows me to debug debugger commands which is defined outside of <code>DB</code> namespace, but that is not an answer  for question: <em>How to disable that feature when executing inside DB::DB?</em></p>\n"}, {"tags": ["perl", "perl-module"], "comments": [{"owner": {"reputation": 198290, "user_id": 1030675, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/957956ce51706d03f19a4dc85a767bb1?s=128&d=identicon&r=PG", "display_name": "choroba", "link": "https://stackoverflow.com/users/1030675/choroba"}, "edited": false, "score": 1, "creation_date": 1458323389, "post_id": 36091001, "comment_id": 59826412, "body": "<code>$data-&gt;{global}{cu}</code> should be <code>$data-&gt;{con}{s1}{global}{cu}</code>, and version is just <code>$data-&gt;{version}</code>."}, {"owner": {"reputation": 3, "user_id": 6083809, "user_type": "registered", "accept_rate": 50, "profile_image": "https://www.gravatar.com/avatar/bfb54c7054ed20c799f4d18a785b6873?s=128&d=identicon&r=PG&f=1", "display_name": "virat", "link": "https://stackoverflow.com/users/6083809/virat"}, "reply_to_user": {"reputation": 198290, "user_id": 1030675, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/957956ce51706d03f19a4dc85a767bb1?s=128&d=identicon&r=PG", "display_name": "choroba", "link": "https://stackoverflow.com/users/1030675/choroba"}, "edited": false, "score": 0, "creation_date": 1458323740, "post_id": 36091001, "comment_id": 59826622, "body": "@choroba could you please tell me how to increment the version number ?"}, {"owner": {"reputation": 198290, "user_id": 1030675, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/957956ce51706d03f19a4dc85a767bb1?s=128&d=identicon&r=PG", "display_name": "choroba", "link": "https://stackoverflow.com/users/1030675/choroba"}, "edited": false, "score": 0, "creation_date": 1458323765, "post_id": 36091001, "comment_id": 59826639, "body": "<code>$data-&gt;{version}++;</code> should do it."}], "answers": [{"comments": [{"owner": {"reputation": 3, "user_id": 6083809, "user_type": "registered", "accept_rate": 50, "profile_image": "https://www.gravatar.com/avatar/bfb54c7054ed20c799f4d18a785b6873?s=128&d=identicon&r=PG&f=1", "display_name": "virat", "link": "https://stackoverflow.com/users/6083809/virat"}, "edited": false, "score": 0, "creation_date": 1458327600, "post_id": 36091965, "comment_id": 59828886, "body": "If i want to install the file in a different directory after incrementing it what should i do ?"}, {"owner": {"reputation": 123805, "user_id": 622310, "user_type": "registered", "accept_rate": 33, "profile_image": "https://www.gravatar.com/avatar/8b6d35219e1808520bc238b28161e2e6?s=128&d=identicon&r=PG", "display_name": "Borodin", "link": "https://stackoverflow.com/users/622310/borodin"}, "reply_to_user": {"reputation": 3, "user_id": 6083809, "user_type": "registered", "accept_rate": 50, "profile_image": "https://www.gravatar.com/avatar/bfb54c7054ed20c799f4d18a785b6873?s=128&d=identicon&r=PG&f=1", "display_name": "virat", "link": "https://stackoverflow.com/users/6083809/virat"}, "edited": false, "score": 0, "creation_date": 1458327918, "post_id": 36091965, "comment_id": 59829050, "body": "Declare a second constant for the output file"}], "tags": [], "owner": {"reputation": 123805, "user_id": 622310, "user_type": "registered", "accept_rate": 33, "profile_image": "https://www.gravatar.com/avatar/8b6d35219e1808520bc238b28161e2e6?s=128&d=identicon&r=PG", "display_name": "Borodin", "link": "https://stackoverflow.com/users/622310/borodin"}, "is_accepted": true, "score": 2, "last_activity_date": 1458329964, "last_edit_date": 1458329964, "creation_date": 1458326303, "answer_id": 36091965, "question_id": 36091001, "link": "https://stackoverflow.com/questions/36091001/json-parsing-using-perl/36091965#36091965", "title": "json parsing using perl", "body": "<p>As well as the missing <code>{con}{s1}</code> keys, you have <code>id</code> instead of <code>Id</code></p>\n\n<p>This code appears to work</p>\n\n<pre><code>#!/usr/bin/perl\n\nuse strict;\nuse warnings;\nuse v5.14.1;  # for autodie\nuse autodie;\n\nuse JSON;\n\nuse constant JSON_FILE =&gt; '/a/etc/cm/nw/st/cfg.json';\n\nmy $data = do {\n    open my $fh, '&lt;', JSON_FILE;\n    local $/;\n    decode_json(&lt;$fh&gt;);\n};\n\nmy $cu = $data-&gt;{con}{s1}{global}{cu};\n\nfor my $cust ( @$cu ) {\n    $cust-&gt;{s} = 1861 if $cust-&gt;{Id} == 232799;\n}\n\n++$data-&gt;{version};\n\n{\n    open my $fh, '&gt;', JSON_FILE;\n    print $fh JSON-&gt;new-&gt;utf8-&gt;pretty-&gt;encode($data);\n}\n</code></pre>\n"}], "owner": {"reputation": 3, "user_id": 6083809, "user_type": "registered", "accept_rate": 50, "profile_image": "https://www.gravatar.com/avatar/bfb54c7054ed20c799f4d18a785b6873?s=128&d=identicon&r=PG&f=1", "display_name": "virat", "link": "https://stackoverflow.com/users/6083809/virat"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 2040, "favorite_count": 0, "accepted_answer_id": 36091965, "answer_count": 1, "score": -2, "last_activity_date": 1458329964, "creation_date": 1458323097, "question_id": 36091001, "link": "https://stackoverflow.com/questions/36091001/json-parsing-using-perl", "title": "json parsing using perl", "body": "<p>I have a huge  json file ~1000+ lines. I wanted to implement two things.</p>\n\n<p>1) In the json file,if <code>\"Id\" : \"232799\"</code> then assign <code>\"s\"</code> as <code>\"1861\"</code> \nI did this using  decode_json. It works as expected.</p>\n\n<p>2)Increment the <code>version</code> number by 1 and save the file in a particular directory. I want this to happen in a loop . </p>\n\n<p>I believe decode_json should be used to parse json object/json array.\nHowever, version is the first line in the file.I'm not really sure if decode could be used.Any suggestions?</p>\n\n<pre><code>{\n    \"version\": \"16300173\",\n    \"con\": {\n        \"s1\": {\n            \"key\": false,\n            \"global\": {\n                \"cu\": [\n                    {\n                        \"Id\": \"232799\",\n                        \"s\": 1861,\n                        \"Sps\": \"xx\",\n                        \"cId\": \"xyzzde\",\n                        \"pat\": \"-123456789\",\n                        \"Config\": true,\n                        \"auth\": [\n                            {\n                                \"Type\": \"5\",\n                                \"dir\": \"in\"\n                            },\n                            {\n                                \"Type\": \"6\",\n                                \"dir\": \"out\"\n                            }\n                        ],\n</code></pre>\n\n<p>script :</p>\n\n<pre><code>  #!/usr/bin/perl\n\n    use strict;\n    use warnings;\n    use JSON;\n\n    my $json;\n    {\n       open my $fh, \"&lt;\", \"/a/etc/cm/nw/st/cfg.json\"\n          or die(\"Can't open file \\\"/a/etc/cm/nw/st/cfg.json\\\": $!\\n\");\n       local $/;\n       $json = &lt;$fh&gt;;\n    }\n\n    my $data = decode_json($json);\n\n    for my $customers (@{ $data-&gt;{global}{cu} }) {\n   $customers-&gt;{s} = 1861\n      if $customers-&gt;{id} ==237299;\n\n}\n\n    $json = JSON-&gt;new-&gt;utf8-&gt;pretty-&gt;encode($data);\n\n    {\n       open my $fh, \"&gt;\" ,\"/a/etc/cm/nw/st/cfg.json\"\n          or die(\"Can't open file \\\"/a/etc/cm/nw/st/cfg.json\\\": $!\\n\");\n       local $/;\n\n       print $fh $json;\n\n\n    }\n</code></pre>\n"}, {"tags": ["macos", "perl", "bioinformatics", "bioperl"], "comments": [{"owner": {"reputation": 113221, "user_id": 100754, "user_type": "registered", "accept_rate": 90, "profile_image": "https://www.gravatar.com/avatar/7804ebae32fbadef38537d74a915c22f?s=128&d=identicon&r=PG", "display_name": "Sinan &#220;n&#252;r", "link": "https://stackoverflow.com/users/100754/sinan-%c3%9cn%c3%bcr"}, "edited": false, "score": 1, "creation_date": 1458317837, "post_id": 36088231, "comment_id": 59822929, "body": "<code>$ which perl</code> ... Also, don&#39;t mess with the system <code>perl</code>. Install one for yourself and use it."}, {"owner": {"reputation": 815, "user_id": 1403470, "user_type": "registered", "accept_rate": 10, "profile_image": "https://www.gravatar.com/avatar/79cb50191709dae232fe47f5ebf464f1?s=128&d=identicon&r=PG", "display_name": "Greg Wilson", "link": "https://stackoverflow.com/users/1403470/greg-wilson"}, "reply_to_user": {"reputation": 113221, "user_id": 100754, "user_type": "registered", "accept_rate": 90, "profile_image": "https://www.gravatar.com/avatar/7804ebae32fbadef38537d74a915c22f?s=128&d=identicon&r=PG", "display_name": "Sinan &#220;n&#252;r", "link": "https://stackoverflow.com/users/100754/sinan-%c3%9cn%c3%bcr"}, "edited": false, "score": 0, "creation_date": 1458326672, "post_id": 36088231, "comment_id": 59828295, "body": "<code>which perl</code> reports <code>&#47;usr&#47;bin&#47;perl</code>"}, {"owner": {"reputation": 113221, "user_id": 100754, "user_type": "registered", "accept_rate": 90, "profile_image": "https://www.gravatar.com/avatar/7804ebae32fbadef38537d74a915c22f?s=128&d=identicon&r=PG", "display_name": "Sinan &#220;n&#252;r", "link": "https://stackoverflow.com/users/100754/sinan-%c3%9cn%c3%bcr"}, "edited": false, "score": 1, "creation_date": 1458341461, "post_id": 36088231, "comment_id": 59835373, "body": "You need to install <a href=\"https://metacpan.org/release/Bio-SamTools\" rel=\"nofollow noreferrer\">Bio-SamTools</a> ... but, as I said, you will be much better off if you build your own <code>perl</code> and use that instead of messing with the system Perl installation."}, {"owner": {"reputation": 860, "user_id": 1543853, "user_type": "registered", "accept_rate": 86, "profile_image": "https://www.gravatar.com/avatar/72dc5271019735b6ec8f979e4dc17ef9?s=128&d=identicon&r=PG", "display_name": "SES", "link": "https://stackoverflow.com/users/1543853/ses"}, "edited": false, "score": 1, "creation_date": 1458857183, "post_id": 36088231, "comment_id": 60054785, "body": "Out of curiosity, why can&#39;t you use this on the cluster where the data is? Moving these huge (sometimes ~100 GB) files around and trying to do the work on your personal machine will be slow and cause you other headaches. The answer I provided will allow you to do all the work on the cluster (just one way). To answer your last question, &quot;.so&quot; is on Linux and the library file on your Mac is called &quot;lilbbam.a&quot; (you&#39;ll see that after compiling samtools)."}], "answers": [{"comments": [{"owner": {"reputation": 121105, "user_id": 2766176, "user_type": "registered", "accept_rate": 61, "profile_image": "https://www.gravatar.com/avatar/edd8638efe875601bfe394a8aea5b16d?s=128&d=identicon&r=PG", "display_name": "brian d foy", "link": "https://stackoverflow.com/users/2766176/brian-d-foy"}, "edited": false, "score": 1, "creation_date": 1458800988, "post_id": 36096551, "comment_id": 60022780, "body": "Why not just <code>cpan Bio::SamTools</code>? Is there something weird going on there?"}, {"owner": {"reputation": 860, "user_id": 1543853, "user_type": "registered", "accept_rate": 86, "profile_image": "https://www.gravatar.com/avatar/72dc5271019735b6ec8f979e4dc17ef9?s=128&d=identicon&r=PG", "display_name": "SES", "link": "https://stackoverflow.com/users/1543853/ses"}, "reply_to_user": {"reputation": 121105, "user_id": 2766176, "user_type": "registered", "accept_rate": 61, "profile_image": "https://www.gravatar.com/avatar/edd8638efe875601bfe394a8aea5b16d?s=128&d=identicon&r=PG", "display_name": "brian d foy", "link": "https://stackoverflow.com/users/2766176/brian-d-foy"}, "edited": false, "score": 0, "creation_date": 1458837255, "post_id": 36096551, "comment_id": 60043905, "body": "@brian d foy That won&#39;t work because this this is an XS interface to samtools, so you need to compile that library with a specific flag and set the environment variable as shown above."}, {"owner": {"reputation": 860, "user_id": 1543853, "user_type": "registered", "accept_rate": 86, "profile_image": "https://www.gravatar.com/avatar/72dc5271019735b6ec8f979e4dc17ef9?s=128&d=identicon&r=PG", "display_name": "SES", "link": "https://stackoverflow.com/users/1543853/ses"}, "reply_to_user": {"reputation": 121105, "user_id": 2766176, "user_type": "registered", "accept_rate": 61, "profile_image": "https://www.gravatar.com/avatar/edd8638efe875601bfe394a8aea5b16d?s=128&d=identicon&r=PG", "display_name": "brian d foy", "link": "https://stackoverflow.com/users/2766176/brian-d-foy"}, "edited": false, "score": 0, "creation_date": 1458837940, "post_id": 36096551, "comment_id": 60044389, "body": "Why all the downvotes? This works and I understand the libraries well. If someone thinks they can do it better or provide a different solution then please show it. If the downvotes are because I mentioned perlbrew, that was only a suggestion. Use whatever Perl you like. Downvoting a working solution, and the only answer, for reasons not related to the question seems petty to me. Please explain what you think the issue is here."}, {"owner": {"reputation": 860, "user_id": 1543853, "user_type": "registered", "accept_rate": 86, "profile_image": "https://www.gravatar.com/avatar/72dc5271019735b6ec8f979e4dc17ef9?s=128&d=identicon&r=PG", "display_name": "SES", "link": "https://stackoverflow.com/users/1543853/ses"}, "reply_to_user": {"reputation": 113221, "user_id": 100754, "user_type": "registered", "accept_rate": 90, "profile_image": "https://www.gravatar.com/avatar/7804ebae32fbadef38537d74a915c22f?s=128&d=identicon&r=PG", "display_name": "Sinan &#220;n&#252;r", "link": "https://stackoverflow.com/users/100754/sinan-%c3%9cn%c3%bcr"}, "edited": false, "score": 0, "creation_date": 1458839354, "post_id": 36096551, "comment_id": 60045286, "body": "@Sinan&#220;n&#252;r with regards to the edit, the slash is there for a reason (see <a href=\"http://stackoverflow.com/questions/15691977/why-start-a-shell-command-with-a-backslash\">this question</a> for a description). Though, I guess I&#39;ll remove that part entirely. I didn&#39;t think mentioning perlbrew would be such a contentious issue, just trying to help."}, {"owner": {"reputation": 121105, "user_id": 2766176, "user_type": "registered", "accept_rate": 61, "profile_image": "https://www.gravatar.com/avatar/edd8638efe875601bfe394a8aea5b16d?s=128&d=identicon&r=PG", "display_name": "brian d foy", "link": "https://stackoverflow.com/users/2766176/brian-d-foy"}, "edited": false, "score": 1, "creation_date": 1458841142, "post_id": 36096551, "comment_id": 60046396, "body": "@SES: What doesn&#39;t work with <code>cpan</code>? You wouldn&#39;t use a Perl module installer to install samtools. You use it to install the Perl module. If there&#39;s something that&#39;s not working, I&#39;d like to fix that."}, {"owner": {"reputation": 121105, "user_id": 2766176, "user_type": "registered", "accept_rate": 61, "profile_image": "https://www.gravatar.com/avatar/edd8638efe875601bfe394a8aea5b16d?s=128&d=identicon&r=PG", "display_name": "brian d foy", "link": "https://stackoverflow.com/users/2766176/brian-d-foy"}, "edited": false, "score": 1, "creation_date": 1458843631, "post_id": 36096551, "comment_id": 60047989, "body": "I&#39;m the author of the <code>cpan</code> tool. You didn&#39;t use it where I would expect someone to use it so I asked if there was something wrong with the tool. Curiously, there&#39;s an <a href=\"http://www.metacpan.org/module/Alien::SamTools\" rel=\"nofollow noreferrer\">Alien::SamTools</a> Perl package that <code>cpan</code> can use to install samtools-0.1.19. If you have problems with the <code>cpan</code> tool not doing what it should do for you, please let us know so we can fix it. Good luck,"}, {"owner": {"reputation": 860, "user_id": 1543853, "user_type": "registered", "accept_rate": 86, "profile_image": "https://www.gravatar.com/avatar/72dc5271019735b6ec8f979e4dc17ef9?s=128&d=identicon&r=PG", "display_name": "SES", "link": "https://stackoverflow.com/users/1543853/ses"}, "reply_to_user": {"reputation": 121105, "user_id": 2766176, "user_type": "registered", "accept_rate": 61, "profile_image": "https://www.gravatar.com/avatar/edd8638efe875601bfe394a8aea5b16d?s=128&d=identicon&r=PG", "display_name": "brian d foy", "link": "https://stackoverflow.com/users/2766176/brian-d-foy"}, "edited": false, "score": 0, "creation_date": 1458846229, "post_id": 36096551, "comment_id": 60049517, "body": "@briandfoy You are correct, you can use <code>cpan</code> and vanilla <code>make</code> for samtools on a Mac. This won&#39;t work on Linux though, which is an important distinction because most work will be done on a Linux cluster. This is odd, usually it is not the case that compiling a tool and installing the module/interface is easier on Mac, usually it is the other way around."}, {"owner": {"reputation": 860, "user_id": 1543853, "user_type": "registered", "accept_rate": 86, "profile_image": "https://www.gravatar.com/avatar/72dc5271019735b6ec8f979e4dc17ef9?s=128&d=identicon&r=PG", "display_name": "SES", "link": "https://stackoverflow.com/users/1543853/ses"}, "reply_to_user": {"reputation": 113221, "user_id": 100754, "user_type": "registered", "accept_rate": 90, "profile_image": "https://www.gravatar.com/avatar/7804ebae32fbadef38537d74a915c22f?s=128&d=identicon&r=PG", "display_name": "Sinan &#220;n&#252;r", "link": "https://stackoverflow.com/users/100754/sinan-%c3%9cn%c3%bcr"}, "edited": false, "score": 0, "creation_date": 1458851033, "post_id": 36096551, "comment_id": 60052128, "body": "@Sinan&#220;n&#252;r I&#39;ll update my answer to be more accurate, there are some important details that have been missed and it could be better."}, {"owner": {"reputation": 860, "user_id": 1543853, "user_type": "registered", "accept_rate": 86, "profile_image": "https://www.gravatar.com/avatar/72dc5271019735b6ec8f979e4dc17ef9?s=128&d=identicon&r=PG", "display_name": "SES", "link": "https://stackoverflow.com/users/1543853/ses"}, "reply_to_user": {"reputation": 121105, "user_id": 2766176, "user_type": "registered", "accept_rate": 61, "profile_image": "https://www.gravatar.com/avatar/edd8638efe875601bfe394a8aea5b16d?s=128&d=identicon&r=PG", "display_name": "brian d foy", "link": "https://stackoverflow.com/users/2766176/brian-d-foy"}, "edited": false, "score": 0, "creation_date": 1458853401, "post_id": 36096551, "comment_id": 60053234, "body": "@briandfoy <code>cpan</code> for installing the Perl library works fine after the correct installation of the required C library and I updated my answer to reflect that. I thought you were asking why not <i>just</i> use <code>cpan</code> and skip the other steps. My response is that they are required (the C library part) beforehand, so <code>cpan</code> alone won&#39;t work. Hopefully that provides some clarity."}, {"owner": {"reputation": 860, "user_id": 1543853, "user_type": "registered", "accept_rate": 86, "profile_image": "https://www.gravatar.com/avatar/72dc5271019735b6ec8f979e4dc17ef9?s=128&d=identicon&r=PG", "display_name": "SES", "link": "https://stackoverflow.com/users/1543853/ses"}, "reply_to_user": {"reputation": 113221, "user_id": 100754, "user_type": "registered", "accept_rate": 90, "profile_image": "https://www.gravatar.com/avatar/7804ebae32fbadef38537d74a915c22f?s=128&d=identicon&r=PG", "display_name": "Sinan &#220;n&#252;r", "link": "https://stackoverflow.com/users/100754/sinan-%c3%9cn%c3%bcr"}, "edited": false, "score": 0, "creation_date": 1458854218, "post_id": 36096551, "comment_id": 60053581, "body": "@Sinan&#220;n&#252;r I have to ask you to reconsider your comment about deleting the answer and me being confused. I&#39;m not confused, I know these libraries and the Perl toolchain quite well. There was a misunderstanding is all. And, we discussed it and arrived at an understanding."}, {"owner": {"reputation": 113221, "user_id": 100754, "user_type": "registered", "accept_rate": 90, "profile_image": "https://www.gravatar.com/avatar/7804ebae32fbadef38537d74a915c22f?s=128&d=identicon&r=PG", "display_name": "Sinan &#220;n&#252;r", "link": "https://stackoverflow.com/users/100754/sinan-%c3%9cn%c3%bcr"}, "edited": false, "score": 1, "creation_date": 1458859255, "post_id": 36096551, "comment_id": 60055543, "body": "Your answer was confusing, to say the very least, given the certainty with which you claimed <code>cpan</code> or <code>cpanm</code> would not work on Linux. I&#39;ve deleted my comment, but I can&#39;t undo my vote. If a third person comes and votes to delete, it will be deleted. If that happens, you can flag it for moderator attention."}, {"owner": {"reputation": 860, "user_id": 1543853, "user_type": "registered", "accept_rate": 86, "profile_image": "https://www.gravatar.com/avatar/72dc5271019735b6ec8f979e4dc17ef9?s=128&d=identicon&r=PG", "display_name": "SES", "link": "https://stackoverflow.com/users/1543853/ses"}, "reply_to_user": {"reputation": 113221, "user_id": 100754, "user_type": "registered", "accept_rate": 90, "profile_image": "https://www.gravatar.com/avatar/7804ebae32fbadef38537d74a915c22f?s=128&d=identicon&r=PG", "display_name": "Sinan &#220;n&#252;r", "link": "https://stackoverflow.com/users/100754/sinan-%c3%9cn%c3%bcr"}, "edited": false, "score": 0, "creation_date": 1458860084, "post_id": 36096551, "comment_id": 60055885, "body": "@Sinan&#220;n&#252;r Thank you for the response and I&#39;ll delete mine also. It should be clear now that I only meant the C library is required. In my defense, brian could have said &quot;after installing the C library...&quot; or &quot;why not use <code>cpan</code> for the module installation part&quot; and that would have been more clear what he meant. I think it was a misunderstanding on both parts, but I feel like it&#39;s been resolved. It would be ironic if my post is deleted since I&#39;ve been working on this module :-/"}], "tags": [], "owner": {"reputation": 860, "user_id": 1543853, "user_type": "registered", "accept_rate": 86, "profile_image": "https://www.gravatar.com/avatar/72dc5271019735b6ec8f979e4dc17ef9?s=128&d=identicon&r=PG", "display_name": "SES", "link": "https://stackoverflow.com/users/1543853/ses"}, "is_accepted": false, "score": 2, "last_activity_date": 1458851864, "last_edit_date": 1495535319, "creation_date": 1458348399, "answer_id": 36096551, "question_id": 36088231, "link": "https://stackoverflow.com/questions/36088231/unable-to-install-bioperl-on-mac-os-x/36096551#36096551", "title": "Unable to install bioperl on Mac OS X", "body": "<p>The module Bio::DB::Sam provides bindings to an older version of samtools that did not rely <a href=\"https://github.com/samtools/htslib\" rel=\"nofollow noreferrer\">htslib</a>. This is an important point because you may run into issues using SAM/BAM files generated with samtools or other aligners because most tools use htslib these days.</p>\n\n<p>For building the module, you are on the right track with the version you are using but it is difficult to build if you do not know the correct flags. I <a href=\"https://stackoverflow.com/a/25611671/1543853\">previously</a> provided a solution to do this and I'll show a better way here (just use a package manager for the Perl module).</p>\n\n<pre><code>wget http://sourceforge.net/projects/samtools/files/samtools/0.1.18/samtools-0.1.18.tar.bz2\ntar xjf samtools-0.1.18.tar.bz2 &amp;&amp; cd samtools-0.1.18\nmake CFLAGS=-fPIC\nexport SAMTOOLS=`pwd`\n</code></pre>\n\n<p>The last command will allow you to install the Perl module without looking for the PATH to samtools and being prompted for it. Note, the extra CFLAGS argument may not be needed on your Mac, so try without it first. It is required on Linux, and since the module uses so much memory you will likely only be using this on a Linux machine. Now, install the Perl module.</p>\n\n<pre><code>cpanm Bio::DB::Sam\n</code></pre>\n\n<p>or <code>cpan</code> if you prefer. That should get you a working Bio::DB::Sam. I don't know what you are trying to do but I will mention that the fine folks over at EBI have developed bindings to htslib called <a href=\"https://metacpan.org/pod/Bio::DB::HTS\" rel=\"nofollow noreferrer\">Bio::DB::HTS</a> based on Lincoln Stein's XS code in the Bio::DB::Sam module. This is really what you should be using because the version of SAMtools mentioned above is really old and not being developed. That is my opinion and a word of caution though, nothing wrong with Bio::DB::Sam.</p>\n\n<p>edit:</p>\n\n<p>You find it easier to manage Perl without using the \"system\" Perl, and here is one solution. Other people may have their preferred method, but <a href=\"http://perlbrew.pl/\" rel=\"nofollow noreferrer\">perlbrew</a> (combined with cpanminus) will make this type of work fun and much less of a pain (and they are popular choices). That would be my first step: set up perlbrew, install Perl 5.22, then install cpanminus. That might sound challenging but it is just a few commands. Something along the lines of:</p>\n\n<pre><code>curl -L http://install.perlbrew.pl | bash\nsource ~/perl5/perlbrew/etc/bashrc\nperlbrew install perl-5.22.1\nperlbrew switch perl-5.22.1\nperlbrew install-cpanm\n</code></pre>\n\n<p>should do the trick. That will give you a kick-ass Perl with some nice features not available with your \"system\" Perl. This is a good idea because using /usr/bin/perl requires sudo, it involves messing with the system libraries which might cause an issue, and the recent Apple changes mean that working with root directories/libraries is completely unstable.</p>\n"}, {"comments": [{"owner": {"reputation": 860, "user_id": 1543853, "user_type": "registered", "accept_rate": 86, "profile_image": "https://www.gravatar.com/avatar/72dc5271019735b6ec8f979e4dc17ef9?s=128&d=identicon&r=PG", "display_name": "SES", "link": "https://stackoverflow.com/users/1543853/ses"}, "edited": false, "score": 0, "creation_date": 1458845609, "post_id": 36207274, "comment_id": 60049176, "body": "This won&#39;t work on Linux because <code>.&#47;Build</code> will fail. That is the reason for my answer, maybe I could explain that in detail."}, {"owner": {"reputation": 121105, "user_id": 2766176, "user_type": "registered", "accept_rate": 61, "profile_image": "https://www.gravatar.com/avatar/edd8638efe875601bfe394a8aea5b16d?s=128&d=identicon&r=PG", "display_name": "brian d foy", "link": "https://stackoverflow.com/users/2766176/brian-d-foy"}, "reply_to_user": {"reputation": 860, "user_id": 1543853, "user_type": "registered", "accept_rate": 86, "profile_image": "https://www.gravatar.com/avatar/72dc5271019735b6ec8f979e4dc17ef9?s=128&d=identicon&r=PG", "display_name": "SES", "link": "https://stackoverflow.com/users/1543853/ses"}, "edited": false, "score": 1, "creation_date": 1458847192, "post_id": 36207274, "comment_id": 60050007, "body": "We&#39;re not on Linux. We&#39;re on Mac OS X, as stated in the question."}, {"owner": {"reputation": 113221, "user_id": 100754, "user_type": "registered", "accept_rate": 90, "profile_image": "https://www.gravatar.com/avatar/7804ebae32fbadef38537d74a915c22f?s=128&d=identicon&r=PG", "display_name": "Sinan &#220;n&#252;r", "link": "https://stackoverflow.com/users/100754/sinan-%c3%9cn%c3%bcr"}, "edited": false, "score": 1, "creation_date": 1458849986, "post_id": 36207274, "comment_id": 60051581, "body": "Out of curiosity, I tried building the module with <code>samtools 0.1.17</code> on my <a href=\"https://www.nu42.com/2011/11/laptop-attachment-syndrome.html\" rel=\"nofollow noreferrer\">ArchLinux install</a>. Everything works like a charm using <code>cpanm</code> (which I prefer) <b><i>and</i></b> <code>cpan</code>. See <a href=\"https://gist.github.com/nanis/6dc81e67b80d833bf68e\" rel=\"nofollow noreferrer\">Build Bio::DB::Sam on ArchLinux.txt</a>"}, {"owner": {"reputation": 860, "user_id": 1543853, "user_type": "registered", "accept_rate": 86, "profile_image": "https://www.gravatar.com/avatar/72dc5271019735b6ec8f979e4dc17ef9?s=128&d=identicon&r=PG", "display_name": "SES", "link": "https://stackoverflow.com/users/1543853/ses"}, "edited": false, "score": 0, "creation_date": 1458850246, "post_id": 36207274, "comment_id": 60051714, "body": "Yes, OP is on a Mac. I was responding to your comment about why the extra steps in my answer since you mentioned me by name. These steps are required on RHEL/CentOS (used by every institute/university I&#39;ve worked for) or the build will fail. It is worth mentioning again that this version of samtools and the interface are still usable but not in development. We&#39;d probably be better to focus efforts on the latest versions but that is another issue altogether."}, {"owner": {"reputation": 860, "user_id": 1543853, "user_type": "registered", "accept_rate": 86, "profile_image": "https://www.gravatar.com/avatar/72dc5271019735b6ec8f979e4dc17ef9?s=128&d=identicon&r=PG", "display_name": "SES", "link": "https://stackoverflow.com/users/1543853/ses"}, "reply_to_user": {"reputation": 113221, "user_id": 100754, "user_type": "registered", "accept_rate": 90, "profile_image": "https://www.gravatar.com/avatar/7804ebae32fbadef38537d74a915c22f?s=128&d=identicon&r=PG", "display_name": "Sinan &#220;n&#252;r", "link": "https://stackoverflow.com/users/100754/sinan-%c3%9cn%c3%bcr"}, "edited": false, "score": 0, "creation_date": 1458850552, "post_id": 36207274, "comment_id": 60051890, "body": "@Sinan&#220;n&#252;r after all the discussion, you are saying my answer works like a charm? ;-)"}, {"owner": {"reputation": 121105, "user_id": 2766176, "user_type": "registered", "accept_rate": 61, "profile_image": "https://www.gravatar.com/avatar/edd8638efe875601bfe394a8aea5b16d?s=128&d=identicon&r=PG", "display_name": "brian d foy", "link": "https://stackoverflow.com/users/2766176/brian-d-foy"}, "edited": false, "score": 1, "creation_date": 1458850690, "post_id": 36207274, "comment_id": 60051965, "body": "No, Sinan is saying that my <code>cpan</code> tool does the job just fine on ArchLinux, which is the opposite of what you are saying."}, {"owner": {"reputation": 860, "user_id": 1543853, "user_type": "registered", "accept_rate": 86, "profile_image": "https://www.gravatar.com/avatar/72dc5271019735b6ec8f979e4dc17ef9?s=128&d=identicon&r=PG", "display_name": "SES", "link": "https://stackoverflow.com/users/1543853/ses"}, "edited": false, "score": 0, "creation_date": 1458850905, "post_id": 36207274, "comment_id": 60052064, "body": "brian, I was referring to the compiler flag, which was not part of your original answer. That is important, and it was joke of course, for fun"}, {"owner": {"reputation": 113221, "user_id": 100754, "user_type": "registered", "accept_rate": 90, "profile_image": "https://www.gravatar.com/avatar/7804ebae32fbadef38537d74a915c22f?s=128&d=identicon&r=PG", "display_name": "Sinan &#220;n&#252;r", "link": "https://stackoverflow.com/users/100754/sinan-%c3%9cn%c3%bcr"}, "reply_to_user": {"reputation": 860, "user_id": 1543853, "user_type": "registered", "accept_rate": 86, "profile_image": "https://www.gravatar.com/avatar/72dc5271019735b6ec8f979e4dc17ef9?s=128&d=identicon&r=PG", "display_name": "SES", "link": "https://stackoverflow.com/users/1543853/ses"}, "edited": false, "score": 1, "creation_date": 1458851820, "post_id": 36207274, "comment_id": 60052511, "body": "@SES The compiler flag is part of building the C library <code>samtools</code>. If the library is built correctly, both <code>cpan</code> and <code>cpanm</code> will work. You told brian that one could not just use <code>cpan</code> or <code>cpanm</code>. Which is it?"}, {"owner": {"reputation": 860, "user_id": 1543853, "user_type": "registered", "accept_rate": 86, "profile_image": "https://www.gravatar.com/avatar/72dc5271019735b6ec8f979e4dc17ef9?s=128&d=identicon&r=PG", "display_name": "SES", "link": "https://stackoverflow.com/users/1543853/ses"}, "reply_to_user": {"reputation": 113221, "user_id": 100754, "user_type": "registered", "accept_rate": 90, "profile_image": "https://www.gravatar.com/avatar/7804ebae32fbadef38537d74a915c22f?s=128&d=identicon&r=PG", "display_name": "Sinan &#220;n&#252;r", "link": "https://stackoverflow.com/users/100754/sinan-%c3%9cn%c3%bcr"}, "edited": false, "score": 0, "creation_date": 1458852221, "post_id": 36207274, "comment_id": 60052711, "body": "@Sinan&#220;n&#252;r that&#39;s right. I think there is some confusion. I showed how to compile samtools and properly link Bio::DB::Sam. brian asked why not just install the module with <code>cpan</code> and I said it won&#39;t work because it relies on the C library to be built, which for most systems requires special flags to build properly (the module). After you compile the C library you can use <code>cpan</code> or <code>cpanm</code> and I updated my answer to reflect that. The C library is not distributed with the module so you can&#39;t just say <code>cpan Bio::DB::Sam</code>. Is that clear now?"}, {"owner": {"reputation": 113221, "user_id": 100754, "user_type": "registered", "accept_rate": 90, "profile_image": "https://www.gravatar.com/avatar/7804ebae32fbadef38537d74a915c22f?s=128&d=identicon&r=PG", "display_name": "Sinan &#220;n&#252;r", "link": "https://stackoverflow.com/users/100754/sinan-%c3%9cn%c3%bcr"}, "reply_to_user": {"reputation": 860, "user_id": 1543853, "user_type": "registered", "accept_rate": 86, "profile_image": "https://www.gravatar.com/avatar/72dc5271019735b6ec8f979e4dc17ef9?s=128&d=identicon&r=PG", "display_name": "SES", "link": "https://stackoverflow.com/users/1543853/ses"}, "edited": false, "score": 1, "creation_date": 1458853277, "post_id": 36207274, "comment_id": 60053176, "body": "@SES ... sooo, what was the point of claiming <code>cpan</code> or <code>cpanm</code> wouldn&#39;t work? If a specific compiler flag is needed with gcc (not necessarily only Linux), then come out and say it instead of claiming x or y does not work. BTW, note that BioPerl does not pass tests with <code>perl</code> 5.23.9 ... But, <code>Bio::DB::Sam</code> builds and installs fine using <code>cpan</code> and <code>cpanm</code> on CentOS 7 as well."}, {"owner": {"reputation": 860, "user_id": 1543853, "user_type": "registered", "accept_rate": 86, "profile_image": "https://www.gravatar.com/avatar/72dc5271019735b6ec8f979e4dc17ef9?s=128&d=identicon&r=PG", "display_name": "SES", "link": "https://stackoverflow.com/users/1543853/ses"}, "reply_to_user": {"reputation": 113221, "user_id": 100754, "user_type": "registered", "accept_rate": 90, "profile_image": "https://www.gravatar.com/avatar/7804ebae32fbadef38537d74a915c22f?s=128&d=identicon&r=PG", "display_name": "Sinan &#220;n&#252;r", "link": "https://stackoverflow.com/users/100754/sinan-%c3%9cn%c3%bcr"}, "edited": false, "score": 0, "creation_date": 1458853817, "post_id": 36207274, "comment_id": 60053427, "body": "@Sinan&#220;n&#252;r I answered this below. My point was <code>cpan</code> alone won&#39;t work, the C library is required and hopefully this is clear now. brian asked me why not just use <code>cpan</code> and suggested in his answer that I&#39;m making it more complicated. I tried to explain why not just <code>cpan</code> but it was misunderstood somehow. I know about the BioPerl test failures and I&#39;ve discussed this on github. I want to fix those but like a lot of people, it&#39;s hard to spend time on an unpaid project."}, {"owner": {"reputation": 121105, "user_id": 2766176, "user_type": "registered", "accept_rate": 61, "profile_image": "https://www.gravatar.com/avatar/edd8638efe875601bfe394a8aea5b16d?s=128&d=identicon&r=PG", "display_name": "brian d foy", "link": "https://stackoverflow.com/users/2766176/brian-d-foy"}, "edited": false, "score": 1, "creation_date": 1458855686, "post_id": 36207274, "comment_id": 60054187, "body": "You can install samtools with <code>cpan</code> using Alien::SamTools, as I noted."}], "tags": [], "owner": {"reputation": 121105, "user_id": 2766176, "user_type": "registered", "accept_rate": 61, "profile_image": "https://www.gravatar.com/avatar/edd8638efe875601bfe394a8aea5b16d?s=128&d=identicon&r=PG", "display_name": "brian d foy", "link": "https://stackoverflow.com/users/2766176/brian-d-foy"}, "is_accepted": false, "score": 2, "last_activity_date": 1598454614, "last_edit_date": 1598454614, "creation_date": 1458843397, "answer_id": 36207274, "question_id": 36088231, "link": "https://stackoverflow.com/questions/36088231/unable-to-install-bioperl-on-mac-os-x/36207274#36207274", "title": "Unable to install bioperl on Mac OS X", "body": "<p>You need to install an additional (optional) module to use samtools. That's what the <code>The optional module Bio::DB::Sam</code> message is about. You don't need it for the rest of BioPerl, so it's not a hard dependency.</p>\n<p>For <a href=\"http://www.metacpan.org/module/Bio::DB::Sam\" rel=\"nofollow noreferrer\">Bio::DB::Sam</a>, you need <a href=\"https://sourceforge.net/projects/samtools/?source=typ_redirect\" rel=\"nofollow noreferrer\">samtools-0.1.17</a> (the latest version the module works with according to its docs). I downloaded the source and ran <code>make</code>. There were some warnings, but it appears to work. From your question, I don't think you had a problem here.</p>\n<p>I then installed <a href=\"http://www.metacpan.org/module/Bio::DB::Sam\" rel=\"nofollow noreferrer\">Bio::DB::Sam</a>:</p>\n<pre><code> $ cpan Bio::DB::Sam\n</code></pre>\n<p>There were some compiler warnings, but the module passed its tests and installed. The <code>cpan</code> command took care of dependencies too, so it also installed BioPerl for me.</p>\n<p>If you need some environment variables, you can set them for a one-off run of the command:</p>\n<pre><code>$ CFLAGS=... SAMTOOLS=... cpan Bio::DB::Sam\n</code></pre>\n<p>Note that installing <a href=\"http://www.metacpan.org/module/Bio::DB::Sam\" rel=\"nofollow noreferrer\">Bio::DB::Sam</a> prompted me for the location of samtools. I pointed it at the build directory:</p>\n<pre><code>$ cpan5.22.0 Bio::DB::Sam\nRunning install for module 'Bio::DB::Sam'\nConfiguring L/LD/LDS/Bio-SamTools-1.43.tar.gz with Build.PL\nThis module requires samtools 0.1.10 or higher (samtools.sourceforge.net).\nPlease enter the location of the bam.h and compiled libbam.a files: /Users/brian/Downloads/samtools-0.1.17\n</code></pre>\n<p>I'm betting there's not something complicated like <a href=\"https://stackoverflow.com/a/36096551/2766176\">the answer SES gave</a>. You just need an optional module. The <em>README</em> for <a href=\"http://www.metacpan.org/module/Bio::DB::Sam\" rel=\"nofollow noreferrer\">Bio::DB::Sam</a> notes some problems that people might have and offers so workarounds, but I didn't run into these problems and my setup is close to yours.</p>\n<p>Note that <a href=\"http://www.metacpan.org/module/Alien::SamTools\" rel=\"nofollow noreferrer\">Alien::SamTools</a> is a Perl package that installs the non-Perl samtools, but it says it installs 0.1.19. Maybe that works too, but that's not what <a href=\"http://www.metacpan.org/module/Bio::DB::Sam\" rel=\"nofollow noreferrer\">Bio::DB::Sam</a> says on the tin.</p>\n"}], "owner": {"reputation": 815, "user_id": 1403470, "user_type": "registered", "accept_rate": 10, "profile_image": "https://www.gravatar.com/avatar/79cb50191709dae232fe47f5ebf464f1?s=128&d=identicon&r=PG", "display_name": "Greg Wilson", "link": "https://stackoverflow.com/users/1403470/greg-wilson"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 1377, "favorite_count": 0, "answer_count": 2, "score": 2, "last_activity_date": 1598454614, "creation_date": 1458314747, "question_id": 36088231, "link": "https://stackoverflow.com/questions/36088231/unable-to-install-bioperl-on-mac-os-x", "title": "Unable to install bioperl on Mac OS X", "body": "<p>I'm trying to get biotools working on my Mac so that I can run some Perl5 code that uses Bio::DB::Sam, but am stymied.</p>\n\n<ul>\n<li><p>Mac OS X 10.10.4</p></li>\n<li><p>perl 5.18.2</p></li>\n<li><p>upgraded CPAN as per INSTALL instructions</p></li>\n<li><p>'brew install expat' tells me that expat-2.1.0_1 is already installed</p></li>\n<li><p>'sudo perl -MCPAN -e shell'</p></li>\n<li><p>'install CJFIELDS/BioPerl-1.6.924.tar.gz'</p></li>\n<li><p>'Do you want to run the Bio::DB::GFF or Bio::DB::SeqFeature::Store live database tests?' => 'n'</p></li>\n<li><p>Install all</p></li>\n<li><p>'Do you want to run tests that require connection to servers across the internet' => 'n'</p></li>\n</ul>\n\n<p>Eventually get (with some lines deleted):</p>\n\n<pre><code>Running Build test\nt/Align/AlignStats.t ................... ok     \nt/Align/AlignUtil.t .................... ok     \nt/Align/Graphics.t ..................... skipped: The optional module GD (or dependencies thereof) was not installed\n...\nt/AlignIO/msf.t ........................ ok   \nt/AlignIO/nexml.t ...................... skipped: The optional module Bio::Phylo (or dependencies thereof) was not installed\nt/AlignIO/nexus.t ...................... ok     \n...\nt/Assembly/ContigSpectrum.t ............ ok       \nt/Assembly/IO/bowtie.t ................. skipped: The optional module Bio::DB::Sam (or dependencies thereof) was not installed\nt/Assembly/IO/sam.t .................... skipped: The optional module Bio::DB::Sam (or dependencies thereof) was not installed\nt/Assembly/core.t ...................... ok       \nt/Cluster/UniGene.t .................... ok   \n</code></pre>\n\n<p>Afterwards, I test with:</p>\n\n<pre><code>perl -e \"use Bio::DB::Sam;\"\n</code></pre>\n\n<p>and get:</p>\n\n<pre><code>Can't locate Bio/DB/Sam.pm in @INC (you may need to install the Bio::DB::Sam module) (@INC contains: /Library/Perl/5.18/darwin-thread-multi-2level /Library/Perl/5.18 /Network/Library/Perl/5.18/darwin-thread-multi-2level /Network/Library/Perl/5.18 /Library/Perl/Updates/5.18.2/darwin-thread-multi-2level /Library/Perl/Updates/5.18.2 /System/Library/Perl/5.18/darwin-thread-multi-2level /System/Library/Perl/5.18 /System/Library/Perl/Extras/5.18/darwin-thread-multi-2level /System/Library/Perl/Extras/5.18 .) at -e line 1.\nBEGIN failed--compilation aborted at -e line 1.\n</code></pre>\n\n<p>I get the same results when cloning bioperl-live from GitHub (sync'd to revision 73c446c69a77) and trying to install that way.</p>\n\n<p>Note that I have installed samtools 0.1.18 (to match the version on our cluster) by:</p>\n\n<ul>\n<li><p>downloading the .tar.gz</p></li>\n<li><p>running 'make'</p></li>\n<li><p>copying 'samtools', 'bcftools/bcftools', and 'misc/*.pl' to ~/debarcer-packages/bin, which is on my path</p></li>\n</ul>\n\n<p>Afterward, I get this:</p>\n\n<pre><code>$ which samtools\n/Users/gvwilson/debarcer-packages/bin/samtools\n</code></pre>\n\n<p>This build did <em>not</em> produce a '.so' file, even though there is a rule in the samtools-0.1.18 Makefile that looks like it (maybe?) ought to produce one.</p>\n"}, {"tags": ["arrays", "perl", "sorting"], "comments": [{"owner": {"reputation": 48798, "user_id": 223226, "user_type": "registered", "accept_rate": 93, "profile_image": "https://i.stack.imgur.com/iGqE4.png?s=128&g=1", "display_name": "mpapec", "link": "https://stackoverflow.com/users/223226/mpapec"}, "edited": false, "score": 1, "creation_date": 1458307868, "post_id": 36085456, "comment_id": 59815752, "body": "<a href=\"http://stackoverflow.com/a/8412078/223226\">stackoverflow.com/a/8412078/223226</a>"}, {"owner": {"reputation": 1654, "user_id": 3652920, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/qKRou.jpg?s=128&g=1", "display_name": "CDahn", "link": "https://stackoverflow.com/users/3652920/cdahn"}, "edited": false, "score": 0, "creation_date": 1458418727, "post_id": 36085456, "comment_id": 59855282, "body": "Possible duplicate of <a href=\"http://stackoverflow.com/questions/11102518/how-to-do-alpha-numeric-sort-perl\">How to do alpha numeric sort perl?</a>"}], "answers": [{"comments": [{"owner": {"reputation": 61610, "user_id": 725418, "user_type": "registered", "accept_rate": 86, "profile_image": "https://www.gravatar.com/avatar/82ac2dc3e1ad4b7187f245c416528df9?s=128&d=identicon&r=PG", "display_name": "TLP", "link": "https://stackoverflow.com/users/725418/tlp"}, "edited": false, "score": 1, "creation_date": 1458310599, "post_id": 36085599, "comment_id": 59817793, "body": "Your postfix if-statements are not needed if you use the idiomatic way to apply sorting comparisons: <code>$ta cmp $tb || $na &lt;=&gt; $nb || $ra cmp $rb</code>"}], "tags": [], "owner": {"reputation": 16507, "user_id": 4787126, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/2a822df86c907c77c792a8f91b2bab41?s=128&d=identicon&r=PG&f=1", "display_name": "Zbynek Vyskovsky - kvr000", "link": "https://stackoverflow.com/users/4787126/zbynek-vyskovsky-kvr000"}, "is_accepted": false, "score": 1, "last_activity_date": 1458311064, "last_edit_date": 1458311064, "creation_date": 1458307523, "answer_id": 36085599, "question_id": 36085456, "link": "https://stackoverflow.com/questions/36085456/alphanumeric-sort-using-perl/36085599#36085599", "title": "Alphanumeric sort using perl", "body": "<p>Split the string inside sort comparator and check one element after another. <code>$ta</code> stands for text from <code>a</code>, <code>$na</code> is the number and <code>$ra</code> is the rest of the string (if there is any):</p>\n\n<pre><code>@result = sort({\n        my ( $ta, $na, $ra ) = $a =~ m/^(.*?)(\\d+)(.*)$/;\n        my ( $tb, $nb, $rb ) = $b =~ m/^(.*?)(\\d+)(.*)$/;\n        return $ta cmp $tb || $na &lt;=&gt; $nb || $ra cmp $rb;\n    }\n    @arr\n);\n</code></pre>\n"}, {"tags": [], "owner": {"reputation": 34726, "user_id": 133939, "user_type": "registered", "accept_rate": 95, "profile_image": "https://i.stack.imgur.com/pN9C5.png?s=128&g=1", "display_name": "Zaid", "link": "https://stackoverflow.com/users/133939/zaid"}, "is_accepted": false, "score": 8, "last_activity_date": 1458308556, "last_edit_date": 1458308556, "creation_date": 1458307690, "answer_id": 36085666, "question_id": 36085456, "link": "https://stackoverflow.com/questions/36085456/alphanumeric-sort-using-perl/36085666#36085666", "title": "Alphanumeric sort using perl", "body": "<h2>Why reinvent the wheel?</h2>\n\n<p>Just <a href=\"https://metacpan.org/pod/Sort::Naturally\" rel=\"noreferrer\"><code>use Sort::Naturally</code></a>:</p>\n\n<pre><code>use strict;\nuse warnings;\nuse feature 'say';\nuse Sort::Naturally 'nsort';\n\nmy @test = map 'test'.$_, reverse 1..10;\nsay for nsort @test;\n</code></pre>\n\n<p>prints</p>\n\n<pre><code>test1\ntest2\ntest3\ntest4\ntest5\ntest6\ntest7\ntest8\ntest9\ntest10\n</code></pre>\n"}, {"comments": [{"owner": {"reputation": 61610, "user_id": 725418, "user_type": "registered", "accept_rate": 86, "profile_image": "https://www.gravatar.com/avatar/82ac2dc3e1ad4b7187f245c416528df9?s=128&d=identicon&r=PG", "display_name": "TLP", "link": "https://stackoverflow.com/users/725418/tlp"}, "edited": false, "score": 1, "creation_date": 1458309672, "post_id": 36085689, "comment_id": 59817096, "body": "<code>.*?</code> is completely redundant."}, {"owner": {"reputation": 51521, "user_id": 2566198, "user_type": "registered", "accept_rate": 67, "profile_image": "https://i.stack.imgur.com/Y34ZA.jpg?s=128&g=1", "display_name": "Sobrique", "link": "https://stackoverflow.com/users/2566198/sobrique"}, "edited": false, "score": 0, "creation_date": 1458312520, "post_id": 36085689, "comment_id": 59819117, "body": "You can also do it like this: <code>say for sort { $a =~ s&#47;\\D&#47;&#47;gr &lt;=&gt; $b =~ s&#47;\\D&#47;&#47;rg } @arr;</code>"}, {"owner": {"reputation": 61610, "user_id": 725418, "user_type": "registered", "accept_rate": 86, "profile_image": "https://www.gravatar.com/avatar/82ac2dc3e1ad4b7187f245c416528df9?s=128&d=identicon&r=PG", "display_name": "TLP", "link": "https://stackoverflow.com/users/725418/tlp"}, "reply_to_user": {"reputation": 51521, "user_id": 2566198, "user_type": "registered", "accept_rate": 67, "profile_image": "https://i.stack.imgur.com/Y34ZA.jpg?s=128&g=1", "display_name": "Sobrique", "link": "https://stackoverflow.com/users/2566198/sobrique"}, "edited": false, "score": 0, "creation_date": 1458313605, "post_id": 36085689, "comment_id": 59819944, "body": "@Sobrique Except that this will not work for all strings, e.g. <code>test5foo1</code> would erroneously become <code>51</code>."}, {"owner": {"reputation": 123805, "user_id": 622310, "user_type": "registered", "accept_rate": 33, "profile_image": "https://www.gravatar.com/avatar/8b6d35219e1808520bc238b28161e2e6?s=128&d=identicon&r=PG", "display_name": "Borodin", "link": "https://stackoverflow.com/users/622310/borodin"}, "edited": false, "score": 0, "creation_date": 1458319716, "post_id": 36085689, "comment_id": 59824162, "body": "This will do a strange thing with a string like <code>necrophilia5</code>. Doesn&#39;t the content of the values suggest that they are, well, <i>test</i> data?"}, {"owner": {"reputation": 7958, "user_id": 1069726, "user_type": "registered", "accept_rate": 67, "profile_image": "https://www.gravatar.com/avatar/2cbbae354bb4f5f320b93ab3ad4b0fa1?s=128&d=identicon&r=PG", "display_name": "LeoNerd", "link": "https://stackoverflow.com/users/1069726/leonerd"}, "edited": false, "score": 0, "creation_date": 1458320621, "post_id": 36085689, "comment_id": 59824778, "body": "Also a lot neater to <code>use List::UtilsBy qw( nsort_by );</code> so you can just call <code>nsort_by { number_strip($_) } @arr</code>"}], "tags": [], "owner": {"reputation": 5923, "user_id": 2105156, "user_type": "registered", "accept_rate": 76, "profile_image": "https://i.stack.imgur.com/oRMc0.jpg?s=128&g=1", "display_name": "fugu", "link": "https://stackoverflow.com/users/2105156/fugu"}, "is_accepted": true, "score": 1, "last_activity_date": 1458310091, "last_edit_date": 1458310091, "creation_date": 1458307740, "answer_id": 36085689, "question_id": 36085456, "link": "https://stackoverflow.com/questions/36085456/alphanumeric-sort-using-perl/36085689#36085689", "title": "Alphanumeric sort using perl", "body": "<p>Use a custom sort subroutine:</p>\n\n<pre><code>my @arr = qw(test1 test3 tes5 test2 test4 test8 test6 test7 test10 test9);\n\nforeach ( sort { number_strip($a) &lt;=&gt; number_strip($b) } @arr ){\n    say;\n}\n\nsub number_strip {\n    $line = shift;\n    my ($num) = $line =~ /(\\d+)/;\n    return $num;\n}\n</code></pre>\n\n<hr>\n\n<pre><code>test1\ntest2\ntest3\ntest4\ntes5\ntest6\ntest7\ntest8\ntest9\ntest10\n</code></pre>\n"}, {"comments": [{"owner": {"reputation": 1220, "user_id": 1520793, "user_type": "registered", "accept_rate": 71, "profile_image": "https://www.gravatar.com/avatar/d0155363af97f63765cf92e647adb003?s=128&d=identicon&r=PG", "display_name": "sotona", "link": "https://stackoverflow.com/users/1520793/sotona"}, "reply_to_user": {"reputation": 61610, "user_id": 725418, "user_type": "registered", "accept_rate": 86, "profile_image": "https://www.gravatar.com/avatar/82ac2dc3e1ad4b7187f245c416528df9?s=128&d=identicon&r=PG", "display_name": "TLP", "link": "https://stackoverflow.com/users/725418/tlp"}, "edited": false, "score": 0, "creation_date": 1458310086, "post_id": 36086153, "comment_id": 59817399, "body": "how will it shorten the notation?"}, {"owner": {"reputation": 61610, "user_id": 725418, "user_type": "registered", "accept_rate": 86, "profile_image": "https://www.gravatar.com/avatar/82ac2dc3e1ad4b7187f245c416528df9?s=128&d=identicon&r=PG", "display_name": "TLP", "link": "https://stackoverflow.com/users/725418/tlp"}, "edited": false, "score": 0, "creation_date": 1458310130, "post_id": 36086153, "comment_id": 59817436, "body": "Its not about making it shorter, its about using the right tools."}, {"owner": {"reputation": 1220, "user_id": 1520793, "user_type": "registered", "accept_rate": 71, "profile_image": "https://www.gravatar.com/avatar/d0155363af97f63765cf92e647adb003?s=128&d=identicon&r=PG", "display_name": "sotona", "link": "https://stackoverflow.com/users/1520793/sotona"}, "reply_to_user": {"reputation": 61610, "user_id": 725418, "user_type": "registered", "accept_rate": 86, "profile_image": "https://www.gravatar.com/avatar/82ac2dc3e1ad4b7187f245c416528df9?s=128&d=identicon&r=PG", "display_name": "TLP", "link": "https://stackoverflow.com/users/725418/tlp"}, "edited": false, "score": 0, "creation_date": 1458310208, "post_id": 36086153, "comment_id": 59817487, "body": "but why <code>map</code> is <i>righter</i> than <code>grep</code>? in&#39;t <code>grep</code> a part of Perl core?  where is the abuse of <code>grep</code>?"}, {"owner": {"reputation": 61610, "user_id": 725418, "user_type": "registered", "accept_rate": 86, "profile_image": "https://www.gravatar.com/avatar/82ac2dc3e1ad4b7187f245c416528df9?s=128&d=identicon&r=PG", "display_name": "TLP", "link": "https://stackoverflow.com/users/725418/tlp"}, "edited": false, "score": 1, "creation_date": 1458310309, "post_id": 36086153, "comment_id": 59817574, "body": "You can use a shovel to hammer in a nail, that does not mean that using a shovel is the right way to do it. <code>grep</code> is made to remove items from a list, or to verify some quality. You are using it to alter values, and you are explicitly adding a <code>1</code> to not make it filter out items."}, {"owner": {"reputation": 61610, "user_id": 725418, "user_type": "registered", "accept_rate": 86, "profile_image": "https://www.gravatar.com/avatar/82ac2dc3e1ad4b7187f245c416528df9?s=128&d=identicon&r=PG", "display_name": "TLP", "link": "https://stackoverflow.com/users/725418/tlp"}, "edited": false, "score": 0, "creation_date": 1458310386, "post_id": 36086153, "comment_id": 59817638, "body": "The first part will remove zeroes regardless of whether you added them or not. You might consider using a Schwartzian transform instead."}, {"owner": {"reputation": 61610, "user_id": 725418, "user_type": "registered", "accept_rate": 86, "profile_image": "https://www.gravatar.com/avatar/82ac2dc3e1ad4b7187f245c416528df9?s=128&d=identicon&r=PG", "display_name": "TLP", "link": "https://stackoverflow.com/users/725418/tlp"}, "edited": false, "score": 0, "creation_date": 1458310825, "post_id": 36086153, "comment_id": 59817959, "body": "Since this is a learning environment, teaching people the wrong thing, and not explaining what you are doing, is a bad thing to do. As such, if you do not update your answer, I will feel obligated to downvote it."}, {"owner": {"reputation": 1220, "user_id": 1520793, "user_type": "registered", "accept_rate": 71, "profile_image": "https://www.gravatar.com/avatar/d0155363af97f63765cf92e647adb003?s=128&d=identicon&r=PG", "display_name": "sotona", "link": "https://stackoverflow.com/users/1520793/sotona"}, "reply_to_user": {"reputation": 61610, "user_id": 725418, "user_type": "registered", "accept_rate": 86, "profile_image": "https://www.gravatar.com/avatar/82ac2dc3e1ad4b7187f245c416528df9?s=128&d=identicon&r=PG", "display_name": "TLP", "link": "https://stackoverflow.com/users/725418/tlp"}, "edited": false, "score": 0, "creation_date": 1458318200, "post_id": 36086153, "comment_id": 59823158, "body": "this will never work as it is after you edited my answer"}, {"owner": {"reputation": 61610, "user_id": 725418, "user_type": "registered", "accept_rate": 86, "profile_image": "https://www.gravatar.com/avatar/82ac2dc3e1ad4b7187f245c416528df9?s=128&d=identicon&r=PG", "display_name": "TLP", "link": "https://stackoverflow.com/users/725418/tlp"}, "edited": false, "score": 0, "creation_date": 1458325945, "post_id": 36086153, "comment_id": 59827844, "body": "It was either that or downvote you, and I opted to do this. You&#39;re right, it doesn&#39;t work, because <code>map</code> needs a return value, so you need to add <code>; $_</code>. That&#39;s a pitfall of correcting someone else&#39;s flawed logic. If you want, I can rollback the changes and downvote instead."}, {"owner": {"reputation": 1220, "user_id": 1520793, "user_type": "registered", "accept_rate": 71, "profile_image": "https://www.gravatar.com/avatar/d0155363af97f63765cf92e647adb003?s=128&d=identicon&r=PG", "display_name": "sotona", "link": "https://stackoverflow.com/users/1520793/sotona"}, "reply_to_user": {"reputation": 61610, "user_id": 725418, "user_type": "registered", "accept_rate": 86, "profile_image": "https://www.gravatar.com/avatar/82ac2dc3e1ad4b7187f245c416528df9?s=128&d=identicon&r=PG", "display_name": "TLP", "link": "https://stackoverflow.com/users/725418/tlp"}, "edited": false, "score": 0, "creation_date": 1458544053, "post_id": 36086153, "comment_id": 59889438, "body": "Well, if we talk about learning process, downvote me and post more righteous variant would be more consistent than making edits with such &#39;pitfalls&#39;, because we&#39;re not the only participants of this thread, as you can see."}], "tags": [], "owner": {"reputation": 1220, "user_id": 1520793, "user_type": "registered", "accept_rate": 71, "profile_image": "https://www.gravatar.com/avatar/d0155363af97f63765cf92e647adb003?s=128&d=identicon&r=PG", "display_name": "sotona", "link": "https://stackoverflow.com/users/1520793/sotona"}, "is_accepted": false, "score": 0, "last_activity_date": 1458544115, "last_edit_date": 1458544115, "creation_date": 1458309040, "answer_id": 36086153, "question_id": 36085456, "link": "https://stackoverflow.com/questions/36085456/alphanumeric-sort-using-perl/36086153#36086153", "title": "Alphanumeric sort using perl", "body": "<pre><code>my @sorted = map { s/(^|\\D)0+(\\d)/$1$2/g; $_          } sort\n             map { /(\\d+)/sprintf(\"%06.6d\",$1)/ge; $_ } @arr;\n</code></pre>\n\n<p>will sort your array naturally. Also I noticed the fact there's no <em>test5</em> element in your initial description, but <em>tes5</em> instead</p>\n\n<p>to be explained this could be divided into parts. since Perl interpreter crawls expressions right to left first action is</p>\n\n<pre><code>my @sorted = map { s/(\\d+)/sprintf(\"%06.6d\",$1)/ge } @arr;\n</code></pre>\n\n<p>here we add zeroes between text and numbers to have 6 decimal places (this is a random number, may be any that satisfies current task)</p>\n\n<p>then we sort the array lexically</p>\n\n<pre><code>@sorted = sort @sorted \n</code></pre>\n\n<p>an then remove inserted zeroes</p>\n\n<pre><code>@sorted = map { s/(^|\\D)0+(\\d)/$1$2/g } @sorted;\n</code></pre>\n\n<p>among main caveats - this will break elements like 'test04'</p>\n"}, {"tags": [], "owner": {"reputation": 123805, "user_id": 622310, "user_type": "registered", "accept_rate": 33, "profile_image": "https://www.gravatar.com/avatar/8b6d35219e1808520bc238b28161e2e6?s=128&d=identicon&r=PG", "display_name": "Borodin", "link": "https://stackoverflow.com/users/622310/borodin"}, "is_accepted": false, "score": 0, "last_activity_date": 1467889704, "last_edit_date": 1467889704, "creation_date": 1458319635, "answer_id": 36089900, "question_id": 36085456, "link": "https://stackoverflow.com/questions/36085456/alphanumeric-sort-using-perl/36089900#36089900", "title": "Alphanumeric sort using perl", "body": "<p>If you'd prefer to avoid the module then you can write a sort block that splits each string into an alpha part and a numeric part and compares them separately. </p>\n\n<p>But this relies on the format always being <code>AAA999</code> and I'd prefer <a href=\"https://p3rl.org/Sort::Naturally\" rel=\"nofollow\"><code>Sort::Naturally</code></a> anyway in case the format changes in the future</p>\n\n<p>Note that your sample data has a spurious <code>tes5</code>, which I assume was a typo but still qualifies as test data. It is sorted before all the other values because <code>tes</code> sorts before <code>test</code> lexically</p>\n\n<pre><code>use strict;\nuse warnings 'all';\nuse feature 'say';\n\nmy @arr = qw(test1 test3 tes5 test2 test4 test8 test6 test7 test10 test9 );\n\nsay for sort {\n    my ($aa, $bb) = map [ /([a-z]+)(\\d+)/i ], $a, $b;\n    $aa-&gt;[0] cmp $bb-&gt;[0] or $aa-&gt;[1] &lt;=&gt; $bb-&gt;[1];\n} @arr;\n</code></pre>\n\n<h3>output</h3>\n\n<pre><code>tes5\ntest1\ntest2\ntest3\ntest4\ntest6\ntest7\ntest8\ntest9\ntest10\n</code></pre>\n"}], "owner": {"reputation": 39, "user_id": 1041237, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/4e4d03dd7ed516addd741717511298a5?s=128&d=identicon&r=PG", "display_name": "Janmejay Pati", "link": "https://stackoverflow.com/users/1041237/janmejay-pati"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 1969, "favorite_count": 0, "accepted_answer_id": 36085689, "answer_count": 5, "score": 0, "last_activity_date": 1467889704, "creation_date": 1458307087, "last_edit_date": 1458307266, "question_id": 36085456, "link": "https://stackoverflow.com/questions/36085456/alphanumeric-sort-using-perl", "title": "Alphanumeric sort using perl", "body": "<pre><code>@arr = qw(test1 test3 tes5 test2 test4 test8 test6 test7 test10 test9);\n</code></pre>\n\n<p>How can I sort this array and get the output like:</p>\n\n<pre><code>test1 test2 test3 test4 test5 test6 test7 test8 test9 test10\n</code></pre>\n\n<p>instead of </p>\n\n<pre><code>test1 test10 test2 test3 test4 test5 test6 test7 test8 test9\n</code></pre>\n"}, {"tags": ["perl", "sockets", "snmp", "ipv6"], "comments": [{"owner": {"reputation": 71, "user_id": 5509994, "user_type": "registered", "accept_rate": 0, "profile_image": "https://www.gravatar.com/avatar/afbe127414909f6706ae7e24faeb47f7?s=128&d=identicon&r=PG&f=1", "display_name": "Ravi", "link": "https://stackoverflow.com/users/5509994/ravi"}, "reply_to_user": {"reputation": 8687, "user_id": 325117, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/2f0766debb859466aed4b305cc915d8e?s=128&d=identicon&r=PG", "display_name": "Martin Broadhurst", "link": "https://stackoverflow.com/users/325117/martin-broadhurst"}, "edited": false, "score": 0, "creation_date": 1458307863, "post_id": 36085348, "comment_id": 59815746, "body": "@Martin - No this is Linux machine"}], "answers": [{"comments": [{"owner": {"reputation": 320771, "user_id": 589924, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/b2cf53d5a3d25f95c0db4e025aed4153?s=128&d=identicon&r=PG", "display_name": "ikegami", "link": "https://stackoverflow.com/users/589924/ikegami"}, "edited": false, "score": 0, "creation_date": 1458317730, "post_id": 36085862, "comment_id": 59822865, "body": "The version of Perl has nothing to do with this, nor does the state of things back in 2007."}, {"owner": {"reputation": 71, "user_id": 5509994, "user_type": "registered", "accept_rate": 0, "profile_image": "https://www.gravatar.com/avatar/afbe127414909f6706ae7e24faeb47f7?s=128&d=identicon&r=PG&f=1", "display_name": "Ravi", "link": "https://stackoverflow.com/users/5509994/ravi"}, "edited": false, "score": 0, "creation_date": 1458537545, "post_id": 36085862, "comment_id": 59886974, "body": "thanks ! do you know any alternative utility for inet_pton(IPv6) on same perl version"}], "tags": [], "owner": {"reputation": 4663, "user_id": 3967089, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/77d00715119003023d62918dcc603ca7?s=128&d=identicon&r=PG&f=1", "display_name": "Calle Dybedahl", "link": "https://stackoverflow.com/users/3967089/calle-dybedahl"}, "is_accepted": false, "score": -1, "last_activity_date": 1458308208, "creation_date": 1458308208, "answer_id": 36085862, "question_id": 36085348, "link": "https://stackoverflow.com/questions/36085348/inet-pton-is-not-a-valid-socket-macro/36085862#36085862", "title": "inet_pton is not a valid Socket macro", "body": "<p>Your Perl is too old. As far as I can tell, <code>inet_pton</code> support wasn't added until 5.12. Installing a newer version of <code>Socket</code> from CPAN may help, but I wouldn't bet on it. Perl 5.10 came out in 2007, and the IPv6 support back then was much worse than it is today.</p>\n"}, {"comments": [{"owner": {"reputation": 71, "user_id": 5509994, "user_type": "registered", "accept_rate": 0, "profile_image": "https://www.gravatar.com/avatar/afbe127414909f6706ae7e24faeb47f7?s=128&d=identicon&r=PG&f=1", "display_name": "Ravi", "link": "https://stackoverflow.com/users/5509994/ravi"}, "edited": false, "score": 0, "creation_date": 1458537512, "post_id": 36089310, "comment_id": 59886961, "body": "thanks ! do you know any alternative utility for IPv6 on same perl version ?"}, {"owner": {"reputation": 320771, "user_id": 589924, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/b2cf53d5a3d25f95c0db4e025aed4153?s=128&d=identicon&r=PG", "display_name": "ikegami", "link": "https://stackoverflow.com/users/589924/ikegami"}, "reply_to_user": {"reputation": 71, "user_id": 5509994, "user_type": "registered", "accept_rate": 0, "profile_image": "https://www.gravatar.com/avatar/afbe127414909f6706ae7e24faeb47f7?s=128&d=identicon&r=PG&f=1", "display_name": "Ravi", "link": "https://stackoverflow.com/users/5509994/ravi"}, "edited": false, "score": 0, "creation_date": 1458554246, "post_id": 36089310, "comment_id": 59894706, "body": "The newer Socket should work fine with your existing version of Perl"}, {"owner": {"reputation": 71, "user_id": 5509994, "user_type": "registered", "accept_rate": 0, "profile_image": "https://www.gravatar.com/avatar/afbe127414909f6706ae7e24faeb47f7?s=128&d=identicon&r=PG&f=1", "display_name": "Ravi", "link": "https://stackoverflow.com/users/5509994/ravi"}, "edited": false, "score": 0, "creation_date": 1458566978, "post_id": 36089310, "comment_id": 59903372, "body": "whether Net::IP::ip_expand_address will do same work as that of inet_pton?"}], "tags": [], "owner": {"reputation": 320771, "user_id": 589924, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/b2cf53d5a3d25f95c0db4e025aed4153?s=128&d=identicon&r=PG", "display_name": "ikegami", "link": "https://stackoverflow.com/users/589924/ikegami"}, "is_accepted": false, "score": 0, "last_activity_date": 1458350573, "last_edit_date": 1458350573, "creation_date": 1458317839, "answer_id": 36089310, "question_id": 36085348, "link": "https://stackoverflow.com/questions/36085348/inet-pton-is-not-a-valid-socket-macro/36089310#36089310", "title": "inet_pton is not a valid Socket macro", "body": "<p>Socket uses an autoloader. That's the message it produces when you try to call a sub that doesn't exist.</p>\n\n<pre><code>$ perl -MSocket -wE'my $x = Socket::some_name()'\nsome_name is not a valid Socket macro at -e line 1\n</code></pre>\n\n<p>In other words, the error message is synonymous with</p>\n\n<pre><code>Undefined subroutine &amp;Socket::inet_pton called\n</code></pre>\n\n<p>You must have a version of Socket that predates the addition of the module's support for <code>inet_pton</code>. Therefore, the fix is simply to upgrade that module.</p>\n"}], "owner": {"reputation": 71, "user_id": 5509994, "user_type": "registered", "accept_rate": 0, "profile_image": "https://www.gravatar.com/avatar/afbe127414909f6706ae7e24faeb47f7?s=128&d=identicon&r=PG&f=1", "display_name": "Ravi", "link": "https://stackoverflow.com/users/5509994/ravi"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 523, "favorite_count": 0, "answer_count": 2, "score": 0, "last_activity_date": 1458350573, "creation_date": 1458306777, "question_id": 36085348, "link": "https://stackoverflow.com/questions/36085348/inet-pton-is-not-a-valid-socket-macro", "title": "inet_pton is not a valid Socket macro", "body": "<p>I am getting below error with perl package 5.10.</p>\n\n<p>\"inet_pton is not a valid Socket macro\"</p>\n\n<pre><code>if (Socket::inet_pton (AF_INET6,$self-&gt;{'ip'}) )\n  {\n\n    $log-&gt;print(\"we hit here and ip=$self-&gt;{'ip'}\");\n     $self-&gt;{'session'} = Net::SNMP-&gt;session(-hostname =&gt;   $self-&gt;{'ip'},\n                                             -community =&gt;  $self-&gt;{'community'},\n                                             -port =&gt;       $self-&gt;{'port'},\n                                             -version =&gt;    'snmpv2c');\n  }\n</code></pre>\n\n<p>Can you pls let me know the root cause ?</p>\n"}, {"tags": ["perl"], "comments": [{"owner": {"reputation": 793701, "user_id": 19068, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/1d2d3229ed1961d2bd81853242493247?s=128&d=identicon&r=PG", "display_name": "Quentin", "link": "https://stackoverflow.com/users/19068/quentin"}, "edited": false, "score": 1, "creation_date": 1458306629, "post_id": 36085226, "comment_id": 59814798, "body": "Those are the only characters you need to encode in HTML. If you feel the urge to encode others then you should probably fix your system to consistently use UTF-8 throughout."}, {"owner": {"reputation": 1, "user_id": 4427757, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/3db1769f2fc16202e1ef7c8a2c170dcd?s=128&d=identicon&r=PG&f=1", "display_name": "Shalice Moideen", "link": "https://stackoverflow.com/users/4427757/shalice-moideen"}, "reply_to_user": {"reputation": 793701, "user_id": 19068, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/1d2d3229ed1961d2bd81853242493247?s=128&d=identicon&r=PG", "display_name": "Quentin", "link": "https://stackoverflow.com/users/19068/quentin"}, "edited": false, "score": 0, "creation_date": 1458306856, "post_id": 36085226, "comment_id": 59814974, "body": "I am using these to encode gibberish characters, so i used <code>HTML::Entities::encode_entities_numeric($converted_string,&#39;^&zwnj;&#8203;\\n\\x20-\\x25\\x27-\\x7e&zwnj;&#8203;&#39;);</code>                                                                                                  But it is encoding all the html tags also"}, {"owner": {"reputation": 21782, "user_id": 176646, "user_type": "registered", "accept_rate": 88, "profile_image": "https://i.stack.imgur.com/HsQyV.png?s=128&g=1", "display_name": "ThisSuitIsBlackNot", "link": "https://stackoverflow.com/users/176646/thissuitisblacknot"}, "edited": false, "score": 0, "creation_date": 1458331671, "post_id": 36085226, "comment_id": 59830940, "body": "That&#39;s because <code>&lt;</code> (0x3C), <code>&gt;</code> (0x3E), and <code>&quot;</code> (0x22) are all in the range 0x20 - 0x25 or 0x27 - 0x7E. Everything <i>not</i> in those ranges, plus newlines, will be encoded."}], "answers": [{"tags": [], "owner": {"reputation": 793701, "user_id": 19068, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/1d2d3229ed1961d2bd81853242493247?s=128&d=identicon&r=PG", "display_name": "Quentin", "link": "https://stackoverflow.com/users/19068/quentin"}, "is_accepted": false, "score": -1, "last_activity_date": 1458306784, "creation_date": 1458306784, "answer_id": 36085351, "question_id": 36085226, "link": "https://stackoverflow.com/questions/36085226/html-encode-in-perl-excluding-html-tags/36085351#36085351", "title": "Html encode in perl excluding html tags", "body": "<p>There is an example in <a href=\"http://search.cpan.org/dist/HTML-Parser/lib/HTML/Entities.pm\" rel=\"nofollow\">the documentation</a>:</p>\n\n<blockquote>\n<pre><code> $encoded = encode_entities($input, '^\\n\\x20-\\x25\\x27-\\x7e');\n</code></pre>\n</blockquote>\n"}], "owner": {"reputation": 1, "user_id": 4427757, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/3db1769f2fc16202e1ef7c8a2c170dcd?s=128&d=identicon&r=PG&f=1", "display_name": "Shalice Moideen", "link": "https://stackoverflow.com/users/4427757/shalice-moideen"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 93, "favorite_count": 0, "answer_count": 1, "score": 0, "last_activity_date": 1458306784, "creation_date": 1458306463, "last_edit_date": 1458306506, "question_id": 36085226, "link": "https://stackoverflow.com/questions/36085226/html-encode-in-perl-excluding-html-tags", "title": "Html encode in perl excluding html tags", "body": "<pre><code>$encoded = encode_entities($input, '&lt;&gt;&amp;\"');\n</code></pre>\n\n<p>This will encode the &lt;,>,&amp;,\".But how to exclude these things from the encoding??</p>\n"}, {"tags": ["perl", "subroutine", "string-length"], "comments": [{"owner": {"reputation": 3984, "user_id": 1801086, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/ef4c0400ffff14d5e1c16ca3856c09ba?s=128&d=identicon&r=PG", "display_name": "tjd", "link": "https://stackoverflow.com/users/1801086/tjd"}, "edited": false, "score": 3, "creation_date": 1458303666, "post_id": 36084030, "comment_id": 59812625, "body": "<code>scalar(@list)</code> is <code>&#39;10&#39;</code>, <code>scalar(@list1)</code> is <code>&#39;9&#39;</code>, <code>scalar(@list2)</code> is <code>&#39;10&#39;</code>."}, {"owner": {"reputation": 31843, "user_id": 1337, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/72de240484e389dbedb6a3e428b9f0c1?s=128&d=identicon&r=PG", "display_name": "Brad Gilbert", "link": "https://stackoverflow.com/users/1337/brad-gilbert"}, "edited": false, "score": 0, "creation_date": 1458397923, "post_id": 36084030, "comment_id": 59848538, "body": "This is part of the reason Perl 6 doesn&#39;t have a <code>length</code> subroutine or method."}], "answers": [{"comments": [{"owner": {"reputation": 110113, "user_id": 168657, "user_type": "registered", "accept_rate": 92, "profile_image": "https://www.gravatar.com/avatar/f14e7610fca39322ebbf23530def15f8?s=128&d=identicon&r=PG", "display_name": "mob", "link": "https://stackoverflow.com/users/168657/mob"}, "edited": false, "score": 0, "creation_date": 1458303597, "post_id": 36084110, "comment_id": 59812582, "body": "and then the <code>length</code> function will return the length of the count of the number of elements in the array. <code>length(@array_with_0_to_9_elem) =&gt; 1</code>, <code>length(@array_with_10_to_99_elem) =&gt; 2</code>, ..."}], "tags": [], "owner": {"reputation": 5923, "user_id": 2105156, "user_type": "registered", "accept_rate": 76, "profile_image": "https://i.stack.imgur.com/oRMc0.jpg?s=128&g=1", "display_name": "fugu", "link": "https://stackoverflow.com/users/2105156/fugu"}, "is_accepted": true, "score": 7, "last_activity_date": 1458315479, "last_edit_date": 1458315479, "creation_date": 1458303293, "answer_id": 36084110, "question_id": 36084030, "link": "https://stackoverflow.com/questions/36084030/what-happens-when-an-array-is-passed-to-the-perl-length-subroutine/36084110#36084110", "title": "What happens when an array is passed to the Perl length subroutine?", "body": "<p>This is very well documented <a href=\"http://perldoc.perl.org/functions/length.html\" rel=\"nofollow\">here</a> and <a href=\"http://perlmaven.com/length-of-an-array\" rel=\"nofollow\">here</a></p>\n\n<blockquote>\n  <p>The length function always works on strings and it creates SCALAR\n  context for its parameters. Hence if we pass an array as a parameter,\n  that array will be placed in SCALAR context and it will return the\n  number of elements in it.</p>\n</blockquote>\n\n<p>Calling <a href=\"http://perldoc.perl.org/functions/length.html\" rel=\"nofollow\">length</a> on an array <strong>returns the length of the number of elements</strong> in the array.</p>\n\n<p>Thus:</p>\n\n<ul>\n<li>A 10-element array <code>length(@list)</code> returns <code>2</code> (<code>length(10) == 2</code>)</li>\n<li>A 9-element array <code>length(@list1)</code> returns <code>1</code> (<code>length(9) == 1</code>)</li>\n</ul>\n"}, {"tags": [], "owner": {"reputation": 3334, "user_id": 4473327, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/hP14q.jpg?s=128&g=1", "display_name": "neuhaus", "link": "https://stackoverflow.com/users/4473327/neuhaus"}, "is_accepted": false, "score": 7, "last_activity_date": 1458304274, "last_edit_date": 1458304274, "creation_date": 1458303668, "answer_id": 36084258, "question_id": 36084030, "link": "https://stackoverflow.com/questions/36084030/what-happens-when-an-array-is-passed-to-the-perl-length-subroutine/36084258#36084258", "title": "What happens when an array is passed to the Perl length subroutine?", "body": "<p>The array in this context is evaluated as its length count. Since the first array contains 10 elements, then the length() function gets the string \"10\" as its parameter and returns 2.</p>\n\n<p>The second array is of length count 9 which is 1 character long so length returns 1.</p>\n"}], "owner": {"reputation": 2954, "user_id": 235961, "user_type": "registered", "accept_rate": 75, "profile_image": "https://www.gravatar.com/avatar/f8e403d928f09096477fd2b4f3c00560?s=128&d=identicon&r=PG", "display_name": "Pradeep", "link": "https://stackoverflow.com/users/235961/pradeep"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 70, "favorite_count": 0, "accepted_answer_id": 36084110, "answer_count": 2, "score": 2, "last_activity_date": 1458315479, "creation_date": 1458303051, "question_id": 36084030, "link": "https://stackoverflow.com/questions/36084030/what-happens-when-an-array-is-passed-to-the-perl-length-subroutine", "title": "What happens when an array is passed to the Perl length subroutine?", "body": "<p>This is my code:</p>\n\n<pre><code>my @list = qw (The quick brown fox jumps over the lazy Perl programmer); \nmy @list1 = qw (Sparta F R I j h df dfsd dfsdf ); \nmy @list2 = qw (The quick brown fox jumps over the lazy Perl programmer); \nprint length(@list), \"\\n\"; \nprint length(@list1), \"\\n\"; \nprint length(@list2), \"\\n\";\n</code></pre>\n\n<p>The output I get:</p>\n\n<pre><code>2\n1\n2\n</code></pre>\n\n<p>What's the reason behind the output? Shouldn't it give me the length of the first element?</p>\n"}, {"tags": ["r", "macos", "perl"], "comments": [{"owner": {"reputation": 113221, "user_id": 100754, "user_type": "registered", "accept_rate": 90, "profile_image": "https://www.gravatar.com/avatar/7804ebae32fbadef38537d74a915c22f?s=128&d=identicon&r=PG", "display_name": "Sinan &#220;n&#252;r", "link": "https://stackoverflow.com/users/100754/sinan-%c3%9cn%c3%bcr"}, "edited": false, "score": 0, "creation_date": 1458311126, "post_id": 36080350, "comment_id": 59818167, "body": "What are you doing? How did the <b><i>file</i></b> <code>&#47;Users&#47;UMR7205&#47;Documents&#47;sowhat-master&#47;blib&#47;lib&#47;Statistics-R&zwnj;&#8203;0.34&#47;lib&#47;Statistics&#47;&zwnj;&#8203;R.pm</code> get in to your <code>@INC</code>? That file is from your <i>build</i> directory. I am guessing you built the module using <code>make</code>, but did not do <code>make install</code> and instead thought you should put the file path in <code>@INC</code>. First, don&#39;t mess with the <code>perl</code> environment that comes with your OS. Compile your own <code>perl</code>. Second, after that install the module using one of the convenient utilities so all the dependencies also get installed."}, {"owner": {"reputation": 113221, "user_id": 100754, "user_type": "registered", "accept_rate": 90, "profile_image": "https://www.gravatar.com/avatar/7804ebae32fbadef38537d74a915c22f?s=128&d=identicon&r=PG", "display_name": "Sinan &#220;n&#252;r", "link": "https://stackoverflow.com/users/100754/sinan-%c3%9cn%c3%bcr"}, "edited": false, "score": 0, "creation_date": 1458311314, "post_id": 36080350, "comment_id": 59818286, "body": "Also, FYI, if you have a module <code>My::Module</code> in <code>&#47;some&#47;path&#47;here&#47;or&#47;there&#47;My&#47;Module.pm</code>, you need <code>&#47;some&#47;path&#47;here&#47;or&#47;there</code> in your <code>@INC</code> for <code>perl</code> to find it, but you rarely have to do this <b><i>if</i></b> you avoid just throwing everything at a wall and see what sticks. Read <a href=\"https://metacpan.org/pod/perlfunc#require-EXPR\" rel=\"nofollow noreferrer\">perldoc -f require</a> for how <code>perl</code> looks for modules."}], "answers": [{"comments": [{"owner": {"reputation": 113221, "user_id": 100754, "user_type": "registered", "accept_rate": 90, "profile_image": "https://www.gravatar.com/avatar/7804ebae32fbadef38537d74a915c22f?s=128&d=identicon&r=PG", "display_name": "Sinan &#220;n&#252;r", "link": "https://stackoverflow.com/users/100754/sinan-%c3%9cn%c3%bcr"}, "edited": false, "score": 0, "creation_date": 1458310886, "post_id": 36080603, "comment_id": 59818005, "body": "<a href=\"http://www.effectiveperlprogramming.com/2015/11/apple-recommends-installing-your-own-perl/\" rel=\"nofollow noreferrer\">Don&#39;t mess with the system <code>perl</code></a>."}], "tags": [], "owner": {"reputation": 1220, "user_id": 1520793, "user_type": "registered", "accept_rate": 71, "profile_image": "https://www.gravatar.com/avatar/d0155363af97f63765cf92e647adb003?s=128&d=identicon&r=PG", "display_name": "sotona", "link": "https://stackoverflow.com/users/1520793/sotona"}, "is_accepted": false, "score": -1, "last_activity_date": 1458293160, "creation_date": 1458293160, "answer_id": 36080603, "question_id": 36080350, "link": "https://stackoverflow.com/questions/36080350/statisticsr-inc-dont-locate/36080603#36080603", "title": "Statistics::R @INC don&#39;t locate", "body": "<p>if you have R installed it is enough to say <code>sudo  perl -MCPAN -e 'install Statistics::R'</code> in terminal to install this package where it  should be</p>\n"}, {"comments": [{"owner": {"reputation": 113221, "user_id": 100754, "user_type": "registered", "accept_rate": 90, "profile_image": "https://www.gravatar.com/avatar/7804ebae32fbadef38537d74a915c22f?s=128&d=identicon&r=PG", "display_name": "Sinan &#220;n&#252;r", "link": "https://stackoverflow.com/users/100754/sinan-%c3%9cn%c3%bcr"}, "edited": false, "score": 0, "creation_date": 1458310879, "post_id": 36080831, "comment_id": 59818000, "body": "<a href=\"http://www.effectiveperlprogramming.com/2015/11/apple-recommends-installing-your-own-perl/\" rel=\"nofollow noreferrer\">Don&#39;t mess with the system <code>perl</code></a>."}], "tags": [], "owner": {"reputation": 1664, "user_id": 1271349, "user_type": "registered", "accept_rate": 56, "profile_image": "https://www.gravatar.com/avatar/cd097d56532e72b9c40d0ab6edf2f2c4?s=128&d=identicon&r=PG", "display_name": "Bolza", "link": "https://stackoverflow.com/users/1271349/bolza"}, "is_accepted": false, "score": -1, "last_activity_date": 1458293767, "creation_date": 1458293767, "answer_id": 36080831, "question_id": 36080350, "link": "https://stackoverflow.com/questions/36080350/statisticsr-inc-dont-locate/36080831#36080831", "title": "Statistics::R @INC don&#39;t locate", "body": "<p>I belive you may need some configuration first.\nPlease try to follow the step in this guide.</p>\n\n<p>From <a href=\"http://triopter.com/archive/how-to-install-perl-modules-on-mac-os-x-in-4-easy-steps/\" rel=\"nofollow\">http://triopter.com/archive/how-to-install-perl-modules-on-mac-os-x-in-4-easy-steps/</a></p>\n\n<p>1) Make sure you have the Apple Developer Tools (XCode) installed.</p>\n\n<p>2) Configure CPAN.\n<code>$ sudo perl -MCPAN -e shell</code>\n<code>perl&gt; o conf init</code></p>\n\n<blockquote>\n  <p>This will prompt you for some settings. You can accept the defaults\n  for almost everything (just hit \u201creturn\u201d). The two things you must\n  fill in are the path to make (which should be /usr/bin/make or the\n  value returned when you run which make from the command line) and your\n  choice of CPAN mirrors (which you actually choose don\u2019t really matter,\n  but it won\u2019t let you finish until you select at least one). If you use\n  a proxy or a very restrictive firewall, you may have to configure\n  those settings as well. If you skip Step 2, you may get errors about\n  make being unavailable.</p>\n</blockquote>\n\n<p>3) Upgrade CPAN\n<code>$ sudo perl -MCPAN -e 'install Bundle::CPAN'</code></p>\n\n<p>4) Install your modules. For each module\u2026.\n<code>$ sudo perl -MCPAN -e 'install Bundle::Name'</code>\nor\n<code>$ sudo perl -MCPAN -e 'install Module::Name'</code></p>\n"}], "owner": {"reputation": 1, "user_id": 6081556, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/861204db84ba9dd1b4e2039cbeee4c14?s=128&d=identicon&r=PG&f=1", "display_name": "F.Thouz&#233;", "link": "https://stackoverflow.com/users/6081556/f-thouz%c3%a9"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 1028, "favorite_count": 0, "closed_date": 1458310804, "answer_count": 2, "score": -2, "last_activity_date": 1458294150, "creation_date": 1458292376, "last_edit_date": 1458294150, "question_id": 36080350, "link": "https://stackoverflow.com/questions/36080350/statisticsr-inc-dont-locate", "closed_reason": "Duplicate", "title": "Statistics::R @INC don&#39;t locate", "body": "<p>I am a newbie on Perl and I have a problem with the module Statitics::R.</p>\n\n<p>I have to install a software (Sowhat:<a href=\"https://github.com/josephryan/sowhat\" rel=\"nofollow\">https://github.com/josephryan/sowhat</a>) on a mac. For this I need Statistics::R. I downloaded it and put the compressed directory on my sowhat directory. After this I decompressed my directory and install my Module. I tried to install my software and then I obtained this answer </p>\n\n<p>Error:  </p>\n\n<blockquote>\n  <p>Can't locate Statistics/R.pm in @INC (you may need to install the\n  Statistics::R module) (@INC contains:\n  /Users/UMR7205/Documents/sowhat-master/blib/lib\n  /Users/UMR7205/Documents/sowhat-master/blib/arch\n  /Users/UMR7205/Documents/sowhat-master/blib/lib/Statistics-R0.34/lib/Statistics/R.pm\n  /Users/UMR7205/Documents/sowhat-master/blib/lib/Statistics-R0.34/lib/Statistics/R.pm\n  /Library/Perl/5.18/darwin-thread-multi-2level /Library/Perl/5.18\n  /Network/Library/Perl/5.18/darwin-thread-multi-2level\n  /Network/Library/Perl/5.18 /Library/Perl/Updates/5.18.2\n  /System/Library/Perl/5.18/darwin-thread-multi-2level\n  /System/Library/Perl/5.18\n  /System/Library/Perl/Extras/5.18/darwin-thread-multi-2level\n  /System/Library/Perl/Extras/5.18 .) at (eval 4) line 2.  BEGIN\n  failed--compilation aborted at (eval 4) line 2.</p>\n</blockquote>\n\n<p>But:</p>\n\n<ul>\n<li>The directory which contains the Statistics/R.pm\" is listed here</li>\n<li>When I checked the installation of Statistics::R I have the same answer</li>\n<li>I had no error message when I install the package</li>\n</ul>\n\n<p>Could someone help me?</p>\n"}, {"tags": ["regex", "perl"], "answers": [{"tags": [], "owner": {"reputation": 8018, "user_id": 2064981, "user_type": "registered", "accept_rate": 75, "profile_image": "https://www.gravatar.com/avatar/74e3e392c752c4c9acb4ca4fb8f7af65?s=128&d=identicon&r=PG&f=1", "display_name": "SamWhan", "link": "https://stackoverflow.com/users/2064981/samwhan"}, "is_accepted": true, "score": 1, "last_activity_date": 1458290762, "creation_date": 1458290762, "answer_id": 36079812, "question_id": 36079622, "link": "https://stackoverflow.com/questions/36079622/perl-regex-from-file-txt-match-columns-greater-than-x/36079812#36079812", "title": "Perl regex from file.txt, match columns greater than x", "body": "<p>Assuming that the numbers can't reach 100 (three digits) you could use</p>\n\n<pre><code>[^\\,]+\\,[^\\,]+\\,\\s*(59\\.\\d+|[6-9]\\d\\.\\d+)\\,\n</code></pre>\n\n<p>which uses your regex except for the capture group which captures the number 59 and it's decimals, <strong>or</strong> two digit numbers from 60-99 and it's decimals.</p>\n\n<p>Regards</p>\n\n<p><strong>Edit:</strong></p>\n\n<p>To go above 100 you can add another alternative in the capture group:</p>\n\n<pre><code>[^\\,]+\\,[^\\,]+\\,\\s*(59\\.\\d+|[6-9]\\d\\.\\d+|[1-9]\\d{2,}\\.\\d+)\\,\n</code></pre>\n\n<p>which allows larger numbers (>=100.0).</p>\n"}, {"tags": [], "owner": {"reputation": 53041, "user_id": 4653379, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/b3953dbedd0dabff5cbc3db9b0835b14?s=128&d=identicon&r=PG&f=1", "display_name": "zdim", "link": "https://stackoverflow.com/users/4653379/zdim"}, "is_accepted": false, "score": 2, "last_activity_date": 1462002456, "last_edit_date": 1462002456, "creation_date": 1458290810, "answer_id": 36079828, "question_id": 36079622, "link": "https://stackoverflow.com/questions/36079622/perl-regex-from-file-txt-match-columns-greater-than-x/36079828#36079828", "title": "Perl regex from file.txt, match columns greater than x", "body": "<p>My first idea would be to split that line and then pick and choose</p>\n\n<pre><code>while (my $line = &lt;IN&gt;) {\n    my @nums = split ',\\s*', $line;\n    print \"$nums[2]\\n\" if $nums[2] &gt;= $cutoff;\n}\n</code></pre>\n\n<p>If you insist on doing it all in the regex then you may want to use <code>/e</code> modifier, so in the substitution part you can run code.  Then you can test the particular match and print it there.</p>\n"}, {"tags": [], "owner": {"reputation": 198290, "user_id": 1030675, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/957956ce51706d03f19a4dc85a767bb1?s=128&d=identicon&r=PG", "display_name": "choroba", "link": "https://stackoverflow.com/users/1030675/choroba"}, "is_accepted": false, "score": 1, "last_activity_date": 1458290817, "creation_date": 1458290817, "answer_id": 36079829, "question_id": 36079622, "link": "https://stackoverflow.com/questions/36079622/perl-regex-from-file-txt-match-columns-greater-than-x/36079829#36079829", "title": "Perl regex from file.txt, match columns greater than x", "body": "<p>Why do you use <code>while</code>? Is it possible to have more than one third column on a line? A simple <code>if</code> will work the same, comunicating the intent more clearly.</p>\n\n<p>Also, if you want to extract, you don't need to substitute. Use <code>m//</code> instead of <code>s///</code>.</p>\n\n<p>Regexes aren't the right tool to do numberic comparisons. Use <code>&gt;=</code> instead:</p>\n\n<pre><code>print \"Number: $1\\n\" if /[^\\,]+\\,[^\\,]+\\,([^\\,]+)\\,/\n                     &amp;&amp; $1 &gt;= 59\n</code></pre>\n"}, {"tags": [], "owner": {"reputation": 1, "user_id": 6082965, "user_type": "unregistered", "profile_image": "https://www.gravatar.com/avatar/58cd8cb48167787391d3c9f40293a1fa?s=128&d=identicon&r=PG", "display_name": "bour9", "link": "https://stackoverflow.com/users/6082965/bour9"}, "is_accepted": false, "score": 0, "last_activity_date": 1458310046, "creation_date": 1458310046, "answer_id": 36086521, "question_id": 36079622, "link": "https://stackoverflow.com/questions/36079622/perl-regex-from-file-txt-match-columns-greater-than-x/36086521#36086521", "title": "Perl regex from file.txt, match columns greater than x", "body": "<p>Assuming the line ends with a comma :\nprint foreach map{s/.+?(\\d+.\\d+),$/$1/;$_} ;</p>\n\n<p>In case there might be someting after the rightmost comma :\nprint foreach map{s/.+?(\\d+.\\d+),[^,]*$/$1/;$_} ;</p>\n\n<p>But i wouldn't use regexp in that case :\nprint foreach map{(split, ',')[-2]} ;</p>\n"}, {"tags": [], "owner": {"reputation": 51521, "user_id": 2566198, "user_type": "registered", "accept_rate": 67, "profile_image": "https://i.stack.imgur.com/Y34ZA.jpg?s=128&g=1", "display_name": "Sobrique", "link": "https://stackoverflow.com/users/2566198/sobrique"}, "is_accepted": false, "score": 0, "last_activity_date": 1458313027, "creation_date": 1458313027, "answer_id": 36087586, "question_id": 36079622, "link": "https://stackoverflow.com/questions/36079622/perl-regex-from-file-txt-match-columns-greater-than-x/36087586#36087586", "title": "Perl regex from file.txt, match columns greater than x", "body": "<p>I would suggest not using a <code>regex</code> when <code>split</code> is a better tool for the job. Likewise - regex is very bad at detecting numeric values - it works on text based patterns. </p>\n\n<p>But how about:</p>\n\n<pre><code>while ( &lt;&gt; ) { \n    print ((split /,\\s*/)[2],\"\\n\");\n}\n</code></pre>\n\n<p>If you want to test a conditional:</p>\n\n<pre><code>while ( &lt;&gt; ) { \n    my @fields = split /,\\s*/; \n    print $fields[2],\"\\n\" if $fields[2] &gt;= 59;\n}\n</code></pre>\n\n<p>Or perhaps:</p>\n\n<pre><code>print join \"\\n\", grep { $_ &gt;= 59 } map { (split /,\\s*/)[2] } &lt;&gt;;\n</code></pre>\n\n<p><code>map</code> takes your input, and extracts the third field (returning a list). <code>grep</code> then applies a filter condition to every element. And then we print it.</p>\n\n<p>Note - in the  above, I use <code>&lt;&gt;</code> which is the magic file handle (reads files specified on command line, or STDIN) but you can use your filehandle. </p>\n\n<p>However it's probably worth noting - 3 argument open with lexical file handles are recommended now.</p>\n\n<pre><code>open ( my $input, '&lt;', 'file.txt' ) or die $!; \n</code></pre>\n\n<p>It has a number of advantages and is generally good style. </p>\n"}], "owner": {"reputation": 430, "user_id": 5872381, "user_type": "registered", "accept_rate": 100, "profile_image": "https://i.stack.imgur.com/fqwid.png?s=128&g=1", "display_name": "tobulos1", "link": "https://stackoverflow.com/users/5872381/tobulos1"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 101, "favorite_count": 0, "accepted_answer_id": 36079812, "answer_count": 5, "score": 0, "last_activity_date": 1462002456, "creation_date": 1458290182, "question_id": 36079622, "link": "https://stackoverflow.com/questions/36079622/perl-regex-from-file-txt-match-columns-greater-than-x", "title": "Perl regex from file.txt, match columns greater than x", "body": "<p>I have a file containing several rows of code, like this:</p>\n\n<pre><code>160101, 0100,         58.8,\n160101, 0200,         59.3,\n160101, 0300,         59.5,\n160101, 0400,         59.1,\n</code></pre>\n\n<p>I'm trying to print out the third column with a regex, like this:</p>\n\n<pre><code># Read the text file.\nopen( IN, \"file.txt\" ) or die \"Can't read words file: $!\";\n\n# Print out.\nwhile (&lt;IN&gt;) {\n    print \"Number: $1\\n\" \n    while s/[^\\,]+\\,[^\\,]+\\,([^\\,]+)\\,/$1/g;\n}\n</code></pre>\n\n<p>And it works fairly well, however, I'm trying to only fetch the numbers that are greater than or equal to 59 (that includes numbers like 59.1 and 59.0). I've tried several numeric regex combinations (the one below will not give me the right number, obviously, but just making a point), including:</p>\n\n<pre><code>while s/[^\\,]+\\,[^\\,]+\\,([^\\,]+)\\,^[0-9]{3}$/$1/g;\n</code></pre>\n\n<p>but none seem to work. Any ideas?</p>\n"}, {"tags": ["perl", "base64"], "comments": [{"owner": {"reputation": 1047, "user_id": 1191999, "user_type": "registered", "accept_rate": 52, "profile_image": "https://www.gravatar.com/avatar/8a5575da1a4d6205f568754e55294cfb?s=128&d=identicon&r=PG", "display_name": "Ram", "link": "https://stackoverflow.com/users/1191999/ram"}, "reply_to_user": {"reputation": 198290, "user_id": 1030675, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/957956ce51706d03f19a4dc85a767bb1?s=128&d=identicon&r=PG", "display_name": "choroba", "link": "https://stackoverflow.com/users/1030675/choroba"}, "edited": false, "score": 0, "creation_date": 1458298298, "post_id": 36079407, "comment_id": 59809125, "body": "Ok base32 works fine"}], "answers": [{"comments": [{"owner": {"reputation": 1047, "user_id": 1191999, "user_type": "registered", "accept_rate": 52, "profile_image": "https://www.gravatar.com/avatar/8a5575da1a4d6205f568754e55294cfb?s=128&d=identicon&r=PG", "display_name": "Ram", "link": "https://stackoverflow.com/users/1191999/ram"}, "edited": false, "score": 0, "creation_date": 1458298238, "post_id": 36080929, "comment_id": 59809102, "body": "MIME::Base64::URLSafe; has these functions. Not MIME::Base64"}, {"owner": {"reputation": 21782, "user_id": 176646, "user_type": "registered", "accept_rate": 88, "profile_image": "https://i.stack.imgur.com/HsQyV.png?s=128&g=1", "display_name": "ThisSuitIsBlackNot", "link": "https://stackoverflow.com/users/176646/thissuitisblacknot"}, "reply_to_user": {"reputation": 1047, "user_id": 1191999, "user_type": "registered", "accept_rate": 52, "profile_image": "https://www.gravatar.com/avatar/8a5575da1a4d6205f568754e55294cfb?s=128&d=identicon&r=PG", "display_name": "Ram", "link": "https://stackoverflow.com/users/1191999/ram"}, "edited": false, "score": 0, "creation_date": 1458302999, "post_id": 36080929, "comment_id": 59812117, "body": "@Ram No, in MIME::Base64::URLSafe they&#39;re called urlsafe_b64encode and urlsafe_b64decode. encode_base64url and decode_base64url are in MIME::Base64; look at the source of you&#39;re skeptical."}, {"owner": {"reputation": 21782, "user_id": 176646, "user_type": "registered", "accept_rate": 88, "profile_image": "https://i.stack.imgur.com/HsQyV.png?s=128&g=1", "display_name": "ThisSuitIsBlackNot", "link": "https://stackoverflow.com/users/176646/thissuitisblacknot"}, "reply_to_user": {"reputation": 1047, "user_id": 1191999, "user_type": "registered", "accept_rate": 52, "profile_image": "https://www.gravatar.com/avatar/8a5575da1a4d6205f568754e55294cfb?s=128&d=identicon&r=PG", "display_name": "Ram", "link": "https://stackoverflow.com/users/1191999/ram"}, "edited": false, "score": 0, "creation_date": 1458312091, "post_id": 36080929, "comment_id": 59818817, "body": "@Ram By the way, they were added to MIME::Base64 in v3.11 (released in November, 2010), just in case you&#39;re running an old version."}], "tags": [], "owner": {"reputation": 2690, "user_id": 5869736, "user_type": "registered", "accept_rate": 75, "profile_image": "https://www.gravatar.com/avatar/b18e361761e0643fd9003f9eae40ba45?s=128&d=identicon&r=PG&f=1", "display_name": "Marty", "link": "https://stackoverflow.com/users/5869736/marty"}, "is_accepted": true, "score": 7, "last_activity_date": 1584394521, "last_edit_date": 1584394521, "creation_date": 1458294026, "answer_id": 36080929, "question_id": 36079407, "link": "https://stackoverflow.com/questions/36079407/perl-base64-encode-with-url-safe-characters/36080929#36080929", "title": "perl base64 encode with url safe characters", "body": "<p>Lucky for you, \"GAAS\" has already done it for you.  The module is called <a href=\"https://metacpan.org/pod/MIME::Base64\" rel=\"nofollow noreferrer\">MIME::Base64</a> and if you see about half way down the POD page, the module includes two functions; </p>\n\n<p><code>encode_base64url( $bytes )</code> and</p>\n\n<p><code>decode_base64url( $str )</code></p>\n\n<p>which <em>\"Encode and decode according to the base64 scheme for \"URL applications\". This is a variant of the base64 encoding which does not use padding, does not break the string into multiple lines and use the characters \"-\" and \"_\" instead of \"+\" and \"/\" to avoid using reserved URL characters.\"</em></p>\n\n<p>These functions are not exported by default - which means you need to ask for them as you use the module.  eg:</p>\n\n<pre><code>use MIME::Base64 qw(encode_base64url decode_base64url);\nmy $str = \"Hello World\";\nmy $b64_url = encode_base64url($str);\nprint $b64_url, \"\\n\";\nprint \"Original string: \", decode_base64url($b64_url);\nexit 0;\n</code></pre>\n"}], "owner": {"reputation": 1047, "user_id": 1191999, "user_type": "registered", "accept_rate": 52, "profile_image": "https://www.gravatar.com/avatar/8a5575da1a4d6205f568754e55294cfb?s=128&d=identicon&r=PG", "display_name": "Ram", "link": "https://stackoverflow.com/users/1191999/ram"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 1851, "favorite_count": 0, "accepted_answer_id": 36080929, "answer_count": 1, "score": 3, "last_activity_date": 1584394521, "creation_date": 1458289357, "question_id": 36079407, "link": "https://stackoverflow.com/questions/36079407/perl-base64-encode-with-url-safe-characters", "title": "perl base64 encode with url safe characters", "body": "<p>In a perl script I am using base64 to encode a string , but I want the output to be URL safe\nBase64 includes chars like / or + which get converted in an URL</p>\n\n<p>How can I avoid this ? </p>\n"}, {"tags": ["c#", "perl", "hash", "hex"], "comments": [{"owner": {"reputation": 102162, "user_id": 613130, "user_type": "registered", "accept_rate": 80, "profile_image": "https://www.gravatar.com/avatar/40bd5f390cba274159501bb244bc29f4?s=128&d=identicon&r=PG", "display_name": "xanatos", "link": "https://stackoverflow.com/users/613130/xanatos"}, "edited": false, "score": 1, "creation_date": 1458288070, "post_id": 36078920, "comment_id": 59802812, "body": "You don&#39;t need the <code>sha1_ws_pwd += &#39;=&#39;;</code> and <code>sha1_user_pwd += &#39;=&#39;;</code>. The <code>Convert.ToBase64String</code> is already padded to length 4"}, {"owner": {"reputation": 7361, "user_id": 579895, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/cf1b4bf925a10e6387c4960c979ca535?s=128&d=identicon&r=PG", "display_name": "Pikoh", "link": "https://stackoverflow.com/users/579895/pikoh"}, "edited": false, "score": 1, "creation_date": 1458288085, "post_id": 36078920, "comment_id": 59802818, "body": "I&#39;m sure it has nothing to do but...isn&#39;t unix epoch start <code>1&#47;1&#47;1970 00:00:00</code> ? Why do you define it as <code>08:00:00</code> ?"}, {"owner": {"reputation": 1, "user_id": 3045792, "user_type": "registered", "profile_image": "https://graph.facebook.com/1040531040/picture?type=large", "display_name": "Asger", "link": "https://stackoverflow.com/users/3045792/asger"}, "edited": false, "score": 0, "creation_date": 1458297328, "post_id": 36078920, "comment_id": 59808545, "body": "Okay, i removed += &#39;=&#39;. I remember i had them off at first, but since it did not work i tried adding them.  In relation to the time, it is simply because I didn&#39;t pay attention.. thanks for pointing that out.  But still, it does not work."}, {"owner": {"reputation": 1003, "user_id": 615982, "user_type": "registered", "accept_rate": 80, "profile_image": "https://www.gravatar.com/avatar/f0be626806a146529a4b2cd684be0db4?s=128&d=identicon&r=PG", "display_name": "Dave W", "link": "https://stackoverflow.com/users/615982/dave-w"}, "edited": false, "score": 0, "creation_date": 1458302315, "post_id": 36078920, "comment_id": 59811714, "body": "All you&#39;ve said about what&#39;s wrong is that you&#39;ve &quot;had no luck so far&quot;. That&#39;s not very descriptive. What&#39;s the problem you&#39;re having? Have you tried using something like Fiddler to examine the request/response in the case of both the Perl &amp; C# code, to see the difference?"}, {"owner": {"reputation": 1, "user_id": 3045792, "user_type": "registered", "profile_image": "https://graph.facebook.com/1040531040/picture?type=large", "display_name": "Asger", "link": "https://stackoverflow.com/users/3045792/asger"}, "edited": false, "score": 0, "creation_date": 1458305088, "post_id": 36078920, "comment_id": 59813654, "body": "The perl script does not even compile, but i&#39;ve managed to print out the final post message and test it in a browser, which returned the correct data.   But the post message created in C# does not give the correct data thus the hashing must be different somewhere."}], "answers": [{"tags": [], "owner": {"reputation": 1, "user_id": 3045792, "user_type": "registered", "profile_image": "https://graph.facebook.com/1040531040/picture?type=large", "display_name": "Asger", "link": "https://stackoverflow.com/users/3045792/asger"}, "is_accepted": true, "score": 0, "last_activity_date": 1458901998, "creation_date": 1458901998, "answer_id": 36218252, "question_id": 36078920, "link": "https://stackoverflow.com/questions/36078920/translate-perl-hash-to-c/36218252#36218252", "title": "translate perl hash to C#", "body": "<p>I figured it out!</p>\n\n<p>It was not the time, but instead it was the hmac key. I was using APP_KEY as key, but the perl script is using sha1_ws_pwd + sha1_user_pwd. (so that was a stupid mistake...)</p>\n\n<p><code>my $hmac = Digest::HMAC_SHA1-&gt;new($sha1_ws_pwd . $sha1_user_pwd);</code></p>\n\n<p>Finally i also had to lower case the auth in C#. So the change in C# was:</p>\n\n<pre><code>// sha1 hash the passwords\nstring sha1_ws_pwd   = System.Convert.ToBase64String(sha1.ComputeHash(enc.GetBytes(ws_password)));\nstring sha1_user_pwd = System.Convert.ToBase64String(sha1.ComputeHash(enc.GetBytes(user_pwd)));\n\n\u2026\n\nstring k0 = sha1_ws_pwd + sha1_user_pwd;\nHMACSHA1 hmac = new HMACSHA1(enc.GetBytes(k0));\n\n\u2026\n\nstring auth = BitConverter.ToString(_auth).Replace(\"-\", string.Empty).ToLower(); \n</code></pre>\n\n<p>Thank you for your time and answers.</p>\n"}], "owner": {"reputation": 1, "user_id": 3045792, "user_type": "registered", "profile_image": "https://graph.facebook.com/1040531040/picture?type=large", "display_name": "Asger", "link": "https://stackoverflow.com/users/3045792/asger"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 267, "favorite_count": 0, "accepted_answer_id": 36218252, "answer_count": 1, "score": 0, "last_activity_date": 1458901998, "creation_date": 1458287546, "question_id": 36078920, "link": "https://stackoverflow.com/questions/36078920/translate-perl-hash-to-c", "title": "translate perl hash to C#", "body": "<p>I have a perl script that hashes and hexes parameters for authenticating a post message. I have to write the same procedure in C#, but have had no luck so far. Here is the perl code:</p>\n\n<pre><code>my $sha1_user_pwd = sha1_base64($user_pwd);\n$sha1_user_pwd .= '=' x (4 - (length($sha1_user_pwd) % 4));\n\nmy $sha1_ws_pwd = sha1_base64($ws_pwd);\n$sha1_ws_pwd    .= '=' x (4 - (length($sha1_ws_pwd) % 4)); # Padding; if neccesary.\n\nmy $utc_time = time;\n\nmy ($utc_time, $kontekst, $projekt, $userid, $sha1_user_pwd) = @_;\nmy $auth = calc_hmac($sha1_ws_pwd, $sha1_user_pwd, $utc_time, $kontekst, $projekt, $userid);\n\nsub calc_hmac {\n    my ($sha1_ws_pwd, $sha1_user_pwd, $utc_time, $kontekst, $projekt, $userid) = @_;\n    my $hmac = Digest::HMAC_SHA1-&gt;new($sha1_ws_pwd . $sha1_user_pwd);\n    $hmac-&gt;add($utc_time . $kontekst . $projekt . $userid);\n    return $hmac-&gt;hex digest;\n}\n</code></pre>\n\n<p>$kontekst, $projekt, $userid and $ws_userid are all original string values. </p>\n\n<p>Final post message (i have inserted line breaks for readability)</p>\n\n<pre><code>wsBrugerid=$ws_userid\n&amp;UTCtime=$utc_time\n&amp;kontekst=$kontekst\n&amp;projekt=$projekt\n&amp;BrugerId=$userid\n&amp;Auth=$auth\n</code></pre>\n\n<p>I have tried to copy the procedure in C#:</p>\n\n<pre><code>    const string APP_KEY = \"APP_KEY\";\n    Encoding enc = Encoding.ASCII;\n    HMACSHA1 hmac = new HMACSHA1(enc.GetBytes(APP_KEY));\n    hmac.Initialize();\n\n    string ws_user      = \"ws_usr\";\n    string ws_password  = \"ws_pwd\";\n\n    DateTime epochStart = new System.DateTime(1970, 1, 1, 8, 0, 0, System.DateTimeKind.Utc);\n    int time            = (int) (System.DateTime.UtcNow - epochStart).TotalSeconds;\n    string context      = \"context\";\n    string project      = \"project\";\n\n    string user_id      = \"user_id\";\n    string user_pwd     = \"user_pwd\";\n\n    string sha1_ws_pwd  = System.Convert.ToBase64String(hmac.ComputeHash(enc.GetBytes(ws_password)));\n    sha1_ws_pwd += '=';\n\n    string sha1_user_pwd = System.Convert.ToBase64String(hmac.ComputeHash(enc.GetBytes(user_pwd)));\n    sha1_user_pwd += '=';\n\n    string k0           = sha1_ws_pwd + sha1_user_pwd;\n    string m0           = time + context + project + user_id;\n    byte[] _auth        = hmac.ComputeHash(enc.GetBytes(k0 + m0));\n    string auth         = BitConverter.ToString(_auth).Replace(\"-\", string.Empty);\n\n    string url = \"https://auth.emu.dk/mauth?wsBrugerid=\"+ws_user+\n    \"&amp;UTCtime=\"+time+\n    \"&amp;kontekst=\"+context+\n    \"&amp;projekt=\"+project+\n    \"&amp;BrugerId=\"+user_id+\n    \"&amp;Auth=\"+auth;\n\n    print(\"AuthenticationManager, url: \" + url);\n\n    HttpWebRequest request = (HttpWebRequest)WebRequest.Create(url);\n    request.Method = \"POST\";\n\n    Encoding encoding = System.Text.Encoding.GetEncoding(\"utf-8\");\n\n    String responseString = \"\";\n\n    HttpWebResponse response = (HttpWebResponse) request.GetResponse();\n    using (Stream stream = response.GetResponseStream()){\n        StreamReader reader = new StreamReader(stream, encoding);\n        responseString = reader.ReadToEnd();\n    }\n\n    JSONNode json = JSON.Parse(responseString);\n    print(\"AuthenticationManager, response: \" + json[0] + \" - \" + json[1]);\n</code></pre>\n\n<p>I have no access to the server or application, which gives the response. The real values has of course been swapped. For example, APP_KEY is not \"APP_KEY\", but instead an actual string used for authentication. I know the data is correct as it passes in the perl script.\nI appreciate any help I can get very much.</p>\n"}, {"tags": ["perl"], "comments": [{"owner": {"reputation": 53041, "user_id": 4653379, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/b3953dbedd0dabff5cbc3db9b0835b14?s=128&d=identicon&r=PG&f=1", "display_name": "zdim", "link": "https://stackoverflow.com/users/4653379/zdim"}, "edited": false, "score": 4, "creation_date": 1458288290, "post_id": 36078898, "comment_id": 59802917, "body": "What do you think should be &quot;better&quot; ...?  What bothers you with this?"}, {"owner": {"reputation": 53041, "user_id": 4653379, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/b3953dbedd0dabff5cbc3db9b0835b14?s=128&d=identicon&r=PG&f=1", "display_name": "zdim", "link": "https://stackoverflow.com/users/4653379/zdim"}, "edited": false, "score": 0, "creation_date": 1458710213, "post_id": 36078898, "comment_id": 59977395, "body": "I am curious -- is the answer below what you were asking about? Or you had something else in mind?  If it did solve your problem, I&#39;d suggest that you see this link <a href=\"http://stackoverflow.com/help/someone-answers\">What should I do when someone answers my question?</a>."}], "answers": [{"tags": [], "owner": {"reputation": 53041, "user_id": 4653379, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/b3953dbedd0dabff5cbc3db9b0835b14?s=128&d=identicon&r=PG&f=1", "display_name": "zdim", "link": "https://stackoverflow.com/users/4653379/zdim"}, "is_accepted": false, "score": 1, "last_activity_date": 1458761708, "last_edit_date": 1458761708, "creation_date": 1458288817, "answer_id": 36079271, "question_id": 36078898, "link": "https://stackoverflow.com/questions/36078898/best-way-to-use-return-subroutine-perl/36079271#36079271", "title": "Best way to use Return Subroutine - Perl", "body": "<p>It is common and advisable to set up your packages so that they can export chosen functions. Then you add <code>use packageName qw(f1 f2);</code> to units that use the functions and they can say <code>f1()</code> and <code>f2()</code> without <code>abc::</code>.  When you do it this way one can then glance at the top of the script and see what packages are used, and what functions from them.  There are many other benefits.</p>\n\n<p>File <code>abc.pm</code></p>\n\n<pre><code>package abc;\n\nuse warnings;\nuse strict;\nuse Carp;\n\nuse Exporter;\nour (@ISA, @EXPORT, @EXPORT_OK, %EXPORT_TAGS);\n@ISA = ('Exporter');\n@EXPORT_OK = qw(executexyz do_more);\n\nsub executexyz {\n    #perform some operation\n    my $check = getscore()  or carp \"Error: \";\n    return $check;\n}\n\nsub getscore {\n    #perform some operation\n    return $output;\n}\n\nsub do_more { }\n\n1;\n</code></pre>\n\n<p>There are other ways to do this.  Please search SO for packages, you will find a lot. Then scripts (or other packages) can <code>use</code> this package, importing only the functions they need.</p>\n\n<pre><code>use warnings;\nuse strict;\nuse abc qw(executexyz);\n\nexecutexyz();  # can use it without abc::\n</code></pre>\n\n<p>The line <code>@EXPORT_OK = qw(...)</code> makes listed functions available to other code for importing via <code>use</code>, so they can be then used without specifying <code>abc::</code> while other functions in the package cannot.  This is a preferred way of exporting symbols.</p>\n\n<p>If you were to have a line like that for <code>@EXPORT</code> then all listed functions would be just pushed into the namespace of any unit that <code>use</code> this package.  This is almost never a good thing to do. </p>\n\n<p>The <code>%EXPORT_TAGS</code> would allow you to set up groups of functions that can be imported by asking only for the tag name. I added it just to give you a hint that there is far, far more that you can do with package management.</p>\n\n<p>This just barely starts the topic. See for example the  <a href=\"http://perldoc.perl.org/functions/package.html\" rel=\"nofollow\">package</a> page from perldoc, and for a lot more <a href=\"http://perldoc.perl.org/perlmod.html\" rel=\"nofollow\">perlmod</a>. There are books and many tutorials out there. And mine SO. </p>\n\n<p>Once you get packages down the next related thing would be to look up how classes are written.</p>\n"}], "owner": {"reputation": 53, "user_id": 3688062, "user_type": "registered", "accept_rate": 90, "profile_image": "https://www.gravatar.com/avatar/a1797caf8db7f4e04f3e8889cf1971ce?s=128&d=identicon&r=PG&f=1", "display_name": "user3688062", "link": "https://stackoverflow.com/users/3688062/user3688062"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 54, "favorite_count": 0, "closed_date": 1459478843, "answer_count": 1, "score": -1, "last_activity_date": 1458761708, "creation_date": 1458287458, "question_id": 36078898, "link": "https://stackoverflow.com/questions/36078898/best-way-to-use-return-subroutine-perl", "closed_reason": "Needs details or clarity", "title": "Best way to use Return Subroutine - Perl", "body": "<p>I have written a script which is working fine. But i am looking for better option if there is any:</p>\n\n<p>Here is my logic: \n<strong>From Test.pl</strong></p>\n\n<pre><code>use strict;\nuse warnings;\n\n    executeTest();\n\n        sub executeTest {\n\n        my $score = abc::executexyz($z,$x,$y);\n        }\n</code></pre>\n\n<p><strong>From abc.pm</strong></p>\n\n<pre><code>    sub executexyz {\n\n    #perform some operation\n    my $check = getscore();\n    return $check;\n    }\n\n    sub getscore {\n    #perform some operation\n    return $output;\n\n    }\n\n1;\n</code></pre>\n"}, {"tags": ["linux", "perl", "hadoop", "oozie", "falcon"], "comments": [{"owner": {"reputation": 1220, "user_id": 1520793, "user_type": "registered", "accept_rate": 71, "profile_image": "https://www.gravatar.com/avatar/d0155363af97f63765cf92e647adb003?s=128&d=identicon&r=PG", "display_name": "sotona", "link": "https://stackoverflow.com/users/1520793/sotona"}, "edited": false, "score": 0, "creation_date": 1458289220, "post_id": 36078637, "comment_id": 59803417, "body": "use Text::CSV  to parse the file into hash, process it,  then write it back"}, {"owner": {"reputation": 288, "user_id": 1891635, "user_type": "registered", "accept_rate": 31, "profile_image": "https://www.gravatar.com/avatar/f4543e62029b9e4c1959156e1620615c?s=128&d=identicon&r=PG&f=1", "display_name": "MapReddy Usthili", "link": "https://stackoverflow.com/users/1891635/mapreddy-usthili"}, "reply_to_user": {"reputation": 1220, "user_id": 1520793, "user_type": "registered", "accept_rate": 71, "profile_image": "https://www.gravatar.com/avatar/d0155363af97f63765cf92e647adb003?s=128&d=identicon&r=PG", "display_name": "sotona", "link": "https://stackoverflow.com/users/1520793/sotona"}, "edited": false, "score": 0, "creation_date": 1458290372, "post_id": 36078637, "comment_id": 59803963, "body": "can you elaborate your answer little bit . Thanks for quick response :"}], "answers": [{"tags": [], "owner": {"reputation": 11, "user_id": 6081508, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/381333f58843d297549ac1b8e6c92318?s=128&d=identicon&r=PG&f=1", "display_name": "Sujay", "link": "https://stackoverflow.com/users/6081508/sujay"}, "is_accepted": false, "score": 1, "last_activity_date": 1458293420, "last_edit_date": 1458293420, "creation_date": 1458291501, "answer_id": 36080052, "question_id": 36078637, "link": "https://stackoverflow.com/questions/36078637/update-date-and-time-in-text-file-via-linux-script-or-falcon-hadoop/36080052#36080052", "title": "Update date and time in text file via Linux script or falcon : Hadoop", "body": "<p>You can do it in a shell script:</p>\n\n<ol>\n<li>Read each line of file </li>\n<li>Loop  </li>\n<li>Use cut command to read required field values </li>\n<li>Do <code>if condition</code> to check values for field <code>name</code> and <code>type</code> </li>\n<li>Use <code>sed</code> command to update the value for <code>starttime</code> and <code>endtime</code> fields</li>\n</ol>\n"}, {"comments": [{"owner": {"reputation": 288, "user_id": 1891635, "user_type": "registered", "accept_rate": 31, "profile_image": "https://www.gravatar.com/avatar/f4543e62029b9e4c1959156e1620615c?s=128&d=identicon&r=PG&f=1", "display_name": "MapReddy Usthili", "link": "https://stackoverflow.com/users/1891635/mapreddy-usthili"}, "edited": false, "score": 0, "creation_date": 1458294217, "post_id": 36080356, "comment_id": 59806317, "body": "Thanks Sotona .. Impressed with your answer :) .. Am very new to perl but i understood logic .. can you just help me smalle snippet in case if i don have headers ..what could be the change in code . -- Thanks a lot"}, {"owner": {"reputation": 1220, "user_id": 1520793, "user_type": "registered", "accept_rate": 71, "profile_image": "https://www.gravatar.com/avatar/d0155363af97f63765cf92e647adb003?s=128&d=identicon&r=PG", "display_name": "sotona", "link": "https://stackoverflow.com/users/1520793/sotona"}, "reply_to_user": {"reputation": 288, "user_id": 1891635, "user_type": "registered", "accept_rate": 31, "profile_image": "https://www.gravatar.com/avatar/f4543e62029b9e4c1959156e1620615c?s=128&d=identicon&r=PG&f=1", "display_name": "MapReddy Usthili", "link": "https://stackoverflow.com/users/1891635/mapreddy-usthili"}, "edited": false, "score": 0, "creation_date": 1458294795, "post_id": 36080356, "comment_id": 59806761, "body": "if you don&#39;t have headers, you have to make sure all columns have fixed position. in this case you have to split each line into an array, then check <code>if ($array[0] eq &#39;my&#39; &amp;&amp; $array[1] eq &#39;I&#39;)</code> then $array[3] = <i>current date</i>"}, {"owner": {"reputation": 288, "user_id": 1891635, "user_type": "registered", "accept_rate": 31, "profile_image": "https://www.gravatar.com/avatar/f4543e62029b9e4c1959156e1620615c?s=128&d=identicon&r=PG&f=1", "display_name": "MapReddy Usthili", "link": "https://stackoverflow.com/users/1891635/mapreddy-usthili"}, "edited": false, "score": 0, "creation_date": 1458713852, "post_id": 36080356, "comment_id": 59978615, "body": "Hello sotona, The perl script is failed to run from falcon . Can you transform same in Linuxscript , Thanks in advance??"}, {"owner": {"reputation": 1220, "user_id": 1520793, "user_type": "registered", "accept_rate": 71, "profile_image": "https://www.gravatar.com/avatar/d0155363af97f63765cf92e647adb003?s=128&d=identicon&r=PG", "display_name": "sotona", "link": "https://stackoverflow.com/users/1520793/sotona"}, "reply_to_user": {"reputation": 288, "user_id": 1891635, "user_type": "registered", "accept_rate": 31, "profile_image": "https://www.gravatar.com/avatar/f4543e62029b9e4c1959156e1620615c?s=128&d=identicon&r=PG&f=1", "display_name": "MapReddy Usthili", "link": "https://stackoverflow.com/users/1891635/mapreddy-usthili"}, "edited": false, "score": 0, "creation_date": 1458713914, "post_id": 36080356, "comment_id": 59978642, "body": "what is falcon? which version of Perl do you have there?"}, {"owner": {"reputation": 288, "user_id": 1891635, "user_type": "registered", "accept_rate": 31, "profile_image": "https://www.gravatar.com/avatar/f4543e62029b9e4c1959156e1620615c?s=128&d=identicon&r=PG&f=1", "display_name": "MapReddy Usthili", "link": "https://stackoverflow.com/users/1891635/mapreddy-usthili"}, "edited": false, "score": 0, "creation_date": 1458714082, "post_id": 36080356, "comment_id": 59978704, "body": "Falcon is a hadoop Data Governance and job scheduler . Perl version  v5.10.1 (*) . Stand alone script is working fine.. :) Thanks for the quick response . May be perl packages are not available in Falcon. So can you please transform in Linux script if Possible"}, {"owner": {"reputation": 1220, "user_id": 1520793, "user_type": "registered", "accept_rate": 71, "profile_image": "https://www.gravatar.com/avatar/d0155363af97f63765cf92e647adb003?s=128&d=identicon&r=PG", "display_name": "sotona", "link": "https://stackoverflow.com/users/1520793/sotona"}, "reply_to_user": {"reputation": 288, "user_id": 1891635, "user_type": "registered", "accept_rate": 31, "profile_image": "https://www.gravatar.com/avatar/f4543e62029b9e4c1959156e1620615c?s=128&d=identicon&r=PG&f=1", "display_name": "MapReddy Usthili", "link": "https://stackoverflow.com/users/1891635/mapreddy-usthili"}, "edited": false, "score": 0, "creation_date": 1458714147, "post_id": 36080356, "comment_id": 59978731, "body": "well, it&#39;s possible, but the script would be way less understandable and way longer. what error do you get when trying to run this script?"}, {"owner": {"reputation": 288, "user_id": 1891635, "user_type": "registered", "accept_rate": 31, "profile_image": "https://www.gravatar.com/avatar/f4543e62029b9e4c1959156e1620615c?s=128&d=identicon&r=PG&f=1", "display_name": "MapReddy Usthili", "link": "https://stackoverflow.com/users/1891635/mapreddy-usthili"}, "edited": false, "score": 0, "creation_date": 1458716021, "post_id": 36080356, "comment_id": 59979411, "body": "The job has Killed by Oozie server .. as of bed request : Don&#39;t know actually i have checked application logs not giving any cause of the issue . .. Share me linux script .Will try to execute from falcon"}, {"owner": {"reputation": 1220, "user_id": 1520793, "user_type": "registered", "accept_rate": 71, "profile_image": "https://www.gravatar.com/avatar/d0155363af97f63765cf92e647adb003?s=128&d=identicon&r=PG", "display_name": "sotona", "link": "https://stackoverflow.com/users/1520793/sotona"}, "reply_to_user": {"reputation": 288, "user_id": 1891635, "user_type": "registered", "accept_rate": 31, "profile_image": "https://www.gravatar.com/avatar/f4543e62029b9e4c1959156e1620615c?s=128&d=identicon&r=PG&f=1", "display_name": "MapReddy Usthili", "link": "https://stackoverflow.com/users/1891635/mapreddy-usthili"}, "edited": false, "score": 0, "creation_date": 1458716225, "post_id": 36080356, "comment_id": 59979500, "body": "can you just run the script from command line on your server and post an error? it is  possible that Bash script won&#39;t work as well"}, {"owner": {"reputation": 288, "user_id": 1891635, "user_type": "registered", "accept_rate": 31, "profile_image": "https://www.gravatar.com/avatar/f4543e62029b9e4c1959156e1620615c?s=128&d=identicon&r=PG&f=1", "display_name": "MapReddy Usthili", "link": "https://stackoverflow.com/users/1891635/mapreddy-usthili"}, "edited": false, "score": 0, "creation_date": 1458716340, "post_id": 36080356, "comment_id": 59979554, "body": "Sotona, the script  working very fine  from command line as standalone scipt. It is not at all code orperl issue. It might be with falcon packages. I guess as for now we can run only linux scipts from Falcon n oozie."}, {"owner": {"reputation": 1220, "user_id": 1520793, "user_type": "registered", "accept_rate": 71, "profile_image": "https://www.gravatar.com/avatar/d0155363af97f63765cf92e647adb003?s=128&d=identicon&r=PG", "display_name": "sotona", "link": "https://stackoverflow.com/users/1520793/sotona"}, "reply_to_user": {"reputation": 288, "user_id": 1891635, "user_type": "registered", "accept_rate": 31, "profile_image": "https://www.gravatar.com/avatar/f4543e62029b9e4c1959156e1620615c?s=128&d=identicon&r=PG&f=1", "display_name": "MapReddy Usthili", "link": "https://stackoverflow.com/users/1891635/mapreddy-usthili"}, "edited": false, "score": 0, "creation_date": 1458716725, "post_id": 36080356, "comment_id": 59979722, "body": "Let us <a href=\"http://chat.stackoverflow.com/rooms/107095/discussion-between-sotona-and-mapreddy\">continue this discussion in chat</a>."}, {"owner": {"reputation": 288, "user_id": 1891635, "user_type": "registered", "accept_rate": 31, "profile_image": "https://www.gravatar.com/avatar/f4543e62029b9e4c1959156e1620615c?s=128&d=identicon&r=PG&f=1", "display_name": "MapReddy Usthili", "link": "https://stackoverflow.com/users/1891635/mapreddy-usthili"}, "edited": false, "score": 0, "creation_date": 1459145332, "post_id": 36080356, "comment_id": 60142811, "body": "can you  please share the script. It is failing only by - below error       :Script failed, error message[Main class [org.apache.oozie.action.hadoop.ShellMain], exit code [1]]                                         So  1)\tPerlscript Buffer reader is not able to contact oozie server : So needs to look a new way : may be linux script will help us. Thanks"}], "tags": [], "owner": {"reputation": 1220, "user_id": 1520793, "user_type": "registered", "accept_rate": 71, "profile_image": "https://www.gravatar.com/avatar/d0155363af97f63765cf92e647adb003?s=128&d=identicon&r=PG", "display_name": "sotona", "link": "https://stackoverflow.com/users/1520793/sotona"}, "is_accepted": true, "score": 1, "last_activity_date": 1458292391, "creation_date": 1458292391, "answer_id": 36080356, "question_id": 36078637, "link": "https://stackoverflow.com/questions/36078637/update-date-and-time-in-text-file-via-linux-script-or-falcon-hadoop/36080356#36080356", "title": "Update date and time in text file via Linux script or falcon : Hadoop", "body": "<p>Pure Perl solution will look like</p>\n\n<pre><code>#!/usr/bin/env perl\n\nuse strict;\nuse warnings;\n\nopen(my $fh, \"&lt;\", \"file.txt\") || die $!;\nmy ($header, @lines) = &lt;$fh&gt;;\nclose($fh);\n\nmy @keys = split(/[\\s\\t]+/, $header);\n\nopen($fh, \"&gt;\", \"file.txt\") || die $!;\nprint $fh join(\"\\t\",@keys), \"\\n\";\n\nmy @cdate = (localtime)[3,4,5];\n$cdate[1] += 1;\n$cdate[2] += 1900;\n\nforeach my $line (@lines) {\n    my %tmp;\n    @tmp{@keys} = split(/[\\s\\t]+/, $line);\n    if($tmp{'Name'} eq 'my' &amp;&amp; $tmp{'type'} eq 'I') {\n        $tmp{'Endtime'} = sprintf(\"%02d-%02d-%04d\", @cdate)\n    }\n\n    print $fh join(\"\\t\", @tmp{@keys} ),\"\\n\"\n}\n\nclose($fh)\n</code></pre>\n"}], "owner": {"reputation": 288, "user_id": 1891635, "user_type": "registered", "accept_rate": 31, "profile_image": "https://www.gravatar.com/avatar/f4543e62029b9e4c1959156e1620615c?s=128&d=identicon&r=PG&f=1", "display_name": "MapReddy Usthili", "link": "https://stackoverflow.com/users/1891635/mapreddy-usthili"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 124, "favorite_count": 1, "accepted_answer_id": 36080356, "answer_count": 2, "score": 0, "last_activity_date": 1458293420, "creation_date": 1458286485, "question_id": 36078637, "link": "https://stackoverflow.com/questions/36078637/update-date-and-time-in-text-file-via-linux-script-or-falcon-hadoop", "title": "Update date and time in text file via Linux script or falcon : Hadoop", "body": "<p>I have some text file with below entries :</p>\n\n<pre><code>Name  type  startTime   Endtime    comments\nmy   I      01-03-2016  02-03-2016 zoom\nmy   F     01-03-2016  02-03-2016  zoom2\nabd   F     03-03-2016  04-03-2016  zoom5\nmy   I      01-03-2016  02-03-2016 zoom6 \n</code></pre>\n\n<p>If the Currnt date is march 18 : the output should be  :\nOutput :</p>\n\n<pre><code>Name  type  startTime   Endtime    comments\nmy   I      **02-03-2016**  ***18-03-2016*** zoom\nmy   F     01-03-2016  02-03-2016  zoom2\nabd   F     03-03-2016  04-03-2016  zoom5\nmy   I      **02-03-2016**  ***18-03-2016*** zoom6 \n</code></pre>\n\n<p>Conditions are <code>If name  == my &amp;&amp; type ==I</code> then needs to update the start time with End time -- End time would be current date which is processed :</p>\n\n<p>Can any one help me in choosing best methodology to process that file with above requirements .</p>\n\n<p>I hope my requirement is cleared :) \nThanks,\nMadhu</p>\n"}, {"tags": ["oracle", "perl", "activeperl", "perlapp", "perldb"], "comments": [{"owner": {"reputation": 1220, "user_id": 1520793, "user_type": "registered", "accept_rate": 71, "profile_image": "https://www.gravatar.com/avatar/d0155363af97f63765cf92e647adb003?s=128&d=identicon&r=PG", "display_name": "sotona", "link": "https://stackoverflow.com/users/1520793/sotona"}, "edited": false, "score": 0, "creation_date": 1458285984, "post_id": 36077290, "comment_id": 59801787, "body": "does our Oracle instance allow connections from outside?"}, {"owner": {"reputation": 317, "user_id": 1378255, "user_type": "registered", "accept_rate": 67, "profile_image": "https://www.gravatar.com/avatar/29ba646b70e724697dd7cf891bac07d2?s=128&d=identicon&r=PG", "display_name": "sathishkumar", "link": "https://stackoverflow.com/users/1378255/sathishkumar"}, "reply_to_user": {"reputation": 1220, "user_id": 1520793, "user_type": "registered", "accept_rate": 71, "profile_image": "https://www.gravatar.com/avatar/d0155363af97f63765cf92e647adb003?s=128&d=identicon&r=PG", "display_name": "sotona", "link": "https://stackoverflow.com/users/1520793/sotona"}, "edited": false, "score": 0, "creation_date": 1458286131, "post_id": 36077290, "comment_id": 59801855, "body": "yes that oracle is accessible from outside"}, {"owner": {"reputation": 1220, "user_id": 1520793, "user_type": "registered", "accept_rate": 71, "profile_image": "https://www.gravatar.com/avatar/d0155363af97f63765cf92e647adb003?s=128&d=identicon&r=PG", "display_name": "sotona", "link": "https://stackoverflow.com/users/1520793/sotona"}, "edited": false, "score": 0, "creation_date": 1458286402, "post_id": 36077290, "comment_id": 59801992, "body": "BTW, why do you need an exe on other host? In current situation problem may be anywhere. try to connect like: <code>my $dbh = DBI-&gt;connect( &quot;dbi:Oracle:host=cu394.cloud.net;sid=ora&quot;, &quot;ctfuser238&quot;, &quot;ctfuser238&quot; , {&#39;RaiseError&#39; =&gt; 1}) || die &quot;$DBI::errstr&quot;;</code> we need to figure out where the problem indeed is"}, {"owner": {"reputation": 317, "user_id": 1378255, "user_type": "registered", "accept_rate": 67, "profile_image": "https://www.gravatar.com/avatar/29ba646b70e724697dd7cf891bac07d2?s=128&d=identicon&r=PG", "display_name": "sathishkumar", "link": "https://stackoverflow.com/users/1378255/sathishkumar"}, "reply_to_user": {"reputation": 1220, "user_id": 1520793, "user_type": "registered", "accept_rate": 71, "profile_image": "https://www.gravatar.com/avatar/d0155363af97f63765cf92e647adb003?s=128&d=identicon&r=PG", "display_name": "sotona", "link": "https://stackoverflow.com/users/1520793/sotona"}, "edited": false, "score": 0, "creation_date": 1458286635, "post_id": 36077290, "comment_id": 59802119, "body": "When i try to run simply the program it says oracle.so not found so i wrapped as  a executable so that it may include all dependency,To make it simple from the system am connecting from will not have oracle instance"}, {"owner": {"reputation": 1220, "user_id": 1520793, "user_type": "registered", "accept_rate": 71, "profile_image": "https://www.gravatar.com/avatar/d0155363af97f63765cf92e647adb003?s=128&d=identicon&r=PG", "display_name": "sotona", "link": "https://stackoverflow.com/users/1520793/sotona"}, "edited": false, "score": 0, "creation_date": 1458286802, "post_id": 36077290, "comment_id": 59802202, "body": "so what does it say with modification I suggested?"}, {"owner": {"reputation": 1220, "user_id": 1520793, "user_type": "registered", "accept_rate": 71, "profile_image": "https://www.gravatar.com/avatar/d0155363af97f63765cf92e647adb003?s=128&d=identicon&r=PG", "display_name": "sotona", "link": "https://stackoverflow.com/users/1520793/sotona"}, "edited": false, "score": 0, "creation_date": 1458286915, "post_id": 36077290, "comment_id": 59802263, "body": "I mean add &#39;die&#39; and re-compile"}, {"owner": {"reputation": 317, "user_id": 1378255, "user_type": "registered", "accept_rate": 67, "profile_image": "https://www.gravatar.com/avatar/29ba646b70e724697dd7cf891bac07d2?s=128&d=identicon&r=PG", "display_name": "sathishkumar", "link": "https://stackoverflow.com/users/1378255/sathishkumar"}, "reply_to_user": {"reputation": 1220, "user_id": 1520793, "user_type": "registered", "accept_rate": 71, "profile_image": "https://www.gravatar.com/avatar/d0155363af97f63765cf92e647adb003?s=128&d=identicon&r=PG", "display_name": "sotona", "link": "https://stackoverflow.com/users/1520793/sotona"}, "edited": false, "score": 0, "creation_date": 1458287218, "post_id": 36077290, "comment_id": 59802408, "body": "install_driver(Oracle) failed: Can&#39;t load &#39;/opt/ActivePerl-5.12/lib/auto/DBD/Oracle/Oracle.so&#39; for module DBD::Oracle: libclntsh.so.10.1:  I have put all the needed DBI perl modules but stiil the same error"}, {"owner": {"reputation": 1220, "user_id": 1520793, "user_type": "registered", "accept_rate": 71, "profile_image": "https://www.gravatar.com/avatar/d0155363af97f63765cf92e647adb003?s=128&d=identicon&r=PG", "display_name": "sotona", "link": "https://stackoverflow.com/users/1520793/sotona"}, "edited": false, "score": 0, "creation_date": 1458287330, "post_id": 36077290, "comment_id": 59802465, "body": "I believe this is the compilation  issue. Just install everything is requires to  your remote host"}], "owner": {"reputation": 317, "user_id": 1378255, "user_type": "registered", "accept_rate": 67, "profile_image": "https://www.gravatar.com/avatar/29ba646b70e724697dd7cf891bac07d2?s=128&d=identicon&r=PG", "display_name": "sathishkumar", "link": "https://stackoverflow.com/users/1378255/sathishkumar"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 182, "favorite_count": 0, "answer_count": 0, "score": 1, "last_activity_date": 1458281270, "creation_date": 1458281270, "question_id": 36077290, "link": "https://stackoverflow.com/questions/36077290/perl-program-to-connect-oracle-database-from-different-system", "title": "Perl program to connect oracle database from different system", "body": "<p>I have a perl program which connects to oracle database and fetch details,Which is perfectly working from same host(cu394.cloud.net)</p>\n\n<pre><code>my $dbh = DBI-&gt;connect( \"dbi:Oracle:host=cu394.cloud.net;sid=ora\", \"ctfuser238\", \"ctfuser238\" , {'RaiseError' =&gt; 1});\n</code></pre>\n\n<p>But I need to run this same program from different host (cu364.cloud.net) to connect to cu394.</p>\n\n<p>I tried make this script as executable binary like this using perlapp </p>\n\n<pre><code>/opt/pdk/bin/perlapp --force --exe rms --perl /opt/ActivePerl-5.12/bin/perl-static update.pl\n</code></pre>\n\n<p>and tried running that executable from different server but no luck</p>\n\n<p>Kindly throw some light on this</p>\n\n<p>Best Regards\nSathish</p>\n"}, {"tags": ["perl", "archlinux"], "comments": [{"owner": {"reputation": 87649, "user_id": 17389, "user_type": "registered", "accept_rate": 38, "profile_image": "https://www.gravatar.com/avatar/cd06d1314817ce946ab796af8750b56a?s=128&d=identicon&r=PG", "display_name": "ysth", "link": "https://stackoverflow.com/users/17389/ysth"}, "edited": false, "score": 1, "creation_date": 1458280588, "post_id": 36076943, "comment_id": 59799341, "body": "Show the full code that gets the error"}, {"owner": {"reputation": 282, "user_id": 2595845, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/7a16fac3f735f8d41981e252499c59c8?s=128&d=identicon&r=PG", "display_name": "joharr", "link": "https://stackoverflow.com/users/2595845/joharr"}, "reply_to_user": {"reputation": 87649, "user_id": 17389, "user_type": "registered", "accept_rate": 38, "profile_image": "https://www.gravatar.com/avatar/cd06d1314817ce946ab796af8750b56a?s=128&d=identicon&r=PG", "display_name": "ysth", "link": "https://stackoverflow.com/users/17389/ysth"}, "edited": false, "score": 0, "creation_date": 1458284178, "post_id": 36076943, "comment_id": 59800869, "body": "@ysth, I&#39;ve changed the question."}], "answers": [{"comments": [{"owner": {"reputation": 282, "user_id": 2595845, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/7a16fac3f735f8d41981e252499c59c8?s=128&d=identicon&r=PG", "display_name": "joharr", "link": "https://stackoverflow.com/users/2595845/joharr"}, "edited": false, "score": 0, "creation_date": 1458298740, "post_id": 36079173, "comment_id": 59809443, "body": "Yes, and that very basic mistake of mine makes this into a misleading question..."}], "tags": [], "owner": {"reputation": 4663, "user_id": 3967089, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/77d00715119003023d62918dcc603ca7?s=128&d=identicon&r=PG&f=1", "display_name": "Calle Dybedahl", "link": "https://stackoverflow.com/users/3967089/calle-dybedahl"}, "is_accepted": true, "score": 2, "last_activity_date": 1458322304, "last_edit_date": 1458322304, "creation_date": 1458288466, "answer_id": 36079173, "question_id": 36076943, "link": "https://stackoverflow.com/questions/36076943/conflict-between-use-iotee-an-end-block/36079173#36079173", "title": "conflict between use IO::Tee &amp; an END block", "body": "<p>You forgot the semicolon after \"use IO::Tee\".</p>\n\n<p>So the <code>END { print ... }</code> is being used as the import list to pass to IO::Tee::import.  And that syntax is like <code>print { expression-giving-a-filehandle } output-stuff</code>; what's in the <code>{}</code> (which is <code>1</code>, because that's what a successful print returns) is an object to call the END method on.</p>\n"}], "owner": {"reputation": 282, "user_id": 2595845, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/7a16fac3f735f8d41981e252499c59c8?s=128&d=identicon&r=PG", "display_name": "joharr", "link": "https://stackoverflow.com/users/2595845/joharr"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 35, "favorite_count": 0, "accepted_answer_id": 36079173, "answer_count": 1, "score": 0, "last_activity_date": 1458322304, "creation_date": 1458279647, "last_edit_date": 1458283984, "question_id": 36076943, "link": "https://stackoverflow.com/questions/36076943/conflict-between-use-iotee-an-end-block", "title": "conflict between use IO::Tee &amp; an END block", "body": "<p>This script, <code>IOTee.pl</code>, reports it took 0 seconds to run:</p>\n\n<pre><code>#!/usr/bin/perl\n\nuse IO::Tee\n\n# create a time check:\nEND { print \"This Perl program ran for \", time() - $^T, \" seconds.\\n\"}\n</code></pre>\n\n<p>but it also reports:</p>\n\n<blockquote>\n  <p>Can't locate object method \"END\" via package \"1\" (perhaps you forgot to load \"1\"?) at IOTee.pl line 6.<br>\n  BEGIN failed--compilation aborted at IOTee.pl line 6.</p>\n</blockquote>\n\n<p>- why?</p>\n"}, {"tags": ["perl", "file-handling"], "answers": [{"comments": [{"owner": {"reputation": 13, "user_id": 6073591, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/2ee1978419be1a8d74de09f70e479f64?s=128&d=identicon&r=PG&f=1", "display_name": "B_perl", "link": "https://stackoverflow.com/users/6073591/b-perl"}, "edited": false, "score": 0, "creation_date": 1458310833, "post_id": 36081893, "comment_id": 59817967, "body": "Thanks a lot @simbabque, just one question - why is there  a new variable $other_dir?"}, {"owner": {"reputation": 50468, "user_id": 1331451, "user_type": "registered", "accept_rate": 96, "profile_image": "https://i.stack.imgur.com/4ZPmj.png?s=128&g=1", "display_name": "simbabque", "link": "https://stackoverflow.com/users/1331451/simbabque"}, "reply_to_user": {"reputation": 13, "user_id": 6073591, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/2ee1978419be1a8d74de09f70e479f64?s=128&d=identicon&r=PG&f=1", "display_name": "B_perl", "link": "https://stackoverflow.com/users/6073591/b-perl"}, "edited": false, "score": 0, "creation_date": 1458311050, "post_id": 36081893, "comment_id": 59818110, "body": "@B_perl that was just my example for what it looks like if you have a path that is multiple directories deep. You don&#39;t need that variable. But if I put both examples in one code block in my answer, I want it to be <i>syntactically correct</i> Perl."}, {"owner": {"reputation": 13, "user_id": 6073591, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/2ee1978419be1a8d74de09f70e479f64?s=128&d=identicon&r=PG&f=1", "display_name": "B_perl", "link": "https://stackoverflow.com/users/6073591/b-perl"}, "edited": false, "score": 1, "creation_date": 1458316614, "post_id": 36081893, "comment_id": 59822083, "body": "It works perfectly! Thanks @simbabque..sorry I was just double checking incase I missed something."}, {"owner": {"reputation": 50468, "user_id": 1331451, "user_type": "registered", "accept_rate": 96, "profile_image": "https://i.stack.imgur.com/4ZPmj.png?s=128&g=1", "display_name": "simbabque", "link": "https://stackoverflow.com/users/1331451/simbabque"}, "reply_to_user": {"reputation": 13, "user_id": 6073591, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/2ee1978419be1a8d74de09f70e479f64?s=128&d=identicon&r=PG&f=1", "display_name": "B_perl", "link": "https://stackoverflow.com/users/6073591/b-perl"}, "edited": false, "score": 0, "creation_date": 1458316933, "post_id": 36081893, "comment_id": 59822306, "body": "No problem. It&#39;s always better to check. :)"}, {"owner": {"reputation": 50468, "user_id": 1331451, "user_type": "registered", "accept_rate": 96, "profile_image": "https://i.stack.imgur.com/4ZPmj.png?s=128&g=1", "display_name": "simbabque", "link": "https://stackoverflow.com/users/1331451/simbabque"}, "reply_to_user": {"reputation": 13, "user_id": 6073591, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/2ee1978419be1a8d74de09f70e479f64?s=128&d=identicon&r=PG&f=1", "display_name": "B_perl", "link": "https://stackoverflow.com/users/6073591/b-perl"}, "edited": false, "score": 0, "creation_date": 1458317141, "post_id": 36081893, "comment_id": 59822451, "body": "@B I just realized you probably copied that code from an answer I wrote two years ago and which I do not remember. Small world. :)"}, {"owner": {"reputation": 13, "user_id": 6073591, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/2ee1978419be1a8d74de09f70e479f64?s=128&d=identicon&r=PG&f=1", "display_name": "B_perl", "link": "https://stackoverflow.com/users/6073591/b-perl"}, "edited": false, "score": 0, "creation_date": 1458327913, "post_id": 36081893, "comment_id": 59829046, "body": "Yes! I saw your username too in that post later, so I had mark it as useful! How knowledge transfers  :) Thanks!"}, {"owner": {"reputation": 50468, "user_id": 1331451, "user_type": "registered", "accept_rate": 96, "profile_image": "https://i.stack.imgur.com/4ZPmj.png?s=128&g=1", "display_name": "simbabque", "link": "https://stackoverflow.com/users/1331451/simbabque"}, "reply_to_user": {"reputation": 13, "user_id": 6073591, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/2ee1978419be1a8d74de09f70e479f64?s=128&d=identicon&r=PG&f=1", "display_name": "B_perl", "link": "https://stackoverflow.com/users/6073591/b-perl"}, "edited": false, "score": 0, "creation_date": 1458328055, "post_id": 36081893, "comment_id": 59829128, "body": "@B the fun think is, I have never used this module. I am just good at reading documentation. That&#39;s a skill you need to learn too. ;-)"}], "tags": [], "owner": {"reputation": 50468, "user_id": 1331451, "user_type": "registered", "accept_rate": 96, "profile_image": "https://i.stack.imgur.com/4ZPmj.png?s=128&g=1", "display_name": "simbabque", "link": "https://stackoverflow.com/users/1331451/simbabque"}, "is_accepted": true, "score": 0, "last_activity_date": 1458311078, "last_edit_date": 1458311078, "creation_date": 1458296670, "answer_id": 36081893, "question_id": 36076752, "link": "https://stackoverflow.com/questions/36076752/excluding-root-base-directory-from-an-array-using-filefindrule/36081893#36081893", "title": "excluding root/base directory from an array using File::Find::Rule", "body": "<p>You can use <a href=\"http://perldoc.perl.org/functions/grep.html\" rel=\"nofollow\"><code>grep</code></a> to exclude the search directory.</p>\n\n<pre><code>my @subdirs = grep { $_ ne $directory } $rule-&gt;in($directory);\n</code></pre>\n\n<p>In that case you would have to change the content of <code>$directory</code> to match the way File::Find outputs it, though. There is no trailing slash, and no leading <code>./</code>. Just use the name, or a direct relative path.</p>\n\n<pre><code>my $directory = 'test_dir';   \nmy $other_dir = 'foo/bar/baz'; # multi-level depths would look like this\n</code></pre>\n"}], "owner": {"reputation": 13, "user_id": 6073591, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/2ee1978419be1a8d74de09f70e479f64?s=128&d=identicon&r=PG&f=1", "display_name": "B_perl", "link": "https://stackoverflow.com/users/6073591/b-perl"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 87, "favorite_count": 0, "accepted_answer_id": 36081893, "answer_count": 1, "score": 1, "last_activity_date": 1458311078, "creation_date": 1458278709, "last_edit_date": 1458280087, "question_id": 36076752, "link": "https://stackoverflow.com/questions/36076752/excluding-root-base-directory-from-an-array-using-filefindrule", "title": "excluding root/base directory from an array using File::Find::Rule", "body": "<p>I am trying to read in the subdirectories using File::Find::Rule, but my code is also printing/reading the base dir too along with the subdirectories. how can I correct the use of cvs example (<a href=\"http://search.cpan.org/~rclamp/File-Find-Rule-0.34/lib/File/Find/Rule.pm\" rel=\"nofollow\">http://search.cpan.org/~rclamp/File-Find-Rule-0.34/lib/File/Find/Rule.pm</a>) method which has been explained in some of the similar posts. My code looks like - </p>\n\n<pre><code> use File::Find::Rule;\nmy $directory = './test_dir/';\nmy $rule = File::Find::Rule-&gt;new; $rule -&gt; or($rule -&gt;new\n        -&gt; directory\n        -&gt;name('test_dir')\n        -&gt;prune\n        -&gt;discard,\n          $rule-&gt;new);\nmy @subdirs = $rule-&gt;in($directory);\n</code></pre>\n\n<p>which still lists ./test_dir as well in the @subdir. </p>\n"}, {"tags": ["perl", "awk", "sed"], "comments": [{"owner": {"reputation": 156, "user_id": 4160283, "user_type": "registered", "accept_rate": 50, "profile_image": "https://i.stack.imgur.com/VnGOL.jpg?s=128&g=1", "display_name": "Digger", "link": "https://stackoverflow.com/users/4160283/digger"}, "edited": false, "score": 0, "creation_date": 1458272231, "post_id": 36073370, "comment_id": 59796923, "body": "Question was stated incorrectly when initially posted.  Now fixed.  Sorry to anyone who was inconvenienced."}, {"owner": {"reputation": 156, "user_id": 4160283, "user_type": "registered", "accept_rate": 50, "profile_image": "https://i.stack.imgur.com/VnGOL.jpg?s=128&g=1", "display_name": "Digger", "link": "https://stackoverflow.com/users/4160283/digger"}, "edited": false, "score": 0, "creation_date": 1458319802, "post_id": 36073370, "comment_id": 59824236, "body": "After seeing that my question had been put on hold, I endeavored to edit same, in the hopes if making it more clear.  How did I do?"}, {"owner": {"reputation": 74843, "user_id": 2988730, "user_type": "registered", "accept_rate": 96, "profile_image": "https://i.stack.imgur.com/ZOX7t.jpg?s=128&g=1", "display_name": "Mad Physicist", "link": "https://stackoverflow.com/users/2988730/mad-physicist"}, "edited": false, "score": 0, "creation_date": 1458328168, "post_id": 36073370, "comment_id": 59829203, "body": "Add a colon after <code>http</code> in your link."}, {"owner": {"reputation": 156, "user_id": 4160283, "user_type": "registered", "accept_rate": 50, "profile_image": "https://i.stack.imgur.com/VnGOL.jpg?s=128&g=1", "display_name": "Digger", "link": "https://stackoverflow.com/users/4160283/digger"}, "reply_to_user": {"reputation": 74843, "user_id": 2988730, "user_type": "registered", "accept_rate": 96, "profile_image": "https://i.stack.imgur.com/ZOX7t.jpg?s=128&g=1", "display_name": "Mad Physicist", "link": "https://stackoverflow.com/users/2988730/mad-physicist"}, "edited": false, "score": 0, "creation_date": 1458337278, "post_id": 36073370, "comment_id": 59833758, "body": "@MadPhysicist Oops!  Fixed!"}, {"owner": {"reputation": 156, "user_id": 4160283, "user_type": "registered", "accept_rate": 50, "profile_image": "https://i.stack.imgur.com/VnGOL.jpg?s=128&g=1", "display_name": "Digger", "link": "https://stackoverflow.com/users/4160283/digger"}, "reply_to_user": {"reputation": 74843, "user_id": 2988730, "user_type": "registered", "accept_rate": 96, "profile_image": "https://i.stack.imgur.com/ZOX7t.jpg?s=128&g=1", "display_name": "Mad Physicist", "link": "https://stackoverflow.com/users/2988730/mad-physicist"}, "edited": false, "score": 0, "creation_date": 1458587288, "post_id": 36073370, "comment_id": 59917542, "body": "Uh oh!  My question has been in purgatory for three days and is about to be banished to the fires of hell - what to do?  I re-edited said question and, at this point, don&#39;t know exactly what is still wrong with it!  Help!"}, {"owner": {"reputation": 74843, "user_id": 2988730, "user_type": "registered", "accept_rate": 96, "profile_image": "https://i.stack.imgur.com/ZOX7t.jpg?s=128&g=1", "display_name": "Mad Physicist", "link": "https://stackoverflow.com/users/2988730/mad-physicist"}, "edited": false, "score": 0, "creation_date": 1458587881, "post_id": 36073370, "comment_id": 59917848, "body": "&quot;Write some code for me&quot; is generally a good way to get shut down. Try something yourself and ask something of the form &quot;I did this and it broke here, please help&quot;."}, {"owner": {"reputation": 156, "user_id": 4160283, "user_type": "registered", "accept_rate": 50, "profile_image": "https://i.stack.imgur.com/VnGOL.jpg?s=128&g=1", "display_name": "Digger", "link": "https://stackoverflow.com/users/4160283/digger"}, "reply_to_user": {"reputation": 74843, "user_id": 2988730, "user_type": "registered", "accept_rate": 96, "profile_image": "https://i.stack.imgur.com/ZOX7t.jpg?s=128&g=1", "display_name": "Mad Physicist", "link": "https://stackoverflow.com/users/2988730/mad-physicist"}, "edited": false, "score": 0, "creation_date": 1458599994, "post_id": 36073370, "comment_id": 59923920, "body": "@MadPhysicist Thanks for your insight.  Yes, I am aware of that, and it was my intention to show effort by linking to another one of my questions (see the &quot;back story&quot; section of the original question.  Also, it was also my original intent to ask a question, then answer it myself (see below).  I guess I did not do all of this in a clear enough fashion."}, {"owner": {"reputation": 156, "user_id": 4160283, "user_type": "registered", "accept_rate": 50, "profile_image": "https://i.stack.imgur.com/VnGOL.jpg?s=128&g=1", "display_name": "Digger", "link": "https://stackoverflow.com/users/4160283/digger"}, "reply_to_user": {"reputation": 74843, "user_id": 2988730, "user_type": "registered", "accept_rate": 96, "profile_image": "https://i.stack.imgur.com/ZOX7t.jpg?s=128&g=1", "display_name": "Mad Physicist", "link": "https://stackoverflow.com/users/2988730/mad-physicist"}, "edited": false, "score": 0, "creation_date": 1458668329, "post_id": 36073370, "comment_id": 59959959, "body": "Question re-written, and effort to solve same validated as of yesterday.  Please remove from hold."}, {"owner": {"reputation": 156, "user_id": 4160283, "user_type": "registered", "accept_rate": 50, "profile_image": "https://i.stack.imgur.com/VnGOL.jpg?s=128&g=1", "display_name": "Digger", "link": "https://stackoverflow.com/users/4160283/digger"}, "reply_to_user": {"reputation": 74843, "user_id": 2988730, "user_type": "registered", "accept_rate": 96, "profile_image": "https://i.stack.imgur.com/ZOX7t.jpg?s=128&g=1", "display_name": "Mad Physicist", "link": "https://stackoverflow.com/users/2988730/mad-physicist"}, "edited": false, "score": 0, "creation_date": 1458754930, "post_id": 36073370, "comment_id": 60005575, "body": "This question was banished, closed.  All important information has been added to <a href=\"http://stackoverflow.com/questions/35966938/append-to-line-that-is-preceded-and-followed-by-empty-line\">this question</a>, as my intent was to preserve the code used to solve the problem.  Perhaps someone else will find it useful..."}], "answers": [{"comments": [{"owner": {"reputation": 155597, "user_id": 1745001, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/99a3ebae89496eb16afe453aae97f5be?s=128&d=identicon&r=PG", "display_name": "Ed Morton", "link": "https://stackoverflow.com/users/1745001/ed-morton"}, "edited": false, "score": 0, "creation_date": 1458267294, "post_id": 36073371, "comment_id": 59795768, "body": "That&#39;s a ridiculous mis-use of sed. Most of those language constructs have been obsolete for 40 years and/or aren&#39;t supported by all seds. sed is for simple substitutions on individual lines, that is all. For anything else you should be using awk for simplicity, clarity, portability, performance, and almost every other desirable quality of software."}, {"owner": {"reputation": 156, "user_id": 4160283, "user_type": "registered", "accept_rate": 50, "profile_image": "https://i.stack.imgur.com/VnGOL.jpg?s=128&g=1", "display_name": "Digger", "link": "https://stackoverflow.com/users/4160283/digger"}, "reply_to_user": {"reputation": 155597, "user_id": 1745001, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/99a3ebae89496eb16afe453aae97f5be?s=128&d=identicon&r=PG", "display_name": "Ed Morton", "link": "https://stackoverflow.com/users/1745001/ed-morton"}, "edited": false, "score": 0, "creation_date": 1458319112, "post_id": 36073371, "comment_id": 59823764, "body": "This one-liner gives me the desired output, not only for the test case shown in the OP, but when used with my actual text files (mentioned in the OP)."}, {"owner": {"reputation": 155597, "user_id": 1745001, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/99a3ebae89496eb16afe453aae97f5be?s=128&d=identicon&r=PG", "display_name": "Ed Morton", "link": "https://stackoverflow.com/users/1745001/ed-morton"}, "edited": false, "score": 0, "creation_date": 1458326882, "post_id": 36073371, "comment_id": 59828423, "body": "A script that produces the expected output given some input set is the starting point for identifying a solution, not the end point. Imagine yourself modifying that script to do just about anything else (e.g. add bar1, bar2, bar3, etc. instead of just bar each time) - could you? Now port it to, say, Solaris where it won&#39;t work as written - could you modify it to work there? Why would you bother when an awk script is simpler, clearer, easier to enhance, more portable, and better in [almost] every other way. You&#39;re using a bunch of sed constructs that were only relevant before awk was invented."}], "tags": [], "owner": {"reputation": 156, "user_id": 4160283, "user_type": "registered", "accept_rate": 50, "profile_image": "https://i.stack.imgur.com/VnGOL.jpg?s=128&g=1", "display_name": "Digger", "link": "https://stackoverflow.com/users/4160283/digger"}, "is_accepted": true, "score": -1, "last_activity_date": 1458257106, "last_edit_date": 1495540739, "creation_date": 1458256595, "answer_id": 36073371, "question_id": 36073370, "link": "https://stackoverflow.com/questions/36073370/append-to-non-empty-line-that-doesnt-start-with-whitespace-and-is-followed-two/36073371#36073371", "title": "Append to non-empty line that doesn&#39;t start with whitespace AND is followed, two lines down, by a non-empty line that doesn&#39;t start with whitespace", "body": "<p>This sed one-liner seems to do the trick for the specific case outlined in the OP:</p>\n\n<pre><code>sed '1N;N;/^[^[:space:]]/s/^\\([^[:space:]].*\\o\\)\\(\\n\\n[^[:space:]].*\\)$/\\1bar\\2/;P;D' infile\n</code></pre>\n\n<p>Thanks to the excellent clarifying information given by <a href=\"http:////https://stackoverflow.com/users/3266847/benjamin-w\" rel=\"nofollow noreferrer\">Benjamin W.</a> in his answer to <a href=\"https://stackoverflow.com/questions/35966938/append-to-line-that-is-preceded-and-followed-by-empty-line\">one of my recent questions</a>, I was able to cobble together this one-liner that solved my specific problem.  Please refer to same if you wish to gain insight into said command.</p>\n"}, {"comments": [{"owner": {"reputation": 156, "user_id": 4160283, "user_type": "registered", "accept_rate": 50, "profile_image": "https://i.stack.imgur.com/VnGOL.jpg?s=128&g=1", "display_name": "Digger", "link": "https://stackoverflow.com/users/4160283/digger"}, "edited": false, "score": 0, "creation_date": 1458272063, "post_id": 36075198, "comment_id": 59796889, "body": "Ed, you are correct in that I mis-stated the objective.  Can&#39;t believe I missed that!  The question in the OP has been duly corrected..."}, {"owner": {"reputation": 74843, "user_id": 2988730, "user_type": "registered", "accept_rate": 96, "profile_image": "https://i.stack.imgur.com/ZOX7t.jpg?s=128&g=1", "display_name": "Mad Physicist", "link": "https://stackoverflow.com/users/2988730/mad-physicist"}, "reply_to_user": {"reputation": 156, "user_id": 4160283, "user_type": "registered", "accept_rate": 50, "profile_image": "https://i.stack.imgur.com/VnGOL.jpg?s=128&g=1", "display_name": "Digger", "link": "https://stackoverflow.com/users/4160283/digger"}, "edited": false, "score": 1, "creation_date": 1458587732, "post_id": 36075198, "comment_id": 59917768, "body": "@Digger You are the OP, not the post."}, {"owner": {"reputation": 156, "user_id": 4160283, "user_type": "registered", "accept_rate": 50, "profile_image": "https://i.stack.imgur.com/VnGOL.jpg?s=128&g=1", "display_name": "Digger", "link": "https://stackoverflow.com/users/4160283/digger"}, "reply_to_user": {"reputation": 74843, "user_id": 2988730, "user_type": "registered", "accept_rate": 96, "profile_image": "https://i.stack.imgur.com/ZOX7t.jpg?s=128&g=1", "display_name": "Mad Physicist", "link": "https://stackoverflow.com/users/2988730/mad-physicist"}, "edited": false, "score": 0, "creation_date": 1458600122, "post_id": 36075198, "comment_id": 59923961, "body": "@MadPhysicist OK, thanks.  Different colloquialisms in use here than those used in my five motorcycle mechanics forums...."}], "tags": [], "owner": {"reputation": 155597, "user_id": 1745001, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/99a3ebae89496eb16afe453aae97f5be?s=128&d=identicon&r=PG", "display_name": "Ed Morton", "link": "https://stackoverflow.com/users/1745001/ed-morton"}, "is_accepted": false, "score": 1, "last_activity_date": 1458268713, "creation_date": 1458268713, "answer_id": 36075198, "question_id": 36073370, "link": "https://stackoverflow.com/questions/36073370/append-to-non-empty-line-that-doesnt-start-with-whitespace-and-is-followed-two/36075198#36075198", "title": "Append to non-empty line that doesn&#39;t start with whitespace AND is followed, two lines down, by a non-empty line that doesn&#39;t start with whitespace", "body": "<p>From your posted expected output it looks like you meant to say \"is followed, two lines down, by a line that <strong>DOES NOT</strong> start with whitespace\" instead of \"is followed, two lines down, by a line that <em>DOES</em> start with whitespace\".</p>\n\n<p>This produces the output you show:</p>\n\n<pre><code>$ cat tst.awk\nNR&gt;2 { print p2 ((p2 ~ /^[^[:blank:]]/) &amp;&amp; /^[^[:blank:]]/ ? \"bar\" : \"\") }\n{ p2=p1; p1=$0 }\nEND { print p2 ORS p1 }\n\n$ awk -f tst.awk file\nfoobar\n\nthird line foobar\n\nfifth line foo\n this line starts with a space foo\n this line starts with a space foo\n\nninth line foobar\n\neleventh line foo\n\n this line starts with a space foo\n\nlast line foo\n</code></pre>\n\n<p>It simply keeps a 2 line buffer and adds \"bar\" to the end of the line being printed given whatever condition you need. It will work on all POSIX awks and any others that support POSIX character classes (for the rest, change <code>[[:blank:]]</code> to <code>[ \\t]</code>).</p>\n"}, {"comments": [{"owner": {"reputation": 156, "user_id": 4160283, "user_type": "registered", "accept_rate": 50, "profile_image": "https://i.stack.imgur.com/VnGOL.jpg?s=128&g=1", "display_name": "Digger", "link": "https://stackoverflow.com/users/4160283/digger"}, "edited": false, "score": 0, "creation_date": 1458275369, "post_id": 36075507, "comment_id": 59797700, "body": "Borodin is correct, the question, as originally posed, was not correct.  The question in the OP has been corrected since the subject answer was posted."}], "tags": [], "owner": {"reputation": 123805, "user_id": 622310, "user_type": "registered", "accept_rate": 33, "profile_image": "https://www.gravatar.com/avatar/8b6d35219e1808520bc238b28161e2e6?s=128&d=identicon&r=PG", "display_name": "Borodin", "link": "https://stackoverflow.com/users/622310/borodin"}, "is_accepted": false, "score": 1, "last_activity_date": 1467890326, "last_edit_date": 1467890326, "creation_date": 1458271065, "answer_id": 36075507, "question_id": 36073370, "link": "https://stackoverflow.com/questions/36073370/append-to-non-empty-line-that-doesnt-start-with-whitespace-and-is-followed-two/36075507#36075507", "title": "Append to non-empty line that doesn&#39;t start with whitespace AND is followed, two lines down, by a non-empty line that doesn&#39;t start with whitespace", "body": "<p>You have over-analysed the problem so that your question now reads as a computer program, and you have got that program wrong. Requirements are best explained using examples and real data, so that we have some hope of rationalising the problem in our heads</p>\n\n<p>This Perl program alters your algorithm so the output matches your required output</p>\n\n<pre><code>use strict;\nuse warnings 'all';\n\nchomp(my @data = &lt;&gt;);\n\nmy $i = 0;\nfor ( @data ) {\n    $_ .= 'bar' if /^\\S/ and $data[$i+2] =~ /^\\S/;\n    ++$i;\n    last if $i+2 &gt; $#data;\n}\n\nprint \"$_\\n\" for @data;\n</code></pre>\n\n<h3>output</h3>\n\n<pre><code>foobar\n\nthird line foobar\n\nfifth line foo\n this line starts with a space foo\n this line starts with a space foo\n\nninth line foobar\n\neleventh line foo\n\n this line starts with a space foo\n\nlast line foo\n</code></pre>\n"}], "owner": {"reputation": 156, "user_id": 4160283, "user_type": "registered", "accept_rate": 50, "profile_image": "https://i.stack.imgur.com/VnGOL.jpg?s=128&g=1", "display_name": "Digger", "link": "https://stackoverflow.com/users/4160283/digger"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 184, "favorite_count": 0, "accepted_answer_id": 36073371, "answer_count": 3, "score": -2, "last_activity_date": 1467890326, "creation_date": 1458256595, "last_edit_date": 1495540354, "question_id": 36073370, "link": "https://stackoverflow.com/questions/36073370/append-to-non-empty-line-that-doesnt-start-with-whitespace-and-is-followed-two", "title": "Append to non-empty line that doesn&#39;t start with whitespace AND is followed, two lines down, by a non-empty line that doesn&#39;t start with whitespace", "body": "<p>I am converting several unruly, early 90's DOS-generated text files to something more usable.  I need to append a set of characters to all of the non-empty lines in said text files that don't start with whitespace AND that are followed, <em>two lines down</em>, by another non-empty line that doesn't start with whitespace (I will refer to all single lines of text that meet these characteristics as \"target\" lines).  BTW, irrelevant to the problem are the characteristics of the line <em>directly</em> below each of the target lines.</p>\n\n<p>Of interest is the fact that all of the target lines in the above-mentioned text files end with the same character.  Also, the command I'm looking for needs to slot into a rather long pipeline.</p>\n\n<p>Suppose I have the following file:</p>\n\n<pre><code>foo\n\nthird line foo\n\nfifth line foo\n this line starts with a space foo\n this line starts with a space foo\n\nninth line foo\n\neleventh line foo\n\n this line starts with a space foo\n\nlast line foo\n</code></pre>\n\n<p>I want the output to look like this:</p>\n\n<pre><code>foobar\n\nthird line foobar\n\nfifth line foo\n this line starts with a space foo\n this line starts with a space foo\n\nninth line foobar\n\neleventh line foo\n\n this line starts with a space foo\n\nlast line foo\n</code></pre>\n\n<p>Although I'm looking for a sed solution, awk and perl are welcome as well.  All solutions must be able to be used in a pipeline.  Also welcomed are solutions which handle a more general case (e.g. able to append the desired text to target lines that end in various ways, including whitespace).</p>\n\n<p>Now, for the backstory:</p>\n\n<p>I recently asked a question similar to the subject question a few days ago (see <a href=\"https://stackoverflow.com/questions/35966938/append-to-line-that-is-preceded-and-followed-by-empty-line\">here</a>).  As you can see, I got some great answers.  It turned out, however, that I did not fully understand my problem, so I did not ask the correct question that would actually solve said problem.</p>\n\n<p>Now, I'm asking the right question!</p>\n\n<p>Based on what I learned by scrutinizing the answers to the question I linked to above, I've cobbled together the following sed command</p>\n\n<pre><code>sed '1N;N;/^[^[:space:]]/s/^\\([^[:space:]].*\\o\\)\\(\\n\\n[^[:space:]].*\\)$/\\1bar\\2/;P;D' infile\n</code></pre>\n\n<p>Ugly, yes, but it works for my humble purposes.  Indeed, as my original intent with this question was to post a question, then self-answer same, you can see this <code>sed</code> construct posted below as one of the answers (posted by me).</p>\n\n<p>I'm sure there are better ways to solve this particular problem, however...any ideas, anyone?</p>\n"}, {"tags": ["perl"], "comments": [{"owner": {"reputation": 198290, "user_id": 1030675, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/957956ce51706d03f19a4dc85a767bb1?s=128&d=identicon&r=PG", "display_name": "choroba", "link": "https://stackoverflow.com/users/1030675/choroba"}, "edited": false, "score": 1, "creation_date": 1458251855, "post_id": 36072378, "comment_id": 59790950, "body": "Do you find <code>return my @empty</code> cleaner or more elegant?"}, {"owner": {"reputation": 9191, "user_id": 345716, "user_type": "registered", "accept_rate": 60, "profile_image": "https://www.gravatar.com/avatar/07f86ee9fbdc7b247c49a6894b46a455?s=128&d=identicon&r=PG", "display_name": "Peter V. M&#248;rch", "link": "https://stackoverflow.com/users/345716/peter-v-m%c3%b8rch"}, "reply_to_user": {"reputation": 198290, "user_id": 1030675, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/957956ce51706d03f19a4dc85a767bb1?s=128&d=identicon&r=PG", "display_name": "choroba", "link": "https://stackoverflow.com/users/1030675/choroba"}, "edited": false, "score": 0, "creation_date": 1458252426, "post_id": 36072378, "comment_id": 59791210, "body": "Thanks @choroba  - yes, I do!"}, {"owner": {"reputation": 87649, "user_id": 17389, "user_type": "registered", "accept_rate": 38, "profile_image": "https://www.gravatar.com/avatar/cd06d1314817ce946ab796af8750b56a?s=128&d=identicon&r=PG", "display_name": "ysth", "link": "https://stackoverflow.com/users/17389/ysth"}, "edited": false, "score": 2, "creation_date": 1458252849, "post_id": 36072378, "comment_id": 59791391, "body": "subs always return lists."}, {"owner": {"reputation": 74715, "user_id": 471272, "user_type": "registered", "accept_rate": 100, "profile_image": "https://i.stack.imgur.com/jSlyx.gif?s=128&g=1", "display_name": "tchrist", "link": "https://stackoverflow.com/users/471272/tchrist"}, "reply_to_user": {"reputation": 87649, "user_id": 17389, "user_type": "registered", "accept_rate": 38, "profile_image": "https://www.gravatar.com/avatar/cd06d1314817ce946ab796af8750b56a?s=128&d=identicon&r=PG", "display_name": "ysth", "link": "https://stackoverflow.com/users/17389/ysth"}, "edited": false, "score": 1, "creation_date": 1465654939, "post_id": 36072378, "comment_id": 62998148, "body": "As @ysth correctly observes, you cannot return an array from a subroutine, only a list.  The array evaluates to a list in list context and to a scalar in scalar context."}, {"owner": {"reputation": 9191, "user_id": 345716, "user_type": "registered", "accept_rate": 60, "profile_image": "https://www.gravatar.com/avatar/07f86ee9fbdc7b247c49a6894b46a455?s=128&d=identicon&r=PG", "display_name": "Peter V. M&#248;rch", "link": "https://stackoverflow.com/users/345716/peter-v-m%c3%b8rch"}, "reply_to_user": {"reputation": 74715, "user_id": 471272, "user_type": "registered", "accept_rate": 100, "profile_image": "https://i.stack.imgur.com/jSlyx.gif?s=128&g=1", "display_name": "tchrist", "link": "https://stackoverflow.com/users/471272/tchrist"}, "edited": false, "score": 0, "creation_date": 1465754117, "post_id": 36072378, "comment_id": 63022209, "body": "Thanks, @tchrist. Had you made this into an answer, I would&#39;ve adccepted that instead. This explains what is really going on."}, {"owner": {"reputation": 74715, "user_id": 471272, "user_type": "registered", "accept_rate": 100, "profile_image": "https://i.stack.imgur.com/jSlyx.gif?s=128&g=1", "display_name": "tchrist", "link": "https://stackoverflow.com/users/471272/tchrist"}, "edited": false, "score": 0, "creation_date": 1465754411, "post_id": 36072378, "comment_id": 63022300, "body": "Well, the accepted answer could be clearer about this, since it risks propagating the misunderstanding that arrays are returnable. Rather, when you use <code>return @array</code> then you are returning the array\u2019s interpolated list of scalar elements in list context and the scalar count of those list elements in scalar context."}], "answers": [{"comments": [{"owner": {"reputation": 198290, "user_id": 1030675, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/957956ce51706d03f19a4dc85a767bb1?s=128&d=identicon&r=PG", "display_name": "choroba", "link": "https://stackoverflow.com/users/1030675/choroba"}, "edited": false, "score": 9, "creation_date": 1458252397, "post_id": 36072462, "comment_id": 59791195, "body": "<code>my ... if</code> has undefined behaviour."}, {"owner": {"reputation": 27022, "user_id": 182693, "user_type": "registered", "accept_rate": 77, "profile_image": "https://www.gravatar.com/avatar/7e4422dd860fce9b9f3c024c8655c7d2?s=128&d=identicon&r=PG&f=1", "display_name": "Sean", "link": "https://stackoverflow.com/users/182693/sean"}, "reply_to_user": {"reputation": 198290, "user_id": 1030675, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/957956ce51706d03f19a4dc85a767bb1?s=128&d=identicon&r=PG", "display_name": "choroba", "link": "https://stackoverflow.com/users/1030675/choroba"}, "edited": false, "score": 0, "creation_date": 1458252551, "post_id": 36072462, "comment_id": 59791268, "body": "@choroba That would astonish me if true.  Please provide a reference."}, {"owner": {"reputation": 198290, "user_id": 1030675, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/957956ce51706d03f19a4dc85a767bb1?s=128&d=identicon&r=PG", "display_name": "choroba", "link": "https://stackoverflow.com/users/1030675/choroba"}, "edited": false, "score": 8, "creation_date": 1458252834, "post_id": 36072462, "comment_id": 59791386, "body": "<a href=\"http://p3rl.org/perlsyn\" rel=\"nofollow noreferrer\">perlsyn</a>: NOTE: The behaviour of a my, state, or our modified with a statement modifier conditional or loop construct (for example, <code>my $x if ...</code> ) is undefined. The value of the my variable may be undef, any previously assigned value, or possibly anything else. Don&#39;t rely on it. Future versions of perl might do something different from the version of perl you try it out on. Here be dragons."}, {"owner": {"reputation": 27022, "user_id": 182693, "user_type": "registered", "accept_rate": 77, "profile_image": "https://www.gravatar.com/avatar/7e4422dd860fce9b9f3c024c8655c7d2?s=128&d=identicon&r=PG&f=1", "display_name": "Sean", "link": "https://stackoverflow.com/users/182693/sean"}, "edited": false, "score": 0, "creation_date": 1458253141, "post_id": 36072462, "comment_id": 59791507, "body": "Well, huh.  Seems like I&#39;ve seen code like that in many places, and the semantics here seem unambiguous enough.  But it&#39;s easy enough to fix."}, {"owner": {"reputation": 53041, "user_id": 4653379, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/b3953dbedd0dabff5cbc3db9b0835b14?s=128&d=identicon&r=PG&f=1", "display_name": "zdim", "link": "https://stackoverflow.com/users/4653379/zdim"}, "edited": false, "score": 0, "creation_date": 1458253252, "post_id": 36072462, "comment_id": 59791542, "body": "With <code>my</code> (and Co) the symbol does get introduced, regardless of anything else.  Then what to do with it in a conditional?  When <code>my $x;</code> is given first, there is a well defined &#39;value&#39; for it (<code>undef</code>), and the following conditional assignment may be skipped."}, {"owner": {"reputation": 87649, "user_id": 17389, "user_type": "registered", "accept_rate": 38, "profile_image": "https://www.gravatar.com/avatar/cd06d1314817ce946ab796af8750b56a?s=128&d=identicon&r=PG", "display_name": "ysth", "link": "https://stackoverflow.com/users/17389/ysth"}, "edited": false, "score": 2, "creation_date": 1458253580, "post_id": 36072462, "comment_id": 59791661, "body": "<code>my</code> has both a compile time effect (mentions of that variable name from the following statement to the end of the block (or to the statement after another declaration of it) bind to that lexical), and a runtime effect (scheduling the value to be cleared and the variable to be unavailable when the enclosing scope is exited).  Making it conditional suppresses the runtime effect, with sometimes surprising consequences. But this is an implementation detail and subject to change, hence the warning in the doc."}], "tags": [], "owner": {"reputation": 27022, "user_id": 182693, "user_type": "registered", "accept_rate": 77, "profile_image": "https://www.gravatar.com/avatar/7e4422dd860fce9b9f3c024c8655c7d2?s=128&d=identicon&r=PG&f=1", "display_name": "Sean", "link": "https://stackoverflow.com/users/182693/sean"}, "is_accepted": true, "score": 7, "last_activity_date": 1458253111, "last_edit_date": 1458253111, "creation_date": 1458251998, "answer_id": 36072462, "question_id": 36072378, "link": "https://stackoverflow.com/questions/36072378/how-do-i-return-an-empty-array-array-of-length-0-in-perl/36072462#36072462", "title": "How do I return an empty array / array of length 0 in perl?", "body": "<p>It's probably clearest if you just return an array in both cases:</p>\n\n<pre><code>sub getArray {\n    my @array;\n    @array = calculateSomehow() if isGood();\n    return @array;\n}\n</code></pre>\n\n<p>But to modify your original code in the minimal way, use <code>wantarray</code>.</p>\n\n<pre><code>if (!isGood()) {\n    return wantarray ? () : 0;\n}\n</code></pre>\n"}, {"comments": [{"owner": {"reputation": 9191, "user_id": 345716, "user_type": "registered", "accept_rate": 60, "profile_image": "https://www.gravatar.com/avatar/07f86ee9fbdc7b247c49a6894b46a455?s=128&d=identicon&r=PG", "display_name": "Peter V. M&#248;rch", "link": "https://stackoverflow.com/users/345716/peter-v-m%c3%b8rch"}, "edited": false, "score": 0, "creation_date": 1458252366, "post_id": 36072469, "comment_id": 59791173, "body": "Sorry, zdim, @Sean beat you to it! ;-)"}, {"owner": {"reputation": 53041, "user_id": 4653379, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/b3953dbedd0dabff5cbc3db9b0835b14?s=128&d=identicon&r=PG&f=1", "display_name": "zdim", "link": "https://stackoverflow.com/users/4653379/zdim"}, "reply_to_user": {"reputation": 9191, "user_id": 345716, "user_type": "registered", "accept_rate": 60, "profile_image": "https://www.gravatar.com/avatar/07f86ee9fbdc7b247c49a6894b46a455?s=128&d=identicon&r=PG", "display_name": "Peter V. M&#248;rch", "link": "https://stackoverflow.com/users/345716/peter-v-m%c3%b8rch"}, "edited": false, "score": 0, "creation_date": 1458252455, "post_id": 36072469, "comment_id": 59791220, "body": "@PeterV.M&#248;rch  I see this ... by 17 seconds??"}, {"owner": {"reputation": 53041, "user_id": 4653379, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/b3953dbedd0dabff5cbc3db9b0835b14?s=128&d=identicon&r=PG&f=1", "display_name": "zdim", "link": "https://stackoverflow.com/users/4653379/zdim"}, "reply_to_user": {"reputation": 9191, "user_id": 345716, "user_type": "registered", "accept_rate": 60, "profile_image": "https://www.gravatar.com/avatar/07f86ee9fbdc7b247c49a6894b46a455?s=128&d=identicon&r=PG", "display_name": "Peter V. M&#248;rch", "link": "https://stackoverflow.com/users/345716/peter-v-m%c3%b8rch"}, "edited": false, "score": 0, "creation_date": 1503009839, "post_id": 36072469, "comment_id": 78449456, "body": "It turns out, by the (easy) correction that he needed ... he didn&#39;t"}], "tags": [], "owner": {"reputation": 53041, "user_id": 4653379, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/b3953dbedd0dabff5cbc3db9b0835b14?s=128&d=identicon&r=PG&f=1", "display_name": "zdim", "link": "https://stackoverflow.com/users/4653379/zdim"}, "is_accepted": false, "score": 1, "last_activity_date": 1465542020, "last_edit_date": 1465542020, "creation_date": 1458252015, "answer_id": 36072469, "question_id": 36072378, "link": "https://stackoverflow.com/questions/36072378/how-do-i-return-an-empty-array-array-of-length-0-in-perl/36072469#36072469", "title": "How do I return an empty array / array of length 0 in perl?", "body": "<p>Return a reference and you can get the array size (0 if empty) in one call, by dereferencing.</p>\n\n<pre><code>sub getArray {\n    # calculate ...\n    return [ @results ];      # @results may be empty\n}\n\n$rres = getArray();\nmy $count = @$rres;           # gives 0 if ref is to empty array\n\nmy $cnt   = @{ getArray() };  # or without storing the return\n</code></pre>\n\n<p>You <em>can</em> use <code>scalar</code> above, if you wish, but you don't need to. This is also alike to returning a pointer to an array (even if empty), if that's what you had in mind by requiring an \"empty array.\"</p>\n\n<p>If you want to go this route but to single out the <code>not-good</code></p>\n\n<pre><code>sub getArray {\n    return if !isGood();  # returns undef\n    # calculate ...\n    return [ @results ];  # scalar whether the list be empty or not\n}\n</code></pre>\n\n<hr>\n\n<p>Using <code>context</code> may help -- you either get your array (empty list or not), or a <code>0</code> for a scalar</p>\n\n<pre><code>sub getArray {\n   if (!isGood() ) {\n       return (wantarray) ? () : 0;\n   }\n   else { }  # your code\n}\nmy @results = getArray() # returns a list, possibly empty\nmy $count = getArray();  # returns 0\n</code></pre>\n"}], "owner": {"reputation": 9191, "user_id": 345716, "user_type": "registered", "accept_rate": 60, "profile_image": "https://www.gravatar.com/avatar/07f86ee9fbdc7b247c49a6894b46a455?s=128&d=identicon&r=PG", "display_name": "Peter V. M&#248;rch", "link": "https://stackoverflow.com/users/345716/peter-v-m%c3%b8rch"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 2797, "favorite_count": 1, "accepted_answer_id": 36072462, "answer_count": 2, "score": 2, "last_activity_date": 1465542020, "creation_date": 1458251615, "question_id": 36072378, "link": "https://stackoverflow.com/questions/36072378/how-do-i-return-an-empty-array-array-of-length-0-in-perl", "title": "How do I return an empty array / array of length 0 in perl?", "body": "<p>I want to return an empty <em>array</em>, not an empty <em>list</em>.</p>\n\n<p>I have a sub that returns an array of things. I want to be able to do this with it:</p>\n\n<pre><code>my $count = scalar getArray();\n</code></pre>\n\n<p>I did it like this:</p>\n\n<pre><code>sub getArray {\n    if ( !isGood() ) {\n        return ();\n    } else {\n        my @array = calculateSomehow();\n        return @array;\n    }\n}\nmy $count = scalar getArray();\n</code></pre>\n\n<p>I had a suprise when <code>!isGood()</code> and <code>$count</code> becomes <code>undef</code>, not <code>0</code>! After reading <a href=\"http://learn.perl.org/faq/perlfaq4.html#What-is-the-difference-between-a-list-and-an-array\" rel=\"nofollow\">perlfaq4</a>, I realize that this is because getArray() is evaluated in scalar context and hence the <em>list</em> <code>()</code> is evaluated as a scalar, and <code>scalar( () )</code> is <code>undef</code>, while <code>my @array; scalar( @array )</code> is 0.</p>\n\n<p>The question now becomes: How do I most elegantly return an empty <em>array</em>, so that <code>$count</code> is <code>0</code> if <code>!isGood()</code>? I've only come up with:</p>\n\n<pre><code># This is kind of kludgy: Dereference an anonymous array ref. Really?\nreturn @{[]};\n</code></pre>\n\n<p>or</p>\n\n<pre><code># I use a temporary variable for this. Really?\nmy @empty;\nreturn @empty;\n</code></pre>\n\n<p>Aren't there any cleaner / more elegant ways of returning an <em>array</em> of length 0 (empty <em>array</em>) or some other way of making <code>scalar getArray()</code> evaluate to <code>0</code>?</p>\n"}]