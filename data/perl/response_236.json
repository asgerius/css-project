[{"tags": ["mojolicious", "perl"], "answers": [{"comments": [{"owner": {"reputation": 1136, "user_id": 1694803, "user_type": "registered", "accept_rate": 100, "profile_image": "https://i.stack.imgur.com/5qVj9.jpg?s=128&g=1", "display_name": "Boris D&#228;ppen", "link": "https://stackoverflow.com/users/1694803/boris-d%c3%a4ppen"}, "edited": false, "score": 0, "creation_date": 1563398151, "post_id": 57084071, "comment_id": 100691409, "body": "Thanks a lot. Will work, but is kind of a workaround which doesn&#39;t &#39;really&#39; address the actual problem. I better don&#39;t do <code>$c-&gt;stash(data =&gt; {stuff =&gt; $count_stuff, ...});</code> :-)"}, {"owner": {"reputation": 8718, "user_id": 5848200, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/a8072aaf76dcb4fe5027964252f16382?s=128&d=identicon&r=PG", "display_name": "Grinnz", "link": "https://stackoverflow.com/users/5848200/grinnz"}, "reply_to_user": {"reputation": 1136, "user_id": 1694803, "user_type": "registered", "accept_rate": 100, "profile_image": "https://i.stack.imgur.com/5qVj9.jpg?s=128&g=1", "display_name": "Boris D&#228;ppen", "link": "https://stackoverflow.com/users/1694803/boris-d%c3%a4ppen"}, "edited": false, "score": 0, "creation_date": 1563398258, "post_id": 57084071, "comment_id": 100691449, "body": "There is no way to put arbitrary keys safely in the stash."}, {"owner": {"reputation": 1136, "user_id": 1694803, "user_type": "registered", "accept_rate": 100, "profile_image": "https://i.stack.imgur.com/5qVj9.jpg?s=128&g=1", "display_name": "Boris D&#228;ppen", "link": "https://stackoverflow.com/users/1694803/boris-d%c3%a4ppen"}, "edited": false, "score": 0, "creation_date": 1563398447, "post_id": 57084071, "comment_id": 100691511, "body": "And the stash is &#39;the way&#39; to put variables in the template, right? I was hoping for something like <code>$c-&gt;vars</code> or so, which would be safe."}, {"owner": {"reputation": 8718, "user_id": 5848200, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/a8072aaf76dcb4fe5027964252f16382?s=128&d=identicon&r=PG", "display_name": "Grinnz", "link": "https://stackoverflow.com/users/5848200/grinnz"}, "reply_to_user": {"reputation": 1136, "user_id": 1694803, "user_type": "registered", "accept_rate": 100, "profile_image": "https://i.stack.imgur.com/5qVj9.jpg?s=128&g=1", "display_name": "Boris D&#228;ppen", "link": "https://stackoverflow.com/users/1694803/boris-d%c3%a4ppen"}, "edited": false, "score": 0, "creation_date": 1563401322, "post_id": 57084071, "comment_id": 100692324, "body": "The args of the <code>render</code> command just put those values in the stash, and it then renders using what is in the stash. There is no direct access otherwise in a Mojolicious app."}, {"owner": {"reputation": 8718, "user_id": 5848200, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/a8072aaf76dcb4fe5027964252f16382?s=128&d=identicon&r=PG", "display_name": "Grinnz", "link": "https://stackoverflow.com/users/5848200/grinnz"}, "reply_to_user": {"reputation": 1136, "user_id": 1694803, "user_type": "registered", "accept_rate": 100, "profile_image": "https://i.stack.imgur.com/5qVj9.jpg?s=128&g=1", "display_name": "Boris D&#228;ppen", "link": "https://stackoverflow.com/users/1694803/boris-d%c3%a4ppen"}, "edited": false, "score": 0, "creation_date": 1563401607, "post_id": 57084071, "comment_id": 100692389, "body": "You could actually use <code>$c-&gt;renderer-&gt;render</code> directly to bypass putting its args into the stash, but this is not really supported (you would have to reimplement most of <code>$c-&gt;render</code> and it involves the currently experimental <code>respond</code> method)."}], "tags": [], "owner": {"reputation": 8718, "user_id": 5848200, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/a8072aaf76dcb4fe5027964252f16382?s=128&d=identicon&r=PG", "display_name": "Grinnz", "link": "https://stackoverflow.com/users/5848200/grinnz"}, "is_accepted": true, "score": 2, "last_activity_date": 1563397631, "creation_date": 1563397631, "answer_id": 57084071, "question_id": 57084045, "link": "https://stackoverflow.com/questions/57084045/passing-variable-of-arbitrary-name-to-template-in-mojolicious/57084071#57084071", "title": "Passing Variable of arbitrary Name to Template in Mojolicious", "body": "<p>The stash takes arbitrary structures, so you can store a hash of arbitrary data.</p>\n\n<pre><code>$c-&gt;stash(stuff =&gt; {data =&gt; $count_data, ...});\n</code></pre>\n\n<p>Then using <code>$stuff-&gt;{data}</code> in the template.</p>\n"}], "owner": {"reputation": 1136, "user_id": 1694803, "user_type": "registered", "accept_rate": 100, "profile_image": "https://i.stack.imgur.com/5qVj9.jpg?s=128&g=1", "display_name": "Boris D&#228;ppen", "link": "https://stackoverflow.com/users/1694803/boris-d%c3%a4ppen"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 118, "favorite_count": 0, "accepted_answer_id": 57084071, "answer_count": 1, "score": 1, "last_activity_date": 1563397631, "creation_date": 1563397439, "question_id": 57084045, "link": "https://stackoverflow.com/questions/57084045/passing-variable-of-arbitrary-name-to-template-in-mojolicious", "title": "Passing Variable of arbitrary Name to Template in Mojolicious", "body": "<p>I wanted to display the count of three database tables: <code>Data</code>, <code>Meta</code> and <code>Type</code>.</p>\n\n<p>So naturally I stash those values, and render them (using <code>Mojolicious::Lite</code>).</p>\n\n<pre><code>$c-&gt;stash(data =&gt; $count_data,\n          meta =&gt; $count_meta,\n          type =&gt; $count_type,\n );\n\n $c-&gt;render(template =&gt; 'tblcount');\n</code></pre>\n\n<p>Turns out, that <code>data</code> is a reserved keyword in the stash.\nThe observed effect was, that after rendering only the value in <code>$count_data</code> will be shown... ignoring the template completely. Also no errors.</p>\n\n<p>This was kind of hard to debug (it costed like an hour or so of my sanity).\nAlso I'm sure I'm not the first one, who is accidentally misusing the data  keyword (or any of the other keywords).</p>\n\n<p><strong>My question:</strong> Is there any safe way of passing variables with arbitrary names to the template? Or do I just have to life with this possible clash of names?</p>\n"}, {"tags": ["excel", "perl", "module"], "comments": [{"owner": {"reputation": 32176, "user_id": 2173773, "user_type": "registered", "accept_rate": 86, "profile_image": "https://i.stack.imgur.com/M8yh6.jpg?s=128&g=1", "display_name": "H&#229;kon H&#230;gland", "link": "https://stackoverflow.com/users/2173773/h%c3%a5kon-h%c3%a6gland"}, "edited": false, "score": 0, "creation_date": 1563391527, "post_id": 57082427, "comment_id": 100688669, "body": "You have <code>use Spreadsheet::ParseXLSX</code>, I think you need <code>use Spreadsheet::ParseExcel</code> instead. See also <a href=\"https://stackoverflow.com/q/19782080/2173773\">How to read data from xlsx in perl</a>"}, {"owner": {"reputation": 9, "user_id": 6296636, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/b937db033e69cf09c532c9ce44784dab?s=128&d=identicon&r=PG&f=1", "display_name": "hal9e3", "link": "https://stackoverflow.com/users/6296636/hal9e3"}, "reply_to_user": {"reputation": 32176, "user_id": 2173773, "user_type": "registered", "accept_rate": 86, "profile_image": "https://i.stack.imgur.com/M8yh6.jpg?s=128&g=1", "display_name": "H&#229;kon H&#230;gland", "link": "https://stackoverflow.com/users/2173773/h%c3%a5kon-h%c3%a6gland"}, "edited": false, "score": 0, "creation_date": 1563392856, "post_id": 57082427, "comment_id": 100689251, "body": "I need to use SaveParser because I want to read/modify/write an Excel spreadsheet."}, {"owner": {"reputation": 32176, "user_id": 2173773, "user_type": "registered", "accept_rate": 86, "profile_image": "https://i.stack.imgur.com/M8yh6.jpg?s=128&g=1", "display_name": "H&#229;kon H&#230;gland", "link": "https://stackoverflow.com/users/2173773/h%c3%a5kon-h%c3%a6gland"}, "edited": false, "score": 0, "creation_date": 1563393101, "post_id": 57082427, "comment_id": 100689371, "body": "Ok, I understand that I am just asking if you have you tried to use the <code>Excel</code> version instead of the <code>XLSX</code> version?"}, {"owner": {"reputation": 9, "user_id": 6296636, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/b937db033e69cf09c532c9ce44784dab?s=128&d=identicon&r=PG&f=1", "display_name": "hal9e3", "link": "https://stackoverflow.com/users/6296636/hal9e3"}, "reply_to_user": {"reputation": 32176, "user_id": 2173773, "user_type": "registered", "accept_rate": 86, "profile_image": "https://i.stack.imgur.com/M8yh6.jpg?s=128&g=1", "display_name": "H&#229;kon H&#230;gland", "link": "https://stackoverflow.com/users/2173773/h%c3%a5kon-h%c3%a6gland"}, "edited": false, "score": 0, "creation_date": 1563394725, "post_id": 57082427, "comment_id": 100690106, "body": "OK, fixed. That was a typo in the question, there is no ParseXLSX::SaveParser module."}, {"owner": {"reputation": 32176, "user_id": 2173773, "user_type": "registered", "accept_rate": 86, "profile_image": "https://i.stack.imgur.com/M8yh6.jpg?s=128&g=1", "display_name": "H&#229;kon H&#230;gland", "link": "https://stackoverflow.com/users/2173773/h%c3%a5kon-h%c3%a6gland"}, "edited": false, "score": 0, "creation_date": 1563394896, "post_id": 57082427, "comment_id": 100690178, "body": "Great. You also need to supply a valid <code>.xls</code> file to <code>Parse()</code>. Please check that you are not passing an <code>.xlsx</code> file for example"}, {"owner": {"reputation": 9, "user_id": 6296636, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/b937db033e69cf09c532c9ce44784dab?s=128&d=identicon&r=PG&f=1", "display_name": "hal9e3", "link": "https://stackoverflow.com/users/6296636/hal9e3"}, "reply_to_user": {"reputation": 32176, "user_id": 2173773, "user_type": "registered", "accept_rate": 86, "profile_image": "https://i.stack.imgur.com/M8yh6.jpg?s=128&g=1", "display_name": "H&#229;kon H&#230;gland", "link": "https://stackoverflow.com/users/2173773/h%c3%a5kon-h%c3%a6gland"}, "edited": false, "score": 1, "creation_date": 1563402912, "post_id": 57082427, "comment_id": 100692678, "body": "Yep, that&#39;s at least one problem, I&#39;m trying to use a ,xlsx; unfortunately, all the other data files are .xlsx, not sure I&#39;ll be able to convert them going forward, stayed tuned..."}], "answers": [{"tags": [], "owner": {"reputation": 96, "user_id": 11794107, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/c0a10cc5a0eb73584c8b29f67147cd10?s=128&d=identicon&r=PG&f=1", "display_name": "Harlan", "link": "https://stackoverflow.com/users/11794107/harlan"}, "is_accepted": false, "score": 0, "last_activity_date": 1563396446, "last_edit_date": 1563396446, "creation_date": 1563395001, "answer_id": 57083602, "question_id": 57082427, "link": "https://stackoverflow.com/questions/57082427/spreadsheetparseexcelsaveparser-issues-cannot-obtain-a-defined-workbook-ob/57083602#57083602", "title": "Spreadsheet::ParseExcel::SaveParser Issues - Cannot Obtain a Defined Workbook Object", "body": "<p>Think you'd want to track down what error-handling is available for the Parse() function by reading the CPAN page for this module.  Find and adapt that error-handling to give you an inkling of why Parse() would be failing.  Your error about \"worksheet on an undefined value\" is indicative of that call failing.  Could be you're not escaping file paths, maybe you don't have read permissions on the file, lots of other reasons Parse() could be failing.  Eww, just went and looked myself, and there's fairly inadequate error-handling documented for that function.  Maybe try die'ing with some error-handling variables?  See <a href=\"https://perldoc.perl.org/perlvar.html#Error-Variables\" rel=\"nofollow noreferrer\">https://perldoc.perl.org/perlvar.html#Error-Variables</a></p>\n"}], "owner": {"reputation": 9, "user_id": 6296636, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/b937db033e69cf09c532c9ce44784dab?s=128&d=identicon&r=PG&f=1", "display_name": "hal9e3", "link": "https://stackoverflow.com/users/6296636/hal9e3"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 173, "favorite_count": 0, "answer_count": 1, "score": 0, "last_activity_date": 1563396446, "creation_date": 1563389296, "last_edit_date": 1563394662, "question_id": 57082427, "link": "https://stackoverflow.com/questions/57082427/spreadsheetparseexcelsaveparser-issues-cannot-obtain-a-defined-workbook-ob", "title": "Spreadsheet::ParseExcel::SaveParser Issues - Cannot Obtain a Defined Workbook Object", "body": "<p>I am trying to use the Spreadsheet::ParseExcel::SaveParser plugin using example code at both metacpan.org and on SO and I cannot define the template (workbook).</p>\n\n<p>I have played around with variations on the new statement, quotes, file parh, etc - nothing works. I put a die after the template statement and it prints the error message. Without that I have either a $template->worksheet() or worksheets() statement and if I skip the die I get a different message. I confirmed that the path to the Excel file is correct. I also new()'ed Spreadsheet::ParseXLSX instead and the code got past the template undefined problem - of course it crashed when I tried to do an AddCell.</p>\n\n<pre class=\"lang-perl prettyprint-override\"><code>    use Spreadsheet::ParseExcel;\n    use Spreadsheet::ParseExcel::SaveParser;\n\n    my $saveParser  = Spreadsheet::ParseExcel::SaveParser-&gt;new();\n    my $template    = $saveParser-&gt;Parse(\"some Excel file verified to exist\");\n    die \"Error! Template not defined!\\n\" if (!defined($template));\n</code></pre>\n\n<p>dies</p>\n\n<pre class=\"lang-perl prettyprint-override\"><code>    use Spreadsheet::ParseExcel;\n    use Spreadsheet::ParseExcel::SaveParser;\n\n    my $saveParser  = Spreadsheet::ParseExcel::SaveParser-&gt;new();\n    my $template    = $saveParser-&gt;Parse(\"some Excel file verified to exist\");\n    my $worksheet = $template-&gt;worksheet(0);\n\n</code></pre>\n\n<p>Can't call method \"worksheet\" on an undefined value at ../bin/update_tp.pl line nnn. It also errors out if I use the worksheet name instead of number.</p>\n\n<p>Obviously I expect the $saveParser->Parse command to return a valid object so I can work with it - it doesn't. FYI all modules I'm using are at the current rev of 0.65 except WriteExcel (which isn't relevant yet), which is 2.4.</p>\n"}, {"tags": ["python", "linux", "bash", "perl", "terminal"], "comments": [{"owner": {"reputation": 70549, "user_id": 4785185, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/ChR5h.jpg?s=128&g=1", "display_name": "Prune", "link": "https://stackoverflow.com/users/4785185/prune"}, "edited": false, "score": 1, "creation_date": 1563379885, "post_id": 57080120, "comment_id": 100683385, "body": "If you search in your browser for &quot;Linux file match&quot;, you&#39;ll find references that can explain this much better than we can manage here. There are more on match file names than file contents, but you&#39;ll get the &#39;diff&#39; family and examples.  &quot;Can&#39;t seem to find a way&quot; is not generally a Stack Overflow question.  What did you try that failed?  For instance, <code>diff</code> is pretty straightforward: if it finds any difference, you report &quot;not matching&quot;."}, {"owner": {"reputation": 20517, "user_id": 8344060, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/1UbPk.png?s=128&g=1", "display_name": "kvantour", "link": "https://stackoverflow.com/users/8344060/kvantour"}, "edited": false, "score": 1, "creation_date": 1563380398, "post_id": 57080120, "comment_id": 100683700, "body": "Related, but not a duplicate: <a href=\"https://stackoverflow.com/q/4544709/8344060\">stackoverflow.com/q/4544709/8344060</a>"}, {"owner": {"reputation": 6679, "user_id": 10622916, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/21bd4eeaa5ba60dc021c5ccfbf4a963d?s=128&d=identicon&r=PG&f=1", "display_name": "Bodo", "link": "https://stackoverflow.com/users/10622916/bodo"}, "edited": false, "score": 1, "creation_date": 1563382319, "post_id": 57080120, "comment_id": 100684595, "body": "Not the requested output, but <code>diff -y File1 File2</code> or <code>sdiff File1 File2</code> might be useful."}, {"owner": {"reputation": 910, "user_id": 11499871, "user_type": "registered", "profile_image": "https://lh5.googleusercontent.com/-uAM--WGJcmA/AAAAAAAAAAI/AAAAAAAAAAA/ACHi3rd0CVEkvVBW4z6lhehx6pO3LIyboQ/mo/photo.jpg?sz=128", "display_name": "zwbetz", "link": "https://stackoverflow.com/users/11499871/zwbetz"}, "edited": false, "score": 0, "creation_date": 1563383732, "post_id": 57080120, "comment_id": 100685208, "body": "See  <code>git diff --no-index -U0 file1 file2</code>"}], "answers": [{"tags": [], "owner": {"reputation": 20517, "user_id": 8344060, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/1UbPk.png?s=128&g=1", "display_name": "kvantour", "link": "https://stackoverflow.com/users/8344060/kvantour"}, "is_accepted": true, "score": 0, "last_activity_date": 1563380608, "creation_date": 1563380608, "answer_id": 57080419, "question_id": 57080120, "link": "https://stackoverflow.com/questions/57080120/how-to-compare-2-files-line-by-line-with-terminal/57080419#57080419", "title": "How to compare 2 files line by line with terminal", "body": "<p>What you are after is an awk script of the following form:</p>\n\n<pre><code>$ awk '(NR==FNR){a[FNR]=$0;next}\n       !(FNR in a) { print \"file2 has more lines than file1\"; exit 1 }\n       { print (($0 == a[FNR]) ? \"matching\" : \"not matching\") }\n       END { if (NR-FNR &gt; FNR) print \"file1 has more lines than file2\"; exit 1}' file1 file2\n</code></pre>\n"}, {"tags": [], "owner": {"reputation": 34, "user_id": 11762388, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/8f533a04da9e91d2a5ab836bdf24f17a?s=128&d=identicon&r=PG&f=1", "display_name": "am401", "link": "https://stackoverflow.com/users/11762388/am401"}, "is_accepted": false, "score": 0, "last_activity_date": 1563385769, "creation_date": 1563385769, "answer_id": 57081633, "question_id": 57080120, "link": "https://stackoverflow.com/questions/57080120/how-to-compare-2-files-line-by-line-with-terminal/57081633#57081633", "title": "How to compare 2 files line by line with terminal", "body": "<p>This script works on the basis that both of your files are 243 lines. You will need to sort both files before running the script ie <code>sort file1.txt &gt; file1.sorted.txt</code> and the same for the other file.</p>\n\n<pre><code>#!/bin/bash\nwhile read file1 &lt;&amp;3 &amp;&amp; read file2 &lt;&amp;4\n  if [[ $file1 == $file2 ]]; then\n    echo \"matching\" &gt;&gt; three.txt\n  else\n    echo \"not matching\" &gt;&gt; three.txt\n  fi\ndone 3&lt;/path/to/file1.sorted.txt 4&lt;/path/to/file2.sorted.txt\n</code></pre>\n\n<p>The above script will read each file line by line, comparing the input using the if statement. If the two strings are identical, it will write \"matching\" to <code>three.txt</code> else it will write \"not matching\" to the same file. The loop will go through each line.</p>\n\n<p>You will have to sort the data within both files to make a comparison.\nI've tested it with the following data:</p>\n\n<p>one.sorted.txt</p>\n\n<pre><code>abc\ncba\nefg\ngfe\nxyz\nzxy\n</code></pre>\n\n<p>two.sorted.txt</p>\n\n<pre><code>abc\ncbd\nefh\ngfe\nxyz\nzmo\n</code></pre>\n\n<p>three.txt</p>\n\n<pre><code>matching\nnot matching\nnot matching\nmatching\nmatching\nnot matching\n</code></pre>\n"}, {"tags": [], "owner": {"reputation": 96, "user_id": 11794107, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/c0a10cc5a0eb73584c8b29f67147cd10?s=128&d=identicon&r=PG&f=1", "display_name": "Harlan", "link": "https://stackoverflow.com/users/11794107/harlan"}, "is_accepted": false, "score": 1, "last_activity_date": 1563387087, "creation_date": 1563387087, "answer_id": 57081947, "question_id": 57080120, "link": "https://stackoverflow.com/questions/57080120/how-to-compare-2-files-line-by-line-with-terminal/57081947#57081947", "title": "How to compare 2 files line by line with terminal", "body": "<p>In perl:</p>\n\n<pre><code>#!/usr/bin/perl\n\nuse strict;\nuse File::Slurp;\n\nmy @file1 = read_file 'file1', { chomp =&gt; 1 };\nmy @file2 = read_file 'file2', { chomp =&gt; 1 };\n\nforeach (@file1) {\n  my $line = shift @file2;\n  print $_ eq $line ? \"not matching\\n\" : \"matching\\n\";\n}\n</code></pre>\n"}], "owner": {"reputation": 97, "user_id": 10865012, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/3e0ae6587ce869c4182f1a3065512fa5?s=128&d=identicon&r=PG&f=1", "display_name": "Stacker", "link": "https://stackoverflow.com/users/10865012/stacker"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 503, "favorite_count": 0, "accepted_answer_id": 57080419, "answer_count": 3, "score": -5, "last_activity_date": 1563387087, "creation_date": 1563379512, "last_edit_date": 1563379896, "question_id": 57080120, "link": "https://stackoverflow.com/questions/57080120/how-to-compare-2-files-line-by-line-with-terminal", "title": "How to compare 2 files line by line with terminal", "body": "<p>I have 2 text files that I need to compare line by line.</p>\n\n<p>I'm basically wanting to output either \"matching\" or \"not matching\" for each line depending on if it matches.</p>\n\n<p>I've tried reading a few tutorial and using stuff like <code>diff</code> and <code>dircmp</code> but can't seem to find a way to do this.  I don't care if it's bash, perl, python, etc.  Both files are 243 lines.</p>\n\n<p>Is there a command available in Linux to do this?</p>\n\n<p>Here's an example of what I'm looking for...</p>\n\n<p>File 1</p>\n\n<pre><code>Test\nHello\nExample\n</code></pre>\n\n<p>File 2</p>\n\n<pre><code>Test\nWhat\nExample\n</code></pre>\n\n<p>And I'd want to output this:</p>\n\n<pre><code>matching\nnot matching\nmatching\n</code></pre>\n"}, {"tags": ["perl", "selenium-remotedriver"], "answers": [{"comments": [{"owner": {"reputation": 11, "user_id": 11794310, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/7669b03c16e5e5b29cd8002c8ed70b85?s=128&d=identicon&r=PG&f=1", "display_name": "Thornsong", "link": "https://stackoverflow.com/users/11794310/thornsong"}, "edited": false, "score": 0, "creation_date": 1563562104, "post_id": 57085516, "comment_id": 100754796, "body": "@elements = $driver-&gt;find_elements(&quot;//tbody/tr/td/div/span[contains(text&zwnj;&#8203;(),&#39;matching text&#39;)]&quot;);  This command will store all of the matching elements into the array as Selenium Remote Webelement hashes.  How do I get the matching text from them?"}], "tags": [], "owner": {"reputation": 11494, "user_id": 6429072, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/Gh4b0.png?s=128&g=1", "display_name": "Ed Bangga", "link": "https://stackoverflow.com/users/6429072/ed-bangga"}, "is_accepted": false, "score": 0, "last_activity_date": 1563409101, "creation_date": 1563409101, "answer_id": 57085516, "question_id": 57079480, "link": "https://stackoverflow.com/questions/57079480/how-to-find-text-for-multiple-elements-using-find-elements/57085516#57085516", "title": "How to find text for multiple elements using find_elements", "body": "<p>you can directly point to span tag using this xpath.</p>\n\n<pre><code>//tbody/tr/td/div/span[contains(text(),'matching text')]\n</code></pre>\n"}], "owner": {"reputation": 11, "user_id": 11794310, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/7669b03c16e5e5b29cd8002c8ed70b85?s=128&d=identicon&r=PG&f=1", "display_name": "Thornsong", "link": "https://stackoverflow.com/users/11794310/thornsong"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 138, "favorite_count": 1, "answer_count": 1, "score": 1, "last_activity_date": 1563409101, "creation_date": 1563377414, "last_edit_date": 1563391887, "question_id": 57079480, "link": "https://stackoverflow.com/questions/57079480/how-to-find-text-for-multiple-elements-using-find-elements", "title": "How to find text for multiple elements using find_elements", "body": "<p>I'm fairly new to using Selenium Remote Driver and Perl.  What I'd like to do is to have Selenium find all elements on a page using a partial match of text.  Then store the full text of those elements into an array.</p>\n\n<p>I've tried using:<br>\n<code>@elements = $driver-&gt;find_elements(\"//tbody/tr[td[2]/div/span[2][contains(text(),'matching text')]]\")-&gt;get_text;</code>\nHowever, this doesn't seem to work.</p>\n\n<p>I've also tried: \n<code>@elements = $driver-&gt;find_elements(\"//tbody/tr[td[2]/div/span[2][contains(text(),'matching text')]]\");</code>\nThis does populate the array with webelements.</p>\n\n<pre><code>my @elements;\nmy @elementtext;\nmy $elementtext;\n@elements = $driver-&gt;find_elements(\"//tbody/tr[td[2]/div/span[2][contains(text(),'matching text')]]\");\nforeach my $currentelement (@elements) {\n  $elementtext = $driver-&gt;find_element($currentelement)-&gt;get_text();\n  push @elementtext, $elementtext;\n}\n</code></pre>\n\n<p>This causes perl to generate an error because webdriver can't find the element.  Any ideas on what I'm doing wrong and how to fix it?  I suspect that the problem is with the contents of the @elements array not actually being xpath elements.</p>\n\n<p>Here is an example of the html:</p>\n\n<pre><code>&lt;td&gt;\n&lt;div class='cellContent'&gt;&lt;a href=\"/link/1\"&gt;Atlanta&lt;/a&gt;&lt;/div&gt;\n&lt;/td&gt;\n&lt;td&gt;\n&lt;div class='cellContent'&gt;City&lt;/div&gt;\n&lt;/td&gt;\n&lt;td&gt;\n&lt;div class='cellContent'&gt;Georgia&lt;/div&gt;\n&lt;/td&gt;\n&lt;td class='sort_column'&gt;\n&lt;div class='cellContent'&gt;USA&lt;/div&gt;\n&lt;/td&gt;\n&lt;/tr&gt;\n&lt;tr&gt;\n&lt;td&gt;\n&lt;div class='cellContent'&gt;&lt;a href=\"/travelers/1\"&gt;Joe Passenger&lt;/a&gt;&lt;/div&gt;\n&lt;/td&gt;\n&lt;td&gt;\n&lt;div class='cellContent'&gt;        &lt;span&gt;NFL&lt;/span&gt;\n        &lt;span&gt;matching text: Atlanta.Falcons.team&lt;/span&gt;\n&lt;/div&gt;\n&lt;/td&gt;\n</code></pre>\n\n<p>I want to get 'matching text: Atlanta.Falcons.team' stored into the array.</p>\n"}, {"tags": ["perl"], "comments": [{"owner": {"reputation": 32176, "user_id": 2173773, "user_type": "registered", "accept_rate": 86, "profile_image": "https://i.stack.imgur.com/M8yh6.jpg?s=128&g=1", "display_name": "H&#229;kon H&#230;gland", "link": "https://stackoverflow.com/users/2173773/h%c3%a5kon-h%c3%a6gland"}, "edited": false, "score": 0, "creation_date": 1563373670, "post_id": 57077989, "comment_id": 100679696, "body": "See also section &quot;prototypes&quot; in <a href=\"https://perldoc.perl.org/perlsub.html#Prototypes\" rel=\"nofollow noreferrer\">perldoc perlsub</a>: <i>&quot;An &amp; requires an anonymous subroutine, which, if passed as the first argument, does not require the sub keyword or a subsequent comma.&quot;</i>"}, {"owner": {"reputation": 32176, "user_id": 2173773, "user_type": "registered", "accept_rate": 86, "profile_image": "https://i.stack.imgur.com/M8yh6.jpg?s=128&g=1", "display_name": "H&#229;kon H&#230;gland", "link": "https://stackoverflow.com/users/2173773/h%c3%a5kon-h%c3%a6gland"}, "edited": false, "score": 0, "creation_date": 1563374066, "post_id": 57077989, "comment_id": 100679977, "body": "Se also <a href=\"https://stackoverflow.com/q/19033299/2173773\">Why is no comma needed between the arguments to map?</a>"}, {"owner": {"reputation": 32176, "user_id": 2173773, "user_type": "registered", "accept_rate": 86, "profile_image": "https://i.stack.imgur.com/M8yh6.jpg?s=128&g=1", "display_name": "H&#229;kon H&#230;gland", "link": "https://stackoverflow.com/users/2173773/h%c3%a5kon-h%c3%a6gland"}, "edited": false, "score": 1, "creation_date": 1563374588, "post_id": 57077989, "comment_id": 100680290, "body": "If you put a parenthesis around the arguments the content inside will be evaluated before the prototype parsing, and since the two items inside the parenthesis is not separated by a comma you get a syntax error (since items in a list must be separated by comma)"}, {"owner": {"reputation": 38072, "user_id": 46395, "user_type": "registered", "accept_rate": 71, "profile_image": "https://www.gravatar.com/avatar/5ce828f20abb195ef5d971205ee36c27?s=128&d=identicon&r=PG", "display_name": "daxim", "link": "https://stackoverflow.com/users/46395/daxim"}, "edited": false, "score": 0, "creation_date": 1563374668, "post_id": 57077989, "comment_id": 100680339, "body": "Additional info: <a href=\"https://metacpan.org/release/Test-Warn/source/Warn.pm#L331\" rel=\"nofollow noreferrer\">The sub prototype is defined <code>&amp;$;$</code></a>. <code>prototype &#39;CORE::map&#39;</code> is undef, <a href=\"http://p3rl.org/prototype\" rel=\"nofollow noreferrer\">meaning it&#39;s special</a>."}, {"owner": {"reputation": 8718, "user_id": 5848200, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/a8072aaf76dcb4fe5027964252f16382?s=128&d=identicon&r=PG", "display_name": "Grinnz", "link": "https://stackoverflow.com/users/5848200/grinnz"}, "edited": false, "score": 0, "creation_date": 1563391280, "post_id": 57077989, "comment_id": 100688565, "body": "The <code>&amp;</code> prototype can replicate the block form of map, but it is not possible to replicate the <code>map</code> function&#39;s argument parsing in general without a keyword, source filter or other hackery."}, {"owner": {"reputation": 110113, "user_id": 168657, "user_type": "registered", "accept_rate": 92, "profile_image": "https://www.gravatar.com/avatar/f14e7610fca39322ebbf23530def15f8?s=128&d=identicon&r=PG", "display_name": "mob", "link": "https://stackoverflow.com/users/168657/mob"}, "edited": false, "score": 0, "creation_date": 1563399763, "post_id": 57077989, "comment_id": 100691931, "body": "<code>warning_like( sub { bar() }, qr&#47;...&#47;, &quot;test&quot;)</code> is ok"}], "answers": [{"tags": [], "owner": {"reputation": 320771, "user_id": 589924, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/b2cf53d5a3d25f95c0db4e025aed4153?s=128&d=identicon&r=PG", "display_name": "ikegami", "link": "https://stackoverflow.com/users/589924/ikegami"}, "is_accepted": true, "score": 1, "last_activity_date": 1563451002, "last_edit_date": 1563451002, "creation_date": 1563449723, "answer_id": 57093528, "question_id": 57077989, "link": "https://stackoverflow.com/questions/57077989/block-parameters-for-subroutines/57093528#57093528", "title": "Block parameters for subroutines", "body": "\n\n<p>They can be different because <code>warning_like ...</code> is a sub call and <code>map ...</code> is an operator invocation.</p>\n\n<p>The are different because the code required to handle the two calling conventions of <code>map</code> is reasonable, but handling arbitrary prototypes that include <code>&amp;</code> (possibly multiple times) requires compromises.</p>\n\n<hr>\n\n<p><a href=\"https://perldoc.perl.org/perlfunc.html\" rel=\"nofollow noreferrer\">perlfunc</a> leads with the following:</p>\n\n<blockquote>\n  <p>The functions in this section can serve as terms in an expression. They fall into two major categories: list operators and named unary operators.</p>\n</blockquote>\n\n<p><code>map</code> is an operator, just like <code>+</code>. As an operator, its syntax is independent of that of                                                                                                                                                                                                                                                                                                                                      a sub call. </p>\n\n<p>So that explain why the two syntax can be different, but you also asked why they are different.</p>\n\n<p>For starters, it makes sense for <code>map</code> to allow parens because it would provide consistency with the other \"functions\". So the question is why doesn't <code>sub name(&amp;)</code> allow parens for the <code>name BLOCK</code> syntax. For that, I'd have to guess, but I believe it's to avoid extremely complex parser code.</p>\n\n<p>Let's start by looking at how a sub with a prototype of <code>&amp;</code> can be called.</p>\n\n<pre class=\"lang-none prettyprint-override\"><code>mysub BLOCK       # Parens forbidden.\nmysub sub BLOCK   # Parens allowed\nmysub \\&amp;NAME      # Parens allowed\nmysub \\&amp;BLOCK     # Parens allowed\nmysub \\&amp;$NAME     # Parens allowed\nmysub \\&amp;$BLOCK    # Parens allowed\n</code></pre>\n\n<p>Perl could create parsing rules that match these exactly. But the sub could have a prototype of <code>&amp;@</code>, <code>&amp;$</code>, <code>&amp;$$</code>, <code>&amp;&amp;</code>, etc  Having rules that handle all of these is unfeasible. Instead, the parser simply handles the following:</p>\n\n<pre class=\"lang-none prettyprint-override\"><code>mysub BLOCK LIST   # Parens forbidden.\nmysub LIST         # Parens allowed\n</code></pre>\n\n<p>If the name of the sub isn't followed by a <code>{</code>, the parser first parses the code as if it was a simple list expression, then performs a subsequent check to see if what was produced matches the prototype. You can see that Perl does this from the error message it gives.</p>\n\n<p>Consider the following:</p>\n\n<pre class=\"lang-none prettyprint-override\"><code>$ perl -we'sub mysub(&amp;) { ... } mysub(\"a'\nCan't find string terminator '\"' anywhere before EOF at -e line 1.\n\n$ perl -we'sub mysub(&amp;) { ... } mysub({});'\nType of arg 1 to main::mysub must be block or sub {} (not anonymous hash ({})) at -e line 1, near \"})\"\nExecution of -e aborted due to compilation errors.\n</code></pre>\n\n<p>In the first snippet, Perl is giving an error as if it was parsing a string literal even though a string literal isn't allowed there.</p>\n\n<p>In the second snippet, we can see that <code>{}</code> was successfully parsed as an anonymous hash constructor even though that's not allowed there.</p>\n\n<hr>\n\n<p>By the way, this also explains why the <code>sub</code> keyword can only be omitted for <code>&amp;</code> when it's the first argument.</p>\n\n<pre class=\"lang-none prettyprint-override\"><code>sub mysub2(&amp;&amp;);\nsub mysub3($&amp;);\n\nmysub2 BLOCK BLOCK         # Not ok\nmysub2 BLOCK sub BLOCK     # ok\nmysub2 BLOCK \\&amp;...         # ok\n\nmysub3 EXPR, BLOCK         # Not ok\nmysub3 EXPR, sub BLOCK     # ok\nmysub3 EXPR, \\&amp;...         # ok\n</code></pre>\n\n<p>If a prototype of <code>&amp;...</code> is always parsed as <code>BLOCK LIST</code> (if it starts with <code>{</code>) or <code>LIST</code> (otherwise), then there's no way to support <code>BLOCK BLOCK</code>.</p>\n"}], "owner": {"reputation": 2486, "user_id": 2255594, "user_type": "registered", "accept_rate": 81, "profile_image": "https://i.stack.imgur.com/vrBrq.jpg?s=128&g=1", "display_name": "Geraint Anderson", "link": "https://stackoverflow.com/users/2255594/geraint-anderson"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 61, "favorite_count": 0, "accepted_answer_id": 57093528, "answer_count": 1, "score": 1, "last_activity_date": 1563451002, "creation_date": 1563372845, "question_id": 57077989, "link": "https://stackoverflow.com/questions/57077989/block-parameters-for-subroutines", "title": "Block parameters for subroutines", "body": "<p>I've been looking at the <a href=\"https://metacpan.org/pod/Test::Warn\" rel=\"nofollow noreferrer\">Test::Warn</a> package which takes block parameters. The <code>warning_like</code> method has the signature <code>warning_like BLOCK REGEXP, TEST_NAME</code>. I would have thought that in this case the brackets are optional as with other subroutines so the following should be equivalent:</p>\n\n<pre><code>warning_like {bar()} qr/at Foo.pm line 5/, \"Testname\";\nwarning_like({bar()} qr/at Foo.pm line 5/, \"Testname\");\n</code></pre>\n\n<p>But the second call with the brackets is causing an error:</p>\n\n<pre><code>syntax error at t/testfile.t line 34, near \"} qr/at Foo.pm line 5/\"\nExecution of t/testfile.t aborted due to compilation errors.\n</code></pre>\n\n<p>It looks like the block changes the way the function is called. <code>warning_like</code> is similar to <code>map</code> which <a href=\"https://perldoc.perl.org/functions/map.html\" rel=\"nofollow noreferrer\">according to the docs</a> has the following signatures; <code>map BLOCK LIST</code> and <code>map EXPR,LIST</code>. In this case, brackets make no difference.</p>\n\n<pre><code>my @arr = ('a', 'b' ,'c', 'd', 'e');\n\nmy @mapped_block_1 = map( {uc($_)} @arr);\nmy @mapped_block_2 = map( uc, @arr);\nmy @mapped_expr_1  = map {uc($_)} @arr;\nmy @mapped_expr_2  = map uc, @arr;\n</code></pre>\n\n<p>What's the difference between these and why do brackets affect the way <code>warning_like</code> is called but not <code>map</code>? Why isn't a comma needed between the parameters where a block is used as a parameter?</p>\n\n<p>Thanks,</p>\n"}, {"tags": ["perl", "bioinformatics"], "comments": [{"owner": {"reputation": 62184, "user_id": 7231, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/81b76985f3985e35492e25880493d045?s=128&d=identicon&r=PG", "display_name": "Dave Cross", "link": "https://stackoverflow.com/users/7231/dave-cross"}, "edited": false, "score": 0, "creation_date": 1563368836, "post_id": 57076449, "comment_id": 100676365, "body": "We&#39;ll need to see samples of your input data and the output you want from that input."}, {"owner": {"reputation": 62184, "user_id": 7231, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/81b76985f3985e35492e25880493d045?s=128&d=identicon&r=PG", "display_name": "Dave Cross", "link": "https://stackoverflow.com/users/7231/dave-cross"}, "edited": false, "score": 1, "creation_date": 1563369083, "post_id": 57076449, "comment_id": 100676546, "body": "Also, I&#39;ve just fixed the indentation of your code. You&#39;re very welcome, of course, but please consider doing yourself in the future. Good indentation is a massive help in understanding code, and when you&#39;re asking a large number of strangers to read and understand your code it&#39;s only polite to make it as easy for them as possible."}, {"owner": {"reputation": 31593, "user_id": 58082, "user_type": "registered", "accept_rate": 78, "profile_image": "https://www.gravatar.com/avatar/61200477cf8983809ec152f484750204?s=128&d=identicon&r=PG", "display_name": "Pierre", "link": "https://stackoverflow.com/users/58082/pierre"}, "edited": false, "score": 0, "creation_date": 1563376308, "post_id": 57076449, "comment_id": 100681284, "body": "cross posted: <a href=\"https://www.biostars.org/p/390114/\" rel=\"nofollow noreferrer\">biostars.org/p/390114</a>"}], "answers": [{"tags": [], "owner": {"reputation": 62184, "user_id": 7231, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/81b76985f3985e35492e25880493d045?s=128&d=identicon&r=PG", "display_name": "Dave Cross", "link": "https://stackoverflow.com/users/7231/dave-cross"}, "is_accepted": false, "score": 2, "last_activity_date": 1563370643, "creation_date": 1563370643, "answer_id": 57077225, "question_id": 57076449, "link": "https://stackoverflow.com/questions/57076449/perl-how-to-join-two-columns-of-a-text-file-in-which-values-of-the-first-colum/57077225#57077225", "title": "Perl: How to join two columns of a text file, in which values of the first column should match in order with the values of the second column", "body": "<p>I'm not sure about this as I haven't seen your data. But I think you're making this far harder than necessary. I think that everything you need for each gene is in a single line of the input file, so you can process the file a line at a time and not use any extra variables. Something like this:</p>\n\n<pre><code>open (IN, \"Alu.txt\");\nopen (OUT, \"&gt;Alu_subfamlength3.csv\");\n\nwhile ($a = &lt;IN&gt;) {\n    @data = split (/\\t/, $a);\n    print \"Gene: $data[10] / Length: \", $data[7] - $data[6], \"\\n\";\n}\n</code></pre>\n\n<p>But there are some improvements we can make. First, we'll stop using <code>$a</code> (which is a special variable and shouldn't be used in random code) and switch to <code>$_</code> instead. At the same time we'll add <code>use strict</code> and <code>use warnings</code> and ensure that all of our variables are declared.</p>\n\n<pre><code>use strict;\nuse warnings;\n\nopen (IN, \"Alu.txt\");\nopen (OUT, \"&gt;Alu_subfamlength3.csv\");\n\nwhile (&lt;IN&gt;) { # This puts the line into $_\n    my @data = split (/\\t/); # split uses $_ by default\n    print OUT \"Gene: $data[10] / Length: \", $data[7] - $data[6], \"\\n\";\n}\n</code></pre>\n\n<p>Next we'll remove the unnecessary parentheses on the <code>split()</code> call and use a list slice to just get the values you want and store them in individual variables.</p>\n\n<pre><code>use strict;\nuse warnings;\n\nopen (IN, \"Alu.txt\");\nopen (OUT, \"&gt;Alu_subfamlength3.csv\");\n\nwhile (&lt;IN&gt;) { # This puts the line into $_\n    my ($start, $end, $gene) = (split /\\t/)[6, 7, 10]; # split uses $_ by default\n    print OUT \"Gene: $gene / Length: \", $end - $start, \"\\n\";\n}\n</code></pre>\n\n<p>Next, we'll remove the explicit filenames. Instead, we'll read data from <code>STDIN</code> and write it to <code>STDOUT</code>. This is a common Unix/Linux approach called an <em>I/O filter</em>. It will make your program more flexible (and, as a bonus, easier to write).</p>\n\n<pre><code>use strict;\nuse warnings;\n\nwhile (&lt;&gt;) { # Empty &lt;&gt; reads from STDIN\n    my ($start, $end, $gene) = (split /\\t/)[6, 7, 10];\n    # print to STDOUT\n    print \"Gene: $gene / Length: \", $end - $start, \"\\n\";\n}\n</code></pre>\n\n<p>To use this program, we use an operating system feature called <em>I/O redirection</em>. If the program is called <code>filter_genes</code>, we would call it like this:</p>\n\n<pre><code>$ ./filter_genes &lt; Alu.txt &gt; Alu_subfamlength3.csv\n</code></pre>\n\n<p>And if the names of your files change in the future, you don't need to change your program, just the command line that calls it.</p>\n"}, {"comments": [{"owner": {"reputation": 11, "user_id": 11795580, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/fbbbafeea507725e23baef1e5a9a6578?s=128&d=identicon&r=PG&f=1", "display_name": "epigenome_lady", "link": "https://stackoverflow.com/users/11795580/epigenome-lady"}, "edited": false, "score": 0, "creation_date": 1563373438, "post_id": 57077700, "comment_id": 100679526, "body": "This is very much helpful! Thank you very much. Yup, my input file is a tab delimited file, I just don&#39;t know yet how to program using Perl. I am really a newbie."}], "tags": [], "owner": {"reputation": 61, "user_id": 11772964, "user_type": "registered", "profile_image": "https://lh6.googleusercontent.com/-XEotRBTqwSc/AAAAAAAAAAI/AAAAAAAALZ4/V-jGawgic9A/photo.jpg?sz=128", "display_name": "TheYeti", "link": "https://stackoverflow.com/users/11772964/theyeti"}, "is_accepted": false, "score": 0, "last_activity_date": 1563372011, "creation_date": 1563372011, "answer_id": 57077700, "question_id": 57076449, "link": "https://stackoverflow.com/questions/57076449/perl-how-to-join-two-columns-of-a-text-file-in-which-values-of-the-first-colum/57077700#57077700", "title": "Perl: How to join two columns of a text file, in which values of the first column should match in order with the values of the second column", "body": "<p>I assume your input data is tab delimited and you wanted an output csv file containing gene name and its corresponding gene length</p>\n\n<p><strong>Expected Output</strong></p>\n\n<pre><code>genename1,12\ngenename2,20\ngenename3,8\n</code></pre>\n\n<p>Below is the code I made with those assumptions</p>\n\n<pre class=\"lang-perl prettyprint-override\"><code>use strict;\nuse warnings;\n\nmy $input_file;\nmy $output_file;\n\nmy %hash_gene;\n\nopen ($input_file,  \"&lt;testdata.txt\") or die \"Can not open file [$input_file]\";\nopen ($output_file, \"&gt;outdata.txt\")  or die \"Can not open file [$output_file]\";\n\nwhile (&lt;$input_file&gt;) {\n    chomp;\n    my @data = split (/\\t/, $_);\n\n    $hash_gene{$data[10]} = $data[7] - $data[6];\n}\n\nforeach my $sub (keys %hash_gene){\n    print $output_file \"$sub,$hash_gene{$sub}\\n\";\n}   \nclose ($input_file);\nclose ($output_file);\n</code></pre>\n\n<p><strong>Notes</strong></p>\n\n<ul>\n<li>I modified the files names, change them as needed</li>\n<li>Array index is 0-based, I assume you considered that when you mentioned the column numbers (Such that the first column is Column 0)</li>\n</ul>\n"}], "owner": {"reputation": 11, "user_id": 11795580, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/fbbbafeea507725e23baef1e5a9a6578?s=128&d=identicon&r=PG&f=1", "display_name": "epigenome_lady", "link": "https://stackoverflow.com/users/11795580/epigenome-lady"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 133, "favorite_count": 0, "answer_count": 2, "score": 1, "last_activity_date": 1563372011, "creation_date": 1563368374, "last_edit_date": 1563368912, "question_id": 57076449, "link": "https://stackoverflow.com/questions/57076449/perl-how-to-join-two-columns-of-a-text-file-in-which-values-of-the-first-colum", "title": "Perl: How to join two columns of a text file, in which values of the first column should match in order with the values of the second column", "body": "<p>I am a beginner with Perl programming. The problem I am working on right now is how to get the gene length from a text file. Text file contains the gene name (column 10), start site (column 6), end site (column 7). The length can be derived from the difference of column 6 and 7. But my problem is how to match the gene name (from column 10) with the corresponding difference derived from the difference of column 6 and column 7. Thank you very much!</p>\n\n<pre><code>open (IN, \"Alu.txt\");\nopen (OUT, \"&gt;Alu_subfamlength3.csv\");\n\nwhile ($a = &lt;IN&gt;) {\n    @data = split (/\\t/, $a);\n    $list {$data[10]}++;\n    $genelength {$data[7] - $data[6]};\n}\n\nforeach $sub (keys %list){\n    $gene = join ($sub, $genelength);\n\n    print \"$gene\\n\";\n}\nclose (IN);\nclose (OUT);\n</code></pre>\n"}, {"tags": ["perl", "firebird", "dbi", "strawberry-perl"], "comments": [{"owner": {"reputation": 320771, "user_id": 589924, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/b2cf53d5a3d25f95c0db4e025aed4153?s=128&d=identicon&r=PG", "display_name": "ikegami", "link": "https://stackoverflow.com/users/589924/ikegami"}, "edited": false, "score": 1, "creation_date": 1563356861, "post_id": 57072907, "comment_id": 100669718, "body": "<code>DRIVER={Firebird};</code> doesn&#39;t look right. Get rid of that."}, {"owner": {"reputation": 320771, "user_id": 589924, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/b2cf53d5a3d25f95c0db4e025aed4153?s=128&d=identicon&r=PG", "display_name": "ikegami", "link": "https://stackoverflow.com/users/589924/ikegami"}, "edited": false, "score": 1, "creation_date": 1563356910, "post_id": 57072907, "comment_id": 100669733, "body": "<code>db=192.168.0.12:c:&#47;...</code> doesn&#39;t match the docs, which use <code>host=192.168.0.12;db=c:&#47;...</code>"}, {"owner": {"reputation": 1141, "user_id": 682107, "user_type": "registered", "accept_rate": 97, "profile_image": "https://www.gravatar.com/avatar/3255cbb2aa0d949de9f1da8c82ead4b3?s=128&d=identicon&r=PG&f=1", "display_name": "Letholdrus", "link": "https://stackoverflow.com/users/682107/letholdrus"}, "reply_to_user": {"reputation": 320771, "user_id": 589924, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/b2cf53d5a3d25f95c0db4e025aed4153?s=128&d=identicon&r=PG", "display_name": "ikegami", "link": "https://stackoverflow.com/users/589924/ikegami"}, "edited": false, "score": 0, "creation_date": 1563357165, "post_id": 57072907, "comment_id": 100669876, "body": "@ikegami Thanks for the info, it is most appreciated. I changed the code as per your suggestion. It is giving the following error now: <code>Can&#39;t connect to data source &#39;dbi:Firebird;db=192.168.0.12;c:&#47;IXP220&#47;Database&#47;DB220.fdb&#39; because I can&#39;t work out what driver to use (it doesn&#39;t seem to contain a &#39;dbi:driver:&#39; prefix and the DBI_DRIVER env var is not set) at</code>"}, {"owner": {"reputation": 320771, "user_id": 589924, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/b2cf53d5a3d25f95c0db4e025aed4153?s=128&d=identicon&r=PG", "display_name": "ikegami", "link": "https://stackoverflow.com/users/589924/ikegami"}, "edited": false, "score": 0, "creation_date": 1563357339, "post_id": 57072907, "comment_id": 100669975, "body": "huh, the code you showed did provide a &quot;dbi:driver:&quot; prefix (<code>dbi:Firebird:</code>)"}, {"owner": {"reputation": 1141, "user_id": 682107, "user_type": "registered", "accept_rate": 97, "profile_image": "https://www.gravatar.com/avatar/3255cbb2aa0d949de9f1da8c82ead4b3?s=128&d=identicon&r=PG&f=1", "display_name": "Letholdrus", "link": "https://stackoverflow.com/users/682107/letholdrus"}, "reply_to_user": {"reputation": 320771, "user_id": 589924, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/b2cf53d5a3d25f95c0db4e025aed4153?s=128&d=identicon&r=PG", "display_name": "ikegami", "link": "https://stackoverflow.com/users/589924/ikegami"}, "edited": false, "score": 0, "creation_date": 1563357452, "post_id": 57072907, "comment_id": 100670036, "body": "@ikegami In your first comment, aren&#39;t you telling me that it should be removed?"}, {"owner": {"reputation": 320771, "user_id": 589924, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/b2cf53d5a3d25f95c0db4e025aed4153?s=128&d=identicon&r=PG", "display_name": "ikegami", "link": "https://stackoverflow.com/users/589924/ikegami"}, "edited": false, "score": 0, "creation_date": 1563357481, "post_id": 57072907, "comment_id": 100670055, "body": "Definitely not. I suggested trying to remove <code>DRIVER={Firebird};</code>, not <code>dbi:Firebird:</code>. (I suspect <code>DRIVER={Firebird};</code> is just silently ignored, not the cause of a problem.)"}, {"owner": {"reputation": 1141, "user_id": 682107, "user_type": "registered", "accept_rate": 97, "profile_image": "https://www.gravatar.com/avatar/3255cbb2aa0d949de9f1da8c82ead4b3?s=128&d=identicon&r=PG&f=1", "display_name": "Letholdrus", "link": "https://stackoverflow.com/users/682107/letholdrus"}, "reply_to_user": {"reputation": 320771, "user_id": 589924, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/b2cf53d5a3d25f95c0db4e025aed4153?s=128&d=identicon&r=PG", "display_name": "ikegami", "link": "https://stackoverflow.com/users/589924/ikegami"}, "edited": false, "score": 0, "creation_date": 1563357678, "post_id": 57072907, "comment_id": 100670188, "body": "@ikegami I see, thanks for clearing that up. That error now looks like <code>Can&#39;t connect to data source &#39;dbi:Firebird;db=c:&#47;IXP220&#47;Database&#47;DB220.fdb;host=192.168.0&zwnj;&#8203;.12&#39; because I can&#39;t work out what driver to use (it doesn&#39;t seem to contain a &#39;dbi:driver:&#39; prefix and the DBI_DRIVER env var is not set) at ..&#47;</code>"}, {"owner": {"reputation": 320771, "user_id": 589924, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/b2cf53d5a3d25f95c0db4e025aed4153?s=128&d=identicon&r=PG", "display_name": "ikegami", "link": "https://stackoverflow.com/users/589924/ikegami"}, "edited": false, "score": 1, "creation_date": 1563357785, "post_id": 57072907, "comment_id": 100670267, "body": "The DSN consists of three <b>colon</b>-separated fields: The value of the first must be <code>dbi</code> (case-insensitive, I believe), the second is the name of the DBD module, and the third is data to be passed to the DBD module (in a DBD-specific format). Most DBD expect key=value pairs separated by semi-colons for the third field. /// For some reason, you appear to have replaced the colon with a semi-colon. Restore the colon (<code>dbi:Firebird:db=...;host=...</code>)."}, {"owner": {"reputation": 1141, "user_id": 682107, "user_type": "registered", "accept_rate": 97, "profile_image": "https://www.gravatar.com/avatar/3255cbb2aa0d949de9f1da8c82ead4b3?s=128&d=identicon&r=PG&f=1", "display_name": "Letholdrus", "link": "https://stackoverflow.com/users/682107/letholdrus"}, "reply_to_user": {"reputation": 320771, "user_id": 589924, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/b2cf53d5a3d25f95c0db4e025aed4153?s=128&d=identicon&r=PG", "display_name": "ikegami", "link": "https://stackoverflow.com/users/589924/ikegami"}, "edited": false, "score": 0, "creation_date": 1563358434, "post_id": 57072907, "comment_id": 100670622, "body": "Let us <a href=\"https://chat.stackoverflow.com/rooms/196562/discussion-between-letholdrus-and-ikegami\">continue this discussion in chat</a>."}, {"owner": {"reputation": 14940, "user_id": 976391, "user_type": "registered", "accept_rate": 75, "profile_image": "https://www.gravatar.com/avatar/a20cdd68e2d66033d22408a925a5761a?s=128&d=identicon&r=PG", "display_name": "Arioch &#39;The", "link": "https://stackoverflow.com/users/976391/arioch-the"}, "edited": false, "score": 1, "creation_date": 1563369803, "post_id": 57072907, "comment_id": 100677083, "body": "did you install 32-bits &quot;client libraries&quot; of Firebird on this machine?"}], "answers": [{"comments": [{"owner": {"reputation": 1141, "user_id": 682107, "user_type": "registered", "accept_rate": 97, "profile_image": "https://www.gravatar.com/avatar/3255cbb2aa0d949de9f1da8c82ead4b3?s=128&d=identicon&r=PG&f=1", "display_name": "Letholdrus", "link": "https://stackoverflow.com/users/682107/letholdrus"}, "edited": false, "score": 0, "creation_date": 1563784424, "post_id": 57123128, "comment_id": 100799250, "body": "Thanks @mark-rotteveel registering the client dll using <code>instclient i f</code> did the trick! Your assistance is most appreciated."}], "tags": [], "owner": {"reputation": 80989, "user_id": 466862, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/d873f397779db38cd510d9ee5416fd43?s=128&d=identicon&r=PG", "display_name": "Mark Rotteveel", "link": "https://stackoverflow.com/users/466862/mark-rotteveel"}, "is_accepted": true, "score": 3, "last_activity_date": 1563612309, "creation_date": 1563612309, "answer_id": 57123128, "question_id": 57072907, "link": "https://stackoverflow.com/questions/57072907/strawberry-perl-firebird-driver-and-module-on-windows-10-64bit/57123128#57123128", "title": "Strawberry Perl Firebird driver and module on Windows 10 64bit", "body": "<p>I don't normally use Perl, but with some trial and error I installed DBD::Firebird and made a small test saved as <code>connect.pl</code>:</p>\n\n<pre class=\"lang-perl prettyprint-override\"><code>use DBI;\n\n$dbh = DBI-&gt;connect(\"dbi:Firebird:db=employee;host=localhost\", \"sysdba\", \"masterkey\");\n\n$sth = $dbh-&gt;prepare(\"SELECT country, currency FROM country\");\n\n$sth-&gt;execute();\n\nwhile ( @row = $sth-&gt;fetchrow_array ) {\n  print \"@row\\n\";\n}\n</code></pre>\n\n<p>If I don't have the 32 bit <code>fbclient.dll</code> installed, then <code>perl connect.pl</code> results in an error:</p>\n\n<pre class=\"lang-none prettyprint-override\"><code>install_driver(Firebird) failed: Can't load 'D:/DevSoft/Strawberry/perl/site/lib/auto/DBD/Firebird/Firebird.xs.dll' for module DBD::Firebird: load_file:The specified module could not be found at D:/DevSoft/Strawberry/perl/lib/DynaLoader.pm line 193.\n  at (eval 8) line 3.\nCompilation failed in require at (eval 8) line 3.\nPerhaps a required shared library or dll isn't installed where expected\n at connect.pl line 3.\n</code></pre>\n\n<p>With the 32 bit <code>fbclient.dll</code> installed, then this works (result is the <code>COUNTRY</code> table of the Employee example database included with Firebird):</p>\n\n<pre class=\"lang-none prettyprint-override\"><code>USA Dollar\nEngland Pound\nCanada CdnDlr\nSwitzerland SFranc\nJapan Yen\nItaly Euro\nFrance Euro\nGermany Euro\nAustralia ADollar\nHong Kong HKDollar\nNetherlands Euro\nBelgium Euro\nAustria Euro\nFiji FDollar\nRussia Ruble\nRomania RLeu\n</code></pre>\n\n<p>To install the 32 bit fbclient.dll, you can do one of the following:</p>\n\n<ul>\n<li>Download and run the <a href=\"https://firebirdsql.org/en/firebird-3-0/#Win32\" rel=\"nofollow noreferrer\">32 bit installer for Firebird</a>, and use the 'Minimum client install - no server, no tools' installation option;</li>\n<li>If you already have a 64 bit Firebird installed on your machine, then open an Administrator Command Prompt, and go to the <code>SysWoW64</code> folder of your Firebird install (this folder contains the 32 bit client library), and execute <code>instclient i f</code>;</li>\n<li>Download and unzip the <a href=\"https://firebirdsql.org/en/firebird-3-0/#Win32\" rel=\"nofollow noreferrer\">32 bit Firebird zip kit</a>, open an Administrator Command Prompt and go to the location of the unzipped zip kit, and execute <code>instclient i f</code>. </li>\n</ul>\n"}], "owner": {"reputation": 1141, "user_id": 682107, "user_type": "registered", "accept_rate": 97, "profile_image": "https://www.gravatar.com/avatar/3255cbb2aa0d949de9f1da8c82ead4b3?s=128&d=identicon&r=PG&f=1", "display_name": "Letholdrus", "link": "https://stackoverflow.com/users/682107/letholdrus"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 277, "favorite_count": 0, "accepted_answer_id": 57123128, "answer_count": 1, "score": 2, "last_activity_date": 1563612844, "creation_date": 1563356468, "last_edit_date": 1563612844, "question_id": 57072907, "link": "https://stackoverflow.com/questions/57072907/strawberry-perl-firebird-driver-and-module-on-windows-10-64bit", "title": "Strawberry Perl Firebird driver and module on Windows 10 64bit", "body": "<p>I cannot seem to get the Firebird driver compiled and installed for usage in Strawberry Perl running on Windows 10 64bit.</p>\n\n<p>Steps I followed include:</p>\n\n<ol>\n<li><p>Download and install Strawberry Perl latest 32bit driver.</p></li>\n<li><p>run <code>cpan</code> from the console.</p></li>\n<li><p>Inside cpan use this <code>install DBD::Firebird</code></p></li>\n<li><p>The module is downloaded and installed, however connecting to the Firebird database on another Windows machine fails miserably.</p></li>\n</ol>\n\n<p>The Perl code to connect looks like:</p>\n\n<pre><code>sub IB_CONNECT {\n    #database connection parameters\n    use DBI;\n    $dbname = 'db=192.168.0.12:c:/IXP220/Database/DB220.fdb';\n    $user = 'SYSDBA';\n    $password = 'masterkey';\n    $firebirdDSN='dbi:Firebird:DRIVER={Firebird};' . $dbname;\n    $dbhIB = DBI-&gt;connect($firebirdDSN,$user,$password);\n}\n</code></pre>\n\n<p>Please can somebody enlighten me as to how to connect to this database?</p>\n"}, {"tags": ["python", "perl", "python-requests"], "comments": [{"owner": {"reputation": 320771, "user_id": 589924, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/b2cf53d5a3d25f95c0db4e025aed4153?s=128&d=identicon&r=PG", "display_name": "ikegami", "link": "https://stackoverflow.com/users/589924/ikegami"}, "edited": false, "score": 1, "creation_date": 1563351940, "post_id": 57071435, "comment_id": 100666938, "body": "Tip: It&#39;s not safe to pass passwords as arguments. Other users on the machine can see them."}, {"owner": {"reputation": 28384, "user_id": 648265, "user_type": "registered", "accept_rate": 88, "profile_image": "https://www.gravatar.com/avatar/4d98e414a47934d66cb78bf73d0845ba?s=128&d=identicon&r=PG", "display_name": "ivan_pozdeev", "link": "https://stackoverflow.com/users/648265/ivan-pozdeev"}, "edited": false, "score": 0, "creation_date": 1563352355, "post_id": 57071435, "comment_id": 100667162, "body": "Please elaborate on &quot;The result is actually not the same.&quot; The code looks okay but perhaps you need some special form encoding or something."}, {"owner": {"reputation": 28384, "user_id": 648265, "user_type": "registered", "accept_rate": 88, "profile_image": "https://www.gravatar.com/avatar/4d98e414a47934d66cb78bf73d0845ba?s=128&d=identicon&r=PG", "display_name": "ivan_pozdeev", "link": "https://stackoverflow.com/users/648265/ivan-pozdeev"}, "edited": false, "score": 0, "creation_date": 1563352404, "post_id": 57071435, "comment_id": 100667185, "body": "Possible duplicate of <a href=\"https://stackoverflow.com/questions/12385179/how-to-send-a-multipart-form-data-with-requests-in-python\">How to send a &quot;multipart/form-data&quot; with requests in python?</a>"}, {"owner": {"reputation": 28384, "user_id": 648265, "user_type": "registered", "accept_rate": 88, "profile_image": "https://www.gravatar.com/avatar/4d98e414a47934d66cb78bf73d0845ba?s=128&d=identicon&r=PG", "display_name": "ivan_pozdeev", "link": "https://stackoverflow.com/users/648265/ivan-pozdeev"}, "edited": false, "score": 0, "creation_date": 1563352751, "post_id": 57071435, "comment_id": 100667344, "body": "Both <code>LWP::UserAgent</code> and <code>requests</code> use the <code>application&#47;x-www-form-urlencoded</code> MIME by default. So I&#39;ve no idea what is &quot;not the same&quot;."}, {"owner": {"reputation": 320771, "user_id": 589924, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/b2cf53d5a3d25f95c0db4e025aed4153?s=128&d=identicon&r=PG", "display_name": "ikegami", "link": "https://stackoverflow.com/users/589924/ikegami"}, "edited": false, "score": 0, "creation_date": 1563357229, "post_id": 57071435, "comment_id": 100669913, "body": "Re &quot;<i>I looks like python is sending this as a parameters in the URL</i>&quot;, For a POST request? I don&#39;t know Python, much less this particular module (or whatever Python calls them), but that seems unlikely. How did you reach that conclusion?"}, {"owner": {"reputation": 15, "user_id": 7030534, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/b22b18a30f417b64f11a77a50c59c66e?s=128&d=identicon&r=PG&f=1", "display_name": "Tom Van de Velde", "link": "https://stackoverflow.com/users/7030534/tom-van-de-velde"}, "edited": false, "score": 0, "creation_date": 1563357587, "post_id": 57071435, "comment_id": 100670129, "body": "It is a authentication page against a firewall. The pages a very simple form that is posted to the URL. Difficult to explain what is the difference against a working and none working page, the logic is on the firewall I can only see the HTML."}, {"owner": {"reputation": 15, "user_id": 7030534, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/b22b18a30f417b64f11a77a50c59c66e?s=128&d=identicon&r=PG&f=1", "display_name": "Tom Van de Velde", "link": "https://stackoverflow.com/users/7030534/tom-van-de-velde"}, "reply_to_user": {"reputation": 320771, "user_id": 589924, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/b2cf53d5a3d25f95c0db4e025aed4153?s=128&d=identicon&r=PG", "display_name": "ikegami", "link": "https://stackoverflow.com/users/589924/ikegami"}, "edited": false, "score": 0, "creation_date": 1563357846, "post_id": 57071435, "comment_id": 100670300, "body": "@ikegami when doing the debug it displays send: &#39;POST /netaccess/loginuser.html HTTP/1.1\\r\\nHost:&lt;IP&gt;\\r\\nContent-Length: 47\\r\\nAccept-Encoding: gzip, deflate\\r\\nAccept: */*\\r\\nUser-Agent: python-requests/2.6.0 CPython/2.7.5 Linux/3.10.0-862.14.4.el7.x86_64\\r\\nConnection: keep-alive\\r\\nContent-Type: application/x-www-form-urlencoded\\r\\n\\r\\nusername=me&amp;passwor&zwnj;&#8203;d=there&amp;sid=0&#39;"}, {"owner": {"reputation": 320771, "user_id": 589924, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/b2cf53d5a3d25f95c0db4e025aed4153?s=128&d=identicon&r=PG", "display_name": "ikegami", "link": "https://stackoverflow.com/users/589924/ikegami"}, "edited": false, "score": 0, "creation_date": 1563358122, "post_id": 57071435, "comment_id": 100670460, "body": "That shows the parameters in the body where they should be, not in the URL."}], "answers": [{"tags": [], "owner": {"reputation": 15, "user_id": 1697581, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/zyySw.jpg?s=128&g=1", "display_name": "aod", "link": "https://stackoverflow.com/users/1697581/aod"}, "is_accepted": false, "score": 0, "last_activity_date": 1563417973, "last_edit_date": 1563417973, "creation_date": 1563411500, "answer_id": 57085735, "question_id": 57071435, "link": "https://stackoverflow.com/questions/57071435/send-form-with-python-requests-the-same-way-as-perl-lwpuseragent-does/57085735#57085735", "title": "Send form with Python requests the same way as Perl LWP::UserAgent does", "body": "<p>The python program works fine.\nI tested on requestbin, have a look at results <a href=\"https://requestbin.com/r/enqv2q1igodb/1OACmdMPe2mK8HNzyMW5uvn44xj\" rel=\"nofollow noreferrer\">here</a>, by creating a bin on request bin, and looking at the results of both programs.</p>\n\n<p>On the other hand, the form you pasted has a different URL for the form submit (<code>/netaccess/connstatus.html</code>).</p>\n"}, {"tags": [], "owner": {"reputation": 1, "user_id": 12031456, "user_type": "unregistered", "profile_image": "https://www.gravatar.com/avatar/256efc2958100e87c28d46ac34ac1d5c?s=128&d=identicon&r=PG", "display_name": "Arthur", "link": "https://stackoverflow.com/users/12031456/arthur"}, "is_accepted": false, "score": 0, "last_activity_date": 1567784405, "creation_date": 1567784405, "answer_id": 57825001, "question_id": 57071435, "link": "https://stackoverflow.com/questions/57071435/send-form-with-python-requests-the-same-way-as-perl-lwpuseragent-does/57825001#57825001", "title": "Send form with Python requests the same way as Perl LWP::UserAgent does", "body": "<p>I was trying to do the same from similar perl script to Python . In the end , I managed to get it to work by first doing  GET and then POST </p>\n\n<pre><code>url = \"https://ip_address/netaccess/loginuser.html\"\n\nauth = {\"username\":user ,\"password\": passw, \"sid\": 0}\n\nlogin = requests.Session()\n\nreq_login = login.get(url, verify=False)\nsend_login = login.post(url, data=auth, verify=False)\n</code></pre>\n\n<p>If you want to authenticate periodically before session timeout , you need to add this before req_login :</p>\n\n<pre><code> status_url = \"https://ip_address/netaccess/connstatus.html\"\n logout = {\"sid\": 0, \"logout\": \"Log+Out+Now\"}\n req_logout = login.post(status_url, data=logout, verify=False)\n</code></pre>\n"}], "owner": {"reputation": 15, "user_id": 7030534, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/b22b18a30f417b64f11a77a50c59c66e?s=128&d=identicon&r=PG&f=1", "display_name": "Tom Van de Velde", "link": "https://stackoverflow.com/users/7030534/tom-van-de-velde"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 502, "favorite_count": 0, "answer_count": 2, "score": -1, "last_activity_date": 1567784405, "creation_date": 1563351264, "last_edit_date": 1563357733, "question_id": 57071435, "link": "https://stackoverflow.com/questions/57071435/send-form-with-python-requests-the-same-way-as-perl-lwpuseragent-does", "title": "Send form with Python requests the same way as Perl LWP::UserAgent does", "body": "<p>A script to authenticate to a Cisco Systems firewall needs to be converted from perl to Python.</p>\n\n<p>This perl script needs to be converted to a python equivalent.</p>\n\n<pre><code>#!/usr/bin/perl\n\n$login=$ARGV[0];\n$pass=$ARGV[1];\n\n# load necessary perl modules\nuse HTTP::Request::Common;\nuse LWP::UserAgent;\n\n$url=\"https://&lt;ip&gt;/netaccess/loginuser.html\";\n\nmy $ua = LWP::UserAgent-&gt;new(ssl_opts =&gt; { verify_hostname =&gt; 0 });\n\n# POST credentials\n\nmy $res = $ua-&gt;request(POST \"$url\", [username =&gt; \"$login\", password =&gt; \"$pass\", sid =&gt; \"0\"]);\n$res-&gt;is_success or die \"Failed to POST credentials to '$url': \", $res-&gt;status_line;\n</code></pre>\n\n<pre class=\"lang-py prettyprint-override\"><code>#!/bin/python\nimport requests\nimport urllib3\nimport sys\n\nfrom requests.packages.urllib3.exceptions import InsecureRequestWarning\nrequests.packages.urllib3.disable_warnings(InsecureRequestWarning)\n\nsession = requests.Session()\n\npayload = {'sid' : '0', \"username\" : sys.argv[1], \"password\" : sys.argv[2]}\n\nr_post = session.post(\"https://&lt;ip&gt;/netaccess/loginuser.html\",\n   data=payload,\n   verify=False,\n   )\n\nprint(r_post.text)\n</code></pre>\n\n<p>The result is actually not the same. I looks like python is sending this as a parameters in the URL, while with perl this is in the form.</p>\n\n<p>UPDATE :</p>\n\n<p>The page that I try to use is :</p>\n\n<pre><code>&lt;/style&gt;\n&lt;/head&gt;\n&lt;body bgcolor=white alink=\"#333366\" vlink=\"#333366\" link=\"#333366\"&gt;\n\n&lt;script language=\"JavaScript1.1\"&gt;\nfunction doRefresh()\n{\n    location.replace(\"/netaccess/connstatus.html\");\n}\n&lt;/script&gt;\n\n&lt;FORM method=post ACTION=\"/netaccess/connstatus.html\"&gt;\n\n&lt;INPUT type=hidden name=sid VALUE=\"0\"&gt;\n\n\n\n&lt;h3&gt;Network User Authentication&lt;/h3&gt;&lt;p&gt;&lt;p&gt;Network User Authentication is &lt;i&gt;required&lt;/i&gt;.&lt;/p&gt; &lt;table border cellpadding=5&gt;&lt;tr&gt;&lt;td&gt;&lt;input type=submit width=120 style=\"width:120\" name=login value=\"Log In Now\"&gt;&lt;/td&gt;&lt;td&gt;&lt;b&gt;You are not logged in.&lt;/b&gt;&lt;br&gt;User IP: &lt;br&gt;&lt;/td&gt;&lt;/tr&gt;&lt;/table&gt;&lt;script language=\"JavaScript\"&gt;document.forms[0].login.focus()&lt;/script&gt;\n\n&lt;/FORM&gt;\n&lt;/body&gt;\n&lt;/html&gt;\n</code></pre>\n"}, {"tags": ["regex", "perl", "notepad++"], "comments": [{"owner": {"reputation": 32176, "user_id": 2173773, "user_type": "registered", "accept_rate": 86, "profile_image": "https://i.stack.imgur.com/M8yh6.jpg?s=128&g=1", "display_name": "H&#229;kon H&#230;gland", "link": "https://stackoverflow.com/users/2173773/h%c3%a5kon-h%c3%a6gland"}, "edited": false, "score": 0, "creation_date": 1563350352, "post_id": 57071124, "comment_id": 100666112, "body": "Please show the code you tried. See <a href=\"https://perldoc.perl.org/perlretut.html\" rel=\"nofollow noreferrer\">perldoc perlretut</a> for more information on Perl regexes"}, {"owner": {"reputation": 1643, "user_id": 3154777, "user_type": "registered", "accept_rate": 0, "profile_image": "https://www.gravatar.com/avatar/62094a449b27eca32eb90cac59352613?s=128&d=identicon&r=PG&f=1", "display_name": "Texh", "link": "https://stackoverflow.com/users/3154777/texh"}, "reply_to_user": {"reputation": 32176, "user_id": 2173773, "user_type": "registered", "accept_rate": 86, "profile_image": "https://i.stack.imgur.com/M8yh6.jpg?s=128&g=1", "display_name": "H&#229;kon H&#230;gland", "link": "https://stackoverflow.com/users/2173773/h%c3%a5kon-h%c3%a6gland"}, "edited": false, "score": 0, "creation_date": 1563350443, "post_id": 57071124, "comment_id": 100666164, "body": "like i said, i dont tried the to use secret= on left side and left the right side blank and there was nothing in source.  other than that, nothing. i dint know the regex to use or any way of using CSS selector as this is the whole code i shared here"}, {"owner": {"reputation": 32176, "user_id": 2173773, "user_type": "registered", "accept_rate": 86, "profile_image": "https://i.stack.imgur.com/M8yh6.jpg?s=128&g=1", "display_name": "H&#229;kon H&#230;gland", "link": "https://stackoverflow.com/users/2173773/h%c3%a5kon-h%c3%a6gland"}, "edited": false, "score": 0, "creation_date": 1563350522, "post_id": 57071124, "comment_id": 100666212, "body": "Try this <code>&#47;secret=(\\d+)$&#47;</code>"}, {"owner": {"reputation": 1643, "user_id": 3154777, "user_type": "registered", "accept_rate": 0, "profile_image": "https://www.gravatar.com/avatar/62094a449b27eca32eb90cac59352613?s=128&d=identicon&r=PG&f=1", "display_name": "Texh", "link": "https://stackoverflow.com/users/3154777/texh"}, "reply_to_user": {"reputation": 32176, "user_id": 2173773, "user_type": "registered", "accept_rate": 86, "profile_image": "https://i.stack.imgur.com/M8yh6.jpg?s=128&g=1", "display_name": "H&#229;kon H&#230;gland", "link": "https://stackoverflow.com/users/2173773/h%c3%a5kon-h%c3%a6gland"}, "edited": false, "score": 0, "creation_date": 1563350787, "post_id": 57071124, "comment_id": 100666340, "body": "dint work.. the code is of 40 letters if that helps, numberic plus lower alphabets mixed"}, {"owner": {"reputation": 32176, "user_id": 2173773, "user_type": "registered", "accept_rate": 86, "profile_image": "https://i.stack.imgur.com/M8yh6.jpg?s=128&g=1", "display_name": "H&#229;kon H&#230;gland", "link": "https://stackoverflow.com/users/2173773/h%c3%a5kon-h%c3%a6gland"}, "edited": false, "score": 0, "creation_date": 1563350954, "post_id": 57071124, "comment_id": 100666413, "body": "If it is not only numbers, then <code>\\d+</code> will not work yes. Lower case characters can be for example <code>[a-z]</code>"}, {"owner": {"reputation": 32176, "user_id": 2173773, "user_type": "registered", "accept_rate": 86, "profile_image": "https://i.stack.imgur.com/M8yh6.jpg?s=128&g=1", "display_name": "H&#229;kon H&#230;gland", "link": "https://stackoverflow.com/users/2173773/h%c3%a5kon-h%c3%a6gland"}, "edited": false, "score": 0, "creation_date": 1563351045, "post_id": 57071124, "comment_id": 100666467, "body": "End of line is indicated by a <code>$</code>, see <a href=\"https://perldoc.perl.org/perlretut.html\" rel=\"nofollow noreferrer\">perlretut</a>"}, {"owner": {"reputation": 1643, "user_id": 3154777, "user_type": "registered", "accept_rate": 0, "profile_image": "https://www.gravatar.com/avatar/62094a449b27eca32eb90cac59352613?s=128&d=identicon&r=PG&f=1", "display_name": "Texh", "link": "https://stackoverflow.com/users/3154777/texh"}, "reply_to_user": {"reputation": 32176, "user_id": 2173773, "user_type": "registered", "accept_rate": 86, "profile_image": "https://i.stack.imgur.com/M8yh6.jpg?s=128&g=1", "display_name": "H&#229;kon H&#230;gland", "link": "https://stackoverflow.com/users/2173773/h%c3%a5kon-h%c3%a6gland"}, "edited": false, "score": 0, "creation_date": 1563351171, "post_id": 57071124, "comment_id": 100666557, "body": "so what will be the new cmd if you replace \\d+ with a-z? its a code of 40letters containing 0-9 and a-z"}, {"owner": {"reputation": 32176, "user_id": 2173773, "user_type": "registered", "accept_rate": 86, "profile_image": "https://i.stack.imgur.com/M8yh6.jpg?s=128&g=1", "display_name": "H&#229;kon H&#230;gland", "link": "https://stackoverflow.com/users/2173773/h%c3%a5kon-h%c3%a6gland"}, "edited": false, "score": 0, "creation_date": 1563351266, "post_id": 57071124, "comment_id": 100666612, "body": "Then it will be something like <code>&#47;secret=([a-z\\d]+)$&#47;</code>. You can test it from the command line like this: <code>perl -E &#39;$_=&quot;secret=01abz4&quot;; &#47;secret=([a-z\\d]+)$&#47; and say $1&#39;</code>. If it is exactly 40 characters you can use <code>[a-z\\d]{40}</code> to be more specific"}, {"owner": {"reputation": 32176, "user_id": 2173773, "user_type": "registered", "accept_rate": 86, "profile_image": "https://i.stack.imgur.com/M8yh6.jpg?s=128&g=1", "display_name": "H&#229;kon H&#230;gland", "link": "https://stackoverflow.com/users/2173773/h%c3%a5kon-h%c3%a6gland"}, "edited": false, "score": 1, "creation_date": 1563351866, "post_id": 57071124, "comment_id": 100666907, "body": "Please ask a new question if the regex is not related to Perl. It is important to keep ideas and questions separate, see <a href=\"https://stackoverflow.com/help/how-to-ask\">How to ask</a>"}], "answers": [{"tags": [], "owner": {"reputation": 3329, "user_id": 10574137, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/Z2w3m.jpg?s=128&g=1", "display_name": "Muldec", "link": "https://stackoverflow.com/users/10574137/muldec"}, "is_accepted": false, "score": 0, "last_activity_date": 1563351129, "creation_date": 1563351129, "answer_id": 57071389, "question_id": 57071124, "link": "https://stackoverflow.com/questions/57071124/regex-to-capture-end-of-line-value/57071389#57071389", "title": "Regex to capture end of line value", "body": "<p>If you want to capture all digits \u00e0 the end of the string, no matter what's before those digits, you can use <code>(\\d+)$</code></p>\n\n<p>Check the <a href=\"https://regex101.com/r/vjZCUR/1\" rel=\"nofollow noreferrer\">result here</a>.</p>\n"}, {"tags": [], "owner": {"reputation": 38072, "user_id": 46395, "user_type": "registered", "accept_rate": 71, "profile_image": "https://www.gravatar.com/avatar/5ce828f20abb195ef5d971205ee36c27?s=128&d=identicon&r=PG", "display_name": "daxim", "link": "https://stackoverflow.com/users/46395/daxim"}, "is_accepted": false, "score": 2, "last_activity_date": 1563351805, "creation_date": 1563351805, "answer_id": 57071583, "question_id": 57071124, "link": "https://stackoverflow.com/questions/57071124/regex-to-capture-end-of-line-value/57071583#57071583", "title": "Regex to capture end of line value", "body": "<p>Is this URI parsing? It <em>looks</em> like URI parsing.</p>\n\n<pre><code>use URI qw();\nuse URI::QueryParam qw();\nmy $u = URI-&gt;new;\n$u-&gt;query('allow=ok&amp;secret=432643286754');\nprint $u-&gt;query_param('secret'); # 432643286754\n</code></pre>\n"}, {"tags": [], "owner": {"reputation": 61, "user_id": 11772964, "user_type": "registered", "profile_image": "https://lh6.googleusercontent.com/-XEotRBTqwSc/AAAAAAAAAAI/AAAAAAAALZ4/V-jGawgic9A/photo.jpg?sz=128", "display_name": "TheYeti", "link": "https://stackoverflow.com/users/11772964/theyeti"}, "is_accepted": false, "score": 0, "last_activity_date": 1563432599, "last_edit_date": 1563432599, "creation_date": 1563372866, "answer_id": 57077996, "question_id": 57071124, "link": "https://stackoverflow.com/questions/57071124/regex-to-capture-end-of-line-value/57077996#57077996", "title": "Regex to capture end of line value", "body": "<p>Please be clear with your question and example. Be more specific with what are the possible values of secret=&lt;..></p>\n\n<p>Check if anything below works for you</p>\n\n<pre><code>#This will capture anything between = and EOL\nmy ($data) = /secret=(.*)$/;\n\n#This will capture alphanumeric characters + underscore\nmy ($data) = /secret=(\\w)$/;\n\n#This will capture alphanumeric characters\nmy ($data) = /secret=([a-zA-Z0-9])$/;\n</code></pre>\n"}], "owner": {"reputation": 1643, "user_id": 3154777, "user_type": "registered", "accept_rate": 0, "profile_image": "https://www.gravatar.com/avatar/62094a449b27eca32eb90cac59352613?s=128&d=identicon&r=PG&f=1", "display_name": "Texh", "link": "https://stackoverflow.com/users/3154777/texh"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 99, "favorite_count": 0, "closed_date": 1563374564, "answer_count": 3, "score": -2, "last_activity_date": 1563432599, "creation_date": 1563350276, "last_edit_date": 1563351776, "question_id": 57071124, "link": "https://stackoverflow.com/questions/57071124/regex-to-capture-end-of-line-value", "closed_reason": "Duplicate", "title": "Regex to capture end of line value", "body": "<p>i have a source code that i need to capture. the whole file is of one line but i am not able to capture the data that i require.</p>\n\n<pre><code>allow=ok&amp;secret=432643286754\n</code></pre>\n\n<p>now i need to capture this data 432643286754 which changes everytime.</p>\n\n<p>i tried using Left and Right selectors by using \"secret=\" on left but since the source ends at the end of the value, i dont have any thing to put in right selector.</p>\n\n<p>so i need to know how can i capture this data? is there any regex cmd that can let me.?</p>\n\n<p>thanks</p>\n"}, {"tags": ["perl", "oauth-2.0", "spotify"], "owner": {"reputation": 71, "user_id": 9950076, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/e3243990a4c74f4be820289666c22497?s=128&d=identicon&r=PG&f=1", "display_name": "Eternity", "link": "https://stackoverflow.com/users/9950076/eternity"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 118, "favorite_count": 1, "answer_count": 0, "score": 3, "last_activity_date": 1563342098, "creation_date": 1563342098, "question_id": 57069169, "link": "https://stackoverflow.com/questions/57069169/authorizing-to-spotify-api-from-perl", "title": "Authorizing to Spotify API from Perl", "body": "<p>I'd like to ask for clue how to fill-in correctly parameters, to get an access token to Spotify API. Using the LWP::Authen::OAuth2 module initialized following the guidelines at <a href=\"https://developer.spotify.com/documentation/general/guides/authorization-guide/#client-credentials-flow\" rel=\"nofollow noreferrer\">Spotify authorization guide</a></p>\n\n<pre><code>use LWP::Authen::OAuth2;\nmy $oauth2 = LWP::Authen::OAuth2-&gt;new(\n    client_id =&gt; '...',\n    client_secret =&gt; '...',\n    #authorization_endpoint =&gt; 'https://accounts.spotify.com/api/token',\n    #token_endpoint =&gt; 'https://accounts.spotify.com/api/token',\n);\n$oauth2-&gt;post(\n    'https://accounts.spotify.com/api/token',\n    grant_type =&gt; 'client_credentials'\n);\n</code></pre>\n\n<p>The post method however gives an error:\n\"request\" on an undefined value at D:\\Perl\\site\\lib/LWP/Authen/OAuth2.pm line 104.\"</p>\n\n<p>Furthermore, once I obtain the access token, can I feed it to standard LWP::UserAgent object or am I obligated to continue requests using the $oauth2 object? Thanks.</p>\n"}, {"tags": ["perl"], "comments": [{"owner": {"reputation": 78982, "user_id": 1848654, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/84180c0f3c9c04f8b8f0613fc0129dac?s=128&d=identicon&r=PG", "display_name": "melpomene", "link": "https://stackoverflow.com/users/1848654/melpomene"}, "edited": false, "score": 1, "creation_date": 1563348567, "post_id": 57069015, "comment_id": 100665183, "body": "I don&#39;t understand the question. Please show sample input and expected output. Also, always <code>use strict; use warnings;</code> (and don&#39;t name your variables <code>$a</code> or <code>$b</code>, those are special)."}], "answers": [{"tags": [], "owner": {"reputation": 38072, "user_id": 46395, "user_type": "registered", "accept_rate": 71, "profile_image": "https://www.gravatar.com/avatar/5ce828f20abb195ef5d971205ee36c27?s=128&d=identicon&r=PG", "display_name": "daxim", "link": "https://stackoverflow.com/users/46395/daxim"}, "is_accepted": false, "score": 1, "last_activity_date": 1563358039, "creation_date": 1563358039, "answer_id": 57073425, "question_id": 57069015, "link": "https://stackoverflow.com/questions/57069015/perl-programming-how-to-match-value-of-one-column-with-another-column-in-a-giv/57073425#57073425", "title": "Perl Programming - How to match value of one column with another column in a given file", "body": "<pre class=\"lang-sh prettyprint-override\"><code>perl -F'\\t' -lane'print $F[10], \"\\t\", $F[7]-$F[6]' \\\n    &lt; Alu.txt &gt; Alu_lengthsubfam.csv\n</code></pre>\n"}], "owner": {"reputation": 11, "user_id": 11795580, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/fbbbafeea507725e23baef1e5a9a6578?s=128&d=identicon&r=PG&f=1", "display_name": "epigenome_lady", "link": "https://stackoverflow.com/users/11795580/epigenome-lady"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 47, "favorite_count": 0, "closed_date": 1563373416, "answer_count": 1, "score": 0, "last_activity_date": 1563358039, "creation_date": 1563341276, "question_id": 57069015, "link": "https://stackoverflow.com/questions/57069015/perl-programming-how-to-match-value-of-one-column-with-another-column-in-a-giv", "closed_reason": "Duplicate", "title": "Perl Programming - How to match value of one column with another column in a given file", "body": "<p>I am a beginner with Perl programming. The problem I am working on right now is how to get the gene length from a text file. Text file contains the gene name (column 10), start site (column 6), end site (column 7). The length can be derived from the difference of column 6 and 7. But my problem is how to match the gene name (from column 10) with the corresponding difference derived from the difference of column 6 and column 7. Thank you very much!</p>\n\n<pre><code>open (IN, \"Alu.txt\");\nopen (OUT, \"&gt;Alu_lengthsubfam.csv\");\n\nwhile ($a = &lt;IN&gt;){\n    @data = split (/\\t/, $a);\n\n$genelength = $data[7] - $data[6]++;\n$subfam = $data[10]\n}\n    foreach $subfam (0...$#subfam){\n        print OUT \"$subfam, $genelength{$subfam}\\n\";\n}\nclose (IN);\nclose (OUT)\n</code></pre>\n"}, {"tags": ["html", "xml", "perl", "text-processing"], "comments": [{"owner": {"reputation": 137436, "user_id": 415448, "user_type": "registered", "accept_rate": 33, "profile_image": "https://i.stack.imgur.com/P2vVZ.png?s=128&g=1", "display_name": "Michael Kay", "link": "https://stackoverflow.com/users/415448/michael-kay"}, "edited": false, "score": 1, "creation_date": 1563348480, "post_id": 57067500, "comment_id": 100665144, "body": "Do you think it&#39;s more important to do it in one line of code than to make the code correct, robust, readable, and performant?"}], "answers": [{"comments": [{"owner": {"reputation": 784, "user_id": 1118630, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/466905ee415e4cd9667f29eea987f15b?s=128&d=identicon&r=PG", "display_name": "jonah_w", "link": "https://stackoverflow.com/users/1118630/jonah-w"}, "edited": false, "score": 0, "creation_date": 1563436522, "post_id": 57068738, "comment_id": 100701361, "body": "I&#39;m using this: <code>perl -pE&#39;&#47;&lt;p class=&quot;ul1&quot;&gt;\\K[\\s\\S]*?(?=&lt;\\&#47;p&gt;)&#47;; @words=split &#47;\\s*, *&#47;, $&amp;; $new_string=join &quot;, &quot;, map {qq|&lt;a href=&quot;entry:&#47;&#47;$_&quot;&gt;$_&lt;&#47;a&gt;|} @words; $_ =~ s&#47;$&amp;&#47;$new_string&#47;g; &#39; a.txt &gt; b.txt </code> But when there&#39;s brackets in the <code>&lt;p class=&quot;ul1&quot;&gt;</code> tag, it will not be matched. Is there some way around this except for using <code>s{}{}</code> directly. Your answer works good."}, {"owner": {"reputation": 576, "user_id": 5011914, "user_type": "registered", "profile_image": "https://lh6.googleusercontent.com/-VmVVjxIV_Z4/AAAAAAAAAAI/AAAAAAAAAAA/AGDgw-hRfo1mLeBEbuXEzu2dqYltIE6c1Q/mo/photo.jpg?sz=128", "display_name": "k-mx", "link": "https://stackoverflow.com/users/5011914/k-mx"}, "reply_to_user": {"reputation": 784, "user_id": 1118630, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/466905ee415e4cd9667f29eea987f15b?s=128&d=identicon&r=PG", "display_name": "jonah_w", "link": "https://stackoverflow.com/users/1118630/jonah-w"}, "edited": false, "score": 0, "creation_date": 1563438564, "post_id": 57068738, "comment_id": 100702470, "body": "Can you provide example of such input data? One-liners is for throwaway solutions, and if task is rather complex, better write standalone script"}, {"owner": {"reputation": 784, "user_id": 1118630, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/466905ee415e4cd9667f29eea987f15b?s=128&d=identicon&r=PG", "display_name": "jonah_w", "link": "https://stackoverflow.com/users/1118630/jonah-w"}, "edited": false, "score": 0, "creation_date": 1563440033, "post_id": 57068738, "comment_id": 100703238, "body": "<a href=\"https://regex101.com/r/mmtyNB/6\" rel=\"nofollow noreferrer\">regex101.com/r/mmtyNB/6</a> The <code>apart</code> entry has a <code>()</code> in the <code>&lt;p&gt;</code> tag as you can see."}, {"owner": {"reputation": 576, "user_id": 5011914, "user_type": "registered", "profile_image": "https://lh6.googleusercontent.com/-VmVVjxIV_Z4/AAAAAAAAAAI/AAAAAAAAAAA/AGDgw-hRfo1mLeBEbuXEzu2dqYltIE6c1Q/mo/photo.jpg?sz=128", "display_name": "k-mx", "link": "https://stackoverflow.com/users/5011914/k-mx"}, "reply_to_user": {"reputation": 784, "user_id": 1118630, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/466905ee415e4cd9667f29eea987f15b?s=128&d=identicon&r=PG", "display_name": "jonah_w", "link": "https://stackoverflow.com/users/1118630/jonah-w"}, "edited": false, "score": 0, "creation_date": 1563453068, "post_id": 57068738, "comment_id": 100710406, "body": "Matched as <code>&lt;a href=&quot;entry:&#47;&#47;(disconnected)&quot;&gt;(disconnected)&lt;&#47;a&gt;</code>"}, {"owner": {"reputation": 784, "user_id": 1118630, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/466905ee415e4cd9667f29eea987f15b?s=128&d=identicon&r=PG", "display_name": "jonah_w", "link": "https://stackoverflow.com/users/1118630/jonah-w"}, "edited": false, "score": 0, "creation_date": 1563460953, "post_id": 57068738, "comment_id": 100715541, "body": "I&#39;m on macOS, in my trying, it didn&#39;t mark anything\u2026 don&#39;t know why."}, {"owner": {"reputation": 784, "user_id": 1118630, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/466905ee415e4cd9667f29eea987f15b?s=128&d=identicon&r=PG", "display_name": "jonah_w", "link": "https://stackoverflow.com/users/1118630/jonah-w"}, "edited": false, "score": 0, "creation_date": 1563462896, "post_id": 57068738, "comment_id": 100716725, "body": "I posted a new question regarding this problem. <a href=\"https://stackoverflow.com/q/57097625/1118630\">stackoverflow.com/q/57097625/1118630</a>"}], "tags": [], "owner": {"reputation": 576, "user_id": 5011914, "user_type": "registered", "profile_image": "https://lh6.googleusercontent.com/-VmVVjxIV_Z4/AAAAAAAAAAI/AAAAAAAAAAA/AGDgw-hRfo1mLeBEbuXEzu2dqYltIE6c1Q/mo/photo.jpg?sz=128", "display_name": "k-mx", "link": "https://stackoverflow.com/users/5011914/k-mx"}, "is_accepted": false, "score": -1, "last_activity_date": 1563349130, "last_edit_date": 1563349130, "creation_date": 1563339303, "answer_id": 57068738, "question_id": 57067500, "link": "https://stackoverflow.com/questions/57067500/perl-add-a-a-around-words-within-an-html-xml-tag/57068738#57068738", "title": "Perl add &lt;a&gt;&lt;/a&gt; around words within an HTML/XML tag", "body": "<p>One-liner:</p>\n\n<pre><code>cat text | perl -pE 's{&lt;p class=\"ul1\"&gt;\\K.*?(?=&lt;\\/p&gt;)}{ join \", \", map {qq|&lt;a href=\"entry://$_\"&gt;$_&lt;/a&gt;|} split /, */, $&amp; }eg'\n</code></pre>\n"}, {"comments": [{"owner": {"reputation": 8718, "user_id": 5848200, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/a8072aaf76dcb4fe5027964252f16382?s=128&d=identicon&r=PG", "display_name": "Grinnz", "link": "https://stackoverflow.com/users/5848200/grinnz"}, "edited": false, "score": 0, "creation_date": 1563390952, "post_id": 57069498, "comment_id": 100688418, "body": "The new-ish <a href=\"https://metacpan.org/pod/Mojo::DOM#new_tag\" rel=\"nofollow noreferrer\">new_tag</a> method might make generating the <code>&lt;a&gt;</code> tag even nicer with Mojo::DOM. In the current code, the string needs to be HTML-escaped when put into the raw HTML (both times)."}, {"owner": {"reputation": 53041, "user_id": 4653379, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/b3953dbedd0dabff5cbc3db9b0835b14?s=128&d=identicon&r=PG&f=1", "display_name": "zdim", "link": "https://stackoverflow.com/users/4653379/zdim"}, "reply_to_user": {"reputation": 8718, "user_id": 5848200, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/a8072aaf76dcb4fe5027964252f16382?s=128&d=identicon&r=PG", "display_name": "Grinnz", "link": "https://stackoverflow.com/users/5848200/grinnz"}, "edited": false, "score": 0, "creation_date": 1563470953, "post_id": 57069498, "comment_id": 100720863, "body": "@Grinnz Yeah, saw that. Thank you for the comment, I added it.  It is &quot;funny&quot; though that the docs don&#39;t say when this was introduced. Do they expect the user to install Perls one after another to find this out?  Go figure. (Or am I missing something?)"}, {"owner": {"reputation": 8718, "user_id": 5848200, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/a8072aaf76dcb4fe5027964252f16382?s=128&d=identicon&r=PG", "display_name": "Grinnz", "link": "https://stackoverflow.com/users/5848200/grinnz"}, "edited": false, "score": 0, "creation_date": 1563471638, "post_id": 57069498, "comment_id": 100721166, "body": "@zdim The <a href=\"https://metacpan.org/changes/distribution/Mojolicious\" rel=\"nofollow noreferrer\">changelog</a> is pretty easy to search through. Listing when everything in Mojolicious was introduced would be quite the endeavor, the distribution strives to be consistent in all documentation. Not that I think it&#39;s a bad idea. (Also it has nothing to do with Perl version)"}, {"owner": {"reputation": 784, "user_id": 1118630, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/466905ee415e4cd9667f29eea987f15b?s=128&d=identicon&r=PG", "display_name": "jonah_w", "link": "https://stackoverflow.com/users/1118630/jonah-w"}, "edited": false, "score": 0, "creation_date": 1563472185, "post_id": 57069498, "comment_id": 100721401, "body": "Can I make it keep the <code>&lt;&#47;&gt;</code> tag in the output file? because it&#39;s after all part of the source file. I&#39;m using the <code>MOJO::DOM</code> approach."}, {"owner": {"reputation": 53041, "user_id": 4653379, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/b3953dbedd0dabff5cbc3db9b0835b14?s=128&d=identicon&r=PG&f=1", "display_name": "zdim", "link": "https://stackoverflow.com/users/4653379/zdim"}, "reply_to_user": {"reputation": 784, "user_id": 1118630, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/466905ee415e4cd9667f29eea987f15b?s=128&d=identicon&r=PG", "display_name": "jonah_w", "link": "https://stackoverflow.com/users/1118630/jonah-w"}, "edited": false, "score": 0, "creation_date": 1563472409, "post_id": 57069498, "comment_id": 100721497, "body": "@jonah_w Oh, I see that Mojo::DOM dropped that <code>&lt;&#47;&gt;</code>.  That doesn&#39;t add anything to the document (It&#39;s not a valid tag I think?) -- what does it do?  There may be a way to keep it."}, {"owner": {"reputation": 8718, "user_id": 5848200, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/a8072aaf76dcb4fe5027964252f16382?s=128&d=identicon&r=PG", "display_name": "Grinnz", "link": "https://stackoverflow.com/users/5848200/grinnz"}, "reply_to_user": {"reputation": 784, "user_id": 1118630, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/466905ee415e4cd9667f29eea987f15b?s=128&d=identicon&r=PG", "display_name": "jonah_w", "link": "https://stackoverflow.com/users/1118630/jonah-w"}, "edited": false, "score": 0, "creation_date": 1563472428, "post_id": 57069498, "comment_id": 100721505, "body": "@jonah_w No, Mojo::DOM does not preserve invalid HTML."}, {"owner": {"reputation": 53041, "user_id": 4653379, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/b3953dbedd0dabff5cbc3db9b0835b14?s=128&d=identicon&r=PG&f=1", "display_name": "zdim", "link": "https://stackoverflow.com/users/4653379/zdim"}, "reply_to_user": {"reputation": 8718, "user_id": 5848200, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/a8072aaf76dcb4fe5027964252f16382?s=128&d=identicon&r=PG", "display_name": "Grinnz", "link": "https://stackoverflow.com/users/5848200/grinnz"}, "edited": false, "score": 0, "creation_date": 1563472594, "post_id": 57069498, "comment_id": 100721575, "body": "@Grinnz &quot;<i>changelog is pretty easy to search through.</i>&quot; --- fair enough, added a comment, thank you.  However, it should be mentioned; it&#39;s no overhead in any sense since docs <i>need be</i> adjusted when feature-set changes. (For example, this was introduced as experimental -- i&#39;d expect docs to tell me <i>that</i>.  Then it was made stable.  Need to know these things without searching.)"}, {"owner": {"reputation": 8718, "user_id": 5848200, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/a8072aaf76dcb4fe5027964252f16382?s=128&d=identicon&r=PG", "display_name": "Grinnz", "link": "https://stackoverflow.com/users/5848200/grinnz"}, "edited": false, "score": 0, "creation_date": 1563472672, "post_id": 57069498, "comment_id": 100721610, "body": "@zdim I don&#39;t follow. None of these things are the case in the current version; you are viewing the current version&#39;s docs. You should either update to that version of Mojolicious, or look at the docs for the version you&#39;re using."}, {"owner": {"reputation": 784, "user_id": 1118630, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/466905ee415e4cd9667f29eea987f15b?s=128&d=identicon&r=PG", "display_name": "jonah_w", "link": "https://stackoverflow.com/users/1118630/jonah-w"}, "reply_to_user": {"reputation": 8718, "user_id": 5848200, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/a8072aaf76dcb4fe5027964252f16382?s=128&d=identicon&r=PG", "display_name": "Grinnz", "link": "https://stackoverflow.com/users/5848200/grinnz"}, "edited": false, "score": 0, "creation_date": 1563472837, "post_id": 57069498, "comment_id": 100721675, "body": "@zdim @Grinnz I think it&#39;s a special type of <code>html</code> source document made for <code>mdx</code> e-dictionary format. The <code>&lt;&#47;&gt;</code> is to distinguish each headword entry of that dictionary."}, {"owner": {"reputation": 53041, "user_id": 4653379, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/b3953dbedd0dabff5cbc3db9b0835b14?s=128&d=identicon&r=PG&f=1", "display_name": "zdim", "link": "https://stackoverflow.com/users/4653379/zdim"}, "reply_to_user": {"reputation": 8718, "user_id": 5848200, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/a8072aaf76dcb4fe5027964252f16382?s=128&d=identicon&r=PG", "display_name": "Grinnz", "link": "https://stackoverflow.com/users/5848200/grinnz"}, "edited": false, "score": 0, "creation_date": 1563472855, "post_id": 57069498, "comment_id": 100721685, "body": "@Grinnz Well, sure. But I think it&#39;s common that people just fire up the browser and look up (thus the current) docs; I don&#39;t see why it would be hard to add a note once a documentation entry is added/changed.  It&#39;d be just nice to have that.  But yes, you are right I guess -- it&#39;s not required."}, {"owner": {"reputation": 784, "user_id": 1118630, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/466905ee415e4cd9667f29eea987f15b?s=128&d=identicon&r=PG", "display_name": "jonah_w", "link": "https://stackoverflow.com/users/1118630/jonah-w"}, "edited": false, "score": 0, "creation_date": 1563473427, "post_id": 57069498, "comment_id": 100721899, "body": "@zdim <code>$e-&gt;replace( $new );</code> will delete the <code>&lt;p class=&quot;ul1&quot;&gt;</code> tag, I just looked up the document and changed it to <code>$elem-&gt;content( $new );</code> This keeps the <code>&lt;p&gt;</code> tag. Should it be <code>$elem</code>? I can&#39;t find a <code>$e</code> definition."}, {"owner": {"reputation": 53041, "user_id": 4653379, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/b3953dbedd0dabff5cbc3db9b0835b14?s=128&d=identicon&r=PG&f=1", "display_name": "zdim", "link": "https://stackoverflow.com/users/4653379/zdim"}, "reply_to_user": {"reputation": 784, "user_id": 1118630, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/466905ee415e4cd9667f29eea987f15b?s=128&d=identicon&r=PG", "display_name": "jonah_w", "link": "https://stackoverflow.com/users/1118630/jonah-w"}, "edited": false, "score": 0, "creation_date": 1563473439, "post_id": 57069498, "comment_id": 100721907, "body": "@jonah_w Interesting. So is the HTML fragment you show a part of a full HTML document (like what I show at the end), or is that fragment the whole thing to use (outside of any <code>&lt;body&gt;</code> etc) ?  I&#39;m sorry, I don&#39; tknow what that <code>mdx</code> e-dictionary format means."}, {"owner": {"reputation": 53041, "user_id": 4653379, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/b3953dbedd0dabff5cbc3db9b0835b14?s=128&d=identicon&r=PG&f=1", "display_name": "zdim", "link": "https://stackoverflow.com/users/4653379/zdim"}, "reply_to_user": {"reputation": 784, "user_id": 1118630, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/466905ee415e4cd9667f29eea987f15b?s=128&d=identicon&r=PG", "display_name": "jonah_w", "link": "https://stackoverflow.com/users/1118630/jonah-w"}, "edited": false, "score": 0, "creation_date": 1563473524, "post_id": 57069498, "comment_id": 100721946, "body": "@jonah_w Ah, good point!  Yes, it should be <code>$elem</code> -- it&#39;s an editing error. Fixing..."}, {"owner": {"reputation": 784, "user_id": 1118630, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/466905ee415e4cd9667f29eea987f15b?s=128&d=identicon&r=PG", "display_name": "jonah_w", "link": "https://stackoverflow.com/users/1118630/jonah-w"}, "edited": false, "score": 0, "creation_date": 1563473683, "post_id": 57069498, "comment_id": 100722012, "body": "@zdim Yes, it&#39;s the whole thing to use. There&#39;s no <code>&lt;body&gt;</code> or <code>&lt;html&gt;</code> tag in it. After building the source html using a special build tool, an <code>mdx</code> file is created for use in some dictionary app, like GoldenDict."}, {"owner": {"reputation": 53041, "user_id": 4653379, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/b3953dbedd0dabff5cbc3db9b0835b14?s=128&d=identicon&r=PG&f=1", "display_name": "zdim", "link": "https://stackoverflow.com/users/4653379/zdim"}, "reply_to_user": {"reputation": 784, "user_id": 1118630, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/466905ee415e4cd9667f29eea987f15b?s=128&d=identicon&r=PG", "display_name": "jonah_w", "link": "https://stackoverflow.com/users/1118630/jonah-w"}, "edited": false, "score": 0, "creation_date": 1563474121, "post_id": 57069498, "comment_id": 100722196, "body": "@jonah_w Thank you for clarifications.  Will look into how to keep that <code>&lt;&#47;&gt;</code>, and will  adjust the answer anyway (to use given HTML fragment and not a full document from file)."}, {"owner": {"reputation": 8718, "user_id": 5848200, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/a8072aaf76dcb4fe5027964252f16382?s=128&d=identicon&r=PG", "display_name": "Grinnz", "link": "https://stackoverflow.com/users/5848200/grinnz"}, "edited": false, "score": 0, "creation_date": 1563474913, "post_id": 57069498, "comment_id": 100722575, "body": "Unfortunately if keeping the <code>&lt;&#47;&gt;</code> is a requirement, Mojo::DOM will not be sufficient for this job - it&#39;s designed for HTML, not custom formats that work sort of like HTML."}, {"owner": {"reputation": 53041, "user_id": 4653379, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/b3953dbedd0dabff5cbc3db9b0835b14?s=128&d=identicon&r=PG&f=1", "display_name": "zdim", "link": "https://stackoverflow.com/users/4653379/zdim"}, "reply_to_user": {"reputation": 784, "user_id": 1118630, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/466905ee415e4cd9667f29eea987f15b?s=128&d=identicon&r=PG", "display_name": "jonah_w", "link": "https://stackoverflow.com/users/1118630/jonah-w"}, "edited": false, "score": 0, "creation_date": 1563476130, "post_id": 57069498, "comment_id": 100723039, "body": "@jonah_w Yes, this changes things; I&#39;ll look into it. In the meanwhile, perhaps you can try with the approach from <a href=\"https://stackoverflow.com/a/56800341/4653379\">this recent post</a>, using <code>XML::LibXML</code> to parse HTML in a very permissive mode; it tolerates (and works with!) any semantic &quot;tags&quot; (<code>&lt;&gt;</code> things).  Content in XML can be changed/replaced for example like in <a href=\"https://stackoverflow.com/a/41051651/4653379\">this post</a>. (There is also a <code>Marpa</code> based approach given in the first link.)"}, {"owner": {"reputation": 53041, "user_id": 4653379, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/b3953dbedd0dabff5cbc3db9b0835b14?s=128&d=identicon&r=PG&f=1", "display_name": "zdim", "link": "https://stackoverflow.com/users/4653379/zdim"}, "reply_to_user": {"reputation": 784, "user_id": 1118630, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/466905ee415e4cd9667f29eea987f15b?s=128&d=identicon&r=PG", "display_name": "jonah_w", "link": "https://stackoverflow.com/users/1118630/jonah-w"}, "edited": false, "score": 0, "creation_date": 1563522300, "post_id": 57069498, "comment_id": 100735386, "body": "@jonah_w That <code>&lt;&#47;&gt;</code> is particularly tricky for parsers: they all drop it (TreeBuilder, Mojo, XML) and I don&#39;t see how to make them keep it.  (Don&#39;t  even know how to call that in HTML lingo.) Once that&#39;s lost other questions are moot.  However, the <code>Marpa::HTML</code> one kept it (in the first link from the above comment) and I&#39;ll look tomorrow into that.  Otherwise it would actually come down to the (@#$%^) regex."}, {"owner": {"reputation": 784, "user_id": 1118630, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/466905ee415e4cd9667f29eea987f15b?s=128&d=identicon&r=PG", "display_name": "jonah_w", "link": "https://stackoverflow.com/users/1118630/jonah-w"}, "edited": false, "score": 0, "creation_date": 1563545805, "post_id": 57069498, "comment_id": 100747360, "body": "I&#39;ve just tried the methods mentioned in the two posts. <code>LibXML</code> can&#39;t seem to support nodes without a start tag <code>&lt;</code>.  And I can&#39;t get <code>Marpa::HTML</code> to first print the <code>&lt;p&gt;</code> info. p.s. I changed the <code>&#39;key&#39; =&gt; sub {</code> to <code>&#39;p&#39; =&gt; sub {</code>, it doesn&#39;t seem to work."}, {"owner": {"reputation": 784, "user_id": 1118630, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/466905ee415e4cd9667f29eea987f15b?s=128&d=identicon&r=PG", "display_name": "jonah_w", "link": "https://stackoverflow.com/users/1118630/jonah-w"}, "edited": false, "score": 0, "creation_date": 1563546084, "post_id": 57069498, "comment_id": 100747515, "body": "Seems like I did something wrong with the <code>Marpa::HTML</code>. After fixing it, It now displays the <code>&lt;p&gt;</code> info. will look into Marpa more."}, {"owner": {"reputation": 53041, "user_id": 4653379, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/b3953dbedd0dabff5cbc3db9b0835b14?s=128&d=identicon&r=PG&f=1", "display_name": "zdim", "link": "https://stackoverflow.com/users/4653379/zdim"}, "reply_to_user": {"reputation": 784, "user_id": 1118630, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/466905ee415e4cd9667f29eea987f15b?s=128&d=identicon&r=PG", "display_name": "jonah_w", "link": "https://stackoverflow.com/users/1118630/jonah-w"}, "edited": false, "score": 0, "creation_date": 1563608229, "post_id": 57069498, "comment_id": 100763122, "body": "@jonah_w Added (to the end) a way to do this exactly as needed using <code>Marpa::HTML</code>"}, {"owner": {"reputation": 784, "user_id": 1118630, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/466905ee415e4cd9667f29eea987f15b?s=128&d=identicon&r=PG", "display_name": "jonah_w", "link": "https://stackoverflow.com/users/1118630/jonah-w"}, "edited": false, "score": 0, "creation_date": 1563615020, "post_id": 57069498, "comment_id": 100764376, "body": "@zdim This is so cool. I love this solution. I don&#39;t know if <code>Marpa::HTML</code> has a way of saving the changed content to a new file. For now I&#39;m using <code>open my $out, &#39;&gt;&#39;, &#39;out.txt&#39;;     print {$out} $$marpa;</code> Working great. Thanks @zdim"}, {"owner": {"reputation": 53041, "user_id": 4653379, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/b3953dbedd0dabff5cbc3db9b0835b14?s=128&d=identicon&r=PG&f=1", "display_name": "zdim", "link": "https://stackoverflow.com/users/4653379/zdim"}, "reply_to_user": {"reputation": 784, "user_id": 1118630, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/466905ee415e4cd9667f29eea987f15b?s=128&d=identicon&r=PG", "display_name": "jonah_w", "link": "https://stackoverflow.com/users/1118630/jonah-w"}, "edited": false, "score": 0, "creation_date": 1564206242, "post_id": 57069498, "comment_id": 100962682, "body": "@jonah_w  Great, glad you like it :).  It&#39;s a super useful tool since it&#39;s so flexible. I don&#39;t think it can save, haven&#39;t seen anything similar to that."}], "tags": [], "owner": {"reputation": 53041, "user_id": 4653379, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/b3953dbedd0dabff5cbc3db9b0835b14?s=128&d=identicon&r=PG&f=1", "display_name": "zdim", "link": "https://stackoverflow.com/users/4653379/zdim"}, "is_accepted": true, "score": 5, "last_activity_date": 1588918930, "last_edit_date": 1588918930, "creation_date": 1563343734, "answer_id": 57069498, "question_id": 57067500, "link": "https://stackoverflow.com/questions/57067500/perl-add-a-a-around-words-within-an-html-xml-tag/57069498#57069498", "title": "Perl add &lt;a&gt;&lt;/a&gt; around words within an HTML/XML tag", "body": "<p>Parse the file using a module and iterate over the elements you need (<code>&lt;p&gt;</code> of class <code>ul1</code>). Extract those comma-separated phrases from each and wrap links around them; then replace the element with that new content. Write the changed tree out in the end.</p>\n\n<p>Using <a href=\"https://metacpan.org/pod/release/CJM/HTML-Tree-5.03/lib/HTML/TreeBuilder.pm\" rel=\"nofollow noreferrer\">HTML::TreeBuilder</a> (with its workhorse <a href=\"https://metacpan.org/pod/release/CJM/HTML-Tree-5.03/lib/HTML/Element.pm\" rel=\"nofollow noreferrer\">HTML::Element</a>)</p>\n\n<pre><code>use warnings;\nuse strict;\nuse feature 'say';\n\nuse HTML::Entities;\nuse HTML::TreeBuilder;\n\nmy $file = shift // die \"Usage: $0 file\\n\";\n\nmy $tree = HTML::TreeBuilder-&gt;new_from_file($file);\n\nforeach my $elem ($tree-&gt;look_down(_tag =&gt; \"p\", class =&gt; \"ul1\")) {   \n    my @new_content;\n    for ($elem-&gt;content_list) { \n        my @w = split /\\s*,\\s*/; \n        my $wrapped = join \", \", \n            map { qq(&lt;a href=\"entry://$_\"&gt;).$_.q(&lt;/a&gt;) } @w; \n        push @new_content, $wrapped;\n    }\n    $elem-&gt;delete_content;\n    $elem-&gt;push_content( @new_content );\n}; \n\nsay decode_entities $tree-&gt;as_HTML; \n</code></pre>\n\n<p>In your case an element (<code>$elem</code>) will have one item in the <code>content_list</code> so you don't have to collect modified content into an array (<code>@new_content</code>) but can process that one piece only, what simplifies the code.  Working with a list as above doesn't hurt of course.</p>\n\n<p>I redirect the output of this program to an <code>.html</code> file.  The generated file is qouite frugal on newlines. If pretty HTML matters make a pass with a tool like <a href=\"https://metacpan.org/pod/HTML::Tidy\" rel=\"nofollow noreferrer\">HTML::Tidy</a> or <a href=\"https://metacpan.org/pod/HTML::PrettyPrinter\" rel=\"nofollow noreferrer\">HTML::PrettyPrinter</a>.</p>\n\n<p>In a one-liner?  Nah, it's too much. And please don't use regex as there's trouble down the road; it needs close work to get it right, is easy to end up buggy, is sensitive to smallest details, and brittle for even slightest changes in input. And that's when it <em>can</em> do the job. There are reasons for libraries.</p>\n\n<p>Another good tool for this job is <a href=\"https://metacpan.org/pod/Mojo::DOM\" rel=\"nofollow noreferrer\">Mojo::DOM</a>. For example</p>\n\n<pre><code>use Mojo::DOM;\nuse Path::Tiny;  # only to read the file into a string easily\n\nmy $html = path($file)-&gt;slurp;\n\nmy $dom = Mojo::DOM-&gt;new($html);\n\nforeach my $elem ($dom-&gt;find('p.ul1')-&gt;each) {\n    my @w = split /,/, $elem-&gt;text;\n    my $new = join ', ',\n        map { qq(&lt;a href=\"entry://$_\"&gt;).$_.q(&lt;/a&gt;) } @w;\n    $elem-&gt;replace( $new );\n}\n\nsay $dom;\n</code></pre>\n\n<p>Produces the same HTML as above (just nicer, and note no need to deal with entities).</p>\n\n<p>Newer module versions provide <a href=\"https://metacpan.org/pod/Mojo::DOM#new_tag\" rel=\"nofollow noreferrer\">new_tag</a> method with which the additional link above is made as</p>\n\n<pre><code>my $new = join ', ', \n   map { $e-&gt;new_tag('a', 'href' =&gt; \"entry://$_\", $_) } @w; \n</code></pre>\n\n<p>what takes care of some subtle needs (HTML escaping for one). The main docs <em>don't say</em> when this method was added, see <a href=\"https://metacpan.org/changes/distribution/Mojolicious\" rel=\"nofollow noreferrer\">changelog</a> (May 2018, so supposedly in v5.28; it works with my 5.29.2). </p>\n\n<p>I padded the shown sample to this file for testing:</p>\n\n<pre class=\"lang-none prettyprint-override\"><code>&lt;!DOCTYPE html&gt;  &lt;title&gt;Eye color&lt;/title&gt; &lt;body&gt;\n&lt;p class=\"ul\"&gt;Eye color, color&lt;/p&gt; \n&lt;p class=\"ul1\"&gt;blue, cornflower blue, steely blue&lt;/p&gt; \n&lt;p class=\"ul1\"&gt;velvet brown&lt;/p&gt; &lt;link rel=\"stylesheet\" href=\"a.css\"&gt;&lt;/&gt;\nweasel\n&lt;p class=\"ul\"&gt;weasel&lt;/p&gt; \n&lt;p class=\"ul1\"&gt;musteline&lt;/p&gt; &lt;link rel=\"stylesheet\" href=\"a.css\"&gt;&lt;/&gt;\n&lt;/body&gt; &lt;/html&gt;\n</code></pre>\n\n<hr>\n\n<p><strong>Update</strong>  &nbsp; It's been clarified that the given markup snippet isn't merely a fragment of a presumably full HTML document but that it is a file (as stated) that stands as shown, as a custom format using HTML; apart from the required changes the rest of it need be preserved.</p>\n\n<p>A particularly unpleasant detail proves to be the <code>&lt;/&gt;</code> part; each of <code>HTML::TreeBuilder</code>, <code>Mojo::DOM</code>, and <code>XML::LibXML</code><sup>&dagger;</sup> discards it while parsing. I couldn't find a way to make them keep that piece.</p>\n\n<p>It was <a href=\"https://metacpan.org/pod/release/JKEGL/Marpa-HTML-0.112000/lib/Marpa/HTML.pm\" rel=\"nofollow noreferrer\">Marpa::HTML</a> that processed the whole fragment as required, changing what was asked while leaving alone the rest of it.</p>\n\n<pre><code>use warnings;\nuse strict;\nuse feature 'say';\nuse Path::Tiny;\n\nuse Marpa::HTML qw(html);\n\nmy $file = shift // die \"Usage: $0 file\\n\";\nmy $html = path($file)-&gt;slurp;\n\nmy $marpa = Marpa::HTML::html( \n    \\$html,\n    {\n        'p.ul1' =&gt; sub {\n            return join ', ', \n                map { qq(&lt;a href=\"entry://$_\"&gt;).$_.q(&lt;/a&gt;) } \n                split /\\s*,\\s*/, Marpa::HTML::contents();\n        },\n    }\n);  \n\nsay $$marpa; \n</code></pre>\n\n<p>The processing of the <code>&lt;p&gt;</code> tags of class <code>ul1</code> is the same as before: split the content on comma and wrap each piece into an <code>&lt;a&gt;</code> tag, then join them back with <code>,</code></p>\n\n<p>This prints (with added line-breaks and indentation for readability)</p>\n\n<pre class=\"lang-none prettyprint-override\"><code>Eye color\n&lt;p class=\"ul\"&gt;Eye color, color&lt;/p&gt; \n&lt;a href=\"entry://blue\"&gt;blue&lt;/a&gt;, \n    &lt;a href=\"entry://cornflower blue\"&gt;cornflower blue&lt;/a&gt;, \n    &lt;a href=\"entry://steely blue\"&gt;steely blue&lt;/a&gt; \n    &lt;a href=\"entry://velvet brown\"&gt;velvet brown&lt;/a&gt; \n&lt;link rel=\"stylesheet\" href=\"a.css\"&gt;\n&lt;/&gt;\nweasel\n&lt;p class=\"ul\"&gt;weasel&lt;/p&gt; &lt;a href=\"entry://musteline\"&gt;musteline&lt;/a&gt; \n&lt;link rel=\"stylesheet\" href=\"a.css\"&gt;\n&lt;/&gt;\n</code></pre>\n\n<p>It is the overall approach of this module that is suited for a task like this</p>\n\n<blockquote>\n  <p><code>Marpa::HTML</code> is an extremely liberal HTML parser. <code>Marpa::HTML</code> does not reject any documents, no mater how poorly they fit the HTML standards.</p>\n</blockquote>\n\n<p>Here it processed a custom piece of HTML-like markup, leaving things like <code>&lt;/&gt;</code> in place.</p>\n\n<hr>\n\n<p><sup>&dagger;</sup>&thinsp;\nSee <a href=\"https://stackoverflow.com/a/56800341/4653379\">this post</a> for an example of very permissive processing of HTML with <code>XML::LibXML</code></p>\n"}, {"tags": [], "owner": {"reputation": 38072, "user_id": 46395, "user_type": "registered", "accept_rate": 71, "profile_image": "https://www.gravatar.com/avatar/5ce828f20abb195ef5d971205ee36c27?s=128&d=identicon&r=PG", "display_name": "daxim", "link": "https://stackoverflow.com/users/46395/daxim"}, "is_accepted": false, "score": 1, "last_activity_date": 1563357623, "creation_date": 1563357623, "answer_id": 57073278, "question_id": 57067500, "link": "https://stackoverflow.com/questions/57067500/perl-add-a-a-around-words-within-an-html-xml-tag/57073278#57073278", "title": "Perl add &lt;a&gt;&lt;/a&gt; around words within an HTML/XML tag", "body": "<pre class=\"lang-sh prettyprint-override\"><code>perl -0777 -MWeb::Query=wq -lne'\n    my $w = wq $_; my $sep = \", \";\n    $w-&gt;filter(\"p.ul1\")-&gt;each(sub {\n        my (undef, $e) = @_;\n        $e-&gt;html(join $sep, map {\n            qq(&lt;a href=\"entry://$_\"&gt;$_&lt;/a&gt;)\n        } split $sep, $e-&gt;text);\n    });\n    print $w-&gt;as_html;\n'\n</code></pre>\n"}], "owner": {"reputation": 784, "user_id": 1118630, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/466905ee415e4cd9667f29eea987f15b?s=128&d=identicon&r=PG", "display_name": "jonah_w", "link": "https://stackoverflow.com/users/1118630/jonah-w"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 254, "favorite_count": 0, "accepted_answer_id": 57069498, "answer_count": 3, "score": 1, "last_activity_date": 1588918930, "creation_date": 1563328327, "last_edit_date": 1563329649, "question_id": 57067500, "link": "https://stackoverflow.com/questions/57067500/perl-add-a-a-around-words-within-an-html-xml-tag", "title": "Perl add &lt;a&gt;&lt;/a&gt; around words within an HTML/XML tag", "body": "<p>I have a file formatted like this one:</p>\n\n\n\n<pre><code>Eye color\n&lt;p class=\"ul\"&gt;Eye color, color&lt;/p&gt; &lt;p class=\"ul1\"&gt;blue, cornflower blue, steely blue&lt;/p&gt; &lt;p class=\"ul1\"&gt;velvet brown&lt;/p&gt; &lt;link rel=\"stylesheet\" href=\"a.css\"&gt;\n&lt;/&gt;\nweasel\n&lt;p class=\"ul\"&gt;weasel&lt;/p&gt; &lt;p class=\"ul1\"&gt;musteline&lt;/p&gt; &lt;link rel=\"stylesheet\" href=\"a.css\"&gt;\n&lt;/&gt;\n</code></pre>\n\n<p>Each word within the <code>&lt;p class=\"ul1\"&gt;</code> separated by <code>,</code>should be wrapped in an <code>&lt;a&gt;</code> tag, like this:</p>\n\n\n\n<pre><code>Eye color\n&lt;p class=\"ul\"&gt;Eye color, color&lt;/p&gt; &lt;p class=\"ul1\"&gt;&lt;a href=\"entry://blue\"&gt;blue&lt;/a&gt;, &lt;a href=\"entry://cornflower blue\"&gt;cornflower blue&lt;/a&gt;, &lt;a href=\"entry://steely blue\"&gt;steely blue&lt;/a&gt;&lt;/p&gt; &lt;p class=\"ul1\"&gt;&lt;a href=\"entry://velvet brown\"&gt;velvet brown&lt;/a&gt;&lt;/p&gt; &lt;link rel=\"stylesheet\" href=\"a.css\"&gt;\n&lt;/&gt;\nweasel\n&lt;p class=\"ul\"&gt;weasel&lt;/p&gt; &lt;p class=\"ul1\"&gt;&lt;a href=\"entry://musteline\"&gt;musteline&lt;/a&gt;&lt;/p&gt; &lt;link rel=\"stylesheet\" href=\"a.css\"&gt;\n&lt;/&gt;\n</code></pre>\n\n<blockquote>\n  <p>There could be one or several words within the <code>&lt;p class=\"ul1\"&gt;</code> tag.</p>\n</blockquote>\n\n<p>Is this possible in <code>Perl</code> one-liner?</p>\n\n<p>Thanks in advance. Any help is appreciated.</p>\n"}, {"tags": ["perl"], "comments": [{"owner": {"reputation": 320771, "user_id": 589924, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/b2cf53d5a3d25f95c0db4e025aed4153?s=128&d=identicon&r=PG", "display_name": "ikegami", "link": "https://stackoverflow.com/users/589924/ikegami"}, "edited": false, "score": 2, "creation_date": 1563331545, "post_id": 57067397, "comment_id": 100660088, "body": "&quot;<i>The auto-increment operator has a little extra builtin magic to it. If you increment a variable that is numeric, or that has ever been used in a numeric context, you get a normal increment. If, however, the variable has been used in only string contexts since it was set, and has a value that is not the empty string and matches the pattern <code>&#47;^[a-zA-Z]*[0-9]*\\z&#47;</code>, the increment is done as a string, preserving each character within its range, with carry&quot;</i> The value in <code>$v</code> doesn&#39;t match the pattern that activates the &quot;magic&quot; string increment."}, {"owner": {"reputation": 320771, "user_id": 589924, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/b2cf53d5a3d25f95c0db4e025aed4153?s=128&d=identicon&r=PG", "display_name": "ikegami", "link": "https://stackoverflow.com/users/589924/ikegami"}, "edited": false, "score": 0, "creation_date": 1563333933, "post_id": 57067397, "comment_id": 100660469, "body": "Besides, you have a mix of lowercase and uppercase letters in your string, so it doesn&#39;t make sense to use <code>++</code>; it couldn&#39;t possibly do what you want (whatever that is)."}], "answers": [{"tags": [], "owner": {"reputation": 15, "user_id": 1697581, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/zyySw.jpg?s=128&g=1", "display_name": "aod", "link": "https://stackoverflow.com/users/1697581/aod"}, "is_accepted": false, "score": 0, "last_activity_date": 1563412699, "creation_date": 1563412699, "answer_id": 57085829, "question_id": 57067397, "link": "https://stackoverflow.com/questions/57067397/incrementing-string-by-one-with-perl/57085829#57085829", "title": "Incrementing String by one with Perl", "body": "<p>As ikegami mentioned, perl does not interpret the second string as a number.\nSo you could do</p>\n\n<pre><code>use strict;\nuse warnings;\n\nmy $v='AAAAAmGJoD1dlkkt';\nmy $v = scalar $v;\nprint ++$v;\n</code></pre>\n\n<p>Now if you want to add \"1\" to the end of the string, you should this</p>\n\n<pre><code>$v .= '1';\n</code></pre>\n"}], "owner": {"reputation": 3045, "user_id": 951615, "user_type": "registered", "accept_rate": 54, "profile_image": "https://www.gravatar.com/avatar/32f59de3e1040fae90a803448e43316f?s=128&d=identicon&r=PG", "display_name": "smith", "link": "https://stackoverflow.com/users/951615/smith"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 113, "favorite_count": 0, "answer_count": 1, "score": -1, "last_activity_date": 1563412699, "creation_date": 1563327315, "question_id": 57067397, "link": "https://stackoverflow.com/questions/57067397/incrementing-string-by-one-with-perl", "title": "Incrementing String by one with Perl", "body": "<p>why this perl code increment $v string by 1</p>\n\n<pre><code> use strict;\n    use warnings;\n\n   my $v='AAAAAYAQUypALsDz';\n\n    print ++$v\n</code></pre>\n\n<p>while the below is not:</p>\n\n<pre><code>use strict;\nuse warnings;\n\n\nmy $v='AAAAAmGJoD1dlkkt';\n    print ++$v\n</code></pre>\n\n<p>and i get Argument \"AAAAAmGJoD1dlkkt\" isn't numeric in preincrement (++)</p>\n\n<p>any idea why this happens and how to increment such string by 1 using Perl?</p>\n"}, {"tags": ["perl", "html-treebuilder"], "answers": [{"comments": [{"owner": {"reputation": 117, "user_id": 5774863, "user_type": "registered", "accept_rate": 50, "profile_image": "https://www.gravatar.com/avatar/486d6286fe28dd5cf45e10328284e4a4?s=128&d=identicon&r=PG&f=1", "display_name": "Shang Zhang", "link": "https://stackoverflow.com/users/5774863/shang-zhang"}, "edited": false, "score": 0, "creation_date": 1563320670, "post_id": 57066682, "comment_id": 100658244, "body": "Thanks Jim.  I will read thru the documentation fully.   But I also tried find(&quot;section&quot;) method as well, which also found nothing.   So it appears that &quot;section&quot; is not regarded as a valid tag?   And &lt;section attrname=&quot;section&quot;&gt; is not regarded as an element.   Sorry for my lack of understanding on HTML basics."}], "tags": [], "owner": {"reputation": 80882, "user_id": 18157, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/4d3de78b198076dd5a5006abd17cb0f8?s=128&d=identicon&r=PG&f=1", "display_name": "Jim Garrison", "link": "https://stackoverflow.com/users/18157/jim-garrison"}, "is_accepted": false, "score": 3, "last_activity_date": 1563319851, "creation_date": 1563319851, "answer_id": 57066682, "question_id": 57066609, "link": "https://stackoverflow.com/questions/57066609/why-does-look-down-method-in-htmlelement-fail-to-find-section-elements/57066682#57066682", "title": "Why does look_down method in HTML::Element fail to find &lt;section&gt; elements?", "body": "<pre><code>my @divs = $tree-&gt;look_down('attrname', 'div');\nprint \"number of div elements found = \", scalar(@divs), \"\\n\";\n</code></pre>\n\n<p>This found one element because it matched the <strong><em>attribute</em></strong> <code>attrname</code> with value <code>div</code> that happened to be on <code>&lt;div&gt;</code> tag.</p>\n\n<pre><code>my @sections = $tree-&gt;look_down('attrname', 'section');\nprint \"number of section elements found = \", scalar(@sections), \"\\n\";\n</code></pre>\n\n<p>This matches nothing because there's no tag with an attribute named <code>attrname</code> with value <code>section</code>.</p>\n\n<p>They should be </p>\n\n<pre><code>my @divs = $tree-&gt;look_down(_tag =&gt; 'div');\n...\nmy @sections = $tree-&gt;look_down(_tag =&gt; 'section');\n</code></pre>\n\n<p>This is all somewhat obtusely explained in the <a href=\"https://metacpan.org/pod/HTML::Element#look_down\" rel=\"nofollow noreferrer\">HTML::Element#lookdown</a> documentation.  There's no clear explanation of what a \"criteria\" is, and you'd have to read the entire page to find the pseudo-attribute <code>_tag</code> to refer to the tag name... but then carefully reading the entire page would probably save you hours of frustration in the long run :-)</p>\n"}, {"comments": [{"owner": {"reputation": 117, "user_id": 5774863, "user_type": "registered", "accept_rate": 50, "profile_image": "https://www.gravatar.com/avatar/486d6286fe28dd5cf45e10328284e4a4?s=128&d=identicon&r=PG&f=1", "display_name": "Shang Zhang", "link": "https://stackoverflow.com/users/5774863/shang-zhang"}, "edited": false, "score": 0, "creation_date": 1563323964, "post_id": 57066922, "comment_id": 100658841, "body": "Thanks Hakon.  You are right that it seems the problem is that &lt;section&gt; is regarded as an unknown tag."}], "tags": [], "owner": {"reputation": 32176, "user_id": 2173773, "user_type": "registered", "accept_rate": 86, "profile_image": "https://i.stack.imgur.com/M8yh6.jpg?s=128&g=1", "display_name": "H&#229;kon H&#230;gland", "link": "https://stackoverflow.com/users/2173773/h%c3%a5kon-h%c3%a6gland"}, "is_accepted": true, "score": 2, "last_activity_date": 1563322102, "creation_date": 1563322102, "answer_id": 57066922, "question_id": 57066609, "link": "https://stackoverflow.com/questions/57066609/why-does-look-down-method-in-htmlelement-fail-to-find-section-elements/57066922#57066922", "title": "Why does look_down method in HTML::Element fail to find &lt;section&gt; elements?", "body": "<p>This worked for me:</p>\n\n<pre><code>my $tree = HTML::TreeBuilder-&gt;new;\n$tree-&gt;ignore_unknown(0);  # &lt;-- Include unknown elements in tree\n$tree-&gt;parse($html);\nmy @divs = $tree-&gt;look_down('attrname', 'div');\nmy @sections = $tree-&gt;look_down('attrname', 'section');\nprint \"number of div elements found = \", scalar(@divs), \"\\n\";\nprint \"number of section elements found = \", scalar(@sections), \"\\n\";\n</code></pre>\n\n<p><strong>Output</strong>:</p>\n\n<pre><code>number of div elements found = 1\nnumber of section elements found = 1\n</code></pre>\n"}], "owner": {"reputation": 117, "user_id": 5774863, "user_type": "registered", "accept_rate": 50, "profile_image": "https://www.gravatar.com/avatar/486d6286fe28dd5cf45e10328284e4a4?s=128&d=identicon&r=PG&f=1", "display_name": "Shang Zhang", "link": "https://stackoverflow.com/users/5774863/shang-zhang"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 132, "favorite_count": 0, "accepted_answer_id": 57066922, "answer_count": 2, "score": 0, "last_activity_date": 1563322102, "creation_date": 1563319190, "last_edit_date": 1563319783, "question_id": 57066609, "link": "https://stackoverflow.com/questions/57066609/why-does-look-down-method-in-htmlelement-fail-to-find-section-elements", "title": "Why does look_down method in HTML::Element fail to find &lt;section&gt; elements?", "body": "<p>The code below shows that TreeBuilder method look_down cannot find the \"section\" element.  Why?</p>\n\n<pre><code>use strict;\nuse warnings;\nuse HTML::TreeBuilder;\n\nmy $html =&lt;&lt;'END_HTML';\n&lt;html&gt;\n&lt;head&gt;&lt;title&gt;&lt;/title&gt;&lt;/head&gt;\n&lt;body&gt;\n&lt;div attrname=\"div\"&gt;\n&lt;section attrname=\"section\"&gt;\n&lt;/section&gt;\n&lt;/div&gt;\n&lt;/body&gt;\n&lt;/html&gt;\nEND_HTML\n\nmy $tree = HTML::TreeBuilder-&gt;new_from_content($html);\n\nmy @divs = $tree-&gt;look_down('attrname', 'div');\nprint \"number of div elements found = \", scalar(@divs), \"\\n\";\n\nmy @sections = $tree-&gt;look_down('attrname', 'section');\nprint \"number of section elements found = \", scalar(@sections), \"\\n\";\n\n$tree-&gt;delete();\n</code></pre>\n\n<p>Output:\n    number of div elements found = 1\n    number of section elements found = 0</p>\n"}, {"tags": ["perl"], "comments": [{"owner": {"reputation": 32176, "user_id": 2173773, "user_type": "registered", "accept_rate": 86, "profile_image": "https://i.stack.imgur.com/M8yh6.jpg?s=128&g=1", "display_name": "H&#229;kon H&#230;gland", "link": "https://stackoverflow.com/users/2173773/h%c3%a5kon-h%c3%a6gland"}, "edited": false, "score": 0, "creation_date": 1563307233, "post_id": 57064484, "comment_id": 100654363, "body": "What command/script did you run to get the error? Where did <code>make install</code> install the module?"}, {"owner": {"reputation": 89568, "user_id": 3081018, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/Z2NYm.png?s=128&g=1", "display_name": "Steffen Ullrich", "link": "https://stackoverflow.com/users/3081018/steffen-ullrich"}, "edited": false, "score": 0, "creation_date": 1563310491, "post_id": 57064484, "comment_id": 100655662, "body": "Can you only see it or can you also read it with the permissions of the same user who you are running the script with?"}, {"owner": {"reputation": 4191, "user_id": 1466640, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/c0630f2d5ac5fb844675c58d3d2dfa57?s=128&d=identicon&r=PG&f=1", "display_name": "AKHolland", "link": "https://stackoverflow.com/users/1466640/akholland"}, "edited": false, "score": 0, "creation_date": 1563310636, "post_id": 57064484, "comment_id": 100655734, "body": "What steps did you use to manually install the module? It has XS components, so it would be easy to mess up."}, {"owner": {"reputation": 15, "user_id": 4167050, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/12ff55940ff29c76ac849fbe33a0db80?s=128&d=identicon&r=PG&f=1", "display_name": "Sean", "link": "https://stackoverflow.com/users/4167050/sean"}, "reply_to_user": {"reputation": 32176, "user_id": 2173773, "user_type": "registered", "accept_rate": 86, "profile_image": "https://i.stack.imgur.com/M8yh6.jpg?s=128&g=1", "display_name": "H&#229;kon H&#230;gland", "link": "https://stackoverflow.com/users/2173773/h%c3%a5kon-h%c3%a6gland"}, "edited": false, "score": 0, "creation_date": 1563311455, "post_id": 57064484, "comment_id": 100656077, "body": "@H&#229;konH&#230;gland it failed on OAuth.pm trying to use it"}, {"owner": {"reputation": 32176, "user_id": 2173773, "user_type": "registered", "accept_rate": 86, "profile_image": "https://i.stack.imgur.com/M8yh6.jpg?s=128&g=1", "display_name": "H&#229;kon H&#230;gland", "link": "https://stackoverflow.com/users/2173773/h%c3%a5kon-h%c3%a6gland"}, "edited": false, "score": 0, "creation_date": 1563312243, "post_id": 57064484, "comment_id": 100656307, "body": "@Sean So you have a script that has  a line <code>use  OAuth</code>, and then the script fails?"}, {"owner": {"reputation": 15, "user_id": 4167050, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/12ff55940ff29c76ac849fbe33a0db80?s=128&d=identicon&r=PG&f=1", "display_name": "Sean", "link": "https://stackoverflow.com/users/4167050/sean"}, "reply_to_user": {"reputation": 4191, "user_id": 1466640, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/c0630f2d5ac5fb844675c58d3d2dfa57?s=128&d=identicon&r=PG&f=1", "display_name": "AKHolland", "link": "https://stackoverflow.com/users/1466640/akholland"}, "edited": false, "score": 0, "creation_date": 1563312253, "post_id": 57064484, "comment_id": 100656314, "body": "@AKHolland make, make test, make install"}, {"owner": {"reputation": 32176, "user_id": 2173773, "user_type": "registered", "accept_rate": 86, "profile_image": "https://i.stack.imgur.com/M8yh6.jpg?s=128&g=1", "display_name": "H&#229;kon H&#230;gland", "link": "https://stackoverflow.com/users/2173773/h%c3%a5kon-h%c3%a6gland"}, "edited": false, "score": 0, "creation_date": 1563312440, "post_id": 57064484, "comment_id": 100656370, "body": "@Sean Did you run <code>perl Makefile.PL</code> before <code>make</code>?"}, {"owner": {"reputation": 15, "user_id": 4167050, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/12ff55940ff29c76ac849fbe33a0db80?s=128&d=identicon&r=PG&f=1", "display_name": "Sean", "link": "https://stackoverflow.com/users/4167050/sean"}, "reply_to_user": {"reputation": 32176, "user_id": 2173773, "user_type": "registered", "accept_rate": 86, "profile_image": "https://i.stack.imgur.com/M8yh6.jpg?s=128&g=1", "display_name": "H&#229;kon H&#230;gland", "link": "https://stackoverflow.com/users/2173773/h%c3%a5kon-h%c3%a6gland"}, "edited": false, "score": 0, "creation_date": 1563317006, "post_id": 57064484, "comment_id": 100657537, "body": "@H&#229;konH&#230;gland I did. I&#39;ll double check the test as I was working fast."}, {"owner": {"reputation": 15, "user_id": 4167050, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/12ff55940ff29c76ac849fbe33a0db80?s=128&d=identicon&r=PG&f=1", "display_name": "Sean", "link": "https://stackoverflow.com/users/4167050/sean"}, "edited": false, "score": 0, "creation_date": 1563317975, "post_id": 57064484, "comment_id": 100657764, "body": "Crypt::OpenSSL::RSA does have test failures, and I&#39;m looking at those. But, would that cause the issue I&#39;m having?"}, {"owner": {"reputation": 32176, "user_id": 2173773, "user_type": "registered", "accept_rate": 86, "profile_image": "https://i.stack.imgur.com/M8yh6.jpg?s=128&g=1", "display_name": "H&#229;kon H&#230;gland", "link": "https://stackoverflow.com/users/2173773/h%c3%a5kon-h%c3%a6gland"}, "edited": false, "score": 0, "creation_date": 1563318758, "post_id": 57064484, "comment_id": 100657892, "body": "What errors did you get?"}, {"owner": {"reputation": 15, "user_id": 4167050, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/12ff55940ff29c76ac849fbe33a0db80?s=128&d=identicon&r=PG&f=1", "display_name": "Sean", "link": "https://stackoverflow.com/users/4167050/sean"}, "edited": false, "score": 0, "creation_date": 1563319685, "post_id": 57064484, "comment_id": 100658075, "body": "t/bignum.t .................. Can&#39;t load &#39;/tmp/Crypt-OpenSSL-RSA-0.31/blib/arch/auto/Crypt/OpenSSL/RS&zwnj;&#8203;A/RSA.so&#39; for module Crypt::OpenSSL::RSA: /tmp/Crypt-OpenSSL-RSA-0.31/blib/arch/auto/Crypt/OpenSSL/RSA&zwnj;&#8203;/RSA.so: failed to map segment from shared object: Operation not permitted at /usr/lib64/perl5/DynaLoader.pm line 190.  at t/bignum.t line 4. Compilation failed in require at t/bignum.t line 4. BEGIN failed--compilation aborted at t/bignum.t line 4."}, {"owner": {"reputation": 15, "user_id": 4167050, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/12ff55940ff29c76ac849fbe33a0db80?s=128&d=identicon&r=PG&f=1", "display_name": "Sean", "link": "https://stackoverflow.com/users/4167050/sean"}, "edited": false, "score": 0, "creation_date": 1563320959, "post_id": 57064484, "comment_id": 100658309, "body": "Each of the failed tests are failing on this same line <code>use Crypt::OpenSSL::RSA;</code> ... I don&#39;t understand why this would cause a test failure. Also, I have no idea why this appears to be similar to the issue in my original post. Even though <code>Crypt&#47;OpenSSL&#47;RSA.pm</code> exists in a valid directory within @INC... nothing can find it"}, {"owner": {"reputation": 320771, "user_id": 589924, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/b2cf53d5a3d25f95c0db4e025aed4153?s=128&d=identicon&r=PG", "display_name": "ikegami", "link": "https://stackoverflow.com/users/589924/ikegami"}, "edited": false, "score": 0, "creation_date": 1563335490, "post_id": 57064484, "comment_id": 100660725, "body": "The situation in the Question sounds like a permission problem. You say the file is there, but the user running the script probably can&#39;t see that it is."}], "answers": [{"comments": [{"owner": {"reputation": 15, "user_id": 4167050, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/12ff55940ff29c76ac849fbe33a0db80?s=128&d=identicon&r=PG&f=1", "display_name": "Sean", "link": "https://stackoverflow.com/users/4167050/sean"}, "edited": false, "score": 0, "creation_date": 1563316956, "post_id": 57065753, "comment_id": 100657526, "body": "Thanks for the fixes! I hadn&#39;t started tackling the syntax errors yet. Regarding the OAuth.pm, it resides in a directory included in @INC and loads fine. It&#39;s when OAuth.pm tries to load Crypt-OpenSSL-RSA that I get the error. I loaded Crypt-OpenSSL-RSA manually."}, {"owner": {"reputation": 32176, "user_id": 2173773, "user_type": "registered", "accept_rate": 86, "profile_image": "https://i.stack.imgur.com/M8yh6.jpg?s=128&g=1", "display_name": "H&#229;kon H&#230;gland", "link": "https://stackoverflow.com/users/2173773/h%c3%a5kon-h%c3%a6gland"}, "reply_to_user": {"reputation": 15, "user_id": 4167050, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/12ff55940ff29c76ac849fbe33a0db80?s=128&d=identicon&r=PG&f=1", "display_name": "Sean", "link": "https://stackoverflow.com/users/4167050/sean"}, "edited": false, "score": 0, "creation_date": 1563317198, "post_id": 57065753, "comment_id": 100657580, "body": "@Sean I also noted that <code>OAuth.pl</code> has a shebang with <code>#!&#47;usr&#47;bin&#47;perl</code>. This can be a problem if you have multiple <code>perl</code>s installed and the script is run as a command e.g. <code>.&#47;OAuth.pl</code> instead of <code>perl OAuth.pl</code>"}, {"owner": {"reputation": 15, "user_id": 4167050, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/12ff55940ff29c76ac849fbe33a0db80?s=128&d=identicon&r=PG&f=1", "display_name": "Sean", "link": "https://stackoverflow.com/users/4167050/sean"}, "edited": false, "score": 1, "creation_date": 1563318334, "post_id": 57065753, "comment_id": 100657831, "body": "I&#39;m not using OAuth.pl at all. I am loading OAuth.pm and using its methods in my own scripts in order to authenticate with Jira&#39;s REST API. The only challenge is that Crypt-OpenSSL-RSA is generating the &quot;Can&#39;t locate...&quot; error"}, {"owner": {"reputation": 32176, "user_id": 2173773, "user_type": "registered", "accept_rate": 86, "profile_image": "https://i.stack.imgur.com/M8yh6.jpg?s=128&g=1", "display_name": "H&#229;kon H&#230;gland", "link": "https://stackoverflow.com/users/2173773/h%c3%a5kon-h%c3%a6gland"}, "reply_to_user": {"reputation": 15, "user_id": 4167050, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/12ff55940ff29c76ac849fbe33a0db80?s=128&d=identicon&r=PG&f=1", "display_name": "Sean", "link": "https://stackoverflow.com/users/4167050/sean"}, "edited": false, "score": 0, "creation_date": 1563318567, "post_id": 57065753, "comment_id": 100657868, "body": "@Sean I see, then this command <code>perl -MCrypt::OpenSSL::RSA -e1</code> gives the error?"}, {"owner": {"reputation": 32176, "user_id": 2173773, "user_type": "registered", "accept_rate": 86, "profile_image": "https://i.stack.imgur.com/M8yh6.jpg?s=128&g=1", "display_name": "H&#229;kon H&#230;gland", "link": "https://stackoverflow.com/users/2173773/h%c3%a5kon-h%c3%a6gland"}, "reply_to_user": {"reputation": 15, "user_id": 4167050, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/12ff55940ff29c76ac849fbe33a0db80?s=128&d=identicon&r=PG&f=1", "display_name": "Sean", "link": "https://stackoverflow.com/users/4167050/sean"}, "edited": false, "score": 0, "creation_date": 1563318832, "post_id": 57065753, "comment_id": 100657907, "body": "@Sean Ok if it does not give error then <code>perl</code> finds the module (i.e. it is found by searching <code>@INC</code>). Try to generate the mininmal script that produces the error"}], "tags": [], "owner": {"reputation": 32176, "user_id": 2173773, "user_type": "registered", "accept_rate": 86, "profile_image": "https://i.stack.imgur.com/M8yh6.jpg?s=128&g=1", "display_name": "H&#229;kon H&#230;gland", "link": "https://stackoverflow.com/users/2173773/h%c3%a5kon-h%c3%a6gland"}, "is_accepted": false, "score": 0, "last_activity_date": 1563314067, "last_edit_date": 1563314067, "creation_date": 1563312939, "answer_id": 57065753, "question_id": 57064484, "link": "https://stackoverflow.com/questions/57064484/cant-locate-module-in-inc-but-its-there/57065753#57065753", "title": "Can&#39;t locate [module] in @INC... but it&#39;s there", "body": "<p>I assume you are trying to run the script <a href=\"https://bitbucket.org/atlassianlabs/atlassian-oauth-examples/src/master/perl/OAuth.pl\" rel=\"nofollow noreferrer\"><code>OAuth.pl</code></a> (?).. Then the module <code>OAuth.pm</code> is in the same directory as the script and you need to add the current directory to <code>@INC</code> for the script to see the module:</p>\n\n<pre><code>perl -I. OAuth.pl   # I. --&gt; add current directory to @INC\n</code></pre>\n\n<p>See <a href=\"https://stackoverflow.com/q/46549671/2173773\">Doesn't Perl include current directory in @INC by default?</a> for more information.</p>\n\n<p><strong>Note</strong>: I tried to run the script but it still failed due to syntax errors. <a href=\"https://gist.github.com/hakonhagland/1a2307974a9ff6ad4faac8de9cf7437c#file-oauth-pm-patch\" rel=\"nofollow noreferrer\">Here</a> is a patch that seems to fix the errors.</p>\n"}], "owner": {"reputation": 15, "user_id": 4167050, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/12ff55940ff29c76ac849fbe33a0db80?s=128&d=identicon&r=PG&f=1", "display_name": "Sean", "link": "https://stackoverflow.com/users/4167050/sean"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 1233, "favorite_count": 0, "answer_count": 1, "score": 0, "last_activity_date": 1563314067, "creation_date": 1563306567, "question_id": 57064484, "link": "https://stackoverflow.com/questions/57064484/cant-locate-module-in-inc-but-its-there", "title": "Can&#39;t locate [module] in @INC... but it&#39;s there", "body": "<p><strong>Context</strong></p>\n\n<ol>\n<li>I'm working in an offline environment, so no CPAN.</li>\n<li>My goal is to utilize <a href=\"https://bitbucket.org/atlassianlabs/atlassian-oauth-examples/src/master/perl/OAuth.pm\" rel=\"nofollow noreferrer\">OAuth.pm</a></li>\n<li>I manually installed <a href=\"https://metacpan.org/pod/Crypt::OpenSSL::RSA\" rel=\"nofollow noreferrer\">Crypt::OpenSSL::RSA</a>.</li>\n</ol>\n\n<p><strong>Problem</strong></p>\n\n<p><code>Can't locate Crypt/OpenSSL/RSA.pm in @INC (@INC contains: /usr/local/lib64/perl5 .)</code></p>\n\n<p><em>@INC is truncated</em></p>\n\n<p>I can see RSA.pm in <code>/usr/local/lib64/perl5/Crypt/OpenSSL/</code>... so I'm not sure how to troubleshoot this one.</p>\n\n<p>This is after manually running <code>make install</code></p>\n"}, {"tags": ["perl", "hash", "syntax"], "comments": [{"owner": {"reputation": 193600, "user_id": 87189, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/98e7d6edce863e7a1bf8199b082eb25e?s=128&d=identicon&r=PG", "display_name": "tadman", "link": "https://stackoverflow.com/users/87189/tadman"}, "edited": false, "score": 2, "creation_date": 1563303051, "post_id": 57063686, "comment_id": 100652571, "body": "While questions like this are an important part of learning, they&#39;re also off-topic on Stack Overflow. Take some time to read through an <a href=\"https://www.perl.org/books/beginning-perl/\" rel=\"nofollow noreferrer\">introduction to Perl</a> which covers the various symbols used and when to use them. Look for more information on <a href=\"https://perldoc.perl.org/perlref.html\" rel=\"nofollow noreferrer\">references</a>."}, {"owner": {"reputation": 78982, "user_id": 1848654, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/84180c0f3c9c04f8b8f0613fc0129dac?s=128&d=identicon&r=PG", "display_name": "melpomene", "link": "https://stackoverflow.com/users/1848654/melpomene"}, "edited": false, "score": 1, "creation_date": 1563303504, "post_id": 57063686, "comment_id": 100652780, "body": "<code>my %myhash1 = { a =&gt; 1,  b =&gt; 2 };</code> does not do anything useful (and indeed <code>use warnings;</code> will complain about it)."}, {"owner": {"reputation": 78982, "user_id": 1848654, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/84180c0f3c9c04f8b8f0613fc0129dac?s=128&d=identicon&r=PG", "display_name": "melpomene", "link": "https://stackoverflow.com/users/1848654/melpomene"}, "edited": false, "score": 2, "creation_date": 1563303530, "post_id": 57063686, "comment_id": 100652792, "body": "See also <a href=\"https://perldoc.pl/perlreftut\" rel=\"nofollow noreferrer\">perldoc.pl/perlreftut</a>."}, {"owner": {"reputation": 32176, "user_id": 2173773, "user_type": "registered", "accept_rate": 86, "profile_image": "https://i.stack.imgur.com/M8yh6.jpg?s=128&g=1", "display_name": "H&#229;kon H&#230;gland", "link": "https://stackoverflow.com/users/2173773/h%c3%a5kon-h%c3%a6gland"}, "edited": false, "score": 0, "creation_date": 1563307030, "post_id": 57063686, "comment_id": 100654278, "body": "<code>%hash</code> is a hash variable, <code>$hash</code> is a scalar variable, you can assign a reference to a scalar variable. For example <code>$hash = { a =&gt; 1 }</code> assigns it a reference to a hash. When you need to treat a scalar reference as a hash you can put a <code>%</code> in front, i.e. <code>%$hash</code> will be a hash variable"}], "answers": [{"comments": [{"owner": {"reputation": 320771, "user_id": 589924, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/b2cf53d5a3d25f95c0db4e025aed4153?s=128&d=identicon&r=PG", "display_name": "ikegami", "link": "https://stackoverflow.com/users/589924/ikegami"}, "edited": false, "score": 0, "creation_date": 1563334775, "post_id": 57066884, "comment_id": 100660589, "body": "[Nit] Re &quot;<i>So the variable $foo is a variable containing a single scalar value.</i>&quot;, Usually. (Or rather, they often contain multiple scalar values, but they are equivalent such as the stringification of the number within, so you can&#39;t tell.) Notable exceptions include the builtin value used for false (<code>!!0</code>) and <code>$!</code>."}, {"owner": {"reputation": 320771, "user_id": 589924, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/b2cf53d5a3d25f95c0db4e025aed4153?s=128&d=identicon&r=PG", "display_name": "ikegami", "link": "https://stackoverflow.com/users/589924/ikegami"}, "edited": false, "score": 1, "creation_date": 1563334916, "post_id": 57066884, "comment_id": 100660618, "body": "Re &quot;<i>An at-sign sigil denotes an array as a whole.</i>&quot;, Not so. <code>@foo[...]</code> and <code>@foo{...}</code>"}, {"owner": {"reputation": 320771, "user_id": 589924, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/b2cf53d5a3d25f95c0db4e025aed4153?s=128&d=identicon&r=PG", "display_name": "ikegami", "link": "https://stackoverflow.com/users/589924/ikegami"}, "edited": false, "score": 1, "creation_date": 1563334944, "post_id": 57066884, "comment_id": 100660621, "body": "Re &quot;<i>Similarly, a percent sign denotes a hash as a whole.</i>&quot;, Not so. <code>%foo{...}</code>."}, {"owner": {"reputation": 320771, "user_id": 589924, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/b2cf53d5a3d25f95c0db4e025aed4153?s=128&d=identicon&r=PG", "display_name": "ikegami", "link": "https://stackoverflow.com/users/589924/ikegami"}, "edited": false, "score": 0, "creation_date": 1563335035, "post_id": 57066884, "comment_id": 100660635, "body": "Re &quot;<i>There&#39;s also the sub (function) type, which we&#39;ll talk more about below.</i>&quot;, There are also globs (<code>*</code>). These aren&#39;t the only 5 types of variables in the symbol table, but the others  (file handle, dir handle, format, etc) don&#39;t have sigils associated with them, so one is therefore only able to access them indirectly."}, {"owner": {"reputation": 2936, "user_id": 39791, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/661c7cc5565e5bc21fb0fc22c0354fef?s=128&d=identicon&r=PG", "display_name": "Joe McMahon", "link": "https://stackoverflow.com/users/39791/joe-mcmahon"}, "reply_to_user": {"reputation": 320771, "user_id": 589924, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/b2cf53d5a3d25f95c0db4e025aed4153?s=128&d=identicon&r=PG", "display_name": "ikegami", "link": "https://stackoverflow.com/users/589924/ikegami"}, "edited": false, "score": 0, "creation_date": 1563455510, "post_id": 57066884, "comment_id": 100711916, "body": "Agreed about globs, but given the asker is having trouble with the basics, I decided to skip them for the purposes of this answer. And slices for the same reason. And multi-value scalars. The answer should be sufficient to get them past the basics of &quot;what are all these sigils doing??&quot;."}], "tags": [], "owner": {"reputation": 2936, "user_id": 39791, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/661c7cc5565e5bc21fb0fc22c0354fef?s=128&d=identicon&r=PG", "display_name": "Joe McMahon", "link": "https://stackoverflow.com/users/39791/joe-mcmahon"}, "is_accepted": false, "score": 0, "last_activity_date": 1563456172, "last_edit_date": 1563456172, "creation_date": 1563321637, "answer_id": 57066884, "question_id": 57063686, "link": "https://stackoverflow.com/questions/57063686/perl-usage-of-symbol/57066884#57066884", "title": "perl - usage of $ symbol", "body": "<p>Perl 5 <em>sigils</em> (the $, @, and %) can be confusing. Here's a condensed explanation. (The Perl 6 rules are different and I'm skipping them here, and as @ikegami notes, there are some other features, like hash and array slices, that I'm also skipping for concision.)</p>\n\n<p>A <em>dollar sign</em> sigil <em>always</em> means \"I am dealing with a scalar value\". So the variable <code>$foo</code> is a variable containing a single scalar value (there are cases as noted where a scalars actually contains multiple different things that are accessed in different contexts, but this is not important for what we're interested in right now). </p>\n\n<p>This is true when you're accessing array and hash elements: <code>$foo[0]</code> says \"I am accessing the <em>scalar value</em> found in element <code>0</code> of the array <code>@foo</code>. For a hash, <code>$foo{'bar'}</code> says \"I am accessing the <em>scalar value</em> found in the element whose key is <code>bar</code> in the hash <code>%foo</code>.</p>\n\n<p>An <em>at-sign</em> sigil denotes an array <em>as a whole</em>. <code>@foo</code> means \"all of the array whose name is <code>foo</code>\". (Skipping slices here; they're a way to get a list of things out of a hash or array at once. Really useful, but they'll obscure our point right now.)</p>\n\n<p>Similarly, a <em>percent sign</em> denotes a hash <em>as a whole</em>. <code>%foo</code> is the hash named <code>foo</code> -- all of it at once. (Same for hash slices.)</p>\n\n<p>These are all the base data types in Perl: scalars (<code>$</code>), arrays (<code>@</code>), and hashes (<code>%</code>). There's also the <code>sub</code> (<code>&amp;</code> - function) type, which we'll talk more about below, and globs (<code>*</code> - which are beyond the scope of this answer, so we'll skip them too).</p>\n\n<p>If we want more complex, nested data structures, we now have to move on to <em>references</em>.</p>\n\n<p>A reference is, to wildly oversimplify, essentially a pointer that knows the kind of thing it points to. References are <em>always</em> scalars. If we want a reference to something, there are, as one would expect in Perl 5, several ways to get one:</p>\n\n<ul>\n<li>Use the <em>backslash</em> (<code>\\</code>) operator to specifically get a reference. We can do this with any of the three types of variables (scalar, hash, array) and with subroutines as well (remember, subroutines have a sigil of <code>&amp;</code>). This is the only way to get a reference to a scalar variable.</li>\n<li>Use one of the <em>anonymous constructors</em> to build a reference to a hash or array.</li>\n<li>Construct a subroutine (function) reference in-line with an anonymous subroutine.</li>\n</ul>\n\n<p>Here's examples of each:</p>\n\n<pre><code># Define a reference to a scalar\n$foo = \\$bar;\n\n# Define a reference to an array, a hash and an existing subroutine:\n$x = \\@w;\n$y = \\%zorch;\n$z = \\&amp;do_stuff;\n\n# define anonymous arrays, hashes, and subs:\n$my_array = [2, 3, 'fred', 'hoplite'];\n$my_hash  = {foo =&gt; 'bar', baz =&gt; 'quux'};\n$pi_sub   = sub { return 3.14 };\n</code></pre>\n\n<p>There are <em>three</em> different ways to \"dereference\" (follow the pointer in) a reference.</p>\n\n<ol>\n<li>Use <em>stacked</em> sigils. These read from right to left; each sigil dereferences the variable again. This is most often used to dereference a scalar. You'll usually only see two, but sometimes multiple levels of dereferencing are done at once to go through a chain of scalar values. Stacked sigils can be confusing, mostly because they add a right-to-left interpretation to a language that is read primarily left-to-right.</li>\n<li>Use a sigil and <em>paired braces</em>. This is the logical equivalent of using parens to disambiguate expressions. What's inside the braces is dereferenced as the type outside the braces. Most often used to get aggregate types from a reference.</li>\n<li>Use a chained series of dereference operators. Each dereference implies that the lefthand side is a scalar reference, so several in a row implies that the result of each dereference is another (scalar) reference. Handy for digging down into a structure to find something.</li>\n</ol>\n\n<p>Here are examples:</p>\n\n<pre><code># Dereference a scalar using stacked sigils.\nprint $$foo; # $foo is a reference to the scalar $bar\n             # the second $ says \"please give me the value of the scalar\n             $ I now have\" (in this case that's $bar).\n\n# Use braces and sigils to dereference a scalar, getting a hash/array\n%hash = ( a =&gt; 1, b =&gt; 2);\nmy %thing = %{ $my_hash }; # dereference the scalar\n                           # copy the resulting hash into %thing\n\n# Chained dereferences\n# A hash of hashes:\n$sample = { one =&gt; { a =&gt; 1, b =&gt; 2}, two =&gt; { aa =&gt; 4, bb =&gt; 8 }};\n# To get to 8, we need to dereference twice:\n$eight = $sample-&gt;{two}-&gt;{bb};\n\n# Note that we can collapse the chain after the first deref.\n$same_result = $sample-&gt;{two}{bb}\n\n# If we wanted to get an element from $my_hash, we don't have to\n# dereference it and construct the new hash. We can just use the \n# dereference operator.\n$x = $my_hash-&gt;{a} == $thing{a}; # $x is 1 (true).\n</code></pre>\n\n<p>Any combination of nestings is permitted, so we could have a hash of arrays of hashes of subs, for instance.</p>\n\n<p>Subs are a special case in that all we can do with them is copy their references, or call them:</p>\n\n<pre><code>$pi_times = sub { my $x = shift; return 3.14159 * $x };\n$the_sub  = $pi_times;\n$z = $the_sub-&gt;(4);  # calls the $pi_times anonymous sub\n                     # returns pi * 4\n</code></pre>\n\n<p>The <code>perldoc perlre</code> man page goes into this in detail; <code>perldoc perlreftut</code> is a good tutorial which follows up what I've outlined here in a lot more detail.</p>\n"}, {"tags": [], "owner": {"reputation": 38072, "user_id": 46395, "user_type": "registered", "accept_rate": 71, "profile_image": "https://www.gravatar.com/avatar/5ce828f20abb195ef5d971205ee36c27?s=128&d=identicon&r=PG", "display_name": "daxim", "link": "https://stackoverflow.com/users/46395/daxim"}, "is_accepted": false, "score": 1, "last_activity_date": 1563360404, "creation_date": 1563360404, "answer_id": 57074088, "question_id": 57063686, "link": "https://stackoverflow.com/questions/57063686/perl-usage-of-symbol/57074088#57074088", "title": "perl - usage of $ symbol", "body": "<p>No, the sigils refer to the mode of access. <code>$</code> means a single element, <code>@</code> means multiple elements and <code>%</code> means key/value pairs. Demo:</p>\n\n<h3>no references involved</h3>\n\n<pre><code>$myhash1{a}             # 1\n@myhash1{qw(a b)}       # (1, 2)\n%myhash1{a}             # (a =&gt; 1)\n</code></pre>\n\n<h3>with references involved</h3>\n\n<pre><code>$$myhash2{A}            # 27\n@$myhash2{qw(A B)}      # (27, 27)\n%$myhash2{A}            # (A =&gt; 27)\n</code></pre>\n\n<p>which is just short-hand for</p>\n\n<pre><code>${ $myhash2 }{A}        # 27\n@{ $myhash2 }{qw(A B)}  # (27, 27)\n%{ $myhash2 }{A}        # (A =&gt; 27)\n</code></pre>\n\n<p>which is much more clearly written using the <code>-&gt;</code> deref operator</p>\n\n<pre><code>$myhash2-&gt;{A}           # 27\n$myhash2-&gt;@{qw(A B)}    # (27, 27)\n$myhash2-&gt;%{A}          # (A =&gt; 27)\n</code></pre>\n\n<p>Prefer the notation shown in the last block.</p>\n\n<hr>\n\n<p>Lack of subscripting braces:</p>\n\n<ul>\n<li><code>%myhash1</code> means: all k/v pairs in the hash.</li>\n<li>Any of <code>%$myhash2</code>, <code>%{ $myhash2 }</code>, <code>$myhash2-&gt;%*</code> means: all k/v pairs in the dereferenced hash.</li>\n</ul>\n"}], "owner": {"reputation": 97, "user_id": 1549490, "user_type": "registered", "accept_rate": 80, "profile_image": "https://www.gravatar.com/avatar/bcdeb11a84554b79145451575246a262?s=128&d=identicon&r=PG", "display_name": "Mohan", "link": "https://stackoverflow.com/users/1549490/mohan"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 245, "favorite_count": 0, "answer_count": 2, "score": 1, "last_activity_date": 1563456172, "creation_date": 1563302842, "last_edit_date": 1563303718, "question_id": 57063686, "link": "https://stackoverflow.com/questions/57063686/perl-usage-of-symbol", "title": "perl - usage of $ symbol", "body": "<p>I know <code>$</code>, <code>@</code> and <code>%</code> are for declaring scalars, arrays and hashes. But I am confused when when <code>$</code> is used in declaration of other things like</p>\n\n<pre><code>my %myhash1 = ( a =&gt; 1,  b =&gt; 2 );\nmy $myhash2 = { A =&gt; 27, B =&gt; 27};\n</code></pre>\n\n<p>and usage of following syntax</p>\n\n<pre><code>%myhash1\n%$myhash2\n</code></pre>\n\n<p>Can someone please explain me the difference and when to use them.</p>\n"}, {"tags": ["perl"], "comments": [{"owner": {"reputation": 27648, "user_id": 9952196, "user_type": "registered", "profile_image": "https://graph.facebook.com/10216835866235879/picture?type=large", "display_name": "Shawn", "link": "https://stackoverflow.com/users/9952196/shawn"}, "edited": false, "score": 0, "creation_date": 1563294597, "post_id": 57061492, "comment_id": 100648900, "body": "You&#39;re never actually reading any data from the file handle..."}], "answers": [{"comments": [{"owner": {"reputation": 50468, "user_id": 1331451, "user_type": "registered", "accept_rate": 96, "profile_image": "https://i.stack.imgur.com/4ZPmj.png?s=128&g=1", "display_name": "simbabque", "link": "https://stackoverflow.com/users/1331451/simbabque"}, "edited": false, "score": 0, "creation_date": 1563294631, "post_id": 57061771, "comment_id": 100648918, "body": "Also note that the <code>;</code> is called a <i>semicolon</i>, not a <i>colong</i>. A better name for that variable would be <code>@fields</code>."}], "tags": [], "owner": {"reputation": 50468, "user_id": 1331451, "user_type": "registered", "accept_rate": 96, "profile_image": "https://i.stack.imgur.com/4ZPmj.png?s=128&g=1", "display_name": "simbabque", "link": "https://stackoverflow.com/users/1331451/simbabque"}, "is_accepted": true, "score": 2, "last_activity_date": 1563294589, "creation_date": 1563294589, "answer_id": 57061771, "question_id": 57061492, "link": "https://stackoverflow.com/questions/57061492/perl-split-string-by-semi-colon-not-glob/57061771#57061771", "title": "Perl split string by semi colon not glob", "body": "<p>You forgot to read from your file handle.</p>\n\n<pre><code>#                              V   V\nmy @splitoncolong = split /;/, &lt;$fh&gt;;\n</code></pre>\n\n<p>The way you had it it tried to split the file handle object, which when stringified by <code>split</code> turns into the glob reference representation you are now seeing. It splits on <code>;</code>, which yields one result, the string <code>GLOB(0x...)</code>, and puts that in your list.</p>\n"}], "owner": {"reputation": 2167, "user_id": 824282, "user_type": "registered", "accept_rate": 61, "profile_image": "https://www.gravatar.com/avatar/8f0cb967adb644f6408e5ff3df8c8a0f?s=128&d=identicon&r=PG", "display_name": "capser", "link": "https://stackoverflow.com/users/824282/capser"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 100, "favorite_count": 0, "accepted_answer_id": 57061771, "answer_count": 1, "score": 0, "last_activity_date": 1563294589, "creation_date": 1563293418, "question_id": 57061492, "link": "https://stackoverflow.com/questions/57061492/perl-split-string-by-semi-colon-not-glob", "title": "Perl split string by semi colon not glob", "body": "<p>I have a file: </p>\n\n<p>1:2;3;4</p>\n\n<p>and I want to splot that file into its constuitiemt parts which are delimited by a semicolon</p>\n\n<pre><code>#!/usr/bin/perl\nuse strict;\nuse warnings;\n\nmy $filename = shift @ARGV ;\nopen(my $fh, '&lt;', $filename) or die \"Could not open file $filename $!\";\n\nmy @splitoncolong = split /;/, $fh ;\nforeach my $wap (@splitoncolong) {\n         print $wap ;\n}\n</code></pre>\n\n<p>and I get this</p>\n\n<pre><code>GLOB(0x238947c)\n</code></pre>\n\n<p>what I want is this : </p>\n\n<pre><code>1; \n2; \n3; \n4; \n</code></pre>\n"}, {"tags": ["perl", "nginx", "cgi", "spawn-fcgi"], "owner": {"reputation": 2424, "user_id": 3206471, "user_type": "registered", "accept_rate": 64, "profile_image": "https://www.gravatar.com/avatar/fdc1f4bd9f3118fff33a160e9efdb61e?s=128&d=identicon&r=PG", "display_name": "gigabytes", "link": "https://stackoverflow.com/users/3206471/gigabytes"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 204, "favorite_count": 0, "answer_count": 0, "score": 1, "last_activity_date": 1590045728, "creation_date": 1563290782, "question_id": 57060705, "link": "https://stackoverflow.com/questions/57060705/unable-to-turn-off-buffering-for-perl-cgi-script-on-nginxfcgiwrap", "title": "Unable to turn off buffering for Perl CGI script on nginx+fcgiwrap", "body": "<p>I have a legacy Perl CGI script written with <code>CGI.pm</code>, which replies its progress by printing some lines of text through the CGI interface. Its legacy client would then read the response line by line and do whatever.</p>\n\n<p>I'm unable to setup nginx to make it work, because of buffering issues.</p>\n\n<p>My setup:</p>\n\n<ol>\n<li>CentOS 7 + EPEL</li>\n<li><code>yum install fcgi fcgi-devel spawn-fcgi</code></li>\n<li><p><code>fcgiwrap</code> recently needed a patch to support a <code>NO_BUFFERING</code> environment variable, to turn off buffering. This is described in <a href=\"https://serverfault.com/a/852573/379870\">this answer</a> on ServerFault. However, it's puzzling:</p>\n\n<ol>\n<li>the debian bug report <a href=\"http://bugs.debian.org/cgi-bin/bugreport.cgi?bug=863478\" rel=\"nofollow noreferrer\">linked</a> in that answer claims the patch has been applied upstream by <code>fcgiwrap</code>, but there is nothing related to it in the upstream <a href=\"https://github.com/gnosek/fcgiwrap\" rel=\"nofollow noreferrer\">github</a> repository, excepting for an open issue which has never been replied to. Anyway, the patch has been applied to debian packages, but the EPEL package does not include it, so:</li>\n<li><code>git clone</code> the repository</li>\n<li>applied <code>debian_patches_add-environment-variable-NO_BUFFERING-to-disable-out.patch</code> from the above debian bugreport.</li>\n<li><code>autoreconf -i &amp;&amp; ./configure &amp;&amp; make &amp;&amp; make install</code></li>\n</ol></li>\n<li><p>Configured <code>span-fcgi</code>, this is <code>\\etc\\sysconfig\\spawn-fcgi</code>:</p></li>\n</ol>\n\n<pre><code>OPTIONS=\"-u nginx -g nginx -a 127.0.0.1 -p 9001 -P /var/run/spawn-fcgi.pid -- /usr/local/sbin/fcgiwrap -f\"\n</code></pre>\n\n<ol start=\"5\">\n<li>Configured <code>nginx</code> for fastcgi:</li>\n</ol>\n\n<pre><code>location ~ .cgi$ {\n  fastcgi_pass 127.0.0.1:9001;\n  fastcgi_param SCRIPT_FILENAME $document_root$fastcgi_script_name;\n  fastcgi_request_buffering off;\n  fastcgi_read_timeout 900s;\n  fastcgi_param NO_BUFFERING 1;\n  gzip off;\n\n  include /etc/nginx/fastcgi_params;\n}\n</code></pre>\n\n<p>Other info: </p>\n\n<ol>\n<li>The perl script does <code>$| = 1;</code> so <em>afaik</em> the script itself should not be buffering its own output.</li>\n<li>The perl script also sends the <code>X-Accel-Buffering: no</code> HTTP header, which is often referred to as required to disable buffering with nginx, although afaik it should not be needed with <code>fastcgi_buffering off</code> in the configuration file.</li>\n<li>By listening on the 9001 port with <code>netcat</code> (<code>nc -l 9001 &gt; request.txt</code>), I've checked that <code>nginx</code> correctly passes the <code>NO_BUFFERING</code> variable in the request along with all the other parameters.</li>\n<li>By doing <code>cat request.txt | nc localhost 9001</code>, I see that <code>fcgiwrap</code> is what is buffering the output: if I kill the spawned cgi process midway, I get all the output generated until then.</li>\n<li>The CGI script is launched and working fine otherwise, just the client is not receiving the data line by line (but I need the <code>fastcgi_read_timeout 900s</code> line above to avoid timeouts).</li>\n<li>I'm not sure I fully understand the <code>fcgiwrap</code> source code, but the patch is trivial: it just calls <code>FCGI_fflush</code> after every write if the <code>NO_BUFFERING</code> environment variable was set. However, just to be sure, I replaced <code>unbuffered = !!getenv(\"NO_BUFFERING\");</code> with <code>unbuffered = 1;</code>, with no success.</li>\n</ol>\n\n<p>So can someone spot what I'm missing?</p>\n"}, {"tags": ["perl", "pdf", "base64"], "comments": [{"owner": {"reputation": 320771, "user_id": 589924, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/b2cf53d5a3d25f95c0db4e025aed4153?s=128&d=identicon&r=PG", "display_name": "ikegami", "link": "https://stackoverflow.com/users/589924/ikegami"}, "edited": false, "score": 1, "creation_date": 1563290028, "post_id": 57059820, "comment_id": 100646448, "body": "Should use <code>open(my $HND, &#39;&gt;:raw&#39;, $tom::P.&#39;&#47;_data&#47;gls.pdf&#39;) or die $!;</code>. That would have an effect on a Windows machine, but not likely on a unix machine. Otherwise, looks right from the info provided."}, {"owner": {"reputation": 320771, "user_id": 589924, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/b2cf53d5a3d25f95c0db4e025aed4153?s=128&d=identicon&r=PG", "display_name": "ikegami", "link": "https://stackoverflow.com/users/589924/ikegami"}, "edited": false, "score": 0, "creation_date": 1563290069, "post_id": 57059820, "comment_id": 100646473, "body": "Could you maybe provide the first 20 or so characters of <code>$xml_parsed-&gt;{&#39;SOAP-ENV:Body&#39;}-&gt;{&#39;ns1:printlabelResponse&#39;}-&gt;&zwnj;&#8203;{&#39;return&#39;}-&gt;{&#39;pdfdat&zwnj;&#8203;a&#39;}</code>?"}, {"owner": {"reputation": 763, "user_id": 3276539, "user_type": "registered", "accept_rate": 68, "profile_image": "https://i.stack.imgur.com/6W2ss.png?s=128&g=1", "display_name": "tomsk", "link": "https://stackoverflow.com/users/3276539/tomsk"}, "reply_to_user": {"reputation": 320771, "user_id": 589924, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/b2cf53d5a3d25f95c0db4e025aed4153?s=128&d=identicon&r=PG", "display_name": "ikegami", "link": "https://stackoverflow.com/users/589924/ikegami"}, "edited": false, "score": 1, "creation_date": 1563290669, "post_id": 57059820, "comment_id": 100646823, "body": "@ikegami It works!! thanks :)"}, {"owner": {"reputation": 320771, "user_id": 589924, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/b2cf53d5a3d25f95c0db4e025aed4153?s=128&d=identicon&r=PG", "display_name": "ikegami", "link": "https://stackoverflow.com/users/589924/ikegami"}, "edited": false, "score": 0, "creation_date": 1563290893, "post_id": 57059820, "comment_id": 100646945, "body": "<code>:raw</code> prevents LF from being turned to CRLF. It will also override other things like <code>use open</code> and <code>PERLIO</code> env var."}, {"owner": {"reputation": 763, "user_id": 3276539, "user_type": "registered", "accept_rate": 68, "profile_image": "https://i.stack.imgur.com/6W2ss.png?s=128&g=1", "display_name": "tomsk", "link": "https://stackoverflow.com/users/3276539/tomsk"}, "reply_to_user": {"reputation": 320771, "user_id": 589924, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/b2cf53d5a3d25f95c0db4e025aed4153?s=128&d=identicon&r=PG", "display_name": "ikegami", "link": "https://stackoverflow.com/users/589924/ikegami"}, "edited": false, "score": 1, "creation_date": 1563300926, "post_id": 57059820, "comment_id": 100651687, "body": "@ikegami if you want you can post this as answer and I will accept it."}], "answers": [{"tags": [], "owner": {"reputation": 320771, "user_id": 589924, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/b2cf53d5a3d25f95c0db4e025aed4153?s=128&d=identicon&r=PG", "display_name": "ikegami", "link": "https://stackoverflow.com/users/589924/ikegami"}, "is_accepted": true, "score": 2, "last_activity_date": 1563331252, "creation_date": 1563331252, "answer_id": 57067834, "question_id": 57059820, "link": "https://stackoverflow.com/questions/57059820/create-pdf-from-base64-in-perl/57067834#57067834", "title": "Create PDF from base64 in Perl", "body": "<p>If you want to prints bytes to a file without them getting mangled, open the file in \"binary\" mode. </p>\n\n<pre><code>open(my $fh, '&gt;:raw', $qfn)\n   or die(\"Can't create \\\"$qfn\\\": $!\\n\");\n</code></pre>\n\n<p>(You can also do it after the fact using <code>binmode($fh)</code> or <code>binmode($fh, ':raw')</code>.)</p>\n\n<p>This prevents the <code>:crlf</code> layer (which performs CR&harr;CRLF translation) from being added on Windows, this overrides the default encoding layer set via <code>use open</code>, etc.</p>\n"}], "owner": {"reputation": 763, "user_id": 3276539, "user_type": "registered", "accept_rate": 68, "profile_image": "https://i.stack.imgur.com/6W2ss.png?s=128&g=1", "display_name": "tomsk", "link": "https://stackoverflow.com/users/3276539/tomsk"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 278, "favorite_count": 0, "accepted_answer_id": 57067834, "answer_count": 1, "score": 1, "last_activity_date": 1563335587, "creation_date": 1563287913, "last_edit_date": 1563335587, "question_id": 57059820, "link": "https://stackoverflow.com/questions/57059820/create-pdf-from-base64-in-perl", "title": "Create PDF from base64 in Perl", "body": "<p>I get pdfdata from API (GLS carrier) encoded in base64 and I have to decode it and create pdf file from it.</p>\n\n<p>This is my code:</p>\n\n<pre><code>my $decoded= MIME::Base64::decode_base64($xml_parsed-&gt;{'SOAP-ENV:Body'}-&gt;{'ns1:printlabelResponse'}-&gt;{'return'}-&gt;{'pdfdata'});\n\nopen(HND,'&gt;'.$tom::P.'/_data/gls.pdf');\nbinmode HND;\nprint HND $decoded;\nclose (HND);\n</code></pre>\n\n<p>There is valid <code>base64</code> code in <code>$xml_parsed-&gt;{'SOAP-ENV:Body'}-&gt;{'ns1:printlabelResponse'}-&gt;{'return'}-&gt;{'pdfdata'}</code>, but if I write it into file, then Chrome says that pdf file is corrupted during opening.</p>\n\n<p>Decoded string looks like:</p>\n\n<pre><code>$VAR1 = '\u00d3y{\u00e3f\u00ef';\n</code></pre>\n\n<p>Chunk of base64:</p>\n\n<pre><code>JVBERi0xLjcKOCAwIG9iago8PCAvVHlwZSAvUGFnZSAvUGFyZW50IDEgMCBSIC9MYXN0TW9kaWZpZWQgKEQ6MjAxOTA3MTYxNjI0NTIrMDInMDAnKSAvUmVzb3VyY2VzIDIgMCBSIC9NZWRpYUJveCBbMC4wMCAwLjAwIDQxOS41MyAyNzQuOTZdIC9Dcm9wQm94IFswLjAwIDAuMDAgNDE5LjUzIDI3NC45Nl0gL0JsZWVkQm94IFswLjAwIDAuMDAgNDE5LjUzIDI3NC45Nl0gL1RyaW1Cb3ggWzAuMDAgMC4wMCA0MTkuNTMgMjc0Ljk2XSAvQXJ0Qm94IFswLjAwIDAuMDAgNDE5LjUzIDI3NC45Nl0gL0NvbnRlbnRzIDkgMCBSIC9Sb3RhdGUgMCAvR3JvdXAgPDwgL1R5cGUgL0dyb3VwIC9TIC9UcmFuc3BhcmVuY3kgL0NTIC9EZXZpY2VSR0IgPj4gL1BaIDEgPj4KZW5kb2JqCjkgMCBvYmoKPDwvRmlsdGVyIC9GbGF0ZURlY29kZSAvTGVuZ3RoIDEzODY+PiBzdHJlYW0KeJzVWd1u2zYUpnPpp+BliyEnPKQokr0YsGxZga5b08YNMDTFljm/zY8bJ+uQPs2eZTd9ij3ALvYIBfaRkhIlVpPQbTIHhiiJ1jHP9/H8yoqsk39IJZ/geCNfvcZpA8djHNv9xYFc+J4la1JKDrbk0qCvcgWOIKJwN8/pVI31lHYFhVLJ5jw8qB9ujy8ed0yOt/scyBeyUJqsxs8GL+edIu/keFNudYtoQ54zRRw5nydimJzNFLHkdCNiKLjrRQpDpc0TsUw25ClmLdkyUySQNXmKlZYKnyfiDBU6TzEXyLg8EW/IZNqYD6QzSQ6WdJEHnxWTVnnLsLLELnMdZuJMy2R2pHLXgWuqzP1kXVLIpJqNppC5o2w8hVyuCx0fyJTx5HM5sJpcyOTaenK59laWVGa6KCOql5nhln1KMJkyBdlcPEFRkWs7oaCizFtHK6xzFQeZ2fR5Naml9pMpltuJtpoKBtQgGnti76v8es2K+NFxEsZTSwOJGY0cAAgmSg425KsHQuFTCvXwtRw8uahVR+Lv0IpLMKmCZEZ89XZavTwZK2O0KWytWCEMPg4fLfykenwz0nSpkPSd1KoghWgxnXooA9hLzQX5UKtnJlUKNyMseKQ7gPUMc3JTaoRYjmwWf4PtxZ28mjgj3c14syVSv5XaIFgEPa2WiGglfiPEwPaZvKGw4FB+nvlXrBWOgOgWSIuZz6hSskJFU05rbBVprMpYrk2S1jdFTK9VaXaAyIwsyPXtfn+lj5xdkm49UN1W0OMDjQNd8O82jDa+9syUvlMSwgI496ZG853YFG/FSDyaNAWjbkMplxL44H2t0ad0BFGsah2dCEJCUym+bbRMexO1e38xEN0Rj6w5Rp8Wkb1fQeKW+EeM747KDr2MIW0ukMcidARse7PAUwfqeRsDT9HdRyIbX6Fpd+GnyASJVsOpKvRq9Kw6FkIxe8sj2e5puRbrtpYasXXEfGbSz8SieARzYYQRwqhxvSReihdn5vO837VEQ1DxpQ2pc7GjTnY+AdN5ssh6KM2LBucybO1f8QYOfCCGYv3c7oDutjziiwFRAZVKDeQEEI4xyrOrkXgHQEOxe48gMTrUsyQxuAwEY7RH1QnIzyagMsT6vwIUkJcNDu4EYGYLgEZR7SKA1JBVABbhLevYkV3syz6usC/3ybjiC6MGyor4AcY0j2MFUCoT24sm1gmIZxMQGnnTVMtrD8RXqPp0TFY4hxSyDWpBi7u1h5OwLhWBt4MKKwWXmoxUrEwDUreau+VkgEPxex2yN7F/78RHsZPmN8Rhmom12Ebv6xQuVnvrmBuJ3zAO8f1HjDuYjzPxapSkmtkkid/dxdOHuN7D3GPxVKyc09dZNd0Vl9bHzn56LtGPhiZjrKaAOgTCXWDdAtqxOOjNzX2IobY3lzj6S/yJcVjzW7E7gvNH9g7x7N8Vb7253i/gbR27Ej1Jpu8+4G4DEidJ6jAmV5x3cH8Cno9xt4DPNrzvGH64jRVG2Ne3KDY2cV5IHrqA7/YwtnVYx9NnOojT9M18G0OdLHav3bO7cOvzcijc/mJZ8d34WO75glzjXc+wX5HZaP37KdBvwos6SiIzo2Ccin8iNLkqgthPYX09uf8+rk5hXjCp+wMJXa9uCqIfAeEUdn6cIElE9xjjFzCW9wdQ+2VFgPoWR+wtVtFdPIXLL+H6Ja6+ET+Jn+8PLHTcCLDZtcWswtHpb58beBJAXqo8PM5xUz0O1Vl56FkDXafHdixcFqPe2jilr+6ecNZKwpDesjmO/1Y2by0kgoMU+n/agVj7FanVzq9XqhcaWp936iwcLE6lMRpW653MZILvT6HrJVb6/wFy3IBNCmVuZHN0cmVhbQplbmRvYmoKMTAgMCBvYmoKPDwgL1R5cGUgL1BhZ2UgL1BhcmVudCAxIDAgUiAvTGFzd\n</code></pre>\n"}, {"tags": ["regex", "perl", "regex-group"], "answers": [{"comments": [{"owner": {"reputation": 4268, "user_id": 313192, "user_type": "registered", "accept_rate": 59, "profile_image": "https://i.stack.imgur.com/F718f.jpg?s=128&g=1", "display_name": "Caleb", "link": "https://stackoverflow.com/users/313192/caleb"}, "edited": false, "score": 0, "creation_date": 1563279091, "post_id": 57056961, "comment_id": 100639535, "body": "You&#39;re not reading the whole question. The documentation I was reading suggests capture variables only get set on SUCCESSFUL match, and can hang around since previous matches. Since I had no match groups in the expression I was surprised that the previous value got blown away."}, {"owner": {"reputation": 320771, "user_id": 589924, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/b2cf53d5a3d25f95c0db4e025aed4153?s=128&d=identicon&r=PG", "display_name": "ikegami", "link": "https://stackoverflow.com/users/589924/ikegami"}, "reply_to_user": {"reputation": 4268, "user_id": 313192, "user_type": "registered", "accept_rate": 59, "profile_image": "https://i.stack.imgur.com/F718f.jpg?s=128&g=1", "display_name": "Caleb", "link": "https://stackoverflow.com/users/313192/caleb"}, "edited": false, "score": 0, "creation_date": 1563279275, "post_id": 57056961, "comment_id": 100639651, "body": "Re &quot;<i>The documentation I was reading suggests capture variables only get set on SUCCESSFUL match</i>&quot;, That is correct. And as my answer both states and shows, there was a successful match."}, {"owner": {"reputation": 320771, "user_id": 589924, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/b2cf53d5a3d25f95c0db4e025aed4153?s=128&d=identicon&r=PG", "display_name": "ikegami", "link": "https://stackoverflow.com/users/589924/ikegami"}, "reply_to_user": {"reputation": 4268, "user_id": 313192, "user_type": "registered", "accept_rate": 59, "profile_image": "https://i.stack.imgur.com/F718f.jpg?s=128&g=1", "display_name": "Caleb", "link": "https://stackoverflow.com/users/313192/caleb"}, "edited": false, "score": 0, "creation_date": 1563279382, "post_id": 57056961, "comment_id": 100639706, "body": "Re &quot;<i>Since I had no match groups in the expression I was surprised that the previous value got blown away</i>&quot;, As you yourself stated, the deciding factor isn&#39;t whether there are capture groups or not, it&#39;s whether there was a successful match or not"}, {"owner": {"reputation": 4268, "user_id": 313192, "user_type": "registered", "accept_rate": 59, "profile_image": "https://i.stack.imgur.com/F718f.jpg?s=128&g=1", "display_name": "Caleb", "link": "https://stackoverflow.com/users/313192/caleb"}, "edited": false, "score": 0, "creation_date": 1563279396, "post_id": 57056961, "comment_id": 100639720, "body": "Your answer demonstrates matching a capture group. My example does not even have a capture group to be successfully or unsuccessfully matched."}, {"owner": {"reputation": 320771, "user_id": 589924, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/b2cf53d5a3d25f95c0db4e025aed4153?s=128&d=identicon&r=PG", "display_name": "ikegami", "link": "https://stackoverflow.com/users/589924/ikegami"}, "reply_to_user": {"reputation": 4268, "user_id": 313192, "user_type": "registered", "accept_rate": 59, "profile_image": "https://i.stack.imgur.com/F718f.jpg?s=128&g=1", "display_name": "Caleb", "link": "https://stackoverflow.com/users/313192/caleb"}, "edited": false, "score": 1, "creation_date": 1563279856, "post_id": 57056961, "comment_id": 100640007, "body": "Re &quot;<i>My example does not even have a capture group to be successfully or unsuccessfully matched.</i>&quot;, Irrelevant. There was still a successful pattern match as I&#39;ve demonstrated. I&#39;ve replaced the example nonetheless."}], "tags": [], "owner": {"reputation": 320771, "user_id": 589924, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/b2cf53d5a3d25f95c0db4e025aed4153?s=128&d=identicon&r=PG", "display_name": "ikegami", "link": "https://stackoverflow.com/users/589924/ikegami"}, "is_accepted": false, "score": 4, "last_activity_date": 1563280308, "last_edit_date": 1563280308, "creation_date": 1563279023, "answer_id": 57056961, "question_id": 57056552, "link": "https://stackoverflow.com/questions/57056552/why-does-perl-not-keep-the-match-variable-around-in-this-situation/57056961#57056961", "title": "Why does perl not keep the match variable around in this situation?", "body": "<p>The values of match variables do indeed stay around until the next successful pattern match (or until the scope in which the match occurred is exited).</p>\n\n<p>In your case, they changed because there was a successful pattern match. You successfully matched against the pattern <code>, </code>. The capture variables will therefore reflect the text captured by the captures of that match. <code>$1</code> returns the text matched by the non-existent first capture, so it returned <code>undef</code>.</p>\n\n<pre><code>$ perl -e'\n   $_ = \"a\";\n   s/(a)/a/;  CORE::say $1 // \"[undef]\";  # Successful match\n   s/(c)/c/;  CORE::say $1 // \"[undef]\";  # Unsuccessful match\n   s/a/a/;    CORE::say $1 // \"[undef]\";  # Successful match\n'\na\na\nundef\n</code></pre>\n"}, {"tags": [], "owner": {"reputation": 51391, "user_id": 132382, "user_type": "registered", "accept_rate": 98, "profile_image": "https://www.gravatar.com/avatar/20fc7ee8f405aa42e36eb73e841e5a36?s=128&d=identicon&r=PG", "display_name": "pilcrow", "link": "https://stackoverflow.com/users/132382/pilcrow"}, "is_accepted": true, "score": 3, "last_activity_date": 1563281744, "last_edit_date": 1563281744, "creation_date": 1563281271, "answer_id": 57057640, "question_id": 57056552, "link": "https://stackoverflow.com/questions/57056552/why-does-perl-not-keep-the-match-variable-around-in-this-situation/57057640#57057640", "title": "Why does perl not keep the match variable around in this situation?", "body": "<p>You ask:</p>\n\n<blockquote>\n  <p><em>Why was $1 being cleared when not only was there no successful match, there was no request for a match at all in my search and replace?</em></p>\n</blockquote>\n\n<p>Are you perhaps conflating <em>matching</em> and <em>capturing</em>?</p>\n\n<p>For <code>s/PATTERN/REPLACEMENT/</code> to do anything, the PATTERN must <em>match</em>.  So if there is any substitution at all as a result of an <code>s///</code> operation, you know that its PATTERN regex-matched successfully.  REPLACEMENT is then evaluated.</p>\n\n<p>(In your case, the <code>s/, /.../</code> PATTERN matches at least once on the comma and space after the text <code>bar a</code> in your second input line.)</p>\n\n<p>Of course, when that happens, the interpreter will reset all the capture elements (<code>$1</code>, <code>$2</code>, etc.) to whatever PATTERN captured.  Again, this is before REPLACEMENT is evaluated.  Since your PATTERN doesn't capture anything, those elements are undefined, just as they would be if you had explicitly done a non-capturing <code>m/, /</code> match.</p>\n"}], "owner": {"reputation": 4268, "user_id": 313192, "user_type": "registered", "accept_rate": 59, "profile_image": "https://i.stack.imgur.com/F718f.jpg?s=128&g=1", "display_name": "Caleb", "link": "https://stackoverflow.com/users/313192/caleb"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 63, "favorite_count": 0, "accepted_answer_id": 57057640, "answer_count": 2, "score": 1, "last_activity_date": 1563281744, "creation_date": 1563277733, "last_edit_date": 1563278835, "question_id": 57056552, "link": "https://stackoverflow.com/questions/57056552/why-does-perl-not-keep-the-match-variable-around-in-this-situation", "title": "Why does perl not keep the match variable around in this situation?", "body": "<p>I just struggled a long time to come up with a working little perl one-liner like this:</p>\n\n<pre class=\"lang-sh prettyprint-override\"><code>perl -pe 'if (/^(\".*\",\").*, /) { $a = $1; s/, /\"\\n$a/g}'\n</code></pre>\n\n<p>My input data looks something like this:</p>\n\n<pre><code>\"foo\",\"bar a\"\n\"baz\",\"bar a, bar b, bar c\"\n</code></pre>\n\n<p>And I'm transforming it to this:</p>\n\n<pre><code>\"foo\",\"bar a\"\n\"baz\",\"bar a\"\n\"baz\",\"bar b\"\n\"baz\",\"bar c\"\n</code></pre>\n\n<p>Basically I wanted to only match certain lines (<code>if (/, /)...</code>) and on those lines replace all instances of that match with a part of the original line. A <code>s///g</code> with a match group would not work because it would not recurse properly, the replacement string has to be figured out before replacements start happening.</p>\n\n<pre class=\"lang-perl prettyprint-override\"><code>if (/^(\".*\",\").*, /) { s/, /\"\\n$1/g}\n</code></pre>\n\n<p>Yet it did not. The var <code>$1</code> was never anything but empty. Given what the perl <a href=\"https://docstore.mik.ua/orelly/perl3/lperl/ch09_05.htm\" rel=\"nofollow noreferrer\">docs I read</a> said about persistence, this was a surprise to me:</p>\n\n<blockquote>\n  <p>These match variables generally stay around until the next successful pattern match.</p>\n</blockquote>\n\n<p>Only when I started stashing the result in a variable of my own could I access the result from the substitution expression:</p>\n\n<pre class=\"lang-perl prettyprint-override\"><code>if (/^(\".*\",\").*, /) { $a = $1; s/, /\"\\n$a/g}\n</code></pre>\n\n<p>Why was <code>$1</code> being cleared when not only was there no <em>successful</em> match, there was no request for a match at all in my search and replace? And would there have been a better way to approach this problem?</p>\n"}, {"tags": ["perl", "websocket", "stomp", "mojolicious"], "comments": [{"owner": {"reputation": 8718, "user_id": 5848200, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/a8072aaf76dcb4fe5027964252f16382?s=128&d=identicon&r=PG", "display_name": "Grinnz", "link": "https://stackoverflow.com/users/5848200/grinnz"}, "edited": false, "score": 0, "creation_date": 1563390662, "post_id": 57055205, "comment_id": 100688302, "body": "Was there a question?"}, {"owner": {"reputation": 21, "user_id": 1795791, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/e1f02fe4016a91d0e20304b166c1f253?s=128&d=identicon&r=PG", "display_name": "Ashok Ravi", "link": "https://stackoverflow.com/users/1795791/ashok-ravi"}, "reply_to_user": {"reputation": 8718, "user_id": 5848200, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/a8072aaf76dcb4fe5027964252f16382?s=128&d=identicon&r=PG", "display_name": "Grinnz", "link": "https://stackoverflow.com/users/5848200/grinnz"}, "edited": false, "score": 0, "creation_date": 1563410044, "post_id": 57055205, "comment_id": 100694163, "body": "@Grinnz yes bro I can&#39;t connect with above URL  through mojo"}], "owner": {"reputation": 21, "user_id": 1795791, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/e1f02fe4016a91d0e20304b166c1f253?s=128&d=identicon&r=PG", "display_name": "Ashok Ravi", "link": "https://stackoverflow.com/users/1795791/ashok-ravi"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 57, "favorite_count": 0, "answer_count": 0, "score": 1, "last_activity_date": 1563272870, "creation_date": 1563272870, "question_id": 57055205, "link": "https://stackoverflow.com/questions/57055205/stomp-protocol-over-websocket-using-mojolicious-in-perl", "title": "Stomp Protocol Over WebSocket using Mojolicious in Perl", "body": "<p>Currently, we are designing the client application to interact with stomp application over WebSocket using Mojolicious Library in Perl but MOJO doesn't have connect, subscribe and disconnect  methods for  STOMP commands (<a href=\"http://stomp.github.io/stomp-specification-1.0.html\" rel=\"nofollow noreferrer\">http://stomp.github.io/stomp-specification-1.0.html</a>) and some sample commands provides mentioned below,\nwe need to design the code for these commands to connect with stomp app</p>\n\n<pre><code>$ua-&gt;websocket_p('wss://ws.autorentals.com/async_rates')-&gt;then(sub {\n  my $tx = shift;\n  my $promise = Mojo::Promise-&gt;new;\n  $tx-&gt;on(finish =&gt; sub { $promise-&gt;resolve });\n  $tx-&gt;on(message =&gt; sub {\n    my ($tx, $msg) = @_;\n    say \"WebSocket message: $msg\";\n    $tx-&gt;finish;\n  });\n  $tx-&gt;send('Hi!');\n  return $promise;\n})-&gt;catch(sub {\n  my $err = shift;\n  warn \"WebSocket error: $err\";\n})-&gt;wait;\n</code></pre>\n\n<h2>Commands:</h2>\n\n<pre><code>CONNECT\nlogin: &lt;username&gt;\npasscode:&lt;passcode&gt;\n\n^@\n</code></pre>\n\n<hr>\n\n<pre><code>SUBSCRIBE\ndestination: /queue/foo\nack: client\n\n^@\n</code></pre>\n\n<hr>\n\n<pre><code>SEND\ndestination:/queue/a\n\nhello queue a\n^@\n</code></pre>\n\n<hr>\n"}, {"tags": ["perl"], "comments": [{"owner": {"reputation": 320771, "user_id": 589924, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/b2cf53d5a3d25f95c0db4e025aed4153?s=128&d=identicon&r=PG", "display_name": "ikegami", "link": "https://stackoverflow.com/users/589924/ikegami"}, "edited": false, "score": 0, "creation_date": 1563268195, "post_id": 57053333, "comment_id": 100633816, "body": "Tip: I strongly recommend the Perl6::Form module (a module for Perl 5) over Perl 5&#39;s builtin forms."}, {"owner": {"reputation": 32176, "user_id": 2173773, "user_type": "registered", "accept_rate": 86, "profile_image": "https://i.stack.imgur.com/M8yh6.jpg?s=128&g=1", "display_name": "H&#229;kon H&#230;gland", "link": "https://stackoverflow.com/users/2173773/h%c3%a5kon-h%c3%a6gland"}, "edited": false, "score": 0, "creation_date": 1563268494, "post_id": 57053333, "comment_id": 100633976, "body": "Please show the input file <code>acerun.log</code> (or a part of it that reproduces the error)"}, {"owner": {"reputation": 11, "user_id": 11790327, "user_type": "registered", "profile_image": "https://lh6.googleusercontent.com/-2lxNCx6zyfQ/AAAAAAAAAAI/AAAAAAAAAi0/T_ArTURvGm8/photo.jpg?sz=128", "display_name": "PRATEEK MISHRA", "link": "https://stackoverflow.com/users/11790327/prateek-mishra"}, "reply_to_user": {"reputation": 320771, "user_id": 589924, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/b2cf53d5a3d25f95c0db4e025aed4153?s=128&d=identicon&r=PG", "display_name": "ikegami", "link": "https://stackoverflow.com/users/589924/ikegami"}, "edited": false, "score": 0, "creation_date": 1563269053, "post_id": 57053333, "comment_id": 100634253, "body": "@ikegami then what I can do to start reading again from first line."}], "answers": [{"comments": [{"owner": {"reputation": 320771, "user_id": 589924, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/b2cf53d5a3d25f95c0db4e025aed4153?s=128&d=identicon&r=PG", "display_name": "ikegami", "link": "https://stackoverflow.com/users/589924/ikegami"}, "edited": false, "score": 0, "creation_date": 1563268381, "post_id": 57053826, "comment_id": 100633911, "body": "Not the problem. I might be missing something, but I don&#39;t even know what you mean."}, {"owner": {"reputation": 38072, "user_id": 46395, "user_type": "registered", "accept_rate": 71, "profile_image": "https://www.gravatar.com/avatar/5ce828f20abb195ef5d971205ee36c27?s=128&d=identicon&r=PG", "display_name": "daxim", "link": "https://stackoverflow.com/users/46395/daxim"}, "reply_to_user": {"reputation": 320771, "user_id": 589924, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/b2cf53d5a3d25f95c0db4e025aed4153?s=128&d=identicon&r=PG", "display_name": "ikegami", "link": "https://stackoverflow.com/users/589924/ikegami"}, "edited": false, "score": 0, "creation_date": 1563269063, "post_id": 57053826, "comment_id": 100634256, "body": "Recall what the three parts of C-style <code>for</code> do. Imagine $row contains &quot;\\n&quot; after readline operation (empty line in file). At the end of the loop body, $row is numerically incremented. It would emit warning <code>Argument &quot;\\n&quot; treated as 0 in increment (++) at \u2026</code> Is the problem clear now?"}, {"owner": {"reputation": 320771, "user_id": 589924, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/b2cf53d5a3d25f95c0db4e025aed4153?s=128&d=identicon&r=PG", "display_name": "ikegami", "link": "https://stackoverflow.com/users/589924/ikegami"}, "edited": false, "score": 0, "creation_date": 1563269174, "post_id": 57053826, "comment_id": 100634323, "body": "I just noticed what you meant, but that code is purely useless. There&#39;s a lot of issues with the code, but that&#39;s one doesn&#39;t affect the outcome, and it&#39;s not what the OP is asking about."}, {"owner": {"reputation": 11, "user_id": 11790327, "user_type": "registered", "profile_image": "https://lh6.googleusercontent.com/-2lxNCx6zyfQ/AAAAAAAAAAI/AAAAAAAAAi0/T_ArTURvGm8/photo.jpg?sz=128", "display_name": "PRATEEK MISHRA", "link": "https://stackoverflow.com/users/11790327/prateek-mishra"}, "edited": false, "score": 0, "creation_date": 1563269313, "post_id": 57053826, "comment_id": 100634408, "body": "Bro I have a file which contains around 2 millions of lines and I have to search some string&#39;s occurrence i.e. how many times it exists in that file.I want output in that format only as mentioned above in actual result."}], "tags": [], "owner": {"reputation": 38072, "user_id": 46395, "user_type": "registered", "accept_rate": 71, "profile_image": "https://www.gravatar.com/avatar/5ce828f20abb195ef5d971205ee36c27?s=128&d=identicon&r=PG", "display_name": "daxim", "link": "https://stackoverflow.com/users/46395/daxim"}, "is_accepted": false, "score": 0, "last_activity_date": 1563268236, "creation_date": 1563268236, "answer_id": 57053826, "question_id": 57053333, "link": "https://stackoverflow.com/questions/57053333/count-number-of-times-and-print-line-number-of-occurence-of-a-string-in-a-file-b/57053826#57053826", "title": "count number of times and print line number of occurence of a string in a file by reading that file line by line", "body": "<p>The C style <code>for</code> loop is wrong, you mix up $row with two different purposes, as both numeric <a href=\"http://p3rl.org/IO::Handle#input_line_number\" rel=\"nofollow noreferrer\">line number counter</a> and as a line read from the file handle. You need to separate the purposes. Use instead:</p>\n\n<pre><code>while (my $row = readline $file) {\n    print $row;                         # line from file\n    print $file-&gt;input_line_number;     # current line number of handle\n}\n</code></pre>\n"}, {"comments": [{"owner": {"reputation": 11, "user_id": 11790327, "user_type": "registered", "profile_image": "https://lh6.googleusercontent.com/-2lxNCx6zyfQ/AAAAAAAAAAI/AAAAAAAAAi0/T_ArTURvGm8/photo.jpg?sz=128", "display_name": "PRATEEK MISHRA", "link": "https://stackoverflow.com/users/11790327/prateek-mishra"}, "edited": false, "score": 0, "creation_date": 1563269945, "post_id": 57054051, "comment_id": 100634712, "body": "sorry but I didn&#39;t get your logic.I have to read from one file and to write in another file in given format.you have not used any file handle to read and write .Can you post complete code according to my code."}], "tags": [], "owner": {"reputation": 320771, "user_id": 589924, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/b2cf53d5a3d25f95c0db4e025aed4153?s=128&d=identicon&r=PG", "display_name": "ikegami", "link": "https://stackoverflow.com/users/589924/ikegami"}, "is_accepted": false, "score": 2, "last_activity_date": 1563269769, "last_edit_date": 1563269769, "creation_date": 1563269056, "answer_id": 57054051, "question_id": 57053333, "link": "https://stackoverflow.com/questions/57053333/count-number-of-times-and-print-line-number-of-occurence-of-a-string-in-a-file-b/57054051#57054051", "title": "count number of times and print line number of occurence of a string in a file by reading that file line by line", "body": "<p>The inner loop is never entered for the names after the first one (<code>error2</code> and <code>error3</code>) because the file is already at EOF from looking for the first one (<code>error1</code>).</p>\n\n<p>You could re-open the file for every name, but it's far simpler and faster to loop over the names for every line instead of reading the file for every name.</p>\n\n<p>The following fixes this and other issues: </p>\n\n<pre><code>use strict;    # Always use this!!!\nuse warnings;  # Always use this!!!\n\nmy @names = qw( error1 error2 error3 );\n\nmy %counts = map { $_ =&gt; 0 } @names;\nwhile (my $line = &lt;&gt;) {\n   chomp($line);\n   for my $name (@names) {\n      ++$counts{$name} if $line =~ /\\Q$name/;\n   }\n}\n\nprint(\n   #12345678901234567890123456789 12345678901234567890123456789\n   \"-----------------------------------------------------------\\n\",\n   \"Error_type                    number_of_times\\n\",\n   \"-----------------------------------------------------------\\n\",\n);\n\nfor my $name (@names) {\n   printf(\"%-29s %29s\\n\", $name, $counts{$name});\n}\n</code></pre>\n"}], "owner": {"reputation": 11, "user_id": 11790327, "user_type": "registered", "profile_image": "https://lh6.googleusercontent.com/-2lxNCx6zyfQ/AAAAAAAAAAI/AAAAAAAAAi0/T_ArTURvGm8/photo.jpg?sz=128", "display_name": "PRATEEK MISHRA", "link": "https://stackoverflow.com/users/11790327/prateek-mishra"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 53, "favorite_count": 1, "answer_count": 2, "score": 0, "last_activity_date": 1563269769, "creation_date": 1563266456, "last_edit_date": 1563267662, "question_id": 57053333, "link": "https://stackoverflow.com/questions/57053333/count-number-of-times-and-print-line-number-of-occurence-of-a-string-in-a-file-b", "title": "count number of times and print line number of occurence of a string in a file by reading that file line by line", "body": "<p>when I am executing my code for first iteration it is working fine,but for other iteration it is not going into the for($row=0;$row=;$row++) loop.\nso I am not getting the expected result .Please help.</p>\n\n<pre><code>@names =(\"error1\",\"error2\",\"error3\");\nmy $filepath\n=\"/home/acerun.log\";\nmy $filepath1=\"/home/Perl/result6.log\";\nchomp($str);\nopen my $file,'&lt;',$filepath or die \"unable to open file :$!\";\nopen my $file1,'&gt;&gt;',$filepath1 or die \"unable to write to file :$!\";\n$count=0;\n@line_num =();\n@name=();\n@number=();\nforeach $str (@names){\n  push(@name,$str);\n  $i=0;\n for($row=0;$row=&lt;$file&gt;;$row++){\n    chomp($row);\n    if($row=~/$str/){\n       push(@line_num,$.);     \n       # print $file1 \"$row \\n\";\n       $i++;\n       $count=1;\n    }\n    }\n  push(@number,$i);\n}\n\nformat Logfile = \n@&lt;&lt;&lt;&lt;&lt;&lt;&lt;&lt;&lt;&lt;&lt;&lt;&lt;&lt;&lt;&lt;&lt;&lt;&lt;&lt;&lt;&lt;&lt;&lt;&lt;&lt;&lt;&lt;&lt;&lt;&lt;&lt;&lt;&lt;&lt;   @######               \n $Error_name                            $Number               \n-----------------------------------------------------------\n.\n\nformat Logfile_Top = \n-----------------------------------------------------------\nError_type                    number_of_times\n----------------------------------------------------------- \n.\nselect($file1);\n$~=Logfile;\n$^=Logfile_Top;\n\n$j=0;\nforeach (@name){\n    $Error_name = $_;\n    $Number=$number[$j++];\n    write;\n}\n</code></pre>\n\n<p>expected result:</p>\n\n<pre><code>-----------------------------------------------------------\nError_type                    number_of_times\n-----------------------------------------------------------\nerror1                   36\n-----------------------------------------------------------\nerror2                   35\n-----------------------------------------------------------\nerror3                    17\n-----------------------------------------------------------\n</code></pre>\n\n<p>actual result:</p>\n\n<pre><code>-----------------------------------------------------------\nError_type                    number_of_times\n-----------------------------------------------------------\nerror1                   36\n-----------------------------------------------------------\nerror2                   0\n-----------------------------------------------------------\nerror3                    0\n-----------------------------------------------------------\n</code></pre>\n"}, {"tags": ["regex", "perl"], "comments": [{"owner": {"reputation": 33687, "user_id": 9624435, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/h44B4.jpg?s=128&g=1", "display_name": "Code Maniac", "link": "https://stackoverflow.com/users/9624435/code-maniac"}, "edited": false, "score": 0, "creation_date": 1563263251, "post_id": 57052382, "comment_id": 100631151, "body": "just add <code>-</code> at last n character class, i.e change this <code>[\\w-_.]</code> to <code>[\\w_.-]</code> this"}, {"owner": {"reputation": 397, "user_id": 9892631, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/9270664e143242e154d99f1401acab12?s=128&d=identicon&r=PG&f=1", "display_name": "poisn", "link": "https://stackoverflow.com/users/9892631/poisn"}, "reply_to_user": {"reputation": 33687, "user_id": 9624435, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/h44B4.jpg?s=128&g=1", "display_name": "Code Maniac", "link": "https://stackoverflow.com/users/9624435/code-maniac"}, "edited": false, "score": 0, "creation_date": 1563263339, "post_id": 57052382, "comment_id": 100631190, "body": "@CodeManiac what is the difference between these two?"}, {"owner": {"reputation": 33687, "user_id": 9624435, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/h44B4.jpg?s=128&g=1", "display_name": "Code Maniac", "link": "https://stackoverflow.com/users/9624435/code-maniac"}, "edited": false, "score": 2, "creation_date": 1563263394, "post_id": 57052382, "comment_id": 100631223, "body": "<code>-</code> in between character class stand for range"}], "answers": [{"comments": [{"owner": {"reputation": 33687, "user_id": 9624435, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/h44B4.jpg?s=128&g=1", "display_name": "Code Maniac", "link": "https://stackoverflow.com/users/9624435/code-maniac"}, "edited": false, "score": 0, "creation_date": 1563263504, "post_id": 57052429, "comment_id": 100631288, "body": "This is not true in all the cases that <code>-</code> will be treated as range <a href=\"https://stackoverflow.com/questions/56572373/how-word-character-is-interpreted-in-character-class\"><code>Related question</code></a>"}, {"owner": {"reputation": 332764, "user_id": 263525, "user_type": "registered", "accept_rate": 85, "profile_image": "https://www.gravatar.com/avatar/ec289925069b35f18f1230b90dc654e5?s=128&d=identicon&r=PG", "display_name": "Denys S&#233;guret", "link": "https://stackoverflow.com/users/263525/denys-s%c3%a9guret"}, "reply_to_user": {"reputation": 33687, "user_id": 9624435, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/h44B4.jpg?s=128&g=1", "display_name": "Code Maniac", "link": "https://stackoverflow.com/users/9624435/code-maniac"}, "edited": false, "score": 0, "creation_date": 1563263570, "post_id": 57052429, "comment_id": 100631317, "body": "@CodeManiac I don&#39;t get your comment. Are you sure you&#39;ve read my answer correctly ? Is it just about the formulation ?"}, {"owner": {"reputation": 33687, "user_id": 9624435, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/h44B4.jpg?s=128&g=1", "display_name": "Code Maniac", "link": "https://stackoverflow.com/users/9624435/code-maniac"}, "edited": false, "score": 0, "creation_date": 1563263647, "post_id": 57052429, "comment_id": 100631359, "body": "@DenysS&#233;guret what i mean is <code>-</code> in between character is always do not denote range, just read the question link i posted in comment"}, {"owner": {"reputation": 332764, "user_id": 263525, "user_type": "registered", "accept_rate": 85, "profile_image": "https://www.gravatar.com/avatar/ec289925069b35f18f1230b90dc654e5?s=128&d=identicon&r=PG", "display_name": "Denys S&#233;guret", "link": "https://stackoverflow.com/users/263525/denys-s%c3%a9guret"}, "reply_to_user": {"reputation": 33687, "user_id": 9624435, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/h44B4.jpg?s=128&g=1", "display_name": "Code Maniac", "link": "https://stackoverflow.com/users/9624435/code-maniac"}, "edited": false, "score": 1, "creation_date": 1563263694, "post_id": 57052429, "comment_id": 100631388, "body": "@CodeManiac if you read my answer you&#39;ll see I&#39;m well aware of this. And don&#39;t use that trick without knowing your engine well enough: it depends on the engine <i>and version</i>"}, {"owner": {"reputation": 320771, "user_id": 589924, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/b2cf53d5a3d25f95c0db4e025aed4153?s=128&d=identicon&r=PG", "display_name": "ikegami", "link": "https://stackoverflow.com/users/589924/ikegami"}, "reply_to_user": {"reputation": 33687, "user_id": 9624435, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/h44B4.jpg?s=128&g=1", "display_name": "Code Maniac", "link": "https://stackoverflow.com/users/9624435/code-maniac"}, "edited": false, "score": 0, "creation_date": 1563263851, "post_id": 57052429, "comment_id": 100631470, "body": "@Code Maniac, Re &quot;<i>what i mean is - in between character is always do not denote range</i>&quot;, huh? It does in character classes, unless it&#39;s at the end, at the start, after a leading <code>^</code>, at the start/end of a range, or if it&#39;s escaped. Is that what you meant?"}, {"owner": {"reputation": 33687, "user_id": 9624435, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/h44B4.jpg?s=128&g=1", "display_name": "Code Maniac", "link": "https://stackoverflow.com/users/9624435/code-maniac"}, "reply_to_user": {"reputation": 320771, "user_id": 589924, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/b2cf53d5a3d25f95c0db4e025aed4153?s=128&d=identicon&r=PG", "display_name": "ikegami", "link": "https://stackoverflow.com/users/589924/ikegami"}, "edited": false, "score": 0, "creation_date": 1563264067, "post_id": 57052429, "comment_id": 100631577, "body": "@ikegami no it doesn&#39;t the question link i posted is regarding that only, in <code>JS</code> if use <code>[\\w-~]</code> <code>-</code> is not treated as range, where as in <code>[A-Za-z0-9_-~]</code>  <code>-</code> is treated as range"}, {"owner": {"reputation": 320771, "user_id": 589924, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/b2cf53d5a3d25f95c0db4e025aed4153?s=128&d=identicon&r=PG", "display_name": "ikegami", "link": "https://stackoverflow.com/users/589924/ikegami"}, "edited": false, "score": 1, "creation_date": 1563264086, "post_id": 57052429, "comment_id": 100631585, "body": "This question isn&#39;t about JS; it&#39;s about Perl. There many regex languages, just like there are many programming languages."}], "tags": [], "owner": {"reputation": 332764, "user_id": 263525, "user_type": "registered", "accept_rate": 85, "profile_image": "https://www.gravatar.com/avatar/ec289925069b35f18f1230b90dc654e5?s=128&d=identicon&r=PG", "display_name": "Denys S&#233;guret", "link": "https://stackoverflow.com/users/263525/denys-s%c3%a9guret"}, "is_accepted": false, "score": 3, "last_activity_date": 1563263612, "last_edit_date": 1563263612, "creation_date": 1563263257, "answer_id": 57052429, "question_id": 57052382, "link": "https://stackoverflow.com/questions/57052382/false-range-in-regex/57052429#57052429", "title": "False [] range in regex", "body": "<p>A dash in a character set (between <code>[</code> and <code>]</code>) is usually used to define a range. You should either move the dash to the end of the set definition or, better, escape that dash:</p>\n\n<pre><code>[\\w\\-_.]\n</code></pre>\n\n<p>(note that not all regex engines accept an unescaped dash just because it's at the end, so I don't recommend it in general). </p>\n"}, {"tags": [], "owner": {"reputation": 320771, "user_id": 589924, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/b2cf53d5a3d25f95c0db4e025aed4153?s=128&d=identicon&r=PG", "display_name": "ikegami", "link": "https://stackoverflow.com/users/589924/ikegami"}, "is_accepted": true, "score": 5, "last_activity_date": 1563283735, "last_edit_date": 1563283735, "creation_date": 1563263521, "answer_id": 57052496, "question_id": 57052382, "link": "https://stackoverflow.com/questions/57052382/false-range-in-regex/57052496#57052496", "title": "False [] range in regex", "body": "<p><code>-</code> is special in <a href=\"http://p3rl.org/recharclass#Bracketed-Character-Classes\" rel=\"nofollow noreferrer\">bracketed character classes</a> (<code>[...]</code>). It can be used to specify <a href=\"http://p3rl.org/recharclass#Character-Ranges\" rel=\"nofollow noreferrer\">ranges of characters</a>.</p>\n\n<pre><code>[a-z]\n</code></pre>\n\n<p>However, the range you specified (<code>[\\w-_]</code>) doesn't make any sense. You presumably meant to match <code>_</code> literally, which can be done by escaping the <code>-</code>.</p>\n\n<pre><code>[\\w\\-_.]\n</code></pre>\n\n<p>Placing the <code>-</code> at the start or end of the character class also works.</p>\n\n<pre><code>[\\w_.-]\n</code></pre>\n"}], "owner": {"reputation": 397, "user_id": 9892631, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/9270664e143242e154d99f1401acab12?s=128&d=identicon&r=PG&f=1", "display_name": "poisn", "link": "https://stackoverflow.com/users/9892631/poisn"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 172, "favorite_count": 0, "closed_date": 1563291770, "accepted_answer_id": 57052496, "answer_count": 2, "score": 0, "last_activity_date": 1563283735, "creation_date": 1563263105, "question_id": 57052382, "link": "https://stackoverflow.com/questions/57052382/false-range-in-regex", "closed_reason": "Duplicate", "title": "False [] range in regex", "body": "<p>I'm using a regex to check the name of the files. Now the console from Intellij shows me this message:  </p>\n\n<blockquote>\n  <p>False [] range \"\\w-\" in regex; marked by <strong>&lt;-- HERE</strong> in\n  m/^deploy-file-\\d+_[\\w <strong>&lt;-- HERE</strong> _.]+\\d+.log$/ at ...</p>\n</blockquote>\n\n<p><strong>Code</strong></p>\n\n<pre><code>elsif ($filename =~ m/^deploy-file-\\d+_[\\w-_.]+\\d+\\.log$/) {\n   print \"$filename match with pattern\\n\";\n}\n</code></pre>\n\n<p>I wanted to say that everything is working and the pattern works fine so far.\nMy question is, why does intellij show me this message? What is the problem? \nAnd does it have any effects on the program?</p>\n\n<p>My pattern also works on <a href=\"https://regex101.com/r/Lj2r4r/2\" rel=\"nofollow noreferrer\">https://regex101.com/r/Lj2r4r/2</a></p>\n"}, {"tags": ["perl", "awk"], "comments": [{"owner": {"reputation": 31251, "user_id": 4162356, "user_type": "registered", "accept_rate": 92, "profile_image": "https://i.stack.imgur.com/dGhuV.png?s=128&g=1", "display_name": "James Brown", "link": "https://stackoverflow.com/users/4162356/james-brown"}, "edited": false, "score": 2, "creation_date": 1563264197, "post_id": 57052053, "comment_id": 100631646, "body": "Did you try anything?"}, {"owner": {"reputation": 4745, "user_id": 4289380, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/73c4c5f526ed9027b3ee1d0f0ddad3e4?s=128&d=identicon&r=PG&f=1", "display_name": "Corentin Limier", "link": "https://stackoverflow.com/users/4289380/corentin-limier"}, "edited": false, "score": 1, "creation_date": 1563265516, "post_id": 57052053, "comment_id": 100632331, "body": "Possible duplicate of <a href=\"https://stackoverflow.com/questions/56446606/data-manipulation-in-linux\">Data manipulation in linux</a>"}], "answers": [{"tags": [], "owner": {"reputation": 32176, "user_id": 2173773, "user_type": "registered", "accept_rate": 86, "profile_image": "https://i.stack.imgur.com/M8yh6.jpg?s=128&g=1", "display_name": "H&#229;kon H&#230;gland", "link": "https://stackoverflow.com/users/2173773/h%c3%a5kon-h%c3%a6gland"}, "is_accepted": false, "score": 0, "last_activity_date": 1563267529, "last_edit_date": 1563267529, "creation_date": 1563265675, "answer_id": 57053076, "question_id": 57052053, "link": "https://stackoverflow.com/questions/57052053/remove-the-lines-from-data-set-if-two-value-preset-in-one-row-are-repeated-in-an/57053076#57053076", "title": "Remove the lines from data-set if two value preset in one row are repeated in another rows of the data-set", "body": "<p>Try this Perl script:</p>\n\n<pre><code>use feature qw(say);\nuse strict;\nuse warnings;\n\nmy $fn = 'data.txt';\nopen ( my $fh, '&lt;', $fn ) or die \"Could not open file '$fn': $!\";\nmy %data;\nwhile (my $line = &lt;$fh&gt;) {\n    chomp $line;\n    my ($col1, $col2) = $line =~ /^\\s+\"([^\"]*)\"\\s+\"([^\"]*)\"/;\n    next if $data{$col1.$col2}++;\n    next if ($col1 ne $col2 ) &amp;&amp; $data{$col2.$col1}++;\n    say $line;\n}\nclose $fh;    \n</code></pre>\n"}, {"comments": [{"owner": {"reputation": 32176, "user_id": 2173773, "user_type": "registered", "accept_rate": 86, "profile_image": "https://i.stack.imgur.com/M8yh6.jpg?s=128&g=1", "display_name": "H&#229;kon H&#230;gland", "link": "https://stackoverflow.com/users/2173773/h%c3%a5kon-h%c3%a6gland"}, "edited": false, "score": 0, "creation_date": 1563266209, "post_id": 57053137, "comment_id": 100632668, "body": "Nice one. But will not work if the columns have internal white space?"}, {"owner": {"reputation": 1200, "user_id": 11742141, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/229fb31ba10e8dc02b2acd2e3b41a918?s=128&d=identicon&r=PG&f=1", "display_name": "Ravi Saroch", "link": "https://stackoverflow.com/users/11742141/ravi-saroch"}, "edited": false, "score": 0, "creation_date": 1563266862, "post_id": 57053137, "comment_id": 100633045, "body": "it also deleted the rows that contain same value in a particular row. like:                                 a          a"}], "tags": [], "owner": {"reputation": 38004, "user_id": 2341847, "user_type": "registered", "accept_rate": 90, "profile_image": "https://i.stack.imgur.com/1HdBS.png?s=128&g=1", "display_name": "Jotne", "link": "https://stackoverflow.com/users/2341847/jotne"}, "is_accepted": false, "score": 0, "last_activity_date": 1563283432, "last_edit_date": 1563283432, "creation_date": 1563265875, "answer_id": 57053137, "question_id": 57052053, "link": "https://stackoverflow.com/questions/57052053/remove-the-lines-from-data-set-if-two-value-preset-in-one-row-are-repeated-in-an/57053137#57053137", "title": "Remove the lines from data-set if two value preset in one row are repeated in another rows of the data-set", "body": "<p>This may work:</p>\n\n<pre><code>cat file\n\"School\" \"University\"\n\"University\" \"School\"\n\"Class\" \"Room\"\n\"WeekDay\" \"Weekend\"\n\nawk '!a[$1FS$2]++ &amp;&amp; !a[$2FS$1]++' file\n\"School\" \"University\"\n\"Class\" \"Room\"\n\"WeekDay\" \"Weekend\"\n</code></pre>\n\n<p>It will also remove blank lines</p>\n\n<p>A variation of the same solution:</p>\n\n<pre><code>awk '!(a[$1FS$2]++ || a[$2FS$1]++)' file\n</code></pre>\n"}, {"comments": [{"owner": {"reputation": 38004, "user_id": 2341847, "user_type": "registered", "accept_rate": 90, "profile_image": "https://i.stack.imgur.com/1HdBS.png?s=128&g=1", "display_name": "Jotne", "link": "https://stackoverflow.com/users/2341847/jotne"}, "edited": false, "score": 0, "creation_date": 1563273102, "post_id": 57053523, "comment_id": 100636379, "body": "Nice solution to the problem."}, {"owner": {"reputation": 155597, "user_id": 1745001, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/99a3ebae89496eb16afe453aae97f5be?s=128&d=identicon&r=PG", "display_name": "Ed Morton", "link": "https://stackoverflow.com/users/1745001/ed-morton"}, "edited": false, "score": 1, "creation_date": 1563281213, "post_id": 57053523, "comment_id": 100640815, "body": "This is the idiomatic approach but the array is usually named <code>seen[]</code>, e.g. <code>awk &#39;!seen[$1 &gt; $2 ? $1 FS $2 : $2 FS $1]++&#39; file</code>"}], "tags": [], "owner": {"reputation": 83048, "user_id": 2255089, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/ZNAsT.jpg?s=128&g=1", "display_name": "Casimir et Hippolyte", "link": "https://stackoverflow.com/users/2255089/casimir-et-hippolyte"}, "is_accepted": true, "score": 3, "last_activity_date": 1563268834, "last_edit_date": 1563268834, "creation_date": 1563267154, "answer_id": 57053523, "question_id": 57052053, "link": "https://stackoverflow.com/questions/57052053/remove-the-lines-from-data-set-if-two-value-preset-in-one-row-are-repeated-in-an/57053523#57053523", "title": "Remove the lines from data-set if two value preset in one row are repeated in another rows of the data-set", "body": "<p>Similar to Jotne answer but using a comparison to produce the key with fields always in the same order and using the quote as delimiter:</p>\n\n<pre><code>awk -F\\\" '!a[$2 &lt; $4 ? $2FS$4 : $4FS$2]++' file\n</code></pre>\n\n<p>This way the result doesn't depend of eventual spaces inside quoted parts.</p>\n"}], "owner": {"reputation": 1200, "user_id": 11742141, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/229fb31ba10e8dc02b2acd2e3b41a918?s=128&d=identicon&r=PG&f=1", "display_name": "Ravi Saroch", "link": "https://stackoverflow.com/users/11742141/ravi-saroch"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 125, "favorite_count": 0, "accepted_answer_id": 57053523, "answer_count": 3, "score": 0, "last_activity_date": 1569050553, "creation_date": 1563261980, "last_edit_date": 1569050553, "question_id": 57052053, "link": "https://stackoverflow.com/questions/57052053/remove-the-lines-from-data-set-if-two-value-preset-in-one-row-are-repeated-in-an", "title": "Remove the lines from data-set if two value preset in one row are repeated in another rows of the data-set", "body": "<p>I have a dataset of two columns. Suppose one row of the data contains values</p>\n\n<pre><code>\"School\"    \"University\" \n</code></pre>\n\n<p>if same values are present in different rows either in same format or opposite format(vice-versa) like</p>\n\n<pre><code>\"University\"  \"School\" \n</code></pre>\n\n<p>I want to retain only single row out of these two.</p>\n\n<p>Input Example Data:</p>\n\n<pre><code>\"School\"       \"University\"\n\"University\"   \"School\"\n\"Class\"        \"Room\"\n\"WeekDay\"      \"Weekend\"\n</code></pre>\n\n<p>Expected Output:</p>\n\n<pre><code>\"School\"       \"University\"\n\"Class\"        \"Room\"\n\"WeekDay\"      \"Weekend\"\n</code></pre>\n"}, {"tags": ["perl", "mojolicious"], "answers": [{"tags": [], "owner": {"reputation": 490, "user_id": 117896, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/0bd7962ff55bee4341e18225d8af7b43?s=128&d=identicon&r=PG", "display_name": "Dotan Dimet", "link": "https://stackoverflow.com/users/117896/dotan-dimet"}, "is_accepted": true, "score": 1, "last_activity_date": 1563282515, "last_edit_date": 1563282515, "creation_date": 1563266250, "answer_id": 57053259, "question_id": 57049509, "link": "https://stackoverflow.com/questions/57049509/mojolicious-and-packaged-routes/57053259#57053259", "title": "Mojolicious and packaged routes?", "body": "<p>You probably want to create a <a href=\"https://mojolicious.org/perldoc/Mojolicious/Plugins\" rel=\"nofollow noreferrer\"><code>Mojolicious::Plugin</code></a>. The plugin's <strong>register</strong> method is called on startup and has access to the app and through it to its routes.</p>\n\n<p>So, your route-adding module would look like this:</p>\n\n<pre><code>package MyRouteGen;\nuse Mojo::Base 'Mojolicious::Plugin';\n\nsub register {\n  my ($self, $app, $conf) = @_;\n  $name = ($conf &amp;&amp; defined $conf-&gt;{'name'}) ? $conf-&gt;{'name'} : 'foo'; \n  return $app-&gt;routes-&gt;get('/foo')\n                     -&gt;to(sub{ \n                            shift-&gt;render(text =&gt; \"hello, $name\")\n                        });\n }\n</code></pre>\n\n<p>Then in a Mojo application:</p>\n\n<pre><code>sub startup {\n my $app = shift;\n $app-&gt;plugin('MyRouteGen', { name =&gt; 'baz' });\n $app-&gt;get('/bar')-&gt;to(sub{ print \"hello, bar\" });\n ...\n}\n</code></pre>\n"}], "owner": {"reputation": 63855, "user_id": 124486, "user_type": "registered", "accept_rate": 46, "profile_image": "https://www.gravatar.com/avatar/605442f85418d858e2ce1e1aea2092bb?s=128&d=identicon&r=PG", "display_name": "Evan Carroll", "link": "https://stackoverflow.com/users/124486/evan-carroll"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 84, "favorite_count": 0, "accepted_answer_id": 57053259, "answer_count": 1, "score": 1, "last_activity_date": 1563391539, "creation_date": 1563246501, "last_edit_date": 1563391539, "question_id": 57049509, "link": "https://stackoverflow.com/questions/57049509/mojolicious-and-packaged-routes", "title": "Mojolicious and packaged routes?", "body": "<p>Mojolicious has a routes object named <a href=\"https://mojolicious.org/perldoc/Mojolicious/Routes\" rel=\"nofollow noreferrer\">Mojolicious::Routes</a>. I would like to create one of these outside of my app, independent of it so I could export these routes and import them into my app..</p>\n\n<pre><code>use Mojolicious::Routes;\n\nsub _gen_route {\n  my $r = Mojolicious::Routes-&gt;new;\n  $r-&gt;get('/foo')-&gt;to(sub{ print \"hello, foo\" });\n  $r;\n}\n</code></pre>\n\n<p>Then in a Mojo application</p>\n\n<pre><code>sub startup {\n  my $self = shift;\n  my $r = shift;\n\n  $r-&gt;get('/bar')-&gt;to(sub{ print \"hello, bar\" });\n\n  $r-&gt;import_router(_gen_route())\n}\n</code></pre>\n\n<p>Is there anyway to compose routers? Ie., package up a route and import it into Apps router?</p>\n"}, {"tags": ["html", "linux", "perl", "csv", "delimiter"], "comments": [{"owner": {"reputation": 1952, "user_id": 4178262, "user_type": "registered", "profile_image": "https://lh6.googleusercontent.com/-MVZ9ZR1BFos/AAAAAAAAAAI/AAAAAAAAAAA/aEP8yOumPbw/photo.jpg?sz=128", "display_name": "Mark Stewart", "link": "https://stackoverflow.com/users/4178262/mark-stewart"}, "edited": false, "score": 0, "creation_date": 1563214313, "post_id": 57044826, "comment_id": 100617920, "body": "What does the output from the Perl script look like?"}, {"owner": {"reputation": 71, "user_id": 5152781, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/b6b3e9b212371537a49675cb44715aac?s=128&d=identicon&r=PG&f=1", "display_name": "User1234141414", "link": "https://stackoverflow.com/users/5152781/user1234141414"}, "reply_to_user": {"reputation": 1952, "user_id": 4178262, "user_type": "registered", "profile_image": "https://lh6.googleusercontent.com/-MVZ9ZR1BFos/AAAAAAAAAAI/AAAAAAAAAAA/aEP8yOumPbw/photo.jpg?sz=128", "display_name": "Mark Stewart", "link": "https://stackoverflow.com/users/4178262/mark-stewart"}, "edited": false, "score": 1, "creation_date": 1563215644, "post_id": 57044826, "comment_id": 100618368, "body": "Already edited with this included, thanks!"}, {"owner": {"reputation": 53041, "user_id": 4653379, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/b3953dbedd0dabff5cbc3db9b0835b14?s=128&d=identicon&r=PG&f=1", "display_name": "zdim", "link": "https://stackoverflow.com/users/4653379/zdim"}, "edited": false, "score": 2, "creation_date": 1563220635, "post_id": 57044826, "comment_id": 100620248, "body": "The names in your sample data are shown at the end of a row -- and the first one (<code>Virnia Ray</code>) is even in the header row. Is this a mistake in posting?  Are the names meant to be at the beginning?  (Correct that if it&#39;s wrong.)  Also -- is it <i>always</i> two words for the full name?"}, {"owner": {"reputation": 137100, "user_id": 874188, "user_type": "registered", "accept_rate": 62, "profile_image": "https://i.stack.imgur.com/ZcY77.png?s=128&g=1", "display_name": "tripleee", "link": "https://stackoverflow.com/users/874188/tripleee"}, "edited": false, "score": 0, "creation_date": 1563249127, "post_id": 57044826, "comment_id": 100626522, "body": "Seeing as your original table apparently comes from HTML, it would make a lot more sense to fix the original converter to use semicolon separators instead, rather than attempt to sort it out heuristically in a separate postprocessor after conversion. The Perl script I ad-hocked up in <a href=\"/questions/57010927/email-html-to-csv-file\">your previous question</a> might be a start."}, {"owner": {"reputation": 71, "user_id": 5152781, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/b6b3e9b212371537a49675cb44715aac?s=128&d=identicon&r=PG&f=1", "display_name": "User1234141414", "link": "https://stackoverflow.com/users/5152781/user1234141414"}, "edited": false, "score": 0, "creation_date": 1563275844, "post_id": 57044826, "comment_id": 100637811, "body": "Yes tripleee I think the html2text can be reviewed to make this work in a best way, but I haved tested w3m and lynx all in the combo and no way to do a good table (from the original html code) to simplify the conversion to text, the best output from this was all the data with no spaces between, removing all the &quot;table&quot; data, but I guess this will be more complex the work of back to do the table."}, {"owner": {"reputation": 71, "user_id": 5152781, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/b6b3e9b212371537a49675cb44715aac?s=128&d=identicon&r=PG&f=1", "display_name": "User1234141414", "link": "https://stackoverflow.com/users/5152781/user1234141414"}, "edited": false, "score": 0, "creation_date": 1563276015, "post_id": 57044826, "comment_id": 100637899, "body": "Zdim the table are pasted from the original source data, if I touch the number of spaces I tough this can be a problem, because the original source comes from unicode."}, {"owner": {"reputation": 71, "user_id": 5152781, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/b6b3e9b212371537a49675cb44715aac?s=128&d=identicon&r=PG&f=1", "display_name": "User1234141414", "link": "https://stackoverflow.com/users/5152781/user1234141414"}, "edited": false, "score": 0, "creation_date": 1563284744, "post_id": 57044826, "comment_id": 100643033, "body": "Tripleee had updated the post to the original data source html maybe someone know some better than html2text."}, {"owner": {"reputation": 61, "user_id": 11772964, "user_type": "registered", "profile_image": "https://lh6.googleusercontent.com/-XEotRBTqwSc/AAAAAAAAAAI/AAAAAAAALZ4/V-jGawgic9A/photo.jpg?sz=128", "display_name": "TheYeti", "link": "https://stackoverflow.com/users/11772964/theyeti"}, "edited": false, "score": 0, "creation_date": 1563357231, "post_id": 57044826, "comment_id": 100669916, "body": "Can you please post more parts of original source HTML may be add 2 or more entry? I&#39;d like to see the pattern for the next entries.  Also, to clarify, in this input  -- Mr&#237;da Xatia Mecrdiz M&#237;ndrz, yrcrr&#237;a cdcsurtmz at ruy opdxlxtrb mxs2axs rl tsactfgre xorts tdz drfod t   zude def rtexetggacvcopyxo ae f&#233;xuda tcsodxzdtctfgs ti x9mdfggfhhsx 7dfgab, asvro oi sz op --   you only need, &quot;Mr&#237;da Xatia Mecrdiz M&#237;ndrz&quot;, Right?"}, {"owner": {"reputation": 71, "user_id": 5152781, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/b6b3e9b212371537a49675cb44715aac?s=128&d=identicon&r=PG&f=1", "display_name": "User1234141414", "link": "https://stackoverflow.com/users/5152781/user1234141414"}, "edited": false, "score": 0, "creation_date": 1563362027, "post_id": 57044826, "comment_id": 100672417, "body": "The Yeti it&#180;s right I need all the words before the comma I go to edit the question to add more html code with 2 more."}, {"owner": {"reputation": 71, "user_id": 5152781, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/b6b3e9b212371537a49675cb44715aac?s=128&d=identicon&r=PG&f=1", "display_name": "User1234141414", "link": "https://stackoverflow.com/users/5152781/user1234141414"}, "edited": false, "score": 0, "creation_date": 1563363469, "post_id": 57044826, "comment_id": 100673158, "body": "In other cases the full name comes with special characters and the long of the data its unknown , maybe the cut are the special character all before this included the character will be droped.."}, {"owner": {"reputation": 71, "user_id": 5152781, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/b6b3e9b212371537a49675cb44715aac?s=128&d=identicon&r=PG&f=1", "display_name": "User1234141414", "link": "https://stackoverflow.com/users/5152781/user1234141414"}, "edited": false, "score": 0, "creation_date": 1563389232, "post_id": 57044826, "comment_id": 100687659, "body": "Already updated the html code."}], "answers": [{"comments": [{"owner": {"reputation": 71, "user_id": 5152781, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/b6b3e9b212371537a49675cb44715aac?s=128&d=identicon&r=PG&f=1", "display_name": "User1234141414", "link": "https://stackoverflow.com/users/5152781/user1234141414"}, "edited": false, "score": 0, "creation_date": 1563276227, "post_id": 57048731, "comment_id": 100638028, "body": "TheYeti can you post the case if I get a blank in the field data (not in the header)?"}, {"owner": {"reputation": 71, "user_id": 5152781, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/b6b3e9b212371537a49675cb44715aac?s=128&d=identicon&r=PG&f=1", "display_name": "User1234141414", "link": "https://stackoverflow.com/users/5152781/user1234141414"}, "edited": false, "score": 0, "creation_date": 1563277924, "post_id": 57048731, "comment_id": 100638912, "body": "Other problem that can be possible is the no limit of the characters in the first field, it can come with single comma or semicolon and spaces."}, {"owner": {"reputation": 71, "user_id": 5152781, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/b6b3e9b212371537a49675cb44715aac?s=128&d=identicon&r=PG&f=1", "display_name": "User1234141414", "link": "https://stackoverflow.com/users/5152781/user1234141414"}, "edited": false, "score": 0, "creation_date": 1563281985, "post_id": 57048731, "comment_id": 100641293, "body": "This code puts the semicolon on the second space of the full name as I saw. It only works when full name have 2 words. Please read my edited question with some example of this field"}], "tags": [], "owner": {"reputation": 61, "user_id": 11772964, "user_type": "registered", "profile_image": "https://lh6.googleusercontent.com/-XEotRBTqwSc/AAAAAAAAAAI/AAAAAAAALZ4/V-jGawgic9A/photo.jpg?sz=128", "display_name": "TheYeti", "link": "https://stackoverflow.com/users/11772964/theyeti"}, "is_accepted": false, "score": 1, "last_activity_date": 1563370401, "last_edit_date": 1592644375, "creation_date": 1563237910, "answer_id": 57048731, "question_id": 57044826, "link": "https://stackoverflow.com/questions/57044826/text-space-and-tab-delimited-table-to-semicolon-separared/57048731#57048731", "title": "Text space and tab delimited table to semicolon separared", "body": "<p>I still don't have enough rep to comment, so I assumed that the names are composed of first name and last name (It says full name) and are not blank.</p>\n<h3>Code:</h3>\n<pre class=\"lang-perl prettyprint-override\"><code>while (&lt;&gt;) {\n    #Removes new line\n    chomp;\n\n    #Sets delimiter\n    $delimiter = &quot;;&quot;;\n\n    #clean up text\n    #removes _ and ;\n    s![_;]!!g; \n\n    #removes leading spaces                 \n    s!^ *!!;        \n\n    #replace multiple whitespace (you mentioned it's delimited by space and tab) with ;            \n    s/(\\s)\\1*/$delimiter/ge;    \n    \n    #Remove Delimiter from the Date (UTC). /i ignores the case\n    s/Date.+\\(UTC\\)/Date (UTC)/i;   \n\n    #Removes delimiter in Full name\n    s/^([^;]+);([^;]+)/$1 $2/i; \n\n    #Removes decimal on Field 4\n    s/^([^;]+;[^;]+;[^;]+;)([^;.]+)\\.?[^;]*/&quot;$1$2&quot;/e; \n    \n    print &quot;$_\\n&quot;;\n}\n</code></pre>\n<p><strong>Output</strong></p>\n<pre><code>Name full;CI;FG;AG;DG;Date (UTC)\nVirnia Ray;34842865;093161455;-;-;2019-07-12T12:09:31.378Z\nVitoxia Sureez;40151215;094063155;36;-;2019-07-14T13:18:11.733Z\n</code></pre>\n<p><strong>Note(s)</strong></p>\n<p>I only used <code>!</code> in some of the regex to fix the syntax highlighting when using <code>/</code></p>\n"}], "owner": {"reputation": 71, "user_id": 5152781, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/b6b3e9b212371537a49675cb44715aac?s=128&d=identicon&r=PG&f=1", "display_name": "User1234141414", "link": "https://stackoverflow.com/users/5152781/user1234141414"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 215, "favorite_count": 1, "answer_count": 1, "score": 1, "last_activity_date": 1563370401, "creation_date": 1563212917, "last_edit_date": 1563367037, "question_id": 57044826, "link": "https://stackoverflow.com/questions/57044826/text-space-and-tab-delimited-table-to-semicolon-separared", "title": "Text space and tab delimited table to semicolon separared", "body": "<p>One table space and tab separated, and need to separate the fields by semicolon, have tried with awk directly but didn't work. Taking one perl script to do this work with tables with ASCII style pipe separated and underscore, can't do it if I don't have some of this stuff to do the same job. </p>\n\n<pre><code>Name full                  CI       FG   AG DG Date (UTC) Virnia Ray  \n34842865 093161455 -    -     2019-07-12T12:09:31.378Z Vitoxia Sureez \n40151215 094063155 36.3   -     2019-07-14T13:18:11.733Z\n</code></pre>\n\n<p>Already tried  </p>\n\n<pre><code> sed -e 's/^[ t]*//' -e 's/ /\\;/g'\n</code></pre>\n\n<p>to remove all the spaces</p>\n\n<p>Perl script maded by L. Scott originally to convert table ASCII-styled </p>\n\n<pre><code> while(&lt;&gt;) {\n     @vals = split / /; # split fields into the val array taking space separator\n     $size = @vals;\n     for( $i = 0 ; $i &lt; $size ; $i++ )\n     {\n         #clean up the values: remove underscores and extra spaces in the fields and remove possible semicolons there\n         $vals[$i] =~ s/_/ /g;\n         $vals[$i] =~ s/;/ /g;\n         $vals[$i] =~ s/^ *//;\n         $vals[$i] =~ s/ *$//;\n\n         # append the value to the data record for this field\n         $data[$i] .= $vals[$i];\n\n         # special handling for first field: use spaces when joining\n         $data[$i] .= \" \" if ($i==0); #do not know if this is necessary to the new requirement as we have space in more than the first field.\n\n     }\n    if(/\\R/)  # Taking carriage return as the end of record\n     {\n         # clean up the first record; trim spaces\n         $data[0] =~ s/^ *//;\n         $data[0] =~ s/ *$//;\n         $data[3] =~ s/\\..*//; # remove the point and decimal for the field four\n         # join the records with semicolons\n         $line = join (\";\", @data);\n\n         # collapse multiple spaces\n         $line =~ s/ +/ /g;\n\n         # print this line and start over\n         print \"$line\\n\" unless ($line eq '');\n         @data = ();\n     } }\n</code></pre>\n\n<p>Expecting: </p>\n\n<pre><code>Name full;CI;FG;AG;DG;Date (UTC)\nVirnia Ray;34842865;093161455;-;-;2019-07-12T12:09:31.378Z\nVitoxia Sureez;40151215;094063155;36;-;2019-07-14T13:18:11.733Z\n</code></pre>\n\n<p>Current output:</p>\n\n<pre><code>Name;full;;;;;;;;;;;;;;;;;;CI;;;;;;;FG;;;AG;DG;Date;(UTC)    \nVirnia;Ray;;;;;;;;;;;;;;;;;;;34842865;093161455;-;;;;-;;;;;2019-07-1T12:09:31.378Z    \nVitoxia;Sureez;;;;;;;;;;;;;;;;;;40151215;094063155;36;;;-;;;;;2019-07-14T13:18:11.733Z\n</code></pre>\n\n<p>I have some cases with the first field are like:</p>\n\n<pre><code>Mar\u2592a Xatia Mecrdiz\nM\u2592ndrz, yrcr\u2592a\ncdcsurtmz at ruy opdx\nlxtrb mxs2axs rl tsactfg\nre xorts tdz drfod t     33743642 095518568 41   -     2019-06-12T13:48:40.200Z\nzude def rtexetggacvc\nopyxo ae f\u2592xuda tcso\ndxzdtctfgs ti x9mdfggfhh\nsx 7dfgab, asvro oi sz op\ndgeto jxgdmszdd.\n</code></pre>\n\n<p>I only need in the first field the data before the comma, all after this will be drop. As you can see the \"line\" of the rest of the data in the row are not in the same line..</p>\n\n<p>The original data come from one HTML code parsed by html2text the original code is:</p>\n\n<pre><code>  &lt;b&gt;Mon Jul 05 2019&lt;/b&gt;&lt;hr&gt;&lt;table style=\"border: 1px solid\n#dddddd;border-collapse: collapse;text-align: left;\"&gt;&lt;tr&gt;&lt;th style=\"padding: 8px;background-color: #cce6ff\"&gt;Name Full&lt;/th&gt;&lt;th style=\"padding: 8px;background-color: #cce6ff\"&gt;FG&lt;/th&gt;&lt;th style=\"padding: 8px;background-color: #cce6ff\"&gt;CG&lt;/th&gt;&lt;th style=\"padding: 8px;background-color: #cce6ff\"&gt;AG&lt;/th&gt;&lt;th style=\"padding: 8px;background-color: #cce6ff\"&gt;MG&lt;/th&gt;&lt;th style=\"padding: 8px;background-color: #cce6ff\"&gt;Date (UTC)&lt;/th&gt;&lt;tr&gt;&lt;th style=\"padding: 8px;background-color: #dddddd\"&gt;Mr\u00edda Xatia Mecrdiz M\u00edndrz, yrcrr\u00eda cdcsurtmz at ruy opdxlxtrb mxs2axs rl tsactfgre xorts tdz drfod t   zude def rtexetggacvcopyxo ae f\u00e9xuda tcsodxzdtctfgs ti x9mdfggfhhsx 7dfgab, asvro oi sz op\n    dgeto jxgdmszdd.&lt;/th&gt;&lt;th style=\"padding: 8px;background-color: #dddddd\"&gt;33743642&lt;/th&gt;&lt;th style=\"padding: 8px;background-color: #dddddd\"&gt;095518568&lt;/th&gt;&lt;th style=\"padding: 8px;background-color: #dddddd\"&gt;41&lt;/th&gt;&lt;th style=\"padding: 8px;background-color: #dddddd\"&gt;-&lt;/th&gt;&lt;th style=\"padding: 8px;background-color: #dddddd\"&gt;2019-05-12T13:48:40.200Z&lt;/th&gt;&lt;/tr&gt;&lt;tr&gt;&lt;th style=\"padding: 8px;\"&gt;Cdlga foxa&lt;/th&gt;&lt;th style=\"padding: 8px;\"&gt;45285726&lt;/th&gt;&lt;th style=\"padding: 8px;\"&gt;092641968&lt;/th&gt;&lt;th style=\"padding: 8px;\"&gt;28&lt;/th&gt;&lt;th style=\"padding: 8px;\"&gt;-&lt;/th&gt;&lt;th style=\"padding: 8px;\"&gt;2019-06-11T13:50:52.091Z&lt;/th&gt;&lt;/tr&gt;&lt;/table&gt;\n</code></pre>\n\n<p>Maybe there some util to use instead html2text here to do this work in a better shape directly from the render tool.</p>\n\n<p>Here the html table with more records.</p>\n\n<pre><code>&lt;b&gt;Mon Jul 05 2019&lt;/b&gt;&lt;hr&gt;\n&lt;table style=\"border: 1px solid #dddddd;border-collapse: collapse;text-align: left;\"&gt;&lt;tr&gt;\n&lt;th style=\"padding: 8px;background-color: #cce6ff\"&gt;Name Full&lt;/th&gt;\n&lt;th style=\"padding:8px;background-color: #cce6ff\"&gt;FG&lt;/th&gt;\n&lt;th style=\"padding: 8px;background-color: #cce6ff\"&gt;CG&lt;/th&gt;\n&lt;th style=\"padding: 8px;background-color: #cce6ff\"&gt;AG&lt;/th&gt;\n&lt;th style=\"padding: 8px;background-color: #cce6ff\"&gt;MG&lt;/th&gt;\n&lt;th style=\"padding: 8px;background-color: #cce6ff\"&gt;Date (UTC)&lt;/th&gt;&lt;/tr&gt;\n&lt;tr&gt;&lt;th style=\"padding: 8px;\"&gt;Mr\u00edda Xatia Mecrdiz M\u00edndrz, yrcrr\u00eda cdcsurtmz at ruy opdxlxtrb mxs2axs rl tsactfgre xorts tdz drfod t   zude def rtexetggacvcopyxo ae f\u00e9xuda tcsodxzdtctfgs ti x9mdfggfhhsx 7dfgab, asvro oi sz op         dgeto jxgdmszdd.&lt;/th&gt;\n&lt;th style=\"padding: 8px;\"&gt;33743642&lt;/th&gt;\n&lt;th style=\"padding: 8px;\"&gt;095518568&lt;/th&gt;&lt;th style=\"padding: 8px;\"&gt;41&lt;/th&gt;&lt;th style=\"p\nadding: 8px;\"&gt;-&lt;/th&gt;&lt;th style=\"padding: 8px;\"&gt;2019-05-12T11:47:01.240Z&lt;/th&gt;&lt;/tr&gt;\n&lt;tr&gt;&lt;th style=\"padding: 8px;background-color: #dddddd\"&gt;Cdlga foxa&lt;/th&gt;\n&lt;th style=\"padding: 8px;background-color: #dddddd\"&gt;45285726&lt;/th&gt;\n&lt;th style=\"padding: 8px;background-color: #dddddd\"&gt;092641968&lt;/th&gt;\n&lt;th style=\"padding: 8px;background-color: #dddddd\"&gt;28&lt;/th&gt;\n&lt;th style=\"padding: 8px;background-color: #dddddd\"&gt;-&lt;/th&gt;\n&lt;th style=\"padding: 8px;background-color: #dddddd\"&gt;2019-06-11T11:48:51.806Z&lt;/th&gt;&lt;/tr&gt;\n&lt;tr&gt;&lt;th style=\"padding: 8px;\"&gt;Qrala Xera&lt;/th&gt;\n&lt;th style=\"padding: 8px;\"&gt;33184756&lt;/th&gt;\n&lt;th style=\"padding: 8px;\"&gt;032178032&lt;/th&gt;\n&lt;th style=\"padding: 8px;\"&gt;-&lt;/th&gt;\n&lt;th style=\"padding: 8px;\"&gt;-&lt;/th&gt;\n&lt;th style=\"padding: 8px;\"&gt;2019-03-01T11:55:04.269Z&lt;/th&gt;&lt;/tr&gt;\n&lt;tr&gt;&lt;th style=\"padding: 8px;background-color: #dddddd\"&gt;Mpa Fagun;Mor@asd. Prq*yqesla, LEllal4331&lt;/th&gt;\n&lt;th style=\"padding: 8px;background-color: #dddddd\"&gt;54324252&lt;/th&gt;\n&lt;th style=\"padding: 8px;background-color: #dddddd\"&gt;034021061&lt;/th&gt;\n&lt;th style=\"padding: 8px;background-color: #dddddd\"&gt;-&lt;/th&gt;\n&lt;th style=\"padding: 8px;background-color: #dddddd\"&gt;-&lt;/th&gt;\n&lt;th style=\"padding: 8px;background-color: #dddddd\"&gt;2019-04-12T11:58:15.349Z&lt;/th&gt;&lt;/tr&gt;\n&lt;tr&gt;&lt;th style=\"padding: 8px;\"&gt;xOp\u00e0r '00083&lt;/th&gt;\n&lt;th style=\"padding: 8px;\"&gt;13702194&lt;/th&gt;\n&lt;th style=\"padding: 8px;\"&gt;197071330&lt;/th&gt;\n&lt;th style=\"padding: 8px;\"&gt;40.2&lt;/th&gt;\n&lt;th style=\"padding: 8px;\"&gt;-&lt;/th&gt;\n&lt;th style=\"padding: 8px;\"&gt;2019-07-15T12:00:28.617Z&lt;/th&gt;&lt;/tr&gt;\n&lt;tr&gt;&lt;th style=\"padding: 8px;background-color: #dddddd\"&gt;Drlia &gt;\u00b7xa1otta&lt;/th&gt;\n&lt;th style=\"padding: 8px;background-color: #dddddd\"&gt;34253138&lt;/th&gt;\n&lt;th style=\"padding: 8px;background-color: #dddddd\"&gt;394995572&lt;/th&gt;\n&lt;th style=\"padding: 8px;background-color: #dddddd\"&gt;68&lt;/th&gt;\n&lt;th style=\"padding: 8px;background-color: #dddddd\"&gt;-&lt;/th&gt;\n&lt;th style=\"padding: 8px;background-color: #dddddd\"&gt;2019-07-12T12:32:19.793Z&lt;/th&gt;&lt;/tr&gt;\n</code></pre>\n"}, {"tags": ["perl", "datetime"], "answers": [{"comments": [{"owner": {"reputation": 397, "user_id": 9892631, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/9270664e143242e154d99f1401acab12?s=128&d=identicon&r=PG&f=1", "display_name": "poisn", "link": "https://stackoverflow.com/users/9892631/poisn"}, "edited": false, "score": 0, "creation_date": 1563196613, "post_id": 57040538, "comment_id": 100608876, "body": "I thought it was something in that direction. Thank you!"}, {"owner": {"reputation": 397, "user_id": 9892631, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/9270664e143242e154d99f1401acab12?s=128&d=identicon&r=PG&f=1", "display_name": "poisn", "link": "https://stackoverflow.com/users/9892631/poisn"}, "edited": false, "score": 0, "creation_date": 1563196886, "post_id": 57040538, "comment_id": 100609053, "body": "But when I&#39;m using clone it gives me this exception: &quot;Can&#39;t call method &quot;clone&quot; on an undefined value at ...&quot;"}, {"owner": {"reputation": 62184, "user_id": 7231, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/81b76985f3985e35492e25880493d045?s=128&d=identicon&r=PG", "display_name": "Dave Cross", "link": "https://stackoverflow.com/users/7231/dave-cross"}, "reply_to_user": {"reputation": 320771, "user_id": 589924, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/b2cf53d5a3d25f95c0db4e025aed4153?s=128&d=identicon&r=PG", "display_name": "ikegami", "link": "https://stackoverflow.com/users/589924/ikegami"}, "edited": false, "score": 0, "creation_date": 1563197016, "post_id": 57040538, "comment_id": 100609129, "body": "@ikegami: Yes. Comparing objects of the same time wouldn&#39;t be quite as useful :-)"}, {"owner": {"reputation": 62184, "user_id": 7231, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/81b76985f3985e35492e25880493d045?s=128&d=identicon&r=PG", "display_name": "Dave Cross", "link": "https://stackoverflow.com/users/7231/dave-cross"}, "reply_to_user": {"reputation": 397, "user_id": 9892631, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/9270664e143242e154d99f1401acab12?s=128&d=identicon&r=PG&f=1", "display_name": "poisn", "link": "https://stackoverflow.com/users/9892631/poisn"}, "edited": false, "score": 0, "creation_date": 1563197140, "post_id": 57040538, "comment_id": 100609209, "body": "@poisn: That means that your call to <code>parse_datetime()</code> isn&#39;t working. Double-check your input string and the format that you&#39;re passing to <code>DateTime::Format::Strptime-&gt;new()</code>."}, {"owner": {"reputation": 320771, "user_id": 589924, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/b2cf53d5a3d25f95c0db4e025aed4153?s=128&d=identicon&r=PG", "display_name": "ikegami", "link": "https://stackoverflow.com/users/589924/ikegami"}, "reply_to_user": {"reputation": 397, "user_id": 9892631, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/9270664e143242e154d99f1401acab12?s=128&d=identicon&r=PG&f=1", "display_name": "poisn", "link": "https://stackoverflow.com/users/9892631/poisn"}, "edited": false, "score": 2, "creation_date": 1563197332, "post_id": 57040538, "comment_id": 100609319, "body": "@poisn, Add <code>on_error =&gt; &#39;croak&#39;</code> to the list of options passed to <code>DateTime::Format::Strptime-&gt;new</code> if you want an exception with a possibly useful error message on bad input rather than having it just return <code>undef</code>."}, {"owner": {"reputation": 62184, "user_id": 7231, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/81b76985f3985e35492e25880493d045?s=128&d=identicon&r=PG", "display_name": "Dave Cross", "link": "https://stackoverflow.com/users/7231/dave-cross"}, "edited": false, "score": 1, "creation_date": 1563197661, "post_id": 57040538, "comment_id": 100609508, "body": "I&#39;ve added <code>on_error =&gt; &#39;croak&#39;</code> to the constructor call."}], "tags": [], "owner": {"reputation": 62184, "user_id": 7231, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/81b76985f3985e35492e25880493d045?s=128&d=identicon&r=PG", "display_name": "Dave Cross", "link": "https://stackoverflow.com/users/7231/dave-cross"}, "is_accepted": true, "score": 5, "last_activity_date": 1563197629, "last_edit_date": 1563197629, "creation_date": 1563196442, "answer_id": 57040538, "question_id": 57040062, "link": "https://stackoverflow.com/questions/57040062/subtract-days-from-today-date-and-compare-after/57040538#57040538", "title": "Subtract days from today date and compare after", "body": "<p>You're slightly muddling up two Date/Time ecosystems that don't work well together.</p>\n\n<p>You can do this using Time::Piece and Time::Seconds.</p>\n\n<pre><code>use feature 'say';\nuse Time::Piece;\nuse Time::Seconds;\n\nmy $chars = '2018_12_03';\n\nmy $tp = Time::Piece-&gt;strptime($chars, '%Y_%m_%d');\n\nmy $date14 = $tp - (2 * ONE_WEEK);\n\nsay $tp-&gt;strftime('%d/%m/%Y');\nsay $date14-&gt;strftime('%d/%m/%Y');\n</code></pre>\n\n<p>Output:</p>\n\n<pre><code>03/12/2018\n19/11/2018\n</code></pre>\n\n<p>Or you can do it using DateTime and friends.</p>\n\n<pre><code>use feature 'say';\nuse DateTime;\nuse DateTime::Format::Strptime;\n\nmy $date_parser = DateTime::Format::Strptime-&gt;new(\n  pattern =&gt; '%Y_%m_%d',\n  on_error =&gt; 'croak',\n);\n\nmy $chars = '2018_12_03';\n\nmy $dt = $date_parser-&gt;parse_datetime($chars);\n\nmy $date14 = $dt-&gt;clone-&gt;subtract( weeks =&gt; 2 );\n\nsay $dt-&gt;strftime('%d/%m/%Y');\nsay $date14-&gt;strftime('%d/%m/%Y');\n</code></pre>\n\n<p>Output:</p>\n\n<pre><code>03/12/2018\n19/11/2018\n</code></pre>\n\n<p>As for your last question, you can compare either Time::Piece objects or DateTime objects using the standard Perl comparison operators (<code>&lt;</code>, <code>==</code>, <code>&gt;=</code>, etc). But you have to compare two objects of the same type.</p>\n"}, {"tags": [], "owner": {"reputation": 8718, "user_id": 5848200, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/a8072aaf76dcb4fe5027964252f16382?s=128&d=identicon&r=PG", "display_name": "Grinnz", "link": "https://stackoverflow.com/users/5848200/grinnz"}, "is_accepted": false, "score": 3, "last_activity_date": 1563390163, "creation_date": 1563390163, "answer_id": 57082604, "question_id": 57040062, "link": "https://stackoverflow.com/questions/57040062/subtract-days-from-today-date-and-compare-after/57082604#57082604", "title": "Subtract days from today date and compare after", "body": "<p>Just another option, <a href=\"https://metacpan.org/pod/Time::Moment\" rel=\"nofollow noreferrer\">Time::Moment</a> makes date math really simple:</p>\n\n<pre><code>use strict;\nuse warnings;\nuse Time::Moment;\n\nmy $chars = Time::Moment-&gt;from_object(Time::Piece-&gt;strptime(\"$chars\", \"%Y%m%d\"));\nmy $day14 = Time::Moment-&gt;now_utc-&gt;minus_days(14)-&gt;at_midnight;\nprint $day14-&gt;strftime('%d/%m/%Y');\n</code></pre>\n\n<p>These objects can be compared with normal operators like with DateTime and Time::Piece. Just keep in mind that, since you only care about the day and not time of day, all math should be done according to the same time zone, of which the easiest is of course UTC.</p>\n"}], "owner": {"reputation": 397, "user_id": 9892631, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/9270664e143242e154d99f1401acab12?s=128&d=identicon&r=PG&f=1", "display_name": "poisn", "link": "https://stackoverflow.com/users/9892631/poisn"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 211, "favorite_count": 1, "accepted_answer_id": 57040538, "answer_count": 2, "score": 2, "last_activity_date": 1564563567, "creation_date": 1563194754, "last_edit_date": 1564563567, "question_id": 57040062, "link": "https://stackoverflow.com/questions/57040062/subtract-days-from-today-date-and-compare-after", "title": "Subtract days from today date and compare after", "body": "<p>Following situation.</p>\n\n<p>I have a file named <code>2018_12_03_FileName.log</code>. Now I get the date from the file (<code>2018_12_03</code>).  </p>\n\n<p>I want to convert the string to a <code>DateTime</code> object, which works too.  </p>\n\n<pre><code>$chars =~s/_//g;\n$chars = Time::Piece-&gt;strptime(\"$chars\", \"%Y%m%d\");\n$chars = $chars-&gt;strftime(\"%d/%m/%Y\");\n</code></pre>\n\n<p><strong>Output</strong></p>\n\n<pre><code>03/12/2018\n</code></pre>\n\n<p>After that I want to get the date today - 14 days. But here is one of my two problems. I tried many things, but couldn't find any real solution working for me.</p>\n\n<pre><code>my $day14 = DateTime-&gt;now();\n$day14 -= (2 * ONE_WEEK);\n</code></pre>\n\n<p>Error:</p>\n\n<blockquote>\n  <p>Cannot subtract 1209600 from a DateTime object (DateTime=HASH(0x6f2d84)). Only a DateTime::Duration or DateTime object can  be subtracted from a DateTime object.</p>\n</blockquote>\n\n<p>Now the second problem is, I want to compare these two dates and look if the file date is in range or not.</p>\n\n<pre><code>my $cmp = DateTime-&gt;compare($chars, $day14);\n</code></pre>\n\n<p>Error:</p>\n\n<blockquote>\n  <p>Argument \"15/07/2019\" isn't numeric in numeric eq (==) at</p>\n  \n  <p>A DateTime object can only be compared to another DateTime object (03/12/2018, 15/07/2019). </p>\n</blockquote>\n\n<p>So how can I subtract 14 days from the today date and how can I compare these two dates after?</p>\n"}, {"tags": ["perl", "www-mechanize"], "comments": [{"owner": {"reputation": 50468, "user_id": 1331451, "user_type": "registered", "accept_rate": 96, "profile_image": "https://i.stack.imgur.com/4ZPmj.png?s=128&g=1", "display_name": "simbabque", "link": "https://stackoverflow.com/users/1331451/simbabque"}, "edited": false, "score": 1, "creation_date": 1563203985, "post_id": 57039795, "comment_id": 100613175, "body": "It looks like you are having two problems. You need to find the path in the HTML, and then you need to download that. Let&#39;s start with the first one. Does logging in work and do you get the page after having logged in?"}, {"owner": {"reputation": 50468, "user_id": 1331451, "user_type": "registered", "accept_rate": 96, "profile_image": "https://i.stack.imgur.com/4ZPmj.png?s=128&g=1", "display_name": "simbabque", "link": "https://stackoverflow.com/users/1331451/simbabque"}, "edited": false, "score": 2, "creation_date": 1563204069, "post_id": 57039795, "comment_id": 100613214, "body": "Also note you are loading a lot of modules that you don&#39;t use. Since you already load WWW::Mechanize, it is probably easiest to use that instead of plain LWP::UserAgent. Mech is an extension (subclass) of LWP::UA and can do everything and more. You don&#39;t need to load <code>LWP</code> or <code>LWP::Simple</code> as you don&#39;t use them. You also don&#39;t need <code>curl</code>, as that is a completely different library that does the sames things in a different way."}, {"owner": {"reputation": 29, "user_id": 3079433, "user_type": "registered", "profile_image": "https://graph.facebook.com/1019546285/picture?type=large", "display_name": "hassan39a2", "link": "https://stackoverflow.com/users/3079433/hassan39a2"}, "reply_to_user": {"reputation": 50468, "user_id": 1331451, "user_type": "registered", "accept_rate": 96, "profile_image": "https://i.stack.imgur.com/4ZPmj.png?s=128&g=1", "display_name": "simbabque", "link": "https://stackoverflow.com/users/1331451/simbabque"}, "edited": false, "score": 0, "creation_date": 1563217420, "post_id": 57039795, "comment_id": 100619030, "body": "I do log in to the first page i.e. the index html page, after that when I try to get the content of the page where hyperlinks of files are present. It again logs out"}, {"owner": {"reputation": 29, "user_id": 3079433, "user_type": "registered", "profile_image": "https://graph.facebook.com/1019546285/picture?type=large", "display_name": "hassan39a2", "link": "https://stackoverflow.com/users/3079433/hassan39a2"}, "reply_to_user": {"reputation": 50468, "user_id": 1331451, "user_type": "registered", "accept_rate": 96, "profile_image": "https://i.stack.imgur.com/4ZPmj.png?s=128&g=1", "display_name": "simbabque", "link": "https://stackoverflow.com/users/1331451/simbabque"}, "edited": false, "score": 0, "creation_date": 1563218545, "post_id": 57039795, "comment_id": 100619472, "body": "I have used mechanize also, i get logged into the index page and get all the hyperlink, but when i try to get the hyperlinks of the desired page it does not allow me"}, {"owner": {"reputation": 29, "user_id": 3079433, "user_type": "registered", "profile_image": "https://graph.facebook.com/1019546285/picture?type=large", "display_name": "hassan39a2", "link": "https://stackoverflow.com/users/3079433/hassan39a2"}, "edited": false, "score": 0, "creation_date": 1563265025, "post_id": 57039795, "comment_id": 100632066, "body": "Updated the code and description, please help"}, {"owner": {"reputation": 29, "user_id": 3079433, "user_type": "registered", "profile_image": "https://graph.facebook.com/1019546285/picture?type=large", "display_name": "hassan39a2", "link": "https://stackoverflow.com/users/3079433/hassan39a2"}, "edited": false, "score": 0, "creation_date": 1563271416, "post_id": 57039795, "comment_id": 100635449, "body": "Mechanize do not support JavaScript. And the page is submitting form using JavaScript, could this be reason its not working?"}, {"owner": {"reputation": 38072, "user_id": 46395, "user_type": "registered", "accept_rate": 71, "profile_image": "https://www.gravatar.com/avatar/5ce828f20abb195ef5d971205ee36c27?s=128&d=identicon&r=PG", "display_name": "daxim", "link": "https://stackoverflow.com/users/46395/daxim"}, "edited": false, "score": 0, "creation_date": 1563351236, "post_id": 57039795, "comment_id": 100666596, "body": "<a href=\"http://p3rl.org/WWW::Mechanize::FAQ#JavaScript\" rel=\"nofollow noreferrer\">p3rl.org/WWW::Mechanize::FAQ#JavaScript</a> \u2013 try <code>WWW::Scripter</code> or <code>WWW::Mechanize::Chrome</code> or <code>WWW::Selenium</code>"}, {"owner": {"reputation": 29, "user_id": 3079433, "user_type": "registered", "profile_image": "https://graph.facebook.com/1019546285/picture?type=large", "display_name": "hassan39a2", "link": "https://stackoverflow.com/users/3079433/hassan39a2"}, "edited": false, "score": 0, "creation_date": 1563620910, "post_id": 57039795, "comment_id": 100765659, "body": "It&#39;s JWT based authentication, that&#39;s why it cannot log in without token. Need to add the token in the cookies first."}, {"owner": {"reputation": 29, "user_id": 3079433, "user_type": "registered", "profile_image": "https://graph.facebook.com/1019546285/picture?type=large", "display_name": "hassan39a2", "link": "https://stackoverflow.com/users/3079433/hassan39a2"}, "edited": false, "score": 0, "creation_date": 1563826746, "post_id": 57039795, "comment_id": 100821428, "body": "I used WWW:: Selenium and I was able to log in to the site and download the files. Issue resolved"}], "answers": [{"tags": [], "owner": {"reputation": 29, "user_id": 3079433, "user_type": "registered", "profile_image": "https://graph.facebook.com/1019546285/picture?type=large", "display_name": "hassan39a2", "link": "https://stackoverflow.com/users/3079433/hassan39a2"}, "is_accepted": true, "score": 1, "last_activity_date": 1563826897, "creation_date": 1563826897, "answer_id": 57153213, "question_id": 57039795, "link": "https://stackoverflow.com/questions/57039795/used-wwwmechanize-to-login-and-download-a-file-in-perl-script-but-cannot-get-in/57153213#57153213", "title": "Used WWW:Mechanize to login and download a file in perl script but cannot get into the actual page content", "body": "<p>As the website was using CSRF token and there was no hidden tag defined in the login page to store CSRF token, so token generation in the script was not helping.</p>\n\n<p>I used WWW:: Selenium and I was able to log in to the site and download the files. Issue resolved \u2013</p>\n"}], "owner": {"reputation": 29, "user_id": 3079433, "user_type": "registered", "profile_image": "https://graph.facebook.com/1019546285/picture?type=large", "display_name": "hassan39a2", "link": "https://stackoverflow.com/users/3079433/hassan39a2"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 156, "favorite_count": 0, "accepted_answer_id": 57153213, "answer_count": 1, "score": 0, "last_activity_date": 1563826897, "creation_date": 1563193756, "last_edit_date": 1563265002, "question_id": 57039795, "link": "https://stackoverflow.com/questions/57039795/used-wwwmechanize-to-login-and-download-a-file-in-perl-script-but-cannot-get-in", "title": "Used WWW:Mechanize to login and download a file in perl script but cannot get into the actual page content", "body": "<p>I am trying to login to the site using Mechanize in Perl script. It does log into the index page but I try to get the content of the page where file hyperlinks are present then I am not logged in I assume that after looking at the content of the page</p>\n\n<p>Secondly, How can we download a file from the indirect hyperlink of a file which directs to some action which then downloads a file. Please guide, as there is not much help available for this particular use case</p>\n\n<p>Below is my code</p>\n\n<pre><code>use WWW::Mechanize;\nuse LWP;\n\nmy $username = 'user'; \nmy $password = 'pass';\n\nmy $mech = WWW::Mechanize-&gt;new();\n$mech -&gt; cookie_jar(HTTP::Cookies-&gt;new());\n$mech -&gt; get('some_website/index.html?#');\n$mech -&gt; form_name('form');\n$mech -&gt; field ('user' =&gt; $username);\n$mech -&gt; field ('password' =&gt; $password);\n$mech-&gt;submit();\n$mech -&gt; get('actual_page_address_with_file_hyperlinks?adfgenDispatchAction=examine&amp;idProgressivo=0&amp;idFlusso=4200212');\n#print $mech-&gt; content();\n\n$mech-&gt;save_content(\"result.html\");\n\nmy @links = $mech-&gt;links();\nfor my $link ( @links ) {\n\n    #if(index($link-&gt;text,\"Scarica\")!= -1)\n    #{\n    printf \"%s, %s\\n\", $link-&gt;text, $link-&gt;url;\n    #}\n}\n</code></pre>\n\n<p>;</p>\n"}, {"tags": ["perl"], "comments": [{"owner": {"reputation": 32176, "user_id": 2173773, "user_type": "registered", "accept_rate": 86, "profile_image": "https://i.stack.imgur.com/M8yh6.jpg?s=128&g=1", "display_name": "H&#229;kon H&#230;gland", "link": "https://stackoverflow.com/users/2173773/h%c3%a5kon-h%c3%a6gland"}, "edited": false, "score": 0, "creation_date": 1563193396, "post_id": 57039624, "comment_id": 100607077, "body": "Why not return the variable form the <code>sub</code>? Then you can save it a variable like this: <code>my $id  = YourFirstName_StudentID($name)</code>"}, {"owner": {"reputation": 624, "user_id": 10023107, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/9GLme.jpg?s=128&g=1", "display_name": "Chris", "link": "https://stackoverflow.com/users/10023107/chris"}, "edited": false, "score": 0, "creation_date": 1563193890, "post_id": 57039624, "comment_id": 100607363, "body": "always use <code>use strict; use warnings;</code>, then you would have seen that your 3rd line <code>$name = &lt;&gt;;</code> is not correct. should be <code>my $name = &lt;&gt;</code>"}, {"owner": {"reputation": 863, "user_id": 9138850, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/kxukI.jpg?s=128&g=1", "display_name": "Mohammad Basit", "link": "https://stackoverflow.com/users/9138850/mohammad-basit"}, "edited": false, "score": 0, "creation_date": 1563194035, "post_id": 57039624, "comment_id": 100607429, "body": "THANKS A TON! I DID IT"}], "answers": [{"tags": [], "owner": {"reputation": 32176, "user_id": 2173773, "user_type": "registered", "accept_rate": 86, "profile_image": "https://i.stack.imgur.com/M8yh6.jpg?s=128&g=1", "display_name": "H&#229;kon H&#230;gland", "link": "https://stackoverflow.com/users/2173773/h%c3%a5kon-h%c3%a6gland"}, "is_accepted": true, "score": 5, "last_activity_date": 1563194173, "last_edit_date": 1563194173, "creation_date": 1563193861, "answer_id": 57039819, "question_id": 57039624, "link": "https://stackoverflow.com/questions/57039624/i-want-to-access-private-variable-of-a-subroutine-outside-it/57039819#57039819", "title": "I want to access private variable of a subroutine outside it", "body": "<p>Here is an example, we don't need to use global variables here. It is better to use <a href=\"https://perlmaven.com/package-variables-and-lexical-variables-in-perl\" rel=\"noreferrer\">lexical variables</a>:</p>\n\n<pre><code>use strict;\nuse warnings;\n\n{   # &lt;--- Make a scope so lexical variables do not leak out into\n    #       subs declared later in the file..\n    print(\"Please Enter Your First Name:\\n\");\n    chomp (my $name = &lt;&gt;);\n    my $id = YourFirstName_StudentID($name);\n    print(\"Student Id is: $id\\n\");\n}\n\nsub YourFirstName_StudentID {\n    #print(\"My name is $name\\n\");\n    print(\"Enter Your Student ID\\n\");\n    chomp( my $id = &lt;&gt;);\n    return $id;  # &lt;--- return local variable to caller\n}\n</code></pre>\n"}], "owner": {"reputation": 863, "user_id": 9138850, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/kxukI.jpg?s=128&g=1", "display_name": "Mohammad Basit", "link": "https://stackoverflow.com/users/9138850/mohammad-basit"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 60, "favorite_count": 0, "accepted_answer_id": 57039819, "answer_count": 1, "score": 2, "last_activity_date": 1563194173, "creation_date": 1563193063, "last_edit_date": 1563193487, "question_id": 57039624, "link": "https://stackoverflow.com/questions/57039624/i-want-to-access-private-variable-of-a-subroutine-outside-it", "title": "I want to access private variable of a subroutine outside it", "body": "<p>I am trying to access private variable of subroutine outside the subroutine. How to do this?</p>\n\n<p>I tried the code i have posted with the question but it is printing the values of global variable \"name\" and the condition is that the name of the global variable and the private variable has to be the same.</p>\n\n<pre><code> print(\"Please Enter Your First Name:\\n\");\n # declaration of global variable \n $name = &lt;&gt;;\n YourFirstName_StudentID($name);\n sub YourFirstName_StudentID {\n     print(\"My name is $name\\n\");\n     print(\"Enter Your Student ID\\n\");\n     my $name = &lt;&gt;;\n }\n #printing outside subroutine \n print(\"Student Id is: $name\");\n</code></pre>\n\n<p>Output currently is:\nPlease Enter Your First Name:\nMy name is xyz</p>\n\n<p>Enter Your Student ID\nStudent Id is: xyz</p>\n\n<p>But i want it like this \nPlease Enter Your First Name:\nMy name is xyz</p>\n\n<p>Enter Your Student ID\nStudent Id is: 1234567</p>\n"}, {"tags": ["unit-testing", "perl", "mocking"], "comments": [{"owner": {"reputation": 50468, "user_id": 1331451, "user_type": "registered", "accept_rate": 96, "profile_image": "https://i.stack.imgur.com/4ZPmj.png?s=128&g=1", "display_name": "simbabque", "link": "https://stackoverflow.com/users/1331451/simbabque"}, "edited": false, "score": 0, "creation_date": 1563187548, "post_id": 57037912, "comment_id": 100604107, "body": "I assume you&#39;ve read <a href=\"https://stackoverflow.com/q/3678655/1331451\">stackoverflow.com/q/3678655/1331451</a>?"}, {"owner": {"reputation": 877, "user_id": 1514247, "user_type": "registered", "accept_rate": 20, "profile_image": "https://www.gravatar.com/avatar/a52e0ed441ebc3b94bc83b78089a3b88?s=128&d=identicon&r=PG", "display_name": "Yogesh Patil", "link": "https://stackoverflow.com/users/1514247/yogesh-patil"}, "reply_to_user": {"reputation": 50468, "user_id": 1331451, "user_type": "registered", "accept_rate": 96, "profile_image": "https://i.stack.imgur.com/4ZPmj.png?s=128&g=1", "display_name": "simbabque", "link": "https://stackoverflow.com/users/1331451/simbabque"}, "edited": false, "score": 0, "creation_date": 1563187785, "post_id": 57037912, "comment_id": 100604218, "body": "@simbabque Yes i have. It only deals with the output and not the return code"}], "answers": [{"comments": [{"owner": {"reputation": 877, "user_id": 1514247, "user_type": "registered", "accept_rate": 20, "profile_image": "https://www.gravatar.com/avatar/a52e0ed441ebc3b94bc83b78089a3b88?s=128&d=identicon&r=PG", "display_name": "Yogesh Patil", "link": "https://stackoverflow.com/users/1514247/yogesh-patil"}, "edited": false, "score": 0, "creation_date": 1563257858, "post_id": 57040835, "comment_id": 100628725, "body": "Works like a charm. Thanks @mob"}], "tags": [], "owner": {"reputation": 110113, "user_id": 168657, "user_type": "registered", "accept_rate": 92, "profile_image": "https://www.gravatar.com/avatar/f14e7610fca39322ebbf23530def15f8?s=128&d=identicon&r=PG", "display_name": "mob", "link": "https://stackoverflow.com/users/168657/mob"}, "is_accepted": true, "score": 3, "last_activity_date": 1563203556, "last_edit_date": 1563203556, "creation_date": 1563197403, "answer_id": 57040835, "question_id": 57037912, "link": "https://stackoverflow.com/questions/57037912/mock-perl-backticks-return-code-and-output/57040835#57040835", "title": "Mock perl backtick&#39;s return code and output", "body": "<p>Backticks/<code>readpipe</code> return the exit status in <code>$?</code>, so you will just want to set <code>$?</code> in your mocked readpipe function.</p>\n\n<pre><code>BEGIN {\n  *CORE::GLOBAL::readpipe = \\&amp;mock_readpipe\n};\nsub mock_readpipe {\n  my $var = $_[0];\n  if ($var =~ /cat|dog/) {\n      $? = 1 &gt;&gt; 8;  # simulate exit code 1\n      return;\n  } else if (wantarray) {\n      $? = 0;\n      return (\"foo\\n\", \"bar\\n\");\n  } else {\n      $? = 0;\n      return \"foo\\nbar\\n\";\n  }\n}\n</code></pre>\n"}], "owner": {"reputation": 877, "user_id": 1514247, "user_type": "registered", "accept_rate": 20, "profile_image": "https://www.gravatar.com/avatar/a52e0ed441ebc3b94bc83b78089a3b88?s=128&d=identicon&r=PG", "display_name": "Yogesh Patil", "link": "https://stackoverflow.com/users/1514247/yogesh-patil"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 96, "favorite_count": 0, "accepted_answer_id": 57040835, "answer_count": 1, "score": 4, "last_activity_date": 1563203556, "creation_date": 1563186811, "question_id": 57037912, "link": "https://stackoverflow.com/questions/57037912/mock-perl-backticks-return-code-and-output", "title": "Mock perl backtick&#39;s return code and output", "body": "<p>I am trying to write a unit test case in perl where i need to mock output of command run via backticks and its return code twice.</p>\n\n<p>Consider code flow like below</p>\n\n<pre><code>sub foo {\n  my $out = `ls -R`;\n  my $ret = $?;\n\n  if( $ret == 0 ) {\n    $out = `ls -R &gt; foo.txt`;\n  } elsif {\n    # some retry logic\n    # i want to cover this code path\n  }\n  return ($ret, $out);\n}\n</code></pre>\n\n<p>Now i need to mock non zero return codes. \nHow can i acheive that?</p>\n\n<p>I have something like below, but this only mocks output but return code is always 0</p>\n\n<pre><code>BEGIN {\n  *CORE::GLOBAL::readpipe = sub($) {\n    my $var = $_[0];\n    return 1;\n  }\n};\n</code></pre>\n\n<p>I am using Perl 5.10. and i cannot change using backticks to execute the command.</p>\n"}, {"tags": ["perl"], "comments": [{"owner": {"reputation": 32176, "user_id": 2173773, "user_type": "registered", "accept_rate": 86, "profile_image": "https://i.stack.imgur.com/M8yh6.jpg?s=128&g=1", "display_name": "H&#229;kon H&#230;gland", "link": "https://stackoverflow.com/users/2173773/h%c3%a5kon-h%c3%a6gland"}, "edited": false, "score": 0, "creation_date": 1563119518, "post_id": 57028737, "comment_id": 100586813, "body": "What is the purpose of <code>@sixfiles</code>? You do not seem to use the array for anything"}, {"owner": {"reputation": 27648, "user_id": 9952196, "user_type": "registered", "profile_image": "https://graph.facebook.com/10216835866235879/picture?type=large", "display_name": "Shawn", "link": "https://stackoverflow.com/users/9952196/shawn"}, "edited": false, "score": 0, "creation_date": 1563128527, "post_id": 57028737, "comment_id": 100588944, "body": "Why not use the core <a href=\"https://metacpan.org/pod/File::Copy\" rel=\"nofollow noreferrer\">File::Copy</a> module instead?"}], "answers": [{"tags": [], "owner": {"reputation": 32176, "user_id": 2173773, "user_type": "registered", "accept_rate": 86, "profile_image": "https://i.stack.imgur.com/M8yh6.jpg?s=128&g=1", "display_name": "H&#229;kon H&#230;gland", "link": "https://stackoverflow.com/users/2173773/h%c3%a5kon-h%c3%a6gland"}, "is_accepted": false, "score": 0, "last_activity_date": 1563120282, "creation_date": 1563120282, "answer_id": 57029008, "question_id": 57028737, "link": "https://stackoverflow.com/questions/57028737/how-do-i-execute-a-unix-command-containing-a-perl-variable-in-perl/57029008#57029008", "title": "How do I execute a unix command containing a perl variable in perl", "body": "<p>Try this:</p>\n\n<pre><code>use feature qw(say);\nuse strict;\nuse warnings;\nuse File::Spec;\n\nmy @Vars = (\"pr\",\"tasmin\",\"tasmax\");\nmy $Input_Dir = \"/home/zmumba/DATA/Input_Dir\";\nmy $Output_Dir = \"/home/zmumba/DATA/Output_Dir\";\n\nopendir my $in_dir, $Input_Dir or die \"opendir failed on $Input_Dir: $! ($^E)\";\nwhile (my $file=readdir $in_dir) {\n    next if ($file eq '.') || ($file eq '..');\n    next if -d $file;\n    next if !grep { $file =~ /^$_/ } @Vars;\n    say \"Copying $file\";\n    $file = File::Spec-&gt;catfile( $Input_Dir, $file );\n    system \"cp\", $file, $Output_Dir;\n}\n</code></pre>\n"}, {"comments": [{"owner": {"reputation": 1064, "user_id": 2856552, "user_type": "registered", "accept_rate": 62, "profile_image": "https://www.gravatar.com/avatar/1a9a2cb2960580df2a7e0724a306c2d8?s=128&d=identicon&r=PG&f=1", "display_name": "Zilore Mumba", "link": "https://stackoverflow.com/users/2856552/zilore-mumba"}, "edited": false, "score": 0, "creation_date": 1563141415, "post_id": 57029268, "comment_id": 100591742, "body": "Firstly I would like to thank all of you for spending your  precious time to look at my code. Thanks @H&#229;kon H&#230;gland, the code you provided does not give any error but nothing is copied. I will spend some time on it to see if it can give me results. I use &quot;atsixfiles&quot; later, I just wanted to know how to put it in code. There is an error in that the } at the end should not be there. I got this (wrongly) from what I do in copying files over ftp as &quot;atfiles = ftp-&gt;ls&quot;. Obviously my use in the current context is wrong. Is there a way of putting it? Overall the responses I got may help me progress."}], "tags": [], "owner": {"reputation": 62184, "user_id": 7231, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/81b76985f3985e35492e25880493d045?s=128&d=identicon&r=PG", "display_name": "Dave Cross", "link": "https://stackoverflow.com/users/7231/dave-cross"}, "is_accepted": false, "score": 0, "last_activity_date": 1563122272, "creation_date": 1563122272, "answer_id": 57029268, "question_id": 57028737, "link": "https://stackoverflow.com/questions/57028737/how-do-i-execute-a-unix-command-containing-a-perl-variable-in-perl/57029268#57029268", "title": "How do I execute a unix command containing a perl variable in perl", "body": "<blockquote>\n<pre><code>system ($cmd01);\n</code></pre>\n  \n  <p>Gives:</p>\n\n<pre><code>cp: cannot stat '&lt;long-but-correct-file-name&gt;': No such file or directory\n</code></pre>\n</blockquote>\n\n<p>This is almost certainly because you are not running the code from <code>$Input_Dir</code>, so that file doesn't exist in your current directory. You need to either <code>chdir</code> to the correct directory or add the directory path to the front of the file name variable.</p>\n\n<blockquote>\n<pre><code>system(\"@sixfiles = ls $Vars[$kk]}*\");\n</code></pre>\n</blockquote>\n\n<p>This code makes no sense. The code passed to <code>system()</code> needs to be Unix shell code. That's the <code>ls $Vars[$kk]}*</code> bit (but I'm not sure where that <code>}</code> comes from). You can't populate a Perl array inside a shell command. You would need to capture the value returned from the <code>ls</code> command and then parse it somehow to separate it into a list.</p>\n"}, {"comments": [{"owner": {"reputation": 1064, "user_id": 2856552, "user_type": "registered", "accept_rate": 62, "profile_image": "https://www.gravatar.com/avatar/1a9a2cb2960580df2a7e0724a306c2d8?s=128&d=identicon&r=PG&f=1", "display_name": "Zilore Mumba", "link": "https://stackoverflow.com/users/2856552/zilore-mumba"}, "edited": false, "score": 0, "creation_date": 1563197124, "post_id": 57039932, "comment_id": 100609203, "body": "Thanks @Cheruvattil, I will give you feedback tomorrow after I have access to my computer."}], "tags": [], "owner": {"reputation": 29, "user_id": 883996, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/36d0100905b9ff9e568318ad66c995e5?s=128&d=identicon&r=PG", "display_name": "Sabin Cheruvattil", "link": "https://stackoverflow.com/users/883996/sabin-cheruvattil"}, "is_accepted": false, "score": 0, "last_activity_date": 1563194324, "creation_date": 1563194324, "answer_id": 57039932, "question_id": 57028737, "link": "https://stackoverflow.com/questions/57028737/how-do-i-execute-a-unix-command-containing-a-perl-variable-in-perl/57039932#57039932", "title": "How do I execute a unix command containing a perl variable in perl", "body": "<p>You can give a try with the following code:</p>\n\n<pre><code>#!/usr/bin/env perl\nuse strict;\nuse warnings;\n\nmy $debug = 1;\n\nmy @Vars = (\"pr\", \"tasmin\", \"tasmax\");\nmy $Vars;\nmy $Input_Dir = \"/home/zmumba/DATA/Input_Dir\";\nmy $Output_Dir = \"/home/zmumba/DATA/Output_Dir\";\nmy $cpsrc, $cpdest = '';\n\nprint \"No Write Permission: $!\" unless(-w $Output_Dir);\n\nfor my $findex (0 .. $#Vars) {\n    $cpsrc = qq($Input_Dir/$Vars[$findex]);\n\n    print \"$Vars[$findex]\\n\";\n    print \"Copying $Vars[$findex]\\n\" if $debug;\n    my $cmd01 = \"cp $cpsrc $Output_Dir\";\n    print \"Doing system ($cmd01)\\n\" if $debug;\n    system($cmd01);\n}\n</code></pre>\n\n<p>You don't have to go through each file in source dir. You already know the files to copy from source.</p>\n"}], "owner": {"reputation": 1064, "user_id": 2856552, "user_type": "registered", "accept_rate": 62, "profile_image": "https://www.gravatar.com/avatar/1a9a2cb2960580df2a7e0724a306c2d8?s=128&d=identicon&r=PG&f=1", "display_name": "Zilore Mumba", "link": "https://stackoverflow.com/users/2856552/zilore-mumba"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 61, "favorite_count": 0, "answer_count": 3, "score": 0, "last_activity_date": 1563194324, "creation_date": 1563117952, "last_edit_date": 1563119656, "question_id": 57028737, "link": "https://stackoverflow.com/questions/57028737/how-do-i-execute-a-unix-command-containing-a-perl-variable-in-perl", "title": "How do I execute a unix command containing a perl variable in perl", "body": "<p>In the following perl code, I am tring to copy a perl variable $file from one directory to another directory with:</p>\n\n<pre><code>\"system(\"cp $file  $Output_Dir);\n</code></pre>\n\n<p>This command writes down the file name alright but then says:</p>\n\n<pre><code>cp: cannot stat 'tasmax_AFR-44_CNRM-CERFACS-CNRM-CM5_historical_r1i1p1_CLMcom-CCLM4-8-17_v1_day_19910101-19951231.nc': No such file or directory\n</code></pre>\n\n<p>The command</p>\n\n<pre><code>      system(\"@sixfiles = ls $Vars[$kk]}*\");\n</code></pre>\n\n<p>gives me the error:\n    sh: 1: =: not found\nI wonder what is wrong with this code. Assistance will be appreciated.</p>\n\n<pre><code>#!/usr/bin/perl -w\nuse strict;\nuse warnings;\nuse File::Path;\nuse File::Copy;\n\nmy $debug = 1;\n\nmy @Vars = (\"pr\",\"tasmin\",\"tasmax\");\nmy $Vars;\nmy @sixfiles;\nmy $sixfiles;\n\nmy $Input_Dir = \"/home/zmumba/DATA/Input_Dir\";\nmy $Output_Dir = \"/home/zmumba/DATA/Output_Dir\";\n\nfor (my $kk=0; $kk &lt; @Vars; ++$kk) {\n    opendir my $in_dir, $Input_Dir or die \"opendir failed on $Input_Dir: $! ($^E)\";\n    while (my $file=readdir $in_dir) {               \n        next unless $file =~ /^$Vars[$kk]/;\n        next if -d $file;\n        print \"$file\\n\";\n        print \"Copying $file\\n\" if $debug;\n        my $cmd01 = \"cp $file  $Output_Dir\";\n        print \"Doing system ($cmd01)\\n\" if $debug;\n        system ($cmd01);\n        system(\"@sixfiles = ls $Vars[$kk]}*\");\n    }\n}\n</code></pre>\n"}, {"tags": ["perl", "ansible", "yaml", "stdin"], "comments": [{"owner": {"reputation": 22353, "user_id": 225016, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/77d3c3ab5ddcf93a8ca1bfe1b481be1c?s=128&d=identicon&r=PG", "display_name": "mdaniel", "link": "https://stackoverflow.com/users/225016/mdaniel"}, "edited": false, "score": 0, "creation_date": 1563079070, "post_id": 57024573, "comment_id": 100579214, "body": "Hi Bhargavi, welcome to SO. Please be more specific with what <b>is</b> happening; does your program hang? I was able to put together a simple example with <code>shell: perl -we &#39;$foo = &lt;STDIN&gt;; print qq(&quot;foo&quot;: &quot;$foo&quot;,);&#39;</code> and it behaved rationally when used with <code>args: stdin:</code> so I fear you just have improper expectations"}, {"owner": {"reputation": 21, "user_id": 11781483, "user_type": "registered", "profile_image": "https://lh3.googleusercontent.com/-F-M3CLTGeBw/AAAAAAAAAAI/AAAAAAAAAFI/GurEJJIfL1I/photo.jpg?sz=128", "display_name": "Bhargavi Jagannathan", "link": "https://stackoverflow.com/users/11781483/bhargavi-jagannathan"}, "reply_to_user": {"reputation": 22353, "user_id": 225016, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/77d3c3ab5ddcf93a8ca1bfe1b481be1c?s=128&d=identicon&r=PG", "display_name": "mdaniel", "link": "https://stackoverflow.com/users/225016/mdaniel"}, "edited": false, "score": 0, "creation_date": 1563139962, "post_id": 57024573, "comment_id": 100591478, "body": "Hi Matthew, I appreciate the help. Is there a way to pass multiple stdins? For instance: args: stdin: $dataset_target: {{dataset_target}} $tablename: {{tablename}}?"}, {"owner": {"reputation": 5455, "user_id": 3961170, "user_type": "registered", "accept_rate": 73, "profile_image": "https://i.stack.imgur.com/PtFol.jpg?s=128&g=1", "display_name": "mkHun", "link": "https://stackoverflow.com/users/3961170/mkhun"}, "edited": false, "score": 0, "creation_date": 1563202572, "post_id": 57024573, "comment_id": 100612358, "body": "@BhargaviJagannathan I didn&#39;t get you..? multiple inputs in the STDIN meant.? You can make the input in the while loop. Else read the input and split with the space character."}, {"owner": {"reputation": 21, "user_id": 11781483, "user_type": "registered", "profile_image": "https://lh3.googleusercontent.com/-F-M3CLTGeBw/AAAAAAAAAAI/AAAAAAAAAFI/GurEJJIfL1I/photo.jpg?sz=128", "display_name": "Bhargavi Jagannathan", "link": "https://stackoverflow.com/users/11781483/bhargavi-jagannathan"}, "edited": false, "score": 0, "creation_date": 1563218705, "post_id": 57024573, "comment_id": 100619523, "body": "Rephrasing my question: How can I pass in 3 command line arguments to the perl script using the shell module. I use programname.pl arg1&lt;newline&gt; arg2&lt;newline&gt; arg3. However only the first arg is processed by the script."}], "answers": [{"comments": [{"owner": {"reputation": 21, "user_id": 11781483, "user_type": "registered", "profile_image": "https://lh3.googleusercontent.com/-F-M3CLTGeBw/AAAAAAAAAAI/AAAAAAAAAFI/GurEJJIfL1I/photo.jpg?sz=128", "display_name": "Bhargavi Jagannathan", "link": "https://stackoverflow.com/users/11781483/bhargavi-jagannathan"}, "edited": false, "score": 0, "creation_date": 1563137323, "post_id": 57025044, "comment_id": 100590953, "body": "Thanks for the advice, your string suggestion helped solve the problem. I have another question, I have 2 more stdins in the the same script, any advice on how to handle them on ansible? I&#39;m new to both ansible and perl, I appreciate the help."}, {"owner": {"reputation": 1034879, "user_id": 6309, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/7aa22372b695ed2b26052c340f9097eb?s=128&d=identicon&r=PG", "display_name": "VonC", "link": "https://stackoverflow.com/users/6309/vonc"}, "reply_to_user": {"reputation": 21, "user_id": 11781483, "user_type": "registered", "profile_image": "https://lh3.googleusercontent.com/-F-M3CLTGeBw/AAAAAAAAAAI/AAAAAAAAAFI/GurEJJIfL1I/photo.jpg?sz=128", "display_name": "Bhargavi Jagannathan", "link": "https://stackoverflow.com/users/11781483/bhargavi-jagannathan"}, "edited": false, "score": 0, "creation_date": 1563140299, "post_id": 57025044, "comment_id": 100591536, "body": "@BhargaviJagannathan If those are for the same STDIN of the same commands, it is better to combine strings into one, to pass to said commands. If those are two different STDIN for two different commands, the approach above should apply, simply repeated/duplicated for the other commands."}, {"owner": {"reputation": 21, "user_id": 11781483, "user_type": "registered", "profile_image": "https://lh3.googleusercontent.com/-F-M3CLTGeBw/AAAAAAAAAAI/AAAAAAAAAFI/GurEJJIfL1I/photo.jpg?sz=128", "display_name": "Bhargavi Jagannathan", "link": "https://stackoverflow.com/users/11781483/bhargavi-jagannathan"}, "edited": false, "score": 0, "creation_date": 1563217085, "post_id": 57025044, "comment_id": 100618903, "body": "How can I pass in 3 command line arguments to the perl script using the shell module. I use  {{}}"}, {"owner": {"reputation": 1034879, "user_id": 6309, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/7aa22372b695ed2b26052c340f9097eb?s=128&d=identicon&r=PG", "display_name": "VonC", "link": "https://stackoverflow.com/users/6309/vonc"}, "reply_to_user": {"reputation": 21, "user_id": 11781483, "user_type": "registered", "profile_image": "https://lh3.googleusercontent.com/-F-M3CLTGeBw/AAAAAAAAAAI/AAAAAAAAAFI/GurEJJIfL1I/photo.jpg?sz=128", "display_name": "Bhargavi Jagannathan", "link": "https://stackoverflow.com/users/11781483/bhargavi-jagannathan"}, "edited": false, "score": 0, "creation_date": 1563217405, "post_id": 57025044, "comment_id": 100619023, "body": "@BhargaviJagannathan By duplicating the shell step three time, each one with their own string to pass as STDIN in each shell step."}], "tags": [], "owner": {"reputation": 1034879, "user_id": 6309, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/7aa22372b695ed2b26052c340f9097eb?s=128&d=identicon&r=PG", "display_name": "VonC", "link": "https://stackoverflow.com/users/6309/vonc"}, "is_accepted": false, "score": 1, "last_activity_date": 1563085111, "creation_date": 1563085111, "answer_id": 57025044, "question_id": 57024573, "link": "https://stackoverflow.com/questions/57024573/how-to-get-ansible-playbook-to-take-input-for-my-perlscript-pl-which-contains-s/57025044#57025044", "title": "How to get ansible playbook to take input for my perlscript.pl which contains &lt;STDIN&gt;?", "body": "<p>First, just in case, do check if passing the parameter on the same line has any influence (<a href=\"https://stackoverflow.com/a/53109036/6309\">as seen here</a>):</p>\n\n<pre><code>- name: edit source file\n  shell: perl \"{{ project_dir }}/edit_dataschema.pl\"\n  args:\n    stdin: \"{{datasetid_target}}\"\n</code></pre>\n\n<p>Second, check if a <a href=\"https://stackoverflow.com/a/50343744/6309\">string conversion as made here</a> would help:</p>\n\n<pre><code>  args:\n    stdin: \"{{datasetid_target | string}}\"\n</code></pre>\n"}], "owner": {"reputation": 21, "user_id": 11781483, "user_type": "registered", "profile_image": "https://lh3.googleusercontent.com/-F-M3CLTGeBw/AAAAAAAAAAI/AAAAAAAAAFI/GurEJJIfL1I/photo.jpg?sz=128", "display_name": "Bhargavi Jagannathan", "link": "https://stackoverflow.com/users/11781483/bhargavi-jagannathan"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 821, "favorite_count": 1, "answer_count": 1, "score": 2, "last_activity_date": 1563085111, "creation_date": 1563078142, "last_edit_date": 1563078578, "question_id": 57024573, "link": "https://stackoverflow.com/questions/57024573/how-to-get-ansible-playbook-to-take-input-for-my-perlscript-pl-which-contains-s", "title": "How to get ansible playbook to take input for my perlscript.pl which contains &lt;STDIN&gt;?", "body": "<p>In an ansible playbook I use a file containing a perl script file to perform a few tasks. How do I get ansible to capture STDIN for the perl script?</p>\n\n<pre><code>&gt; #!/usr/bin/perl -w\n&gt; ...\n&gt; print OUTPUT_FILE \"\\n\";\n&gt; my $datasetid_target = &lt;STDIN&gt;; &lt;&lt;--not able to link to ansible playbook\n&gt; $datasetid_target; print OUTPUT_FILE\n&gt; qq(\"datasetId\":\"$datasetid_target\",);\n</code></pre>\n\n<p>The script works well as a standalone but prints nothing with ansible.</p>\n\n<p>I tried using args, vars, expect, stdin with no success.</p>\n\n<p>Expected result is something along the lines of: (please refer to the snapshot)</p>\n\n<pre><code>&gt;  - name: edit source file\n&gt;    shell: perl \"{{ project_dir }}/edit_dataschema.pl\"\n&gt;    args:\n&gt;      stdin:  &lt;&lt;-- here is my problem\n&gt;        \"{{datasetid_target}}\"\n</code></pre>\n"}, {"tags": ["perl"], "comments": [{"owner": {"reputation": 53041, "user_id": 4653379, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/b3953dbedd0dabff5cbc3db9b0835b14?s=128&d=identicon&r=PG&f=1", "display_name": "zdim", "link": "https://stackoverflow.com/users/4653379/zdim"}, "edited": false, "score": 1, "creation_date": 1563081849, "post_id": 57024097, "comment_id": 100579532, "body": "(1) The shown code opens files for writing, with <code>&gt;</code>.  That would truncate each file first! (Typo in posting?)  (2) There is no need for an explicit if-else -- just check <code>die &quot;Usage ... &quot; if ...</code> and then the rest of the code goes.  (3) <i>Always</i> have <code>use warnings;</code> and <code>use strict;</code> at the beginning.  (4) The attempted sorting is completely wrong, clarified in the asnwer. One thing: the <code>$a</code> and <code>$b</code> have their meaning only <i>inside</i> the <code>sort</code>&#39;s block."}], "answers": [{"comments": [{"owner": {"reputation": 320771, "user_id": 589924, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/b2cf53d5a3d25f95c0db4e025aed4153?s=128&d=identicon&r=PG", "display_name": "ikegami", "link": "https://stackoverflow.com/users/589924/ikegami"}, "edited": false, "score": 1, "creation_date": 1563153132, "post_id": 57024334, "comment_id": 100593465, "body": "<code>sort { length($a) &lt;=&gt; length($b) || $a cmp $b }</code> is sufficient, and the intent is clear without the need for additional parens."}], "tags": [], "owner": {"reputation": 350, "user_id": 1402478, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/d545dbedef5d41dde1009ceda2039494?s=128&d=identicon&r=PG", "display_name": "Tom Williams", "link": "https://stackoverflow.com/users/1402478/tom-williams"}, "is_accepted": false, "score": 3, "last_activity_date": 1563074364, "creation_date": 1563074364, "answer_id": 57024334, "question_id": 57024097, "link": "https://stackoverflow.com/questions/57024097/perl-print-the-lines-of-the-file-in-order-of-length-lines-of-equal-length-shou/57024334#57024334", "title": "Perl: Print the lines of the file in order of length, lines of equal length should be sorted alphabetically", "body": "<pre><code>@length_line = sort(length $a cmp length $b);\n</code></pre>\n\n<p>Probably not what you intended -- the cmp operator shouldn't be working on the length function's output -- it should work on the string's actual value.</p>\n\n<p>I think you can set up a single compound sort routine, on the order of </p>\n\n<pre><code>@sorted_lines = sort {((length $a) &lt;=&gt; (length $b)) || ($a cmp $b)} @lines;\n</code></pre>\n\n<p>Then, skip the whole loop -- it's unnecessary.\nEnd with</p>\n\n<pre><code>print \"$_\\n\" foreach @sorted_lines;\n</code></pre>\n"}, {"comments": [{"owner": {"reputation": 78982, "user_id": 1848654, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/84180c0f3c9c04f8b8f0613fc0129dac?s=128&d=identicon&r=PG", "display_name": "melpomene", "link": "https://stackoverflow.com/users/1848654/melpomene"}, "edited": false, "score": 0, "creation_date": 1563397056, "post_id": 57083766, "comment_id": 100691004, "body": "&quot;<i>you can&#39;t just print an array in Perl</i>&quot; - Sure you can. It&#39;s just that <code>print @foo</code> (without quotes) outputs all elements next to each other (without any separator) and <code>&quot;@foo&quot;</code> is effectively the same as <code>join(&quot; &quot;, @foo)</code> (using a space as the separator). For debugging you probably want <code>Dumper(\\@foo)</code>, not <code>Dumper(@foo)</code>."}, {"owner": {"reputation": 96, "user_id": 11794107, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/c0a10cc5a0eb73584c8b29f67147cd10?s=128&d=identicon&r=PG&f=1", "display_name": "Harlan", "link": "https://stackoverflow.com/users/11794107/harlan"}, "reply_to_user": {"reputation": 78982, "user_id": 1848654, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/84180c0f3c9c04f8b8f0613fc0129dac?s=128&d=identicon&r=PG", "display_name": "melpomene", "link": "https://stackoverflow.com/users/1848654/melpomene"}, "edited": false, "score": 0, "creation_date": 1563464447, "post_id": 57083766, "comment_id": 100717659, "body": "Good point; I&#39;m used to stumbling into references to arrays, which don&#39;t output their data.  [Edit: well, I guess they <i>do</i> output their data, it&#39;s just that &quot;their data&quot; isn&#39;t the useful bits to me]  BTW, tried it, and don&#39;t even get the space separator between the array elements on mine.  Wonder why you&#39;d get different behavior?"}], "tags": [], "owner": {"reputation": 96, "user_id": 11794107, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/c0a10cc5a0eb73584c8b29f67147cd10?s=128&d=identicon&r=PG&f=1", "display_name": "Harlan", "link": "https://stackoverflow.com/users/11794107/harlan"}, "is_accepted": false, "score": 0, "last_activity_date": 1598206310, "last_edit_date": 1598206310, "creation_date": 1563395925, "answer_id": 57083766, "question_id": 57024097, "link": "https://stackoverflow.com/questions/57024097/perl-print-the-lines-of-the-file-in-order-of-length-lines-of-equal-length-shou/57083766#57083766", "title": "Perl: Print the lines of the file in order of length, lines of equal length should be sorted alphabetically", "body": "<p>A few other comments:</p>\n<pre><code>print &quot;@length_line\\n&quot;;\n</code></pre>\n<ol>\n<li><p>Even if this array had what you wanted in it, you can't just print an array in Perl.  For debugging things, read up on the Data::Dumper package for this, so you could do something like</p>\n<p>print Dumper(@length_line) . &quot;\\n&quot;;</p>\n</li>\n<li><p>For your method of reading the file, you've got some problems.  Think your '&gt;' is indicating you want to write the file, which doesn't seem right.  You could roll your own reading mechanism, or you could look into the File::Slurp package to do so, so you could read into @lines like this:</p>\n<p>my @lines = read_file $file, { slurp =&gt; 1 };</p>\n</li>\n<li><p>For getting yourself into writing good Perl, you probably want to turn on strict mode and warnings. Thought of that when I saw your foreach statements, which should really have a my inside them, like:</p>\n<p>foreach my $line (@lines)</p>\n</li>\n</ol>\n"}], "owner": {"reputation": 51, "user_id": 11724288, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/98f635624a9c5c357b0d1dffef4de67c?s=128&d=identicon&r=PG&f=1", "display_name": "sevonchan", "link": "https://stackoverflow.com/users/11724288/sevonchan"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 193, "favorite_count": 0, "answer_count": 2, "score": 1, "last_activity_date": 1598206310, "creation_date": 1563070648, "question_id": 57024097, "link": "https://stackoverflow.com/questions/57024097/perl-print-the-lines-of-the-file-in-order-of-length-lines-of-equal-length-shou", "title": "Perl: Print the lines of the file in order of length, lines of equal length should be sorted alphabetically", "body": "<p>I'm writing a perl program that sorts lines in a file according to their length, lines of equal length should be sorted alphabetically.</p>\n\n<p>Below is what I have tried. I'm not exactly sure about the use of length $a and length $b and the cmp function. My code is also not compiling, could someone please help me with this. I'm pretty new to perl so a bit of explanation would be helpful! Thanks!</p>\n\n<pre><code>#!/usr/bin/perl -w\n\nif (@ARGV != 1){\n    die \"Usage $0: &lt;file&gt;\\n\";\n}else { \n    foreach $file(@ARGV){\n    open my $f, '&gt;', $file or die \"Cannot open $file: $!\\n\";\n    my @lines = &lt;$f&gt;;\n    close $f;\n\n        foreach $line(@lines){\n            if (length $a == length $b){\n                @length_line = sort(length $a cmp length $b);\n            } else {\n                @length_line = sort(length $a &lt;=&gt; length $b);\n            }\n        }\n    }\n    print \"@length_line\\n\";\n}\n</code></pre>\n"}, {"tags": ["file", "perl", "editing"], "comments": [{"owner": {"reputation": 32176, "user_id": 2173773, "user_type": "registered", "accept_rate": 86, "profile_image": "https://i.stack.imgur.com/M8yh6.jpg?s=128&g=1", "display_name": "H&#229;kon H&#230;gland", "link": "https://stackoverflow.com/users/2173773/h%c3%a5kon-h%c3%a6gland"}, "edited": false, "score": 0, "creation_date": 1563035341, "post_id": 57020873, "comment_id": 100572247, "body": "Note your two snippets are identical. Maybe delete one to avoid confusion? What do you mean by &quot;multi-line&quot; ? What do you mean by &quot;edit a file&quot; ?"}, {"owner": {"reputation": 139, "user_id": 11731581, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/4B4v1.jpg?s=128&g=1", "display_name": "Donoru", "link": "https://stackoverflow.com/users/11731581/donoru"}, "reply_to_user": {"reputation": 32176, "user_id": 2173773, "user_type": "registered", "accept_rate": 86, "profile_image": "https://i.stack.imgur.com/M8yh6.jpg?s=128&g=1", "display_name": "H&#229;kon H&#230;gland", "link": "https://stackoverflow.com/users/2173773/h%c3%a5kon-h%c3%a6gland"}, "edited": false, "score": 0, "creation_date": 1563035406, "post_id": 57020873, "comment_id": 100572265, "body": "I mean so that the user can edit the file through Perl, and include more than 1 line in the output."}, {"owner": {"reputation": 139, "user_id": 11731581, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/4B4v1.jpg?s=128&g=1", "display_name": "Donoru", "link": "https://stackoverflow.com/users/11731581/donoru"}, "reply_to_user": {"reputation": 32176, "user_id": 2173773, "user_type": "registered", "accept_rate": 86, "profile_image": "https://i.stack.imgur.com/M8yh6.jpg?s=128&g=1", "display_name": "H&#229;kon H&#230;gland", "link": "https://stackoverflow.com/users/2173773/h%c3%a5kon-h%c3%a6gland"}, "edited": false, "score": 0, "creation_date": 1563035470, "post_id": 57020873, "comment_id": 100572283, "body": "<b>Sorry for being so hard to understand ._.</b>"}, {"owner": {"reputation": 139, "user_id": 11731581, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/4B4v1.jpg?s=128&g=1", "display_name": "Donoru", "link": "https://stackoverflow.com/users/11731581/donoru"}, "reply_to_user": {"reputation": 32176, "user_id": 2173773, "user_type": "registered", "accept_rate": 86, "profile_image": "https://i.stack.imgur.com/M8yh6.jpg?s=128&g=1", "display_name": "H&#229;kon H&#230;gland", "link": "https://stackoverflow.com/users/2173773/h%c3%a5kon-h%c3%a6gland"}, "edited": false, "score": 0, "creation_date": 1563035620, "post_id": 57020873, "comment_id": 100572314, "body": "By edit a file, I mean create a file, ask the user what to call it, open it, ask the user what to put in it, print the user input to the .txt file, and save it. By multi-line, I mean the user should be able to put more than one line of text in the file."}, {"owner": {"reputation": 110113, "user_id": 168657, "user_type": "registered", "accept_rate": 92, "profile_image": "https://www.gravatar.com/avatar/f14e7610fca39322ebbf23530def15f8?s=128&d=identicon&r=PG", "display_name": "mob", "link": "https://stackoverflow.com/users/168657/mob"}, "edited": false, "score": 1, "creation_date": 1563035814, "post_id": 57020873, "comment_id": 100572363, "body": "You meant to say <code>print {$fn} $contents</code>, not <code>print {$filename} $contents</code>. <code>$filename</code> is a string but <code>$fn</code> is the file handle."}, {"owner": {"reputation": 32176, "user_id": 2173773, "user_type": "registered", "accept_rate": 86, "profile_image": "https://i.stack.imgur.com/M8yh6.jpg?s=128&g=1", "display_name": "H&#229;kon H&#230;gland", "link": "https://stackoverflow.com/users/2173773/h%c3%a5kon-h%c3%a6gland"}, "edited": false, "score": 0, "creation_date": 1563035872, "post_id": 57020873, "comment_id": 100572382, "body": "@MrMister So you want to use a loop with a prompt for each line to put in the file, and the line is appended at the end of the file? The user exits the loop by pressing some escape code?"}, {"owner": {"reputation": 139, "user_id": 11731581, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/4B4v1.jpg?s=128&g=1", "display_name": "Donoru", "link": "https://stackoverflow.com/users/11731581/donoru"}, "reply_to_user": {"reputation": 32176, "user_id": 2173773, "user_type": "registered", "accept_rate": 86, "profile_image": "https://i.stack.imgur.com/M8yh6.jpg?s=128&g=1", "display_name": "H&#229;kon H&#230;gland", "link": "https://stackoverflow.com/users/2173773/h%c3%a5kon-h%c3%a6gland"}, "edited": false, "score": 0, "creation_date": 1563037608, "post_id": 57020873, "comment_id": 100572776, "body": "Exactly @H&#229;konH&#230;gland"}, {"owner": {"reputation": 139, "user_id": 11731581, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/4B4v1.jpg?s=128&g=1", "display_name": "Donoru", "link": "https://stackoverflow.com/users/11731581/donoru"}, "reply_to_user": {"reputation": 110113, "user_id": 168657, "user_type": "registered", "accept_rate": 92, "profile_image": "https://www.gravatar.com/avatar/f14e7610fca39322ebbf23530def15f8?s=128&d=identicon&r=PG", "display_name": "mob", "link": "https://stackoverflow.com/users/168657/mob"}, "edited": false, "score": 0, "creation_date": 1563037690, "post_id": 57020873, "comment_id": 100572799, "body": "@mob, that was an accident while rewriting the code for the post, I got it right in the actual Perl file. Thanks for noticing that!"}, {"owner": {"reputation": 137100, "user_id": 874188, "user_type": "registered", "accept_rate": 62, "profile_image": "https://i.stack.imgur.com/ZcY77.png?s=128&g=1", "display_name": "tripleee", "link": "https://stackoverflow.com/users/874188/tripleee"}, "edited": false, "score": 0, "creation_date": 1563038278, "post_id": 57020873, "comment_id": 100572918, "body": "Possible duplicate of <a href=\"https://stackoverflow.com/questions/18337582/read-multiple-lines-from-console\">Read multiple lines from console</a>"}, {"owner": {"reputation": 53041, "user_id": 4653379, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/b3953dbedd0dabff5cbc3db9b0835b14?s=128&d=identicon&r=PG&f=1", "display_name": "zdim", "link": "https://stackoverflow.com/users/4653379/zdim"}, "edited": false, "score": 2, "creation_date": 1563047073, "post_id": 57020873, "comment_id": 100574962, "body": "Have a look at <a href=\"http://stackoverflow.com/help/someone-answers\">What should I do when someone answers my question?</a>  I&#39;d also suggest to review your previous questions and vote and accept as you see it fit"}], "answers": [{"tags": [], "owner": {"reputation": 32176, "user_id": 2173773, "user_type": "registered", "accept_rate": 86, "profile_image": "https://i.stack.imgur.com/M8yh6.jpg?s=128&g=1", "display_name": "H&#229;kon H&#230;gland", "link": "https://stackoverflow.com/users/2173773/h%c3%a5kon-h%c3%a6gland"}, "is_accepted": false, "score": 0, "last_activity_date": 1563039155, "creation_date": 1563039155, "answer_id": 57021426, "question_id": 57020873, "link": "https://stackoverflow.com/questions/57020873/how-can-i-open-and-edit-files-through-perl/57021426#57021426", "title": "How can I open and edit files through Perl?", "body": "<p>Here is an example that lets you exit the loop by pressing CTRL-C:</p>\n\n<pre><code>use feature qw(say);\nuse strict;\nuse warnings;\n\nSTDOUT-&gt;autoflush(1);\nsay \"enter filename\";\nchomp(my $filename = &lt;STDIN&gt;);\nopen my $fh, '&gt;', $filename or die \"Could not open file '$filename': $!\";\n{\n    local $SIG{INT} = sub { die \"SIGINT\" };\n    say \"enter contents (CTRL-C to exit)\";\n    eval {\n        while (1) {\n            print \"&gt; \";\n            my $contents = &lt;STDIN&gt;;  # do not need chomp here\n            print $fh $contents;\n        }\n    };\n    close $fh;\n    say \"\\nDone. Saved file '$filename'\";\n}\n</code></pre>\n"}, {"comments": [{"owner": {"reputation": 139, "user_id": 11731581, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/4B4v1.jpg?s=128&g=1", "display_name": "Donoru", "link": "https://stackoverflow.com/users/11731581/donoru"}, "edited": false, "score": 1, "creation_date": 1563042246, "post_id": 57021436, "comment_id": 100573881, "body": "Thank you SO MUCH! You are my savior, @zdim."}, {"owner": {"reputation": 53041, "user_id": 4653379, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/b3953dbedd0dabff5cbc3db9b0835b14?s=128&d=identicon&r=PG&f=1", "display_name": "zdim", "link": "https://stackoverflow.com/users/4653379/zdim"}, "reply_to_user": {"reputation": 139, "user_id": 11731581, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/4B4v1.jpg?s=128&g=1", "display_name": "Donoru", "link": "https://stackoverflow.com/users/11731581/donoru"}, "edited": false, "score": 0, "creation_date": 1563046908, "post_id": 57021436, "comment_id": 100574926, "body": "@MrMister Well, I&#39;m glad you like it :).  I edited, made the sub a little more robust."}, {"owner": {"reputation": 137100, "user_id": 874188, "user_type": "registered", "accept_rate": 62, "profile_image": "https://i.stack.imgur.com/ZcY77.png?s=128&g=1", "display_name": "tripleee", "link": "https://stackoverflow.com/users/874188/tripleee"}, "edited": false, "score": 0, "creation_date": 1563097584, "post_id": 57021436, "comment_id": 100582016, "body": "If this solved your problem, please mark it as accepted. See also <a href=\"/help/someone-answers\">help.</a>"}, {"owner": {"reputation": 370144, "user_id": 1271826, "user_type": "registered", "accept_rate": 100, "profile_image": "https://i.stack.imgur.com/duhm9.jpg?s=128&g=1", "display_name": "Rob", "link": "https://stackoverflow.com/users/1271826/rob"}, "reply_to_user": {"reputation": 139, "user_id": 11731581, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/4B4v1.jpg?s=128&g=1", "display_name": "Donoru", "link": "https://stackoverflow.com/users/11731581/donoru"}, "edited": false, "score": 0, "creation_date": 1563133568, "post_id": 57021436, "comment_id": 100590153, "body": "@MrMister - You should consider <a href=\"https://stackoverflow.com/help/accepted-answer\">accepting this answer</a>."}], "tags": [], "owner": {"reputation": 53041, "user_id": 4653379, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/b3953dbedd0dabff5cbc3db9b0835b14?s=128&d=identicon&r=PG&f=1", "display_name": "zdim", "link": "https://stackoverflow.com/users/4653379/zdim"}, "is_accepted": false, "score": 3, "last_activity_date": 1563096865, "last_edit_date": 1563096865, "creation_date": 1563039239, "answer_id": 57021436, "question_id": 57020873, "link": "https://stackoverflow.com/questions/57020873/how-can-i-open-and-edit-files-through-perl/57021436#57021436", "title": "How can I open and edit files through Perl?", "body": "<p>To type out a new file or add lines to an existing one</p>\n\n<pre><code>use warnings;\nuse strict;\nuse feature 'say';\n\nmy $filename = shift;  # Better use a module (eg. Getopt::Long)\n\nif (not $filename) { \n    $filename = get_filename();\n}\nelsif (-f $filename) {\n    say \"Appending to file \\\"$filename\\\".\";\n}\nelsif (-e $filename and not -f $filename) {\n    say \"The \\\"$filename\\\" exists but is not a plain file.\";\n    $filename = get_filename();\n}\nelse {\n    say \"Creating file \\\"$filename\\\"\";\n}\n\nopen my $fh, '&gt;&gt;', $filename or die \"Can't open $filename: $!\";\nsay \"\\nEnter lines to add. Press Ctrl-D when done.\\n\";\n\nprint \"&gt;  \";\nwhile (my $line = &lt;STDIN&gt;) {\n    print $fh $line;\n    print \"&gt;  \";\n}  \n\nsub get_filename {\n    print \"Enter the name for a file to create/edit:  \";\n    chomp (my $filename = &lt;STDIN&gt;);\n    while (-e $filename and not -f $filename) { \n        say \"The \\\"$filename\\\" exists but is not a plain file.\";\n        print \"Enter the name for a file to create/edit:  \";\n        chomp ($filename = &lt;STDIN&gt;);\n    }   \n    usage() if not $filename;\n    return $filename;\n}\nsub usage { \n    say STDERR \"Usage: $0 [filename]\";\n    exit;\n}\n</code></pre>\n\n<p>Note that the actual writing of user's input can be written simply as</p>\n\n<pre><code> print $fh $_ while &lt;STDIN&gt;;\n</code></pre>\n\n<p>All the rest is management of user input, checking etc.  That can be organized in many ways, depending on details of possible uses.  The above is a simple take, please change and tweak as suitable.</p>\n"}], "owner": {"reputation": 139, "user_id": 11731581, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/4B4v1.jpg?s=128&g=1", "display_name": "Donoru", "link": "https://stackoverflow.com/users/11731581/donoru"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 99, "favorite_count": 0, "answer_count": 2, "score": 0, "last_activity_date": 1563096865, "creation_date": 1563034896, "last_edit_date": 1563037780, "question_id": 57020873, "link": "https://stackoverflow.com/questions/57020873/how-can-i-open-and-edit-files-through-perl", "title": "How can I open and edit files through Perl?", "body": "<p>I want to give the user input (multi-line) and print the multi-line output to a new file named by the user with </p>\n\n<p>I've already tried</p>\n\n<pre class=\"lang-perl prettyprint-override\"><code>say \"enter filename\";\nchomp(my $filename = &lt;STDIN&gt;);\nopen my $fn, '&gt;', $filename;\nsay \"enter contents\";\nprint \"&gt; \";\nchomp(my $contents = &lt;STDIN&gt;);\nprint {$fn} $contents;\nclose $fn;\n</code></pre>\n\n<p>but that only works with one line.</p>\n\n<pre class=\"lang-perl prettyprint-override\"><code>say \"enter filename\";\nchomp(my $filename = &lt;STDIN&gt;);\nopen my $fn, '&gt;', $filename;\nsay \"enter contents\";\nprint \"&gt; \";\nchomp(my $contents = &lt;STDIN&gt;);\nprint {$fn} $contents;\nclose $fn;\n</code></pre>\n\n<p>but multi-line and creates a new file, not edits an old one</p>\n\n<p>It either doesn't create a file, doesn't edit a file, or just doesn't do anything at all.</p>\n"}, {"tags": ["perl", "utf-8", "character-encoding", "printf"], "comments": [{"owner": {"reputation": 1856, "user_id": 6607497, "user_type": "registered", "accept_rate": 17, "profile_image": "https://www.gravatar.com/avatar/f0a0b03f5bbd44186399f4b0aea38049?s=128&d=identicon&r=PG&f=1", "display_name": "U. Windl", "link": "https://stackoverflow.com/users/6607497/u-windl"}, "edited": false, "score": 0, "creation_date": 1562969681, "post_id": 57014510, "comment_id": 100561027, "body": "@Keith Thompson: I read that before but actually <a href=\"https://en.wikipedia.org/wiki/UTF-8#Codepage_layout\" rel=\"nofollow noreferrer\">en.wikipedia.org/wiki/UTF-8#Codepage_layout</a> suggests that it is not true: <i>Parts</i> of Latin 1 are literally mapped into UTF-8. Specifically &quot;U+00B0 \t&#176; \tDegree symbol&quot;."}, {"owner": {"reputation": 15376, "user_id": 588916, "user_type": "registered", "accept_rate": 60, "profile_image": "https://www.gravatar.com/avatar/b9737fb0439f70903f8948ad3963d9cc?s=128&d=identicon&r=PG", "display_name": "collapsar", "link": "https://stackoverflow.com/users/588916/collapsar"}, "edited": false, "score": 1, "creation_date": 1562970695, "post_id": 57014510, "comment_id": 100561228, "body": "The wikipedia page states that $B0 is in the range of continuation bytes of the utf-8 encoding scheme from which follows that the Unicode code point U+00B0 is not mapped 1:1. Analyzing the specs of the utf8 encoding shows that if bit #7 of the first octet of a utf8 code is set, this byte contains bits that indicate the length of the code so no 1:1 mappings are possible for any code point from the range U+0080 to U+00FF."}, {"owner": {"reputation": 1856, "user_id": 6607497, "user_type": "registered", "accept_rate": 17, "profile_image": "https://www.gravatar.com/avatar/f0a0b03f5bbd44186399f4b0aea38049?s=128&d=identicon&r=PG&f=1", "display_name": "U. Windl", "link": "https://stackoverflow.com/users/6607497/u-windl"}, "reply_to_user": {"reputation": 15376, "user_id": 588916, "user_type": "registered", "accept_rate": 60, "profile_image": "https://www.gravatar.com/avatar/b9737fb0439f70903f8948ad3963d9cc?s=128&d=identicon&r=PG", "display_name": "collapsar", "link": "https://stackoverflow.com/users/588916/collapsar"}, "edited": false, "score": 0, "creation_date": 1562970851, "post_id": 57014510, "comment_id": 100561260, "body": "@collapsar: OK, excuse my misunderstanding of UTF-8 encoding."}, {"owner": {"reputation": 1856, "user_id": 6607497, "user_type": "registered", "accept_rate": 17, "profile_image": "https://www.gravatar.com/avatar/f0a0b03f5bbd44186399f4b0aea38049?s=128&d=identicon&r=PG&f=1", "display_name": "U. Windl", "link": "https://stackoverflow.com/users/6607497/u-windl"}, "reply_to_user": {"reputation": 15376, "user_id": 588916, "user_type": "registered", "accept_rate": 60, "profile_image": "https://www.gravatar.com/avatar/b9737fb0439f70903f8948ad3963d9cc?s=128&d=identicon&r=PG", "display_name": "collapsar", "link": "https://stackoverflow.com/users/588916/collapsar"}, "edited": false, "score": 0, "creation_date": 1562972200, "post_id": 57014510, "comment_id": 100561467, "body": "So the Unicode character code for <code>&#176;</code> still is <code>$B0</code>, but the actual encoding is <code>$C2 $B0</code>?"}, {"owner": {"reputation": 228853, "user_id": 827263, "user_type": "registered", "accept_rate": 54, "profile_image": "https://www.gravatar.com/avatar/216c1db53d752f87dd8176a6ba0c2190?s=128&d=identicon&r=PG", "display_name": "Keith Thompson", "link": "https://stackoverflow.com/users/827263/keith-thompson"}, "edited": false, "score": 0, "creation_date": 1562973679, "post_id": 57014510, "comment_id": 100561673, "body": "@U.Windl: Unicode uses the same numeric values for characters 0..255. UTF-8 encodes each character in the range 0..127 (ASCII) as a single byte, and each character in the range 128..255 (outside ASCII, within Latin-1) as two bytes.Characters up to 2047 are also encoded as two bytes. Remember, UTF-8 is not Unicode; it&#39;s one of several encodings of Unicode."}, {"owner": {"reputation": 228853, "user_id": 827263, "user_type": "registered", "accept_rate": 54, "profile_image": "https://www.gravatar.com/avatar/216c1db53d752f87dd8176a6ba0c2190?s=128&d=identicon&r=PG", "display_name": "Keith Thompson", "link": "https://stackoverflow.com/users/827263/keith-thompson"}, "edited": false, "score": 0, "creation_date": 1562973867, "post_id": 57014510, "comment_id": 100561705, "body": "@U.Windl: I should have mentioned, the numeric values of the characters are called <i>code points</i>. So 0xb0 (176) is the code point for the DEGREE SIGN character, and UTF-8 encodes it as a byte with value 0xc2 followed by a byte with value 0xb0."}], "answers": [{"comments": [{"owner": {"reputation": 1856, "user_id": 6607497, "user_type": "registered", "accept_rate": 17, "profile_image": "https://www.gravatar.com/avatar/f0a0b03f5bbd44186399f4b0aea38049?s=128&d=identicon&r=PG&f=1", "display_name": "U. Windl", "link": "https://stackoverflow.com/users/6607497/u-windl"}, "edited": false, "score": 0, "creation_date": 1562970719, "post_id": 57014563, "comment_id": 100561237, "body": "Odd things happen when I <code>use utf8</code>: In the source <code>&#176;</code> is encoded as <code>\\xb0</code> (according to Emacs), the character output also is <code>\\xb0</code>, but with <code>binmode STDOUT, &#39;utf8&#39;</code> the output for <code>&#176;</code> is <code>\\xc2\\xb0</code>. However when I load the output into Emacs, it claims that the character encoding is <code>Char: &#176; (176, #o260, #xb0, file ...)...</code>."}, {"owner": {"reputation": 228853, "user_id": 827263, "user_type": "registered", "accept_rate": 54, "profile_image": "https://www.gravatar.com/avatar/216c1db53d752f87dd8176a6ba0c2190?s=128&d=identicon&r=PG", "display_name": "Keith Thompson", "link": "https://stackoverflow.com/users/827263/keith-thompson"}, "reply_to_user": {"reputation": 1856, "user_id": 6607497, "user_type": "registered", "accept_rate": 17, "profile_image": "https://www.gravatar.com/avatar/f0a0b03f5bbd44186399f4b0aea38049?s=128&d=identicon&r=PG&f=1", "display_name": "U. Windl", "link": "https://stackoverflow.com/users/6607497/u-windl"}, "edited": false, "score": 0, "creation_date": 1562972767, "post_id": 57014563, "comment_id": 100561543, "body": "@U.Windl: Then your source file is encoded as Latin-1 or something similar. The UTF-8 encoding of the DEGREE SIGN character (code point 0xb0) is (0xc2, 0xb0). It&#39;s probably best to use UTF-8 consistently for your source file(s). But if you have a lot of Latin-1-encoded source files, translating them might be non-trivial. (See the <code>iconv</code> command if you want to do this.) If you want to keep your source files as Latin-1, that&#39;s likely to be more complicated."}, {"owner": {"reputation": 1856, "user_id": 6607497, "user_type": "registered", "accept_rate": 17, "profile_image": "https://www.gravatar.com/avatar/f0a0b03f5bbd44186399f4b0aea38049?s=128&d=identicon&r=PG&f=1", "display_name": "U. Windl", "link": "https://stackoverflow.com/users/6607497/u-windl"}, "reply_to_user": {"reputation": 320771, "user_id": 589924, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/b2cf53d5a3d25f95c0db4e025aed4153?s=128&d=identicon&r=PG", "display_name": "ikegami", "link": "https://stackoverflow.com/users/589924/ikegami"}, "edited": false, "score": 1, "creation_date": 1562972814, "post_id": 57014563, "comment_id": 100561549, "body": "@ikegami: So <code>man perluniintro</code> is wrong when it still recommends <code>binmode(STDOUT, &quot;:utf8&quot;)</code>?"}, {"owner": {"reputation": 228853, "user_id": 827263, "user_type": "registered", "accept_rate": 54, "profile_image": "https://www.gravatar.com/avatar/216c1db53d752f87dd8176a6ba0c2190?s=128&d=identicon&r=PG", "display_name": "Keith Thompson", "link": "https://stackoverflow.com/users/827263/keith-thompson"}, "reply_to_user": {"reputation": 320771, "user_id": 589924, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/b2cf53d5a3d25f95c0db4e025aed4153?s=128&d=identicon&r=PG", "display_name": "ikegami", "link": "https://stackoverflow.com/users/589924/ikegami"}, "edited": false, "score": 0, "creation_date": 1562972896, "post_id": 57014563, "comment_id": 100561559, "body": "@ikegami: Edited -- is this better?"}, {"owner": {"reputation": 320771, "user_id": 589924, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/b2cf53d5a3d25f95c0db4e025aed4153?s=128&d=identicon&r=PG", "display_name": "ikegami", "link": "https://stackoverflow.com/users/589924/ikegami"}, "reply_to_user": {"reputation": 1856, "user_id": 6607497, "user_type": "registered", "accept_rate": 17, "profile_image": "https://www.gravatar.com/avatar/f0a0b03f5bbd44186399f4b0aea38049?s=128&d=identicon&r=PG&f=1", "display_name": "U. Windl", "link": "https://stackoverflow.com/users/6607497/u-windl"}, "edited": false, "score": 1, "creation_date": 1562973231, "post_id": 57014563, "comment_id": 100561606, "body": "@U.Windl, Judge for yourself: <a href=\"https://stackoverflow.com/a/49040165/589924\"><code>:encoding(UTF-8)</code> vs <code>:encoding(utf8)</code> vs <code>:utf8</code></a>"}, {"owner": {"reputation": 228853, "user_id": 827263, "user_type": "registered", "accept_rate": 54, "profile_image": "https://www.gravatar.com/avatar/216c1db53d752f87dd8176a6ba0c2190?s=128&d=identicon&r=PG", "display_name": "Keith Thompson", "link": "https://stackoverflow.com/users/827263/keith-thompson"}, "reply_to_user": {"reputation": 1856, "user_id": 6607497, "user_type": "registered", "accept_rate": 17, "profile_image": "https://www.gravatar.com/avatar/f0a0b03f5bbd44186399f4b0aea38049?s=128&d=identicon&r=PG&f=1", "display_name": "U. Windl", "link": "https://stackoverflow.com/users/6607497/u-windl"}, "edited": false, "score": 0, "creation_date": 1562973254, "post_id": 57014563, "comment_id": 100561610, "body": "@U.Windl: <code>perldoc binmode</code> says: &quot;<code>:utf8</code>&quot; just marks the data as UTF-8 without further checking, while &quot;<code>:encoding(UTF-8)</code>&quot; checks the data for actually being valid UTF-8. More details can be found in <code>PerlIO::encoding</code>."}, {"owner": {"reputation": 38072, "user_id": 46395, "user_type": "registered", "accept_rate": 71, "profile_image": "https://www.gravatar.com/avatar/5ce828f20abb195ef5d971205ee36c27?s=128&d=identicon&r=PG", "display_name": "daxim", "link": "https://stackoverflow.com/users/46395/daxim"}, "edited": false, "score": 1, "creation_date": 1562993914, "post_id": 57014563, "comment_id": 100563997, "body": "Note that in Unicode a single character can have 0, 1, 2 or ambiguous width when printed to terminal (or similar column-oriented output format). Perl&#39;s <code>length</code> and <code>sprintf</code> will not give the correct result in all cases. Use <a href=\"http://p3rl.org/Unicode::GCString#columns\" rel=\"nofollow noreferrer\"><code>columns</code> in Unicode::GCString</a> instead."}], "tags": [], "owner": {"reputation": 228853, "user_id": 827263, "user_type": "registered", "accept_rate": 54, "profile_image": "https://www.gravatar.com/avatar/216c1db53d752f87dd8176a6ba0c2190?s=128&d=identicon&r=PG", "display_name": "Keith Thompson", "link": "https://stackoverflow.com/users/827263/keith-thompson"}, "is_accepted": true, "score": 3, "last_activity_date": 1562972879, "last_edit_date": 1562972879, "creation_date": 1562969673, "answer_id": 57014563, "question_id": 57014510, "link": "https://stackoverflow.com/questions/57014510/printf-aligning-problem-with-degree-character/57014563#57014563", "title": "printf aligning problem with degree (&#176;) character", "body": "<p>UTF-8 only maps the ASCII range (0..127) to 1 byte. Latin-1 characters are in the range 0..255; UTF-8 <em>can't</em> map them all to one byte. If it did, there would be no mappings left for anything else.</p>\n\n<p>Characters from 0 to 127 are encoded in 1 byte.<br>\nCharacters from 128 to 2047 are encoded in 2 bytes.<br>\nAnd so on.</p>\n\n<p><a href=\"https://en.wikipedia.org/wiki/UTF-8\" rel=\"nofollow noreferrer\">https://en.wikipedia.org/wiki/UTF-8</a></p>\n\n<p>You need <code>use utf8;</code> and <code>binmode STDOUT, ':encoding(UTF-8)';</code> in your Perl script (I did the same with <code>STDIN</code> and <code>STDERR</code> just for consistency):</p>\n\n<pre><code>#!/usr/bin/perl\n\nuse strict;\nuse warnings;\nuse utf8;\n\nBEGIN {\n    binmode STDIN,  ':encoding(UTF-8)';\n    binmode STDOUT, ':encoding(UTF-8)';\n    binmode STDERR, ':encoding(UTF-8)';\n}\n\nprintf \"|%-10s|\\n\", \"x\";\nprintf \"|%-10s|\\n\", \"\u00b0\";\n</code></pre>\n\n<p>The output is correctly aligned:</p>\n\n<pre><code>|x         |\n|\u00b0         |\n</code></pre>\n\n<p>If I comment out either <code>use utf8;</code> or <code>binmode STDOUT, ':encoding(UTF-8)';</code>, the output is misaligned and/or the degree character isn't displayed correctly.</p>\n\n<p>Quoting <code>perldoc utf8</code> (the documentation for the <code>utf8</code> module):</p>\n\n<blockquote>\n  <p>The \"<code>use utf8</code>\" pragma tells the Perl parser to allow UTF-8 in the\n  program text in the current lexical scope.</p>\n</blockquote>\n\n<p>(This requires an output device or terminal emulator configured to display UTF-8.)</p>\n"}, {"comments": [{"owner": {"reputation": 1856, "user_id": 6607497, "user_type": "registered", "accept_rate": 17, "profile_image": "https://www.gravatar.com/avatar/f0a0b03f5bbd44186399f4b0aea38049?s=128&d=identicon&r=PG&f=1", "display_name": "U. Windl", "link": "https://stackoverflow.com/users/6607497/u-windl"}, "edited": false, "score": 0, "creation_date": 1562971108, "post_id": 57014689, "comment_id": 100561296, "body": "I don&#39;t understand the statement on ASCII: I had been writing Perl code in ISO Latin1 character sets, and even processed such input and output data without a problem in the past. So your claim &quot;either US-ASCII or UTF-8&quot; seems incorrect unless there was some recent change in Perl regarding this."}, {"owner": {"reputation": 320771, "user_id": 589924, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/b2cf53d5a3d25f95c0db4e025aed4153?s=128&d=identicon&r=PG", "display_name": "ikegami", "link": "https://stackoverflow.com/users/589924/ikegami"}, "reply_to_user": {"reputation": 1856, "user_id": 6607497, "user_type": "registered", "accept_rate": 17, "profile_image": "https://www.gravatar.com/avatar/f0a0b03f5bbd44186399f4b0aea38049?s=128&d=identicon&r=PG&f=1", "display_name": "U. Windl", "link": "https://stackoverflow.com/users/6607497/u-windl"}, "edited": false, "score": 0, "creation_date": 1562971917, "post_id": 57014689, "comment_id": 100561426, "body": "Perl doesn&#39;t know and has never known anything about iso-latin-1. I can only surmise that a combination of bugs mostly cancelled each other out in your past experience (<a href=\"https://www.perlmonks.org/?node_id=11101840\" rel=\"nofollow noreferrer\">as explained here</a>), but you&#39;ve finally reached a situation where that wasn&#39;t the case."}, {"owner": {"reputation": 1856, "user_id": 6607497, "user_type": "registered", "accept_rate": 17, "profile_image": "https://www.gravatar.com/avatar/f0a0b03f5bbd44186399f4b0aea38049?s=128&d=identicon&r=PG&f=1", "display_name": "U. Windl", "link": "https://stackoverflow.com/users/6607497/u-windl"}, "edited": false, "score": 0, "creation_date": 1562972965, "post_id": 57014689, "comment_id": 100561572, "body": "Maybe for my level of processing it was sufficient for Latin1 processing that perl strings were &quot;eight-bit-clean&quot; (just write what you got unmodified)."}, {"owner": {"reputation": 1856, "user_id": 6607497, "user_type": "registered", "accept_rate": 17, "profile_image": "https://www.gravatar.com/avatar/f0a0b03f5bbd44186399f4b0aea38049?s=128&d=identicon&r=PG&f=1", "display_name": "U. Windl", "link": "https://stackoverflow.com/users/6607497/u-windl"}, "edited": false, "score": 0, "creation_date": 1562974530, "post_id": 57014689, "comment_id": 100561826, "body": "Is there a simplification when assuming that source code, input data and output data all use the same encoding, namely that of <code>$LANG</code> or <code>$LC_CTYPE</code>?"}, {"owner": {"reputation": 320771, "user_id": 589924, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/b2cf53d5a3d25f95c0db4e025aed4153?s=128&d=identicon&r=PG", "display_name": "ikegami", "link": "https://stackoverflow.com/users/589924/ikegami"}, "reply_to_user": {"reputation": 1856, "user_id": 6607497, "user_type": "registered", "accept_rate": 17, "profile_image": "https://www.gravatar.com/avatar/f0a0b03f5bbd44186399f4b0aea38049?s=128&d=identicon&r=PG&f=1", "display_name": "U. Windl", "link": "https://stackoverflow.com/users/6607497/u-windl"}, "edited": false, "score": 0, "creation_date": 1562974988, "post_id": 57014689, "comment_id": 100561894, "body": "I think you&#39;re asking for <code>use open &#39;:std&#39;, &#39;:encoding(locale)&#39;;</code>? Source still need to be ASCII (<code>no utf8;</code>) or UTF-8 (<code>use utf8;</code>). Also, <a href=\"https://www.perlmonks.org/?node_id=1231890\" rel=\"nofollow noreferrer\">see this</a>"}, {"owner": {"reputation": 8718, "user_id": 5848200, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/a8072aaf76dcb4fe5027964252f16382?s=128&d=identicon&r=PG", "display_name": "Grinnz", "link": "https://stackoverflow.com/users/5848200/grinnz"}, "edited": false, "score": 0, "creation_date": 1563388998, "post_id": 57014689, "comment_id": 100687550, "body": "Outside of <code>use utf8</code> it is treated as the native single-byte encoding, not ASCII. You of course can only (mostly) rely on the native single-byte encoding being a superset of ASCII, but ISO-8859-1 happens to have the same layout as those unicode codepoints, so even for example encoding such a string to UTF-8 happens to work as expected."}, {"owner": {"reputation": 8718, "user_id": 5848200, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/a8072aaf76dcb4fe5027964252f16382?s=128&d=identicon&r=PG", "display_name": "Grinnz", "link": "https://stackoverflow.com/users/5848200/grinnz"}, "edited": false, "score": 0, "creation_date": 1563389099, "post_id": 57014689, "comment_id": 100687587, "body": "There was <a href=\"https://www.nntp.perl.org/group/perl.perl5.porters/2017/10/msg246838.html\" rel=\"nofollow noreferrer\">a proposal</a> to deprecate use of non-ASCII characters without <code>use utf8</code> which would clarify a lot of this, but nothing really came of it so far."}, {"owner": {"reputation": 320771, "user_id": 589924, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/b2cf53d5a3d25f95c0db4e025aed4153?s=128&d=identicon&r=PG", "display_name": "ikegami", "link": "https://stackoverflow.com/users/589924/ikegami"}, "reply_to_user": {"reputation": 8718, "user_id": 5848200, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/a8072aaf76dcb4fe5027964252f16382?s=128&d=identicon&r=PG", "display_name": "Grinnz", "link": "https://stackoverflow.com/users/5848200/grinnz"}, "edited": false, "score": 0, "creation_date": 1563396808, "post_id": 57014689, "comment_id": 100690922, "body": "@Grinnz, Re &quot;<i>Outside of use utf8 it is treated as the native single-byte encoding, not ASCII.</i>&quot;, That is not true. Try <code>sub f&#234;te { }</code> without <code>use utf8;</code> Try <code>uc(&quot;\u016f&quot;)</code> without <code>use utf8;</code>. Try <code>encode(&quot;UTF-8&quot;, &quot;\u016f&quot;)</code> without <code>use utf8;</code>. None of these work. As I said, Perl expects ASCII. It simply doesn&#39;t throw an error if you use non-ASCII in string literals, making it 8-bit clean. Visit the link in the second comment (my first comment)."}, {"owner": {"reputation": 320771, "user_id": 589924, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/b2cf53d5a3d25f95c0db4e025aed4153?s=128&d=identicon&r=PG", "display_name": "ikegami", "link": "https://stackoverflow.com/users/589924/ikegami"}, "reply_to_user": {"reputation": 8718, "user_id": 5848200, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/a8072aaf76dcb4fe5027964252f16382?s=128&d=identicon&r=PG", "display_name": "Grinnz", "link": "https://stackoverflow.com/users/5848200/grinnz"}, "edited": false, "score": 0, "creation_date": 1563396970, "post_id": 57014689, "comment_id": 100690972, "body": "@Grinnz, Re &quot;<i>so even for example encoding such a string to UTF-8 happens to work as expected</i>&quot;, That is most definitely not true. <code>encode</code> coincidentally works for iso-latin-1 because iso-latin-1 is a subset of Unicode Code Points. Try it with any other encoding (e.g. cp1252), and it won&#39;t work. The two other examples I gave DON&#39;T work for iso-latin-1."}, {"owner": {"reputation": 8718, "user_id": 5848200, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/a8072aaf76dcb4fe5027964252f16382?s=128&d=identicon&r=PG", "display_name": "Grinnz", "link": "https://stackoverflow.com/users/5848200/grinnz"}, "edited": false, "score": 0, "creation_date": 1563397010, "post_id": 57014689, "comment_id": 100690986, "body": "@ikegami That&#39;s what I meant: ISO-8859-1 is a subset. It won&#39;t work for other single-byte encodings."}, {"owner": {"reputation": 320771, "user_id": 589924, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/b2cf53d5a3d25f95c0db4e025aed4153?s=128&d=identicon&r=PG", "display_name": "ikegami", "link": "https://stackoverflow.com/users/589924/ikegami"}, "reply_to_user": {"reputation": 8718, "user_id": 5848200, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/a8072aaf76dcb4fe5027964252f16382?s=128&d=identicon&r=PG", "display_name": "Grinnz", "link": "https://stackoverflow.com/users/5848200/grinnz"}, "edited": false, "score": 0, "creation_date": 1563397048, "post_id": 57014689, "comment_id": 100690996, "body": "@Grinnz, 1) You didn&#39;t mention ISO-8859-1 at all. What you did say was completely wrong. 2) The other two example I gave still don&#39;t work work with iso-8859-1."}, {"owner": {"reputation": 8718, "user_id": 5848200, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/a8072aaf76dcb4fe5027964252f16382?s=128&d=identicon&r=PG", "display_name": "Grinnz", "link": "https://stackoverflow.com/users/5848200/grinnz"}, "edited": false, "score": 0, "creation_date": 1563397155, "post_id": 57014689, "comment_id": 100691034, "body": "@ikegami I... did?"}, {"owner": {"reputation": 320771, "user_id": 589924, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/b2cf53d5a3d25f95c0db4e025aed4153?s=128&d=identicon&r=PG", "display_name": "ikegami", "link": "https://stackoverflow.com/users/589924/ikegami"}, "reply_to_user": {"reputation": 8718, "user_id": 5848200, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/a8072aaf76dcb4fe5027964252f16382?s=128&d=identicon&r=PG", "display_name": "Grinnz", "link": "https://stackoverflow.com/users/5848200/grinnz"}, "edited": false, "score": 0, "creation_date": 1563397220, "post_id": 57014689, "comment_id": 100691059, "body": "@Grinnz, You mentioned it elsewhere. Not talking about that. Your contradiction to what I said (&quot;Outside of use utf8 it is treated as the native single-byte encoding, not ASCII.&quot;) is completely wrong. Perl expects ASCII or UTF-8. It doesn&#39;t accept the local encoding as you claim, and it doesn&#39;t accept iso-latin-1 as I think you also claim. These will not work. I gave you three tests you can perform to see for yourself."}, {"owner": {"reputation": 8718, "user_id": 5848200, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/a8072aaf76dcb4fe5027964252f16382?s=128&d=identicon&r=PG", "display_name": "Grinnz", "link": "https://stackoverflow.com/users/5848200/grinnz"}, "edited": false, "score": 0, "creation_date": 1563398625, "post_id": 57014689, "comment_id": 100691569, "body": "@ikegami <code>\u016f</code> is not in ISO-8859-1, but <code>uc(&quot;&#250;&quot;)</code> (in a latin-1 encoded file) does work with <code>use feature &quot;unicode_strings&quot;</code>. Without that feature (or the string getting upgraded some other way), only ASCII characters have uppercase analogues. It also can be encoded to UTF-8 successfully in either case. I don&#39;t know of a way to apply unicode rules to identifier parsing outside of <code>use utf8</code>."}, {"owner": {"reputation": 320771, "user_id": 589924, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/b2cf53d5a3d25f95c0db4e025aed4153?s=128&d=identicon&r=PG", "display_name": "ikegami", "link": "https://stackoverflow.com/users/589924/ikegami"}, "edited": false, "score": 0, "creation_date": 1563398772, "post_id": 57014689, "comment_id": 100691619, "body": "Re &quot;<i>I don&#39;t know of a way to apply unicode rules to identifier parsing outside of use utf8.</i>&quot;, That makes no sense. There&#39;s only one set of rules. You just have to use an encoding that has non-ASCII characters. Like I said, Perl doesn`t know anything about iso-latin-1 or any encoding other than ASCII and UTF-8. (Actually, it also understands UTF-16, or at least UTF-16le, but that might be specific to Windows builds.)"}, {"owner": {"reputation": 8718, "user_id": 5848200, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/a8072aaf76dcb4fe5027964252f16382?s=128&d=identicon&r=PG", "display_name": "Grinnz", "link": "https://stackoverflow.com/users/5848200/grinnz"}, "edited": false, "score": 0, "creation_date": 1563398858, "post_id": 57014689, "comment_id": 100691653, "body": "@ikegami Incorrect, there are two distinct sets of rules of identifier parsing as listed in <a href=\"https://perldoc.pl/perldata#Identifier-parsing\" rel=\"nofollow noreferrer\">perldata</a>."}, {"owner": {"reputation": 320771, "user_id": 589924, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/b2cf53d5a3d25f95c0db4e025aed4153?s=128&d=identicon&r=PG", "display_name": "ikegami", "link": "https://stackoverflow.com/users/589924/ikegami"}, "edited": false, "score": 0, "creation_date": 1563399153, "post_id": 57014689, "comment_id": 100691752, "body": "Re &quot;<i>there are two distinct sets of rules of identifier parsing as listed in perldata.</i>&quot;, Prove it. Show me a difference between an ASCII file with <code>no utf8;</code> and a UTF-8 file with <code>use utf-8;</code>. The docs are poorly written if they say what you claim they say."}, {"owner": {"reputation": 8718, "user_id": 5848200, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/a8072aaf76dcb4fe5027964252f16382?s=128&d=identicon&r=PG", "display_name": "Grinnz", "link": "https://stackoverflow.com/users/5848200/grinnz"}, "edited": false, "score": 0, "creation_date": 1563399375, "post_id": 57014689, "comment_id": 100691823, "body": "@ikegami The fact that <code>sub f&#234;te</code> does not work when encoded to ISO-8859-1 without <code>use utf8</code> is the difference."}, {"owner": {"reputation": 320771, "user_id": 589924, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/b2cf53d5a3d25f95c0db4e025aed4153?s=128&d=identicon&r=PG", "display_name": "ikegami", "link": "https://stackoverflow.com/users/589924/ikegami"}, "edited": false, "score": 0, "creation_date": 1563399557, "post_id": 57014689, "comment_id": 100691867, "body": "Right. Perl doesn&#39;t understand iso-latin-1. We covered this. That&#39;s not a difference in parsing rules"}, {"owner": {"reputation": 8718, "user_id": 5848200, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/a8072aaf76dcb4fe5027964252f16382?s=128&d=identicon&r=PG", "display_name": "Grinnz", "link": "https://stackoverflow.com/users/5848200/grinnz"}, "edited": false, "score": 0, "creation_date": 1563399649, "post_id": 57014689, "comment_id": 100691898, "body": "@ikegami It doesn&#39;t. That <code>uc(&quot;&#250;&quot;)</code> works with the <code>unicode_strings</code> feature or if the string gets upgraded is because it&#39;s a subset of Unicode code points, not because it&#39;s ISO-8859-1. I agree with that. But that&#39;s why things happen to work."}, {"owner": {"reputation": 8718, "user_id": 5848200, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/a8072aaf76dcb4fe5027964252f16382?s=128&d=identicon&r=PG", "display_name": "Grinnz", "link": "https://stackoverflow.com/users/5848200/grinnz"}, "edited": false, "score": 0, "creation_date": 1563399903, "post_id": 57014689, "comment_id": 100691976, "body": "@ikegami Perhaps a better wording is what the mentioned perldata section uses: Perl expects UTF-8 or &quot;ASCII + 128 extra generic characters&quot;. And it will assume those bytes map to the corresponding characters when treated like characters."}, {"owner": {"reputation": 320771, "user_id": 589924, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/b2cf53d5a3d25f95c0db4e025aed4153?s=128&d=identicon&r=PG", "display_name": "ikegami", "link": "https://stackoverflow.com/users/589924/ikegami"}, "reply_to_user": {"reputation": 8718, "user_id": 5848200, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/a8072aaf76dcb4fe5027964252f16382?s=128&d=identicon&r=PG", "display_name": "Grinnz", "link": "https://stackoverflow.com/users/5848200/grinnz"}, "edited": false, "score": 0, "creation_date": 1563399986, "post_id": 57014689, "comment_id": 100692008, "body": "@Grinnz, That is correct (for string literals). Perl string literals are &quot;8-bit clean&quot;. This is explained in the link in the second comment (my first)."}], "tags": [], "owner": {"reputation": 320771, "user_id": 589924, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/b2cf53d5a3d25f95c0db4e025aed4153?s=128&d=identicon&r=PG", "display_name": "ikegami", "link": "https://stackoverflow.com/users/589924/ikegami"}, "is_accepted": false, "score": 2, "last_activity_date": 1562972162, "last_edit_date": 1562972162, "creation_date": 1562970763, "answer_id": 57014689, "question_id": 57014510, "link": "https://stackoverflow.com/questions/57014510/printf-aligning-problem-with-degree-character/57014689#57014689", "title": "printf aligning problem with degree (&#176;) character", "body": "<p>Perl code must be encoded using ASCII (<code>no utf8;</code>, the default) or UTF-8 (<code>use utf8;</code>).</p>\n\n<p><code>\u00b0</code> is not in the ASCII character set, and you apparently didn't <code>use utf8;</code> either, so your program couldn't possibly contain <code>\u00b0</code> as you claim.</p>\n\n<p>First, encode the program using UTF-8 (if it's not already) and tell Perl that your program is encoded using UTF-8 by adding</p>\n\n<pre><code>use utf8;   # The source code is encoded using UTF-8.\n</code></pre>\n\n<p>Secondly, you apparently didn't tell Perl to encode what you printed either. Fix that by adding</p>\n\n<pre><code>use open ':std', ':encoding(UTF-8)';   # The terminal provides/expects UTF-8.\n</code></pre>\n\n<p>The latter sets the default encoding for files open in scope of the pragma. If you want to avoid this, you can use the following instead:</p>\n\n<pre><code>BEGIN {   # The terminal provides/expects UTF-8.\n   binmode(STDIN,  ':encoding(UTF-8)');\n   binmode(STDOUT, ':encoding(UTF-8)');\n   binmode(STDERR, ':encoding(UTF-8)');\n}\n</code></pre>\n"}], "owner": {"reputation": 1856, "user_id": 6607497, "user_type": "registered", "accept_rate": 17, "profile_image": "https://www.gravatar.com/avatar/f0a0b03f5bbd44186399f4b0aea38049?s=128&d=identicon&r=PG&f=1", "display_name": "U. Windl", "link": "https://stackoverflow.com/users/6607497/u-windl"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 336, "favorite_count": 1, "accepted_answer_id": 57014563, "answer_count": 2, "score": 1, "last_activity_date": 1562972879, "creation_date": 1562969113, "last_edit_date": 1562971150, "question_id": 57014510, "link": "https://stackoverflow.com/questions/57014510/printf-aligning-problem-with-degree-character", "title": "printf aligning problem with degree (&#176;) character", "body": "<p>I have a problem similar to <a href=\"https://stackoverflow.com/questions/2064543/how-can-i-properly-align-utf-8-strings-with-perls-printf\">How can I properly align UTF-8 strings with Perl&#39;s printf?</a>:</p>\n\n<p>My (Linux) system's locale default is <code>LC_CTYPE=de_DE.UTF-8</code> and I wrote a Perl program (using perl-5.26.1) that is \"not\" using Unicode characters, but some from the ISO Latin-1 character set (that is <code>\u00b0</code> for example).\nThere fore I did not activate any Unicode or locale features in my Perl script.</p>\n\n<p>\"Everything\" seems to work fine with one excpetion: I'm using a <code>printf</code> format of <code>%-10s</code> to align strings but that does not work as expected.</p>\n\n<p>Playing in the debugger I fount this behavior:</p>\n\n<pre><code>  DB&lt;1&gt; $s='X\u00b0X'\n\n  DB&lt;2&gt; printf(\"_%3s_\\n\", $s)\n_X\u00b0X_\n</code></pre>\n\n<p>Looks OK so far...</p>\n\n<pre><code>  DB&lt;3&gt; printf(\"_%4s_\\n\", $s)\n_X\u00b0X_\n</code></pre>\n\n<p>Oops; shouldn't that be <code>\"_ X\u00b0X_\"</code>?</p>\n\n<pre><code>  DB&lt;4&gt; printf(\"_%5s_\\n\", $s)\n_ X\u00b0X_\n</code></pre>\n\n<p>Off by one?</p>\n\n<pre><code>  DB&lt;5&gt; x length($s)\n0  4\n</code></pre>\n\n<p>Shouldn't that be <code>3</code>?</p>\n\n<pre><code>  DB&lt;8&gt; x ord($s[1])\n0  0\n  DB&lt;9&gt; x $s\n0  'X\u00b0X'\n  DB&lt;10&gt;\n</code></pre>\n\n<p>Shouldn't <code>\u00b0</code> be encoded as one byte? I thought UTF-8 maps the Latin-1 range unmodified to Unicode.</p>\n\n<p>So may questions are:</p>\n\n<ol>\n<li><p>What's going on?</p></li>\n<li><p>Is it a Perl bug?    </p></li>\n<li><p>If not, how can I fix the formatting and string length?</p></li>\n</ol>\n"}, {"tags": ["perl", "backticks"], "comments": [{"owner": {"reputation": 4082, "user_id": 3216427, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/4e0186cf05b82361bc8de3344f542eaf?s=128&d=identicon&r=PG&f=1", "display_name": "joanis", "link": "https://stackoverflow.com/users/3216427/joanis"}, "edited": false, "score": 1, "creation_date": 1562963217, "post_id": 57013493, "comment_id": 100559381, "body": "Can you show the contents of <code>$selfext</code> and <code>$banner</code>? In Perl, an expression in backticks is executed as a system call and its output is returned as a string. Here, you are assigning that output to <code>$_</code>. If it is empty, then the <code>banner</code> command probably didn&#39;t produce any output."}, {"owner": {"reputation": 320771, "user_id": 589924, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/b2cf53d5a3d25f95c0db4e025aed4153?s=128&d=identicon&r=PG", "display_name": "ikegami", "link": "https://stackoverflow.com/users/589924/ikegami"}, "edited": false, "score": 0, "creation_date": 1562965900, "post_id": 57013493, "comment_id": 100560193, "body": "Note that the code appears to suffer from <a href=\"https://en.wikipedia.org/wiki/Code_injection\" rel=\"nofollow noreferrer\">code injection</a> bugs."}, {"owner": {"reputation": 1, "user_id": 7158162, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/ad9f02ed05f9b775549791768765900b?s=128&d=identicon&r=PG&f=1", "display_name": "BilgeRat", "link": "https://stackoverflow.com/users/7158162/bilgerat"}, "edited": false, "score": 0, "creation_date": 1562966152, "post_id": 57013493, "comment_id": 100560253, "body": "joanis, Thanks.  selfext is null and banner=&quot;results&quot;"}], "answers": [{"comments": [{"owner": {"reputation": 1, "user_id": 7158162, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/ad9f02ed05f9b775549791768765900b?s=128&d=identicon&r=PG&f=1", "display_name": "BilgeRat", "link": "https://stackoverflow.com/users/7158162/bilgerat"}, "edited": false, "score": 0, "creation_date": 1562966311, "post_id": 57013610, "comment_id": 100560290, "body": "Steffen, Thanks!   the script is running on RedHat7.1 and &quot;banner&quot; does not exist.   I should&#39;ve mentioned the script is about 20 years old and began its life runnning on Unix machines like AIX."}, {"owner": {"reputation": 121105, "user_id": 2766176, "user_type": "registered", "accept_rate": 61, "profile_image": "https://www.gravatar.com/avatar/edd8638efe875601bfe394a8aea5b16d?s=128&d=identicon&r=PG", "display_name": "brian d foy", "link": "https://stackoverflow.com/users/2766176/brian-d-foy"}, "edited": false, "score": 1, "creation_date": 1562972253, "post_id": 57013610, "comment_id": 100561477, "body": "<code>banner</code> is also part of <a href=\"http://perlpowertools.com\" rel=\"nofollow noreferrer\">Perl Power Tools</a> should you need it for something."}, {"owner": {"reputation": 78982, "user_id": 1848654, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/84180c0f3c9c04f8b8f0613fc0129dac?s=128&d=identicon&r=PG", "display_name": "melpomene", "link": "https://stackoverflow.com/users/1848654/melpomene"}, "reply_to_user": {"reputation": 1, "user_id": 7158162, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/ad9f02ed05f9b775549791768765900b?s=128&d=identicon&r=PG&f=1", "display_name": "BilgeRat", "link": "https://stackoverflow.com/users/7158162/bilgerat"}, "edited": false, "score": 2, "creation_date": 1563002863, "post_id": 57013610, "comment_id": 100565386, "body": "@BilgeRat There&#39;s probably a system package for it (<code>yum install banner</code>?)."}, {"owner": {"reputation": 38072, "user_id": 46395, "user_type": "registered", "accept_rate": 71, "profile_image": "https://www.gravatar.com/avatar/5ce828f20abb195ef5d971205ee36c27?s=128&d=identicon&r=PG", "display_name": "daxim", "link": "https://stackoverflow.com/users/46395/daxim"}, "edited": false, "score": 0, "creation_date": 1563177841, "post_id": 57013610, "comment_id": 100599466, "body": "Package name is <code>bsd-games</code>."}], "tags": [], "owner": {"reputation": 89568, "user_id": 3081018, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/Z2NYm.png?s=128&g=1", "display_name": "Steffen Ullrich", "link": "https://stackoverflow.com/users/3081018/steffen-ullrich"}, "is_accepted": false, "score": 2, "last_activity_date": 1563002962, "last_edit_date": 1563002962, "creation_date": 1562962797, "answer_id": 57013610, "question_id": 57013493, "link": "https://stackoverflow.com/questions/57013493/perl-with-backticks-i-do-not-understand-the-operation-inside-the-backticks/57013610#57013610", "title": "Perl with backticks - I do not understand the operation inside the backticks", "body": "<p>This is <a href=\"https://perldoc.pl/perlop#%60STRING%60\" rel=\"nofollow noreferrer\">invoking a shell</a> which is executing the <code>banner</code> command. <code>banner</code> is a normal UNIX program like <code>uniq</code>, <code>sort</code> or even <code>perl</code> itself, i.e. this is not some perl function.  It is not installed on all systems though (same as with <code>perl</code>) and therefore the execution might fail. For more see <a href=\"https://www.manpagez.com/man/6/banner/\" rel=\"nofollow noreferrer\">man banner</a>.</p>\n"}], "owner": {"reputation": 1, "user_id": 7158162, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/ad9f02ed05f9b775549791768765900b?s=128&d=identicon&r=PG&f=1", "display_name": "BilgeRat", "link": "https://stackoverflow.com/users/7158162/bilgerat"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 92, "favorite_count": 0, "answer_count": 1, "score": 0, "last_activity_date": 1563002962, "creation_date": 1562962200, "last_edit_date": 1562995398, "question_id": 57013493, "link": "https://stackoverflow.com/questions/57013493/perl-with-backticks-i-do-not-understand-the-operation-inside-the-backticks", "title": "Perl with backticks - I do not understand the operation inside the backticks", "body": "<p>I'm a perl novice. What's happening inside the backticks of the following?  </p>\n\n<p><code>$selfext</code> and <code>$banner</code> are previously defined. The statement below is executed in Linux and I don't understand where the banner function is coming from? When I print <code>$_</code> I get a null string.</p>\n\n<pre><code>$_=`banner $selfext $banner`;\n</code></pre>\n"}, {"tags": ["perl"], "answers": [{"comments": [{"owner": {"reputation": 198290, "user_id": 1030675, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/957956ce51706d03f19a4dc85a767bb1?s=128&d=identicon&r=PG", "display_name": "choroba", "link": "https://stackoverflow.com/users/1030675/choroba"}, "edited": false, "score": 2, "creation_date": 1562959147, "post_id": 57012733, "comment_id": 100558096, "body": "This could die even if the keys existed, but their corresponding value was <code>undef</code>."}, {"owner": {"reputation": 4229, "user_id": 3973175, "user_type": "registered", "accept_rate": 52, "profile_image": "https://www.gravatar.com/avatar/9c15391d610e59c350912be638b14074?s=128&d=identicon&r=PG", "display_name": "con", "link": "https://stackoverflow.com/users/3973175/con"}, "edited": false, "score": 0, "creation_date": 1562960389, "post_id": 57012733, "comment_id": 100558451, "body": "&quot;non-existent hash key&quot; is a bug in my book.  My programs fail without definitions.  Nonetheless, thanks for your 1-line solution!"}], "tags": [], "owner": {"reputation": 87649, "user_id": 17389, "user_type": "registered", "accept_rate": 38, "profile_image": "https://www.gravatar.com/avatar/cd06d1314817ce946ab796af8750b56a?s=128&d=identicon&r=PG", "display_name": "ysth", "link": "https://stackoverflow.com/users/17389/ysth"}, "is_accepted": true, "score": 1, "last_activity_date": 1562958264, "creation_date": 1562958264, "answer_id": 57012733, "question_id": 57012675, "link": "https://stackoverflow.com/questions/57012675/how-to-make-perl-die-after-declaring-array-with-non-existent-hash-keys/57012733#57012733", "title": "How to make Perl die after declaring array with non-existent hash keys", "body": "<p>There is no warning here because it is perfectly legitimate to look up a non-existent hash key and get undef as the result and to have an array element be undef.</p>\n\n<p>If you try to use any of the undef elements as a string or a number, at that point you will get a warning.</p>\n\n<p>If that isn't good enough, you can explicitly check:</p>\n\n<pre><code>die \"missing values\" if grep ! defined, @row;\n</code></pre>\n"}, {"tags": [], "owner": {"reputation": 21, "user_id": 11777355, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/07ef8c960d21666895994ba1b01f8f12?s=128&d=identicon&r=PG&f=1", "display_name": "Martine Dee", "link": "https://stackoverflow.com/users/11777355/martine-dee"}, "is_accepted": false, "score": 2, "last_activity_date": 1562960437, "last_edit_date": 1562960437, "creation_date": 1562959045, "answer_id": 57012902, "question_id": 57012675, "link": "https://stackoverflow.com/questions/57012675/how-to-make-perl-die-after-declaring-array-with-non-existent-hash-keys/57012902#57012902", "title": "How to make Perl die after declaring array with non-existent hash keys", "body": "<p>There is <a href=\"https://perldoc.perl.org/functions/exists.html\" rel=\"nofollow noreferrer\">exists</a>. That should let you know whether there is something under the key, also if it is an undef, as in</p>\n\n<pre><code>use strict;\nuse warnings;\n\nmy %the_hash = ( 1 =&gt; undef );\n\n# (undef, undef)\nmy @arr1 = ( $the_hash{1}, $the_hash{2} );\n\n# (undef)\nmy @arr2 = map { $the_hash{$_} } grep { exists $the_hash{$_} } qw(1 2);\n</code></pre>\n\n<p>Then you could do something like this:</p>\n\n<pre><code>my @arr = map { $the_hash{$_} } grep { exists $the_hash{$_} or die 'the message' } qw(1 2);\n</code></pre>\n\n<p>Is that it?</p>\n"}, {"tags": [], "owner": {"reputation": 53041, "user_id": 4653379, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/b3953dbedd0dabff5cbc3db9b0835b14?s=128&d=identicon&r=PG&f=1", "display_name": "zdim", "link": "https://stackoverflow.com/users/4653379/zdim"}, "is_accepted": false, "score": 3, "last_activity_date": 1563179951, "last_edit_date": 1563179951, "creation_date": 1562970468, "answer_id": 57014654, "question_id": 57012675, "link": "https://stackoverflow.com/questions/57012675/how-to-make-perl-die-after-declaring-array-with-non-existent-hash-keys/57014654#57014654", "title": "How to make Perl die after declaring array with non-existent hash keys", "body": "<p>At the expense of an extra pair of actions you can use core <a href=\"https://perldoc.perl.org/Hash/Util.html\" rel=\"nofollow noreferrer\">Hash::Util</a> to lock the keys</p>\n\n<pre><code>use Hash::Util qw(lock_keys unlock_keys);\n\nmy %h = (k1 =&gt; 7); \n\nlock_keys %h;\n\nmy @ary = (3, $h{nokey}, $h{k1});  # dies; no problem w/o that 'nokey'\n\nunlock_keys %h;                    # So you can modify it later\n</code></pre>\n\n<p>This example with a non-existing <code>nokey</code> goes down with </p>\n\n<pre>\nAttempt to access disallowed key 'nokey' in a restricted hash at ...\n</pre>\n\n<p>So remember to unlock keys after the array assignment if you need to be able to change them later.  </p>\n\n<p>Note that you may need <code>lock_hash_recurse</code>, to lock deeper keys as well. See docs.</p>\n\n<hr>\n\n<p>These can be \"absorbed\" in a <code>do</code> block</p>\n\n<pre><code>my @ary = do { \n    lock_keys %h;\n    my @ary_tmp = ( 3, $h{...}, ... );\n    unlock_keys %h;\n    @ary_tmp;          # returned\n};\n</code></pre>\n\n<p>for some cleanliness and to make sure that unlocking isn't forgotten, but I am not sure whether it helps while it incurs extra expense of a data copy, and of creating an array (only to be discarded).</p>\n"}], "owner": {"reputation": 4229, "user_id": 3973175, "user_type": "registered", "accept_rate": 52, "profile_image": "https://www.gravatar.com/avatar/9c15391d610e59c350912be638b14074?s=128&d=identicon&r=PG", "display_name": "con", "link": "https://stackoverflow.com/users/3973175/con"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 84, "favorite_count": 0, "accepted_answer_id": 57012733, "answer_count": 3, "score": 1, "last_activity_date": 1563179951, "creation_date": 1562957967, "question_id": 57012675, "link": "https://stackoverflow.com/questions/57012675/how-to-make-perl-die-after-declaring-array-with-non-existent-hash-keys", "title": "How to make Perl die after declaring array with non-existent hash keys", "body": "<p>I'm declaring an array like this:</p>\n\n<pre><code>my @row = (\n$discordances{$assay}{plate_pair},\n$assay,\n$discordances{$assay}{contigName},\n$discordances{$assay}{start},\n$discordances{$assay}{test_calls},\n$discordances{$assay}{truth_calls}\n);\n</code></pre>\n\n<p>but I want the program to die when I declare <code>@rows</code> using non-existent hash keys</p>\n\n<p>right now, I'm using <code>use warnings FATAL =&gt; 'all'</code> &amp; <code>use autodie ':all'</code> but neither of these is catching the error.  I have code later which is designed to catch a possible error, but I'm trying to keep this as short as possible for readability and ease of use, so I don't want to use that code to catch something which <code>use autodie ':all'</code> should already be catching.</p>\n\n<p>How can I get Perl to die on such an array declaration?</p>\n"}, {"tags": ["arrays", "perl", "hash", "iteration"], "answers": [{"comments": [{"owner": {"reputation": 185733, "user_id": 152948, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/194ef8f807c34a9d7aab0e11a8674768?s=128&d=identicon&r=PG", "display_name": "hobbs", "link": "https://stackoverflow.com/users/152948/hobbs"}, "reply_to_user": {"reputation": 784, "user_id": 1118630, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/466905ee415e4cd9667f29eea987f15b?s=128&d=identicon&r=PG", "display_name": "jonah_w", "link": "https://stackoverflow.com/users/1118630/jonah-w"}, "edited": false, "score": 1, "creation_date": 1562955991, "post_id": 57012224, "comment_id": 100557029, "body": "@jonah_w it&#39;s always a good idea to use Data::Dumper (or Data::Printer) to make sure that the data you&#39;re working with is what you expect it to be."}], "tags": [], "owner": {"reputation": 185733, "user_id": 152948, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/194ef8f807c34a9d7aab0e11a8674768?s=128&d=identicon&r=PG", "display_name": "hobbs", "link": "https://stackoverflow.com/users/152948/hobbs"}, "is_accepted": true, "score": 4, "last_activity_date": 1562955532, "creation_date": 1562955532, "answer_id": 57012224, "question_id": 57012076, "link": "https://stackoverflow.com/questions/57012076/iterate-an-array-of-hashes-in-perl/57012224#57012224", "title": "Iterate an array of hashes in perl", "body": "<p>Your problem is that you don't <em>have</em> an array full of hashes (hash references) to iterate over. When you do</p>\n\n<pre><code> push(@array, %h);\n</code></pre>\n\n<p>it is flattening <code>%h</code> into a list of key/value pairs and pushing that list onto the end of <code>@array</code>.</p>\n\n<p>What you meant to do instead was</p>\n\n<pre><code>push @array, \\%h;\n</code></pre>\n\n<p>which pushes a reference to <code>%h</code> onto <code>@array</code>.</p>\n"}], "owner": {"reputation": 784, "user_id": 1118630, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/466905ee415e4cd9667f29eea987f15b?s=128&d=identicon&r=PG", "display_name": "jonah_w", "link": "https://stackoverflow.com/users/1118630/jonah-w"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 57, "favorite_count": 0, "accepted_answer_id": 57012224, "answer_count": 1, "score": 0, "last_activity_date": 1562956197, "creation_date": 1562954830, "last_edit_date": 1562956197, "question_id": 57012076, "link": "https://stackoverflow.com/questions/57012076/iterate-an-array-of-hashes-in-perl", "title": "Iterate an array of hashes in perl", "body": "<p>I was iterating through all the entries of a dictionary source file, for each entry I use one <code>hash</code> to store some relations between the <code>headword</code>(only one <code>headword</code> per entry; as the <code>value</code> of a <code>hash</code>) and its corresponding <code>topic</code>(maybe there're more than one <code>topic</code>s in one entry; as the <code>key</code> of a <code>hash</code>), and after iterating through each entry I add the <code>hash</code> into an <code>array</code> and put all <code>hash</code>es together in that array by the end of all iteration, then I'm gonna do something with that <code>array</code> of <code>hash</code>es.</p>\n\n<blockquote>\n  <p>Note:Different <code>hash</code>es may contain the same <code>key</code>, so I can't convert the all <code>hash</code>es to an <code>array</code> and then convert them back to one single <code>hash</code>, that will erase the duplicate <code>key</code>s.</p>\n</blockquote>\n\n<p>I get the following error upon run the code:</p>\n\n<blockquote>\n  <p>Can't use string (\"art\") as a HASH ref while \"strict refs\" in use at this line: <code>while (my ($key, $value) = each %{$hash_ref}){</code></p>\n</blockquote>\n\n<p>\"art\" is one of the topics mentioned above.</p>\n\n<pre class=\"lang-perl prettyprint-override\"><code>#!/usr/bin/perl\nuse strict;\nuse warnings;\n\nuse feature ':all';\nmy $filename='a';\nuse Data::Dumper qw(Dumper);\nopen(DICT, \"&lt;\", $filename)\n    or die \"Cannot open '$filename': $!\";\n\nmy @array;    \n\nwhile(&lt;DICT&gt;){\n    my %h;\n    my $hw=$1  if /(^.*?)(?=&lt;link rel)/;\n    while (m/\\&lt;SUBJECT\\-AREA\\&gt;(.*?)\\&lt;\\/SUBJECT\\-AREA\\&gt;/g) {\n        $h{$1}=$hw;\n    }\n\n    push(@array, %h);\n\n    END {\n        for my $hash_ref (@array){\n            while (my ($key, $value) = each %{$hash_ref}){\n                print \"$key\\n\\@\\@\\@LINK=$value\\n&lt;/&gt;\\n\";\n            }\n        }\n    }\n}\n</code></pre>\n"}, {"tags": ["linux", "perl", "caching"], "answers": [{"tags": [], "owner": {"reputation": 322, "user_id": 8419020, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/dkUE9.png?s=128&g=1", "display_name": "Simerax", "link": "https://stackoverflow.com/users/8419020/simerax"}, "is_accepted": false, "score": 2, "last_activity_date": 1562957304, "last_edit_date": 1562957304, "creation_date": 1562956925, "answer_id": 57012500, "question_id": 57012072, "link": "https://stackoverflow.com/questions/57012072/how-to-cache-files-with-perl-while-playing-sound-files-using-vlc/57012500#57012500", "title": "How to cache files with Perl while playing sound files using vlc?", "body": "<p>Its not as easy as just \"caching\" a file in perl. \nvlc or whatever program needs to interpret the content of the data (in your case the .wav file). \nEither you stick with calling an external program and just give it a file to execute or you need to implement the whole stack in perl (and probably <a href=\"https://perldoc.perl.org/perlxs.html\" rel=\"nofollow noreferrer\">Perl XS Modules</a>). By whole stack I mean: \n1. Keeping the Data (your .wav file) in Memory (inside the perl runtime). \n2. Interpreting the Data inside Perl.</p>\n\n<p>The second part is where it gets tricky you would probably need to write a lot of code and/or use 3rd Party modules to get where you want.</p>\n\n<p>So if you just want to make it work fast, stick with system calls. You could also look into <a href=\"https://metacpan.org/pod/distribution/Audio-Nama/README\" rel=\"nofollow noreferrer\">Nama</a> which might give you what you need.</p>\n\n<p>From your Question it looks like you are mostly into getting the runtime of a .wav file. If its just about getting information about the File and not about playing the sound then maybe  <a href=\"https://metacpan.org/pod/Audio::Wav\" rel=\"nofollow noreferrer\">Audio::Wav</a>  could be the module for you.</p>\n"}, {"tags": [], "owner": {"reputation": 38072, "user_id": 46395, "user_type": "registered", "accept_rate": 71, "profile_image": "https://www.gravatar.com/avatar/5ce828f20abb195ef5d971205ee36c27?s=128&d=identicon&r=PG", "display_name": "daxim", "link": "https://stackoverflow.com/users/46395/daxim"}, "is_accepted": false, "score": 1, "last_activity_date": 1563180330, "last_edit_date": 1563180330, "creation_date": 1563179991, "answer_id": 57036106, "question_id": 57012072, "link": "https://stackoverflow.com/questions/57012072/how-to-cache-files-with-perl-while-playing-sound-files-using-vlc/57036106#57036106", "title": "How to cache files with Perl while playing sound files using vlc?", "body": "<p>Cacheing internal to Perl does not help you here.</p>\n\n<ol>\n<li>Prime the Linux file cache by reading the file once, for example at program initialisation time. It might happen that at the time you want to play it, it has already been made stale and removed from the cache, so if you want to guarantee low access time, then put the files on a <a href=\"http://enwp.org/tmpfs\" rel=\"nofollow noreferrer\">RAM disk</a> instead.</li>\n<li>Find and use a different media player with a lower footprint that does not load dozens of libraries in order to reduce start-up time. Try <code>paplay</code> from package <code>pulseaudio-utils</code>, or <code>gst123</code>, or <code>mpg123</code> with <code>mpg123-pulse</code>.</li>\n</ol>\n"}], "owner": {"reputation": 21, "user_id": 11776830, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/77c76fb6a0f50f314a45fe1efe779a1d?s=128&d=identicon&r=PG&f=1", "display_name": "Lukian", "link": "https://stackoverflow.com/users/11776830/lukian"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 92, "favorite_count": 1, "answer_count": 2, "score": 2, "last_activity_date": 1563192797, "creation_date": 1562954821, "last_edit_date": 1562969645, "question_id": 57012072, "link": "https://stackoverflow.com/questions/57012072/how-to-cache-files-with-perl-while-playing-sound-files-using-vlc", "title": "How to cache files with Perl while playing sound files using vlc?", "body": "<p>I would like to manually cache files in  Perl, so when playing a sound there is little to no delay. </p>\n\n<p>I wrote a program in Perl, which plays an audio file by doing a system call to VLC. When executing it, I noticed a delay before the audio started playing. The delay is usually between about 1.0 and 1.5 seconds. However, when I create a loop which does the same VLC call multiple times in a row, the delay is only about 0.2 - 0.3 seconds. I assume this is because the sound file was cached by Linux. I found <a href=\"https://metacpan.org/pod/Cache::Cache\" rel=\"nofollow noreferrer\">Cache::Cache</a> on CPAN, but I don't understand how it works. I'm interested in a solution without using a module. If that's not possible, I'd like to know how to use Cache::Cache properly.</p>\n\n<p>(I know it's a bad idea to use a system call to VLC regarding execution speed)</p>\n\n<pre><code>use Time::HiRes;\nuse warnings;\nuse strict;\n\nwhile (1) {\n    my $start = Time::HiRes::time();\n    system('vlc -Irc ./media/audio/noise.wav vlc://quit');\n    my $end = Time::HiRes::time();\n    my $duration = $end - $start;\n    print \"duration = $duration\\n\";\n    &lt;STDIN&gt;;\n}\n</code></pre>\n"}, {"tags": ["perl", "loading"], "comments": [{"owner": {"reputation": 322, "user_id": 8419020, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/dkUE9.png?s=128&g=1", "display_name": "Simerax", "link": "https://stackoverflow.com/users/8419020/simerax"}, "edited": false, "score": 0, "creation_date": 1562957948, "post_id": 57011212, "comment_id": 100557736, "body": "If i understand you correctly the main problem you have is that both dots &#39;..&#39; show up together and not one after the other with a little delay in between. This is because perl does caching of writes to STDOUT (Standard Output, this is what you would think of as whats written on the display). To make perl instantly print you can set the special variable <code>$|</code> to 1 <code>$| = 1;</code>. This will cause Perl to instantly print without waiting for a line to be finished [<a href=\"https://perldoc.perl.org/perlvar.html]\" rel=\"nofollow noreferrer\">perldoc.perl.org/perlvar.html]</a>"}, {"owner": {"reputation": 370144, "user_id": 1271826, "user_type": "registered", "accept_rate": 100, "profile_image": "https://i.stack.imgur.com/duhm9.jpg?s=128&g=1", "display_name": "Rob", "link": "https://stackoverflow.com/users/1271826/rob"}, "edited": false, "score": 1, "creation_date": 1563133786, "post_id": 57011212, "comment_id": 100590206, "body": "You might consider accepting one of the answers below. See <a href=\"https://stackoverflow.com/help/someone-answers\">What should I do when someone answers my question?</a>"}], "answers": [{"comments": [{"owner": {"reputation": 78982, "user_id": 1848654, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/84180c0f3c9c04f8b8f0613fc0129dac?s=128&d=identicon&r=PG", "display_name": "melpomene", "link": "https://stackoverflow.com/users/1848654/melpomene"}, "edited": false, "score": 0, "creation_date": 1562952553, "post_id": 57011251, "comment_id": 100555752, "body": "Don&#39;t forget to <code>STDOUT-&gt;autoflush(1)</code>."}], "tags": [], "owner": {"reputation": 8718, "user_id": 5848200, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/a8072aaf76dcb4fe5027964252f16382?s=128&d=identicon&r=PG", "display_name": "Grinnz", "link": "https://stackoverflow.com/users/5848200/grinnz"}, "is_accepted": false, "score": 2, "last_activity_date": 1562950886, "creation_date": 1562950886, "answer_id": 57011251, "question_id": 57011212, "link": "https://stackoverflow.com/questions/57011212/how-can-you-make-an-animated-loading-sign-in-perl/57011251#57011251", "title": "How can you make an animated loading sign in Perl?", "body": "<p>The standard <a href=\"https://perldoc.pl/functions/sleep\" rel=\"nofollow noreferrer\">sleep</a> function operates in integer seconds. You can use the sleep functions from <a href=\"https://perldoc.pl/Time::HiRes\" rel=\"nofollow noreferrer\">Time::HiRes</a> as a drop-in replacement that supports fractional seconds.</p>\n\n<pre><code>use strict;\nuse warnings;\nuse Time::HiRes 'sleep';\n\nsleep 0.1;\n</code></pre>\n"}, {"comments": [{"owner": {"reputation": 32176, "user_id": 2173773, "user_type": "registered", "accept_rate": 86, "profile_image": "https://i.stack.imgur.com/M8yh6.jpg?s=128&g=1", "display_name": "H&#229;kon H&#230;gland", "link": "https://stackoverflow.com/users/2173773/h%c3%a5kon-h%c3%a6gland"}, "edited": false, "score": 1, "creation_date": 1562956718, "post_id": 57011731, "comment_id": 100557303, "body": "Nice unicode spinner! :) Note, I needed to add <code>binmode STDOUT, &#39;:utf8&#39;; STDOUT-&gt;autoflush(1);</code> to the last snippet to make it work in my <code>gnome-terminal</code>.."}, {"owner": {"reputation": 53041, "user_id": 4653379, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/b3953dbedd0dabff5cbc3db9b0835b14?s=128&d=identicon&r=PG&f=1", "display_name": "zdim", "link": "https://stackoverflow.com/users/4653379/zdim"}, "reply_to_user": {"reputation": 32176, "user_id": 2173773, "user_type": "registered", "accept_rate": 86, "profile_image": "https://i.stack.imgur.com/M8yh6.jpg?s=128&g=1", "display_name": "H&#229;kon H&#230;gland", "link": "https://stackoverflow.com/users/2173773/h%c3%a5kon-h%c3%a6gland"}, "edited": false, "score": 1, "creation_date": 1562957151, "post_id": 57011731, "comment_id": 100557452, "body": "@H&#229;konH&#230;gland Ah, thank you!  I tested in a script along with <code>Term::Spinner::Color</code>, and the module apparently has those set up so I forgot.  Fixed"}], "tags": [], "owner": {"reputation": 53041, "user_id": 4653379, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/b3953dbedd0dabff5cbc3db9b0835b14?s=128&d=identicon&r=PG&f=1", "display_name": "zdim", "link": "https://stackoverflow.com/users/4653379/zdim"}, "is_accepted": true, "score": 4, "last_activity_date": 1566365942, "last_edit_date": 1566365942, "creation_date": 1562953260, "answer_id": 57011731, "question_id": 57011212, "link": "https://stackoverflow.com/questions/57011212/how-can-you-make-an-animated-loading-sign-in-perl/57011731#57011731", "title": "How can you make an animated loading sign in Perl?", "body": "<p>Using <a href=\"https://perldoc.perl.org/Time/HiRes.html\" rel=\"nofollow noreferrer\">Time::HiRes</a> for sub-second timing needs, a few ways</p>\n\n<pre><code>use warnings;\nuse strict;\nuse feature 'say';    \nuse Time::HiRes qw(sleep);\n\nSTDOUT-&gt;autoflush(1);  # or $| = 1;\nmy $tot_sleep = 0; \n\n# Print dots\nprint \"Loading \"; \nwhile (1) {\n    $tot_sleep += sleep 0.1;  print \".\";\n    last if $tot_sleep &gt;= 2;\n} \nsay \" done\\n\";  $tot_sleep = 0;\n\n# Print \"spinning\" cursor while waiting\nprint \"Loading ... \";\nWAIT: while (1) { \n    for (qw(- \\ | /)) {\n        print;  $tot_sleep += sleep (0.1);  print \"\\b\";\n        last WAIT if $tot_sleep &gt;= 2;\n    }   \n}\nsay \"\\b done\\n\";\n\n# Print (overwrite) percentile completed (if you know the job size)\nmy $tot_percent = 0;  \nwhile ($tot_percent &lt; 100) { \n    $tot_percent += 5;  \n    print \"Loading ... $tot_percent%\\r\"; \n    sleep 0.1;\n} \nsay \"\\n\";\n</code></pre>\n\n<p>I simulate \"completion\" (of loading) by adding up waits to 2 seconds.  The <code>if</code> checks of this time thus stand for checks of whether \"loading\" completed, what presumably can be done at that point in the code (if it is a separate thread/process, or if this code runs in a forked process).</p>\n\n<hr>\n\n<p>For a perhaps nicer \"spinner\" can use</p>\n\n<pre><code>use Time::HiRes qw(sleep);\nuse utf8;\nuse open qw(:std :encoding(UTF-8));\nSTDOUT-&gt;autoflush(1);\n\nprint \"Waiting ... \";\nWAIT: {\n    my $tot_sleep;\n    while (1) {\n        for ('\u25d1', '\u25d2', '\u25d0', '\u25d3') {\n            print; $tot_sleep += sleep 0.1; print \"\\b\";\n            last WAIT if $tot_sleep &gt;= 5;\n        }   \n    }\n};\nsay \"\\b done\";\n</code></pre>\n\n<p>Idea for symbols borrowed from <a href=\"https://metacpan.org/pod/Term::Spinner::Color\" rel=\"nofollow noreferrer\">Term::Spinner::Color</a>.  </p>\n\n<p>Such \"spinners\" of course don't give the visual clues of how long they wait(ed), like dots do.</p>\n"}, {"tags": [], "owner": {"reputation": 320771, "user_id": 589924, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/b2cf53d5a3d25f95c0db4e025aed4153?s=128&d=identicon&r=PG", "display_name": "ikegami", "link": "https://stackoverflow.com/users/589924/ikegami"}, "is_accepted": false, "score": 3, "last_activity_date": 1563030588, "last_edit_date": 1563030588, "creation_date": 1562968213, "answer_id": 57014385, "question_id": 57011212, "link": "https://stackoverflow.com/questions/57011212/how-can-you-make-an-animated-loading-sign-in-perl/57014385#57014385", "title": "How can you make an animated loading sign in Perl?", "body": "<p>The existing solutions assume you actually want to sleep/wait. They're not easily adapted to replacing the sleep/wait with actual work. My solution is for when you're you're doing actual work (e.g. loading), not just waiting for something.</p>\n\n<pre><code>use Time::HiRes qw( );\n\n$| = 1;\n\n{\n   my @syms = qw( - \\ | / );\n   my ( $i, $t );\n\n   sub start_spinner {\n      $t = Time::HiRes::time;\n      $i = 0;\n      print $syms[$i];\n   }\n\n   sub update_spinner {\n      my $now = Time::HiRes::time;\n      return if $now - $time &lt; 0.1;  # Prevent spinner from spinning too fast.\n\n      $time = $now;\n      $i = ( $i + 1 ) % @syms;\n      print \"\\b$syms[$i]\";\n   }\n\n   sub stop_spinner {\n      print \"\\b \\b\";\n   }\n}\n\nstart_spinner();\nfor (1..500) {\n   update_spinner();          # Call this as often as possible.\n   Time::HiRes::sleep(0.01);  # Simulate a little bit of work.\n}\nstop_spinner();\n</code></pre>\n\n<p>The key is using Time::HiRes's higher-resolution <code>time</code> (and <code>sleep</code>, if necessary), as well a rate limiter (<code>return if $now - $time &lt; 0.1;</code>).</p>\n\n<p>If you really do want to print a line of dots, the same approach can be used.</p>\n\n<pre><code>{\n   my $t;\n\n   sub start_spinner {\n      $t = Time::HiRes::time;\n   }\n\n   sub update_spinner {\n      my $now = Time::HiRes::time;\n      return if $now - $time &lt; 0.1;  # Prevent spinner from spinning too fast.\n\n      $time = $now;\n      print \".\";\n   }\n\n   sub stop_spinner {\n      print \"\\n\";\n   }\n}\n</code></pre>\n"}, {"tags": [], "owner": {"reputation": 8273, "user_id": 1334695, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/431ae6e9f7610b9d6a6a6cdebd0244d5?s=128&d=identicon&r=PG", "display_name": "stevieb", "link": "https://stackoverflow.com/users/1334695/stevieb"}, "is_accepted": false, "score": 1, "last_activity_date": 1562975097, "creation_date": 1562975097, "answer_id": 57015087, "question_id": 57011212, "link": "https://stackoverflow.com/questions/57011212/how-can-you-make-an-animated-loading-sign-in-perl/57015087#57015087", "title": "How can you make an animated loading sign in Perl?", "body": "<p>Yet another way, without using a module is by abusing <a href=\"https://perldoc.perl.org/functions/select.html\" rel=\"nofollow noreferrer\">select()</a>:</p>\n\n<pre><code>use warnings;\nuse strict;\n$|=1;\n\nwhile (1){\n    print '.';\n    select(undef, undef, undef, 0.1);\n}\n</code></pre>\n\n<p>Or, a FreeBSD-style spinner for fun (uses a Linux system call to refresh screen. On Windows, change <code>clear</code> to <code>cls</code>):</p>\n\n<pre><code>while (1){\n    for (qw(- \\ | / -)){\n        system 'clear';\n        print $_;\n        select(undef, undef, undef, 0.1);\n    }\n}\n</code></pre>\n"}], "owner": {"reputation": 139, "user_id": 11731581, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/4B4v1.jpg?s=128&g=1", "display_name": "Donoru", "link": "https://stackoverflow.com/users/11731581/donoru"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 215, "favorite_count": 0, "accepted_answer_id": 57011731, "answer_count": 4, "score": 2, "last_activity_date": 1566365942, "creation_date": 1562950729, "question_id": 57011212, "link": "https://stackoverflow.com/questions/57011212/how-can-you-make-an-animated-loading-sign-in-perl", "title": "How can you make an animated loading sign in Perl?", "body": "<p>I need to know how to make an animated loading sign in Perl for keeping people entertained while my program's checking for updates.</p>\n\n<p>I've already tried using</p>\n\n<pre class=\"lang-perl prettyprint-override\"><code>print \".\";\nsleep(0.1);\nprint \".\";\n</code></pre>\n\n<p>but that doesn't seem to work.\nSomebody please help me!</p>\n\n<pre class=\"lang-perl prettyprint-override\"><code>print \".\";\nsleep(0.1);\nprint \".\";\n</code></pre>\n\n<p>isn't working</p>\n\n<p>I just want the program to wait 1/10th of a second to print the next <code>.</code></p>\n"}, {"tags": ["perl"], "comments": [{"owner": {"reputation": 78982, "user_id": 1848654, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/84180c0f3c9c04f8b8f0613fc0129dac?s=128&d=identicon&r=PG", "display_name": "melpomene", "link": "https://stackoverflow.com/users/1848654/melpomene"}, "edited": false, "score": 0, "creation_date": 1562949224, "post_id": 57007847, "comment_id": 100554497, "body": "<a href=\"https://perldoc.pl/perlop#Binding-Operators\" rel=\"nofollow noreferrer\">perldoc.pl/perlop#Binding-Operators</a>"}], "answers": [{"comments": [{"owner": {"reputation": 320771, "user_id": 589924, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/b2cf53d5a3d25f95c0db4e025aed4153?s=128&d=identicon&r=PG", "display_name": "ikegami", "link": "https://stackoverflow.com/users/589924/ikegami"}, "edited": false, "score": 1, "creation_date": 1562939438, "post_id": 57007918, "comment_id": 100549321, "body": "And of course, <code>=~</code>  tells the following <code>m&#47;&#47;</code>, <code>s&#47;&#47;&#47;</code> or <code>tr&#47;&#47;&#47;</code> operator what string to search and possibly transform."}, {"owner": {"reputation": 8718, "user_id": 5848200, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/a8072aaf76dcb4fe5027964252f16382?s=128&d=identicon&r=PG", "display_name": "Grinnz", "link": "https://stackoverflow.com/users/5848200/grinnz"}, "edited": false, "score": 0, "creation_date": 1562948697, "post_id": 57007918, "comment_id": 100554312, "body": "It&#39;s important to remember that m/s/tr are the operators that define behavior, <code>=~</code> and <code>!~</code> just specify that they should be applied to something other than <code>$_</code>. <code>&#47;foo&#47;</code> is just <code>m&#47;foo&#47;</code>, and if you use <code>=~</code> to bind to something that is not one of those operators on the right side, it&#39;s stringified and used to match as if with <code>m&#47;&#47;</code>."}], "tags": [], "owner": {"reputation": 110113, "user_id": 168657, "user_type": "registered", "accept_rate": 92, "profile_image": "https://www.gravatar.com/avatar/f14e7610fca39322ebbf23530def15f8?s=128&d=identicon&r=PG", "display_name": "mob", "link": "https://stackoverflow.com/users/168657/mob"}, "is_accepted": true, "score": 2, "last_activity_date": 1562937917, "creation_date": 1562937917, "answer_id": 57007918, "question_id": 57007847, "link": "https://stackoverflow.com/questions/57007847/what-does-mean-in-perl/57007918#57007918", "title": "What does !~ mean in perl", "body": "<p><code>!~</code> is the negation of the binding operator <code>=~</code>, like <code>!=</code> is the negation of the operator <code>==</code>.</p>\n\n<p>The expression</p>\n\n<pre><code>$foo !~ /bar/\n</code></pre>\n\n<p>is equivalent, but more concise, and sometimes more expressive, than the expression</p>\n\n<pre><code>!($foo =~ /bar/)\n</code></pre>\n"}], "owner": {"reputation": 51, "user_id": 11724288, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/98f635624a9c5c357b0d1dffef4de67c?s=128&d=identicon&r=PG&f=1", "display_name": "sevonchan", "link": "https://stackoverflow.com/users/11724288/sevonchan"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 2429, "favorite_count": 0, "accepted_answer_id": 57007918, "answer_count": 1, "score": 1, "last_activity_date": 1563035345, "creation_date": 1562937653, "question_id": 57007847, "link": "https://stackoverflow.com/questions/57007847/what-does-mean-in-perl", "title": "What does !~ mean in perl", "body": "<p>Can someone explain to me what does this line mean?</p>\n\n<pre><code>elsif ($ARGV[0] !~ /^\\d+$/\n</code></pre>\n\n<p>The complete code is below, it was meant to echo the input.</p>\n\n<pre><code>if (@ARGV != 2) {\n    print \"Usage: ./echon.pl &lt;number of lines&gt; &lt;string&gt;\\n\";\n    exit;\n} elsif ($ARGV[0] !~ /^\\d+$/) {\n    print \"./echon.pl: argument 1 must be a non-negative integer\\n\";\n    exit;\n}\n\n$i=0;\nwhile ($i &lt; $ARGV[0]) {#print argv[1] for argv[0] - 1 times\n    print \"$ARGV[1]\\n\";\n    $i++;\n}\n</code></pre>\n"}, {"tags": ["perl", "parsing", "text-files"], "comments": [{"owner": {"reputation": 12485, "user_id": 1626878, "user_type": "registered", "accept_rate": 100, "profile_image": "https://i.stack.imgur.com/3kNvm.jpg?s=128&g=1", "display_name": "Sahil Mahajan Mj", "link": "https://stackoverflow.com/users/1626878/sahil-mahajan-mj"}, "edited": false, "score": 3, "creation_date": 1562934511, "post_id": 57006624, "comment_id": 100546645, "body": "Welcome to Stack overflow Imane. Instead of posting image of code, it is always better to add the exact code snippet here."}], "answers": [{"comments": [{"owner": {"reputation": 13, "user_id": 11006971, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/7LQDK.jpg?s=128&g=1", "display_name": "Imane", "link": "https://stackoverflow.com/users/11006971/imane"}, "edited": false, "score": 0, "creation_date": 1562935771, "post_id": 57006868, "comment_id": 100547375, "body": "Thank you so much for your answer, but I still have a problem. You see not all columns have the same length of text, but I still need each column to start at a specific position.  For example the second column needs to start at the seventh position of the text file no matter what length the text in the first column is."}, {"owner": {"reputation": 32176, "user_id": 2173773, "user_type": "registered", "accept_rate": 86, "profile_image": "https://i.stack.imgur.com/M8yh6.jpg?s=128&g=1", "display_name": "H&#229;kon H&#230;gland", "link": "https://stackoverflow.com/users/2173773/h%c3%a5kon-h%c3%a6gland"}, "reply_to_user": {"reputation": 13, "user_id": 11006971, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/7LQDK.jpg?s=128&g=1", "display_name": "Imane", "link": "https://stackoverflow.com/users/11006971/imane"}, "edited": false, "score": 0, "creation_date": 1562936143, "post_id": 57006868, "comment_id": 100547554, "body": "Hmm. So you say the first column is from character position 1-3 in your question. Then it will always have length 3, right?"}, {"owner": {"reputation": 13, "user_id": 11006971, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/7LQDK.jpg?s=128&g=1", "display_name": "Imane", "link": "https://stackoverflow.com/users/11006971/imane"}, "edited": false, "score": 0, "creation_date": 1562936443, "post_id": 57006868, "comment_id": 100547695, "body": "It starts at 1 and takes maximum 3. So no its length is not necesseraliy 3, it can even be empty."}, {"owner": {"reputation": 32176, "user_id": 2173773, "user_type": "registered", "accept_rate": 86, "profile_image": "https://i.stack.imgur.com/M8yh6.jpg?s=128&g=1", "display_name": "H&#229;kon H&#230;gland", "link": "https://stackoverflow.com/users/2173773/h%c3%a5kon-h%c3%a6gland"}, "reply_to_user": {"reputation": 13, "user_id": 11006971, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/7LQDK.jpg?s=128&g=1", "display_name": "Imane", "link": "https://stackoverflow.com/users/11006971/imane"}, "edited": false, "score": 0, "creation_date": 1562936547, "post_id": 57006868, "comment_id": 100547740, "body": "Hmm..but then the second column will not start at position 5 any more? If the first column has length zero, the second column will start at position 1 and not 5, right?"}, {"owner": {"reputation": 13, "user_id": 11006971, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/7LQDK.jpg?s=128&g=1", "display_name": "Imane", "link": "https://stackoverflow.com/users/11006971/imane"}, "edited": false, "score": 0, "creation_date": 1562936596, "post_id": 57006868, "comment_id": 100547766, "body": "That&#39;s the thing, I want the second column to start at its specified position 5 no matter what happens in the previous column..."}, {"owner": {"reputation": 32176, "user_id": 2173773, "user_type": "registered", "accept_rate": 86, "profile_image": "https://i.stack.imgur.com/M8yh6.jpg?s=128&g=1", "display_name": "H&#229;kon H&#230;gland", "link": "https://stackoverflow.com/users/2173773/h%c3%a5kon-h%c3%a6gland"}, "reply_to_user": {"reputation": 13, "user_id": 11006971, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/7LQDK.jpg?s=128&g=1", "display_name": "Imane", "link": "https://stackoverflow.com/users/11006971/imane"}, "edited": false, "score": 0, "creation_date": 1562936800, "post_id": 57006868, "comment_id": 100547862, "body": "But that is how it is working right now. With the script I posted, the second column will always start at column 5 I think?"}, {"owner": {"reputation": 13, "user_id": 11006971, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/7LQDK.jpg?s=128&g=1", "display_name": "Imane", "link": "https://stackoverflow.com/users/11006971/imane"}, "edited": false, "score": 0, "creation_date": 1562937110, "post_id": 57006868, "comment_id": 100548048, "body": "I have tested it, and there is always 3 spaces between column 1 and 2, so for example if in column 1 I have nothing the second column starts at the position 3."}, {"owner": {"reputation": 32176, "user_id": 2173773, "user_type": "registered", "accept_rate": 86, "profile_image": "https://i.stack.imgur.com/M8yh6.jpg?s=128&g=1", "display_name": "H&#229;kon H&#230;gland", "link": "https://stackoverflow.com/users/2173773/h%c3%a5kon-h%c3%a6gland"}, "reply_to_user": {"reputation": 13, "user_id": 11006971, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/7LQDK.jpg?s=128&g=1", "display_name": "Imane", "link": "https://stackoverflow.com/users/11006971/imane"}, "edited": false, "score": 0, "creation_date": 1562937189, "post_id": 57006868, "comment_id": 100548090, "body": "Could you send me the input data you are using? My email is in my profile"}], "tags": [], "owner": {"reputation": 32176, "user_id": 2173773, "user_type": "registered", "accept_rate": 86, "profile_image": "https://i.stack.imgur.com/M8yh6.jpg?s=128&g=1", "display_name": "H&#229;kon H&#230;gland", "link": "https://stackoverflow.com/users/2173773/h%c3%a5kon-h%c3%a6gland"}, "is_accepted": true, "score": 1, "last_activity_date": 1562939941, "last_edit_date": 1562939941, "creation_date": 1562933862, "answer_id": 57006868, "question_id": 57006624, "link": "https://stackoverflow.com/questions/57006624/deleting-columns-at-specific-position-using-perl/57006868#57006868", "title": "Deleting columns at specific position using perl", "body": "<p>One approach is to use <a href=\"https://perldoc.perl.org/perlpacktut.html\" rel=\"nofollow noreferrer\"><code>unpack</code></a>. Try this <code>perl p.pl &lt; in.txt</code>, where <code>p.pl</code> is:</p>\n\n<pre><code>while (&lt;&gt;) {\n    my @cols = unpack \"A3xA3xA4xA*\", $_;\n    CORE::say join ' ', $cols[2] . '  ', $cols[1], \"      same\";\n}\n</code></pre>\n\n<p><strong>Update</strong>:</p>\n\n<p>According to discussion in the comments, the following solution solved the problem:</p>\n\n<pre><code>while (&lt;&gt;) {\n    my @cols = unpack \"A3xA3xA4xA*\", $_;\n    printf \"%-5s %-5s %-4s\\n\", $cols[1], $cols[2], \"same\";\n}\n</code></pre>\n"}], "owner": {"reputation": 13, "user_id": 11006971, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/7LQDK.jpg?s=128&g=1", "display_name": "Imane", "link": "https://stackoverflow.com/users/11006971/imane"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 64, "favorite_count": 0, "accepted_answer_id": 57006868, "answer_count": 1, "score": 0, "last_activity_date": 1562939941, "creation_date": 1562932995, "last_edit_date": 1562938545, "question_id": 57006624, "link": "https://stackoverflow.com/questions/57006624/deleting-columns-at-specific-position-using-perl", "title": "Deleting columns at specific position using perl", "body": "<p>I am new to Perl and I am trying to delete columns that are defined in specific positions. My file looks like this:</p>\n\n<p><a href=\"https://i.stack.imgur.com/18l5a.png\" rel=\"nofollow noreferrer\">https://i.stack.imgur.com/18l5a.png</a>   </p>\n\n<p>knowing that the columns are numerated as following:</p>\n\n<pre><code>1-3 , 5-7 , 9-12 , 14-16 , 18-21 , 23-25 , 27-29 , 31-37 , 39-68 , 70-72 , 74\n</code></pre>\n\n<p>And I want to delete the columns that start at: </p>\n\n<pre><code>1-3 , 14-16 , 23-25 , 27-29 , 31-37 , 39-68 , 70-72 , 74\n</code></pre>\n\n<p>So that I can get this, only the columns: 5-7 and 9-12 but change their positions to: 1-5 and 7-10 </p>\n\n<p>I aslo want to add new columns at specific positions, (12-21) for example and get the following resulting file:</p>\n\n<p><a href=\"https://i.stack.imgur.com/eQ0Yp.png\" rel=\"nofollow noreferrer\">https://i.stack.imgur.com/eQ0Yp.png</a>.</p>\n\n<p>Thank you in advance!</p>\n"}, {"tags": ["perl"], "comments": [{"owner": {"reputation": 320771, "user_id": 589924, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/b2cf53d5a3d25f95c0db4e025aed4153?s=128&d=identicon&r=PG", "display_name": "ikegami", "link": "https://stackoverflow.com/users/589924/ikegami"}, "edited": false, "score": 5, "creation_date": 1562930012, "post_id": 57005774, "comment_id": 100544427, "body": "How ironic. . ."}], "answers": [{"tags": [], "owner": {"reputation": 32176, "user_id": 2173773, "user_type": "registered", "accept_rate": 86, "profile_image": "https://i.stack.imgur.com/M8yh6.jpg?s=128&g=1", "display_name": "H&#229;kon H&#230;gland", "link": "https://stackoverflow.com/users/2173773/h%c3%a5kon-h%c3%a6gland"}, "is_accepted": true, "score": 3, "last_activity_date": 1563710547, "last_edit_date": 1563710547, "creation_date": 1563708841, "answer_id": 57132823, "question_id": 57005774, "link": "https://stackoverflow.com/questions/57005774/why-is-develleaktrace-leaking-memory/57132823#57132823", "title": "Why is Devel::LeakTrace leaking memory?", "body": "<p>It seems like there are even more memory leaks than <code>valgrind</code> reported.\nEach time a new SV is created, <a href=\"https://metacpan.org/pod/Devel::LeakTrace\" rel=\"nofollow noreferrer\"><code>Devel::LeakTrace</code></a> records the current file name and line number in a <a href=\"https://metacpan.org/source/RCLAMP/Devel-LeakTrace-0.06/lib/Devel/LeakTrace.xs#L8\" rel=\"nofollow noreferrer\">16 bytes structure called <code>when</code></a>:</p>\n\n<pre><code>typedef struct {\n    char *file;\n    int line;\n} when;\n</code></pre>\n\n<p>These blocks are allocated at <a href=\"https://metacpan.org/source/RCLAMP/Devel-LeakTrace-0.06/lib/Devel/LeakTrace.xs#L80\" rel=\"nofollow noreferrer\">line #80</a> with <code>malloc()</code> but it seems it never frees these blocks. So the more scalars are created, the more memory will leak.  </p>\n\n<h2>Some background information</h2>\n\n<p>The module tries to determine leaked SVs from the <a href=\"https://perldoc.perl.org/perlmod.html#BEGIN%2c-UNITCHECK%2c-CHECK%2c-INIT-and-END\" rel=\"nofollow noreferrer\"><code>END{}</code> phaser</a>. At this point all allocated SVs should have gone out of scope from the main program and had their <a href=\"https://perldoc.perl.org/perlguts.html#Reference-Counts-and-Mortality\" rel=\"nofollow noreferrer\">reference count decreased to zero</a>, which should destroy them.  However, if for some reason the reference count is not decremented to zero, the scalar will not be destroyed and freed \n   from perl's internal memory management pool. In this case the scalar is considered as leaked by the module.</p>\n\n<p>Note that this is not the same as leaked memory as seen from the operating\nsystems memory pool handled by e.g. malloc(). When perl exits it will still\nfree any leaked scalars (from its internal memory pool) back to the systems memory pool. </p>\n\n<p>This means that the module is not meant to detect leaked system memory. For this, we can use e.g. <a href=\"http://www.valgrind.org/\" rel=\"nofollow noreferrer\"><code>valgrind</code></a>.</p>\n\n<p>The module hooks into the perl <a href=\"https://perldoc.perl.org/perlguts.html#Pluggable-runops\" rel=\"nofollow noreferrer\">runops loop</a> and for each OP that is of type <a href=\"https://metacpan.org/pod/B::Concise\" rel=\"nofollow noreferrer\"><code>OP_NEXTSTATE</code></a> it will scan all <a href=\"https://st.aticpan.org/source/RURBAN/illguts-0.49/index.html\" rel=\"nofollow noreferrer\">arenas</a> and all SVs in those for new SVs (that is: SVs that has been introduced since the previous <code>OP_NEXTSTATE</code>). </p>\n\n<p>For this sample program <code>p.pl</code> in my question I counted 31 arenas, and each arena contained space for 71 SVs. Almost all of these SVs were in use during run time (approximately 2150 of them). The module keeps each of these SVs in a hash <code>used</code> with key equal to the address of the SV and value equal to the <code>when</code> block (see above) where the scalar was allocated. For each <code>OP_NEXTSTATE</code>, it can then scan all SVs and check if there are some that are not present in the <code>used</code> hash. </p>\n\n<p>The <code>used</code> hash is not a perl hash ( I guess this was to avoid any conflicts with \nthe allocated SVs that the module tries to keep track of), instead the module uses <a href=\"https://developer.gnome.org/glib/stable/glib-Hash-Tables.html\" rel=\"nofollow noreferrer\"><code>GLib</code> hash tables</a>. </p>\n\n<h2>Patch</h2>\n\n<p>In order to keep track of the allocated <code>when</code> blocks, I used a new glib hash called <code>when_hash</code>. Then after the module had printed the leaked scalars, the <code>when</code> blocks could be freed by looking up all keys in the <code>when_hash</code>.</p>\n\n<p>I also found that the module did not free the <code>used</code>-hash. As far as I can see it should be calling the glib <code>g_hash_table_destroy()</code> to release it from the <code>END{}</code> block. Here is the patch:</p>\n\n<p><strong>LeakTrace.xs</strong> (patched):</p>\n\n<pre><code>#include \"EXTERN.h\"\n#include \"perl.h\"\n#include \"XSUB.h\"\n\n#include &lt;glib.h&gt;\n\n\ntypedef struct {\n    char *file;\n    int line;\n} when;\n\n/* a few globals, never mind the mess for now */\nGHashTable *used = NULL;\nGHashTable *new_used = NULL;\n\n/* cargo from Devel::Leak - wander the arena, see what SVs live */\ntypedef long used_proc _((void *,SV *,long));\n\n/* PATCH: fix memory leaks */\n/***************************/\n\nGHashTable *when_hash = NULL;  /* store the allocated when blocks here */\nstatic int have_run_end_hook = 0;  /* indicator to runops that we are done */\nstatic runops_proc_t save_orig_run_ops; /* original runops function */\n\n/* Called from END{}, i.e. from show_used() after having printed the leaks.\n * Free memory allocated for the when blocks */\nstatic\nvoid\nfree_when_block(gpointer key, gpointer value, gpointer user_data) {\n    free(key);\n}\n\nstatic\nvoid\ndo_cleanup() {\n    /* this line was missing from the original show_used() */\n    if (used) g_hash_table_destroy( used );\n\n    if (when_hash) g_hash_table_foreach( when_hash, free_when_block, NULL );\n    g_hash_table_destroy( when_hash );\n    PL_runops = save_orig_run_ops;\n    have_run_end_hook = 1;\n}\n\n\n\n/* END PATCH: fix memory leaks */\n/*******************************/\n\n\nstatic\nlong int\nsv_apply_to_used(void *p, used_proc *proc, long n) {\n    SV *sva;\n    for (sva = PL_sv_arenaroot; sva; sva = (SV *) SvANY(sva)) {\n        SV *sv = sva + 1;\n        SV *svend = &amp;sva[SvREFCNT(sva)];\n\n        while (sv &lt; svend) {\n            if (SvTYPE(sv) != SVTYPEMASK) {\n                n = (*proc) (p, sv, n);\n            }\n            ++sv;\n        }\n    }\n    return n;\n}\n/* end Devel::Leak cargo */\n\n\nstatic\nlong\nnote_used(void *p, SV* sv, long n) {\n    when *old = NULL;\n\n    if (used &amp;&amp; (old = g_hash_table_lookup( used, sv ))) {\n        g_hash_table_insert(new_used, sv, old);\n        return n;\n    }\n    g_hash_table_insert(new_used, sv, p);\n    return 1;\n}\n\nstatic\nvoid\nprint_me(gpointer key, gpointer value, gpointer user_data) {\n    when *w = value;\n    char *type;\n\n    switch SvTYPE((SV*)key) {\n    case SVt_PVAV: type = \"AV\"; break;\n    case SVt_PVHV: type = \"HV\"; break;\n    case SVt_PVCV: type = \"CV\"; break;\n    case SVt_RV:   type = \"RV\"; break;\n    case SVt_PVGV: type = \"GV\"; break;\n    default: type = \"SV\";\n    }\n\n    if (w-&gt;file) {\n        fprintf(stderr, \"leaked %s(0x%x) from %s line %d\\n\", \n        type, key, w-&gt;file, w-&gt;line);\n    }\n}\n\nstatic\nint\nnote_changes( char *file, int line ) {\n    static when *w = NULL;\n    int ret;\n\n    /* PATCH */ \n\n    if (have_run_end_hook) return 0; /* do not enter after clean up is complete */\n    /* if (!w) w = malloc(sizeof(when)); */\n    if (!w) {\n        w = malloc(sizeof(when));\n        if (!when_hash) {\n            /* store pointer to allocated blocks here */\n            when_hash = g_hash_table_new( NULL, NULL );\n        }\n        g_hash_table_insert(when_hash, w, NULL); /* store address to w */\n    }\n    /* END PATCH */\n    w-&gt;line = line;\n    w-&gt;file = file;\n    new_used = g_hash_table_new( NULL, NULL );\n    if (sv_apply_to_used( w, note_used, 0 )) w = NULL;\n    if (used) g_hash_table_destroy( used );\n    used = new_used;\n    return ret;\n}\n\n/* Now this bit of cargo is a derived from Devel::Caller */\n\nstatic\nint\nrunops_leakcheck(pTHX) {\n    char *lastfile = 0;\n    int lastline = 0;\n    IV last_count = 0;\n\n    while ((PL_op = CALL_FPTR(PL_op-&gt;op_ppaddr)(aTHX))) {\n        PERL_ASYNC_CHECK();\n\n        if (PL_op-&gt;op_type == OP_NEXTSTATE) {\n            if (PL_sv_count != last_count) {\n                note_changes( lastfile, lastline );\n                last_count = PL_sv_count;\n            }\n            lastfile = CopFILE(cCOP);\n            lastline = CopLINE(cCOP);\n        }\n    }\n\n    note_changes( lastfile, lastline );\n\n    TAINT_NOT;\n    return 0;\n}\n\nMODULE = Devel::LeakTrace PACKAGE = Devel::LeakTrace\n\nPROTOTYPES: ENABLE\n\nvoid\nhook_runops()\n  PPCODE:\n{\n    note_changes(NULL, 0);\n    PL_runops = runops_leakcheck;\n}\n\nvoid\nreset_counters()\n  PPCODE:\n{\n    if (used) g_hash_table_destroy( used );\n    used = NULL;\n    note_changes(NULL, 0);\n}\n\nvoid\nshow_used()\nCODE:\n{\n    if (used) g_hash_table_foreach( used, print_me, NULL );\n    /* PATCH */\n    do_cleanup();  /* released allocated memory, restore original runops */\n    /* END PATCH */\n}\n</code></pre>\n\n<h2>Testing the patch</h2>\n\n<pre><code>$ wget https://www.cpan.org/modules/by-module/Devel/Devel-LeakTrace-0.06.tar.gz\n$ tar zxvf Devel-LeakTrace-0.06.tar.gz\n$ cd Devel-LeakTrace-0.06\n$ perlbrew use 5.30.0-D3L\n# replace lib/Devel/LeakTrace.xs with my patch\n$ perl Makefile.PL\n$ make\n$ make install  # &lt;- installs the patch\n# cd to test folder, then\n$ PERL_DESTRUCT_LEVEL=2 valgrind --leak-check=yes perl p.pl\n==25019== Memcheck, a memory error detector\n==25019== Copyright (C) 2002-2017, and GNU GPL'd, by Julian Seward et al.\n==25019== Using Valgrind-3.14.0 and LibVEX; rerun with -h for copyright info\n==25019== Command: perl p.pl\n==25019== \nleaked SV(0x4c26cd8) from p.pl line 5\nleaked SV(0x4c27330) from p.pl line 5\n==25019== \n==25019== HEAP SUMMARY:\n==25019==     in use at exit: 23,324 bytes in 18 blocks\n==25019==   total heap usage: 13,968 allocs, 13,950 frees, 2,847,004 bytes allocated\n==25019== \n==25019== LEAK SUMMARY:\n==25019==    definitely lost: 0 bytes in 0 blocks\n==25019==    indirectly lost: 0 bytes in 0 blocks\n==25019==      possibly lost: 0 bytes in 0 blocks\n==25019==    still reachable: 23,324 bytes in 18 blocks\n==25019==         suppressed: 0 bytes in 0 blocks\n==25019== Reachable blocks (those to which a pointer was found) are not shown.\n==25019== To see them, rerun with: --leak-check=full --show-leak-kinds=all\n==25019== \n==25019== For counts of detected and suppressed errors, rerun with: -v\n==25019== ERROR SUMMARY: 0 errors from 0 contexts (suppressed: 0 from 0)\n</code></pre>\n"}, {"tags": [], "owner": {"reputation": 1857, "user_id": 9565139, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/t0SKo.png?s=128&g=1", "display_name": "vqf", "link": "https://stackoverflow.com/users/9565139/vqf"}, "is_accepted": false, "score": 1, "last_activity_date": 1563720074, "creation_date": 1563720074, "answer_id": 57134206, "question_id": 57005774, "link": "https://stackoverflow.com/questions/57005774/why-is-develleaktrace-leaking-memory/57134206#57134206", "title": "Why is Devel::LeakTrace leaking memory?", "body": "<p>First, <code>valgrind</code> reports 16 bytes of leaked memory in a script containing only up to <code>use Devel::LeakTrace</code>. The possible leak is independent of the fourth and fifth lines. From your link,</p>\n\n<pre><code>NOTE 3: There are known memory leaks when there are compile-time errors \nwithin eval or require, seeing S_doeval in the call stack is a good sign \nof these. Fixing these leaks is non-trivial, unfortunately, but they must be fixed \neventually.\n</code></pre>\n\n<p>Since I see the line <code>by 0x3F18E5: S_doeval_compile (pp_ctl.c:3502)</code>, and a similar line in your example, I would say that this is why <code>Devel::LeakTrace</code> causes an apparent memory leak.\nSecond, regarding the original script, <code>Devel::LeakTrace</code> is simply reporting the leak caused by (at least) a circular reference at the fifth line. You can see this by using <code>weaken</code> from <code>Scalar::Util</code>:</p>\n\n<pre><code>#! /usr/bin/env perl\n\nuse Devel::LeakTrace;\nuse Scalar::Util;\nmy $foo;\n$foo = \\$foo;\nScalar::Util::weaken($foo);\n</code></pre>\n\n<p>Then, <code>perl p.pl</code> will not report any leak. My guess is that the first scripts reports two leaks because, in addition to creating a circular reference, perl is losing a pointer at <code>$foo = \\$foo</code>. There is some magic I cannot understand that occurs when you weaken <code>$foo</code> that apparently fixes both issues. You can see this by tweaking the original script:</p>\n\n<pre><code>#! /usr/bin/env perl\n\nuse Devel::LeakTrace;\nmy $foo;\nmy $bar = \\$foo;\n$foo = $bar;\n</code></pre>\n\n<p>The resulting <code>$foo</code> should be identical, we have just created <code>$bar</code> to hold the reference. However, in this case the script only reports one leak.\nSo, in summary, I would say that 1)<code>Devel::LeakTrace</code> has a bug that shows as a memory leak in <code>valgrind</code> independently of the code; 2) perl is creating a circular reference and losing a pointer in the original script, which is why <code>Devel::LeakTrace</code> reports two leaks.</p>\n"}], "owner": {"reputation": 32176, "user_id": 2173773, "user_type": "registered", "accept_rate": 86, "profile_image": "https://i.stack.imgur.com/M8yh6.jpg?s=128&g=1", "display_name": "H&#229;kon H&#230;gland", "link": "https://stackoverflow.com/users/2173773/h%c3%a5kon-h%c3%a6gland"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 197, "favorite_count": 0, "accepted_answer_id": 57132823, "answer_count": 2, "score": 9, "last_activity_date": 1563720074, "creation_date": 1562929738, "question_id": 57005774, "link": "https://stackoverflow.com/questions/57005774/why-is-develleaktrace-leaking-memory", "title": "Why is Devel::LeakTrace leaking memory?", "body": "<p>I am trying to learn more about how to detect memory leaks in Perl.\nI have this program:</p>\n\n<p><strong>p.pl</strong>:</p>\n\n<pre><code>#! /usr/bin/env perl\n\nuse Devel::LeakTrace;\nmy $foo;\n$foo = \\$foo;\n</code></pre>\n\n<p><strong>Output</strong>:</p>\n\n<pre><code>leaked SV(0xac2df8e0) from ./p.pl line 5\nleaked SV(0xac2df288) from ./p.pl line 5\n</code></pre>\n\n<p>Why is this leaking two scalars (and not just a single)?</p>\n\n<p>Then I run it through <code>valgrind</code>. First I created a debugging version of <code>perl</code>:</p>\n\n<pre><code>$ perlbrew install perl-5.30.0 --as=5.30.0-D3L -DDEBUGGING \\\n  -Doptimize=-g3 -Accflags=\"-DDEBUG_LEAKING_SCALARS\"\n$ perlbrew use 5.30.0-D3L\n$ cpanm Devel::LeakTrace\n</code></pre>\n\n<p>Then I ran <code>valgrind</code> setting <code>PERL_DESTRUCT_LEVEL=2</code> as recommended in <a href=\"https://perldoc.perl.org/perlhacktips.html#PERL_DESTRUCT_LEVEL\" rel=\"noreferrer\"><code>perlhacktips</code></a>:</p>\n\n<pre><code>$  PERL_DESTRUCT_LEVEL=2 valgrind --leak-check=yes perl p.pl\n==12479== Memcheck, a memory error detector\n==12479== Copyright (C) 2002-2017, and GNU GPL'd, by Julian Seward et al.\n==12479== Using Valgrind-3.14.0 and LibVEX; rerun with -h for copyright info\n==12479== Command: perl p.pl\n==12479== \nleaked SV(0x4c27320) from p.pl line 5\nleaked SV(0x4c26cc8) from p.pl line 5\n==12479== \n==12479== HEAP SUMMARY:\n==12479==     in use at exit: 105,396 bytes in 26 blocks\n==12479==   total heap usage: 14,005 allocs, 13,979 frees, 3,011,508 bytes allocated\n==12479== \n==12479== 16 bytes in 1 blocks are definitely lost in loss record 5 of 21\n==12479==    at 0x483874F: malloc (in /usr/lib/x86_64-linux-gnu/valgrind/vgpreload_memcheck-amd64-linux.so)\n==12479==    by 0x484851A: note_changes (LeakTrace.xs:80)\n==12479==    by 0x48488E3: XS_Devel__LeakTrace_hook_runops (LeakTrace.xs:126)\n==12479==    by 0x32F0A2: Perl_pp_entersub (pp_hot.c:5237)\n==12479==    by 0x2C0C50: Perl_runops_debug (dump.c:2537)\n==12479==    by 0x1A2FD9: Perl_call_sv (perl.c:3043)\n==12479==    by 0x1ACEE3: Perl_call_list (perl.c:5084)\n==12479==    by 0x181233: S_process_special_blocks (op.c:10471)\n==12479==    by 0x180989: Perl_newATTRSUB_x (op.c:10397)\n==12479==    by 0x220D6C: Perl_yyparse (perly.y:295)\n==12479==    by 0x3EE46B: S_doeval_compile (pp_ctl.c:3502)\n==12479==    by 0x3F4F87: S_require_file (pp_ctl.c:4322)\n==12479== \n==12479== LEAK SUMMARY:\n==12479==    definitely lost: 16 bytes in 1 blocks\n==12479==    indirectly lost: 0 bytes in 0 blocks\n==12479==      possibly lost: 0 bytes in 0 blocks\n==12479==    still reachable: 105,380 bytes in 25 blocks\n==12479==         suppressed: 0 bytes in 0 blocks\n==12479== Reachable blocks (those to which a pointer was found) are not shown.\n==12479== To see them, rerun with: --leak-check=full --show-leak-kinds=all\n==12479== \n==12479== For counts of detected and suppressed errors, rerun with: -v\n==12479== ERROR SUMMARY: 1 errors from 1 contexts (suppressed: 0 from 0)\n</code></pre>\n\n<p>so 16 bytes are lost. However, if I comment out the line <code>use Devel::LeakTrace</code> in <code>p.pl</code> and run <code>valgrind</code> again, the output is:</p>\n\n<pre><code>==12880== Memcheck, a memory error detector\n==12880== Copyright (C) 2002-2017, and GNU GPL'd, by Julian Seward et al.\n==12880== Using Valgrind-3.14.0 and LibVEX; rerun with -h for copyright info\n==12880== Command: perl p.pl\n==12880== \n==12880== \n==12880== HEAP SUMMARY:\n==12880==     in use at exit: 0 bytes in 0 blocks\n==12880==   total heap usage: 1,770 allocs, 1,770 frees, 244,188 bytes allocated\n==12880== \n==12880== All heap blocks were freed -- no leaks are possible\n==12880== \n==12880== For counts of detected and suppressed errors, rerun with: -v\n==12880== ERROR SUMMARY: 0 errors from 0 contexts (suppressed: 0 from 0)\n</code></pre>\n\n<p>So the question is: Why is <a href=\"https://metacpan.org/pod/Devel::LeakTrace\" rel=\"noreferrer\"><code>Devel::LeakTrace</code></a> causing a memory leak?</p>\n"}, {"tags": ["perl", "cpan", "inotify", "cpanm"], "comments": [{"owner": {"reputation": 32176, "user_id": 2173773, "user_type": "registered", "accept_rate": 86, "profile_image": "https://i.stack.imgur.com/M8yh6.jpg?s=128&g=1", "display_name": "H&#229;kon H&#230;gland", "link": "https://stackoverflow.com/users/2173773/h%c3%a5kon-h%c3%a6gland"}, "edited": false, "score": 0, "creation_date": 1562917161, "post_id": 57001851, "comment_id": 100537653, "body": "Yes you could for example create a local patch that you apply to <code>Inotify2.pm</code> before you run <code>perl Makefile.PL</code>. Please also <a href=\"https://rt.cpan.org/Dist/Display.html?Name=Linux-Inotify2\" rel=\"nofollow noreferrer\">notify the author</a> of the module about this issue, maybe they will provide a fix in the future"}, {"owner": {"reputation": 78982, "user_id": 1848654, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/84180c0f3c9c04f8b8f0613fc0129dac?s=128&d=identicon&r=PG", "display_name": "melpomene", "link": "https://stackoverflow.com/users/1848654/melpomene"}, "edited": false, "score": 0, "creation_date": 1562917201, "post_id": 57001851, "comment_id": 100537671, "body": "&quot;<i>make install using source code is working fine</i>&quot; - then it is already installed."}, {"owner": {"reputation": 793701, "user_id": 19068, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/1d2d3229ed1961d2bd81853242493247?s=128&d=identicon&r=PG", "display_name": "Quentin", "link": "https://stackoverflow.com/users/19068/quentin"}, "edited": false, "score": 0, "creation_date": 1562924584, "post_id": 57001851, "comment_id": 100541597, "body": "Fedora Core 6\treached end of life in 2007! It hasn&#39;t had a security update in over a decade! Upgrade the OS as soon as possible!"}], "answers": [{"comments": [{"owner": {"reputation": 8718, "user_id": 5848200, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/a8072aaf76dcb4fe5027964252f16382?s=128&d=identicon&r=PG", "display_name": "Grinnz", "link": "https://stackoverflow.com/users/5848200/grinnz"}, "edited": false, "score": 0, "creation_date": 1562948389, "post_id": 57004257, "comment_id": 100554213, "body": "<code>cpanm --look Linux::Inotify2</code> also may be useful as the first steps here."}], "tags": [], "owner": {"reputation": 320771, "user_id": 589924, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/b2cf53d5a3d25f95c0db4e025aed4153?s=128&d=identicon&r=PG", "display_name": "ikegami", "link": "https://stackoverflow.com/users/589924/ikegami"}, "is_accepted": false, "score": 1, "last_activity_date": 1562924125, "creation_date": 1562924125, "answer_id": 57004257, "question_id": 57001851, "link": "https://stackoverflow.com/questions/57001851/how-to-cpan-install-from-a-local-source-linuxinotify2/57004257#57004257", "title": "How to cpan install from a local source [Linux::Inotify2]", "body": "<pre class=\"lang-sh prettyprint-override\"><code>wget https://cpan.metacpan.org/authors/id/M/ML/MLEHMANN/Linux-Inotify2-2.1.tar.gz\ntar xzf Linux-Inotify2-2.1.tar.gz\ncd Linux-Inotify2-2.1\n...apply change...\nperl Makefile.PL\nmake test\nmake install\n</code></pre>\n\n<p>It sounds like you've already done this, so you've already installed it. <code>cpan</code> won't replace it (if it sees the installed version (which it will, unless you used the wrong <code>perl</code>, or unless you used env var <code>PERL_MB_OPT</code> to tell ExtUtils::MakeMaker to install the module in a non-standard location and didn't tell CPAN via env var <code>PERL5LIB</code>)).</p>\n"}, {"tags": [], "owner": {"reputation": 38072, "user_id": 46395, "user_type": "registered", "accept_rate": 71, "profile_image": "https://www.gravatar.com/avatar/5ce828f20abb195ef5d971205ee36c27?s=128&d=identicon&r=PG", "display_name": "daxim", "link": "https://stackoverflow.com/users/46395/daxim"}, "is_accepted": false, "score": 0, "last_activity_date": 1562928826, "last_edit_date": 1562928826, "creation_date": 1562924327, "answer_id": 57004319, "question_id": 57001851, "link": "https://stackoverflow.com/questions/57001851/how-to-cpan-install-from-a-local-source-linuxinotify2/57004319#57004319", "title": "How to cpan install from a local source [Linux::Inotify2]", "body": "<blockquote>\n  <p>install using CPAN local source?</p>\n</blockquote>\n\n<p><code>cpanm</code> supports installing from a local tarball (containing the patched sources), see <a href=\"http://p3rl.org/cpanm#SYNOPSIS\" rel=\"nofollow noreferrer\">synopsis</a>:</p>\n\n<pre><code>cpanm ~/dists/MyCompany-Enterprise-1.00.tar.gz   # install from a local file\n</code></pre>\n"}], "owner": {"reputation": 29, "user_id": 883996, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/36d0100905b9ff9e568318ad66c995e5?s=128&d=identicon&r=PG", "display_name": "Sabin Cheruvattil", "link": "https://stackoverflow.com/users/883996/sabin-cheruvattil"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 156, "favorite_count": 0, "answer_count": 2, "score": 0, "last_activity_date": 1562928826, "creation_date": 1562915437, "question_id": 57001851, "link": "https://stackoverflow.com/questions/57001851/how-to-cpan-install-from-a-local-source-linuxinotify2", "title": "How to cpan install from a local source [Linux::Inotify2]", "body": "<p>Trying to install Linux::Inotify on Fedora Core 6 x86 machine which ends up in failure.</p>\n\n<p>Looks like the kernel which is below 2.6.36 doesn't support IN_EXCL_UNLINK. This causes the issue in installation. So I have modified the source code and tried to install. But cpan again replaces it with online repo.</p>\n\n<pre><code>Running make test\nPERL_DL_NONLAZY=1 /usr/bin/perl \"-MExtUtils::Command::MM\" \"-e\" \"test_harness(0, 'blib/lib', 'blib/arch')\" t/*.t\nt/00_load.t ..... Undefined subroutine &amp;Linux::Inotify2::IN_EXCL_UNLINK called at /root/.cpan/build/Linux-Inotify2-2.1/blib/lib/Linux/Inotify2.pm line 431.\nCompilation failed in require at t/00_load.t line 3.\nBEGIN failed--compilation aborted at t/00_load.t line 3.\nt/00_load.t ..... Dubious, test returned 255 (wstat 65280, 0xff00)\nFailed 1/1 subtests\nt/01_inotify.t .. Undefined subroutine &amp;Linux::Inotify2::IN_EXCL_UNLINK called at /root/.cpan/build/Linux-Inotify2-2.1/blib/lib/Linux/Inotify2.pm line 431.\nCompilation failed in require at t/01_inotify.t line 2.\nBEGIN failed--compilation aborted at t/01_inotify.t line 2.\n# Looks like your test exited with 255 before it could output anything.\nt/01_inotify.t .. Dubious, test returned 255 (wstat 65280, 0xff00)\nFailed 5/5 subtests\n\nTest Summary Report\n-------------------\nt/00_load.t   (Wstat: 65280 Tests: 1 Failed: 1)\n  Failed test:  1\n  Non-zero exit status: 255\nt/01_inotify.t (Wstat: 65280 Tests: 0 Failed: 0)\n  Non-zero exit status: 255\n  Parse errors: Bad plan.  You planned 5 tests but ran 0.\nFiles=2, Tests=1,  0 wallclock secs ( 0.01 usr  0.05 sys +  0.05 cusr  0.08 csys =  0.19 CPU)\nResult: FAIL\nFailed 2/2 test programs. 1/1 subtests failed.\nmake: *** [test_dynamic] Error 255\n  /usr/bin/make test -- NOT OK\nRunning make install\n  make test had returned bad status, won't install without force\n</code></pre>\n\n<p>Is there a way to fix this one or install using CPAN local source?</p>\n\n<p>Note: make install using source code is working fine after editing the source code.</p>\n"}, {"tags": ["regex", "perl"], "comments": [{"owner": {"user_type": "does_not_exist", "display_name": "user557597"}, "edited": false, "score": 1, "creation_date": 1562895395, "post_id": 56998499, "comment_id": 100531853, "body": "Usually (all the time), if you have a <code>*?</code> at the last part of your regex, the engine takes a dump and quits matching. In your case, you don&#39;t need anything but a <code>*</code>."}], "answers": [{"comments": [{"owner": {"reputation": 11, "user_id": 11772741, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/f9352ed2c6c51498cf0fda7cc790679b?s=128&d=identicon&r=PG&f=1", "display_name": "SoapBox", "link": "https://stackoverflow.com/users/11772741/soapbox"}, "edited": false, "score": 1, "creation_date": 1563902971, "post_id": 56998671, "comment_id": 100852178, "body": "Thank you so much especially for the explanation. It worked!"}], "tags": [], "owner": {"reputation": 1, "user_id": 6553328, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/omcAX.jpg?s=128&g=1", "display_name": "Emma", "link": "https://stackoverflow.com/users/6553328/emma"}, "is_accepted": false, "score": 1, "last_activity_date": 1562889415, "creation_date": 1562889415, "answer_id": 56998671, "question_id": 56998499, "link": "https://stackoverflow.com/questions/56998499/matching-multiple-letters-and-special-characters-in-regex/56998671#56998671", "title": "Matching multiple letters and special characters in regex", "body": "<p>My guess is that you want to make sure if you have an <code>ADJ</code> in the string, which if so, maybe we could simplify our expression to something similar to:</p>\n\n<pre><code>([A-Z\u00b7+#_]*)\\bADJ\\b([A-Z\u00b7+#_]*)\n</code></pre>\n\n<p>The expression is explained on the top right panel of <a href=\"https://regex101.com/r/dT1FsF/1/\" rel=\"nofollow noreferrer\">this demo</a>, if you wish to explore/simplify/modify it, and in <a href=\"https://regex101.com/r/dT1FsF/1/debugger\" rel=\"nofollow noreferrer\">this link</a>, you can watch how it would match against some sample inputs step by step, if you like. </p>\n"}, {"tags": [], "owner": {"reputation": 61, "user_id": 11772964, "user_type": "registered", "profile_image": "https://lh6.googleusercontent.com/-XEotRBTqwSc/AAAAAAAAAAI/AAAAAAAALZ4/V-jGawgic9A/photo.jpg?sz=128", "display_name": "TheYeti", "link": "https://stackoverflow.com/users/11772964/theyeti"}, "is_accepted": false, "score": 1, "last_activity_date": 1563248392, "last_edit_date": 1563248392, "creation_date": 1562893485, "answer_id": 56999008, "question_id": 56998499, "link": "https://stackoverflow.com/questions/56998499/matching-multiple-letters-and-special-characters-in-regex/56999008#56999008", "title": "Matching multiple letters and special characters in regex", "body": "<p>Removing the <code>?</code> at the end would match the whole strings, </p>\n\n<pre><code>/[A-Z\u00b7\\+#_]*?[\u00b7\\+]ADJ[\u00b7\\+][A-Z_\u00b7\\+#]*/g\n</code></pre>\n\n<p>I am not entirely sure why you needed a <code>?</code> in a <code>*</code>. </p>\n"}, {"tags": [], "owner": {"reputation": 53041, "user_id": 4653379, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/b3953dbedd0dabff5cbc3db9b0835b14?s=128&d=identicon&r=PG&f=1", "display_name": "zdim", "link": "https://stackoverflow.com/users/4653379/zdim"}, "is_accepted": false, "score": 2, "last_activity_date": 1562948942, "last_edit_date": 1562948942, "creation_date": 1562901074, "answer_id": 56999720, "question_id": 56998499, "link": "https://stackoverflow.com/questions/56998499/matching-multiple-letters-and-special-characters-in-regex/56999720#56999720", "title": "Matching multiple letters and special characters in regex", "body": "<p>That <code>*?</code> quantifier after the <code>+ADJ+</code> phrase is satisfied with the empty string right after it, since the <code>?</code> makes the quantifier before it match <a href=\"https://perldoc.perl.org/perlre.html#Quantifiers\" rel=\"nofollow noreferrer\">\"<em>the minimum number of times possible</em>\"</a> and for <code>*</code> that is zero times. </p>\n\n<p>So drop the <code>?</code>, which also has no purpose for the rest of the line</p>\n\n<pre><code>perl -wE'$_=q(-XADJX-JJ+ADJ-REST-); \n    ($before, $after) = /(.*?)[+\\-]ADJ[+\\-](.*)/; \n    say for $before,$after'\n</code></pre>\n"}], "owner": {"reputation": 11, "user_id": 11772741, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/f9352ed2c6c51498cf0fda7cc790679b?s=128&d=identicon&r=PG&f=1", "display_name": "SoapBox", "link": "https://stackoverflow.com/users/11772741/soapbox"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 1338, "favorite_count": 1, "answer_count": 3, "score": 1, "last_activity_date": 1563248392, "creation_date": 1562887666, "question_id": 56998499, "link": "https://stackoverflow.com/questions/56998499/matching-multiple-letters-and-special-characters-in-regex", "title": "Matching multiple letters and special characters in regex", "body": "<p>I am trying to catch strings around the acronym ADJ. The strings look like this:</p>\n\n<pre><code>\u00b7NOM\u00b7JJ\u00b7ADJ+CASE_DEF_GEN\n\u00b7NOM\u00b7JJ\u00b7ADJ+CASE_DEF_ACC\n\u00b7NOM\u00b7JJ\u00b7ADJ+CASE_INDEF_GEN\n\u00b7NOM\u00b7DT+JJ\u00b7DET+ADJ+NSUFF_FEM_SG+CASE_DEF_GEN\n\u00b7NOM\u00b7JJ\u00b7ADJ+CASE_INDEF_GEN\n\u00b7NOM\u00b7JJ\u00b7ADJ+NSUFF_FEM_SG+CASE_INDEF_GEN\n\u00b7NOM\u00b7DT+JJ\u00b7DET+ADJ+NSUFF_FEM_SG+CASE_DEF_ACC\n</code></pre>\n\n<p>So far I have this:\n<code>/[A-Z\u00b7\\+#_]*?[\u00b7\\+]ADJ[\u00b7\\+][A-Z_\u00b7\\+#]*?/g</code></p>\n\n<p>But it only matches from the beginning of the strings until \"ADJ+\" <code>\u00b7NOM\u00b7DT+JJ\u00b7DET+ADJ+</code>. </p>\n\n<p>Since the rest of the strings after ADJ have the same composition of the beginning of the strings before ADJ, I thought this <code>/[A-Z\u00b7\\+#_]*?[\u00b7\\+]/g</code> should work, but it doesn't.\nHow do I get it to match the rest of the string?</p>\n"}, {"tags": ["perl", "substr"], "answers": [{"comments": [{"owner": {"reputation": 78982, "user_id": 1848654, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/84180c0f3c9c04f8b8f0613fc0129dac?s=128&d=identicon&r=PG", "display_name": "melpomene", "link": "https://stackoverflow.com/users/1848654/melpomene"}, "edited": false, "score": 0, "creation_date": 1562904670, "post_id": 56998644, "comment_id": 100533344, "body": "If this is in the context of a one-liner using <code>-n</code> or <code>-p</code>, the <code>-l</code> option is also useful."}], "tags": [], "owner": {"reputation": 320771, "user_id": 589924, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/b2cf53d5a3d25f95c0db4e025aed4153?s=128&d=identicon&r=PG", "display_name": "ikegami", "link": "https://stackoverflow.com/users/589924/ikegami"}, "is_accepted": true, "score": 2, "last_activity_date": 1562889143, "creation_date": 1562889143, "answer_id": 56998644, "question_id": 56998493, "link": "https://stackoverflow.com/questions/56998493/perl-adding-cr-at-end-of-substr/56998644#56998644", "title": "Perl adding CR at end of substr()", "body": "<p>I think you mean Line Feed (<code>0A</code>) rather than Carriage Return (<code>0D</code>).</p>\n\n<p>The solution is to remove the existing line feed before truncating the line, and re-adding it afterwards.</p>\n\n<pre><code>chomp;\n$_ = substr($_, 0, 12);\nsay;\n</code></pre>\n\n<p>You could also use concatenation (<code>$_ .= \"\\n\";</code>), of course.</p>\n"}, {"comments": [{"owner": {"reputation": 87649, "user_id": 17389, "user_type": "registered", "accept_rate": 38, "profile_image": "https://www.gravatar.com/avatar/cd06d1314817ce946ab796af8750b56a?s=128&d=identicon&r=PG", "display_name": "ysth", "link": "https://stackoverflow.com/users/17389/ysth"}, "edited": false, "score": 0, "creation_date": 1562895022, "post_id": 56998719, "comment_id": 100531795, "body": "or <code>s&#47;^.{12}\\K.*&#47;&#47;</code>"}, {"owner": {"reputation": 53041, "user_id": 4653379, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/b3953dbedd0dabff5cbc3db9b0835b14?s=128&d=identicon&r=PG&f=1", "display_name": "zdim", "link": "https://stackoverflow.com/users/4653379/zdim"}, "reply_to_user": {"reputation": 87649, "user_id": 17389, "user_type": "registered", "accept_rate": 38, "profile_image": "https://www.gravatar.com/avatar/cd06d1314817ce946ab796af8750b56a?s=128&d=identicon&r=PG", "display_name": "ysth", "link": "https://stackoverflow.com/users/17389/ysth"}, "edited": false, "score": 0, "creation_date": 1562895343, "post_id": 56998719, "comment_id": 100531845, "body": "@ysth Sure, added, thank you  (don&#39;t need the anchor though .. ?)"}, {"owner": {"reputation": 87649, "user_id": 17389, "user_type": "registered", "accept_rate": 38, "profile_image": "https://www.gravatar.com/avatar/cd06d1314817ce946ab796af8750b56a?s=128&d=identicon&r=PG", "display_name": "ysth", "link": "https://stackoverflow.com/users/17389/ysth"}, "edited": false, "score": 0, "creation_date": 1562897610, "post_id": 56998719, "comment_id": 100532187, "body": "could make a difference if there are characters after a newline"}, {"owner": {"reputation": 53041, "user_id": 4653379, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/b3953dbedd0dabff5cbc3db9b0835b14?s=128&d=identicon&r=PG&f=1", "display_name": "zdim", "link": "https://stackoverflow.com/users/4653379/zdim"}, "reply_to_user": {"reputation": 87649, "user_id": 17389, "user_type": "registered", "accept_rate": 38, "profile_image": "https://www.gravatar.com/avatar/cd06d1314817ce946ab796af8750b56a?s=128&d=identicon&r=PG", "display_name": "ysth", "link": "https://stackoverflow.com/users/17389/ysth"}, "edited": false, "score": 0, "creation_date": 1562898208, "post_id": 56998719, "comment_id": 100532285, "body": "@ysth Ah, that; I assumed that we have &quot;normal&quot; lines. added a comment"}, {"owner": {"reputation": 53041, "user_id": 4653379, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/b3953dbedd0dabff5cbc3db9b0835b14?s=128&d=identicon&r=PG&f=1", "display_name": "zdim", "link": "https://stackoverflow.com/users/4653379/zdim"}, "reply_to_user": {"reputation": 320771, "user_id": 589924, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/b2cf53d5a3d25f95c0db4e025aed4153?s=128&d=identicon&r=PG", "display_name": "ikegami", "link": "https://stackoverflow.com/users/589924/ikegami"}, "edited": false, "score": 0, "creation_date": 1562924753, "post_id": 56998719, "comment_id": 100541690, "body": "@ikegami Right, I forgot that they gave us that information. Updated, thank you"}], "tags": [], "owner": {"reputation": 53041, "user_id": 4653379, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/b3953dbedd0dabff5cbc3db9b0835b14?s=128&d=identicon&r=PG&f=1", "display_name": "zdim", "link": "https://stackoverflow.com/users/4653379/zdim"}, "is_accepted": false, "score": 2, "last_activity_date": 1562951789, "last_edit_date": 1562951789, "creation_date": 1562889881, "answer_id": 56998719, "question_id": 56998493, "link": "https://stackoverflow.com/questions/56998493/perl-adding-cr-at-end-of-substr/56998719#56998719", "title": "Perl adding CR at end of substr()", "body": "<p>One way</p>\n\n<pre><code>$line =~ s/(.{12}).*/$1/;\n</code></pre>\n\n<p>or, better</p>\n\n<pre><code>$line =~ s/.{12}\\K.*//;\n</code></pre>\n\n<p>where <code>\\K</code> drops all previous matches; see \"<em>Lookaround Assertions</em>\" <a href=\"https://perldoc.perl.org/perlre.html#Extended-Patterns\" rel=\"nofollow noreferrer\">in Extended Patterns in perlre</a>.  The newline remains since <code>.</code> doesn't match it.  This assumes that the linefeed is indeed always the last thing on the \"line.\" </p>\n\n<p>However, I find it simpler to strip those linefeeds anyway, and work with yours strings; then add a newline when you need it, presumably to print.</p>\n\n<hr>\n\n<p>Since the line is in <code>$_</code> in the OP the above is really</p>\n\n<pre><code>s/.{12}\\K.*//;\n</code></pre>\n\n<p>or, if we wanted to also assign the (truncated) line to a lexical at this opportunity</p>\n\n<pre><code>my $line = s/.{12}\\K.*//r;\n</code></pre>\n\n<p>where the <code>/r</code> modifier makes it return the changed string. Thanks to ysth and ikegami for comments.</p>\n\n<hr>\n\n<p>This post originally made a statement that \"<em>Starting the regex engine is  likely more expensive than <code>substr</code> + append</em>\", and here is an update (reversal) to that. </p>\n\n<p>My benchmark shows the regex being clearly faster, when comparing</p>\n\n<pre><code>$_ = substr($_, 0, 12) . \"\\n\";\n</code></pre>\n\n<p>with</p>\n\n<pre><code>s/.{12}\\K.*//;\n</code></pre>\n\n<p>The exact benchmark result varies on details, as this is such a quick operation that overhead affects the benchmark. But I find regex faster always (well) upwards of 50%.</p>\n"}, {"comments": [{"owner": {"reputation": 61, "user_id": 11772964, "user_type": "registered", "profile_image": "https://lh6.googleusercontent.com/-XEotRBTqwSc/AAAAAAAAAAI/AAAAAAAALZ4/V-jGawgic9A/photo.jpg?sz=128", "display_name": "TheYeti", "link": "https://stackoverflow.com/users/11772964/theyeti"}, "reply_to_user": {"reputation": 320771, "user_id": 589924, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/b2cf53d5a3d25f95c0db4e025aed4153?s=128&d=identicon&r=PG", "display_name": "ikegami", "link": "https://stackoverflow.com/users/589924/ikegami"}, "edited": false, "score": 0, "creation_date": 1562947715, "post_id": 56999052, "comment_id": 100553934, "body": "How come it will never be true? The poster said the string is being truncated that means the original string in $_ can sometimes be greater than 12. So after being truncated in his code  <code>$Line=substr($_,0,12);</code>  It checks the length of the original string if it is greater than 12 then I put back/concatenate new line."}, {"owner": {"reputation": 320771, "user_id": 589924, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/b2cf53d5a3d25f95c0db4e025aed4153?s=128&d=identicon&r=PG", "display_name": "ikegami", "link": "https://stackoverflow.com/users/589924/ikegami"}, "edited": false, "score": 0, "creation_date": 1562947772, "post_id": 56999052, "comment_id": 100553950, "body": "I was mistaken."}], "tags": [], "owner": {"reputation": 61, "user_id": 11772964, "user_type": "registered", "profile_image": "https://lh6.googleusercontent.com/-XEotRBTqwSc/AAAAAAAAAAI/AAAAAAAALZ4/V-jGawgic9A/photo.jpg?sz=128", "display_name": "TheYeti", "link": "https://stackoverflow.com/users/11772964/theyeti"}, "is_accepted": false, "score": 1, "last_activity_date": 1562947796, "last_edit_date": 1562947796, "creation_date": 1562893930, "answer_id": 56999052, "question_id": 56998493, "link": "https://stackoverflow.com/questions/56998493/perl-adding-cr-at-end-of-substr/56999052#56999052", "title": "Perl adding CR at end of substr()", "body": "<p><code>$Line=substr($_,0,12)</code> with this  code truncation will happen if $_ length is greater than 12. If the <code>$_</code> value came from a line read, it usually has a newline <code>\\n</code> at then end. When truncation happens this of course will be removed. What you can do is to manually add it with: </p>\n\n<pre><code>if (length $_ &gt; 12) {$Line .= \"\\n\";}\n</code></pre>\n\n<p>or you can do <code>chomp</code> before truncating the string</p>\n\n<pre><code>chomp;\n$Line  = substr($_,0,12);\n$Line .= \"\\n\";\n</code></pre>\n"}], "owner": {"reputation": 1418, "user_id": 2200539, "user_type": "registered", "accept_rate": 38, "profile_image": "https://www.gravatar.com/avatar/4d40b9e95262cf1e28d10442ddc7db42?s=128&d=identicon&r=PG", "display_name": "Gert Gottschalk", "link": "https://stackoverflow.com/users/2200539/gert-gottschalk"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 99, "favorite_count": 0, "accepted_answer_id": 56998644, "answer_count": 3, "score": 0, "last_activity_date": 1562951789, "creation_date": 1562887627, "question_id": 56998493, "link": "https://stackoverflow.com/questions/56998493/perl-adding-cr-at-end-of-substr", "title": "Perl adding CR at end of substr()", "body": "<p>I am doing this line to limit the size of text lines. \n<code>$Line=substr($_,0,12)</code>. But if truncation happened the returned strings lack the CR at the end. Without truncation all is OK. Thus when I print my lines the truncated ones don't have a CR and the line continues and gets garbled. Is there anything built-in to do this automatically or will it require extra if-clause to fix this?\nThanks Gert.</p>\n"}, {"tags": ["xml", "perl"], "comments": [{"owner": {"reputation": 1584, "user_id": 4023764, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/nE0GW.jpg?s=128&g=1", "display_name": "eskwayrd", "link": "https://stackoverflow.com/users/4023764/eskwayrd"}, "edited": false, "score": 2, "creation_date": 1562862666, "post_id": 56993628, "comment_id": 100521631, "body": "Can you include the code so that we can see what might be failing?"}, {"owner": {"reputation": 110113, "user_id": 168657, "user_type": "registered", "accept_rate": 92, "profile_image": "https://www.gravatar.com/avatar/f14e7610fca39322ebbf23530def15f8?s=128&d=identicon&r=PG", "display_name": "mob", "link": "https://stackoverflow.com/users/168657/mob"}, "edited": false, "score": 1, "creation_date": 1562862860, "post_id": 56993628, "comment_id": 100521719, "body": "Inspect <code>ref($xml)</code> to see what type of reference it is"}, {"owner": {"reputation": 198290, "user_id": 1030675, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/957956ce51706d03f19a4dc85a767bb1?s=128&d=identicon&r=PG", "display_name": "choroba", "link": "https://stackoverflow.com/users/1030675/choroba"}, "edited": false, "score": 2, "creation_date": 1562862881, "post_id": 56993628, "comment_id": 100521728, "body": "Are you using <a href=\"http://p3rl.org/XML::Simple\" rel=\"nofollow noreferrer\">XML::Simple</a>?"}, {"owner": {"reputation": 320771, "user_id": 589924, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/b2cf53d5a3d25f95c0db4e025aed4153?s=128&d=identicon&r=PG", "display_name": "ikegami", "link": "https://stackoverflow.com/users/589924/ikegami"}, "edited": false, "score": 1, "creation_date": 1562871989, "post_id": 56993628, "comment_id": 100525763, "body": "Some unspecified code is expecting a reference to a hash (perhaps among other things), but it&#39;s getting something else it doesn&#39;t expect instead. We can&#39;t help you more without more."}, {"owner": {"reputation": 1, "user_id": 8636078, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/2560ae43fc16502b584c0a2453add0a1?s=128&d=identicon&r=PG&f=1", "display_name": "FrankG", "link": "https://stackoverflow.com/users/8636078/frankg"}, "edited": false, "score": 0, "creation_date": 1562888117, "post_id": 56993628, "comment_id": 100530646, "body": "when I print $xml this is the output; &quot;XML: HASH(0x3ba8fa8)&quot;"}, {"owner": {"reputation": 1, "user_id": 8636078, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/2560ae43fc16502b584c0a2453add0a1?s=128&d=identicon&r=PG&f=1", "display_name": "FrankG", "link": "https://stackoverflow.com/users/8636078/frankg"}, "edited": false, "score": 0, "creation_date": 1562888169, "post_id": 56993628, "comment_id": 100530655, "body": "Here are all my &#39;use&#39; statements:  use strict; use URI; use LWP::Simple; use Net::Amazon; use XML::Simple;"}, {"owner": {"reputation": 1, "user_id": 8636078, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/2560ae43fc16502b584c0a2453add0a1?s=128&d=identicon&r=PG&f=1", "display_name": "FrankG", "link": "https://stackoverflow.com/users/8636078/frankg"}, "edited": false, "score": 0, "creation_date": 1562888304, "post_id": 56993628, "comment_id": 100530667, "body": "How can I post the code? Its to big to fit in a comment."}, {"owner": {"reputation": 1, "user_id": 8636078, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/2560ae43fc16502b584c0a2453add0a1?s=128&d=identicon&r=PG&f=1", "display_name": "FrankG", "link": "https://stackoverflow.com/users/8636078/frankg"}, "edited": false, "score": 0, "creation_date": 1562889079, "post_id": 56993628, "comment_id": 100530813, "body": "I think I was able to post the code after I edited the original question to add the code to the end of the question."}, {"owner": {"reputation": 53041, "user_id": 4653379, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/b3953dbedd0dabff5cbc3db9b0835b14?s=128&d=identicon&r=PG&f=1", "display_name": "zdim", "link": "https://stackoverflow.com/users/4653379/zdim"}, "edited": false, "score": 0, "creation_date": 1562906841, "post_id": 56993628, "comment_id": 100533815, "body": "The &quot;<i>line 70</i>&quot; of what you posted, where you say the error is, is <code>my @products; #...</code>.  That clearly is not in error. On the other hand, there are many other places where variables are used as hashrefs so which could be in error.   We can&#39;t really help you out if you don&#39;t do your part."}, {"owner": {"reputation": 38072, "user_id": 46395, "user_type": "registered", "accept_rate": 71, "profile_image": "https://www.gravatar.com/avatar/5ce828f20abb195ef5d971205ee36c27?s=128&d=identicon&r=PG", "display_name": "daxim", "link": "https://stackoverflow.com/users/46395/daxim"}, "edited": false, "score": 0, "creation_date": 1562930931, "post_id": 56993628, "comment_id": 100544888, "body": "See &lt;<a href=\"http://p3rl.org/XML::Simple#STATUS-OF-THIS-MODULE\" rel=\"nofollow noreferrer\">p3rl.org/XML::Simple#STATUS-OF-THIS-MODULE</a>&gt; and switch to LibXML to save yourself further pain. But if you insist, then at least apply &lt;<a href=\"http://p3rl.org/XML::Simple#STRICT-MODE\" rel=\"nofollow noreferrer\">p3rl.org/XML::Simple#STRICT-MODE</a>&gt;."}, {"owner": {"reputation": 1, "user_id": 8636078, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/2560ae43fc16502b584c0a2453add0a1?s=128&d=identicon&r=PG&f=1", "display_name": "FrankG", "link": "https://stackoverflow.com/users/8636078/frankg"}, "edited": false, "score": 0, "creation_date": 1562956214, "post_id": 56993628, "comment_id": 100557119, "body": "zdim,I am sorry that I was not specific enough. That this the block where the error occurs. Right now the error occurs at line 65 in the my product block;&quot; return ( \\@related, \\@products );&quot;"}, {"owner": {"reputation": 1, "user_id": 8636078, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/2560ae43fc16502b584c0a2453add0a1?s=128&d=identicon&r=PG&f=1", "display_name": "FrankG", "link": "https://stackoverflow.com/users/8636078/frankg"}, "edited": false, "score": 0, "creation_date": 1562956662, "post_id": 56993628, "comment_id": 100557279, "body": "Here is the output from the code I posted:  Not a HASH reference at C:\\Users\\Bonnie\\My Documents\\Alexa2.pl line 65 (#1)     (F) Perl was trying to evaluate a reference to a hash value, but found a     reference to something else instead.  You can use the ref() function to     find out what kind of ref it really was.  See perlref.  Uncaught exception from user code:         Not a HASH reference at C:\\Users\\Bonnie\\My Documents\\Alexa2.pl line 65.         main::handle_xml(&quot;&lt;?xml version=\\&quot;1.0\\&quot; encoding=\\&quot;UTF-8\\&quot;?&gt;\\x{d}\\x{a}\\x {d}\\x{a}&lt;!-- Need more Alex&quot;...) called at .........line 83"}, {"owner": {"reputation": 53041, "user_id": 4653379, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/b3953dbedd0dabff5cbc3db9b0835b14?s=128&d=identicon&r=PG&f=1", "display_name": "zdim", "link": "https://stackoverflow.com/users/4653379/zdim"}, "edited": false, "score": 0, "creation_date": 1562996633, "post_id": 56993628, "comment_id": 100564409, "body": "So at line <code>return ( \\@related, \\@products );</code> ?  No, can&#39;t have a &quot;<i>Not a HASH reference</i>&quot; error for that.  Example:  code like <code>$var-&gt;{...}</code> treats <code>$var</code> as a hash reference and if what is in <code>$var</code> in fact <i>isn&#39;t</i> that then you&#39;d have that error. So go though the code, print out values of variables etc to find out where things are different than what you expect.  (I don&#39;t understand what errors you are getting from this description in the above comments.  You should edit the question to add this information, and be careful how you do it so that it is clear.)"}, {"owner": {"reputation": 53041, "user_id": 4653379, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/b3953dbedd0dabff5cbc3db9b0835b14?s=128&d=identicon&r=PG&f=1", "display_name": "zdim", "link": "https://stackoverflow.com/users/4653379/zdim"}, "edited": false, "score": 0, "creation_date": 1562996909, "post_id": 56993628, "comment_id": 100564451, "body": "If you want to address a certain user -- like in the above message addressed to me -- prepend their name with &quot;at&quot;, so @zdim, and they get notified of the comment.  Otherwise they won&#39;t know (people often don&#39;t return to &quot;check&quot; these pages after they leave a comment, and much less so the next day)."}], "answers": [{"tags": [], "owner": {"reputation": 62184, "user_id": 7231, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/81b76985f3985e35492e25880493d045?s=128&d=identicon&r=PG", "display_name": "Dave Cross", "link": "https://stackoverflow.com/users/7231/dave-cross"}, "is_accepted": false, "score": 1, "last_activity_date": 1563182893, "creation_date": 1563182893, "answer_id": 57036854, "question_id": 56993628, "link": "https://stackoverflow.com/questions/56993628/not-a-hash-reference/57036854#57036854", "title": "NOT a HASH reference", "body": "<p>You're using <a href=\"https://metacpan.org/pod/XML::Simple\" rel=\"nofollow noreferrer\">XML::Simple</a>. That is a mistake. Even the documentation for the module agrees with me:</p>\n\n<blockquote>\n  <p><strong>STATUS OF THIS MODULE</strong></p>\n  \n  <p>The use of this module in new code is strongly\n  discouraged. Other modules are available which provide more\n  straightforward and consistent interfaces. In particular, <a href=\"https://metacpan.org/pod/XML::LibXML\" rel=\"nofollow noreferrer\">XML::LibXML</a>\n  is highly recommended and you can refer to <a href=\"http://grantm.github.io/perl-libxml-by-example/\" rel=\"nofollow noreferrer\">Perl XML::LibXML by Example</a>\n  for a tutorial introduction.</p>\n  \n  <p><a href=\"https://metacpan.org/pod/XML::Twig\" rel=\"nofollow noreferrer\">XML::Twig</a> is another excellent alternative.</p>\n  \n  <p>The major problems with this module are the large number of options\n  (some of which have unfortunate defaults) and the arbitrary ways in\n  which these options interact - often producing unexpected results.</p>\n  \n  <p>Patches with bug fixes and documentation fixes are welcome, but new\n  features are unlikely to be added.</p>\n</blockquote>\n\n<p>Without seeing your XML it's hard to be sure, but this is what I think has happened. XML::Simple is famously inconsistent in the data structures that it returns. A small change in the input document can have major ramifications for the data structure you get back. It's very common for what was a hash reference to turn into an array reference on a very similar document.</p>\n\n<p>My recommendation is to stop using XML::Simple. Personally, I'd replace it with XML::LibXML.</p>\n"}], "owner": {"reputation": 1, "user_id": 8636078, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/2560ae43fc16502b584c0a2453add0a1?s=128&d=identicon&r=PG&f=1", "display_name": "FrankG", "link": "https://stackoverflow.com/users/8636078/frankg"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 147, "favorite_count": 0, "answer_count": 1, "score": -1, "last_activity_date": 1563182893, "creation_date": 1562862544, "last_edit_date": 1562889011, "question_id": 56993628, "link": "https://stackoverflow.com/questions/56993628/not-a-hash-reference", "title": "NOT a HASH reference", "body": "<p>I am getting the \"NOT a HASH reference\" error in Perl 5.30.x in line 70 of my code where I am trying to test $xml for its type thus:</p>\n\n<p>I can not figure out how to resolve this issue as I have been away from Perl for quite some time and would appreciate any and all suggestions.</p>\n\n<p>The code follow (I hope!).</p>\n\n<pre><code>#!/usr/bin/perl\nuse strict;\nuse URI;\nuse LWP::Simple;\nuse Net::Amazon;\nuse XML::Simple;\nuse constant AMAZON_TOKEN =&gt; 'amazon token deleted';\nuse constant DEBUG =&gt; 0;\n\n# get our arguments. the first argument is the\n# URL to fetch, and the second is the output.\nmy $url = shift || die \"$0 &lt;url&gt; [&lt;output&gt;]\\n\";\nmy $output = shift || '/www/htdocs/cloud.html';\n\n# we'll need to fetch the Alexa XML at some point, and\n# we'll do it a few different times, so we create a \n# subroutine for it. Using the URI module, we can\n# correctly encode a URL with a query. In fact, you'll\n# notice the majority of this function is involved with\n# this, and at the end we use LWP::Simple to actually\n# download and return the XML.\n#####################################################\nsub fetch_xml {\n    my $url = shift;\n    $url = \"http://$url\" unless $url =~ m[^http://];\n    warn \"Fetching Alexa data for $url\\n\" if DEBUG;\n\n    my @args = (\n        cli =&gt; 10,     dat =&gt; 'snba',\n        ver =&gt; '7.0',  url =&gt; $url,\n    );\n\n    my $base = 'http://data.alexa.com/data';\n    my $uri = URI-&gt;new( $base );\n    $uri-&gt;query_form( @args );\n    $uri = $uri-&gt;as_string;\n\n    return get( $uri );\n}\n\n# raw XML is no good for us, though, as we want to extract\n# particular items of interest. we use XML::Simple to turn\n# the XML into Perl data structures, because it's easier\n# than fiddling with event handling (as with XML::Parser\n# or XML::SAX), and we know there's only a small amount of\n# data. we want the list of related sites and the list of\n# related products. we extract and return both.\n#####################################################\nsub handle_xml {\n    my $page = shift;\n    my $xml = XMLin( $page );\n    my @related = map {\n        {\n            asin =&gt; $_-&gt;{ASIN},\n            title =&gt; $_-&gt;{TITLE},\n            href =&gt; $xml-&gt;{RLS}{PREFIX}.$_-&gt;{HREF},\n        }\n    } @{ $xml-&gt;{RLS}{RL} };\n\n    my @products;\n    if (ref $xml-&gt;{SD}{AMZN}{PRODUCT} eq 'ARRAY') {\n        @products = map { $_-&gt;{ASIN} } @{ $xml-&gt;{SD}{AMZN}{PRODUCT} };\n    } else { @products = $xml-&gt;{SD}{AMZN}{PRODUCT}{ASIN}; }\n\n    return ( \\@related, \\@products );\n}\n\n# Functions done; now for the program:\nwarn \"Start URL is $url\\n\" if DEBUG;\nmy @products; # running accumulation of product ASINs\n\n{\n    my $page = fetch_xml( $url );\n    my ($related, $new_products) = handle_xml( $page );\n    @products = @$new_products; # running list\n\n    for (@$related) {\n        my $xml = fetch_xml( $_-&gt;{href} );\n        my ($related, $new_products) = handle_xml( $page );\n        push @products, @$new_products;\n    }\n}\n\n# We now have a list of products in @products, so\n# we'd best do something with them. Let's look\n# them up on Amazon and see what their titles are.\nmy $amazon = Net::Amazon-&gt;new( token =&gt; AMAZON_TOKEN );\nmy %products = map { $_ =&gt; undef } @products;\n\nfor my $asin ( sort keys %products ) {\n    warn \"Searching for $asin...\\n\" if DEBUG;\n    my $response = $amazon-&gt;search( asin =&gt; $asin );\n    my @products = $response-&gt;properties;\n    die \"ASIN is not unique!?\" unless @products == 1;\n    my $product = $products[0];\n    $products{$asin} = {\n        name =&gt; $product-&gt;ProductName,\n        price =&gt; $product-&gt;OurPrice,\n        asin =&gt; $asin,\n    };\n}\n\n# Right. We now have name, price, and\n# ASIN. Let's output an HTML report:\n{\n    umask 022;\n    warn \"Writing to $output\\n\" if DEBUG;\n    open my $fh, '&gt;', $output or die $!;\n    print $fh \"&lt;html&gt;&lt;head&gt;&lt;title&gt;Cloud around $url&lt;/title&gt;&lt;/head&gt;&lt;body&gt;\";\n    if (keys %products) {\n        print $fh \"&lt;table&gt;\";\n        for my $asin (sort keys %products) {\n            my $data = $products{$asin};\n            printf $fh \"&lt;tr&gt;&lt;td&gt;\".\n                       \"&lt;a href=\\\"http://amazon.com/exec/obidos/ASIN/%s\\\"&gt;\".\n                       \"%s&lt;/a&gt;&lt;/td&gt; &lt;td&gt;%s&lt;/td&gt;&lt;/tr&gt;\",\n                       @{$data}{qw( asin name price )};\n        }\n        print $fh \"&lt;/table&gt;\";\n    }\n    else { print $fh \"No related products found.\\n\"; }\n    print $fh \"&lt;/body&gt;&lt;/html&gt;\\n\";\n}\n</code></pre>\n"}, {"tags": ["regex", "perl"], "answers": [{"comments": [{"owner": {"reputation": 198290, "user_id": 1030675, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/957956ce51706d03f19a4dc85a767bb1?s=128&d=identicon&r=PG", "display_name": "choroba", "link": "https://stackoverflow.com/users/1030675/choroba"}, "edited": false, "score": 1, "creation_date": 1562859303, "post_id": 56992614, "comment_id": 100519990, "body": "Note that Perl interpolates just once in the replacement part, i.e. <code>$subst</code> will be interpolated, but not <code>$1</code> it contains."}, {"owner": {"reputation": 198290, "user_id": 1030675, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/957956ce51706d03f19a4dc85a767bb1?s=128&d=identicon&r=PG", "display_name": "choroba", "link": "https://stackoverflow.com/users/1030675/choroba"}, "edited": false, "score": 1, "creation_date": 1562859997, "post_id": 56992614, "comment_id": 100520366, "body": "It works with <code>my $subst = &#39;&quot;$1ONE$3TWO$5ONE$7TWO&lt;&quot;&#39;;</code> and <code>&#47;rgee</code>."}], "tags": [], "owner": {"reputation": 1, "user_id": 6553328, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/omcAX.jpg?s=128&g=1", "display_name": "Emma", "link": "https://stackoverflow.com/users/6553328/emma"}, "is_accepted": false, "score": 2, "last_activity_date": 1562861141, "last_edit_date": 1562861141, "creation_date": 1562858711, "answer_id": 56992614, "question_id": 56992407, "link": "https://stackoverflow.com/questions/56992407/perl-regex-for-conditional-replace/56992614#56992614", "title": "Perl: regex for conditional replace?", "body": "<p>My guess is that this expression or maybe a modified version of that might work, not sure though:</p>\n\n<pre><code>([a-z]{2}&lt;\\([A-Z]{2}\\)[a-z]{2})([^&lt;]+)(&lt;\\([A-Z]{2}\\)[a-z]{3})([^&lt;]+)(&lt;\\([A-Z]{2}\\)[a-z])([^&lt;]+)(&lt;\\([A-Z]{2}\\)[a-z]{3})([^&lt;]+)&lt;\n</code></pre>\n\n<h3>Test</h3>\n\n<pre><code>use strict;\nuse warnings;\n\nmy $str = 'ab&lt;(CN)cdXYlm&lt;(CI)efgXYop&lt;(CN)zXYklmn&lt;(CI)efgXYuvw&lt;';\nmy $regex = qr/([a-z]{2}&lt;\\([A-Z]{2}\\)[a-z]{2})([^&lt;]+)(&lt;\\([A-Z]{2}\\)[a-z]{3})([^&lt;]+)(&lt;\\([A-Z]{2}\\)[a-z])([^&lt;]+)(&lt;\\([A-Z]{2}\\)[a-z]{3})([^&lt;]+)&lt;/mp;\nmy $subst = '\"$1ONE$3TWO$5ONE$7TWO&lt;\"';\n\nmy $result = $str =~ s/$regex/$subst/rgee;\n\nprint $result;\n</code></pre>\n\n<p>The expression is explained on the top right panel of <a href=\"https://regex101.com/r/Qu7nxg/1/\" rel=\"nofollow noreferrer\">this demo</a>, if you wish to explore/simplify/modify it, and in <a href=\"https://regex101.com/r/Qu7nxg/1/debugger\" rel=\"nofollow noreferrer\">this link</a>, you can watch how it would match against some sample inputs step by step, if you like. </p>\n"}, {"comments": [{"owner": {"reputation": 223, "user_id": 3756659, "user_type": "registered", "accept_rate": 0, "profile_image": "https://www.gravatar.com/avatar/7ced503630a8fe8e719680a6443fe9e5?s=128&d=identicon&r=PG&f=1", "display_name": "Fabian_Z071", "link": "https://stackoverflow.com/users/3756659/fabian-z071"}, "edited": false, "score": 0, "creation_date": 1562922855, "post_id": 56992741, "comment_id": 100540618, "body": "Thanks, that works. Actually I need more character combinations between the brackets, so I replaced (C[NI]) by (CN|CO|IN)"}, {"owner": {"reputation": 198290, "user_id": 1030675, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/957956ce51706d03f19a4dc85a767bb1?s=128&d=identicon&r=PG", "display_name": "choroba", "link": "https://stackoverflow.com/users/1030675/choroba"}, "reply_to_user": {"reputation": 223, "user_id": 3756659, "user_type": "registered", "accept_rate": 0, "profile_image": "https://www.gravatar.com/avatar/7ced503630a8fe8e719680a6443fe9e5?s=128&d=identicon&r=PG&f=1", "display_name": "Fabian_Z071", "link": "https://stackoverflow.com/users/3756659/fabian-z071"}, "edited": false, "score": 0, "creation_date": 1562922949, "post_id": 56992741, "comment_id": 100540673, "body": "@Fabian_Z071: If you also added a new pair into the %replace hash, everything should work :-)"}], "tags": [], "owner": {"reputation": 198290, "user_id": 1030675, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/957956ce51706d03f19a4dc85a767bb1?s=128&d=identicon&r=PG", "display_name": "choroba", "link": "https://stackoverflow.com/users/1030675/choroba"}, "is_accepted": true, "score": 8, "last_activity_date": 1562859782, "last_edit_date": 1562859782, "creation_date": 1562859161, "answer_id": 56992741, "question_id": 56992407, "link": "https://stackoverflow.com/questions/56992407/perl-regex-for-conditional-replace/56992741#56992741", "title": "Perl: regex for conditional replace?", "body": "<p>You don't need two regexes. Capture the <code>C[NI]</code> and retrieve the corresponding replacement value from a hash:</p>\n\n<pre><code>#!/usr/bin/perl\nuse warnings;\nuse strict;\n\nmy $s = 'ab&lt;(CN)cdXYlm&lt;(CI)efgXYop&lt;(CN)zXYklmn&lt;(CI)efgXYuvw&lt;';\n\nmy %replace = (CN =&gt; 'ONE', CI =&gt; 'TWO');\n\n$s =~ s/(\\((C[NI])\\).*?)XY.*?&lt;/$1$replace{$2}&lt;/g;\n\nmy $exp = 'ab&lt;(CN)cdONE&lt;(CI)efgTWO&lt;(CN)zONE&lt;(CI)efgTWO&lt;';\n\nuse Test::More tests =&gt; 1;\nis $s, $exp;\n</code></pre>\n"}, {"tags": [], "owner": {"reputation": 61, "user_id": 11772964, "user_type": "registered", "profile_image": "https://lh6.googleusercontent.com/-XEotRBTqwSc/AAAAAAAAAAI/AAAAAAAALZ4/V-jGawgic9A/photo.jpg?sz=128", "display_name": "TheYeti", "link": "https://stackoverflow.com/users/11772964/theyeti"}, "is_accepted": false, "score": 2, "last_activity_date": 1562903240, "last_edit_date": 1592644375, "creation_date": 1562902180, "answer_id": 56999834, "question_id": 56992407, "link": "https://stackoverflow.com/questions/56992407/perl-regex-for-conditional-replace/56999834#56999834", "title": "Perl: regex for conditional replace?", "body": "<p>This can be done in one line regex using <code>/e</code> and ternary operator <code>?</code> in the <code>/replace/</code>.\n<code>/r</code> option returns the resulting string, in effect this would keep the original string <code>$s</code> unmodified.</p>\n<pre><code>use strict;\nuse warnings;\n\nmy $s ='ab&lt;(CN)cdXYlm&lt;(CI)efgXYop&lt;(CN)zXYklmn&lt;(CI)efgXYuvw&lt;';\nprint (($s=~s/\\(([^)]+)\\)([^(]+)XY[^(]+&lt;/&quot;($1)$2&quot;.(($1 eq CN)?ONE:TWO).&quot;&lt;&quot;/gre).&quot;\\n&quot;);\n</code></pre>\n<h3>Output:</h3>\n<pre><code>ab&lt;(CN)cdONE&lt;(CI)efgTWO&lt;(CN)zONE&lt;(CI)efgTWO&lt;\n</code></pre>\n"}], "owner": {"reputation": 223, "user_id": 3756659, "user_type": "registered", "accept_rate": 0, "profile_image": "https://www.gravatar.com/avatar/7ced503630a8fe8e719680a6443fe9e5?s=128&d=identicon&r=PG&f=1", "display_name": "Fabian_Z071", "link": "https://stackoverflow.com/users/3756659/fabian-z071"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 304, "favorite_count": 1, "accepted_answer_id": 56992741, "answer_count": 3, "score": 2, "last_activity_date": 1562903240, "creation_date": 1562857988, "last_edit_date": 1562858895, "question_id": 56992407, "link": "https://stackoverflow.com/questions/56992407/perl-regex-for-conditional-replace", "title": "Perl: regex for conditional replace?", "body": "<p>in this string</p>\n\n<pre><code>ab&lt;(CN)cdXYlm&lt;(CI)efgXYop&lt;(CN)zXYklmn&lt;(CI)efgXYuvw&lt;\n</code></pre>\n\n<p>I want to replace each substring between <code>XY</code> and <code>&lt;</code> by either ONE or TWO depending on characters between previous brackets:</p>\n\n<p>if <code>XY</code> after <code>(CN)</code> replace substring by <code>ONE</code></p>\n\n<p>if <code>XY</code> after <code>(CI)</code> replace substring by <code>TWO</code></p>\n\n<p>So the result should be:</p>\n\n<pre><code>ab&lt;(CN)cdONE&lt;(CI)efgTWO&lt;(CN)zONE&lt;(CI)efgTWO&lt;\n</code></pre>\n\n<p><code>XY</code> and following characters should be replaced but not angle bracket <code>&lt;</code>.</p>\n\n<p>This is for modifying HTML and arbitrary characters can occur between <code>XY</code> and <code>&lt;</code>.\nI guess I need two regex for (CN) and (CI).</p>\n\n<pre><code># This one replaces just all XY:   \nmy $s = 'ab&lt;(CN)cdXYlm&lt;(CI)efgXYop&lt;(CN)zXYklmn&lt;(CI)efgXYuvw&lt;';\n$s =~ s/(XY(.*?))&lt;/ONE/g;    \n# But how to add the conditions to the regex?\n</code></pre>\n"}, {"tags": ["linux", "perl", "tar"], "answers": [{"comments": [{"owner": {"reputation": 3, "user_id": 10820190, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/75f691856109af799c505bd7c139dd27?s=128&d=identicon&r=PG&f=1", "display_name": "imrx", "link": "https://stackoverflow.com/users/10820190/imrx"}, "edited": false, "score": 0, "creation_date": 1562846744, "post_id": 56988643, "comment_id": 100512091, "body": "Thanks @daxim, but the question is - what if these *.tgz files are milion? Idea is how to iterate them without knowing their names."}, {"owner": {"reputation": 38072, "user_id": 46395, "user_type": "registered", "accept_rate": 71, "profile_image": "https://www.gravatar.com/avatar/5ce828f20abb195ef5d971205ee36c27?s=128&d=identicon&r=PG", "display_name": "daxim", "link": "https://stackoverflow.com/users/46395/daxim"}, "reply_to_user": {"reputation": 3, "user_id": 10820190, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/75f691856109af799c505bd7c139dd27?s=128&d=identicon&r=PG&f=1", "display_name": "imrx", "link": "https://stackoverflow.com/users/10820190/imrx"}, "edited": false, "score": 0, "creation_date": 1562849365, "post_id": 56988643, "comment_id": 100513781, "body": "Path::Tiny has an <code>iterator</code> method."}, {"owner": {"reputation": 8718, "user_id": 5848200, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/a8072aaf76dcb4fe5027964252f16382?s=128&d=identicon&r=PG", "display_name": "Grinnz", "link": "https://stackoverflow.com/users/5848200/grinnz"}, "edited": false, "score": 0, "creation_date": 1562855078, "post_id": 56988643, "comment_id": 100517423, "body": "Also <code>children</code> for the contents of a directory non-recursively."}], "tags": [], "owner": {"reputation": 38072, "user_id": 46395, "user_type": "registered", "accept_rate": 71, "profile_image": "https://www.gravatar.com/avatar/5ce828f20abb195ef5d971205ee36c27?s=128&d=identicon&r=PG", "display_name": "daxim", "link": "https://stackoverflow.com/users/46395/daxim"}, "is_accepted": true, "score": 1, "last_activity_date": 1562846242, "creation_date": 1562846242, "answer_id": 56988643, "question_id": 56987843, "link": "https://stackoverflow.com/questions/56987843/how-to-extract-multiple-tgz-files-to-multiple-directories-using-perl/56988643#56988643", "title": "How to extract multiple *.tgz files to multiple directories using PERL?", "body": "<p>With <a href=\"http://www.nongnu.org/atool/\" rel=\"nofollow noreferrer\">atool</a>:</p>\n\n<pre><code>use autodie qw(:all);\nuse Path::Tiny qw(path);\nfor my $archive (qw(first.tgz sec.tgz third.tgz n.tgz)) {\n    my $basename = path($archive)-&gt;basename('.tgz');\n    path($basename)-&gt;mkpath;\n    system qw(aunpack -X), $basename, $archive;\n}\n</code></pre>\n"}], "owner": {"reputation": 3, "user_id": 10820190, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/75f691856109af799c505bd7c139dd27?s=128&d=identicon&r=PG&f=1", "display_name": "imrx", "link": "https://stackoverflow.com/users/10820190/imrx"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 145, "favorite_count": 0, "accepted_answer_id": 56988643, "answer_count": 1, "score": -1, "last_activity_date": 1562846242, "creation_date": 1562843318, "question_id": 56987843, "link": "https://stackoverflow.com/questions/56987843/how-to-extract-multiple-tgz-files-to-multiple-directories-using-perl", "title": "How to extract multiple *.tgz files to multiple directories using PERL?", "body": "<p>I am learning PERL lang. \nI have forced (and little confused) the issue with extracting *.tgz files.\nMy point which I want to achieve is to extract multiple *.tgz files to multiple folders.</p>\n\n<p>So the structure comes:</p>\n\n<pre><code>first.tgz\nsec.tgz\nthird.tgz\n...\nn.tgz\n</code></pre>\n\n<p>I want to extract these files to directories:</p>\n\n<pre><code>first (extracted first.tgz)\nsec (extracted sec.tgz)\nthidrd (extracted third.tgz)\netc.\n</code></pre>\n\n<p>Can someone help me with this, or give some hints how to achieve it?</p>\n"}, {"tags": ["perl", "fork"], "comments": [{"owner": {"reputation": 322, "user_id": 4781778, "user_type": "registered", "accept_rate": 25, "profile_image": "https://www.gravatar.com/avatar/10ead168c42930062bbe7ec7f44a4120?s=128&d=identicon&r=PG&f=1", "display_name": "vikas kv", "link": "https://stackoverflow.com/users/4781778/vikas-kv"}, "edited": false, "score": 0, "creation_date": 1562836970, "post_id": 56985626, "comment_id": 100506320, "body": "Thanks @\u0421\u0443\u0445\u043e\u043927. My doubt is clear now."}, {"owner": {"reputation": 48798, "user_id": 223226, "user_type": "registered", "accept_rate": 93, "profile_image": "https://i.stack.imgur.com/iGqE4.png?s=128&g=1", "display_name": "mpapec", "link": "https://stackoverflow.com/users/223226/mpapec"}, "edited": false, "score": 2, "creation_date": 1562836974, "post_id": 56985626, "comment_id": 100506323, "body": "<code>say &quot;else block&quot;;</code> gets executed by fork, and <code>say &quot;if block&quot;;</code> by main process.Both of them share the same <code>STDOUT</code>."}], "answers": [{"tags": [], "owner": {"reputation": 320771, "user_id": 589924, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/b2cf53d5a3d25f95c0db4e025aed4153?s=128&d=identicon&r=PG", "display_name": "ikegami", "link": "https://stackoverflow.com/users/589924/ikegami"}, "is_accepted": true, "score": 4, "last_activity_date": 1562871593, "last_edit_date": 1562871593, "creation_date": 1562838934, "answer_id": 56986530, "question_id": 56985626, "link": "https://stackoverflow.com/questions/56985626/perl-forking-the-process-inside-the-if-statement-executes-both-the-blocks/56986530#56986530", "title": "perl forking the process inside the if statement executes both the blocks", "body": "<blockquote>\n  <p><em>According to the perl <code>fork</code> subroutine documentation when we execute the method, it returns either <code>undef</code>, <code>PID</code> depending on whether the fork failed, succeeded respectively.</em></p>\n</blockquote>\n\n<p>Not quite. It actually says the following:</p>\n\n<blockquote>\n  <p>It returns the child pid to the parent process, <code>0</code> to the child process, or undef if the fork is unsuccessful. </p>\n</blockquote>\n\n<p>So,</p>\n\n<ul>\n<li>In the parent process, <code>fork</code> returns the child's PID, so the parent process outputs <code>if block</code>.</li>\n<li>In the child process, <code>fork</code> returns <code>0</code>, so the child process outputs <code>else block</code>.</li>\n</ul>\n\n<p>By checking the value returned, you can have the parent and child do different things.</p>\n"}, {"tags": [], "owner": {"reputation": 121105, "user_id": 2766176, "user_type": "registered", "accept_rate": 61, "profile_image": "https://www.gravatar.com/avatar/edd8638efe875601bfe394a8aea5b16d?s=128&d=identicon&r=PG", "display_name": "brian d foy", "link": "https://stackoverflow.com/users/2766176/brian-d-foy"}, "is_accepted": false, "score": 2, "last_activity_date": 1562855611, "creation_date": 1562855611, "answer_id": 56991663, "question_id": 56985626, "link": "https://stackoverflow.com/questions/56985626/perl-forking-the-process-inside-the-if-statement-executes-both-the-blocks/56991663#56991663", "title": "perl forking the process inside the if statement executes both the blocks", "body": "<p>It's easier to see what's happening if you also output the process ID (the <code>$$</code> special variable) with each <code>say</code> statement:</p>\n\n<pre><code>use v5.10;\n\nif( fork ) {\n  say \"$$ (parent): if block\";\n} else {\n  say \"$$ (child): else block\";\n}\n</code></pre>\n\n<p>You'd then see that you get outputs from two different processes:</p>\n\n<pre><code>19997 (parent): if block\n20024 (child): else block\n</code></pre>\n\n<p>Typically, the parent process continues and does its thing while the child process continues and does whatever work you wanted to offload. However, the child inherits the standard filehandles of the parent, so the output goes to the same place. If you don't want that, you can immediately change standard output (and others) in the child (or parent, I guess):</p>\n\n<pre><code>use v5.10;\n\nif( fork ) {\n  say \"$$ (parent): if block\";\n} else {\n  say \"$$ (child): else block\";\n  open STDOUT, ...\n}\n</code></pre>\n\n<p>If you wanted the current process to turn into something else (so that you still only had one process), look at <a href=\"https://perldoc.perl.org/functions/exec.html\" rel=\"nofollow noreferrer\">exec</a>.</p>\n"}], "owner": {"reputation": 322, "user_id": 4781778, "user_type": "registered", "accept_rate": 25, "profile_image": "https://www.gravatar.com/avatar/10ead168c42930062bbe7ec7f44a4120?s=128&d=identicon&r=PG&f=1", "display_name": "vikas kv", "link": "https://stackoverflow.com/users/4781778/vikas-kv"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 61, "favorite_count": 0, "accepted_answer_id": 56986530, "answer_count": 2, "score": 1, "last_activity_date": 1562871593, "creation_date": 1562836234, "last_edit_date": 1562838776, "question_id": 56985626, "link": "https://stackoverflow.com/questions/56985626/perl-forking-the-process-inside-the-if-statement-executes-both-the-blocks", "title": "perl forking the process inside the if statement executes both the blocks", "body": "<p>When I fork a new process inside the <code>if</code> condition, surprisingly both <code>if</code> and <code>else</code> block gets executed.<br>\nAccording to the perl <a href=\"https://perldoc.perl.org/functions/fork.html\" rel=\"nofollow noreferrer\"><code>fork</code></a> subroutine documentation when we execute the method, it returns either <code>undef</code>, <code>PID</code> depending on whether the fork failed, succeeded respectively. </p>\n\n<p>Below is the code where both the blocks are getting executed.</p>\n\n<pre class=\"lang-perl prettyprint-override\"><code>if(my $a = fork ) {\n  say \"if block\"; \n} else {\n  say \"else block\";\n}\n</code></pre>\n\n<blockquote>\n  <p>output:<br>\n  if block<br>\n  else block</p>\n</blockquote>\n\n<p>Where as if I return those manually only one block gets executed depending on whether i return 0 or 1.</p>\n\n<pre class=\"lang-perl prettyprint-override\"><code>sub a { 1; }\n\nif(my $a = a ) { \n  say \"if block\"; \n} else {\n  say \"else block\";\n}\n</code></pre>\n\n<blockquote>\n  <p>output:<br>\n  if block</p>\n</blockquote>\n\n<p>Any idea why this is happening?</p>\n"}, {"tags": ["perl"], "comments": [{"owner": {"reputation": 32176, "user_id": 2173773, "user_type": "registered", "accept_rate": 86, "profile_image": "https://i.stack.imgur.com/M8yh6.jpg?s=128&g=1", "display_name": "H&#229;kon H&#230;gland", "link": "https://stackoverflow.com/users/2173773/h%c3%a5kon-h%c3%a6gland"}, "edited": false, "score": 0, "creation_date": 1562833876, "post_id": 56984259, "comment_id": 100504622, "body": "Seems like you are overwriting the output file for each substitution you make. You need to change the logic of this program"}, {"owner": {"reputation": 32176, "user_id": 2173773, "user_type": "registered", "accept_rate": 86, "profile_image": "https://i.stack.imgur.com/M8yh6.jpg?s=128&g=1", "display_name": "H&#229;kon H&#230;gland", "link": "https://stackoverflow.com/users/2173773/h%c3%a5kon-h%c3%a6gland"}, "edited": false, "score": 0, "creation_date": 1562834245, "post_id": 56984259, "comment_id": 100504816, "body": "What it is the purpose of <code>$OutputXmlFile =~ s#\\.tex$#\\.tex#gsi;</code> ? It seems like you replace the with the same text as you found."}], "answers": [{"comments": [{"owner": {"reputation": 1, "user_id": 11758067, "user_type": "registered", "profile_image": "https://lh3.googleusercontent.com/-lY2S5WKQMGQ/AAAAAAAAAAI/AAAAAAAAAMA/PWWRwmsex-E/photo.jpg?sz=128", "display_name": "Pon Ilavarasan", "link": "https://stackoverflow.com/users/11758067/pon-ilavarasan"}, "edited": false, "score": 0, "creation_date": 1562840930, "post_id": 56986908, "comment_id": 100508742, "body": "Thanks bro, but it shows an error of &quot;Unescaped left brace in regex is deprecated, passed through in regex; marked by &lt;-- HERE in m/\\\\qr{ &lt;-- HERE ((?:[^{}]*(?:{(?:[^{}]*(?:{(?:[^{}]*(?:{[^{}]*})*[^ {}]*)*})*[^{}]*)*})*[^{}]*)*)}/ at e:\\Ponni\\perl\\check.pl line 46.&quot;"}, {"owner": {"reputation": 2415, "user_id": 4251338, "user_type": "registered", "accept_rate": 90, "profile_image": "https://i.stack.imgur.com/UNbCO.png?s=128&g=1", "display_name": "ssr1012", "link": "https://stackoverflow.com/users/4251338/ssr1012"}, "reply_to_user": {"reputation": 1, "user_id": 11758067, "user_type": "registered", "profile_image": "https://lh3.googleusercontent.com/-lY2S5WKQMGQ/AAAAAAAAAAI/AAAAAAAAAMA/PWWRwmsex-E/photo.jpg?sz=128", "display_name": "Pon Ilavarasan", "link": "https://stackoverflow.com/users/11758067/pon-ilavarasan"}, "edited": false, "score": 0, "creation_date": 1562841769, "post_id": 56986908, "comment_id": 100509223, "body": "\\\\qr{$brc} --&gt; \\\\qr\\{$brc\\}"}], "tags": [], "owner": {"reputation": 2415, "user_id": 4251338, "user_type": "registered", "accept_rate": 90, "profile_image": "https://i.stack.imgur.com/UNbCO.png?s=128&g=1", "display_name": "ssr1012", "link": "https://stackoverflow.com/users/4251338/ssr1012"}, "is_accepted": false, "score": 1, "last_activity_date": 1562840106, "creation_date": 1562840106, "answer_id": 56986908, "question_id": 56984259, "link": "https://stackoverflow.com/questions/56984259/cut-and-paste-a-particular-string-in-a-file/56986908#56986908", "title": "Cut and paste a particular string in a file", "body": "<p>Please just try this:</p>\n\n<pre><code>use strict;\nuse warnings;\n\nmy $brc = qw/((?:[^{}]*(?:{(?:[^{}]*(?:{(?:[^{}]*(?:{[^{}]*})*[^{}]*)*})*[^{}]*)*})*[^{}]*)*)/;\nmy $InputXmlFile = $ARGV[0]; (my $OutputXmlFile = $InputXmlFile)=~s/\\.tex$/\\.newtex/i;\n\nopen(INTXT, $InputXmlFile) || die \"Couldn't able to read: $!\\n\";\nmy $inText = join(\"\",&lt;INTXT&gt;);\nclose(INTXT);\n\nmy ($beh,$match,$byn) = \"\";\nwhile($inText=~m/\\\\section\\{$brc\\}/gs)\n{\n    $beh = $beh.$`; $match = $&amp;; $byn = $'; my $qrt = $1;\n    if($qrt=~m/\\\\qr{$brc}/i) { my $qrtex = $&amp;; $match=~s/\\\\qr\\{$brc\\}//; $match=~s/$/\\n\\n$qrtex/; }\n    $beh = $beh.$match; $inText = $byn;\n}\nif(length $beh) {  $inText = $beh.$byn;  }\n\nopen(FIH,'&gt;',$OutputXmlFile);\nprint FIH $inText;\nclose(FIH);\n</code></pre>\n"}, {"tags": [], "owner": {"reputation": 1, "user_id": 11758067, "user_type": "registered", "profile_image": "https://lh3.googleusercontent.com/-lY2S5WKQMGQ/AAAAAAAAAAI/AAAAAAAAAMA/PWWRwmsex-E/photo.jpg?sz=128", "display_name": "Pon Ilavarasan", "link": "https://stackoverflow.com/users/11758067/pon-ilavarasan"}, "is_accepted": false, "score": 0, "last_activity_date": 1565758659, "creation_date": 1565758659, "answer_id": 57488379, "question_id": 56984259, "link": "https://stackoverflow.com/questions/56984259/cut-and-paste-a-particular-string-in-a-file/57488379#57488379", "title": "Cut and paste a particular string in a file", "body": "<pre><code>   use strict;\n   use warnings;\n   use XML::Simple;\n\n   my $path = $ARGV[0];\n   my $prePath = \"d:\\\\Process\\\\Latex\\\\app\\\\\";\n   $path =~ s/(.*?)\\/(.*?)\\/(.*?)\\/(.*?)\\/(.*?)\\/(.*?)\\.tex/$5/g;\n   my $artID = $5;\n   $prePath= $prePath. $path. \"\\\\ms\\\\\"; \n   my $authorData;\n   my @authorData;\n\n   &amp;authorXml;\n\n   sub authorXml{\n   my $InputXmlFile = $ARGV[0]; (my $OutputXmlFile =$InputXmlFile)=~s/\\.tex$/\\.tex/i;\n      open(INTXT, $InputXmlFile) || die \"Couldn't able to read: $!\\n\";\n      my $inText = join(\"\",&lt;INTXT&gt;);\n      close(INTXT);\n      $inText =~ s/\\%\\\\def\\\\authoryellow\\{\\}//gi;\n      while ($inText =~ s/\\\\author(.*?)\\n//){\n         $authorData = $1;\n         push @authorData,$authorData;\n      }\n      foreach my $audata(@authorData){\n          print $audata.\"\\n\";\n      }\n      open (DATA, \"&lt;\", \"$prePath/$path.xml\") or die \"Not able to open the file, $!\";\n      my $cats_xml = &lt;DATA&gt;;\n      close DATA;\n      $cats_xml=$text=~/\\author\\[(.*?)\\]\\{(.*?)\\}\\n/g;\n      print $xmlF;\n   }\n      open(FIH,'&gt;',$OutputXmlFile);\n      print FIH $inText;\n      close(FIH);\n   }\n</code></pre>\n"}], "owner": {"reputation": 1, "user_id": 11758067, "user_type": "registered", "profile_image": "https://lh3.googleusercontent.com/-lY2S5WKQMGQ/AAAAAAAAAAI/AAAAAAAAAMA/PWWRwmsex-E/photo.jpg?sz=128", "display_name": "Pon Ilavarasan", "link": "https://stackoverflow.com/users/11758067/pon-ilavarasan"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 66, "favorite_count": 1, "answer_count": 2, "score": 0, "last_activity_date": 1565758659, "creation_date": 1562831784, "last_edit_date": 1562834085, "question_id": 56984259, "link": "https://stackoverflow.com/questions/56984259/cut-and-paste-a-particular-string-in-a-file", "title": "Cut and paste a particular string in a file", "body": "<p>In a file i need to cut the text(in the form of <code>\\qr{....text}</code>) and place \nafter two carriage returns. </p>\n\n<p>Input file text would be :</p>\n\n<pre><code>\\section{bla bla ...\\qr{text} bla bla..}\n\nSome paragraph text......\n</code></pre>\n\n<p>Required Output:</p>\n\n<pre><code>\\section{bla bla bla bla}\n\n\\qr{text}......\nSome paragraph text \n</code></pre>\n\n<p>My attempt:</p>\n\n<pre><code>use strict;\nuse warnings;\n\nmy $InputXmlFile = $ARGV[0];\nmy $OutputXmlFile = $InputXmlFile;\nmy $OutProcesText = \"\";\n$OutputXmlFile =~ s#\\.tex$#\\.tex#gsi;\nmy $workingpath = $1 if $InputXmlFile =~ m/(.*)\\\\(.+)\\.tex/i;\nmy $filename = $2 if $InputXmlFile =~ m/(.*)\\\\(.+)\\.tex/i;\n\nopen (INTXT, \"$InputXmlFile\");\nmy $inText = join(\"\",&lt;INTXT&gt;);\nclose (INTXT);\n\nwhile($inText =~ m#\\\\section\\{(.*?)\\}\\n\\n#gi) {\n    my $qrtext = $1;\n    if ($qrtext =~s/\\\\qr\\{(.*?)\\}//gi) {\n        my $qrFindText = $1;\n        $qrtext =~ s/\\x0D\\x0D/\\x0D\\x0D$qrFindText/g; \n        print $qrFindText;\n    }\n    open (FIH,'&gt;',$OutputXmlFile);\n    print FIH $inText;\n    close(FIH);\n}\n</code></pre>\n"}, {"tags": ["linux", "perl", "path"], "answers": [{"tags": [], "owner": {"reputation": 19, "user_id": 11673235, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/999cc534a7ff8ddd86ca7b96316b3470?s=128&d=identicon&r=PG&f=1", "display_name": "05k001", "link": "https://stackoverflow.com/users/11673235/05k001"}, "is_accepted": false, "score": 0, "last_activity_date": 1562823546, "creation_date": 1562823546, "answer_id": 56982250, "question_id": 56981754, "link": "https://stackoverflow.com/questions/56981754/how-to-make-a-programme-executable-anywhere-in-the-shell/56982250#56982250", "title": "How to make a programme executable anywhere in the SHELL", "body": "<p>The first thing that comes to mind is using Aliases.</p>\n\n<p>So, there should be nothing preventing you from doing e.g.</p>\n\n<pre><code>$ alias mycoolscript=\"python /$HOME/scripts/script.py\"\n</code></pre>\n\n<p>Then you could use it like any other shell command:</p>\n\n<pre><code>$ mycoolscript https://outlick.com/\n</code></pre>\n\n<p>And this would call your Python program.</p>\n\n<p>You can read more about them <a href=\"http://www.gnu.org/savannah-checkouts/gnu/bash/manual/bash.html#Aliases\" rel=\"nofollow noreferrer\">here</a> </p>\n\n<p>NOTE: The alias wont persist across shell sessions. If you want to add these permanently you can add the alias command to your .bashrc </p>\n\n<p>open $HOME/.bashrc with your favorite text editor and add the line to the bottom</p>\n\n<p>when you are done type </p>\n\n<pre><code>$ source $HOME/.bashrc\n</code></pre>\n\n<p>and you can start using the commands</p>\n"}, {"tags": [], "owner": {"reputation": 38072, "user_id": 46395, "user_type": "registered", "accept_rate": 71, "profile_image": "https://www.gravatar.com/avatar/5ce828f20abb195ef5d971205ee36c27?s=128&d=identicon&r=PG", "display_name": "daxim", "link": "https://stackoverflow.com/users/46395/daxim"}, "is_accepted": true, "score": 1, "last_activity_date": 1562827193, "creation_date": 1562827193, "answer_id": 56983035, "question_id": 56981754, "link": "https://stackoverflow.com/questions/56981754/how-to-make-a-programme-executable-anywhere-in-the-shell/56983035#56983035", "title": "How to make a programme executable anywhere in the SHELL", "body": "<ol>\n<li>Make the scripts executable: <code>chmod +x $HOME/scrips/*</code> This needs to be done only once.</li>\n<li>Add the directory containing the scripts to the <code>PATH</code> variable: <code>export PATH=$HOME/scrips/:$PATH</code> (Verify the result with <code>echo $PATH</code>.) The <code>export</code> command needs to be run in every shell session. For convenience, you want to add that command to the <code>$HOME/.profile</code> file so it is run automatically for you at log-in time.</li>\n</ol>\n\n<p>Now you can execute <code>script.pl some-arguments</code> or <code>script.py some-arguments</code> from anywhere.</p>\n"}], "owner": {"reputation": 67, "user_id": 11549250, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/fTJ3n.jpg?s=128&g=1", "display_name": "El Ni&#241;o", "link": "https://stackoverflow.com/users/11549250/el-ni%c3%b1o"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 568, "favorite_count": 0, "accepted_answer_id": 56983035, "answer_count": 2, "score": 0, "last_activity_date": 1562827193, "creation_date": 1562820287, "question_id": 56981754, "link": "https://stackoverflow.com/questions/56981754/how-to-make-a-programme-executable-anywhere-in-the-shell", "title": "How to make a programme executable anywhere in the SHELL", "body": "<p>How to make a programme executable in the SHELL</p>\n\n<p>I have git cloned a number of tools into my HOME folder. Now as there are many of them and my query files are located on a different directory, what I need is make a programme executable from everywhere in the SHELL. I have read <a href=\"https://unix.stackexchange.com/questions/3809/how-can-i-make-a-program-executable-from-everywhere\">this thread</a> but how about Perl and Python scipts. For example, I have a script.pl or script.py file in a folder named scrips. What should I do to make that script run from everywhere?</p>\n"}]