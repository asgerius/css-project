[{"tags": ["perl", "alarm", "lwp", "lwp-useragent"], "comments": [{"owner": {"reputation": 6592, "user_id": 3005251, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/a5331f7e467aae3d581fe8bc814ef572?s=128&d=identicon&r=PG", "display_name": "bolav", "link": "https://stackoverflow.com/users/3005251/bolav"}, "edited": false, "score": 0, "creation_date": 1456353140, "post_id": 35614328, "comment_id": 58912824, "body": "Your code only prints <code>Done</code> on my system, so it behaves as you expect. Are you sure you are not printing `$@ in your code? If not post more information about your system."}, {"owner": {"reputation": 23295, "user_id": 251589, "user_type": "registered", "accept_rate": 83, "profile_image": "https://i.stack.imgur.com/mU8Af.png?s=128&g=1", "display_name": "sixtyfootersdude", "link": "https://stackoverflow.com/users/251589/sixtyfootersdude"}, "reply_to_user": {"reputation": 6592, "user_id": 3005251, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/a5331f7e467aae3d581fe8bc814ef572?s=128&d=identicon&r=PG", "display_name": "bolav", "link": "https://stackoverflow.com/users/3005251/bolav"}, "edited": false, "score": 0, "creation_date": 1456353496, "post_id": 35614328, "comment_id": 58912982, "body": "@bolav - I thought that I must be using <code>$@</code> initially as well.  I posted additional system info."}, {"owner": {"reputation": 21782, "user_id": 176646, "user_type": "registered", "accept_rate": 88, "profile_image": "https://i.stack.imgur.com/HsQyV.png?s=128&g=1", "display_name": "ThisSuitIsBlackNot", "link": "https://stackoverflow.com/users/176646/thissuitisblacknot"}, "edited": false, "score": 0, "creation_date": 1456353503, "post_id": 35614328, "comment_id": 58912987, "body": "Wait, the default perl on RHEL 6 is 5.10.1. Why are you using 5.6.1? (ancient!)"}, {"owner": {"reputation": 23295, "user_id": 251589, "user_type": "registered", "accept_rate": 83, "profile_image": "https://i.stack.imgur.com/mU8Af.png?s=128&g=1", "display_name": "sixtyfootersdude", "link": "https://stackoverflow.com/users/251589/sixtyfootersdude"}, "reply_to_user": {"reputation": 21782, "user_id": 176646, "user_type": "registered", "accept_rate": 88, "profile_image": "https://i.stack.imgur.com/HsQyV.png?s=128&g=1", "display_name": "ThisSuitIsBlackNot", "link": "https://stackoverflow.com/users/176646/thissuitisblacknot"}, "edited": false, "score": 0, "creation_date": 1456353553, "post_id": 35614328, "comment_id": 58913003, "body": "@ThisSuitIsBlackNot - Legacy code."}, {"owner": {"reputation": 23295, "user_id": 251589, "user_type": "registered", "accept_rate": 83, "profile_image": "https://i.stack.imgur.com/mU8Af.png?s=128&g=1", "display_name": "sixtyfootersdude", "link": "https://stackoverflow.com/users/251589/sixtyfootersdude"}, "edited": false, "score": 0, "creation_date": 1456353646, "post_id": 35614328, "comment_id": 58913061, "body": "But maybe &quot;Legacy code&quot; is the answer to this question.  I primarily posted this question to see if I was doing something obviously wrong."}], "owner": {"reputation": 23295, "user_id": 251589, "user_type": "registered", "accept_rate": 83, "profile_image": "https://i.stack.imgur.com/mU8Af.png?s=128&g=1", "display_name": "sixtyfootersdude", "link": "https://stackoverflow.com/users/251589/sixtyfootersdude"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 185, "favorite_count": 0, "answer_count": 0, "score": 1, "last_activity_date": 1511688304, "creation_date": 1456352266, "last_edit_date": 1495540765, "question_id": 35614328, "link": "https://stackoverflow.com/questions/35614328/perl-using-alarms-with-post-request-produces-odd-behaviour", "title": "Perl: Using alarms with Post request produces odd behaviour", "body": "<h1>Initial Question</h1>\n\n<p>I am trying use Perl to make a POST to a remote server.  I am using an alarm to set a hard timeout.  When the alarm triggers, I am getting what I would consider to be strange behaviour.  </p>\n\n<p>This is the code: </p>\n\n<pre><code>eval {  \n\n    local $SIG{ALRM} = sub {\n        die(\"Foobar\");\n    };\n    alarm 25;\n\n\n    my $userAgent = new LWP::UserAgent( keep_alive =&gt; 1 );\n    $answer = $userAgent-&gt;post( ... );\n\n    # During a timeout, I expect that this code will not run.  However,\n    # it does and it prints \"Foobar\".\n    $m = $answer-&gt;message();\n    print $m;\n    alarm 0;\n\n};\nalarm 0;        \nprint \"Done\";\n</code></pre>\n\n<p>Put a sleep (or breakpoint) on server, so it will not respond and so that the alarm will trigger.  When the alarm triggers, this will be printed:</p>\n\n<pre><code>Foobar\nDone\n</code></pre>\n\n<p>My expectation was that this <em>should</em> print: </p>\n\n<pre><code>Done\n</code></pre>\n\n<p>Key questions: </p>\n\n<ul>\n<li><p>Why is this happening?  Am I using some kind of anti-pattern?  Is using alarms, not a good idea, because underlying libraries may use them as well, and they may conflict?  </p></li>\n<li><p>What is the right way to solve this problem?  </p></li>\n</ul>\n\n<hr>\n\n<h1>Appendix 1 - I know there is another method...</h1>\n\n<p>I know that I should be using: </p>\n\n<pre><code>$userAgent-&gt;timeout( ... ); \n</code></pre>\n\n<p>And actually, I am.  However, I would like to set a hard timeout as well, so that I can ensure that at most I will spend 25 seconds waiting on the request.  Since the timeout associated with <code>$userAgent-&gt;timeout( ... );</code> is reset each time the client gets something back from the server, it is not reliable enough.  </p>\n\n<hr>\n\n<h1>Appendix 2 - Environment Info</h1>\n\n<p>@bolav mentioned that on his system, he could not reproduce the issue, I guess that it is <em>possible</em> that it is System dependant.  </p>\n\n<p>OS:</p>\n\n<pre><code>cat /etc/redhat-release \nCentOS release 6.6 (Final)\n</code></pre>\n\n<p>Perl Version:</p>\n\n<pre><code>This is perl, v5.6.1 built for i686-linux\n</code></pre>\n\n<hr>\n\n<h1>Appendix 3 - Answers on SO suggesting to use this method</h1>\n\n<ul>\n<li><a href=\"https://stackoverflow.com/a/15900249/251589\">https://stackoverflow.com/a/15900249/251589</a></li>\n</ul>\n"}, {"tags": ["perl"], "answers": [{"tags": [], "owner": {"reputation": 45481, "user_id": 197758, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/628da6ba2a6c70e35c009b7e3c3a430a?s=128&d=identicon&r=PG", "display_name": "toolic", "link": "https://stackoverflow.com/users/197758/toolic"}, "is_accepted": true, "score": 8, "last_activity_date": 1601594912, "last_edit_date": 1601594912, "creation_date": 1456344220, "answer_id": 35611951, "question_id": 35611896, "link": "https://stackoverflow.com/questions/35611896/why-use-strict-doesnt-let-me-write-in-file/35611951#35611951", "title": "Why &#39;use strict&#39; doesn&#39;t let me write in file?", "body": "<p>When using <code>strict</code>, you typically declare each variable with <code>my</code>:</p>\n<pre><code>open(my $fh, '&gt;', $filename) or die(&quot;Couldn't open $filename\\n&quot;);\n</code></pre>\n<p>You can get more information about some error messages by using <code>use diagnostics;</code>:</p>\n<pre><code>Global symbol &quot;$fh&quot; requires explicit package name at ...\nExecution of ... aborted due to compilation errors (#1)\n    (F) You've said &quot;use strict&quot; or &quot;use strict vars&quot;, which indicates \n    that all variables must either be lexically scoped (using &quot;my&quot; or &quot;state&quot;), \n    declared beforehand using &quot;our&quot;, or explicitly qualified to say \n    which package the global variable is in (using &quot;::&quot;).\n</code></pre>\n"}], "owner": {"reputation": 442, "user_id": 2556628, "user_type": "registered", "accept_rate": 88, "profile_image": "https://www.gravatar.com/avatar/af646ee19f9771df0b76fe42ce7df699?s=128&d=identicon&r=PG", "display_name": "anupamb", "link": "https://stackoverflow.com/users/2556628/anupamb"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 240, "favorite_count": 0, "accepted_answer_id": 35611951, "answer_count": 1, "score": 1, "last_activity_date": 1601594912, "creation_date": 1456344057, "last_edit_date": 1601594832, "question_id": 35611896, "link": "https://stackoverflow.com/questions/35611896/why-use-strict-doesnt-let-me-write-in-file", "title": "Why &#39;use strict&#39; doesn&#39;t let me write in file?", "body": "<p>Why does <code>use strict</code> not let me open and write in a file as in the code below? Commenting out <code>use strict</code> works perfectly.</p>\n<pre><code>use strict;\nuse warnings;\n\nmy $filename = &quot;file_abc.txt&quot;;\nopen($fh, '&gt;', $filename) or die(&quot;Couldn't open $filename\\n&quot;);\nprint $fh &quot;ABC&quot;;\nprint $fh &quot;DEF\\n&quot;;\nprint $fh &quot;GHI&quot;;\nclose $fh;\n</code></pre>\n"}, {"tags": ["perl", "paradigms"], "comments": [{"owner": {"reputation": 110113, "user_id": 168657, "user_type": "registered", "accept_rate": 92, "profile_image": "https://www.gravatar.com/avatar/f14e7610fca39322ebbf23530def15f8?s=128&d=identicon&r=PG", "display_name": "mob", "link": "https://stackoverflow.com/users/168657/mob"}, "edited": false, "score": 4, "creation_date": 1456347699, "post_id": 35611888, "comment_id": 58909861, "body": "<a href=\"https://metacpan.org/pod/attributes\" rel=\"nofollow noreferrer\"><code>attributes</code>?</a>"}, {"owner": {"reputation": 87649, "user_id": 17389, "user_type": "registered", "accept_rate": 38, "profile_image": "https://www.gravatar.com/avatar/cd06d1314817ce946ab796af8750b56a?s=128&d=identicon&r=PG", "display_name": "ysth", "link": "https://stackoverflow.com/users/17389/ysth"}, "edited": false, "score": 4, "creation_date": 1456348215, "post_id": 35611888, "comment_id": 58910124, "body": "Yes, I believe Catalyst uses attributes for this.  In contrast, Dancer has DSL wrapped around the sub, rather than having meta data attached to the sub."}, {"owner": {"reputation": 53041, "user_id": 4653379, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/b3953dbedd0dabff5cbc3db9b0835b14?s=128&d=identicon&r=PG&f=1", "display_name": "zdim", "link": "https://stackoverflow.com/users/4653379/zdim"}, "edited": false, "score": 0, "creation_date": 1456350517, "post_id": 35611888, "comment_id": 58911426, "body": "Not sure exactly what you&#39;re after ... did you conside closures?  Can do all kinds of things with them."}, {"owner": {"reputation": 113221, "user_id": 100754, "user_type": "registered", "accept_rate": 90, "profile_image": "https://www.gravatar.com/avatar/7804ebae32fbadef38537d74a915c22f?s=128&d=identicon&r=PG", "display_name": "Sinan &#220;n&#252;r", "link": "https://stackoverflow.com/users/100754/sinan-%c3%9cn%c3%bcr"}, "reply_to_user": {"reputation": 110113, "user_id": 168657, "user_type": "registered", "accept_rate": 92, "profile_image": "https://www.gravatar.com/avatar/f14e7610fca39322ebbf23530def15f8?s=128&d=identicon&r=PG", "display_name": "mob", "link": "https://stackoverflow.com/users/168657/mob"}, "edited": false, "score": 0, "creation_date": 1456353152, "post_id": 35611888, "comment_id": 58912832, "body": "&quot;Do you think this sort of function meta data would be useful?&quot; No. ... Are you trying to re-invent Java Beans? Regardless, as @mob points out, we already have attributes."}, {"owner": {"reputation": 53041, "user_id": 4653379, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/b3953dbedd0dabff5cbc3db9b0835b14?s=128&d=identicon&r=PG&f=1", "display_name": "zdim", "link": "https://stackoverflow.com/users/4653379/zdim"}, "edited": false, "score": 1, "creation_date": 1456353981, "post_id": 35611888, "comment_id": 58913199, "body": "Can&#39;t help but asking: why not turn this around and have a simple class? So the sub is a method with data. You get all requirements, and much more.  With that, I&#39;d say that a feature like this would not be useful."}], "answers": [{"tags": [], "owner": {"reputation": 7958, "user_id": 1069726, "user_type": "registered", "accept_rate": 67, "profile_image": "https://www.gravatar.com/avatar/2cbbae354bb4f5f320b93ab3ad4b0fa1?s=128&d=identicon&r=PG", "display_name": "LeoNerd", "link": "https://stackoverflow.com/users/1069726/leonerd"}, "is_accepted": true, "score": 4, "last_activity_date": 1456358319, "creation_date": 1456358319, "answer_id": 35615682, "question_id": 35611888, "link": "https://stackoverflow.com/questions/35611888/perl-is-there-any-way-to-associate-meta-data-with-functions/35615682#35615682", "title": "Perl: Is there any way to associate meta data with functions", "body": "<p>I did encounter this use-case a number of times, for example associating description and help text or parsing information with \"command handler\" subs. There's a number of approaches that people take, but the approach I took was to use subroutine attributes. I wrote an entire CPAN module, <a href=\"https://metacpan.org/pod/Attribute::Storage\" rel=\"nofollow\"><code>Attribute::Storage</code></a>, to help with declaring and accessing things. </p>\n\n<p>For example (quoting directly from the module docs), you can arrange to give your command handlers such metadata as:</p>\n\n<pre><code>sub do_copy\n   :Description(Copy from SOURCE to DESTINATION)\n   :Description(Optionally preserves attributes)\n   :Argument(\"SOURCE\")\n   :Argument(\"DESTINATION\")\n   :Option(\"attrs\")\n   :Option(\"verbose\")\n{\n   ...\n}\n</code></pre>\n"}], "owner": {"reputation": 1825, "user_id": 144680, "user_type": "registered", "accept_rate": 94, "profile_image": "https://www.gravatar.com/avatar/58902166474c9e08f5345fc247c8a78e?s=128&d=identicon&r=PG", "display_name": "NXT", "link": "https://stackoverflow.com/users/144680/nxt"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 79, "favorite_count": 0, "accepted_answer_id": 35615682, "answer_count": 1, "score": 0, "last_activity_date": 1456358319, "creation_date": 1456344033, "question_id": 35611888, "link": "https://stackoverflow.com/questions/35611888/perl-is-there-any-way-to-associate-meta-data-with-functions", "title": "Perl: Is there any way to associate meta data with functions", "body": "<p>It would be very useful to associate meta-data with functions.</p>\n\n<p>For example, in web frameworks, a page request is usually handled by function in the controller.</p>\n\n<p>Elsewhere, the mapping between URLs and functions is specified. </p>\n\n<p>It would be very useful to be able to write something like this:</p>\n\n<pre><code>sub object_list {\n  ...  # page rendering code\n} = {\n  handles_url =&gt; '/objects',  # the URL this function handles\n  is_action =&gt; 1,             # False if this is just a utility function\n  requires_login =&gt; 1,        # True if a login is required to access this action\n}\n</code></pre>\n\n<p>The advantages of this are:</p>\n\n<ul>\n<li>you have all the info about the function in one place</li>\n<li>reviewing the code for correctness is easier.</li>\n<li>things like login checking and sanity checking can be easier.</li>\n</ul>\n\n<p>I'm just curious if:</p>\n\n<ul>\n<li>you think this sort of function meta data would be useful.</li>\n<li>Has anyone come up with a reasonable way to do it in Perl?</li>\n<li>Are there any other languages that do this sort of thing?</li>\n</ul>\n"}, {"tags": ["perl"], "comments": [{"owner": {"reputation": 87649, "user_id": 17389, "user_type": "registered", "accept_rate": 38, "profile_image": "https://www.gravatar.com/avatar/cd06d1314817ce946ab796af8750b56a?s=128&d=identicon&r=PG", "display_name": "ysth", "link": "https://stackoverflow.com/users/17389/ysth"}, "edited": false, "score": 0, "creation_date": 1456349025, "post_id": 35611736, "comment_id": 58910580, "body": "The problem shouldn&#39;t have happened if you said <code>sub trim($)</code>.  That said, learning to cope with sub calls giving list context to their args would be better than messing with prototypes, so <code>trim(scalar readline...)</code> is preferred."}, {"owner": {"reputation": 21895, "user_id": 3895960, "user_type": "registered", "accept_rate": 97, "profile_image": "https://i.stack.imgur.com/C7YtN.jpg?s=128&g=1", "display_name": "Dici", "link": "https://stackoverflow.com/users/3895960/dici"}, "reply_to_user": {"reputation": 87649, "user_id": 17389, "user_type": "registered", "accept_rate": 38, "profile_image": "https://www.gravatar.com/avatar/cd06d1314817ce946ab796af8750b56a?s=128&d=identicon&r=PG", "display_name": "ysth", "link": "https://stackoverflow.com/users/17389/ysth"}, "edited": false, "score": 0, "creation_date": 1456354113, "post_id": 35611736, "comment_id": 58913266, "body": "If it wasn&#39;t such a pain for me to test this I would try adding back the parameter list"}], "answers": [{"comments": [{"owner": {"reputation": 21895, "user_id": 3895960, "user_type": "registered", "accept_rate": 97, "profile_image": "https://i.stack.imgur.com/C7YtN.jpg?s=128&g=1", "display_name": "Dici", "link": "https://stackoverflow.com/users/3895960/dici"}, "edited": false, "score": 0, "creation_date": 1456345799, "post_id": 35612211, "comment_id": 58908793, "body": "Ok that&#39;s cool, so I can apply the trim function to all the lines if I want, and then simply read from the array. That would make the rest of my code slighly nicer :) Cheers !"}, {"owner": {"reputation": 110113, "user_id": 168657, "user_type": "registered", "accept_rate": 92, "profile_image": "https://www.gravatar.com/avatar/f14e7610fca39322ebbf23530def15f8?s=128&d=identicon&r=PG", "display_name": "mob", "link": "https://stackoverflow.com/users/168657/mob"}, "edited": false, "score": 0, "creation_date": 1456345902, "post_id": 35612211, "comment_id": 58908872, "body": "Context is a confusing but powerful feature in Perl, and not a feature you are likely to have encountered in any other language."}, {"owner": {"reputation": 21895, "user_id": 3895960, "user_type": "registered", "accept_rate": 97, "profile_image": "https://i.stack.imgur.com/C7YtN.jpg?s=128&g=1", "display_name": "Dici", "link": "https://stackoverflow.com/users/3895960/dici"}, "edited": false, "score": 0, "creation_date": 1456345913, "post_id": 35612211, "comment_id": 58908877, "body": "Unless it is going to pass an array to <code>trim</code> ? I&#39;m going to check"}, {"owner": {"reputation": 21782, "user_id": 176646, "user_type": "registered", "accept_rate": 88, "profile_image": "https://i.stack.imgur.com/HsQyV.png?s=128&g=1", "display_name": "ThisSuitIsBlackNot", "link": "https://stackoverflow.com/users/176646/thissuitisblacknot"}, "edited": false, "score": 0, "creation_date": 1456350103, "post_id": 35612211, "comment_id": 58911193, "body": "<code>s&#47;array context&#47;list context&#47;</code>. Also, I think you left out the key point here: arguments to user-defined subroutines are always evaluated in list context (assuming no prototypes)."}, {"owner": {"reputation": 6592, "user_id": 3005251, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/a5331f7e467aae3d581fe8bc814ef572?s=128&d=identicon&r=PG", "display_name": "bolav", "link": "https://stackoverflow.com/users/3005251/bolav"}, "reply_to_user": {"reputation": 21782, "user_id": 176646, "user_type": "registered", "accept_rate": 88, "profile_image": "https://i.stack.imgur.com/HsQyV.png?s=128&g=1", "display_name": "ThisSuitIsBlackNot", "link": "https://stackoverflow.com/users/176646/thissuitisblacknot"}, "edited": false, "score": 0, "creation_date": 1456350508, "post_id": 35612211, "comment_id": 58911420, "body": "@ThisSuitIsBlackNot: Thank you. Updated my answer. I did tell that the sub was evaluated in list context, even if I didn&#39;t spell it out."}, {"owner": {"reputation": 21895, "user_id": 3895960, "user_type": "registered", "accept_rate": 97, "profile_image": "https://i.stack.imgur.com/C7YtN.jpg?s=128&g=1", "display_name": "Dici", "link": "https://stackoverflow.com/users/3895960/dici"}, "edited": false, "score": 0, "creation_date": 1456354222, "post_id": 35612211, "comment_id": 58913308, "body": "Thanks guys :) At least now I know about this. Not that I get to use Perl every day, but it may come handy in the future"}], "tags": [], "owner": {"reputation": 6592, "user_id": 3005251, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/a5331f7e467aae3d581fe8bc814ef572?s=128&d=identicon&r=PG", "display_name": "bolav", "link": "https://stackoverflow.com/users/3005251/bolav"}, "is_accepted": true, "score": 4, "last_activity_date": 1456350363, "last_edit_date": 1456350363, "creation_date": 1456345050, "answer_id": 35612211, "question_id": 35611736, "link": "https://stackoverflow.com/questions/35611736/nested-function-calls-in-perl/35612211#35612211", "title": "Nested function calls in Perl", "body": "<p>Perl will let the function it calls now if it wants an list or a scalar returned. You check this with <a href=\"http://perldoc.perl.org/functions/wantarray.html\" rel=\"nofollow\">wantarray</a>. <code>readline</code> reads all the lines into an array when you call it in list context, like you do in your second example. </p>\n\n<p>The second way is calling it like this, since (like @ThisSuitIsBlackNot's comment says) arguments to user-defined subroutines are always evaluated in list context (assuming no prototypes):</p>\n\n<pre><code>my @array = readline( *CONFIG );\ntrim(@array);\n</code></pre>\n\n<p>So here all the rest of the lines of <code>*CONFIG</code> is put into the array <code>@array</code>. Your <code>trim</code> function discards all other values than the first of them.</p>\n\n<p>To solve this and force the call to trim to be in scalar context do like this:</p>\n\n<pre><code>my $previousVersionHash = trim(scalar(readline( *CONFIG )));\n</code></pre>\n\n<p>or continue to call it like you do.</p>\n\n<p>To update <code>trim</code> to support arrays you could try something like:</p>\n\n<pre><code>sub trim {\n    my @a;\n    foreach my $s (@_) {\n        $s =~ s/^\\s+|\\s+$//g; \n        push @a, $s;\n    }\n    return @a;\n}\n</code></pre>\n"}], "owner": {"reputation": 21895, "user_id": 3895960, "user_type": "registered", "accept_rate": 97, "profile_image": "https://i.stack.imgur.com/C7YtN.jpg?s=128&g=1", "display_name": "Dici", "link": "https://stackoverflow.com/users/3895960/dici"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 245, "favorite_count": 0, "accepted_answer_id": 35612211, "answer_count": 1, "score": 2, "last_activity_date": 1456350363, "creation_date": 1456343580, "last_edit_date": 1456344149, "question_id": 35611736, "link": "https://stackoverflow.com/questions/35611736/nested-function-calls-in-perl", "title": "Nested function calls in Perl", "body": "<p>I've had to edit some Perl scripts for my work. I had never written a single line of Perl but I could get my thing working, until I bumped into a weird issue. Consider the following function </p>\n\n<pre><code>sub trim {\n    my $s = shift; \n    $s =~ s/^\\s+|\\s+$//g; \n    return $s \n}\n</code></pre>\n\n<p>with the two following ways of calling it :</p>\n\n<pre><code>my $previousVersionHash = readline( *CONFIG );\n$previousVersionHash = trim($previousVersionHash);\n$maxClients = readline( *CONFIG );\n</code></pre>\n\n<p>and </p>\n\n<pre><code>my $previousVersionHash = trim(readline( *CONFIG ));\n$maxClients = readline( *CONFIG );\n</code></pre>\n\n<p>In the first case, it works fine but with the second snippet I get warnings and <code>$maxClients</code> is empty instead of containing the second line of the <code>CONFIG</code> file.</p>\n\n<p>Why this strange behaviour ? Note that this also happened when I used <code>sub trim($)</code>. By the way, I don't know the difference between those two declarations but this is documented so I could take a look if it matters for this question.</p>\n"}, {"tags": ["perl"], "answers": [{"comments": [{"owner": {"reputation": 95, "user_id": 2799655, "user_type": "registered", "accept_rate": 0, "profile_image": "https://i.stack.imgur.com/x8L1s.jpg?s=128&g=1", "display_name": "Cristofayre", "link": "https://stackoverflow.com/users/2799655/cristofayre"}, "edited": false, "score": 0, "creation_date": 1456487599, "post_id": 35609907, "comment_id": 58982169, "body": "The &quot;get rid of [ ]&quot; I can understand; just put the letters between the forward slashes. But I&#39;m not so sure about the &quot;$ perl -E&#39; .... say;&#39; part. Since I have the shebang at the top of the script, do I need to put this second line in? Also, to my limited knowledge, isn&#39;t the single quotes making the whole SCRIPT into a literal, so how&#39;s that working? Re the pack command. Yes there is an unpack in the encoder, so I did miss the latter. Thanks"}], "tags": [], "owner": {"reputation": 320771, "user_id": 589924, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/b2cf53d5a3d25f95c0db4e025aed4153?s=128&d=identicon&r=PG", "display_name": "ikegami", "link": "https://stackoverflow.com/users/589924/ikegami"}, "is_accepted": false, "score": 5, "last_activity_date": 1456343357, "last_edit_date": 1456343357, "creation_date": 1456337737, "answer_id": 35609907, "question_id": 35609645, "link": "https://stackoverflow.com/questions/35609645/perl-library-identifier-too-long/35609907#35609907", "title": "Perl library: Identifier too long", "body": "<pre><code>$ perl -E'\n    $_ = \"! 9_44! 96476_6_68!h9d9d6666669n4!4d454_4 4|4 9n4!4d4 9d4j45634d6|6_9d4 63 ...\";\n    tr/[hjndr 9_45|863!7]/[acefbd2461507938]/;\n    say;\n'\n3d24663d27687474703a2f2f7777772e636f61646d656d2e636f6d2f6c61796f75742f6d79d...\n</code></pre>\n\n<p>That is indeed a very very long identifier.</p>\n\n<p>That looks like hex. Let's try converting the sequence from hex into bytes and rendering them on a UTF-8 terminal.</p>\n\n<pre><code>$ perl -E'\n    $_ = \"! 9_44! 96476_6_68!h9d9d6666669n4!4d454_4 4|4 9n4!4d4 9d4j45634d6|6_9d4 63 ...\";\n    tr/[hjndr 9_45|863!7]/[acefbd2461507938]/;\n    $_ = pack(\"H*\", $_);\n    say;\n'\n=$f='http://www.coadmem.com/layout/my&lt;garbage&gt;\n</code></pre>\n\n<p>Bingo! You forgot <code>$_ = pack(\"H*\", $_);</code> in your filter.</p>\n\n<hr>\n\n<p>By the way, <code>tr/[abc]/[def]/</code> is equivalent <code>tr/][abc/][def/</code>, which is equivalent to <code>tr/abc/def/</code> (except for the returned value you ignore). Get rid of <code>[</code> and <code>]</code>!</p>\n"}], "owner": {"reputation": 95, "user_id": 2799655, "user_type": "registered", "accept_rate": 0, "profile_image": "https://i.stack.imgur.com/x8L1s.jpg?s=128&g=1", "display_name": "Cristofayre", "link": "https://stackoverflow.com/users/2799655/cristofayre"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 192, "favorite_count": 0, "answer_count": 1, "score": 1, "last_activity_date": 1456343357, "creation_date": 1456336901, "last_edit_date": 1456337952, "question_id": 35609645, "link": "https://stackoverflow.com/questions/35609645/perl-library-identifier-too-long", "title": "Perl library: Identifier too long", "body": "<p>I am attempting to obfusicate some code, and using a short \"pm\" library. The code is in the cgi-bin. But I am getting \"Identifier too long\" errors ... yet the line it's deciphering is only 1016 chars in plain form.</p>\n\n<p>Here is the library:</p>\n\n<pre><code>package dml;\n\nuse Filter::Simple;\n\nFILTER {\n    $_=~tr/[hjndr 9_45|863!7]/[acefbd2461507938]/;\n}\n</code></pre>\n\n<p>And the actual program itself ...</p>\n\n<pre><code>BEGIN {\n    $path = 'D:/home/cristofa/';\n}\n\nuse lib $path;\nuse dml;\n! 9_44! 96476_6_68!h9d9d6666669n4!4d454_4 4|4 9n4!4d4 9d4j45634d6|6_9d4 63 ...\nno dml; \n</code></pre>\n\n<p>I have shortened the code for obvious reasons.</p>\n\n<p>As well as the \"identifier too long\", I can change other bits, (I think removing filter::simple and using tr~ on its own) and then get \"NO is not allowed\" referring to the 'no dml' line. I tried putting the data into $_='! 9_44 ...' but that comes back re changing a read only value!!!</p>\n\n<p>If you're curious, the first two figures above SHOULD convert to \"3d\". I step through the decoded string two at a time, and thus hex for the above is \"=\", (since the first line of the decoded file is \"$f='xyz';\" - and I ran into problems trying to substitute the Dollar back to a variable - I ended up using \"=$f='xyz';\" in the script and then using $data=~s/=\\$/\\$/g; when converting)</p>\n\n<p>But my 'dilemma' is why that 1016 byte line is causing the script to throw a \"wobbly\" when I have another program using a library which decodes 2678 bytes with no problem.</p>\n"}, {"tags": ["perl", "hash"], "comments": [{"owner": {"reputation": 10008, "user_id": 462006, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/37peF.jpg?s=128&g=1", "display_name": "scrappedcola", "link": "https://stackoverflow.com/users/462006/scrappedcola"}, "edited": false, "score": 0, "creation_date": 1456336326, "post_id": 35609420, "comment_id": 58903164, "body": "You can do either. There are plenty of resources on how to create hashes of arrays or hashes of hashes. Have you tried any of them?"}, {"owner": {"reputation": 21782, "user_id": 176646, "user_type": "registered", "accept_rate": 88, "profile_image": "https://i.stack.imgur.com/HsQyV.png?s=128&g=1", "display_name": "ThisSuitIsBlackNot", "link": "https://stackoverflow.com/users/176646/thissuitisblacknot"}, "edited": false, "score": 1, "creation_date": 1456336385, "post_id": 35609420, "comment_id": 58903211, "body": "The best way to store the data depends on how you intend to use it, and on what the data itself looks like. For example, I would probably create an array of hashes, but if each job name is guaranteed to be unique, it might be easier to make a hash of hashes where the top-level keys are job names. So, how do you intend to use the data?"}, {"owner": {"reputation": 119, "user_id": 4214304, "user_type": "registered", "accept_rate": 85, "profile_image": "https://www.gravatar.com/avatar/7f3428e7f4045ccf9400def1f74875e5?s=128&d=identicon&r=PG&f=1", "display_name": "SilentUK", "link": "https://stackoverflow.com/users/4214304/silentuk"}, "reply_to_user": {"reputation": 10008, "user_id": 462006, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/37peF.jpg?s=128&g=1", "display_name": "scrappedcola", "link": "https://stackoverflow.com/users/462006/scrappedcola"}, "edited": false, "score": 0, "creation_date": 1456336598, "post_id": 35609420, "comment_id": 58903337, "body": "@scrappedcola I am aware you can create a hash of hashes my question is how to do this whilst reading from a file. I can&#39;t work out how to store the 4 lines and then when it hits job B start a new hash.  I can only store all the information into a single array."}, {"owner": {"reputation": 119, "user_id": 4214304, "user_type": "registered", "accept_rate": 85, "profile_image": "https://www.gravatar.com/avatar/7f3428e7f4045ccf9400def1f74875e5?s=128&d=identicon&r=PG&f=1", "display_name": "SilentUK", "link": "https://stackoverflow.com/users/4214304/silentuk"}, "reply_to_user": {"reputation": 21782, "user_id": 176646, "user_type": "registered", "accept_rate": 88, "profile_image": "https://i.stack.imgur.com/HsQyV.png?s=128&g=1", "display_name": "ThisSuitIsBlackNot", "link": "https://stackoverflow.com/users/176646/thissuitisblacknot"}, "edited": false, "score": 0, "creation_date": 1456336602, "post_id": 35609420, "comment_id": 58903340, "body": "@ThisSuitIsBlackNot The job names are guaranteed to be unique, this is why i also thought a hash of hashes would be better.  I am trying to create a memory manager so these jobs will be passed into a fake ram file that i will create and then depending on the type of partition selected it will run a simulation of &quot;processing&quot; the jobs."}], "answers": [{"comments": [{"owner": {"reputation": 119, "user_id": 4214304, "user_type": "registered", "accept_rate": 85, "profile_image": "https://www.gravatar.com/avatar/7f3428e7f4045ccf9400def1f74875e5?s=128&d=identicon&r=PG&f=1", "display_name": "SilentUK", "link": "https://stackoverflow.com/users/4214304/silentuk"}, "edited": false, "score": 0, "creation_date": 1456338959, "post_id": 35609725, "comment_id": 58904729, "body": "Exactly what i needed.  Thank you so much."}, {"owner": {"reputation": 119, "user_id": 4214304, "user_type": "registered", "accept_rate": 85, "profile_image": "https://www.gravatar.com/avatar/7f3428e7f4045ccf9400def1f74875e5?s=128&d=identicon&r=PG&f=1", "display_name": "SilentUK", "link": "https://stackoverflow.com/users/4214304/silentuk"}, "edited": false, "score": 0, "creation_date": 1456366920, "post_id": 35609725, "comment_id": 58917324, "body": "How can i set local $/ back to its default value?  Once i have read this file I wish to read another file and because of the local $/ it is not storing correctly.  I have tried setting it to undef and &quot;\\n\\n&quot; but it still does not store the next hash correctly due to there being no paragraph spaces."}, {"owner": {"reputation": 6258, "user_id": 82262, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/8ce15931410b388a52eb2df4a864137f?s=128&d=identicon&r=PG&f=1", "display_name": "Matt Jacob", "link": "https://stackoverflow.com/users/82262/matt-jacob"}, "reply_to_user": {"reputation": 119, "user_id": 4214304, "user_type": "registered", "accept_rate": 85, "profile_image": "https://www.gravatar.com/avatar/7f3428e7f4045ccf9400def1f74875e5?s=128&d=identicon&r=PG&f=1", "display_name": "SilentUK", "link": "https://stackoverflow.com/users/4214304/silentuk"}, "edited": false, "score": 0, "creation_date": 1456373999, "post_id": 35609725, "comment_id": 58919350, "body": "@SilentUK The default is newline, but you probably just want to <a href=\"http://perldoc.perl.org/functions/local.html\" rel=\"nofollow noreferrer\">localize</a> <code>$&#47;</code> to a block..."}], "tags": [], "owner": {"reputation": 6258, "user_id": 82262, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/8ce15931410b388a52eb2df4a864137f?s=128&d=identicon&r=PG&f=1", "display_name": "Matt Jacob", "link": "https://stackoverflow.com/users/82262/matt-jacob"}, "is_accepted": true, "score": 3, "last_activity_date": 1456338395, "last_edit_date": 1456338395, "creation_date": 1456337197, "answer_id": 35609725, "question_id": 35609420, "link": "https://stackoverflow.com/questions/35609420/how-to-create-a-hash-of-arrays-or-hash-of-hashes/35609725#35609725", "title": "How to create a hash of arrays or hash of hashes", "body": "<p>The key is to set <code>$/</code> (the <a href=\"http://perldoc.perl.org/perlvar.html#%24INPUT_RECORD_SEPARATOR\" rel=\"nofollow\">input record separator</a>) properly:</p>\n\n<blockquote>\n  <p>This influences Perl's idea of what a \"line\" is. Works like awk's RS\n  variable, including treating empty lines as a terminator if set to the\n  null string (an empty line cannot contain any spaces or tabs). You may\n  set it to a multi-character string to match a multi-character\n  terminator, or to <code>undef</code> to read through the end of file. Setting it\n  to <code>\"\\n\\n\"</code> means something slightly different than setting to <code>\"\"</code>,\n  if the file contains consecutive empty lines. Setting to <code>\"\"</code> will\n  treat two or more consecutive empty lines as a single empty line.\n  Setting to <code>\"\\n\\n\"</code> will blindly assume that the next input character\n  belongs to the next paragraph, even if it's a newline.</p>\n</blockquote>\n\n<p>Then we just take advantage of how the records are laid out by <code>split</code>-ing directly into a hash reference:</p>\n\n<pre><code>use strict;\nuse warnings;\n\nuse Data::Dump;\n\nlocal $/ = \"\";\nmy @jobs;\n\nwhile (&lt;DATA&gt;) {\n    push(@jobs, {split(/:\\s*|\\n/)});\n}\n\ndd(\\@jobs);\n\n__DATA__\nJobName: A\nJobSize: 100\nJobArrival:1\nJobExe:100\n\nJobName: B\nJobSize: 100\nJobArrival:2\nJobExe:100\n\nJobName: C\nJobSize: 100\nJobArrival:3\nJobExe:100\n\nJobName: D\nJobSize: 100\nJobArrival:4\nJobExe:100\n</code></pre>\n\n<p>Or just:</p>\n\n<pre><code>my @jobs = map { {split(/:\\s*|\\n/)} } &lt;DATA&gt;;\n</code></pre>\n\n<p>Output:</p>\n\n<pre><code>[\n  { JobArrival =&gt; 1, JobExe =&gt; 100, JobName =&gt; \"A\", JobSize =&gt; 100 },\n  { JobArrival =&gt; 2, JobExe =&gt; 100, JobName =&gt; \"B\", JobSize =&gt; 100 },\n  { JobArrival =&gt; 3, JobExe =&gt; 100, JobName =&gt; \"C\", JobSize =&gt; 100 },\n  { JobArrival =&gt; 4, JobExe =&gt; 100, JobName =&gt; \"D\", JobSize =&gt; 100 },\n]\n</code></pre>\n\n<p>An array of hashes (the previous example) would be my preference, but if you wanted a hash of hashes, you'd need to modify the code slightly:</p>\n\n<pre><code>my %jobs;\n\nwhile (&lt;DATA&gt;) {\n    my %temp = split(/:\\s*|\\n/);\n    $jobs{delete($temp{JobName})} = \\%temp;\n}\n\ndd(\\%jobs);\n</code></pre>\n\n<p>Output:</p>\n\n<pre><code>{\n  A =&gt; { JobArrival =&gt; 1, JobExe =&gt; 100, JobSize =&gt; 100 },\n  B =&gt; { JobArrival =&gt; 2, JobExe =&gt; 100, JobSize =&gt; 100 },\n  C =&gt; { JobArrival =&gt; 3, JobExe =&gt; 100, JobSize =&gt; 100 },\n  D =&gt; { JobArrival =&gt; 4, JobExe =&gt; 100, JobSize =&gt; 100 },\n}\n</code></pre>\n"}], "owner": {"reputation": 119, "user_id": 4214304, "user_type": "registered", "accept_rate": 85, "profile_image": "https://www.gravatar.com/avatar/7f3428e7f4045ccf9400def1f74875e5?s=128&d=identicon&r=PG&f=1", "display_name": "SilentUK", "link": "https://stackoverflow.com/users/4214304/silentuk"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 134, "favorite_count": 0, "accepted_answer_id": 35609725, "answer_count": 1, "score": -2, "last_activity_date": 1456338395, "creation_date": 1456336170, "last_edit_date": 1456336325, "question_id": 35609420, "link": "https://stackoverflow.com/questions/35609420/how-to-create-a-hash-of-arrays-or-hash-of-hashes", "title": "How to create a hash of arrays or hash of hashes", "body": "<p>I have a file named Jobs.conf which contains: </p>\n\n<pre><code>JobName: A  \nJobSize: 100\nJobArrival:1\nJobExe:100  \n\nJobName: B\nJobSize: 100\nJobArrival:2\nJobExe:100 \n\nJobName: C\nJobSize: 100\nJobArrival:3\nJobExe:100\n\nJobName: D\nJobSize: 100\nJobArrival:4\nJobExe:100  \n</code></pre>\n\n<p>Is it possible to read this file so each Job is stored in an array and then the 4 arrays are stored in a hash?  Would it make more sense to store this as a hash of hashes and is that possible?</p>\n"}, {"tags": ["perl", "if-statement"], "answers": [{"comments": [{"owner": {"reputation": 22591, "user_id": 1150683, "user_type": "registered", "accept_rate": 96, "profile_image": "https://www.gravatar.com/avatar/4171d32ed59549af71dff8c1682f17cc?s=128&d=identicon&r=PG&f=1", "display_name": "Bram Vanroy", "link": "https://stackoverflow.com/users/1150683/bram-vanroy"}, "edited": false, "score": 0, "creation_date": 1456325343, "post_id": 35605292, "comment_id": 58895146, "body": "Oh I see! Is there a way to see this <i>perldoc</i> from the terminal? Similar to <code>perl --help</code>?"}, {"owner": {"reputation": 51521, "user_id": 2566198, "user_type": "registered", "accept_rate": 67, "profile_image": "https://i.stack.imgur.com/Y34ZA.jpg?s=128&g=1", "display_name": "Sobrique", "link": "https://stackoverflow.com/users/2566198/sobrique"}, "edited": false, "score": 0, "creation_date": 1456325375, "post_id": 35605292, "comment_id": 58895174, "body": "That&#39;s a particularly annoying <code>perldoc</code> for being hard to find. But it&#39;s inherited from shell, so the manpage on <code>test</code> says mostly the same things. But <code>perldoc -f -X</code>  should do it."}, {"owner": {"reputation": 50468, "user_id": 1331451, "user_type": "registered", "accept_rate": 96, "profile_image": "https://i.stack.imgur.com/4ZPmj.png?s=128&g=1", "display_name": "simbabque", "link": "https://stackoverflow.com/users/1331451/simbabque"}, "reply_to_user": {"reputation": 22591, "user_id": 1150683, "user_type": "registered", "accept_rate": 96, "profile_image": "https://www.gravatar.com/avatar/4171d32ed59549af71dff8c1682f17cc?s=128&d=identicon&r=PG&f=1", "display_name": "Bram Vanroy", "link": "https://stackoverflow.com/users/1150683/bram-vanroy"}, "edited": false, "score": 0, "creation_date": 1456325381, "post_id": 35605292, "comment_id": 58895175, "body": "@bram <code>perldoc -f -X</code>"}, {"owner": {"reputation": 81037, "user_id": 8454, "user_type": "registered", "accept_rate": 100, "profile_image": "https://i.stack.imgur.com/2NlHs.png?s=128&g=1", "display_name": "Andy Lester", "link": "https://stackoverflow.com/users/8454/andy-lester"}, "edited": false, "score": 1, "creation_date": 1456325395, "post_id": 35605292, "comment_id": 58895189, "body": "<code>perldoc -f -X</code>.  <code>-f</code> means &quot;function&quot; and <code>-X</code> is the &quot;name of the function&quot;, which it isn&#39;t really, but that&#39;s how it is."}, {"owner": {"reputation": 22591, "user_id": 1150683, "user_type": "registered", "accept_rate": 96, "profile_image": "https://www.gravatar.com/avatar/4171d32ed59549af71dff8c1682f17cc?s=128&d=identicon&r=PG&f=1", "display_name": "Bram Vanroy", "link": "https://stackoverflow.com/users/1150683/bram-vanroy"}, "edited": false, "score": 0, "creation_date": 1456325504, "post_id": 35605292, "comment_id": 58895275, "body": "Thanks all. You&#39;re all very fast today!"}, {"owner": {"reputation": 21782, "user_id": 176646, "user_type": "registered", "accept_rate": 88, "profile_image": "https://i.stack.imgur.com/HsQyV.png?s=128&g=1", "display_name": "ThisSuitIsBlackNot", "link": "https://stackoverflow.com/users/176646/thissuitisblacknot"}, "reply_to_user": {"reputation": 22591, "user_id": 1150683, "user_type": "registered", "accept_rate": 96, "profile_image": "https://www.gravatar.com/avatar/4171d32ed59549af71dff8c1682f17cc?s=128&d=identicon&r=PG&f=1", "display_name": "Bram Vanroy", "link": "https://stackoverflow.com/users/1150683/bram-vanroy"}, "edited": false, "score": 0, "creation_date": 1456331472, "post_id": 35605292, "comment_id": 58899608, "body": "@BramVanroy Actually you can do <code>perldoc -f -e</code> (works for any of the file test operators, e.g. <code>perldoc -f -d</code>, <code>perldoc -f -T</code>, etc.)"}], "tags": [], "owner": {"reputation": 793701, "user_id": 19068, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/1d2d3229ed1961d2bd81853242493247?s=128&d=identicon&r=PG", "display_name": "Quentin", "link": "https://stackoverflow.com/users/19068/quentin"}, "is_accepted": true, "score": 6, "last_activity_date": 1456325211, "creation_date": 1456325211, "answer_id": 35605292, "question_id": 35605260, "link": "https://stackoverflow.com/questions/35605260/what-does-e-do-in-this-if-clause-in-perl/35605292#35605292", "title": "What does -e do in this if-clause in Perl", "body": "<p>You're looking at the wrong definition. That's a description of the command line switch for the perl executable. </p>\n\n<p>You need to see the <a href=\"http://perldoc.perl.org/functions/-X.html\">perldoc for -X</a>:</p>\n\n<blockquote>\n  <p>A file test, where X is one of the letters listed below. This unary operator takes one argument, either a filename, a filehandle, or a dirhandle, and tests the associated file to see if something is true about it. </p>\n  \n  <p>\u2026</p>\n\n<pre><code>-e  File exists.\n</code></pre>\n</blockquote>\n"}], "owner": {"reputation": 22591, "user_id": 1150683, "user_type": "registered", "accept_rate": 96, "profile_image": "https://www.gravatar.com/avatar/4171d32ed59549af71dff8c1682f17cc?s=128&d=identicon&r=PG&f=1", "display_name": "Bram Vanroy", "link": "https://stackoverflow.com/users/1150683/bram-vanroy"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 56, "favorite_count": 0, "closed_date": 1456332279, "accepted_answer_id": 35605292, "answer_count": 1, "score": 0, "last_activity_date": 1456325211, "creation_date": 1456325141, "question_id": 35605260, "link": "https://stackoverflow.com/questions/35605260/what-does-e-do-in-this-if-clause-in-perl", "closed_reason": "Duplicate", "title": "What does -e do in this if-clause in Perl", "body": "<p>I am looking through some Perl code and I got to this part:</p>\n\n<pre><code>foreach (@somevar) {\n  if (-e \"$_/$anothervar\") {\n      $boolflag=1;\n      last;\n  }\n}\n</code></pre>\n\n<p>Yet I can't figure out what -e does. I am thinking the string afterwards is a path (deriving from its structure) but that's as far as I understand what is happening.</p>\n\n<p>I looked for -e in the Perl help, but I don't understand how <code>-e</code> from this definition would work in an if-clause.</p>\n\n<pre><code>-e program        one line of program (several -e's allowed, omit programfile)\n</code></pre>\n"}, {"tags": ["perl"], "answers": [{"comments": [{"owner": {"reputation": 99, "user_id": 5825707, "user_type": "registered", "accept_rate": 67, "profile_image": "https://www.gravatar.com/avatar/01671dae7d225e96fd680d0b0d7d3892?s=128&d=identicon&r=PG", "display_name": "user30771", "link": "https://stackoverflow.com/users/5825707/user30771"}, "edited": false, "score": 0, "creation_date": 1456324616, "post_id": 35605028, "comment_id": 58894566, "body": "Thank you for answering so fast! :)"}, {"owner": {"reputation": 219167, "user_id": 2380830, "user_type": "registered", "accept_rate": 89, "profile_image": "https://i.stack.imgur.com/5qiYa.jpg?s=128&g=1", "display_name": "Bathsheba", "link": "https://stackoverflow.com/users/2380830/bathsheba"}, "reply_to_user": {"reputation": 99, "user_id": 5825707, "user_type": "registered", "accept_rate": 67, "profile_image": "https://www.gravatar.com/avatar/01671dae7d225e96fd680d0b0d7d3892?s=128&d=identicon&r=PG", "display_name": "user30771", "link": "https://stackoverflow.com/users/5825707/user30771"}, "edited": false, "score": 0, "creation_date": 1456324658, "post_id": 35605028, "comment_id": 58894600, "body": "A 2 minute wait is an eternity on some tags ;-) It&#39;s true also in C, C++, and Java. The only language I can think of that <b>doesn&#39;t</b> do this is VBA."}, {"owner": {"reputation": 51521, "user_id": 2566198, "user_type": "registered", "accept_rate": 67, "profile_image": "https://i.stack.imgur.com/Y34ZA.jpg?s=128&g=1", "display_name": "Sobrique", "link": "https://stackoverflow.com/users/2566198/sobrique"}, "edited": false, "score": 1, "creation_date": 1456324838, "post_id": 35605028, "comment_id": 58894744, "body": "This is true in many languages, and is often used as a feature. <code>.&#47;configure &amp;&amp; make &amp;&amp; make test &amp;&amp; make install</code> for example :)"}, {"owner": {"reputation": 320771, "user_id": 589924, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/b2cf53d5a3d25f95c0db4e025aed4153?s=128&d=identicon&r=PG", "display_name": "ikegami", "link": "https://stackoverflow.com/users/589924/ikegami"}, "edited": false, "score": 0, "creation_date": 1456327032, "post_id": 35605028, "comment_id": 58896208, "body": "Or in Perl: <code>open(...) or die $!;</code>"}, {"owner": {"reputation": 320771, "user_id": 589924, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/b2cf53d5a3d25f95c0db4e025aed4153?s=128&d=identicon&r=PG", "display_name": "ikegami", "link": "https://stackoverflow.com/users/589924/ikegami"}, "edited": false, "score": 1, "creation_date": 1456327138, "post_id": 35605028, "comment_id": 58896283, "body": "@Bathsheba, Apparently, C++ <b>doesn&#39;t</b> short-circuit when the operators are overloaded (<a href=\"http://stackoverflow.com/a/628554/589924\">ref</a>)."}, {"owner": {"reputation": 219167, "user_id": 2380830, "user_type": "registered", "accept_rate": 89, "profile_image": "https://i.stack.imgur.com/5qiYa.jpg?s=128&g=1", "display_name": "Bathsheba", "link": "https://stackoverflow.com/users/2380830/bathsheba"}, "reply_to_user": {"reputation": 320771, "user_id": 589924, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/b2cf53d5a3d25f95c0db4e025aed4153?s=128&d=identicon&r=PG", "display_name": "ikegami", "link": "https://stackoverflow.com/users/589924/ikegami"}, "edited": false, "score": 1, "creation_date": 1456327311, "post_id": 35605028, "comment_id": 58896416, "body": "@ikegami: you&#39;re absolutely right. The reason is simple: the overloaded function takes two parameters and both parameters are evaluated before the function body is reached. I was asked this at interview once."}], "tags": [], "owner": {"reputation": 219167, "user_id": 2380830, "user_type": "registered", "accept_rate": 89, "profile_image": "https://i.stack.imgur.com/5qiYa.jpg?s=128&g=1", "display_name": "Bathsheba", "link": "https://stackoverflow.com/users/2380830/bathsheba"}, "is_accepted": false, "score": 2, "last_activity_date": 1456324624, "last_edit_date": 1456324624, "creation_date": 1456324548, "answer_id": 35605028, "question_id": 35604985, "link": "https://stackoverflow.com/questions/35604985/if-efficiency-when-evaluating-2-expressions/35605028#35605028", "title": "&#39;If&#39; efficiency when evaluating 2 expressions", "body": "<p>No, <code>expression2</code> will <strong>not</strong> be evaluated if <code>expression1</code> is <code>true.</code></p>\n\n<p>This is because <code>or</code> is <em>short-circutted</em> in perl: once the result of the entire expression is known, evaluation stops. Evaluation occurs from left to right.</p>\n"}], "owner": {"reputation": 99, "user_id": 5825707, "user_type": "registered", "accept_rate": 67, "profile_image": "https://www.gravatar.com/avatar/01671dae7d225e96fd680d0b0d7d3892?s=128&d=identicon&r=PG", "display_name": "user30771", "link": "https://stackoverflow.com/users/5825707/user30771"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 45, "favorite_count": 0, "closed_date": 1456325020, "answer_count": 1, "score": 0, "last_activity_date": 1456324624, "creation_date": 1456324404, "question_id": 35604985, "link": "https://stackoverflow.com/questions/35604985/if-efficiency-when-evaluating-2-expressions", "closed_reason": "Duplicate", "title": "&#39;If&#39; efficiency when evaluating 2 expressions", "body": "<pre><code>if(expression1 or expression 2)\n{\ndo something\n}\n</code></pre>\n\n<p>If 'expression1' returns true, does the compiler starts to execute 'do something' or it evaluates the second expression too?</p>\n"}, {"tags": ["perl", "hash", "reference"], "comments": [{"owner": {"reputation": 50468, "user_id": 1331451, "user_type": "registered", "accept_rate": 96, "profile_image": "https://i.stack.imgur.com/4ZPmj.png?s=128&g=1", "display_name": "simbabque", "link": "https://stackoverflow.com/users/1331451/simbabque"}, "edited": false, "score": 2, "creation_date": 1456323352, "post_id": 35604549, "comment_id": 58893603, "body": "<code>my %p = @_; my $arr = $p{name}; my @a = @$arr;</code> :P"}, {"owner": {"reputation": 320771, "user_id": 589924, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/b2cf53d5a3d25f95c0db4e025aed4153?s=128&d=identicon&r=PG", "display_name": "ikegami", "link": "https://stackoverflow.com/users/589924/ikegami"}, "edited": false, "score": 0, "creation_date": 1456327238, "post_id": 35604549, "comment_id": 58896371, "body": "Most would skip doing <code>my @a = @$arr;</code> as a needless waste of time."}], "answers": [{"comments": [{"owner": {"reputation": 50468, "user_id": 1331451, "user_type": "registered", "accept_rate": 96, "profile_image": "https://i.stack.imgur.com/4ZPmj.png?s=128&g=1", "display_name": "simbabque", "link": "https://stackoverflow.com/users/1331451/simbabque"}, "edited": false, "score": 2, "creation_date": 1456323923, "post_id": 35604728, "comment_id": 58894011, "body": "Right, turning it into a reference works. I didn&#39;t think of that."}], "tags": [], "owner": {"reputation": 113221, "user_id": 100754, "user_type": "registered", "accept_rate": 90, "profile_image": "https://www.gravatar.com/avatar/7804ebae32fbadef38537d74a915c22f?s=128&d=identicon&r=PG", "display_name": "Sinan &#220;n&#252;r", "link": "https://stackoverflow.com/users/100754/sinan-%c3%9cn%c3%bcr"}, "is_accepted": true, "score": 3, "last_activity_date": 1456325949, "last_edit_date": 1456325949, "creation_date": 1456323765, "answer_id": 35604728, "question_id": 35604549, "link": "https://stackoverflow.com/questions/35604549/perl-hash-array-and-references/35604728#35604728", "title": "Perl hash, array and references", "body": "<pre><code>my %p = @_;\n</code></pre>\n\n<p><code>@_</code> is assumed to contain key-value pairs which are then used to construct the hash <code>%p</code>.</p>\n\n<pre><code>my $arr = $p{name};\n</code></pre>\n\n<p>The argument list is assumed to have contained something along the lines of <code>name, [1, 2, 3,]</code> so that <code>$p{name}</code> is an reference to an array.</p>\n\n<pre><code>my @a = @$arr;\n</code></pre>\n\n<p>Dereference that array reference to get the array <code>@</code>.</p>\n\n<p>Here is an invocation that might work with this prelude in a <code>sub</code>:</p>\n\n<pre><code>func(this =&gt; 'that', name =&gt; [1, 2, 3]);\n</code></pre>\n\n<p>If you want to reduce the whole prelude to a single statement, you can use:</p>\n\n<pre><code>my @a = @{ { @_ }-&gt;{name} };\n</code></pre>\n\n<p>as in:</p>\n\n<pre><code>#!/usr/bin/env perl\n\nuse strict;\nuse warnings;\n\nuse YAML::XS;\n\nfunc(this =&gt; 'that', name =&gt; [1, 2, 3]);\n\nsub func {\n    my @a = @{ { @_ }-&gt;{name} };\n    print Dump \\@a;\n}\n</code></pre>\n\n<p>Output:</p>\n\n<pre>---\n- 1\n- 2\n- 3</pre>\n\n<p>If the array pointed to by <code>name</code> is large, and if you do <em>not</em> need a shallow copy, however, it may be better to just stick with references:</p>\n\n<pre><code>my $aref = { @_ }-&gt;{ name };\n</code></pre>\n"}, {"tags": [], "owner": {"reputation": 51521, "user_id": 2566198, "user_type": "registered", "accept_rate": 67, "profile_image": "https://i.stack.imgur.com/Y34ZA.jpg?s=128&g=1", "display_name": "Sobrique", "link": "https://stackoverflow.com/users/2566198/sobrique"}, "is_accepted": false, "score": 0, "last_activity_date": 1456324120, "creation_date": 1456324120, "answer_id": 35604874, "question_id": 35604549, "link": "https://stackoverflow.com/questions/35604549/perl-hash-array-and-references/35604874#35604874", "title": "Perl hash, array and references", "body": "<p>OK so what you're doing is:</p>\n\n<ul>\n<li>Assign a list of elements passed to the sub, to a hash.</li>\n<li>extract a value from that hash (that appears to be an array reference)</li>\n<li>dereference <em>that</em> into a standalone array.</li>\n</ul>\n\n<p>Now, I'm going to have to make some guesses as to what you're putting <em>in</em>:</p>\n\n<pre><code>#!/usr/bin/perl\n\nuse warnings;\nuse strict;\n\nuse Data::Dumper;\n\nsub test {\n    my %p = @_;\n    my $arr = $p{name};\n    my @a = @$arr;\n    print Dumper \\@a; \n}\n\nmy %input = ( fish =&gt; [ \"value\", \"another value\" ],\n              name =&gt; [ \"more\", \"less\" ], );\n\ntest ( %input ); \n</code></pre>\n\n<p>So with that in mind:</p>\n\n<pre><code>sub test {\n    print join \"\\n\", @{{@_}-&gt;{name}},\"\\n\";\n}\n</code></pre>\n\n<p>But actually, I'd suggest what you <em>probably</em> want to do is pass in the hashref in the first place:</p>\n\n<pre><code>#!/usr/bin/perl\n\nuse warnings;\nuse strict;\n\nuse Data::Dumper;\n\nsub test {\n    my ( $input_hashref ) = @_;\n    print Dumper \\@{$input_hashref -&gt; {name}};\n}\n\nmy %input = ( fish =&gt; [ \"value\", \"another value\" ],\n              name =&gt; [ \"more\", \"less\" ], );\ntest ( \\%input ); \n</code></pre>\n\n<p>Also:</p>\n\n<ul>\n<li>Don't use single letter variable names. It's bad style. </li>\n<li>that goes double for <code>a</code> and <code>b</code> because <code>$a</code> and <code>$b</code> are for sorting. (And using <code>@a</code> is confusing as a result). </li>\n</ul>\n"}], "owner": {"reputation": 353, "user_id": 2614824, "user_type": "registered", "accept_rate": 58, "profile_image": "https://graph.facebook.com/1600129363/picture?type=large", "display_name": "SF1", "link": "https://stackoverflow.com/users/2614824/sf1"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 59, "favorite_count": 0, "accepted_answer_id": 35604728, "answer_count": 2, "score": 2, "last_activity_date": 1456325949, "creation_date": 1456323295, "question_id": 35604549, "link": "https://stackoverflow.com/questions/35604549/perl-hash-array-and-references", "title": "Perl hash, array and references", "body": "<p>I have this 3 lines of code in a sub and I'm trying to write them together on one line only.. but I'm quite lost</p>\n\n<pre><code>    my %p = @_;\n    my $arr = $p{name};\n    my @a = @$arr;\n</code></pre>\n\n<p>what's the correct way of doing this?</p>\n\n<p>thank you!</p>\n"}, {"tags": ["perl"], "comments": [{"owner": {"reputation": 6258, "user_id": 82262, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/8ce15931410b388a52eb2df4a864137f?s=128&d=identicon&r=PG&f=1", "display_name": "Matt Jacob", "link": "https://stackoverflow.com/users/82262/matt-jacob"}, "edited": false, "score": 1, "creation_date": 1456328462, "post_id": 35604313, "comment_id": 58897220, "body": "Two things: 1. always include <code>use strict</code> and <code>use warnings</code> at the top of every script, and 2. you&#39;re a little <a href=\"http://perldoc.perl.org/functions/chomp.html\" rel=\"nofollow noreferrer\"><code>chomp</code></a>-happy there."}, {"owner": {"reputation": 62184, "user_id": 7231, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/81b76985f3985e35492e25880493d045?s=128&d=identicon&r=PG", "display_name": "Dave Cross", "link": "https://stackoverflow.com/users/7231/dave-cross"}, "edited": false, "score": 1, "creation_date": 1456332062, "post_id": 35604313, "comment_id": 58900062, "body": "Could you please edit your post to fix the formatting of your code. Firstly, I think your comment has been split over three lines. And secondly, everyone (including you) will find your code far easier to read if you use consistent indentation."}], "answers": [{"tags": [], "owner": {"reputation": 60461, "user_id": 3636601, "user_type": "registered", "accept_rate": 75, "profile_image": "https://www.gravatar.com/avatar/69a1b4f750ece89db0e49c94519f1a7d?s=128&d=identicon&r=PG&f=1", "display_name": "Jens", "link": "https://stackoverflow.com/users/3636601/jens"}, "is_accepted": false, "score": 0, "last_activity_date": 1456322920, "creation_date": 1456322920, "answer_id": 35604409, "question_id": 35604313, "link": "https://stackoverflow.com/questions/35604313/ignore-the-first-two-lines-with-in-perl/35604409#35604409", "title": "Ignore the first two lines with ## in perl", "body": "<p><code>next if $_ !=~ \"##\";</code> must be <code>next if $_ =~ \"##\";</code></p>\n\n<p>Ignore this lie if <code>$_</code> matched <code>##</code></p>\n"}, {"tags": [], "owner": {"reputation": 6258, "user_id": 82262, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/8ce15931410b388a52eb2df4a864137f?s=128&d=identicon&r=PG&f=1", "display_name": "Matt Jacob", "link": "https://stackoverflow.com/users/82262/matt-jacob"}, "is_accepted": false, "score": 1, "last_activity_date": 1456328248, "creation_date": 1456328248, "answer_id": 35606388, "question_id": 35604313, "link": "https://stackoverflow.com/questions/35604313/ignore-the-first-two-lines-with-in-perl/35606388#35606388", "title": "Ignore the first two lines with ## in perl", "body": "<p>If you want to skip lines that contain <code>##</code> anywhere in them:</p>\n\n<pre><code>next if /##/;\n</code></pre>\n\n<p>If you only want to skip lines that <em>start</em> with <code>##</code>:</p>\n\n<pre><code>next if /^##/;\n</code></pre>\n\n<p>If you always want to skip the first two lines, regardless of content:</p>\n\n<pre><code>next if $. &lt; 3;\n</code></pre>\n"}], "owner": {"reputation": 1, "user_id": 4835753, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/1742f8d1b6524a2298eab7df1986db7e?s=128&d=identicon&r=PG&f=1", "display_name": "Budakbarubelajar", "link": "https://stackoverflow.com/users/4835753/budakbarubelajar"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 122, "favorite_count": 0, "answer_count": 2, "score": -1, "last_activity_date": 1456328248, "creation_date": 1456322672, "question_id": 35604313, "link": "https://stackoverflow.com/questions/35604313/ignore-the-first-two-lines-with-in-perl", "title": "Ignore the first two lines with ## in perl", "body": "<p>all.</p>\n\n<p>Im a newbie in programming especially in perl. I would like to skip the first two lines in my dataset. </p>\n\n<p>these are my codes. </p>\n\n<pre><code>    while (&lt;PEPTIDELIST&gt;) {\n        next if $_ !=~ \"##\";\n        chomp $_;\n        @data = split /\\t/;\n        chomp $_;\n        next if /Sequence/;\n        chomp $_;\n    $npeptides++;\n #  print \"debug: 0: $data[0]  1:  $data[1]  2:  $data[2] 3:   \n $data[3]     \n \\n\" if ( $debug );\n    my $pepseq = $data[1];\n    #print $pepseq.\"\\n\";\n    foreach my $header (keys %sequence) {\n    #print \"looking for $pepseq in $header \\n\";\n    if ($sequence{$header} =~ /$pepseq/ ) {\n       print \"matched $pepseq in protein $header\" if ( $debug );\n        # my $in =&lt;STDIN&gt;;\n\n        if ( $header =~ /(ENSGALP\\S+)\\s.+(ENSGALG\\S+)/  ) {\n            print \"debug: $1  $2 have the pep = $pepseq \\n\\n\" if (  \n $debug);\n            my $lprot = $1;\n            my $lgene = $2;\n             $gccount{$lgene}++;\n             $pccount{$lprot}++;\n          #  print \"$1\" if($debug);\n          #  print \"$2\" if ($debug);\n\n                print OUT \"$pepseq,$1,$2\\n\";\n                }\n            }\n    }\n\n    my $ngenes = keys %gccount;\n    my $nprots = keys %pccount;\n</code></pre>\n\n<p>somehow the peptide is not in the output list. please help point me where it goes wrong?</p>\n\n<p>thanks</p>\n"}, {"tags": ["bash", "perl", "cygwin"], "comments": [{"owner": {"reputation": 2166, "user_id": 285364, "user_type": "registered", "accept_rate": 33, "profile_image": "https://www.gravatar.com/avatar/69d9207065febf40940eb74a3b76222e?s=128&d=identicon&r=PG", "display_name": "Vladimir Alexiev", "link": "https://stackoverflow.com/users/285364/vladimir-alexiev"}, "edited": false, "score": 0, "creation_date": 1456321832, "post_id": 35603722, "comment_id": 58892455, "body": "I know I can run &quot;perl -S wdq&quot; but I&#39;m lazy and prefer just &quot;wdq&quot; :-)"}], "answers": [{"comments": [{"owner": {"reputation": 2166, "user_id": 285364, "user_type": "registered", "accept_rate": 33, "profile_image": "https://www.gravatar.com/avatar/69d9207065febf40940eb74a3b76222e?s=128&d=identicon&r=PG", "display_name": "Vladimir Alexiev", "link": "https://stackoverflow.com/users/285364/vladimir-alexiev"}, "edited": false, "score": 1, "creation_date": 1468340976, "post_id": 35604258, "comment_id": 64083103, "body": "This works, but I had to use <code>cygpath -u</code> instead of <code>cygpath -w</code> . Thanks!"}, {"owner": {"reputation": 320771, "user_id": 589924, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/b2cf53d5a3d25f95c0db4e025aed4153?s=128&d=identicon&r=PG", "display_name": "ikegami", "link": "https://stackoverflow.com/users/589924/ikegami"}, "reply_to_user": {"reputation": 2166, "user_id": 285364, "user_type": "registered", "accept_rate": 33, "profile_image": "https://www.gravatar.com/avatar/69d9207065febf40940eb74a3b76222e?s=128&d=identicon&r=PG", "display_name": "Vladimir Alexiev", "link": "https://stackoverflow.com/users/285364/vladimir-alexiev"}, "edited": false, "score": 0, "creation_date": 1468342213, "post_id": 35604258, "comment_id": 64083829, "body": "@Vladimir Alexiev, Fixed"}], "tags": [], "owner": {"reputation": 320771, "user_id": 589924, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/b2cf53d5a3d25f95c0db4e025aed4153?s=128&d=identicon&r=PG", "display_name": "ikegami", "link": "https://stackoverflow.com/users/589924/ikegami"}, "is_accepted": false, "score": 2, "last_activity_date": 1468342198, "last_edit_date": 1468342198, "creation_date": 1456322525, "answer_id": 35604258, "question_id": 35603722, "link": "https://stackoverflow.com/questions/35603722/how-to-reconcile-strawberry-perl-with-cygwin/35604258#35604258", "title": "How to reconcile Strawberry perl with Cygwin?", "body": "<p>Replace</p>\n\n<pre><code>#!/usr/bin/env perl\n</code></pre>\n\n<p>with</p>\n\n<pre><code>#!/bin/sh\n#! -*-perl-*-\neval 'exec perl -x -wS \"$( cygpath -u \"$0\" )\" ${1+\"$@\"}'\n    if 0;\n</code></pre>\n"}], "owner": {"reputation": 2166, "user_id": 285364, "user_type": "registered", "accept_rate": 33, "profile_image": "https://www.gravatar.com/avatar/69d9207065febf40940eb74a3b76222e?s=128&d=identicon&r=PG", "display_name": "Vladimir Alexiev", "link": "https://stackoverflow.com/users/285364/vladimir-alexiev"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 183, "favorite_count": 0, "answer_count": 1, "score": 0, "last_activity_date": 1468342198, "creation_date": 1456320980, "last_edit_date": 1495542760, "question_id": 35603722, "link": "https://stackoverflow.com/questions/35603722/how-to-reconcile-strawberry-perl-with-cygwin", "title": "How to reconcile Strawberry perl with Cygwin?", "body": "<p>I use Strawberry perl on Windows7 because its cpanm can build and install XS modules. I also have cygwin.</p>\n\n<p>I want to run the \"wdq\" perl script inside cygwin Bash because the script uses ANSI colors. The script starts with</p>\n\n<pre><code>#!/usr/bin/env perl\n</code></pre>\n\n<p>and when started, fails with </p>\n\n<pre><code>Can't open perl script \"/cygdrive/c/Strawberry/perl/site/bin/wdq\": No such file or directory\n</code></pre>\n\n<p>As explained in <a href=\"https://stackoverflow.com/questions/5865867/what-is-the-reason-for-this-cant-open-perl-script-no-such-file-or-directory\">What is the reason for this &quot;Can&#39;t open perl script : No such file or directory&quot;</a>, the reason is that Strawberry doesn't understand cygwin paths.</p>\n\n<p>What's the easiest way to resolve this? Do you need to set a different PATH in bash?</p>\n"}, {"tags": ["html", "perl", "curl"], "comments": [{"owner": {"reputation": 15161, "user_id": 1067003, "user_type": "registered", "accept_rate": 62, "profile_image": "https://www.gravatar.com/avatar/e3af2bd4b5604b0b661b5e6646544eba?s=128&d=identicon&r=PG", "display_name": "hanshenrik", "link": "https://stackoverflow.com/users/1067003/hanshenrik"}, "edited": false, "score": 0, "creation_date": 1456317802, "post_id": 35601912, "comment_id": 58889619, "body": "in PHP you would do $inputs=array(); $domd=@DOMDocument::loadHTML($html); foreach($domd-&gt;getElementsByTagName(&quot;form&quot;)-&gt;item(0)-&gt;getEle&zwnj;&#8203;mentsByTagName(&quot;inpu&zwnj;&#8203;t&quot;) as $input){ $inputs[$input-&gt;getAttribute(&quot;name&quot;)]=$input-&gt;getAttribute(&quot;&zwnj;&#8203;value&quot;);} curl_setopt($ch,CURLOPT_POSTFIELDS,$inputs);"}, {"owner": {"reputation": 6592, "user_id": 3005251, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/a5331f7e467aae3d581fe8bc814ef572?s=128&d=identicon&r=PG", "display_name": "bolav", "link": "https://stackoverflow.com/users/3005251/bolav"}, "edited": false, "score": 0, "creation_date": 1456317895, "post_id": 35601912, "comment_id": 58889685, "body": "You have not stated what your problem is. What happens when you submit the form? Did you try to submit the form in a browser, and just copy the fields from that? (network tab, and then Copy as cUrl)"}, {"owner": {"reputation": 11, "user_id": 5973961, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/4fc5c5b6392e7d1d547cea98cd897a19?s=128&d=identicon&r=PG&f=1", "display_name": "Mr Greeb", "link": "https://stackoverflow.com/users/5973961/mr-greeb"}, "edited": false, "score": 0, "creation_date": 1456318027, "post_id": 35601912, "comment_id": 58889756, "body": "Sorry, I forgot to state the problem in the beginning of the text. When I submit the form, I get redirected back to the same site, with no changes. Edited it, hopefully it&#39;s clearer now."}, {"owner": {"reputation": 6592, "user_id": 3005251, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/a5331f7e467aae3d581fe8bc814ef572?s=128&d=identicon&r=PG", "display_name": "bolav", "link": "https://stackoverflow.com/users/3005251/bolav"}, "edited": false, "score": 0, "creation_date": 1456318120, "post_id": 35601912, "comment_id": 58889823, "body": "Did you try to copy the request as cURL in the Network Tab, check that it works from the command line and see that you set all the fields that are being set are set in your script as well?"}, {"owner": {"reputation": 11, "user_id": 5973961, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/4fc5c5b6392e7d1d547cea98cd897a19?s=128&d=identicon&r=PG&f=1", "display_name": "Mr Greeb", "link": "https://stackoverflow.com/users/5973961/mr-greeb"}, "reply_to_user": {"reputation": 6592, "user_id": 3005251, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/a5331f7e467aae3d581fe8bc814ef572?s=128&d=identicon&r=PG", "display_name": "bolav", "link": "https://stackoverflow.com/users/3005251/bolav"}, "edited": false, "score": 0, "creation_date": 1456318646, "post_id": 35601912, "comment_id": 58890172, "body": "@bolav Giving it a try now"}, {"owner": {"reputation": 11, "user_id": 5973961, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/4fc5c5b6392e7d1d547cea98cd897a19?s=128&d=identicon&r=PG&f=1", "display_name": "Mr Greeb", "link": "https://stackoverflow.com/users/5973961/mr-greeb"}, "reply_to_user": {"reputation": 6592, "user_id": 3005251, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/a5331f7e467aae3d581fe8bc814ef572?s=128&d=identicon&r=PG", "display_name": "bolav", "link": "https://stackoverflow.com/users/3005251/bolav"}, "edited": false, "score": 0, "creation_date": 1456318746, "post_id": 35601912, "comment_id": 58890244, "body": "@bolav Had not idea this functionality existed in browsers. Thanks a lot! Should give me some idea of how to solve this."}, {"owner": {"reputation": 6592, "user_id": 3005251, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/a5331f7e467aae3d581fe8bc814ef572?s=128&d=identicon&r=PG", "display_name": "bolav", "link": "https://stackoverflow.com/users/3005251/bolav"}, "edited": false, "score": 0, "creation_date": 1456321182, "post_id": 35601912, "comment_id": 58892010, "body": "Did the curl command work?"}, {"owner": {"reputation": 11, "user_id": 5973961, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/4fc5c5b6392e7d1d547cea98cd897a19?s=128&d=identicon&r=PG&f=1", "display_name": "Mr Greeb", "link": "https://stackoverflow.com/users/5973961/mr-greeb"}, "edited": false, "score": 0, "creation_date": 1456321761, "post_id": 35601912, "comment_id": 58892409, "body": "It worked. I&#39;m not sure how it differs from the request in my script, but at least now I have the groundwork to find out ^^"}], "answers": [{"comments": [{"owner": {"reputation": 11, "user_id": 5973961, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/4fc5c5b6392e7d1d547cea98cd897a19?s=128&d=identicon&r=PG&f=1", "display_name": "Mr Greeb", "link": "https://stackoverflow.com/users/5973961/mr-greeb"}, "edited": false, "score": 0, "creation_date": 1456321080, "post_id": 35603108, "comment_id": 58891937, "body": "It gave me something more to work with. I updated the post with the request. Thanks a lot."}], "tags": [], "owner": {"reputation": 6592, "user_id": 3005251, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/a5331f7e467aae3d581fe8bc814ef572?s=128&d=identicon&r=PG", "display_name": "bolav", "link": "https://stackoverflow.com/users/3005251/bolav"}, "is_accepted": false, "score": 0, "last_activity_date": 1456319304, "creation_date": 1456319304, "answer_id": 35603108, "question_id": 35601912, "link": "https://stackoverflow.com/questions/35601912/scripting-in-perl-curl-cant-get-past-html-form-w-two-submits-and-click-onlo/35603108#35603108", "title": "Scripting in Perl/cURL, can&#39;t get past HTML-form w/ two submits and click() onload", "body": "<p>I suspect that the form is not validating, and you therefore are redirected to the same form. If they don't have any special kind of scripting protection you should be able to create a valid request by going to the <code>Network Tab</code> of <code>Developer Tools</code> on your browser, and select <code>Copy as cURL</code>. This will give you a list of all options being set on a valid request. </p>\n\n<p>This should help you get past the redirect loop.</p>\n"}], "owner": {"reputation": 11, "user_id": 5973961, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/4fc5c5b6392e7d1d547cea98cd897a19?s=128&d=identicon&r=PG&f=1", "display_name": "Mr Greeb", "link": "https://stackoverflow.com/users/5973961/mr-greeb"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 594, "favorite_count": 0, "answer_count": 1, "score": 1, "last_activity_date": 1456321010, "creation_date": 1456316001, "last_edit_date": 1456321010, "question_id": 35601912, "link": "https://stackoverflow.com/questions/35601912/scripting-in-perl-curl-cant-get-past-html-form-w-two-submits-and-click-onlo", "title": "Scripting in Perl/cURL, can&#39;t get past HTML-form w/ two submits and click() onload", "body": "<p>I'm making a script where a major part of it is to login through a system called Feide. I've used Perl and cURL, and I've managed to actually log in and make a session cookie, but due to the fact that cURL doesn't support Javascript, I have to press a button (\"Since your browser does not support JavaScript, you must press the button below once to proceed.\") to get to the content of the site I want to access. Unfortunately, the form is weird. When I run my script, it simply redirects me back to the same site, and I don't know why. Here's the HTML:</p>\n\n<pre><code>&lt;body onload=\"document.getElementsByTagName('input')[0].click();\"&gt;\n\n&lt;noscript&gt;\n    &lt;p&gt;&lt;strong&gt;Note:&lt;/strong&gt; Since your browser does not support JavaScript, you must press the button below once to proceed.&lt;/p&gt; \n&lt;/noscript&gt; \n\n&lt;form method=\"post\" action=\"https://innsida.ntnu.no/c/portal/login\"&gt;\n\n&lt;!-- Need to add this element and call click method, because calling submit()\non the form causes failed submission if the form has another element with name or id of submit.\nSee: https://developer.mozilla.org/en/DOM/form.submit#Specification --&gt;\n\n    &lt;input type=\"submit\" style=\"display:none;\" /&gt;\n\n    &lt;input type=\"hidden\" name=\"SAMLResponse\" value=\"[very long value]\" /&gt;\n    &lt;input type=\"hidden\" name=\"RelayState\" value=\"https://innsida.ntnu.no\" /&gt;\n\n        &lt;noscript&gt;\n            &lt;input type=\"submit\" value=\"Submit\" /&gt;\n        &lt;/noscript&gt;\n&lt;/form&gt;\n\n&lt;/body&gt;\n</code></pre>\n\n<p>Maybe there's something I'm missing, but I can't seem to submit this form in a proper manner. Here's my script:</p>\n\n<pre><code>    use strict;\n    use warnings;\n    use WWW::Curl::Easy;\n    use WWW::Curl::Multi;\n    use WWW::Curl::Share;\n    use WWW::Curl::Form;\n    use DBI;\n\n\n    my $dbh = DBI-&gt;connect('DBI:mysql:feide', '[myusername]', '[mypassword]') || die \"Could not connect to database: $DBI::errstr\";\n\n\n    my $username = $dbh-&gt;prepare('SELECT username FROM credentials WHERE id=1');\n\n     my $password = $dbh-&gt;prepare('SELECT password FROM credentials WHERE id=1');\n\n     my $curl = WWW::Curl::Easy-&gt; new;\n\n     $curl-&gt;setopt(CURLOPT_HEADER, 1);\n     #Make sure redirects don't fuck me\n     $curl-&gt;setopt(CURLOPT_FOLLOWLOCATION, 1);\n     #Where cookies are saved \n     $curl-&gt;setopt(CURLOPT_COOKIEJAR, 'cookies.txt');\n     #Where cookies are read from\n     $curl-&gt;setopt(CURLOPT_COOKIEFILE, 'cookies.txt');\n     $curl-&gt;setopt(CURLOPT_USERAGENT, \"Mozilla/5.0 (Windows NT 6.1; WOW64; rv:40.0) Gecko/20100101 Firefox/40.1\");\n     $curl-&gt;setopt(CURLOPT_URL, 'https://idp.feide.no/simplesaml/module.php/feide/login.php?asLen=225&amp;AuthState=_3f669be75024644be95e67ec6845222aefa860db98%3Ahttps%3A%2F%2Fidp.feide.no%2Fsimplesaml%2Fsaml2%2Fidp%2FSSOService.php%3Fspentityid%3Durn%253Amace%253Afeide.no%253Aservices%253Ano.ntnu.innsida%26cookieTime%3D1456232047%26RelayState%3Dhttps%253A%252F%252Finnsida.ntnu.no');\n\n     my $response_body;\n     $curl-&gt;setopt(CURLOPT_WRITEDATA,\\$response_body);\n\n    my $retcode = $curl-&gt;perform;\n    my $checkSession = 0;\n    my @split;\n    #check if there is a current session\n    if($response_body =~ /\"AuthState\" value=\"/){\n     @split = split /\"AuthState\" value=\"/, $response_body;\n     my @authState = split /\"/, $split[1];\n\n     #make a form for a POST-request\n     my $curlf = WWW::Curl::Form-&gt;new;\n     $checkSession = 1;\n\n     $curlf-&gt;formadd(\"feidename\", $username);\n     $curlf-&gt;formadd(\"password\", $password);\n     $curlf-&gt;formadd(\"asLen\", \"225\");\n     $curlf-&gt;formadd(\"AuthState\", $authState[0]);\n     $curlf-&gt;formadd(\"org\", \"ntnu.no\"); \n\n     $curl-&gt;setopt(CURLOPT_HTTPPOST, $curlf);\n\n\n     $retcode = $curl-&gt;perform;\n    }\n\n\n\n\n    if ($checkSession){\n    @split = ();\n    @split = split /\"SAMLResponse\" value=\"/, $response_body;\n    }\n    else{\n     my @split = split /\"SAMLResponse\" value=\"/, $response_body;\n    }\n\n    my @SAML = split /\"/, $split[1];\n\n    #Here I try to create a new form, where I add what \n    #I believe to be the correct values. They don't work, \n    #and I get redirected back to the \"press the button\"-website\n\n    my $noJS = WWW::Curl::Form-&gt;new;\n    $noJS-&gt;formadd(\"SAMLResponse\", $SAML[0]);\n    $noJS-&gt;formadd(\"RelayState\", \"https://innsida.ntnu.no\");\n\n    $curl-&gt;setopt(CURLOPT_HTTPPOST, $noJS);\n    $curl-&gt;setopt(CURLOPT_URL, 'https://innsida.ntnu.no/c/portal/login');\n\n    $curl-&gt;perform;\n\n\n    print $response_body, \"\\n\";\n</code></pre>\n\n<p>Naturally, I can't put my username and password to Feide here, so you won't be able to try it out for yourselves. Hopefully someone sees a solution regardless. </p>\n\n<p>I'm posting the entire HTML-code (the output of the script) here at the end, in case someone's interested:</p>\n\n<pre><code>     HTTP/1.1 302 Found\n     Date: Wed, 24 Feb 2016 10:35:10 GMT\n     X-Content-Type-Options: nosniff\n     X-Frame-Options: SAMEORIGIN\n     X-XSS-Protection: 1\n     Pragma: no-cache\n     Cache-Control: no-cache, no-store\n     Expires: Thu, 01 Jan 1970 00:00:00 GMT\n     Location: https://idp.feide.no/simplesaml/saml2/idp/SSOService.php?SAMLRequest=[removed for security purposes]\n     Content-Length: 0\n\n    HTTP/1.1 200 OK\n    Date: Wed, 24 Feb 2016 10:35:10 GMT\n    Server: Apache/2.2.24 (Unix)\n    X-Powered-By: PHP/5.3.26\n    Content-Length: 7866\n    Content-Type: text/html\n\n    &lt;!DOCTYPE html PUBLIC \"-//W3C//DTD XHTML 1.0 Transitional//EN\"\n    \"http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd\"&gt;\n    &lt;html xmlns=\"http://www.w3.org/1999/xhtml\" xml:lang=\"en\" lang=\"en\"&gt;\n    &lt;head&gt; \n    &lt;meta http-equiv=\"content-type\" content=\"text/html; charset=utf-8\" /&gt;\n        &lt;title&gt;POST data&lt;/title&gt;\n    &lt;/head&gt;\n    &lt;body onload=\"document.getElementsByTagName('input')[0].click();\"&gt;\n\n&lt;noscript&gt;\n    &lt;p&gt;&lt;strong&gt;Note:&lt;/strong&gt; Since your browser does not support JavaScript, you must press the button below once to proceed.&lt;/p&gt; \n&lt;/noscript&gt; \n\n&lt;form method=\"post\" action=\"https://innsida.ntnu.no/c/portal/login\"&gt;\n&lt;!-- Need to add this element and call click method, because calling submit()\non the form causes failed submission if the form has another element with name or id of submit.\nSee: https://developer.mozilla.org/en/DOM/form.submit#Specification --&gt;\n&lt;input type=\"submit\" style=\"display:none;\" /&gt;\n    &lt;input type=\"hidden\" name=\"SAMLResponse\" value=\"[ridiculously long value]==\" /&gt;\n    &lt;input type=\"hidden\" name=\"RelayState\" value=\"https://innsida.ntnu.no\" /&gt;\n            &lt;noscript&gt;\n        &lt;input type=\"submit\" value=\"Submit\" /&gt;\n            &lt;/noscript&gt;\n        &lt;/form&gt;\n\n    &lt;/body&gt;\n    &lt;/html&gt;\n</code></pre>\n\n<p>If I left out something, let me know, and I'll do my best to provide it. </p>\n\n<p>EDIT: When I turned off Javascript in my browser and copied as cUrl, I got this:</p>\n\n<pre><code>curl 'https://innsida.ntnu.no/c/portal/login' \n-H 'Host: innsida.ntnu.no' \n-H 'User-Agent: Mozilla/5.0 (X11; Ubuntu; Linux x86_64; rv:44.0) Gecko/20100101 Firefox/44.0' -H 'Accept: text/html,application/xhtml+xml,application/xml;q=0.9,*/*;q=0.8' \n-H 'Accept-Language: en-US,en;q=0.5' --compressed -H 'DNT: 1' -H 'Referer: https://idp.feide.no/simplesaml/module.php/feide/login.php?asLen=225&amp;AuthState= [removed]https%253A%252F%252Finnsida.ntnu.no' \n-H 'Cookie: COOKIE_SUPPORT=true; GUEST_LANGUAGE_ID=nb_NO; JSESSIONID=[removed].innsidaprod01; LFR_SESSION_STATE_111384=[removed]; LFR_SESSION_STATE_10135=[removed] -H 'Connection: keep-alive' \n--data 'SAMLResponse=[long value]&amp;RelayState=https%3A%2F%2Finnsida.ntnu.no'\n</code></pre>\n"}, {"tags": ["c", "eclipse", "perl", "testing"], "comments": [{"owner": {"reputation": 7471, "user_id": 2796832, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/Nt2uE.jpg?s=128&g=1", "display_name": "Jonah Graham", "link": "https://stackoverflow.com/users/2796832/jonah-graham"}, "edited": false, "score": 1, "creation_date": 1456308535, "post_id": 35598924, "comment_id": 58882829, "body": "Do you have perl installed? <a href=\"https://www.perl.org/get.html#win32\" rel=\"nofollow noreferrer\">perl.org/get.html#win32</a> Do you have make/gcc/etc installed? <a href=\"http://mingw-w64.org/doku.php\" rel=\"nofollow noreferrer\">mingw-w64.org/doku.php</a> If you have those things, your assignment instructions should work fine. You can even run the different make targets in Eclipse CDT with the &quot;make&quot; view <a href=\"http://help.eclipse.org/mars/topic/org.eclipse.cdt.doc.user/reference/cdt_u_make_targets_view.htm?cp=10_4_0_4\" rel=\"nofollow noreferrer\">help.eclipse.org/mars/topic/org.eclipse.cdt.doc.user/referen&zwnj;&#8203;ce/&hellip;</a> and one final piece of advice, upgrade Eclipse, use Mars instead of Kepler, it is 2 years newer"}, {"owner": {"reputation": 341, "user_id": 3572700, "user_type": "registered", "accept_rate": 100, "profile_image": "https://i.stack.imgur.com/TthcN.png?s=128&g=1", "display_name": "Kitalda", "link": "https://stackoverflow.com/users/3572700/kitalda"}, "reply_to_user": {"reputation": 7471, "user_id": 2796832, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/Nt2uE.jpg?s=128&g=1", "display_name": "Jonah Graham", "link": "https://stackoverflow.com/users/2796832/jonah-graham"}, "edited": false, "score": 0, "creation_date": 1456313661, "post_id": 35598924, "comment_id": 58886627, "body": "I have now installed perl and I already had mingw installed. But I must admit, I have no clue what these make targets are or how I use them. Previously I have just built my project and ran it from the run-button. That works when there are just .c and .h files and one with a main function in it."}, {"owner": {"reputation": 341, "user_id": 3572700, "user_type": "registered", "accept_rate": 100, "profile_image": "https://i.stack.imgur.com/TthcN.png?s=128&g=1", "display_name": "Kitalda", "link": "https://stackoverflow.com/users/3572700/kitalda"}, "reply_to_user": {"reputation": 7471, "user_id": 2796832, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/Nt2uE.jpg?s=128&g=1", "display_name": "Jonah Graham", "link": "https://stackoverflow.com/users/2796832/jonah-graham"}, "edited": false, "score": 0, "creation_date": 1456316032, "post_id": 35598924, "comment_id": 58888306, "body": "Ok, it seems I needed to add C:\\MinGW\\msys\\1.0\\bin to my PATH. Now I at least get a new error that I haven&#39;t seen before."}, {"owner": {"reputation": 341, "user_id": 3572700, "user_type": "registered", "accept_rate": 100, "profile_image": "https://i.stack.imgur.com/TthcN.png?s=128&g=1", "display_name": "Kitalda", "link": "https://stackoverflow.com/users/3572700/kitalda"}, "reply_to_user": {"reputation": 7471, "user_id": 2796832, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/Nt2uE.jpg?s=128&g=1", "display_name": "Jonah Graham", "link": "https://stackoverflow.com/users/2796832/jonah-graham"}, "edited": false, "score": 0, "creation_date": 1456316896, "post_id": 35598924, "comment_id": 58888930, "body": "I would still like to know how I can run the test."}, {"owner": {"reputation": 7471, "user_id": 2796832, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/Nt2uE.jpg?s=128&g=1", "display_name": "Jonah Graham", "link": "https://stackoverflow.com/users/2796832/jonah-graham"}, "edited": false, "score": 0, "creation_date": 1456317473, "post_id": 35598924, "comment_id": 58889358, "body": "Try starting your msys shell, make sure the PATH has gcc/make/perl. Then cd to the directory containing the skeleton and type <code>make test</code> and or <code>make testrun</code>"}, {"owner": {"reputation": 7471, "user_id": 2796832, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/Nt2uE.jpg?s=128&g=1", "display_name": "Jonah Graham", "link": "https://stackoverflow.com/users/2796832/jonah-graham"}, "edited": false, "score": 0, "creation_date": 1456317632, "post_id": 35598924, "comment_id": 58889485, "body": "lets move this to chat and I can see if I can help a bit"}, {"owner": {"reputation": 7471, "user_id": 2796832, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/Nt2uE.jpg?s=128&g=1", "display_name": "Jonah Graham", "link": "https://stackoverflow.com/users/2796832/jonah-graham"}, "reply_to_user": {"reputation": 341, "user_id": 3572700, "user_type": "registered", "accept_rate": 100, "profile_image": "https://i.stack.imgur.com/TthcN.png?s=128&g=1", "display_name": "Kitalda", "link": "https://stackoverflow.com/users/3572700/kitalda"}, "edited": false, "score": 0, "creation_date": 1456317636, "post_id": 35598924, "comment_id": 58889491, "body": "Let us <a href=\"http://chat.stackoverflow.com/rooms/104408/discussion-between-jonah-graham-and-kitalda\">continue this discussion in chat</a>."}], "answers": [{"tags": [], "owner": {"reputation": 7471, "user_id": 2796832, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/Nt2uE.jpg?s=128&g=1", "display_name": "Jonah Graham", "link": "https://stackoverflow.com/users/2796832/jonah-graham"}, "is_accepted": true, "score": 1, "last_activity_date": 1456324118, "creation_date": 1456324118, "answer_id": 35604871, "question_id": 35598924, "link": "https://stackoverflow.com/questions/35598924/how-to-run-a-pl-test-on-c-project-in-eclipse-on-windows/35604871#35604871", "title": "How to run a .pl test on C project in Eclipse on Windows?", "body": "<p>To start Eclipse CDT choose 1 of these methods:</p>\n\n<ol>\n<li><p>Start eclipse from the terminal that works, e.g.:</p>\n\n<p>$ /path/to/eclipse.exe &amp;</p></li>\n<li><p>Make sure msys and mingw's bin directories are in the PATH and start eclipse the \"normal\" way</p></li>\n</ol>\n\n<p>Then you can import your project as a new C Project and build/debug/run within CDT as normal:</p>\n\n<ol>\n<li>Choose <em>File</em> menu | <em>New</em>  | <em>Makefile Project with Existing Code</em></li>\n</ol>\n\n<p><a href=\"https://i.stack.imgur.com/VKxkj.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/VKxkj.png\" alt=\"enter image description here\"></a></p>\n\n<ol start=\"2\">\n<li>Enter path to your project and name. But leave indexer settings as <code>&lt;none&gt;</code>* and press <em>Finish</em></li>\n</ol>\n\n<p><a href=\"https://i.stack.imgur.com/8JpeC.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/8JpeC.png\" alt=\"enter image description here\"></a></p>\n\n<ol start=\"3\">\n<li>Open the <code>Make Target</code> view</li>\n<li>Right-click on the project and choose <em>New...</em></li>\n</ol>\n\n<p><a href=\"https://i.stack.imgur.com/JuK9A.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/JuK9A.png\" alt=\"enter image description here\"></a></p>\n\n<ol start=\"5\">\n<li>Fill in the target you want to build</li>\n<li>Double-click on the new green icon and the build will run with the output in the Console view.</li>\n</ol>\n\n<p><a href=\"https://i.stack.imgur.com/81FfH.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/81FfH.png\" alt=\"enter image description here\"></a></p>\n\n<ul>\n<li>Something seems strange in CDT, if I use the obvious setting of <em>MinGW GCC</em> for indexer settings, then I can't do make properly as CDT is insisting on using internal builder.</li>\n</ul>\n"}], "owner": {"reputation": 341, "user_id": 3572700, "user_type": "registered", "accept_rate": 100, "profile_image": "https://i.stack.imgur.com/TthcN.png?s=128&g=1", "display_name": "Kitalda", "link": "https://stackoverflow.com/users/3572700/kitalda"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 78, "favorite_count": 0, "accepted_answer_id": 35604871, "answer_count": 1, "score": 0, "last_activity_date": 1456324118, "creation_date": 1456308211, "question_id": 35598924, "link": "https://stackoverflow.com/questions/35598924/how-to-run-a-pl-test-on-c-project-in-eclipse-on-windows", "title": "How to run a .pl test on C project in Eclipse on Windows?", "body": "<p>I have to make a C (not C++) project to the specifications given by my teacher.\nTo allow us to test this project he has given us a .pl file that should test the project and a folder full of .in and .out files.</p>\n\n<p>I work on a Win10 machine and has Eclipse for C installed (Kepler).</p>\n\n<p>How can I set up my project to run the provided test?\nDo I need to change anything in the test since I don't work on Linux and not from a cmdl?</p>\n\n<p>The program is a train travel planner.</p>\n\n<p>Here is the .pl file:</p>\n\n<pre><code>#!/usr/bin/env perl\n\nuse warnings;\nuse strict;\n\nmy ( $createmode ) = @ARGV;\nmy $testdir = \"./tests\";\n\nif( defined($createmode) ) {\n    if($createmode cmp \"create\") {\n    print \"Brug:\\n\";\n    print \"\\tcheck.pl         - tests if your programs output matches .out-filerne\\n\";\n    print \"\\tcheck.pl create  - makes new .out-files (deletes the excisting files!)\\n\";\n    exit();\n    }\n    $createmode=1;\n}\n\n# print \"$testdir/tests.tst\";\nopen(TESTS, \"$testdir/tests.tst\");\n\n\nmy $koereplan;\nmy $startst;\nmy $slutst;\n\nwhile (&lt;TESTS&gt;) {\n\n    /([\\w\\d]+)\\.in\\s+\\\"(.+)\\\"\\s+\\\"(.+)\\\"/ &amp;&amp; do {\n    $koereplan=\"$testdir/$1\";\n    $startst=$2;\n    $slutst=$3;\n\n    # print $koereplan.\"\\t\".$startst.\"\\t\".$slutst.\"\\n\";\n\n    open(RUN, \"./travelplanning $koereplan.in '$startst' '$slutst' |\");\n    my $cost=0;\n    while(&lt;RUN&gt;) {\n        /^(\\d+)\\s+(\\d+)$/ &amp;&amp; do {\n        $cost=$1+$2*15;\n        }\n    };\n\n    #print \"Cost fra programmet: $cost\";\n\n    my $outfile=\"$koereplan.$startst.$slutst.out\";\n    # print $outfile.\"\\n\";\n    if($createmode) {\n        open(OUT, \"&gt;$outfile\") or die \"Couldn't open '$outfile' for writing\";\n    } else {\n        open(IN, \"&lt;$outfile\") or die \"Couldn't open '$outfile' for reading\";\n    }\n    if($createmode) {\n        print OUT \"$cost\\n\";\n    } else {\n        my $facit=&lt;IN&gt;;\n        if($facit cmp \"$cost\\n\") {\n        chomp $facit;\n        print \"ERROR: $koereplan.in $startst $slutst gav $cost og facit er $facit.\\n\";\n        #last;\n        } else {\n        chomp $facit;\n        print \"SUCCES: $koereplan.in $startst $slutst gav $cost og facit er $facit.\\n\";\n        };\n    };\n    };\n}\n</code></pre>\n\n<p>Some names are in Danish, sorry about that. Koereplan = timetable, slut = end.</p>\n\n<p>Excample of the .in files:</p>\n\n<pre><code>Esbjerg,    07:48\nBramming,   08:00\nVejen,      08:15\nKolding,    08:30\nMiddelfart, 08:45\nOdense,     09:14\nNyborg,     09:29\nKors\u00f8r,     09:42\nSlagelse,   09:53\nSor\u00f8,       10:01\nRingsted,   10:10\nRoskilde,   10:26\nH\u00f8je Taastrup,  10:34\nValby,      10:42\nK\u00f8benhavn H,    10:48\n</code></pre>\n\n<p>This is just station names and departure times.</p>\n\n<p>The .out files just contain one number each, the number of minutes the corresponding trip will take.</p>\n\n<p>The scaffold project also came with makefile files, but I haven't been able to use them in my environment, I have simply taken the \"business-files\" to another project made in Eclipse, and that works fine for compiling and running the project in Eclipse. But that doesn't allow me to use the test script (that I currently can't even open in Eclipse).</p>\n\n<p>If you feel it helps, here is the assignment: <a href=\"http://imada.sdu.dk/~jamik/dm510-16/assignment1.php\" rel=\"nofollow\">assignment on course website</a></p>\n\n<p>But I think I can solve the assignment itself, it's using the teachers test I'm unsure about how to do.</p>\n"}, {"tags": ["regex", "perl"], "comments": [{"owner": {"reputation": 1507, "user_id": 398369, "user_type": "registered", "accept_rate": 50, "profile_image": "https://www.gravatar.com/avatar/5c3fa175dd4d0a810bfe7180a661bc22?s=128&d=identicon&r=PG", "display_name": "TheLoneJoker", "link": "https://stackoverflow.com/users/398369/thelonejoker"}, "edited": false, "score": 0, "creation_date": 1456300828, "post_id": 35596241, "comment_id": 58877822, "body": "Well looks like the &quot;g&quot; needed to be added to the end of the pattern.. like so s/\\.f\\.([A-Z]*?[a-z0-9]*?)([\\s&#41;;,])/\\.\\L$1$2/g that seemed to have done the trick..  Thanks for the hint."}, {"owner": {"reputation": 51521, "user_id": 2566198, "user_type": "registered", "accept_rate": 67, "profile_image": "https://i.stack.imgur.com/Y34ZA.jpg?s=128&g=1", "display_name": "Sobrique", "link": "https://stackoverflow.com/users/2566198/sobrique"}, "edited": false, "score": 1, "creation_date": 1456308860, "post_id": 35596241, "comment_id": 58883114, "body": "This has got to be a dupe, but I&#39;m at a loss to actually find it."}, {"owner": {"reputation": 6258, "user_id": 82262, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/8ce15931410b388a52eb2df4a864137f?s=128&d=identicon&r=PG&f=1", "display_name": "Matt Jacob", "link": "https://stackoverflow.com/users/82262/matt-jacob"}, "reply_to_user": {"reputation": 51521, "user_id": 2566198, "user_type": "registered", "accept_rate": 67, "profile_image": "https://i.stack.imgur.com/Y34ZA.jpg?s=128&g=1", "display_name": "Sobrique", "link": "https://stackoverflow.com/users/2566198/sobrique"}, "edited": false, "score": 0, "creation_date": 1456331996, "post_id": 35596241, "comment_id": 58900005, "body": "@Sobrique I found the inverse: <a href=\"http://stackoverflow.com/questions/26932072/regex-first-occurance-in-whole-text-only\" title=\"regex first occurance in whole text only\">stackoverflow.com/questions/26932072/&hellip;</a>"}], "answers": [{"comments": [{"owner": {"reputation": 1507, "user_id": 398369, "user_type": "registered", "accept_rate": 50, "profile_image": "https://www.gravatar.com/avatar/5c3fa175dd4d0a810bfe7180a661bc22?s=128&d=identicon&r=PG", "display_name": "TheLoneJoker", "link": "https://stackoverflow.com/users/398369/thelonejoker"}, "edited": false, "score": 0, "creation_date": 1456300984, "post_id": 35596401, "comment_id": 58877896, "body": "But, without the &quot;/g&quot;, does it not default to a global replacement strategy ? What is the behavior without the &quot;/g&quot; ?"}, {"owner": {"reputation": 9006, "user_id": 2805376, "user_type": "registered", "accept_rate": 92, "profile_image": "https://i.stack.imgur.com/gTE7F.jpg?s=128&g=1", "display_name": "Shafizadeh", "link": "https://stackoverflow.com/users/2805376/shafizadeh"}, "reply_to_user": {"reputation": 1507, "user_id": 398369, "user_type": "registered", "accept_rate": 50, "profile_image": "https://www.gravatar.com/avatar/5c3fa175dd4d0a810bfe7180a661bc22?s=128&d=identicon&r=PG", "display_name": "TheLoneJoker", "link": "https://stackoverflow.com/users/398369/thelonejoker"}, "edited": false, "score": 1, "creation_date": 1456301050, "post_id": 35596401, "comment_id": 58877930, "body": "@TheLoneJoker <a href=\"https://regex101.com/r/mD6mV0/1\" rel=\"nofollow noreferrer\">Here</a> is the behavior without <code>&#47;g</code>"}, {"owner": {"reputation": 60461, "user_id": 3636601, "user_type": "registered", "accept_rate": 75, "profile_image": "https://www.gravatar.com/avatar/69a1b4f750ece89db0e49c94519f1a7d?s=128&d=identicon&r=PG&f=1", "display_name": "Jens", "link": "https://stackoverflow.com/users/3636601/jens"}, "reply_to_user": {"reputation": 1507, "user_id": 398369, "user_type": "registered", "accept_rate": 50, "profile_image": "https://www.gravatar.com/avatar/5c3fa175dd4d0a810bfe7180a661bc22?s=128&d=identicon&r=PG", "display_name": "TheLoneJoker", "link": "https://stackoverflow.com/users/398369/thelonejoker"}, "edited": false, "score": 0, "creation_date": 1456301055, "post_id": 35596401, "comment_id": 58877936, "body": "@TheLoneJoker Default stategy is replace first occurence if you can see in your result."}, {"owner": {"reputation": 1507, "user_id": 398369, "user_type": "registered", "accept_rate": 50, "profile_image": "https://www.gravatar.com/avatar/5c3fa175dd4d0a810bfe7180a661bc22?s=128&d=identicon&r=PG", "display_name": "TheLoneJoker", "link": "https://stackoverflow.com/users/398369/thelonejoker"}, "edited": false, "score": 0, "creation_date": 1456301213, "post_id": 35596401, "comment_id": 58878022, "body": "So, it looks as though &quot;perl -p -i -e &quot; works on the stream only one line at a time.. and not &quot;globally&quot;.."}], "tags": [], "owner": {"reputation": 60461, "user_id": 3636601, "user_type": "registered", "accept_rate": 75, "profile_image": "https://www.gravatar.com/avatar/69a1b4f750ece89db0e49c94519f1a7d?s=128&d=identicon&r=PG&f=1", "display_name": "Jens", "link": "https://stackoverflow.com/users/3636601/jens"}, "is_accepted": true, "score": 2, "last_activity_date": 1456300867, "creation_date": 1456300867, "answer_id": 35596401, "question_id": 35596241, "link": "https://stackoverflow.com/questions/35596241/perl-regex-only-first-occurrence-on-the-same-line-is-replaced/35596401#35596401", "title": "Perl REGEX, only first occurrence on the same line is replaced", "body": "<p>add <code>g</code> add the end of your regex for globally replacemant:</p>\n\n<pre><code>perl -p -i -e 's/\\.f\\.([A-Z]*?[a-z0-9]*?)([\\s\\);,])/\\.\\L$1$2/g' ./MYREGEX.txt\n</code></pre>\n"}], "owner": {"reputation": 1507, "user_id": 398369, "user_type": "registered", "accept_rate": 50, "profile_image": "https://www.gravatar.com/avatar/5c3fa175dd4d0a810bfe7180a661bc22?s=128&d=identicon&r=PG", "display_name": "TheLoneJoker", "link": "https://stackoverflow.com/users/398369/thelonejoker"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 479, "favorite_count": 0, "accepted_answer_id": 35596401, "answer_count": 1, "score": 0, "last_activity_date": 1456300867, "creation_date": 1456300369, "question_id": 35596241, "link": "https://stackoverflow.com/questions/35596241/perl-regex-only-first-occurrence-on-the-same-line-is-replaced", "title": "Perl REGEX, only first occurrence on the same line is replaced", "body": "<p>I have the following sequence of text on the same line in a file MYREGEX.txt:</p>\n\n<pre><code>test1.f.ABC, test2.f.XYZ, test3.f.PQR));\n</code></pre>\n\n<p>Which I would like to transform to:</p>\n\n<pre><code>test1.abc, test2.xyz, test3.pqr));\n</code></pre>\n\n<p>Consequently, I came up with the following Perl expression to do the needful:</p>\n\n<pre><code>perl -p -i -e 's/\\.f\\.([A-Z]*?[a-z0-9]*?)([\\s\\);,])/\\.\\L$1$2/' ./MYREGEX.txt\n</code></pre>\n\n<p>But, the script seems to replace only the first occurrence on that line as below:</p>\n\n<pre><code>test1.abc, test2.f.XYZ, test3.f.PQR));\n</code></pre>\n\n<p>Can someone please tell me what needs to be tweaked in my script ?</p>\n"}, {"tags": ["perl", "stderr", "openssh"], "comments": [{"owner": {"reputation": 740, "user_id": 1838961, "user_type": "registered", "accept_rate": 79, "profile_image": "https://i.stack.imgur.com/cLVd8.jpg?s=128&g=1", "display_name": "geek", "link": "https://stackoverflow.com/users/1838961/geek"}, "reply_to_user": {"reputation": 53041, "user_id": 4653379, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/b3953dbedd0dabff5cbc3db9b0835b14?s=128&d=identicon&r=PG&f=1", "display_name": "zdim", "link": "https://stackoverflow.com/users/4653379/zdim"}, "edited": false, "score": 0, "creation_date": 1456291756, "post_id": 35593723, "comment_id": 58873766, "body": "edited the question. :)"}, {"owner": {"reputation": 3327, "user_id": 1604311, "user_type": "registered", "accept_rate": 73, "profile_image": "https://i.stack.imgur.com/0frKT.jpg?s=128&g=1", "display_name": "Arunesh Singh", "link": "https://stackoverflow.com/users/1604311/arunesh-singh"}, "edited": false, "score": 1, "creation_date": 1456292105, "post_id": 35593723, "comment_id": 58873888, "body": "you can use <code>$ssh -&gt; error</code>. what&#39;s the issue with that?"}], "answers": [{"tags": [], "owner": {"reputation": 53041, "user_id": 4653379, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/b3953dbedd0dabff5cbc3db9b0835b14?s=128&d=identicon&r=PG&f=1", "display_name": "zdim", "link": "https://stackoverflow.com/users/4653379/zdim"}, "is_accepted": true, "score": 3, "last_activity_date": 1487101296, "last_edit_date": 1487101296, "creation_date": 1456292159, "answer_id": 35594073, "question_id": 35593723, "link": "https://stackoverflow.com/questions/35593723/unable-to-capture-stderr-while-performing-openssh-to-a-variable-perl/35594073#35594073", "title": "unable to capture stderr while performing openssh to a variable- perl", "body": "<p>When an error occurs it is most likely <em>not</em>  going to be in <code>STDOUT</code>, and if it is in <code>STDERR</code> you are not catching that. You need to get to the application's exit code, in the following way.  (<em>Given the update to the question which I only see now</em>: <strong>See the end for how to get STDERR.</strong>)</p>\n\n<p>After the <code>capture</code> method you want to examine <code>$?</code> for errors (see <a href=\"http://search.cpan.org/~salva/Net-OpenSSH-0.62/lib/Net/OpenSSH.pm\" rel=\"nofollow noreferrer\">Net-OpenSSH</a>). Unpack that to get to the exit code returned by what was actually run by <code>$ssh</code>, and then look in that application's docs to see what that code means</p>\n\n<pre><code>$exit_code = $?;\nif ($exit_code) {\n    $app_exit = $exit_code &gt;&gt; 8; \n    warn \"Error, bit-shift \\$? --&gt; $app_exit\";\n}\n</code></pre>\n\n<p>The code to investigate is <code>$app_exit</code>.</p>\n\n<p>An example.  I use <code>zip</code> in a project and occasionally catch the error of <code>3072</code> (that is the <code>$?</code>).  When that's unpacked as above I get <code>12</code>, which is <code>zip</code>'s actual exit.  I look up its docs and it nicely lists its exit codes and <code>12</code> means <em>Nothing to update</em>. That's the design decision for <code>zip</code>, to exit with <code>12</code> if it had no files to update in the archive.  Then that exit gets packaged into a two-byte number (in the upper byte), and <em>that</em> is returned and thus what I get in <code>$?</code>.</p>\n\n<p>Failure modes in general, from <a href=\"http://perldoc.perl.org/functions/system.html\" rel=\"nofollow noreferrer\">system</a> in Perl docs</p>\n\n<pre><code>if    ($? == -1) { warn \"Failed to execute -- \" }\nelsif ($? &amp; 127) { \n    $msg = sprintf(\"\\tChild died with signal %d, %s coredump -- \",\n        ($? &amp; 127),  ($? &amp; 128) ? 'with' : 'without');\n    warn $msg;\n} else { \n    $msg = sprintf(\"\\tChild exited with value %d -- \", $? &gt;&gt; 8);\n    warn $msg;\n}\n</code></pre>\n\n<p>The actual exit code <code>$? &gt;&gt; 8</code> is supplied by whatever ran and so its interpretation is up to that application.  You need to look through its docs and hopefully its exit codes are documented.</p>\n\n<hr>\n\n<p>Note that <code>$ssh-&gt;error</code> seems designed for this task.  From the module's docs</p>\n\n<pre><code>my $output = $ssh-&gt;capture({ timeout =&gt; 10 }, \"echo hello; sleep 20; echo bye\");\n$ssh-&gt;error and warn \"operation didn't complete successfully: \". $ssh-&gt;error;\n</code></pre>\n\n<p>The printed error needs further investigation. Docs don't say what it is, but I'd expect the unpacked code discussed above (<em>the question update indicates this</em>). Here <code>$ssh</code> only runs a command and it doesn't know what went wrong. It merely gets back the command's exit code, to be looked at.  </p>\n\n<p>Or, you can modify the command to get the <code>STDERR</code> on the <code>STDOUT</code>, see below.</p>\n\n<hr>\n\n<p>The <code>capture</code> method is an equivalent of Perl's backticks (<code>qx</code>).  There is a lot on SO on how to get <code>STDERR</code> from backticks, and Perl's very own FAQ has that nicely written up <a href=\"http://perldoc.perl.org/perlfaq8.html#How-can-I-capture-STDERR-from-an-external-command%3f\" rel=\"nofollow noreferrer\"><code>in perlfaq8</code></a>. A complication here is that this isn't <code>qx</code> but a module's method and, more importantly, it runs on another machine. However, the \"output redirection\" method should still work without modifications.  The command (run by <code>$ssh</code>) can be written so that its <code>STDERR</code> is redirected to its <code>STDOUT</code>.</p>\n\n<pre><code>$cmd_all_output = 'your_whole_command 2&gt;&amp;1';\n$ssh-&gt;capture($cmd_all_output);\n</code></pre>\n\n<p>Now you will get the error that you see at the terminal (\"no such file or directory\") printed on <code>STDOUT</code>, thus it will wind up in your <code>$stdout</code>. Note that one must use <code>sh</code> shell syntax, as above. There is a big bit more to it so please look it up (but this should work as it stands). Most of the time it is the same message as in the exit code description.</p>\n\n<p>The check that you have in your code is good, the first line of defense: One should <em>always</em> check <code>$?</code> when running external commands, and for this the command to run need not be touched.</p>\n"}], "owner": {"reputation": 740, "user_id": 1838961, "user_type": "registered", "accept_rate": 79, "profile_image": "https://i.stack.imgur.com/cLVd8.jpg?s=128&g=1", "display_name": "geek", "link": "https://stackoverflow.com/users/1838961/geek"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 871, "favorite_count": 1, "accepted_answer_id": 35594073, "answer_count": 1, "score": 2, "last_activity_date": 1487101296, "creation_date": 1456290585, "last_edit_date": 1456293575, "question_id": 35593723, "link": "https://stackoverflow.com/questions/35593723/unable-to-capture-stderr-while-performing-openssh-to-a-variable-perl", "title": "unable to capture stderr while performing openssh to a variable- perl", "body": "<p>I want to capture the standard error displayed on host machine after (ssh->capture) to a variable.</p>\n\n<p>for example when i try:</p>\n\n<pre><code>  use Net::OpenSSH;\n\nmy $ssh = Net::OpenSSH-&gt;new($host);\nmy $out=$ssh-&gt;capture(\"cd /home/geek\");\n $ssh-&gt;error and\ndie \"remote cd command failed: \" . $ssh-&gt;error;\n</code></pre>\n\n<p>out put is:</p>\n\n<pre><code> child exited with code 1 at ./change_dir.pl line 32\n</code></pre>\n\n<p>i am not able to see what is the error. i get no such file or directory on the terminal. I want to capture the same \"no such file or director\" in $out.</p>\n\n<p>example 2,</p>\n\n<pre><code>my ($stdout,$stderr)=$ssh-&gt;capture(\"cd /home/geek\");\nif($stderr)\nprint\"Error = $stderr\";\nelse\nprint \"$stdout\"\n</code></pre>\n\n<p>i see \"Error=\" printed but does not seee that $stderr on the screen.\ni see $stdout is printed on success but  print $stderr does not get printed only\"Error= \" gets printed.  </p>\n"}, {"tags": ["regex", "perl", "replace"], "answers": [{"tags": [], "owner": {"reputation": 325, "user_id": 5856095, "user_type": "registered", "accept_rate": 82, "profile_image": "https://www.gravatar.com/avatar/e8e5c412b90786077ddfa0927904b8fe?s=128&d=identicon&r=PG&f=1", "display_name": "katyusza", "link": "https://stackoverflow.com/users/5856095/katyusza"}, "is_accepted": true, "score": 1, "last_activity_date": 1456301889, "creation_date": 1456301889, "answer_id": 35596725, "question_id": 35592597, "link": "https://stackoverflow.com/questions/35592597/perl-complex-regex-search-and-replace-with-nested-expressions/35596725#35596725", "title": "Perl complex regex search-and-replace with nested expressions", "body": "<p>Eventually managed to do it on my own; the Perl code is kind of ugly, though:</p>\n\n<pre><code>use strict;\nuse warnings;\n\nmy %hash_all_dffs = (d6 =&gt; \"1\", d7 =&gt; \"1\", d8 =&gt; \"1\", d9 =&gt; \"1\");\n#print %hash_all_dffs;\n\nmy $search = join( \"|\", map {quotemeta} keys %hash_all_dffs);\n$search = qr/\\b($search)\\b/;\n#print $search;\n\n# read all lines at once\n$/ = \"\";\n\n# read inline text and process\nwhile (&lt;DATA&gt;) {\n        # search for match pattern, do replacement\n        $_ =~ s/(?:module.*?\\(.*?\\)\\s*;)(*SKIP)(*F)|\\breg\\b\\s*(\\[\\s*\\d+\\s*\\:\\s*\\d+\\s*\\])?(\\s*\\b$search\\b\\s*,)*?\\s*\\b$search\\b\\s*;\n               / my $tmp4  =  $&amp;;\n                 my $tmp50 =  $&amp;;\n                 my $tmp51 =  $&amp;;\n                 my $tmp52 =  $&amp;;\n                 my $tmp6  =  $&amp;;\n                 my $tmp9 ;\n                 $tmp4  =~ s,\\n,\\n\\/\\/,gs;\n                 $tmp50 =~ s,($search),$2_tmr0,gs;\n                 $tmp51 =~ s,($search),$2_tmr1,gs;\n                 $tmp52 =~ s,($search),$2_tmr2,gs;\n                 my @list_tmr_reg = ( $tmp6  =~ m,$search,gs );\n                 foreach(0..$#list_tmr_reg) {\n                        my $tmp7 = $list_tmr_reg[$_];\n                        my $tmp8 = \"${tmp7}_vote = ( ${tmp7}_tmr0 &amp; ${tmp7}_tmr1 ) | ( ${tmp7}_tmr0 &amp; ${tmp7}_tmr1 ) | ( ${tmp7}_tmr0 &amp; ${tmp7}_tmr1 );\";\n                        $tmp9 = $tmp9.$tmp8;\n                        }\n                 \"\\/\\/\".$tmp4.\"\\n\".$tmp50.\"\\n\".$tmp51.\"\\n\".$tmp52.\"\\n\".$tmp9\n               /gesx;\n        print;\n        }\n\n__DATA__\nreg     [1:0]   d7 ,\n                d8 ;\n</code></pre>\n\n<p>Thanks for viewing ;-)</p>\n"}], "owner": {"reputation": 325, "user_id": 5856095, "user_type": "registered", "accept_rate": 82, "profile_image": "https://www.gravatar.com/avatar/e8e5c412b90786077ddfa0927904b8fe?s=128&d=identicon&r=PG&f=1", "display_name": "katyusza", "link": "https://stackoverflow.com/users/5856095/katyusza"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 168, "favorite_count": 0, "accepted_answer_id": 35596725, "answer_count": 1, "score": -1, "last_activity_date": 1456301889, "creation_date": 1456283940, "question_id": 35592597, "link": "https://stackoverflow.com/questions/35592597/perl-complex-regex-search-and-replace-with-nested-expressions", "title": "Perl complex regex search-and-replace with nested expressions", "body": "<p>I have Perl code as follows (excerpted from a longer code):</p>\n\n<pre><code>use strict;\nuse warnings;\n\nmy %hash_all_dffs = (d6 =&gt; \"1\", d7 =&gt; \"1\", d8 =&gt; \"1\", d9 =&gt; \"1\");\n#print %hash_all_dffs;\n\nmy $search = join( \"|\", map {quotemeta} keys %hash_all_dffs);\n$search = qr/\\b($search)\\b/;\n#print $search;\n\n# read all lines at once\n$/ = \"\";\n\n# read inline text and process\nwhile (&lt;DATA&gt;) {\n        # search for match pattern, do replacement\n        $_ =~ s/(?:module.*?\\(.*?\\)\\s*;)(*SKIP)(*F)|\\breg\\b\\s*(\\[\\s*\\d+\\s*\\:\\s*\\d+\\s*\\])?(\\s*\\b$search\\b\\s*,)*?\\s*\\b$search\\b\\s*;\n               / my $tmp4  =  $&amp;;\n                 my $tmp50 =  $&amp;;\n                 my $tmp51 =  $&amp;;\n                 my $tmp52 =  $&amp;;\n                 $tmp4  =~ s,\\n,\\n\\/\\/,gs;\n                 $tmp50 =~ s,($search),$2_tmr0,gs;\n                 $tmp51 =~ s,($search),$2_tmr1,gs;\n                 $tmp52 =~ s,($search),$2_tmr2,gs;\n                 \"\\/\\/\".$tmp4.\"\\n\".$tmp50.\"\\n\".$tmp51.\"\\n\".$tmp52.\"\\n\"\n               /gesx;\n        print;\n        }\n\n__DATA__\nreg     [1:0]   d7 ,\n                d8 ;\n</code></pre>\n\n<p>Output is following text:</p>\n\n<pre><code>//reg     [1:0]   d7 ,\n//                d8 ;\nreg     [1:0]   d7_tmr0 ,\n                d8_tmr0 ;\nreg     [1:0]   d7_tmr1 ,\n                d8_tmr1 ;\nreg     [1:0]   d7_tmr2 ,\n                d8_tmr2 ;\n</code></pre>\n\n<p>So far so good (maybe ugly, though >_&lt;).</p>\n\n<p><strong>My intention:</strong> \nI wanna add some extra text at the end of the output, and the new stuff is like (Verilog TMR redundancy code):</p>\n\n<pre><code>assign d7_tmrvote = (d7_tmr0 &amp; d7_tmr1) | (d7_tmr0 &amp; d7_tmr2) | (d7_tmr1 &amp; d7_tmr2);\nassign d8_tmrvote = (d8_tmr0 &amp; d8_tmr1) | (d8_tmr0 &amp; d8_tmr2) | (d8_tmr1 &amp; d8_tmr2);\n</code></pre>\n\n<p>If there is just one <code>reg</code> declared in the original text (ie. there's only <code>d7</code> or only <code>d8</code>), it's rather simple (still ugly, though) to do what I intend.</p>\n\n<p><strong>Problem:</strong> However, the problem that hassles me is that there might be one, or two, or more of <code>reg</code> declared, ie. there might be <code>d7</code> and <code>d8</code> (shown in my code), or might be (<code>d7</code>, <code>d8</code>, <code>d9</code>, <code>d10</code>, <code>d11</code> ....). Seems I'll have to store them into some sort of temporary variable to help with the replacement, but I don't know how to it in <code>s///gsex</code> regex. I hope I can do this without great overhaul to the original code.</p>\n\n<p>Does anyone have any suggestions? Thanks in advance~</p>\n"}, {"tags": ["regex", "perl"], "answers": [{"tags": [], "owner": {"reputation": 5455, "user_id": 3961170, "user_type": "registered", "accept_rate": 73, "profile_image": "https://i.stack.imgur.com/PtFol.jpg?s=128&g=1", "display_name": "mkHun", "link": "https://stackoverflow.com/users/3961170/mkhun"}, "is_accepted": false, "score": 0, "last_activity_date": 1456287941, "last_edit_date": 1456287941, "creation_date": 1456286057, "answer_id": 35592938, "question_id": 35591812, "link": "https://stackoverflow.com/questions/35591812/extracting-data-from-a-file-with-multi-line-records-saving-each-range-to-a-separ/35592938#35592938", "title": "Extracting data from a file with multi-line records,saving each range to a separate file", "body": "<p>@Iord-Ivan\n<strong>Try to study</strong></p>\n\n<p>what is the datatype.? </p>\n\n<p>File handling</p>\n\n<p>What is handler.</p>\n\n<p>Your <code>$somefile</code> store only the file name. Then you iterate the while loop using <code>$somefile</code>. But your <code>$somefile</code> contain only the file name not contain the file content. </p>\n\n<p>You file content is stored into the <code>$fh</code> handler so iterate the while loop for $fh handler. Then check it line by line. </p>\n\n<pre><code>use warnings;\nuse strict;\nmy $somefile = \"input.txt\";\nopen (my $fh, '&lt;:encoding(UTF-8)', $somefile) or die \"Could not open file '$somefile' $!\"; \nprint \"$somefile open\";\nwhile (&lt;$fh&gt;) {\n\n    if (/TRANSACTION STARTED/ .. /TRANSACTION END/) \n    {\n         next if /TRANSACTION\\s*(STARTED|END)/;\n        print $_;   \n    }\n}\n</code></pre>\n\n<p>After studying perl, finish the balance program(FILE WRITE). :)</p>\n"}], "owner": {"reputation": 63, "user_id": 4491889, "user_type": "registered", "accept_rate": 67, "profile_image": "https://www.gravatar.com/avatar/ecd4a14aa981fd48ccddbfe61962004a?s=128&d=identicon&r=PG&f=1", "display_name": "lord-ivan", "link": "https://stackoverflow.com/users/4491889/lord-ivan"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 69, "favorite_count": 0, "answer_count": 1, "score": 0, "last_activity_date": 1456305484, "creation_date": 1456278647, "last_edit_date": 1456305484, "question_id": 35591812, "link": "https://stackoverflow.com/questions/35591812/extracting-data-from-a-file-with-multi-line-records-saving-each-range-to-a-separ", "title": "Extracting data from a file with multi-line records,saving each range to a separate file", "body": "<p>I have a file that looks like this</p>\n\n<pre><code>     *TRANSACTION STARTED*\n[020t CARD INSERTED\n[020tCARD: *************5845\nDATE 01-02-16    TIME 05:45:52\n 05:46:26 GENAC 1 : ARQC\nEXTERNAL AUTHENTICATE: NO ARPC\n 05:46:30 GENAC 2 : AAC\n 01 FEB 2016     05:47:41      10160021\n\n     WITHDRAW\n     FROM XXXXXXXX    ?\nINVALID TRANSCATION ON TERMINAL.\n-----------------------\n[020t 05:47:05 CARD TAKEN\n[020t 05:47:07 TRANSACTION END\n[0r(1)2[000p[040qe1w3h162[020t*742*02/01/2016*05:47*\n     *TRANSACTION STARTED*\n[020t CARD INSERTED\n[020tCARD: *************2584\nDATE 01-02-16    TIME 05:47:27\n 05:48:00 GENAC 1 : ARQC\n 05:48:05 GENAC 2 : TC\n[020t 05:48:16 CARD TAKEN\n[020t 05:48:22 NOTES PRESENTED 0,0,2,0\n 01 FEB 2016     05:48:52      10160021\n\n     WITHDRAW\n     FROM XXXXXXXX    ?\nAMT   GHC40.00\n[020t 05:48:31 TRANSACTION END\n[0r(1)2[000p[040qe1w3h162[020t*743*02/01/2016*05:57*\n     *TRANSACTION STARTED*\n[020t CARD INSERTED\n[020tCARD: *************3862\nDATE 01-02-16    TIME 05:57:28\n 01 FEB 2016     05:58:33      10160021\n\n     INQUIRY\n     FROM XXXXXXXX90018\nAVAIL          GHC1260.20  \nLEDGER         GHC1260.20  \n[020t 05:58:06 CARD TAKEN\n[020t 05:58:11 TRANSACTION END\n[0r(1)2[000p[040qe1w3h162[020t*744*02/01/2016*06:43*\n     *TRANSACTION STARTED*\n[020t CARD INSERTED\n[020tCARD: *************1972\nDATE 01-02-16    TIME 06:43:53\n 01 FEB 2016     06:44:56      10160021\n5029110111271972\n4490    4490\n     INQUIRY\n     FROM XXXXXXXX23013\nAVAIL          GHC14.28\nLEDGER         GHC14.28\n[020t 06:44:25 CARD TAKEN\n[020t 06:44:29 TRANSACTION END\n[0r(1)2[000p[040qe1w3h162[020t*745*02/01/2016*06:56*\n</code></pre>\n\n<p>and need to extract what is between <code>*TRANSACTION STARTED*</code> and <code>TRANSACTION END</code>, ignoring all other information, and create a new file for each range.<br>\nThe new file will contain only </p>\n\n<pre><code>    [020t CARD INSERTED\n    [020tCARD: *************2584\n    DATE 01-02-16    TIME 05:47:27\n     05:48:00 GENAC 1 : ARQC\n     05:48:05 GENAC 2 : TC\n    [020t 05:48:16 CARD TAKEN\n    [020t 05:48:22 NOTES PRESENTED 0,0,2,0\n     01 FEB 2016     05:48:52      10160021\n\n         WITHDRAW\n         FROM XXXXXXXX    ?\n    AMT   GHC40.00\n    [020t 05:48:31\n</code></pre>\n\n<p>I have done some modification on the previous but i get this Error:</p>\n\n<pre><code>Can't use string (\"/home/lord-ivan/Soures_Code/Perl\"...) as a SCALAR ref while \"strict refs\" in use at readfile.pl line 31, &lt;$fh&gt; line 1.\n</code></pre>\n\n<p>My new code </p>\n\n<pre><code>#! /usr/bin/perl/ \n\nuse warnings;\nuse strict;\n\n#file to open\nmy $somefile = \"/home/lord-ivan/Soures_Code/Perl/projects/Data/EJDATA.LOG\";\n\nopen (my $fh, '&lt;:encoding(UTF-8)', $somefile) or die \"Could not open file '$somefile' $!\"; \nprint \"$somefile open\";\n\n#Extract ranges of lines from a file\n\nwhile (&lt;$fh&gt;) {\n\n    if (/TRANSACTION STARTED/ .. /TRANSACTION END/) \n    {\n         next if /TRANSACTION\\s*(STARTED|END)/;\n        print $_;   \n    }\n}\n\n\nmy $ofh;\n\nmy $outputfile = \"/home/lord-ivan/Soures_Code/Perl/projects/EJ Transport/Queue/.txt\";\n\nBEGIN {$outputfile= \"EJ\"};\n\nopen ($fh, \"&gt;&gt;${$outputfile}.txt\", print $fh $_);\n\nclose($outputfile);\n$outputfile++;\n</code></pre>\n\n<p>Why can't it work. </p>\n"}, {"tags": ["perl", "cpan", "metacpan"], "comments": [{"owner": {"reputation": 21782, "user_id": 176646, "user_type": "registered", "accept_rate": 88, "profile_image": "https://i.stack.imgur.com/HsQyV.png?s=128&g=1", "display_name": "ThisSuitIsBlackNot", "link": "https://stackoverflow.com/users/176646/thissuitisblacknot"}, "edited": false, "score": 3, "creation_date": 1456276375, "post_id": 35591175, "comment_id": 58869035, "body": "The Mo distribution includes two modules, Mo::Moose and Mo::Mouse, that use Moose and Mouse under the hood. The tests for these modules require that Moose and Mouse are installed."}, {"owner": {"reputation": 320771, "user_id": 589924, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/b2cf53d5a3d25f95c0db4e025aed4153?s=128&d=identicon&r=PG", "display_name": "ikegami", "link": "https://stackoverflow.com/users/589924/ikegami"}, "edited": false, "score": 1, "creation_date": 1456283927, "post_id": 35591175, "comment_id": 58871419, "body": "build_requires / requires / commandline indicate where it found the dependency. &quot;requires&quot; really means &quot;dependency&quot; here. &quot;Optional&quot; indicates they are optional dependencies (as you can see <a href=\"http://cpansearch.perl.org/src/INGY/Mo-0.39/META.json\" rel=\"nofollow noreferrer\">here</a>). You have configured <code>cpan</code> to not ask you whether you want dependencies to be installed, so it installed them without asking."}, {"owner": {"reputation": 113221, "user_id": 100754, "user_type": "registered", "accept_rate": 90, "profile_image": "https://www.gravatar.com/avatar/7804ebae32fbadef38537d74a915c22f?s=128&d=identicon&r=PG", "display_name": "Sinan &#220;n&#252;r", "link": "https://stackoverflow.com/users/100754/sinan-%c3%9cn%c3%bcr"}, "edited": false, "score": 1, "creation_date": 1456289489, "post_id": 35591175, "comment_id": 58872997, "body": "<code>Mo</code> ... <i>sigh</i> <code>&amp;{$M.$_.::e}($P,\\%e,\\%o,\\@_)for@_;return if$e{M};%e=(extends,sub{eval&quot;no $_[0]()&quot;;@{$P.ISA}=$_[0]},has,sub{my$n=shift;my$m=sub{$#_?$_&zwnj;&#8203;[0]{$n}=$_[1]:$_[0]{&zwnj;&#8203;$n}} ...</code>  makes me sad."}, {"owner": {"reputation": 50468, "user_id": 1331451, "user_type": "registered", "accept_rate": 96, "profile_image": "https://i.stack.imgur.com/4ZPmj.png?s=128&g=1", "display_name": "simbabque", "link": "https://stackoverflow.com/users/1331451/simbabque"}, "reply_to_user": {"reputation": 113221, "user_id": 100754, "user_type": "registered", "accept_rate": 90, "profile_image": "https://www.gravatar.com/avatar/7804ebae32fbadef38537d74a915c22f?s=128&d=identicon&r=PG", "display_name": "Sinan &#220;n&#252;r", "link": "https://stackoverflow.com/users/100754/sinan-%c3%9cn%c3%bcr"}, "edited": false, "score": 0, "creation_date": 1456304575, "post_id": 35591175, "comment_id": 58880009, "body": "@Sinan it&#39;s beautiful, isn&#39;t it? :)"}, {"owner": {"reputation": 2690, "user_id": 5869736, "user_type": "registered", "accept_rate": 75, "profile_image": "https://www.gravatar.com/avatar/b18e361761e0643fd9003f9eae40ba45?s=128&d=identicon&r=PG&f=1", "display_name": "Marty", "link": "https://stackoverflow.com/users/5869736/marty"}, "edited": false, "score": 0, "creation_date": 1456304763, "post_id": 35591175, "comment_id": 58880125, "body": "Thank you for the explanation of the dependencies as listed by CPAN.pm as it did the install.  I guess it raises the question as to why the DEPENDENCIES at metacpan.org can be - let&#39;s say - misleading."}, {"owner": {"reputation": 320771, "user_id": 589924, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/b2cf53d5a3d25f95c0db4e025aed4153?s=128&d=identicon&r=PG", "display_name": "ikegami", "link": "https://stackoverflow.com/users/589924/ikegami"}, "edited": false, "score": 0, "creation_date": 1456315148, "post_id": 35591175, "comment_id": 58887666, "body": "It&#39;s not misleading, at least not in this case. Had you not told <code>cpan</code> to install Mouse and Moose, Mo would still have worked fine."}, {"owner": {"reputation": 5099, "user_id": 406224, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/9bc79fa6fa58e2a4f5e6c2f803cabc48?s=128&d=identicon&r=PG", "display_name": "oalders", "link": "https://stackoverflow.com/users/406224/oalders"}, "edited": false, "score": 0, "creation_date": 1456414938, "post_id": 35591175, "comment_id": 58945121, "body": "@Marty have a look at the META.json and you&#39;ll see that the only runtime requirement listed is perl itself <a href=\"https://metacpan.org/source/INGY/Mo-0.39/META.json#L47\" rel=\"nofollow noreferrer\">metacpan.org/source/INGY/Mo-0.39/META.json#L47</a>  Moose is under &quot;recommends&quot;."}], "owner": {"reputation": 2690, "user_id": 5869736, "user_type": "registered", "accept_rate": 75, "profile_image": "https://www.gravatar.com/avatar/b18e361761e0643fd9003f9eae40ba45?s=128&d=identicon&r=PG&f=1", "display_name": "Marty", "link": "https://stackoverflow.com/users/5869736/marty"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 347, "favorite_count": 0, "answer_count": 0, "score": 4, "last_activity_date": 1456274567, "creation_date": 1456274567, "question_id": 35591175, "link": "https://stackoverflow.com/questions/35591175/why-cpan-pm-install-moose-when-i-only-wanted-mo", "title": "Why CPAN.pm install Moose when I only wanted Mo?", "body": "<p>I have the need for a lightweight object system in a perl5 script.  After reading the documentation for <strong>Mouse.pm</strong>, <strong>Moo.pm</strong> and <strong>Mo.pm</strong>, I was tossing up between Moo and Mo.  The deciding factor in the end was that the Mo module has <a href=\"https://metacpan.org/pod/distribution/Mo/lib/Mo.pod\" rel=\"nofollow\">no dependencies</a> (see right-hand side of page - <strong>\"DEPENDENCIES\"</strong> is grey out).</p>\n\n<p>So, I go ahead with what I thought would be a simple install:</p>\n\n<pre><code>User@Ubuntu-iMac:~$ perl -MCPAN -e shell\nTerminal does not support AddHistory.\n\ncpan shell -- CPAN exploration and modules installation (v2.05)\nEnter 'h' for help.\n\ncpan[1]&gt; Terminal does not support GetHistory.\nLockfile removed.\nUser@Ubuntu-iMac:~$ sudo perl -MCPAN -e shell\n[sudo] password for User: \nTerminal does not support AddHistory.\n\ncpan shell -- CPAN exploration and modules installation (v2.05)\nEnter 'h' for help.\n\ncpan[1]&gt; install Mo\nReading '/home/User/.cpan/Metadata'\n  Database was generated on Tue, 23 Feb 2016 02:17:02 GMT\nRunning install for module 'Mo'\nFetching with LWP:\nhttp://www.cpan.org/authors/id/I/IN/INGY/Mo-0.39.tar.gz\nChecksum for /home/User/.cpan/sources/authors/id/I/IN/INGY/Mo-0.39.tar.gz ok\nScanning cache /home/User/.cpan/build for sizes\n............................................................................DONE\nConfiguring I/IN/INGY/Mo-0.39.tar.gz with Makefile.PL\nChecking if your kit is complete...\nLooks good\nGenerating a Unix-style Makefile\nWriting Makefile for Mo\nWriting MYMETA.yml and MYMETA.json\n  INGY/Mo-0.39.tar.gz\n  /usr/bin/perl Makefile.PL INSTALLDIRS=site -- OK\nRunning make for I/IN/INGY/Mo-0.39.tar.gz\n---- Unsatisfied dependencies detected during ----\n----            INGY/Mo-0.39.tar.gz           ----\n    Moose [requires,optional]\n    IO::All [requires,optional]\n    Mouse [requires,optional]\n\n ... many lines of installation of dozens of modules deleted ...\n</code></pre>\n\n<p>So my question is - why did it think it needed <code>Mouse</code>, <code>IO::All</code> and, most painfull of all, <code>Moose</code>?  Note I can see it says [requires,optional] - but I thought those two terms were contradictory.</p>\n"}, {"tags": ["perl", "stack", "singly-linked-list"], "comments": [{"owner": {"reputation": 21782, "user_id": 176646, "user_type": "registered", "accept_rate": 88, "profile_image": "https://i.stack.imgur.com/HsQyV.png?s=128&g=1", "display_name": "ThisSuitIsBlackNot", "link": "https://stackoverflow.com/users/176646/thissuitisblacknot"}, "edited": false, "score": 2, "creation_date": 1456265096, "post_id": 35589070, "comment_id": 58864603, "body": "To summarize, you&#39;re trying to remove duplicate records from a text file?"}, {"owner": {"reputation": 7570, "user_id": 17945, "user_type": "registered", "accept_rate": 36, "profile_image": "https://www.gravatar.com/avatar/e8cbc0b9ed29b027a127d8df309af5a6?s=128&d=identicon&r=PG", "display_name": "reinierpost", "link": "https://stackoverflow.com/users/17945/reinierpost"}, "edited": false, "score": 0, "creation_date": 1456269680, "post_id": 35589070, "comment_id": 58866735, "body": "In Perl, you use hashes (associative arrays, in which the keys are strings) for this sort of thing, not arrays (indexed with integers) or linked lists. Arrays are just clumsy most of the time. Linked lists can be useful, and they can be built using hashes, but I wouldn&#39;t use them here."}, {"owner": {"reputation": 7570, "user_id": 17945, "user_type": "registered", "accept_rate": 36, "profile_image": "https://www.gravatar.com/avatar/e8cbc0b9ed29b027a127d8df309af5a6?s=128&d=identicon&r=PG", "display_name": "reinierpost", "link": "https://stackoverflow.com/users/17945/reinierpost"}, "edited": false, "score": 1, "creation_date": 1456269735, "post_id": 35589070, "comment_id": 58866753, "body": "Always start your Perl scripts with <code>use strict; use warnings;</code> so you get proper compile-time error reporting."}, {"owner": {"reputation": 53041, "user_id": 4653379, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/b3953dbedd0dabff5cbc3db9b0835b14?s=128&d=identicon&r=PG&f=1", "display_name": "zdim", "link": "https://stackoverflow.com/users/4653379/zdim"}, "edited": false, "score": 0, "creation_date": 1456273301, "post_id": 35589070, "comment_id": 58868083, "body": "See the updated post which I think identifies the problem."}], "answers": [{"comments": [{"owner": {"reputation": 6258, "user_id": 82262, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/8ce15931410b388a52eb2df4a864137f?s=128&d=identicon&r=PG&f=1", "display_name": "Matt Jacob", "link": "https://stackoverflow.com/users/82262/matt-jacob"}, "edited": false, "score": 1, "creation_date": 1456268313, "post_id": 35589300, "comment_id": 58866148, "body": "Please read <a href=\"https://stackoverflow.com/questions/how-to-answer\">How to Answer</a> to learn what makes a good answer on <a href=\"https://stackoverflow.com\">Stack Overflow</a>. Answering an unclear question with a speculative answer doesn&#39;t benefit anyone."}, {"owner": {"reputation": 6258, "user_id": 82262, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/8ce15931410b388a52eb2df4a864137f?s=128&d=identicon&r=PG&f=1", "display_name": "Matt Jacob", "link": "https://stackoverflow.com/users/82262/matt-jacob"}, "edited": false, "score": 0, "creation_date": 1456291380, "post_id": 35589300, "comment_id": 58873648, "body": "Yes, because the question still isn&#39;t any good. At best, it&#39;s a poorly-written and unclear question that doesn&#39;t contain a <a href=\"https://stackoverflow.com/help/minimal-reproducible-example\">minimal reproducible example</a>. At worst, it&#39;s a duplicate of any one of a number of &quot;How do I dereference an array reference?&quot; questions."}, {"owner": {"reputation": 53041, "user_id": 4653379, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/b3953dbedd0dabff5cbc3db9b0835b14?s=128&d=identicon&r=PG&f=1", "display_name": "zdim", "link": "https://stackoverflow.com/users/4653379/zdim"}, "reply_to_user": {"reputation": 6258, "user_id": 82262, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/8ce15931410b388a52eb2df4a864137f?s=128&d=identicon&r=PG&f=1", "display_name": "Matt Jacob", "link": "https://stackoverflow.com/users/82262/matt-jacob"}, "edited": false, "score": 1, "creation_date": 1456291663, "post_id": 35589300, "comment_id": 58873734, "body": "@MattJacob  Hm, I don&#39;t recall seeing recently such a thoroughly written up question.  With the problem statement including ASCII drawing and with code and output.  The error is simple but OP doesn&#39;t know that, thus the question.   Thank you, I&#39;ll wait some more.  I am removing these comments."}], "tags": [], "owner": {"reputation": 53041, "user_id": 4653379, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/b3953dbedd0dabff5cbc3db9b0835b14?s=128&d=identicon&r=PG&f=1", "display_name": "zdim", "link": "https://stackoverflow.com/users/4653379/zdim"}, "is_accepted": false, "score": 1, "last_activity_date": 1544732255, "last_edit_date": 1544732255, "creation_date": 1456265578, "answer_id": 35589300, "question_id": 35589070, "link": "https://stackoverflow.com/questions/35589070/how-to-create-multiple-stacks/35589300#35589300", "title": "How to Create Multiple Stacks?", "body": "<p>Instead of restoring the stack of duplicates in preparation for removal, the address ends up entered as its first element.  Then the print at the end gets the first variable being the array reference, and since this was the only thing under <code>@stackOfDuplicates</code> the other variables don't get anything (ending up <code>undef</code>), and the <code>Use of unitialized ...</code> is printed.</p>\n\n<p>Assigning a reference to an array in Perl does not restore the array (associated with that reference), it is not a pointer assignment to the first array address like it would be in C. Instead, at that point a new array is created and that reference is made its first element.</p>\n\n<p>To obtain an array from its reference we need to de-reference it</p>\n\n<pre><code>my @stackOfDuplicates = @{ $IDXChain[$IDX_iSub] };\n</code></pre>\n\n<p>Or, possibly more clearly</p>\n\n<pre><code>my $ref_stackOfDuplicates = $IDXChain[$IDX_iSub];\nmy @stackOfDuplicates = @$ref_stackOfDuplicates;\n</code></pre>\n\n<p>I don't see anything wrong with your data structures. In Perl <code>FIFO</code> is indeed implemented by array and <code>push</code>+<code>shift</code> (or <code>push</code>+<code>pop</code> for stack).</p>\n"}, {"comments": [{"owner": {"reputation": 11, "user_id": 5613182, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/a5e52117654d2cf20dc27c613cb41a3f?s=128&d=identicon&r=PG&f=1", "display_name": "Chuck Davis", "link": "https://stackoverflow.com/users/5613182/chuck-davis"}, "edited": false, "score": 0, "creation_date": 1456329659, "post_id": 35592283, "comment_id": 58898141, "body": "Thanks, but in a 25,000 line program, things are just too fixed to rewrite or start over.  I spent over a week attempting to remove all the HUNDREDS of globals and finally gave up on it.  You are correct, I just needed a tweak."}, {"owner": {"reputation": 11, "user_id": 5613182, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/a5e52117654d2cf20dc27c613cb41a3f?s=128&d=identicon&r=PG&f=1", "display_name": "Chuck Davis", "link": "https://stackoverflow.com/users/5613182/chuck-davis"}, "edited": false, "score": 0, "creation_date": 1457376614, "post_id": 35592283, "comment_id": 59368770, "body": "I have looked at your code and do understand what you&#39;ve done.  I need a little more direction in one specific area.  But StackOverflow won&#39;t allow me room to ask it."}, {"owner": {"reputation": 2690, "user_id": 5869736, "user_type": "registered", "accept_rate": 75, "profile_image": "https://www.gravatar.com/avatar/b18e361761e0643fd9003f9eae40ba45?s=128&d=identicon&r=PG&f=1", "display_name": "Marty", "link": "https://stackoverflow.com/users/5869736/marty"}, "reply_to_user": {"reputation": 11, "user_id": 5613182, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/a5e52117654d2cf20dc27c613cb41a3f?s=128&d=identicon&r=PG&f=1", "display_name": "Chuck Davis", "link": "https://stackoverflow.com/users/5613182/chuck-davis"}, "edited": false, "score": 0, "creation_date": 1457393181, "post_id": 35592283, "comment_id": 59377828, "body": "Chuck - I&#39;m able to offer you and hour or two of help with it if you want to pursue it -  there are stackoverflow chat rooms.  My timezone is +11hr.  The reason i had nothing to say after you said you couldn&#39;t redesign it (which i appreciate it - often its not possible) is that  the existing structure is just too complex to deal with (of course, I&#39;ve only seen a tiny sample of what you&#39;re doing so my opinion has to be seen in that light)."}, {"owner": {"reputation": 11, "user_id": 5613182, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/a5e52117654d2cf20dc27c613cb41a3f?s=128&d=identicon&r=PG&f=1", "display_name": "Chuck Davis", "link": "https://stackoverflow.com/users/5613182/chuck-davis"}, "edited": false, "score": 0, "creation_date": 1457539562, "post_id": 35592283, "comment_id": 59453982, "body": "RE: the program you posted - I have expanded the program to add multiple &quot;problems&quot;, but, I cannot make my program work UNLESS I USE DIFFERENT STACKS.  Remember, I build hundreds of stacks before I ever begin to shift the elements off.  So, I now need to dynamically create stack names.  Yes, I know everyone says not to.  Everyone says use a hash.  But, even with a hash, I have the same problem.  Can you tell me how to generate dynamically named arrays?  I&#39;ve tried variations of this:\t\t\t\t\t\t\t\t$temp = &#39;problem_&#39; . $control; \\@problem = \\@{$temp}; $problem[0] = $original;"}, {"owner": {"reputation": 2690, "user_id": 5869736, "user_type": "registered", "accept_rate": 75, "profile_image": "https://www.gravatar.com/avatar/b18e361761e0643fd9003f9eae40ba45?s=128&d=identicon&r=PG&f=1", "display_name": "Marty", "link": "https://stackoverflow.com/users/5869736/marty"}, "reply_to_user": {"reputation": 11, "user_id": 5613182, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/a5e52117654d2cf20dc27c613cb41a3f?s=128&d=identicon&r=PG&f=1", "display_name": "Chuck Davis", "link": "https://stackoverflow.com/users/5613182/chuck-davis"}, "edited": false, "score": 0, "creation_date": 1457557477, "post_id": 35592283, "comment_id": 59465476, "body": "Problems are arrays where each element is a doc_item. A stack is an array where each element is an array (ie, a problem). To dynamically create stacks, dynamically create arrays - to do that take a reference to a (lexical) variable. <code>for (1 .. 10) { my @tmp = generate_array();  $stacks[$_] = \\@tmp }</code> But now, the 10 arrays have integer names - each represented by an index in @stacks. Hence, you need a hash - an array where each index is a text name instead of an integer;  <code>while (is_more_data($fh)) {  my $name = get_stack_name(); my @tmp = generate_stack($fh); $stacks_hash{ $name } = \\@tmp }</code>"}], "tags": [], "owner": {"reputation": 2690, "user_id": 5869736, "user_type": "registered", "accept_rate": 75, "profile_image": "https://www.gravatar.com/avatar/b18e361761e0643fd9003f9eae40ba45?s=128&d=identicon&r=PG&f=1", "display_name": "Marty", "link": "https://stackoverflow.com/users/5869736/marty"}, "is_accepted": false, "score": 0, "last_activity_date": 1456333644, "last_edit_date": 1456333644, "creation_date": 1456281776, "answer_id": 35592283, "question_id": 35589070, "link": "https://stackoverflow.com/questions/35589070/how-to-create-multiple-stacks/35592283#35592283", "title": "How to Create Multiple Stacks?", "body": "<p>Your stack of duplicates is really a stack of \"details about duplicates\".  This is greatly complicating things.  I suspect you would prefer to have a small tweak to fix up what you already have but you would be far better off stepping back, doing a little research and then having a second go.</p>\n\n<p>Critical to the whole operation is to gather the attributes that describe one \"duplicate item\" or \"original item\" into an associative array - i.e. a defacto object.  Better still, <a href=\"https://metacpan.org/pod/Mo\" rel=\"nofollow\">Mo.pm</a> is a minimalist Perl module that gives you basic objects.</p>\n\n<p>If installing modules is beyond your reach or, if you don't have the admin access to formally install a module, you can just copy <a href=\"https://metacpan.org/source/INGY/Mo-0.39/lib/Mo.pm\" rel=\"nofollow\">these three lines</a> and put them in a file called <strong>Mo.pm</strong> <em>in the same directory as your script</em> and then you're good to go.</p>\n\n<p>You also need to create another file called <strong>DocItem.pm</strong>, again, <em>in the same directory</em> which will define your DocItem class. Put the following in it:</p>\n\n<pre><code>package DocItem;\nuse Mo;\n\nhas MsgID      =&gt;  ();\nhas LineNumber =&gt;  ();\nhas Offset     =&gt;  ();\nhas LineCount  =&gt;  ();\nhas KCount     =&gt;  ();\n</code></pre>\n\n<p>Now you have a class that you can \"pull into\" your script.  Your code should look something like this:</p>\n\n<pre><code>#!/usr/bin/env perl\nuse DocItem;\n\nmy @stack ;\nmy @problem ;\n\n# Have to create an \"original\" and some duplicates by making\n# up the attributes that define each item\n\nmy $original = DocItem-&gt;new(\n                  MsgID        =&gt;  \"id14\" ,\n                  LineNumber   =&gt;  126    ,  # All these made up\n                  Offset       =&gt;  17     ,\n                  LineCount    =&gt;  64     ,\n                  KCount       =&gt;  1237   ,\n              );\n\nprint \"MsgID: \",     $original-&gt;MsgID, \"\\n\";    #  How you access an attribute\nprint \"LineCount: \", $original-&gt;LineCount;\nprint \" ==&gt; \";\n$original-&gt;LineCount(8600);   #  How you set an attribute after object creation\nprint $original-&gt;LineCount, \"\\n\";\n\n$problem[0] = $original ;     # NOTE: make the DocItem called \"$original\" the\n                              # first item of the array @problem.\n\n# Using a loop to make-up 4 DocItem objects representing 4 duplicates\nfor (1 .. 4) {\n    my $id   = \"id\" . $_ ;   # All these attributes made up\n    my $line = 12 * $_   ;   # values based on the loop variable\n    my $off  = 18 + $_   ;\n    my $Lcnt = 126 + $_  ;\n    my $KC   = 1000 - $_ ;\n\n    # Create a new DocItem representing one duplicate\n    my $duplicate = DocItem-&gt;new(\n                    MsgID        =&gt;  $id   ,\n                    LineNumber   =&gt;  $line ,\n                    Offset       =&gt;  $off  ,\n                    LineCount    =&gt;  $Lcnt ,\n                    KCount       =&gt;  $KC   ,\n                );\n\n    # NOTE: push the DocItem called \"$duplicate\" onto the problem array\n    # This builds up a structure representing one \"horizontal line\" of your pic\n    push @problem, $duplicate;\n}\n\n# The four \"pushes\" (one for each loop iteration) leaves @problem looking like:\n\n#  $problem[0]     $problem[1]     $problem[2]    $problem[3]    $problem[4]\n#  ===========     ===========     ===========    ===========    ===========\n#    MsgID:  id14    MsgID:  id1     MsgID:  id2    MsgID:  id3    MsgID:  id4\n#    Offset: 17      Offset: 19      Offset: 20     Offset: 21     Offset: 22\n#    KCount: 1237    KCount: 999     KCount: 998    KCount: 997    KCount: 996\n#    (etc for LineNumber and LineCount)\n\n# Now, push the whole problem array into slot 0 of @stack\npush @stack, \\@problem;   # Or, $stack[0] = \\@problem ;\n\n# In a similar way, build up more arrays representing \"problems\" each\n# with the \"original\" DocItem in slot 0 and the duplicate DocItems in\n# successive slots of the array, and again, push the whole lot onto @stack\n\n# and then....\n\nmy $first_problem = shift @stack;\nmy $first_original = shift @$first_problem;  # Note, this access is required because\n                                             # $first_problem holds a reference to an\nwhile (my $dup = shift @$first_problem)  {   # array, not an array;\n\n    # $dup holds one DocItem object representing\n    # a duplicate and $first_original holds the\n    # DocItem representing the orignal.\n\n    # Do what you need to do\n\n }\n</code></pre>\n\n<p>Each <code>@problem</code> represents one horizontal line in your pic above.  The first slot - <code>$problem[0]</code> - holds your original and subsequent duplicates are pushed onto the array.  Then the whole array can be pushed onto <code>@stack</code> by taking a reference to your problem array <code>\\@problem</code></p>\n\n<p>Then you can iterate over your stack, shift off one whole problem, shift off the original, and then iterate over the duplicates dealing with them.</p>\n\n<p><a href=\"http://perlmaven.com/manipulating-perl-arrays\" rel=\"nofollow\">Read this</a> excellent tutorial by Gabor Szabo to help with keeping \"push\", \"pop\", \"shift\" and \"unshift\" straight.</p>\n"}], "owner": {"reputation": 11, "user_id": 5613182, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/a5e52117654d2cf20dc27c613cb41a3f?s=128&d=identicon&r=PG&f=1", "display_name": "Chuck Davis", "link": "https://stackoverflow.com/users/5613182/chuck-davis"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 160, "favorite_count": 0, "answer_count": 2, "score": 0, "last_activity_date": 1544732255, "creation_date": 1456264715, "last_edit_date": 1456264906, "question_id": 35589070, "link": "https://stackoverflow.com/questions/35589070/how-to-create-multiple-stacks", "title": "How to Create Multiple Stacks?", "body": "<p>Perl Help</p>\n\n<p>I have a complicated utility program (let's call it KIP for short) that\nI'm converting from AWK to perl. AWK had a facility for a doubly linked\nlist which I used.  This worked great, but I can't figure out how to do\nthis in perl. I know that a FIFO linked list is a good solution.</p>\n\n<p>KIP Function (If you are interested)\nKIP removes duplicate items from a document.  The way the AWK program\nworks is that it scans the document looking for duplicate items and\nbuilds an array showing the \"real\" items and all of its duplicates.  I\nneed a FIFO linked list to the duplicates as shown here:</p>\n\n<pre><code>                 PICTORIAL OF THE FUNCTION\nREAL\nITEM    ARRAY OF $POINTER[]                   LINKED LIST\nNUMBER\n      +-------------+---------+   +---------------+   +---------------+\n 1    | real item 1 | ------&gt; |   |dup_1_of_item_1|--&gt;|dup_n_of_item_1|\n      +-------------+---------+   +---------------+   +---------------+\n\n      +-------------+---------+   +---------------+   +---------------+\n 2    | real item 2 | ------&gt; |   |dup_1_of_item_2|--&gt;|dup_n_of_item_2|\n      +-------------+---------+   +---------------+   +---------------+\n\n      +-------------+---------+   +---------------+   +---------------+\n 3    | real item 3 | ------&gt; |   |dup_1_of_item_3|--&gt;|dup_n_of_item_3|\n      +-------------+---------+   +---------------+   +---------------+\n               ...                             ...\n</code></pre>\n\n<p>KIP will run the \"real item n\" array to process each real item.  To do\nso, KIP will run the linked list chain to remove the duplicate items\nfrom the document.  It would be nice just to push the duplicates of\n\"real item 1\" onto a stack and save the stack address for later. Then,\nlater, KIP could access the saved stack address and pop the items off.</p>\n\n<p>I know it is my lack of knowledge of perl, but I'm having a hard time\nimplementing such an array-of-pointer structure.  I think push and pop\nshould work, but either the syntax is wrong or it just doesn't work for\nme.</p>\n\n<p>Here's what I'm finding hard -</p>\n\n<ol>\n<li><p>I need to create dynamic stacks that I can push information onto.</p></li>\n<li><p>The stacks will be accessed in different sections of KIP so I need\nto save the stack address in an array for later.</p></li>\n<li><p>The stack is dynamically built (not an array built using QW which\nall documentation seems to describe).</p></li>\n<li><p>I need numerous stacks (one for each real_item for which there is a\nduplicate).</p></li>\n</ol>\n\n<p>Can someone give me direction?  Any pertinent information will be\nappreciated.</p>\n\n<p>TIA</p>\n\n<p>HERE'S WHAT I'VE DONE;</p>\n\n<pre><code>ADD ITEMS TO STACK\n   # $IDX_ori_iSub - subscript for the real item\n   # $IDX_dup_iSub - subscript for each duplicate item that is\n   #                 found\n\n   # populate the fields for the stack\n    $MsgID      =  $IDXMsgID[$IDX_dup_iSub];\n    $LineNumber =  $IDXLineNumber[$IDX_dup_iSub];\n    $Offset     =  $IDXOffset[$IDX_dup_iSub];\n    $LineCount  =  $IDXLineCount[$IDX_dup_iSub];\n    $KCount     =  $IDXKCount[$IDX_dup_iSub];\n\n   # set up stack\n    my @stackOfDuplicates;\n\n   # Save the address of the stack for later access\n    if ( $IDXChain[$IDX_ori_iSub] == 0)\n    {\n        $IDXChain[$IDX_ori_iSub] = \\@stackOfDuplicates;\n    }\n\n   # Push items onto list.\n    push @stackOfDuplicates, $MsgID      ;\n    push @stackOfDuplicates, $LineNumber ;\n    push @stackOfDuplicates, $Offset     ;\n    push @stackOfDuplicates, $LineCount  ;\n    push @stackOfDuplicates, $KCount     ;\n</code></pre>\n\n<p>REMOVE ITEMS FROM STACK</p>\n\n<pre><code>    my @stackOfDuplicates = $IDXChain[$IDX_iSub];\n    if ( @stackOfDuplicates )\n    {\n       # Remove first items from list.\n        my $MsgID      = shift @stackOfDuplicates;\n        my $LineNumber = shift @stackOfDuplicates;\n        my $Offset     = shift @stackOfDuplicates;\n        my $LineCount  = shift @stackOfDuplicates;\n        my $KCount     = shift @stackOfDuplicates;\n\nprint \"  \\$MsgID = $MsgID\";\nprint \"  \\$LineNumber = $LineNumber\";\nprint \"  \\$Offset = $Offset\";\nprint \"  \\$LineCount = $LineCount\";\nprint \"  \\$KCount = $KCount\";\n    }\n</code></pre>\n\n<p>TYPICAL OF THE RESULTS I'VE SEEN THUS FAR</p>\n\n<pre><code>  $MsgID = ARRAY(0x2b786c0)\nUse of uninitialized value $LineNumber in concatenation (.) or string\n  $LineNumber =\nUse of uninitialized value $Offset in concatenation (.) or string at\n  $Offset =\nUse of uninitialized value $LineCount in concatenation (.) or string\n  $LineCount =\nUse of uninitialized value $KCount in concatenation (.) or string at\n  $KCount =\n</code></pre>\n"}, {"tags": ["regex", "perl", "mathjax"], "comments": [{"owner": {"reputation": 13399, "user_id": 716443, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/a8d13509991dbbd5467f01f55988ae4e?s=128&d=identicon&r=PG", "display_name": "DavidO", "link": "https://stackoverflow.com/users/716443/davido"}, "edited": false, "score": 4, "creation_date": 1456262653, "post_id": 35588141, "comment_id": 58863251, "body": "This would be a valid question if after your sample input and output it continued on with, &quot;I tried using the following code: ....... but it failed to match the following condition: ......... .  How should I modify my code to accommodate that condition too?&quot;  As written, it&#39;s a specification for work that needs to be done, not a question asking for guidance on code you&#39;re working on."}, {"owner": {"reputation": 187, "user_id": 3550284, "user_type": "registered", "accept_rate": 50, "profile_image": "https://www.gravatar.com/avatar/dcba9e56000a40f7b536360634ca03e6?s=128&d=identicon&r=PG", "display_name": "LaboDJ", "link": "https://stackoverflow.com/users/3550284/labodj"}, "reply_to_user": {"reputation": 13399, "user_id": 716443, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/a8d13509991dbbd5467f01f55988ae4e?s=128&d=identicon&r=PG", "display_name": "DavidO", "link": "https://stackoverflow.com/users/716443/davido"}, "edited": false, "score": 0, "creation_date": 1456269264, "post_id": 35588141, "comment_id": 58866564, "body": "Sorry, I forgot to add my attempt so far, I just edited the question"}, {"owner": {"user_type": "does_not_exist", "display_name": "user557597"}, "edited": false, "score": 0, "creation_date": 1456272411, "post_id": 35588141, "comment_id": 58867798, "body": "It can be efficiently done with <code>$string =~ s&#47;(?x)(?:(?!\\A)\\G[^\\\\]*\\K\\\\|\\\\(?=\\())(?=.*?(?&lt;=\\\\)\\))&#47;\\\\\\\\&#47;g&zwnj;&#8203;;</code>"}, {"owner": {"reputation": 13399, "user_id": 716443, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/a8d13509991dbbd5467f01f55988ae4e?s=128&d=identicon&r=PG", "display_name": "DavidO", "link": "https://stackoverflow.com/users/716443/davido"}, "edited": false, "score": 0, "creation_date": 1456272435, "post_id": 35588141, "comment_id": 58867809, "body": "Good. I nominated the question for re-opening."}, {"owner": {"reputation": 187, "user_id": 3550284, "user_type": "registered", "accept_rate": 50, "profile_image": "https://www.gravatar.com/avatar/dcba9e56000a40f7b536360634ca03e6?s=128&d=identicon&r=PG", "display_name": "LaboDJ", "link": "https://stackoverflow.com/users/3550284/labodj"}, "edited": false, "score": 0, "creation_date": 1456274887, "post_id": 35588141, "comment_id": 58868596, "body": "@sln I tested it and it seems to work in a perl script, I was trying my regex in regex101.com but it seems that it doesn&#39;t allow \\G and \\K, I was not aware about those options, I read perl doc, but I find it hard to understand. I&#39;ll test it more accurately tomorrow, now it&#39;s bed time :D"}], "answers": [{"comments": [{"owner": {"user_type": "does_not_exist", "display_name": "user557597"}, "edited": false, "score": 1, "creation_date": 1456332398, "post_id": 35591540, "comment_id": 58900345, "body": "Change the <code>(?x)</code> to <code>(?s)</code>. It&#39;s not really a mystery. I&#39;ll update your post with an explanation."}, {"owner": {"user_type": "does_not_exist", "display_name": "user557597"}, "edited": false, "score": 1, "creation_date": 1456419135, "post_id": 35591540, "comment_id": 58948504, "body": "I posted a quicker variant regex, if you&#39;re interested."}], "tags": [], "owner": {"reputation": 187, "user_id": 3550284, "user_type": "registered", "accept_rate": 50, "profile_image": "https://www.gravatar.com/avatar/dcba9e56000a40f7b536360634ca03e6?s=128&d=identicon&r=PG", "display_name": "LaboDJ", "link": "https://stackoverflow.com/users/3550284/labodj"}, "is_accepted": false, "score": 1, "last_activity_date": 1456332615, "last_edit_date": 1456332615, "creation_date": 1456276808, "answer_id": 35591540, "question_id": 35588141, "link": "https://stackoverflow.com/questions/35588141/perl-regex-for-mathjax-syntax/35591540#35591540", "title": "Perl Regex for mathjax syntax", "body": "<p>I tested @sln regex</p>\n\n<pre><code>s/(?x)(?:(?!\\A)\\G[^\\\\]*\\K\\\\|\\\\(?=\\())(?=.*?(?&lt;=\\\\)\\))/\\\\\\\\/g;\n</code></pre>\n\n<p>And it seems to work,although it remains an arcane mystery to me. </p>\n\n<p><strong>Update with explanation</strong>  </p>\n\n<p><a href=\"http://www.regexformat.com\" rel=\"nofollow\">Formatted and tested:</a></p>\n\n<pre><code> (?s)               # Inline Dot-All modifier\n (?:                # Cluster start\n      (?! \\A )           # Not beginning of string\n      \\G                 # G anchor - If matched before, start at end of last match\n      [^\\\\]*             # Many non-escape's\n      \\K                 # Previous is not part of match\n      \\\\                 # A lone escape\n   |                   # or,\n                         # Start of an opening '\\('\n      \\\\                 # A lone escape\n      (?= \\( )           #   followed by an open parenth\n )                  # Cluster end\n (?=                # Lookahead, each match validates a final '\\)'\n      .*? \n      (?&lt;= \\\\ )\n      \\) \n )\n</code></pre>\n"}, {"tags": [], "owner": {"user_type": "does_not_exist", "display_name": "user557597"}, "is_accepted": true, "score": 1, "last_activity_date": 1456419437, "last_edit_date": 1456419437, "creation_date": 1456419090, "answer_id": 35633442, "question_id": 35588141, "link": "https://stackoverflow.com/questions/35588141/perl-regex-for-mathjax-syntax/35633442#35633442", "title": "Perl Regex for mathjax syntax", "body": "<p>Posting an updated regex from my original.  </p>\n\n<p>The original had a validation at the end for <em>all</em> escapes.<br>\nAfter looking at it, it can be sped up by only doing the validation<br>\none time when it finds the opening block.   </p>\n\n<p><em>At the bottom is a benchmark that compares the two methods.</em>  </p>\n\n<p><strong>Updated regex:</strong>  </p>\n\n<p><code>$str =~ s/(?s)(?:(?!\\A)\\G(?!\\))[^\\\\]*\\K\\\\|\\\\(?=\\(.*?\\\\\\)))/\\\\\\\\/g;</code>  </p>\n\n<p><a href=\"http://www.regexformat.com\" rel=\"nofollow\">Formatted and tested:</a></p>\n\n<pre><code> (?s)               # Dot-All modifier\n (?:                # Cluster start\n      (?! \\A )           # Not beginning of string\n      \\G                 # G anchor - If matched before, start at end of last match\n      (?! \\) )           # Last was an escape, so ')' ends the block\n      [^\\\\]*             # Many non-escape's\n      \\K                 # Previous is not part of match\n      \\\\                 # A lone escape\n   |                   # or,\n                         # New Block Check - \n      \\\\                 # A lone escape then,\n      (?=                # One time Validation:\n           \\(                 #  an opening '('\n           .*?                #  anything\n           \\\\ \\)              #  then a final '\\)'\n      )                  # -------------\n )                  # Cluster end\n</code></pre>\n\n<p><strong>Benchmark:</strong>  </p>\n\n<p>Sample  <code>\\( \\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\ \\)</code>  </p>\n\n<p>Results   </p>\n\n<pre><code>New Regex:   (?s)(?:(?!\\A)\\G(?!\\))[^\\\\]*\\K\\\\|\\\\(?=\\(.*?\\\\\\)))\nOptions:  &lt; none &gt;\nCompleted iterations:   50  /  50     ( x 1000 )\nMatches found per iteration:   31\nElapsed Time:    1.25 s,   1253.92 ms,   1253924 \u00b5s\n\n\nOld Regex:   (?s)(?:(?!\\A)\\G[^\\\\]*\\K\\\\|\\\\(?=\\())(?=.*?(?&lt;=\\\\)\\))\nOptions:  &lt; none &gt;\nCompleted iterations:   50  /  50     ( x 1000 )\nMatches found per iteration:   31\nElapsed Time:    3.95 s,   3952.31 ms,   3952307 \u00b5s\n</code></pre>\n"}], "owner": {"reputation": 187, "user_id": 3550284, "user_type": "registered", "accept_rate": 50, "profile_image": "https://www.gravatar.com/avatar/dcba9e56000a40f7b536360634ca03e6?s=128&d=identicon&r=PG", "display_name": "LaboDJ", "link": "https://stackoverflow.com/users/3550284/labodj"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 167, "favorite_count": 0, "accepted_answer_id": 35633442, "answer_count": 2, "score": -2, "last_activity_date": 1456419437, "creation_date": 1456261536, "last_edit_date": 1456270929, "question_id": 35588141, "link": "https://stackoverflow.com/questions/35588141/perl-regex-for-mathjax-syntax", "title": "Perl Regex for mathjax syntax", "body": "<p>I have a problem making a perl regex to change <code>\\</code> character following these rules:</p>\n\n<ol>\n<li>A matching sequence should start with <code>\\(</code></li>\n<li>It should end with <code>\\)</code> </li>\n<li>Any <code>\\</code> character in the previous matching sequence should be replaced with a double backslash <code>\\\\</code></li>\n</ol>\n\n<p>Example text reference:</p>\n\n<pre><code>Se la \\probabilit&amp;agrave; dell'evento\\ A &amp;egrave; \\(\\frac{3}{4} \\) e la\nprobabilit&amp;agrave; dell'evento B &amp;egrave; \\(\\frac{1}{4}\\)&amp;nbsp;\n\\(\\frac{3}{4} +\\frac{3}{4}\\)&amp;nbsp;.\n\\(\\frac{1}{4} - \\frac{3}{4}\\)&amp;nbsp;.\n\\(\\frac{3}{16}\\)&amp;nbsp;.\n\\(\\frac{1}{2}\\)&amp;nbsp;.\n</code></pre>\n\n<p>Should become:</p>\n\n<pre><code>Se la \\probabilit&amp;agrave; dell'evento\\ A &amp;egrave; \\\\(\\\\frac{3}{4} \\\\) e la\nprobabilit&amp;agrave; dell'evento B &amp;egrave; \\\\(\\\\frac{1}{4}\\\\)&amp;nbsp;\n\\\\(\\\\frac{3}{4} +\\\\frac{3}{4}\\\\)&amp;nbsp;.\n\\\\(\\\\frac{1}{4} - \\\\frac{3}{4}\\\\)&amp;nbsp;.\n\\\\(\\\\frac{3}{16}\\\\)&amp;nbsp;.\n\\\\(\\\\frac{1}{2}\\\\)&amp;nbsp;.\n</code></pre>\n\n<p>So far this is my best bet:</p>\n\n<pre><code>s/(\\\\\\()(.*)(\\\\)(.*)(\\\\\\))/\\\\\\\\\\($2\\\\\\\\$4\\\\\\\\\\)/mg\n</code></pre>\n\n<p>which produces:</p>\n\n<pre><code>Se la \\probabilit&amp;agrave; dell'evento\\ A &amp;egrave; \\\\(\\\\frac{3}{4} \\\\) e la\nprobabilit&amp;agrave; dell'evento B &amp;egrave; \\\\(\\\\frac{1}{4}\\\\)&amp;nbsp;\n\\\\(\\frac{3}{4} +\\\\frac{3}{4}\\\\)&amp;nbsp;.\n\\\\(\\frac{1}{4} - \\\\frac{3}{4}\\\\)&amp;nbsp;.\n\\\\(\\\\frac{3}{16}\\\\)&amp;nbsp;.\n\\\\(\\\\frac{1}{2}\\\\)&amp;nbsp;.\n</code></pre>\n\n<p>As you can see</p>\n\n<pre><code>\\\\(\\frac{3}{4} +\\\\frac{3}{4}\\\\)&amp;nbsp;.\n\\\\(\\frac{1}{4} - \\\\frac{3}{4}\\\\)&amp;nbsp;.\n</code></pre>\n\n<p>are wrong.</p>\n\n<p>How can I modify my regex to accomodate my needs?</p>\n"}, {"tags": ["perl", "arm", "embedded"], "comments": [{"owner": {"reputation": 21782, "user_id": 176646, "user_type": "registered", "accept_rate": 88, "profile_image": "https://i.stack.imgur.com/HsQyV.png?s=128&g=1", "display_name": "ThisSuitIsBlackNot", "link": "https://stackoverflow.com/users/176646/thissuitisblacknot"}, "edited": false, "score": 2, "creation_date": 1456258317, "post_id": 35586898, "comment_id": 58860836, "body": "I believe <a href=\"https://metacpan.org/pod/HTTP::Tiny\" rel=\"nofollow noreferrer\">HTTP::Tiny</a> is pure Perl. You may even have it already; it has been a core module since Perl 5.14 (although it requires non-core modules for SSL)."}, {"owner": {"reputation": 6592, "user_id": 3005251, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/a5331f7e467aae3d581fe8bc814ef572?s=128&d=identicon&r=PG", "display_name": "bolav", "link": "https://stackoverflow.com/users/3005251/bolav"}, "edited": false, "score": 0, "creation_date": 1456258356, "post_id": 35586898, "comment_id": 58860853, "body": "What version do you have? What of the core modules do you have?"}, {"owner": {"reputation": 53041, "user_id": 4653379, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/b3953dbedd0dabff5cbc3db9b0835b14?s=128&d=identicon&r=PG&f=1", "display_name": "zdim", "link": "https://stackoverflow.com/users/4653379/zdim"}, "edited": false, "score": 0, "creation_date": 1456260930, "post_id": 35586898, "comment_id": 58862314, "body": "What does it mean &quot;just copy?&quot;  No C, OK ... does anything else go?"}, {"owner": {"reputation": 1825, "user_id": 144680, "user_type": "registered", "accept_rate": 94, "profile_image": "https://www.gravatar.com/avatar/58902166474c9e08f5345fc247c8a78e?s=128&d=identicon&r=PG", "display_name": "NXT", "link": "https://stackoverflow.com/users/144680/nxt"}, "edited": false, "score": 0, "creation_date": 1456261636, "post_id": 35586898, "comment_id": 58862684, "body": "I mean just copy the .pm files from the module distribution into my library tree."}, {"owner": {"reputation": 320771, "user_id": 589924, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/b2cf53d5a3d25f95c0db4e025aed4153?s=128&d=identicon&r=PG", "display_name": "ikegami", "link": "https://stackoverflow.com/users/589924/ikegami"}, "edited": false, "score": 0, "creation_date": 1456262755, "post_id": 35586898, "comment_id": 58863306, "body": "LWP is pure Perl as well, but LWP::Protocol::https has C dependencies. HTTPS support will invariably require a C dependency."}], "answers": [{"comments": [{"owner": {"reputation": 51521, "user_id": 2566198, "user_type": "registered", "accept_rate": 67, "profile_image": "https://i.stack.imgur.com/Y34ZA.jpg?s=128&g=1", "display_name": "Sobrique", "link": "https://stackoverflow.com/users/2566198/sobrique"}, "edited": false, "score": 1, "creation_date": 1456261162, "post_id": 35587469, "comment_id": 58862441, "body": "<code>https</code> is horrible to hand roll. Life is too short for that kind of pain."}, {"owner": {"reputation": 1825, "user_id": 144680, "user_type": "registered", "accept_rate": 94, "profile_image": "https://www.gravatar.com/avatar/58902166474c9e08f5345fc247c8a78e?s=128&d=identicon&r=PG", "display_name": "NXT", "link": "https://stackoverflow.com/users/144680/nxt"}, "edited": false, "score": 0, "creation_date": 1456261361, "post_id": 35587469, "comment_id": 58862553, "body": "I tried to install HTTP::Tiny, but the make script barfed when it couldn&#39;t find CORE/config.h, so I assume it needs to compile something in C.  I should take a closer look at the distribution to confirm."}, {"owner": {"reputation": 1825, "user_id": 144680, "user_type": "registered", "accept_rate": 94, "profile_image": "https://www.gravatar.com/avatar/58902166474c9e08f5345fc247c8a78e?s=128&d=identicon&r=PG", "display_name": "NXT", "link": "https://stackoverflow.com/users/144680/nxt"}, "edited": false, "score": 0, "creation_date": 1456261428, "post_id": 35587469, "comment_id": 58862580, "body": "Thank you so much for posting the Socket example, I do actually have Socket and IO::Socket available, so this will do me for now (HTTPS can come later)."}, {"owner": {"reputation": 6592, "user_id": 3005251, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/a5331f7e467aae3d581fe8bc814ef572?s=128&d=identicon&r=PG", "display_name": "bolav", "link": "https://stackoverflow.com/users/3005251/bolav"}, "reply_to_user": {"reputation": 1825, "user_id": 144680, "user_type": "registered", "accept_rate": 94, "profile_image": "https://www.gravatar.com/avatar/58902166474c9e08f5345fc247c8a78e?s=128&d=identicon&r=PG", "display_name": "NXT", "link": "https://stackoverflow.com/users/144680/nxt"}, "edited": false, "score": 0, "creation_date": 1456261576, "post_id": 35587469, "comment_id": 58862657, "body": "@NXT: You should check if you have IO::Socket available to save you some heartache. Also HTTP::Tiny does not require a C compiler, but maybe some of it&#39;s requirements does. If you have IO::Socket you should be able to edit the module to work."}, {"owner": {"reputation": 6592, "user_id": 3005251, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/a5331f7e467aae3d581fe8bc814ef572?s=128&d=identicon&r=PG", "display_name": "bolav", "link": "https://stackoverflow.com/users/3005251/bolav"}, "reply_to_user": {"reputation": 1825, "user_id": 144680, "user_type": "registered", "accept_rate": 94, "profile_image": "https://www.gravatar.com/avatar/58902166474c9e08f5345fc247c8a78e?s=128&d=identicon&r=PG", "display_name": "NXT", "link": "https://stackoverflow.com/users/144680/nxt"}, "edited": false, "score": 0, "creation_date": 1456261851, "post_id": 35587469, "comment_id": 58862807, "body": "@NXT: You should try to just compy Tiny.pm from HTTP::Tiny and see if that runs."}, {"owner": {"reputation": 1825, "user_id": 144680, "user_type": "registered", "accept_rate": 94, "profile_image": "https://www.gravatar.com/avatar/58902166474c9e08f5345fc247c8a78e?s=128&d=identicon&r=PG", "display_name": "NXT", "link": "https://stackoverflow.com/users/144680/nxt"}, "edited": false, "score": 0, "creation_date": 1456261936, "post_id": 35587469, "comment_id": 58862853, "body": "@bolav: will look further into HTTP::Tiny this afternoon.  Thanks."}, {"owner": {"reputation": 1825, "user_id": 144680, "user_type": "registered", "accept_rate": 94, "profile_image": "https://www.gravatar.com/avatar/58902166474c9e08f5345fc247c8a78e?s=128&d=identicon&r=PG", "display_name": "NXT", "link": "https://stackoverflow.com/users/144680/nxt"}, "edited": false, "score": 1, "creation_date": 1456336609, "post_id": 35587469, "comment_id": 58903348, "body": "@bolav: I was able to get HTTP::Tiny to work just by copying the .pm file out into my library directory.  Thanks for the suggestion."}], "tags": [], "owner": {"reputation": 6592, "user_id": 3005251, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/a5331f7e467aae3d581fe8bc814ef572?s=128&d=identicon&r=PG", "display_name": "bolav", "link": "https://stackoverflow.com/users/3005251/bolav"}, "is_accepted": true, "score": 3, "last_activity_date": 1456341314, "last_edit_date": 1456341314, "creation_date": 1456259223, "answer_id": 35587469, "question_id": 35586898, "link": "https://stackoverflow.com/questions/35586898/is-there-any-way-to-fetch-web-pages-in-pure-perl/35587469#35587469", "title": "Is there any way to fetch web pages in pure perl?", "body": "<p>You can do normal socket programming with no libraries. Perl supports most of the POSIX/c library to do that. Depending on how much of the standard library you have available, your solution will vary. If you have normal sockets like IO::Socket::INET I would recommend HTTP::Tiny, like @ThisSuitIsBlackNot.</p>\n\n<p>Here is a program using just Socket, which should get you started if you need to implement your own HTTP client.</p>\n\n<pre><code>use strict;\nuse warnings;\nuse Socket qw(PF_INET SOCK_STREAM pack_sockaddr_in inet_aton);\n\nsocket(my $socket, PF_INET, SOCK_STREAM, 0) or die \"socket: $!\";\nmy $port = getservbyname \"http\", \"tcp\";\nconnect($socket, pack_sockaddr_in($port, inet_aton(\"www.google.com\"))) or die \"connect: $!\";\n\nsend($socket, \"GET / HTTP/1.0\\r\\n\", 0);\nsend($socket, \"Host: www.google.com\\r\\n\", 0);\nsend($socket, \"User-Agent: pureperl\\r\\n\\r\\n\", 0);\n\nwhile (my $line = &lt;$socket&gt;)\n{\n    print $line;\n}\n</code></pre>\n\n<p>If you don't have Socket either, you need to get the values for PF_INET, SOCK_STREAM and the two functions done manually.</p>\n\n<p>If you have IO::Socket it is better to use that:</p>\n\n<pre><code>use strict;\nuse warnings;    \nuse IO::Socket;\n$sock = IO::Socket::INET-&gt;new(PeerAddr =&gt; 'www.google.com',\n                              PeerPort =&gt; 'http(80)',\n                              Proto    =&gt; 'tcp');\n$sock-&gt;send(\"GET / HTTP/1.0\\r\\n\");\n$sock-&gt;send(\"Host: www.google.com\\r\\n\");\n$sock-&gt;send(\"User-Agent: pureperl\\r\\n\");\n$sock-&gt;send(\"\\r\\n\");\n\nwhile (my $line = &lt;$sock&gt;)\n{\n    print $line;\n}\n</code></pre>\n\n<p>But if you have IO::Socket, then Tiny.pm from HTTP::Tiny should load if you just copy it.</p>\n\n<p>I would not recommend trying to solve HTTPS in pure perl, or starting on your own implementation of this.</p>\n"}, {"comments": [{"owner": {"reputation": 1825, "user_id": 144680, "user_type": "registered", "accept_rate": 94, "profile_image": "https://www.gravatar.com/avatar/58902166474c9e08f5345fc247c8a78e?s=128&d=identicon&r=PG", "display_name": "NXT", "link": "https://stackoverflow.com/users/144680/nxt"}, "edited": false, "score": 0, "creation_date": 1456265801, "post_id": 35588722, "comment_id": 58864971, "body": "I&#39;ll admit that part of my objection is that running another process for this is just ugly, plus my intuition is to cut down on process launch overhead.  But I had no idea the difference was so pronounced."}, {"owner": {"reputation": 320771, "user_id": 589924, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/b2cf53d5a3d25f95c0db4e025aed4153?s=128&d=identicon&r=PG", "display_name": "ikegami", "link": "https://stackoverflow.com/users/589924/ikegami"}, "reply_to_user": {"reputation": 1825, "user_id": 144680, "user_type": "registered", "accept_rate": 94, "profile_image": "https://www.gravatar.com/avatar/58902166474c9e08f5345fc247c8a78e?s=128&d=identicon&r=PG", "display_name": "NXT", "link": "https://stackoverflow.com/users/144680/nxt"}, "edited": false, "score": 0, "creation_date": 1456267901, "post_id": 35588722, "comment_id": 58865970, "body": "Those are rough measurements. I didn&#39;t actually measure <code>curl</code> in-memory footprint, but the difference in scale speaks for itself. // As for the launch overhead, <code>curl</code> higher speed should easily make up for it."}], "tags": [], "owner": {"reputation": 320771, "user_id": 589924, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/b2cf53d5a3d25f95c0db4e025aed4153?s=128&d=identicon&r=PG", "display_name": "ikegami", "link": "https://stackoverflow.com/users/589924/ikegami"}, "is_accepted": false, "score": 2, "last_activity_date": 1456263900, "last_edit_date": 1456263900, "creation_date": 1456263524, "answer_id": 35588722, "question_id": 35586898, "link": "https://stackoverflow.com/questions/35586898/is-there-any-way-to-fetch-web-pages-in-pure-perl/35588722#35588722", "title": "Is there any way to fetch web pages in pure perl?", "body": "<blockquote>\n  <p><em>Failing a perl solution I think I can fall back to running wget or curl from a perl script -- but memory is extremely limited so I'd like to avoid that if possible.</em></p>\n</blockquote>\n\n<p>That makes no sense, <code>curl</code> uses way less memory than LWP.</p>\n\n<p>Loading LWP uses almost 3,000 KiB on my machine. <code>curl</code>'s image size is a mere 125 KiB.</p>\n\n<p>Use <code>curl</code>.</p>\n"}], "owner": {"reputation": 1825, "user_id": 144680, "user_type": "registered", "accept_rate": 94, "profile_image": "https://www.gravatar.com/avatar/58902166474c9e08f5345fc247c8a78e?s=128&d=identicon&r=PG", "display_name": "NXT", "link": "https://stackoverflow.com/users/144680/nxt"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 311, "favorite_count": 0, "accepted_answer_id": 35587469, "answer_count": 2, "score": 0, "last_activity_date": 1456341314, "creation_date": 1456257184, "last_edit_date": 1456261694, "question_id": 35586898, "link": "https://stackoverflow.com/questions/35586898/is-there-any-way-to-fetch-web-pages-in-pure-perl", "title": "Is there any way to fetch web pages in pure perl?", "body": "<p>I am developing on an old, obsolete embedded ARM computer, and there are no modules available to me for HTTP client support.  No LWP, no HTTP::Tiny, etc.</p>\n\n<p>I can't compile anything for this platform.  The original developers are long gone from the company, and this project is currently in maintenance mode.</p>\n\n<p>Is there any way that I fetch HTTP, and ideally HTTPS, pages using pure perl?  Any modules that I can just copy into the library tree (no CPAN support...)?</p>\n\n<p>Thank you.</p>\n\n<p>EDIT: Failing a perl solution I think I can fall back to running wget or curl from a perl script -- but memory is extremely limited so I'd like to avoid that if possible.</p>\n"}, {"tags": ["perl"], "comments": [{"owner": {"reputation": 6592, "user_id": 3005251, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/a5331f7e467aae3d581fe8bc814ef572?s=128&d=identicon&r=PG", "display_name": "bolav", "link": "https://stackoverflow.com/users/3005251/bolav"}, "edited": false, "score": 1, "creation_date": 1456257680, "post_id": 35586824, "comment_id": 58860472, "body": "Please post your current code."}], "answers": [{"comments": [{"owner": {"reputation": 79, "user_id": 3185596, "user_type": "registered", "accept_rate": 64, "profile_image": "https://www.gravatar.com/avatar/28a6d18f2f3ddb3ef4833681ede1e9c3?s=128&d=identicon&r=PG&f=1", "display_name": "user3185596", "link": "https://stackoverflow.com/users/3185596/user3185596"}, "edited": false, "score": 0, "creation_date": 1456265428, "post_id": 35588531, "comment_id": 58864767, "body": "Thanks for the comments....  I was looking for if there is any append option in the excel write module am using. ..."}, {"owner": {"reputation": 79, "user_id": 3185596, "user_type": "registered", "accept_rate": 64, "profile_image": "https://www.gravatar.com/avatar/28a6d18f2f3ddb3ef4833681ede1e9c3?s=128&d=identicon&r=PG&f=1", "display_name": "user3185596", "link": "https://stackoverflow.com/users/3185596/user3185596"}, "edited": false, "score": 1, "creation_date": 1456754945, "post_id": 35588531, "comment_id": 59079593, "body": "Thought of letting everyone know.... Append option is not available in this module. I did sent an email to John Mcnamara who wrote the module and he confirmed.  I was already aware of the workaround  given by Bolav  ...am going to accept the solution as it will help other.   thanks"}], "tags": [], "owner": {"reputation": 6592, "user_id": 3005251, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/a5331f7e467aae3d581fe8bc814ef572?s=128&d=identicon&r=PG", "display_name": "bolav", "link": "https://stackoverflow.com/users/3005251/bolav"}, "is_accepted": true, "score": 2, "last_activity_date": 1456306213, "last_edit_date": 1456306213, "creation_date": 1456262845, "answer_id": 35588531, "question_id": 35586824, "link": "https://stackoverflow.com/questions/35586824/excelwriterxlsx-append-text-on-a-cell/35588531#35588531", "title": "Excel::Writer::XLSX append text on a cell", "body": "<p>Excel::Writer::XLSX does not expose functionality to read the temporary file, while you create it. You need to save the value outside the loop:</p>\n\n<pre><code>use strict;\nuse warnings;\n\nmy $hostname = '';\nmy $delimiter = '-';\nopen my $FH, '&lt;', $filenames or die $!;\nwhile(&lt;$FH&gt;)\n{\n    if($_ =~ /^Hostname+\\s+name+\\s(.*)/){\n        $hostname .= $delimiter if ($hostname);\n        $hostname .= $1;\n        print \"\\nHostname : $hostname\\n\";      \n    }\n}\n$worksheet-&gt;write(0, 0, $hostname);\n</code></pre>\n\n<p>To hack the internal data structure to get the temporary value <a href=\"https://metacpan.org/source/Excel::Writer::XLSX::Worksheet#L2260\" rel=\"nofollow\">this</a> is how it says it:</p>\n\n<pre><code># Write a shared string or an in-line string based on optimisation level.\nif ( $self-&gt;{_optimization} == 0 ) {\n    $index = $self-&gt;_get_shared_string_index( $str );\n}\nelse {\n    $index = $str;\n}\n$self-&gt;{_table}-&gt;{$row}-&gt;{$col} = [ $type, $index, $xf ];\n</code></pre>\n\n<p>So to read the string back, without optimisation:</p>\n\n<pre><code>my $value = $self-&gt;{_table}-&gt;{$row}-&gt;{$col}-&gt;[1];\n</code></pre>\n"}], "owner": {"reputation": 79, "user_id": 3185596, "user_type": "registered", "accept_rate": 64, "profile_image": "https://www.gravatar.com/avatar/28a6d18f2f3ddb3ef4833681ede1e9c3?s=128&d=identicon&r=PG&f=1", "display_name": "user3185596", "link": "https://stackoverflow.com/users/3185596/user3185596"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 539, "favorite_count": 0, "accepted_answer_id": 35588531, "answer_count": 1, "score": 1, "last_activity_date": 1456306213, "creation_date": 1456256961, "last_edit_date": 1456260071, "question_id": 35586824, "link": "https://stackoverflow.com/questions/35586824/excelwriterxlsx-append-text-on-a-cell", "title": "Excel::Writer::XLSX append text on a cell", "body": "<p>I looked at the documentation couldn;t find it so far.  I'm using \"Excel::Writer::XLSX\" to write text to excel. </p>\n\n<p>Question is : How can I append any text on a cell.  Supposed cell A1 has \"abc\" already written , how can i append it with say \"def\" with any delimiter . Finally A1 cell should have \"abc-def\".</p>\n\n<p>Currently its  overwritten the old data and only showing \"def\" . </p>\n\n<pre><code>File has say :  \nHostname name abc\nRandom Lines \nHostname name def\nRandom Data \n\n\n\nopen my $FH, '&lt;', $filenames or die $!;\nwhile(&lt;$FH&gt;)\n{\n            if($_ =~ /^Hostname+\\s+name+\\s(.*)/){\n            my $hostname = $1;\n            print \"\\nHostname : $1\\n\";      \n                $worksheet-&gt;write(0, 0, $hostname);\n            }\n}\n</code></pre>\n\n<p>Now if you look at the code..when the first regex matach its write on the cell as abc ...Now when the regex match next time ...it delete abc and write def..I wanted someway to append  it...</p>\n\n<p>thanks in advance. </p>\n"}, {"tags": ["perl", "sorting", "join", "hash"], "comments": [{"owner": {"reputation": 21782, "user_id": 176646, "user_type": "registered", "accept_rate": 88, "profile_image": "https://i.stack.imgur.com/HsQyV.png?s=128&g=1", "display_name": "ThisSuitIsBlackNot", "link": "https://stackoverflow.com/users/176646/thissuitisblacknot"}, "edited": false, "score": 0, "creation_date": 1456252909, "post_id": 35585492, "comment_id": 58857656, "body": "I don&#39;t <i>quite</i> follow what you&#39;re trying to do, but the way you&#39;re going about it seems awfully convoluted. Can you explain exactly <i>what</i> you&#39;re trying to do instead of how you&#39;re trying to do it?"}, {"owner": {"reputation": 15863, "user_id": 609087, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/2725ad67cddd93219495d032b0e063e5?s=128&d=identicon&r=PG", "display_name": "keety", "link": "https://stackoverflow.com/users/609087/keety"}, "edited": false, "score": 0, "creation_date": 1456252998, "post_id": 35585492, "comment_id": 58857706, "body": "not sure if i understand right  but if  <code>itter_w</code>  has every word <code>keyed</code> on its position shouldn&#39;t array be more suited than hash for <code>itter_w</code>"}, {"owner": {"reputation": 320771, "user_id": 589924, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/b2cf53d5a3d25f95c0db4e025aed4153?s=128&d=identicon&r=PG", "display_name": "ikegami", "link": "https://stackoverflow.com/users/589924/ikegami"}, "edited": false, "score": 0, "creation_date": 1456253037, "post_id": 35585492, "comment_id": 58857735, "body": "Could you please provide a sensible value for <code>%redundant_text</code> and <code>%itter_w</code>."}, {"owner": {"reputation": 107, "user_id": 3088548, "user_type": "registered", "accept_rate": 69, "profile_image": "https://www.gravatar.com/avatar/838e66b635d28b2760e6bd902ab6ab0c?s=128&d=identicon&r=PG", "display_name": "Rick", "link": "https://stackoverflow.com/users/3088548/rick"}, "edited": false, "score": 0, "creation_date": 1456254339, "post_id": 35585492, "comment_id": 58858485, "body": "I want to create an array of key phrases in a document, where &quot;key phrases&quot; are identified based on whether they contain redundant terms found elsewhere in the text.  So I have a hash (%redundant_text) where each element is of the form (x, y), where x is the nth word in the document (the starting point for the redundant phrase to be extracted) and y is essentially the number of words in the redundant phrase. I&#39;m using those two data points to identify the sequence of words in the original document to extract."}], "answers": [{"comments": [{"owner": {"reputation": 107, "user_id": 3088548, "user_type": "registered", "accept_rate": 69, "profile_image": "https://www.gravatar.com/avatar/838e66b635d28b2760e6bd902ab6ab0c?s=128&d=identicon&r=PG", "display_name": "Rick", "link": "https://stackoverflow.com/users/3088548/rick"}, "edited": false, "score": 0, "creation_date": 1456254449, "post_id": 35585672, "comment_id": 58858554, "body": "Yes, I see this does help speed up the process!  Thank you!"}], "tags": [], "owner": {"reputation": 110113, "user_id": 168657, "user_type": "registered", "accept_rate": 92, "profile_image": "https://www.gravatar.com/avatar/f14e7610fca39322ebbf23530def15f8?s=128&d=identicon&r=PG", "display_name": "mob", "link": "https://stackoverflow.com/users/168657/mob"}, "is_accepted": false, "score": 2, "last_activity_date": 1456253206, "creation_date": 1456253206, "answer_id": 35585672, "question_id": 35585492, "link": "https://stackoverflow.com/questions/35585492/pulling-out-sequences-of-hash-values-in-perl/35585672#35585672", "title": "Pulling out sequences of hash values in Perl", "body": "<p>For one, since <code>%itter_w</code> never changes in your loop, you should only need to sort it once, outside the loop instead of in every iteration.</p>\n\n<pre><code>my @words = sort {$a&lt;=&gt;$b} keys %itter_w;\nforeach my $key (...) {\n   ...\n   foreach my $word (@words) {\n      ...\n   }\n   ...\n}\n</code></pre>\n"}, {"comments": [{"owner": {"reputation": 107, "user_id": 3088548, "user_type": "registered", "accept_rate": 69, "profile_image": "https://www.gravatar.com/avatar/838e66b635d28b2760e6bd902ab6ab0c?s=128&d=identicon&r=PG", "display_name": "Rick", "link": "https://stackoverflow.com/users/3088548/rick"}, "edited": false, "score": 0, "creation_date": 1456254862, "post_id": 35585779, "comment_id": 58858773, "body": "Yes, this also helps!  Of course it makes sense to exit the loop once $word is bigger than the end position.  Thank you!"}], "tags": [], "owner": {"reputation": 110113, "user_id": 168657, "user_type": "registered", "accept_rate": 92, "profile_image": "https://www.gravatar.com/avatar/f14e7610fca39322ebbf23530def15f8?s=128&d=identicon&r=PG", "display_name": "mob", "link": "https://stackoverflow.com/users/168657/mob"}, "is_accepted": false, "score": 2, "last_activity_date": 1456253522, "creation_date": 1456253522, "answer_id": 35585779, "question_id": 35585492, "link": "https://stackoverflow.com/questions/35585492/pulling-out-sequences-of-hash-values-in-perl/35585779#35585779", "title": "Pulling out sequences of hash values in Perl", "body": "<p>For another, since <code>$word</code> only gets larger as you iterate through <code>@words</code>, you should be able to short-circuit your loop. This will save a lot of time when <code>$end_position</code> is small but <code>$word</code> can get really big:</p>\n\n<pre><code>foreach my $word (sort {$a&lt;=&gt;$b} keys %itter_w) {\n    next if $word &lt; $start_position;\n    last if $word &gt; $end_position;\n    push (@redundant_text, $itter_w{$word})\n}\n</code></pre>\n"}, {"comments": [{"owner": {"reputation": 107, "user_id": 3088548, "user_type": "registered", "accept_rate": 69, "profile_image": "https://www.gravatar.com/avatar/838e66b635d28b2760e6bd902ab6ab0c?s=128&d=identicon&r=PG", "display_name": "Rick", "link": "https://stackoverflow.com/users/3088548/rick"}, "edited": false, "score": 0, "creation_date": 1456257635, "post_id": 35585820, "comment_id": 58860441, "body": "This works perfectly!  My code is much faster now.  Thank you!"}], "tags": [], "owner": {"reputation": 320771, "user_id": 589924, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/b2cf53d5a3d25f95c0db4e025aed4153?s=128&d=identicon&r=PG", "display_name": "ikegami", "link": "https://stackoverflow.com/users/589924/ikegami"}, "is_accepted": false, "score": 3, "last_activity_date": 1456256072, "last_edit_date": 1456256072, "creation_date": 1456253637, "answer_id": 35585820, "question_id": 35585492, "link": "https://stackoverflow.com/questions/35585492/pulling-out-sequences-of-hash-values-in-perl/35585820#35585820", "title": "Pulling out sequences of hash values in Perl", "body": "<p>This will be much faster. The following are the main changes:</p>\n\n<ul>\n<li>The list of lengths of sorted once, not once per phrase. [mob's second solution does this as well]</li>\n<li>Only the required number of words are looked up, rather than iterating over all the words. [A better version of mob's first solution]</li>\n<li>The words were copied from the hash into an array for faster lookups.</li>\n</ul>\n\n<p>&#x20;</p>\n\n<pre><code>use strict;\nuse warnings;\nuse feature qw( say );\n\n# Formerly known as %itter_w.\nmy %words_by_index = (\n   0 =&gt; \"I\",        5 =&gt; \"array\",     10 =&gt; \"the\",          15 =&gt; \"the\",   \n   1 =&gt; \"want\",     6 =&gt; \"of\",        11 =&gt; \"document\",     16 =&gt; \"values\",\n   2 =&gt; \"to\",       7 =&gt; \"key\",       12 =&gt; \"by\",           17 =&gt; \"words\",\n   3 =&gt; \"create\",   8 =&gt; \"phrases\",   13 =&gt; \"extracting\",   18 =&gt; \"from\",\n   4 =&gt; \"an\",       9 =&gt; \"from\",      14 =&gt; \"all\",          19 =&gt; \"itter_w\",\n);\n# Formerly known as %redundant_text.\nmy %phrase_lengths_by_offset = (2=&gt;3, 10=&gt;4);\n\n# Sort before the loop, and convert to a more-efficient array.\nmy @words = map { $words_by_index{$_} } sort { $a &lt;=&gt; $b } keys(%words_by_index);\n\nmy @phrases;\nfor my $offset( sort { $a &lt;=&gt; $b } keys(%phrase_lengths_by_offset)) {\n   my $length = $phrase_lengths_by_offset{$offset};\n   push @phrases, join(' ', @words[$offset .. $offset+$length-1]);\n}\n\nsay for @phrases;\n</code></pre>\n\n<p>Output:</p>\n\n<pre><code>to create an\nthe document by extracting\n</code></pre>\n"}], "owner": {"reputation": 107, "user_id": 3088548, "user_type": "registered", "accept_rate": 69, "profile_image": "https://www.gravatar.com/avatar/838e66b635d28b2760e6bd902ab6ab0c?s=128&d=identicon&r=PG", "display_name": "Rick", "link": "https://stackoverflow.com/users/3088548/rick"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 67, "favorite_count": 0, "answer_count": 3, "score": 0, "last_activity_date": 1456256072, "creation_date": 1456252609, "last_edit_date": 1456252794, "question_id": 35585492, "link": "https://stackoverflow.com/questions/35585492/pulling-out-sequences-of-hash-values-in-perl", "title": "Pulling out sequences of hash values in Perl", "body": "<p>I have two hashes:</p>\n\n<p>1)  %redundant_text has the starting positions of key phrases in a document as the hash keys, with the length of each key phrase as the values.</p>\n\n<p>2)  %itter_w has the sequential number of each word in the document as its keys (1,2,3, and so on), with the corresponding word as each key\u2019s value.</p>\n\n<p>I want to create an array of key phrases from the document by extracting all the values (words) from %itter_w assigned to keys between the starting and ending positions determined by elements of the %redundant_text hash.  The code below does this successfully, but very, very slowly.  Any ideas on how to structure this code to maximize the speed of the output generating process?</p>\n\n<pre><code>my @redundant_text ;\nmy @all_redundant_text ;\n\nforeach my $key (keys %redundant_text) {\n    my $start_position = $key  ;\n    my $end_position = $key + $redundant_text{$key}+10 ;\n    foreach my $word (sort {$a&lt;=&gt;$b} keys %itter_w) {\n        next if (($word &lt; $start_position)||($word&gt;$end_position)) ;\n        push (@redundant_text, $itter_w{$word})\n    }\n    ### Blanking out the redundant text array. ###\n    my $redundant_sequence = join(' ', @redundant_text) ;\n    @redundant_text = () ;\n    push (@all_redundant_text, $redundant_sequence) ;\n}\n</code></pre>\n"}, {"tags": ["perl", "hash", "printing", "fasta"], "comments": [{"owner": {"reputation": 21782, "user_id": 176646, "user_type": "registered", "accept_rate": 88, "profile_image": "https://i.stack.imgur.com/HsQyV.png?s=128&g=1", "display_name": "ThisSuitIsBlackNot", "link": "https://stackoverflow.com/users/176646/thissuitisblacknot"}, "edited": false, "score": 1, "creation_date": 1456249495, "post_id": 35584468, "comment_id": 58855658, "body": "You&#39;ve summarized the steps you need to take nicely, that&#39;s farther than most people get. Now, which step are you having trouble with?"}, {"owner": {"reputation": 198290, "user_id": 1030675, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/957956ce51706d03f19a4dc85a767bb1?s=128&d=identicon&r=PG", "display_name": "choroba", "link": "https://stackoverflow.com/users/1030675/choroba"}, "edited": false, "score": 0, "creation_date": 1456249862, "post_id": 35584468, "comment_id": 58855894, "body": "Use <code>split</code> to get the words on each line, loop over them and use the hash to get the corresponding strings."}, {"owner": {"reputation": 165, "user_id": 5880355, "user_type": "registered", "accept_rate": 90, "profile_image": "https://www.gravatar.com/avatar/b78c85bb76849376873b8e1556d3000d?s=128&d=identicon&r=PG&f=1", "display_name": "Rob", "link": "https://stackoverflow.com/users/5880355/rob"}, "edited": false, "score": 0, "creation_date": 1456250041, "post_id": 35584468, "comment_id": 58856000, "body": "Hi! Thanks for the quick response. I am looking for help with setting up the hash search, and of most importance, keeping the search and print actions to one line at a time, moving down the txt file one line at a time. Every line in the txt file should produce a file with matches in the format described above. Any insights?"}, {"owner": {"reputation": 5923, "user_id": 2105156, "user_type": "registered", "accept_rate": 76, "profile_image": "https://i.stack.imgur.com/oRMc0.jpg?s=128&g=1", "display_name": "fugu", "link": "https://stackoverflow.com/users/2105156/fugu"}, "edited": false, "score": 0, "creation_date": 1456250081, "post_id": 35584468, "comment_id": 58856022, "body": "Do you have some code?"}, {"owner": {"reputation": 165, "user_id": 5880355, "user_type": "registered", "accept_rate": 90, "profile_image": "https://www.gravatar.com/avatar/b78c85bb76849376873b8e1556d3000d?s=128&d=identicon&r=PG&f=1", "display_name": "Rob", "link": "https://stackoverflow.com/users/5880355/rob"}, "edited": false, "score": 0, "creation_date": 1456250229, "post_id": 35584468, "comment_id": 58856108, "body": "I can&#39;t comment it- the code is too long."}, {"owner": {"reputation": 165, "user_id": 5880355, "user_type": "registered", "accept_rate": 90, "profile_image": "https://www.gravatar.com/avatar/b78c85bb76849376873b8e1556d3000d?s=128&d=identicon&r=PG&f=1", "display_name": "Rob", "link": "https://stackoverflow.com/users/5880355/rob"}, "edited": false, "score": 1, "creation_date": 1456250253, "post_id": 35584468, "comment_id": 58856123, "body": "Should I edit my original post to include what I have so far to get the hash?"}, {"owner": {"reputation": 5923, "user_id": 2105156, "user_type": "registered", "accept_rate": 76, "profile_image": "https://i.stack.imgur.com/oRMc0.jpg?s=128&g=1", "display_name": "fugu", "link": "https://stackoverflow.com/users/2105156/fugu"}, "edited": false, "score": 0, "creation_date": 1456250442, "post_id": 35584468, "comment_id": 58856226, "body": "Throw all the code you&#39;ve got so far into the question, that way, people can see how far you&#39;ve got, and what exactly you&#39;re having trouble with"}, {"owner": {"reputation": 21782, "user_id": 176646, "user_type": "registered", "accept_rate": 88, "profile_image": "https://i.stack.imgur.com/HsQyV.png?s=128&g=1", "display_name": "ThisSuitIsBlackNot", "link": "https://stackoverflow.com/users/176646/thissuitisblacknot"}, "edited": false, "score": 1, "creation_date": 1456250543, "post_id": 35584468, "comment_id": 58856276, "body": "Do you know how to open a file? Do you know how to read a file line-by-line? Do you know how to check if a key exists in a hash? Do you know how to print the value corresponding to a particular key in a hash?"}, {"owner": {"reputation": 165, "user_id": 5880355, "user_type": "registered", "accept_rate": 90, "profile_image": "https://www.gravatar.com/avatar/b78c85bb76849376873b8e1556d3000d?s=128&d=identicon&r=PG&f=1", "display_name": "Rob", "link": "https://stackoverflow.com/users/5880355/rob"}, "edited": false, "score": 0, "creation_date": 1456251505, "post_id": 35584468, "comment_id": 58856843, "body": "I just edited my question to include my code so far. Hope this helps everyone! Thanks for your patience. So far, this will open a file, read it one by one (the while loop, right guys?). In terms of checking if a key exists in a hash- I have an idea of how to do that, but only in a situation like a single element in an array and then printing out one file. I am not sure how to go line by line, and then make a file per line processing."}], "answers": [{"comments": [{"owner": {"reputation": 165, "user_id": 5880355, "user_type": "registered", "accept_rate": 90, "profile_image": "https://www.gravatar.com/avatar/b78c85bb76849376873b8e1556d3000d?s=128&d=identicon&r=PG&f=1", "display_name": "Rob", "link": "https://stackoverflow.com/users/5880355/rob"}, "edited": false, "score": 0, "creation_date": 1456254211, "post_id": 35585747, "comment_id": 58858418, "body": "Thank you very much for your feedback fugu! This will be a good starting point. I just now need to figure out how to print not to just one file, but to a unique file per line in the text file. I fear that putting all elements from the text file into an array and then splitting them takes away the ability to process and print one line at a time. Regardless, one file is better than no file! Thanks again."}, {"owner": {"reputation": 5923, "user_id": 2105156, "user_type": "registered", "accept_rate": 76, "profile_image": "https://i.stack.imgur.com/oRMc0.jpg?s=128&g=1", "display_name": "fugu", "link": "https://stackoverflow.com/users/2105156/fugu"}, "reply_to_user": {"reputation": 165, "user_id": 5880355, "user_type": "registered", "accept_rate": 90, "profile_image": "https://www.gravatar.com/avatar/b78c85bb76849376873b8e1556d3000d?s=128&d=identicon&r=PG&f=1", "display_name": "Rob", "link": "https://stackoverflow.com/users/5880355/rob"}, "edited": false, "score": 0, "creation_date": 1456254318, "post_id": 35585747, "comment_id": 58858469, "body": "No problem! You you try making a count variable, that increments every line, and then incorporate that into an outfile name?"}, {"owner": {"reputation": 62184, "user_id": 7231, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/81b76985f3985e35492e25880493d045?s=128&d=identicon&r=PG", "display_name": "Dave Cross", "link": "https://stackoverflow.com/users/7231/dave-cross"}, "edited": false, "score": 0, "creation_date": 1456308832, "post_id": 35585747, "comment_id": 58883088, "body": "&quot;a count variable, that increments every line&quot; - you mean like <code>$.</code> :-)"}, {"owner": {"reputation": 5923, "user_id": 2105156, "user_type": "registered", "accept_rate": 76, "profile_image": "https://i.stack.imgur.com/oRMc0.jpg?s=128&g=1", "display_name": "fugu", "link": "https://stackoverflow.com/users/2105156/fugu"}, "reply_to_user": {"reputation": 62184, "user_id": 7231, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/81b76985f3985e35492e25880493d045?s=128&d=identicon&r=PG", "display_name": "Dave Cross", "link": "https://stackoverflow.com/users/7231/dave-cross"}, "edited": false, "score": 1, "creation_date": 1456309019, "post_id": 35585747, "comment_id": 58883221, "body": "@DaveCross - Didn&#39;t want to spoon feed!"}], "tags": [], "owner": {"reputation": 5923, "user_id": 2105156, "user_type": "registered", "accept_rate": 76, "profile_image": "https://i.stack.imgur.com/oRMc0.jpg?s=128&g=1", "display_name": "fugu", "link": "https://stackoverflow.com/users/2105156/fugu"}, "is_accepted": false, "score": 0, "last_activity_date": 1456253727, "last_edit_date": 1456253727, "creation_date": 1456253412, "answer_id": 35585747, "question_id": 35584468, "link": "https://stackoverflow.com/questions/35584468/process-one-line-at-a-time-in-a-txt-file-print-out-a-file-per-processed-line-p/35585747#35585747", "title": "Process one line at a time in a txt file, print out a file per processed line, perl", "body": "<p>I'd go about it like this:</p>\n\n<ul>\n<li>Read in your file</li>\n<li>Loop through file line by line</li>\n<li><a href=\"http://perldoc.perl.org/functions/split.html\" rel=\"nofollow\">Split</a> anything separated by a space into an array</li>\n<li>Check if any of these match your hash key</li>\n<li>If they do print out key and value of hash</li>\n</ul>\n\n<p>This doesn't tell you how to print each of these to their own files, but it should help you on your way. Maybe that's another question?</p>\n\n<pre><code>open my $infile, '&lt;', 'in.txt' or die $!;\n\nmy %hash = (\n    AAAA =&gt; 'AAAAAAAA', \n    TTTT =&gt; 'TTTTTTTT', \n    GGGG =&gt; 'GGGGGGGG', \n    CCCC =&gt; 'CCCCCCCC'\n);\n\nwhile(&lt;$infile&gt;){\n    chomp;\n    my @fields = split;\n    if ($hash{$fields[0]}){\n        foreach (@fields){\n            print \"&gt;$fields[0]\\n\";\n            print \"$hash{$fields[0]}\\n\";\n        }\n        print \"\\n\";\n    }\n}\n</code></pre>\n\n<hr>\n\n<pre><code>&gt;AAAA\nAAAAAAAA\n&gt;AAAA\nAAAAAAAA\n\n&gt;GGGG\nGGGGGGGG\n\n&gt;TTTT\nTTTTTTTT\n&gt;TTTT\nTTTTTTTT\n&gt;TTTT\nTTTTTTTT\n\n&gt;CCCC\nCCCCCCCC\n&gt;CCCC\nCCCCCCCC\n</code></pre>\n"}, {"comments": [{"owner": {"reputation": 165, "user_id": 5880355, "user_type": "registered", "accept_rate": 90, "profile_image": "https://www.gravatar.com/avatar/b78c85bb76849376873b8e1556d3000d?s=128&d=identicon&r=PG&f=1", "display_name": "Rob", "link": "https://stackoverflow.com/users/5880355/rob"}, "edited": false, "score": 0, "creation_date": 1456325326, "post_id": 35598492, "comment_id": 58895131, "body": "That does the trick Dave! I am so very grateful for your help, truly. I knew there had to be a way to do this :) I am somewhat new to bioinformatics and coding. I couldn&#39;t do it without the support of the great community at Stack Overflow. Have a good day everyone."}, {"owner": {"reputation": 62184, "user_id": 7231, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/81b76985f3985e35492e25880493d045?s=128&d=identicon&r=PG", "display_name": "Dave Cross", "link": "https://stackoverflow.com/users/7231/dave-cross"}, "reply_to_user": {"reputation": 165, "user_id": 5880355, "user_type": "registered", "accept_rate": 90, "profile_image": "https://www.gravatar.com/avatar/b78c85bb76849376873b8e1556d3000d?s=128&d=identicon&r=PG&f=1", "display_name": "Rob", "link": "https://stackoverflow.com/users/5880355/rob"}, "edited": false, "score": 0, "creation_date": 1456325502, "post_id": 35598492, "comment_id": 58895273, "body": "If you&#39;re really grateful, then perhaps you could upvote or accept my answer."}, {"owner": {"reputation": 165, "user_id": 5880355, "user_type": "registered", "accept_rate": 90, "profile_image": "https://www.gravatar.com/avatar/b78c85bb76849376873b8e1556d3000d?s=128&d=identicon&r=PG&f=1", "display_name": "Rob", "link": "https://stackoverflow.com/users/5880355/rob"}, "edited": false, "score": 0, "creation_date": 1456328448, "post_id": 35598492, "comment_id": 58897207, "body": "I clicked the green check mark, but I don&#39;t think it let me upvote it. I might not have enough &quot;reputation&quot; or something like that."}], "tags": [], "owner": {"reputation": 62184, "user_id": 7231, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/81b76985f3985e35492e25880493d045?s=128&d=identicon&r=PG", "display_name": "Dave Cross", "link": "https://stackoverflow.com/users/7231/dave-cross"}, "is_accepted": true, "score": 0, "last_activity_date": 1456307032, "creation_date": 1456307032, "answer_id": 35598492, "question_id": 35584468, "link": "https://stackoverflow.com/questions/35584468/process-one-line-at-a-time-in-a-txt-file-print-out-a-file-per-processed-line-p/35598492#35598492", "title": "Process one line at a time in a txt file, print out a file per processed line, perl", "body": "<p>This seems to do what you are asking for.</p>\n\n<pre><code>#!/usr/bin/perl\n\nuse strict;\nuse warnings;\n\nmy %convert = (\n  AAAA =&gt; 'AAAAAAAA',\n  TTTT =&gt; 'TTTTTTTT',\n  GGGG =&gt; 'GGGGGGGG',\n  CCCC =&gt; 'CCCCCCCC',\n);\n\nwhile (&lt;&gt;) {\n  my @tokens = split;\n  open my $out, '&gt;', \"line_$..out\" or die $!;\n  foreach my $token (@tokens) {\n    if (exists $convert{$token}) {\n      print $out \"&gt;$token\\n$convert{$token}\\n\";\n    }\n  }\n}\n</code></pre>\n\n<p>You run it, passing in the name of the input file (I really don't like hard-coding filenames unnecessarily). You can easily adjust the name of the created output files by editing the call to <code>open()</code>.</p>\n"}], "owner": {"reputation": 165, "user_id": 5880355, "user_type": "registered", "accept_rate": 90, "profile_image": "https://www.gravatar.com/avatar/b78c85bb76849376873b8e1556d3000d?s=128&d=identicon&r=PG&f=1", "display_name": "Rob", "link": "https://stackoverflow.com/users/5880355/rob"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 144, "favorite_count": 0, "closed_date": 1457100928, "accepted_answer_id": 35598492, "answer_count": 2, "score": 1, "last_activity_date": 1456307032, "creation_date": 1456249261, "last_edit_date": 1456271075, "question_id": 35584468, "link": "https://stackoverflow.com/questions/35584468/process-one-line-at-a-time-in-a-txt-file-print-out-a-file-per-processed-line-p", "closed_reason": "Not suitable for this site", "title": "Process one line at a time in a txt file, print out a file per processed line, perl", "body": "<p>I am able to generate a hash that contains something like the following: </p>\n\n<pre><code>    AAAA =&gt; AAAAAAAA \n    TTTT =&gt; TTTTTTTT \n    GGGG =&gt; GGGGGGGG \n    CCCC =&gt; CCCCCCCC \n</code></pre>\n\n<p>I have a text file that contains something like the following: </p>\n\n<pre><code>    AAAA    AAAA \n    GGGG \n    TTTT    TTTT    TTTT \n    CCCC    CCCC \n</code></pre>\n\n<p>I want to be able to open the text file, read each line, and search the contents of the line for matches to the keys in the hash. If there are matches, I want to print the corresponding values out in a file specific to that line in the text file. The output I am hopping to get for the first file would be something like: </p>\n\n<pre><code>    &gt;AAAA \n    AAAAAAAA \n    &gt;AAAA \n    AAAAAAAA \n</code></pre>\n\n<p>And the output for the second file would be: </p>\n\n<pre><code>    &gt;GGGG \n    GGGGGGGG\n</code></pre>\n\n<p>I know there is a way to accomplish this, but I am at a loss. Any help would be very much appreciated. Thank you!  </p>\n\n<p>Here is my code so far. Note that I am setting up to only write to one file, but I need to write to as many files as there are lines in the text file previously mentioned (hundreds to thousands).  </p>\n\n<pre><code>    #!/usr/bin/perl \n    use warnings; \n    use strict; \n\n    my $dir = (\"Users/rob/Documents/Lamda\");  \n    open (INFILE, \"&lt;\", \"Users/rob/dnaclust/testscript.txt\") or die $!; \n    open (OUTFILE, \"&gt;\", \"Users/rob/Codes/testscript.txt\") or die $!; \n\n    my %hash = (); \n\n    my @ArrayOfFiles = glob \"$dir/*\";  \n\n    print join(\"\\n\", @ArrayOfFiles), \"\\n\"; \n\n    foreach my $file (@ArrayofFiles){ \n       open (my $sequence, $file) or die \"can't open file: $!\";\n       while (my $line = &lt;$sequence&gt;) {\n         if ($line !~/^&gt;/){ \n             my $seq = $line; \n             $seq =~ s/\\R//g;\n             $seq =~ m/(CATCAT|TACTAC)([TAGC]{18})([TAGC]+)([TAGC]{18})(CATCAT|TACTAC)/;  \n            $hash{$2} = $3;   \n         }\n       } \n    } \n    while (&lt;INFILE&gt;) { \n         chomp; \n         my @fields = split /\\n/;  \n</code></pre>\n\n<p>So this gives me access to each line at a time, but now I just need to match all elements in the line to the keys in the hash, and print out the values to a file. </p>\n"}, {"tags": ["perl", "debugging"], "comments": [{"owner": {"reputation": 15275, "user_id": 512652, "user_type": "registered", "accept_rate": 84, "profile_image": "https://www.gravatar.com/avatar/5ebd7d7a16e74330d299b048ab548999?s=128&d=identicon&r=PG", "display_name": "ajwood", "link": "https://stackoverflow.com/users/512652/ajwood"}, "edited": false, "score": 1, "creation_date": 1456247317, "post_id": 35583709, "comment_id": 58854191, "body": "...or more generically on any exit. <code>Carp</code>, <code>exit</code>, <code>die</code>, uncaught exception, etc.."}], "answers": [{"tags": [], "owner": {"reputation": 110113, "user_id": 168657, "user_type": "registered", "accept_rate": 92, "profile_image": "https://www.gravatar.com/avatar/f14e7610fca39322ebbf23530def15f8?s=128&d=identicon&r=PG", "display_name": "mob", "link": "https://stackoverflow.com/users/168657/mob"}, "is_accepted": false, "score": 3, "last_activity_date": 1456249220, "last_edit_date": 1456249220, "creation_date": 1456248195, "answer_id": 35584120, "question_id": 35583709, "link": "https://stackoverflow.com/questions/35583709/breaking-on-die-in-perl-debugger/35584120#35584120", "title": "Breaking on `die` in Perl debugger", "body": "<p>You could set a <code>__DIE__</code> handler and set a breakpoint in it.</p>\n\n<pre><code>$SIG{__DIE__} = sub {\n    $DB::single = 1;\n    die @_;\n};\n</code></pre>\n\n<p>This isn't a great answer, as inside the <code>__DIE__</code> handler you don't have the context of the function that called <code>die</code>. But the global package variables will be accessible, and if you have <a href=\"https://metacpan.org/pod/PadWalker\" rel=\"nofollow\"><code>PadWalker</code></a> installed then with the debugger command <code>y 1</code> or <code>y 1 &lt;pattern&gt;</code>, you can view the lexical variables in scope when <code>die</code> was called.</p>\n\n<p>Proof-of-concept:</p>\n\n<pre><code># dying.pl\n$SIG{__DIE__} = sub { $DB::single = 1; die @_; };\n\nfor my $i (1 .. 10000) {\n    my $j = sqrt($i * ($i+1)) - 0.49;\n    die \"$i $j\" if $j - int($j) &lt; 0.1;\n}\n\n$ perl -d dying.pl\n\nLoading DB routines from perl5db.pl version 1.37\nEditor support available.\n\nEnter h or 'h h' for help, or 'man perldebug' for more help.\n\nmain::(dying.pl:1):     $SIG{__DIE__} = sub { $DB::single = 1; die @_; };\n  DB&lt;1&gt; c\nmain::CODE(0x1000c918)(dying.pl:1):\n1:      $SIG{__DIE__} = sub { $DB::single = 1; die @_; };\n  DB&lt;1&gt; y 1 j\n$j = 13.000737563232\n  DB&lt;2&gt; y 1\n$i = 13\n$j = 13.000737563232\n  DB&lt;3&gt; c\n13 13.000737563232 at dying.pl line 5.\nDebugged program terminated.  Use q to quit or R to restart,\n  use o inhibit_exit to avoid stopping after program termination,\n  h q, h R or h o to get additional info.  \n  DB&lt;3&gt; \n</code></pre>\n"}], "owner": {"reputation": 15275, "user_id": 512652, "user_type": "registered", "accept_rate": 84, "profile_image": "https://www.gravatar.com/avatar/5ebd7d7a16e74330d299b048ab548999?s=128&d=identicon&r=PG", "display_name": "ajwood", "link": "https://stackoverflow.com/users/512652/ajwood"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 253, "favorite_count": 1, "answer_count": 1, "score": 3, "last_activity_date": 1456249220, "creation_date": 1456247067, "last_edit_date": 1456247180, "question_id": 35583709, "link": "https://stackoverflow.com/questions/35583709/breaking-on-die-in-perl-debugger", "title": "Breaking on `die` in Perl debugger", "body": "<p>Does the Perl debugger support breaking on <code>die</code>?</p>\n\n<p>I find myself often running a program once to find the <code>die</code> line, then running it a second time to set a breakpoint. </p>\n\n<p>It'd be nice if the debugger could be made to automatically break on <code>die</code>, holding on to the dying context.</p>\n"}, {"tags": ["perl", "module"], "comments": [{"owner": {"reputation": 51521, "user_id": 2566198, "user_type": "registered", "accept_rate": 67, "profile_image": "https://i.stack.imgur.com/Y34ZA.jpg?s=128&g=1", "display_name": "Sobrique", "link": "https://stackoverflow.com/users/2566198/sobrique"}, "edited": false, "score": 1, "creation_date": 1456246170, "post_id": 35583287, "comment_id": 58853413, "body": "Well, that first code snippet doesn&#39;t even compile, because <code>%userhash</code> isn&#39;t defined. Both are less than 36 lines long, so that can&#39;t be the right error message either."}, {"owner": {"reputation": 353, "user_id": 5931363, "user_type": "registered", "accept_rate": 62, "profile_image": "https://www.gravatar.com/avatar/94a9abf89b7ee27418c8c9ed5b319558?s=128&d=identicon&r=PG&f=1", "display_name": "nillenilsson", "link": "https://stackoverflow.com/users/5931363/nillenilsson"}, "reply_to_user": {"reputation": 51521, "user_id": 2566198, "user_type": "registered", "accept_rate": 67, "profile_image": "https://i.stack.imgur.com/Y34ZA.jpg?s=128&g=1", "display_name": "Sobrique", "link": "https://stackoverflow.com/users/2566198/sobrique"}, "edited": false, "score": 0, "creation_date": 1456246452, "post_id": 35583287, "comment_id": 58853597, "body": "@Sobrique There, i fixed it. Hadn&#39;t copied the whole code."}, {"owner": {"reputation": 6258, "user_id": 82262, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/8ce15931410b388a52eb2df4a864137f?s=128&d=identicon&r=PG&f=1", "display_name": "Matt Jacob", "link": "https://stackoverflow.com/users/82262/matt-jacob"}, "edited": false, "score": 1, "creation_date": 1456246582, "post_id": 35583287, "comment_id": 58853699, "body": "@nillenilsson Is your indentation really that bad, or is it just an artifact of copying and pasting?"}, {"owner": {"reputation": 52821, "user_id": 632407, "user_type": "registered", "accept_rate": 86, "profile_image": "https://i.stack.imgur.com/AfGWW.jpg?s=128&g=1", "display_name": "jm666", "link": "https://stackoverflow.com/users/632407/jm666"}, "edited": false, "score": 1, "creation_date": 1456252272, "post_id": 35583287, "comment_id": 58857283, "body": "also read about <a href=\"https://stackoverflow.com/help/minimal-reproducible-example\">minimal reproducible example</a> :)"}], "answers": [{"comments": [{"owner": {"reputation": 353, "user_id": 5931363, "user_type": "registered", "accept_rate": 62, "profile_image": "https://www.gravatar.com/avatar/94a9abf89b7ee27418c8c9ed5b319558?s=128&d=identicon&r=PG&f=1", "display_name": "nillenilsson", "link": "https://stackoverflow.com/users/5931363/nillenilsson"}, "edited": false, "score": 0, "creation_date": 1456247420, "post_id": 35583555, "comment_id": 58854267, "body": "Thanks, i&#39;m trying to understand so here i tested it like this in my code but i still get the same error messages:      <code>foreach my $user (%DiskUsageReturned){     print(&quot;$user: $DiskUsageReturned{keys}\\n&quot;); }</code>"}, {"owner": {"reputation": 51521, "user_id": 2566198, "user_type": "registered", "accept_rate": 67, "profile_image": "https://i.stack.imgur.com/Y34ZA.jpg?s=128&g=1", "display_name": "Sobrique", "link": "https://stackoverflow.com/users/2566198/sobrique"}, "reply_to_user": {"reputation": 353, "user_id": 5931363, "user_type": "registered", "accept_rate": 62, "profile_image": "https://www.gravatar.com/avatar/94a9abf89b7ee27418c8c9ed5b319558?s=128&d=identicon&r=PG&f=1", "display_name": "nillenilsson", "link": "https://stackoverflow.com/users/5931363/nillenilsson"}, "edited": false, "score": 0, "creation_date": 1456247511, "post_id": 35583555, "comment_id": 58854339, "body": "You need to run <code>keys</code> on the hash, to return the user list. <code>foreach my $user ( keys %DiskUsageReturned ) { </code>"}, {"owner": {"reputation": 353, "user_id": 5931363, "user_type": "registered", "accept_rate": 62, "profile_image": "https://www.gravatar.com/avatar/94a9abf89b7ee27418c8c9ed5b319558?s=128&d=identicon&r=PG&f=1", "display_name": "nillenilsson", "link": "https://stackoverflow.com/users/5931363/nillenilsson"}, "edited": false, "score": 1, "creation_date": 1456247809, "post_id": 35583555, "comment_id": 58854551, "body": "Thanks that dit it! Do you happen to know why my thread has -2 points and what i can do in the future to avoid it ?"}, {"owner": {"reputation": 6258, "user_id": 82262, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/8ce15931410b388a52eb2df4a864137f?s=128&d=identicon&r=PG&f=1", "display_name": "Matt Jacob", "link": "https://stackoverflow.com/users/82262/matt-jacob"}, "reply_to_user": {"reputation": 353, "user_id": 5931363, "user_type": "registered", "accept_rate": 62, "profile_image": "https://www.gravatar.com/avatar/94a9abf89b7ee27418c8c9ed5b319558?s=128&d=identicon&r=PG&f=1", "display_name": "nillenilsson", "link": "https://stackoverflow.com/users/5931363/nillenilsson"}, "edited": false, "score": 3, "creation_date": 1456248573, "post_id": 35583555, "comment_id": 58855066, "body": "@nillenilsson I would assume your question is getting downvoted because: a) you&#39;re asking people to debug your code for you, b) your indentation and formatting is poor, and c) it&#39;s not a <a href=\"https://stackoverflow.com/help/minimal-reproducible-example\">minimal reproducible example</a> (note the &quot;minimal&quot; part)."}], "tags": [], "owner": {"reputation": 51521, "user_id": 2566198, "user_type": "registered", "accept_rate": 67, "profile_image": "https://i.stack.imgur.com/Y34ZA.jpg?s=128&g=1", "display_name": "Sobrique", "link": "https://stackoverflow.com/users/2566198/sobrique"}, "is_accepted": true, "score": 3, "last_activity_date": 1456247479, "last_edit_date": 1456247479, "creation_date": 1456246628, "answer_id": 35583555, "question_id": 35583287, "link": "https://stackoverflow.com/questions/35583287/modules-and-calling-subroutines-in-perl/35583555#35583555", "title": "Modules and calling subroutines in Perl", "body": "<p>Your problem is this:</p>\n\n<pre><code>foreach my $user (%DiskUsageReturned) {\n    print(\"$user: $DiskUsageReturned{$user}\\n\");\n}\n</code></pre>\n\n<p>You need a <code>keys</code> in there. Otherwise you're getting both 'user' and 'disk usage' treated <em>as if</em> they were a user. Because when you evaluate a hash in a list context - like you are - every element of the hash is returned (in a random order, but with keys and values paired). So half the elements will be numeric, and not correspond to a key in the hash, because they're a value instead. </p>\n\n<p>Illustration:</p>\n\n<pre><code>#!/usr/bin/perl\n\nuse warnings;\nuse strict;\n\nmy %stuff = (\n    \"me\"  =&gt; 5,\n    \"you\" =&gt; 6,\n);\n#does the same error, because it tries to look up \n#the value associated with '5' and '6' in the hash. \nforeach my $thing (%stuff) {\n    print \"$thing\\n\";\n    print \"$thing =&gt; $stuff{$thing}\\n\";\n}\n#doesn't, because \"keys %stuff\" returns ( \"you\", \"me\" )\nforeach my $thing ( keys %stuff ) {\n    print \"$thing =&gt; $stuff{$thing}\\n\";\n}\n</code></pre>\n"}], "owner": {"reputation": 353, "user_id": 5931363, "user_type": "registered", "accept_rate": 62, "profile_image": "https://www.gravatar.com/avatar/94a9abf89b7ee27418c8c9ed5b319558?s=128&d=identicon&r=PG&f=1", "display_name": "nillenilsson", "link": "https://stackoverflow.com/users/5931363/nillenilsson"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 80, "favorite_count": 0, "accepted_answer_id": 35583555, "answer_count": 1, "score": -4, "last_activity_date": 1456247479, "creation_date": 1456245966, "last_edit_date": 1456246420, "question_id": 35583287, "link": "https://stackoverflow.com/questions/35583287/modules-and-calling-subroutines-in-perl", "title": "Modules and calling subroutines in Perl", "body": "<p>I'm having a problem getting a specific subroutine to work, i have my module \"module1.pm\" and i have my testscript \"testmodule.pl\". Here is the code for testmodule.pl:</p>\n\n<pre><code>#!/usr/bin/perl\n\nuse File::Basename qw(dirname);\nuse Cwd qw(abs_path);\nuse lib dirname(dirname abs_path $0) . '/perl/lib';\nuse warnings;\nuse strict;\nuse Report::module1 qw(userloggins PasswordAge DiskUsage);\n\n#Gets the users from module1::userloggins() and sorts them\nmy $PasswordAge;\nmy %userhash = Report::module1::userloggins ();\nprint \"Here are the users that have logged in and how many times they've logged in.\\n\";\nforeach my $user (sort { $userhash{$b} &lt;=&gt; $userhash{$a}  ||  $a cmp $b } keys(%userhash)) {\n\nprint(\"$user: $userhash{$user}\\n\");\n}\nprint \"----------------------------------------------\\n\";\n\n#PasswordAge\n\nprint \"How many days would you like to check users for old passwords?\\n\";\nmy $input = &lt;&gt;;\nmy @UserPassChange = PasswordAge (int($input), keys(%userhash) );\nfor my $i (0...$#UserPassChange) {\nprint (\"User $UserPassChange[$i] has not changed their password in $input days.\\n\");\n} \nprint \"----------------------------------------------\\n\";\n\n#DiskUsage\nprint \"Input size for checking users home folder: \";\nmy $input2 = &lt;&gt;;\nmy %DiskUsageReturned = Report::module1::DiskUsage (int($input2),     keys(%userhash) );\n#print %DiskUsageReturned;\nforeach my $user (%DiskUsageReturned){\nprint(\"$user: $DiskUsageReturned{$user}\\n\");\n}\n</code></pre>\n\n<p>And here is the code for module1.pm:</p>\n\n<pre><code>#!/usr/bin/perl\n\n\nuse warnings;\nuse strict;\npackage Report::module1;\nuse Exporter qw(import);\nour @EXPORT_OK=qw(userloggins PasswordAge DiskUsage);\n\nsub DiskUsage {\n\nmy $userInput = shift @_;\nmy @users = @_;\nmy %DiskUsageHash;\n\nforeach my $user (@users){\nprint \"$user\";\nmy $UserDiskUsage = int(`du -bs /home/$user | cut -f1`);\nmy $Mebi = int ($UserDiskUsage / 1048576);\nif ($Mebi &gt;= $userInput){\n    #print @UserDiskUsage;\n$DiskUsageHash{$user} = $Mebi;\n}\n}\n\n\nreturn %DiskUsageHash;\n\n}\n\n1;\n</code></pre>\n\n<p>I cannot seem to figure what i'm doing wrong when using subroutines within my module. It fetches the users with a home folder that is bigger than whatever i input, but i also get a lot of error messages. This is the output i get when i run \"testmodule.pl\".</p>\n\n<pre><code>Input size for checking users home folder: 5\nmaholilaelita15vicnigigaaddahepemaskmaho: 14\nUse of uninitialized value in concatenation (.) or string at testmodule.pl line 36, &lt;&gt; line 2.\n14: \nlila: 9\nUse of uninitialized value in concatenation (.) or string at testmodule.pl line 36, &lt;&gt; line 2.\n9: \ngiga: 7\nUse of uninitialized value in concatenation (.) or string at testmodule.pl line 36, &lt;&gt; line 2.\n7: \nelit: 123\nUse of uninitialized value in concatenation (.) or string at testmodule.pl line 36, &lt;&gt; line 2.\n123: \nadda: 65\nUse of uninitialized value in concatenation (.) or string at testmodule.pl  line 36, &lt;&gt; line 2.\n65: \nhepe: 188\nUse of uninitialized value in concatenation (.) or string at testmodule.pl  line 36, &lt;&gt; line 2.\n188: \nmask: 94\nUse of uninitialized value in concatenation (.) or string at testmodule.pl   line 36, &lt;&gt; line 2.\n94: \n</code></pre>\n"}, {"tags": ["perl", "tk"], "answers": [{"tags": [], "owner": {"reputation": 809, "user_id": 1151718, "user_type": "registered", "accept_rate": 74, "profile_image": "https://www.gravatar.com/avatar/eb6505c0711f36325e0d1d68d73b4f82?s=128&d=identicon&r=PG", "display_name": "capfan", "link": "https://stackoverflow.com/users/1151718/capfan"}, "is_accepted": true, "score": 0, "last_activity_date": 1457994972, "creation_date": 1457994972, "answer_id": 35999420, "question_id": 35581824, "link": "https://stackoverflow.com/questions/35581824/perl-tk-hlist-opposite-of-browsecmd/35999420#35999420", "title": "Perl Tk HList: Opposite of -browsecmd?", "body": "<p>It's <code>-browsecmd</code>, too. The callback is executed whenever a user browses the HList. This also happens when unselecting an entry.</p>\n\n<p>Using <code>my @selected_items = $hlist->info('selection');</code> you can then access the currently selected items.</p>\n\n<p>There is a complete example here (last example): <a href=\"http://www.perltk.de/tk_widgets/wtk_hlist.html\" rel=\"nofollow\">http://www.perltk.de/tk_widgets/wtk_hlist.html</a></p>\n"}], "owner": {"reputation": 174, "user_id": 2994763, "user_type": "registered", "accept_rate": 78, "profile_image": "https://www.gravatar.com/avatar/9418f28c9ae09be8353871d8b2749c9e?s=128&d=identicon&r=PG&f=1", "display_name": "Owen Tourlamain", "link": "https://stackoverflow.com/users/2994763/owen-tourlamain"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 68, "favorite_count": 0, "accepted_answer_id": 35999420, "answer_count": 1, "score": 1, "last_activity_date": 1457994972, "creation_date": 1456242062, "last_edit_date": 1456319036, "question_id": 35581824, "link": "https://stackoverflow.com/questions/35581824/perl-tk-hlist-opposite-of-browsecmd", "title": "Perl Tk HList: Opposite of -browsecmd?", "body": "<p>I currently have a HList set up so -browsecmd calls a subroutine when ever an entry is selected. I would now like to have a subroutine run when the user <i>un</i>selects an entry.</p>\n\n<p>I have tried to google for this, but I have had no luck so far.</p>\n"}, {"tags": ["html", "regex", "perl", "whitespace", "line-breaks"], "comments": [{"owner": {"reputation": 1584, "user_id": 5319663, "user_type": "registered", "accept_rate": 69, "profile_image": "https://i.stack.imgur.com/HRBQ5.jpg?s=128&g=1", "display_name": "Jeya Suriya Muthumari", "link": "https://stackoverflow.com/users/5319663/jeya-suriya-muthumari"}, "edited": false, "score": 0, "creation_date": 1456232255, "post_id": 35578157, "comment_id": 58842791, "body": "Please note, I am not trying to extract the content of the div section like parsing. I just need to extract the particular section of the code and I need it as a separate executable HTML file."}, {"owner": {"reputation": 15906, "user_id": 3527940, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/k1R45.jpg?s=128&g=1", "display_name": "jcaron", "link": "https://stackoverflow.com/users/3527940/jcaron"}, "edited": false, "score": 0, "creation_date": 1456233542, "post_id": 35578157, "comment_id": 58843672, "body": "Using regular expressions to get data from HTML is often tricky, and prone to breaking if anything changes in the output (and then you end up with missing data, or two items bundled together, etc.).  I strongly recommend you use an HTML parser. You can then either use the parsed HTML to access various bits of information (that&#39;s definitely the best option), or output the selected node as HTML."}, {"owner": {"reputation": 15906, "user_id": 3527940, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/k1R45.jpg?s=128&g=1", "display_name": "jcaron", "link": "https://stackoverflow.com/users/3527940/jcaron"}, "edited": false, "score": 0, "creation_date": 1456233624, "post_id": 35578157, "comment_id": 58843739, "body": "Note that in your code, if you want to replace linefeeds/carriage returns, it&#39;s probably better to match <code>[\\r\\n]+</code> (which will match any combination such as <code>\\r</code> (Mac style), <code>\\n</code> (Unix style), <code>\\r\\n</code> (DOS style)."}, {"owner": {"reputation": 15906, "user_id": 3527940, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/k1R45.jpg?s=128&g=1", "display_name": "jcaron", "link": "https://stackoverflow.com/users/3527940/jcaron"}, "edited": false, "score": 0, "creation_date": 1456233676, "post_id": 35578157, "comment_id": 58843786, "body": "Alternatively, you may want to add the <code>s</code> flag to your regular expressions so that <code>.</code> also matches newline. But you&#39;ll need to anchor the end of your regular expression."}, {"owner": {"reputation": 123805, "user_id": 622310, "user_type": "registered", "accept_rate": 33, "profile_image": "https://www.gravatar.com/avatar/8b6d35219e1808520bc238b28161e2e6?s=128&d=identicon&r=PG", "display_name": "Borodin", "link": "https://stackoverflow.com/users/622310/borodin"}, "reply_to_user": {"reputation": 15906, "user_id": 3527940, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/k1R45.jpg?s=128&g=1", "display_name": "jcaron", "link": "https://stackoverflow.com/users/3527940/jcaron"}, "edited": false, "score": 3, "creation_date": 1456239866, "post_id": 35578157, "comment_id": 58848521, "body": "@jcaron: The better way is to use <code>\\R</code> which matches any standard line ending"}], "answers": [{"comments": [{"owner": {"reputation": 123805, "user_id": 622310, "user_type": "registered", "accept_rate": 33, "profile_image": "https://www.gravatar.com/avatar/8b6d35219e1808520bc238b28161e2e6?s=128&d=identicon&r=PG", "display_name": "Borodin", "link": "https://stackoverflow.com/users/622310/borodin"}, "edited": false, "score": 0, "creation_date": 1456235909, "post_id": 35578701, "comment_id": 58845442, "body": "I&#39;m not sure of the wisdom of suggesting <code>[\\S\\s]</code>, which is really a JavaScript hack. The Perl way is to use <code>&#47;s</code> as you described, and Python users will want to enable the <code>DOTALL</code> flag"}, {"owner": {"reputation": 6592, "user_id": 3005251, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/a5331f7e467aae3d581fe8bc814ef572?s=128&d=identicon&r=PG", "display_name": "bolav", "link": "https://stackoverflow.com/users/3005251/bolav"}, "reply_to_user": {"reputation": 123805, "user_id": 622310, "user_type": "registered", "accept_rate": 33, "profile_image": "https://www.gravatar.com/avatar/8b6d35219e1808520bc238b28161e2e6?s=128&d=identicon&r=PG", "display_name": "Borodin", "link": "https://stackoverflow.com/users/622310/borodin"}, "edited": false, "score": 0, "creation_date": 1456236259, "post_id": 35578701, "comment_id": 58845734, "body": "I agree, I just wanted a solution that didn&#39;t use modifiers as well. I will delete that solution."}, {"owner": {"reputation": 123805, "user_id": 622310, "user_type": "registered", "accept_rate": 33, "profile_image": "https://www.gravatar.com/avatar/8b6d35219e1808520bc238b28161e2e6?s=128&d=identicon&r=PG", "display_name": "Borodin", "link": "https://stackoverflow.com/users/622310/borodin"}, "edited": false, "score": 0, "creation_date": 1456236871, "post_id": 35578701, "comment_id": 58846197, "body": "You can use <code>(?s)</code> inside the pattern if it&#39;s portability you&#39;re after?"}], "tags": [], "owner": {"reputation": 6592, "user_id": 3005251, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/a5331f7e467aae3d581fe8bc814ef572?s=128&d=identicon&r=PG", "display_name": "bolav", "link": "https://stackoverflow.com/users/3005251/bolav"}, "is_accepted": false, "score": 4, "last_activity_date": 1456236294, "last_edit_date": 1495542817, "creation_date": 1456233662, "answer_id": 35578701, "question_id": 35578157, "link": "https://stackoverflow.com/questions/35578157/perl-script-to-extract-particular-div-section-from-html-code/35578701#35578701", "title": "Perl script to extract particular div section from HTML code", "body": "<p>Please <a href=\"https://stackoverflow.com/a/1732454/3005251\">don't use regexp to parse HTML</a>. Use a perl module to parse HTML.</p>\n\n<p>Something like <a href=\"https://metacpan.org/pod/HTML::TreeBuilder\" rel=\"nofollow noreferrer\">HTML::TreeBuilder</a>:</p>\n\n<pre><code>use strict;\nuse warnings;\nuse HTML::TreeBuilder 5 -weak; # Ensure weak references\n\nmy $tree = HTML::TreeBuilder-&gt;new; # empty tree\n$tree-&gt;parse_file($html_filepath);\nmy $elem = $tree-&gt;look_down('_tag' =&gt; 'div', 'class' =&gt; 'title-bar');\nwarn $elem-&gt;as_HTML;\n</code></pre>\n\n<p>The problem with your regexp is that <code>.</code> does not match newline. Read this to know how to match all characters: <a href=\"https://stackoverflow.com/questions/8303488/regex-to-match-any-character-including-new-lines\">Regex to match any character including new lines</a></p>\n\n<p>The way to fix this is using the <code>s</code> (Treat string as single line) modifier:</p>\n\n<pre><code>if ($content =~ m/&lt;div class=\"title-bar\" (.*)&lt;\\/table&gt;&lt;\\/div&gt;&lt;\\/div&gt;/s)\n</code></pre>\n"}], "owner": {"reputation": 1584, "user_id": 5319663, "user_type": "registered", "accept_rate": 69, "profile_image": "https://i.stack.imgur.com/HRBQ5.jpg?s=128&g=1", "display_name": "Jeya Suriya Muthumari", "link": "https://stackoverflow.com/users/5319663/jeya-suriya-muthumari"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 548, "favorite_count": 1, "answer_count": 1, "score": 0, "last_activity_date": 1458522317, "creation_date": 1456232050, "last_edit_date": 1458522317, "question_id": 35578157, "link": "https://stackoverflow.com/questions/35578157/perl-script-to-extract-particular-div-section-from-html-code", "title": "Perl script to extract particular div section from HTML code", "body": "<p>I am having a HTML file which is very large. I need to extract particular <code>&lt;div&gt;...&lt;/div&gt;</code> section in a variable. </p>\n\n<pre><code>##some contents\n&lt;div class=\"title-bar\" onclick=\"folder(c_1)\"&gt;&lt;table class=\"layout\"&gt;&lt;tr&gt;&lt;td class=\"h1\" width=\"400\"&gt;Summary Of Test Report &lt;br&gt;(E:\\Packages\\SamplePackage)&lt;/td&gt;&lt;td&gt;&lt;a style=\"cursor:hand;text-decoration:none;\" onclick=\"showTOC()\"&gt;&lt;div style=\"float:left\"&gt;&lt;div style=\"float:right\"&gt;&lt;div style=\"float:left\"&gt;&lt;/div&gt;&lt;/div&gt;&lt;/a&gt;&lt;/td&gt;&lt;/tr&gt;&lt;/table&gt;&lt;/div&gt;&lt;div expandable=\"1\" id=\"c_1\"&gt;&lt;a name=\"title\"&gt;&lt;/a&gt;&lt;table class=\"content\" cellpadding=\"2\"&gt;&lt;tr&gt;&lt;td&gt;&lt;table id=\"details\"&gt;&lt;tr&gt;&lt;td class=\"h4\"&gt;Package Name:&lt;/td&gt;&lt;td class=\"info\"&gt;E:\\Packages\\SamplePackage&lt;/td&gt;&lt;/tr&gt;&lt;tr&gt;&lt;td class=\"h4\"&gt;OS:&lt;/td&gt;&lt;td class=\"info\"&gt;Microsoft Windows Server 2008 R2 Standard &lt;/td&gt;&lt;/tr&gt;&lt;tr&gt;&lt;td class=\"h4\"&gt;Testing:&lt;/td&gt;&lt;td class=\"info\"&gt;Regression Test&lt;/td&gt;&lt;/tr&gt;&lt;tr&gt;&lt;td class=\"h4\"&gt;Machine Name:&lt;/td&gt;&lt;td class=\"info\"&gt;XYZTST036   (Number Of Cores: 4              \n\n; CPU Clock Speed: 3500           \n\n  Mhz; Memory: 32,494 MB)&lt;/td&gt;&lt;/tr&gt;&lt;tr&gt;&lt;td class=\"h4\"&gt;Duration:&lt;/td&gt;&lt;td class=\"info\"&gt;00:28:31&lt;/td&gt;&lt;/tr&gt;&lt;tr&gt;&lt;td class=\"h4\"&gt;Total No. Of Testcases:&lt;/td&gt;&lt;td class=\"info\"&gt;54&lt;/td&gt;&lt;/tr&gt;&lt;tr&gt;&lt;td class=\"h4\"&gt;No. Of Testcases Executed:&lt;/td&gt;&lt;td class=\"info\"&gt;54&lt;/td&gt;&lt;/tr&gt;&lt;tr&gt;&lt;td class=\"h4\"&gt;No. Of Testcases Passed:&lt;/td&gt;&lt;td class=\"info\"&gt;42&lt;/td&gt;&lt;/tr&gt;&lt;tr&gt;&lt;td class=\"h4\"&gt;No. Of Testcases Failed:&lt;/td&gt;&lt;td class=\"info\"&gt;0&lt;/td&gt;&lt;/tr&gt;&lt;tr&gt;&lt;td class=\"h4\"&gt;No. Of Testcases NA(Not Appplicable):&lt;/td&gt;&lt;td class=\"info\"&gt;12&lt;/td&gt;&lt;/tr&gt;&lt;tr&gt;&lt;td class=\"h4\"&gt;Skipped Testcases:&lt;/td&gt;&lt;td class=\"info\"&gt;&lt;a href=\"SkippedTestcaseDetails.html\"&gt;None&lt;/a&gt;&lt;/td&gt;&lt;/tr&gt;&lt;tr&gt;&lt;td class=\"h4\"&gt;Date:&lt;/td&gt;&lt;td class=\"info\"&gt;8-02-2016\n&lt;/td&gt;&lt;/tr&gt;&lt;tr&gt;&lt;td class=\"h4\"&gt;Start Time(17:58:02)/ Completion Time (18:26:33)&lt;/td&gt;&lt;td class=\"info\"&gt;&lt;/td&gt;&lt;/tr&gt;&lt;/table&gt;&lt;/td&gt;&lt;/tr&gt;&lt;/table&gt;&lt;/div&gt;&lt;/div&gt;\n##some contents\n</code></pre>\n\n<p>I used regex, like</p>\n\n<pre><code>my $html_filepath = \"G:\\\\Report.html\";\nopen(HTML, \"&lt;$html_filepath\") or die \"Can't open $html_filepath $!\\n\";\n$body .= \"\\nTest Report Summary:\\n\\n\";\nmy $content;\nmy $summarySection;\n{\n    local $/ = undef; # slurp mode\n    $content = &lt;HTML&gt;;\n}\n$content =~ s/\\r\\n//g;\n#print $content;\n\nif ($content ne \"\")\n{\n    if ($content =~ m/&lt;div class=\"title-bar\" (.*)/)\n    #if ( $last_line =~ m/^&lt;tr&gt; &lt;td&gt;(\\d+)&lt;\\/td&gt;/ )\n    {\n        $summarySection = \"$1\";\n    }\n}\nprint \"\\n $summarySection\";\n</code></pre>\n\n<p>Output I got is:</p>\n\n<pre><code>&lt;div class=\"title-bar\" onclick=\"folder(c_1)\"&gt;&lt;table class=\"layout\"&gt;&lt;tr&gt;&lt;td class=\"h1\" width=\"400\"&gt;Summary Of Test Report &lt;br&gt;(E:\\Packages\\SamplePackage)&lt;/td&gt;&lt;td&gt;&lt;a style=\"cursor:hand;text-decoration:none;\" onclick=\"showTOC()\"&gt;&lt;div style=\"float:left\"&gt;&lt;div style=\"float:right\"&gt;&lt;div style=\"float:left\"&gt;&lt;/div&gt;&lt;/div&gt;&lt;/a&gt;&lt;/td&gt;&lt;/tr&gt;&lt;/table&gt;&lt;/div&gt;&lt;div expandable=\"1\" id=\"c_1\"&gt;&lt;a name=\"title\"&gt;&lt;/a&gt;&lt;table class=\"content\" cellpadding=\"2\"&gt;&lt;tr&gt;&lt;td&gt;&lt;table id=\"details\"&gt;&lt;tr&gt;&lt;td class=\"h4\"&gt;Package Name:&lt;/td&gt;&lt;td class=\"info\"&gt;E:\\Packages\\SamplePackage&lt;/td&gt;&lt;/tr&gt;&lt;tr&gt;&lt;td class=\"h4\"&gt;OS:&lt;/td&gt;&lt;td class=\"info\"&gt;Microsoft Windows Server 2008 R2 Standard &lt;/td&gt;&lt;/tr&gt;&lt;tr&gt;&lt;td class=\"h4\"&gt;Testing:&lt;/td&gt;&lt;td class=\"info\"&gt;Regression Test&lt;/td&gt;&lt;/tr&gt;&lt;tr&gt;&lt;td class=\"h4\"&gt;Machine Name:&lt;/td&gt;&lt;td class=\"info\"&gt;XYZTST036   (Number Of Cores: 4              \n\n; CPU Clock Speed: 3500           \n\n  Mhz; Memory: 32,494 MB)&lt;/td&gt;&lt;/tr&gt;&lt;tr&gt;&lt;td class=\"h4\"&gt;Duration:&lt;/td&gt;&lt;td class=\"info\"&gt;00:28:31&lt;/td&gt;&lt;/tr&gt;&lt;tr&gt;&lt;td class=\"h4\"&gt;Total No. Of Testcases:&lt;/td&gt;&lt;td class=\"info\"&gt;54&lt;/td&gt;&lt;/tr&gt;&lt;tr&gt;&lt;td class=\"h4\"&gt;No. Of Testcases Executed:&lt;/td&gt;&lt;td class=\"info\"&gt;54&lt;/td&gt;&lt;/tr&gt;&lt;tr&gt;&lt;td class=\"h4\"&gt;No. Of Testcases Passed:&lt;/td&gt;&lt;td class=\"info\"&gt;42&lt;/td&gt;&lt;/tr&gt;&lt;tr&gt;&lt;td class=\"h4\"&gt;No. Of Testcases Failed:&lt;/td&gt;&lt;td class=\"info\"&gt;0&lt;/td&gt;&lt;/tr&gt;&lt;tr&gt;&lt;td class=\"h4\"&gt;No. Of Testcases NA(Not Appplicable):&lt;/td&gt;&lt;td class=\"info\"&gt;12&lt;/td&gt;&lt;/tr&gt;&lt;tr&gt;&lt;td class=\"h4\"&gt;Skipped Testcases:&lt;/td&gt;&lt;td class=\"info\"&gt;&lt;a href=\"SkippedTestcaseDetails.html\"&gt;None&lt;/a&gt;&lt;/td&gt;&lt;/tr&gt;&lt;tr&gt;&lt;td class=\"h4\"&gt;Date:&lt;/td&gt;&lt;td class=\"info\"&gt;8-02-2016\n</code></pre>\n\n<p>But I need the output like, </p>\n\n<pre><code>&lt;div class=\"title-bar\" onclick=\"folder(c_1)\"&gt;&lt;table class=\"layout\"&gt;&lt;tr&gt;&lt;td class=\"h1\" width=\"400\"&gt;Summary Of Test Report &lt;br&gt;(E:\\Packages\\SamplePackage)&lt;/td&gt;&lt;td&gt;&lt;a style=\"cursor:hand;text-decoration:none;\" onclick=\"showTOC()\"&gt;&lt;div style=\"float:left\"&gt;&lt;div style=\"float:right\"&gt;&lt;div style=\"float:left\"&gt;&lt;/div&gt;&lt;/div&gt;&lt;/a&gt;&lt;/td&gt;&lt;/tr&gt;&lt;/table&gt;&lt;/div&gt;&lt;div expandable=\"1\" id=\"c_1\"&gt;&lt;a name=\"title\"&gt;&lt;/a&gt;&lt;table class=\"content\" cellpadding=\"2\"&gt;&lt;tr&gt;&lt;td&gt;&lt;table id=\"details\"&gt;&lt;tr&gt;&lt;td class=\"h4\"&gt;Package Name:&lt;/td&gt;&lt;td class=\"info\"&gt;E:\\Packages\\SamplePackage&lt;/td&gt;&lt;/tr&gt;&lt;tr&gt;&lt;td class=\"h4\"&gt;OS:&lt;/td&gt;&lt;td class=\"info\"&gt;Microsoft Windows Server 2008 R2 Standard &lt;/td&gt;&lt;/tr&gt;&lt;tr&gt;&lt;td class=\"h4\"&gt;Testing:&lt;/td&gt;&lt;td class=\"info\"&gt;Regression Test&lt;/td&gt;&lt;/tr&gt;&lt;tr&gt;&lt;td class=\"h4\"&gt;Machine Name:&lt;/td&gt;&lt;td class=\"info\"&gt;XYZTST036   (Number Of Cores: 4              \n\n; CPU Clock Speed: 3500           \n\n  Mhz; Memory: 32,494 MB)&lt;/td&gt;&lt;/tr&gt;&lt;tr&gt;&lt;td class=\"h4\"&gt;Duration:&lt;/td&gt;&lt;td class=\"info\"&gt;00:28:31&lt;/td&gt;&lt;/tr&gt;&lt;tr&gt;&lt;td class=\"h4\"&gt;Total No. Of Testcases:&lt;/td&gt;&lt;td class=\"info\"&gt;54&lt;/td&gt;&lt;/tr&gt;&lt;tr&gt;&lt;td class=\"h4\"&gt;No. Of Testcases Executed:&lt;/td&gt;&lt;td class=\"info\"&gt;54&lt;/td&gt;&lt;/tr&gt;&lt;tr&gt;&lt;td class=\"h4\"&gt;No. Of Testcases Passed:&lt;/td&gt;&lt;td class=\"info\"&gt;42&lt;/td&gt;&lt;/tr&gt;&lt;tr&gt;&lt;td class=\"h4\"&gt;No. Of Testcases Failed:&lt;/td&gt;&lt;td class=\"info\"&gt;0&lt;/td&gt;&lt;/tr&gt;&lt;tr&gt;&lt;td class=\"h4\"&gt;No. Of Testcases NA(Not Appplicable):&lt;/td&gt;&lt;td class=\"info\"&gt;12&lt;/td&gt;&lt;/tr&gt;&lt;tr&gt;&lt;td class=\"h4\"&gt;Skipped Testcases:&lt;/td&gt;&lt;td class=\"info\"&gt;&lt;a href=\"SkippedTestcaseDetails.html\"&gt;None&lt;/a&gt;&lt;/td&gt;&lt;/tr&gt;&lt;tr&gt;&lt;td class=\"h4\"&gt;Date:&lt;/td&gt;&lt;td class=\"info\"&gt;8-02-2016\n&lt;/td&gt;&lt;/tr&gt;&lt;tr&gt;&lt;td class=\"h4\"&gt;Start Time(17:58:02)/ Completion Time (18:26:33)&lt;/td&gt;&lt;td class=\"info\"&gt;&lt;/td&gt;&lt;/tr&gt;&lt;/table&gt;&lt;/td&gt;&lt;/tr&gt;&lt;/table&gt;&lt;/div&gt;&lt;/div&gt;\n</code></pre>\n\n<p>I have tried the following regex,</p>\n\n<pre><code>if ($content =~ m/&lt;div class=\"title-bar\" (.*)&lt;\\/table&gt;&lt;\\/div&gt;&lt;\\/div&gt;/)\n</code></pre>\n\n<p>But this did not work.</p>\n\n<p>Please give me some ideas to get the content including the line break, newline and white space.</p>\n"}, {"tags": ["perl", "ini"], "comments": [{"owner": {"reputation": 198290, "user_id": 1030675, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/957956ce51706d03f19a4dc85a767bb1?s=128&d=identicon&r=PG", "display_name": "choroba", "link": "https://stackoverflow.com/users/1030675/choroba"}, "edited": false, "score": 6, "creation_date": 1456230930, "post_id": 35577552, "comment_id": 58841848, "body": "Can you show the code you used?"}, {"owner": {"reputation": 62184, "user_id": 7231, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/81b76985f3985e35492e25880493d045?s=128&d=identicon&r=PG", "display_name": "Dave Cross", "link": "https://stackoverflow.com/users/7231/dave-cross"}, "edited": false, "score": 0, "creation_date": 1456237521, "post_id": 35577552, "comment_id": 58846733, "body": "We can&#39;t (usually) guess what the problem is without seeing code."}], "answers": [{"comments": [{"owner": {"reputation": 1, "user_id": 5485904, "user_type": "registered", "accept_rate": 0, "profile_image": "https://www.gravatar.com/avatar/289f944d263b7564f13c38728bca0b4d?s=128&d=identicon&r=PG&f=1", "display_name": "user5485904", "link": "https://stackoverflow.com/users/5485904/user5485904"}, "edited": false, "score": 0, "creation_date": 1456283961, "post_id": 35580290, "comment_id": 58871426, "body": "I am using similar approach as shown in the code snippet above"}, {"owner": {"reputation": 62184, "user_id": 7231, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/81b76985f3985e35492e25880493d045?s=128&d=identicon&r=PG", "display_name": "Dave Cross", "link": "https://stackoverflow.com/users/7231/dave-cross"}, "reply_to_user": {"reputation": 1, "user_id": 5485904, "user_type": "registered", "accept_rate": 0, "profile_image": "https://www.gravatar.com/avatar/289f944d263b7564f13c38728bca0b4d?s=128&d=identicon&r=PG&f=1", "display_name": "user5485904", "link": "https://stackoverflow.com/users/5485904/user5485904"}, "edited": false, "score": 0, "creation_date": 1456297483, "post_id": 35580290, "comment_id": 58876207, "body": "So what different behaviour are you seeing? Please be precise."}], "tags": [], "owner": {"reputation": 62184, "user_id": 7231, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/81b76985f3985e35492e25880493d045?s=128&d=identicon&r=PG", "display_name": "Dave Cross", "link": "https://stackoverflow.com/users/7231/dave-cross"}, "is_accepted": false, "score": 1, "last_activity_date": 1456237985, "creation_date": 1456237985, "answer_id": 35580290, "question_id": 35577552, "link": "https://stackoverflow.com/questions/35577552/ini-files-update-using-perl/35580290#35580290", "title": "Ini files update using perl", "body": "<p>This seems to work as I expect.</p>\n\n<pre><code>$ cat my.ini\n[section]\nname=dave\nfoo=bar\n\n[another section]\nstuff=random\n\n$ cat changeini \n#!/usr/bin/perl\n\nuse strict;\nuse warnings;\nuse 5.010;\n\nuse Config::IniFiles;\n\nmy $cfg = Config::IniFiles-&gt;new( -file =&gt; 'my.ini' );\n\nsay $cfg-&gt;val('section', 'foo');\n\n$cfg-&gt;setval('section', 'foo', 'baz');\n\nsay $cfg-&gt;val('section', 'foo');\n\n$cfg-&gt;WriteConfig('my.ini');\n\n$ ./changeini \nbar\nbaz\n\n$ cat my.ini\n[section]\nname=dave\nfoo=baz\n\n[another section]\nstuff=random\n</code></pre>\n\n<p>If you're getting different results, then please let us know what you're doing differently.</p>\n"}], "owner": {"reputation": 1, "user_id": 5485904, "user_type": "registered", "accept_rate": 0, "profile_image": "https://www.gravatar.com/avatar/289f944d263b7564f13c38728bca0b4d?s=128&d=identicon&r=PG&f=1", "display_name": "user5485904", "link": "https://stackoverflow.com/users/5485904/user5485904"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 213, "favorite_count": 0, "closed_date": 1456262461, "answer_count": 1, "score": -5, "last_activity_date": 1456283837, "creation_date": 1456230375, "last_edit_date": 1456283837, "question_id": 35577552, "link": "https://stackoverflow.com/questions/35577552/ini-files-update-using-perl", "closed_reason": "Not suitable for this site", "title": "Ini files update using perl", "body": "<p>How can I update the value of the parameter in an ini file without modifying anything else?<br>\nCurrently I am using setVal() as shown below, but this deletes a parameter when it updates the other parameter value.</p>\n\n<pre><code>sub setVal\n{\n   my $section = shift;\n   my $parameter = shift;\n   my $value = shift;\n\n   my $ini_path = \"C:\\\\MyFolder\\\\Ini.ini\";\n   my $inicfg = Config::IniFiles-&gt;new( -file =&gt; $ini_path );\n\n   $inicfg -&gt; setval($section,$parameter,$value);\n   $inicfg -&gt; WriteConfig($ini_path);\n}\n</code></pre>\n"}, {"tags": ["javascript", "perl", "object", "whitelist", "blacklist"], "comments": [{"owner": {"reputation": 24888, "user_id": 1023618, "user_type": "registered", "accept_rate": 82, "profile_image": "https://www.gravatar.com/avatar/5dd1a5bb0139abc749b7d4cd8cf7aa1b?s=128&d=identicon&r=PG", "display_name": "Reinstate Monica Cellio", "link": "https://stackoverflow.com/users/1023618/reinstate-monica-cellio"}, "edited": false, "score": 0, "creation_date": 1456230295, "post_id": 35577454, "comment_id": 58841401, "body": "Which specific links on the left on the demo page are the problematic ones?"}, {"owner": {"reputation": 133386, "user_id": 295783, "user_type": "registered", "accept_rate": 81, "profile_image": "https://www.gravatar.com/avatar/da548667c834109a7059b51060e53dff?s=128&d=identicon&r=PG", "display_name": "mplungjan", "link": "https://stackoverflow.com/users/295783/mplungjan"}, "edited": false, "score": 0, "creation_date": 1456230305, "post_id": 35577454, "comment_id": 58841406, "body": "Duplicate? <a href=\"http://stackoverflow.com/questions/22534282/object-tag-with-pdf-doesnt-work-in-firefox-and-is-messed-up-in-ie\" title=\"object tag with pdf doesnt work in firefox and is messed up in ie\">stackoverflow.com/questions/22534282/&hellip;</a>"}, {"owner": {"reputation": 3744, "user_id": 2417483, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/FYmKn.jpg?s=128&g=1", "display_name": "jeff", "link": "https://stackoverflow.com/users/2417483/jeff"}, "edited": false, "score": 1, "creation_date": 1456230483, "post_id": 35577454, "comment_id": 58841529, "body": "You have a CORS problems. There are two errors. GET <a href=\"http://demo.coadmem.com/cookie_tick/style.css\" rel=\"nofollow noreferrer\">demo.coadmem.com/cookie_tick/style.css</a>  about:blank:1 Refused to display &#39;<a href=\"http://www.cristofayre.com/cgi-bin/poppa/banner_ad.pl?u=1:aa00\" rel=\"nofollow noreferrer\">cristofayre.com/cgi-bin/poppa/banner_ad.pl?u=1:aa00</a>&#39; in a frame because it set &#39;X-Frame-Options&#39; to &#39;SAMEORIGIN&#39;."}, {"owner": {"reputation": 95, "user_id": 2799655, "user_type": "registered", "accept_rate": 0, "profile_image": "https://i.stack.imgur.com/x8L1s.jpg?s=128&g=1", "display_name": "Cristofayre", "link": "https://stackoverflow.com/users/2799655/cristofayre"}, "edited": false, "score": 0, "creation_date": 1456245765, "post_id": 35577454, "comment_id": 58853125, "body": "Jeff, I dunno how you discovered that the frame set X-frame-Options to &#39;SAME-ORIGIN&#39; ... but you&#39;re 100% correct. Another support person told me to create a .htaccess file, and use &quot;Header always unset X-Frame-Options&quot; and - whatever it does - it lets the objects display the items as they should do. So I&#39;m a happy bunny again!"}, {"owner": {"reputation": 95, "user_id": 2799655, "user_type": "registered", "accept_rate": 0, "profile_image": "https://i.stack.imgur.com/x8L1s.jpg?s=128&g=1", "display_name": "Cristofayre", "link": "https://stackoverflow.com/users/2799655/cristofayre"}, "edited": false, "score": 0, "creation_date": 1456245914, "post_id": 35577454, "comment_id": 58853226, "body": "Archer: The problematic links were ... all of them! They all only displayed the one file rather than the three that should be showing. But between Jeff and the GreenGeeks support team, we have resolved the issue."}], "answers": [{"tags": [], "owner": {"reputation": 95, "user_id": 2799655, "user_type": "registered", "accept_rate": 0, "profile_image": "https://i.stack.imgur.com/x8L1s.jpg?s=128&g=1", "display_name": "Cristofayre", "link": "https://stackoverflow.com/users/2799655/cristofayre"}, "is_accepted": false, "score": 2, "last_activity_date": 1456246303, "creation_date": 1456246303, "answer_id": 35583422, "question_id": 35577454, "link": "https://stackoverflow.com/questions/35577454/cannot-get-website-to-display-object-tag/35583422#35583422", "title": "Cannot get website to display object tag", "body": "<p>I was \"sort of\" right. It wasn't that certain URL's were being blocked, rather that the frames were set up ONLY to show data that originated from the same domain as the browser was set too, (don't ask me how the YouTube iframe circumvented this rule, but there you go!)</p>\n\n<p>As you can see from the above comments, the solution was to create a .htaccess file and use the command \"Header always unset X-Frame-Options\" which in simple terms (that I can follow) is saying \"Whatever the header for the X-Frame-Option is set to, ignore it! and display the data anyway\"</p>\n\n<p>Perhaps this might help someone in a similar dilemma. It was certainly baffling as to why the ActiveState / Strawberry Perl version worked OFFLINE, but not online.</p>\n"}], "owner": {"reputation": 95, "user_id": 2799655, "user_type": "registered", "accept_rate": 0, "profile_image": "https://i.stack.imgur.com/x8L1s.jpg?s=128&g=1", "display_name": "Cristofayre", "link": "https://stackoverflow.com/users/2799655/cristofayre"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 281, "favorite_count": 0, "answer_count": 1, "score": 0, "last_activity_date": 1456246303, "creation_date": 1456230079, "question_id": 35577454, "link": "https://stackoverflow.com/questions/35577454/cannot-get-website-to-display-object-tag", "title": "Cannot get website to display object tag", "body": "<p>This is really, really weird. I developed a site offline using Apache / Strawberry Perl / Firefox. It displays data in object tags as expected, calling data from external sites.</p>\n\n<p>Upload the code to server, and it will display objects where the code is on the same site ... but refuses to \"pull\" in data from other domains, (which I own)</p>\n\n<p>If you try \"<a href=\"http://demo.coadmem.com/members\" rel=\"nofollow\">http://demo.coadmem.com/members</a>\" and click on a circle on the left, a product listing appears, (served from same domain) but the ones from \"cbwizard.cristofayre.com\" and \"cristoafayre.com/poppa\" on same page refuse to appear. Yet when I set up a test using YouTube, it loads OK.</p>\n\n<p>I asked the host if there was some sort of \"block\" that stopped the objects from loading external site, and of course their response was \"we can see no problems reported in the error logs\".</p>\n\n<p>Also, at \"<a href=\"http://coadmem.com/admin\" rel=\"nofollow\">http://coadmem.com/admin</a>\", there is another object at the top - which works fine offline, but from server displays a white empty \"about\" bar!!. </p>\n\n<p>Here are two of the codes I'm using: (the cb-wizard one uses a bit of javascript to select a random keyword; too much to add here, so please view source code. Anyone see a glaring error as to why it won't work online?</p>\n\n<pre><code>    &lt;object data=\"http://www.cristofayre.com/cgi-bin/poppa/banner_ad.pl?u=1:aa00\" width=480 height=90&gt;&lt;/object&gt;\n\n    &lt;object style=\"position:fixed;top:0px;width:100%;height:20px;\" width=\"100%\" height=\"20px\" data=\"http://www.cristofayre.com/cgi-bin/admin_ad.pl?t=w\"&gt;&lt;/object&gt;\n</code></pre>\n\n<p>I know the scripts work, 'cos if you type the data line into a browser, the correct HTML is displayed; it just refuses to appear when on the server!</p>\n\n<p>I'm wondering if there is some sort of \"list\" that the host might be applying that allows the majors such as Google / Youtube to be loaded into iframes / objects, but disallows 'minor' sites. (The suport team didn't seem to know anything about such a list)</p>\n\n<p>** I also wondered if the \"same-origin\" policy is coming into play, but surely it shouldn't as that defeats the whole point of using iframes and objects in the first place.</p>\n"}, {"tags": ["perl", "loops", "foreach"], "answers": [{"comments": [{"owner": {"reputation": 22591, "user_id": 1150683, "user_type": "registered", "accept_rate": 96, "profile_image": "https://www.gravatar.com/avatar/4171d32ed59549af71dff8c1682f17cc?s=128&d=identicon&r=PG&f=1", "display_name": "Bram Vanroy", "link": "https://stackoverflow.com/users/1150683/bram-vanroy"}, "edited": false, "score": 0, "creation_date": 1456229446, "post_id": 35577170, "comment_id": 58840878, "body": "After testing this I found that <code>$#durations</code> returns one less than the actually length of the array. Any idea why that&#39;s the case?"}, {"owner": {"reputation": 22591, "user_id": 1150683, "user_type": "registered", "accept_rate": 96, "profile_image": "https://www.gravatar.com/avatar/4171d32ed59549af71dff8c1682f17cc?s=128&d=identicon&r=PG&f=1", "display_name": "Bram Vanroy", "link": "https://stackoverflow.com/users/1150683/bram-vanroy"}, "edited": false, "score": 0, "creation_date": 1456229953, "post_id": 35577170, "comment_id": 58841189, "body": "Figured it out. Your method only returns the index of the last item. Better methods are described <a href=\"http://stackoverflow.com/questions/7406807/find-size-of-an-array-in-perl\">here</a>. I used <code>scalar @durations</code>."}, {"owner": {"reputation": 28754, "user_id": 1153938, "user_type": "registered", "accept_rate": 73, "profile_image": "https://i.stack.imgur.com/deBjQ.jpg?s=128&g=1", "display_name": "Vorsprung", "link": "https://stackoverflow.com/users/1153938/vorsprung"}, "reply_to_user": {"reputation": 22591, "user_id": 1150683, "user_type": "registered", "accept_rate": 96, "profile_image": "https://www.gravatar.com/avatar/4171d32ed59549af71dff8c1682f17cc?s=128&d=identicon&r=PG&f=1", "display_name": "Bram Vanroy", "link": "https://stackoverflow.com/users/1150683/bram-vanroy"}, "edited": false, "score": 0, "creation_date": 1456230418, "post_id": 35577170, "comment_id": 58841489, "body": "yeah sorry about the off by one, I was just testing the file mode write and not looking at that.  Altered it in answer now"}], "tags": [], "owner": {"reputation": 28754, "user_id": 1153938, "user_type": "registered", "accept_rate": 73, "profile_image": "https://i.stack.imgur.com/deBjQ.jpg?s=128&g=1", "display_name": "Vorsprung", "link": "https://stackoverflow.com/users/1153938/vorsprung"}, "is_accepted": true, "score": 3, "last_activity_date": 1456230370, "last_edit_date": 1456230370, "creation_date": 1456229139, "answer_id": 35577170, "question_id": 35576993, "link": "https://stackoverflow.com/questions/35576993/read-lines-from-file-calculate-average-write-average-to-same-file-in-perl/35577170#35577170", "title": "Read lines from file, calculate average, write average to same file in Perl", "body": "<p>The open mode of the file is wrong.  You need to have it in read/write mode, not append mode</p>\n\n<pre><code>open(my $overviewhandle, '+&lt;','overview.txt');\nchomp( my @durations = &lt;$overviewhandle&gt; );\nmy $avgtime = 0;\nforeach my $duration (@durations) {\n    $avgtime += $duration;\n}\n$avgtime = $avgtime / scalar @durations;\nprint $overviewhandle \"================\\nAVERAGE after $amountofloops runs: $avgtime\";\nclose $overviewhandle;\n</code></pre>\n"}, {"tags": [], "owner": {"reputation": 5923, "user_id": 2105156, "user_type": "registered", "accept_rate": 76, "profile_image": "https://i.stack.imgur.com/oRMc0.jpg?s=128&g=1", "display_name": "fugu", "link": "https://stackoverflow.com/users/2105156/fugu"}, "is_accepted": false, "score": 0, "last_activity_date": 1456229459, "creation_date": 1456229459, "answer_id": 35577266, "question_id": 35576993, "link": "https://stackoverflow.com/questions/35576993/read-lines-from-file-calculate-average-write-average-to-same-file-in-perl/35577266#35577266", "title": "Read lines from file, calculate average, write average to same file in Perl", "body": "<pre><code>open my $in, '&lt;', 'in.txt' or die $!;\n\nmy $count = 0;\nmy $total;\nwhile(&lt;$in&gt;){\n    $count++;\n    $total += $_;\n}\n\nopen my $out, '&gt;&gt;', 'in.txt' or die $!;\n\nmy $average = $total/$count;\nprint $out \"\\n================\\n\";\nprint $out \"AVERAGE after $count runs: $average\\n\";\n</code></pre>\n"}, {"comments": [{"owner": {"reputation": 22591, "user_id": 1150683, "user_type": "registered", "accept_rate": 96, "profile_image": "https://www.gravatar.com/avatar/4171d32ed59549af71dff8c1682f17cc?s=128&d=identicon&r=PG&f=1", "display_name": "Bram Vanroy", "link": "https://stackoverflow.com/users/1150683/bram-vanroy"}, "edited": false, "score": 0, "creation_date": 1456237939, "post_id": 35580084, "comment_id": 58847049, "body": "As I hoped was clear from my initial post, this is only a snippet of my whole script. I do use strict and warnings, since it was <a href=\"http://stackoverflow.com/questions/35552520/why-is-my-xml-file-empty-after-generating-with-xmllibxml#comment58793220_35552520\">previously pointed out to me</a>. I did not see the error, though, as I run the script from the terminal, and the script writes a lot to the terminal (for testing purposes). I therefore didn&#39;t see that error."}, {"owner": {"reputation": 62184, "user_id": 7231, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/81b76985f3985e35492e25880493d045?s=128&d=identicon&r=PG", "display_name": "Dave Cross", "link": "https://stackoverflow.com/users/7231/dave-cross"}, "reply_to_user": {"reputation": 22591, "user_id": 1150683, "user_type": "registered", "accept_rate": 96, "profile_image": "https://www.gravatar.com/avatar/4171d32ed59549af71dff8c1682f17cc?s=128&d=identicon&r=PG&f=1", "display_name": "Bram Vanroy", "link": "https://stackoverflow.com/users/1150683/bram-vanroy"}, "edited": false, "score": 0, "creation_date": 1456238095, "post_id": 35580084, "comment_id": 58847174, "body": "Can I suggest running your program so that STDOUT is directed to one filehandle and STDERR is directed to another. That way it will be easier to spot the errors and warnings."}], "tags": [], "owner": {"reputation": 62184, "user_id": 7231, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/81b76985f3985e35492e25880493d045?s=128&d=identicon&r=PG", "display_name": "Dave Cross", "link": "https://stackoverflow.com/users/7231/dave-cross"}, "is_accepted": false, "score": 4, "last_activity_date": 1456237441, "creation_date": 1456237441, "answer_id": 35580084, "question_id": 35576993, "link": "https://stackoverflow.com/questions/35576993/read-lines-from-file-calculate-average-write-average-to-same-file-in-perl/35580084#35580084", "title": "Read lines from file, calculate average, write average to same file in Perl", "body": "<p>You should always add <code>use strict</code> and <code>use warnings</code> to the top of any Perl program that you write. They <strong>will</strong> help you find bugs.</p>\n\n<p>In this case you would have seen the error:</p>\n\n<blockquote>\n  <p>Filehandle $overviewhandle opened only for output</p>\n</blockquote>\n\n<p>Which, in my opinion, makes the problem pretty obvious.</p>\n"}], "owner": {"reputation": 22591, "user_id": 1150683, "user_type": "registered", "accept_rate": 96, "profile_image": "https://www.gravatar.com/avatar/4171d32ed59549af71dff8c1682f17cc?s=128&d=identicon&r=PG&f=1", "display_name": "Bram Vanroy", "link": "https://stackoverflow.com/users/1150683/bram-vanroy"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 489, "favorite_count": 0, "accepted_answer_id": 35577170, "answer_count": 3, "score": 0, "last_activity_date": 1456237441, "creation_date": 1456228623, "last_edit_date": 1456229195, "question_id": 35576993, "link": "https://stackoverflow.com/questions/35576993/read-lines-from-file-calculate-average-write-average-to-same-file-in-perl", "title": "Read lines from file, calculate average, write average to same file in Perl", "body": "<p>I have a file that contains some lines with floating numbers, something like this:</p>\n\n<pre><code>1.66278886795044\n1.61858296394348\n1.66523003578186\n1.62150096893311\n1.6725389957428\n</code></pre>\n\n<p>I am trying to open that file, calculate the average of all lines, and then write the average to the same file. Where <code>5</code> stands for the amount of items, the expected output would thus be:</p>\n\n<pre><code>1.66278886795044\n1.61858296394348\n1.66523003578186\n1.62150096893311\n1.6725389957428\n================\nAVERAGE after 5 runs: 1.6481283664703\n</code></pre>\n\n<p>Considering I can get the amount of runs from a variable higher up in the script <code>$amountofloops</code>, I thought this would do it:</p>\n\n<pre><code>open(my $overviewhandle, '&gt;&gt;', 'overview.txt');\nchomp( my @durations = &lt;$overviewhandle&gt; );\nmy $avgtime = 0;\nforeach my $duration (@durations) {\n    $avgtime += $duration;\n}\n$avgtime = $avgtime / $amountofloops;\nprint $overviewhandle \"================\\nAVERAGE after $amountofloops runs: $avgtime\";\nclose $overviewhandle;\n</code></pre>\n\n<p>However, <code>$avgtime</code> keeps returning zero and I don't know why. I think the number isn't parsed as a number.</p>\n"}, {"tags": ["perl", "tcl", "sip", "microcontroller"], "comments": [{"owner": {"reputation": 12075, "user_id": 1137055, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/59d7b43b9eb7d01bd8f7e51febe6053c?s=128&d=identicon&r=PG", "display_name": "dgw", "link": "https://stackoverflow.com/users/1137055/dgw"}, "edited": false, "score": 0, "creation_date": 1456228738, "post_id": 35576220, "comment_id": 58840374, "body": "<a href=\"http://whathaveyoutried.com/\" rel=\"nofollow noreferrer\">What have you tried?</a> SO is not a write-some-code-for-me site. You&#39;ll have to try for yourself and when you&#39;re stuck somewhere then state your problem here and you&#39;ll get help."}, {"owner": {"reputation": 119001, "user_id": 301832, "user_type": "registered", "accept_rate": 60, "profile_image": "https://www.gravatar.com/avatar/965220a70d38e6a29466f44cdb4f804e?s=128&d=identicon&r=PG", "display_name": "Donal Fellows", "link": "https://stackoverflow.com/users/301832/donal-fellows"}, "edited": false, "score": 0, "creation_date": 1456234207, "post_id": 35576220, "comment_id": 58844178, "body": "The only correct answer to this is \u201cYes\u201d. It&#39;s not a <i>useful</i> answer though."}, {"owner": {"reputation": 44, "user_id": 4476767, "user_type": "registered", "accept_rate": 0, "profile_image": "https://www.gravatar.com/avatar/c612c3baed088b480ba1487a8b7e38f7?s=128&d=identicon&r=PG&f=1", "display_name": "ra-one", "link": "https://stackoverflow.com/users/4476767/ra-one"}, "edited": false, "score": 0, "creation_date": 1456286829, "post_id": 35576220, "comment_id": 58872226, "body": "if its yes than atleast give me a link so that i can study how to integrate tcl or perl with C"}], "answers": [{"tags": [], "owner": {"reputation": 7303, "user_id": 260826, "user_type": "registered", "accept_rate": 83, "profile_image": "https://i.stack.imgur.com/D40aN.jpg?s=128&g=1", "display_name": "gogasca", "link": "https://stackoverflow.com/users/260826/gogasca"}, "is_accepted": false, "score": 0, "last_activity_date": 1456266234, "creation_date": 1456266234, "answer_id": 35589459, "question_id": 35576220, "link": "https://stackoverflow.com/questions/35576220/i-want-to-implement-sip-protocol-on-microcontroller-i-e-using-embedded-c-but-i/35589459#35589459", "title": "i want to implement sip protocol on microcontroller i.e. using embedded c ,but i want to parse sip packets using perl or tcl", "body": "<p>I would use a packet sniffer in C. Then identify SIP protocol based on data, push it somewhere  and parse it with Perl/TCL from there. Example:\n<a href=\"http://www.tcpdump.org/sniffex.c\" rel=\"nofollow\">http://www.tcpdump.org/sniffex.c</a>, or you can build packet sniffer from Perl/TCL itself, very easy task just some considerations when handling TCP/UDP fragmentation</p>\n"}], "owner": {"reputation": 44, "user_id": 4476767, "user_type": "registered", "accept_rate": 0, "profile_image": "https://www.gravatar.com/avatar/c612c3baed088b480ba1487a8b7e38f7?s=128&d=identicon&r=PG&f=1", "display_name": "ra-one", "link": "https://stackoverflow.com/users/4476767/ra-one"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 499, "favorite_count": 0, "answer_count": 1, "score": -4, "last_activity_date": 1456286511, "creation_date": 1456226562, "last_edit_date": 1456286511, "question_id": 35576220, "link": "https://stackoverflow.com/questions/35576220/i-want-to-implement-sip-protocol-on-microcontroller-i-e-using-embedded-c-but-i", "title": "i want to implement sip protocol on microcontroller i.e. using embedded c ,but i want to parse sip packets using perl or tcl", "body": "<p>a typical sip packet looks like this</p>\n\n<pre><code> INVITE sip:bob@biloxi.com SIP/2.0\n      Via: SIP/2.0/UDP pc33.atlanta.com;branch=z9hG4bK776asdhds\n      Max-Forwards: 70\n      To: Bob &lt;sip:bob@biloxi.com&gt;\n      From: Alice &lt;sip:alice@atlanta.com&gt;;tag=1928301774\n      Call-ID: a84b4c76e66710@pc33.atlanta.com\n      CSeq: 314159 INVITE\n      Contact: &lt;sip:alice@pc33.atlanta.com&gt;\n      Content-Type: application/sdp\n      Content-Length: 142\n</code></pre>\n\n<p>so is it possible to embedd perl or tcl parser in c</p>\n"}, {"tags": ["arrays", "perl", "hash", "diff", "array-difference"], "comments": [{"owner": {"reputation": 5923, "user_id": 2105156, "user_type": "registered", "accept_rate": 76, "profile_image": "https://i.stack.imgur.com/oRMc0.jpg?s=128&g=1", "display_name": "fugu", "link": "https://stackoverflow.com/users/2105156/fugu"}, "edited": false, "score": 0, "creation_date": 1456227540, "post_id": 35575873, "comment_id": 58839509, "body": "Can&#39;t you just loop through and compare yourself?"}, {"owner": {"reputation": 322, "user_id": 3737935, "user_type": "registered", "accept_rate": 83, "profile_image": "https://i.stack.imgur.com/l5sf5.jpg?s=128&g=1", "display_name": "Frigo", "link": "https://stackoverflow.com/users/3737935/frigo"}, "reply_to_user": {"reputation": 5923, "user_id": 2105156, "user_type": "registered", "accept_rate": 76, "profile_image": "https://i.stack.imgur.com/oRMc0.jpg?s=128&g=1", "display_name": "fugu", "link": "https://stackoverflow.com/users/2105156/fugu"}, "edited": false, "score": 0, "creation_date": 1456231773, "post_id": 35575873, "comment_id": 58842442, "body": "Of course I can do it myself, but library functions are always better optimized, and written by people who have thought the matter through. So as long as there&#39;s one, it&#39;s a better way to go."}], "answers": [{"comments": [{"owner": {"reputation": 322, "user_id": 3737935, "user_type": "registered", "accept_rate": 83, "profile_image": "https://i.stack.imgur.com/l5sf5.jpg?s=128&g=1", "display_name": "Frigo", "link": "https://stackoverflow.com/users/3737935/frigo"}, "edited": false, "score": 0, "creation_date": 1456232968, "post_id": 35577252, "comment_id": 58843256, "body": "Indeed it does work! I just had to replace <code>terse</code> with <code>relaxed</code> and invert the logic: <code>JSON::XS-&gt;new-&gt;relaxed(0)-&gt;ascii(1)-&gt;canonical(1)-&gt;encode($_&zwnj;&#8203;[0]);</code>"}], "tags": [], "owner": {"reputation": 87649, "user_id": 17389, "user_type": "registered", "accept_rate": 38, "profile_image": "https://www.gravatar.com/avatar/cd06d1314817ce946ab796af8750b56a?s=128&d=identicon&r=PG", "display_name": "ysth", "link": "https://stackoverflow.com/users/17389/ysth"}, "is_accepted": true, "score": 2, "last_activity_date": 1456244482, "last_edit_date": 1456244482, "creation_date": 1456229412, "answer_id": 35577252, "question_id": 35575873, "link": "https://stackoverflow.com/questions/35575873/alternative-to-array-minus-that-expands-references-in-perl/35577252#35577252", "title": "Alternative to array_minus that expands references in Perl", "body": "<p>Something like this should work (untested):</p>\n\n<pre><code>sub serialize {\n    use JSON::XS;\n    JSON::XS-&gt;new-&gt;pretty(0)-&gt;ascii(1)-&gt;canonical(1)-&gt;encode($_[0])\n}\n\nsub array_minus_deep(\\@\\@) {\n    my ($array,$minus) = @_;\n\n    my %minus = map( ( serialize($_) =&gt; 1 ), @$minus );\n    grep !$minus{ serialize($_) }, @$array\n}\n</code></pre>\n"}], "owner": {"reputation": 322, "user_id": 3737935, "user_type": "registered", "accept_rate": 83, "profile_image": "https://i.stack.imgur.com/l5sf5.jpg?s=128&g=1", "display_name": "Frigo", "link": "https://stackoverflow.com/users/3737935/frigo"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 154, "favorite_count": 0, "accepted_answer_id": 35577252, "answer_count": 1, "score": 0, "last_activity_date": 1456244482, "creation_date": 1456225651, "question_id": 35575873, "link": "https://stackoverflow.com/questions/35575873/alternative-to-array-minus-that-expands-references-in-perl", "title": "Alternative to array_minus that expands references in Perl", "body": "<p>I have arrays of hash references in Perl. I need to compare them, i.e., effectively do what <code>array_minus()</code> does, but I need to do the comparison by the <em>content</em> of the hash rather than the reference.</p>\n\n<p>Take this MWE:</p>\n\n<pre><code>#!/usr/bin/perl\nuse Array::Utils qw(:all);\nuse Data::Dumper;\n\nmy %en  = ( 'first' =&gt; 'one', 'second' =&gt; 'two', 'third' =&gt; 'three' );\nmy %en2 = ( 'first' =&gt; 'one', 'second' =&gt; 'two', 'third' =&gt; 'three' );\nmy %eo  = ( 'first' =&gt; 'unu', 'second' =&gt; 'du', 'third' =&gt; 'tri' );\n\nmy @set = ( \\%en, \\%eo );\nmy @subset = ( \\%en2 );\n\nprint(Dumper(array_minus(@set,@subset)));\n</code></pre>\n\n<p>I believe <code>array_minus()</code> compares the references, which are different, so that the output is:</p>\n\n<pre><code>$VAR1 = {\n          'first' =&gt; 'one',\n          'second' =&gt; 'two',\n          'third' =&gt; 'three'\n        };\n$VAR2 = {\n          'first' =&gt; 'unu',\n          'second' =&gt; 'du',\n          'third' =&gt; 'tri'\n        };\n</code></pre>\n\n<p>Is there an alternative, or an option that would do the comparison by the content of the hashes? Of course when the hashes in the MWE are not included by reference, the comparison works right and only one hash is returned.</p>\n"}, {"tags": ["php", "algorithm", "perl", "function", "text-parsing"], "answers": [{"tags": [], "owner": {"reputation": 87, "user_id": 5845530, "user_type": "registered", "profile_image": "https://lh6.googleusercontent.com/-7aLZhSlpDPw/AAAAAAAAAAI/AAAAAAAAGFU/Thp5-rki9Ns/photo.jpg?sz=128", "display_name": "Kev Sto", "link": "https://stackoverflow.com/users/5845530/kev-sto"}, "is_accepted": false, "score": 0, "last_activity_date": 1456227515, "creation_date": 1456227515, "answer_id": 35576555, "question_id": 35575628, "link": "https://stackoverflow.com/questions/35575628/splitting-multiple-joined-words-in-php-code-not-working/35576555#35576555", "title": "splitting multiple joined words in PHP code - not working", "body": "<p>Your <code>foreach ($WORD_FILE as $str)</code> needs to have an array in place of <code>$WORD_FILE</code> so it should be something like: </p>\n\n<pre><code>$WORD_FILE = file_get_contents(\"word.txt\");\n$words = explode(\" \", $WORD_FILE);\nforeach ($words as $str) {\n     *commands go here*\n}\n</code></pre>\n\n<p><strong>file_get_contents</strong> only returns a string. You can use <strong>explode</strong> to break that string into an array based on another string. In this case, I used the <code>\" \"</code> to represent a space.</p>\n"}, {"comments": [{"owner": {"reputation": 382, "user_id": 372108, "user_type": "registered", "accept_rate": 44, "profile_image": "https://www.gravatar.com/avatar/3f15a46f1190889a4c05571e18ee41b5?s=128&d=identicon&r=PG", "display_name": "Mani", "link": "https://stackoverflow.com/users/372108/mani"}, "edited": false, "score": 0, "creation_date": 1456297244, "post_id": 35595345, "comment_id": 58876081, "body": "Though, this question is down voted. But i believe this will be useful to someone else."}], "tags": [], "owner": {"reputation": 382, "user_id": 372108, "user_type": "registered", "accept_rate": 44, "profile_image": "https://www.gravatar.com/avatar/3f15a46f1190889a4c05571e18ee41b5?s=128&d=identicon&r=PG", "display_name": "Mani", "link": "https://stackoverflow.com/users/372108/mani"}, "is_accepted": false, "score": 0, "last_activity_date": 1456297207, "creation_date": 1456297207, "answer_id": 35595345, "question_id": 35575628, "link": "https://stackoverflow.com/questions/35575628/splitting-multiple-joined-words-in-php-code-not-working/35595345#35595345", "title": "splitting multiple joined words in PHP code - not working", "body": "<p>The working copy of it, not sure is there any mistake in it. \nIf someone can find some fault, please let me know.</p>\n\n<pre><code>&lt;?php\n\n$WORD_FILE = file_get_contents (\"word.txt\") ;\n\n$temp_arr = explode(\"\\n\", $WORD_FILE);\n\nforeach ($temp_arr as $str)\n{\n    $words [$str] = 1 ;\n}\n\n$processed = Array () ;\n\nfind_words ($argv[1]) ; \nprint_r ($processed) ;\n\nfunction find_words ($str)\n{\n    global $words ;\n    global $processed ;\n\n    $string = $str ;\n    $length = strlen ($str) ;\n\n    for ($i = 1 ; $i &lt;= $length + 1; $i++)\n    {\n        $word = substr ($string, 0, $i) ;\n        $remainder = substr ($string, $i, $length - $i) ;\n\n        if ($i == 1 &amp;&amp; ($word != \"a\" &amp;&amp; $word != \"i\")) ;\n\n        if (array_key_exists ($word, $words))\n        {\n            array_push($processed, $word) ;\n            if ($remainder == \"\")\n            {\n                return ;\n            }\n            else\n            {\n                find_words ($remainder, $words) ;\n            }\n            echo \"popping the word \" . array_pop ($words) . \"\\n\";\n        }\n    }\n\n    return ;\n}\n\n?&gt;\n</code></pre>\n"}], "owner": {"reputation": 382, "user_id": 372108, "user_type": "registered", "accept_rate": 44, "profile_image": "https://www.gravatar.com/avatar/3f15a46f1190889a4c05571e18ee41b5?s=128&d=identicon&r=PG", "display_name": "Mani", "link": "https://stackoverflow.com/users/372108/mani"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 151, "favorite_count": 0, "answer_count": 2, "score": -2, "last_activity_date": 1456297207, "creation_date": 1456225049, "last_edit_date": 1495540232, "question_id": 35575628, "link": "https://stackoverflow.com/questions/35575628/splitting-multiple-joined-words-in-php-code-not-working", "title": "splitting multiple joined words in PHP code - not working", "body": "<p>In this URL <a href=\"https://stackoverflow.com/questions/195010/how-can-i-split-multiple-joined-words\">How can I split multiple joined words?</a>, i have found a source code which works perfectly written in perl, but my requirement is in PHP. </p>\n\n<p>I have never worked on perl, not even once, But I have managed to translate the perl code to PHP. </p>\n\n<p>But it does not give the correct result, can you please help me in finding out the problem. </p>\n\n<pre><code>#!/usr/bin/perl\n\nuse strict;\n\nmy $WORD_FILE = '/usr/share/dict/words'; #Change as needed\nmy %words; # Hash of words in dictionary\n\n# Open dictionary, load words into hash\nopen(WORDS, $WORD_FILE) or die \"Failed to open dictionary: $!\\n\";\nwhile (&lt;WORDS&gt;) {\n  chomp;\n  $words{lc($_)} = 1;\n}\nclose(WORDS);\n\n# Read one line at a time from stdin, break into words\nwhile (&lt;&gt;) {\n  chomp;\n  my @words;\n  find_words(lc($_));\n}\n\nsub find_words {\n  # Print every way $string can be parsed into whole words\n  my $string = shift;\n  my @words = @_;\n  my $length = length $string;\n\n  foreach my $i ( 1 .. $length ) {\n    my $word = substr $string, 0, $i;\n    my $remainder = substr $string, $i, $length - $i;\n    # Some dictionaries contain each letter as a word\n    next if ($i == 1 &amp;&amp; ($word ne \"a\" &amp;&amp; $word ne \"i\"));\n\n    if (defined($words{$word})) {\n      push @words, $word;\n      if ($remainder eq \"\") {\n        print join(' ', @words), \"\\n\";\n        return;\n      } else {\n        find_words($remainder, @words);\n      }\n      pop @words;\n    }\n  }\n\n  return;\n}\n</code></pre>\n\n<p>PHP code written by me, but not working.</p>\n\n<pre><code>&lt;?php\n\n$WORD_FILE = file_get_contents (\"word.txt\") ;\n\n$words = Array () ;\n\nforeach ($WORD_FILE as $str)\n{\n    $words [$str] = 1 ;\n}\n\nwhile(true) \n{\n    $input = trim(fgets(STDIN, 1024));\n    find_words ($input) ;\n}\n\nfunction find_words ($str)\n{\n    $string = $str ;\n    $length = strlen ($str) ;\n\n    for ($i = 1 ; $i &lt;= $length; $i++)\n    {\n        $word = substr ($string, 0, $i) ;\n        $remainder = substr ($string, $i, $length - $i) ;\n\n        $i++ ;\n\n        if ($i == 1 &amp;&amp; ($word != \"a\" &amp;&amp; $word != \"i\")) ;\n\n        if ($words($word))\n        {\n            array_push($words, $word) ;\n            if ($remainder == \"\")\n            {\n                print_r ($words) ;\n                return ;\n            }\n            else\n            {\n                find_words ($remainder, @words) ;\n            }\n            array_pop ($words) ;\n        }\n    }\n\n    return ;\n}\n\n?&gt;\n</code></pre>\n"}, {"tags": ["regex", "perl", "replace", "whitespace", "element"], "comments": [{"owner": {"reputation": 352, "user_id": 4296256, "user_type": "registered", "accept_rate": 80, "profile_image": "https://www.gravatar.com/avatar/a95172d4146a185d7b7e7fd69f4d397c?s=128&d=identicon&r=PG&f=1", "display_name": "alisea", "link": "https://stackoverflow.com/users/4296256/alisea"}, "edited": false, "score": 1, "creation_date": 1456226273, "post_id": 35575566, "comment_id": 58838641, "body": "Could you please add some sample input and output and how exactly you want the output to look instead?"}, {"owner": {"reputation": 325, "user_id": 5856095, "user_type": "registered", "accept_rate": 82, "profile_image": "https://www.gravatar.com/avatar/e8e5c412b90786077ddfa0927904b8fe?s=128&d=identicon&r=PG&f=1", "display_name": "katyusza", "link": "https://stackoverflow.com/users/5856095/katyusza"}, "reply_to_user": {"reputation": 352, "user_id": 4296256, "user_type": "registered", "accept_rate": 80, "profile_image": "https://www.gravatar.com/avatar/a95172d4146a185d7b7e7fd69f4d397c?s=128&d=identicon&r=PG&f=1", "display_name": "alisea", "link": "https://stackoverflow.com/users/4296256/alisea"}, "edited": false, "score": 0, "creation_date": 1456226704, "post_id": 35575566, "comment_id": 58838950, "body": "Just updated post, added code snippet and sample output."}], "answers": [{"comments": [{"owner": {"reputation": 325, "user_id": 5856095, "user_type": "registered", "accept_rate": 82, "profile_image": "https://www.gravatar.com/avatar/e8e5c412b90786077ddfa0927904b8fe?s=128&d=identicon&r=PG&f=1", "display_name": "katyusza", "link": "https://stackoverflow.com/users/5856095/katyusza"}, "edited": false, "score": 0, "creation_date": 1456227556, "post_id": 35576497, "comment_id": 58839522, "body": "Yes, the <code>$&quot;=&#39;&#39;;</code> solution works perfectly with my code. Thank you~! :-)"}], "tags": [], "owner": {"reputation": 82895, "user_id": 372239, "user_type": "registered", "accept_rate": 80, "profile_image": "https://i.stack.imgur.com/2twLb.jpg?s=128&g=1", "display_name": "Toto", "link": "https://stackoverflow.com/users/372239/toto"}, "is_accepted": true, "score": 3, "last_activity_date": 1456227360, "creation_date": 1456227360, "answer_id": 35576497, "question_id": 35575566, "link": "https://stackoverflow.com/questions/35575566/in-perl-regex-replacements-how-to-remove-leading-whitespace-for-list-elements/35576497#35576497", "title": "In perl regex replacements, how to remove leading whitespace for list elements?", "body": "<p>This appens because the array is used in string context, so the default delimiter is a space.</p>\n\n<p>You can change this by doing <code>$\" = '';</code> before the substitution.</p>\n\n<pre><code>$_ = \"aaa\\nfoo\\nbbb\";\n$\" = ''; #\"for syntax highlighting\n$_ =~ s/(aaa.*?bbb)/$1\\n@happy_list/sg;\nprint;\n</code></pre>\n\n<p>You can also do:</p>\n\n<pre><code>$_ = \"aaa\\nfoo\\nbbb\";\nmy $str = join('', @happy_list);\n$_ =~ s/(aaa.*?bbb)/$1\\n$str/sg;\nprint;\n</code></pre>\n"}, {"tags": [], "owner": {"reputation": 31, "user_id": 2907666, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/N9NQ9.jpg?s=128&g=1", "display_name": "ersinakyuz", "link": "https://stackoverflow.com/users/2907666/ersinakyuz"}, "is_accepted": false, "score": 1, "last_activity_date": 1456227451, "creation_date": 1456227451, "answer_id": 35576534, "question_id": 35575566, "link": "https://stackoverflow.com/questions/35575566/in-perl-regex-replacements-how-to-remove-leading-whitespace-for-list-elements/35576534#35576534", "title": "In perl regex replacements, how to remove leading whitespace for list elements?", "body": "<p>have you tried to trim it?</p>\n\n<pre><code>$_ =~ s/^\\s+//;\n</code></pre>\n"}, {"comments": [{"owner": {"reputation": 325, "user_id": 5856095, "user_type": "registered", "accept_rate": 82, "profile_image": "https://www.gravatar.com/avatar/e8e5c412b90786077ddfa0927904b8fe?s=128&d=identicon&r=PG&f=1", "display_name": "katyusza", "link": "https://stackoverflow.com/users/5856095/katyusza"}, "edited": false, "score": 0, "creation_date": 1456282423, "post_id": 35581037, "comment_id": 58870967, "body": "Thanks! The posted Perl code is not the real code I&#39;m using; it&#39;s adapted from a longer code and simplified to demonstrate my question. Yet your post is always enlightening and insightful, thank you~ !"}], "tags": [], "owner": {"reputation": 51521, "user_id": 2566198, "user_type": "registered", "accept_rate": 67, "profile_image": "https://i.stack.imgur.com/Y34ZA.jpg?s=128&g=1", "display_name": "Sobrique", "link": "https://stackoverflow.com/users/2566198/sobrique"}, "is_accepted": false, "score": 1, "last_activity_date": 1456240074, "creation_date": 1456240074, "answer_id": 35581037, "question_id": 35575566, "link": "https://stackoverflow.com/questions/35575566/in-perl-regex-replacements-how-to-remove-leading-whitespace-for-list-elements/35581037#35581037", "title": "In perl regex replacements, how to remove leading whitespace for list elements?", "body": "<p>First off - I'd suggest <em>don't</em> use <code>$_</code> like that. It's a reserved variable in <code>perl</code>, and is used as a loop iterator. Modifying it is sometimes needed as part of the looping operation, but setting it as a shorthand for the <code>print;</code> statement is bad style. </p>\n\n<p>The root of this problem is in stringifying an array - and it's something you don't actually need to do here anyway. </p>\n\n<pre><code>#!/usr/bin/env perl\n\nuse strict;\nuse warnings;\n\nmy @happy_list;\n\npush(@happy_list, \"e\\n\");\npush(@happy_list, \"f\\n\");\npush(@happy_list, \"g\\n\");\npush(@happy_list, \"h\\n\");\n\nmy @new_list; \npush ( @new_list, \"aaa\\n\", \"foo\\n\", \"bbb\\n\" ); \nprint @new_list, @happy_list;\n</code></pre>\n\n<p>Although, I'd probably suggest not adding the line feed, and instead:</p>\n\n<pre><code>#!/usr/bin/env perl\n\nuse strict;\nuse warnings;\n\nmy @happy_list;\n\npush(@happy_list, \"e\");\npush(@happy_list, \"f\");\npush(@happy_list, \"g\");\npush(@happy_list, \"h\");\n\nmy @new_list; \npush ( @new_list, \"aaa\", \"foo\", \"bbb\" ); \nprint join \"\\n\", @new_list, @happy_list;\n</code></pre>\n"}], "owner": {"reputation": 325, "user_id": 5856095, "user_type": "registered", "accept_rate": 82, "profile_image": "https://www.gravatar.com/avatar/e8e5c412b90786077ddfa0927904b8fe?s=128&d=identicon&r=PG&f=1", "display_name": "katyusza", "link": "https://stackoverflow.com/users/5856095/katyusza"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 55, "favorite_count": 0, "accepted_answer_id": 35576497, "answer_count": 3, "score": 0, "last_activity_date": 1456240074, "creation_date": 1456224904, "last_edit_date": 1456226669, "question_id": 35575566, "link": "https://stackoverflow.com/questions/35575566/in-perl-regex-replacements-how-to-remove-leading-whitespace-for-list-elements", "title": "In perl regex replacements, how to remove leading whitespace for list elements?", "body": "<p>I use Perl regex to search for a certain pattern, and add some new stuff immediately following it. The added stuff is a list, as commonly expected, I want each element of the list to occupy one line in the output. My code is like:</p>\n\n<pre><code>push(@happy_list, \"e\\n\");\npush(@happy_list, \"f\\n\");\npush(@happy_list, \"g\\n\");\npush(@happy_list, \"h\\n\");\n\n$_ = \"aaa\\nfoo\\nbbb\";\n$_ =~ s/(aaa.*?bbb)/$1\\n@happy_list/sg;\nprint;\n</code></pre>\n\n<p>Output result is:</p>\n\n<pre><code>aaa\nfoo\nbbb\ne\n f\n g\n h\n</code></pre>\n\n<p>In the output, there is a whitespace at the beginning of each element of the list, just in front of the list element. It's fine, just a little bit ugly, though. Any handy tricks to remove the extra space?</p>\n"}, {"tags": ["regex", "perl"], "comments": [{"owner": {"reputation": 82895, "user_id": 372239, "user_type": "registered", "accept_rate": 80, "profile_image": "https://i.stack.imgur.com/2twLb.jpg?s=128&g=1", "display_name": "Toto", "link": "https://stackoverflow.com/users/372239/toto"}, "edited": false, "score": 1, "creation_date": 1456226859, "post_id": 35575502, "comment_id": 58839070, "body": "Your requirement is not clear, give an extract of your input file and expected result."}], "answers": [{"comments": [{"owner": {"reputation": 353, "user_id": 3529474, "user_type": "registered", "accept_rate": 41, "profile_image": "https://www.gravatar.com/avatar/9f5cdfff81c7ad3743905b036deaf497?s=128&d=identicon&r=PG&f=1", "display_name": "jlb333333", "link": "https://stackoverflow.com/users/3529474/jlb333333"}, "edited": false, "score": 0, "creation_date": 1456238577, "post_id": 35576444, "comment_id": 58847516, "body": "Thanks Chris.  The answer must be looping but I don&#39;t know how exactly.  Your code gives one entry only for the first &#39;if&#39; and the continues to supply all the results for the second &#39;if&#39;."}, {"owner": {"reputation": 5857, "user_id": 3641043, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/74c0ec8d28ab4d6293a67c4ca9d56178?s=128&d=identicon&r=PG", "display_name": "Chris Lear", "link": "https://stackoverflow.com/users/3641043/chris-lear"}, "reply_to_user": {"reputation": 353, "user_id": 3529474, "user_type": "registered", "accept_rate": 41, "profile_image": "https://www.gravatar.com/avatar/9f5cdfff81c7ad3743905b036deaf497?s=128&d=identicon&r=PG&f=1", "display_name": "jlb333333", "link": "https://stackoverflow.com/users/3529474/jlb333333"}, "edited": false, "score": 0, "creation_date": 1456239554, "post_id": 35576444, "comment_id": 58848288, "body": "Sorry - I forgot the <code>last</code> command, which breaks out of the inner loop when a match is found. I&#39;ve edited the answer"}, {"owner": {"reputation": 353, "user_id": 3529474, "user_type": "registered", "accept_rate": 41, "profile_image": "https://www.gravatar.com/avatar/9f5cdfff81c7ad3743905b036deaf497?s=128&d=identicon&r=PG&f=1", "display_name": "jlb333333", "link": "https://stackoverflow.com/users/3529474/jlb333333"}, "edited": false, "score": 0, "creation_date": 1456249699, "post_id": 35576444, "comment_id": 58855801, "body": "Thanks again @chris-lear.  I am almost there.  Your code supplies all the correct results from the first search(A01   111) etc. in the correct place but only one result per batch from the second search(THN ..........). In the example above there are for instance three lines that start with &#39;THN&#39; All three must appear before the first search restarts. Many thanks for the contributions you have made."}], "tags": [], "owner": {"reputation": 5857, "user_id": 3641043, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/74c0ec8d28ab4d6293a67c4ca9d56178?s=128&d=identicon&r=PG", "display_name": "Chris Lear", "link": "https://stackoverflow.com/users/3641043/chris-lear"}, "is_accepted": false, "score": 0, "last_activity_date": 1456239531, "last_edit_date": 1456239531, "creation_date": 1456227198, "answer_id": 35576444, "question_id": 35575502, "link": "https://stackoverflow.com/questions/35575502/perl-regex-more-than-one-line-to-match-and-output/35576444#35576444", "title": "Perl regex: More than one line to match and output", "body": "<p>It's not easy to know exactly what you're trying to do, but maybe you need an inner loop.</p>\n\n<p>Something like this</p>\n\n<pre><code>while ( my $line = &lt;INPUT&gt; ) {\n\n    if($line =~ /\\s{6,11}(\\w{1}\\d{1}\\w{0,5})\\s{0,5}(\\d{3})/) {\n        my @c_no = \"$1,$2\\n\";\n        foreach (@c_no) {\n            print OUTPUT $_;\n        }\n        while ( my $line = &lt;INPUT&gt; ) {\n            if ($line =~ /^(\\s{1}THN)(\\s{1,3}\\d{0,2}.\\d)(\\s{1,3}\\d{0,2}.\\d)(\\s{1,2}\\d{0,1}.\\d{4})(\\s{1,2}\\d{2,4})\n                (\\s{2,3}\\d{1,2})(\\s{1,6}\\d{1,4})(\\s{1,2}\\d{1,2})(\\s{1,5}\\d{1,4})(\\s{1,4}\\d{1,4})\n                (\\s{1,4}\\d{1,4})(\\s{1,4}\\d{1,4})(\\s{1,4}\\d{1,4})(\\s{1,4}\\d{1,4})|(^1(P1))/x){\n\n                print OUTPUT \"$1,$2,$3,$4,$5,$6,$7,$8,$9,$10,$11,$12,$13,$14\\n\";\n                last;\n            }\n        }\n    }\n}\n</code></pre>\n"}, {"comments": [{"owner": {"reputation": 353, "user_id": 3529474, "user_type": "registered", "accept_rate": 41, "profile_image": "https://www.gravatar.com/avatar/9f5cdfff81c7ad3743905b036deaf497?s=128&d=identicon&r=PG&f=1", "display_name": "jlb333333", "link": "https://stackoverflow.com/users/3529474/jlb333333"}, "edited": false, "score": 0, "creation_date": 1456250345, "post_id": 35581335, "comment_id": 58856178, "body": "Thank you for your comments and code @Sobrique. Please see my added edits to the question above. I was not clear enough. In the case of the example C03  103 was required. These variables change. However, as I stated in my edit just supplying the line they contain would be enough. Your code in both  cases finds all the correct &#39;THN...&#39; lines in the correct places. However, in both cases the code outputs the lines starting with &#39;AGE...&#39; which is not required. I have tried to adapt it to pick up the &#39;1(P1)...&#39; line without success. Thank you for your insightful input."}, {"owner": {"reputation": 353, "user_id": 3529474, "user_type": "registered", "accept_rate": 41, "profile_image": "https://www.gravatar.com/avatar/9f5cdfff81c7ad3743905b036deaf497?s=128&d=identicon&r=PG&f=1", "display_name": "jlb333333", "link": "https://stackoverflow.com/users/3529474/jlb333333"}, "edited": false, "score": 0, "creation_date": 1456250688, "post_id": 35581335, "comment_id": 58856358, "body": "Also,  @Sobrique the &#39;THN&#39; lines are output with &#39;HASH(0x6b0f70) &#39; at the beginning of the line."}, {"owner": {"reputation": 353, "user_id": 3529474, "user_type": "registered", "accept_rate": 41, "profile_image": "https://www.gravatar.com/avatar/9f5cdfff81c7ad3743905b036deaf497?s=128&d=identicon&r=PG&f=1", "display_name": "jlb333333", "link": "https://stackoverflow.com/users/3529474/jlb333333"}, "edited": false, "score": 0, "creation_date": 1456251748, "post_id": 35581335, "comment_id": 58856983, "body": "@Sobriquet.  I have checked the output after correctly applying your code(2nd example) in my code and replacing my first search requirements in your code.  It is now outputting the two variables correctly.  I have for some reason not been able to remove the &#39;AGE...&#39; line from the output. The &#39;THN...&#39; line now begins with &#39;HASH(0xd6fdc8) &#39;"}, {"owner": {"reputation": 353, "user_id": 3529474, "user_type": "registered", "accept_rate": 41, "profile_image": "https://www.gravatar.com/avatar/9f5cdfff81c7ad3743905b036deaf497?s=128&d=identicon&r=PG&f=1", "display_name": "jlb333333", "link": "https://stackoverflow.com/users/3529474/jlb333333"}, "edited": false, "score": 0, "creation_date": 1456252192, "post_id": 35581335, "comment_id": 58857250, "body": "The &#39;HASH(0x6abd28)&#39; seems to preceed the line with the two variables as well."}, {"owner": {"reputation": 353, "user_id": 3529474, "user_type": "registered", "accept_rate": 41, "profile_image": "https://www.gravatar.com/avatar/9f5cdfff81c7ad3743905b036deaf497?s=128&d=identicon&r=PG&f=1", "display_name": "jlb333333", "link": "https://stackoverflow.com/users/3529474/jlb333333"}, "edited": false, "score": 0, "creation_date": 1456253402, "post_id": 35581335, "comment_id": 58857943, "body": "OK @Sobrique. I left your &#39;Dumper&#39; in the code, (I replaced it with OUTPUT) and all the &#39;HASH........&#39;es have disappeared. Sorry. Could you help me get rid of the &#39;AGE...&#39; line please."}, {"owner": {"reputation": 51521, "user_id": 2566198, "user_type": "registered", "accept_rate": 67, "profile_image": "https://i.stack.imgur.com/Y34ZA.jpg?s=128&g=1", "display_name": "Sobrique", "link": "https://stackoverflow.com/users/2566198/sobrique"}, "reply_to_user": {"reputation": 353, "user_id": 3529474, "user_type": "registered", "accept_rate": 41, "profile_image": "https://www.gravatar.com/avatar/9f5cdfff81c7ad3743905b036deaf497?s=128&d=identicon&r=PG&f=1", "display_name": "jlb333333", "link": "https://stackoverflow.com/users/3529474/jlb333333"}, "edited": false, "score": 0, "creation_date": 1456260195, "post_id": 35581335, "comment_id": 58861893, "body": "<code>print if &#47;^THN&#47;;</code> will do it."}, {"owner": {"reputation": 353, "user_id": 3529474, "user_type": "registered", "accept_rate": 41, "profile_image": "https://www.gravatar.com/avatar/9f5cdfff81c7ad3743905b036deaf497?s=128&d=identicon&r=PG&f=1", "display_name": "jlb333333", "link": "https://stackoverflow.com/users/3529474/jlb333333"}, "edited": false, "score": 0, "creation_date": 1456297760, "post_id": 35581335, "comment_id": 58876350, "body": "Thank you again @Sobrique.  Can I ask one last favour. Could we put the &#39;C03   103&#39; entries on the same line as the applicable &#39;THN&#39; entries?  Not what I originally asked for but for me eminently better.  No more requests after this."}, {"owner": {"reputation": 353, "user_id": 3529474, "user_type": "registered", "accept_rate": 41, "profile_image": "https://www.gravatar.com/avatar/9f5cdfff81c7ad3743905b036deaf497?s=128&d=identicon&r=PG&f=1", "display_name": "jlb333333", "link": "https://stackoverflow.com/users/3529474/jlb333333"}, "edited": false, "score": 0, "creation_date": 1456298486, "post_id": 35581335, "comment_id": 58876660, "body": "ie. the &#39;C03  103&#39; in the beginning of each of its relevant &#39;THN&#39;s. Appreciate the help. @Sobrique."}, {"owner": {"reputation": 51521, "user_id": 2566198, "user_type": "registered", "accept_rate": 67, "profile_image": "https://i.stack.imgur.com/Y34ZA.jpg?s=128&g=1", "display_name": "Sobrique", "link": "https://stackoverflow.com/users/2566198/sobrique"}, "reply_to_user": {"reputation": 353, "user_id": 3529474, "user_type": "registered", "accept_rate": 41, "profile_image": "https://www.gravatar.com/avatar/9f5cdfff81c7ad3743905b036deaf497?s=128&d=identicon&r=PG&f=1", "display_name": "jlb333333", "link": "https://stackoverflow.com/users/3529474/jlb333333"}, "edited": false, "score": 0, "creation_date": 1456304672, "post_id": 35581335, "comment_id": 58880068, "body": "You have the tools you need in front of you."}, {"owner": {"reputation": 353, "user_id": 3529474, "user_type": "registered", "accept_rate": 41, "profile_image": "https://www.gravatar.com/avatar/9f5cdfff81c7ad3743905b036deaf497?s=128&d=identicon&r=PG&f=1", "display_name": "jlb333333", "link": "https://stackoverflow.com/users/3529474/jlb333333"}, "edited": false, "score": 0, "creation_date": 1456583689, "post_id": 35581335, "comment_id": 59021138, "body": "Thank you for all your help @Sobrique. I realize you do not have time to re-look at things like this. I have changed my expected result requirement in my question to include quite a big modification regarding including the age applicable to the &#39;THN&#39; line following it. These things are too difficult for me. If you can find the time to look at my revised requirement, I would appreciate it. I just did not realize this until now."}, {"owner": {"reputation": 51521, "user_id": 2566198, "user_type": "registered", "accept_rate": 67, "profile_image": "https://i.stack.imgur.com/Y34ZA.jpg?s=128&g=1", "display_name": "Sobrique", "link": "https://stackoverflow.com/users/2566198/sobrique"}, "reply_to_user": {"reputation": 353, "user_id": 3529474, "user_type": "registered", "accept_rate": 41, "profile_image": "https://www.gravatar.com/avatar/9f5cdfff81c7ad3743905b036deaf497?s=128&d=identicon&r=PG&f=1", "display_name": "jlb333333", "link": "https://stackoverflow.com/users/3529474/jlb333333"}, "edited": false, "score": 0, "creation_date": 1456585753, "post_id": 35581335, "comment_id": 59021864, "body": "Questions are free.  Asking a new question if you have a new question is no bad thing."}], "tags": [], "owner": {"reputation": 51521, "user_id": 2566198, "user_type": "registered", "accept_rate": 67, "profile_image": "https://i.stack.imgur.com/Y34ZA.jpg?s=128&g=1", "display_name": "Sobrique", "link": "https://stackoverflow.com/users/2566198/sobrique"}, "is_accepted": false, "score": 2, "last_activity_date": 1456260912, "last_edit_date": 1456260912, "creation_date": 1456240812, "answer_id": 35581335, "question_id": 35575502, "link": "https://stackoverflow.com/questions/35575502/perl-regex-more-than-one-line-to-match-and-output/35581335#35581335", "title": "Perl regex: More than one line to match and output", "body": "<p>Honestly - for what you're trying to do, the answer is probably <em>not</em> a complicated regex. </p>\n\n<p>I mean, based on what you've specified, this will do it:</p>\n\n<pre><code>#!/usr/bin/env perl\n\nuse strict;\nuse warnings;\n\nwhile ( &lt;&gt; ) {\n    if ( m/PROCESSED/ ) { \n        print join \" \",m/(\\w+)\\s+(\\w+)\\s+PROCESSED/,\"\\n\";\n    }\n    print if /^THN/;\n}\n</code></pre>\n\n<p>If your thing is more complicated than that, I'd suggest rather than regexing each line, you can instead:</p>\n\n<pre><code>#!/usr/bin/env perl\n\nuse strict;\nuse warnings;\n\nmy @header;\nwhile (&lt;&gt;) {\n   if ( m/PROCESSED/ ) { \n        print join \" \",m/(\\w+)\\s+(\\w+)\\s+PROCESSED/,\"\\n\";\n    }\n    if (m/AGE/) {\n      chomp( @header = split );\n   }\n   my %this_row;\n   @this_row{@header} = split;\n   if ( $this_row{AGE} and $this_row{AGE} eq \"THN\" ) { \n        print join (\"\\t\", @this_row{@header[0..13]}),\"\\n\";\n   }\n}\n</code></pre>\n\n<p>This makes use of hash slicing, to store each row as a hash, based on that header row. This is useful, because it means you can refer to elements by heading. E.g. </p>\n\n<pre><code>$this_row{AGE};\n</code></pre>\n\n<p>Overkill if you just want to print as you go though, where the first answer will do. </p>\n\n<p>Based on comments:</p>\n\n<ul>\n<li><code>Data::Dumper</code> is a way of printing a data structure (like a hash). Just removing it won't work, because you need to 'handle' printing the hash.</li>\n<li>You've got a line with <code>THN</code> in it. But you can still use the first snippet if you use <code>/^THN/</code> instead. </li>\n</ul>\n"}], "owner": {"reputation": 353, "user_id": 3529474, "user_type": "registered", "accept_rate": 41, "profile_image": "https://www.gravatar.com/avatar/9f5cdfff81c7ad3743905b036deaf497?s=128&d=identicon&r=PG&f=1", "display_name": "jlb333333", "link": "https://stackoverflow.com/users/3529474/jlb333333"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 162, "favorite_count": 0, "answer_count": 2, "score": 3, "last_activity_date": 1456583315, "creation_date": 1456224737, "last_edit_date": 1456583315, "question_id": 35575502, "link": "https://stackoverflow.com/questions/35575502/perl-regex-more-than-one-line-to-match-and-output", "title": "Perl regex: More than one line to match and output", "body": "<p>Most of my Perl regex successes were by accident but can't get this one at the moment.   I need another accident.<br>\nI think I am nearly there with this problem and my effort is as follows:  </p>\n\n<pre><code>while ( my $line = &lt;INPUT&gt; ) {\n\n                if($line =~ /\\s{6,11}(\\w{1}\\d{1}\\w{0,5})\\s{0,5}(\\d{3})/) {\n                my @c_no = \"$1,$2\\n\";   \n                foreach (@c_no) {\n                print OUTPUT $_;                    \n                }\n                if ($line =~ /^(\\s{1}THN)(\\s{1,3}\\d{0,2}.\\d)(\\s{1,3}\\d{0,2}.\\d)(\\s{1,2}\\d{0,1}.\\d{4})(\\s{1,2}\\d{2,4})\n                            (\\s{2,3}\\d{1,2})(\\s{1,6}\\d{1,4})(\\s{1,2}\\d{1,2})(\\s{1,5}\\d{1,4})(\\s{1,4}\\d{1,4})\n                            (\\s{1,4}\\d{1,4})(\\s{1,4}\\d{1,4})(\\s{1,4}\\d{1,4})(\\s{1,4}\\d{1,4})|(^1(P1))/x){\n\n                print OUTPUT \"$1,$2,$3,$4,$5,$6,$7,$8,$9,$10,$11,$12,$13,$14\\n\";\n                }           \n                }\n                }\n</code></pre>\n\n<p>I am trying to read a file, print the first match(first 'if..') to output, look for the second match(second 'if..'), output it or them, and then look further for the first match, and so on.<br>\nThe above code prints only the first matches.<br>\nI can get it to print the second with the code changed, but not both.<br>\nI think I am nearly there and it might need just a change in the position of the curly brackets.</p>\n\n<p>The input file looks +- as follows:</p>\n\n<pre><code>1(P1)      3 P.ell    05/0120 W/P068819 0 12.0 98/99  380 380           C03     103          PROCESSED 18/02/16 TIME 19.07.50 KSINA=8\n\nAGE  DBH   HT  VTREE  SPH  BA  TOTAL WS  UTIL    S    A    B    C    D   TCAI   CTCAI  TMAI   UCAI CUCAI  UMAI   SCAI CSCAI  SMAI IAGE\n\n  1   .0   .2  .0000  979   0      0  0     0    0    0    0    0    0     .0     0    .0     .0     0    .0     .0     0    .0  1.0\n  2   .0   .9  .0000  979   0      0  0     0    0    0    0    0    0     .0     0    .0     .0     0    .0     .0     0    .0  2.0\n  3  3.9  2.0  .0007  979   1      1  1     0    0    0    0    0    0     .7     1    .2     .0     0    .0     .0     0    .0  3.0\n  4  7.1  3.4  .0041  979   4      4  3     1    1    0    0    0    0    3.4     4   1.0     .6     1    .2     .0     0    .0  4.0\n  5  9.4  4.6  .0102  979   7     10  5     5    5    0    0    0    0    5.9    10   2.0    4.1     5    .9     .0     0    .0  5.0\n  6 11.3  5.7  .0188  979  10     18  6    12   12    1    0    0    0    8.4    18   3.1    7.5    12   2.0     .0     0    .0  6.0\n  7 13.0  6.7  .0293  979  13     29  7    22   19    3    0    0    0   10.3    29   4.1    9.7    22   3.1     .0     0    .0  7.0\n                   17%                                                                                                           \nTHN 11.4  6.7  .0230  164   2      4  1     3    2    0    0    0    0                                                              \nREM 13.4  6.7  .0315  815  12     26  6    20   17    3    0    0    0                                                              \n\n  8 15.0  7.6  .0453  815  14     37  6    31   21   10    0    0    0   11.2    40   5.0   10.9    33   4.1     .0     0    .0  7.6\n  9 16.4  8.5  .0607  815  17     49  6    43   23   20    0    0    0   12.5    52   5.8   12.2    45   5.0     .2     0    .0  8.6\n 10 17.4  9.4  .0771  815  19     63  7    56   24   30    2    0    0   13.4    66   6.6   13.1    58   5.8    1.3     2    .2  9.6\n 11 18.3 10.3  .0941  815  21     77  7    70   24   41    5    0    0   13.9    80   7.3   13.6    72   6.5    3.0     5    .4 10.6\n 12 19.0 11.3  .1118  815  23     91  7    84   24   50   10    0    0   14.4    94   7.8   14.1    86   7.2    5.4    10    .8 11.6\n 13 19.6 12.2  .1299  815  25    106  8    98   24   56   18    0    0   14.7   109   8.4   14.4   100   7.7    8.0    18   1.4 12.6\n                   33%                                                                                                           \nTHN 17.5 12.2  .1044  265   6     28  2    25    8   15    3    0    0                                                              \nREM 20.6 12.2  .1421  550  18     78  5    73   16   42   15    0    0                                                              \n\n 14 21.3 13.0  .1636  550  20     90  6    84   16   44   25    0    0   11.8   121   8.6   11.6   112   8.0   10.0    28   2.0 10.4\n 15 22.0 13.7  .1864  550  21    103  6    97   16   45   36    0    0   12.5   133   8.9   12.3   124   8.3   11.0    39   2.6 11.2\n 16 22.7 14.5  .2100  550  22    116  6   109   15   46   48    0    0   13.0   146   9.1   12.7   137   8.6   12.0    51   3.2 12.0\n 17 23.3 15.3  .2345  550  23    129  6   123   15   46   61    0    0   13.5   160   9.4   13.2   150   8.8   12.9    64   3.8 12.8\n 18 23.9 15.9  .2598  550  25    143  7   136   15   46   74    1    0   13.9   174   9.6   13.6   164   9.1   13.8    78   4.3 13.6\n                   40%                                                                                                           \nTHN 21.6 15.9  .2142  220   8     47  2    45    6   19   20    0    0                                                              \nREM 25.3 15.9  .2901  330  17     96  4    92    9   28   54    1    0                                                              \n\n 19 26.0 16.6  .3203  330  17    106  4   101    9   27   63    3    0   10.0   184   9.7    9.8   174   9.1   10.5    88   4.6 11.0\n 20 26.6 17.3  .3519  330  18    116  5   112    9   27   71    5    0   10.4   194   9.7   10.2   184   9.2   10.6    99   4.9 11.7\n 21 27.2 18.0  .3849  330  19    127  5   122    9   27   80    8    0   10.9   205   9.8   10.7   194   9.3   11.1   110   5.2 12.4\n</code></pre>\n\n<p>Expected result:</p>\n\n<pre><code> C03     103                                                         \n THN  7 11.4  6.7  .0230  164   2      4  1     3    2    0    0    0    0                                                              \n THN 13 17.5 12.2  .1044  265   6     28  2    25    8   15    3    0    0                                                              \n THN 18 21.6 15.9  .2142  220   8     47  2    45    6   19   20    0    0\n C04 103\n THN etc.\n.\n.\n.\n.\n</code></pre>\n\n<p>Or just:  </p>\n\n<pre><code>1(P1)      3 P.ell    05/0120 W/P068819 0 12.0 98/99  380 380           C03     103          PROCESSED 21/02/16 TIME 22.16.52 KSINA=8  \nTHN  7 11.4  6.7  .0230  164   2      4  1     3    2    0    0    0    0                                                              \nTHN 13 17.5 12.2  .1044  265   6     28  2    25    8   15    3    0    0                                                              \nTHN 18 21.6 15.9  .2142  220   8     47  2    45    6   19   20    0    0\nC04 103\nTHN etc.\n.\n.\n.\n.\n</code></pre>\n\n<p>I added the second expected result option because my question was not clear enough.  </p>\n\n<p>The 'C03    103' line was for the example input text I gave (above).  </p>\n\n<p>These two variables will change to 'C04   103' or 'A03a  104'  or 'D051a   101' etc.   </p>\n\n<p>If the result can just supply the line containing those variables 1(P1)  ..... that will be enough.  </p>\n\n<p>The data comes in repeated batches with the start line 1(P1).....   </p>\n\n<p>See example above.</p>\n\n<p>Many thanks for the help.  I am almost there.</p>\n\n<p>My final edit, if this helps:  </p>\n\n<p>The full normal input batch is as follows.  I cut some out to save space.  </p>\n\n<p>Probably not a good idea:  </p>\n\n<pre><code>1(P1)      3 P.ell    05/0120 W/P068819 0 12.0 98/99  380 380           C03     104          PROCESSED 21/02/16 TIME 22.16.52 KSINA=8\n\nAGE   SPH   %THN  %INC     SV SI   MAI20  HTPC  VIPC   AGE BA  DBH   HT  SPH   CIH% CIV%    CVD BCON    CMAI      C0   C0CAL    SI20\n0  1100     .0  89.0%SPH  2  2     .00    .0    .0 20.00  1   .0 17.3    0     .0   .0     .0   .0    .0000    .000    0%      .00\n7   815   25.9    .0      2  2    9.90  75.5  47.2 20.00  1 26.6 17.3  330     .0   .0     .0 13.0    .2099   1.005   .000   17.30\n13   550   32.5    .0                                                                                                              \n18   330   40.0    .0                                                                                                              \n45     0  100.0    .0                                                                                                              \n0SQ     -4  -4  -4  = SI20  17 17 17              PLANTN---104 GREEN MEADOWS       MODEL---P.ELLIOTTII MAC MAC   SQ    10 SI20  22.90\nHTPC   76  76  76  =MAI20  10 10 10 FROM HTPC                                                                   HTPC 100 MAI20 20.71\nVIPC   47  47  47  =MAI20  10 10 10              HTPC/VIPC REGRESSION---P.ELLIOTTII GENERAL 1/83                VIPC 100 MAI20 20.99\n                 MAIDBH     0                                                                                                    \n                 INMAI==&gt;   0                                                                                                    \n0INPUT FOR CALCULATING HTPC &amp; VIPC =  HT  ---- ----                                                                                  \n\nAGE  DBH   HT  VTREE  SPH  BA  TOTAL WS  UTIL    S    A    B    C    D   TCAI CTCAI  TMAI   UCAI CUCAI  UMAI   SCAI CSCAI  SMAI IAGE\n\n1   .0   .2  .0000  979   0      0  0     0    0    0    0    0    0     .0     0    .0     .0     0    .0     .0     0    .0  1.0\n2   .0   .9  .0000  979   0      0  0     0    0    0    0    0    0     .0     0    .0     .0     0    .0     .0     0    .0  2.0\n3  3.9  2.0  .0007  979   1      1  1     0    0    0    0    0    0     .7     1    .2     .0     0    .0     .0     0    .0  3.0\n4  7.1  3.4  .0041  979   4      4  3     1    1    0    0    0    0    3.4     4   1.0     .6     1    .2     .0     0    .0  4.0\n5  9.4  4.6  .0102  979   7     10  5     5    5    0    0    0    0    5.9    10   2.0    4.1     5    .9     .0     0    .0  5.0\n6 11.3  5.7  .0188  979  10     18  6    12   12    1    0    0    0    8.4    18   3.1    7.5    12   2.0     .0     0    .0  6.0\n7 13.0  6.7  .0293  979  13     29  7    22   19    3    0    0    0   10.3    29   4.1    9.7    22   3.1     .0     0    .0  7.0\n                   17%                                                                                                           \nTHN 11.4  6.7  .0230  164   2      4  1     3    2    0    0    0    0                                                              \nREM 13.4  6.7  .0315  815  12     26  6    20   17    3    0    0    0                                                              \n\n 8 15.0  7.6  .0453  815  14     37  6    31   21   10    0    0    0   11.2    40   5.0   10.9    33   4.1     .0     0    .0  7.6\n 9 16.4  8.5  .0607  815  17     49  6    43   23   20    0    0    0   12.5    52   5.8   12.2    45   5.0     .2     0    .0  8.6\n10 17.4  9.4  .0771  815  19     63  7    56   24   30    2    0    0   13.4    66   6.6   13.1    58   5.8    1.3     2    .2  9.6\n11 18.3 10.3  .0941  815  21     77  7    70   24   41    5    0    0   13.9    80   7.3   13.6    72   6.5    3.0     5    .4 10.6\n12 19.0 11.3  .1118  815  23     91  7    84   24   50   10    0    0   14.4    94   7.8   14.1    86   7.2    5.4    10    .8 11.6\n13 19.6 12.2  .1299  815  25    106  8    98   24   56   18    0    0   14.7   109   8.4   14.4   100   7.7    8.0    18   1.4 12.6\n                   33%                                                                                                           \nTHN 17.5 12.2  .1044  265   6     28  2    25    8   15    3    0    0                                                              \nREM 20.6 12.2  .1421  550  18     78  5    73   16   42   15    0    0                                                              \n\n14 21.3 13.0  .1636  550  20     90  6    84   16   44   25    0    0   11.8   121   8.6   11.6   112   8.0   10.0    28   2.0 10.4\n15 22.0 13.7  .1864  550  21    103  6    97   16   45   36    0    0   12.5   133   8.9   12.3   124   8.3   11.0    39   2.6 11.2\n16 22.7 14.5  .2100  550  22    116  6   109   15   46   48    0    0   13.0   146   9.1   12.7   137   8.6   12.0    51   3.2 12.0\n17 23.3 15.3  .2345  550  23    129  6   123   15   46   61    0    0   13.5   160   9.4   13.2   150   8.8   12.9    64   3.8 12.8\n18 23.9 15.9  .2598  550  25    143  7   136   15   46   74    1    0   13.9   174   9.6   13.6   164   9.1   13.8    78   4.3 13.6\n                   40%                                                                                                           \nTHN 21.6 15.9  .2142  220   8     47  2    45    6   19   20    0    0                                                              \nREM 25.3 15.9  .2901  330  17     96  4    92    9   28   54    1    0                                                              \n\n19 26.0 16.6  .3203  330  17    106  4   101    9   27   63    3    0   10.0   184   9.7    9.8   174   9.1   10.5    88   4.6 11.0\n20 26.6 17.3  .3519  330  18    116  5   112    9   27   71    5    0   10.4   194   9.7   10.2   184   9.2   10.6    99   4.9 11.7\n21 27.2 18.0  .3849  330  19    127  5   122    9   27   80    8    0   10.9   205   9.8   10.7   194   9.3   11.1   110   5.2 12.4\n22 27.9 18.7  .4192  330  20    138  5   133    8   26   87   11    0   11.3   216   9.8   11.1   206   9.3   11.5   121   5.5 13.2\n23 28.4 19.3  .4546  330  21    150  5   145    8   26   94   16    0   11.7   228   9.9   11.4   217   9.4   11.8   133   5.8 14.0\n24 29.0 20.0  .4914  330  22    162  5   157    8   26  101   22    0   12.2   240  10.0   11.9   229   9.5   12.3   145   6.1 14.9\n25 29.6 20.6  .5292  330  23    175  6   169    8   25  106   29    0   12.5   253  10.1   12.2   241   9.6   12.6   158   6.3 15.7\n26 30.2 21.2  .5682  330  24    188  6   182    8   25  112   37    0   12.9   265  10.2   12.6   254   9.8   13.0   171   6.6 16.5\n27 30.7 21.8  .6083  330  25    201  6   194    8   25  115   46    0   13.2   279  10.3   13.0   267   9.9   13.3   184   6.8 17.3\n28 31.3 22.4  .6492  330  25    214  7   208    8   24  119   56    1   13.5   292  10.4   13.2   280  10.0   13.6   198   7.1 18.2\n29 31.9 23.0  .6908  330  26    228  7   221    8   24  122   65    2   13.7   306  10.5   13.5   293  10.1   13.8   212   7.3 19.0\n30 32.4 23.5  .7332  330  27    242  7   235    8   24  123   77    3   14.0   320  10.7   13.7   307  10.2   14.0   226   7.5 19.8\n31 33.0 23.9  .7766  330  28    256  7   249    8   24  125   88    5   14.3   334  10.8   14.0   321  10.4   14.3   240   7.7 20.4\n32 33.6 24.4  .8202  330  29    271  8   263    8   23  126   99    7   14.4   349  10.9   14.1   335  10.5   14.4   255   8.0 21.0\n</code></pre>\n\n<p>Final, Final Edit: I forgot to state that I need to read off the last age recorded just before the 'THN' line. This age reading refers to the 'THN' line immediately below it. I have modified the expected output to include the age reading after the 'THN' entry.</p>\n\n<p>I had not realized this until now and therefore it did not appear in my attempted code.</p>\n"}, {"tags": ["perl", "win32ole"], "comments": [{"owner": {"reputation": 113221, "user_id": 100754, "user_type": "registered", "accept_rate": 90, "profile_image": "https://www.gravatar.com/avatar/7804ebae32fbadef38537d74a915c22f?s=128&d=identicon&r=PG", "display_name": "Sinan &#220;n&#252;r", "link": "https://stackoverflow.com/users/100754/sinan-%c3%9cn%c3%bcr"}, "edited": false, "score": 2, "creation_date": 1456226745, "post_id": 35570803, "comment_id": 58838977, "body": "<code>use Win32::OLE::Const &quot;Microsoft Office .* Object Library&quot;;</code> see <a href=\"http://www.perlmonks.org/bare/?node_id=918381\" rel=\"nofollow noreferrer\">this PerlMonks thread</a>."}], "owner": {"reputation": 33, "user_id": 5871358, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/aabc9c40e8dd4bb6057833e1b659b58b?s=128&d=identicon&r=PG&f=1", "display_name": "genji333", "link": "https://stackoverflow.com/users/5871358/genji333"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 410, "favorite_count": 0, "answer_count": 0, "score": 1, "last_activity_date": 1456210727, "creation_date": 1456210727, "question_id": 35570803, "link": "https://stackoverflow.com/questions/35570803/using-perl-win32ole-in-windows", "title": "Using perl Win32::OLE in Windows", "body": "<p>I am using Win32::OLE to automate the process of inserting images to a Word document. After some research, I included the following lines:</p>\n\n<pre><code>use Win32::OLE;\nuse Win32::OLE::Const 'Microsoft.Word';    # wd  constants\nuse Win32::OLE::Const 'Microsoft Office';  # mso constants\n</code></pre>\n\n<p>Then, I included the subroutine as follow:</p>\n\n<pre><code>sub insert_picture {\nmy $document = shift;\nmy $file     = shift;\nmy $left     = shift;\nmy $top      = shift;\nmy $width    = shift;\nmy $height   = shift;\n\nmy $picture = \n  $document-&gt; Shapes -&gt; AddPicture (\n  $file, \n  msoFalse, # link to file\n  msoTrue,  # save with document\n  $left, $top, $width, $height, \n  $document-&gt;ActiveWindow-&gt;Selection-&gt;{Range}\n);\n  return $picture;\n}\n</code></pre>\n\n<p>When I tried to run the script, I got the error as follow:</p>\n\n<p>Bareword \"msoFalse\" not allowed while \"strict subs\" in use at xxx.pl...</p>\n\n<p>Bareword \"msoTrue\" not allowed while \"strict subs\" in use at xxx.pl...</p>\n\n<p>The perl version that I am using is 5.14.2, DWIMPerl.</p>\n\n<p>Any idea what is possible problem here? All comments are very much appreciated. </p>\n"}, {"tags": ["perl", "date"], "comments": [{"owner": {"reputation": 1, "user_id": 5966736, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/d41241ecd37a8976e70b70c04312995c?s=128&d=identicon&r=PG", "display_name": "tspd", "link": "https://stackoverflow.com/users/5966736/tspd"}, "reply_to_user": {"reputation": 7483, "user_id": 1307183, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/m8uVk.png?s=128&g=1", "display_name": "Jason Roman", "link": "https://stackoverflow.com/users/1307183/jason-roman"}, "edited": false, "score": 0, "creation_date": 1456219994, "post_id": 35570497, "comment_id": 58834204, "body": "Hi, I tried using DateTime-&gt;new( ... ) class method .. But i coudnt able to get proper result."}, {"owner": {"reputation": 3327, "user_id": 1604311, "user_type": "registered", "accept_rate": 73, "profile_image": "https://i.stack.imgur.com/0frKT.jpg?s=128&g=1", "display_name": "Arunesh Singh", "link": "https://stackoverflow.com/users/1604311/arunesh-singh"}, "edited": false, "score": 0, "creation_date": 1456228666, "post_id": 35570497, "comment_id": 58840332, "body": "Indian standard time is <code>IST</code> not <code>ISD</code>."}, {"owner": {"reputation": 62184, "user_id": 7231, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/81b76985f3985e35492e25880493d045?s=128&d=identicon&r=PG", "display_name": "Dave Cross", "link": "https://stackoverflow.com/users/7231/dave-cross"}, "edited": false, "score": 1, "creation_date": 1456234478, "post_id": 35570497, "comment_id": 58844353, "body": "&quot;I tried using DateTime-&gt;new( ... ) class method&quot; Show us exactly what you have tried and you might get some more helpful answers."}], "answers": [{"tags": [], "owner": {"reputation": 62184, "user_id": 7231, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/81b76985f3985e35492e25880493d045?s=128&d=identicon&r=PG", "display_name": "Dave Cross", "link": "https://stackoverflow.com/users/7231/dave-cross"}, "is_accepted": false, "score": 1, "last_activity_date": 1456219625, "last_edit_date": 1456219625, "creation_date": 1456219043, "answer_id": 35573370, "question_id": 35570497, "link": "https://stackoverflow.com/questions/35570497/subtracting-the-given-specific-time-that-changes-the-date/35573370#35573370", "title": "Subtracting the given specific time that changes the date :", "body": "<p>I'm not going to give you the actual code as you haven't demonstrated that you have made any effort to solve this yourself.</p>\n\n<p>But the way to do this is to use a real Date/Time handling library. In Perl, that probably means <a href=\"https://metacpan.org/pod/DateTime\" rel=\"nofollow\">DateTime</a>. You can use <a href=\"https://metacpan.org/pod/DateTime::Format::Strptime\" rel=\"nofollow\">DateTime::Format::Strptime</a> to generate a DateTime object from a string.</p>\n\n<p>In summary, your approach should be:</p>\n\n<ul>\n<li>Parse your string into a DateTime object (being careful to ensure that the parsing object knows that the time zone is ISD (Icelandic time, I assume [<strong>Update:</strong> or, more likely, Indian]).</li>\n<li>Convert the time zone in your parsed object to EET.</li>\n<li>Use the parsed object's <code>strftime</code> method to produce the output time in the correct output.</li>\n</ul>\n\n<p><strong>Update:</strong> And I'll just add the standard advice about handling dates and times. You should always transmit and store dates and times in UTC. Local time zones should only every be displayed to users.</p>\n"}], "owner": {"reputation": 1, "user_id": 5966736, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/d41241ecd37a8976e70b70c04312995c?s=128&d=identicon&r=PG", "display_name": "tspd", "link": "https://stackoverflow.com/users/5966736/tspd"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 60, "favorite_count": 0, "answer_count": 1, "score": -1, "last_activity_date": 1456285779, "creation_date": 1456209378, "last_edit_date": 1456285779, "question_id": 35570497, "link": "https://stackoverflow.com/questions/35570497/subtracting-the-given-specific-time-that-changes-the-date", "title": "Subtracting the given specific time that changes the date :", "body": "<p>I have to convert <strong>IST</strong>(India) to <strong>EET</strong>(Finland) timing using perl or shell ...\nMeans i have to subtract 3 hours,30 minutes from a given specific (ISD)time (not from the current time).\nTime is in this format: YYYY-MM-DD HH:MM:SS</p>\n\n<p>For ex:     IST:    2016-01-01 02:30:00                                                                          </p>\n\n<p>Then after subtracting 3hours and 30 minutes ,I should get, </p>\n\n<pre><code>        EET:   2015-12-31 23:00:00\n</code></pre>\n\n<p>The thing is after subtracting,if required the date,month and year should also change.</p>\n\n<p>Can i do this using perl? Can anyone help me on this?</p>\n"}, {"tags": ["string", "perl", "increment"], "comments": [{"owner": {"reputation": 61610, "user_id": 725418, "user_type": "registered", "accept_rate": 86, "profile_image": "https://www.gravatar.com/avatar/82ac2dc3e1ad4b7187f245c416528df9?s=128&d=identicon&r=PG", "display_name": "TLP", "link": "https://stackoverflow.com/users/725418/tlp"}, "edited": false, "score": 3, "creation_date": 1456203990, "post_id": 35569223, "comment_id": 58826223, "body": "<code>$amount++; $result = &quot;Result: $amount&quot;;</code>?"}, {"owner": {"reputation": 381798, "user_id": 1863229, "user_type": "registered", "accept_rate": 58, "profile_image": "https://i.stack.imgur.com/4sh1l.png?s=128&g=1", "display_name": "Tim Biegeleisen", "link": "https://stackoverflow.com/users/1863229/tim-biegeleisen"}, "reply_to_user": {"reputation": 61610, "user_id": 725418, "user_type": "registered", "accept_rate": 86, "profile_image": "https://www.gravatar.com/avatar/82ac2dc3e1ad4b7187f245c416528df9?s=128&d=identicon&r=PG", "display_name": "TLP", "link": "https://stackoverflow.com/users/725418/tlp"}, "edited": false, "score": 0, "creation_date": 1456204038, "post_id": 35569223, "comment_id": 58826243, "body": "@TLP I think he wants it inline, in the same expression.  That being said, I see nothing wrong with your solution (and I actually prefer it)."}, {"owner": {"reputation": 61610, "user_id": 725418, "user_type": "registered", "accept_rate": 86, "profile_image": "https://www.gravatar.com/avatar/82ac2dc3e1ad4b7187f245c416528df9?s=128&d=identicon&r=PG", "display_name": "TLP", "link": "https://stackoverflow.com/users/725418/tlp"}, "reply_to_user": {"reputation": 381798, "user_id": 1863229, "user_type": "registered", "accept_rate": 58, "profile_image": "https://i.stack.imgur.com/4sh1l.png?s=128&g=1", "display_name": "Tim Biegeleisen", "link": "https://stackoverflow.com/users/1863229/tim-biegeleisen"}, "edited": false, "score": 0, "creation_date": 1456204145, "post_id": 35569223, "comment_id": 58826288, "body": "@TimBiegeleisen That is the same expression. Only separated by a semi-colon. The differences are purely philosophical."}, {"owner": {"reputation": 61610, "user_id": 725418, "user_type": "registered", "accept_rate": 86, "profile_image": "https://www.gravatar.com/avatar/82ac2dc3e1ad4b7187f245c416528df9?s=128&d=identicon&r=PG", "display_name": "TLP", "link": "https://stackoverflow.com/users/725418/tlp"}, "edited": false, "score": 0, "creation_date": 1456204194, "post_id": 35569223, "comment_id": 58826307, "body": "<code>$result = sprintf &quot;Result: %s&quot;, $amount + 1;</code> is one statement, but it does not work any better."}, {"owner": {"reputation": 6258, "user_id": 82262, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/8ce15931410b388a52eb2df4a864137f?s=128&d=identicon&r=PG&f=1", "display_name": "Matt Jacob", "link": "https://stackoverflow.com/users/82262/matt-jacob"}, "edited": false, "score": 1, "creation_date": 1456205330, "post_id": 35569223, "comment_id": 58826753, "body": "This is a strange request. What do you hope to accomplish by doing this?"}, {"owner": {"reputation": 53041, "user_id": 4653379, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/b3953dbedd0dabff5cbc3db9b0835b14?s=128&d=identicon&r=PG&f=1", "display_name": "zdim", "link": "https://stackoverflow.com/users/4653379/zdim"}, "edited": false, "score": 0, "creation_date": 1456213690, "post_id": 35569223, "comment_id": 58830468, "body": "Are you packing a counter inside of a string, where the rest is some description of it?"}, {"owner": {"reputation": 16645, "user_id": 402322, "user_type": "registered", "accept_rate": 67, "profile_image": "https://i.stack.imgur.com/GWEWt.gif?s=128&g=1", "display_name": "ceving", "link": "https://stackoverflow.com/users/402322/ceving"}, "edited": false, "score": 0, "creation_date": 1456215816, "post_id": 35569223, "comment_id": 58831589, "body": "<code>$result = &quot;Result: &quot;.++$amount;</code>"}, {"owner": {"reputation": 320771, "user_id": 589924, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/b2cf53d5a3d25f95c0db4e025aed4153?s=128&d=identicon&r=PG", "display_name": "ikegami", "link": "https://stackoverflow.com/users/589924/ikegami"}, "reply_to_user": {"reputation": 16645, "user_id": 402322, "user_type": "registered", "accept_rate": 67, "profile_image": "https://i.stack.imgur.com/GWEWt.gif?s=128&g=1", "display_name": "ceving", "link": "https://stackoverflow.com/users/402322/ceving"}, "edited": false, "score": 1, "creation_date": 1456242315, "post_id": 35569223, "comment_id": 58850491, "body": "@ceving, <code>++$amount</code> and <code>$amount++</code> return different values."}, {"owner": {"reputation": 16645, "user_id": 402322, "user_type": "registered", "accept_rate": 67, "profile_image": "https://i.stack.imgur.com/GWEWt.gif?s=128&g=1", "display_name": "ceving", "link": "https://stackoverflow.com/users/402322/ceving"}, "reply_to_user": {"reputation": 320771, "user_id": 589924, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/b2cf53d5a3d25f95c0db4e025aed4153?s=128&d=identicon&r=PG", "display_name": "ikegami", "link": "https://stackoverflow.com/users/589924/ikegami"}, "edited": false, "score": 0, "creation_date": 1456242821, "post_id": 35569223, "comment_id": 58850872, "body": "@ikegami It is not clear what has been asked. &quot;incrementing a variable within a string&quot; sounds to me that the result string should contain the incremented value, which means that the value needs to be incremented first."}], "answers": [{"tags": [], "owner": {"reputation": 53041, "user_id": 4653379, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/b3953dbedd0dabff5cbc3db9b0835b14?s=128&d=identicon&r=PG&f=1", "display_name": "zdim", "link": "https://stackoverflow.com/users/4653379/zdim"}, "is_accepted": false, "score": 1, "last_activity_date": 1467398304, "last_edit_date": 1467398304, "creation_date": 1456204311, "answer_id": 35569327, "question_id": 35569223, "link": "https://stackoverflow.com/questions/35569223/add-to-integer-within-string/35569327#35569327", "title": "Add to integer within string?", "body": "<p>I take it that you have a string that already contains a 'number' (string of digits), and you want to increment that number within.  </p>\n\n<p>You'd have to extract the \"number\" first, in one way or another, since it is merely a string of chars when inside a string; then increment it and join it all back. I'll take it that it is a string of digits bounded by non-digits</p>\n\n<pre><code>my ($pre, $num, $post) = $str =~ m/(\\D*)(\\d+)(\\D*)/;\n$str = $pre . ($num+1) . $post;\n</code></pre>\n\n<p>This makes a critical assumption that the word contains a string of digits in only one place and no digits elsewhere, since if that were not the case the problem would be ill posed.</p>\n\n<p>Just for the curiousity of it I'd like to add a bit to this. A part of a string can be accessed by <a href=\"http://perldoc.perl.org/functions/substr.html\" rel=\"nofollow\">substr</a>, and that function can be manipulated as an <code>lvalue</code> (can be assigned to).  So, if you were to know the starting position and the length of your \"number\" (what can be found in various ways) you could cram the above process in one statement, if you must</p>\n\n<pre><code>substr($str, $num_beg, $num_len) = substr($str, $num_beg, $num_len) + 1;\n</code></pre>\n\n<p>or, equally bad</p>\n\n<pre><code>substr($str, $num_beg, $num_len) = ($str =~ m/(\\d+)/)[0] + 1;\n</code></pre>\n\n<p>Now your starting <code>$str</code> string contains the \"number\" within it incremented. However, this is plain nasty and I cannot recommend any of it. Finally, you can of course find <code>$num_beg</code> and <code>$num_len</code> on the fly, inside of <code>substr</code>, but that is just too much as the poor string would be processed three times in a single statement.  (Also, this changes your <code>$str</code> in place, which your question hints is not what you want.)</p>\n\n<hr>\n\n<p><em>Added</em> &nbsp; Regex provide the capability to run code in the replacement part, by using <code>/e</code> modifier. </p>\n\n<pre><code>my $str = \"ah20bah\";\n$str =~ s/(\\d+)/$1+1/e;\nsay $str;  # it's 'ah21bah'\n</code></pre>\n\n<p>See this <a href=\"http://perldoc.perl.org/perlrequick.html#Search-and-replace\" rel=\"nofollow\"><code>in perlrequick</code></a> and <a href=\"http://perldoc.perl.org/perlop.html#Regexp-Quote-Like-Operators\" rel=\"nofollow\"><code>in perlop</code></a>.</p>\n"}, {"tags": [], "owner": {"reputation": 16645, "user_id": 402322, "user_type": "registered", "accept_rate": 67, "profile_image": "https://i.stack.imgur.com/GWEWt.gif?s=128&g=1", "display_name": "ceving", "link": "https://stackoverflow.com/users/402322/ceving"}, "is_accepted": false, "score": 1, "last_activity_date": 1456216857, "creation_date": 1456216857, "answer_id": 35572627, "question_id": 35569223, "link": "https://stackoverflow.com/questions/35569223/add-to-integer-within-string/35572627#35572627", "title": "Add to integer within string?", "body": "<p>If you want to modify a number in a string, you have to use the <code>e</code> modifier for the <code>s</code> operation. This makes Perl evaluating the replacement as an expression.</p>\n\n<pre><code>#! /usr/bin/perl\n$_ = \"Result: 1\\n\";\ns/\\d+/$&amp;+1/e;\nprint;\n</code></pre>\n\n<p>It is documented in the Perl <a href=\"http://perldoc.perl.org/perlop.html#Regexp-Quote-Like-Operators\" rel=\"nofollow\">manual</a>.</p>\n"}, {"comments": [{"owner": {"reputation": 20550, "user_id": 327528, "user_type": "registered", "accept_rate": 37, "profile_image": "https://www.gravatar.com/avatar/dfea36f0a3ab8c5f8ad73bcc6cea241a?s=128&d=identicon&r=PG", "display_name": "CJ7", "link": "https://stackoverflow.com/users/327528/cj7"}, "edited": false, "score": 1, "creation_date": 1456265144, "post_id": 35581883, "comment_id": 58864625, "body": "Can you please explain the first line of code in your answer?"}, {"owner": {"reputation": 5334, "user_id": 5830574, "user_type": "registered", "accept_rate": 93, "profile_image": "https://i.stack.imgur.com/kCmqs.png?s=128&g=1", "display_name": "PerlDuck", "link": "https://stackoverflow.com/users/5830574/perlduck"}, "reply_to_user": {"reputation": 20550, "user_id": 327528, "user_type": "registered", "accept_rate": 37, "profile_image": "https://www.gravatar.com/avatar/dfea36f0a3ab8c5f8ad73bcc6cea241a?s=128&d=identicon&r=PG", "display_name": "CJ7", "link": "https://stackoverflow.com/users/327528/cj7"}, "edited": false, "score": 0, "creation_date": 1467474973, "post_id": 35581883, "comment_id": 63752079, "body": "@CJ7 I know, this is an old thread but it showed up as <i>&quot;recently active&quot;</i>. The first line is explained in the FAQ <a href=\"http://perldoc.perl.org/perlfaq4.html#How-do-I-expand-function-calls-in-a-string?\" rel=\"nofollow noreferrer\">How do I expand function calls in a string?</a> and in <a href=\"http://stackoverflow.com/a/13239936/5830574\">this answer</a>."}], "tags": [], "owner": {"reputation": 320771, "user_id": 589924, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/b2cf53d5a3d25f95c0db4e025aed4153?s=128&d=identicon&r=PG", "display_name": "ikegami", "link": "https://stackoverflow.com/users/589924/ikegami"}, "is_accepted": false, "score": 4, "last_activity_date": 1456242203, "creation_date": 1456242203, "answer_id": 35581883, "question_id": 35569223, "link": "https://stackoverflow.com/questions/35569223/add-to-integer-within-string/35581883#35581883", "title": "Add to integer within string?", "body": "<p>It can be done using trickery.</p>\n\n<pre><code>$result = \"Result: ${\\( $amount++ )}\";\n</code></pre>\n\n<p>But why would you want to???</p>\n\n<pre><code>$result = \"Result: \".$amount++;\n</code></pre>\n"}], "owner": {"reputation": 20550, "user_id": 327528, "user_type": "registered", "accept_rate": 37, "profile_image": "https://www.gravatar.com/avatar/dfea36f0a3ab8c5f8ad73bcc6cea241a?s=128&d=identicon&r=PG", "display_name": "CJ7", "link": "https://stackoverflow.com/users/327528/cj7"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 80, "favorite_count": 0, "answer_count": 3, "score": -3, "last_activity_date": 1467398304, "creation_date": 1456203855, "question_id": 35569223, "link": "https://stackoverflow.com/questions/35569223/add-to-integer-within-string", "title": "Add to integer within string?", "body": "<p>I would like to make a string by incrementing a variable within the string.</p>\n\n<p>eg.</p>\n\n<pre><code>$result = \"Result: $amount++\";\n</code></pre>\n\n<p>How can this be achieved?</p>\n"}, {"tags": ["windows", "perl", "activeperl", "www-mechanize-firefox", "mozrepl"], "comments": [{"owner": {"reputation": 137100, "user_id": 874188, "user_type": "registered", "accept_rate": 62, "profile_image": "https://i.stack.imgur.com/ZcY77.png?s=128&g=1", "display_name": "tripleee", "link": "https://stackoverflow.com/users/874188/tripleee"}, "edited": false, "score": 0, "creation_date": 1456206037, "post_id": 35569112, "comment_id": 58827044, "body": "Are they installed in one of the <code>@INC</code> directories? If not, you&#39;ll need to set <code>PERL5LIB</code> to a suitable value."}, {"owner": {"reputation": 482, "user_id": 1184820, "user_type": "registered", "accept_rate": 14, "profile_image": "https://www.gravatar.com/avatar/75568cf4f5d6d28dbbc60bdb80c034b8?s=128&d=identicon&r=PG", "display_name": "Anoop Pete", "link": "https://stackoverflow.com/users/1184820/anoop-pete"}, "reply_to_user": {"reputation": 137100, "user_id": 874188, "user_type": "registered", "accept_rate": 62, "profile_image": "https://i.stack.imgur.com/ZcY77.png?s=128&g=1", "display_name": "tripleee", "link": "https://stackoverflow.com/users/874188/tripleee"}, "edited": false, "score": 0, "creation_date": 1456206378, "post_id": 35569112, "comment_id": 58827196, "body": "Hi @triplee I have added PERL5LIB in Environment variables of Computer"}], "answers": [{"tags": [], "owner": {"reputation": 482, "user_id": 1184820, "user_type": "registered", "accept_rate": 14, "profile_image": "https://www.gravatar.com/avatar/75568cf4f5d6d28dbbc60bdb80c034b8?s=128&d=identicon&r=PG", "display_name": "Anoop Pete", "link": "https://stackoverflow.com/users/1184820/anoop-pete"}, "is_accepted": false, "score": 0, "last_activity_date": 1456406591, "creation_date": 1456406591, "answer_id": 35628548, "question_id": 35569112, "link": "https://stackoverflow.com/questions/35569112/cant-locate-mozrepl-pm-in-inc-you-may-need-to-install-the-mozrepl-module/35628548#35628548", "title": "Can&#39;t locate MozRepl.pm in @INC (you may need to install the MozRepl module)", "body": "<p>I was able to tackle the issue!!!</p>\n\n<p>If you are installing modules via Command Prompt, Run the Command Prompt as Administrator.</p>\n\n<p>If you are installing modules via PPM, Open PPM.bat as Administrator.</p>\n"}], "owner": {"reputation": 482, "user_id": 1184820, "user_type": "registered", "accept_rate": 14, "profile_image": "https://www.gravatar.com/avatar/75568cf4f5d6d28dbbc60bdb80c034b8?s=128&d=identicon&r=PG", "display_name": "Anoop Pete", "link": "https://stackoverflow.com/users/1184820/anoop-pete"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 508, "favorite_count": 0, "answer_count": 1, "score": 0, "last_activity_date": 1456406591, "creation_date": 1456203302, "last_edit_date": 1456205151, "question_id": 35569112, "link": "https://stackoverflow.com/questions/35569112/cant-locate-mozrepl-pm-in-inc-you-may-need-to-install-the-mozrepl-module", "title": "Can&#39;t locate MozRepl.pm in @INC (you may need to install the MozRepl module)", "body": "<p>I am trying to logon to a website which has Javascript Login using Mechanize Firefox. The program works fine on Ubuntu, but when I run on windows I am getting the following error.</p>\n\n<pre><code>Can't locate MozRepl.pm in @INC (you may need to install the MozRepl module) (@I\nNC contains: C:/Perl/site/lib C:/Perl/lib .) at login-firefox.pl line 3.\nBEGIN failed--compilation aborted at login-firefox.pl line 3.\n</code></pre>\n\n<p>I am running the program on Windows 7 64 bit, and using Active Perl.</p>\n\n<p>I have installed the following modules using cpan &amp; Have run the tests of Mechanize Firefox, the results were successful.</p>\n\n<ul>\n<li>MozRepl </li>\n<li>MozRepl::RemoteObject </li>\n<li>WWW::Mechanize::Firefox</li>\n</ul>\n"}, {"tags": ["perl", "file", "sftp"], "comments": [{"owner": {"reputation": 2682, "user_id": 4072843, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/tKkUM.jpg?s=128&g=1", "display_name": "Castaglia", "link": "https://stackoverflow.com/users/4072843/castaglia"}, "edited": false, "score": 0, "creation_date": 1456202973, "post_id": 35568902, "comment_id": 58825826, "body": "Looks like that <i>should</i> be <code>$lstart = sysseek($fh, 0, **2**) if $append;</code>, as I <i>think</i> the code there is meant to use <code>SEEK_END</code> (usually defined as 2) for the <code>lseek(2)</code> call, not <code>SEEK_CUR</code> (usually defined as 1)."}, {"owner": {"reputation": 9262, "user_id": 124951, "user_type": "registered", "accept_rate": 20, "profile_image": "https://www.gravatar.com/avatar/c46d5911a8fb4ffd5fb8523d56a60de0?s=128&d=identicon&r=PG", "display_name": "salva", "link": "https://stackoverflow.com/users/124951/salva"}, "reply_to_user": {"reputation": 2682, "user_id": 4072843, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/tKkUM.jpg?s=128&g=1", "display_name": "Castaglia", "link": "https://stackoverflow.com/users/4072843/castaglia"}, "edited": false, "score": 0, "creation_date": 1456930743, "post_id": 35568902, "comment_id": 59174658, "body": "@Castaglia: yes, <code>Net::SFTP::Foreign</code>, is depending on the OS seeking to the end of file because of <code>O_APPEND</code>, but that is implementation dependent. POSIX only guarantees the seek before any write operation."}, {"owner": {"reputation": 9262, "user_id": 124951, "user_type": "registered", "accept_rate": 20, "profile_image": "https://www.gravatar.com/avatar/c46d5911a8fb4ffd5fb8523d56a60de0?s=128&d=identicon&r=PG", "display_name": "salva", "link": "https://stackoverflow.com/users/124951/salva"}, "edited": false, "score": 1, "creation_date": 1456930992, "post_id": 35568902, "comment_id": 59174889, "body": "The bug is now fixed on the development version at <a href=\"https://github.com/salva/p5-Net-SFTP-Foreign\" rel=\"nofollow noreferrer\">github.com/salva/p5-Net-SFTP-Foreign</a>"}], "answers": [{"comments": [{"owner": {"reputation": 9262, "user_id": 124951, "user_type": "registered", "accept_rate": 20, "profile_image": "https://www.gravatar.com/avatar/c46d5911a8fb4ffd5fb8523d56a60de0?s=128&d=identicon&r=PG", "display_name": "salva", "link": "https://stackoverflow.com/users/124951/salva"}, "edited": false, "score": 0, "creation_date": 1456990142, "post_id": 35764784, "comment_id": 59203547, "body": "oh, then,<a href=\"https://metacpan.org/pod/Net::SFTP::Foreign#resume-1-auto\" rel=\"nofollow noreferrer\"><code>resume</code></a> is what you are looking for!"}, {"owner": {"reputation": 801, "user_id": 3264448, "user_type": "registered", "accept_rate": 65, "profile_image": "https://i.stack.imgur.com/1EyDR.jpg?s=128&g=1", "display_name": "CodeQuestor", "link": "https://stackoverflow.com/users/3264448/codequestor"}, "reply_to_user": {"reputation": 9262, "user_id": 124951, "user_type": "registered", "accept_rate": 20, "profile_image": "https://www.gravatar.com/avatar/c46d5911a8fb4ffd5fb8523d56a60de0?s=128&d=identicon&r=PG", "display_name": "salva", "link": "https://stackoverflow.com/users/124951/salva"}, "edited": false, "score": 0, "creation_date": 1457068461, "post_id": 35764784, "comment_id": 59247612, "body": "So, will below code work fine for me - $sftp-&gt;get(     $file,     &#39;/home/user/test.log&#39;,     append    =&gt; 1,     overwrite =&gt; 0,     resume =&gt; 1 );  Or resume should not be used with append/overwrite?"}, {"owner": {"reputation": 9262, "user_id": 124951, "user_type": "registered", "accept_rate": 20, "profile_image": "https://www.gravatar.com/avatar/c46d5911a8fb4ffd5fb8523d56a60de0?s=128&d=identicon&r=PG", "display_name": "salva", "link": "https://stackoverflow.com/users/124951/salva"}, "edited": false, "score": 1, "creation_date": 1457078930, "post_id": 35764784, "comment_id": 59252044, "body": "just <code>$sftp-&gt;get($file, &#39;&#47;home&#47;user&#47;test.log&#39;, resume =&gt; 1);</code>"}, {"owner": {"reputation": 9262, "user_id": 124951, "user_type": "registered", "accept_rate": 20, "profile_image": "https://www.gravatar.com/avatar/c46d5911a8fb4ffd5fb8523d56a60de0?s=128&d=identicon&r=PG", "display_name": "salva", "link": "https://stackoverflow.com/users/124951/salva"}, "edited": false, "score": 0, "creation_date": 1457079247, "post_id": 35764784, "comment_id": 59252196, "body": "BTW, if you have full SSH access to the remote machine, a more robust solution for file synchronization is <code>rsync</code>.  Check the <a href=\"https://metacpan.org/pod/Net::OpenSSH#ssh-rsync_get-opts-remote1-remote2-...-local_dir_or_file\" rel=\"nofollow noreferrer\"><code>rsync_get</code></a> method provided by <a href=\"https://metacpan.org/pod/Net::OpenSSH\" rel=\"nofollow noreferrer\">Net::OpenSSH</a>."}], "tags": [], "owner": {"reputation": 801, "user_id": 3264448, "user_type": "registered", "accept_rate": 65, "profile_image": "https://i.stack.imgur.com/1EyDR.jpg?s=128&g=1", "display_name": "CodeQuestor", "link": "https://stackoverflow.com/users/3264448/codequestor"}, "is_accepted": true, "score": 1, "last_activity_date": 1456986751, "creation_date": 1456986751, "answer_id": 35764784, "question_id": 35568902, "link": "https://stackoverflow.com/questions/35568902/append-option-in-netsftpforeign-get-is-not-working-as-expected/35764784#35764784", "title": "&#39;append&#39; option in Net::SFTP::Foreign-&gt;get() is not working as expected", "body": "<p>Thanks for you comments, actually i found the reason why it was not working properly. It was keep overwriting the local file with remote one.\nBut when i use below code :</p>\n\n<pre><code>$sftp-&gt;get(\n    $file,\n    '/home/user/test.log',\n    append    =&gt; 1,\n    overwrite =&gt; 0,\n);\n</code></pre>\n\n<p>Now it won't overwrite the file, but append the whole file to the local file.\nWhile i wanted to just append the text which is added to the remote file rather than the whole file.\nThis feature does not support by the Net::SFTP::Foreign.</p>\n"}], "owner": {"reputation": 801, "user_id": 3264448, "user_type": "registered", "accept_rate": 65, "profile_image": "https://i.stack.imgur.com/1EyDR.jpg?s=128&g=1", "display_name": "CodeQuestor", "link": "https://stackoverflow.com/users/3264448/codequestor"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 336, "favorite_count": 0, "accepted_answer_id": 35764784, "answer_count": 1, "score": 2, "last_activity_date": 1456986751, "creation_date": 1456202073, "last_edit_date": 1456205860, "question_id": 35568902, "link": "https://stackoverflow.com/questions/35568902/append-option-in-netsftpforeign-get-is-not-working-as-expected", "title": "&#39;append&#39; option in Net::SFTP::Foreign-&gt;get() is not working as expected", "body": "<p>I am copying the file from remote machine to the local and this operation to be perform everyday once. In case of append of content in the remote file content, i will just copy the appended content to local file(as it is already exists at local machine). I am using Net::SFTP::Foreign module from CPAN, but seems like it is copying the full file in case of append(which is not expected).</p>\n\n<pre><code>use strict;\nuse warnings;\n\nuse Net::SFTP::Foreign;\n\nmy $file = '/home/user/temp/test.txt';\nmy $destination = '/home/user/dest.txt';\n\nmy $sftp = Net::SFTP::Foreign-&gt;new(\n   host      =&gt; 'localhost',           # using localhost for destination and source\n   more      =&gt; [ -o =&gt; 'Compression yes', '-v' ]\n);\n\n$sftp-&gt;get( $file, $destination, copy_perm =&gt; 1, append =&gt; 1 );\n\nif($sftp-&gt;error) {\n  print \"get operation failed for $file : \" . $sftp-&gt;error . \"\\n\";\n}\n</code></pre>\n\n<p>I checked the Net/SFTP/Foreign.pm module for get() implementation and found below code snippet in case of append -</p>\n\n<pre><code>my $flags = Fcntl::O_CREAT|Fcntl::O_WRONLY;\n$flags |= Fcntl::O_APPEND if $append;\n$lstart = sysseek($fh, 0, 1) if $append;\n</code></pre>\n\n<p>In case of append,$lstart contains the 0 only, which is beginning of the file. Am i missing something here?</p>\n"}, {"tags": ["regex", "perl"], "comments": [{"owner": {"reputation": 4939, "user_id": 639258, "user_type": "registered", "accept_rate": 92, "profile_image": "https://i.stack.imgur.com/JADHP.jpg?s=128&g=1", "display_name": "Pramod Karandikar", "link": "https://stackoverflow.com/users/639258/pramod-karandikar"}, "edited": false, "score": 3, "creation_date": 1456197041, "post_id": 35568006, "comment_id": 58823940, "body": "What have your tried so far?"}], "answers": [{"comments": [{"owner": {"reputation": 1058, "user_id": 3241027, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/c8874c36ce5ee1710dcfc8bc9c9439a9?s=128&d=identicon&r=PG&f=1", "display_name": "Seekheart", "link": "https://stackoverflow.com/users/3241027/seekheart"}, "edited": false, "score": 0, "creation_date": 1456197707, "post_id": 35568126, "comment_id": 58824134, "body": "this regex is overkill... and you just copied my answer &gt;.&gt; not to mention what if there was a year like 1856?"}, {"owner": {"reputation": 320771, "user_id": 589924, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/b2cf53d5a3d25f95c0db4e025aed4153?s=128&d=identicon&r=PG", "display_name": "ikegami", "link": "https://stackoverflow.com/users/589924/ikegami"}, "reply_to_user": {"reputation": 1058, "user_id": 3241027, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/c8874c36ce5ee1710dcfc8bc9c9439a9?s=128&d=identicon&r=PG&f=1", "display_name": "Seekheart", "link": "https://stackoverflow.com/users/3241027/seekheart"}, "edited": false, "score": 0, "creation_date": 1456200462, "post_id": 35568126, "comment_id": 58824998, "body": "@Seekheart, LOL! Not only would take me longer to copy your regexp than to write it myself, yours it thinks that <code>(0001)</code> and <code>(\u0aea\u0aea\u0aea\u0aea)</code> are years. There&#39;s also the detail that my solution most similar to yours was posted 4 minutes before you posted yours."}, {"owner": {"reputation": 320771, "user_id": 589924, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/b2cf53d5a3d25f95c0db4e025aed4153?s=128&d=identicon&r=PG", "display_name": "ikegami", "link": "https://stackoverflow.com/users/589924/ikegami"}, "reply_to_user": {"reputation": 1058, "user_id": 3241027, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/c8874c36ce5ee1710dcfc8bc9c9439a9?s=128&d=identicon&r=PG&f=1", "display_name": "Seekheart", "link": "https://stackoverflow.com/users/3241027/seekheart"}, "edited": false, "score": 0, "creation_date": 1456200773, "post_id": 35568126, "comment_id": 58825102, "body": "@Seekheart, Films did not exist in 1856. While films predate 1900, I wager those aren&#39;t production dates he is going to encounter. On the off chance that he could encounter that, altering the pattern to support the 1800s would be trivial and obvious."}, {"owner": {"reputation": 53041, "user_id": 4653379, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/b3953dbedd0dabff5cbc3db9b0835b14?s=128&d=identicon&r=PG&f=1", "display_name": "zdim", "link": "https://stackoverflow.com/users/4653379/zdim"}, "edited": false, "score": 0, "creation_date": 1456201660, "post_id": 35568126, "comment_id": 58825399, "body": "Even regardless of the nature of the number this solution incorporates the concept of qualifying the number somehow.  You can easily construct the pattern for the match such as <code>$pattern = encode_year()</code>, where the sub can come from a module, class ... and off you go to a good and flexible design.  Given the hint in the question it is in fact a fully reasonable solution just as it stands."}], "tags": [], "owner": {"reputation": 320771, "user_id": 589924, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/b2cf53d5a3d25f95c0db4e025aed4153?s=128&d=identicon&r=PG", "display_name": "ikegami", "link": "https://stackoverflow.com/users/589924/ikegami"}, "is_accepted": false, "score": 3, "last_activity_date": 1456239240, "last_edit_date": 1456239240, "creation_date": 1456197280, "answer_id": 35568126, "question_id": 35568006, "link": "https://stackoverflow.com/questions/35568006/string-pattern-matching-using-perl-regex/35568126#35568126", "title": "string pattern matching using perl regex", "body": "<p>So many things look like a year, especially if unbounded. Since you appear to be looking for the production years of filmed media, we can at least restrict it to the 1900s and 2000s.</p>\n\n<pre><code>$str =~ /\\b(?:19|20)[0-9]{2}\\b/\n</code></pre>\n\n<p>If the year in which you are interested will always be in parens, the following will be better:</p>\n\n<pre><code>$str =~ /\\((?:19|20)[0-9]{2}\\)/\n</code></pre>\n"}, {"comments": [{"owner": {"reputation": 1058, "user_id": 3241027, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/c8874c36ce5ee1710dcfc8bc9c9439a9?s=128&d=identicon&r=PG&f=1", "display_name": "Seekheart", "link": "https://stackoverflow.com/users/3241027/seekheart"}, "edited": false, "score": 0, "creation_date": 1456197667, "post_id": 35568167, "comment_id": 58824123, "body": "@ikegami how? the regex provided requires there to be a parenthesis followed by 4 numbers and end with a parenthesis..."}, {"owner": {"reputation": 53041, "user_id": 4653379, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/b3953dbedd0dabff5cbc3db9b0835b14?s=128&d=identicon&r=PG&f=1", "display_name": "zdim", "link": "https://stackoverflow.com/users/4653379/zdim"}, "edited": false, "score": 1, "creation_date": 1456201337, "post_id": 35568167, "comment_id": 58825284, "body": "1234 ... a good year?"}], "tags": [], "owner": {"reputation": 1058, "user_id": 3241027, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/c8874c36ce5ee1710dcfc8bc9c9439a9?s=128&d=identicon&r=PG&f=1", "display_name": "Seekheart", "link": "https://stackoverflow.com/users/3241027/seekheart"}, "is_accepted": false, "score": 0, "last_activity_date": 1456198102, "last_edit_date": 1456198102, "creation_date": 1456197498, "answer_id": 35568167, "question_id": 35568006, "link": "https://stackoverflow.com/questions/35568006/string-pattern-matching-using-perl-regex/35568167#35568167", "title": "string pattern matching using perl regex", "body": "<p>If you know the movies all have 4 digit years with parenthesis then the following\nwill suit your fancy ;)</p>\n\n<pre><code>my $test = 'spiderman (2014)';\n\nif ($test =~ m/[(]+\\d{4}[)]+/){\n     print \"Year is present!\\n\";\n}\n</code></pre>\n"}], "owner": {"reputation": 1, "user_id": 5855171, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/5084cd146008843c56ea71ce42996e5b?s=128&d=identicon&r=PG&f=1", "display_name": "galla", "link": "https://stackoverflow.com/users/5855171/galla"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 56, "favorite_count": 0, "closed_date": 1456262594, "answer_count": 2, "score": -6, "last_activity_date": 1456239240, "creation_date": 1456196591, "question_id": 35568006, "link": "https://stackoverflow.com/questions/35568006/string-pattern-matching-using-perl-regex", "closed_reason": "Not suitable for this site", "title": "string pattern matching using perl regex", "body": "<p>i need to verify a string which contains year or not \nfor example spiderman (2014)\nhow can i?</p>\n"}, {"tags": ["perl", "excel-2010"], "comments": [{"owner": {"reputation": 113221, "user_id": 100754, "user_type": "registered", "accept_rate": 90, "profile_image": "https://www.gravatar.com/avatar/7804ebae32fbadef38537d74a915c22f?s=128&d=identicon&r=PG", "display_name": "Sinan &#220;n&#252;r", "link": "https://stackoverflow.com/users/100754/sinan-%c3%9cn%c3%bcr"}, "edited": false, "score": 0, "creation_date": 1456195902, "post_id": 35567312, "comment_id": 58823625, "body": "Did you not ask <a href=\"http://stackoverflow.com/q/35501825/100754\">stackoverflow.com/q/35501825/100754</a> ? If so, you should at least read my answer. It looks like you tried to copy the initialization code, but instead of using copy &amp; paste, you tried retyping it without understanding it."}], "answers": [{"comments": [{"owner": {"reputation": 113221, "user_id": 100754, "user_type": "registered", "accept_rate": 90, "profile_image": "https://www.gravatar.com/avatar/7804ebae32fbadef38537d74a915c22f?s=128&d=identicon&r=PG", "display_name": "Sinan &#220;n&#252;r", "link": "https://stackoverflow.com/users/100754/sinan-%c3%9cn%c3%bcr"}, "edited": false, "score": 0, "creation_date": 1456196789, "post_id": 35567957, "comment_id": 58823872, "body": "I don&#39;t think you understand how <code>Win32::OLE</code> works and what methods need to be invoked on an Excel instance, so you are just giving general debugging advice, but nothing pertinent to OP&#39;s original problem."}, {"owner": {"reputation": 2690, "user_id": 5869736, "user_type": "registered", "accept_rate": 75, "profile_image": "https://www.gravatar.com/avatar/b18e361761e0643fd9003f9eae40ba45?s=128&d=identicon&r=PG&f=1", "display_name": "Marty", "link": "https://stackoverflow.com/users/5869736/marty"}, "reply_to_user": {"reputation": 113221, "user_id": 100754, "user_type": "registered", "accept_rate": 90, "profile_image": "https://www.gravatar.com/avatar/7804ebae32fbadef38537d74a915c22f?s=128&d=identicon&r=PG", "display_name": "Sinan &#220;n&#252;r", "link": "https://stackoverflow.com/users/100754/sinan-%c3%9cn%c3%bcr"}, "edited": false, "score": 0, "creation_date": 1456200560, "post_id": 35567957, "comment_id": 58825027, "body": "If you say so, Sinan - keep in mind that nowhere in the OP&#39;s code (as given) is <code>$fileName</code> initialized"}, {"owner": {"reputation": 113221, "user_id": 100754, "user_type": "registered", "accept_rate": 90, "profile_image": "https://www.gravatar.com/avatar/7804ebae32fbadef38537d74a915c22f?s=128&d=identicon&r=PG", "display_name": "Sinan &#220;n&#252;r", "link": "https://stackoverflow.com/users/100754/sinan-%c3%9cn%c3%bcr"}, "edited": false, "score": 0, "creation_date": 1456203488, "post_id": 35567957, "comment_id": 58826025, "body": "Sure. But if <code>Open</code> fails, the reason will not be in <code>$!</code>."}, {"owner": {"reputation": 113221, "user_id": 100754, "user_type": "registered", "accept_rate": 90, "profile_image": "https://www.gravatar.com/avatar/7804ebae32fbadef38537d74a915c22f?s=128&d=identicon&r=PG", "display_name": "Sinan &#220;n&#252;r", "link": "https://stackoverflow.com/users/100754/sinan-%c3%9cn%c3%bcr"}, "edited": false, "score": 0, "creation_date": 1456223862, "post_id": 35567957, "comment_id": 58836977, "body": "But, of course, there is a way to get the error message."}, {"owner": {"reputation": 21, "user_id": 5966014, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/db6d4c7f58f0efbd99153b0026868089?s=128&d=identicon&r=PG&f=1", "display_name": "Low MS", "link": "https://stackoverflow.com/users/5966014/low-ms"}, "edited": false, "score": 0, "creation_date": 1456276589, "post_id": 35567957, "comment_id": 58869119, "body": "But it runs well on Win7 &amp; WinXP, now at Win10 it shows error."}], "tags": [], "owner": {"reputation": 2690, "user_id": 5869736, "user_type": "registered", "accept_rate": 75, "profile_image": "https://www.gravatar.com/avatar/b18e361761e0643fd9003f9eae40ba45?s=128&d=identicon&r=PG&f=1", "display_name": "Marty", "link": "https://stackoverflow.com/users/5869736/marty"}, "is_accepted": false, "score": -1, "last_activity_date": 1456206135, "last_edit_date": 1456206135, "creation_date": 1456196286, "answer_id": 35567957, "question_id": 35567312, "link": "https://stackoverflow.com/questions/35567312/perl-cant-call-method-worksheets-on-an-undefined-value/35567957#35567957", "title": "Perl: Can&#39;t call method &quot;Worksheets&quot; on an undefined value", "body": "<p>In the last line of your code, you are trying to call <strong>Worksheets</strong> on the object <strong>$book</strong>. So, the error is effectively telling you that $Book is <em>undefined</em> - or more bluntly, there's nothing in the variable you're trying to use.</p>\n\n<p>To find out definitively, you could; </p>\n\n<p>(1) Add <code>use strict;</code> and <code>use warnings;</code> to the top of your code so perl will be more verbose when it sees common errors.</p>\n\n<p>(2) Add <code>use Data::Dumper</code> (at the top of your code) and then on the second last line add <code>print Dumper($Excel, $fileName);</code></p>\n\n<p>(3) Run your program in debug mode by adding <code>-d</code> to the command line and then type <em>help</em> command.  You need <code>n</code> to move to the next statement of your code and <code>p</code> to examine the contents of variables.</p>\n\n<p>Looking at what you supplied, the line before the error is an <strong>Open</strong> method call which has probably failed - probably because the <strong>$fileName</strong> variable is empty or contains the name of a file that isn't there.  You can simply check if that's it by replacing</p>\n\n<pre><code>my $Book  = $Excel-&gt;Workbooks-&gt;Open($fileName) ;\n</code></pre>\n\n<p>with</p>\n\n<pre><code>my $Book  = $Excel-&gt;Workbooks-&gt;Open($fileName) // die \"Open returned an undefined book\\n\" ;\n</code></pre>\n\n<p>which will immediately exit with an error message if the Open (or anything else on the line) fails.</p>\n"}, {"tags": [], "owner": {"reputation": 21, "user_id": 5966014, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/db6d4c7f58f0efbd99153b0026868089?s=128&d=identicon&r=PG&f=1", "display_name": "Low MS", "link": "https://stackoverflow.com/users/5966014/low-ms"}, "is_accepted": true, "score": 1, "last_activity_date": 1456910647, "creation_date": 1456910647, "answer_id": 35743055, "question_id": 35567312, "link": "https://stackoverflow.com/questions/35567312/perl-cant-call-method-worksheets-on-an-undefined-value/35743055#35743055", "title": "Perl: Can&#39;t call method &quot;Worksheets&quot; on an undefined value", "body": "<p>Problem solved after activate ms office.</p>\n"}, {"comments": [{"owner": {"reputation": 78982, "user_id": 1848654, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/84180c0f3c9c04f8b8f0613fc0129dac?s=128&d=identicon&r=PG", "display_name": "melpomene", "link": "https://stackoverflow.com/users/1848654/melpomene"}, "edited": false, "score": 0, "creation_date": 1487968666, "post_id": 42447666, "comment_id": 72039220, "body": "That&#39;s a different method (<code>worksheet</code>, not <code>Worksheets</code>) using a different module (<code>Spreadsheet::ParseExcel::SaveParser</code>, not <code>Win32::OLE</code>)."}], "tags": [], "owner": {"reputation": 14907, "user_id": 1704745, "user_type": "registered", "accept_rate": 27, "profile_image": "https://i.stack.imgur.com/9OZS4.jpg?s=128&g=1", "display_name": "Dung", "link": "https://stackoverflow.com/users/1704745/dung"}, "is_accepted": false, "score": -1, "last_activity_date": 1487967983, "last_edit_date": 1495541364, "creation_date": 1487967983, "answer_id": 42447666, "question_id": 35567312, "link": "https://stackoverflow.com/questions/35567312/perl-cant-call-method-worksheets-on-an-undefined-value/42447666#42447666", "title": "Perl: Can&#39;t call method &quot;Worksheets&quot; on an undefined value", "body": "<p>Error of \"Perl: Can't call method \u201cWorksheets\u201d on an undefined value\"</p>\n\n<p>is because your spreadsheet was created in .xlsx you need to save your sheet in .xls and run again it will work!</p>\n\n<p>source:</p>\n\n<p><a href=\"https://stackoverflow.com/questions/41454615/cant-call-method-worksheet-on-an-undefined-value\">Can&#39;t call method &quot;worksheet&quot; on an undefined value</a></p>\n"}], "owner": {"reputation": 21, "user_id": 5966014, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/db6d4c7f58f0efbd99153b0026868089?s=128&d=identicon&r=PG&f=1", "display_name": "Low MS", "link": "https://stackoverflow.com/users/5966014/low-ms"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 2970, "favorite_count": 0, "accepted_answer_id": 35743055, "answer_count": 3, "score": 0, "last_activity_date": 1487967983, "creation_date": 1456191996, "last_edit_date": 1456196808, "question_id": 35567312, "link": "https://stackoverflow.com/questions/35567312/perl-cant-call-method-worksheets-on-an-undefined-value", "title": "Perl: Can&#39;t call method &quot;Worksheets&quot; on an undefined value", "body": "<p>Previously run well on WinXP &amp; Win7 but after move to Win10 it shows \"Perl: Can't call method \"Worksheets\" on an undefined value\" error.</p>\n\n<pre><code>my $Excel = Win32::OLE-&gt;GetActiveObject('Excel.Application') \n         || Win32::OLE-&gt;new('Excel.Application','Quit');\nmy $Book  = $Excel-&gt;Workbooks-&gt;Open($fileName) ;\nmy $Sheet = $Book-&gt;Worksheets(1);\n</code></pre>\n\n<p>Any components need to install?</p>\n"}, {"tags": ["perl", "dbi"], "comments": [{"owner": {"reputation": 6258, "user_id": 82262, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/8ce15931410b388a52eb2df4a864137f?s=128&d=identicon&r=PG&f=1", "display_name": "Matt Jacob", "link": "https://stackoverflow.com/users/82262/matt-jacob"}, "edited": false, "score": 0, "creation_date": 1456189626, "post_id": 35566856, "comment_id": 58822011, "body": "What is the <code>MySQL</code> module???"}, {"owner": {"reputation": 6258, "user_id": 82262, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/8ce15931410b388a52eb2df4a864137f?s=128&d=identicon&r=PG&f=1", "display_name": "Matt Jacob", "link": "https://stackoverflow.com/users/82262/matt-jacob"}, "edited": false, "score": 0, "creation_date": 1456189682, "post_id": 35566856, "comment_id": 58822031, "body": "Since you are new to Perl, make sure you always include <code>use warnings</code> and <code>use strict</code> at the top of every Perl file you write."}, {"owner": {"reputation": 9030, "user_id": 202940, "user_type": "registered", "accept_rate": 75, "profile_image": "https://i.stack.imgur.com/JNQ86.jpg?s=128&g=1", "display_name": "Ashraf Bashir", "link": "https://stackoverflow.com/users/202940/ashraf-bashir"}, "edited": false, "score": 0, "creation_date": 1458775472, "post_id": 35566856, "comment_id": 60016095, "body": "Where is the definition of <code>%attr</code> which you passed to <code>connect</code> in your code ?"}, {"owner": {"reputation": 9030, "user_id": 202940, "user_type": "registered", "accept_rate": 75, "profile_image": "https://i.stack.imgur.com/JNQ86.jpg?s=128&g=1", "display_name": "Ashraf Bashir", "link": "https://stackoverflow.com/users/202940/ashraf-bashir"}, "edited": false, "score": 0, "creation_date": 1458775643, "post_id": 35566856, "comment_id": 60016146, "body": "BTW, you don&#39;t need to pass string vars as <code>&quot;$DBUSER&quot;</code>, you can simply remove <code>&quot; &quot;</code>"}], "answers": [{"tags": [], "owner": {"reputation": 6258, "user_id": 82262, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/8ce15931410b388a52eb2df4a864137f?s=128&d=identicon&r=PG&f=1", "display_name": "Matt Jacob", "link": "https://stackoverflow.com/users/82262/matt-jacob"}, "is_accepted": true, "score": 2, "last_activity_date": 1456189289, "creation_date": 1456189289, "answer_id": 35566902, "question_id": 35566856, "link": "https://stackoverflow.com/questions/35566856/perl-dbi-remote-mysql-server/35566902#35566902", "title": "Perl + DBI + REMOTE MySQL Server", "body": "<p>As you can see in the <a href=\"https://metacpan.org/pod/DBD::mysql#connect\" rel=\"nofollow\">documentation</a> for DBD::mysql's <code>connect()</code> method, DSN parts should be separated by a semicolon (<code>;</code>), not a comma (<code>,</code>):</p>\n\n<pre><code>use DBI;\n\n$dsn = \"DBI:mysql:$database\";\n$dsn = \"DBI:mysql:database=$database;host=$hostname\";\n$dsn = \"DBI:mysql:database=$database;host=$hostname;port=$port\";\n\n$dbh = DBI-&gt;connect($dsn, $user, $password);\n</code></pre>\n"}], "owner": {"reputation": 45, "user_id": 4403569, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/34cf9e44762dd0d04511ee5229645925?s=128&d=identicon&r=PG", "display_name": "Emerson", "link": "https://stackoverflow.com/users/4403569/emerson"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 2453, "favorite_count": 2, "accepted_answer_id": 35566902, "answer_count": 1, "score": 2, "last_activity_date": 1456248696, "creation_date": 1456188959, "question_id": 35566856, "link": "https://stackoverflow.com/questions/35566856/perl-dbi-remote-mysql-server", "title": "Perl + DBI + REMOTE MySQL Server", "body": "<p>I am new writing Perl code and I need a help to figure out why I am not getting to connect from my linux desktop to a remote MySQL server using DBI in a Perl code.\nI have connection from my desktop to the remote MySQL server, I have identified the remove MySQL server using name or IP address in the DBI connect line, but, base on the error message below, it seems the DBI is trying to connect to a local database (that does not exist), not the remote one:</p>\n\n<pre><code>!/usr/bin/perl -w\nuse DBI;\nuse DBD::mysql;\nuse MySQL;\n\n$DBHOST = \"mysqlserver.example.com\";\n$DBNAME = \"anydb\";\n$DBUSER = \"userdb\";\n$DBPASS = \"userdbpwd\";\n$dsn = \"dbi:mysql:database=$DBNAME,host=$DBHOST, port=3306\";\n\nmy $dbh = DBI-&gt;connect(\"DBI:mysql:database=$DBNAME,host=$DBHOST, port=3306\", \"$DBUSER\", \"$DBPASS\", \\%attr);\n</code></pre>\n\n<p>Running the code above I am getting the error:</p>\n\n<blockquote>\n  <p>DBI connect failed: Can't connect to local MySQL server through\n  socket '/var/lib/mysql/mysql.sock</p>\n</blockquote>\n\n<p>I have the following DBI drivers installed:</p>\n\n<blockquote>\n  <p>DBM ExampleP File Gofer Proxy SQLite Sponge mysql</p>\n</blockquote>\n"}, {"tags": ["string", "perl", "awk", "sed", "substring"], "comments": [{"owner": {"reputation": 32690, "user_id": 3266847, "user_type": "registered", "accept_rate": 100, "profile_image": "https://i.stack.imgur.com/U0oyt.png?s=128&g=1", "display_name": "Benjamin W.", "link": "https://stackoverflow.com/users/3266847/benjamin-w"}, "edited": false, "score": 0, "creation_date": 1456188060, "post_id": 35566642, "comment_id": 58821578, "body": "What&#39;s &quot;longer&quot;? &quot;The two longest&quot;?"}, {"owner": {"reputation": 32690, "user_id": 3266847, "user_type": "registered", "accept_rate": 100, "profile_image": "https://i.stack.imgur.com/U0oyt.png?s=128&g=1", "display_name": "Benjamin W.", "link": "https://stackoverflow.com/users/3266847/benjamin-w"}, "edited": false, "score": 0, "creation_date": 1456188187, "post_id": 35566642, "comment_id": 58821613, "body": "Ah, do you want to remove any string that is a substring of another string? And what have you tried so far?"}, {"owner": {"reputation": 14855, "user_id": 3159253, "user_type": "registered", "accept_rate": 60, "profile_image": "https://www.gravatar.com/avatar/046000bcd9bbb664fc01891f558baa0d?s=128&d=identicon&r=PG&f=1", "display_name": "user3159253", "link": "https://stackoverflow.com/users/3159253/user3159253"}, "edited": false, "score": 0, "creation_date": 1456189902, "post_id": 35566642, "comment_id": 58822097, "body": "<a href=\"https://www.gnu.org/software/gawk/manual/html_node/String-Functions.html#index-index_0028_0029-function\" rel=\"nofollow noreferrer\">gnu.org/software/gawk/manual/html_node/&hellip;</a>"}, {"owner": {"reputation": 49, "user_id": 5679579, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/189bc61323b98bcb794ef93737a30d5b?s=128&d=identicon&r=PG&f=1", "display_name": "Empyrean rocks", "link": "https://stackoverflow.com/users/5679579/empyrean-rocks"}, "edited": false, "score": 0, "creation_date": 1456190415, "post_id": 35566642, "comment_id": 58822224, "body": "yes, i meant two longest strings."}, {"owner": {"reputation": 32690, "user_id": 3266847, "user_type": "registered", "accept_rate": 100, "profile_image": "https://i.stack.imgur.com/U0oyt.png?s=128&g=1", "display_name": "Benjamin W.", "link": "https://stackoverflow.com/users/3266847/benjamin-w"}, "edited": false, "score": 0, "creation_date": 1456190613, "post_id": 35566642, "comment_id": 58822272, "body": "I think I know now what you ask, but the question is very unclear (and has 3 close votes for being unclear at the moment). You should specify more clearly which strings exactly should be kept (the ones that are not substrings of any other strings...?), what the input can look like (is the longest string always first, as in the example?), and what you have tried so far. You can <a href=\"https://stackoverflow.com/posts/35566642/edit\">edit</a> your question."}, {"owner": {"reputation": 49, "user_id": 5679579, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/189bc61323b98bcb794ef93737a30d5b?s=128&d=identicon&r=PG&f=1", "display_name": "Empyrean rocks", "link": "https://stackoverflow.com/users/5679579/empyrean-rocks"}, "edited": false, "score": 1, "creation_date": 1456191171, "post_id": 35566642, "comment_id": 58822437, "body": "sorry for the confusion. i just edited to make it clear. hope its clear now. Also, as these are peptide sequences, i convert in to fasta file and use CD-HIT program which clusters similar sequences with 100% identity and produces output. later, convert that fasta to text file for further analysis."}], "answers": [{"tags": [], "owner": {"reputation": 52821, "user_id": 632407, "user_type": "registered", "accept_rate": 86, "profile_image": "https://i.stack.imgur.com/AfGWW.jpg?s=128&g=1", "display_name": "jm666", "link": "https://stackoverflow.com/users/632407/jm666"}, "is_accepted": false, "score": 3, "last_activity_date": 1456191163, "last_edit_date": 1456191163, "creation_date": 1456190802, "answer_id": 35567134, "question_id": 35566642, "link": "https://stackoverflow.com/questions/35566642/remove-lines-which-are-substrings-of-other-lines/35567134#35567134", "title": "Remove lines which are substrings of other lines", "body": "<p>Maybe:</p>\n\n<pre><code>input=./input_file\nwhile read -r str\ndo\n[[ $(grep -c \"$str\" \"$input\") == 1 ]] &amp;&amp; echo $str\ndone &lt; \"$input\"\n</code></pre>\n\n<p>produces:</p>\n\n<pre><code>GSAAQQYWTPANATFYGGSDASGT\nIVPVNYARTTCRRTGGIRFTITGHDYFDN\n</code></pre>\n\n<p>it is slow - but simple..</p>\n"}, {"comments": [{"owner": {"reputation": 155597, "user_id": 1745001, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/99a3ebae89496eb16afe453aae97f5be?s=128&d=identicon&r=PG", "display_name": "Ed Morton", "link": "https://stackoverflow.com/users/1745001/ed-morton"}, "reply_to_user": {"reputation": 49, "user_id": 5679579, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/189bc61323b98bcb794ef93737a30d5b?s=128&d=identicon&r=PG&f=1", "display_name": "Empyrean rocks", "link": "https://stackoverflow.com/users/5679579/empyrean-rocks"}, "edited": false, "score": 1, "creation_date": 1456272340, "post_id": 35567414, "comment_id": 58867773, "body": "I added an explanation at the bottom"}, {"owner": {"reputation": 5886, "user_id": 2019415, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/645958eb08719fa5119052d7d1d079ff?s=128&d=identicon&r=PG", "display_name": "G. Cito", "link": "https://stackoverflow.com/users/2019415/g-cito"}, "edited": false, "score": 0, "creation_date": 1456332666, "post_id": 35567414, "comment_id": 58900551, "body": "@EdMorton so of all the strings in <code>file</code>, <code>awk</code> finds and prints only those that can be divided in two (skipping those that can&#39;t be divided or divide more than once).  ++ nice and simple!  Is there a simple way to handle the case where the &quot;long&quot; string (what I call the &quot;master string&quot; in the more baroque perl solution below) occurs more than once? With your <code>awk</code> script and the perl <code>%uniq</code> hash it would get left out of the output."}, {"owner": {"reputation": 155597, "user_id": 1745001, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/99a3ebae89496eb16afe453aae97f5be?s=128&d=identicon&r=PG", "display_name": "Ed Morton", "link": "https://stackoverflow.com/users/1745001/ed-morton"}, "edited": false, "score": 0, "creation_date": 1456333200, "post_id": 35567414, "comment_id": 58900988, "body": "If the requirement is to only print it once then you just need to change the first line to <code>!arr[$0]++{ strs=strs $0 RS }</code> (idiomatically <code>arr</code> would be named <code>seen</code> or <code>count</code> when used in that context) so it only appears once in the strs string that gets split later. If the requirement is to print it as many times as it appeared in the input then you&#39;d additionally change the <code>print str</code> to <code>for (i=1;i&lt;=arr[str];i++) print str</code>. I updated my answer to show that."}], "tags": [], "owner": {"reputation": 155597, "user_id": 1745001, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/99a3ebae89496eb16afe453aae97f5be?s=128&d=identicon&r=PG", "display_name": "Ed Morton", "link": "https://stackoverflow.com/users/1745001/ed-morton"}, "is_accepted": true, "score": 2, "last_activity_date": 1456333368, "last_edit_date": 1456333368, "creation_date": 1456192690, "answer_id": 35567414, "question_id": 35566642, "link": "https://stackoverflow.com/questions/35566642/remove-lines-which-are-substrings-of-other-lines/35567414#35567414", "title": "Remove lines which are substrings of other lines", "body": "<p>This should do what you want:</p>\n\n<pre><code>$ cat tst.awk\n{ arr[$0]; strs=strs $0 RS }\nEND {\n    for (str in arr) {\n        if ( split(strs,tmp,str) == 2 ) {\n            print str\n        }\n    }\n}\n\n$ awk -f tst.awk file\nIVPVNYARTTCRRTGGIRFTITGHDYFDN\nGSAAQQYWTPANATFYGGSDASGT\n</code></pre>\n\n<p>It loops through every string in arr and then uses that as the separator value for split() - if the string occurs once then the full file contents will be split in half and so split() would return 2 but if the string is a subset of some other string then the file contents would be split into multiple segments and so split would return some number higher than 2.</p>\n\n<p>If a string can appear multiple times in the input and you want it printed multiple times in the output (see the question in the comment from @G.Cito below) then you'd modify the above to:</p>\n\n<pre><code>!cnt[$0]++ { strs=strs $0 RS }\nEND {\n    for (str in cnt) {\n        if ( split(strs,tmp,str) == 2 ) {\n            for (i=1;i&lt;=cnt[str];i++) {\n                print str\n            }\n        }\n    }\n}\n</code></pre>\n"}, {"tags": [], "owner": {"reputation": 25, "user_id": 5501199, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/b2bcf63f16e57fb799b93de229c4b9b9?s=128&d=identicon&r=PG&f=1", "display_name": "Sana", "link": "https://stackoverflow.com/users/5501199/sana"}, "is_accepted": false, "score": -1, "last_activity_date": 1456371765, "last_edit_date": 1456371765, "creation_date": 1456204463, "answer_id": 35569359, "question_id": 35566642, "link": "https://stackoverflow.com/questions/35566642/remove-lines-which-are-substrings-of-other-lines/35569359#35569359", "title": "Remove lines which are substrings of other lines", "body": "<p>This will help you what you exactly need:</p>\n\n<p>awk '{ print length(), NR, $0 | \"sort -rn\" }' sed_longer.txt | head -n 2</p>\n"}, {"tags": [], "owner": {"reputation": 5886, "user_id": 2019415, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/645958eb08719fa5119052d7d1d079ff?s=128&d=identicon&r=PG", "display_name": "G. Cito", "link": "https://stackoverflow.com/users/2019415/g-cito"}, "is_accepted": false, "score": 1, "last_activity_date": 1456332725, "last_edit_date": 1495541251, "creation_date": 1456288109, "answer_id": 35593275, "question_id": 35566642, "link": "https://stackoverflow.com/questions/35566642/remove-lines-which-are-substrings-of-other-lines/35593275#35593275", "title": "Remove lines which are substrings of other lines", "body": "<p>As a perl \"one liner\" (this should work for cutting and pasting into a terminal):</p>\n\n<pre><code>perl -E 'chomp(@r=&lt;&gt;); \n        for $i (0..$#r){ \n           map { $uniq{$_}++ if ( index( $r[$i], $_ ) != -1 ) } @r; \n        }\n        for (sort keys %uniq){ say if ( $uniq{$_} == 1 ); }' peptide_seq.txt\n</code></pre>\n\n<ul>\n<li><p>We read and chomp the file (<code>peptide_seq.txt</code>)  from STDIN (<code>&lt;&gt;</code>) and save it in <code>@r</code> which will be an array in which each element is a string from each line in the file.</p></li>\n<li><p>Next we iterate through the array and <code>map</code> the elements of <code>@r</code> to a hash (<code>%uniq</code>) where each <code>key</code> is the content of each line; and each <code>value</code> is a number that is incremented when a line is found to be a substring of another line. Using <a href=\"http://perldoc.perl.org/functions/index.html\" rel=\"nofollow noreferrer\"><code>index</code></a> we can <a href=\"https://stackoverflow.com/q/7283274/2019415\">check whether a string contains a sub-string</a> and increment the corresponding hash value <code>if</code> <code>index()</code> does not return the value for \"not found\" (<code>-1</code>).</p></li>\n<li><p>The \"master\" strings contain all the other strings as sub-strings of themselves and will only be incremented once, so we loop again to print the keys of the <code>%uniq</code> hash that have the value <code>== 1</code>. This second loop could be a <code>map</code> instead:</p>\n\n<p><code>map { say if ( $uniq{$_}  == 1 ) } sort keys uniq ;</code></p></li>\n</ul>\n\n<p>As a self-contained script that could be:</p>\n\n<pre><code>#!perl -l\nchomp(@r=&lt;DATA&gt;); \n\nfor $i (0..$#r) {\n  map { $uniq{$_}++ if ( index( $r[$i], $_ ) != -1 ) } @r ;\n}\n\nmap { print if ($uniq{$_} == 1) } sort keys %uniq ; \n\n__DATA__\nGSAAQQYW\nATFYGGSDASGT\nGSAAQQYWTPANATFYGGSDASGT\nGSAAQQYWTPANATF\nATFYGGSDASGT\nNYARTTCRRTG\nIVPVNYARTTCRRTGGIRFTITGHDYFDN\nRFTITGHDYFDN\nIVPVNYARTTCRRTG\nARTTCRRTGGIRFTITG\n</code></pre>\n\n<p><strong>Output</strong>:</p>\n\n<pre><code>GSAAQQYWTPANATFYGGSDASGT\nIVPVNYARTTCRRTGGIRFTITGHDYFDN\n</code></pre>\n"}], "owner": {"reputation": 49, "user_id": 5679579, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/189bc61323b98bcb794ef93737a30d5b?s=128&d=identicon&r=PG&f=1", "display_name": "Empyrean rocks", "link": "https://stackoverflow.com/users/5679579/empyrean-rocks"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 528, "favorite_count": 1, "accepted_answer_id": 35567414, "answer_count": 4, "score": 2, "last_activity_date": 1456371765, "creation_date": 1456187500, "last_edit_date": 1456328796, "question_id": 35566642, "link": "https://stackoverflow.com/questions/35566642/remove-lines-which-are-substrings-of-other-lines", "title": "Remove lines which are substrings of other lines", "body": "<p>How can I delete lines which are substrings of other lines in a file while keeping the longer strings which include them?</p>\n\n<p>I have a file that contain peptide sequences as strings - one sequence string per line. I want to keep the strings which contain all the sequences  and remove all lines which are substrings of other lines in the file. </p>\n\n<p><strong>Input</strong>:</p>\n\n<pre><code>GSAAQQYW\nATFYGGSDASGT\nGSAAQQYWTPANATFYGGSDASGT\nGSAAQQYWTPANATF\nATFYGGSDASGT\nNYARTTCRRTG\nIVPVNYARTTCRRTGGIRFTITGHDYFDN\nRFTITGHDYFDN\nIVPVNYARTTCRRTG\nARTTCRRTGGIRFTITG\n</code></pre>\n\n<p><strong>Expected Output</strong>:</p>\n\n<pre><code>GSAAQQYWTPANATFYGGSDASGT\nIVPVNYARTTCRRTGGIRFTITGHDYFDN\n</code></pre>\n\n<p>The output should keep only longest strings and remove all lines which are substrings of the longest string. So, in the input above, lines 1,2,4 and 5 are substrings of line 3 so output retained line 3. Similarily for the strings on lines 6,8,9 and 10 all of which are substrings of line 7, thus line 7 is retained and written to output.</p>\n"}, {"tags": ["html", "xml", "perl", "xslt", "outlook"], "comments": [{"owner": {"reputation": 21782, "user_id": 176646, "user_type": "registered", "accept_rate": 88, "profile_image": "https://i.stack.imgur.com/HsQyV.png?s=128&g=1", "display_name": "ThisSuitIsBlackNot", "link": "https://stackoverflow.com/users/176646/thissuitisblacknot"}, "edited": false, "score": 0, "creation_date": 1456178656, "post_id": 35564584, "comment_id": 58817910, "body": "You can use backticks to add inline code formatting so things that look like HTML tags aren&#39;t hidden, e.g. <code>`&lt;foo&gt;bar&lt;&#47;foo&gt;`</code> will generate the output <code>&lt;foo&gt;bar&lt;&#47;foo&gt;</code>. Also, make sure code blocks are indented four spaces and separated from any previous text by a blank line."}, {"owner": {"reputation": 139, "user_id": 3250422, "user_type": "registered", "accept_rate": 0, "profile_image": "https://www.gravatar.com/avatar/f7d90aee8219076c20e535fcd5d770a8?s=128&d=identicon&r=PG&f=1", "display_name": "user3250422", "link": "https://stackoverflow.com/users/3250422/user3250422"}, "reply_to_user": {"reputation": 21782, "user_id": 176646, "user_type": "registered", "accept_rate": 88, "profile_image": "https://i.stack.imgur.com/HsQyV.png?s=128&g=1", "display_name": "ThisSuitIsBlackNot", "link": "https://stackoverflow.com/users/176646/thissuitisblacknot"}, "edited": false, "score": 0, "creation_date": 1456178903, "post_id": 35564584, "comment_id": 58818024, "body": "thanks I did the 4-space trick, but it still killed my tags!"}, {"owner": {"reputation": 21782, "user_id": 176646, "user_type": "registered", "accept_rate": 88, "profile_image": "https://i.stack.imgur.com/HsQyV.png?s=128&g=1", "display_name": "ThisSuitIsBlackNot", "link": "https://stackoverflow.com/users/176646/thissuitisblacknot"}, "edited": false, "score": 0, "creation_date": 1456179012, "post_id": 35564584, "comment_id": 58818078, "body": "Then you didn&#39;t separate the code from the previous text by a blank line. Note that your second <code>style=&quot;color...&quot;</code> line isn&#39;t highlighted as a code block, either, even though you indented by four spaces."}], "answers": [{"comments": [{"owner": {"reputation": 139, "user_id": 3250422, "user_type": "registered", "accept_rate": 0, "profile_image": "https://www.gravatar.com/avatar/f7d90aee8219076c20e535fcd5d770a8?s=128&d=identicon&r=PG&f=1", "display_name": "user3250422", "link": "https://stackoverflow.com/users/3250422/user3250422"}, "edited": false, "score": 1, "creation_date": 1456237103, "post_id": 35565023, "comment_id": 58846391, "body": "Thank-You Sinan , very helpful."}], "tags": [], "owner": {"reputation": 113221, "user_id": 100754, "user_type": "registered", "accept_rate": 90, "profile_image": "https://www.gravatar.com/avatar/7804ebae32fbadef38537d74a915c22f?s=128&d=identicon&r=PG", "display_name": "Sinan &#220;n&#252;r", "link": "https://stackoverflow.com/users/100754/sinan-%c3%9cn%c3%bcr"}, "is_accepted": false, "score": 0, "last_activity_date": 1456180340, "last_edit_date": 1456180340, "creation_date": 1456179332, "answer_id": 35565023, "question_id": 35564584, "link": "https://stackoverflow.com/questions/35564584/using-perl-xmlxslt-generates-html-that-outlook-has-problems-with/35565023#35565023", "title": "Using Perl XML::XSLT generates HTML that OUTLOOK has problems with", "body": "<p>Things might improve if you pass the resulting HTML through <a href=\"https://metacpan.org/pod/HTML::Tidy\" rel=\"nofollow\">HTML::Tidy</a>.</p>\n\n<p>Now, the way <code>XML::XSLT</code> generates the output is through:</p>\n\n<pre><code>sub _my_print_text\n{\n    my ( $self, $FILE ) = @_;\n\n    if ( UNIVERSAL::isa( $self, \"XML::DOM::CDATASection\" ) )\n    {\n        $FILE-&gt;print( $self-&gt;getData() );\n    }\n    else\n    {\n        $FILE-&gt;print( XML::DOM::encodeText( $self-&gt;getData(), \"&lt;&amp;\" ) );\n    }\n}\n\nsub toString\n{\n    my $self = $_[0];\n\n    local $^W;\n    local *XML::DOM::Text::print = \\&amp;_my_print_text;\n\n    my $string = $self-&gt;result_document()-&gt;toString();\n\n    return $string;\n}\n</code></pre>\n\n<p>You can write your own version of <code>_my_print_text</code>, and, instead of invoking <code>$xslt-&gt;toString</code>, you can use <code>$xslt-&gt;result_document()-&gt;toString()</code> after setting <code>XML::DOM::Text::print</code> to point to your generator.</p>\n"}], "owner": {"reputation": 139, "user_id": 3250422, "user_type": "registered", "accept_rate": 0, "profile_image": "https://www.gravatar.com/avatar/f7d90aee8219076c20e535fcd5d770a8?s=128&d=identicon&r=PG&f=1", "display_name": "user3250422", "link": "https://stackoverflow.com/users/3250422/user3250422"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 119, "favorite_count": 0, "answer_count": 1, "score": 2, "last_activity_date": 1456180340, "creation_date": 1456177641, "last_edit_date": 1456179443, "question_id": 35564584, "link": "https://stackoverflow.com/questions/35564584/using-perl-xmlxslt-generates-html-that-outlook-has-problems-with", "title": "Using Perl XML::XSLT generates HTML that OUTLOOK has problems with", "body": "<p>I'm using:</p>\n\n<pre><code>my $xslt = XML::XSLT-&gt;new( $xslt_file, warnings =&gt; 1 );\n$xslt-&gt;transform( $xml_file );\n$$html = $xslt-&gt;toString;\n</code></pre>\n\n<p>The result is fine if viewed in a browser- no problems at all. VIEW source shows the HTML is basically one long line, although I see some of what appear to be line breaks here and there (like after the head tag). But there are very few.</p>\n\n<p>If I mail this HTML to outlook, I get psuedo-random problems throughout the HTML document. Like in one place a colour is wrong, in another the wrong font, in another a different issue. </p>\n\n<p>I dug into the outlook source, and discovered that line breaks had been added, perhaps by outlook on some interval. Looks like some forums say every 76 chars.  This is destructive in some cases, particularly when it changed:</p>\n\n<pre><code>style=\"color:#002212;\"\n</code></pre>\n\n<p>to</p>\n\n<pre><code>style=\"color:#00221\\n2;\"\n</code></pre>\n\n<p>To try to fix it I first tried to add </p>\n\n<pre><code>&lt;xsl:text&gt;\\n&lt;/xsl:text&gt;\n</code></pre>\n\n<p>... no difference. I looked up options on <code>$xslt-&gt;toString</code> to see if I could force it to follow the <code>\\n</code> in my stylesheet- no.</p>\n\n<p>I finally went back to my Perl and added, as a desperate measure:</p>\n\n<pre><code>$$html =~ s|&lt;|\\n&lt;|g;\n</code></pre>\n\n<p>and then the Outlook mail was fine- all the issues are cleaned up. I'm not crazy about that kludge because I can't be sure a user might enter a \"&lt;\" in his text (although I guess it would be converted to its mnemonic). I don't like not having control of line breaks in the stylesheet.</p>\n\n<p>Anyhow this can't be a new issue (although I spent 1/2 the day looking for answers better than mine). I was hoping for something like an option</p>\n\n<pre><code>$$html = $xslt-&gt;toString(preserveLineBreaks=&gt;1);\n</code></pre>\n\n<p>but I don't see anything like that. There is an xsl option to preserve whitespace, but that's the default which I'm already using. No joy there.</p>\n"}, {"tags": ["perl"], "comments": [{"owner": {"reputation": 339644, "user_id": 118068, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/077db5466d3b58e7bbbd498dca173f04?s=128&d=identicon&r=PG", "display_name": "Marc B", "link": "https://stackoverflow.com/users/118068/marc-b"}, "edited": false, "score": 0, "creation_date": 1456173571, "post_id": 35563298, "comment_id": 58814890, "body": "does <code>Output</code> exist? mkdir won&#39;t recursively create a structure for you."}, {"owner": {"reputation": 862, "user_id": 3586150, "user_type": "registered", "accept_rate": 58, "profile_image": "https://www.gravatar.com/avatar/1f0969599955a953e592034929ed7a23?s=128&d=identicon&r=PG", "display_name": "Neil H Watson", "link": "https://stackoverflow.com/users/3586150/neil-h-watson"}, "edited": false, "score": 0, "creation_date": 1456173620, "post_id": 35563298, "comment_id": 58814915, "body": "If $file is directory, why is it called file? If $file is a dir then your test should be -d not -e. To recursively create dirs use File::Path."}, {"owner": {"reputation": 728, "user_id": 5209289, "user_type": "registered", "accept_rate": 67, "profile_image": "https://www.gravatar.com/avatar/3874e84d81711bf6751461e0be235976?s=128&d=identicon&r=PG&f=1", "display_name": "Lisa", "link": "https://stackoverflow.com/users/5209289/lisa"}, "edited": false, "score": 0, "creation_date": 1456174696, "post_id": 35563298, "comment_id": 58815551, "body": "Thank you for your help - Output does exist, though, and it&#39;s called file because it&#39;s not yet a directory. It made sense to me, but I&#39;ll admit I could have clearer variable names."}], "answers": [{"tags": [], "owner": {"reputation": 52334, "user_id": 702638, "user_type": "registered", "accept_rate": 98, "profile_image": "https://www.gravatar.com/avatar/892f65bc0a8a0949ab88598de7d83cab?s=128&d=identicon&r=PG", "display_name": "Hunter McMillen", "link": "https://stackoverflow.com/users/702638/hunter-mcmillen"}, "is_accepted": true, "score": 4, "last_activity_date": 1456173729, "creation_date": 1456173729, "answer_id": 35563415, "question_id": 35563298, "link": "https://stackoverflow.com/questions/35563298/mkdir-perl-error-no-such-file/35563415#35563415", "title": "Mkdir perl error: no such file", "body": "<p>If you look at how this expression:</p>\n\n<pre><code>mkdir $outputFiles \n    unless -e $outputFiles \nor die \"Cannot make file directory: $!\";\n</code></pre>\n\n<p>is parsed by Perl, the answer is apparent. You can see how this is parsed using (-p prints parentheses):</p>\n\n<pre><code>perl -MO=Deparse,-p \\ \n     -e 'mkdir \"foo\" unless -e \"foo\" or die \"Cannot create foo: $!\"\n</code></pre>\n\n<p>produces:</p>\n\n<pre><code>(((-e 'foo') or die(\"Cannot create foo: $!\")) or mkdir('foo'));\n-e syntax OK\n</code></pre>\n\n<p>Now you should be able to see the issue, according to the above expression:</p>\n\n<p>1) If directory <code>'foo'</code> does not exist, the program will die with the message <code>'Cannot create foo: No such file or directory'</code></p>\n\n<p>2) If directory <code>'foo'</code> does exist, the program will call <code>mkdir 'foo'</code>. This is pointless however, since it already exists. </p>\n"}], "owner": {"reputation": 728, "user_id": 5209289, "user_type": "registered", "accept_rate": 67, "profile_image": "https://www.gravatar.com/avatar/3874e84d81711bf6751461e0be235976?s=128&d=identicon&r=PG&f=1", "display_name": "Lisa", "link": "https://stackoverflow.com/users/5209289/lisa"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 670, "favorite_count": 0, "accepted_answer_id": 35563415, "answer_count": 1, "score": 0, "last_activity_date": 1456173729, "creation_date": 1456173345, "question_id": 35563298, "link": "https://stackoverflow.com/questions/35563298/mkdir-perl-error-no-such-file", "title": "Mkdir perl error: no such file", "body": "<p>I am trying to make a directory in the following code:</p>\n\n<pre><code># reads in files from a corpus\n    for my $corpusFile (glob(\"./Corpus/*.txt\")) {\n\n    # makes part of the name of the file the name for a directory\n    my $file = substr ($corpusFile, 9, 6);\n    my $outputFiles = \"./Output/$file\";\n    mkdir $outputFiles unless -e $outputFiles or die \"Cannot make file directory: $!\";\n</code></pre>\n\n<p>However, I get the error: \n<code>Cannot make file directory: No such file or directory at perl/corpus.pl</code></p>\n\n<p>I don't really understand this error. Of course the directory doesn't exist - I'm trying to create it.</p>\n\n<p>To explain my file structure a bit: I have a big folder that contains an \"output\" folder and a \"perl\" folder - my perl code is in the folder called \"perl\" and I'm trying to create a directory in \"output.\" I am very new to perl, so I apologize if the answer here is obvious.</p>\n"}, {"tags": ["perl"], "comments": [{"owner": {"reputation": 52334, "user_id": 702638, "user_type": "registered", "accept_rate": 98, "profile_image": "https://www.gravatar.com/avatar/892f65bc0a8a0949ab88598de7d83cab?s=128&d=identicon&r=PG", "display_name": "Hunter McMillen", "link": "https://stackoverflow.com/users/702638/hunter-mcmillen"}, "edited": false, "score": 2, "creation_date": 1456172676, "post_id": 35563081, "comment_id": 58814366, "body": "What module are you using to run the command? / Can you show an entire piece of code that recreates the problem?"}, {"owner": {"reputation": 2404, "user_id": 1161841, "user_type": "registered", "accept_rate": 93, "profile_image": "https://www.gravatar.com/avatar/b016112ac884bd73c84f97ed10acb613?s=128&d=identicon&r=PG", "display_name": "lacrosse1991", "link": "https://stackoverflow.com/users/1161841/lacrosse1991"}, "reply_to_user": {"reputation": 52334, "user_id": 702638, "user_type": "registered", "accept_rate": 98, "profile_image": "https://www.gravatar.com/avatar/892f65bc0a8a0949ab88598de7d83cab?s=128&d=identicon&r=PG", "display_name": "Hunter McMillen", "link": "https://stackoverflow.com/users/702638/hunter-mcmillen"}, "edited": false, "score": 0, "creation_date": 1456174114, "post_id": 35563081, "comment_id": 58815199, "body": "@HunterMcMillen Hi, I&#39;m using the following modules in this script: use strict, warnings, Getopt::Long, Opsware::NAS::Connect. The perl script is being run from a server running HP Network Automation. The bulk of the script is just code that is used to connect to a proxy system that executes the code that is sent using $con-&gt;cmd. I did not include that part so that I could avoid any confusion. The $con-&gt;cmd part tells the proxy system to send a command to a network appliance, after which the output from the network appliance command is saved into suboutput."}, {"owner": {"reputation": 53041, "user_id": 4653379, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/b3953dbedd0dabff5cbc3db9b0835b14?s=128&d=identicon&r=PG&f=1", "display_name": "zdim", "link": "https://stackoverflow.com/users/4653379/zdim"}, "edited": false, "score": 0, "creation_date": 1456176755, "post_id": 35563081, "comment_id": 58816818, "body": "What&#39;s the context for this?  Yes, you can wait (<code>sleep</code> for one -- see my answer), but that is immediately suspect of a need for a better approach -- for which on needs to see the context."}, {"owner": {"reputation": 2404, "user_id": 1161841, "user_type": "registered", "accept_rate": 93, "profile_image": "https://www.gravatar.com/avatar/b016112ac884bd73c84f97ed10acb613?s=128&d=identicon&r=PG", "display_name": "lacrosse1991", "link": "https://stackoverflow.com/users/1161841/lacrosse1991"}, "reply_to_user": {"reputation": 53041, "user_id": 4653379, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/b3953dbedd0dabff5cbc3db9b0835b14?s=128&d=identicon&r=PG&f=1", "display_name": "zdim", "link": "https://stackoverflow.com/users/4653379/zdim"}, "edited": false, "score": 0, "creation_date": 1456774391, "post_id": 35563081, "comment_id": 59092643, "body": "@zdim hello, sorry about taking so long to reply. We ended up getting HP involved (they are the publishers for the server software that this perl script runs in, HP Network Automation), and they provided a new driver (not perl related) and an updated perl module. This seems to have fixed the issue! It appears that the system was getting confused about when commands were completing execution (it was thinking that the slot x quoted .... command had completed, when in fact the command was still running. This was causing the output to get screwed up)"}, {"owner": {"reputation": 53041, "user_id": 4653379, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/b3953dbedd0dabff5cbc3db9b0835b14?s=128&d=identicon&r=PG&f=1", "display_name": "zdim", "link": "https://stackoverflow.com/users/4653379/zdim"}, "edited": false, "score": 0, "creation_date": 1456774534, "post_id": 35563081, "comment_id": 59092730, "body": "Ah, so it was something else entirely.  Thank you for the update!"}], "answers": [{"tags": [], "owner": {"reputation": 2404, "user_id": 1161841, "user_type": "registered", "accept_rate": 93, "profile_image": "https://www.gravatar.com/avatar/b016112ac884bd73c84f97ed10acb613?s=128&d=identicon&r=PG", "display_name": "lacrosse1991", "link": "https://stackoverflow.com/users/1161841/lacrosse1991"}, "is_accepted": true, "score": 0, "last_activity_date": 1456869998, "creation_date": 1456869998, "answer_id": 35734546, "question_id": 35563081, "link": "https://stackoverflow.com/questions/35563081/how-can-i-make-perl-wait-until-a-command-finishes-before-moving-on-with-the-rest/35734546#35734546", "title": "how can I make perl wait until a command finishes before moving on with the rest of a for loop", "body": "<p>We ended up fixing this problem by adding a new driver (non perl related) and an updated perl module.</p>\n\n<p>We reached out to HP (publisher of the server software that executes this perl script) and they determined that the server &amp; script were getting confused when executing the slot x quoted .... command and were prematurely cutting off the output. The updated files that HP provided have solved the issue by allowing HPNA and the perl script to properly determine when the command has actually finished executing. </p>\n"}], "owner": {"reputation": 2404, "user_id": 1161841, "user_type": "registered", "accept_rate": 93, "profile_image": "https://www.gravatar.com/avatar/b016112ac884bd73c84f97ed10acb613?s=128&d=identicon&r=PG", "display_name": "lacrosse1991", "link": "https://stackoverflow.com/users/1161841/lacrosse1991"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 818, "favorite_count": 0, "accepted_answer_id": 35734546, "answer_count": 1, "score": -1, "last_activity_date": 1464419384, "creation_date": 1456172609, "question_id": 35563081, "link": "https://stackoverflow.com/questions/35563081/how-can-i-make-perl-wait-until-a-command-finishes-before-moving-on-with-the-rest", "title": "how can I make perl wait until a command finishes before moving on with the rest of a for loop", "body": "<p>I have the follow script (just an excerpt, the other parts are not relevant):</p>\n\n<pre><code>@output = $con-&gt;cmd(\"show module | grep ignore-case \\\"Supervisor Module\\\" | cut -d \\\" \\\" -f 1\");\n\nfor (@output[1 .. $#output]) {\n    print \"******* Supervisor Slot $_ *******\\n\";\n    @suboutput = $con-&gt;cmd(\"slot $_ quoted 'show system internal raid'\");\n    print \"@suboutput\";\n    print \"\\n\";\n}\n</code></pre>\n\n<p>I keep running into an issue where the script will get to the @suboutput line and then appear to move on to the other lines in the script without allowing the @suboutput line to complete. This results in the @suboutput array being cut short when I go to print it. </p>\n\n<p>Is there a way to make the script wait for the command to complete prior to moving on to the rest of the script? I was thinking about using a sleep command, although I was not sure if there was a more concrete/foolproof way to make the script wait. </p>\n\n<p>Another Idea I had was to make the script wait until the suboutput array contains an exact line \"somehostname#\" (no other text after the #, just somehostname#). This line will appear whenever the @suboutput line command is finished executing, see below to see what I am talking about:</p>\n\n<pre><code>somehostname# slot 5 quoted \"show system internal raid\"\nRAID data from CMOS = 0x61 0xb7\nRAID data from driver disks 0 bad 0 name\nCurrent RAID status info:\nBootflash: /dev/sdb\nMirrorflash: /bin/cat: /var/log/boot_node_mirror: No such file or directory\n\nPersonalities : [raid1]\nunused devices: &lt;none&gt;\nPersonalities : [raid1]\nunused devices: &lt;none&gt;\n/bin/cat: /var/log/raid_monitor.log: No such file or directory\n/bin/cat: /var/log/raid_repair.log: No such file or directory\nCurrent RAID status:\nBootup RAID status:\nRAID Monitor log:\nRAID repair log:\n---------------------------------------------------\nsomehostname#\n</code></pre>\n\n<p>Once again I'm not sure if there would be a better way to accomplish this. </p>\n"}, {"tags": ["html", "mysql", "apache", "perl", "cgi"], "comments": [{"owner": {"reputation": 21782, "user_id": 176646, "user_type": "registered", "accept_rate": 88, "profile_image": "https://i.stack.imgur.com/HsQyV.png?s=128&g=1", "display_name": "ThisSuitIsBlackNot", "link": "https://stackoverflow.com/users/176646/thissuitisblacknot"}, "edited": false, "score": 2, "creation_date": 1456156311, "post_id": 35557932, "comment_id": 58804154, "body": "If by &quot;CGI&quot; you mean CGI.pm, that&#39;s not really a great option nowadays (its use is actually <a href=\"https://metacpan.org/pod/CGI#CGI.pm-HAS-BEEN-REMOVED-FROM-THE-PERL-CORE\" rel=\"nofollow noreferrer\">discouraged in the official documentation</a>). See <a href=\"https://metacpan.org/pod/CGI::Alternatives\" rel=\"nofollow noreferrer\">CGI::Alternatives</a> instead."}, {"owner": {"reputation": 123805, "user_id": 622310, "user_type": "registered", "accept_rate": 33, "profile_image": "https://www.gravatar.com/avatar/8b6d35219e1808520bc238b28161e2e6?s=128&d=identicon&r=PG", "display_name": "Borodin", "link": "https://stackoverflow.com/users/622310/borodin"}, "edited": false, "score": 0, "creation_date": 1456156385, "post_id": 35557932, "comment_id": 58804213, "body": "Your question is too broad. You must set up an HTML page, and your HTTP server must be configured to expect a URL of <code>&#47;test.pl</code>. Then you must alter your Perl script to accept input data through the CGI interface and deliver HTML output instead of simple text. All of that cannot be handled in a single answer"}, {"owner": {"reputation": 3, "user_id": 5963784, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/eee9a88a52f8c7c0d6a696b4dc839964?s=128&d=identicon&r=PG&f=1", "display_name": "John", "link": "https://stackoverflow.com/users/5963784/john"}, "reply_to_user": {"reputation": 123805, "user_id": 622310, "user_type": "registered", "accept_rate": 33, "profile_image": "https://www.gravatar.com/avatar/8b6d35219e1808520bc238b28161e2e6?s=128&d=identicon&r=PG", "display_name": "Borodin", "link": "https://stackoverflow.com/users/622310/borodin"}, "edited": false, "score": 0, "creation_date": 1456157151, "post_id": 35557932, "comment_id": 58804759, "body": "@Borodin : HTML page is ready and URL of the /test.pl too. Could you please suggest  the changes required to accept input data through CGI interface. Thanks ."}], "answers": [{"comments": [{"owner": {"reputation": 3, "user_id": 5963784, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/eee9a88a52f8c7c0d6a696b4dc839964?s=128&d=identicon&r=PG&f=1", "display_name": "John", "link": "https://stackoverflow.com/users/5963784/john"}, "edited": false, "score": 0, "creation_date": 1456395237, "post_id": 35560254, "comment_id": 58930456, "body": "Hi @jimtut, Thanks. It works. Now Iam able to read data from HTML page into Perl/Cgi and work on it. Currently I am copying the result from Sql query to a text file. How to print the text file(as a text or html?) in the same cgi?"}, {"owner": {"reputation": 2279, "user_id": 13563, "user_type": "registered", "accept_rate": 91, "profile_image": "https://i.stack.imgur.com/VoEyi.jpg?s=128&g=1", "display_name": "jimtut", "link": "https://stackoverflow.com/users/13563/jimtut"}, "reply_to_user": {"reputation": 3, "user_id": 5963784, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/eee9a88a52f8c7c0d6a696b4dc839964?s=128&d=identicon&r=PG&f=1", "display_name": "John", "link": "https://stackoverflow.com/users/5963784/john"}, "edited": false, "score": 0, "creation_date": 1456410341, "post_id": 35560254, "comment_id": 58941250, "body": "There are easy ways to read in a text file (Google for &quot;Perl file slurp&quot;), but I&#39;m not sure that&#39;s really what you want.  Do you mean that the Perl code is storing the SQL query results in a text file &amp; then you want to display it on the webpage?  Why not just use code like in your example which is justing <code>print</code>ing the results?  Those <code>print</code> commands will print right to the webpage.  If for some reason you do need to read the SQL query results from a text file, you can easily &quot;slurp&quot; it in.  But, try to consolidate all of the code (SQL query &amp; printing to webpage) into a single Perl script."}, {"owner": {"reputation": 2279, "user_id": 13563, "user_type": "registered", "accept_rate": 91, "profile_image": "https://i.stack.imgur.com/VoEyi.jpg?s=128&g=1", "display_name": "jimtut", "link": "https://stackoverflow.com/users/13563/jimtut"}, "reply_to_user": {"reputation": 3, "user_id": 5963784, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/eee9a88a52f8c7c0d6a696b4dc839964?s=128&d=identicon&r=PG&f=1", "display_name": "John", "link": "https://stackoverflow.com/users/5963784/john"}, "edited": false, "score": 0, "creation_date": 1456410527, "post_id": 35560254, "comment_id": 58941404, "body": "Ran out of room in the last comment.  I&#39;m sure others will hate this idea, but for ease of maintenance, I put the HTML input form into the Perl CGI too.  This requires a little more code, to detect whether this is the initial run of the script or if it&#39;s the form submission, but then you have all the code related to input, searching, and output in one file.  Again, many people will say that that&#39;s a horrible way to structure code, but it makes maintenance of reasonably-small scripts very easy when everything is all together like that."}, {"owner": {"reputation": 3, "user_id": 5963784, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/eee9a88a52f8c7c0d6a696b4dc839964?s=128&d=identicon&r=PG&f=1", "display_name": "John", "link": "https://stackoverflow.com/users/5963784/john"}, "edited": false, "score": 0, "creation_date": 1456743347, "post_id": 35560254, "comment_id": 59072066, "body": "Displaying the sql output directly  in web page has some indentation problem . So, I redirected it to text file and then made hyperlink to the text file so that users can click and check the result. Many thanks!!. Will try to look into your second option of including html also in cgi"}, {"owner": {"reputation": 2279, "user_id": 13563, "user_type": "registered", "accept_rate": 91, "profile_image": "https://i.stack.imgur.com/VoEyi.jpg?s=128&g=1", "display_name": "jimtut", "link": "https://stackoverflow.com/users/13563/jimtut"}, "reply_to_user": {"reputation": 3, "user_id": 5963784, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/eee9a88a52f8c7c0d6a696b4dc839964?s=128&d=identicon&r=PG&f=1", "display_name": "John", "link": "https://stackoverflow.com/users/5963784/john"}, "edited": false, "score": 0, "creation_date": 1456762572, "post_id": 35560254, "comment_id": 59085197, "body": "Glad it helped.  Please accept this as the correct answer, if you&#39;re all set."}], "tags": [], "owner": {"reputation": 2279, "user_id": 13563, "user_type": "registered", "accept_rate": 91, "profile_image": "https://i.stack.imgur.com/VoEyi.jpg?s=128&g=1", "display_name": "jimtut", "link": "https://stackoverflow.com/users/13563/jimtut"}, "is_accepted": true, "score": 1, "last_activity_date": 1456162763, "creation_date": 1456162763, "answer_id": 35560254, "question_id": 35557932, "link": "https://stackoverflow.com/questions/35557932/passing-user-input-from-a-html-page-to-a-perl-script-and-displaying-the-results/35560254#35560254", "title": "Passing user Input from a HTML page to a Perl script and displaying the results in webpage", "body": "<p>Just winging this, without trying it, but just add/change these lines in your code:</p>\n\n<pre><code>use CGI qw(:standard);\nprint header;\nprint qq(&lt;!DOCTYPE html PUBLIC \"-//W3C//DTD XHTML 1.0 Transitional//EN\" \"http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd\"&gt;\\n);\nprint qq(&lt;html xmlns=\"http://www.w3.org/1999/xhtml\" lang=\"en-US\" xml:lang=\"en-US\"&gt;\\n);\nprint \"&lt;head&gt;\\n\";\nprint \"  &lt;title&gt;Page Title Goes Here!&lt;/title&gt;\\n\";\nprint \"&lt;/head&gt;\\n\";\n\nmy $input1 = param('Employee details') || \"\";\n</code></pre>\n\n<p>I hadn't heard about CGI.pm not being recommended, but the basic idea from above should still work.</p>\n"}], "owner": {"reputation": 3, "user_id": 5963784, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/eee9a88a52f8c7c0d6a696b4dc839964?s=128&d=identicon&r=PG&f=1", "display_name": "John", "link": "https://stackoverflow.com/users/5963784/john"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 947, "favorite_count": 0, "closed_date": 1456162786, "accepted_answer_id": 35560254, "answer_count": 1, "score": 0, "last_activity_date": 1456162763, "creation_date": 1456156104, "question_id": 35557932, "link": "https://stackoverflow.com/questions/35557932/passing-user-input-from-a-html-page-to-a-perl-script-and-displaying-the-results", "closed_reason": "Needs more focus", "title": "Passing user Input from a HTML page to a Perl script and displaying the results in webpage", "body": "<p>I have the existing setup as below.</p>\n\n<h1>Existing Setup:</h1>\n\n<p>Below is the user interactive perl script which takes the EmpNo as argument and prints the Name and Salary of the employee from the  Employee table.\nCurrently I am running this script in terminal and output is also shown on the terminal.</p>\n\n<h1>Perl Code</h1>\n\n<pre><code>#!/usr/bin/perl\n\nuse DBI;\nuse strict;\n\nmy $driver = \"mysql\";\nmy $database = \"dbname\";\nmy $dsn = \"DBI:$driver:database=$database\";\nmy $userid = \"uid\";\n\nprint \"Enter employee Number \\n\";\n\nmy $input1 =&lt;&gt;;\n\n\nmy $dbh = DBI-&gt;connect($dsn, $userid) or die $DBI::errstr;\n\nmy $sth = $dbh-&gt;prepare(\"SELECT Empname ,Salary FROM Employee WHERE EmpNo ='$input1' \");\n\n$sth-&gt;execute() or die $DBI::errstr;\nprint \"Number of rows found :\" + $sth-&gt;rows;\nwhile (my @row = $sth-&gt;fetchrow_array()) {\n   my ($name, $salary) = @row;\n   print \"Name = $name, Salary = $salary \\n\";\n}\n$sth-&gt;finish()\n</code></pre>\n\n<h1>Output: perl test.pl</h1>\n\n<p>Enter employee Number\n207711\nName=John Salary=10000</p>\n\n<h1>Requirement:</h1>\n\n<p>Instead on running the script on terminal with user Input . I like to have a HTML web page where user can select the EmpNo from the drop down list and this EmpNo should be passed to the Perl script  on clicking the submit\nbutton. The script then should fetch the database details and show on webpage. </p>\n\n<h1>Brief Idea:</h1>\n\n<p>Something like this with forms.</p>\n\n<pre><code>&lt;FORM action=\"/test.pl\" method=\"POST\"&gt;\n\n&lt; select name = \"Employee details\" &gt;\n    &lt;option selected = \"selected\"&gt;EmpNo&lt;/option&gt;\n    &lt;option value = \"207711\"&gt;207711&lt;/option&gt;\n    &lt;option value = \"207712\"&gt;207712&lt;/option&gt;\n    &lt;option value = \"207713\"&gt;207713&lt;/option&gt;\n&lt;/select&gt;\n\n&lt;input type=\"submit\" value=\"Submit\"&gt;\n\n&lt;/FORM&gt;\n</code></pre>\n\n<p>I am open to use CGI and have Apache installed. Awaiting your valuable response. Thanks a lot !!!</p>\n"}, {"tags": ["xml", "perl", "xml-libxml"], "comments": [{"owner": {"reputation": 50468, "user_id": 1331451, "user_type": "registered", "accept_rate": 96, "profile_image": "https://i.stack.imgur.com/4ZPmj.png?s=128&g=1", "display_name": "simbabque", "link": "https://stackoverflow.com/users/1331451/simbabque"}, "edited": false, "score": 6, "creation_date": 1456141208, "post_id": 35552520, "comment_id": 58793220, "body": "Also, you should start using <code>strict</code> and <code>warnings</code>. You didn&#39;t have <code>strict</code> in your last question as well."}, {"owner": {"reputation": 22591, "user_id": 1150683, "user_type": "registered", "accept_rate": 96, "profile_image": "https://www.gravatar.com/avatar/4171d32ed59549af71dff8c1682f17cc?s=128&d=identicon&r=PG&f=1", "display_name": "Bram Vanroy", "link": "https://stackoverflow.com/users/1150683/bram-vanroy"}, "reply_to_user": {"reputation": 50468, "user_id": 1331451, "user_type": "registered", "accept_rate": 96, "profile_image": "https://i.stack.imgur.com/4ZPmj.png?s=128&g=1", "display_name": "simbabque", "link": "https://stackoverflow.com/users/1331451/simbabque"}, "edited": false, "score": 1, "creation_date": 1456145842, "post_id": 35552520, "comment_id": 58796403, "body": "@simbabque Thanks for the tip. I took your advice (and added a lot of variable declarations)."}], "answers": [{"tags": [], "owner": {"reputation": 793701, "user_id": 19068, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/1d2d3229ed1961d2bd81853242493247?s=128&d=identicon&r=PG", "display_name": "Quentin", "link": "https://stackoverflow.com/users/19068/quentin"}, "is_accepted": true, "score": 3, "last_activity_date": 1456140977, "creation_date": 1456140977, "answer_id": 35552594, "question_id": 35552520, "link": "https://stackoverflow.com/questions/35552520/why-is-my-xml-file-empty-after-generating-with-xmllibxml/35552594#35552594", "title": "Why is my XML file empty after generating with XML::LibXML", "body": "<p>You need to add the element you created to the document:</p>\n\n<pre><code>$doc-&gt;setDocumentElement($root);\n</code></pre>\n"}], "owner": {"reputation": 22591, "user_id": 1150683, "user_type": "registered", "accept_rate": 96, "profile_image": "https://www.gravatar.com/avatar/4171d32ed59549af71dff8c1682f17cc?s=128&d=identicon&r=PG&f=1", "display_name": "Bram Vanroy", "link": "https://stackoverflow.com/users/1150683/bram-vanroy"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 133, "favorite_count": 0, "accepted_answer_id": 35552594, "answer_count": 1, "score": 0, "last_activity_date": 1456143115, "creation_date": 1456140746, "last_edit_date": 1456143115, "question_id": 35552520, "link": "https://stackoverflow.com/questions/35552520/why-is-my-xml-file-empty-after-generating-with-xmllibxml", "title": "Why is my XML file empty after generating with XML::LibXML", "body": "<p>This is my perl script</p>\n\n<pre><code>#!/usr/bin/perl\n\nuse XML::LibXML;\n$doc = XML::LibXML::Document-&gt;new;\n\nmy $root = $doc-&gt;createElement(\"log\");\n$root -&gt; setAttribute(\"time\" =&gt; \"now\");\n\nmy $tag = $doc-&gt;createElement(\"greeting\");\n\nmy $value = \"hello\";\n$tag -&gt; appendTextNode($value);\n$root -&gt; appendChild($tag);\n\n$doc -&gt; toFile('test.xml');\n</code></pre>\n\n<p>However, the output file test.xml only consists of this line:</p>\n\n<pre><code>&lt;?xml version=\"1.0\"?&gt;\n</code></pre>\n\n<p>I assume that this means that the xml file is created but nothing is added to it. I don't get any errors though, so I don't know where to look. What am I doing wrong?</p>\n"}, {"tags": ["regex", "perl", "conditional", "match", "greedy"], "comments": [{"owner": {"reputation": 481636, "user_id": 3832970, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/64323e6cf08401474da3bf770ea13b58?s=128&d=identicon&r=PG&f=1", "display_name": "Wiktor Stribi\u017cew", "link": "https://stackoverflow.com/users/3832970/wiktor-stribi%c5%bcew"}, "edited": false, "score": 2, "creation_date": 1456140846, "post_id": 35552120, "comment_id": 58793028, "body": "Check <a href=\"https://ideone.com/uOMLK1\" rel=\"nofollow noreferrer\">this code</a> and <a href=\"https://regex101.com/r/mJ1fB3/1\" rel=\"nofollow noreferrer\">this regex demo</a>."}, {"owner": {"reputation": 198290, "user_id": 1030675, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/957956ce51706d03f19a4dc85a767bb1?s=128&d=identicon&r=PG", "display_name": "choroba", "link": "https://stackoverflow.com/users/1030675/choroba"}, "edited": false, "score": 4, "creation_date": 1456141748, "post_id": 35552120, "comment_id": 58793563, "body": "Write a parser for the language. See <a href=\"http://p3rl.org/Marpa::R2\" rel=\"nofollow noreferrer\">Marpa::R2</a> or <a href=\"http://p3rl.org/Parse::RecDescent\" rel=\"nofollow noreferrer\">Parse::RecDescent</a>."}, {"owner": {"reputation": 325, "user_id": 5856095, "user_type": "registered", "accept_rate": 82, "profile_image": "https://www.gravatar.com/avatar/e8e5c412b90786077ddfa0927904b8fe?s=128&d=identicon&r=PG&f=1", "display_name": "katyusza", "link": "https://stackoverflow.com/users/5856095/katyusza"}, "reply_to_user": {"reputation": 481636, "user_id": 3832970, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/64323e6cf08401474da3bf770ea13b58?s=128&d=identicon&r=PG&f=1", "display_name": "Wiktor Stribi\u017cew", "link": "https://stackoverflow.com/users/3832970/wiktor-stribi%c5%bcew"}, "edited": false, "score": 0, "creation_date": 1456142401, "post_id": 35552120, "comment_id": 58794009, "body": "@WiktorStribi\u017cew The match pattern may or may NOT follow an <code>if</code>, so your regex is a little bit limited in its scope, but I really think it&#39;s tidy and neat. Is it possible to make it applicable in more scenarioes?"}, {"owner": {"reputation": 481636, "user_id": 3832970, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/64323e6cf08401474da3bf770ea13b58?s=128&d=identicon&r=PG&f=1", "display_name": "Wiktor Stribi\u017cew", "link": "https://stackoverflow.com/users/3832970/wiktor-stribi%c5%bcew"}, "edited": false, "score": 1, "creation_date": 1456144067, "post_id": 35552120, "comment_id": 58795153, "body": "Katyusza, You may remove <code>if\\s*</code> and it will be a <a href=\"https://regex101.com/r/mJ1fB3/2\" rel=\"nofollow noreferrer\">rather generic pattern</a>."}, {"owner": {"reputation": 45481, "user_id": 197758, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/628da6ba2a6c70e35c009b7e3c3a430a?s=128&d=identicon&r=PG", "display_name": "toolic", "link": "https://stackoverflow.com/users/197758/toolic"}, "edited": false, "score": 2, "creation_date": 1456147479, "post_id": 35552120, "comment_id": 58797494, "body": "It is not trivial to parse Verilog : <a href=\"https://metacpan.org/pod/Verilog-Perl\" rel=\"nofollow noreferrer\">metacpan.org/pod/Verilog-Perl</a>"}, {"owner": {"reputation": 325, "user_id": 5856095, "user_type": "registered", "accept_rate": 82, "profile_image": "https://www.gravatar.com/avatar/e8e5c412b90786077ddfa0927904b8fe?s=128&d=identicon&r=PG&f=1", "display_name": "katyusza", "link": "https://stackoverflow.com/users/5856095/katyusza"}, "reply_to_user": {"reputation": 481636, "user_id": 3832970, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/64323e6cf08401474da3bf770ea13b58?s=128&d=identicon&r=PG&f=1", "display_name": "Wiktor Stribi\u017cew", "link": "https://stackoverflow.com/users/3832970/wiktor-stribi%c5%bcew"}, "edited": false, "score": 0, "creation_date": 1456148221, "post_id": 35552120, "comment_id": 58798033, "body": "@WiktorStribi\u017cew Thanks buddy; I&#39;ll try your <code>(\\((?&gt;[^()]|(?1))*\\))(*SKIP)(*F)|(\\w+)(\\s*&lt;=[^;]*)</code> tomorrow ;-)"}, {"owner": {"reputation": 481636, "user_id": 3832970, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/64323e6cf08401474da3bf770ea13b58?s=128&d=identicon&r=PG&f=1", "display_name": "Wiktor Stribi\u017cew", "link": "https://stackoverflow.com/users/3832970/wiktor-stribi%c5%bcew"}, "edited": false, "score": 0, "creation_date": 1456148376, "post_id": 35552120, "comment_id": 58798130, "body": "I believe you should try toolic&#39;s suggestion."}, {"owner": {"reputation": 325, "user_id": 5856095, "user_type": "registered", "accept_rate": 82, "profile_image": "https://www.gravatar.com/avatar/e8e5c412b90786077ddfa0927904b8fe?s=128&d=identicon&r=PG&f=1", "display_name": "katyusza", "link": "https://stackoverflow.com/users/5856095/katyusza"}, "edited": false, "score": 0, "creation_date": 1456148705, "post_id": 35552120, "comment_id": 58798343, "body": "The reason why I do not use a ready parser is that, I think as a beginner I can learn a lot while hand-crafting such a parser on my own, even if it&#39;s very, very ugly parser &gt;,&lt;"}, {"owner": {"reputation": 123805, "user_id": 622310, "user_type": "registered", "accept_rate": 33, "profile_image": "https://www.gravatar.com/avatar/8b6d35219e1808520bc238b28161e2e6?s=128&d=identicon&r=PG", "display_name": "Borodin", "link": "https://stackoverflow.com/users/622310/borodin"}, "edited": false, "score": 1, "creation_date": 1456149071, "post_id": 35552120, "comment_id": 58798582, "body": "@katyusza: If you go down that route then you should be aware that you&#39;re setting yourself an enormous task. But do take note of <a href=\"http://stackoverflow.com/questions/35552120/how-to-do-conditional-greedy-match-in-perl/35552583?noredirect=1#comment58793563_35552120\">choroba&#39;s comment</a> regarding modules that you might use. You are doomed to fail if you start with simple regexes"}, {"owner": {"reputation": 325, "user_id": 5856095, "user_type": "registered", "accept_rate": 82, "profile_image": "https://www.gravatar.com/avatar/e8e5c412b90786077ddfa0927904b8fe?s=128&d=identicon&r=PG&f=1", "display_name": "katyusza", "link": "https://stackoverflow.com/users/5856095/katyusza"}, "reply_to_user": {"reputation": 123805, "user_id": 622310, "user_type": "registered", "accept_rate": 33, "profile_image": "https://www.gravatar.com/avatar/8b6d35219e1808520bc238b28161e2e6?s=128&d=identicon&r=PG", "display_name": "Borodin", "link": "https://stackoverflow.com/users/622310/borodin"}, "edited": false, "score": 0, "creation_date": 1456210545, "post_id": 35552120, "comment_id": 58828947, "body": "@Borodin Got that; I will read it. Never thought there are existing stuffs to help parse any designated language!"}], "answers": [{"comments": [{"owner": {"reputation": 11918, "user_id": 5527985, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/CfG3C.png?s=128&g=1", "display_name": "bobble bubble", "link": "https://stackoverflow.com/users/5527985/bobble-bubble"}, "reply_to_user": {"reputation": 325, "user_id": 5856095, "user_type": "registered", "accept_rate": 82, "profile_image": "https://www.gravatar.com/avatar/e8e5c412b90786077ddfa0927904b8fe?s=128&d=identicon&r=PG&f=1", "display_name": "katyusza", "link": "https://stackoverflow.com/users/5856095/katyusza"}, "edited": false, "score": 1, "creation_date": 1456143361, "post_id": 35552583, "comment_id": 58794660, "body": "@katyusza It&#39;s similar to <code>s&#47;(\\((?&gt;[^()]+|(?1))*\\))(*SKIP)(*F)|^\\s*\\w+\\K(?=\\s*&lt;=)&#47;_yes&#47;&zwnj;&#8203;gm;</code> just more complicated and of worse performance. Further it relies on matches being preceded by linestart followed by any amount of whitespace. The recursive part was suboptimal and there is no need for <code>s</code> flag as no dot is used. <a href=\"https://regex101.com/r/jP3iN3/1\" rel=\"nofollow noreferrer\">See demo at regex101</a>"}, {"owner": {"reputation": 123805, "user_id": 622310, "user_type": "registered", "accept_rate": 33, "profile_image": "https://www.gravatar.com/avatar/8b6d35219e1808520bc238b28161e2e6?s=128&d=identicon&r=PG", "display_name": "Borodin", "link": "https://stackoverflow.com/users/622310/borodin"}, "reply_to_user": {"reputation": 11918, "user_id": 5527985, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/CfG3C.png?s=128&g=1", "display_name": "bobble bubble", "link": "https://stackoverflow.com/users/5527985/bobble-bubble"}, "edited": false, "score": 0, "creation_date": 1456149498, "post_id": 35552583, "comment_id": 58798893, "body": "@bobblebubble: I&#39;ve made the changes that I assume you meant, but they&#39;re trivial and I&#39;m certain that they&#39;ll have no impact on the performance of the program. Unless the data is <i>enormous</i> this will be disk-bound. I really don&#39;t know what to do instead of anchroing at the start of a line: the whole thing really needs to be anchored behind at a statement boundary, which could be a semicolon of <code>begin</code> or perhaps something else, and then those must be ignored if they&#39;re inside quotes or comments. This really isn&#39;t a job for a one-off regex"}, {"owner": {"reputation": 11918, "user_id": 5527985, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/CfG3C.png?s=128&g=1", "display_name": "bobble bubble", "link": "https://stackoverflow.com/users/5527985/bobble-bubble"}, "edited": false, "score": 0, "creation_date": 1456153566, "post_id": 35552583, "comment_id": 58801830, "body": "@Borodin I don&#39;t see why to split/join over using <code>(*SKIP)(*F)</code> which is handy for such cases and not &quot;magical&quot;. It discards parts that yours use as split sequence. If anchoring to start of line or consuming up to semicolon depends on the input. I would prefer semicolon variant but also yours is fine. For performance I would add <code>+</code> quantifier to <code>[^()]</code> for less alternating: <a href=\"https://goo.gl/I4BkLt\" rel=\"nofollow noreferrer\"><i>184 steps</i> <code>\\((?&gt;[^()]|(?R))*\\)</code></a> vs <a href=\"https://goo.gl/hsCxw0\" rel=\"nofollow noreferrer\"><i>50 steps</i> <code>\\((?&gt;[^()]+|(?R))*\\)</code></a> or <a href=\"https://goo.gl/fbaojm\" rel=\"nofollow noreferrer\"><code>(\\((?&gt;[^()]*(?R)?)*\\))</code>with <i>63 steps</i></a>  in between. Elaborative answer."}, {"owner": {"reputation": 123805, "user_id": 622310, "user_type": "registered", "accept_rate": 33, "profile_image": "https://www.gravatar.com/avatar/8b6d35219e1808520bc238b28161e2e6?s=128&d=identicon&r=PG", "display_name": "Borodin", "link": "https://stackoverflow.com/users/622310/borodin"}, "reply_to_user": {"reputation": 11918, "user_id": 5527985, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/CfG3C.png?s=128&g=1", "display_name": "bobble bubble", "link": "https://stackoverflow.com/users/5527985/bobble-bubble"}, "edited": false, "score": 0, "creation_date": 1456236761, "post_id": 35552583, "comment_id": 58846113, "body": "@bobblebubble: As I said, this problem cannot be solved without regex recursion. I judge <code>\\K</code> and look-aheads to be within an average Perl programmer&#39;s vocabulary, whereas far fewer have even considered backtracking or know about the star commands. If you think my criticism is wrong, then surely you are also wrong to copy it?"}], "tags": [], "owner": {"reputation": 123805, "user_id": 622310, "user_type": "registered", "accept_rate": 33, "profile_image": "https://www.gravatar.com/avatar/8b6d35219e1808520bc238b28161e2e6?s=128&d=identicon&r=PG", "display_name": "Borodin", "link": "https://stackoverflow.com/users/622310/borodin"}, "is_accepted": true, "score": 7, "last_activity_date": 1456149244, "last_edit_date": 1456149244, "creation_date": 1456140947, "answer_id": 35552583, "question_id": 35552120, "link": "https://stackoverflow.com/questions/35552120/how-to-do-conditional-greedy-match-in-perl/35552583#35552583", "title": "How to do conditional greedy match in Perl?", "body": "<p>This is a lot more complicated that you might imagine, and it is impossible to do properly without writing a parser for the language you are trying to process. However, you may be in luck if your sample is a consistently limited subset of the language</p>\n\n<p>The best way I can see to do this is to use <code>split</code> to separate out all the subsections of the string that are in parentheses from the \"top level\" sections where the replacements are to be done. Then the changes can be made to the relevant parts and the split sections joined back together</p>\n\n<p>Even this relies on the code having properly balanced parentheses, and an odd open or closing parenthesis that appears in, say, a string or a comment will throw the process out. The regex used in the <code>split</code> has to be recursive so that nested parentheses can be matched, and making it a <em>capturing</em> regex makes <code>split</code> returns all of the parts of the string instead of just the sections between the matches</p>\n\n<p>This code will do as you ask, but beware that, as I described, it is extremely fragile</p>\n\n<pre><code>use strict;\nuse warnings;\n\nmy $data = do {\n    local $/;\n    &lt;DATA&gt;;\n};\n\nmy @split = split / ( \\( (?&gt; [^()] | (?1) )* \\) ) /x, $data;\n\nfor ( @split ) {\n    next if /[()]/;\n    s/ ^ \\s* \\w+ \\K (?= \\s* &lt;= ) /_yes/xgm;\n}\n\nprint join '', @split;\n\n\n__DATA__\nalways @(posedge clk or negedge rst_n)\nif(!rst_n)begin\n        d1 &lt;= 0; //perl_comment_4\n        //perl_comment_5\n        d2 &lt;= 1  //perl_comment_6\n                 + 2;\n        end\nelse if( d3 &lt;= d4 &amp;&amp; ( d5 &lt;= 3 ) ) begin\n        d6 &lt;= d7 +\n                 (d8 &lt;= d9 ? 1 : 0);\n        //perl_comment_7\n        d10 &lt;= d11 &lt;=\n                      d12\n                        + d13\n                            &lt;= d14 ? 1 : 0;\n        end\n</code></pre>\n\n<h3>output</h3>\n\n<pre class=\"lang-none prettyprint-override\"><code>always @(posedge clk or negedge rst_n)\nif(!rst_n)begin\n        d1_yes &lt;= 0; //perl_comment_4\n        //perl_comment_5\n        d2_yes &lt;= 1  //perl_comment_6\n                 + 2;\n        end\nelse if( d3 &lt;= d4 &amp;&amp; ( d5 &lt;= 3 ) ) begin\n        d6_yes &lt;= d7 +\n                 (d8 &lt;= d9 ? 1 : 0);\n        //perl_comment_7\n        d10_yes &lt;= d11 &lt;=\n                      d12\n                        + d13\n                            &lt;= d14 ? 1 : 0;\n        end\n</code></pre>\n"}], "owner": {"reputation": 325, "user_id": 5856095, "user_type": "registered", "accept_rate": 82, "profile_image": "https://www.gravatar.com/avatar/e8e5c412b90786077ddfa0927904b8fe?s=128&d=identicon&r=PG&f=1", "display_name": "katyusza", "link": "https://stackoverflow.com/users/5856095/katyusza"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 261, "favorite_count": 0, "accepted_answer_id": 35552583, "answer_count": 1, "score": 5, "last_activity_date": 1456149244, "creation_date": 1456139492, "question_id": 35552120, "link": "https://stackoverflow.com/questions/35552120/how-to-do-conditional-greedy-match-in-perl", "title": "How to do conditional greedy match in Perl?", "body": "<p>I want Perl to parse a code text and identify certain stuffs, example code:</p>\n\n<pre><code>use strict;\nuse warnings;\n\n$/ = undef;\n\nwhile (&lt;DATA&gt;) {\n  s/(\\w+)(\\s*&lt;=.*?;)/$1_yes$2/gs;\n  print;\n}\n\n__DATA__\nalways @(posedge clk or negedge rst_n)\nif(!rst_n)begin\n        d1 &lt;= 0; //perl_comment_4\n        //perl_comment_5\n        d2 &lt;= 1  //perl_comment_6\n                 + 2;\n        end\nelse if( d3 &lt;= d4 &amp;&amp; ( d5 &lt;= 3 ) ) begin\n        d6 &lt;= d7 +\n                 (d8 &lt;= d9 ? 1 : 0);\n        //perl_comment_7\n        d10 &lt;= d11 &lt;=\n                      d12\n                        + d13\n                            &lt;= d14 ? 1 : 0;\n        end\n</code></pre>\n\n<p>Match target is something that meets all of the following:</p>\n\n<p>(1) It begins with the combination <code>word\\s*&lt;=</code>. Here <code>\\s*</code> maybe 0 or more spaces, newlines, tabs.</p>\n\n<p>(2) The aforementioned \"combination\" should be out of any pair of <code>(</code> and <code>)</code>.</p>\n\n<p>(3) If multiple \"combinations\" appear consecutively, then take the first one as the beginning. (Something like \"greedy\" matching at the left boundary)</p>\n\n<p>(4) it ends with the first <code>;</code> after the \"combination\" mentioned in (1).</p>\n\n<p>There may be <code>word\\s*&lt;=</code> and <code>;</code> in code comments (there may be anything in comments); this makes things more complicated. To make life easier, I already pre-processed the text, scanning for comments and replacing them with stuff like <code>//perl_comment_6</code>. (This solution seems rather cumbersome and stupid. Any smarter, more elegant solutions?)</p>\n\n<p>What I wanna do:</p>\n\n<p>For all matched <code>word\\s*&lt;=</code>, replace <code>word</code> with <code>word_yes</code>. For the example code, <strong>d1</strong>, <strong>d2</strong>, <strong>d6</strong> and <strong>d10</strong> should be replaced by <strong>d1_yes</strong>, <strong>d2_yes</strong>, <strong>d6_yes</strong> and <strong>d10_yes</strong>, respectively, and all other parts of the text should remain unchanged.</p>\n\n<p>In my current code I use <code>s/(\\w+)(\\s*&lt;=.*?;)/$1_yes$2/gs;</code>, which correctly recognizes <strong>d1</strong>, <strong>d2</strong> and <strong>d10</strong>, but fails to recognize <strong>d6</strong> and mistakenly recognizes <strong>d3</strong>.</p>\n\n<p>Any suggestions? Thanks in advance~</p>\n"}, {"tags": ["regex", "perl", "replace", "conditional"], "comments": [{"owner": {"reputation": 11918, "user_id": 5527985, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/CfG3C.png?s=128&g=1", "display_name": "bobble bubble", "link": "https://stackoverflow.com/users/5527985/bobble-bubble"}, "edited": false, "score": 0, "creation_date": 1456127815, "post_id": 35547683, "comment_id": 58785085, "body": "I&#39;ll remove my answer. <a href=\"https://regex101.com/r/yI0jH2/3\" rel=\"nofollow noreferrer\">Did you try it?</a>"}, {"owner": {"reputation": 325, "user_id": 5856095, "user_type": "registered", "accept_rate": 82, "profile_image": "https://www.gravatar.com/avatar/e8e5c412b90786077ddfa0927904b8fe?s=128&d=identicon&r=PG&f=1", "display_name": "katyusza", "link": "https://stackoverflow.com/users/5856095/katyusza"}, "reply_to_user": {"reputation": 11918, "user_id": 5527985, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/CfG3C.png?s=128&g=1", "display_name": "bobble bubble", "link": "https://stackoverflow.com/users/5527985/bobble-bubble"}, "edited": false, "score": 0, "creation_date": 1456127958, "post_id": 35547683, "comment_id": 58785148, "body": "I&#39;m trying; have not found a solution yet &gt;_&lt;"}, {"owner": {"reputation": 11918, "user_id": 5527985, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/CfG3C.png?s=128&g=1", "display_name": "bobble bubble", "link": "https://stackoverflow.com/users/5527985/bobble-bubble"}, "edited": false, "score": 0, "creation_date": 1456128761, "post_id": 35547683, "comment_id": 58785548, "body": "<a href=\"http://stackoverflow.com/a/24535912/5527985\"><code>How do (*SKIP) or (*F) work on regex?</code></a>"}, {"owner": {"reputation": 325, "user_id": 5856095, "user_type": "registered", "accept_rate": 82, "profile_image": "https://www.gravatar.com/avatar/e8e5c412b90786077ddfa0927904b8fe?s=128&d=identicon&r=PG&f=1", "display_name": "katyusza", "link": "https://stackoverflow.com/users/5856095/katyusza"}, "reply_to_user": {"reputation": 11918, "user_id": 5527985, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/CfG3C.png?s=128&g=1", "display_name": "bobble bubble", "link": "https://stackoverflow.com/users/5527985/bobble-bubble"}, "edited": false, "score": 0, "creation_date": 1456130269, "post_id": 35547683, "comment_id": 58786395, "body": "@bobblebubble They work perfect! Many thanks to your post (which you deleted); based on your code I solved my problem!"}, {"owner": {"reputation": 325, "user_id": 5856095, "user_type": "registered", "accept_rate": 82, "profile_image": "https://www.gravatar.com/avatar/e8e5c412b90786077ddfa0927904b8fe?s=128&d=identicon&r=PG&f=1", "display_name": "katyusza", "link": "https://stackoverflow.com/users/5856095/katyusza"}, "reply_to_user": {"reputation": 11918, "user_id": 5527985, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/CfG3C.png?s=128&g=1", "display_name": "bobble bubble", "link": "https://stackoverflow.com/users/5527985/bobble-bubble"}, "edited": false, "score": 0, "creation_date": 1456130434, "post_id": 35547683, "comment_id": 58786491, "body": "@bobblebubble  Your original post is like: <code>s&#47;(?:(?s:START.*?END)|\\&#47;\\&#47;.*|\\.\\s*\\w+\\b)(*SKIP)(*F)|old&#47;new&#47;&zwnj;&#8203;gs;</code>; I changed it to <code>s&#47;(?:(?:START.*?END)|\\&#47;\\&#47;.*?\\n|\\.\\s*\\w+\\b)(*SKIP)(*F)|old&#47;ne&zwnj;&#8203;w&#47;gs;</code> (so that comments will terminate at end of line, which is \\n) and it totally solved the problem! Thank you~"}, {"owner": {"reputation": 11918, "user_id": 5527985, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/CfG3C.png?s=128&g=1", "display_name": "bobble bubble", "link": "https://stackoverflow.com/users/5527985/bobble-bubble"}, "edited": false, "score": 2, "creation_date": 1456130808, "post_id": 35547683, "comment_id": 58786709, "body": "Also try <code>s&#47;(?:(?s:START.*?END)|\\&#47;\\&#47;.*|\\.\\s*\\w+\\b)(*SKIP)(*F)|old&#47;new&#47;&zwnj;&#8203;g;</code> It probably failed because you use <code>&#47;gs</code> the <code>s</code> flag at the end which makes the dot in all pattern match newline. I only used the inline modifier <code>(?s:</code> for the part where it&#39;s needed.  However, great you got it going :) restored answer as it seemed to be of help to solve problem."}, {"owner": {"reputation": 325, "user_id": 5856095, "user_type": "registered", "accept_rate": 82, "profile_image": "https://www.gravatar.com/avatar/e8e5c412b90786077ddfa0927904b8fe?s=128&d=identicon&r=PG&f=1", "display_name": "katyusza", "link": "https://stackoverflow.com/users/5856095/katyusza"}, "reply_to_user": {"reputation": 11918, "user_id": 5527985, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/CfG3C.png?s=128&g=1", "display_name": "bobble bubble", "link": "https://stackoverflow.com/users/5527985/bobble-bubble"}, "edited": false, "score": 0, "creation_date": 1456131080, "post_id": 35547683, "comment_id": 58786866, "body": "@bobblebubble Yep, you&#39;re right. It&#39;s just either putting the <code>&#47;s</code> flag inside or outside; glad I learned from you and @Jan the <code>(?s:...</code> syntax. Is it OK that I close this question with my own reply stating the final solution?"}, {"owner": {"reputation": 51521, "user_id": 2566198, "user_type": "registered", "accept_rate": 67, "profile_image": "https://i.stack.imgur.com/Y34ZA.jpg?s=128&g=1", "display_name": "Sobrique", "link": "https://stackoverflow.com/users/2566198/sobrique"}, "edited": false, "score": 1, "creation_date": 1456138236, "post_id": 35547683, "comment_id": 58791454, "body": "This is a really good example of why a &#39;single regex&#39; solution to problems is a bad idea."}, {"owner": {"reputation": 325, "user_id": 5856095, "user_type": "registered", "accept_rate": 82, "profile_image": "https://www.gravatar.com/avatar/e8e5c412b90786077ddfa0927904b8fe?s=128&d=identicon&r=PG&f=1", "display_name": "katyusza", "link": "https://stackoverflow.com/users/5856095/katyusza"}, "reply_to_user": {"reputation": 51521, "user_id": 2566198, "user_type": "registered", "accept_rate": 67, "profile_image": "https://i.stack.imgur.com/Y34ZA.jpg?s=128&g=1", "display_name": "Sobrique", "link": "https://stackoverflow.com/users/2566198/sobrique"}, "edited": false, "score": 0, "creation_date": 1456139957, "post_id": 35547683, "comment_id": 58792486, "body": "@Sobrique Your replies have always been inspiring :-) Any further explanations on this? If &quot;single regix&quot; does work, why is it bad?"}, {"owner": {"reputation": 51521, "user_id": 2566198, "user_type": "registered", "accept_rate": 67, "profile_image": "https://i.stack.imgur.com/Y34ZA.jpg?s=128&g=1", "display_name": "Sobrique", "link": "https://stackoverflow.com/users/2566198/sobrique"}, "edited": false, "score": 1, "creation_date": 1456141355, "post_id": 35547683, "comment_id": 58793320, "body": "Imagine you come back to this code in 6 months time, and need to alter your regex. How much chance do you have of doing understanding it?"}, {"owner": {"reputation": 325, "user_id": 5856095, "user_type": "registered", "accept_rate": 82, "profile_image": "https://www.gravatar.com/avatar/e8e5c412b90786077ddfa0927904b8fe?s=128&d=identicon&r=PG&f=1", "display_name": "katyusza", "link": "https://stackoverflow.com/users/5856095/katyusza"}, "reply_to_user": {"reputation": 51521, "user_id": 2566198, "user_type": "registered", "accept_rate": 67, "profile_image": "https://i.stack.imgur.com/Y34ZA.jpg?s=128&g=1", "display_name": "Sobrique", "link": "https://stackoverflow.com/users/2566198/sobrique"}, "edited": false, "score": 0, "creation_date": 1456457964, "post_id": 35547683, "comment_id": 58966974, "body": "@Sobrique Got that ;-) I figure you&#39;re talking about &quot;What the hell is this!?&quot; coding style. My solution is to use comments and documentations to document these &quot;tricky&quot; parts; hopefully they&#39;ll give me chance to understand it 6 months later :)"}, {"owner": {"reputation": 51521, "user_id": 2566198, "user_type": "registered", "accept_rate": 67, "profile_image": "https://i.stack.imgur.com/Y34ZA.jpg?s=128&g=1", "display_name": "Sobrique", "link": "https://stackoverflow.com/users/2566198/sobrique"}, "edited": false, "score": 0, "creation_date": 1456482769, "post_id": 35547683, "comment_id": 58978919, "body": "Yes. But the thing is - you have a code snippet that is going to be very hard to understand, and thus <i>requires</i> documentation. However, if you have written out the algorithm longhand in <code>perl</code> rather than using <code>regex</code> as a programming language, then you&#39;d end up with something that didn&#39;t actually require that. That&#39;s why I really object to the &quot;magic regex&quot; solutions, because they&#39;re MUCH harder to maintain, for no real benefit aside from &#39;looking clever&#39;."}, {"owner": {"reputation": 325, "user_id": 5856095, "user_type": "registered", "accept_rate": 82, "profile_image": "https://www.gravatar.com/avatar/e8e5c412b90786077ddfa0927904b8fe?s=128&d=identicon&r=PG&f=1", "display_name": "katyusza", "link": "https://stackoverflow.com/users/5856095/katyusza"}, "reply_to_user": {"reputation": 51521, "user_id": 2566198, "user_type": "registered", "accept_rate": 67, "profile_image": "https://i.stack.imgur.com/Y34ZA.jpg?s=128&g=1", "display_name": "Sobrique", "link": "https://stackoverflow.com/users/2566198/sobrique"}, "edited": false, "score": 0, "creation_date": 1456887801, "post_id": 35547683, "comment_id": 59149543, "body": "@Sobrique Got that; learning it. Thank you~!"}], "answers": [{"comments": [{"owner": {"reputation": 325, "user_id": 5856095, "user_type": "registered", "accept_rate": 82, "profile_image": "https://www.gravatar.com/avatar/e8e5c412b90786077ddfa0927904b8fe?s=128&d=identicon&r=PG&f=1", "display_name": "katyusza", "link": "https://stackoverflow.com/users/5856095/katyusza"}, "edited": false, "score": 0, "creation_date": 1456125779, "post_id": 35547783, "comment_id": 58784080, "body": "Thanks; I&#39;m checking it out."}, {"owner": {"reputation": 11918, "user_id": 5527985, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/CfG3C.png?s=128&g=1", "display_name": "bobble bubble", "link": "https://stackoverflow.com/users/5527985/bobble-bubble"}, "reply_to_user": {"reputation": 325, "user_id": 5856095, "user_type": "registered", "accept_rate": 82, "profile_image": "https://www.gravatar.com/avatar/e8e5c412b90786077ddfa0927904b8fe?s=128&d=identicon&r=PG&f=1", "display_name": "katyusza", "link": "https://stackoverflow.com/users/5856095/katyusza"}, "edited": false, "score": 0, "creation_date": 1456126685, "post_id": 35547783, "comment_id": 58784557, "body": "@katyusza I thought it&#39;s obvious, that you need to use <code>old</code> or whatever in the part to match, <a href=\"https://regex101.com/r/yI0jH2/3\" rel=\"nofollow noreferrer\">see update</a>."}, {"owner": {"reputation": 325, "user_id": 5856095, "user_type": "registered", "accept_rate": 82, "profile_image": "https://www.gravatar.com/avatar/e8e5c412b90786077ddfa0927904b8fe?s=128&d=identicon&r=PG&f=1", "display_name": "katyusza", "link": "https://stackoverflow.com/users/5856095/katyusza"}, "edited": false, "score": 0, "creation_date": 1456131589, "post_id": 35547783, "comment_id": 58787135, "body": "Yes, either one of the following can do what I want: (1) <code>s&#47;(?:(?:START.*?END)|\\&#47;\\&#47;.*?\\n|\\.\\s*\\w+\\b)(*SKIP)(*F)|old&#47;ne&zwnj;&#8203;w&#47;gs;</code> (2) <code>s&#47;(?:(?s:START.*?END)|\\&#47;\\&#47;.*|\\.\\s*\\w+\\b)(*SKIP)(*F)|old&#47;new&#47;&zwnj;&#8203;g;</code> (3) <code>s&#47;(?:START.*?END|\\&#47;\\&#47;.*?\\n|\\.\\s*\\w+\\b)(*SKIP)(*F)|old&#47;new&#47;gs&zwnj;&#8203;;</code>"}, {"owner": {"reputation": 11918, "user_id": 5527985, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/CfG3C.png?s=128&g=1", "display_name": "bobble bubble", "link": "https://stackoverflow.com/users/5527985/bobble-bubble"}, "reply_to_user": {"reputation": 325, "user_id": 5856095, "user_type": "registered", "accept_rate": 82, "profile_image": "https://www.gravatar.com/avatar/e8e5c412b90786077ddfa0927904b8fe?s=128&d=identicon&r=PG&f=1", "display_name": "katyusza", "link": "https://stackoverflow.com/users/5856095/katyusza"}, "edited": false, "score": 0, "creation_date": 1456132238, "post_id": 35547783, "comment_id": 58787535, "body": "@katyusza <a href=\"http://www.regular-expressions.info/dot.html\" rel=\"nofollow noreferrer\">The dot default matches any character besides newline</a>. So it would NOT skip over newlines by default. That the dot matches newlines was only needed for the <code>START.*?END</code> part which could span across multiple lines. That&#39;s why I used the inline <a href=\"http://www.regular-expressions.info/modifiers.html\" rel=\"nofollow noreferrer\">modifier</a> only for this part."}, {"owner": {"reputation": 325, "user_id": 5856095, "user_type": "registered", "accept_rate": 82, "profile_image": "https://www.gravatar.com/avatar/e8e5c412b90786077ddfa0927904b8fe?s=128&d=identicon&r=PG&f=1", "display_name": "katyusza", "link": "https://stackoverflow.com/users/5856095/katyusza"}, "edited": false, "score": 0, "creation_date": 1456134662, "post_id": 35547783, "comment_id": 58789115, "body": "In my intention, the newline may also appear between <code>.</code> and <code>pattern</code>."}], "tags": [], "owner": {"reputation": 11918, "user_id": 5527985, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/CfG3C.png?s=128&g=1", "display_name": "bobble bubble", "link": "https://stackoverflow.com/users/5527985/bobble-bubble"}, "is_accepted": true, "score": 3, "last_activity_date": 1456126639, "last_edit_date": 1495539918, "creation_date": 1456125321, "answer_id": 35547783, "question_id": 35547683, "link": "https://stackoverflow.com/questions/35547683/how-to-ignore-parts-of-the-text-and-do-search-and-replace-in-the-remaining-part/35547783#35547783", "title": "How to ignore parts of the text and do search-and-replace in the remaining part?", "body": "<p>You can use <a href=\"http://perldoc.perl.org/perlre.html#Special-Backtracking-Control-Verbs\" rel=\"nofollow noreferrer\"><code>(*SKIP)(*F)</code> verbs</a> to skip something.</p>\n\n<pre><code>(?:(?s:START.*?END)|\\/\\/.*|\\.\\s*\\w+\\b)(*SKIP)(*F)|old\n</code></pre>\n\n<p>It works like this: <code>(?:part 1 to skip|part 2 to skip|...)(*SKIP)(*F)</code> <code>|</code> <code>part to match</code></p>\n\n<ul>\n<li><code>(?:</code> opens a <a href=\"https://stackoverflow.com/questions/3512471/what-is-a-non-capturing-group\">non capture group</a> for alternation <code>(?s:</code> with <code>s</code> <a href=\"http://www.regular-expressions.info/modifiers.html\" rel=\"nofollow noreferrer\">flag</a> to make dot match newline</li>\n<li><code>\\w</code> matches a <a href=\"http://www.regular-expressions.info/shorthand.html\" rel=\"nofollow noreferrer\">word character</a> <code>[A-Za-z0-9_]</code></li>\n<li><code>\\b</code> matches a <a href=\"http://www.regular-expressions.info/wordboundaries.html\" rel=\"nofollow noreferrer\">word boundary</a></li>\n</ul>\n\n<p><a href=\"https://regex101.com/r/yI0jH2/3\" rel=\"nofollow noreferrer\">See demo at regex101</a></p>\n"}, {"comments": [{"owner": {"reputation": 325, "user_id": 5856095, "user_type": "registered", "accept_rate": 82, "profile_image": "https://www.gravatar.com/avatar/e8e5c412b90786077ddfa0927904b8fe?s=128&d=identicon&r=PG&f=1", "display_name": "katyusza", "link": "https://stackoverflow.com/users/5856095/katyusza"}, "edited": false, "score": 0, "creation_date": 1456126555, "post_id": 35547890, "comment_id": 58784496, "body": "The demo exactly matches what I intended, but when I put it into <code>s&#47;&#47;&#47;gs</code>, it issues an error: <code>syntax error at ... line .., near &quot;+|&quot;</code>, <code>Substitution pattern not terminated at ... line 10.</code>"}, {"owner": {"reputation": 37822, "user_id": 1231450, "user_type": "registered", "accept_rate": 87, "profile_image": "https://www.gravatar.com/avatar/b9c98b4ce12bf9fd925d8c35c8861bb2?s=128&d=identicon&r=PG", "display_name": "Jan", "link": "https://stackoverflow.com/users/1231450/jan"}, "reply_to_user": {"reputation": 325, "user_id": 5856095, "user_type": "registered", "accept_rate": 82, "profile_image": "https://www.gravatar.com/avatar/e8e5c412b90786077ddfa0927904b8fe?s=128&d=identicon&r=PG&f=1", "display_name": "katyusza", "link": "https://stackoverflow.com/users/5856095/katyusza"}, "edited": false, "score": 0, "creation_date": 1456126643, "post_id": 35547890, "comment_id": 58784540, "body": "You need to use other delimiters: <code>~</code> instead of the forward slashes - otherwise, you need to escape the slashes like <code>\\&#47;\\&#47;</code>."}, {"owner": {"reputation": 325, "user_id": 5856095, "user_type": "registered", "accept_rate": 82, "profile_image": "https://www.gravatar.com/avatar/e8e5c412b90786077ddfa0927904b8fe?s=128&d=identicon&r=PG&f=1", "display_name": "katyusza", "link": "https://stackoverflow.com/users/5856095/katyusza"}, "edited": false, "score": 0, "creation_date": 1456127170, "post_id": 35547890, "comment_id": 58784767, "body": "I escaped it using <code>\\&#47;\\&#47;</code>, now in the output file some stuffs are missing, which is not desired. I want full text to be printed."}, {"owner": {"reputation": 37822, "user_id": 1231450, "user_type": "registered", "accept_rate": 87, "profile_image": "https://www.gravatar.com/avatar/b9c98b4ce12bf9fd925d8c35c8861bb2?s=128&d=identicon&r=PG", "display_name": "Jan", "link": "https://stackoverflow.com/users/1231450/jan"}, "reply_to_user": {"reputation": 325, "user_id": 5856095, "user_type": "registered", "accept_rate": 82, "profile_image": "https://www.gravatar.com/avatar/e8e5c412b90786077ddfa0927904b8fe?s=128&d=identicon&r=PG&f=1", "display_name": "katyusza", "link": "https://stackoverflow.com/users/5856095/katyusza"}, "edited": false, "score": 0, "creation_date": 1456127298, "post_id": 35547890, "comment_id": 58784843, "body": "What do you mean by &quot;I want full text to be printed&quot; ?"}, {"owner": {"reputation": 325, "user_id": 5856095, "user_type": "registered", "accept_rate": 82, "profile_image": "https://www.gravatar.com/avatar/e8e5c412b90786077ddfa0927904b8fe?s=128&d=identicon&r=PG&f=1", "display_name": "katyusza", "link": "https://stackoverflow.com/users/5856095/katyusza"}, "edited": false, "score": 0, "creation_date": 1456127814, "post_id": 35547890, "comment_id": 58785082, "body": "I mean, I use <code>s&#47;(?s)(?:START).*?(?:END)(?-s)|\\&#47;\\&#47;.+|\\. old|^\\s+old(*SKIP)(*FAIL)|\\b(old)\\b&#47;new&#47;gs;</code> in my code, and in the output result, first line becomes stuff like <code>xx new xx    --&gt; ignore</code>, the leading &quot;xx START&quot; and trailing &quot;END xx&quot; are gone."}, {"owner": {"reputation": 11918, "user_id": 5527985, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/CfG3C.png?s=128&g=1", "display_name": "bobble bubble", "link": "https://stackoverflow.com/users/5527985/bobble-bubble"}, "edited": false, "score": 0, "creation_date": 1456127994, "post_id": 35547890, "comment_id": 58785175, "body": "This is also the right answer :) Probably the key is to understand how <code>(*SKIP)(*F)</code> works."}, {"owner": {"reputation": 325, "user_id": 5856095, "user_type": "registered", "accept_rate": 82, "profile_image": "https://www.gravatar.com/avatar/e8e5c412b90786077ddfa0927904b8fe?s=128&d=identicon&r=PG&f=1", "display_name": "katyusza", "link": "https://stackoverflow.com/users/5856095/katyusza"}, "reply_to_user": {"reputation": 11918, "user_id": 5527985, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/CfG3C.png?s=128&g=1", "display_name": "bobble bubble", "link": "https://stackoverflow.com/users/5527985/bobble-bubble"}, "edited": false, "score": 0, "creation_date": 1456128457, "post_id": 35547890, "comment_id": 58785386, "body": "@bobblebubble Yep; I&#39;m just googling (*SKIP)(*F) stuff &gt;,&lt;"}], "tags": [], "owner": {"reputation": 37822, "user_id": 1231450, "user_type": "registered", "accept_rate": 87, "profile_image": "https://www.gravatar.com/avatar/b9c98b4ce12bf9fd925d8c35c8861bb2?s=128&d=identicon&r=PG", "display_name": "Jan", "link": "https://stackoverflow.com/users/1231450/jan"}, "is_accepted": false, "score": 2, "last_activity_date": 1456140899, "last_edit_date": 1456140899, "creation_date": 1456125745, "answer_id": 35547890, "question_id": 35547683, "link": "https://stackoverflow.com/questions/35547683/how-to-ignore-parts-of-the-text-and-do-search-and-replace-in-the-remaining-part/35547890#35547890", "title": "How to ignore parts of the text and do search-and-replace in the remaining part?", "body": "<p>You need to be more precise on your structue (i.e. when old should be ignored), but for your example the following regex will work (<a href=\"https://regex101.com/r/kZ7lW3/1\" rel=\"nofollow\">demo on regex101.com</a>):</p>\n\n<pre><code>~                                       # delimiter\n    (?s)(?:START).*?(?:END)(?-s)|       # look for START-END in single-line mode OR\n    //.+|                               # everything after two forward slashes\n    \\.\\sold|                             # the word old after a dot and space OR\n    ^\\s+old                             # old after spaces at the beginning of the line\n    (*SKIP)(*FAIL)|                     # all these matches shall fail\n    \\b(old)\\b                           # this one is to be kept\n~xg                                     # verbose and multiline modifier\n</code></pre>\n\n<p>To read more about the concept, check this fantastic site - <a href=\"http://www.rexegg.com/regex-best-trick.html\" rel=\"nofollow\">rexegg.com</a>.</p>\n"}, {"tags": [], "owner": {"reputation": 325, "user_id": 5856095, "user_type": "registered", "accept_rate": 82, "profile_image": "https://www.gravatar.com/avatar/e8e5c412b90786077ddfa0927904b8fe?s=128&d=identicon&r=PG&f=1", "display_name": "katyusza", "link": "https://stackoverflow.com/users/5856095/katyusza"}, "is_accepted": false, "score": 0, "last_activity_date": 1456131252, "creation_date": 1456131252, "answer_id": 35549363, "question_id": 35547683, "link": "https://stackoverflow.com/questions/35547683/how-to-ignore-parts-of-the-text-and-do-search-and-replace-in-the-remaining-part/35549363#35549363", "title": "How to ignore parts of the text and do search-and-replace in the remaining part?", "body": "<p>Thanks to the valuable contributions from @bobblebubble and @Jan, and based on the Perl code in their replies, I eventually learned to use (*SKIP)(*F) to skip, jumper over or ignore unwanted segments. The final code is:</p>\n\n<pre><code>#!/usr/bin/env perl\nuse strict;\nuse warnings;\n\n$/ = undef;\n\n#iterate the DATA filehandle\nwhile (&lt;DATA&gt;) {\n    # This one replaces ALL occurrences of pattern.\n#    s/old/new/gs;\n\n    # How to skip the unwanted segments and do the replace:\n    # Both are good.\n    #s/(?:(?:START.*?END)|\\/\\/.*?\\n|\\.\\s*\\w+\\b)(*SKIP)(*F)|old/new/gs;\n    s/(?:(?s:START.*?END)|\\/\\/.*|\\.\\s*\\w+\\b)(*SKIP)(*F)|old/new/g;\n    #print all\n    print;\n}\n\n##inlined data filehandle for testing. \n__DATA__\nxx START xx old xx END xx   --&gt; ignore\nxx old xx                   --&gt; REPLACE !\nSTART xx old                --&gt; ignore\n      xx old xx END         --&gt; ignore\n      xx old xx             --&gt; REPLACE !\n// xx old                   --&gt; ignore\nxx // xx old                --&gt; ignore\nxx . old old xx             --&gt; ignore first one, replace second one\n.\n  old                       --&gt; ignore\n  (old) xx                  --&gt; REPLACE !\nxx old xx                   --&gt; REPLACE !\n</code></pre>\n\n<p>And, again, many thanks to bobble bubble and Jan.</p>\n"}], "owner": {"reputation": 325, "user_id": 5856095, "user_type": "registered", "accept_rate": 82, "profile_image": "https://www.gravatar.com/avatar/e8e5c412b90786077ddfa0927904b8fe?s=128&d=identicon&r=PG&f=1", "display_name": "katyusza", "link": "https://stackoverflow.com/users/5856095/katyusza"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 1173, "favorite_count": 0, "closed_date": 1456171095, "accepted_answer_id": 35547783, "answer_count": 3, "score": 3, "last_activity_date": 1456140899, "creation_date": 1456124944, "question_id": 35547683, "link": "https://stackoverflow.com/questions/35547683/how-to-ignore-parts-of-the-text-and-do-search-and-replace-in-the-remaining-part", "closed_reason": "Duplicate", "title": "How to ignore parts of the text and do search-and-replace in the remaining part?", "body": "<p>While doing regex find-and-replace in text file, I wanna jump over &amp; ignore certain segments of the text. That is, certain parts of the text should be excluded from the search, and only do search &amp; replace in the remaining parts. The criteria is:</p>\n\n<p>(1) anything between <code>START</code> and <code>END</code> should be excluded from the search &amp; replace.\n    <code>START</code> may or may not be at the start of a line;\n    <code>END</code> may or may not be at the end of a line;\n    one pair of <code>START</code> &amp; <code>END</code> may span multiple lines;</p>\n\n<p>(2) anything wihtin inline comment <code>//</code> should be ignored;\n    <code>//</code> may or may not be at the start of line;</p>\n\n<p>(3) the first word after <code>.</code> should be ignored;\n    <code>.</code> may or may not be at the start of a line;\n    the word may immediately follow <code>.</code> or with spaces, newlines, tabs splitting them.</p>\n\n<p>Example code:</p>\n\n<pre><code>#!/usr/bin/env perl\nuse strict;\nuse warnings;\n\n$/ = undef;\n\n#iterate the DATA filehandle\nwhile (&lt;DATA&gt;) {\n    # This one replaces ALL occurrences of pattern.\n    s/old/new/gs;\n\n    # How do I skip the unwanted segments and do the replace?\n    #print all\n    print;\n}\n\n##inlined data filehandle for testing. \n__DATA__\nxx START xx old xx END xx   --&gt; ignore\nxx old xx                   --&gt; REPLACE !\nSTART xx old                --&gt; ignore\n      xx old xx END         --&gt; ignore\n      xx old xx             --&gt; REPLACE !\n// xx old                   --&gt; ignore\nxx // xx old                --&gt; ignore\nxx . old old xx             --&gt; ignore first one, replace second one\n.\n  old                       --&gt; ignore\n  (old) xx                  --&gt; REPLACE !\nxx old xx                   --&gt; REPLACE !\n</code></pre>\n\n<p>Expected output is:</p>\n\n<pre><code>xx START xx old xx END xx   --&gt; ignore\nxx new xx                   --&gt; REPLACE !\nSTART xx old                --&gt; ignore\n      xx old xx END         --&gt; ignore\n      xx new xx             --&gt; REPLACE !\n// xx old                   --&gt; ignore\nxx // xx old                --&gt; ignore\nxx . old new xx             --&gt; ignore first one, replace second one\n.\n  old                       --&gt; ignore\n  (new) xx                  --&gt; REPLACE !\nxx new xx                   --&gt; REPLACE !\n</code></pre>\n\n<p>Can anyone help me with the regex here? I posted a similar question couple of hours ago, but that post was full of ambiguities and precludes a clear answer. Hopefully this post may be a \"good\" &amp; \"clear\" question.</p>\n"}, {"tags": ["perl"], "comments": [{"owner": {"reputation": 80882, "user_id": 18157, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/4d3de78b198076dd5a5006abd17cb0f8?s=128&d=identicon&r=PG&f=1", "display_name": "Jim Garrison", "link": "https://stackoverflow.com/users/18157/jim-garrison"}, "edited": false, "score": 1, "creation_date": 1456121603, "post_id": 35546828, "comment_id": 58782228, "body": "<i>&quot;...giving an error...&quot;</i> -- what error?"}, {"owner": {"reputation": 6258, "user_id": 82262, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/8ce15931410b388a52eb2df4a864137f?s=128&d=identicon&r=PG&f=1", "display_name": "Matt Jacob", "link": "https://stackoverflow.com/users/82262/matt-jacob"}, "edited": false, "score": 2, "creation_date": 1456121693, "post_id": 35546828, "comment_id": 58782262, "body": "Do you know what this does? <code>chomp ($cel = &quot;&quot; );</code>"}, {"owner": {"reputation": 1, "user_id": 3404742, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/fdff6e1f1e81bef7150053d921f5cffe?s=128&d=identicon&r=PG&f=1", "display_name": "user3404742", "link": "https://stackoverflow.com/users/3404742/user3404742"}, "edited": false, "score": 0, "creation_date": 1456121703, "post_id": 35546828, "comment_id": 58782264, "body": "It shows the menu then says: Enter a choice (1-3): which when I enter 1 or 2 it prints the Error Message &quot;You entered and invalid choice please choose a choice from the menu.&quot; and it keeps looping that message infinitely until I exit the CMD."}, {"owner": {"reputation": 6258, "user_id": 82262, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/8ce15931410b388a52eb2df4a864137f?s=128&d=identicon&r=PG&f=1", "display_name": "Matt Jacob", "link": "https://stackoverflow.com/users/82262/matt-jacob"}, "edited": false, "score": 0, "creation_date": 1456121758, "post_id": 35546828, "comment_id": 58782289, "body": "No, the specific piece of code I copied and pasted into my comment..."}, {"owner": {"reputation": 62184, "user_id": 7231, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/81b76985f3985e35492e25880493d045?s=128&d=identicon&r=PG", "display_name": "Dave Cross", "link": "https://stackoverflow.com/users/7231/dave-cross"}, "edited": false, "score": 0, "creation_date": 1456132669, "post_id": 35546828, "comment_id": 58787808, "body": "Please don&#39;t call subroutines using an ampersand. It&#39;s not necessary and runs the risk of invoking some confusing behaviour. And throw away whatever resource you&#39;re using which tells you to do that - as it&#39;s very outdated. Also, the <code>|</code> characters in the regex in <code>IsNumeric()</code> are unnecessary."}], "answers": [{"tags": [], "owner": {"reputation": 6258, "user_id": 82262, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/8ce15931410b388a52eb2df4a864137f?s=128&d=identicon&r=PG&f=1", "display_name": "Matt Jacob", "link": "https://stackoverflow.com/users/82262/matt-jacob"}, "is_accepted": false, "score": 4, "last_activity_date": 1456122406, "last_edit_date": 1456122406, "creation_date": 1456122048, "answer_id": 35546975, "question_id": 35546828, "link": "https://stackoverflow.com/questions/35546828/perl-temp-converter/35546975#35546975", "title": "Perl Temp Converter", "body": "<p>There's a lot of room for improvement in your code, but since this isn't a code review, I'll answer the question you asked and leave it at that. Your pattern of (not) reading input and chomping it is wrong. Instead of this:</p>\n\n<pre><code>print \"\\nEnter a Temperature: \";\nchomp ($cel = \"\" );\n</code></pre>\n\n<p>You need to read from <code>STDIN</code> and then <a href=\"http://perldoc.perl.org/functions/chomp.html\" rel=\"nofollow\"><code>chomp</code></a> without also assigning to an empty string:</p>\n\n<pre><code>$cel = &lt;STDIN&gt;;\nchomp($cel);\n</code></pre>\n\n<p>Or just:</p>\n\n<pre><code>chomp($cel = &lt;STDIN&gt;);\n</code></pre>\n\n<p>If you had included <code>use warnings</code> at the top of your script, you would have seen the following message or something very similar to it:</p>\n\n<blockquote>\n  <p>Argument \"\" isn't numeric in numeric ne (!=) at foo.pl line 59,\n   line 1.</p>\n</blockquote>\n\n<p>And that would have alerted you that something wasn't being set to the value you thought it was being set to.</p>\n"}, {"tags": [], "owner": {"reputation": 123805, "user_id": 622310, "user_type": "registered", "accept_rate": 33, "profile_image": "https://www.gravatar.com/avatar/8b6d35219e1808520bc238b28161e2e6?s=128&d=identicon&r=PG", "display_name": "Borodin", "link": "https://stackoverflow.com/users/622310/borodin"}, "is_accepted": false, "score": 2, "last_activity_date": 1456122086, "creation_date": 1456122086, "answer_id": 35546983, "question_id": 35546828, "link": "https://stackoverflow.com/questions/35546828/perl-temp-converter/35546983#35546983", "title": "Perl Temp Converter", "body": "<p>Your code never retrieves a temperature. You have</p>\n\n<pre><code>chomp( $cel = \"\" );\n</code></pre>\n\n<p>and</p>\n\n<pre><code>chomp ($fahr = \"\" );\n</code></pre>\n\n<p>which just assigns the null string to those variables. You need <code>&lt;&gt;</code> in place of <code>\"\"</code></p>\n\n<p>Note also that you should never call a Perl subroutine using an ampersand. Wherever you read instructions to do that, it is very out of date. You should also always <code>use warnings 'all'</code> in addition to <code>use strict</code>, and you should avoid using capital letters for local variables</p>\n\n<p>Finally, your regex <code>/^[0-9|.|,]*$/</code> uses a character class which will match any one of the characters 0 through 9, a comma, a dot or a pipe. I am sure that's not what you meant. Perl won't handle numbers containing comma or pipe characters</p>\n"}, {"comments": [{"owner": {"reputation": 4514, "user_id": 4248931, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/HijcJ.png?s=128&g=1", "display_name": "serenesat", "link": "https://stackoverflow.com/users/4248931/serenesat"}, "edited": false, "score": 0, "creation_date": 1456204364, "post_id": 35547041, "comment_id": 58826376, "body": "Why downvote? Downvoter can you please leave a comment?"}], "tags": [], "owner": {"reputation": 4514, "user_id": 4248931, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/HijcJ.png?s=128&g=1", "display_name": "serenesat", "link": "https://stackoverflow.com/users/4248931/serenesat"}, "is_accepted": false, "score": 0, "last_activity_date": 1456122304, "creation_date": 1456122304, "answer_id": 35547041, "question_id": 35546828, "link": "https://stackoverflow.com/questions/35546828/perl-temp-converter/35547041#35547041", "title": "Perl Temp Converter", "body": "<p>After entering an option 1 or 2 you have asked to enter a temperature, but you are not reading this temperature from input.</p>\n\n<p>This <code>chomp ($cel = \"\" );</code> and <code>chomp ($fahr = \"\" );</code>, you didn't read input and choping it. Write it as:</p>\n\n<pre><code>chomp ($cel = &lt;STDIN&gt;);\n</code></pre>\n\n<p>and</p>\n\n<pre><code>chomp ($fahr = &lt;STDIN&gt;);\n</code></pre>\n\n<p>And there is no need to declare <code>$choice</code> two times. This code needs lot of improvement.</p>\n"}], "owner": {"reputation": 1, "user_id": 3404742, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/fdff6e1f1e81bef7150053d921f5cffe?s=128&d=identicon&r=PG&f=1", "display_name": "user3404742", "link": "https://stackoverflow.com/users/3404742/user3404742"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 158, "favorite_count": 0, "answer_count": 3, "score": 0, "last_activity_date": 1456130705, "creation_date": 1456121337, "last_edit_date": 1456130705, "question_id": 35546828, "link": "https://stackoverflow.com/questions/35546828/perl-temp-converter", "title": "Perl Temp Converter", "body": "<p>Here's my code for Perl, and when I run it, it will display my menu and I can exit with 3. But both 1 and 2 on the menu aren't registering as value input and instead going straight to else and giving an error resulting in an endless loop.</p>\n\n<pre><code>#! c:\\Strawberry\\perl\\bin\\Perl.exe\n# This is a simple Temperature converter\n# that will convert Fahrenheit to Celsius\n# and Celsius to Fahrenheit.\nuse strict;\nmy $fahr = 0;\nmy $cel = 0;\nmy $choice = 0;\nmy $input = 0;\n\nprint \"\\n\";\nprint \"*********************************************\\n\";\nprint \"*** This is a Temperature Converter ***\\n\";\nprint \"*********************************************\\n\";\nprint \"1. Celsius to Fahrenheit.\\n\";\nprint \"2. Fahrenheit to Celsius. \\n\";\nprint \"3. Exit\\n\";\nprint \"*********************************************\\n\\n\";\nprint \"Enter a choice (1-3): \";\nmy $choice = &lt;STDIN&gt;;\nchomp ($choice);\nif(&amp;IsNumeric($choice) == 0) {\n       $choice = 0;\n    }\n\nwhile ($choice != 3) {\n# Do conversion from C to F\n        if ($choice == 1) {\n            print \"\\nEnter a Temperature: \";\n            chomp ($cel = \"\" );\n            $fahr = ($cel * (9 / 5)) + 32;\n\n# Format to one decimal\n            $fahr = sprintf(\"%.1f\", $fahr);\n\n            print \"$cel degrees Celsius = \";\n            print \"$fahr degrees Fahrenheit\\n\";\n        }\n\n# Do conversion from F to C\n        elsif ($choice == 2) {\n            print \"\\nEnter a Temperature: \";\n            chomp ($fahr = \"\" );    \n            $cel = ($fahr - 32) * 5 / 9;\n\n# Format to one decimal\n            $cel = sprintf(\"%.1f\", $cel);\n\n            print \"$fahr degrees Fahrenheit = \";\n            print \"$cel degrees Celsius\\n\";\n        }\n\n# Display Error Message\n        else {\n            print \"\\nYou entered and invalid choice please choose a choice from the menu.\\n\\n\";\n        }\n\n        print \"\\nEnter a Choice (1-3): \";\n        chomp ($choice = \"\" );\n\n        if(&amp;IsNumeric($choice) == 0) {\n            $choice = 0;\n        }\n    }\n\n# Sub Name: IsNumeric.\n# Description: This sub validates the input to check to see if\n# the input is a Numeric value\n# Example: 100, 1,000, $10.00, and 14.00 are valid inputs.\n    sub IsNumeric {\n        my $InputString = shift;\n\n        if ($InputString !~ /^[0-9|.|,]*$/) {\n            return 0;\n        }\n        else {\n            return 1;   \n        }   \n}\n</code></pre>\n"}, {"tags": ["regex", "perl", "replace", "conditional", "skip"], "comments": [{"owner": {"reputation": 325, "user_id": 5856095, "user_type": "registered", "accept_rate": 82, "profile_image": "https://www.gravatar.com/avatar/e8e5c412b90786077ddfa0927904b8fe?s=128&d=identicon&r=PG&f=1", "display_name": "katyusza", "link": "https://stackoverflow.com/users/5856095/katyusza"}, "edited": false, "score": 0, "creation_date": 1456123525, "post_id": 35545635, "comment_id": 58783067, "body": "Thanks to the suggestions of someone who helped answer this question, I realized my question has many ambiguities which preclude a complete coverage of all cases that I intended to cover. I&#39;ll just see if I can put a new post with a revised way of expressing my question."}, {"owner": {"reputation": 13757, "user_id": 1270003, "user_type": "registered", "accept_rate": 87, "profile_image": "https://www.gravatar.com/avatar/d5ed9123b92a6e4dffa75f9f6dd9e382?s=128&d=identicon&r=PG&f=1", "display_name": "texasbruce", "link": "https://stackoverflow.com/users/1270003/texasbruce"}, "edited": false, "score": 0, "creation_date": 1456170393, "post_id": 35545635, "comment_id": 58813107, "body": "Your comment in the code and EDIT is conflicting. In the code you are saying between START and END, with in comments, should NOT replace, and in your EDIT, you say all the pattern within START END range and first occurrence after . should be replaced."}, {"owner": {"reputation": 325, "user_id": 5856095, "user_type": "registered", "accept_rate": 82, "profile_image": "https://www.gravatar.com/avatar/e8e5c412b90786077ddfa0927904b8fe?s=128&d=identicon&r=PG&f=1", "display_name": "katyusza", "link": "https://stackoverflow.com/users/5856095/katyusza"}, "reply_to_user": {"reputation": 13757, "user_id": 1270003, "user_type": "registered", "accept_rate": 87, "profile_image": "https://www.gravatar.com/avatar/d5ed9123b92a6e4dffa75f9f6dd9e382?s=128&d=identicon&r=PG&f=1", "display_name": "texasbruce", "link": "https://stackoverflow.com/users/1270003/texasbruce"}, "edited": false, "score": 0, "creation_date": 1456199022, "post_id": 35545635, "comment_id": 58824560, "body": "@texasbruce Thanks for your careful examination of the post, dear friend. I already updated the post for consistency. Actually this post is not a &quot;good&quot; question; I already posted a new question at <a href=\"http://stackoverflow.com/questions/35547683/how-to-ignore-parts-of-the-text-and-do-search-and-replace-in-the-remaining-part\">click_this_link</a>, and it&#39;s been solved. Thanks, again :-)"}], "answers": [{"comments": [{"owner": {"reputation": 325, "user_id": 5856095, "user_type": "registered", "accept_rate": 82, "profile_image": "https://www.gravatar.com/avatar/e8e5c412b90786077ddfa0927904b8fe?s=128&d=identicon&r=PG&f=1", "display_name": "katyusza", "link": "https://stackoverflow.com/users/5856095/katyusza"}, "edited": false, "score": 0, "creation_date": 1456122598, "post_id": 35545794, "comment_id": 58782653, "body": "This one doesn&#39;t seem to solve the problem buddy~"}, {"owner": {"reputation": 13757, "user_id": 1270003, "user_type": "registered", "accept_rate": 87, "profile_image": "https://www.gravatar.com/avatar/d5ed9123b92a6e4dffa75f9f6dd9e382?s=128&d=identicon&r=PG&f=1", "display_name": "texasbruce", "link": "https://stackoverflow.com/users/1270003/texasbruce"}, "reply_to_user": {"reputation": 325, "user_id": 5856095, "user_type": "registered", "accept_rate": 82, "profile_image": "https://www.gravatar.com/avatar/e8e5c412b90786077ddfa0927904b8fe?s=128&d=identicon&r=PG&f=1", "display_name": "katyusza", "link": "https://stackoverflow.com/users/5856095/katyusza"}, "edited": false, "score": 0, "creation_date": 1456160334, "post_id": 35545794, "comment_id": 58807072, "body": "@katyusza Does not seem to? Care to elaborate?"}, {"owner": {"reputation": 6258, "user_id": 82262, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/8ce15931410b388a52eb2df4a864137f?s=128&d=identicon&r=PG&f=1", "display_name": "Matt Jacob", "link": "https://stackoverflow.com/users/82262/matt-jacob"}, "edited": false, "score": 0, "creation_date": 1456167610, "post_id": 35545794, "comment_id": 58811514, "body": "@texasbruce After squeezing more information out of the OP, it quickly became clear that the question was not as simple as it appeared, and that a proper solution would require a full-blown parser. Since I didn&#39;t feel like taking on that amount of work just to answer a question, I deleted my simplistic answer. I suggest you do the same."}, {"owner": {"reputation": 13757, "user_id": 1270003, "user_type": "registered", "accept_rate": 87, "profile_image": "https://www.gravatar.com/avatar/d5ed9123b92a6e4dffa75f9f6dd9e382?s=128&d=identicon&r=PG&f=1", "display_name": "texasbruce", "link": "https://stackoverflow.com/users/1270003/texasbruce"}, "reply_to_user": {"reputation": 6258, "user_id": 82262, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/8ce15931410b388a52eb2df4a864137f?s=128&d=identicon&r=PG&f=1", "display_name": "Matt Jacob", "link": "https://stackoverflow.com/users/82262/matt-jacob"}, "edited": false, "score": 0, "creation_date": 1456169862, "post_id": 35545794, "comment_id": 58812806, "body": "@MattJacob You are right. He updated the question. This is the answer prior the update. Will not delete it though."}, {"owner": {"reputation": 325, "user_id": 5856095, "user_type": "registered", "accept_rate": 82, "profile_image": "https://www.gravatar.com/avatar/e8e5c412b90786077ddfa0927904b8fe?s=128&d=identicon&r=PG&f=1", "display_name": "katyusza", "link": "https://stackoverflow.com/users/5856095/katyusza"}, "edited": false, "score": 0, "creation_date": 1456199347, "post_id": 35545794, "comment_id": 58824628, "body": "Buddies, the question was solved at a new post, link is:  <a href=\"http://stackoverflow.com/questions/35547683/how-to-ignore-parts-of-the-text-and-do-search-and-replace-in-the-remaining-part\" title=\"how to ignore parts of the text and do search and replace in the remaining part\">stackoverflow.com/questions/35547683/&hellip;</a> thanks again ;-)"}], "tags": [], "owner": {"reputation": 13757, "user_id": 1270003, "user_type": "registered", "accept_rate": 87, "profile_image": "https://www.gravatar.com/avatar/d5ed9123b92a6e4dffa75f9f6dd9e382?s=128&d=identicon&r=PG&f=1", "display_name": "texasbruce", "link": "https://stackoverflow.com/users/1270003/texasbruce"}, "is_accepted": false, "score": -1, "last_activity_date": 1456244828, "last_edit_date": 1456244828, "creation_date": 1456115026, "answer_id": 35545794, "question_id": 35545635, "link": "https://stackoverflow.com/questions/35545635/in-perl-how-to-jump-over-certain-text-and-do-search-and-replace-in-the-remain/35545794#35545794", "title": "In Perl, how to &quot;jump over&quot; certain text and do search-and-replace in the remaining part?", "body": "<p>Use normal if statement would do:</p>\n\n<pre><code>while (&lt;DATA&gt;) {\n  next if (m/^START/ &amp;&amp; m/END$/ ) ||  m/^\\/\\// || m/^\\./;\n  s/old/new/gs;\n  print;\n}\n</code></pre>\n\n<hr>\n\n<p><strong>NOTE</strong> \nAbove is the answer prior to the OP's edit 16.2.22.</p>\n"}], "owner": {"reputation": 325, "user_id": 5856095, "user_type": "registered", "accept_rate": 82, "profile_image": "https://www.gravatar.com/avatar/e8e5c412b90786077ddfa0927904b8fe?s=128&d=identicon&r=PG&f=1", "display_name": "katyusza", "link": "https://stackoverflow.com/users/5856095/katyusza"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 114, "favorite_count": 0, "closed_date": 1456171028, "answer_count": 1, "score": -2, "last_activity_date": 1456244828, "creation_date": 1456113787, "last_edit_date": 1456198812, "question_id": 35545635, "link": "https://stackoverflow.com/questions/35545635/in-perl-how-to-jump-over-certain-text-and-do-search-and-replace-in-the-remain", "closed_reason": "Duplicate", "title": "In Perl, how to &quot;jump over&quot; certain text and do search-and-replace in the remaining part?", "body": "<p>The text has many occurrences of <code>pattern</code>; while doing regex find-and-replace, I wanna jump over certain segments of the text, and replace <code>pattern</code> in the remaining part. Example, in the code:</p>\n\n<pre><code>#!/usr/bin/env perl\nuse strict;\nuse warnings;\n\n#iterate the DATA filehandle\nwhile (&lt;DATA&gt;) {\n    # This one replaces ALL occurrences of pattern.\n    s/old/new/gs;\n    # How do I skip the unwanted segments and do the replace?\n    #print all\n    print;\n}\n\n##inlined data filehandle for testing. \n__DATA__\nSTART xx old xx END     --&gt; within boundaries,  should NOT replace\nSTART xx old\n      xx old xx END     --&gt; within boundaries,  should NOT replace\n// xx old               --&gt; within comment,     should NOT replace\nxx // xx old            --&gt; within comment,     should NOT replace\n. old old xx            --&gt; following a point,  should NOT replace\n                            first one, just replace second one\nxx .\n  old\n  old xx                --&gt; following a point,  should NOT replace first\n                            one, just replace second one.\nxx old xx               --&gt; other scenarioes,   should REPLACE\n</code></pre>\n\n<p><strong>EDIT 16.2.22</strong>(updated 16.2.23) The criteria for replace/no replace is as follows: \n(1) <code>START</code> and <code>END</code> may be on one line or span multiple lines, all <code>pattern</code>s within this range should NOT be replaced;</p>\n\n<p>(2) <code>.</code> and <code>pattern</code> may or may not have spaces, tabs, newlines between them, the first occurrence of <code>pattern</code> after <code>.</code> should be replaced;</p>\n\n<p>(3) comments will always just be one line starting with //; do not consider /* ... */ style of comments for the time being.</p>\n\n<p>(4) <code>//</code> may or may not be the first character of a line; so it is with <code>.</code>.</p>\n\n<p>Anything between START_FLAG and END_FLAG, or anything within a comment, should be ignored; and, if the <code>pattern</code> follows a \".\", it should also be ignored. <code>pattern</code>s in the remaining part of the text should be replaced by new stuff. I tried to use <code>s/START.*?END|\\/\\/.*?\\n|.\\s*\\w+|\\w+//g</code> stuff, but just cannot reach a solution.</p>\n\n<p>This seems little bit convoluted for me; any help? Thx in advance :-)</p>\n"}, {"tags": ["perl", "subroutine", "special-variables"], "comments": [{"owner": {"reputation": 110113, "user_id": 168657, "user_type": "registered", "accept_rate": 92, "profile_image": "https://www.gravatar.com/avatar/f14e7610fca39322ebbf23530def15f8?s=128&d=identicon&r=PG", "display_name": "mob", "link": "https://stackoverflow.com/users/168657/mob"}, "edited": false, "score": 0, "creation_date": 1456149722, "post_id": 35545320, "comment_id": 58799066, "body": "<a href=\"http://stackoverflow.com/questions/2126365/whats-the-difference-between-my-variablename-and-my-variablename-in-perl\" title=\"whats the difference between my variablename and my variablename in perl\">stackoverflow.com/questions/2126365/&hellip;</a>"}], "answers": [{"comments": [{"owner": {"reputation": 2167, "user_id": 824282, "user_type": "registered", "accept_rate": 61, "profile_image": "https://www.gravatar.com/avatar/8f0cb967adb644f6408e5ff3df8c8a0f?s=128&d=identicon&r=PG", "display_name": "capser", "link": "https://stackoverflow.com/users/824282/capser"}, "edited": false, "score": 0, "creation_date": 1456112200, "post_id": 35545335, "comment_id": 58779471, "body": "what if I put double quotes around the special variable - my $csv_html_line = &quot;@_ &quot; ;"}, {"owner": {"reputation": 80882, "user_id": 18157, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/4d3de78b198076dd5a5006abd17cb0f8?s=128&d=identicon&r=PG&f=1", "display_name": "Jim Garrison", "link": "https://stackoverflow.com/users/18157/jim-garrison"}, "reply_to_user": {"reputation": 2167, "user_id": 824282, "user_type": "registered", "accept_rate": 61, "profile_image": "https://www.gravatar.com/avatar/8f0cb967adb644f6408e5ff3df8c8a0f?s=128&d=identicon&r=PG", "display_name": "capser", "link": "https://stackoverflow.com/users/824282/capser"}, "edited": false, "score": 4, "creation_date": 1456112333, "post_id": 35545335, "comment_id": 58779518, "body": "Why would you want to do that?  What do you believe that accomplishes?  If <code>@_</code> contained more than one string, quoting it would return all the member strings concatenated, blank-separated.  Probably not what you want."}, {"owner": {"reputation": 2167, "user_id": 824282, "user_type": "registered", "accept_rate": 61, "profile_image": "https://www.gravatar.com/avatar/8f0cb967adb644f6408e5ff3df8c8a0f?s=128&d=identicon&r=PG", "display_name": "capser", "link": "https://stackoverflow.com/users/824282/capser"}, "edited": false, "score": 0, "creation_date": 1456112456, "post_id": 35545335, "comment_id": 58779538, "body": "Quoting the special variable will print out the whole array to the scalar, and then the scalar can be split on commas, and then placed in another array."}, {"owner": {"reputation": 80882, "user_id": 18157, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/4d3de78b198076dd5a5006abd17cb0f8?s=128&d=identicon&r=PG&f=1", "display_name": "Jim Garrison", "link": "https://stackoverflow.com/users/18157/jim-garrison"}, "reply_to_user": {"reputation": 2167, "user_id": 824282, "user_type": "registered", "accept_rate": 61, "profile_image": "https://www.gravatar.com/avatar/8f0cb967adb644f6408e5ff3df8c8a0f?s=128&d=identicon&r=PG", "display_name": "capser", "link": "https://stackoverflow.com/users/824282/capser"}, "edited": false, "score": 6, "creation_date": 1456112508, "post_id": 35545335, "comment_id": 58779548, "body": "You don&#39;t get commas, you get spaces.  Why go through the trouble of concatenating then splitting again? It&#39;s already nicely split up for you.  You really should be trying stuff like this out in the command-line debugger: <code>perl -de0</code>"}], "tags": [], "owner": {"reputation": 80882, "user_id": 18157, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/4d3de78b198076dd5a5006abd17cb0f8?s=128&d=identicon&r=PG&f=1", "display_name": "Jim Garrison", "link": "https://stackoverflow.com/users/18157/jim-garrison"}, "is_accepted": true, "score": 6, "last_activity_date": 1456111670, "creation_date": 1456111670, "answer_id": 35545335, "question_id": 35545320, "link": "https://stackoverflow.com/questions/35545320/perl-special-variable-in-a-subroutine-not-working/35545335#35545335", "title": "Perl special variable &quot;@_&quot; in a subroutine not working", "body": "<p>It's </p>\n\n<pre><code>my ($csv_html_line) = @_ ;\n</code></pre>\n\n<p>The way you wrote the code you evaluated <code>@_</code> in scalar context and got its length (number of elements).  As you noted,</p>\n\n<pre><code>my $csv_html_line = shift;\n</code></pre>\n\n<p>works because the <code>shift</code> operator takes a list and removes and returns the first element as a scalar.</p>\n"}, {"tags": [], "owner": {"reputation": 7980, "user_id": 1213907, "user_type": "registered", "accept_rate": 55, "profile_image": "https://i.stack.imgur.com/ksAFh.png?s=128&g=1", "display_name": "KeepCalmAndCarryOn", "link": "https://stackoverflow.com/users/1213907/keepcalmandcarryon"}, "is_accepted": false, "score": 2, "last_activity_date": 1456111716, "creation_date": 1456111716, "answer_id": 35545342, "question_id": 35545320, "link": "https://stackoverflow.com/questions/35545320/perl-special-variable-in-a-subroutine-not-working/35545342#35545342", "title": "Perl special variable &quot;@_&quot; in a subroutine not working", "body": "<p>You need</p>\n\n<pre><code>my ($csv_html_line) = @_ ;\n</code></pre>\n\n<p>as assigning an array to a scalar will return its length (which is 1 with one parameter)</p>\n"}], "owner": {"reputation": 2167, "user_id": 824282, "user_type": "registered", "accept_rate": 61, "profile_image": "https://www.gravatar.com/avatar/8f0cb967adb644f6408e5ff3df8c8a0f?s=128&d=identicon&r=PG", "display_name": "capser", "link": "https://stackoverflow.com/users/824282/capser"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 153, "favorite_count": 0, "accepted_answer_id": 35545335, "answer_count": 2, "score": 0, "last_activity_date": 1456112328, "creation_date": 1456111483, "last_edit_date": 1456112328, "question_id": 35545320, "link": "https://stackoverflow.com/questions/35545320/perl-special-variable-in-a-subroutine-not-working", "title": "Perl special variable &quot;@_&quot; in a subroutine not working", "body": "<p>This script rips out the urls from a downloaded webpage. I had some trouble with this script - when I use the <code>\"my $csv_html_line = @_ ;\"</code>\nand then print out the <code>\"@html_LineArray\"</code> - it just prints out <code>\"1's\"</code>. When I replace the\n<code>\"my $csv_html_line = @_ ;\"</code> with <code>\"my $csv_html_line = shift ;\"</code> the script works fine.\nI do not know what the difference is betweeh the <code>\"= @_\" and shift</code> - becuase I thought that\nwithout specifying something, in a subroutine, shift shift froms <code>\"@_\".</code></p>\n\n<pre><code>#!/usr/bin/perl\nuse warnings;\nuse strict ;\n\nsub find_url {\n    my $csv_html_line = @_ ;\n    #my $csv_html_line = shift ;\n    my @html_LineArray = split(\",\" , $csv_html_line ) ;\n    print \"@html_LineArray\\n\" ;\n    #foreach my $split_line(@html_LineArray) {\n    #    if ($split_line =~ m/\"adUrl\":\"(http:.*)\"/) {\n    #        my $url = $1;\n    #        $url =~ tr/\\\\//d;\n    #        print(\"$url\\n\")  ;\n    #    }\n    #}\n}\n\n\n\nmy $local_file = \"@ARGV\" ;\nopen(my $fh, '&lt;', \"$local_file\") or die \"cannot open up the $local_file $!\" ;\nwhile( my $html_line = &lt;$fh&gt;) {\n    #print \"$html_line\\n\";\n    find_url($html_line) ;\n}\n</code></pre>\n\n<p>This is what the above prints out.</p>\n\n<pre><code>1\n1\n1\n1\n1\n1\n1\n1\n1\n1\n1\n1\n</code></pre>\n\n<p>This works fine - it uses the shift instead of \"@_\"</p>\n\n<pre><code>#!/usr/bin/perl\nuse warnings;\nuse strict ;\n\nsub find_url {\n    #my $csv_html_line = @_ ;\n    my $csv_html_line = shift ;\n    my @html_LineArray = split(\",\" , $csv_html_line ) ;\n    #print \"@html_LineArray\\n\" ;\n    foreach my $split_line(@html_LineArray) {\n        if ($split_line =~ m/\"adUrl\":\"(http:.*)\"/) {\n            my $url = $1;\n            $url =~ tr/\\\\//d;\n            print(\"$url\\n\")  ;\n        }\n    }\n}\n\n\n\nmy $local_file = \"@ARGV\" ;\nopen(my $fh, '&lt;', \"$local_file\") or die \"cannot open up the $local_file $!\" ;\nwhile( my $html_line = &lt;$fh&gt;) {\n    #print \"$html_line\\n\";\n    find_url($html_line) ;\n}\n</code></pre>\n"}, {"tags": ["perl"], "answers": [{"comments": [{"owner": {"reputation": 97, "user_id": 4112998, "user_type": "registered", "profile_image": "https://graph.facebook.com/100004262585829/picture?type=large", "display_name": "Chari Pete", "link": "https://stackoverflow.com/users/4112998/chari-pete"}, "edited": false, "score": 0, "creation_date": 1456086063, "post_id": 35540497, "comment_id": 58771623, "body": "Sorry I forgot the quotes.  The second code does&#39;t really work.  It does not save the output file &quot;test.jpg&quot;."}], "tags": [], "owner": {"reputation": 189, "user_id": 5864443, "user_type": "registered", "accept_rate": 44, "profile_image": "https://www.gravatar.com/avatar/04eb27274038636a18b1951904139d80?s=128&d=identicon&r=PG&f=1", "display_name": "Hero1134", "link": "https://stackoverflow.com/users/5864443/hero1134"}, "is_accepted": false, "score": 0, "last_activity_date": 1456081036, "creation_date": 1456081036, "answer_id": 35540497, "question_id": 35540410, "link": "https://stackoverflow.com/questions/35540410/get-image-files-from-facebook/35540497#35540497", "title": "Get image files from Facebook", "body": "<p>I think this should work</p>\n\n<pre><code>use LWP::Simple;\nmy $url = \n\"https://scontent-iad3-1.xx.fbcdn.net/hphotos-xat1/v/t1.0-9/10670008_723959424306956_2403014210464990193_n.jpg?oh=bffe04b5a6e8c61381dbb85027e62a10&amp;oe=5764ABCD\";\nmy $file = \"test.jpg\";\ngetstore($url,$file);\n</code></pre>\n"}, {"tags": [], "owner": {"reputation": 5099, "user_id": 406224, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/9bc79fa6fa58e2a4f5e6c2f803cabc48?s=128&d=identicon&r=PG", "display_name": "oalders", "link": "https://stackoverflow.com/users/406224/oalders"}, "is_accepted": false, "score": 0, "last_activity_date": 1456094827, "creation_date": 1456094827, "answer_id": 35543120, "question_id": 35540410, "link": "https://stackoverflow.com/questions/35540410/get-image-files-from-facebook/35543120#35543120", "title": "Get image files from Facebook", "body": "<p>Using <code>LWP::Simple</code> makes it really hard to debug the underlying response.  Why not just go with <code>LWP::UserAgent</code>?</p>\n\n<pre><code>use strict;\nuse warnings;\n\nuse LWP::UserAgent;\nuse Path::Tiny qw( path );\n\nmy $url\n= 'https://scontent-iad3-1.xx.fbcdn.net/hphotos-xat1/v/t1.0-9/10670008_723959424306956_2403014210464990193_n.jpg?oh=bffe04b5a6e8c61381dbb85027e62a10&amp;oe=5764ABCD';\nmy $file = 'test.jpg';\n\nmy $ua       = LWP::UserAgent-&gt;new;\nmy $response = $ua-&gt;get( $url );\ndie 'Could not get file' if !$response-&gt;is_success || $response-&gt;header('X-Died');\npath( $file )-&gt;spew( $response-&gt;content ); \n</code></pre>\n"}], "owner": {"reputation": 97, "user_id": 4112998, "user_type": "registered", "profile_image": "https://graph.facebook.com/100004262585829/picture?type=large", "display_name": "Chari Pete", "link": "https://stackoverflow.com/users/4112998/chari-pete"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 63, "favorite_count": 0, "answer_count": 2, "score": 0, "last_activity_date": 1456094971, "creation_date": 1456080617, "last_edit_date": 1456094971, "question_id": 35540410, "link": "https://stackoverflow.com/questions/35540410/get-image-files-from-facebook", "title": "Get image files from Facebook", "body": "<p>I am trying to pull images from a facebook posts.  The image urls contains some hex strings following the .jpg extension.</p>\n\n<p>I have tried both LWP::Simple and WWW::Mechanize without success (error 501).  The same code works for the usual *.jpg address.</p>\n\n<p>E.g. for LWP::Simple. This code works:</p>\n\n<pre><code>use LWP::Simple;\nmy $url = \"http://sunsetvalleyorchids.com/images/orchid_images/Pot.%20William%20Farrell%20'Native%20Son'-150611.jpg\";\nmy $file = \"test.jpg\";\ngetstore($url,$file);\n</code></pre>\n\n<p>This code does not work:</p>\n\n<pre><code>use LWP::Simple;\nmy $url = \nhttps://scontent-iad3-1.xx.fbcdn.net/hphotos-xat1/v/t1.0-9/10670008_723959424306956_2403014210464990193_n.jpg?oh=bffe04b5a6e8c61381dbb85027e62a10&amp;oe=5764ABCD\n\nmy $file = \"test.jpg\";\ngetstore($url,$file);\n</code></pre>\n"}, {"tags": ["perl"], "comments": [{"owner": {"reputation": 123805, "user_id": 622310, "user_type": "registered", "accept_rate": 33, "profile_image": "https://www.gravatar.com/avatar/8b6d35219e1808520bc238b28161e2e6?s=128&d=identicon&r=PG", "display_name": "Borodin", "link": "https://stackoverflow.com/users/622310/borodin"}, "edited": false, "score": 0, "creation_date": 1456104462, "post_id": 35539988, "comment_id": 58777572, "body": "What is the purpose of the line <code>if (&#47;CAY&#47;..&#47;HT2&#47;) </code>? Do your PDB files always contain exactly those three values in the third column in the same order? Are there other lines in the files that you want to ignore? Also, do you want your output file names to look like <code>myfile.pdb.gjf</code>? That is what you have coded, but it would be more usual to <i>replace</i> the <code>.pdb</code> with <code>.gjf</code>"}], "answers": [{"tags": [], "owner": {"reputation": 198290, "user_id": 1030675, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/957956ce51706d03f19a4dc85a767bb1?s=128&d=identicon&r=PG", "display_name": "choroba", "link": "https://stackoverflow.com/users/1030675/choroba"}, "is_accepted": true, "score": 2, "last_activity_date": 1456079032, "creation_date": 1456079032, "answer_id": 35540066, "question_id": 35539988, "link": "https://stackoverflow.com/questions/35539988/perl-print-header-in-all-files-with-specific-extension/35540066#35540066", "title": "Perl - Print header in all files with specific extension", "body": "<p><code>$header</code> does not contain the header string, but its file handle:</p>\n\n<pre><code>open (my $header, \"&lt;\", \"gaussian.txt\") or die $!;\n</code></pre>\n\n<p>Populate $header with the context of the file instead.</p>\n\n<p>Also, don't print the header before each line.</p>\n"}, {"comments": [{"owner": {"reputation": 577, "user_id": 4573353, "user_type": "registered", "accept_rate": 93, "profile_image": "https://www.gravatar.com/avatar/843bcb9df7ef490fdba185dcb76ebea7?s=128&d=identicon&r=PG&f=1", "display_name": "EA00", "link": "https://stackoverflow.com/users/4573353/ea00"}, "edited": false, "score": 0, "creation_date": 1456164806, "post_id": 35544517, "comment_id": 58809957, "body": "Could you help me figure out these errors? <code>Use of uninitialized value $gjf_path in concatenation (.) or string at .&#47;stack.pl line 21.</code> and <code>Can&#39;t open &#39;&#47;output1.gjf&#39; for writing: &#39;Permission denied&#39; at .&#47;stack.pl line 21</code> Why would I have trouble with writing permissions?"}, {"owner": {"reputation": 123805, "user_id": 622310, "user_type": "registered", "accept_rate": 33, "profile_image": "https://www.gravatar.com/avatar/8b6d35219e1808520bc238b28161e2e6?s=128&d=identicon&r=PG", "display_name": "Borodin", "link": "https://stackoverflow.com/users/622310/borodin"}, "reply_to_user": {"reputation": 577, "user_id": 4573353, "user_type": "registered", "accept_rate": 93, "profile_image": "https://www.gravatar.com/avatar/843bcb9df7ef490fdba185dcb76ebea7?s=128&d=identicon&r=PG&f=1", "display_name": "EA00", "link": "https://stackoverflow.com/users/4573353/ea00"}, "edited": false, "score": 1, "creation_date": 1456164935, "post_id": 35544517, "comment_id": 58810030, "body": "@EA00: Is that a question? You have passed no parameters."}], "tags": [], "owner": {"reputation": 123805, "user_id": 622310, "user_type": "registered", "accept_rate": 33, "profile_image": "https://www.gravatar.com/avatar/8b6d35219e1808520bc238b28161e2e6?s=128&d=identicon&r=PG", "display_name": "Borodin", "link": "https://stackoverflow.com/users/622310/borodin"}, "is_accepted": false, "score": 1, "last_activity_date": 1456105327, "creation_date": 1456105327, "answer_id": 35544517, "question_id": 35539988, "link": "https://stackoverflow.com/questions/35539988/perl-print-header-in-all-files-with-specific-extension/35544517#35544517", "title": "Perl - Print header in all files with specific extension", "body": "<p>I would do it like this. The main changes I've made are</p>\n\n<ul>\n<li><p><code>use autodie</code> instead of explicitly checking the success of every file operation</p></li>\n<li><p>Use a <code>do</code> block to read the contents of <code>gaussian.txt</code> into <code>$header</code></p></li>\n<li><p><em>Replace</em> the <code>.pdb</code> file type with <code>.gjf</code> instead of adding it to the end</p></li>\n<li><p>Use <code>select</code> to make the GJF file the default output so that the <code>print</code> statements don't need an explicit file handle</p></li>\n<li><p>Use <code>next unless /\\S/</code> to process every line of the input files that contain non-space characters</p></li>\n<li><p>Use string interpolation of an array slice to put spaces in the output to avoid the <code>join</code> call</p></li>\n</ul>\n\n<p><br/></p>\n\n<pre><code>#!/usr/bin/perl\n\nuse strict;\nuse warnings;\nuse v5.10.1;\nuse autodie;\n\nuse File::Basename 'basename';\n\nmy ( $pdb_path, $gjf_path ) = @ARGV;\n\nmy $header = do {\n    open my $fh, '&lt;', 'gaussian.txt';\n    local $/;\n    &lt;$fh&gt;;\n};\n\nfor my $pdb_file ( glob \"$pdb_path/*.pdb\" ) {\n\n    ( my $gjf_file = basename($pdb_file) ) =~ s/\\.pdb$/.gjf/;\n\n    open my $gjf_fh, '&gt;', \"$gjf_path/$gjf_file\";\n    select $gjf_fh;\n\n    print $header;\n\n    open my $pdb_fh, '&lt;', $pdb_file;\n\n    while ( &lt;$pdb_fh&gt; ) {\n        next unless /\\S/;\n        my @fields = split;\n        print \"@fields[2,6,7,8]\\n\";\n    }\n}\n</code></pre>\n"}], "owner": {"reputation": 577, "user_id": 4573353, "user_type": "registered", "accept_rate": 93, "profile_image": "https://www.gravatar.com/avatar/843bcb9df7ef490fdba185dcb76ebea7?s=128&d=identicon&r=PG&f=1", "display_name": "EA00", "link": "https://stackoverflow.com/users/4573353/ea00"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 569, "favorite_count": 1, "accepted_answer_id": 35540066, "answer_count": 2, "score": -1, "last_activity_date": 1456738658, "creation_date": 1456078667, "last_edit_date": 1456170306, "question_id": 35539988, "link": "https://stackoverflow.com/questions/35539988/perl-print-header-in-all-files-with-specific-extension", "title": "Perl - Print header in all files with specific extension", "body": "<p>I have multiple input files (outputXXX.pdb) for which I would like to write output files (outputXXX.gjf). </p>\n\n<p>The input files have this format:</p>\n\n<pre><code>ATOM      1  CAY GLY X   1      -0.124   0.401  -0.153  1.00  2.67      PEP\nATOM      2  HY1 GLY X   1      -0.648   0.043  -1.064  1.00  0.00      PEP\nATOM      3  HY2 GLY X   1      -0.208   1.509  -0.145  1.00  0.00      PEP\n</code></pre>\n\n<p>For each input file, I would like to create an output file which incorporates a header found in a separate text file 'gaussian.txt' as well as grab the content in columns 2, 6, 7, 8 of each corresponding input file, yielding something like this:</p>\n\n<pre><code>Title\nHeader Line 1\nHeader Line 2\n\nCAY   -0.124   0.401  -0.153\nHY1   -0.648   0.043  -1.064  \nHY2   -0.208   1.509  -0.145\n</code></pre>\n\n<p>Below is my current script. </p>\n\n<pre><code>#!/usr/bin/perl\n\nuse strict;\nuse warnings;\n\nuse File::Basename;\n\nmy $input_path  = $ARGV[0];\nmy $output_path = $ARGV[1];\n\nforeach my $filename (&lt;$input_path/*.pdb&gt;) {\n\n    my $output_file = basename( $filename, '.pdb' );\n\n    open( my $input_fh,  \"&lt;\", $filename )                       or die $!;\n    open( my $output_fh, \"&gt;\", \"$output_path/$output_file.gjf\" ) or die $!;\n    open( my $header,    \"&lt;\", \"gaussian.txt\" )                  or die $!;\n\n    while (&lt;$input_fh&gt;) {\n        if ( /CAY/ .. /HT2/ ) {\n            print {$output_fh} $header;\n            print {$output_fh} join( \" \", +(split)[ 2, 6, 7, 8 ] ), \"\\n\";\n        }\n    }\n\n    close($output_fh);\n    close($input_fh);\n}\n</code></pre>\n\n<p>It writes the outputXXX.gjf files however does not print the header and does not retain the formatting, not to mention it prints GLOB??</p>\n\n<pre><code>GLOB(0x1622950)CAY -0.124 0.401 -0.153\nGLOB(0x1622950)HY1 -0.648 0.043 -1.064\nGLOB(0x1622950)HY2 -0.208 1.509 -0.145\n</code></pre>\n\n<p>Any suggestions on how to improve my script is greatly appreciated. </p>\n\n<p><strong>UPDATE</strong> Updated code below. It's messy (I'm not very experienced), but enables the following output. </p>\n\n<p>Output:</p>\n\n<pre><code> Title\n Header Line 1\n Header Line 2\n\n CAY-0.124 0.401 -0.153\n HY1-0.648 0.043 -1.064\n HY20.208 1.509 -0.145\n</code></pre>\n\n<p>Code:</p>\n\n<pre><code>#!/usr/bin/perl\nuse strict;\nuse warnings;\nuse File::Basename;\n\nmy $input_path = $ARGV[0];\nmy $output_path = $ARGV[1];\nmy $header = \"gaussian.txt\";\n\nforeach my $filename (&lt;$input_path/*.pdb&gt;) {\n        my $output_file = basename ( $filename, '.pdb');\n    open (my $header_fh, \"&lt;\", $header) or die $!;\n        my @lines;\n        while (&lt;$header_fh&gt;) {\n        push (@lines, $_);\n    open (my $output_fh, \"&gt;\", \"$output_path/$output_file.gjf\") or die $!;\n        print {$output_fh} @lines;\n    open (my $input_fh, \"&lt;\", $filename) or die $!;\n        while ( &lt;$input_fh&gt;) {\n        if (/CAY/../HT2/) {\n                print {$output_fh} join (\" \", (split)[2,6,7,8]), \"\\n\";\n                }\n                }\n        close($output_fh);\n        close($input_fh);\n}\n}\n</code></pre>\n"}, {"tags": ["linux", "excel", "perl", "cpan", "opensuse"], "answers": [{"comments": [{"owner": {"reputation": 267, "user_id": 3646877, "user_type": "registered", "accept_rate": 29, "profile_image": "https://www.gravatar.com/avatar/b01ed366dcb7033e2d0448ab3c4003af?s=128&d=identicon&r=PG&f=1", "display_name": "Jasio", "link": "https://stackoverflow.com/users/3646877/jasio"}, "edited": false, "score": 0, "creation_date": 1456691213, "post_id": 35539526, "comment_id": 59053166, "body": "I would rather call it &quot;a documented bug fix&quot;. But generally, you&#39;re right. The rpm version was outdated."}], "tags": [], "owner": {"reputation": 52821, "user_id": 632407, "user_type": "registered", "accept_rate": 86, "profile_image": "https://i.stack.imgur.com/AfGWW.jpg?s=128&g=1", "display_name": "jm666", "link": "https://stackoverflow.com/users/632407/jm666"}, "is_accepted": false, "score": 9, "last_activity_date": 1456076382, "creation_date": 1456076382, "answer_id": 35539526, "question_id": 35538994, "link": "https://stackoverflow.com/questions/35538994/inconsistent-cpan-module-behaviour-whom-to-blame/35539526#35539526", "title": "Inconsistent CPAN module behaviour - whom to blame?", "body": "<p>About the \"blame\". ;) First, read the licence to the module. And also read the GPL for the Linux.</p>\n\n<p>You will find something like: <em>THIS PACKAGE IS PROVIDED \"AS IS\" AND WITHOUT ANY EXPRESS OR IMPLIED WARRANTIES, INCLUDING, WITHOUT LIMITATION, THE IMPLIED WARRANTIES OF MERCHANTIBILITY AND FITNESS FOR A PARTICULAR PURPOSE.</em></p>\n\n<p>About the bug-reports: Of course, bug reports are welcomed.</p>\n\n<p>About the problem:</p>\n\n<ul>\n<li>Check the <a href=\"https://metacpan.org/source/MIKEB/Spreadsheet-XLSX-0.15/Changes\">changelog</a> to the module.</li>\n<li>you will find:</li>\n</ul>\n\n<blockquote>\n  <p>0.14</p>\n  \n  <ul>\n  <li>change default date format to yyyy-mm-dd.  This matches Spreadsheet::ParseExcel.</li>\n  </ul>\n</blockquote>\n\n<p>So, probably not a BUG - but an documented change.</p>\n\n<p>Check the module versions for the both (aka installed from cpan and by RPM).</p>\n"}, {"tags": [], "owner": {"reputation": 267, "user_id": 3646877, "user_type": "registered", "accept_rate": 29, "profile_image": "https://www.gravatar.com/avatar/b01ed366dcb7033e2d0448ab3c4003af?s=128&d=identicon&r=PG&f=1", "display_name": "Jasio", "link": "https://stackoverflow.com/users/3646877/jasio"}, "is_accepted": false, "score": 0, "last_activity_date": 1456949104, "creation_date": 1456949104, "answer_id": 35757031, "question_id": 35538994, "link": "https://stackoverflow.com/questions/35538994/inconsistent-cpan-module-behaviour-whom-to-blame/35757031#35757031", "title": "Inconsistent CPAN module behaviour - whom to blame?", "body": "<p>[shame on] Looks like the only party to blame is myself [shame off].</p>\n\n<p>I didn't notice nor even checked that the module distributed as RPM was outdated. Since the flaw was fixed in the meantime, the newest module installed from CPAN worked correctly.</p>\n"}], "owner": {"reputation": 267, "user_id": 3646877, "user_type": "registered", "accept_rate": 29, "profile_image": "https://www.gravatar.com/avatar/b01ed366dcb7033e2d0448ab3c4003af?s=128&d=identicon&r=PG&f=1", "display_name": "Jasio", "link": "https://stackoverflow.com/users/3646877/jasio"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 97, "favorite_count": 0, "answer_count": 2, "score": 0, "last_activity_date": 1456949104, "creation_date": 1456073867, "question_id": 35538994, "link": "https://stackoverflow.com/questions/35538994/inconsistent-cpan-module-behaviour-whom-to-blame", "title": "Inconsistent CPAN module behaviour - whom to blame?", "body": "<p>I noticed that Spreadsheet::XLSX module behaves inconsistently depending on the way it was installed. When installed on OpenSUSE by /usr/bin/cpan, it read the date from a cell in an Excel 2007 sheet as:</p>\n\n<pre><code>$VAR1 = bless({\n    'Format' =&gt; 'yyyy-mm-dd', \n    'Val' =&gt; '2016-01-04', \n    '_Value' =&gt; '2016-01-04', \n    'Type' =&gt; 'Date' \n}, 'Spreadsheet::ParseExcel::Cell' )\n</code></pre>\n\n<p>which was correct. However on a computer where it was installed as RPM from the OpenSuSE repository, the same code reading the same cell of the same sheet returned: </p>\n\n<pre><code>$VAR1 = bless({ \n    'Type' =&gt; 'Date', \n    'Format' =&gt; 'm-d-yy', \n    'Val' =&gt; '42373', \n    '_Value' =&gt; '1-4-16' \n}, 'Spreadsheet::ParseExcel::Cell'  );\n</code></pre>\n\n<p>To me it looks as if the code compiled on my own machine included different defaults or at least reads the sheet in a different way than compiled by the distribution maintainer. </p>\n\n<p>Does it look like a fault of the original author who wrote the code which depends on compile time environment, a distribution maintainer who compiled a non-portable code, or someone who decided to include compile time environment dependent code in the repository as RPM?</p>\n\n<p>I do not want to blame anybody, just want to know, where I should submit the bug report.</p>\n"}, {"tags": ["python", "r", "perl"], "answers": [{"comments": [{"owner": {"reputation": 18926, "user_id": 2994949, "user_type": "registered", "accept_rate": 64, "profile_image": "https://www.gravatar.com/avatar/e4693362f3fba629ac8706645b9ab577?s=128&d=identicon&r=PG&f=1", "display_name": "rawr", "link": "https://stackoverflow.com/users/2994949/rawr"}, "edited": false, "score": 2, "creation_date": 1456074452, "post_id": 35538406, "comment_id": 58766869, "body": "also <code>cbind(df1[, 1:2], read.table(text = gsub(&#39;&amp;&#39;, &#39;\\t&#39;, df1$V3), fill = TRUE))</code>"}], "tags": [], "owner": {"reputation": 661302, "user_id": 3732271, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/ee6e12042dc31b1ef27471482f9ff91f?s=128&d=identicon&r=PG&f=1", "display_name": "akrun", "link": "https://stackoverflow.com/users/3732271/akrun"}, "is_accepted": false, "score": 2, "last_activity_date": 1456070698, "creation_date": 1456070698, "answer_id": 35538406, "question_id": 35538388, "link": "https://stackoverflow.com/questions/35538388/change-matrix-format/35538406#35538406", "title": "Change matrix format", "body": "<p>We can use <code>cSplit</code> from <code>splitstackshape</code> if we read the data in <code>R</code>.</p>\n\n<pre><code>library(splitstackshape)\ncSplit(df1, 'V3', '&amp;', 'wide')\n</code></pre>\n\n<h3>data</h3>\n\n<pre><code>df1 &lt;- structure(list(V1 = c(1L, 1L, 1L, 1L), \n V2 = c(11063L, 13011L, \n 13289L, 13289L), V3 = c(\"upstream_gene_variant\", \n \"intron_variant&amp;non_coding_transcript_variant\", \n \"non_coding_transcript_exon_variant&amp;non_coding_transcript_variant\", \n\"non_coding_transcript_exon_variant&amp;non_coding_transcript_variant&amp;feature_truncation\"\n )), .Names = c(\"V1\", \"V2\", \"V3\"), class = \"data.frame\", \nrow.names = c(NA, -4L))\n</code></pre>\n"}, {"tags": [], "owner": {"reputation": 17990, "user_id": 5827958, "user_type": "registered", "accept_rate": 100, "profile_image": "https://i.stack.imgur.com/V9KEl.png?s=128&g=1", "display_name": "zondo", "link": "https://stackoverflow.com/users/5827958/zondo"}, "is_accepted": false, "score": 0, "last_activity_date": 1456071070, "creation_date": 1456071070, "answer_id": 35538454, "question_id": 35538388, "link": "https://stackoverflow.com/questions/35538388/change-matrix-format/35538454#35538454", "title": "Change matrix format", "body": "<p>In python:</p>\n\n<pre><code>text = open(filename).read()\nwith open(filename, 'w') as write_file:\n    write_file.write(text.replace(\"&amp;\", \"\\t\"))\n</code></pre>\n"}, {"tags": [], "owner": {"reputation": 1058, "user_id": 3241027, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/c8874c36ce5ee1710dcfc8bc9c9439a9?s=128&d=identicon&r=PG&f=1", "display_name": "Seekheart", "link": "https://stackoverflow.com/users/3241027/seekheart"}, "is_accepted": false, "score": 0, "last_activity_date": 1456071108, "creation_date": 1456071108, "answer_id": 35538459, "question_id": 35538388, "link": "https://stackoverflow.com/questions/35538388/change-matrix-format/35538459#35538459", "title": "Change matrix format", "body": "<p>python soln:</p>\n\n<pre><code>import re\n\nformatted_data = ''\nwith open('myFile.txt', 'r') as infile:\n     for line in infile:\n     if '&amp;' in line:\n          re.sub(r'[&amp;]*', '\\t', line)\n     formatted_data += line + '\\n'\n\nwith open('newData.txt', 'w') as out:\n     out.write(formatted_data)\n</code></pre>\n"}], "owner": {"reputation": 11, "user_id": 5615191, "user_type": "registered", "accept_rate": 0, "profile_image": "https://www.gravatar.com/avatar/eddac45d44d9a69e8e7f6c7eaaed007c?s=128&d=identicon&r=PG&f=1", "display_name": "heinwe", "link": "https://stackoverflow.com/users/5615191/heinwe"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 77, "favorite_count": 0, "answer_count": 3, "score": -3, "last_activity_date": 1456082117, "creation_date": 1456070607, "last_edit_date": 1456082117, "question_id": 35538388, "link": "https://stackoverflow.com/questions/35538388/change-matrix-format", "title": "Change matrix format", "body": "<p>My file looks like</p>\n\n<pre><code>1   11063   upstream_gene_variant\n1   13011   intron_variant&amp;non_coding_transcript_variant\n1   13289   non_coding_transcript_exon_variant&amp;non_coding_transcript_variant\n1   13289   non_coding_transcript_exon_variant&amp;non_coding_transcript_variant&amp;feature_truncation\n</code></pre>\n\n<p>I would like to transform it to the following</p>\n\n<pre><code>    1   11063   upstream_gene_variant\n    1   13011   intron_variant   non_coding_transcript_variant  \n    1   13289   non_coding_transcript_exon_variant    non_coding_transcript_variant\n    1   13289   non_coding_transcript_exon_variant  non_coding_transcript_variant  feature_truncation\n</code></pre>\n\n<ul>\n<li>replcace the <strong>&amp;</strong> with <strong>a tab</strong> </li>\n<li>put the splitted string into separate field in a table </li>\n</ul>\n"}, {"tags": ["perl", "optimization", "hash"], "comments": [{"owner": {"reputation": 25491, "user_id": 49197, "user_type": "registered", "accept_rate": 75, "profile_image": "https://www.gravatar.com/avatar/15ebf24a33a29b9efbf9924f530dd736?s=128&d=identicon&r=PG", "display_name": "Hynek -Pichi- Vychodil", "link": "https://stackoverflow.com/users/49197/hynek-pichi-vychodil"}, "edited": false, "score": 0, "creation_date": 1456064215, "post_id": 35537150, "comment_id": 58762987, "body": "What is your input data? What is your output data? Your code doesn&#39;t work so tell as what you want to do instead of your broken code. Show us <a href=\"http://stackoverflow.com/help/mcve\">MCVE</a>!"}, {"owner": {"reputation": 175, "user_id": 5186623, "user_type": "registered", "accept_rate": 33, "profile_image": "https://graph.facebook.com/10206691161224996/picture?type=large", "display_name": "Chedi Bechikh", "link": "https://stackoverflow.com/users/5186623/chedi-bechikh"}, "reply_to_user": {"reputation": 25491, "user_id": 49197, "user_type": "registered", "accept_rate": 75, "profile_image": "https://www.gravatar.com/avatar/15ebf24a33a29b9efbf9924f530dd736?s=128&d=identicon&r=PG", "display_name": "Hynek -Pichi- Vychodil", "link": "https://stackoverflow.com/users/49197/hynek-pichi-vychodil"}, "edited": false, "score": 0, "creation_date": 1456064928, "post_id": 35537150, "comment_id": 58763230, "body": "each line contain a word, i use a hash to optimise my code, because it is very slow if i use tow tables"}, {"owner": {"reputation": 25491, "user_id": 49197, "user_type": "registered", "accept_rate": 75, "profile_image": "https://www.gravatar.com/avatar/15ebf24a33a29b9efbf9924f530dd736?s=128&d=identicon&r=PG", "display_name": "Hynek -Pichi- Vychodil", "link": "https://stackoverflow.com/users/49197/hynek-pichi-vychodil"}, "edited": false, "score": 0, "creation_date": 1456065063, "post_id": 35537150, "comment_id": 58763274, "body": "You are not helping, show an example of input data and desired output. Which part of <a href=\"http://stackoverflow.com/help/mcve\">MCVE</a> don&#39;t you understand?"}, {"owner": {"reputation": 25491, "user_id": 49197, "user_type": "registered", "accept_rate": 75, "profile_image": "https://www.gravatar.com/avatar/15ebf24a33a29b9efbf9924f530dd736?s=128&d=identicon&r=PG", "display_name": "Hynek -Pichi- Vychodil", "link": "https://stackoverflow.com/users/49197/hynek-pichi-vychodil"}, "edited": false, "score": 2, "creation_date": 1456065200, "post_id": 35537150, "comment_id": 58763327, "body": "Global symbol &quot;$i&quot; requires explicit package name (did you forget to declare &quot;my $i&quot;?) at - line 19. Global symbol &quot;$i&quot; requires explicit package name (did you forget to declare &quot;my $i&quot;?) at - line 20. Global symbol &quot;@b&quot; requires explicit package name (did you forget to declare &quot;my @b&quot;?) at - line 28. Global symbol &quot;$i&quot; requires explicit package name (did you forget to declare &quot;my $i&quot;?) at - line 28. Global symbol &quot;$i&quot; requires explicit package name (did you forget to declare &quot;my $i&quot;?) at - line 32. Global symbol &quot;@b&quot; requires explicit package name (did you forget to declare &quot;my @b&quot;?) at ..."}, {"owner": {"reputation": 5334, "user_id": 5830574, "user_type": "registered", "accept_rate": 93, "profile_image": "https://i.stack.imgur.com/kCmqs.png?s=128&g=1", "display_name": "PerlDuck", "link": "https://stackoverflow.com/users/5830574/perlduck"}, "edited": false, "score": 1, "creation_date": 1456066753, "post_id": 35537150, "comment_id": 58763873, "body": "What do you mean by <i>compare the elements</i>? We can only guess. Is it whether \u201c\u2026 they are the same\u201d or \u201c\u2026 all in $file1 are also in $file2\u201d or \u201c\u2026 some of them are in $file2\u201d or \u201c\u2026 have equal number of vowels in them\u201d or WHAT?"}, {"owner": {"reputation": 175, "user_id": 5186623, "user_type": "registered", "accept_rate": 33, "profile_image": "https://graph.facebook.com/10206691161224996/picture?type=large", "display_name": "Chedi Bechikh", "link": "https://stackoverflow.com/users/5186623/chedi-bechikh"}, "edited": false, "score": 0, "creation_date": 1456067656, "post_id": 35537150, "comment_id": 58764250, "body": "i compare line by line, and word by word"}, {"owner": {"reputation": 5334, "user_id": 5830574, "user_type": "registered", "accept_rate": 93, "profile_image": "https://i.stack.imgur.com/kCmqs.png?s=128&g=1", "display_name": "PerlDuck", "link": "https://stackoverflow.com/users/5830574/perlduck"}, "edited": false, "score": 2, "creation_date": 1456072737, "post_id": 35537150, "comment_id": 58766254, "body": "I give up. It would be easier if you&#39;d ask \u201cI&#39;m comparing tandoori chicken to dal makhani, ingredient by ingredient. What&#39;s wrong?\u201d"}, {"owner": {"reputation": 25491, "user_id": 49197, "user_type": "registered", "accept_rate": 75, "profile_image": "https://www.gravatar.com/avatar/15ebf24a33a29b9efbf9924f530dd736?s=128&d=identicon&r=PG", "display_name": "Hynek -Pichi- Vychodil", "link": "https://stackoverflow.com/users/49197/hynek-pichi-vychodil"}, "edited": false, "score": 2, "creation_date": 1456073909, "post_id": 35537150, "comment_id": 58766663, "body": "@ChediBechikh: Look, you didn&#39;t show us original slow but working code. You show code which doesn&#39;t work or even compiles. You refuse to show us example input and desired output. You are talking in riddles. I don&#39;t know if it is some sort of joke or trolling but I ask you for the third time for <a href=\"http://stackoverflow.com/help/mcve\">MCVE</a>. I can guess what you would like but I like to know. You clearly don&#39;t let us know."}, {"owner": {"reputation": 175, "user_id": 5186623, "user_type": "registered", "accept_rate": 33, "profile_image": "https://graph.facebook.com/10206691161224996/picture?type=large", "display_name": "Chedi Bechikh", "link": "https://stackoverflow.com/users/5186623/chedi-bechikh"}, "reply_to_user": {"reputation": 25491, "user_id": 49197, "user_type": "registered", "accept_rate": 75, "profile_image": "https://www.gravatar.com/avatar/15ebf24a33a29b9efbf9924f530dd736?s=128&d=identicon&r=PG", "display_name": "Hynek -Pichi- Vychodil", "link": "https://stackoverflow.com/users/49197/hynek-pichi-vychodil"}, "edited": false, "score": 0, "creation_date": 1456086098, "post_id": 35537150, "comment_id": 58771633, "body": "@Hynek-Pichi-Vychodil: i edited the code as you suggested and it work now, the only probelm is that in the case an element is not contained in the hash , the code will retrun an integer"}, {"owner": {"reputation": 25491, "user_id": 49197, "user_type": "registered", "accept_rate": 75, "profile_image": "https://www.gravatar.com/avatar/15ebf24a33a29b9efbf9924f530dd736?s=128&d=identicon&r=PG", "display_name": "Hynek -Pichi- Vychodil", "link": "https://stackoverflow.com/users/49197/hynek-pichi-vychodil"}, "edited": false, "score": 0, "creation_date": 1456090619, "post_id": 35537150, "comment_id": 58773378, "body": "@ChediBechikh: I don&#39;t see any common word in your example input and I also don&#39;t see any desired output."}, {"owner": {"reputation": 175, "user_id": 5186623, "user_type": "registered", "accept_rate": 33, "profile_image": "https://graph.facebook.com/10206691161224996/picture?type=large", "display_name": "Chedi Bechikh", "link": "https://stackoverflow.com/users/5186623/chedi-bechikh"}, "reply_to_user": {"reputation": 25491, "user_id": 49197, "user_type": "registered", "accept_rate": 75, "profile_image": "https://www.gravatar.com/avatar/15ebf24a33a29b9efbf9924f530dd736?s=128&d=identicon&r=PG", "display_name": "Hynek -Pichi- Vychodil", "link": "https://stackoverflow.com/users/49197/hynek-pichi-vychodil"}, "edited": false, "score": 0, "creation_date": 1456091329, "post_id": 35537150, "comment_id": 58773656, "body": "@Hynek-Pichi-Vychodil: sorry i choose a bad example,but the tow file contain similar words, i correct the example"}, {"owner": {"reputation": 5334, "user_id": 5830574, "user_type": "registered", "accept_rate": 93, "profile_image": "https://i.stack.imgur.com/kCmqs.png?s=128&g=1", "display_name": "PerlDuck", "link": "https://stackoverflow.com/users/5830574/perlduck"}, "edited": false, "score": 0, "creation_date": 1456152365, "post_id": 35537150, "comment_id": 58800888, "body": "Your FIC loop leaves <code>$i</code> with a value equal to the number of lines in your FIC file, e.g. let&#39;s say <code>$i=20</code> when it has 20 lines. Within your FICC loop you put the lines you read into the array <code>@b</code> <b>starting at <code>$b[20]</code></b>. This gives the first 20 elements in <code>@b</code> a value of <code>undef</code>, and that is what you get in the <code>foreach</code> loop. Set <code>$i=0;</code> right before your FICC loop."}], "answers": [{"comments": [{"owner": {"reputation": 175, "user_id": 5186623, "user_type": "registered", "accept_rate": 33, "profile_image": "https://graph.facebook.com/10206691161224996/picture?type=large", "display_name": "Chedi Bechikh", "link": "https://stackoverflow.com/users/5186623/chedi-bechikh"}, "edited": false, "score": 0, "creation_date": 1456088627, "post_id": 35541469, "comment_id": 58772639, "body": "i edit the question, so the problem is in the $stops{&quot;line&quot;}, if it is not defined in the hash, i want to not show the result"}], "tags": [], "owner": {"reputation": 25491, "user_id": 49197, "user_type": "registered", "accept_rate": 75, "profile_image": "https://www.gravatar.com/avatar/15ebf24a33a29b9efbf9924f530dd736?s=128&d=identicon&r=PG", "display_name": "Hynek -Pichi- Vychodil", "link": "https://stackoverflow.com/users/49197/hynek-pichi-vychodil"}, "is_accepted": false, "score": 0, "last_activity_date": 1456085744, "creation_date": 1456085744, "answer_id": 35541469, "question_id": 35537150, "link": "https://stackoverflow.com/questions/35537150/comparing-hash-element-to-table-element-perl/35541469#35541469", "title": "comparing hash element to table element perl", "body": "<p>Does this what you want?</p>\n\n<pre><code>join &lt;(sort file1) &lt;(sort file2) &gt;result\n</code></pre>\n\n<p>Works in <code>bash</code>.</p>\n"}], "owner": {"reputation": 175, "user_id": 5186623, "user_type": "registered", "accept_rate": 33, "profile_image": "https://graph.facebook.com/10206691161224996/picture?type=large", "display_name": "Chedi Bechikh", "link": "https://stackoverflow.com/users/5186623/chedi-bechikh"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 76, "favorite_count": 0, "answer_count": 1, "score": -1, "last_activity_date": 1456243066, "creation_date": 1456063883, "last_edit_date": 1456243066, "question_id": 35537150, "link": "https://stackoverflow.com/questions/35537150/comparing-hash-element-to-table-element-perl", "title": "comparing hash element to table element perl", "body": "<p>I have a program that compares each line of two files, each line contains one word, if simply read the two files and stock the data into table, and compare the element of the two tables,\nthe first file contain:\nstraight </p>\n\n<pre><code>work \n\nweek \n\nbelief time \n\nsaturday \n\nwagon\n\naustralia\n\nsunday \n\nfrench \n...\n</code></pre>\n\n<p>and the second file contain</p>\n\n<pre><code>firepower         \n\nmalaise         \n\nbryson         \n\nwagon         \n\ndalglish \n\nfrench\n...\n</code></pre>\n\n<p>this will take a long time to compare file, so I propose another solution, but this doesn't work</p>\n\n<pre><code>#!/usr/bin/perl\nuse strict;\nuse warnings;\n\nopen( FIC,  $ARGV[0] );\nopen( FICC, $ARGV[1] );\n\nprint \"choose the name of the file\\n\";\n\nchomp( my $fic2 = &lt;STDIN&gt; );\nopen( FIC2, \"&gt;$fic2\" );\nmy $i=0;\nmy $j=0;\nmy @b=();\nmy %stops;\nwhile (&lt;FIC&gt;)    #read each line into $_\n{\n    # Remove newline from $_\n    chomp;\n    $_ =~ s/\\s+$//;\n    $stops{$_} = $i;    # add the line to\n    $i++;\n}\n\nclose FIC;\n\nwhile (&lt;FICC&gt;) {\n    my $ligne = $_;\n    $ligne =~ s/\\s+$//;\n    $b[$i] = lc($ligne);\n\n    # $b contain the data\n\n    $i++;\n}\n\nforeach my $che (@b) {\n\n    chomp($che);\n\n    print FIC2 $che;\n    print FIC2 \" \";\n\n    print FIC2 $stops{\"$che\"}; print FIC2 \"\\n\";\n\n    #this returns nothing\n\n}\n</code></pre>\n\n<p>The problem is in<code>this command  $stop{\"$che\"};</code> in the case that the elment don't exist in the hash %stop, it return an integer and an error</p>\n\n<p>Use of initalized value in print c:/ats2/hash.pl line 44,  line 185B2</p>\n"}, {"tags": ["perl", "xquery", "benchmarking", "basex"], "answers": [{"comments": [{"owner": {"reputation": 6214, "user_id": 1451599, "user_type": "registered", "accept_rate": 50, "profile_image": "https://i.stack.imgur.com/PTpfm.jpg?s=128&g=1", "display_name": "dirkk", "link": "https://stackoverflow.com/users/1451599/dirkk"}, "reply_to_user": {"reputation": 22591, "user_id": 1150683, "user_type": "registered", "accept_rate": 96, "profile_image": "https://www.gravatar.com/avatar/4171d32ed59549af71dff8c1682f17cc?s=128&d=identicon&r=PG&f=1", "display_name": "Bram Vanroy", "link": "https://stackoverflow.com/users/1150683/bram-vanroy"}, "edited": false, "score": 0, "creation_date": 1456230652, "post_id": 35575449, "comment_id": 58841652, "body": "Regarding XPath/Xquery: But you put your XPath expression into an XQuery, e.g. in the script I see a flwor expression. This makes your whole script XQuery (i.e. a pure XPath processor could not execute it). You can simply run multiple queries by using the appropriate command, e.g. <code>basex query1.xq query2.xq</code>). For some more advanced scripting you might want to take a look at our command scripting (<a href=\"http://docs.basex.org/wiki/Commands#Basics\" rel=\"nofollow noreferrer\">docs.basex.org/wiki/Commands#Basics</a>)"}], "tags": [], "owner": {"reputation": 6214, "user_id": 1451599, "user_type": "registered", "accept_rate": 50, "profile_image": "https://i.stack.imgur.com/PTpfm.jpg?s=128&g=1", "display_name": "dirkk", "link": "https://stackoverflow.com/users/1451599/dirkk"}, "is_accepted": false, "score": 1, "last_activity_date": 1456224618, "creation_date": 1456224618, "answer_id": 35575449, "question_id": 35536286, "link": "https://stackoverflow.com/questions/35536286/benchmarking-in-basex-how-to-set-up/35575449#35575449", "title": "Benchmarking in BaseX: how to set up", "body": "<p>There are several things we have to separate here: The first issue is that BaseX performance should not be confused with your perl script as your perl script seems to simply construct an XQuery (and not XPath as you suggested in your question and tags). So for testing I would suggest to use some already pre-fined XQueries suitable to your real-world scenarios, as your XQuery construction should be negligible. How you pass your query to BaseX, so via the Perl API or via any other means should not be relevant. Even if your perl performance is relevant, you should test the performance separately.</p>\n\n<p>Hence, your original question whether you should put test both scenarios in the same script or not is not relevant anymore. Instead you simply execute the two separate XQueries for the scenario A and B by themself without the perl script.</p>\n\n<p>You are partly correct to worry about caching, however it is the Java JIT compiler which most likely will be relevant here (as BaseX is written in java, JIT and use caching, not BaseX itself. You should therefore use the Client/Server infrastructure and have a long-running server and warm it up before running performance measurements.</p>\n\n<p>Regarding performance: The BaseX GUI and also the command line already have an included measurement (using command line you can set <code>-V</code> to get run times for parsing, compiling, evaluating and printing). Also, using the <code>-r</code> parameter you can execute a query multiple times and it will give you the average execution times.</p>\n\n<p>In general, if you want to improve the performance of your script you should take a look at the query plan and the optimized query and check whether the appropriate indexes are used. Also, our new <a href=\"http://docs.basex.org/wiki/Indexes#Selective_Indexing\" rel=\"nofollow\">Selective Indexing</a> might be very useful to you. If the index isn't used, your query will definitely not perform well for 500 million words.</p>\n\n<p>Full Disclosure: I am with the BaseX team and you might get better help at the <a href=\"https://mailman.uni-konstanz.de/mailman/listinfo/basex-talk\" rel=\"nofollow\">BaseX mailing list</a> or might want to reference this questions as our head architect isn't watching SO as regularly as the ML.</p>\n"}, {"tags": [], "owner": {"reputation": 23570, "user_id": 1477421, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/8ad4c0d74e420261aa2926787ab1c468?s=128&d=identicon&r=PG", "display_name": "C. M. Sperberg-McQueen", "link": "https://stackoverflow.com/users/1477421/c-m-sperberg-mcqueen"}, "is_accepted": true, "score": 1, "last_activity_date": 1456513894, "creation_date": 1456513894, "answer_id": 35659840, "question_id": 35536286, "link": "https://stackoverflow.com/questions/35536286/benchmarking-in-basex-how-to-set-up/35659840#35659840", "title": "Benchmarking in BaseX: how to set up", "body": "<p>One possible improvement:  minimize the number of times you transfer control from Perl to the database -- just as you have minimized the number of database connections. (Or at least set yourself up to measure the cost of the transfer of control.)  I suspect you will get significantly better results if you move your loop into XQuery rather than running the loop in Perl.</p>\n\n<p>A single call to a database management system asking it to perform 1000 searches is likely to be somewhat faster than 1000 calls to the DBMS each requesting a single search. The first involves two context switches:  one from your script or bash to the dbms, and one back; the second involves 2000.  The last time I measured something like this carefully, each context switch cost something like 500 ms; it mounted up fast.  (That said, this was a long time ago, with a different database.  But it was surprising [and sobering] to learn than the difference between the two query formulations I was trying to compare was dwarfed by the difference between running the test loop in a script or inside the dbms.)</p>\n\n<p>A second suggestion:  From what you say, the size of the database and the result sets seem likely to ensure that caching between runs doesn't have a big effect on the results.  But this seems to be a testable assertion, and one worth testing.  So set up your A and B scripts, and then do a trial run:  does <code>for runcount in 1 2 3 4 5; do perl A.pl; perl B.pl; done</code> produce results comparable to <code>for runcount in 1 2 3 4 5; do perl A.pl; done; for runcount in 1 2 3 4 5; do perl B.pl; done</code>?  If they are comparable, then you have reason to believe it doesn't matter if you run A and B separately or in alternation.  If they are not comparable, then you know it does matter, which would be very valuable information.  Other things being equal, I would expect caching to produce lower times when running one query several times before moving on to the next query, and cache misses to produce higher times if running each query just once.  Probably worth measuring.</p>\n\n<p>In the same spirit, I would recommend that you run tests both with the loop in the Perl script and with the loop in an XQuery query.</p>\n\n<p>A third suggestion:  in practice, a query at the corpus query interface will involve several stages, each with measurable time:  transmission of the query from the user's browser (assuming it's a Web interface) to the server, translation of the request into a form suitable for transmission to the back end dbms (here BaseX), context switch to BaseX, processing within BaseX, context switch back, handling by web server, transmission to user.  It would be useful to have at least rough estimates of the times involved in each of these steps, or at least of the time taken for everything-but-BaseX.</p>\n\n<p>So if it were me running the tests, I think I'd also prepare a set of vacuous XQuery tests, along the lines of </p>\n\n<pre><code>2 + 3\n</code></pre>\n\n<p>or just</p>\n\n<pre><code>42\n</code></pre>\n\n<p>to push the BaseX time as close to zero as possible; the measured time between user initiation of the query and display of response is the per-query overhead.  (Interesting question:  should one use many different trivial expressions to prevent caching of results, or should one use the same expression over and over, to encourage caching of the result?  How can we try to ensure that BaseX will cache the result, but the Web server won't? ...)</p>\n\n<p>A final suggestion:  remember that other people who need to do benchmarking will often have the same questions as you do.  This means that you can reformulate every question of the form \"Should I do X or Y?\" into the form \"What measurable effect does the difference between X and Y have on the results of a benchmarking test?\"  Run some tests to try to measure that effect, and <em>write them up</em>.  (I always find it makes it more interesting if I force myself to make a prediction after formulating the question but before measuring the difference.)</p>\n"}], "owner": {"reputation": 22591, "user_id": 1150683, "user_type": "registered", "accept_rate": 96, "profile_image": "https://www.gravatar.com/avatar/4171d32ed59549af71dff8c1682f17cc?s=128&d=identicon&r=PG&f=1", "display_name": "Bram Vanroy", "link": "https://stackoverflow.com/users/1150683/bram-vanroy"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 315, "favorite_count": 1, "accepted_answer_id": 35659840, "answer_count": 2, "score": 5, "last_activity_date": 1456539282, "creation_date": 1456058770, "last_edit_date": 1456226192, "question_id": 35536286, "link": "https://stackoverflow.com/questions/35536286/benchmarking-in-basex-how-to-set-up", "title": "Benchmarking in BaseX: how to set up", "body": "<p>Currently I am an intern at a research group that makes large sets of texts (corpora) searchable. Not only can one search for literal strings, but more importantly it is also possible to look for similar syntactical dependency structures as the given input, without the need of being proficient in any programming language or corpus annotation style. It may be clear that this tool is intended for linguists. </p>\n\n<p>At the start of the project - before I was engaged in the project - the tool was limited to rather small corpora (up to 9 million words). The goal is to make large sets of texts searchable as well. We are talking about +- 500 millions words. Attempts have been made that in theory ought to improve speed by reducing the search space (see <a href=\"http://nederbooms.ccl.kuleuven.be/documentation/LREC2014-GrETELSoNaR.pdf\" rel=\"nofollow\">this paper</a>) but this has not been tested yet. The results of this attempt is a new file structure. Let's call this structure B, compared to a non-processed structure A. We expect B to provide faster results when queried with BaseX.</p>\n\n<p>My question is: what is the best way to test and compare both approaches with a Perl script? Below you find my current script to query BaseX locally. It takes two arguments. A directory that stores different files. These files each individually store XPaths. Those XPaths are the ones that I have selected to benchmark with. A second argument is the limit of results to return. When set to zero, no limit is set.</p>\n\n<p>Because some parts of the dataset are so incredibly huge, we have divided them in different, equally sized files as well, called treebankparts. They are stored in <code>&lt;tb&gt;</code> tags inside <code>treebankparts.lst</code>.</p>\n\n<pre class=\"lang-perl prettyprint-override\"><code>#!/usr/bin/perl\n\nuse warnings;\n\n$| = 1;    # flush every print\n\n# Directory where XPaths are stored\nmy $directory = shift(@ARGV);\n\n# Set limit. If set to zero all results will be returned\nmy $limit = shift(@ARGV);\n\n# Create session, connect to BaseX\nmy $session = Session-&gt;new([INFORMATION WITHHELD]);\n\n# List all files in directory\n@xpathfiles = &lt;$directory/*.txt&gt;;\n\n# Read lines of treebank parts into variable\nopen( my $tfh, \"treebankparts.lst\" ) or die \"cannot open file treebankparts.lst\";\nchomp( my @tlines = &lt;$tfh&gt; );\nclose $tfh;\n\n# Loop through all XPaths in $directory\nforeach my $xpathfile (@xpathfiles) {\n    open( my $xfh, $xpathfile ) or die \"cannot open file $xpathfile\";\n    chomp( my @xlines = &lt;$xfh&gt; );\n    close $xfh;\n\n    print STDOUT \"File = $xpathfile\\n\";\n\n    # Loop through lines from XPath file (= XPath query)\n    foreach my $xline (@xlines) {\n        # Loop through the lines of treebank file\n        foreach my $tline (@tlines) {\n            my ($treebank) = $tline =~ /&lt;tb&gt;(.+)&lt;\\/tb&gt;/;\n            QuerySonar( $xline, $treebank );\n        }\n    }\n}\n$session-&gt;close();\n\nsub QuerySonar {\n    my ( $xpath, $db ) = @_;\n\n    print STDOUT \"Querying $db for $xpath\\n\";\n    print STDOUT \"Limit = $limit\\n\";\n    my $x_limit;\n    my $x_resultsofxp = 'declare variable $results := db:open(\"' . $db . '\")/treebank/alpino_ds'\n      . $xpath . ';';\n    my $x_open       = '&lt;results&gt;';\n    my $x_totalcount = '&lt;total&gt;{count($results)}&lt;/total&gt;';\n    my $x_loopinit   = '{for $node at $limitresults in $results';\n\n    # Spaces are important!\n    if ( $limit &gt; 0 ) {\n        $x_limit = ' where $limitresults &lt;= ' . $limit . ' ';\n    }\n    # Comment needed to prevent `Incomplete FLWOR expression`\n    else { $x_limit = '(: No limit set :)'; }\n\n    my $x_sentenceinfo = 'let $sentid := ($node/ancestor::alpino_ds/@id)\n        let $sentence := ($node/ancestor::alpino_ds/sentence)\n        let $begin := ($node//@begin)\n        let $idlist := ($node//@id)\n        let $beginlist := (distinct-values($begin))';\n\n    # Separate sentence info by tab\n    my $x_loopexit = 'return &lt;match&gt;{data($sentid)}&amp;#09;\n        {string-join($idlist, \"-\")}&amp;#09;\n        {string-join($beginlist, \"-\")}&amp;#09;\n        {data($sentence)}&lt;/match&gt;}';\n    my $x_close = '&lt;/results&gt;';\n\n    # Concatenate all XQuery parts\n    my $x_concatquery =\n        $x_resultsofxp\n      . $x_open\n      . $x_totalcount\n      . $x_loopinit\n      . $x_limit\n      . $x_sentenceinfo\n      . $x_loopexit\n      . $x_close;\n\n    my $querysent = $session-&gt;query($x_concatquery);\n\n    my $basexoutput = $querysent-&gt;execute();\n    print $basexoutput. \"\\n\\n\";\n\n    $querysent-&gt;close();\n}\n</code></pre>\n\n<p>(Note that this is a stripped down version and that it may not work as-is. This snippet does <strong>not</strong> use structure B!)</p>\n\n<p>What happens is: loop through all XPath files, loop through each line in an XPath file, loop through all treebankparts and then execute the sub. The sub then queries BaseX. This comes down to sending a new XQuery to BaseX, and returning the total hits and the results (possibly limited by an argument in the Perl script). So I got that going, but now the question is: how can I improve this script so I can get some benchmarking results out of it.</p>\n\n<p>First of all, I'd start with adding a profiler to this script. I guess that bit is obvious. However, I am not sure how I should start comparing structure A with B. Would I put both queries (to different databases) in separate scripts, then call a profiler on both, and run both scripts a number of times and get a mean value and compare? Or would I run each query by both databases in the same script, almost at the same time?</p>\n\n<p>It is important to consider caching that is happening. Therefore I am not entirely sure what build-up for benchmarking of a database this huge is appropriate. First one script, then the other. Both at the same time. Alternating queries between the two. And so on. There are so many possibilities, but I wonder which would provide the best results. Also, I would repeat the process a couple of times. Would I repeat each query and then continue to the next, or finish all XPath files, and then repeat the whole process again?</p>\n\n<p>(Reading the description of the benchmark-tag I am confident that this - albeit elaborate - post is suited for SO.)</p>\n"}, {"tags": ["perl", "dynamic-programming", "fibonacci", "memoization"], "comments": [{"owner": {"reputation": 6258, "user_id": 82262, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/8ce15931410b388a52eb2df4a864137f?s=128&d=identicon&r=PG&f=1", "display_name": "Matt Jacob", "link": "https://stackoverflow.com/users/82262/matt-jacob"}, "edited": false, "score": 0, "creation_date": 1456036148, "post_id": 35532883, "comment_id": 58755147, "body": "Possible duplicate of <a href=\"http://stackoverflow.com/questions/25431461/my-fibonacci-sequence-as-a-recursive-function-is-an-infinite-loop\">My Fibonacci sequence as a recursive function is an infinite loop</a>"}, {"owner": {"reputation": 13399, "user_id": 716443, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/a8d13509991dbbd5467f01f55988ae4e?s=128&d=identicon&r=PG", "display_name": "DavidO", "link": "https://stackoverflow.com/users/716443/davido"}, "reply_to_user": {"reputation": 6258, "user_id": 82262, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/8ce15931410b388a52eb2df4a864137f?s=128&d=identicon&r=PG&f=1", "display_name": "Matt Jacob", "link": "https://stackoverflow.com/users/82262/matt-jacob"}, "edited": false, "score": 0, "creation_date": 1456036317, "post_id": 35532883, "comment_id": 58755181, "body": "@Matt Jacob : This is not a duplicate of the question you referenced. That question was related to how recursive implementations of Fibonacci do way more work than they need to unless memoization is used.  The problem this individual is experiencing is related to the fact that his recursive implementation is using a package global, and therefore not maintaining separate states on each level of the recursive call stack."}], "answers": [{"comments": [{"owner": {"reputation": 1116, "user_id": 2046382, "user_type": "registered", "accept_rate": 72, "profile_image": "https://www.gravatar.com/avatar/2fa808cbd6287919ff234bb6ac8ba928?s=128&d=identicon&r=PG", "display_name": "May", "link": "https://stackoverflow.com/users/2046382/may"}, "edited": false, "score": 4, "creation_date": 1456036522, "post_id": 35533053, "comment_id": 58755216, "body": "Thank you ... If i had the habit of using strict ... i could have avoided it. Thanks for the pointer, a crisp explanation and your time."}], "tags": [], "owner": {"reputation": 13399, "user_id": 716443, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/a8d13509991dbbd5467f01f55988ae4e?s=128&d=identicon&r=PG", "display_name": "DavidO", "link": "https://stackoverflow.com/users/716443/davido"}, "is_accepted": true, "score": 14, "last_activity_date": 1456036187, "creation_date": 1456036187, "answer_id": 35533053, "question_id": 35532883, "link": "https://stackoverflow.com/questions/35532883/fibonacci-perl-program-going-out-of-memory-even-for-small-inputs-even-after-usi/35533053#35533053", "title": "Fibonacci Perl program going out of Memory even for Small inputs, even after using Memoization,", "body": "<p>The <code>$n</code> you are using is a package global, not lexically scoped to the subroutine.  The reason that this (and similar) problems work when implemented using recursion is that they are typically written using lexically scoped variables. Those scopes store state which is needed as the recursion unwinds.  In the case of your code no state is stored because you're just reusing the same variable over and over.  If you were to put a <code>print \"$n\\n\";</code> immediately after the <code>shift</code> you would see that <code>$n</code> is set to 10, then 9, 8, 7, 6, 5, 4, 3, 2, 1, -1, -2, -3, and so on.  The recursion is running away.</p>\n\n<p>Change your code as follows, and it will work:</p>\n\n<pre><code>use strict;\nuse warnings;\nuse Memoize;\nmemoize('F');\n\nsub F{\n  my $n = shift; # Notice \"my\", creating an instance of $n lexically scoped\n                 # to the subroutine. A new instance is tracked for each call.\n  return 0 if $n == 0;\n  return 1 if $n == 1;\n  return F($n-1)+F($n-2);\n}\n\nprint F(10), \"\\n\";\n</code></pre>\n\n<p>This will yield the expected output of 55.</p>\n\n<p>The reason that the code works with such a seemingly insignificant change (adding <code>my</code>) is that <code>my</code> creates a lexically scoped variable which can be used to maintain state separately at each level of the recursive call stack, whereas a package global, as you are using it, has just a single state.</p>\n"}], "owner": {"reputation": 1116, "user_id": 2046382, "user_type": "registered", "accept_rate": 72, "profile_image": "https://www.gravatar.com/avatar/2fa808cbd6287919ff234bb6ac8ba928?s=128&d=identicon&r=PG", "display_name": "May", "link": "https://stackoverflow.com/users/2046382/may"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 121, "favorite_count": 0, "accepted_answer_id": 35533053, "answer_count": 1, "score": 4, "last_activity_date": 1456036824, "creation_date": 1456034687, "last_edit_date": 1456036824, "question_id": 35532883, "link": "https://stackoverflow.com/questions/35532883/fibonacci-perl-program-going-out-of-memory-even-for-small-inputs-even-after-usi", "title": "Fibonacci Perl program going out of Memory even for Small inputs, even after using Memoization,", "body": "<p>The Program:</p>\n\n<pre><code>use warnings;\nuse Memoize;\nmemoize ('F');\n\nsub F{\n $n = shift;\n return 0 if $n==0;\n return 1 if $n ==1;\n return F($n-1)+F($n-2);\n}\n\nprint F(10);\n</code></pre>\n\n<p>Even for small value viz F(3), F(2) I am getting this error:</p>\n\n<pre><code>Deep recursion on anonymous subroutine at 5.pl line 13.\nOut of memory!\n</code></pre>\n"}, {"tags": ["regex", "perl", "negative-lookbehind"], "comments": [{"owner": {"user_type": "does_not_exist", "display_name": "user557597"}, "edited": false, "score": 0, "creation_date": 1456000626, "post_id": 35528601, "comment_id": 58746849, "body": "Not so hard. Is the colon always going to be there ? Single line, multiple lines, etc ??"}, {"owner": {"reputation": 31, "user_id": 5956665, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/4e1d2034a6987194751d83a22b4f9820?s=128&d=identicon&r=PG&f=1", "display_name": "RustyRegex", "link": "https://stackoverflow.com/users/5956665/rustyregex"}, "edited": false, "score": 0, "creation_date": 1456000884, "post_id": 35528601, "comment_id": 58746942, "body": "Hello! The chat is a concatenation of the user&#39;s name, a colon, a space (I think) and what ever they&#39;ve said. As far as I am aware, it&#39;s all on one line (I tried to work something out with &quot;line starts with Owner:&quot; but had a similar problem). I think it&#39;s specifying an indeterminate number of characters and spaces between my lookbehind and my match string that&#39;s tripping me up. Thanks in advance for helping!"}, {"owner": {"reputation": 51521, "user_id": 2566198, "user_type": "registered", "accept_rate": 67, "profile_image": "https://i.stack.imgur.com/Y34ZA.jpg?s=128&g=1", "display_name": "Sobrique", "link": "https://stackoverflow.com/users/2566198/sobrique"}, "edited": false, "score": 1, "creation_date": 1456008216, "post_id": 35528601, "comment_id": 58749496, "body": "Can I suggest the answer is don&#39;t try and single-regex it, but just match <code>Owner:</code> and &#39;allow&#39; that."}], "answers": [{"comments": [{"owner": {"reputation": 31, "user_id": 5956665, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/4e1d2034a6987194751d83a22b4f9820?s=128&d=identicon&r=PG&f=1", "display_name": "RustyRegex", "link": "https://stackoverflow.com/users/5956665/rustyregex"}, "edited": false, "score": 0, "creation_date": 1456001730, "post_id": 35528806, "comment_id": 58747292, "body": "Thanks - I&#39;ve tried to parse some test cases with it <a href=\"http://s24.postimg.org/6f4ug3z79/sln1.jpg\" rel=\"nofollow noreferrer\">here</a> - as you can see the first four lines parse as expected, but the last two should match and do not (blue highlighting indicating a match only in line 4)."}, {"owner": {"user_type": "does_not_exist", "display_name": "user557597"}, "reply_to_user": {"reputation": 31, "user_id": 5956665, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/4e1d2034a6987194751d83a22b4f9820?s=128&d=identicon&r=PG&f=1", "display_name": "RustyRegex", "link": "https://stackoverflow.com/users/5956665/rustyregex"}, "edited": false, "score": 0, "creation_date": 1456002056, "post_id": 35528806, "comment_id": 58747418, "body": "Uh, perhaps you should use the global flag?"}, {"owner": {"user_type": "does_not_exist", "display_name": "user557597"}, "reply_to_user": {"reputation": 31, "user_id": 5956665, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/4e1d2034a6987194751d83a22b4f9820?s=128&d=identicon&r=PG&f=1", "display_name": "RustyRegex", "link": "https://stackoverflow.com/users/5956665/rustyregex"}, "edited": false, "score": 0, "creation_date": 1456003213, "post_id": 35528806, "comment_id": 58747833, "body": "Added a demo, do you need a Perl sample?"}, {"owner": {"reputation": 31, "user_id": 5956665, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/4e1d2034a6987194751d83a22b4f9820?s=128&d=identicon&r=PG&f=1", "display_name": "RustyRegex", "link": "https://stackoverflow.com/users/5956665/rustyregex"}, "edited": false, "score": 0, "creation_date": 1456017929, "post_id": 35528806, "comment_id": 58751847, "body": "Thank you! It seems to work in regex parser - I&#39;ll try it in live later, when the server population is low and mark the answer afterwards. I don&#39;t need a Perl demo thanks. I don&#39;t quite understand what you&#39;re doing between (1) and (2) - would you mind explaining please?"}, {"owner": {"user_type": "does_not_exist", "display_name": "user557597"}, "reply_to_user": {"reputation": 31, "user_id": 5956665, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/4e1d2034a6987194751d83a22b4f9820?s=128&d=identicon&r=PG&f=1", "display_name": "RustyRegex", "link": "https://stackoverflow.com/users/5956665/rustyregex"}, "edited": false, "score": 0, "creation_date": 1456096834, "post_id": 35528806, "comment_id": 58775613, "body": "@RustyRegex - what do you mean by &quot;between (1) and (2)&quot;. In the second regex? Or between the first and second regex?"}], "tags": [], "owner": {"user_type": "does_not_exist", "display_name": "user557597"}, "is_accepted": false, "score": 2, "last_activity_date": 1456003902, "last_edit_date": 1456003902, "creation_date": 1456001202, "answer_id": 35528806, "question_id": 35528601, "link": "https://stackoverflow.com/questions/35528601/negative-lookbehind-regex-perl-with-variable-characters-in-between/35528806#35528806", "title": "Negative lookbehind regex (PERL) with variable characters in-between", "body": "<p>You can try this <code>(?&lt;!Owner):[^:]*?\\K(?i:digg|bag)</code>  </p>\n\n<p><a href=\"https://regex101.com/r/pP9eK0/1\" rel=\"nofollow\">Demo</a></p>\n\n<p>Explanation  </p>\n\n<pre><code> (?&lt;! Owner )                  # Not 'Owner' behind colon\n : [^:]*?                      # Colon, then not Colon's up to the ..\n \\K                            # Previous, not part of match\n (?i: digg | bag )             # Only the bad word will match $&amp;\n</code></pre>\n\n<p>If you expect it to be line oriented where the check for <code>Owner</code> is at/close<br>\nto the beginning, use this:  </p>\n\n<p>Using captured parts.  </p>\n\n<p><code>(?mi)^(?!\\h*Owner:)\\h*([^:\\r\\n]*?):(.*?)(digg|bag)</code>  </p>\n\n<p>Expanded  </p>\n\n<pre><code> (?mi)\n ^  \n (?! \\h* Owner: )\n \\h*                           # Trim whitespace\n ( [^:\\r\\n]*? )                # (1), User\n : \n ( .*? )                       # (2), Before bad word\n ( digg | bag )                # (3), Bad word\n</code></pre>\n"}, {"comments": [{"owner": {"reputation": 65820, "user_id": 1741542, "user_type": "registered", "accept_rate": 75, "profile_image": "https://i.stack.imgur.com/QdVqh.jpg?s=128&g=1", "display_name": "Olaf Dietsche", "link": "https://stackoverflow.com/users/1741542/olaf-dietsche"}, "edited": false, "score": 0, "creation_date": 1456002177, "post_id": 35528856, "comment_id": 58747464, "body": "Wouldn&#39;t just <code>Owner:\\s+(*SKIP)(*F)|...</code> be enough in this case?"}, {"owner": {"reputation": 65820, "user_id": 1741542, "user_type": "registered", "accept_rate": 75, "profile_image": "https://i.stack.imgur.com/QdVqh.jpg?s=128&g=1", "display_name": "Olaf Dietsche", "link": "https://stackoverflow.com/users/1741542/olaf-dietsche"}, "edited": false, "score": 0, "creation_date": 1456002577, "post_id": 35528856, "comment_id": 58747609, "body": "I am wrong. I just tested it on the command line and it doesn&#39;t work as I thought. So, your regex is correct."}], "tags": [], "owner": {"reputation": 62965, "user_id": 3679490, "user_type": "registered", "accept_rate": 81, "profile_image": "https://www.gravatar.com/avatar/70f98fb23b16862298ea208aedfd18ae?s=128&d=identicon&r=PG&f=1", "display_name": "vks", "link": "https://stackoverflow.com/users/3679490/vks"}, "is_accepted": false, "score": 2, "last_activity_date": 1456001534, "creation_date": 1456001534, "answer_id": 35528856, "question_id": 35528601, "link": "https://stackoverflow.com/questions/35528601/negative-lookbehind-regex-perl-with-variable-characters-in-between/35528856#35528856", "title": "Negative lookbehind regex (PERL) with variable characters in-between", "body": "<pre><code>Owner\\:\\s*.*?(digg|bag)(*SKIP)(*F)|(digg|bag)\n</code></pre>\n\n<p>You can use <code>(*SKIP)(*F)</code> to fail when <code>Owner</code> is there.See demo.</p>\n\n<p><a href=\"https://regex101.com/r/uE6jQ1/5\" rel=\"nofollow\">https://regex101.com/r/uE6jQ1/5</a></p>\n"}, {"tags": [], "owner": {"reputation": 87649, "user_id": 17389, "user_type": "registered", "accept_rate": 38, "profile_image": "https://www.gravatar.com/avatar/cd06d1314817ce946ab796af8750b56a?s=128&d=identicon&r=PG", "display_name": "ysth", "link": "https://stackoverflow.com/users/17389/ysth"}, "is_accepted": false, "score": 3, "last_activity_date": 1456025649, "creation_date": 1456025649, "answer_id": 35531971, "question_id": 35528601, "link": "https://stackoverflow.com/questions/35528601/negative-lookbehind-regex-perl-with-variable-characters-in-between/35531971#35531971", "title": "Negative lookbehind regex (PERL) with variable characters in-between", "body": "<p>Seems like you just want:</p>\n\n<pre><code>/^(?!Owner:).*(?i:(digg|bag))/s\n</code></pre>\n\n<p>Matching messages that don't start with Owner: and contain (case insensitive) digg or bag.</p>\n"}], "owner": {"reputation": 31, "user_id": 5956665, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/4e1d2034a6987194751d83a22b4f9820?s=128&d=identicon&r=PG&f=1", "display_name": "RustyRegex", "link": "https://stackoverflow.com/users/5956665/rustyregex"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 208, "favorite_count": 0, "answer_count": 3, "score": 3, "last_activity_date": 1456025649, "creation_date": 1456000076, "last_edit_date": 1592644375, "question_id": 35528601, "link": "https://stackoverflow.com/questions/35528601/negative-lookbehind-regex-perl-with-variable-characters-in-between", "title": "Negative lookbehind regex (PERL) with variable characters in-between", "body": "<p>I'm having a problem with a negative lookbehind regex. I've read the stackoverflow results and I'm afraid I don't quite understand them.</p>\n<p>I operate a game server, and I have a tool that reads the users' chat and kicks a user if they use a banned word. The tool uses the PERL regex engine.</p>\n<p>Say my banned words are popular derivations of &quot;bag&quot; or &quot;digger&quot;. I can use the following regex to match chat lines containing these words.</p>\n<pre><code>(?i)(digg|bag)(?-i)\n</code></pre>\n<p>There are other words in my actual list.</p>\n<p>However, I like to offer a warning first, which appears in chat as:</p>\n<blockquote>\n<p>Owner: Don't say &quot;digger&quot;</p>\n</blockquote>\n<p>So I've tried using a negative lookbehind to avoid matching my banned words list when it is preceded by &quot;Owner:&quot; - however, I can only get it to work if I specify the exact text I use between &quot;:&quot; and the banned word - which I don't always do, and frequently accidentally match my self.</p>\n<p>I've tried to use:</p>\n<pre><code>(?&lt;!Owner\\:)/s*(?i)(digg|bag)(?-i)\n</code></pre>\n<p>which works if there's only whitespace, but what I really want is to not match:</p>\n<blockquote>\n<p>Owner:digger</p>\n<p>Owner: Digger</p>\n<p>Owner: don't use bag as an insult</p>\n<p>Owner:(anything else here)dig</p>\n</blockquote>\n<p><em>et cetera</em>, but match:</p>\n<blockquote>\n<p>(anything else):(any banned word regardless of what precedes it after the colon)</p>\n</blockquote>\n<p>I can't work out if what I want is even possible in this syntax, because of zero-width assertions (which I can't wrap my head around), or if my regex-fu is just weak.</p>\n<p>I've tried a couple of tutorials, and using the regex101 parser, but I can't quite get what I want. Please can you help?</p>\n"}, {"tags": ["perl"], "comments": [{"owner": {"reputation": 7787, "user_id": 1257035, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/WHLC8.png?s=128&g=1", "display_name": "a3f", "link": "https://stackoverflow.com/users/1257035/a3f"}, "edited": false, "score": 0, "creation_date": 1456001106, "post_id": 35528581, "comment_id": 58747028, "body": "<code>%20s</code> means a minimum width of 20. As <code>length $var &gt;= 20</code>, it won&#39;t have any effect. I copy-pasted your code and can&#39;t reproduce only the first word printing."}, {"owner": {"reputation": 13757, "user_id": 1270003, "user_type": "registered", "accept_rate": 87, "profile_image": "https://www.gravatar.com/avatar/d5ed9123b92a6e4dffa75f9f6dd9e382?s=128&d=identicon&r=PG&f=1", "display_name": "texasbruce", "link": "https://stackoverflow.com/users/1270003/texasbruce"}, "edited": false, "score": 1, "creation_date": 1456003223, "post_id": 35528581, "comment_id": 58747843, "body": "Cannot reproduce. It works fine."}], "answers": [{"tags": [], "owner": {"reputation": 6592, "user_id": 3005251, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/a5331f7e467aae3d581fe8bc814ef572?s=128&d=identicon&r=PG", "display_name": "bolav", "link": "https://stackoverflow.com/users/3005251/bolav"}, "is_accepted": false, "score": 2, "last_activity_date": 1456001140, "creation_date": 1456001140, "answer_id": 35528791, "question_id": 35528581, "link": "https://stackoverflow.com/questions/35528581/how-to-format-out-with-printf-in-perl/35528791#35528791", "title": "how to format out with printf in perl", "body": "<p>I'm unable to reproduce your problems.</p>\n\n<pre><code>use strict;\nuse warnings;\n\nmy $var= \"Hello, this is test output\";\nprintf (\"%20s\\n\", $var);\n\nmy $yaxis= 20;\nprintf (\"%${yaxis}s\\n\", $var);\n</code></pre>\n\n<p>outputs:</p>\n\n<pre><code>Hello, this is test output\nHello, this is test output\n</code></pre>\n"}, {"tags": [], "owner": {"reputation": 689, "user_id": 5683411, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/1ef57d432c88881f4e9f9f52347d8a8a?s=128&d=identicon&r=PG", "display_name": "Ken Schumack", "link": "https://stackoverflow.com/users/5683411/ken-schumack"}, "is_accepted": false, "score": 1, "last_activity_date": 1456008654, "creation_date": 1456008654, "answer_id": 35530084, "question_id": 35528581, "link": "https://stackoverflow.com/questions/35528581/how-to-format-out-with-printf-in-perl/35530084#35530084", "title": "how to format out with printf in perl", "body": "<p>If what you are wanting to do is use a variable to indent string output try this minor modification:</p>\n\n<pre><code>my $var= \"Hello, this is test output\";\nprintf (\"%20s\\n\", $var);\nmy $indent = 20;\nprintf (\"%${indent}s%s\\n\", \"\", $var);\n</code></pre>\n\n<p>It will output:</p>\n\n<pre>\nHello, this is test output\n                    Hello, this is test output\n</pre>\n"}], "owner": {"reputation": 51, "user_id": 1318497, "user_type": "registered", "accept_rate": 57, "profile_image": "https://www.gravatar.com/avatar/243a3a14a3af958f754c6e3a25eafbea?s=128&d=identicon&r=PG", "display_name": "mali184", "link": "https://stackoverflow.com/users/1318497/mali184"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 74, "favorite_count": 0, "answer_count": 2, "score": -2, "last_activity_date": 1456008654, "creation_date": 1455999970, "last_edit_date": 1456005520, "question_id": 35528581, "link": "https://stackoverflow.com/questions/35528581/how-to-format-out-with-printf-in-perl", "title": "how to format out with printf in perl", "body": "<p>I am trying to print at a specific position on screen, it worked and is formatted well when I hardcode <code>yaxis</code> value but it does not work when I pass <code>$yaxis</code> as parameter to <code>printf</code>. Instead, it prints only first word as shown. Any idea why? and how can I fix this?   </p>\n\n<pre><code>#Working:\nmy $var= \"Hello, this is test output\";\n\nprintf (\"%20s\\n\", $var);\n\n #output:           \n #Hello, this is test output \n\n#not working:     \nmy $yaxis= \"20\";\nprintf (\"%${yaxis}s\\n\", $var);\n\n#Output:\n#                       Hello  \n</code></pre>\n"}, {"tags": ["perl", "rest", "rest-client"], "answers": [{"tags": [], "owner": {"reputation": 793701, "user_id": 19068, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/1d2d3229ed1961d2bd81853242493247?s=128&d=identicon&r=PG", "display_name": "Quentin", "link": "https://stackoverflow.com/users/19068/quentin"}, "is_accepted": true, "score": 2, "last_activity_date": 1455998619, "creation_date": 1455998619, "answer_id": 35528352, "question_id": 35526938, "link": "https://stackoverflow.com/questions/35526938/how-to-know-which-http-action-called-from-rest-client-at-server-side/35528352#35528352", "title": "how to know which http action called from rest client at server side", "body": "<p>From <a href=\"https://metacpan.org/pod/distribution/CGI/lib/CGI.pod#request_method\" rel=\"nofollow\">the docs</a></p>\n\n<blockquote>\n  <p><code>request_method()</code><br>\n  Returns the method used to access your script, usually one of 'POST', 'GET' or 'HEAD'.</p>\n</blockquote>\n\n<hr>\n\n<p>Also from the docs:</p>\n\n<blockquote>\n  <p>CGI.pm is no longer considered good practice for developing web applications, including quick prototyping and small web scripts. There are far better, cleaner, quicker, easier, safer, more scalable, more extensible, more modern alternatives available at this point in time. These will be documented with <a href=\"https://metacpan.org/pod/CGI::Alternatives\" rel=\"nofollow\">CGI::Alternatives</a>.</p>\n</blockquote>\n"}], "owner": {"reputation": 33, "user_id": 2005063, "user_type": "registered", "accept_rate": 50, "profile_image": "https://www.gravatar.com/avatar/598f60ac4f263652919bb5c46959a2b7?s=128&d=identicon&r=PG", "display_name": "npavan063", "link": "https://stackoverflow.com/users/2005063/npavan063"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 76, "favorite_count": 1, "accepted_answer_id": 35528352, "answer_count": 1, "score": 1, "last_activity_date": 1455998619, "creation_date": 1455991100, "last_edit_date": 1455998417, "question_id": 35526938, "link": "https://stackoverflow.com/questions/35526938/how-to-know-which-http-action-called-from-rest-client-at-server-side", "title": "how to know which http action called from rest client at server side", "body": "<p>When a request was made(actions like GET POST PATCH) to server through a rest client like LWP or REST::Client or HTTP::Request. how can we decode the request so that we will get the actual method which is called from client. if we can get the action we will process or respond to client accordingly.</p>\n\n<p>this way i am able to get headers, all params sent in post request.</p>\n\n<pre><code>my $q = CGI-&gt;new;\nmy $input = $q-&gt;param( 'POSTDATA' ); # for content\n\nmy %headers = map { $_ =&gt; $q-&gt;http($_) } $q-&gt;http();\n\nprint $q-&gt;header('text/plain');\nprint \"Got the following headers:\\n\";\n    for my $header ( keys %headers ) {\n        print \"$header: $headers{$header}\\n\";\n    }\n</code></pre>\n\n<p>Now my question is how to receive the action like GET or POST.</p>\n"}, {"tags": ["arrays", "perl", "multidimensional-array"], "comments": [{"owner": {"reputation": 19681, "user_id": 936986, "user_type": "registered", "accept_rate": 62, "profile_image": "https://www.gravatar.com/avatar/075f0ea7418371ace9bba5b901409ab1?s=128&d=identicon&r=PG", "display_name": "Oleg V. Volkov", "link": "https://stackoverflow.com/users/936986/oleg-v-volkov"}, "edited": false, "score": 0, "creation_date": 1455967175, "post_id": 35522384, "comment_id": 58734823, "body": "<code>push @array, \\@$aux_line;</code>"}, {"owner": {"reputation": 402, "user_id": 3631856, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/aUUwT.jpg?s=128&g=1", "display_name": "Helmut Wollmersdorfer", "link": "https://stackoverflow.com/users/3631856/helmut-wollmersdorfer"}, "edited": false, "score": 1, "creation_date": 1455973032, "post_id": 35522384, "comment_id": 58736700, "body": "I assume this question was answered many times before. Use <code>Text::CSV</code> or <code>Text::CSV::Slurp</code>. It can use the first line as field names, creates an array of hashes with field names as key and is nearly ready for inserting into a database via <code>DBIx::Class</code> if the field names match the column names of the DB."}, {"owner": {"reputation": 399, "user_id": 5661561, "user_type": "registered", "accept_rate": 90, "profile_image": "https://www.gravatar.com/avatar/03e1dcff47ff30d6bdbf704c3d11f2ab?s=128&d=identicon&r=PG&f=1", "display_name": "ArtanisAce", "link": "https://stackoverflow.com/users/5661561/artanisace"}, "reply_to_user": {"reputation": 402, "user_id": 3631856, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/aUUwT.jpg?s=128&g=1", "display_name": "Helmut Wollmersdorfer", "link": "https://stackoverflow.com/users/3631856/helmut-wollmersdorfer"}, "edited": false, "score": 0, "creation_date": 1455974399, "post_id": 35522384, "comment_id": 58737196, "body": "I was thinking first of the solution with hash, but isn&#39;t it more difficult to manage in this way @HelmutWollmersdorfer? Because I have the following conditions when I read the file and connect to db:  - If there already exists record in DB with given ID, that record is updated with information from file and Update_timestamp is set to system current timestamp. - If new record is detected in file, new record is created in DB with attributes from file and Update_timestamp is set to system current timestamp."}, {"owner": {"reputation": 399, "user_id": 5661561, "user_type": "registered", "accept_rate": 90, "profile_image": "https://www.gravatar.com/avatar/03e1dcff47ff30d6bdbf704c3d11f2ab?s=128&d=identicon&r=PG&f=1", "display_name": "ArtanisAce", "link": "https://stackoverflow.com/users/5661561/artanisace"}, "edited": false, "score": 0, "creation_date": 1455974407, "post_id": 35522384, "comment_id": 58737201, "body": "- If any update is detected, record in DB is updated and Update_timestamp is set to system current timestamp. - If record does not exist in the file, no action is taken.  That&#39;s why I thought It would be better to operate with arrays instead of hashes, cause it would be easier to compare."}, {"owner": {"reputation": 7570, "user_id": 17945, "user_type": "registered", "accept_rate": 36, "profile_image": "https://www.gravatar.com/avatar/e8cbc0b9ed29b027a127d8df309af5a6?s=128&d=identicon&r=PG", "display_name": "reinierpost", "link": "https://stackoverflow.com/users/17945/reinierpost"}, "edited": false, "score": 1, "creation_date": 1455986915, "post_id": 35522384, "comment_id": 58741557, "body": "Another option is to read your data with SQL using <a href=\"http://search.cpan.org/perldoc?DBD%3A%3ACSV\" rel=\"nofollow noreferrer\"><code>DBD::CSV</code></a>."}, {"owner": {"reputation": 399, "user_id": 5661561, "user_type": "registered", "accept_rate": 90, "profile_image": "https://www.gravatar.com/avatar/03e1dcff47ff30d6bdbf704c3d11f2ab?s=128&d=identicon&r=PG&f=1", "display_name": "ArtanisAce", "link": "https://stackoverflow.com/users/5661561/artanisace"}, "reply_to_user": {"reputation": 7570, "user_id": 17945, "user_type": "registered", "accept_rate": 36, "profile_image": "https://www.gravatar.com/avatar/e8cbc0b9ed29b027a127d8df309af5a6?s=128&d=identicon&r=PG", "display_name": "reinierpost", "link": "https://stackoverflow.com/users/17945/reinierpost"}, "edited": false, "score": 1, "creation_date": 1455993561, "post_id": 35522384, "comment_id": 58744187, "body": "@reinierpost just changing this for a &quot; &quot;? csv_sep_char     =&gt; &quot;,&quot;"}, {"owner": {"reputation": 402, "user_id": 3631856, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/aUUwT.jpg?s=128&g=1", "display_name": "Helmut Wollmersdorfer", "link": "https://stackoverflow.com/users/3631856/helmut-wollmersdorfer"}, "edited": false, "score": 1, "creation_date": 1456054602, "post_id": 35522384, "comment_id": 58759809, "body": "@ArtanisAce With <code>DBIx::Class</code> you can use <code>$schema-&gt;resultset(&#39;MyTable&#39;)-&gt;update_or_create($hashref_of_&zwnj;&#8203;csv_record);</code> Should fit in your case where you have the IDs in the TSV records."}, {"owner": {"reputation": 399, "user_id": 5661561, "user_type": "registered", "accept_rate": 90, "profile_image": "https://www.gravatar.com/avatar/03e1dcff47ff30d6bdbf704c3d11f2ab?s=128&d=identicon&r=PG&f=1", "display_name": "ArtanisAce", "link": "https://stackoverflow.com/users/5661561/artanisace"}, "reply_to_user": {"reputation": 402, "user_id": 3631856, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/aUUwT.jpg?s=128&g=1", "display_name": "Helmut Wollmersdorfer", "link": "https://stackoverflow.com/users/3631856/helmut-wollmersdorfer"}, "edited": false, "score": 0, "creation_date": 1456061827, "post_id": 35522384, "comment_id": 58762154, "body": "thanks @HelmutWollmersdorfer for the help!! My problem is that I&#39;m too new to Perl, and this DBIx::Class looks complex to work with... anyway my biggest concern is comparing the data of .tsv file to the DB records, once I have hash refs for both..."}], "answers": [{"comments": [{"owner": {"reputation": 399, "user_id": 5661561, "user_type": "registered", "accept_rate": 90, "profile_image": "https://www.gravatar.com/avatar/03e1dcff47ff30d6bdbf704c3d11f2ab?s=128&d=identicon&r=PG&f=1", "display_name": "ArtanisAce", "link": "https://stackoverflow.com/users/5661561/artanisace"}, "edited": false, "score": 0, "creation_date": 1455967752, "post_id": 35522511, "comment_id": 58734995, "body": "Oh was trying some stuff but not this! Now I think got the point; passing a reference don&#39;t pass any value but just the memory location... that&#39;s why when you use &#39;push&#39; the values of &#39;@array_line&#39; don&#39;t get pushed to &#39;@array&#39; right? Thank you very much Oleg!"}, {"owner": {"reputation": 19681, "user_id": 936986, "user_type": "registered", "accept_rate": 62, "profile_image": "https://www.gravatar.com/avatar/075f0ea7418371ace9bba5b901409ab1?s=128&d=identicon&r=PG", "display_name": "Oleg V. Volkov", "link": "https://stackoverflow.com/users/936986/oleg-v-volkov"}, "reply_to_user": {"reputation": 399, "user_id": 5661561, "user_type": "registered", "accept_rate": 90, "profile_image": "https://www.gravatar.com/avatar/03e1dcff47ff30d6bdbf704c3d11f2ab?s=128&d=identicon&r=PG&f=1", "display_name": "ArtanisAce", "link": "https://stackoverflow.com/users/5661561/artanisace"}, "edited": false, "score": 0, "creation_date": 1455967803, "post_id": 35522511, "comment_id": 58735009, "body": "Pretty much so. On top level you have array filled with references to other arrays."}], "tags": [], "owner": {"reputation": 19681, "user_id": 936986, "user_type": "registered", "accept_rate": 62, "profile_image": "https://www.gravatar.com/avatar/075f0ea7418371ace9bba5b901409ab1?s=128&d=identicon&r=PG", "display_name": "Oleg V. Volkov", "link": "https://stackoverflow.com/users/936986/oleg-v-volkov"}, "is_accepted": true, "score": 1, "last_activity_date": 1455967297, "creation_date": 1455967297, "answer_id": 35522511, "question_id": 35522384, "link": "https://stackoverflow.com/questions/35522384/creating-multidimensional-array-while-reading-a-file-perl/35522511#35522511", "title": "Creating multidimensional array while reading a file - Perl", "body": "<p>First, <code>use strict</code> and <code>use warnings</code>. That would instantly alert you about that your wrong way to get array reference tries to access completely different variable (Perl allows variable of different types have same names).</p>\n\n<p>After that just change your last line to:</p>\n\n<pre><code>push @array, \\@aux_line;\n</code></pre>\n"}, {"comments": [{"owner": {"reputation": 53041, "user_id": 4653379, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/b3953dbedd0dabff5cbc3db9b0835b14?s=128&d=identicon&r=PG&f=1", "display_name": "zdim", "link": "https://stackoverflow.com/users/4653379/zdim"}, "edited": false, "score": 0, "creation_date": 1455971693, "post_id": 35523081, "comment_id": 58736261, "body": "This hash-based solution is almost certainly superior in this case."}], "tags": [], "owner": {"reputation": 51521, "user_id": 2566198, "user_type": "registered", "accept_rate": 67, "profile_image": "https://i.stack.imgur.com/Y34ZA.jpg?s=128&g=1", "display_name": "Sobrique", "link": "https://stackoverflow.com/users/2566198/sobrique"}, "is_accepted": false, "score": 2, "last_activity_date": 1455970327, "creation_date": 1455970327, "answer_id": 35523081, "question_id": 35522384, "link": "https://stackoverflow.com/questions/35522384/creating-multidimensional-array-while-reading-a-file-perl/35523081#35523081", "title": "Creating multidimensional array while reading a file - Perl", "body": "<p>You can also do this with <code>map</code>:</p>\n\n<pre><code>use Data::Dumper;\nmy @stuff = map {[split]} &lt;$fh&gt;;\nprint Dumper \\@stuff;\n</code></pre>\n\n<p>(with maybe a grep to skip comments) </p>\n\n<p>But it may suit your use case better to use an array of hashes :</p>\n\n<pre><code>my @stuff ;\nchomp(my @header = split ' ', &lt;$fh&gt;);\nwhile ( &lt;$fh&gt;)  {\n    my %this_row;\n    @this_row{@header} = split;\n    push ( @stuff, \\%this_row) ;\n}\n</code></pre>\n"}], "owner": {"reputation": 399, "user_id": 5661561, "user_type": "registered", "accept_rate": 90, "profile_image": "https://www.gravatar.com/avatar/03e1dcff47ff30d6bdbf704c3d11f2ab?s=128&d=identicon&r=PG&f=1", "display_name": "ArtanisAce", "link": "https://stackoverflow.com/users/5661561/artanisace"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 710, "favorite_count": 1, "accepted_answer_id": 35522511, "answer_count": 2, "score": 0, "last_activity_date": 1456011756, "creation_date": 1455966658, "question_id": 35522384, "link": "https://stackoverflow.com/questions/35522384/creating-multidimensional-array-while-reading-a-file-perl", "title": "Creating multidimensional array while reading a file - Perl", "body": "<p>I'm totally new to Perl, and I've been assigned some task... I have to read a tab separated file, and then do some operations with the data in a DB. The .tsv file is like this:</p>\n\n<p>ID      Name     Date</p>\n\n<p>155     Pedro    1988-05-05</p>\n\n<p>522     Mengano  2002-08-02</p>\n\n<p>So far I thought that creating a multidimensional array with the data of the file will be a good solution to handle this data later. So I read the file line by line, skip the item title columns and save the values in an array. However, I'm having difficulties creating this multidimensional array... this is what I've done so far:</p>\n\n<pre><code>#Read file from path\nmy @array;\nmy $fh = path($filename)-&gt;openr_utf8;\nwhile (my $line = &lt;$fh&gt;) {\n    chomp $line;\n    # skip comments and blank lines and title line\n    next if $line =~ /^\\#/ || $line =~ /^\\s*$/ || $line =~ /^\\+/ || $line =~ /ID/;\n    #split each line into array\n    my @aux_line = split(/\\s+/, $line);\n    push @array, @{ $aux_line };\n    }\n</code></pre>\n\n<p>Obviously, last line is not working... how could be done to create an array of arrays this way? I'm little bit lost with references... And somebody can think of a better way to store this data we read from file? Thank you!</p>\n"}, {"tags": ["perl", "rest", "mojolicious", "mojolicious-lite"], "answers": [{"tags": [], "owner": {"reputation": 2064, "user_id": 3606329, "user_type": "registered", "accept_rate": 82, "profile_image": "https://www.gravatar.com/avatar/027b912750dbb94c9c1ff89c9eb20f46?s=128&d=identicon&r=PG&f=1", "display_name": "user3606329", "link": "https://stackoverflow.com/users/3606329/user3606329"}, "is_accepted": false, "score": 5, "last_activity_date": 1455964048, "last_edit_date": 1455964048, "creation_date": 1455956525, "answer_id": 35520794, "question_id": 35520455, "link": "https://stackoverflow.com/questions/35520455/mojolicious-cant-parse-json-in-restful/35520794#35520794", "title": "Mojolicious - Can&#39;t parse JSON in RESTful", "body": "<p>I solved it!</p>\n\n<pre><code>{\n   'id': 1\n}\n</code></pre>\n\n<p>it needs to be replaced to</p>\n\n<pre><code>{\n  \"id\": 1\n}\n</code></pre>\n\n<p>and then id can be then accessed with</p>\n\n<pre><code>my $test = decode_json($self-&gt;req-&gt;body);\n$test-&gt;{id};\n</code></pre>\n\n<p>And the shortened way</p>\n\n<pre><code>my $test = $self-&gt;req-&gt;json;\n$test-&gt;{id};\n</code></pre>\n\n<p>is working too!</p>\n\n<p>The errors occured because of the wrong json encoding '', which needs to be \"\". Hope it helps someone.</p>\n"}, {"tags": [], "owner": {"reputation": 402, "user_id": 3631856, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/aUUwT.jpg?s=128&g=1", "display_name": "Helmut Wollmersdorfer", "link": "https://stackoverflow.com/users/3631856/helmut-wollmersdorfer"}, "is_accepted": true, "score": 6, "last_activity_date": 1455960268, "creation_date": 1455960268, "answer_id": 35521310, "question_id": 35520455, "link": "https://stackoverflow.com/questions/35520455/mojolicious-cant-parse-json-in-restful/35521310#35521310", "title": "Mojolicious - Can&#39;t parse JSON in RESTful", "body": "<p>This works with Mojolicious 6.25 and is a complete example:</p>\n\n<pre><code>package MyREST;\nuse Mojo::Base 'Mojolicious';\n\nuse Data::Dumper;\n\nsub startup {\n  my $app = shift;\n\n  my $routes = $app-&gt;routes;\n\n  $routes-&gt;post('/checkaddress' =&gt; sub {\n    my $self = shift;\n    my $data = $self-&gt;req-&gt;json;\n    my $dump = $self-&gt;dumper($self-&gt;req-&gt;json);\n    print STDERR $dump;\n    $self-&gt;render(json =&gt; $data);\n  });\n\n}\n\n1;\n</code></pre>\n\n<p>For convenience and reliable testing a small client script:</p>\n\n<pre><code>#!perl\n\nuse strict;\nuse warnings;\n\nuse Mojo::UserAgent;\n\nmy $ua = Mojo::UserAgent-&gt;new;\n\nmy $tx = $ua-&gt;post('http://localhost:3000/checkaddress' =&gt; json =&gt;\n  {\n    'id'  =&gt; \"1\",\n  }\n);\n</code></pre>\n\n<p>This script avoids JSON encoding problems.</p>\n\n<p>Even better would be, to write tests in the Mojolicious style.</p>\n"}], "owner": {"reputation": 2064, "user_id": 3606329, "user_type": "registered", "accept_rate": 82, "profile_image": "https://www.gravatar.com/avatar/027b912750dbb94c9c1ff89c9eb20f46?s=128&d=identicon&r=PG&f=1", "display_name": "user3606329", "link": "https://stackoverflow.com/users/3606329/user3606329"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 1577, "favorite_count": 1, "accepted_answer_id": 35521310, "answer_count": 2, "score": 3, "last_activity_date": 1455964137, "creation_date": 1455953664, "last_edit_date": 1455964137, "question_id": 35520455, "link": "https://stackoverflow.com/questions/35520455/mojolicious-cant-parse-json-in-restful", "title": "Mojolicious - Can&#39;t parse JSON in RESTful", "body": "<p>It's impossible to parse JSON in Mojolicious for me. I updated Mojolicious and used before following code, but JSON->new is deprecated.</p>\n\n<pre><code>my $json = Mojo::JSON-&gt;new;\nmy $user_request = $json-&gt;decode($c-&gt;req-&gt;body);\nmy $err = $json-&gt;error;\n</code></pre>\n\n<p>from the tutorials, I found out there has been added $self->req->json, but all POSTs to this will result into errors and non working code.</p>\n\n<pre><code> curl -H \"Content-Type: application/json\" --data @body.json http://localhost:3000/checkaddress\n</code></pre>\n\n<p>and my body.json looks like this</p>\n\n<pre><code>{\n       'id': 1\n}\n</code></pre>\n\n<p>Here is my RESTful code in Mojolicious </p>\n\n<pre><code>post '/checkaddress' =&gt; sub {\nmy $self = shift;\nmy $dump = $self-&gt;dumper($self-&gt;req-&gt;json);\n};\n</code></pre>\n\n<p>Console log</p>\n\n<pre><code>[Sat Feb 20 08:23:27 2016] [debug] 200 OK (0.001688s, 592.417/s)\n[Sat Feb 20 08:24:38 2016] [debug] POST \"/checkaddress\"\n[Sat Feb 20 08:24:38 2016] [debug] Routing to a callback\n[Sat Feb 20 08:24:38 2016] [debug] undef\n</code></pre>\n\n<p>Calling $self->req->body and then decode_json from Mojo::JSON will result into </p>\n\n<pre><code>[error] Malformed JSON: Expected string while parsing object at line 1,  offset 5 at /home/aa/sempt2.pl line 15.\n</code></pre>\n\n<p>So, how to parse JSON correctly now?</p>\n"}, {"tags": ["xml", "perl", "libxml2"], "comments": [{"owner": {"reputation": 110113, "user_id": 168657, "user_type": "registered", "accept_rate": 92, "profile_image": "https://www.gravatar.com/avatar/f14e7610fca39322ebbf23530def15f8?s=128&d=identicon&r=PG", "display_name": "mob", "link": "https://stackoverflow.com/users/168657/mob"}, "edited": false, "score": 0, "creation_date": 1455923606, "post_id": 35516071, "comment_id": 58724136, "body": "An example of what you are talking about would make this a better question."}, {"owner": {"reputation": 89, "user_id": 3880513, "user_type": "registered", "accept_rate": 38, "profile_image": "https://www.gravatar.com/avatar/198609c740b67d9f9b0ab71b5323d4a5?s=128&d=identicon&r=PG&f=1", "display_name": "user120920", "link": "https://stackoverflow.com/users/3880513/user120920"}, "reply_to_user": {"reputation": 110113, "user_id": 168657, "user_type": "registered", "accept_rate": 92, "profile_image": "https://www.gravatar.com/avatar/f14e7610fca39322ebbf23530def15f8?s=128&d=identicon&r=PG", "display_name": "mob", "link": "https://stackoverflow.com/users/168657/mob"}, "edited": false, "score": 0, "creation_date": 1455924446, "post_id": 35516071, "comment_id": 58724450, "body": "@mob thanks, I&#39;ve updated the question."}, {"owner": {"reputation": 320771, "user_id": 589924, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/b2cf53d5a3d25f95c0db4e025aed4153?s=128&d=identicon&r=PG", "display_name": "ikegami", "link": "https://stackoverflow.com/users/589924/ikegami"}, "edited": false, "score": 0, "creation_date": 1455941394, "post_id": 35516071, "comment_id": 58728273, "body": "Going down the options, I see four possible solutions The simplest would be to set <code>base_uri</code> option."}, {"owner": {"reputation": 6592, "user_id": 3005251, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/a5331f7e467aae3d581fe8bc814ef572?s=128&d=identicon&r=PG", "display_name": "bolav", "link": "https://stackoverflow.com/users/3005251/bolav"}, "reply_to_user": {"reputation": 320771, "user_id": 589924, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/b2cf53d5a3d25f95c0db4e025aed4153?s=128&d=identicon&r=PG", "display_name": "ikegami", "link": "https://stackoverflow.com/users/589924/ikegami"}, "edited": false, "score": 0, "creation_date": 1455968011, "post_id": 35516071, "comment_id": 58735083, "body": "@ikegami: Did you make that work? How?"}, {"owner": {"reputation": 320771, "user_id": 589924, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/b2cf53d5a3d25f95c0db4e025aed4153?s=128&d=identicon&r=PG", "display_name": "ikegami", "link": "https://stackoverflow.com/users/589924/ikegami"}, "edited": false, "score": 0, "creation_date": 1456017312, "post_id": 35516071, "comment_id": 58751734, "body": "You didn&#39;t give an minimal and otherwise working demonstration of the problem, so I had nothing to test it with (which is also why I didn&#39;t post it as an answer)."}, {"owner": {"reputation": 7570, "user_id": 17945, "user_type": "registered", "accept_rate": 36, "profile_image": "https://www.gravatar.com/avatar/e8cbc0b9ed29b027a127d8df309af5a6?s=128&d=identicon&r=PG", "display_name": "reinierpost", "link": "https://stackoverflow.com/users/17945/reinierpost"}, "edited": false, "score": 0, "creation_date": 1456051138, "post_id": 35516071, "comment_id": 58758747, "body": "Solution: <a href=\"http://stackoverflow.com/questions/1071849/is-there-an-elegant-way-to-specify-an-xsd-schemalocation-attribute-in-visual-stu\" title=\"is there an elegant way to specify an xsd schemalocation attribute in visual stu\">stackoverflow.com/questions/1071849/&hellip;</a> which I found within 5 seconds by googling for <code>schemaLocation</code> <code>path</code> - this is not rocket science."}], "answers": [{"tags": [], "owner": {"reputation": 123805, "user_id": 622310, "user_type": "registered", "accept_rate": 33, "profile_image": "https://www.gravatar.com/avatar/8b6d35219e1808520bc238b28161e2e6?s=128&d=identicon&r=PG", "display_name": "Borodin", "link": "https://stackoverflow.com/users/622310/borodin"}, "is_accepted": false, "score": -3, "last_activity_date": 1455927083, "last_edit_date": 1455927083, "creation_date": 1455926712, "answer_id": 35517339, "question_id": 35516071, "link": "https://stackoverflow.com/questions/35516071/using-libxml-in-perl-to-check-other-directories-for-file-in-xml-include-statemen/35517339#35517339", "title": "Using LibXML in Perl to check other directories for file in XML include statement", "body": "<p>With so very little information, the answer has to be <em>no</em></p>\n\n<p>If XML was specified to allow a search for XSD files then all hell would break loose while malformed data initiated an internet-wide search for a matching file</p>\n\n<p>Since you're working with Windows I suggest that you may be able to achieve what you need with <a href=\"https://en.wikipedia.org/wiki/NTFS_junction_point\" rel=\"nofollow\">NTFS Junction Points</a></p>\n\n<p>You should take a look at the <a href=\"https://www.w3.org/TR/xinclude/\" rel=\"nofollow\">specification for XInclude</a></p>\n"}, {"tags": [], "owner": {"reputation": 49, "user_id": 5903930, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/bdb8dc86c6b37365733e6eae133cc988?s=128&d=identicon&r=PG&f=1", "display_name": "jpj", "link": "https://stackoverflow.com/users/5903930/jpj"}, "is_accepted": false, "score": 1, "last_activity_date": 1456077965, "creation_date": 1456077965, "answer_id": 35539854, "question_id": 35516071, "link": "https://stackoverflow.com/questions/35516071/using-libxml-in-perl-to-check-other-directories-for-file-in-xml-include-statemen/35539854#35539854", "title": "Using LibXML in Perl to check other directories for file in XML include statement", "body": "<p>XML::LibXML is based on libxml2, so you can use an <a href=\"https://www.oasis-open.org/committees/entity/spec.html\" rel=\"nofollow\">XML Catalog</a>. You will have to create a catalog file containing your entries, eg:</p>\n\n<pre><code> &lt;catalog xmlns=\"urn:oasis:names:tc:entity:xmlns:xml:catalog\"&gt;\n     &lt;uri name=\"foo.xsd\" uri=\"file:///c:/yourpath/foo.xsd\"/&gt;\n &lt;/catalog&gt;\n</code></pre>\n\n<p>Load it using   <code>$parser-&gt;load_catalog( $catalog_file );</code></p>\n"}, {"comments": [{"owner": {"reputation": 89, "user_id": 3880513, "user_type": "registered", "accept_rate": 38, "profile_image": "https://www.gravatar.com/avatar/198609c740b67d9f9b0ab71b5323d4a5?s=128&d=identicon&r=PG&f=1", "display_name": "user120920", "link": "https://stackoverflow.com/users/3880513/user120920"}, "edited": false, "score": 0, "creation_date": 1456183588, "post_id": 35555580, "comment_id": 58820174, "body": "Thank you, but it seems like that is only supported in the parser function of LibXML, not the schema function."}], "tags": [], "owner": {"reputation": 28131, "user_id": 1956010, "user_type": "registered", "accept_rate": 83, "profile_image": "https://www.gravatar.com/avatar/bfdcb4596e9da98cccbf9a0069fdff6c?s=128&d=identicon&r=PG", "display_name": "nwellnhof", "link": "https://stackoverflow.com/users/1956010/nwellnhof"}, "is_accepted": false, "score": 0, "last_activity_date": 1456150807, "last_edit_date": 1456150807, "creation_date": 1456149654, "answer_id": 35555580, "question_id": 35516071, "link": "https://stackoverflow.com/questions/35516071/using-libxml-in-perl-to-check-other-directories-for-file-in-xml-include-statemen/35555580#35555580", "title": "Using LibXML in Perl to check other directories for file in XML include statement", "body": "<p>You can intercept every access from <code>XML::LibXML</code> to the filesystem and network using <a href=\"https://metacpan.org/pod/distribution/XML-LibXML/lib/XML/LibXML/InputCallback.pod\" rel=\"nofollow\">input callbacks</a>. All you have to do is to implement and register four callback functions. Have a look at the <a href=\"https://metacpan.org/pod/distribution/XML-LibXML/lib/XML/LibXML/InputCallback.pod#EXAMPLE-CALLBACKS\" rel=\"nofollow\">example in the documentation</a>.</p>\n\n<p>In your case, you could implement an <em>open</em> handler that checks for a file in a list of directories.</p>\n"}], "owner": {"reputation": 89, "user_id": 3880513, "user_type": "registered", "accept_rate": 38, "profile_image": "https://www.gravatar.com/avatar/198609c740b67d9f9b0ab71b5323d4a5?s=128&d=identicon&r=PG&f=1", "display_name": "user120920", "link": "https://stackoverflow.com/users/3880513/user120920"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 171, "favorite_count": 0, "answer_count": 3, "score": 2, "last_activity_date": 1456150807, "creation_date": 1455920090, "last_edit_date": 1455926109, "question_id": 35516071, "link": "https://stackoverflow.com/questions/35516071/using-libxml-in-perl-to-check-other-directories-for-file-in-xml-include-statemen", "title": "Using LibXML in Perl to check other directories for file in XML include statement", "body": "<p>I am using <a href=\"http://metacpan.org/module/XML::LibXML::Schema\" rel=\"nofollow\"><code>XML::LibXML::Schema</code></a> to load a schema. That schema has multiple include statements.</p>\n\n<p>The problem is that the files it references are in a different root directory, which is also defined in my Perl code.</p>\n\n<p>Is there any way to get <code>XML::LibXML</code> to check this root directory as well for the files in the include statements?</p>\n\n<p>For example, assume the current working directory with the XML file is <code>C:\\test\\test2</code> and the XML file has the following statement:</p>\n\n<pre><code>&lt;xs:include schemaLocation=\"testFile.xsd\" /&gt;\n</code></pre>\n\n<p>But the actual path for <code>testFile.xsd</code> is <code>C:\\test\\testFile.xsd</code></p>\n\n<p>When I verify the schema with <code>XML::LibXML</code> like this</p>\n\n<pre><code>my $schemaTest = XML::LibXML::Schema-&gt;new( originalXMLFile.xsd );\n</code></pre>\n\n<p>It gives an error because it was unable to find <code>testFile.xsd</code>.</p>\n\n<p>Is there a way to look in other directories for <code>testFile.xsd</code>?</p>\n"}, {"tags": ["perl", "lwp", "lwp-useragent"], "comments": [{"owner": {"reputation": 123805, "user_id": 622310, "user_type": "registered", "accept_rate": 33, "profile_image": "https://www.gravatar.com/avatar/8b6d35219e1808520bc238b28161e2e6?s=128&d=identicon&r=PG", "display_name": "Borodin", "link": "https://stackoverflow.com/users/622310/borodin"}, "edited": false, "score": 0, "creation_date": 1455916388, "post_id": 35514884, "comment_id": 58720817, "body": "That code wouldn&#39;t do anything because <code>uploadbox</code> is never called. All it does it compile <code>LWP::UserAgent</code> and its dependent modules, create an object, and then exit"}, {"owner": {"reputation": 415, "user_id": 2257866, "user_type": "registered", "accept_rate": 67, "profile_image": "https://www.gravatar.com/avatar/22113ae82fbbd9e5c5e4948cb6d60408?s=128&d=identicon&r=PG", "display_name": "Manu", "link": "https://stackoverflow.com/users/2257866/manu"}, "reply_to_user": {"reputation": 123805, "user_id": 622310, "user_type": "registered", "accept_rate": 33, "profile_image": "https://www.gravatar.com/avatar/8b6d35219e1808520bc238b28161e2e6?s=128&d=identicon&r=PG", "display_name": "Borodin", "link": "https://stackoverflow.com/users/622310/borodin"}, "edited": false, "score": 0, "creation_date": 1455916890, "post_id": 35514884, "comment_id": 58721073, "body": "I am calling uploadbox(); the next line, just updated the code"}, {"owner": {"reputation": 59411, "user_id": 8355, "user_type": "registered", "accept_rate": 80, "profile_image": "https://www.gravatar.com/avatar/8d0099a2574719d7a67eab012851bf9b?s=128&d=identicon&r=PG", "display_name": "cjm", "link": "https://stackoverflow.com/users/8355/cjm"}, "edited": false, "score": 2, "creation_date": 1455917105, "post_id": 35514884, "comment_id": 58721173, "body": "Maybe look at the <code>$response</code> to see what the error is?"}, {"owner": {"reputation": 320771, "user_id": 589924, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/b2cf53d5a3d25f95c0db4e025aed4153?s=128&d=identicon&r=PG", "display_name": "ikegami", "link": "https://stackoverflow.com/users/589924/ikegami"}, "edited": false, "score": 2, "creation_date": 1455921498, "post_id": 35514884, "comment_id": 58723312, "body": "Start by making it not silent... Print the client-side error!  <code>die $response-&gt;status_line if !$response-&gt;is_success;</code>"}, {"owner": {"reputation": 415, "user_id": 2257866, "user_type": "registered", "accept_rate": 67, "profile_image": "https://www.gravatar.com/avatar/22113ae82fbbd9e5c5e4948cb6d60408?s=128&d=identicon&r=PG", "display_name": "Manu", "link": "https://stackoverflow.com/users/2257866/manu"}, "edited": false, "score": 0, "creation_date": 1456358426, "post_id": 35514884, "comment_id": 58914836, "body": "thanks, this led a HTTP status code of 400, but I could not find why"}], "answers": [{"tags": [], "owner": {"reputation": 5099, "user_id": 406224, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/9bc79fa6fa58e2a4f5e6c2f803cabc48?s=128&d=identicon&r=PG", "display_name": "oalders", "link": "https://stackoverflow.com/users/406224/oalders"}, "is_accepted": false, "score": 0, "last_activity_date": 1456024960, "creation_date": 1456024960, "answer_id": 35531901, "question_id": 35514884, "link": "https://stackoverflow.com/questions/35514884/uploading-a-file-with-perl-lwp-put-method-silency-fails/35531901#35531901", "title": "Uploading a file with perl LWP PUT method silency fails", "body": "<p>I like to debug <code>LWP::UserAgent</code> scripts using <a href=\"https://metacpan.org/pod/LWP::ConsoleLogger::Easy\" rel=\"nofollow\">LWP::ConsoleLogger::Easy</a>.  (Disclaimer: this is one of my own modules).</p>\n\n<pre><code>use LWP::ConsoleLogger::Easy qw( debug_ua );\nmy $ua = LWP::UserAgent-&gt;new;\ndebug_ua( $ua );\n\n# insert the rest of your code here\n</code></pre>\n\n<p>You'll now get a huge amount of debugging information from both the request and the response printed to your terminal.  That should hopefully give you a good starting point to figure out what's going on.</p>\n"}, {"tags": [], "owner": {"reputation": 415, "user_id": 2257866, "user_type": "registered", "accept_rate": 67, "profile_image": "https://www.gravatar.com/avatar/22113ae82fbbd9e5c5e4948cb6d60408?s=128&d=identicon&r=PG", "display_name": "Manu", "link": "https://stackoverflow.com/users/2257866/manu"}, "is_accepted": false, "score": 0, "last_activity_date": 1456358379, "creation_date": 1456358379, "answer_id": 35615690, "question_id": 35514884, "link": "https://stackoverflow.com/questions/35514884/uploading-a-file-with-perl-lwp-put-method-silency-fails/35615690#35615690", "title": "Uploading a file with perl LWP PUT method silency fails", "body": "<p>In the end I just decided to use curl, and I get a dynamic status line for free</p>\n\n<pre><code>sub uploadbox {\n    my ($url) = @_;\n    my $curl = \"curl -X PUT $url --upload-file $codename.box\";\n    $OUTPUT_AUTOFLUSH = 1;\n    open(CURL,  '-|', $curl,) or die \"error: $ERRNO\";\n    while (&lt;CURL&gt;) { say; }\n }\n</code></pre>\n\n<p>not the code I am most proud of but ...</p>\n"}], "owner": {"reputation": 415, "user_id": 2257866, "user_type": "registered", "accept_rate": 67, "profile_image": "https://www.gravatar.com/avatar/22113ae82fbbd9e5c5e4948cb6d60408?s=128&d=identicon&r=PG", "display_name": "Manu", "link": "https://stackoverflow.com/users/2257866/manu"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 700, "favorite_count": 0, "answer_count": 2, "score": 0, "last_activity_date": 1456358379, "creation_date": 1455915445, "last_edit_date": 1455916921, "question_id": 35514884, "link": "https://stackoverflow.com/questions/35514884/uploading-a-file-with-perl-lwp-put-method-silency-fails", "title": "Uploading a file with perl LWP PUT method silency fails", "body": "<p>I am trying to upload a file to a <a href=\"https://vagrantcloud.com/docs/providers\" rel=\"nofollow\">public API</a> with a code similar to this:</p>\n\n<pre><code>my $ua = LWP::UserAgent-&gt;new;\nsub uploadbox {\n    my $url = \"http://host/token\";\n    my  $response = $ua-&gt;put($url, \n        'Content_Type' =&gt; 'form-data',\n        'Content' =&gt; [\n            Filedata =&gt; [ \"$codename.box\", \"$codename.box\", Content_type =&gt; 'application/octet-stream' ]\n\n        ]\n    );\n}\nuploadbox();\n</code></pre>\n\n<p>This code runs, and exits without uploading anything ( the uploaded files are 300MB big, so it shoud take time).</p>\n\n<p>Am I passing the right parameters to the put subroutine ? \nHow to further debug this ? </p>\n"}, {"tags": ["regex", "bash", "perl", "vim"], "comments": [{"owner": {"reputation": 14928, "user_id": 360695, "user_type": "registered", "accept_rate": 67, "profile_image": "https://www.gravatar.com/avatar/d2c44123afa326f8088914089161248e?s=128&d=identicon&r=PG", "display_name": "Dummy00001", "link": "https://stackoverflow.com/users/360695/dummy00001"}, "edited": false, "score": 1, "creation_date": 1456230802, "post_id": 35513402, "comment_id": 58841766, "body": "I do lots of refactoring (including fully automated one) and have to warn you that the answers below are all slightly <i>wrong</i>: they do not (and can not properly) handle cases when the <code>a</code> and <code>d</code> (the arguments) are not trivial expressions."}], "answers": [{"comments": [{"owner": {"reputation": 1507, "user_id": 398369, "user_type": "registered", "accept_rate": 50, "profile_image": "https://www.gravatar.com/avatar/5c3fa175dd4d0a810bfe7180a661bc22?s=128&d=identicon&r=PG", "display_name": "TheLoneJoker", "link": "https://stackoverflow.com/users/398369/thelonejoker"}, "edited": false, "score": 0, "creation_date": 1455910946, "post_id": 35513470, "comment_id": 58717962, "body": "What is the \\v for ?"}, {"owner": {"reputation": 19223, "user_id": 2295034, "user_type": "registered", "accept_rate": 84, "profile_image": "https://i.stack.imgur.com/aSFT0.jpg?s=128&g=1", "display_name": "Jonathan.Brink", "link": "https://stackoverflow.com/users/2295034/jonathan-brink"}, "reply_to_user": {"reputation": 1507, "user_id": 398369, "user_type": "registered", "accept_rate": 50, "profile_image": "https://www.gravatar.com/avatar/5c3fa175dd4d0a810bfe7180a661bc22?s=128&d=identicon&r=PG", "display_name": "TheLoneJoker", "link": "https://stackoverflow.com/users/398369/thelonejoker"}, "edited": false, "score": 2, "creation_date": 1455911830, "post_id": 35513470, "comment_id": 58718444, "body": "@TheLoneJoker that is to make my regex use &quot;very magic&quot; mode. It basically makes Vim&#39;s regex engine act like the Perl regex engine. I don&#39;t know if using that is necessary for my particular command but I almost always use it just to keep me sane :)"}, {"owner": {"reputation": 28343, "user_id": 1890567, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/NSohE.png?s=128&g=1", "display_name": "FDinoff", "link": "https://stackoverflow.com/users/1890567/fdinoff"}, "edited": false, "score": 1, "creation_date": 1455912974, "post_id": 35513470, "comment_id": 58719054, "body": "It looks like this without <code>\\(\\w\\+\\)(\\(\\w\\+\\),\\(\\w\\+\\))</code> so... probably worth it in this case for readability&#39;s sake."}, {"owner": {"reputation": 123805, "user_id": 622310, "user_type": "registered", "accept_rate": 33, "profile_image": "https://www.gravatar.com/avatar/8b6d35219e1808520bc238b28161e2e6?s=128&d=identicon&r=PG", "display_name": "Borodin", "link": "https://stackoverflow.com/users/622310/borodin"}, "edited": false, "score": 0, "creation_date": 1455913657, "post_id": 35513470, "comment_id": 58719385, "body": "You really shouldn&#39;t be asking that downvotes be explained, but in this case it was mine, because <code>\\v</code> in vim is a <i>very</i> specific use of that sequence. In PCRE it means <i>vertical whitespace</i> and matches linefeed, line tab, form feed and carriage return, plus some non-ASCII characters. I downvoted before I noticed the <code>vim</code> tag on the question, and now I am unable to revoke it. But I think it&#39;s best to raise a flag against this non-standard usage anyway"}, {"owner": {"reputation": 53041, "user_id": 4653379, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/b3953dbedd0dabff5cbc3db9b0835b14?s=128&d=identicon&r=PG&f=1", "display_name": "zdim", "link": "https://stackoverflow.com/users/4653379/zdim"}, "edited": false, "score": 0, "creation_date": 1455914150, "post_id": 35513470, "comment_id": 58719644, "body": "I suggest that <a href=\"http://stackoverflow.com/users/622310/borodin\">Borodin</a>&#39;s comment be added to the answer, or explicitely brought to attention."}, {"owner": {"reputation": 19223, "user_id": 2295034, "user_type": "registered", "accept_rate": 84, "profile_image": "https://i.stack.imgur.com/aSFT0.jpg?s=128&g=1", "display_name": "Jonathan.Brink", "link": "https://stackoverflow.com/users/2295034/jonathan-brink"}, "reply_to_user": {"reputation": 123805, "user_id": 622310, "user_type": "registered", "accept_rate": 33, "profile_image": "https://www.gravatar.com/avatar/8b6d35219e1808520bc238b28161e2e6?s=128&d=identicon&r=PG", "display_name": "Borodin", "link": "https://stackoverflow.com/users/622310/borodin"}, "edited": false, "score": 0, "creation_date": 1455914687, "post_id": 35513470, "comment_id": 58719934, "body": "@Borodin Thanks for replying. But hold on a sec...in PCRE the <code>\\v</code> may be something particularly noteworthy, but in Vim using <code>very magic</code> mode is standard. So standard that I didn&#39;t even feel it needed extra expanation in my original answer. See <a href=\"https://davitenio.wordpress.com/tag/very-magic-mode/\" rel=\"nofollow noreferrer\">davitenio.wordpress.com/tag/very-magic-mode</a>"}, {"owner": {"reputation": 19223, "user_id": 2295034, "user_type": "registered", "accept_rate": 84, "profile_image": "https://i.stack.imgur.com/aSFT0.jpg?s=128&g=1", "display_name": "Jonathan.Brink", "link": "https://stackoverflow.com/users/2295034/jonathan-brink"}, "edited": false, "score": 0, "creation_date": 1455914706, "post_id": 35513470, "comment_id": 58719944, "body": "In any case, I&#39;ll update my answer to make it more obvious that I&#39;m using &quot;very magic&quot; mode"}, {"owner": {"reputation": 123805, "user_id": 622310, "user_type": "registered", "accept_rate": 33, "profile_image": "https://www.gravatar.com/avatar/8b6d35219e1808520bc238b28161e2e6?s=128&d=identicon&r=PG", "display_name": "Borodin", "link": "https://stackoverflow.com/users/622310/borodin"}, "edited": false, "score": 0, "creation_date": 1455915865, "post_id": 35513470, "comment_id": 58720538, "body": "@Jonathan.Brink: Because of the OP&#39;s tags, people will be arriving at this question looking for Perl regex solutions. Only a minority of them will be interested in a vim-only solution, and it would be best not to misdirect them"}, {"owner": {"reputation": 123805, "user_id": 622310, "user_type": "registered", "accept_rate": 33, "profile_image": "https://www.gravatar.com/avatar/8b6d35219e1808520bc238b28161e2e6?s=128&d=identicon&r=PG", "display_name": "Borodin", "link": "https://stackoverflow.com/users/622310/borodin"}, "edited": false, "score": 0, "creation_date": 1455915989, "post_id": 35513470, "comment_id": 58720604, "body": "Not knowing vim, please would you describe what <code>&#47;\\v(\\w+)\\((\\w+),(\\w+)\\)&#47;</code> does that <code>&#47;(\\w+)\\((\\w+),(\\w+)\\)&#47;</code> does not?"}, {"owner": {"reputation": 19223, "user_id": 2295034, "user_type": "registered", "accept_rate": 84, "profile_image": "https://i.stack.imgur.com/aSFT0.jpg?s=128&g=1", "display_name": "Jonathan.Brink", "link": "https://stackoverflow.com/users/2295034/jonathan-brink"}, "reply_to_user": {"reputation": 123805, "user_id": 622310, "user_type": "registered", "accept_rate": 33, "profile_image": "https://www.gravatar.com/avatar/8b6d35219e1808520bc238b28161e2e6?s=128&d=identicon&r=PG", "display_name": "Borodin", "link": "https://stackoverflow.com/users/622310/borodin"}, "edited": false, "score": 0, "creation_date": 1455916283, "post_id": 35513470, "comment_id": 58720756, "body": "@Borodin see FDinoff&#39;s comment in this thread to see the difference. Vim&#39;s default regex syntax is very weird so it&#39;s a very common practice to use &quot;very magic&quot; mode to use a more standard syntax"}], "tags": [], "owner": {"reputation": 19223, "user_id": 2295034, "user_type": "registered", "accept_rate": 84, "profile_image": "https://i.stack.imgur.com/aSFT0.jpg?s=128&g=1", "display_name": "Jonathan.Brink", "link": "https://stackoverflow.com/users/2295034/jonathan-brink"}, "is_accepted": false, "score": 3, "last_activity_date": 1455914829, "last_edit_date": 1455914829, "creation_date": 1455910306, "answer_id": 35513470, "question_id": 35513402, "link": "https://stackoverflow.com/questions/35513402/search-and-replace-of-function-format-in-code/35513470#35513470", "title": "Search and replace of function format in code", "body": "<p>In Vim you can use a substitution command like this:</p>\n\n<pre><code>:%s/\\v(\\w+)\\((\\w+),(\\w+)\\)/\\1(\\2) = \\3/g\n</code></pre>\n\n<p>This will look for the form <code>func(arg1,arg2);</code> and convert to <code>func(arg1) = arg2;</code></p>\n\n<p>I am using the <code>\\v</code> in this expression so that Vim uses <a href=\"http://learnvimscriptthehardway.stevelosh.com/chapters/31.html#very-magic\" rel=\"nofollow\"><code>very magic</code></a> mode which makes it's much closer to standard Perl RegEx notation. (See @FDinoff's comment to show how much less readable it will be without)</p>\n"}, {"tags": [], "owner": {"reputation": 1874, "user_id": 1193892, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/7639ea6a9ebbd9c22d1211af864ab7ce?s=128&d=identicon&r=PG", "display_name": "jkdba", "link": "https://stackoverflow.com/users/1193892/jkdba"}, "is_accepted": false, "score": 1, "last_activity_date": 1455919261, "creation_date": 1455919261, "answer_id": 35515876, "question_id": 35513402, "link": "https://stackoverflow.com/questions/35513402/search-and-replace-of-function-format-in-code/35515876#35515876", "title": "Search and replace of function format in code", "body": "<p>It can be done with <code>sed</code></p>\n\n<pre><code> sed 's:\\(\\w\\+\\W\\w\\+\\)\\(,\\)\\(\\w\\+\\)\\();\\):\\1)=\\3;:g' &lt; $file &gt; $OutFile\n</code></pre>\n"}], "owner": {"reputation": 1507, "user_id": 398369, "user_type": "registered", "accept_rate": 50, "profile_image": "https://www.gravatar.com/avatar/5c3fa175dd4d0a810bfe7180a661bc22?s=128&d=identicon&r=PG", "display_name": "TheLoneJoker", "link": "https://stackoverflow.com/users/398369/thelonejoker"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 88, "favorite_count": 0, "answer_count": 2, "score": -1, "last_activity_date": 1455921647, "creation_date": 1455910048, "last_edit_date": 1455921647, "question_id": 35513402, "link": "https://stackoverflow.com/questions/35513402/search-and-replace-of-function-format-in-code", "title": "Search and replace of function format in code", "body": "<p>Is it possible to convert occurrences of the following string in my code:</p>\n\n<pre><code>foo(a,d);\n</code></pre>\n\n<p>to</p>\n\n<pre><code>foo(a) = d;\n</code></pre>\n"}, {"tags": ["excel", "perl", "module", "cpan"], "comments": [{"owner": {"reputation": 121105, "user_id": 2766176, "user_type": "registered", "accept_rate": 61, "profile_image": "https://www.gravatar.com/avatar/edd8638efe875601bfe394a8aea5b16d?s=128&d=identicon&r=PG", "display_name": "brian d foy", "link": "https://stackoverflow.com/users/2766176/brian-d-foy"}, "edited": false, "score": 0, "creation_date": 1455905067, "post_id": 35509416, "comment_id": 58714545, "body": "See also <a href=\"http://stackoverflow.com/q/4741142/2766176\">stackoverflow.com/q/4741142/2766176</a>"}], "answers": [{"comments": [{"owner": {"reputation": 123805, "user_id": 622310, "user_type": "registered", "accept_rate": 33, "profile_image": "https://www.gravatar.com/avatar/8b6d35219e1808520bc238b28161e2e6?s=128&d=identicon&r=PG", "display_name": "Borodin", "link": "https://stackoverflow.com/users/622310/borodin"}, "edited": false, "score": 1, "creation_date": 1455914143, "post_id": 35509772, "comment_id": 58719639, "body": "I don&#39;t think either you or Brian have addressed the OP&#39;s specific questions"}], "tags": [], "owner": {"reputation": 113221, "user_id": 100754, "user_type": "registered", "accept_rate": 90, "profile_image": "https://www.gravatar.com/avatar/7804ebae32fbadef38537d74a915c22f?s=128&d=identicon&r=PG", "display_name": "Sinan &#220;n&#252;r", "link": "https://stackoverflow.com/users/100754/sinan-%c3%9cn%c3%bcr"}, "is_accepted": false, "score": 5, "last_activity_date": 1455899196, "last_edit_date": 1455899196, "creation_date": 1455898307, "answer_id": 35509772, "question_id": 35509416, "link": "https://stackoverflow.com/questions/35509416/how-do-i-use-a-cpan-module-in-a-perl-script-that-i-want-to-give-to-others/35509772#35509772", "title": "How do I use a CPAN module in a perl script that I want to give to others?", "body": "<p>There are a few ways of doing this. One options is to put together a <code>Makefile.PL</code> that specifies the dependencies. This allows you to bundle your script as a distribution. E.g.</p>\n\n<pre><code>use ExtUtils::MakeMaker;\n\nWriteMakefile(\n    ABSTRACT          =&gt; 'myscript creates Excel files',\n    AUTHOR            =&gt; 'A.U. Thor',\n    EXE_FILES         =&gt; [ 'myscript' ],\n    NAME              =&gt; 'myscript',\n    VERSION           =&gt; '1.2.3',\n\n    PREREQ_PM =&gt; {\n        'Excel::Writer::XLSX' =&gt; '0.88',\n    },\n);\n</code></pre>\n\n<p>Then, people can do <code>perl Makefile.PL</code> which will inform them of the dependencies. If you do <code>make dist</code>, and distribute the resulting archive file, they can also use <a href=\"https://metacpan.org/pod/App::cpanminus\">cpanm</a> to install your script along with its dependencies.</p>\n\n<p>Another option is to put together a <a href=\"https://metacpan.org/pod/distribution/Module-CPANfile/lib/cpanfile.pod\">cpanfile</a>. Then, recipients can install all the dependencies using a tool such as <a href=\"https://metacpan.org/pod/App::cpanminus\">cpanm</a>.</p>\n\n<p>Now, if you are distributing the script to people who do not use Perl normally, and you want them to be able to just click and run etc, you might want to look into <a href=\"https://metacpan.org/pod/pp\">pp</a>.</p>\n"}, {"comments": [{"owner": {"reputation": 123805, "user_id": 622310, "user_type": "registered", "accept_rate": 33, "profile_image": "https://www.gravatar.com/avatar/8b6d35219e1808520bc238b28161e2e6?s=128&d=identicon&r=PG", "display_name": "Borodin", "link": "https://stackoverflow.com/users/622310/borodin"}, "edited": false, "score": 1, "creation_date": 1455915208, "post_id": 35512006, "comment_id": 58720204, "body": "I don&#39;t think either you or Sinan have addressed the OP&#39;s specific questions"}, {"owner": {"reputation": 121105, "user_id": 2766176, "user_type": "registered", "accept_rate": 61, "profile_image": "https://www.gravatar.com/avatar/edd8638efe875601bfe394a8aea5b16d?s=128&d=identicon&r=PG", "display_name": "brian d foy", "link": "https://stackoverflow.com/users/2766176/brian-d-foy"}, "reply_to_user": {"reputation": 123805, "user_id": 622310, "user_type": "registered", "accept_rate": 33, "profile_image": "https://www.gravatar.com/avatar/8b6d35219e1808520bc238b28161e2e6?s=128&d=identicon&r=PG", "display_name": "Borodin", "link": "https://stackoverflow.com/users/622310/borodin"}, "edited": false, "score": 3, "creation_date": 1455917970, "post_id": 35512006, "comment_id": 58721628, "body": "I disagree. I don&#39;t think that your answer improves what Sinan and I have said, and you bring in more issues than necessary to give his co-workers his program."}, {"owner": {"reputation": 123805, "user_id": 622310, "user_type": "registered", "accept_rate": 33, "profile_image": "https://www.gravatar.com/avatar/8b6d35219e1808520bc238b28161e2e6?s=128&d=identicon&r=PG", "display_name": "Borodin", "link": "https://stackoverflow.com/users/622310/borodin"}, "edited": false, "score": 0, "creation_date": 1455923677, "post_id": 35512006, "comment_id": 58724164, "body": "You may be right, and perhaps I have misunderstood the original question. But in this case, especially as you are ignoring the OP&#39;s three itemised questions, I think it would help a lot to describe precisely what problem you are answering"}], "tags": [], "owner": {"reputation": 121105, "user_id": 2766176, "user_type": "registered", "accept_rate": 61, "profile_image": "https://www.gravatar.com/avatar/edd8638efe875601bfe394a8aea5b16d?s=128&d=identicon&r=PG", "display_name": "brian d foy", "link": "https://stackoverflow.com/users/2766176/brian-d-foy"}, "is_accepted": false, "score": 3, "last_activity_date": 1455917875, "last_edit_date": 1495541741, "creation_date": 1455905413, "answer_id": 35512006, "question_id": 35509416, "link": "https://stackoverflow.com/questions/35509416/how-do-i-use-a-cpan-module-in-a-perl-script-that-i-want-to-give-to-others/35512006#35512006", "title": "How do I use a CPAN module in a perl script that I want to give to others?", "body": "<p>A long time ago, I wrote a program I called scriptdist to turn a single-file program into a CPAN-like distribution, complete with a build file. That way you could pass it around as an archive and people could treat it like any other CPAN distribution. It basically automates <a href=\"https://stackoverflow.com/a/35509772/2766176\">what Sinan posted</a>. I wrote about it for <a href=\"http://www.drdobbs.com/web-development/automating-distributions-with-scriptdist/184416112\" rel=\"nofollow noreferrer\">Dr. Dobbs</a>.</p>\n\n<p>There's a trick that you can use if you want to pass around the archive. The <code>cpan</code> tool can install from the current directory. That will get the dependencies (which, by the nature of being dependencies, are required):</p>\n\n<pre><code> $ cpan .\n</code></pre>\n\n<p>That way, you can install your program and its dependencies without putting anything in a CPAN-like repository.</p>\n"}, {"tags": [], "owner": {"reputation": 123805, "user_id": 622310, "user_type": "registered", "accept_rate": 33, "profile_image": "https://www.gravatar.com/avatar/8b6d35219e1808520bc238b28161e2e6?s=128&d=identicon&r=PG", "display_name": "Borodin", "link": "https://stackoverflow.com/users/622310/borodin"}, "is_accepted": false, "score": -4, "last_activity_date": 1455915530, "last_edit_date": 1455915530, "creation_date": 1455915144, "answer_id": 35514796, "question_id": 35509416, "link": "https://stackoverflow.com/questions/35509416/how-do-i-use-a-cpan-module-in-a-perl-script-that-i-want-to-give-to-others/35514796#35514796", "title": "How do I use a CPAN module in a perl script that I want to give to others?", "body": "<p>It's far from clear what you need to know</p>\n\n<blockquote>\n  <p>Do my colleagues need to have the module installed to for the script to work?</p>\n</blockquote>\n\n<p>I think it's obvious that your colleagues need access to your code to be able to make use of it</p>\n\n<p>It's not clear what you have written, but if you have created a module then any program with access to your module files can simply <code>use</code> it to access its capabilities</p>\n\n<blockquote>\n  <p>If not, how do I wrap up the module with the script to give it to them?</p>\n</blockquote>\n\n<p>Your <em>\"if not\"</em> isn't clear. What you have written means <em>\"If they don't need to have the module installed to for the script to work\"</em>, and I doubt if that is your intention</p>\n\n<p><em>\"how do I wrap up the module with the script\"</em> Are you asking how to create a module, or do you already have one? Typically, modules are accessed by programmers who write a script with the <code>use</code> statement</p>\n\n<p>If you have a module and you want other people to be able to load it with <code>use</code> then it must appear in one of the directories listed in their <code>@INC</code> array. If you are working on separate systems then it is best to create a package that you can alter as necessary and have others update</p>\n\n<blockquote>\n  <p>Is there a better way of doing this (than) using the module I've chosen?</p>\n</blockquote>\n\n<p>Are you referring to <code>Excel::Writer::XLSX</code> or your own module?</p>\n\n<p>If <code>Excel::Writer::XLSX</code> is doing what you need then you probably shgouldn't change. But if you are having problems with it in some way then you need to ask a new question and describe those issues</p>\n"}], "owner": {"reputation": 73, "user_id": 5811161, "user_type": "registered", "accept_rate": 25, "profile_image": "https://www.gravatar.com/avatar/ec9964750a8f44cda104e33f7039d3a8?s=128&d=identicon&r=PG&f=1", "display_name": "Caitlin", "link": "https://stackoverflow.com/users/5811161/caitlin"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 229, "favorite_count": 0, "answer_count": 3, "score": 4, "last_activity_date": 1455917875, "creation_date": 1455897276, "last_edit_date": 1455914382, "question_id": 35509416, "link": "https://stackoverflow.com/questions/35509416/how-do-i-use-a-cpan-module-in-a-perl-script-that-i-want-to-give-to-others", "title": "How do I use a CPAN module in a perl script that I want to give to others?", "body": "<p>I'm writing a Perl script that takes data and writes it to an Excel file. I'm using <a href=\"http://metacpan.org/module/Excel::Writer::XLSX\" rel=\"nofollow\"><code>Excel::Writer::XLSX</code></a> to do this.</p>\n\n<p>I'm hoping to write the script and then give it to the rest of my team so we can all use it to compile the data when we need to.</p>\n\n<p>I have a few questions about this:</p>\n\n<ol>\n<li><p>Do my colleagues need to have the module installed to for the script to work?</p></li>\n<li><p>If not, how do I wrap up the module with the script to give it to them?</p></li>\n<li><p>Is there a better way of doing this that using the module I've chosen?</p></li>\n</ol>\n"}, {"tags": ["perl"], "comments": [{"owner": {"reputation": 28754, "user_id": 1153938, "user_type": "registered", "accept_rate": 73, "profile_image": "https://i.stack.imgur.com/deBjQ.jpg?s=128&g=1", "display_name": "Vorsprung", "link": "https://stackoverflow.com/users/1153938/vorsprung"}, "edited": false, "score": 0, "creation_date": 1455895560, "post_id": 35508713, "comment_id": 58708596, "body": "you don&#39;t need to do <code>use Data::Dumper</code> in the debugger, there is a command x that does Dumper() built in"}, {"owner": {"reputation": 198290, "user_id": 1030675, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/957956ce51706d03f19a4dc85a767bb1?s=128&d=identicon&r=PG", "display_name": "choroba", "link": "https://stackoverflow.com/users/1030675/choroba"}, "edited": false, "score": 3, "creation_date": 1455895946, "post_id": 35508713, "comment_id": 58708863, "body": "I don&#39;t &quot;get&quot; what you mean to do."}, {"owner": {"reputation": 123805, "user_id": 622310, "user_type": "registered", "accept_rate": 33, "profile_image": "https://www.gravatar.com/avatar/8b6d35219e1808520bc238b28161e2e6?s=128&d=identicon&r=PG", "display_name": "Borodin", "link": "https://stackoverflow.com/users/622310/borodin"}, "edited": false, "score": 1, "creation_date": 1455897456, "post_id": 35508713, "comment_id": 58709885, "body": "Unless you have a specific issue with the debugger, it&#39;s much better to write a Perl script file that shows the problematic behaviour. You&#39;re reducing your audience because a substantial number of programmers aren&#39;t au fait with the debugger, and even those who know it well would rather not have the noise to contend with on top of the real question"}, {"owner": {"reputation": 751, "user_id": 3299282, "user_type": "registered", "accept_rate": 52, "profile_image": "https://www.gravatar.com/avatar/669a479b873fa683ddd20e4b03d6751d?s=128&d=identicon&r=PG&f=1", "display_name": "lzc", "link": "https://stackoverflow.com/users/3299282/lzc"}, "edited": false, "score": 0, "creation_date": 1455900127, "post_id": 35508713, "comment_id": 58711651, "body": "No, I did not need the debugger, I used it just as a tool to see/prove my work. Yes, I should have just posted as a script and not as my debugging step... But, hey, it was worth it to know about the <code>x</code> command. Though the output it&#39;s not same as <code>Data::Dumper</code>"}, {"owner": {"reputation": 123805, "user_id": 622310, "user_type": "registered", "accept_rate": 33, "profile_image": "https://www.gravatar.com/avatar/8b6d35219e1808520bc238b28161e2e6?s=128&d=identicon&r=PG", "display_name": "Borodin", "link": "https://stackoverflow.com/users/622310/borodin"}, "edited": false, "score": 0, "creation_date": 1455912196, "post_id": 35508713, "comment_id": 58718647, "body": "@lzc: All of the debugger commands are documented\u2014albeit tersely\u2014in its command line documentation. If you run <code>perl -de0</code> then <code>h</code> will show you the list of commands. <code>p</code> and <code>x</code> behave similarly to <code>print</code> and <code>print Dumper</code> respectively, and there is also <code>m</code> which will list all of the currently-loaded methods of a given object. You should experiment"}], "answers": [{"tags": [], "owner": {"reputation": 198290, "user_id": 1030675, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/957956ce51706d03f19a4dc85a767bb1?s=128&d=identicon&r=PG", "display_name": "choroba", "link": "https://stackoverflow.com/users/1030675/choroba"}, "is_accepted": false, "score": 6, "last_activity_date": 1455895922, "last_edit_date": 1455895922, "creation_date": 1455895475, "answer_id": 35508815, "question_id": 35508713, "link": "https://stackoverflow.com/questions/35508713/convert-scalar-variable-and-its-value-to-hash-ref-variables-value/35508815#35508815", "title": "Convert scalar variable and its value to hash ref variable&#39;s value", "body": "<p>The process of creating a hash or array when needed is called <strong>autovivification</strong>. Only an undefined value can be autovivified.</p>\n\n<p>Note that without <a href=\"http://p3rl.org/strict\">strict</a> <code>refs</code>, the following works:</p>\n\n<pre><code>my $record = 'some value';\n$record-&gt;{default} = 'other value';\nprint $record, $record-&gt;{default};\n</code></pre>\n\n<p>because Perl autovivifies a variable called \"some value\" for you, as you can verify:</p>\n\n<pre><code>print ${'some value'}{default};\n</code></pre>\n"}, {"comments": [{"owner": {"reputation": 198290, "user_id": 1030675, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/957956ce51706d03f19a4dc85a767bb1?s=128&d=identicon&r=PG", "display_name": "choroba", "link": "https://stackoverflow.com/users/1030675/choroba"}, "edited": false, "score": 0, "creation_date": 1455900680, "post_id": 35508840, "comment_id": 58711975, "body": "In fact, without <code>strict refs</code>, it&#39;s somehow possible (see my answer). But I wouldn&#39;t advice anyone to do it."}], "tags": [], "owner": {"reputation": 51521, "user_id": 2566198, "user_type": "registered", "accept_rate": 67, "profile_image": "https://i.stack.imgur.com/Y34ZA.jpg?s=128&g=1", "display_name": "Sobrique", "link": "https://stackoverflow.com/users/2566198/sobrique"}, "is_accepted": true, "score": 5, "last_activity_date": 1455895536, "creation_date": 1455895536, "answer_id": 35508840, "question_id": 35508713, "link": "https://stackoverflow.com/questions/35508713/convert-scalar-variable-and-its-value-to-hash-ref-variables-value/35508840#35508840", "title": "Convert scalar variable and its value to hash ref variable&#39;s value", "body": "<p>And this is why you need to <code>use strict;</code> <code>use warnings;</code>.</p>\n\n<p>Because if so - what you do, generates an error that tells you the problem:</p>\n\n<pre><code>Can't use string (\"some value\") as a HASH ref while \"strict refs\" \n</code></pre>\n\n<p>What you are specifically trying to do is:</p>\n\n<pre><code>\"some value\" -&gt; {default} = \"some value\"; \n</code></pre>\n\n<p>Which just doesn't make sense, because you're trying to dereference a string value. </p>\n"}, {"tags": [], "owner": {"reputation": 113221, "user_id": 100754, "user_type": "registered", "accept_rate": 90, "profile_image": "https://www.gravatar.com/avatar/7804ebae32fbadef38537d74a915c22f?s=128&d=identicon&r=PG", "display_name": "Sinan &#220;n&#252;r", "link": "https://stackoverflow.com/users/100754/sinan-%c3%9cn%c3%bcr"}, "is_accepted": false, "score": 1, "last_activity_date": 1455897592, "creation_date": 1455897592, "answer_id": 35509516, "question_id": 35508713, "link": "https://stackoverflow.com/questions/35508713/convert-scalar-variable-and-its-value-to-hash-ref-variables-value/35509516#35509516", "title": "Convert scalar variable and its value to hash ref variable&#39;s value", "body": "<pre><code>my $record = 'some value';\n$record = { default =&gt; $record };\n</code></pre>\n\n<p>Perl is a typed language (although the types are scalar, list, hash, rather than integer, float, etc). When you first assign to <code>$record</code>, it becomes a simple scalar.</p>\n\n<p>Then, when <code>perl</code> encounters <code>$record-&gt;{default}</code>, it realizes you are trying to treat this simple scalar as a reference to a hash.</p>\n\n<p>On the other hand, with <code>$record = { default =&gt; $record }</code>, you create a new anonymous hash, and assign a reference to it to <code>$record</code>, over-writing what <code>$record</code> held before.</p>\n\n<p>Perl now knows that <code>$record</code> holds a reference to an anonymous hash.</p>\n"}], "owner": {"reputation": 751, "user_id": 3299282, "user_type": "registered", "accept_rate": 52, "profile_image": "https://www.gravatar.com/avatar/669a479b873fa683ddd20e4b03d6751d?s=128&d=identicon&r=PG&f=1", "display_name": "lzc", "link": "https://stackoverflow.com/users/3299282/lzc"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 1124, "favorite_count": 0, "accepted_answer_id": 35508840, "answer_count": 3, "score": -2, "last_activity_date": 1455897592, "creation_date": 1455895199, "question_id": 35508713, "link": "https://stackoverflow.com/questions/35508713/convert-scalar-variable-and-its-value-to-hash-ref-variables-value", "title": "Convert scalar variable and its value to hash ref variable&#39;s value", "body": "<p>Trying to understand why the following does not work:</p>\n\n<pre><code>DB&lt;1&gt; $record = \"some value\"\nDB&lt;2&gt; $record-&gt;{default} = $record;\nDB&lt;3&gt; use Data::Dumper\n</code></pre>\n\n<p>Would think <code>Dumper</code> should show same results as <strong>step 10</strong>:</p>\n\n<pre><code>DB&lt;4&gt; print Dumper $record\n$VAR1 = 'some value';\n\nDB&lt;5&gt; $temp = $record\nDB&lt;6&gt; $record-&gt;{default} = $temp\n</code></pre>\n\n<p>At least in this case, would surly think <code>Dumper</code> would show results as <strong>step 10</strong>:</p>\n\n<pre><code>DB&lt;7&gt; print Dumper $record\n$VAR1 = 'some value';\n</code></pre>\n\n<p>Do you really need to force it ?</p>\n\n<pre><code>DB&lt;8&gt; undef $record\nDB&lt;9&gt; $record-&gt;{default} = $temp\nDB&lt;10&gt; print Dumper $record\n$VAR1 = {\n          'default' =&gt; 'some value'\n        };\n</code></pre>\n\n<p>How can I understand/explain why Perl does not \"get\" what I mean to do?</p>\n"}, {"tags": ["perl", "perl-module", "catalyst", "getopt-long"], "comments": [{"owner": {"reputation": 320771, "user_id": 589924, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/b2cf53d5a3d25f95c0db4e025aed4153?s=128&d=identicon&r=PG", "display_name": "ikegami", "link": "https://stackoverflow.com/users/589924/ikegami"}, "edited": false, "score": 2, "creation_date": 1455893665, "post_id": 35508007, "comment_id": 58707292, "body": "Could you please give a concrete example that doesn&#39;t work?"}, {"owner": {"reputation": 50468, "user_id": 1331451, "user_type": "registered", "accept_rate": 96, "profile_image": "https://i.stack.imgur.com/4ZPmj.png?s=128&g=1", "display_name": "simbabque", "link": "https://stackoverflow.com/users/1331451/simbabque"}, "edited": false, "score": 2, "creation_date": 1455896189, "post_id": 35508007, "comment_id": 58709024, "body": "Also, why is it tagged with <i>catalyst</i>?"}, {"owner": {"reputation": 123805, "user_id": 622310, "user_type": "registered", "accept_rate": 33, "profile_image": "https://www.gravatar.com/avatar/8b6d35219e1808520bc238b28161e2e6?s=128&d=identicon&r=PG", "display_name": "Borodin", "link": "https://stackoverflow.com/users/622310/borodin"}, "edited": false, "score": 0, "creation_date": 1455927559, "post_id": 35508007, "comment_id": 58725450, "body": "Please describe what you mean by <i>&quot;does not work&quot;</i>. Your <code>TNT</code> modules are private ones so we cannot easily recreate your problem."}], "answers": [{"tags": [], "owner": {"reputation": 2690, "user_id": 5869736, "user_type": "registered", "accept_rate": 75, "profile_image": "https://www.gravatar.com/avatar/b18e361761e0643fd9003f9eae40ba45?s=128&d=identicon&r=PG&f=1", "display_name": "Marty", "link": "https://stackoverflow.com/users/5869736/marty"}, "is_accepted": true, "score": 5, "last_activity_date": 1455934271, "creation_date": 1455934271, "answer_id": 35518300, "question_id": 35508007, "link": "https://stackoverflow.com/questions/35508007/using-get-options-and-pod-usage-in-perl/35518300#35518300", "title": "Using Get Options and Pod Usage in Perl", "body": "<p>I presume when ran with the <code>-h</code> option, you're expecting a pretty message explaining how the program should be ran based on the earlier GetOptions specification.  </p>\n\n<p><code>pod2usage</code> simply wont do that for you.</p>\n\n<p>According to the documentation (see <code>perldoc Pod::Usage</code>) when supplied with a single numeric argument, pod2usage simply exits using the argument as an exit status.  If you run your updated script with <strong>-h</strong> and then examine the exit status with <code>echo $?</code> straight after, you'll see it's doing what it said it would.</p>\n\n<p>Perhaps the documentation in <code>perldoc Getopt::Long</code> could be clearer - where it says:</p>\n\n<pre><code>Getopt::Long encourages the use of Pod::Usage to produce help messages.\nFor example:\n\n    use Getopt::Long;\n    use Pod::Usage;\n\n    my $man = 0;\n    my $help = 0;\n\n    GetOptions('help|?' =&gt; \\$help, man =&gt; \\$man) or pod2usage(2);\n    pod2usage(1) if $help;\n    pod2usage(-exitval =&gt; 0, -verbose =&gt; 2) if $man;\n\n    __END__\n\n    =head1 NAME\n\n    sample - Using Getopt::Long and Pod::Usage\n\n    =head1 SYNOPSIS\n\n    sample [options] [file ...]\n\n     Options:\n       -help            brief help message\n       -man             full documentation\n\n    =head1 OPTIONS\n\n    =over 8\n\n    =item B&lt;-help&gt;\n\n    Print a brief help message and exits.\n\n    =item B&lt;-man&gt;\n\n    Prints the manual page and exits.\n\n    =back\n\n    =head1 DESCRIPTION\n\n    B&lt;This program&gt; will read the given input file(s) and do something\n    useful with the contents thereof.\n\n    =cut\n\nSee Pod::Usage for details.\n</code></pre>\n\n<p>... you have to actually supply that POD for it to work (as one of the commenters has already noted).  Just for completeness, the relevant part of <code>perldoc Pod::Usage</code> is:</p>\n\n<pre><code>pod2usage will print a usage message for the invoking script (using its\nembedded pod documentation) and then exit the script with the desired exit\nstatus. The usage message printed may have any one of three levels of\n\"verboseness\": If the verbose level is 0, then only a synopsis is printed.\nIf the verbose level is 1, then the synopsis is printed along with a\ndescription (if present) of the command line options and arguments. If the\nverbose level is 2, then the entire manual page is printed.\n</code></pre>\n\n<p>But the key point is that it generates that \"synopsis\", \"description\" or \"manual page\" from the POD you embed in your program - which in your case is none.</p>\n"}], "owner": {"reputation": 27, "user_id": 2669506, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/7d357fa292f7e4e774f2f4929a687d28?s=128&d=identicon&r=PG", "display_name": "Zenneson", "link": "https://stackoverflow.com/users/2669506/zenneson"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 788, "favorite_count": 0, "closed_date": 1456140218, "accepted_answer_id": 35518300, "answer_count": 1, "score": 1, "last_activity_date": 1455934271, "creation_date": 1455893200, "question_id": 35508007, "link": "https://stackoverflow.com/questions/35508007/using-get-options-and-pod-usage-in-perl", "closed_reason": "Needs details or clarity", "title": "Using Get Options and Pod Usage in Perl", "body": "<p>I'm trying to edit a Perl program to use the Get Options and Pod Usage modules. When I try to do so it seem to break it. The first code sample is the original file that works and the second code sample is the edited version that does not work.</p>\n\n<pre><code> #!/usr/bin/env perl\n\nuse strict;\nuse warnings;\nuse 5.012;\n\nuse File::Basename;\nuse FindBin;\nuse lib \"$FindBin::Bin/../../lib\";\n\nuse TNT::Utils::Crypto;\nuse TNT::Utils::DB;\n\n$|=1 if _running_interactively(); # autoflush STDOUT for better status feedback\n\nmy $survey  = shift or die \"Must provide survey name\";\nmy $db_type = shift or die \"Must provide database type (mysql|prod|sqlite|test)\";\nmy $mode    = shift or die \"Must provide mode 'NORMAL' or 'ROLLOVER'\";\nmy @files   = (shift) or die \"Must provide file names to load or 'FAKE' for fake data\";\nmy $qaname  = shift;\n\nmy $schema  = TNT::Utils::DB-&gt;get_schema( env =&gt; $db_type, survey =&gt; 'ufo', qaname =&gt; $qaname );\n\nmy $data_rs        = $schema-&gt;resultset('Data');\nmy $respondents_rs = $schema-&gt;resultset('Respondents');\nmy $units_rs       = $schema-&gt;resultset('Units');\nmy $users_rs       = $schema-&gt;resultset('Users');\n\nif ( $mode eq 'ROLLOVER' ) {\n  $data_rs-&gt;delete();\n  $units_rs-&gt;delete();\n  $respondents_rs-&gt;delete();\n  $users_rs-&gt;update( { created_for_survey =&gt; 'DISABLED' } );\n}\n\nmy $rec_1_cnt = 0;\nmy $rec_2_cnt = 0;\nmy $rec_3_cnt = 0;\nmy $rec_4_cnt = 0;\nmy $rec_5_cnt = 0;\nmy $line_count = 0;\n\n\n#my $file = \"states.txt\";\nmy $file = \"steps_standard_state_values.txt\";\nmy $state_file = \"$FindBin::Bin/../../doc/ufo/$file\";\ndie \"can't find '$file'!\\n\\n\" unless -e $state_file;\n\nmy @states;\nmy $delimiter = \":\";\nopen my $FILE, '&lt;', $state_file\n  or die \"can't open $state_file: $!\";\n\nwhile ( my $line = &lt;$FILE&gt; ) {\n    chomp $line;\n    push @states, _make_state_record($line, $delimiter);\n}\nclose $FILE or die \"couldn't close $state_file: $!\";\n\n\nmy $record1_metadata = {};\n\nforeach my $file ( @files ) {\n  my $fh = _get_file_handle( $survey , $file );\n  my $display_name = fileparse( $file );\n\n\n  chomp( my $line = &lt;$fh&gt; );\n  my $current_id = _get_id($line);\n  my @buffer = ( $line );\n\n  $schema-&gt;txn_begin; \n\n  my $count = 0;\n  while ( $line = &lt;$fh&gt; ) {\n    chomp($line);\n\n    my $id = _get_id( $line );\n\n    if ( $id eq $current_id ) {\n      push @buffer, $line;\n    }\n    else {\n      _process_buffer( $survey , @buffer );\n\n      if ( _running_interactively() ) {\n        printf \"\\n [LOADING %20s] %6d\" , $display_name , $count unless $count % 50;\n        print '.';\n        $count++;\n      }\n\n      @buffer = ( $line );\n      $current_id = $id;\n    }\n  }\n\n  _process_buffer( $survey , @buffer);\n  close( $fh );\n\n  $schema-&gt;txn_commit; \n}\n\nprint \"\\n\\nRecords Loaded.\\n\";\nprint \"\\nRecord Type 1: $rec_1_cnt\\n\";\nprint \"\\nRecord Type 2: $rec_2_cnt\\n\";\nprint \"\\nRecord Type 3: $rec_3_cnt\\n\";\nprint \"\\nRecord Type 4: $rec_4_cnt\\n\";\nprint \"\\nRecord Type 5: $rec_5_cnt\\n\";\nprint \"\\n\" x 3;  \n\nsub _get_file_handle {\n  my( $survey , $file ) = @_;\n\n  $file = \"./script/$survey/fake-label.dat\"\n    if ( $file eq 'FAKE' );\n\n  open( my $IN , '&lt;' , $file ) or die \"$file ($!)\";\n  return $IN;\n}\n\nsub _get_id {\n  my( $id ) = shift =~ /^.{19}(.{16})/ ;\n\n  return $id;\n}\n\nsub _process_buffer {\n  my( $survey , @buffer ) = @_;\n\n  my( %data , %metadata , %priordata );\n\n  my $common_regex  = qr/^(.{4}).(.{6}).(.{6}).(.{16}).(...).(.{6}).(..)/;\n  my @common_fields = qw(mcstype survey statp id colcde alpha mgpcde);\n\n  @metadata{@common_fields} = $buffer[0] =~ $common_regex\n    or die \"Something blew up parsing the common fields:\\n$_\";\n\n  %metadata = map { $_ =&gt; _trim_whitespace( $metadata{$_} ) } keys %metadata;\n\n  my( $leading_metadata ) = $buffer[0] =~ /^(.{35})/;\n  my $leading_metadata_re = qr/^$leading_metadata/;\n\n  my %seen = ( 2 =&gt; 0 , 4 =&gt; 0 );\n\n  foreach my $record (@buffer) {\n    my ( $record_type ) = $record =~ /^.{50}(.)/;\n\n    unless ( $record =~ $leading_metadata_re ) {\n      printf STDERR \"Non-matching leading metadata -- SKIPPING!\\n%s\\n%s\" ,\n        $record , $leading_metadata_re;\n      return;\n    }\n\n\n    $line_count++;\n\n    given($record_type) {\n      when (1) {\n        my $rec1_regex  = qr/^.{59}.{6}(.{6}).(..).(....).(.{6})...(.{6})(.{36})(.{36})(.{36})(.{36})(.{36})(.{24})(..)(.{5})(.{0,4})/;\n        my @rec1_fields = qw(alpha mgpcde numids statp survey survdef attn name1 name2 street city state zip zip4);\n\n        my %captures;\n        @captures{@rec1_fields} = $record =~ $rec1_regex\n          or die \"Something blew up parsing record type 1:\\n$_\";\n\n        %captures = map { $_ =&gt; _trim_whitespace( $captures{$_} ) } keys %captures;\n\n        die \"Got a buffer size greater than 1 while parsing record type 1:\\n$_\"\n          unless ( scalar @buffer == 1 );\n\n        $record1_metadata = \\%captures;\n\n        $rec_1_cnt++;\n        return;\n      }\n      when (2) {\n        $seen{2}++;\n        my $rec2_regex  = qr/^.{59}(.{11})(...)(..)(....).(.).{36}(..)....(.).{19}(.{10})(.{36})(.{36})(.{36})(.{36})(.{36})(.{24})(..)(.{5})(.{0,4})/;\n        my @rec2_fields = qw(short_id chksurv sortfild statp_4 chkdgt type colnum form survdef attn name1 name2 street city state zip zip4);\n\n\n        my %captures;\n        @captures{@rec2_fields} = $record =~ $rec2_regex\n          or die \"Something blew up parsing record type 2:\\n$_\" . \"\\n\\nXXX-&gt; Near line $line_count\";\n\n        map {\n          my $value = _trim_whitespace( $captures{$_} );\n\n          die \"Dupe metadata seen for key '$_'!\" if( $metadata{$_} );\n          $metadata{$_} = $value;\n\n        } keys %captures;\n\n        $rec_2_cnt++;\n      }\n      when (3) {\n        my $rec3_regex  = qr/^.{59}(.{5}).(..).(.{13})/;\n        my @rec3_fields = qw(key rel_statp value);\n\n        my %captures;\n        @captures{@rec3_fields} = $record =~ $rec3_regex\n          or die \"Something blew up parsing record type 3:\\n$_\";\n\n        %captures = map { $_ =&gt; _trim_whitespace( $captures{$_} ) } keys %captures;\n\n        $priordata{$captures{rel_statp}}{$captures{key}} = $captures{value};\n        $rec_3_cnt++;\n      }\n      when (4) {\n        $seen{4}++;\n        my $rec4_regex    = qr/^.{59}(.{11}).(.{8}).?(.{0,60}).?(.{0,60})/;\n        my @rec4_fields   = qw(username password url email);\n\n        my %captures;\n        @captures{@rec4_fields} = $record =~ $rec4_regex\n          or die \"Something blew up parsing record type 4:\\n$_\";\n\n        map {\n          my $value = _trim_whitespace( $captures{$_} );\n\n          die \"Dupe metadata seen for key '$_'!\" if( $metadata{$_} );\n          $metadata{$_} = $value;\n\n        } keys %captures;\n\n        $rec_4_cnt++;\n      }\n      when (5) {\n        my $rec5_regex  = qr/^.{59}(.{8})..{1,4}.?(.*)/;\n        my @rec5_fields = qw/ name value /;\n\n        my %captures;\n        @captures{@rec5_fields} = $record =~ $rec5_regex\n          or die \"Something blew up parsing record type 5:\\n$_\";\n\n        %captures = map { $_ =&gt; _trim_whitespace( $captures{$_} ) } keys %captures;\n\n        die \"Dupe data seen for key '$captures{name}'!\"\n          if( $data{$captures{name}} );\n\n        $data{$captures{name}} = $captures{value};\n        $rec_5_cnt++;\n      }\n    }\n  }\n\n  unless (($seen{2} == 1 ) and ( $seen{4} == 1 )) {\n    printf STDERR \"\\n\\nRecord for ID %s doesn't have all required field types:\\n\"  , $metadata{id};\n    printf STDERR \"  Need 1 type 2 record; saw %d\\n\" , $seen{2} || 0;\n    printf STDERR \"  Need 1 type 4 record; saw %d\\n\" , $seen{4} || 0;\n    return;\n  }\n\n  foreach ( qw/ username password / ) {\n    if ( length( $metadata{$_} ) &lt; 1 ) {\n      printf STDERR \"SKIPPING id %s -- Can't have a blank %s\\n\" , $metadata{id} , $_;\n      return;\n    }\n  }\n\n  my $user = _find_or_create_user( $metadata{username} ,\n                                   $metadata{password} ,\n                                   $survey             );\n\n  my $respondent = _find_or_create_respondent( $user-&gt;uid        ,\n                                               $metadata{alpha}  ,\n                                               $metadata{mgpcde} ,\n                                               $metadata{id}     );\n\n  my $unit = _create_unit( $respondent-&gt;rid ,\n                           \\%metadata       ,\n                           \\%data           ,\n                           \\%priordata      );\n\n  _create_data_table_entry( $respondent-&gt;rid ,\n                            $unit-&gt;uid       ,\n                            \\%metadata       ,\n                            \\%data           ,    \n                            \\%priordata      );\n}\n#################################################\n\nsub _trim_whitespace {\n  my( $data ) = @_;\n\n  $data =~ s/\\s*$//;\n  $data =~ s/^\\s*//;\n  return $data;\n}\n\nsub _find_or_create_user {\n  my( $user , $pass , $survey ) = @_;\n\n  my $u = $users_rs-&gt;find_or_create({\n    username            =&gt; $user,\n    password            =&gt; TNT::Utils::Crypto-&gt;make_password_hash( $pass ),\n    #confirmation        =&gt; TNT::Utils::Crypto-&gt;make_password_hash( rand(1000) ),\n    timestamp           =&gt; time(),\n    created_for_survey  =&gt; uc( $survey ),\n    status              =&gt; 1,\n    #qid                 =&gt; 0,\n    #answer              =&gt; '',\n  });\n\n  $u-&gt;update( { created_for_survey  =&gt; uc( $survey ) } );\n\n  return $u;\n}\n\nsub _find_or_create_respondent {\n  my( $uid , $alpha , $mgpcde , $id ) = @_;\n\n  my $respondent_tag = _generate_respondent_tag( $alpha  ,\n                                                 $mgpcde ,\n                                                 $id     );\n\n  my $respondent = $respondents_rs-&gt;find_or_create({\n    uid             =&gt; $uid,\n    respondent_tag  =&gt; $respondent_tag,\n    paths           =&gt; {},\n    data            =&gt; {},\n    metadata        =&gt; $record1_metadata,\n  });\n\n  $record1_metadata = {};\n\n  return $respondent;\n}\n\nsub _generate_respondent_tag {\n  my( $alpha , $mgpcde , $id ) = @_;\n\n\n  my $tag = $alpha . $mgpcde;\n  $tag    = $id if ( length($tag) != 8 );\n\n  return $tag;\n}\n#################################################\nsub _create_data_table_entry {\n  no warnings;\n  my( $rid , $uid , $metadata ,$data, $priordata ) = @_;\n\n  my $org_1 = $metadata-&gt;{name1}  if $metadata-&gt;{name1} ;    # Company Name\n  my $org_2 = $metadata-&gt;{name2}  if $metadata-&gt;{name2} ;    # Division (optional)\n  my $org_3 = $metadata-&gt;{street} if $metadata-&gt;{street};    # Street address\n  my $org_4 = $metadata-&gt;{city}   if $metadata-&gt;{city}  ;    # City\n  my $org_5 = $metadata-&gt;{state}  if $metadata-&gt;{state} ;    # State\n  my $org_7 = $metadata-&gt;{attn}   if $metadata-&gt;{attn} ;     # State\n\n  foreach my $st (@states) {\n    if ( $metadata-&gt;{state} =~ /$st-&gt;{state_abbr}/) { $org_5 = $st-&gt;{state_code} };\n  }\n\n  my $org_6 = $metadata-&gt;{zip};                             # Zip code \n  $org_6 .= \"-\" . $metadata-&gt;{zip4} if $metadata-&gt;{zip4};   # Zip code +4\n\n  my $prior = $priordata-&gt;{'01'};\n\n  my %newhash;\n  foreach my $key ( keys %$prior ) {\n    $newhash{ substr($key, 0, 3) } = 1;\n  }\n\n  my $data_hashref;\n  my $count = 1;\n\n  foreach my $key ( sort keys %newhash ) {\n    $data_hashref-&gt;{\"MAJ_ACT_$count\"}   = $key;\n    $count++;\n  }\n\n  $data_hashref-&gt;{NAME1}  = $org_1    ,      # Company Name\n  $data_hashref-&gt;{NAME2}  = $org_2    ,      # Division (optional)\n  $data_hashref-&gt;{STREET} = $org_3    ,      # Street address\n  $data_hashref-&gt;{CITY}   = $org_4    ,      # City\n  $data_hashref-&gt;{STATE}  = $org_5    ,      # State (number as determined above)\n  $data_hashref-&gt;{ZIP}    = $org_6    ,      # Zip\n  $data_hashref-&gt;{ATTN}   = $org_7    ,      # Attn\n\n  $data_rs-&gt;create({\n    rid      =&gt; $rid ,\n    form     =&gt; \"main/$uid\" ,\n    data     =&gt; $data_hashref ,\n    errors   =&gt; 0 ,\n    modified =&gt; time() ,\n  });\n\n} \n#################################################\nsub _create_unit {\n  my( $rid , $meta_ref , $data_ref , $prior_ref ) = @_;\n\n  return $units_rs-&gt;create({\n    rid       =&gt; $rid,\n    unit_tag  =&gt; $meta_ref-&gt;{id},\n    alpha     =&gt; $meta_ref-&gt;{alpha},\n    mailgroup =&gt; $meta_ref-&gt;{mgpcde},\n    form      =&gt; $meta_ref-&gt;{form},\n    data      =&gt; $data_ref,\n    metadata  =&gt; $meta_ref,\n    priordata =&gt; $prior_ref,\n  });\n}\n#################################################\nsub _make_state_record {\n  my $line      = $_[0];\n  my $delimiter = $_[1];\n  my @fields = split(/$delimiter/,$line);\n  my %state_record = (\n        state_code  =&gt; $fields[0],\n        state_name  =&gt; $fields[1],\n        state_abbr  =&gt; $fields[2],\n     );\n  return (\\%state_record);\n}\n#################################################\n\nsub _running_interactively { return -t STDIN &amp;&amp; -t STDOUT }\n\n#################################################\n</code></pre>\n\n<p>Edited Version:</p>\n\n<pre><code>#!/usr/bin/env perl\n\nuse strict;\nuse warnings;\nuse 5.012;\n\nuse Getopt::Long;\nuse Pod::Usage;\nuse IO::File;\n\nuse File::Basename;\nuse FindBin;\nuse lib \"$FindBin::Bin/../../lib\";\n\nuse TNT::Utils::Crypto;\nuse TNT::Utils::DB;\n\nSTDOUT-&gt;autoflush(1);\n\nmy %opt = ();\n\nGetOptions(\n  \\%opt,\n  'help|h|?',\n  'dbtype=s',\n  'mode=s'  ,\n  'file=s@' ,\n  'qaname=s',\n) || pod2usage(1);\n\n_validate_inputs(%opt);\n\nmy $survey  = 'ufo';        #\"Must provide survey name\"\nmy $db_type = $opt{dbtype}; #\"Must provide database type (mysql|prod|sqlite|test)\"\nmy $mode    = $opt{mode};   #\"Must provide mode 'NORMAL' or 'ROLLOVER'\"\nmy @files   = $opt{file};   #\"Must provide file names to load or 'FAKE' for fake data\"\nmy $qaname  = $opt{qaname};\n\nmy $schema  = TNT::Utils::DB-&gt;get_schema( env =&gt; $db_type, survey =&gt; $survey, qaname =&gt; $qaname );\n\n#################################################\n\nsub _validate_inputs {\n  my(%opt) = @_;\n\n  pod2usage(1) if $opt{help};\n\n  my @db_types = qw/ mysql prod sqlite test /;\n  pod2usage( \n    -exitstatus =&gt; 1,\n    -message    =&gt; \"Datebase type must be one of: mysql, prod, sqlite, test \\n\",\n  ) unless $opt{dbtype} ~~ @db_types;\n\n  my @modes = qw/ NORMAL ROLLOVER /;\n  pod2usage(\n    -exitstatus =&gt; 1,\n    -message    =&gt; \"Mode must be either NORMAL or ROLLOVER \\n\",\n  ) unless $opt{mode} ~~ @modes; \n}\n</code></pre>\n"}, {"tags": ["perl", "unix", "awk", "sed"], "answers": [{"tags": [], "owner": {"reputation": 2347, "user_id": 1717259, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/f70451a8ea5b380bf1a28fe529b190cc?s=128&d=identicon&r=PG", "display_name": "user1717259", "link": "https://stackoverflow.com/users/1717259/user1717259"}, "is_accepted": false, "score": 0, "last_activity_date": 1455893437, "creation_date": 1455893437, "answer_id": 35508097, "question_id": 35507883, "link": "https://stackoverflow.com/questions/35507883/pattern-search-and-next-line-copy/35508097#35508097", "title": "Pattern search and next line copy", "body": "<p>You can use perl for this</p>\n\n<pre><code>perl -e ' $a =undef;\n          while(&lt;&gt;){\n              chomp;\n              if ($a eq \"AAA\"){\n                  print \"$_\\n\"\n                 }\n              print \"$_\\n\";\n              $a=$_;\n              }' your_file.txt\n</code></pre>\n\n<p>This iterates through the file and prints each line. If the previous line is \"AAA\", it prints it twice.</p>\n"}, {"tags": [], "owner": {"reputation": 62252, "user_id": 1435869, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/TrEd9.jpg?s=128&g=1", "display_name": "karakfa", "link": "https://stackoverflow.com/users/1435869/karakfa"}, "is_accepted": false, "score": 1, "last_activity_date": 1455894613, "creation_date": 1455894613, "answer_id": 35508493, "question_id": 35507883, "link": "https://stackoverflow.com/questions/35507883/pattern-search-and-next-line-copy/35508493#35508493", "title": "Pattern search and next line copy", "body": "<p><code>awk</code> to the rescue!</p>\n\n<pre><code>$ awk 'd{print;d=0} /AAA/{d=1}1' file\n\nAAA\nBBB\nBBB\nCCC\nAAA\nDDD\nDDD\nEEE\n</code></pre>\n\n<p><strong>Explanation</strong> </p>\n\n<p><code>d{print;d=0}</code>\nif flag <code>d</code>set print the line and reset the flag,</p>\n\n<p><code>/AAA/{d=1}</code>\nset a flag to duplicate the line for the given pattern,</p>\n\n<p><code>1</code>\nand print all lines.</p>\n"}, {"tags": [], "owner": {"reputation": 123805, "user_id": 622310, "user_type": "registered", "accept_rate": 33, "profile_image": "https://www.gravatar.com/avatar/8b6d35219e1808520bc238b28161e2e6?s=128&d=identicon&r=PG", "display_name": "Borodin", "link": "https://stackoverflow.com/users/622310/borodin"}, "is_accepted": false, "score": 0, "last_activity_date": 1455895328, "creation_date": 1455895328, "answer_id": 35508760, "question_id": 35507883, "link": "https://stackoverflow.com/questions/35507883/pattern-search-and-next-line-copy/35508760#35508760", "title": "Pattern search and next line copy", "body": "<p>I don't know whether you share my hatred of one-line programs, but this is entirely possible in Perl</p>\n\n<pre><code>$ perl -ne'print; print scalar &lt;&gt; x 2 if /AAA/' aaa.txt\n</code></pre>\n\n<h3>output</h3>\n\n<pre><code>AAA\nBBB\nBBB\nCCC\nAAA\nDDD\nDDD\nEEE\n</code></pre>\n"}, {"tags": [], "owner": {"reputation": 32690, "user_id": 3266847, "user_type": "registered", "accept_rate": 100, "profile_image": "https://i.stack.imgur.com/U0oyt.png?s=128&g=1", "display_name": "Benjamin W.", "link": "https://stackoverflow.com/users/3266847/benjamin-w"}, "is_accepted": false, "score": 3, "last_activity_date": 1455900358, "creation_date": 1455900358, "answer_id": 35510432, "question_id": 35507883, "link": "https://stackoverflow.com/questions/35507883/pattern-search-and-next-line-copy/35510432#35510432", "title": "Pattern search and next line copy", "body": "<p>Sed can do it like this:</p>\n\n<pre><code>$ sed '/AAA/{n;p}' infile\nAAA\nBBB\nBBB\nCCC\nAAA\nDDD\nDDD\nEEE\n</code></pre>\n\n<p>This looks for the pattern (<code>/AAA/</code>), the reads the next line of input (<code>n</code>) and prints it (<code>p</code>). Because printing is the default action anyway, the line gets printed twice, which is what we want.</p>\n"}], "owner": {"reputation": 1, "user_id": 5951625, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/b8e4963e6cb163356966c20ec305c4c5?s=128&d=identicon&r=PG&f=1", "display_name": "Brian", "link": "https://stackoverflow.com/users/5951625/brian"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 98, "favorite_count": 0, "answer_count": 4, "score": 0, "last_activity_date": 1455913466, "creation_date": 1455892813, "last_edit_date": 1455900662, "question_id": 35507883, "link": "https://stackoverflow.com/questions/35507883/pattern-search-and-next-line-copy", "title": "Pattern search and next line copy", "body": "<p>I have a text file that looks like this:</p>\n\n<pre><code>AAA\nBBB\nCCC\nAAA\nDDD\nEEE\n</code></pre>\n\n<p>It has a specific keyword, for example <code>AAA</code>. After encountering the keyword, I'd like to copy the following line and then write it a second time in my output file.</p>\n\n<p>I want it to look like this:</p>\n\n<pre><code>AAA\nBBB\nBBB\nCCC\nAAA\nDDD\nDDD\nEEE\n</code></pre>\n\n<p>Is there anybody who will help me to do this?</p>\n"}, {"tags": ["linux", "macos", "perl", "signals"], "comments": [{"owner": {"reputation": 21782, "user_id": 176646, "user_type": "registered", "accept_rate": 88, "profile_image": "https://i.stack.imgur.com/HsQyV.png?s=128&g=1", "display_name": "ThisSuitIsBlackNot", "link": "https://stackoverflow.com/users/176646/thissuitisblacknot"}, "edited": false, "score": 1, "creation_date": 1455891913, "post_id": 35506817, "comment_id": 58705975, "body": "This sounds like an XY problem. Can you explain in more detail what you&#39;re trying to do?"}], "answers": [{"tags": [], "owner": {"reputation": 320771, "user_id": 589924, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/b2cf53d5a3d25f95c0db4e025aed4153?s=128&d=identicon&r=PG", "display_name": "ikegami", "link": "https://stackoverflow.com/users/589924/ikegami"}, "is_accepted": true, "score": 2, "last_activity_date": 1456168722, "last_edit_date": 1456168722, "creation_date": 1455891392, "answer_id": 35507436, "question_id": 35506817, "link": "https://stackoverflow.com/questions/35506817/what-key-combinations-are-associated-with-signals/35507436#35507436", "title": "What key combinations are associated with signals", "body": "<blockquote>\n  <p><em>what other \"signals\" can be utilized in perl</em></p>\n</blockquote>\n\n<p>These are the signal names recognized by Perl:</p>\n\n<p><code>$ perl -V:sig_name</code><br>\n<code>sig_name='ZERO HUP INT QUIT ILL TRAP ABRT BUS FPE KILL USR1 SEGV USR2 PIPE ALRM TERM STKFLT CHLD CONT STOP TSTP TTIN TTOU URG XCPU XFSZ VTALRM PROF WINCH IO PWR SYS NUM32 NUM33 RTMIN NUM35 NUM36 NUM37 NUM38 NUM39 NUM40 NUM41 NUM42 NUM43 NUM44 NUM45 NUM46 NUM4 NUM48 NUM49 NUM50 NUM51 NUM52 NUM53 NUM54 NUM55 NUM56 NUM57 NUM58 NUM59 NUM60 NUM61 NUM62 NUM63 RTMAX IOT CLD POLL UNUSED ';</code></p>\n\n<p>The above list can also be obtained from Config.pm's <code>$Config{sig_name}</code>.</p>\n\n<p>There's also the two pseudo signals, <code>__WARN__</code> and <code>__DIE__</code>.</p>\n\n<blockquote>\n  <p><em>and what keys activate them?</em></p>\n</blockquote>\n\n<p>The following signals are often sent in response to terminal input:</p>\n\n<ul>\n<li>SIGINT</li>\n<li>SIGQUIT is a more \"serious\" version of SIGINT that provides a core dump.</li>\n<li>SIGTSTP sends a process to the background.</li>\n<li>SIGSTOP is an uncatchable signal that freezes the process.</li>\n<li>SIGCONT resumes a process frozen by SIGSTOP.</li>\n</ul>\n\n<p>You can see to what key these are bound using the following:</p>\n\n<pre><code>$ stty -a | perl -ne'\n   $b{$1}=$2 while /\\b(intr|quit|susp|stop|start)\\s*=\\s*([^\\s;]+)/g;\n   END {\n      print \"SIGINT:  $b{intr}\\n\";\n      print \"SIGQUIT: $b{quit}\\n\";\n      print \"SIGTSTP: $b{susp}\\n\";\n      print \"SIGSTOP: $b{stop}\\n\";\n      print \"SIGCONT: $b{start}\\n\";\n   }\n'\nSIGINT:  ^C\nSIGQUIT: ^\\\nSIGTSTP: ^Z\nSIGSTOP: ^S\nSIGCONT: ^Q\n</code></pre>\n\n<p>Most signals aren't sent as a result of terminal input. The following a commonly used signals and what normally causes them to be sent:</p>\n\n<ul>\n<li>SIGSEGV is sent when the program does an illegal operation (often the result of using a bad pointer).</li>\n<li>SIGHUP is sent when the session's terminal disconnects.</li>\n<li>SIGTERM is sent to request that a process exits.</li>\n<li>SIGKILL can't be caught. It's sent to forcibly terminate a process.</li>\n<li>SIGCHLD is sent when a child exits.</li>\n<li>SIGALRM is sent by <code>alarm</code>.</li>\n<li>SIGPIPE is sent when writing a pipe with a closed read end.</li>\n</ul>\n"}], "owner": {"reputation": 91, "user_id": 5828093, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/fd601d81e7f40e450ce160a3aa42e98e?s=128&d=identicon&r=PG&f=1", "display_name": "cjhutton", "link": "https://stackoverflow.com/users/5828093/cjhutton"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 547, "favorite_count": 0, "accepted_answer_id": 35507436, "answer_count": 1, "score": 1, "last_activity_date": 1456168722, "creation_date": 1455889456, "question_id": 35506817, "link": "https://stackoverflow.com/questions/35506817/what-key-combinations-are-associated-with-signals", "title": "What key combinations are associated with signals", "body": "<p>I am writing some perl scripts and I want to utilize signals to perform certain routines at any time. I see all over the place the ability to print out what the signals are,</p>\n\n<pre><code>perl -e 'foreach (keys %SIG) { print \"$_\\n\" }'\n</code></pre>\n\n<p>and I have already been using \"INT\" to go to a subroutine which is activated with ctrl+c.</p>\n\n<p>I cant find anywhere what key combinations are associated with the other signals. Is there a list somewhere? The script I'm writing should work on mac and linux computers. </p>\n\n<p>I know the ctrl+c signal is analogous between systems, what other \"signals\" can be utilized in perl and what keys activate them?</p>\n"}, {"tags": ["regex", "perl"], "comments": [{"owner": {"reputation": 481636, "user_id": 3832970, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/64323e6cf08401474da3bf770ea13b58?s=128&d=identicon&r=PG&f=1", "display_name": "Wiktor Stribi\u017cew", "link": "https://stackoverflow.com/users/3832970/wiktor-stribi%c5%bcew"}, "edited": false, "score": 1, "creation_date": 1455884095, "post_id": 35505079, "comment_id": 58701246, "body": "Like <a href=\"https://regex101.com/r/lH8eN4/2\" rel=\"nofollow noreferrer\"><code>message=&quot;(.*?)&quot;(?=\\s+\\w+=|$)</code></a>?"}, {"owner": {"reputation": 3334, "user_id": 4473327, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/hP14q.jpg?s=128&g=1", "display_name": "neuhaus", "link": "https://stackoverflow.com/users/4473327/neuhaus"}, "edited": false, "score": 3, "creation_date": 1455884165, "post_id": 35505079, "comment_id": 58701303, "body": "The regexp is fine, the string is invalid, if it contains double quote characters inside a string delimited by double quote characters they must be escaped otherwise it is anyone&#39;s guess what the true interpretation is."}, {"owner": {"reputation": 3334, "user_id": 4473327, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/hP14q.jpg?s=128&g=1", "display_name": "neuhaus", "link": "https://stackoverflow.com/users/4473327/neuhaus"}, "reply_to_user": {"reputation": 481636, "user_id": 3832970, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/64323e6cf08401474da3bf770ea13b58?s=128&d=identicon&r=PG&f=1", "display_name": "Wiktor Stribi\u017cew", "link": "https://stackoverflow.com/users/3832970/wiktor-stribi%c5%bcew"}, "edited": false, "score": 0, "creation_date": 1455884242, "post_id": 35505079, "comment_id": 58701348, "body": "@WiktorStribi\u017cew Your solution will break if &quot;<code>=</code>&quot; characters start appearing in the attribute values."}, {"owner": {"reputation": 481636, "user_id": 3832970, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/64323e6cf08401474da3bf770ea13b58?s=128&d=identicon&r=PG&f=1", "display_name": "Wiktor Stribi\u017cew", "link": "https://stackoverflow.com/users/3832970/wiktor-stribi%c5%bcew"}, "edited": false, "score": 0, "creation_date": 1455884292, "post_id": 35505079, "comment_id": 58701375, "body": "Only if there are alphanumerics right before them. Surely it can  break with such input."}, {"owner": {"reputation": 59, "user_id": 2558602, "user_type": "registered", "accept_rate": 80, "profile_image": "https://www.gravatar.com/avatar/e3dec4bf4a1a85fc6c89881e6a578bec?s=128&d=identicon&r=PG", "display_name": "tipssch", "link": "https://stackoverflow.com/users/2558602/tipssch"}, "reply_to_user": {"reputation": 481636, "user_id": 3832970, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/64323e6cf08401474da3bf770ea13b58?s=128&d=identicon&r=PG&f=1", "display_name": "Wiktor Stribi\u017cew", "link": "https://stackoverflow.com/users/3832970/wiktor-stribi%c5%bcew"}, "edited": false, "score": 0, "creation_date": 1455884748, "post_id": 35505079, "comment_id": 58701681, "body": "Thanks @WiktorStribi\u017cew and neuhaus for the help. Wicktor&#39;s solution works which will help me for now. I&#39;ll see if I can get the format of the string fixed in the meantime."}, {"owner": {"reputation": 481636, "user_id": 3832970, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/64323e6cf08401474da3bf770ea13b58?s=128&d=identicon&r=PG&f=1", "display_name": "Wiktor Stribi\u017cew", "link": "https://stackoverflow.com/users/3832970/wiktor-stribi%c5%bcew"}, "edited": false, "score": 0, "creation_date": 1455884802, "post_id": 35505079, "comment_id": 58701716, "body": "I have posted my suggestion with clearly stated assumptions then."}], "answers": [{"comments": [{"owner": {"reputation": 481636, "user_id": 3832970, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/64323e6cf08401474da3bf770ea13b58?s=128&d=identicon&r=PG&f=1", "display_name": "Wiktor Stribi\u017cew", "link": "https://stackoverflow.com/users/3832970/wiktor-stribi%c5%bcew"}, "edited": false, "score": 0, "creation_date": 1455884971, "post_id": 35505355, "comment_id": 58701831, "body": "Or if the order of keys is not the same, or &quot;source&quot; key is missing."}], "tags": [], "owner": {"reputation": 65820, "user_id": 1741542, "user_type": "registered", "accept_rate": 75, "profile_image": "https://i.stack.imgur.com/QdVqh.jpg?s=128&g=1", "display_name": "Olaf Dietsche", "link": "https://stackoverflow.com/users/1741542/olaf-dietsche"}, "is_accepted": false, "score": 1, "last_activity_date": 1455884803, "creation_date": 1455884803, "answer_id": 35505355, "question_id": 35505079, "link": "https://stackoverflow.com/questions/35505079/perl-regex-need-to-ignore-first-two-instances-of-a-character/35505355#35505355", "title": "Perl regex - need to ignore first two instances of a character", "body": "<p>If the attributes are always in this order, i.e. <code>source</code> follows <code>message</code>, you might try to make it a bit more robust</p>\n\n<pre><code>message=\"(.*?)\"\\s+source=\"\n</code></pre>\n\n<p>This will break of course, if <code>source=</code> occurs in the message.</p>\n"}, {"tags": [], "owner": {"reputation": 481636, "user_id": 3832970, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/64323e6cf08401474da3bf770ea13b58?s=128&d=identicon&r=PG&f=1", "display_name": "Wiktor Stribi\u017cew", "link": "https://stackoverflow.com/users/3832970/wiktor-stribi%c5%bcew"}, "is_accepted": true, "score": 1, "last_activity_date": 1455884845, "creation_date": 1455884845, "answer_id": 35505367, "question_id": 35505079, "link": "https://stackoverflow.com/questions/35505079/perl-regex-need-to-ignore-first-two-instances-of-a-character/35505367#35505367", "title": "Perl regex - need to ignore first two instances of a character", "body": "<p><strong>If we can assume that the <em>key</em> always consists of alphanumerics or underscore symbols (<code>\\w+</code>) and is followed with <code>=</code> and the vlaues do not contain that pattern</strong>, you can use a lazy quantifier with a dot <code>.*?</code> and check the trailing boundary with a positive lookehead. Thus, <strong>as a quick-and-dirty once-time fix</strong>, you can use</p>\n\n<pre><code>message=\"(.*?)\"(?=\\s+\\w+=|$)\n</code></pre>\n\n<p>See the <a href=\"https://regex101.com/r/lH8eN4/2\" rel=\"nofollow\">regex demo</a></p>\n\n<p>Note that <code>.</code> does not match newline symbols by default, you will need a <code>/s</code> modifier.</p>\n\n<p><strong>The input you have needs fixing by all means.</strong></p>\n"}, {"tags": [], "owner": {"reputation": 123805, "user_id": 622310, "user_type": "registered", "accept_rate": 33, "profile_image": "https://www.gravatar.com/avatar/8b6d35219e1808520bc238b28161e2e6?s=128&d=identicon&r=PG", "display_name": "Borodin", "link": "https://stackoverflow.com/users/622310/borodin"}, "is_accepted": false, "score": 1, "last_activity_date": 1467624668, "last_edit_date": 1467624668, "creation_date": 1455887045, "answer_id": 35506037, "question_id": 35505079, "link": "https://stackoverflow.com/questions/35505079/perl-regex-need-to-ignore-first-two-instances-of-a-character/35506037#35506037", "title": "Perl regex - need to ignore first two instances of a character", "body": "<p>This solution keeps fetching characters from the string until a new label like <code>source=</code> is encountered. All parameter values are stored in hash <code>%params</code>, so the value for <code>message</code> is just <code>$params{message}</code></p>\n\n<p>I've used <code>Data::Dump</code> only to display the complete hash contents once the string has been parsed</p>\n\n<pre><code>use strict;\nuse warnings 'all';\nuse feature 'say';\n\nmy $str = 'severity=\"warning\" message=\"The String \"test\" appears 4 times in the file.\" source=\"com.puppycrawl.tools.checkstyle.checks.coding.MultipleStringLiteralsCheck\"';\n\nmy %params;\n\nwhile ( $str =~ / (\\w+) \\s* = \\s* \" ( (?: . (?! \\w+ \\s* = ) )* ) \" /gsx ) {\n    $params{$1} = $2;\n}\n\nsay $params{message};\n\nuse Data::Dump;\ndd \\%params;\n</code></pre>\n\n<h3>output</h3>\n\n<pre class=\"lang-none prettyprint-override\"><code>The String \"test\" appears 4 times in the file.\n{\n  message  =&gt; \"The String \\\"test\\\" appears 4 times in the file.\",\n  severity =&gt; \"warning\",\n  source   =&gt; \"com.puppycrawl.tools.checkstyle.checks.coding.MultipleStringLiteralsCheck\",\n}\n</code></pre>\n"}], "owner": {"reputation": 59, "user_id": 2558602, "user_type": "registered", "accept_rate": 80, "profile_image": "https://www.gravatar.com/avatar/e3dec4bf4a1a85fc6c89881e6a578bec?s=128&d=identicon&r=PG", "display_name": "tipssch", "link": "https://stackoverflow.com/users/2558602/tipssch"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 72, "favorite_count": 0, "accepted_answer_id": 35505367, "answer_count": 3, "score": 1, "last_activity_date": 1467624668, "creation_date": 1455883940, "question_id": 35505079, "link": "https://stackoverflow.com/questions/35505079/perl-regex-need-to-ignore-first-two-instances-of-a-character", "title": "Perl regex - need to ignore first two instances of a character", "body": "<p>I need to extract the message attribute from the following string (i.e. I want to extract <em>The String \"test\" appears 4 times in the file.</em>).</p>\n\n<pre><code>severity=\"warning\" message=\"The String \"test\" appears 4 times in the file.\" source=\"com.puppycrawl.tools.checkstyle.checks.coding.MultipleStringLiteralsCheck\"\n</code></pre>\n\n<p>I've tried using the regular expression <code>message=\"([^\"]*)\"</code> but this stops at the first \" that appears. <code>The String</code> is getting returned in this case.  </p>\n\n<p>Is there a way to ignore the inner quotes within the message attribute and capture the entire attribute? </p>\n"}, {"tags": ["regex", "perl", "replace"], "comments": [{"owner": {"reputation": 51521, "user_id": 2566198, "user_type": "registered", "accept_rate": 67, "profile_image": "https://i.stack.imgur.com/Y34ZA.jpg?s=128&g=1", "display_name": "Sobrique", "link": "https://stackoverflow.com/users/2566198/sobrique"}, "edited": false, "score": 0, "creation_date": 1455879069, "post_id": 35503417, "comment_id": 58697993, "body": "Are your patterns always single words?"}, {"owner": {"reputation": 37822, "user_id": 1231450, "user_type": "registered", "accept_rate": 87, "profile_image": "https://www.gravatar.com/avatar/b9c98b4ce12bf9fd925d8c35c8861bb2?s=128&d=identicon&r=PG", "display_name": "Jan", "link": "https://stackoverflow.com/users/1231450/jan"}, "edited": false, "score": 1, "creation_date": 1455879263, "post_id": 35503417, "comment_id": 58698148, "body": "Lazy quantifier: <a href=\"https://regex101.com/r/aG6qD9/1\" rel=\"nofollow noreferrer\"><code>(?:START)(.+?)(?:END)</code></a> - and search for / replace bingo in <code>$1</code>. Though a more realisitc input might be helpful, especially with newlines, etc."}, {"owner": {"reputation": 481636, "user_id": 3832970, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/64323e6cf08401474da3bf770ea13b58?s=128&d=identicon&r=PG&f=1", "display_name": "Wiktor Stribi\u017cew", "link": "https://stackoverflow.com/users/3832970/wiktor-stribi%c5%bcew"}, "edited": false, "score": 2, "creation_date": 1455879712, "post_id": 35503417, "comment_id": 58698456, "body": "<a href=\"https://regex101.com/r/lS7qJ1/1\" rel=\"nofollow noreferrer\"><code>s&#47;(?:START|(?!^)\\G)(?:(?!START|END).)*?\\Kbingo&#47;okyes&#47;g</code></a>."}, {"owner": {"reputation": 325, "user_id": 5856095, "user_type": "registered", "accept_rate": 82, "profile_image": "https://www.gravatar.com/avatar/e8e5c412b90786077ddfa0927904b8fe?s=128&d=identicon&r=PG&f=1", "display_name": "katyusza", "link": "https://stackoverflow.com/users/5856095/katyusza"}, "reply_to_user": {"reputation": 51521, "user_id": 2566198, "user_type": "registered", "accept_rate": 67, "profile_image": "https://i.stack.imgur.com/Y34ZA.jpg?s=128&g=1", "display_name": "Sobrique", "link": "https://stackoverflow.com/users/2566198/sobrique"}, "edited": false, "score": 0, "creation_date": 1455884354, "post_id": 35503417, "comment_id": 58701420, "body": "@Sobrique For the time being, yes, it should be just single words."}, {"owner": {"reputation": 325, "user_id": 5856095, "user_type": "registered", "accept_rate": 82, "profile_image": "https://www.gravatar.com/avatar/e8e5c412b90786077ddfa0927904b8fe?s=128&d=identicon&r=PG&f=1", "display_name": "katyusza", "link": "https://stackoverflow.com/users/5856095/katyusza"}, "reply_to_user": {"reputation": 481636, "user_id": 3832970, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/64323e6cf08401474da3bf770ea13b58?s=128&d=identicon&r=PG&f=1", "display_name": "Wiktor Stribi\u017cew", "link": "https://stackoverflow.com/users/3832970/wiktor-stribi%c5%bcew"}, "edited": false, "score": 0, "creation_date": 1455884850, "post_id": 35503417, "comment_id": 58701739, "body": "@WiktorStribi\u017cew Yes! I don&#39;t understand the intimidating regex, but it does work!! I think I&#39;ll study this expression very, very carefully."}, {"owner": {"reputation": 481636, "user_id": 3832970, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/64323e6cf08401474da3bf770ea13b58?s=128&d=identicon&r=PG&f=1", "display_name": "Wiktor Stribi\u017cew", "link": "https://stackoverflow.com/users/3832970/wiktor-stribi%c5%bcew"}, "edited": false, "score": 0, "creation_date": 1455885548, "post_id": 35503417, "comment_id": 58702180, "body": "@katyusza: Sorry, I can&#39;t post that here. If you need to study the regex, look for a <a href=\"http://www.rexegg.com/regex-quantifiers.html#tempered_greed\" rel=\"nofollow noreferrer\">tempered greedy token</a> , <a href=\"http://stackoverflow.com/questions/13542950/support-of-k-in-regex\"><code>\\K</code></a>, <a href=\"http://stackoverflow.com/questions/21971701/when-is-g-useful-application-in-a-regex\"><code>\\G</code></a>. Note that it is not the fastest solution."}, {"owner": {"reputation": 325, "user_id": 5856095, "user_type": "registered", "accept_rate": 82, "profile_image": "https://www.gravatar.com/avatar/e8e5c412b90786077ddfa0927904b8fe?s=128&d=identicon&r=PG&f=1", "display_name": "katyusza", "link": "https://stackoverflow.com/users/5856095/katyusza"}, "reply_to_user": {"reputation": 481636, "user_id": 3832970, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/64323e6cf08401474da3bf770ea13b58?s=128&d=identicon&r=PG&f=1", "display_name": "Wiktor Stribi\u017cew", "link": "https://stackoverflow.com/users/3832970/wiktor-stribi%c5%bcew"}, "edited": false, "score": 0, "creation_date": 1455886542, "post_id": 35503417, "comment_id": 58702707, "body": "@WiktorStribi\u017cew Got that;-) you already did me a great favor. I&#39;m currently doing ad-hoc Perl stuff; execution speed is the least priority for me."}, {"owner": {"reputation": 51521, "user_id": 2566198, "user_type": "registered", "accept_rate": 67, "profile_image": "https://i.stack.imgur.com/Y34ZA.jpg?s=128&g=1", "display_name": "Sobrique", "link": "https://stackoverflow.com/users/2566198/sobrique"}, "edited": false, "score": 0, "creation_date": 1455919322, "post_id": 35503417, "comment_id": 58722323, "body": "That should probably be posted as an answer rather than a comment."}], "answers": [{"comments": [{"owner": {"reputation": 50468, "user_id": 1331451, "user_type": "registered", "accept_rate": 96, "profile_image": "https://i.stack.imgur.com/4ZPmj.png?s=128&g=1", "display_name": "simbabque", "link": "https://stackoverflow.com/users/1331451/simbabque"}, "edited": false, "score": 0, "creation_date": 1455879989, "post_id": 35503585, "comment_id": 58698627, "body": "I was just hacking on the range operator solution as well. :)"}], "tags": [], "owner": {"reputation": 51521, "user_id": 2566198, "user_type": "registered", "accept_rate": 67, "profile_image": "https://i.stack.imgur.com/Y34ZA.jpg?s=128&g=1", "display_name": "Sobrique", "link": "https://stackoverflow.com/users/2566198/sobrique"}, "is_accepted": false, "score": 3, "last_activity_date": 1455879699, "last_edit_date": 1455879699, "creation_date": 1455879352, "answer_id": 35503585, "question_id": 35503417, "link": "https://stackoverflow.com/questions/35503417/how-to-perform-search-and-replace-within-given-start-end-ranges/35503585#35503585", "title": "How to perform search-and-replace within given $start-$end ranges?", "body": "<p>Looking at your 'source' I would suggest the trick here is to set <code>$/</code> - the record separator.</p>\n\n<p>If you set it to a single space, you can iterate word by word. \nAnd then use a <a href=\"http://perldoc.perl.org/perlop.html#Range-Operators\" rel=\"nofollow\">range operator</a> to determine if you're within delimiters.</p>\n\n<p>Example:</p>\n\n<pre><code>#!/usr/bin/env perl\n\nuse strict;\nuse warnings;\n\nlocal $/ = ' ';\n\nwhile ( &lt;DATA&gt; ) {\n   if (  m/START/ .. /END/ ) {\n       s/bingo/okyes/g;\n   } \n   print;\n}\n\n__DATA__\nxx START xx bingo xx bingo xx END xx bingo xx START xx bingo xx END bingo\n</code></pre>\n\n<p>This prints:</p>\n\n<pre><code>xx START xx okyes xx okyes xx END xx bingo xx START xx okyes xx END bingo\n</code></pre>\n\n<p>You could probably accomplish this with a single regex. I'm going to suggest that you <em>don't</em> because it'll quite complicated and hard to understand later. </p>\n"}, {"tags": [], "owner": {"reputation": 198290, "user_id": 1030675, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/957956ce51706d03f19a4dc85a767bb1?s=128&d=identicon&r=PG", "display_name": "choroba", "link": "https://stackoverflow.com/users/1030675/choroba"}, "is_accepted": false, "score": 1, "last_activity_date": 1455879488, "creation_date": 1455879488, "answer_id": 35503634, "question_id": 35503417, "link": "https://stackoverflow.com/questions/35503417/how-to-perform-search-and-replace-within-given-start-end-ranges/35503634#35503634", "title": "How to perform search-and-replace within given $start-$end ranges?", "body": "<p>Split each line on START on END, keep a flag that tells you whether you are inside a range or not.</p>\n\n<pre><code>#!/usr/bin/perl\nuse warnings;\nuse strict;\n\nmy $inside;\nwhile (&lt;&gt;) {\n    my @strings = split /(START|END)/;\n    for my $string (@strings) {\n        if ('START' eq $string) {\n            $inside = 1;\n\n        } elsif ('END' eq $string) {\n            undef $inside;\n\n        } elsif ($inside) {\n            $string =~ s/bingo/okyes/g;\n\n        }\n\n        print $string;\n    }\n}\n</code></pre>\n\n<p>Or a bit shorter using a hash as a switch:</p>\n\n<pre><code>#!/usr/bin/perl\nuse warnings;\nuse strict;\nuse Syntax::Construct qw{ // };\n\nmy $inside;\nwhile (&lt;&gt;) {\n    my @strings = split /(START|END)/;\n    for my $string (@strings) {\n        $inside = { START =&gt; 1,\n                    END   =&gt; 0,\n                  }-&gt;{$string} // $inside;\n\n        $string =~ s/bingo/okyes/g if $inside;\n        print $string;\n    }\n}\n</code></pre>\n"}, {"tags": [], "owner": {"reputation": 123805, "user_id": 622310, "user_type": "registered", "accept_rate": 33, "profile_image": "https://www.gravatar.com/avatar/8b6d35219e1808520bc238b28161e2e6?s=128&d=identicon&r=PG", "display_name": "Borodin", "link": "https://stackoverflow.com/users/622310/borodin"}, "is_accepted": false, "score": 2, "last_activity_date": 1467889924, "last_edit_date": 1467889924, "creation_date": 1455882050, "answer_id": 35504445, "question_id": 35503417, "link": "https://stackoverflow.com/questions/35503417/how-to-perform-search-and-replace-within-given-start-end-ranges/35504445#35504445", "title": "How to perform search-and-replace within given $start-$end ranges?", "body": "<p>I find things like this are most simply done using the <code>@-</code> and <code>@+</code> built-in arrays in conjunction with <code>substr</code> as an lvalue</p>\n\n<p><code>$-[1]</code> contains the offset within the string where the first capture began, while <code>$+[1]</code> contains the offset where it ended. Hence <code>$+[1]-$-[1]</code> is the length of the captured section</p>\n\n<p>This program finds all occurrences of <code>/START(.+?)END/</code> and edits the captured section -- the region between <code>START</code> and <code>END</code> -- by applying a regex substitution to that substring</p>\n\n<p>You may need to chnage this slightly depending on the real-world data that you're working with</p>\n\n<pre><code>use strict;\nuse warnings 'all';\nuse feature 'say';\n\nmy $str = 'xx START xx bingo xx bingo xx END xx bingo xx START xx bingo xx END bingo';\nmy ($start, $end, $pattern, $replacement) = qw/ START END bingo okyes /;\n\nwhile ( $str =~ /\\b$start\\b(.+?)\\b$end\\b/gs ) {\n     substr($str, $-[1], $+[1]-$-[1]) =~ s/$pattern/$replacement/g;\n}\n\nsay $str;\n</code></pre>\n\n<h3>output</h3>\n\n<pre><code>xx START xx okyes xx okyes xx END xx bingo xx START xx okyes xx END bingo\n</code></pre>\n"}, {"tags": [], "owner": {"reputation": 325, "user_id": 5856095, "user_type": "registered", "accept_rate": 82, "profile_image": "https://www.gravatar.com/avatar/e8e5c412b90786077ddfa0927904b8fe?s=128&d=identicon&r=PG&f=1", "display_name": "katyusza", "link": "https://stackoverflow.com/users/5856095/katyusza"}, "is_accepted": true, "score": 0, "last_activity_date": 1456474903, "creation_date": 1456474903, "answer_id": 35646758, "question_id": 35503417, "link": "https://stackoverflow.com/questions/35503417/how-to-perform-search-and-replace-within-given-start-end-ranges/35646758#35646758", "title": "How to perform search-and-replace within given $start-$end ranges?", "body": "<p>Eventually used following code to accomplish what I intended:</p>\n\n<pre><code>$_ = \"xx START xx bingo xx bingo xx END xx bingo xx START xx bingo xx END bingo\";\nprint;\nprint \"\\n\";\n$_ =~ s/START.*?END/($s=$&amp;) =~ s,bingo,okyes,g; $s/ge;\nprint;\n</code></pre>\n\n<p>This is a one-regex solution, using embedded expression in <code>s///g</code> regex, and nested <code>s///g</code> regexes.</p>\n\n<p>Sorry for this late post, but I deeply appreciate the replies by @Sobrique, @Borodin and @choroba, which are enlightening and helpful.</p>\n"}], "owner": {"reputation": 325, "user_id": 5856095, "user_type": "registered", "accept_rate": 82, "profile_image": "https://www.gravatar.com/avatar/e8e5c412b90786077ddfa0927904b8fe?s=128&d=identicon&r=PG&f=1", "display_name": "katyusza", "link": "https://stackoverflow.com/users/5856095/katyusza"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 94, "favorite_count": 1, "accepted_answer_id": 35646758, "answer_count": 4, "score": 2, "last_activity_date": 1467889924, "creation_date": 1455878841, "last_edit_date": 1455879726, "question_id": 35503417, "link": "https://stackoverflow.com/questions/35503417/how-to-perform-search-and-replace-within-given-start-end-ranges", "title": "How to perform search-and-replace within given $start-$end ranges?", "body": "<p>Say, a text file have many <code>$start-$end</code> pairs, and within each pair there are some text. I want Perl to find-and-replace all <code>$pattern</code>s with the <code>$start-$end</code> pairs; if the <code>$pattern</code> lies out of the pair, then don't replace it. eg for text:</p>\n\n<pre><code>xx START xx bingo xx bingo xx END xx bingo xx START xx bingo xx END bingo\n</code></pre>\n\n<p>There might be newlines anywhere in the text (not shown here); <code>$pattern</code> may appear multiple times within a pair. Expected result is:</p>\n\n<pre><code>xx START xx okyes xx okyes xx END xx bingo xx START xx okyes xx END bingo\n</code></pre>\n\n<p>The job seems straightforward but I just do not figure out a Perl regex to do it. Can anyone help with this? </p>\n"}, {"tags": ["excel", "perl", "win32ole"], "comments": [{"owner": {"reputation": 50468, "user_id": 1331451, "user_type": "registered", "accept_rate": 96, "profile_image": "https://i.stack.imgur.com/4ZPmj.png?s=128&g=1", "display_name": "simbabque", "link": "https://stackoverflow.com/users/1331451/simbabque"}, "edited": false, "score": 1, "creation_date": 1455874487, "post_id": 35501825, "comment_id": 58694897, "body": "Welcome to Stack Overflow and the Perl tag. What exactly is your question? Where are you struggling?"}, {"owner": {"reputation": 11, "user_id": 5950283, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/ca6996ceccee8abf335458cd74ce7176?s=128&d=identicon&r=PG&f=1", "display_name": "Shashank.S", "link": "https://stackoverflow.com/users/5950283/shashank-s"}, "reply_to_user": {"reputation": 50468, "user_id": 1331451, "user_type": "registered", "accept_rate": 96, "profile_image": "https://i.stack.imgur.com/4ZPmj.png?s=128&g=1", "display_name": "simbabque", "link": "https://stackoverflow.com/users/1331451/simbabque"}, "edited": false, "score": 1, "creation_date": 1455875475, "post_id": 35501825, "comment_id": 58695594, "body": "The new Excel I have created to store data is not getting saved in the current working directory. Instead I find it in &#39;My Documents&#39; folder. SaveAs($new_excel) is not happening at all."}], "answers": [{"comments": [{"owner": {"reputation": 11, "user_id": 5950283, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/ca6996ceccee8abf335458cd74ce7176?s=128&d=identicon&r=PG&f=1", "display_name": "Shashank.S", "link": "https://stackoverflow.com/users/5950283/shashank-s"}, "edited": false, "score": 0, "creation_date": 1455906008, "post_id": 35510483, "comment_id": 58715144, "body": "I have used Cwd package. I can see that $new_excel has the correct path. But the next step &#39;SaveAs($new_excel&#39; doesn&#39;t save the Book1 name Excel file in the target folder with the name I have assigned. Ultimately I can find Book1 file in &#39;My Documents&#39; folder."}, {"owner": {"reputation": 113221, "user_id": 100754, "user_type": "registered", "accept_rate": 90, "profile_image": "https://www.gravatar.com/avatar/7804ebae32fbadef38537d74a915c22f?s=128&d=identicon&r=PG", "display_name": "Sinan &#220;n&#252;r", "link": "https://stackoverflow.com/users/100754/sinan-%c3%9cn%c3%bcr"}, "reply_to_user": {"reputation": 11, "user_id": 5950283, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/ca6996ceccee8abf335458cd74ce7176?s=128&d=identicon&r=PG&f=1", "display_name": "Shashank.S", "link": "https://stackoverflow.com/users/5950283/shashank-s"}, "edited": false, "score": 1, "creation_date": 1455909357, "post_id": 35510483, "comment_id": 58717074, "body": "So, you are saying you did not post the code you ran? Please post <i>exactly</i> what you run to illustrate the problem. No more, no less."}], "tags": [], "owner": {"reputation": 113221, "user_id": 100754, "user_type": "registered", "accept_rate": 90, "profile_image": "https://www.gravatar.com/avatar/7804ebae32fbadef38537d74a915c22f?s=128&d=identicon&r=PG", "display_name": "Sinan &#220;n&#252;r", "link": "https://stackoverflow.com/users/100754/sinan-%c3%9cn%c3%bcr"}, "is_accepted": false, "score": 1, "last_activity_date": 1456149303, "last_edit_date": 1456149303, "creation_date": 1455900511, "answer_id": 35510483, "question_id": 35501825, "link": "https://stackoverflow.com/questions/35501825/how-to-save-excel-file-in-working-directory-in-win32ole/35510483#35510483", "title": "How to save Excel file in working directory in Win32::OLE", "body": "<p>Here is an update based on your code. First, you are letting <code>Win32::OLE</code> errors to be silently ignored. Instead, set: <code>$Win32::OLE::Warn = 3</code> so it croaks whenever something goes wrong. Second, the way you try to obtain an <code>Excel.Application</code> instance is not correct. For one thing, if something goes wrong, you will have instances of Excel will remain floating around.</p>\n\n<p>You are also confusing an Excel instance, a workbook, and the sheets it contains. If you did have <code>$Win32::OLE::Warn = 3</code>, you would have received a notification of where things are going wrong.</p>\n\n<p>You should also always have <code>use strict</code> and <code>use warnings</code> in your script. Others will be more inclined to try to help if they know your problem is not caused by some trivial typo.</p>\n\n<p>You also don't need three separate <code>use Win32::OLE</code> statements.</p>\n\n<p>The code below \"works\". Compare it to yours.</p>\n\n<p>Finally, if you are manipulating your sheet via <code>Win32::OLE</code>, there is no reason to have <code>Excel::Writer::XLSX</code> in your code.</p>\n\n<pre><code>use feature 'say';\nuse strict;\nuse warnings;\n\nuse File::Spec::Functions qw( rel2abs );\nuse Win32::OLE qw(in with) ;\nuse Win32::OLE::Const 'Microsoft Excel';\n$Win32::OLE::Warn = 3;\n\nmy $excel = eval {\n        Win32::OLE-&gt;GetActiveObject('Excel.Application');\n    } || Win32::OLE-&gt;new('Excel.Application', sub { $_[0]-&gt;Quit });\n\nmy $wb = $excel-&gt;Workbooks-&gt;Add;\nmy $sheet = $wb-&gt;Worksheets-&gt;Add;\n\n$wb-&gt;SaveAs( rel2abs('temp_file.xlsm') );\n\n$excel-&gt;{DisplayAlerts} = 0;\n$wb-&gt;{Saved} = 1;\n$wb-&gt;Close;\n</code></pre>\n"}], "owner": {"reputation": 11, "user_id": 5950283, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/ca6996ceccee8abf335458cd74ce7176?s=128&d=identicon&r=PG&f=1", "display_name": "Shashank.S", "link": "https://stackoverflow.com/users/5950283/shashank-s"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 904, "favorite_count": 0, "answer_count": 1, "score": 0, "last_activity_date": 1456149303, "creation_date": 1455874393, "last_edit_date": 1455982963, "question_id": 35501825, "link": "https://stackoverflow.com/questions/35501825/how-to-save-excel-file-in-working-directory-in-win32ole", "title": "How to save Excel file in working directory in Win32::OLE", "body": "<p>I am trying to parse an Excel file in perl. After I extract the required info from it, I close the Excel file. At the end I am trying to save a new Excel file with a different name in the same directory. But this Excel is getting stored in 'My Documents' folder.</p>\n\n<pre><code>use Storable ;\nuse Cwd;\n\nuse Win32::OLE ;\nuse Win32::OLE qw(in with) ;\nuse Win32::OLE in ;\nuse Win32::OLE::Const 'Microsoft Excel';\n\nuse Excel::Writer::XLSX;\n\nmy $Excel = Win32::OLE-&gt;new(\"Excel.Application\");\nmy $excel = $Excel-&gt;Workbooks-&gt;Add();\n\nmy $sheet = $excel-&gt;Worksheets(1);\n$sheet-&gt;Activate();\n\nmy $new_file = \"Temp_file.xlsm\";\nmy $new_excel = cwd.'\\\\'.$new_file;\n$new_excel =~ s/\\//\\\\/g;\n\n$excel-&gt;SaveAs($new_excel);\n\n$Excel-&gt;{DisplayAlerts} = 0;\n$excel-&gt;{Saved} = 1;\n$excel-&gt;Close;\n</code></pre>\n"}, {"tags": ["linux", "multithreading", "perl", "cpan"], "comments": [{"owner": {"reputation": 9406, "user_id": 4923629, "user_type": "registered", "accept_rate": 92, "profile_image": "https://i.stack.imgur.com/2abZO.png?s=128&g=1", "display_name": "123", "link": "https://stackoverflow.com/users/4923629/123"}, "edited": false, "score": 1, "creation_date": 1455874528, "post_id": 35501793, "comment_id": 58694921, "body": "Download the module."}, {"owner": {"reputation": 6592, "user_id": 3005251, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/a5331f7e467aae3d581fe8bc814ef572?s=128&d=identicon&r=PG", "display_name": "bolav", "link": "https://stackoverflow.com/users/3005251/bolav"}, "edited": false, "score": 1, "creation_date": 1455878534, "post_id": 35501793, "comment_id": 58697633, "body": "<a href=\"http://stackoverflow.com/questions/65865/whats-the-easiest-way-to-install-a-missing-perl-module\" title=\"whats the easiest way to install a missing perl module\">stackoverflow.com/questions/65865/&hellip;</a>"}], "answers": [{"comments": [{"owner": {"reputation": 35, "user_id": 2940251, "user_type": "registered", "accept_rate": 50, "profile_image": "https://www.gravatar.com/avatar/3b0aeba8011d6871d2835c5b37e30656?s=128&d=identicon&r=PG&f=1", "display_name": "Navaneeth Cp", "link": "https://stackoverflow.com/users/2940251/navaneeth-cp"}, "edited": false, "score": 0, "creation_date": 1455876616, "post_id": 35502066, "comment_id": 58696354, "body": "How can I install File::Find::Rule module ?"}, {"owner": {"reputation": 4514, "user_id": 4248931, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/HijcJ.png?s=128&g=1", "display_name": "serenesat", "link": "https://stackoverflow.com/users/4248931/serenesat"}, "reply_to_user": {"reputation": 35, "user_id": 2940251, "user_type": "registered", "accept_rate": 50, "profile_image": "https://www.gravatar.com/avatar/3b0aeba8011d6871d2835c5b37e30656?s=128&d=identicon&r=PG&f=1", "display_name": "Navaneeth Cp", "link": "https://stackoverflow.com/users/2940251/navaneeth-cp"}, "edited": false, "score": 0, "creation_date": 1455879703, "post_id": 35502066, "comment_id": 58698449, "body": "There are several question on SO about how to install module. Please search. Read this -&gt; <a href=\"http://perlmaven.com/how-to-install-a-perl-module-from-cpan\" rel=\"nofollow noreferrer\">perlmaven.com/how-to-install-a-perl-module-from-cpan</a> and this -&gt; <a href=\"http://stackoverflow.com/q/65865/4248931\">stackoverflow.com/q/65865/4248931</a>"}], "tags": [], "owner": {"reputation": 4514, "user_id": 4248931, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/HijcJ.png?s=128&g=1", "display_name": "serenesat", "link": "https://stackoverflow.com/users/4248931/serenesat"}, "is_accepted": false, "score": 2, "last_activity_date": 1455875040, "creation_date": 1455875040, "answer_id": 35502066, "question_id": 35501793, "link": "https://stackoverflow.com/questions/35501793/cant-locate-file-find-rule-pm-in-inc/35502066#35502066", "title": "Can&#39;t locate File/Find/Rule.pm in @INC", "body": "<p><code>File::Find::Rule</code> module is not install in your system where you are executing your Perl script. Install that module.</p>\n\n<p>Other things in your code is shebang line start with <code>#!</code> not with <code>!#</code>:</p>\n\n<pre><code>#!/usr/bin/perl\n</code></pre>\n\n<p>Use <code>use warnings;</code> or <code>-w</code>, not both.</p>\n"}], "owner": {"reputation": 35, "user_id": 2940251, "user_type": "registered", "accept_rate": 50, "profile_image": "https://www.gravatar.com/avatar/3b0aeba8011d6871d2835c5b37e30656?s=128&d=identicon&r=PG&f=1", "display_name": "Navaneeth Cp", "link": "https://stackoverflow.com/users/2940251/navaneeth-cp"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 4001, "favorite_count": 0, "closed_date": 1455883483, "answer_count": 1, "score": -2, "last_activity_date": 1455875040, "creation_date": 1455874300, "last_edit_date": 1455874812, "question_id": 35501793, "link": "https://stackoverflow.com/questions/35501793/cant-locate-file-find-rule-pm-in-inc", "closed_reason": "Duplicate", "title": "Can&#39;t locate File/Find/Rule.pm in @INC", "body": "<pre><code>!#/usr/bin/perl -w  \nuse strict;  \nuse warnings;  \nuse File::Find::Rule;  \nmy $finder=File::Find::Rule-&gt;directory-&gt;in($directory);  \n</code></pre>\n\n<p>Warning is</p>\n\n<pre><code>Can't locate File/Find/Rule.pm in @INC  \n(@INC contains: /usr/lib64/perl5/site_perl/5.8.8/x86_64-linux-thread-multi /usr/lib/perl5/site_perl/5.8.8 /usr/lib/perl5/site_perl /usr/lib64/perl5/vendor_perl/5.8.8/x86_64-linux-thread-multi /usr/lib/perl5/vendor_perl/5.8.8 /usr/lib/perl5/vendor_perl /usr/lib64/perl5/5.8.8/x86_64-linux-thread-multi /usr/lib/perl5/5.8.8 .) at ./test.pl line 4.  \nBEGIN failed--compilation aborted at ./test.pl line 4.\n</code></pre>\n"}, {"tags": ["perl", "unicode"], "comments": [{"owner": {"reputation": 19, "user_id": 5950195, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/167a76258a1eab411082791565c74fad?s=128&d=identicon&r=PG&f=1", "display_name": "Mike Patterson", "link": "https://stackoverflow.com/users/5950195/mike-patterson"}, "edited": false, "score": 0, "creation_date": 1456078005, "post_id": 35501577, "comment_id": 58768312, "body": "I have implemented Encode::encode.  So far so good.  thank you."}], "answers": [{"tags": [], "owner": {"reputation": 19681, "user_id": 936986, "user_type": "registered", "accept_rate": 62, "profile_image": "https://www.gravatar.com/avatar/075f0ea7418371ace9bba5b901409ab1?s=128&d=identicon&r=PG", "display_name": "Oleg V. Volkov", "link": "https://stackoverflow.com/users/936986/oleg-v-volkov"}, "is_accepted": false, "score": 1, "last_activity_date": 1455883641, "last_edit_date": 1455883641, "creation_date": 1455880260, "answer_id": 35503880, "question_id": 35501577, "link": "https://stackoverflow.com/questions/35501577/perl-fastcgi-httpmessage-content-must-be-bytes-at/35503880#35503880", "title": "Perl Fastcgi - HTTP::Message content must be bytes at", "body": "<p>Error message is pretty much telling you all about it: content for <code>HTTP::Response</code> object that you provide with <code>$response</code> variable must be bytes - i.e. a buffer without any characters outside 0-255 range. Use <a href=\"http://p3rl.org/Encode#encode\" rel=\"nofollow\"><code>Encode::encode</code></a> to transform it from Perl internal representation to whatever encoding required for your protocol.</p>\n\n<p>By the way, this has nothing to do with <code>fastcgi</code>. The first error cause the script to die without emitting a response, resulting in the second error message.</p>\n"}], "owner": {"reputation": 19, "user_id": 5950195, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/167a76258a1eab411082791565c74fad?s=128&d=identicon&r=PG&f=1", "display_name": "Mike Patterson", "link": "https://stackoverflow.com/users/5950195/mike-patterson"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 396, "favorite_count": 0, "answer_count": 1, "score": 0, "last_activity_date": 1455883641, "creation_date": 1455873532, "last_edit_date": 1592644375, "question_id": 35501577, "link": "https://stackoverflow.com/questions/35501577/perl-fastcgi-httpmessage-content-must-be-bytes-at", "title": "Perl Fastcgi - HTTP::Message content must be bytes at", "body": "<p>I am getting the following errors:</p>\n<blockquote>\n<p>[Fri Feb 19 08:55:41 2016] [error] [client 172.16.30.100] FastCGI:\nserver &quot;/home/admin/soap/server.fcgi&quot; stderr: HTTP::Message content\nmust be bytes at\n/usr/local/lib/perl5/site_perl/5.8.9/SOAP/Transport/HTTP.pm line 317</p>\n<p>[Fri Feb 19 08:55:41 2016] [error] [client 172.16.30.100] FastCGI:\nincomplete headers (0 bytes) received from server\n&quot;/home/admin/soap/server.fcgi&quot; [Fri Feb 19 08:55:41 2016] [warn]\nFastCGI: server &quot;/home/admin/soap/server.fcgi&quot; (pid 45466) terminated\nby calling exit with status '255'</p>\n</blockquote>\n<p>Here is line 317 of HTTP.pm  I appreciate any input on a fix.</p>\n<pre><code>$self-&gt;response(HTTP::Response-&gt;new(\n$code =&gt; undef,\nHTTP::Headers-&gt;new(\n    'SOAPServer' =&gt; $self-&gt;product_tokens,\n     $compressed ? (\n         'Content-Encoding' =&gt; $COMPRESS) : (),\n         'Content-Type' =&gt; join(\n             '; ',\n             'text/xml', \n             !$SOAP::Constants::DO_NOT_USE_CHARSET &amp;&amp; $encoding ? 'charset=' . lc($encoding) : ()\n         ),\n         'Content-Length' =&gt; SOAP::Utils::bytelength $response),\n     $response,\n));\n$self-&gt;response-&gt;headers-&gt;header('Content-Type' =&gt; 'Multipart/Related;       type=&quot;text/xml&quot;; start=&quot;&lt;main_envelope&gt;&quot;; boundary=&quot;'.$is_multipart.'&quot;') if   $is_multipart; }\n</code></pre>\n"}, {"tags": ["perl", "shell", "unix", "scripting"], "comments": [{"owner": {"reputation": 7086, "user_id": 3461955, "user_type": "registered", "accept_rate": 60, "profile_image": "https://i.stack.imgur.com/4FV5L.png?s=128&g=1", "display_name": "KittMedia", "link": "https://stackoverflow.com/users/3461955/kittmedia"}, "edited": false, "score": 1, "creation_date": 1455870427, "post_id": 35500532, "comment_id": 58692630, "body": "What did you try so far?"}, {"owner": {"reputation": 1, "user_id": 5949988, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/ede759cc369b46b1cf69b44f547d2edb?s=128&d=identicon&r=PG&f=1", "display_name": "San Mani", "link": "https://stackoverflow.com/users/5949988/san-mani"}, "reply_to_user": {"reputation": 7086, "user_id": 3461955, "user_type": "registered", "accept_rate": 60, "profile_image": "https://i.stack.imgur.com/4FV5L.png?s=128&g=1", "display_name": "KittMedia", "link": "https://stackoverflow.com/users/3461955/kittmedia"}, "edited": false, "score": 0, "creation_date": 1455870742, "post_id": 35500532, "comment_id": 58692796, "body": "hve tried to use awk to create a pattern but since the number of lines between the records vary, not able to get a proper output"}], "answers": [{"comments": [{"owner": {"reputation": 1, "user_id": 5949988, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/ede759cc369b46b1cf69b44f547d2edb?s=128&d=identicon&r=PG&f=1", "display_name": "San Mani", "link": "https://stackoverflow.com/users/5949988/san-mani"}, "edited": false, "score": 0, "creation_date": 1455872944, "post_id": 35501150, "comment_id": 58693947, "body": "I have some knowledge of perl though not as advanced as to write something like this.. Do you have any command or set of commands in mind, so that I can look it up?"}, {"owner": {"reputation": 1, "user_id": 5949988, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/ede759cc369b46b1cf69b44f547d2edb?s=128&d=identicon&r=PG&f=1", "display_name": "San Mani", "link": "https://stackoverflow.com/users/5949988/san-mani"}, "edited": false, "score": 0, "creation_date": 1455873475, "post_id": 35501150, "comment_id": 58694269, "body": "And also I need to embed it into unix script as that is the requirement, but I know we can embed a perl script into it"}, {"owner": {"reputation": 11741, "user_id": 1934428, "user_type": "registered", "accept_rate": 86, "profile_image": "https://www.gravatar.com/avatar/072774c5d4204a1c2385560e6114a887?s=128&d=identicon&r=PG", "display_name": "user1934428", "link": "https://stackoverflow.com/users/1934428/user1934428"}, "reply_to_user": {"reputation": 1, "user_id": 5949988, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/ede759cc369b46b1cf69b44f547d2edb?s=128&d=identicon&r=PG&f=1", "display_name": "San Mani", "link": "https://stackoverflow.com/users/5949988/san-mani"}, "edited": false, "score": 0, "creation_date": 1455888431, "post_id": 35501150, "comment_id": 58703758, "body": "@SanMani: I suggest you start writing the Perl program and post in a separate posting (tagged with &#39;perl&#39;) where you get stuck. You can find for instance <a href=\"http://perlmaven.com/open-and-read-from-files\" rel=\"nofollow noreferrer\">here</a> how to process a file using Perl:"}], "tags": [], "owner": {"reputation": 11741, "user_id": 1934428, "user_type": "registered", "accept_rate": 86, "profile_image": "https://www.gravatar.com/avatar/072774c5d4204a1c2385560e6114a887?s=128&d=identicon&r=PG", "display_name": "user1934428", "link": "https://stackoverflow.com/users/1934428/user1934428"}, "is_accepted": false, "score": 0, "last_activity_date": 1455872232, "creation_date": 1455872232, "answer_id": 35501150, "question_id": 35500532, "link": "https://stackoverflow.com/questions/35500532/unix-shell-scripting-delete-multiple-lines-from-a-file-based-on-a-pattern/35501150#35501150", "title": "Unix shell scripting - delete multiple lines from a file based on a pattern", "body": "<p>Aside of header and trailer line, your file consists of blocks. Each block starts with a 0010 line and ends with a 0070 line. </p>\n\n<p>One straightforward algorithm would be to always read one whole block into memory, and write it out only if the 0012 line (denoting the roll number) is not one of the roll numbers to be deleted.</p>\n\n<p>You are tagging this question by \"shell\". However, while a solution using just, i.e., bash or zsh is technically possible, I think it's much easier to use a more flexible language for this - Ruby, Perl, Python etc.  Maybe you can tag the problem with the language of your choice?</p>\n\n<p>If you are not familiar yet with one of those languages, my personal recommendation would be Ruby, because I find it quick to learn; but all of them are equally well suitable for this problem.</p>\n"}], "owner": {"reputation": 1, "user_id": 5949988, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/ede759cc369b46b1cf69b44f547d2edb?s=128&d=identicon&r=PG&f=1", "display_name": "San Mani", "link": "https://stackoverflow.com/users/5949988/san-mani"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 170, "favorite_count": 0, "answer_count": 1, "score": -3, "last_activity_date": 1455877245, "creation_date": 1455870117, "last_edit_date": 1455877245, "question_id": 35500532, "link": "https://stackoverflow.com/questions/35500532/unix-shell-scripting-delete-multiple-lines-from-a-file-based-on-a-pattern", "title": "Unix shell scripting - delete multiple lines from a file based on a pattern", "body": "<p>The format of the file is:</p>\n\n<pre><code>header - like 0001datetime|number of records\n0010 some data\n0012 Roll number (eg)\n0020 some data\n.\n.\n.\n0070 some data\n0010 some data\n0012 Roll number (eg)\n0020 some data\n.\n.\n.\n0070 some data\ntrailer - like 0099datetime|numberof records\n</code></pre>\n\n<p><strong>Requirement -</strong> A list of Roll numbers will be given and the the records (0010-0070) needs to be removed for those numbers. There might be any number of fields between <strong>0010</strong> and <strong>0070</strong> but <strong>roll number is always at 0012</strong>. </p>\n\n<p>Each record always starts with 0010 and end with 0070.</p>\n\n<p>Could anyone please help with this?</p>\n"}, {"tags": ["perl", "introspection"], "comments": [{"owner": {"reputation": 51521, "user_id": 2566198, "user_type": "registered", "accept_rate": 67, "profile_image": "https://i.stack.imgur.com/Y34ZA.jpg?s=128&g=1", "display_name": "Sobrique", "link": "https://stackoverflow.com/users/2566198/sobrique"}, "edited": false, "score": 0, "creation_date": 1456048370, "post_id": 35498234, "comment_id": 58757887, "body": "<a href=\"http://perldoc.perl.org/UNIVERSAL.html\" rel=\"nofollow noreferrer\">perldoc.perl.org/UNIVERSAL.html</a> has some interesting stuff.  Like the <code>can</code> method. Might be worth looking at autoload too though, which might give an idea why this is hard."}], "answers": [{"comments": [{"owner": {"reputation": 1348, "user_id": 1811317, "user_type": "registered", "accept_rate": 75, "profile_image": "https://www.gravatar.com/avatar/09c33846082cd28153cc47f4e3e2695e?s=128&d=identicon&r=PG", "display_name": "MKaama", "link": "https://stackoverflow.com/users/1811317/mkaama"}, "edited": false, "score": 0, "creation_date": 1455864306, "post_id": 35498454, "comment_id": 58689613, "body": "Since Perl methods can be dynamically generated, that is exactly why I want a run-time tool. I thought Perl does support introspection, e.g. <a href=\"http://stackoverflow.com/questions/10142530/how-can-i-perform-introspection-in-perl\" title=\"how can i perform introspection in perl\">stackoverflow.com/questions/10142530/&hellip;</a> . use Help &#39;Modulename&#39;; also seems promising."}, {"owner": {"reputation": 21782, "user_id": 176646, "user_type": "registered", "accept_rate": 88, "profile_image": "https://i.stack.imgur.com/HsQyV.png?s=128&g=1", "display_name": "ThisSuitIsBlackNot", "link": "https://stackoverflow.com/users/176646/thissuitisblacknot"}, "reply_to_user": {"reputation": 1348, "user_id": 1811317, "user_type": "registered", "accept_rate": 75, "profile_image": "https://www.gravatar.com/avatar/09c33846082cd28153cc47f4e3e2695e?s=128&d=identicon&r=PG", "display_name": "MKaama", "link": "https://stackoverflow.com/users/1811317/mkaama"}, "edited": false, "score": 0, "creation_date": 1455893112, "post_id": 35498454, "comment_id": 58706876, "body": "@MKaama If a method isn&#39;t documented then it&#39;s not part of the module&#39;s public API and it could change at any time. The documentation is the only tool you should be using for this."}], "tags": [], "owner": {"reputation": 715, "user_id": 4630350, "user_type": "registered", "profile_image": "https://lh4.googleusercontent.com/--Dv4_vchBTQ/AAAAAAAAAAI/AAAAAAAAAAA/JlAVdHNIOdg/photo.jpg?sz=128", "display_name": "Q the Platypus", "link": "https://stackoverflow.com/users/4630350/q-the-platypus"}, "is_accepted": false, "score": 2, "last_activity_date": 1455862183, "creation_date": 1455862183, "answer_id": 35498454, "question_id": 35498234, "link": "https://stackoverflow.com/questions/35498234/how-to-explore-an-object-in-perl/35498454#35498454", "title": "How to explore an object in perl?", "body": "<p>HTTP::Daemon documents the methods it supports <a href=\"http://search.cpan.org/~gaas/HTTP-Daemon-6.01/lib/HTTP/Daemon.pm\" rel=\"nofollow\">http://search.cpan.org/~gaas/HTTP-Daemon-6.01/lib/HTTP/Daemon.pm</a> .  It also supports all the IO::Socket::INET methods via inheritance.</p>\n\n<p>However on the more general question of how you can examine in general to see what methods a Perl class exposes the answer is you can't.  In Perl methods can be dynamically generated at runtime so there is no tool that can examine an object and tell you what methods are supported. </p>\n"}, {"comments": [{"owner": {"reputation": 1348, "user_id": 1811317, "user_type": "registered", "accept_rate": 75, "profile_image": "https://www.gravatar.com/avatar/09c33846082cd28153cc47f4e3e2695e?s=128&d=identicon&r=PG", "display_name": "MKaama", "link": "https://stackoverflow.com/users/1811317/mkaama"}, "edited": false, "score": 0, "creation_date": 1455927743, "post_id": 35515501, "comment_id": 58725521, "body": "Closely inspecting my code, you might notice, that I am already using Data::Printer, but it did not reveal any meaningful details. However, Class::Inspector did! You might want to write an answer about that."}], "tags": [], "owner": {"reputation": 2177, "user_id": 3124587, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/adc0af022f8a3b35bcde0a4405e4c673?s=128&d=identicon&r=PG&f=1", "display_name": "Joshua", "link": "https://stackoverflow.com/users/3124587/joshua"}, "is_accepted": false, "score": 1, "last_activity_date": 1455917754, "creation_date": 1455917754, "answer_id": 35515501, "question_id": 35498234, "link": "https://stackoverflow.com/questions/35498234/how-to-explore-an-object-in-perl/35515501#35515501", "title": "How to explore an object in perl?", "body": "<p><code>Data::Printer</code> is much more useful than <code>Data::Dumper</code>. It shows the internal structure of objects including all methods. You will need to install it from CPAN.</p>\n\n<pre><code>use Data::Printer; # or just \"use DDP;\" for short\n\nmy $obj = SomeClass-&gt;new;\np($obj);\n</code></pre>\n\n<p>Which might give you something like:</p>\n\n<pre><code>\\ SomeClass  {\n    Parents       Moose::Object\n    Linear @ISA   SomeClass, Moose::Object\n    public methods (3) : bar, foo, meta\n    private methods (0)\n    internals: {\n       _something =&gt; 42,\n    }\n}\n</code></pre>\n"}], "owner": {"reputation": 1348, "user_id": 1811317, "user_type": "registered", "accept_rate": 75, "profile_image": "https://www.gravatar.com/avatar/09c33846082cd28153cc47f4e3e2695e?s=128&d=identicon&r=PG", "display_name": "MKaama", "link": "https://stackoverflow.com/users/1811317/mkaama"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 162, "favorite_count": 0, "answer_count": 2, "score": 2, "last_activity_date": 1455917754, "creation_date": 1455861102, "question_id": 35498234, "link": "https://stackoverflow.com/questions/35498234/how-to-explore-an-object-in-perl", "title": "How to explore an object in perl?", "body": "<p>I have this Perl code:</p>\n\n<pre><code>use HTTP::Daemon;\nuse Data::Printer;\nmy $d = HTTP::Daemon-&gt;new( \n    LocalHost =&gt; \"localhost\",\n    LocalPort =&gt; 8080\n) || die;\nwhile (my $c = $d-&gt;accept) {\n    print ref $c;\n    print $c;\n    print %{*$c};\n    p $c;\n    print $c-&gt;sockhost . \"\\n\"\n}\n</code></pre>\n\n<p>The returned object $c is \"HTTP::Daemon::ClientConn=GLOB(0x85543d8)\".\nOriginal code indicates, there is a <strong>sockhost</strong> member, but I wonder what other members it might have? None of my printing efforts helped. Even <a href=\"https://metacpan.org/pod/HTTP::Daemon::ClientConn\" rel=\"nofollow\">meta::CPAN</a> page is silent, but I want a general solution in code to reveal what <strong>$c</strong> is. For reference, I have Perl v5.12.4.</p>\n"}, {"tags": ["perl", "cpan", "mojolicious"], "comments": [{"owner": {"reputation": 89568, "user_id": 3081018, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/Z2NYm.png?s=128&g=1", "display_name": "Steffen Ullrich", "link": "https://stackoverflow.com/users/3081018/steffen-ullrich"}, "edited": false, "score": 0, "creation_date": 1455861168, "post_id": 35498079, "comment_id": 58688370, "body": "I think your question should make clear if you are asking about client support for SNI (i.e. sending the server name in the ClientHello) or server support, i.e. making a multi-site Mojolicious server provide different certificates depending on which site the client requested. While the latter can be implemented with IO::Socket::SSL I&#39;m not sure if Mojolicious provides a way to use it."}, {"owner": {"reputation": 121105, "user_id": 2766176, "user_type": "registered", "accept_rate": 61, "profile_image": "https://www.gravatar.com/avatar/edd8638efe875601bfe394a8aea5b16d?s=128&d=identicon&r=PG", "display_name": "brian d foy", "link": "https://stackoverflow.com/users/2766176/brian-d-foy"}, "reply_to_user": {"reputation": 89568, "user_id": 3081018, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/Z2NYm.png?s=128&g=1", "display_name": "Steffen Ullrich", "link": "https://stackoverflow.com/users/3081018/steffen-ullrich"}, "edited": false, "score": 0, "creation_date": 1455861691, "post_id": 35498079, "comment_id": 58688581, "body": "Answers for client and server would be the best."}], "answers": [{"comments": [{"owner": {"reputation": 89568, "user_id": 3081018, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/Z2NYm.png?s=128&g=1", "display_name": "Steffen Ullrich", "link": "https://stackoverflow.com/users/3081018/steffen-ullrich"}, "edited": false, "score": 0, "creation_date": 1455861303, "post_id": 35498198, "comment_id": 58688430, "body": "IO::Socket::SSL alone cannot do it. It needs to know the hostname it should add to the SSL handshake. If the name is given as PeerAddr it will be used but if only the IP address is given or an existing TCP sockets gets upgraded the name must be usually given explicitly with <code>SSL_hostname</code>. And that&#39;s what Mojo::IOLoop::Client is actually doing."}, {"owner": {"reputation": 121105, "user_id": 2766176, "user_type": "registered", "accept_rate": 61, "profile_image": "https://www.gravatar.com/avatar/edd8638efe875601bfe394a8aea5b16d?s=128&d=identicon&r=PG", "display_name": "brian d foy", "link": "https://stackoverflow.com/users/2766176/brian-d-foy"}, "reply_to_user": {"reputation": 89568, "user_id": 3081018, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/Z2NYm.png?s=128&g=1", "display_name": "Steffen Ullrich", "link": "https://stackoverflow.com/users/3081018/steffen-ullrich"}, "edited": false, "score": 0, "creation_date": 1455861932, "post_id": 35498198, "comment_id": 58688675, "body": "I&#39;m not down with the answer yet. However, I&#39;m not concerned about how it actually happens, just what I need to install and setup for it to happen."}], "tags": [], "owner": {"reputation": 121105, "user_id": 2766176, "user_type": "registered", "accept_rate": 61, "profile_image": "https://www.gravatar.com/avatar/edd8638efe875601bfe394a8aea5b16d?s=128&d=identicon&r=PG", "display_name": "brian d foy", "link": "https://stackoverflow.com/users/2766176/brian-d-foy"}, "is_accepted": true, "score": 6, "last_activity_date": 1461508492, "last_edit_date": 1461508492, "creation_date": 1455860974, "answer_id": 35498198, "question_id": 35498079, "link": "https://stackoverflow.com/questions/35498079/how-do-i-set-up-sni-support-for-mojolicious/35498198#35498198", "title": "How do I set up SNI support for Mojolicious?", "body": "<p>First, it's not Mojolicious (or LWP or whatever) that supports SNI. It's <a href=\"http://www.metacpan.org/module/IO::Socket::SSL\" rel=\"nofollow\">IO::Socket::SSL</a>, but not really, because it's <a href=\"http://www.metacpan.org/module/Net::SSLeay\" rel=\"nofollow\">Net::SSLeay</a>, but not really because it's your version of <a href=\"https://www.openssl.org\" rel=\"nofollow\">openssl</a>.</p>\n\n<ul>\n<li>Install <a href=\"https://www.openssl.org\" rel=\"nofollow\">openssl</a> 1.0 or later. You probably want to use the <code>--prefix</code> option to configure to install it in a fresh directory so you don't disturb what you already have and on which other things depend.</li>\n<li>Update <a href=\"http://www.metacpan.org/module/Net::SSLeay\" rel=\"nofollow\">Net::SSLeay</a> to compile it against the new openssl. You need version 1.50 or later. The issue here is that a later <a href=\"http://www.metacpan.org/module/Net::SSLeay\" rel=\"nofollow\">Net::SSLeay</a> will happily work with an older <a href=\"https://www.openssl.org\" rel=\"nofollow\">openssl</a>. Upgrading the module does not get you the new openssl.</li>\n<li>Update <a href=\"http://www.metacpan.org/module/IO::Socket::SSL\" rel=\"nofollow\">IO::Socket::SSL</a> to 1.56 or later. The earliest release is from 2012, so you should update anyway.</li>\n<li>Mojolicious 2.83 (released in 2012, so old) added SNI support for clients, and Mojolicious 6.40 (a month ago) added it for all web servers.</li>\n</ul>\n\n<p>You can find this info by looking in the <em>Changes</em> file for each module, but while we're here, let's get <a href=\"http://www.metacpan.org/module/Net::SSLeay\" rel=\"nofollow\">Net::SSLeay</a> sorted with it's not as simple as installing the module.</p>\n\n<p>Some things you have to pay attention to:</p>\n\n<ul>\n<li>You need to compile perl, openssl, and <a href=\"http://www.metacpan.org/module/Net::SSLeay\" rel=\"nofollow\">Net::SSLeay</a> with the same tools so that they are binary compatible.</li>\n</ul>\n\n<p>Use the <code>OPENSSL_PREFIX</code> variable to tell <code>cpan</code> (and the stuff it runs) where to find the right <a href=\"https://www.openssl.org\" rel=\"nofollow\">openssl</a>.</p>\n\n<pre><code> $ export OPENSSL_PREFIX=/usr/local/ssl\n $ cpan Net::SSLeay IO::Socket::SSL\n</code></pre>\n\n<p>If you already have the latest <a href=\"http://www.metacpan.org/module/Net::SSLeay\" rel=\"nofollow\">Net::SSLeay</a> but compiled against an older version of openssl, you can force install the module to recompile it even though <code>cpan</code> thinks its up-to-date:</p>\n\n<pre><code> $ cpan -f Net::SSLeay IO::Socket::SSL\n</code></pre>\n\n<p><a href=\"http://www.metacpan.org/module/IO::Socket::SSL\" rel=\"nofollow\">IO::Socket::SSL</a> has methods to check this (added in 1.84):</p>\n\n<pre><code> $ /usr/local/ssl/bin/openssl version\n OpenSSL 1.0.1r  28 Jan 2016\n $ perl -MIO::Socket::SSL -le 'print IO::Socket::SSL-&gt;VERSION'\n 2.024\n $ perl -MIO::Socket::SSL -le 'print IO::Socket::SSL-&gt;can_client_sni'\n 1\n</code></pre>\n"}, {"comments": [{"owner": {"reputation": 121105, "user_id": 2766176, "user_type": "registered", "accept_rate": 61, "profile_image": "https://www.gravatar.com/avatar/edd8638efe875601bfe394a8aea5b16d?s=128&d=identicon&r=PG", "display_name": "brian d foy", "link": "https://stackoverflow.com/users/2766176/brian-d-foy"}, "edited": false, "score": 0, "creation_date": 1455867515, "post_id": 35499823, "comment_id": 58691195, "body": "I&#39;m not looking for other solutions or a workaround."}], "tags": [], "owner": {"reputation": 402, "user_id": 3631856, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/aUUwT.jpg?s=128&g=1", "display_name": "Helmut Wollmersdorfer", "link": "https://stackoverflow.com/users/3631856/helmut-wollmersdorfer"}, "is_accepted": false, "score": -1, "last_activity_date": 1455867224, "creation_date": 1455867224, "answer_id": 35499823, "question_id": 35498079, "link": "https://stackoverflow.com/questions/35498079/how-do-i-set-up-sni-support-for-mojolicious/35499823#35499823", "title": "How do I set up SNI support for Mojolicious?", "body": "<p>Not a direct answer to the question but a maybe better solution.</p>\n\n<p>From my experience as an admin of shared hosting of ~400 domains, it's more convenient to configure SSL in Apache, and have Mojolicious running under mod_perl2.</p>\n\n<p>Putting too much (network) configuration into the application is always a pain in the long run. In many cases multidomain applications can also become inconvenient.</p>\n\n<p>Have configuration in Apache allows management by standard scripts, e.g. renewal of SSL-certs from letsencrypt.</p>\n\n<p>Of course there can be strong reasons and special requirements for other setups worth the extra work.</p>\n"}], "owner": {"reputation": 121105, "user_id": 2766176, "user_type": "registered", "accept_rate": 61, "profile_image": "https://www.gravatar.com/avatar/edd8638efe875601bfe394a8aea5b16d?s=128&d=identicon&r=PG", "display_name": "brian d foy", "link": "https://stackoverflow.com/users/2766176/brian-d-foy"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 362, "favorite_count": 1, "accepted_answer_id": 35498198, "answer_count": 2, "score": 6, "last_activity_date": 1461508492, "creation_date": 1455860479, "last_edit_date": 1495542289, "question_id": 35498079, "link": "https://stackoverflow.com/questions/35498079/how-do-i-set-up-sni-support-for-mojolicious", "title": "How do I set up SNI support for Mojolicious?", "body": "<p>Perl's <a href=\"http://www.mojolicio.us\" rel=\"nofollow noreferrer\">Mojolicious</a> supports <a href=\"https://en.wikipedia.org/wiki/Server_Name_Indication\" rel=\"nofollow noreferrer\">Server Name Identification (SNI)</a>, which some web servers use to host several sites with one HTTPS certificate. I'm working on a system that's not set up to use this, and googling a bit doesn't turn up anything that makes the process clear and the various parts apparent. The StackOverflow question <a href=\"https://stackoverflow.com/q/25533285/2766176\">Perl LWP GET or POST to an SNI SSL URL</a> mentions a few things.</p>\n\n<p>So, what's everything I need to do?</p>\n"}, {"tags": ["perl", "plugins", "module"], "comments": [{"owner": {"reputation": 6592, "user_id": 3005251, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/a5331f7e467aae3d581fe8bc814ef572?s=128&d=identicon&r=PG", "display_name": "bolav", "link": "https://stackoverflow.com/users/3005251/bolav"}, "edited": false, "score": 0, "creation_date": 1455870508, "post_id": 35497879, "comment_id": 58692663, "body": "What error message do you get?"}, {"owner": {"reputation": 13, "user_id": 5949338, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/4e093a5946a9556b798cab57bf862b95?s=128&d=identicon&r=PG", "display_name": "Goldstein", "link": "https://stackoverflow.com/users/5949338/goldstein"}, "reply_to_user": {"reputation": 6592, "user_id": 3005251, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/a5331f7e467aae3d581fe8bc814ef572?s=128&d=identicon&r=PG", "display_name": "bolav", "link": "https://stackoverflow.com/users/3005251/bolav"}, "edited": false, "score": 0, "creation_date": 1455900091, "post_id": 35497879, "comment_id": 58711624, "body": "It die only if I keep &#39;or die&#39; part."}], "answers": [{"comments": [{"owner": {"reputation": 13, "user_id": 5949338, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/4e093a5946a9556b798cab57bf862b95?s=128&d=identicon&r=PG", "display_name": "Goldstein", "link": "https://stackoverflow.com/users/5949338/goldstein"}, "edited": false, "score": 0, "creation_date": 1455888050, "post_id": 35500708, "comment_id": 58703538, "body": "Yes, plugins::Blank::hw works, but Package::hw not. Cause module and sub name I&#39;m reading from config file, I need to can call sub from module without knowing module name on compile stage."}, {"owner": {"reputation": 6592, "user_id": 3005251, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/a5331f7e467aae3d581fe8bc814ef572?s=128&d=identicon&r=PG", "display_name": "bolav", "link": "https://stackoverflow.com/users/3005251/bolav"}, "reply_to_user": {"reputation": 13, "user_id": 5949338, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/4e093a5946a9556b798cab57bf862b95?s=128&d=identicon&r=PG", "display_name": "Goldstein", "link": "https://stackoverflow.com/users/5949338/goldstein"}, "edited": false, "score": 0, "creation_date": 1455907640, "post_id": 35500708, "comment_id": 58716124, "body": "I updated my answer a bit. Maybe you should update your question to ask what you really want to know."}, {"owner": {"reputation": 13, "user_id": 5949338, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/4e093a5946a9556b798cab57bf862b95?s=128&d=identicon&r=PG", "display_name": "Goldstein", "link": "https://stackoverflow.com/users/5949338/goldstein"}, "edited": false, "score": 0, "creation_date": 1455908546, "post_id": 35500708, "comment_id": 58716636, "body": "Thank you, that&#39;s exactly what I wanted."}], "tags": [], "owner": {"reputation": 6592, "user_id": 3005251, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/a5331f7e467aae3d581fe8bc814ef572?s=128&d=identicon&r=PG", "display_name": "bolav", "link": "https://stackoverflow.com/users/3005251/bolav"}, "is_accepted": true, "score": 0, "last_activity_date": 1455907609, "last_edit_date": 1455907609, "creation_date": 1455870849, "answer_id": 35500708, "question_id": 35497879, "link": "https://stackoverflow.com/questions/35497879/perl-moduleload-fails/35500708#35500708", "title": "Perl Module::Load fails", "body": "<p><code>Module::Load::load_remote</code> dies when failing, but does not return anything. Your example works fine for me, and the package is loaded. If it doesn't load the package it should die inside <code>load_remote</code>. <code>load_remote</code> only loads the functions that are exported into the other namespace. It also only seem to work if the other module is loaded as a module name, instead of a filename:</p>\n\n<p><code>load.pl</code>:</p>\n\n<pre><code>#!/usr/bin/perl\n\nuse strict;\nuse warnings;\nuse Module::Load;\n\nModule::Load::load_remote(\"Package\",\"plugins::Blank\",\"hw\");\nPackage::hw();\n</code></pre>\n\n<p><code>plugins/Blank.pm</code>:</p>\n\n<pre><code>package plugins::Blank;\n\nuse strict;\nuse warnings;\nuse Exporter qw(import);\n\nour @EXPORT_OK = qw(hw);\n\nsub hw {\n    print \"Hello World\\n\";\n}\n\n1;\n</code></pre>\n\n<p>Outputs:</p>\n\n<blockquote>\n  <p>Hello World</p>\n</blockquote>\n\n<p>But to achieve what you want you can probably use an approach like this:</p>\n\n<pre><code>#!/usr/bin/perl\n\nuse strict;\nuse warnings;\nuse Module::Load;\n\nmy $pkg = 'plugins::Blank';\nModule::Load::load($pkg);\n$pkg-&gt;hw();\n</code></pre>\n"}], "owner": {"reputation": 13, "user_id": 5949338, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/4e093a5946a9556b798cab57bf862b95?s=128&d=identicon&r=PG", "display_name": "Goldstein", "link": "https://stackoverflow.com/users/5949338/goldstein"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 100, "favorite_count": 0, "accepted_answer_id": 35500708, "answer_count": 1, "score": 1, "last_activity_date": 1455907609, "creation_date": 1455859437, "question_id": 35497879, "link": "https://stackoverflow.com/questions/35497879/perl-moduleload-fails", "title": "Perl Module::Load fails", "body": "<p>I tried to using Module::Load to dynamically load plugin from directory, but it doesn't work, even after maximal simplifing the code.\nMain file:</p>\n\n<pre><code>#!/usr/bin/perl\n\nuse strict;\nuse warnings;\nuse Module::Load;\n\nModule::Load::load_remote('Package', 'plugins/Blank.pm') or die;\n</code></pre>\n\n<p>plugins/Blank.pm:</p>\n\n<pre><code>#!/usr/bin/perl\n\npackage plugins::Blank;\n\nuse strict;\nuse warnings;\n\n1;\n</code></pre>\n\n<p>But it still die. When i remove '...or die' part, it no dies, but Package still not loaded.</p>\n"}, {"tags": ["perl"], "comments": [{"owner": {"reputation": 6258, "user_id": 82262, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/8ce15931410b388a52eb2df4a864137f?s=128&d=identicon&r=PG&f=1", "display_name": "Matt Jacob", "link": "https://stackoverflow.com/users/82262/matt-jacob"}, "edited": false, "score": 3, "creation_date": 1455859645, "post_id": 35497754, "comment_id": 58687779, "body": "And what have you tried so far?"}, {"owner": {"reputation": 715, "user_id": 4630350, "user_type": "registered", "profile_image": "https://lh4.googleusercontent.com/--Dv4_vchBTQ/AAAAAAAAAAI/AAAAAAAAAAA/JlAVdHNIOdg/photo.jpg?sz=128", "display_name": "Q the Platypus", "link": "https://stackoverflow.com/users/4630350/q-the-platypus"}, "edited": false, "score": 0, "creation_date": 1455861189, "post_id": 35497754, "comment_id": 58688376, "body": "It would help us if you could give an example of the code you have tried so far and the problems you are having."}], "answers": [{"tags": [], "owner": {"reputation": 689, "user_id": 5683411, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/1ef57d432c88881f4e9f9f52347d8a8a?s=128&d=identicon&r=PG", "display_name": "Ken Schumack", "link": "https://stackoverflow.com/users/5683411/ken-schumack"}, "is_accepted": false, "score": 0, "last_activity_date": 1456115628, "last_edit_date": 1456115628, "creation_date": 1456110264, "answer_id": 35545158, "question_id": 35497754, "link": "https://stackoverflow.com/questions/35497754/using-perl-i-want-to-replace-a-character-in-a-certain-position-on-line-one-only/35545158#35545158", "title": "using perl, I want to replace a character in a certain position on line one only with a different value based on criteria", "body": "<p>Here's one solution with a perl one-liner typed on the command line. Add a <strong>-i</strong> to the command line to edit file(s) in place or use <strong>></strong> to direct to new file. Using -i or -i.old I.e. <strong>perl -i -pe</strong> ... you can give as many files as you want - using $ARGV to reset line one position and all of them will have line one modified appropriately.</p>\n\n<pre><code>tcsh 55&gt; cat test1.in\n</code></pre>\n\n<pre>\nthis is test line one there is a \"c\" at character position 71 ........c....\nthis is also a test line there is a \"c\" at character position 71 .....c....\n</pre>\n\n<pre><code>tcsh 56&gt; perl -pe 'BEGIN{$a=\"a\";$h{$a++}=++$i while ($i&lt;10)} if ($.==1){s/^(.{70})([a-j])(.*)/sprintf(\"%s%d%s\",$1,$h{$2},$3)/e}' test.in\n</code></pre>\n\n<pre>\nthis is test line one there is a \"c\" at character position 71 ........3....\nthis is also a test line there is a \"c\" at character position 71 .....c....\n</pre>\n"}], "owner": {"reputation": 1, "user_id": 5949327, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/dd556628c77a27ee0231d75986af73fa?s=128&d=identicon&r=PG&f=1", "display_name": "L Kautz", "link": "https://stackoverflow.com/users/5949327/l-kautz"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 74, "favorite_count": 0, "answer_count": 1, "score": -6, "last_activity_date": 1456115628, "creation_date": 1455858648, "last_edit_date": 1455859715, "question_id": 35497754, "link": "https://stackoverflow.com/questions/35497754/using-perl-i-want-to-replace-a-character-in-a-certain-position-on-line-one-only", "title": "using perl, I want to replace a character in a certain position on line one only with a different value based on criteria", "body": "<p>I am a perl newbie and I need a command that will</p>\n\n<ol>\n<li>read in an input file of any length</li>\n<li>examine character 71 of the first line (only)</li>\n<li>if the value in that position is a, change it to 1.  If it is b, change it to 2, and so on through j (10).</li>\n<li>write the output to a new file</li>\n</ol>\n"}, {"tags": ["perl", "xml-parsing"], "comments": [{"owner": {"reputation": 50468, "user_id": 1331451, "user_type": "registered", "accept_rate": 96, "profile_image": "https://i.stack.imgur.com/4ZPmj.png?s=128&g=1", "display_name": "simbabque", "link": "https://stackoverflow.com/users/1331451/simbabque"}, "edited": false, "score": 0, "creation_date": 1455871571, "post_id": 35496902, "comment_id": 58693204, "body": "You don&#39;t need to escape the <code>?</code> or <code>=</code> with a backslash."}, {"owner": {"reputation": 1350, "user_id": 1103848, "user_type": "registered", "accept_rate": 56, "profile_image": "https://i.stack.imgur.com/aMC26.jpg?s=128&g=1", "display_name": "Sandeep Chayapathi", "link": "https://stackoverflow.com/users/1103848/sandeep-chayapathi"}, "reply_to_user": {"reputation": 50468, "user_id": 1331451, "user_type": "registered", "accept_rate": 96, "profile_image": "https://i.stack.imgur.com/4ZPmj.png?s=128&g=1", "display_name": "simbabque", "link": "https://stackoverflow.com/users/1331451/simbabque"}, "edited": false, "score": 0, "creation_date": 1455899894, "post_id": 35496902, "comment_id": 58711497, "body": "Thanks. I was copy/pasting from the shell which seems to have escaped those automatically."}], "answers": [{"comments": [{"owner": {"reputation": 1350, "user_id": 1103848, "user_type": "registered", "accept_rate": 56, "profile_image": "https://i.stack.imgur.com/aMC26.jpg?s=128&g=1", "display_name": "Sandeep Chayapathi", "link": "https://stackoverflow.com/users/1103848/sandeep-chayapathi"}, "edited": false, "score": 0, "creation_date": 1455899966, "post_id": 35501392, "comment_id": 58711551, "body": "You are right accessing the elements via the <code>hash</code> is the way to go. I did look at the underlying class and it seems to internally pass a namespace object and I suspect the namespace provided by youtube is the issue here."}], "tags": [], "owner": {"reputation": 50468, "user_id": 1331451, "user_type": "registered", "accept_rate": 96, "profile_image": "https://i.stack.imgur.com/4ZPmj.png?s=128&g=1", "display_name": "simbabque", "link": "https://stackoverflow.com/users/1331451/simbabque"}, "is_accepted": true, "score": 1, "last_activity_date": 1455872991, "creation_date": 1455872991, "answer_id": 35501392, "question_id": 35496902, "link": "https://stackoverflow.com/questions/35496902/xmlfeedpp-and-accessing-media-property/35501392#35501392", "title": "XML::FeedPP and accessing media:* property", "body": "<p>Inspecting the <code>$item</code> objects in that feed with Data::Printer shows that the objects know about the <code>media:group</code> and other things in the <code>media:</code> namespace.</p>\n\n<pre><code>use strict;\nuse warnings;\nuse Data::Printer;\nuse XML::FeedPP;\nmy $feed = XML::FeedPP-&gt;new(\"https://www.youtube.com/feeds/videos.xml?channel_id=UCzJuUAme9EABE1quatA8z-Q\");\n\nforeach my $item ( $feed-&gt;get_item() ) {\n    p $item;\n}\n\n__END__\nXML::FeedPP::Atom::Atom10::Entry  {\n    Parents       XML::FeedPP::Atom::Common::Entry\n    public methods (6) : category, description, get_pubDate_native, link, pubDate, title\n    private methods (0)\n    internals: {\n        author         {\n            name   \"Fun to Origami\",\n            uri    \"http://www.youtube.com/channel/UCzJuUAme9EABE1quatA8z-Q\"\n        },\n        id             \"yt:video:332UeGpfY3E\",\n        link           {\n            -href   \"http://www.youtube.com/watch?v=332UeGpfY3E\",\n            -rel    \"alternate\"\n        },\n        media:group    {\n            media:community     {\n                media:starRating   {\n                    -average   4.56,\n                    -count     9,\n                    -max       5,\n                    -min       1\n                },\n                media:statistics   {\n                    -views   940\n                }\n            },\n            media:content       {\n                -height   390,\n                -type     \"application/x-shockwave-flash\",\n                -url      \"https://www.youtube.com/v/332UeGpfY3E?version=3\",\n                -width    640\n            },\n            media:description   \"...\",\n            media:thumbnail     {\n                -height   360,\n                -url      \"https://i4.ytimg.com/vi/332UeGpfY3E/hqdefault.jpg\",\n                -width    480\n            },\n            media:title         \"Origami Pteranodon : Paper Dinosaur Tutorial\"\n        },\n        published      \"2015-02-20T01:22:36+00:00\",\n        title          \"Origami Pteranodon : Paper Dinosaur Tutorial\",\n        updated        \"2016-02-15T13:42:07+00:00\",\n        yt:channelId   \"UCzJuUAme9EABE1quatA8z-Q\",\n        yt:videoId     \"332UeGpfY3E\"\n    }\n}\n</code></pre>\n\n<p><sup>Source: Youtube, Omission mine</sup></p>\n\n<p>So the most obvious way would be to just access the data structure directly. Of course <strong>you don't want to do that</strong>, as it's bad style, and <strong>the underlying implementation might change</strong>. </p>\n\n<pre><code>foreach my $item ( $feed-&gt;get_item() ) {\n    say $item-&gt;{'media:group'}-&gt;{'media:content'}-&gt;{'-height'};\n}\n\n__END__\n390\n...\n</code></pre>\n\n<p>If this is a run-once-and-forget script, stop here.</p>\n\n<hr>\n\n<p>Now the fun part begins. The <code>$item</code> is an <a href=\"https://metacpan.org/source/KAWASAKI/XML-FeedPP-0.43/lib/XML/FeedPP.pm#L1956\" rel=\"nofollow\">XML::FeedPP::Atom::Atom10::Entry</a>, which is an <a href=\"https://metacpan.org/source/KAWASAKI/XML-FeedPP-0.43/lib/XML/FeedPP.pm#L830\" rel=\"nofollow\">XML::FeedPP::Item</a>, which is an <a href=\"https://metacpan.org/source/KAWASAKI/XML-FeedPP-0.43/lib/XML/FeedPP.pm#L2164\" rel=\"nofollow\">XML::FeedPP::Element</a>. That guy <a href=\"https://metacpan.org/source/KAWASAKI/XML-FeedPP-0.43/lib/XML/FeedPP.pm#L2239\" rel=\"nofollow\">has a method <code>get</code></a>. It looks like it would not have a problem dealing with the <code>:</code> part, but it returns <code>undef.</code></p>\n\n<p>This module seems to be extensively tested. There is an <a href=\"https://metacpan.org/source/KAWASAKI/XML-FeedPP-0.43/t/11_media.t\" rel=\"nofollow\">11_media.t</a> that actually plays around with the <code>media:</code> namespace. In the examples there, however, it not only probably work (or I could not have installed the module), but it's also a bit different. The <code>media:</code> element is not very deep. It's just one tag with attributes.</p>\n\n<p>Feel free to take the research further from this point. </p>\n"}], "owner": {"reputation": 1350, "user_id": 1103848, "user_type": "registered", "accept_rate": 56, "profile_image": "https://i.stack.imgur.com/aMC26.jpg?s=128&g=1", "display_name": "Sandeep Chayapathi", "link": "https://stackoverflow.com/users/1103848/sandeep-chayapathi"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 103, "favorite_count": 0, "accepted_answer_id": 35501392, "answer_count": 1, "score": 1, "last_activity_date": 1455872991, "creation_date": 1455853322, "question_id": 35496902, "link": "https://stackoverflow.com/questions/35496902/xmlfeedpp-and-accessing-media-property", "title": "XML::FeedPP and accessing media:* property", "body": "<p>I'm trying to parse a youtube xml feed and want to access certain <strong>media</strong> elements in the feed.</p>\n\n<p>I'm able to access basic elements such as <em>title</em> and <em>link</em> but accessing anything under <strong>media:group</strong> returns empty string.</p>\n\n<p><a href=\"https://i.stack.imgur.com/qoQ3V.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/qoQ3V.png\" alt=\"enter image description here\"></a></p>\n\n<pre><code>use XML::FeedPP; \nmy $feed = XML::FeedPP-&gt;new(\"https://www.youtube.com/feeds/videos.xml\\?channel_id\\=UCzJuUAme9EABE1quatA8z-Q\"); \n\nforeach my $item ( $feed-&gt;get_item() ) { \n    print $item-&gt;get(\"media:group\") . \"\\n\";\n}\n</code></pre>\n\n<p>Any suggestions on how I can access the <em>media:group</em> and its child elements ?</p>\n"}, {"tags": ["json", "perl", "utf-8"], "comments": [{"owner": {"reputation": 15906, "user_id": 3527940, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/k1R45.jpg?s=128&g=1", "display_name": "jcaron", "link": "https://stackoverflow.com/users/3527940/jcaron"}, "edited": false, "score": 0, "creation_date": 1455840388, "post_id": 35494521, "comment_id": 58682375, "body": "It&#39;s obvious from your very first <code>print Dumper(utf8::is_utf8($string));</code> returning <code>&#39;&#39;</code> that the string is not recognised as UTF-8."}, {"owner": {"reputation": 6434, "user_id": 356307, "user_type": "registered", "accept_rate": 64, "profile_image": "https://i.stack.imgur.com/G3ppl.jpg?s=128&g=1", "display_name": "Jens", "link": "https://stackoverflow.com/users/356307/jens"}, "reply_to_user": {"reputation": 15906, "user_id": 3527940, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/k1R45.jpg?s=128&g=1", "display_name": "jcaron", "link": "https://stackoverflow.com/users/3527940/jcaron"}, "edited": false, "score": 0, "creation_date": 1455841560, "post_id": 35494521, "comment_id": 58682766, "body": "...but the <code>utf8::valid($string)</code> returns true."}, {"owner": {"reputation": 6258, "user_id": 82262, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/8ce15931410b388a52eb2df4a864137f?s=128&d=identicon&r=PG&f=1", "display_name": "Matt Jacob", "link": "https://stackoverflow.com/users/82262/matt-jacob"}, "edited": false, "score": 0, "creation_date": 1455842382, "post_id": 35494521, "comment_id": 58683015, "body": "@Jens That doesn&#39;t mean what you think it means."}, {"owner": {"reputation": 6434, "user_id": 356307, "user_type": "registered", "accept_rate": 64, "profile_image": "https://i.stack.imgur.com/G3ppl.jpg?s=128&g=1", "display_name": "Jens", "link": "https://stackoverflow.com/users/356307/jens"}, "reply_to_user": {"reputation": 6258, "user_id": 82262, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/8ce15931410b388a52eb2df4a864137f?s=128&d=identicon&r=PG&f=1", "display_name": "Matt Jacob", "link": "https://stackoverflow.com/users/82262/matt-jacob"}, "edited": false, "score": 0, "creation_date": 1455842940, "post_id": 35494521, "comment_id": 58683148, "body": "@MattJacob: uhm... ok? :-)"}, {"owner": {"reputation": 6258, "user_id": 82262, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/8ce15931410b388a52eb2df4a864137f?s=128&d=identicon&r=PG&f=1", "display_name": "Matt Jacob", "link": "https://stackoverflow.com/users/82262/matt-jacob"}, "edited": false, "score": 0, "creation_date": 1455843093, "post_id": 35494521, "comment_id": 58683182, "body": "@Jens In this case, &quot;valid&quot; means &quot;consistent&quot;. It&#39;s marked &quot;<a href=\"https://metacpan.org/pod/utf8\" rel=\"nofollow noreferrer\">INTERNAL</a>&quot; for a reason. Just... don&#39;t use it."}], "answers": [{"comments": [{"owner": {"reputation": 6434, "user_id": 356307, "user_type": "registered", "accept_rate": 64, "profile_image": "https://i.stack.imgur.com/G3ppl.jpg?s=128&g=1", "display_name": "Jens", "link": "https://stackoverflow.com/users/356307/jens"}, "edited": false, "score": 0, "creation_date": 1455842386, "post_id": 35494740, "comment_id": 58683016, "body": "That doesn&#39;t address the hash after the <code>from_json</code>, does it?"}, {"owner": {"reputation": 6258, "user_id": 82262, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/8ce15931410b388a52eb2df4a864137f?s=128&d=identicon&r=PG&f=1", "display_name": "Matt Jacob", "link": "https://stackoverflow.com/users/82262/matt-jacob"}, "reply_to_user": {"reputation": 6434, "user_id": 356307, "user_type": "registered", "accept_rate": 64, "profile_image": "https://i.stack.imgur.com/G3ppl.jpg?s=128&g=1", "display_name": "Jens", "link": "https://stackoverflow.com/users/356307/jens"}, "edited": false, "score": 0, "creation_date": 1455842533, "post_id": 35494740, "comment_id": 58683053, "body": "@Jens Don&#39;t use <code>to_json</code>/<code>from_json</code>. Use <code>encode_json</code>/<code>decode_json</code> instead to maintain UTF-8."}, {"owner": {"reputation": 6434, "user_id": 356307, "user_type": "registered", "accept_rate": 64, "profile_image": "https://i.stack.imgur.com/G3ppl.jpg?s=128&g=1", "display_name": "Jens", "link": "https://stackoverflow.com/users/356307/jens"}, "edited": false, "score": 0, "creation_date": 1455843017, "post_id": 35494740, "comment_id": 58683164, "body": "So how would I handle the hash lookup at the end of my question correctly then?"}, {"owner": {"reputation": 6258, "user_id": 82262, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/8ce15931410b388a52eb2df4a864137f?s=128&d=identicon&r=PG&f=1", "display_name": "Matt Jacob", "link": "https://stackoverflow.com/users/82262/matt-jacob"}, "reply_to_user": {"reputation": 6434, "user_id": 356307, "user_type": "registered", "accept_rate": 64, "profile_image": "https://i.stack.imgur.com/G3ppl.jpg?s=128&g=1", "display_name": "Jens", "link": "https://stackoverflow.com/users/356307/jens"}, "edited": false, "score": 0, "creation_date": 1455843430, "post_id": 35494740, "comment_id": 58683285, "body": "@Jens If you use <code>encode_json</code> on a hash reference, you&#39;ll get a string that represents a JSON object. If you use <code>decode_json</code> on a string containing a JSON object, you&#39;ll get a hash reference. So, <code>$href = decode_json(&#39;{...}&#39;); say $href-&gt;{&#39;n\u0101me&#39;};</code>"}, {"owner": {"reputation": 6434, "user_id": 356307, "user_type": "registered", "accept_rate": 64, "profile_image": "https://i.stack.imgur.com/G3ppl.jpg?s=128&g=1", "display_name": "Jens", "link": "https://stackoverflow.com/users/356307/jens"}, "edited": false, "score": 0, "creation_date": 1455844579, "post_id": 35494740, "comment_id": 58683597, "body": "Thanks! I see that you also added <a href=\"http://perldoc.perl.org/functions/binmode.html\" rel=\"nofollow noreferrer\">binmode</a>."}, {"owner": {"reputation": 6258, "user_id": 82262, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/8ce15931410b388a52eb2df4a864137f?s=128&d=identicon&r=PG&f=1", "display_name": "Matt Jacob", "link": "https://stackoverflow.com/users/82262/matt-jacob"}, "reply_to_user": {"reputation": 6434, "user_id": 356307, "user_type": "registered", "accept_rate": 64, "profile_image": "https://i.stack.imgur.com/G3ppl.jpg?s=128&g=1", "display_name": "Jens", "link": "https://stackoverflow.com/users/356307/jens"}, "edited": false, "score": 0, "creation_date": 1455844708, "post_id": 35494740, "comment_id": 58683631, "body": "@Jens Yes, you need to encode your output, and that will do it automatically for <code>STDOUT</code>."}], "tags": [], "owner": {"reputation": 6258, "user_id": 82262, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/8ce15931410b388a52eb2df4a864137f?s=128&d=identicon&r=PG&f=1", "display_name": "Matt Jacob", "link": "https://stackoverflow.com/users/82262/matt-jacob"}, "is_accepted": true, "score": 3, "last_activity_date": 1455844059, "last_edit_date": 1455844059, "creation_date": 1455839102, "answer_id": 35494740, "question_id": 35494521, "link": "https://stackoverflow.com/questions/35494521/json-encode-decode-utf8-strings-in-perl/35494740#35494740", "title": "JSON encode/decode utf8 strings in Perl", "body": "<p>You need to decode your input:</p>\n\n<pre><code>use Encode;\n\nmy $string;\nGetOptions('string=s' =&gt; \\$string) or die;\n$string = decode('UTF-8', $string);\n</code></pre>\n\n<p>Putting it all together, we get:</p>\n\n<pre><code>use strict;\nuse warnings;\nuse 5.012;\nuse utf8;\n\nuse Encode;\nuse Getopt::Long;\nuse JSON;\n\nmy $string;\nGetOptions('string=s' =&gt; \\$string) or die;\n$string = decode('UTF-8', $string);\n\nmy %hash = ('n\u0101me' =&gt; $string);\nmy $json = encode_json(\\%hash);\nmy $href = decode_json($json);\n\nbinmode(STDOUT, ':encoding(utf8)');\nsay $href-&gt;{n\u0101me};\n</code></pre>\n\n<p>Example:</p>\n\n<pre><code>$ perl test.pl --string='\u1e37et \u016bs try \u1e6dhi\u00f1gs'\n\u1e37et \u016bs try \u1e6dhi\u00f1gs\n</code></pre>\n\n<p>Make sure your source file is actually encoded as UTF-8!</p>\n"}], "owner": {"reputation": 6434, "user_id": 356307, "user_type": "registered", "accept_rate": 64, "profile_image": "https://i.stack.imgur.com/G3ppl.jpg?s=128&g=1", "display_name": "Jens", "link": "https://stackoverflow.com/users/356307/jens"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 4469, "favorite_count": 0, "accepted_answer_id": 35494740, "answer_count": 1, "score": 2, "last_activity_date": 1455844059, "creation_date": 1455838016, "question_id": 35494521, "link": "https://stackoverflow.com/questions/35494521/json-encode-decode-utf8-strings-in-perl", "title": "JSON encode/decode utf8 strings in Perl", "body": "<p>I pass a <a href=\"http://perldoc.perl.org/utf8.html\" rel=\"nofollow\">utf8</a> encoded string from my command line into a Perl program:</p>\n\n<pre><code>&gt; ./test.pl --string='\u1e37et \u016bs try \u1e6dhi\u00f1gs'\n</code></pre>\n\n<p>which seems to recognize the string correctly:</p>\n\n<pre><code>use utf8;  \n\nGetOptions(                                                                     \n    'string=s' =&gt; \\$string,                                                     \n) or die;                                                                    \nprint Dumper($string);\nprint Dumper(utf8::is_utf8($string));                                           \nprint Dumper(utf8::valid($string));                                             \n</code></pre>\n\n<p>prints</p>\n\n<pre><code>$VAR1 = '\u1e37et \u016bs try \u1e6dhi\u00f1gs';\n$VAR1 = '';\n$VAR1 = 1;\n</code></pre>\n\n<p>When I store this string into a hash and call <a href=\"http://search.cpan.org/~makamaka/JSON-2.90/lib/JSON.pm#encode_json\" rel=\"nofollow\">encode_json</a> on it, the string seems to be <em>again</em> encoded whereas <a href=\"http://search.cpan.org/~makamaka/JSON-2.90/lib/JSON.pm#to_json\" rel=\"nofollow\">to_json</a> seems to work (if I read the output correctly):</p>\n\n<pre><code>my %a = ( 'n\u0101me' =&gt; $string ); # Note the Unicode character                                                 \nprint Dumper(\\%a);\nprint Dumper(encode_json(\\%a));                                                 \nprint Dumper(to_json(\\%a));                                                     \n</code></pre>\n\n<p>prints</p>\n\n<pre><code>$VAR1 = {\n          \"n\\x{101}me\" =&gt; '\u1e37et \u016bs try \u1e6dhi\u00f1gs'\n        };\n$VAR1 = '{\"n\u0101me\":\"\u00e1\u00b8\u00b7et \u00c5\u00abs try \u00e1\u00b9\u00adhi\u00c3\u00b1gs\"}';\n$VAR1 = \"{\\\"n\\x{101}me\\\":\\\"\\x{e1}\\x{b8}\\x{b7}et \\x{c5}\\x{ab}s try \\x{e1}\\x{b9}\\x{ad}hi\\x{c3}\\x{b1}gs\\\"}\";\n</code></pre>\n\n<p>Turning this back into the original hash, however, doesn't seem to work with either methods and in both cases hash and string and broken:</p>\n\n<pre><code>print Dumper(decode_json(encode_json(\\%a)));                                    \nprint Dumper(from_json(to_json(\\%a)));    \n</code></pre>\n\n<p>prints </p>\n\n<pre><code>$VAR1 = {\n           \"n\\x{101}me\" =&gt; \"\\x{e1}\\x{b8}\\x{b7}et \\x{c5}\\x{ab}s try \\x{e1}\\x{b9}\\x{ad}hi\\x{c3}\\x{b1}gs\"\n        };\n$VAR1 = {\n          \"n\\x{101}me\" =&gt; \"\\x{e1}\\x{b8}\\x{b7}et \\x{c5}\\x{ab}s try \\x{e1}\\x{b9}\\x{ad}hi\\x{c3}\\x{b1}gs\"\n        };\n</code></pre>\n\n<p>A hash lookup <code>$a{'n\u0101me'}</code> now fails.</p>\n\n<p><strong>Question:</strong> How do I handle utf8 encoding and strings and JSON encode/decode correctly in Perl?</p>\n"}, {"tags": ["excel", "perl"], "comments": [{"owner": {"reputation": 957, "user_id": 201318, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/iwp4j.png?s=128&g=1", "display_name": "kba", "link": "https://stackoverflow.com/users/201318/kba"}, "edited": false, "score": 0, "creation_date": 1455835923, "post_id": 35493828, "comment_id": 58680719, "body": "Where is <code>get_format()</code> coming from? Can&#39;t find it in the <code>Spreadsheet::XSLX</code> docs."}, {"owner": {"reputation": 267, "user_id": 3646877, "user_type": "registered", "accept_rate": 29, "profile_image": "https://www.gravatar.com/avatar/b01ed366dcb7033e2d0448ab3c4003af?s=128&d=identicon&r=PG&f=1", "display_name": "Jasio", "link": "https://stackoverflow.com/users/3646877/jasio"}, "reply_to_user": {"reputation": 957, "user_id": 201318, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/iwp4j.png?s=128&g=1", "display_name": "kba", "link": "https://stackoverflow.com/users/201318/kba"}, "edited": false, "score": 0, "creation_date": 1455867472, "post_id": 35493828, "comment_id": 58691174, "body": "get_format is in package Spreadsheet::ParseExcel::Cell. I have not figured out yet, but I guess it&#39;s one of dependencies, as I have not explicitly installed this module."}], "answers": [{"comments": [{"owner": {"reputation": 267, "user_id": 3646877, "user_type": "registered", "accept_rate": 29, "profile_image": "https://www.gravatar.com/avatar/b01ed366dcb7033e2d0448ab3c4003af?s=128&d=identicon&r=PG&f=1", "display_name": "Jasio", "link": "https://stackoverflow.com/users/3646877/jasio"}, "edited": false, "score": 0, "creation_date": 1455867697, "post_id": 35496183, "comment_id": 58691276, "body": "I understand that it&#39;s next to impossible to diagnose someone else&#39;s environment. I posted the question hoping that someone else might have encountered the same or a similar problem and solved it successfully."}, {"owner": {"reputation": 267, "user_id": 3646877, "user_type": "registered", "accept_rate": 29, "profile_image": "https://www.gravatar.com/avatar/b01ed366dcb7033e2d0448ab3c4003af?s=128&d=identicon&r=PG&f=1", "display_name": "Jasio", "link": "https://stackoverflow.com/users/3646877/jasio"}, "edited": false, "score": 0, "creation_date": 1455867701, "post_id": 35496183, "comment_id": 58691279, "body": "Thank you for the Strawberry Perl hint - I will give it a try."}, {"owner": {"reputation": 2690, "user_id": 5869736, "user_type": "registered", "accept_rate": 75, "profile_image": "https://www.gravatar.com/avatar/b18e361761e0643fd9003f9eae40ba45?s=128&d=identicon&r=PG&f=1", "display_name": "Marty", "link": "https://stackoverflow.com/users/5869736/marty"}, "reply_to_user": {"reputation": 267, "user_id": 3646877, "user_type": "registered", "accept_rate": 29, "profile_image": "https://www.gravatar.com/avatar/b01ed366dcb7033e2d0448ab3c4003af?s=128&d=identicon&r=PG&f=1", "display_name": "Jasio", "link": "https://stackoverflow.com/users/3646877/jasio"}, "edited": false, "score": 0, "creation_date": 1455872356, "post_id": 35496183, "comment_id": 58693623, "body": "You probably already know this - but the values being different is not surprising - it&#39;s merely a consequence of the format being different.  The comment about a spreadsheet template &quot;pre-setting&quot; the format wasn&#39;t just a throw away line."}, {"owner": {"reputation": 267, "user_id": 3646877, "user_type": "registered", "accept_rate": 29, "profile_image": "https://www.gravatar.com/avatar/b01ed366dcb7033e2d0448ab3c4003af?s=128&d=identicon&r=PG&f=1", "display_name": "Jasio", "link": "https://stackoverflow.com/users/3646877/jasio"}, "edited": false, "score": 0, "creation_date": 1455905316, "post_id": 35496183, "comment_id": 58714725, "body": "Yes, I suspect that the different results result from different formats - that&#39;s why I decided to check the formats in the first place. ;)   The issue is however, <b>why</b> the same file (I even checked md5 sums) presents different date formats on two different machines. To add insult to injury, if I read -&gt; {val} instead of value() (it&#39;s deprecated, isn&#39;t it?) , on one machine a properly formatted date string is returned, while on the other - the number of days since the beginning of the Excel epoch - as if it simply ignored the date format."}, {"owner": {"reputation": 2690, "user_id": 5869736, "user_type": "registered", "accept_rate": 75, "profile_image": "https://www.gravatar.com/avatar/b18e361761e0643fd9003f9eae40ba45?s=128&d=identicon&r=PG&f=1", "display_name": "Marty", "link": "https://stackoverflow.com/users/5869736/marty"}, "reply_to_user": {"reputation": 267, "user_id": 3646877, "user_type": "registered", "accept_rate": 29, "profile_image": "https://www.gravatar.com/avatar/b01ed366dcb7033e2d0448ab3c4003af?s=128&d=identicon&r=PG&f=1", "display_name": "Jasio", "link": "https://stackoverflow.com/users/3646877/jasio"}, "edited": false, "score": 0, "creation_date": 1455930613, "post_id": 35496183, "comment_id": 58726242, "body": "Can you <code>use Data::Dumper</code> and post the output from <code>my $cell = $sheet -&gt; {Cells} [0] [$sheet-&gt;{MaxCol}];  print Dumper($cell); </code> for each machine  ?"}, {"owner": {"reputation": 267, "user_id": 3646877, "user_type": "registered", "accept_rate": 29, "profile_image": "https://www.gravatar.com/avatar/b01ed366dcb7033e2d0448ab3c4003af?s=128&d=identicon&r=PG&f=1", "display_name": "Jasio", "link": "https://stackoverflow.com/users/3646877/jasio"}, "edited": false, "score": 0, "creation_date": 1456048052, "post_id": 35496183, "comment_id": 58757790, "body": "Without a surprise, actually.  After &quot;md5sum mysheet.xlsx ; ./import_xlsx.pl mysheet.xlsx:   * On the &quot;bad&quot; computer:      86215e87b22f0b7eb72db6580772d840       $VAR1 = bless( {         &#39;Type&#39; =&gt; &#39;Date&#39;,         &#39;Format&#39; =&gt; &#39;m-d-yy&#39;,         &#39;Val&#39; =&gt; &#39;42373&#39;,         &#39;_Value&#39; =&gt; &#39;1-4-16&#39;     }, &#39;Spreadsheet::ParseExcel::Cell&#39; );  * On the &quot;good&quot; one:      86215e87b22f0b7eb72db6580772d840     $VAR1 = bless( {         &#39;Format&#39; =&gt; &#39;yyyy-mm-dd&#39;,         &#39;Val&#39; =&gt; &#39;2016-01-04&#39;,         &#39;_Value&#39; =&gt; &#39;2016-01-04&#39;,         &#39;Type&#39; =&gt; &#39;Date&#39;     }, &#39;Spreadsheet::ParseExcel::Cell&#39; );"}], "tags": [], "owner": {"reputation": 2690, "user_id": 5869736, "user_type": "registered", "accept_rate": 75, "profile_image": "https://www.gravatar.com/avatar/b18e361761e0643fd9003f9eae40ba45?s=128&d=identicon&r=PG&f=1", "display_name": "Marty", "link": "https://stackoverflow.com/users/5869736/marty"}, "is_accepted": false, "score": 2, "last_activity_date": 1455848303, "creation_date": 1455848303, "answer_id": 35496183, "question_id": 35493828, "link": "https://stackoverflow.com/questions/35493828/why-spreadsheetxlsx-parses-dates-inconsistently-on-different-machines/35496183#35496183", "title": "Why Spreadsheet::XLSX parses dates inconsistently on different machines?", "body": "<p><em>\"Same script, same worksheet, different results.  I believe that something in the environment makes the difference, but I don not know what exactly.\"</em></p>\n\n<p>You sort-of indicate here yourself that you're not really seeking the solution to a perl or XLSX problem so much as some assistance with troubleshooting your environment.</p>\n\n<p>Without access to the environment its difficult to offer a solution per se, but I can say this - you need to;</p>\n\n<p>1) Re-arrange things so that you <em>do</em> get the same result from both environments;</p>\n\n<p>2) Identify a list of differences between the original, problem environment and the one that now \"works\"; and</p>\n\n<p>3) Modify one thing on the list at a time - moving towards the environment that works - checking each time until it becomes clear what the key variable (not in a programming sense) is.</p>\n\n<p>With regards to (1), take a look at <a href=\"http://strawberryperl.com/\" rel=\"nofollow\">Strawberry Perl</a>.  Using Strawberry, its relatively easy to set up what some call <em>Perl on a stick</em> (see <a href=\"http://strawberryperl.com/releases.html\" rel=\"nofollow\">Portable ZIP edition</a>) - a complete perl environment on a USB stick.  Put your document on the same USB and then try the two environments - this time with absolute certainty of having the same environment.  If different results persist, try booting from a \"live environement\" DVD (linux or widows as appropriate), and then using the USB.</p>\n\n<p>Ultimately, I'd suggest there's something (such as a spreadsheet template ) at play that <em>is</em> different between the environments.  You just need to go through a process of elimination to find out what it is.</p>\n"}, {"comments": [{"owner": {"reputation": 267, "user_id": 3646877, "user_type": "registered", "accept_rate": 29, "profile_image": "https://www.gravatar.com/avatar/b01ed366dcb7033e2d0448ab3c4003af?s=128&d=identicon&r=PG&f=1", "display_name": "Jasio", "link": "https://stackoverflow.com/users/3646877/jasio"}, "edited": false, "score": 0, "creation_date": 1456690175, "post_id": 35597182, "comment_id": 59052786, "body": "I included results of the discovery in the comment under my original post: cpan module distributed as rpm was to be blamed. When I replaced it with the module compiled locally, the problem disappeared.   Should I have included it as an answer instead of the comment?"}, {"owner": {"reputation": 2690, "user_id": 5869736, "user_type": "registered", "accept_rate": 75, "profile_image": "https://www.gravatar.com/avatar/b18e361761e0643fd9003f9eae40ba45?s=128&d=identicon&r=PG&f=1", "display_name": "Marty", "link": "https://stackoverflow.com/users/5869736/marty"}, "reply_to_user": {"reputation": 267, "user_id": 3646877, "user_type": "registered", "accept_rate": 29, "profile_image": "https://www.gravatar.com/avatar/b01ed366dcb7033e2d0448ab3c4003af?s=128&d=identicon&r=PG&f=1", "display_name": "Jasio", "link": "https://stackoverflow.com/users/3646877/jasio"}, "edited": false, "score": 0, "creation_date": 1456692335, "post_id": 35597182, "comment_id": 59053609, "body": "I think so - not only stating what it was in this instance, but also summarizing what would have helped given what you know now (ie with the hindsight).  That&#39;s what I was trying to do - but I also wanted to get the &quot;-V&quot; on the board because I think that would have helped.  Having said all that, I&#39;ve only been here a couple of weeks, so what would I know... :-)"}], "tags": [], "owner": {"reputation": 2690, "user_id": 5869736, "user_type": "registered", "accept_rate": 75, "profile_image": "https://www.gravatar.com/avatar/b18e361761e0643fd9003f9eae40ba45?s=128&d=identicon&r=PG&f=1", "display_name": "Marty", "link": "https://stackoverflow.com/users/5869736/marty"}, "is_accepted": false, "score": 1, "last_activity_date": 1456303382, "creation_date": 1456303382, "answer_id": 35597182, "question_id": 35493828, "link": "https://stackoverflow.com/questions/35493828/why-spreadsheetxlsx-parses-dates-inconsistently-on-different-machines/35597182#35597182", "title": "Why Spreadsheet::XLSX parses dates inconsistently on different machines?", "body": "<p>With the benefit of hindsight, I think its worth revisiting this to produce a succinct answer for those who come across this problem in the future.</p>\n\n<p>The original question was how could a perl script produce two different results when the excel data file fed into it is identical (which was confirmed with MD5 checksums).  As programmers, our focus tends to be on the scripts we write and the data that goes into them.  What slips to the back of the mind is the myriad of ways that perl itself can be installed and configured.</p>\n\n<p>The three things that should assist in determining where the difference between two installs lie are;</p>\n\n<p>(1) Use strawberry perl on a stick as described above to take the environment out of the equation and thereby (if the problem \"disappears\") confirm that the problem is something to do with the environment.</p>\n\n<p>(2) Use <code>Data::Dumper</code> liberally throughout to find where the flow of execution \"forks.\"</p>\n\n<p>(3) Compare the output of <code>perl -V</code> (note capital V) to find out if there are differences in how the respective perls were built and configured.</p>\n"}, {"tags": [], "owner": {"reputation": 267, "user_id": 3646877, "user_type": "registered", "accept_rate": 29, "profile_image": "https://www.gravatar.com/avatar/b01ed366dcb7033e2d0448ab3c4003af?s=128&d=identicon&r=PG&f=1", "display_name": "Jasio", "link": "https://stackoverflow.com/users/3646877/jasio"}, "is_accepted": true, "score": 1, "last_activity_date": 1456948417, "creation_date": 1456948417, "answer_id": 35756824, "question_id": 35493828, "link": "https://stackoverflow.com/questions/35493828/why-spreadsheetxlsx-parses-dates-inconsistently-on-different-machines/35756824#35756824", "title": "Why Spreadsheet::XLSX parses dates inconsistently on different machines?", "body": "<p>The root cause of the problem was an outdated Spreadsheet::XLSX cpan module installed as RPM from the distribution repository. The RPM included version 0.13 of this module, in CPAN there was already version 0.15, and since version 0.14 the module's behaviour was changed in this particular respect. So once I replaced the pre-compiled module with the version downloaded directly from CPAN and compiled locally, the problem was solved.</p>\n"}], "owner": {"reputation": 267, "user_id": 3646877, "user_type": "registered", "accept_rate": 29, "profile_image": "https://www.gravatar.com/avatar/b01ed366dcb7033e2d0448ab3c4003af?s=128&d=identicon&r=PG&f=1", "display_name": "Jasio", "link": "https://stackoverflow.com/users/3646877/jasio"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 356, "favorite_count": 0, "accepted_answer_id": 35756824, "answer_count": 3, "score": 1, "last_activity_date": 1456948417, "creation_date": 1455834861, "last_edit_date": 1455852215, "question_id": 35493828, "link": "https://stackoverflow.com/questions/35493828/why-spreadsheetxlsx-parses-dates-inconsistently-on-different-machines", "title": "Why Spreadsheet::XLSX parses dates inconsistently on different machines?", "body": "<p>I created a Perl script reading information from an XLSX sheet. Since on one machine it worked well, and on another it did not, I included a short debug section:</p>\n\n<pre><code>$sheetdate = ($sheet -&gt; {Cells} [0] [$sheet-&gt;{MaxCol}]) -&gt; value();\nprint \"value: $sheetdate\\n\";\n$sheetdate = ($sheet -&gt; {Cells} [0] [$sheet-&gt;{MaxCol}]) -&gt; get_format();\nprint \"getformat: $sheetdate\\n\";\n</code></pre>\n\n<p>On one machine it printed:</p>\n\n<pre><code>value: 2016-01-18\ngetformat: yyyy-mm-dd\n</code></pre>\n\n<p>While on the other:</p>\n\n<pre><code>value: 1-18-16\ngetformat: m-d-yy\n</code></pre>\n\n<p>Same script, same worksheet, different results. I believe that something in the environment makes the difference, but I do not know what exactly.</p>\n\n<p>Any hints?</p>\n"}, {"tags": ["perl", "curses"], "comments": [{"owner": {"reputation": 957, "user_id": 201318, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/iwp4j.png?s=128&g=1", "display_name": "kba", "link": "https://stackoverflow.com/users/201318/kba"}, "edited": false, "score": 0, "creation_date": 1455833346, "post_id": 35493208, "comment_id": 58679502, "body": "<code>Curses::UI</code> is an event-based abstraction on top of curses. You need to wire your components together, bind keyboard shortcuts etc. and then start the main loop. Have you read the <a href=\"http://search.cpan.org/~mdxi/Curses-UI-0.9609/lib/Curses/UI/Tutorial.pod\" rel=\"nofollow noreferrer\">tutorial</a>?"}, {"owner": {"reputation": 736, "user_id": 322052, "user_type": "registered", "accept_rate": 68, "profile_image": "https://www.gravatar.com/avatar/60e10b499cc6f2e9c919aa5a958299ce?s=128&d=identicon&r=PG", "display_name": "Tihomir Mitkov", "link": "https://stackoverflow.com/users/322052/tihomir-mitkov"}, "reply_to_user": {"reputation": 957, "user_id": 201318, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/iwp4j.png?s=128&g=1", "display_name": "kba", "link": "https://stackoverflow.com/users/201318/kba"}, "edited": false, "score": 0, "creation_date": 1455833552, "post_id": 35493208, "comment_id": 58679602, "body": "Yes. I call refresh() from event handlers"}, {"owner": {"reputation": 957, "user_id": 201318, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/iwp4j.png?s=128&g=1", "display_name": "kba", "link": "https://stackoverflow.com/users/201318/kba"}, "edited": false, "score": 1, "creation_date": 1455833795, "post_id": 35493208, "comment_id": 58679738, "body": "Alright then. I think <a href=\"http://search.cpan.org/~mdxi/Curses-UI-0.9609/lib/Curses/UI/Widget.pm#METHODS\" rel=\"nofollow noreferrer\">intellidraw</a> is what you want. But not sure, long time since I used Curses::UI."}, {"owner": {"reputation": 736, "user_id": 322052, "user_type": "registered", "accept_rate": 68, "profile_image": "https://www.gravatar.com/avatar/60e10b499cc6f2e9c919aa5a958299ce?s=128&d=identicon&r=PG", "display_name": "Tihomir Mitkov", "link": "https://stackoverflow.com/users/322052/tihomir-mitkov"}, "reply_to_user": {"reputation": 957, "user_id": 201318, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/iwp4j.png?s=128&g=1", "display_name": "kba", "link": "https://stackoverflow.com/users/201318/kba"}, "edited": false, "score": 0, "creation_date": 1455834513, "post_id": 35493208, "comment_id": 58680058, "body": "You are my saver man. Thanks!"}], "answers": [{"tags": [], "owner": {"reputation": 736, "user_id": 322052, "user_type": "registered", "accept_rate": 68, "profile_image": "https://www.gravatar.com/avatar/60e10b499cc6f2e9c919aa5a958299ce?s=128&d=identicon&r=PG", "display_name": "Tihomir Mitkov", "link": "https://stackoverflow.com/users/322052/tihomir-mitkov"}, "is_accepted": true, "score": 0, "last_activity_date": 1455834839, "last_edit_date": 1495542199, "creation_date": 1455834839, "answer_id": 35493823, "question_id": 35493208, "link": "https://stackoverflow.com/questions/35493208/refresh-widgets/35493823#35493823", "title": "Refresh widget(s)", "body": "<p>Thanks to <a href=\"https://stackoverflow.com/users/201318/kba\">kba</a>. Widgets and windows should be scheduled for drawing like this</p>\n\n<pre><code>$win1-&gt;intellidraw();\n...\n$statusBar-&gt;intellidraw();\n</code></pre>\n"}], "owner": {"reputation": 736, "user_id": 322052, "user_type": "registered", "accept_rate": 68, "profile_image": "https://www.gravatar.com/avatar/60e10b499cc6f2e9c919aa5a958299ce?s=128&d=identicon&r=PG", "display_name": "Tihomir Mitkov", "link": "https://stackoverflow.com/users/322052/tihomir-mitkov"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 127, "favorite_count": 0, "accepted_answer_id": 35493823, "answer_count": 1, "score": 1, "last_activity_date": 1455834839, "creation_date": 1455832511, "question_id": 35493208, "link": "https://stackoverflow.com/questions/35493208/refresh-widgets", "title": "Refresh widget(s)", "body": "<p>If I have a window created like this</p>\n\n<pre><code>my $cui = new Curses::UI( -color_support =&gt; 1 );\nmy $win1 = $cui-&gt;add(\n                     'win1', 'Window',\n                     -y    =&gt; 0,\n             );\n</code></pre>\n\n<p>How can I enforce changes made to its widgets.</p>\n\n<p>I tried</p>\n\n<pre><code>$cui-&gt;refresh();\n</code></pre>\n\n<p>and</p>\n\n<pre><code>$win1-&gt;refresh();\n</code></pre>\n\n<p>Even</p>\n\n<pre><code>Curses::refresh($win1);\n</code></pre>\n\n<p>But they all cause fatal error</p>\n\n<pre><code>argument 0 to Curses function 'refresh' is not a Curses window at ....\n</code></pre>\n"}, {"tags": ["perl"], "comments": [{"owner": {"reputation": 6258, "user_id": 82262, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/8ce15931410b388a52eb2df4a864137f?s=128&d=identicon&r=PG&f=1", "display_name": "Matt Jacob", "link": "https://stackoverflow.com/users/82262/matt-jacob"}, "edited": false, "score": 0, "creation_date": 1455828718, "post_id": 35491559, "comment_id": 58676971, "body": "And we don&#39;t know what you&#39;re doing wrong, either, because you haven&#39;t posted any code. ;-) You should <a href=\"https://stackoverflow.com/posts/35491559/edit\">edit</a> your question to include the code that isn&#39;t working. (Also fix the formatting of your sample data while you&#39;re in there.)"}], "answers": [{"comments": [{"owner": {"reputation": 2177, "user_id": 3124587, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/adc0af022f8a3b35bcde0a4405e4c673?s=128&d=identicon&r=PG&f=1", "display_name": "Joshua", "link": "https://stackoverflow.com/users/3124587/joshua"}, "edited": false, "score": 0, "creation_date": 1455853972, "post_id": 35492583, "comment_id": 58686089, "body": "Consider using curlies <code>{}</code> (or <code>|</code>) when you are dealing strings with forward slashes, ie <code>s{0&#47;0}{$col[2]}g</code> or <code>s|0&#47;0|$col[2]|g</code>"}], "tags": [], "owner": {"reputation": 5923, "user_id": 2105156, "user_type": "registered", "accept_rate": 76, "profile_image": "https://i.stack.imgur.com/oRMc0.jpg?s=128&g=1", "display_name": "fugu", "link": "https://stackoverflow.com/users/2105156/fugu"}, "is_accepted": false, "score": 0, "last_activity_date": 1455830861, "last_edit_date": 1455830861, "creation_date": 1455830205, "answer_id": 35492583, "question_id": 35491559, "link": "https://stackoverflow.com/questions/35491559/perl-pushing-a-tab-delimited-file-into-an-array-and-going-through-every-element/35492583#35492583", "title": "Perl: Pushing a tab-delimited file into an array and going through every element after a specific column number", "body": "<p>Try this on for size:</p>\n\n<pre><code>my @col;\n\nmy %data;\n\nwhile(&lt;DATA&gt;){\n    chomp;\n    next unless /^\\d+/;\n    s/\\.\\/\\./NA/g; # swap all ./. for NA\n    @col = split;\n    s/0\\/0/$col[2]/ foreach @col; # swap all 0/0 for 2nd field\n    s/0\\/1/$col[3]/ foreach @col; # swap all 0/1 for 3rd field\n    $data{$col[0]} = [ @col[1..8]];\n}\n\nprint join (\"\\t\", qw(NumLet Re Al Samp1 Samp2 Samp3 Samp4 Samp5));\nprint \"\\n\";\n\nfor (sort keys %data){\n    print join(\"\\t\", $_, @{$data{$_}});\n    print \"\\n\";\n}\n</code></pre>\n\n<hr>\n\n<pre><code>NumLet  Re  Al  Samp1   Samp2   Samp3   Samp4   Samp5\n1   dog R   R   NA  R   NA  R   R\n2   dog S   P   S   NA  P   NA  NA\n3   cat P   P   P   NA  NA  P   P\n4   horse   S   S   S   S   S   NA  S\n5   cow P   R   NA  R   NA  NA  NA\n</code></pre>\n"}, {"comments": [{"owner": {"reputation": 3, "user_id": 5927429, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/89f339677947d4853fbed3b5caf1ce6d?s=128&d=identicon&r=PG&f=1", "display_name": "HCivica", "link": "https://stackoverflow.com/users/5927429/hcivica"}, "edited": false, "score": 0, "creation_date": 1455899418, "post_id": 35496953, "comment_id": 58711223, "body": "Thank you. This is very helpful and it also tells me why my code isn&#39;t working."}], "tags": [], "owner": {"reputation": 2177, "user_id": 3124587, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/adc0af022f8a3b35bcde0a4405e4c673?s=128&d=identicon&r=PG&f=1", "display_name": "Joshua", "link": "https://stackoverflow.com/users/3124587/joshua"}, "is_accepted": true, "score": 0, "last_activity_date": 1455856457, "last_edit_date": 1455856457, "creation_date": 1455853696, "answer_id": 35496953, "question_id": 35491559, "link": "https://stackoverflow.com/questions/35491559/perl-pushing-a-tab-delimited-file-into-an-array-and-going-through-every-element/35496953#35496953", "title": "Perl: Pushing a tab-delimited file into an array and going through every element after a specific column number", "body": "<p>Here's one way to do it...</p>\n\n<pre><code>my $header = &lt;DATA&gt;;\nprint join(\"\\t\", split(' ', $header)), \"\\n\";\n\nwhile ( my $row = &lt;DATA&gt; ) {\n    my ($num, $let, $re, $al, @samps) = split(' ', $row);\n    my @reals = map {\n        if    ( m{0/0} ) { $re  }\n        elsif ( m{0/1} ) { $al  }\n        else             { 'NA' }\n    } @samps;\n    print join(\"\\t\", $num, $let, $re, $al, @reals), \"\\n\";\n}\n\n__DATA__\nNum Let Re  Al  Samp1   Samp2   Samp3   Samp4   Samp5\n1    dog    R    R    ./.    0/0    ./.    0/0    0/0\n2    dog    S    P    0/0    ./.    0/1     ./.     ./.\n3    cat    P   P    0/1    ./.     ./.     0/0     0/1\n4    horse    S     S    0/0    0/0    0/0    ./.    0/1\n5   cow     P    R  ./.     0/1     ./.     ./.    ./.\n</code></pre>\n\n<p>OUTPUT</p>\n\n<pre><code>Num     Let     Re      Al      Samp1   Samp2   Samp3   Samp4   Samp5\n1       dog     R       R       NA      R       NA      R       R\n2       dog     S       P       S       NA      P       NA      NA\n3       cat     P       P       P       NA      NA      P       P\n4       horse   S       S       S       S       S       NA      S\n5       cow     P       R       NA      R       NA      NA      NA\n</code></pre>\n"}], "owner": {"reputation": 3, "user_id": 5927429, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/89f339677947d4853fbed3b5caf1ce6d?s=128&d=identicon&r=PG&f=1", "display_name": "HCivica", "link": "https://stackoverflow.com/users/5927429/hcivica"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 143, "favorite_count": 0, "accepted_answer_id": 35496953, "answer_count": 2, "score": 0, "last_activity_date": 1455856457, "creation_date": 1455826546, "last_edit_date": 1455830899, "question_id": 35491559, "link": "https://stackoverflow.com/questions/35491559/perl-pushing-a-tab-delimited-file-into-an-array-and-going-through-every-element", "title": "Perl: Pushing a tab-delimited file into an array and going through every element after a specific column number", "body": "<p>I am fairly new to perl and I have this text file that I'm trying to format.</p>\n\n<p>Here is an example of what the tab-delimitedfile looks like:</p>\n\n<pre><code>Num Let Re  Al  Samp1   Samp2   Samp3   Samp4   Samp5\n\n1    dog    R    R    ./.    0/0    ./.    0/0    0/0\n\n2    dog    S    P    0/0    ./.    0/1     ./.     ./.\n\n3    cat    P   P    0/1    ./.     ./.     0/0     0/1\n\n4    horse    S     S    0/0    0/0    0/0    ./.    0/1\n\n5   cow     P    R  ./.     0/1     ./.     ./.    ./.\n</code></pre>\n\n<p>I want the program to go through this entire file. So if you are going row by row, it when it gets to 0/0, it needs to replace that with \"Re\" value of that row. If there is a 0/1, it needs to replace that with the \"Al\" value of that row. And for everything else, just replace it with 'NA'. I also was to just join the first two columns (Num:Let). Here is the example output:</p>\n\n<pre><code>Num:Let Re  Al  Samp1   Samp2   Samp3   Samp4   Samp5\n\n1:dog    R    R    NA    R    NA    R    R\n\n2:dog    S    P    S    NA  P   NA  NA\n\n3:cat    P  P    P  NA  NA  P   P\n\n4:horse    S     S    S    S    S    NA    S\n\n5:cow   P    R  NA  R   NA  NA    NA\n</code></pre>\n\n<p>Also, this is just an example. The actual file probably has more than 5 of the \"Samp\" columns. I tried splitting the file into an array and going through every element of the array using foreach loop. Then I used if-else statements to check for these conditions and replace that element if the condition is met but for some reason, it just makes all the \"Samp\" elements the same letter that I replaced it with. In short, I'm doing something wrong and I don't know what I'm doing wrong. Thank you.</p>\n"}, {"tags": ["perl"], "comments": [{"owner": {"reputation": 339644, "user_id": 118068, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/077db5466d3b58e7bbbd498dca173f04?s=128&d=identicon&r=PG", "display_name": "Marc B", "link": "https://stackoverflow.com/users/118068/marc-b"}, "edited": false, "score": 1, "creation_date": 1455824164, "post_id": 35490767, "comment_id": 58674359, "body": "Possible duplicate of <a href=\"http://stackoverflow.com/questions/7726514/how-to-convert-text-date-to-timestamp\">How to convert text date to timestamp?</a>"}, {"owner": {"reputation": 1189, "user_id": 2434345, "user_type": "registered", "accept_rate": 16, "profile_image": "https://www.gravatar.com/avatar/ac5d311da3b2de6e95e72cd76594a8bf?s=128&d=identicon&r=PG", "display_name": "Mozbi", "link": "https://stackoverflow.com/users/2434345/mozbi"}, "reply_to_user": {"reputation": 339644, "user_id": 118068, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/077db5466d3b58e7bbbd498dca173f04?s=128&d=identicon&r=PG", "display_name": "Marc B", "link": "https://stackoverflow.com/users/118068/marc-b"}, "edited": false, "score": 0, "creation_date": 1455824469, "post_id": 35490767, "comment_id": 58674534, "body": "do you know how I can make it 16 digits? and do you know if it has better performance than calling the bash date function?"}, {"owner": {"reputation": 339644, "user_id": 118068, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/077db5466d3b58e7bbbd498dca173f04?s=128&d=identicon&r=PG", "display_name": "Marc B", "link": "https://stackoverflow.com/users/118068/marc-b"}, "edited": false, "score": 0, "creation_date": 1455824551, "post_id": 35490767, "comment_id": 58674579, "body": "learn the concepts, and then you can convert any kind of date/time string to a timestamp, instead of flailing around for an extremely specific solution, and then getting stuck again when that format changes ever so slightly."}, {"owner": {"reputation": 110113, "user_id": 168657, "user_type": "registered", "accept_rate": 92, "profile_image": "https://www.gravatar.com/avatar/f14e7610fca39322ebbf23530def15f8?s=128&d=identicon&r=PG", "display_name": "mob", "link": "https://stackoverflow.com/users/168657/mob"}, "edited": false, "score": 2, "creation_date": 1455824594, "post_id": 35490767, "comment_id": 58674603, "body": "To convert 10 digits to 16 digits, add &quot;000000&quot; to the end."}, {"owner": {"reputation": 228853, "user_id": 827263, "user_type": "registered", "accept_rate": 54, "profile_image": "https://www.gravatar.com/avatar/216c1db53d752f87dd8176a6ba0c2190?s=128&d=identicon&r=PG", "display_name": "Keith Thompson", "link": "https://stackoverflow.com/users/827263/keith-thompson"}, "reply_to_user": {"reputation": 339644, "user_id": 118068, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/077db5466d3b58e7bbbd498dca173f04?s=128&d=identicon&r=PG", "display_name": "Marc B", "link": "https://stackoverflow.com/users/118068/marc-b"}, "edited": false, "score": 1, "creation_date": 1455825160, "post_id": 35490767, "comment_id": 58674925, "body": "You didn&#39;t clearly explain what you meant by &quot;16digit epoch time&quot;, and most readers probably don&#39;t know what <code>%6N</code> means. I&#39;ve updated your question (which, @MarcB, is not a duplicate). So all your timestamps specify only the day. Do you want midnight of that day? In the current local time zone?"}, {"owner": {"reputation": 228853, "user_id": 827263, "user_type": "registered", "accept_rate": 54, "profile_image": "https://www.gravatar.com/avatar/216c1db53d752f87dd8176a6ba0c2190?s=128&d=identicon&r=PG", "display_name": "Keith Thompson", "link": "https://stackoverflow.com/users/827263/keith-thompson"}, "edited": false, "score": 0, "creation_date": 1455825259, "post_id": 35490767, "comment_id": 58674980, "body": "Incidentally, that representation happens to be 16 digits only from Sun 2001-09-09 01:46:40 UTC to Sat 2286-11-20 17:46:39 UTC. The upper bound probably isn&#39;t an issue, but if you have dates before 2001, decide whether you want to pad them with leading 0s."}, {"owner": {"reputation": 339644, "user_id": 118068, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/077db5466d3b58e7bbbd498dca173f04?s=128&d=identicon&r=PG", "display_name": "Marc B", "link": "https://stackoverflow.com/users/118068/marc-b"}, "edited": false, "score": 0, "creation_date": 1455825320, "post_id": 35490767, "comment_id": 58675024, "body": "so basically a javascript-style millisecond timestamp? then it still is a dupe. convert to a conventional &quot;seconds since the epoch&quot; timestamp, then multiply by 1000."}, {"owner": {"reputation": 1189, "user_id": 2434345, "user_type": "registered", "accept_rate": 16, "profile_image": "https://www.gravatar.com/avatar/ac5d311da3b2de6e95e72cd76594a8bf?s=128&d=identicon&r=PG", "display_name": "Mozbi", "link": "https://stackoverflow.com/users/2434345/mozbi"}, "edited": false, "score": 0, "creation_date": 1455825332, "post_id": 35490767, "comment_id": 58675033, "body": "That&#39;s correct. The dates are all midnight. I don&#39;t have any dates before 2001."}, {"owner": {"reputation": 6258, "user_id": 82262, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/8ce15931410b388a52eb2df4a864137f?s=128&d=identicon&r=PG&f=1", "display_name": "Matt Jacob", "link": "https://stackoverflow.com/users/82262/matt-jacob"}, "reply_to_user": {"reputation": 339644, "user_id": 118068, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/077db5466d3b58e7bbbd498dca173f04?s=128&d=identicon&r=PG", "display_name": "Marc B", "link": "https://stackoverflow.com/users/118068/marc-b"}, "edited": false, "score": 0, "creation_date": 1455829285, "post_id": 35490767, "comment_id": 58677262, "body": "@MarcB Microseconds, not milliseconds (10^6)"}, {"owner": {"reputation": 339644, "user_id": 118068, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/077db5466d3b58e7bbbd498dca173f04?s=128&d=identicon&r=PG", "display_name": "Marc B", "link": "https://stackoverflow.com/users/118068/marc-b"}, "edited": false, "score": 0, "creation_date": 1455829903, "post_id": 35490767, "comment_id": 58677598, "body": "either way, simple math, especially since the source is a date value only anyways."}], "answers": [{"tags": [], "owner": {"reputation": 3327, "user_id": 1604311, "user_type": "registered", "accept_rate": 73, "profile_image": "https://i.stack.imgur.com/0frKT.jpg?s=128&g=1", "display_name": "Arunesh Singh", "link": "https://stackoverflow.com/users/1604311/arunesh-singh"}, "is_accepted": false, "score": 0, "last_activity_date": 1455825358, "creation_date": 1455825358, "answer_id": 35491183, "question_id": 35490767, "link": "https://stackoverflow.com/questions/35490767/perl-convert-yyyymmdd-to-16digit-epoch-time/35491183#35491183", "title": "Perl convert YYYYMMDD to 16digit epoch time", "body": "<p><a href=\"http://perldoc.perl.org/Time/Piece.html\" rel=\"nofollow\"><code>Time::Piece</code></a> can do all the things you want. After that just right pad <code>0</code>'s to epoch, so that it becomes 16 digits.</p>\n\n<pre><code>#!/usr/bin/perl\nuse strict;\nuse warnings;\nuse Time::Piece;\n\nmy $t = Time::Piece -&gt; strptime(\"20160219\",\n                                       \"%Y%m%d\");\nmy $epoch = $t -&gt; epoch;\n\n# make $epoch 16 digits\n$epoch .= \"0\" x (16 - length($epoch));\n\nprint \"$epoch\\n\";\n</code></pre>\n"}, {"comments": [{"owner": {"reputation": 6258, "user_id": 82262, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/8ce15931410b388a52eb2df4a864137f?s=128&d=identicon&r=PG&f=1", "display_name": "Matt Jacob", "link": "https://stackoverflow.com/users/82262/matt-jacob"}, "edited": false, "score": 1, "creation_date": 1455828848, "post_id": 35491198, "comment_id": 58677039, "body": "I think my jaw just hit the floor."}, {"owner": {"reputation": 220, "user_id": 3295322, "user_type": "registered", "accept_rate": 44, "profile_image": "https://www.gravatar.com/avatar/1a114d13f7cb21d6f699f5ac0b2de8a3?s=128&d=identicon&r=PG&f=1", "display_name": "YouHaveaBigEgo", "link": "https://stackoverflow.com/users/3295322/youhaveabigego"}, "reply_to_user": {"reputation": 6258, "user_id": 82262, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/8ce15931410b388a52eb2df4a864137f?s=128&d=identicon&r=PG&f=1", "display_name": "Matt Jacob", "link": "https://stackoverflow.com/users/82262/matt-jacob"}, "edited": false, "score": 0, "creation_date": 1455832820, "post_id": 35491198, "comment_id": 58679227, "body": "well, it&#39;s not what the OP asked, but I often need to convert seconds from epoch to readable timestamps from our logs when I print it to .csv files and I wrote this to help me."}, {"owner": {"reputation": 6258, "user_id": 82262, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/8ce15931410b388a52eb2df4a864137f?s=128&d=identicon&r=PG&f=1", "display_name": "Matt Jacob", "link": "https://stackoverflow.com/users/82262/matt-jacob"}, "edited": false, "score": 1, "creation_date": 1455834440, "post_id": 35491198, "comment_id": 58680016, "body": "Not just that, but there are well-tested libraries available that can do the same thing in 2 lines."}, {"owner": {"reputation": 21782, "user_id": 176646, "user_type": "registered", "accept_rate": 88, "profile_image": "https://i.stack.imgur.com/HsQyV.png?s=128&g=1", "display_name": "ThisSuitIsBlackNot", "link": "https://stackoverflow.com/users/176646/thissuitisblacknot"}, "reply_to_user": {"reputation": 6258, "user_id": 82262, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/8ce15931410b388a52eb2df4a864137f?s=128&d=identicon&r=PG&f=1", "display_name": "Matt Jacob", "link": "https://stackoverflow.com/users/82262/matt-jacob"}, "edited": false, "score": 0, "creation_date": 1455851234, "post_id": 35491198, "comment_id": 58685419, "body": "I can tell you put a lot of effort into this, but did you test it? It returns <code>2026-02-23-03:00:10.000</code> for an input of now and <code>1980-01-06-00:00:00.000</code> for an input of zero (should be 1970-01-01). This is why @MattJacob recommended you use an existing module."}], "tags": [], "owner": {"reputation": 220, "user_id": 3295322, "user_type": "registered", "accept_rate": 44, "profile_image": "https://www.gravatar.com/avatar/1a114d13f7cb21d6f699f5ac0b2de8a3?s=128&d=identicon&r=PG&f=1", "display_name": "YouHaveaBigEgo", "link": "https://stackoverflow.com/users/3295322/youhaveabigego"}, "is_accepted": false, "score": -3, "last_activity_date": 1455825388, "creation_date": 1455825388, "answer_id": 35491198, "question_id": 35490767, "link": "https://stackoverflow.com/questions/35490767/perl-convert-yyyymmdd-to-16digit-epoch-time/35491198#35491198", "title": "Perl convert YYYYMMDD to 16digit epoch time", "body": "<p>Wow, I just actually wrote a script to take the timestamp where it takes a timestamp where it's in seconds since epoch and convert it to human readable format. Not what you asked, but perhaps you can reverse what I wrote.</p>\n\n<pre><code>my $ts = $ARGV[0]; #2012-09-04-20:24:19.870 1030825460\nmy $newTs = toTimeString($ts);\nprint \"\\n\".$newTs.\"\\n\";\n\n\n## Convert from time since epoch in seconds to string YYYY-MM-DD-HH:mm:ss.sss\nsub toTimeString{   \n    my $ts=shift;\n    $ts += 432000; # Add 5 days to make computation easy.\n    my $sec = $ts-int($ts/60)*60; # Seconds\n    $ts = int($ts/60); # Convert to minutes\n    my $min = $ts%60; # minutes\n    $ts = int($ts/60); # Convert to hours.\n    my $hr = $ts%24; # hours;\n    $ts = int($ts/24); # Convert to days.\n    my $yr;\n    my $mo;\n    my $day;\n    my $days =  [   [31,28,31,30,31,30,31,31,30,31,30,31],\n                    [31,29,31,30,31,30,31,31,30,31,30,31]\n                ];\n    our $cumDays =  [   [0,31,59,90,120,151,181,212,243,273,304,334],\n                    [0,31,60,91,121,152,182,213,244,274,305,335]\n                ];\n    if($ts&lt;366){$yr=1980;}\n    else{\n        $yr = 1981 + int(($ts-366)/1461)*4;\n        $ts = $ts - 366 - int(($ts-366)/1461)*1461;\n        if($ts &lt; 1095){$yr += int($ts/365); $ts = $ts - int($ts/365)*365;}\n        else{$yr = $yr+3; $ts=$ts-1095;}\n    }\n    my $leap=0;\n    my $i;\n    if($yr%4 == 0){$leap=1;}\n    for($i=0;$i&lt;12;$i++){\n        if($ts &gt; $cumDays-&gt;[$leap]-&gt;[$i]){\n            $mo=$i+1;\n        }\n    }\n    $day=$ts-$cumDays-&gt;[$leap]-&gt;[$mo-1]+1;\n    my $ret;\n    $ret = sprintf(\"%04d\",$yr).\"-\".sprintf(\"%02d\",$mo).\"-\".sprintf(\"%02d\",$day).\"-\";\n    $ret = $ret.sprintf(\"%02d\",$hr).\":\".sprintf(\"%02d\",$min).\":\".sprintf(\"%02d\",int($sec));\n    $ret = $ret.\"\\.\".sprintf(\"%03d\",int($sec*1000)%1000);\n    return ($ret)\n}\n</code></pre>\n"}, {"tags": [], "owner": {"reputation": 51, "user_id": 3463822, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/Vf8PY.jpg?s=128&g=1", "display_name": "diwaniuk", "link": "https://stackoverflow.com/users/3463822/diwaniuk"}, "is_accepted": false, "score": 0, "last_activity_date": 1455829765, "last_edit_date": 1455829765, "creation_date": 1455825453, "answer_id": 35491219, "question_id": 35490767, "link": "https://stackoverflow.com/questions/35490767/perl-convert-yyyymmdd-to-16digit-epoch-time/35491219#35491219", "title": "Perl convert YYYYMMDD to 16digit epoch time", "body": "<p>You can use the Time::Local core module:</p>\n\n<pre><code>use Time::Local 'timelocal';\n\n$date = \"20160218\";\n($year, $month, $day) = unpack \"A4A2A2\", $date;\n\n$time = timelocal(0, 0, 0, $day, $month-1, $year);\n$time .= '000000';\n</code></pre>\n"}, {"tags": [], "owner": {"reputation": 2317, "user_id": 711515, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/8b5b6edf26acc698b27a585417bb9bb6?s=128&d=identicon&r=PG", "display_name": "chansen", "link": "https://stackoverflow.com/users/711515/chansen"}, "is_accepted": false, "score": 3, "last_activity_date": 1455826965, "creation_date": 1455826965, "answer_id": 35491693, "question_id": 35490767, "link": "https://stackoverflow.com/questions/35490767/perl-convert-yyyymmdd-to-16digit-epoch-time/35491693#35491693", "title": "Perl convert YYYYMMDD to 16digit epoch time", "body": "<p>You can also use <a href=\"https://metacpan.org/pod/Time::Moment\" rel=\"nofollow\">Time::Moment</a>. In the interest of full disclosure, I am the author of Time::Moment.</p>\n\n<pre><code>use v5.10;\nuse Time::Moment;\n\nsay Time::Moment-&gt;from_string('20160219' . 'T00Z')\n                -&gt;strftime('%s%6N');\n</code></pre>\n\n<p>Output:</p>\n\n<pre><code>1455840000000000\n</code></pre>\n"}], "owner": {"reputation": 1189, "user_id": 2434345, "user_type": "registered", "accept_rate": 16, "profile_image": "https://www.gravatar.com/avatar/ac5d311da3b2de6e95e72cd76594a8bf?s=128&d=identicon&r=PG", "display_name": "Mozbi", "link": "https://stackoverflow.com/users/2434345/mozbi"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 1160, "favorite_count": 0, "answer_count": 4, "score": 0, "last_activity_date": 1455829765, "creation_date": 1455823968, "last_edit_date": 1455825048, "question_id": 35490767, "link": "https://stackoverflow.com/questions/35490767/perl-convert-yyyymmdd-to-16digit-epoch-time", "title": "Perl convert YYYYMMDD to 16digit epoch time", "body": "<p>Is there a perl function that converts YYYYMMDD to a 16digit epoch time?</p>\n\n<p>I'm currently calling the date command:</p>\n\n<pre><code>date -d 20160219 +%s%6N\n</code></pre>\n\n<p>for the conversion but my script takes a long time to go through the millions of dates in my data set.</p>\n\n<p>By \"16digit epoch time\", I mean a 16-digit decimal integer representing microseconds since the epoch. For example, <code>2016-02-19 00:00:00 UTC</code> is 1455840000 seconds after the epoch, so the result I want is <code>\"1455840000000000\"</code>.</p>\n"}, {"tags": ["perl"], "answers": [{"tags": [], "owner": {"reputation": 45481, "user_id": 197758, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/628da6ba2a6c70e35c009b7e3c3a430a?s=128&d=identicon&r=PG", "display_name": "toolic", "link": "https://stackoverflow.com/users/197758/toolic"}, "is_accepted": true, "score": 4, "last_activity_date": 1455823138, "last_edit_date": 1455823138, "creation_date": 1455821206, "answer_id": 35489913, "question_id": 35489773, "link": "https://stackoverflow.com/questions/35489773/perl-getoptions-or-die-not-working-as-intended/35489913#35489913", "title": "Perl GetOptions or die not working as intended", "body": "<p>By default, <a href=\"http://perldoc.perl.org/Getopt/Long.html\" rel=\"nofollow\">Getopt::Long</a> treats its options as, well ... optional.  <code>GetOptions</code> is happy if you didn't provide <code>netlist</code> on the command line. You need to do a little extra work to check if the option was provided.  Here is one way.</p>\n\n<pre><code>use warnings;\nuse strict;\nuse Getopt::Long;\n\nmy $NETLIST;\nGetOptions (\n    \"netlist=s\" =&gt; \\$NETLIST\n) or die (\"ERROR: unsupported option.\");\n\ndie(\"ERROR: Netlist path must be specified.\") unless defined $NETLIST;\n</code></pre>\n"}], "owner": {"reputation": 31, "user_id": 5683944, "user_type": "registered", "profile_image": "https://graph.facebook.com/10207193309724651/picture?type=large", "display_name": "PS12", "link": "https://stackoverflow.com/users/5683944/ps12"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 1155, "favorite_count": 0, "accepted_answer_id": 35489913, "answer_count": 1, "score": 2, "last_activity_date": 1455827858, "creation_date": 1455820757, "last_edit_date": 1455827858, "question_id": 35489773, "link": "https://stackoverflow.com/questions/35489773/perl-getoptions-or-die-not-working-as-intended", "title": "Perl GetOptions or die not working as intended", "body": "<p>I am writing a simple code which takes in an argument at command line and does some processing. I want the script to \"die\" if no option is passed.</p>\n\n<p>Here is my script but it doesn't seem to \"die\". Any comments?</p>\n\n<pre><code>my $NETLIST;\nGetOptions (\n    \"netlist=s\" =&gt; \\$NETLIST\n) or die (\"ERROR: Netlist path must be specified.\");\n</code></pre>\n"}, {"tags": ["perl"], "comments": [{"owner": {"reputation": 6258, "user_id": 82262, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/8ce15931410b388a52eb2df4a864137f?s=128&d=identicon&r=PG&f=1", "display_name": "Matt Jacob", "link": "https://stackoverflow.com/users/82262/matt-jacob"}, "edited": false, "score": 1, "creation_date": 1455822368, "post_id": 35489756, "comment_id": 58673378, "body": "Use a hash. Use the search function on this site -- this question (or a variant of it) has been asked numerous times before."}, {"owner": {"reputation": 3327, "user_id": 1604311, "user_type": "registered", "accept_rate": 73, "profile_image": "https://i.stack.imgur.com/0frKT.jpg?s=128&g=1", "display_name": "Arunesh Singh", "link": "https://stackoverflow.com/users/1604311/arunesh-singh"}, "edited": false, "score": 0, "creation_date": 1455822540, "post_id": 35489756, "comment_id": 58673470, "body": "Please use <code>use strict</code> and <code>use warnings</code> at the top of every perl program."}], "answers": [{"comments": [{"owner": {"user_type": "does_not_exist", "display_name": "user5917411"}, "edited": false, "score": 0, "creation_date": 1455823446, "post_id": 35490299, "comment_id": 58673993, "body": "Can you explain me how this line works? <code>$words{$y}++;</code> I mean why do you use ++ ?"}, {"owner": {"user_type": "does_not_exist", "display_name": "user5917411"}, "edited": false, "score": 0, "creation_date": 1455823556, "post_id": 35490299, "comment_id": 58674053, "body": "Oh... Now I get it... sorry for dumb question and thanks ;D"}, {"owner": {"reputation": 5923, "user_id": 2105156, "user_type": "registered", "accept_rate": 76, "profile_image": "https://i.stack.imgur.com/oRMc0.jpg?s=128&g=1", "display_name": "fugu", "link": "https://stackoverflow.com/users/2105156/fugu"}, "edited": false, "score": 0, "creation_date": 1455823571, "post_id": 35490299, "comment_id": 58674066, "body": "It&#39;s the same as writing <code>$words{$y} += 1</code>, the first time it sees hello the value is <code>1</code>, the second time this gets incremented by 1 to <code>2</code>.."}], "tags": [], "owner": {"reputation": 5923, "user_id": 2105156, "user_type": "registered", "accept_rate": 76, "profile_image": "https://i.stack.imgur.com/oRMc0.jpg?s=128&g=1", "display_name": "fugu", "link": "https://stackoverflow.com/users/2105156/fugu"}, "is_accepted": true, "score": 1, "last_activity_date": 1455823251, "last_edit_date": 1455823251, "creation_date": 1455822424, "answer_id": 35490299, "question_id": 35489756, "link": "https://stackoverflow.com/questions/35489756/how-to-find-how-many-same-words-in-array-and-not-to-repeat-them-in-perl/35490299#35490299", "title": "How to find how many same words in array and not to repeat them in perl?", "body": "<p>First of all: always add <code>use strict</code> <code>use warnings</code> to your script. You'll save yourself a lot of heartache. Secondly, you need to <a href=\"http://perldoc.perl.org/functions/chomp.html\" rel=\"nofollow\">chomp</a> your words as they come in the STDIN, otherwise they'll include the trailing newline.</p>\n\n<p>I'd go about it as follows. Use a hash (or dictionary) to store each word as it comes in as the key, and the number of times it's been seen as the value. Here entering hello three times will result in a single key, <code>hello</code> associated with the value <code>3</code>. </p>\n\n<pre><code>print \"How many words in array?\\n\";\n\nmy $x = &lt;STDIN&gt;;\nmy $i = 0;\n\nmy %words;\n\nwhile($i &lt; $x ){\n    print \"Enter $i word\\n\";\n    my $y = &lt;STDIN&gt;;\n    chomp($y);\n    $words{$y}++;\n    $i++;\n</code></pre>\n\n<p>}</p>\n\n<p>Then you can just print these out for each new word entered:</p>\n\n<pre><code>for my $w (keys %words){\n    print \"$w repeats $words{$w} times \";\n}\n\nprint \"\\n\";\n</code></pre>\n"}], "owner": {"user_type": "does_not_exist", "display_name": "user5917411"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 76, "favorite_count": 0, "accepted_answer_id": 35490299, "answer_count": 1, "score": 1, "last_activity_date": 1455960816, "creation_date": 1455820720, "question_id": 35489756, "link": "https://stackoverflow.com/questions/35489756/how-to-find-how-many-same-words-in-array-and-not-to-repeat-them-in-perl", "title": "How to find how many same words in array and not to repeat them in perl?", "body": "<pre><code>#!/usr/bin/perl\nprint \"How many words in array?\\n\";\n$x = &lt;STDIN&gt;;\n$i = 0;\n\nwhile($i &lt; $x ){\nprint \"Enter $i word\\n\";\n$y = &lt;STDIN&gt;;\n$arr[$i]= $y;\n$i++;\n};\n\n$i = 0;\n$hm = @arr;\n\nfor (my $i=0; $i &lt; $hm; $i++){\nmy $many = grep(/$arr[$i]/, @arr);\nprint \"$arr[$i] repeats $many times\\n\";\n}\n</code></pre>\n\n<p>So, If I enter that I want to have 5 words in my array, \"hello\" and \"bye\" I get result like this:</p>\n\n<blockquote>\n  <p>hello<br>\n  repeats 3 times<br>\n  hello<br>\n  repeats 3 times<br>\n  hello<br>\n  repeats 3 times<br>\n  bye<br>\n  repeats 2 times<br>\n  bye<br>\n  repeats 2 times  </p>\n</blockquote>\n\n<p>How could I get result like this:</p>\n\n<blockquote>\n  <p>hello repeats 3 times \n  bye repeats 2 times</p>\n</blockquote>\n\n<p>I mean how can I avoid same words check?</p>\n"}, {"tags": ["perl", "cygwin"], "answers": [{"comments": [{"owner": {"reputation": 79, "user_id": 3185596, "user_type": "registered", "accept_rate": 64, "profile_image": "https://www.gravatar.com/avatar/28a6d18f2f3ddb3ef4833681ede1e9c3?s=128&d=identicon&r=PG&f=1", "display_name": "user3185596", "link": "https://stackoverflow.com/users/3185596/user3185596"}, "edited": false, "score": 0, "creation_date": 1455828533, "post_id": 35488797, "comment_id": 58676876, "body": "Thanks @mob . I was fooling myself.  I never had perl in cygwin but was using activeperl. So I uninstall active perl and install cygwin perl and update the cygwin as well.         However , new beast appear any idea . Running make for J/JM/JMCNAMARA/Excel-Writer-XLSX-0.88.tar.gz Can&#39;t exec &quot;make&quot;: No such file or directory at /usr/lib/perl5/5.22/CPAN/Distribution.pm line 2243.   JMCNAMARA/Excel-Writer-XLSX-0.88.tar.gz   make -- NOT OK Failed during this command:  JMCNAMARA/Excel-Writer-XLSX-0.88.tar.gz      : make NO"}, {"owner": {"reputation": 110113, "user_id": 168657, "user_type": "registered", "accept_rate": 92, "profile_image": "https://www.gravatar.com/avatar/f14e7610fca39322ebbf23530def15f8?s=128&d=identicon&r=PG", "display_name": "mob", "link": "https://stackoverflow.com/users/168657/mob"}, "reply_to_user": {"reputation": 79, "user_id": 3185596, "user_type": "registered", "accept_rate": 64, "profile_image": "https://www.gravatar.com/avatar/28a6d18f2f3ddb3ef4833681ede1e9c3?s=128&d=identicon&r=PG&f=1", "display_name": "user3185596", "link": "https://stackoverflow.com/users/3185596/user3185596"}, "edited": false, "score": 0, "creation_date": 1455831799, "post_id": 35488797, "comment_id": 58678629, "body": "You need to install <code>make</code> on Cygwin. I think it&#39;s in a <code>make</code> package."}], "tags": [], "owner": {"reputation": 110113, "user_id": 168657, "user_type": "registered", "accept_rate": 92, "profile_image": "https://www.gravatar.com/avatar/f14e7610fca39322ebbf23530def15f8?s=128&d=identicon&r=PG", "display_name": "mob", "link": "https://stackoverflow.com/users/168657/mob"}, "is_accepted": true, "score": 1, "last_activity_date": 1455817778, "creation_date": 1455817778, "answer_id": 35488797, "question_id": 35487123, "link": "https://stackoverflow.com/questions/35487123/perl-module-excelwriterxlsx-issue/35488797#35488797", "title": "Perl Module Excel::Writer::XLSX. issue", "body": "<p><code>dmake</code> and <code>C:\\Perl64</code> in your output are clues that you have some other version of Perl for Windows on your system, and it appears in your <code>PATH</code> ahead of your Perl for Cygwin. Fix that issue first.</p>\n"}], "owner": {"reputation": 79, "user_id": 3185596, "user_type": "registered", "accept_rate": 64, "profile_image": "https://www.gravatar.com/avatar/28a6d18f2f3ddb3ef4833681ede1e9c3?s=128&d=identicon&r=PG&f=1", "display_name": "user3185596", "link": "https://stackoverflow.com/users/3185596/user3185596"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 944, "favorite_count": 0, "accepted_answer_id": 35488797, "answer_count": 1, "score": 0, "last_activity_date": 1455817778, "creation_date": 1455813083, "question_id": 35487123, "link": "https://stackoverflow.com/questions/35487123/perl-module-excelwriterxlsx-issue", "title": "Perl Module Excel::Writer::XLSX. issue", "body": "<p>I'm trying to install \"Excel::Writer::XLSX.\" module using Cygwin, however I'm getting this below issue when its running the make file. </p>\n\n<p>Any help to fix it will be appreciated </p>\n\n<p>Running make for J/JM/JMCNAMARA/Excel-Writer-XLSX-0.88.tar.gz</p>\n\n<pre><code>dmake.exe:  Error executing '\\bin\\bash': No such file or directory\ndmake.exe:  Error code 255, while making 'blib\\lib\\Excel\\Writer\\.exists'\n  JMCNAMARA/Excel-Writer-XLSX-0.88.tar.gz\n  C:\\Perl64\\site\\bin\\dmake.exe -- NOT OK\n\nFailed during this command:\n JMCNAMARA/Excel-Writer-XLSX-0.88.tar.gz      : make NO\n</code></pre>\n"}, {"tags": ["perl", "pdf"], "comments": [{"owner": {"reputation": 50468, "user_id": 1331451, "user_type": "registered", "accept_rate": 96, "profile_image": "https://i.stack.imgur.com/4ZPmj.png?s=128&g=1", "display_name": "simbabque", "link": "https://stackoverflow.com/users/1331451/simbabque"}, "edited": false, "score": 0, "creation_date": 1455813164, "post_id": 35486450, "comment_id": 58667588, "body": "Starting from <a href=\"https://metacpan.org/source/EXIFTOOL/Image-ExifTool-10.10/lib/Image/ExifTool/PDF.pm#L146\" rel=\"nofollow noreferrer\">metacpan.org/source/EXIFTOOL/Image-ExifTool-10.10/lib/Image/&zwnj;&#8203;&hellip;</a> there are a few mentions of <i>Root</i>. I&#39;m not familiar with the structure of those tags, and what the <i>Root</i> thingy is, but I suggest you study the code in that module, and the modules it uses. That might help. Possibly the interface doesn&#39;t expose that thingy, but you might be able to grab it anyway with some black magic."}], "answers": [{"tags": [], "owner": {"reputation": 6592, "user_id": 3005251, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/a5331f7e467aae3d581fe8bc814ef572?s=128&d=identicon&r=PG", "display_name": "bolav", "link": "https://stackoverflow.com/users/3005251/bolav"}, "is_accepted": false, "score": 1, "last_activity_date": 1455827286, "creation_date": 1455827286, "answer_id": 35491772, "question_id": 35486450, "link": "https://stackoverflow.com/questions/35486450/read-meta-information-from-pdf-using-perl-module-imageexiftool/35491772#35491772", "title": "Read meta information from PDF using Perl module Image::ExifTool", "body": "<p>To see the parsing enable verbose mode: <code>$exifTool-&gt;Options(Verbose =&gt; 1);</code> It shows that the Root is indeed being parsed.</p>\n\n<pre><code>  7)  Root (SubDirectory) --&gt;\n  + [Root directory with 7 entries]\n  | 0)  Metadata (SubDirectory) --&gt;\n  | + [Metadata directory with 3 entries]\n</code></pre>\n\n<p>I'm unsure what data you need from the root tag, but it's possible to get with the internal API: <code>my $roottag = Image::ExifTool::GetTagTable('Image::ExifTool::PDF::Root');</code></p>\n\n<p>From <a href=\"https://metacpan.org/source/EXIFTOOL/Image-ExifTool-10.10/lib/Image/ExifTool.pm#L40\" rel=\"nofollow\">Image::ExifTool</a>:</p>\n\n<blockquote>\n  <p>exports not part of the public API, but used by ExifTool modules:</p>\n</blockquote>\n"}], "owner": {"reputation": 41, "user_id": 5946643, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/be87ff9e237ec720b34494b9aecd23e9?s=128&d=identicon&r=PG&f=1", "display_name": "Branko", "link": "https://stackoverflow.com/users/5946643/branko"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 299, "favorite_count": 0, "answer_count": 1, "score": 4, "last_activity_date": 1455827286, "creation_date": 1455811454, "last_edit_date": 1455812837, "question_id": 35486450, "link": "https://stackoverflow.com/questions/35486450/read-meta-information-from-pdf-using-perl-module-imageexiftool", "title": "Read meta information from PDF using Perl module Image::ExifTool", "body": "<p>I would like to read meta information from PDF using Perl module <a href=\"http://search.cpan.org/~exiftool/Image-ExifTool-10.10/lib/Image/ExifTool.pod\" rel=\"nofollow\">Image::ExifTool</a>. I need to process PDFs using cross reference streams (as of PDF 1.5), and the other well established modules like PDF::API2 and CAM::PDF seem not to support them or have limited support.</p>\n\n<p>Anyway, Image::ExifTool reads apparently a number of <a href=\"http://cpansearch.perl.org/src/EXIFTOOL/Image-ExifTool-10.10/html/TagNames/PDF.html\" rel=\"nofollow\">PDF tags</a>, but if I run the following code:</p>\n\n<pre><code>use Image::ExifTool qw(:Public);\nmy $file = 'file.pdf';\nmy $exifTool = new Image::ExifTool;\n$exifTool-&gt;ExtractInfo($file);\nmy @tagList = $exifTool-&gt;GetFoundTags('File');\nfor (@tagList){\n    print \"$_\\n\"\n}\n</code></pre>\n\n<p>I do not seem to be able to get more then these tags:</p>\n\n<pre><code>ExifToolVersion\nFileName\nDirectory\nFileSize\nFileModifyDate\nFileAccessDate\nFileCreateDate\nFilePermissions\nFileType\nFileTypeExtension\nMIMEType\nPDFVersion\nLinearized\nAuthor\nCreateDate\nCreator (1)\nModifyDate\nProducer (1)\nSubject\nTitle (1)\nXMPToolkit\nCreateDate (1)\nCreatorTool\nModifyDate (1)\nMetadataDate\nProducer\nFormat\nTitle\nDescription\nCreator\nDocumentID\nInstanceID\nPageLayout\nPageMode\nPageCount\n</code></pre>\n\n<p>In particular, I would like to get e.g. the PDF document catalog (Root tag). However running a code like this doesn't return any value:</p>\n\n<pre><code>my $tag = 'Root';\nmy $exifTool = new Image::ExifTool;\nmy $info = $exifTool-&gt;ImageInfo($file, $tag);\nfor (sort keys %$info) {\n        print \"$_ =&gt; $$info{$_}\\n\";\n}\n</code></pre>\n\n<p>Help please :-)</p>\n"}, {"tags": ["perl", "debugging"], "answers": [{"comments": [{"owner": {"reputation": 50468, "user_id": 1331451, "user_type": "registered", "accept_rate": 96, "profile_image": "https://i.stack.imgur.com/4ZPmj.png?s=128&g=1", "display_name": "simbabque", "link": "https://stackoverflow.com/users/1331451/simbabque"}, "edited": false, "score": 1, "creation_date": 1455811903, "post_id": 35486638, "comment_id": 58666587, "body": "FYI, I googled <i>perl debugger output to file</i> and it was the first hit."}], "tags": [], "owner": {"reputation": 50468, "user_id": 1331451, "user_type": "registered", "accept_rate": 96, "profile_image": "https://i.stack.imgur.com/4ZPmj.png?s=128&g=1", "display_name": "simbabque", "link": "https://stackoverflow.com/users/1331451/simbabque"}, "is_accepted": false, "score": 4, "last_activity_date": 1455811875, "creation_date": 1455811875, "answer_id": 35486638, "question_id": 35486319, "link": "https://stackoverflow.com/questions/35486319/how-to-display-full-structure-hash-while-running-perl-debugger/35486638#35486638", "title": "How to display full structure hash while running Perl debugger?", "body": "<p>There is a <a href=\"http://www.perlmonks.org/?node_id=983496\" rel=\"nofollow\">post on perlmonks</a> by <em>morgon</em> that explains how to do this. Here's the core part (emphasis/markdown mine).</p>\n\n<blockquote>\n  <p>First set up a pager like this: <code>o pager=\"&gt;my_file\"</code> Then pipe the\n  x-command through the pager like this: <code>|x $huge_reference</code></p>\n  \n  <p>That's it - \"my_file\" now contains the dump for you to inspect.</p>\n  \n  <p>You can even set up a pager as <code>\"&gt;&gt;my_file\"</code> for appending.</p>\n</blockquote>\n"}], "owner": {"reputation": 49, "user_id": 5600218, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/dfdb6eb4277ec86ce39d2bc7d0d39d30?s=128&d=identicon&r=PG&f=1", "display_name": "Perl Novice", "link": "https://stackoverflow.com/users/5600218/perl-novice"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 243, "favorite_count": 0, "answer_count": 1, "score": 3, "last_activity_date": 1455811875, "creation_date": 1455811157, "last_edit_date": 1455811506, "question_id": 35486319, "link": "https://stackoverflow.com/questions/35486319/how-to-display-full-structure-hash-while-running-perl-debugger", "title": "How to display full structure hash while running Perl debugger?", "body": "<p>While using perl in debugging mode if the structure of the hash variable (<code>x %h</code>) is too big to display on the screen, the how we can see the full structure of hash.</p>\n\n<p>Is there any way to redirect the output of <code>x %h</code> to some file ?</p>\n"}, {"tags": ["regex", "perl", "sed"], "answers": [{"comments": [{"owner": {"reputation": 7282, "user_id": 2716792, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/l0Oth.jpg?s=128&g=1", "display_name": "alpha bravo", "link": "https://stackoverflow.com/users/2716792/alpha-bravo"}, "reply_to_user": {"reputation": 12317, "user_id": 219335, "user_type": "registered", "accept_rate": 80, "profile_image": "https://www.gravatar.com/avatar/fe957ed286bf11144815fcdde39ccfeb?s=128&d=identicon&r=PG", "display_name": "davka", "link": "https://stackoverflow.com/users/219335/davka"}, "edited": false, "score": 0, "creation_date": 1455814931, "post_id": 35485409, "comment_id": 58668868, "body": "@davka, please consider accepting the answer if it suits your request."}], "tags": [], "owner": {"reputation": 7282, "user_id": 2716792, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/l0Oth.jpg?s=128&g=1", "display_name": "alpha bravo", "link": "https://stackoverflow.com/users/2716792/alpha-bravo"}, "is_accepted": true, "score": 1, "last_activity_date": 1455809367, "last_edit_date": 1455809367, "creation_date": 1455808801, "answer_id": 35485409, "question_id": 35484898, "link": "https://stackoverflow.com/questions/35484898/how-to-add-an-indented-line-at-the-beginning-of-each-method-in-many-files/35485409#35485409", "title": "how to add an INDENTED line at the beginning of each method in many files?", "body": "<p>to work off of what you posted, use this pattern  </p>\n\n<pre><code>((private|public)[^;]*?\\)\\s*?{)(?=\\R+(\\s+))\n</code></pre>\n\n<p>and replace with  </p>\n\n<pre><code>$1\\n$3ActivityLoggers.traceMethod()\n</code></pre>\n\n<p><a href=\"https://regex101.com/r/yW4aZ3/347\" rel=\"nofollow\">Demo</a></p>\n"}, {"comments": [{"owner": {"reputation": 12317, "user_id": 219335, "user_type": "registered", "accept_rate": 80, "profile_image": "https://www.gravatar.com/avatar/fe957ed286bf11144815fcdde39ccfeb?s=128&d=identicon&r=PG", "display_name": "davka", "link": "https://stackoverflow.com/users/219335/davka"}, "edited": false, "score": 0, "creation_date": 1455810948, "post_id": 35486048, "comment_id": 58665808, "body": "interesting, mind explaining? my understanding is that sed reads input line  by line, so you can&#39;t match multiple lines without a script."}], "tags": [], "owner": {"reputation": 14395, "user_id": 1344961, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/0b7ad173373ce2a48950108f5adc4b6d?s=128&d=identicon&r=PG", "display_name": "SLePort", "link": "https://stackoverflow.com/users/1344961/sleport"}, "is_accepted": false, "score": 1, "last_activity_date": 1455811630, "last_edit_date": 1455811630, "creation_date": 1455810453, "answer_id": 35486048, "question_id": 35484898, "link": "https://stackoverflow.com/questions/35484898/how-to-add-an-indented-line-at-the-beginning-of-each-method-in-many-files/35486048#35486048", "title": "how to add an INDENTED line at the beginning of each method in many files?", "body": "<p>With sed :</p>\n\n<pre><code>sed '/\\(private\\|public\\)[^;]*/, /\\}/ {\n        /\\(^[ \\t]*\\)\\([^(]*();\\)/ s//\\1ActivityLoggers.traceMethod();\\n\\1\\2\\n/;\n}' sourcefile\n</code></pre>\n\n<p><code>/\\(private\\|public\\)[^;]*/, /\\}/</code> defines a pattern space with a range of lines between private|public  and next line containing a <code>}</code> (= the end of method block)</p>\n\n<p>In each block that match, we search for the pattern method and apply the substitution, adding the new line using groups </p>\n"}, {"tags": [], "owner": {"reputation": 46858, "user_id": 967492, "user_type": "registered", "accept_rate": 67, "profile_image": "https://www.gravatar.com/avatar/526ea226101e199d029049dda22a4e58?s=128&d=identicon&r=PG", "display_name": "potong", "link": "https://stackoverflow.com/users/967492/potong"}, "is_accepted": false, "score": 1, "last_activity_date": 1455811580, "creation_date": 1455811580, "answer_id": 35486497, "question_id": 35484898, "link": "https://stackoverflow.com/questions/35484898/how-to-add-an-indented-line-at-the-beginning-of-each-method-in-many-files/35486497#35486497", "title": "how to add an INDENTED line at the beginning of each method in many files?", "body": "<p>This might work for you (GNU sed):</p>\n\n<pre><code>sed -r ':a;/^\\s*(public|private)/,/^\\s*\\{\\s*$/{/^\\s*\\{\\s*$/!b;n;/^\\s*(public|private)/ba;h;s/\\S.*/ActivityLoggers.traceMethod();/p;g}' file\n</code></pre>\n\n<p>This looks for the range starting with <code>public</code> or <code>private</code> and ending with a <code>{</code> on a line by itsself. It then reads the next line and if this begins with <code>public</code> or <code>private</code> loops. Otherwise it copies the line and replaces everything from the indent by the required string and prints this. It then  retrieves the copied line and prints that.</p>\n"}, {"tags": [], "owner": {"reputation": 155597, "user_id": 1745001, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/99a3ebae89496eb16afe453aae97f5be?s=128&d=identicon&r=PG", "display_name": "Ed Morton", "link": "https://stackoverflow.com/users/1745001/ed-morton"}, "is_accepted": false, "score": 1, "last_activity_date": 1455824067, "creation_date": 1455824067, "answer_id": 35490795, "question_id": 35484898, "link": "https://stackoverflow.com/questions/35484898/how-to-add-an-indented-line-at-the-beginning-of-each-method-in-many-files/35490795#35490795", "title": "how to add an INDENTED line at the beginning of each method in many files?", "body": "<p>With GNU awk for multi-char <code>RS</code> and <code>gensub()</code>:</p>\n\n<pre><code>$ gawk -v RS='^$' -v ORS= '{print gensub(/((private|public)[^;)]+\\)\\s*{)(\\s*)/,\"\\\\1\\\\3ActivityLoggers.traceMethod();\\\\3\",\"g\")}' file  \npublic partial class AClass : BClass\n{\n    private static string name;\n    private void Method1(int i, string s)\n    {\n        ActivityLoggers.traceMethod();\n        doSomethng();\n    }\n    public void Method2\n                   (int i, string s)\n    {\n        ActivityLoggers.traceMethod();\n        doSomethngElse();\n    }\n}\n</code></pre>\n"}], "owner": {"reputation": 12317, "user_id": 219335, "user_type": "registered", "accept_rate": 80, "profile_image": "https://www.gravatar.com/avatar/fe957ed286bf11144815fcdde39ccfeb?s=128&d=identicon&r=PG", "display_name": "davka", "link": "https://stackoverflow.com/users/219335/davka"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 79, "favorite_count": 0, "accepted_answer_id": 35485409, "answer_count": 4, "score": 1, "last_activity_date": 1455824067, "creation_date": 1455807537, "question_id": 35484898, "link": "https://stackoverflow.com/questions/35484898/how-to-add-an-indented-line-at-the-beginning-of-each-method-in-many-files", "title": "how to add an INDENTED line at the beginning of each method in many files?", "body": "<p>I want to add a tracing line to each method in many C# files (see example below), and I want to do this automatically, of course.</p>\n\n<p>My approach would be to use regex to match lines starting with <code>public</code> or <code>private</code>, don't have <code>;</code> (exclude members), have parentheses (exclude class definitions), up to opening <code>{</code>, all this spanning multiple lines, and add my line after this.</p>\n\n<p><code>sed</code> would be my natural choice, but unfortunately it is less suited for matching over multiple lines.</p>\n\n<p>I almost don't know perl but I managed the following:</p>\n\n<pre><code>perl -0777 -i.original -pe 's/((private|public)[^;]*?\\)\\s*?{)/\\1\\nActivityLoggers.traceMethod();/igs' testFile.cs\n</code></pre>\n\n<p>This works fine but I'd like to add the line indented. Assuming that the <code>{</code> is always on a separate line I could just reuse it replacing the <code>{</code> with my text, but here my not knowing perl blocks me. Would appreciate any help.</p>\n\n<p><strong>As a bonus</strong>, you could help exclude constructors :)</p>\n\n<p><strong>EXAMPLE:</strong><br>\nMake this</p>\n\n<pre><code>public partial class AClass : BClass\n{\n    private static string name;\n    private void Method1(int i, string s)\n    {\n        doSomethng();\n    }\n    public void Method2\n                   (int i, string s)\n    {\n        doSomethngElse();\n    }\n }\n</code></pre>\n\n<p>into this</p>\n\n<pre><code>public partial class AClass : BClass\n{\n    private static string name;\n    private void Method1(int i, string s)\n    {\n        ActivityLoggers.traceMethod();\n        doSomethng();\n    }\n    public void Method2\n                   (int i, string s)\n    {\n        ActivityLoggers.traceMethod();\n        doSomethngElse();\n    }\n }\n</code></pre>\n\n<p>( In case you're wandering I do fetch the calling method and class names in <code>traceMethod()</code> using <code>StackTrace</code> :) )</p>\n"}, {"tags": ["html", "perl"], "answers": [{"comments": [{"owner": {"reputation": 50468, "user_id": 1331451, "user_type": "registered", "accept_rate": 96, "profile_image": "https://i.stack.imgur.com/4ZPmj.png?s=128&g=1", "display_name": "simbabque", "link": "https://stackoverflow.com/users/1331451/simbabque"}, "edited": false, "score": 0, "creation_date": 1455804143, "post_id": 35483524, "comment_id": 58660538, "body": "Note: I haven&#39;t run this code because there was no real URL supplied and Web::Scraper doesn&#39;t play well with <code>__DATA__</code>."}, {"owner": {"user_type": "does_not_exist", "display_name": "user5934920"}, "edited": false, "score": 0, "creation_date": 1455807926, "post_id": 35483524, "comment_id": 58663479, "body": "many thanks, how the code would look like if there are more than 1 email addresses and telephone numbers. foreach code should be somehow be included is not it?"}, {"owner": {"reputation": 62184, "user_id": 7231, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/81b76985f3985e35492e25880493d045?s=128&d=identicon&r=PG", "display_name": "Dave Cross", "link": "https://stackoverflow.com/users/7231/dave-cross"}, "edited": false, "score": 1, "creation_date": 1455808489, "post_id": 35483524, "comment_id": 58663884, "body": "Give us an example of the HTML including multiple values."}, {"owner": {"reputation": 50468, "user_id": 1331451, "user_type": "registered", "accept_rate": 96, "profile_image": "https://i.stack.imgur.com/4ZPmj.png?s=128&g=1", "display_name": "simbabque", "link": "https://stackoverflow.com/users/1331451/simbabque"}, "edited": false, "score": 0, "creation_date": 1455808517, "post_id": 35483524, "comment_id": 58663905, "body": "@esqeudero: Yes, we would need example data. It depends if it&#39;s normalized."}, {"owner": {"user_type": "does_not_exist", "display_name": "user5934920"}, "edited": false, "score": 0, "creation_date": 1455808939, "post_id": 35483524, "comment_id": 58664225, "body": "for example I want to get value of each published papers (articles) from the existing metadata at the link (<a href=\"http://ejeps.com/index.php/ejeps/oai?verb=ListRecords&amp;metadataPrefix=oai_dc\" rel=\"nofollow noreferrer\">ejeps.com/index.php/ejeps/&hellip;</a>). I need only these value, but there may be more than 1 author:   #dc_title #dc_author #dc_affiliation #dc_email #dc_jel #dc_keywords #dc_description #dc_format #dc_source #dc_year #dc_volume #dc_issue #dc_pages #dc_pdfurl"}, {"owner": {"reputation": 50468, "user_id": 1331451, "user_type": "registered", "accept_rate": 96, "profile_image": "https://i.stack.imgur.com/4ZPmj.png?s=128&g=1", "display_name": "simbabque", "link": "https://stackoverflow.com/users/1331451/simbabque"}, "edited": false, "score": 0, "creation_date": 1455809116, "post_id": 35483524, "comment_id": 58664363, "body": "@esqeudero in that case you have one table per record, and there are multiple author fields, and multiple email fields, but no way to match the mail to the name. As it happens, that document is not valid as it uses the same <code>id</code> multiple times. You would have to tune the the selectors (after <code>process &#39;#email&#39;</code> a bit to match the right stuff."}, {"owner": {"reputation": 50468, "user_id": 1331451, "user_type": "registered", "accept_rate": 96, "profile_image": "https://i.stack.imgur.com/4ZPmj.png?s=128&g=1", "display_name": "simbabque", "link": "https://stackoverflow.com/users/1331451/simbabque"}, "edited": false, "score": 0, "creation_date": 1455809365, "post_id": 35483524, "comment_id": 58664569, "body": "Updated the answer. I admit, that thing is a bit hard to parse. Fun how they use XML namespaces, but cannot get the <code>id</code> right."}, {"owner": {"reputation": 50468, "user_id": 1331451, "user_type": "registered", "accept_rate": 96, "profile_image": "https://i.stack.imgur.com/4ZPmj.png?s=128&g=1", "display_name": "simbabque", "link": "https://stackoverflow.com/users/1331451/simbabque"}, "edited": false, "score": 0, "creation_date": 1455809804, "post_id": 35483524, "comment_id": 58664927, "body": "@esqeudero Oh. This is actually not HTML, but XML. Meh. Next time, please directly post the real thing, or read properly. There is no HTML document, it&#39;s XML and there is an XSLT that the browser uses to render it into HTML. In that case, we will need a different approach."}], "tags": [], "owner": {"reputation": 50468, "user_id": 1331451, "user_type": "registered", "accept_rate": 96, "profile_image": "https://i.stack.imgur.com/4ZPmj.png?s=128&g=1", "display_name": "simbabque", "link": "https://stackoverflow.com/users/1331451/simbabque"}, "is_accepted": false, "score": 4, "last_activity_date": 1455811430, "last_edit_date": 1495539901, "creation_date": 1455804052, "answer_id": 35483524, "question_id": 35483155, "link": "https://stackoverflow.com/questions/35483155/get-value-from-html-table-with-perl/35483524#35483524", "title": "Get value from HTML table with PERL", "body": "<h1>This answer solves the problem described in the question, but not the actual problem OP has revealed in the comments.</h1>\n\n<p>Because Web::Scraper is for HTML documents, this is not going to work with the website that OP wants to scrape. It uses XML. See <a href=\"https://stackoverflow.com/a/35486369/1331451\">my other answer</a> for a solution that deals with XML.</p>\n\n<hr>\n\n<p><a href=\"https://stackoverflow.com/a/1732454/1331451\">Don't try to parse HTML with regular expressions</a>! Use an HTML parser instead.</p>\n\n<p>For web scraping I prefer <a href=\"https://metacpan.org/pod/Web::Scraper\" rel=\"nofollow noreferrer\">Web::Scraper</a>. It does everything from fetching the page to parsing the content in a very simple <a href=\"https://en.wikipedia.org/wiki/Domain-specific_language\" rel=\"nofollow noreferrer\">DSL</a>.</p>\n\n<pre><code>use strict;\nuse warnings;\nuse Web::Scraper;\nuse URI;\nuse Data::Dumper;\n\nmy $people = scraper {\n    # this will parse all tables and put the results into the key people\n    process 'table', 'people[]' =&gt; scraper {\n        process '#firstname', first_name =&gt; 'TEXT'; # grab those ids\n        process '#lastname',  last_name  =&gt; 'TEXT'; # and put them into\n        process '#email',     email      =&gt; 'TEXT'; # a hashref with the\n        process '#telephone', phone      =&gt; 'TEXT'; # 2nd arg as key\n    };\n    result 'people'; # only return the people key\n};\nmy $res = $people-&gt;scrape( URI-&gt;new(\"http://www.domain.com/something_something\") );\n\nprint Dumper $res;\n\n__DATA__\n$VAR1 = [\n  {\n    firstname =&gt; 'ALEXANDR',\n    lastname =&gt; 'PUSHKIN',\n    email =&gt; 'apushkin@mail.ru',\n    phone =&gt; '+991122334455',\n  }\n]\n</code></pre>\n\n<p>If one of the fields, like <em>email</em> or <em>firstname</em> occur multiple times in one table, you can use an array reference for that. In that case the document's HTML would not be valid because of the double <code>id</code>s though. Use a different selector and pray it works.</p>\n\n<pre><code> process '#email', 'email[]' =&gt; 'TEXT';\n</code></pre>\n\n<p>Now you'll get this kind of structure:</p>\n\n<pre><code>{\n  email =&gt; [\n   'foo@example.org',\n   'bar@example.org',\n  ],\n}\n</code></pre>\n"}, {"comments": [{"owner": {"reputation": 50468, "user_id": 1331451, "user_type": "registered", "accept_rate": 96, "profile_image": "https://i.stack.imgur.com/4ZPmj.png?s=128&g=1", "display_name": "simbabque", "link": "https://stackoverflow.com/users/1331451/simbabque"}, "edited": false, "score": 0, "creation_date": 1455813197, "post_id": 35486369, "comment_id": 58667607, "body": "Now I stole my own accepted answer. That&#39;s a first. :D"}], "tags": [], "owner": {"reputation": 50468, "user_id": 1331451, "user_type": "registered", "accept_rate": 96, "profile_image": "https://i.stack.imgur.com/4ZPmj.png?s=128&g=1", "display_name": "simbabque", "link": "https://stackoverflow.com/users/1331451/simbabque"}, "is_accepted": true, "score": 1, "last_activity_date": 1455811255, "last_edit_date": 1495542668, "creation_date": 1455811255, "answer_id": 35486369, "question_id": 35483155, "link": "https://stackoverflow.com/questions/35483155/get-value-from-html-table-with-perl/35486369#35486369", "title": "Get value from HTML table with PERL", "body": "<p><a href=\"https://stackoverflow.com/questions/35483155/get-value-from-html-table-with-perl/35483524?noredirect=1#comment58664927_35483524\">Since it came out that the document is actually XML</a>, here is a solution that uses an XML parser to deal with it, and also takes into account multiple fields. <a href=\"https://metacpan.org/pod/XML::Twig\" rel=\"nofollow noreferrer\">XML::Twig</a> is very useful for this, and it even lets us download the document.</p>\n\n<pre><code>use strict;\nuse warnings;\nuse XML::Twig;\nuse Data::Printer;\n\nmy @docs; # we will save the docs here\nmy $twig = XML::Twig-&gt;new(\n    twig_handlers =&gt; {\n        'oai_dc:dc' =&gt; sub {\n            my ($t, $elt) = @_;\n\n            my $foo = {\n                # grab all elements of type 'dc:author\" inside our \n                # element and call text_only on them\n                author =&gt; [ map { $_-&gt;text_only } $elt-&gt;descendants('dc:author') ],\n                email =&gt; [ map { $_-&gt;text_only } $elt-&gt;descendants('dc:email') ],\n            };\n\n            push @docs, $foo;\n        }\n    }\n);\n\n$twig-&gt;parseurl(\"http://ejeps.com/index.php/ejeps/oai?verb=ListRecords&amp;metadataPrefix=oai_dc\");\n\np @docs;\n\n__END__\n\n[\n    [0]  {\n        author   [\n            [0] \"Nazila Isgandarova\"\n        ],\n        email    [\n            [0] \"azerwomensc@yahoo.ca\"\n        ]\n    },\n    [1]  {\n        author   [\n            [0] \"Mette Nordahl Grosen\",\n            [1] \"Bezen Balamir Coskun\"\n        ],\n        email    [\n            [0] \"m.grosen@gmail.com\",\n            [1] \"bezenbalamir@gmail.com\"\n        ]\n    },\n# ...\n</code></pre>\n"}, {"tags": [], "owner": {"reputation": 402, "user_id": 3631856, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/aUUwT.jpg?s=128&g=1", "display_name": "Helmut Wollmersdorfer", "link": "https://stackoverflow.com/users/3631856/helmut-wollmersdorfer"}, "is_accepted": false, "score": 0, "last_activity_date": 1455815139, "creation_date": 1455815139, "answer_id": 35487920, "question_id": 35483155, "link": "https://stackoverflow.com/questions/35483155/get-value-from-html-table-with-perl/35487920#35487920", "title": "Get value from HTML table with PERL", "body": "<p>First, you really should use an XML parser.</p>\n\n<p>Now to some possible reasons why the code does not work:</p>\n\n<p>Your regular expressions expect an ending tag, e.g. <code>&lt;/firstname</code>which does not exist in your HTML.</p>\n\n<p>If the HTML is plain and reliable and you really want a regex it should better look like this:</p>\n\n<pre><code>m/&lt;td    \n  [^&gt;]+    # anything but '&gt;'\n  id=\"firstname\"\n  [^&gt;]+    # anything but '&gt;'\n  &gt;\n  ([^&lt;]+?) # anything but '&lt;'\n  &lt;\n/xms;\n</code></pre>\n\n<p>This does not take into account case insensitivity of HTML, decoding of HTML-entities, other allowed quote characters.</p>\n"}], "owner": {"user_type": "does_not_exist", "display_name": "user5934920"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 197, "favorite_count": 0, "accepted_answer_id": 35486369, "answer_count": 3, "score": 0, "last_activity_date": 1455815139, "creation_date": 1455803058, "last_edit_date": 1455804074, "question_id": 35483155, "link": "https://stackoverflow.com/questions/35483155/get-value-from-html-table-with-perl", "title": "Get value from HTML table with PERL", "body": "<p>I am trying to get values from already existing html table with exact td (cell). Can anyone help me with it?</p>\n\n<p><strong>The existing table's code is as below.</strong></p>\n\n<pre><code>&lt;table&gt;\n&lt;tr&gt;&lt;td class=\"key\"&gt;FIRST NAME&lt;/td&gt;&lt;td id=\"firstname\" class=\"value\"&gt;ALEXANDR&lt;/td&gt;&lt;/tr&gt;\n&lt;tr&gt;&lt;td class=\"key\"&gt;SURNAME NAME&lt;/td&gt;&lt;td id=\"surname\" class=\"value\"&gt;PUSHKIN&lt;/td&gt;&lt;/tr&gt;\n&lt;tr&gt;&lt;td class=\"key\"&gt;EMAIL&lt;/td&gt;&lt;td id=\"email\" class=\"value\"&gt;apushkin@mail.ru&lt;/td&gt;&lt;/tr&gt;\n&lt;tr&gt;&lt;td class=\"key\"&gt;TELEPHONE&lt;/td&gt;&lt;td id=\"telephone\" class=\"value\"&gt;+991122334455&lt;/td&gt;&lt;/tr&gt;\n&lt;/table&gt; \n</code></pre>\n\n<p><strong>I tried this below perl script but it does not work.</strong></p>\n\n<pre><code>$pp = get(\"http://www.domain.com/something_something\");\n$out[0]=\"/home/.../public_html/perl_output.txt\";\n($firstname) = ($str =~ /&lt;td id=\"firstname\" class=\"value\"&gt;(.+?)&lt;\\/firstname/);\n($surname) = ($str =~ /&lt;td id=\"surname\" class=\"value\"&gt;(.+?)&lt;\\/surname/);\n($email) = ($str =~ /&lt;td id=\"email\" class=\"value\"&gt;(.+?)&lt;\\/email/);\n($telephone) = ($str =~ /&lt;td id=\"telephone\" class=\"value\"&gt;(.+?)&lt;\\/telephone/);\n\nprint \"First Name: $firstname \\n\";\nprint \"Last Name: $surname \\n\";\nprint \"Email: $email \\n\";\nprint \"Telephone: $telephone \\n\";\n\nexit;\n</code></pre>\n\n<p><strong>Can anyone guide me?</strong></p>\n"}, {"tags": ["html", "perl"], "comments": [{"owner": {"reputation": 50468, "user_id": 1331451, "user_type": "registered", "accept_rate": 96, "profile_image": "https://i.stack.imgur.com/4ZPmj.png?s=128&g=1", "display_name": "simbabque", "link": "https://stackoverflow.com/users/1331451/simbabque"}, "edited": false, "score": 1, "creation_date": 1455799856, "post_id": 35481931, "comment_id": 58657365, "body": "You don&#39;t have opening <code>&lt;td&gt;</code> and <code>&lt;th&gt;</code> tags. They all have a <code>&#47;</code> in them. Because that is not valid HTML, the HTML inspector will have trouble understanding the DOM and might clean it up, hence the first image doesn&#39;t have them. In the second image, it shows the HTML as-is, so the broken markup is visible."}], "answers": [{"comments": [{"owner": {"reputation": 50468, "user_id": 1331451, "user_type": "registered", "accept_rate": 96, "profile_image": "https://i.stack.imgur.com/4ZPmj.png?s=128&g=1", "display_name": "simbabque", "link": "https://stackoverflow.com/users/1331451/simbabque"}, "edited": false, "score": 1, "creation_date": 1455800053, "post_id": 35482051, "comment_id": 58657516, "body": "You&#39;ve been staring at your code for too long. Happens to all of us. ;)"}, {"owner": {"reputation": 1464, "user_id": 3603374, "user_type": "registered", "accept_rate": 92, "profile_image": "https://i.stack.imgur.com/MRRo6.gif?s=128&g=1", "display_name": "Sandeep", "link": "https://stackoverflow.com/users/3603374/sandeep"}, "edited": false, "score": 0, "creation_date": 1455800360, "post_id": 35482051, "comment_id": 58657720, "body": "(Thank you @simbabque) *1000. Yousaved me from a lot of headache."}, {"owner": {"reputation": 1464, "user_id": 3603374, "user_type": "registered", "accept_rate": 92, "profile_image": "https://i.stack.imgur.com/MRRo6.gif?s=128&g=1", "display_name": "Sandeep", "link": "https://stackoverflow.com/users/3603374/sandeep"}, "edited": false, "score": 0, "creation_date": 1455800367, "post_id": 35482051, "comment_id": 58657727, "body": "but what about the two types of output 1.while inspecting and 2.when i view page source of the page."}, {"owner": {"reputation": 50468, "user_id": 1331451, "user_type": "registered", "accept_rate": 96, "profile_image": "https://i.stack.imgur.com/4ZPmj.png?s=128&g=1", "display_name": "simbabque", "link": "https://stackoverflow.com/users/1331451/simbabque"}, "reply_to_user": {"reputation": 1464, "user_id": 3603374, "user_type": "registered", "accept_rate": 92, "profile_image": "https://i.stack.imgur.com/MRRo6.gif?s=128&g=1", "display_name": "Sandeep", "link": "https://stackoverflow.com/users/3603374/sandeep"}, "edited": false, "score": 0, "creation_date": 1455800411, "post_id": 35482051, "comment_id": 58657756, "body": "@Sandeep I exlained that in my above comment. Will edit into the anwser."}, {"owner": {"reputation": 1464, "user_id": 3603374, "user_type": "registered", "accept_rate": 92, "profile_image": "https://i.stack.imgur.com/MRRo6.gif?s=128&g=1", "display_name": "Sandeep", "link": "https://stackoverflow.com/users/3603374/sandeep"}, "edited": false, "score": 0, "creation_date": 1455800550, "post_id": 35482051, "comment_id": 58657857, "body": "i was really excited i dint saw comment. ok this is the answer. i&#39;ll +1 tomorrow bcoz my voting limit is reached."}], "tags": [], "owner": {"reputation": 50468, "user_id": 1331451, "user_type": "registered", "accept_rate": 96, "profile_image": "https://i.stack.imgur.com/4ZPmj.png?s=128&g=1", "display_name": "simbabque", "link": "https://stackoverflow.com/users/1331451/simbabque"}, "is_accepted": true, "score": 3, "last_activity_date": 1455800590, "last_edit_date": 1455800590, "creation_date": 1455799993, "answer_id": 35482051, "question_id": 35481931, "link": "https://stackoverflow.com/questions/35481931/creating-table-from-2-dimensional-array-in-perl-has-different-outputs/35482051#35482051", "title": "creating table from 2-Dimensional array in perl has different outputs", "body": "<p><strong>This is a typo!</strong></p>\n\n<p>There is a slash <code>/</code> in your opening HTML tag output.</p>\n\n<pre><code>for(my $column_i = 0; $column_i &lt; @{ $array[$row_i] }; $column_i++) {\n                    my $th = ($row_i == 0) ? \"th\" : \"td\";\n\n                    #       V HERE\n                    print \"&lt;/$th&gt;\";\n                    print \"$array[$row_i][$column_i]\";\n                    my $close = ($row_i == 0) ? 'th' : 'td';\n                    print \"&lt;/$close&gt; \\n\";\n                }\n</code></pre>\n\n<p>Remove that slash and it will be fine.</p>\n\n<hr>\n\n<p><strong>As to why your two outputs are different:</strong> The HTML inspector shows the DOM structure after it has been parsed by the browser. It does not include invalid elements. Since <em>stray closing elements</em> are not valid, it's likely the parser just omitted them, so they are gone.</p>\n\n<p>Viewing the source code on the other hand shows the real, unparsed code, which contains the wrong markup with the faulty HTML tags included. That is also where I saw the extra slashes. (read: your variable names are badly chosen. You would have seen it yourself had it been something like <code>$open_tag</code> and <code>$closing_tag</code>).</p>\n"}], "owner": {"reputation": 1464, "user_id": 3603374, "user_type": "registered", "accept_rate": 92, "profile_image": "https://i.stack.imgur.com/MRRo6.gif?s=128&g=1", "display_name": "Sandeep", "link": "https://stackoverflow.com/users/3603374/sandeep"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 134, "favorite_count": 0, "accepted_answer_id": 35482051, "answer_count": 1, "score": 2, "last_activity_date": 1455800590, "creation_date": 1455799668, "question_id": 35481931, "link": "https://stackoverflow.com/questions/35481931/creating-table-from-2-dimensional-array-in-perl-has-different-outputs", "title": "creating table from 2-Dimensional array in perl has different outputs", "body": "<p>Hi I am generating table from a 2-Dimensional array in perl.<br>\nBut the output of my program is different if viewed in browser and viewing page source using developers tool in chrome:</p>\n\n<p>Let me explain-<br>\nI have a subroutine to print the table from @RESULT array, the code is below</p>\n\n<pre><code>sub printTableFormattedEmpty {\n       my @array= @_ ;\n            print \"&lt;table border='0' cellspacing='0' bgcolor='#cfcfcf' cellpadding='0'&gt;\\n\";\n            for(my $row_i = 0; $row_i &lt; @array; $row_i++) {\n                print \"&lt;tr style='background-color:#B39DB3;'&gt;\\n\";\n\n                for(my $column_i = 0; $column_i &lt; @{ $array[$row_i] }; $column_i++) {\n                    my $th = ($row_i == 0) ? \"th\" : \"td\";\n                    print \"&lt;/$th&gt;\";\n                    print \"$array[$row_i][$column_i]\";\n                    my $close = ($row_i == 0) ? 'th' : 'td';\n                    print \"&lt;/$close&gt; \\n\";\n                }\n\n                print \"&lt;/tr&gt; \\n\";\n            }\n            print \"&lt;/table&gt; \\n\";\n}\n</code></pre>\n\n<p>and i am calling the subroutine as </p>\n\n<pre><code>{  \n    print \"Table starts here!\\n\";\n      #$RESULT[0]- is array of many elements. u can see in output image\n    $RESULT[1][0]= 'No Active bookings available for you !';\n    $RESULT[2][0]= 'Click here to create new Booking !';\n    &amp;printTableFormattedEmpty(@RESULT);\n}\n</code></pre>\n\n<p>Now here i am not getting the expected output in a table , <strong>i am getting different output as shown in 2 figure</strong>:</p>\n\n<p><strong>when i inspect element and inspect the table i get:</strong>\n<a href=\"https://i.stack.imgur.com/brRrB.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/brRrB.png\" alt=\"enter image description here\"></a></p>\n\n<p>But when i  view page source of the page iam getting output formatted as table as shown in the fig:\n<a href=\"https://i.stack.imgur.com/MDzdS.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/MDzdS.png\" alt=\"enter image description here\"></a></p>\n\n<p><strong>I am really confused with this two types of Output, the both images are of the same page without refreshing.<br>\nHow is this possible!<br>\nDid i do any mistake in my program or its something else.</strong></p>\n\n<p><strong>Please Help me with This.</strong> </p>\n"}, {"tags": ["perl", "server", "client", "cgi"], "comments": [{"owner": {"reputation": 50468, "user_id": 1331451, "user_type": "registered", "accept_rate": 96, "profile_image": "https://i.stack.imgur.com/4ZPmj.png?s=128&g=1", "display_name": "simbabque", "link": "https://stackoverflow.com/users/1331451/simbabque"}, "edited": false, "score": 1, "creation_date": 1455798392, "post_id": 35481359, "comment_id": 58656259, "body": "Can you tell us more about that parser? Is it an open source project that has public documentation? You will need to run it as a daemon and make your CGI program talk to it somehow. Look at its documentation to see if it offers more than just STDIN/STDOUT, and look at <a href=\"http://perldoc.perl.org/perlipc.html\" rel=\"nofollow noreferrer\">perldoc.perl.org/perlipc.html</a> for interprocess-communication."}, {"owner": {"reputation": 898, "user_id": 1296891, "user_type": "registered", "accept_rate": 52, "profile_image": "https://i.stack.imgur.com/Utjd4.jpg?s=128&g=1", "display_name": "Fibo Kowalsky", "link": "https://stackoverflow.com/users/1296891/fibo-kowalsky"}, "reply_to_user": {"reputation": 50468, "user_id": 1331451, "user_type": "registered", "accept_rate": 96, "profile_image": "https://i.stack.imgur.com/4ZPmj.png?s=128&g=1", "display_name": "simbabque", "link": "https://stackoverflow.com/users/1331451/simbabque"}, "edited": false, "score": 0, "creation_date": 1455798846, "post_id": 35481359, "comment_id": 58656593, "body": "It is written by me and has only STDIN/STDOUT option. Thanks I will have a look at IPC."}, {"owner": {"reputation": 50468, "user_id": 1331451, "user_type": "registered", "accept_rate": 96, "profile_image": "https://i.stack.imgur.com/4ZPmj.png?s=128&g=1", "display_name": "simbabque", "link": "https://stackoverflow.com/users/1331451/simbabque"}, "edited": false, "score": 0, "creation_date": 1455799054, "post_id": 35481359, "comment_id": 58656766, "body": "If you have control over it, add some other mode of communication. :)"}, {"owner": {"reputation": 320771, "user_id": 589924, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/b2cf53d5a3d25f95c0db4e025aed4153?s=128&d=identicon&r=PG", "display_name": "ikegami", "link": "https://stackoverflow.com/users/589924/ikegami"}, "edited": false, "score": 1, "creation_date": 1455802585, "post_id": 35481359, "comment_id": 58659361, "body": "You could make a persistent process that loads the parser, listens on a socket for requests, passes the requests on to the parser , and returns the parser&#39;s response back over the socket. But I wouldn&#39;t do that. I would simply the CGI script itself persistent by switching to FastCGI."}], "answers": [{"tags": [], "owner": {"reputation": 3334, "user_id": 4473327, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/hP14q.jpg?s=128&g=1", "display_name": "neuhaus", "link": "https://stackoverflow.com/users/4473327/neuhaus"}, "is_accepted": false, "score": 0, "last_activity_date": 1455805778, "creation_date": 1455805778, "answer_id": 35484193, "question_id": 35481359, "link": "https://stackoverflow.com/questions/35481359/how-the-program-running-on-a-server-can-listen-user-input/35484193#35484193", "title": "How the program running on a server can listen user input", "body": "<p>This is a very old problem (already seen with inetd) with various solutions.</p>\n\n<p>A simple solution would be to add RPC::Lite to the process that runs permanently (as a daemon) and write a minimal client that contacts the daemon process, sends the request and receives the answer.</p>\n\n<p>The example at <a href=\"https://metacpan.org/pod/RPC::Lite\" rel=\"nofollow\">https://metacpan.org/pod/RPC::Lite</a> has pretty much everything you need. You can use a unix socket as transport if both tasks run on the same machine.</p>\n"}], "owner": {"reputation": 898, "user_id": 1296891, "user_type": "registered", "accept_rate": 52, "profile_image": "https://i.stack.imgur.com/Utjd4.jpg?s=128&g=1", "display_name": "Fibo Kowalsky", "link": "https://stackoverflow.com/users/1296891/fibo-kowalsky"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 64, "favorite_count": 0, "answer_count": 1, "score": 0, "last_activity_date": 1455805778, "creation_date": 1455798081, "question_id": 35481359, "link": "https://stackoverflow.com/questions/35481359/how-the-program-running-on-a-server-can-listen-user-input", "title": "How the program running on a server can listen user input", "body": "<p>I have a natural language parser binary, e.g.<code>parser</code>, that requires much time for starting (from the terminal) but after it is running, the parsing takes input from a terminal and processes it in less than a second.</p>\n\n<p>I have a perl cgi script that takes the input from a client and runs the parser (with <code>qx/parser/</code>) on the server with that input. \nUnfortunately, in this way the parser is loaded for each input.</p>\n\n<p>Is there a way that the parser will be running and listening the input from clients? That every input won't require loading the parser.</p>\n"}]