[{"tags": ["perl", "hash"], "comments": [{"owner": {"reputation": 198290, "user_id": 1030675, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/957956ce51706d03f19a4dc85a767bb1?s=128&d=identicon&r=PG", "display_name": "choroba", "link": "https://stackoverflow.com/users/1030675/choroba"}, "edited": false, "score": 2, "creation_date": 1481155456, "post_id": 41029468, "comment_id": 69266707, "body": "Turning your incomplete snippets into <a href=\"http://stackoverflow.com/help/mcve\">mcve</a> would help us to help you."}, {"owner": {"reputation": 32176, "user_id": 2173773, "user_type": "registered", "accept_rate": 86, "profile_image": "https://i.stack.imgur.com/M8yh6.jpg?s=128&g=1", "display_name": "H&#229;kon H&#230;gland", "link": "https://stackoverflow.com/users/2173773/h%c3%a5kon-h%c3%a6gland"}, "edited": false, "score": 0, "creation_date": 1481159223, "post_id": 41029468, "comment_id": 69267842, "body": "<i>&quot;but i can&#39;t get it to work because my Variable reference is a Hash&quot;</i>: What variable reference are you talking about? Do you mean <code>\\%source_config</code>?"}, {"owner": {"reputation": 3, "user_id": 6768137, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/5453e1e3c994daca1765875b1b738836?s=128&d=identicon&r=PG", "display_name": "Andrew", "link": "https://stackoverflow.com/users/6768137/andrew"}, "edited": false, "score": 0, "creation_date": 1481172654, "post_id": 41029468, "comment_id": 69271311, "body": "I think i have over complicated things, what i want to do is pass to a sub routine an array where each element is a path in a hash. in the subroutine i want to uses those element to do a lookup in the hash. So @array [ &#39;$level1&#39; , &#39;$level2&#39; , &#39;$level3&#39; , &#39;$level n&#39;] and in the sub effective do print &quot; $hash{$level1}{$level2}{$level3} but it needs to be dynamic as i dont know how many levels i will need to go down to access the value."}], "answers": [{"comments": [{"owner": {"reputation": 3, "user_id": 6768137, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/5453e1e3c994daca1765875b1b738836?s=128&d=identicon&r=PG", "display_name": "Andrew", "link": "https://stackoverflow.com/users/6768137/andrew"}, "edited": false, "score": 0, "creation_date": 1481193535, "post_id": 41036022, "comment_id": 69282046, "body": "This is exactly what i want is there any elegant methods to do this without having to install a rather obscure package?"}, {"owner": {"reputation": 50468, "user_id": 1331451, "user_type": "registered", "accept_rate": 96, "profile_image": "https://i.stack.imgur.com/4ZPmj.png?s=128&g=1", "display_name": "simbabque", "link": "https://stackoverflow.com/users/1331451/simbabque"}, "reply_to_user": {"reputation": 3, "user_id": 6768137, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/5453e1e3c994daca1765875b1b738836?s=128&d=identicon&r=PG", "display_name": "Andrew", "link": "https://stackoverflow.com/users/6768137/andrew"}, "edited": false, "score": 0, "creation_date": 1481195536, "post_id": 41036022, "comment_id": 69283278, "body": "@Andrew you could always read the code and see if you can recreate it. But why bother if someone else already built and tested it for you?  ;)"}], "tags": [], "owner": {"reputation": 32176, "user_id": 2173773, "user_type": "registered", "accept_rate": 86, "profile_image": "https://i.stack.imgur.com/M8yh6.jpg?s=128&g=1", "display_name": "H&#229;kon H&#230;gland", "link": "https://stackoverflow.com/users/2173773/h%c3%a5kon-h%c3%a6gland"}, "is_accepted": true, "score": 1, "last_activity_date": 1481189559, "last_edit_date": 1495539958, "creation_date": 1481189559, "answer_id": 41036022, "question_id": 41029468, "link": "https://stackoverflow.com/questions/41029468/perl-how-to-build-a-dynamic-multi-level-hash-lookup/41036022#41036022", "title": "Perl How to build a Dynamic multi level hash lookup", "body": "<p>You could try use <a href=\"https://metacpan.org/pod/Data::Diver\" rel=\"nofollow noreferrer\"><code>Data::Diver</code></a> it provides a simple access to elements of deeply nested structures.</p>\n\n<p>For example:</p>\n\n<pre><code>use feature qw(say);\nuse strict;\nuse warnings;\nuse Data::Diver qw(Dive);\n\nmy $hash = { a =&gt; { b =&gt; 1, c =&gt; { d =&gt; 2 }}};\nmy $keys = [[ 'a', 'b'], ['a','c','d']];\nlookup_keys( $hash, $keys );\n\nsub lookup_keys {\n    my ( $hash, $keys ) = @_;\n\n    for my $key ( @$keys ) {\n        my $value = Dive( $hash, @$key );\n        say $value;\n    }\n}\n</code></pre>\n\n<p><strong>Output</strong>:</p>\n\n<pre><code>1\n2\n</code></pre>\n\n<p><strong>See Also</strong>:</p>\n\n<ul>\n<li><a href=\"https://stackoverflow.com/q/36033603/2173773\">Creating hash of hash dynamically in perl</a></li>\n<li><a href=\"https://stackoverflow.com/q/24396250/2173773\">Read config hash-like data into perl hash</a></li>\n</ul>\n"}], "owner": {"reputation": 3, "user_id": 6768137, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/5453e1e3c994daca1765875b1b738836?s=128&d=identicon&r=PG", "display_name": "Andrew", "link": "https://stackoverflow.com/users/6768137/andrew"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 548, "favorite_count": 0, "accepted_answer_id": 41036022, "answer_count": 1, "score": 0, "last_activity_date": 1481189559, "creation_date": 1481154766, "last_edit_date": 1495539958, "question_id": 41029468, "link": "https://stackoverflow.com/questions/41029468/perl-how-to-build-a-dynamic-multi-level-hash-lookup", "title": "Perl How to build a Dynamic multi level hash lookup", "body": "<p>I have a code block that i use many times with slight variations that i am trying to make into a subroutine.\nThis code block Completes configuration templates ( router interface, vrf, other network stuff)</p>\n\n<p>It does so by  looking up data in a hash data structure ( called %config_hash) that is built from ingesting a excel file :P. The data that is looked up is in different areas of the hash for different templates.</p>\n\n<p>an example of the current working code is this: </p>\n\n<pre><code>my @temp_source_template = @{ clone ($source_template{$switch_int_template}) };\n\n            my %regex_replacements=();                                                  ## hash for holding regex search and replace values, keys are !name! (look in template files) values taken from DCAP\n            my @regex_key =();                                                          ## temp array used for whe more then one !name! on a line\n            my $find_string='';\n            foreach my $line (@temp_source_template){\n                my (@regex_key) = ( $line =~ /(\\!.*?\\!)/g );                        ## match needs to be non greedy thus .*? not .*\n                foreach my $hash_refs (@regex_key){\n                    my $lookup = $hash_refs =~ s/!//gri;                            ## remove ! from !name! so lookup can be done in DCAP file hash\n                    my $excel_lookup = $lookup =~ s/_/ /gri;\n                    $regex_replacements{$hash_refs} = $config_hash{'Vlan'}{$inner}{$excel_lookup};          ## lookup DCAP file hash a write value to regex hash\n                    if (undef eq $regex_replacements{$hash_refs}){\n                        $regex_replacements{$hash_refs} = $config_hash{'Switch'}{$outer}{$excel_lookup};\n                    }\n                    if (undef eq $regex_replacements{$hash_refs}){\n                        $regex_replacements{$hash_refs} = $config_hash{'VRF'}{$middle}{$excel_lookup};\n                    }\n                    $find_string= $find_string . $hash_refs . '|' ;\n\n                }\n\n            }\n</code></pre>\n\n<p>So this creates a hash (regex_replacements) that contains values to lookup (hash keys in regex_replacements) and values to replace those with (values in regex_replacements). it also builds a string to be used in a regex expression ( $find_string). Different templates will have different hash lookup \"paths\" ( eg $config_hash{'Switch'}{$outer}{$excel_lookup} ) or in different orders (effectively a most specific match)</p>\n\n<p>for completeness here is the code block that does the regex replacements:</p>\n\n<pre><code>foreach my $line (@temp_source_template){\n    my (@line_array) = split /(![A-Za-z_]*!)/, $line;\n    foreach my $chunk (@line_array){\n        my $temp_chunk = $chunk;\n        $chunk =~ s/($find_string)/$regex_replacements{$1}/gi;\n        if (!($chunk)){\n            $chunk = $temp_chunk;\n        }\n    }\n    $line = join (\"\", @line_array);\n\n    if ($line =~ /\\!.*\\!/){\n        print {$log} \" ERROR line has unmatched variables deleting line \\\"$line\\\"\\n\";\n        $line =\"\";\n    }\n}\n</code></pre>\n\n<p>So I did some searching and i found this:\n<a href=\"https://stackoverflow.com/questions/11505100/perl-how-to-turn-array-into-nested-hash-keys\">Perl: How to turn array into nested hash keys</a>\nWhich is almost exactly what i want but i can't get it to work because my Variable reference is a Hash and its hash variable reference is just \"REF\" so i get errors for trying to use a hash as a reference.</p>\n\n<p>So I wont post what i have tried as i don't really understand the magic of that link. </p>\n\n<p>But what i am doing is passing to the sub the following</p>\n\n<pre><code>            my @temp_source_template = @{ clone ($source_template{$test}) };\n        my @search_array = ( ['VRF' ,$middle] , ['Switch' ,$outer]);\n        my $find_string, $completed_template = dynamic_regex_replace_fine_string_gen(\\%source_config,\\@temp_source_template, \\@search_array);\n</code></pre>\n\n<p>and i want returned the $find_string and the regex_replacements hash ref. It should be noted that in the sub i need to append onto the end of the elements of @search array the value of $excel_lookup.</p>\n\n<p>The bit that i dont understand how to do is build the variable level hash lookup.</p>\n"}, {"tags": ["perl", "unix"], "comments": [{"owner": {"reputation": 123805, "user_id": 622310, "user_type": "registered", "accept_rate": 33, "profile_image": "https://www.gravatar.com/avatar/8b6d35219e1808520bc238b28161e2e6?s=128&d=identicon&r=PG", "display_name": "Borodin", "link": "https://stackoverflow.com/users/622310/borodin"}, "edited": false, "score": 0, "creation_date": 1481162349, "post_id": 41029238, "comment_id": 69268647, "body": "Is this a homework question? You are welcome to ask about homework, but the answers that you get should be better tuned to your purpose."}], "answers": [{"comments": [{"owner": {"reputation": 123805, "user_id": 622310, "user_type": "registered", "accept_rate": 33, "profile_image": "https://www.gravatar.com/avatar/8b6d35219e1808520bc238b28161e2e6?s=128&d=identicon&r=PG", "display_name": "Borodin", "link": "https://stackoverflow.com/users/622310/borodin"}, "edited": false, "score": 0, "creation_date": 1481163037, "post_id": 41029266, "comment_id": 69268818, "body": "I ended up with <code>perl -pe &quot;print $c = $c ? ++$c : &#39;A&#39;, &#39; &#39;&quot; input.file</code> but it&#39;s too golfy for a real answer. No need for the <code>&lt;</code> though"}], "tags": [], "owner": {"reputation": 198290, "user_id": 1030675, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/957956ce51706d03f19a4dc85a767bb1?s=128&d=identicon&r=PG", "display_name": "choroba", "link": "https://stackoverflow.com/users/1030675/choroba"}, "is_accepted": true, "score": 6, "last_activity_date": 1481153559, "creation_date": 1481153559, "answer_id": 41029266, "question_id": 41029238, "link": "https://stackoverflow.com/questions/41029238/how-to-add-different-prefixes-at-the-beginning-for-different-lines-in-a-file/41029266#41029266", "title": "How to add different prefixes at the beginning for different lines in a file", "body": "<p>Increment works for strings, too:</p>\n\n<pre><code>perl -pe 'BEGIN { $ch = \"A\" } print $ch++, \" \"' &lt; input_file\n</code></pre>\n\n<p>(if <code>AA</code> is what follows <code>Z</code>).</p>\n\n<p>Or, if <code>[</code> follows <code>Z</code>, you can use the <code>$.</code> variable (input line number):</p>\n\n<pre><code>perl -pe 'print chr 64 + $., \" \"' &lt; input_file\n</code></pre>\n"}], "owner": {"reputation": 51, "user_id": 6451996, "user_type": "registered", "accept_rate": 91, "profile_image": "https://www.gravatar.com/avatar/60c02dff0ecca62b956aa0d12ffddfce?s=128&d=identicon&r=PG&f=1", "display_name": "Venkata", "link": "https://stackoverflow.com/users/6451996/venkata"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 30, "favorite_count": 0, "accepted_answer_id": 41029266, "answer_count": 1, "score": 0, "last_activity_date": 1481162266, "creation_date": 1481153393, "last_edit_date": 1481162266, "question_id": 41029238, "link": "https://stackoverflow.com/questions/41029238/how-to-add-different-prefixes-at-the-beginning-for-different-lines-in-a-file", "title": "How to add different prefixes at the beginning for different lines in a file", "body": "<p>My file has following lines:</p>\n\n<pre><code>hello\nhi\nhey\n</code></pre>\n\n<p>I want to use Perl to print letter <code>A</code> at the beginning of the first line, letter <code>B</code> for the second line, letter <code>C</code> for the third line and so on.</p>\n\n<p>My expected output is:</p>\n\n<pre><code>A hello\nB hi\nC hey\n</code></pre>\n\n<p>and so on..</p>\n\n<p>I tried the following:</p>\n\n<pre><code>perl -pe 's/^/A/' input.file\n</code></pre>\n\n<p>This probably will insert only 'A' at the beginning of every line in the file. This doesn't meet my requirement.</p>\n\n<p>I am not sure how to handle different prefixes for different lines.</p>\n"}, {"tags": ["php", "python", "bash", "perl", "command-line"], "comments": [{"owner": {"user_type": "does_not_exist", "display_name": "user557846"}, "edited": false, "score": 0, "creation_date": 1481148132, "post_id": 41028150, "comment_id": 69263793, "body": "split by line breaks, loop .. not sure which part of this your having an issue with"}, {"owner": {"reputation": 92215, "user_id": 1832058, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/relWs.jpg?s=128&g=1", "display_name": "furas", "link": "https://stackoverflow.com/users/1832058/furas"}, "edited": false, "score": 0, "creation_date": 1481148155, "post_id": 41028150, "comment_id": 69263806, "body": "you can recognize format by <code>&#47;</code> and <code>,</code> and then you can use different method."}, {"owner": {"reputation": 53041, "user_id": 4653379, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/b3953dbedd0dabff5cbc3db9b0835b14?s=128&d=identicon&r=PG&f=1", "display_name": "zdim", "link": "https://stackoverflow.com/users/4653379/zdim"}, "edited": false, "score": 0, "creation_date": 1481148456, "post_id": 41028150, "comment_id": 69263941, "body": "Please show us what you are trying to solve your problem."}, {"owner": {"reputation": 92215, "user_id": 1832058, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/relWs.jpg?s=128&g=1", "display_name": "furas", "link": "https://stackoverflow.com/users/1832058/furas"}, "edited": false, "score": 0, "creation_date": 1481148683, "post_id": 41028150, "comment_id": 69264044, "body": "BTW: there is standard module <a href=\"https://docs.python.org/3/library/ipaddress.html\" rel=\"nofollow noreferrer\">ipaddress</a> to work with IP addresses."}, {"owner": {"reputation": 21782, "user_id": 176646, "user_type": "registered", "accept_rate": 88, "profile_image": "https://i.stack.imgur.com/HsQyV.png?s=128&g=1", "display_name": "ThisSuitIsBlackNot", "link": "https://stackoverflow.com/users/176646/thissuitisblacknot"}, "reply_to_user": {"reputation": 123805, "user_id": 622310, "user_type": "registered", "accept_rate": 33, "profile_image": "https://www.gravatar.com/avatar/8b6d35219e1808520bc238b28161e2e6?s=128&d=identicon&r=PG", "display_name": "Borodin", "link": "https://stackoverflow.com/users/622310/borodin"}, "edited": false, "score": 1, "creation_date": 1481148913, "post_id": 41028150, "comment_id": 69264157, "body": "@Borodin It&#39;s a Python module. The OP used tag soup (php, python, bash, and perl)."}, {"owner": {"reputation": 123805, "user_id": 622310, "user_type": "registered", "accept_rate": 33, "profile_image": "https://www.gravatar.com/avatar/8b6d35219e1808520bc238b28161e2e6?s=128&d=identicon&r=PG", "display_name": "Borodin", "link": "https://stackoverflow.com/users/622310/borodin"}, "reply_to_user": {"reputation": 21782, "user_id": 176646, "user_type": "registered", "accept_rate": 88, "profile_image": "https://i.stack.imgur.com/HsQyV.png?s=128&g=1", "display_name": "ThisSuitIsBlackNot", "link": "https://stackoverflow.com/users/176646/thissuitisblacknot"}, "edited": false, "score": 0, "creation_date": 1481149139, "post_id": 41028150, "comment_id": 69264262, "body": "@ThisSuitIsBlackNot: Ah I see. Thank you very much."}, {"owner": {"reputation": 123805, "user_id": 622310, "user_type": "registered", "accept_rate": 33, "profile_image": "https://www.gravatar.com/avatar/8b6d35219e1808520bc238b28161e2e6?s=128&d=identicon&r=PG", "display_name": "Borodin", "link": "https://stackoverflow.com/users/622310/borodin"}, "edited": false, "score": 2, "creation_date": 1481149452, "post_id": 41028150, "comment_id": 69264376, "body": "@JamesSandzalone: You have a downvote and three votes to close. The problem is that your question&#39;s rather entitled, and you seem to imagine us watching daytime TV in the hope that a question will pop up here to relieve our monotony. That&#39;s not how it works. Stack Overflow is a place where programmers who have code that won&#39;t work despite all their efforts can share it with their peers in the hope of some insight. You don&#39;t even have code to share, never mind about doing your best to fix it. If you know Perl, Python and PHP then you are experienced and should be able to come up with something."}, {"owner": {"reputation": 3639, "user_id": 174652, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/42a9ad8d2315a7c6384163af80299a65?s=128&d=identicon&r=PG", "display_name": "joebeeson", "link": "https://stackoverflow.com/users/174652/joebeeson"}, "reply_to_user": {"reputation": 123805, "user_id": 622310, "user_type": "registered", "accept_rate": 33, "profile_image": "https://www.gravatar.com/avatar/8b6d35219e1808520bc238b28161e2e6?s=128&d=identicon&r=PG", "display_name": "Borodin", "link": "https://stackoverflow.com/users/622310/borodin"}, "edited": false, "score": 0, "creation_date": 1481149660, "post_id": 41028150, "comment_id": 69264468, "body": "@Borodin I know for a fact that there are a non-trivial number of people who do exactly that. Don&#39;t gatekeep people&#39;s ability to ask for assistance, just register your disagreement with a downvote, or vote to close, and move along."}, {"owner": {"reputation": 123805, "user_id": 622310, "user_type": "registered", "accept_rate": 33, "profile_image": "https://www.gravatar.com/avatar/8b6d35219e1808520bc238b28161e2e6?s=128&d=identicon&r=PG", "display_name": "Borodin", "link": "https://stackoverflow.com/users/622310/borodin"}, "edited": false, "score": 1, "creation_date": 1481149660, "post_id": 41028150, "comment_id": 69264469, "body": "@JamesSandzalone: Please take the <a href=\"http://stackoverflow.com/tour\"><i>Tour</i></a> and read and absorb the <a href=\"http://stackoverflow.com/questions/how-to-ask\"><i>How do I ask a good question?</i></a>"}, {"owner": {"reputation": 123805, "user_id": 622310, "user_type": "registered", "accept_rate": 33, "profile_image": "https://www.gravatar.com/avatar/8b6d35219e1808520bc238b28161e2e6?s=128&d=identicon&r=PG", "display_name": "Borodin", "link": "https://stackoverflow.com/users/622310/borodin"}, "reply_to_user": {"reputation": 3639, "user_id": 174652, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/42a9ad8d2315a7c6384163af80299a65?s=128&d=identicon&r=PG", "display_name": "joebeeson", "link": "https://stackoverflow.com/users/174652/joebeeson"}, "edited": false, "score": 1, "creation_date": 1481150019, "post_id": 41028150, "comment_id": 69264638, "body": "@joeb: The concept behind Stack Overflow is that it should become a kind of <i>Wikipedia</i> of useful answers to programming problems. That is why the criteria for closing a question are so strict, and it is an immediate cause for closure if your question has been answered before. Given that vision, questions like <i>&quot;I don&#39;t know how to program but I need to fulfil this specification&quot;</i> are pretty much useless to the worth of the site. Just because you know people who wish it wasn&#39;t that way doesn&#39;t make it untrue. Ideally, every question should be crafted to be new and helpful to many other people."}, {"owner": {"reputation": 123805, "user_id": 622310, "user_type": "registered", "accept_rate": 33, "profile_image": "https://www.gravatar.com/avatar/8b6d35219e1808520bc238b28161e2e6?s=128&d=identicon&r=PG", "display_name": "Borodin", "link": "https://stackoverflow.com/users/622310/borodin"}, "reply_to_user": {"reputation": 3639, "user_id": 174652, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/42a9ad8d2315a7c6384163af80299a65?s=128&d=identicon&r=PG", "display_name": "joebeeson", "link": "https://stackoverflow.com/users/174652/joebeeson"}, "edited": false, "score": 0, "creation_date": 1481150058, "post_id": 41028150, "comment_id": 69264654, "body": "@joeb: Please take the <a href=\"http://stackoverflow.com/tour\"><i>Tour</i></a> ."}, {"owner": {"reputation": 123805, "user_id": 622310, "user_type": "registered", "accept_rate": 33, "profile_image": "https://www.gravatar.com/avatar/8b6d35219e1808520bc238b28161e2e6?s=128&d=identicon&r=PG", "display_name": "Borodin", "link": "https://stackoverflow.com/users/622310/borodin"}, "reply_to_user": {"reputation": 3639, "user_id": 174652, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/42a9ad8d2315a7c6384163af80299a65?s=128&d=identicon&r=PG", "display_name": "joebeeson", "link": "https://stackoverflow.com/users/174652/joebeeson"}, "edited": false, "score": 1, "creation_date": 1481150705, "post_id": 41028150, "comment_id": 69264920, "body": "@joeb: <i>&quot;Don&#39;t gatekeep people&#39;s ability to ask for assistance&quot;</i> The more reputation that subscribers acquire, the more privileges we are given. And those privileges are solely to enable us precisely to <i>gatekeep</i> the questions and answers, and relieve the burden on the moderators. There is a continuous queue of items for review, and I can choose to accept, edit, or reject any one of them. If your indolent friends want something to do then the queue is now 1,041 items long, and time spent reducing that would be time well spent."}, {"owner": {"reputation": 646, "user_id": 1406188, "user_type": "registered", "accept_rate": 77, "profile_image": "https://www.gravatar.com/avatar/9db95b8e7cf67339e03512f4a0c07c7d?s=128&d=identicon&r=PG", "display_name": "WilliamK", "link": "https://stackoverflow.com/users/1406188/williamk"}, "edited": false, "score": 0, "creation_date": 1481237159, "post_id": 41028150, "comment_id": 69307880, "body": "Please explain what is the purpose of the result so that those who do not read properly can stop assuming and hence stop deriding others."}], "answers": [{"comments": [{"owner": {"reputation": 123805, "user_id": 622310, "user_type": "registered", "accept_rate": 33, "profile_image": "https://www.gravatar.com/avatar/8b6d35219e1808520bc238b28161e2e6?s=128&d=identicon&r=PG", "display_name": "Borodin", "link": "https://stackoverflow.com/users/622310/borodin"}, "edited": false, "score": 0, "creation_date": 1481150391, "post_id": 41028374, "comment_id": 69264799, "body": "I can think of a few reasons for your downvote. For instance, code-only answers aren&#39;t considered to be the best of answers; also you don&#39;t show any sample input or output to show the extent of your testing: what your code produces and what it expects. Most of all thought it&#39;s an answer to a <i>very</i> specific question and highly unlikely to be of much use to anyone but the OP."}, {"owner": {"reputation": 123805, "user_id": 622310, "user_type": "registered", "accept_rate": 33, "profile_image": "https://www.gravatar.com/avatar/8b6d35219e1808520bc238b28161e2e6?s=128&d=identicon&r=PG", "display_name": "Borodin", "link": "https://stackoverflow.com/users/622310/borodin"}, "edited": false, "score": 0, "creation_date": 1481151126, "post_id": 41028374, "comment_id": 69265108, "body": "Apart from being a poor excuse for showing <i>actual</i> input and output, your little edit does nothing to explain what you have written and why."}], "tags": [], "owner": {"reputation": 3639, "user_id": 174652, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/42a9ad8d2315a7c6384163af80299a65?s=128&d=identicon&r=PG", "display_name": "joebeeson", "link": "https://stackoverflow.com/users/174652/joebeeson"}, "is_accepted": true, "score": -1, "last_activity_date": 1481151183, "last_edit_date": 1481151183, "creation_date": 1481148979, "answer_id": 41028374, "question_id": 41028150, "link": "https://stackoverflow.com/questions/41028150/convert-ip-ranges-and-cidr-to-decimal-addresses/41028374#41028374", "title": "Convert IP Ranges and CIDR to decimal addresses", "body": "<p>Python will do this for you with the help of the <a href=\"https://pypi.python.org/pypi/netaddr\" rel=\"nofollow noreferrer\"><code>netaddr</code></a> module.</p>\n\n<pre><code>from netaddr import IPAddress, IPNetwork\n\nwith open(\"your file.txt\", \"r\") as f:\n\n    for line in f:\n\n        if \"/\" in line:\n            ip_network = IPNetwork(line)\n            print \"{},{}\".format(\n                ip_network.first,\n                ip_network.last\n            )\n            continue\n\n        if \",\" in line:\n            first_ip, last_ip = line.split(\",\")\n        else:\n            first_ip = last_ip = line\n\n        print \"{},{}\".format(\n            int(IPAddress(first_ip)),\n            int(IPAddress(last_ip))\n        )\n</code></pre>\n\n<p>Using the three example inputs and the three expected outputs from your question, the above works as expected. </p>\n"}], "owner": {"reputation": 23, "user_id": 7032732, "user_type": "registered", "accept_rate": 80, "profile_image": "https://graph.facebook.com/1580302535610489/picture?type=large", "display_name": "James Sandzalone", "link": "https://stackoverflow.com/users/7032732/james-sandzalone"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 250, "favorite_count": 0, "closed_date": 1481150785, "accepted_answer_id": 41028374, "answer_count": 1, "score": -3, "last_activity_date": 1481151183, "creation_date": 1481148010, "last_edit_date": 1481149026, "question_id": 41028150, "link": "https://stackoverflow.com/questions/41028150/convert-ip-ranges-and-cidr-to-decimal-addresses", "closed_reason": "Needs more focus", "title": "Convert IP Ranges and CIDR to decimal addresses", "body": "<p></p>\n\n<p>I have a file that contains multiple IP addresses in multiple formats.</p>\n\n<p>Here's an example of the files:</p>\n\n<pre class=\"lang-none prettyprint-override\"><code>31.14.133.39\n37.221.172.0/23\n46.19.137.0/24\n46.19.143.0/24\n50.7.78.88/31\n5.79.39.4,5.79.39.5\n62.73.8.0/23\n63.235.155.210\n5.39.216.0,5.39.223.255\n64.12.118.23\n64.12.118.88\n</code></pre>\n\n<p>Some are in CIDR format, some are ranges, and some are individual IPs.</p>\n\n<p>Here are the 3 different possible formats:</p>\n\n<pre class=\"lang-none prettyprint-override\"><code>63.235.155.210\n62.73.8.0/23\n5.39.216.0,5.39.223.255\n</code></pre>\n\n<p>I'm wanting to convert all lines into IP decimal ranges. For example, the three-format sample listed above would look like this:</p>\n\n<pre class=\"lang-none prettyprint-override\"><code>1072405458,1072405458\n1044973568,1044974079\n86497280,86499327\n</code></pre>\n\n<p>The file has around 400,000 lines in it.</p>\n\n<p>I'm okay doing it via command line, Perl, Python or PHP.</p>\n"}, {"tags": ["perl", "template-engine", "dancer"], "comments": [{"owner": {"reputation": 8273, "user_id": 1334695, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/431ae6e9f7610b9d6a6a6cdebd0244d5?s=128&d=identicon&r=PG", "display_name": "stevieb", "link": "https://stackoverflow.com/users/1334695/stevieb"}, "edited": false, "score": 0, "creation_date": 1481143699, "post_id": 41026986, "comment_id": 69261437, "body": "Please show the snip of the template that coincides with your example here so we can test."}, {"owner": {"reputation": 5334, "user_id": 5830574, "user_type": "registered", "accept_rate": 93, "profile_image": "https://i.stack.imgur.com/kCmqs.png?s=128&g=1", "display_name": "PerlDuck", "link": "https://stackoverflow.com/users/5830574/perlduck"}, "reply_to_user": {"reputation": 8273, "user_id": 1334695, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/431ae6e9f7610b9d6a6a6cdebd0244d5?s=128&d=identicon&r=PG", "display_name": "stevieb", "link": "https://stackoverflow.com/users/1334695/stevieb"}, "edited": false, "score": 1, "creation_date": 1481145043, "post_id": 41026986, "comment_id": 69262252, "body": "@stevieb I just amended my post."}, {"owner": {"reputation": 50468, "user_id": 1331451, "user_type": "registered", "accept_rate": 96, "profile_image": "https://i.stack.imgur.com/4ZPmj.png?s=128&g=1", "display_name": "simbabque", "link": "https://stackoverflow.com/users/1331451/simbabque"}, "edited": false, "score": 1, "creation_date": 1481147447, "post_id": 41026986, "comment_id": 69263470, "body": "You can also ignore whitespace from individual blocks by putting a <code>-</code> there. <code>&lt;%-</code> and <code>-%&gt;</code> respectively. Be careful if you use this in JS code, you might shoot yourself in the foot."}, {"owner": {"reputation": 5334, "user_id": 5830574, "user_type": "registered", "accept_rate": 93, "profile_image": "https://i.stack.imgur.com/kCmqs.png?s=128&g=1", "display_name": "PerlDuck", "link": "https://stackoverflow.com/users/5830574/perlduck"}, "reply_to_user": {"reputation": 50468, "user_id": 1331451, "user_type": "registered", "accept_rate": 96, "profile_image": "https://i.stack.imgur.com/4ZPmj.png?s=128&g=1", "display_name": "simbabque", "link": "https://stackoverflow.com/users/1331451/simbabque"}, "edited": false, "score": 1, "creation_date": 1481148692, "post_id": 41026986, "comment_id": 69264050, "body": "@simbabque I&#39;ll try those in the next step. But thank you for pointing me to Dancer2 at all. It&#39;s just awesome :-) compared to CGI. Like Assembler vs. some high level language."}, {"owner": {"reputation": 50468, "user_id": 1331451, "user_type": "registered", "accept_rate": 96, "profile_image": "https://i.stack.imgur.com/4ZPmj.png?s=128&g=1", "display_name": "simbabque", "link": "https://stackoverflow.com/users/1331451/simbabque"}, "edited": false, "score": 0, "creation_date": 1481194263, "post_id": 41026986, "comment_id": 69282498, "body": "I&#39;m happy to hear that. Have you figured out the deployment yet? It&#39;s a bit different than CGI (unless you use CGI, but that would not be the smartest move)."}], "answers": [{"comments": [{"owner": {"reputation": 5334, "user_id": 5830574, "user_type": "registered", "accept_rate": 93, "profile_image": "https://i.stack.imgur.com/kCmqs.png?s=128&g=1", "display_name": "PerlDuck", "link": "https://stackoverflow.com/users/5830574/perlduck"}, "edited": false, "score": 0, "creation_date": 1481148345, "post_id": 41027755, "comment_id": 69263891, "body": "Thank you for confirming that I set TRIM correctly in config.yml. That helped a lot. I played a bit with PRE/POST_CHOMP and indeed it gives better (yet not perfect) results. I misunderstood TRIM and thought it is similar to <i>&quot;PRE and POST_CHOMP to the max&quot;</i>."}], "tags": [], "owner": {"reputation": 21782, "user_id": 176646, "user_type": "registered", "accept_rate": 88, "profile_image": "https://i.stack.imgur.com/HsQyV.png?s=128&g=1", "display_name": "ThisSuitIsBlackNot", "link": "https://stackoverflow.com/users/176646/thissuitisblacknot"}, "is_accepted": true, "score": 5, "last_activity_date": 1481146933, "last_edit_date": 1592644375, "creation_date": 1481146310, "answer_id": 41027755, "question_id": 41026986, "link": "https://stackoverflow.com/questions/41026986/configuring-templatetoolkit-in-dancer2s-config-yml-trimming-whitespace/41027755#41027755", "title": "Configuring Template::Toolkit in Dancer2&#39;s config.yml (trimming whitespace)", "body": "<p>You're enabling <code>TRIM</code> correctly in your config file, but <code>TRIM</code> only removes whitespace from the very beginning and the very end of a block or template file. To remove whitespace from the middle of a template file, use <a href=\"http://template-toolkit.org/docs/manual/Config.html#section_PRE_CHOMP_POST_CHOMP\" rel=\"nofollow noreferrer\"><code>PRE_CHOMP</code>/<code>POST_CHOMP</code></a>:</p>\n<blockquote>\n<p>Anything outside a directive tag is considered plain text and is generally passed through unaltered...This includes all whitespace and newlines characters surrounding directive tags. Directives that don't generate any output will leave gaps in the output document.</p>\n<p>Example:</p>\n<pre><code>Foo\n[% a = 10 %]\nBar\n</code></pre>\n<p>Output:</p>\n<pre><code>Foo\n\nBar\n</code></pre>\n<p>The PRE_CHOMP and POST_CHOMP options can help to clean up some of this extraneous whitespace. Both are disabled by default.</p>\n</blockquote>\n<p>There are several possible settings for <code>PRE_CHOMP</code> and <code>POST_CHOMP</code> that affect how much whitespace is stripped; none of them generates really pretty output, so you'll have to play around and decide which you like best.</p>\n"}, {"tags": [], "owner": {"reputation": 5334, "user_id": 5830574, "user_type": "registered", "accept_rate": 93, "profile_image": "https://i.stack.imgur.com/kCmqs.png?s=128&g=1", "display_name": "PerlDuck", "link": "https://stackoverflow.com/users/5830574/perlduck"}, "is_accepted": false, "score": 2, "last_activity_date": 1482265415, "creation_date": 1482265415, "answer_id": 41250681, "question_id": 41026986, "link": "https://stackoverflow.com/questions/41026986/configuring-templatetoolkit-in-dancer2s-config-yml-trimming-whitespace/41250681#41250681", "title": "Configuring Template::Toolkit in Dancer2&#39;s config.yml (trimming whitespace)", "body": "<p>Another possibility to get rid of superfluous whitespace is the <code>collapse</code> filter<sup><a href=\"http://search.cpan.org/dist/Template-Toolkit/lib/Template/Manual/Filters.pod#collapse\" rel=\"nofollow noreferrer\">1</a>, <a href=\"http://template-toolkit.org/docs/manual/Filters.html#section_collapse\" rel=\"nofollow noreferrer\">2</a></sup>\nof Template::Toolkit. It collapses all consecutive whitespace (including newlines) to a single space character:</p>\n\n<p>From the docs:</p>\n\n<blockquote>\n<pre><code>[% FILTER collapse %]\n\n   The   cat\n\n   sat    on\n\n   the   mat\n\n[% END %]\n</code></pre>\n  \n  <p><strong>Output:</strong></p>\n\n<pre><code>The cat sat on the mat\n</code></pre>\n</blockquote>\n\n<p>My <code>views/layouts/main.tt</code> contains a line</p>\n\n<pre><code>&lt;% content %&gt;\n</code></pre>\n\n<p>If I replace that with</p>\n\n<pre><code>&lt;% content FILTER collapse %&gt;\n</code></pre>\n\n<p>then the resulting body of the HTML page is one single (and very long) line.</p>\n\n<p><strong>Attention:</strong> this will break any <code>&lt;pre&gt;</code> and <code>&lt;code&gt;</code> blocks (and perhaps some more).</p>\n"}], "owner": {"reputation": 5334, "user_id": 5830574, "user_type": "registered", "accept_rate": 93, "profile_image": "https://i.stack.imgur.com/kCmqs.png?s=128&g=1", "display_name": "PerlDuck", "link": "https://stackoverflow.com/users/5830574/perlduck"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 246, "favorite_count": 0, "accepted_answer_id": 41027755, "answer_count": 2, "score": 2, "last_activity_date": 1482265415, "creation_date": 1481143311, "last_edit_date": 1495542826, "question_id": 41026986, "link": "https://stackoverflow.com/questions/41026986/configuring-templatetoolkit-in-dancer2s-config-yml-trimming-whitespace", "title": "Configuring Template::Toolkit in Dancer2&#39;s config.yml (trimming whitespace)", "body": "<p>I'm using Dancer2 to build a web application. It works great but when I <em>view source</em> in the browser, the generated HTML source code is full of scattered whitespace, like so</p>\n\n<pre><code>    &lt;tr&gt;\n        &lt;td&gt;2&lt;/td&gt;\n\n\n\n            &lt;td&gt;Cheeseburger&lt;/td&gt;\n\n        &lt;td&gt;4.50&amp;nbsp;\u20ac&lt;/td&gt;\n    &lt;/tr&gt;\n</code></pre>\n\n<p>My templates had <code>&lt;% ... %&gt;</code> code at the places where now the whitespace is. I'd prefer if it looked like this:</p>\n\n<pre><code>    &lt;tr&gt;\n        &lt;td&gt;2&lt;/td&gt;\n            &lt;td&gt;Cheeseburger&lt;/td&gt;\n        &lt;td&gt;4.50&amp;nbsp;\u20ac&lt;/td&gt;\n    &lt;/tr&gt;\n</code></pre>\n\n<p>or, even better:</p>\n\n<pre><code>&lt;tr&gt;&lt;td&gt;2&lt;/td&gt;&lt;td&gt;Cheeseburger&lt;/td&gt;&lt;td&gt;4.50&amp;nbsp;\u20ac&lt;/td&gt;&lt;/tr&gt;\n</code></pre>\n\n<p>I'm using Template::Toolkit and thought the <code>TRIM</code> attribute is exactly what I need and added it to my <code>config.yml</code>:</p>\n\n<pre><code>template: \"template_toolkit\"\nsession: \"YAML\"\n\nengines:\n  session:\n    YAML:\n      cookie_duration: 6 months\n  template:\n    template_toolkit:\n      start_tag: '&lt;%'\n      end_tag:   '%&gt;'\n      TRIM:      '1'\n</code></pre>\n\n<p>But this doesn't work. I already changed <code>start_tag</code> and <code>end_tag</code> to something different (to verify this file is read) and that actually worked. But the <code>TRIM</code> option does not.</p>\n\n<p>Am I using the wrong option or giving it at the wrong place? All the googling I did showed how to set TT-options programmatically as e.g. in <a href=\"https://stackoverflow.com/a/4187782/5830574\">this answer</a>. But as I do not explicitely instantiate anything TT related, I don't even know where I should put such code.</p>\n\n<hr>\n\n<p>I created my app with <code>dancer2 -a so</code>.</p>\n\n<p><strong>views/index.tt</strong></p>\n\n<pre><code>&lt;table&gt;\n    &lt;tbody&gt;\n        &lt;% FOREACH item in group.items %&gt;\n            &lt;tr&gt;\n                &lt;td&gt;&lt;% item.order_num %&gt;&lt;/td&gt;\n                &lt;%# one-line comment %&gt;\n                &lt;%# one-line comment %&gt;\n                &lt;%# one-line comment %&gt;\n                    &lt;td&gt;&lt;% item.desc %&gt;&lt;/td&gt;\n                &lt;%# one-line comment %&gt;\n                &lt;td&gt;&lt;% currency(item.price) %&gt;&lt;/td&gt;\n            &lt;/tr&gt;\n        &lt;% END %&gt;\n    &lt;/tbody&gt;\n&lt;/table&gt;\n</code></pre>\n\n<p><code>group.items</code> is an array of hashrefs; <code>currency</code> is a function to format the price. The <code>&lt;%# one-line comment %&gt;</code> are my old code (I'm migrating from <a href=\"http://handlebarsjs.com/\" rel=\"nofollow noreferrer\">Handlebars</a> to Dancer2).</p>\n\n<p><strong>lib/so.pm</strong> (the app's module)</p>\n\n<pre><code>package so;\nuse Dancer2;\n\nour $VERSION = '0.1';\n\nget '/' =&gt; sub {\n\n    my $group = {\n        items =&gt; [\n            {\n                order_num =&gt; 1,\n                desc =&gt; 'Hamburger',\n                price =&gt; 350,\n            },\n            {\n                order_num =&gt; 2,\n                desc =&gt; 'Cheeseburger',\n                price =&gt; 450,\n            },\n        ]\n    };\n\n    template 'index', {\n        group =&gt; $group,\n        currency =&gt; sub { sprintf('%.2f&amp;nbsp;\u20ac', $_[0]/100); },\n    };\n};\n\ntrue;\n</code></pre>\n"}, {"tags": ["perl"], "comments": [{"owner": {"reputation": 198290, "user_id": 1030675, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/957956ce51706d03f19a4dc85a767bb1?s=128&d=identicon&r=PG", "display_name": "choroba", "link": "https://stackoverflow.com/users/1030675/choroba"}, "edited": false, "score": 0, "creation_date": 1481136317, "post_id": 41024912, "comment_id": 69257227, "body": "Why do you need to switch to Perl?"}], "answers": [{"tags": [], "owner": {"reputation": 198290, "user_id": 1030675, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/957956ce51706d03f19a4dc85a767bb1?s=128&d=identicon&r=PG", "display_name": "choroba", "link": "https://stackoverflow.com/users/1030675/choroba"}, "is_accepted": true, "score": 1, "last_activity_date": 1481137996, "creation_date": 1481137996, "answer_id": 41025492, "question_id": 41024912, "link": "https://stackoverflow.com/questions/41024912/file-column-comparison-and-appending-output-in-perl/41025492#41025492", "title": "file column comparison and appending output in perl", "body": "<p>This produces almost the output you wanted, only the order of the lines is not always preserved.</p>\n\n<pre><code>#!/usr/bin/perl\nuse warnings;\nuse strict;\nuse feature qw{ say };\n\nopen my $F1, '&lt;', 'file1.txt' or die $!;\nmy %f1;\nwhile (&lt;$F1&gt;) {\n    chomp;\n    $f1{$_} = 1;\n}\n\nmy %output;\nmy $count = 1;\nfor my $file (qw( file2.txt file3.txt file4.txt )) {\n    open my $F2, '&lt;', $file or die $!;\n    while (&lt;$F2&gt;) {\n        chomp;\n        my @cells = split qr/[,:] /;\n        push @{ $output{ $cells[0] } }, [ @cells[ 1 .. $#cells ] ]\n            if exists $f1{ $cells[0] };\n    }\n    @$_ != $count and push @$_, [] for values %output;\n    ++$count;\n}\nopen my $F2, '&lt;', 'output.csv' or die $!;\nwhile (&lt;$F2&gt;) {\n    chomp;\n    my ($key, $rest) = split /,/, $_, 2;\n    push @{ $output{$key} }, [$rest] if exists $f1{$key};\n}\n\n\nfor my $k (keys %output) {\n    say \"$k,\", join ',', map { join '; ', @$_ } @{ $output{$k} };\n}\n</code></pre>\n\n<p>It creates a hash of arrays keyed by the first column, values from different files are pushed into the inner array in the loop, empty arrays are pushed to missing keys to get the double commas.</p>\n"}], "owner": {"reputation": 331, "user_id": 6721235, "user_type": "registered", "accept_rate": 77, "profile_image": "https://www.gravatar.com/avatar/23fa68ad6b31e6f77364306a70edd954?s=128&d=identicon&r=PG&f=1", "display_name": "J.Carter", "link": "https://stackoverflow.com/users/6721235/j-carter"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 67, "favorite_count": 0, "accepted_answer_id": 41025492, "answer_count": 1, "score": 0, "last_activity_date": 1481137996, "creation_date": 1481135965, "question_id": 41024912, "link": "https://stackoverflow.com/questions/41024912/file-column-comparison-and-appending-output-in-perl", "title": "file column comparison and appending output in perl", "body": "<p>With my two input file as:</p>\n\n<p>file1.txt as,</p>\n\n<pre><code>NP_418770.2\nNP_416485.4\n</code></pre>\n\n<p>and file2.txt as,</p>\n\n<pre><code>NP_415931.4: 1-8, 29-40, 69-80, 100-111, 124-132\nNP_418770.2: 264-293\nYP_026226.4: 84-101, 174-182, 208-217, 332-341, 376-388, 593-606\nNP_416485.4: 1-18, 16-25, 106-122, 129-153\nNP_417679.2: 1-10\nNP_417044.4: 1-25, 221-231, 825-836\n</code></pre>\n\n<p>to get only the matched first column values of file1 in file2 and writing output file as (output.txt):</p>\n\n<pre><code>NP_418770.2: 264-293\nNP_416485.4: 1-18, 16-25, 106-122, 129-153\n</code></pre>\n\n<p>i use awk code as:</p>\n\n<pre><code>awk -F: \"FNR==NR {a[$1]=$0; next}; $1 in a {print a[$1]}\" file2.txt file1.txt &gt; output.txt\n</code></pre>\n\n<p>now, in a updated situation,with addition to above inputs,  i have two more input files having the same format of file2.txt as:</p>\n\n<p>file3.txt</p>\n\n<pre><code>NP_415931.4: 11-88, 59-90, 119-130\nNP_418770.2: 254-283\n</code></pre>\n\n<p>and file4.txt</p>\n\n<pre><code>NP_418770.2: 24-29, 33-50\nNP_416485.4: 1-8, 16-22, 26-32, 39-53\n</code></pre>\n\n<p>and i already have a csv formatted output.csv file as (with header):</p>\n\n<pre><code>RefSeq_ID,a,b,c,d,e,f,Go_terms(%)\nNP_418770.2,25,83,0,0,0,0,GO:0005887\nNP_416485.4,13,19,8,12,0,0,GO:0016878 GO:0051108\n</code></pre>\n\n<p>Now, my question is, how can i append the output of all three input files in the preexisting output.csv? The modified sample output.csv that i want for the above case would be (first line is header):</p>\n\n<pre><code>RefSeq_ID,file2_output,file3_output,file4_output,a,b,c,d,e,f,Go_terms\nNP_418770.2,264-293,254-283,24-29; 33-50,25,83,0,0,0,0,GO:0005887\nNP_416485.4,1-18; 16-25; 106-122; 129-153,,1-8; 16-22; 26-32; 39-53,13,19,8,12,0,0,GO:0016878 GO:0051108\n</code></pre>\n\n<p>(Note that i change the \",\" in file2,3 and 4 output to \";\" so thus not to interfere with format of csv file)</p>\n\n<p>although i try awk for the preliminary case, how can this be done with a perl code?</p>\n"}, {"tags": ["regex", "perl"], "comments": [{"owner": {"reputation": 78982, "user_id": 1848654, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/84180c0f3c9c04f8b8f0613fc0129dac?s=128&d=identicon&r=PG", "display_name": "melpomene", "link": "https://stackoverflow.com/users/1848654/melpomene"}, "edited": false, "score": 0, "creation_date": 1481136538, "post_id": 41024904, "comment_id": 69257367, "body": "Your spec is far from clear. Do you have an actual use case or is this just a random exercise?"}, {"owner": {"reputation": 320771, "user_id": 589924, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/b2cf53d5a3d25f95c0db4e025aed4153?s=128&d=identicon&r=PG", "display_name": "ikegami", "link": "https://stackoverflow.com/users/589924/ikegami"}, "edited": false, "score": 5, "creation_date": 1481138013, "post_id": 41024904, "comment_id": 69258198, "body": "Always use <code>use strict; use warnings qw( all );</code>! It should catch a problem: <code>\\w</code> and <code>\\W</code> in a double-quoted string literal. Escape the slash or switch to using <code>qr&#47;&#47;</code>."}, {"owner": {"reputation": 320771, "user_id": 589924, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/b2cf53d5a3d25f95c0db4e025aed4153?s=128&d=identicon&r=PG", "display_name": "ikegami", "link": "https://stackoverflow.com/users/589924/ikegami"}, "edited": false, "score": 2, "creation_date": 1481138504, "post_id": 41024904, "comment_id": 69258467, "body": "<code>qr&#47;\\b (?: k1 \\W+ (?: \\w+ \\W+ ){0,6}? )? k2 (?: \\W+ (?: \\w+ \\W+ ){0,6}? k3 )? \\b&#47;x</code>"}, {"owner": {"reputation": 181, "user_id": 4453606, "user_type": "registered", "accept_rate": 8, "profile_image": "https://www.gravatar.com/avatar/f22060487336c0de33d2f973806562cc?s=128&d=identicon&r=PG&f=1", "display_name": "David", "link": "https://stackoverflow.com/users/4453606/david"}, "reply_to_user": {"reputation": 320771, "user_id": 589924, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/b2cf53d5a3d25f95c0db4e025aed4153?s=128&d=identicon&r=PG", "display_name": "ikegami", "link": "https://stackoverflow.com/users/589924/ikegami"}, "edited": false, "score": 0, "creation_date": 1481146440, "post_id": 41024904, "comment_id": 69262961, "body": "@ikegami This works perfectly!!!. Thank you very very very much."}, {"owner": {"reputation": 181, "user_id": 4453606, "user_type": "registered", "accept_rate": 8, "profile_image": "https://www.gravatar.com/avatar/f22060487336c0de33d2f973806562cc?s=128&d=identicon&r=PG&f=1", "display_name": "David", "link": "https://stackoverflow.com/users/4453606/david"}, "reply_to_user": {"reputation": 78982, "user_id": 1848654, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/84180c0f3c9c04f8b8f0613fc0129dac?s=128&d=identicon&r=PG", "display_name": "melpomene", "link": "https://stackoverflow.com/users/1848654/melpomene"}, "edited": false, "score": 0, "creation_date": 1481147033, "post_id": 41024904, "comment_id": 69263263, "body": "@melpomene, this is an exercise. Thank for the comment."}, {"owner": {"reputation": 2415, "user_id": 4251338, "user_type": "registered", "accept_rate": 90, "profile_image": "https://i.stack.imgur.com/UNbCO.png?s=128&g=1", "display_name": "ssr1012", "link": "https://stackoverflow.com/users/4251338/ssr1012"}, "edited": false, "score": 0, "creation_date": 1481195389, "post_id": 41024904, "comment_id": 69283181, "body": "You can accept the answer and vote for champs."}], "answers": [{"comments": [{"owner": {"reputation": 181, "user_id": 4453606, "user_type": "registered", "accept_rate": 8, "profile_image": "https://www.gravatar.com/avatar/f22060487336c0de33d2f973806562cc?s=128&d=identicon&r=PG&f=1", "display_name": "David", "link": "https://stackoverflow.com/users/4453606/david"}, "edited": false, "score": 0, "creation_date": 1481186373, "post_id": 41031777, "comment_id": 69277320, "body": "Thank you again for the detailed answer!"}], "tags": [], "owner": {"reputation": 320771, "user_id": 589924, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/b2cf53d5a3d25f95c0db4e025aed4153?s=128&d=identicon&r=PG", "display_name": "ikegami", "link": "https://stackoverflow.com/users/589924/ikegami"}, "is_accepted": true, "score": 2, "last_activity_date": 1481173681, "last_edit_date": 1481173681, "creation_date": 1481171249, "answer_id": 41031777, "question_id": 41024904, "link": "https://stackoverflow.com/questions/41024904/perl-regex-finding-string-containing-keywords-in-order/41031777#41031777", "title": "Perl regex finding string containing keywords in order", "body": "<p>First of all, <code>\"\\w\"</code> produces the string <code>w</code>, and <code>\"\\W\"</code> produces the string <code>W</code>.</p>\n\n<pre><code>$ perl -wE'say \"\\w\\W\"'\nUnrecognized escape \\w passed through at -e line 1.\nUnrecognized escape \\W passed through at -e line 1.\nwW\n</code></pre>\n\n<p>You need to escape the backslash (<code>\"\\\\W\"</code>) or use <code>qr//</code> (<code>qr/\\W/</code>).</p>\n\n<hr>\n\n<p>I'm pretty sure there are other problems with the pattern. I'm going to start from scratch.</p>\n\n<p>Assumes <code>k1</code> and <code>k3</code> are both independently optional, you want:</p>\n\n<pre><code>qr/\n    (?: \\b k1 \\W+\n        (?: \\w+ \\W+ ){0,6}?\n    )?\n\n    \\b k2 \\b\n\n    (?: \n        (?: \\W+ \\w+ ){0,6}?\n        \\W+ k3 \\b\n    )?\n/x\n</code></pre>\n\n<p>The word boundaries (<code>\\b</code>) are there to ensure that we don't match <code>abck2def</code> or <code>abck1 k2 k3def</code>.</p>\n\n<hr>\n\n<p>The above is inefficient.</p>\n\n<p>Take for example the following regex pattern:</p>\n\n<pre><code>(?: x y )? x z\n</code></pre>\n\n<p>It can match the following strings:</p>\n\n<pre><code>xyxz\nxz\n</code></pre>\n\n<p>Notice how both start with <code>x</code>? That means a better pattern (i.e. one that performs less backtracking) would be</p>\n\n<pre><code>x (?: y x )? z    \n</code></pre>\n\n<p>There are a couple of instances of this anti-pattern in the above answer. So let's refactor.</p>\n\n<pre><code>qr/\n    \\b\n    (?: k1 \\W+ (?: \\w+ \\W+ ){0,6}? \\b )?\n    k2 \\b\n    (?: \\W+ (?: \\w+ \\W+ ){0,6}? k3 \\b  )?\n/x\n</code></pre>\n\n<p>Now we have something efficient.</p>\n\n<hr>\n\n<p>In the above pattern, notice that the second <code>\\b</code> is redundant. So let's get rid of it.</p>\n\n<p>If we add a <code>\\b</code> to the very end, the third and fourth <code>\\b</code> become redundant.</p>\n\n<p>After applying those simplifications, we get:</p>\n\n<pre><code>qr/\n    \\b\n    (?: k1 \\W+ (?: \\w+ \\W+ ){0,6}? )?\n    k2\n    (?: \\W+ (?: \\w+ \\W+ ){0,6}? k3 )?\n    \\b\n/x\n</code></pre>\n\n<hr>\n\n<p>Personally, I strongly dislike the non-greediness modifier as anything but a optimization. Furthermore, the use of two of them is normally a giant red flag that there is a bug in the pattern. For example, the pattern can match <code>k1 k1 k2</code>, but that may not be desirable.</p>\n\n<p>To eliminate them, we need to ensure the first <code>\\w+</code> doesn't match <code>k1</code> or <code>k2</code>. This can be achieved by replacing</p>\n\n<pre><code>\\b \\w+ \\b\n</code></pre>\n\n<p>with</p>\n\n<pre><code>(?! \\b k1 \\b ) (?! \\b k2 \\b ) \\b \\w+ \\b\n</code></pre>\n\n<p>Again, we factor out common prefixes to get:</p>\n\n<pre><code>\\b (?! (?: k2 | k3 ) \\b ) \\w+ \\b\n</code></pre>\n\n<p>Similarly, we need to ensure that the second <code>\\w+</code> doesn't match <code>k2</code> or <code>k3</code>.</p>\n\n<p>With these changes, we get:</p>\n\n<pre><code>qr/\n    \\b\n    (?: k1 \\W+ (?: (?! (?: k1 | k2 ) \\b ) \\w+ \\W+ ){0,6} )?\n    k2\n    (?: \\W+ (?: (?! (?: k2 | k3 ) \\b ) \\w+ \\W+ ){0,6} k3 )?\n    \\b\n/x\n</code></pre>\n\n<hr>\n\n<p>Complicated? yes. A better solution might start by breaking down the stream into word and non-word tokens. The advantage of this is that we don't have to worry about boundaries anymore.</p>\n\n<pre><code>my @tokens = split(/(\\W+)/, $content, -1);\n</code></pre>\n\n<p>Then, the array is checked for the pattern. Since the regex engine is particular adept at doing this, we can leverage it as follows:</p>\n\n<pre><code>my $tokens =\n   join '',\n      map {\n         ($_ % 2) ? \"W\"\n         : $words[$_] eq \"k1\" ? 1\n         : $words[$_] eq \"k2\" ? 2\n         : $words[$_] eq \"k3\" ? 3\n         : \"w\"                      # Non-key word\n      }\n         0..$#tokens;\n\nwhile ($tokens =~ /(?: 1 W (?: w W ){0,6} )? 2 (?: W (?: w W ){0,6} 3 )?/xg) {\n   say join('', @tokens[ $-[0] .. $+[0] - 1 ]);\n}\n</code></pre>\n\n<p>Given the that <code>@tokens</code> will always be of the form word, non-word, word, non-word, etc, we can also use the following:</p>\n\n<pre><code>my $words =\n   join '',\n      map {\n         ($_ % 2) ? \"\"              # We just want to look at the words\n         : $words[$_] eq \"k1\" ? 1\n         : $words[$_] eq \"k2\" ? 2\n         : $words[$_] eq \"k3\" ? 3\n         : \"w\"                      # Non-key word\n      }\n         0..$#tokens;\n\nwhile ($words =~ /(?: 1 w{0,6} )? 2 (?: w{0,6} 3 )?/xg) {\n   say join('', @tokens[ $-[0] * 2 .. ( $+[0] - 1 ) * 2 ]);\n}\n</code></pre>\n"}], "owner": {"reputation": 181, "user_id": 4453606, "user_type": "registered", "accept_rate": 8, "profile_image": "https://www.gravatar.com/avatar/f22060487336c0de33d2f973806562cc?s=128&d=identicon&r=PG&f=1", "display_name": "David", "link": "https://stackoverflow.com/users/4453606/david"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 112, "favorite_count": 0, "accepted_answer_id": 41031777, "answer_count": 1, "score": 0, "last_activity_date": 1481173681, "creation_date": 1481135932, "question_id": 41024904, "link": "https://stackoverflow.com/questions/41024904/perl-regex-finding-string-containing-keywords-in-order", "title": "Perl regex finding string containing keywords in order", "body": "<p>I am learning Perl. I want to find all occurences of 3 keywords in this <strong>order</strong>: <code>keyword1</code>, <code>keyword2</code> and <code>keyword3</code>  in a text. <code>keyword1</code> and <code>keyword3</code> are optional. It can have up to 6 words between keywords. This is the code in Perl:</p>\n\n<pre><code>#!/usr/bin/perl\n$reg=\"(keyword1)*\\W*(?:\\w+\\W+){0,6}?(keyword2)\\W*(?:\\w+\\W+){0,6}?(keyword3)*\";\n$content=\"some words before keyword1 optional word here then keyword2 again optional words then keyword3 others words after.\";\nwhile ($content=~m/$reg/g) {\n    print \"$&amp;\\n\";\n} \n</code></pre>\n\n<p>I want to extract only the substring <code>keyword1 optional word here then keyword2 again optional words then keyword3</code> but I got <code>keyword2</code>. Thank you.</p>\n"}, {"tags": ["perl", "terminal", "console", "size"], "comments": [{"owner": {"reputation": 19192, "user_id": 257635, "user_type": "registered", "accept_rate": 89, "profile_image": "https://i.stack.imgur.com/El2tc.jpg?s=128&g=1", "display_name": "Chankey Pathak", "link": "https://stackoverflow.com/users/257635/chankey-pathak"}, "edited": false, "score": 1, "creation_date": 1481135384, "post_id": 41024694, "comment_id": 69256638, "body": "<code>cannot install it or can&#39;t locate</code>. Do share the error message."}, {"owner": {"reputation": 8273, "user_id": 1334695, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/431ae6e9f7610b9d6a6a6cdebd0244d5?s=128&d=identicon&r=PG", "display_name": "stevieb", "link": "https://stackoverflow.com/users/1334695/stevieb"}, "edited": false, "score": 2, "creation_date": 1481135393, "post_id": 41024694, "comment_id": 69256642, "body": "<a href=\"http://stackoverflow.com/questions/1782107/how-do-i-retrieve-the-terminal-width-in-perl\" title=\"how do i retrieve the terminal width in perl\">stackoverflow.com/questions/1782107/&hellip;</a>"}, {"owner": {"reputation": 934, "user_id": 4541597, "user_type": "registered", "accept_rate": 58, "profile_image": "https://i.stack.imgur.com/wAQDO.jpg?s=128&g=1", "display_name": "Developus", "link": "https://stackoverflow.com/users/4541597/developus"}, "edited": false, "score": 0, "creation_date": 1481135457, "post_id": 41024694, "comment_id": 69256683, "body": "Error message for example: <code>Uncaught exception from user code:         Can&#39;t locate Term&#47;Size&#47;Any.pm in @INC (@INC contains: C:&#47;..&#47;..&#47;Desktop&#47;..&#47;..E:&#47;Dwimperl&#47;perl&#47;site&#47;lib E:&#47;Dwimperl&#47;perl&#47;vendor&#47;lib E:&#47;Dwimperl&#47;perl&#47;lib .) at ..</code>"}, {"owner": {"reputation": 21782, "user_id": 176646, "user_type": "registered", "accept_rate": 88, "profile_image": "https://i.stack.imgur.com/HsQyV.png?s=128&g=1", "display_name": "ThisSuitIsBlackNot", "link": "https://stackoverflow.com/users/176646/thissuitisblacknot"}, "edited": false, "score": 1, "creation_date": 1481135586, "post_id": 41024694, "comment_id": 69256760, "body": "That message means you put <code>use Term::Size::Any;</code> in your code but didn&#39;t install the Term::Size::Any module (or it&#39;s installed somewhere that perl can&#39;t find it). Did you try installing it?"}, {"owner": {"reputation": 934, "user_id": 4541597, "user_type": "registered", "accept_rate": 58, "profile_image": "https://i.stack.imgur.com/wAQDO.jpg?s=128&g=1", "display_name": "Developus", "link": "https://stackoverflow.com/users/4541597/developus"}, "edited": false, "score": 0, "creation_date": 1481135861, "post_id": 41024694, "comment_id": 69256957, "body": "Ok, but when I installed it, I add: <code>use Term::Size::Any qw( chars pixels ); (my $columns, my $rows) = chars *STDOUT{IO};</code> and use this variables like this: <code>if($height &gt; $cols || $width &gt; $rows) {..}</code>, I get: <code>Global symbol &quot;$cols&quot; requires explicit package</code>"}, {"owner": {"reputation": 21782, "user_id": 176646, "user_type": "registered", "accept_rate": 88, "profile_image": "https://i.stack.imgur.com/HsQyV.png?s=128&g=1", "display_name": "ThisSuitIsBlackNot", "link": "https://stackoverflow.com/users/176646/thissuitisblacknot"}, "edited": false, "score": 2, "creation_date": 1481136199, "post_id": 41024694, "comment_id": 69257156, "body": "That&#39;s a totally different issue. You declared the <code>$columns</code> variable but used <code>$cols</code> in your <code>if</code> statement."}], "owner": {"reputation": 934, "user_id": 4541597, "user_type": "registered", "accept_rate": 58, "profile_image": "https://i.stack.imgur.com/wAQDO.jpg?s=128&g=1", "display_name": "Developus", "link": "https://stackoverflow.com/users/4541597/developus"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 35, "favorite_count": 0, "closed_date": 1481135430, "answer_count": 0, "score": 0, "last_activity_date": 1481135211, "creation_date": 1481135211, "question_id": 41024694, "link": "https://stackoverflow.com/questions/41024694/perl-get-terminal-console-size", "closed_reason": "Duplicate", "title": "Perl - get terminal/console size", "body": "<p>I want to get a terminal's size. I tried to use <code>Term::Size</code> or <code>Term::Screen</code> but it does not work (cannot install it or can't locate). Is it any alternative way to get terminal size in perl? For example without use additional modules?</p>\n"}, {"tags": ["regex", "perl"], "comments": [{"owner": {"reputation": 53041, "user_id": 4653379, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/b3953dbedd0dabff5cbc3db9b0835b14?s=128&d=identicon&r=PG&f=1", "display_name": "zdim", "link": "https://stackoverflow.com/users/4653379/zdim"}, "edited": false, "score": 0, "creation_date": 1482813790, "post_id": 41024498, "comment_id": 69880780, "body": "A reminder, see <a href=\"http://stackoverflow.com/help/someone-answers\">What should I do when someone answers my question?</a>"}], "answers": [{"comments": [{"owner": {"reputation": 32690, "user_id": 3266847, "user_type": "registered", "accept_rate": 100, "profile_image": "https://i.stack.imgur.com/U0oyt.png?s=128&g=1", "display_name": "Benjamin W.", "link": "https://stackoverflow.com/users/3266847/benjamin-w"}, "edited": false, "score": 0, "creation_date": 1481135803, "post_id": 41024580, "comment_id": 69256919, "body": "Or <code>(?!3[GK])</code>?"}, {"owner": {"reputation": 3180, "user_id": 4875869, "user_type": "registered", "profile_image": "https://lh6.googleusercontent.com/-Et6rMvbhpQ4/AAAAAAAAAAI/AAAAAAAAAIM/tGpQoqm18cs/photo.jpg?sz=128", "display_name": "Kirill Bulygin", "link": "https://stackoverflow.com/users/4875869/kirill-bulygin"}, "reply_to_user": {"reputation": 32690, "user_id": 3266847, "user_type": "registered", "accept_rate": 100, "profile_image": "https://i.stack.imgur.com/U0oyt.png?s=128&g=1", "display_name": "Benjamin W.", "link": "https://stackoverflow.com/users/3266847/benjamin-w"}, "edited": false, "score": 0, "creation_date": 1481136025, "post_id": 41024580, "comment_id": 69257043, "body": "That&#39;s true but, well, the question is not about optimizing the regex, and the smallest change should show the most clear what was wrong."}], "tags": [], "owner": {"reputation": 3180, "user_id": 4875869, "user_type": "registered", "profile_image": "https://lh6.googleusercontent.com/-Et6rMvbhpQ4/AAAAAAAAAAI/AAAAAAAAAIM/tGpQoqm18cs/photo.jpg?sz=128", "display_name": "Kirill Bulygin", "link": "https://stackoverflow.com/users/4875869/kirill-bulygin"}, "is_accepted": false, "score": 2, "last_activity_date": 1481135588, "last_edit_date": 1481135588, "creation_date": 1481134784, "answer_id": 41024580, "question_id": 41024498, "link": "https://stackoverflow.com/questions/41024498/perl-pattern-match-not-working-as-expected/41024580#41024580", "title": "Perl pattern match not working as expected", "body": "<p><code>[^(?:3G|3K)]</code> reads as \"any character but <code>(</code>, <code>?</code>, etc.\"</p>\n\n<pre><code>                      failed\n                      v\n        c3            kasdf\n/(?:^|,)\\w{2}[^(?:3G|3K)]/i\n</code></pre>\n\n<p>Use this:</p>\n\n<pre><code>/(?:^|,)\\w{2}(?!3G|3K)/i\n</code></pre>\n\n<p>Demo: <a href=\"https://regex101.com/r/P2XsgN/1\" rel=\"nofollow noreferrer\">https://regex101.com/r/P2XsgN/1</a>.</p>\n"}, {"tags": [], "owner": {"reputation": 1727, "user_id": 2102698, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/87f97295ca416aca61bd8d6e8fac8ef5?s=128&d=identicon&r=PG", "display_name": "Waxrat", "link": "https://stackoverflow.com/users/2102698/waxrat"}, "is_accepted": false, "score": 1, "last_activity_date": 1481135321, "creation_date": 1481135321, "answer_id": 41024727, "question_id": 41024498, "link": "https://stackoverflow.com/questions/41024498/perl-pattern-match-not-working-as-expected/41024727#41024727", "title": "Perl pattern match not working as expected", "body": "<p>How about <code>/\\b\\w{2}(?!3g|3k)/i</code>.</p>\n\n<p><code>\\b</code> matches the empty string at the beginning or end of a word. Slightly simpler equivalent to <code>(^|,)</code> in this situation.</p>\n\n<p><code>(?!foo)</code> is a zero-width negative lookahead assertion. So, matches the empty string as long as it's not followed by a substring that matches <code>foo</code>.</p>\n"}, {"tags": [], "owner": {"reputation": 19192, "user_id": 257635, "user_type": "registered", "accept_rate": 89, "profile_image": "https://i.stack.imgur.com/El2tc.jpg?s=128&g=1", "display_name": "Chankey Pathak", "link": "https://stackoverflow.com/users/257635/chankey-pathak"}, "is_accepted": false, "score": 0, "last_activity_date": 1481135920, "creation_date": 1481135920, "answer_id": 41024900, "question_id": 41024498, "link": "https://stackoverflow.com/questions/41024498/perl-pattern-match-not-working-as-expected/41024900#41024900", "title": "Perl pattern match not working as expected", "body": "<p>You could use <a href=\"http://perldoc.perl.org/functions/substr.html\" rel=\"nofollow noreferrer\"><strong>substr</strong></a> to get data at 3rd and 4th position and then compare it with <code>(3g|3k)</code>.</p>\n\n<pre><code>substr $_,2,2\n</code></pre>\n\n<hr>\n\n<pre><code>#!/usr/bin/perl\nuse strict;\nuse warnings;\n\nmy @a = ('in3g123456,dh3k123456,dhec110101','dhec110101,dhec123456','in3g123456,dh3k123456', 'c3kasdf', 'usdfusdufs3gsdf' );\n\nforeach (@a) {\n  my @inputs = split /,/,$_;\n  my $flag = 0;\n  foreach (@inputs){\n    $flag = 1 unless ((substr $_,2,2) =~ /(3g|3k)/);\n  }\n  $flag ? print \"$_: True\\n\" : print \"$_: False\\n\";\n}\n</code></pre>\n\n<p>Output:</p>\n\n<pre><code>in3g123456,dh3k123456,dhec110101: True\ndhec110101,dhec123456: True\nin3g123456,dh3k123456: False\nc3kasdf: True\nusdfusdufs3gsdf: True\n</code></pre>\n\n<p><a href=\"http://ideone.com/VwTQNG\" rel=\"nofollow noreferrer\"><strong>Demo</strong></a></p>\n"}, {"comments": [{"owner": {"reputation": 53041, "user_id": 4653379, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/b3953dbedd0dabff5cbc3db9b0835b14?s=128&d=identicon&r=PG&f=1", "display_name": "zdim", "link": "https://stackoverflow.com/users/4653379/zdim"}, "edited": false, "score": 0, "creation_date": 1481138049, "post_id": 41025044, "comment_id": 69258213, "body": "@Jim I updated this answer with output and more explanations"}], "tags": [], "owner": {"reputation": 53041, "user_id": 4653379, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/b3953dbedd0dabff5cbc3db9b0835b14?s=128&d=identicon&r=PG&f=1", "display_name": "zdim", "link": "https://stackoverflow.com/users/4653379/zdim"}, "is_accepted": false, "score": 1, "last_activity_date": 1481275043, "last_edit_date": 1481275043, "creation_date": 1481136403, "answer_id": 41025044, "question_id": 41024498, "link": "https://stackoverflow.com/questions/41024498/perl-pattern-match-not-working-as-expected/41025044#41025044", "title": "Perl pattern match not working as expected", "body": "<p>You can also <a href=\"http://perldoc.perl.org/functions/split.html\" rel=\"nofollow noreferrer\">split</a> the string first, instead of parsing everything with a regex. That is far more flexible and maintainable, and easier.</p>\n\n<p>When processing the list of the extracted \"values\" you can match <em>any character</em> twice then your pattern, <code>/^..$patt/</code>. The module <a href=\"http://search.cpan.org/~rehsack/List-MoreUtils-0.416/lib/List/MoreUtils.pm\" rel=\"nofollow noreferrer\">List::MoreUtils</a> is useful (and fast) for list manipulations, and its <code>notall</code> function is tailor-made for your condition.</p>\n\n<pre><code>use warnings 'all';\nuse strict;\nuse List::MoreUtils qw(notall);\n\nmy $file = '...';\nopen my $fh, '&lt;', $file or die \"Can't open $file: $!\";\n\nwhile (&lt;$fh&gt;)\n{\n    my $res = notall { /^..(?:3k|3g)/ } split /,/;\n\n    print \"$_: \" . ($res ? 'true' : 'false'), \"\\n\";\n}\n</code></pre>\n\n<p>I presume that you read from a file. If not, replace <code>while (&lt;$fn&gt;)</code> with <code>for (@strings)</code>.</p>\n\n<p>The <code>notall</code> function returns true if any element of the list fails the condition.</p>\n\n<p>The <a href=\"http://perldoc.perl.org/functions/split.html\" rel=\"nofollow noreferrer\">split</a> by default uses <code>$_</code> so we only need the pattern. Here it is simply <code>,</code> but the pattern takes a regex so one can match separators flexibly. For example, this <code>/[,\\s]+/</code> splits on any amount of <code>,</code> and/or whitespace. So <code>,,  ,</code> in a string is matched as a separator, as well as <code>,</code> or space(s).</p>\n\n<p>When applied to the array with your strings the above prints</p>\n\n<pre>\nin3g123456,dh3k123456,dhec110101: true\ndhec110101,dhec123456: true\nin3g123456,dh3k123456: false\nc3kasdf: true\nusdfusdufs3gsdf: true\n</pre>\n"}], "owner": {"reputation": 63, "user_id": 1735336, "user_type": "registered", "accept_rate": 25, "profile_image": "https://www.gravatar.com/avatar/f5c168786de9e8ed4bf1879acffa8367?s=128&d=identicon&r=PG", "display_name": "Jim", "link": "https://stackoverflow.com/users/1735336/jim"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 493, "favorite_count": 0, "answer_count": 4, "score": 3, "last_activity_date": 1481275043, "creation_date": 1481134537, "question_id": 41024498, "link": "https://stackoverflow.com/questions/41024498/perl-pattern-match-not-working-as-expected", "title": "Perl pattern match not working as expected", "body": "<p>I'm trying to match values, which may be comma separated, using a regex. Basically, I want to return true if any value in the string does NOT have 3g or 3k starting in the 3rd position.</p>\n\n<p>My test code is as follows:</p>\n\n<pre><code>my @a = ('in3g123456,dh3k123456,dhec110101','dhec110101,dhec123456','in3g123456,dh3k123456', 'c3kasdf', 'usdfusdufs3gsdf' );\n\nforeach (@a) {\n  print $_;\n  say $_ =~ /(?:^|,)\\w{2}[^(?:3G|3K)]/i ? \" true\" : \" false\";\n}\n</code></pre>\n\n<p>This returns</p>\n\n<pre><code>in3g123456,dh3k123456,dhec110101 true\ndhec110101,dhec123456 true\nin3g123456,dh3k123456 false\nc3kasdf false   &lt;- whaaaaaaaat?\nusdfusdufs3gsdf true\n</code></pre>\n\n<p>I don't understand why the 4th one is not true. Any help would be appreciated.</p>\n"}, {"tags": ["perl", "awk", "sed", "gawk"], "comments": [{"owner": {"reputation": 21782, "user_id": 176646, "user_type": "registered", "accept_rate": 88, "profile_image": "https://i.stack.imgur.com/HsQyV.png?s=128&g=1", "display_name": "ThisSuitIsBlackNot", "link": "https://stackoverflow.com/users/176646/thissuitisblacknot"}, "edited": false, "score": 3, "creation_date": 1481134663, "post_id": 41024327, "comment_id": 69256228, "body": "Hi Shravan. I noticed you&#39;ve tagged a bunch of recent questions with awk, sed, and perl, even though you only mention awk and sed in the questions. Are you also trying to learn perl? If not, can you please only use the tags that are directly relevant to your question?"}, {"owner": {"reputation": 663663, "user_id": 15168, "user_type": "registered", "accept_rate": 100, "profile_image": "https://i.stack.imgur.com/WtEI9.png?s=128&g=1", "display_name": "Jonathan Leffler", "link": "https://stackoverflow.com/users/15168/jonathan-leffler"}, "edited": false, "score": 0, "creation_date": 1481172389, "post_id": 41024327, "comment_id": 69271234, "body": "Note <a href=\"https://stackoverflow.com/questions/11710552/\">UUoC \u2014 Useless Use of <code>cat</code></a>."}], "answers": [{"tags": [], "owner": {"reputation": 61700, "user_id": 5291015, "user_type": "registered", "accept_rate": 100, "profile_image": "https://i.stack.imgur.com/ZFijZ.jpg?s=128&g=1", "display_name": "Inian", "link": "https://stackoverflow.com/users/5291015/inian"}, "is_accepted": true, "score": 2, "last_activity_date": 1481135859, "last_edit_date": 1592644375, "creation_date": 1481135460, "answer_id": 41024772, "question_id": 41024327, "link": "https://stackoverflow.com/questions/41024327/remove-whitespaces-till-we-find-comma-but-this-should-start-skipping-first-comm/41024772#41024772", "title": "Remove whitespaces till we find comma, but this should start skipping first comma in each line of a file", "body": "<p>If you are using <code>GNU sed</code>, you can do something like</p>\n<pre><code>sed -e 's/[[:space:]][^,]*,/,/2g' file\n</code></pre>\n<p>where the <code>2g</code> specifies something like start the substitution from the <code>2nd</code> occurrence and <code>g</code> for doing it subsequently to the rest of the occurrences.</p>\n<p>The output for the above command.</p>\n<pre><code>sed -e 's/[[:space:]][^,]*,/,/2g' file\nThis is apple,apple.com,apple2.com,apple3.com,\nWe talk on 1 banana,banana.com,banannna.com,\ntake 5 grape,grape5.com,\n</code></pre>\n<p>An excerpt from the <a href=\"https://www.gnu.org/software/sed/manual/html_node/The-_0022s_0022-Command.html#The-_0022s_0022-Command\" rel=\"nofollow noreferrer\"><code>man</code> page of <code>GNU sed</code></a></p>\n<blockquote>\n<p>g\nApply the replacement to all matches to the regexp, not just the first.</p>\n<p>number\nOnly replace the numberth match of the regexp.</p>\n</blockquote>\n"}, {"comments": [{"owner": {"reputation": 3394, "user_id": 4805174, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/y0dE2.png?s=128&g=1", "display_name": "kayess", "link": "https://stackoverflow.com/users/4805174/kayess"}, "edited": false, "score": 5, "creation_date": 1481186224, "post_id": 41031880, "comment_id": 69277249, "body": "While this code snippet may solve the question, <a href=\"//meta.stackexchange.com/questions/114762/explaining-entirely-code-based-answers\">including an explanation</a> really helps to improve the quality of your post. Remember that you are answering the question for readers in the future, and those people might not know the reasons for your code suggestion. Please also try not to crowd your code with explanatory comments, this reduces the readability of both the code and the explanations!"}], "tags": [], "owner": {"reputation": 1371, "user_id": 5056806, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/bfa01ad122fc89b571651ffbbc34ce37?s=128&d=identicon&r=PG&f=1", "display_name": "Claes Wikner", "link": "https://stackoverflow.com/users/5056806/claes-wikner"}, "is_accepted": false, "score": 0, "last_activity_date": 1481332750, "last_edit_date": 1481332750, "creation_date": 1481171910, "answer_id": 41031880, "question_id": 41024327, "link": "https://stackoverflow.com/questions/41024327/remove-whitespaces-till-we-find-comma-but-this-should-start-skipping-first-comm/41031880#41031880", "title": "Remove whitespaces till we find comma, but this should start skipping first comma in each line of a file", "body": "<pre><code> awk '{gsub(/[ ]+/,\" \")gsub(/com [0-9]+/,\"com\")}1' file\n\n    This is apple,apple.com,apple2.com,apple3.com,\n    We talk on 1 banana,banana.com,banannna.com,\n    take 5 grape,grape5.com,\n</code></pre>\n\n<p>The first gsub removes extra space and the next one takes away unwanted numbers between com and comma.</p>\n"}], "owner": {"reputation": 61, "user_id": 1640927, "user_type": "registered", "accept_rate": 71, "profile_image": "https://www.gravatar.com/avatar/0a876886e25ee9fc4aa1465fa069af5b?s=128&d=identicon&r=PG", "display_name": "Shravan Kumar", "link": "https://stackoverflow.com/users/1640927/shravan-kumar"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 64, "favorite_count": 0, "accepted_answer_id": 41024772, "answer_count": 2, "score": 1, "last_activity_date": 1481332750, "creation_date": 1481133874, "last_edit_date": 1481172307, "question_id": 41024327, "link": "https://stackoverflow.com/questions/41024327/remove-whitespaces-till-we-find-comma-but-this-should-start-skipping-first-comm", "title": "Remove whitespaces till we find comma, but this should start skipping first comma in each line of a file", "body": "<p>I am in the learning phase of sed and awk commands, trying some complicated logic but couldn't get solution for the below.</p>\n\n<p>File contents:</p>\n\n<pre><code>This is apple,apple.com  443,apple2.com  80,apple3.com      232,\nWe talk on 1 banana,banana.com   80,banannna.com 23,\ntake 5 grape,grape5.com 23,\n</code></pre>\n\n<p>When I try with </p>\n\n<pre><code>$ cat sample.txt | sed -e 's/[[:space:]][^,]*,/,/g'\n,apple.com,apple2.com,apple3.com,\n,banana.com,banannna.com,\n,grape5.com,\n</code></pre>\n\n<p>is ok but I want to skip this <code>sed</code> for the first comma in each line, so expected output is </p>\n\n<pre><code>This is apple,apple.com,apple2.com,apple3.com,\nWe talk on 1 banana,banana.com,banannna.com,\ntake 5 grape,grape5.com,\n</code></pre>\n\n<p>Any help is appreciated.</p>\n"}, {"tags": ["perl", "cgi"], "comments": [{"owner": {"reputation": 2847, "user_id": 5049185, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/46f0d2dc8ee06f428e43d0d115a57c4f?s=128&d=identicon&r=PG&f=1", "display_name": "syck", "link": "https://stackoverflow.com/users/5049185/syck"}, "edited": false, "score": 2, "creation_date": 1481133513, "post_id": 41024030, "comment_id": 69255625, "body": "Usually &quot;Used only once&quot; warnings tell you that you initialize a variable but do not refer to it, or refer but do not initialize. You do not access <code>@error_fields</code>, so <code>($error) = @_;</code> should be sufficient."}, {"owner": {"reputation": 6258, "user_id": 82262, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/8ce15931410b388a52eb2df4a864137f?s=128&d=identicon&r=PG&f=1", "display_name": "Matt Jacob", "link": "https://stackoverflow.com/users/82262/matt-jacob"}, "edited": false, "score": 2, "creation_date": 1481134041, "post_id": 41024030, "comment_id": 69255911, "body": "This script was cutting-edge in 1997!"}, {"owner": {"reputation": 117, "user_id": 747146, "user_type": "registered", "accept_rate": 62, "profile_image": "https://www.gravatar.com/avatar/11e809305381f436adfbfdb3d005b0d1?s=128&d=identicon&r=PG", "display_name": "LisaH", "link": "https://stackoverflow.com/users/747146/lisah"}, "edited": false, "score": 0, "creation_date": 1481134770, "post_id": 41024030, "comment_id": 69256289, "body": "I think you&#39;re right about the date!"}], "answers": [{"comments": [{"owner": {"reputation": 117, "user_id": 747146, "user_type": "registered", "accept_rate": 62, "profile_image": "https://www.gravatar.com/avatar/11e809305381f436adfbfdb3d005b0d1?s=128&d=identicon&r=PG", "display_name": "LisaH", "link": "https://stackoverflow.com/users/747146/lisah"}, "edited": false, "score": 0, "creation_date": 1481134672, "post_id": 41024400, "comment_id": 69256237, "body": "Thanks for the response, for learning, what else is wrong? Or is it just bad?"}, {"owner": {"reputation": 21782, "user_id": 176646, "user_type": "registered", "accept_rate": 88, "profile_image": "https://i.stack.imgur.com/HsQyV.png?s=128&g=1", "display_name": "ThisSuitIsBlackNot", "link": "https://stackoverflow.com/users/176646/thissuitisblacknot"}, "reply_to_user": {"reputation": 117, "user_id": 747146, "user_type": "registered", "accept_rate": 62, "profile_image": "https://www.gravatar.com/avatar/11e809305381f436adfbfdb3d005b0d1?s=128&d=identicon&r=PG", "display_name": "LisaH", "link": "https://stackoverflow.com/users/747146/lisah"}, "edited": false, "score": 1, "creation_date": 1481135144, "post_id": 41024400, "comment_id": 69256508, "body": "@LisaH Use of global variables, parsing the HTTP request by hand instead of using a well-tested module, calling functions with <code>&amp;</code>, the list goes on."}, {"owner": {"reputation": 50468, "user_id": 1331451, "user_type": "registered", "accept_rate": 96, "profile_image": "https://i.stack.imgur.com/4ZPmj.png?s=128&g=1", "display_name": "simbabque", "link": "https://stackoverflow.com/users/1331451/simbabque"}, "edited": false, "score": 2, "creation_date": 1481136026, "post_id": 41024400, "comment_id": 69257044, "body": "You should add that <code>use diagnostics</code> is only for when you are actually debugging. Don&#39;t keep it in in production because it&#39;s expensive."}, {"owner": {"reputation": 117, "user_id": 747146, "user_type": "registered", "accept_rate": 62, "profile_image": "https://www.gravatar.com/avatar/11e809305381f436adfbfdb3d005b0d1?s=128&d=identicon&r=PG", "display_name": "LisaH", "link": "https://stackoverflow.com/users/747146/lisah"}, "edited": false, "score": 0, "creation_date": 1481141717, "post_id": 41024400, "comment_id": 69260364, "body": "@ThisSuitIsBlackNot thanks for the answers. I am going to replace it."}], "tags": [], "owner": {"reputation": 21782, "user_id": 176646, "user_type": "registered", "accept_rate": 88, "profile_image": "https://i.stack.imgur.com/HsQyV.png?s=128&g=1", "display_name": "ThisSuitIsBlackNot", "link": "https://stackoverflow.com/users/176646/thissuitisblacknot"}, "is_accepted": true, "score": 3, "last_activity_date": 1481134157, "creation_date": 1481134157, "answer_id": 41024400, "question_id": 41024030, "link": "https://stackoverflow.com/questions/41024030/old-perl-script-now-with-error-name-used-only-once/41024400#41024400", "title": "Old Perl Script now with Error-: Name Used only once", "body": "<p>First, that's a warning, not an error. It doesn't halt execution of the script, it simply tries to alert you that something <em>may</em> be wrong and that you should take a look at it.</p>\n\n<p>To get more detailed information about warnings, add <code>use diagnostics;</code> to the top of your script. In this case, you'll see:</p>\n\n<blockquote>\n  <p>Typographical errors often show up as unique variable names.\n      If you had a good reason for having a unique name, then just mention it\n      again somehow to suppress the message...</p>\n</blockquote>\n\n<p>Since you never use <code>@error_fields</code> after the initial assignment, Perl thinks you might have made a typo and warns you about it. There's no reason to assign to <code>@error_fields</code> if you never do anything with it, so you can simply remove it from that line:</p>\n\n<pre><code>($error) = @_;\n</code></pre>\n\n<p>But there are a lot of other issues with that script (e.g. no <code>use strict;</code>). I would dump it.</p>\n"}], "owner": {"reputation": 117, "user_id": 747146, "user_type": "registered", "accept_rate": 62, "profile_image": "https://www.gravatar.com/avatar/11e809305381f436adfbfdb3d005b0d1?s=128&d=identicon&r=PG", "display_name": "LisaH", "link": "https://stackoverflow.com/users/747146/lisah"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 252, "favorite_count": 0, "accepted_answer_id": 41024400, "answer_count": 1, "score": 0, "last_activity_date": 1481134157, "creation_date": 1481132759, "last_edit_date": 1481133337, "question_id": 41024030, "link": "https://stackoverflow.com/questions/41024030/old-perl-script-now-with-error-name-used-only-once", "title": "Old Perl Script now with Error-: Name Used only once", "body": "<p>I inherited an old perl script that takes search terms from various forms, and processes them.</p>\n\n<p>I see now in our logs that the script is throwing the following error:\nmastersearch.cgi: Name \"main::error_fields\" used only once: possible typo at /var/www/cgi-bin/mastersearch.cgi line 203.</p>\n\n<p>I've indicated the error line below, and here it is out of context:</p>\n\n<pre><code> ($error,@error_fields) = @_;\n</code></pre>\n\n<p>I've read up on only using a variable once,so it would seem that this line, the array error fields is used only once. But why isnt that ok? </p>\n\n<p>Can I use strict to correct this?Ive read other stack questions, but dont see how they relate, esp:</p>\n\n<blockquote>\n  <p>\"Used only once\" warnings can be generated when autodie or Fatal is\n  used with package filehandles (eg, FILE ). Scalar filehandles are\n  strongly recommended instead.</p>\n</blockquote>\n\n<p>My questions are then:</p>\n\n<ul>\n<li>How can I get rid of the error, I am not a perl person!</li>\n</ul>\n\n<p>and of lesser importance:</p>\n\n<ul>\n<li>Is it time to dump this script?</li>\n</ul>\n\n<p>Thank you in advance</p>\n\n<pre><code>#!/usr/bin/perl -w\nuse CGI::Carp qw(fatalsToBrowser);\n\n# @referers allows forms to be located only on servers which are defined \n# in this field.  This prevents other servers from using your SearchWWW script.\n\n@referers = ('http://ourname.edu');\n\n# Check Referring URL\n&amp;check_url;\n\n# Parse Form Contents\n  &amp;parse_form;\n\n# Submit to search engine\n  &amp;search;\n\nsub check_url {\n  if ($ENV{'HTTP_REFERER'}) {\n    foreach $referer (@referers) {\n      if ($ENV{'HTTP_REFERER'} =~ /$referer/i) {\n      $check_referer = '1';\n      last;\n      }\n   }\n}\nelse {\n  $check_referer = '1';\n}\n\nif ($check_referer != 1) {\n   &amp;error('bad_referer');\n  }\n}\n\nsub parse_form {\n    if ($ENV{'REQUEST_METHOD'} eq 'GET') {\n     # Split the name-value pairs\n     @pairs = split(/&amp;/, $ENV{'QUERY_STRING'});\n   }\n   elsif ($ENV{'REQUEST_METHOD'} eq 'POST') {\n     # Get the input\n       read(STDIN, $buffer, $ENV{'CONTENT_LENGTH'});\n     # Split the name-value pairs\n       @pairs = split(/&amp;/, $buffer);\n   }\n   else {\n      &amp;error('request_method');\n   }\n\nforeach $pair (@pairs) {\n    ($name, $value) = split(/=/, $pair);\n    $value =~ tr/+/ /;\n    $value =~ s/%([a-fA-F0-9][a-fA-F0-9])/pack(\"C\", hex($1))/eg;\n    $value =~ s/&lt;!--(.|\\n)*--&gt;//g;\n    $contents{$name} = $value;\n   }\n}\n\nsub search {\n    # Assign the value from search to search_for\n   $search_for = $contents{'search'};\n\n    # Places a plus between two words\n    $search_for =~ tr/ /+/;\n\n    # If no engine entered goto Google by default\n    if ($contents{'location'} eq \"15\"){\n     print \"Location: http://ourname.edu/search?q=$search_for\";\n    }\n\n    if ($contents{'location'} eq \"11\"){\n        print \"Location:http://ourname.edu/search~S9/?searchtype=X&amp; searcharg=$search_for&amp;searchscope=39\\n\\n\"\n     }\n # ....snipped as redundant for question- more locations here\n #resume\n\n exit;\n}\n\n  sub error {\n  # --&gt;the error line, 203,  is below\n    ($error,@error_fields) = @_;\n    print \"Content-type: text/html\\n\\n\";\n    if ($error eq 'bad_referer') {\n        print qq~ \n        &lt;html&gt;\\n &lt;head&gt;\\n  &lt;title&gt;Bad Referrer - Access Denied&lt;/title&gt;&lt;/head&gt;\\n\n    &lt;body&gt;\\n  &lt;center&gt;\\n   &lt;h1&gt;Bad Referrer - Access Denied&lt;/h1&gt;&lt;/center&gt;\\n\n    The form that is trying to use this SearchWWW Program&lt;/a&gt;\\n\n    resides at: $ENV{'HTTP_REFERER'}, which is not allowed to access this cgi script.&lt;p&gt;\\n\n    Sorry!\\n\n    &lt;/body&gt;&lt;/html&gt;\\n ~;\n}\n else {\n    print qq~\n    &lt;html&gt;\\n &lt;head&gt;\\n  &lt;title&gt;Error: Request Method&lt;/title&gt;\\n &lt;/head&gt;\n    &lt;/head&gt;\\n &lt;body&gt;\n    &lt;center&gt;\\n\\n\n    &lt;h1&gt;Error: Request Method&lt;/h1&gt;\\n  &lt;/center&gt;\\n\\n\n    The Request Method of the Form you submitted did not match\\n\n    either GET or POST.  Please check the form, and make sure the\\n\n    method= statement is in upper case and matches GET or POST.\\n\n    &lt;/body&gt;&lt;/html&gt;\\n ~;\n    }\n    exit;\n}\n</code></pre>\n"}, {"tags": ["perl", "perl-module"], "comments": [{"owner": {"reputation": 34726, "user_id": 133939, "user_type": "registered", "accept_rate": 95, "profile_image": "https://i.stack.imgur.com/pN9C5.png?s=128&g=1", "display_name": "Zaid", "link": "https://stackoverflow.com/users/133939/zaid"}, "edited": false, "score": 0, "creation_date": 1481127978, "post_id": 41022311, "comment_id": 69252078, "body": "What happens when you put the <code>use MIME::Base64;</code> after <code>package b64_test;</code> ?"}], "answers": [{"comments": [{"owner": {"reputation": 34726, "user_id": 133939, "user_type": "registered", "accept_rate": 95, "profile_image": "https://i.stack.imgur.com/pN9C5.png?s=128&g=1", "display_name": "Zaid", "link": "https://stackoverflow.com/users/133939/zaid"}, "edited": false, "score": 1, "creation_date": 1481128281, "post_id": 41022554, "comment_id": 69252273, "body": "Well done, but you ought to explain <i>why</i> it works :)"}, {"owner": {"reputation": 49, "user_id": 1107458, "user_type": "registered", "accept_rate": 100, "profile_image": "https://i.stack.imgur.com/JOHHM.jpg?s=128&g=1", "display_name": "bvallerand", "link": "https://stackoverflow.com/users/1107458/bvallerand"}, "edited": false, "score": 0, "creation_date": 1481141568, "post_id": 41022554, "comment_id": 69260257, "body": "Thank you so much. That makes perfect sense. I knew I had to be doing something wrong."}], "tags": [], "owner": {"reputation": 19192, "user_id": 257635, "user_type": "registered", "accept_rate": 89, "profile_image": "https://i.stack.imgur.com/El2tc.jpg?s=128&g=1", "display_name": "Chankey Pathak", "link": "https://stackoverflow.com/users/257635/chankey-pathak"}, "is_accepted": true, "score": 7, "last_activity_date": 1481128683, "last_edit_date": 1481128683, "creation_date": 1481128155, "answer_id": 41022554, "question_id": 41022311, "link": "https://stackoverflow.com/questions/41022311/perl-sub-not-exported-to-a-module/41022554#41022554", "title": "Perl sub not exported to a module", "body": "<p><strong>Solution:</strong> Put <code>package b64_test;</code> at the top of the module.</p>\n\n<p>The package statement declares the compilation unit as being in the given namespace. The scope of the package declaration is from the declaration itself through the end of the enclosing block, eval, or file, whichever comes first. </p>\n\n<p>In your case you have <code>use</code>d module first and defined the package which created another namespace. Therefore the script is unable to find method.</p>\n\n<hr>\n\n<p><strong>Module:</strong> b64_test.pm</p>\n\n<pre><code>chankeypathak@stackoverflow:~$ cat b64_test.pm\n\npackage b64_test;\nuse strict;\nuse Exporter;\nuse MIME::Base64;\n\nBEGIN {\n    our $VERSION = 1.00;\n    our @ISA = qw(Exporter);\n    our @EXPORT = qw(enc);\n}\n\nsub enc {\n    my $msg = shift;\n    my $encoded = encode_base64($msg);\n    print $encoded . \"\\n\";\n}\n\n1;\n</code></pre>\n\n<p><strong>Test script:</strong> test.pl</p>\n\n<pre><code>chankeypathak@stackoverflow:~$ cat test.pl\n\n#!/usr/bin/env perl    \nuse lib '.';\nuse b64_test;\n\nmy $str = \"Test\";\n\nenc($str);\n</code></pre>\n\n<p><strong>Output:</strong></p>\n\n<pre><code>chankeypathak@stackoverflow:~$ perl test.pl\nVGVzdA==\n</code></pre>\n"}], "owner": {"reputation": 49, "user_id": 1107458, "user_type": "registered", "accept_rate": 100, "profile_image": "https://i.stack.imgur.com/JOHHM.jpg?s=128&g=1", "display_name": "bvallerand", "link": "https://stackoverflow.com/users/1107458/bvallerand"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 1483, "favorite_count": 1, "accepted_answer_id": 41022554, "answer_count": 1, "score": 3, "last_activity_date": 1481128683, "creation_date": 1481127446, "question_id": 41022311, "link": "https://stackoverflow.com/questions/41022311/perl-sub-not-exported-to-a-module", "title": "Perl sub not exported to a module", "body": "<p>I have a perl module that I wrote that uses the encode_base64 function from MIME::Base64. For some reason, encode_base64 is not being exported into the namespace of my module.</p>\n\n<p>I am probably missing something but I hope someone can explain what it is.</p>\n\n<p>Here is my module:</p>\n\n<pre><code>use strict;\nuse Exporter;\nuse MIME::Base64;\n\npackage b64_test;\n\nBEGIN {\n    our $VERSION = 1.00;\n    our @ISA = qw(Exporter);\n    our @EXPORT = qw(enc);\n}\n\nsub enc {\n    my $msg = shift;\n    my $encoded = encode_base64($msg);\n    print $encoded . \"\\n\";\n}\n\n1;\n</code></pre>\n\n<p>I am using that module in my test script here:</p>\n\n<pre><code>#!/usr/bin/env perl\n\nuse lib '..';\nuse b64_test;\n\nmy $str = \"Test\";\n\nenc($str);\n</code></pre>\n\n<p>When I call the test script I get <code>Undefined subroutine &amp;b64_test::encode_base64 called at b64_test.pm line 18.</code></p>\n\n<p>To make sure there wasn't something wrong with my machine I made another test script that uses MIME::Base64 and this one works fine:</p>\n\n<pre><code>#!/usr/bin/env perl\n\nuse MIME::Base64;\n\nmy $encoded = encode_base64(\"TEST\");\nprint $encoded . \"\\n\";\n</code></pre>\n\n<p>This leads me to believe that it has something to do with how module subs are exported into other modules but I don't know. Can anyone shed some light on this?</p>\n"}, {"tags": ["regex", "perl", "ubuntu"], "comments": [{"owner": {"reputation": 32176, "user_id": 2173773, "user_type": "registered", "accept_rate": 86, "profile_image": "https://i.stack.imgur.com/M8yh6.jpg?s=128&g=1", "display_name": "H&#229;kon H&#230;gland", "link": "https://stackoverflow.com/users/2173773/h%c3%a5kon-h%c3%a6gland"}, "edited": false, "score": 0, "creation_date": 1481121092, "post_id": 41019983, "comment_id": 69247237, "body": "<code>@array</code> seems to be empty?"}, {"owner": {"reputation": 19585, "user_id": 3115685, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/206073fe8f46ef1f9261d75c80c19c6f?s=128&d=identicon&r=PG&f=1", "display_name": "arco444", "link": "https://stackoverflow.com/users/3115685/arco444"}, "edited": false, "score": 0, "creation_date": 1481121222, "post_id": 41019983, "comment_id": 69247324, "body": "It&#39;s really not clear from the code you&#39;ve posted what you&#39;re trying to do. You at the least have an empty array you&#39;re trying to iterate whilst overwriting each element into <code>$regex</code> which you already defined"}, {"owner": {"reputation": 2415, "user_id": 4251338, "user_type": "registered", "accept_rate": 90, "profile_image": "https://i.stack.imgur.com/UNbCO.png?s=128&g=1", "display_name": "ssr1012", "link": "https://stackoverflow.com/users/4251338/ssr1012"}, "edited": false, "score": 0, "creation_date": 1481121302, "post_id": 41019983, "comment_id": 69247378, "body": "<code>$sys</code> is also nothing doing but opened"}, {"owner": {"reputation": 2415, "user_id": 4251338, "user_type": "registered", "accept_rate": 90, "profile_image": "https://i.stack.imgur.com/UNbCO.png?s=128&g=1", "display_name": "ssr1012", "link": "https://stackoverflow.com/users/4251338/ssr1012"}, "edited": false, "score": 0, "creation_date": 1481121454, "post_id": 41019983, "comment_id": 69247509, "body": "<code>@array = $Keyword_or;</code> you could not do this."}, {"owner": {"reputation": 2415, "user_id": 4251338, "user_type": "registered", "accept_rate": 90, "profile_image": "https://i.stack.imgur.com/UNbCO.png?s=128&g=1", "display_name": "ssr1012", "link": "https://stackoverflow.com/users/4251338/ssr1012"}, "edited": false, "score": 0, "creation_date": 1481121577, "post_id": 41019983, "comment_id": 69247600, "body": "You want to <code>grep log file line</code> to be matched with <code>sys log file line by line</code> and want to be print the <code>matched line</code> in the <code>keyword.txt</code>. Is it write?"}, {"owner": {"reputation": 8273, "user_id": 1334695, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/431ae6e9f7610b9d6a6a6cdebd0244d5?s=128&d=identicon&r=PG", "display_name": "stevieb", "link": "https://stackoverflow.com/users/1334695/stevieb"}, "edited": false, "score": 0, "creation_date": 1481122686, "post_id": 41019983, "comment_id": 69248349, "body": "Cross-posted at <a href=\"http://perlmonks.org/?node_id=1177387\" rel=\"nofollow noreferrer\">Perlmonks</a>"}], "answers": [{"comments": [{"owner": {"reputation": 3432, "user_id": 604642, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/48daad611ba387f8473b0c1e5792aa3f?s=128&d=identicon&r=PG", "display_name": "shawnhcorey", "link": "https://stackoverflow.com/users/604642/shawnhcorey"}, "edited": false, "score": 0, "creation_date": 1481123215, "post_id": 41020138, "comment_id": 69248677, "body": "There is no need to capture the regex. <code>$regex = qr&#47;\\b(?:$regex)\\b&#47;;</code>"}], "tags": [], "owner": {"reputation": 51521, "user_id": 2566198, "user_type": "registered", "accept_rate": 67, "profile_image": "https://i.stack.imgur.com/Y34ZA.jpg?s=128&g=1", "display_name": "Sobrique", "link": "https://stackoverflow.com/users/2566198/sobrique"}, "is_accepted": false, "score": 3, "last_activity_date": 1481122392, "last_edit_date": 1481122392, "creation_date": 1481121221, "answer_id": 41020138, "question_id": 41019983, "link": "https://stackoverflow.com/questions/41019983/script-not-outputting-results-to-text-file/41020138#41020138", "title": "Script not outputting results to text file", "body": "<p>There's a few possible problems. </p>\n\n<ul>\n<li>You <code>close $fh;</code> within the loop, which means you'll only ever print one result.</li>\n<li>You don't actually read anything into <code>@array</code> at any point, so it's empty.</li>\n<li><code>foreach $regex ( @array ) {</code> probably isn't doing what you think. It's clobbering <code>$regex</code> and assigning it to each value of <code>@array</code> in turn - it's not doing a regex match.  (maybe you want to <code>grep</code>?)</li>\n</ul>\n\n<p>Perhaps you meant something like:</p>\n\n<pre><code>#!/usr/bin/env perl\nuse strict;\nuse warnings;\n\nopen( my $keyword, '&lt;', \"keyword.txt\" )\n  or die \"Couldn't open file file.txt, $!\";\nopen( my $sys, '&lt;', \"syslog\" ) or die \"Couldn't open file file.txt, $!\";\nopen( my $output, '&gt;', 'output.txt' );\n\nmy $regex = join( '|', map { quotemeta s/[\\r\\n]+//r } &lt;$keyword&gt; );\n   $regex = qr/\\b($regex)\\b/;\n\nselect $output;    #set standard output to this file\nwhile (&lt;$sys&gt;) {\n   print if m/$regex/;\n}\n\nclose($keyword);\nclose($sys);\nclose($output);\n</code></pre>\n\n<p>Note - the <code>r</code> flag to regex is a feature of perl 5.14. That's still pretty old, but there's older versions of perl around. You can workaround it if you need to by:</p>\n\n<pre><code>chomp ( my @terms = &lt;$keyword&gt; );\nmy $regex = join( '|', map { quotemeta } @terms);\n</code></pre>\n"}], "owner": {"reputation": 1, "user_id": 4673347, "user_type": "registered", "accept_rate": 0, "profile_image": "https://www.gravatar.com/avatar/9ead300778ebfadb7c9a08432a37b18b?s=128&d=identicon&r=PG&f=1", "display_name": "shingster", "link": "https://stackoverflow.com/users/4673347/shingster"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 84, "favorite_count": 0, "answer_count": 1, "score": -2, "last_activity_date": 1481143870, "creation_date": 1481120856, "last_edit_date": 1592644375, "question_id": 41019983, "link": "https://stackoverflow.com/questions/41019983/script-not-outputting-results-to-text-file", "title": "Script not outputting results to text file", "body": "<p>so i recently started using the <code>Ubuntu</code> operating system for various reasons and i become interested in the syslog that exists on the system.\nI created a <code>perl</code> script that would search through the syslog for specific terms that could exist in the log using regex and print it out, but unfortunately while the code runs with no errors nothing actually is printed.</p>\n<p>I can't seem to figure out why its not outputting the results of the search to the output file.</p>\n<p>Heres what i got so far\nAny help would be appreciated</p>\n<pre><code>#!/usr/bin/perl \nuse strict;\nuse warnings;\n\nmy @array=();\nopen(my $keyword,'&lt;', &quot;keyword.txt&quot;) or die &quot;Couldn't open file file.txt, $!&quot;;\n\nopen(my $sys,'&lt;', &quot;syslog&quot;) or die &quot;Couldn't open file file.txt, $!&quot;;\n\n#open($keyword,'&gt;' &quot;keyword.txt&quot;) || die &quot;Couldn't open file file.txt, $!&quot;;\n\n#open my $keyword, '&gt;' , $file_location3 or die &quot;can't open Keywords:&quot; $!;  # gives keywords.txt the file handle keyword and shows \n                                                                       #error message if it fails to open \n#open my $sys, '&gt;' , $file_location2 or die $!; # same as above \n\nopen(my $fh, '&gt;', 'output.txt');\n\n#my $file_location2 = &quot;syslog&quot;;\n\n#my $file_location3 = &quot;keyword.txt&quot;;\n\n\n#arraylisy goes here \n           \n\nmy $Keyword_or = join '|' , map {chomp;qr/\\Q$_\\E/} &lt;$keyword&gt;; # lists all lines in indicated file and joins the list in 1 string\n                                                               #regex here removes new line from each line and uses literal regex\n                                                               #which matches even those words with dots \nmy $regex = qr|\\b($Keyword_or)\\b|; # this regex will match \n                                   #all the keywords stored in keywords txt file\n#@array = $Keyword_or;\n\nforeach $regex(@array)\n{\n\n    #while (/regex/g) \n    #{ \n      #print $NEW &quot;$.: $1&quot;;\n      print $fh $regex;\n\n     #} \n     #return $keyword;\n     #return $sys; \n     #return $NEW; \n     #print $fh $NEW;\n     close $fh;\n\n}\n</code></pre>\n<hr />\n<h3>Update</h3>\n<p>Tidied and with the commented-out lines removed, that Perl code looks like this. Hugely more readable but clearly wrong</p>\n<pre><code>use strict;\nuse warnings;\n\nmy @array = ();\n\nopen( my $keyword, '&lt;', &quot;keyword.txt&quot; ) or die &quot;Couldn't open file file.txt, $!&quot;;\nopen( my $sys,     '&lt;', &quot;syslog&quot; )      or die &quot;Couldn't open file file.txt, $!&quot;;\nopen( my $fh,      '&gt;', 'output.txt' );\n\nmy $Keyword_or = join '|', map { chomp; qr/\\Q$_\\E/ } &lt;$keyword&gt;;\n\nmy $regex = qr|\\b($Keyword_or)\\b|;\n\nforeach $regex ( @array ) {\n\n    print $fh $regex;\n\n    close $fh;\n}\n</code></pre>\n"}, {"tags": ["c#", "perl"], "comments": [{"owner": {"reputation": 2415, "user_id": 4251338, "user_type": "registered", "accept_rate": 90, "profile_image": "https://i.stack.imgur.com/UNbCO.png?s=128&g=1", "display_name": "ssr1012", "link": "https://stackoverflow.com/users/4251338/ssr1012"}, "edited": false, "score": 0, "creation_date": 1481110303, "post_id": 41016256, "comment_id": 69239801, "body": "you need script or way to checking manually?"}, {"owner": {"reputation": 198290, "user_id": 1030675, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/957956ce51706d03f19a4dc85a767bb1?s=128&d=identicon&r=PG", "display_name": "choroba", "link": "https://stackoverflow.com/users/1030675/choroba"}, "edited": false, "score": 1, "creation_date": 1481110303, "post_id": 41016256, "comment_id": 69239802, "body": "Why doesn&#39;t the application work in Active Perl?"}, {"owner": {"reputation": 198290, "user_id": 1030675, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/957956ce51706d03f19a4dc85a767bb1?s=128&d=identicon&r=PG", "display_name": "choroba", "link": "https://stackoverflow.com/users/1030675/choroba"}, "edited": false, "score": 1, "creation_date": 1481110412, "post_id": 41016256, "comment_id": 69239868, "body": "<a href=\"http://stackoverflow.com/q/5256901/1030675\">stackoverflow.com/q/5256901/1030675</a>"}, {"owner": {"reputation": 51521, "user_id": 2566198, "user_type": "registered", "accept_rate": 67, "profile_image": "https://i.stack.imgur.com/Y34ZA.jpg?s=128&g=1", "display_name": "Sobrique", "link": "https://stackoverflow.com/users/2566198/sobrique"}, "edited": false, "score": 1, "creation_date": 1481110741, "post_id": 41016256, "comment_id": 69240069, "body": "I think the better answer would be to check <i>why</i> it doesn&#39;t work. <code>perl</code> is supposed to be portable - my best guess would be missing default libraries, which is best checked with a <code>perl -e &#39;require ....&#39;</code> type option."}, {"owner": {"reputation": 3, "user_id": 6550796, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/73f61006426a82e01ec67cbd9cc6006d?s=128&d=identicon&r=PG&f=1", "display_name": "Ninja", "link": "https://stackoverflow.com/users/6550796/ninja"}, "edited": false, "score": 0, "creation_date": 1481111649, "post_id": 41016256, "comment_id": 69240666, "body": "I need an script to check multiple Perl installations."}, {"owner": {"reputation": 123805, "user_id": 622310, "user_type": "registered", "accept_rate": 33, "profile_image": "https://www.gravatar.com/avatar/8b6d35219e1808520bc238b28161e2e6?s=128&d=identicon&r=PG", "display_name": "Borodin", "link": "https://stackoverflow.com/users/622310/borodin"}, "edited": false, "score": 1, "creation_date": 1481114137, "post_id": 41016256, "comment_id": 69242229, "body": "What have you attempted so far, and why didn&#39;t it work? What happens when your application is run under AcrivePerl?"}], "answers": [{"comments": [{"owner": {"reputation": 3, "user_id": 6550796, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/73f61006426a82e01ec67cbd9cc6006d?s=128&d=identicon&r=PG&f=1", "display_name": "Ninja", "link": "https://stackoverflow.com/users/6550796/ninja"}, "edited": false, "score": 0, "creation_date": 1481172663, "post_id": 41019485, "comment_id": 69271313, "body": "Above command works for Linux environment."}, {"owner": {"reputation": 3, "user_id": 6550796, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/73f61006426a82e01ec67cbd9cc6006d?s=128&d=identicon&r=PG&f=1", "display_name": "Ninja", "link": "https://stackoverflow.com/users/6550796/ninja"}, "edited": false, "score": 0, "creation_date": 1481172702, "post_id": 41019485, "comment_id": 69271328, "body": "perl -e &quot;print $^X&quot; command prints Perl paths on Windows."}, {"owner": {"reputation": 123805, "user_id": 622310, "user_type": "registered", "accept_rate": 33, "profile_image": "https://www.gravatar.com/avatar/8b6d35219e1808520bc238b28161e2e6?s=128&d=identicon&r=PG", "display_name": "Borodin", "link": "https://stackoverflow.com/users/622310/borodin"}, "reply_to_user": {"reputation": 3, "user_id": 6550796, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/73f61006426a82e01ec67cbd9cc6006d?s=128&d=identicon&r=PG&f=1", "display_name": "Ninja", "link": "https://stackoverflow.com/users/6550796/ninja"}, "edited": false, "score": 0, "creation_date": 1481173039, "post_id": 41019485, "comment_id": 69271425, "body": "@Pradeep: Rather than commenting on my answer, it would have helped us to give you better answers if you had answered some of the questions above. We can&#39;t know the details of what you&#39;re trying to do if you won&#39;t tell us. I wrote this answer in exasperation as it seemed like we weren&#39;t going to get any more information. It was a wild guess that may help someone."}], "tags": [], "owner": {"reputation": 123805, "user_id": 622310, "user_type": "registered", "accept_rate": 33, "profile_image": "https://www.gravatar.com/avatar/8b6d35219e1808520bc238b28161e2e6?s=128&d=identicon&r=PG", "display_name": "Borodin", "link": "https://stackoverflow.com/users/622310/borodin"}, "is_accepted": true, "score": 1, "last_activity_date": 1481119557, "creation_date": 1481119557, "answer_id": 41019485, "question_id": 41016256, "link": "https://stackoverflow.com/questions/41016256/check-if-multiple-perl-versions-are-installed-on-machine/41019485#41019485", "title": "Check if multiple perl versions are installed on machine", "body": "<p>This will tell you how many versions of perl are in the PATH directories</p>\n\n<pre><code>perl -E '@p = `which -a perl`; printf \"%d copies of perl in the path\\n\", 0+@p'\n</code></pre>\n\n<h3>output</h3>\n\n<pre><code>2 copies of perl in the path\n</code></pre>\n"}], "owner": {"reputation": 3, "user_id": 6550796, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/73f61006426a82e01ec67cbd9cc6006d?s=128&d=identicon&r=PG&f=1", "display_name": "Ninja", "link": "https://stackoverflow.com/users/6550796/ninja"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 345, "favorite_count": 0, "closed_date": 1481153021, "accepted_answer_id": 41019485, "answer_count": 1, "score": -1, "last_activity_date": 1481119557, "creation_date": 1481110009, "last_edit_date": 1481115664, "question_id": 41016256, "link": "https://stackoverflow.com/questions/41016256/check-if-multiple-perl-versions-are-installed-on-machine", "closed_reason": "Not suitable for this site", "title": "Check if multiple perl versions are installed on machine", "body": "<p>Our applications run with Strawberry Perl, and if any other Perl (Active Perl) version is installed our application won't work. Is there any way to check if multiple Perl (Strawberry, Active) versions are installed on the machine?</p>\n"}, {"tags": ["perl"], "comments": [{"owner": {"reputation": 198290, "user_id": 1030675, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/957956ce51706d03f19a4dc85a767bb1?s=128&d=identicon&r=PG", "display_name": "choroba", "link": "https://stackoverflow.com/users/1030675/choroba"}, "edited": false, "score": 0, "creation_date": 1481102384, "post_id": 41013291, "comment_id": 69234549, "body": "What library are you using? <a href=\"http://p3rl.org/CGI\" rel=\"nofollow noreferrer\">CGI</a>? <a href=\"http://p3rl.org/Tk\" rel=\"nofollow noreferrer\">Tk</a>?"}, {"owner": {"reputation": 198290, "user_id": 1030675, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/957956ce51706d03f19a4dc85a767bb1?s=128&d=identicon&r=PG", "display_name": "choroba", "link": "https://stackoverflow.com/users/1030675/choroba"}, "edited": false, "score": 0, "creation_date": 1481102499, "post_id": 41013291, "comment_id": 69234616, "body": "Also, this seems wrong: <code>-labels =&gt; %labels</code>. The hash is used in list context, so it expands to a list of alternating keys and values."}, {"owner": {"reputation": 141, "user_id": 3297371, "user_type": "registered", "accept_rate": 87, "profile_image": "https://www.gravatar.com/avatar/8970d935086faf17d72e5df204e96edd?s=128&d=identicon&r=PG&f=1", "display_name": "Cris", "link": "https://stackoverflow.com/users/3297371/cris"}, "reply_to_user": {"reputation": 198290, "user_id": 1030675, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/957956ce51706d03f19a4dc85a767bb1?s=128&d=identicon&r=PG", "display_name": "choroba", "link": "https://stackoverflow.com/users/1030675/choroba"}, "edited": false, "score": 0, "creation_date": 1481103721, "post_id": 41013291, "comment_id": 69235437, "body": "Using CGI, and corrected the code"}], "answers": [{"tags": [], "owner": {"reputation": 198290, "user_id": 1030675, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/957956ce51706d03f19a4dc85a767bb1?s=128&d=identicon&r=PG", "display_name": "choroba", "link": "https://stackoverflow.com/users/1030675/choroba"}, "is_accepted": false, "score": 2, "last_activity_date": 1481104810, "creation_date": 1481104810, "answer_id": 41014429, "question_id": 41013291, "link": "https://stackoverflow.com/questions/41013291/display-a-cgi-popup-menu-sorted-by-labels/41014429#41014429", "title": "Display a CGI popup_menu sorted by labels", "body": "<p>Sort the \"values\" by the values from %labels:</p>\n\n<pre><code>-values     =&gt; [ sort { $labels{$a} cmp $labels{$b} } @data ],\n</code></pre>\n"}], "owner": {"reputation": 141, "user_id": 3297371, "user_type": "registered", "accept_rate": 87, "profile_image": "https://www.gravatar.com/avatar/8970d935086faf17d72e5df204e96edd?s=128&d=identicon&r=PG&f=1", "display_name": "Cris", "link": "https://stackoverflow.com/users/3297371/cris"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 217, "favorite_count": 0, "answer_count": 1, "score": -1, "last_activity_date": 1481109272, "creation_date": 1481101617, "last_edit_date": 1481109272, "question_id": 41013291, "link": "https://stackoverflow.com/questions/41013291/display-a-cgi-popup-menu-sorted-by-labels", "title": "Display a CGI popup_menu sorted by labels", "body": "<p>I want to use the <code>CGI</code> module to display a <a href=\"http://search.cpan.org/~lds/CGI.pm-3.43/CGI.pm#CREATING_A_POPUP_MENU\" rel=\"nofollow noreferrer\"><code>popup_menu</code></a>\n with the values sorted by their labels, which are supplied as a hash.</p>\n\n<p>I have this code</p>\n\n<pre><code>print $list-&gt;popup_menu(\n        -name       =&gt; 'param',\n        -values     =&gt; \\@data,\n        -default    =&gt;['default'],\n        -labels     =&gt; \\%labels,\n        -size       =&gt;10,\n        -multiple   =&gt;0,\n    );\n</code></pre>\n\n<p>Currently, the output has the list of values in the order of the <code>@data</code> array. I want it displayed in alphabetical order of the names in <code>%labels</code>.</p>\n"}, {"tags": ["mysql", "perl"], "comments": [{"owner": {"reputation": 6258, "user_id": 82262, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/8ce15931410b388a52eb2df4a864137f?s=128&d=identicon&r=PG&f=1", "display_name": "Matt Jacob", "link": "https://stackoverflow.com/users/82262/matt-jacob"}, "edited": false, "score": 2, "creation_date": 1481085041, "post_id": 41008744, "comment_id": 69226795, "body": "<code>next if $. == 1;</code> immediately after <code>while (...) {</code>"}, {"owner": {"reputation": 3, "user_id": 7260121, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/a322b513a9333b60737b0b5f9c990552?s=128&d=identicon&r=PG&f=1", "display_name": "Elley", "link": "https://stackoverflow.com/users/7260121/elley"}, "reply_to_user": {"reputation": 6258, "user_id": 82262, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/8ce15931410b388a52eb2df4a864137f?s=128&d=identicon&r=PG&f=1", "display_name": "Matt Jacob", "link": "https://stackoverflow.com/users/82262/matt-jacob"}, "edited": false, "score": 0, "creation_date": 1481086418, "post_id": 41008744, "comment_id": 69227142, "body": "Unfortunately that didn&#39;t work, and I tried putting that in multiple spots. What is that command supposed to do?"}, {"owner": {"reputation": 6258, "user_id": 82262, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/8ce15931410b388a52eb2df4a864137f?s=128&d=identicon&r=PG&f=1", "display_name": "Matt Jacob", "link": "https://stackoverflow.com/users/82262/matt-jacob"}, "edited": false, "score": 2, "creation_date": 1481086490, "post_id": 41008744, "comment_id": 69227164, "body": "It does work, but without a <a href=\"https://stackoverflow.com/help/minimal-reproducible-example\">minimal reproducible example</a>, it&#39;s impossible to help you further."}, {"owner": {"reputation": 335, "user_id": 6665383, "user_type": "registered", "profile_image": "https://lh4.googleusercontent.com/-MVEE-7g_i5c/AAAAAAAAAAI/AAAAAAAADpU/_CP1fJ1LVhU/photo.jpg?sz=128", "display_name": "Nathan Loyer", "link": "https://stackoverflow.com/users/6665383/nathan-loyer"}, "reply_to_user": {"reputation": 6258, "user_id": 82262, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/8ce15931410b388a52eb2df4a864137f?s=128&d=identicon&r=PG&f=1", "display_name": "Matt Jacob", "link": "https://stackoverflow.com/users/82262/matt-jacob"}, "edited": false, "score": 0, "creation_date": 1481099431, "post_id": 41008744, "comment_id": 69232616, "body": "You can read up on perl&#39;s special variables like <code>$.</code> <a href=\"http://perldoc.perl.org/perlvar.html\" rel=\"nofollow noreferrer\">here</a>.  <code>$.</code> contains the line number of your current file handle.  This page will also tell you why you shouldn&#39;t use <code>$1</code>, <code>$2</code>, etc. Search for <code>$&lt;digits&gt;</code> on the page.  I agree with @MattJacob that you need to edit your question to have a usable chunk of code if you want more help."}, {"owner": {"reputation": 123805, "user_id": 622310, "user_type": "registered", "accept_rate": 33, "profile_image": "https://www.gravatar.com/avatar/8b6d35219e1808520bc238b28161e2e6?s=128&d=identicon&r=PG", "display_name": "Borodin", "link": "https://stackoverflow.com/users/622310/borodin"}, "edited": false, "score": 1, "creation_date": 1481110454, "post_id": 41008744, "comment_id": 69239903, "body": "You appear to be trying to insert data into a table called <code>$recipient</code>, but you have declared no such variable; there is only the hash <code>%recipient</code>."}, {"owner": {"reputation": 123805, "user_id": 622310, "user_type": "registered", "accept_rate": 33, "profile_image": "https://www.gravatar.com/avatar/8b6d35219e1808520bc238b28161e2e6?s=128&d=identicon&r=PG", "display_name": "Borodin", "link": "https://stackoverflow.com/users/622310/borodin"}, "edited": false, "score": 0, "creation_date": 1481120507, "post_id": 41008744, "comment_id": 69246781, "body": "Are your column names really called <code>1</code>, <code>2</code> and <code>3</code>? They&#39;re very unusual and non-descriptiive names for data fields."}, {"owner": {"reputation": 123805, "user_id": 622310, "user_type": "registered", "accept_rate": 33, "profile_image": "https://www.gravatar.com/avatar/8b6d35219e1808520bc238b28161e2e6?s=128&d=identicon&r=PG", "display_name": "Borodin", "link": "https://stackoverflow.com/users/622310/borodin"}, "edited": false, "score": 0, "creation_date": 1481120664, "post_id": 41008744, "comment_id": 69246905, "body": "What do you think <code>$1 = $1</code> does? What do you think <code>push @array</code> does? (It will generate a warnings <i>Useless use of push with no values</i>)."}, {"owner": {"reputation": 3, "user_id": 7260121, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/a322b513a9333b60737b0b5f9c990552?s=128&d=identicon&r=PG&f=1", "display_name": "Elley", "link": "https://stackoverflow.com/users/7260121/elley"}, "edited": false, "score": 0, "creation_date": 1481129868, "post_id": 41008744, "comment_id": 69253362, "body": "I just posted the actual code in its entirety. I apologize about the confusion. I tried adding the if($. == 1) line but still am not getting it to work. Any tips would be greatly appreciated!"}, {"owner": {"reputation": 6258, "user_id": 82262, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/8ce15931410b388a52eb2df4a864137f?s=128&d=identicon&r=PG&f=1", "display_name": "Matt Jacob", "link": "https://stackoverflow.com/users/82262/matt-jacob"}, "edited": false, "score": 0, "creation_date": 1481130333, "post_id": 41008744, "comment_id": 69253630, "body": "The entire file is not the same thing as a <a href=\"https://stackoverflow.com/help/minimal-reproducible-example\">minimal reproducible example</a>. Please read the page that I&#39;m linking to (here, once more: <a href=\"https://stackoverflow.com/help/minimal-reproducible-example\">minimal reproducible example</a>) and then <a href=\"https://stackoverflow.com/posts/41008744/edit\">edit</a> your question accordingly."}, {"owner": {"reputation": 6258, "user_id": 82262, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/8ce15931410b388a52eb2df4a864137f?s=128&d=identicon&r=PG&f=1", "display_name": "Matt Jacob", "link": "https://stackoverflow.com/users/82262/matt-jacob"}, "edited": false, "score": 0, "creation_date": 1481130402, "post_id": 41008744, "comment_id": 69253678, "body": "It should be fairly obvious that we can&#39;t reproduce the problem without having access to your input data, right?"}], "answers": [{"tags": [], "owner": {"reputation": 5455, "user_id": 3961170, "user_type": "registered", "accept_rate": 73, "profile_image": "https://i.stack.imgur.com/PtFol.jpg?s=128&g=1", "display_name": "mkHun", "link": "https://stackoverflow.com/users/3961170/mkhun"}, "is_accepted": false, "score": 4, "last_activity_date": 1481089629, "last_edit_date": 1481089629, "creation_date": 1481089221, "answer_id": 41010191, "question_id": 41008744, "link": "https://stackoverflow.com/questions/41008744/loading-text-file-onto-mysql-skip-first-row/41010191#41010191", "title": "Loading text file onto MySQL - skip first row", "body": "<p>@Matt Jacob comment will solve your problem.</p>\n\n<p><code>$.</code> gives the current line number of the file. <a href=\"http://perldoc.perl.org/functions/next.html\" rel=\"nofollow noreferrer\"> Here about next</a></p>\n\n<pre><code>while (&lt;$fh&gt;)\n{\n   if($. == 1)  #@Matt Jacob written in one line\n   {\n      next;\n   }\n\n   # do your stuff\n\n}\n</code></pre>\n\n<blockquote>\n  <blockquote>\n    <p>Always add <code>use warnings;</code> and <code>use strict;</code> in the top of the program.</p>\n    \n    <p>Use three argument for file handle.</p>\n  </blockquote>\n</blockquote>\n\n<p><strong>And then don't use <code>$1 $2 $3</code> as a variable name these will be used into the regex grouping.</strong></p>\n\n<p>Finally as follow will help your problem</p>\n\n<pre><code>open my $fh, \"&lt;\", \"Filename.txt\";\n&lt;$fh&gt;; #Here removing the first line\n\nwhile (my $line = &lt;$fh&gt;)\n{\n   chomp $line;\n   ..\n   do you stuff..\n</code></pre>\n"}, {"tags": [], "owner": {"reputation": 6258, "user_id": 82262, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/8ce15931410b388a52eb2df4a864137f?s=128&d=identicon&r=PG&f=1", "display_name": "Matt Jacob", "link": "https://stackoverflow.com/users/82262/matt-jacob"}, "is_accepted": true, "score": 0, "last_activity_date": 1481135430, "last_edit_date": 1481135430, "creation_date": 1481134979, "answer_id": 41024633, "question_id": 41008744, "link": "https://stackoverflow.com/questions/41008744/loading-text-file-onto-mysql-skip-first-row/41024633#41024633", "title": "Loading text file onto MySQL - skip first row", "body": "<p>Ignoring the database stuff, here's how to skip the first line when reading a file:</p>\n\n<pre><code>use strict;\nuse warnings;\n\nwhile (&lt;DATA&gt;) {\n    next if $. == 1;\n    my ($RID, undef, $GID, $number) = split;\n    print join(', ', $RID, $GID, $number), \"\\n\";\n}\n\n__DATA__\nRecipient ID            Round            Group #            # of transfers\n6507                      1                 2                     4\n5101                      1                 4                     4\n5007                      1                 5                     3\n6535                      2                 6                     4\n6510                      2                 7                     4\n</code></pre>\n\n<p>Output:</p>\n\n<pre><code>6507, 2, 4\n5101, 4, 4\n5007, 5, 3\n6535, 6, 4\n6510, 7, 4\n</code></pre>\n\n<p>Notes:</p>\n\n<ul>\n<li><a href=\"http://perldoc.perl.org/perlvar.html#%24INPUT_LINE_NUMBER\" rel=\"nofollow noreferrer\"><code>$.</code></a> is a special variable that refers to the current line number for the last filehandle accessed.</li>\n<li><a href=\"http://perldoc.perl.org/functions/split.html\" rel=\"nofollow noreferrer\"><code>split</code></a> has a special whitespace mode when the pattern is omitted or a single space character.</li>\n</ul>\n"}], "owner": {"reputation": 3, "user_id": 7260121, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/a322b513a9333b60737b0b5f9c990552?s=128&d=identicon&r=PG&f=1", "display_name": "Elley", "link": "https://stackoverflow.com/users/7260121/elley"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 140, "favorite_count": 0, "accepted_answer_id": 41024633, "answer_count": 2, "score": -2, "last_activity_date": 1481135430, "creation_date": 1481079982, "last_edit_date": 1481134597, "question_id": 41008744, "link": "https://stackoverflow.com/questions/41008744/loading-text-file-onto-mysql-skip-first-row", "title": "Loading text file onto MySQL - skip first row", "body": "<p>I am loading the contents of a text file into a MySQL database. I have correctly loaded the table, but I haven't been able to skip the first line which is simply the table heading.</p>\n\n<p>Here's the code I have written taking into account all of the comments on this thread. I added the line </p>\n\n<pre><code>if($. == 1) { \n</code></pre>\n\n<p>after I opened the file to skip the header of my text file but it still seems to not be working.</p>\n\n<p>Thanks for your patience everyone.</p>\n\n<p>Any suggestions?</p>\n\n<pre><code>#!/usr/bin/perl -w\n\nuse DBI;\nuse strict;\nuse Data::Dumper;\n\nmy $user = shift @ARGV or die $!;\nmy $password = shift @ARGV or die $!;\nmy $database = shift @ARGV or die $!;\nmy $recipient_ewes = shift @ARGV or die $!;\n\n\nmy $dbh = DBI-&gt;connect(\"DBI:mysql:$database:localhost\",\n                   $user,\n                   $password,\n                   {RaiseError =&gt; 1}\n                   );\n\n\n\nopen (FILE, \"rid.txt\") or die $!;\n\nwhile (&lt;FILE&gt;) {\n\n    if($. == 1) {\n        next;\n    }\n\n    my $GID;\n    my $RID;\n    my $number;\n\n    my $line = $_;\n    chomp $line;\n\n    my @array = split(\"\\t\",$line);\n\n    if (scalar(@array)==4){\n        $RID = $array[0];\n        $GID = $array[2];\n        $number = $array[3];\n\n        my $sth = $dbh-&gt; prepare (qq{insert into $recipient_ewes (GID, RID,     numbertransferred) values (\"$GID\", \"$RID\", \"$number\")});\n\n        $sth -&gt; execute ();\n        $sth -&gt; finish ();\n    }\n}\n\n$dbh-&gt;disconnt ();\nexit;\nclose FILE;\n</code></pre>\n\n<p>The input file is:  </p>\n\n<pre><code>Recipient ID            Round            Group #            # of transfers  \n6507                      1                 2                     4  \n5101                      1                 4                     4  \n5007                      1                 5                     3  \n6535                      2                 6                     4  \n6510                      2                 7                     4  \n</code></pre>\n"}, {"tags": ["perl", "scope"], "comments": [{"owner": {"reputation": 517, "user_id": 5293991, "user_type": "registered", "profile_image": "https://lh5.googleusercontent.com/-rm6r_TBDf0M/AAAAAAAAAAI/AAAAAAAAN3c/_0hdeN0P3K8/photo.jpg?sz=128", "display_name": "Jay Kumar R", "link": "https://stackoverflow.com/users/5293991/jay-kumar-r"}, "edited": false, "score": 0, "creation_date": 1481074447, "post_id": 41007824, "comment_id": 69224192, "body": "there was no problem in first, though the variable is re-declared again."}, {"owner": {"reputation": 1401, "user_id": 5079428, "user_type": "registered", "accept_rate": 60, "profile_image": "https://www.gravatar.com/avatar/c07cc177e5bb1e109157faafb49b2956?s=128&d=identicon&r=PG&f=1", "display_name": "Chris", "link": "https://stackoverflow.com/users/5079428/chris"}, "reply_to_user": {"reputation": 517, "user_id": 5293991, "user_type": "registered", "profile_image": "https://lh5.googleusercontent.com/-rm6r_TBDf0M/AAAAAAAAAAI/AAAAAAAAN3c/_0hdeN0P3K8/photo.jpg?sz=128", "display_name": "Jay Kumar R", "link": "https://stackoverflow.com/users/5293991/jay-kumar-r"}, "edited": false, "score": 0, "creation_date": 1481074770, "post_id": 41007824, "comment_id": 69224287, "body": "@JayKumarR Well, it didn&#39;t work. On the next line <code>$fh</code> was not an open file handle to either file."}, {"owner": {"reputation": 320771, "user_id": 589924, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/b2cf53d5a3d25f95c0db4e025aed4153?s=128&d=identicon&r=PG", "display_name": "ikegami", "link": "https://stackoverflow.com/users/589924/ikegami"}, "edited": false, "score": 1, "creation_date": 1481084386, "post_id": 41007824, "comment_id": 69226620, "body": "Always use <code>use strict; use warnings qw( all );</code>!!!!"}], "answers": [{"tags": [], "owner": {"reputation": 87649, "user_id": 17389, "user_type": "registered", "accept_rate": 38, "profile_image": "https://www.gravatar.com/avatar/cd06d1314817ce946ab796af8750b56a?s=128&d=identicon&r=PG", "display_name": "ysth", "link": "https://stackoverflow.com/users/17389/ysth"}, "is_accepted": true, "score": 9, "last_activity_date": 1481123609, "last_edit_date": 1481123609, "creation_date": 1481078468, "answer_id": 41008541, "question_id": 41007824, "link": "https://stackoverflow.com/questions/41007824/fallback-open-file-perl/41008541#41008541", "title": "Fallback Open File Perl", "body": "<p>my declares a variable.  If you use it twice with the same name in the same scope, later mentions of it will be the second one, not the first.  Your code will trigger a <code>\"my\" variable ... masks earlier declaration in the same statement</code> warning (if you enable warnings as you should.) So if the first open succeeds, it sets a <code>$fh</code> variable that isn't accessible later, and the second variable is left in an undocumented, undefined state, because its declaration wasn't actually executed. (See the \"Here be dragons\" warning in <a href=\"http://perldoc.perl.org/perlsyn.html#Statement-Modifiers\" rel=\"nofollow noreferrer\">perldoc perlsyn</a>, and realize that <code>A or B</code> is equivalent to <code>B unless A</code>.)</p>\n\n<p>Your \"working\" code is also broken; while <code>my</code> returns the newly declared variable, which can be then set, the scope of a lexical (where later mentions of it find the variable) doesn't actually begin until the following statement.  So your first <code>$fh</code> is the lexical that will be accessed on later lines, but the second is actually a global variable (or an error, if you are using strict as you should).</p>\n\n<p>Correct code is:</p>\n\n<pre><code>my $fh;\nopen $fh, ... or open $fh, ...;\n</code></pre>\n"}, {"tags": [], "owner": {"reputation": 126333, "user_id": 14660, "user_type": "registered", "accept_rate": 62, "profile_image": "https://www.gravatar.com/avatar/e55e0ec3c00f834d78fbdddeaa36e308?s=128&d=identicon&r=PG", "display_name": "Schwern", "link": "https://stackoverflow.com/users/14660/schwern"}, "is_accepted": false, "score": 4, "last_activity_date": 1481093012, "creation_date": 1481093012, "answer_id": 41011020, "question_id": 41007824, "link": "https://stackoverflow.com/questions/41007824/fallback-open-file-perl/41011020#41011020", "title": "Fallback Open File Perl", "body": "<p>Others have said why the existing code doesn't work, but have also offered versions that have race conditions: the state of the file might change between when you checked it and when you opened it. It's fairly benign in your case, but it can produce subtle bugs and security holes. In general, you check if you can open a file by trying to open a file.</p>\n\n<p>Here's a more general way which scales to multiple files, lets you know which file opened, and contains no race conditions.</p>\n\n<pre><code>use Carp;\n\nsub try_open {\n    my @files = @_;\n\n    for my $file (@files) {\n        if( open my $fh, \"&lt;\", $file ) {\n            return { fh =&gt; $fh, file =&gt; $file };\n        }\n    }\n\n    croak \"Can't open any of @files\";\n}\n</code></pre>\n"}], "owner": {"reputation": 1401, "user_id": 5079428, "user_type": "registered", "accept_rate": 60, "profile_image": "https://www.gravatar.com/avatar/c07cc177e5bb1e109157faafb49b2956?s=128&d=identicon&r=PG&f=1", "display_name": "Chris", "link": "https://stackoverflow.com/users/5079428/chris"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 214, "favorite_count": 0, "accepted_answer_id": 41008541, "answer_count": 2, "score": 7, "last_activity_date": 1481123609, "creation_date": 1481073487, "last_edit_date": 1481075244, "question_id": 41007824, "link": "https://stackoverflow.com/questions/41007824/fallback-open-file-perl", "title": "Fallback Open File Perl", "body": "<p>I was trying to write a program where perl opens one file, but falls back to another if that file does not exist or cannot be opened for some reason. The relevant line was:</p>\n\n<p><code>open(my $fh,\"&lt;\",\"/path/to/file\") or open (my $fh,\"&lt;\",\"/path/to/alternate/file\") or die</code></p>\n\n<p>Eventually, I figured out that:</p>\n\n<p><code>open(my $fh,\"&lt;\",\"/path/to/file\") or open ($fh,\"&lt;\",\"/path/to/alternate/file\") or die</code></p>\n\n<p>worked. What is the difference between these two statements, why doesn't the first work, and is the second the right way to do this, or are there still some problems with it?</p>\n\n<p>Edit: If it matters, I'm using <code>perl 5.12</code>, and the first fails in the case that <code>\"/path/to/file\"</code> exists. My inclination is that the second <code>open</code> should not run if the first open is successful, so why is <code>$fh</code> being overwritten by the second?</p>\n"}, {"tags": ["bash", "perl", "awk", "sed", "gawk"], "comments": [{"owner": {"reputation": 79972, "user_id": 298607, "user_type": "registered", "accept_rate": 88, "profile_image": "https://i.stack.imgur.com/DVW9g.jpg?s=128&g=1", "display_name": "dawg", "link": "https://stackoverflow.com/users/298607/dawg"}, "edited": false, "score": 0, "creation_date": 1481062911, "post_id": 41005935, "comment_id": 69220599, "body": "You want to remove the numbers such as <code>80</code> as well?"}, {"owner": {"reputation": 61, "user_id": 1640927, "user_type": "registered", "accept_rate": 71, "profile_image": "https://www.gravatar.com/avatar/0a876886e25ee9fc4aa1465fa069af5b?s=128&d=identicon&r=PG", "display_name": "Shravan Kumar", "link": "https://stackoverflow.com/users/1640927/shravan-kumar"}, "reply_to_user": {"reputation": 79972, "user_id": 298607, "user_type": "registered", "accept_rate": 88, "profile_image": "https://i.stack.imgur.com/DVW9g.jpg?s=128&g=1", "display_name": "dawg", "link": "https://stackoverflow.com/users/298607/dawg"}, "edited": false, "score": 1, "creation_date": 1481063067, "post_id": 41005935, "comment_id": 69220669, "body": "yes I want to see only urls and no portnumbers."}, {"owner": {"reputation": 61, "user_id": 1640927, "user_type": "registered", "accept_rate": 71, "profile_image": "https://www.gravatar.com/avatar/0a876886e25ee9fc4aa1465fa069af5b?s=128&d=identicon&r=PG", "display_name": "Shravan Kumar", "link": "https://stackoverflow.com/users/1640927/shravan-kumar"}, "reply_to_user": {"reputation": 79972, "user_id": 298607, "user_type": "registered", "accept_rate": 88, "profile_image": "https://i.stack.imgur.com/DVW9g.jpg?s=128&g=1", "display_name": "dawg", "link": "https://stackoverflow.com/users/298607/dawg"}, "edited": false, "score": 0, "creation_date": 1481131926, "post_id": 41005935, "comment_id": 69254635, "body": "sed -i &#39;s/[[:space:]][^,]*,/,/g&#39; this solution works for me, but if my file has the line like A B c,dev.visualwebsiteoptimizer.com       80,versioncheck-bg.addons.mozilla.org   80, I want remove only numbers but this solution is generic for all values followed by space and till , I tried with &#39;s/[[:space:]][^[[0-9]*],]*,/,/g&#39; , i am not sure, what is wrong here."}], "answers": [{"comments": [{"owner": {"reputation": 61, "user_id": 1640927, "user_type": "registered", "accept_rate": 71, "profile_image": "https://www.gravatar.com/avatar/0a876886e25ee9fc4aa1465fa069af5b?s=128&d=identicon&r=PG", "display_name": "Shravan Kumar", "link": "https://stackoverflow.com/users/1640927/shravan-kumar"}, "edited": false, "score": 0, "creation_date": 1481062955, "post_id": 41005972, "comment_id": 69220616, "body": "Thanks for your time, Neither this helped me. I am looking to remove whitespaces and whitespaces followed by numbers"}, {"owner": {"reputation": 320771, "user_id": 589924, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/b2cf53d5a3d25f95c0db4e025aed4153?s=128&d=identicon&r=PG", "display_name": "ikegami", "link": "https://stackoverflow.com/users/589924/ikegami"}, "reply_to_user": {"reputation": 61, "user_id": 1640927, "user_type": "registered", "accept_rate": 71, "profile_image": "https://www.gravatar.com/avatar/0a876886e25ee9fc4aa1465fa069af5b?s=128&d=identicon&r=PG", "display_name": "Shravan Kumar", "link": "https://stackoverflow.com/users/1640927/shravan-kumar"}, "edited": false, "score": 0, "creation_date": 1481063182, "post_id": 41005972, "comment_id": 69220712, "body": "Re &quot;<i>Neither this helped me</i>&quot;, Fixed. The <code>*</code> got left out accidentally. // Re &quot;<i>I am looking to remove whitespaces and whitespaces followed by numbers</i>&quot;, If the Question is wrong, please fix it."}, {"owner": {"reputation": 61, "user_id": 1640927, "user_type": "registered", "accept_rate": 71, "profile_image": "https://www.gravatar.com/avatar/0a876886e25ee9fc4aa1465fa069af5b?s=128&d=identicon&r=PG", "display_name": "Shravan Kumar", "link": "https://stackoverflow.com/users/1640927/shravan-kumar"}, "edited": false, "score": 0, "creation_date": 1481063450, "post_id": 41005972, "comment_id": 69220817, "body": "Thanks a lot .. can you please explain me, it would be more helpful for my understanding."}, {"owner": {"reputation": 320771, "user_id": 589924, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/b2cf53d5a3d25f95c0db4e025aed4153?s=128&d=identicon&r=PG", "display_name": "ikegami", "link": "https://stackoverflow.com/users/589924/ikegami"}, "reply_to_user": {"reputation": 61, "user_id": 1640927, "user_type": "registered", "accept_rate": 71, "profile_image": "https://www.gravatar.com/avatar/0a876886e25ee9fc4aa1465fa069af5b?s=128&d=identicon&r=PG", "display_name": "Shravan Kumar", "link": "https://stackoverflow.com/users/1640927/shravan-kumar"}, "edited": false, "score": 0, "creation_date": 1481063565, "post_id": 41005972, "comment_id": 69220857, "body": "huh? I already explained each change! I removed <code>^</code> because you don&#39;t want to match the beginning of the line, and I changed <code>[[:space:]]*</code> to <code>[[:space:]][^,]*</code> because you want to match the junk between the spaces and the comma."}, {"owner": {"reputation": 61, "user_id": 1640927, "user_type": "registered", "accept_rate": 71, "profile_image": "https://www.gravatar.com/avatar/0a876886e25ee9fc4aa1465fa069af5b?s=128&d=identicon&r=PG", "display_name": "Shravan Kumar", "link": "https://stackoverflow.com/users/1640927/shravan-kumar"}, "edited": false, "score": 0, "creation_date": 1481086570, "post_id": 41005972, "comment_id": 69227188, "body": "ikegami, the solution works like charm for me, i have got in other problem, this solution removes every junk followed by space and end with comma, can we limit this to do , ifand if we have an integer alone. I tried with sed -i &#39;s/[[:space:]][^0-9,]*,/,/g&#39; sample.file and its not working as expected, can you please let me know, what i missed, when i try this with vim editor and work :%s/[[:space:]][^0-9,]*,/,/g this works."}, {"owner": {"reputation": 320771, "user_id": 589924, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/b2cf53d5a3d25f95c0db4e025aed4153?s=128&d=identicon&r=PG", "display_name": "ikegami", "link": "https://stackoverflow.com/users/589924/ikegami"}, "reply_to_user": {"reputation": 61, "user_id": 1640927, "user_type": "registered", "accept_rate": 71, "profile_image": "https://www.gravatar.com/avatar/0a876886e25ee9fc4aa1465fa069af5b?s=128&d=identicon&r=PG", "display_name": "Shravan Kumar", "link": "https://stackoverflow.com/users/1640927/shravan-kumar"}, "edited": false, "score": 1, "creation_date": 1481168328, "post_id": 41005972, "comment_id": 69270206, "body": "There&#39;s no way that worked in vim, since <code>[^0-9,]</code> means &quot;a char other than a digit or comma&quot;. /// If your question needs updating, do so. Don&#39;t post edits in the comments. Or if you&#39;re asking a new question, similarly don&#39;t post it as a comment."}], "tags": [], "owner": {"reputation": 320771, "user_id": 589924, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/b2cf53d5a3d25f95c0db4e025aed4153?s=128&d=identicon&r=PG", "display_name": "ikegami", "link": "https://stackoverflow.com/users/589924/ikegami"}, "is_accepted": true, "score": 3, "last_activity_date": 1481063018, "last_edit_date": 1481063018, "creation_date": 1481062629, "answer_id": 41005972, "question_id": 41005935, "link": "https://stackoverflow.com/questions/41005935/remove-white-spaces-followed-by-any-till-comma-using-sed-or-awk/41005972#41005972", "title": "remove white spaces followed by any till comma using sed or awk", "body": "<p>First of all, <code>^</code> means beginning of line. Remove it.</p>\n\n<p>Secondly, you appear to want to remove all non-commas between each space and the following comma, but you didn't include that in the pattern.</p>\n\n<pre><code>sed -i 's/[[:space:]][^,]*,/,/g' sample.file\n</code></pre>\n"}, {"comments": [{"owner": {"reputation": 3304, "user_id": 2743307, "user_type": "registered", "accept_rate": 80, "profile_image": "https://www.gravatar.com/avatar/7f8ee6ac582d2582fb14c295507eddba?s=128&d=identicon&r=PG&f=1", "display_name": "bibi", "link": "https://stackoverflow.com/users/2743307/bibi"}, "edited": false, "score": 0, "creation_date": 1481262003, "post_id": 41053466, "comment_id": 69314753, "body": "please explain more in detail for non awk-masters"}], "tags": [], "owner": {"reputation": 1371, "user_id": 5056806, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/bfa01ad122fc89b571651ffbbc34ce37?s=128&d=identicon&r=PG&f=1", "display_name": "Claes Wikner", "link": "https://stackoverflow.com/users/5056806/claes-wikner"}, "is_accepted": false, "score": 1, "last_activity_date": 1481410800, "last_edit_date": 1481410800, "creation_date": 1481260019, "answer_id": 41053466, "question_id": 41005935, "link": "https://stackoverflow.com/questions/41005935/remove-white-spaces-followed-by-any-till-comma-using-sed-or-awk/41053466#41053466", "title": "remove white spaces followed by any till comma using sed or awk", "body": "<pre><code>awk '{gsub(/[ ]+/,\"\")gsub(/[0,3-8]/,\"\")}1' file\n</code></pre>\n\n<p>The first gsub removes space and the next one takes away unwanted numbers.</p>\n"}, {"tags": [], "owner": {"reputation": 239138, "user_id": 45375, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/39f6e2dc52425b1e08027c01bb880be0?s=128&d=identicon&r=PG", "display_name": "mklement0", "link": "https://stackoverflow.com/users/45375/mklement0"}, "is_accepted": false, "score": 1, "last_activity_date": 1481412235, "creation_date": 1481412235, "answer_id": 41081385, "question_id": 41005935, "link": "https://stackoverflow.com/questions/41005935/remove-white-spaces-followed-by-any-till-comma-using-sed-or-awk/41081385#41081385", "title": "remove white spaces followed by any till comma using sed or awk", "body": "<p>A <code>perl</code> solution:</p>\n\n<pre><code>perl -i -pe 's/\\s+\\d*(?=,)//g' file\n</code></pre>\n\n<p>Perl's startup cost is higher than, say, Sed's or Awk's, but Perl's more powerful regular expression support often makes things easier:</p>\n\n<ul>\n<li><p><code>\\s</code> is a convenient shortcut for matching whitespace (tab, space, newline); similarly, <code>\\d</code> is a shortcut for <code>[0-9]</code>.</p></li>\n<li><p><code>+</code> as the one-or-more-instances duplication symbol is always available, whereas to use it <em>portably</em> in <code>sed</code> you'd have to use the awkward <code>\\{1,\\}</code> construct.</p></li>\n<li><p><code>(?=...)</code> is a look-ahead assertion that allows looking for a subexpression without including it in the match.</p></li>\n</ul>\n"}], "owner": {"reputation": 61, "user_id": 1640927, "user_type": "registered", "accept_rate": 71, "profile_image": "https://www.gravatar.com/avatar/0a876886e25ee9fc4aa1465fa069af5b?s=128&d=identicon&r=PG", "display_name": "Shravan Kumar", "link": "https://stackoverflow.com/users/1640927/shravan-kumar"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 365, "favorite_count": 0, "accepted_answer_id": 41005972, "answer_count": 3, "score": 0, "last_activity_date": 1481412235, "creation_date": 1481062458, "last_edit_date": 1481062860, "question_id": 41005935, "link": "https://stackoverflow.com/questions/41005935/remove-white-spaces-followed-by-any-till-comma-using-sed-or-awk", "title": "remove white spaces followed by any till comma using sed or awk", "body": "<p>My file has the below comma separated values</p>\n\n<pre><code>dev.visualwebsiteoptimizer.com       80,versioncheck-bg.addons.mozilla.org   80,     ,frontweb-stg.shoprunner.com    443,p.typekit.net       443,sra.s-9.us  443,www.shoprunner.com     443,cdn.optimizely.com  443,logx.optimizely.com 443,sra.s-9.us  443,ocsp.digicert.com   443,code.jquery.com     443,ocsp2.globalsign.com        443,dev.visualwebsiteoptimizer.com 443,versioncheck-bg.addons.mozilla.org  443,    ,\n</code></pre>\n\n<p>few places i see empty space followed by comma</p>\n\n<p>I would like to have the below output:</p>\n\n<pre><code>dev.visualwebsiteoptimizer.com,versioncheck-bg.addons.mozilla.org,,frontweb-stg.shoprunner.com,p.typekit.net,sra.s-9.us,www.shoprunner.com,cdn.optimizely.com,logx.optimizely.com,sra.s-9.us,ocsp.digicert.com,code.jquery.com,ocsp2.globalsign.com,dev.visualwebsiteoptimizer.com,versioncheck-bg.addons.mozilla.org,,\n</code></pre>\n\n<p>Ideally I want remove whitespaces till i see comma,</p>\n\n<p>I tried with </p>\n\n<pre><code>sed -i 's/^[[:space:]]*,/,/g' sample.file\n</code></pre>\n\n<p>but nothing favoured.</p>\n\n<p>Any help would be appreciated</p>\n"}, {"tags": ["html", "regex", "perl", "httprequest"], "comments": [{"owner": {"reputation": 4323, "user_id": 2057091, "user_type": "registered", "accept_rate": 89, "profile_image": "https://i.stack.imgur.com/7kWv6.png?s=128&g=1", "display_name": "Aserre", "link": "https://stackoverflow.com/users/2057091/aserre"}, "edited": false, "score": 0, "creation_date": 1481043590, "post_id": 41000783, "comment_id": 69210387, "body": "Do not post your whole code. Post only the relevant parts. As of now, your question is a huge wall of text and most people will just skip your question."}, {"owner": {"reputation": 23234, "user_id": 4333555, "user_type": "registered", "accept_rate": 100, "profile_image": "https://i.stack.imgur.com/i9zgM.jpg?s=128&g=1", "display_name": "chris85", "link": "https://stackoverflow.com/users/4333555/chris85"}, "edited": false, "score": 1, "creation_date": 1481043656, "post_id": 41000783, "comment_id": 69210430, "body": "See <a href=\"http://stackoverflow.com/help/mcve\">stackoverflow.com/help/mcve</a>."}, {"owner": {"reputation": 9, "user_id": 4901120, "user_type": "registered", "accept_rate": 50, "profile_image": "https://www.gravatar.com/avatar/75597b1338f8ff00425b3c33c997c6a4?s=128&d=identicon&r=PG&f=1", "display_name": "Domenike", "link": "https://stackoverflow.com/users/4901120/domenike"}, "edited": false, "score": 0, "creation_date": 1481043831, "post_id": 41000783, "comment_id": 69210545, "body": "Thanks chris85. I thought I&#39;d put all the information together so there was no doubt."}, {"owner": {"reputation": 4644, "user_id": 1431720, "user_type": "registered", "accept_rate": 89, "profile_image": "https://www.gravatar.com/avatar/f5a1388d4d3b2bf03b11bb5658c68c29?s=128&d=identicon&r=PG", "display_name": "Robert", "link": "https://stackoverflow.com/users/1431720/robert"}, "edited": false, "score": 0, "creation_date": 1481044329, "post_id": 41000783, "comment_id": 69210882, "body": "In your regular expressions, don&#39;t use quotes unless the quotes are in the input as well. Change <code>s&#47;&quot;...&quot;&#47;&quot;&quot;&#47;</code> to <code>s&#47;...&#47;&#47;</code>. You may also need to add the <code>m</code> modifier to match multiple lines (i.e., change <code>s&#47;...&#47;&#47;g</code> to <code>s&#47;...&#47;&#47;mg</code>."}, {"owner": {"reputation": 4644, "user_id": 1431720, "user_type": "registered", "accept_rate": 89, "profile_image": "https://www.gravatar.com/avatar/f5a1388d4d3b2bf03b11bb5658c68c29?s=128&d=identicon&r=PG", "display_name": "Robert", "link": "https://stackoverflow.com/users/1431720/robert"}, "edited": false, "score": 0, "creation_date": 1481044396, "post_id": 41000783, "comment_id": 69210931, "body": "That said, for anything more complicated you should probably use an HTML parser. Using regular expressions on XML / HTML is just horrible."}, {"owner": {"reputation": 23234, "user_id": 4333555, "user_type": "registered", "accept_rate": 100, "profile_image": "https://i.stack.imgur.com/i9zgM.jpg?s=128&g=1", "display_name": "chris85", "link": "https://stackoverflow.com/users/4333555/chris85"}, "reply_to_user": {"reputation": 4644, "user_id": 1431720, "user_type": "registered", "accept_rate": 89, "profile_image": "https://www.gravatar.com/avatar/f5a1388d4d3b2bf03b11bb5658c68c29?s=128&d=identicon&r=PG", "display_name": "Robert", "link": "https://stackoverflow.com/users/1431720/robert"}, "edited": false, "score": 0, "creation_date": 1481044455, "post_id": 41000783, "comment_id": 69210970, "body": "@Robert The regexs aren&#39;t using <code>^</code> or <code>$</code> so the <code>m</code> will have no affect. <code>That is, change &quot;^&quot; and &quot;$&quot; from matching the start of the string&#39;s first line and the end of its last line to matching the start and end of each line within the string.</code>-<a href=\"http://perldoc.perl.org/perlre.html#Modifiers\" rel=\"nofollow noreferrer\">perldoc.perl.org/perlre.html#Modifiers</a>"}, {"owner": {"reputation": 4644, "user_id": 1431720, "user_type": "registered", "accept_rate": 89, "profile_image": "https://www.gravatar.com/avatar/f5a1388d4d3b2bf03b11bb5658c68c29?s=128&d=identicon&r=PG", "display_name": "Robert", "link": "https://stackoverflow.com/users/1431720/robert"}, "reply_to_user": {"reputation": 23234, "user_id": 4333555, "user_type": "registered", "accept_rate": 100, "profile_image": "https://i.stack.imgur.com/i9zgM.jpg?s=128&g=1", "display_name": "chris85", "link": "https://stackoverflow.com/users/4333555/chris85"}, "edited": false, "score": 0, "creation_date": 1481045103, "post_id": 41000783, "comment_id": 69211420, "body": "Thanks, @chris85, I always mix these up"}], "answers": [{"comments": [{"owner": {"reputation": 4644, "user_id": 1431720, "user_type": "registered", "accept_rate": 89, "profile_image": "https://www.gravatar.com/avatar/f5a1388d4d3b2bf03b11bb5658c68c29?s=128&d=identicon&r=PG", "display_name": "Robert", "link": "https://stackoverflow.com/users/1431720/robert"}, "edited": false, "score": 0, "creation_date": 1481044699, "post_id": 41001118, "comment_id": 69211158, "body": "Nice solution. I wonder however if the OP understands how you build the <code>$condition</code>."}, {"owner": {"reputation": 21782, "user_id": 176646, "user_type": "registered", "accept_rate": 88, "profile_image": "https://i.stack.imgur.com/HsQyV.png?s=128&g=1", "display_name": "ThisSuitIsBlackNot", "link": "https://stackoverflow.com/users/176646/thissuitisblacknot"}, "edited": false, "score": 0, "creation_date": 1481045068, "post_id": 41001118, "comment_id": 69211404, "body": "I&#39;m pretty sure XML::LibXML will choke on what the OP posted...line 5 contains a closing <code>&gt;</code> but there&#39;s no corresponding <code>&lt;</code> anywhere, they use self-closing tags like <code>&lt;img&gt;</code> without a trailing slash, etc."}, {"owner": {"reputation": 198290, "user_id": 1030675, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/957956ce51706d03f19a4dc85a767bb1?s=128&d=identicon&r=PG", "display_name": "choroba", "link": "https://stackoverflow.com/users/1030675/choroba"}, "reply_to_user": {"reputation": 21782, "user_id": 176646, "user_type": "registered", "accept_rate": 88, "profile_image": "https://i.stack.imgur.com/HsQyV.png?s=128&g=1", "display_name": "ThisSuitIsBlackNot", "link": "https://stackoverflow.com/users/176646/thissuitisblacknot"}, "edited": false, "score": 0, "creation_date": 1481050909, "post_id": 41001118, "comment_id": 69214480, "body": "@ThisSuitIsBlackNot: I only removed the <code>&lt;&#47;nav&gt;</code> from the string. Oops, it was probably an older version of the sample, it works as is now."}, {"owner": {"reputation": 9, "user_id": 4901120, "user_type": "registered", "accept_rate": 50, "profile_image": "https://www.gravatar.com/avatar/75597b1338f8ff00425b3c33c997c6a4?s=128&d=identicon&r=PG&f=1", "display_name": "Domenike", "link": "https://stackoverflow.com/users/4901120/domenike"}, "edited": false, "score": 0, "creation_date": 1493852486, "post_id": 41001118, "comment_id": 74583994, "body": "@choroba how add the code lines to work:  open( INDEX, &quot;&lt; index.html&quot; );  my $html = &lt;INDEX&gt;;   my $dom = &#39;XML::LibXML&#39;-&gt;load_html(string =&gt; $html, recover =&gt; 1);  Thanks very much"}, {"owner": {"reputation": 198290, "user_id": 1030675, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/957956ce51706d03f19a4dc85a767bb1?s=128&d=identicon&r=PG", "display_name": "choroba", "link": "https://stackoverflow.com/users/1030675/choroba"}, "reply_to_user": {"reputation": 9, "user_id": 4901120, "user_type": "registered", "accept_rate": 50, "profile_image": "https://www.gravatar.com/avatar/75597b1338f8ff00425b3c33c997c6a4?s=128&d=identicon&r=PG&f=1", "display_name": "Domenike", "link": "https://stackoverflow.com/users/4901120/domenike"}, "edited": false, "score": 0, "creation_date": 1493852587, "post_id": 41001118, "comment_id": 74584027, "body": "@Domenike: The diamond operator in scalar context reads just one line from the file handle. Use <code>my $html = do { local $&#47;; &lt;SITE&gt; };</code>"}, {"owner": {"reputation": 9, "user_id": 4901120, "user_type": "registered", "accept_rate": 50, "profile_image": "https://www.gravatar.com/avatar/75597b1338f8ff00425b3c33c997c6a4?s=128&d=identicon&r=PG&f=1", "display_name": "Domenike", "link": "https://stackoverflow.com/users/4901120/domenike"}, "edited": false, "score": 0, "creation_date": 1493864850, "post_id": 41001118, "comment_id": 74586885, "body": "@choroba you solution its work. But have the HTML parse error: HTML parser error : Tag header invalid &lt;header class=&#39;main__header&#39;&gt;                             ^ ..."}, {"owner": {"reputation": 198290, "user_id": 1030675, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/957956ce51706d03f19a4dc85a767bb1?s=128&d=identicon&r=PG", "display_name": "choroba", "link": "https://stackoverflow.com/users/1030675/choroba"}, "reply_to_user": {"reputation": 9, "user_id": 4901120, "user_type": "registered", "accept_rate": 50, "profile_image": "https://www.gravatar.com/avatar/75597b1338f8ff00425b3c33c997c6a4?s=128&d=identicon&r=PG&f=1", "display_name": "Domenike", "link": "https://stackoverflow.com/users/4901120/domenike"}, "edited": false, "score": 0, "creation_date": 1493882617, "post_id": 41001118, "comment_id": 74593601, "body": "@Domenike: Then your input is not valid HTML."}, {"owner": {"reputation": 9, "user_id": 4901120, "user_type": "registered", "accept_rate": 50, "profile_image": "https://www.gravatar.com/avatar/75597b1338f8ff00425b3c33c997c6a4?s=128&d=identicon&r=PG&f=1", "display_name": "Domenike", "link": "https://stackoverflow.com/users/4901120/domenike"}, "edited": false, "score": 0, "creation_date": 1493901837, "post_id": 41001118, "comment_id": 74606718, "body": "@choroba how can fix it problem?"}], "tags": [], "owner": {"reputation": 198290, "user_id": 1030675, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/957956ce51706d03f19a4dc85a767bb1?s=128&d=identicon&r=PG", "display_name": "choroba", "link": "https://stackoverflow.com/users/1030675/choroba"}, "is_accepted": true, "score": 2, "last_activity_date": 1481044452, "creation_date": 1481044452, "answer_id": 41001118, "question_id": 41000783, "link": "https://stackoverflow.com/questions/41000783/how-can-remove-html-a-href-tags-using-perl/41001118#41001118", "title": "How can remove HTML \u201c&lt;a href=\u201d tags using perl", "body": "<p>Use a parser to handle changes in HTML. <a href=\"http://p3rl.org/XML::LibXML\" rel=\"nofollow noreferrer\">XML::LibXML</a> can parse HTML if it's not really ugly:</p>\n\n<pre><code>#!/usr/bin/perl\nuse warnings;\nuse strict;\n\nuse XML::LibXML;\n\nmy $html = ...; # load the HTML file\nmy $dom = 'XML::LibXML'-&gt;load_html(string =&gt; $html, recover =&gt; 1);\n\nmy @delete = qw( Typography Shortcodes Tables FAQ );\nmy $condition = join ' or ', map \"text()='$_'\", @delete;\n\nfor my $anchor ($dom-&gt;findnodes(\"//a[$condition]/..\")) {\n    $anchor-&gt;parentNode-&gt;removeChild($anchor);\n}\nprint $dom;\n</code></pre>\n\n<p>It removes not only the anchors, but their parent <code>&lt;li</code>'s as well.</p>\n"}], "owner": {"reputation": 9, "user_id": 4901120, "user_type": "registered", "accept_rate": 50, "profile_image": "https://www.gravatar.com/avatar/75597b1338f8ff00425b3c33c997c6a4?s=128&d=identicon&r=PG&f=1", "display_name": "Domenike", "link": "https://stackoverflow.com/users/4901120/domenike"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 121, "favorite_count": 0, "accepted_answer_id": 41001118, "answer_count": 1, "score": -3, "last_activity_date": 1481044452, "creation_date": 1481043455, "last_edit_date": 1481043622, "question_id": 41000783, "link": "https://stackoverflow.com/questions/41000783/how-can-remove-html-a-href-tags-using-perl", "title": "How can remove HTML \u201c&lt;a href=\u201d tags using perl", "body": "<p>How can I remove the links of an HTML file?</p>\n\n<p>I want remove the links:</p>\n\n<p><li>Typography</li>\n          <li>Shortcodes</li>\n          <li>Tables</li>\n          <li>FAQ</li></p>\n\n<p>I wan't remove the links:</p>\n\n<pre><code>&lt;ul class=\"dropdown-menu\"&gt;\n\n      &lt;li&gt;&lt;a href=\"index_fixed.html\"&gt;Home / Fixed&lt;/a&gt;&lt;/li&gt;\n      &lt;li&gt;&lt;a href=\"index_with_blog.html\"&gt;Home + Blog&lt;/a&gt;&lt;/li&gt;\n      &lt;li&gt;&lt;a href=\"portfolio.html\"&gt;Portfolio&lt;/a&gt;&lt;/li&gt;\n      &lt;li&gt;&lt;a href=\"blog.html\"&gt;Blog &amp; News&lt;/a&gt;&lt;/li&gt;\n    &lt;/ul&gt;\n  &lt;/li&gt;\n\n  &lt;li&gt;&lt;a href=\"left_sidebar.html\"&gt;left sidebar&lt;/a&gt;&lt;/li&gt;\n  &lt;li&gt;&lt;a href=\"right_sidebar.html\"&gt;right sidebar&lt;/a&gt;&lt;/li&gt;\n  &lt;li&gt;&lt;a href=\"full_width.html\"&gt;full page&lt;/a&gt;&lt;/li&gt;\n  &lt;li&gt;&lt;a href=\"contact.html\"&gt;contact us&lt;/a&gt;&lt;/li&gt;\n\n&lt;/ul&gt;\n</code></pre>\n\n<p>This is my code, but it is not working:</p>\n\n<pre><code>#!/usr/bin/perl\n########################################## Carrega Modulos\n\nuse LWP::UserAgent;\nuse LWP::Simple;\n\n $ua = new LWP::UserAgent;\n $ua-&gt;agent('Mozilla/5.0 (X11; U; NetBSD i386; en-US; rv:1.8.1.12) Gecko/20080301 Firefox/2.0.0.12');\n\n my $pedido1 = new HTTP::Request GET =&gt;\"http://localhost/site1/index.html\";\n my $resposta1 = $ua-&gt;request($pedido1) or die \"Error\\n\"; \n my $res1 = $resposta1-&gt;content;\n open (OUT, \"&gt;&gt;hit.txt\"); print OUT \"$res1\\n\"; close(OUT); $cont=$cont+1;\n\n $res1 =~ s/\"&lt;li&gt;&lt;a href=\\\"typography.html\\\"&gt;Typography&lt;\\/a&gt;&lt;\\/li&gt;\"/\"\"/g;\n $res1 =~ s/\"&lt;li&gt;&lt;a href=\\\"shortcodes.html\\\"&gt;Shortcodes&lt;\\/a&gt;&lt;\\/li&gt;\"/\"\"/g;\n $res1 =~ s/\"&lt;li&gt;&lt;a href=\\\"blog.html\\\"&gt;Blog &amp; News&lt;\\/a&gt;&lt;\\/li&gt;\"/\"\"/g;\n $res1 =~ s/\"&lt;li&gt;&lt;a href=\\\"tables.html\\\"&gt;Tables&lt;\\/a&gt;&lt;\\/li&gt;\"/\"\"/g;\n $res1 =~ s/\"&lt;li&gt;&lt;a href=\\\"faq.html\\\"&gt;FAQ&lt;\\/a&gt;&lt;\\/li&gt;\"/\"\"/g;\n print $res1;\n</code></pre>\n\n<p>This my HTML:</p>\n\n<pre><code>&lt;!DOCTYPE html&gt;\n\nReponsive HTML Template\n\nhttp://fonts.googleapis.com/css?family=Roboto:400,300,700,100' rel='stylesheet' type='text/css'&gt;\n\n\n\n &lt;!-- Collect the nav links, forms, and other content for toggling --&gt;\n\n  &lt;div class=\"collapse navbar-center navbar-collapse\" id=\"bs-example-navbar-collapse-1\"&gt;\n\n    &lt;ul class=\"nav navbar-nav\"&gt;\n\n      &lt;li class=\"active\"&gt;&lt;a href=\"index.html\"&gt;Home&lt;/a&gt;&lt;/li&gt;\n      &lt;li class=\"dropdown\"&gt; &lt;a href=\"#\" class=\"dropdown-toggle\" data-toggle=\"dropdown\"&gt;Pages&lt;/a&gt;\n\n        &lt;ul class=\"dropdown-menu\"&gt;\n\n          &lt;li&gt;&lt;a href=\"index_fixed.html\"&gt;Home / Fixed&lt;/a&gt;&lt;/li&gt;\n          &lt;li&gt;&lt;a href=\"index_with_blog.html\"&gt;Home + Blog&lt;/a&gt;&lt;/li&gt;\n          &lt;li&gt;&lt;a href=\"portfolio.html\"&gt;Portfolio&lt;/a&gt;&lt;/li&gt;\n          &lt;li&gt;&lt;a href=\"typography.html\"&gt;Typography&lt;/a&gt;&lt;/li&gt;\n          &lt;li&gt;&lt;a href=\"shortcodes.html\"&gt;Shortcodes&lt;/a&gt;&lt;/li&gt;\n          &lt;li&gt;&lt;a href=\"blog.html\"&gt;Blog &amp; News&lt;/a&gt;&lt;/li&gt;\n          &lt;li&gt;&lt;a href=\"tables.html\"&gt;Tables&lt;/a&gt;&lt;/li&gt;\n          &lt;li&gt;&lt;a href=\"faq.html\"&gt;FAQ&lt;/a&gt;&lt;/li&gt;\n\n        &lt;/ul&gt;\n      &lt;/li&gt;\n\n      &lt;li&gt;&lt;a href=\"left_sidebar.html\"&gt;left sidebar&lt;/a&gt;&lt;/li&gt;\n      &lt;li&gt;&lt;a href=\"right_sidebar.html\"&gt;right sidebar&lt;/a&gt;&lt;/li&gt;\n      &lt;li&gt;&lt;a href=\"full_width.html\"&gt;full page&lt;/a&gt;&lt;/li&gt;\n      &lt;li&gt;&lt;a href=\"contact.html\"&gt;contact us&lt;/a&gt;&lt;/li&gt;\n\n    &lt;/ul&gt;\n  &lt;/div&gt;\n\n  &lt;!-- /.navbar-collapse --&gt;\n\n  &lt;div class=\"clr\"&gt;&lt;/div&gt;\n\n  &lt;!-- Brand and toggle get grouped for better mobile display --&gt;\n\n  &lt;div class=\"navbar-header\"&gt;\n\n    &lt;button type=\"button\" class=\"navbar-toggle\" data-toggle=\"collapse\" data-target=\"#bs-example-navbar-collapse-1\"&gt; &lt;span class=\"sr-only\"&gt;Toggle navigation&lt;/span&gt; &lt;span class=\"icon-bar\"&gt;&lt;/span&gt; &lt;span class=\"icon-bar\"&gt;&lt;/span&gt; &lt;span class=\"icon-bar\"&gt;&lt;/span&gt; &lt;/button&gt;\n\n    &lt;h1 class=\"navbar-brand\"&gt;&lt;a href=\"index.html\"&gt;&lt;span&gt;anti&lt;/span&gt;que&lt;/a&gt;&lt;/h1&gt;\n\n  &lt;/div&gt;\n&lt;/nav&gt;\n\n&lt;!-- Indicators --&gt;\n\n&lt;div class=\"carousel-inner\"&gt;\n\n  &lt;div class=\"item\"&gt; &lt;img data-src=\"images/slider/slider1.jpg\" alt=\"First slide\" src=\"images/slider/slider1.jpg\"&gt;\n\n    &lt;div class=\"container\"&gt;\n      &lt;div class=\"carousel-caption\"&gt;\n\n        &lt;h1&gt;Vivamus ultricies volutpat egestas. Donec &lt;span&gt;turpis non eros&lt;/span&gt; euismod &lt;/h1&gt;\n\n        &lt;p&gt;Aliquam sit amet lectus sagittis, feugiat neque dictum, rutrum augue. Integer vel egestas urna. &lt;/p&gt;\n        &lt;p&gt;&lt;a class=\"btn btn-default\" href=\"#\" role=\"button\"&gt;more details&lt;/a&gt;&lt;/p&gt;\n\n      &lt;/div&gt;\n    &lt;/div&gt;\n  &lt;/div&gt;\n\n  &lt;div class=\"item active\"&gt; &lt;img data-src=\"images/slider/slider2.jpg\" alt=\"Second slide\" src=\"images/slider/slider2.jpg\"&gt;\n\n    &lt;div class=\"container\"&gt;\n      &lt;div class=\"carousel-caption\"&gt;\n        &lt;h1&gt;Donec &lt;span&gt;volutpat mattis&lt;/span&gt; odio. Quisque eros. Nullam malesuada. &lt;/h1&gt;\n\n        &lt;p&gt;Lorem ipsum dolor sit amet, consectetuer adipiscing elit. Donec odio. Quisque volutpat mattis eros. &lt;/p&gt;\n        &lt;p&gt;&lt;a class=\"btn btn-default\" href=\"#\" role=\"button\"&gt;get started&lt;/a&gt;&lt;/p&gt;\n\n      &lt;/div&gt;\n    &lt;/div&gt;\n  &lt;/div&gt;\n&lt;/div&gt;\n\n&lt;a class=\"left carousel-control\" href=\"#myCarousel\" data-slide=\"prev\"&gt;&lt;span class=\"glyphicon carousel-control-left\"&gt;&lt;/span&gt;&lt;/a&gt; &lt;a class=\"right carousel-control\" href=\"#myCarousel\" data-slide=\"next\"&gt;&lt;span class=\"glyphicon carousel-control-right\"&gt;&lt;/span&gt;&lt;/a&gt; &lt;/div&gt;\n\n  &lt;h2 class=\"text-center\"&gt;Phasellus ultrices nulla quis nibh. Quisque a lectus. Lorem ipsum dolor sit amet, consectetuer adipiscing elit.&lt;/h2&gt;\n\n  &lt;p class=\"text-center big-paragraph\"&gt;Suspendisse urna nibh, viverra non, semper suscipit, posuere a, pede.&lt;/p&gt;\n\n&lt;/div&gt;\n\n  &lt;h2&gt;&lt;span&gt;our services&lt;/span&gt;&lt;/h2&gt;\n\n  &lt;div class=\"row\"&gt;\n    &lt;div class=\"col-md-4\"&gt; &lt;img src=\"images/icons/ico1.png\" alt=\"icon\" class=\"icon\"&gt;\n\n      &lt;h3&gt;CLEAN FLAT &amp; MINIMAL&lt;/h3&gt;\n\n      &lt;img src=\"images/content__images/img1.jpg\" alt=\"image\" class=\"img-rounded img-responsive\"&gt;\n\n      &lt;p&gt;Lorem ipsum dolor sit amet, consectetuer adipiscing elit. Donec odio. Quisque volutpat mattis eros.&lt;/p&gt;\n      &lt;p&gt;&lt;a class=\"btn btn-lg btn-primary\" href=\"#\" role=\"button\"&gt;Learn more&lt;/a&gt;&lt;/p&gt;\n\n    &lt;/div&gt;\n\n    &lt;div class=\"col-md-4\"&gt; &lt;img src=\"images/icons/ico2.png\" alt=\"icon\" class=\"icon\"&gt;\n\n      &lt;h3&gt;FULLY RESPONSIVE&lt;/h3&gt;\n\n      &lt;img src=\"images/content__images/img2.jpg\" alt=\"image\" class=\"img-rounded img-responsive\"&gt;\n\n      &lt;p&gt;Lorem ipsum dolor sit amet, consectetuer adipiscing elit. Donec odio. Quisque volutpat mattis eros.&lt;/p&gt;\n      &lt;p&gt;&lt;a class=\"btn btn-lg btn-primary\" href=\"#\" role=\"button\"&gt;Learn more&lt;/a&gt;&lt;/p&gt;\n\n    &lt;/div&gt;\n\n    &lt;div class=\"col-md-4\"&gt; &lt;img src=\"images/icons/ico3.png\" alt=\"icon\" class=\"icon\"&gt;\n\n      &lt;h3&gt;EASY TO CUSTOMIZE&lt;/h3&gt;\n\n      &lt;img src=\"images/content__images/img3.jpg\" alt=\"image\" class=\"img-rounded img-responsive\"&gt;\n\n      &lt;p&gt;Lorem ipsum dolor sit amet, consectetuer adipiscing elit. Donec odio. Quisque volutpat mattis eros.&lt;/p&gt;\n      &lt;p&gt;&lt;a class=\"btn btn-lg btn-primary\" href=\"#\" role=\"button\"&gt;Learn more&lt;/a&gt;&lt;/p&gt;\n\n    &lt;/div&gt;\n  &lt;/div&gt;\n&lt;/div&gt;\n\n  &lt;h2 class=\"text-center\"&gt;&lt;span&gt;about us&lt;/span&gt;&lt;/h2&gt;\n\n  &lt;div class=\"row text-center\"&gt;\n    &lt;div class=\"col-md-6\"&gt;\n\n      &lt;h3&gt;Donec odio. Quisque volutpat mattis eros. \n\n        Nullam malesuada erat. &lt;/h3&gt;\n\n      &lt;p&gt;&lt;small&gt;Praesent semper mod quis eget mi. Etiam eu ante risus. &lt;/small&gt;&lt;/p&gt;\n\n      &lt;img src=\"images/content__images/pic1.jpg\" class=\"img-rounded img-responsive\" alt=\"pic1\"&gt;\n\n      &lt;div class=\"clearfix\"&gt;&lt;/div&gt;\n\n      &lt;p&gt;Lorem ipsum dolor sit amet, consectetuer adipiscing elit. Donec odio. Quisque volutpat mattis eros. Nullam malesuada erat ut turpis. Suspendisse urna nibh, viverra non, semper suscipit, posuere a, pede.&lt;/p&gt;\n\n      &lt;p&gt;&lt;a class=\"btn btn-info btn-lg\" href=\"#\" role=\"button\"&gt;Learn more&lt;/a&gt;&lt;/p&gt;\n\n    &lt;/div&gt;\n\n    &lt;div class=\"col-md-6\"&gt;\n\n      &lt;h3&gt;Etiam eu ante risus. Aliquam erat volutpat. \n\n        Aliquam luctus mattis.&lt;/h3&gt;\n\n      &lt;p&gt;&lt;small&gt;Praesent semper mod quis eget mi. Etiam eu ante risus. &lt;/small&gt;&lt;/p&gt;\n\n      &lt;img src=\"images/content__images/pic2.jpg\" class=\"img-rounded img-responsive\" alt=\"pic2\"&gt;\n\n      &lt;div class=\"clearfix\"&gt;&lt;/div&gt;\n\n      &lt;p&gt;Lorem ipsum dolor sit amet, consectetuer adipiscing elit. Donec odio. Quisque volutpat mattis eros. Nullam malesuada erat ut turpis. Suspendisse urna nibh, viverra non, semper suscipit, posuere a, pede.&lt;/p&gt;\n\n      &lt;p&gt;&lt;a class=\"btn btn-info btn-lg\" href=\"#\" role=\"button\"&gt;Learn more&lt;/a&gt;&lt;/p&gt;\n\n    &lt;/div&gt;\n  &lt;/div&gt;\n&lt;/div&gt;\n\n&lt;div class=\"container\"&gt;\n\n  &lt;h2 class=\"\"&gt;Pellentesque egestas sem. Suspendisse commodo ullamcorper magna. Pellentesque egestas sem suspendisse commodo ullamcorper ...&lt;/h2&gt;\n\n  &lt;p class=\"\"&gt;Sed ut perspiciatis unde omnis iste natus error sit voluptatem accusantium doloremque laudantium, totam rem aperiam, eaque ipsa quae ab illo inventore eritatis et quasi architecto beatae vitae dicta sunt explicabo.\n\n    Nemo enim ipsam voluptatem quia voluptas sit aspernatur aut odit aut fugit, sed quia consequuntur magni dolores eos qui ratione \n\n    voluptatem sequi nesciunt.&lt;/p&gt;\n\n  &lt;p&gt;&lt;a class=\"btn btn-info\" href=\"#\" role=\"button\"&gt;Buy it&lt;/a&gt;&lt;a class=\"btn btn-default\" href=\"#\" role=\"button\"&gt;Learn More&lt;/a&gt;&lt;/p&gt;\n\n&lt;/div&gt;\n\n    &lt;h3&gt;About&lt;/h3&gt;\n\n    &lt;p&gt;We strive to deliver a level of service that exceeds the expectations of our customers. &lt;br /&gt;\n\n      &lt;br /&gt;\n\n      If you have any questions about our products or services, please do not hesitate to contact us. We have friendly, knowledgeable representatives available seven days a week to assist you.&lt;/p&gt;\n\n  &lt;/div&gt;\n\n  &lt;div class=\"col-md-3\"&gt;\n\n    &lt;h3&gt;Tweets&lt;/h3&gt;\n\n    &lt;p&gt;&lt;span&gt;Tweet&lt;/span&gt; &lt;a href=\"#\"&gt;@You&lt;/a&gt;&lt;br /&gt;\n\n      Etiam egestas, ipsum posuere accumsan sollicitudin, nulla mauris volutpat sem, sit amet rutrum risus. &lt;/p&gt;\n\n    &lt;p&gt;&lt;span&gt;Tweet&lt;/span&gt; &lt;a href=\"#\"&gt;@You&lt;/a&gt;&lt;br /&gt;\n\n      Quisque porta tellus vitae adipiscing molestie. Mauris et lacus blandit, malesuada.&lt;/p&gt;\n\n  &lt;/div&gt;\n\n  &lt;div class=\"col-md-3\"&gt;\n\n    &lt;h3&gt;Mailing list&lt;/h3&gt;\n\n    &lt;p&gt;Subscribe to our mailing list for offers, news updates and more!&lt;/p&gt;\n\n    &lt;br /&gt;\n\n    &lt;form action=\"#\" method=\"post\" class=\"form-inline\" role=\"form\"&gt;\n\n      &lt;div class=\"form-group\"&gt;\n\n        &lt;label class=\"sr-only\" for=\"exampleInputEmail2\"&gt;your email:&lt;/label&gt;\n\n        &lt;input type=\"email\" class=\"form-control\" id=\"exampleInputEmail2\" placeholder=\"your email:\"&gt;\n\n      &lt;/div&gt;\n\n      &lt;button type=\"submit\" class=\"btn btn-primary\"&gt;subscribe&lt;/button&gt;\n\n    &lt;/form&gt;\n  &lt;/div&gt;\n\n  &lt;div class=\"col-md-3\"&gt;\n\n    &lt;h3&gt;Business&lt;/h3&gt;\n\n    &lt;p&gt;Street&lt;br /&gt;\n\n      City, State &lt;br /&gt;\n\n      Country&lt;br /&gt;\n\n      &lt;br /&gt;\n\n      Phone: (111) 123-4567&lt;br /&gt;\n\n      Fax: (111) 123-4567&lt;br /&gt;\n\n      &lt;br /&gt;\n    &lt;/p&gt;\n\n    &lt;div class=\"social__icons\"&gt; &lt;a href=\"#\" class=\"socialicon socialicon-twitter\"&gt;&lt;/a&gt; &lt;a href=\"#\" class=\"socialicon socialicon-facebook\"&gt;&lt;/a&gt; &lt;a href=\"#\" class=\"socialicon socialicon-google\"&gt;&lt;/a&gt; &lt;/div&gt;\n\n  &lt;/div&gt;\n&lt;/div&gt;\n\n$('.carousel').carousel({ interval: 3500, // in milliseconds pause: 'none' // set to 'true' to pause slider on mouse hover })\n</code></pre>\n\n<p>Thanks very much</p>\n"}, {"tags": ["perl", "type-conversion"], "comments": [{"owner": {"reputation": 87649, "user_id": 17389, "user_type": "registered", "accept_rate": 38, "profile_image": "https://www.gravatar.com/avatar/cd06d1314817ce946ab796af8750b56a?s=128&d=identicon&r=PG", "display_name": "ysth", "link": "https://stackoverflow.com/users/17389/ysth"}, "edited": false, "score": 0, "creation_date": 1481037914, "post_id": 40998796, "comment_id": 69206411, "body": "Use pack/unpack"}], "answers": [{"comments": [{"owner": {"reputation": 25491, "user_id": 49197, "user_type": "registered", "accept_rate": 75, "profile_image": "https://www.gravatar.com/avatar/15ebf24a33a29b9efbf9924f530dd736?s=128&d=identicon&r=PG", "display_name": "Hynek -Pichi- Vychodil", "link": "https://stackoverflow.com/users/49197/hynek-pichi-vychodil"}, "edited": false, "score": 0, "creation_date": 1481042625, "post_id": 40998882, "comment_id": 69209722, "body": "You don&#39;t have to use <code>CORE::say</code> if you use <code>-E</code> command line switch instead of <code>-e</code>."}, {"owner": {"reputation": 320771, "user_id": 589924, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/b2cf53d5a3d25f95c0db4e025aed4153?s=128&d=identicon&r=PG", "display_name": "ikegami", "link": "https://stackoverflow.com/users/589924/ikegami"}, "reply_to_user": {"reputation": 25491, "user_id": 49197, "user_type": "registered", "accept_rate": 75, "profile_image": "https://www.gravatar.com/avatar/15ebf24a33a29b9efbf9924f530dd736?s=128&d=identicon&r=PG", "display_name": "Hynek -Pichi- Vychodil", "link": "https://stackoverflow.com/users/49197/hynek-pichi-vychodil"}, "edited": false, "score": 3, "creation_date": 1481043088, "post_id": 40998882, "comment_id": 69210021, "body": "<code>-E</code> isn&#39;t forward-compatible. Since it enables all features, code that currently runs under <code>-E</code> might not on a later version of Perl."}], "tags": [], "owner": {"reputation": 320771, "user_id": 589924, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/b2cf53d5a3d25f95c0db4e025aed4153?s=128&d=identicon&r=PG", "display_name": "ikegami", "link": "https://stackoverflow.com/users/589924/ikegami"}, "is_accepted": false, "score": 4, "last_activity_date": 1481084651, "last_edit_date": 1481084651, "creation_date": 1481037834, "answer_id": 40998882, "question_id": 40998796, "link": "https://stackoverflow.com/questions/40998796/how-to-convert-2-unsigned-16bit-integers-into-a-signed-32bit-integer-in-perl/40998882#40998882", "title": "How to convert 2 unsigned 16bit integers into a signed 32bit integer in Perl", "body": "<p>Method 1:</p>\n\n<pre><code>my $int32 = unpack('l&gt;', pack('nn', $hi16, $lo16));\n</code></pre>\n\n<p>Method 2:</p>\n\n<pre><code>my $int32 = ( $hi16 &lt;&lt; 16 ) | $lo16;\n$int32 -= 2**32 if $int32 &gt;= 2**31;\n</code></pre>\n\n<p>For example,</p>\n\n<pre><code>$ perl -e'\n   use feature qw( say );\n\n   my $hi16 = 0xFFFF;\n   my $lo16 = 0xFFFD;\n   say $hi16;\n   say $lo16;\n\n   {\n      my $int32 = unpack(\"l&gt;\", pack(\"nn\", $hi16, $lo16));\n      say $int32;\n   }\n\n   {\n      my $int32 = ( $hi16 &lt;&lt; 16 ) | $lo16;\n      $int32 -= 2**32 if $int32 &gt;= 2**31;\n      say $int32;\n   }\n'\n65535\n65533\n-3\n-3\n</code></pre>\n"}], "owner": {"reputation": 75, "user_id": 781448, "user_type": "registered", "accept_rate": 60, "profile_image": "https://www.gravatar.com/avatar/bc7cb1ff6c70c968f45643dc4c360ff2?s=128&d=identicon&r=PG", "display_name": "Costantino Pipero", "link": "https://stackoverflow.com/users/781448/costantino-pipero"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 647, "favorite_count": 1, "answer_count": 1, "score": 0, "last_activity_date": 1481084651, "creation_date": 1481037637, "last_edit_date": 1481038248, "question_id": 40998796, "link": "https://stackoverflow.com/questions/40998796/how-to-convert-2-unsigned-16bit-integers-into-a-signed-32bit-integer-in-perl", "title": "How to convert 2 unsigned 16bit integers into a signed 32bit integer in Perl", "body": "<p>I have a device that is able to send me data only as <em>unsigned</em> 16bit registers, using Perl.</p>\n\n<p>I have to take 2 registers and make a 32 bit <em>signed</em> integer out of them.</p>\n\n<p>My challenge is to represent a negative value having two positives.</p>\n"}, {"tags": ["perl", "time", "output"], "comments": [{"owner": {"reputation": 917, "user_id": 3014263, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/rFh51.jpg?s=128&g=1", "display_name": "AbhiNickz", "link": "https://stackoverflow.com/users/3014263/abhinickz"}, "edited": false, "score": 2, "creation_date": 1481038005, "post_id": 40998761, "comment_id": 69206491, "body": "Possible duplicate of <a href=\"http://stackoverflow.com/questions/32564093/convert-seconds-to-days-hours-minutes-using-perl\">Convert seconds to days, hours, minutes using Perl</a>"}], "answers": [{"comments": [{"owner": {"reputation": 101, "user_id": 2225375, "user_type": "registered", "accept_rate": 56, "profile_image": "https://i.stack.imgur.com/3SyU4.gif?s=128&g=1", "display_name": "Autonomic", "link": "https://stackoverflow.com/users/2225375/autonomic"}, "edited": false, "score": 0, "creation_date": 1481047023, "post_id": 41001645, "comment_id": 69212525, "body": "Thank you very much David! I knew I was close but didnt know enough I guess about the %02d would bring it to the decimal point!"}, {"owner": {"reputation": 470, "user_id": 6193608, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/dliye.jpg?s=128&g=1", "display_name": "David Verdin", "link": "https://stackoverflow.com/users/6193608/david-verdin"}, "reply_to_user": {"reputation": 101, "user_id": 2225375, "user_type": "registered", "accept_rate": 56, "profile_image": "https://i.stack.imgur.com/3SyU4.gif?s=128&g=1", "display_name": "Autonomic", "link": "https://stackoverflow.com/users/2225375/autonomic"}, "edited": false, "score": 0, "creation_date": 1481048005, "post_id": 41001645, "comment_id": 69213029, "body": "good. And I am really deeply sorry for my previous post. I really thought you needed metrics. This was not a cheap attempt at advertising a CPAN module."}], "tags": [], "owner": {"reputation": 470, "user_id": 6193608, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/dliye.jpg?s=128&g=1", "display_name": "David Verdin", "link": "https://stackoverflow.com/users/6193608/david-verdin"}, "is_accepted": true, "score": 1, "last_activity_date": 1481085724, "last_edit_date": 1481085724, "creation_date": 1481046390, "answer_id": 41001645, "question_id": 40998761, "link": "https://stackoverflow.com/questions/40998761/perl-custom-run-time-format/41001645#41001645", "title": "Perl custom run time format", "body": "<p>This should do the trick:</p>\n\n<pre><code>#!/usr/bin/perl\nuse Time::Piece;\n\nmy $start = localtime;\nsleep(10);\nmy $end = localtime;\nmy $diff = $end - $start;\nmy $minutes = int $diff-&gt;minutes;\nmy $seconds = $diff-&gt;seconds % 60;\nmy $output = sprintf '%02d.%02d', $minutes, $seconds;\nprint \"$output\\n\";\n</code></pre>\n"}, {"tags": [], "owner": {"reputation": 320771, "user_id": 589924, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/b2cf53d5a3d25f95c0db4e025aed4153?s=128&d=identicon&r=PG", "display_name": "ikegami", "link": "https://stackoverflow.com/users/589924/ikegami"}, "is_accepted": false, "score": 2, "last_activity_date": 1481085845, "last_edit_date": 1481085845, "creation_date": 1481085300, "answer_id": 41009487, "question_id": 40998761, "link": "https://stackoverflow.com/questions/40998761/perl-custom-run-time-format/41009487#41009487", "title": "Perl custom run time format", "body": "<p>No need for Time::Piece!</p>\n\n<pre><code>my $start = time;\nsleep(10);\nmy $end = time;\nmy $diff = $end - $start;\nmy $runtime = sprintf '%d:%02d', int($diff / 60), $diff % 60;\nprint \"$runtime\\n\";\n</code></pre>\n"}], "owner": {"reputation": 101, "user_id": 2225375, "user_type": "registered", "accept_rate": 56, "profile_image": "https://i.stack.imgur.com/3SyU4.gif?s=128&g=1", "display_name": "Autonomic", "link": "https://stackoverflow.com/users/2225375/autonomic"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 138, "favorite_count": 0, "accepted_answer_id": 41001645, "answer_count": 2, "score": 1, "last_activity_date": 1481085845, "creation_date": 1481037532, "last_edit_date": 1495539943, "question_id": 40998761, "link": "https://stackoverflow.com/questions/40998761/perl-custom-run-time-format", "title": "Perl custom run time format", "body": "<p>I have an issue and this is rather my last resort before I give up, Im rather a noob with Perl and I've about reached the end of the internet searching for a solution.  </p>\n\n<p>***I do not have permission to install anything so it must be native to Perl5</p>\n\n<p>I have a script and I need to calculate the total runtime of the script, and output the result in 00.00 \"minutes.seconds\" stored in a variable.</p>\n\n<p>Here's a failed attempt:</p>\n\n<pre><code>#!/usr/bin/perl\nuse Time::Piece;\nuse POSIX qw(strftime);\n\nmy $start = localtime-&gt;strftime($unixtime);\nsleep(10);\nmy $end = localtime-&gt;strftime($unixtime);\nmy $diff = $end - $start;\nmy $runtime = printf(\"%M.%S\", $diff);\nprint $runtime;\n</code></pre>\n\n<p>I definitely have played with this a bit and was able to get \"10\" seconds as a result, however that is not the proper format.  If the script ran for say 10 seconds, the output should be \"00.10\".</p>\n\n<p>If the script ran for say 1 minute and 55 seconds the output should be \"01.55\".</p>\n\n<p>Is there any way this can be done?\nI searched on this and found 1 article however not even close... REF: <a href=\"https://stackoverflow.com/questions/32063424/perl-different-time-format-output\">perl different time format output</a></p>\n"}, {"tags": ["multithreading", "perl", "soap", "mod-perl", "soaplite"], "answers": [{"comments": [{"owner": {"reputation": 35, "user_id": 2969499, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/0592897b51cf2d0d51f826db7184ca24?s=128&d=identicon&r=PG&f=1", "display_name": "NoMann", "link": "https://stackoverflow.com/users/2969499/nomann"}, "edited": false, "score": 0, "creation_date": 1485956312, "post_id": 41928010, "comment_id": 71139999, "body": "Unfortunately I am not in a position to test it, but it looks good to me."}], "tags": [], "owner": {"reputation": 7502, "user_id": 6368697, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/yq4cG.jpg?s=128&g=1", "display_name": "Patrick Mevzek", "link": "https://stackoverflow.com/users/6368697/patrick-mevzek"}, "is_accepted": true, "score": 1, "last_activity_date": 1485740826, "creation_date": 1485740826, "answer_id": 41928010, "question_id": 40998643, "link": "https://stackoverflow.com/questions/40998643/soaplite-clients-using-version-1-1-and-1-2-threaded-in-mod-perl/41928010#41928010", "title": "SOAP::Lite - clients using version 1.1 and 1.2 threaded in mod_perl", "body": "<p>Run Apache with the prefork model instead of the threading model (<code>mpm_prefork_module</code> instead of <code>mpm_event_module</code> or <code>mpm_worker_module</code>), so that each Apache child will have its own Perl interpreter, hence its own set of constants.</p>\n\n<p>Otherwise have a look on the modperl documentation regarding the <code>PerlOptions</code> directive, specifically the <code>clone</code> and/or <code>parent</code> value. But stop using threads seem simpler to me, threads and Perl were never friends.</p>\n"}], "owner": {"reputation": 35, "user_id": 2969499, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/0592897b51cf2d0d51f826db7184ca24?s=128&d=identicon&r=PG&f=1", "display_name": "NoMann", "link": "https://stackoverflow.com/users/2969499/nomann"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 203, "favorite_count": 1, "accepted_answer_id": 41928010, "answer_count": 1, "score": 3, "last_activity_date": 1485740826, "creation_date": 1481037182, "question_id": 40998643, "link": "https://stackoverflow.com/questions/40998643/soaplite-clients-using-version-1-1-and-1-2-threaded-in-mod-perl", "title": "SOAP::Lite - clients using version 1.1 and 1.2 threaded in mod_perl", "body": "<p>I have several SOAP::Lite clients running under mod_perl in Apache hhtpd. \nSome of them use 1.1 soap-servers and some of them use 1.2 servers. So I have code like:</p>\n\n<pre><code># In client 1:\nmy $soap1 = SOAP::Lite-&gt;soapversion(\"1.1\");\n$result1 = $soap1-&gt;method1();\n\n# In client 2:\nmy $soap2 = SOAP::Lite-&gt;soapversion(\"1.2\");\n$result2 = $soap2-&gt;method2();\n</code></pre>\n\n<p>This works in stand-alone clients, but when I run the code under mod_perl, I seem to get stung by that the <code>soapversion</code>\n method has side-effects:</p>\n\n<pre><code># From SOAP::Lite.pm \nsub soapversion {\n    my $self = shift;\n    my $version = shift or return $SOAP::Constants::SOAP_VERSION;\n\n    ($version) = grep {\n        $SOAP::Constants::SOAP_VERSIONS{$_}-&gt;{NS_ENV} eq $version\n        } keys %SOAP::Constants::SOAP_VERSIONS\n            unless exists $SOAP::Constants::SOAP_VERSIONS{$version};\n\n    die qq!$SOAP::Constants::WRONG_VERSION Supported versions:\\n@{[\n        join \"\\n\", map {\"  $_ ($SOAP::Constants::SOAP_VERSIONS{$_}-&gt;{NS_ENV})\"} keys %SOAP::Constants::SOAP_VERSIONS\n        ]}\\n!\n        unless defined($version) &amp;&amp; defined(my $def = $SOAP::Constants::SOAP_VERSIONS{$version});\n\n    foreach (keys %$def) {\n        eval \"\\$SOAP::Constants::$_ = '$SOAP::Constants::SOAP_VERSIONS{$version}-&gt;{$_}'\";\n    }\n\n    $SOAP::Constants::SOAP_VERSION = $version;\n\n    return $self;\n}\n</code></pre>\n\n<p>This is what I believe happens:</p>\n\n<p>Basically, the <code>soapversion</code> call rededefines essential constants in <code>$SOAP::Constants</code>. And since this is mod_perl, the <code>$SOAP::Constants</code> are global and shared between every server-thread (I believe. Please correct me if I'm wrong). This leads to a race-condition: Most of the times, the codelines gets executed more-or-less in the sequence seen above. But once in at while (actually about 2% of the calls) the execution sequence is:</p>\n\n<pre><code>Thread1: my $soap1 = SOAP::Lite-&gt;soapversion(\"1.1\");\nThread2: my $soap2 = SOAP::Lite-&gt;soapversion(\"1.2\");\nThread1: $result1 = $soap1-&gt;method1();\nThread2: $result2 = $soap2-&gt;method2();\n</code></pre>\n\n<p>And so, the <code>$soap1-&gt;method1()</code> gets called with <code>$SOAP::Constants</code> set as befitting version 1.2 - causing several namespace to be wrong, notably:</p>\n\n<pre><code>xmlns:soapenc=\"http://www.w3.org/2003/05/soap-encoding\" \n</code></pre>\n\n<p>Which is wrong for 1.1 - who prefers:</p>\n\n<pre><code>xmlns:soapenc=\"http://schemas.xmlsoap.org/soap/encoding/\"                                                 \n</code></pre>\n\n<p>If I could somehow make <code>$SOAP::Constants</code> localized to a serverthread or something like that, I guess things would be fine. But any solution will be appreciated.</p>\n"}, {"tags": ["perl"], "comments": [{"owner": {"reputation": 50468, "user_id": 1331451, "user_type": "registered", "accept_rate": 96, "profile_image": "https://i.stack.imgur.com/4ZPmj.png?s=128&g=1", "display_name": "simbabque", "link": "https://stackoverflow.com/users/1331451/simbabque"}, "edited": false, "score": 7, "creation_date": 1481035382, "post_id": 40997876, "comment_id": 69204428, "body": "I think some indentation and a proper iteration variable would make this code longer, but way more readable. You don&#39;t always have to do the <i>fancy stuff</i>. Sometimes clarity is way better. :)"}, {"owner": {"reputation": 123805, "user_id": 622310, "user_type": "registered", "accept_rate": 33, "profile_image": "https://www.gravatar.com/avatar/8b6d35219e1808520bc238b28161e2e6?s=128&d=identicon&r=PG", "display_name": "Borodin", "link": "https://stackoverflow.com/users/622310/borodin"}, "reply_to_user": {"reputation": 50468, "user_id": 1331451, "user_type": "registered", "accept_rate": 96, "profile_image": "https://i.stack.imgur.com/4ZPmj.png?s=128&g=1", "display_name": "simbabque", "link": "https://stackoverflow.com/users/1331451/simbabque"}, "edited": false, "score": 2, "creation_date": 1481037451, "post_id": 40997876, "comment_id": 69206063, "body": "I agree with @simbabque. Rather than using something that you clearly think of as <i>advanced</i>, you should &quot;clean up your code&quot; by indenting it properly and adding blank lines to delineate associated statements."}, {"owner": {"reputation": 123805, "user_id": 622310, "user_type": "registered", "accept_rate": 33, "profile_image": "https://www.gravatar.com/avatar/8b6d35219e1808520bc238b28161e2e6?s=128&d=identicon&r=PG", "display_name": "Borodin", "link": "https://stackoverflow.com/users/622310/borodin"}, "edited": false, "score": 0, "creation_date": 1481037846, "post_id": 40997876, "comment_id": 69206362, "body": "This question belongs on <a href=\"http://codereview.stackexchange.com/\"><b>Code Review</b></a> as there is no immediate problem. However, as the Code Review guys have wisely barricaded themselves from accepting everyone-else&#39;s dross, that is not a reason for closure that I can specify. So I have just voted it as being off-topic for Stack Overflow."}, {"owner": {"reputation": 34726, "user_id": 133939, "user_type": "registered", "accept_rate": 95, "profile_image": "https://i.stack.imgur.com/pN9C5.png?s=128&g=1", "display_name": "Zaid", "link": "https://stackoverflow.com/users/133939/zaid"}, "reply_to_user": {"reputation": 123805, "user_id": 622310, "user_type": "registered", "accept_rate": 33, "profile_image": "https://www.gravatar.com/avatar/8b6d35219e1808520bc238b28161e2e6?s=128&d=identicon&r=PG", "display_name": "Borodin", "link": "https://stackoverflow.com/users/622310/borodin"}, "edited": false, "score": 2, "creation_date": 1481041061, "post_id": 40997876, "comment_id": 69208634, "body": "@Borodin Based on this Code Review <a href=\"http://meta.codereview.stackexchange.com/a/5778\">meta post</a> I wouldn&#39;t be surprised if they refuse migration. This question belongs on SO as far as they&#39;re concerned."}, {"owner": {"reputation": 123805, "user_id": 622310, "user_type": "registered", "accept_rate": 33, "profile_image": "https://www.gravatar.com/avatar/8b6d35219e1808520bc238b28161e2e6?s=128&d=identicon&r=PG", "display_name": "Borodin", "link": "https://stackoverflow.com/users/622310/borodin"}, "reply_to_user": {"reputation": 34726, "user_id": 133939, "user_type": "registered", "accept_rate": 95, "profile_image": "https://i.stack.imgur.com/pN9C5.png?s=128&g=1", "display_name": "Zaid", "link": "https://stackoverflow.com/users/133939/zaid"}, "edited": false, "score": 0, "creation_date": 1481041486, "post_id": 40997876, "comment_id": 69208918, "body": "@Zaid: I agree, and I thought that was what I said. I&#39;m unable to request migration. Questions of this quality don&#39;t belong anywhere on Stack Exchange."}, {"owner": {"reputation": 1488, "user_id": 6395052, "user_type": "registered", "accept_rate": 71, "profile_image": "https://lh6.googleusercontent.com/-XKoXECLm9OM/AAAAAAAAAAI/AAAAAAAAADw/PIOmJsiX89U/photo.jpg?sz=128", "display_name": "aschultz", "link": "https://stackoverflow.com/users/6395052/aschultz"}, "reply_to_user": {"reputation": 50468, "user_id": 1331451, "user_type": "registered", "accept_rate": 96, "profile_image": "https://i.stack.imgur.com/4ZPmj.png?s=128&g=1", "display_name": "simbabque", "link": "https://stackoverflow.com/users/1331451/simbabque"}, "edited": false, "score": 0, "creation_date": 1481041695, "post_id": 40997876, "comment_id": 69209063, "body": "@simbabque I actually had it more readable locally. I didn&#39;t want it taking up too much space, and I wanted to focus on the &quot;lastID&quot; bit instead. So this is good to know for the future."}, {"owner": {"reputation": 123805, "user_id": 622310, "user_type": "registered", "accept_rate": 33, "profile_image": "https://www.gravatar.com/avatar/8b6d35219e1808520bc238b28161e2e6?s=128&d=identicon&r=PG", "display_name": "Borodin", "link": "https://stackoverflow.com/users/622310/borodin"}, "edited": false, "score": 1, "creation_date": 1481042202, "post_id": 40997876, "comment_id": 69209432, "body": "@aschultz: So you <i>removed</i> indentation, newlines and blank lines before you posted your code on Stack Overflow?"}, {"owner": {"reputation": 1488, "user_id": 6395052, "user_type": "registered", "accept_rate": 71, "profile_image": "https://lh6.googleusercontent.com/-XKoXECLm9OM/AAAAAAAAAAI/AAAAAAAAADw/PIOmJsiX89U/photo.jpg?sz=128", "display_name": "aschultz", "link": "https://stackoverflow.com/users/6395052/aschultz"}, "reply_to_user": {"reputation": 123805, "user_id": 622310, "user_type": "registered", "accept_rate": 33, "profile_image": "https://www.gravatar.com/avatar/8b6d35219e1808520bc238b28161e2e6?s=128&d=identicon&r=PG", "display_name": "Borodin", "link": "https://stackoverflow.com/users/622310/borodin"}, "edited": false, "score": 2, "creation_date": 1481042430, "post_id": 40997876, "comment_id": 69209601, "body": "@Borodin I&#39;m new to asking questions. And I wanted to bring focus to the part of code I felt was most important. I don&#39;t fully know what I&#39;m doing, but I do want to learn to do better."}, {"owner": {"reputation": 1488, "user_id": 6395052, "user_type": "registered", "accept_rate": 71, "profile_image": "https://lh6.googleusercontent.com/-XKoXECLm9OM/AAAAAAAAAAI/AAAAAAAAADw/PIOmJsiX89U/photo.jpg?sz=128", "display_name": "aschultz", "link": "https://stackoverflow.com/users/6395052/aschultz"}, "reply_to_user": {"reputation": 123805, "user_id": 622310, "user_type": "registered", "accept_rate": 33, "profile_image": "https://www.gravatar.com/avatar/8b6d35219e1808520bc238b28161e2e6?s=128&d=identicon&r=PG", "display_name": "Borodin", "link": "https://stackoverflow.com/users/622310/borodin"}, "edited": false, "score": 0, "creation_date": 1481043285, "post_id": 40997876, "comment_id": 69210158, "body": "@Borodin to follow up, I seriously had no clue Code Review even existed. Thank you for letting me know about it. There are so many stackexchange sites, I feel really swamped, but that is useful for me going forward because I know it&#39;s something where I make big mistakes."}, {"owner": {"reputation": 4328, "user_id": 1473927, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/AO6Ui.jpg?s=128&g=1", "display_name": "Jonathan Cast", "link": "https://stackoverflow.com/users/1473927/jonathan-cast"}, "edited": false, "score": 0, "creation_date": 1481069009, "post_id": 40997876, "comment_id": 69222761, "body": "I wouldn&#39;t use <code>map</code> for this in Perl.  In Haskell, sure, I&#39;d make it work, but in Perl comparing each element to its <i>preceding</i> element should probably be done just with a <code>for</code> loop."}], "answers": [{"tags": [], "owner": {"reputation": 198290, "user_id": 1030675, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/957956ce51706d03f19a4dc85a767bb1?s=128&d=identicon&r=PG", "display_name": "choroba", "link": "https://stackoverflow.com/users/1030675/choroba"}, "is_accepted": false, "score": 4, "last_activity_date": 1481036073, "last_edit_date": 1481036073, "creation_date": 1481035703, "answer_id": 40998117, "question_id": 40997876, "link": "https://stackoverflow.com/questions/40997876/how-can-i-use-map-to-clean-up-this-perl-code/40998117#40998117", "title": "How can I use map to clean up this Perl code?", "body": "<p>No map needed, just add some spaces here and there, and remove stuff that's not needed ($_, join, etc.). Also, reuse <code>num()</code> inside the loop, no need to repeat the regex.</p>\n\n<pre><code>#!/usr/bin/perl\nuse warnings;\nuse strict;\nuse feature qw{ say };\n\nmy @printy = sort { num($a) &lt;=&gt; num($b) }\n                  '1 -&gt; this', '5 -&gt; that', '3 -&gt; the other', '6 -&gt; thus and such';\nmy $thisID = my $lastID = 0;\n\nfor (@printy) {\n    $thisID = num($_);\n    $_ .= ' *' if $thisID - $lastID != 1;\n    $lastID = $thisID;\n}\nsay for @printy;\n\nsub num {\n    my ($x) = @_;\n    $x =~ s/ .*//;\n    return $x;\n}\n</code></pre>\n\n<p>Also, reimplementing <code>num</code> using <code>/(\\d+)/</code> instead of substitution might tell its purpose more clearly.</p>\n"}, {"tags": [], "owner": {"reputation": 50468, "user_id": 1331451, "user_type": "registered", "accept_rate": 96, "profile_image": "https://i.stack.imgur.com/4ZPmj.png?s=128&g=1", "display_name": "simbabque", "link": "https://stackoverflow.com/users/1331451/simbabque"}, "is_accepted": false, "score": 3, "last_activity_date": 1481036043, "creation_date": 1481036043, "answer_id": 40998243, "question_id": 40997876, "link": "https://stackoverflow.com/questions/40997876/how-can-i-use-map-to-clean-up-this-perl-code/40998243#40998243", "title": "How can I use map to clean up this Perl code?", "body": "<p>I agree with choroba that there is no need for a <code>map</code> here. But I'd refactor a little bit anyway.</p>\n\n<pre><code>use strict;\nuse warnings;\nuse feature 'say';\n\nmy @printy = ( \"1 -&gt; this\", \"5 -&gt; that\", \"3 -&gt; the other\", \"6 -&gt; thus and such\" );\n\nmy $last_id = 0;\nforeach my $line ( sort { num($a) &lt;=&gt; num($b) } @printy ) {\n    my $current_id = num($line);\n    $line .= ' *' unless $current_id - $last_id == 1;\n    $last_id = $current_id;\n}\nsay for @printy;\n\n# returns the number at the start of a string\nsub num {\n    $_[0] =~ m/^(\\d+)/;\n    return $1;\n}\n</code></pre>\n\n<ul>\n<li><p>I moved the <code>sort</code> down into the <code>foreach</code>, because you shouldn't rely on the fact that your input is sorted. </p></li>\n<li><p>I changed the variable names to go with the convention that there should be no capital letters in variable names, and I used <code>say</code>, which is like <code>print</code> with a system-specific newline at the end.</p></li>\n<li><p>I also moved the <code>$current_id</code> into the loop. That doesn't need to be visible outside because it's lexical to that loop. Always declare variables in the smallest possible scope.</p></li>\n<li><p>You already had that nice <code>num</code> function, but you're not using it inside of the loop to get the <code>$current_id</code>. Use it.</p></li>\n</ul>\n\n<p>I think if the input gets very long, it might make sense to go with a <code>map</code> construct because sorting will be very expensive at some point. Look at the <a href=\"https://en.wikipedia.org/wiki/Schwartzian_transform\" rel=\"nofollow noreferrer\">Schwartzian transform</a> for caching the calculation before sorting. You could then do everything at once. But it won't be readable for a beginner any more.</p>\n"}, {"comments": [{"owner": {"reputation": 34726, "user_id": 133939, "user_type": "registered", "accept_rate": 95, "profile_image": "https://i.stack.imgur.com/pN9C5.png?s=128&g=1", "display_name": "Zaid", "link": "https://stackoverflow.com/users/133939/zaid"}, "edited": false, "score": 4, "creation_date": 1481036615, "post_id": 40998309, "comment_id": 69205387, "body": "With time I&#39;ve learnt to treat any <code>map</code> with more than two statements in it as a code smell. Better off to rewrite it as a <code>for</code> loop before new requirements find their way in the code :)"}, {"owner": {"reputation": 50468, "user_id": 1331451, "user_type": "registered", "accept_rate": 96, "profile_image": "https://i.stack.imgur.com/4ZPmj.png?s=128&g=1", "display_name": "simbabque", "link": "https://stackoverflow.com/users/1331451/simbabque"}, "edited": false, "score": 2, "creation_date": 1481036776, "post_id": 40998309, "comment_id": 69205517, "body": "I completely agree. But doing the Schwartzian transform in a loop is also very long. I think it&#39;s about finding a compromise between easy to read for beginners and not ugly to read for professionals. It really depends on what it is, but once in a while I&#39;d go with the shorter, more concise version and add an explanatory comment and then hope that the next guy (or future me) will learn something from that. :D"}, {"owner": {"reputation": 123805, "user_id": 622310, "user_type": "registered", "accept_rate": 33, "profile_image": "https://www.gravatar.com/avatar/8b6d35219e1808520bc238b28161e2e6?s=128&d=identicon&r=PG", "display_name": "Borodin", "link": "https://stackoverflow.com/users/622310/borodin"}, "edited": false, "score": 0, "creation_date": 1481041200, "post_id": 40998309, "comment_id": 69208728, "body": "I&#39;m unsurprised that you were downvoted. I don&#39;t think the OP&#39;s request to <i>&quot;use map to clean up this Perl code&quot;</i> needs to be obeyed. This code is tortuous, and your <i>&quot;I&#39;m not so sure I&#39;d use map for this&quot;</i> belongs right at the start of your post."}, {"owner": {"reputation": 34726, "user_id": 133939, "user_type": "registered", "accept_rate": 95, "profile_image": "https://i.stack.imgur.com/pN9C5.png?s=128&g=1", "display_name": "Zaid", "link": "https://stackoverflow.com/users/133939/zaid"}, "reply_to_user": {"reputation": 123805, "user_id": 622310, "user_type": "registered", "accept_rate": 33, "profile_image": "https://www.gravatar.com/avatar/8b6d35219e1808520bc238b28161e2e6?s=128&d=identicon&r=PG", "display_name": "Borodin", "link": "https://stackoverflow.com/users/622310/borodin"}, "edited": false, "score": 4, "creation_date": 1481041678, "post_id": 40998309, "comment_id": 69209048, "body": "@Borodin this answer isn&#39;t about giving the OP a fish, it&#39;s about teaching them how to fish. They thought that <code>map</code> would help and I wanted to walk them through why it may not be the magic bullet they think/thought it is/was. The <i>&quot;I&#39;m not so sure...&quot;</i> comment follows through on this train of thought, which is why it appears at the end as a conclusion."}, {"owner": {"reputation": 1488, "user_id": 6395052, "user_type": "registered", "accept_rate": 71, "profile_image": "https://lh6.googleusercontent.com/-XKoXECLm9OM/AAAAAAAAAAI/AAAAAAAAADw/PIOmJsiX89U/photo.jpg?sz=128", "display_name": "aschultz", "link": "https://stackoverflow.com/users/6395052/aschultz"}, "edited": false, "score": 2, "creation_date": 1481041799, "post_id": 40998309, "comment_id": 69209139, "body": "@Zaid I&#39;d be surprised at whoever downvoted your response too. I didn&#39;t know about Schwartzian transforms, and this was educational for me, and it&#39;s good to know that my original approach didn&#39;t need to be fancy S"}, {"owner": {"reputation": 123805, "user_id": 622310, "user_type": "registered", "accept_rate": 33, "profile_image": "https://www.gravatar.com/avatar/8b6d35219e1808520bc238b28161e2e6?s=128&d=identicon&r=PG", "display_name": "Borodin", "link": "https://stackoverflow.com/users/622310/borodin"}, "edited": false, "score": 0, "creation_date": 1481041802, "post_id": 40998309, "comment_id": 69209141, "body": "@Zaid: I&#39;m sorry, but it appears to be a genuine attempt to answer the OP&#39;s question, especially given the name-drop in the title. Your conclusion reads as a mild side comment."}, {"owner": {"reputation": 34726, "user_id": 133939, "user_type": "registered", "accept_rate": 95, "profile_image": "https://i.stack.imgur.com/pN9C5.png?s=128&g=1", "display_name": "Zaid", "link": "https://stackoverflow.com/users/133939/zaid"}, "reply_to_user": {"reputation": 123805, "user_id": 622310, "user_type": "registered", "accept_rate": 33, "profile_image": "https://www.gravatar.com/avatar/8b6d35219e1808520bc238b28161e2e6?s=128&d=identicon&r=PG", "display_name": "Borodin", "link": "https://stackoverflow.com/users/622310/borodin"}, "edited": false, "score": 6, "creation_date": 1481042659, "post_id": 40998309, "comment_id": 69209738, "body": "@Borodin 1) of course it&#39;s a genuine attempt at answering the question. Why would it be anything but that? 2) I encourage to to (re)read the <a href=\"http://stackoverflow.com/questions/40997876/how-can-i-use-map-to-clean-up-this-perl-code/40998309?noredirect=1#comment69209139_40998309\">OP&#39;s comment</a>. They appreciated that the <i>&quot;original approach [needn&#39;t] be fancy&quot;</i> 3) Schwartzian transforms can be a great idea if used appropriately"}], "tags": [], "owner": {"reputation": 34726, "user_id": 133939, "user_type": "registered", "accept_rate": 95, "profile_image": "https://i.stack.imgur.com/pN9C5.png?s=128&g=1", "display_name": "Zaid", "link": "https://stackoverflow.com/users/133939/zaid"}, "is_accepted": true, "score": 7, "last_activity_date": 1481078997, "last_edit_date": 1481078997, "creation_date": 1481036220, "answer_id": 40998309, "question_id": 40997876, "link": "https://stackoverflow.com/questions/40997876/how-can-i-use-map-to-clean-up-this-perl-code/40998309#40998309", "title": "How can I use map to clean up this Perl code?", "body": "<p><em>Since Perl promotes TIMTOWTDI, <code>map</code> may seem like an attractive option at first. Let's see how it fares for this task:</em></p>\n\n<hr>\n\n<h2>Schwartzian thought process</h2>\n\n<ol>\n<li><p>Since access to neighboring elements is necessary, it's convenient to work with the indices. Since for <code>n</code> elements, there are <code>n-1</code> pairs of neighbors, you don't have to loop <code>n</code> times. In this case, let's start with <code>1</code> instead of the usual <code>0</code>:</p>\n\n<pre><code>1 .. $#printy\n</code></pre></li>\n<li><p>One can access neighboring elements by calling the relevant indices inside <code>map</code>.</p>\n\n<pre><code>map { my $prev = $printy[$_-1]; my $curr = $printy[$_] } 1 .. $#printy;\n</code></pre>\n\n<p>An array slice expresses this more succinctly:</p>\n\n<pre><code>map { my ( $prev, $curr ) = @printy[$_-1,$_]; } 1 .. $#printy;\n</code></pre></li>\n<li><p>Let's introduce the real logic related to comparing numbers using the <code>num</code> subroutine:</p>\n\n<pre><code>map {\n       my ( $prev, $curr ) = @printy[$_-1,$_];\n       if ( num($curr) - num($prev) &gt; 1 ) {\n          \"$curr *\";\n       }\n       else {\n          $curr;\n       }\n    } 1 .. $#printy;\n</code></pre>\n\n<p>Which is equivalent to:</p>\n\n<pre><code>map {\n       my ( $prev, $curr ) = @printy[$_-1,$_];\n       $curr .= \" *\" if num($curr) - num($prev) &gt; 1;\n       $curr\n    } 1 .. $#printy;\n</code></pre></li>\n<li><p>Remember not to forget the first element:</p>\n\n<pre><code>@printy = ( $printy[0],\n            map {\n                   my ( $prev, $curr ) = @printy[$_-1,$_];\n                   $curr .= \" *\" if num($curr) - num($prev) &gt; 1;\n                   $curr\n                } 1 .. $#printy\n          );\n</code></pre></li>\n</ol>\n\n<hr>\n\n<p>Given the final result, I'm not so sure I'd use <code>map</code> for this:</p>\n\n<ul>\n<li>It's hard to read</li>\n<li>There's a lot going on</li>\n<li>The next person working on your code will love you</li>\n</ul>\n"}, {"comments": [{"owner": {"reputation": 1488, "user_id": 6395052, "user_type": "registered", "accept_rate": 71, "profile_image": "https://lh6.googleusercontent.com/-XKoXECLm9OM/AAAAAAAAAAI/AAAAAAAAADw/PIOmJsiX89U/photo.jpg?sz=128", "display_name": "aschultz", "link": "https://stackoverflow.com/users/6395052/aschultz"}, "edited": false, "score": 0, "creation_date": 1481041936, "post_id": 40999679, "comment_id": 69209240, "body": "I never thought of a hash. I was processing data I&#39;d already gotten. I use them extensively, but somehow it never struck me to use it here. Thanks for tipping off some other cleanup I can use for my original code."}, {"owner": {"reputation": 320771, "user_id": 589924, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/b2cf53d5a3d25f95c0db4e025aed4153?s=128&d=identicon&r=PG", "display_name": "ikegami", "link": "https://stackoverflow.com/users/589924/ikegami"}, "reply_to_user": {"reputation": 1488, "user_id": 6395052, "user_type": "registered", "accept_rate": 71, "profile_image": "https://lh6.googleusercontent.com/-XKoXECLm9OM/AAAAAAAAAAI/AAAAAAAAADw/PIOmJsiX89U/photo.jpg?sz=128", "display_name": "aschultz", "link": "https://stackoverflow.com/users/6395052/aschultz"}, "edited": false, "score": 1, "creation_date": 1481044215, "post_id": 40999679, "comment_id": 69210816, "body": "Added a solution that primarily uses <code>map</code>."}], "tags": [], "owner": {"reputation": 320771, "user_id": 589924, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/b2cf53d5a3d25f95c0db4e025aed4153?s=128&d=identicon&r=PG", "display_name": "ikegami", "link": "https://stackoverflow.com/users/589924/ikegami"}, "is_accepted": false, "score": 3, "last_activity_date": 1481052232, "last_edit_date": 1481052232, "creation_date": 1481040104, "answer_id": 40999679, "question_id": 40997876, "link": "https://stackoverflow.com/questions/40997876/how-can-i-use-map-to-clean-up-this-perl-code/40999679#40999679", "title": "How can I use map to clean up this Perl code?", "body": "<p>Your data yells \"Use a hash!\" to me.</p>\n\n<p>If we had a hash,</p>\n\n<pre><code>my %printy =\n   map { split / -&gt; / }\n      \"1 -&gt; this\", \"5 -&gt; that\", \"3 -&gt; the other\", \"6 -&gt; thus and such\";\n</code></pre>\n\n<p>The solution would simply be:</p>\n\n<pre><code>my @order = sort { $a &lt;=&gt; $b } keys(%printy); \nfor my $i (@order[1..$#order]) {\n   $printy{$i} .= ' *'\n      if !exists($printy{$i-1});\n}\n\nprint \"$_ -&gt; $printy{$_}\\n\"\n   for @order;\n</code></pre>\n\n<p>This can be golfed down, though I'm not sure it's worth it.</p>\n\n<pre><code>my $count;\nprint \"$_ -&gt; $printy{$_}\".( !$count++ || exists($printy{$_-1}) ? \"\" : \" *\" ).\"\\n\"\n   for\n      sort { $a &lt;=&gt; $b }\n         keys(%printy);\n</code></pre>\n\n<p>That <code>for</code> can be converted into a <code>map</code>, but it just makes it less efficient.</p>\n\n<pre><code>my $count;\nprint\n   map { \"$_ -&gt; $printy{$_}\".( !$count++ || exists($printy{$_-1}) ? \"\" : \" *\" ).\"\\n\" }\n      sort { $a &lt;=&gt; $b }\n         keys(%printy);\n</code></pre>\n"}, {"tags": [], "owner": {"reputation": 123805, "user_id": 622310, "user_type": "registered", "accept_rate": 33, "profile_image": "https://www.gravatar.com/avatar/8b6d35219e1808520bc238b28161e2e6?s=128&d=identicon&r=PG", "display_name": "Borodin", "link": "https://stackoverflow.com/users/622310/borodin"}, "is_accepted": false, "score": 0, "last_activity_date": 1481040661, "creation_date": 1481040661, "answer_id": 40999853, "question_id": 40997876, "link": "https://stackoverflow.com/questions/40997876/how-can-i-use-map-to-clean-up-this-perl-code/40999853#40999853", "title": "How can I use map to clean up this Perl code?", "body": "\n\n<p>I'm sorry, but your code is a shambles, and you need to do much more than <em>use <code>map</code> to clean up this code</em></p>\n\n<p>You have <em>no indentation</em> and multiple statements on a single line, and you haven't thought through your logic. Your code is unmaintainable</p>\n\n<p>Here's how I would write this. It builds a parallel array of IDs, and then sorts a list of indices so that both the IDs and the original data are in order</p>\n\n<p>If it makes you happier, it does include <code>map</code></p>\n\n<pre class=\"lang-perl prettyprint-override\"><code>use strict;\nuse warnings 'all';\n\nmy @data = ( '1 -&gt; this', '5 -&gt; that', '3 -&gt; the other', '6 -&gt; thus and such' );\n\nmy @ids = map { /(\\d+)/ } @data;\n\nmy @indexes = sort { $ids[$a] &lt;=&gt; $ids[$b] } 0 .. $#ids;\n\nmy $last_id;\n\nfor my $i ( @indexes ) {\n\n    print $data[$i];\n    print ' *' if defined $last_id and $ids[$i] &gt; $last_id + 1;\n    print \"\\n\";\n\n    $last_id = $ids[$i];\n}\n</code></pre>\n\n<h3>output</h3>\n\n<pre class=\"lang-none prettyprint-override\"><code>1 -&gt; this\n3 -&gt; the other *\n5 -&gt; that *\n6 -&gt; thus and such\n</code></pre>\n"}, {"comments": [{"owner": {"reputation": 53041, "user_id": 4653379, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/b3953dbedd0dabff5cbc3db9b0835b14?s=128&d=identicon&r=PG&f=1", "display_name": "zdim", "link": "https://stackoverflow.com/users/4653379/zdim"}, "edited": false, "score": 0, "creation_date": 1481052332, "post_id": 41003117, "comment_id": 69215246, "body": "@ikegami Thank you -- it&#39;s funny how it works for the first element (and too tricky) ..."}, {"owner": {"reputation": 320771, "user_id": 589924, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/b2cf53d5a3d25f95c0db4e025aed4153?s=128&d=identicon&r=PG", "display_name": "ikegami", "link": "https://stackoverflow.com/users/589924/ikegami"}, "edited": false, "score": 0, "creation_date": 1481052389, "post_id": 41003117, "comment_id": 69215282, "body": "Yeah, was just looking at that. When <code>$_ == 0</code>, <code>$nums[$_] == $nums[$_-1] + 1</code> is <code>$nums[0] == $nums[-1] + 1</code>, which will invariably be false as desired. Tricky (unobvious) indeed!"}, {"owner": {"reputation": 53041, "user_id": 4653379, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/b3953dbedd0dabff5cbc3db9b0835b14?s=128&d=identicon&r=PG&f=1", "display_name": "zdim", "link": "https://stackoverflow.com/users/4653379/zdim"}, "reply_to_user": {"reputation": 320771, "user_id": 589924, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/b2cf53d5a3d25f95c0db4e025aed4153?s=128&d=identicon&r=PG", "display_name": "ikegami", "link": "https://stackoverflow.com/users/589924/ikegami"}, "edited": false, "score": 0, "creation_date": 1481052449, "post_id": 41003117, "comment_id": 69215312, "body": "Right, it&#39;s interesting, I added a note.  Hardly code to recommend though."}, {"owner": {"reputation": 320771, "user_id": 589924, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/b2cf53d5a3d25f95c0db4e025aed4153?s=128&d=identicon&r=PG", "display_name": "ikegami", "link": "https://stackoverflow.com/users/589924/ikegami"}, "edited": false, "score": 0, "creation_date": 1481052506, "post_id": 41003117, "comment_id": 69215340, "body": "Nothing a comment (<code># This will invariably be false for $_ == 0.</code>) can&#39;t fix!"}, {"owner": {"reputation": 53041, "user_id": 4653379, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/b3953dbedd0dabff5cbc3db9b0835b14?s=128&d=identicon&r=PG&f=1", "display_name": "zdim", "link": "https://stackoverflow.com/users/4653379/zdim"}, "reply_to_user": {"reputation": 320771, "user_id": 589924, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/b2cf53d5a3d25f95c0db4e025aed4153?s=128&d=identicon&r=PG", "display_name": "ikegami", "link": "https://stackoverflow.com/users/589924/ikegami"}, "edited": false, "score": 0, "creation_date": 1481052668, "post_id": 41003117, "comment_id": 69215445, "body": "@ikegami  Right! A very reasonable solution since the code itself is cleaner.  I&#39;ll add that, thank you :)"}, {"owner": {"reputation": 34726, "user_id": 133939, "user_type": "registered", "accept_rate": 95, "profile_image": "https://i.stack.imgur.com/pN9C5.png?s=128&g=1", "display_name": "Zaid", "link": "https://stackoverflow.com/users/133939/zaid"}, "edited": false, "score": 0, "creation_date": 1481061859, "post_id": 41003117, "comment_id": 69220153, "body": "Diabolical, yet elegant. I approve :)"}], "tags": [], "owner": {"reputation": 53041, "user_id": 4653379, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/b3953dbedd0dabff5cbc3db9b0835b14?s=128&d=identicon&r=PG&f=1", "display_name": "zdim", "link": "https://stackoverflow.com/users/4653379/zdim"}, "is_accepted": false, "score": 2, "last_activity_date": 1490943894, "last_edit_date": 1490943894, "creation_date": 1481051842, "answer_id": 41003117, "question_id": 40997876, "link": "https://stackoverflow.com/questions/40997876/how-can-i-use-map-to-clean-up-this-perl-code/41003117#41003117", "title": "How can I use map to clean up this Perl code?", "body": "<p>I'd also advise to clean up the code and keep the loop. However, here is a <code>map</code> based way.</p>\n\n<p>The code uses your sorted <code>@printy</code> and the <code>num</code> sub.</p>\n\n<pre><code>my @nums = map { num($_) } @printy;\n\nmy @res = map { \n    $nums[$_] == $nums[$_-1] + 1              # invariably false for $_ == 0\n        ? $printy[$_] : $printy[$_] .= ' *'; \n}\n(0..$#printy);\n\nsay for @res;\n</code></pre>\n\n<p>This works for the first element since it does not come after the last, given that we're sorted. That may be a bit diabolical though and it needs a comment in code. So perhaps better spell it out</p>\n\n<pre><code>my @res = map { \n    ($nums[$_] == $nums[$_-1] + 1) ? $printy[$_] : $printy[$_] .= ' *'; \n}\n(1..$#printy);\nunshift @res, $printy[0];\n</code></pre>\n\n<p>Not as clean but clear.</p>\n\n<p>All this does extra work when compared to a straight loop, of course. </p>\n"}], "owner": {"reputation": 1488, "user_id": 6395052, "user_type": "registered", "accept_rate": 71, "profile_image": "https://lh6.googleusercontent.com/-XKoXECLm9OM/AAAAAAAAAAI/AAAAAAAAADw/PIOmJsiX89U/photo.jpg?sz=128", "display_name": "aschultz", "link": "https://stackoverflow.com/users/6395052/aschultz"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 140, "favorite_count": 0, "accepted_answer_id": 40998309, "answer_count": 6, "score": 2, "last_activity_date": 1490943894, "creation_date": 1481034993, "last_edit_date": 1481042601, "question_id": 40997876, "link": "https://stackoverflow.com/questions/40997876/how-can-i-use-map-to-clean-up-this-perl-code", "title": "How can I use map to clean up this Perl code?", "body": "<p>The code below does what I want it to. It prints the list and adds an asterisk at the end of lines that are not sequential, e.g. if you skip from 1 to 3 or 3 to 5.</p>\n\n<pre><code>use strict;\nuse warnings;\n#note: thanks to all who helped with formatting issues.\n\n#note: I recognize a hash would be a much better option for what I want to do.\nmy @printy = (\"1 -&gt; this\",\n  \"5 -&gt; that\",\n  \"3 -&gt; the other\",\n  \"6 -&gt; thus and such\");\n@printy = sort {num($a) &lt;=&gt; num($b)} @printy;\n\nmy $thisID = 0;\nmy $lastID = 0; \n\n#print out (line)* if initial number is &gt;1 more than previous, or just (line) otherwise\nfor (@printy)\n{ \n$thisID = $_; $thisID =~s/ .*//g;\nif ($thisID - $lastID != 1) { $_ =~ s/$/ \\*/; }\n$lastID = $thisID;\n}\nprint join(\"\\n\", @printy) . \"\\n\";\n\nsub num\n{\n  my $x = $_[0];\n  $x =~ s/ .*//;\n  return $x;\n}\n</code></pre>\n\n<p>But I think I can do better. It feels tangled, and my intuition tells me I'm missing something powerful that could do the job more easily, one that takes maybe two lines.</p>\n\n<p>Now I've used the <code>map()</code> command before, but only to look at/modify an element, not how it compares to a previous element. Can anyone recommend a way to make this more succinct? Thanks!</p>\n"}, {"tags": ["perl", "phantomjs", "mechanize", "www-mechanize"], "answers": [{"tags": [], "owner": {"reputation": 51, "user_id": 1453914, "user_type": "registered", "accept_rate": 0, "profile_image": "https://www.gravatar.com/avatar/d5d90ca4050b8c2c973b7701b60afc65?s=128&d=identicon&r=PG", "display_name": "Kamil Hajduk", "link": "https://stackoverflow.com/users/1453914/kamil-hajduk"}, "is_accepted": false, "score": 0, "last_activity_date": 1540402882, "last_edit_date": 1540402882, "creation_date": 1498741648, "answer_id": 44826045, "question_id": 40997485, "link": "https://stackoverflow.com/questions/40997485/basic-form-methods-in-wwwmechanize-not-working-in-wwwmechanizephantomjs/44826045#44826045", "title": "basic form methods in WWW::Mechanize not working in WWW::Mechanize::PhantomJS", "body": "<p>You should dump this scalar with Data::Dumper, use code below and paste returned text from terminal.</p>\n\n<pre><code>my @form = $mech-&gt;form_number(1);\nforeach my $sum_form ( @form ){\n    use Data::Dumper;\n    print Dumper $sum_form;\n}\n</code></pre>\n"}], "owner": {"reputation": 542, "user_id": 5195778, "user_type": "registered", "accept_rate": 0, "profile_image": "https://www.gravatar.com/avatar/76625f2105397904d15891d665a9a2fc?s=128&d=identicon&r=PG&f=1", "display_name": "JOhnlw009a", "link": "https://stackoverflow.com/users/5195778/johnlw009a"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 91, "favorite_count": 0, "answer_count": 1, "score": 0, "last_activity_date": 1540402882, "creation_date": 1481033813, "question_id": 40997485, "link": "https://stackoverflow.com/questions/40997485/basic-form-methods-in-wwwmechanize-not-working-in-wwwmechanizephantomjs", "title": "basic form methods in WWW::Mechanize not working in WWW::Mechanize::PhantomJS", "body": "<p>Using form methods in WWW::Mechanize like</p>\n\n<pre><code>    my @form = $mech-&gt;form_number(1);\n    foreach my $sum_form ( @form ) {\n        my @inputfields = $sum_form-&gt;param;\n         \u2026\n     }\n</code></pre>\n\n<p>works fine so far. Using WWW::Mechanize::PhantomJS, I get an error like</p>\n\n<pre><code>Can't locate object method \"param\" via package \"Selenium::Remote::WebElement\" at...\n</code></pre>\n\n<p>The form methods in WWW::Mechanize should be the same in WWW::Mechanize::PhantomJS, right? Does anybody know who to solve that issue here?</p>\n"}, {"tags": ["perl", "selenium", "phantomjs"], "comments": [{"owner": {"reputation": 123805, "user_id": 622310, "user_type": "registered", "accept_rate": 33, "profile_image": "https://www.gravatar.com/avatar/8b6d35219e1808520bc238b28161e2e6?s=128&d=identicon&r=PG", "display_name": "Borodin", "link": "https://stackoverflow.com/users/622310/borodin"}, "edited": false, "score": 0, "creation_date": 1481026053, "post_id": 40994895, "comment_id": 69198383, "body": "So you have abandoned ChromeDriver in favour of PhantomJS just to get your process to run in the background?"}, {"owner": {"reputation": 588, "user_id": 6897492, "user_type": "registered", "accept_rate": 56, "profile_image": "https://www.gravatar.com/avatar/d50889f9fb83f9a62eaec9df63aeb726?s=128&d=identicon&r=PG&f=1", "display_name": "Mohit", "link": "https://stackoverflow.com/users/6897492/mohit"}, "reply_to_user": {"reputation": 123805, "user_id": 622310, "user_type": "registered", "accept_rate": 33, "profile_image": "https://www.gravatar.com/avatar/8b6d35219e1808520bc238b28161e2e6?s=128&d=identicon&r=PG", "display_name": "Borodin", "link": "https://stackoverflow.com/users/622310/borodin"}, "edited": false, "score": 0, "creation_date": 1481031874, "post_id": 40994895, "comment_id": 69202237, "body": "Yeah cause the scripts will be deployed on a server and clients want that script must run in background."}, {"owner": {"reputation": 123805, "user_id": 622310, "user_type": "registered", "accept_rate": 33, "profile_image": "https://www.gravatar.com/avatar/8b6d35219e1808520bc238b28161e2e6?s=128&d=identicon&r=PG", "display_name": "Borodin", "link": "https://stackoverflow.com/users/622310/borodin"}, "edited": false, "score": 0, "creation_date": 1481034396, "post_id": 40994895, "comment_id": 69203844, "body": "So you don&#39;t think you can run a script involving ChomeDriver as a background process?"}, {"owner": {"reputation": 588, "user_id": 6897492, "user_type": "registered", "accept_rate": 56, "profile_image": "https://www.gravatar.com/avatar/d50889f9fb83f9a62eaec9df63aeb726?s=128&d=identicon&r=PG&f=1", "display_name": "Mohit", "link": "https://stackoverflow.com/users/6897492/mohit"}, "reply_to_user": {"reputation": 123805, "user_id": 622310, "user_type": "registered", "accept_rate": 33, "profile_image": "https://www.gravatar.com/avatar/8b6d35219e1808520bc238b28161e2e6?s=128&d=identicon&r=PG", "display_name": "Borodin", "link": "https://stackoverflow.com/users/622310/borodin"}, "edited": false, "score": 0, "creation_date": 1481090901, "post_id": 40994895, "comment_id": 69228769, "body": "Sorry, but I did not get any way to make ChromeDriver hide the chrome browser window during execution."}, {"owner": {"reputation": 335, "user_id": 6665383, "user_type": "registered", "profile_image": "https://lh4.googleusercontent.com/-MVEE-7g_i5c/AAAAAAAAAAI/AAAAAAAADpU/_CP1fJ1LVhU/photo.jpg?sz=128", "display_name": "Nathan Loyer", "link": "https://stackoverflow.com/users/6665383/nathan-loyer"}, "edited": false, "score": 0, "creation_date": 1481098581, "post_id": 40994895, "comment_id": 69232174, "body": "IIRC you are right that you can&#39;t use the ChromeDriver in the background. Can you update with the errors you are getting trying to run with PhantomJS?"}, {"owner": {"reputation": 588, "user_id": 6897492, "user_type": "registered", "accept_rate": 56, "profile_image": "https://www.gravatar.com/avatar/d50889f9fb83f9a62eaec9df63aeb726?s=128&d=identicon&r=PG&f=1", "display_name": "Mohit", "link": "https://stackoverflow.com/users/6897492/mohit"}, "edited": false, "score": 0, "creation_date": 1481104705, "post_id": 40994895, "comment_id": 69236055, "body": "I am trying to login to a site and using PhantomJS it is throwing error -Error while executing command: clickElement: An operation did not complete before its timeout expired."}, {"owner": {"reputation": 335, "user_id": 6665383, "user_type": "registered", "profile_image": "https://lh4.googleusercontent.com/-MVEE-7g_i5c/AAAAAAAAAAI/AAAAAAAADpU/_CP1fJ1LVhU/photo.jpg?sz=128", "display_name": "Nathan Loyer", "link": "https://stackoverflow.com/users/6665383/nathan-loyer"}, "edited": false, "score": 0, "creation_date": 1481124759, "post_id": 40994895, "comment_id": 69249823, "body": "Are you sure this isn&#39;t an issue with the web site you are attempting to interact with?  Have you tried interacting with a different web site?"}, {"owner": {"reputation": 335, "user_id": 6665383, "user_type": "registered", "profile_image": "https://lh4.googleusercontent.com/-MVEE-7g_i5c/AAAAAAAAAAI/AAAAAAAADpU/_CP1fJ1LVhU/photo.jpg?sz=128", "display_name": "Nathan Loyer", "link": "https://stackoverflow.com/users/6665383/nathan-loyer"}, "edited": false, "score": 0, "creation_date": 1481125469, "post_id": 40994895, "comment_id": 69250354, "body": "Also, if you post your code it would help."}, {"owner": {"reputation": 123805, "user_id": 622310, "user_type": "registered", "accept_rate": 33, "profile_image": "https://www.gravatar.com/avatar/8b6d35219e1808520bc238b28161e2e6?s=128&d=identicon&r=PG", "display_name": "Borodin", "link": "https://stackoverflow.com/users/622310/borodin"}, "edited": false, "score": 0, "creation_date": 1481151007, "post_id": 40994895, "comment_id": 69265053, "body": "Are you misunderstanding what <i>background</i> means? If you simply don&#39;t want the Chrome window displayed then close the window. That is completely different from running a <i>background</i> process which usually has no parent process and runs at a low priority. There is no reason why a background process shouldn&#39;t have a GUI window, but it is unusual."}, {"owner": {"reputation": 588, "user_id": 6897492, "user_type": "registered", "accept_rate": 56, "profile_image": "https://www.gravatar.com/avatar/d50889f9fb83f9a62eaec9df63aeb726?s=128&d=identicon&r=PG&f=1", "display_name": "Mohit", "link": "https://stackoverflow.com/users/6897492/mohit"}, "reply_to_user": {"reputation": 123805, "user_id": 622310, "user_type": "registered", "accept_rate": 33, "profile_image": "https://www.gravatar.com/avatar/8b6d35219e1808520bc238b28161e2e6?s=128&d=identicon&r=PG", "display_name": "Borodin", "link": "https://stackoverflow.com/users/622310/borodin"}, "edited": false, "score": 0, "creation_date": 1481521063, "post_id": 40994895, "comment_id": 69394190, "body": "@Borodin If I close the browser window will my task of site interaction not stop??"}, {"owner": {"reputation": 123805, "user_id": 622310, "user_type": "registered", "accept_rate": 33, "profile_image": "https://www.gravatar.com/avatar/8b6d35219e1808520bc238b28161e2e6?s=128&d=identicon&r=PG", "display_name": "Borodin", "link": "https://stackoverflow.com/users/622310/borodin"}, "edited": false, "score": 0, "creation_date": 1481549788, "post_id": 40994895, "comment_id": 69408252, "body": "@Mohit: I&#39;m sorry, I should have said <i>minimise</i> the window."}, {"owner": {"reputation": 588, "user_id": 6897492, "user_type": "registered", "accept_rate": 56, "profile_image": "https://www.gravatar.com/avatar/d50889f9fb83f9a62eaec9df63aeb726?s=128&d=identicon&r=PG&f=1", "display_name": "Mohit", "link": "https://stackoverflow.com/users/6897492/mohit"}, "reply_to_user": {"reputation": 123805, "user_id": 622310, "user_type": "registered", "accept_rate": 33, "profile_image": "https://www.gravatar.com/avatar/8b6d35219e1808520bc238b28161e2e6?s=128&d=identicon&r=PG", "display_name": "Borodin", "link": "https://stackoverflow.com/users/622310/borodin"}, "edited": false, "score": 0, "creation_date": 1481871356, "post_id": 40994895, "comment_id": 69557744, "body": "@Borodin there is a {maximize_window} function in <a href=\"https://metacpan.org/pod/Selenium::Remote::Driver\" rel=\"nofollow noreferrer\">Selenium::Remote::Driver</a> but no function to minimize the window"}, {"owner": {"reputation": 123805, "user_id": 622310, "user_type": "registered", "accept_rate": 33, "profile_image": "https://www.gravatar.com/avatar/8b6d35219e1808520bc238b28161e2e6?s=128&d=identicon&r=PG", "display_name": "Borodin", "link": "https://stackoverflow.com/users/622310/borodin"}, "edited": false, "score": 0, "creation_date": 1481880253, "post_id": 40994895, "comment_id": 69561866, "body": "@Mohit: You&#39;re right, that&#39;s very odd. An alternative would be to <code>set_window_position(-2000, 0)</code> to move the window out of sight off the screen, or you could use <code>capture_screenshot(&#39;filename.png&#39;)</code> with PhantomJS to save the contents of the window when the error occurs."}], "answers": [{"comments": [{"owner": {"reputation": 588, "user_id": 6897492, "user_type": "registered", "accept_rate": 56, "profile_image": "https://www.gravatar.com/avatar/d50889f9fb83f9a62eaec9df63aeb726?s=128&d=identicon&r=PG&f=1", "display_name": "Mohit", "link": "https://stackoverflow.com/users/6897492/mohit"}, "edited": false, "score": 0, "creation_date": 1481090843, "post_id": 41005479, "comment_id": 69228741, "body": "The Server will we Windows Server and how to run PhantomJS on foreground, will I be able to see the script execution in a browser window for PhantomJS ?"}, {"owner": {"reputation": 2514, "user_id": 6004650, "user_type": "registered", "accept_rate": 80, "profile_image": "https://www.gravatar.com/avatar/668db278c31bc9040a9dea1b77b4ddd4?s=128&d=identicon&r=PG&f=1", "display_name": "MikeJRamsey56", "link": "https://stackoverflow.com/users/6004650/mikejramsey56"}, "reply_to_user": {"reputation": 588, "user_id": 6897492, "user_type": "registered", "accept_rate": 56, "profile_image": "https://www.gravatar.com/avatar/d50889f9fb83f9a62eaec9df63aeb726?s=128&d=identicon&r=PG&f=1", "display_name": "Mohit", "link": "https://stackoverflow.com/users/6897492/mohit"}, "edited": false, "score": 1, "creation_date": 1481092477, "post_id": 41005479, "comment_id": 69229348, "body": "If I understand your question no.  Headless is headless. Clients have displays and hence browsers. Servers do not have displays (in general) so you have to run headless.  Just run selenium the way you always run it just point to phantomJS as your browser.  You can watch the log (console) but no physical displayed browser. That is why they call it headless."}, {"owner": {"reputation": 2514, "user_id": 6004650, "user_type": "registered", "accept_rate": 80, "profile_image": "https://www.gravatar.com/avatar/668db278c31bc9040a9dea1b77b4ddd4?s=128&d=identicon&r=PG&f=1", "display_name": "MikeJRamsey56", "link": "https://stackoverflow.com/users/6004650/mikejramsey56"}, "reply_to_user": {"reputation": 588, "user_id": 6897492, "user_type": "registered", "accept_rate": 56, "profile_image": "https://www.gravatar.com/avatar/d50889f9fb83f9a62eaec9df63aeb726?s=128&d=identicon&r=PG&f=1", "display_name": "Mohit", "link": "https://stackoverflow.com/users/6897492/mohit"}, "edited": false, "score": 0, "creation_date": 1481134478, "post_id": 41005479, "comment_id": 69256119, "body": "My rule of thumb is to debug locally using chromedriver then run on the continuous Integration (CI) server using phantomJS, SauceLabs, BrowserStack, or some combination there of. It is fine to run PhantomJS locally its just that you cannot see what the browser is displaying. In rare instances, the app uses JavaScript that PhantomJS can&#39;t support. For that client I used chromedriver coupled with XVFB on the <b>Linux</b> CI server."}, {"owner": {"reputation": 588, "user_id": 6897492, "user_type": "registered", "accept_rate": 56, "profile_image": "https://www.gravatar.com/avatar/d50889f9fb83f9a62eaec9df63aeb726?s=128&d=identicon&r=PG&f=1", "display_name": "Mohit", "link": "https://stackoverflow.com/users/6897492/mohit"}, "edited": false, "score": 0, "creation_date": 1481288730, "post_id": 41005479, "comment_id": 69328684, "body": "My code is working smoothly in Chrome but giving error when switching to PhantomJS"}, {"owner": {"reputation": 2514, "user_id": 6004650, "user_type": "registered", "accept_rate": 80, "profile_image": "https://www.gravatar.com/avatar/668db278c31bc9040a9dea1b77b4ddd4?s=128&d=identicon&r=PG&f=1", "display_name": "MikeJRamsey56", "link": "https://stackoverflow.com/users/6004650/mikejramsey56"}, "reply_to_user": {"reputation": 588, "user_id": 6897492, "user_type": "registered", "accept_rate": 56, "profile_image": "https://www.gravatar.com/avatar/d50889f9fb83f9a62eaec9df63aeb726?s=128&d=identicon&r=PG&f=1", "display_name": "Mohit", "link": "https://stackoverflow.com/users/6897492/mohit"}, "edited": false, "score": 0, "creation_date": 1481294779, "post_id": 41005479, "comment_id": 69332801, "body": "What error? See <a href=\"http://stackoverflow.com/help/mcve\">How to create a Minimal, Complete, and Verifiable example</a>."}], "tags": [], "owner": {"reputation": 2514, "user_id": 6004650, "user_type": "registered", "accept_rate": 80, "profile_image": "https://www.gravatar.com/avatar/668db278c31bc9040a9dea1b77b4ddd4?s=128&d=identicon&r=PG&f=1", "display_name": "MikeJRamsey56", "link": "https://stackoverflow.com/users/6004650/mikejramsey56"}, "is_accepted": false, "score": 1, "last_activity_date": 1481066639, "last_edit_date": 1481066639, "creation_date": 1481060633, "answer_id": 41005479, "question_id": 40994895, "link": "https://stackoverflow.com/questions/40994895/executing-script-in-background-using-selenium-and-phantomjs/41005479#41005479", "title": "Executing script in background using Selenium and PhantomJS", "body": "<p>Try running PhantomJS in the foreground.  To run on a server you need a headless browser like PhantomJS.  PhantomJS is headless when run either foreground or background. :-) If your server is linux you can still run chromedriver on the server but you will need <a href=\"https://gist.github.com/addyosmani/5336747\" rel=\"nofollow noreferrer\">XVFB</a>.</p>\n"}], "owner": {"reputation": 588, "user_id": 6897492, "user_type": "registered", "accept_rate": 56, "profile_image": "https://www.gravatar.com/avatar/d50889f9fb83f9a62eaec9df63aeb726?s=128&d=identicon&r=PG&f=1", "display_name": "Mohit", "link": "https://stackoverflow.com/users/6897492/mohit"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 504, "favorite_count": 0, "answer_count": 1, "score": 0, "last_activity_date": 1481066639, "creation_date": 1481025595, "last_edit_date": 1481032136, "question_id": 40994895, "link": "https://stackoverflow.com/questions/40994895/executing-script-in-background-using-selenium-and-phantomjs", "title": "Executing script in background using Selenium and PhantomJS", "body": "<p>I am currently using <a href=\"https://sites.google.com/a/chromium.org/chromedriver/\" rel=\"nofollow noreferrer\"><strong>ChromeDriver</strong></a> for some <a href=\"https://metacpan.org/pod/Selenium::Chrome\" rel=\"nofollow noreferrer\">Selenium::Chrome</a> automation scripts.</p>\n\n<p>I can find no way to run that as a background process.</p>\n\n<p>I tried using <a href=\"https://metacpan.org/pod/Selenium::PhantomJS\" rel=\"nofollow noreferrer\">Selenium::PhantomJS</a> module and <a href=\"http://phantomjs.org/\" rel=\"nofollow noreferrer\"><strong>PhantomJS</strong></a> WebDriver but it is throwing some error. Since I cannot see the execution, how can I know where the problem occurred?</p>\n\n<blockquote>\n  <p>Is there any setting to see the execution of PhantomJS?</p>\n</blockquote>\n"}, {"tags": ["apache", "perl", "configuration"], "answers": [{"tags": [], "owner": {"reputation": 5334, "user_id": 5830574, "user_type": "registered", "accept_rate": 93, "profile_image": "https://i.stack.imgur.com/kCmqs.png?s=128&g=1", "display_name": "PerlDuck", "link": "https://stackoverflow.com/users/5830574/perlduck"}, "is_accepted": true, "score": 10, "last_activity_date": 1481024691, "last_edit_date": 1481024691, "creation_date": 1481022045, "answer_id": 40993734, "question_id": 40993022, "link": "https://stackoverflow.com/questions/40993022/what-does-a2ensite-do-apart-from-creating-a-symlink/40993734#40993734", "title": "What does a2ensite do apart from creating a symlink?", "body": "\n\n<p>Actually </p>\n\n<ul>\n<li><code>a2enconf</code></li>\n<li><code>a2disconf</code></li>\n<li><code>a2dismod</code></li>\n<li><code>a2ensite</code></li>\n<li><code>a2dissite</code></li>\n</ul>\n\n<p>are all only symlinks to <code>a2enmod</code>:</p>\n\n<pre class=\"lang-none prettyprint-override\"><code>$ /usr/sbin$ ll -d a2*\nlrwxrwxrwx 1 root root       7 Jul 15 17:33 a2disconf -&gt; a2enmod\nlrwxrwxrwx 1 root root       7 Jul 15 17:33 a2dismod -&gt; a2enmod\nlrwxrwxrwx 1 root root       7 Jul 15 17:33 a2dissite -&gt; a2enmod\nlrwxrwxrwx 1 root root       7 Jul 15 17:33 a2enconf -&gt; a2enmod\n-rwxr-xr-x 1 root root   15424 Apr  5  2016 a2enmod\nlrwxrwxrwx 1 root root       7 Jul 15 17:33 a2ensite -&gt; a2enmod\n-rwxr-xr-x 1 root root    9870 Jul 15 17:33 a2query\n</code></pre>\n\n<p>and <code>a2enmod</code> implements the functionality of all six of them in one script.\nIt decides what to do depending on <code>$0</code> (i.e. the name the script was called with).</p>\n\n<p>That's probably the reason why it's more complicated than a simple <code>ln -s</code>.</p>\n"}], "owner": {"reputation": 38454, "user_id": 1650012, "user_type": "registered", "accept_rate": 67, "profile_image": "https://www.gravatar.com/avatar/a21bc05bb7df4e5c3cb4933e4f3072eb?s=128&d=identicon&r=PG", "display_name": "kramer65", "link": "https://stackoverflow.com/users/1650012/kramer65"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 1674, "favorite_count": 0, "accepted_answer_id": 40993734, "answer_count": 1, "score": 4, "last_activity_date": 1482868119, "creation_date": 1481019948, "last_edit_date": 1482868119, "question_id": 40993022, "link": "https://stackoverflow.com/questions/40993022/what-does-a2ensite-do-apart-from-creating-a-symlink", "title": "What does a2ensite do apart from creating a symlink?", "body": "<p>I regularly use <code>a2ensite</code> and <code>a2dissite</code> to enable and disable sites in Apache. As far as I know it does little more than simply creating a symlink from <code>/etc/apache2/sites-enabled</code> to <code>/etc/apache2/sites-available</code>. I can also do it manually, but because it saves me typing a few characters I use these shortcuts.</p>\n\n<p>I just did a <code>cat /usr/sbin/a2ensite</code>, and to my surprise it's quite an elaborate program. According to the <a href=\"http://man.he.net/man8/a2ensite\" rel=\"nofollow noreferrer\">man pages</a>, it does little more than enabling sites though. I briefly looked over the (Perl) source code, but even though it's a lot of code I don't really understand what it does more than simply creating a symlink.</p>\n\n<p>Why does it need so much code to simply create a symlink? What am I missing here?</p>\n"}, {"tags": ["regex", "perl"], "comments": [{"owner": {"reputation": 123805, "user_id": 622310, "user_type": "registered", "accept_rate": 33, "profile_image": "https://www.gravatar.com/avatar/8b6d35219e1808520bc238b28161e2e6?s=128&d=identicon&r=PG", "display_name": "Borodin", "link": "https://stackoverflow.com/users/622310/borodin"}, "edited": false, "score": 0, "creation_date": 1481022885, "post_id": 40992006, "comment_id": 69196509, "body": "I don&#39;t believe this question deserves what are presumably <i>it&#39;s obvious</i> downvotes. I admit that it seems likely that this isn&#39;t the OP&#39;s code because it uses the <i>expression</i> (<code>&#47;e</code>) modifier intelligently, which doesn&#39;t square with missing the point that <code>6</code> isn&#39;t matched by <code>\\d{2}</code>, but we all overlook the obvious from time to time."}], "answers": [{"tags": [], "owner": {"reputation": 198290, "user_id": 1030675, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/957956ce51706d03f19a4dc85a767bb1?s=128&d=identicon&r=PG", "display_name": "choroba", "link": "https://stackoverflow.com/users/1030675/choroba"}, "is_accepted": true, "score": 1, "last_activity_date": 1481017195, "creation_date": 1481017195, "answer_id": 40992130, "question_id": 40992006, "link": "https://stackoverflow.com/questions/40992006/substitute-the-second-occurrence-of-a-date-string/40992130#40992130", "title": "Substitute the second occurrence of a date string", "body": "<p>The digits are not always two, there can be only one:</p>\n\n<pre><code>/(\\(\\d{1,2}\\.\\d{1,2}\\.\\d{4}\\))/\n</code></pre>\n\n<p>or, shorter</p>\n\n<pre><code>/(\\(\\d\\d?\\.\\d\\d?\\.\\d{4}\\))/\n</code></pre>\n"}], "owner": {"reputation": 13, "user_id": 6373452, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/019a7276d1b936d4ccb0be80b5c7b929?s=128&d=identicon&r=PG&f=1", "display_name": "mypatek1", "link": "https://stackoverflow.com/users/6373452/mypatek1"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 45, "favorite_count": 0, "accepted_answer_id": 40992130, "answer_count": 1, "score": -1, "last_activity_date": 1481022998, "creation_date": 1481016819, "last_edit_date": 1481022998, "question_id": 40992006, "link": "https://stackoverflow.com/questions/40992006/substitute-the-second-occurrence-of-a-date-string", "title": "Substitute the second occurrence of a date string", "body": "<p>The <em>second</em> occurrence of a date in round brackets, likie <code>(6.12.2016)</code>, should be replaced with empty round brackets <code>()</code></p>\n\n<p>I tried the following:</p>\n\n<pre><code>my $dateoccurence = 2;\n\n$content =~ s/(\\(\\d{2}\\.\\d{2}\\.\\d{4}\\))/ --$dateoccurence == 0 ? \"()\" : $1 /ge;\n</code></pre>\n"}, {"tags": ["perl"], "comments": [{"owner": {"reputation": 53041, "user_id": 4653379, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/b3953dbedd0dabff5cbc3db9b0835b14?s=128&d=identicon&r=PG&f=1", "display_name": "zdim", "link": "https://stackoverflow.com/users/4653379/zdim"}, "edited": false, "score": 2, "creation_date": 1481010129, "post_id": 40988941, "comment_id": 69188990, "body": "I edited your question. Please don&#39;t say &quot;<i>Please help</i>&quot; and such.  You have asked by posting a question."}, {"owner": {"reputation": 25491, "user_id": 49197, "user_type": "registered", "accept_rate": 75, "profile_image": "https://www.gravatar.com/avatar/15ebf24a33a29b9efbf9924f530dd736?s=128&d=identicon&r=PG", "display_name": "Hynek -Pichi- Vychodil", "link": "https://stackoverflow.com/users/49197/hynek-pichi-vychodil"}, "edited": false, "score": 0, "creation_date": 1481014810, "post_id": 40988941, "comment_id": 69191369, "body": "Put expected output in your question. I don&#39;t see how  <i>first</i> and <i>second</i> amounts are separated in your input data except for the second line."}, {"owner": {"reputation": 25491, "user_id": 49197, "user_type": "registered", "accept_rate": 75, "profile_image": "https://www.gravatar.com/avatar/15ebf24a33a29b9efbf9924f530dd736?s=128&d=identicon&r=PG", "display_name": "Hynek -Pichi- Vychodil", "link": "https://stackoverflow.com/users/49197/hynek-pichi-vychodil"}, "edited": false, "score": 0, "creation_date": 1481015367, "post_id": 40988941, "comment_id": 69191702, "body": "Look at <a href=\"https://stackoverflow.com/help/minimal-reproducible-example\">minimal reproducible example</a> for more info how to ask."}], "answers": [{"comments": [{"owner": {"reputation": 75, "user_id": 2919704, "user_type": "registered", "accept_rate": 86, "profile_image": "https://www.gravatar.com/avatar/135b166a088d55ea5e3c1e37a62597ec?s=128&d=identicon&r=PG&f=1", "display_name": "Volverine", "link": "https://stackoverflow.com/users/2919704/volverine"}, "edited": false, "score": 0, "creation_date": 1481012380, "post_id": 40990158, "comment_id": 69190005, "body": "Hi Zdim.. How to add in your pattern that sentence should start with L or A as i am reading file line by line. As not all lines are starting with A or L and there are many lines where data is not there  which i want to capture"}, {"owner": {"reputation": 53041, "user_id": 4653379, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/b3953dbedd0dabff5cbc3db9b0835b14?s=128&d=identicon&r=PG&f=1", "display_name": "zdim", "link": "https://stackoverflow.com/users/4653379/zdim"}, "reply_to_user": {"reputation": 75, "user_id": 2919704, "user_type": "registered", "accept_rate": 86, "profile_image": "https://www.gravatar.com/avatar/135b166a088d55ea5e3c1e37a62597ec?s=128&d=identicon&r=PG&f=1", "display_name": "Volverine", "link": "https://stackoverflow.com/users/2919704/volverine"}, "edited": false, "score": 0, "creation_date": 1481012448, "post_id": 40990158, "comment_id": 69190040, "body": "@Volverine I just added the anchor (but it should work without it as well.)"}, {"owner": {"reputation": 75, "user_id": 2919704, "user_type": "registered", "accept_rate": 86, "profile_image": "https://www.gravatar.com/avatar/135b166a088d55ea5e3c1e37a62597ec?s=128&d=identicon&r=PG&f=1", "display_name": "Volverine", "link": "https://stackoverflow.com/users/2919704/volverine"}, "edited": false, "score": 0, "creation_date": 1481012717, "post_id": 40990158, "comment_id": 69190174, "body": "there are multiple lines and the data which i am looking always in the line which starts with A or L ...so i want to first look for then store ....how to add ^A|^L before word boundary"}, {"owner": {"reputation": 53041, "user_id": 4653379, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/b3953dbedd0dabff5cbc3db9b0835b14?s=128&d=identicon&r=PG&f=1", "display_name": "zdim", "link": "https://stackoverflow.com/users/4653379/zdim"}, "reply_to_user": {"reputation": 75, "user_id": 2919704, "user_type": "registered", "accept_rate": 86, "profile_image": "https://www.gravatar.com/avatar/135b166a088d55ea5e3c1e37a62597ec?s=128&d=identicon&r=PG&f=1", "display_name": "Volverine", "link": "https://stackoverflow.com/users/2919704/volverine"}, "edited": false, "score": 0, "creation_date": 1481012802, "post_id": 40990158, "comment_id": 69190219, "body": "@Volverine  In the second solution you don&#39;t have to -- you first skip lines that do not start with that.  So you only work with lines that start with <code>A</code> or <code>L</code>.  The first solution has that built into the regex, <code>&#47;^[A,L]...&#47;</code> -- lines which <i>do not</i> start with it won&#39;t match."}, {"owner": {"reputation": 75, "user_id": 2919704, "user_type": "registered", "accept_rate": 86, "profile_image": "https://www.gravatar.com/avatar/135b166a088d55ea5e3c1e37a62597ec?s=128&d=identicon&r=PG&f=1", "display_name": "Volverine", "link": "https://stackoverflow.com/users/2919704/volverine"}, "edited": false, "score": 0, "creation_date": 1481013467, "post_id": 40990158, "comment_id": 69190560, "body": "Thanks Zdim for your help"}, {"owner": {"reputation": 75, "user_id": 2919704, "user_type": "registered", "accept_rate": 86, "profile_image": "https://www.gravatar.com/avatar/135b166a088d55ea5e3c1e37a62597ec?s=128&d=identicon&r=PG&f=1", "display_name": "Volverine", "link": "https://stackoverflow.com/users/2919704/volverine"}, "edited": false, "score": 0, "creation_date": 1481013542, "post_id": 40990158, "comment_id": 69190612, "body": "what is the same  line contains                                                            A30BZ  ADD INTEREST SUBVENTION RECEIVABLE FOR PROMPT PAYING FARMERS - 2015-16                53,502.00                     in this same line contains 2015-16 which i dont want"}, {"owner": {"reputation": 53041, "user_id": 4653379, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/b3953dbedd0dabff5cbc3db9b0835b14?s=128&d=identicon&r=PG&f=1", "display_name": "zdim", "link": "https://stackoverflow.com/users/4653379/zdim"}, "reply_to_user": {"reputation": 75, "user_id": 2919704, "user_type": "registered", "accept_rate": 86, "profile_image": "https://www.gravatar.com/avatar/135b166a088d55ea5e3c1e37a62597ec?s=128&d=identicon&r=PG&f=1", "display_name": "Volverine", "link": "https://stackoverflow.com/users/2919704/volverine"}, "edited": false, "score": 0, "creation_date": 1481014073, "post_id": 40990158, "comment_id": 69190961, "body": "@Volverine Heh, that&#39;s different data.  That&#39;s the thing with regex -- it is sensitive to detail, and would have to be modified to somehow exclude dates (otherwise the pattern would match the numeric part of the date).  Or, better, just split the string by spaces, which returns an array -- then iterate over it nicely matching term by term.  Then you can skip dates specifically, <code>next if &#47;\\d{4}-\\d{2}&#47;;</code>"}, {"owner": {"reputation": 25491, "user_id": 49197, "user_type": "registered", "accept_rate": 75, "profile_image": "https://www.gravatar.com/avatar/15ebf24a33a29b9efbf9924f530dd736?s=128&d=identicon&r=PG", "display_name": "Hynek -Pichi- Vychodil", "link": "https://stackoverflow.com/users/49197/hynek-pichi-vychodil"}, "edited": false, "score": 0, "creation_date": 1481014540, "post_id": 40990158, "comment_id": 69191220, "body": "Don&#39;t put comma between L and A. Just <code>[AL]</code>."}, {"owner": {"reputation": 53041, "user_id": 4653379, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/b3953dbedd0dabff5cbc3db9b0835b14?s=128&d=identicon&r=PG&f=1", "display_name": "zdim", "link": "https://stackoverflow.com/users/4653379/zdim"}, "reply_to_user": {"reputation": 75, "user_id": 2919704, "user_type": "registered", "accept_rate": 86, "profile_image": "https://www.gravatar.com/avatar/135b166a088d55ea5e3c1e37a62597ec?s=128&d=identicon&r=PG&f=1", "display_name": "Volverine", "link": "https://stackoverflow.com/users/2919704/volverine"}, "edited": false, "score": 0, "creation_date": 1481014673, "post_id": 40990158, "comment_id": 69191291, "body": "@Volverine  Please note the update -- to specify <code>A</code> or <code>L</code> one needs <code>[AL]</code>, of course.  The comma that I had in between was allowing a comma as well.  It worked for your data but it was wrong."}], "tags": [], "owner": {"reputation": 53041, "user_id": 4653379, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/b3953dbedd0dabff5cbc3db9b0835b14?s=128&d=identicon&r=PG&f=1", "display_name": "zdim", "link": "https://stackoverflow.com/users/4653379/zdim"}, "is_accepted": true, "score": 2, "last_activity_date": 1594693373, "last_edit_date": 1594693373, "creation_date": 1481009973, "answer_id": 40990158, "question_id": 40988941, "link": "https://stackoverflow.com/questions/40988941/need-to-create-regular-expression-for-one-file-having-sentence/40990158#40990158", "title": "Need to create regular expression for one file having sentence", "body": "<p>Your regex is looking for a string of <code>\\w</code> and <em>then</em> spaces in the middle so it cannot match multiple words. The last <code>*</code> should be inside the parenthesis, like the first one (but see below). The <code>[A-Z]</code> matches <em>any</em> block capital while you say that you want <code>A</code> or <code>L</code>, so use <code>[AL]</code> instead.</p>\n<pre><code>my @amounts = $string =~ /^[AL]\\w+ \\s+ [A-Za-z ]* ([\\d,.]*)/xg;\n</code></pre>\n<p>You don't want to literally repeat the pattern with <code>*</code> quantifier in order to account for a variable number of occurrences. What if 2 becomes 3  when requirements change? Four? Instead, you can capture all matches in an array and get exactly as many as there are.</p>\n<p>The <code>/x</code> allows us to use spaces inside for readability.</p>\n<hr />\n<p>Here is another approach, which is more flexible.</p>\n<p>You need a pattern containing any of digit, <code>,</code> (comma), <code>.</code> (period) -- and which is only such in the string. You want this only on lines that start with <code>A</code> or <code>L</code>.</p>\n<p>So skip lines which do not start with <code>A</code> or <code>L</code>, then match only the needed pattern.</p>\n<pre><code>use warnings;\nuse strict;\n\nmy $filename = '...';\nopen my $fh, '&lt;', $filename or die &quot;Can't open $filename: $!&quot;;\n\nwhile (&lt;$fh&gt;)\n{\n    next unless /^[AL]/;   # skip if the line doesn't start with A or L\n\n    my @amounts = $_ =~ /\\b ([\\d,.]+) \\b/xg;\n\n    print &quot;@amounts\\n&quot; if @amounts;\n}\nclose $fh;\n</code></pre>\n<p>Here you need to specify <code>\\b</code>, the <em>word boundary</em>.  Otherwise <code>02</code> in <code>L02</code> is matched, for example.</p>\n<p>With no matches the array is empty so we test, to not print empty lines. Adjust as suitable.</p>\n<hr />\n<p>The next step in reducing reliance on regex details and making code more flexible is to <a href=\"http://perldoc.perl.org/functions/split.html\" rel=\"nofollow noreferrer\">split</a> the line by spaces and process term by term. Then adjustments are far easier and changes can be absorded.</p>\n<p>For example, this helps with the change in data mentioned in a comment -- what if there is a date? The above regex would match the numeric parts, while the first one would just break down.</p>\n<p>With a loop over fields on each line we can just skip the date, <code>next if /\\d{4}-\\d{2}/;</code></p>\n"}], "owner": {"reputation": 75, "user_id": 2919704, "user_type": "registered", "accept_rate": 86, "profile_image": "https://www.gravatar.com/avatar/135b166a088d55ea5e3c1e37a62597ec?s=128&d=identicon&r=PG&f=1", "display_name": "Volverine", "link": "https://stackoverflow.com/users/2919704/volverine"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 72, "favorite_count": 0, "accepted_answer_id": 40990158, "answer_count": 1, "score": 1, "last_activity_date": 1594693373, "creation_date": 1481004957, "last_edit_date": 1481014399, "question_id": 40988941, "link": "https://stackoverflow.com/questions/40988941/need-to-create-regular-expression-for-one-file-having-sentence", "title": "Need to create regular expression for one file having sentence", "body": "<pre class=\"lang-none prettyprint-override\"><code>L02    TIME DEPOSITS                             489,26,45,422.92                                                   \nL18    DRAFTS ACCOUNT (IF CREDIT)                10,063.00           10,063.00                                                \nL21    SBI BILLS ACCOUNT (CONTRA) A18                              37,51,432.00 \nA12A   DEMAND LOANS                                               4,39,13,597.30                      \n</code></pre>\n\n<p>These are the lines I have in my file I want to extract the amounts from each line which starts with either (L or A) and store into a variable.   </p>\n\n<p>This  is what I have written </p>\n\n<pre><code>pattern =/[A-Z]\\w+\\s*([\\d,.]*)\\s*([\\d,.])*/g\n$first = $1;\n$second= $2;  \n</code></pre>\n"}, {"tags": ["regex", "perl", "go"], "comments": [{"owner": {"reputation": 129, "user_id": 6669003, "user_type": "registered", "accept_rate": 92, "profile_image": "https://www.gravatar.com/avatar/d6d8f0db03cf2468997a8765218fea2e?s=128&d=identicon&r=PG&f=1", "display_name": "Aditya J.", "link": "https://stackoverflow.com/users/6669003/aditya-j"}, "edited": false, "score": 0, "creation_date": 1480989607, "post_id": 40986527, "comment_id": 69182418, "body": "<code>&#47;(a.c*?)$&#47;</code> matches the last &#39;abc&#39; in &#39;abcabcabc&#39;. Since you are anchoring to the end, the c should be made non-greedy."}, {"owner": {"reputation": 13026, "user_id": 2125837, "user_type": "registered", "accept_rate": 83, "profile_image": "https://www.gravatar.com/avatar/760b6ec2b6e1cba2b0218178425f4cde?s=128&d=identicon&r=PG", "display_name": "xpt", "link": "https://stackoverflow.com/users/2125837/xpt"}, "reply_to_user": {"reputation": 129, "user_id": 6669003, "user_type": "registered", "accept_rate": 92, "profile_image": "https://www.gravatar.com/avatar/d6d8f0db03cf2468997a8765218fea2e?s=128&d=identicon&r=PG&f=1", "display_name": "Aditya J.", "link": "https://stackoverflow.com/users/6669003/aditya-j"}, "edited": false, "score": 0, "creation_date": 1480989802, "post_id": 40986527, "comment_id": 69182479, "body": "@AdityaJ., Nah, you&#39;ve changed the &quot;algorithm&quot;. For your &quot;solution&quot;, even without <code>*?</code>, i.e., <code>&#47;(a.c)$&#47;</code>, it&#39;d still work. But thanks for trying though."}, {"owner": {"reputation": 65435, "user_id": 2206004, "user_type": "registered", "accept_rate": 100, "profile_image": "https://i.stack.imgur.com/HCB1e.png?s=128&g=1", "display_name": "hwnd", "link": "https://stackoverflow.com/users/2206004/hwnd"}, "edited": false, "score": 0, "creation_date": 1480989966, "post_id": 40986527, "comment_id": 69182521, "body": "Using <code>.*?</code> the regex engine starts matching the minimum number of characters allowed by the quantifier\u2014which is <b>zero</b>. The engine then advances and tries the next token. This fails, so the engine backtracks and expands its match. The process repeats itself\u2014the regex engine advances, fails, backtracks, expand its match again, advances, fails, ... this is a case for negation <code>&#47;a[^a]*c$&#47;</code>"}], "answers": [{"tags": [], "owner": {"reputation": 320771, "user_id": 589924, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/b2cf53d5a3d25f95c0db4e025aed4153?s=128&d=identicon&r=PG", "display_name": "ikegami", "link": "https://stackoverflow.com/users/589924/ikegami"}, "is_accepted": true, "score": 7, "last_activity_date": 1480996476, "last_edit_date": 1480996476, "creation_date": 1480992832, "answer_id": 40987052, "question_id": 40986527, "link": "https://stackoverflow.com/questions/40986527/regex-of-a-non-greedy-match-different-behavior/40987052#40987052", "title": "Regex of a non-greedy match different behavior", "body": "<blockquote>\n<pre><code>$ echo abcabcabc | perl -ne 'print $1 if /(a.*?c)$/'\nabcabcabc\n# what, non-greedy become greedy?\n</code></pre>\n</blockquote>\n\n<p>Non-greedy means it'll match the fewest characters possible <em>at the current location</em> such that the entire pattern matches.</p>\n\n<p>After matching <code>a</code> at position <code>0</code>, <code>bcabcab</code> is the least <code>.*?</code> can match at position <code>1</code> while still satisfying the rest of the pattern.</p>\n\n<p><code>\"abcabcabc\" = /a.*?c$/</code> in detail:</p>\n\n<ol>\n<li>At pos 0, <code>a</code> matches 1 char (<code>a</code>).\n\n<ol>\n<li>At pos 1, <code>.*?</code> matches 0 chars (empty string).\n\n<ol>\n<li>At pos 1, <code>c</code> fails to match. Backtrack!</li>\n</ol></li>\n<li>At pos 1, <code>.*?</code> matches 1 char (<code>b</code>).\n\n<ol>\n<li>At pos 2, <code>c</code> matches 1 char (<code>c</code>).\n\n<ol>\n<li>At pos 3, <code>$</code> fails to match. Backtrack!</li>\n</ol></li>\n</ol></li>\n<li>At pos 1, <code>.*?</code> matches 2 chars (<code>bc</code>).\n\n<ol>\n<li>At pos 1, <code>c</code> fails to match. Backtrack!</li>\n</ol></li>\n<li>...</li>\n<li>At pos 1, <code>.*?</code> matches 7 chars (<code>bcabcab</code>).\n\n<ol>\n<li>At pos 8, <code>c</code> matches 1 char (<code>c</code>).\n\n<ol>\n<li>At pos 9, <code>$</code> matches 0 chars (empty string). Match successful!</li>\n</ol></li>\n</ol></li>\n</ol></li>\n</ol>\n\n<p><code>\"abcabcabc\" = /a.*c$/</code> in detail (for contrast):</p>\n\n<ol>\n<li>At pos 0, <code>a</code> matches 1 char (<code>a</code>).\n\n<ol>\n<li>At pos 1, <code>.*</code> matches 8 chars (<code>abcabcabc</code>).\n\n<ol>\n<li>At pos 9, <code>c</code> fails to match. Backtrack!</li>\n</ol></li>\n<li>At pos 1, <code>.*</code> matches 7 chars (<code>abcabcab</code>).\n\n<ol>\n<li>At pos 8, <code>c</code> matches 1 char (<code>c</code>).\n\n<ol>\n<li>At pos 9, <code>$</code> matches 0 chars (empty string). Match successful!</li>\n</ol></li>\n</ol></li>\n</ol></li>\n</ol>\n\n<p>Tip: Avoid patterns with two instances of a non-greediness modifier. Unless you are using them as an optimization, there's a good chance they can match something you don't want them to match. This is relevant here because patterns implicitly start with <code>\\G(?s:.*?)\\K</code> (unless cancelled out by a leading <code>^</code>, <code>\\A</code> or <code>\\G</code>).</p>\n\n<p>What you want is one of the following:</p>\n\n<pre><code>/a[^a]*c$/\n/a[^c]*c$/\n/a[^ac]*c$/\n</code></pre>\n\n<p>You could also use one of the following:</p>\n\n<pre><code>/a(?:(?!a).)c$/s\n/a(?:(?!c).)c$/s\n/a(?:(?!a|c).)c$/s\n</code></pre>\n\n<p>It would be inefficient and unreadable to use these latter three in this situation, but they will work with boundaries that are longer than one character.</p>\n"}], "owner": {"reputation": 13026, "user_id": 2125837, "user_type": "registered", "accept_rate": 83, "profile_image": "https://www.gravatar.com/avatar/760b6ec2b6e1cba2b0218178425f4cde?s=128&d=identicon&r=PG", "display_name": "xpt", "link": "https://stackoverflow.com/users/2125837/xpt"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 123, "favorite_count": 0, "accepted_answer_id": 40987052, "answer_count": 1, "score": 3, "last_activity_date": 1480996476, "creation_date": 1480989154, "question_id": 40986527, "link": "https://stackoverflow.com/questions/40986527/regex-of-a-non-greedy-match-different-behavior", "title": "Regex of a non-greedy match different behavior", "body": "<p>I found that non-greedy regex match only become non-greedy when anchoring to the front, not to the end:</p>\n\n<pre><code>$ echo abcabcabc | perl -ne 'print $1 if /^(a.*c)/'\nabcabcabc\n# OK, greedy match\n\n$ echo abcabcabc | perl -ne 'print $1 if /^(a.*?c)/'\nabc\n# YES! non-greedy match\n</code></pre>\n\n<p>Now look at this, when anchoring to the end:</p>\n\n<pre><code>$ echo abcabcabc | perl -ne 'print $1 if /(a.*c)$/'\nabcabcabc\n# OK, greedy match\n\n$ echo abcabcabc | perl -ne 'print $1 if /(a.*?c)$/'\nabcabcabc\n# what, non-greedy become greedy?\n</code></pre>\n\n<p>why is that? how come it doesn't print <code>abc</code> as before? </p>\n\n<p>(The problem was found in my Go code, but illustrated in Perl for simplicity). </p>\n"}, {"tags": ["perl", "email", "module", "smtp", "mime"], "comments": [{"owner": {"reputation": 89568, "user_id": 3081018, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/Z2NYm.png?s=128&g=1", "display_name": "Steffen Ullrich", "link": "https://stackoverflow.com/users/3081018/steffen-ullrich"}, "edited": false, "score": 0, "creation_date": 1480991717, "post_id": 40984563, "comment_id": 69182982, "body": "Maybe you could get add some more debug output to your question. But given &quot;failed to connect&quot; it might be that your mail server has an IPv6 address and an IPv4 address and that IPv6 is not properly setup. But  Net::SMTP 3.x (which you have installed) will use IPv6 if the hostname resolves to an IPv6 address."}, {"owner": {"reputation": 320771, "user_id": 589924, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/b2cf53d5a3d25f95c0db4e025aed4153?s=128&d=identicon&r=PG", "display_name": "ikegami", "link": "https://stackoverflow.com/users/589924/ikegami"}, "edited": false, "score": 0, "creation_date": 1480998744, "post_id": 40984563, "comment_id": 69184734, "body": "It&#39;s not even getting to the point where it can send <code>HELO</code>. It can&#39;t even connect, or can&#39;t establish a SSL handshake once connected if so configured. I would edit <code>Net&#47;SMTP.pm</code> to obtain more info. Specifically: 1) Which <code>return</code> causes sub <code>new</code> to exit? 2) What arguments are passed to <code>$type-&gt;SUPER::new</code> in each pass of the foreach loop?"}, {"owner": {"reputation": 394, "user_id": 4504847, "user_type": "registered", "accept_rate": 88, "profile_image": "https://i.stack.imgur.com/U9lvM.png?s=128&g=1", "display_name": "FrankRalphBob", "link": "https://stackoverflow.com/users/4504847/frankralphbob"}, "reply_to_user": {"reputation": 89568, "user_id": 3081018, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/Z2NYm.png?s=128&g=1", "display_name": "Steffen Ullrich", "link": "https://stackoverflow.com/users/3081018/steffen-ullrich"}, "edited": false, "score": 0, "creation_date": 1481040372, "post_id": 40984563, "comment_id": 69208150, "body": "@Steffen Ullrich  - So, nothing has changed on the mail server.   It has always been at IPv4.   But thanks for the idea, one never knows.  @ikegami - I started digging into the <code>NET::SMTP</code> code.   Please see my edit above.  Thanks for the idea."}, {"owner": {"reputation": 89568, "user_id": 3081018, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/Z2NYm.png?s=128&g=1", "display_name": "Steffen Ullrich", "link": "https://stackoverflow.com/users/3081018/steffen-ullrich"}, "edited": false, "score": 0, "creation_date": 1481042004, "post_id": 40984563, "comment_id": 69209287, "body": "@FrankRalphBob: that&#39;s what I mean: the mail server is IPv4 only. But if the hostname resolves also to a IPv6 address it will try this one and fail. Older versions of Net::SMTP did not lookup IPv6 at all so these worked in that scenario. If the mail server is public it would be useful if you could provide the hostname so that one can try to reproduce the problem."}, {"owner": {"reputation": 394, "user_id": 4504847, "user_type": "registered", "accept_rate": 88, "profile_image": "https://i.stack.imgur.com/U9lvM.png?s=128&g=1", "display_name": "FrankRalphBob", "link": "https://stackoverflow.com/users/4504847/frankralphbob"}, "reply_to_user": {"reputation": 89568, "user_id": 3081018, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/Z2NYm.png?s=128&g=1", "display_name": "Steffen Ullrich", "link": "https://stackoverflow.com/users/3081018/steffen-ullrich"}, "edited": false, "score": 0, "creation_date": 1481044732, "post_id": 40984563, "comment_id": 69211178, "body": "@Steffen Ullrich - Sorry, I misunderstood you.  Unfortunately, the mail server is not public. Is there any way to determine if Net::SMTP is using IPv6?  or to force IPv4?  Thanks for your help!"}, {"owner": {"reputation": 89568, "user_id": 3081018, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/Z2NYm.png?s=128&g=1", "display_name": "Steffen Ullrich", "link": "https://stackoverflow.com/users/3081018/steffen-ullrich"}, "edited": false, "score": 0, "creation_date": 1481044994, "post_id": 40984563, "comment_id": 69211349, "body": "@FrankRalphBob: you can use <code>Domain =&gt; AF_INET</code> in the constructor of Net::SMTP to force use of IPv4."}, {"owner": {"reputation": 394, "user_id": 4504847, "user_type": "registered", "accept_rate": 88, "profile_image": "https://i.stack.imgur.com/U9lvM.png?s=128&g=1", "display_name": "FrankRalphBob", "link": "https://stackoverflow.com/users/4504847/frankralphbob"}, "reply_to_user": {"reputation": 89568, "user_id": 3081018, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/Z2NYm.png?s=128&g=1", "display_name": "Steffen Ullrich", "link": "https://stackoverflow.com/users/3081018/steffen-ullrich"}, "edited": false, "score": 0, "creation_date": 1481049686, "post_id": 40984563, "comment_id": 69213860, "body": "@SteffenUllrich  Fabulous!   I think we found the problem!... Using NET::SMTP, I can send an email, when I specify, ipv4.  Unfortunately, MIME::Lite doesn&#39;t have a way to pass on the Domain option.  And I need this to send attachments.  Is there a way, outside of NET::SMTP to send email, specifying ipv4 and using attachments?"}, {"owner": {"reputation": 394, "user_id": 4504847, "user_type": "registered", "accept_rate": 88, "profile_image": "https://i.stack.imgur.com/U9lvM.png?s=128&g=1", "display_name": "FrankRalphBob", "link": "https://stackoverflow.com/users/4504847/frankralphbob"}, "reply_to_user": {"reputation": 89568, "user_id": 3081018, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/Z2NYm.png?s=128&g=1", "display_name": "Steffen Ullrich", "link": "https://stackoverflow.com/users/3081018/steffen-ullrich"}, "edited": false, "score": 0, "creation_date": 1481061868, "post_id": 40984563, "comment_id": 69220162, "body": "@SteffenUllrich So, the ipv4 was the problem.   I changed one line in the MIME::Lite to accept domain as an attribute to be passed on to NET::SMTP, this allowed me to use MIME::Lite still to send email.  So I would assume that the root of the problem is in the hostname resolving?  Not sure if this is something with the way the DNS is set up or something I need to do on the Perl side of things. Anyway, if you want to put in something for an answer, I&#39;ll mark it as such and if not, I can just put something together to show that this is answered.  Thanks again!"}], "answers": [{"tags": [], "owner": {"reputation": 89568, "user_id": 3081018, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/Z2NYm.png?s=128&g=1", "display_name": "Steffen Ullrich", "link": "https://stackoverflow.com/users/3081018/steffen-ullrich"}, "is_accepted": true, "score": 1, "last_activity_date": 1481062873, "creation_date": 1481062873, "answer_id": 41006033, "question_id": 40984563, "link": "https://stackoverflow.com/questions/40984563/mimelite-throwing-unexpected-eof-on-command-channel-error-after-package-upgrad/41006033#41006033", "title": "MIME::Lite throwing unexpected EOF on command channel error after package upgrade", "body": "<p>With Net::SMTP version 3.x support for SSL and IPv6 was added. If the necessary packages are installed (i.e. IO::Socket::IP or IO::Socket::INET6) it will use getaddrinfo to resolve the name which usually prefers IPv6 before IPv4. </p>\n\n<p>This is not a problem if everything is properly setup. But in your case the hostname of the mail server resolves to both IPv6 and IPv4 address even though there is no mail server listening on the IPv6 address or a firewall is blocking the connection. Thus results in a failed connection because getaddrinfo returns that IPv6 should be used but the server is not reachable by IPv6.</p>\n\n<p>The proper fix would be to either remove the IPv6 record for the host or to make it accessible by IPv6. As long as this is not the case one might work around the problem by explicitly enforcing IPv4 in Net::SMTP:</p>\n\n<pre><code> use Socket;\n Net::SMTP-&gt;new(host, Domain =&gt; AF_INET,...);\n</code></pre>\n"}], "owner": {"reputation": 394, "user_id": 4504847, "user_type": "registered", "accept_rate": 88, "profile_image": "https://i.stack.imgur.com/U9lvM.png?s=128&g=1", "display_name": "FrankRalphBob", "link": "https://stackoverflow.com/users/4504847/frankralphbob"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 475, "favorite_count": 1, "accepted_answer_id": 41006033, "answer_count": 1, "score": 0, "last_activity_date": 1481062873, "creation_date": 1480977110, "last_edit_date": 1481040294, "question_id": 40984563, "link": "https://stackoverflow.com/questions/40984563/mimelite-throwing-unexpected-eof-on-command-channel-error-after-package-upgrad", "title": "MIME::Lite throwing unexpected EOF on command channel error after package upgrade", "body": "<p>I am using Strawberry Perl (v5.16.3) on a Windows 2008 server.  I have added some CPAN modules for use in a script, but this seems to have broken MIME:Lite (which is used by other scripts on this box).   When I run the following code:</p>\n\n<pre><code>use strict;\nuse warnings;\nuse v5.16;\n\nuse MIME::Lite;\n\nmy $msg = MIME::Lite-&gt;new(From     =&gt; 'person@domain.com',\n                          To       =&gt; 'person@domain.com',\n                          Subject  =&gt; \"testing\",\n                          Type     =&gt; 'multipart/mixed');\nmy $dataString = \"Trying to figure out why this isn't working.\\r\\n\";\n$msg-&gt;attach(  Type            =&gt; 'TEXT',\n                  Data            =&gt; $dataString);  \n$msg-&gt;send('smtp', 'mailhost.com', Debug=&gt;1);\n</code></pre>\n\n<p>I get the following error message:</p>\n\n<pre><code>MIME::Lite::SMTP&gt;&gt;&gt; MIME::Lite::SMTP\nMIME::Lite::SMTP&gt;&gt;&gt;   Net::SMTP(3.10)\nMIME::Lite::SMTP&gt;&gt;&gt;     Net::Cmd(3.10)\nMIME::Lite::SMTP&gt;&gt;&gt;       Exporter(5.67)\nMIME::Lite::SMTP&gt;&gt;&gt;     IO::Socket::INET6(2.69)\nMIME::Lite::SMTP&gt;&gt;&gt;       IO::Socket(1.34)\nMIME::Lite::SMTP&gt;&gt;&gt;         IO::Handle(1.33)\nMIME::Lite::SMTP: Net::Cmd::_is_closed(): unexpected EOF on command channel:  at d:/strawberry/perl/site/lib/MIME/Lite.pm line 2877.\nSMTP Failed to connect to mail server: Bad file descriptor.\n</code></pre>\n\n<p>The modules I installed where Email::Simple, Email::Sender, Email::MIME::CreateHTML &amp; String::Util.  As I am sure you know, there were various dependencies that were installed as well.</p>\n\n<p>I would just switch the scripts over to Email::Sender but that is getting a 421 error from the server (which is yet another mystery).   I am able to connect to the mail server through telnet and get a 'HELO' with no problem.</p>\n\n<p>I fear the Perl installation is now all jacked up but I am hoping one of you brilliant guys might have some insight on how to fix it.</p>\n\n<p>Thanks in advance for your help.</p>\n\n<p>EDIT:  I noticed that the Socket.pm in perl/lib was updated.   Could that be causing the problem?  I updated MIME::Lite to the latest (ver. 3.030) but that did not solve the problem.</p>\n\n<p>EDIT #2: Per, ikegami's reply, added print statements to NET::SMTP:</p>\n\n<pre><code>sub new {\n    print \"inside Net::SMTP::new\\n\";\n  my $self = shift;\n  my $type = ref($self) || $self;\n  my ($host, %arg);\n  if (@_ % 2) {\n    $host = shift;\n    %arg  = @_;\n  }\n  else {\n    %arg  = @_;\n    $host = delete $arg{Host};\n  }\n\n    print \"checked for SSL.\\n\";\n  if ($arg{SSL}) {\n    # SSL from start\n    die $nossl_warn if !$ssl_class;\n    $arg{Port} ||= 465;\n  }\n\n  my $hosts = defined $host ? $host : $NetConfig{smtp_hosts};\n  my $obj;\n\n  $arg{Timeout} = 120 if ! defined $arg{Timeout};\n    print \"set timeout:  $arg{Timeout}. \\n\";\n\n  foreach my $h (@{ref($hosts) ? $hosts : [$hosts]}) {\n      print \"host: $h, port: $arg{Port}, laddr: $arg{LocalAddr}, lport: $arg{LocalPort}, familyKey: \" . ( $arg{Domain} || $arg{Family} ) . \"\\n\";\n    $obj = $type-&gt;SUPER::new(\n      PeerAddr =&gt; ($host = $h),\n      PeerPort =&gt; $arg{Port} || 'smtp(25)',\n      LocalAddr =&gt; $arg{LocalAddr},\n      LocalPort =&gt; $arg{LocalPort},\n      $family_key =&gt; $arg{Domain} || $arg{Family},\n      Proto     =&gt; 'tcp',\n      Timeout   =&gt; $arg{Timeout}\n      )\n      and last;\n  }\n    print \"$obj\\n\";\n  return\n    unless defined $obj;\n\n    print \"object defined. \\n\";\n  ${*$obj}{'net_smtp_arg'} = \\%arg;\n  ${*$obj}{'net_smtp_host'} = $host;\n    print \"set net_smtp_host to $host\\n\";\n  if ($arg{SSL}) {\n      print \"setting SSL. \\n\";\n    Net::SMTP::_SSL-&gt;start_SSL($obj,%arg)\n      or return;\n  }\n\n  $obj-&gt;autoflush(1);\n    print \"set autoflush.\\n\";\n  $obj-&gt;debug(exists $arg{Debug} ? $arg{Debug} : undef);\n    print \"setting debug: $arg{Debug}\\n\";\n    my $response = $obj-&gt;response();\n    print \"object response: $response (5 == CMD_ERROR)\\n\";\n  unless ($obj-&gt;response() == CMD_OK) {\n    my $err = ref($obj) . \": \" . $obj-&gt;code . \" \" . $obj-&gt;message;\n    $obj-&gt;close();\n    $@ = $err;\n    print \"returning because response was not CMD_OK\\n\";\n    return;\n  } ....\n</code></pre>\n\n<p>Here's the output:</p>\n\n<pre><code>D:\\strawberry&gt;perl D:\\Perl\\Src\\pmTasks\\emailTest.pl\ninside Net::SMTP::new\nchecked for SSL.\nset timeout:  120.\nUse of uninitialized value in concatenation (.) or string at D:/strawberry/perl/lib/Net/SMTP.pm line 83, &lt;DATA&gt; line 100\n3.\nUse of uninitialized value in concatenation (.) or string at D:/strawberry/perl/lib/Net/SMTP.pm line 83, &lt;DATA&gt; line 100\n3.\nUse of uninitialized value in concatenation (.) or string at D:/strawberry/perl/lib/Net/SMTP.pm line 83, &lt;DATA&gt; line 100\n3.\nUse of uninitialized value in concatenation (.) or string at D:/strawberry/perl/lib/Net/SMTP.pm line 83, &lt;DATA&gt; line 100\n3.\nhost: {correct_mailhost_here}, port: , laddr: , lport: , familyKey:\nMIME::Lite::SMTP=GLOB(0x1f36fbc)\nobject defined.\nset net_smtp_host to {correct_mailhost_here}\nset autoflush.\nMIME::Lite::SMTP&gt;&gt;&gt; MIME::Lite::SMTP\nMIME::Lite::SMTP&gt;&gt;&gt;   Net::SMTP(3.10)\nMIME::Lite::SMTP&gt;&gt;&gt;     Net::Cmd(3.10)\nMIME::Lite::SMTP&gt;&gt;&gt;       Exporter(5.67)\nMIME::Lite::SMTP&gt;&gt;&gt;     IO::Socket::INET6(2.69)\nMIME::Lite::SMTP&gt;&gt;&gt;       IO::Socket(1.34)\nMIME::Lite::SMTP&gt;&gt;&gt;         IO::Handle(1.33)\nsetting debug: 1\nMIME::Lite::SMTP: Net::Cmd::_is_closed(): unexpected EOF on command channel:  at D:/strawberry/perl/site/lib/MIME/Lite.pm line 2877.\nobject response: 5 (5 == CMD_ERROR)\nMIME::Lite::SMTP: Net::Cmd::_is_closed(): unexpected EOF on command channel:  at D:/strawberry/perl/site/lib/MIME/Lite.pm line 2877.\nreturning because response was not CMD_OK\nSMTP Failed to connect to mail server: Bad file descriptor\n</code></pre>\n\n<p>So, it seems that reason it is returning is that the <code>$obj</code> has a response of <code>CMD_ERROR</code>.   The only parameter it is sending to the <code>$obj=$type-&gt;SUPER::new</code> is the host.  (which is the correct host, but I had to blank it out above).</p>\n\n<p>So, I'm not sure which superclass this is calling.   It seems to be returning the constants from NET::Cmd, but there is no <code>new</code> subroutine. IO::Socket:INET calls the new from IO::Socket, which calls the new from IO::Handle which seems to be calling the fdopen C code?  I get a little lost here.  However, thanks for your help so far.  Seems that we are almost getting to the root of the problem here.</p>\n"}, {"tags": ["regex", "perl", "pathname"], "comments": [{"owner": {"reputation": 113221, "user_id": 100754, "user_type": "registered", "accept_rate": 90, "profile_image": "https://www.gravatar.com/avatar/7804ebae32fbadef38537d74a915c22f?s=128&d=identicon&r=PG", "display_name": "Sinan &#220;n&#252;r", "link": "https://stackoverflow.com/users/100754/sinan-%c3%9cn%c3%bcr"}, "edited": false, "score": 1, "creation_date": 1480971608, "post_id": 40983054, "comment_id": 69176005, "body": "Stackoverflow is not your blog. Please follow the advice given in <a href=\"https://stackoverflow.com/help/how-to-ask\">stackoverflow.com/help/how-to-ask</a>"}, {"owner": {"reputation": 30454, "user_id": 184595, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/d6jGq.jpg?s=128&g=1", "display_name": "Crayon Violent", "link": "https://stackoverflow.com/users/184595/crayon-violent"}, "edited": false, "score": 0, "creation_date": 1480973380, "post_id": 40983054, "comment_id": 69176922, "body": "provide example(s) of your subject. e.g. are you trying to get the path from a full url? buried within some larger arbitrary text? etc."}], "answers": [{"comments": [{"owner": {"reputation": 91, "user_id": 2371141, "user_type": "registered", "accept_rate": 0, "profile_image": "https://www.gravatar.com/avatar/f54f7ef79cc5e06f29918bb71ccccc1d?s=128&d=identicon&r=PG", "display_name": "Jacob Salomon", "link": "https://stackoverflow.com/users/2371141/jacob-salomon"}, "edited": false, "score": 0, "creation_date": 1480984381, "post_id": 40983610, "comment_id": 69181085, "body": "Borodin, I have given you kudos in my code.  I&#39;ve never seen that ?: construct.  This is a &quot;non marking grouping&quot;. Put that into a google search for additional information."}, {"owner": {"reputation": 123805, "user_id": 622310, "user_type": "registered", "accept_rate": 33, "profile_image": "https://www.gravatar.com/avatar/8b6d35219e1808520bc238b28161e2e6?s=128&d=identicon&r=PG", "display_name": "Borodin", "link": "https://stackoverflow.com/users/622310/borodin"}, "reply_to_user": {"reputation": 91, "user_id": 2371141, "user_type": "registered", "accept_rate": 0, "profile_image": "https://www.gravatar.com/avatar/f54f7ef79cc5e06f29918bb71ccccc1d?s=128&d=identicon&r=PG", "display_name": "Jacob Salomon", "link": "https://stackoverflow.com/users/2371141/jacob-salomon"}, "edited": false, "score": 1, "creation_date": 1481025535, "post_id": 40983610, "comment_id": 69198037, "body": "@JacobSalomon: That&#39;s an unusual name for it. <a href=\"http://perldoc.perl.org/perlretut.html#Non-capturing-groupings\" rel=\"nofollow noreferrer\">The Perl documentation</a> calls it a non-capturing group. If you are running perl v5.22.0 or later then you can use the <i>Non-Capturing Regular Expression Flag</i> <code>&#47;n</code> to disable capturing on <i>all</i> parentheses, so <code>say &quot;ok&quot; if $path =~ m|^(&#47;[\\w.-]+)+$|n</code> will also work."}], "tags": [], "owner": {"reputation": 123805, "user_id": 622310, "user_type": "registered", "accept_rate": 33, "profile_image": "https://www.gravatar.com/avatar/8b6d35219e1808520bc238b28161e2e6?s=128&d=identicon&r=PG", "display_name": "Borodin", "link": "https://stackoverflow.com/users/622310/borodin"}, "is_accepted": false, "score": 0, "last_activity_date": 1480973036, "creation_date": 1480973036, "answer_id": 40983610, "question_id": 40983054, "link": "https://stackoverflow.com/questions/40983054/regex-to-identify-a-full-path-name/40983610#40983610", "title": "Regex to identify a full path name", "body": "<p>You need the anchors around the entire pattern, not around each path segment</p>\n\n<pre><code>use strict;\nuse warnings 'all';\nuse feature 'say';\n\nfor my $path (\n    '/abc/qwert_yu.1234/now_at_file.name4',\n    '/_.123/zaqe/0987_123.666/how_deep/can-I-go' ) {\n\n    say \"ok\" if $path =~ m|^(?:/[\\w.-]+)+$|;\n}\n</code></pre>\n\n<h3>output</h3>\n\n<pre><code>ok\nok\n</code></pre>\n"}, {"tags": [], "owner": {"reputation": 320771, "user_id": 589924, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/b2cf53d5a3d25f95c0db4e025aed4153?s=128&d=identicon&r=PG", "display_name": "ikegami", "link": "https://stackoverflow.com/users/589924/ikegami"}, "is_accepted": false, "score": 4, "last_activity_date": 1480973175, "creation_date": 1480973175, "answer_id": 40983639, "question_id": 40983054, "link": "https://stackoverflow.com/questions/40983054/regex-to-identify-a-full-path-name/40983639#40983639", "title": "Regex to identify a full path name", "body": "<p>It looks like your are asking why the following doesn't match.</p>\n\n<pre><code>my $fpat = qr(^[\\w\\.\\-]+$);\nmy $dir_pat = qr(/($fpat));\n\"/qwe.123_545-FFF\" =~ $dir_pat\n</code></pre>\n\n<p>Captures aside, your pattern is the following:</p>\n\n<pre><code>/^[\\w\\.\\-]+$\n</code></pre>\n\n<p>So you are trying to match a <code>/</code> followed by the start of a string. That will never match. You want</p>\n\n<pre><code>^/[\\w\\.\\-]+$\n</code></pre>\n"}], "owner": {"reputation": 91, "user_id": 2371141, "user_type": "registered", "accept_rate": 0, "profile_image": "https://www.gravatar.com/avatar/f54f7ef79cc5e06f29918bb71ccccc1d?s=128&d=identicon&r=PG", "display_name": "Jacob Salomon", "link": "https://stackoverflow.com/users/2371141/jacob-salomon"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 500, "favorite_count": 0, "answer_count": 2, "score": 1, "last_activity_date": 1480973175, "creation_date": 1480970893, "last_edit_date": 1495542273, "question_id": 40983054, "link": "https://stackoverflow.com/questions/40983054/regex-to-identify-a-full-path-name", "title": "Regex to identify a full path name", "body": "<p>I have data where some lines may contain a full path name in the second field.  I need to identify such a line.</p>\n\n<p>I found \"<a href=\"https://stackoverflow.com/questions/3761211/how-can-i-extract-a-file-path-from-a-perl-string\"><em>How can I extract a file path from a Perl string?</em></a>\" but I've just given up trying.</p>\n\n<p>I'm sticking to path names with alphanumerics, underscores, dashes, and dots, with components separated by slashes <code>/</code>.</p>\n\n<p>I want to recognize these examples as path names:</p>\n\n<ul>\n<li><code>/abc/qwert_yu.1234/now_at_file.name4</code></li>\n<li><code>/_.123/zaqe/0987_123.666/how_deep/can-I-go</code></li>\n</ul>\n\n<p>Each component should match a pattern like <code>qr(^[\\w\\.\\-]+$)</code>, and I have this working.</p>\n\n<p>My problem is with matching a path that contains any number of segments, each preceded by a forward slash. </p>\n\n<p>I tried many permutations on this:</p>\n\n<pre><code>$dir_pat = qr(/($fpat))\n</code></pre>\n\n<p>When I test</p>\n\n<pre><code>p \"/qwe.123_545-FFF\" =~ $dir_pat\n</code></pre>\n\n<p>it just does not match.</p>\n"}, {"tags": ["excel", "bash", "perl", "awk", "sed"], "comments": [{"owner": {"reputation": 68617, "user_id": 3776858, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/juunm.png?s=128&g=1", "display_name": "Cyrus", "link": "https://stackoverflow.com/users/3776858/cyrus"}, "edited": false, "score": 0, "creation_date": 1480969212, "post_id": 40982582, "comment_id": 69174838, "body": "Is in line two number <code>2</code> prefixed with one or two tabs?"}, {"owner": {"reputation": 126278, "user_id": 6451573, "user_type": "moderator", "accept_rate": 90, "profile_image": "https://i.stack.imgur.com/4xczZ.jpg?s=128&g=1", "display_name": "Jean-Fran&#231;ois Fabre", "link": "https://stackoverflow.com/users/6451573/jean-fran%c3%a7ois-fabre"}, "edited": false, "score": 0, "creation_date": 1480969249, "post_id": 40982582, "comment_id": 69174859, "body": "if it takes a long time with sed it will probably take a long time with awk as well... I could provide a Python solution, but it would be slow too. Problem is disk I/O in that case."}, {"owner": {"reputation": 149, "user_id": 5104004, "user_type": "registered", "accept_rate": 80, "profile_image": "https://www.gravatar.com/avatar/333d22385bb4756bb08ade3d37e06df2?s=128&d=identicon&r=PG&f=1", "display_name": "Oddish", "link": "https://stackoverflow.com/users/5104004/oddish"}, "edited": false, "score": 0, "creation_date": 1480969310, "post_id": 40982582, "comment_id": 69174891, "body": "Lines without a value in column 1 have two tabs"}, {"owner": {"reputation": 149, "user_id": 5104004, "user_type": "registered", "accept_rate": 80, "profile_image": "https://www.gravatar.com/avatar/333d22385bb4756bb08ade3d37e06df2?s=128&d=identicon&r=PG&f=1", "display_name": "Oddish", "link": "https://stackoverflow.com/users/5104004/oddish"}, "edited": false, "score": 0, "creation_date": 1480969344, "post_id": 40982582, "comment_id": 69174911, "body": "Any solution would be great :)"}, {"owner": {"reputation": 62252, "user_id": 1435869, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/TrEd9.jpg?s=128&g=1", "display_name": "karakfa", "link": "https://stackoverflow.com/users/1435869/karakfa"}, "edited": false, "score": 0, "creation_date": 1480970057, "post_id": 40982582, "comment_id": 69175266, "body": "perhaps post a sample of <code>cat -A file</code> output.  It matters if the missing value is null, or space or tab."}, {"owner": {"reputation": 113221, "user_id": 100754, "user_type": "registered", "accept_rate": 90, "profile_image": "https://www.gravatar.com/avatar/7804ebae32fbadef38537d74a915c22f?s=128&d=identicon&r=PG", "display_name": "Sinan &#220;n&#252;r", "link": "https://stackoverflow.com/users/100754/sinan-%c3%9cn%c3%bcr"}, "edited": false, "score": 1, "creation_date": 1480971685, "post_id": 40982582, "comment_id": 69176046, "body": "12 million lines does not a &quot;very large file&quot; make."}, {"owner": {"reputation": 155597, "user_id": 1745001, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/99a3ebae89496eb16afe453aae97f5be?s=128&d=identicon&r=PG", "display_name": "Ed Morton", "link": "https://stackoverflow.com/users/1745001/ed-morton"}, "reply_to_user": {"reputation": 126278, "user_id": 6451573, "user_type": "moderator", "accept_rate": 90, "profile_image": "https://i.stack.imgur.com/4xczZ.jpg?s=128&g=1", "display_name": "Jean-Fran&#231;ois Fabre", "link": "https://stackoverflow.com/users/6451573/jean-fran%c3%a7ois-fabre"}, "edited": false, "score": 0, "creation_date": 1480980730, "post_id": 40982582, "comment_id": 69180126, "body": "@Jean-Fran&#231;oisFabre no, sed is far slower than awk for anything other than simple substitutions on individual lines because it&#39;s just not what it&#39;s designed to do. So don&#39;t assume that something slow in sed will also be slow in awk."}, {"owner": {"reputation": 126278, "user_id": 6451573, "user_type": "moderator", "accept_rate": 90, "profile_image": "https://i.stack.imgur.com/4xczZ.jpg?s=128&g=1", "display_name": "Jean-Fran&#231;ois Fabre", "link": "https://stackoverflow.com/users/6451573/jean-fran%c3%a7ois-fabre"}, "reply_to_user": {"reputation": 155597, "user_id": 1745001, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/99a3ebae89496eb16afe453aae97f5be?s=128&d=identicon&r=PG", "display_name": "Ed Morton", "link": "https://stackoverflow.com/users/1745001/ed-morton"}, "edited": false, "score": 1, "creation_date": 1481004667, "post_id": 40982582, "comment_id": 69186607, "body": "@EdMorton duly noted. And this time it refrained my to post an <code>awk</code> solution (that you would have had to correct afterwards but still... :)). Thanks."}], "answers": [{"comments": [{"owner": {"reputation": 19969, "user_id": 23512, "user_type": "registered", "accept_rate": 56, "profile_image": "https://i.stack.imgur.com/tUj1I.png?s=128&g=1", "display_name": "Tanktalus", "link": "https://stackoverflow.com/users/23512/tanktalus"}, "edited": false, "score": 1, "creation_date": 1480969950, "post_id": 40982786, "comment_id": 69175211, "body": "The question says awk, but has the perl tag, so I figured perl was an acceptable option.  Same thing can be done in awk."}, {"owner": {"reputation": 19969, "user_id": 23512, "user_type": "registered", "accept_rate": 56, "profile_image": "https://i.stack.imgur.com/tUj1I.png?s=128&g=1", "display_name": "Tanktalus", "link": "https://stackoverflow.com/users/23512/tanktalus"}, "reply_to_user": {"reputation": 320771, "user_id": 589924, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/b2cf53d5a3d25f95c0db4e025aed4153?s=128&d=identicon&r=PG", "display_name": "ikegami", "link": "https://stackoverflow.com/users/589924/ikegami"}, "edited": false, "score": 0, "creation_date": 1480970887, "post_id": 40982786, "comment_id": 69175651, "body": "&quot;-F implicitly sets both -a and -n.&quot; in perlrun (using 5.22.2 anyway, this may have changed over the years)."}, {"owner": {"reputation": 320771, "user_id": 589924, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/b2cf53d5a3d25f95c0db4e025aed4153?s=128&d=identicon&r=PG", "display_name": "ikegami", "link": "https://stackoverflow.com/users/589924/ikegami"}, "edited": false, "score": 0, "creation_date": 1480971799, "post_id": 40982786, "comment_id": 69176110, "body": "Yeah, that&#39;s quite new. 5.20+"}], "tags": [], "owner": {"reputation": 19969, "user_id": 23512, "user_type": "registered", "accept_rate": 56, "profile_image": "https://i.stack.imgur.com/tUj1I.png?s=128&g=1", "display_name": "Tanktalus", "link": "https://stackoverflow.com/users/23512/tanktalus"}, "is_accepted": false, "score": 2, "last_activity_date": 1480971897, "last_edit_date": 1480971897, "creation_date": 1480969867, "answer_id": 40982786, "question_id": 40982582, "link": "https://stackoverflow.com/questions/40982582/filling-empty-fields/40982786#40982786", "title": "Filling empty fields", "body": "<p>Perl command would look something like this:</p>\n\n<pre><code>perl -F'\\t' -ple '$c1 = $F[0] if $F[0]; $F[0] ||= $c1; $_=join\"\\t\",@F' 40982582.tsv &gt; your_output.tsv\n</code></pre>\n\n<p>More readably:</p>\n\n<pre><code>#!/usr/bin/perl -pl -F\\t\n\n$c1 = $F[0] if $F[0]; # save off the first column if we have one.\n$F[0] ||= $c1;        # override empty first-columns.\n$_ = join \"\\t\", @F;   # set the topic back to the full line for -p to print\n</code></pre>\n\n<p>And then run:</p>\n\n<pre><code>perl yourscript.pl input_file.tsv &gt; output_file.tsv\n</code></pre>\n\n<p>(You can also use the \"-i\" flag to overwrite the file \"in place\" but that doesn't actually save you any time or disk space during runtime.)</p>\n\n<p>Still, however long your file is, that's how long this will take.</p>\n"}, {"comments": [{"owner": {"reputation": 149, "user_id": 5104004, "user_type": "registered", "accept_rate": 80, "profile_image": "https://www.gravatar.com/avatar/333d22385bb4756bb08ade3d37e06df2?s=128&d=identicon&r=PG&f=1", "display_name": "Oddish", "link": "https://stackoverflow.com/users/5104004/oddish"}, "edited": false, "score": 0, "creation_date": 1481033889, "post_id": 40982818, "comment_id": 69203490, "body": "Thank you so much for your help!"}], "tags": [], "owner": {"reputation": 62252, "user_id": 1435869, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/TrEd9.jpg?s=128&g=1", "display_name": "karakfa", "link": "https://stackoverflow.com/users/1435869/karakfa"}, "is_accepted": false, "score": 4, "last_activity_date": 1480969970, "creation_date": 1480969970, "answer_id": 40982818, "question_id": 40982582, "link": "https://stackoverflow.com/questions/40982582/filling-empty-fields/40982818#40982818", "title": "Filling empty fields", "body": "<p><code>awk</code> to the rescue!</p>\n\n<pre><code>$ awk 'BEGIN {FS=OFS=\"\\t\"} \n             {if($1!=\"\") p=$1; else $1=p}1' file\n\nF1      1\nF1      2\nF1      700\nF2      89\nF2      900\nF2      10000\nF2      19\nF3      100\nF3      60001\n</code></pre>\n\n<p>this is the input file I used</p>\n\n<pre><code>$ cat -A file\n\nF1^I1$\n^I2$\n^I700$\nF2^I89$\n^I900$\n^I10000$\n^I19$\nF3^I100$\n^I60001$\n</code></pre>\n"}, {"tags": [], "owner": {"reputation": 5253, "user_id": 1534218, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/a029fd63aaec1fbb0f0b2b81617f12a8?s=128&d=identicon&r=PG", "display_name": "slitvinov", "link": "https://stackoverflow.com/users/1534218/slitvinov"}, "is_accepted": false, "score": 1, "last_activity_date": 1480970496, "last_edit_date": 1480970496, "creation_date": 1480970103, "answer_id": 40982854, "question_id": 40982582, "link": "https://stackoverflow.com/questions/40982582/filling-empty-fields/40982854#40982854", "title": "Filling empty fields", "body": "<pre><code>$ cat pre.awk\nBEGIN   { FS = OFS = \"\\t\" }\nNF == 1 { print  pre,       $1 }\nNF == 2 { print (pre = $1), $2 }\n</code></pre>\n\n<p>Usage:</p>\n\n<pre><code>$ awk -f pre.awk file.dat\n</code></pre>\n"}, {"comments": [{"owner": {"reputation": 68617, "user_id": 3776858, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/juunm.png?s=128&g=1", "display_name": "Cyrus", "link": "https://stackoverflow.com/users/3776858/cyrus"}, "edited": false, "score": 0, "creation_date": 1480972511, "post_id": 40982904, "comment_id": 69176475, "body": "I&#39;ve tested it now with awk from Solaris 11. It does not work but it works fine with gawk (GNU) from Solaris 11."}, {"owner": {"reputation": 41196, "user_id": 887539, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/5baef9617bdee6db2f534c118bcbccee?s=128&d=identicon&r=PG", "display_name": "andlrc", "link": "https://stackoverflow.com/users/887539/andlrc"}, "edited": false, "score": 1, "creation_date": 1480972996, "post_id": 40982904, "comment_id": 69176728, "body": "<code>\\t</code> is not quoted, and becomes <code>t</code> - by the shell - which again becomes: <code>$1 == t</code>. <code>t</code> is an empty variable. But you relay on <code>\\t</code> will yield <code>t</code> in the given shell."}, {"owner": {"reputation": 155597, "user_id": 1745001, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/99a3ebae89496eb16afe453aae97f5be?s=128&d=identicon&r=PG", "display_name": "Ed Morton", "link": "https://stackoverflow.com/users/1745001/ed-morton"}, "edited": false, "score": 1, "creation_date": 1480980885, "post_id": 40982904, "comment_id": 69180172, "body": "There&#39;s 2 performance issues in that script - 1) Setting OFS=FS for every line of input is obviously slower than setting it once at startup, and 2) Assigning to $1 forces awk to recompile the record every time that happens. Also, an uparenthesized ternary expressions is less easy to read than one in parens and it&#39;ll cause syntax errors in some awks in some situations so just always parenthesize it as there&#39;s no negative to doing that."}], "tags": [], "owner": {"reputation": 68617, "user_id": 3776858, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/juunm.png?s=128&g=1", "display_name": "Cyrus", "link": "https://stackoverflow.com/users/3776858/cyrus"}, "is_accepted": true, "score": 2, "last_activity_date": 1480973403, "last_edit_date": 1480973403, "creation_date": 1480970325, "answer_id": 40982904, "question_id": 40982582, "link": "https://stackoverflow.com/questions/40982582/filling-empty-fields/40982904#40982904", "title": "Filling empty fields", "body": "<p>I suggest:</p>\n\n<pre><code>awk -F '\\t' '{OFS=FS; $1==\"\"?$1=b:b=$1}1' file\n</code></pre>\n"}, {"comments": [{"owner": {"reputation": 205702, "user_id": 7552, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/b60298053f87465641c1b1192338c8cd?s=128&d=identicon&r=PG", "display_name": "glenn jackman", "link": "https://stackoverflow.com/users/7552/glenn-jackman"}, "edited": false, "score": 0, "creation_date": 1480970672, "post_id": 40982983, "comment_id": 69175559, "body": "That&#39;s a clever assignment. If you set <code>$,=&quot;\\t&quot;</code>, you don&#39;t have to <code>join</code>"}, {"owner": {"reputation": 205702, "user_id": 7552, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/b60298053f87465641c1b1192338c8cd?s=128&d=identicon&r=PG", "display_name": "glenn jackman", "link": "https://stackoverflow.com/users/7552/glenn-jackman"}, "edited": false, "score": 0, "creation_date": 1480970806, "post_id": 40982983, "comment_id": 69175607, "body": "I would use <code>BEGIN {$,=&quot;\\t&quot;} $h = ...; print @F</code>"}, {"owner": {"reputation": 320771, "user_id": 589924, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/b2cf53d5a3d25f95c0db4e025aed4153?s=128&d=identicon&r=PG", "display_name": "ikegami", "link": "https://stackoverflow.com/users/589924/ikegami"}, "reply_to_user": {"reputation": 205702, "user_id": 7552, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/b60298053f87465641c1b1192338c8cd?s=128&d=identicon&r=PG", "display_name": "glenn jackman", "link": "https://stackoverflow.com/users/7552/glenn-jackman"}, "edited": false, "score": 0, "creation_date": 1480970858, "post_id": 40982983, "comment_id": 69175635, "body": "Why would I use <code>BEGIN { $, = &quot;\\t&quot;; } print @F;</code> over <code>print join &quot;\\t&quot;, @F;&#39;</code>?"}, {"owner": {"reputation": 123805, "user_id": 622310, "user_type": "registered", "accept_rate": 33, "profile_image": "https://www.gravatar.com/avatar/8b6d35219e1808520bc238b28161e2e6?s=128&d=identicon&r=PG", "display_name": "Borodin", "link": "https://stackoverflow.com/users/622310/borodin"}, "edited": false, "score": 0, "creation_date": 1480971490, "post_id": 40982983, "comment_id": 69175943, "body": "<code>perl -aF&#39;&#47;(\\t)&#47;&#39; -lne &#39;$d = $F[0] ||= $d; print @F&#39;</code>"}], "tags": [], "owner": {"reputation": 320771, "user_id": 589924, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/b2cf53d5a3d25f95c0db4e025aed4153?s=128&d=identicon&r=PG", "display_name": "ikegami", "link": "https://stackoverflow.com/users/589924/ikegami"}, "is_accepted": false, "score": 6, "last_activity_date": 1480971404, "last_edit_date": 1480971404, "creation_date": 1480970587, "answer_id": 40982983, "question_id": 40982582, "link": "https://stackoverflow.com/questions/40982582/filling-empty-fields/40982983#40982983", "title": "Filling empty fields", "body": "<pre><code>perl -F'\\t' -lane'$h = $F[0] ||= $h; print join \"\\t\", @F'\n</code></pre>\n\n<hr>\n\n<p>Assignments are right-associative, so</p>\n\n<pre><code>$h = $F[0] ||= $h;\n</code></pre>\n\n<p>is equivalent to</p>\n\n<pre><code>$h = ( $F[0] ||= $h );\n</code></pre>\n\n<p>and thus to</p>\n\n<pre><code>$F[0] ||= $h;\n$h = $F[0];\n</code></pre>\n\n<p>and</p>\n\n<pre><code>$F[0] = $h if !$F[0];\n$h = $F[0];\n</code></pre>\n"}, {"tags": [], "owner": {"reputation": 155597, "user_id": 1745001, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/99a3ebae89496eb16afe453aae97f5be?s=128&d=identicon&r=PG", "display_name": "Ed Morton", "link": "https://stackoverflow.com/users/1745001/ed-morton"}, "is_accepted": false, "score": 1, "last_activity_date": 1480980580, "creation_date": 1480980580, "answer_id": 40985277, "question_id": 40982582, "link": "https://stackoverflow.com/questions/40982582/filling-empty-fields/40985277#40985277", "title": "Filling empty fields", "body": "<pre><code>$ awk '{sub(/^\\t/,p\"&amp;\");p=$1}1' file\nF1      1\nF1      2\nF1      700\nF2      89\nF2      900\nF2      10000\nF2      19\nF3      100\nF3      60001\n</code></pre>\n"}, {"comments": [{"owner": {"reputation": 32176, "user_id": 2173773, "user_type": "registered", "accept_rate": 86, "profile_image": "https://i.stack.imgur.com/M8yh6.jpg?s=128&g=1", "display_name": "H&#229;kon H&#230;gland", "link": "https://stackoverflow.com/users/2173773/h%c3%a5kon-h%c3%a6gland"}, "edited": false, "score": 0, "creation_date": 1481017864, "post_id": 40991694, "comment_id": 69193261, "body": "Nice job, but you could present the test code you used, and run the test for at least 3 seconds to eliminate startup time influence on timing. See for example <a href=\"https://metacpan.org/pod/Benchmark\" rel=\"nofollow noreferrer\">Perl module Benchmark</a>."}, {"owner": {"reputation": 32176, "user_id": 2173773, "user_type": "registered", "accept_rate": 86, "profile_image": "https://i.stack.imgur.com/M8yh6.jpg?s=128&g=1", "display_name": "H&#229;kon H&#230;gland", "link": "https://stackoverflow.com/users/2173773/h%c3%a5kon-h%c3%a6gland"}, "edited": false, "score": 0, "creation_date": 1481028056, "post_id": 40991694, "comment_id": 69199693, "body": "Great! Thanks for the update. Now, next thing could be to check if the timings are stable. For example, if you add another <code>for</code> loop around the <code>for solution in $solutions*</code> where you take the average over say 10 runs, and check if the timings fluctuate wildely across iterations or seems to be fairly constant."}], "tags": [], "owner": {"reputation": 257, "user_id": 7235704, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/253411a1a98c3688e6bd9cbcdd2a774e?s=128&d=identicon&r=PG", "display_name": "Marek Nowaczyk", "link": "https://stackoverflow.com/users/7235704/marek-nowaczyk"}, "is_accepted": false, "score": 2, "last_activity_date": 1481024744, "last_edit_date": 1481024744, "creation_date": 1481015825, "answer_id": 40991694, "question_id": 40982582, "link": "https://stackoverflow.com/questions/40982582/filling-empty-fields/40991694#40991694", "title": "Filling empty fields", "body": "<p>This is <code>sed</code> solution:</p>\n\n<pre><code>sed -r -n '/\\w+\\s+\\w+/{p; s/^(\\w+\\s+).*/\\1/; h};/^\\w/!{G;s/^\\s+(\\w+)\\s+(\\w+\\s+)/\\2\\1/;p}' file.dat\nF1    1\nF1    2\nF1    700\nF2    89\nF2    900\nF2    10000\nF2    19\nF3    100\nF3    60001\n</code></pre>\n\n<p><strong>Time consumption and comparison to other awk solutions</strong></p>\n\n<p>This is code for testing (bash script)</p>\n\n<pre><code>#!/bin/sh\n\n## Input file with data to process\ninputfile=\"bigdata3.txt\"\n\n## solutions dir, that contains\n## - solution files, and\n## - every solution file contains code to evaluate\nsolutions=\"solutions/\"\n\nfile_size_kb=$(du -k \"$inputfile\" | cut -f1)\necho \"Size of input file: $file_size_kb kB\"\nfile_lines_count=$(wc -l $inputfile | sed -r 's/\\s*([0-9]+)\\s+.*/\\1/')\necho \"Lines of input file: $file_lines_count\"\n\ntest_code=\"time \\$code &gt; out.txt\"\necho \"Test code: '$test_code'\"\n\nfor solution in $solutions* ; do\n    ## output file deletion\n    if [ -f out.txt ]; then \n        rm out.txt \n    fi;\n\n    code_content=$(cat $solution)\n    code=\"time $code_content $inputfile &gt; out.txt\"\n    echo \"--------------------------------------------------\"\n    echo \"Solution: $solution\"\n    echo \"Code    : $code\"\n    res=$(sh -c \"cd $PWD; $code\")\n    echo $res\n\n    ## check correctness of output\n    incorrect_lines_count=$(sed -r -n \"/^[^[a-zA-Z0-9_]+/p\" out.txt |  wc -l | sed -r 's/\\s*([0-9]+)\\s*.*/\\1/')\n    total_lines=$(wc -l out.txt | sed -r 's/\\s*([0-9]+)\\s+.*/\\1/') \n    if [ $incorrect_lines_count -eq 0 ] &amp;&amp; [ $total_lines -eq $file_lines_count ]; then\n        echo \"TEST PASSED\"\n    else\n        echo \"INVALID SOLUTION:\"\n        echo \" - not processed lines: $incorrect_lines_count (spaces at line beginning)\"\n        echo \" - total processed lines: $total_lines (expecting: $file_lines_count)\"\n    fi\ndone;\n</code></pre>\n\n<p>and results (for 46kB input file):</p>\n\n<pre><code>Size of input file: 46034 kB\nLines of input file: 8658000\nTest code: 'time $code &gt; out.txt'\n--------------------------------------------------\nSolution: solutions/Cyrus_awk\nCode    : time awk -F '\\t' '{OFS=FS; $1==\"\"?$1=b:b=$1}1' bigdata3.txt &gt; out.txt\n\nreal    0m8.072s\nuser    0m7.644s\nsys     0m0.420s\n\nTEST PASSED\n--------------------------------------------------\nSolution: solutions/Ed_Morton_awk\nCode    : time awk '{sub(/^\\t/,p\"&amp;\");p=$1}1' bigdata3.txt &gt; out.txt\n\nreal    0m11.887s\nuser    0m11.434s\nsys     0m0.389s\n\nTEST PASSED\n--------------------------------------------------\nSolution: solutions/Marek_Nowaczyk_sed\nCode    : time sed -r -n '/\\w+\\s+\\w+/{p; s/^(\\w+\\s+).*/\\1/; h};/^\\w/!{G;s/^\\s+(\\w+)\\s+(\\w+\\s+)/\\2\\1/;p}' bigdata3.txt &gt;\nout.txt\n\nreal    0m30.239s\nuser    0m29.577s\nsys     0m0.545s\n\nTEST PASSED\n--------------------------------------------------\nSolution: solutions/Tanktalus_perl\nCode    : time perl -F'\\t' -ple '$c1 = $F[0] if $F[0]; $F[0] ||= $c1; $_=join\"\\t\",@F'  bigdata3.txt &gt; out.txt\n\nreal    0m6.992s\nuser    0m6.692s\nsys     0m0.281s\n\nTEST PASSED\n--------------------------------------------------\nSolution: solutions/ikeagami_perl\nCode    : time perl -F'\\t' -lane'$h = $F[0] ||= $h; print join \"\\t\", @F' bigdata3.txt &gt; out.txt\n\nreal    0m12.977s\nuser    0m12.463s\nsys     0m0.483s\n\nTEST PASSED\n--------------------------------------------------\nSolution: solutions/karakfa_awk\nCode    : time awk 'BEGIN {FS=OFS=\"\\t\"} {if($1!=\"\") p=$1; else $1=p}1'  bigdata3.txt &gt; out.txt\n\nreal    0m7.545s\nuser    0m6.832s\nsys     0m0.498s\n\nTEST PASSED\n--------------------------------------------------\nSolution: solutions/slitvinov_awk\nCode    : time awk 'BEGIN   { FS = OFS = \"\\t\" } NF == 1 { print  pre,       $1 } NF == 2 { print (pre = $1), $2 }' bigda\nta3.txt &gt; out.txt\n\nreal    0m8.333s\nuser    0m7.908s\nsys     0m0.404s\n\nINVALID SOLUTION:\n - not processed lines: 5772000 (spaces at line beginning)\n - total processed lines: 8658000 (expecting: 8658000)\n</code></pre>\n\n<p><strong>Conclusions</strong></p>\n\n<p>@Tanktalus <code>perl</code> solution has the best performance, but <code>awk</code> @karakfa and <code>awk</code> @Cyrus solutions also doing well.</p>\n\n<p><strong>Offtopic</strong></p>\n\n<p>This <code>sed</code> solution has best performance on smaller file (from this example, and for 8k file), but is really slow on bigger data.</p>\n"}], "owner": {"reputation": 149, "user_id": 5104004, "user_type": "registered", "accept_rate": 80, "profile_image": "https://www.gravatar.com/avatar/333d22385bb4756bb08ade3d37e06df2?s=128&d=identicon&r=PG&f=1", "display_name": "Oddish", "link": "https://stackoverflow.com/users/5104004/oddish"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 225, "favorite_count": 1, "accepted_answer_id": 40982904, "answer_count": 7, "score": 8, "last_activity_date": 1481024744, "creation_date": 1480969052, "last_edit_date": 1480970002, "question_id": 40982582, "link": "https://stackoverflow.com/questions/40982582/filling-empty-fields", "title": "Filling empty fields", "body": "<p>I have a very large tab-delimited file (approx 12 million lines) that looks like this:</p>\n\n<pre><code>F1    1\n      2\n      700\nF2    89\n      900\n      10000\n      19\nF3    100\n      60001\n</code></pre>\n\n<p>Is there any way I can make this like:</p>\n\n<pre><code>F1    1\nF1    2\nF1    700\nF2    89\nF2    900\nF2    10000\nF2    19\nF3    100\nF3    60001\n</code></pre>\n\n<p>I've tried using sed scripts but it takes so long.</p>\n\n<p>For example</p>\n\n<pre><code>sed 's/^/F1/' FILE | cut -c3- &gt; FILE1 ; mv FILE1 FILE\n</code></pre>\n\n<p>I could do it in excel using </p>\n\n<pre><code>=IF(a2==\"\",c1,a2)\n</code></pre>\n\n<p>and dragging down. However Excel will only allow me to load a certain amount of lines.</p>\n\n<p>(Assuming I've copied \"F1\" to C1)</p>\n\n<p>Surely there's an easier way with awk or sed?</p>\n"}, {"tags": ["perl", "stdin"], "comments": [{"owner": {"reputation": 3432, "user_id": 604642, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/48daad611ba387f8473b0c1e5792aa3f?s=128&d=identicon&r=PG", "display_name": "shawnhcorey", "link": "https://stackoverflow.com/users/604642/shawnhcorey"}, "edited": false, "score": 1, "creation_date": 1480972101, "post_id": 40982578, "comment_id": 69176247, "body": "It is best to have the read for any stream in one place. Don&#39;t nest them. Instead, set up a state machine for the input. Each line of input can then be dispatched to the appropriate processing depending on the state."}, {"owner": {"reputation": 1362, "user_id": 1810962, "user_type": "registered", "accept_rate": 80, "profile_image": "https://i.stack.imgur.com/4MfRM.jpg?s=128&g=1", "display_name": "joseph", "link": "https://stackoverflow.com/users/1810962/joseph"}, "reply_to_user": {"reputation": 3432, "user_id": 604642, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/48daad611ba387f8473b0c1e5792aa3f?s=128&d=identicon&r=PG", "display_name": "shawnhcorey", "link": "https://stackoverflow.com/users/604642/shawnhcorey"}, "edited": false, "score": 0, "creation_date": 1481052684, "post_id": 40982578, "comment_id": 69215458, "body": "@shawnhcorey : Yeah that works. However, I find functions much easier to reason about than state machines."}, {"owner": {"reputation": 3432, "user_id": 604642, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/48daad611ba387f8473b0c1e5792aa3f?s=128&d=identicon&r=PG", "display_name": "shawnhcorey", "link": "https://stackoverflow.com/users/604642/shawnhcorey"}, "edited": false, "score": 0, "creation_date": 1481069011, "post_id": 40982578, "comment_id": 69222762, "body": "Time to upgrade your skills."}], "answers": [{"comments": [{"owner": {"reputation": 1362, "user_id": 1810962, "user_type": "registered", "accept_rate": 80, "profile_image": "https://i.stack.imgur.com/4MfRM.jpg?s=128&g=1", "display_name": "joseph", "link": "https://stackoverflow.com/users/1810962/joseph"}, "edited": false, "score": 0, "creation_date": 1480970180, "post_id": 40982662, "comment_id": 69175330, "body": "That&#39;s my bad for assuming it was lazy."}, {"owner": {"reputation": 113221, "user_id": 100754, "user_type": "registered", "accept_rate": 90, "profile_image": "https://www.gravatar.com/avatar/7804ebae32fbadef38537d74a915c22f?s=128&d=identicon&r=PG", "display_name": "Sinan &#220;n&#252;r", "link": "https://stackoverflow.com/users/100754/sinan-%c3%9cn%c3%bcr"}, "edited": false, "score": 1, "creation_date": 1481025403, "post_id": 40982662, "comment_id": 69197954, "body": "@Tanktalus <b><i>NO!</i></b> It is not. Try <code>perl -MO=Deparse -e &#39;while (&lt;&gt;) { print &quot;no\\n&quot; }&#39;</code> ... Also, it is very interesting that you do not make the same mistake in your other answers (e.g. <a href=\"https://stackoverflow.com/a/40748273/100754\">this one</a>)."}], "tags": [], "owner": {"reputation": 19969, "user_id": 23512, "user_type": "registered", "accept_rate": 56, "profile_image": "https://i.stack.imgur.com/tUj1I.png?s=128&g=1", "display_name": "Tanktalus", "link": "https://stackoverflow.com/users/23512/tanktalus"}, "is_accepted": true, "score": 0, "last_activity_date": 1480988477, "last_edit_date": 1480988477, "creation_date": 1480969351, "answer_id": 40982662, "question_id": 40982578, "link": "https://stackoverflow.com/questions/40982578/how-do-i-do-nested-reads-from-stdin-in-perl/40982662#40982662", "title": "How do I do nested reads from &lt;STDIN&gt; in perl?", "body": "<p>When you say <code>foreach my $line ( &lt;$in&gt; )</code>, this causes perl to read the entire <code>$in</code> filehandle before starting the loop.  What you probably want is more like this:</p>\n\n<pre><code>while (defined(my $line = &lt;$in&gt;))\n</code></pre>\n\n<p>This will only read one line at a time, discarding it as you finish with it.</p>\n"}, {"comments": [{"owner": {"reputation": 1362, "user_id": 1810962, "user_type": "registered", "accept_rate": 80, "profile_image": "https://i.stack.imgur.com/4MfRM.jpg?s=128&g=1", "display_name": "joseph", "link": "https://stackoverflow.com/users/1810962/joseph"}, "edited": false, "score": 0, "creation_date": 1480970146, "post_id": 40982694, "comment_id": 69175308, "body": "zdim, this answer also works for me but Tanktalus came first. sorry. :("}, {"owner": {"reputation": 53041, "user_id": 4653379, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/b3953dbedd0dabff5cbc3db9b0835b14?s=128&d=identicon&r=PG&f=1", "display_name": "zdim", "link": "https://stackoverflow.com/users/4653379/zdim"}, "reply_to_user": {"reputation": 1362, "user_id": 1810962, "user_type": "registered", "accept_rate": 80, "profile_image": "https://i.stack.imgur.com/4MfRM.jpg?s=128&g=1", "display_name": "joseph", "link": "https://stackoverflow.com/users/1810962/joseph"}, "edited": false, "score": 0, "creation_date": 1480970268, "post_id": 40982694, "comment_id": 69175373, "body": "@joseph  That&#39;s absolutely fine -- thanks for saying that, but you never have to explain that decision :). Also, they did come first :)  Regardless of this -- if it is fine reading all input first then consider doing that first and working with that, not with filehandle anymore."}], "tags": [], "owner": {"reputation": 53041, "user_id": 4653379, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/b3953dbedd0dabff5cbc3db9b0835b14?s=128&d=identicon&r=PG&f=1", "display_name": "zdim", "link": "https://stackoverflow.com/users/4653379/zdim"}, "is_accepted": false, "score": 5, "last_activity_date": 1481013667, "last_edit_date": 1481013667, "creation_date": 1480969512, "answer_id": 40982694, "question_id": 40982578, "link": "https://stackoverflow.com/questions/40982578/how-do-i-do-nested-reads-from-stdin-in-perl/40982694#40982694", "title": "How do I do nested reads from &lt;STDIN&gt; in perl?", "body": "<p>The <code>foreach</code> iterates over a <em>list</em>, so <code>&lt;&gt;</code> is in the list context and thus it reads everything from the filehandle.  So when you pass <code>$in</code> to the sub there's no input left on it. See <a href=\"http://perldoc.perl.org/perlop.html#I%2fO-Operators\" rel=\"nofollow noreferrer\">I/O Operators in perlop</a>.</p>\n\n<p>You can read a line at a time, <code>while (my $line = &lt;$in&gt;)</code>, but I am not sure whether that may affect the rest of your algorithm.</p>\n\n<p>Alternatively, if you do read all input ahead of time why not just work with an array of lines then.</p>\n"}], "owner": {"reputation": 1362, "user_id": 1810962, "user_type": "registered", "accept_rate": 80, "profile_image": "https://i.stack.imgur.com/4MfRM.jpg?s=128&g=1", "display_name": "joseph", "link": "https://stackoverflow.com/users/1810962/joseph"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 215, "favorite_count": 1, "accepted_answer_id": 40982662, "answer_count": 2, "score": 0, "last_activity_date": 1481013667, "creation_date": 1480969018, "question_id": 40982578, "link": "https://stackoverflow.com/questions/40982578/how-do-i-do-nested-reads-from-stdin-in-perl", "title": "How do I do nested reads from &lt;STDIN&gt; in perl?", "body": "<p>I'm writing a script to parse thread dumps from Java. For some reason when I try to read from within the subroutine, or inside a nest loop, it doesn't enter the nested loop at all. Ideally I want to be able to operate on STDIN on nested loops otherwise you'll have to write some ugly state transition code.</p>\n\n<p>Before I was using STDIN, but just to make sure that my subroutine didn't have an independent pointer to STDIN, I opened it into <code>$in</code>.</p>\n\n<p>When I run it, it looks like below. You can see that it never enters the nested loop despite the outer loop having more files from STDIN to read.</p>\n\n<pre><code>~/$ cat catalina.out-20160* | thread.dump.find.all.pl\nin is GLOB(0x7f8d440054e8)\nfound start of thread dump at 2016-06-17 13:38:23 saving to tdump.2016.06.17.13.38.23.txt\nin is GLOB(0x7f8d440054e8)\nBEFORE NESTED STDIN\nBUG!!!!\nfound start of thread dump at 2016-06-17 13:43:05 saving to tdump.2016.06.17.13.43.05.txt\nin is GLOB(0x7f8d440054e8)\nBEFORE NESTED STDIN\nBUG!!!!\n...\n</code></pre>\n\n<p>The code:</p>\n\n<pre><code>#!/usr/bin/perl\nuse strict;\nuse warnings;\nuse Getopt::Long;\nuse DateTime::Format::Strptime;\nuse DateTime::Format::Duration;\nuse Data::Dumper;\n# DO NOT touch ARGV!\nGetopt::Long::Configure(\"pass_through\");\n\n# cat catalina.out-* | thread.dump.find.all.pl\n\n\n\nsub processThreadDump {\n    my $in=$_[0];\n    my $currentLine=$_[1];\n    my $prevLine=$_[2];\n    my $parsedDatetime=$_[2];\n\n    # 2016-09-28 09:27:34\n    $parsedDatetime=~ s/[ \\-\\:]/./g;\n    my $outfile=\"tdump.$parsedDatetime.txt\";\n    print \" saving to $outfile\\n\";\n    print \" in is $in\\n\";\n    open(my $out, '&gt;', $outfile);\n    print $out \"$prevLine\\n\";\n    print $out \"$currentLine\\n\";\n    print \"BEFORE NESTED STDIN\\n\";\n    foreach my $line ( &lt;$in&gt; ) {\n        print \"INSIDE NESTED STDIN\\n\";\n        $line =~ s/\\R//g; #remove newlines\n        print $out \"$line\\n\";\n        if( $line =~ m/JNI global references:/ ) {\n            print \"PROPERLY LEFT NESTED STDIN\\n\";\n            close($out);\n            return;\n        } elsif( $line =~ m/Found \\d+ deadlock\\./ ) {\n            print \"PROPERLY LEFT NESTED STDIN\\n\";\n            close($out);\n            return;\n        }\n    }\n    print \"BUG!!!!\\n\";\n    close($out);\n}\n\nopen(my $in, '&lt;-');\nprint \"in is $in\\n\";\nmy $prevLine;\n# read from standard in\nforeach my $line ( &lt;$in&gt; ) {\n    $line =~ s/\\R//g; #remove newlines\n    if( $line =~ m/Full thread dump OpenJDK 64-Bit Server VM/ ) {\n        # we found the start of a thread dump\n        print \"found start of thread dump at ${prevLine}\";\n        processThreadDump($in, $line, $prevLine);\n    } else {\n        #print \"setting prev line to $line\\n\";\n        $prevLine=$line;\n    }\n}\nclose($in);\n</code></pre>\n"}, {"tags": ["perl", "encoding", "split", "utf-16"], "answers": [{"comments": [{"owner": {"reputation": 99, "user_id": 1400161, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/bb9982983bfef6b69e6bce9f308e72d9?s=128&d=identicon&r=PG", "display_name": "Pradeep", "link": "https://stackoverflow.com/users/1400161/pradeep"}, "edited": false, "score": 0, "creation_date": 1480971614, "post_id": 40982735, "comment_id": 69176007, "body": "great! that fixed my issue :) Also I didn&#39;t know about  1) split trims last field if it is empty. Link which educates this pls.  2) all the components (first and third) of &quot;&lt;:raw:encoding(UTF-16):crlf&quot;. Although they are self explanatory, I would still like to read documentation on this. Any link appreciated."}, {"owner": {"reputation": 99, "user_id": 1400161, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/bb9982983bfef6b69e6bce9f308e72d9?s=128&d=identicon&r=PG", "display_name": "Pradeep", "link": "https://stackoverflow.com/users/1400161/pradeep"}, "edited": false, "score": 0, "creation_date": 1480971822, "post_id": 40982735, "comment_id": 69176125, "body": "Also is it best practice to use -1 with split? my @fields = split($COL_SEP, $line, -1);"}, {"owner": {"reputation": 320771, "user_id": 589924, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/b2cf53d5a3d25f95c0db4e025aed4153?s=128&d=identicon&r=PG", "display_name": "ikegami", "link": "https://stackoverflow.com/users/589924/ikegami"}, "reply_to_user": {"reputation": 99, "user_id": 1400161, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/bb9982983bfef6b69e6bce9f308e72d9?s=128&d=identicon&r=PG", "display_name": "Pradeep", "link": "https://stackoverflow.com/users/1400161/pradeep"}, "edited": false, "score": 0, "creation_date": 1480972416, "post_id": 40982735, "comment_id": 69176424, "body": "1) <a href=\"http://perldoc.perl.org/functions/split.html\" rel=\"nofollow noreferrer\"><code>split</code></a>. /// 2) <code>:raw</code> is basically binmode with no second arg. In this case, it prevents <code>:crlf</code> from being added before <code>:encoding</code> (something Perl does on Windows). You already know <code>:encoding</code>. <code>:crlf</code> cause CRLF=&gt;LF on read and LF=&gt;CRLF on write. /// 3) It all depends on what you want. Usually, I either want <code>-1</code> or it doesn&#39;t matter."}], "tags": [], "owner": {"reputation": 320771, "user_id": 589924, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/b2cf53d5a3d25f95c0db4e025aed4153?s=128&d=identicon&r=PG", "display_name": "ikegami", "link": "https://stackoverflow.com/users/589924/ikegami"}, "is_accepted": false, "score": 4, "last_activity_date": 1480972528, "last_edit_date": 1480972528, "creation_date": 1480969683, "answer_id": 40982735, "question_id": 40982286, "link": "https://stackoverflow.com/questions/40982286/perls-split-function-not-working-properly-for-utf-16-encoding/40982735#40982735", "title": "perl&#39;s split function not working properly for UTF-16 encoding", "body": "<p>For the first line, <code>split</code> returns <code>\"1\", \"P7\", \"extended ascii \u00c0\u00c7\u00ca\", \"\", \"\\r\"</code></p>\n\n<p>For the second line, <code>split</code> returns <code>\"2\", \"P8\", \"non-ascii \u03a9\u0416\u05d0\u0d09\u3066\", \"\", \"\\r\"</code></p>\n\n<p>For the third line, <code>split</code> would return <code>\"3\", \"P8\", \"non-ascii \u03a9\u0416\u05d0\u0d09\u3066\", \"\", \"\"</code> except that <code>split</code> drops empty trailing fields by default.</p>\n\n<h2>Problem 1: Improper removal of line terminator.</h2>\n\n<p>Change</p>\n\n<pre><code>open(FL, \"&lt;:encoding(UTF-16)\", $ARGV[0])\n</code></pre>\n\n<p>to</p>\n\n<pre><code>open(FL, \"&lt;:encoding(UTF-16):crlf\", $ARGV[0])\n</code></pre>\n\n<p>If you want this to work properly on Windows too, that needs to be</p>\n\n<pre><code>open(FL, \"&lt;:raw:encoding(UTF-16):crlf\", $ARGV[0])\n</code></pre>\n\n<p>Of course, you shouldn't be using global variables, so that should really be</p>\n\n<pre><code>open(my $FL, \"&lt;:raw:encoding(UTF-16):crlf\", $ARGV[0])\n</code></pre>\n\n<h2>Problem 2: Preservation of empty trailing fields.</h2>\n\n<p>Change </p>\n\n<pre><code>my @fields = split($COL_SEP, $line);\n</code></pre>\n\n<p>to</p>\n\n<pre><code>my @fields = split($COL_SEP, $line, -1);\n</code></pre>\n\n<p>Of course, the first argument of <code>split</code> is expected to be a regex pattern, so that should really be</p>\n\n<pre><code>my @fields = split(quotemeta($COL_SEP), $line, -1);\n</code></pre>\n\n<p>or</p>\n\n<pre><code>my @fields = split(qr/\\Q$COL_SEP/, $line, -1);\n</code></pre>\n\n<p>or</p>\n\n<pre><code>my @fields = split(/\\Q$COL_SEP/, $line, -1);\n</code></pre>\n"}], "owner": {"reputation": 99, "user_id": 1400161, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/bb9982983bfef6b69e6bce9f308e72d9?s=128&d=identicon&r=PG", "display_name": "Pradeep", "link": "https://stackoverflow.com/users/1400161/pradeep"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 145, "favorite_count": 0, "answer_count": 1, "score": 1, "last_activity_date": 1480972528, "creation_date": 1480967757, "question_id": 40982286, "link": "https://stackoverflow.com/questions/40982286/perls-split-function-not-working-properly-for-utf-16-encoding", "title": "perl&#39;s split function not working properly for UTF-16 encoding", "body": "<p>Ques: Why this last line which doesn't have CFLF in the end not being properly split by perl's split function. It should show 5 fields.</p>\n\n<p>input file has these lines. Last line doesnt have CRLF (carriage return and Line feed)</p>\n\n<pre><code>1;P7;extended ascii \u00c0\u00c7\u00ca;;\n2;P8;non-ascii \u03a9\u0416\u05d0\u0d09\u3066;;\n3;P8;non-ascii \u03a9\u0416\u05d0\u0d09\u3066;;\n</code></pre>\n\n<p>my code is,</p>\n\n<pre><code>use strict;\nuse warnings;\nuse Encode;\nuse utf8;\nmy $COL_SEP=';';\nopen FL, \"&lt;:encoding(UTF-16)\", $ARGV[0] or die \"canot open\\n\";\nwhile(my $line= &lt;FL&gt;) {\nchomp $line;\n    print \"$. length=\",length($line),\"\\n\";\n#   print \"\\n\",$line,\"\\n\";\n    my @fields = split($COL_SEP, $line);\n    print \"number of fields=\",scalar(@fields),\"\\n\";\n}\nclose FL;\n</code></pre>\n\n<p>out put is </p>\n\n<pre><code>1 length=26\nnumber of fields=5\n2 length=23\nnumber of fields=5\n3 length=22\nnumber of fields=3\n</code></pre>\n"}, {"tags": ["perl", "multidimensional-array", "subroutine"], "comments": [{"owner": {"reputation": 461, "user_id": 6933790, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/5ef7fb7c460676595845863a65a6461b?s=128&d=identicon&r=PG&f=1", "display_name": "J Reid", "link": "https://stackoverflow.com/users/6933790/j-reid"}, "edited": false, "score": 1, "creation_date": 1480958988, "post_id": 40979888, "comment_id": 69169161, "body": "See this link ... <a href=\"http://stackoverflow.com/questions/5680147/passing-two-or-more-arrays-to-a-perl-subroutine\" title=\"passing two or more arrays to a perl subroutine\">stackoverflow.com/questions/5680147/&hellip;</a> should help you ... you have to dereference the array"}, {"owner": {"reputation": 320771, "user_id": 589924, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/b2cf53d5a3d25f95c0db4e025aed4153?s=128&d=identicon&r=PG", "display_name": "ikegami", "link": "https://stackoverflow.com/users/589924/ikegami"}, "edited": false, "score": 1, "creation_date": 1480959352, "post_id": 40979888, "comment_id": 69169396, "body": "You can&#39;t pass arrays to subs. What you have is equivalent to <code>newSubject($name, $newArayNames[0], $newArayNames[1], ..., $newMatrizGrades[0], $newMatrizGrades[1], ...)</code> Pass references to the arrays instead."}], "answers": [{"tags": [], "owner": {"reputation": 8273, "user_id": 1334695, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/431ae6e9f7610b9d6a6a6cdebd0244d5?s=128&d=identicon&r=PG", "display_name": "stevieb", "link": "https://stackoverflow.com/users/1334695/stevieb"}, "is_accepted": false, "score": 1, "last_activity_date": 1480959399, "creation_date": 1480959399, "answer_id": 40980071, "question_id": 40979888, "link": "https://stackoverflow.com/questions/40979888/passing-a-two-dimensional-array-to-sub-routine-perl/40980071#40980071", "title": "Passing a two-dimensional array to sub routine perl", "body": "<p>Perl mashes subroutine arguments into one long list (and therefore can't identify the separate list/array variables), so in this case, you need to send in references to the arrays, and then dereference them within the sub when you go to use them:</p>\n\n<pre><code>use warnings;\nuse strict;\n\nnewSubject($name, \\@newArrayNames, \\@newMatrizGrades);\n\nsub newSubject {\n    my ($name, $names, $grades) = @_;\n\n    for (@$names){\n        # do something\n    }\n\n    print \"$grades-&gt;[0][0]\\n\";\n}\n</code></pre>\n"}], "owner": {"reputation": 21, "user_id": 5768391, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/017c498f4e93285b5928dfb953d849c9?s=128&d=identicon&r=PG&f=1", "display_name": "R. Baptista", "link": "https://stackoverflow.com/users/5768391/r-baptista"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 848, "favorite_count": 0, "closed_date": 1480959506, "answer_count": 1, "score": 0, "last_activity_date": 1480959399, "creation_date": 1480958669, "question_id": 40979888, "link": "https://stackoverflow.com/questions/40979888/passing-a-two-dimensional-array-to-sub-routine-perl", "closed_reason": "Duplicate", "title": "Passing a two-dimensional array to sub routine perl", "body": "<p>I have this array:</p>\n\n<pre><code>print (\"Grade\\n\");\n        for (my $j=0; $j &lt; $size; $j++){\n            for (my $i=0; $i &lt; $sizeCol; $i++){\n                print(\"$newMatrizGrades[$j][$i] \");\n            }\n            print (\"\\n\");\n        }\n\nnewSubject ($name,@newArrayNames,@newMatrizGrades);\n}\n</code></pre>\n\n<p>On the print, I can see the elements. But when i'm inside the routine. Acessing the array in this way $<em>[$sizeNewArrayName] , I get an address instead of the values. The @newArrayNames is a 1-dimensional array, which i can access the elements $</em>[1],$<em>[2],...,$</em>[$sizeNewArrayName], without futher problems. Someone can help me?</p>\n"}, {"tags": ["json", "xml", "perl", "types", "xsd"], "comments": [{"owner": {"reputation": 123805, "user_id": 622310, "user_type": "registered", "accept_rate": 33, "profile_image": "https://www.gravatar.com/avatar/8b6d35219e1808520bc238b28161e2e6?s=128&d=identicon&r=PG", "display_name": "Borodin", "link": "https://stackoverflow.com/users/622310/borodin"}, "edited": false, "score": 2, "creation_date": 1480955528, "post_id": 40978304, "comment_id": 69167102, "body": "<b><i>You can&#39;t do this,</i></b> and untyped data is the least of your worries. In general, an XML document has no equivalent JSON string. You would need to do a lot of checking to make sure that there is no loss of information if you try to do this. Why do you think this is necessary? XML is as portable as JSON and more, and there is an XML library for the majority of popular programming languages."}, {"owner": {"reputation": 123805, "user_id": 622310, "user_type": "registered", "accept_rate": 33, "profile_image": "https://www.gravatar.com/avatar/8b6d35219e1808520bc238b28161e2e6?s=128&d=identicon&r=PG", "display_name": "Borodin", "link": "https://stackoverflow.com/users/622310/borodin"}, "edited": false, "score": 3, "creation_date": 1480955943, "post_id": 40978304, "comment_id": 69167334, "body": "The <a href=\"https://metacpan.org/pod/XML::Simple\" rel=\"nofollow noreferrer\">documentation for <code>XML::Simple</code></a> has this. <i>&quot;You really don&#39;t want to use this module in new code&quot;</i> and <i>&quot;The use of this module in new code is discouraged. Other modules are available which provide more straightforward and consistent interfaces&quot;</i>. <code>XML::Simple</code> is a very long way from being able to take account of an XSD schema."}, {"owner": {"reputation": 320771, "user_id": 589924, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/b2cf53d5a3d25f95c0db4e025aed4153?s=128&d=identicon&r=PG", "display_name": "ikegami", "link": "https://stackoverflow.com/users/589924/ikegami"}, "edited": false, "score": 3, "creation_date": 1480956853, "post_id": 40978304, "comment_id": 69167903, "body": "You&#39;ll probably end up having to navigate the XML and the XSD in parallel. If that&#39;s the case, this is a lot of work and far beyond the scope of SO.  It&#39;s probably faster to create a non-generic solution (i.e. one that doesn&#39;t actually read the XSD)."}, {"owner": {"reputation": 13, "user_id": 6468834, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/e24250a976f684c44e72c79b0bd0316a?s=128&d=identicon&r=PG&f=1", "display_name": "Blake_ch", "link": "https://stackoverflow.com/users/6468834/blake-ch"}, "edited": false, "score": 0, "creation_date": 1481111447, "post_id": 40978304, "comment_id": 69240514, "body": "Thanks for your input. This right. For some reasons I need to keep both formats, so the way to go will be developping my own tool."}], "answers": [{"tags": [], "owner": {"reputation": 51521, "user_id": 2566198, "user_type": "registered", "accept_rate": 67, "profile_image": "https://i.stack.imgur.com/Y34ZA.jpg?s=128&g=1", "display_name": "Sobrique", "link": "https://stackoverflow.com/users/2566198/sobrique"}, "is_accepted": true, "score": 0, "last_activity_date": 1481111834, "last_edit_date": 1495542649, "creation_date": 1481111834, "answer_id": 41016844, "question_id": 40978304, "link": "https://stackoverflow.com/questions/40978304/convert-xml-document-to-json-string-preserving-boolean-types/41016844#41016844", "title": "Convert XML document to JSON string preserving boolean types", "body": "<p>Well, the summary answer is - you can't do what you're trying to do, the way you're trying to do it. </p>\n\n<p>XML is a 'deeper' structure than JSON, in that it has style sheets and attributes, so inherently you'll be discarding data in the transformation process. How much is acceptable to discard is always going to be a case by case sort of thing. </p>\n\n<p>More importantly - both <code>XML</code> and <code>JSON</code> are designed with similar use cases - to be machine readable/parsable. Almost everything that can 'read' <code>JSON</code> programatically can also read <code>XML</code> because libraries for both are <em>generally</em> available. </p>\n\n<p>And most importantly of all - <a href=\"https://stackoverflow.com/questions/33267765/why-is-xmlsimple-discouraged\">Don't use <code>XML::Simple</code></a> as it's not \"Simple\" it's <em>for</em> \"Simple\" XML. Which yours isn't. Both <code>XML::Twig</code> and <code>XML::LibXML</code> are <em>much</em> better tools for almost any XML parsing job. </p>\n\n<p>So really - what you need to do is backtrack a bit, and explain what you're trying to accomplish and why. </p>\n\n<p>Failing that though - I would <em>probably</em> try a simplistic 'type test' within perl, using regex to detect if something is 'just' numeric, or 'just' boolean, and treat everything else as string. </p>\n"}], "owner": {"reputation": 13, "user_id": 6468834, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/e24250a976f684c44e72c79b0bd0316a?s=128&d=identicon&r=PG&f=1", "display_name": "Blake_ch", "link": "https://stackoverflow.com/users/6468834/blake-ch"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 574, "favorite_count": 0, "accepted_answer_id": 41016844, "answer_count": 1, "score": 0, "last_activity_date": 1481111834, "creation_date": 1480953637, "last_edit_date": 1592644375, "question_id": 40978304, "link": "https://stackoverflow.com/questions/40978304/convert-xml-document-to-json-string-preserving-boolean-types", "title": "Convert XML document to JSON string preserving boolean types", "body": "<p>I have XML files following an XSD and I need to transform them into JSON.</p>\n<p>The files are typically like this</p>\n<h3>example.xml :</h3>\n<pre><code>&lt;object name=&quot;foo&quot;&gt;\n  &lt;values&gt;one&lt;/values&gt;\n  &lt;values&gt;two&lt;/values&gt;\n  &lt;values&gt;three&lt;/values&gt;\n  &lt;param attr=&quot;2&quot; value=&quot;true&quot; /&gt;\n&lt;/object&gt;\n</code></pre>\n<p>Which translate into JSON to this</p>\n<pre><code>{\n  &quot;name&quot; : &quot;foo&quot;,\n  &quot;values&quot; : [\n    &quot;one&quot;,\n    &quot;two&quot;,\n    &quot;three&quot;\n  ],\n  &quot;param&quot; : {\n    &quot;attr&quot; : &quot;2&quot;,\n    &quot;value&quot; : &quot;true&quot;\n  }\n}\n</code></pre>\n<p>This is almost fine, except that I would like the data to be typed, so that param becomes :</p>\n<pre><code>  &quot;param&quot; : {\n    &quot;attr&quot; : 2,\n    &quot;value&quot; : true\n  }\n</code></pre>\n<p>The XML files reference an XSD schema that defines the data type for each element or attribute, such as</p>\n<pre><code>&lt;xs:attribute name=&quot;attr&quot; type=&quot;xs:integer&quot;\n</code></pre>\n<p>The XML to JSON transformation is done using <code>XML::Simple</code> to read the XML into a Perl hash and the JSON module is used to encode into JSON.</p>\n<p>How could I do the same job but using the definitions from the XSD Schema to load the XML with the right type for each field?</p>\n<p>I need to use the XSD because it may happen that text field are made of only numbers.</p>\n"}, {"tags": ["regex", "perl"], "comments": [{"owner": {"reputation": 320771, "user_id": 589924, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/b2cf53d5a3d25f95c0db4e025aed4153?s=128&d=identicon&r=PG", "display_name": "ikegami", "link": "https://stackoverflow.com/users/589924/ikegami"}, "edited": false, "score": 1, "creation_date": 1480956495, "post_id": 40978264, "comment_id": 69167671, "body": "Reopened. None of the answers to the linked question answered the OP&#39;s question. All the answers suggested to use <code>\\Q</code> or similar, so it was obviously a different question. I&#39;m sure one could find a duplicate; this just wasn&#39;t it."}], "answers": [{"tags": [], "owner": {"reputation": 320771, "user_id": 589924, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/b2cf53d5a3d25f95c0db4e025aed4153?s=128&d=identicon&r=PG", "display_name": "ikegami", "link": "https://stackoverflow.com/users/589924/ikegami"}, "is_accepted": true, "score": 3, "last_activity_date": 1480953959, "creation_date": 1480953959, "answer_id": 40978390, "question_id": 40978264, "link": "https://stackoverflow.com/questions/40978264/concatenate-variable-and-string-in-perl-regex/40978390#40978390", "title": "Concatenate variable and string in perl Regex", "body": "<pre><code>/\\Q$value\\E01/   # \\E ends \\Q\n</code></pre>\n\n<p>or</p>\n\n<pre><code>/\\Q${value}01/   # Without the curlies, it would access var $value01\n</code></pre>\n"}], "owner": {"reputation": 29, "user_id": 7252841, "user_type": "registered", "accept_rate": 86, "profile_image": "https://www.gravatar.com/avatar/d271f205092dddf6e79d7bd8067c01fa?s=128&d=identicon&r=PG&f=1", "display_name": "Sarath", "link": "https://stackoverflow.com/users/7252841/sarath"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 1022, "favorite_count": 0, "accepted_answer_id": 40978390, "answer_count": 1, "score": -3, "last_activity_date": 1480956499, "creation_date": 1480953508, "last_edit_date": 1480956041, "question_id": 40978264, "link": "https://stackoverflow.com/questions/40978264/concatenate-variable-and-string-in-perl-regex", "title": "Concatenate variable and string in perl Regex", "body": "<p>I am saving a string in a variable. I want to use this variable in a regex along with some other patterns. </p>\n\n<p>For example my variable is like this</p>\n\n<pre><code>my $value = 'COMPONENT'\n</code></pre>\n\n<p>I want to use this variable in regex along with some pattern like 01,02. So my matching expressions will be like</p>\n\n<pre><code>/COMPONENT01/ \n</code></pre>\n\n<p>I am using something like this <code>/\\Q$value/</code> But not sure how I can add 01 to it.</p>\n"}, {"tags": ["perl", "hex", "snmp"], "comments": [{"owner": {"reputation": 21782, "user_id": 176646, "user_type": "registered", "accept_rate": 88, "profile_image": "https://i.stack.imgur.com/HsQyV.png?s=128&g=1", "display_name": "ThisSuitIsBlackNot", "link": "https://stackoverflow.com/users/176646/thissuitisblacknot"}, "edited": false, "score": 1, "creation_date": 1480951763, "post_id": 40976967, "comment_id": 69164751, "body": "So you want to output <code>07 9F F4 XX</code> instead of <code>0x079ff4aXX</code>?"}, {"owner": {"reputation": 67, "user_id": 6699525, "user_type": "registered", "accept_rate": 75, "profile_image": "https://www.gravatar.com/avatar/e9f6d64aed2540e4e050fd906d977e9d?s=128&d=identicon&r=PG", "display_name": "superzero10", "link": "https://stackoverflow.com/users/6699525/superzero10"}, "reply_to_user": {"reputation": 21782, "user_id": 176646, "user_type": "registered", "accept_rate": 88, "profile_image": "https://i.stack.imgur.com/HsQyV.png?s=128&g=1", "display_name": "ThisSuitIsBlackNot", "link": "https://stackoverflow.com/users/176646/thissuitisblacknot"}, "edited": false, "score": 0, "creation_date": 1480951831, "post_id": 40976967, "comment_id": 69164787, "body": "@ThisSuitIsBlackNot yes exaclty"}, {"owner": {"reputation": 123805, "user_id": 622310, "user_type": "registered", "accept_rate": 33, "profile_image": "https://www.gravatar.com/avatar/8b6d35219e1808520bc238b28161e2e6?s=128&d=identicon&r=PG", "display_name": "Borodin", "link": "https://stackoverflow.com/users/622310/borodin"}, "edited": false, "score": 1, "creation_date": 1480956745, "post_id": 40976967, "comment_id": 69167815, "body": "What happened to the <code>a</code>? There are nine hex characters in your value. What does it really look like?"}, {"owner": {"reputation": 8273, "user_id": 1334695, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/431ae6e9f7610b9d6a6a6cdebd0244d5?s=128&d=identicon&r=PG", "display_name": "stevieb", "link": "https://stackoverflow.com/users/1334695/stevieb"}, "edited": false, "score": 0, "creation_date": 1480956808, "post_id": 40976967, "comment_id": 69167869, "body": "if that <code>a</code> is a typo and shouldn&#39;t really be there, this will do what you want: <code>$ex =~ s&#47;^0x&#47;&#47;; $ex = join &#39; &#39;, $ex =~ m&#47;..&#47;g;</code>"}, {"owner": {"reputation": 123805, "user_id": 622310, "user_type": "registered", "accept_rate": 33, "profile_image": "https://www.gravatar.com/avatar/8b6d35219e1808520bc238b28161e2e6?s=128&d=identicon&r=PG", "display_name": "Borodin", "link": "https://stackoverflow.com/users/622310/borodin"}, "reply_to_user": {"reputation": 8273, "user_id": 1334695, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/431ae6e9f7610b9d6a6a6cdebd0244d5?s=128&d=identicon&r=PG", "display_name": "stevieb", "link": "https://stackoverflow.com/users/1334695/stevieb"}, "edited": false, "score": 0, "creation_date": 1480956903, "post_id": 40976967, "comment_id": 69167942, "body": "@stevieb: Funny. How do you know this? Do you work alongside the OP?"}, {"owner": {"reputation": 8273, "user_id": 1334695, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/431ae6e9f7610b9d6a6a6cdebd0244d5?s=128&d=identicon&r=PG", "display_name": "stevieb", "link": "https://stackoverflow.com/users/1334695/stevieb"}, "reply_to_user": {"reputation": 123805, "user_id": 622310, "user_type": "registered", "accept_rate": 33, "profile_image": "https://www.gravatar.com/avatar/8b6d35219e1808520bc238b28161e2e6?s=128&d=identicon&r=PG", "display_name": "Borodin", "link": "https://stackoverflow.com/users/622310/borodin"}, "edited": false, "score": 0, "creation_date": 1480957040, "post_id": 40976967, "comment_id": 69168024, "body": "@Borodin I don&#39;t know, and I do not know the OP. The former SNMP output doesn&#39;t have the <code>a</code>, so I&#39;m just curious whether it was added in by accident or not."}, {"owner": {"reputation": 123805, "user_id": 622310, "user_type": "registered", "accept_rate": 33, "profile_image": "https://www.gravatar.com/avatar/8b6d35219e1808520bc238b28161e2e6?s=128&d=identicon&r=PG", "display_name": "Borodin", "link": "https://stackoverflow.com/users/622310/borodin"}, "reply_to_user": {"reputation": 8273, "user_id": 1334695, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/431ae6e9f7610b9d6a6a6cdebd0244d5?s=128&d=identicon&r=PG", "display_name": "stevieb", "link": "https://stackoverflow.com/users/1334695/stevieb"}, "edited": false, "score": 0, "creation_date": 1480957123, "post_id": 40976967, "comment_id": 69168073, "body": "@stevieb: Ah, my apologies. I missed the <b><i>if</i></b> at the start of your comment. Sentences begin with a capital letter so as to make mistakes less likely."}], "answers": [{"tags": [], "owner": {"reputation": 123805, "user_id": 622310, "user_type": "registered", "accept_rate": 33, "profile_image": "https://www.gravatar.com/avatar/8b6d35219e1808520bc238b28161e2e6?s=128&d=identicon&r=PG", "display_name": "Borodin", "link": "https://stackoverflow.com/users/622310/borodin"}, "is_accepted": false, "score": 1, "last_activity_date": 1480957033, "creation_date": 1480957033, "answer_id": 40979392, "question_id": 40976967, "link": "https://stackoverflow.com/questions/40976967/netsnmp-get-request-automatic-human-readable-format/40979392#40979392", "title": "Net::SNMP : get_request : automatic Human readable format?", "body": "<p>This really isn't hard, and you should have at least made an effort </p>\n\n<p>In order to get this out of the way, here's a subroutine that does what you ask</p>\n\n<pre><code>use strict;\nuse warnings;\nuse feature 'say';\n\nsay spaced_hex(0x079ff499);\n\nsub spaced_hex {\n    join(' ', unpack '(A2)*', sprintf('%08X', shift));\n}\n</code></pre>\n\n<h3>output</h3>\n\n<pre><code>07 9F F4 99\n</code></pre>\n"}, {"tags": [], "owner": {"reputation": 67, "user_id": 6699525, "user_type": "registered", "accept_rate": 75, "profile_image": "https://www.gravatar.com/avatar/e9f6d64aed2540e4e050fd906d977e9d?s=128&d=identicon&r=PG", "display_name": "superzero10", "link": "https://stackoverflow.com/users/6699525/superzero10"}, "is_accepted": true, "score": 0, "last_activity_date": 1481022435, "creation_date": 1481022435, "answer_id": 40993861, "question_id": 40976967, "link": "https://stackoverflow.com/questions/40976967/netsnmp-get-request-automatic-human-readable-format/40993861#40993861", "title": "Net::SNMP : get_request : automatic Human readable format?", "body": "<p>EDIT :</p>\n\n<p>I did this :</p>\n\n<pre><code>sub hex_ip_converter {\n\nmy ($hex) = @_;\nmy $ip = undef;\n\nmy @array = ( $hex =~ m/../g );\n\nshift (@array);\n\nforeach my $tmp (@array) {\n$ip = $ip . '.' . hex $tmp;\n}\n$ip =~ s/^.//; \nreturn $ip;\n}\n</code></pre>\n\n<p>and it's working. ty for all your answer :)</p>\n"}], "owner": {"reputation": 67, "user_id": 6699525, "user_type": "registered", "accept_rate": 75, "profile_image": "https://www.gravatar.com/avatar/e9f6d64aed2540e4e050fd906d977e9d?s=128&d=identicon&r=PG", "display_name": "superzero10", "link": "https://stackoverflow.com/users/6699525/superzero10"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 482, "favorite_count": 0, "accepted_answer_id": 40993861, "answer_count": 2, "score": 0, "last_activity_date": 1481022435, "creation_date": 1480949381, "question_id": 40976967, "link": "https://stackoverflow.com/questions/40976967/netsnmp-get-request-automatic-human-readable-format", "title": "Net::SNMP : get_request : automatic Human readable format?", "body": "<p>i have an issue with Net::SNMP.</p>\n\n<p>When i'm doing a unix snmpwalk like :</p>\n\n<pre><code>snmpwalk -v 2c -c commu_key IP.XXX.XX.XX 1.3.6.1.4.1.9.9.42.1.2.2.1.2.XXX\n</code></pre>\n\n<p>i get :</p>\n\n<pre><code>SNMPv2-SMI::enterprises.9.9.42.1.2.2.1.2.3279 = Hex-STRING: 07 9F F4 XX\n</code></pre>\n\n<p>the Hex-STRING is an IP and each space is a dot.</p>\n\n<p>but when i'm  using Net::SNMP in my script like :</p>\n\n<pre><code>my ($session, $error) = Net::SNMP-&gt;session(\n    -hostname =&gt; $ip,\n    -community =&gt; 'commu_key',\n    );\n    if (!defined $session) {\n     return 0;\n    }\n    my $result = $session-&gt;get_request(-varbindlist =&gt; [ $oid ],);\n    if (!defined $session) {\n     return 0;\n    }\n    my $ex = $result-&gt;{$oid};\n</code></pre>\n\n<p>but the $ex value is :</p>\n\n<blockquote>\n  <p>$ex = 0x079ff4aXX</p>\n</blockquote>\n\n<p>but i want it like the snmpwalk :/</p>\n\n<p>can someone help me ?</p>\n"}, {"tags": ["perl"], "answers": [{"comments": [{"owner": {"reputation": 423, "user_id": 3548821, "user_type": "registered", "accept_rate": 88, "profile_image": "https://www.gravatar.com/avatar/b2ec7b6d96ebf8433d0b84e293a0fedd?s=128&d=identicon&r=PG&f=1", "display_name": "nzaleski", "link": "https://stackoverflow.com/users/3548821/nzaleski"}, "edited": false, "score": 0, "creation_date": 1480947392, "post_id": 40976277, "comment_id": 69161756, "body": "this give the total sum in one line"}, {"owner": {"reputation": 423, "user_id": 3548821, "user_type": "registered", "accept_rate": 88, "profile_image": "https://www.gravatar.com/avatar/b2ec7b6d96ebf8433d0b84e293a0fedd?s=128&d=identicon&r=PG&f=1", "display_name": "nzaleski", "link": "https://stackoverflow.com/users/3548821/nzaleski"}, "edited": false, "score": 0, "creation_date": 1480947887, "post_id": 40976277, "comment_id": 69162119, "body": "thats interesting. Any other thoughts on debugging? I copied and pasted your code. I went through and cleaned our carriage returns from file because I suspected that that might be the issue for a while"}, {"owner": {"reputation": 311848, "user_id": 6782, "user_type": "registered", "accept_rate": 78, "profile_image": "https://www.gravatar.com/avatar/dc8c4ddd99b446c28d2e1546c457e508?s=128&d=identicon&r=PG", "display_name": "Alnitak", "link": "https://stackoverflow.com/users/6782/alnitak"}, "reply_to_user": {"reputation": 423, "user_id": 3548821, "user_type": "registered", "accept_rate": 88, "profile_image": "https://www.gravatar.com/avatar/b2ec7b6d96ebf8433d0b84e293a0fedd?s=128&d=identicon&r=PG&f=1", "display_name": "nzaleski", "link": "https://stackoverflow.com/users/3548821/nzaleski"}, "edited": false, "score": 0, "creation_date": 1480948726, "post_id": 40976277, "comment_id": 69162692, "body": "@nzaleski print the contents of <code>@arr</code> - perhaps your lines aren&#39;t terminated correctly and you&#39;re reading the entire file in one go?"}, {"owner": {"reputation": 423, "user_id": 3548821, "user_type": "registered", "accept_rate": 88, "profile_image": "https://www.gravatar.com/avatar/b2ec7b6d96ebf8433d0b84e293a0fedd?s=128&d=identicon&r=PG&f=1", "display_name": "nzaleski", "link": "https://stackoverflow.com/users/3548821/nzaleski"}, "edited": false, "score": 0, "creation_date": 1480949205, "post_id": 40976277, "comment_id": 69163007, "body": "yeah it they were not terminated correctly. Thanks!"}], "tags": [], "owner": {"reputation": 311848, "user_id": 6782, "user_type": "registered", "accept_rate": 78, "profile_image": "https://www.gravatar.com/avatar/dc8c4ddd99b446c28d2e1546c457e508?s=128&d=identicon&r=PG", "display_name": "Alnitak", "link": "https://stackoverflow.com/users/6782/alnitak"}, "is_accepted": true, "score": 4, "last_activity_date": 1480947649, "last_edit_date": 1480947649, "creation_date": 1480947223, "answer_id": 40976277, "question_id": 40976076, "link": "https://stackoverflow.com/questions/40976076/for-every-line-in-file-sum-values/40976277#40976277", "title": "For Every Line in File Sum Values", "body": "<p>You need to reset <code>$sum</code> to zero at the start of the <em>outer</em> (per line) <code>while</code> loop, not in the <em>inner</em> (per element) <code>foreach</code> loop.</p>\n\n<p>This can be achieved by putting the declaration and initial assignment of <code>$sum</code> inside the <code>while</code> loop:</p>\n\n<pre><code>while (my $line = &lt;$fh&gt;) {\n    my $sum = 0;\n    my @arr = ( $line =~ /\\(([0-9]+)\\)/g);\n    foreach my $val ( @arr ) { \n         $sum += $val;\n    }\n    print $sum, \"\\n\";\n}\n</code></pre>\n"}, {"tags": [], "owner": {"reputation": 123805, "user_id": 622310, "user_type": "registered", "accept_rate": 33, "profile_image": "https://www.gravatar.com/avatar/8b6d35219e1808520bc238b28161e2e6?s=128&d=identicon&r=PG", "display_name": "Borodin", "link": "https://stackoverflow.com/users/622310/borodin"}, "is_accepted": false, "score": 2, "last_activity_date": 1480960930, "creation_date": 1480960930, "answer_id": 40980472, "question_id": 40976076, "link": "https://stackoverflow.com/questions/40976076/for-every-line-in-file-sum-values/40980472#40980472", "title": "For Every Line in File Sum Values", "body": "<p>Like this?</p>\n\n<pre><code>use strict;\nuse warnings 'all';\n\nuse List::Util 'sum';\n\nwhile ( &lt;&gt; ) {\n    my $sum = sum /\\((\\d+)\\)/g;\n    print \"$sum\\n\" if defined $sum;\n}\n</code></pre>\n\n<h3>output</h3>\n\n<pre><code>6\n1\n1\n8\n1\n</code></pre>\n"}], "owner": {"reputation": 423, "user_id": 3548821, "user_type": "registered", "accept_rate": 88, "profile_image": "https://www.gravatar.com/avatar/b2ec7b6d96ebf8433d0b84e293a0fedd?s=128&d=identicon&r=PG&f=1", "display_name": "nzaleski", "link": "https://stackoverflow.com/users/3548821/nzaleski"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 91, "favorite_count": 0, "accepted_answer_id": 40976277, "answer_count": 2, "score": 2, "last_activity_date": 1480960930, "creation_date": 1480946607, "last_edit_date": 1480946824, "question_id": 40976076, "link": "https://stackoverflow.com/questions/40976076/for-every-line-in-file-sum-values", "title": "For Every Line in File Sum Values", "body": "<p>I am trying to make a Perl script that goes through and loops through a file, does some Regex to get number that are surrounded by parenthesis, add them up for every line. </p>\n\n<pre><code>#file\nAwaiting_Parts_Bin(2),Inspection_Bin(1),Picked-1-3888(1),Picked-1-4364(2)\nPicked-1-3890(1)\nPicked-1-4364(1)\nPicked-1-3888(4),Picked-1-3890(2),Picked-1-4364(1),Picked-1-7202(1)\nAwaiting_Parts_Bin(1)\n</code></pre>\n\n<p>Desired Output</p>\n\n<pre><code>#new_file \n6\n1\n1\n8\n1\n</code></pre>\n\n<p>Perl script                       </p>\n\n<pre><code>#!/usr/bin/perl\nuse strict;\nuse warnings;\n\nmy $file = '/Users/.....csv';\nmy $new_file = '/Users/.....csv';\n\nopen(my $fh, '&lt;', $file)\n    or die \"cannot open file\";\n\nopen(my $new_fh, '&gt;', $new_file)\n    or die \"cannot open file\";\n\n\n\nmy $sum = 0;\n\n\nwhile (my $line = &lt;$fh&gt;){\n    my @arr = ( $line =~ /\\(([0-9]+)\\)/g);\n    foreach my $val ( @arr ) { \n         $sum += $val;\n         print  $sum, \"\\n\";\n         # this makes sense that it is resetting to zero while looping.  This is just one variation I tried. I tried putting the sum=0 outside the loop and it made it a running total\n         $sum = 0;\n    }\n}\n</code></pre>\n\n<p>No matter what I try I can't get it right. This code doesn't add all of the values it takes the last one in the file.  So the output would look like this </p>\n\n<pre><code>#output now\n2\n1\n1\n1\n1\n</code></pre>\n\n<p>Or if I remove the <code>$sum=0</code> in the for loop then it makes it a running total. </p>\n"}, {"tags": ["perl", "google-chrome", "selenium", "internet-explorer", "firefox"], "answers": [{"comments": [{"owner": {"reputation": 89, "user_id": 1008711, "user_type": "registered", "accept_rate": 17, "profile_image": "https://www.gravatar.com/avatar/f6e17b45a39da405d61d4ac48d4bec43?s=128&d=identicon&r=PG", "display_name": "roli", "link": "https://stackoverflow.com/users/1008711/roli"}, "edited": false, "score": 0, "creation_date": 1481010790, "post_id": 40979306, "comment_id": 69189291, "body": "I&#39;m looking for the driver version not the browser version. For the IEDriver i expected to get 2.53.1, but as the doku you linked did not mention the driver version for IEDriver, i did not expect to get it somehow"}], "tags": [], "owner": {"reputation": 61, "user_id": 7232303, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/5c4cf5cae9ef1f861e1aba920c7f8f28?s=128&d=identicon&r=PG&f=1", "display_name": "YellowTetrahedron", "link": "https://stackoverflow.com/users/7232303/yellowtetrahedron"}, "is_accepted": false, "score": 1, "last_activity_date": 1480956803, "creation_date": 1480956803, "answer_id": 40979306, "question_id": 40974087, "link": "https://stackoverflow.com/questions/40974087/selenium-driver-version-get-capabilities/40979306#40979306", "title": "Selenium driver version // get_capabilities()", "body": "<p>So, I'm not quite sure whether you're looking to log the version of the WebDriver or the version of the browser. If the latter, the version is printed in both of the outputs in your question. </p>\n\n<p>If you're looking to log the webdriver version, it doesn't look like IE driver has  driver version in the list of capabilities (see: <a href=\"https://github.com/SeleniumHQ/selenium/wiki/DesiredCapabilities\" rel=\"nofollow noreferrer\">DesiredCapabilities documentation</a> and <a href=\"https://sites.google.com/a/chromium.org/chromedriver/capabilities\" rel=\"nofollow noreferrer\">ChromeDriver Capabilities documentation</a>). As far as I can tell, the properties listed on those pages are the only ones you can read from a WebDriver.</p>\n\n<p>You could try (in Java, but I imagine the method is similar in Perl)</p>\n\n<pre><code>driver.getCapability(\"InternetExplorerDriver.version\"); // or something like this, \n</code></pre>\n\n<p>but as far as I can tell, there's no IE driver version available to query.</p>\n"}], "owner": {"reputation": 89, "user_id": 1008711, "user_type": "registered", "accept_rate": 17, "profile_image": "https://www.gravatar.com/avatar/f6e17b45a39da405d61d4ac48d4bec43?s=128&d=identicon&r=PG", "display_name": "roli", "link": "https://stackoverflow.com/users/1008711/roli"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 462, "favorite_count": 0, "answer_count": 1, "score": 0, "last_activity_date": 1480956803, "creation_date": 1480940129, "question_id": 40974087, "link": "https://stackoverflow.com/questions/40974087/selenium-driver-version-get-capabilities", "title": "Selenium driver version // get_capabilities()", "body": "<p>my selenium scripts (written in perl) are using/running on firefox, chrome and IE as i expected them to do. I wrote my own \"Testrun logging\" which is also fine. A few day ago, i had the idea to include the selenium driver version.\nThe selenium standalone server version is available via \"$driver->status\". If my scripts are running on chrome i found the version info via \"$driver->get_capabilities()\". But for ie i havn't found a version number.\nFor chrome i geht a hash like:</p>\n\n<pre><code>{\n    acceptSslCerts               JSON::PP::Boolean  {\n        Parents                  Types::Serialiser::BooleanBase\n        public methods (0)\n        private methods (0)\n        internals: 1\n    },\n    applicationCacheEnabled      JSON::PP::Boolean  {\n        Parents                  Types::Serialiser::BooleanBase\n        public methods (0)\n        private methods (0)\n        internals: 0\n    },\n    browserConnectionEnabled     var{applicationCacheEnabled},\n    browserName                  \"chrome\",\n    chrome                       {\n        chromedriverVersion      \"2.25.426923 (0390b88869384d6eb0d5d09729679f934aab9eed)\",\n        userDataDir              \"C:\\Users\\me\\AppData\\Local\\Temp\\scoped_dir8684_28008\"\n    },\n    cssSelectorsEnabled          var{acceptSslCerts},\n    databaseEnabled              var{applicationCacheEnabled},\n    handlesAlerts                var{acceptSslCerts},\n    hasTouchScreen               var{applicationCacheEnabled},\n    javascriptEnabled            var{acceptSslCerts},\n    locationContextEnabled       var{acceptSslCerts},\n    mobileEmulationEnabled       var{applicationCacheEnabled},\n    nativeEvents                 var{acceptSslCerts},\n    networkConnectionEnabled     var{applicationCacheEnabled},\n    pageLoadStrategy             \"normal\",\n    platform                     \"XP\",\n    rotatable                    var{applicationCacheEnabled},\n    takesHeapSnapshot            var{acceptSslCerts},\n    takesScreenshot              var{acceptSslCerts},\n    version                      \"54.0.2840.99\",\n    webdriver.remote.sessionid   \"eb545ef9-6a1b-4297-a239-ca595bafbec1\",\n    webStorageEnabled            var{acceptSslCerts}\n}\n</code></pre>\n\n<p>for ie i get:</p>\n\n<pre><code>{\n    browserAttachTimeout            0,\n    browserName                     \"internet explorer\",\n    cssSelectorsEnabled             JSON::PP::Boolean  {\n        Parents                     Types::Serialiser::BooleanBase\n        public methods (0)\n        private methods (0)\n        internals: 1\n    },\n    elementScrollBehavior           0,\n    enableElementCacheCleanup       var{cssSelectorsEnabled},\n    enablePersistentHover           var{cssSelectorsEnabled},\n    ie.browserCommandLineSwitches   \"\",\n    ie.enableFullPageScreenshot     var{cssSelectorsEnabled},\n    ie.ensureCleanSession           JSON::PP::Boolean  {\n        Parents                     Types::Serialiser::BooleanBase\n        public methods (0)\n        private methods (0)\n        internals: 0\n    },\n    ie.fileUploadDialogTimeout      3000,\n    ie.forceCreateProcessApi        var{ie.ensureCleanSession},\n    ie.forceShellWindowsApi         var{ie.ensureCleanSession},\n    ignoreProtectedModeSettings     var{ie.ensureCleanSession},\n    ignoreZoomSetting               var{ie.ensureCleanSession},\n    initialBrowserUrl               \"http://localhost:48881/\",\n    javascriptEnabled               var{cssSelectorsEnabled},\n    nativeEvents                    var{cssSelectorsEnabled},\n    pageLoadStrategy                \"normal\",\n    platform                        \"WINDOWS\",\n    requireWindowFocus              var{ie.ensureCleanSession},\n    takesScreenshot                 var{cssSelectorsEnabled},\n    unexpectedAlertBehaviour        \"dismiss\",\n    version                         11,\n    webdriver.remote.sessionid      \"b630495e-70fe-4d68-b4e4-cb24a57acab3\"\n}\n</code></pre>\n\n<p>but here is nothing like \"chromedriverVersion\".\nDoes anyone know a way how to get the version of the IEDriver?</p>\n"}, {"tags": ["json", "perl", "rest"], "comments": [{"owner": {"reputation": 9406, "user_id": 4923629, "user_type": "registered", "accept_rate": 92, "profile_image": "https://i.stack.imgur.com/2abZO.png?s=128&g=1", "display_name": "123", "link": "https://stackoverflow.com/users/4923629/123"}, "edited": false, "score": 0, "creation_date": 1480937125, "post_id": 40972940, "comment_id": 69155303, "body": "What does more descriptive mean? Give an example."}, {"owner": {"reputation": 171, "user_id": 1100002, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/16dbf9ed61b90b2deeb29d44fabf2da8?s=128&d=identicon&r=PG", "display_name": "Stinnux", "link": "https://stackoverflow.com/users/1100002/stinnux"}, "reply_to_user": {"reputation": 9406, "user_id": 4923629, "user_type": "registered", "accept_rate": 92, "profile_image": "https://i.stack.imgur.com/2abZO.png?s=128&g=1", "display_name": "123", "link": "https://stackoverflow.com/users/4923629/123"}, "edited": false, "score": 0, "creation_date": 1480937197, "post_id": 40972940, "comment_id": 69155342, "body": "Instead of showing      *services <b>ANON</b>  it should show the necessary fields."}, {"owner": {"reputation": 50468, "user_id": 1331451, "user_type": "registered", "accept_rate": 96, "profile_image": "https://i.stack.imgur.com/4ZPmj.png?s=128&g=1", "display_name": "simbabque", "link": "https://stackoverflow.com/users/1331451/simbabque"}, "edited": false, "score": 0, "creation_date": 1480939275, "post_id": 40972940, "comment_id": 69156610, "body": "I&#39;ve not used Raisin, but I believe it gets confused when it creates that documentation. It shows the <code>Str</code> status, but you have that twice. It&#39;s in the outer params, and in the <code>services</code> one as well. It then shows <code>lastcheck</code>, which is in the inner one. And last, it shows <code>services</code>, which I guess it names <code>__ANON__</code> because it is an anonymous array reference. It can&#39;t go into the fields somehow."}, {"owner": {"reputation": 50468, "user_id": 1331451, "user_type": "registered", "accept_rate": 96, "profile_image": "https://i.stack.imgur.com/4ZPmj.png?s=128&g=1", "display_name": "simbabque", "link": "https://stackoverflow.com/users/1331451/simbabque"}, "edited": false, "score": 0, "creation_date": 1480941060, "post_id": 40972940, "comment_id": 69157689, "body": "Since this is not a widely used module yet, could you add a few more steps that make it easier to reproduce your issue? A full <a href=\"https://stackoverflow.com/help/minimal-reproducible-example\">minimal reproducible example</a> that I can copy/paste and the command to create that documentation would be very helpful so I can help you look for a solution."}, {"owner": {"reputation": 171, "user_id": 1100002, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/16dbf9ed61b90b2deeb29d44fabf2da8?s=128&d=identicon&r=PG", "display_name": "Stinnux", "link": "https://stackoverflow.com/users/1100002/stinnux"}, "edited": false, "score": 0, "creation_date": 1480942641, "post_id": 40972940, "comment_id": 69158648, "body": "I&#39;ve added a minium example. Thanks for your time."}, {"owner": {"reputation": 50468, "user_id": 1331451, "user_type": "registered", "accept_rate": 96, "profile_image": "https://i.stack.imgur.com/4ZPmj.png?s=128&g=1", "display_name": "simbabque", "link": "https://stackoverflow.com/users/1331451/simbabque"}, "edited": false, "score": 0, "creation_date": 1480943030, "post_id": 40972940, "comment_id": 69158875, "body": "Which version of Raisin are you using?"}, {"owner": {"reputation": 50468, "user_id": 1331451, "user_type": "registered", "accept_rate": 96, "profile_image": "https://i.stack.imgur.com/4ZPmj.png?s=128&g=1", "display_name": "simbabque", "link": "https://stackoverflow.com/users/1331451/simbabque"}, "edited": false, "score": 0, "creation_date": 1480955528, "post_id": 40972940, "comment_id": 69167103, "body": "The <code>--params</code> option does not support multi-level output. If you look <a href=\"https://metacpan.org/source/RTKH/Raisin-0.69/script/raisin#L101\" rel=\"nofollow noreferrer\">at the source</a> that is obvious. Sorry. It will say <code>__ANON__</code> for <code>ArrayRef[]</code> and <code>HashRef</code> for <code>HashRef</code>. But it cannot it seems go into the <code>group</code>."}, {"owner": {"reputation": 171, "user_id": 1100002, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/16dbf9ed61b90b2deeb29d44fabf2da8?s=128&d=identicon&r=PG", "display_name": "Stinnux", "link": "https://stackoverflow.com/users/1100002/stinnux"}, "edited": false, "score": 0, "creation_date": 1481022067, "post_id": 40972940, "comment_id": 69195989, "body": "Thanks for your investigation. Then it is as it is and cannot be changed. At least it is parsing the params as expected."}, {"owner": {"reputation": 50468, "user_id": 1331451, "user_type": "registered", "accept_rate": 96, "profile_image": "https://i.stack.imgur.com/4ZPmj.png?s=128&g=1", "display_name": "simbabque", "link": "https://stackoverflow.com/users/1331451/simbabque"}, "edited": false, "score": 0, "creation_date": 1481035194, "post_id": 40972940, "comment_id": 69204310, "body": "Well you could maybe change it yourself. I looked into that briefly and figured if it&#39;s not too bad I could do a PR, but since it accepts all kinds of types and those have slightly different APIs doing it properly would have been a bit overkill to do just because I had some time. The other format it can produce does include all the arguments though, but it&#39;s very verbose."}, {"owner": {"reputation": 50468, "user_id": 1331451, "user_type": "registered", "accept_rate": 96, "profile_image": "https://i.stack.imgur.com/4ZPmj.png?s=128&g=1", "display_name": "simbabque", "link": "https://stackoverflow.com/users/1331451/simbabque"}, "edited": false, "score": 0, "creation_date": 1481035294, "post_id": 40972940, "comment_id": 69204364, "body": "Btw, if you reply to a comment you need to highlight that person with <code>@name</code>, otherwise they don&#39;t get notified. Only the author of a post always gets notified about comments on that post. I went back to this question through my comment history because I was curious if you had said something else."}], "owner": {"reputation": 171, "user_id": 1100002, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/16dbf9ed61b90b2deeb29d44fabf2da8?s=128&d=identicon&r=PG", "display_name": "Stinnux", "link": "https://stackoverflow.com/users/1100002/stinnux"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 176, "favorite_count": 0, "answer_count": 0, "score": 1, "last_activity_date": 1480942624, "creation_date": 1480936419, "last_edit_date": 1480942624, "question_id": 40972940, "link": "https://stackoverflow.com/questions/40972940/how-to-specify-an-array-of-hashrefs-in-raisin", "title": "How to specify an Array of HashRefs in Raisin?", "body": "<p>I have a JSON similar to the following:</p>\n\n<pre><code>{\n    \"status\": \"OK\",\n    \"services\": [\n          { \n             \"name\": \"drbd\",\n             \"status\": \"OK\",\n             \"lastcheck\": \"2016-05-20 14:15:39\"\n          },\n          {\n             \"name\": \"check_ping\",\n             \"status\": \"OK\",\n             \"lastscheck\": \"2016-05-20 14:13:12\"\n          }\n     ]\n}\n</code></pre>\n\n<p>And i have created a raisin psgi which contains the following Post sub:</p>\n\n<pre><code>resource heartbeat =&gt; sub {\n  summary 'Post the current Heartbeat';\n  params (\n    requires('status', type =&gt; Str),\n    requires('services', type =&gt; ArrayRef[HashRef, group {\n      requires('name', type =&gt; Str),\n      requires('lastcheck', type =&gt; Str),\n      requires('status', type =&gt; Str)\n}], desc =&gt; 'List of services')\n  );\n  post sub {\n    my $params = shift;\n\n    print Dumper(\\$params);\n\n    $REMOTESTATUS=$params;\n\n    { success =&gt; 1}\n  };\n};\n</code></pre>\n\n<p>This works quite well. However the created documentation is not very descriptive. It shows the following:</p>\n\n<pre><code>POST    /heartbeat\n  *status    Str\n  *lastcheck Str\n  *services  __ANON__\n</code></pre>\n\n<p>Any idea how i can make this more descriptive?</p>\n\n<p>Here is a minium example to try yourself. Save it as minium.psgi:</p>\n\n<pre><code>#!/usr/bin/perl\n\nuse Raisin::API;\nuse Types::Standard qw(HashRef ArrayRef Any Int Str);\n\nresource heartbeat =&gt; sub {\n  summary 'Post the current Heartbeat';\n  params (\n    requires('status', type =&gt; Str),\n    requires('services', type =&gt; ArrayRef[HashRef, group {\n      requires('name', type =&gt; Str),\n      requires('lastcheck', type =&gt; Str),\n      requires('comment', type =&gt; Str),\n      requires('status', type =&gt; Str)\n    }], desc =&gt; 'List of services')\n  );\n  post sub {\n    my $params = shift;\n\n    { success =&gt; 1}\n };\n};\n\nrun;\n</code></pre>\n\n<p>To show the API you can run </p>\n\n<pre><code>raisin --params minimum.psgi\n</code></pre>\n"}, {"tags": ["perl", "sorting", "dbix-class"], "comments": [{"owner": {"reputation": 245, "user_id": 2443551, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/nt39w.jpg?s=128&g=1", "display_name": "dequid", "link": "https://stackoverflow.com/users/2443551/dequid"}, "reply_to_user": {"reputation": 19192, "user_id": 257635, "user_type": "registered", "accept_rate": 89, "profile_image": "https://i.stack.imgur.com/El2tc.jpg?s=128&g=1", "display_name": "Chankey Pathak", "link": "https://stackoverflow.com/users/257635/chankey-pathak"}, "edited": false, "score": 1, "creation_date": 1480935105, "post_id": 40972303, "comment_id": 69153942, "body": "@Chankey Why did you remove the sql-tag. Isn&#39;t it relevant?"}, {"owner": {"reputation": 19192, "user_id": 257635, "user_type": "registered", "accept_rate": 89, "profile_image": "https://i.stack.imgur.com/El2tc.jpg?s=128&g=1", "display_name": "Chankey Pathak", "link": "https://stackoverflow.com/users/257635/chankey-pathak"}, "edited": false, "score": 1, "creation_date": 1480936083, "post_id": 40972303, "comment_id": 69154637, "body": "I do not think your question is SQL specific. It&#39;s more about <code>DBIx::Class</code> and sorting."}, {"owner": {"reputation": 123805, "user_id": 622310, "user_type": "registered", "accept_rate": 33, "profile_image": "https://www.gravatar.com/avatar/8b6d35219e1808520bc238b28161e2e6?s=128&d=identicon&r=PG", "display_name": "Borodin", "link": "https://stackoverflow.com/users/622310/borodin"}, "edited": false, "score": 0, "creation_date": 1480954715, "post_id": 40972303, "comment_id": 69166606, "body": "You should say what database engine you&#39;re working with. Unless you&#39;re using PostgreSQL the <code>split_part</code> function isn&#39;t available to you. If someone doesn&#39;t say either way, the usual assumption is that you&#39;re using MySQL. Please update your question and tags."}], "answers": [{"comments": [{"owner": {"reputation": 123805, "user_id": 622310, "user_type": "registered", "accept_rate": 33, "profile_image": "https://www.gravatar.com/avatar/8b6d35219e1808520bc238b28161e2e6?s=128&d=identicon&r=PG", "display_name": "Borodin", "link": "https://stackoverflow.com/users/622310/borodin"}, "edited": false, "score": 0, "creation_date": 1480953469, "post_id": 40973114, "comment_id": 69165825, "body": "That&#39;s a very, erm lumpy solution. Why not just use bare <code>DBI</code> if you&#39;re going to do that? The <a href=\"http://search.cpan.org/~ribasushi/DBIx-Class-0.082840/lib/DBIx/Class/ResultSet.pm#order_by\" rel=\"nofollow noreferrer\">documentation for <code>DBIx::Class::ResultSet</code></a> says, <i>&quot;The old scalarref syntax (i.e. order_by =&gt; \\&#39;year DESC&#39;) is still supported, although you are strongly encouraged to use the hashref syntax as outlined above&quot;</i>. I also strongly suggest that you use the hash ref syntax."}], "tags": [], "owner": {"reputation": 28131, "user_id": 1956010, "user_type": "registered", "accept_rate": 83, "profile_image": "https://www.gravatar.com/avatar/bfdcb4596e9da98cccbf9a0069fdff6c?s=128&d=identicon&r=PG", "display_name": "nwellnhof", "link": "https://stackoverflow.com/users/1956010/nwellnhof"}, "is_accepted": true, "score": 2, "last_activity_date": 1480963078, "last_edit_date": 1480963078, "creation_date": 1480936953, "answer_id": 40973114, "question_id": 40972303, "link": "https://stackoverflow.com/questions/40972303/dbixclass-how-can-i-sort-on-multiple-substrings-of-a-column/40973114#40973114", "title": "DBIx::Class: How can I sort on multiple substrings of a column?", "body": "<p>If you want the database to sort the results, you have to use <a href=\"https://metacpan.org/pod/SQL::Abstract#Literal-SQL-and-value-type-operators\" rel=\"nofollow noreferrer\">literal SQL</a>.</p>\n\n<p>Here's an example for Postgres (I added a space after the backslash to fix the syntax highlighting):</p>\n\n<pre><code>my @rs = $self-&gt;search(undef,\n    {\n        order_by =&gt; \\ \"split_part(number, '-', 1) || split_part(number, '-', 3) DESC\",\n    }\n);\n</code></pre>\n\n<p>Or, by creating an output column with the <a href=\"https://metacpan.org/pod/DBIx::Class::ResultSet#select1\" rel=\"nofollow noreferrer\"><code>+select</code> result set attribute</a>:</p>\n\n<pre><code>my @rs = $self-&gt;search(undef,\n    {\n        '+select' =&gt; [\n            { sort_key =&gt; \\ \"split_part(number, '-', 1) || split_part(number, '-', 3)\" },\n        ],\n        '+as' =&gt; [ qw(sort_key) ],  # Make sort key accessible from DBIC.\n        order_by =&gt; { -desc =&gt; 'sort_key' },\n    }\n);\n</code></pre>\n\n<p>Another approach is to retreive the whole unsorted result set, and sort it on the client side. DBIC doesn't have any specific features to help you with that, so simply use Perl's <code>sort</code> function.</p>\n"}, {"tags": [], "owner": {"reputation": 123805, "user_id": 622310, "user_type": "registered", "accept_rate": 33, "profile_image": "https://www.gravatar.com/avatar/8b6d35219e1808520bc238b28161e2e6?s=128&d=identicon&r=PG", "display_name": "Borodin", "link": "https://stackoverflow.com/users/622310/borodin"}, "is_accepted": false, "score": 1, "last_activity_date": 1480955129, "last_edit_date": 1480955129, "creation_date": 1480937631, "answer_id": 40973329, "question_id": 40972303, "link": "https://stackoverflow.com/questions/40972303/dbixclass-how-can-i-sort-on-multiple-substrings-of-a-column/40973329#40973329", "title": "DBIx::Class: How can I sort on multiple substrings of a column?", "body": "<p>You need to extract additional columns from the result set which are equal to the value of the function that you want to sort by. Then you can just put those columns in an <code>order_by</code> clause as normal</p>\n\n<p>This assumes that your <em>document number</em> field is called <code>docnum</code>. It fetches all the columns from <code>Table</code> plus the two substrings of <code>docnum</code> called <code>docnum1</code> and <code>docnum3</code></p>\n\n<pre><code>my $rs = $schema-&gt;resultset('Table')-&gt;search(undef,\n    { \n        '+select' =&gt; [\n            { substr =&gt; [ 'docnum', 1, 2 ], -as =&gt; 'docnum1' },\n            { substr =&gt; [ 'docnum', -2 ],   -as =&gt; 'docnum3' },\n        ],\n        order_by =&gt; [ { -desc =&gt; 'docnum1' }, { -desc =&gt; 'docnum3' } ],\n    }\n);\n</code></pre>\n"}, {"tags": [], "owner": {"reputation": 245, "user_id": 2443551, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/nt39w.jpg?s=128&g=1", "display_name": "dequid", "link": "https://stackoverflow.com/users/2443551/dequid"}, "is_accepted": false, "score": 1, "last_activity_date": 1480954938, "last_edit_date": 1480954938, "creation_date": 1480937649, "answer_id": 40973337, "question_id": 40972303, "link": "https://stackoverflow.com/questions/40972303/dbixclass-how-can-i-sort-on-multiple-substrings-of-a-column/40973337#40973337", "title": "DBIx::Class: How can I sort on multiple substrings of a column?", "body": "<p>Since the answer from @nwellnhof works like a charm, I just wanted to provide the corresponding syntax for SQLite, which does not know the <code>split_part()</code> function.</p>\n\n<pre><code># SQL for filtering the doc number in SQLite\n\nmy @rs = $self-&gt;search(undef,\n    {\n        order_by =&gt; \\ \"SUBSTR(me.number, 1, 2) || SUBSTR(me.number, -2, 2) DESC\"\n    }\n);\n</code></pre>\n"}], "owner": {"reputation": 245, "user_id": 2443551, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/nt39w.jpg?s=128&g=1", "display_name": "dequid", "link": "https://stackoverflow.com/users/2443551/dequid"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 358, "favorite_count": 0, "accepted_answer_id": 40973114, "answer_count": 3, "score": 1, "last_activity_date": 1481106766, "creation_date": 1480934430, "last_edit_date": 1481106766, "question_id": 40972303, "link": "https://stackoverflow.com/questions/40972303/dbixclass-how-can-i-sort-on-multiple-substrings-of-a-column", "title": "DBIx::Class: How can I sort on multiple substrings of a column?", "body": "\n\n<p>I have a SQLite-database with table with a document number following this schema:</p>\n\n<pre class=\"lang-none prettyprint-override\"><code>16-145-45\n16-127-30\n16-141-42\n16-122-14\n15-090-04\n15-089-15\n15-089-05\n</code></pre>\n\n<p>I'd like to sort the <code>ResultSet</code> on the first and last part of the number, like this. First, all documents starting with the highest two-digit prefix (16) sorted by the last 2 digits and then the same with the next block, and so on.</p>\n\n<pre class=\"lang-none prettyprint-override\"><code>16-145-45\n16-141-42\n16-127-30\n16-122-14\n15-089-15\n15-089-05\n15-090-04\n</code></pre>\n\n<p>Is there a way to do this in <code>DBIx::Class</code> with some sort of custom <code>order_by</code> clause, or what would be the approach?</p>\n\n<p>I have tried the following, which does not work, because the middle part of the number is also considered for sorting:</p>\n\n<pre class=\"lang-perl prettyprint-override\"><code>my @rs = $self-&gt;search(undef,\n    {\n        order_by =&gt; { -desc =&gt; 'me.number' }\n    }\n);\n</code></pre>\n"}, {"tags": ["perl", "webpage-screenshot"], "comments": [{"owner": {"reputation": 19192, "user_id": 257635, "user_type": "registered", "accept_rate": 89, "profile_image": "https://i.stack.imgur.com/El2tc.jpg?s=128&g=1", "display_name": "Chankey Pathak", "link": "https://stackoverflow.com/users/257635/chankey-pathak"}, "edited": false, "score": 1, "creation_date": 1480933946, "post_id": 40971921, "comment_id": 69153226, "body": "Possible duplicate of <a href=\"http://stackoverflow.com/questions/2312852/how-can-i-take-screenshots-of-webpages-with-perl\">How can I take screenshots of webpages with Perl?</a>"}, {"owner": {"reputation": 123805, "user_id": 622310, "user_type": "registered", "accept_rate": 33, "profile_image": "https://www.gravatar.com/avatar/8b6d35219e1808520bc238b28161e2e6?s=128&d=identicon&r=PG", "display_name": "Borodin", "link": "https://stackoverflow.com/users/622310/borodin"}, "edited": false, "score": 3, "creation_date": 1480933965, "post_id": 40971921, "comment_id": 69153236, "body": "Oh another <i>&quot;Did not work&quot;</i> error message. We&#39;re seeing these so often I think there must be a fundamental error in the basics of computer science that affects all software on all machines."}, {"owner": {"reputation": 50468, "user_id": 1331451, "user_type": "registered", "accept_rate": 96, "profile_image": "https://i.stack.imgur.com/4ZPmj.png?s=128&g=1", "display_name": "simbabque", "link": "https://stackoverflow.com/users/1331451/simbabque"}, "reply_to_user": {"reputation": 123805, "user_id": 622310, "user_type": "registered", "accept_rate": 33, "profile_image": "https://www.gravatar.com/avatar/8b6d35219e1808520bc238b28161e2e6?s=128&d=identicon&r=PG", "display_name": "Borodin", "link": "https://stackoverflow.com/users/622310/borodin"}, "edited": false, "score": 1, "creation_date": 1480934035, "post_id": 40971921, "comment_id": 69153283, "body": "@Borodin as I said below, I think this needs hammering. Would you do the honors?"}, {"owner": {"reputation": 123805, "user_id": 622310, "user_type": "registered", "accept_rate": 33, "profile_image": "https://www.gravatar.com/avatar/8b6d35219e1808520bc238b28161e2e6?s=128&d=identicon&r=PG", "display_name": "Borodin", "link": "https://stackoverflow.com/users/622310/borodin"}, "reply_to_user": {"reputation": 50468, "user_id": 1331451, "user_type": "registered", "accept_rate": 96, "profile_image": "https://i.stack.imgur.com/4ZPmj.png?s=128&g=1", "display_name": "simbabque", "link": "https://stackoverflow.com/users/1331451/simbabque"}, "edited": false, "score": 1, "creation_date": 1480934146, "post_id": 40971921, "comment_id": 69153353, "body": "@simbabque: Sorry, I don&#39;t have a hammer with me. Voted to close instead."}, {"owner": {"reputation": 18763, "user_id": 472495, "user_type": "registered", "accept_rate": 92, "profile_image": "https://i.stack.imgur.com/4rtxd.png?s=128&g=1", "display_name": "halfer", "link": "https://stackoverflow.com/users/472495/halfer"}, "edited": false, "score": 1, "creation_date": 1480935623, "post_id": 40971921, "comment_id": 69154335, "body": "You could look into a Perl driver for PhantomJS - I&#39;ve done this in PHP and it works very well."}, {"owner": {"reputation": 19192, "user_id": 257635, "user_type": "registered", "accept_rate": 89, "profile_image": "https://i.stack.imgur.com/El2tc.jpg?s=128&g=1", "display_name": "Chankey Pathak", "link": "https://stackoverflow.com/users/257635/chankey-pathak"}, "reply_to_user": {"reputation": 18763, "user_id": 472495, "user_type": "registered", "accept_rate": 92, "profile_image": "https://i.stack.imgur.com/4rtxd.png?s=128&g=1", "display_name": "halfer", "link": "https://stackoverflow.com/users/472495/halfer"}, "edited": false, "score": 1, "creation_date": 1480936266, "post_id": 40971921, "comment_id": 69154779, "body": "@halfer: <a href=\"https://metacpan.org/pod/WWW::Mechanize::PhantomJS#mech-content_as_png-coordinates\" rel=\"nofollow noreferrer\">WWW::Mechanize::PhantomJS</a> also has <code>content_as_png</code> method :)"}], "answers": [{"comments": [{"owner": {"reputation": 50468, "user_id": 1331451, "user_type": "registered", "accept_rate": 96, "profile_image": "https://i.stack.imgur.com/4ZPmj.png?s=128&g=1", "display_name": "simbabque", "link": "https://stackoverflow.com/users/1331451/simbabque"}, "edited": false, "score": 0, "creation_date": 1480933965, "post_id": 40972103, "comment_id": 69153237, "body": "You should have voted to close as duplicate. I just voted to close as off-topic so now I cannot hammer any more."}, {"owner": {"reputation": 19192, "user_id": 257635, "user_type": "registered", "accept_rate": 89, "profile_image": "https://i.stack.imgur.com/El2tc.jpg?s=128&g=1", "display_name": "Chankey Pathak", "link": "https://stackoverflow.com/users/257635/chankey-pathak"}, "reply_to_user": {"reputation": 50468, "user_id": 1331451, "user_type": "registered", "accept_rate": 96, "profile_image": "https://i.stack.imgur.com/4ZPmj.png?s=128&g=1", "display_name": "simbabque", "link": "https://stackoverflow.com/users/1331451/simbabque"}, "edited": false, "score": 0, "creation_date": 1480934073, "post_id": 40972103, "comment_id": 69153311, "body": "@simbabque: Yes, did that."}, {"owner": {"reputation": 18763, "user_id": 472495, "user_type": "registered", "accept_rate": 92, "profile_image": "https://i.stack.imgur.com/4rtxd.png?s=128&g=1", "display_name": "halfer", "link": "https://stackoverflow.com/users/472495/halfer"}, "edited": false, "score": 2, "creation_date": 1480935175, "post_id": 40972103, "comment_id": 69153994, "body": "It&#39;s off topic, but actually I quite like it when we reach out to educate users on how to search first. Thanks Chankey."}], "tags": [], "owner": {"reputation": 19192, "user_id": 257635, "user_type": "registered", "accept_rate": 89, "profile_image": "https://i.stack.imgur.com/El2tc.jpg?s=128&g=1", "display_name": "Chankey Pathak", "link": "https://stackoverflow.com/users/257635/chankey-pathak"}, "is_accepted": false, "score": 1, "last_activity_date": 1480934036, "last_edit_date": 1495542630, "creation_date": 1480933856, "answer_id": 40972103, "question_id": 40971921, "link": "https://stackoverflow.com/questions/40971921/how-to-write-a-perl-script-to-take-screenshots-of-a-websites-different-pages-an/40972103#40972103", "title": "How to write a Perl script to take screenshots of a website&#39;s different pages and mail it?", "body": "<blockquote>\n  <p>i tried in Perl however i do not see any relevant modules which can\n   help in this</p>\n</blockquote>\n\n<p>There are plenty. Did you even try to search it on CPAN? A simple search containing \"<a href=\"https://metacpan.org/search?size=20&amp;q=screenshot&amp;search_type=modules\" rel=\"nofollow noreferrer\">screenshot</a>\" as search string.</p>\n\n<p>Did you search about it on StackOverflow itself? See the below question which lists many ways to do it.</p>\n\n<p><a href=\"https://stackoverflow.com/questions/2312852/how-can-i-take-screenshots-of-webpages-with-perl\">How can I take screenshots of webpages with Perl?</a></p>\n\n<p>Simplest approach would be to use <a href=\"http://search.cpan.org/perldoc?WWW::Mechanize::Firefox\" rel=\"nofollow noreferrer\">WWW::Mechanize::Firefox</a> module's <code>$mech-&gt;content_as_png</code> method.</p>\n\n<blockquote>\n  <p>mail it to someone on weekly basis</p>\n</blockquote>\n\n<p>Again, there are plenty of <a href=\"https://metacpan.org/search?q=Email%3A%3A&amp;search_type=modules\" rel=\"nofollow noreferrer\">Email::</a> modules available on CPAN. Pick the one you like.</p>\n"}], "owner": {"reputation": 1, "user_id": 7241635, "user_type": "registered", "profile_image": "https://lh6.googleusercontent.com/-Vwu0dNueH5g/AAAAAAAAAAI/AAAAAAAAAGI/DgyJV8RNzAg/photo.jpg?sz=128", "display_name": "Mrigendra Dwivedi", "link": "https://stackoverflow.com/users/7241635/mrigendra-dwivedi"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 93, "favorite_count": 0, "closed_date": 1480935495, "answer_count": 1, "score": -3, "last_activity_date": 1480935133, "creation_date": 1480933250, "last_edit_date": 1480935133, "question_id": 40971921, "link": "https://stackoverflow.com/questions/40971921/how-to-write-a-perl-script-to-take-screenshots-of-a-websites-different-pages-an", "closed_reason": "Not suitable for this site", "title": "How to write a Perl script to take screenshots of a website&#39;s different pages and mail it?", "body": "<p>I wanted to take screenshots of different pages of our internal websites and mail it to someone on weekly basis. I tried in Perl however I do not see any relevant modules which can help in this. please suggest.</p>\n"}, {"tags": ["oracle", "perl"], "comments": [{"owner": {"reputation": 2415, "user_id": 4251338, "user_type": "registered", "accept_rate": 90, "profile_image": "https://i.stack.imgur.com/UNbCO.png?s=128&g=1", "display_name": "ssr1012", "link": "https://stackoverflow.com/users/4251338/ssr1012"}, "edited": false, "score": 0, "creation_date": 1480931812, "post_id": 40971408, "comment_id": 69151954, "body": "<code>cpu_main.pl</code> contains data?"}, {"owner": {"reputation": 11, "user_id": 7216732, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/4c5f4b315dafa2093b622c17c792cd2f?s=128&d=identicon&r=PG&f=1", "display_name": "nidhisha", "link": "https://stackoverflow.com/users/7216732/nidhisha"}, "reply_to_user": {"reputation": 2415, "user_id": 4251338, "user_type": "registered", "accept_rate": 90, "profile_image": "https://i.stack.imgur.com/UNbCO.png?s=128&g=1", "display_name": "ssr1012", "link": "https://stackoverflow.com/users/4251338/ssr1012"}, "edited": false, "score": 0, "creation_date": 1480933265, "post_id": 40971408, "comment_id": 69152818, "body": "It is just another perl script that has few subroutines."}, {"owner": {"reputation": 2415, "user_id": 4251338, "user_type": "registered", "accept_rate": 90, "profile_image": "https://i.stack.imgur.com/UNbCO.png?s=128&g=1", "display_name": "ssr1012", "link": "https://stackoverflow.com/users/4251338/ssr1012"}, "edited": false, "score": 0, "creation_date": 1480933482, "post_id": 40971408, "comment_id": 69152954, "body": "update the perl file in your question"}, {"owner": {"reputation": 11, "user_id": 7216732, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/4c5f4b315dafa2093b622c17c792cd2f?s=128&d=identicon&r=PG&f=1", "display_name": "nidhisha", "link": "https://stackoverflow.com/users/7216732/nidhisha"}, "reply_to_user": {"reputation": 2415, "user_id": 4251338, "user_type": "registered", "accept_rate": 90, "profile_image": "https://i.stack.imgur.com/UNbCO.png?s=128&g=1", "display_name": "ssr1012", "link": "https://stackoverflow.com/users/4251338/ssr1012"}, "edited": false, "score": 0, "creation_date": 1480934132, "post_id": 40971408, "comment_id": 69153340, "body": "Consider it to be a script with just few print statements. Cant display the file here."}], "answers": [{"comments": [{"owner": {"reputation": 154, "user_id": 7251418, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/29a79d3c05e4166f676580860d8deada?s=128&d=identicon&r=PG&f=1", "display_name": "Partha Pratim Mukherjee", "link": "https://stackoverflow.com/users/7251418/partha-pratim-mukherjee"}, "reply_to_user": {"reputation": 3327, "user_id": 1604311, "user_type": "registered", "accept_rate": 73, "profile_image": "https://i.stack.imgur.com/0frKT.jpg?s=128&g=1", "display_name": "Arunesh Singh", "link": "https://stackoverflow.com/users/1604311/arunesh-singh"}, "edited": false, "score": 0, "creation_date": 1480936467, "post_id": 40972710, "comment_id": 69154914, "body": "@Arunesh The backtick that you removed was needed as in the original code the output of perl cpu_man.pl ... was passed to pbrun. Please edit and add the backtick as it as intentional."}, {"owner": {"reputation": 154, "user_id": 7251418, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/29a79d3c05e4166f676580860d8deada?s=128&d=identicon&r=PG&f=1", "display_name": "Partha Pratim Mukherjee", "link": "https://stackoverflow.com/users/7251418/partha-pratim-mukherjee"}, "reply_to_user": {"reputation": 3327, "user_id": 1604311, "user_type": "registered", "accept_rate": 73, "profile_image": "https://i.stack.imgur.com/0frKT.jpg?s=128&g=1", "display_name": "Arunesh Singh", "link": "https://stackoverflow.com/users/1604311/arunesh-singh"}, "edited": false, "score": 0, "creation_date": 1480936968, "post_id": 40972710, "comment_id": 69155218, "body": "Please refer to <a href=\"http://perldoc.perl.org/perlop.html#Quote-Like-Operators\" rel=\"nofollow noreferrer\">perldoc.perl.org/perlop.html#Quote-Like-Operators</a>. The first statement will execute the string which is delimited by backtick and store it into $cpu_output. $cpu_output will be interpolated into $pb_ohsdba. So no problem to pass this to system."}, {"owner": {"reputation": 11, "user_id": 7216732, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/4c5f4b315dafa2093b622c17c792cd2f?s=128&d=identicon&r=PG&f=1", "display_name": "nidhisha", "link": "https://stackoverflow.com/users/7216732/nidhisha"}, "edited": false, "score": 0, "creation_date": 1480937424, "post_id": 40972710, "comment_id": 69155489, "body": "@Partha Pratim Mukherjee.. I have the use strict use warnings and other basics required. Even tried putting it in a scalar variable like u suggested. It doesnt work . pbrun itself doent work."}], "tags": [], "owner": {"reputation": 154, "user_id": 7251418, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/29a79d3c05e4166f676580860d8deada?s=128&d=identicon&r=PG&f=1", "display_name": "Partha Pratim Mukherjee", "link": "https://stackoverflow.com/users/7251418/partha-pratim-mukherjee"}, "is_accepted": false, "score": 0, "last_activity_date": 1480936767, "last_edit_date": 1480936767, "creation_date": 1480935657, "answer_id": 40972710, "question_id": 40971408, "link": "https://stackoverflow.com/questions/40971408/running-a-perl-script-with-arguments-after-pbrun-in-a-wrapper-script/40972710#40972710", "title": "Running a perl script with arguments after pbrun in a wrapper script", "body": "<p>There are couple of points to take care of in your script.</p>\n\n<ol>\n<li><p>Start your script with strict and warnings pragma on. They are our friends like this</p>\n\n<pre>#!/usr/bin/env perl\nuse strict;\nuse warnings;\n</pre></li>\n<li><p>Don't assign scalar data into an array like this</p>\n\n<pre>@pb_ohsdba=\"pbrun ...\"</pre>\n\n<p>As per your intent pb_ohsdba should be a scalar variable $pb_ohsdba.</p></li>\n<li><p>Try to make your code easy to understand and debug as much as possible. For example you can take the output of <pre>perl cpu_main.pl $user $log_file</pre> into a scalar variable and pass that to pbrun like this    </p>\n\n<pre>my $cpu_output = `perl cpu_main.pl $user $log_file`;\nmy $pb_ohsdba=\"pbrun $access -u $user -t 1-2 2> /dev/null $cpu_output\";</pre></li>\n</ol>\n"}, {"tags": [], "owner": {"reputation": 11, "user_id": 7216732, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/4c5f4b315dafa2093b622c17c792cd2f?s=128&d=identicon&r=PG&f=1", "display_name": "nidhisha", "link": "https://stackoverflow.com/users/7216732/nidhisha"}, "is_accepted": false, "score": 1, "last_activity_date": 1481013960, "creation_date": 1481013960, "answer_id": 40991161, "question_id": 40971408, "link": "https://stackoverflow.com/questions/40971408/running-a-perl-script-with-arguments-after-pbrun-in-a-wrapper-script/40991161#40991161", "title": "Running a perl script with arguments after pbrun in a wrapper script", "body": "<pre><code>$access=\"ohsdba\";\nmy @pb_ohsdba=\"pbrun $access -u $user -t 1-2 2&gt; /dev/null &lt;&lt; EOF\nperl /tmp/SRGAutomation/bin/cpu_main.pl $user $log_file\nEOF\";\n$pb_out=system(@pb_ohsdba);\n</code></pre>\n\n<p>The path of the script needs to be given. This is because after pbrun the path changes.</p>\n\n<p>However its always better to have a relative path.</p>\n"}], "owner": {"reputation": 11, "user_id": 7216732, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/4c5f4b315dafa2093b622c17c792cd2f?s=128&d=identicon&r=PG&f=1", "display_name": "nidhisha", "link": "https://stackoverflow.com/users/7216732/nidhisha"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 92, "favorite_count": 0, "answer_count": 2, "score": 0, "last_activity_date": 1481013960, "creation_date": 1480931442, "last_edit_date": 1480932892, "question_id": 40971408, "link": "https://stackoverflow.com/questions/40971408/running-a-perl-script-with-arguments-after-pbrun-in-a-wrapper-script", "title": "Running a perl script with arguments after pbrun in a wrapper script", "body": "<pre><code>$user=\"abcd\"\n$access=\"ohsdba\";\n\nmy $log_file=\"abc.log\";\n\nmy @pb_ohsdba=\"pbrun $access -u $user -t 1-2 2&gt; /dev/null &lt;&lt; EOF\necho `perl cpu_main.pl $user $log_file`\nEOF\";\n$pb_out=system(@pb_ohsdba);\n</code></pre>\n\n<p>This is how i tried executing cpu_main.pl from a wrapper script. pbrun works fine but cpu_main.pl doesnt get executed when arguments are passed. However the script runs fine if there are no arguments passed to cpu_main.pl.</p>\n\n<p>Only one line from cpu_main.pl gets executed if arguments are passed.Then the control is passed back to the wrapper script. </p>\n\n<p>Is there anything wrong in the way i am doing it? Is there any other way out?</p>\n"}, {"tags": ["perl", "ssl", "smtp"], "comments": [{"owner": {"reputation": 123805, "user_id": 622310, "user_type": "registered", "accept_rate": 33, "profile_image": "https://www.gravatar.com/avatar/8b6d35219e1808520bc238b28161e2e6?s=128&d=identicon&r=PG", "display_name": "Borodin", "link": "https://stackoverflow.com/users/622310/borodin"}, "edited": false, "score": 0, "creation_date": 1480931300, "post_id": 40970815, "comment_id": 69151634, "body": "How about checking the dates of the module files? And please change the markdown on the debug: each line should start with four spaces, like your Perl code, not <i>greater-than, space</i>. I can&#39;t do it easily as I&#39;m on a tablet."}, {"owner": {"reputation": 4155, "user_id": 2006878, "user_type": "registered", "accept_rate": 74, "profile_image": "https://i.stack.imgur.com/VepQx.jpg?s=128&g=1", "display_name": "Andrew Newby", "link": "https://stackoverflow.com/users/2006878/andrew-newby"}, "reply_to_user": {"reputation": 123805, "user_id": 622310, "user_type": "registered", "accept_rate": 33, "profile_image": "https://www.gravatar.com/avatar/8b6d35219e1808520bc238b28161e2e6?s=128&d=identicon&r=PG", "display_name": "Borodin", "link": "https://stackoverflow.com/users/622310/borodin"}, "edited": false, "score": 0, "creation_date": 1480931778, "post_id": 40970815, "comment_id": 69151933, "body": "@Borodin  sorry, I&#39;ve fixed that up to a <code>code</code> section instead of quote. The version of Net:SMTP is 3.10. Having a look at the .pm files last modified date, it comes up as 1st August. I&#39;m wondering if thats not the issue, as it seems to have started from the 20th of November"}, {"owner": {"reputation": 4155, "user_id": 2006878, "user_type": "registered", "accept_rate": 74, "profile_image": "https://i.stack.imgur.com/VepQx.jpg?s=128&g=1", "display_name": "Andrew Newby", "link": "https://stackoverflow.com/users/2006878/andrew-newby"}, "reply_to_user": {"reputation": 123805, "user_id": 622310, "user_type": "registered", "accept_rate": 33, "profile_image": "https://www.gravatar.com/avatar/8b6d35219e1808520bc238b28161e2e6?s=128&d=identicon&r=PG", "display_name": "Borodin", "link": "https://stackoverflow.com/users/622310/borodin"}, "edited": false, "score": 0, "creation_date": 1480932242, "post_id": 40970815, "comment_id": 69152216, "body": "@Borodin - oh actually, it looks like the MODULE was updated on the 1st Aug 2016. I assumed that was the write time to my server, but I think it must be the timestamp from the tar.gz when it was installed. I&#39;m not sure how you downgrade a module to an older version to test"}, {"owner": {"reputation": 123805, "user_id": 622310, "user_type": "registered", "accept_rate": 33, "profile_image": "https://www.gravatar.com/avatar/8b6d35219e1808520bc238b28161e2e6?s=128&d=identicon&r=PG", "display_name": "Borodin", "link": "https://stackoverflow.com/users/622310/borodin"}, "edited": false, "score": 0, "creation_date": 1480932659, "post_id": 40970815, "comment_id": 69152455, "body": "Your calls to <code>data</code> and <code>datasend</code> don&#39;t look right. I think those two should be just <code>$smtp-&gt;data($email)</code>. If you prefer <code>datasend</code> then you should call <code>dataend</code> afterwards, although the log file looks like the data is terminated properly. You should check the return values of those last few calls from <code>auth</code> onwards."}, {"owner": {"reputation": 4155, "user_id": 2006878, "user_type": "registered", "accept_rate": 74, "profile_image": "https://i.stack.imgur.com/VepQx.jpg?s=128&g=1", "display_name": "Andrew Newby", "link": "https://stackoverflow.com/users/2006878/andrew-newby"}, "reply_to_user": {"reputation": 123805, "user_id": 622310, "user_type": "registered", "accept_rate": 33, "profile_image": "https://www.gravatar.com/avatar/8b6d35219e1808520bc238b28161e2e6?s=128&d=identicon&r=PG", "display_name": "Borodin", "link": "https://stackoverflow.com/users/622310/borodin"}, "edited": false, "score": 0, "creation_date": 1480932991, "post_id": 40970815, "comment_id": 69152667, "body": "@Borodin - thanks. Still no joy though :( I now have: `\t\t$smtp-&gt;mail($from); $smtp-&gt;to($to); $smtp-&gt;bcc(&#39;andy.newby@gmail.com&#39;); $smtp-&gt;data($email);<code>. Same issue as before - it just hangs. If I comment out the </code>attach()` part, it sends fine (just without the attachment)"}, {"owner": {"reputation": 123805, "user_id": 622310, "user_type": "registered", "accept_rate": 33, "profile_image": "https://www.gravatar.com/avatar/8b6d35219e1808520bc238b28161e2e6?s=128&d=identicon&r=PG", "display_name": "Borodin", "link": "https://stackoverflow.com/users/622310/borodin"}, "edited": false, "score": 1, "creation_date": 1480933170, "post_id": 40970815, "comment_id": 69152771, "body": "Oh it <i>hangs</i>? That&#39;s useful to know. Try adding a call to <code>$smtp-&gt;dataend</code> after your <code>datasend</code>. Find out where it&#39;s hanging and <i>check the return values</i>"}, {"owner": {"reputation": 4155, "user_id": 2006878, "user_type": "registered", "accept_rate": 74, "profile_image": "https://i.stack.imgur.com/VepQx.jpg?s=128&g=1", "display_name": "Andrew Newby", "link": "https://stackoverflow.com/users/2006878/andrew-newby"}, "reply_to_user": {"reputation": 123805, "user_id": 622310, "user_type": "registered", "accept_rate": 33, "profile_image": "https://www.gravatar.com/avatar/8b6d35219e1808520bc238b28161e2e6?s=128&d=identicon&r=PG", "display_name": "Borodin", "link": "https://stackoverflow.com/users/622310/borodin"}, "edited": false, "score": 0, "creation_date": 1480933469, "post_id": 40970815, "comment_id": 69152939, "body": "@Borodin - yeah it hangs (I&#39;ve left it for 5 minutes, and it still didn&#39;t go). Adding some debugging in, and it hangs at this point: <code>$smtp-&gt;data($email);</code>. Nothing runs after it (but the code before does)"}, {"owner": {"reputation": 123805, "user_id": 622310, "user_type": "registered", "accept_rate": 33, "profile_image": "https://www.gravatar.com/avatar/8b6d35219e1808520bc238b28161e2e6?s=128&d=identicon&r=PG", "display_name": "Borodin", "link": "https://stackoverflow.com/users/622310/borodin"}, "edited": false, "score": 1, "creation_date": 1480933654, "post_id": 40970815, "comment_id": 69153059, "body": "Okay, change it back to how it was, with <code>data()</code> and then <code>datasend()</code> and add <code>dataend()</code>and see where that hangs."}, {"owner": {"reputation": 4155, "user_id": 2006878, "user_type": "registered", "accept_rate": 74, "profile_image": "https://i.stack.imgur.com/VepQx.jpg?s=128&g=1", "display_name": "Andrew Newby", "link": "https://stackoverflow.com/users/2006878/andrew-newby"}, "reply_to_user": {"reputation": 123805, "user_id": 622310, "user_type": "registered", "accept_rate": 33, "profile_image": "https://www.gravatar.com/avatar/8b6d35219e1808520bc238b28161e2e6?s=128&d=identicon&r=PG", "display_name": "Borodin", "link": "https://stackoverflow.com/users/622310/borodin"}, "edited": false, "score": 0, "creation_date": 1480933971, "post_id": 40970815, "comment_id": 69153248, "body": "@Borodin - so like this?  <code>$smtp-&gt;data(); $smtp-&gt;datasend($email); $smtp-&gt;dataend(); $smtp-&gt;quit();</code> ? If so, it still hangs at <code>$smtp-&gt;datasend($email);</code>"}, {"owner": {"reputation": 123805, "user_id": 622310, "user_type": "registered", "accept_rate": 33, "profile_image": "https://www.gravatar.com/avatar/8b6d35219e1808520bc238b28161e2e6?s=128&d=identicon&r=PG", "display_name": "Borodin", "link": "https://stackoverflow.com/users/622310/borodin"}, "edited": false, "score": 0, "creation_date": 1480934087, "post_id": 40970815, "comment_id": 69153316, "body": "Interesting. You need to invoke the Perl debugger and step through to find <i>where</i> it&#39;s hanging. What is the module trying to do that never completes?"}, {"owner": {"reputation": 4155, "user_id": 2006878, "user_type": "registered", "accept_rate": 74, "profile_image": "https://i.stack.imgur.com/VepQx.jpg?s=128&g=1", "display_name": "Andrew Newby", "link": "https://stackoverflow.com/users/2006878/andrew-newby"}, "reply_to_user": {"reputation": 123805, "user_id": 622310, "user_type": "registered", "accept_rate": 33, "profile_image": "https://www.gravatar.com/avatar/8b6d35219e1808520bc238b28161e2e6?s=128&d=identicon&r=PG", "display_name": "Borodin", "link": "https://stackoverflow.com/users/622310/borodin"}, "edited": false, "score": 0, "creation_date": 1480934250, "post_id": 40970815, "comment_id": 69153415, "body": "@Borodin - how do I do that? :) Also, just to confirm I have tested this on my dev server, and the exact same script works. So it <i>has</i> to be something to do with the update of Net::SMTP."}, {"owner": {"reputation": 4155, "user_id": 2006878, "user_type": "registered", "accept_rate": 74, "profile_image": "https://i.stack.imgur.com/VepQx.jpg?s=128&g=1", "display_name": "Andrew Newby", "link": "https://stackoverflow.com/users/2006878/andrew-newby"}, "reply_to_user": {"reputation": 123805, "user_id": 622310, "user_type": "registered", "accept_rate": 33, "profile_image": "https://www.gravatar.com/avatar/8b6d35219e1808520bc238b28161e2e6?s=128&d=identicon&r=PG", "display_name": "Borodin", "link": "https://stackoverflow.com/users/622310/borodin"}, "edited": false, "score": 0, "creation_date": 1480934565, "post_id": 40970815, "comment_id": 69153599, "body": "@Borodin - I have run it using -d in the command line, and it still hangs at that section. I&#39;ve added the debug to the OP"}, {"owner": {"reputation": 123805, "user_id": 622310, "user_type": "registered", "accept_rate": 33, "profile_image": "https://www.gravatar.com/avatar/8b6d35219e1808520bc238b28161e2e6?s=128&d=identicon&r=PG", "display_name": "Borodin", "link": "https://stackoverflow.com/users/622310/borodin"}, "edited": false, "score": 0, "creation_date": 1480934633, "post_id": 40970815, "comment_id": 69153646, "body": "Ah, well it&#39;s not trivial if you don&#39;t know already. Read <a href=\"http://perldoc.perl.org/perldebug.html\" rel=\"nofollow noreferrer\"><code>perldoc perldebug</code></a>. But essentially you run the program from the command line and add the <code>-d</code> option. Then single-step through the program by pressing <code>n</code> until you hit a line that hangs. Then run it again the same way, and on the hanging line press <code>s</code> instead of <code>n</code> to step <i>into</i> that subroutine, and then carry on with <code>n</code> again. To find the next hang. You&#39;ll probably want to take notes. Eventually you&#39;ll hit a call to core perl, and you will have found why it is hanging."}, {"owner": {"reputation": 4155, "user_id": 2006878, "user_type": "registered", "accept_rate": 74, "profile_image": "https://i.stack.imgur.com/VepQx.jpg?s=128&g=1", "display_name": "Andrew Newby", "link": "https://stackoverflow.com/users/2006878/andrew-newby"}, "reply_to_user": {"reputation": 123805, "user_id": 622310, "user_type": "registered", "accept_rate": 33, "profile_image": "https://www.gravatar.com/avatar/8b6d35219e1808520bc238b28161e2e6?s=128&d=identicon&r=PG", "display_name": "Borodin", "link": "https://stackoverflow.com/users/622310/borodin"}, "edited": false, "score": 1, "creation_date": 1480942240, "post_id": 40970815, "comment_id": 69158399, "body": "@Borodin - still no closer :( I think I&#39;ve pinned it down to <code>IO::Socket::SSL::readline(&#47;usr&#47;local&#47;share&#47;perl&#47;5.20.2&#47;IO&#47;So&zwnj;&#8203;cket&#47;SSL.pm:1236): 1236:           my $poke = Net::SSLeay::peek($ssl,1);</code>  $! seems to be &quot;Interrupted system call&quot;, but I can&#39;t find out what that message even means :/"}, {"owner": {"reputation": 123805, "user_id": 622310, "user_type": "registered", "accept_rate": 33, "profile_image": "https://www.gravatar.com/avatar/8b6d35219e1808520bc238b28161e2e6?s=128&d=identicon&r=PG", "display_name": "Borodin", "link": "https://stackoverflow.com/users/622310/borodin"}, "edited": false, "score": 0, "creation_date": 1480952420, "post_id": 40970815, "comment_id": 69165183, "body": "That is <i>much</i> closer. Can you <i>step into</i> the <code>Net::SSLeay::peek($ssl, 1)</code> line? Here&#39;s your next lesson: you can set a <i>breakpoint</i> at a line number using <code>b</code>, for instance <code>b 42</code>. It will tell you off if the line is not &quot;breakable&quot;, i.e. it&#39;s blank or a comment or a continuation line. The you can <i>continue</i> using <code>c</code>, which will run the program until it hits a breakpoint, or terminates or fails."}, {"owner": {"reputation": 123805, "user_id": 622310, "user_type": "registered", "accept_rate": 33, "profile_image": "https://www.gravatar.com/avatar/8b6d35219e1808520bc238b28161e2e6?s=128&d=identicon&r=PG", "display_name": "Borodin", "link": "https://stackoverflow.com/users/622310/borodin"}, "edited": false, "score": 0, "creation_date": 1480953051, "post_id": 40970815, "comment_id": 69165537, "body": "The line number refers to the current source file, but you can precede it with a file path, so you should try <code>b &#47;path&#47;to&#47;IO&#47;Socket&#47;SSL.pm</code> followed by <code>c</code>, which will run until that line in the module. (You can get the file paths of all the loaded modules with <code>x %INC</code>.) Then try <code>s</code> to step <i>into</i> the <code>peek</code> call and see if you get any further."}, {"owner": {"reputation": 123805, "user_id": 622310, "user_type": "registered", "accept_rate": 33, "profile_image": "https://www.gravatar.com/avatar/8b6d35219e1808520bc238b28161e2e6?s=128&d=identicon&r=PG", "display_name": "Borodin", "link": "https://stackoverflow.com/users/622310/borodin"}, "edited": false, "score": 0, "creation_date": 1480953138, "post_id": 40970815, "comment_id": 69165594, "body": "Once you&#39;ve got as far as you can, you should gather together all of your information and present it as a new question. That will get the details out of the comments and also put more eyes on the problem."}, {"owner": {"reputation": 4155, "user_id": 2006878, "user_type": "registered", "accept_rate": 74, "profile_image": "https://i.stack.imgur.com/VepQx.jpg?s=128&g=1", "display_name": "Andrew Newby", "link": "https://stackoverflow.com/users/2006878/andrew-newby"}, "reply_to_user": {"reputation": 123805, "user_id": 622310, "user_type": "registered", "accept_rate": 33, "profile_image": "https://www.gravatar.com/avatar/8b6d35219e1808520bc238b28161e2e6?s=128&d=identicon&r=PG", "display_name": "Borodin", "link": "https://stackoverflow.com/users/622310/borodin"}, "edited": false, "score": 0, "creation_date": 1480954266, "post_id": 40970815, "comment_id": 69166311, "body": "@Borodin - thanks for the tips. I must be doing something wrong :) All I seem to get, is a loop: <a href=\"https://jpst.it/Q4uv\" rel=\"nofollow noreferrer\">jpst.it/Q4uv</a> . I can&#39;t seem to get it to go into the <code>peek()</code> function, to see whats going on in there :/"}, {"owner": {"reputation": 89568, "user_id": 3081018, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/Z2NYm.png?s=128&g=1", "display_name": "Steffen Ullrich", "link": "https://stackoverflow.com/users/3081018/steffen-ullrich"}, "edited": false, "score": 0, "creation_date": 1481143820, "post_id": 40970815, "comment_id": 69261524, "body": "You can&#39;t step into <code>Net::SSLeay:.peek</code> because this is C and not Perl code. It looks like that it is busy waiting for the server to send a line (the response from the server), i.e. it is waiting for the end of line marker. Given that the problems occurs only when you use an attachment it might be that the mail server employs some content scanner (antivirus or similar) which croaks on the attachment. Have a look at the server logs."}, {"owner": {"reputation": 4155, "user_id": 2006878, "user_type": "registered", "accept_rate": 74, "profile_image": "https://i.stack.imgur.com/VepQx.jpg?s=128&g=1", "display_name": "Andrew Newby", "link": "https://stackoverflow.com/users/2006878/andrew-newby"}, "reply_to_user": {"reputation": 89568, "user_id": 3081018, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/Z2NYm.png?s=128&g=1", "display_name": "Steffen Ullrich", "link": "https://stackoverflow.com/users/3081018/steffen-ullrich"}, "edited": false, "score": 0, "creation_date": 1481182780, "post_id": 40970815, "comment_id": 69275615, "body": "@SteffenUllrich - ahh ok - that makes sense. I&#39;ll give it a go at some point with just a plain text file (as simple as it gets). If that still has an issue, I&#39;ll talk to Google about it (its using Google Apps to send the mail)"}, {"owner": {"reputation": 4155, "user_id": 2006878, "user_type": "registered", "accept_rate": 74, "profile_image": "https://i.stack.imgur.com/VepQx.jpg?s=128&g=1", "display_name": "Andrew Newby", "link": "https://stackoverflow.com/users/2006878/andrew-newby"}, "reply_to_user": {"reputation": 89568, "user_id": 3081018, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/Z2NYm.png?s=128&g=1", "display_name": "Steffen Ullrich", "link": "https://stackoverflow.com/users/3081018/steffen-ullrich"}, "edited": false, "score": 0, "creation_date": 1481187618, "post_id": 40970815, "comment_id": 69278042, "body": "@SteffenUllrich - I have reported this to google, and they are going to investigate. The tech I spoke to was quite baffled as to why its only when an attachment is added, that the issue occurs. Hopefully they can track the issue down"}, {"owner": {"reputation": 4155, "user_id": 2006878, "user_type": "registered", "accept_rate": 74, "profile_image": "https://i.stack.imgur.com/VepQx.jpg?s=128&g=1", "display_name": "Andrew Newby", "link": "https://stackoverflow.com/users/2006878/andrew-newby"}, "reply_to_user": {"reputation": 123805, "user_id": 622310, "user_type": "registered", "accept_rate": 33, "profile_image": "https://www.gravatar.com/avatar/8b6d35219e1808520bc238b28161e2e6?s=128&d=identicon&r=PG", "display_name": "Borodin", "link": "https://stackoverflow.com/users/622310/borodin"}, "edited": false, "score": 0, "creation_date": 1481212476, "post_id": 40970815, "comment_id": 69294725, "body": "@Borodin - finally got it! I&#39;ve put the answer down below. After all that, it was a QP issue (for some reason it didn&#39;t like a specific charachter, and locks up... not sure why!). Thanks for much for sticking with me on this, and helping me learn a few cool tricks for debugging as well.... so not a total loss! ;)"}], "answers": [{"comments": [{"owner": {"reputation": 123805, "user_id": 622310, "user_type": "registered", "accept_rate": 33, "profile_image": "https://www.gravatar.com/avatar/8b6d35219e1808520bc238b28161e2e6?s=128&d=identicon&r=PG", "display_name": "Borodin", "link": "https://stackoverflow.com/users/622310/borodin"}, "edited": false, "score": 1, "creation_date": 1481213851, "post_id": 41043531, "comment_id": 69295669, "body": "Well done. It&#39;s nice to know that Google support will actually help you to that extent. Most companies just provide a token &quot;support&quot; service whose job it is to prove that it&#39;s not their fault. Please accept your own answer."}, {"owner": {"reputation": 4155, "user_id": 2006878, "user_type": "registered", "accept_rate": 74, "profile_image": "https://i.stack.imgur.com/VepQx.jpg?s=128&g=1", "display_name": "Andrew Newby", "link": "https://stackoverflow.com/users/2006878/andrew-newby"}, "reply_to_user": {"reputation": 123805, "user_id": 622310, "user_type": "registered", "accept_rate": 33, "profile_image": "https://www.gravatar.com/avatar/8b6d35219e1808520bc238b28161e2e6?s=128&d=identicon&r=PG", "display_name": "Borodin", "link": "https://stackoverflow.com/users/622310/borodin"}, "edited": false, "score": 0, "creation_date": 1481214232, "post_id": 41043531, "comment_id": 69295905, "body": "Thanks. Yes, he certainly went above and beyond what I was expecting.  I didn&#39;t realise I could mark my own answer as correct yet (normally you have to wait a couple of days, but maybe its OK due to the fact the thread is a few days old). Thanks again!"}, {"owner": {"reputation": 123805, "user_id": 622310, "user_type": "registered", "accept_rate": 33, "profile_image": "https://www.gravatar.com/avatar/8b6d35219e1808520bc238b28161e2e6?s=128&d=identicon&r=PG", "display_name": "Borodin", "link": "https://stackoverflow.com/users/622310/borodin"}, "edited": false, "score": 1, "creation_date": 1481214348, "post_id": 41043531, "comment_id": 69295988, "body": "It&#39;s probably because you&#39;ve reached 1,000 reputation."}], "tags": [], "owner": {"reputation": 4155, "user_id": 2006878, "user_type": "registered", "accept_rate": 74, "profile_image": "https://i.stack.imgur.com/VepQx.jpg?s=128&g=1", "display_name": "Andrew Newby", "link": "https://stackoverflow.com/users/2006878/andrew-newby"}, "is_accepted": true, "score": 1, "last_activity_date": 1481212431, "creation_date": 1481212431, "answer_id": 41043531, "question_id": 40970815, "link": "https://stackoverflow.com/questions/40970815/netsmtp-stopped-working-but-im-not-sure-why-iosocketssl/41043531#41043531", "title": "Net::SMTP - stopped working, but I&#39;m not sure why [IO::Socket::SSL ?]", "body": "<p>Oh my goodness! I can't believe this is what it was. </p>\n\n<p>Basically, the issue is that either <code>MIME::Lite</code> or <code>Net::SMTP</code> don't seem to <strong>Quoted-Printed</strong> encode the persons name! I just spent about an hour on the phone to Google support, and we finally managed to pin it down to the <strong>\u00e4</strong> charachter in the recipients name. For some reason it works fine with stuff like \u00e1\u00ed\u00f3, but not \u00e4 (and probably some other characters). </p>\n\n<p>Anyway, for anyone else who may come across this in the future - the fix is pretty simple:</p>\n\n<pre><code>use Encode; \nmy $to = qq|\"| . encode(\"MIME-Q\", $order-&gt;{buyer_name}) . qq|\" &lt;me\\@gmail.com&gt;|;\n</code></pre>\n\n<p>This basically converts the name, such as P\u00e4ri, into quoted values:</p>\n\n<pre><code>To: \"=?UTF-8?Q?=20P=C3=A4ri?=\" &lt;me@gmail.com&gt;\n</code></pre>\n\n<p>I can't believe this took so long to work out :( Also, still very odd that the modules locked up when it got that character (instead of giving an error, or just sending with a broken character)</p>\n\n<p>Hopefully this will help someone else in the future!</p>\n"}], "owner": {"reputation": 4155, "user_id": 2006878, "user_type": "registered", "accept_rate": 74, "profile_image": "https://i.stack.imgur.com/VepQx.jpg?s=128&g=1", "display_name": "Andrew Newby", "link": "https://stackoverflow.com/users/2006878/andrew-newby"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 195, "favorite_count": 1, "accepted_answer_id": 41043531, "answer_count": 1, "score": 1, "last_activity_date": 1481212431, "creation_date": 1480929596, "last_edit_date": 1480948177, "question_id": 40970815, "link": "https://stackoverflow.com/questions/40970815/netsmtp-stopped-working-but-im-not-sure-why-iosocketssl", "title": "Net::SMTP - stopped working, but I&#39;m not sure why [IO::Socket::SSL ?]", "body": "<p>I'm really baffled with this one! We have a system that emails out invoices to customers, and its worked fine - up until about a month ago. I've had a few people contacting me for an invoice, which I thought was a bit weird. Anyway, I took a look into the script, and it seems like its stopped sending! (it hangs at the <code>$smtp-&gt;data($email);</code> line)</p>\n\n<p>This is the code:</p>\n\n<pre><code>my $to          = qq|\"Andy\" &lt;andy.newby\\@gmail.com&gt;|;\nmy $subject_val = \"test subject\";\n\nmy $write_path = \"/srv/www/mysite.net/www/cgi-bin/admin/invoice_pdfs/new/pdf_versions/$order-&gt;{amazon_order_id}.pdf\";\nmy $file_name  = \"$order-&gt;{amazon_order_id}.pdf\";\n\nif (!-e $write_path) {\n    print qq|PDF doesn't seem to exist yet! SKIPPING ($write_path) \\n|;\n    next;\n}\n\nprint \"TO: $to \\n\";\n\nmy $to          = qq|\"$order-&gt;{buyer_name}\" &lt;andy.newby\\@gmail.com&gt;|;\nmy $subject_val = sprintf($languages-&gt;{subject}-&gt;{$lang},$order-&gt;{amazon_order_id});\n\nmy $write_path = \"/srv/www/mysite.net/www/cgi-bin/admin/invoice_pdfs/new/pdf_versions/$order-&gt;{amazon_order_id}.pdf\";\nmy $file_name  = \"$order-&gt;{amazon_order_id}.pdf\";\n\nmy $msg = MIME::Lite-&gt;new(\n    Type     =&gt; 'multipart/mixed',\n    Subject  =&gt; $subject_val,\n    To =&gt; $to,\n    From =&gt; $from\n);\n\n# create a sub-part\nmy $part = MIME::Lite-&gt;new(\n    Type =&gt; 'multipart/alternative',\n);\n\nmy $att_html = MIME::Lite-&gt;new(\n    Type     =&gt; 'text',\n    Data     =&gt; \"text version\",\n    Encoding =&gt; 'quoted-printable',\n);\n$att_html-&gt;attr('content-type' =&gt; 'text/plain; charset=iso-8859-1');\n$part-&gt;attach($att_html);\n\nmy $att_text = MIME::Lite-&gt;new(\n    Type     =&gt; 'text',\n    Data     =&gt; \"html version\",\n    Encoding =&gt; 'quoted-printable',\n);\n$att_text-&gt;attr('content-type' =&gt; 'text/html; charset=iso-8859-1');\n$part-&gt;attach($att_text);\n\n$msg-&gt;attach($part);\n\n$msg-&gt;attach(\n     Type     =&gt;'application/pdf',\n     Path     =&gt; $write_path,\n     Filename =&gt; $file_name,\n     Disposition =&gt; 'attachment'\n);\n\nmy $email = $msg-&gt;as_string();\n\n# now do the sending...\nmy $smtp = Net::SMTP-&gt;new('smtp.gmail.com',\n                       Hello =&gt; 'steampunkjunkies.net',\n                       Timeout =&gt; 30,\n                       Debug   =&gt; 1,\n                       SSL     =&gt; 1\n                      ) || die \"Error: $!\";\n\n$smtp-&gt;auth($CFG-&gt;{db_smtp_user}, $CFG-&gt;{db_smtp_pass}) or die \"Could not authenticate with mail.\\n\";\n\n$smtp-&gt;mail($from); # from addr\n$smtp-&gt;to($to);\n$smtp-&gt;bcc('myemail@gmail.com');\n$smtp-&gt;data($email); # It hangs here\n$smtp-&gt;quit();\n</code></pre>\n\n<p>After some debugging, I tracked it down to this code:</p>\n\n<pre><code>$msg-&gt;attach(\n     Type     =&gt;'application/pdf',\n     Path     =&gt; $write_path,\n     Filename =&gt; $file_name,\n     Disposition =&gt; 'attachment'\n);\n</code></pre>\n\n<p>If I comment that part out, it works fine (but obviously with no attachment!!!). Here is the debug from <strong>Net::SMTP</strong>:</p>\n\n<pre class=\"lang-none prettyprint-override\"><code>Net::SMTP::_SSL&gt;&gt;&gt; Net::SMTP::_SSL\nNet::SMTP::_SSL&gt;&gt;&gt;   IO::Socket::SSL(2.019)\nNet::SMTP::_SSL&gt;&gt;&gt;     IO::Socket::IP(0.32)\nNet::SMTP::_SSL&gt;&gt;&gt;       IO::Socket(1.38)\nNet::SMTP::_SSL&gt;&gt;&gt;         IO::Handle(1.35)\nNet::SMTP::_SSL&gt;&gt;&gt;           Exporter(5.71)\nNet::SMTP::_SSL&gt;&gt;&gt;   Net::SMTP(3.10)\nNet::SMTP::_SSL&gt;&gt;&gt;     Net::Cmd(3.10)\nNet::SMTP::_SSL=GLOB(0x2d3b7a0)&lt;&lt;&lt; 220 smtp.gmail.com ESMTP d64sm16899171wmh.3 - gsmtp\nNet::SMTP::_SSL=GLOB(0x2d3b7a0)&gt;&gt;&gt; EHLO steampunkjunkies.net\nNet::SMTP::_SSL=GLOB(0x2d3b7a0)&lt;&lt;&lt; 250-smtp.gmail.com at your service, [2a01:7e00::f03c:91ff:fea8:e2c5]\nNet::SMTP::_SSL=GLOB(0x2d3b7a0)&lt;&lt;&lt; 250-SIZE 35882577\nNet::SMTP::_SSL=GLOB(0x2d3b7a0)&lt;&lt;&lt; 250-8BITMIME\nNet::SMTP::_SSL=GLOB(0x2d3b7a0)&lt;&lt;&lt; 250-AUTH LOGIN PLAIN XOAUTH2 PLAIN-CLIENTTOKEN OAUTHBEARER XOAUTH\nNet::SMTP::_SSL=GLOB(0x2d3b7a0)&lt;&lt;&lt; 250-ENHANCEDSTATUSCODES\nNet::SMTP::_SSL=GLOB(0x2d3b7a0)&lt;&lt;&lt; 250-PIPELINING\nNet::SMTP::_SSL=GLOB(0x2d3b7a0)&lt;&lt;&lt; 250-CHUNKING\nNet::SMTP::_SSL=GLOB(0x2d3b7a0)&lt;&lt;&lt; 250 SMTPUTF8\nNet::SMTP::_SSL=GLOB(0x2d3b7a0)&gt;&gt;&gt; AUTH LOGIN\nNet::SMTP::_SSL=GLOB(0x2d3b7a0)&lt;&lt;&lt; 334 VXNlcm5hbWU6\nNet::SMTP::_SSL=GLOB(0x2d3b7a0)&lt;&lt;&lt; (decoded) Username:\nNet::SMTP::_SSL=GLOB(0x2d3b7a0)&gt;&gt;&gt; (decoded) xxx@xxxx.xxx\nNet::SMTP::_SSL=GLOB(0x2d3b7a0)&gt;&gt;&gt; YWRtaW5Ac3RlYW1wdW5rLmVtYWls\nNet::SMTP::_SSL=GLOB(0x2d3b7a0)&lt;&lt;&lt; 334 UGFzc3dvcmQ6\nNet::SMTP::_SSL=GLOB(0x2d3b7a0)&lt;&lt;&lt; (decoded) Password:\nNet::SMTP::_SSL=GLOB(0x2d3b7a0)&gt;&gt;&gt; (decoded) xxxx\nNet::SMTP::_SSL=GLOB(0x2d3b7a0)&gt;&gt;&gt; xxxxx==\nNet::SMTP::_SSL=GLOB(0x2d3b7a0)&lt;&lt;&lt; 235 2.7.0 Accepted\nNet::SMTP::_SSL=GLOB(0x2d3b7a0)&gt;&gt;&gt; MAIL FROM:&lt;andy@steampunkjunkies.net&gt;\nNet::SMTP::_SSL=GLOB(0x2d3b7a0)&lt;&lt;&lt; 250 2.1.0 OK d64sm16899171wmh.3 - gsmtp\nNet::SMTP::_SSL=GLOB(0x2d3b7a0)&gt;&gt;&gt; RCPT TO:&lt;andy.newby@gmail.com&gt;\nNet::SMTP::_SSL=GLOB(0x2d3b7a0)&lt;&lt;&lt; 250 2.1.5 OK d64sm16899171wmh.3 - gsmtp\nNet::SMTP::_SSL=GLOB(0x2d3b7a0)&gt;&gt;&gt; RCPT TO:&lt;andy.newby@gmail.com&gt;\nNet::SMTP::_SSL=GLOB(0x2d3b7a0)&lt;&lt;&lt; 250 2.1.5 OK, duplicate recipients will be consolidated. d64sm16899171wmh.3 - gsmtp\nNet::SMTP::_SSL=GLOB(0x2d3b7a0)&gt;&gt;&gt; DATA\nNet::SMTP::_SSL=GLOB(0x2d3b7a0)&lt;&lt;&lt; 354  Go ahead d64sm16899171wmh.3 - gsmtp\nNet::SMTP::_SSL=GLOB(0x2d3b7a0)&gt;&gt;&gt; Content-Transfer-Encoding: binary\nNet::SMTP::_SSL=GLOB(0x2d3b7a0)&gt;&gt;&gt; Content-Type: multipart/mixed; boundary=\"_----------=_1480928361299110\"\nNet::SMTP::_SSL=GLOB(0x2d3b7a0)&gt;&gt;&gt; MIME-Version: 1.0\nNet::SMTP::_SSL=GLOB(0x2d3b7a0)&gt;&gt;&gt; X-Mailer: MIME::Lite 3.030 (F2.85; T2.11; A2.13; B3.15; Q3.13)\nNet::SMTP::_SSL=GLOB(0x2d3b7a0)&gt;&gt;&gt; Date: Mon, 5 Dec 2016 08:59:21 +0000\nNet::SMTP::_SSL=GLOB(0x2d3b7a0)&gt;&gt;&gt; Subject: test subject\nNet::SMTP::_SSL=GLOB(0x2d3b7a0)&gt;&gt;&gt; To: \"Andy\" &lt;andy.newby@gmail.com&gt;\nNet::SMTP::_SSL=GLOB(0x2d3b7a0)&gt;&gt;&gt; From: Steampunk Junkies &lt;andy@steampunkjunkies.net&gt;\nNet::SMTP::_SSL=GLOB(0x2d3b7a0)&gt;&gt;&gt; \nNet::SMTP::_SSL=GLOB(0x2d3b7a0)&gt;&gt;&gt; This is a multi-part message in MIME format.\nNet::SMTP::_SSL=GLOB(0x2d3b7a0)&gt;&gt;&gt; \nNet::SMTP::_SSL=GLOB(0x2d3b7a0)&gt;&gt;&gt; --_----------=_1480928361299110\nNet::SMTP::_SSL=GLOB(0x2d3b7a0)&gt;&gt;&gt; Content-Transfer-Encoding: binary\nNet::SMTP::_SSL=GLOB(0x2d3b7a0)&gt;&gt;&gt; Content-Type: multipart/alternative; boundary=\"_----------=_1480928361299111\"\nNet::SMTP::_SSL=GLOB(0x2d3b7a0)&gt;&gt;&gt; MIME-Version: 1.0\nNet::SMTP::_SSL=GLOB(0x2d3b7a0)&gt;&gt;&gt; X-Mailer: MIME::Lite 3.030 (F2.85; T2.11; A2.13; B3.15; Q3.13)\nNet::SMTP::_SSL=GLOB(0x2d3b7a0)&gt;&gt;&gt; Date: Mon, 5 Dec 2016 08:59:21 +0000\nNet::SMTP::_SSL=GLOB(0x2d3b7a0)&gt;&gt;&gt; \nNet::SMTP::_SSL=GLOB(0x2d3b7a0)&gt;&gt;&gt; This is a multi-part message in MIME format.\nNet::SMTP::_SSL=GLOB(0x2d3b7a0)&gt;&gt;&gt; \nNet::SMTP::_SSL=GLOB(0x2d3b7a0)&gt;&gt;&gt; --_----------=_1480928361299111\nNet::SMTP::_SSL=GLOB(0x2d3b7a0)&gt;&gt;&gt; Content-Disposition: inline\nNet::SMTP::_SSL=GLOB(0x2d3b7a0)&gt;&gt;&gt; Content-Transfer-Encoding: quoted-printable\nNet::SMTP::_SSL=GLOB(0x2d3b7a0)&gt;&gt;&gt; Content-Type: text/plain; charset=iso-8859-1\nNet::SMTP::_SSL=GLOB(0x2d3b7a0)&gt;&gt;&gt; MIME-Version: 1.0\nNet::SMTP::_SSL=GLOB(0x2d3b7a0)&gt;&gt;&gt; X-Mailer: MIME::Lite 3.030 (F2.85; T2.11; A2.13; B3.15; Q3.13)\nNet::SMTP::_SSL=GLOB(0x2d3b7a0)&gt;&gt;&gt; Date: Mon, 5 Dec 2016 08:59:21 +0000\nNet::SMTP::_SSL=GLOB(0x2d3b7a0)&gt;&gt;&gt; \nNet::SMTP::_SSL=GLOB(0x2d3b7a0)&gt;&gt;&gt; plain text version\nNet::SMTP::_SSL=GLOB(0x2d3b7a0)&gt;&gt;&gt; \nNet::SMTP::_SSL=GLOB(0x2d3b7a0)&gt;&gt;&gt; --_----------=_1480928361299111\nNet::SMTP::_SSL=GLOB(0x2d3b7a0)&gt;&gt;&gt; Content-Disposition: inline\nNet::SMTP::_SSL=GLOB(0x2d3b7a0)&gt;&gt;&gt; Content-Transfer-Encoding: quoted-printable\nNet::SMTP::_SSL=GLOB(0x2d3b7a0)&gt;&gt;&gt; Content-Type: text/html; charset=iso-8859-1\nNet::SMTP::_SSL=GLOB(0x2d3b7a0)&gt;&gt;&gt; MIME-Version: 1.0\nNet::SMTP::_SSL=GLOB(0x2d3b7a0)&gt;&gt;&gt; X-Mailer: MIME::Lite 3.030 (F2.85; T2.11; A2.13; B3.15; Q3.13)\nNet::SMTP::_SSL=GLOB(0x2d3b7a0)&gt;&gt;&gt; Date: Mon, 5 Dec 2016 08:59:21 +0000\nNet::SMTP::_SSL=GLOB(0x2d3b7a0)&gt;&gt;&gt; \nNet::SMTP::_SSL=GLOB(0x2d3b7a0)&gt;&gt;&gt; html version\nNet::SMTP::_SSL=GLOB(0x2d3b7a0)&gt;&gt;&gt; \nNet::SMTP::_SSL=GLOB(0x2d3b7a0)&gt;&gt;&gt; --_----------=_1480928361299111--\nNet::SMTP::_SSL=GLOB(0x2d3b7a0)&gt;&gt;&gt; \nNet::SMTP::_SSL=GLOB(0x2d3b7a0)&gt;&gt;&gt; \nNet::SMTP::_SSL=GLOB(0x2d3b7a0)&gt;&gt;&gt; --_----------=_1480928361299110\nNet::SMTP::_SSL=GLOB(0x2d3b7a0)&gt;&gt;&gt; Content-Disposition: attachment; filename=\"205-2876651-1862762.pdf\"\nNet::SMTP::_SSL=GLOB(0x2d3b7a0)&gt;&gt;&gt; Content-Transfer-Encoding: base64\nNet::SMTP::_SSL=GLOB(0x2d3b7a0)&gt;&gt;&gt; Content-Type: application/pdf; name=\"205-2876651-1862762.pdf\"\nNet::SMTP::_SSL=GLOB(0x2d3b7a0)&gt;&gt;&gt; \nNet::SMTP::_SSL=GLOB(0x2d3b7a0)&gt;&gt;&gt; JVBERi0xLjMKMSAwIG9iago8PCAvVHlwZSAvQ2F0YWxvZwovT3V0bGluZXMg\nNet::SMTP::_SSL=GLOB(0x2d3b7a0)&gt;&gt;&gt; MiAwIFIKL1BhZ2VzIDMgMCBSID4+CmVuZG9iagoyIDAgb2JqCjw8IC9UeXBl\nNet::SMTP::_SSL=GLOB(0x2d3b7a0)&gt;&gt;&gt; IC9PdXRsaW5lcyAvQ291bnQgMCA+PgplbmRvYmoKMyAwIG9iago8PCAvVHlw\nNet::SMTP::_SSL=GLOB(0x2d3b7a0)&gt;&gt;&gt; ZSAvUGFnZXMKL0tpZHMgWzYgMCBSCjIzIDAgUgpdCi9Db3VudCAyCi9SZXNv\nNet::SMTP::_SSL=GLOB(0x2d3b7a0)&gt;&gt;&gt; dXJjZXMgPDwKL1Byb2NTZXQgNCAwIFIKL0ZvbnQgPDwgCi9GMSA4IDAgUgov\nNet::SMTP::_SSL=GLOB(0x2d3b7a0)&gt;&gt;&gt; RjIgMTUgMCBSCj4+Ci9YT2JqZWN0IDw8IAovSTEgMjIgMCBSCj4+Cj4+Ci9N\nNet::SMTP::_SSL=GLOB(0x2d3b7a0)&gt;&gt;&gt; ZWRpYUJveCBbMC4wMDAgMC4wMDAgNjEyLjAwMCA3OTIuMDAwXQogPj4KZW5k\nNet::SMTP::_SSL=GLOB(0x2d3b7a0)&gt;&gt;&gt; b2JqCjQgMCBvYmoKWy9QREYgL1RleHQgL0ltYWdlQyBdCmVuZG9iago1IDAg\nNet::SMTP::_SSL=GLOB(0x2d3b7a0)&gt;&gt;&gt; b2JqCjw8Ci9Qcm9kdWNlciAo/v8AZABvAG0AcABkAGYAIAA8AGUANABiADQA\n...rest of base64\nNet::SMTP::_SSL=GLOB(0x23e9340)&gt;&gt;&gt; bmZvIDUgMCBSCj4+CnN0YXJ0eHJlZgoxNjA5MTk2CiUlRU9GCg==\nNet::SMTP::_SSL=GLOB(0x23e9340)&gt;&gt;&gt; \nNet::SMTP::_SSL=GLOB(0x23e9340)&gt;&gt;&gt; --_----------=_148092924910810--\nNet::SMTP::_SSL=GLOB(0x23e9340)&gt;&gt;&gt; .\n</code></pre>\n\n<p>I've taken out the base64 stuff for the attachment, as that would be very long. The only thing I can think of, is that Net::SMTP got updated to a newer version - but I'm not sure when/how this could have been done, as I'm the sysadmin (and I didn't do it)  </p>\n\n<p>With the debugger, I get:</p>\n\n<pre><code>perl -d test.cgi\n\nLoading DB routines from perl5db.pl version 1.44\nEditor support available.\n\nEnter h or 'h h' for help, or 'man perldebug' for more help.\n\nMalformed UTF-8 character (unexpected non-continuation byte 0x63, immediately after start byte 0xe9) at test.cgi line 24.\n at test.cgi line 24.\n\"my\" variable $to masks earlier declaration in same scope at test.cgi line 87.\n at test.cgi line 87.\n\"my\" variable $subject_val masks earlier declaration in same scope at test.cgi line 88.\n at test.cgi line 88.\n\"my\" variable $write_path masks earlier declaration in same scope at test.cgi line 90.\n at test.cgi line 90.\n\"my\" variable $file_name masks earlier declaration in same scope at test.cgi line 91.\n at test.cgi line 91.\nIO::Socket::SSL::CODE(0x29d3f50)(/usr/local/share/perl/5.20.2/IO/Socket/SSL.pm:192):\n192:            INIT { init() }\n                                                                                                                                                                                                                                               DB&lt;1&gt; r\nvoid context return from CODE(0x29d3f50)\nmain::(test.cgi:14):    $| = 1;\n                                                                                                                                                                                                                                               DB&lt;1&gt; r\nContent-type: text/html; charset=utf-8\n\nDoing: 205-2876651-1862762\nTO: Indrek P\u00c3\u00a4ri\n$VAR1 = 'Indrek P\u00c3\u00a4ri';\nTO: \"Andy\" &lt;andy.newby@gmail.com&gt;\nr\n\n\n\n^X^CIO::Socket::SSL::readline(/usr/local/share/perl/5.20.2/IO/Socket/SSL.pm:1171):\n1171:           if ( ! defined $poke or $poke eq '' ) {\n</code></pre>\n\n<p><strong>UPDATE 2:</strong></p>\n\n<p>So it seems to be this line that is hanging:</p>\n\n<pre><code>   DB&lt;1&gt; n\n^CIO::Socket::SSL::readline(/usr/local/share/perl/5.20.2/IO/Socket/SSL.pm:1171):\n1171:           if ( ! defined $poke or $poke eq '' ) {\n</code></pre>\n"}, {"tags": ["bash", "perl"], "comments": [{"owner": {"reputation": 126278, "user_id": 6451573, "user_type": "moderator", "accept_rate": 90, "profile_image": "https://i.stack.imgur.com/4xczZ.jpg?s=128&g=1", "display_name": "Jean-Fran&#231;ois Fabre", "link": "https://stackoverflow.com/users/6451573/jean-fran%c3%a7ois-fabre"}, "edited": false, "score": 1, "creation_date": 1480926981, "post_id": 40970019, "comment_id": 69149122, "body": "bad shebang? tried with <code>perl</code> prefix? <code>perl ~&#47;build&#47;mosesdecoder&#47;scripts&#47;training&#47;mert-moses.perl</code>"}, {"owner": {"reputation": 3042, "user_id": 4393898, "user_type": "registered", "accept_rate": 67, "profile_image": "https://i.stack.imgur.com/JvZg5.jpg?s=128&g=1", "display_name": "yusuf", "link": "https://stackoverflow.com/users/4393898/yusuf"}, "reply_to_user": {"reputation": 126278, "user_id": 6451573, "user_type": "moderator", "accept_rate": 90, "profile_image": "https://i.stack.imgur.com/4xczZ.jpg?s=128&g=1", "display_name": "Jean-Fran&#231;ois Fabre", "link": "https://stackoverflow.com/users/6451573/jean-fran%c3%a7ois-fabre"}, "edited": false, "score": 0, "creation_date": 1480927021, "post_id": 40970019, "comment_id": 69149146, "body": "Can&#39;t open perl script &quot;/export/students/sait/build/mosesdecoder/scripts/training/m&zwnj;&#8203;ert-moses.perl&quot;: No such file or directory"}, {"owner": {"reputation": 41196, "user_id": 887539, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/5baef9617bdee6db2f534c118bcbccee?s=128&d=identicon&r=PG", "display_name": "andlrc", "link": "https://stackoverflow.com/users/887539/andlrc"}, "edited": false, "score": 1, "creation_date": 1480927220, "post_id": 40970019, "comment_id": 69149244, "body": "The file does <i>not</i> exists. How many different programs do you need to tell you? <code>ls -la &#47;path&#47;to&#47;non&#47;existing&#47;file</code>"}, {"owner": {"reputation": 126278, "user_id": 6451573, "user_type": "moderator", "accept_rate": 90, "profile_image": "https://i.stack.imgur.com/4xczZ.jpg?s=128&g=1", "display_name": "Jean-Fran&#231;ois Fabre", "link": "https://stackoverflow.com/users/6451573/jean-fran%c3%a7ois-fabre"}, "edited": false, "score": 1, "creation_date": 1480927248, "post_id": 40970019, "comment_id": 69149256, "body": "try <code>ls -F &#47;export&#47;students&#47;sait&#47;build&#47;mosesdecoder&#47;scripts&#47;training</code>, check if no trailing space for instance."}, {"owner": {"reputation": 3042, "user_id": 4393898, "user_type": "registered", "accept_rate": 67, "profile_image": "https://i.stack.imgur.com/JvZg5.jpg?s=128&g=1", "display_name": "yusuf", "link": "https://stackoverflow.com/users/4393898/yusuf"}, "edited": false, "score": 0, "creation_date": 1480927317, "post_id": 40970019, "comment_id": 69149290, "body": "I tried. No problem. mert-moses.pl exists."}, {"owner": {"reputation": 41196, "user_id": 887539, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/5baef9617bdee6db2f534c118bcbccee?s=128&d=identicon&r=PG", "display_name": "andlrc", "link": "https://stackoverflow.com/users/887539/andlrc"}, "edited": false, "score": 4, "creation_date": 1480927669, "post_id": 40970019, "comment_id": 69149491, "body": "<code>mert-moses.pl</code> is not the same as <code>mert-moses.perl</code>"}], "answers": [{"tags": [], "owner": {"reputation": 1477, "user_id": 3761456, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/cf5dd6b4cdf49e95980017fe08358262?s=128&d=identicon&r=PG&f=1", "display_name": "Iluvatar", "link": "https://stackoverflow.com/users/3761456/iluvatar"}, "is_accepted": true, "score": 4, "last_activity_date": 1480927610, "creation_date": 1480927610, "answer_id": 40970257, "question_id": 40970019, "link": "https://stackoverflow.com/questions/40970019/bash-doesnt-see-the-file-in-the-right-directory/40970257#40970257", "title": "Bash doesn&#39;t see the file in the right directory", "body": "<p>You say in the comments that <code>mert-moses.pl</code> exists, but your script looks for <code>mert-moses.perl</code>. This is probably the source of your problem.</p>\n"}], "owner": {"reputation": 3042, "user_id": 4393898, "user_type": "registered", "accept_rate": 67, "profile_image": "https://i.stack.imgur.com/JvZg5.jpg?s=128&g=1", "display_name": "yusuf", "link": "https://stackoverflow.com/users/4393898/yusuf"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 65, "favorite_count": 0, "closed_date": 1480930842, "accepted_answer_id": 40970257, "answer_count": 1, "score": -3, "last_activity_date": 1480928902, "creation_date": 1480926678, "last_edit_date": 1480928902, "question_id": 40970019, "link": "https://stackoverflow.com/questions/40970019/bash-doesnt-see-the-file-in-the-right-directory", "closed_reason": "Not suitable for this site", "title": "Bash doesn&#39;t see the file in the right directory", "body": "<p>I have this bash script;</p>\n\n<pre><code>~/build/mosesdecoder/scripts/training/mert-moses.perl \\\n        ~/factored_translation/dataset/dev.tr ~/factored_translation/dataset/dev.en \\\n        ~/build/mosesdecoder/bin/moses unfactored/model/moses.ini \\\n        --mertdir ~/build/mosesdecoder/bin \\\n        --input-factor-max 4 \\\n        --decoder-flags=\"-threads all\"\n</code></pre>\n\n<p>When I run it, it gives me this error:</p>\n\n<blockquote>\n  <p>./tune-model.sh: line 2:\n  /export/students/sait/build/mosesdecoder/scripts/training/mert-moses.perl:\n  No such file or directory</p>\n</blockquote>\n\n<p>But I am sure that <code>mert-moses.pl</code> is under <code>/export/students/sait/build/mosesdecoder/scripts/training/</code> directory, and it exists.</p>\n\n<p>How can I solve this problem?</p>\n"}, {"tags": ["perl", "bioinformatics", "bioperl"], "comments": [{"owner": {"reputation": 50468, "user_id": 1331451, "user_type": "registered", "accept_rate": 96, "profile_image": "https://i.stack.imgur.com/4ZPmj.png?s=128&g=1", "display_name": "simbabque", "link": "https://stackoverflow.com/users/1331451/simbabque"}, "edited": false, "score": 3, "creation_date": 1480928219, "post_id": 40969601, "comment_id": 69149817, "body": "You should at least show us the wrapper."}, {"owner": {"reputation": 946, "user_id": 1765406, "user_type": "registered", "accept_rate": 0, "profile_image": "https://i.stack.imgur.com/Koqta.jpg?s=128&g=1", "display_name": "vanHoesel", "link": "https://stackoverflow.com/users/1765406/vanhoesel"}, "edited": false, "score": 0, "creation_date": 1480929959, "post_id": 40969601, "comment_id": 69150791, "body": "Since there is no code to look at, it&#39;s a mere guessing from what you described. \u2013\u2013 Do you actually pass in the arguments from your wrapper.pl into the scripts ? - how would they magically know what options they need to handle? Oh... and before you think you can simply pass in <code>@ARGV</code> at that time, you will be wrong, <code>@ARGV</code> will be consumed after parsing the options. (except for those after the double dash)"}, {"owner": {"reputation": 320771, "user_id": 589924, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/b2cf53d5a3d25f95c0db4e025aed4153?s=128&d=identicon&r=PG", "display_name": "ikegami", "link": "https://stackoverflow.com/users/589924/ikegami"}, "edited": false, "score": 0, "creation_date": 1480963184, "post_id": 40969601, "comment_id": 69171493, "body": "Please provide a minimal, runnable demonstration of the problem."}], "answers": [{"tags": [], "owner": {"reputation": 13767, "user_id": 2413201, "user_type": "registered", "accept_rate": 88, "profile_image": "https://i.stack.imgur.com/rxfuw.jpg?s=128&g=1", "display_name": "Armali", "link": "https://stackoverflow.com/users/2413201/armali"}, "is_accepted": false, "score": 0, "last_activity_date": 1522329842, "creation_date": 1522329842, "answer_id": 49557254, "question_id": 40969601, "link": "https://stackoverflow.com/questions/40969601/wrapper-script-and-getoptslong-perl/49557254#49557254", "title": "wrapper script and GetOpts::Long perl", "body": "<blockquote>\n  <p>Do you actually pass in the arguments from your wrapper.pl into the\n  scripts ? - how would they magically know what options they need to\n  handle?</p>\n</blockquote>\n\n<p>vanHoesel asked the right questions; you have to do something like that in <code>wrapper.pl</code>:</p>\n\n<pre><code>use Getopt::Long;\nGetOptions('i=s' =&gt; \\$input_file,\n           'o=s' =&gt; \\$output_file) || die \"Usage: $0 -i INPUT -o OUTPUT\\n\";\n`perl script1.pl -i $input_file`;\n`perl script2.pl -o $output_file`;\n</code></pre>\n"}], "owner": {"reputation": 1, "user_id": 6592142, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/136cba2c856e01d746ad0def52246576?s=128&d=identicon&r=PG&f=1", "display_name": "J_Dow", "link": "https://stackoverflow.com/users/6592142/j-dow"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 67, "favorite_count": 0, "answer_count": 1, "score": -1, "last_activity_date": 1522329842, "creation_date": 1480924727, "question_id": 40969601, "link": "https://stackoverflow.com/questions/40969601/wrapper-script-and-getoptslong-perl", "title": "wrapper script and GetOpts::Long perl", "body": "<p>I have been trying to make GetOpts :: Long work for my code but it just doesn't respond. I have a wrapper script with about 8 scripts and 2 commands. I have been trying to GetOpts :: Long submit arguments into the separate codes, but it doesnt work!</p>\n\n<p>For example, I've script 1 though 8, and on the command line I'm trying to a few options that I would like to submit to the separate scripts. When I use the GetOpts module in the seprate scripts and run them separately, they run fine. But when I try to run the wrapper script, say wrapper.pl which initiates script 1 with the module being called in it; the arguments submitted are not being taken by the separate scripts.</p>\n\n<p>Please help!!!!</p>\n\n<p>I hope this sort of explains the problem. wrapper script looks like this(wrapper.pl),using backticks:</p>\n\n<p>perl script1.pl;</p>\n\n<p>perl script2.pl; (etc)</p>\n\n<p>script1.pl uses the GetOpts::Long option for the input file. script1.pl calls for the input file using the \"-i\" option, but the file is not being read when initiated on the command line.</p>\n\n<p>command line option: perl wrapper.pl -i seqs.fa -o op.fa</p>\n"}, {"tags": ["perl"], "answers": [{"comments": [{"owner": {"reputation": 1, "user_id": 7242188, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/2e6e8de9c07e2897e217ea6615d064f1?s=128&d=identicon&r=PG&f=1", "display_name": "User312", "link": "https://stackoverflow.com/users/7242188/user312"}, "edited": false, "score": 0, "creation_date": 1480912022, "post_id": 40966992, "comment_id": 69143667, "body": "OK..Thanks.. One more query is - How to compare substring let say $word = 12345 and $temp[1] = 1234 then how to compare"}, {"owner": {"reputation": 1665, "user_id": 1848140, "user_type": "registered", "accept_rate": 59, "profile_image": "https://www.gravatar.com/avatar/c0bc64ef33e6ab5560ce5c534190a6a0?s=128&d=identicon&r=PG&f=1", "display_name": "Nagaraju", "link": "https://stackoverflow.com/users/1848140/nagaraju"}, "reply_to_user": {"reputation": 1, "user_id": 7242188, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/2e6e8de9c07e2897e217ea6615d064f1?s=128&d=identicon&r=PG&f=1", "display_name": "User312", "link": "https://stackoverflow.com/users/7242188/user312"}, "edited": false, "score": 0, "creation_date": 1480912691, "post_id": 40966992, "comment_id": 69143847, "body": "You are comparing in the right way use chomp to truncate new line when reading a file so that your compare will work."}, {"owner": {"reputation": 1665, "user_id": 1848140, "user_type": "registered", "accept_rate": 59, "profile_image": "https://www.gravatar.com/avatar/c0bc64ef33e6ab5560ce5c534190a6a0?s=128&d=identicon&r=PG&f=1", "display_name": "Nagaraju", "link": "https://stackoverflow.com/users/1848140/nagaraju"}, "reply_to_user": {"reputation": 1, "user_id": 7242188, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/2e6e8de9c07e2897e217ea6615d064f1?s=128&d=identicon&r=PG&f=1", "display_name": "User312", "link": "https://stackoverflow.com/users/7242188/user312"}, "edited": false, "score": 0, "creation_date": 1480913874, "post_id": 40966992, "comment_id": 69144141, "body": "@User312 did that help?"}, {"owner": {"reputation": 123805, "user_id": 622310, "user_type": "registered", "accept_rate": 33, "profile_image": "https://www.gravatar.com/avatar/8b6d35219e1808520bc238b28161e2e6?s=128&d=identicon&r=PG", "display_name": "Borodin", "link": "https://stackoverflow.com/users/622310/borodin"}, "reply_to_user": {"reputation": 1, "user_id": 7242188, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/2e6e8de9c07e2897e217ea6615d064f1?s=128&d=identicon&r=PG&f=1", "display_name": "User312", "link": "https://stackoverflow.com/users/7242188/user312"}, "edited": false, "score": 1, "creation_date": 1480929104, "post_id": 40966992, "comment_id": 69150298, "body": "@User312: Please don&#39;t extend your question after you have posted it. Additional questions require a new post."}], "tags": [], "owner": {"reputation": 1665, "user_id": 1848140, "user_type": "registered", "accept_rate": 59, "profile_image": "https://www.gravatar.com/avatar/c0bc64ef33e6ab5560ce5c534190a6a0?s=128&d=identicon&r=PG&f=1", "display_name": "Nagaraju", "link": "https://stackoverflow.com/users/1848140/nagaraju"}, "is_accepted": true, "score": 0, "last_activity_date": 1480911263, "creation_date": 1480911263, "answer_id": 40966992, "question_id": 40966731, "link": "https://stackoverflow.com/questions/40966731/how-to-take-input-from-one-csv-file-and-count-the-words-in-another-file-in-perl/40966992#40966992", "title": "How to take input from one csv file and count the words in another file in perl", "body": "<p>First and foremost thing is always</p>\n\n<pre><code>use strict;\nuse warnings;\n</code></pre>\n\n<p>You have misunderstood getting values from arrays as scalar. To fetch a scalar value from array use the following:</p>\n\n<pre><code>        @temp = split (/\\,/);                 #this is array\n        print \"First Column - $temp[0], \";    #temp[[0] is scalar value of array\n        print \"Count - $temp[1], \";            #temp[[1] is scalar value of array\n        print \"Priority - $temp[3], \";         #temp[[2] is scalar value of array\n</code></pre>\n\n<p>and here </p>\n\n<pre><code>foreach $word (@words)\n        {\n            $temp1 = $temp[0];       #this should be scalar.\n            if($word == $temp1)\n            {\n                $count++;\n            }\n        }\n</code></pre>\n\n<p>Wherever you are using <code>@temp[0],@temp[1]</code>.. is wrong usage it should be <code>$temp[0],$temp[1],$temo[2]</code>....</p>\n"}], "owner": {"reputation": 1, "user_id": 7242188, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/2e6e8de9c07e2897e217ea6615d064f1?s=128&d=identicon&r=PG&f=1", "display_name": "User312", "link": "https://stackoverflow.com/users/7242188/user312"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 51, "favorite_count": 0, "accepted_answer_id": 40966992, "answer_count": 1, "score": -1, "last_activity_date": 1480911263, "creation_date": 1480909190, "question_id": 40966731, "link": "https://stackoverflow.com/questions/40966731/how-to-take-input-from-one-csv-file-and-count-the-words-in-another-file-in-perl", "title": "How to take input from one csv file and count the words in another file in perl", "body": "<p>I am very new to perl. I want to take string from first column of one csv file and want to check the frequency of this word in another file and want to print the output in third file. Here is my code - </p>\n\n<pre><code>    #!/usr/bin/perl\n\n$inputfile = 'Input.txt';\n$outputfile = 'Out.csv';\n$file = 'File.csv';\n\nopen(INPUT, \"&lt;$inputfile\") or die \"Could not read from $inputfile, program halting.\";\nopen(OUTPUT, \"&gt;$outputfile\") or die \"Could not open $outputfile, program halting.\";\nopen(FILE, \"&lt;$file\") or die \"Could not read from $file, program halting\";\n\n@temp;\n@token;\n$count;\n\n#skip first line of approved file\nif(&lt;FILE&gt;)\n{\n    (@temp) = split (/\\,/);\n}\n    $count = 0;\n    while(&lt;FILE&gt;)\n    {\n        @temp = split (/\\,/); \n        print \"First Column - @temp[0], \";\n        print \"Count - @temp[1], \";\n        print \"Priority - @temp[3], \";\n $count = 0;\n    while(&lt;INPUT&gt;)\n    {\n        #read the fields in the current record into an array\n        @words = split(/\\s+/);\n        foreach $word (@words)\n        {\n            $temp1 = @temp[0];\n            if($word == $temp1)\n            {\n                $count++;\n            }\n        }\n}\n    print \"$temp1 - Count - $count \\n \";\n    print OUTPUT \"$temp1,$count,@temp[3]\";\n    print OUTPUT \"\\n\";\n}   \n\nclose INPUT;\nclose OUTPUT;\nclose FILE;\n\nprint \"Done, please check the output file.\\n\";\n</code></pre>\n\n<p>Somebody please help.</p>\n"}, {"tags": ["regex", "bash", "perl"], "comments": [{"owner": {"reputation": 41196, "user_id": 887539, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/5baef9617bdee6db2f534c118bcbccee?s=128&d=identicon&r=PG", "display_name": "andlrc", "link": "https://stackoverflow.com/users/887539/andlrc"}, "edited": false, "score": 0, "creation_date": 1480901862, "post_id": 40965820, "comment_id": 69141363, "body": "What is the output from <code>curl</code>?"}, {"owner": {"reputation": 41196, "user_id": 887539, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/5baef9617bdee6db2f534c118bcbccee?s=128&d=identicon&r=PG", "display_name": "andlrc", "link": "https://stackoverflow.com/users/887539/andlrc"}, "edited": false, "score": 0, "creation_date": 1480901907, "post_id": 40965820, "comment_id": 69141375, "body": "The perl script should be <code>perl -ne &#39;print if &#47;regex&#47;&#39;</code>"}, {"owner": {"reputation": 33, "user_id": 6101386, "user_type": "registered", "accept_rate": 86, "profile_image": "https://lh4.googleusercontent.com/-7ISEXF04v5o/AAAAAAAAAAI/AAAAAAAAA3M/0NGA6cgfhW8/photo.jpg?sz=128", "display_name": "Nathan Free", "link": "https://stackoverflow.com/users/6101386/nathan-free"}, "reply_to_user": {"reputation": 41196, "user_id": 887539, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/5baef9617bdee6db2f534c118bcbccee?s=128&d=identicon&r=PG", "display_name": "andlrc", "link": "https://stackoverflow.com/users/887539/andlrc"}, "edited": false, "score": 0, "creation_date": 1480902897, "post_id": 40965820, "comment_id": 69141613, "body": "The output of curl is quite long. It&#39;s the entire html that makes up a large webpage. <code>perl -ne &#39;print if &#47;regex&#47;&#39;</code> didn&#39;t have quite the desired output but it did get me much closer to the answer. I may be doing something else wrong as well. Thanks for getting me on the right track."}, {"owner": {"reputation": 41196, "user_id": 887539, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/5baef9617bdee6db2f534c118bcbccee?s=128&d=identicon&r=PG", "display_name": "andlrc", "link": "https://stackoverflow.com/users/887539/andlrc"}, "edited": false, "score": 0, "creation_date": 1480903021, "post_id": 40965820, "comment_id": 69141645, "body": "The regex you have it stupid as it&#39;s basically: <code>\\d\\d:\\d\\d</code>. No need for a look ahead."}, {"owner": {"reputation": 33, "user_id": 6101386, "user_type": "registered", "accept_rate": 86, "profile_image": "https://lh4.googleusercontent.com/-7ISEXF04v5o/AAAAAAAAAAI/AAAAAAAAA3M/0NGA6cgfhW8/photo.jpg?sz=128", "display_name": "Nathan Free", "link": "https://stackoverflow.com/users/6101386/nathan-free"}, "reply_to_user": {"reputation": 41196, "user_id": 887539, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/5baef9617bdee6db2f534c118bcbccee?s=128&d=identicon&r=PG", "display_name": "andlrc", "link": "https://stackoverflow.com/users/887539/andlrc"}, "edited": false, "score": 0, "creation_date": 1480903089, "post_id": 40965820, "comment_id": 69141667, "body": "Not exactly. The regex I have is the \\d\\d portion of \\d\\d:\\d\\d For example, if I have &quot;10:00&quot;, The regex matches the &quot;10&quot;. I don&#39;t want the &quot;:00&quot; which is the reason for the look ahead."}, {"owner": {"reputation": 41196, "user_id": 887539, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/5baef9617bdee6db2f534c118bcbccee?s=128&d=identicon&r=PG", "display_name": "andlrc", "link": "https://stackoverflow.com/users/887539/andlrc"}, "edited": false, "score": 0, "creation_date": 1480903138, "post_id": 40965820, "comment_id": 69141680, "body": "... And it does no change as you are not using the capturing text to anything. Then change it to <code>print $1 if &#47;(re)gex&#47;</code> to print the captured result."}, {"owner": {"reputation": 33, "user_id": 6101386, "user_type": "registered", "accept_rate": 86, "profile_image": "https://lh4.googleusercontent.com/-7ISEXF04v5o/AAAAAAAAAAI/AAAAAAAAA3M/0NGA6cgfhW8/photo.jpg?sz=128", "display_name": "Nathan Free", "link": "https://stackoverflow.com/users/6101386/nathan-free"}, "reply_to_user": {"reputation": 41196, "user_id": 887539, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/5baef9617bdee6db2f534c118bcbccee?s=128&d=identicon&r=PG", "display_name": "andlrc", "link": "https://stackoverflow.com/users/887539/andlrc"}, "edited": false, "score": 0, "creation_date": 1480903797, "post_id": 40965820, "comment_id": 69141846, "body": "Ok, thank you. One last thing, though. Making that modification, it seems perl does a global search even if I drop the &quot;g&quot; from the end of my regex. I suppose this means perl -ne is reading the input line by line. Is there a simple way to have perl return only the first result?"}], "answers": [{"comments": [{"owner": {"reputation": 33, "user_id": 6101386, "user_type": "registered", "accept_rate": 86, "profile_image": "https://lh4.googleusercontent.com/-7ISEXF04v5o/AAAAAAAAAAI/AAAAAAAAA3M/0NGA6cgfhW8/photo.jpg?sz=128", "display_name": "Nathan Free", "link": "https://stackoverflow.com/users/6101386/nathan-free"}, "edited": false, "score": 0, "creation_date": 1480904674, "post_id": 40966106, "comment_id": 69142033, "body": "Though @andlrc was extremely helpful, this post puts everything together succinctly for any future passersby"}, {"owner": {"reputation": 320771, "user_id": 589924, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/b2cf53d5a3d25f95c0db4e025aed4153?s=128&d=identicon&r=PG", "display_name": "ikegami", "link": "https://stackoverflow.com/users/589924/ikegami"}, "edited": false, "score": 0, "creation_date": 1480920625, "post_id": 40966106, "comment_id": 69146273, "body": "<code>if (&#47;&#47;g)</code> makes no sense. Fixed it (and undid other changes for the worse)."}], "tags": [], "owner": {"reputation": 2734, "user_id": 1657639, "user_type": "registered", "accept_rate": 75, "profile_image": "https://www.gravatar.com/avatar/94504d99f1d8559e8cb58591ee42a34b?s=128&d=identicon&r=PG", "display_name": "mr rogers", "link": "https://stackoverflow.com/users/1657639/mr-rogers"}, "is_accepted": true, "score": 1, "last_activity_date": 1480921025, "last_edit_date": 1480921025, "creation_date": 1480903630, "answer_id": 40966106, "question_id": 40965820, "link": "https://stackoverflow.com/questions/40965820/output-the-first-regex-match-against-stdin/40966106#40966106", "title": "Output the first regex match against STDIN", "body": "<p>You can use the following:</p>\n\n<pre><code>#!/bin/bash\ncurl \"$1\" | perl -nle'print for /\\d\\d(?=:\\d\\d)/g' &gt; \"$2\"\n</code></pre>\n\n<p>If you change the match to <code>/script/g</code>, you can see it working with something like</p>\n\n<pre><code>./scriptname http://www.ucsd.edu outputfile.txt\n</code></pre>\n"}, {"comments": [{"owner": {"reputation": 41196, "user_id": 887539, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/5baef9617bdee6db2f534c118bcbccee?s=128&d=identicon&r=PG", "display_name": "andlrc", "link": "https://stackoverflow.com/users/887539/andlrc"}, "reply_to_user": {"reputation": 320771, "user_id": 589924, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/b2cf53d5a3d25f95c0db4e025aed4153?s=128&d=identicon&r=PG", "display_name": "ikegami", "link": "https://stackoverflow.com/users/589924/ikegami"}, "edited": false, "score": 0, "creation_date": 1480920782, "post_id": 40966170, "comment_id": 69146347, "body": "@ikegami I never stated it is, but the result is the same, since I only capture <code>\\d\\d</code>."}, {"owner": {"reputation": 41196, "user_id": 887539, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/5baef9617bdee6db2f534c118bcbccee?s=128&d=identicon&r=PG", "display_name": "andlrc", "link": "https://stackoverflow.com/users/887539/andlrc"}, "reply_to_user": {"reputation": 320771, "user_id": 589924, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/b2cf53d5a3d25f95c0db4e025aed4153?s=128&d=identicon&r=PG", "display_name": "ikegami", "link": "https://stackoverflow.com/users/589924/ikegami"}, "edited": false, "score": 0, "creation_date": 1480920804, "post_id": 40966170, "comment_id": 69146359, "body": "There is nothing to consider since I don&#39;t use <code>&#47;g</code>"}, {"owner": {"reputation": 41196, "user_id": 887539, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/5baef9617bdee6db2f534c118bcbccee?s=128&d=identicon&r=PG", "display_name": "andlrc", "link": "https://stackoverflow.com/users/887539/andlrc"}, "reply_to_user": {"reputation": 320771, "user_id": 589924, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/b2cf53d5a3d25f95c0db4e025aed4153?s=128&d=identicon&r=PG", "display_name": "ikegami", "link": "https://stackoverflow.com/users/589924/ikegami"}, "edited": false, "score": 0, "creation_date": 1480921141, "post_id": 40966170, "comment_id": 69146496, "body": "@ikegami See the quote, OP state they wanting the first result <i>only</i>. Sort of like <code>grep -o | head -1</code> but with a lookahead."}, {"owner": {"reputation": 320771, "user_id": 589924, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/b2cf53d5a3d25f95c0db4e025aed4153?s=128&d=identicon&r=PG", "display_name": "ikegami", "link": "https://stackoverflow.com/users/589924/ikegami"}, "edited": false, "score": 0, "creation_date": 1480921248, "post_id": 40966170, "comment_id": 69146533, "body": "Don&#39;t you hate it when they change the question in the comments? Still, using <code>s&#47;&#47;&#47;</code> makes no sense here. <code>perl -nle&#39;if (&#47;(\\d\\d):\\d\\d&#47;) { print $1; exit }&#39;</code> or <code>perl -nle&#39;if (&#47;\\d\\d(?=:\\d\\d)&#47;) { print $&amp;; exit }&#39;</code> would be much cleaner. [Can&#39;t remove downvote]"}, {"owner": {"reputation": 41196, "user_id": 887539, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/5baef9617bdee6db2f534c118bcbccee?s=128&d=identicon&r=PG", "display_name": "andlrc", "link": "https://stackoverflow.com/users/887539/andlrc"}, "reply_to_user": {"reputation": 320771, "user_id": 589924, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/b2cf53d5a3d25f95c0db4e025aed4153?s=128&d=identicon&r=PG", "display_name": "ikegami", "link": "https://stackoverflow.com/users/589924/ikegami"}, "edited": false, "score": 0, "creation_date": 1480922436, "post_id": 40966170, "comment_id": 69147017, "body": "I answered in sed, because I find sed to be the least overhead for the question asked as well as being highly portable. The Perl is simply there is explain what the sed is doing; Next time you should properly read before downvoting then ;-)"}, {"owner": {"reputation": 320771, "user_id": 589924, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/b2cf53d5a3d25f95c0db4e025aed4153?s=128&d=identicon&r=PG", "display_name": "ikegami", "link": "https://stackoverflow.com/users/589924/ikegami"}, "edited": false, "score": 0, "creation_date": 1480924189, "post_id": 40966170, "comment_id": 69147888, "body": "I did properly read the question before downvoting. // Perl is actually more portable (AFAIK, <code>sed</code> will only work on unix boxes, whereas Perl can be installed on Windows)"}], "tags": [], "owner": {"reputation": 41196, "user_id": 887539, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/5baef9617bdee6db2f534c118bcbccee?s=128&d=identicon&r=PG", "display_name": "andlrc", "link": "https://stackoverflow.com/users/887539/andlrc"}, "is_accepted": false, "score": 0, "last_activity_date": 1480904164, "creation_date": 1480904164, "answer_id": 40966170, "question_id": 40965820, "link": "https://stackoverflow.com/questions/40965820/output-the-first-regex-match-against-stdin/40966170#40966170", "title": "Output the first regex match against STDIN", "body": "<blockquote>\n  <p>I suppose this means perl -ne is reading the input line by line. Is there a simple way to have perl return only the first result?</p>\n</blockquote>\n\n<p>Consider using sed:</p>\n\n<pre><code>... | sed '/^.*\\([[:digit:]]\\{2\\}\\):[[:digit:]]\\{2\\}.*/{s//\\1/;q};d'\n</code></pre>\n\n<p>In Perl, that would be:</p>\n\n<pre><code>... | perl -nle 'if (s/^.*(\\d\\d):\\d\\d.*/$1/) { print; exit }'\n</code></pre>\n\n<p>And with GNU Grep compiled with <code>--perl-regexp</code>:</p>\n\n<pre><code>... | grep -m1 -Po '\\d\\d(?=:\\d\\d)'\n</code></pre>\n"}, {"tags": [], "owner": {"reputation": 320771, "user_id": 589924, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/b2cf53d5a3d25f95c0db4e025aed4153?s=128&d=identicon&r=PG", "display_name": "ikegami", "link": "https://stackoverflow.com/users/589924/ikegami"}, "is_accepted": false, "score": 0, "last_activity_date": 1480922025, "creation_date": 1480922025, "answer_id": 40968951, "question_id": 40965820, "link": "https://stackoverflow.com/questions/40965820/output-the-first-regex-match-against-stdin/40968951#40968951", "title": "Output the first regex match against STDIN", "body": "<p>There are a few problems:</p>\n\n<ul>\n<li>You never read from STDIN.</li>\n<li>You don't stop trying to match after the first match.</li>\n<li>You print unconditionally.</li>\n</ul>\n\n<p>If you want all matches (as per your original question):</p>\n\n<pre><code>perl -nle'print for /\\d\\d(?=:\\d\\d)/g'\n</code></pre>\n\n<p>If you want the first match (as per your comment):</p>\n\n<pre><code>perl -nle'if (/\\d\\d(?=:\\d\\d)/) { print $&amp;; exit }'\n\nperl -nle'if (/(\\d\\d):\\d\\d/) { print $1; exit }'\n\ngrep -Pom1 '\\d\\d(?=:\\d\\d)'\n</code></pre>\n\n<p>Notes:</p>\n\n<ul>\n<li><code>-n</code> wraps the code with a loop that reads from STDIN.</li>\n</ul>\n"}], "owner": {"reputation": 33, "user_id": 6101386, "user_type": "registered", "accept_rate": 86, "profile_image": "https://lh4.googleusercontent.com/-7ISEXF04v5o/AAAAAAAAAAI/AAAAAAAAA3M/0NGA6cgfhW8/photo.jpg?sz=128", "display_name": "Nathan Free", "link": "https://stackoverflow.com/users/6101386/nathan-free"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 911, "favorite_count": 0, "accepted_answer_id": 40966106, "answer_count": 3, "score": 0, "last_activity_date": 1480922025, "creation_date": 1480901261, "last_edit_date": 1480921718, "question_id": 40965820, "link": "https://stackoverflow.com/questions/40965820/output-the-first-regex-match-against-stdin", "title": "Output the first regex match against STDIN", "body": "<p>In bash, I have the following:</p>\n\n<pre><code>#!/bin/bash \ncurl $1 | tac | tac | perl -e '/(\\d\\d(?=:\\d\\d))/g; print $1' &gt; $2\n</code></pre>\n\n<p>All I want is to the first match from the output of <code>curl</code> and print it to the output file. I run the script with <code>./scriptname url outputfile.txt</code> but nothing is printed. My regex is valid on <a href=\"http://regexr.com\" rel=\"nofollow noreferrer\">http://regexr.com</a>, so I'm sure it's something I don't know about Perl. What am I doing wrong? Thanks.</p>\n"}, {"tags": ["perl", "bioinformatics"], "comments": [{"owner": {"reputation": 4644, "user_id": 1431720, "user_type": "registered", "accept_rate": 89, "profile_image": "https://www.gravatar.com/avatar/f5a1388d4d3b2bf03b11bb5658c68c29?s=128&d=identicon&r=PG", "display_name": "Robert", "link": "https://stackoverflow.com/users/1431720/robert"}, "edited": false, "score": 0, "creation_date": 1480900526, "post_id": 40965555, "comment_id": 69141062, "body": "What about a global variable? Or passing the result from one sub to another?"}, {"owner": {"reputation": 1, "user_id": 6592142, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/136cba2c856e01d746ad0def52246576?s=128&d=identicon&r=PG&f=1", "display_name": "J_Dow", "link": "https://stackoverflow.com/users/6592142/j-dow"}, "reply_to_user": {"reputation": 4644, "user_id": 1431720, "user_type": "registered", "accept_rate": 89, "profile_image": "https://www.gravatar.com/avatar/f5a1388d4d3b2bf03b11bb5658c68c29?s=128&d=identicon&r=PG", "display_name": "Robert", "link": "https://stackoverflow.com/users/1431720/robert"}, "edited": false, "score": 0, "creation_date": 1480903640, "post_id": 40965555, "comment_id": 69141805, "body": "Hi, that is the problem.. I&#39;m not able to figure out how to pass the result from one sub to another."}, {"owner": {"reputation": 927, "user_id": 5714068, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/3ce6dd182cf429251eab22f284417cb5?s=128&d=identicon&r=PG&f=1", "display_name": "tomc", "link": "https://stackoverflow.com/users/5714068/tomc"}, "edited": false, "score": 0, "creation_date": 1480927573, "post_id": 40965555, "comment_id": 69149427, "body": "have you tried anything along the lines of <code>subst_head_2(subst_head_1(file))</code>"}, {"owner": {"reputation": 50468, "user_id": 1331451, "user_type": "registered", "accept_rate": 96, "profile_image": "https://i.stack.imgur.com/4ZPmj.png?s=128&g=1", "display_name": "simbabque", "link": "https://stackoverflow.com/users/1331451/simbabque"}, "reply_to_user": {"reputation": 927, "user_id": 5714068, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/3ce6dd182cf429251eab22f284417cb5?s=128&d=identicon&r=PG&f=1", "display_name": "tomc", "link": "https://stackoverflow.com/users/5714068/tomc"}, "edited": false, "score": 0, "creation_date": 1480927727, "post_id": 40965555, "comment_id": 69149529, "body": "@tomc <code>subst_head_1</code> returns the return value of the last successful operation, which would be the assignment inside the <code>while</code> loop, on the last iteration step. With the code as it is now (if we disregard the function call), that&#39;s just one thing (see my answer). <code>subst_head_2</code> takes two arguments."}], "answers": [{"tags": [], "owner": {"reputation": 50468, "user_id": 1331451, "user_type": "registered", "accept_rate": 96, "profile_image": "https://i.stack.imgur.com/4ZPmj.png?s=128&g=1", "display_name": "simbabque", "link": "https://stackoverflow.com/users/1331451/simbabque"}, "is_accepted": false, "score": 1, "last_activity_date": 1480927936, "creation_date": 1480927936, "answer_id": 40970350, "question_id": 40965555, "link": "https://stackoverflow.com/questions/40965555/combining-scripts-into-1-script-using-subroutines-perl/40970350#40970350", "title": "Combining scripts into 1 script using subroutines perl", "body": "<p>My answer will explain the most immediate problem I see with your code.</p>\n\n<p>Instead of this line</p>\n\n<blockquote>\n<pre><code>$_ = $lineno++,\"\\t\", $_ ,\"\\n\";\n</code></pre>\n</blockquote>\n\n<p>you probably had this before you changed your program.</p>\n\n<pre><code>print $lineno++,\"\\t\", $_ ,\"\\n\";\n</code></pre>\n\n<p>All you did was change that to an assignment to put all of this into <code>$_</code>. But that variable is a <em>scalar</em>. That means it's a single value. It cannot take a list. Your assignment will put the first thing on the right hand side of the <code>=</code> into <code>$_</code>. That's the result of <code>$lineno++</code>, which is <code>$lineno</code> (<code>$var++</code> increments but returns the old value). All the rest is discarded.</p>\n\n<p>So now your call <code>subst_head_2($_)</code> only has the line number. But in the subroutine you are expecting two arguments.</p>\n\n<pre><code>my $i = $_[0];\nmy $i_1 = $_[1];\n</code></pre>\n\n<p>The second one, <code>$i_1</code> (which is a <strong>horrible name</strong> for a variable) is <code>undef</code>, so you cannot use it as a file name to open a file.</p>\n\n<p>But unfortunately your description is lacking a lot of information, so I cannot tell you what you actually need to do. Please supply sample input data and output data, and think about what you want your code to do.</p>\n"}], "owner": {"reputation": 1, "user_id": 6592142, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/136cba2c856e01d746ad0def52246576?s=128&d=identicon&r=PG&f=1", "display_name": "J_Dow", "link": "https://stackoverflow.com/users/6592142/j-dow"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 39, "favorite_count": 0, "answer_count": 1, "score": -2, "last_activity_date": 1480927936, "creation_date": 1480898918, "last_edit_date": 1480899078, "question_id": 40965555, "link": "https://stackoverflow.com/questions/40965555/combining-scripts-into-1-script-using-subroutines-perl", "title": "Combining scripts into 1 script using subroutines perl", "body": "<p>I'm trying to combine a couple of scripts into 1 script by initiating subroutines. The problem is that I'm having trouble directing my input from 1 subscript to another. This needs to be done for multiple scripts. These are the 1st 2 scripts from the whole list of them. </p>\n\n<p>The data generated by code 1 needs to be submitted to code 2 and so on. but in code 2 there is an additional step of comparing the generated file with the original file.</p>\n\n<pre><code>Code 1: \nsubst_head_1($infile);\n\n\nsub subst_head_1\n{\n    ##this code helps organise the file in a way that it makes it more convenient for the file to be pushed into a hash for later analysis\n\n    ##opening file\n    my $i = $_[0];\n\n    open(IN, \"&lt;$i\") || die \"\\n Error: Cannot open the infile: $infile\\n\";\n   # open(OUT, \"&gt;op.fa\");\n\n    ##giving all the headers in the original file line numbers\n    my $lineno = 1;\n\n    while(&lt;IN&gt;)\n    {\n    chomp;\n    if ($_ =~ /&gt;/)\n    {\n\n        $_ = $lineno++,\"\\t\", $_ ,\"\\n\";\n\n        subst_head_2($_);\n\n    }\n    }\n\n}\n    ##file organised in the following format; eg., \"2&gt;CBB_deg7180000000601_1100_2101_3\"\n\nsub subst_head_2\n{\n\n    ##opening files with header information(result of head-subs-1) and the original sequence(submitted query file) file for further info\n    my $i = $_[0];\n    #print $i;\n    my $i_1 = $_[1];\n\n\n    ##pushing file(headerinfo.txt) with the header information into a hash\n    open(IN, \"&lt;$i\");\n    my @file = &lt;IN&gt;;\n\n    my $file2 = join('', @file);\n\n    my %hash = split(/[\\t\\n]/, $file2);\n\n    ##opening the original file with the sequence information into an array\n    open(IN1, \"&lt;$i_1\");\n    my @fila = &lt;IN1&gt;;\n\n\n    ##foreach of the sequnces in the sequence file\n    foreach my $fila(@fila)\n    {\n\n    ##Substituting any \"*\" in the file, if any, especially at the end of some of sequnces which were present in the file\n\n    $fila =~ s/\\*//g;\n\n    ##regex for matching with the header information in the file with all the query information\n\n    if($fila =~ /^\\&gt;(\\S+).*/)\n    {\n\n        ##putting info(eg., CBB_deg7180000000601_1100_2101_3) into a variable $user\n\n        my $user = $1;\n\n        foreach my $has(sort keys %hash)\n        {\n\n        ##regex for the values in the key-value relationship in the headerinfo file\n        if($hash{$has} =~ /^\\&gt;(\\S+).*/)\n        {\n\n            ##putting info(eg., CBB_deg7180000000601_1100_2101_3) into a variable $user1\n            my $user1 = $1;\n\n            ##is the info the same?; if it is, then substitute it in the original with key from headerinfo.txt\n\n            if($user eq $user1)\n            {\n\n            ##substitute header in the original file with the unique number;\n\n            $fila =~ s/^\\&gt;(\\S+).*\\n/&gt;$has\\n/;\n\n            }\n        }\n        }\n    }\n    }\n\n    print @fila;\n}\n</code></pre>\n"}, {"tags": ["perl", "hash", "printing"], "comments": [{"owner": {"reputation": 501, "user_id": 7186557, "user_type": "registered", "accept_rate": 57, "profile_image": "https://lh4.googleusercontent.com/-HMBzTj5oRnU/AAAAAAAAAAI/AAAAAAAAACU/P5eH3TEWk6Y/photo.jpg?sz=128", "display_name": "Olha Kholod", "link": "https://stackoverflow.com/users/7186557/olha-kholod"}, "reply_to_user": {"reputation": 50468, "user_id": 1331451, "user_type": "registered", "accept_rate": 96, "profile_image": "https://i.stack.imgur.com/4ZPmj.png?s=128&g=1", "display_name": "simbabque", "link": "https://stackoverflow.com/users/1331451/simbabque"}, "edited": false, "score": 0, "creation_date": 1480883184, "post_id": 40962881, "comment_id": 69135876, "body": "I apologize for confusion. The error is refer to the line with print statement:  print $id . &quot;\\t&quot; . $uniq . &quot;\\t&quot; . $xloc_hash{$id} . &quot;\\t&quot; . $fpkm_hash{$id} . &quot;\\n&quot;;"}, {"owner": {"reputation": 50468, "user_id": 1331451, "user_type": "registered", "accept_rate": 96, "profile_image": "https://i.stack.imgur.com/4ZPmj.png?s=128&g=1", "display_name": "simbabque", "link": "https://stackoverflow.com/users/1331451/simbabque"}, "edited": false, "score": 0, "creation_date": 1480883809, "post_id": 40962881, "comment_id": 69136094, "body": "Well, one of the values is uninitialized. Which one is it? Maybe your input data is inconsistent."}], "answers": [{"comments": [{"owner": {"reputation": 501, "user_id": 7186557, "user_type": "registered", "accept_rate": 57, "profile_image": "https://lh4.googleusercontent.com/-HMBzTj5oRnU/AAAAAAAAAAI/AAAAAAAAACU/P5eH3TEWk6Y/photo.jpg?sz=128", "display_name": "Olha Kholod", "link": "https://stackoverflow.com/users/7186557/olha-kholod"}, "edited": false, "score": 0, "creation_date": 1480971842, "post_id": 40966592, "comment_id": 69176138, "body": "Thank you very much for valuable suggestion. I modified line with $id and instead of transcript_id I used gene_id. From that point $id in a hash and $id from array started to be consistent and I fixed the error."}, {"owner": {"reputation": 5701, "user_id": 35812, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/6e663162cefd6ac833e0555933b8583f?s=128&d=identicon&r=PG", "display_name": "Chris Charley", "link": "https://stackoverflow.com/users/35812/chris-charley"}, "reply_to_user": {"reputation": 501, "user_id": 7186557, "user_type": "registered", "accept_rate": 57, "profile_image": "https://lh4.googleusercontent.com/-HMBzTj5oRnU/AAAAAAAAAAI/AAAAAAAAACU/P5eH3TEWk6Y/photo.jpg?sz=128", "display_name": "Olha Kholod", "link": "https://stackoverflow.com/users/7186557/olha-kholod"}, "edited": false, "score": 0, "creation_date": 1480982900, "post_id": 40966592, "comment_id": 69180719, "body": "@Olha Kholod I&#39;ve added an update to my post with a lot of information"}, {"owner": {"reputation": 501, "user_id": 7186557, "user_type": "registered", "accept_rate": 57, "profile_image": "https://lh4.googleusercontent.com/-HMBzTj5oRnU/AAAAAAAAAAI/AAAAAAAAACU/P5eH3TEWk6Y/photo.jpg?sz=128", "display_name": "Olha Kholod", "link": "https://stackoverflow.com/users/7186557/olha-kholod"}, "edited": false, "score": 0, "creation_date": 1481142184, "post_id": 40966592, "comment_id": 69260626, "body": "Thank you for explaining code line by line. I greatly appreciate your time and work and agree with most of your statements. I am new to programming, so some of my lines can be less complicated as you suggest in your update. I will try to improve my skills to overcome these issues in the future."}], "tags": [], "owner": {"reputation": 5701, "user_id": 35812, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/6e663162cefd6ac833e0555933b8583f?s=128&d=identicon&r=PG", "display_name": "Chris Charley", "link": "https://stackoverflow.com/users/35812/chris-charley"}, "is_accepted": true, "score": 2, "last_activity_date": 1481045616, "last_edit_date": 1481045616, "creation_date": 1480907858, "answer_id": 40966592, "question_id": 40962881, "link": "https://stackoverflow.com/questions/40962881/print-hashes-with-values-from-different-files/40966592#40966592", "title": "print hashes with values from different files", "body": "<p>I think the warning message is because the <code>$id</code> key, (<code>CUFF.24093</code>), you get on line <code>9343</code> of the second file isn't contained in the hashes you created in the first file.</p>\n\n<p>Is it possible that an ID in the second file isn't contained in the first file? That seems to be the case here.</p>\n\n<p>If so, and you just want to skip over this unknown ID, you could add a line to your program like:</p>\n\n<pre><code>my $id = $array[0];\nmy $uniq = $array[1];\n\nnext unless exists $fpkm_hash{$id}; # add this line\n\nprint $id . \"\\t\" . $uniq . \"\\t\" . $xloc_hash{$id} . \"\\t\" . $fpkm_hash{$id} . \"\\n\";\n</code></pre>\n\n<p>This will bypass the following <code>print</code> statement and go back to the top of the <code>while</code> loop and read in the next line and continue processing.</p>\n\n<p>It depends on what action you want to take if you encounter an unknown ID.</p>\n\n<p><strong>Update:</strong> I thought I might make some observations/improvements to your code.</p>\n\n<pre><code>my $v_merge_gtf = shift @ARGV or die $!;\nmy $unique_gtf = shift @ARGV or die $!;\n</code></pre>\n\n<p>The error variable <code>$!</code> serves no purpose here (this is a fact I only recently discovered even after 14 years using Perl). <a href=\"http://perldoc.perl.org/perlvar.html#Error-Variables\" rel=\"nofollow noreferrer\">$!</a> is only set for system calls, (where you are involving the operating system).The most common are <a href=\"http://perldoc.perl.org/functions/open.html\" rel=\"nofollow noreferrer\">open</a> and close for files, and <a href=\"http://perldoc.perl.org/functions/opendir.html\" rel=\"nofollow noreferrer\">opendir</a> and closedir for directories. If an error occurs in opening/closing a file or a directory, <code>$!</code> will contain the error message. (See in my included code how I handled this - I created a message, <code>$usage</code> to be printed if the <code>shift</code> didn't succeed.</p>\n\n<p>Instead of using 2 hashes to store the information, I used 1 hash,<code>%data</code>. The advantage is that it will use less memory, (because its only storing 1 set of keys instead of 2), Though, you could use the 2 if you like.</p>\n\n<p>I used the recommended 3 argument (<code>filehandle, mode, filename</code>) form for opening the files. The 2 argument approach you used is outdated and less safe (for reasons I won't go into detail here). Also, the lexical filehandles I used, <code>my $mrg</code> and <code>my $unique</code> are the newer ways to create filehandles (instead of using<code>FILE</code>for your 2 opens).</p>\n\n<p>You can directly assign to <code>$line</code>in your while loop like <code>while (my $line = &lt;FILE&gt;)</code> instead of the way you did it. In my sample program, I didn't assign to <code>$line</code>, but instead relied on the default variable <code>$_</code>. (It simplifies the 2 following statements, <code>next unless /\\S/; my @array = split /\\t/;</code>). I didn't <code>chomp</code> for the first file because you're only parsing inside the string and aren't using anything from the end of the string.<code>chomp</code> is necessary for the second <code>while</code> loop because the second variable <code>my $uniq = ...</code> would have a newline at its end if it wasn't removed by <code>chomp</code>.</p>\n\n<p>I didn't know what you meant by this statement, <code>if ($line =~ /[a-z]/)</code>. I am assuming you wanted to check for empty lines and only process lines with non-space data. That's why I wrote <code>next unless /\\S/;</code>instead. (says to skip the following statements and got to the top of the while loop and read the next record).</p>\n\n<p>Your first while loop worked because you had no errors in your input file. If there had errors, the way you wrote the code could have been a problem.</p>\n\n<p>The statement<code>my $id = $array[8];</code> gives <code>$id</code> a value that would have been wrongly used if the following <code>if</code> statement had been false. (The same thing for the 2 other variables you want to capture,<code>$fpkm</code> and <code>$xloc</code>). You can see in my code example how I handled this.</p>\n\n<p>In my code, I died if the match didn't succeed, You might not want to<code>die</code> but say <code>match or next</code> to try the next line of data. It depends on how you would want to handle a failed match.</p>\n\n<p>And in this line<code>$array[8] =~ /gene_id \"(CUFF\\S+)\";/</code>, Note that I put the <code>\";</code>following the captured data, so there is no need to remove it from the captured data (as you did in your substitutions)</p>\n\n<p>Well, I know this is a long comment on your code, but I hope you get some good ideas about why I recommended the changes given.</p>\n\n<p><code>or die \"Could not find ID in $v_merge_gtf (line# $.)\";</code></p>\n\n<p><code>$.</code> is the line number of the file being read.</p>\n\n<pre><code>#!/usr/bin/perl\nuse warnings;\nuse strict;\n\nmy $usage = \"USAGE: perl $0 merge_gtf_file unique_gtf_file\\n\";\n\nmy $v_merge_gtf = shift @ARGV or die $usage;\nmy $unique_gtf = shift @ARGV or die $usage;\n\nmy %data;\n\nopen my $mrg, '&lt;', $v_merge_gtf or die $!;\n\nwhile (&lt;$mrg&gt;) {\n    next unless /\\S/;\n    my @array = split /\\t/;\n    if ($array[2] eq 'exon') {\n\n        $array[8] =~ /gene_id \"(CUFF\\S+)\";/\n            or die \"Could not find ID in $v_merge_gtf (line# $.)\";\n        my $id = $1;\n\n        $array[8] =~ /FPKM \"(\\S+)\";/\n            or die \"Could not find FPKM in $v_merge_gtf (line# $.)\";\n        my $fpkm = $1;\n\n        $array[17] =~ /gene_id \"(XLOC\\S+)\";/\n            or die \"Could not find XLOC in $v_merge_gtf (line# $.)\";\n        my $xloc = $1;\n\n        $data{$id}{fpkm} = $fpkm;\n        $data{$id}{xloc} = $xloc;\n    }\n}\nclose $mrg or die $!;\n\n\nopen my $unique, '&lt;', $unique_gtf or die $!;\nwhile (&lt;$unique&gt;) {\n    next unless /\\S/;\n    chomp;\n    my ($id, $uniq) = split /\\t/;\n    print join(\"\\t\", $id, $uniq, $data{$id}{fpkm}, $data{$id}{xloc}), \"\\n\";\n}\n\nclose $unique or die $!;\n</code></pre>\n"}], "owner": {"reputation": 501, "user_id": 7186557, "user_type": "registered", "accept_rate": 57, "profile_image": "https://lh4.googleusercontent.com/-HMBzTj5oRnU/AAAAAAAAAAI/AAAAAAAAACU/P5eH3TEWk6Y/photo.jpg?sz=128", "display_name": "Olha Kholod", "link": "https://stackoverflow.com/users/7186557/olha-kholod"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 113, "favorite_count": 0, "accepted_answer_id": 40966592, "answer_count": 1, "score": 0, "last_activity_date": 1481045616, "creation_date": 1480880893, "last_edit_date": 1480883433, "question_id": 40962881, "link": "https://stackoverflow.com/questions/40962881/print-hashes-with-values-from-different-files", "title": "print hashes with values from different files", "body": "<p>I want to create output file that has values from file 1 and file 2.</p>\n\n<p>The line from file 1:</p>\n\n<blockquote>\n  <p>chr1    Cufflinks       exon    708356  708487  1000    -       .<br>\n  gene_id \"CUFF.3\"; transcript_id \"CUFF.3.1\"; exon_number \"5\"; FPKM\n  \"3.1300591420\"; frac \"1.000000\"; conf_lo \"2.502470\"; conf_hi\n  \"3.757648\"; cov \"7.589085\";      chr1Cufflinks        exon    708356 \n  708487  .       -       .       gene_id \"XLOC_001284\"; transcript_id\n  \"TCONS_00007667\"; exon_number \"7\"; gene_name \"LOC100288069\"; oId\n  \"CUFF.15.2\"; nearest_ref \"NR_033908\"; class_code \"j\"; tss_id\n  \"TSS2981\";</p>\n</blockquote>\n\n<p>The line from file 2:</p>\n\n<blockquote>\n  <p>CUFF.48557<br>\n  chr4:160253850-160259462:160259621-160260265:160260507-160262715</p>\n</blockquote>\n\n<p>The second column from this file is unique id (uniq_id).</p>\n\n<p>I want to get output file in the following format:\ntranscript_id(CUFF_id) uniq_id gene_id(XLOC_ID) FPKM</p>\n\n<p>My script takes XLOC_ID and FPKM values from first file and print them together with two columns from the second file.</p>\n\n<pre><code>#!/usr/bin/perl -w\n\nuse strict;\n\nmy $v_merge_gtf = shift @ARGV or die $!;\nmy $unique_gtf = shift @ARGV or die $!;\n\nmy %fpkm_hash;\nmy %xloc_hash;\n\nopen (FILE, \"$v_merge_gtf\") or die $!;\nwhile (&lt;FILE&gt;) {\n    my $line = $_;\n    chomp $line;\n    if ($line =~ /[a-z]/) {\n        my @array = split(\"\\t\", $line);\n        if ($array[2] eq 'exon') {\n            my $id = $array[8];\n            if ($id =~ /transcript_id \\\"(CUFF\\S+)/) {\n                $id = $1;\n                $id =~ s/\\\"//g;\n                $id =~ s/;//;\n            }\n\n            my $fpkm = $array[8];\n            if ($fpkm =~ /FPKM \\\"(\\S+)/) {\n                $fpkm = $1;\n                $fpkm =~ s/\\\"//g;\n                $fpkm =~ s/;//;\n            }\n\n            my $xloc = $array[17];\n            if ($xloc =~ /gene_id \\\"(XLOC\\S+)/) {\n                $xloc = $1;\n                $xloc =~ s/\\\"//g;\n                $xloc =~ s/;//;\n            }\n            $fpkm_hash{$id} = $fpkm;\n            $xloc_hash{$id} = $xloc;\n        }\n    }\n}\n\nclose FILE;\n\n\nopen (FILE, \"$unique_gtf\") or die $!;\nwhile (&lt;FILE&gt;) {\n    my $line = $_;\n    chomp $line;\n    if ($line =~ /[a-z]/) {\n        my @array = split(\"\\t\", $line);\n        my $id = $array[0];\n        my $uniq = $array[1];\n        print $id . \"\\t\" . $uniq . \"\\t\" . $xloc_hash{$id} . \"\\t\" . $fpkm_hash{$id} . \"\\n\";\n    }\n}\n\nclose FILE;\n</code></pre>\n\n<p>I initialized hashes outside of the files, but I get the following error for each CUFF values:</p>\n\n<blockquote>\n  <p>CUFF.24093<br>\n  chr17:3533641-3539345:3527526-3533498:3526786-3527341:3524707-3526632</p>\n  \n  <p>Use of uninitialized value in concatenation (.) or string at ex_1.pl\n  line 55,  line 9343.</p>\n  \n  <p>Use of uninitialized value in concatenation (.) or string at ex_1.pl\n  line 55,  line 9343.</p>\n</blockquote>\n\n<p>How can I fix this issue?</p>\n\n<p>Thank you!</p>\n"}, {"tags": ["xml", "perl", "sorting", "xml-libxml", "xml-simple"], "comments": [{"owner": {"reputation": 113221, "user_id": 100754, "user_type": "registered", "accept_rate": 90, "profile_image": "https://www.gravatar.com/avatar/7804ebae32fbadef38537d74a915c22f?s=128&d=identicon&r=PG", "display_name": "Sinan &#220;n&#252;r", "link": "https://stackoverflow.com/users/100754/sinan-%c3%9cn%c3%bcr"}, "edited": false, "score": 1, "creation_date": 1480873300, "post_id": 40960813, "comment_id": 69132335, "body": "First, you need to come to terms with the fact that you won&#39;t be sorting XML: You will be parsing the XML into a data structure and produce XML sorted by your criterion."}, {"owner": {"reputation": 6258, "user_id": 82262, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/8ce15931410b388a52eb2df4a864137f?s=128&d=identicon&r=PG&f=1", "display_name": "Matt Jacob", "link": "https://stackoverflow.com/users/82262/matt-jacob"}, "edited": false, "score": 3, "creation_date": 1480878342, "post_id": 40960813, "comment_id": 69134050, "body": "&quot;I couldn&#39;t find the solution.&quot; Well, what <i>have</i> you tried so far, and what part of it didn&#39;t work?"}], "answers": [{"tags": [], "owner": {"reputation": 123805, "user_id": 622310, "user_type": "registered", "accept_rate": 33, "profile_image": "https://www.gravatar.com/avatar/8b6d35219e1808520bc238b28161e2e6?s=128&d=identicon&r=PG", "display_name": "Borodin", "link": "https://stackoverflow.com/users/622310/borodin"}, "is_accepted": false, "score": 5, "last_activity_date": 1480874607, "last_edit_date": 1480874607, "creation_date": 1480874179, "answer_id": 40961742, "question_id": 40960813, "link": "https://stackoverflow.com/questions/40960813/sorting-xml-elements-by-their-attribute-values/40961742#40961742", "title": "Sorting XML elements by their attribute values", "body": "\n\n<p>There is nothing built into <a href=\"https://metacpan.org/pod/XML::LibXML\" rel=\"noreferrer\"><code>XML::LibXML</code></a> that specifically provides for sorting elements, but it is simple to do using the available API</p>\n\n<p>Something like this will do what you want. Unfortunately <code>XML::LibXML</code> isn't very good at producing neat output, although it is perfectly well-formed and valid. If you want something prettier then you should look at <a href=\"https://metacpan.org/pod/XML::LibXML::PrettyPrint\" rel=\"noreferrer\"><code>XML::LibXML::PrettyPrint</code></a>, which will do this for you</p>\n\n<pre class=\"lang-perl prettyprint-override\"><code>use strict;\nuse warnings 'all';\n\nuse XML::LibXML;\n\nmy $doc = XML::LibXML-&gt;load_xml(location =&gt; 'sort_xml.xml');\n\nmy ($objects) = $doc-&gt;findnodes('/Objects');\n\nmy @items = $objects-&gt;findnodes('*');\n@items = sort {\n    $a-&gt;getAttribute('sort_id') &lt;=&gt; $b-&gt;getAttribute('sort_id')\n} @items;\n\n$objects-&gt;removeChildNodes;\n$objects-&gt;appendChild( $_ ) for @items;\n\nprint $doc;\n</code></pre>\n\n<h3>output</h3>\n\n<pre class=\"lang-xml prettyprint-override\"><code>&lt;?xml version=\"1.0\" encoding=\"UTF-8\"?&gt;\n&lt;Objects&gt;&lt;Item4 elemId=\"id9\" name=\"view\" sort_id=\"1\"&gt;\n    &lt;/Item4&gt;&lt;Item3 elemId=\"id5\" name=\"view\" sort_id=\"2\"&gt;\n    &lt;/Item3&gt;&lt;Item1 elemId=\"id1\" name=\"view\" sort_id=\"3\"&gt;\n    &lt;/Item1&gt;&lt;Item2 elemId=\"id3\" name=\"view\" sort_id=\"4\"&gt;\n    &lt;/Item2&gt;&lt;/Objects&gt;\n</code></pre>\n\n<hr>\n\n<h3>Update</h3>\n\n<p>To use <code>XML::LibXML::PrettyPrint</code>, you need to add</p>\n\n<pre class=\"lang-perl prettyprint-override\"><code>use XML::LibXML::PrettyPrint;\n</code></pre>\n\n<p>at the top of the program, and replace</p>\n\n<pre class=\"lang-perl prettyprint-override\"><code>print $doc;\n</code></pre>\n\n<p>with</p>\n\n<pre class=\"lang-perl prettyprint-override\"><code>my $pp = XML::LibXML::PrettyPrint-&gt;new(indent_string =&gt; \"  \");\n$pp-&gt;pretty_print($doc);\nprint $doc;\n</code></pre>\n\n<h3>output</h3>\n\n<pre class=\"lang-xml prettyprint-override\"><code>&lt;?xml version=\"1.0\" encoding=\"UTF-8\"?&gt;\n&lt;Objects&gt;\n  &lt;Item4 elemId=\"id9\" name=\"view\" sort_id=\"1\"/&gt;\n  &lt;Item3 elemId=\"id5\" name=\"view\" sort_id=\"2\"/&gt;\n  &lt;Item1 elemId=\"id1\" name=\"view\" sort_id=\"3\"/&gt;\n  &lt;Item2 elemId=\"id3\" name=\"view\" sort_id=\"4\"/&gt;\n&lt;/Objects&gt;\n</code></pre>\n"}], "owner": {"reputation": 316, "user_id": 1394459, "user_type": "registered", "accept_rate": 75, "profile_image": "https://www.gravatar.com/avatar/1aace9231523ac469adeb838a8a5ceb8?s=128&d=identicon&r=PG", "display_name": "tchike", "link": "https://stackoverflow.com/users/1394459/tchike"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 512, "favorite_count": 0, "answer_count": 1, "score": 0, "last_activity_date": 1480946351, "creation_date": 1480868871, "last_edit_date": 1480946351, "question_id": 40960813, "link": "https://stackoverflow.com/questions/40960813/sorting-xml-elements-by-their-attribute-values", "title": "Sorting XML elements by their attribute values", "body": "<p></p>\n\n<p>I have the following XML</p>\n\n<pre class=\"lang-xml prettyprint-override\"><code>&lt;?xml version=\"1.0\" encoding=\"UTF-8\"?&gt;  \n  &lt;Objects &gt;\n    &lt;Item1 elemId=\"id1\" name=\"view\" sort_id=\"3\"&gt;\n    &lt;/Item1&gt;\n    &lt;Item2 elemId=\"id3\" name=\"view\" sort_id=\"4\" &gt;\n    &lt;/Item2&gt;\n    &lt;Item3 elemId=\"id5\" name=\"view\" sort_id=\"2\"&gt;\n    &lt;/Item3&gt;\n    &lt;Item4 elemId=\"id9\" name=\"view\" sort_id=\"1\"&gt;\n    &lt;/Item4&gt;\n  &lt;/Objects&gt;\n</code></pre>\n\n<p>I want to sort this data by the attribute <code>sort_id</code> to get the following:</p>\n\n<pre class=\"lang-xml prettyprint-override\"><code>&lt;?xml version=\"1.0\" encoding=\"UTF-8\"?&gt;  \n  &lt;Objects &gt;\n    &lt;Item4 elemId=\"id9\" name=\"view\" sort_id=\"1\"&gt;\n    &lt;/Item4&gt;\n    &lt;Item3 elemId=\"id5\" name=\"view\" sort_id=\"2\"&gt;\n    &lt;/Item3&gt;\n    &lt;Item1 elemId=\"id1\" name=\"view\" sort_id=\"3\"&gt;\n    &lt;/Item1&gt;\n    &lt;Item2 elemId=\"id3\" name=\"view\" sort_id=\"4\" &gt;\n    &lt;/Item2&gt;\n  &lt;/Objects&gt;\n</code></pre>\n\n<p>I know that I can't do this in <code>XML::Simple</code>, but I heard that I can sort with <a href=\"https://metacpan.org/pod/XML::LibXML\" rel=\"nofollow noreferrer\"><code>XML::LibXML</code></a>. I couldn't find the solution.</p>\n"}, {"tags": ["regex", "perl", "hash"], "comments": [{"owner": {"reputation": 13302, "user_id": 4082217, "user_type": "registered", "accept_rate": 95, "profile_image": "https://www.gravatar.com/avatar/15ad55dad62ce17d0852311c0e3fa92c?s=128&d=identicon&r=PG&f=1", "display_name": "Mohammad Yusuf", "link": "https://stackoverflow.com/users/4082217/mohammad-yusuf"}, "edited": false, "score": 0, "creation_date": 1480854267, "post_id": 40958518, "comment_id": 69126380, "body": "Why use regex? Why not loop over keys,values of hash and check if the last character is number 1?"}, {"owner": {"reputation": 123805, "user_id": 622310, "user_type": "registered", "accept_rate": 33, "profile_image": "https://www.gravatar.com/avatar/8b6d35219e1808520bc238b28161e2e6?s=128&d=identicon&r=PG", "display_name": "Borodin", "link": "https://stackoverflow.com/users/622310/borodin"}, "reply_to_user": {"reputation": 13302, "user_id": 4082217, "user_type": "registered", "accept_rate": 95, "profile_image": "https://www.gravatar.com/avatar/15ad55dad62ce17d0852311c0e3fa92c?s=128&d=identicon&r=PG&f=1", "display_name": "Mohammad Yusuf", "link": "https://stackoverflow.com/users/4082217/mohammad-yusuf"}, "edited": false, "score": 0, "creation_date": 1480855317, "post_id": 40958518, "comment_id": 69126679, "body": "@MohammadYusufGhazi: How would you check whether the last character is <code>1</code> without a regex? I can&#39;t imagine anything clearer than <code>&#47;1$&#47;</code>. Something like <code>substr($_, -1) eq &#39;1&#39;</code> is very clunky in comparison."}, {"owner": {"reputation": 13302, "user_id": 4082217, "user_type": "registered", "accept_rate": 95, "profile_image": "https://www.gravatar.com/avatar/15ad55dad62ce17d0852311c0e3fa92c?s=128&d=identicon&r=PG&f=1", "display_name": "Mohammad Yusuf", "link": "https://stackoverflow.com/users/4082217/mohammad-yusuf"}, "edited": false, "score": 0, "creation_date": 1480857714, "post_id": 40958518, "comment_id": 69127385, "body": "Yeah i was taking about substring with a python paradigm. And I agree with you, in perl a regex would be much better."}], "answers": [{"tags": [], "owner": {"reputation": 123805, "user_id": 622310, "user_type": "registered", "accept_rate": 33, "profile_image": "https://www.gravatar.com/avatar/8b6d35219e1808520bc238b28161e2e6?s=128&d=identicon&r=PG", "display_name": "Borodin", "link": "https://stackoverflow.com/users/622310/borodin"}, "is_accepted": true, "score": 2, "last_activity_date": 1480855170, "creation_date": 1480855170, "answer_id": 40958716, "question_id": 40958518, "link": "https://stackoverflow.com/questions/40958518/match-keys-in-a-hash-to-return-respective-keyvalue-in-perl/40958716#40958716", "title": "Match keys in a hash to return respective key+value in perl", "body": "<p>This will do as you ask</p>\n\n<pre><code>use strict;\nuse warnings 'all';\n\nmy %hash = ( FIELDN1 =&gt; \"N1\", FIELDN2 =&gt; \"N2\", FIELDM1 =&gt; \"M1\", FILEDM2 =&gt; \"M2\" );\n\nmy %subset = map { $_ =&gt; $hash{$_} } grep { /1$/ } keys %hash;\n\nuse Data::Dumper;\nprint Dumper \\%subset;\n</code></pre>\n\n<h3>output</h3>\n\n<pre><code>$VAR1 = {\n          'FIELDN1' =&gt; 'N1',\n          'FIELDM1' =&gt; 'M1'\n        };\n</code></pre>\n"}, {"tags": [], "owner": {"reputation": 113221, "user_id": 100754, "user_type": "registered", "accept_rate": 90, "profile_image": "https://www.gravatar.com/avatar/7804ebae32fbadef38537d74a915c22f?s=128&d=identicon&r=PG", "display_name": "Sinan &#220;n&#252;r", "link": "https://stackoverflow.com/users/100754/sinan-%c3%9cn%c3%bcr"}, "is_accepted": false, "score": 3, "last_activity_date": 1480858804, "creation_date": 1480858804, "answer_id": 40959216, "question_id": 40958518, "link": "https://stackoverflow.com/questions/40958518/match-keys-in-a-hash-to-return-respective-keyvalue-in-perl/40959216#40959216", "title": "Match keys in a hash to return respective key+value in perl", "body": "<p>If you are going to need the keys whose corresponding values satisfy the requirement, you might be better off saving them separately:</p>\n\n<pre><code>#!/usr/bin/env perl\n\nuse strict;\nuse warnings;\n\nmy %hash =  (\n    FIELDN1 =&gt; \"N1\",\n    FIELDN2 =&gt; \"N2\",\n    FIELDM1 =&gt; \"M1\",\n    FILEDM2 =&gt; \"M2\",\n);\n\nmy @subset_keys = grep /1\\z/, keys %hash;\n\nmy %subset;\n@subset{ @subset_keys } = @hash{ @subset_keys };\n\n# contrived example for needing the matching keys    \nfor my $k ( @subset_keys ) {\n    print \"$k = $subset{$k}\\n\";\n}\n</code></pre>\n\n<p>If you also want to remove the matching keys from <code>%hash</code>, use:</p>\n\n<pre><code>@subset{ @subset_keys } = delete @hash{ @subset_keys };\n</code></pre>\n\n<p>Or, if you just want to remove the non-matching entries from <code>%hash</code>:</p>\n\n<pre><code>delete @hash{ grep !/1\\z/, keys %hash };\n</code></pre>\n\n<p><code>%hash</code> will now contain:</p>\n\n<pre>---\nFIELDM1: M1\nFIELDN1: N1</pre>\n"}], "owner": {"reputation": 3, "user_id": 6944544, "user_type": "registered", "profile_image": "https://graph.facebook.com/10205482312257030/picture?type=large", "display_name": "Gigil K G", "link": "https://stackoverflow.com/users/6944544/gigil-k-g"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 819, "favorite_count": 0, "accepted_answer_id": 40958716, "answer_count": 2, "score": 0, "last_activity_date": 1480858804, "creation_date": 1480853793, "question_id": 40958518, "link": "https://stackoverflow.com/questions/40958518/match-keys-in-a-hash-to-return-respective-keyvalue-in-perl", "title": "Match keys in a hash to return respective key+value in perl", "body": "<p>I have a hash. I want to get key and values by matching string pattern of keys.</p>\n\n<p>For example, I have a Hash like this</p>\n\n<pre><code> my %hash =  { FIELDN1 = &gt; \"N1\", FIELDN2 =&gt; \"N2\", FIELDM1 =&gt; \"M1\", FILEDM2 =&gt;\"M2\"}\n</code></pre>\n\n<p>I want to get key and value having 1 in the keys as given below.</p>\n\n<pre><code>{ FIELDN1 = &gt; \"N1\", FIELDM1 =&gt; \"M1\" }\n</code></pre>\n"}, {"tags": ["perl", "fork"], "comments": [{"owner": {"reputation": 53041, "user_id": 4653379, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/b3953dbedd0dabff5cbc3db9b0835b14?s=128&d=identicon&r=PG&f=1", "display_name": "zdim", "link": "https://stackoverflow.com/users/4653379/zdim"}, "edited": false, "score": 1, "creation_date": 1480836741, "post_id": 40954874, "comment_id": 69122408, "body": "Please have a look at <a href=\"http://stackoverflow.com/help/someone-answers\">What should I do when someone answers my question?</a>"}, {"owner": {"reputation": 123805, "user_id": 622310, "user_type": "registered", "accept_rate": 33, "profile_image": "https://www.gravatar.com/avatar/8b6d35219e1808520bc238b28161e2e6?s=128&d=identicon&r=PG", "display_name": "Borodin", "link": "https://stackoverflow.com/users/622310/borodin"}, "edited": false, "score": 2, "creation_date": 1480851688, "post_id": 40954874, "comment_id": 69125664, "body": "Given the thousands of times we have given the advice to <i>always</i> <code>use strict</code> and <code>use warnings</code>, it is astonishing that there are still so many people whom the news hasn&#39;t yet reached. In any case, the increment operators <code>++</code> are available in most languages (except Lua), and the statememt <code>$num_run = $num_run + 1</code> is more safely and clearly written as <code>++$num_run</code>."}, {"owner": {"reputation": 8273, "user_id": 1334695, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/431ae6e9f7610b9d6a6a6cdebd0244d5?s=128&d=identicon&r=PG", "display_name": "stevieb", "link": "https://stackoverflow.com/users/1334695/stevieb"}, "reply_to_user": {"reputation": 123805, "user_id": 622310, "user_type": "registered", "accept_rate": 33, "profile_image": "https://www.gravatar.com/avatar/8b6d35219e1808520bc238b28161e2e6?s=128&d=identicon&r=PG", "display_name": "Borodin", "link": "https://stackoverflow.com/users/622310/borodin"}, "edited": false, "score": 0, "creation_date": 1480870236, "post_id": 40954874, "comment_id": 69131218, "body": "@Borodin Python doesn&#39;t have <code>++</code> or <code>--</code> either fyi"}, {"owner": {"reputation": 123805, "user_id": 622310, "user_type": "registered", "accept_rate": 33, "profile_image": "https://www.gravatar.com/avatar/8b6d35219e1808520bc238b28161e2e6?s=128&d=identicon&r=PG", "display_name": "Borodin", "link": "https://stackoverflow.com/users/622310/borodin"}, "reply_to_user": {"reputation": 8273, "user_id": 1334695, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/431ae6e9f7610b9d6a6a6cdebd0244d5?s=128&d=identicon&r=PG", "display_name": "stevieb", "link": "https://stackoverflow.com/users/1334695/stevieb"}, "edited": false, "score": 0, "creation_date": 1480877153, "post_id": 40954874, "comment_id": 69133601, "body": "@stevieb: That&#39;s true, but you can write <code>num_run += 1</code> which is every bit as good. In Lua, you are forced to say <code>num_run = num_run + 1</code> which increases the chance of making the OP&#39;s mistake."}, {"owner": {"reputation": 8273, "user_id": 1334695, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/431ae6e9f7610b9d6a6a6cdebd0244d5?s=128&d=identicon&r=PG", "display_name": "stevieb", "link": "https://stackoverflow.com/users/1334695/stevieb"}, "reply_to_user": {"reputation": 123805, "user_id": 622310, "user_type": "registered", "accept_rate": 33, "profile_image": "https://www.gravatar.com/avatar/8b6d35219e1808520bc238b28161e2e6?s=128&d=identicon&r=PG", "display_name": "Borodin", "link": "https://stackoverflow.com/users/622310/borodin"}, "edited": false, "score": 0, "creation_date": 1480883571, "post_id": 40954874, "comment_id": 69136010, "body": "@Borodin yeah, I knew about the <code>x += 1</code> in Python, but I didn&#39;t realize that in Lua it was so different. Thanks for the clarification."}], "answers": [{"comments": [{"owner": {"reputation": 53041, "user_id": 4653379, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/b3953dbedd0dabff5cbc3db9b0835b14?s=128&d=identicon&r=PG&f=1", "display_name": "zdim", "link": "https://stackoverflow.com/users/4653379/zdim"}, "edited": false, "score": 0, "creation_date": 1480820409, "post_id": 40954882, "comment_id": 69119359, "body": "How did you even spot that?  I had to re-read it three times <i>after</i> seeing your answer :)"}, {"owner": {"reputation": 7, "user_id": 6803054, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/f363644a57c798c89f1e47b8487c0b8a?s=128&d=identicon&r=PG&f=1", "display_name": "jj66", "link": "https://stackoverflow.com/users/6803054/jj66"}, "edited": false, "score": 0, "creation_date": 1480825543, "post_id": 40954882, "comment_id": 69120330, "body": "I knew it had to be something stupid like that -- I suppose I should have done a search for num_run...  Thanks!"}, {"owner": {"reputation": 50468, "user_id": 1331451, "user_type": "registered", "accept_rate": 96, "profile_image": "https://i.stack.imgur.com/4ZPmj.png?s=128&g=1", "display_name": "simbabque", "link": "https://stackoverflow.com/users/1331451/simbabque"}, "edited": false, "score": 0, "creation_date": 1480849342, "post_id": 40954882, "comment_id": 69125017, "body": "This is the best answer that&#39;s going to end up in the review queue for a while. :-)"}], "tags": [], "owner": {"reputation": 87649, "user_id": 17389, "user_type": "registered", "accept_rate": 38, "profile_image": "https://www.gravatar.com/avatar/cd06d1314817ce946ab796af8750b56a?s=128&d=identicon&r=PG", "display_name": "ysth", "link": "https://stackoverflow.com/users/17389/ysth"}, "is_accepted": false, "score": 3, "last_activity_date": 1480851277, "last_edit_date": 1480851277, "creation_date": 1480820231, "answer_id": 40954882, "question_id": 40954874, "link": "https://stackoverflow.com/questions/40954874/perl-parent-branch-of-fork-behaving-anomalously/40954882#40954882", "title": "perl parent branch of fork behaving anomalously", "body": "<p>Always <code>use strict</code> and <code>use warnings</code>.</p>\n\n<p><code>$num_rum</code> is not <code>$num_run</code></p>\n"}], "owner": {"reputation": 7, "user_id": 6803054, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/f363644a57c798c89f1e47b8487c0b8a?s=128&d=identicon&r=PG&f=1", "display_name": "jj66", "link": "https://stackoverflow.com/users/6803054/jj66"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 30, "favorite_count": 0, "answer_count": 1, "score": -1, "last_activity_date": 1480851277, "creation_date": 1480820086, "question_id": 40954874, "link": "https://stackoverflow.com/questions/40954874/perl-parent-branch-of-fork-behaving-anomalously", "title": "perl parent branch of fork behaving anomalously", "body": "<p>I have the following code in the parent branch of a fork.  That is, in the side of the branch for which $pid = fork has a $pid that is non-zero.  My problem is that both of the print statements give the same value for $num_run, namely zero.  Both prints are executed, so the inside of the if clause is reached.  Why is $num_run not being incremented??  I do realize this seems impossible.  Any help will be hugely appreciated.  Thanks.</p>\n\n<pre><code>    print BATCHLOG \"$$: 1 parent num_run is $num_run\\n\";\n    if ($active_runs &lt; $CORES) {\n       push @active_pids, $pid;\n       $num_rum = $num_run + 1;\n       print BATCHLOG \"$$: 2 parent num_run is $num_run\\n\";\n       next;\n    }\n</code></pre>\n"}, {"tags": ["perl"], "answers": [{"comments": [{"owner": {"reputation": 50468, "user_id": 1331451, "user_type": "registered", "accept_rate": 96, "profile_image": "https://i.stack.imgur.com/4ZPmj.png?s=128&g=1", "display_name": "simbabque", "link": "https://stackoverflow.com/users/1331451/simbabque"}, "edited": false, "score": 1, "creation_date": 1480808116, "post_id": 40953725, "comment_id": 69117166, "body": "This is a link only answer because I wrote it from my phone. Will add code examples later."}, {"owner": {"reputation": 53041, "user_id": 4653379, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/b3953dbedd0dabff5cbc3db9b0835b14?s=128&d=identicon&r=PG&f=1", "display_name": "zdim", "link": "https://stackoverflow.com/users/4653379/zdim"}, "edited": false, "score": 0, "creation_date": 1480814844, "post_id": 40953725, "comment_id": 69118491, "body": "Very helpful already, as it stands :)  I&#39;ve been pondering how to avoid half-a-dozen+ same imports across dozen+ scripts in a large project. So far I found nothing that worked well enough, will be happy to check this out!"}, {"owner": {"reputation": 53041, "user_id": 4653379, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/b3953dbedd0dabff5cbc3db9b0835b14?s=128&d=identicon&r=PG&f=1", "display_name": "zdim", "link": "https://stackoverflow.com/users/4653379/zdim"}, "edited": false, "score": 0, "creation_date": 1480820611, "post_id": 40953725, "comment_id": 69119390, "body": "Oh ... this <i>actually works</i> -- it does what one imagines, and it&#39;s simple.  Thank you. It solved a very pesky problem in a very large project."}, {"owner": {"reputation": 50468, "user_id": 1331451, "user_type": "registered", "accept_rate": 96, "profile_image": "https://i.stack.imgur.com/4ZPmj.png?s=128&g=1", "display_name": "simbabque", "link": "https://stackoverflow.com/users/1331451/simbabque"}, "reply_to_user": {"reputation": 53041, "user_id": 4653379, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/b3953dbedd0dabff5cbc3db9b0835b14?s=128&d=identicon&r=PG&f=1", "display_name": "zdim", "link": "https://stackoverflow.com/users/4653379/zdim"}, "edited": false, "score": 0, "creation_date": 1480849146, "post_id": 40953725, "comment_id": 69124966, "body": "@zdim im glad to hear that. It&#39;s always nice to head to SO and find an answer to something that&#39;s been bothering you for a while on the first page. I&#39;ve never actually used this myself for anything, but I saw <a href=\"https://youtu.be/9aCsUxfRksE\" rel=\"nofollow noreferrer\">a talk about it</a> like five times. If your job is to edit the talk videos and upload them then those kinds of things just stick in your head. :-)"}, {"owner": {"reputation": 53041, "user_id": 4653379, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/b3953dbedd0dabff5cbc3db9b0835b14?s=128&d=identicon&r=PG&f=1", "display_name": "zdim", "link": "https://stackoverflow.com/users/4653379/zdim"}, "edited": false, "score": 1, "creation_date": 1480928927, "post_id": 40953725, "comment_id": 69150200, "body": "Yes it is nice, now I know. Normally I solve my problems (SO has helped in a deeper way) but learning how to do this required time I don&#39;t have now.  The module you identified is spot on (and this is not the first time you do that :).  It took me about half an hour, from cold start, to do what I need.  (The blog was needed though. The docs should be made a feasible starting point.)  Code to write is crystal clear and simple, while there is a lot of flexibility in it as well (for simpler stuff at least). I don&#39;t yet know how solid it is, specially for more complex work.  Thank you again."}, {"owner": {"reputation": 50468, "user_id": 1331451, "user_type": "registered", "accept_rate": 96, "profile_image": "https://i.stack.imgur.com/4ZPmj.png?s=128&g=1", "display_name": "simbabque", "link": "https://stackoverflow.com/users/1331451/simbabque"}, "reply_to_user": {"reputation": 53041, "user_id": 4653379, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/b3953dbedd0dabff5cbc3db9b0835b14?s=128&d=identicon&r=PG&f=1", "display_name": "zdim", "link": "https://stackoverflow.com/users/4653379/zdim"}, "edited": false, "score": 0, "creation_date": 1480929552, "post_id": 40953725, "comment_id": 69150542, "body": "@zdim I&#39;m sure Matt would appreciate a pull request with more documentation. I can basically hear him saying <i>well volunteered</i> just now. :)"}, {"owner": {"reputation": 53041, "user_id": 4653379, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/b3953dbedd0dabff5cbc3db9b0835b14?s=128&d=identicon&r=PG&f=1", "display_name": "zdim", "link": "https://stackoverflow.com/users/4653379/zdim"}, "edited": false, "score": 1, "creation_date": 1480975376, "post_id": 40953725, "comment_id": 69177916, "body": "Yeah, that sounds about right :)  I&#39;ll need to first get acquinted with it well enough, to implement full changes in my code and so learn about it.  Then I&#39;ll see how to do that, as I never have done it.  It&#39;s a logical next step in &#39;giving back&#39; for me"}], "tags": [], "owner": {"reputation": 50468, "user_id": 1331451, "user_type": "registered", "accept_rate": 96, "profile_image": "https://i.stack.imgur.com/4ZPmj.png?s=128&g=1", "display_name": "simbabque", "link": "https://stackoverflow.com/users/1331451/simbabque"}, "is_accepted": false, "score": 5, "last_activity_date": 1480808075, "creation_date": 1480808075, "answer_id": 40953725, "question_id": 40953539, "link": "https://stackoverflow.com/questions/40953539/perl-import-into-all-my-packages/40953725#40953725", "title": "Perl import into all my packages?", "body": "<p>You can build your own toolbox module that turns on pragmas, loads modules and sets stuff, and just load that. The module <a href=\"http://p3rl.org/Import::Into\" rel=\"noreferrer\">Import::Into</a> us great for that. </p>\n\n<p><a href=\"http://friedo.com/blog/2014/06/removing-boilerplate-with-importinto\" rel=\"noreferrer\">Here is a blog post</a> that explains how to do it. </p>\n\n<p>But note that the config for Data::Dumper that you are setting is actually not related to the package you're setting it in. Those are package variables in the <code>Data::Dumper</code> package, so they are valid all the time once set. You're essentially overwriting them with the same stuff again in your example. </p>\n\n<p>In production code you should usually not put multiple packages in one file unless you have a good reason. But that doesn't change any of the advice above. </p>\n"}], "owner": {"reputation": 4398, "user_id": 2012715, "user_type": "registered", "accept_rate": 66, "profile_image": "https://www.gravatar.com/avatar/0a04a0851dba37de648917cf0abea9b8?s=128&d=identicon&r=PG", "display_name": "Dmitry", "link": "https://stackoverflow.com/users/2012715/dmitry"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 95, "favorite_count": 1, "answer_count": 1, "score": 3, "last_activity_date": 1480808075, "creation_date": 1480806678, "question_id": 40953539, "link": "https://stackoverflow.com/questions/40953539/perl-import-into-all-my-packages", "title": "Perl import into all my packages?", "body": "<p>I tend to use Data::Dumper very often, and I end up having the following boilerplate at the top of every package in my .pl code.</p>\n\n<pre><code>use strict;\nuse warnings;\nuse Data::Dumper;\n$Data::Dumper::Deparse = 1;\n$Data::Dumper::Purity = 1;\n</code></pre>\n\n<p>Is there a way to specify that \"inside the current .pl file, I want these statements to automatically assumed.\"</p>\n\n<p>eg I would have</p>\n\n<pre><code>package foo;\n    use strict;\n    use warnings;\n    use Data::Dumper;\n    $Data::Dumper::Deparse = 1;\n    $Data::Dumper::Purity = 1; \n\n    my @localState = (1, 2, 3, 4, 5);\n\n    sub test {\n        print Dumper \\@localState;\n    }\n\npackage main;\n    use strict;\n    use warnings;\n    use Data::Dumper;\n    $Data::Dumper::Deparse = 1;\n    $Data::Dumper::Purity = 1;\n\n    foo-&gt;test;\n</code></pre>\n\n<p>this can quickly get way too much boilerplate repetition and harm maintainability.</p>\n\n<p>Sadly I can't use a function with \"eval\" in it to call all this boilerplate since that boilerplate would be placed into the function, not global scope; Perl does not have Lisp macros that I know of to actually have non-function bound eval-like bahavior(I could be wrong, would be so cool if Perl had lisp macros).</p>\n\n<p>Does anyone know if this behavior can be achieved without writing a parser to insert the statements in for me if it is the first package being declared inside file?</p>\n"}, {"tags": ["perl"], "comments": [{"owner": {"reputation": 50468, "user_id": 1331451, "user_type": "registered", "accept_rate": 96, "profile_image": "https://i.stack.imgur.com/4ZPmj.png?s=128&g=1", "display_name": "simbabque", "link": "https://stackoverflow.com/users/1331451/simbabque"}, "edited": false, "score": 2, "creation_date": 1480806532, "post_id": 40953527, "comment_id": 69116767, "body": "How did you install your modules? Did you use the <i>Perl Package Manager</i> that comes with Active Perl?"}, {"owner": {"reputation": 126333, "user_id": 14660, "user_type": "registered", "accept_rate": 62, "profile_image": "https://www.gravatar.com/avatar/e55e0ec3c00f834d78fbdddeaa36e308?s=128&d=identicon&r=PG", "display_name": "Schwern", "link": "https://stackoverflow.com/users/14660/schwern"}, "edited": false, "score": 5, "creation_date": 1480806728, "post_id": 40953527, "comment_id": 69116826, "body": "Perl modules have their own method of installing. When you say &quot;added the in Perl library&quot; what did you actually do?"}, {"owner": {"reputation": 50468, "user_id": 1331451, "user_type": "registered", "accept_rate": 96, "profile_image": "https://i.stack.imgur.com/4ZPmj.png?s=128&g=1", "display_name": "simbabque", "link": "https://stackoverflow.com/users/1331451/simbabque"}, "edited": false, "score": 0, "creation_date": 1480806840, "post_id": 40953527, "comment_id": 69116851, "body": "There are two projects to give you Perl on Windows. One is Active Perl, the other is Strawberry. Active Perl comes with its own CPAN mirror of modules that are curated and built (as in compiled and packaged) for Windows by the company that makes Active Perl. Strawberry is a community project that&#39;s mostly done by one guy. It uses CPAN directly. Both should play nicely with any IDE or editor that allows you to say what command to run your code with. Even if it just runs <code>perl</code>, then putting the  Perl you installed in your <code>PATH</code> in Windows will suffice..."}, {"owner": {"reputation": 50468, "user_id": 1331451, "user_type": "registered", "accept_rate": 96, "profile_image": "https://i.stack.imgur.com/4ZPmj.png?s=128&g=1", "display_name": "simbabque", "link": "https://stackoverflow.com/users/1331451/simbabque"}, "edited": false, "score": 0, "creation_date": 1480807008, "post_id": 40953527, "comment_id": 69116884, "body": "... But looking at the website of Chrimson Editor, I suggest you get a more up to date program. For example, take a look at <a href=\"http://www.activestate.com/komodo-edit\" rel=\"nofollow noreferrer\">Komodo Edit</a>, which is the free version of the powerfull commercial Komodo IDE, which is sold by the same company that makes Active Perl. You will not have any problems there. But there are loads of text editors that bring syntax highlighting for Perl on Windows (in various degrees of usefulness). I used to work with PSPad for a long time, which is probably a lot like the one you have now, just still maintained."}, {"owner": {"reputation": 3, "user_id": 7215742, "user_type": "registered", "accept_rate": 75, "profile_image": "https://www.gravatar.com/avatar/f67fdc1c7393d61874d29691743e071b?s=128&d=identicon&r=PG&f=1", "display_name": "evenstar", "link": "https://stackoverflow.com/users/7215742/evenstar"}, "edited": false, "score": 0, "creation_date": 1480807015, "post_id": 40953527, "comment_id": 69116885, "body": "\u0131 tried to use Perl Packet Manager but when \u0131 search related module in it, it doesnt show that module. Thats why \u0131 downloaded it in a metacpan.org and put related module in library file in perl"}, {"owner": {"reputation": 50468, "user_id": 1331451, "user_type": "registered", "accept_rate": 96, "profile_image": "https://i.stack.imgur.com/4ZPmj.png?s=128&g=1", "display_name": "simbabque", "link": "https://stackoverflow.com/users/1331451/simbabque"}, "edited": false, "score": 0, "creation_date": 1480807058, "post_id": 40953527, "comment_id": 69116896, "body": "You need to use <code>-</code> instead of <code>::</code> in PPM. It&#39;s confusing. But you can do partial name searches as well."}, {"owner": {"reputation": 113221, "user_id": 100754, "user_type": "registered", "accept_rate": 90, "profile_image": "https://www.gravatar.com/avatar/7804ebae32fbadef38537d74a915c22f?s=128&d=identicon&r=PG", "display_name": "Sinan &#220;n&#252;r", "link": "https://stackoverflow.com/users/100754/sinan-%c3%9cn%c3%bcr"}, "edited": false, "score": 1, "creation_date": 1480807909, "post_id": 40953527, "comment_id": 69117113, "body": "Is there a good reason you are using &quot;&#39;LATIN SMALL LETTER DOTLESS I&#39;&quot; instead of the letter <b><code>I</code></b>?"}], "answers": [{"comments": [{"owner": {"reputation": 50468, "user_id": 1331451, "user_type": "registered", "accept_rate": 96, "profile_image": "https://i.stack.imgur.com/4ZPmj.png?s=128&g=1", "display_name": "simbabque", "link": "https://stackoverflow.com/users/1331451/simbabque"}, "edited": false, "score": 0, "creation_date": 1480807203, "post_id": 40953597, "comment_id": 69116928, "body": "Did you suggest Sublime because it&#39;s popular right now and it&#39;s the first thing that came to your mind, or do you actually use it? I remember you as a vim guy from your talks. I tried and hated Sublime, and every time I sit at a coworker&#39;s computer with it I fail horribly because all the default shortcuts are weird."}, {"owner": {"reputation": 126333, "user_id": 14660, "user_type": "registered", "accept_rate": 62, "profile_image": "https://www.gravatar.com/avatar/e55e0ec3c00f834d78fbdddeaa36e308?s=128&d=identicon&r=PG", "display_name": "Schwern", "link": "https://stackoverflow.com/users/14660/schwern"}, "reply_to_user": {"reputation": 50468, "user_id": 1331451, "user_type": "registered", "accept_rate": 96, "profile_image": "https://i.stack.imgur.com/4ZPmj.png?s=128&g=1", "display_name": "simbabque", "link": "https://stackoverflow.com/users/1331451/simbabque"}, "edited": false, "score": 0, "creation_date": 1480807535, "post_id": 40953597, "comment_id": 69117017, "body": "@simbabque No, I&#39;m an emacs person (Aquamacs) but I wouldn&#39;t subject either emacs nor vim on new users, their interfaces are too bizarre and impenetrable and different from how anything else works. I recommend Sublime because it&#39;s cross-platform, powerful, highly customizable, and its shortcuts and behavior match the normal OS shortcuts. It&#39;s major drawback is its cost. It&#39;s certainly better than a 10 year old Windows-specific editor."}, {"owner": {"reputation": 6258, "user_id": 82262, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/8ce15931410b388a52eb2df4a864137f?s=128&d=identicon&r=PG&f=1", "display_name": "Matt Jacob", "link": "https://stackoverflow.com/users/82262/matt-jacob"}, "edited": false, "score": 0, "creation_date": 1480807639, "post_id": 40953597, "comment_id": 69117047, "body": "On Windows, Notepad++ isn&#39;t terrible. It&#39;s also free."}, {"owner": {"reputation": 50468, "user_id": 1331451, "user_type": "registered", "accept_rate": 96, "profile_image": "https://i.stack.imgur.com/4ZPmj.png?s=128&g=1", "display_name": "simbabque", "link": "https://stackoverflow.com/users/1331451/simbabque"}, "edited": false, "score": 1, "creation_date": 1480807818, "post_id": 40953597, "comment_id": 69117090, "body": "Oh. I apologize for the vim then. :-) I agree that I wouldn&#39;t suggest those two to new users."}, {"owner": {"reputation": 3, "user_id": 7215742, "user_type": "registered", "accept_rate": 75, "profile_image": "https://www.gravatar.com/avatar/f67fdc1c7393d61874d29691743e071b?s=128&d=identicon&r=PG&f=1", "display_name": "evenstar", "link": "https://stackoverflow.com/users/7215742/evenstar"}, "edited": false, "score": 0, "creation_date": 1480808596, "post_id": 40953597, "comment_id": 69117272, "body": "Ok, \u0131 get that, \u0131 will change my text editor and compiler too. @Schwern \u0131 am also very keen on to use Perl command line rather than using extra modules and IDE. But you know sometimes it is necessary. I dont know Linux, \u0131 am working only in Windows platform. i did some research, \u0131 think it is impossible to sent email a backup file by usng perl  without using any module.."}, {"owner": {"reputation": 113221, "user_id": 100754, "user_type": "registered", "accept_rate": 90, "profile_image": "https://www.gravatar.com/avatar/7804ebae32fbadef38537d74a915c22f?s=128&d=identicon&r=PG", "display_name": "Sinan &#220;n&#252;r", "link": "https://stackoverflow.com/users/100754/sinan-%c3%9cn%c3%bcr"}, "edited": false, "score": 0, "creation_date": 1480809364, "post_id": 40953597, "comment_id": 69117420, "body": "@Schwern You can install ActiveState&#39;s MinGW bundle and build modules that way. <a href=\"https://code.activestate.com/ppm/MinGW/\" rel=\"nofollow noreferrer\">code.activestate.com/ppm/MinGW</a>"}, {"owner": {"reputation": 320771, "user_id": 589924, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/b2cf53d5a3d25f95c0db4e025aed4153?s=128&d=identicon&r=PG", "display_name": "ikegami", "link": "https://stackoverflow.com/users/589924/ikegami"}, "edited": false, "score": 1, "creation_date": 1480828392, "post_id": 40953597, "comment_id": 69120852, "body": "Re SP &quot;<i>comes with a full environment necessary for building and installing Perl modules, including a C compiler.</i>&quot;, And so does Active Perl. AP automatically installs <code>mingw</code> (the same compiler used by SP) if you don&#39;t already have a C compiler."}, {"owner": {"reputation": 320771, "user_id": 589924, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/b2cf53d5a3d25f95c0db4e025aed4153?s=128&d=identicon&r=PG", "display_name": "ikegami", "link": "https://stackoverflow.com/users/589924/ikegami"}, "edited": false, "score": 1, "creation_date": 1480828473, "post_id": 40953597, "comment_id": 69120869, "body": "(You need need a recent version of Perl if you want to use ppm for free. But again, it&#39;s just an unnecessary extra provided by AP.)"}, {"owner": {"reputation": 126333, "user_id": 14660, "user_type": "registered", "accept_rate": 62, "profile_image": "https://www.gravatar.com/avatar/e55e0ec3c00f834d78fbdddeaa36e308?s=128&d=identicon&r=PG", "display_name": "Schwern", "link": "https://stackoverflow.com/users/14660/schwern"}, "reply_to_user": {"reputation": 320771, "user_id": 589924, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/b2cf53d5a3d25f95c0db4e025aed4153?s=128&d=identicon&r=PG", "display_name": "ikegami", "link": "https://stackoverflow.com/users/589924/ikegami"}, "edited": false, "score": 2, "creation_date": 1480830817, "post_id": 40953597, "comment_id": 69121294, "body": "@ikegami I think it would be best if you provided your own answer about using ActivePerl and CPAN modules."}, {"owner": {"reputation": 126333, "user_id": 14660, "user_type": "registered", "accept_rate": 62, "profile_image": "https://www.gravatar.com/avatar/e55e0ec3c00f834d78fbdddeaa36e308?s=128&d=identicon&r=PG", "display_name": "Schwern", "link": "https://stackoverflow.com/users/14660/schwern"}, "reply_to_user": {"reputation": 320771, "user_id": 589924, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/b2cf53d5a3d25f95c0db4e025aed4153?s=128&d=identicon&r=PG", "display_name": "ikegami", "link": "https://stackoverflow.com/users/589924/ikegami"}, "edited": false, "score": 1, "creation_date": 1480831216, "post_id": 40953597, "comment_id": 69121373, "body": "@ikegami It would be useful to explain the current state of ASPerl, PPM, and CPAN for the OP and others including myself, rather than leave it as a series of comments. Last I worked with ASPerl, it was a while ago, it was very difficult to get the C toolchain and CPAN installs to work, and the PPM repository was indifferently maintained."}, {"owner": {"reputation": 320771, "user_id": 589924, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/b2cf53d5a3d25f95c0db4e025aed4153?s=128&d=identicon&r=PG", "display_name": "ikegami", "link": "https://stackoverflow.com/users/589924/ikegami"}, "edited": false, "score": 1, "creation_date": 1480831264, "post_id": 40953597, "comment_id": 69121383, "body": "Since about 10 years ago, literally don&#39;t have to do anything. <code>mingw</code> is automatically installed if needed"}], "tags": [], "owner": {"reputation": 126333, "user_id": 14660, "user_type": "registered", "accept_rate": 62, "profile_image": "https://www.gravatar.com/avatar/e55e0ec3c00f834d78fbdddeaa36e308?s=128&d=identicon&r=PG", "display_name": "Schwern", "link": "https://stackoverflow.com/users/14660/schwern"}, "is_accepted": true, "score": -2, "last_activity_date": 1480807228, "last_edit_date": 1480807228, "creation_date": 1480807071, "answer_id": 40953597, "question_id": 40953527, "link": "https://stackoverflow.com/questions/40953527/is-active-perl-does-not-support-any-extra-cpan-module/40953597#40953597", "title": "Is Active Perl Does Not Support any Extra CPAN Module?", "body": "<blockquote>\n  <p><em>Is Active Perl doesnt support any extra modules?</em></p>\n</blockquote>\n\n<p>It does, but it has its own way of doing it called <a href=\"http://www.activestate.com/activeperl/ppm-perl-modules\" rel=\"nofollow noreferrer\">PPM</a>. Because many Perl modules require Unix tools and a C compiler, these are pre-built for you. Unfortunately these packages are often well behind CPAN release and are often missing CPAN modules altogether.</p>\n\n<blockquote>\n  <p><em>If so, what do you suggest me for Perl compiler?</em></p>\n</blockquote>\n\n<p>On Windows, I'd recommend using <a href=\"http://strawberryperl.com/\" rel=\"nofollow noreferrer\">Strawberry Perl</a>. It comes with a full environment necessary for building and installing Perl modules, including a C compiler. Then you can install things using the normal CPAN tools like <code>cpan</code> or <code>cpanm</code>.</p>\n\n<blockquote>\n  <p><em>I am using Chrimson Editor</em></p>\n</blockquote>\n\n<p>It doesn't look like that editor has been updated in over 10 years, and it's very Windows specific.  I'd suggest an editor like <a href=\"http://www.sublimetext.com/\" rel=\"nofollow noreferrer\">Sublime Text</a>. It's cross-platform, so you're not stuck with a Windows-specific editor, it has good Perl support, and it's kept up to date.</p>\n\n<p>I would also not get too attached to relying on your IDE to do all your compiling and running of code for you. If you do, you're limited to what your IDE supports, and your IDE can get in the way of understanding your tools. Instead, I'd suggest getting used to using the tools directly. Learn how to use Perl on the command line rather than via the IDE.</p>\n"}], "owner": {"reputation": 3, "user_id": 7215742, "user_type": "registered", "accept_rate": 75, "profile_image": "https://www.gravatar.com/avatar/f67fdc1c7393d61874d29691743e071b?s=128&d=identicon&r=PG&f=1", "display_name": "evenstar", "link": "https://stackoverflow.com/users/7215742/evenstar"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 38, "favorite_count": 0, "accepted_answer_id": 40953597, "answer_count": 1, "score": -2, "last_activity_date": 1480807993, "creation_date": 1480806489, "last_edit_date": 1480807993, "question_id": 40953527, "link": "https://stackoverflow.com/questions/40953527/is-active-perl-does-not-support-any-extra-cpan-module", "title": "Is Active Perl Does Not Support any Extra CPAN Module?", "body": "<p>I am using <a href=\"http://www.crimsoneditor.com/\" rel=\"nofollow noreferrer\">Crimson Editor</a> as a text editor and I think it suports only Active Perl as a compiler. I downloaded some new CPAN modules for emailing etc etc. I added them in Perl library but program still doesn't recognize those modules. Can you please help me? Is Active Perl doesn't support any extra modules? If so, what do you suggest me for Perl compiler?</p>\n"}, {"tags": ["php", "python", "perl", "difflib"], "comments": [{"owner": {"reputation": 50468, "user_id": 1331451, "user_type": "registered", "accept_rate": 96, "profile_image": "https://i.stack.imgur.com/4ZPmj.png?s=128&g=1", "display_name": "simbabque", "link": "https://stackoverflow.com/users/1331451/simbabque"}, "edited": false, "score": 0, "creation_date": 1480805114, "post_id": 40953189, "comment_id": 69116392, "body": "Please mark quoted sections in your question as quotes."}], "answers": [{"tags": [], "owner": {"reputation": 11, "user_id": 1729196, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/87a15637b104749d19694194de324afc?s=128&d=identicon&r=PG", "display_name": "user1729196", "link": "https://stackoverflow.com/users/1729196/user1729196"}, "is_accepted": true, "score": 0, "last_activity_date": 1489425596, "last_edit_date": 1489425596, "creation_date": 1480808608, "answer_id": 40953789, "question_id": 40953189, "link": "https://stackoverflow.com/questions/40953189/python-difflib-how-to-get-diff-sequneces-like-php-diff-class-format/40953789#40953789", "title": "Python Difflib - How to get diff sequneces like PHP Diff Class format", "body": "<p>I think I've done what I want like a PHP Diff output.</p>\n\n<pre><code>def sdiffer(s1, s2):\n    differ = difflib.Differ()\n    diffs = list(differ.compare(s1, s2))\n\n    i = 0\n    sdiffs = []\n    length = len(diffs)\n    sequence = 0\n    while i &lt; length:\n        line = diffs[i][2:]\n        if diffs[i].startswith('  '):\n            sequence +=1\n            sdiffs.append((sequence,'u', line))\n\n        elif diffs[i].startswith('+ '):\n            sequence +=1\n            sdiffs.append((sequence,'+', line))\n\n        elif diffs[i].startswith('- '):\n            sequence +=1\n            sdiffs.append((sequence,'-',diffs[i][2:]))\n            if i+1 &lt; length and diffs[i+1].startswith('? '):\n                if diffs[i+3].startswith('?') and i+3 &lt; length : # case 3\n                    sequence +=1\n                    sdiffs.append((sequence,'+',diffs[i+2][2:]))\n                    i+=3\n                elif diffs[i+2].startswith('?') and i+2 &lt; length: # case 2\n                    sequence +=1\n                    sdiffs.append((sequence,'+',diffs[i+2][2:]))\n                    i+=2\n            elif diffs[i+1].startswith('+ ') and i+2&lt;length and diffs[i+2].startswith('? '): # case 1\n                sequence +=1\n                sdiffs.append((sequence,'+', diffs[i+1][2:]))\n                i += 2\n            else: # the line is deleted and inserted new line # case 4\n                sequence +=1\n                sdiffs.append((sequence,'+', diffs[i+1][2:]))\n                i+=1   \n        i += 1\n    return sdiffs\n</code></pre>\n"}], "owner": {"reputation": 11, "user_id": 1729196, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/87a15637b104749d19694194de324afc?s=128&d=identicon&r=PG", "display_name": "user1729196", "link": "https://stackoverflow.com/users/1729196/user1729196"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 150, "favorite_count": 0, "accepted_answer_id": 40953789, "answer_count": 1, "score": 0, "last_activity_date": 1489425596, "creation_date": 1480804165, "last_edit_date": 1495541369, "question_id": 40953189, "link": "https://stackoverflow.com/questions/40953189/python-difflib-how-to-get-diff-sequneces-like-php-diff-class-format", "title": "Python Difflib - How to get diff sequneces like PHP Diff Class format", "body": "<p>I am reading the python difflib documentation. According to the difflib.differ output is :</p>\n\n<p>Code    Meaning\n'- '    line unique to sequence 1\n'+ '    line unique to sequence 2\n'  '    line common to both sequences\n'? '    line not present in either input sequence </p>\n\n<p>I am also reading this question on stackoverflow\n<a href=\"https://stackoverflow.com/questions/15938605/python-difflib-how-to-get-sdiff-sequences-with-change-op\">Python Difflib - How to Get SDiff Sequences with &quot;Change&quot; Op</a> but not be able to add a comment on the <a href=\"https://stackoverflow.com/users/3375713/s%D0%BD%D0%B0%C4%91%D0%BE%D1%88%C6%92%D0%B0%D3%BD\">S\u043d\u0430\u0111\u043e\u0448\u0192\u0430\u04fd</a>'s answer.</p>\n\n<p>I dont' know what is the Perl's Sdiff pretty much, but I need to adjust this function :</p>\n\n<pre><code>def sdiffer(s1, s2):\n    differ = difflib.Differ()\n    diffs = list(differ.compare(s1, s2))\n\n    i = 0\n    sdiffs = []\n    length = len(diffs)\n    while i &lt; length:\n        line = diffs[i][2:]\n        if diffs[i].startswith('  '):\n            sdiffs.append(('u', line))\n\n        elif diffs[i].startswith('+ '):\n            sdiffs.append(('+', line))\n\n        elif diffs[i].startswith('- '):\n            if i+1 &lt; length and diffs[i+1].startswith('? '): # then diffs[i+2] starts with ('+ '), obviously\n                sdiffs.append(('c', line))\n                i += 3 if i + 3 &lt; length and diffs[i + 3].startswith('? ') else 2\n\n            elif diffs[i+1].startswith('+ ') and i+2&lt;length and diffs[i+2].startswith('? '):\n                sdiffs.append(('c', line))\n                i += 2\n            else:\n                sdiffs.append(('-', line))\n        i += 1\n    return sdiffs\n</code></pre>\n\n<p>to be like <a href=\"http://code.stephenmorley.org/php/diff-implementation/\" rel=\"nofollow noreferrer\">PHP Diff Class</a></p>\n\n<p>above function I've try and it return the value of UNCHANGE, ADDED and DELETED. DELETED is more complex with 4 difference cases which is :</p>\n\n<p><strong>Case 1</strong>: The line modified by inserting some characters</p>\n\n<pre><code>- The good bad\n+ The good the bad\n?          ++++\n</code></pre>\n\n<p><strong>Case 2</strong>: The line is modified by deleting some characters</p>\n\n<pre><code>- The good the bad\n?          ----\n+ The good bad\n</code></pre>\n\n<p><strong>Case 3</strong>: The line is modified by deleting and inserting and/or replacing some characters:</p>\n\n<pre><code>- The good the bad and ugly\n?      ^^ ----\n+ The g00d bad and the ugly\n?      ^^          ++++\n</code></pre>\n\n<p><strong>Case 4</strong>: The line is deleted</p>\n\n<pre><code>- The good the bad and the ugly\n+ Our ratio is less than 0.75!\n</code></pre>\n\n<p>I don't know how to tweak within this code</p>\n\n<pre><code>elif diffs[i].startswith('- '):\n        if i+1 &lt; length and diffs[i+1].startswith('? '): # then diffs[i+2] starts with ('+ '), obviously\n            sdiffs.append(('c', line))\n            i += 3 if i + 3 &lt; length and diffs[i + 3].startswith('? ') else 2\n\n        elif diffs[i+1].startswith('+ ') and i+2&lt;length and diffs[i+2].startswith('? '):\n            sdiffs.append(('c', line))\n            i += 2\n        else:\n            sdiffs.append(('-', line))\n</code></pre>\n\n<p>to skip the '?' line. I just want to append(-) only if no new line inserted and append with (+) if invoke new line inserted.</p>\n"}, {"tags": ["html", "perl"], "comments": [{"owner": {"reputation": 50468, "user_id": 1331451, "user_type": "registered", "accept_rate": 96, "profile_image": "https://i.stack.imgur.com/4ZPmj.png?s=128&g=1", "display_name": "simbabque", "link": "https://stackoverflow.com/users/1331451/simbabque"}, "edited": false, "score": 5, "creation_date": 1480791112, "post_id": 40950726, "comment_id": 69112206, "body": "There are a lot of issues in your Perl code. I think the tutorial you are using is not very good. And what you&#39;re doing with the password is just plain horrible. As for the part you want help with, your HTML document cannot display any errors. You can go back to the HTML file by redirecting, or by reading the file and having the Perl program output the content. But you will not be able to tell the user that their password was wrong and they should try again."}, {"owner": {"reputation": 193600, "user_id": 87189, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/98e7d6edce863e7a1bf8199b082eb25e?s=128&d=identicon&r=PG", "display_name": "tadman", "link": "https://stackoverflow.com/users/87189/tadman"}, "edited": false, "score": 3, "creation_date": 1480793158, "post_id": 40950726, "comment_id": 69112844, "body": "If you want to learn how web sites were developed in 1995 you&#39;re on the right track, but today you&#39;d <a href=\"http://perldoc.perl.org/CGI.html\" rel=\"nofollow noreferrer\"><code>use CGI</code></a> at the <i>absolute least</i> though a <a href=\"https://en.wikipedia.org/wiki/Comparison_of_web_frameworks#Perl_2\" rel=\"nofollow noreferrer\">framework</a> would be <i>immeasurably better</i>."}, {"owner": {"reputation": 193600, "user_id": 87189, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/98e7d6edce863e7a1bf8199b082eb25e?s=128&d=identicon&r=PG", "display_name": "tadman", "link": "https://stackoverflow.com/users/87189/tadman"}, "edited": false, "score": 3, "creation_date": 1480793210, "post_id": 40950726, "comment_id": 69112862, "body": "<b>WARNING</b>: When writing SQL code use prepared statements with <b>placeholder values</b> and <a href=\"http://bobby-tables.com/\" rel=\"nofollow noreferrer\">never inject arbitrary user data into the query</a>."}, {"owner": {"reputation": 193600, "user_id": 87189, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/98e7d6edce863e7a1bf8199b082eb25e?s=128&d=identicon&r=PG", "display_name": "tadman", "link": "https://stackoverflow.com/users/87189/tadman"}, "edited": false, "score": 3, "creation_date": 1480793267, "post_id": 40950726, "comment_id": 69112882, "body": "<b>WARNING</b>: Do not store user passwords as plain-text. At the absolute least use something like <a href=\"https://gist.github.com/evandrix/1076041\" rel=\"nofollow noreferrer\">bcrypt</a> to properly hash them."}], "answers": [{"comments": [{"owner": {"reputation": 62184, "user_id": 7231, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/81b76985f3985e35492e25880493d045?s=128&d=identicon&r=PG", "display_name": "Dave Cross", "link": "https://stackoverflow.com/users/7231/dave-cross"}, "edited": false, "score": 1, "creation_date": 1480922522, "post_id": 40960838, "comment_id": 69147067, "body": "Why not just redirect to the HTML page? And your Content-Type header will have invalid line endings if this is run on Windows."}], "tags": [], "owner": {"reputation": 9, "user_id": 7150986, "user_type": "registered", "accept_rate": 33, "profile_image": "https://www.gravatar.com/avatar/7de0f6e50b018c83d66fc6957092ac4a?s=128&d=identicon&r=PG&f=1", "display_name": "Yining Teng", "link": "https://stackoverflow.com/users/7150986/yining-teng"}, "is_accepted": false, "score": -2, "last_activity_date": 1480868982, "creation_date": 1480868982, "answer_id": 40960838, "question_id": 40950726, "link": "https://stackoverflow.com/questions/40950726/how-to-redirect-to-a-html-page-in-cgi/40960838#40960838", "title": "How to redirect to a HTML page in CGI", "body": "<pre><code>print \"Content-type:text/html\\r\\n\\r\\n\";\nopen(DATA, '&lt;invaliduser.html') or die \"invaliduser.html  $!\"; \nwhile(&lt;DATA&gt;){\n    print \"$_\";\n}\n</code></pre>\n"}, {"tags": [], "owner": {"reputation": 62184, "user_id": 7231, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/81b76985f3985e35492e25880493d045?s=128&d=identicon&r=PG", "display_name": "Dave Cross", "link": "https://stackoverflow.com/users/7231/dave-cross"}, "is_accepted": false, "score": 0, "last_activity_date": 1480946665, "last_edit_date": 1480946665, "creation_date": 1480923838, "answer_id": 40969414, "question_id": 40950726, "link": "https://stackoverflow.com/questions/40950726/how-to-redirect-to-a-html-page-in-cgi/40969414#40969414", "title": "How to redirect to a HTML page in CGI", "body": "<p>You appear to be learning Perl in the mid-1990s!</p>\n\n<p>If you're determined to write this as a CGI program (and you shouldn't - it's 2016 and there are <a href=\"https://metacpan.org/pod/CGI::Alternatives\" rel=\"nofollow noreferrer\">far better alternatives</a>) then you should at least use some less outdated technologies.</p>\n\n<pre><code>#!/usr/bin/perl\n\nuse strict;\nuse warnings;\nuse CGI qw[param header];\nuse DBI;\nuse Template;\n\nmy $tt = Template-&gt;new;\nprint header;\n\nif (param) {\n  # If we have parameters, then someone is trying to log in\n  my $username = param('Username');\n  my $password = param('Password');\n\n  if (check_password($username, $password)) {\n    # Password check succeeded. Display success page\n    $tt-&gt;process('success.tt');\n  } else {\n    # Otherwise re-display initial form with an error message\n    $tt-&gt;process('form.tt', { error =&gt; 'Please try again' });\n  }\n} else {\n  # Otherwise display the initial form\n  $tt-&gt;process('form.tt');\n}\n\n# NOTE: Storing passwords in plain text like this is a *terrible idea*!\nsub check_password {\n  my ($user, $pass) = @_;\n\n  my $dbh = DBI-&gt;connect( 'dbi:mysql:math_questions', 'root', 'admin' )\n    or die \"Connection Error: $DBI::errstr\\n\";\n\n  my $sql = 'select count(*)\n             from   users\n             where  Username = ? and Password = ?';\n\n  my $sth = $dbh-&gt;prepare( $sql );\n  $sth-&gt;execute($user, $pass) or die \"SQL Error: $DBI::errstr\\n\";\n  my $count = ($sth-&gt;fetchrow_array)[0];\n\n  return $count;\n}\n</code></pre>\n\n<p>You'll need two template files - one for the form and one for the success page. Bringing the form into the CGI program gives us the advantage that we can display an error message when people get the password wrong.</p>\n\n<p>Here's <code>form.tt</code>:</p>\n\n<pre><code>&lt;!DOCTYPE html&gt;\n&lt;html&gt;\n  &lt;head&gt;\n    &lt;meta charset=\"utf-8\"&gt;\n    &lt;title&gt;User Login&lt;/title&gt;\n  &lt;/head&gt;\n  &lt;body&gt;\n[% IF error -%]\n    &lt;p&gt;[% error %]&lt;/p&gt;\n[% END -%]\n    &lt;form action=\"http://localhost/cgi-bin/mainpage.cgi\" method=\"post\"&gt;\n      Username: &lt;input type=\"text\" name=\"Username\"&gt;  &lt;br /&gt;\n      Password: &lt;input type=\"text\" name=\"Password\" /&gt;\n      &lt;input type=\"submit\" value=\"submit\" /&gt;\n    &lt;/form&gt;\n  &lt;/body&gt;\n&lt;/html&gt;\n</code></pre>\n\n<p>And here's <code>success.tt</code>:</p>\n\n<pre><code>&lt;html&gt;\n  &lt;head&gt;\n    &lt;meta charset=\"utf-8\"&gt;\n    &lt;title&gt;math_questions&lt;/title&gt;\n  &lt;/head&gt;\n  &lt;body&gt;\n    &lt;h2&gt;Correct&lt;/h2&gt;\n  &lt;/body&gt;\n&lt;/html&gt;\n</code></pre>\n"}], "owner": {"reputation": 9, "user_id": 7150986, "user_type": "registered", "accept_rate": 33, "profile_image": "https://www.gravatar.com/avatar/7de0f6e50b018c83d66fc6957092ac4a?s=128&d=identicon&r=PG&f=1", "display_name": "Yining Teng", "link": "https://stackoverflow.com/users/7150986/yining-teng"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 423, "favorite_count": 0, "answer_count": 2, "score": -2, "last_activity_date": 1480946665, "creation_date": 1480787423, "last_edit_date": 1480791719, "question_id": 40950726, "link": "https://stackoverflow.com/questions/40950726/how-to-redirect-to-a-html-page-in-cgi", "title": "How to redirect to a HTML page in CGI", "body": "<p>I am doing Perl and HTML programming with two files: <code>mainpage.html</code> and <code>mainpage.cgi</code>. I want let users input their username and password in text boxes, and if either of them is wrong, the page should stay the same and let user type again.</p>\n\n<h3>mainpage.html</h3>\n\n<pre><code>&lt;!DOCTYPE html&gt;\n&lt;html&gt;\n  &lt;head&gt;\n    &lt;meta charset=\"utf-8\"&gt;\n    &lt;title&gt;User Login&lt;/title&gt;\n  &lt;/head&gt;\n  &lt;body&gt;\n    &lt;form action=\"http://localhost/cgi-bin/mainpage.cgi\" method=\"post\"&gt;\n      Username: &lt;input type=\"text\" name=\"Username\"&gt;  &lt;br /&gt;\n      Password: &lt;input type=\"text\" name=\"Password\" /&gt;\n      &lt;input type=\"submit\" value=\"submit\" /&gt;\n    &lt;/form&gt;\n  &lt;/body&gt;\n&lt;/html&gt;\n</code></pre>\n\n<h3>mainpage.cgi</h3>\n\n<pre><code>#!c:/Perl64/bin/perl.exe\n\nlocal ( $buffer, @pairs, $pair, $Username, $Password, %FORM );\n\n# Read information\n$ENV{'REQUEST_METHOD'} =~ tr/a-z/A-Z/;\n\nif ( $ENV{'REQUEST_METHOD'} eq \"POST\" ) {\n    read( STDIN, $buffer, $ENV{'CONTENT_LENGTH'} );\n}\nelse {\n    $buffer = $ENV{'QUERY_STRING'};\n}\n\n@pairs = split( /&amp;/, $buffer );\n\nforeach $pair ( @pairs ) {\n    ( $Username, $Password ) = split( /=/, $pair );\n    $Password =~ tr/+/ /;\n    $Password =~ s/%(..)/pack(\"C\", hex($1))/eg;\n    $FORM{$Username} = $Password;\n}\n$Username = $FORM{Username};\n$Password = $FORM{Password};\n\n#Database\nuse DBI;\n$dbh = DBI-&gt;connect( 'dbi:mysql:math_questions', 'root', 'admin' )\n        or die \"Connection Error: $DBI::errstr\\n\";\n\n$sql = \"select * FROM users where Username = '$Username' and Password = '$Password'\";\n$sth = $dbh-&gt;prepare( $sql );\n$sth-&gt;execute or die \"SQL Error: $DBI::errstr\\n\";\nwhile ( @row = $sth-&gt;fetchrow_array ) {\n    $user = $row[0];\n    $key  = $row[1];\n}\n\nif ( $user ) {\n    print \"Content-type:text/html\\r\\n\\r\\n\";\n    print \"&lt;html&gt;\";\n    print \"&lt;head&gt;\";\n    print '&lt;meta charset=\"utf-8\"&gt;';\n    print '&lt;title&gt;math_questions&lt;/title&gt;';\n    print \"&lt;/head&gt;\";\n    print \"&lt;body&gt;\";\n    print \"&lt;h2&gt;Correct&lt;/h2&gt;\";\n    print \"&lt;/body&gt;\";\n    print \"&lt;/html&gt;\";\n}\nelse {\n    #I don't know how to do this part in a good way, thank you very much!\n}\n\n1;\n</code></pre>\n"}, {"tags": ["mysql", "perl", "xhtml"], "comments": [{"owner": {"reputation": 6258, "user_id": 82262, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/8ce15931410b388a52eb2df4a864137f?s=128&d=identicon&r=PG&f=1", "display_name": "Matt Jacob", "link": "https://stackoverflow.com/users/82262/matt-jacob"}, "edited": false, "score": 0, "creation_date": 1480783190, "post_id": 40949974, "comment_id": 69109739, "body": "There are many things wrong with this code, but the specific thing that you&#39;re asking about is that statement handles don&#39;t have a method called <code>fetchrow</code>."}, {"owner": {"reputation": 6258, "user_id": 82262, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/8ce15931410b388a52eb2df4a864137f?s=128&d=identicon&r=PG&f=1", "display_name": "Matt Jacob", "link": "https://stackoverflow.com/users/82262/matt-jacob"}, "edited": false, "score": 0, "creation_date": 1480783298, "post_id": 40949974, "comment_id": 69109770, "body": "Any Perl code written in the last 10 years needs to have <code>use strict</code> and <code>use warnings</code> at the top."}, {"owner": {"reputation": 33, "user_id": 7242665, "user_type": "registered", "accept_rate": 75, "profile_image": "https://lh3.googleusercontent.com/-hacSR6K2ogk/AAAAAAAAAAI/AAAAAAAAABU/hNHzed5piBU/photo.jpg?sz=128", "display_name": "Akhil Biju", "link": "https://stackoverflow.com/users/7242665/akhil-biju"}, "reply_to_user": {"reputation": 6258, "user_id": 82262, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/8ce15931410b388a52eb2df4a864137f?s=128&d=identicon&r=PG&f=1", "display_name": "Matt Jacob", "link": "https://stackoverflow.com/users/82262/matt-jacob"}, "edited": false, "score": 0, "creation_date": 1480783322, "post_id": 40949974, "comment_id": 69109779, "body": "okay. can you please tell what i can use instead of fetchrow() ?"}, {"owner": {"reputation": 6258, "user_id": 82262, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/8ce15931410b388a52eb2df4a864137f?s=128&d=identicon&r=PG&f=1", "display_name": "Matt Jacob", "link": "https://stackoverflow.com/users/82262/matt-jacob"}, "edited": false, "score": 0, "creation_date": 1480783347, "post_id": 40949974, "comment_id": 69109789, "body": "<a href=\"https://metacpan.org/pod/DBI\" rel=\"nofollow noreferrer\">metacpan.org/pod/DBI</a>"}, {"owner": {"reputation": 6258, "user_id": 82262, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/8ce15931410b388a52eb2df4a864137f?s=128&d=identicon&r=PG&f=1", "display_name": "Matt Jacob", "link": "https://stackoverflow.com/users/82262/matt-jacob"}, "edited": false, "score": 0, "creation_date": 1480783502, "post_id": 40949974, "comment_id": 69109827, "body": "<code>fetchrow_array</code>? <code>fetchrow_arrayref</code>? <code>fetchrow_hashref</code>? <code>fetchall_arrayref</code>? They&#39;re all in the DBI documentation, which you would know if you had bothered to read it!"}, {"owner": {"reputation": 33, "user_id": 7242665, "user_type": "registered", "accept_rate": 75, "profile_image": "https://lh3.googleusercontent.com/-hacSR6K2ogk/AAAAAAAAAAI/AAAAAAAAABU/hNHzed5piBU/photo.jpg?sz=128", "display_name": "Akhil Biju", "link": "https://stackoverflow.com/users/7242665/akhil-biju"}, "reply_to_user": {"reputation": 6258, "user_id": 82262, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/8ce15931410b388a52eb2df4a864137f?s=128&d=identicon&r=PG&f=1", "display_name": "Matt Jacob", "link": "https://stackoverflow.com/users/82262/matt-jacob"}, "edited": false, "score": 0, "creation_date": 1480784331, "post_id": 40949974, "comment_id": 69110085, "body": "I jstarted learning perl just 2 days ago. I just replaced fetchrow() with fetchrow_array still it isn&#39;t working.  @MattJacob"}, {"owner": {"reputation": 6258, "user_id": 82262, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/8ce15931410b388a52eb2df4a864137f?s=128&d=identicon&r=PG&f=1", "display_name": "Matt Jacob", "link": "https://stackoverflow.com/users/82262/matt-jacob"}, "edited": false, "score": 0, "creation_date": 1480784568, "post_id": 40949974, "comment_id": 69110158, "body": "Part of learning a language is learning how to find the documentation for it, and DBI&#39;s is some of the best. What do the logs say?"}, {"owner": {"reputation": 33, "user_id": 7242665, "user_type": "registered", "accept_rate": 75, "profile_image": "https://lh3.googleusercontent.com/-hacSR6K2ogk/AAAAAAAAAAI/AAAAAAAAABU/hNHzed5piBU/photo.jpg?sz=128", "display_name": "Akhil Biju", "link": "https://stackoverflow.com/users/7242665/akhil-biju"}, "reply_to_user": {"reputation": 6258, "user_id": 82262, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/8ce15931410b388a52eb2df4a864137f?s=128&d=identicon&r=PG&f=1", "display_name": "Matt Jacob", "link": "https://stackoverflow.com/users/82262/matt-jacob"}, "edited": false, "score": 0, "creation_date": 1480785054, "post_id": 40949974, "comment_id": 69110293, "body": "Global symbol &quot;$variables&quot; requires explicit package name <a href=\"http://prntscr.com/dewnaq\" rel=\"nofollow noreferrer\">prntscr.com/dewnaq</a> @MattJacob"}, {"owner": {"reputation": 6258, "user_id": 82262, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/8ce15931410b388a52eb2df4a864137f?s=128&d=identicon&r=PG&f=1", "display_name": "Matt Jacob", "link": "https://stackoverflow.com/users/82262/matt-jacob"}, "edited": false, "score": 0, "creation_date": 1480785229, "post_id": 40949974, "comment_id": 69110329, "body": "That&#39;s not the same code you posted here..."}, {"owner": {"reputation": 33, "user_id": 7242665, "user_type": "registered", "accept_rate": 75, "profile_image": "https://lh3.googleusercontent.com/-hacSR6K2ogk/AAAAAAAAAAI/AAAAAAAAABU/hNHzed5piBU/photo.jpg?sz=128", "display_name": "Akhil Biju", "link": "https://stackoverflow.com/users/7242665/akhil-biju"}, "reply_to_user": {"reputation": 6258, "user_id": 82262, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/8ce15931410b388a52eb2df4a864137f?s=128&d=identicon&r=PG&f=1", "display_name": "Matt Jacob", "link": "https://stackoverflow.com/users/82262/matt-jacob"}, "edited": false, "score": 0, "creation_date": 1480785493, "post_id": 40949974, "comment_id": 69110392, "body": "The variable names and database are changed that&#39;s it. Everything else is same. The current code which i am running is here <a href=\"http://prntscr.com/dewpz6\" rel=\"nofollow noreferrer\">prntscr.com/dewpz6</a>   Only the display from database isn&#39;t working, everything else is fine. @MattJacob"}], "answers": [{"tags": [], "owner": {"reputation": 6258, "user_id": 82262, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/8ce15931410b388a52eb2df4a864137f?s=128&d=identicon&r=PG&f=1", "display_name": "Matt Jacob", "link": "https://stackoverflow.com/users/82262/matt-jacob"}, "is_accepted": true, "score": 0, "last_activity_date": 1480787829, "last_edit_date": 1480787829, "creation_date": 1480787219, "answer_id": 40950685, "question_id": 40949974, "link": "https://stackoverflow.com/questions/40949974/cannot-display-data-from-database/40950685#40950685", "title": "Cannot display data from database", "body": "<h3>Code</h3>\n\n<pre><code>use strict;\nuse warnings;\n\nuse CGI qw(:standard);\nuse DBI;\n\nmy $dbh = DBI-&gt;connect(\"dbi:SQLite:dbname=:memory:\", undef, undef, {\n    RaiseError =&gt; 1,\n    PrintError =&gt; 0,\n});\n\n$dbh-&gt;do(q{\n    create table students (\n        name varchar(255),\n        age int\n    )\n});\n\nmy $name = param(\"name\");\nmy $age  = param(\"age\");\n$dbh-&gt;do(q{insert into students values (?, ?)}, undef, $name, $age);\n\nprint header();\nprint &lt;&lt;'EOF';\n&lt;table border='1'&gt;\n  &lt;tr&gt;\n    &lt;th&gt;Name&lt;/th&gt;\n    &lt;th&gt;Age&lt;/th&gt;\n  &lt;/tr&gt;\nEOF\n\nmy $sth = $dbh-&gt;prepare(q{select name, age from students});\n$sth-&gt;execute;\n\nwhile (($name, $age) = $sth-&gt;fetchrow_array) {\n    print &lt;&lt;EOF;\n  &lt;tr&gt;\n    &lt;td&gt;$name&lt;/td&gt;\n    &lt;td&gt;$age&lt;/td&gt;\n  &lt;/tr&gt;\nEOF\n}\n\nprint qq~&lt;/table&gt;\\n~;\n</code></pre>\n\n<h3>Command Line</h3>\n\n<pre><code>$ perl 40949974.pl 'name=John Smith&amp;age=30'\n</code></pre>\n\n<h3>Output</h3>\n\n<pre><code>Content-Type: text/html; charset=ISO-8859-1\n\n&lt;table border='1'&gt;\n  &lt;tr&gt;\n    &lt;th&gt;Name&lt;/th&gt;\n    &lt;th&gt;Age&lt;/th&gt;\n  &lt;/tr&gt;\n  &lt;tr&gt;\n    &lt;td&gt;John Smith&lt;/td&gt;\n    &lt;td&gt;30&lt;/td&gt;\n  &lt;/tr&gt;\n&lt;/table&gt;\n</code></pre>\n\n<h3>Explanation</h3>\n\n<p>By using an in-memory SQLite database and supplying the CGI parameters via the command line, we have a complete, self-contained example. For inserts, you don't really need the <code>prepare</code>/<code>execute</code> cycle unless you're inserting a bunch of records (in a loop, for example). I also used placeholders and bind values for the insert, which properly escapes your variables for you. However, if you're accepting user input via a web page, you'll want to do additional validation as well. </p>\n\n<p>You can read the <a href=\"https://metacpan.org/pod/DBI\" rel=\"nofollow noreferrer\">DBI documentation</a> to find out more about any of these concepts.</p>\n"}], "owner": {"reputation": 33, "user_id": 7242665, "user_type": "registered", "accept_rate": 75, "profile_image": "https://lh3.googleusercontent.com/-hacSR6K2ogk/AAAAAAAAAAI/AAAAAAAAABU/hNHzed5piBU/photo.jpg?sz=128", "display_name": "Akhil Biju", "link": "https://stackoverflow.com/users/7242665/akhil-biju"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 50, "favorite_count": 0, "accepted_answer_id": 40950685, "answer_count": 1, "score": -2, "last_activity_date": 1480794153, "creation_date": 1480782771, "last_edit_date": 1480794153, "question_id": 40949974, "link": "https://stackoverflow.com/questions/40949974/cannot-display-data-from-database", "title": "Cannot display data from database", "body": "<p>I am writing a Perl program to insert name and age information into a MySQL table and display the current contents of this table.</p>\n\n<p>This is the XHTML data</p>\n\n<pre><code>&lt;?xml version=\"1.0\" encoding=\"utf-8\"?&gt; \n&lt;!DOCTYPE html PUBLIC \"-//W3C//DTD XHTML 1.1//EN\"\"http://www.w3.org/TR/xhtml11/DTD/xhtml11.dtd\"&gt;  \n&lt;html xmlns=\"http://www.w3.org/1999/xhtml\"&gt; \n  &lt;head&gt;\n    &lt;title&gt;Perl Database Interfaces&lt;/title&gt; \n  &lt;/head&gt; \n  &lt;body&gt; \n    &lt;form action=\"/cgi-bin/10.pl\" method=\"post\"&gt;\n      &lt;p&gt; &lt;b&gt;Enter Your Information&lt;/b&gt; &lt;br /&gt; \n        Name: &lt;input type=\"text\" name=\"name\" /&gt; &lt;br /&gt;\n        Age: &lt;input type=\"text\" name=\"age\" /&gt; &lt;br /&gt; \n        &lt;input type=\"submit\" value=\"Add\" /&gt; \n        &lt;input type=\"reset\" value=\"Clear\" /&gt;\n      &lt;/p&gt; \n    &lt;/form&gt; \n  &lt;/body&gt;\n&lt;/html&gt;  \n</code></pre>\n\n<p>And here is the Perl code</p>\n\n<pre><code>#!/usr/bin/perl\n\nuse CGI ':standard';\n\nprint \"content-type:text/html\\n\\n\";\n\nuse DBI;\n\n$dbh  = DBI-&gt;connect( \"DBI:mysql:Temp\", \"root\", \"\" );\n$name = param( \"name\" );\n$age  = param( \"age\" );\n\n$sql  = \"insert into Students values ('$name','$age')\";\n$sth  = $dbh-&gt;prepare( \"$sql\" );\n$sth-&gt;execute;\n\n$sql = \"select * from Students\";\n$sth = $dbh-&gt;prepare( $sql );\n$sth-&gt;execute;\n\nprint \"&lt;table border size=1&gt;  &lt;tr&gt; \n&lt;th&gt;Name&lt;/th&gt; \n&lt;th&gt;Age&lt;/th&gt; &lt;/tr&gt; \";\n\nwhile ( ( $name, $age ) = $sth-&gt;fetchrow() ) {\n    print \"&lt;tr&gt; \n    &lt;td&gt;$name&lt;/td&gt; \n    &lt;td&gt;$age&lt;/td&gt;\n     &lt;/tr&gt; \";\n}\n\n$sth-&gt;finish();\n\n$dbh-&gt;disconnect();\n\nprint \"&lt;/table&gt;\";\n</code></pre>\n\n<p>The data is getting inserted into the database (I manually checked it using the terminal), but the data isn't displaying on the web browser. The table heading is displayed but not the rows. See the output I am getting</p>\n\n<p><img src=\"https://i.stack.imgur.com/1kYIK.png\" alt=\"1\"></p>\n\n<p>What am I doing wrong ?</p>\n"}, {"tags": ["perl", "mojolicious"], "answers": [{"tags": [], "owner": {"reputation": 15304, "user_id": 4632019, "user_type": "registered", "accept_rate": 57, "profile_image": "https://www.gravatar.com/avatar/8937eb40752cf51c7da61bd4a322a4ef?s=128&d=identicon&r=PG&f=1", "display_name": "Eugen Konkov", "link": "https://stackoverflow.com/users/4632019/eugen-konkov"}, "is_accepted": false, "score": 0, "last_activity_date": 1480778929, "creation_date": 1480778929, "answer_id": 40949390, "question_id": 40949299, "link": "https://stackoverflow.com/questions/40949299/how-to-use-route-name-while-testing-mojolicious-application/40949390#40949390", "title": "How to use route name while testing mojolicious application?", "body": "<p>We may <code>build_controller</code> to call <code>url_for</code>:</p>\n\n<pre><code>$t-&gt;app-&gt;build_controller-&gt;url_for( 'list_users' )\n</code></pre>\n"}, {"comments": [{"owner": {"reputation": 19796, "user_id": 468327, "user_type": "registered", "accept_rate": 89, "profile_image": "https://www.gravatar.com/avatar/cc767569f5863a7c261991ee5b23f147?s=128&d=identicon&r=PG", "display_name": "Joel Berger", "link": "https://stackoverflow.com/users/468327/joel-berger"}, "edited": false, "score": 2, "creation_date": 1480782292, "post_id": 40949776, "comment_id": 69109484, "body": "You shouldn&#39;t overload private methods, they can and may be changed without notice even in a minor version."}, {"owner": {"reputation": 15304, "user_id": 4632019, "user_type": "registered", "accept_rate": 57, "profile_image": "https://www.gravatar.com/avatar/8937eb40752cf51c7da61bd4a322a4ef?s=128&d=identicon&r=PG&f=1", "display_name": "Eugen Konkov", "link": "https://stackoverflow.com/users/4632019/eugen-konkov"}, "reply_to_user": {"reputation": 19796, "user_id": 468327, "user_type": "registered", "accept_rate": 89, "profile_image": "https://www.gravatar.com/avatar/cc767569f5863a7c261991ee5b23f147?s=128&d=identicon&r=PG", "display_name": "Joel Berger", "link": "https://stackoverflow.com/users/468327/joel-berger"}, "edited": false, "score": 0, "creation_date": 1480783309, "post_id": 40949776, "comment_id": 69109773, "body": "@JoelBerger; Yes, but in this case I should overload <code>get_ok</code>, <code>post_ok</code> etc. Is there workaround to do not overload private method?"}, {"owner": {"reputation": 19796, "user_id": 468327, "user_type": "registered", "accept_rate": 89, "profile_image": "https://www.gravatar.com/avatar/cc767569f5863a7c261991ee5b23f147?s=128&d=identicon&r=PG", "display_name": "Joel Berger", "link": "https://stackoverflow.com/users/468327/joel-berger"}, "edited": false, "score": 0, "creation_date": 1480789078, "post_id": 40949776, "comment_id": 69111573, "body": "I&#39;d probably make a new one called something like <code>request_ok</code> or <code>route_ok</code> and have it take a method as its first argument. Otherwise yes, you would do best to explicitly overload all the methods that you are changing."}, {"owner": {"reputation": 19796, "user_id": 468327, "user_type": "registered", "accept_rate": 89, "profile_image": "https://www.gravatar.com/avatar/cc767569f5863a7c261991ee5b23f147?s=128&d=identicon&r=PG", "display_name": "Joel Berger", "link": "https://stackoverflow.com/users/468327/joel-berger"}, "edited": false, "score": 0, "creation_date": 1480789235, "post_id": 40949776, "comment_id": 69111628, "body": "Also, building a controller just to call <code>url_for</code> could be replaced by talking to the app&#39;s router instance directly"}, {"owner": {"reputation": 15304, "user_id": 4632019, "user_type": "registered", "accept_rate": 57, "profile_image": "https://www.gravatar.com/avatar/8937eb40752cf51c7da61bd4a322a4ef?s=128&d=identicon&r=PG&f=1", "display_name": "Eugen Konkov", "link": "https://stackoverflow.com/users/4632019/eugen-konkov"}, "reply_to_user": {"reputation": 19796, "user_id": 468327, "user_type": "registered", "accept_rate": 89, "profile_image": "https://www.gravatar.com/avatar/cc767569f5863a7c261991ee5b23f147?s=128&d=identicon&r=PG", "display_name": "Joel Berger", "link": "https://stackoverflow.com/users/468327/joel-berger"}, "edited": false, "score": 1, "creation_date": 1480792159, "post_id": 40949776, "comment_id": 69112526, "body": "@JoelBerger Thanks, I have found that: <code>$t-&gt;app-&gt;routes-&gt;lookup( $url )-&gt;render</code>"}], "tags": [], "owner": {"reputation": 15304, "user_id": 4632019, "user_type": "registered", "accept_rate": 57, "profile_image": "https://www.gravatar.com/avatar/8937eb40752cf51c7da61bd4a322a4ef?s=128&d=identicon&r=PG&f=1", "display_name": "Eugen Konkov", "link": "https://stackoverflow.com/users/4632019/eugen-konkov"}, "is_accepted": true, "score": 1, "last_activity_date": 1480804137, "last_edit_date": 1480804137, "creation_date": 1480781486, "answer_id": 40949776, "question_id": 40949299, "link": "https://stackoverflow.com/questions/40949299/how-to-use-route-name-while-testing-mojolicious-application/40949776#40949776", "title": "How to use route name while testing mojolicious application?", "body": "<p>I use <a href=\"https://metacpan.org/pod/Test::Mojo::WithRoles\" rel=\"nofollow noreferrer\">Test::Mojo::Role</a> as adviced by Sebastian Riedel:</p>\n\n<pre><code>package Test::Mojo::Role::MyRole;\n\nuse Role::Tiny;\nuse Test::More;\n\nsub _build_ok {\n    my( $self, $method, $url ) =  ( shift, shift, shift );\n\n    if( my $route =  $t-&gt;app-&gt;routes-&gt;lookup( 'list_users' ) ) {\n        $url =  $route-&gt;render;\n    }\n\n    local $Test::Builder::Level = $Test::Builder::Level + 1;\n    return $self-&gt;_request_ok( $self-&gt;ua-&gt;build_tx( $method, $url, @_ ), $url );\n}\n\n\n\nsub location_is {\n  my( $t, $url, $desc ) =  @_;\n\n  if( my $route =  $t-&gt;app-&gt;routes-&gt;lookup( 'list_users' ) ) {\n      $url =  $route-&gt;render;\n  }\n  $desc //=  \"Location: $url\";\n\n  local $Test::Builder::Level =  $Test::Builder::Level + 1;\n  return $t-&gt;success( is($t-&gt;tx-&gt;res-&gt;headers-&gt;location, $url, $desc) );\n}\n\n\n#myapp.t\n\nuse Test::Mojo::WithRoles 'MyRole';\nour $t =  Test::Mojo::WithRoles-&gt;new( 'MyApp' );\n\n$t-&gt;get_ok( 'list_users' )-&gt;status_is( 302 )-&gt;location_is( 'auth_login' );\n</code></pre>\n\n<p><strong>UPD</strong></p>\n\n<p>That is better to do reverse: try to get route name from location and compare it to expected result</p>\n"}], "owner": {"reputation": 15304, "user_id": 4632019, "user_type": "registered", "accept_rate": 57, "profile_image": "https://www.gravatar.com/avatar/8937eb40752cf51c7da61bd4a322a4ef?s=128&d=identicon&r=PG&f=1", "display_name": "Eugen Konkov", "link": "https://stackoverflow.com/users/4632019/eugen-konkov"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 117, "favorite_count": 1, "accepted_answer_id": 40949776, "answer_count": 2, "score": 5, "last_activity_date": 1480804137, "creation_date": 1480778447, "question_id": 40949299, "link": "https://stackoverflow.com/questions/40949299/how-to-use-route-name-while-testing-mojolicious-application", "title": "How to use route name while testing mojolicious application?", "body": "<p>I have read <a href=\"http://mojolicious.org/perldoc/Test/Mojo\" rel=\"noreferrer\">Test::Mojo</a> but do not find how to use route name while application testing:</p>\n\n<pre><code>$t-&gt;get_ok( 'list_users' )-&gt;status_is( 302 )-&gt;location_is( 'auth_login' );\n</code></pre>\n\n<p>Where <code>list_users</code> and <code>auth_login</code> are:</p>\n\n<pre><code>$r-&gt;get( '/login' )-&gt;to( 'auth#login' )-&gt;name( 'auth_login' );\n$r-&gt;get( '/users' )-&gt;to( 'user#index' )-&gt;name( 'list_users' );\n</code></pre>\n\n<p>I seems to me it will be very handy if <code>*_ok</code> will count given string same as <code>redirect_to</code> does. <strong>VOTEUP</strong> if this looks good for feature request to you too.</p>\n\n<p>As work around this problem I try to use <code>url_for</code> without success:</p>\n\n<pre><code>$t-&gt;url_for( 'list_users' );\n#Can't locate object method \"url_for\" via package \"Test::Mojo\"\n</code></pre>\n\n<p>How can I get route path by its name from test script?</p>\n"}, {"tags": ["windows", "perl", "path", "openssl", "mingw"], "comments": [{"owner": {"reputation": 82953, "user_id": 608639, "user_type": "registered", "accept_rate": 64, "profile_image": "https://i.stack.imgur.com/aPIhh.jpg?s=128&g=1", "display_name": "jww", "link": "https://stackoverflow.com/users/608639/jww"}, "edited": false, "score": 0, "creation_date": 1480788356, "post_id": 40948353, "comment_id": 69111325, "body": "Which version of OpenSSL are you using? After you run <code>Configure</code>, perform <code>grep -IR &#39;C:Perl64binperl.exe&#39; *</code>. Then, for each hit (it should be the Makefiles), perform <code>sed -i &#39;s|C:Perl64binperl.exe|C:&#47;Perl64&#47;bin&#47;perl.exe|g&#39; &lt;file&gt;</code>. You may need to escape the slash with <code>&#47;&#47;</code>."}, {"owner": {"reputation": 31, "user_id": 3050350, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/7cf2fe63cb5b227fe08da1424a4b8e4c?s=128&d=identicon&r=PG&f=1", "display_name": "novice_cplusplus", "link": "https://stackoverflow.com/users/3050350/novice-cplusplus"}, "reply_to_user": {"reputation": 82953, "user_id": 608639, "user_type": "registered", "accept_rate": 64, "profile_image": "https://i.stack.imgur.com/aPIhh.jpg?s=128&g=1", "display_name": "jww", "link": "https://stackoverflow.com/users/608639/jww"}, "edited": false, "score": 0, "creation_date": 1480838403, "post_id": 40948353, "comment_id": 69122718, "body": "OpenSSL version is the last numberd 1.1.2. Any file contain C:Perl64binperl.exe because the path is built dinamycall and I have any idea about what file is giving the error."}, {"owner": {"reputation": 5562, "user_id": 1946679, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/ed74e2cdc59d058b76a76c90dd3c3bdc?s=128&d=identicon&r=PG", "display_name": "Matt Caswell", "link": "https://stackoverflow.com/users/1946679/matt-caswell"}, "edited": false, "score": 0, "creation_date": 1480895938, "post_id": 40948353, "comment_id": 69139927, "body": "There is no version 1.1.2 of OpenSSL (yet). You are most likely either using 1.1.0, or 1.0.2."}, {"owner": {"reputation": 31, "user_id": 3050350, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/7cf2fe63cb5b227fe08da1424a4b8e4c?s=128&d=identicon&r=PG&f=1", "display_name": "novice_cplusplus", "link": "https://stackoverflow.com/users/3050350/novice-cplusplus"}, "edited": false, "score": 0, "creation_date": 1480926894, "post_id": 40948353, "comment_id": 69149073, "body": "Sorry, it is 1.0.2"}], "answers": [{"comments": [{"owner": {"reputation": 31, "user_id": 3050350, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/7cf2fe63cb5b227fe08da1424a4b8e4c?s=128&d=identicon&r=PG&f=1", "display_name": "novice_cplusplus", "link": "https://stackoverflow.com/users/3050350/novice-cplusplus"}, "edited": false, "score": 0, "creation_date": 1480926967, "post_id": 40965254, "comment_id": 69149116, "body": "Thanks, I will try to change from mingw MSYS to perl MSYS."}], "tags": [], "owner": {"reputation": 5562, "user_id": 1946679, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/ed74e2cdc59d058b76a76c90dd3c3bdc?s=128&d=identicon&r=PG", "display_name": "Matt Caswell", "link": "https://stackoverflow.com/users/1946679/matt-caswell"}, "is_accepted": false, "score": 2, "last_activity_date": 1480896271, "creation_date": 1480896271, "answer_id": 40965254, "question_id": 40948353, "link": "https://stackoverflow.com/questions/40948353/bin-sh-cperl64binperl-exe-command-not-found-on-windows-10/40965254#40965254", "title": "&quot;/bin/sh: C:Perl64binperl.exe: command not found&quot; on Windows 10", "body": "<p>You should see this recommendation from the OpenSSL distribution:</p>\n\n<p><a href=\"https://github.com/openssl/openssl/blob/master/NOTES.PERL#L30\" rel=\"nofollow noreferrer\">https://github.com/openssl/openssl/blob/master/NOTES.PERL#L30</a></p>\n\n<blockquote>\n  <h2>Notes on Perl on Windows</h2>\n  \n  <p>There are a number of build targets that can be viewed as \"Windows\".\n  Indeed, there are VC-* configs targeting VisualStudio C, as well as\n  MinGW and Cygwin. The key recommendation is to use \"matching\" Perl,\n  one that matches build environment. For example, if you will build\n  on Cygwin be sure to use the Cygwin package manager to install Perl.\n  For MSYS builds use the MSYS provided Perl. For VC-* builds we\n  recommend ActiveState Perl, available from\n  <a href=\"http://www.activestate.com/ActivePerl\" rel=\"nofollow noreferrer\">http://www.activestate.com/ActivePerl</a>.</p>\n</blockquote>\n\n<p>As you are doing an MSYS/MinGW build you should ensure that MSYS perl is installed (and on your path in preference to the ActiveState version). Then try the build again.</p>\n"}, {"tags": [], "owner": {"reputation": 312, "user_id": 3566824, "user_type": "registered", "accept_rate": 50, "profile_image": "https://i.stack.imgur.com/Mdyo3.png?s=128&g=1", "display_name": "Eliott", "link": "https://stackoverflow.com/users/3566824/eliott"}, "is_accepted": false, "score": 0, "last_activity_date": 1527614610, "creation_date": 1527614610, "answer_id": 50589786, "question_id": 40948353, "link": "https://stackoverflow.com/questions/40948353/bin-sh-cperl64binperl-exe-command-not-found-on-windows-10/50589786#50589786", "title": "&quot;/bin/sh: C:Perl64binperl.exe: command not found&quot; on Windows 10", "body": "<p>I had the same problem and found that opening the Makefile and searching for \"PERL=\" found the line \"PERL=C:\\MinGW\\msys\\1.0\\bin\\perl.exe\". Replacing the single-backslashes for double-backslashes (i.e., \"PERL=C:\\\\MinGW\\\\msys\\\\1.0\\\\bin\\\\perl.exe\") corrected the problem. Single forward-slashes also worked.</p>\n"}], "owner": {"reputation": 31, "user_id": 3050350, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/7cf2fe63cb5b227fe08da1424a4b8e4c?s=128&d=identicon&r=PG&f=1", "display_name": "novice_cplusplus", "link": "https://stackoverflow.com/users/3050350/novice-cplusplus"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 1592, "favorite_count": 1, "answer_count": 2, "score": 1, "last_activity_date": 1527614610, "creation_date": 1480772110, "last_edit_date": 1480787932, "question_id": 40948353, "link": "https://stackoverflow.com/questions/40948353/bin-sh-cperl64binperl-exe-command-not-found-on-windows-10", "title": "&quot;/bin/sh: C:Perl64binperl.exe: command not found&quot; on Windows 10", "body": "<p>I am trying to build OpenSSL on Windows 10 64 bit machine using Code::blocks and Mingw. I already installed ActivePerl and MSYS. I am able to execute</p>\n\n<pre class=\"lang-bash prettyprint-override\"><code>perl Configure mingw\n</code></pre>\n\n<p>without errors. The problems is on executing the MAKE command. Regardless I am using the windows command prompt or MSYS, I always obtain the following error</p>\n\n<pre class=\"lang-bash prettyprint-override\"><code>C:\\DiscoD\\openssl&gt;make CC=i586-mingw32msvc-gcc RANLIB=i586-mingw32msvc-ranlib\nC:\\Perl64\\bin\\perl.exe \"-I.\" -Mconfigdata \"util\\dofile.pl\" \\\n            \"-oMakefile\" crypto\\include\\internal\\bn_conf.h.in &gt; crypto\\include\\internal\\bn_conf.h\n/bin/sh: C:Perl64binperl.exe: command not found\nmake: *** [crypto\\include\\internal\\bn_conf.h] Error 127\n</code></pre>\n\n<p>It seems the backslahes are removed from Perl.exe path, so the script cannot find C:/Perl64/bin/perl.exe. How to solve? Thanks</p>\n"}, {"tags": ["perl", "scripting"], "comments": [{"owner": {"reputation": 1, "user_id": 7244593, "user_type": "registered", "profile_image": "https://graph.facebook.com/393287997678336/picture?type=large", "display_name": "Chinnu Ram", "link": "https://stackoverflow.com/users/7244593/chinnu-ram"}, "reply_to_user": {"reputation": 18185, "user_id": 165071, "user_type": "registered", "accept_rate": 96, "profile_image": "https://i.stack.imgur.com/EWdkL.jpg?s=128&g=1", "display_name": "Alexander Farber", "link": "https://stackoverflow.com/users/165071/alexander-farber"}, "edited": false, "score": 0, "creation_date": 1480759928, "post_id": 40946234, "comment_id": 69103478, "body": "Hi Alexander, Sorry I&#39;m very new to perl and i have a gz file with iostat output from OS Watcher. I&#39;m using below lines to keep the arrays time stamp and Devicedata. @devicedat = <code>zcat xyz.xyz.com_iostat_16.11.20.2100.dat.gz | grep ^sd | sort -s--n -k1,1</code>; @timestamp = <code>zcat $file | grep zzz | cut -d&quot; &quot; -f3-7</code>; So I&#39;m looking for a function or command that can do the append as required."}, {"owner": {"reputation": 123805, "user_id": 622310, "user_type": "registered", "accept_rate": 33, "profile_image": "https://www.gravatar.com/avatar/8b6d35219e1808520bc238b28161e2e6?s=128&d=identicon&r=PG", "display_name": "Borodin", "link": "https://stackoverflow.com/users/622310/borodin"}, "edited": false, "score": 0, "creation_date": 1480760512, "post_id": 40946234, "comment_id": 69103614, "body": "If the problem is that you don&#39;t know Perl then the solution is in your hands. We can&#39;t really help with that."}], "answers": [{"comments": [{"owner": {"reputation": 1, "user_id": 7244593, "user_type": "registered", "profile_image": "https://graph.facebook.com/393287997678336/picture?type=large", "display_name": "Chinnu Ram", "link": "https://stackoverflow.com/users/7244593/chinnu-ram"}, "edited": false, "score": 0, "creation_date": 1481221891, "post_id": 40948138, "comment_id": 69300441, "body": "i tried foreach loop but i dont need one time stamp to all devices in devicedata array. It should go to first 6 disks and 2nd time stamp should be printed when sda starts for 2nd time in devicedat array."}], "tags": [], "owner": {"reputation": 3432, "user_id": 604642, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/48daad611ba387f8473b0c1e5792aa3f?s=128&d=identicon&r=PG", "display_name": "shawnhcorey", "link": "https://stackoverflow.com/users/604642/shawnhcorey"}, "is_accepted": false, "score": 1, "last_activity_date": 1480860501, "last_edit_date": 1480860501, "creation_date": 1480770841, "answer_id": 40948138, "question_id": 40946234, "link": "https://stackoverflow.com/questions/40946234/appending-array-values-next-to-each-other-in-perl/40948138#40948138", "title": "Appending Array values next to each other in Perl", "body": "<p>What you want is called a <a href=\"https://en.wikipedia.org/wiki/Cartesian_product\" rel=\"nofollow noreferrer\">Cartesian Product</a>. You have to nest the iterators for each set within each other, like so:</p>\n\n<pre><code>use strict;\nuse warnings;\n\nmy @timestamp = (\n    'Nov 20 21:58:41 PST 2016',\n    'Nov 20 21:59:11 PST 2016',\n    'Nov 20 21:59:41 PST 2016',\n);\n\nmy @devicedat = (\n    'sda    28.00     0.00   10.00  0.00   156.00     0.00    31.20     0.04    3.70   3.60   3.60',\n    'sda1    0.00     0.00    0.00  0.00     0.00     0.00     0.00     0.00    0.00   0.00   0.00',\n    'sda2   28.00     0.00    4.00  0.00   128.00     0.00    64.00     0.03    6.50   6.50   2.60',\n    'sda3    0.00     0.00    6.00  0.00    28.00     0.00     9.33     0.01    1.83   1.67   1.00',\n    'sdb     0.00     0.00    0.00  2.00     0.00     8.00     8.00     0.00    0.50   0.50   0.10',\n    'sdb1    0.00     0.00    0.00  2.00     0.00     8.00     8.00     0.00    0.50   0.50   0.10',\n    'sdc     0.00     0.00 1351.00  0.00  5404.00     0.00     8.00     0.76    0.56   0.56  76.00',\n    'sdc1    0.00     0.00 1351.00  0.00  5404.00     0.00     8.00     0.76    0.56   0.56  76.00',\n    'sda     0.00     0.00   14.00  0.00    56.00     0.00     8.00     0.01    0.50   0.50   0.70',\n    'sda1    0.00     0.00    0.00  0.00     0.00     0.00     0.00     0.00    0.00   0.00   0.00',\n    'sda2    0.00     0.00    0.00  0.00     0.00     0.00     0.00     0.00    0.00   0.00   0.00',\n    'sda3    0.00     0.00   14.00  0.00    56.00     0.00     8.00     0.01    0.50   0.50   0.70',\n    'sdb     0.00     0.00   89.00  0.00   356.00     0.00     8.00     0.14    1.52   1.52  13.50',\n    'sdb1    0.00     0.00   89.00  0.00   356.00     0.00     8.00     0.14    1.52   1.52  13.50',\n    'sdc     0.00     0.00  513.00  0.00  2052.00     0.00     8.00     0.75    1.45   1.46  74.70',\n    'sdc1    0.00     0.00  513.00  0.00  2052.00     0.00     8.00     0.75    1.45   1.46  74.70',\n);\n\nmy @product = ();\nfor my $timestamp ( @timestamp ){\n    for my $devicedat ( @devicedat ){\n        push @product, \"$timestamp, $devicedat\";\n    }\n}\n\nprint \"$_\\n\" for @product;\n</code></pre>\n\n<p>More details on <a href=\"https://lookatperl.blogspot.ca/2012/12/a-look-at-cartesian-products.html\" rel=\"nofollow noreferrer\">Cartesian Product in Perl</a>.</p>\n"}], "owner": {"reputation": 1, "user_id": 7244593, "user_type": "registered", "profile_image": "https://graph.facebook.com/393287997678336/picture?type=large", "display_name": "Chinnu Ram", "link": "https://stackoverflow.com/users/7244593/chinnu-ram"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 46, "favorite_count": 0, "closed_date": 1480777025, "answer_count": 1, "score": -4, "last_activity_date": 1480860501, "creation_date": 1480757196, "last_edit_date": 1480760421, "question_id": 40946234, "link": "https://stackoverflow.com/questions/40946234/appending-array-values-next-to-each-other-in-perl", "closed_reason": "Not suitable for this site", "title": "Appending Array values next to each other in Perl", "body": "<p></p>\n\n<p>I have two arrays: <code>@devicedat</code> and <code>@timestamp</code> in below way. </p>\n\n<h3><code>@timestamp</code></h3>\n\n<pre class=\"lang-none prettyprint-override\"><code> Nov 20 21:58:41 PST 2016\n Nov 20 21:59:11 PST 2016\n Nov 20 21:59:41 PST 2016\n</code></pre>\n\n<h3><code>@devicedat</code></h3>\n\n<pre class=\"lang-none prettyprint-override\"><code> sda              28.00     0.00 10.00  0.00   156.00     0.00    31.20     0.04    3.70   3.60   3.60\n sda1              0.00     0.00  0.00  0.00     0.00     0.00     0.00     0.00    0.00   0.00   0.00\n sda2             28.00     0.00  4.00  0.00   128.00     0.00    64.00     0.03    6.50   6.50   2.60\n sda3              0.00     0.00  6.00  0.00    28.00     0.00     9.33     0.01    1.83   1.67   1.00\n sdb               0.00     0.00  0.00  2.00     0.00     8.00     8.00     0.00    0.50   0.50   0.10\n sdb1              0.00     0.00  0.00  2.00     0.00     8.00     8.00     0.00    0.50   0.50   0.10\n sdc               0.00     0.00 1351.00  0.00  5404.00     0.00     8.00     0.76    0.56   0.56  76.00\n sdc1              0.00     0.00 1351.00  0.00  5404.00     0.00     8.00     0.76    0.56   0.56  76.00\n sda               0.00     0.00 14.00  0.00    56.00     0.00     8.00     0.01    0.50   0.50   0.70\n sda1              0.00     0.00  0.00  0.00     0.00     0.00     0.00     0.00    0.00   0.00   0.00\n sda2              0.00     0.00  0.00  0.00     0.00     0.00     0.00     0.00    0.00   0.00   0.00\n sda3              0.00     0.00 14.00  0.00    56.00     0.00     8.00     0.01    0.50   0.50   0.70\n sdb               0.00     0.00 89.00  0.00   356.00     0.00     8.00     0.14    1.52   1.52  13.50\n sdb1              0.00     0.00 89.00  0.00   356.00     0.00     8.00     0.14    1.52   1.52  13.50\n sdc               0.00     0.00 513.00  0.00  2052.00     0.00     8.00     0.75    1.45   1.46  74.70\n sdc1              0.00     0.00 513.00  0.00  2052.00     0.00     8.00     0.75    1.45   1.46  74.70\n</code></pre>\n\n<p>I want to append the timestamp to each of the Disk in Perl and  need output as below:</p>\n\n<pre class=\"lang-none prettyprint-override\"><code>Nov 20 21:58:41 PST 2016,sda 28.00 0.00 10.00 0.00 156.00 0.00 31.20 0.04 3.70 3.60 3.60\nNov 20 21:58:41 PST 2016, sda1.....\nNov 20 21:58:41 PST 2016, sda2.....\nNov 20 21:58:41 PST 2016, sda3.....\nNov 20 21:58:41 PST 2016, sdb......\nNov 20 21:58:41 PST 2016, sdb1.....\nNov 20 21:58:41 PST 2016, sdc......\nNov 20 21:58:41 PST 2016, sdc1.....\nNov 20 21:59:11 PST 2016, sda......\nNov 20 21:59:11 PST 2016, sda1.....\nNov 20 21:59:11 PST 2016, sda2.....\nNov 20 21:59:11 PST 2016, sda3.....\nNov 20 21:59:11 PST 2016, sdb......\nNov 20 21:59:11 PST 2016, sdb1.....\n</code></pre>\n\n<p>How to append the values in above way in Perl? I want the values appended to time stamp for all disks to interpret the Device Data in CSV format.</p>\n"}, {"tags": ["perl", "javafx"], "comments": [{"owner": {"reputation": 518, "user_id": 5284850, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/54336ff5623a4cacdc64cebcce38f6c3?s=128&d=identicon&r=PG&f=1", "display_name": "Geoff", "link": "https://stackoverflow.com/users/5284850/geoff"}, "edited": false, "score": 1, "creation_date": 1480893060, "post_id": 40944140, "comment_id": 69139148, "body": "I think <code>public static void main()</code> is a redundant method when JavaFX is running using the <code>Application.launch()</code> process. <code>exec</code> should start it&#39;s own process, are you seeing anything from that, or getting any errors when calling it in the <code>handle</code> method of the button?"}, {"owner": {"reputation": 41, "user_id": 7134415, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/8ca8ccf9cdbfd762b17acdb522c97827?s=128&d=identicon&r=PG&f=1", "display_name": "NSar", "link": "https://stackoverflow.com/users/7134415/nsar"}, "reply_to_user": {"reputation": 518, "user_id": 5284850, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/54336ff5623a4cacdc64cebcce38f6c3?s=128&d=identicon&r=PG&f=1", "display_name": "Geoff", "link": "https://stackoverflow.com/users/5284850/geoff"}, "edited": false, "score": 0, "creation_date": 1480953901, "post_id": 40944140, "comment_id": 69166111, "body": "I&#39;m not getting any errors.  The script works independently.  I think the problem might be from the java program continuing before the script is done running which causes some problems downstream."}, {"owner": {"reputation": 518, "user_id": 5284850, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/54336ff5623a4cacdc64cebcce38f6c3?s=128&d=identicon&r=PG&f=1", "display_name": "Geoff", "link": "https://stackoverflow.com/users/5284850/geoff"}, "edited": false, "score": 1, "creation_date": 1480976649, "post_id": 40944140, "comment_id": 69178462, "body": "Are you consuming the output of the process that is created by exec? You may be running into the following problem indicated in the Process docs: &quot;Because some native platforms only provide limited buffer size for standard input and output streams, failure to promptly write the input stream or read the output stream of the subprocess may cause the subprocess to block, or even deadlock.&quot;"}, {"owner": {"reputation": 41, "user_id": 7134415, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/8ca8ccf9cdbfd762b17acdb522c97827?s=128&d=identicon&r=PG&f=1", "display_name": "NSar", "link": "https://stackoverflow.com/users/7134415/nsar"}, "reply_to_user": {"reputation": 518, "user_id": 5284850, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/54336ff5623a4cacdc64cebcce38f6c3?s=128&d=identicon&r=PG&f=1", "display_name": "Geoff", "link": "https://stackoverflow.com/users/5284850/geoff"}, "edited": false, "score": 0, "creation_date": 1481039241, "post_id": 40944140, "comment_id": 69207395, "body": "The goal of the script that I&#39;m waiting on is the extract information from an online resource.  This extraction takes a while when the script is run independently (about 5 minutes).  I&#39;ve been trying to work with <code>waitFor()</code> which seems to work for a little while but then I think it times out and continues."}, {"owner": {"reputation": 129471, "user_id": 1155209, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/5192e7cbcf2f72a847d6fb0d1552f049?s=128&d=identicon&r=PG", "display_name": "jewelsea", "link": "https://stackoverflow.com/users/1155209/jewelsea"}, "edited": false, "score": 1, "creation_date": 1481076802, "post_id": 40944140, "comment_id": 69224809, "body": "Perhaps you could try <a href=\"https://github.com/mtshomsky/jerl\" rel=\"nofollow noreferrer\">Jerl</a> instead of trying to spawn a seperate process. &quot;Jerl allows perl to run within the JVM (not having to access any external libs)&quot;.  I have never used Jerl.  I expect it probably doesn&#39;t work all that well as &quot;Time, funding, and interest have resulted in no further ports.&quot;  But, depending upon what you are trying to accomplish, it might be worth a try.  Another alternative is to port the Perl code that another language with better JVM support."}], "answers": [{"tags": [], "owner": {"reputation": 518, "user_id": 5284850, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/54336ff5623a4cacdc64cebcce38f6c3?s=128&d=identicon&r=PG&f=1", "display_name": "Geoff", "link": "https://stackoverflow.com/users/5284850/geoff"}, "is_accepted": false, "score": 2, "last_activity_date": 1481070022, "last_edit_date": 1481070022, "creation_date": 1481069170, "answer_id": 41007190, "question_id": 40944140, "link": "https://stackoverflow.com/questions/40944140/running-perl-script-from-javafx/41007190#41007190", "title": "Running Perl Script from JavaFx", "body": "<p>Using the following perl script (windows perl...) where I can extend the sleep call to make it take longer the UI stays responsive while perl is doing it's thing, then the text area is updated with the string returned from perl.</p>\n\n<p>ETA: Probably should have put the readers in a try-with-resources and closed them up...</p>\n\n<pre><code>my $x = '';\nfor (my $i=0; $i &lt;= 1000000; $i++) {\n    if ($i % 100000 == 0) {\n        sleep(1);\n        $x .= '&gt; ' . $i . \"\\n\";\n    }\n}\nprint $x;\n</code></pre>\n\n<p>And JavaFX</p>\n\n<pre><code>public class PTApp extends Application {\n\n    private TextArea ta;\n    private Label lblMsg;\n\n\n    @Override\n    public void start(Stage primaryStage) {\n\n        VBox vb = new VBox(4);\n        vb.setPadding(new Insets(4));\n        Button btn = new Button();\n        btn.setText(\"Run Script\");\n        btn.setOnAction((ActionEvent event) -&gt; {\n            runPerlScript();\n        });\n\n        lblMsg = new Label(\"Ready...\");\n\n        ta = new TextArea();\n        VBox.setVgrow(ta, Priority.ALWAYS);\n\n        vb.getChildren().addAll(btn, lblMsg, ta);\n\n        Scene scene = new Scene(vb, 600, 650);\n\n        primaryStage.setTitle(\"Perl Test\");\n        primaryStage.setScene(scene);\n        primaryStage.show();\n    }\n\n\n    private void runPerlScript() {\n        ta.setText(\"About to begin...\");\n\n        PerlTask pt = new PerlTask();\n        lblMsg.textProperty().bind(pt.messageProperty());\n        pt.stateProperty().addListener((obs, os, ns) -&gt; {\n            //System.out.println(\"Worker state changed: \" + ns.toString());\n            if (Worker.State.SUCCEEDED.equals(ns)) {\n                Platform.runLater(() -&gt; {\n                    ta.setText(pt.getValue());\n                });\n            } else if (Worker.State.FAILED.equals(ns)) {\n                ta.setText(pt.getException().getMessage());\n            }\n        });\n\n        Thread th = new Thread(pt);\n        th.start();\n\n    }\n\n\n    public static class PerlTask extends Task&lt;String&gt; {\n\n        @Override\n        protected String call() throws Exception {\n\n            updateMessage(\"About to call Perl...\");\n\n            Process pp = Runtime.getRuntime().exec(\"C:\\\\Perl64\\\\bin\\\\perl.exe D:\\\\PerlTest\\\\perl\\\\test.pl\");\n\n            updateMessage(\"Perl called, building readers...\");\n\n            BufferedReader br = new BufferedReader(new InputStreamReader(pp.getInputStream()));\n            BufferedReader brE = new BufferedReader(new InputStreamReader(pp.getErrorStream()));\n\n            StringBuilder sb = new StringBuilder(\"--------Perl Output\\n\");\n            String l;\n            while ((l = br.readLine()) != null) {\n                sb.append(l).append(\"\\n\");\n            }\n\n            updateMessage(\"Input stream read...\");\n            sb.append(\"\\n\");\n            sb.append(\"--------Perl Errors\\n\");\n            while ((l = brE.readLine()) != null) {\n                sb.append(l).append(\"\\n\");\n            }\n\n            updateMessage(\"Error stream read...\");\n\n            return sb.toString();\n\n        }\n\n    }\n\n}\n</code></pre>\n"}], "owner": {"reputation": 41, "user_id": 7134415, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/8ca8ccf9cdbfd762b17acdb522c97827?s=128&d=identicon&r=PG&f=1", "display_name": "NSar", "link": "https://stackoverflow.com/users/7134415/nsar"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 120, "favorite_count": 0, "answer_count": 1, "score": 0, "last_activity_date": 1481070022, "creation_date": 1480738220, "last_edit_date": 1480758475, "question_id": 40944140, "link": "https://stackoverflow.com/questions/40944140/running-perl-script-from-javafx", "title": "Running Perl Script from JavaFx", "body": "<p>I'm trying to run a Perl script from a JavaFx stage when a button is pressed. </p>\n\n<p>I'm able to use <code>Runtime.getRuntime().exec()</code> to run the script in the <code>public static void main(String[] args)</code> method of the main class, but when doing this it doesn't run until the <code>Application.launch(args)</code> is completed. I want it to run while the stage is still active instead of having to close it.</p>\n\n<p>I tried adding it to the <code>ButtonHandlerClass</code> as part of the <code>public void handle(ActionEvent e)</code> method with no luck.</p>\n"}, {"tags": ["windows", "perl", "exec"], "comments": [{"owner": {"reputation": 113221, "user_id": 100754, "user_type": "registered", "accept_rate": 90, "profile_image": "https://www.gravatar.com/avatar/7804ebae32fbadef38537d74a915c22f?s=128&d=identicon&r=PG", "display_name": "Sinan &#220;n&#252;r", "link": "https://stackoverflow.com/users/100754/sinan-%c3%9cn%c3%bcr"}, "edited": false, "score": 1, "creation_date": 1480735530, "post_id": 40943676, "comment_id": 69098948, "body": "<code>perldoc -f exec</code> or maybe <a href=\"https://metacpan.org/pod/Win32::Process\" rel=\"nofollow noreferrer\">Win32::Process</a>"}, {"owner": {"reputation": 11, "user_id": 7243810, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/znPqT.jpg?s=128&g=1", "display_name": "tstevens", "link": "https://stackoverflow.com/users/7243810/tstevens"}, "reply_to_user": {"reputation": 113221, "user_id": 100754, "user_type": "registered", "accept_rate": 90, "profile_image": "https://www.gravatar.com/avatar/7804ebae32fbadef38537d74a915c22f?s=128&d=identicon&r=PG", "display_name": "Sinan &#220;n&#252;r", "link": "https://stackoverflow.com/users/100754/sinan-%c3%9cn%c3%bcr"}, "edited": false, "score": 1, "creation_date": 1480792753, "post_id": 40943676, "comment_id": 69112699, "body": "As I mentioned, already tried exec. But had not tried Win32::Process - and that did the trick, thanks a lot!!"}, {"owner": {"reputation": 113221, "user_id": 100754, "user_type": "registered", "accept_rate": 90, "profile_image": "https://www.gravatar.com/avatar/7804ebae32fbadef38537d74a915c22f?s=128&d=identicon&r=PG", "display_name": "Sinan &#220;n&#252;r", "link": "https://stackoverflow.com/users/100754/sinan-%c3%9cn%c3%bcr"}, "edited": false, "score": 0, "creation_date": 1480795298, "post_id": 40943676, "comment_id": 69113512, "body": "You might have been able to get the same result using <code>exec &quot;start =&gt; @cmdline&quot;</code>, but you don&#39;t show code, so I don&#39;t have anything to go on."}], "answers": [{"comments": [{"owner": {"reputation": 11, "user_id": 7243810, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/znPqT.jpg?s=128&g=1", "display_name": "tstevens", "link": "https://stackoverflow.com/users/7243810/tstevens"}, "edited": false, "score": 0, "creation_date": 1480868732, "post_id": 40955770, "comment_id": 69130688, "body": "Yes, Win32::Process was the solution."}], "tags": [], "owner": {"reputation": 320771, "user_id": 589924, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/b2cf53d5a3d25f95c0db4e025aed4153?s=128&d=identicon&r=PG", "display_name": "ikegami", "link": "https://stackoverflow.com/users/589924/ikegami"}, "is_accepted": true, "score": 0, "last_activity_date": 1480829848, "creation_date": 1480829848, "answer_id": 40955770, "question_id": 40943676, "link": "https://stackoverflow.com/questions/40943676/execute-external-application-and-exit/40955770#40955770", "title": "Execute external application and exit", "body": "<p><code>exec</code> doesn't exist on Windows. (Perl tries to emulate it.)</p>\n\n<p>If you use <code>system</code> or <code>readpipe</code> (aka backticks), Perl will continue to run until the child finishes (although it will be idle).</p>\n\n<p>You need <a href=\"http://search.cpan.org/perldoc?Win32::Process\" rel=\"nofollow noreferrer\">Win32::Process</a> or <code>system('start \"\" ...')</code>.</p>\n"}], "owner": {"reputation": 11, "user_id": 7243810, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/znPqT.jpg?s=128&g=1", "display_name": "tstevens", "link": "https://stackoverflow.com/users/7243810/tstevens"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 81, "favorite_count": 0, "accepted_answer_id": 40955770, "answer_count": 1, "score": 0, "last_activity_date": 1480829848, "creation_date": 1480732532, "last_edit_date": 1480758714, "question_id": 40943676, "link": "https://stackoverflow.com/questions/40943676/execute-external-application-and-exit", "title": "Execute external application and exit", "body": "<p>I am running ActiveState perl 5 on win7 x64. The solution does not have to be cross-platform.</p>\n\n<p>I'm trying to use a Perl script to build a somewhat complex and variable command line argument string for another application. Then I want to execute that external application using the argument string while also immediately exiting the Perl script.</p>\n\n<p>The idea is to create shortcut icons that run the Perl script with different arguments, which should generate the proper command line, spawn the external app (feeding it the proper arguments), and then go away immediately.</p>\n\n<p>I can't seem to find any way to do this. It works if I use <code>exec()</code> and run the script from a command-line window (it returns to the command prompt right away after spawning the external app) but if I create a Windows shortcut using the same command, the Perl script just hangs around in the background forever until the spawned external app exits or I manually close the perl command window. </p>\n\n<p>Is there any way to do this? I've tried <code>system</code>, <code>exec</code>, backticks, a couple of other obscure things. Nothing is working. </p>\n"}, {"tags": ["java", "xml", "perl", "replace", "sed"], "answers": [{"comments": [{"owner": {"reputation": 27, "user_id": 6428851, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/eadf9ea1e05e6f067e4b46196d6b7491?s=128&d=identicon&r=PG&f=1", "display_name": "jatinshetty", "link": "https://stackoverflow.com/users/6428851/jatinshetty"}, "edited": false, "score": 1, "creation_date": 1480742631, "post_id": 40943142, "comment_id": 69100132, "body": "the code worked like a charm!! I was going all over the place with sed, perl, java trying to get it right!! thank you."}, {"owner": {"reputation": 3106, "user_id": 3624545, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/bcadb29b1777b2b577066ff56a012f72?s=128&d=identicon&r=PG&f=1", "display_name": "Fedor Losev", "link": "https://stackoverflow.com/users/3624545/fedor-losev"}, "reply_to_user": {"reputation": 27, "user_id": 6428851, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/eadf9ea1e05e6f067e4b46196d6b7491?s=128&d=identicon&r=PG&f=1", "display_name": "jatinshetty", "link": "https://stackoverflow.com/users/6428851/jatinshetty"}, "edited": false, "score": 1, "creation_date": 1481107264, "post_id": 40943142, "comment_id": 69237767, "body": "I&#39;m glad it was helpful. You can accept the answer, if you wish )"}], "tags": [], "owner": {"reputation": 3106, "user_id": 3624545, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/bcadb29b1777b2b577066ff56a012f72?s=128&d=identicon&r=PG&f=1", "display_name": "Fedor Losev", "link": "https://stackoverflow.com/users/3624545/fedor-losev"}, "is_accepted": false, "score": 0, "last_activity_date": 1481115128, "last_edit_date": 1481115128, "creation_date": 1480726711, "answer_id": 40943142, "question_id": 40942639, "link": "https://stackoverflow.com/questions/40942639/update-a-lot-of-xml-files-with-a-new-tag/40943142#40943142", "title": "Update a lot of xml files with a new tag", "body": "<p>This is by no means an efficient solution, but it should work just fine for 150 files. If you have SSD it should complete in a blink of an eye.</p>\n\n<p>It assumes you have tags on separate lines and new tag should be inserted after every  entry key=\"mergeTemplates\" (if it is not, depending on the case, the code can be slightly modified to use Matcher with chunked read instead of lines or read by two lines to detect second tag).</p>\n\n<pre><code>public void addTextAfterLine(String inputFolder, String prefixLine,\n        String text) throws IOException {\n    // iterate over files in input dir\n    try (DirectoryStream&lt;Path&gt; dirStream = Files\n            .newDirectoryStream(new File(inputFolder).toPath())) {\n        for (Path inputPath : dirStream) {\n            File inputFile = inputPath.toFile();\n            String inputFileName = inputFile.getName();\n            if (!inputFileName.endsWith(\".xml\") || inputFile.isDirectory())\n                continue;\n            File outputTmpFile = new File(inputFolder, inputFile.getName()\n                    + \".tmp\");\n            // read line by line and write to output\n            try (BufferedReader inputReader = new BufferedReader(\n                    new InputStreamReader(new FileInputStream(inputFile),\n                            StandardCharsets.UTF_8));\n                    BufferedWriter outputWriter = new BufferedWriter(\n                            new OutputStreamWriter(new FileOutputStream(\n                                    outputTmpFile), StandardCharsets.UTF_8))) {\n                String line = inputReader.readLine();\n                while (line != null) {\n                    outputWriter.write(line);\n                    outputWriter.write('\\n');\n                    if (line.equals(prefixLine)) {\n                        // add text after prefix line\n                        outputWriter.write(text);\n                    }\n                    line = inputReader.readLine();\n                }\n            }\n            // delete original file and rename modified to original name\n            Files.delete(inputPath);\n            outputTmpFile.renameTo(inputFile);\n        }\n    }\n}\n\npublic static void main(String[] args) throws IOException {\n    final String inputFolder = \"/tmp/xml/input\";\n    final String prefixLine = \"&lt;entry key=\\\"mergeTemplates\\\" value=\\\"false\\\"/&gt;\";\n    final String newText = \n            \"&lt;entry key=\\\"requestable\\\"&gt;\\n\"\n                    + \"    &lt;value&gt;\\n\"\n                    + \"      &lt;Boolean&gt;true&lt;/Boolean&gt;\\n\"\n                    + \"    &lt;/value&gt;\\n\"\n                    + \"&lt;/entry&gt;\\n\"              \n            ;\n    new TagInsertSample()\n            .addTextAfterLine(inputFolder, prefixLine, newText);\n}\n</code></pre>\n\n<p>You can also use an advanced editor (e.g. Notepad++ on Windows), with find and replace in files command. Just replace the line <code>&lt;entry key=\"mergeTemplates\" value=\"false\"/&gt;</code> with <code>&lt;entry key=\"mergeTemplates\" value=\"false\"/&gt;\\n..new entry</code>.</p>\n\n<p>There are many notes here that you should not process XML with text processing tool. This is true if you are developing a generic system or library, to process unknown files. However, just to achieve a task on your files with known format, there is no need for XML complications and text processing fits just fine.</p>\n\n<p>Preempting comments with the question \"how do you know it is not going to be a generic system\", I'm pretty confident that while developing a generic production system nobody will ask for \"java, perl, Unix sed or any other tool\".</p>\n"}, {"comments": [{"owner": {"reputation": 51521, "user_id": 2566198, "user_type": "registered", "accept_rate": 67, "profile_image": "https://i.stack.imgur.com/Y34ZA.jpg?s=128&g=1", "display_name": "Sobrique", "link": "https://stackoverflow.com/users/2566198/sobrique"}, "edited": false, "score": 0, "creation_date": 1481112064, "post_id": 40946270, "comment_id": 69240905, "body": "Wasn&#39;t my DV, but at a guess because parsing <code>XML</code> with <code>regex</code> is a very bad practice, because you&#39;re using regular expressions on a language that <i>isn&#39;t</i> regular."}, {"owner": {"reputation": 41196, "user_id": 887539, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/5baef9617bdee6db2f534c118bcbccee?s=128&d=identicon&r=PG", "display_name": "andlrc", "link": "https://stackoverflow.com/users/887539/andlrc"}, "reply_to_user": {"reputation": 51521, "user_id": 2566198, "user_type": "registered", "accept_rate": 67, "profile_image": "https://i.stack.imgur.com/Y34ZA.jpg?s=128&g=1", "display_name": "Sobrique", "link": "https://stackoverflow.com/users/2566198/sobrique"}, "edited": false, "score": 1, "creation_date": 1481115322, "post_id": 40946270, "comment_id": 69243071, "body": "@Sobrique True, but sometimes it&#39;s ok for simply substitutions."}], "tags": [], "owner": {"reputation": 41196, "user_id": 887539, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/5baef9617bdee6db2f534c118bcbccee?s=128&d=identicon&r=PG", "display_name": "andlrc", "link": "https://stackoverflow.com/users/887539/andlrc"}, "is_accepted": false, "score": 0, "last_activity_date": 1480770177, "last_edit_date": 1480770177, "creation_date": 1480757455, "answer_id": 40946270, "question_id": 40942639, "link": "https://stackoverflow.com/questions/40942639/update-a-lot-of-xml-files-with-a-new-tag/40946270#40946270", "title": "Update a lot of xml files with a new tag", "body": "<p>With sed these things are relatively easy:</p>\n\n<p>You can match an address with a regex:</p>\n\n<pre><code>/^&lt;entry key=\"mergeTemplates\" value=\"false\"\\/&gt;$/\n</code></pre>\n\n<p>See how there is a few characters that needs to be escaped as they would have special meaning. Also uses <code>^</code> (start of input) and <code>$</code> (end of input).</p>\n\n<p>When you have an address you can run a command on in, in this case we want the <code>a</code>ppend command:</p>\n\n<pre><code>/^&lt;entry key=\"mergeTemplates\" value=\"false\"\\/&gt;$/a\\\n&lt;entry key=\"requestable\"&gt;\\\n  &lt;value&gt;\\\n    &lt;Boolean&gt;true&lt;/Boolean&gt;\\\n  &lt;/value&gt;\\\n&lt;/entry&gt;\n</code></pre>\n\n<p>That's is that's the full sed script. To run it you can save it in a file (insert_xml.sed), and use <code>sed -f</code>:</p>\n\n<pre><code>sed -f insert_xml.sed input_file.xml\n</code></pre>\n\n<p>Use the <code>-i</code> flag to make inplace edits, it will either be <code>-i</code> (GNU) or <code>-i ''</code> (Free BSD). Using <code>-i.bak</code> (GNU) or <code>-i .bak</code> (Free BSD) will create a backup with the filename plus <code>.bak</code></p>\n\n<p>And then write a for loop for the files needing the update:</p>\n\n<pre><code>for file in *.xml; do\n  sed -i.bak -f insert_xml.sed \"$file\"\ndone\n</code></pre>\n"}, {"comments": [{"owner": {"reputation": 3106, "user_id": 3624545, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/bcadb29b1777b2b577066ff56a012f72?s=128&d=identicon&r=PG&f=1", "display_name": "Fedor Losev", "link": "https://stackoverflow.com/users/3624545/fedor-losev"}, "edited": false, "score": 1, "creation_date": 1481113630, "post_id": 40973476, "comment_id": 69241913, "body": "If one just needs to process a bunch of specific files with well known formatting, there is actually no reason to avoid fast and simple plain text processing. XML file content is a subset of generic text, after all."}, {"owner": {"reputation": 51521, "user_id": 2566198, "user_type": "registered", "accept_rate": 67, "profile_image": "https://i.stack.imgur.com/Y34ZA.jpg?s=128&g=1", "display_name": "Sobrique", "link": "https://stackoverflow.com/users/2566198/sobrique"}, "edited": false, "score": 0, "creation_date": 1481113985, "post_id": 40973476, "comment_id": 69242131, "body": "I don&#39;t agree. <code>XML</code> is contextual, and regex isn&#39;t. Thus a regex solution will <i>always</i> be brittle and hacky, because <code>XML</code> can change format in a bunch of perfectly valid ways that&#39;ll break regex messily."}, {"owner": {"reputation": 3106, "user_id": 3624545, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/bcadb29b1777b2b577066ff56a012f72?s=128&d=identicon&r=PG&f=1", "display_name": "Fedor Losev", "link": "https://stackoverflow.com/users/3624545/fedor-losev"}, "edited": false, "score": 0, "creation_date": 1481114376, "post_id": 40973476, "comment_id": 69242402, "body": "I completely agree, if you develop a library or a production system. But if you need to merely update your specific files, with specific data, not always there is a need to over-complicate it and design all bells an whistles. In this case there is no regex, just find and replace text line."}, {"owner": {"reputation": 3106, "user_id": 3624545, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/bcadb29b1777b2b577066ff56a012f72?s=128&d=identicon&r=PG&f=1", "display_name": "Fedor Losev", "link": "https://stackoverflow.com/users/3624545/fedor-losev"}, "edited": false, "score": 0, "creation_date": 1481115375, "post_id": 40973476, "comment_id": 69243114, "body": "I expanded my answer to explain why I think plain text processing is good enough here."}], "tags": [], "owner": {"reputation": 3089, "user_id": 6165935, "user_type": "registered", "profile_image": "https://lh4.googleusercontent.com/-5SjwIcK5M8I/AAAAAAAAAAI/AAAAAAAAAFQ/xyQQHb_jXoQ/photo.jpg?sz=128", "display_name": "Michael Vehrs", "link": "https://stackoverflow.com/users/6165935/michael-vehrs"}, "is_accepted": false, "score": 1, "last_activity_date": 1480938099, "creation_date": 1480938099, "answer_id": 40973476, "question_id": 40942639, "link": "https://stackoverflow.com/questions/40942639/update-a-lot-of-xml-files-with-a-new-tag/40973476#40973476", "title": "Update a lot of xml files with a new tag", "body": "<p>In general, you should not attempt to process XML data with line-oriented tools. Use something like <code>xmlstarlet</code> instead:</p>\n\n<pre><code>xmlstarlet ed -i \"//entry[@key='sysDescriptions']\" -t elem -n \"new_entry\" \\\n    -i \"//new_entry\" -t attr -n \"key\" -v \"requestable\" \\\n    --subnode \"//new_entry\" -t elem -n \"value\" \\\n    --subnode \"//new_entry/value\" -t elem -n \"Boolean\" \\\n    --subnode \"//new_entry/value/Boolean\" -t text -n \"dummy\" -v \"true\" \\\n    -r \"//new_entry\" -v \"entry\" input.xml\n</code></pre>\n\n<p>For the sake of readability, I inserted a new element called <code>new_entry</code>, and finally renamed it. Make sure that no such element exists in your input file.</p>\n"}, {"tags": [], "owner": {"reputation": 51521, "user_id": 2566198, "user_type": "registered", "accept_rate": 67, "profile_image": "https://i.stack.imgur.com/Y34ZA.jpg?s=128&g=1", "display_name": "Sobrique", "link": "https://stackoverflow.com/users/2566198/sobrique"}, "is_accepted": false, "score": 1, "last_activity_date": 1481116646, "last_edit_date": 1495541323, "creation_date": 1481112996, "answer_id": 41017279, "question_id": 40942639, "link": "https://stackoverflow.com/questions/40942639/update-a-lot-of-xml-files-with-a-new-tag/41017279#41017279", "title": "Update a lot of xml files with a new tag", "body": "<p>You've tagged it perl, so I'll offer a perl solution. The best advice I can offer generally is to use a parser because XML is a parsable language, and good ones exist. I particularly like <code>XML::Twig</code> for this sort of job (<code>XML::LibXML</code> is pretty good too, but doesn't do inplace editing). </p>\n\n<p>I strongly urge avoiding regular expressions - <a href=\"https://stackoverflow.com/questions/1732348/regex-match-open-tags-except-xhtml-self-contained-tags/1732454#1732454\"><code>XML</code> is not well suited to parsing via regex, because it's contextual and regex isn't</a>. </p>\n\n<p>here's a bunch of perfectly valid changes to XML you can make, like unary tags, indenting and line splitting that leave it semantically identical, but break regex messily. Thus a future change that someone makes - that as far as they're concerned is valid/trivial like reformatting the XML - will break 'downstream' because your script doesn't handle it properly. Furthermore - <code>xpath</code> is a lot like regex, but <em>is</em> contextual and thus well suited to <code>XML</code> parsing/processing. </p>\n\n<pre><code>#!/usr/bin/env perl\nuse warnings;\nuse strict;\n\nuse XML::Twig;\n\nmy $twig = XML::Twig -&gt; parse (\\*DATA); \n\nmy $to_insert = XML::Twig::Elt -&gt; new (   'entry', {key =&gt; \"requestable\"} );\n$to_insert -&gt; insert_new_elt ( 'value' ) -&gt; insert_new_elt('Boolean', \"true\" );\n\nprint \"Generated new XML:\\n\";\n$to_insert -&gt; print;\n\nmy $insert_this = $to_insert -&gt; cut;\n\nmy $insert_after = $twig -&gt; findnodes ('//entry[@key=\"mergeTemplates\"]',0);\n$to_insert -&gt; paste ( after =&gt; $insert_after );\n\nprint \"Generated XML:\\n\";\n$twig -&gt; set_pretty_print('indented'); \n$twig -&gt; print;\n\n\n__DATA__\n&lt;xml&gt;\n&lt;entry key=\"mergeTemplates\" value=\"false\"/&gt;\n&lt;entry key=\"sysDescriptions\"/&gt;\n&lt;/xml&gt;\n</code></pre>\n\n<p>This can be adapted to using <code>XML::Twig</code>'s <code>parsefile_inplace</code> method quite handily:</p>\n\n<pre><code>#!/usr/bin/env perl\nuse warnings;\nuse strict;\nuse XML::Twig;\n\nsub insert_merge {\n   my ( $twig, $insert_after ) = @_;\n\n   my $to_insert = XML::Twig::Elt-&gt;new( 'entry', { key =&gt; \"requestable\" } );\n   $to_insert-&gt;insert_new_elt('value')-&gt;insert_new_elt( 'Boolean', \"true\" );\n\n   $to_insert-&gt;paste( after =&gt; $insert_after );\n   $twig -&gt; flush;\n}\n\nmy $twig =\n  XML::Twig-&gt;new(\n   twig_handlers =&gt; { '//entry[@key=\"mergeTemplates\"]' =&gt; \\&amp;insert_merge },\n   pretty_print =&gt; 'indented' );\n\n #glob finds files, if you want something more extensive then File::Find::Rule\nforeach my $filename ( glob ( \"/path/to/dir/*xml\" ) ) { \n    $twig-&gt;parsefile_inplace($filename); \n}\n</code></pre>\n"}], "owner": {"reputation": 27, "user_id": 6428851, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/eadf9ea1e05e6f067e4b46196d6b7491?s=128&d=identicon&r=PG&f=1", "display_name": "jatinshetty", "link": "https://stackoverflow.com/users/6428851/jatinshetty"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 90, "favorite_count": 0, "answer_count": 4, "score": -3, "last_activity_date": 1481116646, "creation_date": 1480722743, "question_id": 40942639, "link": "https://stackoverflow.com/questions/40942639/update-a-lot-of-xml-files-with-a-new-tag", "title": "Update a lot of xml files with a new tag", "body": "<p>I have around 150 xml files placed in a folder that needs to be updated with a new tag.</p>\n\n<p><strong>Current:</strong></p>\n\n<pre><code>&lt;entry key=\"mergeTemplates\" value=\"false\"/&gt;\n&lt;entry key=\"sysDescriptions\"/&gt;\n</code></pre>\n\n<p><strong>New:</strong></p>\n\n<pre><code>  &lt;entry key=\"mergeTemplates\" value=\"false\"/&gt;\n  &lt;entry key=\"requestable\"&gt;\n    &lt;value&gt;\n      &lt;Boolean&gt;true&lt;/Boolean&gt;\n    &lt;/value&gt;\n  &lt;/entry&gt;\n  &lt;entry key=\"sysDescriptions\"&gt;\n</code></pre>\n\n<p>I did try java's \"replace\" method. But wasnt able to accomplish it.\nTried the \"sed\" command on Unix as well. </p>\n\n<p>Any suggestions on the best way or tool to accomplish this?</p>\n"}, {"tags": ["arrays", "perl", "parsing", "split"], "comments": [{"owner": {"reputation": 123805, "user_id": 622310, "user_type": "registered", "accept_rate": 33, "profile_image": "https://www.gravatar.com/avatar/8b6d35219e1808520bc238b28161e2e6?s=128&d=identicon&r=PG", "display_name": "Borodin", "link": "https://stackoverflow.com/users/622310/borodin"}, "edited": false, "score": 0, "creation_date": 1480799524, "post_id": 40941881, "comment_id": 69114837, "body": "<i>Please change your username to something we can type without checking each character one at a time.</i>"}, {"owner": {"reputation": 50468, "user_id": 1331451, "user_type": "registered", "accept_rate": 96, "profile_image": "https://i.stack.imgur.com/4ZPmj.png?s=128&g=1", "display_name": "simbabque", "link": "https://stackoverflow.com/users/1331451/simbabque"}, "reply_to_user": {"reputation": 123805, "user_id": 622310, "user_type": "registered", "accept_rate": 33, "profile_image": "https://www.gravatar.com/avatar/8b6d35219e1808520bc238b28161e2e6?s=128&d=identicon&r=PG", "display_name": "Borodin", "link": "https://stackoverflow.com/users/622310/borodin"}, "edited": false, "score": 0, "creation_date": 1480804628, "post_id": 40941881, "comment_id": 69116251, "body": "@Borodin there&#39;s the tab autocomplete. Does that not work for you? This one at least picked a name and a picture and isn&#39;t just <i>user123123123</i>. :)"}, {"owner": {"reputation": 123805, "user_id": 622310, "user_type": "registered", "accept_rate": 33, "profile_image": "https://www.gravatar.com/avatar/8b6d35219e1808520bc238b28161e2e6?s=128&d=identicon&r=PG", "display_name": "Borodin", "link": "https://stackoverflow.com/users/622310/borodin"}, "reply_to_user": {"reputation": 50468, "user_id": 1331451, "user_type": "registered", "accept_rate": 96, "profile_image": "https://i.stack.imgur.com/4ZPmj.png?s=128&g=1", "display_name": "simbabque", "link": "https://stackoverflow.com/users/1331451/simbabque"}, "edited": false, "score": 0, "creation_date": 1480805469, "post_id": 40941881, "comment_id": 69116483, "body": "@Simbabque: Not on the tablet that I have to use most of the time. In any case, I think it&#39;s bad manners to select a username that is unpronounceable. <code>123123123</code> I can at least pronounce and type without constantly referring back. I wonder why anyone would want to change their default username <code>user9999999</code> assigned by SO to something like this."}, {"owner": {"reputation": 50468, "user_id": 1331451, "user_type": "registered", "accept_rate": 96, "profile_image": "https://i.stack.imgur.com/4ZPmj.png?s=128&g=1", "display_name": "simbabque", "link": "https://stackoverflow.com/users/1331451/simbabque"}, "edited": false, "score": 1, "creation_date": 1480806423, "post_id": 40941881, "comment_id": 69116733, "body": "@B good point about the tablet. My phone keyboard&#39;s autocomplete has <i>@Borodin</i>, <i>@ikegami</i> and a few others from around here when I type an <i>@</i>. (It also has a bunch of Ingress screen names because that uses the same syntax in its chat). What I do is just type the first letter. That&#39;s enough for SO to highlight if there is only one person with a name starting with it."}], "answers": [{"comments": [{"owner": {"reputation": 320771, "user_id": 589924, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/b2cf53d5a3d25f95c0db4e025aed4153?s=128&d=identicon&r=PG", "display_name": "ikegami", "link": "https://stackoverflow.com/users/589924/ikegami"}, "edited": false, "score": 0, "creation_date": 1480720388, "post_id": 40941924, "comment_id": 69095961, "body": "This relies on using the list assignment operator in scalar context, which returns the number of values to which its RHS evaluated. <a href=\"http://www.perlmonks.org/?node_id=790129\" rel=\"nofollow noreferrer\">Mini-Tutorial: Scalar vs List Assignment Operator</a> explains the two different assignment operators and what they return in each context."}], "tags": [], "owner": {"reputation": 27022, "user_id": 182693, "user_type": "registered", "accept_rate": 77, "profile_image": "https://www.gravatar.com/avatar/7e4422dd860fce9b9f3c024c8655c7d2?s=128&d=identicon&r=PG&f=1", "display_name": "Sean", "link": "https://stackoverflow.com/users/182693/sean"}, "is_accepted": true, "score": 1, "last_activity_date": 1480722011, "last_edit_date": 1480722011, "creation_date": 1480718240, "answer_id": 40941924, "question_id": 40941881, "link": "https://stackoverflow.com/questions/40941881/perl-more-concise-way-to-branch-based-on-whether-split-succeeded/40941924#40941924", "title": "perl: More concise way to branch based on whether split succeeded?", "body": "<p>Sure:</p>\n\n<pre><code>foreach (@lines) {\n  if (2 == (my ($ipaddr, $hostname) = split)) {\n    # Got exactly two fields\n  }\n}\n</code></pre>\n\n<p>So if you just want to skip bad lines, you can simply use:</p>\n\n<pre><code>foreach (@lines) {\n  2 == (my ($ipaddr, $hostname) = split)\n    or next;\n\n  # Got exactly two fields\n}\n</code></pre>\n\n<p>Don't forget to remove trailing whitespace from your lines first (such as by using <code>chomp</code> to remove line feeds) or it will mess up your field count.</p>\n\n<p>You can change the <code>==</code> to <code>&lt;=</code> if there might be more fields.</p>\n"}, {"tags": [], "owner": {"reputation": 123805, "user_id": 622310, "user_type": "registered", "accept_rate": 33, "profile_image": "https://www.gravatar.com/avatar/8b6d35219e1808520bc238b28161e2e6?s=128&d=identicon&r=PG", "display_name": "Borodin", "link": "https://stackoverflow.com/users/622310/borodin"}, "is_accepted": false, "score": 0, "last_activity_date": 1480806523, "creation_date": 1480806523, "answer_id": 40953530, "question_id": 40941881, "link": "https://stackoverflow.com/questions/40941881/perl-more-concise-way-to-branch-based-on-whether-split-succeeded/40953530#40953530", "title": "perl: More concise way to branch based on whether split succeeded?", "body": "<p>I think I would prefer a regex match:</p>\n\n<pre><code>for ( @lines ) {\n\n    next unless my ($ipaddr, $hostname) = /(\\S+)\\s+(\\S+)/;\n\n    # use $ipaddr &amp; $hostname\n\n}\n</code></pre>\n\n<p>This is different from the original in that it will succeed if <em>more than</em> two non-space substrings are found, but a fix is simple if it is necessary.</p>\n"}], "owner": {"reputation": 51, "user_id": 3352219, "user_type": "registered", "accept_rate": 20, "profile_image": "https://i.stack.imgur.com/69UYj.jpg?s=128&g=1", "display_name": "ePhrygian", "link": "https://stackoverflow.com/users/3352219/ephrygian"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 48, "favorite_count": 0, "accepted_answer_id": 40941924, "answer_count": 2, "score": 0, "last_activity_date": 1480806523, "creation_date": 1480717981, "question_id": 40941881, "link": "https://stackoverflow.com/questions/40941881/perl-more-concise-way-to-branch-based-on-whether-split-succeeded", "title": "perl: More concise way to branch based on whether split succeeded?", "body": "<p>I know split returns the number of fields parsed, if it assigned to a scalar; and returns an array if assigned to an array.</p>\n\n<p>Is there a way to check whether a line is successfully parsed without having to call split twice (once to check how many fields were parsed, and, if the correct number of fields were parsed, a second time to return the fields in an array)?</p>\n\n<pre><code>foreach (@lines) {\n\n  if ( split ) {\n    my ($ipaddr, $hostname) = split;\n  }\n\n}\n</code></pre>\n\n<p>.. I need to check whether the split succeeded in order to avoid later uninitialized references to $ipaddr and $hostname. Just seems like I ought to be able to combine the two calls to split into a single call.</p>\n"}, {"tags": ["bash", "perl", "unix", "sed", "tr"], "comments": [{"owner": {"reputation": 658023, "user_id": 548225, "user_type": "registered", "accept_rate": 90, "profile_image": "https://www.gravatar.com/avatar/dab08478b226280d4a30894c9a7ed719?s=128&d=identicon&r=PG", "display_name": "anubhava", "link": "https://stackoverflow.com/users/548225/anubhava"}, "edited": false, "score": 1, "creation_date": 1480718154, "post_id": 40941877, "comment_id": 69095276, "body": "<code>sed &#39;s&#47; &#47;\\n&#47;g&#39; file</code> should work"}, {"owner": {"reputation": 41196, "user_id": 887539, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/5baef9617bdee6db2f534c118bcbccee?s=128&d=identicon&r=PG", "display_name": "andlrc", "link": "https://stackoverflow.com/users/887539/andlrc"}, "reply_to_user": {"reputation": 658023, "user_id": 548225, "user_type": "registered", "accept_rate": 90, "profile_image": "https://www.gravatar.com/avatar/dab08478b226280d4a30894c9a7ed719?s=128&d=identicon&r=PG", "display_name": "anubhava", "link": "https://stackoverflow.com/users/548225/anubhava"}, "edited": false, "score": 0, "creation_date": 1480718286, "post_id": 40941877, "comment_id": 69095323, "body": "@anubhava As well should the <code>tr</code>, at least with the test data. One might want to use <code>$&#39;\\n&#39;</code> for literal newline though."}, {"owner": {"reputation": 7292, "user_id": 1268941, "user_type": "registered", "accept_rate": 78, "profile_image": "https://www.gravatar.com/avatar/d27dc0d604e075ad3281aeb013a419c7?s=128&d=identicon&r=PG&f=1", "display_name": "brucezepplin", "link": "https://stackoverflow.com/users/1268941/brucezepplin"}, "edited": false, "score": 0, "creation_date": 1480718423, "post_id": 40941877, "comment_id": 69095353, "body": "the weird thing is - that I have tried this (see question) and it doesn;t work. I am completely baffled!"}, {"owner": {"reputation": 16325, "user_id": 3220113, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/2a1c0b015f14adfdf581d04c065e903d?s=128&d=identicon&r=PG&f=1", "display_name": "Walter A", "link": "https://stackoverflow.com/users/3220113/walter-a"}, "edited": false, "score": 0, "creation_date": 1480718502, "post_id": 40941877, "comment_id": 69095376, "body": "Do you have a tab there or is it really a space. Try <code>sed &#39;s&#47; &#47;xxx&#47;&#39;</code>."}, {"owner": {"reputation": 53041, "user_id": 4653379, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/b3953dbedd0dabff5cbc3db9b0835b14?s=128&d=identicon&r=PG&f=1", "display_name": "zdim", "link": "https://stackoverflow.com/users/4653379/zdim"}, "edited": false, "score": 0, "creation_date": 1480738811, "post_id": 40941877, "comment_id": 69099484, "body": "@brucezepplin  I didn&#39;t see your comment above when I posted my answer -- did you try with something other than the literal space, like <code>\\s</code> (in Perl) that matches any kind of space?"}, {"owner": {"reputation": 205702, "user_id": 7552, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/b60298053f87465641c1b1192338c8cd?s=128&d=identicon&r=PG", "display_name": "glenn jackman", "link": "https://stackoverflow.com/users/7552/glenn-jackman"}, "edited": false, "score": 3, "creation_date": 1480778392, "post_id": 40941877, "comment_id": 69108311, "body": "@brucezepplin, &quot;it doesn&#39;t work&quot; is the most useless problem description -- you need to show us <b>how</b> it doesn&#39;t work? What is your <i>actual output</i>?"}, {"owner": {"reputation": 53041, "user_id": 4653379, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/b3953dbedd0dabff5cbc3db9b0835b14?s=128&d=identicon&r=PG&f=1", "display_name": "zdim", "link": "https://stackoverflow.com/users/4653379/zdim"}, "edited": false, "score": 0, "creation_date": 1480816087, "post_id": 40941877, "comment_id": 69118693, "body": "@brucezepplin  Your examples show the pattern before the space being repeated on (copied to) the next line.   I added to my answer so to do that as well. Please clarify."}, {"owner": {"reputation": 53041, "user_id": 4653379, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/b3953dbedd0dabff5cbc3db9b0835b14?s=128&d=identicon&r=PG&f=1", "display_name": "zdim", "link": "https://stackoverflow.com/users/4653379/zdim"}, "edited": false, "score": 0, "creation_date": 1480909834, "post_id": 40941877, "comment_id": 69143164, "body": "Example on &quot;<i>UPDATE</i>&quot; and &quot;<i>how does this even happen</i>&quot;.  Try this in a shell: <code>echo &quot;\\033[31mhey&quot;</code>.  It should print <code>hey</code> in red. The <code>\\033</code> (escape) and <code>[</code> start an ANSI escape sequence, <code>m</code> ends it, and <code>31</code> specifies red.  Now put this in a file.  Some tools emit this raw so terminal produces colored text, like <code>cat</code> and <code>grep</code>.  Some don&#39;t, and we see literal characters, like <code>less</code> (<code>less -R</code> or <code>-r</code> does, see man page).  There are many escapes (you can move the cursor, for example),  and some don&#39;t have an obvious effect. Some may simply not work. So we don&#39;t see that they are there."}], "answers": [{"comments": [{"owner": {"reputation": 7292, "user_id": 1268941, "user_type": "registered", "accept_rate": 78, "profile_image": "https://www.gravatar.com/avatar/d27dc0d604e075ad3281aeb013a419c7?s=128&d=identicon&r=PG&f=1", "display_name": "brucezepplin", "link": "https://stackoverflow.com/users/1268941/brucezepplin"}, "edited": false, "score": 0, "creation_date": 1480718904, "post_id": 40941958, "comment_id": 69095511, "body": "definately just a single space"}, {"owner": {"reputation": 155597, "user_id": 1745001, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/99a3ebae89496eb16afe453aae97f5be?s=128&d=identicon&r=PG", "display_name": "Ed Morton", "link": "https://stackoverflow.com/users/1745001/ed-morton"}, "edited": false, "score": 1, "creation_date": 1480776764, "post_id": 40941958, "comment_id": 69107839, "body": "That is indeed <code>***ed up sed</code>, we may disagree on what the <code>*</code>s represent :-). What&#39;s the point? Its just so much simpler, more efficient, more portable, more easily extensible and better in every other way to do things like this in awk. Let all the arcane sed constructs die and stick with what it&#39;s good for - <code>s&#47;x&#47;y&#47;</code>."}, {"owner": {"reputation": 41196, "user_id": 887539, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/5baef9617bdee6db2f534c118bcbccee?s=128&d=identicon&r=PG", "display_name": "andlrc", "link": "https://stackoverflow.com/users/887539/andlrc"}, "reply_to_user": {"reputation": 155597, "user_id": 1745001, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/99a3ebae89496eb16afe453aae97f5be?s=128&d=identicon&r=PG", "display_name": "Ed Morton", "link": "https://stackoverflow.com/users/1745001/ed-morton"}, "edited": false, "score": 0, "creation_date": 1480806479, "post_id": 40941958, "comment_id": 69116749, "body": "@EdMorton AFAIK POSIX sed doesn&#39;t strictly specify <code>\\n</code> in the replacement part. And this substitutes spaces for newlines. Please show me how this would be done with awk, as your answer doesn&#39;t show it."}, {"owner": {"reputation": 41196, "user_id": 887539, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/5baef9617bdee6db2f534c118bcbccee?s=128&d=identicon&r=PG", "display_name": "andlrc", "link": "https://stackoverflow.com/users/887539/andlrc"}, "reply_to_user": {"reputation": 155597, "user_id": 1745001, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/99a3ebae89496eb16afe453aae97f5be?s=128&d=identicon&r=PG", "display_name": "Ed Morton", "link": "https://stackoverflow.com/users/1745001/ed-morton"}, "edited": false, "score": 0, "creation_date": 1480822246, "post_id": 40941958, "comment_id": 69119730, "body": "@EdMorton The sed above changes <code>&gt;abc def</code> to <code>&gt;abc abcdef</code> where the space is a newline. I answered the question with a question, since OP expected output is saying that what they want."}, {"owner": {"reputation": 155597, "user_id": 1745001, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/99a3ebae89496eb16afe453aae97f5be?s=128&d=identicon&r=PG", "display_name": "Ed Morton", "link": "https://stackoverflow.com/users/1745001/ed-morton"}, "edited": false, "score": 0, "creation_date": 1480825116, "post_id": 40941958, "comment_id": 69120245, "body": "Well, so he is. He cunningly camouflaged his output by using sequences of the same 2 characters to make it hard for us to see what he was doing with them. Not sure that was a great way to get answers but there y&#39;go. OK, I&#39;ve updated my answer."}], "tags": [], "owner": {"reputation": 41196, "user_id": 887539, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/5baef9617bdee6db2f534c118bcbccee?s=128&d=identicon&r=PG", "display_name": "andlrc", "link": "https://stackoverflow.com/users/887539/andlrc"}, "is_accepted": false, "score": 2, "last_activity_date": 1480718481, "creation_date": 1480718481, "answer_id": 40941958, "question_id": 40941877, "link": "https://stackoverflow.com/questions/40941877/shift-the-rest-of-the-line-to-a-newline-after-a-space/40941958#40941958", "title": "shift the rest of the line to a newline after a space", "body": "<p>Are you trying to move the content from before the space onto the next line as well?</p>\n\n<p>As in <code>&gt;A BC</code> becomes:</p>\n\n<pre><code>&gt;A\nABC\n</code></pre>\n\n<p>Then one can use sed like this:</p>\n\n<pre><code>$ sed 'h;s/^&gt;\\([^ ]*\\) /\\1/;x;s/ .*/ /;G' file\n&gt;AB \nABABABABA\n&gt;AC \nACACACACA\n</code></pre>\n\n<p>Breakdown:</p>\n\n<pre><code>h;                                # Copy pattern space to hold buffer\n  s/^&gt;\\([^ ]*\\) /\\1/;             # Convert &gt;A BC to ABC \n                     x;           # eXchange hold buffer and pattern space\n                       s/ .*/ /;  # Remove everything after, but including the\n                                  # first space: &gt;A BC -&gt; &gt;A\n                                G # Append hold buffer to pattern space\n</code></pre>\n"}, {"tags": [], "owner": {"reputation": 53041, "user_id": 4653379, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/b3953dbedd0dabff5cbc3db9b0835b14?s=128&d=identicon&r=PG&f=1", "display_name": "zdim", "link": "https://stackoverflow.com/users/4653379/zdim"}, "is_accepted": true, "score": 2, "last_activity_date": 1480963551, "last_edit_date": 1495542269, "creation_date": 1480728113, "answer_id": 40943283, "question_id": 40941877, "link": "https://stackoverflow.com/questions/40941877/shift-the-rest-of-the-line-to-a-newline-after-a-space/40943283#40943283", "title": "shift the rest of the line to a newline after a space", "body": "<p>It seems that you need to replace (any kind of) space with a newline</p>\n\n<pre><code>perl -pe 's/\\s+/\\n/' data.txt\n</code></pre>\n\n<p>This produces the required output in my tests. The <code>-p</code> sets up the loop over input (opening files or using <code>STDIN</code>) and sets <code>$_</code> to the current line. It also prints <code>$_</code> each time after processing.</p>\n\n<p>If there are multiple spaces, each to be replaced by <code>\\n</code>, add <code>/g</code> modifier.</p>\n\n<p>If there may be more to do you can also capture patterns and replace them</p>\n\n<pre><code>perl -pe 's/\\s+(.*)/\\n$1/' data.txt\n</code></pre>\n\n<hr>\n\n<p>Following the observation in the <a href=\"https://stackoverflow.com/a/40949358/4653379\">answer by glenn jackman</a> and looking \"<em>more closely</em>\" it appears that the first word on the line need be copied to the next line.  Then the above is modified to</p>\n\n<pre><code>perl -pe 's/^&gt;(\\S+)\\K\\s+/\\n$1';\n</code></pre>\n\n<p>The <code>\\K</code> is a particular form of the <a href=\"http://perldoc.perl.org/perlretut.html#Looking-ahead-and-looking-behind\" rel=\"nofollow noreferrer\">positive lookbehind</a>, which <em>asserts</em> that the pattern preceeds the current match position but it discards all previous matches (so you don't have to capture and copy them). You can find it <a href=\"http://perldoc.perl.org/perlre.html#Extended-Patterns\" rel=\"nofollow noreferrer\">in perlre</a>. Without it the <code>&gt;(\\S+)</code> would be consumed so it would have to be copied back in the replacement part, as <code>/&gt;$1\\n$1/</code>.</p>\n"}, {"tags": [], "owner": {"reputation": 155597, "user_id": 1745001, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/99a3ebae89496eb16afe453aae97f5be?s=128&d=identicon&r=PG", "display_name": "Ed Morton", "link": "https://stackoverflow.com/users/1745001/ed-morton"}, "is_accepted": false, "score": 1, "last_activity_date": 1480825102, "last_edit_date": 1480825102, "creation_date": 1480775840, "answer_id": 40948900, "question_id": 40941877, "link": "https://stackoverflow.com/questions/40941877/shift-the-rest-of-the-line-to-a-newline-after-a-space/40948900#40948900", "title": "shift the rest of the line to a newline after a space", "body": "<p>sed is for simple substitutions on individual lines, that is all. For anything else you should be using awk, e.g.:</p>\n\n<pre><code>$ awk '{print $1 ORS substr($1,2) $2}' file\n&gt;AB\nABABABABA\n&gt;AC\nACACACACA\n</code></pre>\n"}, {"comments": [{"owner": {"reputation": 123805, "user_id": 622310, "user_type": "registered", "accept_rate": 33, "profile_image": "https://www.gravatar.com/avatar/8b6d35219e1808520bc238b28161e2e6?s=128&d=identicon&r=PG", "display_name": "Borodin", "link": "https://stackoverflow.com/users/622310/borodin"}, "edited": false, "score": 0, "creation_date": 1480800162, "post_id": 40949358, "comment_id": 69115024, "body": "<code>perl -pe &#39;s&#47;^&gt;(\\S+)\\K\\s+&#47;\\n$1&#47;&#39; file</code>"}, {"owner": {"reputation": 41196, "user_id": 887539, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/5baef9617bdee6db2f534c118bcbccee?s=128&d=identicon&r=PG", "display_name": "andlrc", "link": "https://stackoverflow.com/users/887539/andlrc"}, "edited": false, "score": 0, "creation_date": 1480806647, "post_id": 40949358, "comment_id": 69116801, "body": "Does POSIX sed specify <code>\\n</code> in the replacement, isn&#39;t that implementation specific? POSIX sed specified <code>\\n</code> in search part though. One should consider using <code>sed -E</code> as it&#39;s supported by Free BSD as well as GNU, while <code>sed -r</code> is GNU only."}, {"owner": {"reputation": 205702, "user_id": 7552, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/b60298053f87465641c1b1192338c8cd?s=128&d=identicon&r=PG", "display_name": "glenn jackman", "link": "https://stackoverflow.com/users/7552/glenn-jackman"}, "edited": false, "score": 0, "creation_date": 1480815908, "post_id": 40949358, "comment_id": 69118659, "body": "To how many different operating systems are you planning to deploy your script? IMO, POSIX compliance is of limited value if you are sticking to a single OS."}, {"owner": {"reputation": 41196, "user_id": 887539, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/5baef9617bdee6db2f534c118bcbccee?s=128&d=identicon&r=PG", "display_name": "andlrc", "link": "https://stackoverflow.com/users/887539/andlrc"}, "edited": false, "score": 0, "creation_date": 1480822415, "post_id": 40949358, "comment_id": 69119765, "body": "@glennjackman That was not my question. I&#39;m genially interested in knowing."}], "tags": [], "owner": {"reputation": 205702, "user_id": 7552, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/b60298053f87465641c1b1192338c8cd?s=128&d=identicon&r=PG", "display_name": "glenn jackman", "link": "https://stackoverflow.com/users/7552/glenn-jackman"}, "is_accepted": false, "score": 2, "last_activity_date": 1480778754, "creation_date": 1480778754, "answer_id": 40949358, "question_id": 40941877, "link": "https://stackoverflow.com/questions/40941877/shift-the-rest-of-the-line-to-a-newline-after-a-space/40949358#40949358", "title": "shift the rest of the line to a newline after a space", "body": "<p>Looking more closely it looks like you want to repeat the first word on the next line: to transform this</p>\n\n<pre><code>&gt;foo bar\n&gt;baz qux\n</code></pre>\n\n<p>into this</p>\n\n<pre><code>&gt;foo\nfoobar\n&gt;baz\nbazqux\n</code></pre>\n\n<p>If that's true, you can do </p>\n\n<pre><code>sed -r 's/^&gt;([^ ]+) /&gt;\\1\\n\\1/' file  # or\nperl -pe 's/^&gt;(\\S+) /&gt;$1\\n$1/' file\n</code></pre>\n"}], "owner": {"reputation": 7292, "user_id": 1268941, "user_type": "registered", "accept_rate": 78, "profile_image": "https://www.gravatar.com/avatar/d27dc0d604e075ad3281aeb013a419c7?s=128&d=identicon&r=PG&f=1", "display_name": "brucezepplin", "link": "https://stackoverflow.com/users/1268941/brucezepplin"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 108, "favorite_count": 0, "accepted_answer_id": 40943283, "answer_count": 4, "score": 1, "last_activity_date": 1480963551, "creation_date": 1480717942, "last_edit_date": 1480807694, "question_id": 40941877, "link": "https://stackoverflow.com/questions/40941877/shift-the-rest-of-the-line-to-a-newline-after-a-space", "title": "shift the rest of the line to a newline after a space", "body": "<p>if I have the following:</p>\n\n<pre><code>&gt;AB ABABABA\n&gt;AC ACACACA\n</code></pre>\n\n<p>how do I shift everything onto a newline after the space i.e.</p>\n\n<pre><code>&gt;AB\nABABABABA\n&gt;AC\nACACACACA\n</code></pre>\n\n<p>I have tried:</p>\n\n<pre><code>cat file | sed 's/ /\\n/g'\ncat file | tr ' ' '\\n'\n</code></pre>\n\n<p>however I get the exact same output.</p>\n\n<p>** UPDATE **</p>\n\n<p>Upon inspecting the file using less and nano, the output was different to using cat. The file contains some terminal escape characters that aren't displayed in cat, but are in less. (how does this even happen?)</p>\n\n<p>This was a terrible bug to spot and everyone has actually posted corrected answers based on the output of cat. So thank you for your help. Could the mods close this one?</p>\n"}, {"tags": ["perl", "date-format", "date-manipulation"], "comments": [{"owner": {"reputation": 53041, "user_id": 4653379, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/b3953dbedd0dabff5cbc3db9b0835b14?s=128&d=identicon&r=PG&f=1", "display_name": "zdim", "link": "https://stackoverflow.com/users/4653379/zdim"}, "edited": false, "score": 0, "creation_date": 1480712452, "post_id": 40940686, "comment_id": 69093009, "body": "Seems to be the matter of what that <code>UnixDate()</code> does?"}, {"owner": {"reputation": 848, "user_id": 823197, "user_type": "registered", "accept_rate": 61, "profile_image": "https://i.stack.imgur.com/Hi4z9.jpg?s=128&g=1", "display_name": "jamadri", "link": "https://stackoverflow.com/users/823197/jamadri"}, "reply_to_user": {"reputation": 53041, "user_id": 4653379, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/b3953dbedd0dabff5cbc3db9b0835b14?s=128&d=identicon&r=PG&f=1", "display_name": "zdim", "link": "https://stackoverflow.com/users/4653379/zdim"}, "edited": false, "score": 0, "creation_date": 1480712814, "post_id": 40940686, "comment_id": 69093169, "body": "That&#39;s from the Date::Manip package. It&#39;s supposed to convert the string into a unix timestamp."}, {"owner": {"reputation": 848, "user_id": 823197, "user_type": "registered", "accept_rate": 61, "profile_image": "https://i.stack.imgur.com/Hi4z9.jpg?s=128&g=1", "display_name": "jamadri", "link": "https://stackoverflow.com/users/823197/jamadri"}, "reply_to_user": {"reputation": 53041, "user_id": 4653379, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/b3953dbedd0dabff5cbc3db9b0835b14?s=128&d=identicon&r=PG&f=1", "display_name": "zdim", "link": "https://stackoverflow.com/users/4653379/zdim"}, "edited": false, "score": 0, "creation_date": 1480712881, "post_id": 40940686, "comment_id": 69093201, "body": "Also, if there&#39;s a better way about doing this and Date::manip package can be used, then I&#39;m all for it."}], "answers": [{"comments": [{"owner": {"reputation": 53041, "user_id": 4653379, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/b3953dbedd0dabff5cbc3db9b0835b14?s=128&d=identicon&r=PG&f=1", "display_name": "zdim", "link": "https://stackoverflow.com/users/4653379/zdim"}, "edited": false, "score": 1, "creation_date": 1480714533, "post_id": 40941162, "comment_id": 69093921, "body": "Great, I was just getting to something like this"}], "tags": [], "owner": {"reputation": 848, "user_id": 823197, "user_type": "registered", "accept_rate": 61, "profile_image": "https://i.stack.imgur.com/Hi4z9.jpg?s=128&g=1", "display_name": "jamadri", "link": "https://stackoverflow.com/users/823197/jamadri"}, "is_accepted": true, "score": 1, "last_activity_date": 1480714416, "creation_date": 1480714416, "answer_id": 40941162, "question_id": 40940686, "link": "https://stackoverflow.com/questions/40940686/formatting-a-datetime-field-in-perl/40941162#40941162", "title": "Formatting a DateTime field in Perl", "body": "<p>Ok, so I figured it out. For people that are curious, the new code is below.</p>\n\n<pre><code>my $currentTime = strftime(\"%Y%m%d_%H%M\\n\", gmtime(time));\nmy $hashTime    = UnixDate($user-&gt;{'add_date'}, \"%Y%m%d_%H%M\");\n\n$self-&gt;Print($user-&gt;{'add_date'} .\"\\n\". $currentTime . \"\\n\" . $hashTime);\n</code></pre>\n\n<p>As you can tell, under $hashTime, when using UnixDate(), you don't need to use the strftime because it's already formatting it the way you need it.</p>\n"}], "owner": {"reputation": 848, "user_id": 823197, "user_type": "registered", "accept_rate": 61, "profile_image": "https://i.stack.imgur.com/Hi4z9.jpg?s=128&g=1", "display_name": "jamadri", "link": "https://stackoverflow.com/users/823197/jamadri"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 259, "favorite_count": 0, "accepted_answer_id": 40941162, "answer_count": 1, "score": 0, "last_activity_date": 1480714416, "creation_date": 1480712076, "question_id": 40940686, "link": "https://stackoverflow.com/questions/40940686/formatting-a-datetime-field-in-perl", "title": "Formatting a DateTime field in Perl", "body": "<p>I am trying to use a string date, and format it to output correctly as \"%Y%m%d_%H%M\". Everything is outputting correct except for the day. It's actually returning the next day and I have no idea as to why it is. Below is the code and output.</p>\n\n<pre><code>my $currentTime = strftime(\"%Y%m%d_%H%M\\n\", gmtime(time));\nmy $hashTime    = strftime(\"%Y%m%d_%H%M\\n\", gmtime(UnixDate($user-&gt;{'add_date'}, \"%s\")));\n\n$self-&gt;Print($user-&gt;{'add_date'} .\"\\n\". $currentTime . \"\\n\" . $hashTime);\n</code></pre>\n\n<p>Output:</p>\n\n<pre><code>2016-12-02 20:35:43 # Date from the Database \n20161202_2046  # Current GMTime\n20161203_0235  # This should be 20161202_2035?\n</code></pre>\n\n<p>How come it's outputting as 03?</p>\n"}, {"tags": ["perl", "cgi"], "comments": [{"owner": {"reputation": 110113, "user_id": 168657, "user_type": "registered", "accept_rate": 92, "profile_image": "https://www.gravatar.com/avatar/f14e7610fca39322ebbf23530def15f8?s=128&d=identicon&r=PG", "display_name": "mob", "link": "https://stackoverflow.com/users/168657/mob"}, "edited": false, "score": 0, "creation_date": 1480715171, "post_id": 40940414, "comment_id": 69094152, "body": "You&#39;re going to run Javascript on the server?"}, {"owner": {"reputation": 776, "user_id": 2442149, "user_type": "registered", "accept_rate": 80, "profile_image": "https://www.gravatar.com/avatar/1bd5ca914d6d68a00f18c36b5b03a755?s=128&d=identicon&r=PG", "display_name": "bpereira", "link": "https://stackoverflow.com/users/2442149/bpereira"}, "reply_to_user": {"reputation": 110113, "user_id": 168657, "user_type": "registered", "accept_rate": 92, "profile_image": "https://www.gravatar.com/avatar/f14e7610fca39322ebbf23530def15f8?s=128&d=identicon&r=PG", "display_name": "mob", "link": "https://stackoverflow.com/users/168657/mob"}, "edited": false, "score": 0, "creation_date": 1480720568, "post_id": 40940414, "comment_id": 69096009, "body": "Initially no, unless it&#39;s strictly necessary."}, {"owner": {"reputation": 48798, "user_id": 223226, "user_type": "registered", "accept_rate": 93, "profile_image": "https://i.stack.imgur.com/iGqE4.png?s=128&g=1", "display_name": "mpapec", "link": "https://stackoverflow.com/users/223226/mpapec"}, "edited": false, "score": 0, "creation_date": 1480734224, "post_id": 40940414, "comment_id": 69098754, "body": "Perhaps <a href=\"https://github.com/jhthorsen/mojolicious-plugin-cgi\" rel=\"nofollow noreferrer\">github.com/jhthorsen/mojolicious-plugin-cgi</a>"}], "owner": {"reputation": 776, "user_id": 2442149, "user_type": "registered", "accept_rate": 80, "profile_image": "https://www.gravatar.com/avatar/1bd5ca914d6d68a00f18c36b5b03a755?s=128&d=identicon&r=PG", "display_name": "bpereira", "link": "https://stackoverflow.com/users/2442149/bpereira"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 67, "favorite_count": 0, "answer_count": 0, "score": 1, "last_activity_date": 1480710873, "creation_date": 1480710873, "question_id": 40940414, "link": "https://stackoverflow.com/questions/40940414/new-frontend-to-perl-application", "title": "New frontend to perl application", "body": "<p>I'm wondering if there is an easy and elegant way to replace only the frontend of a perl application by exposing my CGI scripts as rest services. </p>\n\n<p>Nowdays I have an application with several CGI scripts. The idea is remove perl at all but while I can't do that, I'm looking for alternatives to replace only the templates.</p>\n\n<p>My idea is to expose my CGI's like if they were APIs and I'll have pure Javascript applications that consume those \"APIs\". </p>\n\n<p>Has anyone experienced anything like this? </p>\n"}, {"tags": ["linux", "perl", "ssh", "remote-access"], "comments": [{"owner": {"reputation": 320771, "user_id": 589924, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/b2cf53d5a3d25f95c0db4e025aed4153?s=128&d=identicon&r=PG", "display_name": "ikegami", "link": "https://stackoverflow.com/users/589924/ikegami"}, "edited": false, "score": 1, "creation_date": 1480715562, "post_id": 40940358, "comment_id": 69094330, "body": "You say you are trying to use ssh, but I fail to see anything ssh-related in that code!"}, {"owner": {"reputation": 320771, "user_id": 589924, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/b2cf53d5a3d25f95c0db4e025aed4153?s=128&d=identicon&r=PG", "display_name": "ikegami", "link": "https://stackoverflow.com/users/589924/ikegami"}, "edited": false, "score": 0, "creation_date": 1480715604, "post_id": 40940358, "comment_id": 69094345, "body": "Tip: <code>scp</code> might be a bit more appropriate than <code>ssh</code>, and would work pretty much anywhere <code>ssh</code> works."}, {"owner": {"reputation": 137, "user_id": 5048863, "user_type": "registered", "accept_rate": 36, "profile_image": "https://lh5.googleusercontent.com/-WD4x1BivO3c/AAAAAAAAAAI/AAAAAAAAACg/EuVtGC6kca0/photo.jpg?sz=128", "display_name": "Lolak", "link": "https://stackoverflow.com/users/5048863/lolak"}, "reply_to_user": {"reputation": 320771, "user_id": 589924, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/b2cf53d5a3d25f95c0db4e025aed4153?s=128&d=identicon&r=PG", "display_name": "ikegami", "link": "https://stackoverflow.com/users/589924/ikegami"}, "edited": false, "score": 0, "creation_date": 1480792101, "post_id": 40940358, "comment_id": 69112507, "body": "@ikegami thats it i do not know how to continue the code to achieve what i am looking for it, thanks"}, {"owner": {"reputation": 320771, "user_id": 589924, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/b2cf53d5a3d25f95c0db4e025aed4153?s=128&d=identicon&r=PG", "display_name": "ikegami", "link": "https://stackoverflow.com/users/589924/ikegami"}, "edited": false, "score": 0, "creation_date": 1480829381, "post_id": 40940358, "comment_id": 69121027, "body": "What do you mean, &quot;continue&quot;? You haven&#39;t started. You haven&#39;t even <a href=\"http://search.cpan.org/search?query=scp&amp;mode=all\" rel=\"nofollow noreferrer\">looked</a> for a module or tried to use the command line tool. SO is not a code-writing service."}], "answers": [{"comments": [{"owner": {"reputation": 137, "user_id": 5048863, "user_type": "registered", "accept_rate": 36, "profile_image": "https://lh5.googleusercontent.com/-WD4x1BivO3c/AAAAAAAAAAI/AAAAAAAAACg/EuVtGC6kca0/photo.jpg?sz=128", "display_name": "Lolak", "link": "https://stackoverflow.com/users/5048863/lolak"}, "edited": false, "score": 0, "creation_date": 1480792025, "post_id": 40946482, "comment_id": 69112482, "body": "i am using perl cause the script that i am using is based perl.. i am trying to move these xml files that will be created to a different server"}], "tags": [], "owner": {"reputation": 22448, "user_id": 1870481, "user_type": "registered", "accept_rate": 56, "profile_image": "https://www.gravatar.com/avatar/478e3c60bf48e069b2f79bddd202d600?s=128&d=identicon&r=PG", "display_name": "michas", "link": "https://stackoverflow.com/users/1870481/michas"}, "is_accepted": false, "score": 1, "last_activity_date": 1480828824, "last_edit_date": 1480828824, "creation_date": 1480759015, "answer_id": 40946482, "question_id": 40940358, "link": "https://stackoverflow.com/questions/40940358/write-files-on-remote-server-using-perl-ssh/40946482#40946482", "title": "write files on remote server using perl ssh", "body": "<p>You might use something like this:</p>\n\n<pre><code>echo text|ssh server \"cat &gt;file\"\n</code></pre>\n\n<p>However I do not see why you use perl and what you want it to do.</p>\n\n<p>Alternatively you might create the file locally and move it to the server using:</p>\n\n<pre><code>scp file server:\n</code></pre>\n\n<p>From within perl you might use something like:</p>\n\n<pre><code>system(\"scp\", \"file\", \"server:\");\n</code></pre>\n\n<p>If you want to work on multiple files another alternative might be using <a href=\"https://en.wikipedia.org/wiki/SSHFS\" rel=\"nofollow noreferrer\">sshfs</a>. This allows you to mount a directory of the other server and work with it using local file access.</p>\n"}], "owner": {"reputation": 137, "user_id": 5048863, "user_type": "registered", "accept_rate": 36, "profile_image": "https://lh5.googleusercontent.com/-WD4x1BivO3c/AAAAAAAAAAI/AAAAAAAAACg/EuVtGC6kca0/photo.jpg?sz=128", "display_name": "Lolak", "link": "https://stackoverflow.com/users/5048863/lolak"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 253, "favorite_count": 0, "answer_count": 1, "score": -2, "last_activity_date": 1480828824, "creation_date": 1480710581, "question_id": 40940358, "link": "https://stackoverflow.com/questions/40940358/write-files-on-remote-server-using-perl-ssh", "title": "write files on remote server using perl ssh", "body": "<p>i am trying to create files on different server using perl</p>\n\n<p>is that possible ?</p>\n\n<p>that what i have till now</p>\n\n<p>I have tried this but it only write local</p>\n\n<pre><code>my $xml =qq|\n\nhello\n\n |;\n\n open FILE,\"&gt;\",\"../hello/\".$randchar . \".xml\";print FILE $xml;close FILE;\n</code></pre>\n\n<p>this create a local XML file under folder hello</p>\n\n<p>is it possible to create the XML file on different server ? and what are my option ? i am using Linux on both servers</p>\n\n<p>for example using ssh\nthanks</p>\n"}, {"tags": ["perl"], "answers": [{"comments": [{"owner": {"reputation": 57, "user_id": 4736434, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/ee9c6b8c2e36b5c0839272b6431cafd5?s=128&d=identicon&r=PG&f=1", "display_name": "sikquiver", "link": "https://stackoverflow.com/users/4736434/sikquiver"}, "edited": false, "score": 0, "creation_date": 1480709649, "post_id": 40940129, "comment_id": 69091825, "body": "for the first snippet all I had a question abut was the next unless part... your answer helps me a lot. I thought it would read the next line as soon as a non alphanumeric character was read.  The second one, I also agree its a terrible code, there are spaces and new lines in the file but chomp would take care of new lines, and I see them substituting spaces with s/\\s*//g everywhere else that&#39;s why this is stomping me."}, {"owner": {"reputation": 91128, "user_id": 1229023, "user_type": "registered", "accept_rate": 71, "profile_image": "https://www.gravatar.com/avatar/75b840909603c238921a81032efd57eb?s=128&d=identicon&r=PG", "display_name": "raina77ow", "link": "https://stackoverflow.com/users/1229023/raina77ow"}, "edited": false, "score": 0, "creation_date": 1480709731, "post_id": 40940129, "comment_id": 69091872, "body": "<code>unless (condition)</code> === <code>if (!condition)</code>"}, {"owner": {"reputation": 57, "user_id": 4736434, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/ee9c6b8c2e36b5c0839272b6431cafd5?s=128&d=identicon&r=PG&f=1", "display_name": "sikquiver", "link": "https://stackoverflow.com/users/4736434/sikquiver"}, "reply_to_user": {"reputation": 91128, "user_id": 1229023, "user_type": "registered", "accept_rate": 71, "profile_image": "https://www.gravatar.com/avatar/75b840909603c238921a81032efd57eb?s=128&d=identicon&r=PG", "display_name": "raina77ow", "link": "https://stackoverflow.com/users/1229023/raina77ow"}, "edited": false, "score": 0, "creation_date": 1480710073, "post_id": 40940129, "comment_id": 69092012, "body": "@raina77ow so that&#39;s what those two lines are doing? because they use <code>s&#47;\\s*$&#47;&#47;</code> everywhere else in this script."}, {"owner": {"reputation": 53041, "user_id": 4653379, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/b3953dbedd0dabff5cbc3db9b0835b14?s=128&d=identicon&r=PG&f=1", "display_name": "zdim", "link": "https://stackoverflow.com/users/4653379/zdim"}, "reply_to_user": {"reputation": 57, "user_id": 4736434, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/ee9c6b8c2e36b5c0839272b6431cafd5?s=128&d=identicon&r=PG&f=1", "display_name": "sikquiver", "link": "https://stackoverflow.com/users/4736434/sikquiver"}, "edited": false, "score": 0, "creation_date": 1480710167, "post_id": 40940129, "comment_id": 69092053, "body": "@sikquiver  I updated the answer.  Let me know if there is more to add/edit. I didn&#39;t know what exactly you had in mind, thanks for clarifying it.  However, the rest of the code just demands comments as well."}, {"owner": {"reputation": 53041, "user_id": 4653379, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/b3953dbedd0dabff5cbc3db9b0835b14?s=128&d=identicon&r=PG&f=1", "display_name": "zdim", "link": "https://stackoverflow.com/users/4653379/zdim"}, "reply_to_user": {"reputation": 57, "user_id": 4736434, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/ee9c6b8c2e36b5c0839272b6431cafd5?s=128&d=identicon&r=PG&f=1", "display_name": "sikquiver", "link": "https://stackoverflow.com/users/4736434/sikquiver"}, "edited": false, "score": 0, "creation_date": 1480710556, "post_id": 40940129, "comment_id": 69092217, "body": "@sikquiver Agreed -- that second snippet should not be there.  I cannot tell what it is meant to do either.  As for stripping spaces, this is a common way of doing it, and it is generally a bit faster than combining them in one line (what you can also see around)."}, {"owner": {"reputation": 57, "user_id": 4736434, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/ee9c6b8c2e36b5c0839272b6431cafd5?s=128&d=identicon&r=PG&f=1", "display_name": "sikquiver", "link": "https://stackoverflow.com/users/4736434/sikquiver"}, "edited": false, "score": 0, "creation_date": 1480711003, "post_id": 40940129, "comment_id": 69092373, "body": "@zdim your 4th comment is a little off, <code>s&#47;^\\s*$&#47;&#47;</code> removes blank lines from the document. that&#39;s why the <code>^</code> is in the code. But i guess chomp would also do that?"}, {"owner": {"reputation": 53041, "user_id": 4653379, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/b3953dbedd0dabff5cbc3db9b0835b14?s=128&d=identicon&r=PG&f=1", "display_name": "zdim", "link": "https://stackoverflow.com/users/4653379/zdim"}, "reply_to_user": {"reputation": 57, "user_id": 4736434, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/ee9c6b8c2e36b5c0839272b6431cafd5?s=128&d=identicon&r=PG&f=1", "display_name": "sikquiver", "link": "https://stackoverflow.com/users/4736434/sikquiver"}, "edited": false, "score": 0, "creation_date": 1480711220, "post_id": 40940129, "comment_id": 69092465, "body": "@sikquiver Correct, thank you, updated.  So the code removes leading spaces and empty lines. Leaving possible trailing spaces.  That&#39;s a bit strange."}, {"owner": {"reputation": 57, "user_id": 4736434, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/ee9c6b8c2e36b5c0839272b6431cafd5?s=128&d=identicon&r=PG&f=1", "display_name": "sikquiver", "link": "https://stackoverflow.com/users/4736434/sikquiver"}, "edited": false, "score": 0, "creation_date": 1480711568, "post_id": 40940129, "comment_id": 69092610, "body": "@zdim I think the split is taking care of any trailing spaces on the data I&#39;m going through, that&#39;s why it&#39;s not there... thanks for the help!"}, {"owner": {"reputation": 53041, "user_id": 4653379, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/b3953dbedd0dabff5cbc3db9b0835b14?s=128&d=identicon&r=PG&f=1", "display_name": "zdim", "link": "https://stackoverflow.com/users/4653379/zdim"}, "reply_to_user": {"reputation": 57, "user_id": 4736434, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/ee9c6b8c2e36b5c0839272b6431cafd5?s=128&d=identicon&r=PG&f=1", "display_name": "sikquiver", "link": "https://stackoverflow.com/users/4736434/sikquiver"}, "edited": false, "score": 0, "creation_date": 1480711978, "post_id": 40940129, "comment_id": 69092800, "body": "@sikquiver I updated the answer, with an explanation of why they use skip lines with <code>\\w</code> (and not spaces only) -- answering your question about commas (which I forgot about initially).  Thank you for the attribution.  As for trailing spaces -- <code>split</code> <i>keeps them with that fourth argument</i>.  If you say <code>split &#39;  &#39;, $var</code> it indeed drops them, but with <code>split &#39; &#39;, $var, 3</code> it keeps everything."}, {"owner": {"reputation": 3432, "user_id": 604642, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/48daad611ba387f8473b0c1e5792aa3f?s=128&d=identicon&r=PG", "display_name": "shawnhcorey", "link": "https://stackoverflow.com/users/604642/shawnhcorey"}, "edited": false, "score": 0, "creation_date": 1480730205, "post_id": 40940129, "comment_id": 69098141, "body": "The second snippet is supposed to remove newlines in the string. It would be better written as: <code>s&#47;\\n&#47;&#47;g;</code>"}, {"owner": {"reputation": 53041, "user_id": 4653379, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/b3953dbedd0dabff5cbc3db9b0835b14?s=128&d=identicon&r=PG&f=1", "display_name": "zdim", "link": "https://stackoverflow.com/users/4653379/zdim"}, "reply_to_user": {"reputation": 3432, "user_id": 604642, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/48daad611ba387f8473b0c1e5792aa3f?s=128&d=identicon&r=PG", "display_name": "shawnhcorey", "link": "https://stackoverflow.com/users/604642/shawnhcorey"}, "edited": false, "score": 0, "creation_date": 1480738330, "post_id": 40940129, "comment_id": 69099407, "body": "@shawnhcorey  That crossed my mind, too, unlikely as it seemed -- but it didn&#39;t work in my test. (I wasn&#39;t very careful though.)"}, {"owner": {"reputation": 3432, "user_id": 604642, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/48daad611ba387f8473b0c1e5792aa3f?s=128&d=identicon&r=PG", "display_name": "shawnhcorey", "link": "https://stackoverflow.com/users/604642/shawnhcorey"}, "edited": false, "score": 0, "creation_date": 1480769985, "post_id": 40940129, "comment_id": 69105956, "body": "@zdim That&#39;s because the second snippet is unreliable."}], "tags": [], "owner": {"reputation": 53041, "user_id": 4653379, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/b3953dbedd0dabff5cbc3db9b0835b14?s=128&d=identicon&r=PG&f=1", "display_name": "zdim", "link": "https://stackoverflow.com/users/4653379/zdim"}, "is_accepted": true, "score": 1, "last_activity_date": 1481185142, "last_edit_date": 1481185142, "creation_date": 1480709504, "answer_id": 40940129, "question_id": 40940001, "link": "https://stackoverflow.com/questions/40940001/need-further-understanding-in-the-next-unless-code-im-reading/40940129#40940129", "title": "Need further understanding in the next unless code I&#39;m reading", "body": "<p>The first snippet:</p>\n\n<ol>\n<li>Reads a line from a filehandle called <code>filename</code>.  This is a really bad name for a filehandle  </li>\n<li><p>It skips the processing if there is not even a single <code>\\w</code> (<em>word character</em>) on the line.<br>\nThe <code>next unless (/\\w/);</code> is the same as <code>next if not (/\\w/)</code>. Note that there is no need for parenthesis -- <code>next unless /\\w/;</code> is fine.<br>\nA <em>word character</em> is, from <a href=\"http://perldoc.perl.org/perlretut.html\" rel=\"nofollow noreferrer\">perlretut</a></p>\n\n<blockquote>\n  <p><code>\\w</code> matches a word character (alphanumeric or <code>_</code>), not just <code>[0-9a-zA-Z_]</code> but also digits and characters from non-roman scripts</p>\n</blockquote></li>\n<li><p>It removes (only) the newline with <code>chomp</code>. Then it removes leading spaces, if any</p></li>\n<li>It removes blank lines, the ones with only spaces on them </li>\n<li>It splits the line by commas, allowing that they have spaces before and/or after. It also limits the number of terms returned, to <code>4</code>. This means that it returns the first three comma-separated fields, and then all the rest as one string in the last element of the list</li>\n</ol>\n\n<p>The second snippet is really bad, whatever it is meant to do. (Remove spaces on the line?)</p>\n\n<hr>\n\n<p>Comments</p>\n\n<p>It is far better to use <em>lexical filehandles</em>, rather than barenames.  So you'd open a file as</p>\n\n<pre><code>open my $fh, '&lt;', $filename or die \"Can't open $filename: $!\";\n</code></pre>\n\n<p>and read it by <code>while (my $line = &lt;$fh&gt;)</code> or by <code>while (&lt;$fh&gt;)</code>.</p>\n\n<hr>\n\n<p>Normally you'll see lines skipped if they have nothing other than spaces</p>\n\n<pre><code>next unless /\\S/;  # or\nnext if /^\\s*$/;\n</code></pre>\n\n<p>Using <code>\\w</code> also skips lines with some characters (other than what is matched by <code>\\w</code>), which means that one had better be very sure that those are fine to skip. </p>\n\n<p>Here it may be meant to skip a line with commas but no <code>\\w</code> (comma is not matched by <code>\\w</code>), for which <a href=\"http://perldoc.perl.org/functions/split.html\" rel=\"nofollow noreferrer\">split</a> would return spaces (or empty strings) in a list. I find this a bit hidden and fragile.  I'd drop lines with spaces only, and handle possible loose commas in processing. As it stands it doesn't help with <code>,,a,</code> anyway, what yields <code>('', '', 'a')</code>. So checking is probably needed in any case.</p>\n\n<p>Note that altogether this code leaves trailing spaces. When <code>split</code> is invoked with the optional fourth argument it keeps all spaces, and they haven't been removed otherwise.</p>\n"}], "owner": {"reputation": 57, "user_id": 4736434, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/ee9c6b8c2e36b5c0839272b6431cafd5?s=128&d=identicon&r=PG&f=1", "display_name": "sikquiver", "link": "https://stackoverflow.com/users/4736434/sikquiver"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 521, "favorite_count": 0, "accepted_answer_id": 40940129, "answer_count": 1, "score": 1, "last_activity_date": 1481185142, "creation_date": 1480708843, "question_id": 40940001, "link": "https://stackoverflow.com/questions/40940001/need-further-understanding-in-the-next-unless-code-im-reading", "title": "Need further understanding in the next unless code I&#39;m reading", "body": "<p>I need help with 2 things on this code that I'm reading. First, is I keep seeing this inside of while loop to read a file:</p>\n\n<pre><code>wile(&lt;filename&gt;){\n next unless (/\\w/);\n chomp;\n s/^\\s*//;\n s/^\\s*$//;\n my($name, $datatype, $io, $dummy) = split /\\s*,\\s*/, $_, 4;\n}\n</code></pre>\n\n<p>So, I'm wondering what that is doing? Because there are commas in the same line being read, so wouldn't the commas make it go to the next iteration? SO how would it split the lines if it is going to another iteration when the commas are being read?</p>\n\n<p>Another one I'm stomped by is:</p>\n\n<pre><code>while (&lt;AP&gt;) {\n   chomp;\n   s/\n//g;\n}\n</code></pre>\n\n<p>I have no idea what that code is actually substituting...</p>\n\n<p>Thanks! </p>\n"}, {"tags": ["regex", "perl"], "comments": [{"owner": {"reputation": 481636, "user_id": 3832970, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/64323e6cf08401474da3bf770ea13b58?s=128&d=identicon&r=PG&f=1", "display_name": "Wiktor Stribi\u017cew", "link": "https://stackoverflow.com/users/3832970/wiktor-stribi%c5%bcew"}, "edited": false, "score": 1, "creation_date": 1480701836, "post_id": 40938326, "comment_id": 69088162, "body": "You may read about <i>capturing repeated groups</i> <a href=\"http://www.regular-expressions.info/captureall.html\" rel=\"nofollow noreferrer\">here</a>"}, {"owner": {"reputation": 43580, "user_id": 1020526, "user_type": "registered", "accept_rate": 73, "profile_image": "https://i.stack.imgur.com/Scjj8.jpg?s=128&g=1", "display_name": "revo", "link": "https://stackoverflow.com/users/1020526/revo"}, "edited": false, "score": 0, "creation_date": 1480702095, "post_id": 40938326, "comment_id": 69088285, "body": "When you specify a specific beginning of input string, you can&#39;t tell engine to do a <code>global</code> match on a chunk of regex."}, {"owner": {"reputation": 481636, "user_id": 3832970, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/64323e6cf08401474da3bf770ea13b58?s=128&d=identicon&r=PG&f=1", "display_name": "Wiktor Stribi\u017cew", "link": "https://stackoverflow.com/users/3832970/wiktor-stribi%c5%bcew"}, "edited": false, "score": 0, "creation_date": 1480702544, "post_id": 40938326, "comment_id": 69088534, "body": "Also, see <a href=\"http://blogs.perl.org/users/sirhc/2012/05/repeated-capturing-and-parsing.html\" rel=\"nofollow noreferrer\">Repeated Capturing and Parsing</a>. Note it is not the first <code>\\w+</code> that is the &quot;culprit&quot;, but the <code>*</code> quantifier you set on the non-capturing group."}, {"owner": {"reputation": 383, "user_id": 5510919, "user_type": "registered", "accept_rate": 82, "profile_image": "https://www.gravatar.com/avatar/c047e88681814aaff9b5c9671af4d439?s=128&d=identicon&r=PG", "display_name": "Log", "link": "https://stackoverflow.com/users/5510919/log"}, "edited": false, "score": 0, "creation_date": 1480702676, "post_id": 40938326, "comment_id": 69088604, "body": "Ok, I&#39;ll read now, hope it will decide my problem. Thanks"}, {"owner": {"reputation": 383, "user_id": 5510919, "user_type": "registered", "accept_rate": 82, "profile_image": "https://www.gravatar.com/avatar/c047e88681814aaff9b5c9671af4d439?s=128&d=identicon&r=PG", "display_name": "Log", "link": "https://stackoverflow.com/users/5510919/log"}, "reply_to_user": {"reputation": 43580, "user_id": 1020526, "user_type": "registered", "accept_rate": 73, "profile_image": "https://i.stack.imgur.com/Scjj8.jpg?s=128&g=1", "display_name": "revo", "link": "https://stackoverflow.com/users/1020526/revo"}, "edited": false, "score": 0, "creation_date": 1480703238, "post_id": 40938326, "comment_id": 69088902, "body": "@revo If I right understand you, that problem in modifyer &#39;g&#39;. But if remove it, output is wrong also."}, {"owner": {"reputation": 320771, "user_id": 589924, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/b2cf53d5a3d25f95c0db4e025aed4153?s=128&d=identicon&r=PG", "display_name": "ikegami", "link": "https://stackoverflow.com/users/589924/ikegami"}, "edited": false, "score": 0, "creation_date": 1480703270, "post_id": 40938326, "comment_id": 69088917, "body": "Tip: <code>[\\w\\d]</code> can be shortened to <code>\\w</code> since <code>\\w</code> includes <code>\\d</code>."}, {"owner": {"reputation": 43580, "user_id": 1020526, "user_type": "registered", "accept_rate": 73, "profile_image": "https://i.stack.imgur.com/Scjj8.jpg?s=128&g=1", "display_name": "revo", "link": "https://stackoverflow.com/users/1020526/revo"}, "edited": false, "score": 0, "creation_date": 1480704453, "post_id": 40938326, "comment_id": 69089504, "body": "Sorry, no. The problem is not <code>g</code> modifier but it is the way you think and the thing you expect. Engine, simply, doesn&#39;t work like that."}, {"owner": {"reputation": 383, "user_id": 5510919, "user_type": "registered", "accept_rate": 82, "profile_image": "https://www.gravatar.com/avatar/c047e88681814aaff9b5c9671af4d439?s=128&d=identicon&r=PG", "display_name": "Log", "link": "https://stackoverflow.com/users/5510919/log"}, "reply_to_user": {"reputation": 43580, "user_id": 1020526, "user_type": "registered", "accept_rate": 73, "profile_image": "https://i.stack.imgur.com/Scjj8.jpg?s=128&g=1", "display_name": "revo", "link": "https://stackoverflow.com/users/1020526/revo"}, "edited": false, "score": 0, "creation_date": 1480704971, "post_id": 40938326, "comment_id": 69089747, "body": "@revo I understand you, my thoughts don&#39;t fit engine work, but I expect it. Need to learn better engine, yes"}], "answers": [{"comments": [{"owner": {"reputation": 383, "user_id": 5510919, "user_type": "registered", "accept_rate": 82, "profile_image": "https://www.gravatar.com/avatar/c047e88681814aaff9b5c9671af4d439?s=128&d=identicon&r=PG", "display_name": "Log", "link": "https://stackoverflow.com/users/5510919/log"}, "edited": false, "score": 0, "creation_date": 1480704152, "post_id": 40938836, "comment_id": 69089366, "body": "But why is 2 values? if I write (...)*, asterisk take maximum coincidences since it is greedy if I right know about it"}, {"owner": {"reputation": 383, "user_id": 5510919, "user_type": "registered", "accept_rate": 82, "profile_image": "https://www.gravatar.com/avatar/c047e88681814aaff9b5c9671af4d439?s=128&d=identicon&r=PG", "display_name": "Log", "link": "https://stackoverflow.com/users/5510919/log"}, "edited": false, "score": 0, "creation_date": 1480704281, "post_id": 40938836, "comment_id": 69089414, "body": "I mean why my construction don&#39;t expand in /\\w+([\\d\\w]+)\\-([\\d\\w]+)([\\d\\w]+)\\-([\\d\\w]+) by engine"}, {"owner": {"reputation": 320771, "user_id": 589924, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/b2cf53d5a3d25f95c0db4e025aed4153?s=128&d=identicon&r=PG", "display_name": "ikegami", "link": "https://stackoverflow.com/users/589924/ikegami"}, "reply_to_user": {"reputation": 383, "user_id": 5510919, "user_type": "registered", "accept_rate": 82, "profile_image": "https://www.gravatar.com/avatar/c047e88681814aaff9b5c9671af4d439?s=128&d=identicon&r=PG", "display_name": "Log", "link": "https://stackoverflow.com/users/5510919/log"}, "edited": false, "score": 0, "creation_date": 1480705060, "post_id": 40938836, "comment_id": 69089803, "body": "If that&#39;s what you want it to do, then tell it to do that. Otherwise, it will prevent people from doing <code>if (&#47;(.)(?:(.)\\2)*(.)&#47;) { print $3 }</code>"}], "tags": [], "owner": {"reputation": 320771, "user_id": 589924, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/b2cf53d5a3d25f95c0db4e025aed4153?s=128&d=identicon&r=PG", "display_name": "ikegami", "link": "https://stackoverflow.com/users/589924/ikegami"}, "is_accepted": false, "score": 1, "last_activity_date": 1480703527, "creation_date": 1480703527, "answer_id": 40938836, "question_id": 40938326, "link": "https://stackoverflow.com/questions/40938326/why-one-word-breaks-all-right-output-in-regex-perl/40938836#40938836", "title": "Why one word breaks all right output in regex (perl)?", "body": "<p>For each match, each capture is returned. </p>\n\n<hr>\n\n<p>In the first snippet, the pattern matches twice.</p>\n\n<pre><code>123-abc 23-rr\n\\_____/ \\___/\n</code></pre>\n\n<p>There are two captures, so four (2*2=4) values are returned.</p>\n\n<hr>\n\n<p>In the second snippet, the pattern matches once.</p>\n\n<pre><code>word 123-abc 23-rr\n\\________________/\n</code></pre>\n\n<p>There are two captures, so two (2*1=2) values are returned.</p>\n"}, {"comments": [{"owner": {"reputation": 383, "user_id": 5510919, "user_type": "registered", "accept_rate": 82, "profile_image": "https://www.gravatar.com/avatar/c047e88681814aaff9b5c9671af4d439?s=128&d=identicon&r=PG", "display_name": "Log", "link": "https://stackoverflow.com/users/5510919/log"}, "edited": false, "score": 0, "creation_date": 1480705336, "post_id": 40939067, "comment_id": 69089936, "body": "Ok, you prefer other approach, very interesting. I&#39;ll try this"}], "tags": [], "owner": {"reputation": 126333, "user_id": 14660, "user_type": "registered", "accept_rate": 62, "profile_image": "https://www.gravatar.com/avatar/e55e0ec3c00f834d78fbdddeaa36e308?s=128&d=identicon&r=PG", "display_name": "Schwern", "link": "https://stackoverflow.com/users/14660/schwern"}, "is_accepted": true, "score": 1, "last_activity_date": 1480704525, "creation_date": 1480704525, "answer_id": 40939067, "question_id": 40938326, "link": "https://stackoverflow.com/questions/40938326/why-one-word-breaks-all-right-output-in-regex-perl/40939067#40939067", "title": "Why one word breaks all right output in regex (perl)?", "body": "<p>Rather than making an ever more specific regex for an ever more specific string, consider taking advantage of the overall pattern.</p>\n\n<ol>\n<li>Each piece is separated by whitespace.</li>\n<li>The first piece is a word.</li>\n<li>The rest are pairs separated by dashes.</li>\n</ol>\n\n<p>First split the pieces on whitespace.</p>\n\n<pre><code>my @pieces = split /\\s+/, $str;\n</code></pre>\n\n<p>Then remove the first piece, it doesn't have to be split.</p>\n\n<pre><code>my $word = shift @pieces;\n</code></pre>\n\n<p>Then split each piece on <code>-</code> into pairs.</p>\n\n<pre><code>my %pairs = map { split /-/, $_ } @words;\n</code></pre>\n"}], "owner": {"reputation": 383, "user_id": 5510919, "user_type": "registered", "accept_rate": 82, "profile_image": "https://www.gravatar.com/avatar/c047e88681814aaff9b5c9671af4d439?s=128&d=identicon&r=PG", "display_name": "Log", "link": "https://stackoverflow.com/users/5510919/log"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 111, "favorite_count": 0, "accepted_answer_id": 40939067, "answer_count": 2, "score": 0, "last_activity_date": 1480710267, "creation_date": 1480701597, "last_edit_date": 1480710267, "question_id": 40938326, "link": "https://stackoverflow.com/questions/40938326/why-one-word-breaks-all-right-output-in-regex-perl", "title": "Why one word breaks all right output in regex (perl)?", "body": "<p>I want to understand the situation with regular expression in Perl.</p>\n\n<pre><code>$str = \"123-abc 23-rr\";\n</code></pre>\n\n<p>Need to show both words beside minus.\nRegular expression is:</p>\n\n<pre><code>@mas=$str=~/(?:([\\d\\w]+)\\-([\\d\\w]+))/gx;\n</code></pre>\n\n<p>And it show right output: <code>123</code>, <code>abc</code>, <code>23</code>, <code>rr</code>.\nBut if I change string a little and put one word in start:</p>\n\n<pre><code>$str = \"word 123-abc 23-rr\";\n</code></pre>\n\n<p>And I want to take account this first word, so I change my regexp:</p>\n\n<pre><code>@mas=$str=~/\\w+\\s(?:\\s*([\\d\\w]+)\\-([\\d\\w]+))*/gx;\n</code></pre>\n\n<p>My output must be same, but there are: <code>23</code>, <code>rr</code>. If I remove <code>\\s*</code> or <code>*</code> the output is <code>123</code>, <code>abc</code>. But it's still not right. Anyone knows why?</p>\n"}, {"tags": ["perl", "module", "getcwd"], "comments": [{"owner": {"reputation": 5334, "user_id": 5830574, "user_type": "registered", "accept_rate": 93, "profile_image": "https://i.stack.imgur.com/kCmqs.png?s=128&g=1", "display_name": "PerlDuck", "link": "https://stackoverflow.com/users/5830574/perlduck"}, "edited": false, "score": 2, "creation_date": 1480693794, "post_id": 40936044, "comment_id": 69083359, "body": "Have a look at <i><a href=\"http://stackoverflow.com/q/787899/5830574\">How do I use a Perl module from a relative location?</a></i> and the accepted answer."}, {"owner": {"reputation": 198290, "user_id": 1030675, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/957956ce51706d03f19a4dc85a767bb1?s=128&d=identicon&r=PG", "display_name": "choroba", "link": "https://stackoverflow.com/users/1030675/choroba"}, "edited": false, "score": 1, "creation_date": 1480693881, "post_id": 40936044, "comment_id": 69083419, "body": "Yes, <code>getcwd</code> is from where you run the script, not where the script is located."}, {"owner": {"reputation": 934, "user_id": 4541597, "user_type": "registered", "accept_rate": 58, "profile_image": "https://i.stack.imgur.com/wAQDO.jpg?s=128&g=1", "display_name": "Developus", "link": "https://stackoverflow.com/users/4541597/developus"}, "edited": false, "score": 0, "creation_date": 1480693937, "post_id": 40936044, "comment_id": 69083457, "body": "Ok, it looks good :). Thx."}], "answers": [{"comments": [{"owner": {"reputation": 320771, "user_id": 589924, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/b2cf53d5a3d25f95c0db4e025aed4153?s=128&d=identicon&r=PG", "display_name": "ikegami", "link": "https://stackoverflow.com/users/589924/ikegami"}, "edited": false, "score": 2, "creation_date": 1480695161, "post_id": 40936089, "comment_id": 69084325, "body": "Note: This assumes the OP used <code>package content;</code> instead of <code>package utils::content;</code> in <code>content.pm</code>."}, {"owner": {"reputation": 934, "user_id": 4541597, "user_type": "registered", "accept_rate": 58, "profile_image": "https://i.stack.imgur.com/wAQDO.jpg?s=128&g=1", "display_name": "Developus", "link": "https://stackoverflow.com/users/4541597/developus"}, "edited": false, "score": 0, "creation_date": 1480725254, "post_id": 40936089, "comment_id": 69097277, "body": "I have <code>package content</code> in the content.pm"}], "tags": [], "owner": {"reputation": 51521, "user_id": 2566198, "user_type": "registered", "accept_rate": 67, "profile_image": "https://i.stack.imgur.com/Y34ZA.jpg?s=128&g=1", "display_name": "Sobrique", "link": "https://stackoverflow.com/users/2566198/sobrique"}, "is_accepted": true, "score": 4, "last_activity_date": 1480695180, "last_edit_date": 1480695180, "creation_date": 1480693806, "answer_id": 40936089, "question_id": 40936044, "link": "https://stackoverflow.com/questions/40936044/perl-get-abs-path-to-module-from-other-directory-in-main-script/40936089#40936089", "title": "Perl - get abs path to module from other directory in main script", "body": "<p>I think what you're looking for is <code>FindBin</code>. </p>\n\n<p>Specifically:</p>\n\n<pre><code>use FindBin qw( );\nuse lib $FindBin::RealBin.\"/utils\"; \nuse content; \n</code></pre>\n"}], "owner": {"reputation": 934, "user_id": 4541597, "user_type": "registered", "accept_rate": 58, "profile_image": "https://i.stack.imgur.com/wAQDO.jpg?s=128&g=1", "display_name": "Developus", "link": "https://stackoverflow.com/users/4541597/developus"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 77, "favorite_count": 0, "accepted_answer_id": 40936089, "answer_count": 1, "score": 0, "last_activity_date": 1480695180, "creation_date": 1480693671, "question_id": 40936044, "link": "https://stackoverflow.com/questions/40936044/perl-get-abs-path-to-module-from-other-directory-in-main-script", "title": "Perl - get abs path to module from other directory in main script", "body": "<p>I created a simple perl script which is splited into 2 files - <code>main.pl</code> and <code>content.pm</code> \nThe main script is placed in <code>Project</code> directory and <code>content.pm</code> (module) is placed in <code>Project/utils</code> directory. Now I want to use <code>content.pm</code> in <code>main.pl</code> I made something like this to use this module: </p>\n\n<pre><code>use Cwd;\nuse lib Cwd::abs_path(getcwd().\"/utils\");\nuse utils::content;\n</code></pre>\n\n<p>but if I do it this way, I get an error:</p>\n\n<pre><code>Cant locate utils/content.pm in \n@INC (you may need to install the utils::content module) \n@INC contains: /Perl/utils /etc/perl /usr/local/lib/x86_64-linux-gnu/perl/5.24.1 ...) \nat ./main.pl line 10.\n</code></pre>\n\n<p>Is it possible to run this main.pl script using content.pm with no errors? Maybe I should not use <code>getcwd()</code> (I think it use a working directory instead of abs_path, but I'm not sure)?</p>\n"}, {"tags": ["c++", "perl", "msgpack", "messagepack"], "comments": [{"owner": {"reputation": 1317, "user_id": 2066474, "user_type": "registered", "accept_rate": 80, "profile_image": "https://www.gravatar.com/avatar/f445bbda5c5e7b3cde0dc13abf53b575?s=128&d=identicon&r=PG", "display_name": "rbennett485", "link": "https://stackoverflow.com/users/2066474/rbennett485"}, "reply_to_user": {"reputation": 113221, "user_id": 100754, "user_type": "registered", "accept_rate": 90, "profile_image": "https://www.gravatar.com/avatar/7804ebae32fbadef38537d74a915c22f?s=128&d=identicon&r=PG", "display_name": "Sinan &#220;n&#252;r", "link": "https://stackoverflow.com/users/100754/sinan-%c3%9cn%c3%bcr"}, "edited": false, "score": 0, "creation_date": 1480697199, "post_id": 40935311, "comment_id": 69085683, "body": "@Sinan&#220;n&#252;r thanks, see my edit above"}, {"owner": {"reputation": 1317, "user_id": 2066474, "user_type": "registered", "accept_rate": 80, "profile_image": "https://www.gravatar.com/avatar/f445bbda5c5e7b3cde0dc13abf53b575?s=128&d=identicon&r=PG", "display_name": "rbennett485", "link": "https://stackoverflow.com/users/2066474/rbennett485"}, "reply_to_user": {"reputation": 113221, "user_id": 100754, "user_type": "registered", "accept_rate": 90, "profile_image": "https://www.gravatar.com/avatar/7804ebae32fbadef38537d74a915c22f?s=128&d=identicon&r=PG", "display_name": "Sinan &#220;n&#252;r", "link": "https://stackoverflow.com/users/100754/sinan-%c3%9cn%c3%bcr"}, "edited": false, "score": 0, "creation_date": 1480697381, "post_id": 40935311, "comment_id": 69085801, "body": "@Sinan&#220;n&#252;r so this same code is working correctly for you and producing a map&lt;string, string&gt; in c++?"}, {"owner": {"reputation": 320771, "user_id": 589924, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/b2cf53d5a3d25f95c0db4e025aed4153?s=128&d=identicon&r=PG", "display_name": "ikegami", "link": "https://stackoverflow.com/users/589924/ikegami"}, "edited": false, "score": 0, "creation_date": 1480699858, "post_id": 40935311, "comment_id": 69087172, "body": "<code>&#39;&gt;&#39;</code> and <code>&#39;&lt;&#39;</code> should be <code>&#39;&gt;:raw&#39;</code> and <code>&#39;&lt;:raw&#39;</code>, especially if you are on a Windows machine. Similarly, the C++ program should set the stream to binary."}, {"owner": {"reputation": 1317, "user_id": 2066474, "user_type": "registered", "accept_rate": 80, "profile_image": "https://www.gravatar.com/avatar/f445bbda5c5e7b3cde0dc13abf53b575?s=128&d=identicon&r=PG", "display_name": "rbennett485", "link": "https://stackoverflow.com/users/2066474/rbennett485"}, "reply_to_user": {"reputation": 113221, "user_id": 100754, "user_type": "registered", "accept_rate": 90, "profile_image": "https://www.gravatar.com/avatar/7804ebae32fbadef38537d74a915c22f?s=128&d=identicon&r=PG", "display_name": "Sinan &#220;n&#252;r", "link": "https://stackoverflow.com/users/100754/sinan-%c3%9cn%c3%bcr"}, "edited": false, "score": 0, "creation_date": 1481823173, "post_id": 40935311, "comment_id": 69540481, "body": "@Sinan&#220;n&#252;r I&#39;m guessing you downvoted my answer and deleted your own, as they happened very close to one another. Would you mind reinstating it? It was a useful part of arriving at the solution"}, {"owner": {"reputation": 113221, "user_id": 100754, "user_type": "registered", "accept_rate": 90, "profile_image": "https://www.gravatar.com/avatar/7804ebae32fbadef38537d74a915c22f?s=128&d=identicon&r=PG", "display_name": "Sinan &#220;n&#252;r", "link": "https://stackoverflow.com/users/100754/sinan-%c3%9cn%c3%bcr"}, "edited": false, "score": 0, "creation_date": 1481827533, "post_id": 40935311, "comment_id": 69542675, "body": "The answer you provided to the question involves information you did not share when you posed the question. Therefore no one but you had any chance of correctly answering the question and it is likely no one will benefit from the question nor the answer."}, {"owner": {"reputation": 1317, "user_id": 2066474, "user_type": "registered", "accept_rate": 80, "profile_image": "https://www.gravatar.com/avatar/f445bbda5c5e7b3cde0dc13abf53b575?s=128&d=identicon&r=PG", "display_name": "rbennett485", "link": "https://stackoverflow.com/users/2066474/rbennett485"}, "edited": false, "score": 0, "creation_date": 1481827870, "post_id": 40935311, "comment_id": 69542867, "body": "I&#39;m not sure that&#39;s a productive attitude, but then this probably isn&#39;t the place for discussing it either."}], "answers": [{"tags": [], "owner": {"reputation": 1317, "user_id": 2066474, "user_type": "registered", "accept_rate": 80, "profile_image": "https://www.gravatar.com/avatar/f445bbda5c5e7b3cde0dc13abf53b575?s=128&d=identicon&r=PG", "display_name": "rbennett485", "link": "https://stackoverflow.com/users/2066474/rbennett485"}, "is_accepted": true, "score": -2, "last_activity_date": 1481802807, "last_edit_date": 1481802807, "creation_date": 1481737866, "answer_id": 41149014, "question_id": 40935311, "link": "https://stackoverflow.com/questions/40935311/messagepack-perl-to-c-deserialisation/41149014#41149014", "title": "MessagePack Perl to C++ deserialisation", "body": "<p>Finally managed to get it working with a combination of proper binary file reading and some munging with weird in-house data types that we have.</p>\n\n<p>The functioning code (which deserializes the structure into a <code>Map&lt;string, msgpack::object&gt;</code>, requiring an extra step of deserializing each value when it is needed) is:</p>\n\n<pre><code>#include \"msgpack.hpp\"\n#include \"map.h\"\n#include &lt;string&gt;\n#include &lt;iostream&gt;\n#include &lt;fstream&gt;\n\nvoid unpack_map(const msgpack::object&amp; o, Map&lt;string,msgpack::object&gt;&amp; results){\n  ASSERT(o.type == msgpack::type::MAP);\n  for (msgpack::object_kv *p = o.via.map.ptr, *pend = (o.via.map.ptr + o.via.map.size); p != pend; ++p)\n    results[p-&gt;key.as&lt;string&gt;()] = p-&gt;val;\n}\n\nint main(void)\n{\n  streampos size;\n  char * memblock;\n\n  ifstream file (\"splodge.bin\", ios::in|ios::binary|ios::ate);\n  if (file.is_open())\n    {\n      size = file.tellg();\n      memblock = new char [size];\n      file.seekg (0, ios::beg);\n      file.read (memblock, size);\n      file.close();\n\n      cout &lt;&lt; \"the entire file content is in memory\";\n    }\n  else cout &lt;&lt; \"Unable to open file\";\n\n  msgpack::unpacked upd;\n  msgpack::unpack(&amp;upd, memblock, size);\n  msgpack::object obj = upd.get();\n\n  if(obj.type != msgpack::type::MAP) {\n    cout &lt;&lt; \":(\" &lt;&lt; endl;\n  } else {\n    cout &lt;&lt; \":)\" &lt;&lt; endl;\n  }\n  cout &lt;&lt; \"size: \" &lt;&lt; obj.via.map.size &lt;&lt; endl;\n\n  Map&lt;string, msgpack::object&gt; objectMap;\n  unpack_map(obj, objectMap);\n\n  msgpack::object val  = objectMap[\"BBBBBB\"];\n  string tmp = string(val.via.raw.ptr, val.via.raw.size);\n\n  delete[] memblock;\n  return 0;\n}\n</code></pre>\n\n<p>where <code>tmp</code> takes the value <code>20030907</code></p>\n"}], "owner": {"reputation": 1317, "user_id": 2066474, "user_type": "registered", "accept_rate": 80, "profile_image": "https://www.gravatar.com/avatar/f445bbda5c5e7b3cde0dc13abf53b575?s=128&d=identicon&r=PG", "display_name": "rbennett485", "link": "https://stackoverflow.com/users/2066474/rbennett485"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 177, "favorite_count": 0, "accepted_answer_id": 41149014, "answer_count": 1, "score": -1, "last_activity_date": 1481818768, "creation_date": 1480691380, "last_edit_date": 1480699967, "question_id": 40935311, "link": "https://stackoverflow.com/questions/40935311/messagepack-perl-to-c-deserialisation", "title": "MessagePack Perl to C++ deserialisation", "body": "<p>I'm new to messagepack, and I'm trying to take a hash in perl, serialize it using messagepack, write it to a file, pass that to c++ code where the file is read and deserialized into a map.</p>\n\n<p>My perl code to generate the file is (note - I added an extra part to check I could read the file back in and deserialize it correctly in perl, although I don't really need to do this):</p>\n\n<pre><code>#! perl\n\nuse strict;\nuse warnings;\n\nuse Data::MessagePack;\n\nmy %hTestHash = ('AAAAAA' =&gt; '20020101',\n                 'BBBBBB' =&gt; '20030907');\n\nmy $packed = Data::MessagePack-&gt;pack(\\%hTestHash);\n\nopen my $fh, '&gt;', 'splodge.bin' or die \"Failed to open slodge.bin for write: $!\";\nprint $fh $packed;\nclose $fh;\n\nopen my $fh2, '&lt;', 'splodge.bin' or die \"Failed to open slodge.bin for read: $!\";\nlocal $/;\nmy $file = &lt;$fh2&gt;;\n\nmy $hrTest = Data::MessagePack-&gt;unpack($file);\n</code></pre>\n\n<p>My c++ code to deserialize is then:</p>\n\n<pre><code>#include \"msgpack.hpp\"\n#include &lt;string&gt;\n#include &lt;iostream&gt;\n#include &lt;sstream&gt;\n#include &lt;fstream&gt;\n\nint main(void)\n{\n  // Deserialize the serialized data.\n  std::ifstream ifs(\"splodge.bin\", std::ifstream::in);\n  std::stringstream buffer;\n  buffer &lt;&lt; ifs.rdbuf();\n  msgpack::unpacked upd;\n  msgpack::unpack(&amp;upd, buffer.str().data(), buffer.str().size());\n  msgpack::object obj = upd.get();\n  std::map&lt;std::string, std::string&gt; output_map;\n  msgpack::convert(output_map, obj);\n\n  string date = output_map.at(\"AAAAAA\");\n\n  return 0;\n}\n</code></pre>\n\n<p>This produces a 2 element map in <code>output_map</code>, but it only contains garbage values - my program crashes out on <code>output_map.at()</code> with  </p>\n\n<pre><code>{\"\u2592\u2592\u2592\u2592\u2592\u2592\"=&gt;\"\u2592\u2592\u2592\u2592\u2592\u2592\u2592\u2592\", \"\u2592\u2592\u2592\u2592\u2592\u2592\"=&gt;\"\u2592\u2592\u2592\u2592\u2592\u2592\u2592\u2592\"}\nterminate called after throwing an instance of 'std::out_of_range'\n  what():  map::at\nAborted\n</code></pre>\n\n<p>I've been unable to find any examples of this particular use case, and struggling to see what's wrong - is this a problem at the serialization end or (seems more likely) at the deserialization end?</p>\n\n<p><strong>EDIT:</strong> Thanks to @Sinan\u00dcn\u00fcr for pointing out my mistake, which I have now updated in the question. This doesn't change the fact that the hash is being populated with garbage values, so the same exception is being thrown regardless of the key being searched for.</p>\n"}, {"tags": ["perl", "operators"], "comments": [{"owner": {"reputation": 6258, "user_id": 82262, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/8ce15931410b388a52eb2df4a864137f?s=128&d=identicon&r=PG&f=1", "display_name": "Matt Jacob", "link": "https://stackoverflow.com/users/82262/matt-jacob"}, "edited": false, "score": 5, "creation_date": 1480690143, "post_id": 40934882, "comment_id": 69080910, "body": "<a href=\"http://perldoc.perl.org/perlop.html\" rel=\"nofollow noreferrer\">perldoc.perl.org/perlop.html</a>"}, {"owner": {"reputation": 50468, "user_id": 1331451, "user_type": "registered", "accept_rate": 96, "profile_image": "https://i.stack.imgur.com/4ZPmj.png?s=128&g=1", "display_name": "simbabque", "link": "https://stackoverflow.com/users/1331451/simbabque"}, "edited": false, "score": 1, "creation_date": 1480690999, "post_id": 40934882, "comment_id": 69081524, "body": "I don&#39;t actually think this is very off-topic. It&#39;s a valid question, though it could have been researched by the OP. This stuff is very basic, but it&#39;s not easy to find if looking in perldoc directly."}, {"owner": {"reputation": 1242, "user_id": 1080381, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/f2906cc5cf61790db7a2a7bf493c22c3?s=128&d=identicon&r=PG", "display_name": "user1080381", "link": "https://stackoverflow.com/users/1080381/user1080381"}, "reply_to_user": {"reputation": 6258, "user_id": 82262, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/8ce15931410b388a52eb2df4a864137f?s=128&d=identicon&r=PG&f=1", "display_name": "Matt Jacob", "link": "https://stackoverflow.com/users/82262/matt-jacob"}, "edited": false, "score": 0, "creation_date": 1480692073, "post_id": 40934882, "comment_id": 69082213, "body": "@MattJacob In my case it was not 10 seconds of googling..."}, {"owner": {"reputation": 50468, "user_id": 1331451, "user_type": "registered", "accept_rate": 96, "profile_image": "https://i.stack.imgur.com/4ZPmj.png?s=128&g=1", "display_name": "simbabque", "link": "https://stackoverflow.com/users/1331451/simbabque"}, "reply_to_user": {"reputation": 6258, "user_id": 82262, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/8ce15931410b388a52eb2df4a864137f?s=128&d=identicon&r=PG&f=1", "display_name": "Matt Jacob", "link": "https://stackoverflow.com/users/82262/matt-jacob"}, "edited": false, "score": 0, "creation_date": 1480692752, "post_id": 40934882, "comment_id": 69082646, "body": "Let&#39;s not start a discussion here. There are currently two close votes on the question, both with the off-topic reason <i>request to find an off-site resource</i>. I didn&#39;t agree with those, so I voiced that disagreement. @MattJacob I think there was indeed. But the community decided to remove that (I&#39;m not going to find a meta thread now). I still think it&#39;s a good question, though actually googling part of it finds <a href=\"http://stackoverflow.com/questions/943795/whats-the-difference-between-single-and-double-quotes-in-perl\" title=\"whats the difference between single and double quotes in perl\">stackoverflow.com/questions/943795/&hellip;</a>, which is a near-duplicate. The backtick-angle is missing there."}], "answers": [{"comments": [{"owner": {"reputation": 50468, "user_id": 1331451, "user_type": "registered", "accept_rate": 96, "profile_image": "https://i.stack.imgur.com/4ZPmj.png?s=128&g=1", "display_name": "simbabque", "link": "https://stackoverflow.com/users/1331451/simbabque"}, "reply_to_user": {"reputation": 198290, "user_id": 1030675, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/957956ce51706d03f19a4dc85a767bb1?s=128&d=identicon&r=PG", "display_name": "choroba", "link": "https://stackoverflow.com/users/1030675/choroba"}, "edited": false, "score": 2, "creation_date": 1480692805, "post_id": 40934985, "comment_id": 69082686, "body": "@choroba every time someone edits out one of my typos I get this warm fuzzy feeling that people actually read my stuff :D"}, {"owner": {"reputation": 198290, "user_id": 1030675, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/957956ce51706d03f19a4dc85a767bb1?s=128&d=identicon&r=PG", "display_name": "choroba", "link": "https://stackoverflow.com/users/1030675/choroba"}, "edited": false, "score": 2, "creation_date": 1480692872, "post_id": 40934985, "comment_id": 69082730, "body": "Every time you typo on SO, you kill someone else&#39;s brain cell :-)"}], "tags": [], "owner": {"reputation": 50468, "user_id": 1331451, "user_type": "registered", "accept_rate": 96, "profile_image": "https://i.stack.imgur.com/4ZPmj.png?s=128&g=1", "display_name": "simbabque", "link": "https://stackoverflow.com/users/1331451/simbabque"}, "is_accepted": true, "score": 5, "last_activity_date": 1506310386, "last_edit_date": 1506310386, "creation_date": 1480690365, "answer_id": 40934985, "question_id": 40934882, "link": "https://stackoverflow.com/questions/40934882/in-perl-what-is-the-difference-between-double-quotes-single-quotes-and-gr/40934985#40934985", "title": "In Perl what is the difference between double quotes(&quot;), single quotes(&#39;) and grave accent(`)", "body": "<h2>Single quotes <code>''</code></h2>\n\n<p>Construct strings without <a href=\"https://en.wikipedia.org/wiki/String_interpolation\" rel=\"nofollow noreferrer\">interpolation</a>. There is also a <code>q()</code> operator that does the same.</p>\n\n<pre><code>my $foo = 'bar';\nprint '$foo'; # prints the word $foo\nprint q($foo); # is equivalent\n</code></pre>\n\n<p>You would use single quotes when you just have text and there are no variables inside the text.</p>\n\n<h2>Double quotes <code>\"\"</code></h2>\n\n<p>Construct strings with interpolation of variables. There is also a <code>qq()</code> operator that does the same.</p>\n\n<pre><code>my $foo = 'bar';\nprint \"$foo\"; # prints the word bar\nprint qq($foo); # is equivalent\n</code></pre>\n\n<p>Use these if you want to put variables into your string. A typical example would be in an old-fashioned CGI program, where you see this:</p>\n\n<pre><code>print \"&lt;td&gt;$row[0]&lt;/td&gt;\";\n</code></pre>\n\n<p>The <code>qq()</code> variant comes in handy if your text contains double-quotes.</p>\n\n<pre><code>print qq{&lt;a href=\"$url\"&gt;$link_text&lt;/a&gt;}; # I prefer qq{} to qq()\n</code></pre>\n\n<p>This is way easier to read than escape all the quotes.</p>\n\n<pre><code>print \"&lt;a href=\\\"$url\\\"&gt;$link_text&lt;/a&gt;\"; # this is hard to read\n</code></pre>\n\n<h2>Backticks <code>``</code></h2>\n\n<p>Shell out and execute a command. The return value of the other program is returned. There is also a <code>qx()</code> operator that does the same. This interpolates variables.</p>\n\n<pre><code>print `ls`; # prints a directory listing of the working directory\nmy $res = qx(./foo --bar);\n</code></pre>\n\n<p>Use this if you want to write a script that is a bit more powerful than a shell script, where you need to call external programs and capture their output.</p>\n\n<hr>\n\n<p>All the interpolating ones can only interpolate variables, not commands. </p>\n\n<pre><code>my $foo = 1;\nmy $bar = 2;\nprint \"$foo + $bar\";\n</code></pre>\n\n<p>This will print <em>1 + 2</em>. It will not actually calculate and print <em>3</em>.</p>\n\n<hr>\n\n<p>All of those (and more) are explain in <a href=\"http://perldoc.perl.org/perlop.html#Quote-and-Quote-like-Operators\" rel=\"nofollow noreferrer\">perlop under <em>Quote and Quotelike operators</em></a>.</p>\n"}], "owner": {"reputation": 1242, "user_id": 1080381, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/f2906cc5cf61790db7a2a7bf493c22c3?s=128&d=identicon&r=PG", "display_name": "user1080381", "link": "https://stackoverflow.com/users/1080381/user1080381"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 430, "favorite_count": 1, "closed_date": 1482138563, "accepted_answer_id": 40934985, "answer_count": 1, "score": -3, "last_activity_date": 1506310386, "creation_date": 1480690007, "last_edit_date": 1480710667, "question_id": 40934882, "link": "https://stackoverflow.com/questions/40934882/in-perl-what-is-the-difference-between-double-quotes-single-quotes-and-gr", "closed_reason": "Not suitable for this site", "title": "In Perl what is the difference between double quotes(&quot;), single quotes(&#39;) and grave accent(`)", "body": "<p>In Perl, what is the difference between quoting with double quotes(\"), single quotes('), and grave accents(`)?</p>\n\n<p>This code:</p>\n\n<pre><code>#!/bin/env perl\nuse v5.10;\nsay \"Hello\";\nsay 'Hi';\nsay `Hola`;\n</code></pre>\n\n<p>gives the following result:</p>\n\n<pre>\nHello\nHi\n\n</pre>\n"}, {"tags": ["perl", "data-structures", "hash"], "comments": [{"owner": {"reputation": 9406, "user_id": 4923629, "user_type": "registered", "accept_rate": 92, "profile_image": "https://i.stack.imgur.com/2abZO.png?s=128&g=1", "display_name": "123", "link": "https://stackoverflow.com/users/4923629/123"}, "edited": false, "score": 0, "creation_date": 1480688374, "post_id": 40933994, "comment_id": 69079656, "body": "I dont understand the problem? Do you have expected output?"}], "answers": [{"tags": [], "owner": {"reputation": 51521, "user_id": 2566198, "user_type": "registered", "accept_rate": 67, "profile_image": "https://i.stack.imgur.com/Y34ZA.jpg?s=128&g=1", "display_name": "Sobrique", "link": "https://stackoverflow.com/users/2566198/sobrique"}, "is_accepted": true, "score": 1, "last_activity_date": 1480689798, "last_edit_date": 1480689798, "creation_date": 1480688590, "answer_id": 40934391, "question_id": 40933994, "link": "https://stackoverflow.com/questions/40933994/iterate-through-values-of-a-hash-and-convert-to-comma-separated-strings/40934391#40934391", "title": "Iterate through values of a HASH and convert to comma separated strings", "body": "<p>This will do what you want</p>\n\n<pre><code>print join \",\", values %{$data-&gt;{customerErrors}},\"\\n\";\n</code></pre>\n\n<p>Although I would suggest, rather than <code>error1</code> as hash keys, you'd be better off with an array:</p>\n\n<pre><code>my $data = {\n   'name'           =&gt; 'Bob',\n   'surname'        =&gt; 'Whitbread',\n   'customerErrors' =&gt; [ 'paymentError', 'addressError' ],\n};\n</code></pre>\n\n<p>Scaling that out to be generic, you will find the <code>ref</code> function to be helpful:</p>\n\n<pre><code>foreach my $key ( keys %$data ) { \n    print \"$key is a \", ref $data-&gt;{$key},\"\\n\";\n    if ( ref $data-&gt;{$key} eq 'HASH' ) { \n       print join \",\", values %{$data-&gt;{$key}};\n    }\n    else { \n        print $data -&gt; {$key},\"\\n\"; \n    }\n}\n</code></pre>\n\n<p>Or tersely:</p>\n\n<pre><code>print join \"\\&amp;\", map {  #join iterated on &amp;\n   join \"=\", $_,   #join paired values on =\n     ref $data-&gt;{$_} eq 'HASH'   #ternary to check reference type\n     ? values %{ $data-&gt;{$_} }   #extract values if HASH\n     : $data-&gt;{$_}               #extract just value if not. \n} keys %$data;  #iterate keys of data\n</code></pre>\n\n<p>Which gives as output:</p>\n\n<pre><code>name=Bob&amp;customerErrors=addressError=paymentError&amp;surname=Whitbread\n</code></pre>\n"}], "owner": {"reputation": 881, "user_id": 595855, "user_type": "registered", "accept_rate": 75, "profile_image": "https://www.gravatar.com/avatar/37888a26f20e7467ff1f239c1b15b194?s=128&d=identicon&r=PG", "display_name": "snakespan", "link": "https://stackoverflow.com/users/595855/snakespan"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 1389, "favorite_count": 0, "accepted_answer_id": 40934391, "answer_count": 1, "score": 0, "last_activity_date": 1480689798, "creation_date": 1480687354, "question_id": 40933994, "link": "https://stackoverflow.com/questions/40933994/iterate-through-values-of-a-hash-and-convert-to-comma-separated-strings", "title": "Iterate through values of a HASH and convert to comma separated strings", "body": "<p>I want to iterate through the values of a big hash, and if any of the values of that hash are keys, I want to convert it into a comma separated list which can be parsed in 'query_form'.</p>\n\n<p>Right now from the data below I have:</p>\n\n<p>name=Bob&amp;surname=Whitbread&amp;customerErrors=HASH(Xa456) (for example)</p>\n\n<p>Here's what I have so far:</p>\n\n<pre><code>    sub convertArgsToQueryString {\n    my $class = shift;\n    my $args = shift;\n\n    return unless ($args &amp;&amp; ref($args) eq 'HASH');\n\n    foreach my $key (values %$args) {\n        if (ref($key) eq 'HASH') {\n            # change to a comma separated list\n        }\n    }\n\n    my $dummyURL = URI-&gt;new('', 'http');\n    $dummyURL-&gt;query_form(%$args);\n\n    return $dummyURL-&gt;query;\n  }\n</code></pre>\n\n<p>Data:  </p>\n\n<pre><code>my $data = {\n    'name' =&gt; 'Bob',\n    'surname' =&gt; 'Whitbread',\n    'customerErrors' =&gt; {\n        'error1' =&gt; 'paymentError',\n        'error2' =&gt; 'addressError'\n    },\n};\n</code></pre>\n\n<p>Query Form:</p>\n\n<p>name=Bob&amp;surname=Whitbread&amp;customerErrors=paymentError,addressError</p>\n"}, {"tags": ["java", "xml", "perl", "data-structures", "hash"], "answers": [{"comments": [{"owner": {"reputation": 404, "user_id": 3320478, "user_type": "registered", "accept_rate": 85, "profile_image": "https://www.gravatar.com/avatar/00e9417c21fff19050af08dd80976cdd?s=128&d=identicon&r=PG&f=1", "display_name": "chenino", "link": "https://stackoverflow.com/users/3320478/chenino"}, "edited": false, "score": 1, "creation_date": 1480690102, "post_id": 40934705, "comment_id": 69080876, "body": "I was hoping maybe there is a perl Interpreter library for Java, as i have found None. But your answer makes me more doubting, that there is any"}, {"owner": {"reputation": 51521, "user_id": 2566198, "user_type": "registered", "accept_rate": 67, "profile_image": "https://i.stack.imgur.com/Y34ZA.jpg?s=128&g=1", "display_name": "Sobrique", "link": "https://stackoverflow.com/users/2566198/sobrique"}, "reply_to_user": {"reputation": 404, "user_id": 3320478, "user_type": "registered", "accept_rate": 85, "profile_image": "https://www.gravatar.com/avatar/00e9417c21fff19050af08dd80976cdd?s=128&d=identicon&r=PG&f=1", "display_name": "chenino", "link": "https://stackoverflow.com/users/3320478/chenino"}, "edited": false, "score": 0, "creation_date": 1480690188, "post_id": 40934705, "comment_id": 69080940, "body": "I think it phenomenally unlikely, because <code>perl</code> is the &quot;perl interpreter&quot; that you&#39;re looking for. I can&#39;t imagine anyone rewriting perl as a java library just because they don&#39;t want to install <code>perl</code> <i>and</i> <code>java</code>."}, {"owner": {"reputation": 404, "user_id": 3320478, "user_type": "registered", "accept_rate": 85, "profile_image": "https://www.gravatar.com/avatar/00e9417c21fff19050af08dd80976cdd?s=128&d=identicon&r=PG&f=1", "display_name": "chenino", "link": "https://stackoverflow.com/users/3320478/chenino"}, "edited": false, "score": 0, "creation_date": 1480690308, "post_id": 40934705, "comment_id": 69081039, "body": "Yeah, if it wouldn&#39;t had to be Plattform Independent, i would include a local perl Parser, as reading a hash does not need many packages. Well at least the hash has a consisten structure, so parsing it and reading key &amp; value from it is somehow possible, but i am afraid of users entering bad written hashes"}, {"owner": {"reputation": 51521, "user_id": 2566198, "user_type": "registered", "accept_rate": 67, "profile_image": "https://i.stack.imgur.com/Y34ZA.jpg?s=128&g=1", "display_name": "Sobrique", "link": "https://stackoverflow.com/users/2566198/sobrique"}, "reply_to_user": {"reputation": 404, "user_id": 3320478, "user_type": "registered", "accept_rate": 85, "profile_image": "https://www.gravatar.com/avatar/00e9417c21fff19050af08dd80976cdd?s=128&d=identicon&r=PG&f=1", "display_name": "chenino", "link": "https://stackoverflow.com/users/3320478/chenino"}, "edited": false, "score": 0, "creation_date": 1480690440, "post_id": 40934705, "comment_id": 69081130, "body": "How are the hashes &#39;written&#39;? An export-via-JSON really shouldn&#39;t be hard. Or for the really filthy option - POST it via a CGI webserver, to jsonify the hash code :)"}, {"owner": {"reputation": 404, "user_id": 3320478, "user_type": "registered", "accept_rate": 85, "profile_image": "https://www.gravatar.com/avatar/00e9417c21fff19050af08dd80976cdd?s=128&d=identicon&r=PG&f=1", "display_name": "chenino", "link": "https://stackoverflow.com/users/3320478/chenino"}, "edited": false, "score": 0, "creation_date": 1480690792, "post_id": 40934705, "comment_id": 69081395, "body": "Those hashes are written on a different machine and contain configuration Settings, so they might also be manipulated by users manually. Exporting them to JSON while creation is impossible like this as i can not integrate into this flow"}], "tags": [], "owner": {"reputation": 51521, "user_id": 2566198, "user_type": "registered", "accept_rate": 67, "profile_image": "https://i.stack.imgur.com/Y34ZA.jpg?s=128&g=1", "display_name": "Sobrique", "link": "https://stackoverflow.com/users/2566198/sobrique"}, "is_accepted": false, "score": 1, "last_activity_date": 1480689521, "creation_date": 1480689521, "answer_id": 40934705, "question_id": 40933929, "link": "https://stackoverflow.com/questions/40933929/load-a-perl-hash-into-java/40934705#40934705", "title": "Load a Perl Hash into Java", "body": "<p>You're quite right, it's utterly filthy. Regex and string for XML in the first place is a horrible idea, and honestly XML is probably not a good fit  for this anyway. </p>\n\n<p>I would suggest that you consider <code>JSON</code>. I would be stunned to find <code>java</code> can't handle <code>JSON</code> and it's inherently a hash-and-array oriented data structure. </p>\n\n<p>So you can quite literally:</p>\n\n<pre><code>use JSON;\nprint to_json ( $data_structure, { pretty =&gt; 1 } );\n</code></pre>\n\n<p>Note - it won't work for serialising objects, but for perl hash/array/scalar type structures it'll work just fine. </p>\n\n<p>You can then import it back into perl using:</p>\n\n<pre><code>my $new_data = from_json $string;\nprint Dumper $new_data;\n</code></pre>\n\n<p>Either <code>Dumper</code> it to a file, but given you requirement is multi-language going forward, just using native JSON as your 'at rest' data is probably a more sensible choice. </p>\n\n<p>But if you're looking at parsing <em>perl code</em> within java, without a perl interpreter? No, that's just insanity. </p>\n"}], "owner": {"reputation": 404, "user_id": 3320478, "user_type": "registered", "accept_rate": 85, "profile_image": "https://www.gravatar.com/avatar/00e9417c21fff19050af08dd80976cdd?s=128&d=identicon&r=PG&f=1", "display_name": "chenino", "link": "https://stackoverflow.com/users/3320478/chenino"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 180, "favorite_count": 0, "answer_count": 1, "score": 0, "last_activity_date": 1480689521, "creation_date": 1480687148, "question_id": 40933929, "link": "https://stackoverflow.com/questions/40933929/load-a-perl-hash-into-java", "title": "Load a Perl Hash into Java", "body": "<p>I have a big <code>.pm</code> File, which only consist of a very big Perl hash with lots of subhashes. I have to load this hash into a Java program, do some work and changes on the data lying below and save it back into a <code>.pm</code> File, which should look similar to the one i started with.</p>\n\n<p>By now, i tried to convert it linewise by regex and string matching, converting it into a XML Document and later Elementwise parse it back into a perl hash.</p>\n\n<p>This somehow works, but seems quite dodgy. Is there any more reliable way to parse the perl hash without having a perl runtime installed?</p>\n"}, {"tags": ["regex", "perl"], "comments": [{"owner": {"reputation": 51521, "user_id": 2566198, "user_type": "registered", "accept_rate": 67, "profile_image": "https://i.stack.imgur.com/Y34ZA.jpg?s=128&g=1", "display_name": "Sobrique", "link": "https://stackoverflow.com/users/2566198/sobrique"}, "edited": false, "score": 2, "creation_date": 1480689079, "post_id": 40933001, "comment_id": 69080169, "body": "This is <code>XML</code> - don&#39;t use regex. This is a bad plan."}, {"owner": {"reputation": 79200, "user_id": 22364, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/e4b5d57c78e74d4f5ee9773e2926c01d?s=128&d=identicon&r=PG", "display_name": "Markus Jarderot", "link": "https://stackoverflow.com/users/22364/markus-jarderot"}, "edited": false, "score": 0, "creation_date": 1480689328, "post_id": 40933001, "comment_id": 69080365, "body": "Is it a requirement that it should only match if the braces (<code>{ }</code>) and/or brackets (<code>[ ]</code>) inside the CDATA are balanced?"}, {"owner": {"reputation": 2415, "user_id": 4251338, "user_type": "registered", "accept_rate": 90, "profile_image": "https://i.stack.imgur.com/UNbCO.png?s=128&g=1", "display_name": "ssr1012", "link": "https://stackoverflow.com/users/4251338/ssr1012"}, "edited": false, "score": 0, "creation_date": 1480689466, "post_id": 40933001, "comment_id": 69080462, "body": "Only Square brackets <code>( [ ] )</code>..."}, {"owner": {"reputation": 2415, "user_id": 4251338, "user_type": "registered", "accept_rate": 90, "profile_image": "https://i.stack.imgur.com/UNbCO.png?s=128&g=1", "display_name": "ssr1012", "link": "https://stackoverflow.com/users/4251338/ssr1012"}, "edited": false, "score": 0, "creation_date": 1480689582, "post_id": 40933001, "comment_id": 69080539, "body": "Thanks to all I got it."}, {"owner": {"reputation": 1425, "user_id": 6304349, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/52c4a1ce11469805ba79d576fa2f013c?s=128&d=identicon&r=PG", "display_name": "dorukayhan", "link": "https://stackoverflow.com/users/6304349/dorukayhan"}, "reply_to_user": {"reputation": 51521, "user_id": 2566198, "user_type": "registered", "accept_rate": 67, "profile_image": "https://i.stack.imgur.com/Y34ZA.jpg?s=128&g=1", "display_name": "Sobrique", "link": "https://stackoverflow.com/users/2566198/sobrique"}, "edited": false, "score": 0, "creation_date": 1480691843, "post_id": 40933001, "comment_id": 69082066, "body": "@Sobrique CDATA sections can&#39;t be nested, therefore it&#39;s actually possible to extract them with a regex."}], "answers": [{"comments": [{"owner": {"reputation": 2415, "user_id": 4251338, "user_type": "registered", "accept_rate": 90, "profile_image": "https://i.stack.imgur.com/UNbCO.png?s=128&g=1", "display_name": "ssr1012", "link": "https://stackoverflow.com/users/4251338/ssr1012"}, "edited": false, "score": 0, "creation_date": 1480688981, "post_id": 40934477, "comment_id": 69080112, "body": "<code>&lt;![CDATA[$[\\hat {T}_{W},\\hat {Q}_{F}]=\\textbf {0}$]]&gt;</code> One of the occurrences for your review."}], "tags": [], "owner": {"reputation": 79200, "user_id": 22364, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/e4b5d57c78e74d4f5ee9773e2926c01d?s=128&d=identicon&r=PG", "display_name": "Markus Jarderot", "link": "https://stackoverflow.com/users/22364/markus-jarderot"}, "is_accepted": true, "score": 1, "last_activity_date": 1480690164, "last_edit_date": 1480690164, "creation_date": 1480688886, "answer_id": 40934477, "question_id": 40933001, "link": "https://stackoverflow.com/questions/40933001/perl-script-running-slow-taking-a-minute-to-replace-the-simple-regex/40934477#40934477", "title": "Perl Script (running slow) taking a minute to replace the simple regex", "body": "<p>Simplest possible:</p>\n\n<pre><code>s/&lt;!\\[CDATA\\[(.*?)]]&gt;/&lt;!--&lt;![CDATA[--&gt;&lt;?processingInstruction $1?&gt;&lt;!--]]&gt;--&gt;/sg\n</code></pre>\n\n<p>CDATA can not contain any nested structures, so the pattern just looks for the starting <code>&lt;![CDATA[</code> and closest ending <code>]]&gt;</code>, and matches everything in between.</p>\n\n<p>The reason your pattern is running slowly, is because you are matching non-brackets (<code>[^\\[\\]]</code>) in between braces <code>{ ... }</code>. If the CDATA section contains <code>[</code> or <code>]</code>that are not part of the ending <code>]]&gt;</code>, it will fail and try to backtrack each of the <code>[^\\[\\]]*</code> in turn, leading to quintic (O(x<sup>5</sup>)) execution time.</p>\n\n<hr>\n\n<p>If square brackets are required to be balanced for it to match, you could do</p>\n\n<pre><code>s/&lt;!\\[CDATA\\[(([^][]|\\[(?2)*?])*?)]]&gt;/&lt;!--&lt;![CDATA[--&gt;&lt;?processingInstruction $1?&gt;&lt;!--]]&gt;--&gt;/sg\n</code></pre>\n\n<p>The <code>(?2)</code> will recursively match the second subpattern/capture group again. This should work in both Perl and PCRE based regex engines.</p>\n\n<p>Demo: <a href=\"https://regex101.com/r/LmClY9/2\" rel=\"nofollow noreferrer\">https://regex101.com/r/LmClY9/2</a></p>\n"}, {"tags": [], "owner": {"reputation": 2415, "user_id": 4251338, "user_type": "registered", "accept_rate": 90, "profile_image": "https://i.stack.imgur.com/UNbCO.png?s=128&g=1", "display_name": "ssr1012", "link": "https://stackoverflow.com/users/4251338/ssr1012"}, "is_accepted": false, "score": 0, "last_activity_date": 1480689773, "last_edit_date": 1495535433, "creation_date": 1480689773, "answer_id": 40934788, "question_id": 40933001, "link": "https://stackoverflow.com/questions/40933001/perl-script-running-slow-taking-a-minute-to-replace-the-simple-regex/40934788#40934788", "title": "Perl Script (running slow) taking a minute to replace the simple regex", "body": "<p>Thanks to <a href=\"https://stackoverflow.com/questions/40933001/perl-script-running-slow-taking-a-minute-to-replace-the-simple-regex/40934477\">Markus Jarderot</a> given the way/answer to achieve this:</p>\n\n<pre><code>$str=~s/(\\&lt;\\!\\[CDATA\\[)([^\\]\\]&gt;]*)(\\]\\]&gt;)/&lt;\\!\\-\\-$1\\-\\-&gt;&lt;\\?xmltex $2\\?&gt;&lt;\\!\\-\\-$3\\-\\-&gt;/sg;\n\n&lt;!\\[CDATA\\[(.*?)]]&gt; Instead of &lt;!\\[CDATA\\[([^\\]\\]&gt;]*)]]&gt;\n</code></pre>\n"}], "owner": {"reputation": 2415, "user_id": 4251338, "user_type": "registered", "accept_rate": 90, "profile_image": "https://i.stack.imgur.com/UNbCO.png?s=128&g=1", "display_name": "ssr1012", "link": "https://stackoverflow.com/users/4251338/ssr1012"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 63, "favorite_count": 0, "accepted_answer_id": 40934477, "answer_count": 2, "score": -1, "last_activity_date": 1480691698, "creation_date": 1480684116, "last_edit_date": 1480691698, "question_id": 40933001, "link": "https://stackoverflow.com/questions/40933001/perl-script-running-slow-taking-a-minute-to-replace-the-simple-regex", "title": "Perl Script (running slow) taking a minute to replace the simple regex", "body": "<p>Perl script taking (running slowly) a minute to replace the following regex:</p>\n\n<pre><code>$str = '&lt;![CDATA[$..$]]&gt;;\n</code></pre>\n\n<p>I have a file contains <code>&lt;![CDATA[$..$]]&gt;</code> (not less than 1000 occurrences) latex/tex coding in CDATA. Hence I need to change this into Comment tag and processing instruction like <code>&lt;!--&lt;![CDATA[--&gt;&lt;?processingInstruction $..$?&gt;&lt;!--]]&gt;--&gt;</code>.</p>\n\n<pre><code>$SqrBrLoopMany = qw/((?:[^\\[\\]]*(?:{(?:[^\\[\\]]*(?:{[^\\[\\]]*})*[^\\[\\]]*)*})*[^\\[\\]]*)*)/; # This is for using `\\[ &lt;whatever&gt; \\]` Square bracket.\n\n$str=~s/(\\&lt;\\!\\[CDATA\\[)$SqrBrLoopMany(\\]\\]&gt;)/&lt;\\!\\-\\-$1\\-\\-&gt;&lt;\\?processingInstruction $2\\?&gt;&lt;\\!\\-\\-$3\\-\\-&gt;/sg;\n</code></pre>\n\n<p>The above regex I am doing however the script takes a minute to replace the output.</p>\n\n<p>Output should be:</p>\n\n<p><code>&lt;!--&lt;![CDATA[--&gt;&lt;?processingInstruction $..$?&gt;&lt;!--]]&gt;--&gt;</code></p>\n\n<p>It would be appreciated if someone help on this one.</p>\n"}, {"tags": ["perl"], "comments": [{"owner": {"reputation": 123805, "user_id": 622310, "user_type": "registered", "accept_rate": 33, "profile_image": "https://www.gravatar.com/avatar/8b6d35219e1808520bc238b28161e2e6?s=128&d=identicon&r=PG", "display_name": "Borodin", "link": "https://stackoverflow.com/users/622310/borodin"}, "edited": false, "score": 0, "creation_date": 1480684654, "post_id": 40932837, "comment_id": 69077189, "body": "I cannot understand how your code is supposed to work. Does it matter that <code>$filepath</code> is different from the path in the <code>cd</code> command? (<code>domainnet</code> vs. <code>domain.net</code>). Where is the &quot;download&quot; happening? What manner of thing is <code>$IN</code>? The line <code>my $file = \\do { local *FH; *FH }</code> is very strange, and the same result would be achieved by writing <code>open my $file, &#39;&lt;&#39;, $filepath ...</code>"}, {"owner": {"reputation": 4155, "user_id": 2006878, "user_type": "registered", "accept_rate": 74, "profile_image": "https://i.stack.imgur.com/VepQx.jpg?s=128&g=1", "display_name": "Andrew Newby", "link": "https://stackoverflow.com/users/2006878/andrew-newby"}, "reply_to_user": {"reputation": 123805, "user_id": 622310, "user_type": "registered", "accept_rate": 33, "profile_image": "https://www.gravatar.com/avatar/8b6d35219e1808520bc238b28161e2e6?s=128&d=identicon&r=PG", "display_name": "Borodin", "link": "https://stackoverflow.com/users/622310/borodin"}, "edited": false, "score": 0, "creation_date": 1480684891, "post_id": 40932837, "comment_id": 69077339, "body": "@Borodin - sorry, the first was a typo (its actually my domain, but I replaced it in the sample code).  Do you have an example with the other code suggested? I&#39;ve used the <code>{ local $\\; while (read($file, my $chunk, 4096)) { xxxx } }</code> method quite a few times before - but its been with PDF files, and not tar files. <code>$IN</code> is just a perl module (based on CGI.pm) I believe), so all that line is doing is printing out the headers"}, {"owner": {"reputation": 4155, "user_id": 2006878, "user_type": "registered", "accept_rate": 74, "profile_image": "https://i.stack.imgur.com/VepQx.jpg?s=128&g=1", "display_name": "Andrew Newby", "link": "https://stackoverflow.com/users/2006878/andrew-newby"}, "reply_to_user": {"reputation": 123805, "user_id": 622310, "user_type": "registered", "accept_rate": 33, "profile_image": "https://www.gravatar.com/avatar/8b6d35219e1808520bc238b28161e2e6?s=128&d=identicon&r=PG", "display_name": "Borodin", "link": "https://stackoverflow.com/users/622310/borodin"}, "edited": false, "score": 0, "creation_date": 1480685236, "post_id": 40932837, "comment_id": 69077559, "body": "@Borodin - I&#39;ve also updated the OP to show the headers bring printed out via the <code>$IN-&gt;header()</code> part"}, {"owner": {"reputation": 123805, "user_id": 622310, "user_type": "registered", "accept_rate": 33, "profile_image": "https://www.gravatar.com/avatar/8b6d35219e1808520bc238b28161e2e6?s=128&d=identicon&r=PG", "display_name": "Borodin", "link": "https://stackoverflow.com/users/622310/borodin"}, "edited": false, "score": 0, "creation_date": 1480685264, "post_id": 40932837, "comment_id": 69077574, "body": "So is this CGI code running on an HTTP server?"}, {"owner": {"reputation": 4155, "user_id": 2006878, "user_type": "registered", "accept_rate": 74, "profile_image": "https://i.stack.imgur.com/VepQx.jpg?s=128&g=1", "display_name": "Andrew Newby", "link": "https://stackoverflow.com/users/2006878/andrew-newby"}, "reply_to_user": {"reputation": 123805, "user_id": 622310, "user_type": "registered", "accept_rate": 33, "profile_image": "https://www.gravatar.com/avatar/8b6d35219e1808520bc238b28161e2e6?s=128&d=identicon&r=PG", "display_name": "Borodin", "link": "https://stackoverflow.com/users/622310/borodin"}, "edited": false, "score": 0, "creation_date": 1480685387, "post_id": 40932837, "comment_id": 69077642, "body": "@Borodin - Yes. Its an nxingx server, with a reverse proxy to Apache2. FWIW, I just tried manually loading <a href=\"https://sample.net/cgi-bin/admin/amazon_template_tmp/files.tar\" rel=\"nofollow noreferrer\">sample.net/cgi-bin/admin/amazon_template_tmp/files.tar</a>, and it downloads and opens the file fine. I could do that as an alternative, but I would prefer to know whats up with my code :)"}, {"owner": {"reputation": 4155, "user_id": 2006878, "user_type": "registered", "accept_rate": 74, "profile_image": "https://i.stack.imgur.com/VepQx.jpg?s=128&g=1", "display_name": "Andrew Newby", "link": "https://stackoverflow.com/users/2006878/andrew-newby"}, "reply_to_user": {"reputation": 123805, "user_id": 622310, "user_type": "registered", "accept_rate": 33, "profile_image": "https://www.gravatar.com/avatar/8b6d35219e1808520bc238b28161e2e6?s=128&d=identicon&r=PG", "display_name": "Borodin", "link": "https://stackoverflow.com/users/622310/borodin"}, "edited": false, "score": 0, "creation_date": 1480685772, "post_id": 40932837, "comment_id": 69077892, "body": "Also, just out of interest I tried <code>application&#47;octet-stream</code> as the MIME-Type - but this doesn&#39;t help"}, {"owner": {"reputation": 1102, "user_id": 22738, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/aa6f9e355aa053f2f8d41db96d64e34c?s=128&d=identicon&r=PG", "display_name": "charlesbridge", "link": "https://stackoverflow.com/users/22738/charlesbridge"}, "edited": false, "score": 0, "creation_date": 1480689855, "post_id": 40932837, "comment_id": 69080718, "body": "You&#39;re setting the output record separator to UNDEF.  I&#39;ve always seen slurping done with the input record separator $/ set to UNDEF."}, {"owner": {"reputation": 4155, "user_id": 2006878, "user_type": "registered", "accept_rate": 74, "profile_image": "https://i.stack.imgur.com/VepQx.jpg?s=128&g=1", "display_name": "Andrew Newby", "link": "https://stackoverflow.com/users/2006878/andrew-newby"}, "reply_to_user": {"reputation": 1102, "user_id": 22738, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/aa6f9e355aa053f2f8d41db96d64e34c?s=128&d=identicon&r=PG", "display_name": "charlesbridge", "link": "https://stackoverflow.com/users/22738/charlesbridge"}, "edited": false, "score": 0, "creation_date": 1480691510, "post_id": 40932837, "comment_id": 69081877, "body": "@charlesbridge - thanks. Not sure what you mean? I&#39;ve updated my OP with an extra example that I tried, which I found here: <a href=\"http://stackoverflow.com/questions/15294815/perl-cgi-to-download-a-file-via-web-browser\" title=\"perl cgi to download a file via web browser\">stackoverflow.com/questions/15294815/&hellip;</a> - doesn&#39;t seem to work either though (same issue with corrupt contents)"}, {"owner": {"reputation": 123805, "user_id": 622310, "user_type": "registered", "accept_rate": 33, "profile_image": "https://www.gravatar.com/avatar/8b6d35219e1808520bc238b28161e2e6?s=128&d=identicon&r=PG", "display_name": "Borodin", "link": "https://stackoverflow.com/users/622310/borodin"}, "reply_to_user": {"reputation": 1102, "user_id": 22738, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/aa6f9e355aa053f2f8d41db96d64e34c?s=128&d=identicon&r=PG", "display_name": "charlesbridge", "link": "https://stackoverflow.com/users/22738/charlesbridge"}, "edited": false, "score": 0, "creation_date": 1480692114, "post_id": 40932837, "comment_id": 69082248, "body": "@charlesbridge:  Like a lot of this code, that&#39;s certainly wrong but it doesn&#39;t matter. <code>$\\ </code> is <code>undef</code> by default anyway, and calls to <code>read</code> are independent of the value of the record separator."}, {"owner": {"reputation": 123805, "user_id": 622310, "user_type": "registered", "accept_rate": 33, "profile_image": "https://www.gravatar.com/avatar/8b6d35219e1808520bc238b28161e2e6?s=128&d=identicon&r=PG", "display_name": "Borodin", "link": "https://stackoverflow.com/users/622310/borodin"}, "edited": false, "score": 0, "creation_date": 1480693241, "post_id": 40932837, "comment_id": 69082983, "body": "@AndrewNewby: Are the files that download okay with FTP the <i>same files</i> that are generated by the tar command in your CGI code? Or do you create them differently as well as download them differently? I&#39;m wondering why one is call <code>files.tar</code> and the other is <code>csv_files.tar</code>."}, {"owner": {"reputation": 4155, "user_id": 2006878, "user_type": "registered", "accept_rate": 74, "profile_image": "https://i.stack.imgur.com/VepQx.jpg?s=128&g=1", "display_name": "Andrew Newby", "link": "https://stackoverflow.com/users/2006878/andrew-newby"}, "edited": false, "score": 0, "creation_date": 1480694095, "post_id": 40932837, "comment_id": 69083566, "body": "@Bodrin - they are the exact same files. This is driving me nuts! As a test, I just copied the contents of de.csv into de.txt. I then changed it to ONLY compress the .txt files. If I remove some of the contents, it works fine. If I remove some of the content, it works fine. If I add in some basic ASCII, like: <code>dfsdfsdfsfsdfg dgfdf gdfg dfg dffgdfgdfg</code>  ...it works BUT when you get to a certain point (around the 16kb point it seems), it then says the file is corrupt! ARGH. I think I&#39;m just going to do the <code>Location:</code> download, as this is driving me nuts!"}, {"owner": {"reputation": 123805, "user_id": 622310, "user_type": "registered", "accept_rate": 33, "profile_image": "https://www.gravatar.com/avatar/8b6d35219e1808520bc238b28161e2e6?s=128&d=identicon&r=PG", "display_name": "Borodin", "link": "https://stackoverflow.com/users/622310/borodin"}, "edited": false, "score": 0, "creation_date": 1480694096, "post_id": 40932837, "comment_id": 69083567, "body": "@AndrewNewby: I can pretty much see what&#39;s going wrong, but I&#39;m confused about the displays that you&#39;re showing. What is the utility that you&#39;re using there? The image of <code>csv_files.tar</code> on the left is showing the ISO-8859-1 representation of the UTF-8 encoding of the characters in <code>files.tar</code> on the right. But the status line of both screens says that it&#39;s interpreting both files as UTF-8. If that is true then the &quot;correct&quot; file on the left has been double-encoded, so that you see each byte of the encoded character as its own character. That&#39;s confusing. Tell me more about the display app."}, {"owner": {"reputation": 123805, "user_id": 622310, "user_type": "registered", "accept_rate": 33, "profile_image": "https://www.gravatar.com/avatar/8b6d35219e1808520bc238b28161e2e6?s=128&d=identicon&r=PG", "display_name": "Borodin", "link": "https://stackoverflow.com/users/622310/borodin"}, "edited": false, "score": 0, "creation_date": 1480694166, "post_id": 40932837, "comment_id": 69083629, "body": "Real programmers don&#39;t give up until they can pass the problem on to their children."}, {"owner": {"reputation": 4155, "user_id": 2006878, "user_type": "registered", "accept_rate": 74, "profile_image": "https://i.stack.imgur.com/VepQx.jpg?s=128&g=1", "display_name": "Andrew Newby", "link": "https://stackoverflow.com/users/2006878/andrew-newby"}, "reply_to_user": {"reputation": 123805, "user_id": 622310, "user_type": "registered", "accept_rate": 33, "profile_image": "https://www.gravatar.com/avatar/8b6d35219e1808520bc238b28161e2e6?s=128&d=identicon&r=PG", "display_name": "Borodin", "link": "https://stackoverflow.com/users/622310/borodin"}, "edited": false, "score": 0, "creation_date": 1480694400, "post_id": 40932837, "comment_id": 69083793, "body": "@Borodin Thanks. The file is exactly the same. Downloaded via FTP, and then downloaded via the script (using the above code). The md5sums are different on them though. I really don&#39;t have the time to fumble around with this :( The files on the server are showing  as <code>UTF-8 With BOM</code> ... and they show up fine. So do the files if  I download the tar via FTP, and then open it"}, {"owner": {"reputation": 4155, "user_id": 2006878, "user_type": "registered", "accept_rate": 74, "profile_image": "https://i.stack.imgur.com/VepQx.jpg?s=128&g=1", "display_name": "Andrew Newby", "link": "https://stackoverflow.com/users/2006878/andrew-newby"}, "edited": false, "score": 0, "creation_date": 1480694549, "post_id": 40932837, "comment_id": 69083901, "body": "A real programmer also knows when to call it quits, and find another solution ;)"}, {"owner": {"reputation": 123805, "user_id": 622310, "user_type": "registered", "accept_rate": 33, "profile_image": "https://www.gravatar.com/avatar/8b6d35219e1808520bc238b28161e2e6?s=128&d=identicon&r=PG", "display_name": "Borodin", "link": "https://stackoverflow.com/users/622310/borodin"}, "edited": false, "score": 0, "creation_date": 1480696595, "post_id": 40932837, "comment_id": 69085303, "body": "@AndrewNewby: I will try to reproduce it tomorrow if I can find time. Is there any chance that you can give me a link to some of the CSV files that don&#39;t make it through, together with their corrupted tar files? I&#39;d also like to see the code for the class behind <code>$IM</code>. It&#39;s all down to UTF-8 encoding somehow and there&#39;s nothing related to that in the code that you&#39;ve shown."}, {"owner": {"reputation": 123805, "user_id": 622310, "user_type": "registered", "accept_rate": 33, "profile_image": "https://www.gravatar.com/avatar/8b6d35219e1808520bc238b28161e2e6?s=128&d=identicon&r=PG", "display_name": "Borodin", "link": "https://stackoverflow.com/users/622310/borodin"}, "edited": false, "score": 0, "creation_date": 1480696752, "post_id": 40932837, "comment_id": 69085410, "body": "@AndrewNewby:  And again, what&#39;s the app you&#39;re using to display the data?"}, {"owner": {"reputation": 4155, "user_id": 2006878, "user_type": "registered", "accept_rate": 74, "profile_image": "https://i.stack.imgur.com/VepQx.jpg?s=128&g=1", "display_name": "Andrew Newby", "link": "https://stackoverflow.com/users/2006878/andrew-newby"}, "reply_to_user": {"reputation": 123805, "user_id": 622310, "user_type": "registered", "accept_rate": 33, "profile_image": "https://www.gravatar.com/avatar/8b6d35219e1808520bc238b28161e2e6?s=128&d=identicon&r=PG", "display_name": "Borodin", "link": "https://stackoverflow.com/users/622310/borodin"}, "edited": false, "score": 0, "creation_date": 1480697021, "post_id": 40932837, "comment_id": 69085578, "body": "@Borodin thanks. The $IN stuff is tricky, as its a custom module that comes with the CMS I&#39;m using (Gossamer Links), so I can&#39;t give out that code as its pay-for software. If you can email me on andy dot newby@ gmnail dot com, and I&#39;ll send you the files.  They are my amazon stores CSV files, so I don&#39;t really want them public :)"}, {"owner": {"reputation": 4155, "user_id": 2006878, "user_type": "registered", "accept_rate": 74, "profile_image": "https://i.stack.imgur.com/VepQx.jpg?s=128&g=1", "display_name": "Andrew Newby", "link": "https://stackoverflow.com/users/2006878/andrew-newby"}, "reply_to_user": {"reputation": 123805, "user_id": 622310, "user_type": "registered", "accept_rate": 33, "profile_image": "https://www.gravatar.com/avatar/8b6d35219e1808520bc238b28161e2e6?s=128&d=identicon&r=PG", "display_name": "Borodin", "link": "https://stackoverflow.com/users/622310/borodin"}, "edited": false, "score": 0, "creation_date": 1480699464, "post_id": 40932837, "comment_id": 69086939, "body": "@Borodin - I got it :) Turns out there was something in $IN that was printing utf8 to STDIN, which I guess is what we screwing it up. Thanks for sticking with me!"}], "answers": [{"comments": [{"owner": {"reputation": 123805, "user_id": 622310, "user_type": "registered", "accept_rate": 33, "profile_image": "https://www.gravatar.com/avatar/8b6d35219e1808520bc238b28161e2e6?s=128&d=identicon&r=PG", "display_name": "Borodin", "link": "https://stackoverflow.com/users/622310/borodin"}, "edited": false, "score": 2, "creation_date": 1480757323, "post_id": 40937767, "comment_id": 69102878, "body": "Absolutely. <code>binmode(STDOUT, &quot;:utf8&quot;)</code> will encode the data into UTF-8, treating each byte as if it were a single character. That will <i>double-encode</i> data if it is already encoded, as I suggested. But that makes the <i>left-hand</i> image the faulty one. Did you get them mixed up? It&#39;s certainly the one that <i>looks</i> wrong."}, {"owner": {"reputation": 4155, "user_id": 2006878, "user_type": "registered", "accept_rate": 74, "profile_image": "https://i.stack.imgur.com/VepQx.jpg?s=128&g=1", "display_name": "Andrew Newby", "link": "https://stackoverflow.com/users/2006878/andrew-newby"}, "reply_to_user": {"reputation": 123805, "user_id": 622310, "user_type": "registered", "accept_rate": 33, "profile_image": "https://www.gravatar.com/avatar/8b6d35219e1808520bc238b28161e2e6?s=128&d=identicon&r=PG", "display_name": "Borodin", "link": "https://stackoverflow.com/users/622310/borodin"}, "edited": false, "score": 0, "creation_date": 1480927657, "post_id": 40937767, "comment_id": 69149482, "body": "@Borodin - haha yes, you are correct - I had them mixed up in the WinMerge compare window. It&#39;d been one of those days!"}, {"owner": {"reputation": 123805, "user_id": 622310, "user_type": "registered", "accept_rate": 33, "profile_image": "https://www.gravatar.com/avatar/8b6d35219e1808520bc238b28161e2e6?s=128&d=identicon&r=PG", "display_name": "Borodin", "link": "https://stackoverflow.com/users/622310/borodin"}, "edited": false, "score": 1, "creation_date": 1480927840, "post_id": 40937767, "comment_id": 69149596, "body": "AndrewNewby: So you don&#39;t show the piece of code where the problem is <i>and</i> you swap the good and bad versions of the data! Didn&#39;t stand a chance really, did we! :)"}, {"owner": {"reputation": 4155, "user_id": 2006878, "user_type": "registered", "accept_rate": 74, "profile_image": "https://i.stack.imgur.com/VepQx.jpg?s=128&g=1", "display_name": "Andrew Newby", "link": "https://stackoverflow.com/users/2006878/andrew-newby"}, "reply_to_user": {"reputation": 123805, "user_id": 622310, "user_type": "registered", "accept_rate": 33, "profile_image": "https://www.gravatar.com/avatar/8b6d35219e1808520bc238b28161e2e6?s=128&d=identicon&r=PG", "display_name": "Borodin", "link": "https://stackoverflow.com/users/622310/borodin"}, "edited": false, "score": 0, "creation_date": 1480929728, "post_id": 40937767, "comment_id": 69150647, "body": "@Borodin - the problem was with this: <code>binmode(STDOUT, &quot;:utf8&quot;);</code>, in the GT::CGI module (i.e $IN). Because I changed from using <code>print $IN-&gt;header($IN-&gt;file_headers(....))</code> to just a basic  version - ie <code>print qq|Content-type: application&#47;x-download\\nContent-Disposition: attachment; filename=&quot;csv_files.tar&quot;\\n\\n|;</code>, this got around the issue (as $IN-&gt;header isn&#39;t called now, and thats where the extra unwanted header was being printed :))"}], "tags": [], "owner": {"reputation": 4155, "user_id": 2006878, "user_type": "registered", "accept_rate": 74, "profile_image": "https://i.stack.imgur.com/VepQx.jpg?s=128&g=1", "display_name": "Andrew Newby", "link": "https://stackoverflow.com/users/2006878/andrew-newby"}, "is_accepted": true, "score": 0, "last_activity_date": 1480927695, "last_edit_date": 1480927695, "creation_date": 1480699427, "answer_id": 40937767, "question_id": 40932837, "link": "https://stackoverflow.com/questions/40932837/tar-file-downloaded-in-perl-corrupts-the-utf8-and-file/40937767#40937767", "title": "Tar file downloaded in Perl, corrupts the UTF8 (and file)", "body": "<p>Ok - I'm not too sure what is going on, but I managed to get it working. I took out the function that prints the headers:</p>\n\n<pre><code>print $IN-&gt;header($IN-&gt;file_headers(\n    filename =&gt; \"csv_files.tar\",\n    mimetype =&gt; 'application/x-download',\n    inline   =&gt; 0,\n    size     =&gt; -s $filepath\n));\n</code></pre>\n\n<p>and just replaced it with my own simple headers:</p>\n\n<pre><code>print qq|Content-type: application/x-download\\nContent-Disposition: attachment; filename=\"csv_files.tar\"\\n\\n|;\n</code></pre>\n\n<p>I wonder if it has something to do with this in the $IN module:</p>\n\n<pre><code>binmode(STDOUT, \":utf8\");\n</code></pre>\n"}], "owner": {"reputation": 4155, "user_id": 2006878, "user_type": "registered", "accept_rate": 74, "profile_image": "https://i.stack.imgur.com/VepQx.jpg?s=128&g=1", "display_name": "Andrew Newby", "link": "https://stackoverflow.com/users/2006878/andrew-newby"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 206, "favorite_count": 0, "accepted_answer_id": 40937767, "answer_count": 1, "score": 2, "last_activity_date": 1480929784, "creation_date": 1480683597, "last_edit_date": 1480929784, "question_id": 40932837, "link": "https://stackoverflow.com/questions/40932837/tar-file-downloaded-in-perl-corrupts-the-utf8-and-file", "title": "Tar file downloaded in Perl, corrupts the UTF8 (and file)", "body": "<p>I'm trying to figure out what is going on here. I have the following code:</p>\n\n<pre><code># compress and force a download of the .zip\n`cd /srv/www/domain.net/www/cgi-bin/admin/amazon_template_tmp/; tar -cvvf files.tar *`;\n\nmy $filepath = '/srv/www/domain.net/www/cgi-bin/admin/amazon_template_tmp/files.tar';\nmy $file = \\do { local *FH; *FH };\nopen $file, \"&lt;$filepath\" or die \"Unable to open file '$filepath': $!\";\nbinmode $file;\nbinmode STDOUT;\n\nprint $IN-&gt;header($IN-&gt;file_headers(\n    filename =&gt; \"csv_files.tar\",\n    mimetype =&gt; 'application/gzip',\n    inline   =&gt; 0,\n    size     =&gt; -s $filepath\n));\n\n{\n    local $\\;\n    while (read($file, my $chunk, 4096)) {\n        print $chunk;\n    }\n}\n</code></pre>\n\n<p>This tells the script to compress that folder into a .tar file, and then to grab it and download. There are a couple of issues:</p>\n\n<p>1) If I compared the file (downloaded via FTP), to the one my script is downloading (via the browser), I get corrupt utf8 characters:</p>\n\n<p>(oops, I have these the wrong way around - as noted by someone :))\n<a href=\"https://i.stack.imgur.com/aasiy.jpg\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/aasiy.jpg\" alt=\"enter image description here\"></a></p>\n\n<p>2) The downloaded file (via the browser), opens in WinRar - but it only includes the first file (and not all of that either). There error I get is:</p>\n\n<blockquote>\n  <p>!   C:\\Users\\Andy\\AppData\\Local\\Temp\\csv_files-1.tar: The archive is\n  corrupt</p>\n</blockquote>\n\n<p>Can someone point me in the right direction? I thought I had all the <code>binmode</code> / <code>STDOUT</code> stuff set up right, so I'm a bit confused!</p>\n\n<p><strong>As an update:</strong> The following is the headers that are being passed along to the browser:</p>\n\n<pre><code>Content-type: application/gzip\nContent-Disposition: attachment; filename=\"csv_files.tar\"; size=71680\nContent-Length: 71680\n</code></pre>\n\n<p>I've also tried this method for printing the contents:</p>\n\n<pre><code>open FILE, \"&lt; $filepath\" or die \"can't open : $!\";\nbinmode FILE;\nlocal $/ = \\10240;\nwhile (&lt;FILE&gt;){\n    print $_;\n}\nclose FILE;\n</code></pre>\n\n<p>Still not joy though. I'm almost at the point of giving up, and just doing a <code>Location:</code> redirection to the file, so the browser downloads it that way (this is only an admin backend tool, which is why I can read the file even though its in the cgi-bin)</p>\n"}, {"tags": ["regex", "perl"], "comments": [{"owner": {"reputation": 1560, "user_id": 3978238, "user_type": "registered", "accept_rate": 60, "profile_image": "https://i.stack.imgur.com/1lt6z.jpg?s=128&g=1", "display_name": "bharadhwaj", "link": "https://stackoverflow.com/users/3978238/bharadhwaj"}, "edited": false, "score": 0, "creation_date": 1480677283, "post_id": 40930884, "comment_id": 69072671, "body": "In which programming language do you want to do this?"}, {"owner": {"reputation": 51521, "user_id": 2566198, "user_type": "registered", "accept_rate": 67, "profile_image": "https://i.stack.imgur.com/Y34ZA.jpg?s=128&g=1", "display_name": "Sobrique", "link": "https://stackoverflow.com/users/2566198/sobrique"}, "edited": false, "score": 6, "creation_date": 1480677766, "post_id": 40930884, "comment_id": 69072967, "body": "We need considerably more to be able to answer. See <a href=\"https://stackoverflow.com/questions/how-to-ask\">How to Ask</a>. At the very least, sample input and output, and what you&#39;ve tried so far and where you&#39;re stuck."}], "answers": [{"tags": [], "owner": {"reputation": 2415, "user_id": 4251338, "user_type": "registered", "accept_rate": 90, "profile_image": "https://i.stack.imgur.com/UNbCO.png?s=128&g=1", "display_name": "ssr1012", "link": "https://stackoverflow.com/users/4251338/ssr1012"}, "is_accepted": false, "score": 0, "last_activity_date": 1480678405, "creation_date": 1480678405, "answer_id": 40931268, "question_id": 40930884, "link": "https://stackoverflow.com/questions/40930884/regex-perl-replace/40931268#40931268", "title": "regex perl replace", "body": "<p>Might be you are expecting this:</p>\n\n<pre><code>use strict;\nuse warnings;\n\nwhile(&lt;DATA&gt;) {  $_=~s/^((?:(?!other).)*)other//i;  print $_;  }\n\n__DATA__\nthe browser separates off the name/value pairs and other information which is sent in the header and puts it in\n</code></pre>\n\n<p>Output:</p>\n\n<pre><code> information which is sent in the header and puts it in\n</code></pre>\n"}], "owner": {"reputation": 1, "user_id": 7240889, "user_type": "registered", "profile_image": "https://lh6.googleusercontent.com/-HQODNPSxEnc/AAAAAAAAAAI/AAAAAAAAAM8/F06SuIj9xWU/photo.jpg?sz=128", "display_name": "Pradeep kumar reddy Byreddy", "link": "https://stackoverflow.com/users/7240889/pradeep-kumar-reddy-byreddy"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 56, "favorite_count": 0, "answer_count": 1, "score": -3, "last_activity_date": 1480683366, "creation_date": 1480677109, "last_edit_date": 1480683366, "question_id": 40930884, "link": "https://stackoverflow.com/questions/40930884/regex-perl-replace", "title": "regex perl replace", "body": "<p>I have a file and the word is present in the middle of the line, based on the word need to replace from starting of the line till the pattern matched.</p>\n\n<p>Sample line:</p>\n\n<p><code>the browser separates off the name/value pairs and other information which is sent in the header and puts it in</code></p>\n\n<p>Here we need to find the word <code>other</code> and replace from the starting of the line till the word <code>other</code> with <code>the</code></p>\n\n<p>Thanks in advance.</p>\n"}, {"tags": ["perl"], "comments": [{"owner": {"reputation": 53041, "user_id": 4653379, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/b3953dbedd0dabff5cbc3db9b0835b14?s=128&d=identicon&r=PG&f=1", "display_name": "zdim", "link": "https://stackoverflow.com/users/4653379/zdim"}, "edited": false, "score": 0, "creation_date": 1480668447, "post_id": 40927700, "comment_id": 69067098, "body": "The <code>$a</code> is a (scalar) <i>variable</i>, which has string <code>b</code> as its value (coded with quotes <code>&#39;b&#39;</code>).  This <code>$b</code> that you ask about would be some other, completely unrelated, <i>variable</i>."}, {"owner": {"reputation": 830, "user_id": 2165524, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/Xg2Jb.jpg?s=128&g=1", "display_name": "&#181;tex", "link": "https://stackoverflow.com/users/2165524/%c2%b5tex"}, "reply_to_user": {"reputation": 53041, "user_id": 4653379, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/b3953dbedd0dabff5cbc3db9b0835b14?s=128&d=identicon&r=PG&f=1", "display_name": "zdim", "link": "https://stackoverflow.com/users/4653379/zdim"}, "edited": false, "score": 0, "creation_date": 1480668541, "post_id": 40927700, "comment_id": 69067133, "body": "@zdim Ok.. is there any way to do it.."}, {"owner": {"reputation": 53041, "user_id": 4653379, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/b3953dbedd0dabff5cbc3db9b0835b14?s=128&d=identicon&r=PG&f=1", "display_name": "zdim", "link": "https://stackoverflow.com/users/4653379/zdim"}, "edited": false, "score": 0, "creation_date": 1480668796, "post_id": 40927700, "comment_id": 69067289, "body": "But, to do what?  You say &quot;<i>fetch value <code>$b</code></i>&quot; -- what do you mean by that?  There is no value <code>$b</code> -- that would be some other variable. Your code <code>$a = &#39;b&#39;</code> has no &quot;<i>value <code>$b</code></i>&quot; in it."}, {"owner": {"reputation": 53041, "user_id": 4653379, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/b3953dbedd0dabff5cbc3db9b0835b14?s=128&d=identicon&r=PG&f=1", "display_name": "zdim", "link": "https://stackoverflow.com/users/4653379/zdim"}, "edited": false, "score": 1, "creation_date": 1480668890, "post_id": 40927700, "comment_id": 69067343, "body": "Ah -- you mean to associate <code>&#39;b&#39;</code> and <code>$b</code> in some way?  They are completely unrelated, completely different things. The <code>$</code> in Perl is used to denote a variable, something that can have a value.  So <code>$b</code> is a name of a variable.  The other one, <code>&#39;b&#39;</code> is just a string, a value. Like <code>&#39;hey there&#39;</code> or <code>25.34</code>.  No relation whatsoever."}, {"owner": {"reputation": 830, "user_id": 2165524, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/Xg2Jb.jpg?s=128&g=1", "display_name": "&#181;tex", "link": "https://stackoverflow.com/users/2165524/%c2%b5tex"}, "reply_to_user": {"reputation": 53041, "user_id": 4653379, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/b3953dbedd0dabff5cbc3db9b0835b14?s=128&d=identicon&r=PG&f=1", "display_name": "zdim", "link": "https://stackoverflow.com/users/4653379/zdim"}, "edited": false, "score": 0, "creation_date": 1480668936, "post_id": 40927700, "comment_id": 69067365, "body": "yes.. I want to use only a but want to fetch value @b"}, {"owner": {"reputation": 830, "user_id": 2165524, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/Xg2Jb.jpg?s=128&g=1", "display_name": "&#181;tex", "link": "https://stackoverflow.com/users/2165524/%c2%b5tex"}, "reply_to_user": {"reputation": 53041, "user_id": 4653379, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/b3953dbedd0dabff5cbc3db9b0835b14?s=128&d=identicon&r=PG&f=1", "display_name": "zdim", "link": "https://stackoverflow.com/users/4653379/zdim"}, "edited": false, "score": 0, "creation_date": 1480668959, "post_id": 40927700, "comment_id": 69067382, "body": "something like $$a ==&gt; $b ==&gt; 10"}, {"owner": {"reputation": 53041, "user_id": 4653379, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/b3953dbedd0dabff5cbc3db9b0835b14?s=128&d=identicon&r=PG&f=1", "display_name": "zdim", "link": "https://stackoverflow.com/users/4653379/zdim"}, "edited": false, "score": 3, "creation_date": 1480669096, "post_id": 40927700, "comment_id": 69067465, "body": "If you are thinking about building a <i>variable name</i> from some given string (stored in another variable), that&#39;s called <i>symbolic references</i> and the long honored advice is to <i>not do that</i>.  It is very tricky and leads to bugs.  Search for the term  and you&#39;ll find documentation (it  will also tell you to stay away from such techniques)."}, {"owner": {"reputation": 51521, "user_id": 2566198, "user_type": "registered", "accept_rate": 67, "profile_image": "https://i.stack.imgur.com/Y34ZA.jpg?s=128&g=1", "display_name": "Sobrique", "link": "https://stackoverflow.com/users/2566198/sobrique"}, "edited": false, "score": 2, "creation_date": 1480672064, "post_id": 40927700, "comment_id": 69069260, "body": "Here is my favourite link to explain: <a href=\"http://perl.plover.com/varvarname.html\" rel=\"nofollow noreferrer\">Why it&#39;s a bad idea to use a variable as a variable name in perl</a>"}, {"owner": {"reputation": 830, "user_id": 2165524, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/Xg2Jb.jpg?s=128&g=1", "display_name": "&#181;tex", "link": "https://stackoverflow.com/users/2165524/%c2%b5tex"}, "edited": false, "score": 0, "creation_date": 1480674786, "post_id": 40927700, "comment_id": 69071003, "body": "why it is downvoted.."}], "answers": [{"comments": [{"owner": {"reputation": 51521, "user_id": 2566198, "user_type": "registered", "accept_rate": 67, "profile_image": "https://i.stack.imgur.com/Y34ZA.jpg?s=128&g=1", "display_name": "Sobrique", "link": "https://stackoverflow.com/users/2566198/sobrique"}, "edited": false, "score": 2, "creation_date": 1480672015, "post_id": 40928414, "comment_id": 69069224, "body": "<code>s&#47;not a great way&#47;a really awful way&#47;</code>"}, {"owner": {"reputation": 123805, "user_id": 622310, "user_type": "registered", "accept_rate": 33, "profile_image": "https://www.gravatar.com/avatar/8b6d35219e1808520bc238b28161e2e6?s=128&d=identicon&r=PG", "display_name": "Borodin", "link": "https://stackoverflow.com/users/622310/borodin"}, "edited": false, "score": 2, "creation_date": 1480674218, "post_id": 40928414, "comment_id": 69070654, "body": "<code>eval</code> is misleading: there is no need for it. <code>perl -e &#39;$a = &#39;b&#39;; $b = 20; print $$a, &quot;\\n&quot;&#39;</code> works just fine"}, {"owner": {"reputation": 7801, "user_id": 1212401, "user_type": "registered", "accept_rate": 62, "profile_image": "https://www.gravatar.com/avatar/ed478436fcb05fd3ae15da650d2a8cd6?s=128&d=identicon&r=PG", "display_name": "Chris Doyle", "link": "https://stackoverflow.com/users/1212401/chris-doyle"}, "reply_to_user": {"reputation": 123805, "user_id": 622310, "user_type": "registered", "accept_rate": 33, "profile_image": "https://www.gravatar.com/avatar/8b6d35219e1808520bc238b28161e2e6?s=128&d=identicon&r=PG", "display_name": "Borodin", "link": "https://stackoverflow.com/users/622310/borodin"}, "edited": false, "score": 0, "creation_date": 1480677324, "post_id": 40928414, "comment_id": 69072704, "body": "@Borodin - oh i didnt realise that"}, {"owner": {"reputation": 7801, "user_id": 1212401, "user_type": "registered", "accept_rate": 62, "profile_image": "https://www.gravatar.com/avatar/ed478436fcb05fd3ae15da650d2a8cd6?s=128&d=identicon&r=PG", "display_name": "Chris Doyle", "link": "https://stackoverflow.com/users/1212401/chris-doyle"}, "reply_to_user": {"reputation": 51521, "user_id": 2566198, "user_type": "registered", "accept_rate": 67, "profile_image": "https://i.stack.imgur.com/Y34ZA.jpg?s=128&g=1", "display_name": "Sobrique", "link": "https://stackoverflow.com/users/2566198/sobrique"}, "edited": false, "score": 0, "creation_date": 1480677350, "post_id": 40928414, "comment_id": 69072725, "body": "@Sobrique I agree i would never use this myself, i would normally use a hash or the likes."}], "tags": [], "owner": {"reputation": 7801, "user_id": 1212401, "user_type": "registered", "accept_rate": 62, "profile_image": "https://www.gravatar.com/avatar/ed478436fcb05fd3ae15da650d2a8cd6?s=128&d=identicon&r=PG", "display_name": "Chris Doyle", "link": "https://stackoverflow.com/users/1212401/chris-doyle"}, "is_accepted": false, "score": -3, "last_activity_date": 1480670233, "last_edit_date": 1480670233, "creation_date": 1480669778, "answer_id": 40928414, "question_id": 40927700, "link": "https://stackoverflow.com/questions/40927700/how-to-fetch-the-value-stored-at-the-value-of-any-variable-in-perl/40928414#40928414", "title": "How to fetch the value stored at the value of any variable in perl", "body": "<p>I would not use this approach personally in my own code, but given what you asked you could use <code>eval</code> to evaluate the string value from one variable as perl variable name for another.</p>\n\n<pre><code>perl -e '$a='b'; $b=20; print eval(\"\\$$a\"), \"\\n\";'\n20\n</code></pre>\n\n<p>However this is not a great way to do things. Maybe your questions would get a better answer if you explained the purpose of why you want to be able to get the value from one variable based on the string name in another variable.</p>\n"}, {"tags": [], "owner": {"reputation": 51521, "user_id": 2566198, "user_type": "registered", "accept_rate": 67, "profile_image": "https://i.stack.imgur.com/Y34ZA.jpg?s=128&g=1", "display_name": "Sobrique", "link": "https://stackoverflow.com/users/2566198/sobrique"}, "is_accepted": true, "score": 2, "last_activity_date": 1480672121, "creation_date": 1480672121, "answer_id": 40929137, "question_id": 40927700, "link": "https://stackoverflow.com/questions/40927700/how-to-fetch-the-value-stored-at-the-value-of-any-variable-in-perl/40929137#40929137", "title": "How to fetch the value stored at the value of any variable in perl", "body": "<p><a href=\"http://perl.plover.com/varvarname.html\" rel=\"nofollow noreferrer\">Here is a great summary of why it's a bad idea to use a variable as a variable name</a>. </p>\n\n<p>So I'm not going to tell you how to do it, because it's like teaching a toddler how to load a gun. </p>\n\n<p>What you need here is a <code>hash</code>. Hashes are perl data structures which are key-value pairs.</p>\n\n<pre><code>#!/usr/bin/env perl\nuse strict;\nuse warnings;\n\nmy %stuff;\n$stuff{'b'} = 10;\n\nmy $target = 'b';\nprint $stuff{$target}; \n</code></pre>\n"}, {"tags": [], "owner": {"reputation": 3432, "user_id": 604642, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/48daad611ba387f8473b0c1e5792aa3f?s=128&d=identicon&r=PG", "display_name": "shawnhcorey", "link": "https://stackoverflow.com/users/604642/shawnhcorey"}, "is_accepted": false, "score": 1, "last_activity_date": 1480686053, "creation_date": 1480686053, "answer_id": 40933570, "question_id": 40927700, "link": "https://stackoverflow.com/questions/40927700/how-to-fetch-the-value-stored-at-the-value-of-any-variable-in-perl/40933570#40933570", "title": "How to fetch the value stored at the value of any variable in perl", "body": "<p>What you are trying to do is called a <a href=\"http://perldoc.perl.org/perlref.html#Symbolic-references\" rel=\"nofollow noreferrer\">symbolic reference</a>. Back before version 5, this was the only way in Perl to use a reference. Nowadays, it is considered deprecated and should be avoided. Use a hash instead. I'm only providing an example so you can spot it in any code you have to maintain and eliminate it.</p>\n\n<p>Symbolic references only work for dynamic variables, that is, variables declare with <code>our</code> or <a href=\"http://perldoc.perl.org/vars.html\" rel=\"nofollow noreferrer\">use vars</a>. Also note that you have to turn off <code>use strict refs</code> for it to work.</p>\n\n<pre><code>use strict;\nuse warnings;\n\nmy $x = 'y';\nour $y = 10;\n\n{\n    no strict qw( refs );\n    print ${$x}, \"\\n\";\n}\n</code></pre>\n\n<p>BTW, you should also avoid using <code>$a</code> and <code>$b</code>. They are used by Perl's <code>sort</code> and can lead to confusion.</p>\n"}], "owner": {"reputation": 830, "user_id": 2165524, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/Xg2Jb.jpg?s=128&g=1", "display_name": "&#181;tex", "link": "https://stackoverflow.com/users/2165524/%c2%b5tex"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 146, "favorite_count": 0, "accepted_answer_id": 40929137, "answer_count": 3, "score": -3, "last_activity_date": 1480686053, "creation_date": 1480667203, "last_edit_date": 1480684360, "question_id": 40927700, "link": "https://stackoverflow.com/questions/40927700/how-to-fetch-the-value-stored-at-the-value-of-any-variable-in-perl", "title": "How to fetch the value stored at the value of any variable in perl", "body": "<p>Need to fetch the value stored at the value of any variable in perl. \nFor example - </p>\n\n<pre><code>$a = 'b';\n$b = '10;\n</code></pre>\n\n<p>Now how to fetch value $b using $a;</p>\n"}, {"tags": ["xml", "perl"], "comments": [{"owner": {"reputation": 51521, "user_id": 2566198, "user_type": "registered", "accept_rate": 67, "profile_image": "https://i.stack.imgur.com/Y34ZA.jpg?s=128&g=1", "display_name": "Sobrique", "link": "https://stackoverflow.com/users/2566198/sobrique"}, "edited": false, "score": 1, "creation_date": 1480672441, "post_id": 40927583, "comment_id": 69069498, "body": "Why are you mixing <code>XML::Twig</code> and <code>XML::LibXML</code>? That looks like a road to pain."}, {"owner": {"reputation": 51521, "user_id": 2566198, "user_type": "registered", "accept_rate": 67, "profile_image": "https://i.stack.imgur.com/Y34ZA.jpg?s=128&g=1", "display_name": "Sobrique", "link": "https://stackoverflow.com/users/2566198/sobrique"}, "edited": false, "score": 0, "creation_date": 1480672596, "post_id": 40927583, "comment_id": 69069586, "body": "Can you clarify what the expected inputs and outputs are? Perhaps a <a href=\"https://stackoverflow.com/help/minimal-reproducible-example\">minimal reproducible example</a> that we can run, with what the desired output would be?"}, {"owner": {"reputation": 123805, "user_id": 622310, "user_type": "registered", "accept_rate": 33, "profile_image": "https://www.gravatar.com/avatar/8b6d35219e1808520bc238b28161e2e6?s=128&d=identicon&r=PG", "display_name": "Borodin", "link": "https://stackoverflow.com/users/622310/borodin"}, "edited": false, "score": 0, "creation_date": 1480676585, "post_id": 40927583, "comment_id": 69072176, "body": "This is a bit of a mess. You create a list of <code>category</code> names from <code>categories.xml</code> and write it to disk; then you read it back and search the same xml file for those <code>category</code> elements! You will need to show <code>categories.xml</code> as well if you want help with this."}], "answers": [{"tags": [], "owner": {"reputation": 51521, "user_id": 2566198, "user_type": "registered", "accept_rate": 67, "profile_image": "https://i.stack.imgur.com/Y34ZA.jpg?s=128&g=1", "display_name": "Sobrique", "link": "https://stackoverflow.com/users/2566198/sobrique"}, "is_accepted": false, "score": 1, "last_activity_date": 1480673088, "creation_date": 1480673088, "answer_id": 40929484, "question_id": 40927583, "link": "https://stackoverflow.com/questions/40927583/how-to-get-a-node-value-from-xml-based-on-another-node-value-using-perl/40929484#40929484", "title": "How to get a node value from xml based on another node value using perl", "body": "<p>It's a bit simplified, but I think you're trying to do something like this:</p>\n\n<pre><code>#!/usr/bin/env perl\nuse warnings;\nuse strict;\n\nuse XML::Twig;\n\nmy $twig = XML::Twig -&gt; parsefile ( 'test.xml' );\nmy $project = 'ptest2'; \n\nif ( $twig -&gt; get_xpath(\"//project/name[string()=\\\"$project\\\"]\" ) ) {\n    print $twig -&gt; get_xpath(\"//project/name[string()=\\\"$project\\\"]\",0 ) -&gt; text, \" exists\\n\";\n    foreach my $branch ( $twig -&gt; get_xpath(\"//project/name[string()=\\\"$project\\\"]/../branched_from_id/..\",0 ) ) {\n       print \"$project : \", $branch -&gt; first_child_text('branched_from_id'), \" =&gt; \", $branch -&gt; first_child_text('branched_from_version'),\"\\n\";\n    }\n}\n</code></pre>\n\n<p>I've had to cut it down, because I don't have your projects list. But this will use <code>XML::Twig</code>s <code>get_xpath</code> to find a project name - although note, it doesn't differentiate whether it's a branch or not for the first part of the check.</p>\n\n<p>And then pulls out an <code>xpath</code> match based on this of all the branches that 'match'.</p>\n"}], "owner": {"reputation": 53, "user_id": 6935930, "user_type": "registered", "accept_rate": 75, "profile_image": "https://www.gravatar.com/avatar/00b57f3aa0e3fa939b181c849f734fb3?s=128&d=identicon&r=PG&f=1", "display_name": "Ras", "link": "https://stackoverflow.com/users/6935930/ras"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 112, "favorite_count": 0, "answer_count": 1, "score": 1, "last_activity_date": 1480674593, "creation_date": 1480666709, "last_edit_date": 1480674593, "question_id": 40927583, "link": "https://stackoverflow.com/questions/40927583/how-to-get-a-node-value-from-xml-based-on-another-node-value-using-perl", "title": "How to get a node value from xml based on another node value using perl", "body": "<p></p>\n\n<p>I have my <code>projects.xml</code> file as below:</p>\n\n<pre class=\"lang-xml prettyprint-override\"><code>&lt;projects&gt;\n    &lt;project&gt;\n        &lt;id&gt;ID_ABCD1&lt;/id&gt;\n        &lt;name&gt;ptest1&lt;/name&gt;\n    &lt;/project&gt;\n    &lt;project&gt;\n        &lt;id&gt;IDB_abcd&lt;/id&gt;\n        &lt;name&gt;ptest1&lt;/name&gt;\n        &lt;branch&gt;bnm1&lt;/branch&gt;\n        &lt;branched_from_id&gt;ID_ABCD1&lt;/branched_from_id&gt;\n        &lt;branched_from_version&gt;111&lt;/branched_from_version&gt;\n    &lt;/project&gt;\n    &lt;project&gt;\n        &lt;id&gt;ID_ABCD2&lt;/id&gt;\n        &lt;name&gt;ptest2&lt;/name&gt;\n    &lt;/project&gt;\n    &lt;project&gt;\n        &lt;id&gt;IDB_abcd2&lt;/id&gt;\n        &lt;name&gt;ptest2&lt;/name&gt;\n        &lt;branch&gt;bnm2&lt;/branch&gt;\n        &lt;branched_from_id&gt;ID_ABCD2&lt;/branched_from_id&gt;\n        &lt;branched_from_version&gt;111&lt;/branched_from_version&gt;\n    &lt;/project&gt;\n&lt;/projects&gt;\n</code></pre>\n\n<p>In my existing code I am getting project names based on project ID obtained from another file <code>categories.xml</code>.</p>\n\n<p>For each of these project names I have to search is there any <code>branch</code> element for it, and if the element exists then I have to get \nthe corresponding <code>branch</code> name and <code>branched_from_version</code>. </p>\n\n<p><code>branched_from_id</code> value is the ID of some other project.</p>\n\n<pre class=\"lang-perl prettyprint-override\"><code>#!/usr/bin/env perl\n\nuse strict;\n\nuse XML::LibXML;\nuse File::Basename;\nuse File::Find::Rule;\nuse XML::Twig;\n\nmy $cat_xml  = '/home/Ras/categories.xml';\nmy $twig     = XML::Twig-&gt;parse( $cat_xml );\nmy $doc      = XML::LibXML-&gt;new-&gt;parse_file( $cat_xml );\n\nmy $proj_xml = '/home/Ras/projects.xml';\nmy $twigp    = XML::LibXML-&gt;new-&gt;parse_file( $proj_xml );\n\nmy @nodes    = $doc-&gt;findnodes( '/categories/category' );\n\nmy $catname  = \"/home/Ras/category.txt\";\n\nopen FH, \"&gt; $catname\" or warn \"not able to open catname file\";\n\nforeach my $catnode ( @nodes ) {\n    my @catn = $catnode-&gt;findvalue( '@name' );\n    print FH \"@catn \\n\";\n}\n\nmy @catlist = `cat /home/Ras/category.txt`;\n\nforeach my $cat ( @catlist ) {\n\n    chomp( $cat );\n    $cat =~ s/^\\s+|\\s$//g;\n\n    my $path = \"./category[\\@name=\\\"$cat\\\"]/project\";\n\n    foreach my $project ( $twig-&gt;findnodes( \"$path\" ) ) {\n\n        my $projout = $project-&gt;text;\n\n        foreach my $projname ( $twigp-&gt;findvalue( \"/projects/project[id = '$projout']/name\" ) ) {\n\n        }\n    }\n}\n</code></pre>\n\n<p>In above code <code>$projout</code> contain the ID value of my <code>project.xml</code> file. But those ID value with <code>branch</code> node are not there.</p>\n\n<p>I have name value in <code>$projname</code>. So based on the name value in <code>$projname</code> I need to get the corresponding <code>branch</code> value and <code>branched_from_version</code> value.</p>\n"}, {"tags": ["regex", "perl", "dictionary"], "comments": [{"owner": {"reputation": 12075, "user_id": 1137055, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/59d7b43b9eb7d01bd8f7e51febe6053c?s=128&d=identicon&r=PG", "display_name": "dgw", "link": "https://stackoverflow.com/users/1137055/dgw"}, "edited": false, "score": 4, "creation_date": 1480666359, "post_id": 40926870, "comment_id": 69066195, "body": "Don&#39;t try to parse <a href=\"http://stackoverflow.com/questions/1732348/regex-match-open-tags-except-xhtml-self-contained-tags/1732454#1732454\">XML/HTML</a> with regexps yourself, use a <a href=\"http://search.cpan.org/~mirod/XML-Twig/Twig.pm\" rel=\"nofollow noreferrer\">XML</a> parser instead."}, {"owner": {"reputation": 481636, "user_id": 3832970, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/64323e6cf08401474da3bf770ea13b58?s=128&d=identicon&r=PG&f=1", "display_name": "Wiktor Stribi\u017cew", "link": "https://stackoverflow.com/users/3832970/wiktor-stribi%c5%bcew"}, "edited": false, "score": 3, "creation_date": 1480666915, "post_id": 40926870, "comment_id": 69066402, "body": "A one-liner: <a href=\"https://ideone.com/KwEapL\" rel=\"nofollow noreferrer\"><code>$str =~ s{&lt;SampleElement[^&gt;]*oldattribs=&quot;\\K(?&lt;v&gt;[^&quot;]+)}    [&quot;$+{v}\\&quot; newattribs=\\&quot;&quot; . $+{v}=~s!\\pL*(?&lt;f&gt;\\d+)$|\\pL*(?&lt;s&gt;\\d+)\\s*! $+{f} ? $+{f} : $+{s}.&quot;,&quot;!egr]e;</code></a>."}], "answers": [{"tags": [], "owner": {"reputation": 53041, "user_id": 4653379, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/b3953dbedd0dabff5cbc3db9b0835b14?s=128&d=identicon&r=PG&f=1", "display_name": "zdim", "link": "https://stackoverflow.com/users/4653379/zdim"}, "is_accepted": true, "score": 1, "last_activity_date": 1481190372, "last_edit_date": 1481190372, "creation_date": 1480665241, "answer_id": 40927263, "question_id": 40926870, "link": "https://stackoverflow.com/questions/40926870/join-split-and-map-using-perl-for-creating-new-attribs/40927263#40927263", "title": "Join, split and map using perl for creating new attribs", "body": "<p>Here is a simple way to build shown output from the input <code>$str</code>.  </p>\n\n<p>Note: The input is in single quotes, not double. Then the <code>\\\"</code> isn't a problem in the regex.</p>\n\n<pre><code>my $str = '&lt;SampleElement oldattribs=\\\"sa1 sa2 sa3\\\"&gt;';\n\n# Pull 'sa1 sa2 sa3' string out of it\nmy ($attrs) = $str =~ /=\\\\\"([^\\\\]+)/;    # \" # (turn off bad syntax highlight)\n\n# Build '1,2,3' string from it\nmy $indices = join ',', map { /(\\d+)/ } split ' ', $attrs;\n\n# Extract content between &lt; &gt; so to add to it, put it back together\nmy ($content) = $str =~ /&lt;(.*)&gt;/;    \nmy $outout = '&lt;' . $content . \" newattribs=\\\"$indices\\\"\" . '&gt;';\n</code></pre>\n\n<p>This gives the required output. </p>\n\n<p>Some of these can be combined into single statements, if you are into that. For example</p>\n\n<pre><code>my $indices = \n    join ',', map { /(\\d+)/ } split ' ', ($str =~ /\"([^\\\\]+)/)[0];   # \"\n\n$str =~ s/&lt;(.*)&gt;/&lt;$1 newattribs=\\\"$indices\\\"&gt;/;\n</code></pre>\n\n<p>All of this <em>can</em> be rolled into one regex, but it becomes just unwieldy and hard to maintain.</p>\n\n<hr>\n\n<p>Above all &ndash; this appears to be <code>XML</code> or such ... please don't do it by hand, unless there is literally just a snippet or two. There are excellent parsers.</p>\n"}, {"comments": [{"owner": {"reputation": 12075, "user_id": 1137055, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/59d7b43b9eb7d01bd8f7e51febe6053c?s=128&d=identicon&r=PG", "display_name": "dgw", "link": "https://stackoverflow.com/users/1137055/dgw"}, "edited": false, "score": 0, "creation_date": 1480666079, "post_id": 40927419, "comment_id": 69066096, "body": "You don&#39;t need the variable <code>$foo</code>, just use <code>map { s&#47;[a-z]*&#47;&#47;i ; $_ }</code>"}, {"owner": {"reputation": 12075, "user_id": 1137055, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/59d7b43b9eb7d01bd8f7e51febe6053c?s=128&d=identicon&r=PG", "display_name": "dgw", "link": "https://stackoverflow.com/users/1137055/dgw"}, "edited": false, "score": 2, "creation_date": 1480666490, "post_id": 40927419, "comment_id": 69066240, "body": "Since perl 5.14 you could even use <code>map { s&#47;[a-z]*&#47;&#47;ir }</code>"}, {"owner": {"reputation": 53041, "user_id": 4653379, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/b3953dbedd0dabff5cbc3db9b0835b14?s=128&d=identicon&r=PG&f=1", "display_name": "zdim", "link": "https://stackoverflow.com/users/4653379/zdim"}, "edited": false, "score": 1, "creation_date": 1480666919, "post_id": 40927419, "comment_id": 69066406, "body": "That&#39;s good, but why strip off letters -- can you not match numbers instead, <code>map { &#47;(\\d+)&#47; }</code> (see my answer)? Also, this certainly misses things  --  the regex line is broken syntax wise (it does not work).  Can you please fix it, to have working code posted?"}, {"owner": {"reputation": 51521, "user_id": 2566198, "user_type": "registered", "accept_rate": 67, "profile_image": "https://i.stack.imgur.com/Y34ZA.jpg?s=128&g=1", "display_name": "Sobrique", "link": "https://stackoverflow.com/users/2566198/sobrique"}, "edited": false, "score": 0, "creation_date": 1480669519, "post_id": 40927419, "comment_id": 69067738, "body": "IMO it&#39;s really bad form to use a  <code>s</code> regex in a <code>map</code> (without the <code>r</code> flag) because it&#39;s modifying the source array, and the point of <code>map</code> is to return a new one. That sort of modifications should be done via <code>for</code> IMO - it&#39;s as efficient, and <i>much</i> clearer what you&#39;re doing."}], "tags": [], "owner": {"reputation": 2415, "user_id": 4251338, "user_type": "registered", "accept_rate": 90, "profile_image": "https://i.stack.imgur.com/UNbCO.png?s=128&g=1", "display_name": "ssr1012", "link": "https://stackoverflow.com/users/4251338/ssr1012"}, "is_accepted": false, "score": 0, "last_activity_date": 1480665944, "creation_date": 1480665944, "answer_id": 40927419, "question_id": 40926870, "link": "https://stackoverflow.com/questions/40926870/join-split-and-map-using-perl-for-creating-new-attribs/40927419#40927419", "title": "Join, split and map using perl for creating new attribs", "body": "<p>Found solution on this by searching map function:</p>\n\n<pre><code>my $str = \"&lt;SampleElement oldattribs=\\\"sa1 sa2 sa3\\\"&gt;\";\n\n$str=~s#&lt;SampleElement[^&gt;]*oldattribs=\"([^\"]*)\"#my $fulcnt=$&amp;; my $afids=$1;\nmy @affs = ();\nif($afids=~m/\\s+/)\n{\n    @affs = split /\\s/, $afids; \n    my @newas = join \",\", map { (my $foo = $_) =~ s/[a-z]*//i; $foo; } @affs ;\n    ($fulcnt.\" newattribs=\\\"@newas\\\"\");\n}\nelse\n{\n    ($fulcnt);\n}\n#eg;\n</code></pre>\n\n<p>I have updated the below line on my code:</p>\n\n<pre><code>my @newas = join \",\", map { (my $foo = $_) =~ s/[a-z]*//i; $foo; } @affs ;\n</code></pre>\n\n<blockquote>\n  <p>Instead of </p>\n</blockquote>\n\n<pre><code>my $jnafs = join \",\", map { $_=~s/[a-z]*//i, } @affs;\n</code></pre>\n\n<p>Its working thanks for all.</p>\n"}, {"tags": [], "owner": {"reputation": 51521, "user_id": 2566198, "user_type": "registered", "accept_rate": 67, "profile_image": "https://i.stack.imgur.com/Y34ZA.jpg?s=128&g=1", "display_name": "Sobrique", "link": "https://stackoverflow.com/users/2566198/sobrique"}, "is_accepted": false, "score": 3, "last_activity_date": 1480674915, "last_edit_date": 1495542649, "creation_date": 1480669378, "answer_id": 40928308, "question_id": 40926870, "link": "https://stackoverflow.com/questions/40926870/join-split-and-map-using-perl-for-creating-new-attribs/40928308#40928308", "title": "Join, split and map using perl for creating new attribs", "body": "<p>Where you're going wrong is earlier than you think -  you're parsing XML using regular expressions. XML is contextual, and regex isn't, <a href=\"https://stackoverflow.com/questions/1732348/regex-match-open-tags-except-xhtml-self-contained-tags/1732454#1732454\">so it's NEVER going to be better than a dirty hack.</a> </p>\n\n<pre><code>#!/usr/bin/env perl\nuse strict;\nuse warnings;\n\nuse XML::Twig;\nmy $twig = XML::Twig -&gt; parse ( \\*DATA );\n\nmy $sample_elt = $twig -&gt; get_xpath('//SampleElement',0); \nmy @old_att = split ( ' ', $sample_elt -&gt; att('oldattribs') );\n$sample_elt -&gt; set_att('newattribs', join \" \", map { /(\\d+)/ } @old_att);\n\n$twig -&gt; set_pretty_print ( 'indented_a' );\n$twig -&gt; print;\n\n\n__DATA__\n&lt;XML&gt;\n    &lt;SampleElement oldattribs=\"sa1 sa2 sa3\"&gt;\n    &lt;/SampleElement&gt;\n&lt;/XML&gt;\n</code></pre>\n\n<p>But to answer the core of your problem - you're misusing <code>map</code> as an iterator here. </p>\n\n<pre><code>map { $_=~s/[a-z]*//i, } @affs;\n</code></pre>\n\n<p>Because what <em>that</em> is doing is iterating all the elements in <code>@affs</code> and modifying those... but <code>map</code> is just returning the result of the expression - which is <code>1</code> because it worked. </p>\n\n<p>If you <em>want</em> to change <code>@affs</code> you'd:</p>\n\n<pre><code>s/[a-z]*//i for @affs; \n</code></pre>\n\n<p>But if you <em>didn't</em> want to, then the easy answer is to use the <code>r</code> regex flag:</p>\n\n<pre><code>map { s/[a-z]*//ir } @affs;\n</code></pre>\n\n<p>Or as I've done in my example:</p>\n\n<pre><code>map { /(\\d+)/ } @affs; \n</code></pre>\n\n<p>Which regex matches and captures the numeric part of the string, but as a result the 'captured' text is what's returned. </p>\n"}], "owner": {"reputation": 2415, "user_id": 4251338, "user_type": "registered", "accept_rate": 90, "profile_image": "https://i.stack.imgur.com/UNbCO.png?s=128&g=1", "display_name": "ssr1012", "link": "https://stackoverflow.com/users/4251338/ssr1012"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 511, "favorite_count": 0, "accepted_answer_id": 40927263, "answer_count": 3, "score": 3, "last_activity_date": 1481190372, "creation_date": 1480663383, "last_edit_date": 1480841250, "question_id": 40926870, "link": "https://stackoverflow.com/questions/40926870/join-split-and-map-using-perl-for-creating-new-attribs", "title": "Join, split and map using perl for creating new attribs", "body": "<pre><code>my $str = \"&lt;SampleElement oldattribs=\\\"sa1 sa2 sa3\\\"&gt;\";\n\n$str =~ s#&lt;SampleElement[^&gt;]*oldattribs=\"([^\"]*)\"#\n          my $fulcnt=$&amp;;\n          my $afids=$1;\n          my @affs = ();\n          if($afids =~ m/\\s+/) {\n              @affs = split /\\s/, $afids; \n              my $jnafs = join \",\", map { $_=~s/[a-z]*//i, } @affs;\n              ($fulcnt.\" newattribs=\\\"$jnafs\\\"\");\n          }\n          else {\n              ($fulcnt);\n          }\n         #eg;\n</code></pre>\n\n<p>My Output:</p>\n\n<pre><code>&lt;SampleElement oldattribs=\"sa1 sa2 sa3\" newattribs=\"1,1,1\"&gt;\n</code></pre>\n\n<p>Expected Output:</p>\n\n<pre><code>&lt;SampleElement oldattribs=\"sa1 sa2 sa3\" newattribs=\"1,2,3\"&gt;\n</code></pre>\n\n<p>Someone could point out me where I am doing wrong. Thanks in advance.</p>\n"}, {"tags": ["perl", "timeout", "installation", "perl-ipc-run"], "comments": [{"owner": {"reputation": 7445, "user_id": 1529709, "user_type": "registered", "accept_rate": 100, "profile_image": "https://i.stack.imgur.com/3tKqC.jpg?s=128&g=1", "display_name": "zb226", "link": "https://stackoverflow.com/users/1529709/zb226"}, "edited": false, "score": 0, "creation_date": 1498553632, "post_id": 40924750, "comment_id": 76532513, "body": "Having the same issue on Windows 8.1 x64."}], "answers": [{"comments": [{"owner": {"reputation": 35, "user_id": 7203879, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/4faa6f85c11c110a196024a86fe5719e?s=128&d=identicon&r=PG&f=1", "display_name": "c11cc", "link": "https://stackoverflow.com/users/7203879/c11cc"}, "edited": false, "score": 0, "creation_date": 1480663384, "post_id": 40926696, "comment_id": 69064985, "body": "Yeah, I noticed that bug report as well. But I still can&#39;t install it with &#39;force install&#39;. It showed the same thing."}, {"owner": {"reputation": 35, "user_id": 7203879, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/4faa6f85c11c110a196024a86fe5719e?s=128&d=identicon&r=PG&f=1", "display_name": "c11cc", "link": "https://stackoverflow.com/users/7203879/c11cc"}, "edited": false, "score": 0, "creation_date": 1480666015, "post_id": 40926696, "comment_id": 69066061, "body": "Thanks a lot. I am using ActivePerl and it worked. I have tried to install manually before, but I didn&#39;t miss <code>dmake test</code>  at that time. I am pretty new to these, so I am wondering that is  <code>dmake test</code>  necessary in the process?"}, {"owner": {"reputation": 123805, "user_id": 622310, "user_type": "registered", "accept_rate": 33, "profile_image": "https://www.gravatar.com/avatar/8b6d35219e1808520bc238b28161e2e6?s=128&d=identicon&r=PG", "display_name": "Borodin", "link": "https://stackoverflow.com/users/622310/borodin"}, "reply_to_user": {"reputation": 35, "user_id": 7203879, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/4faa6f85c11c110a196024a86fe5719e?s=128&d=identicon&r=PG&f=1", "display_name": "c11cc", "link": "https://stackoverflow.com/users/7203879/c11cc"}, "edited": false, "score": 0, "creation_date": 1480666531, "post_id": 40926696, "comment_id": 69066253, "body": "@c11cc: It&#39;s not a necessary part of getting the module installed, but it&#39;s foolish just to put a module onto your system without running its tests so that you can be sure that it&#39;s going to work. In this case you have run the tests several times anyway, and the test that&#39;s failing, <code>timeout.t</code>, is in the last three tests of the suite, so the module has passed most of the tests anyway. <code>force install</code> would do effectively the same thing, but in this case the test was fatal to the whole installation process, so the final <code>install</code> step was never reached."}], "tags": [], "owner": {"reputation": 123805, "user_id": 622310, "user_type": "registered", "accept_rate": 33, "profile_image": "https://www.gravatar.com/avatar/8b6d35219e1808520bc238b28161e2e6?s=128&d=identicon&r=PG", "display_name": "Borodin", "link": "https://stackoverflow.com/users/622310/borodin"}, "is_accepted": true, "score": 3, "last_activity_date": 1480664049, "last_edit_date": 1480664049, "creation_date": 1480662714, "answer_id": 40926696, "question_id": 40924750, "link": "https://stackoverflow.com/questions/40924750/sigbreak-during-tests-while-installing-ipcrun-on-windows-10-x64/40926696#40926696", "title": "SIGBREAK during tests while installing IPC::Run on Windows 10 x64", "body": "<p>This is a bug, and there is <a href=\"https://rt.cpan.org/Public/Bug/Display.html?id=101093\" rel=\"nofollow noreferrer\">an outstanding ticket</a> for it</p>\n\n<p>I suggest that you just force the installation with</p>\n\n<pre><code>cpan&gt; force install IPC::Run\n</code></pre>\n\n<p>which will cause it to run the tests but ignore the result and go ahead and complete the installation anyway</p>\n\n<p>Alternatively, you can run the installation manually as described in <a href=\"http://perldoc.perl.org/perlmodinstall.html\" rel=\"nofollow noreferrer\"><code>perlmodinstall</code></a>, but skipping the test phase</p>\n\n<pre><code>cpan&gt; look IPC::Run\nC:\\strawberry\\cpan\\build\\IPC-Run-0.94-0&gt;perl Makefile.PL\nC:\\strawberry\\cpan\\build\\IPC-Run-0.94-0&gt;dmake\nC:\\strawberry\\cpan\\build\\IPC-Run-0.94-0&gt;dmake install\n</code></pre>\n\n<p><em>This is assuming you are running Strawberry Perl. You may have to use a different</em> <strong>make</strong> <em>tool for ActivePerl</em></p>\n"}], "owner": {"reputation": 35, "user_id": 7203879, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/4faa6f85c11c110a196024a86fe5719e?s=128&d=identicon&r=PG&f=1", "display_name": "c11cc", "link": "https://stackoverflow.com/users/7203879/c11cc"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 476, "favorite_count": 0, "accepted_answer_id": 40926696, "answer_count": 1, "score": 1, "last_activity_date": 1498553523, "creation_date": 1480652387, "last_edit_date": 1498553523, "question_id": 40924750, "link": "https://stackoverflow.com/questions/40924750/sigbreak-during-tests-while-installing-ipcrun-on-windows-10-x64", "title": "SIGBREAK during tests while installing IPC::Run on Windows 10 x64", "body": "\n\n<p>I can't install <a href=\"https://metacpan.org/pod/IPC::Run\" rel=\"nofollow noreferrer\"><code>IPC::Run</code></a>\non Windows 10 x64:</p>\n\n<pre class=\"lang-none prettyprint-override\"><code>cpan&gt; install IPC::Run\nRunning install for module 'IPC::Run'\nFetching with LWP:\nhttp://ppm.activestate.com/CPAN/authors/id/T/TO/TODDR/CHECKSUMS\nChecksum for E:\\Perl\\cpan\\sources\\authors\\id\\T\\TO\\TODDR\\IPC-Run-0.94.tar.gz ok\nIPC-Run-0.94/\nIPC-Run-0.94/abuse/\nIPC-Run-0.94/Changes\nIPC-Run-0.94/eg/\nIPC-Run-0.94/lib/\nIPC-Run-0.94/LICENSE\nIPC-Run-0.94/Makefile.PL\nIPC-Run-0.94/MANIFEST\nIPC-Run-0.94/META.json\nIPC-Run-0.94/META.yml\nIPC-Run-0.94/README\nIPC-Run-0.94/t/\nIPC-Run-0.94/TODO\nIPC-Run-0.94/t/97_meta.t\nIPC-Run-0.94/t/98_pod.t\nIPC-Run-0.94/t/98_pod_coverage.t\nIPC-Run-0.94/t/99_perl_minimum_version.t\nIPC-Run-0.94/t/adopt.t\nIPC-Run-0.94/t/binmode.t\nIPC-Run-0.94/t/bogus.t\nIPC-Run-0.94/t/filter.t\nIPC-Run-0.94/t/harness.t\nIPC-Run-0.94/t/io.t\nIPC-Run-0.94/t/kill_kill.t\nIPC-Run-0.94/t/lib/\nIPC-Run-0.94/t/parallel.t\nIPC-Run-0.94/t/pty.t\nIPC-Run-0.94/t/pump.t\nIPC-Run-0.94/t/run.t\nIPC-Run-0.94/t/signal.t\nIPC-Run-0.94/t/timeout.t\nIPC-Run-0.94/t/timer.t\nIPC-Run-0.94/t/win32_compile.t\nIPC-Run-0.94/t/windows_search_path.t\nIPC-Run-0.94/t/lib/Test.pm\nIPC-Run-0.94/lib/IPC/\nIPC-Run-0.94/lib/IPC/Run/\nIPC-Run-0.94/lib/IPC/Run.pm\nIPC-Run-0.94/lib/IPC/Run/Debug.pm\nIPC-Run-0.94/lib/IPC/Run/IO.pm\nIPC-Run-0.94/lib/IPC/Run/Timer.pm\nIPC-Run-0.94/lib/IPC/Run/Win32Helper.pm\nIPC-Run-0.94/lib/IPC/Run/Win32IO.pm\nIPC-Run-0.94/lib/IPC/Run/Win32Pump.pm\nIPC-Run-0.94/eg/factorial\nIPC-Run-0.94/eg/factorial_pipe\nIPC-Run-0.94/eg/factorial_scalar\nIPC-Run-0.94/eg/run_daemon\nIPC-Run-0.94/eg/runsh\nIPC-Run-0.94/eg/runsu\nIPC-Run-0.94/eg/synopsis_scripting\nIPC-Run-0.94/abuse/blocking_debug_with_sub_coprocess\nIPC-Run-0.94/abuse/blocking_writes\nIPC-Run-0.94/abuse/broken_pipe_on_bad_executable_name\nIPC-Run-0.94/abuse/timers\nConfiguring T/TO/TODDR/IPC-Run-0.94.tar.gz with Makefile.PL\nChecking if your kit is complete...\nLooks good\nGenerating a dmake-style Makefile\nWriting Makefile for IPC::Run\nWriting MYMETA.yml and MYMETA.json\n  TODDR/IPC-Run-0.94.tar.gz\n  E:\\Perl\\bin\\perl.exe Makefile.PL INSTALLDIRS=site -- OK\nRunning make for T/TO/TODDR/IPC-Run-0.94.tar.gz\ncp lib/IPC/Run/Win32IO.pm blib\\lib\\IPC\\Run\\Win32IO.pm\ncp lib/IPC/Run/Win32Helper.pm blib\\lib\\IPC\\Run\\Win32Helper.pm\ncp lib/IPC/Run/Debug.pm blib\\lib\\IPC\\Run\\Debug.pm\ncp lib/IPC/Run/Win32Pump.pm blib\\lib\\IPC\\Run\\Win32Pump.pm\ncp lib/IPC/Run.pm blib\\lib\\IPC\\Run.pm\ncp lib/IPC/Run/IO.pm blib\\lib\\IPC\\Run\\IO.pm\ncp lib/IPC/Run/Timer.pm blib\\lib\\IPC\\Run\\Timer.pm\n  TODDR/IPC-Run-0.94.tar.gz\n  E:\\BIOINF~1\\perl\\site\\bin\\dmake.exe -- OK\nRunning make test\nE:\\Perl\\bin\\perl.exe \"-MExtUtils::Command::MM\" \"-MTest::Harness\" \"-e\" \"undef *Test::Harness::Switches; test_harness(0, 'blib\\lib', 'blib\\arch')\" t/*.t\nt/97_meta.t .................. skipped: Author tests not required for installation\nt/98_pod.t ................... skipped: Author tests not required for installation\nt/98_pod_coverage.t .......... skipped: Author tests not required for installation\nt/99_perl_minimum_version.t .. skipped: Author tests not required for installation\nt/adopt.t .................... skipped: adopt not implemented yet\nt/binmode.t .................. ok\nt/bogus.t .................... ok\nt/filter.t ................... ok\nt/harness.t .................. ok\nt/io.t ....................... ok\nt/kill_kill.t ................ skipped: Temporarily ignoring test failure on Win32\nt/parallel.t ................. skipped: Parallel tests are dangerous on MSWin32\nt/pty.t ...................... skipped: IO::Pty not installed\nt/pump.t ..................... ok\nt/run.t ...................... ok\nt/signal.t ................... skipped: Skipping on Win32\nt/timeout.t .................. 9/26 Terminating on signal SIGBREAK(21)\nTerminating on signal SIGBREAK(21)\nTerminating on signal SIGBREAK(21)\nTerminating on signal SIGBREAK(21)\nTerminating on signal SIGBREAK(21)\nTerminating on signal SIGBREAK(21)\n</code></pre>\n\n<p>Then it presents me with a prompt...</p>\n\n<pre class=\"lang-none prettyprint-override\"><code>Terminate batch job (Y/N)? N\n</code></pre>\n\n<p>...after which it (obviously) terminates. It looks like I had pressed Ctrl-Break several times during the installation but I didn't. The behaviour is repeatable. Does anyone have an idea of what's going on?</p>\n"}, {"tags": ["perl"], "comments": [{"owner": {"reputation": 87649, "user_id": 17389, "user_type": "registered", "accept_rate": 38, "profile_image": "https://www.gravatar.com/avatar/cd06d1314817ce946ab796af8750b56a?s=128&d=identicon&r=PG", "display_name": "ysth", "link": "https://stackoverflow.com/users/17389/ysth"}, "edited": false, "score": 1, "creation_date": 1480647805, "post_id": 40923923, "comment_id": 69059871, "body": "does a script that just does <code>use DBD::mysql;</code> work?"}, {"owner": {"reputation": 123805, "user_id": 622310, "user_type": "registered", "accept_rate": 33, "profile_image": "https://www.gravatar.com/avatar/8b6d35219e1808520bc238b28161e2e6?s=128&d=identicon&r=PG", "display_name": "Borodin", "link": "https://stackoverflow.com/users/622310/borodin"}, "edited": false, "score": 2, "creation_date": 1480653780, "post_id": 40923923, "comment_id": 69061344, "body": "Change your DSN to <code>&quot;DBI:mysql:database=hospital;host=localhost;port=3306&quot;</code> and see if that works."}], "owner": {"reputation": 11, "user_id": 7239231, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/8d8bc89eed15c654a0abe735a4963f0f?s=128&d=identicon&r=PG&f=1", "display_name": "Rai", "link": "https://stackoverflow.com/users/7239231/rai"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 186, "favorite_count": 0, "answer_count": 0, "score": 1, "last_activity_date": 1480647553, "creation_date": 1480646952, "last_edit_date": 1480647553, "question_id": 40923923, "link": "https://stackoverflow.com/questions/40923923/dbi-connect-not-working-with-mysql-driver", "title": "DBI-&gt;Connect not working with mysql driver", "body": "<p>I have the following code </p>\n\n<pre><code>#!/usr/bin/perl -w\nuse  DBI;\nuse strict;\nmy $user = \"test3\";\nmy $password = \"test3\";\nmy $dsn = \"dbi:mysql:hospital;localhost;3306\";\nmy $dbh = DBI-&gt;connect($dsn, $user, $password);\n</code></pre>\n\n<p>I am getting the error </p>\n\n<pre><code>Can't locate object method \"driver\" via package \"DBD::mysql\" at /System/Library/Perl/Extras/5.18/darwin-thread-multi-2level/DBI.pm line 821.\n\nPerhaps the capitalisation of DBD 'mysql' isn't right. at /Users/hrai36/Documents/test2.pl line 9.\n</code></pre>\n\n<p>I am very new to perl. I installed DBD::mysql using cpan. I don't know what Im doing wrong.</p>\n"}, {"tags": ["ruby", "perl"], "comments": [{"owner": {"reputation": 6258, "user_id": 82262, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/8ce15931410b388a52eb2df4a864137f?s=128&d=identicon&r=PG&f=1", "display_name": "Matt Jacob", "link": "https://stackoverflow.com/users/82262/matt-jacob"}, "edited": false, "score": 0, "creation_date": 1480629250, "post_id": 40920608, "comment_id": 69054334, "body": "Why is this question tagged <a href=\"https://stackoverflow.com/questions/tagged/perl\">perl</a>?"}], "answers": [{"tags": [], "owner": {"reputation": 193600, "user_id": 87189, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/98e7d6edce863e7a1bf8199b082eb25e?s=128&d=identicon&r=PG", "display_name": "tadman", "link": "https://stackoverflow.com/users/87189/tadman"}, "is_accepted": false, "score": 1, "last_activity_date": 1480627864, "creation_date": 1480627864, "answer_id": 40920757, "question_id": 40920608, "link": "https://stackoverflow.com/questions/40920608/ruby-multiple-statements-on-single-line-with-condition/40920757#40920757", "title": "Ruby multiple statements on single line with condition", "body": "<p>The cleanest way is to define a mapping table since you're doing straight-up matches:</p>\n\n<pre><code>remap = {\n  \"dasff1\" =&gt; \"hoiff1\",\n  \"dasff2\" =&gt; \"hoiff2\",\n  \"dasff3\" =&gt; \"hoiff3\"\n}\n\nif (remapped = remap[string])\n  puts [ string, remapped ].join(' ')\nend\n</code></pre>\n\n<p>Since there's a pattern here you might also do this:</p>\n\n<pre><code>if (string.match(/\\Adasff(\\d+)/)\n  puts [ string, 'hoiff%s' % $1 ]\nend\n</code></pre>\n\n<p>From a style perspective, try to avoid joining together multiple lines of Ruby code using <code>;</code>. It creates a lot of clutter.</p>\n"}, {"comments": [{"owner": {"reputation": 335869, "user_id": 2988, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/ed181f8c80df53d2b67a4f4fff088ed4?s=128&d=identicon&r=PG", "display_name": "J&#246;rg W Mittag", "link": "https://stackoverflow.com/users/2988/j%c3%b6rg-w-mittag"}, "edited": false, "score": 1, "creation_date": 1480666539, "post_id": 40920931, "comment_id": 69066257, "body": "I think it is more idiomatic to use the <code>then</code> keyword to separate the condition part of a conditional expression from the body than to use a semicolon: <code>if    (string == &quot;dasff1&quot;) then print &quot;dasff1&quot; ; print &quot; hoiff1&quot;</code> \u2026"}], "tags": [], "owner": {"reputation": 48049, "user_id": 6419007, "user_type": "registered", "accept_rate": 67, "profile_image": "https://i.stack.imgur.com/CwqtX.jpg?s=128&g=1", "display_name": "Eric Duminil", "link": "https://stackoverflow.com/users/6419007/eric-duminil"}, "is_accepted": true, "score": 1, "last_activity_date": 1480666657, "last_edit_date": 1480666657, "creation_date": 1480628614, "answer_id": 40920931, "question_id": 40920608, "link": "https://stackoverflow.com/questions/40920608/ruby-multiple-statements-on-single-line-with-condition/40920931#40920931", "title": "Ruby multiple statements on single line with condition", "body": "<p>You could use :</p>\n\n<pre><code>string = \"dasff1\"\n\ncase string\nwhen \"dasff1\" then print \"dasff1\"; print \" hoiff1\"\nwhen \"dasff2\" then print \"dasff2\"; print \" hoiff2\"\nwhen \"dasff3\" then print \"dasff3\"; print \" hoiff3\"\nend\n</code></pre>\n\n<p>Or just :</p>\n\n<pre><code>print string+\" \"+string.sub('das','hoi') if string=~/^dasff[1-3]$/\n</code></pre>\n\n<p>You shouldn't do that, but since you asked for it :</p>\n\n<pre><code>if    string == \"dasff1\" then print \"dasff1\" ; print \" hoiff1\"\nelsif string == \"dasff2\" then print \"dasff2\" ; print \" hoiff2\"\nelsif string == \"dasff3\" then print \"dasff3\" ; print \" hoiff3\"\nend\n</code></pre>\n"}, {"tags": [], "owner": {"reputation": 93653, "user_id": 256970, "user_type": "registered", "accept_rate": 86, "profile_image": "https://www.gravatar.com/avatar/87b71ecb90417c88f7873a2f0f9492e9?s=128&d=identicon&r=PG", "display_name": "Cary Swoveland", "link": "https://stackoverflow.com/users/256970/cary-swoveland"}, "is_accepted": false, "score": 0, "last_activity_date": 1480639371, "creation_date": 1480639371, "answer_id": 40922925, "question_id": 40920608, "link": "https://stackoverflow.com/questions/40920608/ruby-multiple-statements-on-single-line-with-condition/40922925#40922925", "title": "Ruby multiple statements on single line with condition", "body": "<p>Given</p>\n\n<pre><code>h = { \"dasff1\"=&gt;\"hoiff1\", \"dasff2\"=&gt;\"hoiff2\", \"dasff3\"=&gt;\"hoiff3\" }\n</code></pre>\n\n<p>compute another hash with a default value equal to an empty string:</p>\n\n<pre><code>g = h.each_with_object(Hash.new('')) { |(k,v),g| g[k] = \"%s %s\" % [k,v] }\n  #=&gt; {\"dasff1\"=&gt;\"dasff1 hoiff1\", \"dasff2\"=&gt;\"dasff2 hoiff2\", \"dasff3\"=&gt;\"dasff3 hoiff3\"} \n</code></pre>\n\n<p>Confirm the default:</p>\n\n<pre><code>g[\"cat\"]\n  #=&gt; \"\"\n</code></pre>\n\n<p>Then</p>\n\n<pre><code>def pr_str(str, g)\n  print g[str]\nend\n\nprint \"|\"; pr_str(\"dasff1\", g); print \"|\"\n  # |dasff1 hoiff1| \nprint \"|\"; pr_str(\"dasff2\", g); print \"|\"\n  # |dasff2 hoiff2|\nprint \"|\"; pr_str(\"dasff3\", g); print \"|\"\n  # |dasff3 hoiff3|\nprint \"|\"; pr_str(\"catsup\", g); print \"|\"\n  # ||\n</code></pre>\n\n<p>The <code>|</code> characters are printed to demark the start and end of each string returned. Note the <code>print ''</code> (as opposed to <code>puts ''</code>) does nothing.</p>\n"}], "owner": {"reputation": 18319, "user_id": 472485, "user_type": "registered", "accept_rate": 62, "profile_image": "https://www.gravatar.com/avatar/eaad078400b012b1e37fa6f11dd5c089?s=128&d=identicon&r=PG", "display_name": "Jean", "link": "https://stackoverflow.com/users/472485/jean"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 1405, "favorite_count": 0, "accepted_answer_id": 40920931, "answer_count": 3, "score": 1, "last_activity_date": 1480666657, "creation_date": 1480627285, "question_id": 40920608, "link": "https://stackoverflow.com/questions/40920608/ruby-multiple-statements-on-single-line-with-condition", "title": "Ruby multiple statements on single line with condition", "body": "<p>What is the cleanest way to write following code in Ruby?</p>\n\n<pre><code>if    ($string eq \"dasff1\") { print \"dasff1\" ;print \" hoiff1\" } \nelsif ($string eq \"dasff2\") { print \"dasff2\" ;print \" hoiff2\" } \nelsif ($string eq \"dasff3\") { print \"dasff3\" ;print \" hoiff3\" }  \n</code></pre>\n\n<p>i.e multiple statements on a single line qualified with a condition.</p>\n\n<p>Is there an alternate way other than</p>\n\n<pre><code>if    (string == \"dasff1\") \n  print \"dasff1\" ;print \" hoiff1\"\nelsif (string == \"dasff2\") \n  print \"dasff2\" ;print \" hoiff2\"\nelsif (string == \"dasff3\") \n  print \"dasff3\" ;print \" hoiff3\"\nend  \n</code></pre>\n"}, {"tags": ["perl"], "answers": [{"comments": [{"owner": {"reputation": 43, "user_id": 3201114, "user_type": "registered", "accept_rate": 57, "profile_image": "https://www.gravatar.com/avatar/60f58600bea628d6ed20d90b94b060f1?s=128&d=identicon&r=PG&f=1", "display_name": "Sonal", "link": "https://stackoverflow.com/users/3201114/sonal"}, "edited": false, "score": 0, "creation_date": 1480872477, "post_id": 40920224, "comment_id": 69132036, "body": "I am using this query to generate some number and then printing only 10 numbers per line:- perl -e &#39;foreach (1000..1100){ $temp = int rand(999);push @rand, $temp;}while (@arr = splice(@rand, 0, 10)) {print &quot;@arr\\n&quot;};&#39;                now i want to make sure that all 3 digits numbers should be appended by 0 from the beginning like- 341 becomes 0341"}, {"owner": {"reputation": 43, "user_id": 3201114, "user_type": "registered", "accept_rate": 57, "profile_image": "https://www.gravatar.com/avatar/60f58600bea628d6ed20d90b94b060f1?s=128&d=identicon&r=PG&f=1", "display_name": "Sonal", "link": "https://stackoverflow.com/users/3201114/sonal"}, "edited": false, "score": 0, "creation_date": 1480872727, "post_id": 40920224, "comment_id": 69132143, "body": "i am using this:-perl -e &#39;foreach (1000..1100){ $temp = int rand(9999);push @rand, $temp;}foreach(@rand){printf &quot;%04d &quot;,splice(@rand,0,10)}&#39; but the prob is only 1 line is printing not all lines"}, {"owner": {"reputation": 50468, "user_id": 1331451, "user_type": "registered", "accept_rate": 96, "profile_image": "https://i.stack.imgur.com/4ZPmj.png?s=128&g=1", "display_name": "simbabque", "link": "https://stackoverflow.com/users/1331451/simbabque"}, "reply_to_user": {"reputation": 43, "user_id": 3201114, "user_type": "registered", "accept_rate": 57, "profile_image": "https://www.gravatar.com/avatar/60f58600bea628d6ed20d90b94b060f1?s=128&d=identicon&r=PG&f=1", "display_name": "Sonal", "link": "https://stackoverflow.com/users/3201114/sonal"}, "edited": false, "score": 0, "creation_date": 1480882606, "post_id": 40920224, "comment_id": 69135677, "body": "@SonalAsija that&#39;s a new question. It doesn&#39;t really have anything to do with this answer. You want to look at <code>sprintf</code> though."}], "tags": [], "owner": {"reputation": 50468, "user_id": 1331451, "user_type": "registered", "accept_rate": 96, "profile_image": "https://i.stack.imgur.com/4ZPmj.png?s=128&g=1", "display_name": "simbabque", "link": "https://stackoverflow.com/users/1331451/simbabque"}, "is_accepted": true, "score": 3, "last_activity_date": 1480625786, "creation_date": 1480625786, "answer_id": 40920224, "question_id": 40919728, "link": "https://stackoverflow.com/questions/40919728/i-want-to-add-new-line-after-every-4-spaces/40920224#40920224", "title": "I want to add new line after every 4 spaces", "body": "<p>Doing that in several steps on the command line is ... strange. You can just do it in one program.</p>\n\n<pre><code>use strict;\nuse warnings;\nuse List::Util 'shuffle';\n\nmy $count = 1;\nforeach my $i ( shuffle 1 .. 20) {\n    print \"$i \";\n    print \"\\n\\n\" unless $count++ % 4;\n}\n</code></pre>\n\n<p>This shuffles the list of 1 to 20 directly and then prints each item, but prints two linebreaks after every four. The <code>%</code> is the modulo operator that returns the left-over from a division by 4. So whenever the <code>$count</code> is divisible by 4, it returns 0, and the <code>print</code> kicks in. On the command line it would be like this:</p>\n\n<pre><code>$ perl -MList::Util=shuffle -e '$c=0; for (shuffle 1..20) { print\"$_ \"; print \"\\n\\n\" unless $c++%4}'\n</code></pre>\n\n<p>Here's the output:</p>\n\n<pre><code>11 20 8 17 \n\n10 18 19 6 \n\n1 14 7 5 \n\n13 16 4 3 \n\n9 2 15 12 \n</code></pre>\n"}, {"comments": [{"owner": {"reputation": 50468, "user_id": 1331451, "user_type": "registered", "accept_rate": 96, "profile_image": "https://i.stack.imgur.com/4ZPmj.png?s=128&g=1", "display_name": "simbabque", "link": "https://stackoverflow.com/users/1331451/simbabque"}, "edited": false, "score": 0, "creation_date": 1480632384, "post_id": 40921243, "comment_id": 69055779, "body": "I&#39;d make that second part a <code>print &quot;@line\\n\\n&quot; while @line = splice(@list, 0, 4)</code> to get it way shorter."}], "tags": [], "owner": {"reputation": 727, "user_id": 2059832, "user_type": "registered", "accept_rate": 75, "profile_image": "https://i.stack.imgur.com/8oSY3.gif?s=128&g=1", "display_name": "drmrgd", "link": "https://stackoverflow.com/users/2059832/drmrgd"}, "is_accepted": false, "score": 3, "last_activity_date": 1480629881, "creation_date": 1480629881, "answer_id": 40921243, "question_id": 40919728, "link": "https://stackoverflow.com/questions/40919728/i-want-to-add-new-line-after-every-4-spaces/40921243#40921243", "title": "I want to add new line after every 4 spaces", "body": "<p>You could also use a <code>splice</code> call to chop the result of the <code>shuffle</code> list up as you want and print it that way if you didn't want to code an explicit counter. Something like this:</p>\n\n<pre><code>perl -MList::Util=shuffle -e '@list=shuffle(1..20); while (@ret_line = splice(@list, 0, 4)) {print \"@ret_line\\n\\n\"}'\n</code></pre>\n"}, {"tags": [], "owner": {"reputation": 123805, "user_id": 622310, "user_type": "registered", "accept_rate": 33, "profile_image": "https://www.gravatar.com/avatar/8b6d35219e1808520bc238b28161e2e6?s=128&d=identicon&r=PG", "display_name": "Borodin", "link": "https://stackoverflow.com/users/622310/borodin"}, "is_accepted": false, "score": 0, "last_activity_date": 1480638490, "creation_date": 1480638490, "answer_id": 40922810, "question_id": 40919728, "link": "https://stackoverflow.com/questions/40919728/i-want-to-add-new-line-after-every-4-spaces/40922810#40922810", "title": "I want to add new line after every 4 spaces", "body": "<p>I'd put the numbers into an array and use <code>splice</code> to remove them in blocks of four:</p>\n\n<pre><code>use strict;\nuse warnings 'all'\n\nuse List::Util 'shuffle';\n\nmy @nums = shuffle 1 .. 20;\nprint join(\" \", splice @nums, 0, 4), \"\\n\\n\" while @nums;\n</code></pre>\n"}], "owner": {"reputation": 43, "user_id": 3201114, "user_type": "registered", "accept_rate": 57, "profile_image": "https://www.gravatar.com/avatar/60f58600bea628d6ed20d90b94b060f1?s=128&d=identicon&r=PG&f=1", "display_name": "Sonal", "link": "https://stackoverflow.com/users/3201114/sonal"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 61, "favorite_count": 0, "accepted_answer_id": 40920224, "answer_count": 3, "score": 0, "last_activity_date": 1480638490, "creation_date": 1480623906, "last_edit_date": 1480624355, "question_id": 40919728, "link": "https://stackoverflow.com/questions/40919728/i-want-to-add-new-line-after-every-4-spaces", "title": "I want to add new line after every 4 spaces", "body": "<p>i am generating 20 numbers and then i am shuffling it</p>\n\n<pre><code>perl -e 'foreach(1..20){print  \",$_ \"} '  \n    | perl -MList::Util=shuffle -F',' -lane 'print shuffle @F' \n</code></pre>\n\n<p>and the output is:-</p>\n\n<pre>\n19 15 11 9 8 13 18 4 2 7 5 20 10 14 3 16 1 17 6 12 \n</pre>\n\n<p>Now i want the output something like this:-</p>\n\n<pre>\n19 15 11 9\n\n8 13 18 4\n\n2 7 5 20\n\n...\n</pre>\n\n<p>Any help will be appreciated</p>\n"}, {"tags": ["perl", "cpan", "strawberry-perl", "cpanm"], "comments": [{"owner": {"reputation": 110113, "user_id": 168657, "user_type": "registered", "accept_rate": 92, "profile_image": "https://www.gravatar.com/avatar/f14e7610fca39322ebbf23530def15f8?s=128&d=identicon&r=PG", "display_name": "mob", "link": "https://stackoverflow.com/users/168657/mob"}, "edited": false, "score": 0, "creation_date": 1480625388, "post_id": 40918878, "comment_id": 69052448, "body": "Possible workarond: add <code>D:\\strawberry\\perl\\lib5</code> to <code>%PERL5LIB%</code>"}, {"owner": {"reputation": 394, "user_id": 4504847, "user_type": "registered", "accept_rate": 88, "profile_image": "https://i.stack.imgur.com/U9lvM.png?s=128&g=1", "display_name": "FrankRalphBob", "link": "https://stackoverflow.com/users/4504847/frankralphbob"}, "reply_to_user": {"reputation": 110113, "user_id": 168657, "user_type": "registered", "accept_rate": 92, "profile_image": "https://www.gravatar.com/avatar/f14e7610fca39322ebbf23530def15f8?s=128&d=identicon&r=PG", "display_name": "mob", "link": "https://stackoverflow.com/users/168657/mob"}, "edited": false, "score": 0, "creation_date": 1480628245, "post_id": 40918878, "comment_id": 69053858, "body": "@mob  That would work for the short term and I could put that in environment variables for the current session and get my other module loaded.   However, this kind of feels like a Band-Aid on a broken bone, as it doesn&#39;t necessarily fix the root of the problem.   You did say it was a work around.  I would also need to reboot the machine to update the environment for the rest of the machine, which I cannot do unfortunately.  So, I&#39;m hoping there is a fix for the root of the problem.  install the modules correctly, so other problems don&#39;t occur down the road.  Thanks for the input though!"}, {"owner": {"reputation": 394, "user_id": 4504847, "user_type": "registered", "accept_rate": 88, "profile_image": "https://i.stack.imgur.com/U9lvM.png?s=128&g=1", "display_name": "FrankRalphBob", "link": "https://stackoverflow.com/users/4504847/frankralphbob"}, "reply_to_user": {"reputation": 320771, "user_id": 589924, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/b2cf53d5a3d25f95c0db4e025aed4153?s=128&d=identicon&r=PG", "display_name": "ikegami", "link": "https://stackoverflow.com/users/589924/ikegami"}, "edited": false, "score": 0, "creation_date": 1480693474, "post_id": 40918878, "comment_id": 69083140, "body": "@ikegami  Thanks for your input.   Can we flush this answer out a bit?  I&#39;m not familiar with the different module types (MB=Module::Build &amp; MM=ExtUtils::MakeMaker ?).   I&#39;ve googled around some for documentation but have come up dry.  Is there documentation somewhere that explain what the types are and the consequences for using each one?  Thanks again."}], "answers": [{"comments": [{"owner": {"reputation": 394, "user_id": 4504847, "user_type": "registered", "accept_rate": 88, "profile_image": "https://i.stack.imgur.com/U9lvM.png?s=128&g=1", "display_name": "FrankRalphBob", "link": "https://stackoverflow.com/users/4504847/frankralphbob"}, "edited": false, "score": 0, "creation_date": 1480698183, "post_id": 40936046, "comment_id": 69086275, "body": "This was the info I needed:  A better fix would be to leave all of these unset and just change C: to D: in Config.pm.   There were about 15 Config.pm files, but the one in D:\\Strawberry\\perl\\lib had the C: entries in it.  Changed those to D:, and cpan is installing in the correct spot.  cpanm is still installing in C: drive, so not sure where cpanm is pulling it&#39;s configuration information from, but at least I am able to move forward.  Thank you very much for your help ikegami!"}, {"owner": {"reputation": 394, "user_id": 4504847, "user_type": "registered", "accept_rate": 88, "profile_image": "https://i.stack.imgur.com/U9lvM.png?s=128&g=1", "display_name": "FrankRalphBob", "link": "https://stackoverflow.com/users/4504847/frankralphbob"}, "edited": false, "score": 0, "creation_date": 1480699127, "post_id": 40936046, "comment_id": 69086757, "body": "Yes, I wasn&#39;t aware there were two module installation procedures (I&#39;m a little new to this Perl thing). But with that knowledge, the configuration arguments make sense now. I did a <code>o conf init</code>, which I assume would bring the cpan configuration back to its initial status. There were no env vars for the MM or MB. Thanks again."}, {"owner": {"reputation": 320771, "user_id": 589924, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/b2cf53d5a3d25f95c0db4e025aed4153?s=128&d=identicon&r=PG", "display_name": "ikegami", "link": "https://stackoverflow.com/users/589924/ikegami"}, "reply_to_user": {"reputation": 394, "user_id": 4504847, "user_type": "registered", "accept_rate": 88, "profile_image": "https://i.stack.imgur.com/U9lvM.png?s=128&g=1", "display_name": "FrankRalphBob", "link": "https://stackoverflow.com/users/4504847/frankralphbob"}, "edited": false, "score": 0, "creation_date": 1480699456, "post_id": 40936046, "comment_id": 69086932, "body": "I took that out that bit because it didn&#39;t think it would find Config.pm if the driver letters were wrong in it."}, {"owner": {"reputation": 394, "user_id": 4504847, "user_type": "registered", "accept_rate": 88, "profile_image": "https://i.stack.imgur.com/U9lvM.png?s=128&g=1", "display_name": "FrankRalphBob", "link": "https://stackoverflow.com/users/4504847/frankralphbob"}, "edited": false, "score": 0, "creation_date": 1480701914, "post_id": 40936046, "comment_id": 69088196, "body": "FYI: changing the <code>Config_heavy.pl</code> from <code>C:</code> to <code>D:</code> fixed cpanm.  Thanks."}], "tags": [], "owner": {"reputation": 320771, "user_id": 589924, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/b2cf53d5a3d25f95c0db4e025aed4153?s=128&d=identicon&r=PG", "display_name": "ikegami", "link": "https://stackoverflow.com/users/589924/ikegami"}, "is_accepted": true, "score": 1, "last_activity_date": 1480699521, "last_edit_date": 1480699521, "creation_date": 1480693678, "answer_id": 40936046, "question_id": 40918878, "link": "https://stackoverflow.com/questions/40918878/trying-to-force-cpan-to-install-in-specific-directory-for-strawberry-perl/40936046#40936046", "title": "Trying to force CPAN to install in specific directory for Strawberry Perl", "body": "<p>The argument you provide to modules using ExtUtils::MakeMaker as their installer are inconsistent with the argument you provide to modules using Module::Build as their installer. Pick a scheme and use it consistently.</p>\n\n<pre><code>o conf makepl_arg \"INSTALL_BASE=D:/strawberry/perl_modules\"\no conf mbuildpl_arg \"--install_base D:/strawberry/perl_modules\"\n</code></pre>\n\n<p>Don't forget to tell Perl where to look for the modules.</p>\n\n<pre><code>set PERL5LIB=D:/strawberry/perl_modules/lib/perl5\n</code></pre>\n\n<hr>\n\n<p>While that fixes your immediate problem, your approach of fixing the underlying problem isn't the best. Just clearing those values should have the module install in the correct location.</p>\n\n<pre><code>o conf makepl_arg \"\"\no conf mbuildpl_arg \"\"\nset PERL5LIB=\n</code></pre>\n\n<p>Also make sure you don't override the installation location in env vars.</p>\n\n<pre><code>set PERL_MM_OPT=\nset PERL_MB_OPT=\n</code></pre>\n\n<p>Finally, You might want to check <code>Config.pm</code> and <code>Config_heavy.pl</code> for <code>C:</code> that need to be changed into <code>D:</code>.</p>\n"}], "owner": {"reputation": 394, "user_id": 4504847, "user_type": "registered", "accept_rate": 88, "profile_image": "https://i.stack.imgur.com/U9lvM.png?s=128&g=1", "display_name": "FrankRalphBob", "link": "https://stackoverflow.com/users/4504847/frankralphbob"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 1613, "favorite_count": 0, "accepted_answer_id": 40936046, "answer_count": 1, "score": 2, "last_activity_date": 1480699521, "creation_date": 1480620604, "question_id": 40918878, "link": "https://stackoverflow.com/questions/40918878/trying-to-force-cpan-to-install-in-specific-directory-for-strawberry-perl", "title": "Trying to force CPAN to install in specific directory for Strawberry Perl", "body": "<p>I have a strawberry perl installation (v. 5.16.3) on a windows production box.  I assume that many moons ago, somebody installed it on the C: drive and then just moved it to D:.  I don't know, I wasn't there, however it works fine except when I'm trying to install modules. Using cpanm just throws the modules on the C: drive.  No Good.  @INC doesn't go there and the admin doesn't want anything on there anyway.  I need them with Perl on the D:.</p>\n\n<p>So, I tried using cpan and changing the directories:</p>\n\n<pre><code>cpan&gt; o conf mbuildpl_arg \"--install_base D:/strawberry/perl\"\n    mbuildpl_arg       [--install_base D:strawberryperl]\ncommit: wrote 'D:\\strawberry\\perl\\lib/CPAN/Config.pm'\n\ncpan&gt; o conf makepl_arg \"PREFIX=D:/strawberry/perl\"\n    makepl_arg         [PREFIX=D:/strawberry/perl]\ncommit: wrote 'D:\\strawberry\\perl\\lib/CPAN/Config.pm'\n\ncpan&gt; install Email::Simple\n</code></pre>\n\n<p>It installed Email Simple in D:/strawberry/perl/lib - not perfect, but it works. Great!  A few others go through the same.  Go to install Module::Runtime</p>\n\n<pre><code>cpan&gt; install Module::Runtime\n</code></pre>\n\n<p>and that goes in D:/strawberry/perl/lib/perl5.  Huh?  OK, not perfect, but my @INC includes D:/strawberry/perl/lib so this shouldn't be a problem, right?  Go to install MooX::Types::MooseLike::Base</p>\n\n<pre><code>cpan&gt; install MooX::Types::MooseLike::Base\n</code></pre>\n\n<p>Won't install.  Here's the cpan barf out:</p>\n\n<pre><code>cpan&gt; install MooX::Types::MooseLike::Base\nRunning install for module 'MooX::Types::MooseLike::Base'\nRunning make for M/MA/MATEU/MooX-Types-MooseLike-0.29.tar.gz\nChecksum for D:\\strawberry\\cpan\\sources\\authors\\id\\M\\MA\\MATEU\\MooX-Types-MooseLike-0.29.tar.gz ok\n\n  CPAN.pm: Building M/MA/MATEU/MooX-Types-MooseLike-0.29.tar.gz\n\nChecking if your kit is complete...\nLooks good\nWarning: prerequisite Module::Runtime 0.014 not found.\n... Detected uninstalled Perl.  Trying to continue.\nHave \\strawb~1\\perl\\lib\nWant \\strawberry\\perl\\lib\nWriting Makefile for MooX::Types::MooseLike\nWriting MYMETA.yml and MYMETA.json\n---- Unsatisfied dependencies detected during ----\n----  MATEU/MooX-Types-MooseLike-0.29.tar.gz  ----\n    Module::Runtime [requires]\nRunning make test\n  Delayed until after prerequisites\nRunning make install\n  Delayed until after prerequisites\nRunning install for module 'Module::Runtime'\nRunning Build for Z/ZE/ZEFRAM/Module-Runtime-0.014.tar.gz\n  Has already been unwrapped into directory D:\\strawberry\\cpan\\build\\Module-Runtime-0.014-yHdcFp\n  Has already been made\nRunning Build test\n  Has already been tested successfully\nRunning Build install\n  Already done\nRunning make for M/MA/MATEU/MooX-Types-MooseLike-0.29.tar.gz\n  Has already been unwrapped into directory D:\\strawberry\\cpan\\build\\MooX-Types-MooseLike-0.29-UaWuDZ\n\n  CPAN.pm: Building M/MA/MATEU/MooX-Types-MooseLike-0.29.tar.gz\n\nWarning: Prerequisite 'Module::Runtime =&gt; 0.014' for 'MATEU/MooX-Types-MooseLike-0.29.tar.gz' already built but the resu\nlt looks suspicious. Skipping another build attempt, to prevent looping endlessly.\ncp lib/MooX/Types/MooseLike.pm blib\\lib\\MooX\\Types\\MooseLike.pm\ncp lib/MooX/Types/MooseLike/Base.pm blib\\lib\\MooX\\Types\\MooseLike\\Base.pm\n  MATEU/MooX-Types-MooseLike-0.29.tar.gz\n  D:\\strawberry\\c\\bin\\dmake.exe -- OK\nRunning make test\nD:\\strawberry\\perl\\bin\\perl.exe \"-ID:/strawberry/perl/lib\" \"-ID:/strawberry/perl/lib\" \"-MExtUtils::Command::MM\" \"-e\" \"te\nst_harness(0, 'blib\\lib', 'blib\\arch')\" t/*.t\nt/basic.t ........................ Can't locate Module/Runtime.pm in @INC (@INC contains: D:\\strawberry\\cpan\\build\\MooX-\nTypes-MooseLike-0.29-UaWuDZ\\blib\\lib D:\\strawberry\\cpan\\build\\MooX-Types-MooseLike-0.29-UaWuDZ\\blib\\arch D:/strawberry/p\nerl/lib D:/strawberry/perl/site/lib/MSWin32-x86-multi-thread D:/strawberry/perl/site/lib D:/strawberry/perl/vendor/lib D\n:/strawberry/perl/lib .) at D:/strawberry/perl/lib/Moo/_Utils.pm line 23.\nBEGIN failed--compilation aborted at D:/strawberry/perl/lib/Moo/_Utils.pm line 23.\nCompilation failed in require at D:/strawberry/perl/lib/Moo.pm line 13.\nBEGIN failed--compilation aborted at D:/strawberry/perl/lib/Moo.pm line 13.\nCompilation failed in require at t/basic.t line 4.\nBEGIN failed--compilation aborted at t/basic.t line 4.\nt/basic.t ........................ Dubious, test returned 2 (wstat 512, 0x200)\nNo subtests run\nt/builder.t ...................... Can't locate Module/Runtime.pm in @INC (@INC contains: D:\\strawberry\\cpan\\build\\MooX-\nTypes-MooseLike-0.29-UaWuDZ\\blib\\lib D:\\strawberry\\cpan\\build\\MooX-Types-MooseLike-0.29-UaWuDZ\\blib\\arch D:/strawberry/perl/lib D:/strawberry/perl/site/lib/MSWin32-x86-multi-thread D:/strawberry/perl/site/lib D:/strawberry/perl/vendor/lib \n</code></pre>\n\n<p>And this error repeats a few times, and all the test fail, etc. etc.</p>\n\n<pre><code>Files=14, Tests=0,  1 wallclock secs ( 0.06 usr +  0.03 sys =  0.09 CPU)\nResult: FAIL\nFailed 14/14 test programs. 0/0 subtests failed.\ndmake.exe:  Error code 130, while making 'test_dynamic'\n  MATEU/MooX-Types-MooseLike-0.29.tar.gz\none dependency not OK (Module::Runtime); additionally test harness failed\n  D:\\strawberry\\c\\bin\\dmake.exe test -- NOT OK\n//hint// to see the cpan-testers results for installing this module, try:\n  reports MATEU/MooX-Types-MooseLike-0.29.tar.gz\nRunning make install\n  make test had returned bad status, won't install without force\nStopping: 'install' failed for 'M/MA/MATEU/MooX-Types-MooseLike-0.29.tar.gz'.\nFailed during this command:\n MATEU/MooX-Types-MooseLike-0.29.tar.gz       : make_test NO one dependency not OK (Module::Runtime); additionally test\nharness failed\n</code></pre>\n\n<p>So, Questions....</p>\n\n<p>(1) What do I need to do to put Module::Runtime in the correct place?   My previous attempt to change directories worked for some, but not this one.  I would prefer D:\\strawberry\\perl\\site\\lib - as it seems that cpanm would put it's modules there, but D:\\strawberry\\perl\\lib would work fine too.</p>\n\n<p>If we fix number (1) this doesn't matter, but I am curious if anyone has an answer:</p>\n\n<p>(2) Why can't cpan find Module::Runtime, when it is in one of the subdirectories of @INC?</p>\n\n<p>So I know that one answer is to reinstall strawberry in the correct spot, but this is a production box with constant running Perl scripts and no down time, so no, that isn't an option.  They won't allow me to do that anyway.</p>\n\n<p>Thanks in advance for the help.</p>\n"}, {"tags": ["perl", "append"], "comments": [{"owner": {"reputation": 6258, "user_id": 82262, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/8ce15931410b388a52eb2df4a864137f?s=128&d=identicon&r=PG&f=1", "display_name": "Matt Jacob", "link": "https://stackoverflow.com/users/82262/matt-jacob"}, "edited": false, "score": 1, "creation_date": 1480612984, "post_id": 40916668, "comment_id": 69045632, "body": "It looks like you&#39;re opening the file and immediately closing it without writing anything to it. You need to modify the code that actually writes to the file!"}, {"owner": {"reputation": 8273, "user_id": 1334695, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/431ae6e9f7610b9d6a6a6cdebd0244d5?s=128&d=identicon&r=PG", "display_name": "stevieb", "link": "https://stackoverflow.com/users/1334695/stevieb"}, "edited": false, "score": 0, "creation_date": 1480615533, "post_id": 40916668, "comment_id": 69047102, "body": "note that you should put your <code>open</code> of the file before your <code>for()</code> loop, and the <code>close</code> after it. This opens the file once, instead of on each iteration of the loop."}, {"owner": {"reputation": 6258, "user_id": 82262, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/8ce15931410b388a52eb2df4a864137f?s=128&d=identicon&r=PG&f=1", "display_name": "Matt Jacob", "link": "https://stackoverflow.com/users/82262/matt-jacob"}, "edited": false, "score": 0, "creation_date": 1480616152, "post_id": 40916668, "comment_id": 69047428, "body": "You need to show us the part of <code>sparc_sub.pl</code> that opens the file..."}], "answers": [{"comments": [{"owner": {"reputation": 6258, "user_id": 82262, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/8ce15931410b388a52eb2df4a864137f?s=128&d=identicon&r=PG&f=1", "display_name": "Matt Jacob", "link": "https://stackoverflow.com/users/82262/matt-jacob"}, "edited": false, "score": 0, "creation_date": 1480613325, "post_id": 40916736, "comment_id": 69045863, "body": "While true, it looks like the child script is doing the file operations, so the real answer is probably to change to append mode there."}, {"owner": {"reputation": 8273, "user_id": 1334695, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/431ae6e9f7610b9d6a6a6cdebd0244d5?s=128&d=identicon&r=PG", "display_name": "stevieb", "link": "https://stackoverflow.com/users/1334695/stevieb"}, "edited": false, "score": 0, "creation_date": 1480614510, "post_id": 40916736, "comment_id": 69046538, "body": "I&#39;d recommend putting the <code>open</code> of the write handle outside of the <code>for()</code> loop in this case, instead of opening/closing on each iteration."}], "tags": [], "owner": {"reputation": 19192, "user_id": 257635, "user_type": "registered", "accept_rate": 89, "profile_image": "https://i.stack.imgur.com/El2tc.jpg?s=128&g=1", "display_name": "Chankey Pathak", "link": "https://stackoverflow.com/users/257635/chankey-pathak"}, "is_accepted": true, "score": 3, "last_activity_date": 1480614571, "last_edit_date": 1480614571, "creation_date": 1480612996, "answer_id": 40916736, "question_id": 40916668, "link": "https://stackoverflow.com/questions/40916668/perl-a-way-to-run-a-script-multiple-time-and-append-output-files/40916736#40916736", "title": "Perl - a way to run a script multiple time and append output files", "body": "<p>You have opened the file and then immediately closed it without even writing anything to it.</p>\n\n<pre><code>open(my $fh, '&gt;&gt;', $filename) or die \"Could not open file '$filename' $!\";\nprint $fh \"this data goes to file\";\nclose $fh;\n</code></pre>\n\n<hr>\n\n<blockquote>\n  <p>I have a perl script <code>sparc_sub.pl</code> that generate an output file, <code>sparc_sub.output</code></p>\n</blockquote>\n\n<p>So with each run the same file will be generated. I think you want to create a new file which will keep appending the data from <code>sparc_sub.output</code>. If that's the case then do below.</p>\n\n<pre><code>open(my $fh2, '&gt;&gt;', 'all_outputs') or die \"Could not open file 'all_outputs' $!\";\n\nfor ($s=0; $s &lt; $done; $s++) {\n    system('perl',$script)==0 or die \"failed to execute $script: \\$?=$?\";\n    #sparc_sub.output has been generated. \n    #Now take the data from this file and append it to a final file\n    open(my $fh, '&lt;', 'sparc_sub.output') or die \"Could not open file '$filename' $!\";\n    my @data = &lt;$fh&gt;;\n    print $fh2 @data;\n}\n</code></pre>\n\n<p>Now <code>all_outputs</code> file contains the data from <code>sparc_sub.output</code> file which was generated multiple times in the loop.</p>\n"}], "owner": {"reputation": 339, "user_id": 5683724, "user_type": "registered", "accept_rate": 72, "profile_image": "https://lh3.googleusercontent.com/-ys-8Xx_dcVY/AAAAAAAAAAI/AAAAAAAAACg/QkZg_guBu6g/photo.jpg?sz=128", "display_name": "Jaeyoung Park", "link": "https://stackoverflow.com/users/5683724/jaeyoung-park"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 595, "favorite_count": 0, "accepted_answer_id": 40916736, "answer_count": 1, "score": 0, "last_activity_date": 1480614571, "creation_date": 1480612782, "question_id": 40916668, "link": "https://stackoverflow.com/questions/40916668/perl-a-way-to-run-a-script-multiple-time-and-append-output-files", "title": "Perl - a way to run a script multiple time and append output files", "body": "<p>I would like to run a perl script multiple times and append output files in a file. </p>\n\n<p>Let's say I have a perl script (sparc_sub.pl) that generate an output file, sparc_sub.output. I would like to run it multiple times. In every time run, it retunes the same output file (sparc_sub.output), but the content is different. </p>\n\n<p>I know '>>' is the sign if I would like to append to the end of the file, so I used the sign to open the output files in a loop. However, the output file, sparc_sub.output always stores the result of the last run. (not appending) </p>\n\n<p>Any help is appreciated. </p>\n\n<p>sparc_top.pl </p>\n\n<pre><code>use strict;\nuse Math::BigInt;\nuse 5.010;\nuse List::Util qw(sum);\n\nmy $s;\nmy $done=3;\nmy $script=\"sparc_sub.pl\";\nmy @output; \nmy $filename ='sparc_sub.output';\n\nfor ($s=0; $s &lt; $done; $s++) {\n    system('perl',$script)==0 or die \"failed to execute $script: \\$?=$?\";\n    open(my $fh, '&gt;&gt;', $filename) or die \"Could not open file '$filename' $!\";\n    close $fh;\n}\n</code></pre>\n"}, {"tags": ["perl", "perlbrew", "cpanm"], "comments": [{"owner": {"reputation": 320771, "user_id": 589924, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/b2cf53d5a3d25f95c0db4e025aed4153?s=128&d=identicon&r=PG", "display_name": "ikegami", "link": "https://stackoverflow.com/users/589924/ikegami"}, "edited": false, "score": 2, "creation_date": 1480612353, "post_id": 40915839, "comment_id": 69045234, "body": "Please provide the output of <code>which perl ; which cpanm ; head -n 1 &quot;$( which cpanm )&quot; ; printf &#39;MM: %s\\n&#39; &quot;$PERL_MM_OPT&quot; ; printf &#39;MB: %s\\n&#39; &quot;$PERL_MB_OPT&quot;</code>"}, {"owner": {"reputation": 19192, "user_id": 257635, "user_type": "registered", "accept_rate": 89, "profile_image": "https://i.stack.imgur.com/El2tc.jpg?s=128&g=1", "display_name": "Chankey Pathak", "link": "https://stackoverflow.com/users/257635/chankey-pathak"}, "edited": false, "score": 0, "creation_date": 1480614732, "post_id": 40915839, "comment_id": 69046672, "body": "In perlbrew try the following. <code>$ cpanm --interactive -v App::cpanoutdated</code>,  <code>$ cpan-outdated</code>, <code>$ cpanm --interactive -v App::CPAN::Fresh</code>. Then do <code>cpanm &lt;module::name&gt;</code>."}, {"owner": {"reputation": 7980, "user_id": 1213907, "user_type": "registered", "accept_rate": 55, "profile_image": "https://i.stack.imgur.com/ksAFh.png?s=128&g=1", "display_name": "KeepCalmAndCarryOn", "link": "https://stackoverflow.com/users/1213907/keepcalmandcarryon"}, "edited": false, "score": 0, "creation_date": 1480628788, "post_id": 40915839, "comment_id": 69054096, "body": "Check to see that the permissions are correct on the just installed files"}], "answers": [{"comments": [{"owner": {"reputation": 307, "user_id": 6850179, "user_type": "registered", "accept_rate": 45, "profile_image": "https://www.gravatar.com/avatar/b776cc6e5d6d16b4490da030c7a55bbd?s=128&d=identicon&r=PG&f=1", "display_name": "paulj", "link": "https://stackoverflow.com/users/6850179/paulj"}, "edited": false, "score": 0, "creation_date": 1481141896, "post_id": 40935620, "comment_id": 69260458, "body": "but wont the installs change location depending on which cpanm is used. I performed suggestion. Using perl under perlbrew,  Can&#39;t locate DBD/Sybase.pm. Using system perl, all is fine. /Users/john/perl5/lib/perl5/darwin-thread-multi-2level/DBD/S&zwnj;&#8203;ybase.pm. Want to make certain cpanm next install is for perlbrew copy"}, {"owner": {"reputation": 307, "user_id": 6850179, "user_type": "registered", "accept_rate": 45, "profile_image": "https://www.gravatar.com/avatar/b776cc6e5d6d16b4490da030c7a55bbd?s=128&d=identicon&r=PG&f=1", "display_name": "paulj", "link": "https://stackoverflow.com/users/6850179/paulj"}, "edited": false, "score": 0, "creation_date": 1481142932, "post_id": 40935620, "comment_id": 69261048, "body": "PERL5LIB=&quot;/Users/john/perl5/lib/perl5&quot; This is the problem. How could I move files from here to   ~/perl5/perlbrew/perls/perl-5.18.2/lib/5.18.2/"}, {"owner": {"reputation": 307, "user_id": 6850179, "user_type": "registered", "accept_rate": 45, "profile_image": "https://www.gravatar.com/avatar/b776cc6e5d6d16b4490da030c7a55bbd?s=128&d=identicon&r=PG&f=1", "display_name": "paulj", "link": "https://stackoverflow.com/users/6850179/paulj"}, "edited": false, "score": 0, "creation_date": 1481142974, "post_id": 40935620, "comment_id": 69261066, "body": "Thanks so much for the info. Not sure how I got to this point."}, {"owner": {"reputation": 320771, "user_id": 589924, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/b2cf53d5a3d25f95c0db4e025aed4153?s=128&d=identicon&r=PG", "display_name": "ikegami", "link": "https://stackoverflow.com/users/589924/ikegami"}, "reply_to_user": {"reputation": 307, "user_id": 6850179, "user_type": "registered", "accept_rate": 45, "profile_image": "https://www.gravatar.com/avatar/b776cc6e5d6d16b4490da030c7a55bbd?s=128&d=identicon&r=PG&f=1", "display_name": "paulj", "link": "https://stackoverflow.com/users/6850179/paulj"}, "edited": false, "score": 0, "creation_date": 1481168538, "post_id": 40935620, "comment_id": 69270266, "body": "Re &quot;<i>but wont the installs change location depending on which cpanm is used</i>&quot;, By default, the <code>perl</code> used will determine where the module is installed, but you are overriding this."}, {"owner": {"reputation": 320771, "user_id": 589924, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/b2cf53d5a3d25f95c0db4e025aed4153?s=128&d=identicon&r=PG", "display_name": "ikegami", "link": "https://stackoverflow.com/users/589924/ikegami"}, "reply_to_user": {"reputation": 307, "user_id": 6850179, "user_type": "registered", "accept_rate": 45, "profile_image": "https://www.gravatar.com/avatar/b776cc6e5d6d16b4490da030c7a55bbd?s=128&d=identicon&r=PG&f=1", "display_name": "paulj", "link": "https://stackoverflow.com/users/6850179/paulj"}, "edited": false, "score": 0, "creation_date": 1481168695, "post_id": 40935620, "comment_id": 69270299, "body": "Re &quot;<i>How could I move files from here to ~/perl5/perlbrew/perls/perl-5.18.2/lib/5.18.2/</i>&quot; DON&#39;T MOVE THEM. Just install the modules using the Perl for which you want them to be available."}, {"owner": {"reputation": 307, "user_id": 6850179, "user_type": "registered", "accept_rate": 45, "profile_image": "https://www.gravatar.com/avatar/b776cc6e5d6d16b4490da030c7a55bbd?s=128&d=identicon&r=PG&f=1", "display_name": "paulj", "link": "https://stackoverflow.com/users/6850179/paulj"}, "edited": false, "score": 0, "creation_date": 1481208730, "post_id": 40935620, "comment_id": 69291926, "body": "WOW! Thanks so much!"}], "tags": [], "owner": {"reputation": 320771, "user_id": 589924, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/b2cf53d5a3d25f95c0db4e025aed4153?s=128&d=identicon&r=PG", "display_name": "ikegami", "link": "https://stackoverflow.com/users/589924/ikegami"}, "is_accepted": true, "score": 2, "last_activity_date": 1480692326, "creation_date": 1480692326, "answer_id": 40935620, "question_id": 40915839, "link": "https://stackoverflow.com/questions/40915839/perlbrew-perl-cpanm-faulty/40935620#40935620", "title": "perlbrew perl cpanm faulty", "body": "<p><code>cpanm</code> doesn't install any modules. It just runs the installer packaged with the distributions you want to install. Via the <code>PERL_MM_OPT</code> and <code>PERL_MB_OPT</code> env vars, you are instructing those installers to install the modules in the wrong location. Get rid of them.</p>\n"}, {"tags": [], "owner": {"reputation": 3, "user_id": 9224467, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/VTMCh.jpg?s=128&g=1", "display_name": "brigj", "link": "https://stackoverflow.com/users/9224467/brigj"}, "is_accepted": false, "score": 0, "last_activity_date": 1516122042, "creation_date": 1516122042, "answer_id": 48286305, "question_id": 40915839, "link": "https://stackoverflow.com/questions/40915839/perlbrew-perl-cpanm-faulty/48286305#48286305", "title": "perlbrew perl cpanm faulty", "body": "<p>I had a similar problem and could not understand how to make <code>cpanm</code> install modules for the intended Perl.  I had installed <code>perlbrew</code> via:</p>\n\n<pre><code>perlbrew --switch --notest install perl-stable\n</code></pre>\n\n<p>I thought that <code>--switch</code> would direct my usage to the new Perl, and I could see the new Perl was there via:</p>\n\n<pre><code>perlbrew exec perl -v | grep 'This is'\n</code></pre>\n\n<p>But installing modules with <code>cpanm</code> was not working (the modules wouldn't be found) when I would run my scripts via:</p>\n\n<pre><code>perlbrew exec perl myscript.pl\n</code></pre>\n\n<p>This <a href=\"https://stackoverflow.com/questions/4764025/how-to-specify-which-version-of-perl-to-use-on-centos\">which-version-of-perl post</a> made me consider that maybe <code>--switch</code> had not had the effect I'd wanted.  Running the following allowed <code>cpanm</code> to start installing to the intended Perl:</p>\n\n<pre><code>perlbrew switch perl-5.26.1\n</code></pre>\n"}], "owner": {"reputation": 307, "user_id": 6850179, "user_type": "registered", "accept_rate": 45, "profile_image": "https://www.gravatar.com/avatar/b776cc6e5d6d16b4490da030c7a55bbd?s=128&d=identicon&r=PG&f=1", "display_name": "paulj", "link": "https://stackoverflow.com/users/6850179/paulj"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 325, "favorite_count": 0, "accepted_answer_id": 40935620, "answer_count": 2, "score": 3, "last_activity_date": 1516122042, "creation_date": 1480610157, "last_edit_date": 1495541347, "question_id": 40915839, "link": "https://stackoverflow.com/questions/40915839/perlbrew-perl-cpanm-faulty", "title": "perlbrew perl cpanm faulty", "body": "<p>I installed a module under cpanm, apparently incorrectly. It is visible and usable when running under system perl, but not under perlbrew. However, perlbrews cpanm is stating that module has been successfully installed. Best steps to take?</p>\n\n<pre><code>/Users/john/perl5/perlbrew/perls/perl-5.18.2/bin/perl\n/Users/john/perl5/bin/cpanm\n#!/usr/bin/perl\nMM: INSTALL_BASE=/Users/john/perl5\nMB: --install_base \"/Users/john/perl5\"\n\nNote: .pl file contains following\n#!/usr/bin/env perl\n</code></pre>\n\n<p>After perlbrew switch...</p>\n\n<pre><code>declare -x PERL5LIB=\"/Users/john/perl5/lib/perl5\"\ndeclare -x PERLBREW_BASHRC_VERSION=\"0.76\"\ndeclare -x PERLBREW_HOME=\"/Users/john/.perlbrew\"\ndeclare -x PERLBREW_MANPATH=\"/Users/john/perl5/perlbrew/perls/perl-5.18.2/man\"\ndeclare -x PERLBREW_PATH=\"/Users/john/perl5/perlbrew/bin:/Users/john/perl5/perlbrew/perls/perl-5.18.2/bin\"\ndeclare -x PERLBREW_PERL=\"perl-5.18.2\"\ndeclare -x PERLBREW_ROOT=\"/Users/john/perl5/perlbrew\"\ndeclare -x PERLBREW_VERSION=\"0.76\"\ndeclare -x PERL_LOCAL_LIB_ROOT=\"/Users/john/perl5\"\ndeclare -x PERL_MB_OPT=\"--install_base \\\"/Users/john/perl5\\\"\"\ndeclare -x PERL_MM_OPT=\"INSTALL_BASE=/Users/john/perl5\"\n</code></pre>\n\n<p><a href=\"https://stackoverflow.com/questions/40660109/installing-dbdsybase-on-os-x-with-homebrew-fails-to-find-freetds-libraries\">Link to sybase install with hombrew</a></p>\n"}, {"tags": ["perl", "sockets"], "comments": [{"owner": {"reputation": 320771, "user_id": 589924, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/b2cf53d5a3d25f95c0db4e025aed4153?s=128&d=identicon&r=PG", "display_name": "ikegami", "link": "https://stackoverflow.com/users/589924/ikegami"}, "edited": false, "score": 0, "creation_date": 1480616288, "post_id": 40915269, "comment_id": 69047501, "body": "Tip: Avoid global vars by using <code>socket(my $SOCKET, ...)</code> instead of <code>socket(SOCKET, ...)</code>."}, {"owner": {"reputation": 320771, "user_id": 589924, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/b2cf53d5a3d25f95c0db4e025aed4153?s=128&d=identicon&r=PG", "display_name": "ikegami", "link": "https://stackoverflow.com/users/589924/ikegami"}, "edited": false, "score": 0, "creation_date": 1480616337, "post_id": 40915269, "comment_id": 69047525, "body": "Tip: <a href=\"http://search.cpan.org/perldoc?IO::Socket::IP\" rel=\"nofollow noreferrer\">IO::Socket::IP</a> makes things a lot simpler."}, {"owner": {"reputation": 320771, "user_id": 589924, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/b2cf53d5a3d25f95c0db4e025aed4153?s=128&d=identicon&r=PG", "display_name": "ikegami", "link": "https://stackoverflow.com/users/589924/ikegami"}, "edited": false, "score": 0, "creation_date": 1480616519, "post_id": 40915269, "comment_id": 69047608, "body": "You currently read from the socket in the client and write to the socket in the server. You can also write to the socket in the client and read from the socket in the server. A socket is bi-directional."}], "answers": [{"tags": [], "owner": {"reputation": 53041, "user_id": 4653379, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/b3953dbedd0dabff5cbc3db9b0835b14?s=128&d=identicon&r=PG&f=1", "display_name": "zdim", "link": "https://stackoverflow.com/users/4653379/zdim"}, "is_accepted": false, "score": 2, "last_activity_date": 1584814626, "last_edit_date": 1584814626, "creation_date": 1480663217, "answer_id": 40926817, "question_id": 40915269, "link": "https://stackoverflow.com/questions/40915269/in-perl-socket-programming-how-to-send-a-data-from-client-and-receive-it-from-se/40926817#40926817", "title": "In perl socket programming how to send a data from client and receive it from server", "body": "<p>Here is a basic example. The code below adds to what you have, but please note that modules <a href=\"http://search.cpan.org/~pevans/IO-Socket-IP-0.38/lib/IO/Socket/IP.pm\" rel=\"nofollow noreferrer\">IO::Socket::IP</a> or core <a href=\"http://perldoc.perl.org/IO/Socket/INET.html\" rel=\"nofollow noreferrer\">IO::Socket::INET</a> make it easier than the lower level calls you use.</p>\n\n<p>The only changes to your code (other than shown below) are from <code>SOCKET</code> to lexical <code>my $socket</code>, and an existing declaration is moved inside the <code>while</code> condition.</p>\n\n<p>Every server-client system needs a protocol, an arrangement of how the messages are exchanged. Here, once the client connects the server sends a message and then they exchange single prints.</p>\n\n<p><strong>server.pl</strong></p>\n\n<pre><code># ... code from the question, with $socket instead of SOCKET\n\nuse IO::Handle;  # for autoflush\n\nwhile (my $client_addr = accept(my $new_socket, $socket)) \n{\n   $new_socket-&gt;autoflush;\n   my $name = gethostbyaddr($client_addr, AF_INET );\n   print \"Connection received from $name\\n\";\n\n   print $new_socket \"Hello from the server\\n\";\n\n   while (my $recd = &lt;$new_socket&gt;) {\n       chomp $recd;\n       print \"Got from client: $recd\\n\";\n\n       print $new_socket \"Response from server to |$recd|\\n\";\n   }   \n   close $new_socket;\n}\n</code></pre>\n\n<p>Instead of loading <code>IO::Handle</code> you can make a handle hot (autoflush) using <a href=\"http://perldoc.perl.org/functions/select.html\" rel=\"nofollow noreferrer\">select</a>.</p>\n\n<p><strong>client.pl</strong> </p>\n\n<p>I add a counter <code>$cnt</code> to simulate some processing that leads to a condition to break out.</p>\n\n<pre><code># ... same as in question, except for $socket instead of SOCKET\n\nuse IO::Handle;\n$socket-&gt;autoflush;\n\nmy $cnt = 0;\nwhile (my $line = &lt;$socket&gt;) {\n    chomp $line;\n    print \"Got from server: $line\\n\";\n    last if ++$cnt &gt; 3;                # made up condition to quit\n\n    print $socket \"Hello from client ($cnt)\\n\";\n}\nclose $socket or die \"close: $!\";\n</code></pre>\n\n<p>This behaves as expected. The client exits after three messages, the server stays waiting. If you wish to indeed write just once the simple print and read replace the <code>while</code> loops.  </p>\n\n<p>The exchanges can be far more sophisticated, see the example in perlipc linked at the end.</p>\n\n<p>A few comments</p>\n\n<ul>\n<li><p>Using the mentioned modules makes this much easier</p></li>\n<li><p>Any glitch in flushing can lead to deadlocks, where one party wrote and is waiting to read, while the other <em>did not get</em> the message still sitting in the pipe and is thus, also, waiting to read</p></li>\n<li><p>Check everything. All checking is left out for brevity</p></li>\n<li><p><code>use warnings;</code> is better than the <code>-w</code> switch. See the <a href=\"http://perldoc.perl.org/warnings.html#What%27s-wrong-with-*-w*-and-$%5EW\" rel=\"nofollow noreferrer\">discussion on <em>warnings</em> page</a></p></li>\n</ul>\n\n<p>This is only meant to answer the question of how to enable communication <em>between</em> them. One good resource for study is <a href=\"http://perldoc.perl.org/perlipc.html\" rel=\"nofollow noreferrer\">perlipc</a>, which also has a <a href=\"http://perldoc.perl.org/perlipc.html#TCP-Servers-with-IO::Socket\" rel=\"nofollow noreferrer\">full example</a>. The docs for involved modules provide a lot of information as well.</p>\n"}], "owner": {"reputation": 101, "user_id": 5951584, "user_type": "registered", "accept_rate": 0, "profile_image": "https://i.stack.imgur.com/ZVPFa.jpg?s=128&g=1", "display_name": "shinoy.m", "link": "https://stackoverflow.com/users/5951584/shinoy-m"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 4457, "favorite_count": 1, "answer_count": 1, "score": 3, "last_activity_date": 1584814626, "creation_date": 1480608381, "last_edit_date": 1480616234, "question_id": 40915269, "link": "https://stackoverflow.com/questions/40915269/in-perl-socket-programming-how-to-send-a-data-from-client-and-receive-it-from-se", "title": "In perl socket programming how to send a data from client and receive it from server", "body": "<p>I am using Socket module to perform socket programming in Perl.And now I want to send one data from the client and receive it from the Server side. How I will achive this. Please help.</p>\n\n<p>Given below in the code i used</p>\n\n<p>server</p>\n\n<pre><code>#!/usr/bin/perl -w\n# Filename : server.pl\n\nuse strict;\nuse IO::Socket;\nuse Socket;\nuse Sys::Hostname;\nuse constant BUFSIZE =&gt; 1024;\n\n# use port 7890 as default\nmy $port = shift || 7890;\nmy $proto = getprotobyname('tcp');\nmy $server = \"localhost\";  # Host IP running the server\n\n# create a socket, make it reusable\nsocket(SOCKET, PF_INET, SOCK_STREAM, $proto)\n   or die \"Can't open socket $!\\n\";\nsetsockopt(SOCKET, SOL_SOCKET, SO_REUSEADDR, 1)\n   or die \"Can't set socket option to SO_REUSEADDR $!\\n\";\n\n# bind to a port, then listen\nbind( SOCKET, pack_sockaddr_in($port, inet_aton($server)))\n   or die \"Can't bind to port $port! \\n\";\n\nlisten(SOCKET, 5) or die \"listen: $!\";\nprint \"SERVER started on port $port\\n\";\n\n# accepting a connection\nmy $client_addr;\nmy $val = 100;\n\nwhile ($client_addr = accept(NEW_SOCKET, SOCKET)) {\n   # send them a message, close connection\n   my $name = gethostbyaddr($client_addr, AF_INET );\n   print NEW_SOCKET \"Smile from the server\";\n   print NEW_SOCKET $val;\n   print \"Connection recieved from $name\\n\";\n   close NEW_SOCKET;\n}\n</code></pre>\n\n<p>client</p>\n\n<pre><code>#!/usr/bin/perl -w\n# Filename : client.pl\n\nuse strict;\nuse IO::Socket;\nuse Socket;\nuse Sys::Hostname;\nuse constant BUFSIZE =&gt; 1024;\n\n# initialize host and port\nmy $host = shift || 'localhost';\nmy $port = shift || 7890;\nmy $server = \"localhost\";  # Host IP running the server\n\n# create the socket, connect to the port\nsocket(SOCKET,PF_INET,SOCK_STREAM,(getprotobyname('tcp'))[2])\n   or die \"Can't create a socket $!\\n\";\nconnect( SOCKET, pack_sockaddr_in($port, inet_aton($server)))\n   or die \"Can't connect to port $port! \\n\";\n\nmy $line;\nmy $req = 1000;\nwhile ($line = &lt;SOCKET&gt;) {\n        print \"$line\\n\";\n}\nclose SOCKET or die \"close: $!\";\n</code></pre>\n"}, {"tags": ["php", "mysql", "perl", "cgi"], "comments": [{"owner": {"reputation": 50468, "user_id": 1331451, "user_type": "registered", "accept_rate": 96, "profile_image": "https://i.stack.imgur.com/4ZPmj.png?s=128&g=1", "display_name": "simbabque", "link": "https://stackoverflow.com/users/1331451/simbabque"}, "edited": false, "score": 1, "creation_date": 1480607871, "post_id": 40915085, "comment_id": 69042354, "body": "How many records are there? Also, a DBI statement handle object doesn&#39;t have a <code>fetchAll</code> method according <a href=\"https://metacpan.org/pod/DBI\" rel=\"nofollow noreferrer\">to the docs</a>. Even if it had one, it would be <code>fetchall</code>, not <code>fetchAll</code>. None of the methods in DBI are camelcase. Only attributes are."}, {"owner": {"reputation": 11, "user_id": 7100224, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/68d5d7cd60317366839022eb600824a0?s=128&d=identicon&r=PG&f=1", "display_name": "Jada Pinks", "link": "https://stackoverflow.com/users/7100224/jada-pinks"}, "reply_to_user": {"reputation": 50468, "user_id": 1331451, "user_type": "registered", "accept_rate": 96, "profile_image": "https://i.stack.imgur.com/4ZPmj.png?s=128&g=1", "display_name": "simbabque", "link": "https://stackoverflow.com/users/1331451/simbabque"}, "edited": false, "score": 0, "creation_date": 1480607988, "post_id": 40915085, "comment_id": 69042427, "body": "@simbabque 10 sir!"}, {"owner": {"reputation": 50468, "user_id": 1331451, "user_type": "registered", "accept_rate": 96, "profile_image": "https://i.stack.imgur.com/4ZPmj.png?s=128&g=1", "display_name": "simbabque", "link": "https://stackoverflow.com/users/1331451/simbabque"}, "edited": false, "score": 0, "creation_date": 1480608338, "post_id": 40915085, "comment_id": 69042646, "body": "Are you sure this works at all? See the edit to my comment above."}, {"owner": {"reputation": 11, "user_id": 7100224, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/68d5d7cd60317366839022eb600824a0?s=128&d=identicon&r=PG&f=1", "display_name": "Jada Pinks", "link": "https://stackoverflow.com/users/7100224/jada-pinks"}, "reply_to_user": {"reputation": 50468, "user_id": 1331451, "user_type": "registered", "accept_rate": 96, "profile_image": "https://i.stack.imgur.com/4ZPmj.png?s=128&g=1", "display_name": "simbabque", "link": "https://stackoverflow.com/users/1331451/simbabque"}, "edited": false, "score": 0, "creation_date": 1480608763, "post_id": 40915085, "comment_id": 69042904, "body": "@simbabque i&#39;m sorry, this was the decoy testing script. I edited it. The one that works has <code>my @record = $sql-&gt;fetchrow_array; </code>"}, {"owner": {"reputation": 6258, "user_id": 82262, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/8ce15931410b388a52eb2df4a864137f?s=128&d=identicon&r=PG&f=1", "display_name": "Matt Jacob", "link": "https://stackoverflow.com/users/82262/matt-jacob"}, "edited": false, "score": 0, "creation_date": 1480610004, "post_id": 40915085, "comment_id": 69043698, "body": "You need a loop to iterate over the results; see <a href=\"https://metacpan.org/pod/DBI#Simple-Examples\" rel=\"nofollow noreferrer\">metacpan.org/pod/DBI#Simple-Examples</a>"}, {"owner": {"reputation": 6258, "user_id": 82262, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/8ce15931410b388a52eb2df4a864137f?s=128&d=identicon&r=PG&f=1", "display_name": "Matt Jacob", "link": "https://stackoverflow.com/users/82262/matt-jacob"}, "edited": false, "score": 2, "creation_date": 1480610050, "post_id": 40915085, "comment_id": 69043725, "body": "Also, I would recommend calling the statement handle <code>$sth</code> instead of <code>$sql</code>, since it&#39;s not SQL."}], "answers": [{"comments": [{"owner": {"reputation": 50468, "user_id": 1331451, "user_type": "registered", "accept_rate": 96, "profile_image": "https://i.stack.imgur.com/4ZPmj.png?s=128&g=1", "display_name": "simbabque", "link": "https://stackoverflow.com/users/1331451/simbabque"}, "reply_to_user": {"reputation": 11, "user_id": 7100224, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/68d5d7cd60317366839022eb600824a0?s=128&d=identicon&r=PG&f=1", "display_name": "Jada Pinks", "link": "https://stackoverflow.com/users/7100224/jada-pinks"}, "edited": false, "score": 0, "creation_date": 1480617243, "post_id": 40916812, "comment_id": 69048034, "body": "@J no problem. But next time please at least read part of the documentation. It was all right there. Matt&#39;s comment above has the relevant link."}], "tags": [], "owner": {"reputation": 50468, "user_id": 1331451, "user_type": "registered", "accept_rate": 96, "profile_image": "https://i.stack.imgur.com/4ZPmj.png?s=128&g=1", "display_name": "simbabque", "link": "https://stackoverflow.com/users/1331451/simbabque"}, "is_accepted": true, "score": 1, "last_activity_date": 1480613218, "creation_date": 1480613218, "answer_id": 40916812, "question_id": 40915085, "link": "https://stackoverflow.com/questions/40915085/cgi-using-mysql-how-to-display-all-data-from-table/40916812#40916812", "title": "CGI using MySQL: How to display all data from table?", "body": "<p>The <code>fetchrow_array</code> method only returns one line at a time, until it's exhausted. It's an <em>iterator</em>. So your code correctly prints one row at a time.</p>\n\n<p>You need to iterate the results until there are no more left.</p>\n\n<pre><code>while (my @record = $sql-&gt;fetchrow_array) {\n   print \"&lt;tr&gt;\";\n   print \"&lt;td&gt;$_&lt;/td&gt;\" foreach @record;\n   print \"&lt;/tr&gt;\";\n}\n</code></pre>\n\n<p>I've used the considerably shorter <code>foreach @record</code>, which gives you each  element in the array, one by one. That way you don't need to deal with indexes. Putting it after the line you want to repeat in the loop is called <em>postfix notation</em>.</p>\n"}], "owner": {"reputation": 11, "user_id": 7100224, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/68d5d7cd60317366839022eb600824a0?s=128&d=identicon&r=PG&f=1", "display_name": "Jada Pinks", "link": "https://stackoverflow.com/users/7100224/jada-pinks"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 373, "favorite_count": 1, "accepted_answer_id": 40916812, "answer_count": 1, "score": 0, "last_activity_date": 1480613218, "creation_date": 1480607741, "last_edit_date": 1480608728, "question_id": 40915085, "link": "https://stackoverflow.com/questions/40915085/cgi-using-mysql-how-to-display-all-data-from-table", "title": "CGI using MySQL: How to display all data from table?", "body": "<p>This is for a homework. When I run the script, it will only show one row of data from the database. <code>my @record = $sql-&gt;fetchAll();</code> is the problem, I think. How do I make it so it outputs ALL rows from the table?</p>\n\n<pre><code>use CGI qw(:standard);\nuse CGI::Carp qw(fatalsToBrowser);\nuse DBI;\nuse strict;\nuse warnings;\n\nmy $idnum = param('idnum');\nmy $year = param('year');\nmy $make = param('make');\nmy $model = param('model');\nmy $color = param('color');\nmy $price = param('price');\n\nprint \"Content-type: text/html \\n\\n\";;\n\nmy $db = \"DBI:mysql:cars:localhost\";\nmy $dbh = DBI-&gt;connect($db,\"root\",\"\",{RaiseError=&gt;1});\n\nmy $sql = $dbh-&gt;prepare(qq(select * from cars));\n$sql-&gt;execute;\n\nprint &lt;&lt;here;\n\n&lt;div align=\"center\"&gt;\n&lt;h2&gt;Cars&lt;/h2&gt;\n&lt;table border =\"2\" bordercolor=\"green\"&gt;\n&lt;tr&gt;\n&lt;td&gt;Id&lt;/td&gt;&lt;td&gt;Year&lt;/td&gt;&lt;td&gt;Make&lt;/td&gt;&lt;td&gt;Model&lt;/td&gt;&lt;td&gt;Color&lt;/td&gt;    &lt;td&gt;Price&lt;/td&gt;\n&lt;/TR&gt;\nhere\n\nmy @record = $sql-&gt;fetchrow_array;  ### there is only one row in resultset\n\nfor(my $i = 0; $i &lt; @record; $i++ ) {\n    print \"&lt;td&gt;$record[$i]&lt;/td&gt;\";\n}\nprint \"&lt;/tr&gt;\";\n\nprint \"&lt;/table&gt;&lt;/div&gt;&lt;/body&gt;&lt;/html&gt;\";\n\n$dbh-&gt;disconnect();\n</code></pre>\n"}, {"tags": ["mysql", "perl", "ssl"], "answers": [{"tags": [], "owner": {"reputation": 43, "user_id": 5887626, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/47d154f1a483b7c919ecf256e0d005d5?s=128&d=identicon&r=PG", "display_name": "Lollypop", "link": "https://stackoverflow.com/users/5887626/lollypop"}, "is_accepted": true, "score": 0, "last_activity_date": 1480692514, "creation_date": 1480692514, "answer_id": 40935682, "question_id": 40914920, "link": "https://stackoverflow.com/questions/40914920/perl-module-dbi-with-mysql-throws-error-2026-recorded-ssl-connection-error-pr/40935682#40935682", "title": "Perl module DBI with MySQL throws &quot;error 2026 recorded: SSL connection error: protocol version mismatch&quot;", "body": "<p>A workaround seem to be to compile the DBD::mysql instead of taking the Ubuntu precompiled. I used the mariadb libraries in my example.\nWhat I did on a Ubuntu 16.04 with a minimal installation is:</p>\n\n<pre><code>$ sudo apt install libmariadb-client-lgpl-dev libdbi-perl gcc\n$ sudo ln -s /usr/bin/mariadb_config /usr/bin/mysql_config\n$ sudo perl -MCPAN -eshell\ncpan[1]&gt; install DBD::mysql\n</code></pre>\n\n<p>After that my perl call from above works fine. I will file a bug at ubuntu.</p>\n"}], "owner": {"reputation": 43, "user_id": 5887626, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/47d154f1a483b7c919ecf256e0d005d5?s=128&d=identicon&r=PG", "display_name": "Lollypop", "link": "https://stackoverflow.com/users/5887626/lollypop"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 487, "favorite_count": 0, "accepted_answer_id": 40935682, "answer_count": 1, "score": 1, "last_activity_date": 1480692514, "creation_date": 1480607239, "last_edit_date": 1480612890, "question_id": 40914920, "link": "https://stackoverflow.com/questions/40914920/perl-module-dbi-with-mysql-throws-error-2026-recorded-ssl-connection-error-pr", "title": "Perl module DBI with MySQL throws &quot;error 2026 recorded: SSL connection error: protocol version mismatch&quot;", "body": "<p>Before you complain about the question was asked before: I do not want to make a ssl connection.</p>\n\n<p>I just try to connect from my client (Ubuntu 16.04):</p>\n\n<blockquote>\n  <p>mysql  Ver 15.1 Distrib 10.0.27-MariaDB</p>\n</blockquote>\n\n<p>to an older MySQL server (running on solaris):</p>\n\n<blockquote>\n  <p>5.5.10-log MySQL Community Server (GPL)</p>\n</blockquote>\n\n<p>with perl.</p>\n\n<p>I tried to explicit disable mysql_ssl but it seems to change nothing. </p>\n\n<p>When I connect with the samme perl code like below to another MariaDB with actual version there is no error.\nWhen I connect with the MySQL-Client on the command line to the old MySQL-Server there is no error.</p>\n\n<p>The server variables are set like this:</p>\n\n<pre><code>MySQL [(none)]&gt; show variables like '%ssl%';\n+---------------+--------------------------------+\n| Variable_name | Value                          |\n+---------------+--------------------------------+\n| have_openssl  | YES                            |\n| have_ssl      | YES                            |\n| ssl_ca        | /etc/mysql/ssl/ca-cert.pem     |\n| ssl_capath    |                                |\n| ssl_cert      | /etc/mysql/ssl/server-cert.pem |\n| ssl_cipher    |                                |\n| ssl_key       | /etc/mysql/ssl/server-key.pem  |\n+---------------+--------------------------------+\n</code></pre>\n\n<p>My perl code looks like this:</p>\n\n<pre><code>$ perl -e '\nuse DBI;\nDBI-&gt;trace(\"15|CON\");\nmy $dbh = DBI-&gt;connect(\"DBI:mysql:host=my_dbhost;database=test;\", \"test\", \"test\", \n  { \n    PrintError =&gt; 1, \n    RaiseError =&gt; 1, \n    mysql_ssl =&gt; 0,\n    mysql_skip_secure_auth =&gt; 1 \n  });\n$dbh-&gt;disconnect();'\n</code></pre>\n\n<p>This is the debugging level 15 output:</p>\n\n<pre><code>    DBI 1.634-ithread default trace level set to 0x200/15 (pid 11328 pi ee1010) at -e line 1\n    -&gt; DBI-&gt;connect(DBI:mysql:host=my_dbhost;database=test;, test, ****, HASH(0xee3f30))\n    -&gt; DBI-&gt;install_driver(mysql) for linux perl=5.022001 pid=11328 ruid=10000 euid=10000\n       install_driver: DBD::mysql version 4.033 loaded from /usr/lib/x86_64-linux-gnu/perl5/5.22/DBD/mysql.pm\n    New 'DBI::dr' (for DBD::mysql::dr, parent='', id=undef)\n    dbih_setup_handle(DBI::dr=HASH(0x11e6848)=&gt;DBI::dr=HASH(0xf184e8), DBD::mysql::dr, 0, Null!)\n    dbih_make_com(Null!, 0, DBD::mysql::dr, 152, 0) thr#ee1010\n    dbih_setup_attrib(DBI::dr=HASH(0xf184e8), Err, Null!) SCALAR(0x1016f28) (already defined)\n    dbih_setup_attrib(DBI::dr=HASH(0xf184e8), State, Null!) SCALAR(0x10db678) (already defined)\n    dbih_setup_attrib(DBI::dr=HASH(0xf184e8), Errstr, Null!) SCALAR(0x103c648) (already defined)\n    dbih_setup_attrib(DBI::dr=HASH(0xf184e8), TraceLevel, Null!) 0 (already defined)\n    dbih_setup_attrib(DBI::dr=HASH(0xf184e8), FetchHashKeyName, Null!) 'NAME' (already defined)\ninstall_method DBI::db::mysql_fd    \ninstall_method DBI::db::mysql_async_result\ninstall_method DBI::db::mysql_async_ready\ninstall_method DBI::st::mysql_async_result\ninstall_method DBI::st::mysql_async_ready\n    &lt;- install_driver= DBI::dr=HASH(0x11e6848)\n    &gt;&gt; connect     DISPATCH (DBI::dr=HASH(0x11e6848) rc2/3 @5 g2 ima8001 pid#11328) at /usr/lib/x86_64-linux-gnu/perl5/5.22/DBI.pm line 683\n    !! The warn '0' was CLEARED by call to connect method\n    -&gt; connect for DBD::mysql::dr (DBI::dr=HASH(0x11e6848)~0xf184e8 'host=my_dbhost;database=test;' 'test' **** HASH(0x106d978)) thr#ee1010\n    New 'DBI::db' (for DBD::mysql::db, parent=DBI::dr=HASH(0xf184e8), id=HASH(0x12164b8))\n    dbih_setup_handle(DBI::db=HASH(0x1216338)=&gt;DBI::db=HASH(0x121ce50), DBD::mysql::db, 10db930, HASH(0x12164b8))\n    dbih_make_com(DBI::dr=HASH(0xf184e8), f0fd90, DBD::mysql::db, 192, 121cd78) thr#ee1010\n    dbih_setup_attrib(DBI::db=HASH(0x121ce50), Err, DBI::dr=HASH(0xf184e8)) SCALAR(0x10f2d70) (already defined)\n    dbih_setup_attrib(DBI::db=HASH(0x121ce50), State, DBI::dr=HASH(0xf184e8)) SCALAR(0x10f2dd0) (already defined)\n    dbih_setup_attrib(DBI::db=HASH(0x121ce50), Errstr, DBI::dr=HASH(0xf184e8)) SCALAR(0x10f2da0) (already defined)\n    dbih_setup_attrib(DBI::db=HASH(0x121ce50), TraceLevel, DBI::dr=HASH(0xf184e8)) 0 (already defined)\n    dbih_setup_attrib(DBI::db=HASH(0x121ce50), FetchHashKeyName, DBI::dr=HASH(0xf184e8)) 'NAME' (already defined)\n    dbih_setup_attrib(DBI::db=HASH(0x121ce50), HandleSetErr, DBI::dr=HASH(0xf184e8)) undef (not defined)\n    dbih_setup_attrib(DBI::db=HASH(0x121ce50), HandleError, DBI::dr=HASH(0xf184e8)) undef (not defined)\n    dbih_setup_attrib(DBI::db=HASH(0x121ce50), ReadOnly, DBI::dr=HASH(0xf184e8)) undef (not defined)\n    dbih_setup_attrib(DBI::db=HASH(0x121ce50), Profile, DBI::dr=HASH(0xf184e8)) undef (not defined)\nimp_dbh-&gt;connect: dsn = host=my_dbhost;database=test;, uid = test, pwd = test\nimp_dbh-&gt;my_login : dbname = test, uid = test, pwd = test,host = my_dbhost, port = NULL\nimp_dbh-&gt;mysql_dr_connect: host = |my_dbhost|, port = 0, uid = test, pwd = test\nimp_dbh-&gt;mysql_dr_connect: Skipping secure auth\nimp_dbh-&gt;bind_type_guessing: 0\nimp_dbh-&gt;use_server_side_prepare: 0\nimp_dbh-&gt;mysql_dr_connect: client_flags = 2\nimp_dbh-&gt;mysql_dr_connect: &lt;-       --&gt; do_error\nSSL connection error: protocol version mismatch error 2026 recorded: SSL connection error: protocol version mismatch\n        &lt;-- do_error\n    &gt;&gt; DESTROY     DISPATCH (DBI::db=HASH(0x1216338) rc1/1 @1 g2 ima10004 pid#11328) at /usr/lib/x86_64-linux-gnu/perl5/5.22/DBD/mysql.pm line 163 via  at -e line 1\n    &lt;&gt; DESTROY(DBI::db=HASH(0x1216338)) ignored for outer handle (inner DBI::db=HASH(0x121ce50) has ref cnt 2)\n    &gt;&gt; DESTROY     DISPATCH (DBI::db=HASH(0x121ce50) rc1/1 @1 g2 ima10004 pid#11328) at /usr/lib/x86_64-linux-gnu/perl5/5.22/DBI.pm line 683 via  at -e line 1\n    -&gt; DESTROY for DBD::mysql::db (DBI::db=HASH(0x121ce50)~INNER) thr#ee1010\n         DESTROY for DBI::db=HASH(0x121ce50) ignored - handle not initialised\n       ERROR: 2026 'SSL connection error: protocol version mismatch' (err#0)\n    &lt;- DESTROY= ( undef ) [1 items] at /usr/lib/x86_64-linux-gnu/perl5/5.22/DBI.pm line 683 via  at -e line 1\n    DESTROY (dbih_clearcom) (dbh 0x121ce50, com 0x123c3b0, imp DBD::mysql::db):\n       FLAGS 0x100211: COMSET Warn PrintWarn AutoCommit \n       ERR 2026\n       ERRSTR 'SSL connection error: protocol version mismatch'\n       PARENT DBI::dr=HASH(0xf184e8)\n       KIDS 0 (0 Active)\n       IMP_DATA HASH(0x12164b8)\n    dbih_clearcom 0x121ce50 (com 0x123c3b0, type 2) done.\n\n    !! ERROR: 2026 'SSL connection error: protocol version mismatch' (err#0)\n    &lt;- connect= ( undef ) [1 items] at /usr/lib/x86_64-linux-gnu/perl5/5.22/DBI.pm line 683\n    -&gt; $DBI::errstr (&amp;) FETCH from lasth=HASH\n    &gt;&gt; DBD::mysql::dr::errstr\n    &lt;- $DBI::errstr= 'SSL connection error: protocol version mismatch'\n       DBI connect('host=my_dbhost;database=test;','test',...) failed: SSL connection error: protocol version mismatch\nDBI connect('host=my_dbhost;database=test;','test',...) failed: SSL connection error: protocol version mismatch at -e line 1.\n    -- DBI::END ($@: , $!: )\n    &gt;&gt; disconnect_all DISPATCH (DBI::dr=HASH(0x11e6848) rc1/3 @1 g2 ima801 pid#11328) at /usr/lib/x86_64-linux-gnu/perl5/5.22/DBI.pm line 762 via  at /usr/share/perl/5.22/Carp.pm line 166\n    !! The ERROR '2026' was CLEARED by call to disconnect_all method\n    -&gt; disconnect_all for DBD::mysql::dr (DBI::dr=HASH(0x11e6848)~0xf184e8) thr#ee1010\n    &lt;- disconnect_all= ( ) [0 items] (not implemented) at /usr/lib/x86_64-linux-gnu/perl5/5.22/DBI.pm line 762 via  at /usr/share/perl/5.22/Carp.pm line 166\n!   &gt;&gt; DESTROY     DISPATCH (DBI::dr=HASH(0xf184e8) rc1/1 @1 g2 ima10004 pid#11328) during global destruction\n!   -&gt; DESTROY in DBD::_::common for DBD::mysql::dr (DBI::dr=HASH(0xf184e8)~INNER) thr#ee1010\n!   &lt;- DESTROY= ( undef ) [1 items] during global destruction\n    DESTROY (dbih_clearcom) (drh 0x11e6848, com 0xf0fd90, imp global destruction):\n       FLAGS 0x100215: COMSET Active Warn PrintWarn AutoCommit \n       PARENT undef\n       KIDS 0 (0 Active)\n    dbih_clearcom 0x11e6848 (com 0xf0fd90, type 1) done.\n\n!   &gt;&gt; DESTROY     DISPATCH (DBI::dr=HASH(0x11e6848) rc1/1 @1 g2 ima10004 pid#11328) during global destruction\n!   &lt;&gt; DESTROY for DBI::dr=HASH(0x11e6848) ignored (inner handle gone)\n</code></pre>\n\n<p>Libraries used by perl:</p>\n\n<pre><code>$ ldd /usr/lib/x86_64-linux-gnu/perl5/5.22/auto/DBD/mysql/mysql.so | grep libmysqlclient\n    libmysqlclient.so.20 =&gt; /usr/lib/x86_64-linux-gnu/libmysqlclient.so.20 (0x00007f3fbef0f000)\n\n$ dpkg -S libmysqlclient.so.20\nlibmysqlclient20:amd64: /usr/lib/x86_64-linux-gnu/libmysqlclient.so.20\nlibmysqlclient20:amd64: /usr/lib/x86_64-linux-gnu/libmysqlclient.so.20.3.3\n\n$ dpkg -l libmysqlclient20 \nlibmysqlclient20:amd64          5.7.16-0ubuntu0.16.0 amd64         MySQL database client library\n</code></pre>\n\n<p>Any ideas how to really disable ssl on the connection?\nThanks in advance!</p>\n"}, {"tags": ["mysql", "perl", "encoding", "utf-8", "character-encoding"], "comments": [{"owner": {"reputation": 320771, "user_id": 589924, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/b2cf53d5a3d25f95c0db4e025aed4153?s=128&d=identicon&r=PG", "display_name": "ikegami", "link": "https://stackoverflow.com/users/589924/ikegami"}, "edited": false, "score": 1, "creation_date": 1480617130, "post_id": 40913742, "comment_id": 69047961, "body": "Tip: <code>&quot;`$database`.`$table`&quot;</code> should be <code>$dbh-&gt;quote_identifier($database, $table)</code>."}, {"owner": {"reputation": 320771, "user_id": 589924, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/b2cf53d5a3d25f95c0db4e025aed4153?s=128&d=identicon&r=PG", "display_name": "ikegami", "link": "https://stackoverflow.com/users/589924/ikegami"}, "edited": false, "score": 1, "creation_date": 1480617990, "post_id": 40913742, "comment_id": 69048474, "body": "Please provide <code>HEX(`response`)</code> of corrupted data."}, {"owner": {"reputation": 191, "user_id": 997613, "user_type": "registered", "accept_rate": 45, "profile_image": "https://www.gravatar.com/avatar/bf6c303f4dd1f5181593a1f50d577536?s=128&d=identicon&r=PG", "display_name": "Nick", "link": "https://stackoverflow.com/users/997613/nick"}, "reply_to_user": {"reputation": 320771, "user_id": 589924, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/b2cf53d5a3d25f95c0db4e025aed4153?s=128&d=identicon&r=PG", "display_name": "ikegami", "link": "https://stackoverflow.com/users/589924/ikegami"}, "edited": false, "score": 0, "creation_date": 1480625584, "post_id": 40913742, "comment_id": 69052552, "body": "@ikegami, I think the original table is &quot;poisoned&quot;, and that&#39;s why I&#39;m getting this. Maybe some package that I wrote did not have <code>use utf8</code> or something like that, because this is what I have:  <i>Before table ALTER:</i> <b>Entry 1:</b> <b>Szab&#195;&#179;n&#195;&#169;</b> <code>537A6162C383C2B30000006EC383C2A9000000</code> <b>Entry 2:</b> <b>Szab&#243;n&#233;</b> <code>537A6162C3B36EC3A9</code>  <i>After table ALTER:</i> <b>Entry 1:</b> <b>Szab&#243;n&#233;</b> <code>537A6162C3B30000006EC3A9000000</code> <b>Entry 2:</b> <b>Szab</b> <code>537A6162</code>"}, {"owner": {"reputation": 191, "user_id": 997613, "user_type": "registered", "accept_rate": 45, "profile_image": "https://www.gravatar.com/avatar/bf6c303f4dd1f5181593a1f50d577536?s=128&d=identicon&r=PG", "display_name": "Nick", "link": "https://stackoverflow.com/users/997613/nick"}, "reply_to_user": {"reputation": 320771, "user_id": 589924, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/b2cf53d5a3d25f95c0db4e025aed4153?s=128&d=identicon&r=PG", "display_name": "ikegami", "link": "https://stackoverflow.com/users/589924/ikegami"}, "edited": false, "score": 0, "creation_date": 1480625972, "post_id": 40913742, "comment_id": 69052751, "body": "LE: I meant to say: Maybe some package that I wrote did not have <code>use utf8</code> and I&#39;ve added it later, or something like that..."}, {"owner": {"reputation": 320771, "user_id": 589924, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/b2cf53d5a3d25f95c0db4e025aed4153?s=128&d=identicon&r=PG", "display_name": "ikegami", "link": "https://stackoverflow.com/users/589924/ikegami"}, "edited": false, "score": 1, "creation_date": 1480633222, "post_id": 40913742, "comment_id": 69056095, "body": "Where do ask those NUL come from? This is corrupted by far more than a bad <code>mysql_enable_utf8</code> flag"}, {"owner": {"reputation": 320771, "user_id": 589924, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/b2cf53d5a3d25f95c0db4e025aed4153?s=128&d=identicon&r=PG", "display_name": "ikegami", "link": "https://stackoverflow.com/users/589924/ikegami"}, "edited": false, "score": 1, "creation_date": 1480692792, "post_id": 40913742, "comment_id": 69082673, "body": "Are you saying you have one row that contains <code>537A6162C383C2B30000006EC383C2A9000000</code> and one that contains <code>537A6162C3B36EC3A9</code> and that both should be <code>Szab&#243;n&#233;</code>? If so, not all rows are corrupt. <code>537A6162C3B36EC3A9</code> is what you should have."}, {"owner": {"reputation": 191, "user_id": 997613, "user_type": "registered", "accept_rate": 45, "profile_image": "https://www.gravatar.com/avatar/bf6c303f4dd1f5181593a1f50d577536?s=128&d=identicon&r=PG", "display_name": "Nick", "link": "https://stackoverflow.com/users/997613/nick"}, "reply_to_user": {"reputation": 320771, "user_id": 589924, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/b2cf53d5a3d25f95c0db4e025aed4153?s=128&d=identicon&r=PG", "display_name": "ikegami", "link": "https://stackoverflow.com/users/589924/ikegami"}, "edited": false, "score": 0, "creation_date": 1480710709, "post_id": 40913742, "comment_id": 69092267, "body": "Yes they should both have been <code>Szab&#243;n&#233;</code>, not all rows and corrupt [ <i>because the code ran in stages, and at some point I  might have &quot;fixed&quot; it by accident with an <code>use utf8;</code> or something that changes the encoding, without realizing at that point</i> ], and <code>537A6162C3B36EC3A9</code> is what I should have had."}], "answers": [{"comments": [{"owner": {"reputation": 320771, "user_id": 589924, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/b2cf53d5a3d25f95c0db4e025aed4153?s=128&d=identicon&r=PG", "display_name": "ikegami", "link": "https://stackoverflow.com/users/589924/ikegami"}, "edited": false, "score": 1, "creation_date": 1480617063, "post_id": 40917881, "comment_id": 69047920, "body": "Tip: Make a backup first!"}, {"owner": {"reputation": 191, "user_id": 997613, "user_type": "registered", "accept_rate": 45, "profile_image": "https://www.gravatar.com/avatar/bf6c303f4dd1f5181593a1f50d577536?s=128&d=identicon&r=PG", "display_name": "Nick", "link": "https://stackoverflow.com/users/997613/nick"}, "edited": false, "score": 0, "creation_date": 1480617644, "post_id": 40917881, "comment_id": 69048278, "body": "before asking the question, I&#39;ve tried the following on a duplicate table: <code>ALTER TABLE d MODIFY description TEXT CHARACTER SET latin1; ALTER TABLE d MODIFY description TEXT CHARACTER SET binary; ALTER TABLE d MODIFY description TEXT CHARACTER SET utf8;</code> but I&#39;ve discovered that some entries got chopped after the following character <code>&quot;&#195;&quot;</code>[ <i>this character was present in the original table, after the ALTER of the table, the entry got chopped after this character</i> ]. So I thought that I should better ask what really happens in the background, before continuing."}], "tags": [], "owner": {"reputation": 320771, "user_id": 589924, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/b2cf53d5a3d25f95c0db4e025aed4153?s=128&d=identicon&r=PG", "display_name": "ikegami", "link": "https://stackoverflow.com/users/589924/ikegami"}, "is_accepted": false, "score": 1, "last_activity_date": 1480620462, "last_edit_date": 1480620462, "creation_date": 1480616927, "answer_id": 40917881, "question_id": 40913742, "link": "https://stackoverflow.com/questions/40913742/what-happens-if-dbimysql-enable-utf8-was-not-properly-set/40917881#40917881", "title": "What happens if DBI::mysql_enable_utf8 was not properly set?", "body": "<p>If <code>Encode::is_utf8($response)</code> was true, and if the connection's encoding (<code>SHOW VARIABLES LIKE \"character_set_client\"</code>) was set to <code>latin1</code>, the following will do the trick:</p>\n\n<pre><code>UPDATE TheTable\n   SET response = CONVERT(CONVERT(CONVERT(response USING latin1) USING BINARY) USING utf8)\n</code></pre>\n\n<hr>\n\n<p>You can view MySQL strings as bytes with an associated encoding, where <code>BINARY</code> is a special encoding. The following explains how conversions (whether by <code>CONVERT</code> or from storing into a field) work:</p>\n\n<ol>\n<li><p>Converting from a non-binary encoding to another non-binary encoding converts the underlying bytes.</p></li>\n<li><p>Converting from a non-binary encoding to binary simply changes the encoding associated with the bytes to binary (without changing the bytes).</p></li>\n<li><p>Converting from binary to a non-binary encoding simply changes the encoding associated with the bytes to new encoding (without changing the bytes).</p></li>\n</ol>\n\n<p>So, if <code>response</code> contains the three characters <code>\u00e2\u2122\u00a1</code>, the following happens:</p>\n\n<pre class=\"lang-none prettyprint-override\"><code>C3 A2 E2 84 A2 C2 A1 [utf8] (\u00e2\u2122\u00a1)      `response` has an utf8 collation\n     |\n     |  CONVERT(_ USING latin1)        Changes how the string is encoded (as per #1)\n     v\nE2 99 A1 [latin1] (\u00e2\u2122\u00a1)\n     |\n     |  CONVERT(_ USING BINARY)        Changes the associated encoding (as per #2)\n     v\nE2 99 A1 [BINARY]\n     |\n     |  CONVERT(_ USING utf8)          Changes the associated encoding (as per #3)\n     v\nE2 99 A1 [utf8] (\u2661)\n     |\n     |  UPDATE SET `response` = _      Changes how the string is encoded (as per #1)\n     v\nE2 99 A1 [utf8] (\u2661)                    `response` has an utf8 collation\n</code></pre>\n\n<p>Technically, since <code>response</code> has an <code>utf8</code> collation, you could forgo the outermost <code>CONVERT</code>.</p>\n"}, {"tags": [], "owner": {"reputation": 105046, "user_id": 1766831, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/1ee974306d2def46eb69534fbcf95cc5?s=128&d=identicon&r=PG", "display_name": "Rick James", "link": "https://stackoverflow.com/users/1766831/rick-james"}, "is_accepted": false, "score": 1, "last_activity_date": 1480715462, "last_edit_date": 1495542629, "creation_date": 1480715462, "answer_id": 40941385, "question_id": 40913742, "link": "https://stackoverflow.com/questions/40913742/what-happens-if-dbimysql-enable-utf8-was-not-properly-set/40941385#40941385", "title": "What happens if DBI::mysql_enable_utf8 was not properly set?", "body": "<p><code>53 7A 61 62 C383 C2B3</code> is \"double-encoded\".  One cure is</p>\n\n<pre><code>CONVERT(BINARY(CONVERT(CONVERT(UNHEX('537A6162C383C2B3')\n        USING utf8) USING latin1)) USING utf8) --&gt; 'Szab\u00f3'\n</code></pre>\n\n<p>Or, more relevantly:</p>\n\n<pre><code>CONVERT(BINARY(CONVERT(CONVERT(BINARY(CONVERT('Szab\u00c3\u0192\u00c2\u00b3' USING latin1))\n        USING utf8mb4) USING latin1)) USING utf8mb4) --&gt; 'Szab\u00f3'\n</code></pre>\n\n<p>Or, more simply:</p>\n\n<pre><code>UPDATE tbl SET col = CONVERT(BINARY(CONVERT(col USING latin1)) USING utf8);\n</code></pre>\n\n<p>See <a href=\"https://stackoverflow.com/questions/38363566/trouble-with-utf8-characters-what-i-see-is-not-what-i-stored\"><em>this</em></a> and search for \"double\".<br>\nSee <a href=\"http://mysql.rjweb.org/doc.php/charcoll#other_computer_languages\" rel=\"nofollow noreferrer\"><em>this</em></a> and search for \"Perl\".<br>\n<a href=\"http://mysql.rjweb.org/doc.php/charcoll#fixes_for_various_cases\" rel=\"nofollow noreferrer\"><em>Fixes for various cases</em></a>.</p>\n"}], "owner": {"reputation": 191, "user_id": 997613, "user_type": "registered", "accept_rate": 45, "profile_image": "https://www.gravatar.com/avatar/bf6c303f4dd1f5181593a1f50d577536?s=128&d=identicon&r=PG", "display_name": "Nick", "link": "https://stackoverflow.com/users/997613/nick"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 621, "favorite_count": 0, "answer_count": 2, "score": 1, "last_activity_date": 1480715462, "creation_date": 1480604134, "question_id": 40913742, "link": "https://stackoverflow.com/questions/40913742/what-happens-if-dbimysql-enable-utf8-was-not-properly-set", "title": "What happens if DBI::mysql_enable_utf8 was not properly set?", "body": "<p>I missed this statement and I ended up with funny characters in the database:</p>\n\n<p><a href=\"http://search.cpan.org/~capttofu/DBD-mysql-4.038/lib/DBD/mysql.pm#mysql_enable_utf8\" rel=\"nofollow noreferrer\">mysql_enable_utf8 flag documentation</a></p>\n\n<blockquote>\n  <p>Additionally, turning on this flag tells MySQL that incoming data\n  should be treated as UTF-8. This will only take effect if used as part\n  of the call to connect(). If you turn the flag on after connecting,\n  you will need to issue the command SET NAMES utf8 to get the same\n  effect.</p>\n</blockquote>\n\n<p>This is a part of the code:</p>\n\n<pre><code>use strict;\nuse utf8;\nuse open qw/:std :utf8/;\n\nuse DBI;\n\nmy $dbh = DBI-&gt;connect(\"...\", $user, $pass) or die_report($@);\nmy $query;\n\n$dbh-&gt;{'mysql_enable_utf8'} = 1; #this caused the problem, because it was added after the connect() statement.\n\n$dbh-&gt;prepare(\"CREATE TABLE `$database`.`$table` (`id` INT(8) UNSIGNED NOT NULL AUTO_INCREMENT `response` MEDIUMTEXT) ENGINE = MYISAM DEFAULT CHARSET=utf8 COLLATE utf8_general_ci\")-&gt;execute or die($@);\n\nmy $ua = LWP::UserAgent-&gt;new;\n$response = $ua-&gt;get('http://example.com')-&gt;decoded_content;\n\n\n$query = $dbh-&gt;prepare(\"INSERT INTO `$mysql_database`.`$mysql_table` (`id`, `response`) VALUES (?, ?)\");\n$query-&gt;execute($id, $response);\n</code></pre>\n\n<p>I need to understand what happens to <code>$response</code> when it is inserted in mysql and how to revert the damage.\nDoes it get double encoded? Can I fix it in a smart way?</p>\n"}, {"tags": ["regex", "perl"], "comments": [{"owner": {"reputation": 50468, "user_id": 1331451, "user_type": "registered", "accept_rate": 96, "profile_image": "https://i.stack.imgur.com/4ZPmj.png?s=128&g=1", "display_name": "simbabque", "link": "https://stackoverflow.com/users/1331451/simbabque"}, "edited": false, "score": 1, "creation_date": 1480603325, "post_id": 40913314, "comment_id": 69039027, "body": "What do you expect to happen? I don&#39;t understand what you are trying to do."}], "answers": [{"comments": [{"owner": {"reputation": 320771, "user_id": 589924, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/b2cf53d5a3d25f95c0db4e025aed4153?s=128&d=identicon&r=PG", "display_name": "ikegami", "link": "https://stackoverflow.com/users/589924/ikegami"}, "edited": false, "score": 1, "creation_date": 1480606000, "post_id": 40913661, "comment_id": 69041044, "body": "Your test fails for pattern <code>.*</code>."}, {"owner": {"reputation": 320771, "user_id": 589924, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/b2cf53d5a3d25f95c0db4e025aed4153?s=128&d=identicon&r=PG", "display_name": "ikegami", "link": "https://stackoverflow.com/users/589924/ikegami"}, "edited": false, "score": 0, "creation_date": 1480607349, "post_id": 40913661, "comment_id": 69041986, "body": "And like I did originally, you missed that the captures need to be interpolated into <code>$value</code>."}], "tags": [], "owner": {"reputation": 113221, "user_id": 100754, "user_type": "registered", "accept_rate": 90, "profile_image": "https://www.gravatar.com/avatar/7804ebae32fbadef38537d74a915c22f?s=128&d=identicon&r=PG", "display_name": "Sinan &#220;n&#252;r", "link": "https://stackoverflow.com/users/100754/sinan-%c3%9cn%c3%bcr"}, "is_accepted": false, "score": -2, "last_activity_date": 1480604898, "last_edit_date": 1480604898, "creation_date": 1480603920, "answer_id": 40913661, "question_id": 40913314, "link": "https://stackoverflow.com/questions/40913314/dynamically-capture-regular-expression-match-in-perl/40913661#40913661", "title": "Dynamically capture regular expression match in Perl", "body": "<blockquote>\n  <p><em>Is it also possible to store captured regex patterns in an array?</em></p>\n</blockquote>\n\n<p>Of course it is possible to store captured substrings in an array:</p>\n\n<pre><code>#!/usr/bin/env perl\n\nuse strict;\nuse warnings;\n\nmy @patterns = map qr{$_}, qw{\n    (\\d+)/(\\d+)/(\\d+)\n};\n\nmy $str = '1/12/2016';\n\nforeach my $pattern ( @patterns ) {\n    my @captured = ($str =~ $pattern)\n        or next;\n    print \"'$_'\\n\" for @captured;\n}\n</code></pre>\n\n<p>Output:</p>\n\n<pre>'1'\n'12'\n'2016'</pre>\n\n<p>I do not quite understand what you are trying to do with combinations of <code>local</code>, <code>eval EXPR</code> and <code>eval BLOCK</code> in your code and the purpose of the following hash:</p>\n\n<blockquote>\n<pre><code>my %testHash = (\n    '(\\d+)\\/(\\d+)\\/(\\d+)'   =&gt;  '$1$2$3'\n);\n</code></pre>\n</blockquote>\n\n<p>If you are trying to codify that this pattern should result in three captures, you can do that like this:</p>\n\n<pre><code>my @tests = (\n    {\n        pattern =&gt; qr{(\\d+)/(\\d+)/(\\d+)},\n        ncaptures =&gt; 3,\n    }\n);\n\nmy $str = '1/12/2016';\n\nforeach my $test ( @tests ) {\n    my @captured = ($str =~ $test-&gt;{pattern})\n        or next;\n    unless (@captured == $test-&gt;{ncaptures}) {\n        # handle failure\n    }\n}\n</code></pre>\n\n<p>See <a href=\"https://stackoverflow.com/a/8658558/100754\">this answer</a> to find out how you can automate counting the number of capture groups in a pattern. Using the technique in that answer:</p>\n\n<pre><code>#!/usr/bin/env perl\n\nuse strict;\nuse warnings;\n\nuse Test::More;\n\nmy @tests = map +{ pattern =&gt; qr{$_}, ncaptures =&gt; number_of_capturing_groups($_) }, qw(\n    (\\d+)/(\\d+)/(\\d+)\n);\n\nmy $str = '1/12/2016';\n\nforeach my $test ( @tests ) {\n    my @captured = ($str =~ $test-&gt;{pattern});\n    ok @captured == $test-&gt;{ncaptures};\n}\n\ndone_testing;\n\nsub number_of_capturing_groups {\n    \"\" =~ /|$_[0]/;\n    return $#+;\n}\n</code></pre>\n\n<p>Output:</p>\n\n<pre>ok 1\n1..1</pre>\n"}, {"comments": [{"owner": {"reputation": 320771, "user_id": 589924, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/b2cf53d5a3d25f95c0db4e025aed4153?s=128&d=identicon&r=PG", "display_name": "ikegami", "link": "https://stackoverflow.com/users/589924/ikegami"}, "edited": false, "score": 0, "creation_date": 1480604402, "post_id": 40913663, "comment_id": 69039864, "body": "You get slightly odd results when the expression has no captures. See my answer."}, {"owner": {"reputation": 113221, "user_id": 100754, "user_type": "registered", "accept_rate": 90, "profile_image": "https://www.gravatar.com/avatar/7804ebae32fbadef38537d74a915c22f?s=128&d=identicon&r=PG", "display_name": "Sinan &#220;n&#252;r", "link": "https://stackoverflow.com/users/100754/sinan-%c3%9cn%c3%bcr"}, "edited": false, "score": 1, "creation_date": 1480604991, "post_id": 40913663, "comment_id": 69040328, "body": "<i>list context</i>, not array."}, {"owner": {"reputation": 2092, "user_id": 2678168, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/dd5a048ca5e77e9683d0197b5455b3a9?s=128&d=identicon&r=PG&f=1", "display_name": "Georg Mavridis", "link": "https://stackoverflow.com/users/2678168/georg-mavridis"}, "edited": false, "score": 0, "creation_date": 1480605038, "post_id": 40913663, "comment_id": 69040366, "body": "Hm.. I&#39;l get an empty array if nothing matches and an exception for a bad pattern. Thats what i would have expected."}, {"owner": {"reputation": 320771, "user_id": 589924, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/b2cf53d5a3d25f95c0db4e025aed4153?s=128&d=identicon&r=PG", "display_name": "ikegami", "link": "https://stackoverflow.com/users/589924/ikegami"}, "edited": false, "score": 0, "creation_date": 1480605146, "post_id": 40913663, "comment_id": 69040440, "body": "Now try with a successful match with no captures (<code>&#39;a&#39; =~ &#47;a&#47;</code>). You&#39;ll get <code>[1]</code> instead of <code>[]</code>."}, {"owner": {"reputation": 2092, "user_id": 2678168, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/dd5a048ca5e77e9683d0197b5455b3a9?s=128&d=identicon&r=PG&f=1", "display_name": "Georg Mavridis", "link": "https://stackoverflow.com/users/2678168/georg-mavridis"}, "reply_to_user": {"reputation": 113221, "user_id": 100754, "user_type": "registered", "accept_rate": 90, "profile_image": "https://www.gravatar.com/avatar/7804ebae32fbadef38537d74a915c22f?s=128&d=identicon&r=PG", "display_name": "Sinan &#220;n&#252;r", "link": "https://stackoverflow.com/users/100754/sinan-%c3%9cn%c3%bcr"}, "edited": false, "score": 0, "creation_date": 1480605686, "post_id": 40913663, "comment_id": 69040827, "body": "@Sinan&#220;n&#252;r Yes i know. But the function we all  hate using is called wantarray. So at least in my area we usually talk about the array context (which AFAIK doesnt exist). But the change to list context from ikegami is certainly ok with me :)"}, {"owner": {"reputation": 320771, "user_id": 589924, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/b2cf53d5a3d25f95c0db4e025aed4153?s=128&d=identicon&r=PG", "display_name": "ikegami", "link": "https://stackoverflow.com/users/589924/ikegami"}, "edited": false, "score": 0, "creation_date": 1480606629, "post_id": 40913663, "comment_id": 69041444, "body": "I&#39;m not saying it&#39;s wrong, though I just noticed this just answers half the question. It also asks to process a string (e.g. <code>$1$2$3</code>) for capture interpolations."}], "tags": [], "owner": {"reputation": 2092, "user_id": 2678168, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/dd5a048ca5e77e9683d0197b5455b3a9?s=128&d=identicon&r=PG&f=1", "display_name": "Georg Mavridis", "link": "https://stackoverflow.com/users/2678168/georg-mavridis"}, "is_accepted": false, "score": -1, "last_activity_date": 1480605320, "last_edit_date": 1480605320, "creation_date": 1480603927, "answer_id": 40913663, "question_id": 40913314, "link": "https://stackoverflow.com/questions/40913314/dynamically-capture-regular-expression-match-in-perl/40913663#40913663", "title": "Dynamically capture regular expression match in Perl", "body": "<p>Evaluing the regexp in list context returns the matches. so in your example:</p>\n\n<pre><code>use Data::Dumper; # so we can see the result\nforeach my $pattern (keys (%testHash)) {\n    my @a = ($str =~/$pattern/);\n    print Dumper(\\@a);\n}\n</code></pre>\n\n<p>would do the job.</p>\n\n<p>HTH\nGeorg</p>\n"}, {"comments": [{"owner": {"reputation": 50468, "user_id": 1331451, "user_type": "registered", "accept_rate": 96, "profile_image": "https://i.stack.imgur.com/4ZPmj.png?s=128&g=1", "display_name": "simbabque", "link": "https://stackoverflow.com/users/1331451/simbabque"}, "edited": false, "score": 0, "creation_date": 1480605339, "post_id": 40913670, "comment_id": 69040591, "body": "I don&#39;t think I understand what you mean. For a match without a capture group I get <code>@matches = ( 1 )</code>, which is probably because the match was successful so it returns 1, and <code>@- = (0)</code>. Both have the same number of elements, just different content in their single element."}, {"owner": {"reputation": 320771, "user_id": 589924, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/b2cf53d5a3d25f95c0db4e025aed4153?s=128&d=identicon&r=PG", "display_name": "ikegami", "link": "https://stackoverflow.com/users/589924/ikegami"}, "reply_to_user": {"reputation": 50468, "user_id": 1331451, "user_type": "registered", "accept_rate": 96, "profile_image": "https://i.stack.imgur.com/4ZPmj.png?s=128&g=1", "display_name": "simbabque", "link": "https://stackoverflow.com/users/1331451/simbabque"}, "edited": false, "score": 0, "creation_date": 1480608024, "post_id": 40913670, "comment_id": 69042456, "body": "I didn&#39;t originally notice that <code>$testHash{$pattern}</code> was a template into which the captures needed to be interpolated. Fixed my answer."}], "tags": [], "owner": {"reputation": 320771, "user_id": 589924, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/b2cf53d5a3d25f95c0db4e025aed4153?s=128&d=identicon&r=PG", "display_name": "ikegami", "link": "https://stackoverflow.com/users/589924/ikegami"}, "is_accepted": false, "score": 3, "last_activity_date": 1481037616, "last_edit_date": 1481037616, "creation_date": 1480603951, "answer_id": 40913670, "question_id": 40913314, "link": "https://stackoverflow.com/questions/40913314/dynamically-capture-regular-expression-match-in-perl/40913670#40913670", "title": "Dynamically capture regular expression match in Perl", "body": "<p>I believe what you really want is a dynamic version of the following:</p>\n\n<pre><code>say $str =~ s/(\\d+)\\/(\\d+)\\/(\\d+)/$1$2$3/gr;\n</code></pre>\n\n<p><a href=\"http://search.cpan.org/perldoc?String::Substitution\" rel=\"nofollow noreferrer\">String::Substitution</a> provides what we need to achieve that.</p>\n\n<pre><code>use String::Substitution qw( gsub_copy );\n\nfor my $pattern (keys(%testHash)) {\n   my $replacement = $testHash{$pattern};\n   say gsub_copy($str, $pattern, $replacement);\n}\n</code></pre>\n\n<p>Note that <code>$replacement</code> can also be a callback. This permits far more complicated substitutions. For example, if you wanted to convert <code>1/12/2016</code> into <code>2016-01-12</code>, you could use the following:</p>\n\n<pre><code>'(\\d+)/(\\d+)/(\\d+)' =&gt; sub { sprintf \"%d-%02d-%02d\", @_[3,1,2] },\n</code></pre>\n\n<hr>\n\n<p>To answer your actual question:</p>\n\n<pre><code>use String::Substitution qw( interpolate_match_vars last_match_vars );\n\nfor my $pattern (keys(%testHash)) {\n   my $template = $testHash{$pattern};\n\n   $str =~ $pattern   # Or /$pattern/ if you prefer\n      or die(\"No match!\\n\");\n\n   say interpolate_match_vars($template, last_match_vars());\n}\n</code></pre>\n"}, {"tags": [], "owner": {"reputation": 50468, "user_id": 1331451, "user_type": "registered", "accept_rate": 96, "profile_image": "https://i.stack.imgur.com/4ZPmj.png?s=128&g=1", "display_name": "simbabque", "link": "https://stackoverflow.com/users/1331451/simbabque"}, "is_accepted": false, "score": 3, "last_activity_date": 1480607196, "last_edit_date": 1480607196, "creation_date": 1480604185, "answer_id": 40913759, "question_id": 40913314, "link": "https://stackoverflow.com/questions/40913314/dynamically-capture-regular-expression-match-in-perl/40913759#40913759", "title": "Dynamically capture regular expression match in Perl", "body": "<p>I am not completely sure what you want to do here, but I don't think your program does what you think it does.</p>\n\n<p>You are useing <code>eval</code> with a BLOCK of code. That's like a <code>try</code> block. If it <code>die</code>s inside of that <code>eval</code> block, it will catch that error. It will not run your string like it was code. You need a string <code>eval</code> for that.</p>\n\n<p>Instead of explaining that, here's an alternative.</p>\n\n<p>This program uses <a href=\"http://perldoc.perl.org/functions/sprintf.html#format-parameter-index\" rel=\"nofollow noreferrer\"><code>sprintf</code> and numbers the parameters</a>. The <code>%1$s</code> syntax in the pattern says _take the first argument (<code>1$</code>) and format it as a string (<code>%s</code>). You don't need to localize or assign to <code>$_</code> to do a match. The <code>=~</code> operator does that on other variables for you. I also use <code>qr{}</code> to create a quoted regular expression (essentially a variable containing a precompiled pattern) that I can use directly. Because of the <code>{}</code> as delimiter, I don't need to escape the slashes.</p>\n\n<pre><code>use strict;\nuse warnings;\nuse feature 'say'; # like print ..., \"\\n\"\n\nmy %testHash = (\n    qr{(\\d+)/(\\d+)/(\\d+)}         =&gt; '%1$s.%2$s.%3$s',\n    qr{(\\d+)/(\\d+)/(\\d+) nomatch} =&gt; '%1$s.%2$s.%3$s',\n    qr{(\\d+)/(\\d+)/(\\d\\d\\d\\d)}    =&gt; '%3$4d-%2$02d-%1$02d',\n    qr{\\d}                        =&gt; '%s', # no capture group\n);\n\nmy $str = '1/12/2016';\n\nforeach my $pattern ( keys %testHash ) {\n    my @captures = ( $str =~ $pattern );\n\n    say \"pattern: $pattern\";\n\n    if ($#+ == 0) {\n        say \"  no capture groups\";\n        next;\n    }\n\n    unless (@captures) {\n        say \"  no match\";\n        next;\n    }\n\n    # debug-output\n    for my $i ( 1 .. $#- ) {\n        say sprintf \"  \\$%d - %s\", $i, $captures[ $i - 1 ];\n    }\n\n    say sprintf $testHash{$pattern}, @captures;\n}\n</code></pre>\n\n<p>I included four examples:</p>\n\n<ul>\n<li>The first pattern is the one you had. It uses <code>%1$s</code> and so on as explained above.</li>\n<li>The second one does not match. We check the number of elements in <code>@captured</code> by looking at it in scalar context.</li>\n<li>The third one shows that you can also reorder the result, or even use the <code>sprintf</code> formatting.</li>\n<li>The last one has no capture group. We check by looking at the index of the last element (<code>$#</code> as the sigil for arrays that usually have an <code>@</code> sigil) <a href=\"http://perldoc.perl.org/perlvar.html#%40LAST_MATCH_END\" rel=\"nofollow noreferrer\">in <code>@+</code></a>, which <em>holds the offsets of the ends of the last successful submatches in the currently active dynamic scope</em>. The first element is the end of the overall match, so if this only has one element, we don't have capture groups.</li>\n</ul>\n\n<p>The output for me is this:</p>\n\n<pre><code>pattern: (?^:(\\d+)/(\\d+)/(\\d\\d\\d\\d))\n  $1 - 1\n  $2 - 12\n  $3 - 2016\n2016-12-01\npattern: (?^:(\\d+)/(\\d+)/(\\d+) nomatch)\n  no match\npattern: (?^:\\d)\n  no capture groups\npattern: (?^:(\\d+)/(\\d+)/(\\d+))\n  $1 - 1\n  $2 - 12\n  $3 - 2016\n1.12.2016\n</code></pre>\n\n<p>Note that the order in the output is mixed up. That's because hashes are not ordered in Perl, and if you iterate over the keys in a hash without <code>sort</code> the order is random.</p>\n"}, {"tags": [], "owner": {"reputation": 263, "user_id": 4995259, "user_type": "registered", "accept_rate": 50, "profile_image": "https://www.gravatar.com/avatar/c4d0fa9012306fa48b9ef275998c4a18?s=128&d=identicon&r=PG&f=1", "display_name": "criz", "link": "https://stackoverflow.com/users/4995259/criz"}, "is_accepted": false, "score": 0, "last_activity_date": 1480927351, "creation_date": 1480927351, "answer_id": 40970171, "question_id": 40913314, "link": "https://stackoverflow.com/questions/40913314/dynamically-capture-regular-expression-match-in-perl/40970171#40970171", "title": "Dynamically capture regular expression match in Perl", "body": "<p>Apologies! I realized both my question and sample code were both vague. But after reading your suggestions I came of with the following code.\nI haven't optimized this code yet and there is a limit to the replacement.</p>\n\n<pre><code>foreach my $key (keys %testHash) {\n\n    if ( $str =~ $key ) {\n        my @matchArr = ($str =~ $key); # Capture all matches\n\n        # Search and replace (limited from $1 to $9)\n        for ( my $i = 0; $i &lt; @matchArr; $i++ ) {\n            my $num = $i+1;\n            $testHash{$key} =~ s/\\$$num/$matchArr[$i]/;\n        }\n\n        $result = $testHash{$key};\n\n        last;\n    }\n}\n\nprint \"$result\\n\";\n</code></pre>\n"}], "owner": {"reputation": 263, "user_id": 4995259, "user_type": "registered", "accept_rate": 50, "profile_image": "https://www.gravatar.com/avatar/c4d0fa9012306fa48b9ef275998c4a18?s=128&d=identicon&r=PG&f=1", "display_name": "criz", "link": "https://stackoverflow.com/users/4995259/criz"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 346, "favorite_count": 0, "answer_count": 5, "score": -1, "last_activity_date": 1481037616, "creation_date": 1480602985, "question_id": 40913314, "link": "https://stackoverflow.com/questions/40913314/dynamically-capture-regular-expression-match-in-perl", "title": "Dynamically capture regular expression match in Perl", "body": "<p>I'm trying to dynamically catch regex matching in Perl. I've known that eval will help me do this but I may be doing something wrong.</p>\n\n<p>Code:</p>\n\n<pre><code>use strict;\nuse warnings;\n\nmy %testHash = (\n    '(\\d+)\\/(\\d+)\\/(\\d+)'   =&gt;  '$1$2$3'\n);\n\nmy $str = '1/12/2016';\n\nforeach my $pattern (keys (%testHash)) {\n    my $value = $testHash{$pattern};\n    my $result;\n\n    eval {\n        local $_ = $str;\n        /$pattern/;\n        print \"\\$1 - $1\\n\";\n        print \"\\$2 - $2\\n\";\n        print \"\\$3 - $3\\n\";\n        eval { print \"$value\\n\"; }\n    }\n}\n</code></pre>\n\n<p>Is it also possible to store captured regex patterns in an array?</p>\n"}, {"tags": ["perl", "mojolicious"], "answers": [{"tags": [], "owner": {"reputation": 15304, "user_id": 4632019, "user_type": "registered", "accept_rate": 57, "profile_image": "https://www.gravatar.com/avatar/8937eb40752cf51c7da61bd4a322a4ef?s=128&d=identicon&r=PG&f=1", "display_name": "Eugen Konkov", "link": "https://stackoverflow.com/users/4632019/eugen-konkov"}, "is_accepted": true, "score": 0, "last_activity_date": 1480623510, "creation_date": 1480623510, "answer_id": 40919624, "question_id": 40913303, "link": "https://stackoverflow.com/questions/40913303/how-to-fetch-full-route-with-find-in-mojolicous/40919624#40919624", "title": "How to fetch full route with `find` in Mojolicous?", "body": "<p>I just create different shortcut. The sources:</p>\n\n<pre><code>my $r = $self-&gt;routes;\n$r-&gt;add_shortcut( resource   =&gt;  \\&amp;resource   );\n$r-&gt;add_shortcut( privileged =&gt;  \\&amp;privileged );\n\n\n# Each time someone make query we setup cookie and check his access level\nmy $guest =  $r-&gt;under-&gt;to( \"auth#check_level\" );\nmy $user  =  $r-&gt;under-&gt;to( \"auth#check_level\", { required_level =&gt;  100 } );\nmy $admin =  $r-&gt;under-&gt;to( \"auth#check_level\", { required_level =&gt;  200 } );\n\n$user-&gt;privileged( 'users',  CS =&gt; $guest,  LD =&gt; $admin );\n\n\nsub privileged {\n    my( $r, $name, %restriction ) =  @_;\n    my $singular =  Lingua::EN::Inflect::PL( $name );\n\n    # Prefix for resource\n    $r =  $r-&gt;any( \"/$name\" )-&gt;to( \"$singular#\" );\n\n    my %api =  (()\n        # Order definition has not matter each part of resource has unique path\n        # type       #method       #path        #action    #route name\n        ,L =&gt;  [ $r, [ \"GET\"    ], \"/\",         '#index',  \"list_$name\"       ]\n        ,C =&gt;  [ $r, [ \"GET\"    ], '/create',   '#create', \"create_$singular\" ]\n        ,S =&gt;  [ $r, [ \"POST\"   ], '/',         '#store',  \"store_$singular\"  ]\n        ,R =&gt;  [ $r, [ \"GET\"    ], '/:id',      '#show',   \"show_$singular\"   ]\n        ,E =&gt;  [ $r, [ \"GET\"    ], '/:id/edit', '#edit',   \"edit_$singular\"   ]\n        ,U =&gt;  [ $r, [ \"PUT\"    ], '/:id',      '#update', \"update_$singular\" ]\n        ,D =&gt;  [ $r, [ \"DELETE\" ], '/:id',      '#delete', \"delete_$singular\" ]\n    );\n\n    # CS =&gt; $guest,  REU =&gt; $user,  LD =&gt; $admin  translated into:\n    # $api{ C =&gt; [ $guest ...],  S =&gt; [ $guest ... ], ..., D =&gt; [ $admin ... ] }\n    for my $level ( keys %restriction ) {\n        # Prefix for resource\n        my $r =  $restriction{ $level }-&gt;any( \"/$name\" )-&gt;to( \"$singular#\" );\n\n        for my $resource ( split //, $level ) {\n            $api{ $resource }[0] =  $r;\n        }\n    }\n\n\n    # Create route for all resouces: LCSREUD\n    for my $resource ( keys %api ) {\n        my( $guard, $method, $path, $action, $rname ) =  @{ $api{ $resource } };\n        $guard-&gt;any( $method, $path, $rname )-&gt;to( $action );\n    }\n\n\n    return;\n}\n</code></pre>\n\n<p>Any suggestions?</p>\n"}], "owner": {"reputation": 15304, "user_id": 4632019, "user_type": "registered", "accept_rate": 57, "profile_image": "https://www.gravatar.com/avatar/8937eb40752cf51c7da61bd4a322a4ef?s=128&d=identicon&r=PG&f=1", "display_name": "Eugen Konkov", "link": "https://stackoverflow.com/users/4632019/eugen-konkov"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 38, "favorite_count": 0, "accepted_answer_id": 40919624, "answer_count": 1, "score": 1, "last_activity_date": 1480623510, "creation_date": 1480602932, "question_id": 40913303, "link": "https://stackoverflow.com/questions/40913303/how-to-fetch-full-route-with-find-in-mojolicous", "title": "How to fetch full route with `find` in Mojolicous?", "body": "<p>I have shortcut to register REST routes like <a href=\"https://metacpan.org/pod/Mojolicious::Plugin::RESTRoutes\" rel=\"nofollow noreferrer\">Mojolicious::Plugin::RESTRoutes</a></p>\n\n<pre><code>my $r = $self-&gt;routes;\n$r-&gt;add_shortcut( resource =&gt;  \\&amp;resource );\n</code></pre>\n\n<p>Also I have some <code>under</code> routes to check user access level:</p>\n\n<pre><code>my $guest =  $r-&gt;under-&gt;to( \"auth#check_level\" );\nmy $user  =  $r-&gt;under-&gt;to( \"auth#check_level\", { required_level =&gt;  100 } );\nmy $admin =  $r-&gt;under-&gt;to( \"auth#check_level\", { required_level =&gt;  200 } );\n</code></pre>\n\n<p>When I create resource:</p>\n\n<pre><code>my $uResource =  $user-&gt;resource( 'users' );\n</code></pre>\n\n<p>I get next routes:</p>\n\n<pre><code>$ myapp.pl routes\n/               *                 # under for guest\n/               *                 # under for user\n  +/users       *       users\n    +/          GET     \"list_users\"\n    +/create    GET     \"create_user\"\n    +/          POST    \"store_user\"\n    +/:id       GET     \"show_user\"\n    +/:id/edit  GET     \"edit_user\"\n    +/:id       PUT     \"update_user\"\n    +/:id       DELETE  \"delete_user\"\n/               *                       # under for admin\n</code></pre>\n\n<p>No I want to adjust some of them to restrict access:</p>\n\n<pre><code>$guest-&gt;add_child( $user-&gt;find( 'create_user' ) );\n$admin-&gt;add_child( $user-&gt;find( 'list_users'  ) );\n$admin-&gt;add_child( $user-&gt;find( 'delete_user' ) );\n</code></pre>\n\n<p>Now I get this routes:</p>\n\n<pre><code>$ myapp.pl routes\n/               *                        # under for guest\n  +/create      GET     \"create_user\"\n/               *                        # under for user\n  +/users       *       users\n    +/          POST    \"store_user\"\n    +/:id       GET     \"show_user\"\n    +/:id/edit  GET     \"edit_user\"\n    +/:id       PUT     \"update_user\"\n/               *                        # under for admin\n  +/            GET     \"list_users\"    \n  +/:id         DELETE  \"delete_user\"\n</code></pre>\n\n<p>As you can see only last part of the route is moved from <code>user</code> into <code>guest</code>/<code>admin</code>.<br>\n<strong>Because of I use here <code>$user</code> instead of <code>$uResource</code><br>\nI expect the route <code>+/users</code> is also matched</strong>:</p>\n\n<pre><code>$ myapp.pl routes\n/               *                        # under for guest\n  +/users       *       users\n    +/create    GET     \"create_user\"\n/               *                        # under for user\n  +/users       *       users\n    +/          POST    \"store_user\"\n    +/:id       GET     \"show_user\"\n    +/:id/edit  GET     \"edit_user\"\n    +/:id       PUT     \"update_user\"\n/               *                        # under for admin\n  +/users       *       users\n    +/          GET     \"list_users\"    \n    +/:id       DELETE  \"delete_user\"\n</code></pre>\n\n<p>This is exact as:</p>\n\n<pre><code>$guest-&gt;any( \"/users\" )-&gt;add_child( $user-&gt;find( 'create_user' ) );\n$admin-&gt;any( \"/users\" )-&gt;add_child( $user-&gt;find( 'list_users'  ) );\n$admin-&gt;any( \"/users\" )-&gt;add_child( $user-&gt;find( 'delete_user' ) );\n</code></pre>\n\n<p><strong>Is there a way to prepend <code>/users</code> automatically?</strong></p>\n"}, {"tags": ["perl", "sendmail", "encode"], "comments": [{"owner": {"reputation": 50468, "user_id": 1331451, "user_type": "registered", "accept_rate": 96, "profile_image": "https://i.stack.imgur.com/4ZPmj.png?s=128&g=1", "display_name": "simbabque", "link": "https://stackoverflow.com/users/1331451/simbabque"}, "edited": false, "score": 0, "creation_date": 1480601381, "post_id": 40912588, "comment_id": 69037589, "body": "Do you have that data in your source code as a literal string or is <code>$subject_label</code> read from an external source?"}, {"owner": {"reputation": 29, "user_id": 2821026, "user_type": "registered", "accept_rate": 20, "profile_image": "https://graph.facebook.com/100000934723326/picture?type=large", "display_name": "nourhein chaieb", "link": "https://stackoverflow.com/users/2821026/nourhein-chaieb"}, "edited": false, "score": 0, "creation_date": 1480602240, "post_id": 40912588, "comment_id": 69038273, "body": "@simbadque , yes the $subject_label reads from an external source"}, {"owner": {"reputation": 320771, "user_id": 589924, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/b2cf53d5a3d25f95c0db4e025aed4153?s=128&d=identicon&r=PG", "display_name": "ikegami", "link": "https://stackoverflow.com/users/589924/ikegami"}, "edited": false, "score": 1, "creation_date": 1480603102, "post_id": 40912588, "comment_id": 69038874, "body": "Please provide the output of <code>join &quot;|&quot;, ( map { sprintf(&quot;%vX&quot;, $_) } $subject_id_site, $subject_label, $tpl-&gt;{&#39;subject&#39;} ), $subject_id_site . Encode::encode(&#39;MIME-Header&#39;,$subject_label). Encode::encode(&#39;MIME-Header&#39;, $tpl-&gt;{&#39;subject&#39;})</code>"}, {"owner": {"reputation": 50468, "user_id": 1331451, "user_type": "registered", "accept_rate": 96, "profile_image": "https://i.stack.imgur.com/4ZPmj.png?s=128&g=1", "display_name": "simbabque", "link": "https://stackoverflow.com/users/1331451/simbabque"}, "reply_to_user": {"reputation": 2415, "user_id": 4251338, "user_type": "registered", "accept_rate": 90, "profile_image": "https://i.stack.imgur.com/UNbCO.png?s=128&g=1", "display_name": "ssr1012", "link": "https://stackoverflow.com/users/4251338/ssr1012"}, "edited": false, "score": 0, "creation_date": 1480603261, "post_id": 40912588, "comment_id": 69038977, "body": "@Subha_sri the <code>use utf8</code> is useless in this case, that&#39;s why I asked if the data is in the code directly. The <code>utf8</code> pragma tells Perl that the source code is in utf8. That&#39;s not the case here."}, {"owner": {"reputation": 29, "user_id": 2821026, "user_type": "registered", "accept_rate": 20, "profile_image": "https://graph.facebook.com/100000934723326/picture?type=large", "display_name": "nourhein chaieb", "link": "https://stackoverflow.com/users/2821026/nourhein-chaieb"}, "reply_to_user": {"reputation": 320771, "user_id": 589924, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/b2cf53d5a3d25f95c0db4e025aed4153?s=128&d=identicon&r=PG", "display_name": "ikegami", "link": "https://stackoverflow.com/users/589924/ikegami"}, "edited": false, "score": 0, "creation_date": 1480672841, "post_id": 40912588, "comment_id": 69069743, "body": "@ikegami i may have a syntax error  , u mean like this : `\t\tSubject =&gt; \tjoin &quot;|&quot;, ( map { sprintf(&quot;%vX&quot;, $_) } $subject_id_site, $subject_label, $tpl-&gt;{&#39;subject&#39;} ),$subject_id_site.Encode::encode(&#39;MIME-Header&#39;,$subject_lab&zwnj;&#8203;el). Encode::encode(&#39;MIME-Header&#39;, $tpl-&gt;{&#39;subject&#39;})`"}, {"owner": {"reputation": 320771, "user_id": 589924, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/b2cf53d5a3d25f95c0db4e025aed4153?s=128&d=identicon&r=PG", "display_name": "ikegami", "link": "https://stackoverflow.com/users/589924/ikegami"}, "edited": false, "score": 1, "creation_date": 1480685271, "post_id": 40912588, "comment_id": 69077582, "body": "No, provide us with the string that results from that expression"}], "answers": [{"comments": [{"owner": {"reputation": 320771, "user_id": 589924, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/b2cf53d5a3d25f95c0db4e025aed4153?s=128&d=identicon&r=PG", "display_name": "ikegami", "link": "https://stackoverflow.com/users/589924/ikegami"}, "edited": false, "score": 0, "creation_date": 1480685484, "post_id": 40931095, "comment_id": 69077699, "body": "If that&#39;s the problem, a better explanation is: The OP didn&#39;t decode their inputs before encoding their outputs."}, {"owner": {"reputation": 2092, "user_id": 2678168, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/dd5a048ca5e77e9683d0197b5455b3a9?s=128&d=identicon&r=PG&f=1", "display_name": "Georg Mavridis", "link": "https://stackoverflow.com/users/2678168/georg-mavridis"}, "reply_to_user": {"reputation": 320771, "user_id": 589924, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/b2cf53d5a3d25f95c0db4e025aed4153?s=128&d=identicon&r=PG", "display_name": "ikegami", "link": "https://stackoverflow.com/users/589924/ikegami"}, "edited": false, "score": 0, "creation_date": 1480687909, "post_id": 40931095, "comment_id": 69079322, "body": "If i get the Encode-Package code correctly, Encode::_utf8_on just sets the utf_8 flag in place, decode_utf8 copies the string. So etiher you have to use, <code>Encode::_utf8_on($subject_label);</code> or <code>$subject_label=Encode::decode_utf8($subject_label);</code>"}, {"owner": {"reputation": 320771, "user_id": 589924, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/b2cf53d5a3d25f95c0db4e025aed4153?s=128&d=identicon&r=PG", "display_name": "ikegami", "link": "https://stackoverflow.com/users/589924/ikegami"}, "edited": false, "score": 0, "creation_date": 1480688917, "post_id": 40931095, "comment_id": 69080067, "body": "Indeed, <code>$subject_label=Encode::decode_utf8($subject_label);</code> would have been the proper usage. Use built-in <code>utf8::encode</code> if you want to do it in-place. Fixed. (NEVER EVER USE <code>_utf8_on</code>.)"}, {"owner": {"reputation": 2092, "user_id": 2678168, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/dd5a048ca5e77e9683d0197b5455b3a9?s=128&d=identicon&r=PG&f=1", "display_name": "Georg Mavridis", "link": "https://stackoverflow.com/users/2678168/georg-mavridis"}, "reply_to_user": {"reputation": 320771, "user_id": 589924, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/b2cf53d5a3d25f95c0db4e025aed4153?s=128&d=identicon&r=PG", "display_name": "ikegami", "link": "https://stackoverflow.com/users/589924/ikegami"}, "edited": false, "score": 0, "creation_date": 1481557091, "post_id": 40931095, "comment_id": 69412762, "body": "utf8::encode and Encode::_utf8_on are two completely different things. One just turns on a flag, if a variable is wrongly MARKED as latin1. the other function does  re-encode something. See <a href=\"http://pastebin.com/76nK6uaU\" rel=\"nofollow noreferrer\">pastebin.com/76nK6uaU</a> for a short example."}, {"owner": {"reputation": 320771, "user_id": 589924, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/b2cf53d5a3d25f95c0db4e025aed4153?s=128&d=identicon&r=PG", "display_name": "ikegami", "link": "https://stackoverflow.com/users/589924/ikegami"}, "edited": false, "score": 0, "creation_date": 1481557471, "post_id": 40931095, "comment_id": 69413007, "body": "Argh, the in-place equivalent of <code>decode_utf8</code> is obviously <code>utf8::decode</code> not <code>utf8::encode</code>. Typo!! Many apologies!! (<code>utf8::decode($s)</code> is equivalent to <code>is_utf8($s) ? $s = decode_utf8($s) : _utf8_on($s)</code>)"}], "tags": [], "owner": {"reputation": 2092, "user_id": 2678168, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/dd5a048ca5e77e9683d0197b5455b3a9?s=128&d=identicon&r=PG&f=1", "display_name": "Georg Mavridis", "link": "https://stackoverflow.com/users/2678168/georg-mavridis"}, "is_accepted": false, "score": 0, "last_activity_date": 1481557321, "last_edit_date": 1481557321, "creation_date": 1480677808, "answer_id": 40931095, "question_id": 40912588, "link": "https://stackoverflow.com/questions/40912588/email-subject-with-special-charaters-to-send-with-perl/40931095#40931095", "title": "Email subject with special Charaters to send with perl", "body": "<p>The email subject looks \"twice encoded\", so my guess is that you have a correct utf-8 String which hasnt the utf-8 flag on.</p>\n\n<p>So add:</p>\n\n<pre><code>utf8::decode($subject_label);\n</code></pre>\n\n<p>add the top of the code, and leave the rest as is.</p>\n\n<p>HTH\nGeorg</p>\n"}], "owner": {"reputation": 29, "user_id": 2821026, "user_type": "registered", "accept_rate": 20, "profile_image": "https://graph.facebook.com/100000934723326/picture?type=large", "display_name": "nourhein chaieb", "link": "https://stackoverflow.com/users/2821026/nourhein-chaieb"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 320, "favorite_count": 0, "answer_count": 1, "score": 0, "last_activity_date": 1481557321, "creation_date": 1480600824, "last_edit_date": 1480601716, "question_id": 40912588, "link": "https://stackoverflow.com/questions/40912588/email-subject-with-special-charaters-to-send-with-perl", "title": "Email subject with special Charaters to send with perl", "body": "<p>I have to send emails with perl, here is the code:</p>\n\n<pre><code>my $msg = MIME::Lite-&gt;new(\n    From =&gt; $tpl-&gt;{'from'},\n    To =&gt; $tpl-&gt;{'to'},\n    Subject =&gt; $subject_id_site . Encode::encode('MIME-Header',$subject_label). Encode::encode('MIME-Header', $tpl-&gt;{'subject'}),\n    ReplyTo =&gt; $tpl-&gt;{'reply_to'},\n    Encoding =&gt; 'quoted-printable',\n    Type =&gt;'text/html',\n    Data =&gt; Encode::encode('utf8',$tpl-&gt;{'body'}),\n);  \n</code></pre>\n\n<p>If the subject contains Special Characters, for example: <code>[300584 / Y\u00e7\u00e0\u00e9\u00e8@test] subject</code></p>\n\n<p>Here is the email subject that I got sent by perl coding: <code>[300584 / Y\u00c3\u00a7\u00c3 \u00c3\u00a9\u00c3\u00a8@test] subject</code>.</p>\n\n<p>Actually I tried with <code>Encode::encode('UTF8',$subject_label)</code>, but it gets worse.</p>\n"}, {"tags": ["perl", "selenium", "batch-file", "taskscheduler"], "comments": [{"owner": {"reputation": 19192, "user_id": 257635, "user_type": "registered", "accept_rate": 89, "profile_image": "https://i.stack.imgur.com/El2tc.jpg?s=128&g=1", "display_name": "Chankey Pathak", "link": "https://stackoverflow.com/users/257635/chankey-pathak"}, "edited": false, "score": 0, "creation_date": 1480593794, "post_id": 40908684, "comment_id": 69032558, "body": "Might be related: <a href=\"https://support.microsoft.com/en-us/kb/2617046\" rel=\"nofollow noreferrer\">support.microsoft.com/en-us/kb/2617046</a>"}, {"owner": {"reputation": 3370, "user_id": 6707985, "user_type": "registered", "accept_rate": 100, "profile_image": "https://i.stack.imgur.com/1zWzI.jpg?s=128&g=1", "display_name": "geisterfurz007", "link": "https://stackoverflow.com/users/6707985/geisterfurz007"}, "edited": false, "score": 0, "creation_date": 1480594909, "post_id": 40908684, "comment_id": 69033289, "body": "Couldn&#39;t you try to check the mark <code>Stop task when running longer than x days</code>?"}, {"owner": {"reputation": 588, "user_id": 6897492, "user_type": "registered", "accept_rate": 56, "profile_image": "https://www.gravatar.com/avatar/d50889f9fb83f9a62eaec9df63aeb726?s=128&d=identicon&r=PG&f=1", "display_name": "Mohit", "link": "https://stackoverflow.com/users/6897492/mohit"}, "edited": false, "score": 1, "creation_date": 1480661450, "post_id": 40908684, "comment_id": 69064139, "body": "Now its working when I am selecting the &#39;run only when user is logged in&#39; option but not with the option &#39;run whether user is logged in or not&#39;. Is it related to admin rights ??"}], "owner": {"reputation": 588, "user_id": 6897492, "user_type": "registered", "accept_rate": 56, "profile_image": "https://www.gravatar.com/avatar/d50889f9fb83f9a62eaec9df63aeb726?s=128&d=identicon&r=PG&f=1", "display_name": "Mohit", "link": "https://stackoverflow.com/users/6897492/mohit"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 292, "favorite_count": 0, "answer_count": 0, "score": 0, "last_activity_date": 1480602676, "creation_date": 1480589471, "last_edit_date": 1480602676, "question_id": 40908684, "link": "https://stackoverflow.com/questions/40908684/script-not-running-via-task-scheduler", "title": "Script not running via Task Scheduler", "body": "<p>I have to deploy some Perl automation scripts on a server. But to schedule them I am using <code>Windows Task Scheduler</code>. I have a <code>.bat</code> file in which I have written the command </p>\n\n<blockquote>\n  <p>perl scriptname.pl</p>\n</blockquote>\n\n<p>Provided the .bat file and script are in same directory which is in D: drive. But the task scheduler always triggers and then gives error that previous instance is already running. </p>\n\n<p>I don't want to override the instance but I cannot see any instance running. Also the script is a selenium script and I am not seeing any browser window which I generally see when the task is triggered by the Scheduler.</p>\n\n<p>The script is working fine on excuting the .bat file directly.</p>\n"}, {"tags": ["perl"], "comments": [{"owner": {"reputation": 3327, "user_id": 1604311, "user_type": "registered", "accept_rate": 73, "profile_image": "https://i.stack.imgur.com/0frKT.jpg?s=128&g=1", "display_name": "Arunesh Singh", "link": "https://stackoverflow.com/users/1604311/arunesh-singh"}, "edited": false, "score": 5, "creation_date": 1480575914, "post_id": 40904312, "comment_id": 69021868, "body": "Did you tried anything on your own? Please show your efforts."}, {"owner": {"reputation": 7801, "user_id": 1212401, "user_type": "registered", "accept_rate": 62, "profile_image": "https://www.gravatar.com/avatar/ed478436fcb05fd3ae15da650d2a8cd6?s=128&d=identicon&r=PG", "display_name": "Chris Doyle", "link": "https://stackoverflow.com/users/1212401/chris-doyle"}, "edited": false, "score": 1, "creation_date": 1480585244, "post_id": 40904312, "comment_id": 69026682, "body": "People are always willing to help on stackoverflow, but you have to show some effort, like having attempted to solve the issue yourself and then people will help show where you have gone wrong."}, {"owner": {"reputation": 2415, "user_id": 4251338, "user_type": "registered", "accept_rate": 90, "profile_image": "https://i.stack.imgur.com/UNbCO.png?s=128&g=1", "display_name": "ssr1012", "link": "https://stackoverflow.com/users/4251338/ssr1012"}, "edited": false, "score": 0, "creation_date": 1480585543, "post_id": 40904312, "comment_id": 69026891, "body": "which is field and which is value on your example?"}, {"owner": {"reputation": 45, "user_id": 3894610, "user_type": "registered", "accept_rate": 75, "profile_image": "https://www.gravatar.com/avatar/f4cc300690961c0e357d248ca2b024cf?s=128&d=identicon&r=PG&f=1", "display_name": "ibrahim", "link": "https://stackoverflow.com/users/3894610/ibrahim"}, "edited": false, "score": 1, "creation_date": 1480588975, "post_id": 40904312, "comment_id": 69029419, "body": "I am new to perl and spent the day in learning some basics and ended up doing something like this : open(my $log,&quot;&lt;&quot;,&quot;register.log&quot;) my $reg_string =&quot;Register&quot;;  while(&lt;$log&gt;){ if(/reg_string/){ my $str = $_; my @registers = split / /,$str; print &quot;\\n $registers[3]\\n&quot; }  Here I got print of all my Registers from log file. Now I want to save all Registers in some array which then I can access using the index. Once I achieve this, then I will figure out about fields.   ON/COMPLETE are fields of STATUS register while SYSTEM_EN and CLOCK_EN are fields of CONTROL register ."}, {"owner": {"reputation": 2415, "user_id": 4251338, "user_type": "registered", "accept_rate": 90, "profile_image": "https://i.stack.imgur.com/UNbCO.png?s=128&g=1", "display_name": "ssr1012", "link": "https://stackoverflow.com/users/4251338/ssr1012"}, "edited": false, "score": 0, "creation_date": 1480598437, "post_id": 40904312, "comment_id": 69035548, "body": "My question is how to split the field for eg: <code>Register : status</code> in the text  <code>status</code> is the value right? Hence after the first semicolon is the value."}, {"owner": {"reputation": 6258, "user_id": 82262, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/8ce15931410b388a52eb2df4a864137f?s=128&d=identicon&r=PG&f=1", "display_name": "Matt Jacob", "link": "https://stackoverflow.com/users/82262/matt-jacob"}, "edited": false, "score": 0, "creation_date": 1480612826, "post_id": 40904312, "comment_id": 69045536, "body": "You should <a href=\"https://stackoverflow.com/posts/40904312/edit\">edit</a> your question to include code instead of posting it in comments. I went ahead and did that for you."}, {"owner": {"reputation": 2415, "user_id": 4251338, "user_type": "registered", "accept_rate": 90, "profile_image": "https://i.stack.imgur.com/UNbCO.png?s=128&g=1", "display_name": "ssr1012", "link": "https://stackoverflow.com/users/4251338/ssr1012"}, "edited": false, "score": 0, "creation_date": 1480659693, "post_id": 40904312, "comment_id": 69063342, "body": "<code>push(@reg_value, $reg_string[4]);</code> could you please explain why should you storing the 4th value."}, {"owner": {"reputation": 45, "user_id": 3894610, "user_type": "registered", "accept_rate": 75, "profile_image": "https://www.gravatar.com/avatar/f4cc300690961c0e357d248ca2b024cf?s=128&d=identicon&r=PG&f=1", "display_name": "ibrahim", "link": "https://stackoverflow.com/users/3894610/ibrahim"}, "reply_to_user": {"reputation": 2415, "user_id": 4251338, "user_type": "registered", "accept_rate": 90, "profile_image": "https://i.stack.imgur.com/UNbCO.png?s=128&g=1", "display_name": "ssr1012", "link": "https://stackoverflow.com/users/4251338/ssr1012"}, "edited": false, "score": 0, "creation_date": 1480660278, "post_id": 40904312, "comment_id": 69063607, "body": "@ssr1012 : I want the 4th element from the split. It has no relevance to my previous code."}, {"owner": {"reputation": 2415, "user_id": 4251338, "user_type": "registered", "accept_rate": 90, "profile_image": "https://i.stack.imgur.com/UNbCO.png?s=128&g=1", "display_name": "ssr1012", "link": "https://stackoverflow.com/users/4251338/ssr1012"}, "edited": false, "score": 0, "creation_date": 1480660983, "post_id": 40904312, "comment_id": 69063915, "body": "list out the fourth elements in your samples."}], "answers": [{"comments": [{"owner": {"reputation": 45, "user_id": 3894610, "user_type": "registered", "accept_rate": 75, "profile_image": "https://www.gravatar.com/avatar/f4cc300690961c0e357d248ca2b024cf?s=128&d=identicon&r=PG&f=1", "display_name": "ibrahim", "link": "https://stackoverflow.com/users/3894610/ibrahim"}, "edited": false, "score": 0, "creation_date": 1480659382, "post_id": 40912101, "comment_id": 69063193, "body": "Thanks for the help. Though it was not exactly I was looking for but your code gave me some lead to achieve what I wanted. Now I am facing issues with array elemet access using foreach loop. Pls help on that"}], "tags": [], "owner": {"reputation": 2415, "user_id": 4251338, "user_type": "registered", "accept_rate": 90, "profile_image": "https://i.stack.imgur.com/UNbCO.png?s=128&g=1", "display_name": "ssr1012", "link": "https://stackoverflow.com/users/4251338/ssr1012"}, "is_accepted": true, "score": 0, "last_activity_date": 1480600291, "last_edit_date": 1480600291, "creation_date": 1480599378, "answer_id": 40912101, "question_id": 40904312, "link": "https://stackoverflow.com/questions/40904312/search-string-and-save-it-in-array-in-perl/40912101#40912101", "title": "Search string and save it in array in Perl", "body": "<blockquote>\n  <p>Stored full line in arrays for Registers</p>\n</blockquote>\n\n<pre><code>use strict;\nuse warnings;\nmy (@full_line,@only_values) = ();\nwhile(&lt;DATA&gt;)\n{  push(@full_line, $_=~m/(register\\s*\\:\\s*(?:[^\\n]*))\\n/i);  }\nprint join \"\\n\", @full_line;\n\nOutput:\nRegister : STATUS\nREGISTER : CONTROL&lt;br&gt;\n</code></pre>\n\n<blockquote>\n  <p>Stored values after the semicolon in arrays for Registers</p>\n</blockquote>\n\n<pre><code>while(&lt;DATA&gt;)\n{  push(@only_values, $_=~m/register\\s*\\:\\s*([^\\n]*)\\n/i);  }\nprint join \"\\n\", @only_values;\n\nOutput:\nSTATUS\nCONTROL&lt;br&gt;\n\n\n__DATA__\nRegister : STATUS\nFIELD:ON   VALUE : 1\nFIELD:COMPLETE  VALUE:0\n\nREGISTER : CONTROL&lt;br&gt;\nFIELD:SYSTEM_EN    VALUE:1\nFIELD:CLOCK_EN     VALUE:0\n</code></pre>\n\n<p>Please check and modify based on your requirement. </p>\n"}, {"tags": [], "owner": {"reputation": 62184, "user_id": 7231, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/81b76985f3985e35492e25880493d045?s=128&d=identicon&r=PG", "display_name": "Dave Cross", "link": "https://stackoverflow.com/users/7231/dave-cross"}, "is_accepted": false, "score": 0, "last_activity_date": 1480921996, "creation_date": 1480921996, "answer_id": 40968940, "question_id": 40904312, "link": "https://stackoverflow.com/questions/40904312/search-string-and-save-it-in-array-in-perl/40968940#40968940", "title": "Search string and save it in array in Perl", "body": "<pre><code>foreach my $i (@reg_value) {\n  print \" $reg_value[$i]\";\n}\n</code></pre>\n\n<p>I guess this is the code that is throwing your \"Argument is not numeric in array element\" error.</p>\n\n<p>Using a <code>foreach</code> loop like this, each time round the loop, <code>$i</code> will contain one of the elements from <code>@reg_value</code>. Not the index to one of the elements, but the element itself. Try this instead:</p>\n\n<pre><code>foreach my $i (@reg_value) {\n  print \" $i\";\n}\n</code></pre>\n\n<p>Note that I'm just printing <code>$i</code>, not using it to look up an element in the array.</p>\n\n<p>If you do want to get the indexes from the array, use code like this instead:</p>\n\n<pre><code>foreach my $i (0 .. $#reg_array) {\n  print \" $reg_value[$i]\";\n}\n</code></pre>\n"}], "owner": {"reputation": 45, "user_id": 3894610, "user_type": "registered", "accept_rate": 75, "profile_image": "https://www.gravatar.com/avatar/f4cc300690961c0e357d248ca2b024cf?s=128&d=identicon&r=PG&f=1", "display_name": "ibrahim", "link": "https://stackoverflow.com/users/3894610/ibrahim"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 148, "favorite_count": 0, "accepted_answer_id": 40912101, "answer_count": 2, "score": -1, "last_activity_date": 1480921996, "creation_date": 1480575241, "last_edit_date": 1480659579, "question_id": 40904312, "link": "https://stackoverflow.com/questions/40904312/search-string-and-save-it-in-array-in-perl", "title": "Search string and save it in array in Perl", "body": "<p>My text file looks like :</p>\n\n<pre><code>Register : STATUS\nFIELD:ON   VALUE : 1\nFIELD:COMPLETE  VALUE:0\n\nREGISTER : CONTROL&lt;br&gt;\nFIELD:SYSTEM_EN    VALUE:1\nFIELD:CLOCK_EN     VALUE:0\n</code></pre>\n\n<p>Here I want to search for <code>REGISTER</code>and save the register name in <code>@register</code> and search for the respective fields name and their values and save them.</p>\n\n<p>Here's what I've tried so far:</p>\n\n<pre><code>open(my $log, \"&lt;\", \"register.log\");\nmy $reg_string = \"Register\"; \n\nwhile (&lt;$log&gt;) { \n    if (/reg_string/) { \n        my $str = $_; \n        my @registers = split / /, $str; \n        print \"\\n $registers[3]\\n\";\n    } \n}\n</code></pre>\n\n<p>Now I am trying to access array elements in the foll. way :</p>\n\n<pre><code>while(&lt;$log&gt;){\nmy $str =$_;\nmy @reg_string = split/\\s+/,$str;\npush(@reg_value, $reg_string[4]);\nforeach my $i(@reg_value){\nprint \" $reg_value[$i]\";\n }\n}\n</code></pre>\n\n<p>But this code gives me error \nArgument is not numeric in array elememt. (Its all string elements in my array)\nI know I must be missing on some basic syntax as I am writing code using online tutorials. Pls rectify the code.</p>\n"}, {"tags": ["perl"], "comments": [{"owner": {"reputation": 53041, "user_id": 4653379, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/b3953dbedd0dabff5cbc3db9b0835b14?s=128&d=identicon&r=PG&f=1", "display_name": "zdim", "link": "https://stackoverflow.com/users/4653379/zdim"}, "edited": false, "score": 1, "creation_date": 1480574111, "post_id": 40903974, "comment_id": 69021141, "body": "You can use core module <a href=\"http://perldoc.perl.org/Time/HiRes.html\" rel=\"nofollow noreferrer\">Time::HiRes</a> for very precise timing."}, {"owner": {"reputation": 7801, "user_id": 1212401, "user_type": "registered", "accept_rate": 62, "profile_image": "https://www.gravatar.com/avatar/ed478436fcb05fd3ae15da650d2a8cd6?s=128&d=identicon&r=PG", "display_name": "Chris Doyle", "link": "https://stackoverflow.com/users/1212401/chris-doyle"}, "edited": false, "score": 0, "creation_date": 1480585503, "post_id": 40903974, "comment_id": 69026858, "body": "when you speed of the connection do you mean the actual transfer speed like 4Mb/s? or you mean you just want to know how quick it is, I.E the time it takes to fetch the URL?"}, {"owner": {"reputation": 7493, "user_id": 2339405, "user_type": "registered", "accept_rate": 98, "profile_image": "https://i.stack.imgur.com/K0wMk.jpg?s=128&g=1", "display_name": "Rainmaker", "link": "https://stackoverflow.com/users/2339405/rainmaker"}, "edited": false, "score": 0, "creation_date": 1480585696, "post_id": 40903974, "comment_id": 69027010, "body": "I mean I need to ensure whether the speed is higher then the exact value. (for example variable min_speed = 500kb/s)"}, {"owner": {"reputation": 7801, "user_id": 1212401, "user_type": "registered", "accept_rate": 62, "profile_image": "https://www.gravatar.com/avatar/ed478436fcb05fd3ae15da650d2a8cd6?s=128&d=identicon&r=PG", "display_name": "Chris Doyle", "link": "https://stackoverflow.com/users/1212401/chris-doyle"}, "edited": false, "score": 0, "creation_date": 1480586057, "post_id": 40903974, "comment_id": 69027266, "body": "you mean overall speed or packet by packet?"}, {"owner": {"reputation": 7493, "user_id": 2339405, "user_type": "registered", "accept_rate": 98, "profile_image": "https://i.stack.imgur.com/K0wMk.jpg?s=128&g=1", "display_name": "Rainmaker", "link": "https://stackoverflow.com/users/2339405/rainmaker"}, "edited": false, "score": 0, "creation_date": 1480586209, "post_id": 40903974, "comment_id": 69027359, "body": "I mean overall speed"}, {"owner": {"reputation": 50468, "user_id": 1331451, "user_type": "registered", "accept_rate": 96, "profile_image": "https://i.stack.imgur.com/4ZPmj.png?s=128&g=1", "display_name": "simbabque", "link": "https://stackoverflow.com/users/1331451/simbabque"}, "edited": false, "score": 1, "creation_date": 1480599425, "post_id": 40903974, "comment_id": 69036256, "body": "To determine the average speed you need to divide the overall size of the response content by the number of seconds it took to download. Of course you need to download something that is at least 64kByte (that&#39;s 500kbit). If that downloads in less than a second, you have more than 500kb/s. If you download something smaller, you cannot guarantee the minimum speed."}], "owner": {"reputation": 7493, "user_id": 2339405, "user_type": "registered", "accept_rate": 98, "profile_image": "https://i.stack.imgur.com/K0wMk.jpg?s=128&g=1", "display_name": "Rainmaker", "link": "https://stackoverflow.com/users/2339405/rainmaker"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 62, "favorite_count": 0, "answer_count": 0, "score": 0, "last_activity_date": 1480573733, "creation_date": 1480573733, "question_id": 40903974, "link": "https://stackoverflow.com/questions/40903974/perl-connection-speed-checking", "title": "Perl. Connection speed checking", "body": "<p>I'm new in perl and I have a function that checks whether url available or not.\nI need also to measure a speed of connection in that func.\nCan anybody tell me how to do this?</p>\n\n<pre><code>sub CheckLink\n{\n    syslog('info', \"Checking link state\");\n    $last_check = time;\n    syslog('err', \"Impossible to check link: OpenVPN have not connected yet\") and return 1 unless $state eq 'online';\n    my $http = HTTP::Lite-&gt;new;\n    $http-&gt;local_addr($loc_ip);\n    my $req = $http-&gt;request(CHECK_URL_1);\n    unless ($req) {\n        syslog('err', \"Link check WARN: Unable to fetch CHECK_URL_1 \".CHECK_URL_1);\n        $req = $http-&gt;request(CHECK_URL_2);\n    }\n    syslog('info', \"Link check is succesful\") and return 1 if $req;\n    syslog('err', \"Link check FAILED: Unable to fetch CHECK_URL_2 \".CHECK_URL_2);\n    return 0;\n}\n</code></pre>\n"}, {"tags": ["python", "objective-c", "perl", "ntfs", "vhd"], "comments": [{"owner": {"reputation": 97835, "user_id": 355230, "user_type": "registered", "accept_rate": 88, "profile_image": "https://i.stack.imgur.com/VjcbL.jpg?s=128&g=1", "display_name": "martineau", "link": "https://stackoverflow.com/users/355230/martineau"}, "edited": false, "score": 0, "creation_date": 1480558303, "post_id": 40900974, "comment_id": 69016613, "body": "From the <a href=\"http://download.microsoft.com/download/f/f/e/ffef50a5-07dd-4cf8-aaa3-442c0673a029/Virtual%20Hard%20Disk%20Format%20Spec_10_18_06.doc\" rel=\"nofollow noreferrer\">Virtual Hard Disk Image Format Specification</a>, I think volume names are Unicode that been encoded as UTF-16, which would explain the &quot;cut&quot; characters you&#39;re seeing in the string. Python has extensive Unicode support (I don&#39;t know about all the others)."}, {"owner": {"reputation": 371, "user_id": 7122842, "user_type": "registered", "accept_rate": 62, "profile_image": "https://i.stack.imgur.com/Krm2T.jpg?s=128&g=1", "display_name": "deek5", "link": "https://stackoverflow.com/users/7122842/deek5"}, "reply_to_user": {"reputation": 97835, "user_id": 355230, "user_type": "registered", "accept_rate": 88, "profile_image": "https://i.stack.imgur.com/VjcbL.jpg?s=128&g=1", "display_name": "martineau", "link": "https://stackoverflow.com/users/355230/martineau"}, "edited": false, "score": 0, "creation_date": 1480580458, "post_id": 40900974, "comment_id": 69023942, "body": "Hello, thank you for the clarification, the problem is not specific to vhd, all Volumes (NTFS) (partitions in NTFS) have the same structure and have a $Volume_name (which is the name of the partition) Get the $ Volume_name offset and the string conversion to rename. Thank you for your time spent on the subject."}], "answers": [{"tags": [], "owner": {"reputation": 371, "user_id": 7122842, "user_type": "registered", "accept_rate": 62, "profile_image": "https://i.stack.imgur.com/Krm2T.jpg?s=128&g=1", "display_name": "deek5", "link": "https://stackoverflow.com/users/7122842/deek5"}, "is_accepted": false, "score": 0, "last_activity_date": 1483126115, "last_edit_date": 1483126115, "creation_date": 1480783774, "answer_id": 40950124, "question_id": 40900974, "link": "https://stackoverflow.com/questions/40900974/how-rename-an-volume-partition-with-objective-c-or-perl-python-ruby-sh-apples/40950124#40950124", "title": "How rename an Volume (partition) with Objective-C or perl,python, ruby,sh,applescript?", "body": "<p>In the creation of a Vhd of course there is the formatting of the partition (my Vhd created have a unique MBR partition) formatting with diskutil according to the chosen system the names of the partitions is limited for NTFS according to diskutil the names are In Capital letter, idem for MSDOS FAT. While long for NTFS or FAT partitions you can use names with small letter. So after formatting for NTFS partitions I use \"newfs_ufsd_NTFS -v\" to rename with Capital letter, and small letter. For FAT, I changed  news_msdos (version 226 <a href=\"https://opensource.apple.com/tarballs/msdosfs/msdosfs-226.tar.gz\" rel=\"nofollow noreferrer\">https://opensource.apple.com/tarballs/msdosfs/msdosfs-226.tar.gz</a>) the newfs_msdos.c file to line 1320 in \"<code>mklabel (u_int8_t** * dest, Const char * src)</code> \"where we find\" <code>c = * src? Toupper (* src ++): '';\"</code> Changed to \"<code>c = * src? * Src ++: '';</code>\" **which makes it possible to use capital letters or small letters. So for my solution, I do not find an answer to how to get the   $Volume_name offset from an NTFS partition.</p>\n"}, {"tags": [], "owner": {"reputation": 371, "user_id": 7122842, "user_type": "registered", "accept_rate": 62, "profile_image": "https://i.stack.imgur.com/Krm2T.jpg?s=128&g=1", "display_name": "deek5", "link": "https://stackoverflow.com/users/7122842/deek5"}, "is_accepted": false, "score": 1, "last_activity_date": 1484305831, "creation_date": 1484305831, "answer_id": 41633268, "question_id": 40900974, "link": "https://stackoverflow.com/questions/40900974/how-rename-an-volume-partition-with-objective-c-or-perl-python-ruby-sh-apples/41633268#41633268", "title": "How rename an Volume (partition) with Objective-C or perl,python, ruby,sh,applescript?", "body": "<p><strong>Hello, to rename a Volume with Xcode on Mac, the easiest way is to use\nThe functions of DiskArbitration and more specifically</strong> </p>\n\n<pre><code>\"void DADiskRename (DADiskRef disk, CFStringRef name, DADiskRenameOptions options, DADiskRenameCallback callback, void * context);\n\"\n</code></pre>\n\n<p><strong>With an empty callback. Which can give.</strong></p>\n\n<pre><code>#import &lt;DiskArbitration / DiskArbitration.h&gt;\n#import &lt;Cocoa / Cocoa.h&gt;\n\n\n\nVoid MountCallback (DADiskRef disk, DADitererRef dissenter, void * context);\n\nVoid DADiskRename (DADiskRef disk, CFStringRef name, DADiskRenameOptions options, DADiskRenameCallback callback, void * context);\nInt rename (char * argv, char * device)\nInt renomer ((char * argv, char * device)\n{\n\n    Const char * deviceName = device;\n\n    Renom = 1;\n\n    CFStringRef name = CFStringCreateWithCString (NULL, argv, kCFStringEncodingUTF8);\n\n\n\n    DASessionRef session = DASessionCreate (kCFAllocatorDefault);\n\n    DADiskRef disk = DADiskCreateFromBSDName (kCFAllocatorDefault, session, deviceName);\n\n    DADiskRename (disk, name, 0x00000000, MountCallback, (void *) deviceName);\n\n    DASessionSetDispatchQueue (session, NULL);\n\n    CFRelease (session);\n\n    Session = NULL;\n\nReturn EXIT_SUCCESS;\n\n\n}\n\n\n\nVoid MountCallback (DADiskRef disk, DADitererRef dissenter, void * context) {\n\n    Return;\n}\n</code></pre>\n"}], "owner": {"reputation": 371, "user_id": 7122842, "user_type": "registered", "accept_rate": 62, "profile_image": "https://i.stack.imgur.com/Krm2T.jpg?s=128&g=1", "display_name": "deek5", "link": "https://stackoverflow.com/users/7122842/deek5"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 217, "favorite_count": 0, "answer_count": 2, "score": -1, "last_activity_date": 1484305831, "creation_date": 1480554351, "last_edit_date": 1480657193, "question_id": 40900974, "link": "https://stackoverflow.com/questions/40900974/how-rename-an-volume-partition-with-objective-c-or-perl-python-ruby-sh-apples", "title": "How rename an Volume (partition) with Objective-C or perl,python, ruby,sh,applescript?", "body": "<p>I create vhd in different formats (NTFS, FAT32, FAT16, HFS +), I do not find the way to get the $ Volume_name offset of an NTFS partition, plus I would like to convert a string to $ Volume_name. By observing the $ Volume_name of an NTFS partition I was able to see that the string is cut (after each character there is a null character example what we read in hexadecimal of the volume_name that would be \"WIN10EN\" and in hexa \"57494e3130454e\" if we go to the offset of $ volume_name we will read with a hexadecimal editor 570049004e003100300045004e and its representation ascii \"W I N 1 0 E N\". \n Hence my question is there a command to obtain the offset of $ Volume_name (the offset is in byte 15776 or 0x3DA0)?\nIs there a string conversion to name a Volume?</p>\n"}]