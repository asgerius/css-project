[{"tags": ["json", "perl", "perl-module", "lwp", "lwp-useragent"], "answers": [{"comments": [{"owner": {"reputation": 3105, "user_id": 912111, "user_type": "registered", "accept_rate": 52, "profile_image": "https://i.stack.imgur.com/u3FQz.jpg?s=128&g=1", "display_name": "Raja", "link": "https://stackoverflow.com/users/912111/raja"}, "edited": false, "score": 0, "creation_date": 1473894170, "post_id": 39500878, "comment_id": 66319162, "body": "Thanks. Is there other way to parse JSON string without JSON Module.? Because i do not have permission to install JSON module in the server."}, {"owner": {"reputation": 8273, "user_id": 1334695, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/431ae6e9f7610b9d6a6a6cdebd0244d5?s=128&d=identicon&r=PG", "display_name": "stevieb", "link": "https://stackoverflow.com/users/1334695/stevieb"}, "reply_to_user": {"reputation": 3105, "user_id": 912111, "user_type": "registered", "accept_rate": 52, "profile_image": "https://i.stack.imgur.com/u3FQz.jpg?s=128&g=1", "display_name": "Raja", "link": "https://stackoverflow.com/users/912111/raja"}, "edited": false, "score": 1, "creation_date": 1473894219, "post_id": 39500878, "comment_id": 66319180, "body": "You&#39;ll have to create your own parser, which is error prone, very time consuming and kind of ridiculous."}, {"owner": {"reputation": 16405, "user_id": 6776093, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/heFeh.png?s=128&g=1", "display_name": "redneb", "link": "https://stackoverflow.com/users/6776093/redneb"}, "edited": false, "score": 2, "creation_date": 1473894367, "post_id": 39500878, "comment_id": 66319214, "body": "You can use <code>JSON::PP</code>, it&#39;s a core module, so it comes with perl and you don&#39;t have to install anything. It&#39;s a bit slow, but it does its job."}, {"owner": {"reputation": 8273, "user_id": 1334695, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/431ae6e9f7610b9d6a6a6cdebd0244d5?s=128&d=identicon&r=PG", "display_name": "stevieb", "link": "https://stackoverflow.com/users/1334695/stevieb"}, "reply_to_user": {"reputation": 16405, "user_id": 6776093, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/heFeh.png?s=128&g=1", "display_name": "redneb", "link": "https://stackoverflow.com/users/6776093/redneb"}, "edited": false, "score": 0, "creation_date": 1473894470, "post_id": 39500878, "comment_id": 66319241, "body": "@redneb I didn&#39;t realize that it was part of core"}, {"owner": {"reputation": 16405, "user_id": 6776093, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/heFeh.png?s=128&g=1", "display_name": "redneb", "link": "https://stackoverflow.com/users/6776093/redneb"}, "edited": false, "score": 3, "creation_date": 1473894574, "post_id": 39500878, "comment_id": 66319274, "body": "@stevieb Yes, just check <code>corelist JSON::PP</code>. So if you just change your code to use <code>JSON::PP</code> it should work with no additional dependencies."}], "tags": [], "owner": {"reputation": 8273, "user_id": 1334695, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/431ae6e9f7610b9d6a6a6cdebd0244d5?s=128&d=identicon&r=PG", "display_name": "stevieb", "link": "https://stackoverflow.com/users/1334695/stevieb"}, "is_accepted": true, "score": 4, "last_activity_date": 1473894580, "last_edit_date": 1473894580, "creation_date": 1473893986, "answer_id": 39500878, "question_id": 39500840, "link": "https://stackoverflow.com/questions/39500840/perl-lwp-returns-json-output-as-string/39500878#39500878", "title": "Perl LWP returns JSON output as string", "body": "<p>You need to decode the JSON string into a Perl data structure. If your version of perl is 5.14+, <code>JSON::PP</code> is included in core, so nothing to install.</p>\n\n<pre><code>use warnings;\nuse strict;\n\nuse Data::Dumper;\nuse JSON::PP qw(decode_json);\n\nmy $json = '{\"status\":\"success\",\"data\":[{\"empid\":\"345232\",\"customername\":\"Lee gates\",\"dynamicid\":\"2342342332sd32423\"},{\"empid\":\"36.VLXP.013727..CBCL..\",\"customername\":\"Lee subdirectories\",\"dynamicid\":\"223f3423dsf23423423\"}],\"message\":\"\"}';\n\nmy $perl = decode_json $json;\n\nprint Dumper $perl;\n</code></pre>\n\n<p>Output:</p>\n\n<pre><code>$VAR1 = {\n      'status' =&gt; 'success',\n      'message' =&gt; '',\n      'data' =&gt; [\n                  {\n                    'dynamicid' =&gt; '2342342332sd32423',\n                    'customername' =&gt; 'Lee gates',\n                    'empid' =&gt; '345232'\n                  },\n                  {\n                    'empid' =&gt; '36.VLXP.013727..CBCL..',\n                    'customername' =&gt; 'Lee subdirectories',\n                    'dynamicid' =&gt; '223f3423dsf23423423'\n                  }\n                ]\n    };\n</code></pre>\n"}], "owner": {"reputation": 3105, "user_id": 912111, "user_type": "registered", "accept_rate": 52, "profile_image": "https://i.stack.imgur.com/u3FQz.jpg?s=128&g=1", "display_name": "Raja", "link": "https://stackoverflow.com/users/912111/raja"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 542, "favorite_count": 0, "accepted_answer_id": 39500878, "answer_count": 1, "score": 1, "last_activity_date": 1473894580, "creation_date": 1473893778, "question_id": 39500840, "link": "https://stackoverflow.com/questions/39500840/perl-lwp-returns-json-output-as-string", "title": "Perl LWP returns JSON output as string", "body": "<p>I am using Perl LWP::UserAgent to get response from an API. Everything works good except one issue. </p>\n\n<p>The API that i am using it returns response in JSON format. But I am getting it as string when i get the response through LWP module, Something like below.</p>\n\n<pre><code>$VAR1 = '\n{\"status\":\"success\",\"data\":[{\"empid\":\"345232\",\"customername\":\"Lee gates\",\"dynamicid\":\"2342342332sd32423\"},{\"empid\":\"36.VLXP.013727..CBCL..\",\"customername\":\"Lee subdirectories\",\"dynamicid\":\"223f3423dsf23423423\"}],\"message\":\"\"}'\n</code></pre>\n\n<p>I did \"<code>print Dumper $response</code>\" to get the output. </p>\n\n<p>One more thing, The challenge is that my client do not want to go with Perl module for JSON (use JSON::Parse 'parse_json';).</p>\n\n<p>Any help would be appreciated!</p>\n"}, {"tags": ["perl", "pdf-generation", "cgi"], "comments": [{"owner": {"reputation": 154, "user_id": 6811877, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/e696f3907cb54cc29963d6ffb2e24e75?s=128&d=identicon&r=PG&f=1", "display_name": "mp3", "link": "https://stackoverflow.com/users/6811877/mp3"}, "edited": false, "score": 0, "creation_date": 1473894417, "post_id": 39500817, "comment_id": 66319234, "body": "Can you clarify if you need help with code or are you mostly interested in tools for converting to PDF?"}, {"owner": {"reputation": 154, "user_id": 6811877, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/e696f3907cb54cc29963d6ffb2e24e75?s=128&d=identicon&r=PG&f=1", "display_name": "mp3", "link": "https://stackoverflow.com/users/6811877/mp3"}, "edited": false, "score": 0, "creation_date": 1473903580, "post_id": 39500817, "comment_id": 66321287, "body": "You may also want to consider that html generation with CGI.pm is not recommended. <a href=\"https://metacpan.org/pod/distribution/CGI/lib/CGI.pod#HTML-Generation-functions-should-no-longer-be-used\" rel=\"nofollow noreferrer\">metacpan.org/pod/distribution/CGI/lib/&hellip;</a>"}], "answers": [{"comments": [{"owner": {"reputation": 62184, "user_id": 7231, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/81b76985f3985e35492e25880493d045?s=128&d=identicon&r=PG", "display_name": "Dave Cross", "link": "https://stackoverflow.com/users/7231/dave-cross"}, "edited": false, "score": 0, "creation_date": 1473929934, "post_id": 39500941, "comment_id": 66330300, "body": "And <a href=\"https://metacpan.org/release/PDF-WebKit\" rel=\"nofollow noreferrer\">PDF::WebKit</a> is a pretty nice Perl wrapper around that program."}, {"owner": {"reputation": 154, "user_id": 6811877, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/e696f3907cb54cc29963d6ffb2e24e75?s=128&d=identicon&r=PG&f=1", "display_name": "mp3", "link": "https://stackoverflow.com/users/6811877/mp3"}, "reply_to_user": {"reputation": 62184, "user_id": 7231, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/81b76985f3985e35492e25880493d045?s=128&d=identicon&r=PG", "display_name": "Dave Cross", "link": "https://stackoverflow.com/users/7231/dave-cross"}, "edited": false, "score": 1, "creation_date": 1473931360, "post_id": 39500941, "comment_id": 66331162, "body": "@DaveCross I didn&#39;t even know that existed. You just made my life easier - thank you!"}, {"owner": {"reputation": 62184, "user_id": 7231, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/81b76985f3985e35492e25880493d045?s=128&d=identicon&r=PG", "display_name": "Dave Cross", "link": "https://stackoverflow.com/users/7231/dave-cross"}, "edited": false, "score": 0, "creation_date": 1473932372, "post_id": 39500941, "comment_id": 66331954, "body": "It doesn&#39;t do anything very clever. It&#39;s just a very thin wrapper around calling the external program."}, {"owner": {"reputation": 15304, "user_id": 4632019, "user_type": "registered", "accept_rate": 57, "profile_image": "https://www.gravatar.com/avatar/8937eb40752cf51c7da61bd4a322a4ef?s=128&d=identicon&r=PG&f=1", "display_name": "Eugen Konkov", "link": "https://stackoverflow.com/users/4632019/eugen-konkov"}, "edited": false, "score": 0, "creation_date": 1536151620, "post_id": 39500941, "comment_id": 91320678, "body": "unfortunately do not support flex yet. Should be fixed at 0.13 version, now is 0.12.5"}], "tags": [], "owner": {"reputation": 154, "user_id": 6811877, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/e696f3907cb54cc29963d6ffb2e24e75?s=128&d=identicon&r=PG&f=1", "display_name": "mp3", "link": "https://stackoverflow.com/users/6811877/mp3"}, "is_accepted": true, "score": 4, "last_activity_date": 1473932898, "last_edit_date": 1473932898, "creation_date": 1473894359, "answer_id": 39500941, "question_id": 39500817, "link": "https://stackoverflow.com/questions/39500817/turning-html-results-page-into-pdf-and-downloading-in-cgi-file/39500941#39500941", "title": "Turning HTML Results Page into PDF and Downloading in CGI file", "body": "<p>If you are open to an external program/dependency for the conversion I highly recommend <a href=\"http://wkhtmltopdf.org/\" rel=\"nofollow\">http://wkhtmltopdf.org/</a></p>\n\n<p>Flow:</p>\n\n<ol>\n<li>Button Click</li>\n<li>wkhtmltopdf is provided target URL</li>\n<li>Output sent to user</li>\n</ol>\n\n<p>You may want to cache the output as well to reduce the number of conversions.</p>\n\n<p><strong>EDIT</strong>\nPerl already has a wrapper too.</p>\n\n<p><a href=\"https://metacpan.org/release/PDF-WebKit\" rel=\"nofollow\">https://metacpan.org/release/PDF-WebKit</a></p>\n"}], "owner": {"reputation": 183, "user_id": 6780437, "user_type": "registered", "accept_rate": 88, "profile_image": "https://www.gravatar.com/avatar/3a4c11e152223b02b50c56099c73d8ca?s=128&d=identicon&r=PG&f=1", "display_name": "BlowFish", "link": "https://stackoverflow.com/users/6780437/blowfish"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 411, "favorite_count": 0, "accepted_answer_id": 39500941, "answer_count": 1, "score": 0, "last_activity_date": 1473932898, "creation_date": 1473893569, "last_edit_date": 1473896220, "question_id": 39500817, "link": "https://stackoverflow.com/questions/39500817/turning-html-results-page-into-pdf-and-downloading-in-cgi-file", "title": "Turning HTML Results Page into PDF and Downloading in CGI file", "body": "<p>I am working in PERL and I have an html results page that displays perfectly. I want to add a button that makes this html page a pdf that downloads onto your machine.  Below is the code that generates the html page. fileFH is generated in the CGI code. </p>\n\n<pre><code>sub searchResults {\nmy $data = shift;\nmy $file = \"$OUTFILES/$data.html\";\n\nopen(my $fileFH, '&lt;', $file) or return \"Can not find file\\n\";\n\nprint $cgi-&gt;header();\n\nwhile (&lt;$fileFH&gt;) {\n    print qq($_);\n}\nclose($fileFH);\n}\n</code></pre>\n"}, {"tags": ["perl", "cgi"], "comments": [{"owner": {"reputation": 793701, "user_id": 19068, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/1d2d3229ed1961d2bd81853242493247?s=128&d=identicon&r=PG", "display_name": "Quentin", "link": "https://stackoverflow.com/users/19068/quentin"}, "edited": false, "score": 2, "creation_date": 1473886306, "post_id": 39499429, "comment_id": 66316469, "body": "<a href=\"https://metacpan.org/pod/distribution/CGI/lib/CGI.pod#HTML-Generation-functions-should-no-longer-be-used\" rel=\"nofollow noreferrer\">metacpan.org/pod/distribution/CGI/lib/&hellip;</a>"}, {"owner": {"reputation": 793701, "user_id": 19068, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/1d2d3229ed1961d2bd81853242493247?s=128&d=identicon&r=PG", "display_name": "Quentin", "link": "https://stackoverflow.com/users/19068/quentin"}, "edited": false, "score": 2, "creation_date": 1473886376, "post_id": 39499429, "comment_id": 66316500, "body": "You&#39;re effectively asking multiple questions here. &quot;How do I put a date time picker in an HTML page?&quot;, &quot;How do I generate the markup for that from CGI.pm?&quot; (see previous comment and &quot;don&#39;t&quot;). &quot;How do I find the current date and time with Perl?&quot;. You should focus on a narrower problem."}, {"owner": {"reputation": 21782, "user_id": 176646, "user_type": "registered", "accept_rate": 88, "profile_image": "https://i.stack.imgur.com/HsQyV.png?s=128&g=1", "display_name": "ThisSuitIsBlackNot", "link": "https://stackoverflow.com/users/176646/thissuitisblacknot"}, "edited": false, "score": 1, "creation_date": 1473889896, "post_id": 39499429, "comment_id": 66317909, "body": "For a datepicker, you&#39;ll need JavaScript. I&#39;ve used <a href=\"http://jqueryui.com/datepicker/\" rel=\"nofollow noreferrer\">jQuery UI&#39;s datepicker</a>, but there are probably tons of other ones."}, {"owner": {"reputation": 81, "user_id": 6655140, "user_type": "registered", "accept_rate": 57, "profile_image": "https://www.gravatar.com/avatar/a39bede9434bfecf0dfdee4de91f5a3b?s=128&d=identicon&r=PG&f=1", "display_name": "Allen", "link": "https://stackoverflow.com/users/6655140/allen"}, "reply_to_user": {"reputation": 21782, "user_id": 176646, "user_type": "registered", "accept_rate": 88, "profile_image": "https://i.stack.imgur.com/HsQyV.png?s=128&g=1", "display_name": "ThisSuitIsBlackNot", "link": "https://stackoverflow.com/users/176646/thissuitisblacknot"}, "edited": false, "score": 0, "creation_date": 1473890796, "post_id": 39499429, "comment_id": 66318208, "body": "@ThisSuitIsBlackNot I like your suggestion, how would you add the datepicker you suggested to an object-oriented CGI page, such as the one I have?"}, {"owner": {"reputation": 21782, "user_id": 176646, "user_type": "registered", "accept_rate": 88, "profile_image": "https://i.stack.imgur.com/HsQyV.png?s=128&g=1", "display_name": "ThisSuitIsBlackNot", "link": "https://stackoverflow.com/users/176646/thissuitisblacknot"}, "edited": false, "score": 1, "creation_date": 1473891129, "post_id": 39499429, "comment_id": 66318321, "body": "Create a separate JavaScript file and include it in your HTML with a <code>&lt;script&gt;</code> tag, e.g. <code>&lt;script src=&quot;foo.js&quot;&gt;&lt;&#47;script&gt;</code>. As Quentin said, you shouldn&#39;t be using CGI.pm&#39;s HTML generation functions. For a simple HTML form, you may not even need to <i>generate</i> anything in the first place; just use a static HTML file. If your HTML really needs to be dynamic, you should use a templating tool like <a href=\"http://template-toolkit.org/\" rel=\"nofollow noreferrer\">Template Toolkit</a>."}, {"owner": {"reputation": 198290, "user_id": 1030675, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/957956ce51706d03f19a4dc85a767bb1?s=128&d=identicon&r=PG", "display_name": "choroba", "link": "https://stackoverflow.com/users/1030675/choroba"}, "edited": false, "score": 0, "creation_date": 1473926083, "post_id": 39499429, "comment_id": 66328196, "body": "<a href=\"http://www.perlmonks.org/?node_id=1171784\" rel=\"nofollow noreferrer\">Crossposted</a>"}], "answers": [{"tags": [], "owner": {"reputation": 146, "user_id": 3249240, "user_type": "registered", "accept_rate": 100, "profile_image": "https://i.stack.imgur.com/v5tdF.jpg?s=128&g=1", "display_name": "RedSands", "link": "https://stackoverflow.com/users/3249240/redsands"}, "is_accepted": true, "score": 0, "last_activity_date": 1473893290, "last_edit_date": 1495540866, "creation_date": 1473892839, "answer_id": 39500715, "question_id": 39499429, "link": "https://stackoverflow.com/questions/39499429/perl-cgi-date-and-time-picker-with-auto-populate-with-current-date-and-time/39500715#39500715", "title": "Perl CGI Date and Time picker with auto populate with current date and time", "body": "<p>Add <a href=\"http://jqueryui.com/datepicker/\" rel=\"nofollow noreferrer\">http://jqueryui.com/datepicker/</a> to your html page.</p>\n\n<pre><code>print \"&lt;link rel='stylesheet' href='//code.jquery.com/ui/1.12.0/themes/base/jquery-ui.css'&gt;\";\nprint \"&lt;script src='//code.jquery.com/jquery-1.12.4.js'&gt;&lt;/script&gt;\";\nprint \"&lt;script src='//code.jquery.com/ui/1.12.0/jquery-ui.js'&gt;&lt;/script&gt;\";\n</code></pre>\n\n<p>...</p>\n\n<p>Then add the ID tag to your textfield.</p>\n\n<pre><code>print $q-&gt;Tr(\n      $q-&gt;td('Date:'),\n      $q-&gt;td(\n        $q-&gt;textfield(-name =&gt; \"date\", -size =&gt; 50, -id =&gt; \"datepicker\")\n      )\n    );\n</code></pre>\n\n<p>You might also find this reference helpful from perl monks on using javascript with perl:  <a href=\"http://www.perlmonks.org/?node_id=1050387\" rel=\"nofollow noreferrer\">http://www.perlmonks.org/?node_id=1050387</a></p>\n\n<p>Here another conversation on the topic of data pickers.\n<a href=\"https://stackoverflow.com/questions/1245245/jquery-date-time-picker\">jQuery date/time picker</a></p>\n"}, {"tags": [], "owner": {"reputation": 62184, "user_id": 7231, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/81b76985f3985e35492e25880493d045?s=128&d=identicon&r=PG", "display_name": "Dave Cross", "link": "https://stackoverflow.com/users/7231/dave-cross"}, "is_accepted": false, "score": 0, "last_activity_date": 1473929714, "creation_date": 1473929714, "answer_id": 39506877, "question_id": 39499429, "link": "https://stackoverflow.com/questions/39499429/perl-cgi-date-and-time-picker-with-auto-populate-with-current-date-and-time/39506877#39506877", "title": "Perl CGI Date and Time picker with auto populate with current date and time", "body": "<p>If you know your users are going to be using modern browsers like Edge or Chrome, then you can use the HTML5 <code>date</code> input.</p>\n\n<pre><code>&lt;input type=\"date\" value=\"2016-09-15\"&gt;\n</code></pre>\n\n<p>That gives a nice date-picker on supported browsers and downgrades to a simple text input where it isn't supported.</p>\n\n<p>You can create it with CGI's HTML creation functions.</p>\n\n<pre><code>$q-&gt;input({type =&gt; 'date', value =&gt; '2016-09-15'});\n</code></pre>\n\n<p>But as others have pointed out, we've known that the HTML creation functions are a stupid idea for at least 15 years. No-one should be using them now. Please use a <a href=\"http://tt2.org/\" rel=\"nofollow\">templating engine</a> instead.</p>\n\n<p>As for getting the date. The easiest option is probably to use <a href=\"https://metacpan.org/pod/Time::Piece\" rel=\"nofollow\">Time::Piece</a>.</p>\n\n<pre><code>use Time::Piece;\nmy $date = localtime;\nsay $q-&gt;input({type =&gt; 'date', value =&gt; $date-&gt;strftime('%Y-%m-%d')});\n</code></pre>\n"}], "owner": {"reputation": 81, "user_id": 6655140, "user_type": "registered", "accept_rate": 57, "profile_image": "https://www.gravatar.com/avatar/a39bede9434bfecf0dfdee4de91f5a3b?s=128&d=identicon&r=PG&f=1", "display_name": "Allen", "link": "https://stackoverflow.com/users/6655140/allen"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 994, "favorite_count": 0, "accepted_answer_id": 39500715, "answer_count": 2, "score": 0, "last_activity_date": 1473929714, "creation_date": 1473886149, "question_id": 39499429, "link": "https://stackoverflow.com/questions/39499429/perl-cgi-date-and-time-picker-with-auto-populate-with-current-date-and-time", "title": "Perl CGI Date and Time picker with auto populate with current date and time", "body": "<p>I've created a CGI form using perl, everything works really good, except I'm having a hard time finding a solution as to how I can get the current time and date filled in the form while giving the user the option to change the input with a date and time picker. here is pieces of code I've written:</p>\n\n<pre><code>sub output_form {\n    my ($q) = @_;\n    print $q-&gt;start_form(\n        -name =&gt; 'main',\n        -method =&gt; 'POST',\n    );\n    print $q-&gt;start_table;\n    print $q-&gt;Tr(\n      $q-&gt;td('Update#:'),\n      $q-&gt;td(\n        $q-&gt;textfield(-name =&gt; \"update_num\", -size =&gt; 02)\n      )\n    );\n     print $q-&gt;Tr(\n      $q-&gt;td('Date:'),\n      $q-&gt;td(\n        $q-&gt;textfield(-name =&gt; \"date\", -size =&gt; 50)\n      )\n    );\n     print $q-&gt;Tr(\n      $q-&gt;td('Time:'),\n      $q-&gt;td(\n        $q-&gt;textfield(-name =&gt; \"time\", -size =&gt; 50)\n      )\n    );\n</code></pre>\n"}, {"tags": ["perl", "datetime"], "comments": [{"owner": {"reputation": 6068, "user_id": 1799189, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/s4Pcu.jpg?s=128&g=1", "display_name": "xxfelixxx", "link": "https://stackoverflow.com/users/1799189/xxfelixxx"}, "edited": false, "score": 0, "creation_date": 1473913311, "post_id": 39499424, "comment_id": 66323391, "body": "There might be a bug in how DateTime::Format::Duration rolls up seconds into minutes...you may wish to file a bug ticket."}, {"owner": {"reputation": 5099, "user_id": 406224, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/9bc79fa6fa58e2a4f5e6c2f803cabc48?s=128&d=identicon&r=PG", "display_name": "oalders", "link": "https://stackoverflow.com/users/406224/oalders"}, "reply_to_user": {"reputation": 6068, "user_id": 1799189, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/s4Pcu.jpg?s=128&g=1", "display_name": "xxfelixxx", "link": "https://stackoverflow.com/users/1799189/xxfelixxx"}, "edited": false, "score": 0, "creation_date": 1473955634, "post_id": 39499424, "comment_id": 66347153, "body": "@xxfelixxx, thanks.  I had a chat with the author of DateTime and he suggested that multiplication by non-integer units should actually not be supported, so I&#39;ve filed a bug against DateTime::Duration <a href=\"https://rt.cpan.org/Ticket/Display.html?id=117866&amp;results=6ab71e8eea43129a0c4f4c5702e469f5\" rel=\"nofollow noreferrer\">rt.cpan.org/Ticket/&hellip;</a>"}, {"owner": {"reputation": 53041, "user_id": 4653379, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/b3953dbedd0dabff5cbc3db9b0835b14?s=128&d=identicon&r=PG&f=1", "display_name": "zdim", "link": "https://stackoverflow.com/users/4653379/zdim"}, "edited": false, "score": 0, "creation_date": 1474058693, "post_id": 39499424, "comment_id": 66393629, "body": "@oalders  Can you explain that? The problem that I see is not multiplication per se, but that  minutes cannot be converted to seconds, nor vice-versa.  So <code>3 (min)&#47;2</code> has to return <code>1.5</code>. They say that in docs, both <code>DateTime</code> and <code>::Duration</code> (the link to that explanation is in my answer).  I got interested in this question and searched all date/time modules I know of or could find, and found nothing that can do sum/ave of <code>mm:ss</code> correctly. (Your <code>1:30</code> + <code>2:30</code> is a good test case for both.)"}, {"owner": {"reputation": 5099, "user_id": 406224, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/9bc79fa6fa58e2a4f5e6c2f803cabc48?s=128&d=identicon&r=PG", "display_name": "oalders", "link": "https://stackoverflow.com/users/406224/oalders"}, "reply_to_user": {"reputation": 53041, "user_id": 4653379, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/b3953dbedd0dabff5cbc3db9b0835b14?s=128&d=identicon&r=PG&f=1", "display_name": "zdim", "link": "https://stackoverflow.com/users/4653379/zdim"}, "edited": false, "score": 0, "creation_date": 1474126631, "post_id": 39499424, "comment_id": 66409323, "body": "@zdim I will follow up with him and update here."}, {"owner": {"reputation": 5099, "user_id": 406224, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/9bc79fa6fa58e2a4f5e6c2f803cabc48?s=128&d=identicon&r=PG", "display_name": "oalders", "link": "https://stackoverflow.com/users/406224/oalders"}, "reply_to_user": {"reputation": 53041, "user_id": 4653379, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/b3953dbedd0dabff5cbc3db9b0835b14?s=128&d=identicon&r=PG&f=1", "display_name": "zdim", "link": "https://stackoverflow.com/users/4653379/zdim"}, "edited": false, "score": 0, "creation_date": 1474489068, "post_id": 39499424, "comment_id": 66556945, "body": "@zdim the issue as I now understand it is that in some cases multiplying by an integer will work, but not in all cases.  For instance, if you end up with a non-integer amount of seconds, that won&#39;t get converted to nanoseconds.  So there&#39;s a good chance of getting a broken value at some point."}, {"owner": {"reputation": 53041, "user_id": 4653379, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/b3953dbedd0dabff5cbc3db9b0835b14?s=128&d=identicon&r=PG&f=1", "display_name": "zdim", "link": "https://stackoverflow.com/users/4653379/zdim"}, "edited": false, "score": 0, "creation_date": 1474490005, "post_id": 39499424, "comment_id": 66557440, "body": "@oalders  Ah, thank you -- that is an issue (bug) since the seconds (vs nano) conversions are claimed to work. Thank you for the update!"}], "answers": [{"comments": [{"owner": {"reputation": 5099, "user_id": 406224, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/9bc79fa6fa58e2a4f5e6c2f803cabc48?s=128&d=identicon&r=PG", "display_name": "oalders", "link": "https://stackoverflow.com/users/406224/oalders"}, "edited": false, "score": 0, "creation_date": 1474126594, "post_id": 39503098, "comment_id": 66409314, "body": "Both very helpful answers.  I accepted the first because it was the first one in, but this has also helped answer my question of whether there is an existing CPAN module which already does this simply."}], "tags": [], "owner": {"reputation": 6068, "user_id": 1799189, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/s4Pcu.jpg?s=128&g=1", "display_name": "xxfelixxx", "link": "https://stackoverflow.com/users/1799189/xxfelixxx"}, "is_accepted": false, "score": 0, "last_activity_date": 1473913497, "creation_date": 1473913497, "answer_id": 39503098, "question_id": 39499424, "link": "https://stackoverflow.com/questions/39499424/adding-mmss-times-dividing-them-and-printing-the-average/39503098#39503098", "title": "Adding MM::SS times, dividing them and printing the average", "body": "<p>Here is a version using the <code>DateTime</code> object.  Since it doesn't handle date parsing, we have to split the strings ourselves...</p>\n\n<p><strong>add_splits.pl</strong></p>\n\n<pre><code>#!/usr/bin/env perl\n\nuse strict;\nuse warnings;\nuse feature qw( say );\n\nuse DateTime;\n\nmy @splits = @ARGV;\nmy $split_number = @splits;\n\nmy $fmt = \"%M:%S\";\nmy $total = DateTime-&gt;from_epoch( epoch =&gt; 0 );\n\nforeach my $split (@splits) {\n    my ($split_min, $split_sec) = split /:/, $split;\n    $total-&gt;add( minutes =&gt; $split_min, seconds =&gt; $split_sec );\n}\n\nsay 'Total time: ' . $total-&gt;strftime($fmt);\n\nmy $avg_seconds = $total-&gt;epoch / $split_number;\nmy $avg = DateTime-&gt;from_epoch( epoch =&gt; 0 )-&gt;add( seconds =&gt; $avg_seconds );\n\nsay 'Average time: ' . $avg-&gt;strftime($fmt);\n</code></pre>\n\n<p><strong>Output</strong></p>\n\n<pre><code>$ perl add_splits.pl 1:30 2:30\nTotal time: 04:00\nAverage time: 02:00\n</code></pre>\n"}, {"comments": [{"owner": {"reputation": 53041, "user_id": 4653379, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/b3953dbedd0dabff5cbc3db9b0835b14?s=128&d=identicon&r=PG&f=1", "display_name": "zdim", "link": "https://stackoverflow.com/users/4653379/zdim"}, "edited": false, "score": 0, "creation_date": 1473963764, "post_id": 39504609, "comment_id": 66351509, "body": "@oalders I&#39;ve updated my answer a bit, with more commentary."}], "tags": [], "owner": {"reputation": 53041, "user_id": 4653379, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/b3953dbedd0dabff5cbc3db9b0835b14?s=128&d=identicon&r=PG&f=1", "display_name": "zdim", "link": "https://stackoverflow.com/users/4653379/zdim"}, "is_accepted": true, "score": 1, "last_activity_date": 1496693669, "last_edit_date": 1496693669, "creation_date": 1473921957, "answer_id": 39504609, "question_id": 39499424, "link": "https://stackoverflow.com/questions/39499424/adding-mmss-times-dividing-them-and-printing-the-average/39504609#39504609", "title": "Adding MM::SS times, dividing them and printing the average", "body": "<p>The problem with finding this exact functionality on CPAN is that you want to manipulate strings that are time intervals.  Most modules are concerned with the context of such strings, working with them as <em>date</em> and <em>time</em>. So it's hard to find something that simply adds <code>mm:ss</code> format. Since this quest is rather specific, and simple to write, why not wrap it in your own package?  </p>\n\n<p>Having said that, see whether the snippet below fits what you are looking for.</p>\n\n<hr>\n\n<p>This is a simple solution with the core module <a href=\"http://perldoc.perl.org/Time/Piece.html\" rel=\"nofollow noreferrer\"><code>Time::Piece</code></a>. It does go to seconds to do the math, but it can be wrapped in a few subs that are then also easily extended for other calculations.</p>\n\n<pre><code>use warnings 'all';\nuse strict;\nuse feature 'say';\n\nuse Time::Piece;\nuse POSIX 'strftime';\nuse List::Util 'sum';\n\nmy @times = @ARGV;\n\nmy $fmt = '%M:%S'; \n\nmy $tot_sec = sum map { Time::Piece-&gt;strptime($_, $fmt)-&gt;epoch } @times;\n\nmy $ave_sec = sprintf(\"%.0f\", $tot_sec/@times);  # round the average\n\nmy ($tot, $ave) = map { strftime $fmt, gmtime $_ } ($tot_sec, $ave_sec);\n\nsay \"Total time:   $tot\";\nsay \"Average time: $ave\";\n</code></pre>\n\n<p>For <code>manip_times.pl 2:30 1:30</code> this prints</p>\n\n<pre>\nTotal time:   04:00\nAverage time: 02:00\n</pre>\n\n<p>We use <code>strptime</code> from <code>Time::Piece</code> to get the object, and then its <code>epoch</code> method returns seconds, which are added and averaged.  This is converted back to <code>mm:ss</code> using <code>strftime</code> from <a href=\"http://perldoc.perl.org/POSIX.html\" rel=\"nofollow noreferrer\"><code>POSIX</code></a>. The <code>Time::Piece</code> also has <code>strftime</code> but to use it we'd have to have an object. </p>\n\n<p>Note that <code>Time::Piece</code> does <em>subtract</em> its objects directly, <code>$t1 - $t2</code>, but it cannot add them.  One can add an integer (seconds) to an object though, <code>$t1 + 120</code>.  Also see the core <a href=\"http://perldoc.perl.org/Time/Seconds.html\" rel=\"nofollow noreferrer\"><code>Time::Seconds</code></a>, a part of the distribution.</p>\n\n<hr>\n\n<p><em>Comments on the method used in the question</em></p>\n\n<p>The <a href=\"http://search.cpan.org/~drolsky/DateTime-1.36/lib/DateTime/Duration.pm\" rel=\"nofollow noreferrer\"><code>DateTime::Duration</code></a> objects that are used cannot convert between different units</p>\n\n<blockquote>\n  <p>See the <a href=\"http://search.cpan.org/~drolsky/DateTime-1.36/lib/DateTime.pm#How_DateTime_Math_Works\" rel=\"nofollow noreferrer\"><code>How DateTime Math Works</code></a> section of the DateTime.pm documentation for more details. The short course: One cannot in general convert between seconds, minutes, days, and months, so this class will never do so.</p>\n</blockquote>\n\n<p>From a bit further down the page, we see what conversions can be done and the related ones are only \"<em>hours &lt;=> minutes</em>\" and \"<em>seconds &lt;=> nanoseconds</em>\".  The reasons have to do with leap seconds, DST, and such.  Thus the calculation has to produce results such as <code>1.5</code> minutes.</p>\n\n<hr>\n\n<p>Note that <a href=\"http://search.cpan.org/~szabgab/Class-Date-1.1.15/lib/Class/Date.pod\" rel=\"nofollow noreferrer\"><code>Class::Date</code></a> also looks suitable for these particular requirements.</p>\n"}], "owner": {"reputation": 5099, "user_id": 406224, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/9bc79fa6fa58e2a4f5e6c2f803cabc48?s=128&d=identicon&r=PG", "display_name": "oalders", "link": "https://stackoverflow.com/users/406224/oalders"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 80, "favorite_count": 0, "accepted_answer_id": 39504609, "answer_count": 2, "score": 1, "last_activity_date": 1496693669, "creation_date": 1473886135, "question_id": 39499424, "link": "https://stackoverflow.com/questions/39499424/adding-mmss-times-dividing-them-and-printing-the-average", "title": "Adding MM::SS times, dividing them and printing the average", "body": "<p>Let's say I just ran for 10 km and I now have 10 1km split times in the form of MM::SS.  I want a simple way to add up an arbitrary number of the split times and average them.  For instance, maybe I want to see how much faster (or slower) the last 5 km were when compared with the first 5 km.</p>\n\n<p>I can do this myself by parsing the times, dividing them into seconds and then converting them back to MM::SS.  The math isn't hard, but I was wondering if something on CPAN already does this in a simple way.  My first attempt was using DateTime, but it doesn't convert from seconds to minutes, because of leap seconds.</p>\n\n<p>To be clear, I don't care about leap seconds in this context, but I'm curious as to whether a library exists.  As an example, here is what I have tried.</p>\n\n<pre><code>#!/usr/bin/env perl\n\nuse strict;\nuse warnings;\nuse feature qw( say );\n\nuse DateTime::Format::Duration;\n\nmy $formatter = DateTime::Format::Duration-&gt;new( pattern =&gt; '%M:%S' );\n\nmy @splits = @ARGV;\nmy $split_number = @splits;\n\nmy $total = $formatter-&gt;parse_duration( shift @splits );\n\nforeach my $split (@splits) {\n    $total-&gt;add_duration(\n        $formatter-&gt;parse_duration($split) );\n}\n\nsay 'Total time: ' . join ':', $total-&gt;minutes, $total-&gt;seconds;\n\n$total-&gt;multiply( 1 / $split_number );\n\nsay 'Average time: ' . join ':', $total-&gt;minutes, $total-&gt;seconds;\nsay 'Using DateTime::Format::Duration: ' . $formatter-&gt;format_duration( $total );\n</code></pre>\n\n<p>And a sample run:</p>\n\n<pre><code>$ perl script/add-splits.pl 1:30 2:30\nTotal time: 3:60\nAverage time: 1.5:30\nUsing DateTime::Format::Duration: 01:30\n</code></pre>\n\n<p>So, you can see that the duration object itself, gives me a correct answer, but not something that a human wants to decipher.</p>\n\n<p>DateTime::Format::Duration tries to be helpful, but tosses out 30 seconds in the process.</p>\n\n<p>I'm not looking for the raw code to do this.  I am interested in whether this already exists on CPAN.</p>\n"}, {"tags": ["regex", "perl"], "comments": [{"owner": {"reputation": 18548, "user_id": 4082052, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/GUNps.jpg?s=128&g=1", "display_name": "Sundeep", "link": "https://stackoverflow.com/users/4082052/sundeep"}, "edited": false, "score": 0, "creation_date": 1473922824, "post_id": 39499132, "comment_id": 66326622, "body": "why use <code>cat</code> when you can pass the filename directly as argument to <code>perl</code>?"}, {"owner": {"reputation": 19285, "user_id": 714112, "user_type": "registered", "accept_rate": 80, "profile_image": "https://www.gravatar.com/avatar/83b2bbbdc0f34ed6148dab188c6bb987?s=128&d=identicon&r=PG", "display_name": "Sridhar Sarnobat", "link": "https://stackoverflow.com/users/714112/sridhar-sarnobat"}, "reply_to_user": {"reputation": 18548, "user_id": 4082052, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/GUNps.jpg?s=128&g=1", "display_name": "Sundeep", "link": "https://stackoverflow.com/users/4082052/sundeep"}, "edited": false, "score": 1, "creation_date": 1473973881, "post_id": 39499132, "comment_id": 66356553, "body": "@spasic - &quot;Make every program a filter&quot; <a href=\"http://flylib.com/books/en/2.506.1.35/1/\" rel=\"nofollow noreferrer\">flylib.com/books/en/2.506.1.35/1</a> . In other words, support reading input from stdin, so that you can compose them with pipes. I might want to do some transformation on my csv data before running the date conversion logic. I&#39;ve omitted such logic in this example since it&#39;s not related."}], "answers": [{"comments": [{"owner": {"reputation": 19285, "user_id": 714112, "user_type": "registered", "accept_rate": 80, "profile_image": "https://www.gravatar.com/avatar/83b2bbbdc0f34ed6148dab188c6bb987?s=128&d=identicon&r=PG", "display_name": "Sridhar Sarnobat", "link": "https://stackoverflow.com/users/714112/sridhar-sarnobat"}, "edited": false, "score": 0, "creation_date": 1473885381, "post_id": 39499224, "comment_id": 66316002, "body": "Thank you. Or as I prefer: <code>cat player_data.csv | perl -pe &#39;use Time::Local; s{(\\d+)}{timelocal(0,0,0,1,0,$1)}ge&#39;</code> . I&#39;ll mark correct as soon as the site allows me to."}, {"owner": {"reputation": 3472, "user_id": 4990392, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/89acc35f0339a9c7e6ae36443a23e2d9?s=128&d=identicon&r=PG&f=1", "display_name": "Dada", "link": "https://stackoverflow.com/users/4990392/dada"}, "edited": false, "score": 1, "creation_date": 1473885467, "post_id": 39499224, "comment_id": 66316048, "body": "Or this one : <code>perl -MDateTime -pe &#39;s&#47;\\d{4}&#47;DateTime-&gt;new(year =&gt; $&amp;)-&gt;epoch&#47;ge&#39; player_data.csv</code>"}, {"owner": {"reputation": 16405, "user_id": 6776093, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/heFeh.png?s=128&g=1", "display_name": "redneb", "link": "https://stackoverflow.com/users/6776093/redneb"}, "edited": false, "score": 0, "creation_date": 1473885587, "post_id": 39499224, "comment_id": 66316101, "body": "Yes <code>DateTime</code> makes it shorter, but <code>Time::Local</code> is a core module and comes with perl."}, {"owner": {"reputation": 3472, "user_id": 4990392, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/89acc35f0339a9c7e6ae36443a23e2d9?s=128&d=identicon&r=PG&f=1", "display_name": "Dada", "link": "https://stackoverflow.com/users/4990392/dada"}, "edited": false, "score": 0, "creation_date": 1473885959, "post_id": 39499224, "comment_id": 66316303, "body": "Yea that&#39;s why I post it as a comment and not an answer; yours get the job done without installing <code>DateTime</code>. But a question about date <i>needs</i> a <code>DateTime</code> answer, right? :)"}, {"owner": {"reputation": 19285, "user_id": 714112, "user_type": "registered", "accept_rate": 80, "profile_image": "https://www.gravatar.com/avatar/83b2bbbdc0f34ed6148dab188c6bb987?s=128&d=identicon&r=PG", "display_name": "Sridhar Sarnobat", "link": "https://stackoverflow.com/users/714112/sridhar-sarnobat"}, "edited": false, "score": 0, "creation_date": 1473886238, "post_id": 39499224, "comment_id": 66316436, "body": "Good to know both forms. Thanks."}, {"owner": {"reputation": 62184, "user_id": 7231, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/81b76985f3985e35492e25880493d045?s=128&d=identicon&r=PG", "display_name": "Dave Cross", "link": "https://stackoverflow.com/users/7231/dave-cross"}, "edited": false, "score": 0, "creation_date": 1473928188, "post_id": 39499224, "comment_id": 66329297, "body": "In command-line programs, I like to use <code>-M</code> to load modules. <code>perl -MTime::Local -pe s&#47;(\\d{4})&#47;timelocal(0,0,0,1,0,$1)&#47;ge&#39; player_data.csv</code>."}], "tags": [], "owner": {"reputation": 16405, "user_id": 6776093, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/heFeh.png?s=128&g=1", "display_name": "redneb", "link": "https://stackoverflow.com/users/6776093/redneb"}, "is_accepted": true, "score": 4, "last_activity_date": 1473885896, "last_edit_date": 1473885896, "creation_date": 1473885263, "answer_id": 39499224, "question_id": 39499132, "link": "https://stackoverflow.com/questions/39499132/date-to-epoch-conversion-for-regex-group-in-perl-one-liner/39499224#39499224", "title": "Date to epoch conversion for regex group in perl one liner?", "body": "<p>This should do it:</p>\n\n<pre><code>perl -pe 'use Time::Local; s/(\\d{4})/timelocal(0,0,0,1,0,$1)/ge' player_data.csv\n</code></pre>\n\n<p>Note this assumes that you want January 1st 00:00 in local time. If you want UTC instead, just use <code>timegm</code> instead of <code>timelocal</code>.</p>\n"}], "owner": {"reputation": 19285, "user_id": 714112, "user_type": "registered", "accept_rate": 80, "profile_image": "https://www.gravatar.com/avatar/83b2bbbdc0f34ed6148dab188c6bb987?s=128&d=identicon&r=PG", "display_name": "Sridhar Sarnobat", "link": "https://stackoverflow.com/users/714112/sridhar-sarnobat"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 138, "favorite_count": 0, "accepted_answer_id": 39499224, "answer_count": 1, "score": 0, "last_activity_date": 1473887262, "creation_date": 1473884924, "last_edit_date": 1473887262, "question_id": 39499132, "link": "https://stackoverflow.com/questions/39499132/date-to-epoch-conversion-for-regex-group-in-perl-one-liner", "title": "Date to epoch conversion for regex group in perl one liner?", "body": "<p>I have some csv data looking like this:</p>\n\n<pre><code>player A,1991,2006\nplayer B,1958,1972\n</code></pre>\n\n<p>and I want to transform it to use epochs instead of years so that it looks like:</p>\n\n<pre><code>player A,1329638400,162008400\nplayer B,1326389534,326359832\n</code></pre>\n\n<p>I'd prefer to use the following perl idiom:</p>\n\n<pre><code>cat player_data.csv | perl -pe 's{...}{...}g'\n</code></pre>\n\n<p>But trying to call the relevant perl function inside a regex I'm not experienced with. </p>\n\n<p>Notes:</p>\n\n<ul>\n<li>I'm fine with hardcoding the month and day to something (preferably july 1st which is the start of new soccer seasons and I'm trying to capture data about their careers)</li>\n</ul>\n"}, {"tags": ["regex", "perl"], "comments": [{"owner": {"reputation": 21782, "user_id": 176646, "user_type": "registered", "accept_rate": 88, "profile_image": "https://i.stack.imgur.com/HsQyV.png?s=128&g=1", "display_name": "ThisSuitIsBlackNot", "link": "https://stackoverflow.com/users/176646/thissuitisblacknot"}, "edited": false, "score": 3, "creation_date": 1473881527, "post_id": 39498206, "comment_id": 66314108, "body": "You&#39;re looking in the wrong section of the docs: <a href=\"http://perldoc.perl.org/perlop.html#Binding-Operators\" rel=\"nofollow noreferrer\">perldoc.perl.org/perlop.html#Binding-Operators</a>"}, {"owner": {"reputation": 5334, "user_id": 5830574, "user_type": "registered", "accept_rate": 93, "profile_image": "https://i.stack.imgur.com/kCmqs.png?s=128&g=1", "display_name": "PerlDuck", "link": "https://stackoverflow.com/users/5830574/perlduck"}, "reply_to_user": {"reputation": 21782, "user_id": 176646, "user_type": "registered", "accept_rate": 88, "profile_image": "https://i.stack.imgur.com/HsQyV.png?s=128&g=1", "display_name": "ThisSuitIsBlackNot", "link": "https://stackoverflow.com/users/176646/thissuitisblacknot"}, "edited": false, "score": 0, "creation_date": 1473881985, "post_id": 39498206, "comment_id": 66314323, "body": "@ThisSuitIsBlackNot Ah, thank you for that link. Indeed this was the information I was looking for. There should be some link from &quot;my&quot; section to &quot;your&quot; section, though."}, {"owner": {"reputation": 2119, "user_id": 3196458, "user_type": "registered", "profile_image": "https://graph.facebook.com/100005547696898/picture?type=large", "display_name": "blackpen", "link": "https://stackoverflow.com/users/3196458/blackpen"}, "edited": false, "score": 0, "creation_date": 1473882329, "post_id": 39498206, "comment_id": 66314478, "body": "I think there are few places where the docs mention examples as <b>/regex/</b>, but it works as well with just <b>&quot;regex&quot;</b>. For instance, split works like that."}, {"owner": {"reputation": 5334, "user_id": 5830574, "user_type": "registered", "accept_rate": 93, "profile_image": "https://i.stack.imgur.com/kCmqs.png?s=128&g=1", "display_name": "PerlDuck", "link": "https://stackoverflow.com/users/5830574/perlduck"}, "reply_to_user": {"reputation": 2119, "user_id": 3196458, "user_type": "registered", "profile_image": "https://graph.facebook.com/100005547696898/picture?type=large", "display_name": "blackpen", "link": "https://stackoverflow.com/users/3196458/blackpen"}, "edited": false, "score": 0, "creation_date": 1473882690, "post_id": 39498206, "comment_id": 66314660, "body": "@blackpen Good point, but the docs for <code>split</code> clearly mention that. The docs for <code>m&#47;&#47;</code> don&#39;t."}, {"owner": {"reputation": 2119, "user_id": 3196458, "user_type": "registered", "profile_image": "https://graph.facebook.com/100005547696898/picture?type=large", "display_name": "blackpen", "link": "https://stackoverflow.com/users/3196458/blackpen"}, "edited": false, "score": 0, "creation_date": 1473882930, "post_id": 39498206, "comment_id": 66314789, "body": "@PerlDog, what I was pointing out is that split works even when you give the pattern in double quotes (even though the docs explicitely mention double slashes)."}, {"owner": {"reputation": 5334, "user_id": 5830574, "user_type": "registered", "accept_rate": 93, "profile_image": "https://i.stack.imgur.com/kCmqs.png?s=128&g=1", "display_name": "PerlDuck", "link": "https://stackoverflow.com/users/5830574/perlduck"}, "reply_to_user": {"reputation": 2119, "user_id": 3196458, "user_type": "registered", "profile_image": "https://graph.facebook.com/100005547696898/picture?type=large", "display_name": "blackpen", "link": "https://stackoverflow.com/users/3196458/blackpen"}, "edited": false, "score": 0, "creation_date": 1473883484, "post_id": 39498206, "comment_id": 66315054, "body": "@blackpen Ok. I thought split accepts quotes only for a single space, like <code>&quot; &quot;</code> and then does its special handling (because <code>&#47; &#47;</code> and <code>&quot; &quot;</code> are not the same for <code>split</code>)."}, {"owner": {"reputation": 589595, "user_id": 1491895, "user_type": "registered", "accept_rate": 69, "profile_image": "https://www.gravatar.com/avatar/82f9e178a16364bf561d0ed4da09a35d?s=128&d=identicon&r=PG", "display_name": "Barmar", "link": "https://stackoverflow.com/users/1491895/barmar"}, "edited": false, "score": 3, "creation_date": 1473883532, "post_id": 39498206, "comment_id": 66315085, "body": "@PerlDog The issue is that it&#39;s the <b>user</b> of the string that decides whether it will convert a string to a regular expression. So you need to look in the documentation of the user. So it&#39;s mentioned in the <code>split</code> documentation and the <code>=~</code> documentation."}, {"owner": {"reputation": 589595, "user_id": 1491895, "user_type": "registered", "accept_rate": 69, "profile_image": "https://www.gravatar.com/avatar/82f9e178a16364bf561d0ed4da09a35d?s=128&d=identicon&r=PG", "display_name": "Barmar", "link": "https://stackoverflow.com/users/1491895/barmar"}, "edited": false, "score": 1, "creation_date": 1473883678, "post_id": 39498206, "comment_id": 66315169, "body": "BTW, <code>$str =~ &quot;foo&quot;</code> is not the same as <code>$str eq &quot;foo&quot;</code>. Since the regexp isn&#39;t anchored, it will match a string that has <code>foo</code> anywhere in it, e.g. <code>&quot;This has foo in it&quot;</code>."}, {"owner": {"reputation": 5334, "user_id": 5830574, "user_type": "registered", "accept_rate": 93, "profile_image": "https://i.stack.imgur.com/kCmqs.png?s=128&g=1", "display_name": "PerlDuck", "link": "https://stackoverflow.com/users/5830574/perlduck"}, "reply_to_user": {"reputation": 589595, "user_id": 1491895, "user_type": "registered", "accept_rate": 69, "profile_image": "https://www.gravatar.com/avatar/82f9e178a16364bf561d0ed4da09a35d?s=128&d=identicon&r=PG", "display_name": "Barmar", "link": "https://stackoverflow.com/users/1491895/barmar"}, "edited": false, "score": 0, "creation_date": 1473883886, "post_id": 39498206, "comment_id": 66315272, "body": "Yes, @Barmar, that was the issue. The programmer&#39;s <i>intention</i> was <code>eq</code> but he (wrongly) used <code>=~</code> instead. I spotted that in a codereview and wondered why it works at all."}, {"owner": {"reputation": 589595, "user_id": 1491895, "user_type": "registered", "accept_rate": 69, "profile_image": "https://www.gravatar.com/avatar/82f9e178a16364bf561d0ed4da09a35d?s=128&d=identicon&r=PG", "display_name": "Barmar", "link": "https://stackoverflow.com/users/1491895/barmar"}, "edited": false, "score": 0, "creation_date": 1473883994, "post_id": 39498206, "comment_id": 66315313, "body": "@PerlDog It would work if he used <code>=~ &#39;^foo$&#39;</code>"}], "answers": [{"comments": [{"owner": {"reputation": 5334, "user_id": 5830574, "user_type": "registered", "accept_rate": 93, "profile_image": "https://i.stack.imgur.com/kCmqs.png?s=128&g=1", "display_name": "PerlDuck", "link": "https://stackoverflow.com/users/5830574/perlduck"}, "edited": false, "score": 0, "creation_date": 1473884449, "post_id": 39498819, "comment_id": 66315533, "body": "I totally agree. I usually use <code>&#47;foo&#47;</code> or <code>$s =~ $re</code> (given <code>$re = qr&#47;\u2026&#47;</code>) but was wondering why <code>$s =~ &quot;foo&quot;</code> works because I couldn&#39;t find the docs for that."}, {"owner": {"reputation": 320771, "user_id": 589924, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/b2cf53d5a3d25f95c0db4e025aed4153?s=128&d=identicon&r=PG", "display_name": "ikegami", "link": "https://stackoverflow.com/users/589924/ikegami"}, "reply_to_user": {"reputation": 5334, "user_id": 5830574, "user_type": "registered", "accept_rate": 93, "profile_image": "https://i.stack.imgur.com/kCmqs.png?s=128&g=1", "display_name": "PerlDuck", "link": "https://stackoverflow.com/users/5830574/perlduck"}, "edited": false, "score": 1, "creation_date": 1473888008, "post_id": 39498819, "comment_id": 66317179, "body": "Obviously, because it was programmed that to do that.  /// Actually, it is documented &quot;If the right argument is an expression rather than a search pattern, substitution, or transliteration, it is interpreted as a search pattern at run time.&quot;"}, {"owner": {"reputation": 5334, "user_id": 5830574, "user_type": "registered", "accept_rate": 93, "profile_image": "https://i.stack.imgur.com/kCmqs.png?s=128&g=1", "display_name": "PerlDuck", "link": "https://stackoverflow.com/users/5830574/perlduck"}, "edited": false, "score": 0, "creation_date": 1473963218, "post_id": 39498819, "comment_id": 66351218, "body": "I was looking in the wrong section of the docs. I read about <a href=\"http://perldoc.perl.org/perlop.html#Regexp-Quote-Like-Operators\" rel=\"nofollow noreferrer\"><code>m&#47;&#47;</code> and Regexp-Quote-Like-Operators</a> but should have read about <a href=\"http://perldoc.perl.org/perlop.html#Binding-Operators\" rel=\"nofollow noreferrer\"><code>=~</code></a>. The latter clears things up. Thank you."}], "tags": [], "owner": {"reputation": 320771, "user_id": 589924, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/b2cf53d5a3d25f95c0db4e025aed4153?s=128&d=identicon&r=PG", "display_name": "ikegami", "link": "https://stackoverflow.com/users/589924/ikegami"}, "is_accepted": true, "score": 5, "last_activity_date": 1473965841, "last_edit_date": 1473965841, "creation_date": 1473883615, "answer_id": 39498819, "question_id": 39498206, "link": "https://stackoverflow.com/questions/39498206/why-is-str1-foo-recognized-as-str1-m-foo-and-not-a-syntax-error/39498819#39498819", "title": "Why is `$str1 =~ &quot;foo&quot;` recognized as `$str1 =~ m/foo/` (and not a syntax error)?", "body": "<blockquote>\n  <p><em>I'd expected that to be a syntax error.</em></p>\n</blockquote>\n\n<p>Quoting the documentation for <code>=~</code> in <a href=\"http://perldoc.perl.org/perlop.html\" rel=\"nofollow\">perlop</a>,</p>\n\n<blockquote>\n  <p>If the right argument is an expression rather than a search pattern, substitution, or transliteration, it is interpreted as a search pattern at run time.</p>\n</blockquote>\n\n<hr>\n\n<blockquote>\n  <p><em>But apparently Perl understands <code>$str1 =~ \"foo\"</code> as <code>$str1 =~ m/foo/</code> although no <code>m</code> is present. Why is that?</em></p>\n</blockquote>\n\n<p>Why not? I can't think of a reason not to have <code>=~</code> imply a match operator if there's no match, substitution or transliteration operator on its RHS. I'd use</p>\n\n<pre><code>$s =~ /foo/\n</code></pre>\n\n<p>over</p>\n\n<pre><code>$s =~ \"foo\"\n</code></pre>\n\n<p>but I have used</p>\n\n<pre><code>$s =~ $re\n</code></pre>\n\n<p>Especially when the value of <code>$re</code> is a pattern compiled by <code>qr//</code>.</p>\n"}, {"comments": [{"owner": {"reputation": 320771, "user_id": 589924, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/b2cf53d5a3d25f95c0db4e025aed4153?s=128&d=identicon&r=PG", "display_name": "ikegami", "link": "https://stackoverflow.com/users/589924/ikegami"}, "edited": false, "score": 0, "creation_date": 1473902797, "post_id": 39500179, "comment_id": 66321141, "body": "Nothing tricky about it. As I mentioned down below, If the RHS isn&#39;t an explicit match, substitution or transliteration operator, it&#39;s an implicit match operator."}, {"owner": {"reputation": 320771, "user_id": 589924, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/b2cf53d5a3d25f95c0db4e025aed4153?s=128&d=identicon&r=PG", "display_name": "ikegami", "link": "https://stackoverflow.com/users/589924/ikegami"}, "edited": false, "score": 0, "creation_date": 1473903278, "post_id": 39500179, "comment_id": 66321228, "body": "Re &quot;<i>When presented with something that might have several different interpretations</i>&quot;, That&#39;s not the case here. There&#39;s no grammatical ambiguity. There is only one possible interpretation. This paragraph isn&#39;t relevant to the question at hand."}, {"owner": {"reputation": 320771, "user_id": 589924, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/b2cf53d5a3d25f95c0db4e025aed4153?s=128&d=identicon&r=PG", "display_name": "ikegami", "link": "https://stackoverflow.com/users/589924/ikegami"}, "edited": false, "score": 0, "creation_date": 1473903339, "post_id": 39500179, "comment_id": 66321237, "body": "Re &quot;<i>The most important Perl parsing rule is the first one discussed below</i>&quot;, I think you misunderstood what this paragraph means because it  has no relevance to the question at hand. It explains, among other things, why <code>&quot;foo $foo{&quot;bar&quot;} bar&quot;</code> is a syntax error."}], "tags": [], "owner": {"reputation": 18466, "user_id": 477563, "user_type": "registered", "accept_rate": 90, "profile_image": "https://www.gravatar.com/avatar/07a89fb7b2fd8ece1e9e39e95e004a36?s=128&d=identicon&r=PG", "display_name": "Mr. Llama", "link": "https://stackoverflow.com/users/477563/mr-llama"}, "is_accepted": false, "score": 3, "last_activity_date": 1473889793, "creation_date": 1473889793, "answer_id": 39500179, "question_id": 39498206, "link": "https://stackoverflow.com/questions/39498206/why-is-str1-foo-recognized-as-str1-m-foo-and-not-a-syntax-error/39500179#39500179", "title": "Why is `$str1 =~ &quot;foo&quot;` recognized as `$str1 =~ m/foo/` (and not a syntax error)?", "body": "<p>The <code>=~</code> operator expects a scalar expression no the left and a pattern match on the right.  From <a href=\"http://perldoc.perl.org/perlop.html#Binding-Operators\" rel=\"nofollow\">the documentation</a>:</p>\n\n<blockquote>\n  <p>Binary \"=~\" binds a scalar expression to a pattern match. Certain operations search or modify the string $_ by default. This operator makes that kind of operation work on some other string. The right argument is a search pattern, substitution, or transliteration. The left argument is what is supposed to be searched, substituted, or transliterated instead of the default $_ .<br>\n  ...<br>\n  If the right argument is an expression rather than a search pattern, substitution, or transliteration, it is interpreted <strong>as a search pattern at run time.</strong></p>\n</blockquote>\n\n<p>The actual interpretation of the right hand side can be... tricky.  The details can be found in the Perl Documentation's <a href=\"http://perldoc.perl.org/perlop.html#Gory-details-of-parsing-quoted-constructs\" rel=\"nofollow\">\"Gory Details of Parsing Quoted Constructs\"</a>, the summary of which is:</p>\n\n<blockquote>\n  <p>When presented with something that might have several different interpretations, Perl uses the <strong>DWIM</strong> (that's \"Do What I Mean\") principle to pick the most probable interpretation. This strategy is so successful that Perl programmers often do not suspect the ambivalence of what they write. But from time to time, Perl's notions differ substantially from what the author honestly meant.<br>\n  ...<br>\n  The most important Perl parsing rule is the first one discussed below: when processing a quoted construct, Perl first finds the end of that construct, then interprets its contents. If you understand this rule, you may skip the rest of this section on the first reading. The other rules are likely to contradict the user's expectations much less frequently than this first one.</p>\n</blockquote>\n"}], "owner": {"reputation": 5334, "user_id": 5830574, "user_type": "registered", "accept_rate": 93, "profile_image": "https://i.stack.imgur.com/kCmqs.png?s=128&g=1", "display_name": "PerlDuck", "link": "https://stackoverflow.com/users/5830574/perlduck"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 200, "favorite_count": 0, "accepted_answer_id": 39498819, "answer_count": 2, "score": 7, "last_activity_date": 1473965841, "creation_date": 1473881238, "question_id": 39498206, "link": "https://stackoverflow.com/questions/39498206/why-is-str1-foo-recognized-as-str1-m-foo-and-not-a-syntax-error", "title": "Why is `$str1 =~ &quot;foo&quot;` recognized as `$str1 =~ m/foo/` (and not a syntax error)?", "body": "<p>I recently saw code from someone who's not familiar with Perl.\nHe wanted to compare two strings for equality but didn't know about\nthe <code>eq</code> operator, so he used <code>=~</code> like this:</p>\n\n<pre><code>my $str1 = 'foobar';\nmy $str2 = 'bar';\nif ( $str1 =~ $str2 ) {\n    print \"strings are equal\\n\";\n}\n</code></pre>\n\n<p>Another snippet was</p>\n\n<pre><code>if ( $str1 =~ \"foo\" ) {\n    print \"string equals 'foo'\\n\";\n}\n</code></pre>\n\n<p>Of course it should simply read <code>$str1 eq $str2</code> and <code>$str1 eq \"foo\"</code> to avoid false-positives.</p>\n\n<p>I run the code through <code>Deparse</code> and it said everything is ok:</p>\n\n<pre><code>$ perl -MO=Deparse -e 'use strict; \n                       use warnings; \n                       my $str1=\"foobar\"; \n                       my $str2=\"bar\"; \n                       $str1 =~ $str2; \n                       $str1 =~ \"bar\";'\nuse warnings;\nuse strict;\nmy $str1 = 'foobar';\nmy $str2 = 'bar';\n$str1 =~ /$str2/;\n$str1 =~ /bar/;\n-e syntax OK\n</code></pre>\n\n<p>I looked through the <a href=\"http://perldoc.perl.org/perlop.html#Regexp-Quote-Like-Operators\">docs</a>, but from my understanding\nthe situation is as follows:</p>\n\n<ul>\n<li>The general syntax is <code>m/pattern/</code>.</li>\n<li><strong>Either</strong> use <code>m</code> and a delimiter of your choice instead of <code>/</code> (but be aware that <code>'</code> and <code>?</code> have special meaning)</li>\n<li><strong>Or</strong> leave off the <code>m</code> but then the delimiter <em>must</em> be <code>/</code>.</li>\n</ul>\n\n<p>But apparently Perl understands <code>$str1 =~ \"foo\"</code> as <code>$str1 =~ m/foo/</code> although no <code>m</code> is present. Why is that? I'd expected that to be a syntax error.</p>\n"}, {"tags": ["regex", "perl", "grep"], "answers": [{"comments": [{"owner": {"reputation": 43580, "user_id": 1020526, "user_type": "registered", "accept_rate": 73, "profile_image": "https://i.stack.imgur.com/Scjj8.jpg?s=128&g=1", "display_name": "revo", "link": "https://stackoverflow.com/users/1020526/revo"}, "edited": false, "score": 0, "creation_date": 1473880540, "post_id": 39497735, "comment_id": 66313587, "body": "I should have commented that it matches a non-digit string as well. Like a sentence."}, {"owner": {"reputation": 43580, "user_id": 1020526, "user_type": "registered", "accept_rate": 73, "profile_image": "https://i.stack.imgur.com/Scjj8.jpg?s=128&g=1", "display_name": "revo", "link": "https://stackoverflow.com/users/1020526/revo"}, "edited": false, "score": 0, "creation_date": 1473880960, "post_id": 39497735, "comment_id": 66313806, "body": "Title is <i>Matching numbers with non-digits embedded</i>. So I think a proposed regex should not match a line with no digits at all. Yours matches <code>test</code>."}, {"owner": {"reputation": 43580, "user_id": 1020526, "user_type": "registered", "accept_rate": 73, "profile_image": "https://i.stack.imgur.com/Scjj8.jpg?s=128&g=1", "display_name": "revo", "link": "https://stackoverflow.com/users/1020526/revo"}, "edited": false, "score": 0, "creation_date": 1473881125, "post_id": 39497735, "comment_id": 66313907, "body": "Yes but it seems to be a mixture."}, {"owner": {"reputation": 630, "user_id": 483281, "user_type": "registered", "accept_rate": 40, "profile_image": "https://www.gravatar.com/avatar/a010bdb2a778ab79b662843b0facf3cc?s=128&d=identicon&r=PG", "display_name": "basil", "link": "https://stackoverflow.com/users/483281/basil"}, "edited": false, "score": 1, "creation_date": 1473956475, "post_id": 39497735, "comment_id": 66347625, "body": "This works. It takes some massaging to get it from the command line but it works."}], "tags": [], "owner": {"reputation": 658023, "user_id": 548225, "user_type": "registered", "accept_rate": 90, "profile_image": "https://www.gravatar.com/avatar/dab08478b226280d4a30894c9a7ed719?s=128&d=identicon&r=PG", "display_name": "anubhava", "link": "https://stackoverflow.com/users/548225/anubhava"}, "is_accepted": true, "score": 2, "last_activity_date": 1473881193, "last_edit_date": 1473881193, "creation_date": 1473879420, "answer_id": 39497735, "question_id": 39497584, "link": "https://stackoverflow.com/questions/39497584/matching-numbers-with-non-digits-embedded/39497735#39497735", "title": "Matching numbers with non-digits embedded", "body": "<p>You can use this regex to match any text with at least one non-digit:</p>\n\n<pre><code>/^\\d*[^\\d\\n]+\\d.*$/mg\n</code></pre>\n\n<p><a href=\"https://regex101.com/r/xR1dK7/1\" rel=\"nofollow\">RegEx Demo</a></p>\n\n<p><strong>RegEx Breakup:</strong></p>\n\n<ul>\n<li><code>^</code> - Start</li>\n<li><code>\\d*</code> - Match 0 or more digits</li>\n<li><code>[^\\d\\n]+</code> - Match 1 or more of any character that is not a digit and not a newline</li>\n<li><code>\\d</code> - Match a digit</li>\n<li><code>.*</code> - Match 0 or more of any character</li>\n<li><code>$</code> - End</li>\n</ul>\n"}, {"comments": [{"owner": {"reputation": 43580, "user_id": 1020526, "user_type": "registered", "accept_rate": 73, "profile_image": "https://i.stack.imgur.com/Scjj8.jpg?s=128&g=1", "display_name": "revo", "link": "https://stackoverflow.com/users/1020526/revo"}, "edited": false, "score": 0, "creation_date": 1473880353, "post_id": 39497893, "comment_id": 66313479, "body": "Your first regex matches digit-only strings but second is OK."}, {"owner": {"reputation": 362892, "user_id": 256196, "user_type": "moderator", "accept_rate": 77, "profile_image": "https://www.gravatar.com/avatar/d84b558fd67be10d5a718fb94231909d?s=128&d=identicon&r=PG", "display_name": "Bohemian", "link": "https://stackoverflow.com/users/256196/bohemian"}, "reply_to_user": {"reputation": 43580, "user_id": 1020526, "user_type": "registered", "accept_rate": 73, "profile_image": "https://i.stack.imgur.com/Scjj8.jpg?s=128&g=1", "display_name": "revo", "link": "https://stackoverflow.com/users/1020526/revo"}, "edited": false, "score": 0, "creation_date": 1473880558, "post_id": 39497893, "comment_id": 66313597, "body": "@revo the first one works if there are no newlines - see <a href=\"http://rubular.com/r/v75FK3nMnV\" rel=\"nofollow noreferrer\">live demo</a>"}, {"owner": {"reputation": 43580, "user_id": 1020526, "user_type": "registered", "accept_rate": 73, "profile_image": "https://i.stack.imgur.com/Scjj8.jpg?s=128&g=1", "display_name": "revo", "link": "https://stackoverflow.com/users/1020526/revo"}, "edited": false, "score": 0, "creation_date": 1473880700, "post_id": 39497893, "comment_id": 66313676, "body": "Only if there is no new lines. You can avoid it <code>^(?=.*\\d)(?=.*\\D(?!^))\\S+$</code>"}, {"owner": {"reputation": 362892, "user_id": 256196, "user_type": "moderator", "accept_rate": 77, "profile_image": "https://www.gravatar.com/avatar/d84b558fd67be10d5a718fb94231909d?s=128&d=identicon&r=PG", "display_name": "Bohemian", "link": "https://stackoverflow.com/users/256196/bohemian"}, "reply_to_user": {"reputation": 43580, "user_id": 1020526, "user_type": "registered", "accept_rate": 73, "profile_image": "https://i.stack.imgur.com/Scjj8.jpg?s=128&g=1", "display_name": "revo", "link": "https://stackoverflow.com/users/1020526/revo"}, "edited": false, "score": 0, "creation_date": 1473880812, "post_id": 39497893, "comment_id": 66313727, "body": "@revo I just re-read Q, and input has newlines... Answer updated accordingly. Thx"}], "tags": [], "owner": {"reputation": 362892, "user_id": 256196, "user_type": "moderator", "accept_rate": 77, "profile_image": "https://www.gravatar.com/avatar/d84b558fd67be10d5a718fb94231909d?s=128&d=identicon&r=PG", "display_name": "Bohemian", "link": "https://stackoverflow.com/users/256196/bohemian"}, "is_accepted": false, "score": 0, "last_activity_date": 1473880750, "last_edit_date": 1473880750, "creation_date": 1473879961, "answer_id": 39497893, "question_id": 39497584, "link": "https://stackoverflow.com/questions/39497584/matching-numbers-with-non-digits-embedded/39497893#39497893", "title": "Matching numbers with non-digits embedded", "body": "<p>Try this:</p>\n\n<pre><code>^(?=.*\\d)(?=.*[^\\d\\s])\\S+$\n</code></pre>\n\n<p>This means \"at least one digit and one non-digit and no whitespace\".</p>\n\n<p>See <a href=\"http://rubular.com/r/Ci8Pp5nMxt\" rel=\"nofollow\">live demo</a>.</p>\n\n<hr>\n\n<p>If no newlines were in your input, you could use slightly simpler:</p>\n\n<pre><code>^(?=.*\\d)(?=.*\\D)\\S+$\n</code></pre>\n"}, {"tags": [], "owner": {"reputation": 53041, "user_id": 4653379, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/b3953dbedd0dabff5cbc3db9b0835b14?s=128&d=identicon&r=PG&f=1", "display_name": "zdim", "link": "https://stackoverflow.com/users/4653379/zdim"}, "is_accepted": false, "score": 0, "last_activity_date": 1474653281, "last_edit_date": 1474653281, "creation_date": 1473880367, "answer_id": 39498001, "question_id": 39497584, "link": "https://stackoverflow.com/questions/39497584/matching-numbers-with-non-digits-embedded/39498001#39498001", "title": "Matching numbers with non-digits embedded", "body": "<p>Looks like you want to dodge strings made up entirely of digits, or entirely of letters. So you can exclude those. That will also let in strings without <em>any</em> numbers, so also require a number.</p>\n\n<pre><code>my $exclude = qr/(?: [0-9]+ | [A-Za-z]+ )/x;\nmy @res = grep { not /^$exclude$/ and /\\d/ } @strings;\n</code></pre>\n\n<p>If any other characters need be excluded (underscore?), add it to the list.</p>\n\n<p>It is not clear how your input is coming, this takes a list of ready strings. Add word boundaries and/or <code>/s</code>, depending on the input. Or parse the input into a list of strings for this.</p>\n\n<hr>\n\n<p>If input comes as as a multi-line string, <code>my @strings = split '\\n|\\s+', $text;</code>.</p>\n"}, {"tags": [], "owner": {"reputation": 62184, "user_id": 7231, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/81b76985f3985e35492e25880493d045?s=128&d=identicon&r=PG", "display_name": "Dave Cross", "link": "https://stackoverflow.com/users/7231/dave-cross"}, "is_accepted": false, "score": 0, "last_activity_date": 1473927955, "creation_date": 1473927955, "answer_id": 39506346, "question_id": 39497584, "link": "https://stackoverflow.com/questions/39497584/matching-numbers-with-non-digits-embedded/39506346#39506346", "title": "Matching numbers with non-digits embedded", "body": "<p>Aren't you over-thinking this massively? What's wrong with using <code>/\\D/</code> to match a string that contains a non-digit?</p>\n\n<p>I'm not sure what your exact requirements are, but if you're looking for a string that contains at least one digit and at least one non-digit, then the easiest approach is to use to regex matches - <code>/\\d/ &amp;&amp; /\\D/</code>.</p>\n\n<pre><code>#!/usr/bin/perl\n\nuse strict;\nuse warnings;\nuse 5.010;\n\nwhile (&lt;DATA&gt;) {\n  chomp;\n  say \"$_: \" . (/\\d/ &amp;&amp; /\\D/ ? 'matches' : 'doesn\\'t match');\n}\n\n__DATA__\nv2.1\n-98.7\n3.141\n.6180\n9,000\n+42\n555.123.4567\n+1-(800)-555-2468\n0123456789\n12345\n</code></pre>\n"}], "owner": {"reputation": 630, "user_id": 483281, "user_type": "registered", "accept_rate": 40, "profile_image": "https://www.gravatar.com/avatar/a010bdb2a778ab79b662843b0facf3cc?s=128&d=identicon&r=PG", "display_name": "basil", "link": "https://stackoverflow.com/users/483281/basil"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 137, "favorite_count": 0, "accepted_answer_id": 39497735, "answer_count": 4, "score": 1, "last_activity_date": 1474653281, "creation_date": 1473878845, "last_edit_date": 1473880653, "question_id": 39497584, "link": "https://stackoverflow.com/questions/39497584/matching-numbers-with-non-digits-embedded", "title": "Matching numbers with non-digits embedded", "body": "<p>I am trying to match strings of digits that contain non-digits within them. Using the default text in <a href=\"http://regexr.com/\" rel=\"nofollow\">http://regexr.com/</a>, the following should match:</p>\n\n<pre><code>v2.1\n-98.7\n3.141\n.6180\n9,000 \n+42\n555.123.4567    \n+1-(800)-555-2468\n</code></pre>\n\n<p>The following should <em>not</em> match:</p>\n\n<pre><code>0123456789\n12345\n</code></pre>\n\n<p>I tried:</p>\n\n<pre><code>/[^\\n\\ ]{1,}\\d+\\S+\\d/g\n</code></pre>\n\n<p>But it would not match <code>+42</code> and it incorrectly matched <code>0123456789</code> and <code>12345</code>, and it treated <code>\"555.123.4567 +1-(800)-555-2468\"</code> as one string.</p>\n\n<p>I tried to alleviate it by putting a <code>$</code> at the end but that matched nothing. Not sure what I am doing wrong.</p>\n"}, {"tags": ["perl", "text", "output", "ansi-colors"], "comments": [{"owner": {"reputation": 50468, "user_id": 1331451, "user_type": "registered", "accept_rate": 96, "profile_image": "https://i.stack.imgur.com/4ZPmj.png?s=128&g=1", "display_name": "simbabque", "link": "https://stackoverflow.com/users/1331451/simbabque"}, "edited": false, "score": 1, "creation_date": 1473867708, "post_id": 39494518, "comment_id": 66306612, "body": "There are tools that can interpret the color sequences. If you inspect your file with <i>most</i> instead of, say, <i>less</i>, it should bring back the colors. An alternative would be to maybe create an HTML document in your program instead of writing to the terminal."}, {"owner": {"reputation": 51521, "user_id": 2566198, "user_type": "registered", "accept_rate": 67, "profile_image": "https://i.stack.imgur.com/Y34ZA.jpg?s=128&g=1", "display_name": "Sobrique", "link": "https://stackoverflow.com/users/2566198/sobrique"}, "edited": false, "score": 0, "creation_date": 1473868143, "post_id": 39494518, "comment_id": 66306885, "body": "Yeah, HTML instead of ascii codes is probably the way to go."}, {"owner": {"reputation": 77, "user_id": 6831640, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/de100ceb0c44396a957282310aaccbce?s=128&d=identicon&r=PG&f=1", "display_name": "Chemistry for Computers", "link": "https://stackoverflow.com/users/6831640/chemistry-for-computers"}, "edited": false, "score": 0, "creation_date": 1473872915, "post_id": 39494518, "comment_id": 66309603, "body": "I tried do something like perl script.pl input.txt &gt; output.html, but that didn&#39;t do anything. Would I need to use something other than use Term::ANSIColor if I wanted to output something in HTML? If one of you could put up an example while work on a way to try it myself that would be wonderful!"}, {"owner": {"reputation": 53041, "user_id": 4653379, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/b3953dbedd0dabff5cbc3db9b0835b14?s=128&d=identicon&r=PG&f=1", "display_name": "zdim", "link": "https://stackoverflow.com/users/4653379/zdim"}, "edited": false, "score": 0, "creation_date": 1473878227, "post_id": 39494518, "comment_id": 66312353, "body": "The <code>Term::ANSIColor</code> merely produces the ANSI escapes for colors, as you notice, for the terminal.  However, many UNIX  tools can understand them so when you open the file they, too, will show colors.  For example, <code>cat</code> should show colors. As for pagers, <code>more</code> does by default as <a href=\"http://stackoverflow.com/users/1331451/simbabque\">simbabque</a> says, but <code>less -R</code> also does it.  Finally, I agree that the HTML is the &quot;safe&quot; way to go -- because then you <i>have to</i> read it with a browser, which will show the colors."}, {"owner": {"reputation": 53041, "user_id": 4653379, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/b3953dbedd0dabff5cbc3db9b0835b14?s=128&d=identicon&r=PG&f=1", "display_name": "zdim", "link": "https://stackoverflow.com/users/4653379/zdim"}, "edited": false, "score": 0, "creation_date": 1473878564, "post_id": 39494518, "comment_id": 66312540, "body": "As for the HTML, these are two questions -- how to print HTML with Perl, and how to use colors in HTML.  For very simple files it is easy, you can even write it out by hand.  A better solution is to use a Perl module.  However, you&#39;d need to specify more precisely what you want.  If you are going to be working with files in the terminal, I&#39;d say just use <code>less -R</code> (or make an alias for it for less typing if you wish). If you want to have them as HTML, then ... how complicated are the files? Note that then you really need to read them with a browser, no more terminal."}, {"owner": {"reputation": 50468, "user_id": 1331451, "user_type": "registered", "accept_rate": 96, "profile_image": "https://i.stack.imgur.com/4ZPmj.png?s=128&g=1", "display_name": "simbabque", "link": "https://stackoverflow.com/users/1331451/simbabque"}, "reply_to_user": {"reputation": 53041, "user_id": 4653379, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/b3953dbedd0dabff5cbc3db9b0835b14?s=128&d=identicon&r=PG&f=1", "display_name": "zdim", "link": "https://stackoverflow.com/users/4653379/zdim"}, "edited": false, "score": 0, "creation_date": 1473931519, "post_id": 39494518, "comment_id": 66331281, "body": "@zdim they can always read them with a text-based browser. Lynx should do that, shouldn&#39;t it?"}, {"owner": {"reputation": 53041, "user_id": 4653379, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/b3953dbedd0dabff5cbc3db9b0835b14?s=128&d=identicon&r=PG&f=1", "display_name": "zdim", "link": "https://stackoverflow.com/users/4653379/zdim"}, "reply_to_user": {"reputation": 50468, "user_id": 1331451, "user_type": "registered", "accept_rate": 96, "profile_image": "https://i.stack.imgur.com/4ZPmj.png?s=128&g=1", "display_name": "simbabque", "link": "https://stackoverflow.com/users/1331451/simbabque"}, "edited": false, "score": 0, "creation_date": 1473931744, "post_id": 39494518, "comment_id": 66331461, "body": "@simbabque Well, yes ... but it&#39;s a browser.  They won&#39;t <code>cat</code> or <code>less</code> or <code>grep</code>  those files, what may matter to them if they work with the terminal. That&#39;s what I meant.  By the way, do people still use those things?  I did, but that was years ago."}, {"owner": {"reputation": 50468, "user_id": 1331451, "user_type": "registered", "accept_rate": 96, "profile_image": "https://i.stack.imgur.com/4ZPmj.png?s=128&g=1", "display_name": "simbabque", "link": "https://stackoverflow.com/users/1331451/simbabque"}, "reply_to_user": {"reputation": 53041, "user_id": 4653379, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/b3953dbedd0dabff5cbc3db9b0835b14?s=128&d=identicon&r=PG&f=1", "display_name": "zdim", "link": "https://stackoverflow.com/users/4653379/zdim"}, "edited": false, "score": 0, "creation_date": 1473931941, "post_id": 39494518, "comment_id": 66331605, "body": "@zdim that&#39;s true. I think they do if they&#39;re on a server with only a terminal. Or if they have a very tight cable. :P"}], "owner": {"reputation": 77, "user_id": 6831640, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/de100ceb0c44396a957282310aaccbce?s=128&d=identicon&r=PG&f=1", "display_name": "Chemistry for Computers", "link": "https://stackoverflow.com/users/6831640/chemistry-for-computers"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 1053, "favorite_count": 0, "answer_count": 0, "score": 0, "last_activity_date": 1473890108, "creation_date": 1473867451, "last_edit_date": 1473890108, "question_id": 39494518, "link": "https://stackoverflow.com/questions/39494518/printing-colored-text-to-a-file", "title": "Printing Colored Text to a File", "body": "<p>I am trying to print colored text to a file. I know that text files cannot contain colored text. I would like to keep the output colors from my below script. </p>\n\n<p>This script obviously prints to the terminal in color. </p>\n\n<pre><code>#!/usr/bin/perl \n\nuse strict;\nuse warnings;\n\nmy $inputfile = $ARGV[0];\n\nopen (INPUTFILE, \"&lt;\", $inputfile) or die $!;\n\nmy @data = &lt;INPUTFILE&gt;;\n\nuse Term::ANSIColor;\n###\nfor (my $line = 0; $line &lt;= $#data; ++$line) {  \n   chomp $data[$line];\n   if ($data[$line] !~ m/PDBID/) {   file.\n   my @splitfast = (split//, $data[$line]);\n      for (@splitfast) {\n        #print \"$_ \\n\"; Debug\n        if ($_ =~ m/R|H|K/) {\n           print color ('red');\n           print \"$_\";\n           print color('reset');\n        } elsif ($_ =~ m/D|E/) {\n           print color ('blue');\n           print \"$_\";\n           print color('reset');\n        } else {\n        print \"$_\";\n        }\n\n\n      }\n\n\n }\n</code></pre>\n\n<p>INPUT:</p>\n\n<pre><code>GQDLKMDCKEYNYDKS\n</code></pre>\n\n<p>OUTPUT in Terminal:</p>\n\n<p>I get the exact same line as the INPUT states but with all the R, H, and K letters red with the D and E letters blue. </p>\n\n<p>OUTPUT in plain old text file: </p>\n\n<pre><code>GQ^[[34mD^[[0mL^[[31mK^[[0mM^[[34mD^[[0mC^[[31mK^[[0m^[[34mE^[[0mYNY^[[34mD^[[0m^[[31mK^[[0mS\n</code></pre>\n\n<p>Requested Solution: </p>\n\n<p>I am looking for either a file type I can write to that will simply conserve the output colors or a way to convert this type of output to maybe latex or something. If there is an easier way to do what I am doing let I would gladly give it a try!</p>\n"}, {"tags": ["regex", "perl", "grep"], "comments": [{"owner": {"reputation": 32176, "user_id": 2173773, "user_type": "registered", "accept_rate": 86, "profile_image": "https://i.stack.imgur.com/M8yh6.jpg?s=128&g=1", "display_name": "H&#229;kon H&#230;gland", "link": "https://stackoverflow.com/users/2173773/h%c3%a5kon-h%c3%a6gland"}, "edited": false, "score": 0, "creation_date": 1473866020, "post_id": 39493945, "comment_id": 66305472, "body": "See <a href=\"http://stackoverflow.com/questions/14767080/regex-to-match-first-word-in-sentence\">Regex to match first word in sentence</a>"}, {"owner": {"reputation": 630, "user_id": 483281, "user_type": "registered", "accept_rate": 40, "profile_image": "https://www.gravatar.com/avatar/a010bdb2a778ab79b662843b0facf3cc?s=128&d=identicon&r=PG", "display_name": "basil", "link": "https://stackoverflow.com/users/483281/basil"}, "reply_to_user": {"reputation": 32176, "user_id": 2173773, "user_type": "registered", "accept_rate": 86, "profile_image": "https://i.stack.imgur.com/M8yh6.jpg?s=128&g=1", "display_name": "H&#229;kon H&#230;gland", "link": "https://stackoverflow.com/users/2173773/h%c3%a5kon-h%c3%a6gland"}, "edited": false, "score": 0, "creation_date": 1473866337, "post_id": 39493945, "comment_id": 66305696, "body": "Not what I am looking for. When matching, it will include the punctuation. Also, I do not know how to extract the matches via grep."}], "answers": [{"tags": [], "owner": {"reputation": 51521, "user_id": 2566198, "user_type": "registered", "accept_rate": 67, "profile_image": "https://i.stack.imgur.com/Y34ZA.jpg?s=128&g=1", "display_name": "Sobrique", "link": "https://stackoverflow.com/users/2566198/sobrique"}, "is_accepted": false, "score": 1, "last_activity_date": 1473867242, "last_edit_date": 1473867242, "creation_date": 1473866192, "answer_id": 39494084, "question_id": 39493945, "link": "https://stackoverflow.com/questions/39493945/using-the-command-line-and-regex-to-determine-words-that-start-sentences/39494084#39494084", "title": "using the command line and regex to determine words that start sentences", "body": "<pre><code>#!/usr/bin/env perl\n\nuse strict;\nuse warnings;\nuse Data::Dumper;\n\nlocal $/;\n\nmy @words = &lt;DATA&gt; =~ m/(?:^|[\\.!]+)\\s+(\\w+)/g;\n\nprint Dumper \\@words;\n\n__DATA__\n This is a test. This is only a test! If there were an emergency, then Information would be provided for you.\n</code></pre>\n\n<p>So as a command line:</p>\n\n<pre><code>perl -ne 'print join \"\\n\", m/(?:^|[\\.!])\\s+(\\w+)/g;' somefile\n</code></pre>\n"}, {"comments": [{"owner": {"reputation": 51521, "user_id": 2566198, "user_type": "registered", "accept_rate": 67, "profile_image": "https://i.stack.imgur.com/Y34ZA.jpg?s=128&g=1", "display_name": "Sobrique", "link": "https://stackoverflow.com/users/2566198/sobrique"}, "edited": false, "score": 1, "creation_date": 1473866581, "post_id": 39494188, "comment_id": 66305870, "body": "Hmm, nice solution. I thought about <code>\\p{punct}</code> but of  course that gets comma (and other things) as well."}, {"owner": {"reputation": 50468, "user_id": 1331451, "user_type": "registered", "accept_rate": 96, "profile_image": "https://i.stack.imgur.com/4ZPmj.png?s=128&g=1", "display_name": "simbabque", "link": "https://stackoverflow.com/users/1331451/simbabque"}, "reply_to_user": {"reputation": 51521, "user_id": 2566198, "user_type": "registered", "accept_rate": 67, "profile_image": "https://i.stack.imgur.com/Y34ZA.jpg?s=128&g=1", "display_name": "Sobrique", "link": "https://stackoverflow.com/users/2566198/sobrique"}, "edited": false, "score": 0, "creation_date": 1473867357, "post_id": 39494188, "comment_id": 66306367, "body": "@Sobrique I just tried with different scripts, but that doesn&#39;t seem to work properly. At least on my command line, when I used the Armenian Google translation of the text, it broke."}, {"owner": {"reputation": 630, "user_id": 483281, "user_type": "registered", "accept_rate": 40, "profile_image": "https://www.gravatar.com/avatar/a010bdb2a778ab79b662843b0facf3cc?s=128&d=identicon&r=PG", "display_name": "basil", "link": "https://stackoverflow.com/users/483281/basil"}, "edited": false, "score": 0, "creation_date": 1473872071, "post_id": 39494188, "comment_id": 66309154, "body": "What would the converse of this be i.e. capitalized words that don&#39;t start a sentence?"}, {"owner": {"reputation": 50468, "user_id": 1331451, "user_type": "registered", "accept_rate": 96, "profile_image": "https://i.stack.imgur.com/4ZPmj.png?s=128&g=1", "display_name": "simbabque", "link": "https://stackoverflow.com/users/1331451/simbabque"}, "reply_to_user": {"reputation": 630, "user_id": 483281, "user_type": "registered", "accept_rate": 40, "profile_image": "https://www.gravatar.com/avatar/a010bdb2a778ab79b662843b0facf3cc?s=128&d=identicon&r=PG", "display_name": "basil", "link": "https://stackoverflow.com/users/483281/basil"}, "edited": false, "score": 0, "creation_date": 1473925628, "post_id": 39494188, "comment_id": 66327951, "body": "@basil <code>perl -nE &#39;say for &#47;\\B{sb}([A-Z]\\w+)\\b&#47;g&#39;</code> works. With your test, that&#39;s only <i>Information</i>."}], "tags": [], "owner": {"reputation": 50468, "user_id": 1331451, "user_type": "registered", "accept_rate": 96, "profile_image": "https://i.stack.imgur.com/4ZPmj.png?s=128&g=1", "display_name": "simbabque", "link": "https://stackoverflow.com/users/1331451/simbabque"}, "is_accepted": true, "score": 6, "last_activity_date": 1473867282, "last_edit_date": 1495540866, "creation_date": 1473866518, "answer_id": 39494188, "question_id": 39493945, "link": "https://stackoverflow.com/questions/39493945/using-the-command-line-and-regex-to-determine-words-that-start-sentences/39494188#39494188", "title": "using the command line and regex to determine words that start sentences", "body": "<p>If you have a Perl of at least version 5.22.1 (or 5.22.0 and this case is not affected by <a href=\"https://stackoverflow.com/q/36832662/1331451\">the bug described here</a>), then you can use the sentence boundaries in your regular expression.</p>\n\n<pre><code>use feature 'say';\n\nforeach my $sentence (m/\\b{sb}(\\w+)/g) {\n    say $sentence;\n}\n</code></pre>\n\n<p>Or, as a one-liner:</p>\n\n<pre><code>perl -nE 'say for /\\b{sb}(\\w+)/g'\n</code></pre>\n\n<p>If called with your example text, the output is:</p>\n\n<pre><code>This\nThis\nIf\n</code></pre>\n\n<p>It uses <code>\\b{sb}</code>, which is the sentence boundary. You can read <a href=\"https://www.effectiveperlprogramming.com/2016/06/perl-v5-22-adds-fancy-unicode-word-boundaries/\" rel=\"nofollow noreferrer\">a tutorial at brian d foy's blog</a> about it. The <code>\\b{}</code> is called a unicode boundary and is described in <a href=\"http://perldoc.perl.org/perlrebackslash.html#%5Cb%7B%7D%2C-%5Cb%2C-%5CB%7B%7D%2C-%5CB\" rel=\"nofollow noreferrer\">perlrebackslash</a>.</p>\n"}, {"comments": [{"owner": {"reputation": 630, "user_id": 483281, "user_type": "registered", "accept_rate": 40, "profile_image": "https://www.gravatar.com/avatar/a010bdb2a778ab79b662843b0facf3cc?s=128&d=identicon&r=PG", "display_name": "basil", "link": "https://stackoverflow.com/users/483281/basil"}, "edited": false, "score": 0, "creation_date": 1473866790, "post_id": 39494206, "comment_id": 66306008, "body": "This is the simplest solution, but simbabque&#39;s solution works as well."}, {"owner": {"reputation": 50468, "user_id": 1331451, "user_type": "registered", "accept_rate": 96, "profile_image": "https://i.stack.imgur.com/4ZPmj.png?s=128&g=1", "display_name": "simbabque", "link": "https://stackoverflow.com/users/1331451/simbabque"}, "reply_to_user": {"reputation": 630, "user_id": 483281, "user_type": "registered", "accept_rate": 40, "profile_image": "https://www.gravatar.com/avatar/a010bdb2a778ab79b662843b0facf3cc?s=128&d=identicon&r=PG", "display_name": "basil", "link": "https://stackoverflow.com/users/483281/basil"}, "edited": false, "score": 0, "creation_date": 1473866827, "post_id": 39494206, "comment_id": 66306027, "body": "@basil And by <i>simple</i> you mean <i>short</i>? :P"}, {"owner": {"reputation": 630, "user_id": 483281, "user_type": "registered", "accept_rate": 40, "profile_image": "https://www.gravatar.com/avatar/a010bdb2a778ab79b662843b0facf3cc?s=128&d=identicon&r=PG", "display_name": "basil", "link": "https://stackoverflow.com/users/483281/basil"}, "edited": false, "score": 1, "creation_date": 1473867785, "post_id": 39494206, "comment_id": 66306663, "body": "Yes.  I&#39;m not a perl champion yet and I&#39;m still getting used to just doing pattern matching from the command line. I don&#39;t mean to criticize or complain, I apologize.  Also, I tested this on a much larger document and it was, for some reason, catching on to single-characters that were not beginning of sentences. I changed the last * to a + to account for this. It works in my situation since I am working with a formal document that does not use first person pronouns but would be something to look into."}, {"owner": {"reputation": 658023, "user_id": 548225, "user_type": "registered", "accept_rate": 90, "profile_image": "https://www.gravatar.com/avatar/dab08478b226280d4a30894c9a7ed719?s=128&d=identicon&r=PG", "display_name": "anubhava", "link": "https://stackoverflow.com/users/548225/anubhava"}, "edited": false, "score": 0, "creation_date": 1473867849, "post_id": 39494206, "comment_id": 66306707, "body": "Yes indeed to avoid single character match use <code>[A-Z][a-z]+</code>"}], "tags": [], "owner": {"reputation": 658023, "user_id": 548225, "user_type": "registered", "accept_rate": 90, "profile_image": "https://www.gravatar.com/avatar/dab08478b226280d4a30894c9a7ed719?s=128&d=identicon&r=PG", "display_name": "anubhava", "link": "https://stackoverflow.com/users/548225/anubhava"}, "is_accepted": false, "score": 1, "last_activity_date": 1473867832, "last_edit_date": 1473867832, "creation_date": 1473866597, "answer_id": 39494206, "question_id": 39493945, "link": "https://stackoverflow.com/questions/39493945/using-the-command-line-and-regex-to-determine-words-that-start-sentences/39494206#39494206", "title": "using the command line and regex to determine words that start sentences", "body": "<p>You can use this gnu grep command to extract first after each period or <code>!</code> or <code>?</code>:</p>\n\n<pre><code>grep -oP '(?:^|[.?!])\\s*\\K[A-Z][a-z]+' file\n\nThis\nThis\nIf\n</code></pre>\n\n<p>Though I must caution you may get false results for cases like <code>Mr. Smith</code>.</p>\n\n<p><strong>Regex Breakup:</strong></p>\n\n<ul>\n<li><code>(?:^|[.?!])</code> - match start or DOT or <code>!</code> or <code>?</code></li>\n<li><code>\\s*</code> - match 0 or more whitespaces</li>\n<li><code>\\K</code> - match reset to forget matched data </li>\n<li><code>[A-Z][a-z]+</code> - match a word startign with upper case letter</li>\n</ul>\n"}], "owner": {"reputation": 630, "user_id": 483281, "user_type": "registered", "accept_rate": 40, "profile_image": "https://www.gravatar.com/avatar/a010bdb2a778ab79b662843b0facf3cc?s=128&d=identicon&r=PG", "display_name": "basil", "link": "https://stackoverflow.com/users/483281/basil"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 72, "favorite_count": 0, "accepted_answer_id": 39494188, "answer_count": 3, "score": 0, "last_activity_date": 1473867832, "creation_date": 1473865725, "question_id": 39493945, "link": "https://stackoverflow.com/questions/39493945/using-the-command-line-and-regex-to-determine-words-that-start-sentences", "title": "using the command line and regex to determine words that start sentences", "body": "<p>I have the text:</p>\n\n<pre><code> This is a test. This is only a test! If there were an emergency, then Information would be provided for you.\n</code></pre>\n\n<p>I want to be able to determine which words start sentences. What I have now is:</p>\n\n<pre><code> $ cat &lt;FILE&gt; | perl -pe 's/[\\s.?!]/\\n/g;'\n</code></pre>\n\n<p>This just gets rid of punctuation and replaces them with newlines, giving me:</p>\n\n<pre><code> This \n is \n a \n test \n\n This\n is\n only\n a\n test\n\n If\n there\n were\n an\n emergency,\n then\n Information\n would\n be\n provided\n for\n you\n</code></pre>\n\n<p>From here I could somehow extract the words that have either nothing above them (start of file) or a blank space, but I am unsure of exactly how to do this.</p>\n"}, {"tags": ["json", "perl"], "answers": [{"comments": [{"owner": {"reputation": 8273, "user_id": 1334695, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/431ae6e9f7610b9d6a6a6cdebd0244d5?s=128&d=identicon&r=PG", "display_name": "stevieb", "link": "https://stackoverflow.com/users/1334695/stevieb"}, "edited": false, "score": 1, "creation_date": 1473865681, "post_id": 39493843, "comment_id": 66305226, "body": "writing back to the same array works as well, if one doesn&#39;t need/want to create a new one: <code>@$jsn = grep {...} @$jsn;</code>"}, {"owner": {"reputation": 1824, "user_id": 2086839, "user_type": "registered", "accept_rate": 68, "profile_image": "https://i.stack.imgur.com/xK91o.jpg?s=128&g=1", "display_name": "Simon.", "link": "https://stackoverflow.com/users/2086839/simon"}, "edited": false, "score": 0, "creation_date": 1473866194, "post_id": 39493843, "comment_id": 66305606, "body": "This is exactly what i was looking for. I knew Perl could do something like this, neatly &amp; one-liner style :)"}], "tags": [], "owner": {"reputation": 793701, "user_id": 19068, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/1d2d3229ed1961d2bd81853242493247?s=128&d=identicon&r=PG", "display_name": "Quentin", "link": "https://stackoverflow.com/users/19068/quentin"}, "is_accepted": true, "score": 7, "last_activity_date": 1473865446, "creation_date": 1473865446, "answer_id": 39493843, "question_id": 39493742, "link": "https://stackoverflow.com/questions/39493742/how-to-remove-an-object-from-an-array-in-perl/39493843#39493843", "title": "How to remove an object from an array in Perl", "body": "<p><a href=\"http://perldoc.perl.org/functions/grep.html\"><code>grep</code> is your friend</a> here. It creates a new list of elements in an existing list that match an expression.</p>\n\n<pre><code>my @filtered = grep { $_-&gt;{ip} ne '1.2.3.4' } @$jsn;\n</code></pre>\n"}], "owner": {"reputation": 1824, "user_id": 2086839, "user_type": "registered", "accept_rate": 68, "profile_image": "https://i.stack.imgur.com/xK91o.jpg?s=128&g=1", "display_name": "Simon.", "link": "https://stackoverflow.com/users/2086839/simon"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 327, "favorite_count": 0, "accepted_answer_id": 39493843, "answer_count": 1, "score": 0, "last_activity_date": 1473865446, "creation_date": 1473865187, "question_id": 39493742, "link": "https://stackoverflow.com/questions/39493742/how-to-remove-an-object-from-an-array-in-perl", "title": "How to remove an object from an array in Perl", "body": "<p>I have a JSON string strcutred like so:\n<code>[{\"ip\":\"\", \"comment\":\"\"}, {\"ip\":\"\", \"comment\":\"\"}]</code></p>\n\n<p>I'm trying to figure out how to remove one of these objects by identification from the IP and/or comment keys.</p>\n\n<p>The closest i've got so far is this:</p>\n\n<pre><code>my $jsn = decode_json('[{\"ip\":\"1.2.3.4\", \"comment\":\"one\"}, {\"ip\":\"10.10.10.10\",\"comment\":\"two\"}]');\n\nforeach(@{$jsn}){\n        if($_-&gt;{ip} eq '1.2.3.4'){\n                print \"Found!\";\n                splice @{$jsn}, $_, 1;\n        }\n}\n</code></pre>\n\n<p>I know splice doesn't work in this example. If i could get the index of the object (ideally without a counter), i think i could then remove the correct object.</p>\n"}, {"tags": ["perl", "google-chrome"], "comments": [{"owner": {"reputation": 50468, "user_id": 1331451, "user_type": "registered", "accept_rate": 96, "profile_image": "https://i.stack.imgur.com/4ZPmj.png?s=128&g=1", "display_name": "simbabque", "link": "https://stackoverflow.com/users/1331451/simbabque"}, "edited": false, "score": 0, "creation_date": 1473860238, "post_id": 39491746, "comment_id": 66301266, "body": "There is Selenium. Look at <a href=\"https://metacpan.org/pod/Selenium::Chrome\" rel=\"nofollow noreferrer\">metacpan.org/pod/Selenium::Chrome</a>. But I believe you also need to install something. Perl might not be the right tool here."}, {"owner": {"reputation": 920, "user_id": 4819884, "user_type": "registered", "accept_rate": 90, "profile_image": "https://www.gravatar.com/avatar/5b96c68654d5ecce5ace521d7371fec5?s=128&d=identicon&r=PG&f=1", "display_name": "yonyon100", "link": "https://stackoverflow.com/users/4819884/yonyon100"}, "reply_to_user": {"reputation": 50468, "user_id": 1331451, "user_type": "registered", "accept_rate": 96, "profile_image": "https://i.stack.imgur.com/4ZPmj.png?s=128&g=1", "display_name": "simbabque", "link": "https://stackoverflow.com/users/1331451/simbabque"}, "edited": false, "score": 0, "creation_date": 1473860684, "post_id": 39491746, "comment_id": 66301612, "body": "@simbabque I also thought of that, but I was asked to do it in Perl nonetheless. Don&#39;t know why. Now I&#39;m more curious what&#39;s the Perl way of doing it."}, {"owner": {"reputation": 1133, "user_id": 2185890, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/330b262ed789de0997e720dce8ee1af0?s=128&d=identicon&r=PG", "display_name": "LaintalAy", "link": "https://stackoverflow.com/users/2185890/laintalay"}, "edited": false, "score": 0, "creation_date": 1474215271, "post_id": 39491746, "comment_id": 66430169, "body": "@yonyon100 I think that it is quite strange to be asked to do a task but not to have IT support for doing it :s I did have a similar problem (but &#39;personal&#39; in the company laptop) and I solved it with a &#39;standalone python&#39; + selenium. It was possible to command chrome without problems. Another possibility could also be using PowerShell + IE8, there&#39;s some built-in automation you may find useful."}, {"owner": {"reputation": 320771, "user_id": 589924, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/b2cf53d5a3d25f95c0db4e025aed4153?s=128&d=identicon&r=PG", "display_name": "ikegami", "link": "https://stackoverflow.com/users/589924/ikegami"}, "edited": false, "score": 0, "creation_date": 1474339261, "post_id": 39491746, "comment_id": 66479582, "body": "If Chrome can reach the internet, so can WWW::Mechanize. You simply didn&#39;t craft your request correctly, or you didn&#39;t use the correct proxy, or ..."}, {"owner": {"reputation": 6068, "user_id": 1799189, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/s4Pcu.jpg?s=128&g=1", "display_name": "xxfelixxx", "link": "https://stackoverflow.com/users/1799189/xxfelixxx"}, "edited": false, "score": 0, "creation_date": 1474466122, "post_id": 39491746, "comment_id": 66543305, "body": "When you say it blocks <code>$mech-&gt;get(...)</code> requests, what error do you get?  Many companies force browsers to use a proxy for screening what you are surfing (McAfee and such), you may need to set that in WWW::Mechanize to get to the outside world."}], "answers": [{"comments": [{"owner": {"reputation": 920, "user_id": 4819884, "user_type": "registered", "accept_rate": 90, "profile_image": "https://www.gravatar.com/avatar/5b96c68654d5ecce5ace521d7371fec5?s=128&d=identicon&r=PG&f=1", "display_name": "yonyon100", "link": "https://stackoverflow.com/users/4819884/yonyon100"}, "edited": false, "score": 0, "creation_date": 1473950074, "post_id": 39501990, "comment_id": 66343452, "body": "Apparently, I can&#39;t install that either. Seems like the old netadmin installed <code>WWW::Mechanize::Firefox</code> for some reason, but the new one doesn&#39;t let me install new modules... but thanks for introducing this module to me!"}], "tags": [], "owner": {"reputation": 160, "user_id": 6027771, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/d6e6b84a2a791c8e260ed0b95cbac292?s=128&d=identicon&r=PG&f=1", "display_name": "dasgar", "link": "https://stackoverflow.com/users/6027771/dasgar"}, "is_accepted": false, "score": 0, "last_activity_date": 1473903612, "creation_date": 1473903612, "answer_id": 39501990, "question_id": 39491746, "link": "https://stackoverflow.com/questions/39491746/controlling-google-chrome-via-perl-script/39501990#39501990", "title": "Controlling Google Chrome via Perl script", "body": "<p>Since you mentioned IE8, I'm assuming that you're dealing with a Windows system.  And since you mentioned that you had considered WWW:Mechanix::Firefox, it sounds like you are not being restricted to just core modules.</p>\n\n<p>Based on that, the only way that I can think of to automate the Chrome broswer would be to use <a href=\"https://metacpan.org/pod/Win32::GuiTest\" rel=\"nofollow\">Win32::GuiTest</a> to control the Chrome browser.  If you can figure out how to manually drive your testing using only keyboard input (i.e. no mouse), that would make things easier than trying to figure out the mouse emulation to get the cursor to the correct position for various tasks.</p>\n\n<p>I'm not sure if that's necessarily a route that you will like to use or not.  It's just the only way that I can think of to accomplish what you want to do with the restrictions that you have to deal with.</p>\n"}, {"tags": [], "owner": {"reputation": 32176, "user_id": 2173773, "user_type": "registered", "accept_rate": 86, "profile_image": "https://i.stack.imgur.com/M8yh6.jpg?s=128&g=1", "display_name": "H&#229;kon H&#230;gland", "link": "https://stackoverflow.com/users/2173773/h%c3%a5kon-h%c3%a6gland"}, "is_accepted": false, "score": 0, "last_activity_date": 1598195665, "last_edit_date": 1598195665, "creation_date": 1474550344, "answer_id": 39640217, "question_id": 39491746, "link": "https://stackoverflow.com/questions/39491746/controlling-google-chrome-via-perl-script/39640217#39640217", "title": "Controlling Google Chrome via Perl script", "body": "<p>You can also do this from scratch without using any CPAN modules.\nI tested this on Linux (Ubuntu 16.04, Google Chrome version 53) using Unix Domain (UD)\nsockets. Unfortunately, it seems Windows does not have UD sockets, but\nit should be possible to do same from Windows using named pipes.</p>\n<p>First, make sure <code>google-chrome</code> is running in the background. We will\nneed to create a <a href=\"https://developer.chrome.com/apps/about_apps\" rel=\"nofollow noreferrer\">Chrome App\n</a> that will communicate\nwith a native host through the <a href=\"https://developer.chrome.com/extensions/nativeMessaging\" rel=\"nofollow noreferrer\">native messaging\nAPI</a>. The\nnative host can be any script that reads messages from its <code>STDIN</code> and\nreturns replies through its <code>STDOUT</code>. I tested both a Python\nscript and a Perl script.</p>\n<p>Now, in order for a standalone Perl script to communicate with the\nChrome browser, it will send request through a UD socket (created by\nthe native host) to the native host; the native host will then\nforward the request to <code>google-chrome</code> through its standard output\npipe. Then the Chrome App (written in JavaScript)\nwill receive the request. The Chrome App will use the Chrome\nJavaScript APIs to get the requested data and return it to the native\nhost. Finally, the native host forwards the result through the socket to\nthe Perl script.</p>\n<p>As you can see, there are some details required for setting this up, but I can\nconfirm that it works on my Linux platform. Please let me know if you need more\ndetails.</p>\n"}, {"tags": [], "owner": {"reputation": 1786, "user_id": 1820650, "user_type": "registered", "accept_rate": 90, "profile_image": "https://www.gravatar.com/avatar/ce47757627908a1013e0951158f4c2e6?s=128&d=identicon&r=PG", "display_name": "Dr.Avalanche", "link": "https://stackoverflow.com/users/1820650/dr-avalanche"}, "is_accepted": false, "score": 1, "last_activity_date": 1590235359, "last_edit_date": 1592644375, "creation_date": 1590235359, "answer_id": 61971734, "question_id": 39491746, "link": "https://stackoverflow.com/questions/39491746/controlling-google-chrome-via-perl-script/61971734#61971734", "title": "Controlling Google Chrome via Perl script", "body": "<blockquote>\n<p>Is there another way to work around this problem/control Chrome from\nwithin a Perl script?</p>\n</blockquote>\n<p><a href=\"https://metacpan.org/pod/WWW::Mechanize::Chrome\" rel=\"nofollow noreferrer\">WWW::Mechanize::Chrome</a></p>\n<blockquote>\n<p>Like WWW::Mechanize, this module automates web browsing with a Perl object. Fetching and rendering of web pages is delegated to the Chrome (or Chromium) browser by starting an instance of the browser and controlling it with Chrome DevTools.</p>\n</blockquote>\n"}], "owner": {"reputation": 920, "user_id": 4819884, "user_type": "registered", "accept_rate": 90, "profile_image": "https://www.gravatar.com/avatar/5b96c68654d5ecce5ace521d7371fec5?s=128&d=identicon&r=PG&f=1", "display_name": "yonyon100", "link": "https://stackoverflow.com/users/4819884/yonyon100"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 2217, "favorite_count": 2, "answer_count": 3, "score": 8, "last_activity_date": 1598195665, "creation_date": 1473859656, "last_edit_date": 1540750453, "question_id": 39491746, "link": "https://stackoverflow.com/questions/39491746/controlling-google-chrome-via-perl-script", "title": "Controlling Google Chrome via Perl script", "body": "<p>I was looking for a way to check for changes in a specific URL provided by the user. I wrote a script that I ran at home that can do that successfully using <code>WWW::Mechanize</code>. The thing is, I need to run it in another computer network that has a group policy that blocks all <code>$mech-&gt;get($url)</code> requests (it's not firewall problems, I let Perl through), so I thought I'll try and work around this problem by letting Perl control the web browser.</p>\n\n<p>The computers in the network run Google Chrome and IE8 only and I can't install Firefox due to another policy (thought of using <code>WWW::Mechanize::Firefox</code>). I don't want to invoke IE8 in the script because most of the URLs that will be provided will be of websites that don't work well with it, so that leaves me with Chrome only.</p>\n\n<p>Searching for a module that can do that, I only found <a href=\"http://search.cpan.org/~dschwei/AnyEvent-Chromi-1.00/lib/AnyEvent/Chromi.pm\"><code>AnyEvent::Chromi</code></a>:</p>\n\n<blockquote>\n  <p>which exposes all of the Chrome Extensions API via a websocket connection.</p>\n</blockquote>\n\n<p>This doesn't work (the policy probably blocks that websocket as well).</p>\n\n<p>Is there another way to work around this problem/control Chrome from within a Perl script?</p>\n"}, {"tags": ["perl"], "answers": [{"tags": [], "owner": {"reputation": 51521, "user_id": 2566198, "user_type": "registered", "accept_rate": 67, "profile_image": "https://i.stack.imgur.com/Y34ZA.jpg?s=128&g=1", "display_name": "Sobrique", "link": "https://stackoverflow.com/users/2566198/sobrique"}, "is_accepted": true, "score": 3, "last_activity_date": 1473865835, "last_edit_date": 1473865835, "creation_date": 1473859671, "answer_id": 39491750, "question_id": 39491694, "link": "https://stackoverflow.com/questions/39491694/split-array-in-perl-from-new-line-to-tab-separated/39491750#39491750", "title": "Split array in Perl from new line to tab separated", "body": "<p>If it's not uniformly separated, then what's useful to know is that:</p>\n\n<p><code>split</code> by default does \"any whitespace\"</p>\n\n<p>So you can just do:</p>\n\n<pre><code>#!/usr/bin/env perl\n\nuse strict;\nuse warnings;\n\nwhile ( &lt;DATA&gt; ) {\n    my @array = split;\n    print $array[8],\"\\n\";\n}\n\n__DATA__\n4.8e-38  140.9   4.3    5.8e-38  140.6   4.3    1.1  1  NP_001275340.1  ELF4-like protein [Solanum tuberosum]XP_0063\n4.8e-38  140.9   4.3    5.8e-38  140.6   4.3    1.1  1  XP_015080718.1  PREDICTED: protein ELF4-LIKE 3-like isoform X\n5.3e-38  140.7   4.4    6.3e-38  140.5   4.4    1.1  1  XP_016481343.1  PREDICTED: protein ELF4-LIKE 4-like [Nicotian\n5.4e-38  140.7   5.1    6.6e-38  140.4   5.1    1.1  1  XP_009784404.1  PREDICTED: protein ELF4-LIKE 4-like [Nicotian\n</code></pre>\n\n<p>But <code>split</code> also allows you do specify a <code>regex</code>. </p>\n\n<pre><code>my @array = split /(?:\\t| +)/; \n</code></pre>\n\n<p>Which would let you split on tab <em>or</em> one or more spaces, but not getting caught out double-tab for an empty field. Note - that you need <code>?:</code> because <code>split</code> ... will capture, and add it to the list it's returning. </p>\n\n<p>And it also lets you specify a field limit - because your 'last' field looks like it's a description:</p>\n\n<pre><code>my @array = split ' ', $_, 10;\n</code></pre>\n\n<p>This will work the same for <code>$array[8]</code> but <code>$array[9]</code> will contain: \"PREDICTED: protein ELF4-LIKE 3-like isoform X\"</p>\n\n<p>The real root of your problem though, is that if you've read all of the file into an array already - what you have is an array of lines. </p>\n\n<p>You can transform this - either at input time (as in the above examples) or via <code>map</code>:</p>\n\n<pre><code>#!/usr/bin/env perl\n\nuse strict;\nuse warnings;\nuse Data::Dumper;\n\nmy @input = &lt;DATA&gt;;\nprint Dumper \\@input;\nprint join \"\\n\", map { (split)[8] } @input;\n\n__DATA__\n4.8e-38  140.9   4.3    5.8e-38  140.6   4.3    1.1  1  NP_001275340.1  ELF4-like protein [Solanum tuberosum]XP_0063\n4.8e-38  140.9   4.3    5.8e-38  140.6   4.3    1.1  1  XP_015080718.1  PREDICTED: protein ELF4-LIKE 3-like isoform X\n5.3e-38  140.7   4.4    6.3e-38  140.5   4.4    1.1  1  XP_016481343.1  PREDICTED: protein ELF4-LIKE 4-like [Nicotian\n5.4e-38  140.7   5.1    6.6e-38  140.4   5.1    1.1  1  XP_009784404.1  PREDICTED: protein ELF4-LIKE 4-like [Nicotian\n</code></pre>\n\n<p>In the above example, <code>map</code> iterates each element of <code>@input</code>, does a split, and selects field 8 - and returns that as a list.</p>\n\n<p>So you could:</p>\n\n<pre><code>my @identifiers = map { (split)[8] } @input; \n</code></pre>\n\n<p>Note - <code>split</code> is still working the same, e.g. defaulting to splitting the current element on whitespace.</p>\n"}], "owner": {"reputation": 383, "user_id": 3181681, "user_type": "registered", "accept_rate": 94, "profile_image": "https://www.gravatar.com/avatar/e9059360247a8f344cc8ced514897074?s=128&d=identicon&r=PG&f=1", "display_name": "Vinay", "link": "https://stackoverflow.com/users/3181681/vinay"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 561, "favorite_count": 1, "accepted_answer_id": 39491750, "answer_count": 1, "score": 0, "last_activity_date": 1473865835, "creation_date": 1473859519, "last_edit_date": 1473859677, "question_id": 39491694, "link": "https://stackoverflow.com/questions/39491694/split-array-in-perl-from-new-line-to-tab-separated", "title": "Split array in Perl from new line to tab separated", "body": "<p>I have data in following format:  </p>\n\n<pre><code>4.8e-38  140.9   4.3    5.8e-38  140.6   4.3    1.1  1  NP_001275340.1  ELF4-like protein [Solanum tuberosum]XP_0063\n4.8e-38  140.9   4.3    5.8e-38  140.6   4.3    1.1  1  XP_015080718.1  PREDICTED: protein ELF4-LIKE 3-like isoform X\n5.3e-38  140.7   4.4    6.3e-38  140.5   4.4    1.1  1  XP_016481343.1  PREDICTED: protein ELF4-LIKE 4-like [Nicotian\n5.4e-38  140.7   5.1    6.6e-38  140.4   5.1    1.1  1  XP_009784404.1  PREDICTED: protein ELF4-LIKE 4-like [Nicotian\n</code></pre>\n\n<p>I have created an Perl array where elements are stored in new line. For example, If I print <code>$ARRAY[0]</code>, it gives output as:</p>\n\n<pre><code>4.8e-38  140.9   4.3    5.8e-38  140.6   4.3    1.1  1  NP_001275340.1  ELF4-like protein [Solanum tuberosum]XP_0063.\n</code></pre>\n\n<p>What I need is to split array in columns, so that if I <code>print \"$ARRAY[8]\"</code>, the output should be the list of identifiers/accession numbers (<code>NP_001275340.1, XP_015080718.1</code> ).</p>\n\n<p>I have tried using split function, but as the data is not uniformly separated (e.g., by tab or space), I am not able to do that. Any suggestions?</p>\n"}, {"tags": ["regex", "perl", "csv", "quotes", "comma"], "answers": [{"comments": [{"owner": {"reputation": 15, "user_id": 6831054, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/c8850a2dc034a20856fc30e80578ace2?s=128&d=identicon&r=PG&f=1", "display_name": "Lyle Reger", "link": "https://stackoverflow.com/users/6831054/lyle-reger"}, "edited": false, "score": 0, "creation_date": 1473863261, "post_id": 39492132, "comment_id": 66303475, "body": "Thanks for the quick, and easy answer. Got my self so deep in one box I did not think to look in the other."}], "tags": [], "owner": {"reputation": 62184, "user_id": 7231, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/81b76985f3985e35492e25880493d045?s=128&d=identicon&r=PG", "display_name": "Dave Cross", "link": "https://stackoverflow.com/users/7231/dave-cross"}, "is_accepted": true, "score": 1, "last_activity_date": 1473860746, "creation_date": 1473860746, "answer_id": 39492132, "question_id": 39491550, "link": "https://stackoverflow.com/questions/39491550/parse-csv-with-embedded-quotes-on-mixed-string/39492132#39492132", "title": "Parse CSV with embedded quotes on mixed string", "body": "<p>You can do with with <a href=\"https://metacpan.org/pod/Text::ParseWords\" rel=\"nofollow\">Text::ParseWords</a> which has been included in the standard Perl distribution since forever.</p>\n\n<pre><code>#!/usr/bin/perl\n\nuse strict;\nuse warnings;\nuse Text::ParseWords;\nuse Data::Dumper;\n\nmy $str3 = '09/11/2016 22:05:00 +0000, search_name=\"ThreatInjection - Rule\", search_now=1473644880.000, search=\"bunchof|stuff1,bunch%of-stuff2\", count=100';\n\nmy @details = parse_line(',\\s*', 1, $str3);\n\nprint Dumper \\@details;\n</code></pre>\n\n<p>Output:</p>\n\n<pre><code>$VAR1 = [\n          '09/11/2016 22:05:00 +0000',\n          'search_name=\"ThreatInjection - Rule\"',\n          'search_now=1473644880.000',\n          'search=\"bunchof|stuff1,bunch%of-stuff2\"',\n          'count=100'\n        ];\n</code></pre>\n"}], "owner": {"reputation": 15, "user_id": 6831054, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/c8850a2dc034a20856fc30e80578ace2?s=128&d=identicon&r=PG&f=1", "display_name": "Lyle Reger", "link": "https://stackoverflow.com/users/6831054/lyle-reger"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 111, "favorite_count": 0, "accepted_answer_id": 39492132, "answer_count": 1, "score": 1, "last_activity_date": 1473860746, "creation_date": 1473859152, "question_id": 39491550, "link": "https://stackoverflow.com/questions/39491550/parse-csv-with-embedded-quotes-on-mixed-string", "title": "Parse CSV with embedded quotes on mixed string", "body": "<p>I have looked around, but cannot find a tidy working solution to this. I have been trying to use TEXT:CSV_XS so this is not about merely doing something the hard way with a regex. I may not be able to easily install TEXT::CSV, but I do have the XS version.</p>\n\n<p>I simply need to parse into csv fields, which I will later break down into kv pairs. </p>\n\n<pre><code>use Text::CSV_XS;\nuse Data::Dumper;\n\nmy $csv = Text::CSV_XS-&gt;new ({ allow_loose_quotes =&gt; 1, \n                               allow_whitespace =&gt; 1,  \n                               eol =&gt; $/ });\n\nmy $str3 = '09/11/2016 22:05:00 +0000, search_name=\"ThreatInjection - Rule\", search_now=1473644880.000, search=\"bunchof|stuff1,bunch%of-stuff2\", count=100';\n\nmy $status  = $csv-&gt;parse($str3);\nmy @details = $csv-&gt;fields();\nprint $csv-&gt;error_diag ();\nprint Dumper(\\@details);\n</code></pre>\n\n<p>Resulting output is:</p>\n\n<pre><code>$VAR1 = [\n      '09/11/2016 22:05:00 +0000',\n      'search_name=\"ThreatInjection - Rule\"',\n      'search_now=1473644880.000',\n      'search=\"bunchof|stuff1',\n      'bunch%of-stuff2\"',\n      'count=100'\n    ];\n</code></pre>\n\n<p>So, the ask is to get search=\"bunchof|stuff1,bunch%of-stuff2\" to remain in one field. I am sure the answer is simple, but, a bit stumped none the less. Any help appreciated.</p>\n"}, {"tags": ["html", "forms", "perl", "www-mechanize"], "comments": [{"owner": {"reputation": 15560, "user_id": 709439, "user_type": "registered", "accept_rate": 92, "profile_image": "https://www.gravatar.com/avatar/19b5c7e6c2772d88adcbd928daddc170?s=128&d=identicon&r=PG", "display_name": "MarcoS", "link": "https://stackoverflow.com/users/709439/marcos"}, "edited": false, "score": 0, "creation_date": 1473858877, "post_id": 39491387, "comment_id": 66300323, "body": "You should show your code using the &quot;value&quot; method... :-)"}, {"owner": {"reputation": 129, "user_id": 6669003, "user_type": "registered", "accept_rate": 92, "profile_image": "https://www.gravatar.com/avatar/d6d8f0db03cf2468997a8765218fea2e?s=128&d=identicon&r=PG&f=1", "display_name": "Aditya J.", "link": "https://stackoverflow.com/users/6669003/aditya-j"}, "reply_to_user": {"reputation": 15560, "user_id": 709439, "user_type": "registered", "accept_rate": 92, "profile_image": "https://www.gravatar.com/avatar/19b5c7e6c2772d88adcbd928daddc170?s=128&d=identicon&r=PG", "display_name": "MarcoS", "link": "https://stackoverflow.com/users/709439/marcos"}, "edited": false, "score": 0, "creation_date": 1473859091, "post_id": 39491387, "comment_id": 66300456, "body": "I just added my whole code so far. I don&#39;t use the &quot;value&quot; method. At least I think I don&#39;t"}, {"owner": {"reputation": 53041, "user_id": 4653379, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/b3953dbedd0dabff5cbc3db9b0835b14?s=128&d=identicon&r=PG&f=1", "display_name": "zdim", "link": "https://stackoverflow.com/users/4653379/zdim"}, "edited": false, "score": 0, "creation_date": 1473877030, "post_id": 39491387, "comment_id": 66311722, "body": "Some options for Javascript are listed in <a href=\"http://stackoverflow.com/questions/12655231/cant-use-perl-wwwmechanize-to-tick-checkboxes\"><code>this post</code></a>.  For one thing, <a href=\"http://search.cpan.org/~corion/WWW-Mechanize-Firefox-0.79/lib/WWW/Mechanize/Firefox.pm\" rel=\"nofollow noreferrer\"><code>WWW::Mechanize::Firefox</code></a> that you ask about is certainly a solution -- then the browser does it for you.  There&#39;s more, as well."}, {"owner": {"reputation": 129, "user_id": 6669003, "user_type": "registered", "accept_rate": 92, "profile_image": "https://www.gravatar.com/avatar/d6d8f0db03cf2468997a8765218fea2e?s=128&d=identicon&r=PG&f=1", "display_name": "Aditya J.", "link": "https://stackoverflow.com/users/6669003/aditya-j"}, "edited": false, "score": 0, "creation_date": 1473882502, "post_id": 39491387, "comment_id": 66314571, "body": "Firefox can autofill my username and password. I&#39;m still having trouble finding the log in button. <code>click_button(n=&gt;1)</code> terminates the code with this error: 3 elements found for <code>&#47;&#47;*[translate(local-name(.), &quot;ABCDEFGHIJKLMNOPQRSTUVWXYZ&quot;, &quot;abcdefghijklmnopqrstuvwxyz&quot;) = &quot;button&quot; or (translate(local-name(.), &quot;ABCDEFGHIJKLMNOPQRSTUVWXYZ&quot;, &quot;abcdefghijklmnopqrstuvwxyz&quot;) = &quot;input&quot; and @type=&quot;submit&quot;)][1] at test.pl line 10.</code>. However, the login button as well as the &quot;?&quot; button are highlighted red in the tab (I used <code>autoclose_tab( 0 )</code> to observe this)."}], "answers": [{"comments": [{"owner": {"reputation": 129, "user_id": 6669003, "user_type": "registered", "accept_rate": 92, "profile_image": "https://www.gravatar.com/avatar/d6d8f0db03cf2468997a8765218fea2e?s=128&d=identicon&r=PG&f=1", "display_name": "Aditya J.", "link": "https://stackoverflow.com/users/6669003/aditya-j"}, "edited": false, "score": 0, "creation_date": 1473859432, "post_id": 39491521, "comment_id": 66300691, "body": "I&#39;m pretty sure there is a form, but with no name. The page has &lt;form&gt; and &lt;/form&gt; in its html, but I&#39;m a newbie to HTML."}, {"owner": {"reputation": 15560, "user_id": 709439, "user_type": "registered", "accept_rate": 92, "profile_image": "https://www.gravatar.com/avatar/19b5c7e6c2772d88adcbd928daddc170?s=128&d=identicon&r=PG", "display_name": "MarcoS", "link": "https://stackoverflow.com/users/709439/marcos"}, "reply_to_user": {"reputation": 129, "user_id": 6669003, "user_type": "registered", "accept_rate": 92, "profile_image": "https://www.gravatar.com/avatar/d6d8f0db03cf2468997a8765218fea2e?s=128&d=identicon&r=PG&f=1", "display_name": "Aditya J.", "link": "https://stackoverflow.com/users/6669003/aditya-j"}, "edited": false, "score": 0, "creation_date": 1473859523, "post_id": 39491521, "comment_id": 66300749, "body": "Are you really sure? I don&#39;t see any &lt;form&gt;&lt;/form&gt;, with or without a name, on that page source... :-("}, {"owner": {"reputation": 50468, "user_id": 1331451, "user_type": "registered", "accept_rate": 96, "profile_image": "https://i.stack.imgur.com/4ZPmj.png?s=128&g=1", "display_name": "simbabque", "link": "https://stackoverflow.com/users/1331451/simbabque"}, "edited": false, "score": 2, "creation_date": 1473859997, "post_id": 39491521, "comment_id": 66301097, "body": "Yes, there is no form in there. It&#39;s all generated client-side. Scraping this without a JS engine is going to be hard."}, {"owner": {"reputation": 129, "user_id": 6669003, "user_type": "registered", "accept_rate": 92, "profile_image": "https://www.gravatar.com/avatar/d6d8f0db03cf2468997a8765218fea2e?s=128&d=identicon&r=PG&f=1", "display_name": "Aditya J.", "link": "https://stackoverflow.com/users/6669003/aditya-j"}, "edited": false, "score": 0, "creation_date": 1473861095, "post_id": 39491521, "comment_id": 66301928, "body": "ah, well. How should I approach this problem?"}, {"owner": {"reputation": 129, "user_id": 6669003, "user_type": "registered", "accept_rate": 92, "profile_image": "https://www.gravatar.com/avatar/d6d8f0db03cf2468997a8765218fea2e?s=128&d=identicon&r=PG&f=1", "display_name": "Aditya J.", "link": "https://stackoverflow.com/users/6669003/aditya-j"}, "edited": false, "score": 0, "creation_date": 1473861464, "post_id": 39491521, "comment_id": 66302205, "body": "I found a module JavaScript::Engine. Could this help?"}, {"owner": {"reputation": 15560, "user_id": 709439, "user_type": "registered", "accept_rate": 92, "profile_image": "https://www.gravatar.com/avatar/19b5c7e6c2772d88adcbd928daddc170?s=128&d=identicon&r=PG", "display_name": "MarcoS", "link": "https://stackoverflow.com/users/709439/marcos"}, "edited": false, "score": 0, "creation_date": 1473861488, "post_id": 39491521, "comment_id": 66302224, "body": "You could use for example <i>PhantomJS</i> (<a href=\"http://phantomjs.org/\" rel=\"nofollow noreferrer\">phantomjs.org</a>) or <i>Extracty</i> (<a href=\"https://extracty.com/\" rel=\"nofollow noreferrer\">extracty.com</a>)..."}, {"owner": {"reputation": 15560, "user_id": 709439, "user_type": "registered", "accept_rate": 92, "profile_image": "https://www.gravatar.com/avatar/19b5c7e6c2772d88adcbd928daddc170?s=128&d=identicon&r=PG", "display_name": "MarcoS", "link": "https://stackoverflow.com/users/709439/marcos"}, "edited": false, "score": 0, "creation_date": 1473861691, "post_id": 39491521, "comment_id": 66302385, "body": "<a href=\"http://search.cpan.org/dist/JE/lib/JavaScript/Engine.pm\" rel=\"nofollow noreferrer\">search.cpan.org/dist/JE/lib/JavaScript/Engine.pm</a> ? You can give it a try... Be warned it will not be such a simple job as with WWW::Mechanize... :-("}, {"owner": {"reputation": 129, "user_id": 6669003, "user_type": "registered", "accept_rate": 92, "profile_image": "https://www.gravatar.com/avatar/d6d8f0db03cf2468997a8765218fea2e?s=128&d=identicon&r=PG&f=1", "display_name": "Aditya J.", "link": "https://stackoverflow.com/users/6669003/aditya-j"}, "edited": false, "score": 0, "creation_date": 1473869834, "post_id": 39491521, "comment_id": 66307893, "body": "Perhaps www::mechanize::Firefox would do the job?"}], "tags": [], "owner": {"reputation": 15560, "user_id": 709439, "user_type": "registered", "accept_rate": 92, "profile_image": "https://www.gravatar.com/avatar/19b5c7e6c2772d88adcbd928daddc170?s=128&d=identicon&r=PG", "display_name": "MarcoS", "link": "https://stackoverflow.com/users/709439/marcos"}, "is_accepted": false, "score": 5, "last_activity_date": 1473859095, "creation_date": 1473859095, "answer_id": 39491521, "question_id": 39491387, "link": "https://stackoverflow.com/questions/39491387/wwwmechanize-unable-to-find-form/39491521#39491521", "title": "WWW::Mechanize: Unable to find Form", "body": "<p>Probably <code>$ua -&gt; form_number(1);</code> is failing, since the page you are trying to scrape (<a href=\"https://www.remind.com/log_in\" rel=\"noreferrer\">https://www.remind.com/log_in</a>) has no forms in it...</p>\n\n<p>You should analyze the page, looking at it's source code (<a href=\"http://view-source:https://www.remind.com/log_in\" rel=\"noreferrer\">view-source:https://www.remind.com/log_in</a>) ... :-)</p>\n"}], "owner": {"reputation": 129, "user_id": 6669003, "user_type": "registered", "accept_rate": 92, "profile_image": "https://www.gravatar.com/avatar/d6d8f0db03cf2468997a8765218fea2e?s=128&d=identicon&r=PG&f=1", "display_name": "Aditya J.", "link": "https://stackoverflow.com/users/6669003/aditya-j"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 145, "favorite_count": 0, "answer_count": 1, "score": -1, "last_activity_date": 1473859095, "creation_date": 1473858757, "last_edit_date": 1473859084, "question_id": 39491387, "link": "https://stackoverflow.com/questions/39491387/wwwmechanize-unable-to-find-form", "title": "WWW::Mechanize: Unable to find Form", "body": "<p>I'm trying to automate logging in to a website. The website is <a href=\"https://www.remind.com/log_in\" rel=\"nofollow\">https://www.remind.com/log_in</a>. Using <code>dump_forms</code> gives no forms on the page. I tried using this to submit the form anyway, but this fails to compile:</p>\n\n<pre><code>use strict;\nuse warnings;\nuse WWW::Mechanize;\n\nmy $ua = WWW::Mechanize -&gt; new();\nmy $remind = 'https://www.remind.com/log_in';\n$ua -&gt; get ($remind);\n$ua -&gt; form_number(1);\nmy $uid = 'user@name.com';\n$ua-&gt;field(\"uid\", $uid );\nmy $password = 'passcode';\n$ua-&gt;field(\"password\", $password);\n</code></pre>\n\n<p>But this fails. Here is the error:\n<code>Can't call method \"value\" on an undefined value</code></p>\n\n<p>I'm at a loss as to what the problem is.</p>\n"}, {"tags": ["javascript", "perl", "cgi"], "comments": [{"owner": {"reputation": 50468, "user_id": 1331451, "user_type": "registered", "accept_rate": 96, "profile_image": "https://i.stack.imgur.com/4ZPmj.png?s=128&g=1", "display_name": "simbabque", "link": "https://stackoverflow.com/users/1331451/simbabque"}, "edited": false, "score": 0, "creation_date": 1473854345, "post_id": 39488938, "comment_id": 66297313, "body": "Where is your HTML/JS generated? Does the same Perl program that contains the <code>$USERID = $ENV...</code> line also output the HTML?"}], "answers": [{"comments": [{"owner": {"reputation": 554, "user_id": 241593, "user_type": "registered", "accept_rate": 67, "profile_image": "https://www.gravatar.com/avatar/3d7e4eed5740c864a766640424643d5b?s=128&d=identicon&r=PG", "display_name": "Jaron787", "link": "https://stackoverflow.com/users/241593/jaron787"}, "edited": false, "score": 0, "creation_date": 1473858995, "post_id": 39489005, "comment_id": 66300397, "body": "<a href=\"https://jsfiddle.net/Jaron787/cdwagydf/\" rel=\"nofollow noreferrer\">jsfiddle.net/Jaron787/cdwagydf</a> - I can&#39;t seem to get this to work, please try with this example"}, {"owner": {"reputation": 1851, "user_id": 3045568, "user_type": "registered", "accept_rate": 33, "profile_image": "https://www.gravatar.com/avatar/5e2fdfebcbb631532bb9ff994639b5fe?s=128&d=identicon&r=PG&f=1", "display_name": "Techidiot", "link": "https://stackoverflow.com/users/3045568/techidiot"}, "reply_to_user": {"reputation": 554, "user_id": 241593, "user_type": "registered", "accept_rate": 67, "profile_image": "https://www.gravatar.com/avatar/3d7e4eed5740c864a766640424643d5b?s=128&d=identicon&r=PG", "display_name": "Jaron787", "link": "https://stackoverflow.com/users/241593/jaron787"}, "edited": false, "score": 0, "creation_date": 1473859149, "post_id": 39489005, "comment_id": 66300490, "body": "I don&#39;t see you are passing the variable to your function. Please pass the variable to your function."}], "tags": [], "owner": {"reputation": 1851, "user_id": 3045568, "user_type": "registered", "accept_rate": 33, "profile_image": "https://www.gravatar.com/avatar/5e2fdfebcbb631532bb9ff994639b5fe?s=128&d=identicon&r=PG&f=1", "display_name": "Techidiot", "link": "https://stackoverflow.com/users/3045568/techidiot"}, "is_accepted": false, "score": 0, "last_activity_date": 1473851591, "creation_date": 1473851591, "answer_id": 39489005, "question_id": 39488938, "link": "https://stackoverflow.com/questions/39488938/perl-cgi-pass-variable-to-javascript/39489005#39489005", "title": "Perl CGI - Pass variable to JavaScript", "body": "<p>You can use something like this - ></p>\n\n<pre><code>myFunction('$USERID')\n</code></pre>\n\n<p>And the method should me something like this -></p>\n\n<pre><code>function myFunction(my_var){\n...\n}\n</code></pre>\n"}, {"comments": [{"owner": {"reputation": 554, "user_id": 241593, "user_type": "registered", "accept_rate": 67, "profile_image": "https://www.gravatar.com/avatar/3d7e4eed5740c864a766640424643d5b?s=128&d=identicon&r=PG", "display_name": "Jaron787", "link": "https://stackoverflow.com/users/241593/jaron787"}, "edited": false, "score": 0, "creation_date": 1473858679, "post_id": 39489156, "comment_id": 66300173, "body": "<a href=\"https://jsfiddle.net/Jaron787/cdwagydf/\" rel=\"nofollow noreferrer\">jsfiddle.net/Jaron787/cdwagydf</a> - I can&#39;t seem to get this to work, please try with this example"}], "tags": [], "owner": {"reputation": 5455, "user_id": 3961170, "user_type": "registered", "accept_rate": 73, "profile_image": "https://i.stack.imgur.com/PtFol.jpg?s=128&g=1", "display_name": "mkHun", "link": "https://stackoverflow.com/users/3961170/mkhun"}, "is_accepted": false, "score": 0, "last_activity_date": 1473852943, "last_edit_date": 1473852943, "creation_date": 1473852096, "answer_id": 39489156, "question_id": 39488938, "link": "https://stackoverflow.com/questions/39488938/perl-cgi-pass-variable-to-javascript/39489156#39489156", "title": "Perl CGI - Pass variable to JavaScript", "body": "<p>Use quotes </p>\n\n<pre><code>var password = prompt(\"Please Enter Unix Password for User\" + \"$USERID\");\n</code></pre>\n\n<p><strong>Explanation</strong></p>\n\n<p>Suppose <code>$USERID</code> have some data for example <code>someid</code>. You have use the <code>$USERID</code> into javascript, it means it will works as follow</p>\n\n<pre><code>var password = prompt(\"Please Enter Unix Password for User\" + someid);\n</code></pre>\n\n<p>Here javascript will consider <code>someid</code> is a javascript variable, but actually <code>someid</code> was data not a variable so use quotes.</p>\n\n<p><strong>If you working with javascript means fix the errors using console.log or console in your browser.</strong></p>\n"}], "owner": {"reputation": 554, "user_id": 241593, "user_type": "registered", "accept_rate": 67, "profile_image": "https://www.gravatar.com/avatar/3d7e4eed5740c864a766640424643d5b?s=128&d=identicon&r=PG", "display_name": "Jaron787", "link": "https://stackoverflow.com/users/241593/jaron787"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 467, "favorite_count": 1, "answer_count": 2, "score": 1, "last_activity_date": 1473852943, "creation_date": 1473851330, "question_id": 39488938, "link": "https://stackoverflow.com/questions/39488938/perl-cgi-pass-variable-to-javascript", "title": "Perl CGI - Pass variable to JavaScript", "body": "<p>I have the below Perl Code:</p>\n\n<pre><code>$USERID = $ENV{REMOTE_USER};\n</code></pre>\n\n<p>A button:</p>\n\n<pre><code>&lt;input type=\"submit\" class=\"button button1\" name=\"submitButton\" value=\"Refresh Book Ref Data\" onclick='myFunction()'&gt;\n</code></pre>\n\n<p>And the below JavaScript Function:</p>\n\n<pre><code>function myFunction() {\n    var password = prompt(\"Please Enter Unix Password\");\n    document.getElementById(\"pwvalue\").value = password;\n}\n</code></pre>\n\n<p>I want to Pass the $USERID variable into the JavaScript Function so I can put:</p>\n\n<pre><code>var password = prompt(\"Please Enter Unix Password for User\" + $USERID);\n</code></pre>\n"}, {"tags": ["perl", "moose"], "comments": [{"owner": {"user_type": "does_not_exist", "display_name": "user6818959"}, "edited": false, "score": 0, "creation_date": 1473846191, "post_id": 39486889, "comment_id": 66292485, "body": "Interestingly, I&#39;ve found out that if I move the &quot;mock&quot; package (MockEncodingMethodROT13) out into its own file, everything works fine.  So there&#39;s something about my declaration of that package in the same file as the unit test that is causing things to go base over apex."}, {"owner": {"reputation": 50468, "user_id": 1331451, "user_type": "registered", "accept_rate": 96, "profile_image": "https://i.stack.imgur.com/4ZPmj.png?s=128&g=1", "display_name": "simbabque", "link": "https://stackoverflow.com/users/1331451/simbabque"}, "edited": false, "score": 1, "creation_date": 1473854182, "post_id": 39486889, "comment_id": 66297203, "body": "We&#39;re missing a few modules to run this. Your BFDEncoder and BF seem to be proprietary. Can you create an <a href=\"https://stackoverflow.com/help/minimal-reproducible-example\">minimal reproducible example</a> or supply the original code for those?"}, {"owner": {"reputation": 50468, "user_id": 1331451, "user_type": "registered", "accept_rate": 96, "profile_image": "https://i.stack.imgur.com/4ZPmj.png?s=128&g=1", "display_name": "simbabque", "link": "https://stackoverflow.com/users/1331451/simbabque"}, "edited": false, "score": 0, "creation_date": 1473856286, "post_id": 39486889, "comment_id": 66298540, "body": "I wrote up <a href=\"https://gist.github.com/simbabque/85f3400243c247db5f7f03ae37932c46\" rel=\"nofollow noreferrer\">this mcve</a> and that seems to work. What version of Moose and Perl do you have?"}], "answers": [{"tags": [], "owner": {"reputation": 11684, "user_id": 1990570, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/B1hso.png?s=128&g=1", "display_name": "tobyink", "link": "https://stackoverflow.com/users/1990570/tobyink"}, "is_accepted": false, "score": 0, "last_activity_date": 1603819671, "creation_date": 1603819671, "answer_id": 64559797, "question_id": 39486889, "link": "https://stackoverflow.com/questions/39486889/moose-cant-locate-object-method/64559797#64559797", "title": "Moose &quot;Can&#39;t locate object method&quot;", "body": "<p>I believe that the testing framework is running the tests before runtime (perhaps at CHECK time?).</p>\n<p>But the <code>override</code> statement, and more crucially the <code>extends</code> statement, occur at runtime.</p>\n<p>Try wrapping the package definition at the top in a <code>BEGIN</code> block.</p>\n<pre class=\"lang-perl prettyprint-override\"><code>BEGIN {\n  package MockEncodingMethodROT13;\n  use Moose;\n\n  extends 'EncodingMethod';\n\n  override 'encode' =&gt; sub {\n      my ($self, $data) = @_;\n\n      $data =~ tr/abcdefghijklmnopqrstuvwxyzABCDEFGHIJKLMNOPQRSTUVWXYZ/nopqrstuvwxyzabcdefghijklmNOPQRSTUVWXYZABCDEFGHIJKLM/;\n\n      return $data;\n  };\n}\n</code></pre>\n"}], "owner": {"user_type": "does_not_exist", "display_name": "user6818959"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 378, "favorite_count": 0, "answer_count": 1, "score": 4, "last_activity_date": 1603819671, "creation_date": 1473845106, "last_edit_date": 1592644375, "question_id": 39486889, "link": "https://stackoverflow.com/questions/39486889/moose-cant-locate-object-method", "title": "Moose &quot;Can&#39;t locate object method&quot;", "body": "<p>On running a unit test I'm getting told</p>\n<blockquote>\n<p>Can't locate object method &quot;encode&quot; via package &quot;MockEncodingMethodROT13&quot;</p>\n</blockquote>\n<p>where the MockEncodingMethodROT13 &quot;package&quot; is a mock/stub thing.</p>\n<p>Specifically, I get this:</p>\n<blockquote>\n<p>$ prove Test/BFDEn&gt; $ prove Test/BFDEncoder.pm<br />\nTest/BFDEncoder.pm .. 1/2</p>\n<p>#   Failed test 'UseMockROT13_getData died (Can't locate object method &quot;encode&quot; via package &quot;MockEncodingMethodROT13&quot; at BFDEncoder.pm line 30.)'</p>\n<p>#   at /export/home/me/code/base/Test/Rizzo.pm line 41.</p>\n<p>#   (in Test::BFDEncoder-&gt;UseMockROT13_getData)</p>\n<p># Looks like you failed 1 test of 2.<br />\nTest/BFDEncoder.pm .. Dubious, test returned 1 (wstat 256, 0x100)<br />\nFailed 1/2 subtests<br />\n(less 1 skipped subtest: 0 okay)</p>\n</blockquote>\n<p>The test and mock code look like this:</p>\n<pre><code>package Test::BFDEncoder;\n\nuse Test::More;\nuse BFDEncoder;\nuse EncodingMethod;\n# use EncodingMethodROT13;\n\n##########\n{ package MockEncodingMethodROT13;\n  use Moose;\n\n  extends 'EncodingMethod';\n\n  override 'encode' =&gt; sub {\n      my ($self, $data) = @_;\n\n      $data =~ tr/abcdefghijklmnopqrstuvwxyzABCDEFGHIJKLMNOPQRSTUVWXYZ/nopqrstuvwxyzabcdefghijklmNOPQRSTUVWXYZABCDEFGHIJKLM/;\n\n      return $data;\n  };\n}\n##########\n\nsub setup : Tests(setup) {\n}\n\nsub UseMockROT13_getData : Test(2) {\n\n    my $plaintext = BF-&gt;new( data =&gt; 'Hello World' );\n    my $rot13 = MockEncodingMethodROT13-&gt;new;\n    my $testee = BFDEncoder-&gt;new( decoratedData =&gt; $plaintext, encoder =&gt; $rot13 );\n\n    is ($testee-&gt;getData(), 'Uryyb Jbeyq', caller());\n    is ($plaintext-&gt;getData(), 'Hello World', caller());\n}\n</code></pre>\n<p>And the original EncodingMethod (and EncodingMethodROT13) modules look like this:</p>\n<pre><code>package EncodingMethod;\nuse Moose;\nuse Carp;\n\nsub encode {\n    my ($self, $data) = @_;\n\n    carp(qq[&quot;encode&quot; really should be implemented by a subclass.]);\n\n    return $data;\n}\n\n1;\n</code></pre>\n<p>and</p>\n<pre><code>package EncodingMethodROT13;\nuse Moose;\n\nextends 'EncodingMethod';\n\noverride 'encode' =&gt; sub {\n    my ($self, $data) = @_;\n\n    $data =~ tr/abcdefghijklmnopqrstuvwxyzABCDEFGHIJKLMNOPQRSTUVWXYZ/nopqrstuvwxyzabcdefghijklmNOPQRSTUVWXYZABCDEFGHIJKLM/;\n\n    return $data;\n};\n</code></pre>\n<p>And it's worth noting that a unit test using the original (i.e. non-mocked) EncodingMethodROT13 works fine, despite the code for both being practically identical!</p>\n<p>I know it's &quot;only&quot; a unit test, using faked code when I could easily use the original, but I'd really like to understand why it doesn't work.  Any ideas, anyone?</p>\n"}, {"tags": ["bash", "perl", "sed", "grep", "gawk"], "comments": [{"owner": {"reputation": 61700, "user_id": 5291015, "user_type": "registered", "accept_rate": 100, "profile_image": "https://i.stack.imgur.com/ZFijZ.jpg?s=128&g=1", "display_name": "Inian", "link": "https://stackoverflow.com/users/5291015/inian"}, "edited": false, "score": 6, "creation_date": 1473844094, "post_id": 39486506, "comment_id": 66291200, "body": "Please add a sample i/p and proper expected output/"}, {"owner": {"reputation": 62184, "user_id": 7231, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/81b76985f3985e35492e25880493d045?s=128&d=identicon&r=PG", "display_name": "Dave Cross", "link": "https://stackoverflow.com/users/7231/dave-cross"}, "edited": false, "score": 1, "creation_date": 1473846291, "post_id": 39486506, "comment_id": 66292553, "body": "Why is this tagged &#39;perl&#39;?"}, {"owner": {"reputation": 1, "user_id": 6829825, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/d0a1b11f4a4a52ce308013acac512e5f?s=128&d=identicon&r=PG&f=1", "display_name": "Avalun", "link": "https://stackoverflow.com/users/6829825/avalun"}, "edited": false, "score": 0, "creation_date": 1473846651, "post_id": 39486506, "comment_id": 66292780, "body": "I put it to pastebin, as I got a formattingussue here <a href=\"http://pastebin.com/62XG4jkw\" rel=\"nofollow noreferrer\">pastebin.com/62XG4jkw</a>   I tried it with perl too, so it was a mistake in that case, sorry"}, {"owner": {"reputation": 21147, "user_id": 7733418, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/b08876b87c096cd006f66820ffc67f27?s=128&d=identicon&r=PG", "display_name": "Yunnosch", "link": "https://stackoverflow.com/users/7733418/yunnosch"}, "edited": false, "score": 0, "creation_date": 1506156190, "post_id": 39486506, "comment_id": 79714019, "body": "Please explain the formatting issues you experienced. Especially explain what is wrong about the formatting I applied by clicking the obvious button <code>{}</code>. If you cannot explain, please study the StackOveflow formatting help."}, {"owner": {"reputation": 21147, "user_id": 7733418, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/b08876b87c096cd006f66820ffc67f27?s=128&d=identicon&r=PG", "display_name": "Yunnosch", "link": "https://stackoverflow.com/users/7733418/yunnosch"}, "edited": false, "score": 0, "creation_date": 1506156263, "post_id": 39486506, "comment_id": 79714039, "body": "I see a contradiction between your phrasing &quot;two lines above&quot; and the quotes you provided."}, {"owner": {"reputation": 21147, "user_id": 7733418, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/b08876b87c096cd006f66820ffc67f27?s=128&d=identicon&r=PG", "display_name": "Yunnosch", "link": "https://stackoverflow.com/users/7733418/yunnosch"}, "edited": false, "score": 0, "creation_date": 1506156290, "post_id": 39486506, "comment_id": 79714048, "body": "Please explain the third parts of the quotes you provided in paste bin."}, {"owner": {"reputation": 21147, "user_id": 7733418, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/b08876b87c096cd006f66820ffc67f27?s=128&d=identicon&r=PG", "display_name": "Yunnosch", "link": "https://stackoverflow.com/users/7733418/yunnosch"}, "edited": false, "score": 0, "creation_date": 1506156889, "post_id": 39486506, "comment_id": 79714196, "body": "Your &quot;shouldbe&quot; has six entries, but your first &quot;Issue&quot; only 5."}], "answers": [{"tags": [], "owner": {"reputation": 21147, "user_id": 7733418, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/b08876b87c096cd006f66820ffc67f27?s=128&d=identicon&r=PG", "display_name": "Yunnosch", "link": "https://stackoverflow.com/users/7733418/yunnosch"}, "is_accepted": false, "score": 0, "last_activity_date": 1506158321, "creation_date": 1506158321, "answer_id": 46377994, "question_id": 39486506, "link": "https://stackoverflow.com/questions/39486506/find-value-but-replace-another-in-another-line-via-bash/46377994#46377994", "title": "find value but replace another in another line via bash", "body": "<p>Working on your sample input (i.e. skipping the file reading etc.):</p>\n\n<pre><code>perl -0777 -pe \"s/(\\$db = mysql_connect\\()\\\"\\d+\\.\\d+\\.\\d+\\.\\d+(\\\",\\s*\\n)\\s*(\\\"u1_3347\\\")/ \\1\\\"172.1.1.180\\2  \\3/g\"\n</code></pre>\n\n<p>Details:</p>\n\n<ul>\n<li>use <code>-0777</code> to eat the input completely,<br>\nallowing patterns to match across newline</li>\n<li><code>-pe</code> for looping over input and printing result by default</li>\n<li>look for pretty much any IP address,<br>\nembedded in the characteristic other parts of the desired input lines</li>\n<li>look for specifically that user which needs the IP changed</li>\n<li>assemble new outputlines from whitespaces, capture groups and new IP</li>\n<li>everywhere <code>g</code></li>\n</ul>\n\n<p>Output (as desired, apart from whitespace tinkering and having only the five entries of your sample input):</p>\n\n<pre><code>  $db = mysql_connect(\"172.1.1.178\",\n     \"u2_3456\",\"pass6\");\n\n\n     $db = mysql_connect(\"172.1.1.180\",\n  \"u1_3347\",\"pass7\");\n\n\n     $db = mysql_connect(\"172.1.1.180\",\n  \"u1_3347\",\"pass7\");\n\n\n    $db = mysql_connect(\"172.1.1.178\",\n     \"u2_3456\",\"pass6\");\n\n\n     $db = mysql_connect(\"172.1.1.180\",\n  \"u1_3347\",\"pass7\");\n</code></pre>\n"}], "owner": {"reputation": 1, "user_id": 6829825, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/d0a1b11f4a4a52ce308013acac512e5f?s=128&d=identicon&r=PG&f=1", "display_name": "Avalun", "link": "https://stackoverflow.com/users/6829825/avalun"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 72, "favorite_count": 0, "answer_count": 1, "score": 0, "last_activity_date": 1506158321, "creation_date": 1473843908, "last_edit_date": 1506156102, "question_id": 39486506, "link": "https://stackoverflow.com/questions/39486506/find-value-but-replace-another-in-another-line-via-bash", "title": "find value but replace another in another line via bash", "body": "<p>I have to move some pages to another host, but the db IPs got split up.\nSo I have to do find a value of a username and replace two lines above the IP</p>\n\n<p>I tried it with this:</p>\n\n<pre><code>#!/bin/bash\n\nOUTPUT=\"$(find /home/user/files/script/test-file -maxdepth 1 -iname  file_with_many_sqlconnections.php -exec grep -Hina -B 2 u1_3347 {} \\; | grep 172)\"\n\necho \"${OUTPUT}\"\n\nLINE=\"$(echo \"$OUTPUT\" | cut -d\"-\" -f3 )\"\necho \"${LINE}\"\n\nFILE=\"$(echo \"$OUTPUT\" | cut -d\"-\" -f1,2)\"\n\necho \"${FILE}\"\n\nCONTENT=\"$(echo \"$OUTPUT\" | cut -d\"-\" -f4 | cut -d\".\" -f4 | cut -d \"\\\"\" -f1)\"\n\necho \"${CONTENT}\"\n\ngawk -v line=\"$LINE\" -v content=\"$CONTENT\" -v file=\"$FILE\" -i inplace \"NR==\"line\"{gsub(\"content\", 177)}1\" \"$FILE\"\n</code></pre>\n\n<p>I tried it with several combinations of variables, quotevariants and vice versa.\nI also tried <code>sed</code> and <code>perl</code>, but either I got garbage as output, issues with line break after <code>EOF</code>, or <code>gawk</code> ignores the linebreak and tries to stuff everything in one command.</p>\n\n<p>I used the <code>echo</code> segments only for viewing if the results of the results are okay, and as I see it in the shell, it \"displays\" it fine.</p>\n\n<p>Issue</p>\n\n<pre><code>  $db = mysql_connect(\"172.1.1.178\",\n     \"u2_3456\",\"pass6\");\n\n\n    $db = mysql_connect(\"172.1.1.178\",\n     \"u1_3347\",\"pass7\");\n\n\n    $db = mysql_connect(\"172.1.1.178\",\n     \"u1_3347\",\"pass7\");\n\n\n    $db = mysql_connect(\"172.1.1.178\",\n     \"u2_3456\",\"pass6\");\n\n\n    $db = mysql_connect(\"172.1.1.178\",\n     \"u1_3347\",\"pass7\");\n</code></pre>\n\n<p>Should be:</p>\n\n<pre><code> $db = mysql_connect(\"172.1.1.178\",\n  \"u2_3456\",\"pass6\");\n\n\n $db = mysql_connect(\"172.1.1.180\",\n  \"u1_3347\",\"pass7\");\n\n\n $db = mysql_connect(\"172.1.1.180\",\n  \"u1_3347\",\"pass7\");\n\n\n $db = mysql_connect(\"172.1.1.178\",\n  \"u2_3456\",\"pass6\");\n\n\n $db = mysql_connect(\"172.1.1.180\",\n  \"u1_3347\",\"pass7\");\n\n\n $db = mysql_connect(\"172.1.1.180\",\n  \"u1_3347\",\"pass7\");\n</code></pre>\n\n<p>Issue</p>\n\n<pre><code>  $db = mysql_connect(\"172.1.1.178\",\n     \"u2_3456\",\"pass6\");\n\n\n    $db = mysql_connect(\"172.1.1.178\",\n     \"u1_3347\",\"pass7\");\n</code></pre>\n"}, {"tags": ["perl", "perlbrew"], "comments": [{"owner": {"reputation": 69, "user_id": 326182, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/6ac77ba9162cc8d0f5eb1388fe40a6bc?s=128&d=identicon&r=PG", "display_name": "PhilipS", "link": "https://stackoverflow.com/users/326182/philips"}, "edited": false, "score": 0, "creation_date": 1513269876, "post_id": 39486298, "comment_id": 82598386, "body": "I also get the same error with perlbrew trying to do a clean install of 5.26.1.  I resorted to the &#39;--force&#39; option to get around it, ie:        perlbrew --force install 5.26.1  but I would like to know a better way to fix this."}], "owner": {"reputation": 52444, "user_id": 82511, "user_type": "registered", "accept_rate": 71, "profile_image": "https://www.gravatar.com/avatar/68191be8e55efa97fdda3a4a65af2b22?s=128&d=identicon&r=PG", "display_name": "djna", "link": "https://stackoverflow.com/users/82511/djna"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 156, "favorite_count": 0, "answer_count": 0, "score": 1, "last_activity_date": 1513269823, "creation_date": 1473843244, "question_id": 39486298, "link": "https://stackoverflow.com/questions/39486298/perlbrew-perl-xs-apiversion-bootcheck-error-with-perl-5-22-2", "title": "perlbrew _Perl_xs_apiversion_bootcheck error with perl 5.22.2", "body": "<p>Using perlbrew to move from perl 5.16.0 to 5.22.2</p>\n\n<p>Running on a MacBook Pro, OS X El Capitan</p>\n\n<p>Install of new version of perl seemed to work just fine. However when I switch to 5.22.2 and attempt to run any of my scripts I see this error message.</p>\n\n<blockquote>\n  <p>dyld: lazy symbol binding failed: Symbol not found:\n  _Perl_xs_apiversion_bootcheck   Referenced from: /Users/davidartus/perl5/lib/perl5/darwin-2level/auto/List/Util/Util.bundle\n  Expected in: dynamic lookup</p>\n  \n  <p>dyld: Symbol not found: _Perl_xs_apiversion_bootcheck   Referenced\n  from:\n  /Users/davidartus/perl5/lib/perl5/darwin-2level/auto/List/Util/Util.bundle\n  Expected in: dynamic lookup</p>\n  \n  <p>Trace/BPT trap: 5</p>\n</blockquote>\n\n<p>I've seen that some folks have had similar errors when their paths have been incorrect. My path is set by perlbrew and looks plausible to me.</p>\n\n<pre><code>/Users/me/perl5/perlbrew/bin:/Users/me/perl5/perlbrew/perls/perl-5.22.2/bin:/Users/me/perl5/bin:/usr/local/bin:/usr/bin:/bin:/usr/sbin:/sbin\n</code></pre>\n\n<p>Suggestions please.</p>\n"}, {"tags": ["oracle", "perl"], "comments": [{"owner": {"reputation": 21818, "user_id": 5726467, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/b9459ca28b927bebf9dab2f2aebfa0ac?s=128&d=identicon&r=PG&f=1", "display_name": "Aleksej", "link": "https://stackoverflow.com/users/5726467/aleksej"}, "edited": false, "score": 0, "creation_date": 1473840803, "post_id": 39485262, "comment_id": 66289280, "body": "Here you find  something on <a href=\"https://stackoverflow.com/questions/how-to-ask\">How to Ask</a> and how to build a <a href=\"https://stackoverflow.com/help/minimal-reproducible-example\">minimal reproducible example</a>"}], "answers": [{"comments": [{"owner": {"reputation": 45, "user_id": 6005548, "user_type": "registered", "accept_rate": 40, "profile_image": "https://www.gravatar.com/avatar/efee08473175d7da57be5f9a2d10d832?s=128&d=identicon&r=PG&f=1", "display_name": "ferozalam_82", "link": "https://stackoverflow.com/users/6005548/ferozalam-82"}, "edited": false, "score": 0, "creation_date": 1473842912, "post_id": 39485796, "comment_id": 66290494, "body": "thank you for your response. But I don&#39;t have the log of installation. The perl modules are installed . I will try and check the Perl DBI library again. Will it impact if the Oracle version is upgraded?"}, {"owner": {"reputation": 62184, "user_id": 7231, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/81b76985f3985e35492e25880493d045?s=128&d=identicon&r=PG", "display_name": "Dave Cross", "link": "https://stackoverflow.com/users/7231/dave-cross"}, "reply_to_user": {"reputation": 45, "user_id": 6005548, "user_type": "registered", "accept_rate": 40, "profile_image": "https://www.gravatar.com/avatar/efee08473175d7da57be5f9a2d10d832?s=128&d=identicon&r=PG&f=1", "display_name": "ferozalam_82", "link": "https://stackoverflow.com/users/6005548/ferozalam-82"}, "edited": false, "score": 1, "creation_date": 1473844901, "post_id": 39485796, "comment_id": 66291699, "body": "It&#39;s not the DBI library that&#39;s the problem. It seems to be the Oracle client libraries. I&#39;d try to reinstall DBD::Oracle and see how that goes."}], "tags": [], "owner": {"reputation": 62184, "user_id": 7231, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/81b76985f3985e35492e25880493d045?s=128&d=identicon&r=PG", "display_name": "Dave Cross", "link": "https://stackoverflow.com/users/7231/dave-cross"}, "is_accepted": false, "score": 1, "last_activity_date": 1473841640, "creation_date": 1473841640, "answer_id": 39485796, "question_id": 39485262, "link": "https://stackoverflow.com/questions/39485262/perl-script-not-able-to-connect-to-oracle-database/39485796#39485796", "title": "Perl script not able to connect to Oracle Database", "body": "<p>You seem to have forgotten to ask a question. Let's assume it's \"how can I fix this?\"</p>\n\n<p>Communicating with a database requires a number of things to be installed on your system.</p>\n\n<ul>\n<li><p>You need the client libraries for the database system that you're using. This will be shared object (.so) files that are probably somewhere under /usr/lib.</p></li>\n<li><p>You will need the Perl Database driver for your database engine (in your case, this is DBD::Oracle). If you install this by building it from scratch (as the <code>cpan</code> or <code>cpanm</code> commands do) then you'll almost certainly also need the development version of the above-mentioned client libraries. If you're installing pre-built binary versions (.rpm or .apt on Linux - I don't know the equivalent for Solaris) then you won't need these.</p></li>\n<li><p>You will need the Perl DBI library.</p></li>\n</ul>\n\n<p>It looks to me like DBD::Oracle is installed. And that means that DBI will be installed as well. But DBD::Oracle is having trouble finding the client libraries. This is surprising as they will hae been needed to install DBD::Oracle.</p>\n\n<p>So, I suspect that either the Oracle client libraries are no longer installed or they are installed, but not in the place where DBD::Oracle is looking for them.</p>\n\n<p>How was DBD::Oracle installed? Do you have a log of that installation that you can inspect for errors?</p>\n"}, {"tags": [], "owner": {"reputation": 45, "user_id": 6005548, "user_type": "registered", "accept_rate": 40, "profile_image": "https://www.gravatar.com/avatar/efee08473175d7da57be5f9a2d10d832?s=128&d=identicon&r=PG&f=1", "display_name": "ferozalam_82", "link": "https://stackoverflow.com/users/6005548/ferozalam-82"}, "is_accepted": false, "score": 0, "last_activity_date": 1473935327, "creation_date": 1473935327, "answer_id": 39508798, "question_id": 39485262, "link": "https://stackoverflow.com/questions/39485262/perl-script-not-able-to-connect-to-oracle-database/39508798#39508798", "title": "Perl script not able to connect to Oracle Database", "body": "<p>The issue has been resolved. The lib file \"libclntsh.so.10.1\" was missing in the library path. I have copied the file and the issue was resolved</p>\n"}], "owner": {"reputation": 45, "user_id": 6005548, "user_type": "registered", "accept_rate": 40, "profile_image": "https://www.gravatar.com/avatar/efee08473175d7da57be5f9a2d10d832?s=128&d=identicon&r=PG&f=1", "display_name": "ferozalam_82", "link": "https://stackoverflow.com/users/6005548/ferozalam-82"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 700, "favorite_count": 0, "answer_count": 2, "score": -5, "last_activity_date": 1473935327, "creation_date": 1473839803, "last_edit_date": 1473842639, "question_id": 39485262, "link": "https://stackoverflow.com/questions/39485262/perl-script-not-able-to-connect-to-oracle-database", "title": "Perl script not able to connect to Oracle Database", "body": "<p>I am getting the below error message while executing my Perl script.\nBelow is the error message that I am getting while compiling my scripts.</p>\n\n<p><strong>install_driver(Oracle) failed: Can't load '/xxx/usr/local/lib/perl5/site_perl/5.10.0/sun4-solaris/auto/DBD/Oracle/Oracle.so' \nfor module DBD::Oracle: ld.so.1: perl: fatal: libclntsh.so.10.1: open failed: No such file or directory at \n/xxx/usr/local/lib/perl5/5.10.0/sun4-solaris/DynaLoader.pm line 203.\n at (eval 99) line 3\nCompilation failed in require at (eval 99) line 3.\nPerhaps a required shared library or dll isn't installed where expected\n at /xxx/xxxx/xxxx/xxxx/XXXX/CommonOracle.pm line 71</strong></p>\n\n<p>Recently Oracle have been upgraded from 10.2 to 11.0 in my system. Please help me to fix the issue? I am not the administrator of my system. Do i need to change  LD_LIBRARRY_PATH? I am using Solaris OS.</p>\n"}, {"tags": ["linux", "perl", "mojolicious", "mojolicious-lite"], "comments": [{"owner": {"reputation": 43, "user_id": 957129, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/8eaad875dee9d81c1f3a7f8e80f33004?s=128&d=identicon&r=PG", "display_name": "user957129", "link": "https://stackoverflow.com/users/957129/user957129"}, "edited": false, "score": 0, "creation_date": 1473839549, "post_id": 39485188, "comment_id": 66288573, "body": "Sorry I meant I got the error below not command"}, {"owner": {"reputation": 154, "user_id": 6811877, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/e696f3907cb54cc29963d6ffb2e24e75?s=128&d=identicon&r=PG&f=1", "display_name": "mp3", "link": "https://stackoverflow.com/users/6811877/mp3"}, "edited": false, "score": 1, "creation_date": 1473843366, "post_id": 39485188, "comment_id": 66290788, "body": "Can you be more specific about where you are stuck? That warning gives three choices for resolving the issue it is warning about. Have you tried any or all of those? If so, what happened?"}, {"owner": {"reputation": 50468, "user_id": 1331451, "user_type": "registered", "accept_rate": 96, "profile_image": "https://i.stack.imgur.com/4ZPmj.png?s=128&g=1", "display_name": "simbabque", "link": "https://stackoverflow.com/users/1331451/simbabque"}, "edited": false, "score": 0, "creation_date": 1473854414, "post_id": 39485188, "comment_id": 66297349, "body": "You can <a href=\"https://stackoverflow.com/posts/39485188/edit\">edit</a> your question by using the <a href=\"https://stackoverflow.com/posts/39485188/edit\">edit</a> link under the question on the left, below the tags. Or you can click the <a href=\"https://stackoverflow.com/posts/39485188/edit\">edit</a> that I supplied here."}], "answers": [{"tags": [], "owner": {"reputation": 192, "user_id": 5185210, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/DNqsL.png?s=128&g=1", "display_name": "oals", "link": "https://stackoverflow.com/users/5185210/oals"}, "is_accepted": false, "score": 1, "last_activity_date": 1473965653, "creation_date": 1473965653, "answer_id": 39518404, "question_id": 39485188, "link": "https://stackoverflow.com/questions/39485188/cant-install-mojolicious/39518404#39518404", "title": "Can&#39;t install mojolicious", "body": "<p>You <code>sudo</code> your file download (completely useless), but don't sudo Perl. Perl is the command you need to elevate to grant write permissions to the system.</p>\n\n<p>The correct command-line is:</p>\n\n<pre><code>curl -L https://cpanmin.us | sudo perl - -M https://cpan.metacpan.org -n Mojolicious\n</code></pre>\n\n<p>Or you could just use the regular CPAN interface (I'm not familiar with cpanminus):</p>\n\n<pre><code>sudo perl -MCPAN -e 'install Mojolicious'\n</code></pre>\n"}], "owner": {"reputation": 43, "user_id": 957129, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/8eaad875dee9d81c1f3a7f8e80f33004?s=128&d=identicon&r=PG", "display_name": "user957129", "link": "https://stackoverflow.com/users/957129/user957129"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 6910, "favorite_count": 0, "answer_count": 1, "score": -2, "last_activity_date": 1473965653, "creation_date": 1473839496, "last_edit_date": 1473840161, "question_id": 39485188, "link": "https://stackoverflow.com/questions/39485188/cant-install-mojolicious", "title": "Can&#39;t install mojolicious", "body": "<p>I ran this command to install mojolicious and I got the command below. Not sure how to solve it, please help.</p>\n\n<pre><code>~$ sudo curl -L https://cpanmin.us | perl - -M https://cpan.metacpan.org -n Mojolicious\n</code></pre>\n\n<p><br></p>\n\n<pre><code>  % Total    % Received % Xferd  Average Speed   Time    Time     Time  Current\n                                 Dload  Upload   Total   Spent    Left  Speed\n100  297k  100  297k    0     0  98815      0  0:00:03  0:00:03 --:--:-- 98825\n!\n! Can't write to /usr/local/share/perl/5.18.2 and /usr/local/bin: Installing modules to /home/foneworx/perl5\n! To turn off this warning, you have to do one of the following:\n!   - run me as a root or with --sudo option (to install to /usr/local/share/perl/5.18.2 and /usr/local/bin)\n!   - Configure local::lib in your existing shell to set PERL_MM_OPT etc.\n!   - Install local::lib by running the following commands\n!\n!         cpanm --local-lib=~/perl5 local::lib &amp;&amp; eval $(perl -I ~/perl5/lib/perl5/ -Mlocal::lib)\n</code></pre>\n"}, {"tags": ["perl", "include", "perlbrew"], "comments": [{"owner": {"reputation": 48798, "user_id": 223226, "user_type": "registered", "accept_rate": 93, "profile_image": "https://i.stack.imgur.com/iGqE4.png?s=128&g=1", "display_name": "mpapec", "link": "https://stackoverflow.com/users/223226/mpapec"}, "edited": false, "score": 0, "creation_date": 1473831377, "post_id": 39482444, "comment_id": 66284798, "body": "<a href=\"http://weblog.bulknews.net/post/58079418600/plenv-alternative-for-perlbrew\" rel=\"nofollow noreferrer\">weblog.bulknews.net/post/58079418600/&hellip;</a> worthy replacement for perlbrew."}], "answers": [{"comments": [{"owner": {"reputation": 20550, "user_id": 327528, "user_type": "registered", "accept_rate": 37, "profile_image": "https://www.gravatar.com/avatar/dfea36f0a3ab8c5f8ad73bcc6cea241a?s=128&d=identicon&r=PG", "display_name": "CJ7", "link": "https://stackoverflow.com/users/327528/cj7"}, "edited": false, "score": 0, "creation_date": 1473827460, "post_id": 39482496, "comment_id": 66283732, "body": "I have just started installing it today so I am using the latest version already.  Did you think I had an old copy of the script and files lying around?"}], "tags": [], "owner": {"reputation": 19192, "user_id": 257635, "user_type": "registered", "accept_rate": 89, "profile_image": "https://i.stack.imgur.com/El2tc.jpg?s=128&g=1", "display_name": "Chankey Pathak", "link": "https://stackoverflow.com/users/257635/chankey-pathak"}, "is_accepted": false, "score": 4, "last_activity_date": 1473827385, "last_edit_date": 1495540493, "creation_date": 1473827385, "answer_id": 39482496, "question_id": 39482444, "link": "https://stackoverflow.com/questions/39482444/how-to-install-perlbrew-without-root-access/39482496#39482496", "title": "How to install perlbrew without root access?", "body": "<p>It's a known issue. See <a href=\"https://stackoverflow.com/questions/16113467/perlbrew-fails-with-cant-locate-devel-patchperl-pm\">perlbrew fails with &quot;Can&#39;t locate Devel/PatchPerl.pm&quot;</a></p>\n\n<p>Try installing the latest version</p>\n\n<pre><code>\\curl -L https://install.perlbrew.pl | bash\n</code></pre>\n\n<p>Refer: <a href=\"https://perlbrew.pl/\" rel=\"nofollow noreferrer\">https://perlbrew.pl/</a></p>\n"}], "owner": {"reputation": 20550, "user_id": 327528, "user_type": "registered", "accept_rate": 37, "profile_image": "https://www.gravatar.com/avatar/dfea36f0a3ab8c5f8ad73bcc6cea241a?s=128&d=identicon&r=PG", "display_name": "CJ7", "link": "https://stackoverflow.com/users/327528/cj7"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 210, "favorite_count": 0, "answer_count": 1, "score": 1, "last_activity_date": 1473827385, "creation_date": 1473826992, "question_id": 39482444, "link": "https://stackoverflow.com/questions/39482444/how-to-install-perlbrew-without-root-access", "title": "How to install perlbrew without root access?", "body": "<p>How do you install <code>perlbrew</code> without root access?</p>\n\n<p>Part way through the installation process I am getting <code>Can't locate Devel/PatchPerl.pm in @INC</code> in the installation log when it fails.</p>\n"}, {"tags": ["perl", "stdin", "libxml2"], "comments": [{"owner": {"reputation": 6068, "user_id": 1799189, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/s4Pcu.jpg?s=128&g=1", "display_name": "xxfelixxx", "link": "https://stackoverflow.com/users/1799189/xxfelixxx"}, "edited": false, "score": 0, "creation_date": 1473824512, "post_id": 39481562, "comment_id": 66283071, "body": "<a href=\"http://search.cpan.org/~fitzner/File-LibMagic-0.96/LibMagic.pm\" rel=\"nofollow noreferrer\">search.cpan.org/~fitzner/File-LibMagic-0.96/LibMagic.pm</a>"}, {"owner": {"reputation": 28131, "user_id": 1956010, "user_type": "registered", "accept_rate": 83, "profile_image": "https://www.gravatar.com/avatar/bfdcb4596e9da98cccbf9a0069fdff6c?s=128&d=identicon&r=PG", "display_name": "nwellnhof", "link": "https://stackoverflow.com/users/1956010/nwellnhof"}, "edited": false, "score": 1, "creation_date": 1474117393, "post_id": 39481562, "comment_id": 66406617, "body": "How can you know whether a file containing <code>&lt;doc&#47;&gt;</code> is an XML file or a plain text file? It could be both."}, {"owner": {"reputation": 131, "user_id": 1549906, "user_type": "registered", "accept_rate": 20, "profile_image": "https://www.gravatar.com/avatar/9e9a01791e88a33637d5991808e69ffe?s=128&d=identicon&r=PG", "display_name": "Sean &#39;SeanTek&#39; Leonard", "link": "https://stackoverflow.com/users/1549906/sean-seantek-leonard"}, "edited": false, "score": 0, "creation_date": 1474126860, "post_id": 39481562, "comment_id": 66409411, "body": "nwellnhof, that is a good point. My response is that you design the code to answer the question one way or another. In particular: <code>&lt;doc&#47;&gt; </code> is an XML file because XML does not have to start with <code>&lt;?xml version=&quot;1.0&quot;?&gt;</code>: you can go right into the first element. You can also have a Byte Order Mark as the first character. The more general point is that I would like <i>libxml2 to take a first crack at the input, then fall back to plain text if (libxml2 parsing) fails</i>. Based on some tests, libxml2 will also accept whitespace before and after the root element."}], "answers": [{"comments": [{"owner": {"reputation": 131, "user_id": 1549906, "user_type": "registered", "accept_rate": 20, "profile_image": "https://www.gravatar.com/avatar/9e9a01791e88a33637d5991808e69ffe?s=128&d=identicon&r=PG", "display_name": "Sean &#39;SeanTek&#39; Leonard", "link": "https://stackoverflow.com/users/1549906/sean-seantek-leonard"}, "edited": false, "score": 0, "creation_date": 1473834675, "post_id": 39482545, "comment_id": 66286127, "body": "Sorry but not actually what I am looking for. I am not looking to validate the XML; I am looking to determine if the input is XML (in any encoding). For example, it could start with <code>&lt;?xml version=&quot;1.0&quot;?&gt;</code>, or UTF-8 BOM 0xEF,0xBB,0xBF followed by &lt;root/&gt;, or UTF-16BE with or without BOM, or even EBCDIC. I want to deliver the bytes from STDIN directly to libxml2, but then if libxml2 says it&#39;s not XML, to keep the bytes to try to process the stream as plain text."}], "tags": [], "owner": {"reputation": 19192, "user_id": 257635, "user_type": "registered", "accept_rate": 89, "profile_image": "https://i.stack.imgur.com/El2tc.jpg?s=128&g=1", "display_name": "Chankey Pathak", "link": "https://stackoverflow.com/users/257635/chankey-pathak"}, "is_accepted": false, "score": 0, "last_activity_date": 1473827738, "creation_date": 1473827738, "answer_id": 39482545, "question_id": 39481562, "link": "https://stackoverflow.com/questions/39481562/automatically-detecting-xml-or-plain-text-input-with-file-and-stdin-with-perl/39482545#39482545", "title": "Automatically detecting XML or plain text input with file and STDIN with Perl", "body": "<pre><code>use XML::LibXML;\n\nmy $schema_file = 'test.xsd';\nmy $document    = 'test.xml';\n\nmy $schema = XML::LibXML::Schema-&gt;new(location =&gt; $schema_file);\n\nmy $parser = XML::LibXML-&gt;new;\nmy $doc    = $parser-&gt;parse_file($document); #Or handle STDIN\n\neval { $schema-&gt;validate($doc) };\nif ($@){\n    #file failed to validate, handle as text below\n}\n</code></pre>\n\n<p>Alternatively you could use <a href=\"https://metacpan.org/pod/Test::XML\" rel=\"nofollow\">Text::XML</a>'s <code>is_xml</code>, <code>is_well_formed_xml</code> methods and create conditionals based on those.</p>\n"}], "owner": {"reputation": 131, "user_id": 1549906, "user_type": "registered", "accept_rate": 20, "profile_image": "https://www.gravatar.com/avatar/9e9a01791e88a33637d5991808e69ffe?s=128&d=identicon&r=PG", "display_name": "Sean &#39;SeanTek&#39; Leonard", "link": "https://stackoverflow.com/users/1549906/sean-seantek-leonard"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 175, "favorite_count": 0, "answer_count": 1, "score": 2, "last_activity_date": 1473827738, "creation_date": 1473819580, "question_id": 39481562, "link": "https://stackoverflow.com/questions/39481562/automatically-detecting-xml-or-plain-text-input-with-file-and-stdin-with-perl", "title": "Automatically detecting XML or plain text input with file and STDIN with Perl", "body": "<p>What is the most Perly way to detect XML (using XML::LibXML / libxml2) or plain text input with Perl (5.18 or higher)?</p>\n\n<p>I have a program that can accept plain text input or XML input, and the XML input can be in arbitrary encodings. Input is either from a file (ARGV) or STDIN. When only plain text is considered, the following code is sufficient:</p>\n\n<pre><code>local $/ = undef;\nmy $text = &lt;&gt; || die;\n</code></pre>\n\n<p>This will get the entire input file or STDIN as text, using default encoding settings.</p>\n\n<p>When only XML is considered, the following code is usable (for a file):</p>\n\n<pre><code>my $parser = XML::LibXML-&gt;new();\nmy $xml = $parser-&gt;load_xml(location =&gt; $ARGV[0]);\n</code></pre>\n\n<p>But what is the best way to combine the two? I want libxml2 to take a first crack at the input, then fall back to plain text if it fails. If I pass IO => *STDIN directly, libxml2 will consume the input, which the program will need later if libxml2 determines that the input is not XML.</p>\n\n<p>(Note: if libxml2 determines that the input is some kind of XML but malformed in some way, then the program should terminate instead of falling back.)</p>\n"}, {"tags": ["perl", "perl-module"], "comments": [{"owner": {"reputation": 154, "user_id": 6811877, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/e696f3907cb54cc29963d6ffb2e24e75?s=128&d=identicon&r=PG&f=1", "display_name": "mp3", "link": "https://stackoverflow.com/users/6811877/mp3"}, "edited": false, "score": 1, "creation_date": 1473813271, "post_id": 39480613, "comment_id": 66280721, "body": "While you are technically &quot;using&quot; regular expressions you aren&#39;t really &quot;using&quot; their power since you are using fixed substrings as the patterns. Start here <a href=\"http://perldoc.perl.org/perlrequick.html\" rel=\"nofollow noreferrer\">perldoc.perl.org/perlrequick.html</a> for a quick tutorial."}, {"owner": {"reputation": 154, "user_id": 6811877, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/e696f3907cb54cc29963d6ffb2e24e75?s=128&d=identicon&r=PG&f=1", "display_name": "mp3", "link": "https://stackoverflow.com/users/6811877/mp3"}, "edited": false, "score": 0, "creation_date": 1473817281, "post_id": 39480613, "comment_id": 66281587, "body": "The rest of the documentation <a href=\"http://perldoc.perl.org/perlrequick.html\" rel=\"nofollow noreferrer\">perlrequick</a> <a href=\"http://perldoc.perl.org/perlre.html\" rel=\"nofollow noreferrer\">perlre</a> <a href=\"http://perldoc.perl.org/perlreref.html\" rel=\"nofollow noreferrer\">perlreref</a> <a href=\"http://perldoc.perl.org/perlretut.html\" rel=\"nofollow noreferrer\">perlretut</a>"}, {"owner": {"reputation": 53041, "user_id": 4653379, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/b3953dbedd0dabff5cbc3db9b0835b14?s=128&d=identicon&r=PG&f=1", "display_name": "zdim", "link": "https://stackoverflow.com/users/4653379/zdim"}, "edited": false, "score": 0, "creation_date": 1473818625, "post_id": 39480613, "comment_id": 66281841, "body": "(1) What is <code>$ipsla</code>? The <code>foreach</code> needs a list to iterate over -- is that an arrayref?  (2) Is the line of interest really (and always) the last line of the command output?"}, {"owner": {"reputation": 73, "user_id": 6190552, "user_type": "registered", "accept_rate": 71, "profile_image": "https://www.gravatar.com/avatar/c49c39feb0218eb3a5e6372e16a71029?s=128&d=identicon&r=PG&f=1", "display_name": "nims", "link": "https://stackoverflow.com/users/6190552/nims"}, "edited": false, "score": 0, "creation_date": 1473819098, "post_id": 39480613, "comment_id": 66281952, "body": "yes , last line of command output is what i&#39;m looking for"}, {"owner": {"reputation": 53041, "user_id": 4653379, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/b3953dbedd0dabff5cbc3db9b0835b14?s=128&d=identicon&r=PG&f=1", "display_name": "zdim", "link": "https://stackoverflow.com/users/4653379/zdim"}, "edited": false, "score": 0, "creation_date": 1473820041, "post_id": 39480613, "comment_id": 66282154, "body": "OK, that makes it far simpler.  But we need to know what <code>$ipsla</code> is. It is a scalar and if it is a multi-line string I&#39;d have to split it (by newline), if it is an arrayref I can de-reference. This is a matter of what that particular class (which you haven&#39;t specified) returns -- I don&#39;t know that. Can you clarify?"}, {"owner": {"reputation": 73, "user_id": 6190552, "user_type": "registered", "accept_rate": 71, "profile_image": "https://www.gravatar.com/avatar/c49c39feb0218eb3a5e6372e16a71029?s=128&d=identicon&r=PG&f=1", "display_name": "nims", "link": "https://stackoverflow.com/users/6190552/nims"}, "edited": false, "score": 0, "creation_date": 1473821650, "post_id": 39480613, "comment_id": 66282462, "body": "its a scalar and not not arrayref"}, {"owner": {"reputation": 53041, "user_id": 4653379, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/b3953dbedd0dabff5cbc3db9b0835b14?s=128&d=identicon&r=PG&f=1", "display_name": "zdim", "link": "https://stackoverflow.com/users/4653379/zdim"}, "edited": false, "score": 0, "creation_date": 1473826716, "post_id": 39480613, "comment_id": 66283545, "body": "The term &quot;<i>arrayref</i>&quot; is often used for a <i>reference</i> to an array. That is a <i>scalar</i> -- it&#39;s one value, not a collection like an array or hash.  The <code>$</code> in <code>$ipsla</code> means it&#39;s a scalar, one thing.  But what kind of a thing? It can be a string which contains newline characters, thus representing multiple lines, or a reference to an array.  It can be a number or a simple string as well, or yet other things, but that wouldn&#39;t make sense for a command output, which is normally lines of text."}, {"owner": {"reputation": 53041, "user_id": 4653379, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/b3953dbedd0dabff5cbc3db9b0835b14?s=128&d=identicon&r=PG&f=1", "display_name": "zdim", "link": "https://stackoverflow.com/users/4653379/zdim"}, "edited": false, "score": 0, "creation_date": 1473826728, "post_id": 39480613, "comment_id": 66283548, "body": "You can see <a href=\"http://perldoc.perl.org/perlintro.html#Perl-variable-types\" rel=\"nofollow noreferrer\"><code>Perl variable types</code></a> in <a href=\"http://perldoc.perl.org/perlintro.html\" rel=\"nofollow noreferrer\"><code>perlintro</code></a>, and skim through introductory parts of <a href=\"http://perldoc.perl.org/perldata.html\" rel=\"nofollow noreferrer\"><code>perldata</code></a>."}, {"owner": {"reputation": 53041, "user_id": 4653379, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/b3953dbedd0dabff5cbc3db9b0835b14?s=128&d=identicon&r=PG&f=1", "display_name": "zdim", "link": "https://stackoverflow.com/users/4653379/zdim"}, "edited": false, "score": 0, "creation_date": 1473828648, "post_id": 39480613, "comment_id": 66284015, "body": "Example.  Consider text with three lines -- <code>hey</code>, <code>hi</code>, <code>hello</code>.  We can have that in a string, like so <code>$text = &quot;hey\\nhi\\nhello&quot;</code>.  This is a <i>scalar</i>, it is one string of characters.  (When printed those <code>\\n</code> induce line-breaks so it appears as multiple lines.) If we want to iterate over lines, we have to break it up -- split by <code>\\n</code>.  Or, we could have <code>@lines = qw(hey hi hello)</code> and then take a <i>reference</i> to that array by <code>$text = \\@lines</code>. Or we can form it by <code>$text = [ ... ]</code>.  This <code>$text</code> is also a scalar.  To iterate over lines using that we need to <i>dereference</i> it, by <code>@$text</code>."}], "answers": [{"comments": [{"owner": {"reputation": 73, "user_id": 6190552, "user_type": "registered", "accept_rate": 71, "profile_image": "https://www.gravatar.com/avatar/c49c39feb0218eb3a5e6372e16a71029?s=128&d=identicon&r=PG&f=1", "display_name": "nims", "link": "https://stackoverflow.com/users/6190552/nims"}, "edited": false, "score": 0, "creation_date": 1473818881, "post_id": 39481187, "comment_id": 66281909, "body": "i belive  you didn&#39;t notice that the command output starts with the following lines. so the regular expression u specified tries to match the below lines and not the actual output that is required . the line of interest really (and always) the last line of the command output   &quot;.PSLAs Latest Operation Summary     Codes: * active, ^ inactive, ~ pending&quot;"}, {"owner": {"reputation": 154, "user_id": 6811877, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/e696f3907cb54cc29963d6ffb2e24e75?s=128&d=identicon&r=PG&f=1", "display_name": "mp3", "link": "https://stackoverflow.com/users/6811877/mp3"}, "reply_to_user": {"reputation": 73, "user_id": 6190552, "user_type": "registered", "accept_rate": 71, "profile_image": "https://www.gravatar.com/avatar/c49c39feb0218eb3a5e6372e16a71029?s=128&d=identicon&r=PG&f=1", "display_name": "nims", "link": "https://stackoverflow.com/users/6190552/nims"}, "edited": false, "score": 0, "creation_date": 1473819554, "post_id": 39481187, "comment_id": 66282050, "body": "Unless I am missing something, my code is designed to match the last line of your example output and ignore the rest. Do you mean you just want to match column headers and you aren&#39;t interested in the values?"}], "tags": [], "owner": {"reputation": 154, "user_id": 6811877, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/e696f3907cb54cc29963d6ffb2e24e75?s=128&d=identicon&r=PG&f=1", "display_name": "mp3", "link": "https://stackoverflow.com/users/6811877/mp3"}, "is_accepted": false, "score": 0, "last_activity_date": 1473819321, "last_edit_date": 1473819321, "creation_date": 1473816287, "answer_id": 39481187, "question_id": 39480613, "link": "https://stackoverflow.com/questions/39480613/regular-expression-to-print-a-string-from-a-command-outpout/39481187#39481187", "title": "Regular expression to print a string from a command outpout", "body": "<p>I'm not sure of all possibilities of output from that command so my regular expression may need tweaking.</p>\n\n<p>I assume the goal is to get the values of all columns in variables. I opted to store values in a hash using the column names as the hash keys. I printed the results for debugging / demonstration purposes.</p>\n\n<pre><code>use strict;\nuse warnings;\n\nsub check_summary {\n    my ($self) = @_;\n\n    my %results = map { ($_,undef) } qw(Code ID Type Destination Stats Return_Code Last_Run); # Put results in hash, use column names for keys, set values to undef.\n\n    my $ipsla = $self-&gt;{ssh_obj}-&gt;exec('show ip sla');    \n\n    foreach my $line (@$ipsla) {\n        chomp $line; # Remove newlines from last field\n\n        if($line =~ /^([*^~])([0-9]+)\\s+([a-z]+)\\s+([0-9]+\\.[0-9]+\\.[0-9]+\\.[0-9]+)\\s+([[:alnum:]=]+)\\s+([A-Z]+)\\s+([^\\s].*)$/) {\n            $results{Code}        = $1; # Code prefixing ID\n            $results{ID}          = $2;\n            $results{Type}        = $3;\n            $results{Destination} = $4;\n            $results{Stats}       = $5;\n            $results{Return_Code} = $6;\n            $results{Last_Run}    = $7;\n        }\n    }\n\n    # Testing\n    use Data::Dumper;\n    print Dumper(\\%results);\n}\n\n# Demonstrate\ncheck_summary();\n\n# Commented for testing\n#INFO ($type,$return_type);\n</code></pre>\n\n<p>Worked on the submitted test line.</p>\n\n<p>EDIT:\nRegular expressions allow you to specify patterns instead of the exact text you are attempting to match. This is powerful but complicated at times. You need to read the Perl Regular Expression documentation to really learn them.</p>\n\n<p>Perl regular expressions also allow you to capture the matched text. This can be done multiple times in a single pattern which is how we were able to capture all the columns with one expression. The matches go into numbered variables...\n    $1\n    $2</p>\n"}, {"comments": [{"owner": {"reputation": 154, "user_id": 6811877, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/e696f3907cb54cc29963d6ffb2e24e75?s=128&d=identicon&r=PG&f=1", "display_name": "mp3", "link": "https://stackoverflow.com/users/6811877/mp3"}, "edited": false, "score": 0, "creation_date": 1473819801, "post_id": 39481547, "comment_id": 66282106, "body": "If &quot;Last Run&quot; is of interest you might want to put a limit on your split since the field contains spaces."}, {"owner": {"reputation": 53041, "user_id": 4653379, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/b3953dbedd0dabff5cbc3db9b0835b14?s=128&d=identicon&r=PG&f=1", "display_name": "zdim", "link": "https://stackoverflow.com/users/4653379/zdim"}, "reply_to_user": {"reputation": 154, "user_id": 6811877, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/e696f3907cb54cc29963d6ffb2e24e75?s=128&d=identicon&r=PG&f=1", "display_name": "mp3", "link": "https://stackoverflow.com/users/6811877/mp3"}, "edited": false, "score": 0, "creation_date": 1473820105, "post_id": 39481547, "comment_id": 66282168, "body": "@mp3 In principle, yes, good observation. However, here I go by shown data and only the last field contains spaces.  We need two of the previous fields."}, {"owner": {"reputation": 53041, "user_id": 4653379, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/b3953dbedd0dabff5cbc3db9b0835b14?s=128&d=identicon&r=PG&f=1", "display_name": "zdim", "link": "https://stackoverflow.com/users/4653379/zdim"}, "reply_to_user": {"reputation": 154, "user_id": 6811877, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/e696f3907cb54cc29963d6ffb2e24e75?s=128&d=identicon&r=PG&f=1", "display_name": "mp3", "link": "https://stackoverflow.com/users/6811877/mp3"}, "edited": false, "score": 0, "creation_date": 1473827994, "post_id": 39481547, "comment_id": 66283838, "body": "@mp3 Oh, I didn&#39;t trigger on your <i>If &quot;Last Run&quot; ...</i> -- sorry.  That is right, if that was needed that we&#39;d have to do more work.  Incidentally though, we can then pick the <code>[5]</code> element -- the number from that last field! Unless it can be <code>2 minutes 5 seconds</code> or some such, of course."}], "tags": [], "owner": {"reputation": 53041, "user_id": 4653379, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/b3953dbedd0dabff5cbc3db9b0835b14?s=128&d=identicon&r=PG&f=1", "display_name": "zdim", "link": "https://stackoverflow.com/users/4653379/zdim"}, "is_accepted": true, "score": 2, "last_activity_date": 1473881272, "last_edit_date": 1473881272, "creation_date": 1473819469, "answer_id": 39481547, "question_id": 39480613, "link": "https://stackoverflow.com/questions/39480613/regular-expression-to-print-a-string-from-a-command-outpout/39481547#39481547", "title": "Regular expression to print a string from a command outpout", "body": "<p><strong>Updated</strong> to some clarifications -- we need only the last line</p>\n\n<hr>\n\n<p>As if often the case, you don't need a regex to parse the output as shown.  You have space-separated fields and can just <a href=\"http://perldoc.perl.org/functions/split.html\" rel=\"nofollow\"><code>split</code></a> the line and pick the elements you need.</p>\n\n<p>We are told that the line of interest is the last line of the command output. Then we don't need the loop but can take the last element of the array with lines. It is still unclear how <code>$ipsla</code> contains the output -- as a multi-line string or perhaps as an arrayref. Since it is output of a command I'll treat it as a multi-line string, akin to what <a href=\"http://perldoc.perl.org/functions/qx.html\" rel=\"nofollow\"><code>qx</code></a> returns. Then, instead of the <code>foreach</code> loop</p>\n\n<pre><code>my @lines = split '\\n', $ipsla;      # if $ipsla is a multi-line string\n# my @lines = @$ipsla;               # if $ipsla is an arrayref\n\npop @lines while $line[-1] !~ /\\S/;  # remove possible empty lines at end\n\nmy ($type, $return_type) = (split ' ', $lines[-1])[1,4];\n</code></pre>\n\n<p>Here are some comments on the code.  Let me know if more is needed.</p>\n\n<p>We can see in the shown output that the fields up to what we need have no spaces. So we can split the last line on white space, by <code>split ' ', $lines[-1]</code>, and take the 2nd and 5th element (indices 1 and 4), by <code>( ... )[1,4]</code>. These are our two needed values and we assign them. </p>\n\n<p>Just in case the output ends with empty lines we first remove them, by doing <code>pop @lines</code> as long as the last line has no non-space characters, <code>while $lines[-1] !~ /\\S/</code>.  That is the same as</p>\n\n<pre><code>while ( $lines[-1] !~ /\\S/ ) { pop @lines }\n</code></pre>\n\n<hr>\n\n<p><em>Original version, edited for clarifications. It is also a valid way to do what is needed.</em></p>\n\n<p>I assume that data starts after the line with only dashes. Set a flag once that line is reached, process the line(s) if the flag is set. Given the rest of your code, the loop</p>\n\n<pre><code>my $data_start;\nforeach (@lines) \n{\n    if (not $data_start) { \n        $data_start = 1 if /^\\s* -+ \\s*$/x;  # only dashes and optional spaces\n    }\n    else {\n        my ($type, $return_type) = (split)[1,4];\n        print \"type: $type, return code: $return_type\\n\";\n    }\n}\n</code></pre>\n\n<p>This is a sketch until clarifications come. It also assumes that there are more lines than one.</p>\n"}], "owner": {"reputation": 73, "user_id": 6190552, "user_type": "registered", "accept_rate": 71, "profile_image": "https://www.gravatar.com/avatar/c49c39feb0218eb3a5e6372e16a71029?s=128&d=identicon&r=PG&f=1", "display_name": "nims", "link": "https://stackoverflow.com/users/6190552/nims"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 68, "favorite_count": 0, "accepted_answer_id": 39481547, "answer_count": 2, "score": 1, "last_activity_date": 1473881272, "creation_date": 1473811014, "last_edit_date": 1473813413, "question_id": 39480613, "link": "https://stackoverflow.com/questions/39480613/regular-expression-to-print-a-string-from-a-command-outpout", "title": "Regular expression to print a string from a command outpout", "body": "<p>I have written a function that uses regex and prints the required string from a command output.\nThe script works as expected. But it's does not support a dynamic output. currently, I use regex for \"icmp\" and \"ok\" and print the values. Now, <code>type</code> , <code>destination</code> and <code>return code</code> could change. There is a high chance that command doesn't return an output at all.  How do I handle such scenarios ?</p>\n\n<pre><code>sub check_summary{\n\n    my ($self) = @_;\n\n    my $type  = 0;\n    my $return_type = 0;\n\n    my $ipsla = $self-&gt;{'ssh_obj'}-&gt;exec('show ip sla');\n\n    foreach my $line( $ipsla) {\n    if ( $line =~ m/(icmp)/ ) {\n            $type = $1;\n      }\n      if ( $line =~ m/(OK)/ ) {\n            $return_type = $1;\n      }\n    }\n\n    INFO ($type,$return_type);\n}\n\n\n    command Ouptut :\n\n    PSLAs Latest Operation Summary\n    Codes: * active, ^ inactive, ~ pending\n\n    ID           Type        Destination       Stats       Return      Last\n                                               (ms)        Code        Run\n    -----------------------------------------------------------------------\n    *1           icmp      192.168.25.14    RTT=1       OK          1 second ago\n</code></pre>\n"}, {"tags": ["perl"], "comments": [{"owner": {"reputation": 21782, "user_id": 176646, "user_type": "registered", "accept_rate": 88, "profile_image": "https://i.stack.imgur.com/HsQyV.png?s=128&g=1", "display_name": "ThisSuitIsBlackNot", "link": "https://stackoverflow.com/users/176646/thissuitisblacknot"}, "edited": false, "score": 3, "creation_date": 1473803714, "post_id": 39479547, "comment_id": 66278273, "body": "Epoch time is always in UTC <a href=\"https://en.wikipedia.org/wiki/Unix_time\" rel=\"nofollow noreferrer\">by definition</a>."}, {"owner": {"reputation": 394, "user_id": 4504847, "user_type": "registered", "accept_rate": 88, "profile_image": "https://i.stack.imgur.com/U9lvM.png?s=128&g=1", "display_name": "FrankRalphBob", "link": "https://stackoverflow.com/users/4504847/frankralphbob"}, "reply_to_user": {"reputation": 21782, "user_id": 176646, "user_type": "registered", "accept_rate": 88, "profile_image": "https://i.stack.imgur.com/HsQyV.png?s=128&g=1", "display_name": "ThisSuitIsBlackNot", "link": "https://stackoverflow.com/users/176646/thissuitisblacknot"}, "edited": false, "score": 0, "creation_date": 1473803979, "post_id": 39479547, "comment_id": 66278349, "body": "Sorry, let me phrase it a different way, can we get the number of seconds from Jan, 1st, 1970 for our datetime in our timezone?"}, {"owner": {"reputation": 21782, "user_id": 176646, "user_type": "registered", "accept_rate": 88, "profile_image": "https://i.stack.imgur.com/HsQyV.png?s=128&g=1", "display_name": "ThisSuitIsBlackNot", "link": "https://stackoverflow.com/users/176646/thissuitisblacknot"}, "edited": false, "score": 2, "creation_date": 1473804110, "post_id": 39479547, "comment_id": 66278390, "body": "You want <code>localtime-&gt;strptime(...)</code> if <code>$yyyymmddhhmmss</code> holds a local timestamp."}, {"owner": {"reputation": 394, "user_id": 4504847, "user_type": "registered", "accept_rate": 88, "profile_image": "https://i.stack.imgur.com/U9lvM.png?s=128&g=1", "display_name": "FrankRalphBob", "link": "https://stackoverflow.com/users/4504847/frankralphbob"}, "reply_to_user": {"reputation": 21782, "user_id": 176646, "user_type": "registered", "accept_rate": 88, "profile_image": "https://i.stack.imgur.com/HsQyV.png?s=128&g=1", "display_name": "ThisSuitIsBlackNot", "link": "https://stackoverflow.com/users/176646/thissuitisblacknot"}, "edited": false, "score": 0, "creation_date": 1473804887, "post_id": 39479547, "comment_id": 66278642, "body": "@ThisSuitIsBlackNot  Yep, just tried that out, it worked.   If you want to put that as answer, I&#39;ll mark it as such.   Thanks for your help!"}, {"owner": {"reputation": 123805, "user_id": 622310, "user_type": "registered", "accept_rate": 33, "profile_image": "https://www.gravatar.com/avatar/8b6d35219e1808520bc238b28161e2e6?s=128&d=identicon&r=PG", "display_name": "Borodin", "link": "https://stackoverflow.com/users/622310/borodin"}, "reply_to_user": {"reputation": 21782, "user_id": 176646, "user_type": "registered", "accept_rate": 88, "profile_image": "https://i.stack.imgur.com/HsQyV.png?s=128&g=1", "display_name": "ThisSuitIsBlackNot", "link": "https://stackoverflow.com/users/176646/thissuitisblacknot"}, "edited": false, "score": 0, "creation_date": 1473807862, "post_id": 39479547, "comment_id": 66279536, "body": "@ThisSuitIsBlackNot: Please scribe an answer. I think this is a valuable lesson."}, {"owner": {"reputation": 228853, "user_id": 827263, "user_type": "registered", "accept_rate": 54, "profile_image": "https://www.gravatar.com/avatar/216c1db53d752f87dd8176a6ba0c2190?s=128&d=identicon&r=PG", "display_name": "Keith Thompson", "link": "https://stackoverflow.com/users/827263/keith-thompson"}, "edited": false, "score": 2, "creation_date": 1473808719, "post_id": 39479547, "comment_id": 66279776, "body": "The number of seconds since 1970-01-01 00:00:00 <i>local time</i> is not likely to be a useful quantity."}], "answers": [{"tags": [], "owner": {"reputation": 320771, "user_id": 589924, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/b2cf53d5a3d25f95c0db4e025aed4153?s=128&d=identicon&r=PG", "display_name": "ikegami", "link": "https://stackoverflow.com/users/589924/ikegami"}, "is_accepted": true, "score": 0, "last_activity_date": 1473833939, "last_edit_date": 1473833939, "creation_date": 1473833434, "answer_id": 39483551, "question_id": 39479547, "link": "https://stackoverflow.com/questions/39479547/how-to-get-the-time-epoch-to-be-from-a-certain-timezone/39483551#39483551", "title": "How to get the Time-&gt;epoch to be from a certain timezone", "body": "<p>Nowhere do you specify that <code>$yyyymmddhhmmss</code> is a localtime.</p>\n\n<p>Replace</p>\n\n<pre><code>Time::Piece-&gt;strptime($yyyymmddhhmmss, '%Y%m%d:%H%M%S')\n</code></pre>\n\n<p>with</p>\n\n<pre><code>localtime-&gt;strptime($yyyymmddhhmmss, '%Y%m%d:%H%M%S')\n</code></pre>\n"}], "owner": {"reputation": 394, "user_id": 4504847, "user_type": "registered", "accept_rate": 88, "profile_image": "https://i.stack.imgur.com/U9lvM.png?s=128&g=1", "display_name": "FrankRalphBob", "link": "https://stackoverflow.com/users/4504847/frankralphbob"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 231, "favorite_count": 0, "accepted_answer_id": 39483551, "answer_count": 1, "score": 0, "last_activity_date": 1473833939, "creation_date": 1473803501, "question_id": 39479547, "link": "https://stackoverflow.com/questions/39479547/how-to-get-the-time-epoch-to-be-from-a-certain-timezone", "title": "How to get the Time-&gt;epoch to be from a certain timezone", "body": "<p>We are trying to use utime to update files to a certain timestamp.   To do this we are taking the string version of the timestamp, turning it into a \"time object\" and then using the epoch method to get the epoch to update the time file.</p>\n\n<pre><code>my $yyyymmddhhmmss;  # variable holding string version of time. example: 20150512:150632    \nmy $fileTime = Time::Piece-&gt;strptime($yyyymmddhhmmss, '%Y%m%d:%H%M%S'); \nutime $fileTime-&gt;epoch, $fileTime-&gt;epoch, $outfile; \n</code></pre>\n\n<p>However, it is setting the file timestamp to UTC, which is different than the time zone we are in.   Besides manually adding the extra seconds, is there another way to have the epoch push out the seconds for our time zone?  </p>\n"}, {"tags": ["bash", "perl", "for-loop"], "answers": [{"tags": [], "owner": {"reputation": 16405, "user_id": 6776093, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/heFeh.png?s=128&g=1", "display_name": "redneb", "link": "https://stackoverflow.com/users/6776093/redneb"}, "is_accepted": true, "score": 3, "last_activity_date": 1473796107, "last_edit_date": 1473796107, "creation_date": 1473795425, "answer_id": 39477749, "question_id": 39477696, "link": "https://stackoverflow.com/questions/39477696/for-loop-calling-two-different-files-same-name-different-extension-across-sev/39477749#39477749", "title": "for loop calling two different files (same name, different extension) across several files", "body": "<p>This should do it:</p>\n\n<pre><code>for file in *.pep; do\n    ./script.pl  \"$file\" \"${file}.nuc\" &gt; \"${file%.pep}.nucleo\";\ndone   \n</code></pre>\n"}], "owner": {"reputation": 230, "user_id": 2187956, "user_type": "registered", "accept_rate": 100, "profile_image": "https://i.stack.imgur.com/W1psT.jpg?s=128&g=1", "display_name": "Andr&#233;s Parada", "link": "https://stackoverflow.com/users/2187956/andr%c3%a9s-parada"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 66, "favorite_count": 0, "accepted_answer_id": 39477749, "answer_count": 1, "score": 0, "last_activity_date": 1473796673, "creation_date": 1473795233, "last_edit_date": 1473796673, "question_id": 39477696, "link": "https://stackoverflow.com/questions/39477696/for-loop-calling-two-different-files-same-name-different-extension-across-sev", "title": "for loop calling two different files (same name, different extension) across several files", "body": "<p>I have several files. I need to run a <em>perl</em> script calling all the files in a folder, simultaneously calling one file with extension <em>.pep</em> and another that is a similar file and matches the same name but different extension, <em>.pep.nuc</em> (like <code>Oh01.pep</code> and <code>Oh001.pep.nuc</code>)</p>\n\n<p>I have this script so far, but I am missing something of course.</p>\n\n<pre><code>for file *.pep; do ./script.pl  *.pep *.pep.nuc &gt; \"${file%.*}.nucleo\"; done   \n</code></pre>\n"}, {"tags": ["perl", "ubuntu"], "comments": [{"owner": {"reputation": 8273, "user_id": 1334695, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/431ae6e9f7610b9d6a6a6cdebd0244d5?s=128&d=identicon&r=PG", "display_name": "stevieb", "link": "https://stackoverflow.com/users/1334695/stevieb"}, "edited": false, "score": 0, "creation_date": 1473790090, "post_id": 39476388, "comment_id": 66272096, "body": "are you behind a proxy?"}, {"owner": {"reputation": 311, "user_id": 5812643, "user_type": "registered", "accept_rate": 87, "profile_image": "https://i.stack.imgur.com/CjMrZ.jpg?s=128&g=1", "display_name": "ccy", "link": "https://stackoverflow.com/users/5812643/ccy"}, "reply_to_user": {"reputation": 8273, "user_id": 1334695, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/431ae6e9f7610b9d6a6a6cdebd0244d5?s=128&d=identicon&r=PG", "display_name": "stevieb", "link": "https://stackoverflow.com/users/1334695/stevieb"}, "edited": false, "score": 0, "creation_date": 1473790183, "post_id": 39476388, "comment_id": 66272138, "body": "@stevieb I think no."}, {"owner": {"reputation": 8273, "user_id": 1334695, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/431ae6e9f7610b9d6a6a6cdebd0244d5?s=128&d=identicon&r=PG", "display_name": "stevieb", "link": "https://stackoverflow.com/users/1334695/stevieb"}, "edited": false, "score": 0, "creation_date": 1473790327, "post_id": 39476388, "comment_id": 66272212, "body": "what happens if you <code>ping cpan.mirror.rafal.ca</code>? Does the DNS name resolve to an IP address?"}, {"owner": {"reputation": 311, "user_id": 5812643, "user_type": "registered", "accept_rate": 87, "profile_image": "https://i.stack.imgur.com/CjMrZ.jpg?s=128&g=1", "display_name": "ccy", "link": "https://stackoverflow.com/users/5812643/ccy"}, "reply_to_user": {"reputation": 8273, "user_id": 1334695, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/431ae6e9f7610b9d6a6a6cdebd0244d5?s=128&d=identicon&r=PG", "display_name": "stevieb", "link": "https://stackoverflow.com/users/1334695/stevieb"}, "edited": false, "score": 0, "creation_date": 1473790474, "post_id": 39476388, "comment_id": 66272277, "body": "@stevieb ping: unknown host cpan.mirror.rafal.ca"}, {"owner": {"reputation": 8273, "user_id": 1334695, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/431ae6e9f7610b9d6a6a6cdebd0244d5?s=128&d=identicon&r=PG", "display_name": "stevieb", "link": "https://stackoverflow.com/users/1334695/stevieb"}, "edited": false, "score": 0, "creation_date": 1473790619, "post_id": 39476388, "comment_id": 66272336, "body": "it seems your DNS is borked then. Can you browse websites from within a browser on that system (or even via <code>wget</code>)? The one specified should take you to the front page of a CPAN mirror. If not, can you browse to its IP (<code>207.210.46.249</code>)? It should display simply <code>It works!</code>"}, {"owner": {"reputation": 311, "user_id": 5812643, "user_type": "registered", "accept_rate": 87, "profile_image": "https://i.stack.imgur.com/CjMrZ.jpg?s=128&g=1", "display_name": "ccy", "link": "https://stackoverflow.com/users/5812643/ccy"}, "reply_to_user": {"reputation": 8273, "user_id": 1334695, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/431ae6e9f7610b9d6a6a6cdebd0244d5?s=128&d=identicon&r=PG", "display_name": "stevieb", "link": "https://stackoverflow.com/users/1334695/stevieb"}, "edited": false, "score": 0, "creation_date": 1473791402, "post_id": 39476388, "comment_id": 66272727, "body": "@stevieb I saw  &quot;It works!&quot;"}, {"owner": {"reputation": 8273, "user_id": 1334695, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/431ae6e9f7610b9d6a6a6cdebd0244d5?s=128&d=identicon&r=PG", "display_name": "stevieb", "link": "https://stackoverflow.com/users/1334695/stevieb"}, "edited": false, "score": 0, "creation_date": 1473791827, "post_id": 39476388, "comment_id": 66272953, "body": "by IP or by name did it work?"}, {"owner": {"reputation": 311, "user_id": 5812643, "user_type": "registered", "accept_rate": 87, "profile_image": "https://i.stack.imgur.com/CjMrZ.jpg?s=128&g=1", "display_name": "ccy", "link": "https://stackoverflow.com/users/5812643/ccy"}, "reply_to_user": {"reputation": 8273, "user_id": 1334695, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/431ae6e9f7610b9d6a6a6cdebd0244d5?s=128&d=identicon&r=PG", "display_name": "stevieb", "link": "https://stackoverflow.com/users/1334695/stevieb"}, "edited": false, "score": 0, "creation_date": 1473791970, "post_id": 39476388, "comment_id": 66273035, "body": "@stevieb yes, it show it works."}, {"owner": {"reputation": 8273, "user_id": 1334695, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/431ae6e9f7610b9d6a6a6cdebd0244d5?s=128&d=identicon&r=PG", "display_name": "stevieb", "link": "https://stackoverflow.com/users/1334695/stevieb"}, "edited": false, "score": 0, "creation_date": 1473792288, "post_id": 39476388, "comment_id": 66273206, "body": "at the <code>cpan</code> shell, try this: <code>o conf urllist unshift http:&#47;&#47;www.cpan.org</code>, then attempt to install the module (<code>install ...</code> from within the cpan shell you&#39;re still in). If that fails, <code>o conf urllist unshift http:&#47;&#47;207.210.46.249</code>, and try install again. These changes will be deleted if you exit the cpan shell, so don&#39;t, until you&#39;re done testing."}, {"owner": {"reputation": 311, "user_id": 5812643, "user_type": "registered", "accept_rate": 87, "profile_image": "https://i.stack.imgur.com/CjMrZ.jpg?s=128&g=1", "display_name": "ccy", "link": "https://stackoverflow.com/users/5812643/ccy"}, "reply_to_user": {"reputation": 8273, "user_id": 1334695, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/431ae6e9f7610b9d6a6a6cdebd0244d5?s=128&d=identicon&r=PG", "display_name": "stevieb", "link": "https://stackoverflow.com/users/1334695/stevieb"}, "edited": false, "score": 0, "creation_date": 1473792621, "post_id": 39476388, "comment_id": 66273369, "body": "@stevieb thank you, I am following your answer to do it and see."}, {"owner": {"reputation": 311, "user_id": 5812643, "user_type": "registered", "accept_rate": 87, "profile_image": "https://i.stack.imgur.com/CjMrZ.jpg?s=128&g=1", "display_name": "ccy", "link": "https://stackoverflow.com/users/5812643/ccy"}, "reply_to_user": {"reputation": 8273, "user_id": 1334695, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/431ae6e9f7610b9d6a6a6cdebd0244d5?s=128&d=identicon&r=PG", "display_name": "stevieb", "link": "https://stackoverflow.com/users/1334695/stevieb"}, "edited": false, "score": 0, "creation_date": 1473793133, "post_id": 39476388, "comment_id": 66273612, "body": "@stevieb  connection failed. I got  <a href=\"http://207.210.46.249/authors/01mailrc.txt.gz\" rel=\"nofollow noreferrer\">207.210.46.249/authors/01mailrc.txt.gz</a> LWP failed with code[500] message[Can&#39;t connect to 207.210.46.249:80 (Connection timed out)]  Trying with     /usr/bin/wget -O &quot;/root/.cpan/sources/authors/01mailrc.txt.gz.tmp32529&quot; to get     <a href=\"http://207.210.46.249/authors/01mailrc.txt.gz\" rel=\"nofollow noreferrer\">207.210.46.249/authors/01mailrc.txt.gz</a> --2016-09-13 14:53:23--  <a href=\"http://207.210.46.249/authors/01mailrc.txt.gz\" rel=\"nofollow noreferrer\">207.210.46.249/authors/01mailrc.txt.gz</a> Connecting to 207.210.46.249:80... failed: Connection timed out. Retrying."}, {"owner": {"reputation": 8273, "user_id": 1334695, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/431ae6e9f7610b9d6a6a6cdebd0244d5?s=128&d=identicon&r=PG", "display_name": "stevieb", "link": "https://stackoverflow.com/users/1334695/stevieb"}, "edited": false, "score": 0, "creation_date": 1473793630, "post_id": 39476388, "comment_id": 66273835, "body": "are you positive you&#39;re not behind a proxy server? Check your browser settings..."}, {"owner": {"reputation": 311, "user_id": 5812643, "user_type": "registered", "accept_rate": 87, "profile_image": "https://i.stack.imgur.com/CjMrZ.jpg?s=128&g=1", "display_name": "ccy", "link": "https://stackoverflow.com/users/5812643/ccy"}, "reply_to_user": {"reputation": 8273, "user_id": 1334695, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/431ae6e9f7610b9d6a6a6cdebd0244d5?s=128&d=identicon&r=PG", "display_name": "stevieb", "link": "https://stackoverflow.com/users/1334695/stevieb"}, "edited": false, "score": 0, "creation_date": 1473794627, "post_id": 39476388, "comment_id": 66274338, "body": "@stevieb I saw the config and the &#39;http_proxy&#39; =&gt; q[]"}, {"owner": {"reputation": 8273, "user_id": 1334695, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/431ae6e9f7610b9d6a6a6cdebd0244d5?s=128&d=identicon&r=PG", "display_name": "stevieb", "link": "https://stackoverflow.com/users/1334695/stevieb"}, "edited": false, "score": 0, "creation_date": 1473794777, "post_id": 39476388, "comment_id": 66274412, "body": "in your web browser (eg: Firefox, Chrome etc), do you have a proxy set in the network configuration?"}, {"owner": {"reputation": 311, "user_id": 5812643, "user_type": "registered", "accept_rate": 87, "profile_image": "https://i.stack.imgur.com/CjMrZ.jpg?s=128&g=1", "display_name": "ccy", "link": "https://stackoverflow.com/users/5812643/ccy"}, "reply_to_user": {"reputation": 8273, "user_id": 1334695, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/431ae6e9f7610b9d6a6a6cdebd0244d5?s=128&d=identicon&r=PG", "display_name": "stevieb", "link": "https://stackoverflow.com/users/1334695/stevieb"}, "edited": false, "score": 0, "creation_date": 1473795265, "post_id": 39476388, "comment_id": 66274643, "body": "@stevieb lets me double check. thank you."}, {"owner": {"reputation": 8273, "user_id": 1334695, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/431ae6e9f7610b9d6a6a6cdebd0244d5?s=128&d=identicon&r=PG", "display_name": "stevieb", "link": "https://stackoverflow.com/users/1334695/stevieb"}, "edited": false, "score": 0, "creation_date": 1473795747, "post_id": 39476388, "comment_id": 66274900, "body": "let me know. if one is in use, I&#39;ll write an answer showing how to fix it"}, {"owner": {"reputation": 311, "user_id": 5812643, "user_type": "registered", "accept_rate": 87, "profile_image": "https://i.stack.imgur.com/CjMrZ.jpg?s=128&g=1", "display_name": "ccy", "link": "https://stackoverflow.com/users/5812643/ccy"}, "reply_to_user": {"reputation": 8273, "user_id": 1334695, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/431ae6e9f7610b9d6a6a6cdebd0244d5?s=128&d=identicon&r=PG", "display_name": "stevieb", "link": "https://stackoverflow.com/users/1334695/stevieb"}, "edited": false, "score": 0, "creation_date": 1473796819, "post_id": 39476388, "comment_id": 66275440, "body": "@stevieb thank you very much. I will."}, {"owner": {"reputation": 311, "user_id": 5812643, "user_type": "registered", "accept_rate": 87, "profile_image": "https://i.stack.imgur.com/CjMrZ.jpg?s=128&g=1", "display_name": "ccy", "link": "https://stackoverflow.com/users/5812643/ccy"}, "reply_to_user": {"reputation": 8273, "user_id": 1334695, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/431ae6e9f7610b9d6a6a6cdebd0244d5?s=128&d=identicon&r=PG", "display_name": "stevieb", "link": "https://stackoverflow.com/users/1334695/stevieb"}, "edited": false, "score": 0, "creation_date": 1473859371, "post_id": 39476388, "comment_id": 66300650, "body": "@stevieb I think its the proxy problem, thank you very much, but I need to install this behind the proxy. what can I do right now? We are not allowed to download anything behind the proxy. I use WinSCP to download the file and put into Putty, but I think it not the only one I need to install. Is there any way to solve this problem?"}], "answers": [{"comments": [{"owner": {"reputation": 311, "user_id": 5812643, "user_type": "registered", "accept_rate": 87, "profile_image": "https://i.stack.imgur.com/CjMrZ.jpg?s=128&g=1", "display_name": "ccy", "link": "https://stackoverflow.com/users/5812643/ccy"}, "edited": false, "score": 0, "creation_date": 1473860091, "post_id": 39480939, "comment_id": 66301177, "body": "thank you, I use &#39;sudo apt-get install libxml-simple-perl&#39; to see what happened, and I got:"}, {"owner": {"reputation": 311, "user_id": 5812643, "user_type": "registered", "accept_rate": 87, "profile_image": "https://i.stack.imgur.com/CjMrZ.jpg?s=128&g=1", "display_name": "ccy", "link": "https://stackoverflow.com/users/5812643/ccy"}, "edited": false, "score": 0, "creation_date": 1473860156, "post_id": 39480939, "comment_id": 66301223, "body": "Reading package lists... Done Building dependency tree Reading state information... Done The following extra packages will be installed:   libencode-locale-perl libfile-listing-perl libfont-afm-perl   libhtml-form-perl libhtml-format-perl libhtml-parser-perl   libhtml-tagset-perl libhtml-tree-perl libhttp-cookies-perl   libhttp-daemon-perl libhttp-date-perl libhttp-message-perl   libhttp-negotiate-perl libio-html-perl liblwp-mediatypes-perl   liblwp-protocol-https-perl libnet-http-perl libwww-perl .............//many lines here Do you want to continue? [Y/n] y"}, {"owner": {"reputation": 311, "user_id": 5812643, "user_type": "registered", "accept_rate": 87, "profile_image": "https://i.stack.imgur.com/CjMrZ.jpg?s=128&g=1", "display_name": "ccy", "link": "https://stackoverflow.com/users/5812643/ccy"}, "edited": false, "score": 0, "creation_date": 1475085113, "post_id": 39480939, "comment_id": 66804874, "body": "sudo apt-get install libxml-simple-perl     is working"}], "tags": [], "owner": {"reputation": 42833, "user_id": 18914, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/7a20a39ae2ef47ae042a3eddd5b5bd19?s=128&d=identicon&r=PG", "display_name": "Dave Sherohman", "link": "https://stackoverflow.com/users/18914/dave-sherohman"}, "is_accepted": true, "score": 4, "last_activity_date": 1473813942, "creation_date": 1473813942, "answer_id": 39480939, "question_id": 39476388, "link": "https://stackoverflow.com/questions/39476388/perl-cant-locate-xml-simple-pm/39480939#39480939", "title": "Perl Can&#39;t locate XML/Simple.pm", "body": "<p>You're already getting help in comments for getting CPAN installs working correctly, but most common Perl modules can also be installed from the Ubuntu repositories.  In this case, you should also be able to <code>sudo apt-get install libxml-simple-perl</code> to install it from Ubuntu.  If that's not the correct package name (I use Debian rather than Ubuntu, so it's possible Ubuntu may have renamed it), you can use <code>apt-cache search XML::Simple</code> to get a list of matching packages, then check their details with <code>apt-cache show [package name]</code> to determine which is the one you want.</p>\n\n<p>Note, however, that the <a href=\"https://metacpan.org/pod/XML::Simple\" rel=\"nofollow\">XML::Simple</a> documentation advises <em>\"You really don't want to use this module in new code.\"</em>  If you are writing new code, you should probably look into another XML module.  I personally use <a href=\"https://metacpan.org/pod/XML::Twig\" rel=\"nofollow\">XML::Twig</a>, which happens to offer a <code>simplify</code> method which produces output very much like that from XML::Simple, although you're probably better off getting used to the more robust node-based interface.</p>\n"}], "owner": {"reputation": 311, "user_id": 5812643, "user_type": "registered", "accept_rate": 87, "profile_image": "https://i.stack.imgur.com/CjMrZ.jpg?s=128&g=1", "display_name": "ccy", "link": "https://stackoverflow.com/users/5812643/ccy"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 6069, "favorite_count": 0, "accepted_answer_id": 39480939, "answer_count": 1, "score": 2, "last_activity_date": 1569243065, "creation_date": 1473789888, "last_edit_date": 1569243065, "question_id": 39476388, "link": "https://stackoverflow.com/questions/39476388/perl-cant-locate-xml-simple-pm", "title": "Perl Can&#39;t locate XML/Simple.pm", "body": "<p>I am working on Perl, and when I run my script I got the error said :</p>\n\n<pre><code>Can't locate XML/Simple.pm in @INC \n</code></pre>\n"}, {"tags": ["regex", "perl"], "comments": [{"owner": {"reputation": 21782, "user_id": 176646, "user_type": "registered", "accept_rate": 88, "profile_image": "https://i.stack.imgur.com/HsQyV.png?s=128&g=1", "display_name": "ThisSuitIsBlackNot", "link": "https://stackoverflow.com/users/176646/thissuitisblacknot"}, "edited": false, "score": 0, "creation_date": 1473783499, "post_id": 39474659, "comment_id": 66268630, "body": "That looks like the output from <code>snmpwalk</code>. If you&#39;re running SNMP queries, you should really use a module like <a href=\"https://metacpan.org/pod/SNMP\" rel=\"nofollow noreferrer\">SNMP.pm</a> or <a href=\"https://metacpan.org/pod/Net::SNMP\" rel=\"nofollow noreferrer\">Net::SNMP</a>."}, {"owner": {"user_type": "does_not_exist", "display_name": "user557597"}, "edited": false, "score": 0, "creation_date": 1473783657, "post_id": 39474659, "comment_id": 66268718, "body": "This <code>( [^&quot;]* )</code> will always match, the or/alternation will never match. This assertion <code>(?= \\&quot; ) \\&quot;</code> will always be true, why is it there? If it&#39;s not true, nothing will match. None of those literals need to be escaped. Why not show the perl code you&#39;re using. And <code>No space</code> = <code>[^\\s]</code>"}], "answers": [{"comments": [{"owner": {"reputation": 3105, "user_id": 912111, "user_type": "registered", "accept_rate": 52, "profile_image": "https://i.stack.imgur.com/u3FQz.jpg?s=128&g=1", "display_name": "Raja", "link": "https://stackoverflow.com/users/912111/raja"}, "edited": false, "score": 0, "creation_date": 1473784200, "post_id": 39474740, "comment_id": 66268987, "body": "Thanks. But it always matches two items."}, {"owner": {"reputation": 16405, "user_id": 6776093, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/heFeh.png?s=128&g=1", "display_name": "redneb", "link": "https://stackoverflow.com/users/6776093/redneb"}, "reply_to_user": {"reputation": 3105, "user_id": 912111, "user_type": "registered", "accept_rate": 52, "profile_image": "https://i.stack.imgur.com/u3FQz.jpg?s=128&g=1", "display_name": "Raja", "link": "https://stackoverflow.com/users/912111/raja"}, "edited": false, "score": 0, "creation_date": 1473784298, "post_id": 39474740, "comment_id": 66269044, "body": "@Yadheendran What do you mean? What two items?"}, {"owner": {"reputation": 3105, "user_id": 912111, "user_type": "registered", "accept_rate": 52, "profile_image": "https://i.stack.imgur.com/u3FQz.jpg?s=128&g=1", "display_name": "Raja", "link": "https://stackoverflow.com/users/912111/raja"}, "edited": false, "score": 0, "creation_date": 1473784485, "post_id": 39474740, "comment_id": 66269126, "body": "Yes. The string stored in $2."}, {"owner": {"reputation": 83048, "user_id": 2255089, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/ZNAsT.jpg?s=128&g=1", "display_name": "Casimir et Hippolyte", "link": "https://stackoverflow.com/users/2255089/casimir-et-hippolyte"}, "edited": false, "score": 3, "creation_date": 1473792710, "post_id": 39474740, "comment_id": 66273415, "body": "You can also use: <code>=\\s*STRING:\\s&quot;?([^&quot;]*)</code>"}], "tags": [], "owner": {"reputation": 16405, "user_id": 6776093, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/heFeh.png?s=128&g=1", "display_name": "redneb", "link": "https://stackoverflow.com/users/6776093/redneb"}, "is_accepted": false, "score": 7, "last_activity_date": 1473783612, "creation_date": 1473783612, "answer_id": 39474740, "question_id": 39474659, "link": "https://stackoverflow.com/questions/39474659/regex-match-string-that-with-and-space/39474740#39474740", "title": "Regex - Match string that with : and space", "body": "<p>Try this regular expression:</p>\n\n<pre><code>=\\s*STRING:\\s(\"?)([^\"]*)\\1\n</code></pre>\n\n<p>There is no need to use look-aheads, just use <code>(\"?)</code> to match the quote (if it exists) and then use a backreference to match it again in the end. The string after <code>STRING</code> will be stored in <code>$2</code>.</p>\n"}, {"comments": [{"owner": {"reputation": 658023, "user_id": 548225, "user_type": "registered", "accept_rate": 90, "profile_image": "https://www.gravatar.com/avatar/dab08478b226280d4a30894c9a7ed719?s=128&d=identicon&r=PG", "display_name": "anubhava", "link": "https://stackoverflow.com/users/548225/anubhava"}, "reply_to_user": {"reputation": 43580, "user_id": 1020526, "user_type": "registered", "accept_rate": 73, "profile_image": "https://i.stack.imgur.com/Scjj8.jpg?s=128&g=1", "display_name": "revo", "link": "https://stackoverflow.com/users/1020526/revo"}, "edited": false, "score": 1, "creation_date": 1473784577, "post_id": 39474749, "comment_id": 66269171, "body": "@revo: Thanks for fixing my typo in answer."}], "tags": [], "owner": {"reputation": 658023, "user_id": 548225, "user_type": "registered", "accept_rate": 90, "profile_image": "https://www.gravatar.com/avatar/dab08478b226280d4a30894c9a7ed719?s=128&d=identicon&r=PG", "display_name": "anubhava", "link": "https://stackoverflow.com/users/548225/anubhava"}, "is_accepted": true, "score": 2, "last_activity_date": 1473784481, "last_edit_date": 1473784481, "creation_date": 1473783656, "answer_id": 39474749, "question_id": 39474659, "link": "https://stackoverflow.com/questions/39474659/regex-match-string-that-with-and-space/39474749#39474749", "title": "Regex - Match string that with : and space", "body": "<p>In perl (PCRE) you can use a regex using <code>(?|...)</code> non-capturing group construct:</p>\n\n<pre><code>/=\\s*STRING:\\s(?|\"([^\"]*)|([^:]*))/\n</code></pre>\n\n<p><a href=\"https://regex101.com/r/yN7oT9/2\" rel=\"nofollow\">RegEx Demo</a></p>\n\n<p><code>(?|...)</code> - Subpatterns declared within each alternative of this construct will start over from the same index.</p>\n\n<p>This regex will match <code>1234 blah blah blah</code> in the captured group #1 for both input lines.</p>\n"}], "owner": {"reputation": 3105, "user_id": 912111, "user_type": "registered", "accept_rate": 52, "profile_image": "https://i.stack.imgur.com/u3FQz.jpg?s=128&g=1", "display_name": "Raja", "link": "https://stackoverflow.com/users/912111/raja"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 359, "favorite_count": 0, "accepted_answer_id": 39474749, "answer_count": 2, "score": 4, "last_activity_date": 1473784481, "creation_date": 1473783315, "last_edit_date": 1473783404, "question_id": 39474659, "link": "https://stackoverflow.com/questions/39474659/regex-match-string-that-with-and-space", "title": "Regex - Match string that with : and space", "body": "<p>I have below possible strings and i need to match specific chars.</p>\n\n<p>Possible String to match:</p>\n\n<pre><code>dsg.1.2.3.4.5.6.7.5 = STRING: 1234 blah blah blah\n\nOR\n\ndsg.1.2.3.4.5.6.7.5 = STRING: \"1234 blah blah blah\"\n</code></pre>\n\n<p>Below is the Regex that i have tried. It is working but for the 1st string, It is matching with \" \"</p>\n\n<pre><code>\\=\\s*STRING\\:\\s(?=\\\")\\\"([^\"]*)|([^:]*$)\n</code></pre>\n\n<p>To match the above possible string, I used if condition that match well for the <code>dsg.1.2.3.4.5.6.7.5 = STRING: \"1234 blah blah blah\"</code></p>\n\n<p>Not the <code>dsg.1.2.3.4.5.6.7.5 = STRING: 1234 blah blah blah</code></p>\n\n<p>Output issue after match:</p>\n\n<pre><code>2.  [29-58] ` 1234 blah blah blah`\n</code></pre>\n\n<p>output needed: </p>\n\n<pre><code>1.  [29-58] `1234 blah blah blah` --&gt; No space \n</code></pre>\n\n<p>Please help me on this issue. </p>\n"}, {"tags": ["perl", "cpan"], "comments": [{"owner": {"reputation": 4644, "user_id": 1431720, "user_type": "registered", "accept_rate": 89, "profile_image": "https://www.gravatar.com/avatar/f5a1388d4d3b2bf03b11bb5658c68c29?s=128&d=identicon&r=PG", "display_name": "Robert", "link": "https://stackoverflow.com/users/1431720/robert"}, "edited": false, "score": 1, "creation_date": 1473781550, "post_id": 39474080, "comment_id": 66267481, "body": "It pretty much says there what&#39;s wrong --- your List::Util is too old. Upgrade that."}, {"owner": {"reputation": 1263, "user_id": 696264, "user_type": "registered", "accept_rate": 70, "profile_image": "https://www.gravatar.com/avatar/c3fa04fd8c4245eac2d015a26674bc18?s=128&d=identicon&r=PG", "display_name": "Madhan", "link": "https://stackoverflow.com/users/696264/madhan"}, "reply_to_user": {"reputation": 4644, "user_id": 1431720, "user_type": "registered", "accept_rate": 89, "profile_image": "https://www.gravatar.com/avatar/f5a1388d4d3b2bf03b11bb5658c68c29?s=128&d=identicon&r=PG", "display_name": "Robert", "link": "https://stackoverflow.com/users/1431720/robert"}, "edited": false, "score": 0, "creation_date": 1473781818, "post_id": 39474080, "comment_id": 66267651, "body": "I have upgraded. Although, receiving the same error"}, {"owner": {"reputation": 21782, "user_id": 176646, "user_type": "registered", "accept_rate": 88, "profile_image": "https://i.stack.imgur.com/HsQyV.png?s=128&g=1", "display_name": "ThisSuitIsBlackNot", "link": "https://stackoverflow.com/users/176646/thissuitisblacknot"}, "edited": false, "score": 2, "creation_date": 1473782395, "post_id": 39474080, "comment_id": 66267981, "body": "@Madhan Then either the installation failed, or the module was installed somewhere that perl can&#39;t find it. Are you sure List::Util installed successfully? CPAN Testers shows <a href=\"http://matrix.cpantesters.org/?dist=Scalar-List-Utils%201.45;perl=5.8.8;reports=1\" rel=\"nofollow noreferrer\">a number of failures on Perl 5.8.8</a>. As an aside, you should <i>really</i> upgrade your perl version; 5.8.8 is over 10 years old!"}], "answers": [{"comments": [{"owner": {"reputation": 1263, "user_id": 696264, "user_type": "registered", "accept_rate": 70, "profile_image": "https://www.gravatar.com/avatar/c3fa04fd8c4245eac2d015a26674bc18?s=128&d=identicon&r=PG", "display_name": "Madhan", "link": "https://stackoverflow.com/users/696264/madhan"}, "edited": false, "score": 0, "creation_date": 1473781738, "post_id": 39474132, "comment_id": 66267594, "body": "I have re-installed the updated List::Util and also installed the Config::IniFiles modules by cpan Config::IniFiles"}, {"owner": {"reputation": 320771, "user_id": 589924, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/b2cf53d5a3d25f95c0db4e025aed4153?s=128&d=identicon&r=PG", "display_name": "ikegami", "link": "https://stackoverflow.com/users/589924/ikegami"}, "reply_to_user": {"reputation": 1263, "user_id": 696264, "user_type": "registered", "accept_rate": 70, "profile_image": "https://www.gravatar.com/avatar/c3fa04fd8c4245eac2d015a26674bc18?s=128&d=identicon&r=PG", "display_name": "Madhan", "link": "https://stackoverflow.com/users/696264/madhan"}, "edited": false, "score": 0, "creation_date": 1473782205, "post_id": 39474132, "comment_id": 66267879, "body": "The problem wasn&#39;t that List::Util wasn&#39;t installed, so let&#39;s assume you meant you installed List::Util 1.33, and let&#39;s assume you meant to say you are still having the problem. If that&#39;s true, there are numerous possibilities. Please specify how you installed the module. (Provide the exact command, please.) If you used <code>cpan</code>, provide the output of <code>echo &#39;o conf&#39; | cpan</code>. Also, provide the output of <code>set | grep ^PERL</code>. (All of this you be added as an edit to your question.)"}, {"owner": {"reputation": 1263, "user_id": 696264, "user_type": "registered", "accept_rate": 70, "profile_image": "https://www.gravatar.com/avatar/c3fa04fd8c4245eac2d015a26674bc18?s=128&d=identicon&r=PG", "display_name": "Madhan", "link": "https://stackoverflow.com/users/696264/madhan"}, "edited": false, "score": 0, "creation_date": 1473782338, "post_id": 39474132, "comment_id": 66267952, "body": "Now the List::Util module has updated in its recent version, which is 1.45. I have downloaded the Config::IniFiles from cpan and installed via the command cpan[4]&gt; install Config::IniFiles."}, {"owner": {"reputation": 320771, "user_id": 589924, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/b2cf53d5a3d25f95c0db4e025aed4153?s=128&d=identicon&r=PG", "display_name": "ikegami", "link": "https://stackoverflow.com/users/589924/ikegami"}, "reply_to_user": {"reputation": 1263, "user_id": 696264, "user_type": "registered", "accept_rate": 70, "profile_image": "https://www.gravatar.com/avatar/c3fa04fd8c4245eac2d015a26674bc18?s=128&d=identicon&r=PG", "display_name": "Madhan", "link": "https://stackoverflow.com/users/696264/madhan"}, "edited": false, "score": 0, "creation_date": 1473782405, "post_id": 39474132, "comment_id": 66267989, "body": "1) That&#39;s not even the right module. 2) Be more specific. How did you launch <code>cpan</code>? 3) What&#39;s the answer to the other questions. 4) Why are you posting that in a comment?"}, {"owner": {"reputation": 320771, "user_id": 589924, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/b2cf53d5a3d25f95c0db4e025aed4153?s=128&d=identicon&r=PG", "display_name": "ikegami", "link": "https://stackoverflow.com/users/589924/ikegami"}, "reply_to_user": {"reputation": 1263, "user_id": 696264, "user_type": "registered", "accept_rate": 70, "profile_image": "https://www.gravatar.com/avatar/c3fa04fd8c4245eac2d015a26674bc18?s=128&d=identicon&r=PG", "display_name": "Madhan", "link": "https://stackoverflow.com/users/696264/madhan"}, "edited": false, "score": 1, "creation_date": 1473782679, "post_id": 39474132, "comment_id": 66268151, "body": "Two more pieces of info, please: The output of <code>which cpan</code> and of <code>head -n 1 `which cpan`</code>"}, {"owner": {"reputation": 1263, "user_id": 696264, "user_type": "registered", "accept_rate": 70, "profile_image": "https://www.gravatar.com/avatar/c3fa04fd8c4245eac2d015a26674bc18?s=128&d=identicon&r=PG", "display_name": "Madhan", "link": "https://stackoverflow.com/users/696264/madhan"}, "edited": false, "score": 0, "creation_date": 1473782800, "post_id": 39474132, "comment_id": 66268227, "body": "I have answered your questions in the above comment. Please assist where suppose to post my answers for your queries. I cant find the reply option. Then, the module has installed by another person. I have received the details as that he has downloaded the module from cpan tar.gz format and he installed using cpan install command."}, {"owner": {"reputation": 320771, "user_id": 589924, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/b2cf53d5a3d25f95c0db4e025aed4153?s=128&d=identicon&r=PG", "display_name": "ikegami", "link": "https://stackoverflow.com/users/589924/ikegami"}, "reply_to_user": {"reputation": 1263, "user_id": 696264, "user_type": "registered", "accept_rate": 70, "profile_image": "https://www.gravatar.com/avatar/c3fa04fd8c4245eac2d015a26674bc18?s=128&d=identicon&r=PG", "display_name": "Madhan", "link": "https://stackoverflow.com/users/696264/madhan"}, "edited": false, "score": 1, "creation_date": 1473783450, "post_id": 39474132, "comment_id": 66268598, "body": "Re &quot;<i>I have answered your questions in the above comment</i>&quot;, No, you haven&#39;t provided ANY of the information I requested. // Re &quot;<i>Please assist where suppose to post my answers for your queries</i>&quot;, Your Question is lacking in information. I pointed out which information is lacking. You need to fix your question, which can be done by using the &quot;edit&quot; link is provided. // Re &quot;<i>Then, the module has installed by another person</i>&quot;, You told me you did it! (&quot;I have re-installed the updated List::Util&quot;) So back to the beginning: What makes you think List::Util 1.33 is installed?"}, {"owner": {"reputation": 1263, "user_id": 696264, "user_type": "registered", "accept_rate": 70, "profile_image": "https://www.gravatar.com/avatar/c3fa04fd8c4245eac2d015a26674bc18?s=128&d=identicon&r=PG", "display_name": "Madhan", "link": "https://stackoverflow.com/users/696264/madhan"}, "edited": false, "score": 0, "creation_date": 1473785348, "post_id": 39474132, "comment_id": 66269575, "body": "Yes. Another person done the Config::IniFiles installation. I done the re-installation for List::Util. It get updated with 1.45 version. :-) If possible pls suggest a way to resolve the issue:-) I mean what step I should take to work with that module?"}, {"owner": {"reputation": 320771, "user_id": 589924, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/b2cf53d5a3d25f95c0db4e025aed4153?s=128&d=identicon&r=PG", "display_name": "ikegami", "link": "https://stackoverflow.com/users/589924/ikegami"}, "reply_to_user": {"reputation": 1263, "user_id": 696264, "user_type": "registered", "accept_rate": 70, "profile_image": "https://www.gravatar.com/avatar/c3fa04fd8c4245eac2d015a26674bc18?s=128&d=identicon&r=PG", "display_name": "Madhan", "link": "https://stackoverflow.com/users/696264/madhan"}, "edited": false, "score": 1, "creation_date": 1473785546, "post_id": 39474132, "comment_id": 66269671, "body": "I didn&#39;t mention Config::IniFiles a single time. Not sure why you keep bringing it up. /// Re &quot;<i>If possible pls suggest a way to resolve the issue</i>&quot;, We require more information to do that. I&#39;ve specified exactly what information we need to get started. The ball is in your court."}, {"owner": {"reputation": 1809, "user_id": 5413666, "user_type": "registered", "accept_rate": 12, "profile_image": "https://www.gravatar.com/avatar/c560e122aef358e019a4971d4fbc6833?s=128&d=identicon&r=PG&f=1", "display_name": "rParvathi", "link": "https://stackoverflow.com/users/5413666/rparvathi"}, "reply_to_user": {"reputation": 1263, "user_id": 696264, "user_type": "registered", "accept_rate": 70, "profile_image": "https://www.gravatar.com/avatar/c3fa04fd8c4245eac2d015a26674bc18?s=128&d=identicon&r=PG", "display_name": "Madhan", "link": "https://stackoverflow.com/users/696264/madhan"}, "edited": false, "score": 0, "creation_date": 1524030606, "post_id": 39474132, "comment_id": 86799649, "body": "@Madhan how u resolved this issue ? I&#39;m also stuck with the same"}], "tags": [], "owner": {"reputation": 320771, "user_id": 589924, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/b2cf53d5a3d25f95c0db4e025aed4153?s=128&d=identicon&r=PG", "display_name": "ikegami", "link": "https://stackoverflow.com/users/589924/ikegami"}, "is_accepted": false, "score": 3, "last_activity_date": 1473782723, "last_edit_date": 1473782723, "creation_date": 1473781535, "answer_id": 39474132, "question_id": 39474080, "link": "https://stackoverflow.com/questions/39474080/perl-module-configinifiles-error/39474132#39474132", "title": "Perl module Config::IniFiles error", "body": "<p>The message is pretty self explanatory.</p>\n\n<blockquote>\n  <p>List::Util version 1.33 required--this is only version 1.21</p>\n</blockquote>\n\n<p>One of the modules requires List::Util version 1.33, but you're loading an install of version 1.21. You need to install a newer version of List::Util.</p>\n\n<p>You should use your OS distributions's package manager or <code>cpan</code> (or <code>cpanm</code>) to install modules, as they handle installing dependencies as well.</p>\n"}, {"tags": [], "owner": {"reputation": 1, "user_id": 8638222, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/af4c0695f07de2b16c091b43a7895e7c?s=128&d=identicon&r=PG&f=1", "display_name": "Ilya", "link": "https://stackoverflow.com/users/8638222/ilya"}, "is_accepted": false, "score": 0, "last_activity_date": 1505879492, "creation_date": 1505879492, "answer_id": 46312998, "question_id": 39474080, "link": "https://stackoverflow.com/questions/39474080/perl-module-configinifiles-error/46312998#46312998", "title": "Perl module Config::IniFiles error", "body": "<p>As mentioned, your <code>Config::IniFiles</code> script requires newer <code>List::Util</code> version, than provided in your installation. Probably, you installed perl modules from different repositories.</p>\n\n<p>You can find a location of <code>List::Util</code> by executing, ex, <code>perldoc -l List::Util</code>, then I recommend you to find which OS package installed old version, and update the package.</p>\n\n<p>Other options are to install only fresh <code>List::Util</code> from CPAN, ex, <code>cpanp install List::Util</code>, or downgrade <code>Config::IniFiles</code>, installing old OS package.</p>\n"}], "owner": {"reputation": 1263, "user_id": 696264, "user_type": "registered", "accept_rate": 70, "profile_image": "https://www.gravatar.com/avatar/c3fa04fd8c4245eac2d015a26674bc18?s=128&d=identicon&r=PG", "display_name": "Madhan", "link": "https://stackoverflow.com/users/696264/madhan"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 2577, "favorite_count": 0, "answer_count": 2, "score": 0, "last_activity_date": 1505879492, "creation_date": 1473781378, "question_id": 39474080, "link": "https://stackoverflow.com/questions/39474080/perl-module-configinifiles-error", "title": "Perl module Config::IniFiles error", "body": "<p>I am using Config::IniFiles module in my script to read the configuration file. I am getting the below error when executing the script.</p>\n\n<pre><code>List::Util version 1.33 required--this is only version 1.21 at /usr/lib/perl5/site_perl/5.8.8/Config/IniFiles.pm line 14.\nBEGIN failed--compilation aborted at /usr/lib/perl5/site_perl/5.8.8/Config/IniFiles.pm line 14.\nCompilation failed in require at ./SFTP_Common_Connect.pl line 3.\nBEGIN failed--compilation aborted at ./SFTP_Common_Connect.pl line 3.\n</code></pre>\n\n<p>The below is script lines.</p>\n\n<pre><code>#!/usr/bin/perl\nuse strict;\nuse Config::IniFiles;\nuse Data::Dumper;\n\nmy $conf=\"/tmp/config.cfg\";\nmy %con_details;\n\n(-f $conf) ? tie %con_details, 'Config::IniFiles', ( -file =&gt; $conf ) : die $!;\n\nprint Dumper %con_details;\n</code></pre>\n"}, {"tags": ["regex", "perl", "pcre"], "comments": [{"owner": {"user_type": "does_not_exist", "display_name": "user3458"}, "edited": false, "score": 6, "creation_date": 1473778096, "post_id": 39472847, "comment_id": 66265186, "body": "Hint: <code>[\\s\\t\\]</code> may not mean what you think it means."}, {"owner": {"reputation": 83048, "user_id": 2255089, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/ZNAsT.jpg?s=128&g=1", "display_name": "Casimir et Hippolyte", "link": "https://stackoverflow.com/users/2255089/casimir-et-hippolyte"}, "edited": false, "score": 4, "creation_date": 1473778200, "post_id": 39472847, "comment_id": 66265251, "body": "As an aside <code>\\s</code> already contains <code>\\t</code>."}, {"owner": {"reputation": 1542, "user_id": 897728, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/4e672e0d8de180128eed1b101ad8b955?s=128&d=identicon&r=PG", "display_name": "Happy Green Kid Naps", "link": "https://stackoverflow.com/users/897728/happy-green-kid-naps"}, "edited": false, "score": 0, "creation_date": 1473778358, "post_id": 39472847, "comment_id": 66265365, "body": "And further, <code>\\s</code> does not belong in a character class.  In other words, just write <code>\\s*</code> or <code>\\s+</code>"}, {"owner": {"reputation": 320771, "user_id": 589924, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/b2cf53d5a3d25f95c0db4e025aed4153?s=128&d=identicon&r=PG", "display_name": "ikegami", "link": "https://stackoverflow.com/users/589924/ikegami"}, "reply_to_user": {"reputation": 1542, "user_id": 897728, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/4e672e0d8de180128eed1b101ad8b955?s=128&d=identicon&r=PG", "display_name": "Happy Green Kid Naps", "link": "https://stackoverflow.com/users/897728/happy-green-kid-naps"}, "edited": false, "score": 0, "creation_date": 1473778733, "post_id": 39472847, "comment_id": 66265617, "body": "@Happy Green Kid Naps, No, <code>\\s</code> is perfectly fine in a character class. If it was the only thing in the class, then it would make sense to just use <code>\\s</code>, but that&#39;s not the case here."}, {"owner": {"reputation": 21782, "user_id": 176646, "user_type": "registered", "accept_rate": 88, "profile_image": "https://i.stack.imgur.com/HsQyV.png?s=128&g=1", "display_name": "ThisSuitIsBlackNot", "link": "https://stackoverflow.com/users/176646/thissuitisblacknot"}, "edited": false, "score": 1, "creation_date": 1473779266, "post_id": 39472847, "comment_id": 66265967, "body": "This is where a good debugging tool is critical, since it&#39;s easy to miss things when you&#39;re just eyeballing them. The <a href=\"http://perldoc.perl.org/re.html#%27debug%27-mode\" rel=\"nofollow noreferrer\"><code>re</code> pragma</a> is good once you&#39;ve gotten a grasp on the output syntax; <a href=\"https://metacpan.org/pod/YAPE::Regex::Explain\" rel=\"nofollow noreferrer\">YAPE::Regex::Explain</a> is more beginner-friendly, but only explains the components of the regex (it doesn&#39;t explain why a regex matches or doesn&#39;t match a particular string). There&#39;s also <a href=\"https://metacpan.org/pod/Regexp::Debugger\" rel=\"nofollow noreferrer\">Regexp::Debugger</a>, although I haven&#39;t tried it."}], "answers": [{"tags": [], "owner": {"reputation": 27069, "user_id": 2307070, "user_type": "registered", "accept_rate": 97, "profile_image": "https://i.stack.imgur.com/l8ha6.jpg?s=128&g=1", "display_name": "Thomas Ayoub", "link": "https://stackoverflow.com/users/2307070/thomas-ayoub"}, "is_accepted": true, "score": 8, "last_activity_date": 1473841094, "last_edit_date": 1473841094, "creation_date": 1473778083, "answer_id": 39472922, "question_id": 39472847, "link": "https://stackoverflow.com/questions/39472847/why-do-these-impossible-looking-regexes-match-these-strings/39472922#39472922", "title": "Why do these impossible-looking regexes match these strings?", "body": "<p>Let's take a look at the character class you wrote:</p>\n\n<pre><code>Start                 End\n|                       |\nv                       v\n[\\s\\t\\]+auth-userdb[\\s\\t]\n      ^\n      |\n      Because this is escaped\n</code></pre>\n\n<p>So you effectively have:</p>\n\n<pre><code>[abdeh-u\\[\\]+\\s\\t]\n</code></pre>\n\n<p>Replace whole regex with <code>^\\s*#?\\s*unix_listener\\s+auth-userdb\\s*</code> since <code>\\t</code> is included within <code>\\s</code>.</p>\n"}], "owner": {"reputation": 29435, "user_id": 458742, "user_type": "registered", "accept_rate": 69, "profile_image": "https://www.gravatar.com/avatar/ee0a7599f30c29076a3c9a2c022e473b?s=128&d=identicon&r=PG", "display_name": "spraff", "link": "https://stackoverflow.com/users/458742/spraff"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 75, "favorite_count": 0, "closed_date": 1474470491, "accepted_answer_id": 39472922, "answer_count": 1, "score": 0, "last_activity_date": 1473841094, "creation_date": 1473777896, "question_id": 39472847, "link": "https://stackoverflow.com/questions/39472847/why-do-these-impossible-looking-regexes-match-these-strings", "closed_reason": "Not suitable for this site", "title": "Why do these impossible-looking regexes match these strings?", "body": "<p>In Perl I have</p>\n\n<pre><code>    if ($_ =~ /$search/)\n    {\n        print STDERR \"$search matches $_\";\n        ...\n</code></pre>\n\n<p>which outputs</p>\n\n<pre><code>^[\\s\\t]*#?[\\s\\t]*unix_listener[\\s\\t\\]+auth-userdb[\\s\\t]* matches   unix_listener lmtp {\n^[\\s\\t]*#?[\\s\\t]*unix_listener[\\s\\t\\]+auth-userdb[\\s\\t]* matches   unix_listener auth-userdb {\n^[\\s\\t]*#?[\\s\\t]*unix_listener[\\s\\t\\]+auth-userdb[\\s\\t]* matches   #unix_listener /var/spool/postfix/private/auth {\n^[\\s\\t]*#?[\\s\\t]*unix_listener[\\s\\t\\]+auth-userdb[\\s\\t]* matches   unix_listener dict {\n</code></pre>\n\n<p>This seems impossible since only one of the <code>$_</code> strings contains <code>auth-userdb</code></p>\n\n<p>Even weirder, by adding a <code>\\{</code> to the end of the regex I get</p>\n\n<pre><code>^[\\s\\t]*#?[\\s\\t]*unix_listener[\\s\\t\\]+auth-userdb[\\s\\t]*\\{ matches   unix_listener lmtp {\n</code></pre>\n\n<p>but no other matches (on the same input).</p>\n\n<p>I thought I understood regexes of this type completely, but I can't figure out the logic here.</p>\n\n<p>Someone please explain</p>\n\n<ul>\n<li><p>why the first four <code>$_</code> lines match <code>$search</code> instead of only the one which contains <code>auth-userdb</code></p></li>\n<li><p>why adding the <code>\\{</code> to the regex eliminated all but one match.</p></li>\n</ul>\n"}, {"tags": ["bash", "perl"], "comments": [{"owner": {"reputation": 917, "user_id": 3014263, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/rFh51.jpg?s=128&g=1", "display_name": "AbhiNickz", "link": "https://stackoverflow.com/users/3014263/abhinickz"}, "edited": false, "score": 0, "creation_date": 1473777334, "post_id": 39472631, "comment_id": 66264682, "body": "<code>my $com = &#39;find .&#47;parse_CDATA -type f&#39;;  my @files = `$com`; chomp @files;</code> You can use pipes like this in perl !!"}, {"owner": {"reputation": 62184, "user_id": 7231, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/81b76985f3985e35492e25880493d045?s=128&d=identicon&r=PG", "display_name": "Dave Cross", "link": "https://stackoverflow.com/users/7231/dave-cross"}, "edited": false, "score": 3, "creation_date": 1473777807, "post_id": 39472631, "comment_id": 66264999, "body": "Can I just point out that your English is impressively fluent. If you&#39;re using &quot;moreover&quot; correctly, you&#39;re way ahead of most native speakers :-)"}, {"owner": {"reputation": 920, "user_id": 4819884, "user_type": "registered", "accept_rate": 90, "profile_image": "https://www.gravatar.com/avatar/5b96c68654d5ecce5ace521d7371fec5?s=128&d=identicon&r=PG&f=1", "display_name": "yonyon100", "link": "https://stackoverflow.com/users/4819884/yonyon100"}, "edited": false, "score": 0, "creation_date": 1473777888, "post_id": 39472631, "comment_id": 66265050, "body": "Are you sure that the output goes to STDOUT? I ran a sample script with exactly the same structure as yours and it worked as you want it to"}, {"owner": {"reputation": 3, "user_id": 6181854, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/e8641c8a3abcb46129fa7f18f295561d?s=128&d=identicon&r=PG&f=1", "display_name": "Daniel", "link": "https://stackoverflow.com/users/6181854/daniel"}, "reply_to_user": {"reputation": 45481, "user_id": 197758, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/628da6ba2a6c70e35c009b7e3c3a430a?s=128&d=identicon&r=PG", "display_name": "toolic", "link": "https://stackoverflow.com/users/197758/toolic"}, "edited": false, "score": 0, "creation_date": 1473778282, "post_id": 39472631, "comment_id": 66265312, "body": "@toolic, @yonyon100 Thanks a lot, both of you are right, output of that command goes to STDERR. I just add <code>2&gt;&amp;1</code> in the end of that command and get that value. Thanks a lot again."}, {"owner": {"reputation": 3, "user_id": 6181854, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/e8641c8a3abcb46129fa7f18f295561d?s=128&d=identicon&r=PG&f=1", "display_name": "Daniel", "link": "https://stackoverflow.com/users/6181854/daniel"}, "reply_to_user": {"reputation": 62184, "user_id": 7231, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/81b76985f3985e35492e25880493d045?s=128&d=identicon&r=PG", "display_name": "Dave Cross", "link": "https://stackoverflow.com/users/7231/dave-cross"}, "edited": false, "score": 0, "creation_date": 1473778430, "post_id": 39472631, "comment_id": 66265406, "body": "@Dave Cross, Thanks, but I dont&#39;t think so."}], "answers": [{"tags": [], "owner": {"reputation": 920, "user_id": 4819884, "user_type": "registered", "accept_rate": 90, "profile_image": "https://www.gravatar.com/avatar/5b96c68654d5ecce5ace521d7371fec5?s=128&d=identicon&r=PG&f=1", "display_name": "yonyon100", "link": "https://stackoverflow.com/users/4819884/yonyon100"}, "is_accepted": true, "score": 0, "last_activity_date": 1473778365, "creation_date": 1473778365, "answer_id": 39473026, "question_id": 39472631, "link": "https://stackoverflow.com/questions/39472631/perl-execute-bash-command-with-pipe/39473026#39473026", "title": "Perl, execute bash command with pipe", "body": "<p>I ran the following code:</p>\n\n<pre><code>#!/usr/bin/perl -w\nuse strict;\n\nmy $cmd = \"grep strict test.pl -n|cut -c1-12\";\nmy $result = `$cmd`;\nprint $result;\n</code></pre>\n\n<p>The output to STDOUT was as expected (I ran the grep on this code, actually):</p>\n\n<pre><code>2:use strict\n4:my $cmd = \n</code></pre>\n\n<p>When I commented out the <code>print</code> line, there was no output to STDOUT.\nMaybe the problem has something to do with STDERR, you should check that.</p>\n"}], "owner": {"reputation": 3, "user_id": 6181854, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/e8641c8a3abcb46129fa7f18f295561d?s=128&d=identicon&r=PG&f=1", "display_name": "Daniel", "link": "https://stackoverflow.com/users/6181854/daniel"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 728, "favorite_count": 0, "accepted_answer_id": 39473026, "answer_count": 1, "score": 0, "last_activity_date": 1473778365, "creation_date": 1473777247, "question_id": 39472631, "link": "https://stackoverflow.com/questions/39472631/perl-execute-bash-command-with-pipe", "title": "Perl, execute bash command with pipe", "body": "<p>Sorry if my English is bad.</p>\n\n<p>I have a bash command:</p>\n\n<pre><code>convert somefile1.png somefile2.png -resize '200x200!' MIFF:- | compare -metric AE -fuzz '5%' - null:-\n</code></pre>\n\n<p>That command returns number, how can I get this value in my perl script?</p>\n\n<p>My code:</p>\n\n<pre><code>my $s_command = \n    \"convert \" . $s_img1_path . \" \" .  \n    $s_img2_path . \" -resize '\" . \n    $N_IMAGEMAGICK_IMG_SIZE . \"x\" . $N_IMAGEMAGICK_IMG_SIZE . \n    \"!' MIFF:- | compare -metric AE -fuzz '5%' - null:-\";\n\nmy $s_out = `$s_command`;\n</code></pre>\n\n<p>But I can't get the return value in $s_out. Moreover, this value goes to stdout itself, why?</p>\n"}, {"tags": ["windows", "perl", "encryption", "gnupg", "pgp"], "comments": [{"owner": {"reputation": 91128, "user_id": 1229023, "user_type": "registered", "accept_rate": 71, "profile_image": "https://www.gravatar.com/avatar/75b840909603c238921a81032efd57eb?s=128&d=identicon&r=PG", "display_name": "raina77ow", "link": "https://stackoverflow.com/users/1229023/raina77ow"}, "edited": false, "score": 2, "creation_date": 1473776337, "post_id": 39472275, "comment_id": 66263995, "body": "Can you redirect <code>stderr</code> and <code>stdout</code> to some file (like <code>&gt;stdout.log 2&gt;stderr.log</code> and check them afterwards?"}, {"owner": {"reputation": 91128, "user_id": 1229023, "user_type": "registered", "accept_rate": 71, "profile_image": "https://www.gravatar.com/avatar/75b840909603c238921a81032efd57eb?s=128&d=identicon&r=PG", "display_name": "raina77ow", "link": "https://stackoverflow.com/users/1229023/raina77ow"}, "edited": false, "score": 1, "creation_date": 1473776491, "post_id": 39472275, "comment_id": 66264092, "body": "Also, I&#39;d print up the result of <code>sprintf</code> to be sure the line looks the way it should be."}, {"owner": {"reputation": 10268, "user_id": 31298, "user_type": "registered", "accept_rate": 51, "profile_image": "https://www.gravatar.com/avatar/46b2704c26143ab9c430b4250eb28f88?s=128&d=identicon&r=PG", "display_name": "Eric Belair", "link": "https://stackoverflow.com/users/31298/eric-belair"}, "reply_to_user": {"reputation": 91128, "user_id": 1229023, "user_type": "registered", "accept_rate": 71, "profile_image": "https://www.gravatar.com/avatar/75b840909603c238921a81032efd57eb?s=128&d=identicon&r=PG", "display_name": "raina77ow", "link": "https://stackoverflow.com/users/1229023/raina77ow"}, "edited": false, "score": 0, "creation_date": 1473789433, "post_id": 39472275, "comment_id": 66271742, "body": "@raina77ow when I add the <code>stdout</code> and <code>stderr</code> redirects, the <code>stderr</code> file is empty and the <code>stdout</code> displays what I normally see in the Command Prompe (&quot;Error encrypting file....&quot;)."}, {"owner": {"reputation": 91128, "user_id": 1229023, "user_type": "registered", "accept_rate": 71, "profile_image": "https://www.gravatar.com/avatar/75b840909603c238921a81032efd57eb?s=128&d=identicon&r=PG", "display_name": "raina77ow", "link": "https://stackoverflow.com/users/1229023/raina77ow"}, "edited": false, "score": 1, "creation_date": 1473789677, "post_id": 39472275, "comment_id": 66271881, "body": "My suggestion was about redirecting them in <code>sprintf</code> output, not at the way you call your script."}, {"owner": {"reputation": 10268, "user_id": 31298, "user_type": "registered", "accept_rate": 51, "profile_image": "https://www.gravatar.com/avatar/46b2704c26143ab9c430b4250eb28f88?s=128&d=identicon&r=PG", "display_name": "Eric Belair", "link": "https://stackoverflow.com/users/31298/eric-belair"}, "reply_to_user": {"reputation": 91128, "user_id": 1229023, "user_type": "registered", "accept_rate": 71, "profile_image": "https://www.gravatar.com/avatar/75b840909603c238921a81032efd57eb?s=128&d=identicon&r=PG", "display_name": "raina77ow", "link": "https://stackoverflow.com/users/1229023/raina77ow"}, "edited": false, "score": 0, "creation_date": 1473792818, "post_id": 39472275, "comment_id": 66273467, "body": "@raina77ow I used a local variable to store the result of the <code>system()</code> call and print it, and it is &quot;512&quot;. Any idea what that means?"}, {"owner": {"reputation": 10268, "user_id": 31298, "user_type": "registered", "accept_rate": 51, "profile_image": "https://www.gravatar.com/avatar/46b2704c26143ab9c430b4250eb28f88?s=128&d=identicon&r=PG", "display_name": "Eric Belair", "link": "https://stackoverflow.com/users/31298/eric-belair"}, "reply_to_user": {"reputation": 91128, "user_id": 1229023, "user_type": "registered", "accept_rate": 71, "profile_image": "https://www.gravatar.com/avatar/75b840909603c238921a81032efd57eb?s=128&d=identicon&r=PG", "display_name": "raina77ow", "link": "https://stackoverflow.com/users/1229023/raina77ow"}, "edited": false, "score": 0, "creation_date": 1473793097, "post_id": 39472275, "comment_id": 66273595, "body": "@raina77ow Ok, I finally understand about the error output and did what you said and here&#39;s the error: <code>gpg: skipped [local user]: No secret key gpg: [filename]: sign+encrypt failed: No secret key</code>. I&#39;m guessing I need to get this secret key from the old machine..."}, {"owner": {"reputation": 10268, "user_id": 31298, "user_type": "registered", "accept_rate": 51, "profile_image": "https://www.gravatar.com/avatar/46b2704c26143ab9c430b4250eb28f88?s=128&d=identicon&r=PG", "display_name": "Eric Belair", "link": "https://stackoverflow.com/users/31298/eric-belair"}, "reply_to_user": {"reputation": 91128, "user_id": 1229023, "user_type": "registered", "accept_rate": 71, "profile_image": "https://www.gravatar.com/avatar/75b840909603c238921a81032efd57eb?s=128&d=identicon&r=PG", "display_name": "raina77ow", "link": "https://stackoverflow.com/users/1229023/raina77ow"}, "edited": false, "score": 1, "creation_date": 1473793926, "post_id": 39472275, "comment_id": 66273987, "body": "@raina77ow I figured it out. At first I only exported/imported the vendor&#39;s public key. I failed to export/import our private key and trust it correctly. It&#39;s now working. Wouldn&#39;t have been possible without your help. THANK YOU!"}], "answers": [{"tags": [], "owner": {"reputation": 1, "user_id": 6067253, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/505e4455f47d54f94d697aee8cd0fa90?s=128&d=identicon&r=PG&f=1", "display_name": "SDEV", "link": "https://stackoverflow.com/users/6067253/sdev"}, "is_accepted": false, "score": -1, "last_activity_date": 1500311052, "creation_date": 1500311052, "answer_id": 45149879, "question_id": 39472275, "link": "https://stackoverflow.com/questions/39472275/perl-script-to-encrypt-file-with-gpg-not-working/45149879#45149879", "title": "Perl script to encrypt file with GPG not working", "body": "<p>one things I found out the hard way is whatever account you use to import your keys, you must also use for any other task related to keys.  try looking into that</p>\n"}], "owner": {"reputation": 10268, "user_id": 31298, "user_type": "registered", "accept_rate": 51, "profile_image": "https://www.gravatar.com/avatar/46b2704c26143ab9c430b4250eb28f88?s=128&d=identicon&r=PG", "display_name": "Eric Belair", "link": "https://stackoverflow.com/users/31298/eric-belair"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 822, "favorite_count": 0, "answer_count": 1, "score": 0, "last_activity_date": 1500311052, "creation_date": 1473776130, "last_edit_date": 1474096399, "question_id": 39472275, "link": "https://stackoverflow.com/questions/39472275/perl-script-to-encrypt-file-with-gpg-not-working", "title": "Perl script to encrypt file with GPG not working", "body": "<p>We currently have a job running on an old Windows server (Windows Server 2003) that needs to be moved to a new server, due to the old one being retired soon. This job runs as a Windows scheduled task, which runs at frequent intervals, calling a Perl script that encrypts some files using a vendor's public key and uploads the encrypted files to the vendor's external FTP site. </p>\n\n<p>I am a self-taught programmer/developer/engineer who is not familiar with Perl, but I have been tasked with this move.</p>\n\n<p>Here are the steps that I took to get this going:</p>\n\n<ol>\n<li>Install Perl (Strawberry Perl using the Windows Binary exe from strawberryperl.com)</li>\n<li>Install GPG using the exe from www.gnugp.com</li>\n<li>Add the path to the GPG executable to the Windows Environment Variable \"PATH\", so that it can be run as \"gpg\" from the command prompt.</li>\n<li>Add the vendor's public key to GPG using the command <code>gpg --import [path to the key file]</code></li>\n<li><p>Increase the trust for the imported key to prevent being challenged each time using the command:</p>\n\n<p><code>gpg \u2013-edit-key [name of Prudential\u2019s key]\ntrust\n5\ny</code></p></li>\n</ol>\n\n<p>I then took the existing script, made a few changes some of the constants used for file paths, etc., commented out the command that FTPs the files (since I'm just running an ad hoc test at this point) and attempted to run it to encrypt some sample files. The script ran successfully to completion, but, a friendly error message was generated due to the result of the command where the files are encrypted.</p>\n\n<p>Here is the part of the script where the encryption takes place:</p>\n\n<pre><code>sub encrypt_outgoing_files {\n\n    # open outgoing decrypted directory\n    &amp;message(sprintf(\"CD: %s\\n\", $out_dec_path), 0);\n    if (opendir(OUT_DEC_DIR, $out_dec_path)) {\n\n        # check for new files\n        &amp;message(\"Checking for new files\\n\", 0);\n        my $file;\n        my $new_flag;\n        my %files_hash;\n        foreach $file (readdir(OUT_DEC_DIR)) {\n            if (-f $out_dec_path . $file) {\n                $files_hash{$file} = (stat($out_dec_path . $file))[9];              \n            }       \n        }\n        my @files = sort { $files_hash{$a} cmp $files_hash{$b} } keys %files_hash; # sort by mtime\n        foreach $file (@files) {\n            if (-f $out_dec_path . $file) {\n                $new_flag = 1;                                              \n\n                # rename and encrypt this file\n                my $out_file = $file;\n                $out_file =~ s/\\.?[0-9]+$//i; # rename outbound files according to this regex\n                &amp;message(sprintf(\"Encrypting: %s (%s)\\n\", $file, $out_file), 1);                \n                if (!system(sprintf(\"%s -e \\\"print('%s')\\\" | %s --batch --passphrase-fd 0 --output %s --local-user %s --recipient %s --sign --encrypt --cipher-algo %s %s &gt;NUL 2&gt;&amp;1\", $perl_path, $pgp_passphrase, $pgp_exe_path, $out_enc_path . $out_file . $pgp_extension, $pgp_sender, $pgp_recipient, $pgp_cipher, $out_dec_path . $file))) {\n\n                    # archive decrypted original\n                    &amp;message(\"Archiving decrypted version\\n\", 0);\n                    rename($out_dec_path . $file, $out_dec_path . $archive_dir . $file);\n                }\n\n                # error encrypting this file\n                else {\n                    unlink($out_enc_path . $out_file . $pgp_extension); # delete partially encrypted file (just in case)\n                    &amp;message(\"Error encrypting file (will try again next time around)\\n\", 1);\n                }\n            }\n        }\n\n        # nothing new\n        if (!defined($new_flag)) {\n            &amp;message(\"None found\\n\", 0);\n        }\n\n        # close directory\n        closedir(OUT_DEC_DIR);\n\n        # clean archive\n        &amp;message(sprintf(\"CD: %s\\n\", $out_dec_path . $archive_dir), 0);\n        &amp;clean_dir($out_dec_path . $archive_dir, $max_archive_age);\n    }\n\n    # invalid directory\n    else {\n        &amp;message(sprintf(\"Directory not found: %s\\n\", $out_dec_path), 2);\n    }\n}\n</code></pre>\n\n<p>For every file, I am getting the \"Error encrypting file (will try again next time around)\" message.</p>\n\n<p>However, if I attempt to encrypt one of the files with GPG alone using the Command Prompt, the file is successfully encrypted.</p>\n\n<p>So, I have three questions:</p>\n\n<ol>\n<li>Does anyone have any idea what might be causing the error?</li>\n<li>How can I find out the reason for the error?</li>\n<li>Is there a \"better\" way to accomplish this task, as this script was originally written over a decade ago? The script will now be running on a Windows 2012 virtual machine with IIS, Java, and ColdFusion running on it.</li>\n</ol>\n"}, {"tags": ["perl", "bundle", "offline", "cpanm"], "comments": [{"owner": {"reputation": 48798, "user_id": 223226, "user_type": "registered", "accept_rate": 93, "profile_image": "https://i.stack.imgur.com/iGqE4.png?s=128&g=1", "display_name": "mpapec", "link": "https://stackoverflow.com/users/223226/mpapec"}, "edited": false, "score": 0, "creation_date": 1473779144, "post_id": 39471985, "comment_id": 66265890, "body": "<a href=\"http://perlmaven.com/pinto-tutorial\" rel=\"nofollow noreferrer\">perlmaven.com/pinto-tutorial</a>"}, {"owner": {"reputation": 144, "user_id": 5556597, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/eDuuK.jpg?s=128&g=1", "display_name": "Gianluca D&#39;Ardia", "link": "https://stackoverflow.com/users/5556597/gianluca-dardia"}, "edited": false, "score": 0, "creation_date": 1570700178, "post_id": 39471985, "comment_id": 102998862, "body": "should be useful to use"}], "answers": [{"comments": [{"owner": {"reputation": 50468, "user_id": 1331451, "user_type": "registered", "accept_rate": 96, "profile_image": "https://i.stack.imgur.com/4ZPmj.png?s=128&g=1", "display_name": "simbabque", "link": "https://stackoverflow.com/users/1331451/simbabque"}, "edited": false, "score": 0, "creation_date": 1473776594, "post_id": 39472396, "comment_id": 66264164, "body": "I actually created USB drives with a full CPAN mirror on each of them to give them away as sponsoring merchandise on the German Perl Workshop in Berlin in 2013. Those were highly appreciated. Mostly because they were free USB drives (I think...)."}, {"owner": {"reputation": 6814, "user_id": 5227053, "user_type": "registered", "accept_rate": 29, "profile_image": "https://www.gravatar.com/avatar/30254853024c1381c7e51ca09b9341e7?s=128&d=identicon&r=PG&f=1", "display_name": "AnoE", "link": "https://stackoverflow.com/users/5227053/anoe"}, "edited": false, "score": 0, "creation_date": 1473777116, "post_id": 39472396, "comment_id": 66264528, "body": "Yes, of course I can download the modules manually or use something else. The question is specifically about <code>cpanm</code>."}, {"owner": {"reputation": 50468, "user_id": 1331451, "user_type": "registered", "accept_rate": 96, "profile_image": "https://i.stack.imgur.com/4ZPmj.png?s=128&g=1", "display_name": "simbabque", "link": "https://stackoverflow.com/users/1331451/simbabque"}, "reply_to_user": {"reputation": 6814, "user_id": 5227053, "user_type": "registered", "accept_rate": 29, "profile_image": "https://www.gravatar.com/avatar/30254853024c1381c7e51ca09b9341e7?s=128&d=identicon&r=PG&f=1", "display_name": "AnoE", "link": "https://stackoverflow.com/users/5227053/anoe"}, "edited": false, "score": 0, "creation_date": 1473777208, "post_id": 39472396, "comment_id": 66264585, "body": "@AnoE I see. I&#39;ll leave this anyway, might be helpful for people in the future."}, {"owner": {"reputation": 6814, "user_id": 5227053, "user_type": "registered", "accept_rate": 29, "profile_image": "https://www.gravatar.com/avatar/30254853024c1381c7e51ca09b9341e7?s=128&d=identicon&r=PG&f=1", "display_name": "AnoE", "link": "https://stackoverflow.com/users/5227053/anoe"}, "edited": false, "score": 0, "creation_date": 1473777972, "post_id": 39472396, "comment_id": 66265103, "body": "Sure, be my guest. ;)"}], "tags": [], "owner": {"reputation": 50468, "user_id": 1331451, "user_type": "registered", "accept_rate": 96, "profile_image": "https://i.stack.imgur.com/4ZPmj.png?s=128&g=1", "display_name": "simbabque", "link": "https://stackoverflow.com/users/1331451/simbabque"}, "is_accepted": false, "score": 4, "last_activity_date": 1473776524, "creation_date": 1473776524, "answer_id": 39472396, "question_id": 39471985, "link": "https://stackoverflow.com/questions/39471985/how-to-bundle-modules-for-an-offline-server-with-cpanm/39472396#39472396", "title": "How to bundle modules for an offline server with cpanm", "body": "<p>You can download the tars from CPAN or <a href=\"http://metacpan.org\" rel=\"nofollow\">metacpan</a> for all your dependencies manually, then copy them and install one by one in the right order. That's a bit of work for ten modules, but it's not too bad. You can write a script.</p>\n\n<p>But you can also use <a href=\"https://metacpan.org/pod/distribution/CPAN-Mini/bin/minicpan\" rel=\"nofollow\">minicpan</a> to create a local small CPAN that only contains what you need. Those are great to have a local copy of some or all of CPAN, e.g. on a USB drive when you need to install a module while hacking code on a flight. It's essentially a directory full of more directories and tars. You can just pick the things you need, zip it up, move it to your production server, unpack it there and tell <em>cpanm</em> to install from that local CPAN mirror.</p>\n"}, {"tags": [], "owner": {"reputation": 1781, "user_id": 807650, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/5c8db490df81736445eee4097def2bc9?s=128&d=identicon&r=PG", "display_name": "jja", "link": "https://stackoverflow.com/users/807650/jja"}, "is_accepted": false, "score": 3, "last_activity_date": 1573829809, "creation_date": 1573829809, "answer_id": 58879572, "question_id": 39471985, "link": "https://stackoverflow.com/questions/39471985/how-to-bundle-modules-for-an-offline-server-with-cpanm/58879572#58879572", "title": "How to bundle modules for an offline server with cpanm", "body": "<p>You can use <a href=\"https://metacpan.org/pod/Carton\" rel=\"nofollow noreferrer\">Carton</a> to bundle the dependencies locally (on your machine with internet access) and then use either Carton itself to install the bundled distributions, or use <a href=\"https://metacpan.org/pod/App::cpanminus\" rel=\"nofollow noreferrer\">cpanm</a> itself and specify the bundle location.</p>\n\n<p>You'll need <code>carton</code> <a href=\"https://metacpan.org/source/MIYAGAWA/Carton-v1.0.34/Changes#L9\" rel=\"nofollow noreferrer\">1.0.32</a> (to generate the package index) and <code>cpanm</code> <a href=\"https://metacpan.org/source/MIYAGAWA/App-cpanminus-1.7044/Changes#L155\" rel=\"nofollow noreferrer\">1.7016</a> (for the <code>--from</code> option) for this to work.</p>\n\n<p>In the root of your distribution, you can do</p>\n\n<pre><code>$ carton install # will install the dependencies in `local`\n$ carton bundle  # will cache the dependencies in `vendor`\n$ tree vendor/\nvendor/\n\u2514\u2500\u2500 cache\n    \u251c\u2500\u2500 authors\n    \u2502\u00a0\u00a0 \u2514\u2500\u2500 id\n    \u2502\u00a0\u00a0     \u2514\u2500\u2500 F\n    \u2502\u00a0\u00a0         \u2514\u2500\u2500 FO\n    \u2502\u00a0\u00a0             \u2514\u2500\u2500 FOOBAR\n    \u2502\u00a0\u00a0                 \u251c\u2500\u2500 Some-Dist-1.337.tar.gz\n    \u2502\u00a0\u00a0                 \u2514\u2500\u2500 Another-Dist-0.001001.tar.gz\n    \u2514\u2500\u2500 modules\n        \u2514\u2500\u2500 02packages.details.txt.gz\n</code></pre>\n\n<p>Later, after transferring this to your other airgapped machine, you can either use <code>carton</code>:</p>\n\n<pre><code>$ carton install --cached\n$ carton exec scripts/your-script.pl\n</code></pre>\n\n<p>or install with <code>cpanm</code> directly</p>\n\n<pre><code># To emulate carton:\n$ cpanm -L local --from \"$PWD/vendor/cache\" --installdeps --notest --quiet .\n# Or to install globally:\n$ cpanm --from \"$PWD/vendor/cache\" .\n</code></pre>\n"}], "owner": {"reputation": 6814, "user_id": 5227053, "user_type": "registered", "accept_rate": 29, "profile_image": "https://www.gravatar.com/avatar/30254853024c1381c7e51ca09b9341e7?s=128&d=identicon&r=PG&f=1", "display_name": "AnoE", "link": "https://stackoverflow.com/users/5227053/anoe"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 1414, "favorite_count": 1, "answer_count": 2, "score": 4, "last_activity_date": 1573829809, "creation_date": 1473775223, "last_edit_date": 1473858993, "question_id": 39471985, "link": "https://stackoverflow.com/questions/39471985/how-to-bundle-modules-for-an-offline-server-with-cpanm", "title": "How to bundle modules for an offline server with cpanm", "body": "<p>I would like to do <code>cpanm SomeModule</code> to install <code>SomeModule</code> together with about 10 dependencies, but the target server has no internet access. I do have a very similar development machine (same Perl environment, same Perl version) where <code>cpanm</code> is able to download its source modules.</p>\n\n<p>After studying the man page of <code>cpanm</code>, I have the feeling that I can create a tarball on the development machine, transfer that to the server, and use it to install the modules in one go.</p>\n\n<p>Unfortunately, I do not seem to find which exact combination it is. Especially, as on the dev machine the modules are already installed, I need to force it to still add all the dependencies to the tarball (excluding core modules of course). </p>\n\n<p>Can someone give the commands for the dev machine and the target machine?</p>\n\n<p>EDIT: this is specifically about <code>cpanm</code>. Of course, if you can say with authority that it is definitely not possible with <code>cpanm</code>, that would be a valid answer as well...</p>\n\n<p>EDIT: The comments and answers so far suggest using <code>pinto</code> or <code>minicpan</code> to create a bundle of CPAN module sources. This works well (especially <code>pinto</code> is quite trivial to use for this). I used <code>pinto</code> now to solve my current problem, but still, Pinto itself has a <em>lot</em> of prerequisite modules (>100 compared to Perl-Core). My hope with this question was that <code>cpanm</code>, which is a standalone, installation-less script, can do it itself (it has extensive options that kind of sound like they could go into that direction). That would be nice for bootstrapping Perl installations without large overheads.</p>\n"}, {"tags": ["perl", "unicode"], "comments": [{"owner": {"reputation": 16405, "user_id": 6776093, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/heFeh.png?s=128&g=1", "display_name": "redneb", "link": "https://stackoverflow.com/users/6776093/redneb"}, "edited": false, "score": 0, "creation_date": 1473774667, "post_id": 39471451, "comment_id": 66262832, "body": "Does running <code>&#47;home&#47;joereddington&#47;tts&#47;espeak-1.48.04-source&#47;src&#47;speak</code> in the terminal with a bulgarian word work?"}, {"owner": {"reputation": 50468, "user_id": 1331451, "user_type": "registered", "accept_rate": 96, "profile_image": "https://i.stack.imgur.com/4ZPmj.png?s=128&g=1", "display_name": "simbabque", "link": "https://stackoverflow.com/users/1331451/simbabque"}, "edited": false, "score": 1, "creation_date": 1473776078, "post_id": 39471451, "comment_id": 66263837, "body": "You can add debug-output by adding <code>use CGI::Carp &#39;fatalsToBrowser&#39;;</code> at the top, and <code>die $text</code> at after the <code>my $text</code> line. Then run it in your browser. It will tell you what it saw."}, {"owner": {"reputation": 28131, "user_id": 1956010, "user_type": "registered", "accept_rate": 83, "profile_image": "https://www.gravatar.com/avatar/bfdcb4596e9da98cccbf9a0069fdff6c?s=128&d=identicon&r=PG", "display_name": "nwellnhof", "link": "https://stackoverflow.com/users/1956010/nwellnhof"}, "edited": false, "score": 0, "creation_date": 1474118347, "post_id": 39471451, "comment_id": 66406873, "body": "Your CGI script allows remote command execution. You should quote <code>$text</code> and <code>$filename</code> before passing it to the shell."}], "owner": {"reputation": 3960, "user_id": 170243, "user_type": "registered", "accept_rate": 64, "profile_image": "https://i.stack.imgur.com/egGWn.png?s=128&g=1", "display_name": "Joe", "link": "https://stackoverflow.com/users/170243/joe"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 50, "favorite_count": 0, "answer_count": 0, "score": 2, "last_activity_date": 1473773639, "creation_date": 1473773639, "question_id": 39471451, "link": "https://stackoverflow.com/questions/39471451/passing-unicode-strings-to-terminal-from-perl", "title": "Passing Unicode strings to terminal from Perl", "body": "<p>I'm running <a href=\"http://theopenvoicefactory.org\" rel=\"nofollow\">this assistive technology project</a>. </p>\n\n<p>It includes the following Perl script that creates a wav from text using eSpeak. (The browser then plays the file for the user) </p>\n\n<pre><code>#!/usr/bin/perl\nuse strict;\n    use warnings;\nuse CGI qw(:standard -debug);\nmy $text = param('text');\nmy $filename = param('filename');\ndie if $text =~ /\\x00/;\ndie if $filename =~ /\\x00/;\nprint \"Content-type: text/html\\n\\n\";\n$text =~ s/^-+//;\nsystem('/home/joereddington/tts/espeak-1.48.04-source/src/speak', $text, '-w', $filename .  '.wav', '-v', 'en');\n</code></pre>\n\n<p>This works fine for English, but on the bulgarian and arabic language versions, I just get \"Hashtag 0392, Hashtag 0929,...\" over and over again.  I'm assuming that's because at some point in the process, the unicode for those character sets is getting butchered. </p>\n\n<p>What can I do to solve this? </p>\n"}, {"tags": ["perl"], "comments": [{"owner": {"reputation": 19192, "user_id": 257635, "user_type": "registered", "accept_rate": 89, "profile_image": "https://i.stack.imgur.com/El2tc.jpg?s=128&g=1", "display_name": "Chankey Pathak", "link": "https://stackoverflow.com/users/257635/chankey-pathak"}, "edited": false, "score": 0, "creation_date": 1473768647, "post_id": 39469396, "comment_id": 66259001, "body": "Return the object based on conditional and assign to a variable?"}, {"owner": {"reputation": 50468, "user_id": 1331451, "user_type": "registered", "accept_rate": 96, "profile_image": "https://i.stack.imgur.com/4ZPmj.png?s=128&g=1", "display_name": "simbabque", "link": "https://stackoverflow.com/users/1331451/simbabque"}, "edited": false, "score": 1, "creation_date": 1473769436, "post_id": 39469396, "comment_id": 66259479, "body": "Please show the actual code you are using, or at least a <a href=\"https://stackoverflow.com/help/minimal-reproducible-example\">minimal reproducible example</a>. Without that it&#39;s not possible to conclusively answer your question. If you <a href=\"https://stackoverflow.com/posts/39469396/edit\">edit</a> the question and include what you&#39;re actually doing I will update my answer to reflect that."}, {"owner": {"user_type": "does_not_exist", "display_name": "user6734995"}, "edited": false, "score": 0, "creation_date": 1473770358, "post_id": 39469396, "comment_id": 66260084, "body": "I updated my code"}, {"owner": {"user_type": "does_not_exist", "display_name": "user6734995"}, "edited": false, "score": 0, "creation_date": 1473770554, "post_id": 39469396, "comment_id": 66260210, "body": "In the function, the second object is not returned, does that mean that it&#39;s lexically scoped and I can&#39;t acces it by any way? I cannot modify FirstModule, this is why I&#39;m trying to do that"}, {"owner": {"reputation": 920, "user_id": 4819884, "user_type": "registered", "accept_rate": 90, "profile_image": "https://www.gravatar.com/avatar/5b96c68654d5ecce5ace521d7371fec5?s=128&d=identicon&r=PG&f=1", "display_name": "yonyon100", "link": "https://stackoverflow.com/users/4819884/yonyon100"}, "edited": false, "score": 0, "creation_date": 1473771076, "post_id": 39469396, "comment_id": 66260528, "body": "<code>function()</code> is supposed to return the last true value it evaluated, so it&#39;s supposed to be the second module object. Can&#39;t you just <code>my $obj2 = $hFirstModule-&gt;function()</code>?"}, {"owner": {"user_type": "does_not_exist", "display_name": "user6734995"}, "edited": false, "score": 0, "creation_date": 1473771358, "post_id": 39469396, "comment_id": 66260699, "body": "Yes, I could do that, but after that object creation there is more code"}, {"owner": {"reputation": 920, "user_id": 4819884, "user_type": "registered", "accept_rate": 90, "profile_image": "https://www.gravatar.com/avatar/5b96c68654d5ecce5ace521d7371fec5?s=128&d=identicon&r=PG&f=1", "display_name": "yonyon100", "link": "https://stackoverflow.com/users/4819884/yonyon100"}, "edited": false, "score": 0, "creation_date": 1473771494, "post_id": 39469396, "comment_id": 66260784, "body": "In that case, if you can&#39;t modify FirstModule, I don&#39;t know of any way to access that object since it is, apparently, dying at the end of <code>function</code>"}, {"owner": {"reputation": 50468, "user_id": 1331451, "user_type": "registered", "accept_rate": 96, "profile_image": "https://i.stack.imgur.com/4ZPmj.png?s=128&g=1", "display_name": "simbabque", "link": "https://stackoverflow.com/users/1331451/simbabque"}, "edited": false, "score": 0, "creation_date": 1473772345, "post_id": 39469396, "comment_id": 66261273, "body": "You need to @highlight if you want to answer to a comment so it gives a notification. Only the author of a post gets notified automatically of new comments. That said, why does it create a <code>$hSecondModule</code> object anyway? And why is there a classname in a class variable that gets exported? That&#39;s weird. Anyway, so the <code>#some other code here</code> is a bunch of more statements? And the final return is something else? You could do a bit of ugly hacking... I&#39;ll add another answer."}, {"owner": {"user_type": "does_not_exist", "display_name": "user6734995"}, "reply_to_user": {"reputation": 50468, "user_id": 1331451, "user_type": "registered", "accept_rate": 96, "profile_image": "https://i.stack.imgur.com/4ZPmj.png?s=128&g=1", "display_name": "simbabque", "link": "https://stackoverflow.com/users/1331451/simbabque"}, "edited": false, "score": 0, "creation_date": 1473772826, "post_id": 39469396, "comment_id": 66261577, "body": "@simbabque The code is more complex, I added only the parts which involves my question. The $hSecondModule object is more complex and it is used in a other modules, I don&#39;t know why the ones that wrote this decided to use this architecture. <code>#some other code here</code> involves more statements which alter the final return"}, {"owner": {"reputation": 50468, "user_id": 1331451, "user_type": "registered", "accept_rate": 96, "profile_image": "https://i.stack.imgur.com/4ZPmj.png?s=128&g=1", "display_name": "simbabque", "link": "https://stackoverflow.com/users/1331451/simbabque"}, "edited": false, "score": 0, "creation_date": 1473773898, "post_id": 39469396, "comment_id": 66262287, "body": "See my other answer for some inspiration."}, {"owner": {"reputation": 123805, "user_id": 622310, "user_type": "registered", "accept_rate": 33, "profile_image": "https://www.gravatar.com/avatar/8b6d35219e1808520bc238b28161e2e6?s=128&d=identicon&r=PG", "display_name": "Borodin", "link": "https://stackoverflow.com/users/622310/borodin"}, "edited": false, "score": 0, "creation_date": 1473807585, "post_id": 39469396, "comment_id": 66279463, "body": "Is <code>SecondModule</code> really object-oriented, or is it a function library (uses <code>Exporter</code>)? You have <code>FirstModule</code> doing both, which is possible but very undesirable."}, {"owner": {"user_type": "does_not_exist", "display_name": "user6734995"}, "reply_to_user": {"reputation": 123805, "user_id": 622310, "user_type": "registered", "accept_rate": 33, "profile_image": "https://www.gravatar.com/avatar/8b6d35219e1808520bc238b28161e2e6?s=128&d=identicon&r=PG", "display_name": "Borodin", "link": "https://stackoverflow.com/users/622310/borodin"}, "edited": false, "score": 0, "creation_date": 1473837566, "post_id": 39469396, "comment_id": 66287486, "body": "@Borodin it is object oriented. <code>MainScript</code> starts the execution and the subroutine <code>function</code> basically includes all of the other modules, inside that subroutine all the objects are created ( or subroutinesfrom other modules are called, and those subroutines create other objects and so on). I wanted that after the execution of all the stuff to acces one of the objects to extract some final data."}, {"owner": {"reputation": 123805, "user_id": 622310, "user_type": "registered", "accept_rate": 33, "profile_image": "https://www.gravatar.com/avatar/8b6d35219e1808520bc238b28161e2e6?s=128&d=identicon&r=PG", "display_name": "Borodin", "link": "https://stackoverflow.com/users/622310/borodin"}, "edited": false, "score": 0, "creation_date": 1473839184, "post_id": 39469396, "comment_id": 66288375, "body": "Thank you. I&#39;m still puzzled about your structure. Conventionally a <code>.pm</code> file is a <i>Perl module</i> while <code>.pl</code> is used for a program file. It is also vital to use capital letters for class names, so <code>module::FirstModule</code> should be <code>Module::FirstModule</code>, and the code should be in file <code>Module&#47;Firstmodule.pm</code> while the calling code must <code>use Module::FirstModule</code>. If you are using an object-oriented approach then you must drop all use of <code>Exporter</code>. Beyond that it sounds like you just need to create a <code>Module::SecondModule</code> as a part of the <code>Module::FirstModule</code> object, which is trivial."}, {"owner": {"user_type": "does_not_exist", "display_name": "user6734995"}, "reply_to_user": {"reputation": 123805, "user_id": 622310, "user_type": "registered", "accept_rate": 33, "profile_image": "https://www.gravatar.com/avatar/8b6d35219e1808520bc238b28161e2e6?s=128&d=identicon&r=PG", "display_name": "Borodin", "link": "https://stackoverflow.com/users/622310/borodin"}, "edited": false, "score": 0, "creation_date": 1473840808, "post_id": 39469396, "comment_id": 66289282, "body": "@Borodin Yes, that is the structure. The code is already written (not by me) and it is object-oriented-ish, removing the <code>use Exporter</code> will break it so I won&#39;t really mess with that. I don&#39;t want to modify the <code>FirstModule</code> or <code>SecondModule</code>. My hope was that all the created objects deep in the code flow are available from the <code>MainScript</code> after the execution of subroutine <code>function</code>"}, {"owner": {"user_type": "does_not_exist", "display_name": "user6734995"}, "edited": false, "score": 0, "creation_date": 1473840880, "post_id": 39469396, "comment_id": 66289322, "body": "But of course, that would destroy the purpose of scoping so I guess I&#39;m stuck with that."}, {"owner": {"reputation": 50468, "user_id": 1331451, "user_type": "registered", "accept_rate": 96, "profile_image": "https://i.stack.imgur.com/4ZPmj.png?s=128&g=1", "display_name": "simbabque", "link": "https://stackoverflow.com/users/1331451/simbabque"}, "edited": false, "score": 0, "creation_date": 1473841973, "post_id": 39469396, "comment_id": 66289940, "body": "Does it actually export variables and those contain class names? That&#39;s just plain weird. Why does it do that?"}, {"owner": {"user_type": "does_not_exist", "display_name": "user6734995"}, "reply_to_user": {"reputation": 50468, "user_id": 1331451, "user_type": "registered", "accept_rate": 96, "profile_image": "https://i.stack.imgur.com/4ZPmj.png?s=128&g=1", "display_name": "simbabque", "link": "https://stackoverflow.com/users/1331451/simbabque"}, "edited": false, "score": 0, "creation_date": 1473842087, "post_id": 39469396, "comment_id": 66289995, "body": "@simbabque Yes, this is what it does. <code>$hFirstModule</code> would be the class name of <code>module::FirstModule</code> and when I create an object, I create it with <code>$hFirstModule-&gt;new( &#39;parameters&#39;)</code>. I ask myself the same thing every day :D"}, {"owner": {"reputation": 50468, "user_id": 1331451, "user_type": "registered", "accept_rate": 96, "profile_image": "https://i.stack.imgur.com/4ZPmj.png?s=128&g=1", "display_name": "simbabque", "link": "https://stackoverflow.com/users/1331451/simbabque"}, "edited": false, "score": 1, "creation_date": 1473843552, "post_id": 39469396, "comment_id": 66290906, "body": "I am sorry to hear that. But well, if you know that it&#39;s weird and not the usual way to do stuff, then it&#39;s a good experience. Working with code like that teaches you a lot. I think it&#39;s invaluable. You learn to pay attention to details, be aware of what you do, and dealing with extra-strange stuff. And of course you learn how not to do things and in the future you will be able to argue very effectively why doing it like this is a bad idea. :)"}], "answers": [{"comments": [{"owner": {"user_type": "does_not_exist", "display_name": "user6734995"}, "edited": false, "score": 0, "creation_date": 1473772082, "post_id": 39469768, "comment_id": 66261099, "body": "Thank you for the explanation, apparently I&#39;m trying to acces a scoped out variable which is impossible since it gets lost because it holds a null reference when it gets out of the <code>{ }</code> scope."}], "tags": [], "owner": {"reputation": 50468, "user_id": 1331451, "user_type": "registered", "accept_rate": 96, "profile_image": "https://i.stack.imgur.com/4ZPmj.png?s=128&g=1", "display_name": "simbabque", "link": "https://stackoverflow.com/users/1331451/simbabque"}, "is_accepted": false, "score": 4, "last_activity_date": 1473768676, "creation_date": 1473768676, "answer_id": 39469768, "question_id": 39469396, "link": "https://stackoverflow.com/questions/39469396/access-object-created-in-another-function/39469768#39469768", "title": "Access object created in another function", "body": "<p><strong>It depends.</strong></p>\n\n<p>We would have to see the actual code. What you've shown is a bit ambiguous. However, there are two scenarios.</p>\n\n<ol>\n<li><p><strong>You can't</strong></p>\n\n<p>If your code is not exactly like what you have shown as pseudo-code, then there is no chance to do that. Consider this code in <code>&amp;module1::function</code>.</p>\n\n<pre><code>sub function {\n    my $obj = Module2-&gt;new;\n    # ... more stuff\n    return;\n}\n</code></pre>\n\n<p>In this case, you are not returning anything, and the <code>$obj</code> is <em>lexically scoped</em>. A <a href=\"https://en.wikipedia.org/wiki/Scope_(computer_science)#Lexical_scoping\" rel=\"nofollow\">lexical scope</a> means that it only exists inside of the closest <code>{}</code> block (and all blocks inside that). That's the block of the <code>function</code> sub. Once the program returns out of that sub, the variable goes <em>out of scope</em> and the object is destroyed. There is no way to get to it afterwards. It's gone.</p>\n\n<p>Even if it was not destroyed, you cannot reach into a different scope.</p></li>\n<li><p><strong>You can</strong></p>\n\n<p>If you however return the object from the function, then you'd have to assign it in your script, and then you can access it later. If the code is exactly what you've shown above, this works.</p>\n\n<pre><code>sub function {\n    my $obj = Module2-&gt;new;\n    # nothing here\n}\n</code></pre>\n\n<p>In Perl, subs always return the last true statement. If you don't have a <code>return</code> and the last statement is the <code>Module2-&gt;new</code> call, then the result of that statement, which is the object, is returned. Of course it also works if you actually <code>return</code> explicitly.</p>\n\n<pre><code>sub function {\n    return Module2-&gt;new;\n}\n</code></pre>\n\n<p>So if you assign that to a variable in your script, you can access it in the script.</p>\n\n<pre><code>my $obj = module1-&gt;function();\n</code></pre>\n\n<p>This is similar to <a href=\"https://en.wikipedia.org/wiki/Factory_method_pattern\" rel=\"nofollow\">the factory pattern</a>.</p></li>\n</ol>\n\n<p>This is vague, but without more information it's impossible to answer the question more precicely.</p>\n"}, {"comments": [{"owner": {"reputation": 123805, "user_id": 622310, "user_type": "registered", "accept_rate": 33, "profile_image": "https://www.gravatar.com/avatar/8b6d35219e1808520bc238b28161e2e6?s=128&d=identicon&r=PG", "display_name": "Borodin", "link": "https://stackoverflow.com/users/622310/borodin"}, "edited": false, "score": 0, "creation_date": 1473806697, "post_id": 39471526, "comment_id": 66279190, "body": "It wouldn&#39;t hurt, and I think would make it clearer, if you were to separate your module files and your main source"}, {"owner": {"reputation": 50468, "user_id": 1331451, "user_type": "registered", "accept_rate": 96, "profile_image": "https://i.stack.imgur.com/4ZPmj.png?s=128&g=1", "display_name": "simbabque", "link": "https://stackoverflow.com/users/1331451/simbabque"}, "reply_to_user": {"reputation": 123805, "user_id": 622310, "user_type": "registered", "accept_rate": 33, "profile_image": "https://www.gravatar.com/avatar/8b6d35219e1808520bc238b28161e2e6?s=128&d=identicon&r=PG", "display_name": "Borodin", "link": "https://stackoverflow.com/users/622310/borodin"}, "edited": false, "score": 0, "creation_date": 1473834114, "post_id": 39471526, "comment_id": 66285865, "body": "@borodin yes, I will do that later. I was aiming for easy copying. I always hate having to create several files when I try code. So I try to make it convenient for people."}, {"owner": {"reputation": 123805, "user_id": 622310, "user_type": "registered", "accept_rate": 33, "profile_image": "https://www.gravatar.com/avatar/8b6d35219e1808520bc238b28161e2e6?s=128&d=identicon&r=PG", "display_name": "Borodin", "link": "https://stackoverflow.com/users/622310/borodin"}, "edited": false, "score": 0, "creation_date": 1473839592, "post_id": 39471526, "comment_id": 66288598, "body": "I agree that it makes your code easier to test, but it will be much harder, especially for the more naive readers, to convert what you have written into separate module files. I think the guys who want to contract your code into a single source file are likely to be less handicapped and less frequent than those who need to expand a monoblock into individual sources. It may also bypass people thst the &quot;proper&quot; way is to use multiple library files unless you say so explicitly. Thanks for a great answer."}, {"owner": {"reputation": 50468, "user_id": 1331451, "user_type": "registered", "accept_rate": 96, "profile_image": "https://i.stack.imgur.com/4ZPmj.png?s=128&g=1", "display_name": "simbabque", "link": "https://stackoverflow.com/users/1331451/simbabque"}, "reply_to_user": {"reputation": 123805, "user_id": 622310, "user_type": "registered", "accept_rate": 33, "profile_image": "https://www.gravatar.com/avatar/8b6d35219e1808520bc238b28161e2e6?s=128&d=identicon&r=PG", "display_name": "Borodin", "link": "https://stackoverflow.com/users/622310/borodin"}, "edited": false, "score": 0, "creation_date": 1473839629, "post_id": 39471526, "comment_id": 66288627, "body": "@Borodin I just changed it. I agree with you fully."}, {"owner": {"reputation": 123805, "user_id": 622310, "user_type": "registered", "accept_rate": 33, "profile_image": "https://www.gravatar.com/avatar/8b6d35219e1808520bc238b28161e2e6?s=128&d=identicon&r=PG", "display_name": "Borodin", "link": "https://stackoverflow.com/users/622310/borodin"}, "edited": false, "score": 0, "creation_date": 1473839723, "post_id": 39471526, "comment_id": 66288683, "body": "So I see! Thanks for all you do here."}, {"owner": {"reputation": 50468, "user_id": 1331451, "user_type": "registered", "accept_rate": 96, "profile_image": "https://i.stack.imgur.com/4ZPmj.png?s=128&g=1", "display_name": "simbabque", "link": "https://stackoverflow.com/users/1331451/simbabque"}, "reply_to_user": {"reputation": 123805, "user_id": 622310, "user_type": "registered", "accept_rate": 33, "profile_image": "https://www.gravatar.com/avatar/8b6d35219e1808520bc238b28161e2e6?s=128&d=identicon&r=PG", "display_name": "Borodin", "link": "https://stackoverflow.com/users/622310/borodin"}, "edited": false, "score": 0, "creation_date": 1473839757, "post_id": 39471526, "comment_id": 66288698, "body": "@Borodin I&#39;ll hand that compliment right back to you. :)"}, {"owner": {"reputation": 920, "user_id": 4819884, "user_type": "registered", "accept_rate": 90, "profile_image": "https://www.gravatar.com/avatar/5b96c68654d5ecce5ace521d7371fec5?s=128&d=identicon&r=PG&f=1", "display_name": "yonyon100", "link": "https://stackoverflow.com/users/4819884/yonyon100"}, "edited": false, "score": 0, "creation_date": 1473839896, "post_id": 39471526, "comment_id": 66288768, "body": "@simbabque even though it&#39;s not that safe to do this, I really like this hack!"}, {"owner": {"reputation": 123805, "user_id": 622310, "user_type": "registered", "accept_rate": 33, "profile_image": "https://www.gravatar.com/avatar/8b6d35219e1808520bc238b28161e2e6?s=128&d=identicon&r=PG", "display_name": "Borodin", "link": "https://stackoverflow.com/users/622310/borodin"}, "edited": false, "score": 0, "creation_date": 1473840073, "post_id": 39471526, "comment_id": 66288872, "body": "Hmm thank you, but many of my contributions are marred by my anger issues. It is always my intention to appear to be friendly, but sometimes it doesn&#39;t happen. Occasionally there are jerks whom I think deserve the blunt end of my pen, but that doesn&#39;t happen often. Please bear with me -- I am working on my inadequacies."}, {"owner": {"reputation": 50468, "user_id": 1331451, "user_type": "registered", "accept_rate": 96, "profile_image": "https://i.stack.imgur.com/4ZPmj.png?s=128&g=1", "display_name": "simbabque", "link": "https://stackoverflow.com/users/1331451/simbabque"}, "reply_to_user": {"reputation": 123805, "user_id": 622310, "user_type": "registered", "accept_rate": 33, "profile_image": "https://www.gravatar.com/avatar/8b6d35219e1808520bc238b28161e2e6?s=128&d=identicon&r=PG", "display_name": "Borodin", "link": "https://stackoverflow.com/users/622310/borodin"}, "edited": false, "score": 0, "creation_date": 1473840637, "post_id": 39471526, "comment_id": 66289197, "body": "@Borodin I don&#39;t think it&#39;s that bad. I think a lot of people actually function like that. It kind of conforms with Larry&#39;s three virtues, doesn&#39;t it? And the main point is, even if you think they are jerks, you still help them. That has to count for something."}], "tags": [], "owner": {"reputation": 50468, "user_id": 1331451, "user_type": "registered", "accept_rate": 96, "profile_image": "https://i.stack.imgur.com/4ZPmj.png?s=128&g=1", "display_name": "simbabque", "link": "https://stackoverflow.com/users/1331451/simbabque"}, "is_accepted": true, "score": 3, "last_activity_date": 1473839586, "last_edit_date": 1473839586, "creation_date": 1473773872, "answer_id": 39471526, "question_id": 39469396, "link": "https://stackoverflow.com/questions/39469396/access-object-created-in-another-function/39471526#39471526", "title": "Access object created in another function", "body": "<p>Here is a very hacky approach that takes your updated code into consideration. It uses <a href=\"https://v1.metacpan.org/pod/Sub::Override\" rel=\"nofollow\">Sub::Override</a> to grab the return value of the constructor call to your SecondModule thingy. This is something that you'd usually maybe do in a unit test, but not in production code. However, it should work. Here's an example.</p>\n\n<p><em>Foo.pm</em></p>\n\n<pre><code>package Foo;\nuse Bar;\n\nsub new {\n    return bless {}, $_[0];\n}\n\nsub frobnicate {\n    Bar-&gt;new;\n    return;\n}\n</code></pre>\n\n<p><em>Bar.pm</em></p>\n\n<pre><code>package Bar;\n\nsub new {\n    return bless {}, $_[0];\n}\n\nsub drink {\n    return 42;    # because.\n}\n</code></pre>\n\n<p><em>script.pl</em></p>\n\n<pre><code>package main;\nuse Foo; # this will load Bar at compile time\nuse Sub::Override;\n\nmy $foo = Foo-&gt;new;\n\nmy $bar;          # this is lexical to the main script, so we can use it inside\nmy $orig = \\&amp;Bar::new;           # grab the original function\nmy $sub  = Sub::Override-&gt;new(\n    \"Bar::new\" =&gt; sub {\n        my $self = shift;\n\n        # call the constructor of $hSecondModule, grab the RV and assign\n        # it to our var from the main script\n        $bar = $self-&gt;$orig(@_);\n        return $bar;\n    }\n);\n\n$foo-&gt;frobnicate;\n\n# restore the original sub\n$sub-&gt;restore;\n\n# $bar is now assigend\nprint $bar-&gt;drink;\n</code></pre>\n\n<p>Again, I would not do this in production code.</p>\n\n<p>Let's take a look at the <code>main</code> function. It first creates a new Foo object. Then it grabs a reference to the <code>Bar::new</code> function. We need that as the original, so we can call it to create the object. Then we use Sub::Override to temporarily replace the <code>Bar::new</code> with our sub that calls the original, but takes the return value (which is the object) and assigns it to our variable that's lexical to the main script. Then we return it.</p>\n\n<p>This function will now be called when <code>$foo-&gt;frobnicate</code> calls <code>Bar-&gt;new</code>. After that call, <code>$bar</code> is populated in our main script. Then we restore <code>Bar::new</code> so we don't accidentally overwrite our <code>$bar</code> in case that gets called again from somewhere else.</p>\n\n<p>Afterwards, we can use <code>$bar</code>.</p>\n\n<p>Note that this is advanced. I'll say again that I would not use this kind of hack in production code. There is probably a better way to do what you want. There might be an x/y problem here and you need to better explain why you need to do this so we can find a less crazy solution.</p>\n"}], "owner": {"user_type": "does_not_exist", "display_name": "user6734995"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 60, "favorite_count": 0, "accepted_answer_id": 39471526, "answer_count": 2, "score": 3, "last_activity_date": 1522993727, "creation_date": 1473767561, "last_edit_date": 1522993727, "question_id": 39469396, "link": "https://stackoverflow.com/questions/39469396/access-object-created-in-another-function", "title": "Access object created in another function", "body": "<p>My program creates an object, which, in turn, creates another object</p>\n\n<h3>MainScript.pm</h3>\n\n<pre><code>use module::FirstModule qw ($hFirstModule);\n\n$hFirstModule-&gt;new(parametres);\n$hFirstModule-&gt;function();\n</code></pre>\n\n<h3>FirstModule.pm</h3>\n\n<pre><code>use Exporter   ();\n@EXPORT = qw($hFirstModule);\nuse module::SecondModule qw ($hSecondModule);\n\nsub new {\n    my $className = shift;\n    my $self = { key =&gt; 'val' };\n    bless $self, $classname;\n\n    return $self;\n}\n\nsub function{\n    $hSecondModule-&gt;new(parametres);\n    #some other code here\n}\n</code></pre>\n\n<p>I want to acces <code>$hSecondModule</code> from <code>MainScript.pm</code>.</p>\n"}, {"tags": ["perl"], "comments": [{"owner": {"reputation": 62184, "user_id": 7231, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/81b76985f3985e35492e25880493d045?s=128&d=identicon&r=PG", "display_name": "Dave Cross", "link": "https://stackoverflow.com/users/7231/dave-cross"}, "edited": false, "score": 0, "creation_date": 1473769494, "post_id": 39468446, "comment_id": 66259520, "body": "That&#39;s a very bizarre change to make to your input file. You&#39;ve made it look like a string representation of an array reference. Where did you get that idea from?"}, {"owner": {"reputation": 27, "user_id": 5618951, "user_type": "registered", "accept_rate": 60, "profile_image": "https://www.gravatar.com/avatar/f64af1c8dfefafdb01b1b63aba0bd9e0?s=128&d=identicon&r=PG&f=1", "display_name": "Daniel", "link": "https://stackoverflow.com/users/5618951/daniel"}, "reply_to_user": {"reputation": 62184, "user_id": 7231, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/81b76985f3985e35492e25880493d045?s=128&d=identicon&r=PG", "display_name": "Dave Cross", "link": "https://stackoverflow.com/users/7231/dave-cross"}, "edited": false, "score": 1, "creation_date": 1473772196, "post_id": 39468446, "comment_id": 66261165, "body": "i know it&#39;s weird, i tried all solutions before i posted this question ,this is my first steps with perl, without errors, we can&#39;t learn :)"}], "answers": [{"comments": [{"owner": {"reputation": 27, "user_id": 5618951, "user_type": "registered", "accept_rate": 60, "profile_image": "https://www.gravatar.com/avatar/f64af1c8dfefafdb01b1b63aba0bd9e0?s=128&d=identicon&r=PG&f=1", "display_name": "Daniel", "link": "https://stackoverflow.com/users/5618951/daniel"}, "edited": false, "score": 0, "creation_date": 1473766733, "post_id": 39468871, "comment_id": 66257884, "body": "i tried also, i have this error,  Can&#39;t use string (&quot;[&#39;perl&#39;,&#39;java&#39;,&#39;python&#39;,&#39;php&#39;,&#39;s&quot;...) as an ARRAY ref while &quot;strict refs&quot; in use at Bag/Similarity/Cosine.pm , cosine.pm is a long configuration file that i downloaded from the link above,"}, {"owner": {"reputation": 62184, "user_id": 7231, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/81b76985f3985e35492e25880493d045?s=128&d=identicon&r=PG", "display_name": "Dave Cross", "link": "https://stackoverflow.com/users/7231/dave-cross"}, "reply_to_user": {"reputation": 27, "user_id": 5618951, "user_type": "registered", "accept_rate": 60, "profile_image": "https://www.gravatar.com/avatar/f64af1c8dfefafdb01b1b63aba0bd9e0?s=128&d=identicon&r=PG&f=1", "display_name": "Daniel", "link": "https://stackoverflow.com/users/5618951/daniel"}, "edited": false, "score": 0, "creation_date": 1473769035, "post_id": 39468871, "comment_id": 66259236, "body": "You appear to be using where an array reference is needed. But without knowing what you have changed, I can&#39;t be any more help."}], "tags": [], "owner": {"reputation": 62184, "user_id": 7231, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/81b76985f3985e35492e25880493d045?s=128&d=identicon&r=PG", "display_name": "Dave Cross", "link": "https://stackoverflow.com/users/7231/dave-cross"}, "is_accepted": false, "score": 0, "last_activity_date": 1473842699, "last_edit_date": 1473842699, "creation_date": 1473766010, "answer_id": 39468871, "question_id": 39468446, "link": "https://stackoverflow.com/questions/39468446/cosine-similarity-between-strings-perl/39468871#39468871", "title": "cosine similarity between strings perl", "body": "<p>I know nothing at all about this module. But I can read <a href=\"https://metacpan.org/pod/Bag::Similarity::Cosine\" rel=\"nofollow\">the documentation</a>.</p>\n\n<p>It looks to me like the module has two methods. <code>similarity()</code> is used for comparing two strings and <code>from_bags()</code> is used to compare two references to arrays containing strings. I expect that when you call <code>similarity</code> passing it two array references, then what gets compared is actually the stringification of the two references.</p>\n\n<p>Try switching to <code>from_bags()</code> and see if that's any better.</p>\n\n<p><strong>Update:</strong> On investigating further, I see that <code>similarity()</code> will compare any kind of input (strings, array refs or hash refs).</p>\n\n<p>This demonstrates using <code>similarity()</code> to compare the lines as text and as arrays of words.</p>\n\n<pre><code>#!/usr/bin/perl\n\nuse strict;\nuse warnings;\nuse 5.010;\n\nuse Bag::Similarity::Cosine;\n\nchomp(my @data = &lt;DATA&gt;);\n\nmy $cos = Bag::Similarity::Cosine-&gt;new;\n\nfor my $i (0 .. $#data - 1) {\n  for my $j (1 .. $#data) {\n    next if $i == $j;\n    say \"$i -&gt; $j: strings \", $cos-&gt;similarity($data[$i], $data[$j]);\n    say \"$i -&gt; $j: array refs \", $cos-&gt;similarity([split /\\s+/, $data[$i]], [split /\\s+/, $data[$j]]);\n  }\n}\n\n__DATA__\nperl java python php scala\njava pascal perl ruby ada\nASP awk php java perl\nC# ada python java scala\n</code></pre>\n\n<p>And it gives this output:</p>\n\n<pre><code>$ perl similar\n0 -&gt; 1: strings 0.88602000346543\n0 -&gt; 1: array refs 0.4\n0 -&gt; 2: strings 0.89566858950296\n0 -&gt; 2: array refs 0.6\n0 -&gt; 3: strings 0.852802865422442\n0 -&gt; 3: array refs 0.6\n1 -&gt; 2: strings 0.872356744289958\n1 -&gt; 2: array refs 0.4\n1 -&gt; 3: strings 0.884721984738799\n1 -&gt; 3: array refs 0.4\n2 -&gt; 1: strings 0.872356744289958\n2 -&gt; 1: array refs 0.4\n2 -&gt; 3: strings 0.753778361444409\n2 -&gt; 3: array refs 0.2\n</code></pre>\n\n<p>I don't know which version gives you the information you want. I suspect it might be the array reference version.</p>\n"}, {"comments": [{"owner": {"reputation": 27, "user_id": 5618951, "user_type": "registered", "accept_rate": 60, "profile_image": "https://www.gravatar.com/avatar/f64af1c8dfefafdb01b1b63aba0bd9e0?s=128&d=identicon&r=PG&f=1", "display_name": "Daniel", "link": "https://stackoverflow.com/users/5618951/daniel"}, "edited": false, "score": 0, "creation_date": 1473770662, "post_id": 39469486, "comment_id": 66260281, "body": "Thanks chankey, :) really i have many problem with arrays ref, map, grep ... please have a complete course for perl"}, {"owner": {"reputation": 62184, "user_id": 7231, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/81b76985f3985e35492e25880493d045?s=128&d=identicon&r=PG", "display_name": "Dave Cross", "link": "https://stackoverflow.com/users/7231/dave-cross"}, "edited": false, "score": 0, "creation_date": 1473773763, "post_id": 39469486, "comment_id": 66262194, "body": "Any reason why you&#39;re converting the data into hash refs rather than array refs? I know nothing about this area, so I might be missing something obvious."}], "tags": [], "owner": {"reputation": 19192, "user_id": 257635, "user_type": "registered", "accept_rate": 89, "profile_image": "https://i.stack.imgur.com/El2tc.jpg?s=128&g=1", "display_name": "Chankey Pathak", "link": "https://stackoverflow.com/users/257635/chankey-pathak"}, "is_accepted": true, "score": 1, "last_activity_date": 1473768763, "last_edit_date": 1473768763, "creation_date": 1473767849, "answer_id": 39469486, "question_id": 39468446, "link": "https://stackoverflow.com/questions/39468446/cosine-similarity-between-strings-perl/39469486#39469486", "title": "cosine similarity between strings perl", "body": "<p>There is syntax error in your program. Were you trying to use <code>printf</code> and used <code>print</code> mistakenly? Not sure about you but below works fine for me.</p>\n\n<pre><code>#!/usr/bin/perl\nuse strict;\nuse warnings;\nuse Bag::Similarity::Cosine;\n\nmy $cosine = Bag::Similarity::Cosine-&gt;new;\nmy @data;\n\nwhile ( &lt;DATA&gt; ) {\n    push @data, { map { $_ =&gt; 1 } split };\n}\n\nfor my $i ( 0 .. $#data-1 ) {\n    for my $j ( $i + 1 .. $#data ) {\n        my $similarity = $cosine-&gt;similarity($data[$i],$data[$j]);\n        print \"line $i has a similarity of $similarity with line $j\\n\";\n    }\n}\n\n__DATA__\nperl java python php scala\njava pascal perl ruby ada\nASP awk php java perl\nC# ada python java scala\n</code></pre>\n\n<p>Output:</p>\n\n<pre><code>line 0 has a similarity of 0.4 with line 1\nline 0 has a similarity of 0.6 with line 2\nline 0 has a similarity of 0.6 with line 3\nline 1 has a similarity of 0.4 with line 2\nline 1 has a similarity of 0.4 with line 3\nline 2 has a similarity of 0.2 with line 3\n</code></pre>\n"}], "owner": {"reputation": 27, "user_id": 5618951, "user_type": "registered", "accept_rate": 60, "profile_image": "https://www.gravatar.com/avatar/f64af1c8dfefafdb01b1b63aba0bd9e0?s=128&d=identicon&r=PG&f=1", "display_name": "Daniel", "link": "https://stackoverflow.com/users/5618951/daniel"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 347, "favorite_count": 0, "accepted_answer_id": 39469486, "answer_count": 2, "score": 0, "last_activity_date": 1473842699, "creation_date": 1473764608, "last_edit_date": 1473765447, "question_id": 39468446, "link": "https://stackoverflow.com/questions/39468446/cosine-similarity-between-strings-perl", "title": "cosine similarity between strings perl", "body": "<p>i have a file contain for example this text: </p>\n\n<pre><code> perl java python php scala \n java pascal perl ruby ada   \n ASP awk php java perl \n C# ada python java scala\n</code></pre>\n\n<p>I found a module which calculates cosine similaity, <a href=\"http://search.cpan.org/~wollmers/Bag-Similarity-0.019/lib/Bag/Similarity/Cosine.pm\" rel=\"nofollow\">http://search.cpan.org/~wollmers/Bag-Similarity-0.019/lib/Bag/Similarity/Cosine.pm</a> </p>\n\n<p>I did a simple test in the bignning, </p>\n\n<pre><code>my $cosine = Bag::Similarity::Cosine-&gt;new;\n my $similarity = $cosine-&gt;similarity(['perl','java','python','php','scala'],['java','pascal','perl','ruby','ada']);\nprint $similarity;\n</code></pre>\n\n<p>The rusult was 0.4;</p>\n\n<p>The problem when i read from the file and calculate the cosine between each line, the results are different, this is the code:</p>\n\n<pre><code>open(F,\"/home/ahmed/FILE.txt\") or die \" Pb pour ouvrir\";\nmy @data; # containt each line of the FILE in each case\n\nwhile(&lt;F&gt;) { \n    chomp; \n    push @data, $_;\n}\n#print join \" \", @data;\n\n my $cosine = Bag::Similarity::Cosine-&gt;new;\n\nfor my $i ( 0 .. $#data-1 ) {\n\n    for my $j ( $i + 1 .. $#data ) {\n\nmy $similarity = $cosine-&gt;similarity($data[$i],$data[$j]);\n\nprint \"line $i a une similarite de  $similarity avec line $j\\n\";\n\n $i + 1,\n\n            $j + 1;\n}\n}\n</code></pre>\n\n<p>the results : </p>\n\n<pre><code>line 0 has a similarity of 0.933424735647156 with line 1\nline 0 has a similarity of 0.953945734121021 with line 2\nline 0 has a similarity of 0.939759036144578 with line 3\nline 1 has a similarity of  0.917585834612093 with line 2\nline 1 has a similarity of  0.945092544842746 with line 3\nline 2 has a similarity of  0.908826679128811 with line 3\n</code></pre>\n\n<p>the similarity must be 0.4 between line 1 and 2;</p>\n\n<p>I changed the FILE like this :</p>\n\n<pre><code>['perl','java','python','php','scala'] \n['java','pascal','perl','ruby','ada']  \n['ASP','awk','php','java','perl']\n['C#','ada','python','java','scala']\n</code></pre>\n\n<p>but the same result,\nThank you. </p>\n"}, {"tags": ["perl", "mojolicious"], "comments": [{"owner": {"reputation": 48798, "user_id": 223226, "user_type": "registered", "accept_rate": 93, "profile_image": "https://i.stack.imgur.com/iGqE4.png?s=128&g=1", "display_name": "mpapec", "link": "https://stackoverflow.com/users/223226/mpapec"}, "edited": false, "score": 0, "creation_date": 1473765051, "post_id": 39468416, "comment_id": 66256958, "body": "Try to put all static files into <code>public&#47;</code> subfolder."}], "answers": [{"comments": [{"owner": {"reputation": 48798, "user_id": 223226, "user_type": "registered", "accept_rate": 93, "profile_image": "https://i.stack.imgur.com/iGqE4.png?s=128&g=1", "display_name": "mpapec", "link": "https://stackoverflow.com/users/223226/mpapec"}, "edited": false, "score": 0, "creation_date": 1473767144, "post_id": 39468752, "comment_id": 66258109, "body": "perhaps <code>app-&gt;static</code>?"}, {"owner": {"reputation": 62184, "user_id": 7231, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/81b76985f3985e35492e25880493d045?s=128&d=identicon&r=PG", "display_name": "Dave Cross", "link": "https://stackoverflow.com/users/7231/dave-cross"}, "reply_to_user": {"reputation": 48798, "user_id": 223226, "user_type": "registered", "accept_rate": 93, "profile_image": "https://i.stack.imgur.com/iGqE4.png?s=128&g=1", "display_name": "mpapec", "link": "https://stackoverflow.com/users/223226/mpapec"}, "edited": false, "score": 0, "creation_date": 1473767954, "post_id": 39468752, "comment_id": 66258574, "body": "Not according to the <a href=\"https://metacpan.org/pod/Mojolicious#static\" rel=\"nofollow noreferrer\">documentation</a> I was reading. But I admit to knowing little about Mojolicious."}, {"owner": {"reputation": 48798, "user_id": 223226, "user_type": "registered", "accept_rate": 93, "profile_image": "https://i.stack.imgur.com/iGqE4.png?s=128&g=1", "display_name": "mpapec", "link": "https://stackoverflow.com/users/223226/mpapec"}, "edited": false, "score": 1, "creation_date": 1473768748, "post_id": 39468752, "comment_id": 66259060, "body": "Ok, <code>Mojolicious::Lite</code> which OP uses differs in few minor details, <a href=\"https://metacpan.org/pod/Mojolicious::Lite#app\" rel=\"nofollow noreferrer\">metacpan.org/pod/Mojolicious::Lite#app</a>"}, {"owner": {"reputation": 19796, "user_id": 468327, "user_type": "registered", "accept_rate": 89, "profile_image": "https://www.gravatar.com/avatar/cc767569f5863a7c261991ee5b23f147?s=128&d=identicon&r=PG", "display_name": "Joel Berger", "link": "https://stackoverflow.com/users/468327/joel-berger"}, "edited": false, "score": 0, "creation_date": 1474858414, "post_id": 39468752, "comment_id": 66687133, "body": "There is no real difference between the two. <code>$app</code> is by convention of the documentation the application instance. In a Lite app, the <code>app</code> dsl keyword (read: function) simply returns that same instance."}], "tags": [], "owner": {"reputation": 62184, "user_id": 7231, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/81b76985f3985e35492e25880493d045?s=128&d=identicon&r=PG", "display_name": "Dave Cross", "link": "https://stackoverflow.com/users/7231/dave-cross"}, "is_accepted": true, "score": 4, "last_activity_date": 1473765619, "creation_date": 1473765619, "answer_id": 39468752, "question_id": 39468416, "link": "https://stackoverflow.com/questions/39468416/unable-to-load-images-with-mojolicious-web-server/39468752#39468752", "title": "Unable to load images with Mojolicious web server", "body": "<p>By default, Mojolicious serves static from the <code>public</code> subdirectory of your application. Try putting the image file in there. You can change the static file directory using <code>$app-&gt;static</code>.</p>\n"}], "owner": {"reputation": 809, "user_id": 2870624, "user_type": "registered", "accept_rate": 27, "profile_image": "https://i.stack.imgur.com/XbhzQ.jpg?s=128&g=1", "display_name": "gpwr", "link": "https://stackoverflow.com/users/2870624/gpwr"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 134, "favorite_count": 0, "accepted_answer_id": 39468752, "answer_count": 1, "score": 2, "last_activity_date": 1473765619, "creation_date": 1473764529, "question_id": 39468416, "link": "https://stackoverflow.com/questions/39468416/unable-to-load-images-with-mojolicious-web-server", "title": "Unable to load images with Mojolicious web server", "body": "<p>It would seem that I'm not able to display images with Mojolicious in the web browser. My source code of my Perl script looks like this:</p>\n\n<pre><code>#!/usr/bin/perl\n\nuse Mojolicious::Lite;\n\nget '/' =&gt; sub {\n  my $c = shift;\n  $c-&gt;render(text =&gt; \"Hello World! This is an image: &lt;img src=\\\"logo.png\\\"&gt; \");\n};\n\napp-&gt;start;\n</code></pre>\n\n<p>When I load: <a href=\"http://127.0.0.1:3000/\" rel=\"nofollow\">http://127.0.0.1:3000/</a>\nthe 'Hello World' text is displayed but the logo.png is not displayed - logo.png appears as a broken image as the web browser reports it is missing. The logo.png file is inside the same directory I'm running the above script from.</p>\n\n<p>What must I do to get images and other external static files like javascript files, css, etc. to load inside the web page.</p>\n"}, {"tags": ["sql-server", "perl", "dbi"], "comments": [{"owner": {"reputation": 123805, "user_id": 622310, "user_type": "registered", "accept_rate": 33, "profile_image": "https://www.gravatar.com/avatar/8b6d35219e1808520bc238b28161e2e6?s=128&d=identicon&r=PG", "display_name": "Borodin", "link": "https://stackoverflow.com/users/622310/borodin"}, "edited": false, "score": 3, "creation_date": 1473757364, "post_id": 39465745, "comment_id": 66252418, "body": "Please don&#39;t post text as images. It is very difficult to read, and impossible to copy and paste. You should also remember our many blind subscribers."}, {"owner": {"reputation": 4030, "user_id": 1536027, "user_type": "registered", "accept_rate": 82, "profile_image": "https://i.stack.imgur.com/CZDC1.jpg?s=128&g=1", "display_name": "DerpyNerd", "link": "https://stackoverflow.com/users/1536027/derpynerd"}, "reply_to_user": {"reputation": 123805, "user_id": 622310, "user_type": "registered", "accept_rate": 33, "profile_image": "https://www.gravatar.com/avatar/8b6d35219e1808520bc238b28161e2e6?s=128&d=identicon&r=PG", "display_name": "Borodin", "link": "https://stackoverflow.com/users/622310/borodin"}, "edited": false, "score": 4, "creation_date": 1473757595, "post_id": 39465745, "comment_id": 66252562, "body": "@Borodin: I&#39;m not entirely blind (85%), but I couldn&#39;t agree with you more :)"}], "answers": [{"comments": [{"owner": {"reputation": 467, "user_id": 6144148, "user_type": "registered", "accept_rate": 16, "profile_image": "https://graph.facebook.com/735835913183675/picture?type=large", "display_name": "Alla Sasikanth", "link": "https://stackoverflow.com/users/6144148/alla-sasikanth"}, "edited": false, "score": 0, "creation_date": 1473757750, "post_id": 39465879, "comment_id": 66252663, "body": "Can you suggest me the right way to get the correct DSN ?"}], "tags": [], "owner": {"reputation": 19192, "user_id": 257635, "user_type": "registered", "accept_rate": 89, "profile_image": "https://i.stack.imgur.com/El2tc.jpg?s=128&g=1", "display_name": "Chankey Pathak", "link": "https://stackoverflow.com/users/257635/chankey-pathak"}, "is_accepted": false, "score": 2, "last_activity_date": 1473757083, "last_edit_date": 1495535248, "creation_date": 1473756705, "answer_id": 39465879, "question_id": 39465745, "link": "https://stackoverflow.com/questions/39465745/connect-to-sql-server-using-dbi/39465879#39465879", "title": "Connect to SQL Server using DBI", "body": "<p>The error says that Data source name not found.</p>\n\n<p>That means your <code>dsn</code> is incorrect. </p>\n\n<p>If you're working with an x64 server, keep in mind that there are different ODBC settings for x86 and x64 applications. [See: <a href=\"https://stackoverflow.com/a/5034297/257635]\">https://stackoverflow.com/a/5034297/257635]</a></p>\n\n<p>Try the below syntax with correct DSN.</p>\n\n<pre><code>my $dbh = DBI-&gt;connect(\"dbi:ODBC:Driver={SQL Server};Server=&lt;IP&gt;;UID=$user;PWD=$password\",\n    {\n       PrintError       =&gt; 0,\n       RaiseError       =&gt; 1,\n       AutoCommit       =&gt; 1,\n       FetchHashKeyName =&gt; 'NAME_lc',\n    }\n);\n</code></pre>\n"}], "owner": {"reputation": 467, "user_id": 6144148, "user_type": "registered", "accept_rate": 16, "profile_image": "https://graph.facebook.com/735835913183675/picture?type=large", "display_name": "Alla Sasikanth", "link": "https://stackoverflow.com/users/6144148/alla-sasikanth"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 729, "favorite_count": 1, "answer_count": 1, "score": 2, "last_activity_date": 1473757083, "creation_date": 1473756281, "last_edit_date": 1473756384, "question_id": 39465745, "link": "https://stackoverflow.com/questions/39465745/connect-to-sql-server-using-dbi", "title": "Connect to SQL Server using DBI", "body": "<p>I am trying to connect to MS SQL server using Perl Script. Here is the Code.</p>\n\n<pre><code>#!/usr/bin/perl\nuse strict;\nuse warnings;\n\nuse DBI;\n\n#my $dbfile = \"sample.db\";\n\nmy $dsn      = \"dbi:ODBC:SQLServer:dpnsql\";\nmy $user     = \"xxx\";\nmy $password = \"******\";\nmy $dbh = DBI-&gt;connect($dsn, $user, $password, \n{\n   PrintError       =&gt; 0,\n   RaiseError       =&gt; 1,\n   AutoCommit       =&gt; 1,\n   FetchHashKeyName =&gt; 'NAME_lc',\n}\n);\n\n\n$dbh-&gt;disconnect;\n</code></pre>\n\n<p>But I am getting the error as below\n<a href=\"https://i.stack.imgur.com/F2DWE.jpg\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/F2DWE.jpg\" alt=\"enter image description here\"></a></p>\n\n<p>Please help me in this issue. Any new code is also appreciated.</p>\n\n<p>TIA</p>\n"}, {"tags": ["regex", "perl"], "answers": [{"comments": [{"owner": {"reputation": 5970, "user_id": 2618323, "user_type": "registered", "accept_rate": 74, "profile_image": "https://i.stack.imgur.com/3Czph.jpg?s=128&g=1", "display_name": "Developer", "link": "https://stackoverflow.com/users/2618323/developer"}, "edited": false, "score": 0, "creation_date": 1473753505, "post_id": 39464839, "comment_id": 66250207, "body": "if i got data in &lt;Test RequestId=&quot;1&quot; RequestorId=&quot;test&quot; ResponderId=&quot;Test&quot;&gt; .from this i want to get the RequestorId value how we can do this"}, {"owner": {"reputation": 51521, "user_id": 2566198, "user_type": "registered", "accept_rate": 67, "profile_image": "https://i.stack.imgur.com/Y34ZA.jpg?s=128&g=1", "display_name": "Sobrique", "link": "https://stackoverflow.com/users/2566198/sobrique"}, "edited": false, "score": 2, "creation_date": 1473754004, "post_id": 39464839, "comment_id": 66250507, "body": "This may be correct, but honestly it&#39;s a bad solution to the problem - XML is a contextual language, and regular expressions are not. It can never be better than a hack to regex them."}, {"owner": {"reputation": 16405, "user_id": 6776093, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/heFeh.png?s=128&g=1", "display_name": "redneb", "link": "https://stackoverflow.com/users/6776093/redneb"}, "reply_to_user": {"reputation": 51521, "user_id": 2566198, "user_type": "registered", "accept_rate": 67, "profile_image": "https://i.stack.imgur.com/Y34ZA.jpg?s=128&g=1", "display_name": "Sobrique", "link": "https://stackoverflow.com/users/2566198/sobrique"}, "edited": false, "score": 0, "creation_date": 1473754077, "post_id": 39464839, "comment_id": 66250555, "body": "@Sobrique Agreed. The OP has decent rep, so I hope they know what they are doing."}, {"owner": {"reputation": 62184, "user_id": 7231, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/81b76985f3985e35492e25880493d045?s=128&d=identicon&r=PG", "display_name": "Dave Cross", "link": "https://stackoverflow.com/users/7231/dave-cross"}, "edited": false, "score": 1, "creation_date": 1473756148, "post_id": 39464839, "comment_id": 66251680, "body": "Downvoted for encouraging the parsing of XML using regexes."}], "tags": [], "owner": {"reputation": 16405, "user_id": 6776093, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/heFeh.png?s=128&g=1", "display_name": "redneb", "link": "https://stackoverflow.com/users/6776093/redneb"}, "is_accepted": true, "score": 1, "last_activity_date": 1473754148, "last_edit_date": 1473754148, "creation_date": 1473753190, "answer_id": 39464839, "question_id": 39464797, "link": "https://stackoverflow.com/questions/39464797/get-a-xml-tag-value-from-regular-expression-in-perl/39464839#39464839", "title": "Get a Xml Tag value from regular expression in Perl", "body": "<p>The <code>$xml =~/&lt;test&gt;(.*?)&lt;\\/test&gt;/i</code> expression can be evaluated in list context in which case it returns an array with all the captured groups. So you need to do something like that:</p>\n\n<pre><code>($data) = $xml =~/&lt;test&gt;(.*?)&lt;\\/test&gt;/i;\n</code></pre>\n\n<p><strong>Edit</strong>: For the second example, you can similarly extract the information if you capture it with a set of parentheses:</p>\n\n<pre><code>($RequestorId) = $xml =~ /&lt;Test [^&gt;]*\\bRequestorId=\"([^\"]*)\"/;\n</code></pre>\n"}, {"tags": [], "owner": {"reputation": 198290, "user_id": 1030675, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/957956ce51706d03f19a4dc85a767bb1?s=128&d=identicon&r=PG", "display_name": "choroba", "link": "https://stackoverflow.com/users/1030675/choroba"}, "is_accepted": false, "score": 2, "last_activity_date": 1473753850, "creation_date": 1473753850, "answer_id": 39465040, "question_id": 39464797, "link": "https://stackoverflow.com/questions/39464797/get-a-xml-tag-value-from-regular-expression-in-perl/39465040#39465040", "title": "Get a Xml Tag value from regular expression in Perl", "body": "<p>Don't use regular expressions to parse XML. Use a proper XML handling tool, i.e. <a href=\"http://p3rl.org/XML::LibXML\" rel=\"nofollow\">XML::LibXML</a>:</p>\n\n<pre><code>#!/usr/bin/perl\nuse warnings;\nuse strict;\nuse feature qw{ say };\n\nuse XML::LibXML;\n\nmy $dom = 'XML::LibXML'-&gt;load_xml( location =&gt; shift );\n\nmy $data = $dom-&gt;findvalue('t_volume/test');\nsay $data;\n\nmy $requestor_id = $dom-&gt;findvalue('//Test/@RequestorId');\nsay $requestor_id;\n</code></pre>\n"}, {"tags": [], "owner": {"reputation": 51521, "user_id": 2566198, "user_type": "registered", "accept_rate": 67, "profile_image": "https://i.stack.imgur.com/Y34ZA.jpg?s=128&g=1", "display_name": "Sobrique", "link": "https://stackoverflow.com/users/2566198/sobrique"}, "is_accepted": false, "score": 2, "last_activity_date": 1473762797, "last_edit_date": 1495542767, "creation_date": 1473754462, "answer_id": 39465223, "question_id": 39464797, "link": "https://stackoverflow.com/questions/39464797/get-a-xml-tag-value-from-regular-expression-in-perl/39465223#39465223", "title": "Get a Xml Tag value from regular expression in Perl", "body": "<p>Regular expressions are a <a href=\"https://stackoverflow.com/questions/1732348/regex-match-open-tags-except-xhtml-self-contained-tags\">bad idea</a> for use with XML, because regular expressions are not contextual, where XML is. The problem is - that there's a bunch of semantically identical pieces of <code>XML</code> which can be varied legitimately and will trip up a <code>regex</code>. You create brittle code by doing so, because it might one day break because of an upstream (legitimate, within spec) change. </p>\n\n<p>E.g.:</p>\n\n<pre><code>&lt;root&gt;\n&lt;Test RequestId=\"1\" RequestorId=\"test\" ResponderId=\"Test\"&gt;\n&lt;/Test&gt;\n&lt;/root&gt;\n</code></pre>\n\n<p>Or:</p>\n\n<pre><code>&lt;root&gt;\n  &lt;Test RequestId=\"1\" RequestorId=\"test\" ResponderId=\"Test\"&gt;&lt;/Test&gt;\n&lt;/root&gt;\n</code></pre>\n\n<p>Or:</p>\n\n<pre><code>&lt;root&gt;\n  &lt;Test\n      RequestId=\"1\"\n      RequestorId=\"test\"\n      ResponderId=\"Test\"&gt;&lt;/Test&gt;\n&lt;/root&gt;\n</code></pre>\n\n<p>Or:</p>\n\n<pre><code>&lt;root\n&gt;&lt;Test\nRequestId=\"1\"\nRequestorId=\"test\"\nResponderId=\"Test\"\n&gt;&lt;/Test&gt;&lt;/root&gt;\n</code></pre>\n\n<p>Or:</p>\n\n<pre><code>&lt;root&gt;\n  &lt;Test RequestId=\"1\" RequestorId=\"test\" ResponderId=\"Test\"/&gt;\n&lt;/root&gt;\n</code></pre>\n\n<p>These are all semantically identical, but I'm pretty sure you'd be hard pressed with a <code>regex</code> that safely handles all of the above (and any others that you may run into)</p>\n\n<p>And additionally:</p>\n\n<ul>\n<li>A similar match elsewhere in the document tree. (Can be many <code>Test</code> elements)</li>\n<li>Altering attribute ordering/presence. (so matches don't work any more).</li>\n<li>A <code>&lt;Test&gt;</code> element that has subelements, that because you're wildcarding, it catches those, rather than attributes. </li>\n</ul>\n\n<p>Fortunately, you have an alternative - <code>xpath</code> - a way of defining an expression, that works a bit like <code>regex</code>, but in an <code>XML</code> aware way. </p>\n\n<p>I would suggest <code>XML::Twig</code> as it doesn't have a particularly steep learning curve. For your first:</p>\n\n<pre><code>#!/usr/bin/env perl\n\nuse strict;\nuse warnings;\n\nuse XML::Twig;\n\nmy $twig = XML::Twig -&gt; new -&gt; parsefile ( 'your_file.xml' ); \n\nprint $twig -&gt; get_xpath('//test',0) -&gt; text;\n</code></pre>\n\n<p>For your second:</p>\n\n<pre><code>print $twig -&gt; get_xpath('//Test',0) -&gt; att('RequestorId');\n</code></pre>\n\n<p>This can one-liner-ify as:</p>\n\n<pre><code>perl -MXML::Twig -0777 -e 'print XML::Twig -&gt; parse ( &lt;&gt; ) -&gt; get_xpath(\"//test\",0) -&gt; text' yourfile\n</code></pre>\n"}], "owner": {"reputation": 5970, "user_id": 2618323, "user_type": "registered", "accept_rate": 74, "profile_image": "https://i.stack.imgur.com/3Czph.jpg?s=128&g=1", "display_name": "Developer", "link": "https://stackoverflow.com/users/2618323/developer"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 2386, "favorite_count": 0, "accepted_answer_id": 39464839, "answer_count": 3, "score": 1, "last_activity_date": 1473762797, "creation_date": 1473753080, "last_edit_date": 1473753584, "question_id": 39464797, "link": "https://stackoverflow.com/questions/39464797/get-a-xml-tag-value-from-regular-expression-in-perl", "title": "Get a Xml Tag value from regular expression in Perl", "body": "<p>I have xml in which i have tag <code>&lt;test&gt;Value&lt;/test&gt;</code>.I want to get the value of the tag.I want to do it with Perl Regular Expression\nBelow is my xml sample :</p>\n\n<pre><code>&lt;?xml version=\"1.0\"?&gt;\n&lt;t_volume&gt;\n&lt;test&gt;Value&lt;/test&gt;\n&lt;info&gt;\n&lt;info_name&gt;FZGA34177.b1&lt;/info_name&gt;\n&lt;center_project&gt;4085729&lt;/center_project&gt;\n&lt;base_file&gt;SETARIA_ITALICA/JGI/fasta/FZGA34177.b1.fasta&lt;/base_file&gt;\n&lt;/info&gt;\n&lt;/t_volume&gt;\n</code></pre>\n\n<p>I want to get the value of this tag <code>&lt;test&gt;Value&lt;/test&gt;</code>.I tried but i am not able to get the value .</p>\n\n<pre><code>$data = ($xml =~/&lt;test&gt;(.*?)&lt;\\/test&gt;/i);\n</code></pre>\n\n<p>In the xml i am getting xml like also </p>\n\n<pre><code>&lt;Test RequestId=\"1\" RequestorId=\"test\" ResponderId=\"Test\"&gt;\n</code></pre>\n\n<p>How could i get the value of <code>RequestorId</code></p>\n"}, {"tags": ["perl", "mojolicious"], "answers": [{"comments": [{"owner": {"reputation": 50468, "user_id": 1331451, "user_type": "registered", "accept_rate": 96, "profile_image": "https://i.stack.imgur.com/4ZPmj.png?s=128&g=1", "display_name": "simbabque", "link": "https://stackoverflow.com/users/1331451/simbabque"}, "edited": false, "score": 1, "creation_date": 1473759786, "post_id": 39463348, "comment_id": 66253865, "body": "No. That doesn&#39;t sound healthy. That&#39;s in fact a kind of not so micro service architecture where all services are in the same application. You don&#39;t want to do that on small app."}], "tags": [], "owner": {"reputation": 116, "user_id": 6369774, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/d9d2b020aba0a0101a0d4ceb2567d06f?s=128&d=identicon&r=PG&f=1", "display_name": "user6399774", "link": "https://stackoverflow.com/users/6369774/user6399774"}, "is_accepted": false, "score": 0, "last_activity_date": 1473747479, "creation_date": 1473747479, "answer_id": 39463348, "question_id": 39461825, "link": "https://stackoverflow.com/questions/39461825/how-to-access-other-controllers-in-your-application/39463348#39463348", "title": "How to access other controllers in your application?", "body": "<p>I have not worked on Mojolicious but IMO this is the best approach -</p>\n\n<p>Your Site controller should send GET requests to whatever other controllers it wants and these controllers should return JSON data which can then be rendered at the client side. Take a look <a href=\"http://mojolicious.org/perldoc/Mojolicious/Guides/Rendering#Rendering-JSON\" rel=\"nofollow\">Rendering JSON</a>. Hope that helps.</p>\n"}, {"comments": [{"owner": {"reputation": 931, "user_id": 4429472, "user_type": "registered", "accept_rate": 70, "profile_image": "https://www.gravatar.com/avatar/830c4684595c5ff0de0621e686c51345?s=128&d=identicon&r=PG&f=1", "display_name": "ZzZombo", "link": "https://stackoverflow.com/users/4429472/zzzombo"}, "edited": false, "score": 0, "creation_date": 1473766138, "post_id": 39467039, "comment_id": 66257564, "body": "&quot;You create a method in your news controller... You forward to it&quot; -- that&#39;s how I WANT it to be, but I don&#39;t know HOW TO access a different controller from current."}, {"owner": {"reputation": 50468, "user_id": 1331451, "user_type": "registered", "accept_rate": 96, "profile_image": "https://i.stack.imgur.com/4ZPmj.png?s=128&g=1", "display_name": "simbabque", "link": "https://stackoverflow.com/users/1331451/simbabque"}, "reply_to_user": {"reputation": 931, "user_id": 4429472, "user_type": "registered", "accept_rate": 70, "profile_image": "https://www.gravatar.com/avatar/830c4684595c5ff0de0621e686c51345?s=128&d=identicon&r=PG&f=1", "display_name": "ZzZombo", "link": "https://stackoverflow.com/users/4429472/zzzombo"}, "edited": false, "score": 0, "creation_date": 1473769363, "post_id": 39467039, "comment_id": 66259431, "body": "@ZzZombo It seems like what I suggested does not work in Mojolicious. I asked in #mojo on irc.perl.org and Sri, the author of Mojolicious said <i>there is no forward like in catalyst</i>, <i>it&#39;s incompatible with all the async features</i>, <i>we recommend you abstract out shared functionality into helpers</i> and provided <a href=\"http://mojolicious.org/perldoc/Mojolicious/Guides/Cookbook#Adding-a-plugin-to-your-application\" rel=\"nofollow noreferrer\">mojolicious.org/perldoc/Mojolicious/Guides/&hellip;</a> as a reference point."}, {"owner": {"reputation": 931, "user_id": 4429472, "user_type": "registered", "accept_rate": 70, "profile_image": "https://www.gravatar.com/avatar/830c4684595c5ff0de0621e686c51345?s=128&d=identicon&r=PG&f=1", "display_name": "ZzZombo", "link": "https://stackoverflow.com/users/4429472/zzzombo"}, "edited": false, "score": 0, "creation_date": 1473769990, "post_id": 39467039, "comment_id": 66259847, "body": "That&#39;s too bad. The point of different controllers is exactly to separate parts of application, but adding helpers for shared functions defeats the whole system design. I might as well keep the whole project in just <code>Site.pm</code>."}, {"owner": {"reputation": 19796, "user_id": 468327, "user_type": "registered", "accept_rate": 89, "profile_image": "https://www.gravatar.com/avatar/cc767569f5863a7c261991ee5b23f147?s=128&d=identicon&r=PG", "display_name": "Joel Berger", "link": "https://stackoverflow.com/users/468327/joel-berger"}, "edited": false, "score": 0, "creation_date": 1474166152, "post_id": 39467039, "comment_id": 66418537, "body": "Controllers are not intended to be &quot;thick,&quot; controllers are supposed to be a thin layer between the request, the view logic, and the model logic. This is pretty canonical MVC design."}], "tags": [], "owner": {"reputation": 50468, "user_id": 1331451, "user_type": "registered", "accept_rate": 96, "profile_image": "https://i.stack.imgur.com/4ZPmj.png?s=128&g=1", "display_name": "simbabque", "link": "https://stackoverflow.com/users/1331451/simbabque"}, "is_accepted": true, "score": 4, "last_activity_date": 1473760241, "creation_date": 1473760241, "answer_id": 39467039, "question_id": 39461825, "link": "https://stackoverflow.com/questions/39461825/how-to-access-other-controllers-in-your-application/39467039#39467039", "title": "How to access other controllers in your application?", "body": "<p>This is a theoretical answer without code.</p>\n\n<p>You probably have the database stuff decoupled from the actual controllers as models. That's good. </p>\n\n<p>So let's assume we're in the shop and we want to show news related to the current product. There are at least two ways to do that.</p>\n\n<ol>\n<li><p>You call your models directly. Your model for news provides a way to get the news for a product. You do that in the shop controller that displays the product page. This controller needs to put the stuff in the stash so the templates can access it.</p></li>\n<li><p>You create a method in your news controller that is not accessible from the outside. You make it take a product id and find related news articles and populate them into the stash. You forward to it from your product page controller in the shop controller. Afterwards, the product page controller continues. This is the <em>more decoupled</em> way.</p></li>\n</ol>\n\n<p>In both cases, your shop template includes another template that knows how to deal with the stuff in the stash for displaying news. You might be able to recycle a news template here.</p>\n"}, {"tags": [], "owner": {"reputation": 497, "user_id": 668247, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/9753585e9c97a4009c17adffe41f9f47?s=128&d=identicon&r=PG", "display_name": "vikin9", "link": "https://stackoverflow.com/users/668247/vikin9"}, "is_accepted": false, "score": 0, "last_activity_date": 1474360298, "creation_date": 1474360298, "answer_id": 39589228, "question_id": 39461825, "link": "https://stackoverflow.com/questions/39461825/how-to-access-other-controllers-in-your-application/39589228#39589228", "title": "How to access other controllers in your application?", "body": "<p>Based on my experience, coding-blood, and a lot of shame for my code, I advise:\neach method in a controller should only call a single function and pass the results to the template. This is somehow similar to the answer of @simbabque.</p>\n\n<p>This will help you later testing the controller, writing API instead of providing html templates, even change the framework completely (as long as it is Perl). </p>\n\n<p>So, I would add an optional layer between the Controller and the Models:</p>\n\n<ol>\n<li><code>$t-&gt;get('/books/:id')-&gt;to('books#get')</code></li>\n<li><code>sub Books::get{ my $self = shift; my $book = FBooks::get($self-&gt;param('id')); # plus template call }</code></li>\n<li><code>sub FBooks::get{ # here you call your Model }</code></li>\n<li><code># your Model calls your DB</code></li>\n</ol>\n\n<p>You provide the FBooks::get only then, when you need to make multiple calls to your model/s (maybe this is not a perfect example, but I hope you get my point). I prefer this instead of an army of helpers.  If there is any other better way, I am happy to learn it. </p>\n"}], "owner": {"reputation": 931, "user_id": 4429472, "user_type": "registered", "accept_rate": 70, "profile_image": "https://www.gravatar.com/avatar/830c4684595c5ff0de0621e686c51345?s=128&d=identicon&r=PG&f=1", "display_name": "ZzZombo", "link": "https://stackoverflow.com/users/4429472/zzzombo"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 289, "favorite_count": 0, "accepted_answer_id": 39467039, "answer_count": 3, "score": 2, "last_activity_date": 1474360298, "creation_date": 1473737632, "question_id": 39461825, "link": "https://stackoverflow.com/questions/39461825/how-to-access-other-controllers-in-your-application", "title": "How to access other controllers in your application?", "body": "<p>I have an application with several controllers dedicated each to its own part, say, \"news\", \"articles\" and \"shop\". They are not connected to each other, but they should be, as I need to insert data from them, like news related to current shop category. I have not found a clean way to access controllers other than the current one that is handling the request.</p>\n\n<p>The structure of the modules is:</p>\n\n<ul>\n<li><code>Site.pm</code> is the main project file.</li>\n<li><code>Articles.pm</code> handles articles.</li>\n<li><code>News.pm</code> handles news.</li>\n<li><code>Shop.pm</code> handles shop.</li>\n</ul>\n\n<p><code>Site.pm</code> loads each of the above dynamically from an array of module names and calls its <code>register</code> function to set routes up and other things at startup. Articles, news, etc all take content from database, and it is rendered as inline template, thus, I can't just take related news and slam them into the stash, as not all entries in shop might even need that information.</p>\n"}, {"tags": ["windows", "perl", "directory"], "comments": [{"owner": {"reputation": 6068, "user_id": 1799189, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/s4Pcu.jpg?s=128&g=1", "display_name": "xxfelixxx", "link": "https://stackoverflow.com/users/1799189/xxfelixxx"}, "edited": false, "score": 0, "creation_date": 1473738608, "post_id": 39461658, "comment_id": 66244571, "body": "No need to reinvent the wheel, <code>File::Spec</code> to the rescue : <a href=\"http://perldoc.perl.org/File/Spec.html\" rel=\"nofollow noreferrer\">perldoc.perl.org/File/Spec.html</a>"}], "answers": [{"comments": [{"owner": {"reputation": 123805, "user_id": 622310, "user_type": "registered", "accept_rate": 33, "profile_image": "https://www.gravatar.com/avatar/8b6d35219e1808520bc238b28161e2e6?s=128&d=identicon&r=PG", "display_name": "Borodin", "link": "https://stackoverflow.com/users/622310/borodin"}, "edited": false, "score": 0, "creation_date": 1473744802, "post_id": 39462392, "comment_id": 66246227, "body": "There&#39;s no need to copy the whole file to <code>@lines</code>. A simple <code>while ( &lt;$fh&gt; )</code> would be better."}, {"owner": {"reputation": 53041, "user_id": 4653379, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/b3953dbedd0dabff5cbc3db9b0835b14?s=128&d=identicon&r=PG&f=1", "display_name": "zdim", "link": "https://stackoverflow.com/users/4653379/zdim"}, "reply_to_user": {"reputation": 123805, "user_id": 622310, "user_type": "registered", "accept_rate": 33, "profile_image": "https://www.gravatar.com/avatar/8b6d35219e1808520bc238b28161e2e6?s=128&d=identicon&r=PG", "display_name": "Borodin", "link": "https://stackoverflow.com/users/622310/borodin"}, "edited": false, "score": 0, "creation_date": 1473744901, "post_id": 39462392, "comment_id": 66246262, "body": "@Borodin  By all means -- I meant to keep their code.  But, it is better to change some of it.  Thank you."}, {"owner": {"reputation": 11, "user_id": 6105678, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/d8a61b2a2e7b04d9e3faa9e5faae6ab3?s=128&d=identicon&r=PG&f=1", "display_name": "cacartano", "link": "https://stackoverflow.com/users/6105678/cacartano"}, "edited": false, "score": 0, "creation_date": 1473795756, "post_id": 39462392, "comment_id": 66274904, "body": "Wow. Thank you so much, I will have to read up on how it all works."}, {"owner": {"reputation": 53041, "user_id": 4653379, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/b3953dbedd0dabff5cbc3db9b0835b14?s=128&d=identicon&r=PG&f=1", "display_name": "zdim", "link": "https://stackoverflow.com/users/4653379/zdim"}, "reply_to_user": {"reputation": 11, "user_id": 6105678, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/d8a61b2a2e7b04d9e3faa9e5faae6ab3?s=128&d=identicon&r=PG&f=1", "display_name": "cacartano", "link": "https://stackoverflow.com/users/6105678/cacartano"}, "edited": false, "score": 0, "creation_date": 1473796318, "post_id": 39462392, "comment_id": 66275191, "body": "@cacartano You are most welcome :).  Yes, read up on the module -- it&#39;s farily simple.  If any of the code needs explanation let me know, I&#39;ll add."}], "tags": [], "owner": {"reputation": 53041, "user_id": 4653379, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/b3953dbedd0dabff5cbc3db9b0835b14?s=128&d=identicon&r=PG&f=1", "display_name": "zdim", "link": "https://stackoverflow.com/users/4653379/zdim"}, "is_accepted": false, "score": 6, "last_activity_date": 1480569290, "last_edit_date": 1495540917, "creation_date": 1473742277, "answer_id": 39462392, "question_id": 39461658, "link": "https://stackoverflow.com/questions/39461658/search-for-specific-lines-from-a-file/39462392#39462392", "title": "Search for specific lines from a file", "body": "<p>A regex can get very picky for this. It is far easier to split the path into components and then count off as many as you need.  And there is a tool that fits your exact purpose, the core module <a href=\"http://perldoc.perl.org/File/Spec.html\" rel=\"nofollow noreferrer\"><code>File::Spec</code></a>, as mentioned by <a href=\"https://stackoverflow.com/users/1799189/xxfelixxx\">xxfelixxx</a> in a comment.</p>\n\n<p>You can use its <code>splitdir</code> to break up the path, and <code>catdir</code> to compose one. </p>\n\n<pre><code>use warnings 'all';\nuse strict;\nuse feature 'say';\n\nuse File::Spec::Functions qw(splitdir catdir);\n\nmy $file = 'files.txt';    \nopen my $fh, '&lt;', $file or die \"Can't open $file: $!\";\n\nmy @dirs;    \nwhile (&lt;$fh&gt;) {\n    next if /^\\s*$/;  # skip empty lines\n    chomp;\n\n    my @all_dir = splitdir $_;\n\n    push @dirs, (@all_dir &gt;= 2 ? catdir @all_dir[-2,-1] : @all_dir);\n}\nclose $fh;\n\nsay for @dirs;\n</code></pre>\n\n<p>I use the module's functional interface while for heavier work you want its object oriented one. Reading the whole file into an array has its uses but in general process line by line.  The list manipulations can be done more elegantly but I went for simplicity.</p>\n\n<p>I'd like to add a few general comments</p>\n\n<ul>\n<li><p><em>Always</em> start your programs with <code>use strict</code> and <code>use warnings</code></p></li>\n<li><p>Use lexical filehandles, <code>my $fh</code> instead of <code>FH</code></p></li>\n<li><p>Being aware of (at least) a dozen-or-two of most used modules is <em>really</em> helpful. For example, in the above code we never had to even mention the separator <code>\\</code>.</p></li>\n</ul>\n"}, {"tags": [], "owner": {"reputation": 123805, "user_id": 622310, "user_type": "registered", "accept_rate": 33, "profile_image": "https://www.gravatar.com/avatar/8b6d35219e1808520bc238b28161e2e6?s=128&d=identicon&r=PG", "display_name": "Borodin", "link": "https://stackoverflow.com/users/622310/borodin"}, "is_accepted": false, "score": 1, "last_activity_date": 1473745741, "creation_date": 1473745741, "answer_id": 39462966, "question_id": 39461658, "link": "https://stackoverflow.com/questions/39461658/search-for-specific-lines-from-a-file/39462966#39462966", "title": "Search for specific lines from a file", "body": "<p>I can't write a full answer because I'm using my phone. In any case <strong>zdim</strong> has mostly answered you. But my solution would look like this</p>\n\n<pre><code>use strict;\nuse warnings 'all';\nuse feature 'say';\n\nuse File::Spec::Functions qw/ splitdir catdir /;\n\nmy $file = 'files.txt';\n\nopen my $fh, '&lt;', $file or die qq{Unable to open \"$file\" for input: $!};\n\nmy @results;\n\nwhile ( &lt;$fh&gt; ) {\n    next unless /\\S/;\n    chomp;\n    my @path = splitdir($_);\n    shift @path while @path &gt; 2;\n    push @results, catdir @path;\n}\n\nprint \"$_\\n\" for @results;\n</code></pre>\n"}], "owner": {"reputation": 11, "user_id": 6105678, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/d8a61b2a2e7b04d9e3faa9e5faae6ab3?s=128&d=identicon&r=PG&f=1", "display_name": "cacartano", "link": "https://stackoverflow.com/users/6105678/cacartano"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 87, "favorite_count": 0, "answer_count": 2, "score": 0, "last_activity_date": 1480569290, "creation_date": 1473736115, "last_edit_date": 1473744512, "question_id": 39461658, "link": "https://stackoverflow.com/questions/39461658/search-for-specific-lines-from-a-file", "title": "Search for specific lines from a file", "body": "<p>I have an array that contains the data from a text file. </p>\n\n<p>I want to filter the array and copy some information to another array. <code>grep</code> seems to not work.</p>\n\n<p>Here's what I have</p>\n\n<pre><code>$file = 'files.txt';\n\nopen (FH, \"&lt; $file\") or die \"Can't open $file for read: $!\";\n@lines = &lt;FH&gt;;\nclose FH or die \"Cannot close $file: $!\";\n\nchomp(@lines);\n\nforeach $y (@lines){\n\n    if ( $y =~ /(?:[^\\\\]*\\\\|^)[^\\\\]*$/g ) {\n        print $1, pos $y, \"\\n\";\n    }\n}\n</code></pre>\n\n<h3>files.txt</h3>\n\n<pre class=\"lang-none prettyprint-override\"><code>public_html\nTrainings and Events\nGeneral Office\\Resources\nGeneral Office\\Travel\nGeneral Office\\Office Opperations\\Contacts\nGeneral Office\\Office Opperations\\Coordinator Operations\npublic_html\\Accordion\\dependencies\\.svn\\tmp\\prop-base\npublic_html\\Accordion\\dependencies\\.svn\\tmp\\props\npublic_html\\Accordion\\dependencies\\.svn\\tmp\\text-base\n</code></pre>\n\n<p>The regular expression should take the last one or two folders and put them into their own array for printing.</p>\n"}, {"tags": ["perl"], "comments": [{"owner": {"reputation": 46515, "user_id": 5647260, "user_type": "registered", "accept_rate": 82, "profile_image": "https://i.stack.imgur.com/oByMV.jpg?s=128&g=1", "display_name": "Andrew Li", "link": "https://stackoverflow.com/users/5647260/andrew-li"}, "edited": false, "score": 1, "creation_date": 1473733028, "post_id": 39461288, "comment_id": 66243355, "body": "Could you actually tell us what the IDE says?"}, {"owner": {"reputation": 87649, "user_id": 17389, "user_type": "registered", "accept_rate": 38, "profile_image": "https://www.gravatar.com/avatar/cd06d1314817ce946ab796af8750b56a?s=128&d=identicon&r=PG", "display_name": "ysth", "link": "https://stackoverflow.com/users/17389/ysth"}, "edited": false, "score": 0, "creation_date": 1473733498, "post_id": 39461288, "comment_id": 66243453, "body": "What are lines 1-7?"}, {"owner": {"reputation": 135, "user_id": 6647288, "user_type": "registered", "accept_rate": 40, "profile_image": "https://www.gravatar.com/avatar/ca747e1943f1fd1b625e4793358742d9?s=128&d=identicon&r=PG&f=1", "display_name": "Allen", "link": "https://stackoverflow.com/users/6647288/allen"}, "edited": false, "score": 0, "creation_date": 1473736242, "post_id": 39461288, "comment_id": 66244051, "body": "ide doesn&#39;t tell me the specific problem"}, {"owner": {"reputation": 87649, "user_id": 17389, "user_type": "registered", "accept_rate": 38, "profile_image": "https://www.gravatar.com/avatar/cd06d1314817ce946ab796af8750b56a?s=128&d=identicon&r=PG", "display_name": "ysth", "link": "https://stackoverflow.com/users/17389/ysth"}, "edited": false, "score": 0, "creation_date": 1473777709, "post_id": 39461288, "comment_id": 66264932, "body": "then get a new IDE.  but just looking at it, I would suspect clicking on the red x&#39;s and yellow yield signs would show more information."}], "answers": [{"tags": [], "owner": {"reputation": 87649, "user_id": 17389, "user_type": "registered", "accept_rate": 38, "profile_image": "https://www.gravatar.com/avatar/cd06d1314817ce946ab796af8750b56a?s=128&d=identicon&r=PG", "display_name": "ysth", "link": "https://stackoverflow.com/users/17389/ysth"}, "is_accepted": true, "score": 3, "last_activity_date": 1473734068, "creation_date": 1473734068, "answer_id": 39461416, "question_id": 39461288, "link": "https://stackoverflow.com/questions/39461288/where-is-the-error-in-this-perl-code/39461416#39461416", "title": "where is the error in this perl code", "body": "<p>It looks to me like whatever you are using isn't recognizing the newer keywords you are using.</p>\n\n<p>If you aren't already, enable them with:</p>\n\n<pre><code>use 5.010; # or higher\n# or\nuse feature 'switch';\n</code></pre>\n\n<p>In addition, on newer Perl versions, you will need to say</p>\n\n<pre><code>no warnings 'experimental::smartmatch';\n</code></pre>\n\n<p>since you are implicitly using smartmatch, and the way that works is planned to change in a future Perl version.</p>\n"}], "owner": {"reputation": 135, "user_id": 6647288, "user_type": "registered", "accept_rate": 40, "profile_image": "https://www.gravatar.com/avatar/ca747e1943f1fd1b625e4793358742d9?s=128&d=identicon&r=PG&f=1", "display_name": "Allen", "link": "https://stackoverflow.com/users/6647288/allen"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 210, "favorite_count": 1, "closed_date": 1473753784, "accepted_answer_id": 39461416, "answer_count": 1, "score": -1, "last_activity_date": 1473777833, "creation_date": 1473732889, "last_edit_date": 1473777833, "question_id": 39461288, "link": "https://stackoverflow.com/questions/39461288/where-is-the-error-in-this-perl-code", "closed_reason": "Not suitable for this site", "title": "where is the error in this perl code", "body": "<pre><code>my $secret = int(1+rand(100)); \nLOOP: {\n\n    print \"Please enter a guess from 1 to 100: \"; \n    chomp(my $guess = &lt;STDIN&gt;);\n    my $found_it = 0;\n    given( $guess ) { \n        when ( !  /\\A\\d+\\Z/ ) { say \"Not a number!\" } \n        when ( $_ &gt; $secret ) { say \"Too High!\" } \n        when ( $_ &lt; $secret ) { say \"Too low!\" } \n        default { say \"Just right!\"; $found_it++ } \n    }\n    last LOOP if $found_it; \n    redo LOOP;\n}\n</code></pre>\n\n<p>This code cannot run. I cannot find what mistakes are! \n<a href=\"https://i.stack.imgur.com/KQcG6.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/KQcG6.png\" alt=\"Errors in pic.\"></a></p>\n"}, {"tags": ["regex", "perl", "directory", "sublimetext3", "filepath"], "answers": [{"tags": [], "owner": {"reputation": 4320, "user_id": 5103620, "user_type": "registered", "accept_rate": 71, "profile_image": "https://www.gravatar.com/avatar/8ae06ea53a316cc879b9100b3ff25bfc?s=128&d=identicon&r=PG", "display_name": "Sebastian Lenartowicz", "link": "https://stackoverflow.com/users/5103620/sebastian-lenartowicz"}, "is_accepted": false, "score": 0, "last_activity_date": 1473729643, "creation_date": 1473729643, "answer_id": 39460902, "question_id": 39460879, "link": "https://stackoverflow.com/questions/39460879/regular-expression-selection-of-last-two-folder-path-names/39460902#39460902", "title": "Regular expression selection of last two folder path names", "body": "<p>The pattern you want is</p>\n\n<pre><code>s/.+\\/(.+\\/.+)$/$1/g\n</code></pre>\n\n<p>It'll grab the last bit of the folder name and replace the whole string with it.</p>\n"}, {"comments": [{"owner": {"reputation": 11, "user_id": 6105678, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/d8a61b2a2e7b04d9e3faa9e5faae6ab3?s=128&d=identicon&r=PG&f=1", "display_name": "cacartano", "link": "https://stackoverflow.com/users/6105678/cacartano"}, "edited": false, "score": 0, "creation_date": 1473731095, "post_id": 39460978, "comment_id": 66242988, "body": "Then am I supposed to use grep to put the selection into an array?"}, {"owner": {"reputation": 167912, "user_id": 240443, "user_type": "registered", "accept_rate": 79, "profile_image": "https://www.gravatar.com/avatar/495d675e3bc42ed1dee469e2ce701f1b?s=128&d=identicon&r=PG", "display_name": "Amadan", "link": "https://stackoverflow.com/users/240443/amadan"}, "reply_to_user": {"reputation": 11, "user_id": 6105678, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/d8a61b2a2e7b04d9e3faa9e5faae6ab3?s=128&d=identicon&r=PG&f=1", "display_name": "cacartano", "link": "https://stackoverflow.com/users/6105678/cacartano"}, "edited": false, "score": 0, "creation_date": 1473745950, "post_id": 39460978, "comment_id": 66246623, "body": "You asked for &quot;Regular expression selection of last two folder path names&quot;. That is what the answer does. I don&#39;t know what you are supposed to do with it. If you wanted the results in an array, then that should have been the question, no? You also do not specify if your data is in a file or in a string or in an array. I can only assume you want it in Perl because of your tags. Those things would certainly impact the answer."}], "tags": [], "owner": {"reputation": 167912, "user_id": 240443, "user_type": "registered", "accept_rate": 79, "profile_image": "https://www.gravatar.com/avatar/495d675e3bc42ed1dee469e2ce701f1b?s=128&d=identicon&r=PG", "display_name": "Amadan", "link": "https://stackoverflow.com/users/240443/amadan"}, "is_accepted": false, "score": 0, "last_activity_date": 1473730217, "creation_date": 1473730217, "answer_id": 39460978, "question_id": 39460879, "link": "https://stackoverflow.com/questions/39460879/regular-expression-selection-of-last-two-folder-path-names/39460978#39460978", "title": "Regular expression selection of last two folder path names", "body": "<pre><code>(?:[^\\\\]*\\\\|^)[^\\\\]*$\n</code></pre>\n\n<p>You actually want \"up to two\", because otherwise you won't catch \"Training and Events\". To solve this, I match the two cases separately:</p>\n\n<ul>\n<li>Either a folder name (any number of non-backslashes) followed by a slash, or start of the string</li>\n<li>Another folder name</li>\n<li>End of string</li>\n</ul>\n"}], "owner": {"reputation": 11, "user_id": 6105678, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/d8a61b2a2e7b04d9e3faa9e5faae6ab3?s=128&d=identicon&r=PG&f=1", "display_name": "cacartano", "link": "https://stackoverflow.com/users/6105678/cacartano"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 487, "favorite_count": 0, "answer_count": 2, "score": -1, "last_activity_date": 1473730217, "creation_date": 1473729380, "question_id": 39460879, "link": "https://stackoverflow.com/questions/39460879/regular-expression-selection-of-last-two-folder-path-names", "title": "Regular expression selection of last two folder path names", "body": "<p>Im working in perl but I am having some issues with cutting out the other folder names to leave the last two folder names. </p>\n\n<pre><code>Trainings and Events\nGeneral Office\\Archive\nGeneral Office\\Office Opperations\\Contacts\nGeneral Office\\Office Opperations\\Office Procedures\\How Tos\npublic_html\\Accordion\\.svn\\tmp\\text-base\n</code></pre>\n\n<p>I would like to remove the folder path names so the folders will end up like this with the last two path names for each:</p>\n\n<pre><code>Trainings and Events\nGeneral Office\\Archive\nOffice Opperations\\Contacts\nOffice Procedures\\How Tos\ntmp\\text-base\nOffice Opperations\\Contacts\n</code></pre>\n\n<p>Ive read some other stackoverflow that showed the last two folder names picked out, but I cannot reverse the expression. (I will link it if I can find it)</p>\n\n<p>I am using sublime text 3 currently to test my expressions.</p>\n\n<p>Thank you</p>\n"}, {"tags": ["perl", "email"], "answers": [{"comments": [{"owner": {"reputation": 1470, "user_id": 4374531, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/3ecc0fcbd63c8e0a55d0c4048c7fb426?s=128&d=identicon&r=PG&f=1", "display_name": "v.coder", "link": "https://stackoverflow.com/users/4374531/v-coder"}, "edited": false, "score": 0, "creation_date": 1473717284, "post_id": 39459204, "comment_id": 66239942, "body": "I have tried the code which you have sent, but I get this error <code>No recipient addresses found in header</code>"}, {"owner": {"reputation": 1470, "user_id": 4374531, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/3ecc0fcbd63c8e0a55d0c4048c7fb426?s=128&d=identicon&r=PG&f=1", "display_name": "v.coder", "link": "https://stackoverflow.com/users/4374531/v-coder"}, "edited": false, "score": 0, "creation_date": 1473717294, "post_id": 39459204, "comment_id": 66239951, "body": "Thanks for quick response."}, {"owner": {"reputation": 53041, "user_id": 4653379, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/b3953dbedd0dabff5cbc3db9b0835b14?s=128&d=identicon&r=PG&f=1", "display_name": "zdim", "link": "https://stackoverflow.com/users/4653379/zdim"}, "reply_to_user": {"reputation": 1470, "user_id": 4374531, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/3ecc0fcbd63c8e0a55d0c4048c7fb426?s=128&d=identicon&r=PG&f=1", "display_name": "v.coder", "link": "https://stackoverflow.com/users/4374531/v-coder"}, "edited": false, "score": 0, "creation_date": 1473717617, "post_id": 39459204, "comment_id": 66240075, "body": "@v.coder  What I posted is right out of a library, with none of the variables actually defined -- did you fill that in?  I didn&#39;t make it complete since you posted only a fragment. I&#39;ll add to the post."}, {"owner": {"reputation": 1470, "user_id": 4374531, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/3ecc0fcbd63c8e0a55d0c4048c7fb426?s=128&d=identicon&r=PG&f=1", "display_name": "v.coder", "link": "https://stackoverflow.com/users/4374531/v-coder"}, "edited": false, "score": 0, "creation_date": 1473717864, "post_id": 39459204, "comment_id": 66240156, "body": "thanks it worked. the modified the order and seperated each field with &#39;\\n&#39;. I think mine is old library, maybe that&#39;s the reason why it says recipient is missing. I added the same concern in question too."}, {"owner": {"reputation": 53041, "user_id": 4653379, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/b3953dbedd0dabff5cbc3db9b0835b14?s=128&d=identicon&r=PG&f=1", "display_name": "zdim", "link": "https://stackoverflow.com/users/4653379/zdim"}, "reply_to_user": {"reputation": 1470, "user_id": 4374531, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/3ecc0fcbd63c8e0a55d0c4048c7fb426?s=128&d=identicon&r=PG&f=1", "display_name": "v.coder", "link": "https://stackoverflow.com/users/4374531/v-coder"}, "edited": false, "score": 0, "creation_date": 1473718523, "post_id": 39459204, "comment_id": 66240359, "body": "@v.coder Ah, good.  That can be one of the problems with using <code>sendmail</code> directly -- along with possible changes during system updates. While this is still in use as a part of a library sub somewhere, it is better to build emailer using a module. In new code I use one with <code>Net::SMPT</code> (it is far better)."}], "tags": [], "owner": {"reputation": 53041, "user_id": 4653379, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/b3953dbedd0dabff5cbc3db9b0835b14?s=128&d=identicon&r=PG&f=1", "display_name": "zdim", "link": "https://stackoverflow.com/users/4653379/zdim"}, "is_accepted": true, "score": 2, "last_activity_date": 1473718767, "last_edit_date": 1473718767, "creation_date": 1473716435, "answer_id": 39459204, "question_id": 39459160, "link": "https://stackoverflow.com/questions/39459160/sending-email-using-perl-with-sendmail/39459204#39459204", "title": "Sending email using perl with sendmail", "body": "<p>I am not sure what is wrong with what you show, but here is some working code</p>\n\n<pre><code>my ($header, $From, $To, $Cc, $ReplyTo, $Subject);\n\n$From    = \"From: $from\";\n$To      = \"To: $to\";\n$Cc      = \"Cc: $cc_addresses\";\n$ReplyTo = \"Reply-To: $replyto\";\n$Subject = \"Subject: $subj\";\n\n# Form the header.  The fields always submitted:\n$header = join(\"\\n\", $From, $To, $ReplyTo, $Subject, '');\n\n# Optional fields\n$header .= \"$Cc\\n\" if $cc_addresses;\n\nopen(SENDMAIL, \"|/usr/sbin/sendmail -oi -t\")\n    or carp \"Can't fork for sendmail: $!\\n\";\nsay SENDMAIL \"$header\\n$msg_cont\";\nclose(SENDMAIL);\n</code></pre>\n\n<p>Note. There is <code>my $cc_addresses = '';</code> earlier, which then (possibly) gets built up.</p>\n"}], "owner": {"reputation": 1470, "user_id": 4374531, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/3ecc0fcbd63c8e0a55d0c4048c7fb426?s=128&d=identicon&r=PG&f=1", "display_name": "v.coder", "link": "https://stackoverflow.com/users/4374531/v-coder"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 516, "favorite_count": 0, "accepted_answer_id": 39459204, "answer_count": 1, "score": 0, "last_activity_date": 1473718767, "creation_date": 1473716192, "last_edit_date": 1473717991, "question_id": 39459160, "link": "https://stackoverflow.com/questions/39459160/sending-email-using-perl-with-sendmail", "title": "Sending email using perl with sendmail", "body": "<p>I am trying to send email using sendmail in perl. Email is sent but the content which I send as Subject gets added to 'To:' in the email. For example, if from address is <code>from@gmail.com</code>, To address is <code>to@gmail.com</code> and subject is <code>\"test subject\"</code>. I get the email with <code>Reply-to:</code> field as <code>from@gmail.com,\"Subject:test.email\",\"To:to\"@gmail.com,\"Content-type:text/plain\"</code></p>\n\n<p>Here is my code:</p>\n\n<pre><code>     open(SENDMAIL, \"|/usr/lib/sendmail -oi -t '$to_email' -f '$from_email'\") || ($error_message .= \"&lt;P&gt;Unable to open email process.&lt;/P&gt;\");\n     print SENDMAIL $reply_to;\n     print SENDMAIL $subject;\n     print SENDMAIL $send_to;\n     print SENDMAIL \"Content-type: text/plain\\n\\n\";\n     print SENDMAIL $content;\n     close(SENDMAIL);\n</code></pre>\n\n<p>And if I remove $reply_to and $send_to lines, the email comes with <code>from:</code> field\nas Apache server. </p>\n\n<p>Any help would be appreciated. I do not want to use any other library like <code>Email::MIME</code> since it doesn't exist on my system.</p>\n"}, {"tags": ["perl", "cpan", "strawberry-perl"], "comments": [{"owner": {"reputation": 123805, "user_id": 622310, "user_type": "registered", "accept_rate": 33, "profile_image": "https://www.gravatar.com/avatar/8b6d35219e1808520bc238b28161e2e6?s=128&d=identicon&r=PG", "display_name": "Borodin", "link": "https://stackoverflow.com/users/622310/borodin"}, "edited": false, "score": 0, "creation_date": 1473704235, "post_id": 39456189, "comment_id": 66233803, "body": "Please don&#39;t post images of text. Copy and paste the contents of your cmd window into your question"}, {"owner": {"reputation": 135, "user_id": 4274179, "user_type": "registered", "accept_rate": 45, "profile_image": "https://www.gravatar.com/avatar/5d9d0534bfaf5f73cf7e329f8941ed29?s=128&d=identicon&r=PG&f=1", "display_name": "Maulik Upadhyay", "link": "https://stackoverflow.com/users/4274179/maulik-upadhyay"}, "edited": false, "score": 1, "creation_date": 1473705000, "post_id": 39456189, "comment_id": 66234189, "body": "My apologies, I did not consider these things, I have edited my question"}, {"owner": {"reputation": 126333, "user_id": 14660, "user_type": "registered", "accept_rate": 62, "profile_image": "https://www.gravatar.com/avatar/e55e0ec3c00f834d78fbdddeaa36e308?s=128&d=identicon&r=PG", "display_name": "Schwern", "link": "https://stackoverflow.com/users/14660/schwern"}, "edited": false, "score": 3, "creation_date": 1473706295, "post_id": 39456189, "comment_id": 66234869, "body": "Probably a glitch in the CPAN client. Try using cpanm instead. It&#39;s more user friendly. <code>cpanm SVG</code> from the Perl command line."}, {"owner": {"reputation": 135, "user_id": 4274179, "user_type": "registered", "accept_rate": 45, "profile_image": "https://www.gravatar.com/avatar/5d9d0534bfaf5f73cf7e329f8941ed29?s=128&d=identicon&r=PG&f=1", "display_name": "Maulik Upadhyay", "link": "https://stackoverflow.com/users/4274179/maulik-upadhyay"}, "edited": false, "score": 0, "creation_date": 1473707475, "post_id": 39456189, "comment_id": 66235475, "body": "Indeed, I installed the same package using ppm."}], "owner": {"reputation": 135, "user_id": 4274179, "user_type": "registered", "accept_rate": 45, "profile_image": "https://www.gravatar.com/avatar/5d9d0534bfaf5f73cf7e329f8941ed29?s=128&d=identicon&r=PG&f=1", "display_name": "Maulik Upadhyay", "link": "https://stackoverflow.com/users/4274179/maulik-upadhyay"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 1166, "favorite_count": 0, "answer_count": 0, "score": 0, "last_activity_date": 1473705978, "creation_date": 1473703460, "last_edit_date": 1473705978, "question_id": 39456189, "link": "https://stackoverflow.com/questions/39456189/why-do-i-get-a-no-such-file-or-directory-error-when-i-try-to-install-the-svg-m", "title": "Why do I get a &quot;No such file or directory&quot; error when I try to install the SVG module in Strawberry Perl?", "body": "<p>I am trying to install the Perl module <a href=\"https://metacpan.org/pod/SVG\" rel=\"nofollow\">SVG</a> using CPAN in Strawberry Perl. I ran the command</p>\n\n<pre><code>install svg\n</code></pre>\n\n<p>but I got the following error:</p>\n\n<pre><code>Running install for module 'SVG'\n\nRunning make for S/SZ/SZGABGAB/SVG-2.64.tar.gz\n\nChecksum was ok\n\nCatching error: \"Couldn't move C:\\\\Strawberry\\\\cpan\\\\build\\\\tmp-3752\\\\SVG-2.64\\\\examples to C:\\\\Strawberry\\\\cpan\\\\build\\\\SVG-2.64-DA4XGP\\\\examples: No such file or directory at C:\\\\Strawberry\\\\perl\\\\lib/CPAN/Distribution.pm line 524\\cJ\\cICPAN::Distribution::run_preps_on_packagedir('CPAN::Distribution=HASH(0x39a01dc)') called at C:\\\\Strawberry\\\\perl\\\\lib/CPAN/Distribution.pm line 351\\cJ\\cICPAN::Distribution::get('CPAN::Distribution=HASH(0x39a01dc)') called at C:\\\\Strawberry\\\\perl\\\\lib/CPAN/Distribution.pm line 1747\\cJ\\cICPAN::Distribution::make('CPAN::Distribution=HASH(0x39a01dc)') called at C:\\\\Strawberry\\\\perl\\\\lib/CPAN/Distribution.pm line 3062\\cJ\\cICPAN::Distribution::test('CPAN::Distribution=HASH(0x39a01dc)') called at C:\\\\Strawberry\\\\perl\\\\lib/CPAN/Distribution.pm line 3464\\cJ\\cICPAN::Distribution::install('CPAN::Distribution=HASH(0x39a01dc)') called at C:\\\\Strawberry\\\\perl\\\\lib/CPAN/Module.pm line 479\\cJ\\cIeval {...} called at C:\\\\Strawberry\\\\perl\\\\lib/CPAN/Module.pm line 478\\cJ\\cICPAN::Module::rematein('CPAN::Module=HASH(0x39a01ac)', 'install') called at C:\\\\Strawberry\\\\perl\\\\lib/CPAN/Module.pm line 578\\cJ\\cICPAN::Module::install('CPAN::Module=HASH(0x39a01ac)') called at C:\\\\Strawberry\\\\perl\\\\lib/CPAN/Shell.pm line 1796\\cJ\\cICPAN::Shell::rematein('CPAN::Shell', 'install', 'SVG') called at C:\\\\Strawberry\\\\perl\\\\lib/CPAN/Shell.pm line 1976\\cJ\\cICPAN::Shell::__ANON__('CPAN::Shell', 'SVG') called at C:/Strawberry/perl/lib/CPAN.pm line 375\\cJ\\cIeval {...} called at C:/Strawberry/perl/lib/CPAN.pm line 372\\cJ\\cICPAN::shell() called at -e line 1\\cJ\" at C:/Strawberry/perl/lib/CPAN.pm line 391\n        CPAN::shell() called at -e line 1\n</code></pre>\n\n<p>I was able to install several other modules, such as Math::Bezier and Regexp::Common, without problems. How can I fix this?</p>\n"}, {"tags": ["regex", "perl"], "comments": [{"owner": {"reputation": 5334, "user_id": 5830574, "user_type": "registered", "accept_rate": 93, "profile_image": "https://i.stack.imgur.com/kCmqs.png?s=128&g=1", "display_name": "PerlDuck", "link": "https://stackoverflow.com/users/5830574/perlduck"}, "edited": false, "score": 0, "creation_date": 1473703560, "post_id": 39456171, "comment_id": 66233486, "body": "Can you please show the examples you refer to? We don&#39;t see any operator <code>[$#i]</code> here. The construct <code>$#i</code> is the index of the last element of an array <code>@i</code>, e.g. <code>@i = (100, 200, 300);</code> yields <code>$#i == 2</code>."}, {"owner": {"reputation": 53, "user_id": 4548699, "user_type": "registered", "accept_rate": 25, "profile_image": "https://www.gravatar.com/avatar/d2ae935e5ac0f5422f6e1f342a0c6a55?s=128&d=identicon&r=PG&f=1", "display_name": "eshan kanoje", "link": "https://stackoverflow.com/users/4548699/eshan-kanoje"}, "reply_to_user": {"reputation": 5334, "user_id": 5830574, "user_type": "registered", "accept_rate": 93, "profile_image": "https://i.stack.imgur.com/kCmqs.png?s=128&g=1", "display_name": "PerlDuck", "link": "https://stackoverflow.com/users/5830574/perlduck"}, "edited": false, "score": 0, "creation_date": 1473703755, "post_id": 39456171, "comment_id": 66233583, "body": "For example : <a href=\"http://www.perlmonks.org/?node_id=983672\" rel=\"nofollow noreferrer\">perlmonks.org/?node_id=983672</a>  &quot;$#lines&quot;"}, {"owner": {"reputation": 2254, "user_id": 166855, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/d46f2c33fcee6302dd9e71ccf3d2e935?s=128&d=identicon&r=PG", "display_name": "David Harris", "link": "https://stackoverflow.com/users/166855/david-harris"}, "edited": false, "score": 4, "creation_date": 1473703779, "post_id": 39456171, "comment_id": 66233600, "body": "What have you tried so far? Please edit your question to include a complete minimal code example and small test file that can be used to help you solve your issue. Please include the information you obtained and the expected results. Otherwise we&#39;re just guessing. Thanks"}, {"owner": {"reputation": 53, "user_id": 4548699, "user_type": "registered", "accept_rate": 25, "profile_image": "https://www.gravatar.com/avatar/d2ae935e5ac0f5422f6e1f342a0c6a55?s=128&d=identicon&r=PG&f=1", "display_name": "eshan kanoje", "link": "https://stackoverflow.com/users/4548699/eshan-kanoje"}, "edited": false, "score": 0, "creation_date": 1473703916, "post_id": 39456171, "comment_id": 66233658, "body": "Sorry. I feel the question is more clear now"}, {"owner": {"reputation": 123805, "user_id": 622310, "user_type": "registered", "accept_rate": 33, "profile_image": "https://www.gravatar.com/avatar/8b6d35219e1808520bc238b28161e2e6?s=128&d=identicon&r=PG", "display_name": "Borodin", "link": "https://stackoverflow.com/users/622310/borodin"}, "edited": false, "score": 1, "creation_date": 1473704166, "post_id": 39456171, "comment_id": 66233768, "body": "Please include the code you have tried"}, {"owner": {"reputation": 37822, "user_id": 1231450, "user_type": "registered", "accept_rate": 87, "profile_image": "https://www.gravatar.com/avatar/b9c98b4ce12bf9fd925d8c35c8861bb2?s=128&d=identicon&r=PG", "display_name": "Jan", "link": "https://stackoverflow.com/users/1231450/jan"}, "edited": false, "score": 0, "creation_date": 1473716016, "post_id": 39456171, "comment_id": 66239441, "body": "A regex alternative: <a href=\"https://regex101.com/r/jF3jN7/1\" rel=\"nofollow noreferrer\">regex101.com/r/jF3jN7/1</a>"}], "answers": [{"comments": [{"owner": {"reputation": 53, "user_id": 4548699, "user_type": "registered", "accept_rate": 25, "profile_image": "https://www.gravatar.com/avatar/d2ae935e5ac0f5422f6e1f342a0c6a55?s=128&d=identicon&r=PG&f=1", "display_name": "eshan kanoje", "link": "https://stackoverflow.com/users/4548699/eshan-kanoje"}, "edited": false, "score": 0, "creation_date": 1473704195, "post_id": 39456321, "comment_id": 66233781, "body": "I need to use this in my script its a smart part then I need to perform operation on that. Can you please suggest in the form of perl script"}, {"owner": {"reputation": 1529, "user_id": 6711406, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/3abb204a87fed156f928c702a4806513?s=128&d=identicon&r=PG&f=1", "display_name": "Dave Grabowski", "link": "https://stackoverflow.com/users/6711406/dave-grabowski"}, "reply_to_user": {"reputation": 53, "user_id": 4548699, "user_type": "registered", "accept_rate": 25, "profile_image": "https://www.gravatar.com/avatar/d2ae935e5ac0f5422f6e1f342a0c6a55?s=128&d=identicon&r=PG&f=1", "display_name": "eshan kanoje", "link": "https://stackoverflow.com/users/4548699/eshan-kanoje"}, "edited": false, "score": 0, "creation_date": 1473704545, "post_id": 39456321, "comment_id": 66233976, "body": "If this has to be in perl then show what you have tried so far."}, {"owner": {"reputation": 920, "user_id": 4819884, "user_type": "registered", "accept_rate": 90, "profile_image": "https://www.gravatar.com/avatar/5b96c68654d5ecce5ace521d7371fec5?s=128&d=identicon&r=PG&f=1", "display_name": "yonyon100", "link": "https://stackoverflow.com/users/4819884/yonyon100"}, "edited": false, "score": 0, "creation_date": 1473710099, "post_id": 39456321, "comment_id": 66236777, "body": "You can also run it inside a script using backticks to store the output in a variable. More info that might be helpful in this SO question: <a href=\"http://stackoverflow.com/questions/3854651/how-can-i-store-the-result-of-a-system-command-in-a-perl-variable\" title=\"how can i store the result of a system command in a perl variable\">stackoverflow.com/questions/3854651/&hellip;</a>"}], "tags": [], "owner": {"reputation": 1529, "user_id": 6711406, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/3abb204a87fed156f928c702a4806513?s=128&d=identicon&r=PG&f=1", "display_name": "Dave Grabowski", "link": "https://stackoverflow.com/users/6711406/dave-grabowski"}, "is_accepted": false, "score": 2, "last_activity_date": 1473755701, "last_edit_date": 1473755701, "creation_date": 1473704030, "answer_id": 39456321, "question_id": 39456171, "link": "https://stackoverflow.com/questions/39456171/perl-print-5-lines-above-regexmatch/39456321#39456321", "title": "Perl: Print 5 lines above regexmatch", "body": "<p>Just use grep:</p>\n\n<pre><code>grep END file -B 5\n</code></pre>\n\n<p>Alternatively, you can use either of the following Perl one-liners:</p>\n\n<pre><code>perl -ne'print @a if /^END$/; push @a, $_; shift(@a) if @a&gt;5;' file\n</code></pre>\n\n<p>or</p>\n\n<pre><code>perl -ne'push @a, $_; print @a if /^END$/; shift(@a) if @a&gt;5;' file\n</code></pre>\n\n<p>The second prints the matching line, which the first one does not.</p>\n"}, {"tags": [], "owner": {"reputation": 320771, "user_id": 589924, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/b2cf53d5a3d25f95c0db4e025aed4153?s=128&d=identicon&r=PG", "display_name": "ikegami", "link": "https://stackoverflow.com/users/589924/ikegami"}, "is_accepted": false, "score": 1, "last_activity_date": 1473717338, "creation_date": 1473717338, "answer_id": 39459380, "question_id": 39456171, "link": "https://stackoverflow.com/questions/39456171/perl-print-5-lines-above-regexmatch/39459380#39459380", "title": "Perl: Print 5 lines above regexmatch", "body": "<p>Just keep the last 5 lines you've read in memory.</p>\n\n<pre><code>my $found = 0;\nmy @buf;\nwhile (&lt;&gt;) {\n   if (/^END$/) {\n       $found = 1;\n       last;\n   }\n\n   push(@buf, $_);\n   shift(@buf) if @buf &gt; 5;\n}\n\nprint(@buf) if $found;\n</code></pre>\n"}], "owner": {"reputation": 53, "user_id": 4548699, "user_type": "registered", "accept_rate": 25, "profile_image": "https://www.gravatar.com/avatar/d2ae935e5ac0f5422f6e1f342a0c6a55?s=128&d=identicon&r=PG&f=1", "display_name": "eshan kanoje", "link": "https://stackoverflow.com/users/4548699/eshan-kanoje"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 105, "favorite_count": 0, "answer_count": 2, "score": -3, "last_activity_date": 1473755701, "creation_date": 1473703389, "last_edit_date": 1473703890, "question_id": 39456171, "link": "https://stackoverflow.com/questions/39456171/perl-print-5-lines-above-regexmatch", "title": "Perl: Print 5 lines above regexmatch", "body": "<p>I am trying to print 5 lines above \"END\" from a huge data file.</p>\n\n<p>Can anyone please help? My file format is </p>\n\n<pre><code> --   Count .    .    .     . . .   .   .   .   .   .   . . . . . . . . . . . .  -------------------------------------    ------------------------------------------- \n00000001 0000 0000 00000 2 0 01c 01d 01c 01d 01c 01d 0 1 0 1 0 0 0 0 0 0 0 00 \n00000002 0001 0000 00000 2 2 019 006 019 006 019 006 0 1 1 1 1 1 1 1 1 1 0 00\n00000003 0002 0000 00000 2 0 00d 007 00d 007 00d 007 0 0 0 1 0 0 0 0 0 0 0 00\n00000004 0003 0000 00000 2 2 00b 009 00b 009 00b 009 0 0 0 0 0 0 0 0 0 0 0 00 \n00000005 0004 0000 00000 2 2 01a 008 01a 008 01a 008 0 0 0 0 0 0 0 0 0 0 0 00\nEND\n</code></pre>\n\n<p>~      </p>\n"}, {"tags": ["perl", "shell", "awk", "data-manipulation"], "comments": [{"owner": {"reputation": 123805, "user_id": 622310, "user_type": "registered", "accept_rate": 33, "profile_image": "https://www.gravatar.com/avatar/8b6d35219e1808520bc238b28161e2e6?s=128&d=identicon&r=PG", "display_name": "Borodin", "link": "https://stackoverflow.com/users/622310/borodin"}, "edited": false, "score": 2, "creation_date": 1473696739, "post_id": 39453901, "comment_id": 66230465, "body": "So, given your sample data, the first line of output should be 625 twelve times? (50 x 150 / 12 = 625). Is that right?"}, {"owner": {"reputation": 155597, "user_id": 1745001, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/99a3ebae89496eb16afe453aae97f5be?s=128&d=identicon&r=PG", "display_name": "Ed Morton", "link": "https://stackoverflow.com/users/1745001/ed-morton"}, "edited": false, "score": 3, "creation_date": 1473702232, "post_id": 39453901, "comment_id": 66232930, "body": "If you reduce your example to, say, 5 columns with integer values you&#39;ll get a lot more people interested in reading your question. Right now we can&#39;t see the wood for the trees without much more effort than most people would be willing to put in."}, {"owner": {"reputation": 155597, "user_id": 1745001, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/99a3ebae89496eb16afe453aae97f5be?s=128&d=identicon&r=PG", "display_name": "Ed Morton", "link": "https://stackoverflow.com/users/1745001/ed-morton"}, "edited": false, "score": 2, "creation_date": 1473717135, "post_id": 39453901, "comment_id": 66239884, "body": "I see you have changed all the floating point values to decimals, that helps but why not reduce the number of columns too? You say <code>when the data is different</code> - what data? different how? You say it <code>creates problem</code> - what problem? core dump, syntax error, wrong output, no output, something else? Put a little effort into trying to read what you have written without knowing what you know and then <a href=\"https://stackoverflow.com/posts/39453901/edit\">edit</a> your question to clearly state your requirements and issues. You almost certainly have a very simple problem for us to solve but we don&#39;t know what it is yet!"}, {"owner": {"reputation": 109, "user_id": 6823086, "user_type": "registered", "profile_image": "https://lh5.googleusercontent.com/-swyKefhvudQ/AAAAAAAAAAI/AAAAAAAAIeE/1HKkjzSVbQQ/photo.jpg?sz=128", "display_name": "Pramod Tiwari", "link": "https://stackoverflow.com/users/6823086/pramod-tiwari"}, "reply_to_user": {"reputation": 155597, "user_id": 1745001, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/99a3ebae89496eb16afe453aae97f5be?s=128&d=identicon&r=PG", "display_name": "Ed Morton", "link": "https://stackoverflow.com/users/1745001/ed-morton"}, "edited": false, "score": 0, "creation_date": 1473763574, "post_id": 39453901, "comment_id": 66256094, "body": "@EdMorton I have now simplified the entire question. Please specify further, if there is a need to change it further?"}, {"owner": {"reputation": 155597, "user_id": 1745001, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/99a3ebae89496eb16afe453aae97f5be?s=128&d=identicon&r=PG", "display_name": "Ed Morton", "link": "https://stackoverflow.com/users/1745001/ed-morton"}, "edited": false, "score": 0, "creation_date": 1473772932, "post_id": 39453901, "comment_id": 66261658, "body": "You have now changed your sample input/output to images. How are we supposed to test a potential solution against an image? Read <a href=\"https://stackoverflow.com/questions/how-to-ask\">How to Ask</a> then just post a <a href=\"https://stackoverflow.com/help/minimal-reproducible-example\">minimal reproducible example</a> with concise, testable sample input and expected output. Also address my previous comment - tell us what <code>the data is different</code> means and what exactly <code>the problem</code> is."}, {"owner": {"reputation": 109, "user_id": 6823086, "user_type": "registered", "profile_image": "https://lh5.googleusercontent.com/-swyKefhvudQ/AAAAAAAAAAI/AAAAAAAAIeE/1HKkjzSVbQQ/photo.jpg?sz=128", "display_name": "Pramod Tiwari", "link": "https://stackoverflow.com/users/6823086/pramod-tiwari"}, "edited": false, "score": 0, "creation_date": 1473779440, "post_id": 39453901, "comment_id": 66266088, "body": "I was having difficulty converting that data to the properly formatted text hence I used image instead. I however got the answer to my question and the code is mentioned as the comment in the answer below. I would make it a point that I would keep text available as well in further questions. Thank you for your valuable input on the question."}], "answers": [{"comments": [{"owner": {"reputation": 109, "user_id": 6823086, "user_type": "registered", "profile_image": "https://lh5.googleusercontent.com/-swyKefhvudQ/AAAAAAAAAAI/AAAAAAAAIeE/1HKkjzSVbQQ/photo.jpg?sz=128", "display_name": "Pramod Tiwari", "link": "https://stackoverflow.com/users/6823086/pramod-tiwari"}, "edited": false, "score": 0, "creation_date": 1473764777, "post_id": 39454544, "comment_id": 66256790, "body": "Thank you so much for the answer. This helped me solve the issue. The command is as follows:  awk -F&quot;\\t&quot; &#39;(FNR&gt;1)&amp;&amp;(NR==FNR){map[$1]=$0; next}($1 in map){split(map[$1],temp);$3=substr($3,2); for(i=4;i&lt;7;i++){$i=($i*temp[i])/12}; print $0}&#39; file2.txt file1.txt  I was making a mistake of using $i inside the Array, instead of i directly for the subscript."}], "tags": [], "owner": {"reputation": 62252, "user_id": 1435869, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/TrEd9.jpg?s=128&g=1", "display_name": "karakfa", "link": "https://stackoverflow.com/users/1435869/karakfa"}, "is_accepted": false, "score": 2, "last_activity_date": 1473696527, "creation_date": 1473696527, "answer_id": 39454544, "question_id": 39453901, "link": "https://stackoverflow.com/questions/39453901/how-do-we-pass-an-array-with-list-of-data-from-one-file-while-processing-second/39454544#39454544", "title": "How do we pass an array with list of data from one file while processing second file through AWK or any other method?", "body": "<p>your sample input/output has too much unrelated details.  I have a simplified problem which you can utilize for your case.</p>\n\n<pre><code>$ head file{1,2}\n==&gt; file1 &lt;==\n1 10 20 30\n2 11 21 31\n3 12 22 32\n\n==&gt; file2 &lt;==\n1 6\n2 7\n3 8\n\n$ awk 'NR==FNR{a[$1]=$0; next} \n       $1 in a{split(a[$1],v); print $1,$2,v[2]+v[3]+v[4]}' file1 file2\n\n1 6 60\n2 7 63\n3 8 66\n</code></pre>\n\n<p>your missing ingredient is not using the whole record <code>$0</code> and <code>split</code> function.</p>\n"}], "owner": {"reputation": 109, "user_id": 6823086, "user_type": "registered", "profile_image": "https://lh5.googleusercontent.com/-swyKefhvudQ/AAAAAAAAAAI/AAAAAAAAIeE/1HKkjzSVbQQ/photo.jpg?sz=128", "display_name": "Pramod Tiwari", "link": "https://stackoverflow.com/users/6823086/pramod-tiwari"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 77, "favorite_count": 0, "answer_count": 1, "score": 2, "last_activity_date": 1480086929, "creation_date": 1473694203, "last_edit_date": 1480086929, "question_id": 39453901, "link": "https://stackoverflow.com/questions/39453901/how-do-we-pass-an-array-with-list-of-data-from-one-file-while-processing-second", "title": "How do we pass an array with list of data from one file while processing second file through AWK or any other method?", "body": "\n\n<p>I have used the following file to reach the following result:\n<a href=\"https://i.stack.imgur.com/A2qMv.jpg\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/A2qMv.jpg\" alt=\"enter image description here\"></a></p>\n\n<p>The command that I have used to reach this result is as follows:</p>\n\n<pre class=\"lang-none prettyprint-override\"><code>awk -F\"\\t\" '(FNR&gt;1)&amp;&amp;(NR==FNR){map[$1]=$4; next}($1 in map){$3=substr($3,2); for(i=4;i&lt;7;i++){$i=($i*map[$1])}; print $0}' file2.txt file1.txt\n</code></pre>\n\n<p>This command works fine as long as the data in the column from Jan to Mar is same, but when the data is different, it creates problem because of <code>map[$1]=$4</code>. That is, I am only passing value of 4th column. I want to pass all the values from Jan to Mar and then multiply with corresponding value in another file. </p>\n\n<p>I tried the following code:</p>\n\n<pre class=\"lang-none prettyprint-override\"><code>awk -F\"\\t\" '(FNR&gt;1)&amp;&amp;(NR==FNR){{map[$1]=$0}; next}($1 in map){$3=substr($3,2); for(i=4;i&lt;7;i++){split(map[$1],val);$i=($i*val[$i])}; print $0}' file2.txt file1.txt\n</code></pre>\n\n<p>Which sends the whole line and then splits it internally.\nI also tried passing the array directly to the map:</p>\n\n<pre class=\"lang-none prettyprint-override\"><code>awk -F\"\\t\" '(FNR&gt;1)&amp;&amp;(NR==FNR){split($0,val); for(i=4;i&lt;7;i++){map[$1][$i]=val[$i]}; print map[$1][$i]; next}($1 in map){$3=substr($3,2); for(i=4;i&lt;7;i++){$i=($i*(map[$1][$i]))}; print $0}' file2.txt file1.txt\n</code></pre>\n\n<p>I don't mind using any other method for getting an answer to this question.I was thinking, do we have anyway of running an awk command inside another awk command?\nFinal Edit:</p>\n\n<pre class=\"lang-none prettyprint-override\"><code>awk -F\"\\t\" '(FNR&gt;1)&amp;&amp;(NR==FNR){map[$1]=$0; next}($1 in map){split(map[$1],temp);$3=substr($3,2); for(i=4;i&lt;7;i++){$i=($i*temp[i])/12}; print $0}' file2.txt file1.txt\n</code></pre>\n\n<p>This is what worked in my case.</p>\n"}, {"tags": ["perl", "object", "hash"], "answers": [{"tags": [], "owner": {"reputation": 62184, "user_id": 7231, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/81b76985f3985e35492e25880493d045?s=128&d=identicon&r=PG", "display_name": "Dave Cross", "link": "https://stackoverflow.com/users/7231/dave-cross"}, "is_accepted": true, "score": 7, "last_activity_date": 1473692890, "creation_date": 1473692890, "answer_id": 39453472, "question_id": 39453276, "link": "https://stackoverflow.com/questions/39453276/how-to-return-the-correct-object-attribute-in-perl/39453472#39453472", "title": "How to return the correct object attribute in perl?", "body": "<p>You have <code>$vars</code> as a lexical variable which is scoped to the file which contains your package. So there is only one instance of this variable and it will always contain the data for the last object that was set up.</p>\n\n<p>I'm not sure where you picked up that approach, but it's not how Perl objects work at all. <code>$vars</code> should be scoped to only exist within your constructor and your accessors should be using the object that is passed to them as their first argument (traditionally called <code>$self</code>).</p>\n\n<pre><code># Only pragmas should start with lower-case letters\npackage VendorInfo;\n\nsub new{\n    my $class = shift;\n    my $vars = {\n        _servers =&gt; shift,\n        _locations =&gt; shift,\n        _favorite =&gt; shift,\n        _default_selection =&gt; shift,\n        _database =&gt; shift,\n        _DB =&gt; shift\n    };\n\n    return bless $vars, $class;\n}\n\n# Just one example accessor...\nsub get_database{\n    my $self = shift;\n    return $self-&gt;{_database};\n}\n</code></pre>\n\n<p>One more point, please use <code>Class-&gt;new()</code> instead of the potentially problematic <code>new Class</code> syntax that you are using in your code.</p>\n"}, {"comments": [{"owner": {"reputation": 50468, "user_id": 1331451, "user_type": "registered", "accept_rate": 96, "profile_image": "https://i.stack.imgur.com/4ZPmj.png?s=128&g=1", "display_name": "simbabque", "link": "https://stackoverflow.com/users/1331451/simbabque"}, "edited": false, "score": 2, "creation_date": 1473696995, "post_id": 39453858, "comment_id": 66230589, "body": "I like that you showed this, and the explanations are good and useful. But I think the <code>for ... has</code> is a bit too much of no boilerplate for someone really new to this. It misses to demonstrate how <code>has</code> works and can be very confusing I think."}, {"owner": {"reputation": 78982, "user_id": 1848654, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/84180c0f3c9c04f8b8f0613fc0129dac?s=128&d=identicon&r=PG", "display_name": "melpomene", "link": "https://stackoverflow.com/users/1848654/melpomene"}, "reply_to_user": {"reputation": 50468, "user_id": 1331451, "user_type": "registered", "accept_rate": 96, "profile_image": "https://i.stack.imgur.com/4ZPmj.png?s=128&g=1", "display_name": "simbabque", "link": "https://stackoverflow.com/users/1331451/simbabque"}, "edited": false, "score": 0, "creation_date": 1473698391, "post_id": 39453858, "comment_id": 66231177, "body": "Well, you could also write <code>has &#39;servers&#39; =&gt; (is =&gt; &#39;ro&#39;, required =&gt; 1); has &#39;locations&#39; =&gt; (is =&gt; &#39;ro&#39;, required =&gt; 1); has &#39;favorite&#39; =&gt; (is =&gt; &#39;ro&#39;, required =&gt; 1); ...</code> but I couldn&#39;t bear all the copy/pasting. :-("}], "tags": [], "owner": {"reputation": 78982, "user_id": 1848654, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/84180c0f3c9c04f8b8f0613fc0129dac?s=128&d=identicon&r=PG", "display_name": "melpomene", "link": "https://stackoverflow.com/users/1848654/melpomene"}, "is_accepted": false, "score": 4, "last_activity_date": 1473694065, "last_edit_date": 1495540303, "creation_date": 1473694065, "answer_id": 39453858, "question_id": 39453276, "link": "https://stackoverflow.com/questions/39453276/how-to-return-the-correct-object-attribute-in-perl/39453858#39453858", "title": "How to return the correct object attribute in perl?", "body": "<p>Dave Cross already <a href=\"https://stackoverflow.com/a/39453472/1848654\">answered</a> your immediate question.</p>\n\n<p>This is an example of a more idiomatic version of your code:</p>\n\n<pre><code>{\n    package VendorInfo;\n    use Moo;\n\n    for my $attr (qw(\n        servers\n        locations\n        favorite\n        default_selection\n        database\n        DB\n    )) {\n        has $attr =&gt; (\n            is       =&gt; 'ro',\n            required =&gt; 1,\n        );\n    }\n}\n\n\n# main program\nuse strict;\nuse warnings;\n\nuse Data::Dumper;\n\nmy %vendor_hash = (\n    \"atrena\" =&gt; VendorInfo-&gt;new(\n        servers           =&gt; \"Variable_server\",\n        locations         =&gt; \"Variable_location\",\n        favorite          =&gt; \"Advanced_CDC|CDC dftso|DFT|gui|GUI|adv_checker|Lint|spl-view-only|view-only-GUI\",\n        default_selection =&gt; \"adv_checker\",\n        database          =&gt; \"database\",\n        DB                =&gt; \"DB\",\n    ),\n\n    \"ansys\" =&gt; VendorInfo-&gt;new(\n        servers           =&gt; \"Variable\",\n        locations         =&gt; \"Location\",\n        favorite          =&gt; \"agppi|agppi|ane3fl|ane3fl|ansys|ansys|ensemble_gui|ensemble_gui|hfss_desktop|hfss_desktop|hfss_gui|hfss_gui|hfss_solve|hfss_solve|hfsshpc_pack|hfsshpc_pack|optimetrics|optimetrics|q3d_desktop|q3d_desktop|rdacis|rdacis|struct|struct\",\n        default_selection =&gt; \"ane3fl\",\n        database          =&gt; \"database\",\n        DB                =&gt; \"db\",\n    ),\n\n    \"coventor\" =&gt; VendorInfo-&gt;new(\n        servers           =&gt; \"var\",\n        locations         =&gt; \"location\",\n        favorite          =&gt; \"COV_ZsplatViewer|Viewer|COV_VoxelModeler|Voxel-Modeler|MEMSp_Import_Package|Import-Package|MEMSp_Innovator_Plugin|Innovator-Plugin|MEMSp_MATLAB_Simulation|MATLAB-Simulation|MEMSp_Platform|Platform|MTI_AutoBuilder|Auto-Builder|MTI_Catapult|Catapult|MTI_CoventorWare|Coventor-Ware|MTI_Memcap|Memcap|MTI_PreProcessor|PreProcessor\",\n        default_selection =&gt; \"database\",\n        database          =&gt; \"db\",\n        DB                =&gt; \"db\",\n    ),\n);\n\nmy $vendor = \"atrena\";\n\nmy $vendor_object = $vendor_hash{$vendor};\n\nprint Dumper($vendor_object);\n\nprint \"The database is: \", $vendor_object-&gt;database, \"\\n\";\n</code></pre>\n\n<p>Things of note:</p>\n\n<ul>\n<li>I renamed <code>vendor_info</code> to <code>VendorInfo</code>. Lowercase module names are (informally) reserved for pragmata.</li>\n<li>I used <a href=\"https://metacpan.org/pod/Moo\" rel=\"nofollow noreferrer\">Moo</a> as a helper module for writing classes.</li>\n<li>Moo provides a <code>has</code> helper function for declaring attributes. It also generates a constructor for me, so I don't have to write any boilerplate myself.</li>\n<li>Moo automatically enables <a href=\"https://metacpan.org/pod/distribution/perl/regen/warnings.pl\" rel=\"nofollow noreferrer\">warnings</a>/<a href=\"https://metacpan.org/pod/strict\" rel=\"nofollow noreferrer\">strict</a>, so I don't have to do that either.</li>\n<li>Indirect object syntax (<code>method $object</code> or <code>method class</code>, in your case <code>new vendor_info</code>) is a bad idea because of its syntactic ambiguity. <code>class-&gt;method</code> (here: <code>VendorInfo-&gt;new</code>) is much better.</li>\n<li>The constructor created by Moo takes its arguments in the form of key-value pairs, not a long list (which is a good idea anyway if your sub takes more than 3 arguments).</li>\n<li>Every attribute I declared gets a (read-only (because I used <code>'ro'</code>)) accessor, so client code can simply use <code>$object-&gt;database</code>.</li>\n</ul>\n"}, {"tags": [], "owner": {"reputation": 123805, "user_id": 622310, "user_type": "registered", "accept_rate": 33, "profile_image": "https://www.gravatar.com/avatar/8b6d35219e1808520bc238b28161e2e6?s=128&d=identicon&r=PG", "display_name": "Borodin", "link": "https://stackoverflow.com/users/622310/borodin"}, "is_accepted": false, "score": 4, "last_activity_date": 1473700866, "last_edit_date": 1473700866, "creation_date": 1473695119, "answer_id": 39454155, "question_id": 39453276, "link": "https://stackoverflow.com/questions/39453276/how-to-return-the-correct-object-attribute-in-perl/39454155#39454155", "title": "How to return the correct object attribute in perl?", "body": "<p>In addition to other people's points, you will need to add a <em>true</em> statement at the end of your <code>.pm</code> file</p>\n\n<p>This is how I would write your application</p>\n\n<h3>VendorInfo.pm</h3>\n\n<pre><code>package VendorInfo;\n\nuse strict;\nuse warnings 'all';\n\nsub new {\n    my $class = shift;\n\n    my $self;\n\n    @{$self}{qw/\n        _servers\n        _locations\n        _favorite\n        _default_selection\n        _database _DB\n    /} = @_;\n\n    return bless $self, $class;\n}\n\nsub get_locations {\n    my $self = shift;\n    return $self-&gt;{_locations};\n}\n\nsub get_database {\n    my $self = shift;\n    return $self-&gt;{_database};\n}\n\nsub get_DB {\n    my $self = shift;\n    return $self-&gt;{_DB};\n}\n\n1;\n</code></pre>\n\n<h3>main.pl</h3>\n\n<pre><code>use strict;\nuse warnings 'all';\n\nuse VendorInfo;\nuse Data::Dumper;\n\nmy $vendor = 'atrena';\n\nmy %vendor_hash = (\n    atrena =&gt; VendorInfo-&gt;new(\n        'Variable_server',\n        'Variable_location',\n        'Advanced_CDC|CDC dftso|DFT|gui|GUI|adv_checker|Lint|spl-view-only|view-only-GUI',\n        'adv_checker',\n        'database',\n        'DB',\n    ),\n    ansys =&gt; VendorInfo-&gt;new(\n        'Variable',\n        'Location',\n        'agppi|agppi|ane3fl|ane3fl|ansys|ansys|ensemble_gui|ensemble_gui|hfss_desktop|hfss_desktop|hfss_gui|hfss_gui|hfss_solve|hfss_solve|hfsshpc_pack|hfsshpc_pack|optimetrics|optimetrics|q3d_desktop|q3d_desktop|rdacis|rdacis|struct|struct',\n        'ane3fl',\n        'database',\n        'db',\n    ),\n    coventor =&gt; VendorInfo-&gt;new(\n        'var',\n        'location',\n        'COV_ZsplatViewer|Viewer|COV_VoxelModeler|Voxel-Modeler|MEMSp_Import_Package|Import-Package|MEMSp_Innovator_Plugin|Innovator-Plugin|MEMSp_MATLAB_Simulation|MATLAB-Simulation|MEMSp_Platform|Platform|MTI_AutoBuilder|Auto-Builder|MTI_Catapult|Catapult|MTI_CoventorWare|Coventor-Ware|MTI_Memcap|Memcap|MTI_PreProcessor|PreProcessor',\n        'database',\n        'db',\n        'db',\n    ),\n);\n\nmy $vendor_object = $vendor_hash{$vendor};\n\nprint Dumper $vendor_object;\n\nmy $foodb = $vendor_object-&gt;get_database;\n\nprint $foodb, \"\\n\";\n</code></pre>\n\n<h3>output</h3>\n\n<pre><code>$VAR1 = bless( {\n                 '_servers' =&gt; 'Variable_server',\n                 '_default_selection' =&gt; 'adv_checker',\n                 '_locations' =&gt; 'Variable_location',\n                 '_database' =&gt; 'database',\n                 '_DB' =&gt; 'DB',\n                 '_favorite' =&gt; 'Advanced_CDC|CDC dftso|DFT|gui|GUI|adv_checker|Lint|spl-view-only|view-only-GUI'\n               }, 'VendorInfo' );\ndatabase\n</code></pre>\n"}], "owner": {"reputation": 57, "user_id": 6822932, "user_type": "registered", "accept_rate": 50, "profile_image": "https://www.gravatar.com/avatar/1a6e4b1ddf6c872776a41fb5fb178cb1?s=128&d=identicon&r=PG&f=1", "display_name": "CDaly", "link": "https://stackoverflow.com/users/6822932/cdaly"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 106, "favorite_count": 0, "accepted_answer_id": 39453472, "answer_count": 3, "score": 3, "last_activity_date": 1473700866, "creation_date": 1473692268, "last_edit_date": 1473693037, "question_id": 39453276, "link": "https://stackoverflow.com/questions/39453276/how-to-return-the-correct-object-attribute-in-perl", "title": "How to return the correct object attribute in perl?", "body": "<p>I have a package I created that is meant to return the object's specified attribute (shortened code)</p>\n\n<pre><code>package vendor_info;\n\nmy $vars;\nsub new{\n    my $class = shift;\n    $vars = {\n        _servers =&gt; shift,\n        _locations =&gt; shift,\n        _favorite =&gt; shift,\n        _default_selection =&gt; shift,\n        _database =&gt; shift,\n        _DB =&gt; shift};\n\n    bless $vars, $class;\n    return $vars;\n}\nsub get_locations{\n    return $vars-&gt;{_locations};\n}\n\nsub get_database{\n    return $vars-&gt;{_database};\n}\nsub get_DB{\n    return $vars-&gt;{_DB};\n}\n</code></pre>\n\n<p>My perl file receives an input parsed from the terminal but in this case, the variable $vendor is hard coded for testing. I have a list of objects in a hash, and I want to return the correct attribute according to the object. Some of the variables have been removed with placeholders. </p>\n\n<pre><code>$vendor = \"atrena\";\n\nmy %vendor_hash = (\n    \"atrena\" =&gt; new vendor_info(\"Variable_server\",\"Variable_location\",\"Advanced_CDC|CDC dftso|DFT|gui|GUI|adv_checker|Lint|spl-view-only|view-only-GUI\",\"adv_checker\",\"database\",\"DB\"),\n\n    \"ansys\" =&gt; new vendor_info(\"Variable\",\"Location\",\"agppi|agppi|ane3fl|ane3fl|ansys|ansys|ensemble_gui|ensemble_gui|hfss_desktop|hfss_desktop|hfss_gui|hfss_gui|hfss_solve|hfss_solve|hfsshpc_pack|hfsshpc_pack|optimetrics|optimetrics|q3d_desktop|q3d_desktop|rdacis|rdacis|struct|struct\",\"ane3fl\",\"database\", \"db\"),\n\n    \"coventor\" =&gt; new vendor_info(\"var\",\"location\",\"COV_ZsplatViewer|Viewer|COV_VoxelModeler|Voxel-Modeler|MEMSp_Import_Package|Import-Package|MEMSp_Innovator_Plugin|Innovator-Plugin|MEMSp_MATLAB_Simulation|MATLAB-Simulation|MEMSp_Platform|Platform|MTI_AutoBuilder|Auto-Builder|MTI_Catapult|Catapult|MTI_CoventorWare|Coventor-Ware|MTI_Memcap|Memcap|MTI_PreProcessor|PreProcessor\",\"database\",\"db\",\"db\")   \n\n);\n\n$vendor_object = $vendor_hash{$vendor};\n\nprint Dumper( $vendor_object);\n\n$foodb = $vendor_object -&gt; get_database();\n</code></pre>\n\n<p>The dumper is printing the correct information, however, when I call get_database(), the database called is always the attribute from the last object in the list, which in this case is coventor. The same could be said for any of the sub routine getters.</p>\n\n<p>How do I call the correct attribute for the correct object?</p>\n"}, {"tags": ["perl", "search", "apache-lucy"], "comments": [{"owner": {"reputation": 28131, "user_id": 1956010, "user_type": "registered", "accept_rate": 83, "profile_image": "https://www.gravatar.com/avatar/bfdcb4596e9da98cccbf9a0069fdff6c?s=128&d=identicon&r=PG", "display_name": "nwellnhof", "link": "https://stackoverflow.com/users/1956010/nwellnhof"}, "edited": false, "score": 1, "creation_date": 1473760801, "post_id": 39453053, "comment_id": 66254540, "body": "You might have more luck asking this question on the <a href=\"http://lucy.apache.org/mailing_lists.html\" rel=\"nofollow noreferrer\">Lucy Users mailing list</a>."}], "owner": {"reputation": 21, "user_id": 6822397, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/ef22a84c48f97583c5bef3c46e163356?s=128&d=identicon&r=PG&f=1", "display_name": "Rajiv Gupta", "link": "https://stackoverflow.com/users/6822397/rajiv-gupta"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 152, "favorite_count": 0, "answer_count": 0, "score": 2, "last_activity_date": 1473693793, "creation_date": 1473691610, "last_edit_date": 1473693793, "question_id": 39453053, "link": "https://stackoverflow.com/questions/39453053/speed-up-search-with-lucysearchindexsearcher-and-lucysearchpolysearcher", "title": "Speed up Search with Lucy::Search::IndexSearcher and Lucy::Search::PolySearcher from multiple index folders", "body": "\n\n<p>I'm creating indexes on multiple subfolders under one parent folder.</p>\n\n<p>Indexes are created on multiple folders since files are getting created in parallel and I want to avoid segment locking between multiple indexers.</p>\n\n<p>One of my applications creates the directory structure with lots of log files within different subfolders.</p>\n\n<p>I'm indexing all those files in parallel as and when they are created.</p>\n\n<p>The directory structure looks like this:</p>\n\n<pre class=\"lang-none prettyprint-override\"><code>TopDir/00_log.log\n      /01_log2.log\n      /.lucyindexer/1/seg_1\n                     /seg_2\n      /03_log3.log\n      /03_log3/log31.log\n              /log32.log\n              /.lucyindexer/1/seg_1\n                             /seg 2\n              /log32/log321.log\n                    /log322.log\n                    /.lucyindexer/1/seg_1\n                                   /seg_2\n                                 /2/seg_1\n</code></pre>\n\n<p>This works fine, and while my application is running all log files get indexed as well. </p>\n\n<p>Search is a different application which does following:</p>\n\n<ol>\n<li>Scan through all the directories till <code>.lucyindexer/1</code> and create a list of all such folders. I use <a href=\"https://metacpan.org/pod/File::Find\" rel=\"nofollow\"><code>File::Find</code></a> to do that.</li>\n<li>Create searchers using <a href=\"https://metacpan.org/pod/Lucy::Search::IndexSearcher\" rel=\"nofollow\"><code>Lucy::Search::IndexSearcher</code></a> in loop and add all the searchers to <a href=\"https://metacpan.org/pod/Lucy::Search::PolySearcher\" rel=\"nofollow\"><code>Lucy::Search::PolySearcher</code></a>.</li>\n</ol>\n\n<p>My code looks like this:</p>\n\n<pre class=\"lang-none prettyprint-override\"><code>my @searchers;\n\nmy $schema;\n\nfor my $index ( @all_dirs ) {\n    chomp $index;\n    my $indexer = Lucy::Search::IndexSearcher-&gt;new( index =&gt; $index );\n    push @searchers, $indexer;\n    $schema = $indexer-&gt;get_schema;\n}\n\n# Poly server is the only way to get all search results combined.\nmy $poly_searcher = Lucy::Search::PolySearcher-&gt;new(\n    schema    =&gt; $schema,\n    searchers =&gt; \\@searchers,\n);\n\nmy $query_parser = Lucy::Search::QueryParser-&gt;new(\n    schema =&gt; $poly_searcher-&gt;get_schema,\n    fields =&gt; ['title'],\n);\n\n# Build up a Query.\nmy $q = \"1 2 3 4 5 6 7 11 12 13 14 18\";\n\nmy $query = $query_parser-&gt;parse( $q );\n\n# Execute the Query and get a Hits object.\nmy $hits = $poly_searcher-&gt;hits(\n    query      =&gt; $query,\n    num_wanted =&gt; -1,       # -1 equivalent to all results\n\n    # sort_spec =&gt; $sort_spec,\n);\n\nwhile ( my $hit = $hits-&gt;next ) {\n\n    ## Do some operation\n}\n</code></pre>\n\n<p>This runs and returns the expected results. However, the performance is really bad when the directory structure is deeply nested.</p>\n\n<p>I did profiling using <a href=\"https://metacpan.org/pod/Devel::NYTProf\" rel=\"nofollow\"><code>Devel::NYTProf</code></a> and found two places where the maximum time was taken:</p>\n\n<ol>\n<li>While scanning the directory. (This I will try to solve by generating a list of directories while the application is generating the indexes).</li>\n<li>When creating the searchers using <code>Lucy::Search::IndexSearcher</code>. This takes maximum time when running in loop for all indexed directories.</li>\n</ol>\n\n<p>To solve the item #2 I tried to generate a <code>Lucy::Search::IndexSearcher</code> object for different index folders using <a href=\"https://metacpan.org/pod/Parallel::ForkManager\" rel=\"nofollow\"><code>Parallel::ForkManager</code></a> but I got the following error:</p>\n\n<blockquote>\n  <p>The storable module was unable to store the child's data structure to the temp file \"/tmp/Parallel-ForkManager-27339-27366.txt\":  Storable serialization not implemented for Lucy::Search::IndexSearcher at /usr/software/lib/perl5/site_perl/5.14.0/x86_64-linux-thread-multi/Clownfish.pm line 93</p>\n</blockquote>\n\n<p>Using following code:</p>\n\n<pre class=\"lang-none prettyprint-override\"><code>my $pm = new Parallel::ForkManager( $max_procs );\n\n$pm-&gt;run_on_finish(\n    sub {\n        my ( $pid, $exit_code, $ident, $exit_signal, $core_dump, $index ) = @_;\n        print Dumper $index;\n        push( @searchers, $index );\n    }\n);\n\nfor my $index ( @all_dirs ) {\n    chomp $index;\n    my $forkpid = $pm-&gt;start( $index ) and next;    #fork\n    my $indexer = Lucy::Search::IndexSearcher-&gt;new( index =&gt; $index );\n    $pm-&gt;finish( 0, \\$indexer );\n}\n\n$pm-&gt;wait_all_children;\n</code></pre>\n\n<p>This whole process takes up to 60-120 seconds for a large log directory. At the end of the whole process I create a nested JSON object from all search results to display using JQuery. </p>\n\n<p>I'm looking for ideas to improve its performance. Any idea how to create multiple searchers using <code>Parallel::ForkManager</code> or any other method? Or some other way to improve the search performance. </p>\n\n<p>Also, is there any way I can merge all the indexes in one place?</p>\n"}, {"tags": ["perl", "io-socket"], "answers": [{"comments": [{"owner": {"reputation": 48798, "user_id": 223226, "user_type": "registered", "accept_rate": 93, "profile_image": "https://i.stack.imgur.com/iGqE4.png?s=128&g=1", "display_name": "mpapec", "link": "https://stackoverflow.com/users/223226/mpapec"}, "edited": false, "score": 2, "creation_date": 1473674417, "post_id": 39447676, "comment_id": 66217101, "body": "yes but this is not always enough <a href=\"http://perldoc.perl.org/IO/Socket.html#connected\" rel=\"nofollow noreferrer\">perldoc.perl.org/IO/Socket.html#connected</a> (should also check return value of <code>-&gt;write()</code>)"}, {"owner": {"reputation": 263, "user_id": 1511153, "user_type": "registered", "accept_rate": 50, "profile_image": "https://www.gravatar.com/avatar/ee6b467de40257b1d1e986aeb2899fc1?s=128&d=identicon&r=PG", "display_name": "Lucas Rey", "link": "https://stackoverflow.com/users/1511153/lucas-rey"}, "edited": false, "score": 0, "creation_date": 1473677549, "post_id": 39447676, "comment_id": 66218662, "body": "Sorry, but I don&#39;t understand. I already have a loop to read a file, line by line and then inside the loop I&#39;m sending data to the server. This works perfect, But, if for some reasons, the server will close the connection, aplication exit without finish sending all the lines. I don&#39;t understand how can I implement the: $socket-&gt;connect unless $socket-&gt;connected; in a way I can create a socket again (connect again) before continue sending data from the loop."}, {"owner": {"reputation": 50468, "user_id": 1331451, "user_type": "registered", "accept_rate": 96, "profile_image": "https://i.stack.imgur.com/4ZPmj.png?s=128&g=1", "display_name": "simbabque", "link": "https://stackoverflow.com/users/1331451/simbabque"}, "reply_to_user": {"reputation": 263, "user_id": 1511153, "user_type": "registered", "accept_rate": 50, "profile_image": "https://www.gravatar.com/avatar/ee6b467de40257b1d1e986aeb2899fc1?s=128&d=identicon&r=PG", "display_name": "Lucas Rey", "link": "https://stackoverflow.com/users/1511153/lucas-rey"}, "edited": false, "score": 0, "creation_date": 1473677849, "post_id": 39447676, "comment_id": 66218822, "body": "@LucasRey I don&#39;t think you need to create a new socket. You just want to reconnect, which this line does. Put it at the top of the loop (my <code>while (1)</code> was just so there is a loop in the example) and write after that. That should do it."}, {"owner": {"reputation": 123805, "user_id": 622310, "user_type": "registered", "accept_rate": 33, "profile_image": "https://www.gravatar.com/avatar/8b6d35219e1808520bc238b28161e2e6?s=128&d=identicon&r=PG", "display_name": "Borodin", "link": "https://stackoverflow.com/users/622310/borodin"}, "edited": false, "score": 0, "creation_date": 1473679752, "post_id": 39447676, "comment_id": 66219809, "body": "The <code>connected</code> method in <code>IO::Socket::INET</code> is provided by its base class <code>IO::Socket</code>. And you really should test the success of the <code>connect</code> method in the loop."}, {"owner": {"reputation": 263, "user_id": 1511153, "user_type": "registered", "accept_rate": 50, "profile_image": "https://www.gravatar.com/avatar/ee6b467de40257b1d1e986aeb2899fc1?s=128&d=identicon&r=PG", "display_name": "Lucas Rey", "link": "https://stackoverflow.com/users/1511153/lucas-rey"}, "edited": false, "score": 0, "creation_date": 1473681019, "post_id": 39447676, "comment_id": 66220488, "body": "@simbabque: ok clear, thank you. Problem is when the server connection goes down during loop, I receive: &quot;usage: $sock-&gt;connect(NAME) or $sock-&gt;connect(PORT, ADDR) at ./sms.pl line 67&quot; and the the application exit. :("}, {"owner": {"reputation": 263, "user_id": 1511153, "user_type": "registered", "accept_rate": 50, "profile_image": "https://www.gravatar.com/avatar/ee6b467de40257b1d1e986aeb2899fc1?s=128&d=identicon&r=PG", "display_name": "Lucas Rey", "link": "https://stackoverflow.com/users/1511153/lucas-rey"}, "edited": false, "score": 0, "creation_date": 1473681556, "post_id": 39447676, "comment_id": 66220812, "body": "@simbabque: well... this: $sock-&gt;connect(8000, 192.168.10.7) unless $sock-&gt;connected;   does not work. The application simply exit after disconnection !!"}, {"owner": {"reputation": 50468, "user_id": 1331451, "user_type": "registered", "accept_rate": 96, "profile_image": "https://i.stack.imgur.com/4ZPmj.png?s=128&g=1", "display_name": "simbabque", "link": "https://stackoverflow.com/users/1331451/simbabque"}, "reply_to_user": {"reputation": 263, "user_id": 1511153, "user_type": "registered", "accept_rate": 50, "profile_image": "https://www.gravatar.com/avatar/ee6b467de40257b1d1e986aeb2899fc1?s=128&d=identicon&r=PG", "display_name": "Lucas Rey", "link": "https://stackoverflow.com/users/1511153/lucas-rey"}, "edited": false, "score": 0, "creation_date": 1473681631, "post_id": 39447676, "comment_id": 66220844, "body": "@lucas you don&#39;t have quotes around the IP address. See my edit and add error checking."}, {"owner": {"reputation": 263, "user_id": 1511153, "user_type": "registered", "accept_rate": 50, "profile_image": "https://www.gravatar.com/avatar/ee6b467de40257b1d1e986aeb2899fc1?s=128&d=identicon&r=PG", "display_name": "Lucas Rey", "link": "https://stackoverflow.com/users/1511153/lucas-rey"}, "edited": false, "score": 0, "creation_date": 1473682290, "post_id": 39447676, "comment_id": 66221206, "body": "@simbabque: I&#39;m surrendering :( .... Unfortunately I don&#39;t know perl very well, Normally I&#39;m programming in other languages. I just tried like your example, and now I got: Bad arg length for Socket::pack_sockaddr_in, length is 14, should be 4 at /usr/lib/perl5/5.8.8/IO/Socket/INET.pm line 224, &lt;$fh&gt; line 39. one question: you used $sock and the $socket, is this a typo? However I still receive the above error when the connection goes down <code>code</code> . MY CODE:   my $port=&quot;8000&quot;;      my $ip=&quot;192.168.10.150&quot;;     unless ($sock-&gt;connected) {           $sock-&gt;connect($port, $ip) or die $!;       }"}, {"owner": {"reputation": 50468, "user_id": 1331451, "user_type": "registered", "accept_rate": 96, "profile_image": "https://i.stack.imgur.com/4ZPmj.png?s=128&g=1", "display_name": "simbabque", "link": "https://stackoverflow.com/users/1331451/simbabque"}, "reply_to_user": {"reputation": 263, "user_id": 1511153, "user_type": "registered", "accept_rate": 50, "profile_image": "https://www.gravatar.com/avatar/ee6b467de40257b1d1e986aeb2899fc1?s=128&d=identicon&r=PG", "display_name": "Lucas Rey", "link": "https://stackoverflow.com/users/1511153/lucas-rey"}, "edited": false, "score": 2, "creation_date": 1473682979, "post_id": 39447676, "comment_id": 66221604, "body": "@lucas yes, that was a typo. But my code here is just <b>an example</b> anyway. Don&#39;t directly copy it. You didn&#39;t show enough code to make a working program, so you only get examples. Please include your full code in the question."}, {"owner": {"reputation": 263, "user_id": 1511153, "user_type": "registered", "accept_rate": 50, "profile_image": "https://www.gravatar.com/avatar/ee6b467de40257b1d1e986aeb2899fc1?s=128&d=identicon&r=PG", "display_name": "Lucas Rey", "link": "https://stackoverflow.com/users/1511153/lucas-rey"}, "edited": false, "score": 0, "creation_date": 1473755870, "post_id": 39447676, "comment_id": 66251526, "body": "@simbabque: Thank you, added my code. With that, after server disconnection I got: Bad arg length for Socket::pack_sockaddr_in, length is 14, should be 4 at /usr/lib/perl5/5.8.8/IO/Socket/INET.pm line 224, &lt;$fh&gt; line 35302."}], "tags": [], "owner": {"reputation": 50468, "user_id": 1331451, "user_type": "registered", "accept_rate": 96, "profile_image": "https://i.stack.imgur.com/4ZPmj.png?s=128&g=1", "display_name": "simbabque", "link": "https://stackoverflow.com/users/1331451/simbabque"}, "is_accepted": false, "score": 16, "last_activity_date": 1473682917, "last_edit_date": 1473682917, "creation_date": 1473674012, "answer_id": 39447676, "question_id": 39447554, "link": "https://stackoverflow.com/questions/39447554/check-if-socket-is-connected-before-sending-data/39447676#39447676", "title": "Check if socket is connected before sending data", "body": "<p><a href=\"https://metacpan.org/pod/IO::Socket::INET\">IO::Socket::INET</a> is a subclass of <a href=\"https://metacpan.org/pod/IO::Socket\">IO::Socket</a>, which has a <a href=\"https://metacpan.org/pod/IO::Socket#connected\"><code>connected</code> method</a>.</p>\n\n<blockquote>\n  <p>If the socket is in a connected state the peer address is returned. If the socket is not in a connected state then undef will be returned.</p>\n</blockquote>\n\n<p>You can use that in your loop and <a href=\"https://metacpan.org/pod/perlfunc#connect-SOCKET-NAME\">call <code>connect</code></a> on it if the check returned <code>undef</code>.</p>\n\n<pre><code>my $sock = IO::Socket::INET-&gt;new(\n    PeerAddr =&gt; '192.168.10.7',\n    PeerPort =&gt; 8000,\n    Proto    =&gt; 'tcp'\n);\n$sock or die \"no socket :$!\";\n\nwhile ( 1 ) {\n    unless ($sock-&gt;connected) {\n        $sock-&gt;connect($port, $ip) or die $!;\n    }\n    # ...\n}\n</code></pre>\n"}], "owner": {"reputation": 263, "user_id": 1511153, "user_type": "registered", "accept_rate": 50, "profile_image": "https://www.gravatar.com/avatar/ee6b467de40257b1d1e986aeb2899fc1?s=128&d=identicon&r=PG", "display_name": "Lucas Rey", "link": "https://stackoverflow.com/users/1511153/lucas-rey"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 2231, "favorite_count": 0, "answer_count": 1, "score": 8, "last_activity_date": 1473755698, "creation_date": 1473673620, "last_edit_date": 1473755698, "question_id": 39447554, "link": "https://stackoverflow.com/questions/39447554/check-if-socket-is-connected-before-sending-data", "title": "Check if socket is connected before sending data", "body": "<p>I'm programming a simple code using socket connection in perl:</p>\n\n<pre><code>$sock = new IO::Socket::INET(\n                  PeerAddr =&gt; '192.168.10.7',\n                  PeerPort =&gt; 8000,\n                  Proto    =&gt; 'tcp');\n$sock or die \"no socket :$!\";\n</code></pre>\n\n<p>Then sending data using a loop:</p>\n\n<pre><code>while...\nprint $sock $str;\n...loop\n</code></pre>\n\n<p>Is there a way to insert into the loop a command to check connection?\nSomething like:</p>\n\n<pre><code>while...\n   socket is up?\n   yes =&gt; send data\n   no =&gt; connect again and the continue with loop\n...loop\n</code></pre>\n\n<p><strong>EDIT ADD MY CODE:</strong></p>\n\n<pre><code>my $sock = new IO::Socket::INET(\n                    PeerAddr =&gt; '192.168.10.152',\n                    PeerPort =&gt; 8000,\n                    Proto    =&gt; 'tcp');\n  $sock or die \"no socket :$!\";\n\n  open(my $fh, '&lt;:encoding(UTF-8)', 'list1.txt')\n      or die \"Could not open file $!\";\n\n  while (my $msdn = &lt;$fh&gt;) {\n        my $port=\"8000\";\n        my $ip=\"192.168.10.152\";\n        unless ($sock-&gt;connected) {\n          $sock-&gt;connect($port, $ip) or die $!;\n    }\n    my $str=\"DATA TO SEND: \" . $msdn;\n    print $sock $str;\n  }\n  close($sock);\n</code></pre>\n"}, {"tags": ["regex", "perl", "awk"], "comments": [{"owner": {"reputation": 5923, "user_id": 2105156, "user_type": "registered", "accept_rate": 76, "profile_image": "https://i.stack.imgur.com/oRMc0.jpg?s=128&g=1", "display_name": "fugu", "link": "https://stackoverflow.com/users/2105156/fugu"}, "edited": false, "score": 1, "creation_date": 1473668485, "post_id": 39445990, "comment_id": 66213950, "body": "Input and desired output?"}, {"owner": {"reputation": 87649, "user_id": 17389, "user_type": "registered", "accept_rate": 38, "profile_image": "https://www.gravatar.com/avatar/cd06d1314817ce946ab796af8750b56a?s=128&d=identicon&r=PG", "display_name": "ysth", "link": "https://stackoverflow.com/users/17389/ysth"}, "edited": false, "score": 0, "creation_date": 1473691721, "post_id": 39445990, "comment_id": 66227524, "body": "are the addresses always IPv4?"}], "answers": [{"comments": [{"owner": {"reputation": 287, "user_id": 3586606, "user_type": "registered", "accept_rate": 75, "profile_image": "https://www.gravatar.com/avatar/636d3767d1bfe8261766799095f10f9a?s=128&d=identicon&r=PG&f=1", "display_name": "CleverDev", "link": "https://stackoverflow.com/users/3586606/cleverdev"}, "edited": false, "score": 0, "creation_date": 1473669353, "post_id": 39446117, "comment_id": 66214429, "body": "That is great , thank you! , is there any thing I can do regarding the &#39;tr&#39; command?"}, {"owner": {"reputation": 51521, "user_id": 2566198, "user_type": "registered", "accept_rate": 67, "profile_image": "https://i.stack.imgur.com/Y34ZA.jpg?s=128&g=1", "display_name": "Sobrique", "link": "https://stackoverflow.com/users/2566198/sobrique"}, "reply_to_user": {"reputation": 287, "user_id": 3586606, "user_type": "registered", "accept_rate": 75, "profile_image": "https://www.gravatar.com/avatar/636d3767d1bfe8261766799095f10f9a?s=128&d=identicon&r=PG&f=1", "display_name": "CleverDev", "link": "https://stackoverflow.com/users/3586606/cleverdev"}, "edited": false, "score": 0, "creation_date": 1473670157, "post_id": 39446117, "comment_id": 66214819, "body": "Yes. But I wouldn&#39;t because what <i>that</i> bit is doing is running multiple commands using <code>xargs</code> and I&#39;d just run the commands one at a time in <code>perl</code> instead."}], "tags": [], "owner": {"reputation": 51521, "user_id": 2566198, "user_type": "registered", "accept_rate": 67, "profile_image": "https://i.stack.imgur.com/Y34ZA.jpg?s=128&g=1", "display_name": "Sobrique", "link": "https://stackoverflow.com/users/2566198/sobrique"}, "is_accepted": true, "score": 5, "last_activity_date": 1473668714, "creation_date": 1473668714, "answer_id": 39446117, "question_id": 39445990, "link": "https://stackoverflow.com/questions/39445990/how-to-use-split-function-in-perl-to-do-the-work-of-awk/39446117#39446117", "title": "How to use split function in perl to do the work of awk", "body": "<p>Trivially. By default <code>split</code> works just like <code>awk</code>. So:</p>\n\n<pre><code>my @arr = split;\nprint $arr[3]; #note - arrays start at zero. \n</code></pre>\n\n<p>However, perl generally also works line by line on a filehandle, and a <code>split</code> gets you stuff you don't want. </p>\n\n<p>You can either:</p>\n\n<pre><code>#!/usr/bin/perl\nuse strict;\nuse warnings;\n\nwhile (&lt;DATA&gt;) {\n   my ($ip) = (split)[3];\n   print $ip, \"\\n\";\n   #or push it. \n}\n\n__DATA__\n$fileserver has address 10.90.207.59\n$fileserver has address 10.90.207.34\n$fileserver has address 10.90.207.56\n$fileserver has address 10.90.207.67\n</code></pre>\n\n<p>But if you're looking for a single thingummy:</p>\n\n<pre><code>#!/usr/bin/perl\nuse strict;\nuse warnings;\nuse Data::Dumper;\n\nmy @ips = map { (split)[3] } &lt;DATA&gt;;\n\nprint Dumper \\@ips;\n\n\n__DATA__\n$fileserver has address 10.90.207.59\n$fileserver has address 10.90.207.34\n$fileserver has address 10.90.207.56\n$fileserver has address 10.90.207.67\n</code></pre>\n\n<p>We read <code>&lt;DATA&gt;</code> in a list context, so it returns the whole thing - one element at a time to map. </p>\n\n<p>And then in the <code>map</code> we split each, and grab element <code>3</code> (<code>$4</code> in awk terms). </p>\n"}, {"comments": [{"owner": {"reputation": 287, "user_id": 3586606, "user_type": "registered", "accept_rate": 75, "profile_image": "https://www.gravatar.com/avatar/636d3767d1bfe8261766799095f10f9a?s=128&d=identicon&r=PG&f=1", "display_name": "CleverDev", "link": "https://stackoverflow.com/users/3586606/cleverdev"}, "edited": false, "score": 0, "creation_date": 1473669659, "post_id": 39446304, "comment_id": 66214591, "body": "Thanks nice way as well!"}], "tags": [], "owner": {"reputation": 5455, "user_id": 3961170, "user_type": "registered", "accept_rate": 73, "profile_image": "https://i.stack.imgur.com/PtFol.jpg?s=128&g=1", "display_name": "mkHun", "link": "https://stackoverflow.com/users/3961170/mkhun"}, "is_accepted": false, "score": 4, "last_activity_date": 1473669969, "last_edit_date": 1473669969, "creation_date": 1473669427, "answer_id": 39446304, "question_id": 39445990, "link": "https://stackoverflow.com/questions/39445990/how-to-use-split-function-in-perl-to-do-the-work-of-awk/39446304#39446304", "title": "How to use split function in perl to do the work of awk", "body": "<p>For similar use perl one liner</p>\n\n<pre><code>perl -nae 'print \"$F[3]\\n\"' input.txt\n</code></pre>\n\n<p><code>-n</code> make the loop for a file</p>\n\n<p><code>-a</code> autosplit mode. By default split with space. The output stored into the <code>@F</code>. So I use third index to print the ip address. In perl index start with 0 </p>\n"}, {"comments": [{"owner": {"reputation": 287, "user_id": 3586606, "user_type": "registered", "accept_rate": 75, "profile_image": "https://www.gravatar.com/avatar/636d3767d1bfe8261766799095f10f9a?s=128&d=identicon&r=PG&f=1", "display_name": "CleverDev", "link": "https://stackoverflow.com/users/3586606/cleverdev"}, "edited": false, "score": 0, "creation_date": 1473678583, "post_id": 39447874, "comment_id": 66219202, "body": "Thank you very much for the detailed answer!"}], "tags": [], "owner": {"reputation": 121105, "user_id": 2766176, "user_type": "registered", "accept_rate": 61, "profile_image": "https://www.gravatar.com/avatar/edd8638efe875601bfe394a8aea5b16d?s=128&d=identicon&r=PG", "display_name": "brian d foy", "link": "https://stackoverflow.com/users/2766176/brian-d-foy"}, "is_accepted": false, "score": 3, "last_activity_date": 1473686400, "last_edit_date": 1473686400, "creation_date": 1473674712, "answer_id": 39447874, "question_id": 39445990, "link": "https://stackoverflow.com/questions/39445990/how-to-use-split-function-in-perl-to-do-the-work-of-awk/39447874#39447874", "title": "How to use split function in perl to do the work of awk", "body": "<p>If you know that the field that you want is the last column, you can use an index that counts backward from the end:</p>\n\n<pre><code>my $ip = (split)[-1];\n</code></pre>\n\n<p>In the one-liner case, using the <code>-a</code> switch makes Perl split the line into the <code>@F</code> array (the <code>-n</code> wraps <code>while(&lt;&gt;){...}</code> around the argument to <code>-e</code> and the <code>-l</code> adds a newline to each <code>print</code> (see <a href=\"http://perldoc.perl.org/perlrun.html\" rel=\"nofollow\">perlrun</a>)):</p>\n\n<pre><code>perl -anle 'print $F[-1]'\n</code></pre>\n\n<p>However, since you're not stuck with awk, you don't have to do it that way. You can probably do most of that in Perl without the pipeline. Here's what you started with:</p>\n\n<pre><code>my @arr = `$cmd | tr \" \" \"\\n\" | xargs -n1 host | awk '{print $4}'`\n</code></pre>\n\n<p>It looks like <code>$cmd</code> generates a bunch of host names in a single line. You turn spaces into newlines with the <code>tr</code>, then run <code>host</code> on each of lines. For each <code>host</code> output, you grab the address.</p>\n\n<p>You could do that in a single Perl program:</p>\n\n<pre><code> use v5.24;\n\n use Socket;        # core module\n use Net::hostent;  # core module\n\n my $cmd = ...;\n foreach my $host ( `$cmd` ) {\n      chomp( $host );\n      my @addresses = \n          map { inet_ntoa($_) } \n          gethostbyname($host)-&gt;addr_list-&gt;@*;\n      say join \"\\n\", @addresses;\n     }\n</code></pre>\n\n<p>With the backticks in a list context, Perl breaks the output of the command into lines for you. The core modules <a href=\"http://www.metacpan.org/module/Socket\" rel=\"nofollow\">Socket</a> and <a href=\"http://www.metacpan.org/module/Net::hostent\" rel=\"nofollow\">Net::hostent</a> come with Perl. </p>\n\n<p>I've used v5.24 for its very nice <a href=\"https://www.effectiveperlprogramming.com/2014/09/use-postfix-dereferencing/\" rel=\"nofollow\">postfix dereferencing</a> feature, <code>-&gt;@*</code>, that turns the array reference from <code>addr_list</code> into a regular list that <code>map</code> can use.</p>\n\n<p>You need to be careful about whatever you put in <code>$cmd</code>. I talk about that at length in the \"Security\" chapter of <a href=\"https://www.masteringperl.org\" rel=\"nofollow\">Mastering Perl</a>. You can also find some stuff in the <a href=\"http://perldoc.perl.org/perlsec.html\" rel=\"nofollow\">perlsec</a> documentation.</p>\n"}, {"tags": [], "owner": {"reputation": 123805, "user_id": 622310, "user_type": "registered", "accept_rate": 33, "profile_image": "https://www.gravatar.com/avatar/8b6d35219e1808520bc238b28161e2e6?s=128&d=identicon&r=PG", "display_name": "Borodin", "link": "https://stackoverflow.com/users/622310/borodin"}, "is_accepted": false, "score": 2, "last_activity_date": 1473678980, "creation_date": 1473678980, "answer_id": 39449092, "question_id": 39445990, "link": "https://stackoverflow.com/questions/39445990/how-to-use-split-function-in-perl-to-do-the-work-of-awk/39449092#39449092", "title": "How to use split function in perl to do the work of awk", "body": "<p>With the help of the <code>inet_aton</code> and <code>inet_ntoa</code> from the <a href=\"https://metacpan.org/pod/Socket\" rel=\"nofollow\"><code>Socket</code></a> module, you can very simply do the entire thing in Perl, with the exception of <code>$cmd</code> because you don't tell us what that is</p>\n\n<p>It looks like your <code>$cmd</code> returns one or more lines of host names, separated by spaces, so I've used an <code>echo</code> command to emulate it here. I've also used <code>Data::Dump</code> just to reveal the final contents of <code>@addresses</code></p>\n\n<pre><code>use strict;\nuse warnings 'all';\n\nuse Socket;\n\nmy $cmd = 'echo www.amazon.co.uk www.perl.com www.stackoverflow.com';\n\nmy $cmd_output = `$cmd`;\nmy @addresses = map { name_to_ip($_) } split ' ', $cmd_output;\n\nuse Data::Dump;\ndd \\@addresses;\n\nsub name_to_ip {\n\n    my ($name) = @_;\n    my $add32 = inet_aton($name) or die qq{Unable to convert host name \"$name\": $!\\n};\n\n    inet_ntoa($add32);\n}\n</code></pre>\n\n<h3>output</h3>\n\n<pre><code>[\"54.239.36.155\", \"207.171.7.72\", \"151.101.193.69\"]\n</code></pre>\n"}], "owner": {"reputation": 287, "user_id": 3586606, "user_type": "registered", "accept_rate": 75, "profile_image": "https://www.gravatar.com/avatar/636d3767d1bfe8261766799095f10f9a?s=128&d=identicon&r=PG&f=1", "display_name": "CleverDev", "link": "https://stackoverflow.com/users/3586606/cleverdev"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 452, "favorite_count": 1, "accepted_answer_id": 39446117, "answer_count": 4, "score": 2, "last_activity_date": 1473686400, "creation_date": 1473668244, "question_id": 39445990, "link": "https://stackoverflow.com/questions/39445990/how-to-use-split-function-in-perl-to-do-the-work-of-awk", "title": "How to use split function in perl to do the work of awk", "body": "<p>I am writing a script in perl and I want to avoid using external commands as awk, tr , etc as much as possible.\nThis is the command I am running from inside the script , using backticks:</p>\n\n<pre><code>my @arr = `$cmd | tr \" \" \"\\n\" | xargs -n1 host | awk '{print $4}'`\n</code></pre>\n\n<p>And this is the output with out <code>awk '{print 4$}</code> : </p>\n\n<pre><code>$fileserver has address 10.90.207.59\n$fileserver has address 10.90.207.34\n$fileserver has address 10.90.207.56\n$fileserver has address 10.90.207.67\n</code></pre>\n\n<p>This is the output with <code>awk '{print 4$}</code>:</p>\n\n<pre><code>10.90.207.59\n10.90.207.34\n10.90.207.56\n10.90.207.67\n</code></pre>\n\n<p>I want each IP to be in a separated cell in the array.\nHow can I use perl functions (maybe split or map) currectrly instead of using awk and tr?</p>\n"}, {"tags": ["regex", "perl"], "comments": [{"owner": {"reputation": 658023, "user_id": 548225, "user_type": "registered", "accept_rate": 90, "profile_image": "https://www.gravatar.com/avatar/dab08478b226280d4a30894c9a7ed719?s=128&d=identicon&r=PG", "display_name": "anubhava", "link": "https://stackoverflow.com/users/548225/anubhava"}, "edited": false, "score": 0, "creation_date": 1473662675, "post_id": 39444575, "comment_id": 66211198, "body": "Can you add few more example inputs with your expected matches?"}, {"owner": {"reputation": 920, "user_id": 4819884, "user_type": "registered", "accept_rate": 90, "profile_image": "https://www.gravatar.com/avatar/5b96c68654d5ecce5ace521d7371fec5?s=128&d=identicon&r=PG&f=1", "display_name": "yonyon100", "link": "https://stackoverflow.com/users/4819884/yonyon100"}, "edited": false, "score": 0, "creation_date": 1473662826, "post_id": 39444575, "comment_id": 66211278, "body": "Please edit your question and add it"}, {"owner": {"reputation": 86, "user_id": 6330057, "user_type": "registered", "accept_rate": 83, "profile_image": "https://graph.facebook.com/1185636201448528/picture?type=large", "display_name": "Dipit Sethi", "link": "https://stackoverflow.com/users/6330057/dipit-sethi"}, "edited": false, "score": 0, "creation_date": 1473662886, "post_id": 39444575, "comment_id": 66211305, "body": "So, i want to match whole string before main_xx whatever be the no. of elements come and ignore any thing after main_xx."}, {"owner": {"reputation": 86, "user_id": 6330057, "user_type": "registered", "accept_rate": 83, "profile_image": "https://graph.facebook.com/1185636201448528/picture?type=large", "display_name": "Dipit Sethi", "link": "https://stackoverflow.com/users/6330057/dipit-sethi"}, "reply_to_user": {"reputation": 920, "user_id": 4819884, "user_type": "registered", "accept_rate": 90, "profile_image": "https://www.gravatar.com/avatar/5b96c68654d5ecce5ace521d7371fec5?s=128&d=identicon&r=PG&f=1", "display_name": "yonyon100", "link": "https://stackoverflow.com/users/4819884/yonyon100"}, "edited": false, "score": 0, "creation_date": 1473663055, "post_id": 39444575, "comment_id": 66211382, "body": "@yonyon100 edited."}, {"owner": {"reputation": 86, "user_id": 6330057, "user_type": "registered", "accept_rate": 83, "profile_image": "https://graph.facebook.com/1185636201448528/picture?type=large", "display_name": "Dipit Sethi", "link": "https://stackoverflow.com/users/6330057/dipit-sethi"}, "reply_to_user": {"reputation": 658023, "user_id": 548225, "user_type": "registered", "accept_rate": 90, "profile_image": "https://www.gravatar.com/avatar/dab08478b226280d4a30894c9a7ed719?s=128&d=identicon&r=PG", "display_name": "anubhava", "link": "https://stackoverflow.com/users/548225/anubhava"}, "edited": false, "score": 0, "creation_date": 1473663379, "post_id": 39444575, "comment_id": 66211528, "body": "@anubhava, i need to include &quot;main_xx&quot; also. with this, only values before  main_xx are coming."}, {"owner": {"reputation": 658023, "user_id": 548225, "user_type": "registered", "accept_rate": 90, "profile_image": "https://www.gravatar.com/avatar/dab08478b226280d4a30894c9a7ed719?s=128&d=identicon&r=PG", "display_name": "anubhava", "link": "https://stackoverflow.com/users/548225/anubhava"}, "edited": false, "score": 1, "creation_date": 1473663425, "post_id": 39444575, "comment_id": 66211555, "body": "ok then <code>&#47;(.*,main_[^,]*)&#47;</code> should work."}, {"owner": {"reputation": 5455, "user_id": 3961170, "user_type": "registered", "accept_rate": 73, "profile_image": "https://i.stack.imgur.com/PtFol.jpg?s=128&g=1", "display_name": "mkHun", "link": "https://stackoverflow.com/users/3961170/mkhun"}, "reply_to_user": {"reputation": 658023, "user_id": 548225, "user_type": "registered", "accept_rate": 90, "profile_image": "https://www.gravatar.com/avatar/dab08478b226280d4a30894c9a7ed719?s=128&d=identicon&r=PG", "display_name": "anubhava", "link": "https://stackoverflow.com/users/548225/anubhava"}, "edited": false, "score": 1, "creation_date": 1473663625, "post_id": 39444575, "comment_id": 66211636, "body": "@anubhava The character should be <code>xx</code> then why you negate it <code>[^,]+</code>?"}, {"owner": {"reputation": 658023, "user_id": 548225, "user_type": "registered", "accept_rate": 90, "profile_image": "https://www.gravatar.com/avatar/dab08478b226280d4a30894c9a7ed719?s=128&d=identicon&r=PG", "display_name": "anubhava", "link": "https://stackoverflow.com/users/548225/anubhava"}, "edited": false, "score": 3, "creation_date": 1473663710, "post_id": 39444575, "comment_id": 66211676, "body": "<code>[^,]+</code> allows <code>xx</code> to be a dynamic value."}], "answers": [{"tags": [], "owner": {"reputation": 920, "user_id": 4819884, "user_type": "registered", "accept_rate": 90, "profile_image": "https://www.gravatar.com/avatar/5b96c68654d5ecce5ace521d7371fec5?s=128&d=identicon&r=PG&f=1", "display_name": "yonyon100", "link": "https://stackoverflow.com/users/4819884/yonyon100"}, "is_accepted": true, "score": 1, "last_activity_date": 1473664019, "last_edit_date": 1473664019, "creation_date": 1473663268, "answer_id": 39444796, "question_id": 39444575, "link": "https://stackoverflow.com/questions/39444575/need-a-regex-for-the-following-expression/39444796#39444796", "title": "Need a regex for the following expression?", "body": "<pre><code>#!/usr/bin/perl -w\nuse strict;\n\nmy $str = \"ab_cde,efg_gh,drg_fgt,main_xx,sum(abc),avg(def)\";\n(my $result) = ($str =~ m/(.*main_xx)/);\nprint $result;\n</code></pre>\n\n<p>The output will be everything up to <code>main_xx</code> (given <code>xx</code> is just the string made of x's).</p>\n"}, {"tags": [], "owner": {"reputation": 5455, "user_id": 3961170, "user_type": "registered", "accept_rate": 73, "profile_image": "https://i.stack.imgur.com/PtFol.jpg?s=128&g=1", "display_name": "mkHun", "link": "https://stackoverflow.com/users/3961170/mkhun"}, "is_accepted": false, "score": 1, "last_activity_date": 1473663423, "creation_date": 1473663423, "answer_id": 39444833, "question_id": 39444575, "link": "https://stackoverflow.com/questions/39444575/need-a-regex-for-the-following-expression/39444833#39444833", "title": "Need a regex for the following expression?", "body": "<p>Try this</p>\n\n<pre><code>my $str = \"ab_cde,efg_gh,drg_fgt,main_xx,sum(abc),avg(def)\";\nmy ($match)= $str =~m/(.+main_xx)/;\nprint $match;\n</code></pre>\n"}], "owner": {"reputation": 86, "user_id": 6330057, "user_type": "registered", "accept_rate": 83, "profile_image": "https://graph.facebook.com/1185636201448528/picture?type=large", "display_name": "Dipit Sethi", "link": "https://stackoverflow.com/users/6330057/dipit-sethi"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 80, "favorite_count": 0, "accepted_answer_id": 39444796, "answer_count": 2, "score": -3, "last_activity_date": 1473671556, "creation_date": 1473662343, "last_edit_date": 1473671556, "question_id": 39444575, "link": "https://stackoverflow.com/questions/39444575/need-a-regex-for-the-following-expression", "title": "Need a regex for the following expression?", "body": "<pre><code>#! /usr/bin/perl\n\n$str = \"ab_cde,efg_gh,drg_fgt,main_xx,sum(abc),avg(def)\";\n</code></pre>\n\n<p>or</p>\n\n<pre><code>$str = \"ab_cde,bc_bn,gy_ihf,efg_gh,drg_fgt,main_xx,sum(abc),avg(def\u200c\u200b)\"; \n</code></pre>\n\n<p>Guys, the string before <code>main_xx</code> is dynamic means there can be more elements with this format like <code>xx_xx</code> or <code>xxx_xx</code> or <code>xx_xxx</code> or <code>xxx_xxxx</code> or it can be as many characters before and after \"underscore\". So before <code>main_xx</code>, as many elements can come with above format. I want to match string UP TO main_xx<code>because even fetching dynamically, this \"main_xx\" will be the last element and want to ignore elements after</code>main_xx`. Please help to create a regex for this.</p>\n"}, {"tags": ["arrays", "perl", "ref", "scalar"], "answers": [{"comments": [{"owner": {"reputation": 156, "user_id": 5948263, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/7141f7d1e3669e2cbd99fea6fb2f05b2?s=128&d=identicon&r=PG&f=1", "display_name": "BentChainRing", "link": "https://stackoverflow.com/users/5948263/bentchainring"}, "edited": false, "score": 0, "creation_date": 1473704353, "post_id": 39443117, "comment_id": 66233870, "body": "I left the elsif in there because there may be other types of references in the future. I see what Im missing now, based on this answer and the one below. Apparently, because the string itself is not a reference ref() returns zero or false, not a type string. Thank you."}, {"owner": {"reputation": 53041, "user_id": 4653379, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/b3953dbedd0dabff5cbc3db9b0835b14?s=128&d=identicon&r=PG&f=1", "display_name": "zdim", "link": "https://stackoverflow.com/users/4653379/zdim"}, "reply_to_user": {"reputation": 156, "user_id": 5948263, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/7141f7d1e3669e2cbd99fea6fb2f05b2?s=128&d=identicon&r=PG&f=1", "display_name": "BentChainRing", "link": "https://stackoverflow.com/users/5948263/bentchainring"}, "edited": false, "score": 0, "creation_date": 1473704824, "post_id": 39443117, "comment_id": 66234108, "body": "@BentChainRing OK, good practice.  Then you can test for the string by <code>elsif (not $tmp) { }</code>, since it is the only case where <code>ref</code> returns a false (empty string).  Then you&#39;d have <code>else { }</code> for detecting references to yet other types in the future (or spell them out in a sequence of specific <code>elsif</code>)."}, {"owner": {"reputation": 53041, "user_id": 4653379, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/b3953dbedd0dabff5cbc3db9b0835b14?s=128&d=identicon&r=PG&f=1", "display_name": "zdim", "link": "https://stackoverflow.com/users/4653379/zdim"}, "reply_to_user": {"reputation": 156, "user_id": 5948263, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/7141f7d1e3669e2cbd99fea6fb2f05b2?s=128&d=identicon&r=PG&f=1", "display_name": "BentChainRing", "link": "https://stackoverflow.com/users/5948263/bentchainring"}, "edited": false, "score": 0, "creation_date": 1473706182, "post_id": 39443117, "comment_id": 66234811, "body": "@BentChainRing  Thanks again for the comment, that is of course better practice.  I got misled by the question&#39;s statement that it is only one of the two (and wanted to convey the basic point).  Adjusted the answer."}], "tags": [], "owner": {"reputation": 53041, "user_id": 4653379, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/b3953dbedd0dabff5cbc3db9b0835b14?s=128&d=identicon&r=PG&f=1", "display_name": "zdim", "link": "https://stackoverflow.com/users/4653379/zdim"}, "is_accepted": true, "score": 5, "last_activity_date": 1474267430, "last_edit_date": 1474267430, "creation_date": 1473652270, "answer_id": 39443117, "question_id": 39443078, "link": "https://stackoverflow.com/questions/39443078/detecting-element-types-in-a-mixed-array/39443117#39443117", "title": "Detecting element types in a mixed array", "body": "<p>The <a href=\"http://perldoc.perl.org/functions/ref.html\" rel=\"nofollow\"><code>ref</code></a> returns an empty string if its argument isn't a reference. Docs say</p>\n\n<blockquote>\n  <p>Returns a non-empty string if EXPR is a reference, the empty string otherwise. The value returned depends on the type of thing the reference is a reference to.</p>\n</blockquote>\n\n<p>The list that follows, which includes <code>SCALAR</code>, are the types that the <em>reference</em> can be to.</p>\n\n<p>So when it has a string it returns an empty string, which evaluates to false. If you were to know for fact that it's <code>ARRAY</code> or string, you could do</p>\n\n<pre><code>if (ref($element) eq 'ARRAY') {\n    # process the arrayref\n}\nelse { \n    # process the string\n}\n</code></pre>\n\n<p>Better check for the string (false) specifically, as you do, so to be able to detect any other types</p>\n\n<pre><code>my $ref_type = ref($element);\nif ($ref_type eq 'ARRAY') {\n    # process arrayref\n}\nelsif (not $ref_type) {  \n    # process string\n}\nelse { print \"Got type $ref_type\\n\" }\n</code></pre>\n"}, {"comments": [{"owner": {"reputation": 156, "user_id": 5948263, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/7141f7d1e3669e2cbd99fea6fb2f05b2?s=128&d=identicon&r=PG&f=1", "display_name": "BentChainRing", "link": "https://stackoverflow.com/users/5948263/bentchainring"}, "edited": false, "score": 0, "creation_date": 1473706653, "post_id": 39448511, "comment_id": 66235062, "body": "I may use that routine logic the next time I get back to this code. I have a couple of other priorities in the short term right now. Thanks for pointing out, as the other poster did, that ref() was not seeing the independent strings as references, and ref() only returns the type of <i>reference</i>."}, {"owner": {"reputation": 123805, "user_id": 622310, "user_type": "registered", "accept_rate": 33, "profile_image": "https://www.gravatar.com/avatar/8b6d35219e1808520bc238b28161e2e6?s=128&d=identicon&r=PG", "display_name": "Borodin", "link": "https://stackoverflow.com/users/622310/borodin"}, "reply_to_user": {"reputation": 156, "user_id": 5948263, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/7141f7d1e3669e2cbd99fea6fb2f05b2?s=128&d=identicon&r=PG&f=1", "display_name": "BentChainRing", "link": "https://stackoverflow.com/users/5948263/bentchainring"}, "edited": false, "score": 0, "creation_date": 1473713812, "post_id": 39448511, "comment_id": 66238536, "body": "@BentChainRing: Yes, hence the name of the operator! You may also need to know that for a reference to <i>blessed</i> data\u2014a Perl object\u2014<code>ref</code> returns the <i>class</i> that the data has been blessed into, and not the underlying data type. If you need to distinguish between the two, then the <a href=\"https://metacpan.org/pod/Scalar::Util\" rel=\"nofollow noreferrer\">Scalar::Util</a> module provides <code>blessed</code>, which returns the class into which the data has been blessed, and <code>reftype</code>, which returns the  type of the underlying data in the same way as <code>ref</code>."}], "tags": [], "owner": {"reputation": 123805, "user_id": 622310, "user_type": "registered", "accept_rate": 33, "profile_image": "https://www.gravatar.com/avatar/8b6d35219e1808520bc238b28161e2e6?s=128&d=identicon&r=PG", "display_name": "Borodin", "link": "https://stackoverflow.com/users/622310/borodin"}, "is_accepted": false, "score": 4, "last_activity_date": 1473714339, "last_edit_date": 1473714339, "creation_date": 1473676971, "answer_id": 39448511, "question_id": 39443078, "link": "https://stackoverflow.com/questions/39443078/detecting-element-types-in-a-mixed-array/39448511#39448511", "title": "Detecting element types in a mixed array", "body": "\n\n<p>All of this is documented in <a href=\"http://perldoc.perl.org/functions/ref.html\" rel=\"nofollow\"><code>perldoc perlfunc</code> under <code>ref</code></a></p>\n\n<p><code>ref</code> returns a <em>false</em> value if its parameter isn't a reference. It will return <code>SCALAR</code> only if the parameter is a <em>reference to</em> a scalar</p>\n\n<p>You may also need to know that for a reference to <em>blessed</em> data\u2014a Perl object\u2014<code>ref</code> returns the <em>class</em> that the data has been blessed into, and not the underlying data type. If you need to distinguish between the two, then the core <a href=\"https://metacpan.org/pod/Scalar::Util\" rel=\"nofollow\"><code>Scalar::Util</code></a> module provides <code>blessed</code>, which returns the class into which the data has been blessed, and <code>reftype</code>, which returns the  type of the underlying data in the same way as <code>ref</code></p>\n\n<p>You could make your <code>foobar</code> recursive to process an indefinitely-nested data structure, like this</p>\n\n<pre class=\"lang-perl prettyprint-override\"><code>use strict;\nuse warnings 'all';\nuse feature 'say';\n\nmy @array = (\n    \"string1\", [ \"ele1_arraystr1\", \"ele1_arraystr2\" ],\n    \"string2\", [ \"ele4_arraystr1\", \"ele4_arraystr2\" ],\n    \"etc\",     [ \"etc1\", \"etc2\" ]\n);\n\nfoobar(\\@array);\n\nsub foobar {\n    my ($val, $indent) = (@_);\n    $indent //= 0;\n    my $ref = ref $val;\n\n    if ( $ref eq 'ARRAY' ) {\n        foobar($_, $indent+1) for @$val;\n    }\n    elsif ( not $ref ) {\n        say '  ' x $indent, $val;\n    }\n}\n</code></pre>\n\n<h3>output</h3>\n\n<pre class=\"lang-none prettyprint-override\"><code>  string1\n    ele1_arraystr1\n    ele1_arraystr2\n  string2\n    ele4_arraystr1\n    ele4_arraystr2\n  etc\n    etc1\n    etc2\n</code></pre>\n\n<p>Alternatively, if your array always consists of alternating strings and array references, you may find it easier to just assign it to a hash. That would use the strings as hash keys with their corresponding array references as hash values</p>\n\n<p>This code shows the idea. I have used <code>Data::Dump</code> to reveal the resulting data structure</p>\n\n<pre class=\"lang-perl prettyprint-override\"><code>my %data = @array;\n\nuse Data::Dump;\ndd \\%data;\n</code></pre>\n\n<h3>output</h3>\n\n<pre class=\"lang-perl prettyprint-override\"><code>{\n  etc =&gt; [\"etc1\", \"etc2\"],\n  string1 =&gt; [\"ele1_arraystr1\", \"ele1_arraystr2\"],\n  string2 =&gt; [\"ele4_arraystr1\", \"ele4_arraystr2\"],\n}\n</code></pre>\n"}], "owner": {"reputation": 156, "user_id": 5948263, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/7141f7d1e3669e2cbd99fea6fb2f05b2?s=128&d=identicon&r=PG&f=1", "display_name": "BentChainRing", "link": "https://stackoverflow.com/users/5948263/bentchainring"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 569, "favorite_count": 0, "accepted_answer_id": 39443117, "answer_count": 2, "score": 7, "last_activity_date": 1474267430, "creation_date": 1473651909, "last_edit_date": 1473688190, "question_id": 39443078, "link": "https://stackoverflow.com/questions/39443078/detecting-element-types-in-a-mixed-array", "title": "Detecting element types in a mixed array", "body": "<p>Im working with some code that has a subroutine which includes an array reference as one of the parameters. The elements in this incoming array can be either small arrays or strings. </p>\n\n<p>I want to determine what type each element is in order to do something specific (i.e. if the element is an array, drill into it further via indexing, if the element is a string, use the string)</p>\n\n<p>I have tried using the <code>ref</code> function to interrogate each array element. It seems to work for elements that are ARRAYs, but if the element is a string, I was expecting the <code>ref</code> to return SCALAR. However <code>ref()</code> seems to return nothing. What am I doing wrong? I would think <code>ref()</code> would return something.</p>\n\n<p>Here is some sample code:</p>\n\n<pre><code>my @array = (\"string1\", \n             [\"ele1_arraystr1\", \"ele1_arraystr2\"], \n             \"string2\", \n             [\"ele4_arraystr1\", \"ele4_arraystr2\"], \n             \"etc\");\nmy $tmp;\n&amp;foobar( 30, 20, \\@array);\n\nsub foobar {\n    my($var1, $var2, $array_ref) = @_;\n    foreach $element (@$array_ref) {\n        my $tmp = ref($element);\n        print \"Array element type: $tmp\\n\";\n        if ($tmp eq 'ARRAY') {\n            print \"  ARRAY: $element-&gt;[1]\\n\";\n\n        } elsif ($tmp eq 'SCALAR') {\n            print \"  SCALAR: $element\\n\";\n        } else {\n            print \"  Unexpected type: $tmp\\n\";\n       }\n    }\n }\n</code></pre>\n\n<p>The output looks something like this:</p>\n\n<pre><code>ARRAY element test:\nArray element type: \n  Unexpected type: \nArray element type: ARRAY\n  ARRAY: ele1_arraystr2\nArray element type: \n  Unexpected type: \nArray element type: ARRAY\n  ARRAY: ele4_arraystr2\nArray element type: \n  Unexpected type: \n</code></pre>\n"}, {"tags": ["perl", "output", "recovery"], "answers": [{"comments": [{"owner": {"reputation": 244, "user_id": 6797650, "user_type": "registered", "accept_rate": 69, "profile_image": "https://www.gravatar.com/avatar/ba292a35e8ce6a4517c2d8594bb706cd?s=128&d=identicon&r=PG&f=1", "display_name": "J. Linne", "link": "https://stackoverflow.com/users/6797650/j-linne"}, "edited": false, "score": 0, "creation_date": 1473644016, "post_id": 39442090, "comment_id": 66206806, "body": "I was using Windows, so what does that mean the same thing?"}, {"owner": {"reputation": 66, "user_id": 5147049, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/842755708ed479d8408bb37b906a7217?s=128&d=identicon&r=PG&f=1", "display_name": "d4l", "link": "https://stackoverflow.com/users/5147049/d4l"}, "reply_to_user": {"reputation": 244, "user_id": 6797650, "user_type": "registered", "accept_rate": 69, "profile_image": "https://www.gravatar.com/avatar/ba292a35e8ce6a4517c2d8594bb706cd?s=128&d=identicon&r=PG&f=1", "display_name": "J. Linne", "link": "https://stackoverflow.com/users/6797650/j-linne"}, "edited": false, "score": 1, "creation_date": 1473645052, "post_id": 39442090, "comment_id": 66206990, "body": "@J.Linne I&#39;m not familiar with Windows, but seems you can use <code>start</code> alternative to <code>nohup</code> according to <a href=\"http://superuser.com/questions/1021953/how-to-run-a-task-in-background-in-windows\">nohup - How to run a task in background in windows - Super User</a> and <a href=\"http://stackoverflow.com/questions/3382082/whats-the-nohup-on-windows\">What&#39;s the nohup on Windows? - Stack Overflow</a>"}], "tags": [], "owner": {"reputation": 66, "user_id": 5147049, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/842755708ed479d8408bb37b906a7217?s=128&d=identicon&r=PG&f=1", "display_name": "d4l", "link": "https://stackoverflow.com/users/5147049/d4l"}, "is_accepted": false, "score": 3, "last_activity_date": 1473641693, "creation_date": 1473641693, "answer_id": 39442090, "question_id": 39442054, "link": "https://stackoverflow.com/questions/39442054/how-to-recover-information-on-a-exited-terminal-in-perl/39442090#39442090", "title": "How to recover information on a exited terminal in Perl", "body": "<p>If you are using Linux, all text print to screen in the terminal will be lost when the connection to shell closed.</p>\n\n<p>To avoid this, two suggestions:</p>\n\n<ol>\n<li>use <a href=\"https://tmux.github.io/\" rel=\"nofollow\">tmux</a>, which is a tool keeps your connection as a services, so next time when you connect to tmux service, everything restores (unless your computer is rebooted). And it is a powerful tool to provide you high effecience under terminal.</li>\n<li>use <code>nohup</code> command, like: <code>nohup your_script &amp;</code> to keep everything running in background even connection to shell is closed.</li>\n</ol>\n"}], "owner": {"reputation": 244, "user_id": 6797650, "user_type": "registered", "accept_rate": 69, "profile_image": "https://www.gravatar.com/avatar/ba292a35e8ce6a4517c2d8594bb706cd?s=128&d=identicon&r=PG&f=1", "display_name": "J. Linne", "link": "https://stackoverflow.com/users/6797650/j-linne"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 47, "favorite_count": 0, "answer_count": 1, "score": 1, "last_activity_date": 1473641693, "creation_date": 1473641258, "question_id": 39442054, "link": "https://stackoverflow.com/questions/39442054/how-to-recover-information-on-a-exited-terminal-in-perl", "title": "How to recover information on a exited terminal in Perl", "body": "<p>I just now executed a perl command and printed the output on the terminal. Trying to cut/paste the output, I accidentally clicked \"close\" in the left icon bar instead of \"Edit\". Does that mean the printed information is forever lost, or is there a specific directory in my computer I can use to recover the output. This was also the most recent commands I executed so if there was a log that automatically redirected output as history, is there a way I can view that log? Thanks for helping.</p>\n"}, {"tags": ["html", "forms", "perl", "www-mechanize"], "comments": [{"owner": {"reputation": 129, "user_id": 6669003, "user_type": "registered", "accept_rate": 92, "profile_image": "https://www.gravatar.com/avatar/d6d8f0db03cf2468997a8765218fea2e?s=128&d=identicon&r=PG&f=1", "display_name": "Aditya J.", "link": "https://stackoverflow.com/users/6669003/aditya-j"}, "edited": false, "score": 0, "creation_date": 1473635820, "post_id": 39440534, "comment_id": 66205374, "body": "It seems that <code>click</code> works, however, I am not moving to the next page (the button in question is a login button, so clicking it should lead to another url, right? But &#39;$ua -&gt; uri;&#39; is the same before and after clicking the button). I tried <code>my $response = $ua -&gt; click();</code> and <code>print $response</code>, which returned <code>HTML::Form::SubmitInput=HASH(0x7f8f52cdc108)</code>, which is why I think <code>click</code> worked."}, {"owner": {"reputation": 1523, "user_id": 4204037, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/ab78fa882cbf4a03c4fd2a0b92622dc5?s=128&d=identicon&r=PG&f=1", "display_name": "bytepusher", "link": "https://stackoverflow.com/users/4204037/bytepusher"}, "edited": false, "score": 0, "creation_date": 1473643076, "post_id": 39440534, "comment_id": 66206641, "body": "Does your Mechanize object have cookies? consider doing <code>my $mech = WWW::Mechanize-&gt;new(       cookie_jar =&gt; HTTP::Cookies-&gt;new( file =&gt; &quot;$ENV{HOME}&#47;.cookies.txt&quot; )       );</code> to get cookies. It seems highly unlikely you could login without."}, {"owner": {"reputation": 123805, "user_id": 622310, "user_type": "registered", "accept_rate": 33, "profile_image": "https://www.gravatar.com/avatar/8b6d35219e1808520bc238b28161e2e6?s=128&d=identicon&r=PG", "display_name": "Borodin", "link": "https://stackoverflow.com/users/622310/borodin"}, "reply_to_user": {"reputation": 1523, "user_id": 4204037, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/ab78fa882cbf4a03c4fd2a0b92622dc5?s=128&d=identicon&r=PG&f=1", "display_name": "bytepusher", "link": "https://stackoverflow.com/users/4204037/bytepusher"}, "edited": false, "score": 0, "creation_date": 1473676125, "post_id": 39440534, "comment_id": 66217960, "body": "@bytepusher: The <code>WWW::Mechanize</code> constructor by default behaves as if you had passed the option <code>cookie_jar =&gt; {}</code>, which creates an in-memory <code>HTTP::Cookies</code> object."}, {"owner": {"reputation": 129, "user_id": 6669003, "user_type": "registered", "accept_rate": 92, "profile_image": "https://www.gravatar.com/avatar/d6d8f0db03cf2468997a8765218fea2e?s=128&d=identicon&r=PG&f=1", "display_name": "Aditya J.", "link": "https://stackoverflow.com/users/6669003/aditya-j"}, "reply_to_user": {"reputation": 1523, "user_id": 4204037, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/ab78fa882cbf4a03c4fd2a0b92622dc5?s=128&d=identicon&r=PG&f=1", "display_name": "bytepusher", "link": "https://stackoverflow.com/users/4204037/bytepusher"}, "edited": false, "score": 0, "creation_date": 1473710015, "post_id": 39440534, "comment_id": 66236731, "body": "Pasting what @bytepusher recommends into my code returns: <code>Can&#39;t locate object method &quot;new&quot; via package &quot;HTTP::Cookies&quot; at test.pl line 10</code>. I&#39;m not exactly sure why. The module HTTP::Cookies is up to date on my system."}, {"owner": {"reputation": 1523, "user_id": 4204037, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/ab78fa882cbf4a03c4fd2a0b92622dc5?s=128&d=identicon&r=PG&f=1", "display_name": "bytepusher", "link": "https://stackoverflow.com/users/4204037/bytepusher"}, "edited": false, "score": 0, "creation_date": 1473712716, "post_id": 39440534, "comment_id": 66237998, "body": "Sorry, I faintly remembered having to pass one in. Guess I was wrong. Apologies!"}], "answers": [{"comments": [{"owner": {"reputation": 129, "user_id": 6669003, "user_type": "registered", "accept_rate": 92, "profile_image": "https://www.gravatar.com/avatar/d6d8f0db03cf2468997a8765218fea2e?s=128&d=identicon&r=PG&f=1", "display_name": "Aditya J.", "link": "https://stackoverflow.com/users/6669003/aditya-j"}, "edited": false, "score": 0, "creation_date": 1473636722, "post_id": 39441063, "comment_id": 66205532, "body": "Click seems to have worked, but the action the click should have done hasn&#39;t. Inspecting the html, I see that when I roll over the line from my question, there is a  <code>= $0</code> at the end, like so: <code>&lt;input type=&quot;submit&quot; class=&quot;saveButton&quot; value=&quot;Login&quot;&gt; = $0</code>. Maybe that helps? I haven&#39;t really worked with HTML in the past"}, {"owner": {"reputation": 53041, "user_id": 4653379, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/b3953dbedd0dabff5cbc3db9b0835b14?s=128&d=identicon&r=PG&f=1", "display_name": "zdim", "link": "https://stackoverflow.com/users/4653379/zdim"}, "reply_to_user": {"reputation": 129, "user_id": 6669003, "user_type": "registered", "accept_rate": 92, "profile_image": "https://www.gravatar.com/avatar/d6d8f0db03cf2468997a8765218fea2e?s=128&d=identicon&r=PG&f=1", "display_name": "Aditya J.", "link": "https://stackoverflow.com/users/6669003/aditya-j"}, "edited": false, "score": 0, "creation_date": 1473651597, "post_id": 39441063, "comment_id": 66208136, "body": "@AdityaJ.  This new info does help a little.  First, deal with cookies per comment by <a href=\"http://stackoverflow.com/users/4204037/bytepusher\">bytepusher</a>.  Next, is there more in that form with &#39;Login&#39; button? How do you do that when you go to the page manually -- do you have other fields to fill out or is there just the &#39;Login&#39; button?  Also, make sure to find out how many forms there are (by <code>$ua-&gt;forms</code>), so that you do <code>form_number</code> for the right one.  Finally, you are getting back the <code>HTML::Form</code> object -- you can interrogate that by its methods.  Or, unpack the hashref."}, {"owner": {"reputation": 129, "user_id": 6669003, "user_type": "registered", "accept_rate": 92, "profile_image": "https://www.gravatar.com/avatar/d6d8f0db03cf2468997a8765218fea2e?s=128&d=identicon&r=PG&f=1", "display_name": "Aditya J.", "link": "https://stackoverflow.com/users/6669003/aditya-j"}, "edited": false, "score": 0, "creation_date": 1473695691, "post_id": 39441063, "comment_id": 66229905, "body": "I am already able to fill the username and password fields, which are the only fields beside login in the form"}, {"owner": {"reputation": 129, "user_id": 6669003, "user_type": "registered", "accept_rate": 92, "profile_image": "https://www.gravatar.com/avatar/d6d8f0db03cf2468997a8765218fea2e?s=128&d=identicon&r=PG&f=1", "display_name": "Aditya J.", "link": "https://stackoverflow.com/users/6669003/aditya-j"}, "edited": false, "score": 0, "creation_date": 1473709851, "post_id": 39441063, "comment_id": 66236651, "body": "And that is the only form on the page"}, {"owner": {"reputation": 53041, "user_id": 4653379, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/b3953dbedd0dabff5cbc3db9b0835b14?s=128&d=identicon&r=PG&f=1", "display_name": "zdim", "link": "https://stackoverflow.com/users/4653379/zdim"}, "reply_to_user": {"reputation": 129, "user_id": 6669003, "user_type": "registered", "accept_rate": 92, "profile_image": "https://www.gravatar.com/avatar/d6d8f0db03cf2468997a8765218fea2e?s=128&d=identicon&r=PG&f=1", "display_name": "Aditya J.", "link": "https://stackoverflow.com/users/6669003/aditya-j"}, "edited": false, "score": 0, "creation_date": 1473752530, "post_id": 39441063, "comment_id": 66249701, "body": "@AdityaJ.  Good -- so did it all work in the end?  Thank you for the attribution."}], "tags": [], "owner": {"reputation": 53041, "user_id": 4653379, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/b3953dbedd0dabff5cbc3db9b0835b14?s=128&d=identicon&r=PG&f=1", "display_name": "zdim", "link": "https://stackoverflow.com/users/4653379/zdim"}, "is_accepted": true, "score": 1, "last_activity_date": 1473792362, "last_edit_date": 1473792362, "creation_date": 1473631371, "answer_id": 39441063, "question_id": 39440534, "link": "https://stackoverflow.com/questions/39440534/wwwmechanize-how-to-click-button-based-on-its-number-in-form/39441063#39441063", "title": "WWW::Mechanize: How To Click Button Based On Its Number in Form", "body": "<p>Did you try to select the appropriate form first, then call <a href=\"http://search.cpan.org/~oalders/WWW-Mechanize-1.78/lib/WWW/Mechanize.pm#$mech-%3Eclick%28_$button_[,_$x,_$y]_%29\" rel=\"nofollow\"><code>click</code></a>? It says (my emphasis) </p>\n\n<blockquote>\n  <p>Has the effect of clicking a button on the <strong>current form</strong>.</p>\n</blockquote>\n\n<p>Find which form on the page you need. Let's say it's form number 2.</p>\n\n<pre><code># $ua is the User Agent (Mechanize object), at the appropriate page\n$ua-&gt;form_number(2);\n# fill the form ...\nmy $response = $ua-&gt;click();\n</code></pre>\n\n<p>or </p>\n\n<pre><code>$ua-&gt;submit_form( \n    form_number =&gt; 2, \n    # fields =&gt; { name =&gt; $value }  # can fill it here as well\n};\n</code></pre>\n\n<p>I find <code>click</code> to be perhaps more reliable overall. </p>\n\n<p>To inspect the forms you can use <code>my @forms = $ua-&gt;forms</code>. To fill the form you can use <code>select</code> or <code>set_fields</code>, for example. See <a href=\"http://search.cpan.org/~oalders/WWW-Mechanize-1.78/lib/WWW/Mechanize.pm#FORM_METHODS\" rel=\"nofollow\"><code>Form Methods</code></a> and <a href=\"http://search.cpan.org/~oalders/WWW-Mechanize-1.78/lib/WWW/Mechanize.pm#FIELD_METHODS\" rel=\"nofollow\"><code>Field Methods</code></a>. All this operates with <a href=\"http://search.cpan.org/~gaas/HTML-Form-6.03/lib/HTML/Form.pm\" rel=\"nofollow\"><code>HTML::Form</code></a> objects so you can use its methods as well. For example,  <code>value_names</code> and <code>possible_values</code> are handy.</p>\n\n<p>If this doesn't help please give us more detail -- the web page in question would be ideal.</p>\n"}, {"tags": [], "owner": {"reputation": 123805, "user_id": 622310, "user_type": "registered", "accept_rate": 33, "profile_image": "https://www.gravatar.com/avatar/8b6d35219e1808520bc238b28161e2e6?s=128&d=identicon&r=PG", "display_name": "Borodin", "link": "https://stackoverflow.com/users/622310/borodin"}, "is_accepted": false, "score": 3, "last_activity_date": 1473635070, "creation_date": 1473635070, "answer_id": 39441486, "question_id": 39440534, "link": "https://stackoverflow.com/questions/39440534/wwwmechanize-how-to-click-button-based-on-its-number-in-form/39441486#39441486", "title": "WWW::Mechanize: How To Click Button Based On Its Number in Form", "body": "<p>Since it is the first button in the form, you can write this</p>\n\n<pre><code>$mech-&gt;click_button( n =&gt; 1 )\n</code></pre>\n\n<p>or, since it's <code>value</code> attribute is <code>Login</code>, you can do this</p>\n\n<pre><code>$mech-&gt;click_button( value =&gt; 'Login' )\n</code></pre>\n\n<p>But since it is the only button in the form, just</p>\n\n<pre><code>$mech-&gt;click\n</code></pre>\n\n<p>should work fine</p>\n"}], "owner": {"reputation": 129, "user_id": 6669003, "user_type": "registered", "accept_rate": 92, "profile_image": "https://www.gravatar.com/avatar/d6d8f0db03cf2468997a8765218fea2e?s=128&d=identicon&r=PG&f=1", "display_name": "Aditya J.", "link": "https://stackoverflow.com/users/6669003/aditya-j"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 925, "favorite_count": 0, "accepted_answer_id": 39441063, "answer_count": 2, "score": 1, "last_activity_date": 1473792362, "creation_date": 1473627154, "last_edit_date": 1473710237, "question_id": 39440534, "link": "https://stackoverflow.com/questions/39440534/wwwmechanize-how-to-click-button-based-on-its-number-in-form", "title": "WWW::Mechanize: How To Click Button Based On Its Number in Form", "body": "<p>There is a button on a website at the end of a form that I cannot seem to click with WWW::Mechanize. Here is the bit of HTML pertaining to this button:</p>\n\n<pre><code>&lt;input type=\"submit\" class=\"saveButton\" value=\"Login\"&gt;\n</code></pre>\n\n<p>When I <code>print $mech-&gt;find_all_inputs();</code>, I get return this:</p>\n\n<pre><code>HTML::Form::TextInput=HASH(0x7f8f52cdc450)\nHTML::Form::TextInput=HASH(0x7f8f5302b488)\nHTML::Form::SubmitInput=HASH(0x7f8f52cdc108)\n</code></pre>\n\n<p>The third one is the one I want to click. I'm not exactly sure how to click this button even though I've found it. I tried <code>click(field(n =&gt; 3))</code>, I tried assigning a variable $submit to <code>find_all_inputs(3)</code>, then <code>click($submit);</code>, and no matter what, this button is not clicked.</p>\n\n<p>Can anyone guide me as to how to click this elusive button?</p>\n\n<blockquote>\n  <p><strong>Edit</strong> (after question answered)</p>\n</blockquote>\n\n<p>Interrogating the HTML form found I was actually entering the password for the login into the 'Forgot my Password' field of the form. Why this field was not coming up for <code>$mech-&gt;find_all_inputs()</code>, I don't know since \"Login\" was. Either way, clicking the button takes me to the next page. Thanks!</p>\n"}, {"tags": ["perl", "hash"], "comments": [{"owner": {"reputation": 48798, "user_id": 223226, "user_type": "registered", "accept_rate": 93, "profile_image": "https://i.stack.imgur.com/iGqE4.png?s=128&g=1", "display_name": "mpapec", "link": "https://stackoverflow.com/users/223226/mpapec"}, "edited": false, "score": 3, "creation_date": 1473617409, "post_id": 39439071, "comment_id": 66200715, "body": "<a href=\"https://eval.in/639754\" rel=\"nofollow noreferrer\">eval.in/639754</a> (possible memory leak =&gt; <a href=\"https://metacpan.org/pod/Scalar::Util#weaken\" rel=\"nofollow noreferrer\">metacpan.org/pod/Scalar::Util#weaken</a>)"}, {"owner": {"reputation": 4398, "user_id": 2012715, "user_type": "registered", "accept_rate": 66, "profile_image": "https://www.gravatar.com/avatar/0a04a0851dba37de648917cf0abea9b8?s=128&d=identicon&r=PG", "display_name": "Dmitry", "link": "https://stackoverflow.com/users/2012715/dmitry"}, "reply_to_user": {"reputation": 48798, "user_id": 223226, "user_type": "registered", "accept_rate": 93, "profile_image": "https://i.stack.imgur.com/iGqE4.png?s=128&g=1", "display_name": "mpapec", "link": "https://stackoverflow.com/users/223226/mpapec"}, "edited": false, "score": 0, "creation_date": 1473618619, "post_id": 39439071, "comment_id": 66201058, "body": "@\u0421\u0443\u0445\u043e\u043927 it&#39;s lets the scope not be bound to a specific object, so I am free to rename the $object from $object to $object2 without needing to change internal code. I am having a bit of a struggle understanding your second comment. Interesting comment about memory leak though. Circular references in Perl are more problematic than in JavaScript since it uses reference counting, rather than mark and sweep."}, {"owner": {"reputation": 48798, "user_id": 223226, "user_type": "registered", "accept_rate": 93, "profile_image": "https://i.stack.imgur.com/iGqE4.png?s=128&g=1", "display_name": "mpapec", "link": "https://stackoverflow.com/users/223226/mpapec"}, "edited": false, "score": 0, "creation_date": 1473620253, "post_id": 39439071, "comment_id": 66201539, "body": "It is possible to end up with hash not being released when <code>$object</code> goes out of scope. I&#39;m not sure why you would like to avoid packages; <a href=\"https://eval.in/639768\" rel=\"nofollow noreferrer\">eval.in/639768</a>"}, {"owner": {"reputation": 4398, "user_id": 2012715, "user_type": "registered", "accept_rate": 66, "profile_image": "https://www.gravatar.com/avatar/0a04a0851dba37de648917cf0abea9b8?s=128&d=identicon&r=PG", "display_name": "Dmitry", "link": "https://stackoverflow.com/users/2012715/dmitry"}, "reply_to_user": {"reputation": 48798, "user_id": 223226, "user_type": "registered", "accept_rate": 93, "profile_image": "https://i.stack.imgur.com/iGqE4.png?s=128&g=1", "display_name": "mpapec", "link": "https://stackoverflow.com/users/223226/mpapec"}, "edited": false, "score": 0, "creation_date": 1473620346, "post_id": 39439071, "comment_id": 66201571, "body": "@\u0421\u0443\u0445\u043e\u043927 my concern with packages is that I can&#39;t seem to create packages at runtime, but I can create hash tables at runtime, so they seem more flexible an easier to inspect. Also, I can&#39;t create Perl Object Notation around packages, but I can with maps, so I can serialize objects/deserialize objects but I don&#39;t think I can do this with packages since I can&#39;t have a function create a package with variable package name. Also, I don&#39;t know how to &quot;remove&quot; a package once I declare it, whereas maps can be released when they leave scope."}, {"owner": {"reputation": 48798, "user_id": 223226, "user_type": "registered", "accept_rate": 93, "profile_image": "https://i.stack.imgur.com/iGqE4.png?s=128&g=1", "display_name": "mpapec", "link": "https://stackoverflow.com/users/223226/mpapec"}, "edited": false, "score": 1, "creation_date": 1473620927, "post_id": 39439071, "comment_id": 66201744, "body": "You can add package methods at compile time: <a href=\"http://stackoverflow.com/a/28373893/223226\">stackoverflow.com/a/28373893/223226</a> (<code>&#39;If you don&#39;t know the name at compile time&#39;</code> part)"}, {"owner": {"reputation": 8273, "user_id": 1334695, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/431ae6e9f7610b9d6a6a6cdebd0244d5?s=128&d=identicon&r=PG", "display_name": "stevieb", "link": "https://stackoverflow.com/users/1334695/stevieb"}, "edited": false, "score": 0, "creation_date": 1473621144, "post_id": 39439071, "comment_id": 66201798, "body": "You can also just send in the <code>$object</code> into your call: <code>$object-&gt;{code3}-&gt;($object);</code>. This&#39;ll work, and won&#39;t require any internal changes, but if you change the obj name, you&#39;ll have to update the name of the param in the sub call"}, {"owner": {"reputation": 4398, "user_id": 2012715, "user_type": "registered", "accept_rate": 66, "profile_image": "https://www.gravatar.com/avatar/0a04a0851dba37de648917cf0abea9b8?s=128&d=identicon&r=PG", "display_name": "Dmitry", "link": "https://stackoverflow.com/users/2012715/dmitry"}, "edited": false, "score": 0, "creation_date": 1473621697, "post_id": 39439071, "comment_id": 66201979, "body": "$stevieb I was considering that, it works but has repeated $object in it which looks funny. It would look stranger if the map was inside three indirections of maps, and you&#39;d need to either create a temporary variable to refer to the $object, or have a duplicate of something like <code>$object-&gt;{object2}-&gt;{object3}-&gt;{coderef}-&gt;($object-&gt;{object2&zwnj;&#8203;}-&gt;{object3})</code>. I guess that&#39;s fine with an anonymous scope."}], "answers": [{"comments": [{"owner": {"reputation": 4398, "user_id": 2012715, "user_type": "registered", "accept_rate": 66, "profile_image": "https://www.gravatar.com/avatar/0a04a0851dba37de648917cf0abea9b8?s=128&d=identicon&r=PG", "display_name": "Dmitry", "link": "https://stackoverflow.com/users/2012715/dmitry"}, "edited": false, "score": 0, "creation_date": 1473626122, "post_id": 39440258, "comment_id": 66203131, "body": "Is there any reading I can read to see a list of differences between a package(something I don&#39;t really understand), and a hashes(something I don&#39;t understand less)? packages are really strange to me; I know how to go through keys in a hash, but how do I go through members of a package? I know how to check types of hash members, but how do I check types of package members?"}, {"owner": {"reputation": 4398, "user_id": 2012715, "user_type": "registered", "accept_rate": 66, "profile_image": "https://www.gravatar.com/avatar/0a04a0851dba37de648917cf0abea9b8?s=128&d=identicon&r=PG", "display_name": "Dmitry", "link": "https://stackoverflow.com/users/2012715/dmitry"}, "edited": false, "score": 0, "creation_date": 1473626590, "post_id": 39440258, "comment_id": 66203255, "body": "Another thing is I have no idea how to check type of a &quot;sub a{}&quot; non reference that is in another package, or how to add a sub b{} non reference to another package from outside the package b is defined into(is this even possible?)"}, {"owner": {"reputation": 4398, "user_id": 2012715, "user_type": "registered", "accept_rate": 66, "profile_image": "https://www.gravatar.com/avatar/0a04a0851dba37de648917cf0abea9b8?s=128&d=identicon&r=PG", "display_name": "Dmitry", "link": "https://stackoverflow.com/users/2012715/dmitry"}, "edited": false, "score": 0, "creation_date": 1473627637, "post_id": 39440258, "comment_id": 66203535, "body": "Thanks for the elaborate answer, this is far from idiomatic question, I was mainly interested in how to reproduce JavaScript-like evaluatable-module behavior &quot;Perl Object Notation&quot;(eg read .pl file with an anonymous function that returns a list or a hash, and eval it into the ref type and use it to create objects using its internal &quot;coderefs&quot;). Perl is available on all unix-like systems, but nodejs isn&#39;t so I want to know how much concepts in js can be expressed with Perl)."}, {"owner": {"reputation": 61508, "user_id": 78259, "user_type": "registered", "accept_rate": 53, "profile_image": "https://www.gravatar.com/avatar/844c572938eaad1e44eb084fb39416f9?s=128&d=identicon&r=PG", "display_name": "Chas. Owens", "link": "https://stackoverflow.com/users/78259/chas-owens"}, "reply_to_user": {"reputation": 4398, "user_id": 2012715, "user_type": "registered", "accept_rate": 66, "profile_image": "https://www.gravatar.com/avatar/0a04a0851dba37de648917cf0abea9b8?s=128&d=identicon&r=PG", "display_name": "Dmitry", "link": "https://stackoverflow.com/users/2012715/dmitry"}, "edited": false, "score": 0, "creation_date": 1473627755, "post_id": 39440258, "comment_id": 66203563, "body": "The <a href=\"http://perldoc.perl.org/perlmod.html\" rel=\"nofollow noreferrer\">perlmod</a> and <a href=\"http://perldoc.perl.org/perlobj.html\" rel=\"nofollow noreferrer\">perlobj</a> documentation goes pretty in depth about modules/packages.  Hashes are covered in <a href=\"http://perldoc.perl.org/perldata.html\" rel=\"nofollow noreferrer\">perldata</a>.  You may be better served getting a copy of <a href=\"https://rads.stackoverflow.com/amzn/click/com/0596004923\" rel=\"nofollow noreferrer\" rel=\"nofollow noreferrer\">Programming Perl</a> though."}, {"owner": {"reputation": 61508, "user_id": 78259, "user_type": "registered", "accept_rate": 53, "profile_image": "https://www.gravatar.com/avatar/844c572938eaad1e44eb084fb39416f9?s=128&d=identicon&r=PG", "display_name": "Chas. Owens", "link": "https://stackoverflow.com/users/78259/chas-owens"}, "reply_to_user": {"reputation": 4398, "user_id": 2012715, "user_type": "registered", "accept_rate": 66, "profile_image": "https://www.gravatar.com/avatar/0a04a0851dba37de648917cf0abea9b8?s=128&d=identicon&r=PG", "display_name": "Dmitry", "link": "https://stackoverflow.com/users/2012715/dmitry"}, "edited": false, "score": 0, "creation_date": 1473627788, "post_id": 39440258, "comment_id": 66203571, "body": "I don&#39;t understand your &quot;another thing&quot; quesiton."}, {"owner": {"reputation": 4398, "user_id": 2012715, "user_type": "registered", "accept_rate": 66, "profile_image": "https://www.gravatar.com/avatar/0a04a0851dba37de648917cf0abea9b8?s=128&d=identicon&r=PG", "display_name": "Dmitry", "link": "https://stackoverflow.com/users/2012715/dmitry"}, "edited": false, "score": 0, "creation_date": 1473627989, "post_id": 39440258, "comment_id": 66203638, "body": "I meant <code>sub foo { print &#39;hi&#39;; }</code> Is it possible to check the type of foo? and if its possible to define a  <code>sub A::foo { print &#39;hi&#39;; }</code> from outside the package A, e.g. assign A::foo as a sub(not a subref) from main package."}, {"owner": {"reputation": 61508, "user_id": 78259, "user_type": "registered", "accept_rate": 53, "profile_image": "https://www.gravatar.com/avatar/844c572938eaad1e44eb084fb39416f9?s=128&d=identicon&r=PG", "display_name": "Chas. Owens", "link": "https://stackoverflow.com/users/78259/chas-owens"}, "reply_to_user": {"reputation": 4398, "user_id": 2012715, "user_type": "registered", "accept_rate": 66, "profile_image": "https://www.gravatar.com/avatar/0a04a0851dba37de648917cf0abea9b8?s=128&d=identicon&r=PG", "display_name": "Dmitry", "link": "https://stackoverflow.com/users/2012715/dmitry"}, "edited": false, "score": 0, "creation_date": 1473628061, "post_id": 39440258, "comment_id": 66203657, "body": "Perl 5 does not provide a good way to serialize methods.  Data serializes just fine (use <a href=\"http://search.cpan.org/dist/JSON/lib/JSON.pm\" rel=\"nofollow noreferrer\">JSON</a>, <a href=\"http://search.cpan.org/dist/YAML-LibYAML/lib/YAML/XS.pod\" rel=\"nofollow noreferrer\">YAML</a>, etc), but methods are trickier.  The biggest problem is closures.  There is no way make that work right in any language I know of."}, {"owner": {"reputation": 4398, "user_id": 2012715, "user_type": "registered", "accept_rate": 66, "profile_image": "https://www.gravatar.com/avatar/0a04a0851dba37de648917cf0abea9b8?s=128&d=identicon&r=PG", "display_name": "Dmitry", "link": "https://stackoverflow.com/users/2012715/dmitry"}, "edited": false, "score": 0, "creation_date": 1473628215, "post_id": 39440258, "comment_id": 66203701, "body": "serializing objects back is something JavaScript doesn&#39;t support out of the box neither &quot;uneval&quot; is not universally supported, but I have successfully implemented it with reading each key in the object and recursively parsed it based on its type(in js, functions have a toString which returns the function code so you can put an object back into the file after, creating &quot;living&quot; modules). Sadly Perl does not support getting string representation of code &quot;back&quot; from runtime, but my issue was based on evaluation rather than stringification, which perl does equally well."}, {"owner": {"reputation": 61508, "user_id": 78259, "user_type": "registered", "accept_rate": 53, "profile_image": "https://www.gravatar.com/avatar/844c572938eaad1e44eb084fb39416f9?s=128&d=identicon&r=PG", "display_name": "Chas. Owens", "link": "https://stackoverflow.com/users/78259/chas-owens"}, "reply_to_user": {"reputation": 4398, "user_id": 2012715, "user_type": "registered", "accept_rate": 66, "profile_image": "https://www.gravatar.com/avatar/0a04a0851dba37de648917cf0abea9b8?s=128&d=identicon&r=PG", "display_name": "Dmitry", "link": "https://stackoverflow.com/users/2012715/dmitry"}, "edited": false, "score": 1, "creation_date": 1473628369, "post_id": 39440258, "comment_id": 66203739, "body": "Yes, and it is literally that syntax: &quot;sub PACKAGE::SUBNAME {}&quot;. You can say that anywhere and it will create a funciton named SUBNAME in PACKAGE. You can even redefine existing subroutines (but you might want to say <code>no warnings &quot;redefine&quot;</code> first or you will get a warning).  If you want to redefine a function, but still call the existing function, you can grab the old coderef with a typeglob first: <code>my $old = *PACKAGE::SUBNAME{CODE};</code> you can then call it just like a normal coderef: <code>$old-&gt;();</code>."}, {"owner": {"reputation": 61508, "user_id": 78259, "user_type": "registered", "accept_rate": 53, "profile_image": "https://www.gravatar.com/avatar/844c572938eaad1e44eb084fb39416f9?s=128&d=identicon&r=PG", "display_name": "Chas. Owens", "link": "https://stackoverflow.com/users/78259/chas-owens"}, "reply_to_user": {"reputation": 4398, "user_id": 2012715, "user_type": "registered", "accept_rate": 66, "profile_image": "https://www.gravatar.com/avatar/0a04a0851dba37de648917cf0abea9b8?s=128&d=identicon&r=PG", "display_name": "Dmitry", "link": "https://stackoverflow.com/users/2012715/dmitry"}, "edited": false, "score": 1, "creation_date": 1473628604, "post_id": 39440258, "comment_id": 66203795, "body": "Well, Perl 5 does sort of allow you to get the code back as a string.  You can translate the opcodes back into readable Perl 5.  Take a look at <a href=\"http://perldoc.perl.org/Data/Dumper.html\" rel=\"nofollow noreferrer\">Data::Dumper</a>&#39;s $Data::Dumper::Deparse option: <code>perl -MData::Dumper -E &#39;$Data::Dumper::Deparse = 1; print Dumper sub { my $foo = 5; say $foo }&#39;</code>.  The downside is it can&#39;t fixup closures and there is some code loss/translation due to the compile phase."}, {"owner": {"reputation": 4398, "user_id": 2012715, "user_type": "registered", "accept_rate": 66, "profile_image": "https://www.gravatar.com/avatar/0a04a0851dba37de648917cf0abea9b8?s=128&d=identicon&r=PG", "display_name": "Dmitry", "link": "https://stackoverflow.com/users/2012715/dmitry"}, "edited": false, "score": 0, "creation_date": 1473629049, "post_id": 39440258, "comment_id": 66203889, "body": "It&#39;s just really nice to be able to do stuff like &quot;<a href=\"http://hastebin.com/jabanuxeyu.coffee\" rel=\"nofollow noreferrer\">hastebin.com/jabanuxeyu.coffee</a>&quot; (I call it jace since it&#39;s unsafe json). JS also doesn&#39;t stringify to perfectly evaluated js and needs have brackets added around it. Perl equivalent is <a href=\"http://hastebin.com/domevifege.pl\" rel=\"nofollow noreferrer\">hastebin.com/domevifege.pl</a> &quot;closures&quot;. Which seem easier to serialize back than packages. The idea would be something like requirepl: <a href=\"http://hastebin.com/udaqeyifin.pl\" rel=\"nofollow noreferrer\">hastebin.com/udaqeyifin.pl</a>."}, {"owner": {"reputation": 4398, "user_id": 2012715, "user_type": "registered", "accept_rate": 66, "profile_image": "https://www.gravatar.com/avatar/0a04a0851dba37de648917cf0abea9b8?s=128&d=identicon&r=PG", "display_name": "Dmitry", "link": "https://stackoverflow.com/users/2012715/dmitry"}, "edited": false, "score": 0, "creation_date": 1473634288, "post_id": 39440258, "comment_id": 66205093, "body": "Ok this is really cool: I made a repository to collect what I have so far: <a href=\"https://github.com/dmitrymakhnin/nodepl\" rel=\"nofollow noreferrer\">github.com/dmitrymakhnin/nodepl</a>."}, {"owner": {"reputation": 4398, "user_id": 2012715, "user_type": "registered", "accept_rate": 66, "profile_image": "https://www.gravatar.com/avatar/0a04a0851dba37de648917cf0abea9b8?s=128&d=identicon&r=PG", "display_name": "Dmitry", "link": "https://stackoverflow.com/users/2012715/dmitry"}, "edited": false, "score": 0, "creation_date": 1473637901, "post_id": 39440258, "comment_id": 66205746, "body": "Owers oooh so that&#39;s what * does, you can indeed redefine subs by setting <code>*mysub = sub { print &quot;hi&quot;; };</code> or get it&#39;s reference by <code>$a = *mysub;</code>. No idea why ref($a) isn&#39;t CODE though."}, {"owner": {"reputation": 320771, "user_id": 589924, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/b2cf53d5a3d25f95c0db4e025aed4153?s=128&d=identicon&r=PG", "display_name": "ikegami", "link": "https://stackoverflow.com/users/589924/ikegami"}, "edited": false, "score": 0, "creation_date": 1473638937, "post_id": 39440258, "comment_id": 66205925, "body": "Actually, you do want to redirect DESTROY too in this case"}, {"owner": {"reputation": 61508, "user_id": 78259, "user_type": "registered", "accept_rate": 53, "profile_image": "https://www.gravatar.com/avatar/844c572938eaad1e44eb084fb39416f9?s=128&d=identicon&r=PG", "display_name": "Chas. Owens", "link": "https://stackoverflow.com/users/78259/chas-owens"}, "edited": false, "score": 0, "creation_date": 1473641102, "post_id": 39440258, "comment_id": 66206294, "body": "Sort of, <code>*mysub</code> is a typeglob.  That is why <code>ref</code> says GLOB for the type.  Typeglobs can be used to manipulate the symbol table for any of the other types.  So <code>$mysub</code>, <code>@mysub</code>, <code>%mysub</code>, and <code>&amp;mysub</code> (in addition to some others) are all accessible through <code>*mysub</code>.  If you want just the coderef, you use the <a href=\"http://perldoc.perl.org/perlref.html\" rel=\"nofollow noreferrer\">THING syntax</a> (that is its actual name): <code>perl -E &#39;sub Foo::bar {}; say ref *Foo::bar{CODE}</code>.  Likewise, you can get at the arrayref with <code>*Foo::bar{ARRAY}</code> and so on."}, {"owner": {"reputation": 61508, "user_id": 78259, "user_type": "registered", "accept_rate": 53, "profile_image": "https://www.gravatar.com/avatar/844c572938eaad1e44eb084fb39416f9?s=128&d=identicon&r=PG", "display_name": "Chas. Owens", "link": "https://stackoverflow.com/users/78259/chas-owens"}, "reply_to_user": {"reputation": 320771, "user_id": 589924, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/b2cf53d5a3d25f95c0db4e025aed4153?s=128&d=identicon&r=PG", "display_name": "ikegami", "link": "https://stackoverflow.com/users/589924/ikegami"}, "edited": false, "score": 0, "creation_date": 1473641431, "post_id": 39440258, "comment_id": 66206356, "body": "@ikegami Doesn&#39;t that depend on what you want <code>DESTROY</code> to do?  I usually don&#39;t have special code in <code>DESTROY</code>, so I don&#39;t want the <code>AUTOLOAD</code> function grabbing it.  You could always create the object with <code>{ symtab =&gt; { DESTROY =&gt; sub {}, } }</code> instead of making it globally do nothing.  That way if a given instance of Foo needed to do something special, it could replace the default <code>DESTROY</code> method."}, {"owner": {"reputation": 61508, "user_id": 78259, "user_type": "registered", "accept_rate": 53, "profile_image": "https://www.gravatar.com/avatar/844c572938eaad1e44eb084fb39416f9?s=128&d=identicon&r=PG", "display_name": "Chas. Owens", "link": "https://stackoverflow.com/users/78259/chas-owens"}, "edited": false, "score": 0, "creation_date": 1473651307, "post_id": 39440258, "comment_id": 66208082, "body": "The &quot;you could always&quot; was instead of defining it as subroutine."}, {"owner": {"reputation": 61508, "user_id": 78259, "user_type": "registered", "accept_rate": 53, "profile_image": "https://www.gravatar.com/avatar/844c572938eaad1e44eb084fb39416f9?s=128&d=identicon&r=PG", "display_name": "Chas. Owens", "link": "https://stackoverflow.com/users/78259/chas-owens"}, "reply_to_user": {"reputation": 320771, "user_id": 589924, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/b2cf53d5a3d25f95c0db4e025aed4153?s=128&d=identicon&r=PG", "display_name": "ikegami", "link": "https://stackoverflow.com/users/589924/ikegami"}, "edited": false, "score": 0, "creation_date": 1473861688, "post_id": 39440258, "comment_id": 66302381, "body": "@ikegami what benefit is there to handling the DESTROY as a special case in the AUTOLOAD? As far as I can see it should either be treated like the other methods (except that is has to be predeclared in the <code>new</code>), or it should be moved to its own method (like I originally did).  Adding it to AUTOLOAD as just a <code>return if $method eq &quot;DESTROY&quot;;</code>  would be pointless code with no benefit."}, {"owner": {"reputation": 61508, "user_id": 78259, "user_type": "registered", "accept_rate": 53, "profile_image": "https://www.gravatar.com/avatar/844c572938eaad1e44eb084fb39416f9?s=128&d=identicon&r=PG", "display_name": "Chas. Owens", "link": "https://stackoverflow.com/users/78259/chas-owens"}, "reply_to_user": {"reputation": 320771, "user_id": 589924, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/b2cf53d5a3d25f95c0db4e025aed4153?s=128&d=identicon&r=PG", "display_name": "ikegami", "link": "https://stackoverflow.com/users/589924/ikegami"}, "edited": false, "score": 0, "creation_date": 1473868083, "post_id": 39440258, "comment_id": 66306851, "body": "@ikegami I don&#39;t understand your argument. Having a DESTROY sub defined just means <code>-&gt;can(&quot;DESTROY&quot;)</code> will return a true value.  What is so horrible about that? This isn&#39;t like creating a sub named count that a subclass might have a different meaning for.  By your argument there shouldn&#39;t even be a new method.  It should be a special case of AUTOLOAD too.  That would make even more sense since the meaning of new is by convention, but the meaning of DESTROY is part of the language."}, {"owner": {"reputation": 61508, "user_id": 78259, "user_type": "registered", "accept_rate": 53, "profile_image": "https://www.gravatar.com/avatar/844c572938eaad1e44eb084fb39416f9?s=128&d=identicon&r=PG", "display_name": "Chas. Owens", "link": "https://stackoverflow.com/users/78259/chas-owens"}, "reply_to_user": {"reputation": 320771, "user_id": 589924, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/b2cf53d5a3d25f95c0db4e025aed4153?s=128&d=identicon&r=PG", "display_name": "ikegami", "link": "https://stackoverflow.com/users/589924/ikegami"}, "edited": false, "score": 0, "creation_date": 1473869695, "post_id": 39440258, "comment_id": 66307822, "body": "@ikegami &quot;Namespace pollution is a bad thing&quot; without proving there is namespace pollution isn&#39;t an argument. It is parroting something you heard once.  Show me why having a DESTROY method is namespace pollution.  It can&#39;t conflict with any other DESTROY method in a subclass (a DESTROY method has only one meaning in Perl 5).  There are no exports from this package, so it can&#39;t pollute other namespaces.  The new function is more pollution than DESTROY, but apparently you have &quot;no thoughts on the matter&quot;.  Why do you have thoughts on the matter of DESTROY?"}, {"owner": {"reputation": 320771, "user_id": 589924, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/b2cf53d5a3d25f95c0db4e025aed4153?s=128&d=identicon&r=PG", "display_name": "ikegami", "link": "https://stackoverflow.com/users/589924/ikegami"}, "edited": false, "score": 0, "creation_date": 1473870130, "post_id": 39440258, "comment_id": 66308052, "body": "Re &quot;<i>Show me why having a DESTROY method is namespace pollution</i>&quot;, Adding something to a namespace whether the user of that namespace wants it or not is the very definition of namespace pollution. /// Re &quot;<i>without proving there is namespace pollution</i>&quot;, huh? Since we&#39;re talking about the case where there is namespace pollution, it makes no sense to try to prove there is namespace pollution. Or rather, it&#39;s trivially easy."}], "tags": [], "owner": {"reputation": 61508, "user_id": 78259, "user_type": "registered", "accept_rate": 53, "profile_image": "https://www.gravatar.com/avatar/844c572938eaad1e44eb084fb39416f9?s=128&d=identicon&r=PG", "display_name": "Chas. Owens", "link": "https://stackoverflow.com/users/78259/chas-owens"}, "is_accepted": false, "score": 2, "last_activity_date": 1473627388, "last_edit_date": 1490005771, "creation_date": 1473625083, "answer_id": 39440258, "question_id": 39439071, "link": "https://stackoverflow.com/questions/39439071/perl-can-i-associate-a-code-reference-with-a-hash-reference-that-contains-it/39440258#39440258", "title": "Perl: Can I associate a CODE reference with a HASH reference that contains it?", "body": "<p>This is not the exact syntax you want, but Perl 5 supports many ways of making method calls, including <a href=\"http://perldoc.perl.org/perlobj.html#Method-Call-Variations\" rel=\"nofollow noreferrer\">method calls via strings</a>.  So you could say:</p>\n\n<pre><code>#!/usr/bin/perl\n\n{ package Foo;\n\nuse strict;\nuse warnings;\n\nsub new { bless {}, shift }\n\nsub code1 { my $self = shift; print \"$_[0]\\n\" };\nsub code2 { \"Hello, World!\" }\nsub code3 {\n    my $self = shift;\n    my $method1 = \"code1\";\n    my $method2 = \"code2\";\n    $self-&gt;$method1($self-&gt;$method2);\n}\n\n}\n\nuse strict;\nuse warnings;\n\nmy $o = Foo-&gt;new;\n\nprint \"normal call\\n\";\n$o-&gt;code3;\n\nprint \"via string\\n\";\nmy $method = \"code3\";\n$o-&gt;$method;\n</code></pre>\n\n<p>Also, remember that a <a href=\"http://perldoc.perl.org/perlmod.html\" rel=\"nofollow noreferrer\">package's symbol table is a hash</a>: <code>%Foo::</code>, so you can always go spelunking in there yourself:</p>\n\n<pre><code>#!/usr/bin/perl\n\n{ package Foo;\n\nuse strict;\nuse warnings;\n\nsub new { bless {}, shift }\n\nsub code1 { my $self = shift; print \"$_[0]\\n\" };\nsub code2 { \"Hello, World!\" }\nsub code3 {\n    my $self = shift;\n    my $method1 = \"code1\";\n    my $method2 = \"code2\";\n    $self-&gt;$method1($self-&gt;$method2);\n}\n\n}\n\nuse strict;\nuse warnings;\n\nprint $Foo::{code2}-&gt;(), \"\\n\";\n</code></pre>\n\n<p>However, I would suggest having a really code reason for these techniques as it can make maintenance a nightmare (eg imaging trying to find all of the code calling <code>Foo::approved</code>, you can't just grep for \"->approved\" because the actual call is <code>-&gt;$state()</code>).</p>\n\n<p>I just read the comments and noticed you said </p>\n\n<blockquote>\n  <p>my concern with packages is that I can't seem to create packages at runtime, but I can create hash tables at runtime</p>\n</blockquote>\n\n<p>Perl 5 does allow you to create packages at runtime.  In fact, depending on how you define runtime, you can do anything at runtime with <a href=\"http://perldoc.perl.org/functions/eval.html\" rel=\"nofollow noreferrer\">string <code>eval</code></a> as it reenters compile time when it is called. But there is also a pure-runtime method of manipulating the symbol tables with <a href=\"http://perldoc.perl.org/perlmod.html#Symbol-Tables\" rel=\"nofollow noreferrer\">typeglobs</a>:</p>\n\n<pre><code>#!/usr/bin/perl\n\n{ package Foo;\n\nuse strict;\nuse warnings;\n\nsub new { bless {}, shift }\n\n}\n\nuse strict;\nuse warnings;\n\nmy $o = Foo-&gt;new;\n\n# here we add functions at runtime to the package Foo\n{\nno warnings \"once\";\n*Foo::code1 = sub { my $self = shift; print \"$_[0]\\n\" };\n*Foo::code2 = sub { \"Hello, World!\" };\n*Foo::code3 = sub {\n    my $self = shift;\n    my $method1 = \"code1\";\n    my $method2 = \"code2\";\n    $self-&gt;$method1($self-&gt;$method2);\n};\n}\n\n$o-&gt;code3;\n</code></pre>\n\n<p>Because Perl 5 is object oriented (and not object based like JavaScript) these methods are attached to all Foo objects.  If you want individual objects have their own symbol tables, then I am there are certainly ways to do that.  Off the top of my head, <a href=\"http://perldoc.perl.org/perlsub.html#Autoloading\" rel=\"nofollow noreferrer\">AUTOLOAD</a> comes to mind:</p>\n\n<pre><code>#!/usr/bin/perl\n\n{ package Foo;\n\nuse strict;\nuse Carp;\nuse warnings;\n\nsub new {\n    bless {\n        symtab =&gt; {}\n    }, shift\n}\n\nsub AUTOLOAD {\n    my $self = shift;\n    our $AUTOLOAD;\n    my $method = $AUTOLOAD =~ s/.*:://r;\n\n    my (undef, $file, $line) = caller();\n\n    die \"$method does not exist at $file line $line\"\n        unless exists $self-&gt;{symtab}{$method};\n\n    $self-&gt;{symtab}{$method}-&gt;($self, @_);\n}\n\nsub DESTROY {} # prevent DESTROY method from being hijacked by AUTOLOAD\n\n}\n\nuse v5.22;\nuse warnings;\n\nmy $o1 = Foo-&gt;new;\nmy $o2 = Foo-&gt;new;\n\n$o1-&gt;{symtab}{inc} = sub { my $self = shift; $self-&gt;{i}++; };\n\n$o1-&gt;inc;\n$o1-&gt;inc;\n$o1-&gt;inc;\n\nsay \"inc called on o1 $o1-&gt;{i} times\";\n\n$o2-&gt;inc; #dies because we haven't defined inc for $o2 yet\n</code></pre>\n\n<p>Perl 5 is very flexible and will let you do just about anything you want (after all the motto is <a href=\"https://en.wikipedia.org/wiki/There%27s_more_than_one_way_to_do_it\" rel=\"nofollow noreferrer\">TIMTOWTDI</a>), but you should always keep in mind the future programmer tasked with maintaining your code who may want to hunt you down and wear your skin for doing some of these tricks.</p>\n\n<p>This question has a definite <a href=\"https://meta.stackexchange.com/a/66378/130036\">XY problem</a> feel.  It seems like you are trying to solve a problem in Perl 5 the same way you would have solved it in JavaScript.  While Perl 5 will let you do that (as I have demonstrated), there may be a more idiomatic way of achieving the same effect.  Can you describe what you are trying to do (not how you want to do it) in a different question and we can suggest the ways in which we would solve your problem.</p>\n"}, {"comments": [{"owner": {"reputation": 4398, "user_id": 2012715, "user_type": "registered", "accept_rate": 66, "profile_image": "https://www.gravatar.com/avatar/0a04a0851dba37de648917cf0abea9b8?s=128&d=identicon&r=PG", "display_name": "Dmitry", "link": "https://stackoverflow.com/users/2012715/dmitry"}, "edited": false, "score": 0, "creation_date": 1473626763, "post_id": 39440451, "comment_id": 66203307, "body": "I guess this is the purest approach I can use without resorting to wrappers. I was hoping there was language features allowing this kind of binding without object needing to pass itself to the coderef that is inside itself. eg, sub references act more like () =&gt; {} in javascript than function, and have no &quot;this&quot; unless you bless them into a package. I can imagine ways around this by creating a &quot;Function package&quot; that magically behaves the way I want via blessing hashes into it/or something similar, but I don&#39;t know enough Perl to express it let alone express it in a way that makes sense."}, {"owner": {"reputation": 4398, "user_id": 2012715, "user_type": "registered", "accept_rate": 66, "profile_image": "https://www.gravatar.com/avatar/0a04a0851dba37de648917cf0abea9b8?s=128&d=identicon&r=PG", "display_name": "Dmitry", "link": "https://stackoverflow.com/users/2012715/dmitry"}, "edited": false, "score": 0, "creation_date": 1473627047, "post_id": 39440451, "comment_id": 66203378, "body": "To be clear, I didn&#39;t &quot;forget&quot; to add the $object, I was wondering if there was a way to bind $object&#39;s refs to $object which is a ref so  that this behavior was &quot;implicit&quot;."}, {"owner": {"reputation": 320771, "user_id": 589924, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/b2cf53d5a3d25f95c0db4e025aed4153?s=128&d=identicon&r=PG", "display_name": "ikegami", "link": "https://stackoverflow.com/users/589924/ikegami"}, "reply_to_user": {"reputation": 4398, "user_id": 2012715, "user_type": "registered", "accept_rate": 66, "profile_image": "https://www.gravatar.com/avatar/0a04a0851dba37de648917cf0abea9b8?s=128&d=identicon&r=PG", "display_name": "Dmitry", "link": "https://stackoverflow.com/users/2012715/dmitry"}, "edited": false, "score": 0, "creation_date": 1473627152, "post_id": 39440451, "comment_id": 66203412, "body": "It can&#39;t implicitly do a method call when you explicitly do a sub call. But see update"}, {"owner": {"reputation": 4398, "user_id": 2012715, "user_type": "registered", "accept_rate": 66, "profile_image": "https://www.gravatar.com/avatar/0a04a0851dba37de648917cf0abea9b8?s=128&d=identicon&r=PG", "display_name": "Dmitry", "link": "https://stackoverflow.com/users/2012715/dmitry"}, "edited": false, "score": 0, "creation_date": 1473627153, "post_id": 39440451, "comment_id": 66203413, "body": "YES this is exactly what I wanted to know! Thanks!"}, {"owner": {"reputation": 8273, "user_id": 1334695, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/431ae6e9f7610b9d6a6a6cdebd0244d5?s=128&d=identicon&r=PG", "display_name": "stevieb", "link": "https://stackoverflow.com/users/1334695/stevieb"}, "edited": false, "score": 0, "creation_date": 1473637948, "post_id": 39440451, "comment_id": 66205756, "body": "that&#39;s a nice solution."}, {"owner": {"reputation": 61508, "user_id": 78259, "user_type": "registered", "accept_rate": 53, "profile_image": "https://www.gravatar.com/avatar/844c572938eaad1e44eb084fb39416f9?s=128&d=identicon&r=PG", "display_name": "Chas. Owens", "link": "https://stackoverflow.com/users/78259/chas-owens"}, "edited": false, "score": 0, "creation_date": 1473869080, "post_id": 39440451, "comment_id": 66307452, "body": "If you just return the function call without checking for existence in the hash, you get the error &quot;Can&#39;t use an undefined value as a subroutine reference&quot; and it points to the line in the AUTOLOAD, not where the call was made."}, {"owner": {"reputation": 320771, "user_id": 589924, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/b2cf53d5a3d25f95c0db4e025aed4153?s=128&d=identicon&r=PG", "display_name": "ikegami", "link": "https://stackoverflow.com/users/589924/ikegami"}, "reply_to_user": {"reputation": 61508, "user_id": 78259, "user_type": "registered", "accept_rate": 53, "profile_image": "https://www.gravatar.com/avatar/844c572938eaad1e44eb084fb39416f9?s=128&d=identicon&r=PG", "display_name": "Chas. Owens", "link": "https://stackoverflow.com/users/78259/chas-owens"}, "edited": false, "score": 0, "creation_date": 1473869646, "post_id": 39440451, "comment_id": 66307789, "body": "@Chas. Owens, How petty of you :( As the answer notes in two places, this is an incomplete solution. Highly incomplete, in fact. For starters, despite its name, it doesn&#39;t even support prototypes!! It was meant to illustrate the concept without bogging down the reader with irrelevant details. Again, one should be looking at CPAN for a more complete solution."}], "tags": [], "owner": {"reputation": 320771, "user_id": 589924, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/b2cf53d5a3d25f95c0db4e025aed4153?s=128&d=identicon&r=PG", "display_name": "ikegami", "link": "https://stackoverflow.com/users/589924/ikegami"}, "is_accepted": true, "score": 5, "last_activity_date": 1473698781, "last_edit_date": 1473698781, "creation_date": 1473626538, "answer_id": 39440451, "question_id": 39439071, "link": "https://stackoverflow.com/questions/39439071/perl-can-i-associate-a-code-reference-with-a-hash-reference-that-contains-it/39440451#39440451", "title": "Perl: Can I associate a CODE reference with a HASH reference that contains it?", "body": "<p>You are doing sub calls (not method calls), so you simply forgot to pass <code>$self</code> as a parameter.</p>\n\n<pre><code>my $object = {\n    code1 =&gt; sub {\n        print $_[0];\n    },\n    code2 =&gt; sub {\n        return 'Hello, World!';\n    },\n    code3 =&gt; sub {\n        my $self = shift;\n        $self-&gt;{code1}-&gt;( $self, $self-&gt;{code2}-&gt;($self) );\n    }\n}; \n$object-&gt;{code3}-&gt;($object);\n</code></pre>\n\n<hr>\n\n<p>But I think you're trying to create JavaScript-like objects. You can start with the following:</p>\n\n<pre><code>package PrototypeObject;\n\nsub new {\n   my $class = shift;\n   my $self = bless({}, $class);\n   %$self = @_;\n   return $self;\n}\n\nsub AUTOLOAD {\n   my $self = shift;\n   ( my $method = our $AUTOLOAD ) =~ s/^.*:://s;\n   return $self-&gt;{$method}-&gt;($self, @_);\n}\n\n1;\n</code></pre>\n\n<p>&#x20;</p>\n\n<pre><code>use PrototypeObject qw( );\n\nmy $object = PrototypeObject-&gt;new(\n    code1 =&gt; sub {\n        print $_[1];\n    },\n    code2 =&gt; sub {\n        return 'Hello, World!';\n    },\n    code3 =&gt; sub {\n        my $self = shift;\n        $self-&gt;code1( $self-&gt;code2() );\n    }\n); \n\n$object-&gt;code3();\n</code></pre>\n\n<p>Note that this will slow down your method calls as it must call AUTOLOAD before calling your method. This could be addressed by overloading the method call operator.</p>\n\n<p>Check on CPAN. Someone might already have a more complete implementation.</p>\n"}], "owner": {"reputation": 4398, "user_id": 2012715, "user_type": "registered", "accept_rate": 66, "profile_image": "https://www.gravatar.com/avatar/0a04a0851dba37de648917cf0abea9b8?s=128&d=identicon&r=PG", "display_name": "Dmitry", "link": "https://stackoverflow.com/users/2012715/dmitry"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 254, "favorite_count": 0, "accepted_answer_id": 39440451, "answer_count": 2, "score": 8, "last_activity_date": 1473781373, "creation_date": 1473616893, "last_edit_date": 1473781373, "question_id": 39439071, "link": "https://stackoverflow.com/questions/39439071/perl-can-i-associate-a-code-reference-with-a-hash-reference-that-contains-it", "title": "Perl: Can I associate a CODE reference with a HASH reference that contains it?", "body": "<p>I want to create a hash reference with code references mapped to scalars(strings) as its' members.</p>\n\n<p>So far I have a map reference that looks something like this:</p>\n\n<pre><code>my $object; \n$object = {\n    'code1' =&gt; sub {\n        print $_[0];\n    },\n    'code2' =&gt; sub {\n        return 'Hello, World!';\n    },\n    'code3' =&gt; sub {\n        $object-&gt;{code1}-&gt;($object-&gt;{code2}-&gt;());\n    }\n}; \n$object-&gt;{code3}-&gt;();\n</code></pre>\n\n<p>I would like to be able to \"bless\" 'code3' reference in $object with $object so I can do something like:</p>\n\n<pre><code>my $object; \n$object = {\n    'code1' =&gt; sub {\n        print $_[0];\n    },\n    'code2' =&gt; sub {\n        return 'Hello, World!';\n    },\n    'code3' =&gt; sub {\n        $self = shift;\n        $self-&gt;{code1}-&gt;($self-&gt;{code2}-&gt;());\n    }\n}; \n$object-&gt;{code3}-&gt;();\n</code></pre>\n\n<p>however bless only works with packages, rather than hash tables.</p>\n\n<p>Is there any way to do this in Perl 5 version 22?</p>\n\n<p>Note: now that I think of it, it's better to pass $object to the method explicitly, as it solves javascript's <a href=\"http://www.i-programmer.info/programmer-puzzles/137-javascript/1922-the-this-problem.html\" rel=\"nofollow\">\"this\"</a> problem. I am just too used to Java's \"this\" which makes sense in Java where everything is a class and therefore all methods have a \"this\", but in scripting, it really helps to know if the \"this\" is actually passed, or is it just called as a function(and you end up accidentally polluting global scope or triggering strict warning) passing $self explicitly makes it clear that you are not calling it as a function, but as a method.</p>\n"}, {"tags": ["perl", "internationalization"], "answers": [{"comments": [{"owner": {"reputation": 50468, "user_id": 1331451, "user_type": "registered", "accept_rate": 96, "profile_image": "https://i.stack.imgur.com/4ZPmj.png?s=128&g=1", "display_name": "simbabque", "link": "https://stackoverflow.com/users/1331451/simbabque"}, "edited": false, "score": 0, "creation_date": 1473681710, "post_id": 39442273, "comment_id": 66220893, "body": "You should include an example of how to use it."}, {"owner": {"reputation": 1523, "user_id": 4204037, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/ab78fa882cbf4a03c4fd2a0b92622dc5?s=128&d=identicon&r=PG&f=1", "display_name": "bytepusher", "link": "https://stackoverflow.com/users/4204037/bytepusher"}, "edited": false, "score": 0, "creation_date": 1473711320, "post_id": 39442273, "comment_id": 66237377, "body": "out of all possible languages? Guess I misunderstood your question then."}, {"owner": {"reputation": 1523, "user_id": 4204037, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/ab78fa882cbf4a03c4fd2a0b92622dc5?s=128&d=identicon&r=PG&f=1", "display_name": "bytepusher", "link": "https://stackoverflow.com/users/4204037/bytepusher"}, "edited": false, "score": 0, "creation_date": 1473712531, "post_id": 39442273, "comment_id": 66237909, "body": "Looked around the docs a bit, found some sort of &quot;all&quot; method, voil&#225;!"}], "tags": [], "owner": {"reputation": 1523, "user_id": 4204037, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/ab78fa882cbf4a03c4fd2a0b92622dc5?s=128&d=identicon&r=PG&f=1", "display_name": "bytepusher", "link": "https://stackoverflow.com/users/4204037/bytepusher"}, "is_accepted": true, "score": 2, "last_activity_date": 1473712368, "last_edit_date": 1473712368, "creation_date": 1473643680, "answer_id": 39442273, "question_id": 39438306, "link": "https://stackoverflow.com/questions/39438306/get-the-language-code-from-the-native-language-name-in-perl/39442273#39442273", "title": "Get the language code from the native language name in Perl", "body": "<p>according to the docs,\n<a href=\"http://search.cpan.org/~dyacob/Locales-0.04/lib/Locales/Language.pm\" rel=\"nofollow\">Locales::Language</a>\non cpan should enable you to do just that. Have you tried it?</p>\n\n<p>Edit:</p>\n\n<p>I installed Locales via cpan, which worked fine for me.\n<code>cpan Locales</code></p>\n\n<p>Then:</p>\n\n<pre><code>use Locales;\nmy $locale = Locale-&gt;new('de_DE');\n\nwarn $locale-&gt;get_code_from_language(\"Deutsch\"); # de\nwarn $locale-&gt;get_code_from_language(\"Englisch\"); # en\n</code></pre>\n\n<p>Edit again:</p>\n\n<p>After clarification, I now know what OP wants.\nI think the easiest way to achieve this is to build a more complete lookup\nusing the Locales module I mentioned.\nOn my rather old machine, that does not take long at all:</p>\n\n<pre><code>my %locale_lookup\nfor my $code ( $locale-&gt;get_language_codes ){\n\n    my $locale = Locales-&gt;new($code) // next; # ignore codes w/o locale\n    $locale_lookup{$locale-&gt;get_language_from_code} = $locale;\n\n}\n\n...\nmy $locale = $locale_lookup{$tag}; # e.g. \"Deutsch\" \nmy $code = $locale-&gt;get_code_from_language($tag);\n...\n</code></pre>\n"}, {"comments": [{"owner": {"reputation": 1523, "user_id": 4204037, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/ab78fa882cbf4a03c4fd2a0b92622dc5?s=128&d=identicon&r=PG&f=1", "display_name": "bytepusher", "link": "https://stackoverflow.com/users/4204037/bytepusher"}, "edited": false, "score": 1, "creation_date": 1484911202, "post_id": 39458853, "comment_id": 70716214, "body": "I would suggest building the lookup only once, then using it in code_for.  Either with a lookup attribute w/ builder method (Moose) or  by using a variable you can fill either lazily by checking in code_for, or in a BEGIN block."}], "tags": [], "owner": {"reputation": 4644, "user_id": 1431720, "user_type": "registered", "accept_rate": 89, "profile_image": "https://www.gravatar.com/avatar/f5a1388d4d3b2bf03b11bb5658c68c29?s=128&d=identicon&r=PG", "display_name": "Robert", "link": "https://stackoverflow.com/users/1431720/robert"}, "is_accepted": false, "score": 0, "last_activity_date": 1473740790, "last_edit_date": 1592644375, "creation_date": 1473714743, "answer_id": 39458853, "question_id": 39438306, "link": "https://stackoverflow.com/questions/39438306/get-the-language-code-from-the-native-language-name-in-perl/39458853#39458853", "title": "Get the language code from the native language name in Perl", "body": "<p>Here's what I ended up with, just for completeness, based on @bytepusher's answer. All credit to @bytepusher.</p>\n<pre><code>use strict;\nuse warnings;\nuse Locales;  # install with cpan install Locales, not just cpan install Locales::Language\n# Or, with UTF8:\n# use utf8;\n# use Locales unicode =&gt; 1;\n\nsub code_for {\n    my ($lang) = @_;\n\n    foreach my $lcode (Locales::-&gt;new()-&gt;get_language_codes()) {\n        my $loc = Locales-&gt;new($lcode);\n        next unless($loc);\n        my $code = $loc-&gt;get_code_from_language($lang);\n        return $code if ($code);\n    }\n    return undef;\n}\n\n\nforeach my $lang (qw(Deutsch Espa\u00f1ol English)) {\n    print &quot;$lang: &quot;, code_for($lang), &quot;\\n&quot;;\n}\n</code></pre>\n<p>Output</p>\n<blockquote>\n<p>Deutsch: de</p>\n<p>Espa\u00f1ol: es</p>\n<p>English: en</p>\n</blockquote>\n"}], "owner": {"reputation": 4644, "user_id": 1431720, "user_type": "registered", "accept_rate": 89, "profile_image": "https://www.gravatar.com/avatar/f5a1388d4d3b2bf03b11bb5658c68c29?s=128&d=identicon&r=PG", "display_name": "Robert", "link": "https://stackoverflow.com/users/1431720/robert"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 106, "favorite_count": 0, "accepted_answer_id": 39442273, "answer_count": 2, "score": 2, "last_activity_date": 1473740790, "creation_date": 1473611768, "last_edit_date": 1473704713, "question_id": 39438306, "link": "https://stackoverflow.com/questions/39438306/get-the-language-code-from-the-native-language-name-in-perl", "title": "Get the language code from the native language name in Perl", "body": "<p>When looking for a language's ISO369 code, this works fine with the English name of the language:</p>\n\n<pre><code>perl -MLocale::Language -e 'print language2code(\"German\"), \"\\n\";'\nde\n</code></pre>\n\n<p>But it does not work with the native language name:</p>\n\n<pre><code>perl -MLocale::Language -e 'print language2code(\"Deutsch\"), \"\\n\";'\n</code></pre>\n\n<p>Background: I have text in a few languages and need to generate a HTML <code>hreflang</code> link. The text is always labeled with its native language name (e.g., \"English\", \"Espa\u00f1ol\", or \"Deutsch\"). I don't want to switch the (system) language before the lookup because I don't know to which language to switch. Right now I have my own lookup table that maps e.g., \"English\" => \"en\" and \"Deutsch\" => \"de\", but I was wondering if there was an easier way that does not need me to maintain that table.</p>\n\n<p>How can I get from a language's native name to its ISO code?</p>\n"}, {"tags": ["perl", "scripting", "perlscript"], "answers": [{"tags": [], "owner": {"reputation": 249903, "user_id": 2422776, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/2353050223ebecb113741c29458de4b2?s=128&d=identicon&r=PG", "display_name": "Mureinik", "link": "https://stackoverflow.com/users/2422776/mureinik"}, "is_accepted": false, "score": 0, "last_activity_date": 1473611777, "creation_date": 1473611777, "answer_id": 39438308, "question_id": 39438261, "link": "https://stackoverflow.com/questions/39438261/what-does-if-sfilename-filepath-some-condition-in-perl-do/39438308#39438308", "title": "what does &quot; if (!((-s&lt;filename/filepath&gt;) &amp;&amp; (some condition))) &quot; in perl do?.", "body": "<p><code>-s</code> returns the size of a file. Zeros in perl are treated as falses (similar to like <a href=\"/questions/tagged/c\" class=\"post-tag\" title=\"show questions tagged &#39;c&#39;\" rel=\"tag\">c</a>). If you put this all together, it's a shorthand way checking that the given file is not empty.</p>\n"}, {"comments": [{"owner": {"reputation": 87649, "user_id": 17389, "user_type": "registered", "accept_rate": 38, "profile_image": "https://www.gravatar.com/avatar/cd06d1314817ce946ab796af8750b56a?s=128&d=identicon&r=PG", "display_name": "ysth", "link": "https://stackoverflow.com/users/17389/ysth"}, "edited": false, "score": 1, "creation_date": 1473626626, "post_id": 39438332, "comment_id": 66203260, "body": "-s will also return false (specifically, undef) if the file does not exist (or is a broken link)"}], "tags": [], "owner": {"reputation": 137100, "user_id": 874188, "user_type": "registered", "accept_rate": 62, "profile_image": "https://i.stack.imgur.com/ZcY77.png?s=128&g=1", "display_name": "tripleee", "link": "https://stackoverflow.com/users/874188/tripleee"}, "is_accepted": true, "score": 2, "last_activity_date": 1473611927, "creation_date": 1473611927, "answer_id": 39438332, "question_id": 39438261, "link": "https://stackoverflow.com/questions/39438261/what-does-if-sfilename-filepath-some-condition-in-perl-do/39438332#39438332", "title": "what does &quot; if (!((-s&lt;filename/filepath&gt;) &amp;&amp; (some condition))) &quot; in perl do?.", "body": "<p>The explanation covers the <code>-s</code> operator, nothing more. It returns the file's size; if it is empty, the numeric zero is interpreted as false in boolean context, while any nonzero number is true.</p>\n\n<pre><code>print \"has contents\" if -s \"/path/to/file\";\n</code></pre>\n\n<p>The <code>!</code> is a negation, and <code>&amp;&amp;</code> is logical \"and\"; so the entire expression is true when either the file is empty or the other condition is false, or both. (Remember de Morgan's laws; <em>!(x&amp;y)</em> is equivalent to <em>!x | !y</em>.)</p>\n"}], "owner": {"reputation": 135, "user_id": 6764095, "user_type": "registered", "profile_image": "https://lh3.googleusercontent.com/-x2Cf0yHXhtU/AAAAAAAAAAI/AAAAAAAADBM/jIoTQB7zX3E/photo.jpg?sz=128", "display_name": "Saurav Ojha", "link": "https://stackoverflow.com/users/6764095/saurav-ojha"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 113, "favorite_count": 0, "accepted_answer_id": 39438332, "answer_count": 2, "score": 3, "last_activity_date": 1473616249, "creation_date": 1473611459, "question_id": 39438261, "link": "https://stackoverflow.com/questions/39438261/what-does-if-sfilename-filepath-some-condition-in-perl-do", "title": "what does &quot; if (!((-s&lt;filename/filepath&gt;) &amp;&amp; (some condition))) &quot; in perl do?.", "body": "<p>Hi I am a beginner at perl. I came across this statement and read some of the answers in Stackoverflow that said that it checks for non-zero file size. Pls explain. </p>\n"}, {"tags": ["perl"], "comments": [{"owner": {"reputation": 4644, "user_id": 1431720, "user_type": "registered", "accept_rate": 89, "profile_image": "https://www.gravatar.com/avatar/f5a1388d4d3b2bf03b11bb5658c68c29?s=128&d=identicon&r=PG", "display_name": "Robert", "link": "https://stackoverflow.com/users/1431720/robert"}, "edited": false, "score": 1, "creation_date": 1473608360, "post_id": 39437739, "comment_id": 66197886, "body": "So what exactly happens when you run it? What did you expect instead?"}, {"owner": {"reputation": 4644, "user_id": 1431720, "user_type": "registered", "accept_rate": 89, "profile_image": "https://www.gravatar.com/avatar/f5a1388d4d3b2bf03b11bb5658c68c29?s=128&d=identicon&r=PG", "display_name": "Robert", "link": "https://stackoverflow.com/users/1431720/robert"}, "edited": false, "score": 0, "creation_date": 1473608425, "post_id": 39437739, "comment_id": 66197914, "body": "You could also check that <code>close(INDEX)</code> worked like you do fo the corresponding open."}, {"owner": {"reputation": 825, "user_id": 5893468, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/bcb7551f9c6af39046f24142ae1c42e1?s=128&d=identicon&r=PG&f=1", "display_name": "pamcevoy", "link": "https://stackoverflow.com/users/5893468/pamcevoy"}, "edited": false, "score": 0, "creation_date": 1473608892, "post_id": 39437739, "comment_id": 66198081, "body": "What is the value of $to?  Maybe it is writing to some other directory."}, {"owner": {"reputation": 144799, "user_id": 2836621, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/suHg4.jpg?s=128&g=1", "display_name": "Mark Setchell", "link": "https://stackoverflow.com/users/2836621/mark-setchell"}, "edited": false, "score": 0, "creation_date": 1473624139, "post_id": 39437739, "comment_id": 66202612, "body": "Start your script in the debugger with <code>perl -d</code> then step through it printing variables as you go. You only need about 4 commands - <code>b 10</code> to break on line 10, <code>n</code> next statement, <code>p var</code> to print variable."}], "answers": [{"tags": [], "owner": {"reputation": 62184, "user_id": 7231, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/81b76985f3985e35492e25880493d045?s=128&d=identicon&r=PG", "display_name": "Dave Cross", "link": "https://stackoverflow.com/users/7231/dave-cross"}, "is_accepted": false, "score": 0, "last_activity_date": 1473610771, "creation_date": 1473610771, "answer_id": 39438166, "question_id": 39437739, "link": "https://stackoverflow.com/questions/39437739/perl-write-to-html-file-not-working/39438166#39438166", "title": "Perl write to html file not working", "body": "<p>You don't check that you opened <code>$from</code> successfully.</p>\n\n<pre><code>open(FILE, \"&lt;\", $from) or die \"$from: $!\";\n</code></pre>\n\n<p>Other than that, there are a few other things you could check.</p>\n\n<ul>\n<li>What is the value of <code>$from</code>?</li>\n<li>How many records do you read into <code>@index</code>?</li>\n<li>What is the value of <code>$to</code>?</li>\n</ul>\n"}], "owner": {"reputation": 1, "user_id": 4036355, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/e2b3badb5c819986f2643ce7315ebbb6?s=128&d=identicon&r=PG&f=1", "display_name": "Amy Ries", "link": "https://stackoverflow.com/users/4036355/amy-ries"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 59, "favorite_count": 0, "answer_count": 1, "score": 0, "last_activity_date": 1473610771, "creation_date": 1473608033, "question_id": 39437739, "link": "https://stackoverflow.com/questions/39437739/perl-write-to-html-file-not-working", "title": "Perl write to html file not working", "body": "<p>I am running a perl script that is supposed to take gifs from one website, move them to another website, and write the links to an index.html file labeled by date. It does the move operation extremely well, but can't write to the index.html file. I have warnings turned on, but they aren't telling me why the script isn't performing the write operation. </p>\n\n<p>The relevant part looks like this:</p>\n\n<pre><code>## Do some parsing to insert date information into index.html...\nopen(FILE, \"&lt;\", $from);\nmy @index = &lt;FILE&gt;;\nclose(FILE);\n\n## Don't just copy - change the date info so each page is well labeled...\nmy $line = '';  # declaration for foreach loop below\nopen(INDEX, \"&gt;\", $to) or die \"Can't open '$to': $!\"; \n\n# open index.html to write to\nforeach $line (@index){\n$line =~  s/DATE/$months[$mon] $mday, $year at 3pm ET to next day at 3pm/;\nprint INDEX $line;\n}\nclose(INDEX); \n</code></pre>\n\n<p>Any help would be appreciated. Thank you.</p>\n"}, {"tags": ["regex", "perl"], "comments": [{"owner": {"reputation": 16405, "user_id": 6776093, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/heFeh.png?s=128&g=1", "display_name": "redneb", "link": "https://stackoverflow.com/users/6776093/redneb"}, "edited": false, "score": 1, "creation_date": 1473596115, "post_id": 39435914, "comment_id": 66194412, "body": "What do you mean by find all &quot;mayank&quot; ? What output do you expect your program to produce?"}, {"owner": {"reputation": 11, "user_id": 2861362, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/3146b43848694309ef80a4218dc896af?s=128&d=identicon&r=PG&f=1", "display_name": "Mayank", "link": "https://stackoverflow.com/users/2861362/mayank"}, "edited": false, "score": 0, "creation_date": 1473596623, "post_id": 39435914, "comment_id": 66194575, "body": "Sorry for incomplete, i am loking for o/p as: mayank1\\n mayank21\\n mayank3\\n mayank4\\n mayank15\\n mayank2\\n mayank8\\n mayank9\\n"}, {"owner": {"reputation": 5334, "user_id": 5830574, "user_type": "registered", "accept_rate": 93, "profile_image": "https://i.stack.imgur.com/kCmqs.png?s=128&g=1", "display_name": "PerlDuck", "link": "https://stackoverflow.com/users/5830574/perlduck"}, "edited": false, "score": 0, "creation_date": 1473596693, "post_id": 39435914, "comment_id": 66194589, "body": "I just edited the post (improved formatting) and noticed that the desired result wasn&#39;t surrounded by backticks, so we couldn&#39;t see the <code>&lt;number&gt;</code> part in <code>mayank&lt;number&gt;</code>."}], "answers": [{"tags": [], "owner": {"reputation": 3472, "user_id": 4990392, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/89acc35f0339a9c7e6ae36443a23e2d9?s=128&d=identicon&r=PG&f=1", "display_name": "Dada", "link": "https://stackoverflow.com/users/4990392/dada"}, "is_accepted": false, "score": 5, "last_activity_date": 1473886026, "last_edit_date": 1473886026, "creation_date": 1473596682, "answer_id": 39436046, "question_id": 39435914, "link": "https://stackoverflow.com/questions/39435914/capture-multiple-matches-from-the-same-perl-regex/39436046#39436046", "title": "Capture multiple matches from the same Perl regex?", "body": "<p>If you want to capture <code>mayank</code> followed by a number, you can use the following regex : </p>\n\n<pre><code>while ($line =~ /(mayank\\d*)/g) {\n    print \"$1\\n\";\n}\n</code></pre>\n\n<p>If the number is mandatory, change it to <code>/(mayank\\d+)/</code>.  </p>\n\n<p><strong>Short explanation</strong> :  <code>\\d</code> matches a single digit, so <code>\\d*</code> matches as many digits as possible (or zero if there is none), and <code>\\d+</code> matches as many digit as possible (but at least one).</p>\n\n<p><strong>Why your solutions didn't work</strong> :</p>\n\n<p><code>/(mayank.*?)/</code> uses a non-greedy quantifier (<code>*?</code>), which try to match at little characters as possible, so nothing.<br>\n<code>/(mayank.?)/</code> will capture whatever character comes after <code>mayank</code> (even a space), if there is one.</p>\n"}, {"comments": [{"owner": {"reputation": 5334, "user_id": 5830574, "user_type": "registered", "accept_rate": 93, "profile_image": "https://i.stack.imgur.com/kCmqs.png?s=128&g=1", "display_name": "PerlDuck", "link": "https://stackoverflow.com/users/5830574/perlduck"}, "edited": false, "score": 1, "creation_date": 1473603133, "post_id": 39436774, "comment_id": 66196278, "body": "Almost ;-) Consider a line containing <code>mayank</code> (without a number). <code>$line =~ &#47;(mayank)(\\d+)?&#47;g</code> will catch <code>$1</code> as <code>mayank</code> and <code>$2</code> as <code>undef</code>. On the other hand <code>$line =~ &#47;(mayank)(\\d*)&#47;g</code> will catch <code>$1</code> as <code>mayank</code> and <code>$2</code> as <code>&#39;&#39;</code> (the empty string). The difference comes up when you <code>print &quot;$1 - $2\\n&quot;;</code>: the 1st solution complains about <code>$2</code> being undefined while the 2nd just prints an empty string. &quot;empty&quot; and &quot;undef&quot; are two different things in Perl (not only in Perl)."}, {"owner": {"reputation": 173, "user_id": 6317042, "user_type": "registered", "profile_image": "https://graph.facebook.com/1057926774279190/picture?type=large", "display_name": "Marco Silva", "link": "https://stackoverflow.com/users/6317042/marco-silva"}, "reply_to_user": {"reputation": 5334, "user_id": 5830574, "user_type": "registered", "accept_rate": 93, "profile_image": "https://i.stack.imgur.com/kCmqs.png?s=128&g=1", "display_name": "PerlDuck", "link": "https://stackoverflow.com/users/5830574/perlduck"}, "edited": false, "score": 0, "creation_date": 1473606841, "post_id": 39436774, "comment_id": 66197371, "body": "Generally I use a modified statement: print &quot; $1 - $2\\n&quot; if $1 and $2; to avoid warnings. I Agree that using the (\\d*) would force an empty match, therefore setting $2 to be &quot;&quot; (empty string)."}], "tags": [], "owner": {"reputation": 173, "user_id": 6317042, "user_type": "registered", "profile_image": "https://graph.facebook.com/1057926774279190/picture?type=large", "display_name": "Marco Silva", "link": "https://stackoverflow.com/users/6317042/marco-silva"}, "is_accepted": false, "score": 0, "last_activity_date": 1473601818, "creation_date": 1473601818, "answer_id": 39436774, "question_id": 39435914, "link": "https://stackoverflow.com/questions/39435914/capture-multiple-matches-from-the-same-perl-regex/39436774#39436774", "title": "Capture multiple matches from the same Perl regex?", "body": "<p>You want to capture <strong>mayank#id</strong> where <strong>id</strong> is a number or nothing:</p>\n\n<pre><code>$line =~ /(mayank)(\\d+)?/\n</code></pre>\n\n<ul>\n<li><strong>$1</strong> : will hold mayank</li>\n<li><strong>$2</strong> : will hold the <strong>id</strong> or will be empty (undef)</li>\n</ul>\n\n<p>You may find more information about regular expression with Perl reading the manual: </p>\n\n<pre><code>man perlre\n</code></pre>\n"}], "owner": {"reputation": 11, "user_id": 2861362, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/3146b43848694309ef80a4218dc896af?s=128&d=identicon&r=PG&f=1", "display_name": "Mayank", "link": "https://stackoverflow.com/users/2861362/mayank"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 2150, "favorite_count": 1, "answer_count": 2, "score": 0, "last_activity_date": 1473886026, "creation_date": 1473595760, "last_edit_date": 1473596533, "question_id": 39435914, "link": "https://stackoverflow.com/questions/39435914/capture-multiple-matches-from-the-same-perl-regex", "title": "Capture multiple matches from the same Perl regex?", "body": "<p>I have a file containing text:</p>\n\n<pre><code>hello mayank1 kumar mayank21\nyadav Kevin has at most \nK\nK minutes to perform this operations. He decides mayank3 that the string is super mayank4\nif it is the lexicographically \nsmallest among all possible strings mayank15\nthat he can get. Your task is to help Kevin and \nfind this mayank2 lexicographically mayank8 smallest string mayank9\n</code></pre>\n\n<p>How can i find all <code>mayank&lt;number&gt;</code> ?</p>\n\n<p>I tried:</p>\n\n<pre><code>use strict;\n\nopen( FH, \"testfile.txt\" ) or die \"Can't open file for reading.\";\nwhile ( my $line = &lt;FH&gt; ) {\n    chomp($line);\n    while ( $line =~ /(mayank.*?)/g ) {\n        print \"$1\\n\";\n    }\n}\n</code></pre>\n\n<p>which is giving:</p>\n\n<pre><code>mayank\nmayank\nmayank\nmayank\nmayank\nmayank\nmayank\nmayank\n</code></pre>\n\n<p>When using:</p>\n\n<pre><code>while ($line =~ /(mayank.?)/g) {\n    print \"$1\\n\";\n}\n</code></pre>\n\n<p>I get</p>\n\n<pre><code>mayank1\nmayank2\nmayank3\nmayank4\nmayank1\nmayank2\nmayank8\nmayank9\n</code></pre>\n\n<p>Please suggest.</p>\n"}, {"tags": ["perl"], "comments": [{"owner": {"reputation": 32176, "user_id": 2173773, "user_type": "registered", "accept_rate": 86, "profile_image": "https://i.stack.imgur.com/M8yh6.jpg?s=128&g=1", "display_name": "H&#229;kon H&#230;gland", "link": "https://stackoverflow.com/users/2173773/h%c3%a5kon-h%c3%a6gland"}, "edited": false, "score": 1, "creation_date": 1473598758, "post_id": 39434159, "comment_id": 66195101, "body": "See the documentation for file test operators <a href=\"http://perldoc.perl.org/functions/-X.html\" rel=\"nofollow noreferrer\">-X</a> : <code>-d  File is a directory</code>"}, {"owner": {"reputation": 320771, "user_id": 589924, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/b2cf53d5a3d25f95c0db4e025aed4153?s=128&d=identicon&r=PG", "display_name": "ikegami", "link": "https://stackoverflow.com/users/589924/ikegami"}, "edited": false, "score": 1, "creation_date": 1473702036, "post_id": 39434159, "comment_id": 66232856, "body": "Note that <code>mkpath</code> already skips trying to create existing directories, so <code>mkpath($hinitdir) unless -d $hinitdir;</code> should simply be <code>mkpath($hinitdir);</code>"}, {"owner": {"reputation": 491, "user_id": 3759377, "user_type": "registered", "accept_rate": 82, "profile_image": "https://i.stack.imgur.com/3gAWy.jpg?s=128&g=1", "display_name": "partida", "link": "https://stackoverflow.com/users/3759377/partida"}, "reply_to_user": {"reputation": 320771, "user_id": 589924, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/b2cf53d5a3d25f95c0db4e025aed4153?s=128&d=identicon&r=PG", "display_name": "ikegami", "link": "https://stackoverflow.com/users/589924/ikegami"}, "edited": false, "score": 0, "creation_date": 1473741181, "post_id": 39434159, "comment_id": 66245252, "body": "@ikegami yeah,concise is beauty.Thank you"}], "answers": [{"tags": [], "owner": {"reputation": 121105, "user_id": 2766176, "user_type": "registered", "accept_rate": 61, "profile_image": "https://www.gravatar.com/avatar/edd8638efe875601bfe394a8aea5b16d?s=128&d=identicon&r=PG", "display_name": "brian d foy", "link": "https://stackoverflow.com/users/2766176/brian-d-foy"}, "is_accepted": true, "score": 6, "last_activity_date": 1473599860, "last_edit_date": 1473599860, "creation_date": 1473599099, "answer_id": 39436400, "question_id": 39434159, "link": "https://stackoverflow.com/questions/39434159/whats-the-meaning-of-unless-d/39436400#39436400", "title": "What&#39;s the meaning of `unless -d`?", "body": "<p>Perl has \"file test\" operators of the form <code>-X</code>, where the letter after the dash tells Perl what you want to test. These are documented in <a href=\"http://perldoc.perl.org/perlfunc.html\" rel=\"noreferrer\">perlfunc</a> collectively under <a href=\"http://perldoc.perl.org/perlfunc.html#-X-FILEHANDLE\" rel=\"noreferrer\"><code>-X</code></a>.</p>\n\n<p>The <code>-d</code> tests that the target (in this case <code>$hinitdir</code> or <code>$hrestdir</code>) is a directory. The target of a file test operator can be either a named file of a file handle.</p>\n\n<p>Apart from that, recent <a href=\"http://www.metacpan.org/module/File::Path\" rel=\"noreferrer\">File::Path</a> versions use <code>make_path</code> over the old <code>mkpath</code>.</p>\n"}], "owner": {"reputation": 491, "user_id": 3759377, "user_type": "registered", "accept_rate": 82, "profile_image": "https://i.stack.imgur.com/3gAWy.jpg?s=128&g=1", "display_name": "partida", "link": "https://stackoverflow.com/users/3759377/partida"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 1198, "favorite_count": 1, "accepted_answer_id": 39436400, "answer_count": 1, "score": 0, "last_activity_date": 1473605741, "creation_date": 1473581899, "last_edit_date": 1473605741, "question_id": 39434159, "link": "https://stackoverflow.com/questions/39434159/whats-the-meaning-of-unless-d", "title": "What&#39;s the meaning of `unless -d`?", "body": "<p>Reading the code,I find this:</p>\n\n<pre><code>use File::Path;\nmkpath($hinitdir) unless -d $hinitdir;\nmkpath($hrestdir) unless -d $hrestdir;\n</code></pre>\n\n<p>So what's the meaning of the option <code>-d</code>?</p>\n"}, {"tags": ["perl"], "comments": [{"owner": {"reputation": 1025, "user_id": 5823128, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/4Ymiy.jpg?s=128&g=1", "display_name": "Faibbus", "link": "https://stackoverflow.com/users/5823128/faibbus"}, "edited": false, "score": 0, "creation_date": 1473582128, "post_id": 39434136, "comment_id": 66191081, "body": "I cannot find a way to have <code>&quot;333t3&quot;</code> and <code>&quot;555t&quot;</code>"}, {"owner": {"reputation": 491, "user_id": 3759377, "user_type": "registered", "accept_rate": 82, "profile_image": "https://i.stack.imgur.com/3gAWy.jpg?s=128&g=1", "display_name": "partida", "link": "https://stackoverflow.com/users/3759377/partida"}, "reply_to_user": {"reputation": 1025, "user_id": 5823128, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/4Ymiy.jpg?s=128&g=1", "display_name": "Faibbus", "link": "https://stackoverflow.com/users/5823128/faibbus"}, "edited": false, "score": 0, "creation_date": 1473582239, "post_id": 39434136, "comment_id": 66191099, "body": "@Faibbus Oh,I fixed.Sorry.."}], "answers": [{"tags": [], "owner": {"reputation": 1025, "user_id": 5823128, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/4Ymiy.jpg?s=128&g=1", "display_name": "Faibbus", "link": "https://stackoverflow.com/users/5823128/faibbus"}, "is_accepted": false, "score": 0, "last_activity_date": 1473582413, "creation_date": 1473582413, "answer_id": 39434224, "question_id": 39434136, "link": "https://stackoverflow.com/questions/39434136/how-to-achieve-replacement-using-regular-expression/39434224#39434224", "title": "How to achieve replacement using regular expression?", "body": "<p>Replace <code>\"(\\d)(\\1+?)\\1(?!\\1)\" [1]</code> with <code>\"\\1\\2t\" [2]</code>.</p>\n\n<p>In <code>[1]</code>, you'll match a digit (<code>\\d</code>) followed by itself any number of times (<code>\\1+?</code>), followed by itself (<code>\\1</code>) and followed by anything else (<code>(?!\\1)</code>).</p>\n\n<p>And you'll replace it by said digit, followed by all of its occurences but the last one, followed by <code>\"t\"</code></p>\n"}, {"tags": [], "owner": {"reputation": 82895, "user_id": 372239, "user_type": "registered", "accept_rate": 80, "profile_image": "https://i.stack.imgur.com/2twLb.jpg?s=128&g=1", "display_name": "Toto", "link": "https://stackoverflow.com/users/372239/toto"}, "is_accepted": true, "score": 2, "last_activity_date": 1473584509, "creation_date": 1473584509, "answer_id": 39434483, "question_id": 39434136, "link": "https://stackoverflow.com/questions/39434136/how-to-achieve-replacement-using-regular-expression/39434483#39434483", "title": "How to achieve replacement using regular expression?", "body": "<p>If you want to replace when there are 2 or more same consecutive digits:</p>\n\n<pre><code>#!/usr/bin/perl\nuse Modern::Perl;\n\nmy $test = \"11222333345555\";\n$test =~  s/((\\d)\\2*)\\2/$1t/g;\nsay $test;\n</code></pre>\n\n<p><strong>Output:</strong></p>\n\n<pre><code>1t22t333t4555t\n</code></pre>\n\n<p><strong>Explanation:</strong></p>\n\n<pre><code>(       : start group 1\n  (     : start group 2\n    \\d  : a digit\n  )     : end group 2\n  \\2*   : backreference on group 2 (ie: same digit) 0 or more times\n)       : end group 1\n\\2      : backreference on group 2\n</code></pre>\n"}], "owner": {"reputation": 491, "user_id": 3759377, "user_type": "registered", "accept_rate": 82, "profile_image": "https://i.stack.imgur.com/3gAWy.jpg?s=128&g=1", "display_name": "partida", "link": "https://stackoverflow.com/users/3759377/partida"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 33, "favorite_count": 1, "accepted_answer_id": 39434483, "answer_count": 2, "score": -2, "last_activity_date": 1473584736, "creation_date": 1473581738, "last_edit_date": 1473584736, "question_id": 39434136, "link": "https://stackoverflow.com/questions/39434136/how-to-achieve-replacement-using-regular-expression", "title": "How to achieve replacement using regular expression?", "body": "<pre><code>$test=\"111222333345555\";\n</code></pre>\n\n<p>How to replace the digit of same repeated digits to 't'?</p>\n\n<p>That is, how to get <code>\"11t22t333t4555t\"</code> using a regular expression?</p>\n"}, {"tags": ["javascript", "jquery", "html", "ajax", "perl"], "answers": [{"comments": [{"owner": {"reputation": 151, "user_id": 6789640, "user_type": "registered", "accept_rate": 100, "profile_image": "https://lh4.googleusercontent.com/-sd-gziWy5zY/AAAAAAAAAAI/AAAAAAAAAA4/VvBp8ca_v-E/photo.jpg?sz=128", "display_name": "Jeffrey Tackett", "link": "https://stackoverflow.com/users/6789640/jeffrey-tackett"}, "edited": false, "score": 0, "creation_date": 1473575245, "post_id": 39433356, "comment_id": 66189777, "body": "Excellent suggestion.  Any recommendation on how to manage the trigger event?  I am assuming it would fire from the same &quot;onkeyup&quot; that creates the initial results, and an &quot;if&quot; statement would dictate whether or not I go to Perl for new $results, or replace the div with the originalHtml?  I&#39;m certainly open to suggestion about what might be a good method for that trigger.  Thanks!"}, {"owner": {"reputation": 7672, "user_id": 1134649, "user_type": "registered", "accept_rate": 49, "profile_image": "https://www.gravatar.com/avatar/62560e8552b9cd3163b190eefc3525e6?s=128&d=identicon&r=PG", "display_name": "Ronen Ness", "link": "https://stackoverflow.com/users/1134649/ronen-ness"}, "reply_to_user": {"reputation": 151, "user_id": 6789640, "user_type": "registered", "accept_rate": 100, "profile_image": "https://lh4.googleusercontent.com/-sd-gziWy5zY/AAAAAAAAAAI/AAAAAAAAAA4/VvBp8ca_v-E/photo.jpg?sz=128", "display_name": "Jeffrey Tackett", "link": "https://stackoverflow.com/users/6789640/jeffrey-tackett"}, "edited": false, "score": 1, "creation_date": 1473579846, "post_id": 39433356, "comment_id": 66190603, "body": "looks like updateText() is the most fitting place - if devname is empty you need to restore original html, if not empty - query and set. As for storing the original html you just need to do it once when page loads.  BTW it looks like you&#39;re making a one-page application, consider using a proper framework for that (I&#39;m not saying you necessarily should, as I don&#39;t really know your app and its purpose, but you should read and think about it)."}, {"owner": {"reputation": 151, "user_id": 6789640, "user_type": "registered", "accept_rate": 100, "profile_image": "https://lh4.googleusercontent.com/-sd-gziWy5zY/AAAAAAAAAAI/AAAAAAAAAA4/VvBp8ca_v-E/photo.jpg?sz=128", "display_name": "Jeffrey Tackett", "link": "https://stackoverflow.com/users/6789640/jeffrey-tackett"}, "edited": false, "score": 0, "creation_date": 1473604695, "post_id": 39433356, "comment_id": 66196724, "body": "Works out great.  Thanks, Ness.  While it is is certainly bigger than one page, I&#39;m still very interested in what you mean by &quot;proper framework&quot;.  Would you mind giving a little more detail about your intent there?  My site is rendered by Perl TT, and I&#39;m using some Catalyst stuff for deployment.  Just starting to get involved in the Catalyst stuff.  Is there something I&#39;m overlooking?"}, {"owner": {"reputation": 7672, "user_id": 1134649, "user_type": "registered", "accept_rate": 49, "profile_image": "https://www.gravatar.com/avatar/62560e8552b9cd3163b190eefc3525e6?s=128&d=identicon&r=PG", "display_name": "Ronen Ness", "link": "https://stackoverflow.com/users/1134649/ronen-ness"}, "reply_to_user": {"reputation": 151, "user_id": 6789640, "user_type": "registered", "accept_rate": 100, "profile_image": "https://lh4.googleusercontent.com/-sd-gziWy5zY/AAAAAAAAAAI/AAAAAAAAAA4/VvBp8ca_v-E/photo.jpg?sz=128", "display_name": "Jeffrey Tackett", "link": "https://stackoverflow.com/users/6789640/jeffrey-tackett"}, "edited": false, "score": 1, "creation_date": 1473630646, "post_id": 39433356, "comment_id": 66204297, "body": "Glad it worked :) As for &quot;proper frameworks&quot; you are basically implementing dynamic views yourself (html that changes via ajax instead of page loads) and there are many frameworks out there that do that and more. To name few - angularjs, reactjs, emberjs.. These framework handle all common cases and are well tested, and can be easily integrated with REST apis and other standard server views. Some of them might be overwhelming for beginners but if you are interested you might want to check them out."}, {"owner": {"reputation": 151, "user_id": 6789640, "user_type": "registered", "accept_rate": 100, "profile_image": "https://lh4.googleusercontent.com/-sd-gziWy5zY/AAAAAAAAAAI/AAAAAAAAAA4/VvBp8ca_v-E/photo.jpg?sz=128", "display_name": "Jeffrey Tackett", "link": "https://stackoverflow.com/users/6789640/jeffrey-tackett"}, "edited": false, "score": 0, "creation_date": 1473634219, "post_id": 39433356, "comment_id": 66205080, "body": "Will do.  In fact, the next chapter in the book I&#39;m currently reading is about ember.js, so that works out well.  Thanks again.  Have a good one."}], "tags": [], "owner": {"reputation": 7672, "user_id": 1134649, "user_type": "registered", "accept_rate": 49, "profile_image": "https://www.gravatar.com/avatar/62560e8552b9cd3163b190eefc3525e6?s=128&d=identicon&r=PG", "display_name": "Ronen Ness", "link": "https://stackoverflow.com/users/1134649/ronen-ness"}, "is_accepted": true, "score": 1, "last_activity_date": 1473579520, "last_edit_date": 1473579520, "creation_date": 1473574161, "answer_id": 39433356, "question_id": 39433327, "link": "https://stackoverflow.com/questions/39433327/how-to-reset-div-back-to-pre-ajax-response-state-after-search-field-is-cleare/39433356#39433356", "title": "How to reset &lt;div&gt; back to pre-AJAX response state, after search field is cleared?", "body": "<p>Store the div <a href=\"http://www.w3schools.com/jsref/prop_html_innerhtml.asp\" rel=\"nofollow\">inner html</a> somewhere safe and then restore it.</p>\n\n<p>With plain javascript:</p>\n\n<pre><code>// store original html\nvar originalHtml = div.innerHTML;\n\n// restore it\ndiv.innerHTML = originalHtml;\n</code></pre>\n\n<p>or with jquery like you use it:</p>\n\n<pre><code>// store original html\nvar originalHtml = $('#resultsbox').html();\n\n// restore it\n$('#resultsbox').html(originalHtml);\n</code></pre>\n"}], "owner": {"reputation": 151, "user_id": 6789640, "user_type": "registered", "accept_rate": 100, "profile_image": "https://lh4.googleusercontent.com/-sd-gziWy5zY/AAAAAAAAAAI/AAAAAAAAAA4/VvBp8ca_v-E/photo.jpg?sz=128", "display_name": "Jeffrey Tackett", "link": "https://stackoverflow.com/users/6789640/jeffrey-tackett"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 486, "favorite_count": 0, "accepted_answer_id": 39433356, "answer_count": 1, "score": 4, "last_activity_date": 1473579520, "creation_date": 1473573948, "question_id": 39433327, "link": "https://stackoverflow.com/questions/39433327/how-to-reset-div-back-to-pre-ajax-response-state-after-search-field-is-cleare", "title": "How to reset &lt;div&gt; back to pre-AJAX response state, after search field is cleared?", "body": "<p>I have an HTML page that lists \"all\" data from a database.  I have included a search field that allows the user to search for a specific \"line\", via a Perl/AJAX process.  It works wonderfully.  The user inputs information, and the div that holds the original list is overwritten with the results of the AJAX request.  As long as they keep changing the information in the search field, the AJAX process continues to fire, and everything works well.  The problem comes in when they try to return to the original \"all\" list by clearing everything from the search field, rather than simply reloading the page.  This led me to wonder if it's possible to force a div to revert to it's original state (before it was overwritten by the AJAX response)?  </p>\n\n<p>I'll include some code snippets below, but I'm sure it's not anything particularly original.</p>\n\n<p>Javascript:</p>\n\n<pre><code>            function myTimer() {\n\n            var typingTimer;\n            var doneTypingInterval = 2000;\n\n               $(\"#devicename\").keyup(function(){\n               clearTimeout(typingTimer);\n               if ($('#devicename').val()) {\n               typingTimer = setTimeout(updateText, doneTypingInterval);\n               }\n\n\n\n            });\n\n                    function updateText() {\n\n                    var devname = $('#devicename').val();\n                    $.get(\"http://domainname/cgi-bin/ajax.pl\", \"devicename=\"+devname,\n                            function(response,status,http) {\n                                    $('#resultsbox').html(response);\n\n                            }, \"text\");\n                    }\n\n            }\n</code></pre>\n\n<p>HTML</p>\n\n<pre><code>&lt;div id=\"resultsbox\"&gt;\n&lt;table class=\"devicetable\"&gt;\n &lt;tr&gt;\n    &lt;td class=\"tablehead\"&gt;Company Name&lt;/td&gt;\n    &lt;td class=\"tablehead\"&gt;ID&lt;/td&gt;\n    &lt;td class=\"tablehead\"&gt;Status&lt;/td&gt;\n    &lt;td class=\"tablehead\"&gt;Ticket&lt;/td&gt;\n    &lt;td class=\"tablehead\"&gt;Device/Ticket Notes&lt;/td&gt;\n    &lt;td class=\"tablehead\"&gt;Open SR&lt;/td&gt;\n &lt;/tr&gt;\n&lt;tr&gt; lots of stuff &lt;/tr&gt;\n&lt;/div&gt;\n</code></pre>\n\n<p>Perl</p>\n\n<pre><code>sub generate_results {\n       #DBI stuff, result is formatted and loaded into $result\n       print $html-&gt;header('text/html;charset=UTF-8');\n       print $result;\n }\n</code></pre>\n\n<p>Thank you for an information you can provide.  I'm happy to read on the subject, just not finding anything pertaining to something like this.  Everything I find seems to blank the div, reset a form, or write the next set of results.  Nothing seems to want to go back to the original state.  Before anyone wonders, the reason I don't simply provide a standard search results scenario, instead choosing to pare down from the entire list, is because the database information displays a status that may change from time to time, and the list in it's entirety is used as a type of operational awareness.  That's why I want to go from full list to only results back to full list.</p>\n"}, {"tags": ["perl", "scope"], "answers": [{"comments": [{"owner": {"reputation": 1488, "user_id": 6395052, "user_type": "registered", "accept_rate": 71, "profile_image": "https://lh6.googleusercontent.com/-XKoXECLm9OM/AAAAAAAAAAI/AAAAAAAAADw/PIOmJsiX89U/photo.jpg?sz=128", "display_name": "aschultz", "link": "https://stackoverflow.com/users/6395052/aschultz"}, "edited": false, "score": 0, "creation_date": 1473548921, "post_id": 39431233, "comment_id": 66185958, "body": "While a straight up &quot;thanks&quot; is not what comments are for, I want to say--thanks for the explanation as well as giving me a sense of relief about when I&#39;ve optimized my own projects. Often when I find optimizations I say &quot;why didn&#39;t I see that earlier&quot; but it&#39;s good to know that its&#39;s not what I should be looking for, except in cases of extreme slowdown."}], "tags": [], "owner": {"reputation": 7980, "user_id": 1213907, "user_type": "registered", "accept_rate": 55, "profile_image": "https://i.stack.imgur.com/ksAFh.png?s=128&g=1", "display_name": "KeepCalmAndCarryOn", "link": "https://stackoverflow.com/users/1213907/keepcalmandcarryon"}, "is_accepted": false, "score": 4, "last_activity_date": 1473547341, "creation_date": 1473547341, "answer_id": 39431233, "question_id": 39430906, "link": "https://stackoverflow.com/questions/39430906/where-to-define-local-temp-variables-in-perl-subroutine/39431233#39431233", "title": "Where to define local temp variables in Perl subroutine?", "body": "<p>Personally I would keep the temporary variable in the for loop. Just because that is where it is used. The other way, at some point down the line it will come back to bite you (or the person who has to pick up your code) with an unexpected value.</p>\n\n<p>Also <a href=\"https://en.wikipedia.org/wiki/Program_optimization#When_to_optimize\" rel=\"nofollow\">premature optimization</a> is an <a href=\"https://en.wikipedia.org/wiki/Anti-pattern\" rel=\"nofollow\">anti-pattern</a></p>\n\n<blockquote>\n  <p>Optimization can reduce readability and add code that is used only to\n     improve the performance. This may complicate programs or systems, \n     making them harder to maintain and debug. As a result, optimization \n     or performance tuning is often performed at the end of the development \n     stage.</p>\n</blockquote>\n"}, {"tags": [], "owner": {"reputation": 1523, "user_id": 4204037, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/ab78fa882cbf4a03c4fd2a0b92622dc5?s=128&d=identicon&r=PG&f=1", "display_name": "bytepusher", "link": "https://stackoverflow.com/users/4204037/bytepusher"}, "is_accepted": false, "score": 2, "last_activity_date": 1473553603, "creation_date": 1473553603, "answer_id": 39431777, "question_id": 39430906, "link": "https://stackoverflow.com/questions/39430906/where-to-define-local-temp-variables-in-perl-subroutine/39431777#39431777", "title": "Where to define local temp variables in Perl subroutine?", "body": "<p>If you do:</p>\n\n<pre><code>for my $x ( 1 .. 50 ){\n   my $temp = $x**2;\n}# $temp goes out of scope\n</code></pre>\n\n<p>$temp will be out of scope after the for loop.\nThat basically means it no longer exists.</p>\n\n<p>If you do:</p>\n\n<pre><code>my $temp;\nfor my $x ( 1 .. 50 ){\n\n   $temp = $x**2;\n\n}# $temp is now 50**2;\n</code></pre>\n\n<p>$temp will be in the subroutine scope,\nand can be altered or returned later in the sub.</p>\n\n<p>Take a look at <a href=\"http://www.perlmonks.org/?node_id=66677\" rel=\"nofollow\">variable scoping in perl</a> to find out more.</p>\n\n<p>I agree with above poster that you should keep your variables in the scope where they are used. That way it is much clearer for you, and other people reading your code later, what the variable is for, and you will not get bugs related to assuming it was empty when it was still holding a previous value.</p>\n\n<p>If you need more speed, consider upgrading perl - for example, perl 5.24 has some nice performance increases which will far outweigh some variable saved.</p>\n\n<p>You should only optimize after the code works, and only where it actually helps, which you can find out by benchmarking (for example using <a href=\"http://search.cpan.org/~rjbs/perl-5.24.0/lib/Benchmark.pm\" rel=\"nofollow\">Benchmark</a>). </p>\n"}, {"comments": [{"owner": {"reputation": 5334, "user_id": 5830574, "user_type": "registered", "accept_rate": 93, "profile_image": "https://i.stack.imgur.com/kCmqs.png?s=128&g=1", "display_name": "PerlDuck", "link": "https://stackoverflow.com/users/5830574/perlduck"}, "edited": false, "score": 0, "creation_date": 1473595807, "post_id": 39434497, "comment_id": 66194336, "body": "Just for completeness: I tried your code and added a modified version of <code>no_tmp()</code> which also does a multiplication (like the others do), i.e. instead of your <code>$x += $_;</code> I did <code>$x = 2*$_ + $_;</code> so that all subroutines give the same result. Due to the multiplication my <code>no_tmp_mod()</code> is slower than yours and closer to <code>tmp_out()</code>. <a href=\"http://hastebin.com/hubewisehi.pl\" rel=\"nofollow noreferrer\">See hastebin</a>. But as you already said: the real difference will come from the actual calculation, not from <i>in</i> vs. <i>out</i>."}, {"owner": {"reputation": 53041, "user_id": 4653379, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/b3953dbedd0dabff5cbc3db9b0835b14?s=128&d=identicon&r=PG&f=1", "display_name": "zdim", "link": "https://stackoverflow.com/users/4653379/zdim"}, "reply_to_user": {"reputation": 5334, "user_id": 5830574, "user_type": "registered", "accept_rate": 93, "profile_image": "https://i.stack.imgur.com/kCmqs.png?s=128&g=1", "display_name": "PerlDuck", "link": "https://stackoverflow.com/users/5830574/perlduck"}, "edited": false, "score": 0, "creation_date": 1473708224, "post_id": 39434497, "comment_id": 66235870, "body": "@PerlDog  Yes, that is different, thank you for the comment.  I meant to add a &#39;reference&#39; sub which isn&#39;t the same, but I should include more, you are right.  Also, there are issues with <code>$tmp</code> getting optimized away, etc.  This was meant to be a basic sample for the OP, and a simple demo.  I plan on improving as I get a little time.  Thank you"}, {"owner": {"reputation": 53041, "user_id": 4653379, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/b3953dbedd0dabff5cbc3db9b0835b14?s=128&d=identicon&r=PG&f=1", "display_name": "zdim", "link": "https://stackoverflow.com/users/4653379/zdim"}, "reply_to_user": {"reputation": 5334, "user_id": 5830574, "user_type": "registered", "accept_rate": 93, "profile_image": "https://i.stack.imgur.com/kCmqs.png?s=128&g=1", "display_name": "PerlDuck", "link": "https://stackoverflow.com/users/5830574/perlduck"}, "edited": false, "score": 0, "creation_date": 1473804623, "post_id": 39434497, "comment_id": 66278564, "body": "@PerlDog  Finally got around to it and updated as planned. Thank you for the comment!"}, {"owner": {"reputation": 53041, "user_id": 4653379, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/b3953dbedd0dabff5cbc3db9b0835b14?s=128&d=identicon&r=PG&f=1", "display_name": "zdim", "link": "https://stackoverflow.com/users/4653379/zdim"}, "reply_to_user": {"reputation": 5334, "user_id": 5830574, "user_type": "registered", "accept_rate": 93, "profile_image": "https://i.stack.imgur.com/kCmqs.png?s=128&g=1", "display_name": "PerlDuck", "link": "https://stackoverflow.com/users/5830574/perlduck"}, "edited": false, "score": 0, "creation_date": 1473806690, "post_id": 39434497, "comment_id": 66279185, "body": "@aschultz I added a bit more to the benchmark example, with more specific commentary (and edited a little elsewhere)"}], "tags": [], "owner": {"reputation": 53041, "user_id": 4653379, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/b3953dbedd0dabff5cbc3db9b0835b14?s=128&d=identicon&r=PG&f=1", "display_name": "zdim", "link": "https://stackoverflow.com/users/4653379/zdim"}, "is_accepted": true, "score": 7, "last_activity_date": 1504220150, "last_edit_date": 1504220150, "creation_date": 1473584621, "answer_id": 39434497, "question_id": 39430906, "link": "https://stackoverflow.com/questions/39430906/where-to-define-local-temp-variables-in-perl-subroutine/39434497#39434497", "title": "Where to define local temp variables in Perl subroutine?", "body": "<p>The efficiency between these two is close enough, and it is dwarfed by any realistic processing. So I'd go by code &ndash; if the <code>$tmp</code> is indeed temporary and unneeded after the loop then it is better to keep it inside (scoped), for all the other reasons.</p>\n\n<p>Since this is about optimization I'd like to digress. Such micro-issues may have an effect. However, where you really gain is first at the level of algorithms, and then by choosing data structures and techniques suitably. The low-level tweaks are the very last thing to think about, and there are often language features and libraries that render them irrelevant. That said, one should know one's tool and not waste time around.</p>\n\n<p>Also, there is often a trade-off between the code clarity and efficiency. If it comes to that I suggest to code for correctness and clarity. Then profile and optimize if needed, cautiously and gradually, and with a lot of testing in between. </p>\n\n<p>Here is a comparison, as an example of basic use of the core module <a href=\"http://perldoc.perl.org/Benchmark.html\" rel=\"nofollow noreferrer\">Benchmark</a>. I throw in an additional operation and add other cases where there is no temporary.</p>\n\n<pre><code>use warnings 'all';\nuse strict;    \nuse Benchmark qw(cmpthese);\n\nmy $x;\n\nsub tmp_in {\n    for (1..10_000) {\n        my $tmp = 2 * $_;\n        $x = $tmp + $_;\n    }\n    return $x;\n}\n\nsub tmp_out {\n    my $tmp;\n    for (1..10_000) {\n        $tmp = 2 * $_;\n        $x = $tmp + $_;\n    }\n    return $x;\n}\n\nsub no_tmp {\n    for (1..10_000) { $x = 2 * $_ + $_ }\n    return $x;\n}\n\nsub base {\n    for (1..10_000) { $x += $_ }\n    return $x;\n}\n\nsub calc { \n    for (1..10_000) { $x += sin sqrt(rand()) }\n    return $x;\n}         \n\ncmpthese(-10, {\n    tmp_in  =&gt; sub { tmp_in  },\n    tmp_out =&gt; sub { tmp_out },\n    no_tmp  =&gt; sub { no_tmp  },\n    base    =&gt; sub { base    },        \n    calc    =&gt; sub { calc    },\n});\n</code></pre>\n\n<p>Output (on v5.16)</p>\n\n<pre>\n          Rate    calc  tmp_in tmp_out  no_tmp    base\ncalc     623/s      --    -11%    -26%    -44%    -59%\ntmp_in   698/s     12%      --    -17%    -37%    -54%\ntmp_out  838/s     34%     20%      --    -25%    -44%\nno_tmp  1117/s     79%     60%     33%      --    -26%\nbase    1510/s    142%    116%     80%     35%      --\n</pre>\n\n<p>So they differ, and apparently a declaration in a loop costs. But <code>tmp</code> versions are together in the list. Also, this is often just overhead so it is greatly exaggerated. And there are other aspects &ndash; <code>no_tmp</code> runs in one statement, for example. These things may matter only if your processing is mostly iterations.  Just generating a (high quality) pseudo-random number is expensive.  </p>\n\n<p>This may also differ (wildly) across different hardware and software versions. My results with v5.10 on a better machine are a bit different. Replace the sample 'calculations' with your processing, and run on the actual hardware, for a relevant measure of whether it matters at all.</p>\n"}], "owner": {"reputation": 1488, "user_id": 6395052, "user_type": "registered", "accept_rate": 71, "profile_image": "https://lh6.googleusercontent.com/-XKoXECLm9OM/AAAAAAAAAAI/AAAAAAAAADw/PIOmJsiX89U/photo.jpg?sz=128", "display_name": "aschultz", "link": "https://stackoverflow.com/users/6395052/aschultz"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 356, "favorite_count": 0, "accepted_answer_id": 39434497, "answer_count": 3, "score": 3, "last_activity_date": 1504220150, "creation_date": 1473544127, "last_edit_date": 1473607686, "question_id": 39430906, "link": "https://stackoverflow.com/questions/39430906/where-to-define-local-temp-variables-in-perl-subroutine", "title": "Where to define local temp variables in Perl subroutine?", "body": "<p>I took too long to use warnings; and strict; in Perl, but now I did, I see the advantages.</p>\n\n<p>One of the things I'm still not sure about is when to define a temporary variable. This may seem like a trivial thing, but I run a lot of Monte Carlo simulations where losing a bit of time adds up over 10000+ iterations. I've been lazy about using strict/warnings on quicker simulations, but they've gotten more complex, so I really need to.</p>\n\n<p>So (cutting out code to calculate stuff) I am wondering if </p>\n\n<pre><code>sub doStuff\n{\n  my $temp;\n  for my $x (1..50)\n  {\n    $temp = $x**2;\n  }\n  for my $x (1..50)\n  {\n    $temp = $x**3;\n  }\n}\n</code></pre>\n\n<p>Or</p>\n\n<pre><code>sub doStuff\n{\n  for my $x (1..50)\n  {\n    my $temp = $x**2;\n  }\n  for my $x (1..50)\n  {\n    my $temp = $x**3;\n  }\n}\n</code></pre>\n\n<p>Is less/more efficient, or if one violates some Perl coding I didn't know yet.</p>\n"}, {"tags": ["perl", "uri", "url-encoding", "diacritics"], "comments": [{"owner": {"reputation": 19, "user_id": 5373636, "user_type": "registered", "accept_rate": 0, "profile_image": "https://www.gravatar.com/avatar/2cf9b0858e73e7cc8f96ba38e752a4dc?s=128&d=identicon&r=PG&f=1", "display_name": "Marcos Camargo", "link": "https://stackoverflow.com/users/5373636/marcos-camargo"}, "edited": false, "score": 0, "creation_date": 1473525023, "post_id": 39427982, "comment_id": 66179820, "body": "I was using uri_escape and when I use uri_escape_utf then I get this URI which works. The ones without the vowels escaped are more legible. What is the official way of doing this? <a href=\"http://www.recordspreservation.org/cgi-bin/list_directory_1.cgi?directory=%2CBrasil%2CGoi%C3%A1s%2CLuzi%C3%A2nia%2CSanta%20Luzia%2CBatismos%201749-1753%2CImagens&amp;image_name=_MG_5229.JPG\" rel=\"nofollow noreferrer\">recordspreservation.org/cgi-bin/&hellip;</a>"}, {"owner": {"reputation": 123805, "user_id": 622310, "user_type": "registered", "accept_rate": 33, "profile_image": "https://www.gravatar.com/avatar/8b6d35219e1808520bc238b28161e2e6?s=128&d=identicon&r=PG", "display_name": "Borodin", "link": "https://stackoverflow.com/users/622310/borodin"}, "edited": false, "score": 1, "creation_date": 1473551012, "post_id": 39427982, "comment_id": 66186303, "body": "I&#39;m sorry if I wasn&#39;t clear in my answer. All of this is described in <a href=\"http://www.rfc-base.org/txt/rfc-3986.txt\" rel=\"nofollow noreferrer\"><b><i>RFC 3986</i></b></a>, which confirms what I wrote below. Officially, a URL may use only a restricted subset of 7-bit ASCII, and anything else must be percent-encoded. If you need to use a character outside 7-bit ASCII then it must be UTF-8-encoded, and the resulting bytes percent-encoded. It sounds like you have a server that allows you to break the rules, and I have no way of knowing what the new less-restrictive rules are, but you shouldn&#39;t rely on anything beyond the standard."}], "answers": [{"comments": [{"owner": {"reputation": 19, "user_id": 5373636, "user_type": "registered", "accept_rate": 0, "profile_image": "https://www.gravatar.com/avatar/2cf9b0858e73e7cc8f96ba38e752a4dc?s=128&d=identicon&r=PG&f=1", "display_name": "Marcos Camargo", "link": "https://stackoverflow.com/users/5373636/marcos-camargo"}, "edited": false, "score": 0, "creation_date": 1473525290, "post_id": 39428197, "comment_id": 66179905, "body": "The letters with accents seem to work without encoding. Is that acceptable? I am expecting UTF8 data and that&#39;s my problem. I should be sending UTF8."}, {"owner": {"reputation": 123805, "user_id": 622310, "user_type": "registered", "accept_rate": 33, "profile_image": "https://www.gravatar.com/avatar/8b6d35219e1808520bc238b28161e2e6?s=128&d=identicon&r=PG", "display_name": "Borodin", "link": "https://stackoverflow.com/users/622310/borodin"}, "reply_to_user": {"reputation": 19, "user_id": 5373636, "user_type": "registered", "accept_rate": 0, "profile_image": "https://www.gravatar.com/avatar/2cf9b0858e73e7cc8f96ba38e752a4dc?s=128&d=identicon&r=PG&f=1", "display_name": "Marcos Camargo", "link": "https://stackoverflow.com/users/5373636/marcos-camargo"}, "edited": false, "score": 0, "creation_date": 1473526743, "post_id": 39428197, "comment_id": 66180379, "body": "I think I&#39;m going to need to see your code. This could work if the server is expecting UTF-8, and your editor is generating and displaying UTF-8 but you don&#39;t have <code>use utf8</code> in place at the top of your program."}, {"owner": {"reputation": 123805, "user_id": 622310, "user_type": "registered", "accept_rate": 33, "profile_image": "https://www.gravatar.com/avatar/8b6d35219e1808520bc238b28161e2e6?s=128&d=identicon&r=PG", "display_name": "Borodin", "link": "https://stackoverflow.com/users/622310/borodin"}, "reply_to_user": {"reputation": 19, "user_id": 5373636, "user_type": "registered", "accept_rate": 0, "profile_image": "https://www.gravatar.com/avatar/2cf9b0858e73e7cc8f96ba38e752a4dc?s=128&d=identicon&r=PG&f=1", "display_name": "Marcos Camargo", "link": "https://stackoverflow.com/users/5373636/marcos-camargo"}, "edited": false, "score": 0, "creation_date": 1473527471, "post_id": 39428197, "comment_id": 66180598, "body": "Officially, anything other than 7-bit ASCII is illegal in a URL"}, {"owner": {"reputation": 123805, "user_id": 622310, "user_type": "registered", "accept_rate": 33, "profile_image": "https://www.gravatar.com/avatar/8b6d35219e1808520bc238b28161e2e6?s=128&d=identicon&r=PG", "display_name": "Borodin", "link": "https://stackoverflow.com/users/622310/borodin"}, "reply_to_user": {"reputation": 19, "user_id": 5373636, "user_type": "registered", "accept_rate": 0, "profile_image": "https://www.gravatar.com/avatar/2cf9b0858e73e7cc8f96ba38e752a4dc?s=128&d=identicon&r=PG&f=1", "display_name": "Marcos Camargo", "link": "https://stackoverflow.com/users/5373636/marcos-camargo"}, "edited": false, "score": 0, "creation_date": 1473527935, "post_id": 39428197, "comment_id": 66180742, "body": "@MarcosCamargo: Please take note of the update to my answer."}, {"owner": {"reputation": 19, "user_id": 5373636, "user_type": "registered", "accept_rate": 0, "profile_image": "https://www.gravatar.com/avatar/2cf9b0858e73e7cc8f96ba38e752a4dc?s=128&d=identicon&r=PG&f=1", "display_name": "Marcos Camargo", "link": "https://stackoverflow.com/users/5373636/marcos-camargo"}, "edited": false, "score": 0, "creation_date": 1473534855, "post_id": 39428197, "comment_id": 66182803, "body": "OK. Thanks. I will use the URI module and avoid the non-7 bit ASCII."}, {"owner": {"reputation": 123805, "user_id": 622310, "user_type": "registered", "accept_rate": 33, "profile_image": "https://www.gravatar.com/avatar/8b6d35219e1808520bc238b28161e2e6?s=128&d=identicon&r=PG", "display_name": "Borodin", "link": "https://stackoverflow.com/users/622310/borodin"}, "reply_to_user": {"reputation": 19, "user_id": 5373636, "user_type": "registered", "accept_rate": 0, "profile_image": "https://www.gravatar.com/avatar/2cf9b0858e73e7cc8f96ba38e752a4dc?s=128&d=identicon&r=PG&f=1", "display_name": "Marcos Camargo", "link": "https://stackoverflow.com/users/5373636/marcos-camargo"}, "edited": false, "score": 0, "creation_date": 1473544003, "post_id": 39428197, "comment_id": 66184984, "body": "@MarcosCamargo: Does the URL under <b>output</b> in my answer work correctly?"}, {"owner": {"reputation": 50468, "user_id": 1331451, "user_type": "registered", "accept_rate": 96, "profile_image": "https://i.stack.imgur.com/4ZPmj.png?s=128&g=1", "display_name": "simbabque", "link": "https://stackoverflow.com/users/1331451/simbabque"}, "edited": false, "score": 0, "creation_date": 1474096651, "post_id": 39428197, "comment_id": 66400877, "body": "This is a nice one :)"}], "tags": [], "owner": {"reputation": 123805, "user_id": 622310, "user_type": "registered", "accept_rate": 33, "profile_image": "https://www.gravatar.com/avatar/8b6d35219e1808520bc238b28161e2e6?s=128&d=identicon&r=PG", "display_name": "Borodin", "link": "https://stackoverflow.com/users/622310/borodin"}, "is_accepted": false, "score": 3, "last_activity_date": 1473543890, "last_edit_date": 1473543890, "creation_date": 1473525021, "answer_id": 39428197, "question_id": 39427982, "link": "https://stackoverflow.com/questions/39427982/what-is-the-proper-way-of-denoting-uri-with-diacritics-letters-with-accents/39428197#39428197", "title": "What is the proper way of denoting URI with diacritics (letters with accents)?", "body": "\n\n<p>The characters in a URL string must be within in a restricted subset of 7-bit ASCII, and no encoding is specified for wide characters</p>\n\n<p>Some of that set are <strong><em>unreserved</em></strong>, and may be used literally anywhere the syntax allows</p>\n\n<p>The remaining characters are <strong><em>reserved</em></strong> because they form part of the URL syntax; reserved characters must be percent-encoded if they are used outside their syntactical meaning</p>\n\n<p>Eight-bit characters that are in neither the <em>reserved</em> nor the <em>unreserved</em> categories must always be percent-encoded</p>\n\n<h2>Unreserved characters</h2>\n\n<pre class=\"lang-none prettyprint-override\"><code>0 to 9\nA to Z\na to z\n-\n.\n_\n~\n</code></pre>\n\n<h2>Reserved characters</h2>\n\n<pre class=\"lang-none prettyprint-override\"><code>! - %21\n# - %23\n$ - %24\n&amp; - %26\n' - %27\n( - %28\n) - %29\n* - %2A\n+ - %2B\n, - %2C\n/ - %2F\n: - %3A\n; - %3B\n= - %3D\n? - %3F\n@ - %40\n[ - %5B\n] - %5D\n</code></pre>\n\n<blockquote>\n  <p>This link doesn't work properly since the characters are mangled</p>\n</blockquote>\n\n<p>That is a problem between the client and the server. It looks like you're sending ISO-8859-1 characters, in which scheme <code>E1</code> and <code>E2</code> correspond to <em>e acute</em>, and <em>e circumflex</em>. But if your server is expecting UTF-8 encoding then those should appear as byte sequences <code>C3 A1</code> and <code>C3 A2</code></p>\n\n<p>I can't tell what encoding is expected by your server, but it clearly isn't what you're sending. The <a href=\"https://tools.ietf.org/html/rfc3986\" rel=\"nofollow\">current standard</a> is to encode non-ASCII characters in UTF-8 and percent-encode the resulting bytes</p>\n\n<p><br/></p>\n\n<hr>\n\n<h3>Update</h3>\n\n<p>The best solution is to use the <a href=\"https://metacpan.org/pod/URI\" rel=\"nofollow\"><code>URI</code></a> module, which will encode character string as necessary</p>\n\n<p><strong><em>Take special note that, if you need to use UTF-8-encoded characters in your source code, as below, then you must have <code>use utf8</code> at the top of your program. You also need to make sure that your editor is writing UTF-8 data to the program file.</em></strong></p>\n\n<pre class=\"lang-none prettyprint-override\"><code>use utf8;\nuse strict;\nuse warnings 'all';\nuse feature 'say';\n\nuse URI;\n\nmy $url = URI-&gt;new('http://www.recordspreservation.org/cgi-bin/list_directory_1.cgi?directory=,Brasil,Goi\u00e1s,Luzi\u00e2nia,Santa Luzia,Batismos 1749-1753,Imagens&amp;image_name=_MG_5229.JPG');\n\nsay $url;\n</code></pre>\n\n<h3>output</h3>\n\n<pre class=\"lang-none prettyprint-override\"><code>http://www.recordspreservation.org/cgi-bin/list_directory_1.cgi?directory=,Brasil,Goi%C3%A1s,Luzi%C3%A2nia,Santa%20Luzia,Batismos%201749-1753,Imagens&amp;image_name=_MG_5229.JPG\n</code></pre>\n"}], "owner": {"reputation": 19, "user_id": 5373636, "user_type": "registered", "accept_rate": 0, "profile_image": "https://www.gravatar.com/avatar/2cf9b0858e73e7cc8f96ba38e752a4dc?s=128&d=identicon&r=PG&f=1", "display_name": "Marcos Camargo", "link": "https://stackoverflow.com/users/5373636/marcos-camargo"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 370, "favorite_count": 1, "answer_count": 1, "score": 2, "last_activity_date": 1473613617, "creation_date": 1473523596, "last_edit_date": 1473613617, "question_id": 39427982, "link": "https://stackoverflow.com/questions/39427982/what-is-the-proper-way-of-denoting-uri-with-diacritics-letters-with-accents", "title": "What is the proper way of denoting URI with diacritics (letters with accents)?", "body": "<p>What is the correct and official way of using diacritics in URI? </p>\n\n<p>I have 3 different ways shown below:</p>\n\n\n\n<ol>\n<li><p>Here <code>\u00e1</code> = <code>%E1</code>, <code>\u00e2</code> = <code>%E2</code>, space = <code>%20</code>, comma = <code>%2C</code>, but this link doesn't work properly since the characters are mangled:</p>\n\n<pre class=\"lang-none prettyprint-override\"><code>http://www.recordspreservation.org/cgi-bin/list_directory_1.cgi?directory=%2CBrasil%2CGoi%E1s%2CLuzi%E2nia%2CSanta%20Luzia%2CBatismos%201749-1753%2CImagens&amp;image_name=_MG_5229.JPG\n</code></pre></li>\n<li><p>Here space = <code>%20</code>, comma = <code>%2C</code> and I don't do anything with the a's. This link works:</p>\n\n<pre class=\"lang-none prettyprint-override\"><code>http://www.recordspreservation.org/cgi-bin/list_directory_1.cgi?directory=%2CBrasil%2CGoi\u00e1s%2CLuzi\u00e2nia%2CSanta%20Luzia%2CBatismos%201749-1753%2CImagens&amp;image_name=_MG_5229.JPG\n</code></pre></li>\n<li><p>Here space = <code>+</code>, comma = <code>%2C</code> and I don't do anything with the a's. This link works:</p>\n\n<pre class=\"lang-none prettyprint-override\"><code>http://www.recordspreservation.org/cgi-bin/list_directory_1.cgi?directory=%2CBrasil%2CGoi\u00e1s%2CLuzi\u00e2nia%2CSanta+Luzia%2CBatismos+1749-1753%2CImagens&amp;image_name=_MG_5229.JPG\n</code></pre></li>\n</ol>\n"}, {"tags": ["regex", "perl"], "comments": [{"owner": {"reputation": 2415, "user_id": 4251338, "user_type": "registered", "accept_rate": 90, "profile_image": "https://i.stack.imgur.com/UNbCO.png?s=128&g=1", "display_name": "ssr1012", "link": "https://stackoverflow.com/users/4251338/ssr1012"}, "edited": false, "score": 0, "creation_date": 1473499700, "post_id": 39424624, "comment_id": 66173304, "body": "open (INFILE, &quot;&lt;<code>Sample1.log</code>&quot;) or die &quot;Couldn&#39;t open file <code>M1SLP.txt</code>\\n&quot;; This is confusion. Which is input and output."}, {"owner": {"reputation": 123805, "user_id": 622310, "user_type": "registered", "accept_rate": 33, "profile_image": "https://www.gravatar.com/avatar/8b6d35219e1808520bc238b28161e2e6?s=128&d=identicon&r=PG", "display_name": "Borodin", "link": "https://stackoverflow.com/users/622310/borodin"}, "edited": false, "score": 1, "creation_date": 1473502702, "post_id": 39424624, "comment_id": 66174057, "body": "A proper problem description includes the input data, the program, the output you are getting, the output that you want, and a description of the discrepancy. You will need to give at least a representative sample of your input data that we can use to test."}, {"owner": {"reputation": 123805, "user_id": 622310, "user_type": "registered", "accept_rate": 33, "profile_image": "https://www.gravatar.com/avatar/8b6d35219e1808520bc238b28161e2e6?s=128&d=identicon&r=PG", "display_name": "Borodin", "link": "https://stackoverflow.com/users/622310/borodin"}, "edited": false, "score": 0, "creation_date": 1473502917, "post_id": 39424624, "comment_id": 66174121, "body": "The most obvious problem is the line <code>@temp_M1SLP = $line</code>, which will simply copy the contents of <code>$line</code> into <code>$temp_M1SLP[0]</code>. It looks like you may be expecting <code>$line</code> to be split on whitespace, which requires <code>@temp_M1SLP = split &#39; &#39;, $line</code>, but you have given too little information for that to be more than a guess."}, {"owner": {"reputation": 123805, "user_id": 622310, "user_type": "registered", "accept_rate": 33, "profile_image": "https://www.gravatar.com/avatar/8b6d35219e1808520bc238b28161e2e6?s=128&d=identicon&r=PG", "display_name": "Borodin", "link": "https://stackoverflow.com/users/622310/borodin"}, "edited": false, "score": 3, "creation_date": 1473503218, "post_id": 39424624, "comment_id": 66174205, "body": "Please indent your code to properly reflect the nested blocks. While you may enjoy the challenge of counting braces to understand the structure of your code, it is only polite to make your code as readable as possible if you are asking for help with it. You will <i>never</i> see professional code in such a shambles."}, {"owner": {"reputation": 11, "user_id": 6816291, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/0a1f6f8d31cd3199e83e003c355d630c?s=128&d=identicon&r=PG&f=1", "display_name": "Tatman", "link": "https://stackoverflow.com/users/6816291/tatman"}, "edited": false, "score": 0, "creation_date": 1473508619, "post_id": 39424624, "comment_id": 66175563, "body": "Sorry , I forgot the input file (Sample1.txt)"}, {"owner": {"reputation": 11, "user_id": 6816291, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/0a1f6f8d31cd3199e83e003c355d630c?s=128&d=identicon&r=PG&f=1", "display_name": "Tatman", "link": "https://stackoverflow.com/users/6816291/tatman"}, "edited": false, "score": 0, "creation_date": 1473508652, "post_id": 39424624, "comment_id": 66175577, "body": "Here is the input file"}, {"owner": {"reputation": 5334, "user_id": 5830574, "user_type": "registered", "accept_rate": 93, "profile_image": "https://i.stack.imgur.com/kCmqs.png?s=128&g=1", "display_name": "PerlDuck", "link": "https://stackoverflow.com/users/5830574/perlduck"}, "reply_to_user": {"reputation": 123805, "user_id": 622310, "user_type": "registered", "accept_rate": 33, "profile_image": "https://www.gravatar.com/avatar/8b6d35219e1808520bc238b28161e2e6?s=128&d=identicon&r=PG", "display_name": "Borodin", "link": "https://stackoverflow.com/users/622310/borodin"}, "edited": false, "score": 1, "creation_date": 1473516093, "post_id": 39424624, "comment_id": 66177331, "body": "@Borodin Thank you for formatting the code. I further edited it and removed unused code which was commented-out so we can grasp it easier. If s.o. finds this inappropriate, please rollback my edit (I&#39;m not sure about my edit.)"}, {"owner": {"reputation": 11, "user_id": 6816291, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/0a1f6f8d31cd3199e83e003c355d630c?s=128&d=identicon&r=PG&f=1", "display_name": "Tatman", "link": "https://stackoverflow.com/users/6816291/tatman"}, "edited": false, "score": 0, "creation_date": 1473517826, "post_id": 39424624, "comment_id": 66177796, "body": "Thanks Borodin, Your removed the unused code. Also, I also updated the problem by adding the current output. So, can you check the code now please?"}], "answers": [{"comments": [{"owner": {"reputation": 5334, "user_id": 5830574, "user_type": "registered", "accept_rate": 93, "profile_image": "https://i.stack.imgur.com/kCmqs.png?s=128&g=1", "display_name": "PerlDuck", "link": "https://stackoverflow.com/users/5830574/perlduck"}, "edited": false, "score": 0, "creation_date": 1473519790, "post_id": 39426999, "comment_id": 66178283, "body": "Very elegant solution! I always forget about <code>pack&#47;unpack</code>. I didn&#39;t investigate further, but this might also be a job for Perl&#39;s <a href=\"http://perldoc.perl.org/perlform.html\" rel=\"nofollow noreferrer\"><code>format&#47;write</code></a> facility. I never used it seriously, though."}, {"owner": {"reputation": 123805, "user_id": 622310, "user_type": "registered", "accept_rate": 33, "profile_image": "https://www.gravatar.com/avatar/8b6d35219e1808520bc238b28161e2e6?s=128&d=identicon&r=PG", "display_name": "Borodin", "link": "https://stackoverflow.com/users/622310/borodin"}, "reply_to_user": {"reputation": 5334, "user_id": 5830574, "user_type": "registered", "accept_rate": 93, "profile_image": "https://i.stack.imgur.com/kCmqs.png?s=128&g=1", "display_name": "PerlDuck", "link": "https://stackoverflow.com/users/5830574/perlduck"}, "edited": false, "score": 0, "creation_date": 1473605692, "post_id": 39426999, "comment_id": 66197033, "body": "@PerlDog: I don&#39;t like <code>format</code>, mainly because I always have to read up again how to use it, and it will never <i>quite</i> do what I want. <a href=\"https://metacpan.org/pod/Perl6::Form\" rel=\"nofollow noreferrer\">Perl6::Form</a> is an implementation of the Perl 6 <code>form</code> operator, which is far better."}, {"owner": {"reputation": 11, "user_id": 6816291, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/0a1f6f8d31cd3199e83e003c355d630c?s=128&d=identicon&r=PG&f=1", "display_name": "Tatman", "link": "https://stackoverflow.com/users/6816291/tatman"}, "edited": false, "score": 0, "creation_date": 1473692068, "post_id": 39426999, "comment_id": 66227728, "body": "@Borodin . Thank You very much.  As a beginner in Perl. I learn many things from your code, Especially about (unpack).   I still have one query. Why you used ( $tail[1] += 0; ). It tried to remove it from the code, and the code working fine. Can you explain please?"}, {"owner": {"reputation": 123805, "user_id": 622310, "user_type": "registered", "accept_rate": 33, "profile_image": "https://www.gravatar.com/avatar/8b6d35219e1808520bc238b28161e2e6?s=128&d=identicon&r=PG", "display_name": "Borodin", "link": "https://stackoverflow.com/users/622310/borodin"}, "reply_to_user": {"reputation": 11, "user_id": 6816291, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/0a1f6f8d31cd3199e83e003c355d630c?s=128&d=identicon&r=PG&f=1", "display_name": "Tatman", "link": "https://stackoverflow.com/users/6816291/tatman"}, "edited": false, "score": 0, "creation_date": 1473694238, "post_id": 39426999, "comment_id": 66228999, "body": "@Tatman: That is the numeric <code>NO</code> field which has leading spaces in the input data. Adding zero to it simply converts it into an integer value so that <code>printf</code> can align it properly. If you look at the output without that statement you will see that the values aren&#39;t aligned properly under the heading as you requested."}, {"owner": {"reputation": 11, "user_id": 6816291, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/0a1f6f8d31cd3199e83e003c355d630c?s=128&d=identicon&r=PG&f=1", "display_name": "Tatman", "link": "https://stackoverflow.com/users/6816291/tatman"}, "edited": false, "score": 0, "creation_date": 1473833784, "post_id": 39426999, "comment_id": 66285721, "body": "@Borodin Based on your profile, you have skills on AWK. I have posted a query for AWK script, because i tried to get the output in a specific format. But i couldn&#39;t.  If have time and take a look for it , I&#39;ll be appreciated. The problem is in the title      (AWK: Unable to get the output desired based on my file using (substr &amp; Regex))."}], "tags": [], "owner": {"reputation": 123805, "user_id": 622310, "user_type": "registered", "accept_rate": 33, "profile_image": "https://www.gravatar.com/avatar/8b6d35219e1808520bc238b28161e2e6?s=128&d=identicon&r=PG", "display_name": "Borodin", "link": "https://stackoverflow.com/users/622310/borodin"}, "is_accepted": false, "score": 2, "last_activity_date": 1473519941, "last_edit_date": 1473519941, "creation_date": 1473517552, "answer_id": 39426999, "question_id": 39424624, "link": "https://stackoverflow.com/questions/39424624/unable-to-print-some-array-elements-in-specific-format-in-perl/39426999#39426999", "title": "Unable to print some array elements in specific format in Perl", "body": "\n\n<p>I would have preferred to see more effort to solve this yourself, in particular I don't see why I had to format your Perl code for you after asking you to do it</p>\n\n<p>However, here is a solution to get this question out of the way</p>\n\n<pre class=\"lang-perl prettyprint-override\"><code>#!/usr/bin/perl\n\nuse strict;\nuse warnings 'all';\n\nmy $header = \"CODE           NAME         DST    TY  DAIS             NO    STAT             TM     TMW\";\n\n# Construct the printf format string to reproduce the header line spacing\n#\nmy $format = do {\n\n    my @start;\n    push @start, $-[0] while $header =~ /\\S+/g;\n\n    my @sizes = map { $start[$_+1] - $start[$_] } 0 .. $#start-1;\n\n    join(\"\", map { \"%-${_}s\" } @sizes, \"\") . \"\\n\";\n};\n\nprintf $format, split ' ', $header;\n\nopen my $fh, '&lt;', 'Sample1.log' or die qq{Couldn't open file \"Sample1.log\" for input: $!};\n\nmy @head;\n\nwhile ( &lt;$fh&gt; ) {\n\n    # Example:\n    # CODE           NAME         DST    TY\n    # 2-2017         121CM02      AVA    PP\n\n    if (/^\\d+-\\d+/) {\n        @head = unpack 'A15 A13 A7 A*';\n    }\n\n    # Example:\n    #                DAIS             NO    STAT             TM     TMW\n    #                EP022CM02           1  DM-ACT-AVA              10\n    #                EP032CM02           1  DM-BAT-BTA       20       \n\n    elsif ( /\\d/ ) {\n\n        my @tail = unpack '@15 A17 A6 A17 A7 A*';\n        $tail[1] += 0;\n\n        printf $format, @head, @tail;\n    }\n}\n</code></pre>\n\n<h3>output</h3>\n\n<pre class=\"lang-none prettyprint-override\"><code>CODE           NAME         DST    TY  DAIS             NO    STAT             TM     TMW\n2-2017         121CM02      AVA    PP  EP022CM02        1     DM-ACT-AVA              10\n2-2017         121CM02      AVA    PP  EP032CM02        1     DM-BAT-BTA       20     \n2-2033         119LHR       AVA    PP  HLR3EP03203      1     DM-BAT-BTA              \n2-2110         119A1AU      AVA    PP  A1AUEP080        1     DM-BAT-BTA              \n2-2110         119A1AU      AVA    PP  A1AUEP090        1     DM-BAT-BTA              \n2-2110         119A1AU      AVA    PP  A1AUEP110        1     DM-BAT-BTA              \n2-2110         119A1AU      AVA    PP  A1AUEP100        1     DM-BAT-BTA              \n</code></pre>\n"}, {"comments": [{"owner": {"reputation": 5334, "user_id": 5830574, "user_type": "registered", "accept_rate": 93, "profile_image": "https://i.stack.imgur.com/kCmqs.png?s=128&g=1", "display_name": "PerlDuck", "link": "https://stackoverflow.com/users/5830574/perlduck"}, "edited": false, "score": 0, "creation_date": 1473597142, "post_id": 39427268, "comment_id": 66194701, "body": "@Tatman Please don&#39;t edit <i>my</i> answer to post <i>your</i> attempts. You wrote you tried to simulate my code and got an error. That is because you kept your logical mistakes and just moved the <code>print</code> statements around."}, {"owner": {"reputation": 11, "user_id": 6816291, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/0a1f6f8d31cd3199e83e003c355d630c?s=128&d=identicon&r=PG&f=1", "display_name": "Tatman", "link": "https://stackoverflow.com/users/6816291/tatman"}, "edited": false, "score": 0, "creation_date": 1473598395, "post_id": 39427268, "comment_id": 66195006, "body": "Sorry, I&#39;ll not edit your code. I just tried to know where is my fault. As you said, my logic still wrong. Can you show my why.?"}, {"owner": {"reputation": 5334, "user_id": 5830574, "user_type": "registered", "accept_rate": 93, "profile_image": "https://i.stack.imgur.com/kCmqs.png?s=128&g=1", "display_name": "PerlDuck", "link": "https://stackoverflow.com/users/5830574/perlduck"}, "reply_to_user": {"reputation": 11, "user_id": 6816291, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/0a1f6f8d31cd3199e83e003c355d630c?s=128&d=identicon&r=PG&f=1", "display_name": "Tatman", "link": "https://stackoverflow.com/users/6816291/tatman"}, "edited": false, "score": 0, "creation_date": 1473601692, "post_id": 39427268, "comment_id": 66195886, "body": "@Tatman One problem is that you use two loops to read your file. The inner loop reads up to EOF and <code>$line</code> becomes <code>undef</code> and the <code>while ( $line =~ &#47;^\\s+\\w+&#47; ) {</code> then fails. Also, you reset <code>@temp_M1SLP = $line;</code> in each outer loop to something useless which voids all the variables already stored in <code>@temp_M1SLP[0..3]</code> (from the previous iteration). Drop the <code>@temp_M1SLP = $line;</code> and check for definedness of <code>$line</code> in <i>both</i> loops, not just the outer one."}, {"owner": {"reputation": 11, "user_id": 6816291, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/0a1f6f8d31cd3199e83e003c355d630c?s=128&d=identicon&r=PG&f=1", "display_name": "Tatman", "link": "https://stackoverflow.com/users/6816291/tatman"}, "edited": false, "score": 0, "creation_date": 1473692909, "post_id": 39427268, "comment_id": 66228226, "body": "Thank you very much for your support.  You gave me very good support . You helped me 2 times. The 1st one when you provide me a code with same way that I programmed my code. The 2nd that, Your last comments show me my faults. And I corrected my code based on your comments and it works fine."}], "tags": [], "owner": {"reputation": 5334, "user_id": 5830574, "user_type": "registered", "accept_rate": 93, "profile_image": "https://i.stack.imgur.com/kCmqs.png?s=128&g=1", "display_name": "PerlDuck", "link": "https://stackoverflow.com/users/5830574/perlduck"}, "is_accepted": true, "score": 0, "last_activity_date": 1473519352, "last_edit_date": 1495542172, "creation_date": 1473519352, "answer_id": 39427268, "question_id": 39424624, "link": "https://stackoverflow.com/questions/39424624/unable-to-print-some-array-elements-in-specific-format-in-perl/39427268#39427268", "title": "Unable to print some array elements in specific format in Perl", "body": "<p>My solution firstly skips all irrelevant lines. When a line starting with <code>\\d-\\d+</code> is found (like <code>2-2017\u2026</code>) then the fields CODE, NAME, DST, and TY are only <em>stored</em> in global variables. I replaced your array <code>@temp_M1SLP</code> with explicit variable names for that.</p>\n\n<p>When a line is found that looks like DAIS, NO, \u2026 (identified by a line with a word after whitespace), then the values from the preceding section (CODE, NAME, \u2026) <em>and</em> the current values are printed.</p>\n\n<p>My code more or less is a shuffled version of your code. However, I like <a href=\"https://stackoverflow.com/a/39426999/5830574\">Borodin's solution</a> better as it is much more elegant.</p>\n\n<pre><code>#!/usr/bin/env perl\n\nuse strict;\nuse warnings 'all';\n\nmy $header = \"CODE          NAME      DST     TY   DAIS                NO  STAT          TM     TMW\";\nprint \"$header\\n\";\n\nmy ( $code, $name, $dst, $ty );\nopen( INFILE, \"&lt;Sample1.log\" ) or die \"Couldn't open file Sample1.log\\n\";\nwhile ( my $line = &lt;INFILE&gt; ) {\n\n    chomp($line);\n\n    # skip header, subheader, and empty lines:\n    next if ( $line =~ /^CODE\\s+NAME\\s+DST\\s+TY/ );\n    next if ( $line =~ /^\\s+DAIS\\s+NO\\s+STAT\\s+TM\\s+TMW/ );\n    next if ( $line !~ /\\S/ );\n\n    # code section found? then remember the values\n    # but don't print them yet.\n    if ( $line =~ /^\\d-\\d+/ ) {\n        $code = substr( $line, 0,  14 );\n        $name = substr( $line, 15, 7 );\n        $dst  = substr( $line, 28, 5 );\n        $ty   = substr( $line, 35, 4 );\n    }\n\n    # line with DAIS, NO, ... found? then print the columns from\n    # the code section _and_ the columns of this line:\n    if ( $line =~ /^\\s+\\w+/ ) {\n        my $dais = substr( $line, 15, 15 );\n        my $no   = substr( $line, 32, 4 );\n        my $stat = substr( $line, 38, 14 );\n        my $tm   = substr( $line, 55, 7 );\n        my $tmw  = substr( $line, 62, 5 );\n\n        printf( \"%-10s\",  $code );    # from code section\n        printf( \"%-10s\",  $name );    #        \"\n        printf( \"%-8s\",   $dst );     #        \"\n        printf( \"%-5s\",   $ty );      #        \"\n        printf( \"%-18s\",  $dais );    # from current line\n        printf( \"%-6s\",   $no );      #        \"\n        printf( \"%-8s\",   $stat );    #        \"\n        printf( \"%-8s\",   $tm );      #        \"\n        printf( \"%-5s\\n\", $tmw );     #        \"\n    }\n\n}\n</code></pre>\n\n<h2>Output</h2>\n\n<pre><code>CODE          NAME      DST     TY   DAIS                NO  STAT          TM     TMW\n2-2017        121CM02   AVA     PP   EP022CM02            1  DM-ACT-AVA            10   \n2-2017        121CM02   AVA     PP   EP032CM02            1  DM-BAT-BTA    20           \n2-2033        119LHR    AVA     PP   HLR3EP03203          1  DM-BAT-BTA                 \n2-2110        119A1AU   AVA     PP   A1AUEP080            1  DM-BAT-BTA                 \n2-2110        119A1AU   AVA     PP   A1AUEP090            1  DM-BAT-BTA                 \n2-2110        119A1AU   AVA     PP   A1AUEP110            1  DM-BAT-BTA                 \n2-2110        119A1AU   AVA     PP   A1AUEP100            1  DM-BAT-BTA                 \n</code></pre>\n"}], "owner": {"reputation": 11, "user_id": 6816291, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/0a1f6f8d31cd3199e83e003c355d630c?s=128&d=identicon&r=PG&f=1", "display_name": "Tatman", "link": "https://stackoverflow.com/users/6816291/tatman"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 102, "favorite_count": 0, "accepted_answer_id": 39427268, "answer_count": 2, "score": -1, "last_activity_date": 1473519941, "creation_date": 1473499493, "last_edit_date": 1473517655, "question_id": 39424624, "link": "https://stackoverflow.com/questions/39424624/unable-to-print-some-array-elements-in-specific-format-in-perl", "title": "Unable to print some array elements in specific format in Perl", "body": "\n\n<p>Having the following script to process a file and provide the output in the specific format.\nI'm unable to the make the desired output table.</p>\n\n<p>the input </p>\n\n<pre class=\"lang-perl prettyprint-override\"><code>#!/usr/bin/perl -w\n\nuse strict;\nuse warnings;\nuse Data::Dumper;\nuse diagnostics;\n\nmy $temp_M1SLP;\nmy @temp_M1SLP;\n\nmy $start_run = time();\n\nmy $header = \"CODE           NAME         DST    TY  DAIS             NO    STAT             TM     TMW\";\nprint \"$header\\n\";\n\nopen( INFILE, \"&lt;Sample1.log\" ) or die \"Couldn't open file M1SLP.txt\\n\";\nwhile ( my $line = &lt;INFILE&gt; ) {\n\n    chomp($line);\n    @temp_M1SLP = $line;\n\n    if ( $line =~ /^\\d-\\d+/ ) {\n        $temp_M1SLP[0] = ( substr $line, 0,  14 );\n        $temp_M1SLP[1] = ( substr $line, 15, 7 );\n        $temp_M1SLP[2] = ( substr $line, 28, 5 );\n        $temp_M1SLP[3] = ( substr $line, 35, 4 );\n\n        printf( \"%-10s\", $temp_M1SLP[0] );\n        printf( \"%-10s\", $temp_M1SLP[1] );\n        printf( \"%-8s\",  $temp_M1SLP[2] );\n        printf( \"%-5s\",  $temp_M1SLP[3] );\n    }\n\n    next if ( $line =~ /^               DAIS             NO    STAT             TM     TMW/ );\n\n    {\n        while ( $line =~ /^\\s+\\w+/ ) {\n\n            $temp_M1SLP[4] = ( substr $line, 15, 15 );\n            $temp_M1SLP[5] = ( substr $line, 32, 4 );\n            $temp_M1SLP[6] = ( substr $line, 38, 14 );\n            $temp_M1SLP[7] = ( substr $line, 55, 7 );\n            $temp_M1SLP[8] = ( substr $line, 62, 5 );\n\n            printf( \"%-18s\", $temp_M1SLP[4] );\n            printf( \"%-6s\",  $temp_M1SLP[5] );\n            printf( \"%-8s\",  $temp_M1SLP[6] );\n            printf( \"%-8s\",  $temp_M1SLP[7] );\n            printf( \"%-5s\",  \"$temp_M1SLP[8]\\n\" );\n\n            $line = &lt;INFILE&gt;;\n        }\n    }\n}\n\nmy $end_run = time();\n</code></pre>\n\n<p>The output file will be in this format</p>\n\n<pre class=\"lang-none prettyprint-override\"><code>CODE           NAME         DST     TY   DAIS                NO    STAT             TM     TMW\n2-2017        121CM02       AVA     PP   EP022CM02           1     DM-ACT-AVA              10\n2-2017        121CM02       AVA     PP   EP032CM02           1     DM-BAT-BTA       20        \n2-2033        119LHR        AVA     PP   HLR3EP03203         1     DM-BAT-BTA            \n2-2110        119A1AU       AVA     PP   A1AUEP080           1     DM-BAT-BTA            \n2-2110        119A1AU       AVA     PP    A1AUEP090          1     DM-BAT-BTA            \n2-2110        119A1AU       AVA     PP   A1AUEP110           1     DM-BAT-BTA            \n2-2110        119A1AU       AVA     PP   A1AUEP100           1     DM-BAT-BTA            \n</code></pre>\n\n<p>The input file  (Sampel1.txt) is as shown</p>\n\n<pre class=\"lang-none prettyprint-override\"><code>CODE           NAME         DST    TY\n2-2017         121CM02      AVA    PP\n\n               DAIS             NO    STAT             TM     TMW\n               EP022CM02           1  DM-ACT-AVA              10\n               EP032CM02           1  DM-BAT-BTA       20       \n\n2-2033         119LHR       AVA    PP\n\n               DAIS             NO    STAT             TM     TMW\n               HLR3EP03203         1  DM-BAT-BTA              \n\n2-2110         119A1AU      AVA    PP\n\n               DAIS             NO    STAT             TM     TMW\n               A1AUEP080           1  DM-BAT-BTA              \n               A1AUEP090           1  DM-BAT-BTA              \n               A1AUEP110           1  DM-BAT-BTA              \n               A1AUEP100           1  DM-BAT-BTA              \n</code></pre>\n\n<p>But currently, I got the output as following. Please your support to check the code and corrected</p>\n\n<pre class=\"lang-none prettyprint-override\"><code>CODE           NAME         DST    TY  DAIS              NO    STAT               TM     TMW\n2-2017        121CM02   AVA     PP   EP022CM02            1  DM-ACT-AVA            10\n  EP032CM02            1  DM-BAT-BTA    20        \n\n 2-2033        119LHR    AVA     PP   HLR3EP03203          1  DM-BAT-BTA            \n 2-2110        119A1AU   AVA     PP   A1AUEP080            1  DM-BAT-BTA            \n    A1AUEP090            1  DM-BAT-BTA            \n\n   A1AUEP110            1  DM-BAT-BTA            \n\n   A1AUEP100            1  DM-BAT-BTA\n</code></pre>\n"}, {"tags": ["perl", "encryption", "web-crawler"], "comments": [{"owner": {"reputation": 320771, "user_id": 589924, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/b2cf53d5a3d25f95c0db4e025aed4153?s=128&d=identicon&r=PG", "display_name": "ikegami", "link": "https://stackoverflow.com/users/589924/ikegami"}, "edited": false, "score": 0, "creation_date": 1473464063, "post_id": 39420770, "comment_id": 66166964, "body": "Proabably just compressed. Try removing <code>:content_file</code> and using <code>$response-&gt;decoded_content( charset =&gt; &#39;none&#39; )</code> to get the file. Might be a better way."}, {"owner": {"reputation": 18935, "user_id": 19405, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/a72b55a41a43ea0493fc64641a1ed295?s=128&d=identicon&r=PG", "display_name": "nobody", "link": "https://stackoverflow.com/users/19405/nobody"}, "edited": false, "score": 0, "creation_date": 1473473177, "post_id": 39420770, "comment_id": 66168420, "body": "Have you made <i>any</i> attempts to debug? Looked at a hex dump of the mystery data (far more useful than the printable view)? Used Wireshark to inspect the headers being exchanged between the client and server?"}], "answers": [{"tags": [], "owner": {"reputation": 89568, "user_id": 3081018, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/Z2NYm.png?s=128&g=1", "display_name": "Steffen Ullrich", "link": "https://stackoverflow.com/users/3081018/steffen-ullrich"}, "is_accepted": true, "score": 2, "last_activity_date": 1473474397, "creation_date": 1473474397, "answer_id": 39421931, "question_id": 39420770, "link": "https://stackoverflow.com/questions/39420770/scripted-downloading-using-perl-from-sec-website-producing-encrypted-documents-u/39421931#39421931", "title": "Scripted downloading using Perl from SEC website producing encrypted documents unexpectedly", "body": "<p><code>:content_file</code> will dump the raw content to the specific file.\nIf you do a <code>print $ua-&gt;res-&gt;headers-&gt;as_string</code> to get the HTTP header of the response you will see a <code>Content-Encoding: gzip</code> header. This means that is the content is compressed with gzip. A quick  <code>gzip -dc</code> on your saved file will thus provide you with the decompressed file.</p>\n\n<p>As ikegami mentioned in the comment you should use <code>decoded_content</code> instead to access the data. As the name implies this will not give you the raw content but will apply the necessary decoding, in this case the decompression:</p>\n\n<pre><code>my $ua = WWW::Mechanize-&gt;new();\n$ua-&gt;get('https://www.sec.gov/Archives/edgar/data/1001838/000110465912008133/0001104659-12-008133.txt');\nprint $ua-&gt;res-&gt;decoded_content;\n</code></pre>\n"}], "owner": {"reputation": 1683, "user_id": 4736556, "user_type": "registered", "accept_rate": 100, "profile_image": "https://i.stack.imgur.com/X10dc.png?s=128&g=1", "display_name": "jshapy8", "link": "https://stackoverflow.com/users/4736556/jshapy8"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 87, "favorite_count": 0, "closed_date": 1473516913, "accepted_answer_id": 39421931, "answer_count": 1, "score": -2, "last_activity_date": 1473474439, "creation_date": 1473461808, "last_edit_date": 1473474439, "question_id": 39420770, "link": "https://stackoverflow.com/questions/39420770/scripted-downloading-using-perl-from-sec-website-producing-encrypted-documents-u", "closed_reason": "Not suitable for this site", "title": "Scripted downloading using Perl from SEC website producing encrypted documents unexpectedly", "body": "<p>I have a script written in Perl that retrieves \"Complete submission text files\" of company filings such as 8-K and 10-K statements.</p>\n\n<p>Even though these files are .txt files, they are actually HTML files. Here is an example of a header of one of these particular files:</p>\n\n<pre><code>&lt;SEC-DOCUMENT&gt;0001104659-12-008133.txt : 20120209\n&lt;SEC-HEADER&gt;0001104659-12-008133.hdr.sgml : 20120209\n&lt;ACCEPTANCE-DATETIME&gt;20120209153739\n</code></pre>\n\n<p>This particular file is located here: <a href=\"https://www.sec.gov/Archives/edgar/data/1001838/000110465912008133/0001104659-12-008133.txt\" rel=\"nofollow\">https://www.sec.gov/Archives/edgar/data/1001838/000110465912008133/0001104659-12-008133.txt</a> </p>\n\n<p>As you can see, when you click on the file you can read the contents. However, the Perl script that downloads this file produces a file with contents that look something like this: </p>\n\n<blockquote>\n  <p>\u00b1\u0161\u00dc\u00cf\u00a6\u00a8^\u0178\u00a8T\u00a1\u0161\u00af\u00c0\u00bd\u00e4\u00be\u000b\u2039\u2122R\u00b6\u00a6\n  [T)S,\u201d\u00e0\u00eb\u00a7\u2013f+\u2122\u2022\u00b5\u02dc\u00a8\u00c0\u00e1\u00ca\u2019jv\u2013I\u00e9\u00b7T\u00a1\u00ad\u0160\u00a5\u00e9-\u201cRZujKk)\u00ad\u0161\u00a64\u00a8\u201d\u00de\u00aak\u00e4\u2039\u00b7n\u00f0\u00fc\u00b3\u00b2\u00a5XjSmY\u00ce\u00f5\u2122?\u00f7\u00daf\u2122S[\u00d9}hV\u00a2L\u0161D\u00c6.zjy\u00df\u00fd<em>\u00b5\u201c\u00c8o\u00bf\u00f8\u00d2\u00be\u00b2\u203a\u0161\u00faO\u00aa+&amp;\u00f2'\u00e4\u00f2D\u00ec?S\u00ffy\u00fa\u00e0\u00b9\u00db\u00f9D\u017d\\\u00fc\u0178r\u00a1Z\u00d9\u00c9\u201d\u00f2\u00f0U\u2020\u00fe\u201d\u0160+\u00e4\n  \u00afRbZ\u0178\u00ceS{\u2122\u0013\u00f2c\u201a\u00fc\"\u00f0\u20392@\u02dcN\u201d\u00d2\u00e4'\u00d5r\u00a5\u201d\u2026_\u00a7\u00f6\u0013\u20ac\u00c1V6\u00d5\u00edn.SOs\u00d9|6\u00bfM\u00c1\u00b5\u00ec\\\u2122-\u2022\u0178q\u00fd\u00cf\n  \u00c8\u02c6e\u00c3\u00a2sS\u00e8!t/\u203a'-)\u201dz\u00e3\u00f6\u0178t\u00be\u00de\u00ca\u2013Sp\u00c3\u201cL\u00a2De\u00f2i\u00f29\u00c7\u000bt\u00faN\u017eq\u02dc\u00d8\u00aff\u00ca1\u00f2S\u00e8g\u2014\n  6\u00e0\u00de\u2122\u2022H\u00fc\u00b9\u00a8 R\u2030\u0161\u00d5\u00fd\u0152\u00dbS\u0192\u00a0!Nde\u00d9~\u00dc~\u00ee\u00b9\u00a5/E\u00e4H\u02dc\u2026\u00a7%\u00ab\u00e5lJ%\u00d2\u00e9\u00fc\u00b5\u00c6\n  \u201c\u00a9P\u00f9)\u00e18</em>\u000ft\u00da\u00a1\u00a0G\u00d5\u2022\u00dc?L?\u00ff\u2020\u2021\u00df\u201d\u00ab@\u000f\u0160\u2014X\u2013\fw\u00b6bpq\u00a7\u00c9g{#A>J\u0153\u00c2\u00bb\u00d3l\u2018\u00bc\u017dH,O\u00c6\u00fe\u00e9\u00f9\u00f0\u00fb&lt;\u00f9\u2022\u00cc\u00f2!1*\u2020$\u00be\u0178\u00faO.\u2018\u00dd\u00ff\u2122\u00b6M\u00d9o\u0013\u00c9\u00a6\u0153\u00fd\u00f4\u00a7^\u00b2\u00ef\u2030{@\u00bc\u00eak\u00a6\u00bbD\n  ?}\";\u00cal\u02dc\u2014\u00bf\u00fe\u02dc\u00c2~\u0161\u0010&amp;U\u00f8\u00c7\u00b3$`\u00ac&lt;\u00b5\u00b6\u00d2'\u00e6\u00a6\u00d6\u017e$\u00e4\u00d4\u00a1\u00d7:!\u00c2\u0192j$\u00da:7\u00b5F\u00e8D\u00ee\u00b4\u00ae\u20ac\u00a0e\u017d\u00bf\u00e2\"\u00bf\u02dc{\u00ab   \u00d7f\u00ca\u00a9R\u00b6H8\u00ed\\W\u00c9\u00c3\u00a6\u00a6\u00d6\u00e0\u00eb\u00dc\u00f1^U\u00ea\u00f0\u017e\u00a2\u00d6V\u0153\u2014k7z\u00fd\u2018j(\u00ad\u00bb\u00f8L&amp;\u00aa\u2013g\u00e0\u00b3\u00ba\u00f6\u203a2\u00ad\u00c7\u2020\u0178\u00b9\u00d5[V\u00e8Vij\u00c7XEk\u00aa&amp;\u2022W\u00a8\u2019\u00deTZ\u00ab\u00af~z\u00a3u\u00d5\u00dd\u00e8\u2013\u00a57c\u00a6\u00de\u00d0\u00ea\u00d4\u0192\u00d6\u00aa\u00eb\u000f\u2013\n  rc\u00d8\u00b6\u00b5\u00da\u00fdQC\u00bd\u00b5b-\u00bd\u00a5\u00f6>0\u00b4\u00bb\u00fb\u2014\u0178Xz\u00fb\u00ef\u203a\u00f6M\u00daJ\u00bd\u00ae\u00b5\u00eeb\u00f6-)VkQO\u00af\u00ecF\u00b5_6\u00c9\u00b9mS1\u00ee\u00b4V\u0152\u00fc\u0161\u00fc\u0178!\u00c2\u00a6\u00ef^\u00ce\u00b5k\u00a4\u00bf\u201d\u00a9\u00fd\\\u00cc\u00cdP\u00b7J\n  ^\u00bc\u00ea\u00f7\u00cc\u2039\u00b1!\u00bfu\u2014/\u00b4n\u00cc\u00f6\u00ea\u00da \u00f9f}m\u00a5\n  mY\u00b2\u203a\u00a44\u00b4\u00bbV|\u00a6Y5\u017e\u00ee\u00f1N\u00abHgC\u00f61\u00e7\u201aWm\u00e3?\u00d16\u00f6\u00fd\u00c6\u00a2U7/&amp;}\u00a2a\u00bba\u00f6\u000f\u00aa\u00ff\u00de\u00a8\u00c3=\u00aby\u0010\u000f\u00b0\u00e61P^\u00bb1\u00d6)\u02dc!\u00d5R\u00b6\u2019</p>\n</blockquote>\n\n<p>I am wondering if this is due to encryption happening on their end. From browsing their website, it does not appear like they admit to encrypting files being transmitted over a network. I personally do not think this is the case since I can download the file fine manually within my browser.</p>\n\n<p>Here is a segmenet of the Perl code that is responsible for downloading the file and saving it to the hard drive:</p>\n\n<pre><code>@arraydata = split(/\\,/, $datagn[$j]);\nif($arraydata[2] =~ m/8K/ || $arraydata[2] =~ /8\\-K/){\n\n# Starts crawler, not checking for errors\nmy $mech = WWW::Mechanize-&gt;new( autocheck =&gt; 0 );\n\n# Grabs address\n@arraydatad = split(/\\//, $arraydata[4]);\n\n# Formats output file name\n$filenamea = \"Reports\\\\\" . $dirname . \"\\\\\" . $cik . \"\\\\\" . $arraydatad[3];\nchomp($filenamea);\n\n# This is the file from the EDGAR archives\n$filecrawl = \"https://www.sec.gov/Archives/\" . $arraydata[4];\n\n# This crawls the file and saves it to the hard drive\n$mech-&gt;get($filecrawl, ':content_file' =&gt; $filenamea);\n</code></pre>\n\n<p>The full code is here: <a href=\"http://pastebin.com/QXb1zcdv\" rel=\"nofollow\">http://pastebin.com/QXb1zcdv</a> </p>\n\n<p>Does anybody have an idea of why I am getting a file with nonsense in it when I am downloading with a Perl script from SEC.gov?</p>\n"}, {"tags": ["arrays", "perl", "hash", "associative-array", "perl-data-structures"], "comments": [{"owner": {"reputation": 320771, "user_id": 589924, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/b2cf53d5a3d25f95c0db4e025aed4153?s=128&d=identicon&r=PG", "display_name": "ikegami", "link": "https://stackoverflow.com/users/589924/ikegami"}, "edited": false, "score": 0, "creation_date": 1473459230, "post_id": 39420408, "comment_id": 66165857, "body": "You pass a <i>reference</i> to the array (a scalar) and assign it to <code>@localData</code>, placinging the reference in <code>$localData[0]</code>."}], "answers": [{"comments": [{"owner": {"reputation": 1215, "user_id": 1418533, "user_type": "registered", "accept_rate": 76, "profile_image": "https://www.gravatar.com/avatar/832e7fd1713de344d00ba3cc9c6fae54?s=128&d=identicon&r=PG", "display_name": "Ken Ingram", "link": "https://stackoverflow.com/users/1418533/ken-ingram"}, "edited": false, "score": 0, "creation_date": 1473462275, "post_id": 39420434, "comment_id": 66166560, "body": "Thanks. Perfect point. The reference context is clearly still very shaky for me. This helps me choose a focus for further study."}], "tags": [], "owner": {"reputation": 320771, "user_id": 589924, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/b2cf53d5a3d25f95c0db4e025aed4153?s=128&d=identicon&r=PG", "display_name": "ikegami", "link": "https://stackoverflow.com/users/589924/ikegami"}, "is_accepted": true, "score": 3, "last_activity_date": 1473460165, "last_edit_date": 1473460165, "creation_date": 1473459285, "answer_id": 39420434, "question_id": 39420408, "link": "https://stackoverflow.com/questions/39420408/perl-how-to-access-array-of-hashes-passed-to-a-subroutine/39420434#39420434", "title": "Perl: How to access Array of Hashes passed to a Subroutine", "body": "<p>You pass a <em>reference</em> to the array to the sub, then assign this single scalar to <code>@localData</code>. Fix:</p>\n\n<pre><code>sub outputData{\n    my ($input1, $input2, $localData) = @_;\n    print Dumper $localData;\n\n    print \"\\@localData: \" . @$localData . \"\\n\";\n    foreach my $i (@$localData){\n       ...\n    }\n}\n</code></pre>\n"}], "owner": {"reputation": 1215, "user_id": 1418533, "user_type": "registered", "accept_rate": 76, "profile_image": "https://www.gravatar.com/avatar/832e7fd1713de344d00ba3cc9c6fae54?s=128&d=identicon&r=PG", "display_name": "Ken Ingram", "link": "https://stackoverflow.com/users/1418533/ken-ingram"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 150, "favorite_count": 0, "accepted_answer_id": 39420434, "answer_count": 1, "score": 0, "last_activity_date": 1473460165, "creation_date": 1473459155, "question_id": 39420408, "link": "https://stackoverflow.com/questions/39420408/perl-how-to-access-array-of-hashes-passed-to-a-subroutine", "title": "Perl: How to access Array of Hashes passed to a Subroutine", "body": "<p>Have a perl script reading from an xml, parsing the data into hashes in one sub, outputting an array of hashes and then from main calling a second sub to process the array of hashes.</p>\n\n<p>Data::Dumper shows that everything is being passed properly.</p>\n\n<p>Having a terrible time figuring out why I can't now access the hashes.</p>\n\n<pre><code>use strict;\nuse warnings;\nuse Data::Dumper;\n\nmy (@sortedData, $value1, $value2);\nuse subs qw(processData outputData);\n\n@sortedData = processData;\noutputData($value1, $value2, \\@sortedData);\n\nsub processData{\n    # Example code\n    # # Does some processing of xml that results in a hash.\n    # # That series of hashes is pushed onto an array\n    my ($item, @results);\n\n    # foreach $item ( @{ $rss-&gt;{items}){\n    #   my %data = (\n    #       'first' =&gt; $item-&gt;{'value'},\n    #       'second' =&gt; $item-&gt;{'value'},\n    #       'third' =&gt; $item-&gt;{'value'}\n    #   );\n\n    #   push @results, \\%data;\n    # }\n    # Essentially the hash is :\n\n    @results = (\n        {'data1'=&gt;810,'data2'=&gt;153,'data3'=&gt;215},\n        {'data1'=&gt;160,'data2'=&gt;220,'data3'=&gt;604},\n        {'data1'=&gt;940,'data2'=&gt;103,'data3'=&gt;115},\n        {'data1'=&gt;100,'data2'=&gt;319,'data3',525},\n        {'data1'=&gt;500,'data2'=&gt;803,'data3'=&gt;650}\n        );\n    return @results;\n}\n\nsub outputData{\n    my ($input1, $input2, @localData) = @_;\n    print Dumper @localData;\n\n    print \"\\@localData: \" . @localData . \"\\n\";\n    foreach my $i (@localData){\n    #   foreach my $j ($i){\n    #       print $i . \"\\n\" . $j . \"\\n\";\n    #   }\n        print \"\\$i: \" . $i . \"\\n\";\n    }\n}\n</code></pre>\n\n<p>The output:</p>\n\n<pre><code>$VAR1 = [\n          {\n            'data3' =&gt; 215,\n            'data2' =&gt; 153,\n            'data1' =&gt; 810\n          },\n          {\n            'data3' =&gt; 604,\n            'data2' =&gt; 220,\n            'data1' =&gt; 160\n          },\n          {\n            'data2' =&gt; 103,\n            'data3' =&gt; 115,\n            'data1' =&gt; 940\n          },\n          {\n            'data1' =&gt; 100,\n            'data3' =&gt; 525,\n            'data2' =&gt; 319\n          },\n          {\n            'data1' =&gt; 500,\n            'data3' =&gt; 650,\n            'data2' =&gt; 803\n          }\n        ];\n@localData: 1\n$i: ARRAY(0x80071b30)\n</code></pre>\n\n<p>I don't understand why the value of @localData is 1 or why the reference for an element of @localData is ARRAY instead of HASH.</p>\n\n<p>I am certainly testing my deeper understanding of PERL arrays for the first time.\nI don't understand it as much as I thought.</p>\n"}, {"tags": ["string", "perl", "variables", "logfiles"], "comments": [{"owner": {"reputation": 123805, "user_id": 622310, "user_type": "registered", "accept_rate": 33, "profile_image": "https://www.gravatar.com/avatar/8b6d35219e1808520bc238b28161e2e6?s=128&d=identicon&r=PG", "display_name": "Borodin", "link": "https://stackoverflow.com/users/622310/borodin"}, "edited": false, "score": 0, "creation_date": 1473439472, "post_id": 39415563, "comment_id": 66157099, "body": "You&#39;ve made your code much harder to read by delcaring all your variables in one long list at the top of your program. Variables should be declared as <i>late</i> as possible, probably where they are first used."}, {"owner": {"reputation": 123805, "user_id": 622310, "user_type": "registered", "accept_rate": 33, "profile_image": "https://www.gravatar.com/avatar/8b6d35219e1808520bc238b28161e2e6?s=128&d=identicon&r=PG", "display_name": "Borodin", "link": "https://stackoverflow.com/users/622310/borodin"}, "edited": false, "score": 0, "creation_date": 1473439640, "post_id": 39415563, "comment_id": 66157165, "body": "The variable <code>$type</code> isn&#39;t defined when you call <code>File::Find::Rule</code>. You must have got a warning message?"}, {"owner": {"reputation": 123805, "user_id": 622310, "user_type": "registered", "accept_rate": 33, "profile_image": "https://www.gravatar.com/avatar/8b6d35219e1808520bc238b28161e2e6?s=128&d=identicon&r=PG", "display_name": "Borodin", "link": "https://stackoverflow.com/users/622310/borodin"}, "edited": false, "score": 0, "creation_date": 1473440267, "post_id": 39415563, "comment_id": 66157451, "body": "That code doesn&#39;t produce the output you say it does. Your program prints only lines that contain <code>java:000</code>, and none of your output contains that string. Can you show your real code and output please? It would help a lot if you gave a sample of the log file you&#39;re processing too."}, {"owner": {"reputation": 123805, "user_id": 622310, "user_type": "registered", "accept_rate": 33, "profile_image": "https://www.gravatar.com/avatar/8b6d35219e1808520bc238b28161e2e6?s=128&d=identicon&r=PG", "display_name": "Borodin", "link": "https://stackoverflow.com/users/622310/borodin"}, "edited": false, "score": 0, "creation_date": 1473443783, "post_id": 39415563, "comment_id": 66159266, "body": "Do you really have both <code>Culvers</code> and <code>culvers</code> in the input? And is it really <code>Mcdonalds</code> instead of <code>McDonald&#39;s</code>?"}, {"owner": {"reputation": 25, "user_id": 6268623, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/13d3d1b7f3fcb0c7d3e102c93057adab?s=128&d=identicon&r=PG&f=1", "display_name": "Sang.P", "link": "https://stackoverflow.com/users/6268623/sang-p"}, "reply_to_user": {"reputation": 123805, "user_id": 622310, "user_type": "registered", "accept_rate": 33, "profile_image": "https://www.gravatar.com/avatar/8b6d35219e1808520bc238b28161e2e6?s=128&d=identicon&r=PG", "display_name": "Borodin", "link": "https://stackoverflow.com/users/622310/borodin"}, "edited": false, "score": 0, "creation_date": 1473445041, "post_id": 39415563, "comment_id": 66159847, "body": "Well, i did few edits to the post please refer them..names do not matter...The only thing i am stuck is finding how to parse the numbers and calculate the result i need..."}], "answers": [{"comments": [{"owner": {"reputation": 123805, "user_id": 622310, "user_type": "registered", "accept_rate": 33, "profile_image": "https://www.gravatar.com/avatar/8b6d35219e1808520bc238b28161e2e6?s=128&d=identicon&r=PG", "display_name": "Borodin", "link": "https://stackoverflow.com/users/622310/borodin"}, "edited": false, "score": 0, "creation_date": 1473443836, "post_id": 39416860, "comment_id": 66159290, "body": "Why are you using <code>int</code>?"}, {"owner": {"reputation": 25, "user_id": 6268623, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/13d3d1b7f3fcb0c7d3e102c93057adab?s=128&d=identicon&r=PG&f=1", "display_name": "Sang.P", "link": "https://stackoverflow.com/users/6268623/sang-p"}, "edited": false, "score": 0, "creation_date": 1473445174, "post_id": 39416860, "comment_id": 66159908, "body": "This works well!! but quite not sure how to calculate these results from the hash key values @user3778815"}, {"owner": {"reputation": 123805, "user_id": 622310, "user_type": "registered", "accept_rate": 33, "profile_image": "https://www.gravatar.com/avatar/8b6d35219e1808520bc238b28161e2e6?s=128&d=identicon&r=PG", "display_name": "Borodin", "link": "https://stackoverflow.com/users/622310/borodin"}, "edited": false, "score": 0, "creation_date": 1473447052, "post_id": 39416860, "comment_id": 66160863, "body": "There is no point in the non-greedy <code>.*?</code> when it is anchored at the end with <code>$</code>"}, {"owner": {"reputation": 310, "user_id": 3778815, "user_type": "registered", "profile_image": "https://graph.facebook.com/100005390745185/picture?type=large", "display_name": "Harry", "link": "https://stackoverflow.com/users/3778815/harry"}, "edited": false, "score": 0, "creation_date": 1473497361, "post_id": 39416860, "comment_id": 66172772, "body": "yeah sorry silly mistakes no need for .*? int is used cause regex returns strings not int."}, {"owner": {"reputation": 310, "user_id": 3778815, "user_type": "registered", "profile_image": "https://graph.facebook.com/100005390745185/picture?type=large", "display_name": "Harry", "link": "https://stackoverflow.com/users/3778815/harry"}, "reply_to_user": {"reputation": 25, "user_id": 6268623, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/13d3d1b7f3fcb0c7d3e102c93057adab?s=128&d=identicon&r=PG&f=1", "display_name": "Sang.P", "link": "https://stackoverflow.com/users/6268623/sang-p"}, "edited": false, "score": 0, "creation_date": 1473497754, "post_id": 39416860, "comment_id": 66172878, "body": "u can use the key of the hash as company name and value as the value. and modify accordingly @Sang.P"}], "tags": [], "owner": {"reputation": 310, "user_id": 3778815, "user_type": "registered", "profile_image": "https://graph.facebook.com/100005390745185/picture?type=large", "display_name": "Harry", "link": "https://stackoverflow.com/users/3778815/harry"}, "is_accepted": true, "score": -1, "last_activity_date": 1473497603, "last_edit_date": 1473497603, "creation_date": 1473442091, "answer_id": 39416860, "question_id": 39415563, "link": "https://stackoverflow.com/questions/39415563/perl-strings-into-variable-calculation/39416860#39416860", "title": "Perl strings into variable calculation", "body": "<p>I am assuming that you are getting the output as shown. So I am just focusing on the part to unify them</p>\n\n<pre><code>#!/usr/bin/perl\nuse strict;\nuse warnings;\nmy $string = \"Total number = 5 for Mcdonalds\n    Total number = 12 for Burger King\n    Total number = 2  for Culvers\n    Total number = 2  for Mcdonalds\n    Total number = 19  for culvers\";\nmy @rows = split(\"\\n\",$string);\nmy %hash = ();\nforeach my $row (@rows) {\n    if($row =~ /(\\d+)\\s+for\\s+(.*)$/i) {\n        my $comp = lc($2);\n        if(exists($hash{$comp})) {\n            $hash{$comp} = int($hash{$comp}) + int($1);\n        } else {\n            $hash{$comp} = int($1);\n        }\n    }\n}\nforeach (keys(%hash)) {\n    print $_ . \"....\" . $hash{$_} . \"\\n\";\n}\n</code></pre>\n"}], "owner": {"reputation": 25, "user_id": 6268623, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/13d3d1b7f3fcb0c7d3e102c93057adab?s=128&d=identicon&r=PG&f=1", "display_name": "Sang.P", "link": "https://stackoverflow.com/users/6268623/sang-p"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 202, "favorite_count": 0, "accepted_answer_id": 39416860, "answer_count": 1, "score": -2, "last_activity_date": 1473497603, "creation_date": 1473436941, "last_edit_date": 1473444837, "question_id": 39415563, "link": "https://stackoverflow.com/questions/39415563/perl-strings-into-variable-calculation", "title": "Perl strings into variable calculation", "body": "\n\n<p>In my code I am searching for some information in bunch of log files that generate every 15 min (the time part is not so important though) and it's giving me certain output as shown below. But that's not what I want.</p>\n\n<p>My end goal is to calculate the output which means I am trying to turn this string of numbers into variables and calculate the total for each restaurant, and then I want to total for all the restaurants.</p>\n\n<p>Honestly I need to track these numbers and calculate the what result I need. I'm so confused with what I have so far so I need help!</p>\n\n<p>I hope I made my concern clear.</p>\n\n<p>Sample log file:</p>\n\n<pre class=\"lang-none prettyprint-override\"><code>Total number = 0 for Mcdonalds .....somelog.java:(000)\nTotal number = 5 for Mcdonalds .....somelog.java:(000)\nTotal number = 12 for Burger King.....somelog.java:(000)\nTotal number = 2  for Culvers .....somelog.java:(000)\nTotal number = 2  for Mcdonalds.....somelog.java:(000)\nTotal number = 19  for culvers.....somelog.java:(000)\nTotal number = 0 for Mcdonalds .....somelog.java:(000)\nTotal number = 0 for Mcdonalds .....somelog.java:(000)\nTotal number = 0 for Mcdonalds .....somelog.java:(000)\nTotal number = 19  for culvers.....somelog.java:(000)\nTotal number = 0  for culvers.....somelog.java:(000)\n</code></pre>\n\n<h3>Current output</h3>\n\n<pre class=\"lang-none prettyprint-override\"><code>Total number = 5 for Mcdonalds .....somelog.java:(000)\nTotal number = 12 for Burger King.....somelog.java:(000)\nTotal number = 2  for Culvers .....somelog.java:(000)\nTotal number = 2  for Mcdonalds.....somelog.java:(000)\nTotal number = 19  for culvers.....somelog.java:(000)\n</code></pre>\n\n<h3>What I need:</h3>\n\n<pre class=\"lang-none prettyprint-override\"><code>Total Number for Mcdonalds = 7\nTotal Number for Culvers   = 21\nTotal Number for BK        = 12\nTotal for all              = 40\n</code></pre>\n\n<h3>Perl Code</h3>\n\n<pre class=\"lang-perl prettyprint-override\"><code>#!/usr/bin/perl\nuse strict;\nuse warnings;\n\nuse File::Find::Rule;\nuse Date::Parse;\n\nmy ($dir,   $type,  $fh,    $line,  $str_1,\n    $str_2 );\n\n$dir = '/dir/test/';\n$type = '*';\n$str_1           = 'Total Number= 0';\n\n$str_2           = '(java:000)';\n\n\nmy @files = File::Find::Rule-&gt;file()-&gt;name($type)-&gt;in($dir);\n\nopen $out, '&gt;&gt;', \"output_log\" or die \"Unable to open 'output_log' : $!\";\nprint $out \"\\Logs \\n\";\nprint $out \"--------------------------\\n\";\nclose $out or die \"Unable to finish writing output_log : $!\";\n\nfor my $file (@files) {\n\n    open $fh,  '&lt;',  $file        or die \"can't open $file: $!\";\n    open $out, '&gt;&gt;', \"output_log\" or die \"Unable to open 'output_log' : $!\";\n\n    while ( $line = &lt;$fh&gt; ) {\n# Here I am searching for those which are not equal to zero \n#and which has the tail java:(000)\n\n        if ( $line !~ /$str_1/ &amp;&amp; $line =~ /$str_2/ ) {\n            print $out $line; #So here my output lines are all which are not zero.\n        }\n    }\n\n    close $out or die \"Unable to finish writing output_log : $!\";\n}\n</code></pre>\n"}, {"tags": ["perl", "cgi"], "comments": [{"owner": {"reputation": 793701, "user_id": 19068, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/1d2d3229ed1961d2bd81853242493247?s=128&d=identicon&r=PG", "display_name": "Quentin", "link": "https://stackoverflow.com/users/19068/quentin"}, "edited": false, "score": 0, "creation_date": 1473431973, "post_id": 39414083, "comment_id": 66152600, "body": "<a href=\"https://metacpan.org/pod/distribution/CGI/lib/CGI.pod#CGI.pm-HAS-BEEN-REMOVED-FROM-THE-PERL-CORE\" rel=\"nofollow noreferrer\">metacpan.org/pod/distribution/CGI/lib/&hellip;</a>"}, {"owner": {"reputation": 793701, "user_id": 19068, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/1d2d3229ed1961d2bd81853242493247?s=128&d=identicon&r=PG", "display_name": "Quentin", "link": "https://stackoverflow.com/users/19068/quentin"}, "edited": false, "score": 0, "creation_date": 1473432049, "post_id": 39414083, "comment_id": 66152649, "body": "Your indentation is weird, but it looks like your login script defines a couple of subroutines \u2026 and never calls them."}, {"owner": {"reputation": 50468, "user_id": 1331451, "user_type": "registered", "accept_rate": 96, "profile_image": "https://i.stack.imgur.com/4ZPmj.png?s=128&g=1", "display_name": "simbabque", "link": "https://stackoverflow.com/users/1331451/simbabque"}, "edited": false, "score": 2, "creation_date": 1473432474, "post_id": 39414083, "comment_id": 66152946, "body": "That&#39;s because they get called in index.pl, which requires login.pl. We have ourselves a nice dish of spaghetti here. ;)"}, {"owner": {"reputation": 67, "user_id": 6699525, "user_type": "registered", "accept_rate": 75, "profile_image": "https://www.gravatar.com/avatar/e9f6d64aed2540e4e050fd906d977e9d?s=128&d=identicon&r=PG", "display_name": "superzero10", "link": "https://stackoverflow.com/users/6699525/superzero10"}, "reply_to_user": {"reputation": 50468, "user_id": 1331451, "user_type": "registered", "accept_rate": 96, "profile_image": "https://i.stack.imgur.com/4ZPmj.png?s=128&g=1", "display_name": "simbabque", "link": "https://stackoverflow.com/users/1331451/simbabque"}, "edited": false, "score": 0, "creation_date": 1473433019, "post_id": 39414083, "comment_id": 66153299, "body": "@simbabque oh, hello you... you made me cry last time x)"}, {"owner": {"reputation": 50468, "user_id": 1331451, "user_type": "registered", "accept_rate": 96, "profile_image": "https://i.stack.imgur.com/4ZPmj.png?s=128&g=1", "display_name": "simbabque", "link": "https://stackoverflow.com/users/1331451/simbabque"}, "edited": false, "score": 0, "creation_date": 1473433162, "post_id": 39414083, "comment_id": 66153405, "body": "Well you seem to have made progress. That&#39;s great. :)"}, {"owner": {"reputation": 67, "user_id": 6699525, "user_type": "registered", "accept_rate": 75, "profile_image": "https://www.gravatar.com/avatar/e9f6d64aed2540e4e050fd906d977e9d?s=128&d=identicon&r=PG", "display_name": "superzero10", "link": "https://stackoverflow.com/users/6699525/superzero10"}, "reply_to_user": {"reputation": 50468, "user_id": 1331451, "user_type": "registered", "accept_rate": 96, "profile_image": "https://i.stack.imgur.com/4ZPmj.png?s=128&g=1", "display_name": "simbabque", "link": "https://stackoverflow.com/users/1331451/simbabque"}, "edited": false, "score": 0, "creation_date": 1473433320, "post_id": 39414083, "comment_id": 66153502, "body": "@simbabque ahah thx but i progress toooooo slow &gt;&lt;"}, {"owner": {"reputation": 50468, "user_id": 1331451, "user_type": "registered", "accept_rate": 96, "profile_image": "https://i.stack.imgur.com/4ZPmj.png?s=128&g=1", "display_name": "simbabque", "link": "https://stackoverflow.com/users/1331451/simbabque"}, "edited": false, "score": 0, "creation_date": 1473433799, "post_id": 39414083, "comment_id": 66153838, "body": "Please include an example profile.txt that we can use to try your code."}, {"owner": {"reputation": 62184, "user_id": 7231, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/81b76985f3985e35492e25880493d045?s=128&d=identicon&r=PG", "display_name": "Dave Cross", "link": "https://stackoverflow.com/users/7231/dave-cross"}, "edited": false, "score": 0, "creation_date": 1473434726, "post_id": 39414083, "comment_id": 66154433, "body": "Please consider using the safer <code>Class-&gt;new()</code> syntax in place of the <code>new Class</code> that you&#39;re using in a couple of places."}, {"owner": {"reputation": 67, "user_id": 6699525, "user_type": "registered", "accept_rate": 75, "profile_image": "https://www.gravatar.com/avatar/e9f6d64aed2540e4e050fd906d977e9d?s=128&d=identicon&r=PG", "display_name": "superzero10", "link": "https://stackoverflow.com/users/6699525/superzero10"}, "reply_to_user": {"reputation": 50468, "user_id": 1331451, "user_type": "registered", "accept_rate": 96, "profile_image": "https://i.stack.imgur.com/4ZPmj.png?s=128&g=1", "display_name": "simbabque", "link": "https://stackoverflow.com/users/1331451/simbabque"}, "edited": false, "score": 0, "creation_date": 1473439985, "post_id": 39414083, "comment_id": 66157312, "body": "@simbabque profile.txt is like: username(tab)password(\\n)"}, {"owner": {"reputation": 67, "user_id": 6699525, "user_type": "registered", "accept_rate": 75, "profile_image": "https://www.gravatar.com/avatar/e9f6d64aed2540e4e050fd906d977e9d?s=128&d=identicon&r=PG", "display_name": "superzero10", "link": "https://stackoverflow.com/users/6699525/superzero10"}, "reply_to_user": {"reputation": 50468, "user_id": 1331451, "user_type": "registered", "accept_rate": 96, "profile_image": "https://i.stack.imgur.com/4ZPmj.png?s=128&g=1", "display_name": "simbabque", "link": "https://stackoverflow.com/users/1331451/simbabque"}, "edited": false, "score": 0, "creation_date": 1473670408, "post_id": 39414083, "comment_id": 66214937, "body": "@simbabque profile.txt added up in post"}, {"owner": {"reputation": 62184, "user_id": 7231, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/81b76985f3985e35492e25880493d045?s=128&d=identicon&r=PG", "display_name": "Dave Cross", "link": "https://stackoverflow.com/users/7231/dave-cross"}, "edited": false, "score": 0, "creation_date": 1473685387, "post_id": 39414083, "comment_id": 66223120, "body": "I&#39;ve just fixed the indentation in your code and I can now see that you have an extra <code>return 1</code> between the the subroutines in <code>login.cgi</code>. That will throw an error saying &quot;Can&#39;t return outside a subroutine&quot;, so I&#39;m getting more and more confused that you claim to see no errors at all."}], "answers": [{"comments": [{"owner": {"reputation": 67, "user_id": 6699525, "user_type": "registered", "accept_rate": 75, "profile_image": "https://www.gravatar.com/avatar/e9f6d64aed2540e4e050fd906d977e9d?s=128&d=identicon&r=PG", "display_name": "superzero10", "link": "https://stackoverflow.com/users/6699525/superzero10"}, "edited": false, "score": 0, "creation_date": 1473670222, "post_id": 39415060, "comment_id": 66214844, "body": "Oh, nice idea x) i made the change but nothing different hapend"}, {"owner": {"reputation": 62184, "user_id": 7231, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/81b76985f3985e35492e25880493d045?s=128&d=identicon&r=PG", "display_name": "Dave Cross", "link": "https://stackoverflow.com/users/7231/dave-cross"}, "reply_to_user": {"reputation": 67, "user_id": 6699525, "user_type": "registered", "accept_rate": 75, "profile_image": "https://www.gravatar.com/avatar/e9f6d64aed2540e4e050fd906d977e9d?s=128&d=identicon&r=PG", "display_name": "superzero10", "link": "https://stackoverflow.com/users/6699525/superzero10"}, "edited": false, "score": 0, "creation_date": 1473671252, "post_id": 39415060, "comment_id": 66215369, "body": "You still haven&#39;t mentioned whether or not you&#39;re seeing any errors in the web server error log. Another possibility is the fact that you have two <code>$session</code> objects (one in each of your files). It&#39;s possible that this is confusing matters. I suggest getting it to work in a single file and only then trying to carve some of it out into a module (not another program - a real Perl module)."}, {"owner": {"reputation": 67, "user_id": 6699525, "user_type": "registered", "accept_rate": 75, "profile_image": "https://www.gravatar.com/avatar/e9f6d64aed2540e4e050fd906d977e9d?s=128&d=identicon&r=PG", "display_name": "superzero10", "link": "https://stackoverflow.com/users/6699525/superzero10"}, "edited": false, "score": 0, "creation_date": 1473674963, "post_id": 39415060, "comment_id": 66217376, "body": "No error in log, the problem was comming from load_profile function, the fact is, now i can log in, but i still not have a session. if i go again on index, it will print the login script, and &quot;login-trials&quot; doesn&#39;t work. it feels like it won&#39;t save a session in cookie"}, {"owner": {"reputation": 62184, "user_id": 7231, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/81b76985f3985e35492e25880493d045?s=128&d=identicon&r=PG", "display_name": "Dave Cross", "link": "https://stackoverflow.com/users/7231/dave-cross"}, "reply_to_user": {"reputation": 67, "user_id": 6699525, "user_type": "registered", "accept_rate": 75, "profile_image": "https://www.gravatar.com/avatar/e9f6d64aed2540e4e050fd906d977e9d?s=128&d=identicon&r=PG", "display_name": "superzero10", "link": "https://stackoverflow.com/users/6699525/superzero10"}, "edited": false, "score": 0, "creation_date": 1473675236, "post_id": 39415060, "comment_id": 66217517, "body": "As I said. I suspect the fact that you&#39;re creating two session objects is confusing matters."}, {"owner": {"reputation": 67, "user_id": 6699525, "user_type": "registered", "accept_rate": 75, "profile_image": "https://www.gravatar.com/avatar/e9f6d64aed2540e4e050fd906d977e9d?s=128&d=identicon&r=PG", "display_name": "superzero10", "link": "https://stackoverflow.com/users/6699525/superzero10"}, "edited": false, "score": 0, "creation_date": 1473675422, "post_id": 39415060, "comment_id": 66217610, "body": "should i replace one declaration of $session and $cgi in login.pl or index.cgi ? it&#39;s a bit confusing for me"}, {"owner": {"reputation": 62184, "user_id": 7231, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/81b76985f3985e35492e25880493d045?s=128&d=identicon&r=PG", "display_name": "Dave Cross", "link": "https://stackoverflow.com/users/7231/dave-cross"}, "reply_to_user": {"reputation": 67, "user_id": 6699525, "user_type": "registered", "accept_rate": 75, "profile_image": "https://www.gravatar.com/avatar/e9f6d64aed2540e4e050fd906d977e9d?s=128&d=identicon&r=PG", "display_name": "superzero10", "link": "https://stackoverflow.com/users/6699525/superzero10"}, "edited": false, "score": 0, "creation_date": 1473675680, "post_id": 39415060, "comment_id": 66217742, "body": "I&#39;ve already made a suggestion about that two comments back - &quot;I suggest getting it to work in a single file and only then trying to carve some of it out into a module.&quot;"}, {"owner": {"reputation": 62184, "user_id": 7231, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/81b76985f3985e35492e25880493d045?s=128&d=identicon&r=PG", "display_name": "Dave Cross", "link": "https://stackoverflow.com/users/7231/dave-cross"}, "reply_to_user": {"reputation": 67, "user_id": 6699525, "user_type": "registered", "accept_rate": 75, "profile_image": "https://www.gravatar.com/avatar/e9f6d64aed2540e4e050fd906d977e9d?s=128&d=identicon&r=PG", "display_name": "superzero10", "link": "https://stackoverflow.com/users/6699525/superzero10"}, "edited": false, "score": 0, "creation_date": 1473675767, "post_id": 39415060, "comment_id": 66217795, "body": "And note what I said above about using <code>Class-&gt;new()</code> instead of <code>new Class</code>. You had it right in your previous question. Why did you change it?"}, {"owner": {"reputation": 67, "user_id": 6699525, "user_type": "registered", "accept_rate": 75, "profile_image": "https://www.gravatar.com/avatar/e9f6d64aed2540e4e050fd906d977e9d?s=128&d=identicon&r=PG", "display_name": "superzero10", "link": "https://stackoverflow.com/users/6699525/superzero10"}, "edited": false, "score": 0, "creation_date": 1473676089, "post_id": 39415060, "comment_id": 66217943, "body": "yes i don&#39;t know why i tried like that, i restarted from scratch since last time. i will try to change it back"}, {"owner": {"reputation": 67, "user_id": 6699525, "user_type": "registered", "accept_rate": 75, "profile_image": "https://www.gravatar.com/avatar/e9f6d64aed2540e4e050fd906d977e9d?s=128&d=identicon&r=PG", "display_name": "superzero10", "link": "https://stackoverflow.com/users/6699525/superzero10"}, "edited": false, "score": 0, "creation_date": 1473686597, "post_id": 39415060, "comment_id": 66223884, "body": "Should i set the cookie before or after init my CGI and CGI::Session ?"}, {"owner": {"reputation": 62184, "user_id": 7231, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/81b76985f3985e35492e25880493d045?s=128&d=identicon&r=PG", "display_name": "Dave Cross", "link": "https://stackoverflow.com/users/7231/dave-cross"}, "reply_to_user": {"reputation": 67, "user_id": 6699525, "user_type": "registered", "accept_rate": 75, "profile_image": "https://www.gravatar.com/avatar/e9f6d64aed2540e4e050fd906d977e9d?s=128&d=identicon&r=PG", "display_name": "superzero10", "link": "https://stackoverflow.com/users/6699525/superzero10"}, "edited": false, "score": 0, "creation_date": 1473687011, "post_id": 39415060, "comment_id": 66224178, "body": "At some point you&#39;re going to have to start thinking this through for yourself :-) As the cookie needs to contain the session&#39;s ID, you can&#39;t create the cookie until after you have created the session object. And if you&#39;re printing the header using the CGI object&#39;s <code>header()</code> method, it seems obvious that you can&#39;t do it until after you have created that object. Did you read the tutorial that I pointed you at?"}, {"owner": {"reputation": 67, "user_id": 6699525, "user_type": "registered", "accept_rate": 75, "profile_image": "https://www.gravatar.com/avatar/e9f6d64aed2540e4e050fd906d977e9d?s=128&d=identicon&r=PG", "display_name": "superzero10", "link": "https://stackoverflow.com/users/6699525/superzero10"}, "edited": false, "score": 0, "creation_date": 1473688021, "post_id": 39415060, "comment_id": 66224865, "body": "yes, maaany times x) but i don&#39;t understand everything, english is not my main language. i think i can haddle for the rest, my login script is fully working now, only cookies left and the web part of my project is finish \\o/ ty for your help man"}], "tags": [], "owner": {"reputation": 62184, "user_id": 7231, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/81b76985f3985e35492e25880493d045?s=128&d=identicon&r=PG", "display_name": "Dave Cross", "link": "https://stackoverflow.com/users/7231/dave-cross"}, "is_accepted": true, "score": 2, "last_activity_date": 1473676734, "last_edit_date": 1473676734, "creation_date": 1473435017, "answer_id": 39415060, "question_id": 39414083, "link": "https://stackoverflow.com/questions/39414083/perl-web-login-script-with-cgisession/39415060#39415060", "title": "Perl Web Login Script With CGI::Session", "body": "<p>Are you sure that you don't get any errors? Have you checked the web server error log?</p>\n\n<p>You call <code>login_attempt()</code> with two parameters (<code>$session</code> and <code>$cgi</code>) but in login.cgi, that subroutine is defined like this:</p>\n\n<pre><code>sub login_attempt() {\n  ...\n}\n</code></pre>\n\n<p>You're (probably accidentally) using a prototype on that subroutine, telling Perl that it takes no parameters. So I'd be surprised if you don't get an error saying:</p>\n\n<blockquote>\n  <p>Too many arguments for main::login_attempt</p>\n</blockquote>\n\n<p>Remove the parentheses from that definition.</p>\n\n<pre><code>sub login_attempt {\n  ...\n}\n</code></pre>\n\n<p><strong>Update:</strong> I think you're missing one very important step here. From the <a href=\"https://metacpan.org/pod/CGI::Session::Tutorial\" rel=\"nofollow\">CGI::Session Tutorial</a>:</p>\n\n<blockquote>\n  <p>There is one small, but very important thing your application needs to perform after creating CGI::Session object as above. It needs to drop Session ID as an HTTP cookie into the user's computer. CGI::Session will use this cookie to identify the user at his/her next request and will be able to load his/her previously stored session data.</p>\n  \n  <p>To make sure CGI::Session will be able to read your cookie at next request you need to consult its name() method for cookie's suggested name:</p>\n\n<pre><code>$cookie = $query-&gt;cookie( -name   =&gt; $session-&gt;name,\n                          -value  =&gt; $session-&gt;id );\nprint $query-&gt;header( -cookie=&gt;$cookie );\n</code></pre>\n  \n  <p><code>name()</code> returns CGISESSID by default. If you prefer a different cookie name, you can change it as easily too, but you have to do it before CGI::Session object is created:</p>\n\n<pre><code>CGI::Session-&gt;name(\"SID\");\n$session = CGI::Session-&gt;new();\n</code></pre>\n  \n  <p>Baking the cookie wasn't too difficult, was it? But there is an even easier way to send a cookie using CGI::Session:</p>\n\n<pre><code>print $session-&gt;header();\n</code></pre>\n  \n  <p>The above will create the cookie using CGI::Cookie and will return proper http headers using CGI.pm's CGI method. Any arguments to CGI::Session will be passed to CGI::header().</p>\n</blockquote>\n\n<p>Without this, you'll be creating a brand new session for each request.</p>\n"}], "owner": {"reputation": 67, "user_id": 6699525, "user_type": "registered", "accept_rate": 75, "profile_image": "https://www.gravatar.com/avatar/e9f6d64aed2540e4e050fd906d977e9d?s=128&d=identicon&r=PG", "display_name": "superzero10", "link": "https://stackoverflow.com/users/6699525/superzero10"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 1823, "favorite_count": 0, "accepted_answer_id": 39415060, "answer_count": 1, "score": 0, "last_activity_date": 1473685228, "creation_date": 1473431812, "last_edit_date": 1473685228, "question_id": 39414083, "link": "https://stackoverflow.com/questions/39414083/perl-web-login-script-with-cgisession", "title": "Perl Web Login Script With CGI::Session", "body": "<p>i'm on the same problem since almost two week ago.\ni'm a newbie with Perl and Web :/</p>\n\n<p>i followed the CGI::Session tutorial and Cookbook, the code seems to be good but... not working.</p>\n\n<blockquote>\n  <p>index.cgi</p>\n</blockquote>\n\n<pre><code>#!/usr/bin/perl\nuse CGI;\nuse CGI::Cookie;\nuse HTML::Template;\nuse strict;\nuse warnings;\nuse CGI::Session;\nuse CGI::Carp qw(fatalsToBrowser);\nrequire \"cgi-bin/web_base.pl\";\nrequire \"cgi-bin/login.pl\";\n\nmy $cgi = new CGI;\nmy $session = new CGI::Session(\"driver:File\", undef, {Directory=&gt;'/tmp'}) or die CGI::Session-&gt;errstr;\nmy $CGISESSID = $session-&gt;id();\nprint header();\nprint $cgi-&gt;header();\nprint my_topbar();\nlogin_attempt($session, $cgi);\n\nif ( $session-&gt;param(\"~login-trials\") &gt;= 3 ) {\n    print error(\"You failed 3 times in a row.\\n\" .\n                \"Your session is blocked. Please contact us with \".\n                \"the details of your action\");\n    exit(0);\n\n}\n\nunless ( $session-&gt;param(\"~logged-in\") ) {\n    print login_form($cgi, $session);\n    exit(0);\n\n}\nprint footer();\n</code></pre>\n\n<blockquote>\n  <p>login.cgi</p>\n</blockquote>\n\n<pre><code>#!/usr/bin/perl\nuse strict;\nuse warnings;\nuse CGI;\nuse CGI::Cookie;\nuse HTML::Template;\nuse CGI::Session;\nuse CGI::Carp qw(fatalsToBrowser);\nuse Fcntl;\n\nmy $cgi = new CGI;      \nmy $session = new CGI::Session(undef, $cgi, {Directory=&gt;'/tmp'});\nsub login_attempt {\n    my ($session, $cgi) = @_;\n\n    if ( $session-&gt;param(\"~logged-in\") ) {\n        return 1;  # Verify if user is not logged.\n    }\n\n    my $username = $cgi-&gt;param(\"username\") or return;\n    my $password=$cgi-&gt;param(\"password\") or return;\n\n    # Form submited. Try to load profile.\n\n    if ( my $profile = load_profile($username, $password) ) {\n        $session-&gt;param(\"~profile\", $profile);\n        $session-&gt;param(\"~logged-in\", 1);\n        print \"YOUPIIIII\";\n        $session-&gt;clear([\"~login-trials\"]);\n        $session-&gt;redirect(\"dashboard.cgi\");\n        return 1;\n    }\n\n    # Failed to login, wrong credentials.\n\n    my $trials = $session-&gt;param(\"~login-trials\") || 0;\n    return $session-&gt;param(\"~login-trials\", ++$trials);\n}\nreturn 1;\n\nsub load_profile {\n    my ($username, $password) = @_;\n\n    local $/ = \"\\n\";\n    unless (sysopen(PROFILE, \"profile.txt\", O_RDONLY) ) {\n        die (\"Couldn't open profile.txt: $!\");\n    }\n    while ( &lt;PROFILE&gt; ) {\n        /^(\\n|#)/ and next;\n        chomp;\n        my ($n, $p) = split \"\\s+\";\n        if ( ($n eq $username) &amp;&amp; ($p eq $password) ) {\n            my $p_mask = \"x\" . length($p);\n            return {username=&gt;$n, password=&gt;$p_mask};\n\n        }\n    }\n    close(PROFILE);\n    return undef;\n}\n</code></pre>\n\n<p>profile.txt</p>\n\n<pre><code>Formget    123\n</code></pre>\n\n<p>When i try to login, nothing happen, even when i try wrong crendentials it should block me after 3 attemps but it is not.</p>\n\n<p>Can someone really help me on this ? i can't take it anymooooore.</p>\n\n<p>feel free for any questions :)</p>\n\n<p>EDIT :</p>\n\n<p>-login_attempt() corrected</p>\n\n<p>-load-profile wasn't working, made a new one, but still need improvement.</p>\n\n<p>-Last Problem is session init</p>\n"}, {"tags": ["linux", "bash", "perl", "awk", "sed"], "comments": [{"owner": {"reputation": 137100, "user_id": 874188, "user_type": "registered", "accept_rate": 62, "profile_image": "https://i.stack.imgur.com/ZcY77.png?s=128&g=1", "display_name": "tripleee", "link": "https://stackoverflow.com/users/874188/tripleee"}, "edited": false, "score": 0, "creation_date": 1513663175, "post_id": 39413684, "comment_id": 82727481, "body": "The error <i>probably</i> comes from your <code>sed</code> version requiring a backslash before each literal newline you want to insert."}], "answers": [{"comments": [{"owner": {"reputation": 658023, "user_id": 548225, "user_type": "registered", "accept_rate": 90, "profile_image": "https://www.gravatar.com/avatar/dab08478b226280d4a30894c9a7ed719?s=128&d=identicon&r=PG", "display_name": "anubhava", "link": "https://stackoverflow.com/users/548225/anubhava"}, "edited": false, "score": 0, "creation_date": 1473431587, "post_id": 39413820, "comment_id": 66152324, "body": "To save output of this awk command in place use: <code>awk -i inplace -v var=&quot;$ipvar_definitions&quot; &#39;1; &#47;var SNMP_SERVERS&#47;{print var}&#39; &#47;etc&#47;snort.conf</code>"}, {"owner": {"reputation": 155597, "user_id": 1745001, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/99a3ebae89496eb16afe453aae97f5be?s=128&d=identicon&r=PG", "display_name": "Ed Morton", "link": "https://stackoverflow.com/users/1745001/ed-morton"}, "edited": false, "score": 0, "creation_date": 1473457885, "post_id": 39413820, "comment_id": 66165476, "body": "There&#39;s nothing gawk-specific about that command. It will become so if you add <code>-i inplace</code> of course but the OP doesn&#39;t seem to be asking for that."}, {"owner": {"reputation": 658023, "user_id": 548225, "user_type": "registered", "accept_rate": 90, "profile_image": "https://www.gravatar.com/avatar/dab08478b226280d4a30894c9a7ed719?s=128&d=identicon&r=PG", "display_name": "anubhava", "link": "https://stackoverflow.com/users/548225/anubhava"}, "reply_to_user": {"reputation": 155597, "user_id": 1745001, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/99a3ebae89496eb16afe453aae97f5be?s=128&d=identicon&r=PG", "display_name": "Ed Morton", "link": "https://stackoverflow.com/users/1745001/ed-morton"}, "edited": false, "score": 0, "creation_date": 1473458002, "post_id": 39413820, "comment_id": 66165518, "body": "I mentioned gnu awk because my OSX awk didn&#39;t like multiline variable i.e <code>-v var=&quot;$ipvar_definitions&quot;</code>"}, {"owner": {"reputation": 155597, "user_id": 1745001, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/99a3ebae89496eb16afe453aae97f5be?s=128&d=identicon&r=PG", "display_name": "Ed Morton", "link": "https://stackoverflow.com/users/1745001/ed-morton"}, "edited": false, "score": 0, "creation_date": 1473458091, "post_id": 39413820, "comment_id": 66165536, "body": "Really? That&#39;s bizarre. I wonder if that&#39;s an OSX shell problem or an awk problem. I just tested with the default awk and GNU awk on OSX and it&#39;s an OSX awk problem as GNU awk works fine with it so the shell isn&#39;t having a problem with it. Weird..."}], "tags": [], "owner": {"reputation": 658023, "user_id": 548225, "user_type": "registered", "accept_rate": 90, "profile_image": "https://www.gravatar.com/avatar/dab08478b226280d4a30894c9a7ed719?s=128&d=identicon&r=PG", "display_name": "anubhava", "link": "https://stackoverflow.com/users/548225/anubhava"}, "is_accepted": true, "score": 2, "last_activity_date": 1473431324, "last_edit_date": 1473431324, "creation_date": 1473430979, "answer_id": 39413820, "question_id": 39413684, "link": "https://stackoverflow.com/questions/39413684/how-to-append-a-variable-with-dollar-sign-after-a-string-match-using-sed/39413820#39413820", "title": "How to append a variable with dollar sign after a string match using sed?", "body": "<p>Using gnu awk you can do this:</p>\n\n<pre><code># no need to escape the $ if you use single quotes\nipvar_definitions='var SSH_SERVERS $HOME_NET\nvar FTP_SERVERS $HOME_NET\nvar SIP_SERVERS $HOME_NET'\n\n# use awk command to insert ipvar_definitions after a line containing \"var SNMP_SERVERS\"\nawk -v var=\"$ipvar_definitions\" '1; /var SNMP_SERVERS/{print var}' /etc/snort.conf\n</code></pre>\n\n<p><strong>Output:</strong></p>\n\n<pre><code># List of snmp servers on your network\nvar SNMP_SERVERS $HOME_NET\nvar SSH_SERVERS $HOME_NET\nvar FTP_SERVERS $HOME_NET\nvar SIP_SERVERS $HOME_NET\n\n# Configure your service ports.  This allows snort to look for attacks destined\n</code></pre>\n"}, {"tags": [], "owner": {"reputation": 18548, "user_id": 4082052, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/GUNps.jpg?s=128&g=1", "display_name": "Sundeep", "link": "https://stackoverflow.com/users/4082052/sundeep"}, "is_accepted": false, "score": 0, "last_activity_date": 1513660932, "last_edit_date": 1513660932, "creation_date": 1473432945, "answer_id": 39414450, "question_id": 39413684, "link": "https://stackoverflow.com/questions/39413684/how-to-append-a-variable-with-dollar-sign-after-a-string-match-using-sed/39414450#39414450", "title": "How to append a variable with dollar sign after a string match using sed?", "body": "<pre><code>$ export ipvar_definitions='\nvar SSH_SERVERS $HOME_NET\nvar FTP_SERVERS $HOME_NET\nvar SIP_SERVERS $HOME_NET\n'\n\n$ perl -pe 's/.*var SNMP_SERVERS.*/$&amp;$ENV{ipvar_definitions}/' /etc/snort.conf \n# List of snmp servers on your network\nvar SNMP_SERVERS $HOME_NET\nvar SSH_SERVERS $HOME_NET\nvar FTP_SERVERS $HOME_NET\nvar SIP_SERVERS $HOME_NET\n\n\n# Configure your service ports.  This allows snort to look for attacks destined\n</code></pre>\n\n<p>Further reading: <a href=\"https://perldoc.perl.org/Env.html\" rel=\"nofollow noreferrer\">https://perldoc.perl.org/Env.html</a></p>\n"}], "owner": {"reputation": 1482, "user_id": 663039, "user_type": "registered", "accept_rate": 62, "profile_image": "https://www.gravatar.com/avatar/c4715b6fef86642b99141c9a3a390190?s=128&d=identicon&r=PG", "display_name": "Alptugay", "link": "https://stackoverflow.com/users/663039/alptugay"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 608, "favorite_count": 1, "accepted_answer_id": 39413820, "answer_count": 2, "score": 2, "last_activity_date": 1513660932, "creation_date": 1473430559, "last_edit_date": 1473432288, "question_id": 39413684, "link": "https://stackoverflow.com/questions/39413684/how-to-append-a-variable-with-dollar-sign-after-a-string-match-using-sed", "title": "How to append a variable with dollar sign after a string match using sed?", "body": "<p>I have a variable with dollar signs in it:</p>\n\n<pre><code>ipvar_definitions=\"\nvar SSH_SERVERS \\$HOME_NET\nvar FTP_SERVERS \\$HOME_NET\nvar SIP_SERVERS \\$HOME_NET\n\"\n</code></pre>\n\n<p>I want to append the value of this variable after a match using sed or perl or whatever one liner I can use.</p>\n\n<p>When trying with sed using the code below:</p>\n\n<pre><code>sed   \"/var SNMP_SERVERS/a ${ipvar_definitions}\" /etc/snort.conf\n</code></pre>\n\n<p>I get this error:</p>\n\n<pre><code>sed: -e expression #1, char 24: expected newer version of sed\n</code></pre>\n\n<p>I get this error because my variable has dollar signs in it. I'd like to solve this in a one liner using sed, perl, awk or whatever I can use.</p>\n\n<p>For clarification I am posting a sample input and the expected output:</p>\n\n<p>Input:</p>\n\n<pre><code># List of snmp servers on your network\nvar SNMP_SERVERS $HOME_NET\n\n# Configure your service ports.  This allows snort to look for attacks destined\n</code></pre>\n\n<p>Expected output:</p>\n\n<pre><code># List of snmp servers on your network\nvar SNMP_SERVERS $HOME_NET\nvar SSH_SERVERS $HOME_NET\nvar FTP_SERVERS $HOME_NET\nvar SIP_SERVERS $HOME_NET\n\n# Configure your service ports.  This allows snort to look for attacks destined\n</code></pre>\n"}, {"tags": ["perl", "attributes", "moose", "moo"], "comments": [{"owner": {"reputation": 50468, "user_id": 1331451, "user_type": "registered", "accept_rate": 96, "profile_image": "https://i.stack.imgur.com/4ZPmj.png?s=128&g=1", "display_name": "simbabque", "link": "https://stackoverflow.com/users/1331451/simbabque"}, "edited": false, "score": 1, "creation_date": 1473428795, "post_id": 39412838, "comment_id": 66150397, "body": "This looks a lot like your old question <a href=\"http://stackoverflow.com/q/38878324/1331451\">stackoverflow.com/q/38878324/1331451</a>."}, {"owner": {"reputation": 4450, "user_id": 856090, "user_type": "registered", "accept_rate": 55, "profile_image": "https://www.gravatar.com/avatar/fa49a1c90a6af7544d764c5b22ff780d?s=128&d=identicon&r=PG", "display_name": "porton", "link": "https://stackoverflow.com/users/856090/porton"}, "reply_to_user": {"reputation": 50468, "user_id": 1331451, "user_type": "registered", "accept_rate": 96, "profile_image": "https://i.stack.imgur.com/4ZPmj.png?s=128&g=1", "display_name": "simbabque", "link": "https://stackoverflow.com/users/1331451/simbabque"}, "edited": false, "score": 0, "creation_date": 1473429595, "post_id": 39412838, "comment_id": 66150892, "body": "@simbabque No, this is a different question"}, {"owner": {"reputation": 50468, "user_id": 1331451, "user_type": "registered", "accept_rate": 96, "profile_image": "https://i.stack.imgur.com/4ZPmj.png?s=128&g=1", "display_name": "simbabque", "link": "https://stackoverflow.com/users/1331451/simbabque"}, "edited": false, "score": 0, "creation_date": 1474096718, "post_id": 39412838, "comment_id": 66400896, "body": "Is switching to Moose for your project still on the table? I think that would make a lot of your recent questions easier to handle."}], "answers": [{"comments": [{"owner": {"reputation": 4450, "user_id": 856090, "user_type": "registered", "accept_rate": 55, "profile_image": "https://www.gravatar.com/avatar/fa49a1c90a6af7544d764c5b22ff780d?s=128&d=identicon&r=PG", "display_name": "porton", "link": "https://stackoverflow.com/users/856090/porton"}, "edited": false, "score": 0, "creation_date": 1473677871, "post_id": 39448693, "comment_id": 66218835, "body": "Well, however, my solution is not completely right, as revealed by <code>print Dumper {%$obj};</code> added at the end of the code. It stores <code>a</code> and <code>b</code> <b>both</b> into the object <code>$obj</code> and into the hash <code>$obj-&gt;base</code>. This is a bug"}, {"owner": {"reputation": 4450, "user_id": 856090, "user_type": "registered", "accept_rate": 55, "profile_image": "https://www.gravatar.com/avatar/fa49a1c90a6af7544d764c5b22ff780d?s=128&d=identicon&r=PG", "display_name": "porton", "link": "https://stackoverflow.com/users/856090/porton"}, "edited": false, "score": 0, "creation_date": 1473681253, "post_id": 39448693, "comment_id": 66220646, "body": "I&#39;ve edited the code (added clearer methods). Now it works as it should"}, {"owner": {"reputation": 4450, "user_id": 856090, "user_type": "registered", "accept_rate": 55, "profile_image": "https://www.gravatar.com/avatar/fa49a1c90a6af7544d764c5b22ff780d?s=128&d=identicon&r=PG", "display_name": "porton", "link": "https://stackoverflow.com/users/856090/porton"}, "edited": false, "score": 0, "creation_date": 1473685872, "post_id": 39448693, "comment_id": 66223427, "body": "There is yet one error: <code>base_builder</code> is called two times"}, {"owner": {"reputation": 4450, "user_id": 856090, "user_type": "registered", "accept_rate": 55, "profile_image": "https://www.gravatar.com/avatar/fa49a1c90a6af7544d764c5b22ff780d?s=128&d=identicon&r=PG", "display_name": "porton", "link": "https://stackoverflow.com/users/856090/porton"}, "edited": false, "score": 0, "creation_date": 1473685951, "post_id": 39448693, "comment_id": 66223481, "body": "This error however has an easy fix: replace <code>has &#39;base&#39; =&gt; (is =&gt; &#39;rw&#39;, builder =&gt; &#39;base_builder&#39;)</code> with <code>has &#39;base&#39; =&gt; (is =&gt; &#39;rw&#39;)</code>"}, {"owner": {"reputation": 4450, "user_id": 856090, "user_type": "registered", "accept_rate": 55, "profile_image": "https://www.gravatar.com/avatar/fa49a1c90a6af7544d764c5b22ff780d?s=128&d=identicon&r=PG", "display_name": "porton", "link": "https://stackoverflow.com/users/856090/porton"}, "edited": false, "score": 0, "creation_date": 1473696417, "post_id": 39448693, "comment_id": 66230308, "body": "I&#39;ve edited the code again. Now <code>has &#39;base&#39; =&gt; (is =&gt; &#39;rw&#39;, builder =&gt; &#39;base_builder&#39;)</code> but it works as expected"}], "tags": [], "owner": {"reputation": 4450, "user_id": 856090, "user_type": "registered", "accept_rate": 55, "profile_image": "https://www.gravatar.com/avatar/fa49a1c90a6af7544d764c5b22ff780d?s=128&d=identicon&r=PG", "display_name": "porton", "link": "https://stackoverflow.com/users/856090/porton"}, "is_accepted": true, "score": 3, "last_activity_date": 1473696388, "last_edit_date": 1473696388, "creation_date": 1473677555, "answer_id": 39448693, "question_id": 39412838, "link": "https://stackoverflow.com/questions/39412838/connecting-a-moo-object-with-a-hash/39448693#39448693", "title": "&quot;Connecting&quot; a Moo object with a hash", "body": "<p>This can be solved by adding:</p>\n\n<pre><code>sub BUILD {\n  my ($self, $args) = @_;\n\n  foreach my $Key (keys %$args) {\n    $self-&gt;base-&gt;{$Key} = $args-&gt;{$Key};\n    my $clearer = \"_clear_local_$Key\";\n    $self-&gt;$clearer();\n  }\n}\n</code></pre>\n\n<p>Complete code:</p>\n\n<pre><code>#!/usr/bin/perl\n\nuse feature qw(say);\n\npackage X;\nuse Moo;\nuse Data::Dumper;\n\nmy $BusinessClass = 'X';\n\nhas 'base' =&gt; (is =&gt; 'rw', builder =&gt; 'base_builder');\n\nsub base_builder {\n  return {};\n}\n\nsub BUILD {\n  my ($self, $args) = @_;\n\n  foreach my $Key (keys %$args) {\n    $self-&gt;base-&gt;{$Key} = $args-&gt;{$Key};\n    my $clearer = \"_clear_local_$Key\";\n    $self-&gt;$clearer();\n  }\n}\n\nforeach my $Key (qw(a b c)) {\n  {\n    no strict 'refs';\n    *{\"${BusinessClass}::$Key\"} = sub {\n      if (@_ == 2) {\n        return $_[0]-&gt;base-&gt;{$Key} = $_[1];\n      } else {\n        return $_[0]-&gt;base-&gt;{$Key};\n      }\n    };\n    has $Key =&gt; ( is        =&gt; 'rw',\n                  lazy      =&gt; 0,\n                  required  =&gt; 0,\n                  reader =&gt; \"${BusinessClass}::_access1_$Key\",\n                  writer =&gt; \"${BusinessClass}::_access2_$Key\",\n                  clearer =&gt; \"_clear_local_$Key\",\n                );\n  }\n}\n\nmy $obj = X-&gt;new(a=&gt;123, b=&gt;456);\nprint Dumper $obj-&gt;base;\n$obj-&gt;c(789);\nprint Dumper $obj-&gt;base;\n\nprint Dumper {%$obj};\n</code></pre>\n"}], "owner": {"reputation": 4450, "user_id": 856090, "user_type": "registered", "accept_rate": 55, "profile_image": "https://www.gravatar.com/avatar/fa49a1c90a6af7544d764c5b22ff780d?s=128&d=identicon&r=PG", "display_name": "porton", "link": "https://stackoverflow.com/users/856090/porton"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 370, "favorite_count": 1, "accepted_answer_id": 39448693, "answer_count": 1, "score": 4, "last_activity_date": 1473696388, "creation_date": 1473428139, "last_edit_date": 1473428514, "question_id": 39412838, "link": "https://stackoverflow.com/questions/39412838/connecting-a-moo-object-with-a-hash", "title": "&quot;Connecting&quot; a Moo object with a hash", "body": "<p>In my real code I want to \"synchronize\" a Moo (or Moose if Moo won't work) object with a hash (in reality a tied hash), so that reading a property of the Moo object would read the corresponding value from the hash and writing a property of the Moo object would store into the hash.</p>\n\n<p>The following is a simplified code:</p>\n\n<pre><code>#!/usr/bin/perl\n\nuse feature qw(say);\n\npackage X;\nuse Moo;\nuse Data::Dumper;\n\nmy $BusinessClass = 'X';\n\nhas 'base' =&gt; (is =&gt; 'rw', builder =&gt; 'base_builder');\n\nsub base_builder {\n  return {};\n}\n\nforeach my $Key (qw(a b c)) {\n  {\n    no strict 'refs';\n    *{\"${BusinessClass}::$Key\"} = sub {\n      if (@_ == 2) {\n        return $_[0]-&gt;base-&gt;{$Key} = $_[1];\n      } else {\n        return $_[0]-&gt;base-&gt;{$Key};\n      }\n    };\n    has $Key =&gt; ( is        =&gt; 'rw',\n                  lazy      =&gt; 0,\n                  required  =&gt; 0,\n                  reader =&gt; \"${BusinessClass}::_access1_$Key\",\n                  writer =&gt; \"${BusinessClass}::_access2_$Key\",\n                );\n  }\n}\n\nmy $obj = X-&gt;new(a=&gt;123, b=&gt;456);\nprint Dumper $obj-&gt;base;\n$obj-&gt;c(789);\nprint Dumper $obj-&gt;base;\n</code></pre>\n\n<p>The trouble is that attributes passed to <code>new</code> function are not stored in the has <code>$obj-&gt;base</code> (but they should be). In the above code example the attribute <code>c</code> is properly stored as it should, but <code>a</code> and <code>b</code> are not stored into the hash. This is a bug.</p>\n\n<p>What are good ways to handle this situation?</p>\n"}, {"tags": ["perl", "cgi"], "answers": [{"comments": [{"owner": {"reputation": 50468, "user_id": 1331451, "user_type": "registered", "accept_rate": 96, "profile_image": "https://i.stack.imgur.com/4ZPmj.png?s=128&g=1", "display_name": "simbabque", "link": "https://stackoverflow.com/users/1331451/simbabque"}, "reply_to_user": {"reputation": 793701, "user_id": 19068, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/1d2d3229ed1961d2bd81853242493247?s=128&d=identicon&r=PG", "display_name": "Quentin", "link": "https://stackoverflow.com/users/19068/quentin"}, "edited": false, "score": 0, "creation_date": 1473428208, "post_id": 39412684, "comment_id": 66150049, "body": "@Quentin I don&#39;t think it matters for this question whether CGI.pm is in core or not. Bu I&#39;ll elaborate what I meant."}, {"owner": {"reputation": 793701, "user_id": 19068, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/1d2d3229ed1961d2bd81853242493247?s=128&d=identicon&r=PG", "display_name": "Quentin", "link": "https://stackoverflow.com/users/19068/quentin"}, "edited": false, "score": 0, "creation_date": 1473428626, "post_id": 39412684, "comment_id": 66150293, "body": "Using JSON instead of the data format the question is asking about means changing from a format which you can generate with an HTML form to one that you cannot."}, {"owner": {"reputation": 50468, "user_id": 1331451, "user_type": "registered", "accept_rate": 96, "profile_image": "https://i.stack.imgur.com/4ZPmj.png?s=128&g=1", "display_name": "simbabque", "link": "https://stackoverflow.com/users/1331451/simbabque"}, "reply_to_user": {"reputation": 793701, "user_id": 19068, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/1d2d3229ed1961d2bd81853242493247?s=128&d=identicon&r=PG", "display_name": "Quentin", "link": "https://stackoverflow.com/users/19068/quentin"}, "edited": false, "score": 1, "creation_date": 1473428680, "post_id": 39412684, "comment_id": 66150331, "body": "@Quenin I don&#39;t think OP wants that data format. They just tried it. They are talking about a Perl hashref first after all."}, {"owner": {"reputation": 793701, "user_id": 19068, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/1d2d3229ed1961d2bd81853242493247?s=128&d=identicon&r=PG", "display_name": "Quentin", "link": "https://stackoverflow.com/users/19068/quentin"}, "edited": false, "score": 0, "creation_date": 1473428782, "post_id": 39412684, "comment_id": 66150391, "body": "Whether they are strongly tied to the PHP-style format or not, it doesn&#39;t change the fact that the one they are using can be generated with a regular HTML form while JSON cannot."}, {"owner": {"reputation": 68, "user_id": 5850890, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/pmQPR.jpg?s=128&g=1", "display_name": "JMa", "link": "https://stackoverflow.com/users/5850890/jma"}, "edited": false, "score": 0, "creation_date": 1473429875, "post_id": 39412684, "comment_id": 66151085, "body": "I know how to pass multiple paramaters. I was specifically asking about hashref, because i need to pass these args into a module that handles web-service (incomming) data. Application I use is capable to decode REST call with args in JSON format. (And I know how to call it.) I just needed to know wheter it is possibe to encode nested hash ref in URL or not. Your example with JSON is fine, but it presumes that you will hardcode which arguments are in specific format - and I woud like to avoid that. Thx for you effort."}, {"owner": {"reputation": 50468, "user_id": 1331451, "user_type": "registered", "accept_rate": 96, "profile_image": "https://i.stack.imgur.com/4ZPmj.png?s=128&g=1", "display_name": "simbabque", "link": "https://stackoverflow.com/users/1331451/simbabque"}, "reply_to_user": {"reputation": 68, "user_id": 5850890, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/pmQPR.jpg?s=128&g=1", "display_name": "JMa", "link": "https://stackoverflow.com/users/5850890/jma"}, "edited": false, "score": 0, "creation_date": 1473429971, "post_id": 39412684, "comment_id": 66151140, "body": "@JMa what kind of data is this? Is it meta-data for a GET operation that is just reading? Like how to sort, or how to authenticate?"}, {"owner": {"reputation": 68, "user_id": 5850890, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/pmQPR.jpg?s=128&g=1", "display_name": "JMa", "link": "https://stackoverflow.com/users/5850890/jma"}, "edited": false, "score": 0, "creation_date": 1473430108, "post_id": 39412684, "comment_id": 66151248, "body": "Yes, it is data for GET operation. Web service returns some data based on paramater placed in &#39;data&#39; section."}, {"owner": {"reputation": 68, "user_id": 5850890, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/pmQPR.jpg?s=128&g=1", "display_name": "JMa", "link": "https://stackoverflow.com/users/5850890/jma"}, "edited": false, "score": 1, "creation_date": 1473430550, "post_id": 39412684, "comment_id": 66151581, "body": "I have tried to reduce the question and put it as simpe as possible. Your answer &#39;NO&#39; was absolutely fine for me :)"}], "tags": [], "owner": {"reputation": 50468, "user_id": 1331451, "user_type": "registered", "accept_rate": 96, "profile_image": "https://i.stack.imgur.com/4ZPmj.png?s=128&g=1", "display_name": "simbabque", "link": "https://stackoverflow.com/users/1331451/simbabque"}, "is_accepted": true, "score": 2, "last_activity_date": 1473428711, "last_edit_date": 1473428711, "creation_date": 1473427678, "answer_id": 39412684, "question_id": 39412046, "link": "https://stackoverflow.com/questions/39412046/nested-hash-parameters-in-url-cgi/39412684#39412684", "title": "Nested hash parameters in URL - CGI", "body": "<p><strong>No.</strong> </p>\n\n<p>There is no <em>native way</em> to do that. If you are using <a href=\"https://v1.metacpan.org/pod/distribution/CGI/lib/CGI.pod#Fetching-the-names-of-all-the-parameters-passed-to-your-script\" rel=\"nofollow\">CGI.pm</a>, then you can pass multiple parameters with the same name and fetch them all into an array.</p>\n\n<pre><code>GET /?foo=1&amp;foo=2&amp;foo=3\n</code></pre>\n\n\n\n<pre><code>use strict;\nuse warnings;\nuse CGI;\nuse Data::Dumper;\n\nmy $q = CGI-&gt;new;\nmy @foo = $q-&gt;multi_param('foo');\n\nprint Dumper \\@foo;\n</code></pre>\n\n<p>You will achieve this kind of behavior from an HTML form by having multiple input fields with the same <code>name</code> attribute. But that does not give you a hash.</p>\n\n<hr>\n\n<p>To pass along an actual data structure, that is not enough though.\nYou could encode your multi-dimensional parameters as JSON.</p>\n\n<pre><code>&lt;URI&gt;?pwd=abc&amp;usr=abb&amp;data={'yxz':'xxx'}\n</code></pre>\n\n<p>Correctly URL-encoded that would be the following.</p>\n\n<pre><code>?pwd=abc&amp;usr=abb&amp;data=%7B%27yxz%27%3A%27xxx%27%7D\n</code></pre>\n\n<p>In your application, you can just convert it from JSON to a Perl data structure using the <a href=\"https://v1.metacpan.org/pod/JSON\" rel=\"nofollow\">JSON</a> module.</p>\n"}, {"comments": [{"owner": {"reputation": 68, "user_id": 5850890, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/pmQPR.jpg?s=128&g=1", "display_name": "JMa", "link": "https://stackoverflow.com/users/5850890/jma"}, "edited": false, "score": 0, "creation_date": 1473430786, "post_id": 39412952, "comment_id": 66151758, "body": "Thx for your answer. I didn&#180;t know this module. I don&#180;t want to change the parser right now but maybe I will use it in future."}], "tags": [], "owner": {"reputation": 793701, "user_id": 19068, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/1d2d3229ed1961d2bd81853242493247?s=128&d=identicon&r=PG", "display_name": "Quentin", "link": "https://stackoverflow.com/users/19068/quentin"}, "is_accepted": false, "score": 0, "last_activity_date": 1473428493, "creation_date": 1473428493, "answer_id": 39412952, "question_id": 39412046, "link": "https://stackoverflow.com/questions/39412046/nested-hash-parameters-in-url-cgi/39412952#39412952", "title": "Nested hash parameters in URL - CGI", "body": "<p>The query string is just a string. You can encode the data any way you like and use any parser you like to convert it into a data structure.</p>\n\n<p>Most parsers will give you a hash of key/value pairs, and inflate any with the same name into an array. This has been the common way Perl (and most programming languages) have handled it pretty much forever.</p>\n\n<p>If you want the extended data structure format that PHP uses, then you'll need to use a parser designed to handle that format. </p>\n\n<p>As usual, <a href=\"https://metacpan.org/pod/PHP::ParseStr\" rel=\"nofollow\">CPAN to the rescue</a>. </p>\n\n<pre><code>use PHP::ParseStr qw(php_parse_str);\nmy $data = php_parse_str($ENV{QUERY_STRING});\n</code></pre>\n"}], "owner": {"reputation": 68, "user_id": 5850890, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/pmQPR.jpg?s=128&g=1", "display_name": "JMa", "link": "https://stackoverflow.com/users/5850890/jma"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 355, "favorite_count": 0, "accepted_answer_id": 39412684, "answer_count": 2, "score": 0, "last_activity_date": 1473428711, "creation_date": 1473425482, "last_edit_date": 1473425914, "question_id": 39412046, "link": "https://stackoverflow.com/questions/39412046/nested-hash-parameters-in-url-cgi", "title": "Nested hash parameters in URL - CGI", "body": "<p>How shall I pass nested hash params into URL for CGI script?\nData:</p>\n\n<pre><code>my $params = {\n    pwd =&gt; 'abc',\n    usr =&gt; 'abb',\n    data =&gt; { xyz =&gt; 'xxx' },\n};\n</code></pre>\n\n<p>I tried:</p>\n\n<pre><code>&lt;URI&gt;?pwd=abc&amp;usr=abb&amp;data[xyz]='xxx'\n</code></pre>\n\n<p>But this results into:</p>\n\n<pre><code>$VAR1 = { \n   'data[yxz]'     =&gt; 'xxx',\n   'pwd'           =&gt; 'abc',\n   'usr'           =&gt; 'abb'\n}\n</code></pre>\n\n<p>Thanks for any hints.</p>\n\n<p>Note: OK, I can parse string 'data[yxz]' and transform whole pair into hashref, but I am wondering if there is any 'native' function for this.</p>\n"}, {"tags": ["perl", "pdf", "digital-signature"], "comments": [{"owner": {"reputation": 77029, "user_id": 1729265, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/VMMeP.jpg?s=128&g=1", "display_name": "mkl", "link": "https://stackoverflow.com/users/1729265/mkl"}, "edited": false, "score": 0, "creation_date": 1473506289, "post_id": 39411840, "comment_id": 66174975, "body": "You might want to read <a href=\"http://stackoverflow.com/documentation/pdf/5161/integrated-pdf-signatures/18248/how-integrated-pdf-signatures-are-integrated#t=201609091349325346354\">this</a> and documents linked from the remarks there to understand how integrated PDF signatures are &quot;integrated&quot;."}], "owner": {"reputation": 75, "user_id": 2728557, "user_type": "registered", "accept_rate": 75, "profile_image": "https://graph.facebook.com/1341512409/picture?type=large", "display_name": "En Lora Ilieva", "link": "https://stackoverflow.com/users/2728557/en-lora-ilieva"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 299, "favorite_count": 0, "answer_count": 0, "score": 1, "last_activity_date": 1478541923, "creation_date": 1473424829, "question_id": 39411840, "link": "https://stackoverflow.com/questions/39411840/sign-pdf-file-digitally-in-perl", "title": "Sign pdf file digitally in perl", "body": "<p>I want to sign .pdf file digitally and after that to create attached signature file and detached signature file, using Crypt::OpenSSL::RSA.\nThis is what I did: </p>\n\n<ol>\n<li><p>Initialization</p>\n\n<pre><code>my $s_pdf_file_to_sign = 'pdf_file_to_sign';\nmy $s_private_key_file = 'private_key_file';\nmy $s_cert_file = 'certificate_file';\n</code></pre></li>\n<li><p>Read .pdf file content</p>\n\n<pre><code>my ($dev,$ino,$mode,$nlink,$uid,$gid,$rdev,$size,\n$atime,$mtime,$ctime,$blksize,$blocks) = stat $s_pdf_to_sign;\nopen FILE, \"&lt;$s_pdf_to_sign\" or die \"no such file\";\nbinmode FILE;\nmy $s_pdf_to_sign_string;\nread FILE, $s_pdf_to_sign_string, $size;\nclose FILE;\n</code></pre></li>\n<li><p>Read private key content:</p>\n\n<pre><code>($dev,$ino,$mode,$nlink,$uid,$gid,$rdev,$size,\n$atime,$mtime,$ctime,$blksize,$blocks) = stat $s_private_key;\nopen FILE, \"&lt;$s_private_key\" or die \"no such file\";\nbinmode FILE;\nmy $s_private_key_content;\nread FILE, $s_private_key_content, $size;\nclose FILE;\n</code></pre></li>\n<li><p>Create private_key object:</p>\n\n<pre><code>my $s_private_key_string = $s_private_key_content;\nmy $oref_rsa_priv = Crypt::OpenSSL::RSA-&gt;new_private_key($s_private_key_content) or die \"new_private_key error\";\n</code></pre></li>\n<li><p>Sign pdf file content:</p>\n\n<pre><code>my $signature = $oref_rsa_priv-&gt;sign($s_pdf_content);\n</code></pre></li>\n</ol>\n\n<p>Could someone tell me what contains $signature variable? What should I do to create the attached and detached signatures?</p>\n"}, {"tags": ["file", "grep", "perl", "copy"], "comments": [{"owner": {"reputation": 2838, "user_id": 4959010, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/2QtsW.png?s=128&g=1", "display_name": "Sato Katsura", "link": "https://stackoverflow.com/users/4959010/sato-katsura"}, "edited": false, "score": 3, "creation_date": 1473421276, "post_id": 39415625, "comment_id": 66155895, "body": "Why do you want to do this in Perl?"}], "answers": [{"tags": [], "owner": {"reputation": 8273, "user_id": 1334695, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/431ae6e9f7610b9d6a6a6cdebd0244d5?s=128&d=identicon&r=PG", "display_name": "stevieb", "link": "https://stackoverflow.com/users/1334695/stevieb"}, "is_accepted": false, "score": 1, "last_activity_date": 1473430573, "creation_date": 1473430573, "answer_id": 39415626, "question_id": 39415625, "link": "https://stackoverflow.com/questions/39415625/how-to-copy-a-list-of-files-in-perl-from-one-directory-to-another/39415626#39415626", "title": "How to copy a list of files in perl from one directory to another", "body": "<p>One way, using <a href=\"https://metacpan.org/pod/File::Find::Rule\" rel=\"nofollow\">File::Find::Rule</a>:</p>\n\n<pre><code>use warnings;\nuse strict;\n\nuse File::Copy;\nuse File::Find::Rule;\n\nmy $dir = 'src/';\nmy $arch_dir = 'archive/';\nmy $days = 10;\nmy $type = '*.txt';\n\nif (! -d $arch_dir){\n    mkdir $arch_dir or die $!;\n}\n\nmy @files = File::Find::Rule-&gt;file()\n                            -&gt;name($type)\n                            -&gt;mtime('&gt; ' . (time() - $days*24*60*60))\n                            -&gt;in($dir);\n\nfor (@files){\n    move $_, $arch_dir or die $!;\n    print \"moved $_ to $arch_dir/\\n\";\n}\n</code></pre>\n"}], "migrated_from": {"other_site": {"aliases": ["http://linux.stackexchange.com"], "markdown_extensions": ["Prettify"], "launch_date": 1294871917, "open_beta_date": 1282071600, "closed_beta_date": 1281466800, "site_state": "normal", "high_resolution_icon_url": "https://cdn.sstatic.net/Sites/unix/Img/apple-touch-icon@2.png", "favicon_url": "https://cdn.sstatic.net/Sites/unix/Img/favicon.ico", "icon_url": "https://cdn.sstatic.net/Sites/unix/Img/apple-touch-icon.png", "audience": "users of Linux, FreeBSD and other Un*x-like operating systems", "site_url": "https://unix.stackexchange.com", "api_site_parameter": "unix", "logo_url": "https://cdn.sstatic.net/Sites/unix/Img/logo.png", "name": "Unix &amp; Linux", "site_type": "main_site"}, "on_date": 1473437107, "question_id": 308842}, "owner": {"user_type": "does_not_exist", "display_name": "Vijaya Ragavan"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 269, "favorite_count": 0, "answer_count": 1, "score": 0, "last_activity_date": 1473437107, "creation_date": 1473415248, "question_id": 39415625, "link": "https://stackoverflow.com/questions/39415625/how-to-copy-a-list-of-files-in-perl-from-one-directory-to-another", "title": "How to copy a list of files in perl from one directory to another", "body": "<p>In UNIX get the files from <code>DIRECTORY_PATH</code> based on file format and last modified date and move the file to <code>ARCHIVE_DIRECTORY</code></p>\n\n<p>For that used the below piece of code </p>\n\n<pre><code>DIRECTORY_PATH=/apps/data/central_archive/\nNO_OF_DAYS_ARCHIVE=10\nFILE_FORMAT=txt\nEXEC_CMD=mv\nARCHIVE_DIRECTORY=/apps/data/archive/\n\nres=`find $DIRECTORY_PATH -mtime $NO_OF_DAYS_ARCHIVE -name \"*$FILE_FORMAT*\" -type f|grep \"$DIRECTORY_PATH[^/]*$\" | grep -v '/rf/'`\n</code></pre>\n\n<p>Here how do implement the same logic in Perl?</p>\n"}, {"tags": ["javascript", "oracle", "perl", "timezone", "cpan"], "owner": {"reputation": 255, "user_id": 2462955, "user_type": "registered", "accept_rate": 70, "profile_image": "https://i.stack.imgur.com/wTr3k.png?s=128&g=1", "display_name": "Abhii", "link": "https://stackoverflow.com/users/2462955/abhii"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 71, "favorite_count": 0, "answer_count": 0, "score": 1, "last_activity_date": 1473843314, "creation_date": 1473414432, "last_edit_date": 1473843314, "question_id": 39408630, "link": "https://stackoverflow.com/questions/39408630/map-internal-name-and-external-user-visible-name-in-real-time-collaboration", "title": "Map &quot; Internal Name&quot; and &quot;External User Visible Name&quot; in Real-Time Collaboration Time Zones in Oracle", "body": "<p>Please Refer this link,\n<a href=\"https://docs.oracle.com/cd/B13866_04/webconf.904/b10877/timezone.htm\" rel=\"nofollow\">https://docs.oracle.com/cd/B13866_04/webconf.904/b10877/timezone.htm</a></p>\n\n<p>I have timezone values from \n<a href=\"http://search.cpan.org/dist/DateTime-TimeZone/lib/DateTime/TimeZone/Catalog.pm\" rel=\"nofollow\">http://search.cpan.org/dist/DateTime-TimeZone/lib/DateTime/TimeZone/Catalog.pm</a>\nwhich is in the format of \"Internal Name\" provided by Oracle. I want to show \"External User Visible Name\" of Oracle instead of these to Users. Is there any Mapping Module or way to achieve this?</p>\n\n<p>Is there any support from oracle to map \"Internal Name\" and \"External User Visible Name\" for TimeZones?</p>\n\n<p>Is there any CPAN module which will do the same thing in Perl?</p>\n\n<p>If nothing is there like that, then I am more interested in finding the alternative for the \"External Names\". Any standard Name format with \"UTC value\" and Name which can be mapped to \"Internal Oracle Names\".</p>\n\n<p><strong>Example :</strong>\nIn Microsoft windows 7, Change Date Time Settings -> TimeZone .</p>\n\n<p><strong><em>(UTC-08:00) Pacific Time (US &amp; Canada) -> America/Los_Angeles</em></strong> </p>\n\n<p>Here we have TimeZone Name in Right and desired Name in Left.</p>\n"}, {"tags": ["perl"], "answers": [{"comments": [{"owner": {"reputation": 125, "user_id": 4577205, "user_type": "registered", "accept_rate": 70, "profile_image": "https://www.gravatar.com/avatar/a2a3d629d3c27d219184e5901e9e617c?s=128&d=identicon&r=PG&f=1", "display_name": "pupil", "link": "https://stackoverflow.com/users/4577205/pupil"}, "edited": false, "score": 0, "creation_date": 1473421880, "post_id": 39410164, "comment_id": 66146079, "body": "Thanks Dave for your answer. I will try this out."}], "tags": [], "owner": {"reputation": 62184, "user_id": 7231, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/81b76985f3985e35492e25880493d045?s=128&d=identicon&r=PG", "display_name": "Dave Cross", "link": "https://stackoverflow.com/users/7231/dave-cross"}, "is_accepted": false, "score": 1, "last_activity_date": 1473419181, "creation_date": 1473419181, "answer_id": 39410164, "question_id": 39408500, "link": "https://stackoverflow.com/questions/39408500/including-perl-module-in-a-different-directory-in-a-single-location-which-can-be/39410164#39410164", "title": "including perl module in a different directory in a single location which can be used for multiple files", "body": "<p>There are basically three ways to manipulate Perl's <code>@INC</code> variable (which is what you're trying to do here).</p>\n\n<ol>\n<li>You can use <code>use lib</code> within your program. This is probably the best approach, but it can lead to having to edit a lot of files (as you've worked out).</li>\n<li>You can use the <code>-I</code> command line option (either when you're calling Perl or on your shebang line). I've rarely seen this approach used.</li>\n<li>You can set the <code>PERL5LIB</code> environment variable to a colon-separated list of directories. This means that you avoid having to hard-code the directory into every file, but you need to be sure that the environment is set up correctly before you execute your program.</li>\n</ol>\n\n<p>I think that in your situation, I'd be looking at option 3.</p>\n"}], "owner": {"reputation": 125, "user_id": 4577205, "user_type": "registered", "accept_rate": 70, "profile_image": "https://www.gravatar.com/avatar/a2a3d629d3c27d219184e5901e9e617c?s=128&d=identicon&r=PG&f=1", "display_name": "pupil", "link": "https://stackoverflow.com/users/4577205/pupil"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 144, "favorite_count": 0, "answer_count": 1, "score": 0, "last_activity_date": 1473419181, "creation_date": 1473414009, "question_id": 39408500, "link": "https://stackoverflow.com/questions/39408500/including-perl-module-in-a-different-directory-in-a-single-location-which-can-be", "title": "including perl module in a different directory in a single location which can be used for multiple files", "body": "<p>Let me describe my question.</p>\n\n<p>I have created a new perl module \nex:</p>\n\n<p>Module : sample/lib/module/sample.pm</p>\n\n<p>setenv SAMPLE /local/username/sample</p>\n\n<p>I am using this module in multiple files and am using </p>\n\n<p>use lib \"$ENV{'SAMPLE'}/lib\";</p>\n\n<p>in each and every file i am using the module.</p>\n\n<p>Is there a better solution ? instead of adding in each and every file the lib location to search for.</p>\n\n<p>I tried adding it in the main script which calls other scripts but it doesn't work. I get the error lib not found  @INC.</p>\n"}, {"tags": ["perl"], "answers": [{"comments": [{"owner": {"reputation": 930, "user_id": 6594367, "user_type": "registered", "accept_rate": 93, "profile_image": "https://www.gravatar.com/avatar/03c046cae270605c2376680482e52f6d?s=128&d=identicon&r=PG&f=1", "display_name": "John Doe", "link": "https://stackoverflow.com/users/6594367/john-doe"}, "edited": false, "score": 0, "creation_date": 1473408542, "post_id": 39406755, "comment_id": 66138581, "body": "Well, I thought it won&#39;t evaluate until it gets out of the paranthesis scope. Thank you!"}, {"owner": {"reputation": 53041, "user_id": 4653379, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/b3953dbedd0dabff5cbc3db9b0835b14?s=128&d=identicon&r=PG&f=1", "display_name": "zdim", "link": "https://stackoverflow.com/users/4653379/zdim"}, "reply_to_user": {"reputation": 930, "user_id": 6594367, "user_type": "registered", "accept_rate": 93, "profile_image": "https://www.gravatar.com/avatar/03c046cae270605c2376680482e52f6d?s=128&d=identicon&r=PG&f=1", "display_name": "John Doe", "link": "https://stackoverflow.com/users/6594367/john-doe"}, "edited": false, "score": 0, "creation_date": 1473415241, "post_id": 39406755, "comment_id": 66142345, "body": "@JohnDoe  My previous response was needlessly complicated.  The value is returned right away, but it is the value <i>before</i> the increment (while the incremented value is saved away).  Thus that  value is used in the whole statement. I am adjusting the answer to clarify this."}, {"owner": {"reputation": 123805, "user_id": 622310, "user_type": "registered", "accept_rate": 33, "profile_image": "https://www.gravatar.com/avatar/8b6d35219e1808520bc238b28161e2e6?s=128&d=identicon&r=PG", "display_name": "Borodin", "link": "https://stackoverflow.com/users/622310/borodin"}, "edited": false, "score": 0, "creation_date": 1473415767, "post_id": 39406755, "comment_id": 66142631, "body": "Note that even a post increment will return the <i>autovivified</i> value before the increment. That is, if <code>$value</code> is <code>undef</code> then <code>$value++</code> will be <i>zero</i>."}, {"owner": {"reputation": 53041, "user_id": 4653379, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/b3953dbedd0dabff5cbc3db9b0835b14?s=128&d=identicon&r=PG&f=1", "display_name": "zdim", "link": "https://stackoverflow.com/users/4653379/zdim"}, "reply_to_user": {"reputation": 123805, "user_id": 622310, "user_type": "registered", "accept_rate": 33, "profile_image": "https://www.gravatar.com/avatar/8b6d35219e1808520bc238b28161e2e6?s=128&d=identicon&r=PG", "display_name": "Borodin", "link": "https://stackoverflow.com/users/622310/borodin"}, "edited": false, "score": 0, "creation_date": 1473415859, "post_id": 39406755, "comment_id": 66142679, "body": "@Borodin  That is a part of the &quot;magic&quot; available with increment -- I didn&#39;t realize that it is &quot;<i>autovivification</i>&quot;, thank you."}, {"owner": {"reputation": 123805, "user_id": 622310, "user_type": "registered", "accept_rate": 33, "profile_image": "https://www.gravatar.com/avatar/8b6d35219e1808520bc238b28161e2e6?s=128&d=identicon&r=PG", "display_name": "Borodin", "link": "https://stackoverflow.com/users/622310/borodin"}, "edited": false, "score": 3, "creation_date": 1473416210, "post_id": 39406755, "comment_id": 66142876, "body": "The pre-increment is almost always what is wanted. However, because of the name of the language C++, it is the post-increment that is the most common. <code>++$value</code> makes a lot more sense to read, because the &quot;verb&quot; precedes the variable. It also takes additional steps to save the original value, so <code>$value--</code> is slightly slower, and may even be so if the return value isn&#39;t used if the compiler doesn&#39;t optimise properly. The moral is to <i>always</i> use the pre-increment unless you are in the unusual situation of needing the post-increment variation."}, {"owner": {"reputation": 123805, "user_id": 622310, "user_type": "registered", "accept_rate": 33, "profile_image": "https://www.gravatar.com/avatar/8b6d35219e1808520bc238b28161e2e6?s=128&d=identicon&r=PG", "display_name": "Borodin", "link": "https://stackoverflow.com/users/622310/borodin"}, "edited": false, "score": 1, "creation_date": 1473416589, "post_id": 39406755, "comment_id": 66143105, "body": "Yes, if <code>$value</code> is <code>undef</code> then <code>$value-&gt;[0] = 1</code> or <code>push @$value, 1</code> will autovivify an empty array and put a reference to it into <code>$value</code>, likewise <code>$value-&gt;{key} = 1</code> will create an empty hash. If you <code>open $value, &#39;file&#39;</code> then a file glob is created and a reference to it stored. The same thing happens if you try to increment an undefined variable or append a string to it: a value of zero or the empty string is created and assigned to the variable so that the operation can go ahead. All of these are autovivication."}, {"owner": {"reputation": 53041, "user_id": 4653379, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/b3953dbedd0dabff5cbc3db9b0835b14?s=128&d=identicon&r=PG&f=1", "display_name": "zdim", "link": "https://stackoverflow.com/users/4653379/zdim"}, "reply_to_user": {"reputation": 123805, "user_id": 622310, "user_type": "registered", "accept_rate": 33, "profile_image": "https://www.gravatar.com/avatar/8b6d35219e1808520bc238b28161e2e6?s=128&d=identicon&r=PG", "display_name": "Borodin", "link": "https://stackoverflow.com/users/622310/borodin"}, "edited": false, "score": 0, "creation_date": 1473416595, "post_id": 39406755, "comment_id": 66143107, "body": "@Borodin  I completely agree and generally use <code>++i</code> in C++. I think that this is a very important comment, since most Perl code that I see uses post-increment.  However, i find this use so dominant in Perl that I end up going along with it (fearing complications I guess)."}, {"owner": {"reputation": 53041, "user_id": 4653379, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/b3953dbedd0dabff5cbc3db9b0835b14?s=128&d=identicon&r=PG&f=1", "display_name": "zdim", "link": "https://stackoverflow.com/users/4653379/zdim"}, "reply_to_user": {"reputation": 123805, "user_id": 622310, "user_type": "registered", "accept_rate": 33, "profile_image": "https://www.gravatar.com/avatar/8b6d35219e1808520bc238b28161e2e6?s=128&d=identicon&r=PG", "display_name": "Borodin", "link": "https://stackoverflow.com/users/622310/borodin"}, "edited": false, "score": 0, "creation_date": 1473416705, "post_id": 39406755, "comment_id": 66143169, "body": "@Borodin  My comments came out of order -- thank you for these examples/explanations of autovivification!  Very interesting, and educational."}, {"owner": {"reputation": 930, "user_id": 6594367, "user_type": "registered", "accept_rate": 93, "profile_image": "https://www.gravatar.com/avatar/03c046cae270605c2376680482e52f6d?s=128&d=identicon&r=PG&f=1", "display_name": "John Doe", "link": "https://stackoverflow.com/users/6594367/john-doe"}, "reply_to_user": {"reputation": 123805, "user_id": 622310, "user_type": "registered", "accept_rate": 33, "profile_image": "https://www.gravatar.com/avatar/8b6d35219e1808520bc238b28161e2e6?s=128&d=identicon&r=PG", "display_name": "Borodin", "link": "https://stackoverflow.com/users/622310/borodin"}, "edited": false, "score": 1, "creation_date": 1473419382, "post_id": 39406755, "comment_id": 66144643, "body": "Thank you @Borodin for the explanations!"}], "tags": [], "owner": {"reputation": 53041, "user_id": 4653379, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/b3953dbedd0dabff5cbc3db9b0835b14?s=128&d=identicon&r=PG&f=1", "display_name": "zdim", "link": "https://stackoverflow.com/users/4653379/zdim"}, "is_accepted": true, "score": 6, "last_activity_date": 1473415806, "last_edit_date": 1473415806, "creation_date": 1473408361, "answer_id": 39406755, "question_id": 39406598, "link": "https://stackoverflow.com/questions/39406598/if-evaluation-of-incremented-value/39406755#39406755", "title": "If evaluation of incremented value", "body": "<p>You are using the <em>post increment</em> form of the <a href=\"http://perldoc.perl.org/perlop.html#Auto-increment-and-Auto-decrement\" rel=\"nofollow\"><code>auto-increment operator</code></a></p>\n\n<blockquote>\n  <p>\"++\" and \"--\" work as in C. That is, if placed before a variable, they increment or decrement the variable by one before returning the value, and if placed after, increment or decrement after returning the value.</p>\n</blockquote>\n\n<p>So the value prior to increment is returned first and that is used in the statement, thus the condition is evaluated with it and found to be false. The incremented value is used the next time the variable is evaluated. With <code>++$value</code> it will do what you expect.  This is clearly a little tricky, to say the least.</p>\n\n<p>Note that the string-vs-number magic that you mention works for increment only, <em>not</em> decrement operator.  See the above <code>perlop</code> page.</p>\n"}], "owner": {"reputation": 930, "user_id": 6594367, "user_type": "registered", "accept_rate": 93, "profile_image": "https://www.gravatar.com/avatar/03c046cae270605c2376680482e52f6d?s=128&d=identicon&r=PG&f=1", "display_name": "John Doe", "link": "https://stackoverflow.com/users/6594367/john-doe"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 92, "favorite_count": 0, "accepted_answer_id": 39406755, "answer_count": 1, "score": 1, "last_activity_date": 1473415806, "creation_date": 1473407819, "question_id": 39406598, "link": "https://stackoverflow.com/questions/39406598/if-evaluation-of-incremented-value", "title": "If evaluation of incremented value", "body": "<p>I am trying to catch the case where my value is not initialized and I increment it. From what I read, <code>$value</code> will act based on context (if I concatenate it, it will act as empty string, if I increment it, it will act as <code>0</code>).</p>\n\n<p>What I don't understand is why the code above gives me :\n<code>The value outside of the if: 1</code> and it doesn't also show: <code>The value from if: 1</code></p>\n\n<pre><code>use strict;\nuse warnings;\n\nmy $value;\n\nif (( $value++) == 1){\n    print \"The value from if: $value\";\n}\n\nprint \"The value outside of the if: $value\";\n</code></pre>\n"}, {"tags": ["linux", "perl", "shell", "unix"], "comments": [{"owner": {"reputation": 930, "user_id": 6594367, "user_type": "registered", "accept_rate": 93, "profile_image": "https://www.gravatar.com/avatar/03c046cae270605c2376680482e52f6d?s=128&d=identicon&r=PG&f=1", "display_name": "John Doe", "link": "https://stackoverflow.com/users/6594367/john-doe"}, "edited": false, "score": 0, "creation_date": 1473406145, "post_id": 39406025, "comment_id": 66137288, "body": "Read <a href=\"http://perldoc.perl.org/File/Spec.html\" rel=\"nofollow noreferrer\">this information</a>. To be more specific, search for <code>rel2abs()</code>"}, {"owner": {"reputation": 126499, "user_id": 1531124, "user_type": "registered", "accept_rate": 96, "profile_image": "https://i.stack.imgur.com/zw18i.png?s=128&g=1", "display_name": "GhostCat", "link": "https://stackoverflow.com/users/1531124/ghostcat"}, "edited": false, "score": 1, "creation_date": 1473406209, "post_id": 39406025, "comment_id": 66137330, "body": "Just for the record: when you decide to write a PERL script, you could be doing that in almost platform-independent manners. Meaning: perl has its libraries for looking into file systems. So, instead of making system commands; I would recommend you to use the powers of perl libraries instead."}, {"owner": {"reputation": 930, "user_id": 6594367, "user_type": "registered", "accept_rate": 93, "profile_image": "https://www.gravatar.com/avatar/03c046cae270605c2376680482e52f6d?s=128&d=identicon&r=PG&f=1", "display_name": "John Doe", "link": "https://stackoverflow.com/users/6594367/john-doe"}, "edited": false, "score": 1, "creation_date": 1473406258, "post_id": 39406025, "comment_id": 66137359, "body": "A simple google search for <code>relative to absolute path perl</code> would have lead you to that."}], "answers": [{"tags": [], "owner": {"reputation": 198290, "user_id": 1030675, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/957956ce51706d03f19a4dc85a767bb1?s=128&d=identicon&r=PG", "display_name": "choroba", "link": "https://stackoverflow.com/users/1030675/choroba"}, "is_accepted": true, "score": 2, "last_activity_date": 1483689978, "last_edit_date": 1483689978, "creation_date": 1473406753, "answer_id": 39406291, "question_id": 39406025, "link": "https://stackoverflow.com/questions/39406025/list-absolute-path-for-folder-in-linux-and-perl/39406291#39406291", "title": "List absolute path for folder in Linux and Perl", "body": "<p>You can use <a href=\"http://p3rl.org/glob\" rel=\"nofollow noreferrer\">glob</a> to expand a wildcard. Use <a href=\"http://p3rl.org/grep\" rel=\"nofollow noreferrer\">grep</a> to filter a list, <code>-f</code> and <code>-d</code> (see <a href=\"http://p3rl.org/-x\" rel=\"nofollow noreferrer\">-x</a>) check for files and directories, respectivelly.</p>\n\n<pre><code>my @files_and_directories = glob '/vobs/code/*'; \nmy @files       = grep -f, @files_and_directories;\nmy @directories = grep -d, @files_and_directories;\n</code></pre>\n"}, {"tags": [], "owner": {"reputation": 1523, "user_id": 4204037, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/ab78fa882cbf4a03c4fd2a0b92622dc5?s=128&d=identicon&r=PG&f=1", "display_name": "bytepusher", "link": "https://stackoverflow.com/users/4204037/bytepusher"}, "is_accepted": false, "score": 0, "last_activity_date": 1473554846, "creation_date": 1473554846, "answer_id": 39431870, "question_id": 39406025, "link": "https://stackoverflow.com/questions/39406025/list-absolute-path-for-folder-in-linux-and-perl/39431870#39431870", "title": "List absolute path for folder in Linux and Perl", "body": "<p>Have you considered abs_path?</p>\n\n<pre><code>use Cwd 'abs_path';\nmy $base_path = abs_path('vobs/code');\nfor my $dir ( qw/item image/ ){\n   my $path = abs_path(join(\"/\",$base_path,$dir));\n   # Ofc, this will only work if vobs/code is in working directory.\n   my @files_in_dir = grep{ -f $_ }&lt;$path/*&gt;; # these will be absolute\n\n}\n</code></pre>\n"}], "owner": {"reputation": 85, "user_id": 3610533, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/f99c6ed7c63e92b6915f18e88c86af64?s=128&d=identicon&r=PG&f=1", "display_name": "RandyWong", "link": "https://stackoverflow.com/users/3610533/randywong"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 418, "favorite_count": 0, "accepted_answer_id": 39406291, "answer_count": 2, "score": 1, "last_activity_date": 1483689978, "creation_date": 1473405890, "last_edit_date": 1473406160, "question_id": 39406025, "link": "https://stackoverflow.com/questions/39406025/list-absolute-path-for-folder-in-linux-and-perl", "title": "List absolute path for folder in Linux and Perl", "body": "<p>I have a folder where inside that contains two folder such as below:</p>\n\n<pre><code>/vobs/code\n/vobs/code/item\n/vobs/code/image\n</code></pre>\n\n<p>I would like to obtain its absolute path of the two folder.In my perl script my code looks like this .</p>\n\n<pre><code>@folder = `cd /vobs/code/item;ls -d $PWD/**`; or \n@folder = `cd /vobs/code/item;ls -d $PWD/*`;\n</code></pre>\n\n<p>From online it says that with the two wild card it will display files and directories while one wild card display folder but I tried in the console it gives files and folder also with or extra one wild card.</p>\n\n<p>The result that I get after executing the perl script it does not give the folder path inside /vobs/code.Instead it display the root folder path.I put a pwd in between the cd and ls the pwd shows that it actually cd to the directory and perform the next command.</p>\n\n<pre><code>@folder = `cd /vobs/code/item;ls -d $pwd/*`\n</code></pre>\n\n<p>The command above produce the same output as the first and 2nd command as the pwd is lower case and it display root folder path.</p>\n\n<p>I tried readlink -f but it requires the folder name else it will prompt error.I can try to get the file name and pwd the path and join it to become a variable but it is kind of hassle and I would take it as final resort if I could not find any solutions.Please help Thanks</p>\n"}, {"tags": ["perl", "unicode", "utf-8", "io"], "comments": [{"owner": {"reputation": 32176, "user_id": 2173773, "user_type": "registered", "accept_rate": 86, "profile_image": "https://i.stack.imgur.com/M8yh6.jpg?s=128&g=1", "display_name": "H&#229;kon H&#230;gland", "link": "https://stackoverflow.com/users/2173773/h%c3%a5kon-h%c3%a6gland"}, "edited": false, "score": 0, "creation_date": 1473424387, "post_id": 39404570, "comment_id": 66147576, "body": "See also the talk <a href=\"https://www.youtube.com/watch?v=TmTeXcEixEg\" rel=\"nofollow noreferrer\">A Million Billion Squiggly Characters</a> by Ricardo Signes at YAPC NA 2016. The discussion of the <code>open</code> pragma starts at <a href=\"https://youtu.be/TmTeXcEixEg?t=2144\" rel=\"nofollow noreferrer\">35:44</a>"}, {"owner": {"reputation": 32176, "user_id": 2173773, "user_type": "registered", "accept_rate": 86, "profile_image": "https://i.stack.imgur.com/M8yh6.jpg?s=128&g=1", "display_name": "H&#229;kon H&#230;gland", "link": "https://stackoverflow.com/users/2173773/h%c3%a5kon-h%c3%a6gland"}, "edited": false, "score": 0, "creation_date": 1473424845, "post_id": 39404570, "comment_id": 66147864, "body": "Yes the <code>open qw(:std)</code> changes the standard handles globally. As discussed by Ricardo in the above mentioned talk."}, {"owner": {"reputation": 320771, "user_id": 589924, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/b2cf53d5a3d25f95c0db4e025aed4153?s=128&d=identicon&r=PG", "display_name": "ikegami", "link": "https://stackoverflow.com/users/589924/ikegami"}, "edited": false, "score": 0, "creation_date": 1473432784, "post_id": 39404570, "comment_id": 66153149, "body": "The <code>:std</code> part is not scoped lexically, only the changing of the default layers used by <code>open()</code> which you don&#39;t even use in your snippets."}], "answers": [{"comments": [{"owner": {"reputation": 4830, "user_id": 1160106, "user_type": "registered", "accept_rate": 87, "profile_image": "https://i.stack.imgur.com/forvP.jpg?s=128&g=1", "display_name": "Samiron", "link": "https://stackoverflow.com/users/1160106/samiron"}, "edited": false, "score": 0, "creation_date": 1473418726, "post_id": 39405155, "comment_id": 66144308, "body": "You are right. I was not using STDIN. But I am still not clear why I am not getting warning in #2. The <code>$row</code> should contain a single multibyte character. But STDOUT has no UTF-8 flag enabled. Hence the <code>print</code> should show the &quot;wide character...&quot; warning. Which point im missing here?"}, {"owner": {"reputation": 87649, "user_id": 17389, "user_type": "registered", "accept_rate": 38, "profile_image": "https://www.gravatar.com/avatar/cd06d1314817ce946ab796af8750b56a?s=128&d=identicon&r=PG", "display_name": "ysth", "link": "https://stackoverflow.com/users/17389/ysth"}, "reply_to_user": {"reputation": 4830, "user_id": 1160106, "user_type": "registered", "accept_rate": 87, "profile_image": "https://i.stack.imgur.com/forvP.jpg?s=128&g=1", "display_name": "Samiron", "link": "https://stackoverflow.com/users/1160106/samiron"}, "edited": false, "score": 0, "creation_date": 1473430671, "post_id": 39405155, "comment_id": 66151677, "body": "@Samiron maybe that the :std part of open isn&#39;t lexically scoped?"}], "tags": [], "owner": {"reputation": 121105, "user_id": 2766176, "user_type": "registered", "accept_rate": 61, "profile_image": "https://www.gravatar.com/avatar/edd8638efe875601bfe394a8aea5b16d?s=128&d=identicon&r=PG", "display_name": "brian d foy", "link": "https://stackoverflow.com/users/2766176/brian-d-foy"}, "is_accepted": true, "score": 3, "last_activity_date": 1473403913, "last_edit_date": 1473403913, "creation_date": 1473402554, "answer_id": 39405155, "question_id": 39404570, "link": "https://stackoverflow.com/questions/39404570/understanding-lexical-scoping-of-use-open-of-perl/39405155#39405155", "title": "Understanding lexical scoping of &quot;use open ...&quot; of Perl", "body": "<p>You aren't using <code>STDIN</code>. You're opening a file with an explicit encoding (except for your last example) and reading from that. </p>\n\n<p>The <code>use open qw(:std ...)</code> affects the <em>standard</em> file handles, but you're only using standard output. When you don't use that and print UTF-8 data to standard output, you get the warning.</p>\n\n<p>In your last example, you don't read the data with an explicit encoding, so when you print it to standard output, it's already corrupted.</p>\n\n<p>That's the trick of encodings no matter what they are. Every part of the process has to be correct.</p>\n\n<p>If you want <code>use open</code> to affect all file handles, you have to import it differently. There are several examples in the top of the documentation.</p>\n"}, {"tags": [], "owner": {"reputation": 32176, "user_id": 2173773, "user_type": "registered", "accept_rate": 86, "profile_image": "https://i.stack.imgur.com/M8yh6.jpg?s=128&g=1", "display_name": "H&#229;kon H&#230;gland", "link": "https://stackoverflow.com/users/2173773/h%c3%a5kon-h%c3%a6gland"}, "is_accepted": false, "score": 1, "last_activity_date": 1473430808, "last_edit_date": 1473430808, "creation_date": 1473426026, "answer_id": 39412214, "question_id": 39404570, "link": "https://stackoverflow.com/questions/39404570/understanding-lexical-scoping-of-use-open-of-perl/39412214#39412214", "title": "Understanding lexical scoping of &quot;use open ...&quot; of Perl", "body": "<p>Unfortunately, the <code>open qw(:std)</code> pragma does not seem to behave as a lexical pragma since it changes the IO layers associated with the standard handles <code>STDIN</code>, <code>STDOUT</code> and <code>STDERR</code> globally. Even code earlier in source file is affected since the <code>use</code> statement happens at compile time. So the following</p>\n\n<pre><code>say join \":\", PerlIO::get_layers(\\*STDIN);\n{\n   use open qw( :encoding(UTF-8) :std );\n}\n</code></pre>\n\n<p>prints ( on my linux platform ) :</p>\n\n<pre><code>unix:perlio:encoding(utf-8-strict):utf8\n</code></pre>\n\n<p>whereas without the <code>use open qw( :encoding(UTF-8) :std )</code> it would just print\n<code>unix:perlio</code>.</p>\n\n<p>A way to not affect the global <code>STDOUT</code> for example is to duplicate the handle within a lexical scope and then add IO layers to the duplicate handle within that scope:</p>\n\n<pre><code>use feature qw(say);\nuse strict;\nuse warnings;\nuse utf8;\n\nmy $str = \"\u20ac\";\nsay join \":\", PerlIO::get_layers(\\*STDOUT);\n{\n    open ( my $out, '&gt;&amp;STDOUT' ) or die \"Could not duplicate stdout: $!\";\n    binmode $out, ':encoding(UTF-8)';\n    say $out $str;\n}\nsay join \":\", PerlIO::get_layers(\\*STDOUT);\nsay $str;\n</code></pre>\n\n<p>with output:</p>\n\n<pre><code>unix:perlio\n\u20ac\nunix:perlio\nWide character in say at ./p.pl line 16.\n\u20ac\n</code></pre>\n"}], "owner": {"reputation": 4830, "user_id": 1160106, "user_type": "registered", "accept_rate": 87, "profile_image": "https://i.stack.imgur.com/forvP.jpg?s=128&g=1", "display_name": "Samiron", "link": "https://stackoverflow.com/users/1160106/samiron"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 159, "favorite_count": 0, "accepted_answer_id": 39405155, "answer_count": 2, "score": 1, "last_activity_date": 1473430808, "creation_date": 1473399730, "last_edit_date": 1473418320, "question_id": 39404570, "link": "https://stackoverflow.com/questions/39404570/understanding-lexical-scoping-of-use-open-of-perl", "title": "Understanding lexical scoping of &quot;use open ...&quot; of Perl", "body": "<pre><code>use open qw( :encoding(UTF-8) :std );\n</code></pre>\n\n<p>Above statement seems to be effective in its lexical scope only and should not affect outside of it's scope. But I have observed the following.</p>\n\n<pre><code>$ cat data\n\u20ac\n</code></pre>\n\n#1\n\n<pre><code>$ perl -e '\n    open (my $fh, \"&lt;encoding(UTF-8)\", \"data\");  \n    print($_) while &lt;$fh&gt;;'\nWide character in print at -e line 1, &lt;$fh&gt; line 1.\n\u20ac\n</code></pre>\n\n<p>The <code>Wide character ...</code> warning is perfect here. But</p>\n\n#2\n\n<pre><code>$ perl\n  my ($fh, $row);\n  {\n      use open qw( :encoding(UTF-8) :std );\n      open ($fh, \"&lt;\", \"data\");\n  }\n  $row = &lt;$fh&gt;;\n  chomp($row);\n  printf(\"%s (0x%X)\", $row, ord($row));\n\n  \u20ac (0x20AC)\n</code></pre>\n\n<p>Does not show the wide character warning!! Here is whats going on here imo</p>\n\n<ul>\n<li>We are using open pragma to set the IO streams to UTF-8, including STDOUT.</li>\n<li>Opening the file inside the same scope. It reads the character as multibyte char.</li>\n<li>But printing outside the scope. The print statement should show \"Wide character\" warning, but it is not. Why?</li>\n</ul>\n\n<p>Now look at the following, a little variation</p>\n\n#3\n\n<pre><code>my ($fh, $row);\n{\n    use open qw( :encoding(UTF-8) :std );\n}\nopen ($fh, \"&lt;\", \"data\");\n$row = &lt;$fh&gt;;\nchomp($row);\nprintf(\"%s (0x%X)\", $row, ord($row));\n\n\u00e2\u00ac (0xE2)\n</code></pre>\n\n<p>Now this time since the open statement is out of the lexical scope, the <code>open</code> opened the file in non utf-8 mode.</p>\n\n<p>Does this mean <code>use open qw( :encoding(UTF-8) :std );</code> statement changes the STDOUT globally but STDIN within lexical scope?</p>\n"}, {"tags": ["perl", "file", "matrix", "extract"], "comments": [{"owner": {"reputation": 1119, "user_id": 145511, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/b5a99c5026c0ac0c48f3e89d91f9b1ff?s=128&d=identicon&r=PG", "display_name": "Glenn", "link": "https://stackoverflow.com/users/145511/glenn"}, "edited": false, "score": 0, "creation_date": 1473400416, "post_id": 39404404, "comment_id": 66134665, "body": "Instead of incrementing $count, you could just do a print &quot;$_\\n&quot;; to print out the line to the screen.  That way you can check to see if you are getting the correct lines from your if statement.   If it having issues on the split in which you are not getting a number of elements, you might need to escape the backslash with another backslash."}], "answers": [{"tags": [], "owner": {"reputation": 19192, "user_id": 257635, "user_type": "registered", "accept_rate": 89, "profile_image": "https://i.stack.imgur.com/El2tc.jpg?s=128&g=1", "display_name": "Chankey Pathak", "link": "https://stackoverflow.com/users/257635/chankey-pathak"}, "is_accepted": true, "score": 0, "last_activity_date": 1473401204, "creation_date": 1473401204, "answer_id": 39404849, "question_id": 39404404, "link": "https://stackoverflow.com/questions/39404404/perl-extracting-certain-values-from-matrix-file/39404849#39404849", "title": "Perl: extracting certain values from matrix file", "body": "<ol>\n<li>You forgot to add read mode (<code>&lt;</code>) in <code>open</code>.</li>\n<li>Make sure the lines in your file are really tab separated.</li>\n</ol>\n\n<p>Below worked fine for me.</p>\n\n<pre><code>#!/usr/bin/perl\nuse strict;\nuse warnings;\n\nopen(my $in, \"&lt;\", \"file.txt\") or die $!;\n\nmy $count;\n\nwhile (&lt;$in&gt;) {\n   chomp;\n   my @element = split (/\\t/,$_);\n   if ($element[2] &gt;= 60 &amp;&amp; $element[5] &gt; 80){\n       $count++; \n   }\n}\n\nclose $in;\nprint $count;\n</code></pre>\n\n<p>Where file.txt</p>\n\n<pre><code>10  20  60  40  50  90  70  80\n10  20  20  40  50  30  70  80\n10  20  40  40  50  50  70  80\n10  20  65  40  50  80  70  80\n10  20  70  40  50  90  70  80\n10  20  50  40  50  90  70  80\n</code></pre>\n\n<p>i.e. first and fifth lines of file satisfied the <code>if</code> condition.</p>\n"}, {"comments": [{"owner": {"reputation": 19192, "user_id": 257635, "user_type": "registered", "accept_rate": 89, "profile_image": "https://i.stack.imgur.com/El2tc.jpg?s=128&g=1", "display_name": "Chankey Pathak", "link": "https://stackoverflow.com/users/257635/chankey-pathak"}, "edited": false, "score": 0, "creation_date": 1473404517, "post_id": 39405513, "comment_id": 66136489, "body": "Then I think lines in file are not really tab separated."}], "tags": [], "owner": {"reputation": 53, "user_id": 6804908, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/6e49096a7b3636481a885407cc4f66c2?s=128&d=identicon&r=PG&f=1", "display_name": "Megiddo", "link": "https://stackoverflow.com/users/6804908/megiddo"}, "is_accepted": false, "score": 0, "last_activity_date": 1473404081, "creation_date": 1473404081, "answer_id": 39405513, "question_id": 39404404, "link": "https://stackoverflow.com/questions/39404404/perl-extracting-certain-values-from-matrix-file/39405513#39405513", "title": "Perl: extracting certain values from matrix file", "body": "<p>I have copy pasted the code as you just wrote it and I enev replaced the content of the text file but still I get the following error message:</p>\n\n<pre><code>Use of uninitialized value $element[2] in numeric ge (&gt;=) at C:\\Perl64\\Temp1\\ex.pl line 12, &lt;$in&gt; line 1.\nUse of uninitialized value $element[2] in numeric ge (&gt;=) at C:\\Perl64\\Temp1\\ex.pl line 12, &lt;$in&gt; line 2.\nUse of uninitialized value $element[2] in numeric ge (&gt;=) at C:\\Perl64\\Temp1\\ex.pl line 12, &lt;$in&gt; line 3.\nUse of uninitialized value $element[2] in numeric ge (&gt;=) at C:\\Perl64\\Temp1\\ex.pl line 12, &lt;$in&gt; line 4.\nUse of uninitialized value $element[2] in numeric ge (&gt;=) at C:\\Perl64\\Temp1\\ex.pl line 12, &lt;$in&gt; line 5.\nUse of uninitialized value $element[2] in numeric ge (&gt;=) at C:\\Perl64\\Temp1\\ex.pl line 12, &lt;$in&gt; line 6.\nUse of uninitialized value $count in print at C:\\Perl64\\Temp1\\ex.pl line 18.\n</code></pre>\n\n<p>Any take on that ?</p>\n"}, {"comments": [{"owner": {"reputation": 19192, "user_id": 257635, "user_type": "registered", "accept_rate": 89, "profile_image": "https://i.stack.imgur.com/El2tc.jpg?s=128&g=1", "display_name": "Chankey Pathak", "link": "https://stackoverflow.com/users/257635/chankey-pathak"}, "edited": false, "score": 0, "creation_date": 1473405222, "post_id": 39405799, "comment_id": 66136861, "body": "That means the $count was not incremented. That means the if condition did not succeed. Which could be the case if 3rd and 6th column do not have values greater than 60 and 80 respectively. See this demo is working correct: <a href=\"http://ideone.com/evjXgj\" rel=\"nofollow noreferrer\">ideone.com/evjXgj</a>"}, {"owner": {"reputation": 19192, "user_id": 257635, "user_type": "registered", "accept_rate": 89, "profile_image": "https://i.stack.imgur.com/El2tc.jpg?s=128&g=1", "display_name": "Chankey Pathak", "link": "https://stackoverflow.com/users/257635/chankey-pathak"}, "edited": false, "score": 0, "creation_date": 1473405255, "post_id": 39405799, "comment_id": 66136879, "body": "Also please do not keep adding/deleting answers. You could edit your question instead to add more data."}, {"owner": {"reputation": 53, "user_id": 6804908, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/6e49096a7b3636481a885407cc4f66c2?s=128&d=identicon&r=PG&f=1", "display_name": "Megiddo", "link": "https://stackoverflow.com/users/6804908/megiddo"}, "reply_to_user": {"reputation": 19192, "user_id": 257635, "user_type": "registered", "accept_rate": 89, "profile_image": "https://i.stack.imgur.com/El2tc.jpg?s=128&g=1", "display_name": "Chankey Pathak", "link": "https://stackoverflow.com/users/257635/chankey-pathak"}, "edited": false, "score": 0, "creation_date": 1473405387, "post_id": 39405799, "comment_id": 66136935, "body": "Indeed, in the recreated file only one condition was true. Thank you."}, {"owner": {"reputation": 53, "user_id": 6804908, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/6e49096a7b3636481a885407cc4f66c2?s=128&d=identicon&r=PG&f=1", "display_name": "Megiddo", "link": "https://stackoverflow.com/users/6804908/megiddo"}, "reply_to_user": {"reputation": 19192, "user_id": 257635, "user_type": "registered", "accept_rate": 89, "profile_image": "https://i.stack.imgur.com/El2tc.jpg?s=128&g=1", "display_name": "Chankey Pathak", "link": "https://stackoverflow.com/users/257635/chankey-pathak"}, "edited": false, "score": 0, "creation_date": 1473412025, "post_id": 39405799, "comment_id": 66140457, "body": "Sorry about that; my comment was not in the right place and I accidentally deleted something else (I have remedied that). Thanks for the tips. Will do!"}], "tags": [], "owner": {"reputation": 53, "user_id": 6804908, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/6e49096a7b3636481a885407cc4f66c2?s=128&d=identicon&r=PG&f=1", "display_name": "Megiddo", "link": "https://stackoverflow.com/users/6804908/megiddo"}, "is_accepted": false, "score": 0, "last_activity_date": 1473405059, "creation_date": 1473405059, "answer_id": 39405799, "question_id": 39404404, "link": "https://stackoverflow.com/questions/39404404/perl-extracting-certain-values-from-matrix-file/39405799#39405799", "title": "Perl: extracting certain values from matrix file", "body": "<p>I recreated the file, tab separated and still gives:</p>\n\n<pre><code>Use of uninitialized value $count in print at C:\\Perl64\\Temp1\\ex.pl line 19.\n</code></pre>\n\n<p>the line 19 being <code>print $count;</code></p>\n"}], "owner": {"reputation": 53, "user_id": 6804908, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/6e49096a7b3636481a885407cc4f66c2?s=128&d=identicon&r=PG&f=1", "display_name": "Megiddo", "link": "https://stackoverflow.com/users/6804908/megiddo"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 83, "favorite_count": 0, "accepted_answer_id": 39404849, "answer_count": 3, "score": 0, "last_activity_date": 1473405059, "creation_date": 1473398829, "last_edit_date": 1473399041, "question_id": 39404404, "link": "https://stackoverflow.com/questions/39404404/perl-extracting-certain-values-from-matrix-file", "title": "Perl: extracting certain values from matrix file", "body": "<p>Given a matrix like text file, I want to extract all the lines (<code>\\t</code> is the separator) that contain values > 60 in the 3`rd column (pos 2) and values > 80 in the 6 th (pos 5) and send the output to a different file.So far I got:</p>\n\n<pre><code>#!/usr/bin/perl;\nuse strict;\nuse warnings;\nuse diagnostics;\n\nopen(my $in, \"file.txt\")or die $!;\nmy $line = &lt;$in&gt;;\nmy $count;\nwhile (&lt;$in&gt;) {\n   chomp;\n   my @element = split (/\\t/,$_);\n   if ($element[2] &gt;= 60 &amp;&amp; $element[5] &gt; 80){\n       $count++; \n   }\n}\nclose $in;\nprint $count;\n</code></pre>\n\n<p>What is wrong? Thanks.PS. I have found similar questions but my low level Perl skills prevented me from extracting resolve.</p>\n"}, {"tags": ["perl", "unix"], "comments": [{"owner": {"reputation": 19192, "user_id": 257635, "user_type": "registered", "accept_rate": 89, "profile_image": "https://i.stack.imgur.com/El2tc.jpg?s=128&g=1", "display_name": "Chankey Pathak", "link": "https://stackoverflow.com/users/257635/chankey-pathak"}, "edited": false, "score": 0, "creation_date": 1473399406, "post_id": 39404290, "comment_id": 66134337, "body": "Use double quotes instead of single quotes to make $timestamp interpolable."}, {"owner": {"reputation": 41, "user_id": 6811991, "user_type": "registered", "profile_image": "https://graph.facebook.com/10154294024127489/picture?type=large", "display_name": "Fakhruddin Latsaheb", "link": "https://stackoverflow.com/users/6811991/fakhruddin-latsaheb"}, "reply_to_user": {"reputation": 19192, "user_id": 257635, "user_type": "registered", "accept_rate": 89, "profile_image": "https://i.stack.imgur.com/El2tc.jpg?s=128&g=1", "display_name": "Chankey Pathak", "link": "https://stackoverflow.com/users/257635/chankey-pathak"}, "edited": false, "score": 0, "creation_date": 1473402785, "post_id": 39404290, "comment_id": 66135686, "body": "Thats printing everything from xyz.log  but i want to print lines that occurs after $timestamp"}], "answers": [{"comments": [{"owner": {"reputation": 50468, "user_id": 1331451, "user_type": "registered", "accept_rate": 96, "profile_image": "https://i.stack.imgur.com/4ZPmj.png?s=128&g=1", "display_name": "simbabque", "link": "https://stackoverflow.com/users/1331451/simbabque"}, "edited": false, "score": 0, "creation_date": 1473412192, "post_id": 39405570, "comment_id": 66140550, "body": "I was typing out a rather long comment with ides on that question you just deleted..."}, {"owner": {"reputation": 19192, "user_id": 257635, "user_type": "registered", "accept_rate": 89, "profile_image": "https://i.stack.imgur.com/El2tc.jpg?s=128&g=1", "display_name": "Chankey Pathak", "link": "https://stackoverflow.com/users/257635/chankey-pathak"}, "reply_to_user": {"reputation": 50468, "user_id": 1331451, "user_type": "registered", "accept_rate": 96, "profile_image": "https://i.stack.imgur.com/4ZPmj.png?s=128&g=1", "display_name": "simbabque", "link": "https://stackoverflow.com/users/1331451/simbabque"}, "edited": false, "score": 0, "creation_date": 1473413002, "post_id": 39405570, "comment_id": 66141021, "body": "Oh sorry, let&#39;s chat: <a href=\"http://chat.stackoverflow.com/rooms/122978/perl-editing-template-on-the-fly\">chat.stackoverflow.com/rooms/122978/&hellip;</a>"}], "tags": [], "owner": {"reputation": 19192, "user_id": 257635, "user_type": "registered", "accept_rate": 89, "profile_image": "https://i.stack.imgur.com/El2tc.jpg?s=128&g=1", "display_name": "Chankey Pathak", "link": "https://stackoverflow.com/users/257635/chankey-pathak"}, "is_accepted": false, "score": 0, "last_activity_date": 1473404308, "creation_date": 1473404308, "answer_id": 39405570, "question_id": 39404290, "link": "https://stackoverflow.com/questions/39404290/how-to-print-lines-from-log-file-which-occurs-after-some-particular-time/39405570#39405570", "title": "How to print lines from log file which occurs after some particular time", "body": "<p>I would suggest a Perlish approach like below:</p>\n\n<pre><code>open (my $cmd, \"&lt;\", \"xyz.log\") or die $!;\n#get all lines in an array with each index containing each line\nmy @log_lines = &lt;$cmd&gt;;\n\nmy $index = 0;\n\nforeach my $line (@log_lines){\n    #write regex to capture time from line\n    my $rex = qr/regex_for_time_as_per_logline/is;\n    if ($line =~ /$rex/){\n        #found the line with expected time\n        last;\n    }\n    $index++;\n}\n\n#At this point we have got the index of array from where our expected time starts.\n#So all indexes after that have desired lines, which you can write as below\n\nforeach ($index..$#log_lines){\n    print $log_lines[$_];\n}\n</code></pre>\n\n<p>If you share one of your logline, I could help with the regex.</p>\n"}, {"tags": [], "owner": {"reputation": 927, "user_id": 5403907, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/F3lnS.jpg?s=128&g=1", "display_name": "mbethke", "link": "https://stackoverflow.com/users/5403907/mbethke"}, "is_accepted": false, "score": 1, "last_activity_date": 1473404958, "creation_date": 1473404958, "answer_id": 39405771, "question_id": 39404290, "link": "https://stackoverflow.com/questions/39404290/how-to-print-lines-from-log-file-which-occurs-after-some-particular-time/39405771#39405771", "title": "How to print lines from log file which occurs after some particular time", "body": "<p>If you're doing the grepping in Shell anyway you might as well do it the other way round and call perl only to give you the result of <code>localtime</code>:</p>\n\n<pre><code> sed &lt;xyz.log -ne\"/^$(perl -E'say scalar localtime')/,\\$p\"\n</code></pre>\n\n<p>This uses sed's range addressing: first keep it from printing lines unless explicitly told so using <code>-n</code>, the select everything between the first occurrence of the timestamp (I added a <code>^</code> for good measure, just in case log lines could contain time stamps in plain text) and the end of file (<code>$</code>) and print it (<code>p</code>).</p>\n\n<p>A pure Perl solution could look like this:</p>\n\n<pre><code>my $timestamp = localtime();\nmy $found;\nopen(my $fh, '&lt;', 'xyz.log') or die ('Could not open xyz.log: $!');\nwhile (&lt;$fh&gt;) {\n    if($found) {\n        print;\n    } else {\n        $found = 1 if /^$timestamp/;\n    }\n}\n</code></pre>\n"}, {"tags": [], "owner": {"reputation": 53041, "user_id": 4653379, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/b3953dbedd0dabff5cbc3db9b0835b14?s=128&d=identicon&r=PG&f=1", "display_name": "zdim", "link": "https://stackoverflow.com/users/4653379/zdim"}, "is_accepted": false, "score": 2, "last_activity_date": 1474266252, "last_edit_date": 1474266252, "creation_date": 1473405956, "answer_id": 39406045, "question_id": 39404290, "link": "https://stackoverflow.com/questions/39404290/how-to-print-lines-from-log-file-which-occurs-after-some-particular-time/39406045#39406045", "title": "How to print lines from log file which occurs after some particular time", "body": "<p>Your <code>$timestamp</code> is never evaluated in Perl as it appears only in single quotes. But why go out to shell in order to match a string and process a file? Perl is far better for that.</p>\n\n<p>Here is a direct way first, then a basic approach. A full script is shown in the second example.</p>\n\n<p>Read the file until you get to the line with the pattern, and exit the loop at that point. The next time you access that filehandle you'll be on the next line and can start printing, in another loop.</p>\n\n<pre><code>while (&lt;$fh&gt;) { last if /$timestamp/ }\n\nprint while &lt;$fh&gt;;\n</code></pre>\n\n<p>This prints out the part of the file starting with the line following the one which has the <code>$timestamp</code> anywhere in it. Adjust how exactly to match the timestamp if it is more specific.</p>\n\n<p>Or -- set a flag when a line matches the timestamp, print if flag is set.</p>\n\n<pre><code>use warnings 'all';\nuse strict;\n\nmy $timestamp = localtime();\n\nmy $logile = 'xyz.log';\nopen my $fh, '&lt;', $logfile or die \"Can't open $logfile: $!\";\n\nmy $mark = 0;\nwhile (&lt;$fh&gt;) \n{\n    if (not $mark) { \n        $mark = 1 if /$timestamp/;\n    }\n    else { print }\n}\nclose $fh;\n</code></pre>\n"}, {"comments": [{"owner": {"reputation": 927, "user_id": 5403907, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/F3lnS.jpg?s=128&g=1", "display_name": "mbethke", "link": "https://stackoverflow.com/users/5403907/mbethke"}, "edited": false, "score": 0, "creation_date": 1473412762, "post_id": 39407170, "comment_id": 66140886, "body": "This approach makes a lot of sense for most logs that have their custom date stamp formats (think syslog, apache, qmail ...) but may I suggest using <code>Date::Parse</code> instead of shelling out to <code>date</code> for every single log line?"}], "tags": [], "owner": {"reputation": 11, "user_id": 6781384, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/ba49f12d347089dcfbf5cad9de53b09d?s=128&d=identicon&r=PG&f=1", "display_name": "Sanjay", "link": "https://stackoverflow.com/users/6781384/sanjay"}, "is_accepted": false, "score": 0, "last_activity_date": 1473511289, "last_edit_date": 1473511289, "creation_date": 1473409848, "answer_id": 39407170, "question_id": 39404290, "link": "https://stackoverflow.com/questions/39404290/how-to-print-lines-from-log-file-which-occurs-after-some-particular-time/39407170#39407170", "title": "How to print lines from log file which occurs after some particular time", "body": "<p>You may also try this approach:</p>\n\n<p>In this case, I tried to open /var/log/messages then convert each line timestamp to epoch and finding all the lines which has occurred after time()</p>\n\n<pre><code>use Date::Parse;\nmy $epoch_now = time(); # print epoch current time.\nopen (my $fh, \"&lt;/var/log/messages\") || die \"error: $!\\n\";\n\nwhile (&lt;$fh&gt;) {\n    chomp;\n    # one log line - looks like this\n    # Sep  9 08:17:01 localhost rsyslogd: rsyslogd was HUPed\n    my ($mon, $day, $hour, $min, $sec) = ($_ =~ /(\\S+)\\s*(\\d+)\\s*(\\d+):(\\d+):(\\d+)/);\n\n    # date string part shouldn't be empty\n    if (defined($mon) &amp;&amp; defined($day)\n        &amp;&amp; defined($hour) &amp;&amp; defined($min)\n        &amp;&amp; defined($sec)) {\n        my $epoch_log = str2time(\"$mon $day $hour:$min:$sec\");\n        if ($epoch_log &gt; $epoch_now) {\n            print, \"\\n\";\n        }\n    }\n}\n</code></pre>\n"}], "owner": {"reputation": 41, "user_id": 6811991, "user_type": "registered", "profile_image": "https://graph.facebook.com/10154294024127489/picture?type=large", "display_name": "Fakhruddin Latsaheb", "link": "https://stackoverflow.com/users/6811991/fakhruddin-latsaheb"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 509, "favorite_count": 0, "answer_count": 4, "score": 4, "last_activity_date": 1474266252, "creation_date": 1473398201, "last_edit_date": 1473399622, "question_id": 39404290, "link": "https://stackoverflow.com/questions/39404290/how-to-print-lines-from-log-file-which-occurs-after-some-particular-time", "title": "How to print lines from log file which occurs after some particular time", "body": "<p>I want to print all the lines which lets say occur after a time whose value is returned by <code>localtime</code> function of <code>perl</code> inside a <code>perl</code> script. I tried something like below:</p>\n\n<pre><code>my $timestamp = localtime();\nopen(CMD,'-|','cat xyz.log | grep -A1000 \\$timestamp' || die ('Could not open');\nwhile (defined(my $line=&lt;CMD&gt;)){\n    print $line;\n}\n</code></pre>\n\n<p>If I replace the  <code>$timestamp</code> in <code>cat</code> command with actaul time component from <code>xyz.log</code> then it print lines but its not printing with <code>$timestamp</code> variable.</p>\n\n<p>Is there any alternative way I can print lines that occurs after current time in log files or how i can improve above command?</p>\n"}, {"tags": ["multithreading", "perl", "concurrency"], "answers": [{"comments": [{"owner": {"reputation": 19192, "user_id": 257635, "user_type": "registered", "accept_rate": 89, "profile_image": "https://i.stack.imgur.com/El2tc.jpg?s=128&g=1", "display_name": "Chankey Pathak", "link": "https://stackoverflow.com/users/257635/chankey-pathak"}, "edited": false, "score": 0, "creation_date": 1474353932, "post_id": 39404458, "comment_id": 66484104, "body": "You may mark your own answer as accepted. See: <a href=\"http://meta.stackexchange.com/questions/5234/how-does-accepting-an-answer-work\" title=\"how does accepting an answer work\">meta.stackexchange.com/questions/5234/&hellip;</a>"}], "tags": [], "owner": {"reputation": 20550, "user_id": 327528, "user_type": "registered", "accept_rate": 37, "profile_image": "https://www.gravatar.com/avatar/dfea36f0a3ab8c5f8ad73bcc6cea241a?s=128&d=identicon&r=PG", "display_name": "CJ7", "link": "https://stackoverflow.com/users/327528/cj7"}, "is_accepted": false, "score": 2, "last_activity_date": 1473399165, "creation_date": 1473399165, "answer_id": 39404458, "question_id": 39404130, "link": "https://stackoverflow.com/questions/39404130/simple-way-to-use-concurrent-threads-in-perl/39404458#39404458", "title": "Simple way to use concurrent threads in perl?", "body": "<pre><code>use feature 'say';\nuse Thread::Pool::Simple;\n\nsub test\n{\n    say shift;\n    sleep(5);\n}\n\n\nmy $pool = Thread::Pool::Simple-&gt;new (\n\n    do =&gt; [\\&amp;test],\n\n    min =&gt; 10,\n    max =&gt; 20\n\n\n);\n\n$pool-&gt;add($_) for (1..50);\n$pool-&gt;join;\nsay \"Finished\";\n</code></pre>\n"}], "owner": {"reputation": 20550, "user_id": 327528, "user_type": "registered", "accept_rate": 37, "profile_image": "https://www.gravatar.com/avatar/dfea36f0a3ab8c5f8ad73bcc6cea241a?s=128&d=identicon&r=PG", "display_name": "CJ7", "link": "https://stackoverflow.com/users/327528/cj7"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 62, "favorite_count": 0, "answer_count": 1, "score": 2, "last_activity_date": 1473399165, "creation_date": 1473397163, "question_id": 39404130, "link": "https://stackoverflow.com/questions/39404130/simple-way-to-use-concurrent-threads-in-perl", "title": "Simple way to use concurrent threads in perl?", "body": "<pre><code>sub test {\n   $val = shift;\n   print $val * 2;\n}\n\nfor $i (1..1000)\n{\n   test($i);\n}\n</code></pre>\n\n<p>How can I get the calls to <code>test</code> to be executed in concurrent threads using <a href=\"http://search.cpan.org/~elizabeth/Thread-Pool-0.33/lib/Thread/Pool.pm\" rel=\"nofollow\">Thread::Pool</a> or <a href=\"http://search.cpan.org/~jwu/Thread-Pool-Simple-0.25/Simple.pm\" rel=\"nofollow\">Thread::Pool::Simple</a> ?</p>\n"}, {"tags": ["perl", "perl-data-structures"], "comments": [{"owner": {"reputation": 53041, "user_id": 4653379, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/b3953dbedd0dabff5cbc3db9b0835b14?s=128&d=identicon&r=PG&f=1", "display_name": "zdim", "link": "https://stackoverflow.com/users/4653379/zdim"}, "edited": false, "score": 0, "creation_date": 1473448650, "post_id": 39403778, "comment_id": 66161632, "body": "Well, there you go then, that is an interesting use. Note though, the example code in the comment is incorrect -- the last char must be quoted."}, {"owner": {"reputation": 53041, "user_id": 4653379, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/b3953dbedd0dabff5cbc3db9b0835b14?s=128&d=identicon&r=PG&f=1", "display_name": "zdim", "link": "https://stackoverflow.com/users/4653379/zdim"}, "edited": false, "score": 0, "creation_date": 1473449863, "post_id": 39403778, "comment_id": 66162236, "body": "I can see that <code>(a=&gt;b=&gt;c=&gt;&#39;a&#39;)</code> may look nice for a graph (except for that last pesky quote), but programming wise, it may be confusing -- it indicates some association between elements, while it can only be a plain list.  If it&#39;s a hash then it conveys wrong things, since <code>b</code> and <code>c</code> in a hash aren&#39;t related."}, {"owner": {"reputation": 6410, "user_id": 1051115, "user_type": "registered", "accept_rate": 85, "profile_image": "https://www.gravatar.com/avatar/b37fdf7928b7aecd15a973b250979333?s=128&d=identicon&r=PG", "display_name": "Krazy Glew", "link": "https://stackoverflow.com/users/1051115/krazy-glew"}, "reply_to_user": {"reputation": 53041, "user_id": 4653379, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/b3953dbedd0dabff5cbc3db9b0835b14?s=128&d=identicon&r=PG&f=1", "display_name": "zdim", "link": "https://stackoverflow.com/users/4653379/zdim"}, "edited": false, "score": 0, "creation_date": 1473533827, "post_id": 39403778, "comment_id": 66182466, "body": "Typically in a DSL implemented in Perl it might look like Graph-&gt;new_chains(a=&gt;b=&gt;c=&gt;undef). Equivalent to Graph-&gt;new_chain( qw(a b c), undef). Possibly created an actual hashref multi map {a=&gt;qw(b c d), b=&gt;qw(a c), c=&gt;(a b) }."}, {"owner": {"reputation": 53041, "user_id": 4653379, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/b3953dbedd0dabff5cbc3db9b0835b14?s=128&d=identicon&r=PG&f=1", "display_name": "zdim", "link": "https://stackoverflow.com/users/4653379/zdim"}, "edited": false, "score": 0, "creation_date": 1473663324, "post_id": 39403778, "comment_id": 66211495, "body": "OK -- but then why that <code>a=&gt;b=&gt;c=&gt;undef</code> in the interface? I see what it is by names. So what is its purpose?  It does make me to think about implementation, where you shouldn&#39;t push me as a user -- and it confuses me at that, is it a hash or a list?  As for the other thing, in (the current) Perl you just get one long plain list of all those chars, as they come, which are then paired for the hash."}], "answers": [{"tags": [], "owner": {"reputation": 154, "user_id": 6811877, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/e696f3907cb54cc29963d6ffb2e24e75?s=128&d=identicon&r=PG&f=1", "display_name": "mp3", "link": "https://stackoverflow.com/users/6811877/mp3"}, "is_accepted": false, "score": 4, "last_activity_date": 1473395243, "creation_date": 1473395243, "answer_id": 39403865, "question_id": 39403778, "link": "https://stackoverflow.com/questions/39403778/are-there-any-good-uses-for-multiple-perl-fat-commas-in-series-a-b-1/39403865#39403865", "title": "Are there any good uses for multiple Perl fat commas in series ( a =&gt; b =&gt; 1 )?", "body": "<p>For those that don't know, the arrow functions as a comma that auto-quotes barewords on the left.</p>\n\n<p>I can't think of a time where I've seen a chain of fat commas work well in regular code. Generally I would opt for a quote operator.</p>\n\n<pre><code>my @array = qw(Minimal syntax for all these words and easier than lots of arrows);\n</code></pre>\n"}, {"comments": [{"owner": {"reputation": 6410, "user_id": 1051115, "user_type": "registered", "accept_rate": 85, "profile_image": "https://www.gravatar.com/avatar/b37fdf7928b7aecd15a973b250979333?s=128&d=identicon&r=PG", "display_name": "Krazy Glew", "link": "https://stackoverflow.com/users/1051115/krazy-glew"}, "edited": false, "score": 0, "creation_date": 1473422529, "post_id": 39407741, "comment_id": 66146424, "body": "Tell me something I don&#39;t know...  Of course my use of (a=&gt;b=&gt;1) was bad - it was a bug, a coding error, perhaps caused by holding the paste key down too long and pasting twice.   I agree that (a=&gt;b=&gt;1) seems to have no benefit - but that&#39;s what I am asking about: could we have (a=&gt;b=&gt;1), recognized by the Perl language parser as an error, at compile time?  Or at least at the point where the bug occurs, rather than potentially much later at the point where the array is assigned to a hash. If something is &quot;awkward, confusing, and brings no benefits&quot;, then it should be detected early."}, {"owner": {"reputation": 6410, "user_id": 1051115, "user_type": "registered", "accept_rate": 85, "profile_image": "https://www.gravatar.com/avatar/b37fdf7928b7aecd15a973b250979333?s=128&d=identicon&r=PG", "display_name": "Krazy Glew", "link": "https://stackoverflow.com/users/1051115/krazy-glew"}, "edited": false, "score": 0, "creation_date": 1473423000, "post_id": 39407741, "comment_id": 66146686, "body": "what I ask is: &quot;I see no benefit to (a=&gt;b=&gt;1), but perhaps there is semi-legitimate code that does this for a real reason. If so, what is a semi-legitimate reason to use =&gt; in series? Please show me...&quot;    After all, there are many Perl tricks - perhaps this is used by a Perl trick that I do not know. This sort of question gets answered by exhaustion: if nobody shows me any such code, after a few months I conclude there is no legitimate reason. Better, one might study this by saying &quot;I analyzed a big corpus of Perl code, eg CPAN, and never saw (a=&gt;b=&gt;1). If a trick, not common.&quot;"}, {"owner": {"reputation": 6410, "user_id": 1051115, "user_type": "registered", "accept_rate": 85, "profile_image": "https://www.gravatar.com/avatar/b37fdf7928b7aecd15a973b250979333?s=128&d=identicon&r=PG", "display_name": "Krazy Glew", "link": "https://stackoverflow.com/users/1051115/krazy-glew"}, "edited": false, "score": 0, "creation_date": 1473423313, "post_id": 39407741, "comment_id": 66146885, "body": "A compile time check would catch (a=&gt;b=&gt;1) and also ($a=&gt;$b=&gt;$c).  It might not catch likely errors such as (@a=&gt;@b=&gt;@c), but catching some early is not a bad thing."}, {"owner": {"reputation": 6410, "user_id": 1051115, "user_type": "registered", "accept_rate": 85, "profile_image": "https://www.gravatar.com/avatar/b37fdf7928b7aecd15a973b250979333?s=128&d=identicon&r=PG", "display_name": "Krazy Glew", "link": "https://stackoverflow.com/users/1051115/krazy-glew"}, "edited": false, "score": 0, "creation_date": 1473423709, "post_id": 39407741, "comment_id": 66147136, "body": "Finally, @zdim, I found you saying &quot;please don&#39;t do that [a=&gt;b=&gt;1]&quot; curiously amusing: wouldn&#39;t it be great if we could ask nicely and have programmers never write bad code - at least not obviously bad code, no typos, misspellings, etc.?   Then we would not need pesky things like &quot;use strict&quot; or &quot;use warnings&quot;.   :-)"}, {"owner": {"reputation": 53041, "user_id": 4653379, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/b3953dbedd0dabff5cbc3db9b0835b14?s=128&d=identicon&r=PG&f=1", "display_name": "zdim", "link": "https://stackoverflow.com/users/4653379/zdim"}, "reply_to_user": {"reputation": 6410, "user_id": 1051115, "user_type": "registered", "accept_rate": 85, "profile_image": "https://www.gravatar.com/avatar/b37fdf7928b7aecd15a973b250979333?s=128&d=identicon&r=PG", "display_name": "Krazy Glew", "link": "https://stackoverflow.com/users/1051115/krazy-glew"}, "edited": false, "score": 0, "creation_date": 1473447175, "post_id": 39407741, "comment_id": 66160920, "body": "@KrazyGlew  I didn&#39;t mean to critize your question (or you), I meant to answer it.  Is there some chunk of code that uses it &quot;legitimately&quot;? I don&#39;t know, and I think that we don&#39;t need to know. What I say is that there is no reason to use that and, further, that it is not good practice. That answers the question (in my opinion).  Are you realy asking whether there is a piece of ocde with it lying around somewhere? Why? You know it&#39;s not good and even if there is some example of reasonable use it won&#39;t make me start doing that."}, {"owner": {"reputation": 53041, "user_id": 4653379, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/b3953dbedd0dabff5cbc3db9b0835b14?s=128&d=identicon&r=PG&f=1", "display_name": "zdim", "link": "https://stackoverflow.com/users/4653379/zdim"}, "reply_to_user": {"reputation": 6410, "user_id": 1051115, "user_type": "registered", "accept_rate": 85, "profile_image": "https://www.gravatar.com/avatar/b37fdf7928b7aecd15a973b250979333?s=128&d=identicon&r=PG", "display_name": "Krazy Glew", "link": "https://stackoverflow.com/users/1051115/krazy-glew"}, "edited": false, "score": 0, "creation_date": 1473449551, "post_id": 39407741, "comment_id": 66162065, "body": "@KrazyGlew  I don&#39;t see anything &quot;<i>amusing</i>&quot; about matters of coding practices. Most languages give you plenty of rope, and Perl has whole spools -- how to best use language features is often far from obvious. The chaning you ask about is <i>not an error</i>.  The warning comes about <i>when you assign</i> an (odd-length) array to hash, and again is <i>not an error</i> (but a warning). Fat commas are commas (with flair) and you are allowed to use them that way.  Do you want to (use a feature)? That is far more subtle and nuanced (in this case I say &quot;better not&quot;)."}, {"owner": {"reputation": 6410, "user_id": 1051115, "user_type": "registered", "accept_rate": 85, "profile_image": "https://www.gravatar.com/avatar/b37fdf7928b7aecd15a973b250979333?s=128&d=identicon&r=PG", "display_name": "Krazy Glew", "link": "https://stackoverflow.com/users/1051115/krazy-glew"}, "edited": false, "score": 0, "creation_date": 1473532604, "post_id": 39407741, "comment_id": 66182111, "body": "sorry, I must have been grumpy when I wrote those comments at 5am, and I did come down on you rather hard.  But you did miss the point of my question, which was not &quot;what does this do?&quot; or &quot;why did I get this bug?&quot;, or even &quot;should I use this code?&quot;, but rather &quot;thus seems like a bug-prone language feature, can we improve it?&quot; - possibly by adding an optional warning about it."}, {"owner": {"reputation": 6410, "user_id": 1051115, "user_type": "registered", "accept_rate": 85, "profile_image": "https://www.gravatar.com/avatar/b37fdf7928b7aecd15a973b250979333?s=128&d=identicon&r=PG", "display_name": "Krazy Glew", "link": "https://stackoverflow.com/users/1051115/krazy-glew"}, "edited": false, "score": 0, "creation_date": 1473532947, "post_id": 39407741, "comment_id": 66182215, "body": "yes, I really was asking &quot;is there a piece of code with this lying around somewhere?&quot;  First, it is possible that there are good reasons to do a=&gt;b=&gt;1 that you and I might not know about (I came up with one, but not really that good). Second, as an occasional language designer and full-time computer architect, I always have to consider existing code. Eg if I added a warning about this to the Perl parser, I would not want to break existing code. But if guaranteed no existing code, I might make it an error instead if a warning."}, {"owner": {"reputation": 6410, "user_id": 1051115, "user_type": "registered", "accept_rate": 85, "profile_image": "https://www.gravatar.com/avatar/b37fdf7928b7aecd15a973b250979333?s=128&d=identicon&r=PG", "display_name": "Krazy Glew", "link": "https://stackoverflow.com/users/1051115/krazy-glew"}, "edited": false, "score": 0, "creation_date": 1473533283, "post_id": 39407741, "comment_id": 66182319, "body": "for example, we might change the definition of =&gt; so that it is not a comma, but instead an operator that produces a duple, a key value pair that is coercible to an array. And we might further restrict =&gt; to not accept such a key value pair as its left hand side.  This is one way that languages evolve. (Of course, for Perl it is moot: Perl6 is the way forward, although overall the trend seems to be to languages that do not have such large spools of hangman&#39;s rope."}, {"owner": {"reputation": 6410, "user_id": 1051115, "user_type": "registered", "accept_rate": 85, "profile_image": "https://www.gravatar.com/avatar/b37fdf7928b7aecd15a973b250979333?s=128&d=identicon&r=PG", "display_name": "Krazy Glew", "link": "https://stackoverflow.com/users/1051115/krazy-glew"}, "edited": false, "score": 0, "creation_date": 1473534315, "post_id": 39407741, "comment_id": 66182622, "body": "Btw @zdim, you are right about: the converting odd sized array to a hash (or ditto for refs) is a runtime error, not a compile time error. Although I would be surprised if &quot;%h = (1, 2, 3)&quot; is not reported at compile time - seems to me like a missed opportunity - but I am on my phone and can&#39;t test right now.  But I think an a=&gt;b=&gt;1 check could/should/would always be a compile-time check: I can&#39;t think of any time that it could not be checked at compile time but could be checked at run time."}, {"owner": {"reputation": 53041, "user_id": 4653379, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/b3953dbedd0dabff5cbc3db9b0835b14?s=128&d=identicon&r=PG&f=1", "display_name": "zdim", "link": "https://stackoverflow.com/users/4653379/zdim"}, "reply_to_user": {"reputation": 6410, "user_id": 1051115, "user_type": "registered", "accept_rate": 85, "profile_image": "https://www.gravatar.com/avatar/b37fdf7928b7aecd15a973b250979333?s=128&d=identicon&r=PG", "display_name": "Krazy Glew", "link": "https://stackoverflow.com/users/1051115/krazy-glew"}, "edited": false, "score": 0, "creation_date": 1473662569, "post_id": 39407741, "comment_id": 66211144, "body": "@KrazyGlew This does change things of course. Please note that it didn&#39;t come through in the question.  Still -- while I don&#39;t know of a possible good use, I do think that there isn&#39;t, by direct analysis. For a list it&#39;s misleading, for a hash it&#39;s worse. As for errors, chained <code>=&gt;</code> are just a list, so you can&#39;t flag it. <i>Assigning</i> odd number to a hash gets a warning. Here&#39;s a use case to justify it. I may be massively creating and assigning pairs to a hash and don&#39;t care if the some stay short (they&#39;ll be <code>undef</code>).  I&#39;ll even turn off the warning in that section of code. This is reasonable."}, {"owner": {"reputation": 53041, "user_id": 4653379, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/b3953dbedd0dabff5cbc3db9b0835b14?s=128&d=identicon&r=PG&f=1", "display_name": "zdim", "link": "https://stackoverflow.com/users/4653379/zdim"}, "reply_to_user": {"reputation": 6410, "user_id": 1051115, "user_type": "registered", "accept_rate": 85, "profile_image": "https://www.gravatar.com/avatar/b37fdf7928b7aecd15a973b250979333?s=128&d=identicon&r=PG", "display_name": "Krazy Glew", "link": "https://stackoverflow.com/users/1051115/krazy-glew"}, "edited": false, "score": 0, "creation_date": 1473662800, "post_id": 39407741, "comment_id": 66211263, "body": "@KrazyGlew I updated my post to (somewhat) reflect new info in your comments. I may do more editing -- there is a lot in your comments and I need to reflect. I still do believe that it answers the question, as explained in the previous comment and (hopefully) in the answer.  Except for the literal &quot;<i>is there any such good code</i>&quot; -- nobody can answer that, except for those who may have written it.  But then this would be a poll.  As for an SO-style question -- I think that there is <i>very</i> little chance that there could be a good systemic use of chaining <code>=&gt;</code>."}, {"owner": {"reputation": 154, "user_id": 6811877, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/e696f3907cb54cc29963d6ffb2e24e75?s=128&d=identicon&r=PG&f=1", "display_name": "mp3", "link": "https://stackoverflow.com/users/6811877/mp3"}, "edited": false, "score": 0, "creation_date": 1473812486, "post_id": 39407741, "comment_id": 66280549, "body": "The &quot;glitch&quot; at the end of a chain can be &quot;fixed&quot; by adding an arrow. For example: my @a_list = (a =&gt; b =&gt; c =&gt;);"}, {"owner": {"reputation": 53041, "user_id": 4653379, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/b3953dbedd0dabff5cbc3db9b0835b14?s=128&d=identicon&r=PG&f=1", "display_name": "zdim", "link": "https://stackoverflow.com/users/4653379/zdim"}, "reply_to_user": {"reputation": 154, "user_id": 6811877, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/e696f3907cb54cc29963d6ffb2e24e75?s=128&d=identicon&r=PG&f=1", "display_name": "mp3", "link": "https://stackoverflow.com/users/6811877/mp3"}, "edited": false, "score": 0, "creation_date": 1473832388, "post_id": 39407741, "comment_id": 66285119, "body": "@mp3  I take this Q to be a quest about potential uses of a  feature, among others for designing interfaces. An idea of denoting a graph by <code>a =&gt; b =&gt; c</code> is nice, it&#39;s clean and clear. But I find a problem with such uses since it relies on a particular syntax for a mere list, and to me it would appear unclear why. In that sense, the fact that the last element is unquoted and needs quotes <code>&#39;c&#39;</code> is a &quot;glitch&quot; in its neatness, and emphasizes the question of why it is used.  So it goes to (my thoughts on) what a good interface is. I am not sure that adding a loose <code>=&gt;</code> improves on that."}, {"owner": {"reputation": 6410, "user_id": 1051115, "user_type": "registered", "accept_rate": 85, "profile_image": "https://www.gravatar.com/avatar/b37fdf7928b7aecd15a973b250979333?s=128&d=identicon&r=PG", "display_name": "Krazy Glew", "link": "https://stackoverflow.com/users/1051115/krazy-glew"}, "edited": false, "score": 0, "creation_date": 1473907817, "post_id": 39407741, "comment_id": 66322176, "body": "@zdim: the whole point about using syntax like $k4=Graph([a=&gt;b=&gt;c=&gt;d=&gt;a=&gt;c=&gt;],[b=&gt;d=&gt;]) for a &quot;mere list&quot; is that it MIGHT be a teensy little bit more readable, essentially providing a comment about the arc direction for a directed graph.  But I agree: Graph([a,b,c,d,a,c],[b,d]) looks better - I am not comfortable with terminating =&gt; (and I wish that Perl would warn about that).   And I emphasize - the mere list is usually based right away to a constructor that creates the real data structure. Now, Path(a=&gt;b=&gt;c=&gt;) looks more reasonable."}, {"owner": {"reputation": 6410, "user_id": 1051115, "user_type": "registered", "accept_rate": 85, "profile_image": "https://www.gravatar.com/avatar/b37fdf7928b7aecd15a973b250979333?s=128&d=identicon&r=PG", "display_name": "Krazy Glew", "link": "https://stackoverflow.com/users/1051115/krazy-glew"}, "reply_to_user": {"reputation": 154, "user_id": 6811877, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/e696f3907cb54cc29963d6ffb2e24e75?s=128&d=identicon&r=PG&f=1", "display_name": "mp3", "link": "https://stackoverflow.com/users/6811877/mp3"}, "edited": false, "score": 0, "creation_date": 1473907836, "post_id": 39407741, "comment_id": 66322179, "body": "@mp3: darn, you are right - but it sure does look strange to have an arrow pointing to nothing, Plus it forces you a level deeper for a graph: K4 with undef works flat (a=&gt;b=&gt;c=&gt;d=&gt;a=&gt;c=&gt;undef,b=&gt;d=&gt;undef); K4 with terminal =&gt; doesn&#39;t (a=&gt;b=&gt;c=&gt;d=&gt;a=&gt;c=&gt;,b=&gt;d=&gt;) and needs extra depth K4 ([a=&gt;b=&gt;c=&gt;d=&gt;a=&gt;c=&gt;],[b=&gt;d=&gt;]), in which case the dangling =&gt; has not won you anything, just moved the ugliness around like toothpaste."}, {"owner": {"reputation": 6410, "user_id": 1051115, "user_type": "registered", "accept_rate": 85, "profile_image": "https://www.gravatar.com/avatar/b37fdf7928b7aecd15a973b250979333?s=128&d=identicon&r=PG", "display_name": "Krazy Glew", "link": "https://stackoverflow.com/users/1051115/krazy-glew"}, "reply_to_user": {"reputation": 154, "user_id": 6811877, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/e696f3907cb54cc29963d6ffb2e24e75?s=128&d=identicon&r=PG&f=1", "display_name": "mp3", "link": "https://stackoverflow.com/users/6811877/mp3"}, "edited": false, "score": 0, "creation_date": 1473908096, "post_id": 39407741, "comment_id": 66322231, "body": "@mp3: you should create an answer for terminal =&gt;, i.e. (a=&gt;b=&gt;c=&gt;), and also include EVIL PERL TRICK print I=&gt;Like=&gt;Barewords=&gt;; unless, of course, you don&#39;t want to be associated with it.  //  I have often thought that the reason that we don&#39;t actually use Perl as our interactive shell like bash is that bash defaults to barewords, whereas Perl usually requires quotes."}, {"owner": {"reputation": 154, "user_id": 6811877, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/e696f3907cb54cc29963d6ffb2e24e75?s=128&d=identicon&r=PG&f=1", "display_name": "mp3", "link": "https://stackoverflow.com/users/6811877/mp3"}, "reply_to_user": {"reputation": 6410, "user_id": 1051115, "user_type": "registered", "accept_rate": 85, "profile_image": "https://www.gravatar.com/avatar/b37fdf7928b7aecd15a973b250979333?s=128&d=identicon&r=PG", "display_name": "Krazy Glew", "link": "https://stackoverflow.com/users/1051115/krazy-glew"}, "edited": false, "score": 1, "creation_date": 1473931240, "post_id": 39407741, "comment_id": 66331081, "body": "@KrazyGlew I think I will decline on grounds of not encouraging the behavior. I love that you can have commas on the end of a list for those times when you format code with one list item per line (or one key/value) pair per line. However, I can&#39;t think of a good time to do the same with a fat comma. I was just pointing it out because it is interesting."}, {"owner": {"reputation": 53041, "user_id": 4653379, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/b3953dbedd0dabff5cbc3db9b0835b14?s=128&d=identicon&r=PG&f=1", "display_name": "zdim", "link": "https://stackoverflow.com/users/4653379/zdim"}, "reply_to_user": {"reputation": 6410, "user_id": 1051115, "user_type": "registered", "accept_rate": 85, "profile_image": "https://www.gravatar.com/avatar/b37fdf7928b7aecd15a973b250979333?s=128&d=identicon&r=PG", "display_name": "Krazy Glew", "link": "https://stackoverflow.com/users/1051115/krazy-glew"}, "edited": false, "score": 0, "creation_date": 1473970427, "post_id": 39407741, "comment_id": 66354906, "body": "@KrazyGlew I understand what the &quot;<i>whole point</i>&quot; is.  That&#39;s what my post and all comments are about. I just happen to think that chained fatties in general don&#39;t fit the purpose all that well.  I find it to be <i>not</i> more readable altogether and to slightly abuse syntactic liberties (rope) that Perl gives."}], "tags": [], "owner": {"reputation": 53041, "user_id": 4653379, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/b3953dbedd0dabff5cbc3db9b0835b14?s=128&d=identicon&r=PG&f=1", "display_name": "zdim", "link": "https://stackoverflow.com/users/4653379/zdim"}, "is_accepted": false, "score": 1, "last_activity_date": 1474000166, "last_edit_date": 1474000166, "creation_date": 1473411748, "answer_id": 39407741, "question_id": 39403778, "link": "https://stackoverflow.com/questions/39403778/are-there-any-good-uses-for-multiple-perl-fat-commas-in-series-a-b-1/39407741#39407741", "title": "Are there any good uses for multiple Perl fat commas in series ( a =&gt; b =&gt; 1 )?", "body": "<p>A fat comma's main benefit is that it visually associates its two arguments, and we also get quotes for free. This is naturally helpful with hashes, while it does have occasional other uses. </p>\n\n<p>However, I don't see much purpose to chaining them. Those <code>=&gt;</code> convey association between elements and in my opinion that is close to wrong for a plain list. If it is used to <em>implement</em> such behavior that is something else -- the list itself has no such property and using syntax that hints at it may be misleading (see comment at the end). Even the quoting convenience comes with a glitch</p>\n\n<pre><code>my @a_list = (a =&gt; b =&gt; 'c');  #  qw(a b c)\n</code></pre>\n\n<p>The <code>a</code> and <code>b</code> are treated as quoted since they are at the left-hand side of <code>=&gt;</code>, but <code>c</code> isn't.  </p>\n\n<p>As for what and how should be reported as error, a chain of fat commas are just (fancy) commas and one is allowed to chain them, forming a list.  If you happen to have an even number of them you may as well assign to a hash, it being a list with even number of elements</p>\n\n<pre><code>my %h = ('one', 1, 'two', 2);    # same as:  my %h = (one =&gt; 1, two =&gt; 2);\nmy %g = (one =&gt; 1 =&gt; two =&gt; 2);  # misleading\n</code></pre>\n\n<p>I find this misleading since hash elements are associated pair-wise, not in a chained sense.  </p>\n\n<p>With odd number of elements we get a runtime <em>warning</em>, not a compilation error. This happens <em>at assignment</em> since up to that point there is no reason to flag an odd number of <code>=&gt;</code>, it being a list.  </p>\n\n<p>Altogether, to me this is awkward and confusing. I don't see any benefits to it either. </p>\n\n<p>I'd say -- If it's about quoting, use <code>qw</code>. If it's for a hash, use it normally. </p>\n\n<hr>\n\n<p>If it is used to implement associative behavior, I still wouldn't try to indicate that in the list syntax. An interesting purpose came up in comments, related to graphs. Consider</p>\n\n<pre><code>create_graph(a =&gt; b =&gt; c =&gt; 'a');  # hash? list? why are these chained?\n</code></pre>\n\n<p>While the user shouldn't care about implementation, this interface does make me wonder what those <code>=&gt;</code> suggest.  I should know by class/method names that it is a graph, so then why the chain, what does that mean?</p>\n"}, {"comments": [{"owner": {"reputation": 53041, "user_id": 4653379, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/b3953dbedd0dabff5cbc3db9b0835b14?s=128&d=identicon&r=PG&f=1", "display_name": "zdim", "link": "https://stackoverflow.com/users/4653379/zdim"}, "edited": false, "score": 0, "creation_date": 1473969526, "post_id": 39501181, "comment_id": 66354460, "body": "I like <code>path(a =&gt; b =&gt; $val)</code> -- that one is clear, the path leading to a value.  It also nicely hides the implementation. But there is a whole lot already available in Perl that works for your purpose, too."}, {"owner": {"reputation": 53041, "user_id": 4653379, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/b3953dbedd0dabff5cbc3db9b0835b14?s=128&d=identicon&r=PG&f=1", "display_name": "zdim", "link": "https://stackoverflow.com/users/4653379/zdim"}, "edited": false, "score": 1, "creation_date": 1473969554, "post_id": 39501181, "comment_id": 66354470, "body": "With your C++ practice, why not do either (1) <code>$path-&gt;{a}-&gt;{b} = $val</code> -- use <a href=\"http://search.cpan.org/~vpit/autovivification-0.16/lib/autovivification.pm\" rel=\"nofollow noreferrer\"><code>autovivification</code></a>, pragma to suppress it, or (2) write a Perl class that does the same, with any syntax you want to introduce."}, {"owner": {"reputation": 53041, "user_id": 4653379, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/b3953dbedd0dabff5cbc3db9b0835b14?s=128&d=identicon&r=PG&f=1", "display_name": "zdim", "link": "https://stackoverflow.com/users/4653379/zdim"}, "edited": false, "score": 1, "creation_date": 1473969852, "post_id": 39501181, "comment_id": 66354638, "body": "See <a href=\"https://www.effectiveperlprogramming.com/2011/07/turn-off-auto-vivification-when-you-dont-want-it/\" rel=\"nofollow noreferrer\"><code>this article</code></a> for <code>autovivification</code> discussion. Also see core <a href=\"http://perldoc.perl.org/Hash/Util.html\" rel=\"nofollow noreferrer\"><code>Hash::Util</code></a>, choke full of goodies.  Also, see for example <a href=\"http://stackoverflow.com/questions/790516/how-do-i-disable-autovivification-in-perl\"><code>this post</code></a>, also mentioning <code>tie</code>-ed data structures, via <a href=\"http://search.cpan.org/~kvail/Tie-StrictHash-1.0/StrictHash.pm\" rel=\"nofollow noreferrer\"><code>Tie-StrictHash</code></a> There are indeed nicer ways than getting entangled with overly elaborated uses of <code>&#47;&#47;</code> and such."}, {"owner": {"reputation": 6410, "user_id": 1051115, "user_type": "registered", "accept_rate": 85, "profile_image": "https://www.gravatar.com/avatar/b37fdf7928b7aecd15a973b250979333?s=128&d=identicon&r=PG", "display_name": "Krazy Glew", "link": "https://stackoverflow.com/users/1051115/krazy-glew"}, "reply_to_user": {"reputation": 53041, "user_id": 4653379, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/b3953dbedd0dabff5cbc3db9b0835b14?s=128&d=identicon&r=PG&f=1", "display_name": "zdim", "link": "https://stackoverflow.com/users/4653379/zdim"}, "edited": false, "score": 0, "creation_date": 1474077950, "post_id": 39501181, "comment_id": 66398071, "body": "@zdim: thanks for the autovivification refs. (Voted up.)  But in all of these things, I look to have the fewest external dependencies possible, and use code that works in as many old Perl versions as possible. Many of my libraries get reused in other projects, and they don&#39;t like having to import multiple other libraries, or upgrade to a new version of Perl."}, {"owner": {"reputation": 6410, "user_id": 1051115, "user_type": "registered", "accept_rate": 85, "profile_image": "https://www.gravatar.com/avatar/b37fdf7928b7aecd15a973b250979333?s=128&d=identicon&r=PG", "display_name": "Krazy Glew", "link": "https://stackoverflow.com/users/1051115/krazy-glew"}, "reply_to_user": {"reputation": 53041, "user_id": 4653379, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/b3953dbedd0dabff5cbc3db9b0835b14?s=128&d=identicon&r=PG&f=1", "display_name": "zdim", "link": "https://stackoverflow.com/users/4653379/zdim"}, "edited": false, "score": 0, "creation_date": 1482193122, "post_id": 39501181, "comment_id": 69665683, "body": "@zdim: thanks again for pointing me to the autovivification pragma; however, I prefer to use it as <code>no autovivification</code> or <code>no autovivification qw(strict)</code>.  I am okay on autovivification being used on true LHS, but I strongly object to autovivifying in someihing like <code>print &#39;$a-&gt;{b}-&gt;{c} does not exist&#39; if not exists $a-&gt;{b}-&gt;{c}</code> --- something that looks read-only should not modify the data structure.   Perl5 autovivification is done in too many contexts.  It is a language bug."}], "tags": [], "owner": {"reputation": 6410, "user_id": 1051115, "user_type": "registered", "accept_rate": 85, "profile_image": "https://www.gravatar.com/avatar/b37fdf7928b7aecd15a973b250979333?s=128&d=identicon&r=PG", "display_name": "Krazy Glew", "link": "https://stackoverflow.com/users/1051115/krazy-glew"}, "is_accepted": true, "score": 0, "last_activity_date": 1473906528, "last_edit_date": 1473906528, "creation_date": 1473896323, "answer_id": 39501181, "question_id": 39403778, "link": "https://stackoverflow.com/questions/39403778/are-there-any-good-uses-for-multiple-perl-fat-commas-in-series-a-b-1/39501181#39501181", "title": "Are there any good uses for multiple Perl fat commas in series ( a =&gt; b =&gt; 1 )?", "body": "<p><strong>---+ BRIEF</strong></p>\n\n<p>In addition to notation for graphs\u00a0and paths (like Travelling Salesman, or critical path), multiple serial fat arrow/commas can be nice syntactic sugar for functions that you might call like </p>\n\n<pre><code># Writing: creating $node-&gt;{a}-&gt;{b}-&gt;{c} if it does not already exist\nassign_to_path($node=&gt;a=&gt;b=&gt;c=&gt;\"value\"); \n\n# Reading\nmy $cvalue = follow_path($node=&gt;a=&gt;b=&gt;c=&gt;\"default value);\n</code></pre>\n\n<p>the latter being similar to </p>\n\n<pre><code>my $cvalue = ($node-&gt;{a}-&gt;{b}-&gt;{c})//\"default value);\n</code></pre>\n\n<p>although you can do more stuff in a pointer chasing / hashref path following function than you can with //</p>\n\n<p>It turned out that I already had such functions in my personal library, but I did not know that you could use <code>a=&gt;b=&gt;\"value\"</code> with them to make them look less ugly where used.</p>\n\n<p><strong>---+ DETAIL</strong></p>\n\n<p>I usually try not to answer my own questions on this forum, encouraging others to - but in this case, in addition to the contrived example I posted inside and shortly after the original question, I have since realized what I think is a completely legitimate use for multiple fat arrow/commas in series. </p>\n\n<p>I would not complain if multiple fat arrows in series were disallowed, since they are quite often a real bug, but there are at least two places where they are appropriate.</p>\n\n<p><strong>(1) Entering Graphs as Chains</strong></p>\n\n<p>Reminder:  my first, totally contrived, use case for multiple fat pointer/commas in series was to make it easier to enter certain graphs by using \"chains\".  E.g. a classic deadlock graph would be, in pairs <code>{ 1=&gt;2, 2=&gt;1 }</code>, and as a \"chain\" <code>(1=&gt;2=&gt;1)</code>.  If you want to show a graph that is one big cycle with a \"chord\" or shortcut, it might look like <code>([1=&gt;2=&gt;3=&gt;4=&gt;5=&gt;6=&gt;1],[3=&gt;6])</code>.</p>\n\n<p>Note that I used node numbers: if I wanted to use node names, I might have to do <code>(a=&gt;b=&gt;c=&gt;undef)</code> to avoid having to quote the last node in a cycle <code>(a=&gt;b=&gt;\"c\")</code>. This is because of the implicit quote on the left hand but not the right hand argument. Since you have to but up with undef to support node names anyway, one might just \"flatten\" <code>([1=&gt;2=&gt;3=&gt;4=&gt;5=&gt;6=&gt;1],[3=&gt;6])</code> to <code>([1=&gt;2=&gt;3=&gt;4=&gt;5=&gt;6=&gt;1=&gt;undef,3=&gt;6=&gt;undef)</code>. In the former end of chain is indicated by end of array <code>[...]</code>.  In the latter, by undef.  Using undef makes all of the nodes at the left hand of a =>, so syntactically uniform.</p>\n\n<p>I admit that tis is contrived - it was just the first thing that came to mind.</p>\n\n<p><strong>(2) Paths as a data type</strong></p>\n\n<p>Slightly less contrived: imagine that you are writing, using, or testing code that is seeking \"paths\" through a graph - e.g. Hamiltonians, Traveling Salesman, mapping, electronic circuit speed path analysis.  For that matter, any critical path analysis, or data flow analysis.  </p>\n\n<p>I have worked in 4 of the 6 areas I just listed.  Although I have never used Perl fat arrow/commas in such code (usually Perl is to slow for such code when I have been working on such tasks), I can certainly avow that, although it is GOOD ENOUGH to write (a,b,c,d,e) in a computer program, in my own notes I usually draw arrows (a->b->c->d->e).  I think that it would be quite pleasant to be able to code it as <code>(a=&gt;b=&gt;c=&gt;d=&gt;e=&gt;undef)</code>, even with the ugly undefs.    <code>(a=&gt;b=&gt;c=&gt;d=&gt;e=&gt;undef)</code> is preferable to  <code>qw(a b c d e)</code>, if I were trying to make the code resemble my thinking.</p>\n\n<p>\"Trying to make the code resemble my thinking\" is often what I am doing.  I want to use the notations common to the problem area.  Sometimes I will use a DSL, sometimes write my own, sometimes just write some string or text parsing routines  But if a language like Perl has a syntax that looks almost familiar, that's less code to write.</p>\n\n<p>By the way, in C++ I often express chains or paths as </p>\n\n<pre><code>Path p = Path()-&gt;start(\"a\")-&gt;link_to(\"b\")-&gt;link_to(\"c\")-&gt;end(\"d\");\n</code></pre>\n\n<p>This is unfortunately verbose, but it is almost self-explanatory.</p>\n\n<p>Of course, such notations are just the programmer API: the actual data strcture is usually well hidden, and is seldom the linear linked list that the above implies.</p>\n\n<p>Anyway - if I need to write such \"path-manipulating\" code in Perl, I may use <code>(a=&gt;b=&gt;c=&gt;undef)</code> as a notation --  particularly when passed to a constructor like Path(a=>b=>c=>undef) which creates the actual data structure.</p>\n\n<p>There might even be some slightly more pleasant ways of dealing with the non-quoting of the fit arrow/comma's right hand side:   eg. sometimes I might use a code like 0 or -1 to indicate closed loops (cycles) or paths that are not yet complete: <code>Path(a=&gt;b=&gt;c=&gt;0)</code> is a cycle, <code>Path(a=&gt;b=&gt;c=&gt;-1)</code> is not. 0 rather looks like a closed loop.  It is unfortunate that this would mean that you could not have numeric nodes.   Or one might leverage more Perl syntax:   <code>Path(a=&gt;b=&gt;c=&gt;undef), Path(a=&gt;b=&gt;c=&gt;[]), Path(a=&gt;b=&gt;c=&gt;{})</code>.  </p>\n\n<p>All we are doing here is using the syntax of the programming language to create notations that resemble the notation of the problem domain.</p>\n\n<p><strong>(3) Finally, a use case that is more \"native Perl\"-ish.</strong></p>\n\n<p>Have you ever wanted to access   <code>$node-&gt;{a}-&gt;{b}-&gt;{c}</code>, when it is not guaranteed that all of the elements of the path exist?  </p>\n\n<p>Sometimes one ends up writing code like</p>\n\n<p>When writing:</p>\n\n<pre><code>$node = {} if not defined $node;\n$node-&gt;{a} = {}  if not exists $node-&gt;{a};\n$node-&gt;{a}-&gt;{b} = {}  if not exists $node-&gt;{a}-&gt;{b};\n$node-&gt;{a}-&gt;{b}-&gt;{c} = 0;\n</code></pre>\n\n<p>When reading ... well, you can imagine. Before the introduction of the // operator, I would have been too lazy to enter it. With the // operator, such code might look like:</p>\n\n<pre><code>my $value = $node-&gt;{a}-&gt;{b}-&gt;{c}//\"default value if the path is incomplete\";\n</code></pre>\n\n<p>Yeah, yeah...  one should never expose that much detail of the datastructure.  Before writing code like the above, one should refactor to a nice set of object oriented APIs.   Etc.</p>\n\n<p>Nevertheless, when you have to deal with somebody else's Perl code, you may run into the above.  Especially if that somebody else was an EE in a hurry, not a CS major.</p>\n\n<p>Anyway: I have long had in my personal Perl library functions that encapsulate the above.</p>\n\n<p>Historically, these have looked like: </p>\n\n<pre><code>assign_to_hash_path( $node, \"a\", \"b\", \"c\", 0 )\n# sets $node-&gt;{a}-&gt;{b}-&gt;{c} = 0, creating all nodes as necessary\n# can follow or create arbitrarily log chains\n# the first argument is the base node,\n# the last is the value\n# any number of intermediate nodes are allowed.\n</code></pre>\n\n<p>or, more obviously an assignment:</p>\n\n<pre><code>${hash_path_lhs( $node, \"a\", \"b\", \"c\")} = 0\n# IIRC this is how I created a left-hand-side\n# by returning a ref that I then dereffed.\n</code></pre>\n\n<p>and for reading (now usually // for simple cases):</p>\n\n<pre><code>my $cvalue = follow_hash_path_undef_if_cannot( $node, \"a\", \"b\", \"c\" );\n</code></pre>\n\n<p>Since the simple case of reading is now usually //, it is worth mentioning less simple cases, e.g. in a simulator where you are creating (create, zero-fill, or copy-on-read), or possibly tracking stats or modifying state like LRU or history</p>\n\n<pre><code>my $cvalue = lookup( $bpred_top =&gt; path_history =&gt; $path_hash =&gt; undef );    \nmy $cvalue = lookup( $bpred_top =&gt; gshare =&gt; hash($pc,$tnt_history) =&gt; undef );    \n</code></pre>\n\n<p>Basically, these libraries are the // operator on steroids, with a wider selection of what to do is the full path does not exist (or even if it does exist, e.g. count stats and cache).</p>\n\n<p>They are slightly more pleasant using the quote operators, e.g.</p>\n\n<pre><code>assign_to_hash_path( $node, qw{a b c}, 0);\n${hash_path_lhs( $node, qw{a b c})} = 0;\nmy $cvalue = follow_hash_path_undef_if_cannot( $node, qw{a b c});\n</code></pre>\n\n<p>But now that it has sunk into my thick head after many years of using perlobj, I think that fat arrow/commas may make these look much more pleasant:</p>\n\n<pre><code>assign_to_hash_path( $node =&gt; a =&gt; b =&gt; c =&gt; 0);\nmy $cvalue = follow_hash_path( $node =&gt; a =&gt; b =&gt; c =&gt; undef );\n</code></pre>\n\n<p>Unfortunately, the LHS function doesn't improve much because of the need to quote the last element of such a path:</p>\n\n<pre><code>${hash_path_lhs( $node=&gt;a=&gt;b=&gt;\"c\"} = 0;\n${hash_path_lhs( $node=&gt;a=&gt;b=&gt;c=&gt;undef} = 0;\n</code></pre>\n\n<p>so I would be tempted to give up on LHS, or use some mandatory final argument, like</p>\n\n<pre><code>${hash_path_lhs( $node=&gt;a=&gt;b=&gt;c, Create_As_Needed() ) = 0;\n${hash_path_lhs( $node=&gt;a=&gt;b=&gt;c, Die_if_Path_Incomplete() ) = 0;\n</code></pre>\n\n<p>The LHS code looks ugly, but the other two look pretty good, expecting that the final element of such a chain would either be the value to be assigned, or the default value.</p>\n\n<pre><code>assign_to_hash_path( $node =&gt; a =&gt; b =&gt; c =&gt; \"value-to-be-assigned\");\nmy $cvalue = follow_hash_path( $node =&gt; a =&gt; b =&gt; c =&gt; \"default-value\" );\n</code></pre>\n\n<p>Unfortunately, there is no obvious place to hand keyword options - the following does not work because you cannot distinguish optional keywords from args, at either beginning or end:</p>\n\n<pre><code>assign_to_hash_path( $node =&gt; a =&gt; b =&gt; c =&gt; 0);\nassign_to_hash_path( {warn_if_path_incomplete=&gt;1}, $node =&gt; a =&gt; b =&gt; c =&gt; 0);\nmy $cvalue = follow_hash_path( $node =&gt; a =&gt; b =&gt; c =&gt; undef );\nmy $cvalue = follow_hash_path( $node =&gt; a =&gt; b =&gt; c =&gt; undef, {die_if_path_incomplete=&gt;1} );\n</code></pre>\n\n<p>I have occasionally used a Keyword class, abbreviated KW, so that a type inquiry can tell us which is the keyword, but that is suboptimal - actually, it's not bad, but it is just that Perl has no single BKM (yeah, TMTOWTDI):</p>\n\n<pre><code>assign_to_hash_path( $node =&gt; a =&gt; b =&gt; c =&gt; 0);\nassign_to_hash_path( KW(warn_if_path_incomplete=&gt;1), $node =&gt; a =&gt; b =&gt; c =&gt; 0);\nmy $cvalue = follow_hash_path( $node =&gt; a =&gt; b =&gt; c =&gt; undef );\nmy $cvalue = follow_hash_path( KW(die_if_path_incomplete=&gt;1), $node =&gt; a =&gt; b =&gt; c =&gt; undef );\nmy $value = follow_hash_path( $node =&gt; a =&gt; b =&gt; c =&gt; undef, KW(die_if_path_incomplete=&gt;1) );\n</code></pre>\n\n<p><strong>Conclusion: Foo(a=>b=>c=>1) seems strange, but might be useful/nice syntactic sugar</strong></p>\n\n<p>So: while I do rather wish that <code>use warnings</code> had warned me about <code>foo(a=&gt;a=&gt;1)</code>, when a keyword was duplicated by accident, I think that multiple fat arrow/commas in series might be useful in making some types of code more readable.</p>\n\n<p>Although I haven't seen any real-world examples of this, usually if I can imagine something, a better and more perspicacious Perl programmer has already written it.</p>\n\n<p>And I am considering reworking some of my legacy libraries to use it. In fact, I may not have to rework - the library that I designed to be called as</p>\n\n<pre><code>assign_to_hash_path( $node, \"a\", \"b\", \"c\", 0 )\n</code></pre>\n\n<p>may already work if invoked as </p>\n\n<pre><code>assign_to_hash_path( $node =&gt; a =&gt; b=&gt; c =&gt; 0 )\n</code></pre>\n\n<p><strong>Simple Working Example</strong></p>\n\n<p>For grins, an example of a simple path following function, that does a bit more error reporting than is convenient to do with //</p>\n\n<pre><code>$ bash 1278 $&gt;  cat example-Follow_Hashref_Path.pl\nuse strict;\nuse warnings;\n\nsub follow_path {\n    my $node=shift;\n    if( ref $node ne 'HASH' ) {\n    print \"Error: expected \\$node to be a ref HASH,\"\n      .\" instead got \".(\n          ref $node eq ''\n        ?\"scalar $node\"\n        :\"ref \".(ref $node))\n      .\"\\n\";\n    return;\n    }\n    my $path=q{node=&gt;};\n    my $full_path = $path . join('=&gt;',@_);\n    foreach my $field ( @_ ) {\n    $path.=\"-&gt;{$field}\";\n    if( not exists $node-&gt;{$field} ) {\n        print \"stopped at path element $field\"\n          .\"\\n    full_path = $full_path\"\n          .\"\\n    path so far = $path\"\n          .\"\\n\";\n        return;\n    }\n    $node = $node-&gt;{$field}\n    }\n}\n\nmy $node={a=&gt;{b=&gt;{c=&gt;{}}}};\n\nfollow_path($node=&gt;a=&gt;b=&gt;c=&gt;\"end\");\nfollow_path($node=&gt;A=&gt;b=&gt;c=&gt;\"end\");\nfollow_path($node=&gt;a=&gt;B=&gt;c=&gt;\"end\");\nfollow_path($node=&gt;a=&gt;b=&gt;C=&gt;\"end\");\nfollow_path({}=&gt;a=&gt;b=&gt;c=&gt;\"end\");\nfollow_path(undef=&gt;a=&gt;b=&gt;c=&gt;\"end\");\nfollow_path('string-value'=&gt;a=&gt;b=&gt;c=&gt;\"end\");\nfollow_path('42'=&gt;a=&gt;b=&gt;c=&gt;\"end\");\nfollow_path([]=&gt;a=&gt;b=&gt;c=&gt;\"end\");\n</code></pre>\n\n<p>and use:</p>\n\n<pre><code>$ perl example-Follow_Hashref_Path.pl\nstopped at path element end\n    full_path = node=&gt;a=&gt;b=&gt;c=&gt;end\n    path so far = node=&gt;-&gt;{a}-&gt;{b}-&gt;{c}-&gt;{end}\nstopped at path element A\n    full_path = node=&gt;A=&gt;b=&gt;c=&gt;end\n    path so far = node=&gt;-&gt;{A}\nstopped at path element B\n    full_path = node=&gt;a=&gt;B=&gt;c=&gt;end\n    path so far = node=&gt;-&gt;{a}-&gt;{B}\nstopped at path element C\n    full_path = node=&gt;a=&gt;b=&gt;C=&gt;end\n    path so far = node=&gt;-&gt;{a}-&gt;{b}-&gt;{C}\nstopped at path element a\n    full_path = node=&gt;a=&gt;b=&gt;c=&gt;end\n    path so far = node=&gt;-&gt;{a}\nError: expected $node to be a ref HASH, instead got scalar undef\nError: expected $node to be a ref HASH, instead got scalar string-value\nError: expected $node to be a ref HASH, instead got scalar 42\nError: expected $node to be a ref HASH, instead got ref ARRAY\n\u2713\n$\n</code></pre>\n\n<p><strong>Another Example <code>($node-&gt;{a}-&gt;{B}-&gt;{c}//\"premature end\")</code></strong></p>\n\n<pre><code>$ bash 1291 $&gt;  perl -e 'use warnings;my $node={a=&gt;{b=&gt;{c=&gt;\"end\"}}}; print \"followed path to the \".($node-&gt;{a}-&gt;{B}-&gt;{c}//\"premature end\").\"\\n\"'\nfollowed path to the premature end\n$ bash 1292 $&gt;  perl -e 'use warnings;my $node={a=&gt;{b=&gt;{c=&gt;\"end\"}}}; print \"followed path to the \".($node-&gt;{a}-&gt;{b}-&gt;{c}//\"premature end\").\"\\n\"'\nfollowed path to the end\n</code></pre>\n\n<p>I admit that I have trouble keeping the binding strength of // in my head.</p>\n\n<p><strong>Finally</strong></p>\n\n<p>By the way, if anyone has examples of idioms using <code>//</code> and <code>-&gt;</code> that avoid the need to create library functions, especially for writes, I'd love to hear of them.</p>\n\n<p>It's good to be able to create libraries to make stuff easier or more pleasant.</p>\n\n<p>It is also good not to need to do so - as in <code>($node-&gt;{a}-&gt;{B}-&gt;{c}//\"default\")</code>.</p>\n"}, {"tags": [], "owner": {"reputation": 6410, "user_id": 1051115, "user_type": "registered", "accept_rate": 85, "profile_image": "https://www.gravatar.com/avatar/b37fdf7928b7aecd15a973b250979333?s=128&d=identicon&r=PG", "display_name": "Krazy Glew", "link": "https://stackoverflow.com/users/1051115/krazy-glew"}, "is_accepted": false, "score": 0, "last_activity_date": 1478308995, "creation_date": 1478308995, "answer_id": 40433890, "question_id": 39403778, "link": "https://stackoverflow.com/questions/39403778/are-there-any-good-uses-for-multiple-perl-fat-commas-in-series-a-b-1/40433890#40433890", "title": "Are there any good uses for multiple Perl fat commas in series ( a =&gt; b =&gt; 1 )?", "body": "<p>Not only did I answer my own question, but I am also going to give it a separate second answer! :-}{  </p>\n\n<p>Anyway, today, a couple of months after I asked the original question, I was staring at some code and thinking to myself 'Boy, I wish that Perl had a prefix field accessor'.</p>\n\n<p>Perl's standard hashref field accessor is a suffix, or postfix: <code>$hashref-&gt;{fieldname}</code>. </p>\n\n<p>Some languages have a prefix field accessor:</p>\n\n<p>In an effort to be Perl-like, might imagine writing this as <code>{fieldname}&lt;-$hashref</code></p>\n\n<p>Although when I have seen it done it has been more verbose:</p>\n\n<pre><code>POSTFIX:   field of object\nPREFIX:    object 's field\n</code></pre>\n\n<p>(Yeah, <code>'s</code> was an operator in that language. No, not COBOL - I think it was POP-4, and also possible Algol-68, where not built in but could be written)</p>\n\n<p>compare to </p>\n\n<pre><code>PERL:      $object-&gt;{field}\nC, etc:    object.field\n           object-&gt;field\n</code></pre>\n\n<p>And then I realized that you can write a not-too-objectionable prefix field getter in perl</p>\n\n<pre><code>sub get_field ($%) {\n    my $fieldname = shift;\n    my $hash = shift;\n    return $hash-&gt;{$fieldname};\n}\n\n# used\nassert( 1 == get_field 'fieldname', $some-&gt;long_and_complex_function(with,args) )\n</code></pre>\n\n<p>or, pleasantly using fat commas to avoid the need for string quotes on the fieldname</p>\n\n<pre><code>assert( 1 == get_field fieldname=&gt;$some-&gt;long_and_complex_function(with,args) )\n</code></pre>\n\n<p>comparing to</p>\n\n<pre><code>assert( 1 == $some-&gt;long_and_complex_function(with,args)-&gt;{fieldname} )\n</code></pre>\n\n<p>OK, so that's just an (ab)use\u00a0of a single fat comma.</p>\n\n<p>But obviously it can extend to </p>\n\n<pre><code>assert( 1 == get_field 3rd=&gt;2nd=&gt;1st=&gt;$object )\n</code></pre>\n\n<p>which is equivalent to</p>\n\n<pre><code>assert( 1 == $object-&gt;{1st}-&gt;{2nd}-&gt;{3rd} )\n</code></pre>\n\n<p>I am not sure that I approve. But...</p>\n"}], "owner": {"reputation": 6410, "user_id": 1051115, "user_type": "registered", "accept_rate": 85, "profile_image": "https://www.gravatar.com/avatar/b37fdf7928b7aecd15a973b250979333?s=128&d=identicon&r=PG", "display_name": "Krazy Glew", "link": "https://stackoverflow.com/users/1051115/krazy-glew"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 228, "favorite_count": 1, "accepted_answer_id": 39501181, "answer_count": 4, "score": 3, "last_activity_date": 1478308995, "creation_date": 1473394490, "last_edit_date": 1473426116, "question_id": 39403778, "link": "https://stackoverflow.com/questions/39403778/are-there-any-good-uses-for-multiple-perl-fat-commas-in-series-a-b-1", "title": "Are there any good uses for multiple Perl fat commas in series ( a =&gt; b =&gt; 1 )?", "body": "<p>BRIEF: <strong>Q: are there any good uses for Perl's fat commas in series?</strong></p>\n\n<p>e.g. func_hash_as_array_arg( <strong>a=>b=>1</strong> )</p>\n\n<p>DETAIL:</p>\n\n<p>I just got bitten by a bug caused by two fat commas / fat arrows in series:</p>\n\n<pre><code>$ bash $&gt; perl -e 'use strict; use warnings; my @v = ( a=&gt; b =&gt; 1 )'\n\u2713 \n</code></pre>\n\n<p>actually in a function; actually in a constructor for an object (blessed hash), so I was thinking {} when it was new( a=>b=>1).</p>\n\n<pre><code>$ bash $&gt;  perl -e '\n    use strict; use warnings; \n    sub kwargs_func{ print \"inside\\n\"; my %kw = $_[0] ;}; \n    kwargs_func( a=&gt; b =&gt; 1 )\n'\ninside\nOdd number of elements in hash assignment at -e line ##.\n\u2713 \n</code></pre>\n\n<p>Obviously I found the bug fairly quickly - but I would prefer to have had a compile-time error or warning rather than a run-time error.  </p>\n\n<p><strong>Q: are there any good uses for fat commas in series?</strong></p>\n\n<p><strong>I am surprised that there was not a 'use warnings' warning for this.</strong></p>\n\n<hr>\n\n<p>Here's a contrived example of a semi-legitimate use. One that I can imagine encountering in real life: </p>\n\n<p>I do a lot of graph code. </p>\n\n<p>Imagine entering a constant graph like K3, K4, or K3,3 (I will assume that all arcs are bidirectional)</p>\n\n<p>One might enter such graphs as pairs, like </p>\n\n<pre><code>K3: (a&lt;=&gt;b, a&lt;=&gt;b, b&lt;=&gt;c). \n</code></pre>\n\n<p>But it might be nice to enter it as </p>\n\n<pre><code>K3: (a&lt;=&gt;b&lt;=&gt;c&lt;=&gt;a). \n</code></pre>\n\n<p>Less repetition, as one gets to bigger graphs. </p>\n\n<p>E.g. K4 written as pairs is</p>\n\n<pre><code>K4: ( a&lt;=&gt;b, a&lt;=&gt;c, a&lt;=&gt;d, b&lt;=&gt;c, b&lt;=&gt;d )\n</code></pre>\n\n<p>whereas using these \"chains\" K4 is:</p>\n\n<pre><code>K4: (a&lt;=&gt;b&lt;=&gt;c&lt;=&gt;d&lt;=&gt;a&lt;=&gt;c,b&lt;=&gt;d)\n</code></pre>\n\n<p>I have written what we now call DSL (Domain Specific Languages) that accept such \"chain\" notations. Note: using &lt;=> above, deliberately non-Perl  friendly syntax. </p>\n\n<p>Of course, in Perl one would have to indicate the end of such a chain, probably by undef:</p>\n\n<pre><code>K4: (a=&gt;b=&gt;c=&gt;d=&gt;a=&gt;c=&gt;undef,b=&gt;d=&gt;undef)\n</code></pre>\n\n<p>although one might elide the last undef.</p>\n\n<p>I am too lazy to type in K3,3, so let me enter K3,2:</p>\n\n<pre><code>DSL pairs K3,2: (a&lt;=&gt;x, a&lt;=&gt;y, b&lt;=&gt;x, b&lt;=&gt;y, c&lt;=&gt;x, c&lt;=&gt;y )\n\nDSL chains: K3,2:  (y&lt;=&gt;a&lt;=&gt;x&lt;=&gt;b&lt;=&gt;y&lt;=&gt;c&lt;=&gt;x)\n\nPerl pairs K3,2: (a=&gt;x, a=&gt;y, b=&gt;x, b=&gt;y, c=&gt;x, c=&gt;y )\n\nPerl chains: K3,2:  (y=&gt;a=&gt;x=&gt;b=&gt;y=&gt;c=&gt;x=&gt;undef)\n</code></pre>\n\n<hr>\n\n<p>I like functions with keyword arguments.  In Perl there are two main ways to do this:</p>\n\n<pre><code>func_hash_as_array_arg( kwarg1=&gt;kwval1, kwarg2=&gt;kwval2 )\nfunc_hashref_as_scalar_arg( { kwarg1=&gt;kwval1, kwarg2=&gt;kwval2 } )\n</code></pre>\n\n<p>which can be mixed with positional in a reasonably nice way</p>\n\n<pre><code>func( posarg1, posarg2, kwarg1=&gt;kwval1, kwarg2=&gt;kwval2 )\nfunc( posarg1, posarg2, { kwarg1=&gt;kwval1, kwarg2=&gt;kwval2 } )\n</code></pre>\n\n<p>and also in less nice ways</p>\n\n<pre><code>func( { kwarg1=&gt;kwval1, kwarg2=&gt;kwval2 }, varargs1, vargags2, ... )\n</code></pre>\n\n<p>Although <strong>I prefer f(k1=>v1) to f({k1=>v1})</strong> - less clutter - the fact that the <strong>hashref \"keyword argument group\" gives more compile-time checking</strong> is interesting. I may flip.</p>\n\n<p>Of course, the real problem is that Perl needs a proper syntax for keyword arguments.</p>\n\n<p>Perl6 does it better.</p>\n\n<hr>\n\n<p>For grins, some related code examples with 2 fat commas in series.</p>\n\n<pre><code>$ bash $&gt;  perl -e 'use strict; use warnings; my %v = ( a=&gt; b =&gt; 1 )'\nOdd number of elements in hash assignment at -e line 1.\n\u2713\n\n$ bash $&gt;  perl -e 'use strict; use warnings; my $e = { a=&gt; b =&gt; 1 }'\nOdd number of elements in anonymous hash at -e line 1.\n\u2713 \n\n$ bash $&gt;  perl -e 'use strict; use warnings; my $e = [ a=&gt; b =&gt; 1 ]'\n\u2713 \n\n$ bash $&gt;  perl -e '\n    use strict; use warnings; \n    sub kwargs_func{ print \"inside\\n\"; my %kw = $_[0] ;}; \n    kwargs_func( a=&gt; b =&gt; 1 )\n'\ninside\nOdd number of elements in hash assignment at -e line ##.\n\u2713 \n\n$ bash $&gt;  perl -e '\n   use strict; use warnings; \n   sub kwargs_func{ print \"inside\\n\"; my %kw = %{$_[0]} ;}; \n   kwargs_func( {a=&gt; b =&gt; 1} )\n'\nOdd number of elements in anonymous hash at -e line ##.\ninside\n\u2713 \n</code></pre>\n"}, {"tags": ["perl"], "answers": [{"tags": [], "owner": {"reputation": 6068, "user_id": 1799189, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/s4Pcu.jpg?s=128&g=1", "display_name": "xxfelixxx", "link": "https://stackoverflow.com/users/1799189/xxfelixxx"}, "is_accepted": true, "score": 2, "last_activity_date": 1473392853, "creation_date": 1473392853, "answer_id": 39403557, "question_id": 39402769, "link": "https://stackoverflow.com/questions/39402769/use-of-inintialized-value-in-concatenation-perl/39403557#39403557", "title": "Use of inintialized value $ in concatenation (.) Perl", "body": "<ol>\n<li>Always <code>use strict</code> when writing new code.</li>\n<li>Uninitialized warnings means that your <code>$caracter_aleatorio</code> variable is undefined, so you should set a default.  Undefined variables are usually a sign of buggy code.</li>\n<li>Declare your variables using <code>my</code></li>\n<li>One-letter variables should be avoided for maintenance / readability reasons.</li>\n<li>No-longer need to call functions with <code>&amp;foo()</code> notation, <code>foo()</code> is fine.</li>\n<li>Use quotes around A and Z to generate the range.</li>\n</ol>\n\n<p>Here is an updated version of your code:</p>\n\n<pre><code>use strict;\nuse warnings;\n\nmy $a = 5;\nmy $c = 3;\nmy $i;\nmy $x = time();\nmy $m = 32;\nmy $caracter_aleatorio;\nmy $numAleatorio;\nmy @caracteres = ('A'..'Z');\nprint \"Ingrese la cantidad de letras que desea generar=&gt; \";\nmy $n = &lt;STDIN&gt;;\n\nsub generadorMultiplicativo{\n    $numAleatorio = ((($a*$x) + $c) % $m);\n    $x = $numAleatorio;\n}\n\nfor( $i=1; $i&lt;=$n; $i++ ) {\n    generadorMultiplicativo();\n    $caracter_aleatorio = $caracteres[$numAleatorio] || 'unknown';\n    if($numAleatorio == 0){\n        $numAleatorio++;\n    }\n    if($numAleatorio &gt; 26){\n        $numAleatorio = $numAleatorio - 5;\n    }\n\n    print\"Letra #$i = $caracter_aleatorio\\n\";\n}\n</code></pre>\n\n<p>Suggestions to improve further:</p>\n\n<ol>\n<li>Learn how to accept/return parameters from subroutines.  <a href=\"http://perldoc.perl.org/perlsub.html\" rel=\"nofollow\">perldoc perlsub</a></li>\n<li>Input validation, what if I pass in 'abc' instead of 123, numeric vs string comparison operators ( <code>&lt;=</code> vs <code>lt</code>, <code>==</code> vs <code>eq</code>, <code>&gt;=</code> vs <code>gt</code>, etc. ).</li>\n<li>Write comments to show high level intent of your code.</li>\n<li>Provide a usage/help message to show a new user how to use your script.</li>\n<li>The perl documentation is excellent, have a read through <a href=\"http://perldoc.perl.org/perlintro.html\" rel=\"nofollow\">perldoc perlintro</a></li>\n</ol>\n"}, {"tags": [], "owner": {"reputation": 154, "user_id": 6811877, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/e696f3907cb54cc29963d6ffb2e24e75?s=128&d=identicon&r=PG&f=1", "display_name": "mp3", "link": "https://stackoverflow.com/users/6811877/mp3"}, "is_accepted": false, "score": 1, "last_activity_date": 1473441340, "last_edit_date": 1473441340, "creation_date": 1473393872, "answer_id": 39403695, "question_id": 39402769, "link": "https://stackoverflow.com/questions/39402769/use-of-inintialized-value-in-concatenation-perl/39403695#39403695", "title": "Use of inintialized value $ in concatenation (.) Perl", "body": "<p>To see the issue, after you call generadorMultiplicativo(); you can do some debug printing of $numAleatorio to see that it sometimes goes higher than you intend. That is, it can be greater than 25.</p>\n\n<pre><code>print \"DEBUG: $numAleatorio of $#caracteres\\n\";\n</code></pre>\n\n<p>Your method tries to fix these out of bounds values, but you have some issues:</p>\n\n<ol>\n<li>26 as the upper limit instead of 25</li>\n<li>You subtract 5 if above upper bound but sometimes you are more than 5 above upper bound.</li>\n<li>Your pseudorandom number generator is generating values too high.</li>\n</ol>\n\n<p>Recommended rewrite:</p>\n\n<pre><code>use strict;\nuse warnings;\nmy @caracteres = ('A'..'Z');\nprint \"Ingres la cantidad de letras que desea generar=&gt; \";\nwhile(my $n = &lt;STDIN&gt;) {\n  last unless $n =~ /^[0-9]+$/; # Check upper limit?\n  for (1.. $n) {\n    print \"Letras #%d = %s\\n\", $_, $caracteres[int(rand(26))];\n  }\n}\n</code></pre>\n\n<p>Does almost the same thing except you can keep asking for more random chars. Just enter non-digit to exit.</p>\n\n<p>First post/answer and typed on my phone so please forgive my mistakes!</p>\n"}], "owner": {"reputation": 29, "user_id": 6811675, "user_type": "registered", "accept_rate": 33, "profile_image": "https://www.gravatar.com/avatar/64bd6ce2ec06a28a0700a2eca229973d?s=128&d=identicon&r=PG&f=1", "display_name": "Jairo", "link": "https://stackoverflow.com/users/6811675/jairo"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 50, "favorite_count": 0, "accepted_answer_id": 39403557, "answer_count": 2, "score": 1, "last_activity_date": 1473441340, "creation_date": 1473386873, "question_id": 39402769, "link": "https://stackoverflow.com/questions/39402769/use-of-inintialized-value-in-concatenation-perl", "title": "Use of inintialized value $ in concatenation (.) Perl", "body": "<pre><code>use warnings;\n\n$a = 5; \n$c = 3;\n$i;\n$x = time();\n$m = 32;\n$caracter_aleatorio;\n@caracteres = (A..Z);\nprint \"Ingrese la cantidad de letras que desea generar=&gt; \";\n$n = &lt;STDIN&gt;; \n\nsub generadorMultiplicativo{  \n        $numAleatorio = ((($a*$x) + $c) % $m);  \n        $x = $numAleatorio;\n}\n\nfor($i=1;$i&lt;=$n;$i++){   \n      &amp;generadorMultiplicativo();\n      $caracter_aleatorio = $caracteres[$numAleatorio];\n        if($numAleatorio == 0){\n       $numAleatorio++;\n       }\n    if($numAleatorio &gt; 26){\n       $numAleatorio = $numAleatorio - 5;\n    }\n\n     print\"Letra #$i = $caracter_aleatorio\\n\";  \n} \n&lt;&gt;;\n</code></pre>\n\n<p>I know this warning is when the variable doesn't have a value, but I\u00b4ve tried everything but it\u00b4s the same, it\u00b4s a generator of \"random\" letters.</p>\n\n<p>Could you help me?</p>\n"}, {"tags": ["perl", "bioinformatics", "fasta", "fastq"], "answers": [{"tags": [], "owner": {"reputation": 394, "user_id": 4504847, "user_type": "registered", "accept_rate": 88, "profile_image": "https://i.stack.imgur.com/U9lvM.png?s=128&g=1", "display_name": "FrankRalphBob", "link": "https://stackoverflow.com/users/4504847/frankralphbob"}, "is_accepted": true, "score": 1, "last_activity_date": 1473376465, "creation_date": 1473376465, "answer_id": 39401503, "question_id": 39401348, "link": "https://stackoverflow.com/questions/39401348/convert-multiples-sequences-from-fastq-to-fasta-in-a-folder/39401503#39401503", "title": "Convert multiples sequences from fastq to fasta in a folder", "body": "<p>Kinda of new to perl myself and don't know a thing about bioinformatics, but it looks like you are overwriting the output file with every turn of the while loop.   I think you want to append to the file so you want a >> not just >.  example</p>\n\n<pre><code>open OUTFILE, '&gt;&gt;', $file_name.\".fasta\";\n</code></pre>\n\n<p>Hope that helps.</p>\n"}], "owner": {"reputation": 311, "user_id": 9097452, "user_type": "registered", "accept_rate": 0, "profile_image": "https://www.gravatar.com/avatar/8073dda6ba748ee30788aed8a1e82f0d?s=128&d=identicon&r=PG", "display_name": "abraham", "link": "https://stackoverflow.com/users/9097452/abraham"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 427, "favorite_count": 0, "accepted_answer_id": 39401503, "answer_count": 1, "score": 0, "last_activity_date": 1473412095, "creation_date": 1473375395, "last_edit_date": 1473412095, "question_id": 39401348, "link": "https://stackoverflow.com/questions/39401348/convert-multiples-sequences-from-fastq-to-fasta-in-a-folder", "title": "Convert multiples sequences from fastq to fasta in a folder", "body": "<p>I want to convert all the fastq files contained in a folder to fasta format, each file will keep the original name but in fasta extension, I have made the next code in perl, however it only extract the last sequence of each file !!!</p>\n\n<pre><code>#!/usr/bin/perl\n\nuse strict;\nuse warnings;\nuse Getopt::Long;\n\nmy ($dir, $files, $file_name, $file_format);\n\n    GetOptions (\n                'dr=s'  =&gt;\\$dir\n                );\n\nforeach $files (glob(\"$dir/*.fastq\")) {\n        open LINE, \"&lt;\", $files or die \"can't read open $files\";\n            while(\n                    defined(my $head    = &lt;LINE&gt;)       &amp;&amp;\n                    defined(my $seq     = &lt;LINE&gt;)       &amp;&amp;\n                    defined(my $qhead   = &lt;LINE&gt;)       &amp;&amp;\n                    defined(my $quality = &lt;LINE&gt;)           \n            ){\n                        substr($head, 0, 1, '&gt;'); \n                        ($file_name, $file_format) = split (/\\./,$files);\n                        open OUTFILE, '&gt;', $file_name.\".fasta\";\n                        print OUTFILE $head, $seq;\n            }\n}\nclose LINE;\nclose OUTFILE;\nexit;\n</code></pre>\n\n<p>and extra question, I want to use the pice next code, as a subroutine, I want to develop the same scrip to have the option of convert all fastq files in a folder or single file to fasta file !!!</p>\n\n<pre><code>while(\n                        defined(my $head    = &lt;LINE&gt;)       &amp;&amp;\n                        defined(my $seq     = &lt;LINE&gt;)       &amp;&amp;\n                        defined(my $qhead   = &lt;LINE&gt;)       &amp;&amp;\n                        defined(my $quality = &lt;LINE&gt;)           \n                ){\n</code></pre>\n"}, {"tags": ["perl", "dbi"], "comments": [{"owner": {"reputation": 2119, "user_id": 3196458, "user_type": "registered", "profile_image": "https://graph.facebook.com/100005547696898/picture?type=large", "display_name": "blackpen", "link": "https://stackoverflow.com/users/3196458/blackpen"}, "edited": false, "score": 0, "creation_date": 1473371316, "post_id": 39400589, "comment_id": 66127479, "body": "You could try to get the results in a list context and see if the list is empty.  <b>Reason:</b> <i>If called in a scalar for results with more than one column, it is undefined whether it will return value of the first column or the last. Also, in a scalar context, an undef is returned if there are no more rows or if an error occurred. That undef can&#39;t be distinguished from an undef returned because the first field value was NULL.</i>"}, {"owner": {"reputation": 6258, "user_id": 82262, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/8ce15931410b388a52eb2df4a864137f?s=128&d=identicon&r=PG&f=1", "display_name": "Matt Jacob", "link": "https://stackoverflow.com/users/82262/matt-jacob"}, "edited": false, "score": 7, "creation_date": 1473371497, "post_id": 39400589, "comment_id": 66127540, "body": "The issue isn&#39;t in reusing the database handle. The issue is that one query has placeholders, and the other one doesn&#39;t. The one that doesn&#39;t shouldn&#39;t be supplied any bind values."}, {"owner": {"reputation": 352, "user_id": 1601104, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/Irvqd.jpg?s=128&g=1", "display_name": "Shahid Siddique", "link": "https://stackoverflow.com/users/1601104/shahid-siddique"}, "reply_to_user": {"reputation": 6258, "user_id": 82262, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/8ce15931410b388a52eb2df4a864137f?s=128&d=identicon&r=PG&f=1", "display_name": "Matt Jacob", "link": "https://stackoverflow.com/users/82262/matt-jacob"}, "edited": false, "score": 0, "creation_date": 1473401122, "post_id": 39400589, "comment_id": 66134962, "body": "@matt even I thought that it&#39;s a binding problem after looking at the error but I can assure you that both queries take same parameter."}, {"owner": {"reputation": 6258, "user_id": 82262, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/8ce15931410b388a52eb2df4a864137f?s=128&d=identicon&r=PG&f=1", "display_name": "Matt Jacob", "link": "https://stackoverflow.com/users/82262/matt-jacob"}, "edited": false, "score": 0, "creation_date": 1473402617, "post_id": 39400589, "comment_id": 66135604, "body": "There are only 2 possibilities: either the query and bind values don&#39;t match, or else you&#39;ve misidentified the actual line of code referenced in the error message. Why don&#39;t you <a href=\"https://stackoverflow.com/posts/39400589/edit\">edit</a> your question to include the SQL queries?"}, {"owner": {"reputation": 352, "user_id": 1601104, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/Irvqd.jpg?s=128&g=1", "display_name": "Shahid Siddique", "link": "https://stackoverflow.com/users/1601104/shahid-siddique"}, "edited": false, "score": 0, "creation_date": 1473427204, "post_id": 39400589, "comment_id": 66149349, "body": "I am so embarrassed right now. There was a spelling mistake in the variable. I think because it was global, I didn&#39;t get any error although I was using Strict.  I don&#39;t know how to close this thread. Sorry and thank you guys for your time, I appreciate all the help I got."}], "owner": {"reputation": 352, "user_id": 1601104, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/Irvqd.jpg?s=128&g=1", "display_name": "Shahid Siddique", "link": "https://stackoverflow.com/users/1601104/shahid-siddique"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 125, "favorite_count": 0, "answer_count": 0, "score": 0, "last_activity_date": 1473426324, "creation_date": 1473370592, "last_edit_date": 1473426324, "question_id": 39400589, "link": "https://stackoverflow.com/questions/39400589/how-can-i-use-same-database-handle-twice-in-perl", "title": "How can I use same Database handle twice in Perl", "body": "<p>I am trying to use same database handle twice in a subroutine but it gives me an error. Any help is appreciated.</p>\n\n<pre><code>my $team1 =    $dbh-&gt;selectrow_array($SqlQueries::G_SQL_GET_CPP_TEAM, undef, @bind_values);\nmy $team2 =    $dbh-&gt;selectrow_array($SqlQueries::G_SQL_GET_CSHARP_TEAM, undef, @bind_values);\nmy $team = $team1 || $team2;\n</code></pre>\n\n<p>I am basically trying to assign team1 to a variable team but if team1 is undef I want to assign it team2. I tried it like this: </p>\n\n<p>The following code is in package1.</p>\n\n<pre><code>my $team =    $dbh-&gt;selectrow_array($SqlQueries::G_SQL_GET_CPP_TEAM, undef, @bind_values) \n           || $dbh-&gt;selectrow_array($SqlQueries::G_SQL_GET_CSHARP_TEAM, undef, @bind_values);\n</code></pre>\n\n<p>The following SQL queries are in package SqlQueries.pm</p>\n\n<pre><code>Readonly our $G_SQL_GET_CPP_TEAM      =&gt; q{select top 1 team_name  from dbo.funcGetTeam('CPP','Department') where project_name = ? ;};\n#funcGetTeam is the function created in SQL Server that takes two parameter and I have hardcoded them. \nReadonly our $G_SQL_GET_CSHARP_TEAM   =&gt; q{select top 1 team_name  from dbo.funcGetTeam('CSHARP','Department') where project_name = ? ;};\n</code></pre>\n\n<p>It gives the correct result but also shows error:</p>\n\n<pre><code>Use of uninitialized value in subroutine entry at C:/Perl/lib/DBD/ODBC.pm line\n    229 (#1)\nDBD::ODBC::db selectrow_array failed: called with 1 bind variables when 0 are needed at C:\\stability\\usr\\lib/TeamMapping.pm line 106.\n</code></pre>\n"}, {"tags": ["sql-server", "oracle", "perl", "dbi"], "comments": [{"owner": {"reputation": 21782, "user_id": 176646, "user_type": "registered", "accept_rate": 88, "profile_image": "https://i.stack.imgur.com/HsQyV.png?s=128&g=1", "display_name": "ThisSuitIsBlackNot", "link": "https://stackoverflow.com/users/176646/thissuitisblacknot"}, "edited": false, "score": 4, "creation_date": 1473370175, "post_id": 39400145, "comment_id": 66127019, "body": "This might be obvious, but all of the <code>mysql_</code> connection options are specific to, well, MySQL. Each database driver has its own set of options that aren&#39;t shared with other drivers. The options for ODBC are documented <a href=\"https://metacpan.org/pod/DBD::ODBC\" rel=\"nofollow noreferrer\">here</a>."}, {"owner": {"reputation": 1935, "user_id": 2034048, "user_type": "registered", "accept_rate": 46, "profile_image": "https://i.stack.imgur.com/aDv88.jpg?s=128&g=1", "display_name": "7 Reeds", "link": "https://stackoverflow.com/users/2034048/7-reeds"}, "reply_to_user": {"reputation": 21782, "user_id": 176646, "user_type": "registered", "accept_rate": 88, "profile_image": "https://i.stack.imgur.com/HsQyV.png?s=128&g=1", "display_name": "ThisSuitIsBlackNot", "link": "https://stackoverflow.com/users/176646/thissuitisblacknot"}, "edited": false, "score": 0, "creation_date": 1473370411, "post_id": 39400145, "comment_id": 66127119, "body": "heh, not obvious to me in this case. &lt;facepalm&gt;"}, {"owner": {"reputation": 211530, "user_id": 10397, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/0a116491222bf3f94c85381528593fd7?s=128&d=identicon&r=PG", "display_name": "Justin Cave", "link": "https://stackoverflow.com/users/10397/justin-cave"}, "edited": false, "score": 1, "creation_date": 1473372421, "post_id": 39400145, "comment_id": 66127871, "body": "A general cross-database solution would be to write a chunk of code that reads the information from these configuration files and uses them to establish the connection.  Oracle would allow you to have operating system authentication or to use a wallet which has the credentials stored securely."}], "owner": {"reputation": 1935, "user_id": 2034048, "user_type": "registered", "accept_rate": 46, "profile_image": "https://i.stack.imgur.com/aDv88.jpg?s=128&g=1", "display_name": "7 Reeds", "link": "https://stackoverflow.com/users/2034048/7-reeds"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 79, "favorite_count": 0, "answer_count": 0, "score": 1, "last_activity_date": 1473369386, "creation_date": 1473368517, "last_edit_date": 1473369386, "question_id": 39400145, "link": "https://stackoverflow.com/questions/39400145/how-can-i-connect-to-ms-sql-and-oracle-databases-from-perl-when-the-credentials", "title": "How can I connect to MS SQL and Oracle databases from Perl when the credentials are stored in a separate file?", "body": "<p>I am on a RedHat machine with the Unix ODBC drivers installed. I have used a construct like the following to connect to MySQL databases for a long time:</p>\n\n<pre><code>my @connection_userTracking = (\n    \"DBI:mysql:;\" \n        . \"mysql_read_default_file=/var/www/.my.cnf;\" \n        . \"mysql_read_default_group=myProject\",\n    undef,\n    undef,\n    {   PrintError =&gt; 0,\n        RaiseError =&gt; 1,\n        AutoCommit =&gt; 1\n    }\n);\n</code></pre>\n\n<p>This lets me store my database credentials in a separate file instead of hard-coding them in my Perl script. I assume that there must be something similar for MS SQL and Oracle. What is the format of the connection string for each?</p>\n\n<p>I tried:</p>\n\n<pre><code>my @connection_MSSQL = (\n    \"DBI:ODBC:;\" \n        . \"mysql_read_default_file=/var/www/.my.cnf;\" \n        . \"mysql_read_default_group=myProjectMSSQL\",\n    undef,\n    undef,\n    {   PrintError =&gt; 0,\n        RaiseError =&gt; 1,\n        AutoCommit =&gt; 1\n    }\n);\n</code></pre>\n\n<p>with the DSN, username, and password in the config file but it barfs with the message: </p>\n\n<blockquote>\n  <p>failed: [unixODBC][Driver Manager]Data source name not found, and no default driver specified</p>\n</blockquote>\n\n<p>I added the DSN back to the code making the first line</p>\n\n<pre><code>\"DBI:ODBC:DSN=my.db.host.com;\"\n</code></pre>\n\n<p>and that barfs as well with the error</p>\n\n<blockquote>\n  <p>failed: [unixODBC][FreeTDS][SQL Server]Login failed for user ''</p>\n</blockquote>\n\n<p>I am not an expert with Linux ODBC so perhaps it is possible to put usernames and passwords in the system odbc.ini file but I don't like that. I would rather have project-specific files.</p>\n\n<p>Is this sort of thing possible for MS SQL and Oracle?</p>\n"}, {"tags": ["angularjs", "perl"], "comments": [{"owner": {"reputation": 21782, "user_id": 176646, "user_type": "registered", "accept_rate": 88, "profile_image": "https://i.stack.imgur.com/HsQyV.png?s=128&g=1", "display_name": "ThisSuitIsBlackNot", "link": "https://stackoverflow.com/users/176646/thissuitisblacknot"}, "edited": false, "score": 1, "creation_date": 1473368013, "post_id": 39399994, "comment_id": 66126102, "body": "Please show the rest of your Perl code. What you&#39;ve shown so far isn&#39;t enough to diagnose the problem."}, {"owner": {"reputation": 19434, "user_id": 509344, "user_type": "registered", "accept_rate": 20, "profile_image": "https://www.gravatar.com/avatar/3e8fbb1b0d7f6a4fd68676e1a344b23f?s=128&d=identicon&r=PG", "display_name": "shaunhusain", "link": "https://stackoverflow.com/users/509344/shaunhusain"}, "edited": false, "score": 0, "creation_date": 1473368070, "post_id": 39399994, "comment_id": 66126121, "body": "Check the PERL api from the command line using curl would also try without the special characters in the City to see if there is some sort of problem with the encoding when it attempts to JSON.parse the data out."}], "answers": [{"tags": [], "owner": {"reputation": 110113, "user_id": 168657, "user_type": "registered", "accept_rate": 92, "profile_image": "https://www.gravatar.com/avatar/f14e7610fca39322ebbf23530def15f8?s=128&d=identicon&r=PG", "display_name": "mob", "link": "https://stackoverflow.com/users/168657/mob"}, "is_accepted": true, "score": 1, "last_activity_date": 1473368678, "creation_date": 1473368678, "answer_id": 39400186, "question_id": 39399994, "link": "https://stackoverflow.com/questions/39399994/how-to-create-a-perl-api-to-pass-data-back-to-an-angularjs-http-request/39400186#39400186", "title": "How to create a Perl API to pass data back to an angularjs $http request?", "body": "<p>If <code>filename.pl</code> is invoked with HTTP, then it should be writing an <a href=\"https://www.w3.org/Protocols/rfc2616/rfc2616-sec6.html\" rel=\"nofollow\">HTTP response</a> to standard output. At a minimum:</p>\n\n<pre><code>print \"HTTP/1.1 200 OK\\n\";\nprint \"Content-type: application/json\\n\";\nprint \"\\n\";\n\nmy $string = q{{\"records\":{\"2\":{\"City\":\"M\u00c3\u00a9xico ...\"}}}};\nprint $string;\n</code></pre>\n\n<p>Several frameworks and modules exist in Perl and virtually every other language to handle the repetitive aspects of writing a proper response, which you will want to look into as your Perl server-side script gets more demanding.</p>\n"}], "owner": {"reputation": 312, "user_id": 3362428, "user_type": "registered", "accept_rate": 50, "profile_image": "https://www.gravatar.com/avatar/7202b5329254f5ae104377bbda1c1386?s=128&d=identicon&r=PG&f=1", "display_name": "meowsephine", "link": "https://stackoverflow.com/users/3362428/meowsephine"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 556, "favorite_count": 0, "accepted_answer_id": 39400186, "answer_count": 1, "score": 0, "last_activity_date": 1473368678, "creation_date": 1473367846, "question_id": 39399994, "link": "https://stackoverflow.com/questions/39399994/how-to-create-a-perl-api-to-pass-data-back-to-an-angularjs-http-request", "title": "How to create a Perl API to pass data back to an angularjs $http request?", "body": "<p>I'm using angular 1.5.7 and perl 5.16.2. I don't have the ability to use any external libraries or switch tools - I'm stuck just using what's included with these two. </p>\n\n<p>The angular controller is making calls to a perl file. I'm able to make POST requests successfully, and my GET requests are returning status 200 but aren't showing the data that I am expecting to see. Right now I'm just working with a simple example to try and narrow down where things are going wrong, and I think I just don't know the format to return values from the perl file.</p>\n\n<p>My controller GET method looks like so:</p>\n\n<pre><code>    $http({\n        method : \"GET\",\n        url : \"filename.pl\",\n        params:{}\n    }).then(function successCallback(response) {\n        console.log(response.records);\n    }, function errorCallback(response) {\n        console.log(response);\n    });\n</code></pre>\n\n<p>and the perl code being called in filename.pl is: </p>\n\n<pre><code>    my $string = q{{\"records\":{\"2\":{\"City\":\"M\u00c3\u00a9xico D.F.\",\"Country\":\"Mexico\",\"Name\":\"Ana Trujillo Emparedados y helados\"},\"1\":{\"Name\":\"Alfreds Futterkiste\",\"Country\":\"Germany\",\"City\":\"Berlin\"}}}};\n\n     return $string;\n</code></pre>\n\n<p>The string is just a dummy variable to see if passing things back works - it won't be the final data. I have verified it is valid JSON as well. Here's what the response from the server looks like:</p>\n\n<pre><code> {\"data\":\"\",\"status\":200,\"config\":{\"method\":\"GET\",\"transformRequest\":[null],\"transformResponse\":[null],\"url\":\"glwizardutils.esp\",\"params\":{\"FUNCTION\":\"initcheckboxes\",\"CONTEXTID\":\"432\"},\"headers\":{\"Accept\":\"application/json, text/plain, */*\"}},\"statusText\":\"OK\"}\n</code></pre>\n\n<p>The data field is totally blank, and the response field doesn't work at all. I can verify it's hitting the perl file - like I said, POST requests work fine and  I included some printouts that verify it's in the correct method, but it's just not returning anything. What should I be doing here instead to get this to work? </p>\n"}, {"tags": ["perl", "perl-data-structures"], "answers": [{"comments": [{"owner": {"reputation": 1, "user_id": 6441546, "user_type": "registered", "profile_image": "https://lh4.googleusercontent.com/-bGdcdNy0ArI/AAAAAAAAAAI/AAAAAAAAAFw/QnM-_F8EwtE/photo.jpg?sz=128", "display_name": "Andrew", "link": "https://stackoverflow.com/users/6441546/andrew"}, "edited": false, "score": 0, "creation_date": 1473367774, "post_id": 39399719, "comment_id": 66125972, "body": "Thank you very much for your help. I did : foreach (@{$interfaceDecodedJSON-&gt;{&#39;ins_api&#39;}-&gt;{outputs}{output}[0]{&zwnj;&#8203;body}{TABLE_interfac&zwnj;&#8203;e}{&#39;ROW_interface&#39;}}&zwnj;&#8203;) {   do something.. } ;"}], "tags": [], "owner": {"reputation": 320771, "user_id": 589924, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/b2cf53d5a3d25f95c0db4e025aed4153?s=128&d=identicon&r=PG", "display_name": "ikegami", "link": "https://stackoverflow.com/users/589924/ikegami"}, "is_accepted": false, "score": 0, "last_activity_date": 1473366743, "creation_date": 1473366743, "answer_id": 39399719, "question_id": 39399545, "link": "https://stackoverflow.com/questions/39399545/hashes-of-arrays-of-hashes-of-arrays/39399719#39399719", "title": "Hashes of Arrays of Hashes of Arrays", "body": "<pre><code>my $ROW_Interfaces = $output-&gt;{body}{TABLE_interface}{ROW_interface};\n\nfor my $ROW_Interfaces (@$ROW_Interfaces) {\n   ...\n}\n</code></pre>\n\n<p>It seems there can be more than one <code>output</code>, so you'll have to locate the appropriate one similarly.</p>\n"}, {"tags": [], "owner": {"reputation": 8273, "user_id": 1334695, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/431ae6e9f7610b9d6a6a6cdebd0244d5?s=128&d=identicon&r=PG", "display_name": "stevieb", "link": "https://stackoverflow.com/users/1334695/stevieb"}, "is_accepted": false, "score": 0, "last_activity_date": 1473367224, "creation_date": 1473367224, "answer_id": 39399857, "question_id": 39399545, "link": "https://stackoverflow.com/questions/39399545/hashes-of-arrays-of-hashes-of-arrays/39399857#39399857", "title": "Hashes of Arrays of Hashes of Arrays", "body": "<p>Similar to @ikegami's answer, but handles the multiple <code>output</code> entries. The <code>if defined...</code> is there as the structure isn't complete, and I wasn't sure if each entry had the same keys or not.</p>\n\n<pre><code>for my $output (@{ $VAR1-&gt;{ins_api}{outputs}{output} }){\n    for my $row_int (@{ $output-&gt;{body}{TABLE_interface}{ROW_interface} }){\n        print \"$row_int-&gt;{eth_frame}\\n\" if exists $row_int-&gt;{eth_frame};\n    }\n}\n</code></pre>\n"}], "owner": {"reputation": 1, "user_id": 6441546, "user_type": "registered", "profile_image": "https://lh4.googleusercontent.com/-bGdcdNy0ArI/AAAAAAAAAAI/AAAAAAAAAFw/QnM-_F8EwtE/photo.jpg?sz=128", "display_name": "Andrew", "link": "https://stackoverflow.com/users/6441546/andrew"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 50, "favorite_count": 0, "answer_count": 2, "score": -1, "last_activity_date": 1473375105, "creation_date": 1473366045, "last_edit_date": 1473375105, "question_id": 39399545, "link": "https://stackoverflow.com/questions/39399545/hashes-of-arrays-of-hashes-of-arrays", "title": "Hashes of Arrays of Hashes of Arrays", "body": "<p>I have the following output from hash in perl:</p>\n\n<pre><code>$VAR1 = {\n     'ins_api' =&gt; {\n          'sid' =&gt; 'eoc',\n          'outputs' =&gt; {\n              'output' =&gt; [\n                   {\n                   'body' =&gt; {\n                       'TABLE_interface' =&gt; {\n                            'ROW_interface' =&gt; [\n                                 {\n                                 'vdc_lvl_in_pkts' =&gt; 17081772,\n                                 'vdc_lvl_in_avg_bits' =&gt; 3128,\n                                 'eth_autoneg' =&gt; 'on',\n                                 'eth_speed' =&gt; '1000 Mb/s',\n                                 'admin_state' =&gt; 'up',\n                                 'vdc_lvl_out_mcast' =&gt; '65247',\n                                 'state' =&gt; 'up',\n                                 'eth_mtu' =&gt; '1500',\n                                 'eth_hw_addr' =&gt; '78ba.f9ad.b248',\n                                 'eth_mdix' =&gt; 'off',\n                                 'interface' =&gt; 'mgmt0',\n                                 'eth_ip_addr' =&gt; '10.56.32.84',\n                                 'eth_bw' =&gt; 1000000,\n                                 'vdc_lvl_in_avg_pkts' =&gt; '3',\n                                 'vdc_lvl_out_bytes' =&gt; '3463952330',\n                                 'vdc_lvl_in_ucast' =&gt; '7653891',\n                                 'eth_ip_prefix' =&gt; '10.',\n                                 'eth_rxload' =&gt; '1',\n                                 'eth_txload' =&gt; '1',\n                                 'eth_reliability' =&gt; '255',\n                                 'eth_dly' =&gt; 10,\n                                 'vdc_lvl_in_mcast' =&gt; '8742911',\n                                 'eth_ip_mask' =&gt; 24,\n                                 'eth_bia_addr' =&gt; '78ba.f9ad.b248',\n                                 'eth_duplex' =&gt; 'full',\n                                 'vdc_lvl_out_pkts' =&gt; '8668507',\n                                 'vdc_lvl_out_avg_pkts' =&gt; '1',\n                                 'vdc_lvl_in_bcast' =&gt; '684970',\n                                 'vdc_lvl_out_avg_bits' =&gt; '1840',\n                                 'medium' =&gt; 'broadcast',\n                                 'vdc_lvl_out_bcast' =&gt; '5',\n                                 'vdc_lvl_out_ucast' =&gt; '8603255',\n                                 'eth_ethertype' =&gt; '0x0000',\n                                 'vdc_lvl_in_bytes' =&gt; '1985125644',\n                                 'eth_hw_desc' =&gt; 'GigabitEthernet'\n                                },\n                                {\n                                 'eth_babbles' =&gt; '0',\n                                 'eth_outbytes' =&gt; '7362149107971',\n                                 'eth_outucast' =&gt; '16348249961',\n                                 'eth_clear_counters' =&gt; 'never',\n                                 'eth_watchdog' =&gt; '0',\n                                 'eth_inpkts' =&gt; 8644872191,\n                                 'eth_inbytes' =&gt; '3415386845315',\n                                 'eth_out_flowctrl' =&gt; 'off',\n                                 'eth_bad_proto' =&gt; '0',\n                                 'eth_frame' =&gt; '0',\n                                 ----- output omitted -------\n                                },\n</code></pre>\n\n<p>What would be the best way to loop via ROW_interface array and print some of the elements? I am just trying to get the elements in the ROW_interface array.</p>\n"}, {"tags": ["perl", "class", "grep", "character"], "comments": [{"owner": {"reputation": 8273, "user_id": 1334695, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/431ae6e9f7610b9d6a6a6cdebd0244d5?s=128&d=identicon&r=PG", "display_name": "stevieb", "link": "https://stackoverflow.com/users/1334695/stevieb"}, "edited": false, "score": 1, "creation_date": 1473367508, "post_id": 39398981, "comment_id": 66125825, "body": "could you kindly edit your question with a small piece of your input? It doesn&#39;t really make sense to be using <code>egrep</code> within a Perl script..."}], "answers": [{"tags": [], "owner": {"reputation": 1, "user_id": 6810846, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/23951d05c72c4c3d9c314108159125fb?s=128&d=identicon&r=PG&f=1", "display_name": "Marcos Camargo", "link": "https://stackoverflow.com/users/6810846/marcos-camargo"}, "is_accepted": false, "score": -1, "last_activity_date": 1473377285, "creation_date": 1473377285, "answer_id": 39401610, "question_id": 39398981, "link": "https://stackoverflow.com/questions/39398981/character-class-in-egrep-called-from-perl-isnt-recognized/39401610#39401610", "title": "Character class in egrep called from Perl isn&#39;t recognized", "body": "<p>This is the solution. I had to add LANG=en_US.UTF-8 in front of the command as shown below:</p>\n\n<pre><code>my @rows = `LANG=en_US.UTF-8 grep --include=\"image_args_search_*.txt\" --no-group-separator -P -r -i -I -H -A1 \"$operator\" .`;\n</code></pre>\n"}], "owner": {"reputation": 19, "user_id": 5373636, "user_type": "registered", "accept_rate": 0, "profile_image": "https://www.gravatar.com/avatar/2cf9b0858e73e7cc8f96ba38e752a4dc?s=128&d=identicon&r=PG&f=1", "display_name": "Marcos Camargo", "link": "https://stackoverflow.com/users/5373636/marcos-camargo"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 47, "favorite_count": 0, "answer_count": 1, "score": -1, "last_activity_date": 1473377285, "creation_date": 1473363659, "last_edit_date": 1473373378, "question_id": 39398981, "link": "https://stackoverflow.com/questions/39398981/character-class-in-egrep-called-from-perl-isnt-recognized", "title": "Character class in egrep called from Perl isn&#39;t recognized", "body": "<p><strong>emphasized text</strong>I am using egrep and character classes as shown below. The character class <code>[a\u00e3]</code> doesn't work unless I use <code>(a|\u00e3)</code>. What am I doing wrong?</p>\n\n<pre><code>my @rows = `egrep --no-group-separator -r -i -I -H -A1 \"^name#.*?jo[a\u00e3]o.*?#.*?#.*?#.*?#.*?\\$\" .`;\n</code></pre>\n\n<p>The files being searched are in UTF-8 format. Is that a problem? </p>\n\n<p>This is the line that I am trying to match. I use special characters with diacritics. The file was converted from CP1252 to UTF-8 using the iconv command in linux.</p>\n\n<p>name#<strong>Jo\u00e3o</strong> \u00c1lvares Batista#1751#Jos\u00e9 \u00c1lvares Vieira#Joana Rodrigues Barbosa#Maria da Concei\u00e7\u00e3o#bat.#101#http##</p>\n\n<p>This is my original code:\n    my @rows = <code>egrep --include=\"image_args_search_*.txt\" --no-group-separator -r -i -I -H -A1 \"$operator\" .</code>;</p>\n\n<p>where $operator is: <strong>^name#.<em>?j[O\u00d4\u00d2\u00d3\u00d5\u00d6o\u00f2\u00f3\u00f4\u00f5\u00f6][A\u00c0\u00c1\u00c2\u00c3\u00c4a\u00e0\u00e1\u00e2\u00e3\u00e4][O\u00d4\u00d2\u00d3\u00d5\u00d6o\u00f2\u00f3\u00f4\u00f5\u00f6].</em>?#.<em>?#.</em>?#.<em>?#.</em>?\\$</strong></p>\n\n<p>I think the problem is that the characters with accents in the egrep command are not matching the strings in the UTF-8 format files. How do I fix that?</p>\n\n<p>Thanks,</p>\n\n<p>Marc</p>\n"}, {"tags": ["perl", "date", "template-toolkit"], "comments": [{"owner": {"reputation": 320771, "user_id": 589924, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/b2cf53d5a3d25f95c0db4e025aed4153?s=128&d=identicon&r=PG", "display_name": "ikegami", "link": "https://stackoverflow.com/users/589924/ikegami"}, "edited": false, "score": 3, "creation_date": 1473362619, "post_id": 39398648, "comment_id": 66123387, "body": "It&#39;s the day before the first day of the next month, so add one month, then set the day to 1, then subtract one day."}, {"owner": {"reputation": 4044, "user_id": 1170839, "user_type": "registered", "accept_rate": 97, "profile_image": "https://www.gravatar.com/avatar/9a847ecf864b5a6fa9c5956b997bb006?s=128&d=identicon&r=PG", "display_name": "GoldenNewby", "link": "https://stackoverflow.com/users/1170839/goldennewby"}, "reply_to_user": {"reputation": 320771, "user_id": 589924, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/b2cf53d5a3d25f95c0db4e025aed4153?s=128&d=identicon&r=PG", "display_name": "ikegami", "link": "https://stackoverflow.com/users/589924/ikegami"}, "edited": false, "score": 0, "creation_date": 1473379360, "post_id": 39398648, "comment_id": 66129675, "body": "Agreed, that&#39;s the basic way to do it in perl... but I was looking for a way to do it in the template language itself."}], "answers": [{"tags": [], "owner": {"reputation": 4044, "user_id": 1170839, "user_type": "registered", "accept_rate": 97, "profile_image": "https://www.gravatar.com/avatar/9a847ecf864b5a6fa9c5956b997bb006?s=128&d=identicon&r=PG", "display_name": "GoldenNewby", "link": "https://stackoverflow.com/users/1170839/goldennewby"}, "is_accepted": true, "score": 0, "last_activity_date": 1473379619, "creation_date": 1473379619, "answer_id": 39401903, "question_id": 39398648, "link": "https://stackoverflow.com/questions/39398648/get-last-day-of-month-in-template-toolkit-datemanip/39401903#39401903", "title": "Get last day of month in Template Toolkit / Date::Manip", "body": "<p>The way I got this working was basically to load the Date::Calc module through the template toolkit plugin. Then I set \"last_day\" to the number of days in the month.</p>\n\n<p>The Days_in_Month call requires the date and month (to handle leap years), so I pass the result of date format.</p>\n\n<p><a href=\"https://metacpan.org/pod/DateTime::Format::Strptime\" rel=\"nofollow\">This is the doc containing the format for dates</a>, which is where I got %m.</p>\n\n<pre><code>[%\n\n    calc = date.calc;\n    last_day = calc.Days_in_Month(date.format(date.now(), \"%Y\"), date.format(date.now(), \"%m\"));\n\n%]\n</code></pre>\n\n<p>So to show a range of Month/Day that begins and ends within the current month, I do:</p>\n\n<pre><code>[% date.format(date.now(), \"%m/01\") %] - [% date.format(date.now(), \"%m/\") %][% last_day %]\n</code></pre>\n\n<p>... since the last day of the month will always be double digits, there's no need to pad it with zeros.</p>\n\n<p><em>Make sure you install the Date::Calc module. If you have it at all, Template Toolkit will load it.</em></p>\n"}], "owner": {"reputation": 4044, "user_id": 1170839, "user_type": "registered", "accept_rate": 97, "profile_image": "https://www.gravatar.com/avatar/9a847ecf864b5a6fa9c5956b997bb006?s=128&d=identicon&r=PG", "display_name": "GoldenNewby", "link": "https://stackoverflow.com/users/1170839/goldennewby"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 414, "favorite_count": 0, "accepted_answer_id": 39401903, "answer_count": 1, "score": 1, "last_activity_date": 1473379619, "creation_date": 1473362325, "question_id": 39398648, "link": "https://stackoverflow.com/questions/39398648/get-last-day-of-month-in-template-toolkit-datemanip", "title": "Get last day of month in Template Toolkit / Date::Manip", "body": "<p>I want to offer promotions on my site that always begin and end on the first and last days of the current month.</p>\n\n<p>Getting the first day of the month is trivial (it's always the first), but I'd like to also do the same for the last day of the month.</p>\n\n<p>In <a href=\"http://template-toolkit.org/docs/modules/Template/Plugin/Date.html\" rel=\"nofollow\">the docs</a> it mentions that you can use either Date::Manip or Date::Calc , but based on those documentations I'm not clear on the best way to accomplish this.</p>\n\n<p>What's the best way to show the last day of the month in Template Toolkit?</p>\n"}, {"tags": ["python", "perl", "biopython", "bioperl"], "comments": [{"owner": {"reputation": 142870, "user_id": 8747, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/b1ee0402d24625f555c25ea8511aad31?s=128&d=identicon&r=PG", "display_name": "Rob\u1d69", "link": "https://stackoverflow.com/users/8747/rob%e1%b5%a9"}, "edited": false, "score": 0, "creation_date": 1473363592, "post_id": 39398183, "comment_id": 66123923, "body": "There is no Fasta support in the standard libraries, and <a href=\"https://stackoverflow.com\">Stack Overflow</a> isn&#39;t a good resource for recommending anything outside the standard libraries. Having said that, it looks like <a href=\"https://pypi.python.org/pypi/pyfaidx\" rel=\"nofollow noreferrer\">pypi.python.org/pypi/pyfaidx</a> exists and is recently maintained. Good luck!"}], "answers": [{"tags": [], "owner": {"reputation": 6231, "user_id": 1688590, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/5h8db.jpg?s=128&g=1", "display_name": "xbello", "link": "https://stackoverflow.com/users/1688590/xbello"}, "is_accepted": true, "score": 1, "last_activity_date": 1473368659, "creation_date": 1473368659, "answer_id": 39400180, "question_id": 39398183, "link": "https://stackoverflow.com/questions/39398183/what-is-the-equivalent-function-in-biopython-for-bioperls-biodbfasta/39400180#39400180", "title": "What is the equivalent function in Biopython for BioPerl&#39;s Bio::DB::Fasta?", "body": "<p>You can find the IO for FASTA files at <a href=\"http://biopython.org/DIST/docs/api/Bio.SeqIO-module.html\" rel=\"nofollow\">http://biopython.org/DIST/docs/api/Bio.SeqIO-module.html</a></p>\n\n<p>About the indexing, I think Biopython doesn't handle '.fai' files like Bio::DB:Fasta. You can have a dictionary (like a perl hash) using the <code>SeqIO.index()</code> method. This is a quick example as shown in the docs:</p>\n\n<pre><code>from Bio import SeqIO\nrecord_dict = SeqIO.index(\"fasta_file.fas\", \"fasta\")\n\nprint(record_dict[\"ID of the fasta sequence\"])\n</code></pre>\n\n<p><code>SeqIO.index</code> creates a dict in memory to allow random access to each sequence. Read the docs to view the limitations of that dict: <a href=\"http://biopython.org/DIST/docs/api/Bio.File._IndexedSeqFileDict-class.html\" rel=\"nofollow\">http://biopython.org/DIST/docs/api/Bio.File._IndexedSeqFileDict-class.html</a></p>\n"}], "owner": {"reputation": 35, "user_id": 6810656, "user_type": "registered", "profile_image": "https://lh6.googleusercontent.com/-Rpj9QLEskuE/AAAAAAAAAAI/AAAAAAAAABY/dKGTUxpzoD0/photo.jpg?sz=128", "display_name": "Thefirefilou", "link": "https://stackoverflow.com/users/6810656/thefirefilou"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 123, "favorite_count": 0, "accepted_answer_id": 39400180, "answer_count": 1, "score": 1, "last_activity_date": 1473369297, "creation_date": 1473360473, "last_edit_date": 1473369297, "question_id": 39398183, "link": "https://stackoverflow.com/questions/39398183/what-is-the-equivalent-function-in-biopython-for-bioperls-biodbfasta", "title": "What is the equivalent function in Biopython for BioPerl&#39;s Bio::DB::Fasta?", "body": "<p>I'm translating a Perl code to a Python code using BioPython.</p>\n\n<p>I got something like:</p>\n\n<pre><code>my $db = Bio::DB::Fasta-&gt;new($path,$options)\n</code></pre>\n\n<p>and I'm looking for a similar function in Biopython. Is there anything like this?</p>\n"}, {"tags": ["perl"], "comments": [{"owner": {"reputation": 16405, "user_id": 6776093, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/heFeh.png?s=128&g=1", "display_name": "redneb", "link": "https://stackoverflow.com/users/6776093/redneb"}, "edited": false, "score": 1, "creation_date": 1473358865, "post_id": 39397702, "comment_id": 66121445, "body": "Try this <code>$b = sprintf &quot;%.0f&quot;, $len</code>."}, {"owner": {"reputation": 123805, "user_id": 622310, "user_type": "registered", "accept_rate": 33, "profile_image": "https://www.gravatar.com/avatar/8b6d35219e1808520bc238b28161e2e6?s=128&d=identicon&r=PG", "display_name": "Borodin", "link": "https://stackoverflow.com/users/622310/borodin"}, "edited": false, "score": 0, "creation_date": 1473358885, "post_id": 39397702, "comment_id": 66121455, "body": "What is the question? What is <code>$content</code>? What problem are you seeing?"}, {"owner": {"reputation": 8219, "user_id": 135605, "user_type": "registered", "accept_rate": 64, "profile_image": "https://www.gravatar.com/avatar/7c56ff86a79852b167d84b3838756fba?s=128&d=identicon&r=PG", "display_name": "somejkuser", "link": "https://stackoverflow.com/users/135605/somejkuser"}, "reply_to_user": {"reputation": 123805, "user_id": 622310, "user_type": "registered", "accept_rate": 33, "profile_image": "https://www.gravatar.com/avatar/8b6d35219e1808520bc238b28161e2e6?s=128&d=identicon&r=PG", "display_name": "Borodin", "link": "https://stackoverflow.com/users/622310/borodin"}, "edited": false, "score": 0, "creation_date": 1473359020, "post_id": 39397702, "comment_id": 66121530, "body": "@Borodin $content is the article content. i pass it through the split against two new lines. whats weird is i think my split on new lines is the problem."}, {"owner": {"reputation": 8219, "user_id": 135605, "user_type": "registered", "accept_rate": 64, "profile_image": "https://www.gravatar.com/avatar/7c56ff86a79852b167d84b3838756fba?s=128&d=identicon&r=PG", "display_name": "somejkuser", "link": "https://stackoverflow.com/users/135605/somejkuser"}, "reply_to_user": {"reputation": 16405, "user_id": 6776093, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/heFeh.png?s=128&g=1", "display_name": "redneb", "link": "https://stackoverflow.com/users/6776093/redneb"}, "edited": false, "score": 0, "creation_date": 1473359286, "post_id": 39397702, "comment_id": 66121671, "body": "@redneb does that turn into an integer? is there documentation on the %.0f part"}, {"owner": {"reputation": 16405, "user_id": 6776093, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/heFeh.png?s=128&g=1", "display_name": "redneb", "link": "https://stackoverflow.com/users/6776093/redneb"}, "edited": false, "score": 0, "creation_date": 1473359481, "post_id": 39397702, "comment_id": 66121771, "body": "<code>%.0f</code> means print a floating point number with 0 digits after the decimal point. If there are more digits, the number will be rounded. See the documentation of <a href=\"http://perldoc.perl.org/functions/sprintf.html\" rel=\"nofollow noreferrer\">sprintf</a>."}, {"owner": {"reputation": 320771, "user_id": 589924, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/b2cf53d5a3d25f95c0db4e025aed4153?s=128&d=identicon&r=PG", "display_name": "ikegami", "link": "https://stackoverflow.com/users/589924/ikegami"}, "edited": false, "score": 4, "creation_date": 1473359547, "post_id": 39397702, "comment_id": 66121794, "body": "<code>my $len = length @arr;</code> is surely wrong. (It&#39;s sets <code>$len</code> to the number of digits in the size of the array.) You want <code>my $len = @arr;</code>"}, {"owner": {"reputation": 320771, "user_id": 589924, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/b2cf53d5a3d25f95c0db4e025aed4153?s=128&d=identicon&r=PG", "display_name": "ikegami", "link": "https://stackoverflow.com/users/589924/ikegami"}, "edited": false, "score": 2, "creation_date": 1473360815, "post_id": 39397702, "comment_id": 66122470, "body": "Re &quot;<i>the page keeps breaking when I call it</i>&quot;, What error are you getting?"}, {"owner": {"reputation": 123805, "user_id": 622310, "user_type": "registered", "accept_rate": 33, "profile_image": "https://www.gravatar.com/avatar/8b6d35219e1808520bc238b28161e2e6?s=128&d=identicon&r=PG", "display_name": "Borodin", "link": "https://stackoverflow.com/users/622310/borodin"}, "edited": false, "score": 0, "creation_date": 1473362628, "post_id": 39397702, "comment_id": 66123393, "body": "Indeed, regarding <i>&quot;the page keeps breaking when I call it&quot;</i>. Are you writing a network application? What is the <b><i>page</i></b> that you speak of?"}], "answers": [{"tags": [], "owner": {"reputation": 123805, "user_id": 622310, "user_type": "registered", "accept_rate": 33, "profile_image": "https://www.gravatar.com/avatar/8b6d35219e1808520bc238b28161e2e6?s=128&d=identicon&r=PG", "display_name": "Borodin", "link": "https://stackoverflow.com/users/622310/borodin"}, "is_accepted": true, "score": 0, "last_activity_date": 1473362412, "creation_date": 1473362412, "answer_id": 39398672, "question_id": 39397702, "link": "https://stackoverflow.com/questions/39397702/am-i-using-the-round-function-correctly/39398672#39398672", "title": "Am I using the round function correctly?", "body": "<p>You don't say what you're hoping to do, but it's looking like you have a variable <code>$content</code> that is the result of a previous operation</p>\n\n<p>You think that data is structured in blocks with a blank line between the blocks, so you're splitting on the four-character sequence <code>\\n\\n</code> to put a block into each element of array <code>@arr</code></p>\n\n<p>(Please don't call arrays <code>@arr</code>. The <code>@</code> says it's an array and adding <code>arr</code> to that is pointless. The following characters are an opportunity for you to explain the nature of the data that your array contains, and it's a very valuable opportunity. I have no idea what your data contains: it may be the dates of the next two Sundays, or the number of the next lottery ticket. <code>@arr</code> says nothing at all.)</p>\n\n<p>In reality there are probably only two linefeed characters between the blocks, so <code>@arr</code> will contain the entirety of <code>$content</code> in a single element <code>$arr[0]</code></p>\n\n<p>The rest of your code looks like</p>\n\n<pre><code>my $len = length @arr;\n\n$len = $len / 2;\n\nmy $b = round($len) - 1;\n</code></pre>\n\n<p>I imagine you expect <code>$len</code> to be set to the number of elements in <code>@arr</code>. You do that by writing <code>my $len = @arr</code>. What you have written does something entirely different</p>\n\n<p>Then you want to halve whatever <code>$len</code> was set to, round it and subtract one</p>\n\n<p>This is looking like you're aiming to do something like a <em>merge sort</em>, and you need to split the array into two halves and process them recursively</p>\n\n<p>If I'm right, then <code>$len</code> will now be either an integer or an integer plus 0.5, and invoking <code>POSIX::round</code> is no better than a simple <code>int</code></p>\n\n<p>I've now made so many guesses that it's pointless to continue. If you explain your overall purpose then we will be able to help you much better</p>\n"}, {"comments": [{"owner": {"reputation": 123805, "user_id": 622310, "user_type": "registered", "accept_rate": 33, "profile_image": "https://www.gravatar.com/avatar/8b6d35219e1808520bc238b28161e2e6?s=128&d=identicon&r=PG", "display_name": "Borodin", "link": "https://stackoverflow.com/users/622310/borodin"}, "edited": false, "score": 0, "creation_date": 1473362767, "post_id": 39398704, "comment_id": 66123475, "body": "<b>ikegami</b> has already said <i>&quot;<code>my $len = length @arr;</code> is surely wrong. (It&#39;s sets <code>$len</code> to the number of digits in the size of the array.) You want <code>my $len = @arr;</code>&quot;</i> <a href=\"http://stackoverflow.com/questions/39397702/am-i-using-the-round-function-correctly/39398672#comment66121794_39397702\">in the comments above</a>. In any case I don&#39;t see how this is a solution to the question."}], "tags": [], "owner": {"reputation": 110113, "user_id": 168657, "user_type": "registered", "accept_rate": 92, "profile_image": "https://www.gravatar.com/avatar/f14e7610fca39322ebbf23530def15f8?s=128&d=identicon&r=PG", "display_name": "mob", "link": "https://stackoverflow.com/users/168657/mob"}, "is_accepted": false, "score": 0, "last_activity_date": 1473362767, "last_edit_date": 1473362767, "creation_date": 1473362534, "answer_id": 39398704, "question_id": 39397702, "link": "https://stackoverflow.com/questions/39397702/am-i-using-the-round-function-correctly/39398704#39398704", "title": "Am I using the round function correctly?", "body": "<p>Yes, but you are using the <code>length</code> function incorrectly.</p>\n\n<p><code>length @arr</code> does not return the size of array <code>@arr</code> as you might expect, it just returns the length of the size of <code>@arr</code>. To get the array length, you want to use <code>scalar @arr</code> or to \"evaluate <code>@arr</code> in scalar context\":</p>\n\n<pre><code>$len = scalar @arr;\n$len = @arr;           # assignment to scalar is \"scalar context\"\n</code></pre>\n\n<hr>\n\n<p>It's also not clear if you're using <code>split</code> correctly.</p>\n\n<pre><code>@arr = split /\\\\n\\\\n/, $content\n</code></pre>\n\n<p>splits on the literal string <code>\\n\\n</code>. If you want to split <code>$content</code> wherever there are consecutive newlines, you just want to say</p>\n\n<pre><code>@arr = split /\\n\\n/, $content\n</code></pre>\n"}], "owner": {"reputation": 8219, "user_id": 135605, "user_type": "registered", "accept_rate": 64, "profile_image": "https://www.gravatar.com/avatar/7c56ff86a79852b167d84b3838756fba?s=128&d=identicon&r=PG", "display_name": "somejkuser", "link": "https://stackoverflow.com/users/135605/somejkuser"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 54, "favorite_count": 0, "accepted_answer_id": 39398672, "answer_count": 2, "score": -4, "last_activity_date": 1473362767, "creation_date": 1473358707, "last_edit_date": 1473360811, "question_id": 39397702, "link": "https://stackoverflow.com/questions/39397702/am-i-using-the-round-function-correctly", "title": "Am I using the round function correctly?", "body": "<p>Here is my Perl code</p>\n\n<pre><code>use POSIX;\n\nmy @arr = split(/\\\\n\\\\n/, $content);\n\nmy $len = length @arr;\n\n$len = $len / 2;\n\nmy $b = round($len) - 1;\n</code></pre>\n\n<p>At the top of my script I have <code>use POSIX</code>. I once had <code>use Math::Round</code> but that didn't work.</p>\n\n<p>I'm trying to use the <code>round</code> function but the page keeps breaking when I call it.</p>\n"}, {"tags": ["regex", "perl"], "comments": [{"owner": {"reputation": 16405, "user_id": 6776093, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/heFeh.png?s=128&g=1", "display_name": "redneb", "link": "https://stackoverflow.com/users/6776093/redneb"}, "edited": false, "score": 1, "creation_date": 1473359176, "post_id": 39397627, "comment_id": 66121613, "body": "Your question is not very clear. Can your try to clarify it? For example, what do specifically are you trying to extract from the example data that you gave? Are you only interested in the <code>SCAN</code> lines? If so, are you only interested in <code>SCAN</code> lines for which the numbers differ?"}, {"owner": {"reputation": 37822, "user_id": 1231450, "user_type": "registered", "accept_rate": 87, "profile_image": "https://www.gravatar.com/avatar/b9c98b4ce12bf9fd925d8c35c8861bb2?s=128&d=identicon&r=PG", "display_name": "Jan", "link": "https://stackoverflow.com/users/1231450/jan"}, "edited": false, "score": 1, "creation_date": 1473360222, "post_id": 39397627, "comment_id": 66122159, "body": "Even a demigod is able to provide <b><i>real world input strings</i></b>."}, {"owner": {"reputation": 142005, "user_id": 465183, "user_type": "registered", "accept_rate": 77, "profile_image": "https://www.gravatar.com/avatar/3b518a0ea4c992cfe9965671d0139ba4?s=128&d=identicon&r=PG", "display_name": "Gilles Quenot", "link": "https://stackoverflow.com/users/465183/gilles-quenot"}, "edited": false, "score": 2, "creation_date": 1473361343, "post_id": 39397627, "comment_id": 66122737, "body": "Better provide the sample output"}, {"owner": {"reputation": 93, "user_id": 6394069, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/6331d76e56baf9d9f25173d418aea001?s=128&d=identicon&r=PG&f=1", "display_name": "D.A.", "link": "https://stackoverflow.com/users/6394069/d-a"}, "reply_to_user": {"reputation": 142005, "user_id": 465183, "user_type": "registered", "accept_rate": 77, "profile_image": "https://www.gravatar.com/avatar/3b518a0ea4c992cfe9965671d0139ba4?s=128&d=identicon&r=PG", "display_name": "Gilles Quenot", "link": "https://stackoverflow.com/users/465183/gilles-quenot"}, "edited": false, "score": 0, "creation_date": 1473368606, "post_id": 39397627, "comment_id": 66126352, "body": "@GillesQuenot added"}, {"owner": {"reputation": 93, "user_id": 6394069, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/6331d76e56baf9d9f25173d418aea001?s=128&d=identicon&r=PG&f=1", "display_name": "D.A.", "link": "https://stackoverflow.com/users/6394069/d-a"}, "reply_to_user": {"reputation": 16405, "user_id": 6776093, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/heFeh.png?s=128&g=1", "display_name": "redneb", "link": "https://stackoverflow.com/users/6776093/redneb"}, "edited": false, "score": 0, "creation_date": 1473368742, "post_id": 39397627, "comment_id": 66126421, "body": "@redneb I edited the question tell me if it&#39;s clearer now"}], "answers": [{"comments": [{"owner": {"reputation": 93, "user_id": 6394069, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/6331d76e56baf9d9f25173d418aea001?s=128&d=identicon&r=PG&f=1", "display_name": "D.A.", "link": "https://stackoverflow.com/users/6394069/d-a"}, "edited": false, "score": 0, "creation_date": 1473408026, "post_id": 39400304, "comment_id": 66138293, "body": "The output needs to be two arrays cause I need to conserve the order of two values so two hashes with scan as keys and arrays as value or multi dimensional where I attach two array to the same hash. also the files are pretty long (51000 scans more or less) with couple of thousands of rows between them (different length) so I need to be able dinamically to catch everything that&#39;s numeric but conserving the order between them"}, {"owner": {"reputation": 2119, "user_id": 3196458, "user_type": "registered", "profile_image": "https://graph.facebook.com/100005547696898/picture?type=large", "display_name": "blackpen", "link": "https://stackoverflow.com/users/3196458/blackpen"}, "reply_to_user": {"reputation": 93, "user_id": 6394069, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/6331d76e56baf9d9f25173d418aea001?s=128&d=identicon&r=PG&f=1", "display_name": "D.A.", "link": "https://stackoverflow.com/users/6394069/d-a"}, "edited": false, "score": 0, "creation_date": 1473787554, "post_id": 39400304, "comment_id": 66270660, "body": "@D.A., I added another answer that preserves the order of scanlines within each scan number. I left the first answer as-is in order for  you to be able to select whichever suits your needs most."}], "tags": [], "owner": {"reputation": 2119, "user_id": 3196458, "user_type": "registered", "profile_image": "https://graph.facebook.com/100005547696898/picture?type=large", "display_name": "blackpen", "link": "https://stackoverflow.com/users/3196458/blackpen"}, "is_accepted": false, "score": 0, "last_activity_date": 1473410523, "last_edit_date": 1473410523, "creation_date": 1473369219, "answer_id": 39400304, "question_id": 39397627, "link": "https://stackoverflow.com/questions/39397627/regex-perl-capture-between-two-same-tags-across-multiple-lines-in-perl/39400304#39400304", "title": "regex perl capture between two same tags across multiple lines in perl", "body": "<p>Try the following. I hope this provides a solution, at least half way towards your needs. Suggest modifications (or modify yourself) to make it a complete match as per your requirements.</p>\n\n<p>Here is sample data:</p>\n\n<pre><code>H string\nH string\nH string\nSCAN 00001 00001\nI string\nI string\n432.203 194090 0\n221.332 983451 0\nSCAN 00002 00002\nH string\nH string\nH string\nSCAN 00001 00003\nI string\nI string\n521.193 182233 0\n522.103 171211 0\nSCAN 00004 00004\n</code></pre>\n\n<p>This is the script:</p>\n\n<pre><code>#!/usr/bin/perl -w\nuse strict;\n\n\n# Store information about scans in the form of hash of hashes\nmy %scans=();\n\n# The current scan number\nmy $scannumber=\"\";\n\nwhile (my $line=&lt;&gt;) {\n\n   chomp($line);\n   #print \"Current Line: $line\\n\";\n\n   if ($line=~m/^SCAN (\\d+) (\\g1)/) {\n      $scannumber=\"$1\";\n      #print \"New Scan: $scannumber\\n\";\n   }\n   elsif ($line=~m/^(\\d+.\\d+) (\\d+)/) {\n      my ($key,$val)=(\"$1\",\"$2\");\n      #print \"$key : $val\\n\";\n      $scans{$scannumber}{$key}=$val;\n   }\n\n}\n\n\n## You are ready to print the hash of hashes now\n#\nfor my $scannumber (sort keys %scans) {\n\n   for my $key (sort keys %{$scans{$scannumber}}) {\n\n      my $val=$scans{$scannumber}{$key};\n      print \"$scannumber : $key : $val\\n\";\n   }\n}\n\n\n## You could also print the hash of hashes like this\n#\nuse Data::Dumper;\n\n$Data::Dumper::Terse = 1;\n$Data::Dumper::Indent = 2;\n\nprint \"\\n\\n\";\nprint Dumper(\\%scans);\n</code></pre>\n\n<p>Sample run of the script:</p>\n\n<pre><code>~&gt; cat data1 | ./script.pl\n00001 : 221.332 : 983451\n00001 : 432.203 : 194090\n00002 : 521.193 : 182233\n00002 : 522.103 : 171211\n\n\n{\n  '00002' =&gt; {\n               '522.103' =&gt; '171211',\n               '521.193' =&gt; '182233'\n             },\n  '00001' =&gt; {\n               '221.332' =&gt; '983451',\n               '432.203' =&gt; '194090'\n             }\n}\n</code></pre>\n"}, {"tags": [], "owner": {"reputation": 2119, "user_id": 3196458, "user_type": "registered", "profile_image": "https://graph.facebook.com/100005547696898/picture?type=large", "display_name": "blackpen", "link": "https://stackoverflow.com/users/3196458/blackpen"}, "is_accepted": false, "score": 0, "last_activity_date": 1473787458, "creation_date": 1473787458, "answer_id": 39475744, "question_id": 39397627, "link": "https://stackoverflow.com/questions/39397627/regex-perl-capture-between-two-same-tags-across-multiple-lines-in-perl/39475744#39475744", "title": "regex perl capture between two same tags across multiple lines in perl", "body": "<p>Here is the script to do it as two hashes of arrays. They preserve the order of scan lines within each scan number. Give it a try and see if it serves your needs.</p>\n\n<pre><code>#!/usr/bin/perl -w\nuse strict;\n\nmy %m=();\nmy %in=();\nmy $sn=\"\";\n\nwhile (my $line=&lt;&gt;) {\n   chomp($line);\n\n   if ($line=~m/^SCAN (\\d+) (\\g1)/) {\n     $sn=\"$1\";\n   }\n   elsif ($line=~m/^(\\d+.\\d+) (\\d+)/) {\n     push(@{$m{$sn}},$1); push(@{$in{$sn}},$2);\n   }\n}\n\n\n## You could also print the hash of hashes like this\n#\nuse Data::Dumper;\n$Data::Dumper::Terse = 1;\n$Data::Dumper::Indent = 2;\n$Data::Dumper::Sortkeys = 1;\n\nprint \"Here is the dump of results:\\n\";\nprint \"m = \".(Dumper(\\%m)).\"\\nin = \".(Dumper(\\%in));\n\n\n## Printing manually\n#\nprint \"\\nHere is how you can print them manually:\\n\";\nfor my $sn (sort keys %m) {\n   for my $i (0..scalar(@{$m{$sn}})-1) {\n      print \"ScanNumber&lt;$sn&gt; First&lt;$m{$sn}[$i]&gt; Second&lt;$in{$sn}[$i]&gt;\\n\";\n   }\n}\n</code></pre>\n\n<p>Here is the sample data:</p>\n\n<pre><code>H string\nH string\nH string\nSCAN 00001 00001\nI string\nI string\n100.100 100000 0\n200.200 200000 0\nSCAN 00002 00002\nH string\nH string\nH string\n300.300 300000 0\n400.400 400000 0\n500.500 500000 0\n600.600 600000 0\n700.700 700000 0\n800.800 800000 0\n900.900 900000 0\nSCAN 00001 00003\n</code></pre>\n\n<p>Here is output of command run as: <em>./script.pl &lt; data</em></p>\n\n<pre><code>Here is the dump of results:\nm = {\n  '00001' =&gt; [\n               '100.100',\n               '200.200'\n             ],\n  '00002' =&gt; [\n               '300.300',\n               '400.400',\n               '500.500',\n               '600.600',\n               '700.700',\n               '800.800',\n               '900.900'\n             ]\n}\n\nin = {\n  '00001' =&gt; [\n               '100000',\n               '200000'\n             ],\n  '00002' =&gt; [\n               '300000',\n               '400000',\n               '500000',\n               '600000',\n               '700000',\n               '800000',\n               '900000'\n             ]\n}\n\nHere is how you can print them manually:\nScanNumber&lt;00001&gt; First&lt;100.100&gt; Second&lt;100000&gt;\nScanNumber&lt;00001&gt; First&lt;200.200&gt; Second&lt;200000&gt;\nScanNumber&lt;00002&gt; First&lt;300.300&gt; Second&lt;300000&gt;\nScanNumber&lt;00002&gt; First&lt;400.400&gt; Second&lt;400000&gt;\nScanNumber&lt;00002&gt; First&lt;500.500&gt; Second&lt;500000&gt;\nScanNumber&lt;00002&gt; First&lt;600.600&gt; Second&lt;600000&gt;\nScanNumber&lt;00002&gt; First&lt;700.700&gt; Second&lt;700000&gt;\nScanNumber&lt;00002&gt; First&lt;800.800&gt; Second&lt;800000&gt;\nScanNumber&lt;00002&gt; First&lt;900.900&gt; Second&lt;900000&gt;\n</code></pre>\n"}], "owner": {"reputation": 93, "user_id": 6394069, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/6331d76e56baf9d9f25173d418aea001?s=128&d=identicon&r=PG&f=1", "display_name": "D.A.", "link": "https://stackoverflow.com/users/6394069/d-a"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 81, "favorite_count": 0, "answer_count": 2, "score": 1, "last_activity_date": 1473787458, "creation_date": 1473358430, "last_edit_date": 1473409530, "question_id": 39397627, "link": "https://stackoverflow.com/questions/39397627/regex-perl-capture-between-two-same-tags-across-multiple-lines-in-perl", "title": "regex perl capture between two same tags across multiple lines in perl", "body": "<p>I 've a lot of tab delimited text files where I need to capture everything between the same words across the test, the input looks like this</p>\n\n<pre><code>H string\nH string\nH string\nSCAN 00001 00001\nI string\nI string\n432.203 194090 0\nSCAN 00002 00002\n</code></pre>\n\n<p>with the same pattern (several lines starting with I and then the numbers I need to capture) the scans are ordered from lowest to highest and they are unique. between two \"SCAN\" there are only numbers divided in 3 column space delimited and I need to extract the first and second number, between two scans there are circa two-three thousands rows composed by 3 numbers.</p>\n\n<p>I'm not the god of regular expression but I was trying with this</p>\n\n<pre><code>while (&lt;$fh_2&gt;)\n{\nchomp;\nnext if (/^H/);\n\nmy $sc;\n\nif (/(^S.+[\\d]+)/../^S.+[\\d]+/ms) #while we are between two ^S\n{\nmy @sc_line= split /\\s/, $1; #capture the scan number\n$sc= pop @sc_line;\nif (/(^[\\d]+\\.?[\\d]*)/) # if there are numbers (m) at the start \n   {\n    my @lines = split /\\s/, $_;\n    push @ms, $1; #capture the first number\n    push @int, $lines[1]; #capture the second number (i)\n    $m{$sc} = [@ms]; #create hash of array\n    $in{$sc}= [@int];\n   }\n}\n</code></pre>\n\n<p>The main problem is that I want to have everything after a particular scan be matched to that scan somehow but due to the fact that the pattern is the same I found tricky to write it.</p>\n\n<p>The output has to be an hash of arrays or multi dimensional hash where for every scan I can associate every first number (m) and (i) number, it can be two separate hashes or not it does not matter as long as I can retrieve the arrays from the scan number.<br>\nEDIT: I solved it in another way</p>\n\n<pre><code>while (&lt;$fh_2&gt;)\n{\nchomp;\n\nnext if (/^H/);\n\nif (/^S/) \n{ \nmy @sc_line= split /\\s/, $_;\nmy $sc_= pop @sc_line;\npush @sc, $sc_;\npush @count, scalar @int;\n}\n    elsif (/(^[\\d]+\\.?[\\d]*)/)\n    {\n    my @lines = split /\\s/, $_;\n    push @ms, $1;\n    push @int, $lines[1];\n    }\n\n}\nclose $fh_2;\n</code></pre>\n\n<p>I'm using indexes for getting the number of element of @int (or @ms) everytime @sc gets a new element, it was silly to not think about it at first.\nStill interested to see if there is any TIMTOWTDI magic going on.</p>\n"}, {"tags": ["perl", "controller", "catalyst"], "answers": [{"comments": [{"owner": {"reputation": 50468, "user_id": 1331451, "user_type": "registered", "accept_rate": 96, "profile_image": "https://i.stack.imgur.com/4ZPmj.png?s=128&g=1", "display_name": "simbabque", "link": "https://stackoverflow.com/users/1331451/simbabque"}, "edited": false, "score": 0, "creation_date": 1473412532, "post_id": 39401915, "comment_id": 66140745, "body": "I&#39;d go with the second suggestion, but as two statements, not with the <code>&amp;&amp;</code>. That&#39;s easier to read."}, {"owner": {"reputation": 8942, "user_id": 14750, "user_type": "registered", "accept_rate": 50, "profile_image": "https://www.gravatar.com/avatar/1259cb9901b6d9caf5aeda812927d111?s=128&d=identicon&r=PG", "display_name": "RET", "link": "https://stackoverflow.com/users/14750/ret"}, "reply_to_user": {"reputation": 50468, "user_id": 1331451, "user_type": "registered", "accept_rate": 96, "profile_image": "https://i.stack.imgur.com/4ZPmj.png?s=128&g=1", "display_name": "simbabque", "link": "https://stackoverflow.com/users/1331451/simbabque"}, "edited": false, "score": 1, "creation_date": 1473413977, "post_id": 39401915, "comment_id": 66141603, "body": "I suspect now the OP understands why what he had wasn&#39;t working and why, he&#39;ll be right. But I&#39;m not convinced that &quot;redirect and detach&quot; isn&#39;t perfectly readable and clear. That&#39;s why we love perl though - TIMTOWTDI :-)"}, {"owner": {"reputation": 123, "user_id": 3053321, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/de4cf8589c7dc7b08baab0178338c9f8?s=128&d=identicon&r=PG&f=1", "display_name": "user188757", "link": "https://stackoverflow.com/users/3053321/user188757"}, "edited": false, "score": 0, "creation_date": 1473419946, "post_id": 39401915, "comment_id": 66144951, "body": "Well, I did manage to figure this out yesterday. Soon after I posed the question it hit me that a return statement would stop code execution. I still think I prefer option #2 now that I understand a little better. Thank you"}], "tags": [], "owner": {"reputation": 8942, "user_id": 14750, "user_type": "registered", "accept_rate": 50, "profile_image": "https://www.gravatar.com/avatar/1259cb9901b6d9caf5aeda812927d111?s=128&d=identicon&r=PG", "display_name": "RET", "link": "https://stackoverflow.com/users/14750/ret"}, "is_accepted": true, "score": 3, "last_activity_date": 1473380054, "last_edit_date": 1473380054, "creation_date": 1473379723, "answer_id": 39401915, "question_id": 39397059, "link": "https://stackoverflow.com/questions/39397059/perl-catalyst-controller-redirect-not-working/39401915#39401915", "title": "Perl catalyst controller redirect not working", "body": "<p>From the <a href=\"https://metacpan.org/pod/Catalyst::Response#res-redirect-url-status\" rel=\"nofollow\">fine manual</a>...</p>\n\n<blockquote>\n  <p>This is a convenience method that sets the Location header to the redirect destination, and then sets the response status. You will want to <code>return</code> or <code>$c-&gt;detach()</code> to interrupt the normal processing flow if you want the redirect to occur straight away.</p>\n</blockquote>\n\n<p>Note also the warning on that manual page about redirecting to a relative URL - you shouldn't do it. For your use-case, I'd recommend getting into the habit of using:</p>\n\n<pre><code>return $c-&gt;res-&gt;redirect($c-&gt;uri_for('qbo/home'));\n</code></pre>\n\n<p>or</p>\n\n<pre><code>$c-&gt;res-&gt;redirect($c-&gt;uri_for('qbo/home')) &amp;&amp; $c-&gt;detach();\n</code></pre>\n\n<p>depending on your preference.</p>\n"}], "owner": {"reputation": 123, "user_id": 3053321, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/de4cf8589c7dc7b08baab0178338c9f8?s=128&d=identicon&r=PG&f=1", "display_name": "user188757", "link": "https://stackoverflow.com/users/3053321/user188757"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 439, "favorite_count": 0, "accepted_answer_id": 39401915, "answer_count": 1, "score": 3, "last_activity_date": 1473380054, "creation_date": 1473356081, "question_id": 39397059, "link": "https://stackoverflow.com/questions/39397059/perl-catalyst-controller-redirect-not-working", "title": "Perl catalyst controller redirect not working", "body": "<p>I have looked over this code and I can not understand the weirdness it exhibits. For a lack of understanding all I know</p>\n\n<pre><code>$c-&gt;res-&gt;redirect('qbo/home');\n</code></pre>\n\n<p>is being ignored, in favor of the redirect in the following if <strong>else</strong> condition. In other words, I always end up at the OAuthentication website. </p>\n\n<p>If I block comment out the else condition I end up where I want to go <strong>qbo/home</strong> </p>\n\n<pre><code>sub index :Path :Args(0) {\n    my ($self, $c) = @_;\n\n    # Check to see if we have QBO::OAuth object in our user's session\n    # Create new object in session if we don't already have one\n    if(!($c-&gt;session-&gt;{qbo})) {\n            $c-&gt;log-&gt;info('Creating QBO::OAuth, save in user session');\n            $c-&gt;session-&gt;{qbo} = QBO::OAuth-&gt;new(\n                    consumer_key =&gt; 'qyprddKpLkOclitN3cJCJno1fV5NzcT',\n                    consumer_secret =&gt; 'ahwpSghVOzA142qOepNHoujyuHQFDbEzeGbZjEs3sPIc',\n            );\n    }\n\n    # Now we set our object variable to the session old or new\n    my $qbo = $c-&gt;session-&gt;{qbo};\n    ######### GOTO 'qbo/home' ##########\n    $c-&gt;res-&gt;redirect('qbo/home');\n    ####################################\n    if($c-&gt;req-&gt;params-&gt;{oauth_token}) {\n            $c-&gt;log-&gt;info('Now Redirect to access_endpoint');\n            # Get realmId and save it to our QBO::OAuth object in user session\n            $qbo-&gt;realmId($c-&gt;req-&gt;params-&gt;{realmId});\n            # Call QBO::OAuth-&gt;request_access_token\n            my $r = $qbo-&gt;request_access_token($c-&gt;req-&gt;params-&gt;{oauth_verifier});\n            $c-&gt;res-&gt;redirect('qbo/home');\n    } else {\n            my $callback = 'http://www.example.com/qbo';\n            # Request a token\n            my $r = $qbo-&gt;request_token($callback);\n            if($qbo-&gt;has_token) {\n                    #Continue on down, Redirect to auth_user_endpoint\n                    $c-&gt;res-&gt;redirect($qbo-&gt;auth_user_endpoint . '?oauth_token=' . $qbo-&gt;token);\n            }\n    }\n}\n</code></pre>\n\n<p>Seems I am missing some basic fundamental about how this works. Any clues appreciated</p>\n"}, {"tags": ["perl", "module"], "answers": [{"tags": [], "owner": {"reputation": 8273, "user_id": 1334695, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/431ae6e9f7610b9d6a6a6cdebd0244d5?s=128&d=identicon&r=PG", "display_name": "stevieb", "link": "https://stackoverflow.com/users/1334695/stevieb"}, "is_accepted": false, "score": 1, "last_activity_date": 1473357373, "creation_date": 1473357373, "answer_id": 39397367, "question_id": 39396380, "link": "https://stackoverflow.com/questions/39396380/accessing-vars-from-the-perl-script-from-inside-the-external-perl-package/39397367#39397367", "title": "Accessing vars from the perl script from inside the external perl package", "body": "<p>The whole purpose of being able to break programs down into smaller pieces (classes, modules, subroutines etc), is so that we can minimize and in many cases eliminate sharing global variables. Won't setting up your subroutine to accept parameters work?</p>\n\n<p><code>Module.pm</code></p>\n\n<pre><code>package Module;\n\nuse Exporter qw(import);\nour @EXPORT_OK = qw(my_sub);\n\nsub my_sub {\n    my ($param) = @_;\n    return \"Answer is: $param\\n\";\n}\n1;\n</code></pre>\n\n<p><code>script.pl</code></p>\n\n<pre><code>use warnings;\nuse strict;\n\nuse Module qw(my_sub);\n\nmy $string = \"hello, world!\\n\";\n\nmy $return = my_sub($string);\n\nprint $return;\n</code></pre>\n\n<p>Output:</p>\n\n<pre><code>Answer is: hello, world!\n</code></pre>\n"}], "owner": {"reputation": 466, "user_id": 4895979, "user_type": "registered", "accept_rate": 94, "profile_image": "https://i.stack.imgur.com/uFYyR.png?s=128&g=1", "display_name": "Arsenii", "link": "https://stackoverflow.com/users/4895979/arsenii"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 39, "favorite_count": 0, "answer_count": 1, "score": 0, "last_activity_date": 1473357373, "creation_date": 1473353286, "last_edit_date": 1473354155, "question_id": 39396380, "link": "https://stackoverflow.com/questions/39396380/accessing-vars-from-the-perl-script-from-inside-the-external-perl-package", "title": "Accessing vars from the perl script from inside the external perl package", "body": "<p>I have a perl script and a perl module (just simple skeletons) as shown below:</p>\n\n<p><strong>module.pm</strong></p>\n\n<pre><code>package My::Package;\nuse strict;\nsub mySub() {\nreturn \"Answer is: \".$checkIt;\n}\n1\n</code></pre>\n\n<p><strong>script.pl</strong></p>\n\n<pre><code>#!/usr/bin/env perl\nuse strict;\nmy $checkIt = \"someTextHere\";\nrequire My::Package;\nprint mySub(); #or print My::Package-&gt;mySub();\n</code></pre>\n\n<p>But it returns just <code>Answer is:</code> \nI need My::Package (module.pm) to be able to load vars from the caller script (script.pl), like $checkIt.\nCan you help me with this, please?</p>\n\n<p>Any help is appreciated!</p>\n"}, {"tags": ["perl", "attributes", "accessor", "moose", "moo"], "answers": [{"comments": [{"owner": {"reputation": 4450, "user_id": 856090, "user_type": "registered", "accept_rate": 55, "profile_image": "https://www.gravatar.com/avatar/fa49a1c90a6af7544d764c5b22ff780d?s=128&d=identicon&r=PG", "display_name": "porton", "link": "https://stackoverflow.com/users/856090/porton"}, "edited": false, "score": 0, "creation_date": 1473354355, "post_id": 39396237, "comment_id": 66119175, "body": "Use of uninitialized value in say at ./test2.pl line 27."}, {"owner": {"reputation": 320771, "user_id": 589924, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/b2cf53d5a3d25f95c0db4e025aed4153?s=128&d=identicon&r=PG", "display_name": "ikegami", "link": "https://stackoverflow.com/users/589924/ikegami"}, "reply_to_user": {"reputation": 4450, "user_id": 856090, "user_type": "registered", "accept_rate": 55, "profile_image": "https://www.gravatar.com/avatar/fa49a1c90a6af7544d764c5b22ff780d?s=128&d=identicon&r=PG", "display_name": "porton", "link": "https://stackoverflow.com/users/856090/porton"}, "edited": false, "score": 0, "creation_date": 1473354750, "post_id": 39396237, "comment_id": 66119358, "body": "Cool, seems to have worked. You&#39;d get something prettier if you actually gave it a value first. Updated."}], "tags": [], "owner": {"reputation": 320771, "user_id": 589924, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/b2cf53d5a3d25f95c0db4e025aed4153?s=128&d=identicon&r=PG", "display_name": "ikegami", "link": "https://stackoverflow.com/users/589924/ikegami"}, "is_accepted": false, "score": 1, "last_activity_date": 1473354795, "last_edit_date": 1473354795, "creation_date": 1473352795, "answer_id": 39396237, "question_id": 39395477, "link": "https://stackoverflow.com/questions/39395477/perl-moo-dynamically-generated-accessors/39396237#39396237", "title": "Perl Moo, dynamically generated accessors", "body": "<p>Moo's <code>has</code> doesn't seem to have an <code>accessor</code> option.</p>\n\n<pre><code>#!/usr/bin/perl\n\npackage X;\n\nuse Moo;\nuse feature qw( say );\n\nfor my $attr_name (qw( zz )) {\n   eval(&lt;&lt;'__EOS__' =~ s/ATTR_NAME/$attr_name/gr) or die($@);\n      sub ATTR_NAME {\n          my $self = shift;\n          @_ ? $self-&gt;_set_ATTR_NAME($_[0]) : $self-&gt;_get_ATTR_NAME()\n      }\n\n      1;  # No exception\n__EOS__\n\n   has $attr_name =&gt; (\n      is       =&gt; 'rw',\n      required =&gt; 0,\n      reader   =&gt; '_get_'.$attr_name,\n      writer   =&gt; '_set_'.$attr_name,\n   );\n}\n\nmy $obj = X-&gt;new;\n$obj-&gt;zz(\"abc\");\nsay $obj-&gt;zz;\n</code></pre>\n\n<p>Untested.</p>\n"}], "owner": {"reputation": 4450, "user_id": 856090, "user_type": "registered", "accept_rate": 55, "profile_image": "https://www.gravatar.com/avatar/fa49a1c90a6af7544d764c5b22ff780d?s=128&d=identicon&r=PG", "display_name": "porton", "link": "https://stackoverflow.com/users/856090/porton"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 232, "favorite_count": 0, "answer_count": 1, "score": 1, "last_activity_date": 1473354795, "creation_date": 1473350184, "question_id": 39395477, "link": "https://stackoverflow.com/questions/39395477/perl-moo-dynamically-generated-accessors", "title": "Perl Moo, dynamically generated accessors", "body": "<p>I try to turn Perl closures into Moo accessors, as in the following code. Unfortunately the code works with Moose but throws an exception with Moo.</p>\n\n<p>Please help me to write a Moo code with read and write accessors defined by Perl closures (not the default accessors which just read and store a simple value, but accessors reading and writing which should call my closures).</p>\n\n<pre><code>#!/usr/bin/perl\n\npackage X;\nuse Moo;\n\nmy $BusinessClass = \"X\";\nmy $Key = 'zz';\n\nno strict 'refs';\n*{\"${BusinessClass}::access_$Key\"} = sub { \"Modified $Key\" };\nhas $Key =&gt; ( is        =&gt; 'rw',\n              required  =&gt; 0,\n              accessor  =&gt; { $Key =&gt; \\&amp;{\"${BusinessClass}::access_$Key\"} },\n              # predicate =&gt; { \"has_$Key\",\\&amp;{\"${BusinessClass}::access2_$Key\"} },\n            );\n\nmy $obj = X-&gt;new;\nprint $obj-&gt;zz, \"\\n\";\n</code></pre>\n"}, {"tags": ["regex", "perl", "smartmatch"], "comments": [{"owner": {"reputation": 50468, "user_id": 1331451, "user_type": "registered", "accept_rate": 96, "profile_image": "https://i.stack.imgur.com/4ZPmj.png?s=128&g=1", "display_name": "simbabque", "link": "https://stackoverflow.com/users/1331451/simbabque"}, "edited": false, "score": 0, "creation_date": 1473347121, "post_id": 39394269, "comment_id": 66114890, "body": "So essentially you have a list of precompiled regular expressions and you want to write code that returns true if all patterns matched the RHS of the smartmatch operator. If that&#39;s the case, please <a href=\"https://stackoverflow.com/posts/39394269/edit\">edit</a> your question and include that as well as sample input/output."}, {"owner": {"reputation": 50468, "user_id": 1331451, "user_type": "registered", "accept_rate": 96, "profile_image": "https://i.stack.imgur.com/4ZPmj.png?s=128&g=1", "display_name": "simbabque", "link": "https://stackoverflow.com/users/1331451/simbabque"}, "edited": false, "score": 1, "creation_date": 1473347863, "post_id": 39394269, "comment_id": 66115411, "body": "We should create a tag-synonym for <i>smart-matching</i> and <i>smartmatch</i>."}, {"owner": {"reputation": 21782, "user_id": 176646, "user_type": "registered", "accept_rate": 88, "profile_image": "https://i.stack.imgur.com/HsQyV.png?s=128&g=1", "display_name": "ThisSuitIsBlackNot", "link": "https://stackoverflow.com/users/176646/thissuitisblacknot"}, "reply_to_user": {"reputation": 50468, "user_id": 1331451, "user_type": "registered", "accept_rate": 96, "profile_image": "https://i.stack.imgur.com/4ZPmj.png?s=128&g=1", "display_name": "simbabque", "link": "https://stackoverflow.com/users/1331451/simbabque"}, "edited": false, "score": 0, "creation_date": 1473350197, "post_id": 39394269, "comment_id": 66116970, "body": "@simbabque If anything, smart-matching should be a synonym of smartmatch, since the <a href=\"http://perldoc.perl.org/perlop.html#Smartmatch-Operator\" rel=\"nofollow noreferrer\">name of the operator is smartmatch</a>. The only users who can <a href=\"http://stackoverflow.com/tags/smartmatch/synonyms\">propose and approve a synonym</a> are ikegami, Joel Berger, raina77ow, and Kenney (and they would <i>all</i> have to vote), unless you retag some existing questions or get +5 on your answer to this question. But is the tag even necessary in the first place? I don&#39;t think we need a tag for every operator in the language."}, {"owner": {"reputation": 50468, "user_id": 1331451, "user_type": "registered", "accept_rate": 96, "profile_image": "https://i.stack.imgur.com/4ZPmj.png?s=128&g=1", "display_name": "simbabque", "link": "https://stackoverflow.com/users/1331451/simbabque"}, "reply_to_user": {"reputation": 21782, "user_id": 176646, "user_type": "registered", "accept_rate": 88, "profile_image": "https://i.stack.imgur.com/HsQyV.png?s=128&g=1", "display_name": "ThisSuitIsBlackNot", "link": "https://stackoverflow.com/users/176646/thissuitisblacknot"}, "edited": false, "score": 0, "creation_date": 1473351904, "post_id": 39394269, "comment_id": 66117956, "body": "@this I agree with your order. But I am of two minds about the tag. It&#39;s a feature, not just an operator. And it&#39;s hard and weird and both tags have useful wikis. I am not sure. Maybe we should discuss it on meta, though the non Perl folk might have a different opinion alltogether."}, {"owner": {"reputation": 320771, "user_id": 589924, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/b2cf53d5a3d25f95c0db4e025aed4153?s=128&d=identicon&r=PG", "display_name": "ikegami", "link": "https://stackoverflow.com/users/589924/ikegami"}, "reply_to_user": {"reputation": 21782, "user_id": 176646, "user_type": "registered", "accept_rate": 88, "profile_image": "https://i.stack.imgur.com/HsQyV.png?s=128&g=1", "display_name": "ThisSuitIsBlackNot", "link": "https://stackoverflow.com/users/176646/thissuitisblacknot"}, "edited": false, "score": 0, "creation_date": 1473354097, "post_id": 39394269, "comment_id": 66119055, "body": "@ThisSuitIsBlackNot, What? Why me? All for it, though. // As for whether we need the tag or not, smartmatching is definitely special enough that it might be needed. I also forsee there being more questions on the topic after smartmatch is changed (in 5.26?)"}, {"owner": {"reputation": 21782, "user_id": 176646, "user_type": "registered", "accept_rate": 88, "profile_image": "https://i.stack.imgur.com/HsQyV.png?s=128&g=1", "display_name": "ThisSuitIsBlackNot", "link": "https://stackoverflow.com/users/176646/thissuitisblacknot"}, "reply_to_user": {"reputation": 320771, "user_id": 589924, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/b2cf53d5a3d25f95c0db4e025aed4153?s=128&d=identicon&r=PG", "display_name": "ikegami", "link": "https://stackoverflow.com/users/589924/ikegami"}, "edited": false, "score": 0, "creation_date": 1473354337, "post_id": 39394269, "comment_id": 66119165, "body": "@ikegami You need to have at least +5 score in a tag to propose/vote on synonyms. The synonym proposal system is pretty crummy though (there&#39;s still a suggestion from 2012 sitting in the queue!), so I just pinged a mod to see if they can do it."}, {"owner": {"reputation": 21782, "user_id": 176646, "user_type": "registered", "accept_rate": 88, "profile_image": "https://i.stack.imgur.com/HsQyV.png?s=128&g=1", "display_name": "ThisSuitIsBlackNot", "link": "https://stackoverflow.com/users/176646/thissuitisblacknot"}, "reply_to_user": {"reputation": 50468, "user_id": 1331451, "user_type": "registered", "accept_rate": 96, "profile_image": "https://i.stack.imgur.com/4ZPmj.png?s=128&g=1", "display_name": "simbabque", "link": "https://stackoverflow.com/users/1331451/simbabque"}, "edited": false, "score": 0, "creation_date": 1474568167, "post_id": 39394269, "comment_id": 66595594, "body": "@simbabque I was unable to track down a mod to make a synonym, even after <a href=\"http://meta.stackoverflow.com/q/334231/176646\">posting on Meta</a>, so I just re-tagged all of the <a href=\"https://stackoverflow.com/questions/tagged/smart-matching\">smart-matching</a> questions to <a href=\"https://stackoverflow.com/questions/tagged/smartmatch\">smartmatch</a>. I also suggested an edit to update the <a href=\"http://stackoverflow.com/review/suggested-edits/13763055\">tag wiki</a> and <a href=\"http://stackoverflow.com/review/suggested-edits/13763056\">wiki excerpt</a>, which were out of date and inaccurate. If you could take a look at my edits, I would be grateful."}, {"owner": {"reputation": 50468, "user_id": 1331451, "user_type": "registered", "accept_rate": 96, "profile_image": "https://i.stack.imgur.com/4ZPmj.png?s=128&g=1", "display_name": "simbabque", "link": "https://stackoverflow.com/users/1331451/simbabque"}, "reply_to_user": {"reputation": 21782, "user_id": 176646, "user_type": "registered", "accept_rate": 88, "profile_image": "https://i.stack.imgur.com/HsQyV.png?s=128&g=1", "display_name": "ThisSuitIsBlackNot", "link": "https://stackoverflow.com/users/176646/thissuitisblacknot"}, "edited": false, "score": 0, "creation_date": 1474568424, "post_id": 39394269, "comment_id": 66595736, "body": "@ThisSuitIsBlackNot nice. :)"}], "answers": [{"comments": [{"owner": {"reputation": 320771, "user_id": 589924, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/b2cf53d5a3d25f95c0db4e025aed4153?s=128&d=identicon&r=PG", "display_name": "ikegami", "link": "https://stackoverflow.com/users/589924/ikegami"}, "edited": false, "score": 4, "creation_date": 1473348897, "post_id": 39394580, "comment_id": 66116127, "body": "It&#39;s worth noting that one shouldn&#39;t be using smartmatch anyway. It is flagged as experimental, and it <i>will</i> be removed or changed without notice. (Sounds like this will happen in 5.26.)"}, {"owner": {"reputation": 50468, "user_id": 1331451, "user_type": "registered", "accept_rate": 96, "profile_image": "https://i.stack.imgur.com/4ZPmj.png?s=128&g=1", "display_name": "simbabque", "link": "https://stackoverflow.com/users/1331451/simbabque"}, "reply_to_user": {"reputation": 320771, "user_id": 589924, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/b2cf53d5a3d25f95c0db4e025aed4153?s=128&d=identicon&r=PG", "display_name": "ikegami", "link": "https://stackoverflow.com/users/589924/ikegami"}, "edited": false, "score": 0, "creation_date": 1473349256, "post_id": 39394580, "comment_id": 66116385, "body": "@ikegami Yes. I left that out of the answer on purpose because I was planning a comment like yours, but forgot."}, {"owner": {"reputation": 78982, "user_id": 1848654, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/84180c0f3c9c04f8b8f0613fc0129dac?s=128&d=identicon&r=PG", "display_name": "melpomene", "link": "https://stackoverflow.com/users/1848654/melpomene"}, "edited": false, "score": 1, "creation_date": 1474307909, "post_id": 39394580, "comment_id": 66468537, "body": "<a href=\"https://metacpan.org/pod/List::Util#all\" rel=\"nofollow noreferrer\">List::Util</a> also has <code>all</code> nowadays, so you don&#39;t even need List::MoreUtils."}], "tags": [], "owner": {"reputation": 50468, "user_id": 1331451, "user_type": "registered", "accept_rate": 96, "profile_image": "https://i.stack.imgur.com/4ZPmj.png?s=128&g=1", "display_name": "simbabque", "link": "https://stackoverflow.com/users/1331451/simbabque"}, "is_accepted": true, "score": 2, "last_activity_date": 1473347585, "creation_date": 1473347585, "answer_id": 39394580, "question_id": 39394269, "link": "https://stackoverflow.com/questions/39394269/how-can-i-check-that-a-string-matches-all-patterns-in-an-array-using-smartmatch/39394580#39394580", "title": "How can I check that a string matches all patterns in an array using smartmatch?", "body": "<p>The smartmatch operator does not support that. You'll have to build it yourself. <a href=\"https://v1.metacpan.org/pod/List::MoreUtils\" rel=\"nofollow\">List::MoreUtils</a>' <a href=\"https://v1.metacpan.org/pod/List::MoreUtils#all-BLOCK-LIST\" rel=\"nofollow\"><code>all</code></a> seems great to do that.</p>\n\n<pre><code>use strict;\nuse warnings 'all';\nuse feature 'say';\nuse List::MoreUtils 'all';\n\nmy @matches = (\n    qr/foo/,\n    qr/ooo/,\n    qr/bar/,\n    qr/asdf/,\n);\n\nmy $string = 'fooooobar';\nsay $string if all { $string =~ $_ } @matches;\n</code></pre>\n\n<p>This gives no output.</p>\n\n<p>If you change <code>$string</code> to <code>'fooooobarasdf'</code> it will output the string.</p>\n"}], "owner": {"reputation": 657, "user_id": 5778212, "user_type": "registered", "accept_rate": 100, "profile_image": "https://i.stack.imgur.com/5zo0T.png?s=128&g=1", "display_name": "Starfish", "link": "https://stackoverflow.com/users/5778212/starfish"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 77, "favorite_count": 0, "accepted_answer_id": 39394580, "answer_count": 1, "score": 4, "last_activity_date": 1474307343, "creation_date": 1473346761, "last_edit_date": 1495540459, "question_id": 39394269, "link": "https://stackoverflow.com/questions/39394269/how-can-i-check-that-a-string-matches-all-patterns-in-an-array-using-smartmatch", "title": "How can I check that a string matches all patterns in an array using smartmatch?", "body": "<p>I want to check that a string matches multiple regex patterns. I came across a <a href=\"https://stackoverflow.com/questions/5168311/how-to-check-for-multiple-pattern-matching-in-perl\">related question</a>, which Brad Gilbert <a href=\"https://stackoverflow.com/a/5168848\">answered</a> using the smartmatch operator:</p>\n\n<pre><code>my @matches = (\n  qr/.*\\.so$/,\n  qr/.*_mdb\\.v$/,\n  qr/.*daidir/,\n  qr/\\.__solver_cache__/,\n  qr/csrc/,\n  qr/csrc\\.vmc/,\n  qr/gensimv/,\n);\n\nif( $_ ~~ @matches ){\n  ...\n}\n</code></pre>\n\n<p>The <code>if</code> statement is entered if any of the patterns match, but I want to check that <em>all</em> of the patterns match. How can I do this?</p>\n"}, {"tags": ["perl", "terminal", "ansi"], "comments": [{"owner": {"reputation": 930, "user_id": 6594367, "user_type": "registered", "accept_rate": 93, "profile_image": "https://www.gravatar.com/avatar/03c046cae270605c2376680482e52f6d?s=128&d=identicon&r=PG&f=1", "display_name": "John Doe", "link": "https://stackoverflow.com/users/6594367/john-doe"}, "edited": false, "score": 1, "creation_date": 1473345219, "post_id": 39393272, "comment_id": 66113517, "body": "Fill the lines with spaces? :D"}], "answers": [{"tags": [], "owner": {"reputation": 50468, "user_id": 1331451, "user_type": "registered", "accept_rate": 96, "profile_image": "https://i.stack.imgur.com/4ZPmj.png?s=128&g=1", "display_name": "simbabque", "link": "https://stackoverflow.com/users/1331451/simbabque"}, "is_accepted": true, "score": 4, "last_activity_date": 1473345638, "creation_date": 1473345638, "answer_id": 39393868, "question_id": 39393272, "link": "https://stackoverflow.com/questions/39393272/using-perl-ansi-color-to-color-entire-screen/39393868#39393868", "title": "Using Perl Ansi color to color entire screen", "body": "<p>My solution uses <a href=\"https://p3rl.org/Term::Size::Any\" rel=\"nofollow noreferrer\">Term::Size::Any</a> to figure out how big the terminal is, and <a href=\"https://p3rl.org/Text::Tabs\" rel=\"nofollow noreferrer\">Text::Tabs</a> to convert the <code>\\t</code>s into spaces. We need to do that because a tabulator is only one character wide, but gets converted to 4, or 8 or whatever number of spaces when printed out.</p>\n\n<pre><code>use strict;\nuse warnings;\nuse Term::Size::Any 'chars';\nuse Term::ANSIColor;\nuse Text::Tabs 'expand';\n\nmy ($columns, $rows) = chars;\n\nsub full_background {\n    my ($text) = @_;\n\n    chomp $text;\n    return sprintf(qq{%-${columns}s}, expand($text)) . \"\\n\";\n}\n\nprint color('bold blue on_white'), full_background( \"\\tnr\\tisiNdebele\\n\" );\nprint colored ['bold blue on_red'], full_background( \"\\tnso\\tSepedi\\n\" );\n</code></pre>\n\n<p>Here's what it looks like.</p>\n\n<p><a href=\"https://i.stack.imgur.com/MJ3c3.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/MJ3c3.png\" alt=\"enter image description here\"></a></p>\n"}], "owner": {"reputation": 103, "user_id": 4243415, "user_type": "registered", "accept_rate": 60, "profile_image": "https://www.gravatar.com/avatar/06923f66ed3d0eb7b889b5a8d294d06d?s=128&d=identicon&r=PG&f=1", "display_name": "amateurjustin", "link": "https://stackoverflow.com/users/4243415/amateurjustin"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 462, "favorite_count": 1, "accepted_answer_id": 39393868, "answer_count": 1, "score": 4, "last_activity_date": 1473345638, "creation_date": 1473344012, "question_id": 39393272, "link": "https://stackoverflow.com/questions/39393272/using-perl-ansi-color-to-color-entire-screen", "title": "Using Perl Ansi color to color entire screen", "body": "<p>I'm using Term::ANSIColor along with Win32::Console::ANSI in Windows.\nI often use colored printing in my scripts to highlight some key info or whatever.</p>\n\n<p>For the first time though, I'v tried something that works, but not quite how I would want it to.</p>\n\n<p>What it looks like when I print on grey/white background:</p>\n\n<p><a href=\"https://i.stack.imgur.com/wEvCa.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/wEvCa.png\" alt=\"What it looks like\"></a></p>\n\n<p>And what I want is (edited to look the way I want it to print):</p>\n\n<p><a href=\"https://i.stack.imgur.com/POQFx.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/POQFx.png\" alt=\"What it should look like\"></a></p>\n\n<p>Thus I'm wondering if anyone knows how to go about ANSI escape sequences. Ho do I fill the entire piece that I'm printing on with a color and not just to the newline.</p>\n\n<p>Also, here is my script (two ways I tried):</p>\n\n<pre><code>print color('bold blue on_white'), \"\\tnr\\tisiNdebele\\n\";\nprint colored ['bold blue on_white'], \"\\tnso\\tSepedi\\n\";\n</code></pre>\n\n<p>This isn't a major issue. I'm just wondering if someone knows how I can achieve this.</p>\n"}, {"tags": ["perl", "encoding", "utf-8", "foswiki"], "answers": [{"tags": [], "owner": {"reputation": 31, "user_id": 6856496, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/73dcd5a43cf1d1dfbd1101259a793f1b?s=128&d=identicon&r=PG", "display_name": "BvO", "link": "https://stackoverflow.com/users/6856496/bvo"}, "is_accepted": false, "score": 0, "last_activity_date": 1474433776, "creation_date": 1474433776, "answer_id": 39607842, "question_id": 39391470, "link": "https://stackoverflow.com/questions/39391470/perl-encoding-wrong-when-in-foswiki/39607842#39607842", "title": "perl encoding wrong when in Foswiki", "body": "<p>This appears to be related to support question 1817 <a href=\"http://foswiki.org/Support/Question1817\" rel=\"nofollow\">http://foswiki.org/Support/Question1817</a>. </p>\n\n<p>I have no experience with the utf-8 support in Foswiki and don't know anyone who would have.</p>\n\n<p>Suggest you post your question on Foswiki-discuss@lists.sourceforge.net. \nAnd state:</p>\n\n<ul>\n<li>Foswiki version</li>\n<li>perl version</li>\n<li>apache version</li>\n<li>operating system</li>\n</ul>\n\n<p>It may get circulated to someone with the right skills. </p>\n"}], "owner": {"reputation": 1461, "user_id": 3913991, "user_type": "registered", "accept_rate": 80, "profile_image": "https://www.gravatar.com/avatar/911bddca1764453d14029d9718033efa?s=128&d=identicon&r=PG&f=1", "display_name": "demonguy", "link": "https://stackoverflow.com/users/3913991/demonguy"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 39, "favorite_count": 0, "answer_count": 1, "score": 0, "last_activity_date": 1474433776, "creation_date": 1473339097, "question_id": 39391470, "link": "https://stackoverflow.com/questions/39391470/perl-encoding-wrong-when-in-foswiki", "title": "perl encoding wrong when in Foswiki", "body": "<p>I'm using Foswiki and met really weird problem. I'm using LDAP server to authenticate people, and found entries with Chinese is encoded to utf-8 even if it's already utf-8. Here is what i did</p>\n\n<ol>\n<li>I run this test codes in commandline, and gets the right output</li>\n</ol>\n\n<blockquote>\n  <p>$str = \"\u7a0b\u6d0b\" #they're chinese words  print STDERR \"string is $str\"; </p>\n  \n  <p>$str =~ s/(.)/sprintf(\"0x%x \",ord($1))/eg;</p>\n  \n  <p>print STDERR \"string hex is $str\";</p>\n</blockquote>\n\n<pre><code>-&gt;\u7a0b\u6d0b\n-&gt;0xe7 0xa8 0x8b 0xe6 0xb4 0x8\n</code></pre>\n\n<p>I can't using <code>code sample</code> on these codes, seems that the string expression confuse the markdown system.sorry for that.</p>\n\n<ol start=\"2\">\n<li>I run the same codes in Foswiki plugin system which is held by apache2,  in this environment, <code>print STDERR</code> will automatically redirect into /var/log/apache2/error.log, this time i get such output\n<code>\n-&gt;\\xc3\\xa7\\xc2\\xa8\\xc2\\x8b\\xc3\\xa6\\xc2\\xb4\\xc2\\x8b\n-&gt;0xe7 0xa8 0x8b 0xe6 0xb4 0x8b\n</code></li>\n</ol>\n\n<p>As you can see, the words are escaped into url-like string, if it's <code>0xe7\\xa8\\x8b\\xe6\\xb4\\x8b</code> Then i think it's alright, but they're encoded to utf-8 again even if it's already utf-8, but the hex is still OK. It not only happened to <code>print</code>, things on web page will also shows like this and result in mess codes of any Chinese words, why?</p>\n"}]